var bxe=Object.defineProperty;var Oxe=(t,e,r)=>e in t?bxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Il=(t,e,r)=>(Oxe(t,typeof e!="symbol"?e+"":e,r),r),xxe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var are=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};var Nz=(t,e,r)=>(xxe(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(i){if(i.ep)return;i.ep=!0;const d=r(i);fetch(i.href,d)}})();function Kme(t,e){return function(){return t.apply(e,arguments)}}const{toString:Sxe}=Object.prototype,{getPrototypeOf:aae}=Object,XH=(t=>e=>{const r=Sxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ty=t=>(t=t.toLowerCase(),e=>XH(e)===t),GH=t=>e=>typeof e===t,{isArray:yM}=Array,HD=GH("undefined");function wxe(t){return t!==null&&!HD(t)&&t.constructor!==null&&!HD(t.constructor)&&wp(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jme=ty("ArrayBuffer");function Txe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Jme(t.buffer),e}const Cxe=GH("string"),wp=GH("function"),ege=GH("number"),jH=t=>t!==null&&typeof t=="object",kxe=t=>t===!0||t===!1,TZ=t=>{if(XH(t)!=="object")return!1;const e=aae(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Axe=ty("Date"),Pxe=ty("File"),Mxe=ty("Blob"),Exe=ty("FileList"),_xe=t=>jH(t)&&wp(t.pipe),Rxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||wp(t.append)&&((e=XH(t))==="formdata"||e==="object"&&wp(t.toString)&&t.toString()==="[object FormData]"))},Dxe=ty("URLSearchParams"),$xe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M$(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),yM(t))for(a=0,i=t.length;a<i;a++)e.call(null,t[a],a,t);else{const d=r?Object.getOwnPropertyNames(t):Object.keys(t),f=d.length;let h;for(a=0;a<f;a++)h=d[a],e.call(null,t[h],h,t)}}function tge(t,e){e=e.toLowerCase();const r=Object.keys(t);let a=r.length,i;for(;a-- >0;)if(i=r[a],e===i.toLowerCase())return i;return null}const nge=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),rge=t=>!HD(t)&&t!==nge;function poe(){const{caseless:t}=rge(this)&&this||{},e={},r=(a,i)=>{const d=t&&tge(e,i)||i;TZ(e[d])&&TZ(a)?e[d]=poe(e[d],a):TZ(a)?e[d]=poe({},a):yM(a)?e[d]=a.slice():e[d]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&M$(arguments[a],r);return e}const Lxe=(t,e,r,{allOwnKeys:a}={})=>(M$(e,(i,d)=>{r&&wp(i)?t[d]=Kme(i,r):t[d]=i},{allOwnKeys:a}),t),Ixe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Nxe=(t,e,r,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Bxe=(t,e,r,a)=>{let i,d,f;const h={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),d=i.length;d-- >0;)f=i[d],(!a||a(f,t,e))&&!h[f]&&(e[f]=t[f],h[f]=!0);t=r!==!1&&aae(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Qxe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const a=t.indexOf(e,r);return a!==-1&&a===r},Fxe=t=>{if(!t)return null;if(yM(t))return t;let e=t.length;if(!ege(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Vxe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&aae(Uint8Array)),zxe=(t,e)=>{const a=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=a.next())&&!i.done;){const d=i.value;e.call(t,d[0],d[1])}},Zxe=(t,e)=>{let r;const a=[];for(;(r=t.exec(e))!==null;)a.push(r);return a},Hxe=ty("HTMLFormElement"),Uxe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),Kce=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Wxe=ty("RegExp"),oge=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),a={};M$(r,(i,d)=>{let f;(f=e(i,d,t))!==!1&&(a[d]=f||i)}),Object.defineProperties(t,a)},Yxe=t=>{oge(t,(e,r)=>{if(wp(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(wp(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Xxe=(t,e)=>{const r={},a=i=>{i.forEach(d=>{r[d]=!0})};return yM(t)?a(t):a(String(t).split(e)),r},Gxe=()=>{},jxe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ire="abcdefghijklmnopqrstuvwxyz",Jce="0123456789",sge={DIGIT:Jce,ALPHA:ire,ALPHA_DIGIT:ire+ire.toUpperCase()+Jce},qxe=(t=16,e=sge.ALPHA_DIGIT)=>{let r="";const{length:a}=e;for(;t--;)r+=e[Math.random()*a|0];return r};function Kxe(t){return!!(t&&wp(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Jxe=t=>{const e=new Array(10),r=(a,i)=>{if(jH(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[i]=a;const d=yM(a)?[]:{};return M$(a,(f,h)=>{const u=r(f,i+1);!HD(u)&&(d[h]=u)}),e[i]=void 0,d}}return a};return r(t,0)},e2e=ty("AsyncFunction"),t2e=t=>t&&(jH(t)||wp(t))&&wp(t.then)&&wp(t.catch),Nr={isArray:yM,isArrayBuffer:Jme,isBuffer:wxe,isFormData:Rxe,isArrayBufferView:Txe,isString:Cxe,isNumber:ege,isBoolean:kxe,isObject:jH,isPlainObject:TZ,isUndefined:HD,isDate:Axe,isFile:Pxe,isBlob:Mxe,isRegExp:Wxe,isFunction:wp,isStream:_xe,isURLSearchParams:Dxe,isTypedArray:Vxe,isFileList:Exe,forEach:M$,merge:poe,extend:Lxe,trim:$xe,stripBOM:Ixe,inherits:Nxe,toFlatObject:Bxe,kindOf:XH,kindOfTest:ty,endsWith:Qxe,toArray:Fxe,forEachEntry:zxe,matchAll:Zxe,isHTMLForm:Hxe,hasOwnProperty:Kce,hasOwnProp:Kce,reduceDescriptors:oge,freezeMethods:Yxe,toObjectSet:Xxe,toCamelCase:Uxe,noop:Gxe,toFiniteNumber:jxe,findKey:tge,global:nge,isContextDefined:rge,ALPHABET:sge,generateString:qxe,isSpecCompliantForm:Kxe,toJSONObject:Jxe,isAsyncFn:e2e,isThenable:t2e};function si(t,e,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i)}Nr.inherits(si,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Nr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const age=si.prototype,ige={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ige[t]={value:t}});Object.defineProperties(si,ige);Object.defineProperty(age,"isAxiosError",{value:!0});si.from=(t,e,r,a,i,d)=>{const f=Object.create(age);return Nr.toFlatObject(t,f,function(u){return u!==Error.prototype},h=>h!=="isAxiosError"),si.call(f,t.message,e,r,a,i),f.cause=t,f.name=t.name,d&&Object.assign(f,d),f};const n2e=null;function voe(t){return Nr.isPlainObject(t)||Nr.isArray(t)}function lge(t){return Nr.endsWith(t,"[]")?t.slice(0,-2):t}function eue(t,e,r){return t?t.concat(e).map(function(i,d){return i=lge(i),!r&&d?"["+i+"]":i}).join(r?".":""):e}function r2e(t){return Nr.isArray(t)&&!t.some(voe)}const o2e=Nr.toFlatObject(Nr,{},null,function(e){return/^is[A-Z]/.test(e)});function qH(t,e,r){if(!Nr.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Nr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,w){return!Nr.isUndefined(w[C])});const a=r.metaTokens,i=r.visitor||v,d=r.dots,f=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Nr.isSpecCompliantForm(e);if(!Nr.isFunction(i))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(Nr.isDate(k))return k.toISOString();if(!u&&Nr.isBlob(k))throw new si("Blob is not supported. Use a Buffer instead.");return Nr.isArrayBuffer(k)||Nr.isTypedArray(k)?u&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function v(k,C,w){let T=k;if(k&&!w&&typeof k=="object"){if(Nr.endsWith(C,"{}"))C=a?C:C.slice(0,-2),k=JSON.stringify(k);else if(Nr.isArray(k)&&r2e(k)||(Nr.isFileList(k)||Nr.endsWith(C,"[]"))&&(T=Nr.toArray(k)))return C=lge(C),T.forEach(function(M,I){!(Nr.isUndefined(M)||M===null)&&e.append(f===!0?eue([C],I,d):f===null?C:C+"[]",p(M))}),!1}return voe(k)?!0:(e.append(eue(w,C,d),p(k)),!1)}const y=[],b=Object.assign(o2e,{defaultVisitor:v,convertValue:p,isVisitable:voe});function x(k,C){if(!Nr.isUndefined(k)){if(y.indexOf(k)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(k),Nr.forEach(k,function(T,R){(!(Nr.isUndefined(T)||T===null)&&i.call(e,T,Nr.isString(R)?R.trim():R,C,b))===!0&&x(T,C?C.concat(R):[R])}),y.pop()}}if(!Nr.isObject(t))throw new TypeError("data must be an object");return x(t),e}function tue(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function iae(t,e){this._pairs=[],t&&qH(t,this,e)}const cge=iae.prototype;cge.append=function(e,r){this._pairs.push([e,r])};cge.toString=function(e){const r=e?function(a){return e.call(this,a,tue)}:tue;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function s2e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uge(t,e,r){if(!e)return t;const a=r&&r.encode||s2e,i=r&&r.serialize;let d;if(i?d=i(e,r):d=Nr.isURLSearchParams(e)?e.toString():new iae(e,r).toString(a),d){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class a2e{constructor(){this.handlers=[]}use(e,r,a){return this.handlers.push({fulfilled:e,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Nr.forEach(this.handlers,function(a){a!==null&&e(a)})}}const nue=a2e,fge={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i2e=typeof URLSearchParams<"u"?URLSearchParams:iae,l2e=typeof FormData<"u"?FormData:null,c2e=typeof Blob<"u"?Blob:null,u2e={isBrowser:!0,classes:{URLSearchParams:i2e,FormData:l2e,Blob:c2e},protocols:["http","https","file","blob","url","data"]},dge=typeof window<"u"&&typeof document<"u",f2e=(t=>dge&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),d2e=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),h2e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dge,hasStandardBrowserEnv:f2e,hasStandardBrowserWebWorkerEnv:d2e},Symbol.toStringTag,{value:"Module"})),Z1={...h2e,...u2e};function m2e(t,e){return qH(t,new Z1.classes.URLSearchParams,Object.assign({visitor:function(r,a,i,d){return Z1.isNode&&Nr.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},e))}function g2e(t){return Nr.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function p2e(t){const e={},r=Object.keys(t);let a;const i=r.length;let d;for(a=0;a<i;a++)d=r[a],e[d]=t[d];return e}function hge(t){function e(r,a,i,d){let f=r[d++];const h=Number.isFinite(+f),u=d>=r.length;return f=!f&&Nr.isArray(i)?i.length:f,u?(Nr.hasOwnProp(i,f)?i[f]=[i[f],a]:i[f]=a,!h):((!i[f]||!Nr.isObject(i[f]))&&(i[f]=[]),e(r,a,i[f],d)&&Nr.isArray(i[f])&&(i[f]=p2e(i[f])),!h)}if(Nr.isFormData(t)&&Nr.isFunction(t.entries)){const r={};return Nr.forEachEntry(t,(a,i)=>{e(g2e(a),i,r,0)}),r}return null}function v2e(t,e,r){if(Nr.isString(t))try{return(e||JSON.parse)(t),Nr.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const lae={transitional:fge,adapter:["xhr","http"],transformRequest:[function(e,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,d=Nr.isObject(e);if(d&&Nr.isHTMLForm(e)&&(e=new FormData(e)),Nr.isFormData(e))return i&&i?JSON.stringify(hge(e)):e;if(Nr.isArrayBuffer(e)||Nr.isBuffer(e)||Nr.isStream(e)||Nr.isFile(e)||Nr.isBlob(e))return e;if(Nr.isArrayBufferView(e))return e.buffer;if(Nr.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return m2e(e,this.formSerializer).toString();if((h=Nr.isFileList(e))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return qH(h?{"files[]":e}:e,u&&new u,this.formSerializer)}}return d||i?(r.setContentType("application/json",!1),v2e(e)):e}],transformResponse:[function(e){const r=this.transitional||lae.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Nr.isString(e)&&(a&&!this.responseType||i)){const f=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(f)throw h.name==="SyntaxError"?si.from(h,si.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Z1.classes.FormData,Blob:Z1.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Nr.forEach(["delete","get","head","post","put","patch"],t=>{lae.headers[t]={}});const cae=lae,y2e=Nr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b2e=t=>{const e={};let r,a,i;return t&&t.split(`
`).forEach(function(f){i=f.indexOf(":"),r=f.substring(0,i).trim().toLowerCase(),a=f.substring(i+1).trim(),!(!r||e[r]&&y2e[r])&&(r==="set-cookie"?e[r]?e[r].push(a):e[r]=[a]:e[r]=e[r]?e[r]+", "+a:a)}),e},rue=Symbol("internals");function iD(t){return t&&String(t).trim().toLowerCase()}function CZ(t){return t===!1||t==null?t:Nr.isArray(t)?t.map(CZ):String(t)}function O2e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)e[a[1]]=a[2];return e}const x2e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lre(t,e,r,a,i){if(Nr.isFunction(a))return a.call(this,e,r);if(i&&(e=r),!!Nr.isString(e)){if(Nr.isString(a))return e.indexOf(a)!==-1;if(Nr.isRegExp(a))return a.test(e)}}function S2e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,a)=>r.toUpperCase()+a)}function w2e(t,e){const r=Nr.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(i,d,f){return this[a].call(this,e,i,d,f)},configurable:!0})})}class KH{constructor(e){e&&this.set(e)}set(e,r,a){const i=this;function d(h,u,p){const v=iD(u);if(!v)throw new Error("header name must be a non-empty string");const y=Nr.findKey(i,v);(!y||i[y]===void 0||p===!0||p===void 0&&i[y]!==!1)&&(i[y||u]=CZ(h))}const f=(h,u)=>Nr.forEach(h,(p,v)=>d(p,v,u));return Nr.isPlainObject(e)||e instanceof this.constructor?f(e,r):Nr.isString(e)&&(e=e.trim())&&!x2e(e)?f(b2e(e),r):e!=null&&d(r,e,a),this}get(e,r){if(e=iD(e),e){const a=Nr.findKey(this,e);if(a){const i=this[a];if(!r)return i;if(r===!0)return O2e(i);if(Nr.isFunction(r))return r.call(this,i,a);if(Nr.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=iD(e),e){const a=Nr.findKey(this,e);return!!(a&&this[a]!==void 0&&(!r||lre(this,this[a],a,r)))}return!1}delete(e,r){const a=this;let i=!1;function d(f){if(f=iD(f),f){const h=Nr.findKey(a,f);h&&(!r||lre(a,a[h],h,r))&&(delete a[h],i=!0)}}return Nr.isArray(e)?e.forEach(d):d(e),i}clear(e){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const d=r[a];(!e||lre(this,this[d],d,e,!0))&&(delete this[d],i=!0)}return i}normalize(e){const r=this,a={};return Nr.forEach(this,(i,d)=>{const f=Nr.findKey(a,d);if(f){r[f]=CZ(i),delete r[d];return}const h=e?S2e(d):String(d).trim();h!==d&&delete r[d],r[h]=CZ(i),a[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Nr.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=e&&Nr.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const a=new this(e);return r.forEach(i=>a.set(i)),a}static accessor(e){const a=(this[rue]=this[rue]={accessors:{}}).accessors,i=this.prototype;function d(f){const h=iD(f);a[h]||(w2e(i,f),a[h]=!0)}return Nr.isArray(e)?e.forEach(d):d(e),this}}KH.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Nr.reduceDescriptors(KH.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[r]=a}}});Nr.freezeMethods(KH);const hO=KH;function cre(t,e){const r=this||cae,a=e||r,i=hO.from(a.headers);let d=a.data;return Nr.forEach(t,function(h){d=h.call(r,d,i.normalize(),e?e.status:void 0)}),i.normalize(),d}function mge(t){return!!(t&&t.__CANCEL__)}function E$(t,e,r){si.call(this,t??"canceled",si.ERR_CANCELED,e,r),this.name="CanceledError"}Nr.inherits(E$,si,{__CANCEL__:!0});function T2e(t,e,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):e(new si("Request failed with status code "+r.status,[si.ERR_BAD_REQUEST,si.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const C2e=Z1.hasStandardBrowserEnv?{write(t,e,r,a,i,d){const f=[t+"="+encodeURIComponent(e)];Nr.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),Nr.isString(a)&&f.push("path="+a),Nr.isString(i)&&f.push("domain="+i),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k2e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function A2e(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function gge(t,e){return t&&!k2e(e)?A2e(t,e):e}const P2e=Z1.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let a;function i(d){let f=d;return e&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return a=i(window.location.href),function(f){const h=Nr.isString(f)?i(f):f;return h.protocol===a.protocol&&h.host===a.host}}():function(){return function(){return!0}}();function M2e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function E2e(t,e){t=t||10;const r=new Array(t),a=new Array(t);let i=0,d=0,f;return e=e!==void 0?e:1e3,function(u){const p=Date.now(),v=a[d];f||(f=p),r[i]=u,a[i]=p;let y=d,b=0;for(;y!==i;)b+=r[y++],y=y%t;if(i=(i+1)%t,i===d&&(d=(d+1)%t),p-f<e)return;const x=v&&p-v;return x?Math.round(b*1e3/x):void 0}}function oue(t,e){let r=0;const a=E2e(50,250);return i=>{const d=i.loaded,f=i.lengthComputable?i.total:void 0,h=d-r,u=a(h),p=d<=f;r=d;const v={loaded:d,total:f,progress:f?d/f:void 0,bytes:h,rate:u||void 0,estimated:u&&f&&p?(f-d)/u:void 0,event:i};v[e?"download":"upload"]=!0,t(v)}}const _2e=typeof XMLHttpRequest<"u",R2e=_2e&&function(t){return new Promise(function(r,a){let i=t.data;const d=hO.from(t.headers).normalize();let{responseType:f,withXSRFToken:h}=t,u;function p(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let v;if(Nr.isFormData(i)){if(Z1.hasStandardBrowserEnv||Z1.hasStandardBrowserWebWorkerEnv)d.setContentType(!1);else if((v=d.getContentType())!==!1){const[C,...w]=v?v.split(";").map(T=>T.trim()).filter(Boolean):[];d.setContentType([C||"multipart/form-data",...w].join("; "))}}let y=new XMLHttpRequest;if(t.auth){const C=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.set("Authorization","Basic "+btoa(C+":"+w))}const b=gge(t.baseURL,t.url);y.open(t.method.toUpperCase(),uge(b,t.params,t.paramsSerializer),!0),y.timeout=t.timeout;function x(){if(!y)return;const C=hO.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!f||f==="text"||f==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:t,request:y};T2e(function(M){r(M),p()},function(M){a(M),p()},T),y=null}if("onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(a(new si("Request aborted",si.ECONNABORTED,t,y)),y=null)},y.onerror=function(){a(new si("Network Error",si.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const T=t.transitional||fge;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),a(new si(w,T.clarifyTimeoutError?si.ETIMEDOUT:si.ECONNABORTED,t,y)),y=null},Z1.hasStandardBrowserEnv&&(h&&Nr.isFunction(h)&&(h=h(t)),h||h!==!1&&P2e(b))){const C=t.xsrfHeaderName&&t.xsrfCookieName&&C2e.read(t.xsrfCookieName);C&&d.set(t.xsrfHeaderName,C)}i===void 0&&d.setContentType(null),"setRequestHeader"in y&&Nr.forEach(d.toJSON(),function(w,T){y.setRequestHeader(T,w)}),Nr.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),f&&f!=="json"&&(y.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&y.addEventListener("progress",oue(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",oue(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=C=>{y&&(a(!C||C.type?new E$(null,t,y):C),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const k=M2e(b);if(k&&Z1.protocols.indexOf(k)===-1){a(new si("Unsupported protocol "+k+":",si.ERR_BAD_REQUEST,t));return}y.send(i||null)})},yoe={http:n2e,xhr:R2e};Nr.forEach(yoe,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sue=t=>`- ${t}`,D2e=t=>Nr.isFunction(t)||t===null||t===!1,pge={getAdapter:t=>{t=Nr.isArray(t)?t:[t];const{length:e}=t;let r,a;const i={};for(let d=0;d<e;d++){r=t[d];let f;if(a=r,!D2e(r)&&(a=yoe[(f=String(r)).toLowerCase()],a===void 0))throw new si(`Unknown adapter '${f}'`);if(a)break;i[f||"#"+d]=a}if(!a){const d=Object.entries(i).map(([h,u])=>`adapter ${h} `+(u===!1?"is not supported by the environment":"is not available in the build"));let f=e?d.length>1?`since :
`+d.map(sue).join(`
`):" "+sue(d[0]):"as no adapter specified";throw new si("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:yoe};function ure(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new E$(null,t)}function aue(t){return ure(t),t.headers=hO.from(t.headers),t.data=cre.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pge.getAdapter(t.adapter||cae.adapter)(t).then(function(a){return ure(t),a.data=cre.call(t,t.transformResponse,a),a.headers=hO.from(a.headers),a},function(a){return mge(a)||(ure(t),a&&a.response&&(a.response.data=cre.call(t,t.transformResponse,a.response),a.response.headers=hO.from(a.response.headers))),Promise.reject(a)})}const iue=t=>t instanceof hO?t.toJSON():t;function tM(t,e){e=e||{};const r={};function a(p,v,y){return Nr.isPlainObject(p)&&Nr.isPlainObject(v)?Nr.merge.call({caseless:y},p,v):Nr.isPlainObject(v)?Nr.merge({},v):Nr.isArray(v)?v.slice():v}function i(p,v,y){if(Nr.isUndefined(v)){if(!Nr.isUndefined(p))return a(void 0,p,y)}else return a(p,v,y)}function d(p,v){if(!Nr.isUndefined(v))return a(void 0,v)}function f(p,v){if(Nr.isUndefined(v)){if(!Nr.isUndefined(p))return a(void 0,p)}else return a(void 0,v)}function h(p,v,y){if(y in e)return a(p,v);if(y in t)return a(void 0,p)}const u={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(p,v)=>i(iue(p),iue(v),!0)};return Nr.forEach(Object.keys(Object.assign({},t,e)),function(v){const y=u[v]||i,b=y(t[v],e[v],v);Nr.isUndefined(b)&&y!==h||(r[v]=b)}),r}const vge="1.6.2",uae={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uae[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const lue={};uae.transitional=function(e,r,a){function i(d,f){return"[Axios v"+vge+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,h)=>{if(e===!1)throw new si(i(f," has been removed"+(r?" in "+r:"")),si.ERR_DEPRECATED);return r&&!lue[f]&&(lue[f]=!0,console.warn(i(f," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(d,f,h):!0}};function $2e(t,e,r){if(typeof t!="object")throw new si("options must be an object",si.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const d=a[i],f=e[d];if(f){const h=t[d],u=h===void 0||f(h,d,t);if(u!==!0)throw new si("option "+d+" must be "+u,si.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new si("Unknown option "+d,si.ERR_BAD_OPTION)}}const boe={assertOptions:$2e,validators:uae},tS=boe.validators;class XZ{constructor(e){this.defaults=e,this.interceptors={request:new nue,response:new nue}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=tM(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:d}=r;a!==void 0&&boe.assertOptions(a,{silentJSONParsing:tS.transitional(tS.boolean),forcedJSONParsing:tS.transitional(tS.boolean),clarifyTimeoutError:tS.transitional(tS.boolean)},!1),i!=null&&(Nr.isFunction(i)?r.paramsSerializer={serialize:i}:boe.assertOptions(i,{encode:tS.function,serialize:tS.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=d&&Nr.merge(d.common,d[r.method]);d&&Nr.forEach(["delete","get","head","post","put","patch","common"],k=>{delete d[k]}),r.headers=hO.concat(f,d);const h=[];let u=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(u=u&&C.synchronous,h.unshift(C.fulfilled,C.rejected))});const p=[];this.interceptors.response.forEach(function(C){p.push(C.fulfilled,C.rejected)});let v,y=0,b;if(!u){const k=[aue.bind(this),void 0];for(k.unshift.apply(k,h),k.push.apply(k,p),b=k.length,v=Promise.resolve(r);y<b;)v=v.then(k[y++],k[y++]);return v}b=h.length;let x=r;for(y=0;y<b;){const k=h[y++],C=h[y++];try{x=k(x)}catch(w){C.call(this,w);break}}try{v=aue.call(this,x)}catch(k){return Promise.reject(k)}for(y=0,b=p.length;y<b;)v=v.then(p[y++],p[y++]);return v}getUri(e){e=tM(this.defaults,e);const r=gge(e.baseURL,e.url);return uge(r,e.params,e.paramsSerializer)}}Nr.forEach(["delete","get","head","options"],function(e){XZ.prototype[e]=function(r,a){return this.request(tM(a||{},{method:e,url:r,data:(a||{}).data}))}});Nr.forEach(["post","put","patch"],function(e){function r(a){return function(d,f,h){return this.request(tM(h||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}XZ.prototype[e]=r(),XZ.prototype[e+"Form"]=r(!0)});const kZ=XZ;class fae{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(i=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](i);a._listeners=null}),this.promise.then=i=>{let d;const f=new Promise(h=>{a.subscribe(h),d=h}).then(i);return f.cancel=function(){a.unsubscribe(d)},f},e(function(d,f,h){a.reason||(a.reason=new E$(d,f,h),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new fae(function(i){e=i}),cancel:e}}}const L2e=fae;function I2e(t){return function(r){return t.apply(null,r)}}function N2e(t){return Nr.isObject(t)&&t.isAxiosError===!0}const Ooe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ooe).forEach(([t,e])=>{Ooe[e]=t});const B2e=Ooe;function yge(t){const e=new kZ(t),r=Kme(kZ.prototype.request,e);return Nr.extend(r,kZ.prototype,e,{allOwnKeys:!0}),Nr.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return yge(tM(t,i))},r}const vu=yge(cae);vu.Axios=kZ;vu.CanceledError=E$;vu.CancelToken=L2e;vu.isCancel=mge;vu.VERSION=vge;vu.toFormData=qH;vu.AxiosError=si;vu.Cancel=vu.CanceledError;vu.all=function(e){return Promise.all(e)};vu.spread=I2e;vu.isAxiosError=N2e;vu.mergeConfig=tM;vu.AxiosHeaders=hO;vu.formToJSON=t=>hge(Nr.isHTMLForm(t)?new FormData(t):t);vu.getAdapter=pge.getAdapter;vu.HttpStatusCode=B2e;vu.default=vu;const wD=vu;function dae(t,e){const r=Object.create(null),a=t.split(",");for(let i=0;i<a.length;i++)r[a[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const Bl={},zP=[],Bv=()=>{},Q2e=()=>!1,F2e=/^on[^a-z]/,JH=t=>F2e.test(t),hae=t=>t.startsWith("onUpdate:"),Jc=Object.assign,mae=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},V2e=Object.prototype.hasOwnProperty,mi=(t,e)=>V2e.call(t,e),Us=Array.isArray,ZP=t=>eU(t)==="[object Map]",bge=t=>eU(t)==="[object Set]",wa=t=>typeof t=="function",Bc=t=>typeof t=="string",gae=t=>typeof t=="symbol",Tl=t=>t!==null&&typeof t=="object",Oge=t=>Tl(t)&&wa(t.then)&&wa(t.catch),xge=Object.prototype.toString,eU=t=>xge.call(t),z2e=t=>eU(t).slice(8,-1),Sge=t=>eU(t)==="[object Object]",pae=t=>Bc(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,AZ=dae(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tU=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Z2e=/-(\w)/g,Pp=tU(t=>t.replace(Z2e,(e,r)=>r?r.toUpperCase():"")),H2e=/\B([A-Z])/g,bM=tU(t=>t.replace(H2e,"-$1").toLowerCase()),SO=tU(t=>t.charAt(0).toUpperCase()+t.slice(1)),H1=tU(t=>t?`on${SO(t)}`:""),UD=(t,e)=>!Object.is(t,e),PZ=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},GZ=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},xoe=t=>{const e=parseFloat(t);return isNaN(e)?t:e},U2e=t=>{const e=Bc(t)?Number(t):NaN;return isNaN(e)?t:e};let cue;const Soe=()=>cue||(cue=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nU(t){if(Us(t)){const e={};for(let r=0;r<t.length;r++){const a=t[r],i=Bc(a)?G2e(a):nU(a);if(i)for(const d in i)e[d]=i[d]}return e}else{if(Bc(t))return t;if(Tl(t))return t}}const W2e=/;(?![^(]*\))/g,Y2e=/:([^]+)/,X2e=/\/\*[^]*?\*\//g;function G2e(t){const e={};return t.replace(X2e,"").split(W2e).forEach(r=>{if(r){const a=r.split(Y2e);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function rU(t){let e="";if(Bc(t))e=t;else if(Us(t))for(let r=0;r<t.length;r++){const a=rU(t[r]);a&&(e+=a+" ")}else if(Tl(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const j2e="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",q2e=dae(j2e);function wge(t){return!!t||t===""}const yp=t=>Bc(t)?t:t==null?"":Us(t)||Tl(t)&&(t.toString===xge||!wa(t.toString))?JSON.stringify(t,Tge,2):String(t),Tge=(t,e)=>e&&e.__v_isRef?Tge(t,e.value):ZP(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[a,i])=>(r[`${a} =>`]=i,r),{})}:bge(e)?{[`Set(${e.size})`]:[...e.values()]}:Tl(e)&&!Us(e)&&!Sge(e)?String(e):e;let ng;class Cge{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ng,!e&&ng&&(this.index=(ng.scopes||(ng.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=ng;try{return ng=this,e()}finally{ng=r}}}on(){ng=this}off(){ng=this.parent}stop(e){if(this._active){let r,a;for(r=0,a=this.effects.length;r<a;r++)this.effects[r].stop();for(r=0,a=this.cleanups.length;r<a;r++)this.cleanups[r]();if(this.scopes)for(r=0,a=this.scopes.length;r<a;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function vae(t){return new Cge(t)}function K2e(t,e=ng){e&&e.active&&e.effects.push(t)}function J2e(){return ng}function om(t){ng&&ng.cleanups.push(t)}const yae=t=>{const e=new Set(t);return e.w=0,e.n=0,e},kge=t=>(t.w&bS)>0,Age=t=>(t.n&bS)>0,eSe=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=bS},tSe=t=>{const{deps:e}=t;if(e.length){let r=0;for(let a=0;a<e.length;a++){const i=e[a];kge(i)&&!Age(i)?i.delete(t):e[r++]=i,i.w&=~bS,i.n&=~bS}e.length=r}},jZ=new WeakMap;let TD=0,bS=1;const woe=30;let Lv;const PC=Symbol(""),Toe=Symbol("");class bae{constructor(e,r=null,a){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,K2e(this,a)}run(){if(!this.active)return this.fn();let e=Lv,r=mS;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Lv,Lv=this,mS=!0,bS=1<<++TD,TD<=woe?eSe(this):uue(this),this.fn()}finally{TD<=woe&&tSe(this),bS=1<<--TD,Lv=this.parent,mS=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Lv===this?this.deferStop=!0:this.active&&(uue(this),this.onStop&&this.onStop(),this.active=!1)}}function uue(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let mS=!0;const Pge=[];function OM(){Pge.push(mS),mS=!1}function xM(){const t=Pge.pop();mS=t===void 0?!0:t}function sm(t,e,r){if(mS&&Lv){let a=jZ.get(t);a||jZ.set(t,a=new Map);let i=a.get(r);i||a.set(r,i=yae()),Mge(i)}}function Mge(t,e){let r=!1;TD<=woe?Age(t)||(t.n|=bS,r=!kge(t)):r=!t.has(Lv),r&&(t.add(Lv),Lv.deps.push(t))}function gO(t,e,r,a,i,d){const f=jZ.get(t);if(!f)return;let h=[];if(e==="clear")h=[...f.values()];else if(r==="length"&&Us(t)){const u=Number(a);f.forEach((p,v)=>{(v==="length"||v>=u)&&h.push(p)})}else switch(r!==void 0&&h.push(f.get(r)),e){case"add":Us(t)?pae(r)&&h.push(f.get("length")):(h.push(f.get(PC)),ZP(t)&&h.push(f.get(Toe)));break;case"delete":Us(t)||(h.push(f.get(PC)),ZP(t)&&h.push(f.get(Toe)));break;case"set":ZP(t)&&h.push(f.get(PC));break}if(h.length===1)h[0]&&Coe(h[0]);else{const u=[];for(const p of h)p&&u.push(...p);Coe(yae(u))}}function Coe(t,e){const r=Us(t)?t:[...t];for(const a of r)a.computed&&fue(a);for(const a of r)a.computed||fue(a)}function fue(t,e){(t!==Lv||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function nSe(t,e){var r;return(r=jZ.get(t))==null?void 0:r.get(e)}const rSe=dae("__proto__,__v_isRef,__isVue"),Ege=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gae)),oSe=Oae(),sSe=Oae(!1,!0),aSe=Oae(!0),due=iSe();function iSe(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const a=va(this);for(let d=0,f=this.length;d<f;d++)sm(a,"get",d+"");const i=a[e](...r);return i===-1||i===!1?a[e](...r.map(va)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){OM();const a=va(this)[e].apply(this,r);return xM(),a}}),t}function lSe(t){const e=va(this);return sm(e,"has",t),e.hasOwnProperty(t)}function Oae(t=!1,e=!1){return function(a,i,d){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&d===(t?e?TSe:Lge:e?$ge:Dge).get(a))return a;const f=Us(a);if(!t){if(f&&mi(due,i))return Reflect.get(due,i,d);if(i==="hasOwnProperty")return lSe}const h=Reflect.get(a,i,d);return(gae(i)?Ege.has(i):rSe(i))||(t||sm(a,"get",i),e)?h:mc(h)?f&&pae(i)?h:h.value:Tl(h)?t?_$(h):tm(h):h}}const cSe=_ge(),uSe=_ge(!0);function _ge(t=!1){return function(r,a,i,d){let f=r[a];if(nM(f)&&mc(f)&&!mc(i))return!1;if(!t&&(!qZ(i)&&!nM(i)&&(f=va(f),i=va(i)),!Us(r)&&mc(f)&&!mc(i)))return f.value=i,!0;const h=Us(r)&&pae(a)?Number(a)<r.length:mi(r,a),u=Reflect.set(r,a,i,d);return r===va(d)&&(h?UD(i,f)&&gO(r,"set",a,i):gO(r,"add",a,i)),u}}function fSe(t,e){const r=mi(t,e);t[e];const a=Reflect.deleteProperty(t,e);return a&&r&&gO(t,"delete",e,void 0),a}function dSe(t,e){const r=Reflect.has(t,e);return(!gae(e)||!Ege.has(e))&&sm(t,"has",e),r}function hSe(t){return sm(t,"iterate",Us(t)?"length":PC),Reflect.ownKeys(t)}const Rge={get:oSe,set:cSe,deleteProperty:fSe,has:dSe,ownKeys:hSe},mSe={get:aSe,set(t,e){return!0},deleteProperty(t,e){return!0}},gSe=Jc({},Rge,{get:sSe,set:uSe}),xae=t=>t,oU=t=>Reflect.getPrototypeOf(t);function Bz(t,e,r=!1,a=!1){t=t.__v_raw;const i=va(t),d=va(e);r||(e!==d&&sm(i,"get",e),sm(i,"get",d));const{has:f}=oU(i),h=a?xae:r?Tae:WD;if(f.call(i,e))return h(t.get(e));if(f.call(i,d))return h(t.get(d));t!==i&&t.get(e)}function Qz(t,e=!1){const r=this.__v_raw,a=va(r),i=va(t);return e||(t!==i&&sm(a,"has",t),sm(a,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function Fz(t,e=!1){return t=t.__v_raw,!e&&sm(va(t),"iterate",PC),Reflect.get(t,"size",t)}function hue(t){t=va(t);const e=va(this);return oU(e).has.call(e,t)||(e.add(t),gO(e,"add",t,t)),this}function mue(t,e){e=va(e);const r=va(this),{has:a,get:i}=oU(r);let d=a.call(r,t);d||(t=va(t),d=a.call(r,t));const f=i.call(r,t);return r.set(t,e),d?UD(e,f)&&gO(r,"set",t,e):gO(r,"add",t,e),this}function gue(t){const e=va(this),{has:r,get:a}=oU(e);let i=r.call(e,t);i||(t=va(t),i=r.call(e,t)),a&&a.call(e,t);const d=e.delete(t);return i&&gO(e,"delete",t,void 0),d}function pue(){const t=va(this),e=t.size!==0,r=t.clear();return e&&gO(t,"clear",void 0,void 0),r}function Vz(t,e){return function(a,i){const d=this,f=d.__v_raw,h=va(f),u=e?xae:t?Tae:WD;return!t&&sm(h,"iterate",PC),f.forEach((p,v)=>a.call(i,u(p),u(v),d))}}function zz(t,e,r){return function(...a){const i=this.__v_raw,d=va(i),f=ZP(d),h=t==="entries"||t===Symbol.iterator&&f,u=t==="keys"&&f,p=i[t](...a),v=r?xae:e?Tae:WD;return!e&&sm(d,"iterate",u?Toe:PC),{next(){const{value:y,done:b}=p.next();return b?{value:y,done:b}:{value:h?[v(y[0]),v(y[1])]:v(y),done:b}},[Symbol.iterator](){return this}}}}function nS(t){return function(...e){return t==="delete"?!1:this}}function pSe(){const t={get(d){return Bz(this,d)},get size(){return Fz(this)},has:Qz,add:hue,set:mue,delete:gue,clear:pue,forEach:Vz(!1,!1)},e={get(d){return Bz(this,d,!1,!0)},get size(){return Fz(this)},has:Qz,add:hue,set:mue,delete:gue,clear:pue,forEach:Vz(!1,!0)},r={get(d){return Bz(this,d,!0)},get size(){return Fz(this,!0)},has(d){return Qz.call(this,d,!0)},add:nS("add"),set:nS("set"),delete:nS("delete"),clear:nS("clear"),forEach:Vz(!0,!1)},a={get(d){return Bz(this,d,!0,!0)},get size(){return Fz(this,!0)},has(d){return Qz.call(this,d,!0)},add:nS("add"),set:nS("set"),delete:nS("delete"),clear:nS("clear"),forEach:Vz(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{t[d]=zz(d,!1,!1),r[d]=zz(d,!0,!1),e[d]=zz(d,!1,!0),a[d]=zz(d,!0,!0)}),[t,r,e,a]}const[vSe,ySe,bSe,OSe]=pSe();function Sae(t,e){const r=e?t?OSe:bSe:t?ySe:vSe;return(a,i,d)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?a:Reflect.get(mi(r,i)&&i in a?r:a,i,d)}const xSe={get:Sae(!1,!1)},SSe={get:Sae(!1,!0)},wSe={get:Sae(!0,!1)},Dge=new WeakMap,$ge=new WeakMap,Lge=new WeakMap,TSe=new WeakMap;function CSe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kSe(t){return t.__v_skip||!Object.isExtensible(t)?0:CSe(z2e(t))}function tm(t){return nM(t)?t:wae(t,!1,Rge,xSe,Dge)}function ASe(t){return wae(t,!1,gSe,SSe,$ge)}function _$(t){return wae(t,!0,mSe,wSe,Lge)}function wae(t,e,r,a,i){if(!Tl(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const d=i.get(t);if(d)return d;const f=kSe(t);if(f===0)return t;const h=new Proxy(t,f===2?a:r);return i.set(t,h),h}function HP(t){return nM(t)?HP(t.__v_raw):!!(t&&t.__v_isReactive)}function nM(t){return!!(t&&t.__v_isReadonly)}function qZ(t){return!!(t&&t.__v_isShallow)}function Ige(t){return HP(t)||nM(t)}function va(t){const e=t&&t.__v_raw;return e?va(e):t}function Nge(t){return GZ(t,"__v_skip",!0),t}const WD=t=>Tl(t)?tm(t):t,Tae=t=>Tl(t)?_$(t):t;function Bge(t){mS&&Lv&&(t=va(t),Mge(t.dep||(t.dep=yae())))}function Qge(t,e){t=va(t);const r=t.dep;r&&Coe(r)}function mc(t){return!!(t&&t.__v_isRef===!0)}function Vo(t){return Fge(t,!1)}function fs(t){return Fge(t,!0)}function Fge(t,e){return mc(t)?t:new PSe(t,e)}class PSe{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:va(e),this._value=r?e:WD(e)}get value(){return Bge(this),this._value}set value(e){const r=this.__v_isShallow||qZ(e)||nM(e);e=r?e:va(e),UD(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:WD(e),Qge(this))}}function ug(t){return mc(t)?t.value:t}const MSe={get:(t,e,r)=>ug(Reflect.get(t,e,r)),set:(t,e,r,a)=>{const i=t[e];return mc(i)&&!mc(r)?(i.value=r,!0):Reflect.set(t,e,r,a)}};function Vge(t){return HP(t)?t:new Proxy(t,MSe)}function sU(t){const e=Us(t)?new Array(t.length):{};for(const r in t)e[r]=zge(t,r);return e}class ESe{constructor(e,r,a){this._object=e,this._key=r,this._defaultValue=a,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return nSe(va(this._object),this._key)}}class _Se{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ns(t,e,r){return mc(t)?t:wa(t)?new _Se(t):Tl(t)&&arguments.length>1?zge(t,e,r):Vo(t)}function zge(t,e,r){const a=t[e];return mc(a)?a:new ESe(t,e,r)}class RSe{constructor(e,r,a,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new bae(e,()=>{this._dirty||(this._dirty=!0,Qge(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=a}get value(){const e=va(this);return Bge(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function DSe(t,e,r=!1){let a,i;const d=wa(t);return d?(a=t,i=Bv):(a=t.get,i=t.set),new RSe(a,i,d||!i,r)}function gS(t,e,r,a){let i;try{i=a?t(...a):t()}catch(d){aU(d,e,r)}return i}function Tp(t,e,r,a){if(wa(t)){const d=gS(t,e,r,a);return d&&Oge(d)&&d.catch(f=>{aU(f,e,r)}),d}const i=[];for(let d=0;d<t.length;d++)i.push(Tp(t[d],e,r,a));return i}function aU(t,e,r,a=!0){const i=e?e.vnode:null;if(e){let d=e.parent;const f=e.proxy,h=r;for(;d;){const p=d.ec;if(p){for(let v=0;v<p.length;v++)if(p[v](t,f,h)===!1)return}d=d.parent}const u=e.appContext.config.errorHandler;if(u){gS(u,null,10,[t,f,h]);return}}$Se(t,r,i,a)}function $Se(t,e,r,a=!0){console.error(t)}let YD=!1,koe=!1;const wd=[];let F1=0;const UP=[];let fO=null,vC=0;const Zge=Promise.resolve();let Cae=null;function ec(t){const e=Cae||Zge;return t?e.then(this?t.bind(this):t):e}function LSe(t){let e=F1+1,r=wd.length;for(;e<r;){const a=e+r>>>1;XD(wd[a])<t?e=a+1:r=a}return e}function kae(t){(!wd.length||!wd.includes(t,YD&&t.allowRecurse?F1+1:F1))&&(t.id==null?wd.push(t):wd.splice(LSe(t.id),0,t),Hge())}function Hge(){!YD&&!koe&&(koe=!0,Cae=Zge.then(Wge))}function ISe(t){const e=wd.indexOf(t);e>F1&&wd.splice(e,1)}function NSe(t){Us(t)?UP.push(...t):(!fO||!fO.includes(t,t.allowRecurse?vC+1:vC))&&UP.push(t),Hge()}function vue(t,e=YD?F1+1:0){for(;e<wd.length;e++){const r=wd[e];r&&r.pre&&(wd.splice(e,1),e--,r())}}function Uge(t){if(UP.length){const e=[...new Set(UP)];if(UP.length=0,fO){fO.push(...e);return}for(fO=e,fO.sort((r,a)=>XD(r)-XD(a)),vC=0;vC<fO.length;vC++)fO[vC]();fO=null,vC=0}}const XD=t=>t.id==null?1/0:t.id,BSe=(t,e)=>{const r=XD(t)-XD(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Wge(t){koe=!1,YD=!0,wd.sort(BSe);const e=Bv;try{for(F1=0;F1<wd.length;F1++){const r=wd[F1];r&&r.active!==!1&&gS(r,null,14)}}finally{F1=0,wd.length=0,Uge(),YD=!1,Cae=null,(wd.length||UP.length)&&Wge()}}function QSe(t,e,...r){if(t.isUnmounted)return;const a=t.vnode.props||Bl;let i=r;const d=e.startsWith("update:"),f=d&&e.slice(7);if(f&&f in a){const v=`${f==="modelValue"?"model":f}Modifiers`,{number:y,trim:b}=a[v]||Bl;b&&(i=r.map(x=>Bc(x)?x.trim():x)),y&&(i=r.map(xoe))}let h,u=a[h=H1(e)]||a[h=H1(Pp(e))];!u&&d&&(u=a[h=H1(bM(e))]),u&&Tp(u,t,6,i);const p=a[h+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,Tp(p,t,6,i)}}function Yge(t,e,r=!1){const a=e.emitsCache,i=a.get(t);if(i!==void 0)return i;const d=t.emits;let f={},h=!1;if(!wa(t)){const u=p=>{const v=Yge(p,e,!0);v&&(h=!0,Jc(f,v))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!d&&!h?(Tl(t)&&a.set(t,null),null):(Us(d)?d.forEach(u=>f[u]=null):Jc(f,d),Tl(t)&&a.set(t,f),f)}function iU(t,e){return!t||!JH(e)?!1:(e=e.slice(2).replace(/Once$/,""),mi(t,e[0].toLowerCase()+e.slice(1))||mi(t,bM(e))||mi(t,e))}let fg=null,Xge=null;function KZ(t){const e=fg;return fg=t,Xge=t&&t.type.__scopeId||null,e}function Yr(t,e=fg,r){if(!e||t._n)return t;const a=(...i)=>{a._d&&Eue(-1);const d=KZ(e);let f;try{f=t(...i)}finally{KZ(d),a._d&&Eue(1)}return f};return a._n=!0,a._c=!0,a._d=!0,a}function fre(t){const{type:e,vnode:r,proxy:a,withProxy:i,props:d,propsOptions:[f],slots:h,attrs:u,emit:p,render:v,renderCache:y,data:b,setupState:x,ctx:k,inheritAttrs:C}=t;let w,T;const R=KZ(t);try{if(r.shapeFlag&4){const I=i||a;w=Q1(v.call(I,I,y,d,x,b,k)),T=u}else{const I=e;w=Q1(I.length>1?I(d,{attrs:u,slots:h,emit:p}):I(d,null)),T=e.props?u:FSe(u)}}catch(I){$D.length=0,aU(I,t,1),w=lt(Qv)}let M=w;if(T&&C!==!1){const I=Object.keys(T),{shapeFlag:V}=M;I.length&&V&7&&(f&&I.some(hae)&&(T=VSe(T,f)),M=pO(M,T))}return r.dirs&&(M=pO(M),M.dirs=M.dirs?M.dirs.concat(r.dirs):r.dirs),r.transition&&(M.transition=r.transition),w=M,KZ(R),w}const FSe=t=>{let e;for(const r in t)(r==="class"||r==="style"||JH(r))&&((e||(e={}))[r]=t[r]);return e},VSe=(t,e)=>{const r={};for(const a in t)(!hae(a)||!(a.slice(9)in e))&&(r[a]=t[a]);return r};function zSe(t,e,r){const{props:a,children:i,component:d}=t,{props:f,children:h,patchFlag:u}=e,p=d.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return a?yue(a,f,p):!!f;if(u&8){const v=e.dynamicProps;for(let y=0;y<v.length;y++){const b=v[y];if(f[b]!==a[b]&&!iU(p,b))return!0}}}else return(i||h)&&(!h||!h.$stable)?!0:a===f?!1:a?f?yue(a,f,p):!0:!!f;return!1}function yue(t,e,r){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!0;for(let i=0;i<a.length;i++){const d=a[i];if(e[d]!==t[d]&&!iU(r,d))return!0}return!1}function ZSe({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const HSe=t=>t.__isSuspense;function USe(t,e){e&&e.pendingBranch?Us(t)?e.effects.push(...t):e.effects.push(t):NSe(t)}function am(t,e){return Aae(t,null,e)}const Zz={};function Ho(t,e,r){return Aae(t,e,r)}function Aae(t,e,{immediate:r,deep:a,flush:i,onTrack:d,onTrigger:f}=Bl){var h;const u=J2e()===((h=Of)==null?void 0:h.scope)?Of:null;let p,v=!1,y=!1;if(mc(t)?(p=()=>t.value,v=qZ(t)):HP(t)?(p=()=>t,a=!0):Us(t)?(y=!0,v=t.some(I=>HP(I)||qZ(I)),p=()=>t.map(I=>{if(mc(I))return I.value;if(HP(I))return wC(I);if(wa(I))return gS(I,u,2)})):wa(t)?e?p=()=>gS(t,u,2):p=()=>{if(!(u&&u.isUnmounted))return b&&b(),Tp(t,u,3,[x])}:p=Bv,e&&a){const I=p;p=()=>wC(I())}let b,x=I=>{b=R.onStop=()=>{gS(I,u,4)}},k;if(KD)if(x=Bv,e?r&&Tp(e,u,3,[p(),y?[]:void 0,x]):p(),i==="sync"){const I=Lwe();k=I.__watcherHandles||(I.__watcherHandles=[])}else return Bv;let C=y?new Array(t.length).fill(Zz):Zz;const w=()=>{if(R.active)if(e){const I=R.run();(a||v||(y?I.some((V,N)=>UD(V,C[N])):UD(I,C)))&&(b&&b(),Tp(e,u,3,[I,C===Zz?void 0:y&&C[0]===Zz?[]:C,x]),C=I)}else R.run()};w.allowRecurse=!!e;let T;i==="sync"?T=w:i==="post"?T=()=>Jh(w,u&&u.suspense):(w.pre=!0,u&&(w.id=u.uid),T=()=>kae(w));const R=new bae(p,T);e?r?w():C=R.run():i==="post"?Jh(R.run.bind(R),u&&u.suspense):R.run();const M=()=>{R.stop(),u&&u.scope&&mae(u.scope.effects,R)};return k&&k.push(M),M}function WSe(t,e,r){const a=this.proxy,i=Bc(t)?t.includes(".")?Gge(a,t):()=>a[t]:t.bind(a,a);let d;wa(e)?d=e:(d=e.handler,r=e);const f=Of;rM(this);const h=Aae(i,d.bind(a),r);return f?rM(f):MC(),h}function Gge(t,e){const r=e.split(".");return()=>{let a=t;for(let i=0;i<r.length&&a;i++)a=a[r[i]];return a}}function wC(t,e){if(!Tl(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),mc(t))wC(t.value,e);else if(Us(t))for(let r=0;r<t.length;r++)wC(t[r],e);else if(bge(t)||ZP(t))t.forEach(r=>{wC(r,e)});else if(Sge(t))for(const r in t)wC(t[r],e);return t}function Qu(t,e){const r=fg;if(r===null)return t;const a=fU(r)||r.proxy,i=t.dirs||(t.dirs=[]);for(let d=0;d<e.length;d++){let[f,h,u,p=Bl]=e[d];f&&(wa(f)&&(f={mounted:f,updated:f}),f.deep&&wC(h),i.push({dir:f,instance:a,value:h,oldValue:void 0,arg:u,modifiers:p}))}return t}function lC(t,e,r,a){const i=t.dirs,d=e&&e.dirs;for(let f=0;f<i.length;f++){const h=i[f];d&&(h.oldValue=d[f].value);let u=h.dir[a];u&&(OM(),Tp(u,r,8,[t.el,h,t,e]),xM())}}function jge(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gg(()=>{t.isMounted=!0}),im(()=>{t.isUnmounting=!0}),t}const pp=[Function,Array],qge={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pp,onEnter:pp,onAfterEnter:pp,onEnterCancelled:pp,onBeforeLeave:pp,onLeave:pp,onAfterLeave:pp,onLeaveCancelled:pp,onBeforeAppear:pp,onAppear:pp,onAfterAppear:pp,onAppearCancelled:pp},YSe={name:"BaseTransition",props:qge,setup(t,{slots:e}){const r=Bae(),a=jge();let i;return()=>{const d=e.default&&Pae(e.default(),!0);if(!d||!d.length)return;let f=d[0];if(d.length>1){for(const C of d)if(C.type!==Qv){f=C;break}}const h=va(t),{mode:u}=h;if(a.isLeaving)return dre(f);const p=bue(f);if(!p)return dre(f);const v=GD(p,h,a,r);jD(p,v);const y=r.subTree,b=y&&bue(y);let x=!1;const{getTransitionKey:k}=p.type;if(k){const C=k();i===void 0?i=C:C!==i&&(i=C,x=!0)}if(b&&b.type!==Qv&&(!yC(p,b)||x)){const C=GD(b,h,a,r);if(jD(b,C),u==="out-in")return a.isLeaving=!0,C.afterLeave=()=>{a.isLeaving=!1,r.update.active!==!1&&r.update()},dre(f);u==="in-out"&&p.type!==Qv&&(C.delayLeave=(w,T,R)=>{const M=Kge(a,b);M[String(b.key)]=b,w._leaveCb=()=>{T(),w._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=R})}return f}}},XSe=YSe;function Kge(t,e){const{leavingVNodes:r}=t;let a=r.get(e.type);return a||(a=Object.create(null),r.set(e.type,a)),a}function GD(t,e,r,a){const{appear:i,mode:d,persisted:f=!1,onBeforeEnter:h,onEnter:u,onAfterEnter:p,onEnterCancelled:v,onBeforeLeave:y,onLeave:b,onAfterLeave:x,onLeaveCancelled:k,onBeforeAppear:C,onAppear:w,onAfterAppear:T,onAppearCancelled:R}=e,M=String(t.key),I=Kge(r,t),V=(z,U)=>{z&&Tp(z,a,9,U)},N=(z,U)=>{const Q=U[1];V(z,U),Us(z)?z.every(B=>B.length<=1)&&Q():z.length<=1&&Q()},F={mode:d,persisted:f,beforeEnter(z){let U=h;if(!r.isMounted)if(i)U=C||h;else return;z._leaveCb&&z._leaveCb(!0);const Q=I[M];Q&&yC(t,Q)&&Q.el._leaveCb&&Q.el._leaveCb(),V(U,[z])},enter(z){let U=u,Q=p,B=v;if(!r.isMounted)if(i)U=w||u,Q=T||p,B=R||v;else return;let E=!1;const W=z._enterCb=Y=>{E||(E=!0,Y?V(B,[z]):V(Q,[z]),F.delayedLeave&&F.delayedLeave(),z._enterCb=void 0)};U?N(U,[z,W]):W()},leave(z,U){const Q=String(t.key);if(z._enterCb&&z._enterCb(!0),r.isUnmounting)return U();V(y,[z]);let B=!1;const E=z._leaveCb=W=>{B||(B=!0,U(),W?V(k,[z]):V(x,[z]),z._leaveCb=void 0,I[Q]===t&&delete I[Q])};I[Q]=t,b?N(b,[z,E]):E()},clone(z){return GD(z,e,r,a)}};return F}function dre(t){if(lU(t))return t=pO(t),t.children=null,t}function bue(t){return lU(t)?t.children?t.children[0]:void 0:t}function jD(t,e){t.shapeFlag&6&&t.component?jD(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Pae(t,e=!1,r){let a=[],i=0;for(let d=0;d<t.length;d++){let f=t[d];const h=r==null?f.key:String(r)+String(f.key!=null?f.key:d);f.type===Go?(f.patchFlag&128&&i++,a=a.concat(Pae(f.children,e,h))):(e||f.type!==Qv)&&a.push(h!=null?pO(f,{key:h}):f)}if(i>1)for(let d=0;d<a.length;d++)a[d].patchFlag=-2;return a}function R$(t,e){return wa(t)?(()=>Jc({name:t.name},e,{setup:t}))():t}const MZ=t=>!!t.type.__asyncLoader,lU=t=>t.type.__isKeepAlive;function Mae(t,e){Jge(t,"a",e)}function Eae(t,e){Jge(t,"da",e)}function Jge(t,e,r=Of){const a=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(cU(e,a,r),r){let i=r.parent;for(;i&&i.parent;)lU(i.parent.vnode)&&GSe(a,e,r,i),i=i.parent}}function GSe(t,e,r,a){const i=cU(e,t,a,!0);tpe(()=>{mae(a[e],i)},r)}function cU(t,e,r=Of,a=!1){if(r){const i=r[t]||(r[t]=[]),d=e.__weh||(e.__weh=(...f)=>{if(r.isUnmounted)return;OM(),rM(r);const h=Tp(e,r,t,f);return MC(),xM(),h});return a?i.unshift(d):i.push(d),d}}const wO=t=>(e,r=Of)=>(!KD||t==="sp")&&cU(t,(...a)=>e(...a),r),_ae=wO("bm"),gg=wO("m"),jSe=wO("bu"),epe=wO("u"),im=wO("bum"),tpe=wO("um"),qSe=wO("sp"),KSe=wO("rtg"),JSe=wO("rtc");function ewe(t,e=Of){cU("ec",t,e)}const Rae="components",twe="directives";function q1(t,e){return Dae(Rae,t,!0,e)||t}const npe=Symbol.for("v-ndc");function sg(t){return Bc(t)?Dae(Rae,t,!1)||t:t||npe}function Hv(t){return Dae(twe,t)}function Dae(t,e,r=!0,a=!1){const i=fg||Of;if(i){const d=i.type;if(t===Rae){const h=Rwe(d,!1);if(h&&(h===e||h===Pp(e)||h===SO(Pp(e))))return d}const f=Oue(i[t]||d[t],e)||Oue(i.appContext[t],e);return!f&&a?d:f}}function Oue(t,e){return t&&(t[e]||t[Pp(e)]||t[SO(Pp(e))])}function Hf(t,e,r,a){let i;const d=r&&r[a];if(Us(t)||Bc(t)){i=new Array(t.length);for(let f=0,h=t.length;f<h;f++)i[f]=e(t[f],f,void 0,d&&d[f])}else if(typeof t=="number"){i=new Array(t);for(let f=0;f<t;f++)i[f]=e(f+1,f,void 0,d&&d[f])}else if(Tl(t))if(t[Symbol.iterator])i=Array.from(t,(f,h)=>e(f,h,void 0,d&&d[h]));else{const f=Object.keys(t);i=new Array(f.length);for(let h=0,u=f.length;h<u;h++){const p=f[h];i[h]=e(t[p],p,h,d&&d[h])}}else i=[];return r&&(r[a]=i),i}const Aoe=t=>t?hpe(t)?fU(t)||t.proxy:Aoe(t.parent):null,RD=Jc(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Aoe(t.parent),$root:t=>Aoe(t.root),$emit:t=>t.emit,$options:t=>$ae(t),$forceUpdate:t=>t.f||(t.f=()=>kae(t.update)),$nextTick:t=>t.n||(t.n=ec.bind(t.proxy)),$watch:t=>WSe.bind(t)}),hre=(t,e)=>t!==Bl&&!t.__isScriptSetup&&mi(t,e),nwe={get({_:t},e){const{ctx:r,setupState:a,data:i,props:d,accessCache:f,type:h,appContext:u}=t;let p;if(e[0]!=="$"){const x=f[e];if(x!==void 0)switch(x){case 1:return a[e];case 2:return i[e];case 4:return r[e];case 3:return d[e]}else{if(hre(a,e))return f[e]=1,a[e];if(i!==Bl&&mi(i,e))return f[e]=2,i[e];if((p=t.propsOptions[0])&&mi(p,e))return f[e]=3,d[e];if(r!==Bl&&mi(r,e))return f[e]=4,r[e];Poe&&(f[e]=0)}}const v=RD[e];let y,b;if(v)return e==="$attrs"&&sm(t,"get",e),v(t);if((y=h.__cssModules)&&(y=y[e]))return y;if(r!==Bl&&mi(r,e))return f[e]=4,r[e];if(b=u.config.globalProperties,mi(b,e))return b[e]},set({_:t},e,r){const{data:a,setupState:i,ctx:d}=t;return hre(i,e)?(i[e]=r,!0):a!==Bl&&mi(a,e)?(a[e]=r,!0):mi(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(d[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:a,appContext:i,propsOptions:d}},f){let h;return!!r[f]||t!==Bl&&mi(t,f)||hre(e,f)||(h=d[0])&&mi(h,f)||mi(a,f)||mi(RD,f)||mi(i.config.globalProperties,f)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:mi(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function xue(t){return Us(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Poe=!0;function rwe(t){const e=$ae(t),r=t.proxy,a=t.ctx;Poe=!1,e.beforeCreate&&Sue(e.beforeCreate,t,"bc");const{data:i,computed:d,methods:f,watch:h,provide:u,inject:p,created:v,beforeMount:y,mounted:b,beforeUpdate:x,updated:k,activated:C,deactivated:w,beforeDestroy:T,beforeUnmount:R,destroyed:M,unmounted:I,render:V,renderTracked:N,renderTriggered:F,errorCaptured:z,serverPrefetch:U,expose:Q,inheritAttrs:B,components:E,directives:W,filters:Y}=e;if(p&&owe(p,a,null),f)for(const me in f){const ae=f[me];wa(ae)&&(a[me]=ae.bind(r))}if(i){const me=i.call(r,r);Tl(me)&&(t.data=tm(me))}if(Poe=!0,d)for(const me in d){const ae=d[me],q=wa(ae)?ae.bind(r,r):wa(ae.get)?ae.get.bind(r,r):Bv,fe=!wa(ae)&&wa(ae.set)?ae.set.bind(r):Bv,ee=sn({get:q,set:fe});Object.defineProperty(a,me,{enumerable:!0,configurable:!0,get:()=>ee.value,set:be=>ee.value=be})}if(h)for(const me in h)rpe(h[me],a,r,me);if(u){const me=wa(u)?u.call(r):u;Reflect.ownKeys(me).forEach(ae=>{pc(ae,me[ae])})}v&&Sue(v,t,"c");function L(me,ae){Us(ae)?ae.forEach(q=>me(q.bind(r))):ae&&me(ae.bind(r))}if(L(_ae,y),L(gg,b),L(jSe,x),L(epe,k),L(Mae,C),L(Eae,w),L(ewe,z),L(JSe,N),L(KSe,F),L(im,R),L(tpe,I),L(qSe,U),Us(Q))if(Q.length){const me=t.exposed||(t.exposed={});Q.forEach(ae=>{Object.defineProperty(me,ae,{get:()=>r[ae],set:q=>r[ae]=q})})}else t.exposed||(t.exposed={});V&&t.render===Bv&&(t.render=V),B!=null&&(t.inheritAttrs=B),E&&(t.components=E),W&&(t.directives=W)}function owe(t,e,r=Bv){Us(t)&&(t=Moe(t));for(const a in t){const i=t[a];let d;Tl(i)?"default"in i?d=ai(i.from||a,i.default,!0):d=ai(i.from||a):d=ai(i),mc(d)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>d.value,set:f=>d.value=f}):e[a]=d}}function Sue(t,e,r){Tp(Us(t)?t.map(a=>a.bind(e.proxy)):t.bind(e.proxy),e,r)}function rpe(t,e,r,a){const i=a.includes(".")?Gge(r,a):()=>r[a];if(Bc(t)){const d=e[t];wa(d)&&Ho(i,d)}else if(wa(t))Ho(i,t.bind(r));else if(Tl(t))if(Us(t))t.forEach(d=>rpe(d,e,r,a));else{const d=wa(t.handler)?t.handler.bind(r):e[t.handler];wa(d)&&Ho(i,d,t)}}function $ae(t){const e=t.type,{mixins:r,extends:a}=e,{mixins:i,optionsCache:d,config:{optionMergeStrategies:f}}=t.appContext,h=d.get(e);let u;return h?u=h:!i.length&&!r&&!a?u=e:(u={},i.length&&i.forEach(p=>JZ(u,p,f,!0)),JZ(u,e,f)),Tl(e)&&d.set(e,u),u}function JZ(t,e,r,a=!1){const{mixins:i,extends:d}=e;d&&JZ(t,d,r,!0),i&&i.forEach(f=>JZ(t,f,r,!0));for(const f in e)if(!(a&&f==="expose")){const h=swe[f]||r&&r[f];t[f]=h?h(t[f],e[f]):e[f]}return t}const swe={data:wue,props:Tue,emits:Tue,methods:CD,computed:CD,beforeCreate:lh,created:lh,beforeMount:lh,mounted:lh,beforeUpdate:lh,updated:lh,beforeDestroy:lh,beforeUnmount:lh,destroyed:lh,unmounted:lh,activated:lh,deactivated:lh,errorCaptured:lh,serverPrefetch:lh,components:CD,directives:CD,watch:iwe,provide:wue,inject:awe};function wue(t,e){return e?t?function(){return Jc(wa(t)?t.call(this,this):t,wa(e)?e.call(this,this):e)}:e:t}function awe(t,e){return CD(Moe(t),Moe(e))}function Moe(t){if(Us(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function lh(t,e){return t?[...new Set([].concat(t,e))]:e}function CD(t,e){return t?Jc(Object.create(null),t,e):e}function Tue(t,e){return t?Us(t)&&Us(e)?[...new Set([...t,...e])]:Jc(Object.create(null),xue(t),xue(e??{})):e}function iwe(t,e){if(!t)return e;if(!e)return t;const r=Jc(Object.create(null),t);for(const a in e)r[a]=lh(t[a],e[a]);return r}function ope(){return{app:null,config:{isNativeTag:Q2e,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lwe=0;function cwe(t,e){return function(a,i=null){wa(a)||(a=Jc({},a)),i!=null&&!Tl(i)&&(i=null);const d=ope(),f=new Set;let h=!1;const u=d.app={_uid:lwe++,_component:a,_props:i,_container:null,_context:d,_instance:null,version:Iwe,get config(){return d.config},set config(p){},use(p,...v){return f.has(p)||(p&&wa(p.install)?(f.add(p),p.install(u,...v)):wa(p)&&(f.add(p),p(u,...v))),u},mixin(p){return d.mixins.includes(p)||d.mixins.push(p),u},component(p,v){return v?(d.components[p]=v,u):d.components[p]},directive(p,v){return v?(d.directives[p]=v,u):d.directives[p]},mount(p,v,y){if(!h){const b=lt(a,i);return b.appContext=d,v&&e?e(b,p):t(b,p,y),h=!0,u._container=p,p.__vue_app__=u,fU(b.component)||b.component.proxy}},unmount(){h&&(t(null,u._container),delete u._container.__vue_app__)},provide(p,v){return d.provides[p]=v,u},runWithContext(p){eH=u;try{return p()}finally{eH=null}}};return u}}let eH=null;function pc(t,e){if(Of){let r=Of.provides;const a=Of.parent&&Of.parent.provides;a===r&&(r=Of.provides=Object.create(a)),r[t]=e}}function ai(t,e,r=!1){const a=Of||fg;if(a||eH){const i=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:eH._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&wa(e)?e.call(a&&a.proxy):e}}function uwe(t,e,r,a=!1){const i={},d={};GZ(d,uU,1),t.propsDefaults=Object.create(null),spe(t,e,i,d);for(const f in t.propsOptions[0])f in i||(i[f]=void 0);r?t.props=a?i:ASe(i):t.type.props?t.props=i:t.props=d,t.attrs=d}function fwe(t,e,r,a){const{props:i,attrs:d,vnode:{patchFlag:f}}=t,h=va(i),[u]=t.propsOptions;let p=!1;if((a||f>0)&&!(f&16)){if(f&8){const v=t.vnode.dynamicProps;for(let y=0;y<v.length;y++){let b=v[y];if(iU(t.emitsOptions,b))continue;const x=e[b];if(u)if(mi(d,b))x!==d[b]&&(d[b]=x,p=!0);else{const k=Pp(b);i[k]=Eoe(u,h,k,x,t,!1)}else x!==d[b]&&(d[b]=x,p=!0)}}}else{spe(t,e,i,d)&&(p=!0);let v;for(const y in h)(!e||!mi(e,y)&&((v=bM(y))===y||!mi(e,v)))&&(u?r&&(r[y]!==void 0||r[v]!==void 0)&&(i[y]=Eoe(u,h,y,void 0,t,!0)):delete i[y]);if(d!==h)for(const y in d)(!e||!mi(e,y))&&(delete d[y],p=!0)}p&&gO(t,"set","$attrs")}function spe(t,e,r,a){const[i,d]=t.propsOptions;let f=!1,h;if(e)for(let u in e){if(AZ(u))continue;const p=e[u];let v;i&&mi(i,v=Pp(u))?!d||!d.includes(v)?r[v]=p:(h||(h={}))[v]=p:iU(t.emitsOptions,u)||(!(u in a)||p!==a[u])&&(a[u]=p,f=!0)}if(d){const u=va(r),p=h||Bl;for(let v=0;v<d.length;v++){const y=d[v];r[y]=Eoe(i,u,y,p[y],t,!mi(p,y))}}return f}function Eoe(t,e,r,a,i,d){const f=t[r];if(f!=null){const h=mi(f,"default");if(h&&a===void 0){const u=f.default;if(f.type!==Function&&!f.skipFactory&&wa(u)){const{propsDefaults:p}=i;r in p?a=p[r]:(rM(i),a=p[r]=u.call(null,e),MC())}else a=u}f[0]&&(d&&!h?a=!1:f[1]&&(a===""||a===bM(r))&&(a=!0))}return a}function ape(t,e,r=!1){const a=e.propsCache,i=a.get(t);if(i)return i;const d=t.props,f={},h=[];let u=!1;if(!wa(t)){const v=y=>{u=!0;const[b,x]=ape(y,e,!0);Jc(f,b),x&&h.push(...x)};!r&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}if(!d&&!u)return Tl(t)&&a.set(t,zP),zP;if(Us(d))for(let v=0;v<d.length;v++){const y=Pp(d[v]);Cue(y)&&(f[y]=Bl)}else if(d)for(const v in d){const y=Pp(v);if(Cue(y)){const b=d[v],x=f[y]=Us(b)||wa(b)?{type:b}:Jc({},b);if(x){const k=Pue(Boolean,x.type),C=Pue(String,x.type);x[0]=k>-1,x[1]=C<0||k<C,(k>-1||mi(x,"default"))&&h.push(y)}}}const p=[f,h];return Tl(t)&&a.set(t,p),p}function Cue(t){return t[0]!=="$"}function kue(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Aue(t,e){return kue(t)===kue(e)}function Pue(t,e){return Us(e)?e.findIndex(r=>Aue(r,t)):wa(e)&&Aue(e,t)?0:-1}const ipe=t=>t[0]==="_"||t==="$stable",Lae=t=>Us(t)?t.map(Q1):[Q1(t)],dwe=(t,e,r)=>{if(e._n)return e;const a=Yr((...i)=>Lae(e(...i)),r);return a._c=!1,a},lpe=(t,e,r)=>{const a=t._ctx;for(const i in t){if(ipe(i))continue;const d=t[i];if(wa(d))e[i]=dwe(i,d,a);else if(d!=null){const f=Lae(d);e[i]=()=>f}}},cpe=(t,e)=>{const r=Lae(e);t.slots.default=()=>r},hwe=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=va(e),GZ(e,"_",r)):lpe(e,t.slots={})}else t.slots={},e&&cpe(t,e);GZ(t.slots,uU,1)},mwe=(t,e,r)=>{const{vnode:a,slots:i}=t;let d=!0,f=Bl;if(a.shapeFlag&32){const h=e._;h?r&&h===1?d=!1:(Jc(i,e),!r&&h===1&&delete i._):(d=!e.$stable,lpe(e,i)),f=e}else e&&(cpe(t,e),f={default:1});if(d)for(const h in i)!ipe(h)&&!(h in f)&&delete i[h]};function _oe(t,e,r,a,i=!1){if(Us(t)){t.forEach((b,x)=>_oe(b,e&&(Us(e)?e[x]:e),r,a,i));return}if(MZ(a)&&!i)return;const d=a.shapeFlag&4?fU(a.component)||a.component.proxy:a.el,f=i?null:d,{i:h,r:u}=t,p=e&&e.r,v=h.refs===Bl?h.refs={}:h.refs,y=h.setupState;if(p!=null&&p!==u&&(Bc(p)?(v[p]=null,mi(y,p)&&(y[p]=null)):mc(p)&&(p.value=null)),wa(u))gS(u,h,12,[f,v]);else{const b=Bc(u),x=mc(u);if(b||x){const k=()=>{if(t.f){const C=b?mi(y,u)?y[u]:v[u]:u.value;i?Us(C)&&mae(C,d):Us(C)?C.includes(d)||C.push(d):b?(v[u]=[d],mi(y,u)&&(y[u]=v[u])):(u.value=[d],t.k&&(v[t.k]=u.value))}else b?(v[u]=f,mi(y,u)&&(y[u]=f)):x&&(u.value=f,t.k&&(v[t.k]=f))};f?(k.id=-1,Jh(k,r)):k()}}}const Jh=USe;function gwe(t){return pwe(t)}function pwe(t,e){const r=Soe();r.__VUE__=!0;const{insert:a,remove:i,patchProp:d,createElement:f,createText:h,createComment:u,setText:p,setElementText:v,parentNode:y,nextSibling:b,setScopeId:x=Bv,insertStaticContent:k}=t,C=(ke,$e,Ze,De=null,Ie=null,re=null,ye=!1,te=null,se=!!$e.dynamicChildren)=>{if(ke===$e)return;ke&&!yC(ke,$e)&&(De=pe(ke),be(ke,Ie,re,!0),ke=null),$e.patchFlag===-2&&(se=!1,$e.dynamicChildren=null);const{type:ue,ref:oe,shapeFlag:Se}=$e;switch(ue){case D$:w(ke,$e,Ze,De);break;case Qv:T(ke,$e,Ze,De);break;case mre:ke==null&&R($e,Ze,De,ye);break;case Go:E(ke,$e,Ze,De,Ie,re,ye,te,se);break;default:Se&1?V(ke,$e,Ze,De,Ie,re,ye,te,se):Se&6?W(ke,$e,Ze,De,Ie,re,ye,te,se):(Se&64||Se&128)&&ue.process(ke,$e,Ze,De,Ie,re,ye,te,se,Oe)}oe!=null&&Ie&&_oe(oe,ke&&ke.ref,re,$e||ke,!$e)},w=(ke,$e,Ze,De)=>{if(ke==null)a($e.el=h($e.children),Ze,De);else{const Ie=$e.el=ke.el;$e.children!==ke.children&&p(Ie,$e.children)}},T=(ke,$e,Ze,De)=>{ke==null?a($e.el=u($e.children||""),Ze,De):$e.el=ke.el},R=(ke,$e,Ze,De)=>{[ke.el,ke.anchor]=k(ke.children,$e,Ze,De,ke.el,ke.anchor)},M=({el:ke,anchor:$e},Ze,De)=>{let Ie;for(;ke&&ke!==$e;)Ie=b(ke),a(ke,Ze,De),ke=Ie;a($e,Ze,De)},I=({el:ke,anchor:$e})=>{let Ze;for(;ke&&ke!==$e;)Ze=b(ke),i(ke),ke=Ze;i($e)},V=(ke,$e,Ze,De,Ie,re,ye,te,se)=>{ye=ye||$e.type==="svg",ke==null?N($e,Ze,De,Ie,re,ye,te,se):U(ke,$e,Ie,re,ye,te,se)},N=(ke,$e,Ze,De,Ie,re,ye,te)=>{let se,ue;const{type:oe,props:Se,shapeFlag:le,transition:Ce,dirs:Qe}=ke;if(se=ke.el=f(ke.type,re,Se&&Se.is,Se),le&8?v(se,ke.children):le&16&&z(ke.children,se,null,De,Ie,re&&oe!=="foreignObject",ye,te),Qe&&lC(ke,null,De,"created"),F(se,ke,ke.scopeId,ye,De),Se){for(const Xe in Se)Xe!=="value"&&!AZ(Xe)&&d(se,Xe,null,Se[Xe],re,ke.children,De,Ie,ne);"value"in Se&&d(se,"value",null,Se.value),(ue=Se.onVnodeBeforeMount)&&D1(ue,De,ke)}Qe&&lC(ke,null,De,"beforeMount");const ze=(!Ie||Ie&&!Ie.pendingBranch)&&Ce&&!Ce.persisted;ze&&Ce.beforeEnter(se),a(se,$e,Ze),((ue=Se&&Se.onVnodeMounted)||ze||Qe)&&Jh(()=>{ue&&D1(ue,De,ke),ze&&Ce.enter(se),Qe&&lC(ke,null,De,"mounted")},Ie)},F=(ke,$e,Ze,De,Ie)=>{if(Ze&&x(ke,Ze),De)for(let re=0;re<De.length;re++)x(ke,De[re]);if(Ie){let re=Ie.subTree;if($e===re){const ye=Ie.vnode;F(ke,ye,ye.scopeId,ye.slotScopeIds,Ie.parent)}}},z=(ke,$e,Ze,De,Ie,re,ye,te,se=0)=>{for(let ue=se;ue<ke.length;ue++){const oe=ke[ue]=te?aS(ke[ue]):Q1(ke[ue]);C(null,oe,$e,Ze,De,Ie,re,ye,te)}},U=(ke,$e,Ze,De,Ie,re,ye)=>{const te=$e.el=ke.el;let{patchFlag:se,dynamicChildren:ue,dirs:oe}=$e;se|=ke.patchFlag&16;const Se=ke.props||Bl,le=$e.props||Bl;let Ce;Ze&&cC(Ze,!1),(Ce=le.onVnodeBeforeUpdate)&&D1(Ce,Ze,$e,ke),oe&&lC($e,ke,Ze,"beforeUpdate"),Ze&&cC(Ze,!0);const Qe=Ie&&$e.type!=="foreignObject";if(ue?Q(ke.dynamicChildren,ue,te,Ze,De,Qe,re):ye||ae(ke,$e,te,null,Ze,De,Qe,re,!1),se>0){if(se&16)B(te,$e,Se,le,Ze,De,Ie);else if(se&2&&Se.class!==le.class&&d(te,"class",null,le.class,Ie),se&4&&d(te,"style",Se.style,le.style,Ie),se&8){const ze=$e.dynamicProps;for(let Xe=0;Xe<ze.length;Xe++){const ct=ze[Xe],pt=Se[ct],Ye=le[ct];(Ye!==pt||ct==="value")&&d(te,ct,pt,Ye,Ie,ke.children,Ze,De,ne)}}se&1&&ke.children!==$e.children&&v(te,$e.children)}else!ye&&ue==null&&B(te,$e,Se,le,Ze,De,Ie);((Ce=le.onVnodeUpdated)||oe)&&Jh(()=>{Ce&&D1(Ce,Ze,$e,ke),oe&&lC($e,ke,Ze,"updated")},De)},Q=(ke,$e,Ze,De,Ie,re,ye)=>{for(let te=0;te<$e.length;te++){const se=ke[te],ue=$e[te],oe=se.el&&(se.type===Go||!yC(se,ue)||se.shapeFlag&70)?y(se.el):Ze;C(se,ue,oe,null,De,Ie,re,ye,!0)}},B=(ke,$e,Ze,De,Ie,re,ye)=>{if(Ze!==De){if(Ze!==Bl)for(const te in Ze)!AZ(te)&&!(te in De)&&d(ke,te,Ze[te],null,ye,$e.children,Ie,re,ne);for(const te in De){if(AZ(te))continue;const se=De[te],ue=Ze[te];se!==ue&&te!=="value"&&d(ke,te,ue,se,ye,$e.children,Ie,re,ne)}"value"in De&&d(ke,"value",Ze.value,De.value)}},E=(ke,$e,Ze,De,Ie,re,ye,te,se)=>{const ue=$e.el=ke?ke.el:h(""),oe=$e.anchor=ke?ke.anchor:h("");let{patchFlag:Se,dynamicChildren:le,slotScopeIds:Ce}=$e;Ce&&(te=te?te.concat(Ce):Ce),ke==null?(a(ue,Ze,De),a(oe,Ze,De),z($e.children,Ze,oe,Ie,re,ye,te,se)):Se>0&&Se&64&&le&&ke.dynamicChildren?(Q(ke.dynamicChildren,le,Ze,Ie,re,ye,te),($e.key!=null||Ie&&$e===Ie.subTree)&&Iae(ke,$e,!0)):ae(ke,$e,Ze,oe,Ie,re,ye,te,se)},W=(ke,$e,Ze,De,Ie,re,ye,te,se)=>{$e.slotScopeIds=te,ke==null?$e.shapeFlag&512?Ie.ctx.activate($e,Ze,De,ye,se):Y($e,Ze,De,Ie,re,ye,se):ie(ke,$e,se)},Y=(ke,$e,Ze,De,Ie,re,ye)=>{const te=ke.component=Awe(ke,De,Ie);if(lU(ke)&&(te.ctx.renderer=Oe),Pwe(te),te.asyncDep){if(Ie&&Ie.registerDep(te,L),!ke.el){const se=te.subTree=lt(Qv);T(null,se,$e,Ze)}return}L(te,ke,$e,Ze,Ie,re,ye)},ie=(ke,$e,Ze)=>{const De=$e.component=ke.component;if(zSe(ke,$e,Ze))if(De.asyncDep&&!De.asyncResolved){me(De,$e,Ze);return}else De.next=$e,ISe(De.update),De.update();else $e.el=ke.el,De.vnode=$e},L=(ke,$e,Ze,De,Ie,re,ye)=>{const te=()=>{if(ke.isMounted){let{next:oe,bu:Se,u:le,parent:Ce,vnode:Qe}=ke,ze=oe,Xe;cC(ke,!1),oe?(oe.el=Qe.el,me(ke,oe,ye)):oe=Qe,Se&&PZ(Se),(Xe=oe.props&&oe.props.onVnodeBeforeUpdate)&&D1(Xe,Ce,oe,Qe),cC(ke,!0);const ct=fre(ke),pt=ke.subTree;ke.subTree=ct,C(pt,ct,y(pt.el),pe(pt),ke,Ie,re),oe.el=ct.el,ze===null&&ZSe(ke,ct.el),le&&Jh(le,Ie),(Xe=oe.props&&oe.props.onVnodeUpdated)&&Jh(()=>D1(Xe,Ce,oe,Qe),Ie)}else{let oe;const{el:Se,props:le}=$e,{bm:Ce,m:Qe,parent:ze}=ke,Xe=MZ($e);if(cC(ke,!1),Ce&&PZ(Ce),!Xe&&(oe=le&&le.onVnodeBeforeMount)&&D1(oe,ze,$e),cC(ke,!0),Se&&Le){const ct=()=>{ke.subTree=fre(ke),Le(Se,ke.subTree,ke,Ie,null)};Xe?$e.type.__asyncLoader().then(()=>!ke.isUnmounted&&ct()):ct()}else{const ct=ke.subTree=fre(ke);C(null,ct,Ze,De,ke,Ie,re),$e.el=ct.el}if(Qe&&Jh(Qe,Ie),!Xe&&(oe=le&&le.onVnodeMounted)){const ct=$e;Jh(()=>D1(oe,ze,ct),Ie)}($e.shapeFlag&256||ze&&MZ(ze.vnode)&&ze.vnode.shapeFlag&256)&&ke.a&&Jh(ke.a,Ie),ke.isMounted=!0,$e=Ze=De=null}},se=ke.effect=new bae(te,()=>kae(ue),ke.scope),ue=ke.update=()=>se.run();ue.id=ke.uid,cC(ke,!0),ue()},me=(ke,$e,Ze)=>{$e.component=ke;const De=ke.vnode.props;ke.vnode=$e,ke.next=null,fwe(ke,$e.props,De,Ze),mwe(ke,$e.children,Ze),OM(),vue(),xM()},ae=(ke,$e,Ze,De,Ie,re,ye,te,se=!1)=>{const ue=ke&&ke.children,oe=ke?ke.shapeFlag:0,Se=$e.children,{patchFlag:le,shapeFlag:Ce}=$e;if(le>0){if(le&128){fe(ue,Se,Ze,De,Ie,re,ye,te,se);return}else if(le&256){q(ue,Se,Ze,De,Ie,re,ye,te,se);return}}Ce&8?(oe&16&&ne(ue,Ie,re),Se!==ue&&v(Ze,Se)):oe&16?Ce&16?fe(ue,Se,Ze,De,Ie,re,ye,te,se):ne(ue,Ie,re,!0):(oe&8&&v(Ze,""),Ce&16&&z(Se,Ze,De,Ie,re,ye,te,se))},q=(ke,$e,Ze,De,Ie,re,ye,te,se)=>{ke=ke||zP,$e=$e||zP;const ue=ke.length,oe=$e.length,Se=Math.min(ue,oe);let le;for(le=0;le<Se;le++){const Ce=$e[le]=se?aS($e[le]):Q1($e[le]);C(ke[le],Ce,Ze,null,Ie,re,ye,te,se)}ue>oe?ne(ke,Ie,re,!0,!1,Se):z($e,Ze,De,Ie,re,ye,te,se,Se)},fe=(ke,$e,Ze,De,Ie,re,ye,te,se)=>{let ue=0;const oe=$e.length;let Se=ke.length-1,le=oe-1;for(;ue<=Se&&ue<=le;){const Ce=ke[ue],Qe=$e[ue]=se?aS($e[ue]):Q1($e[ue]);if(yC(Ce,Qe))C(Ce,Qe,Ze,null,Ie,re,ye,te,se);else break;ue++}for(;ue<=Se&&ue<=le;){const Ce=ke[Se],Qe=$e[le]=se?aS($e[le]):Q1($e[le]);if(yC(Ce,Qe))C(Ce,Qe,Ze,null,Ie,re,ye,te,se);else break;Se--,le--}if(ue>Se){if(ue<=le){const Ce=le+1,Qe=Ce<oe?$e[Ce].el:De;for(;ue<=le;)C(null,$e[ue]=se?aS($e[ue]):Q1($e[ue]),Ze,Qe,Ie,re,ye,te,se),ue++}}else if(ue>le)for(;ue<=Se;)be(ke[ue],Ie,re,!0),ue++;else{const Ce=ue,Qe=ue,ze=new Map;for(ue=Qe;ue<=le;ue++){const ft=$e[ue]=se?aS($e[ue]):Q1($e[ue]);ft.key!=null&&ze.set(ft.key,ue)}let Xe,ct=0;const pt=le-Qe+1;let Ye=!1,je=0;const et=new Array(pt);for(ue=0;ue<pt;ue++)et[ue]=0;for(ue=Ce;ue<=Se;ue++){const ft=ke[ue];if(ct>=pt){be(ft,Ie,re,!0);continue}let tt;if(ft.key!=null)tt=ze.get(ft.key);else for(Xe=Qe;Xe<=le;Xe++)if(et[Xe-Qe]===0&&yC(ft,$e[Xe])){tt=Xe;break}tt===void 0?be(ft,Ie,re,!0):(et[tt-Qe]=ue+1,tt>=je?je=tt:Ye=!0,C(ft,$e[tt],Ze,null,Ie,re,ye,te,se),ct++)}const yt=Ye?vwe(et):zP;for(Xe=yt.length-1,ue=pt-1;ue>=0;ue--){const ft=Qe+ue,tt=$e[ft],wt=ft+1<oe?$e[ft+1].el:De;et[ue]===0?C(null,tt,Ze,wt,Ie,re,ye,te,se):Ye&&(Xe<0||ue!==yt[Xe]?ee(tt,Ze,wt,2):Xe--)}}},ee=(ke,$e,Ze,De,Ie=null)=>{const{el:re,type:ye,transition:te,children:se,shapeFlag:ue}=ke;if(ue&6){ee(ke.component.subTree,$e,Ze,De);return}if(ue&128){ke.suspense.move($e,Ze,De);return}if(ue&64){ye.move(ke,$e,Ze,Oe);return}if(ye===Go){a(re,$e,Ze);for(let Se=0;Se<se.length;Se++)ee(se[Se],$e,Ze,De);a(ke.anchor,$e,Ze);return}if(ye===mre){M(ke,$e,Ze);return}if(De!==2&&ue&1&&te)if(De===0)te.beforeEnter(re),a(re,$e,Ze),Jh(()=>te.enter(re),Ie);else{const{leave:Se,delayLeave:le,afterLeave:Ce}=te,Qe=()=>a(re,$e,Ze),ze=()=>{Se(re,()=>{Qe(),Ce&&Ce()})};le?le(re,Qe,ze):ze()}else a(re,$e,Ze)},be=(ke,$e,Ze,De=!1,Ie=!1)=>{const{type:re,props:ye,ref:te,children:se,dynamicChildren:ue,shapeFlag:oe,patchFlag:Se,dirs:le}=ke;if(te!=null&&_oe(te,null,Ze,ke,!0),oe&256){$e.ctx.deactivate(ke);return}const Ce=oe&1&&le,Qe=!MZ(ke);let ze;if(Qe&&(ze=ye&&ye.onVnodeBeforeUnmount)&&D1(ze,$e,ke),oe&6)ge(ke.component,Ze,De);else{if(oe&128){ke.suspense.unmount(Ze,De);return}Ce&&lC(ke,null,$e,"beforeUnmount"),oe&64?ke.type.remove(ke,$e,Ze,Ie,Oe,De):ue&&(re!==Go||Se>0&&Se&64)?ne(ue,$e,Ze,!1,!0):(re===Go&&Se&384||!Ie&&oe&16)&&ne(se,$e,Ze),De&&Te(ke)}(Qe&&(ze=ye&&ye.onVnodeUnmounted)||Ce)&&Jh(()=>{ze&&D1(ze,$e,ke),Ce&&lC(ke,null,$e,"unmounted")},Ze)},Te=ke=>{const{type:$e,el:Ze,anchor:De,transition:Ie}=ke;if($e===Go){Be(Ze,De);return}if($e===mre){I(ke);return}const re=()=>{i(Ze),Ie&&!Ie.persisted&&Ie.afterLeave&&Ie.afterLeave()};if(ke.shapeFlag&1&&Ie&&!Ie.persisted){const{leave:ye,delayLeave:te}=Ie,se=()=>ye(Ze,re);te?te(ke.el,re,se):se()}else re()},Be=(ke,$e)=>{let Ze;for(;ke!==$e;)Ze=b(ke),i(ke),ke=Ze;i($e)},ge=(ke,$e,Ze)=>{const{bum:De,scope:Ie,update:re,subTree:ye,um:te}=ke;De&&PZ(De),Ie.stop(),re&&(re.active=!1,be(ye,ke,$e,Ze)),te&&Jh(te,$e),Jh(()=>{ke.isUnmounted=!0},$e),$e&&$e.pendingBranch&&!$e.isUnmounted&&ke.asyncDep&&!ke.asyncResolved&&ke.suspenseId===$e.pendingId&&($e.deps--,$e.deps===0&&$e.resolve())},ne=(ke,$e,Ze,De=!1,Ie=!1,re=0)=>{for(let ye=re;ye<ke.length;ye++)be(ke[ye],$e,Ze,De,Ie)},pe=ke=>ke.shapeFlag&6?pe(ke.component.subTree):ke.shapeFlag&128?ke.suspense.next():b(ke.anchor||ke.el),G=(ke,$e,Ze)=>{ke==null?$e._vnode&&be($e._vnode,null,null,!0):C($e._vnode||null,ke,$e,null,null,null,Ze),vue(),Uge(),$e._vnode=ke},Oe={p:C,um:be,m:ee,r:Te,mt:Y,mc:z,pc:ae,pbc:Q,n:pe,o:t};let xe,Le;return e&&([xe,Le]=e(Oe)),{render:G,hydrate:xe,createApp:cwe(G,xe)}}function cC({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function Iae(t,e,r=!1){const a=t.children,i=e.children;if(Us(a)&&Us(i))for(let d=0;d<a.length;d++){const f=a[d];let h=i[d];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=i[d]=aS(i[d]),h.el=f.el),r||Iae(f,h)),h.type===D$&&(h.el=f.el)}}function vwe(t){const e=t.slice(),r=[0];let a,i,d,f,h;const u=t.length;for(a=0;a<u;a++){const p=t[a];if(p!==0){if(i=r[r.length-1],t[i]<p){e[a]=i,r.push(a);continue}for(d=0,f=r.length-1;d<f;)h=d+f>>1,t[r[h]]<p?d=h+1:f=h;p<t[r[d]]&&(d>0&&(e[a]=r[d-1]),r[d]=a)}}for(d=r.length,f=r[d-1];d-- >0;)r[d]=f,f=e[f];return r}const ywe=t=>t.__isTeleport,DD=t=>t&&(t.disabled||t.disabled===""),Mue=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Roe=(t,e)=>{const r=t&&t.to;return Bc(r)?e?e(r):null:r},bwe={__isTeleport:!0,process(t,e,r,a,i,d,f,h,u,p){const{mc:v,pc:y,pbc:b,o:{insert:x,querySelector:k,createText:C,createComment:w}}=p,T=DD(e.props);let{shapeFlag:R,children:M,dynamicChildren:I}=e;if(t==null){const V=e.el=C(""),N=e.anchor=C("");x(V,r,a),x(N,r,a);const F=e.target=Roe(e.props,k),z=e.targetAnchor=C("");F&&(x(z,F),f=f||Mue(F));const U=(Q,B)=>{R&16&&v(M,Q,B,i,d,f,h,u)};T?U(r,N):F&&U(F,z)}else{e.el=t.el;const V=e.anchor=t.anchor,N=e.target=t.target,F=e.targetAnchor=t.targetAnchor,z=DD(t.props),U=z?r:N,Q=z?V:F;if(f=f||Mue(N),I?(b(t.dynamicChildren,I,U,i,d,f,h),Iae(t,e,!0)):u||y(t,e,U,Q,i,d,f,h,!1),T)z||Hz(e,r,V,p,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=Roe(e.props,k);B&&Hz(e,B,null,p,0)}else z&&Hz(e,N,F,p,1)}upe(e)},remove(t,e,r,a,{um:i,o:{remove:d}},f){const{shapeFlag:h,children:u,anchor:p,targetAnchor:v,target:y,props:b}=t;if(y&&d(v),(f||!DD(b))&&(d(p),h&16))for(let x=0;x<u.length;x++){const k=u[x];i(k,e,r,!0,!!k.dynamicChildren)}},move:Hz,hydrate:Owe};function Hz(t,e,r,{o:{insert:a},m:i},d=2){d===0&&a(t.targetAnchor,e,r);const{el:f,anchor:h,shapeFlag:u,children:p,props:v}=t,y=d===2;if(y&&a(f,e,r),(!y||DD(v))&&u&16)for(let b=0;b<p.length;b++)i(p[b],e,r,2);y&&a(h,e,r)}function Owe(t,e,r,a,i,d,{o:{nextSibling:f,parentNode:h,querySelector:u}},p){const v=e.target=Roe(e.props,u);if(v){const y=v._lpa||v.firstChild;if(e.shapeFlag&16)if(DD(e.props))e.anchor=p(f(t),e,h(t),r,a,i,d),e.targetAnchor=y;else{e.anchor=f(t);let b=y;for(;b;)if(b=f(b),b&&b.nodeType===8&&b.data==="teleport anchor"){e.targetAnchor=b,v._lpa=e.targetAnchor&&f(e.targetAnchor);break}p(y,e,v,r,a,i,d)}upe(e)}return e.anchor&&f(e.anchor)}const xwe=bwe;function upe(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Go=Symbol.for("v-fgt"),D$=Symbol.for("v-txt"),Qv=Symbol.for("v-cmt"),mre=Symbol.for("v-stc"),$D=[];let Iv=null;function so(t=!1){$D.push(Iv=t?null:[])}function Swe(){$D.pop(),Iv=$D[$D.length-1]||null}let qD=1;function Eue(t){qD+=t}function fpe(t){return t.dynamicChildren=qD>0?Iv||zP:null,Swe(),qD>0&&Iv&&Iv.push(t),t}function La(t,e,r,a,i,d){return fpe(kd(t,e,r,a,i,d,!0))}function Ts(t,e,r,a,i){return fpe(lt(t,e,r,a,i,!0))}function Doe(t){return t?t.__v_isVNode===!0:!1}function yC(t,e){return t.type===e.type&&t.key===e.key}const uU="__vInternal",dpe=({key:t})=>t??null,EZ=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Bc(t)||mc(t)||wa(t)?{i:fg,r:t,k:e,f:!!r}:t:null);function kd(t,e=null,r=null,a=0,i=null,d=t===Go?0:1,f=!1,h=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dpe(e),ref:e&&EZ(e),scopeId:Xge,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:fg};return h?(Nae(u,r),d&128&&t.normalize(u)):r&&(u.shapeFlag|=Bc(r)?8:16),qD>0&&!f&&Iv&&(u.patchFlag>0||d&6)&&u.patchFlag!==32&&Iv.push(u),u}const lt=wwe;function wwe(t,e=null,r=null,a=0,i=null,d=!1){if((!t||t===npe)&&(t=Qv),Doe(t)){const h=pO(t,e,!0);return r&&Nae(h,r),qD>0&&!d&&Iv&&(h.shapeFlag&6?Iv[Iv.indexOf(t)]=h:Iv.push(h)),h.patchFlag|=-2,h}if(Dwe(t)&&(t=t.__vccOpts),e){e=Twe(e);let{class:h,style:u}=e;h&&!Bc(h)&&(e.class=rU(h)),Tl(u)&&(Ige(u)&&!Us(u)&&(u=Jc({},u)),e.style=nU(u))}const f=Bc(t)?1:HSe(t)?128:ywe(t)?64:Tl(t)?4:wa(t)?2:0;return kd(t,e,r,a,i,f,d,!0)}function Twe(t){return t?Ige(t)||uU in t?Jc({},t):t:null}function pO(t,e,r=!1){const{props:a,ref:i,patchFlag:d,children:f}=t,h=e?rs(a||{},e):a;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&dpe(h),ref:e&&e.ref?r&&i?Us(i)?i.concat(EZ(e)):[i,EZ(e)]:EZ(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:f,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Go?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pO(t.ssContent),ssFallback:t.ssFallback&&pO(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function gi(t=" ",e=0){return lt(D$,null,t,e)}function Nu(t="",e=!1){return e?(so(),Ts(Qv,null,t)):lt(Qv,null,t)}function Q1(t){return t==null||typeof t=="boolean"?lt(Qv):Us(t)?lt(Go,null,t.slice()):typeof t=="object"?aS(t):lt(D$,null,String(t))}function aS(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:pO(t)}function Nae(t,e){let r=0;const{shapeFlag:a}=t;if(e==null)e=null;else if(Us(e))r=16;else if(typeof e=="object")if(a&65){const i=e.default;i&&(i._c&&(i._d=!1),Nae(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(uU in e)?e._ctx=fg:i===3&&fg&&(fg.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else wa(e)?(e={default:e,_ctx:fg},r=32):(e=String(e),a&64?(r=16,e=[gi(e)]):r=8);t.children=e,t.shapeFlag|=r}function rs(...t){const e={};for(let r=0;r<t.length;r++){const a=t[r];for(const i in a)if(i==="class")e.class!==a.class&&(e.class=rU([e.class,a.class]));else if(i==="style")e.style=nU([e.style,a.style]);else if(JH(i)){const d=e[i],f=a[i];f&&d!==f&&!(Us(d)&&d.includes(f))&&(e[i]=d?[].concat(d,f):f)}else i!==""&&(e[i]=a[i])}return e}function D1(t,e,r,a=null){Tp(t,e,7,[r,a])}const Cwe=ope();let kwe=0;function Awe(t,e,r){const a=t.type,i=(e?e.appContext:t.appContext)||Cwe,d={uid:kwe++,vnode:t,type:a,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Cge(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ape(a,i),emitsOptions:Yge(a,i),emit:null,emitted:null,propsDefaults:Bl,inheritAttrs:a.inheritAttrs,ctx:Bl,data:Bl,props:Bl,attrs:Bl,slots:Bl,refs:Bl,setupState:Bl,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=e?e.root:d,d.emit=QSe.bind(null,d),t.ce&&t.ce(d),d}let Of=null;const Bae=()=>Of||fg;let Qae,_P,_ue="__VUE_INSTANCE_SETTERS__";(_P=Soe()[_ue])||(_P=Soe()[_ue]=[]),_P.push(t=>Of=t),Qae=t=>{_P.length>1?_P.forEach(e=>e(t)):_P[0](t)};const rM=t=>{Qae(t),t.scope.on()},MC=()=>{Of&&Of.scope.off(),Qae(null)};function hpe(t){return t.vnode.shapeFlag&4}let KD=!1;function Pwe(t,e=!1){KD=e;const{props:r,children:a}=t.vnode,i=hpe(t);uwe(t,r,i,e),hwe(t,a);const d=i?Mwe(t,e):void 0;return KD=!1,d}function Mwe(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=Nge(new Proxy(t.ctx,nwe));const{setup:a}=r;if(a){const i=t.setupContext=a.length>1?_we(t):null;rM(t),OM();const d=gS(a,t,0,[t.props,i]);if(xM(),MC(),Oge(d)){if(d.then(MC,MC),e)return d.then(f=>{Rue(t,f,e)}).catch(f=>{aU(f,t,0)});t.asyncDep=d}else Rue(t,d,e)}else mpe(t,e)}function Rue(t,e,r){wa(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tl(e)&&(t.setupState=Vge(e)),mpe(t,r)}let Due;function mpe(t,e,r){const a=t.type;if(!t.render){if(!e&&Due&&!a.render){const i=a.template||$ae(t).template;if(i){const{isCustomElement:d,compilerOptions:f}=t.appContext.config,{delimiters:h,compilerOptions:u}=a,p=Jc(Jc({isCustomElement:d,delimiters:h},f),u);a.render=Due(i,p)}}t.render=a.render||Bv}rM(t),OM(),rwe(t),xM(),MC()}function Ewe(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return sm(t,"get","$attrs"),e[r]}}))}function _we(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return Ewe(t)},slots:t.slots,emit:t.emit,expose:e}}function fU(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Vge(Nge(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in RD)return RD[r](t)},has(e,r){return r in e||r in RD}}))}function Rwe(t,e=!0){return wa(t)?t.displayName||t.name:t.name||e&&t.__name}function Dwe(t){return wa(t)&&"__vccOpts"in t}const sn=(t,e)=>DSe(t,e,KD);function hg(t,e,r){const a=arguments.length;return a===2?Tl(e)&&!Us(e)?Doe(e)?lt(t,null,[e]):lt(t,e):lt(t,null,e):(a>3?r=Array.prototype.slice.call(arguments,2):a===3&&Doe(r)&&(r=[r]),lt(t,e,r))}const $we=Symbol.for("v-scx"),Lwe=()=>ai($we),Iwe="3.3.4",Nwe="http://www.w3.org/2000/svg",bC=typeof document<"u"?document:null,$ue=bC&&bC.createElement("template"),Bwe={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,a)=>{const i=e?bC.createElementNS(Nwe,t):bC.createElement(t,r?{is:r}:void 0);return t==="select"&&a&&a.multiple!=null&&i.setAttribute("multiple",a.multiple),i},createText:t=>bC.createTextNode(t),createComment:t=>bC.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bC.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,a,i,d){const f=r?r.previousSibling:e.lastChild;if(i&&(i===d||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===d||!(i=i.nextSibling)););else{$ue.innerHTML=a?`<svg>${t}</svg>`:t;const h=$ue.content;if(a){const u=h.firstChild;for(;u.firstChild;)h.appendChild(u.firstChild);h.removeChild(u)}e.insertBefore(h,r)}return[f?f.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function Qwe(t,e,r){const a=t._vtc;a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function Fwe(t,e,r){const a=t.style,i=Bc(r);if(r&&!i){if(e&&!Bc(e))for(const d in e)r[d]==null&&$oe(a,d,"");for(const d in r)$oe(a,d,r[d])}else{const d=a.display;i?e!==r&&(a.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(a.display=d)}}const Lue=/\s*!important$/;function $oe(t,e,r){if(Us(r))r.forEach(a=>$oe(t,e,a));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const a=Vwe(t,e);Lue.test(r)?t.setProperty(bM(a),r.replace(Lue,""),"important"):t[a]=r}}const Iue=["Webkit","Moz","ms"],gre={};function Vwe(t,e){const r=gre[e];if(r)return r;let a=Pp(e);if(a!=="filter"&&a in t)return gre[e]=a;a=SO(a);for(let i=0;i<Iue.length;i++){const d=Iue[i]+a;if(d in t)return gre[e]=d}return e}const Nue="http://www.w3.org/1999/xlink";function zwe(t,e,r,a,i){if(a&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Nue,e.slice(6,e.length)):t.setAttributeNS(Nue,e,r);else{const d=q2e(e);r==null||d&&!wge(r)?t.removeAttribute(e):t.setAttribute(e,d?"":r)}}function Zwe(t,e,r,a,i,d,f){if(e==="innerHTML"||e==="textContent"){a&&f(a,i,d),t[e]=r??"";return}const h=t.tagName;if(e==="value"&&h!=="PROGRESS"&&!h.includes("-")){t._value=r;const p=h==="OPTION"?t.getAttribute("value"):t.value,v=r??"";p!==v&&(t.value=v),r==null&&t.removeAttribute(e);return}let u=!1;if(r===""||r==null){const p=typeof t[e];p==="boolean"?r=wge(r):r==null&&p==="string"?(r="",u=!0):p==="number"&&(r=0,u=!0)}try{t[e]=r}catch{}u&&t.removeAttribute(e)}function LP(t,e,r,a){t.addEventListener(e,r,a)}function Hwe(t,e,r,a){t.removeEventListener(e,r,a)}function Uwe(t,e,r,a,i=null){const d=t._vei||(t._vei={}),f=d[e];if(a&&f)f.value=a;else{const[h,u]=Wwe(e);if(a){const p=d[e]=Gwe(a,i);LP(t,h,p,u)}else f&&(Hwe(t,h,f,u),d[e]=void 0)}}const Bue=/(?:Once|Passive|Capture)$/;function Wwe(t){let e;if(Bue.test(t)){e={};let a;for(;a=t.match(Bue);)t=t.slice(0,t.length-a[0].length),e[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):bM(t.slice(2)),e]}let pre=0;const Ywe=Promise.resolve(),Xwe=()=>pre||(Ywe.then(()=>pre=0),pre=Date.now());function Gwe(t,e){const r=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=r.attached)return;Tp(jwe(a,r.value),e,5,[a])};return r.value=t,r.attached=Xwe(),r}function jwe(t,e){if(Us(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(a=>i=>!i._stopped&&a&&a(i))}else return e}const Que=/^on[a-z]/,qwe=(t,e,r,a,i=!1,d,f,h,u)=>{e==="class"?Qwe(t,a,i):e==="style"?Fwe(t,r,a):JH(e)?hae(e)||Uwe(t,e,r,a,f):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Kwe(t,e,a,i))?Zwe(t,e,a,d,f,h,u):(e==="true-value"?t._trueValue=a:e==="false-value"&&(t._falseValue=a),zwe(t,e,a,i))};function Kwe(t,e,r,a){return a?!!(e==="innerHTML"||e==="textContent"||e in t&&Que.test(e)&&wa(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Que.test(e)&&Bc(r)?!1:e in t}const rS="transition",lD="animation",vO=(t,{slots:e})=>hg(XSe,ppe(t),e);vO.displayName="Transition";const gpe={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Jwe=vO.props=Jc({},qge,gpe),uC=(t,e=[])=>{Us(t)?t.forEach(r=>r(...e)):t&&t(...e)},Fue=t=>t?Us(t)?t.some(e=>e.length>1):t.length>1:!1;function ppe(t){const e={};for(const E in t)E in gpe||(e[E]=t[E]);if(t.css===!1)return e;const{name:r="v",type:a,duration:i,enterFromClass:d=`${r}-enter-from`,enterActiveClass:f=`${r}-enter-active`,enterToClass:h=`${r}-enter-to`,appearFromClass:u=d,appearActiveClass:p=f,appearToClass:v=h,leaveFromClass:y=`${r}-leave-from`,leaveActiveClass:b=`${r}-leave-active`,leaveToClass:x=`${r}-leave-to`}=t,k=eTe(i),C=k&&k[0],w=k&&k[1],{onBeforeEnter:T,onEnter:R,onEnterCancelled:M,onLeave:I,onLeaveCancelled:V,onBeforeAppear:N=T,onAppear:F=R,onAppearCancelled:z=M}=e,U=(E,W,Y)=>{sS(E,W?v:h),sS(E,W?p:f),Y&&Y()},Q=(E,W)=>{E._isLeaving=!1,sS(E,y),sS(E,x),sS(E,b),W&&W()},B=E=>(W,Y)=>{const ie=E?F:R,L=()=>U(W,E,Y);uC(ie,[W,L]),Vue(()=>{sS(W,E?u:d),uO(W,E?v:h),Fue(ie)||zue(W,a,C,L)})};return Jc(e,{onBeforeEnter(E){uC(T,[E]),uO(E,d),uO(E,f)},onBeforeAppear(E){uC(N,[E]),uO(E,u),uO(E,p)},onEnter:B(!1),onAppear:B(!0),onLeave(E,W){E._isLeaving=!0;const Y=()=>Q(E,W);uO(E,y),ype(),uO(E,b),Vue(()=>{E._isLeaving&&(sS(E,y),uO(E,x),Fue(I)||zue(E,a,w,Y))}),uC(I,[E,Y])},onEnterCancelled(E){U(E,!1),uC(M,[E])},onAppearCancelled(E){U(E,!0),uC(z,[E])},onLeaveCancelled(E){Q(E),uC(V,[E])}})}function eTe(t){if(t==null)return null;if(Tl(t))return[vre(t.enter),vre(t.leave)];{const e=vre(t);return[e,e]}}function vre(t){return U2e(t)}function uO(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function sS(t,e){e.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function Vue(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let tTe=0;function zue(t,e,r,a){const i=t._endId=++tTe,d=()=>{i===t._endId&&a()};if(r)return setTimeout(d,r);const{type:f,timeout:h,propCount:u}=vpe(t,e);if(!f)return a();const p=f+"end";let v=0;const y=()=>{t.removeEventListener(p,b),d()},b=x=>{x.target===t&&++v>=u&&y()};setTimeout(()=>{v<u&&y()},h+1),t.addEventListener(p,b)}function vpe(t,e){const r=window.getComputedStyle(t),a=k=>(r[k]||"").split(", "),i=a(`${rS}Delay`),d=a(`${rS}Duration`),f=Zue(i,d),h=a(`${lD}Delay`),u=a(`${lD}Duration`),p=Zue(h,u);let v=null,y=0,b=0;e===rS?f>0&&(v=rS,y=f,b=d.length):e===lD?p>0&&(v=lD,y=p,b=u.length):(y=Math.max(f,p),v=y>0?f>p?rS:lD:null,b=v?v===rS?d.length:u.length:0);const x=v===rS&&/\b(transform|all)(,|$)/.test(a(`${rS}Property`).toString());return{type:v,timeout:y,propCount:b,hasTransform:x}}function Zue(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,a)=>Hue(r)+Hue(t[a])))}function Hue(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function ype(){return document.body.offsetHeight}const bpe=new WeakMap,Ope=new WeakMap,xpe={name:"TransitionGroup",props:Jc({},Jwe,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Bae(),a=jge();let i,d;return epe(()=>{if(!i.length)return;const f=t.moveClass||`${t.name||"v"}-move`;if(!iTe(i[0].el,r.vnode.el,f))return;i.forEach(oTe),i.forEach(sTe);const h=i.filter(aTe);ype(),h.forEach(u=>{const p=u.el,v=p.style;uO(p,f),v.transform=v.webkitTransform=v.transitionDuration="";const y=p._moveCb=b=>{b&&b.target!==p||(!b||/transform$/.test(b.propertyName))&&(p.removeEventListener("transitionend",y),p._moveCb=null,sS(p,f))};p.addEventListener("transitionend",y)})}),()=>{const f=va(t),h=ppe(f);let u=f.tag||Go;i=d,d=e.default?Pae(e.default()):[];for(let p=0;p<d.length;p++){const v=d[p];v.key!=null&&jD(v,GD(v,h,a,r))}if(i)for(let p=0;p<i.length;p++){const v=i[p];jD(v,GD(v,h,a,r)),bpe.set(v,v.el.getBoundingClientRect())}return lt(u,null,d)}}},nTe=t=>delete t.mode;xpe.props;const rTe=xpe;function oTe(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function sTe(t){Ope.set(t,t.el.getBoundingClientRect())}function aTe(t){const e=bpe.get(t),r=Ope.get(t),a=e.left-r.left,i=e.top-r.top;if(a||i){const d=t.el.style;return d.transform=d.webkitTransform=`translate(${a}px,${i}px)`,d.transitionDuration="0s",t}}function iTe(t,e,r){const a=t.cloneNode();t._vtc&&t._vtc.forEach(f=>{f.split(/\s+/).forEach(h=>h&&a.classList.remove(h))}),r.split(/\s+/).forEach(f=>f&&a.classList.add(f)),a.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(a);const{hasTransform:d}=vpe(a);return i.removeChild(a),d}const Uue=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Us(e)?r=>PZ(e,r):e};function lTe(t){t.target.composing=!0}function Wue(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cTe={created(t,{modifiers:{lazy:e,trim:r,number:a}},i){t._assign=Uue(i);const d=a||i.props&&i.props.type==="number";LP(t,e?"change":"input",f=>{if(f.target.composing)return;let h=t.value;r&&(h=h.trim()),d&&(h=xoe(h)),t._assign(h)}),r&&LP(t,"change",()=>{t.value=t.value.trim()}),e||(LP(t,"compositionstart",lTe),LP(t,"compositionend",Wue),LP(t,"change",Wue))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:a,number:i}},d){if(t._assign=Uue(d),t.composing||document.activeElement===t&&t.type!=="range"&&(r||a&&t.value.trim()===e||(i||t.type==="number")&&xoe(t.value)===e))return;const f=e??"";t.value!==f&&(t.value=f)}},uTe=["ctrl","shift","alt","meta"],fTe={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>uTe.some(r=>t[`${r}Key`]&&!e.includes(r))},Yue=(t,e)=>(r,...a)=>{for(let i=0;i<e.length;i++){const d=fTe[e[i]];if(d&&d(r,e))return}return t(r,...a)},ES={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):cD(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:a}){!e!=!r&&(a?e?(a.beforeEnter(t),cD(t,!0),a.enter(t)):a.leave(t,()=>{cD(t,!1)}):cD(t,e))},beforeUnmount(t,{value:e}){cD(t,e)}};function cD(t,e){t.style.display=e?t._vod:"none"}const dTe=Jc({patchProp:qwe},Bwe);let Xue;function hTe(){return Xue||(Xue=gwe(dTe))}const mTe=(...t)=>{const e=hTe().createApp(...t),{mount:r}=e;return e.mount=a=>{const i=gTe(a);if(!i)return;const d=e._component;!wa(d)&&!d.render&&!d.template&&(d.template=i.innerHTML),i.innerHTML="";const f=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),f},e};function gTe(t){return Bc(t)?document.querySelector(t):t}function pTe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Spe={exports:{}};(function(t,e){(function(a,i){t.exports=i()})(self,function(){return function(){var r={8847:function(f,h,u){var p=u(1828),v={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var y in v){var b=y.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(b,v[y])}},8222:function(f,h,u){f.exports=u(2887)},7206:function(f,h,u){f.exports=u(822)},9509:function(f,h,u){f.exports=u(2201)},9548:function(f,h,u){f.exports=u(8729)},1039:function(f,h,u){f.exports=u(4382)},4296:function(f,h,u){f.exports=u(3102)},2576:function(f,h,u){var p=u(9548);p.register([u(7206),u(4201),u(8222),u(1039),u(4296),u(6398),u(9509)]),f.exports=p},4201:function(f,h,u){f.exports=u(8810)},6398:function(f,h,u){f.exports=u(2275)},2884:function(f){f.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(f,h,u){var p=u(2884),v=u(1940),y=u(5555),b=u(4467).templatedArray;u(4695),f.exports=b("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:v({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",y.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",y.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",y.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",y.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:v({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(f,h,u){var p=u(1828),v=u(9298),y=u(2605).draw;f.exports=function(C){var w=C._fullLayout,T=p.filterVisible(w.annotations);if(T.length&&C._fullData.length)return p.syncOrAsync([y,b],C)};function b(k){var C=k._fullLayout;p.filterVisible(C.annotations).forEach(function(w){var T=v.getFromId(k,w.xref),R=v.getFromId(k,w.yref),M=v.getRefType(w.xref),I=v.getRefType(w.yref);w._extremes={},M==="range"&&x(w,T),I==="range"&&x(w,R)})}function x(k,C){var w=C._id,T=w.charAt(0),R=k[T],M=k["a"+T],I=k[T+"ref"],V=k["a"+T+"ref"],N=k["_"+T+"padplus"],F=k["_"+T+"padminus"],z={x:1,y:-1}[T]*k[T+"shift"],U=3*k.arrowsize*k.arrowwidth||0,Q=U+z,B=U-z,E=3*k.startarrowsize*k.arrowwidth||0,W=E+z,Y=E-z,ie;if(V===I){var L=v.findExtremes(C,[C.r2c(R)],{ppadplus:Q,ppadminus:B}),me=v.findExtremes(C,[C.r2c(M)],{ppadplus:Math.max(N,W),ppadminus:Math.max(F,Y)});ie={min:[L.min[0],me.min[0]],max:[L.max[0],me.max[0]]}}else W=M?W+M:W,Y=M?Y-M:Y,ie=v.findExtremes(C,[C.r2c(R)],{ppadplus:Math.max(N,Q,W),ppadminus:Math.max(F,B,Y)});k._extremes[w]=ie}},4317:function(f,h,u){var p=u(1828),v=u(3972),y=u(4467).arrayEditor;f.exports={hasClickToShow:b,onClick:x};function b(w,T){var R=k(w,T);return R.on.length>0||R.explicitOff.length>0}function x(w,T){var R=k(w,T),M=R.on,I=R.off.concat(R.explicitOff),V={},N=w._fullLayout.annotations,F,z;if(M.length||I.length){for(F=0;F<M.length;F++)z=y(w.layout,"annotations",N[M[F]]),z.modifyItem("visible",!0),p.extendFlat(V,z.getUpdateObj());for(F=0;F<I.length;F++)z=y(w.layout,"annotations",N[I[F]]),z.modifyItem("visible",!1),p.extendFlat(V,z.getUpdateObj());return v.call("update",w,{},V)}}function k(w,T){var R=w._fullLayout.annotations,M=[],I=[],V=[],N=(T||[]).length,F,z,U,Q,B,E,W,Y;for(F=0;F<R.length;F++)if(U=R[F],Q=U.clicktoshow,Q){for(z=0;z<N;z++)if(B=T[z],E=B.xaxis,W=B.yaxis,E._id===U.xref&&W._id===U.yref&&E.d2r(B.x)===C(U._xclick,E)&&W.d2r(B.y)===C(U._yclick,W)){U.visible?Q==="onout"?Y=I:Y=V:Y=M,Y.push(F);break}z===N&&U.visible&&Q==="onout"&&I.push(F)}return{on:M,off:I,explicitOff:V}}function C(w,T){return T.type==="log"?T.l2r(w):T.d2r(w)}},5625:function(f,h,u){var p=u(1828),v=u(7901);f.exports=function(b,x,k,C){C("opacity");var w=C("bgcolor"),T=C("bordercolor"),R=v.opacity(T);C("borderpad");var M=C("borderwidth"),I=C("showarrow");C("text",I?" ":k._dfltTitle.annotation),C("textangle"),p.coerceFont(C,"font",k.font),C("width"),C("align");var V=C("height");if(V&&C("valign"),I){var N=C("arrowside"),F,z;N.indexOf("end")!==-1&&(F=C("arrowhead"),z=C("arrowsize")),N.indexOf("start")!==-1&&(C("startarrowhead",F),C("startarrowsize",z)),C("arrowcolor",R?x.bordercolor:v.defaultLine),C("arrowwidth",(R&&M||1)*2),C("standoff"),C("startstandoff")}var U=C("hovertext"),Q=k.hoverlabel||{};if(U){var B=C("hoverlabel.bgcolor",Q.bgcolor||(v.opacity(w)?v.rgb(w):v.defaultLine)),E=C("hoverlabel.bordercolor",Q.bordercolor||v.contrast(B));p.coerceFont(C,"hoverlabel.font",{family:Q.font.family,size:Q.font.size,color:Q.font.color||E})}C("captureevents",!!U)}},4128:function(f,h,u){var p=u(2770),v=u(8163);f.exports=function(b,x,k,C){x=x||{};var w=k==="log"&&x.type==="linear",T=k==="linear"&&x.type==="log";if(!(w||T))return;var R=b._fullLayout.annotations,M=x._id.charAt(0),I,V;function N(z){var U=I[z],Q=null;w?Q=v(U,x.range):Q=Math.pow(10,U),p(Q)||(Q=null),C(V+z,Q)}for(var F=0;F<R.length;F++)I=R[F],V="annotations["+F+"].",I[M+"ref"]===x._id&&N(M),I["a"+M+"ref"]===x._id&&N("a"+M)}},4046:function(f,h,u){var p=u(1828),v=u(9298),y=u(5501),b=u(5625),x=u(215);f.exports=function(w,T){y(w,T,{name:"annotations",handleItemDefaults:k})};function k(C,w,T){function R(ae,q){return p.coerce(C,w,x,ae,q)}var M=R("visible"),I=R("clicktoshow");if(M||I){b(C,w,T,R);for(var V=w.showarrow,N=["x","y"],F=[-10,-30],z={_fullLayout:T},U=0;U<2;U++){var Q=N[U],B=v.coerceRef(C,w,z,Q,"","paper");if(B!=="paper"){var E=v.getFromId(z,B);E._annIndices.push(w._index)}if(v.coercePosition(w,z,R,B,Q,.5),V){var W="a"+Q,Y=v.coerceRef(C,w,z,W,"pixel",["pixel","paper"]);Y!=="pixel"&&Y!==B&&(Y=w[W]="pixel");var ie=Y==="pixel"?F[U]:.4;v.coercePosition(w,z,R,Y,W,ie)}R(Q+"anchor"),R(Q+"shift")}if(p.noneOrAll(C,w,["x","y"]),V&&p.noneOrAll(C,w,["ax","ay"]),I){var L=R("xclick"),me=R("yclick");w._xclick=L===void 0?w.x:v.cleanPosition(L,z,w.xref),w._yclick=me===void 0?w.y:v.cleanPosition(me,z,w.yref)}}}},2605:function(f,h,u){var p=u(9898),v=u(3972),y=u(4875),b=u(1828),x=b.strTranslate,k=u(9298),C=u(7901),w=u(1424),T=u(211),R=u(3893),M=u(6964),I=u(8569),V=u(4467).arrayEditor,N=u(3011);f.exports={draw:F,drawOne:z,drawRaw:Q};function F(B){var E=B._fullLayout;E._infolayer.selectAll(".annotation").remove();for(var W=0;W<E.annotations.length;W++)E.annotations[W].visible&&z(B,W);return y.previousPromises(B)}function z(B,E){var W=B._fullLayout,Y=W.annotations[E]||{},ie=k.getFromId(B,Y.xref),L=k.getFromId(B,Y.yref);ie&&ie.setScale(),L&&L.setScale(),Q(B,Y,E,!1,ie,L)}function U(B,E,W,Y,ie){var L=ie[W],me=ie[W+"ref"],ae=W.indexOf("y")!==-1,q=k.getRefType(me)==="domain",fe=ae?Y.h:Y.w;return B?q?L+(ae?-E:E)/B._length:B.p2r(B.r2p(L)+E):L+(ae?-E:E)/fe}function Q(B,E,W,Y,ie,L){var me=B._fullLayout,ae=B._fullLayout._size,q=B._context.edits,fe,ee;Y?(fe="annotation-"+Y,ee=Y+".annotations"):(fe="annotation",ee="annotations");var be=V(B.layout,ee,E),Te=be.modifyBase,Be=be.modifyItem,ge=be.getUpdateObj;me._infolayer.selectAll("."+fe+'[data-index="'+W+'"]').remove();var ne="clip"+me._uid+"_ann"+W;if(!E._input||E.visible===!1){p.selectAll("#"+ne).remove();return}var pe={x:{},y:{}},G=+E.textangle||0,Oe=me._infolayer.append("g").classed(fe,!0).attr("data-index",String(W)).style("opacity",E.opacity),xe=Oe.append("g").classed("annotation-text-g",!0),Le=q[E.showarrow?"annotationTail":"annotationPosition"],ke=E.captureevents||q.annotationText||Le;function $e(Qe){var ze={index:W,annotation:E._input,fullAnnotation:E,event:Qe};return Y&&(ze.subplotId=Y),ze}var Ze=xe.append("g").style("pointer-events",ke?"all":null).call(M,"pointer").on("click",function(){B._dragging=!1,B.emit("plotly_clickannotation",$e(p.event))});E.hovertext&&Ze.on("mouseover",function(){var Qe=E.hoverlabel,ze=Qe.font,Xe=this.getBoundingClientRect(),ct=B.getBoundingClientRect();T.loneHover({x0:Xe.left-ct.left,x1:Xe.right-ct.left,y:(Xe.top+Xe.bottom)/2-ct.top,text:E.hovertext,color:Qe.bgcolor,borderColor:Qe.bordercolor,fontFamily:ze.family,fontSize:ze.size,fontColor:ze.color},{container:me._hoverlayer.node(),outerContainer:me._paper.node(),gd:B})}).on("mouseout",function(){T.loneUnhover(me._hoverlayer.node())});var De=E.borderwidth,Ie=E.borderpad,re=De+Ie,ye=Ze.append("rect").attr("class","bg").style("stroke-width",De+"px").call(C.stroke,E.bordercolor).call(C.fill,E.bgcolor),te=E.width||E.height,se=me._topclips.selectAll("#"+ne).data(te?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",ne).append("rect"),se.exit().remove();var ue=E.font,oe=me._meta?b.templateString(E.text,me._meta):E.text,Se=Ze.append("text").classed("annotation-text",!0).text(oe);function le(Qe){return Qe.call(w.font,ue).attr({"text-anchor":{left:"start",right:"end"}[E.align]||"middle"}),R.convertToTspans(Qe,B,Ce),Qe}function Ce(){var Qe=Se.selectAll("a");if(Qe.size()===1&&Qe.text()===Se.text()){var ze=Ze.insert("a",":first-child").attr({"xlink:xlink:href":Qe.attr("xlink:href"),"xlink:xlink:show":Qe.attr("xlink:show")}).style({cursor:"pointer"});ze.node().appendChild(ye.node())}var Xe=Ze.select(".annotation-text-math-group"),ct=!Xe.empty(),pt=w.bBox((ct?Xe:Se).node()),Ye=pt.width,je=pt.height,et=E.width||Ye,yt=E.height||je,ft=Math.round(et+2*re),tt=Math.round(yt+2*re);function wt(vr,Wn){return Wn==="auto"&&(vr<.3333333333333333?Wn="left":vr>.6666666666666666?Wn="right":Wn="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Wn]}for(var Xt=!1,Gt=["x","y"],Nt=0;Nt<Gt.length;Nt++){var Bt=Gt[Nt],vn=E[Bt+"ref"]||Bt,En=E["a"+Bt+"ref"],ln={x:ie,y:L}[Bt],Yn=(G+(Bt==="x"?0:-90))*Math.PI/180,an=ft*Math.cos(Yn),wn=tt*Math.sin(Yn),Xn=Math.abs(an)+Math.abs(wn),Un=E[Bt+"anchor"],Sn=E[Bt+"shift"]*(Bt==="x"?1:-1),it=pe[Bt],ut,xt,gt,Dt,He,at=k.getRefType(vn);if(ln&&at!=="domain"){var dt=ln.r2fraction(E[Bt]);(dt<0||dt>1)&&(En===vn?(dt=ln.r2fraction(E["a"+Bt]),(dt<0||dt>1)&&(Xt=!0)):Xt=!0),ut=ln._offset+ln.r2p(E[Bt]),Dt=.5}else{var mt=at==="domain";Bt==="x"?(gt=E[Bt],ut=mt?ln._offset+ln._length*gt:ut=ae.l+ae.w*gt):(gt=1-E[Bt],ut=mt?ln._offset+ln._length*gt:ut=ae.t+ae.h*gt),Dt=E.showarrow?.5:gt}if(E.showarrow){it.head=ut;var Tt=E["a"+Bt];if(He=an*wt(.5,E.xanchor)-wn*wt(.5,E.yanchor),En===vn){var Pt=k.getRefType(En);Pt==="domain"?(Bt==="y"&&(Tt=1-Tt),it.tail=ln._offset+ln._length*Tt):Pt==="paper"?Bt==="y"?(Tt=1-Tt,it.tail=ae.t+ae.h*Tt):it.tail=ae.l+ae.w*Tt:it.tail=ln._offset+ln.r2p(Tt),xt=He}else it.tail=ut+Tt,xt=He+Tt;it.text=it.tail+He;var dn=me[Bt==="x"?"width":"height"];if(vn==="paper"&&(it.head=b.constrain(it.head,1,dn-1)),En==="pixel"){var nn=-Math.max(it.tail-3,it.text),Wt=Math.min(it.tail+3,it.text)-dn;nn>0?(it.tail+=nn,it.text+=nn):Wt>0&&(it.tail-=Wt,it.text-=Wt)}it.tail+=Sn,it.head+=Sn}else He=Xn*wt(Dt,Un),xt=He,it.text=ut+He;it.text+=Sn,He+=Sn,xt+=Sn,E["_"+Bt+"padplus"]=Xn/2+xt,E["_"+Bt+"padminus"]=Xn/2-xt,E["_"+Bt+"size"]=Xn,E["_"+Bt+"shift"]=He}if(Xt){Ze.remove();return}var Rt=0,fn=0;if(E.align!=="left"&&(Rt=(et-Ye)*(E.align==="center"?.5:1)),E.valign!=="top"&&(fn=(yt-je)*(E.valign==="middle"?.5:1)),ct)Xe.select("svg").attr({x:re+Rt-1,y:re+fn}).call(w.setClipUrl,te?ne:null,B);else{var Hn=re+fn-pt.top,nr=re+Rt-pt.left;Se.call(R.positionText,nr,Hn).call(w.setClipUrl,te?ne:null,B)}se.select("rect").call(w.setRect,re,re,et,yt),ye.call(w.setRect,De/2,De/2,ft-De,tt-De),Ze.call(w.setTranslate,Math.round(pe.x.text-ft/2),Math.round(pe.y.text-tt/2)),xe.attr({transform:"rotate("+G+","+pe.x.text+","+pe.y.text+")"});var Er=function(vr,Wn){Oe.selectAll(".annotation-arrow-g").remove();var Br=pe.x.head,kr=pe.y.head,or=pe.x.tail+vr,jr=pe.y.tail+Wn,_r=pe.x.text+vr,Rn=pe.y.text+Wn,xr=b.rotationXYMatrix(G,_r,Rn),sr=b.apply2DTransform(xr),Sr=b.apply2DTransform2(xr),ao=+ye.attr("width"),Oo=+ye.attr("height"),wr=_r-.5*ao,Fe=wr+ao,Ee=Rn-.5*Oo,St=Ee+Oo,Ct=[[wr,Ee,wr,St],[wr,St,Fe,St],[Fe,St,Fe,Ee],[Fe,Ee,wr,Ee]].map(Sr);if(!Ct.reduce(function(pn,Jn){return pn^!!b.segmentsIntersect(Br,kr,Br+1e6,kr+1e6,Jn[0],Jn[1],Jn[2],Jn[3])},!1)){Ct.forEach(function(pn){var Jn=b.segmentsIntersect(or,jr,Br,kr,pn[0],pn[1],pn[2],pn[3]);Jn&&(or=Jn.x,jr=Jn.y)});var Lt=E.arrowwidth,Ft=E.arrowcolor,Ht=E.arrowside,$t=Oe.append("g").style({opacity:C.opacity(Ft)}).classed("annotation-arrow-g",!0),Mt=$t.append("path").attr("d","M"+or+","+jr+"L"+Br+","+kr).style("stroke-width",Lt+"px").call(C.stroke,C.rgb(Ft));if(N(Mt,Ht,E),q.annotationPosition&&Mt.node().parentNode&&!Y){var en=Br,un=kr;if(E.standoff){var Jt=Math.sqrt(Math.pow(Br-or,2)+Math.pow(kr-jr,2));en+=E.standoff*(or-Br)/Jt,un+=E.standoff*(jr-kr)/Jt}var rn=$t.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(or-en)+","+(jr-un),transform:x(en,un)}).style("stroke-width",Lt+6+"px").call(C.stroke,"rgba(0,0,0,0)").call(C.fill,"rgba(0,0,0,0)"),Tn,On;I.init({element:rn.node(),gd:B,prepFn:function(){var pn=w.getTranslate(Ze);Tn=pn.x,On=pn.y,ie&&ie.autorange&&Te(ie._name+".autorange",!0),L&&L.autorange&&Te(L._name+".autorange",!0)},moveFn:function(pn,Jn){var Fn=sr(Tn,On),zr=Fn[0]+pn,dr=Fn[1]+Jn;Ze.call(w.setTranslate,zr,dr),Be("x",U(ie,pn,"x",ae,E)),Be("y",U(L,Jn,"y",ae,E)),E.axref===E.xref&&Be("ax",U(ie,pn,"ax",ae,E)),E.ayref===E.yref&&Be("ay",U(L,Jn,"ay",ae,E)),$t.attr("transform",x(pn,Jn)),xe.attr({transform:"rotate("+G+","+zr+","+dr+")"})},doneFn:function(){v.call("_guiRelayout",B,ge());var pn=document.querySelector(".js-notes-box-panel");pn&&pn.redraw(pn.selectedObj)}})}}};if(E.showarrow&&Er(0,0),Le){var zt;I.init({element:Ze.node(),gd:B,prepFn:function(){zt=xe.attr("transform")},moveFn:function(vr,Wn){var Br="pointer";if(E.showarrow)E.axref===E.xref?Be("ax",U(ie,vr,"ax",ae,E)):Be("ax",E.ax+vr),E.ayref===E.yref?Be("ay",U(L,Wn,"ay",ae.w,E)):Be("ay",E.ay+Wn),Er(vr,Wn);else{if(Y)return;var kr,or;if(ie)kr=U(ie,vr,"x",ae,E);else{var jr=E._xsize/ae.w,_r=E.x+(E._xshift-E.xshift)/ae.w-jr/2;kr=I.align(_r+vr/ae.w,jr,0,1,E.xanchor)}if(L)or=U(L,Wn,"y",ae,E);else{var Rn=E._ysize/ae.h,xr=E.y-(E._yshift+E.yshift)/ae.h-Rn/2;or=I.align(xr-Wn/ae.h,Rn,0,1,E.yanchor)}Be("x",kr),Be("y",or),(!ie||!L)&&(Br=I.getCursor(ie?.5:kr,L?.5:or,E.xanchor,E.yanchor))}xe.attr({transform:x(vr,Wn)+zt}),M(Ze,Br)},clickFn:function(vr,Wn){E.captureevents&&B.emit("plotly_clickannotation",$e(Wn))},doneFn:function(){M(Ze),v.call("_guiRelayout",B,ge());var vr=document.querySelector(".js-notes-box-panel");vr&&vr.redraw(vr.selectedObj)}})}}q.annotationText?Se.call(R.makeEditable,{delegate:Ze,gd:B}).call(le).on("edit",function(Qe){E.text=Qe,this.call(le),Be("text",Qe),ie&&ie.autorange&&Te(ie._name+".autorange",!0),L&&L.autorange&&Te(L._name+".autorange",!0),v.call("_guiRelayout",B,ge())}):Se.call(le)}},3011:function(f,h,u){var p=u(9898),v=u(7901),y=u(2884),b=u(1828),x=b.strScale,k=b.strRotate,C=b.strTranslate;f.exports=function(T,R,M){var I=T.node(),V=y[M.arrowhead||0],N=y[M.startarrowhead||0],F=(M.arrowwidth||1)*(M.arrowsize||1),z=(M.arrowwidth||1)*(M.startarrowsize||1),U=R.indexOf("start")>=0,Q=R.indexOf("end")>=0,B=V.backoff*F+M.standoff,E=N.backoff*z+M.startstandoff,W,Y,ie,L;if(I.nodeName==="line"){W={x:+T.attr("x1"),y:+T.attr("y1")},Y={x:+T.attr("x2"),y:+T.attr("y2")};var me=W.x-Y.x,ae=W.y-Y.y;if(ie=Math.atan2(ae,me),L=ie+Math.PI,B&&E&&B+E>Math.sqrt(me*me+ae*ae)){xe();return}if(B){if(B*B>me*me+ae*ae){xe();return}var q=B*Math.cos(ie),fe=B*Math.sin(ie);Y.x+=q,Y.y+=fe,T.attr({x2:Y.x,y2:Y.y})}if(E){if(E*E>me*me+ae*ae){xe();return}var ee=E*Math.cos(ie),be=E*Math.sin(ie);W.x-=ee,W.y-=be,T.attr({x1:W.x,y1:W.y})}}else if(I.nodeName==="path"){var Te=I.getTotalLength(),Be="";if(Te<B+E){xe();return}var ge=I.getPointAtLength(0),ne=I.getPointAtLength(.1);ie=Math.atan2(ge.y-ne.y,ge.x-ne.x),W=I.getPointAtLength(Math.min(E,Te)),Be="0px,"+E+"px,";var pe=I.getPointAtLength(Te),G=I.getPointAtLength(Te-.1);L=Math.atan2(pe.y-G.y,pe.x-G.x),Y=I.getPointAtLength(Math.max(0,Te-B));var Oe=Be?E+B:B;Be+=Te-Oe+"px,"+Te+"px",T.style("stroke-dasharray",Be)}function xe(){T.style("stroke-dasharray","0px,100px")}function Le(ke,$e,Ze,De){ke.path&&(ke.noRotate&&(Ze=0),p.select(I.parentNode).append("path").attr({class:T.attr("class"),d:ke.path,transform:C($e.x,$e.y)+k(Ze*180/Math.PI)+x(De)}).style({fill:v.rgb(M.arrowcolor),"stroke-width":0}))}U&&Le(N,W,ie,z),Q&&Le(V,Y,L,F)}},2745:function(f,h,u){var p=u(2605),v=u(4317);f.exports={moduleType:"component",name:"annotations",layoutAttributes:u(215),supplyLayoutDefaults:u(4046),includeBasePlot:u(6325)("annotations"),calcAutorange:u(3749),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:v.hasClickToShow,onClick:v.onClick,convertCoords:u(4128)}},6997:function(f,h,u){var p=u(215),v=u(962).overrideAll,y=u(4467).templatedArray;f.exports=v(y("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},5485:function(f,h,u){var p=u(1828),v=u(9298);f.exports=function(x){for(var k=x.fullSceneLayout,C=k.annotations,w=0;w<C.length;w++)y(C[w],x);x.fullLayout._infolayer.selectAll(".annotation-"+x.id).remove()};function y(b,x){var k=x.fullSceneLayout,C=k.domain,w=x.fullLayout._size,T={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};b._xa={},p.extendFlat(b._xa,T),v.setConvert(b._xa),b._xa._offset=w.l+C.x[0]*w.w,b._xa.l2p=function(){return .5*(1+b._pdata[0]/b._pdata[3])*w.w*(C.x[1]-C.x[0])},b._ya={},p.extendFlat(b._ya,T),v.setConvert(b._ya),b._ya._offset=w.t+(1-C.y[1])*w.h,b._ya.l2p=function(){return .5*(1-b._pdata[1]/b._pdata[3])*w.h*(C.y[1]-C.y[0])}}},226:function(f,h,u){var p=u(1828),v=u(9298),y=u(5501),b=u(5625),x=u(6997);f.exports=function(w,T,R){y(w,T,{name:"annotations",handleItemDefaults:k,fullLayout:R.fullLayout})};function k(C,w,T,R){function M(N,F){return p.coerce(C,w,x,N,F)}function I(N){var F=N+"axis",z={_fullLayout:{}};return z._fullLayout[F]=T[F],v.coercePosition(w,z,M,N,N,.5)}var V=M("visible");V&&(b(C,w,R.fullLayout,M),I("x"),I("y"),I("z"),p.noneOrAll(C,w,["x","y","z"]),w.xref="x",w.yref="y",w.zref="z",M("xanchor"),M("yanchor"),M("xshift"),M("yshift"),w.showarrow&&(w.axref="pixel",w.ayref="pixel",M("ax",-10),M("ay",-30),p.noneOrAll(C,w,["ax","ay"])))}},2188:function(f,h,u){var p=u(2605).drawRaw,v=u(3538),y=["x","y","z"];f.exports=function(x){for(var k=x.fullSceneLayout,C=x.dataScale,w=k.annotations,T=0;T<w.length;T++){for(var R=w[T],M=!1,I=0;I<3;I++){var V=y[I],N=R[V],F=k[V+"axis"],z=F.r2fraction(N);if(z<0||z>1){M=!0;break}}M?x.fullLayout._infolayer.select(".annotation-"+x.id+'[data-index="'+T+'"]').remove():(R._pdata=v(x.glplot.cameraParams,[k.xaxis.r2l(R.x)*C[0],k.yaxis.r2l(R.y)*C[1],k.zaxis.r2l(R.z)*C[2]]),p(x.graphDiv,R,T,x.id,R._xa,R._ya))}}},2468:function(f,h,u){var p=u(3972),v=u(1828);f.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:u(6997)}}},layoutAttributes:u(6997),handleDefaults:u(226),includeBasePlot:y,convert:u(5485),draw:u(2188)};function y(b,x){var k=p.subplotsRegistry.gl3d;if(k)for(var C=k.attrRegex,w=Object.keys(b),T=0;T<w.length;T++){var R=w[T];C.test(R)&&(b[R].annotations||[]).length&&(v.pushUnique(x._basePlotModules,k),v.pushUnique(x._subplots.gl3d,R))}}},7561:function(f,h,u){f.exports=u(3489),u(4338),u(3961),u(8751),u(6825),u(7715),u(9384),u(3805),u(8874),u(3290),u(9108),u(5422),u(4320),u(1320),u(1367),u(1457)},2201:function(f,h,u){var p=u(7561),v=u(1828),y=u(606),b=y.EPOCHJD,x=y.ONEDAY,k={valType:"enumerated",values:v.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},C=function(ie,L,me,ae){var q={};return q[me]=k,v.coerce(ie,L,q,me,ae)},w=function(ie,L,me,ae){for(var q=0;q<me.length;q++)C(ie,L,me[q]+"calendar",ae.calendar)},T={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},R={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},M={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},I="##",V={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:I,w:I,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function N(ie,L,me){for(var ae=Math.floor((L+.05)/x)+b,q=z(me).fromJD(ae),fe=0,ee,be,Te,Be,ge;(fe=ie.indexOf("%",fe))!==-1;)ee=ie.charAt(fe+1),ee==="0"||ee==="-"||ee==="_"?(Te=3,be=ie.charAt(fe+2),ee==="_"&&(ee="-")):(be=ee,ee="0",Te=2),Be=V[be],Be?(Be===I?ge=I:ge=q.formatDate(Be[ee]),ie=ie.substr(0,fe)+ge+ie.substr(fe+Te),fe+=ge.length):fe+=Te;return ie}var F={};function z(ie){var L=F[ie];return L||(L=F[ie]=p.instance(ie),L)}function U(ie){return v.extendFlat({},k,{description:ie})}function Q(ie){return"Sets the calendar system to use with `"+ie+"` date data."}var B={xcalendar:U(Q("x"))},E=v.extendFlat({},B,{ycalendar:U(Q("y"))}),W=v.extendFlat({},E,{zcalendar:U(Q("z"))}),Y=U(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));f.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:E,bar:E,box:E,heatmap:E,contour:E,histogram:E,histogram2d:E,histogram2dcontour:E,scatter3d:W,surface:W,mesh3d:W,scattergl:E,ohlc:B,candlestick:B},layout:{calendar:U(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:Y},yaxis:{calendar:Y},scene:{xaxis:{calendar:Y},yaxis:{calendar:Y},zaxis:{calendar:Y}},polar:{radialaxis:{calendar:Y}}},transforms:{filter:{valuecalendar:U(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:U(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:k,handleDefaults:C,handleTraceDefaults:w,CANONICAL_SUNDAY:R,CANONICAL_TICK:T,DFLTRANGE:M,getCal:z,worldCalFmt:N}},2399:function(f,h){h.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],h.defaultLine="#444",h.lightLine="#eee",h.background="#fff",h.borderLine="#BEC8D9",h.lightFraction=90.9090909090909},7901:function(f,h,u){var p=u(4267),v=u(2770),y=u(3627).isTypedArray,b=f.exports={},x=u(2399);b.defaults=x.defaults;var k=b.defaultLine=x.defaultLine;b.lightLine=x.lightLine;var C=b.background=x.background;b.tinyRGB=function(T){var R=T.toRgb();return"rgb("+Math.round(R.r)+", "+Math.round(R.g)+", "+Math.round(R.b)+")"},b.rgb=function(T){return b.tinyRGB(p(T))},b.opacity=function(T){return T?p(T).getAlpha():0},b.addOpacity=function(T,R){var M=p(T).toRgb();return"rgba("+Math.round(M.r)+", "+Math.round(M.g)+", "+Math.round(M.b)+", "+R+")"},b.combine=function(T,R){var M=p(T).toRgb();if(M.a===1)return p(T).toRgbString();var I=p(R||C).toRgb(),V=I.a===1?I:{r:255*(1-I.a)+I.r*I.a,g:255*(1-I.a)+I.g*I.a,b:255*(1-I.a)+I.b*I.a},N={r:V.r*(1-M.a)+M.r*M.a,g:V.g*(1-M.a)+M.g*M.a,b:V.b*(1-M.a)+M.b*M.a};return p(N).toRgbString()},b.contrast=function(T,R,M){var I=p(T);I.getAlpha()!==1&&(I=p(b.combine(T,C)));var V=I.isDark()?R?I.lighten(R):C:M?I.darken(M):k;return V.toString()},b.stroke=function(T,R){var M=p(R);T.style({stroke:b.tinyRGB(M),"stroke-opacity":M.getAlpha()})},b.fill=function(T,R){var M=p(R);T.style({fill:b.tinyRGB(M),"fill-opacity":M.getAlpha()})},b.clean=function(T){if(!(!T||typeof T!="object")){var R=Object.keys(T),M,I,V,N;for(M=0;M<R.length;M++)if(V=R[M],N=T[V],V.substr(V.length-5)==="color")if(Array.isArray(N))for(I=0;I<N.length;I++)N[I]=w(N[I]);else T[V]=w(N);else if(V.substr(V.length-10)==="colorscale"&&Array.isArray(N))for(I=0;I<N.length;I++)Array.isArray(N[I])&&(N[I][1]=w(N[I][1]));else if(Array.isArray(N)){var F=N[0];if(!Array.isArray(F)&&F&&typeof F=="object")for(I=0;I<N.length;I++)b.clean(N[I])}else N&&typeof N=="object"&&!y(N)&&b.clean(N)}};function w(T){if(v(T)||typeof T!="string")return T;var R=T.trim();if(R.substr(0,3)!=="rgb")return T;var M=R.match(/^rgba?\s*\(([^()]*)\)$/);if(!M)return T;var I=M[1].trim().split(/\s*[\s,]\s*/),V=R.charAt(3)==="a"&&I.length===4;if(!V&&I.length!==3)return T;for(var N=0;N<I.length;N++){if(!I[N].length||(I[N]=Number(I[N]),!(I[N]>=0)))return T;if(N===3)I[N]>1&&(I[N]=1);else if(I[N]>=1)return T}var F=Math.round(I[0]*255)+", "+Math.round(I[1]*255)+", "+Math.round(I[2]*255);return V?"rgba("+F+", "+I[3]+")":"rgb("+F+")"}},3583:function(f,h,u){var p=u(3838),v=u(1940),y=u(1426).extendFlat,b=u(962).overrideAll;f.exports=b({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:y({},p.ticks,{dflt:""}),ticklabeloverflow:y({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:v({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:v({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:v({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(f){f.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(f,h,u){var p=u(1828),v=u(4467),y=u(6218),b=u(8701),x=u(6115),k=u(9426),C=u(3583);f.exports=function(T,R,M){var I=v.newContainer(R,"colorbar"),V=T.colorbar||{};function N(pe,G){return p.coerce(V,I,C,pe,G)}var F=M.margin||{t:0,b:0,l:0,r:0},z=M.width-F.l-F.r,U=M.height-F.t-F.b,Q=N("orientation"),B=Q==="v",E=N("thicknessmode");N("thickness",E==="fraction"?30/(B?z:U):30);var W=N("lenmode");N("len",W==="fraction"?1:B?U:z);var Y=N("yref"),ie=N("xref"),L=Y==="paper",me=ie==="paper",ae,q,fe,ee="left";B?(fe="middle",ee=me?"left":"right",ae=me?1.02:1,q=.5):(fe=L?"bottom":"top",ee="center",ae=.5,q=L?1.02:1),p.coerce(V,I,{x:{valType:"number",min:me?-2:0,max:me?3:1,dflt:ae}},"x"),p.coerce(V,I,{y:{valType:"number",min:L?-2:0,max:L?3:1,dflt:q}},"y"),N("xanchor",ee),N("xpad"),N("yanchor",fe),N("ypad"),p.noneOrAll(V,I,["x","y"]),N("outlinecolor"),N("outlinewidth"),N("bordercolor"),N("borderwidth"),N("bgcolor");var be=p.coerce(V,I,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:B?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");N("ticklabeloverflow",be.indexOf("inside")!==-1?"hide past domain":"hide past div"),y(V,I,N,"linear");var Te=M.font,Be={outerTicks:!1,font:Te};be.indexOf("inside")!==-1&&(Be.bgColor="black"),k(V,I,N,"linear",Be),x(V,I,N,"linear",Be),b(V,I,N,"linear",Be),N("title.text",M._dfltTitle.colorbar);var ge=I.showticklabels?I.tickfont:Te,ne=p.extendFlat({},ge,{color:Te.color,size:p.bigFont(ge.size)});p.coerceFont(N,"title.font",ne),N("title.side",B?"top":"right")}},8981:function(f,h,u){var p=u(9898),v=u(4267),y=u(4875),b=u(3972),x=u(9298),k=u(8569),C=u(1828),w=C.strTranslate,T=u(1426).extendFlat,R=u(6964),M=u(1424),I=u(7901),V=u(2998),N=u(3893),F=u(2869).flipScale,z=u(1453),U=u(2830),Q=u(3838),B=u(8783),E=B.LINE_SPACING,W=B.FROM_TL,Y=B.FROM_BR,ie=u(939).cn;function L(be){var Te=be._fullLayout,Be=Te._infolayer.selectAll("g."+ie.colorbar).data(me(be),function(ge){return ge._id});Be.enter().append("g").attr("class",function(ge){return ge._id}).classed(ie.colorbar,!0),Be.each(function(ge){var ne=p.select(this);C.ensureSingle(ne,"rect",ie.cbbg),C.ensureSingle(ne,"g",ie.cbfills),C.ensureSingle(ne,"g",ie.cblines),C.ensureSingle(ne,"g",ie.cbaxis,function(G){G.classed(ie.crisp,!0)}),C.ensureSingle(ne,"g",ie.cbtitleunshift,function(G){G.append("g").classed(ie.cbtitle,!0)}),C.ensureSingle(ne,"rect",ie.cboutline);var pe=ae(ne,ge,be);pe&&pe.then&&(be._promises||[]).push(pe),be._context.edits.colorbarPosition&&q(ne,ge,be)}),Be.exit().each(function(ge){y.autoMargin(be,ge._id)}).remove(),Be.order()}function me(be){var Te=be._fullLayout,Be=be.calcdata,ge=[],ne,pe,G,Oe;function xe(ue){return T(ue,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Le(){typeof Oe.calc=="function"?Oe.calc(be,G,ne):(ne._fillgradient=pe.reversescale?F(pe.colorscale):pe.colorscale,ne._zrange=[pe[Oe.min],pe[Oe.max]])}for(var ke=0;ke<Be.length;ke++){var $e=Be[ke];if(G=$e[0].trace,!!G._module){var Ze=G._module.colorbar;if(G.visible===!0&&Ze)for(var De=Array.isArray(Ze),Ie=De?Ze:[Ze],re=0;re<Ie.length;re++){Oe=Ie[re];var ye=Oe.container;pe=ye?G[ye]:G,pe&&pe.showscale&&(ne=xe(pe.colorbar),ne._id="cb"+G.uid+(De&&ye?"-"+ye:""),ne._traceIndex=G.index,ne._propPrefix=(ye?ye+".":"")+"colorbar.",ne._meta=G._meta,Le(),ge.push(ne))}}}for(var te in Te._colorAxes)if(pe=Te[te],pe.showscale){var se=Te._colorAxes[te];ne=xe(pe.colorbar),ne._id="cb"+te,ne._propPrefix=te+".colorbar.",ne._meta=Te._meta,Oe={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(G=se[1],Oe.calc=G._module.colorbar.calc),Le(),ge.push(ne)}return ge}function ae(be,Te,Be){var ge=Te.orientation==="v",ne=Te.len,pe=Te.lenmode,G=Te.thickness,Oe=Te.thicknessmode,xe=Te.outlinewidth,Le=Te.borderwidth,ke=Te.bgcolor,$e=Te.xanchor,Ze=Te.yanchor,De=Te.xpad,Ie=Te.ypad,re=Te.x,ye=ge?Te.y:1-Te.y,te=Te.yref==="paper",se=Te.xref==="paper",ue=Be._fullLayout,oe=ue._size,Se=Te._fillcolor,le=Te._line,Ce=Te.title,Qe=Ce.side,ze=Te._zrange||p.extent((typeof Se=="function"?Se:le.color).domain()),Xe=typeof le.color=="function"?le.color:function(){return le.color},ct=typeof Se=="function"?Se:function(){return Se},pt=Te._levels,Ye=fe(Be,Te,ze),je=Ye.fill,et=Ye.line,yt=Math.round(G*(Oe==="fraction"?ge?oe.w:oe.h:1)),ft=yt/(ge?oe.w:oe.h),tt=Math.round(ne*(pe==="fraction"?ge?oe.h:oe.w:1)),wt=tt/(ge?oe.h:oe.w),Xt=se?oe.w:Be._fullLayout.width,Gt=te?oe.h:Be._fullLayout.height,Nt=Math.round(ge?re*Xt+De:ye*Gt+Ie),Bt={center:.5,right:1}[$e]||0,vn={top:1,middle:.5}[Ze]||0,En=ge?re-Bt*ft:ye-vn*ft,ln=ge?ye-vn*wt:re-Bt*wt,Yn=Math.round(ge?Gt*(1-ln):Xt*ln);Te._lenFrac=wt,Te._thickFrac=ft,Te._uFrac=En,Te._vFrac=ln;var an=Te._axis=ee(Be,Te,ze);an.position=ft+(ge?re+De/oe.w:ye+Ie/oe.h);var wn=["top","bottom"].indexOf(Qe)!==-1;if(ge&&wn&&(an.title.side=Qe,an.titlex=re+De/oe.w,an.titley=ln+(Ce.side==="top"?wt-Ie/oe.h:Ie/oe.h)),!ge&&!wn&&(an.title.side=Qe,an.titley=ye+Ie/oe.h,an.titlex=ln+De/oe.w),le.color&&Te.tickmode==="auto"){an.tickmode="linear",an.tick0=pt.start;var Xn=pt.size,Un=C.constrain(tt/50,4,15)+1,Sn=(ze[1]-ze[0])/((Te.nticks||Un)*Xn);if(Sn>1){var it=Math.pow(10,Math.floor(Math.log(Sn)/Math.LN10));Xn*=it*C.roundUp(Sn/it,[2,5,10]),(Math.abs(pt.start)/pt.size+1e-6)%1<2e-6&&(an.tick0=0)}an.dtick=Xn}an.domain=ge?[ln+Ie/oe.h,ln+wt-Ie/oe.h]:[ln+De/oe.w,ln+wt-De/oe.w],an.setScale(),be.attr("transform",w(Math.round(oe.l),Math.round(oe.t)));var ut=be.select("."+ie.cbtitleunshift).attr("transform",w(-Math.round(oe.l),-Math.round(oe.t))),xt=an.ticklabelposition,gt=an.title.font.size,Dt=be.select("."+ie.cbaxis),He,at=0,dt=0;function mt(Wt,Rt){var fn={propContainer:an,propName:Te._propPrefix+"title",traceIndex:Te._traceIndex,_meta:Te._meta,placeholder:ue._dfltTitle.colorbar,containerGroup:be.select("."+ie.cbtitle)},Hn=Wt.charAt(0)==="h"?Wt.substr(1):"h"+Wt;be.selectAll("."+Hn+",."+Hn+"-math-group").remove(),V.draw(Be,Wt,T(fn,Rt||{}))}function Tt(){if(ge&&wn||!ge&&!wn){var Wt,Rt;Qe==="top"&&(Wt=De+oe.l+Xt*re,Rt=Ie+oe.t+Gt*(1-ln-wt)+3+gt*.75),Qe==="bottom"&&(Wt=De+oe.l+Xt*re,Rt=Ie+oe.t+Gt*(1-ln)-3-gt*.25),Qe==="right"&&(Rt=Ie+oe.t+Gt*ye+3+gt*.75,Wt=De+oe.l+Xt*ln),mt(an._id+"title",{attributes:{x:Wt,y:Rt,"text-anchor":ge?"start":"middle"}})}}function Pt(){if(ge&&!wn||!ge&&wn){var Wt=an.position||0,Rt=an._offset+an._length/2,fn,Hn;if(Qe==="right")Hn=Rt,fn=oe.l+Xt*Wt+10+gt*(an.showticklabels?1:.5);else if(fn=Rt,Qe==="bottom"&&(Hn=oe.t+Gt*Wt+10+(xt.indexOf("inside")===-1?an.tickfont.size:0)+(an.ticks!=="intside"&&Te.ticklen||0)),Qe==="top"){var nr=Ce.text.split("<br>").length;Hn=oe.t+Gt*Wt+10-yt-E*gt*nr}mt((ge?"h":"v")+an._id+"title",{avoid:{selection:p.select(Be).selectAll("g."+an._id+"tick"),side:Qe,offsetTop:ge?0:oe.t,offsetLeft:ge?oe.l:0,maxShift:ge?ue.width:ue.height},attributes:{x:fn,y:Hn,"text-anchor":"middle"},transform:{rotate:ge?-90:0,offset:0}})}}function dn(){if(!ge&&!wn||ge&&wn){var Wt=be.select("."+ie.cbtitle),Rt=Wt.select("text"),fn=[-xe/2,xe/2],Hn=Wt.select(".h"+an._id+"title-math-group").node(),nr=15.6;Rt.node()&&(nr=parseInt(Rt.node().style.fontSize,10)*E);var Er;if(Hn?(Er=M.bBox(Hn),dt=Er.width,at=Er.height,at>nr&&(fn[1]-=(at-nr)/2)):Rt.node()&&!Rt.classed(ie.jsPlaceholder)&&(Er=M.bBox(Rt.node()),dt=Er.width,at=Er.height),ge){if(at){if(at+=5,Qe==="top")an.domain[1]-=at/oe.h,fn[1]*=-1;else{an.domain[0]+=at/oe.h;var zt=N.lineCount(Rt);fn[1]+=(1-zt)*nr}Wt.attr("transform",w(fn[0],fn[1])),an.setScale()}}else dt&&(Qe==="right"&&(an.domain[0]+=(dt+gt/2)/oe.w),Wt.attr("transform",w(fn[0],fn[1])),an.setScale())}be.selectAll("."+ie.cbfills+",."+ie.cblines).attr("transform",ge?w(0,Math.round(oe.h*(1-an.domain[1]))):w(Math.round(oe.w*an.domain[0]),0)),Dt.attr("transform",ge?w(0,Math.round(-oe.t)):w(Math.round(-oe.l),0));var vr=be.select("."+ie.cbfills).selectAll("rect."+ie.cbfill).attr("style","").data(je);vr.enter().append("rect").classed(ie.cbfill,!0).attr("style",""),vr.exit().remove();var Wn=ze.map(an.c2p).map(Math.round).sort(function(_r,Rn){return _r-Rn});vr.each(function(_r,Rn){var xr=[Rn===0?ze[0]:(je[Rn]+je[Rn-1])/2,Rn===je.length-1?ze[1]:(je[Rn]+je[Rn+1])/2].map(an.c2p).map(Math.round);ge&&(xr[1]=C.constrain(xr[1]+(xr[1]>xr[0])?1:-1,Wn[0],Wn[1]));var sr=p.select(this).attr(ge?"x":"y",Nt).attr(ge?"y":"x",p.min(xr)).attr(ge?"width":"height",Math.max(yt,2)).attr(ge?"height":"width",Math.max(p.max(xr)-p.min(xr),2));if(Te._fillgradient)M.gradient(sr,Be,Te._id,ge?"vertical":"horizontalreversed",Te._fillgradient,"fill");else{var Sr=ct(_r).replace("e-","");sr.attr("fill",v(Sr).toHexString())}});var Br=be.select("."+ie.cblines).selectAll("path."+ie.cbline).data(le.color&&le.width?et:[]);Br.enter().append("path").classed(ie.cbline,!0),Br.exit().remove(),Br.each(function(_r){var Rn=Nt,xr=Math.round(an.c2p(_r))+le.width/2%1;p.select(this).attr("d","M"+(ge?Rn+","+xr:xr+","+Rn)+(ge?"h":"v")+yt).call(M.lineGroupStyle,le.width,Xe(_r),le.dash)}),Dt.selectAll("g."+an._id+"tick,path").remove();var kr=Nt+yt+(xe||0)/2-(Te.ticks==="outside"?1:0),or=x.calcTicks(an),jr=x.getTickSigns(an)[2];return x.drawTicks(Be,an,{vals:an.ticks==="inside"?x.clipEnds(an,or):or,layer:Dt,path:x.makeTickPath(an,kr,jr),transFn:x.makeTransTickFn(an)}),x.drawLabels(Be,an,{vals:or,layer:Dt,transFn:x.makeTransTickLabelFn(an),labelFns:x.makeLabelFns(an,kr)})}function nn(){var Wt,Rt=yt+xe/2;xt.indexOf("inside")===-1&&(Wt=M.bBox(Dt.node()),Rt+=ge?Wt.width:Wt.height),He=ut.select("text");var fn=0,Hn=ge&&Qe==="top",nr=!ge&&Qe==="right",Er=0;if(He.node()&&!He.classed(ie.jsPlaceholder)){var zt,vr=ut.select(".h"+an._id+"title-math-group").node();vr&&(ge&&wn||!ge&&!wn)?(Wt=M.bBox(vr),fn=Wt.width,zt=Wt.height):(Wt=M.bBox(ut.node()),fn=Wt.right-oe.l-(ge?Nt:Yn),zt=Wt.bottom-oe.t-(ge?Yn:Nt),!ge&&Qe==="top"&&(Rt+=Wt.height,Er=Wt.height)),nr&&(He.attr("transform",w(fn/2+gt/2,0)),fn*=2),Rt=Math.max(Rt,ge?fn:zt)}var Wn=(ge?De:Ie)*2+Rt+Le+xe/2,Br=0;!ge&&Ce.text&&Ze==="bottom"&&ye<=0&&(Br=Wn/2,Wn+=Br,Er+=Br),ue._hColorbarMoveTitle=Br,ue._hColorbarMoveCBTitle=Er;var kr=Le+xe,or=(ge?Nt:Yn)-kr/2-(ge?De:0),jr=(ge?Yn:Nt)-(ge?tt:Ie+Er-Br);be.select("."+ie.cbbg).attr("x",or).attr("y",jr).attr(ge?"width":"height",Math.max(Wn-Br,2)).attr(ge?"height":"width",Math.max(tt+kr,2)).call(I.fill,ke).call(I.stroke,Te.bordercolor).style("stroke-width",Le);var _r=nr?Math.max(fn-10,0):0;be.selectAll("."+ie.cboutline).attr("x",(ge?Nt:Yn+De)+_r).attr("y",(ge?Yn+Ie-tt:Nt)+(Hn?at:0)).attr(ge?"width":"height",Math.max(yt,2)).attr(ge?"height":"width",Math.max(tt-(ge?2*Ie+at:2*De+_r),2)).call(I.stroke,Te.outlinecolor).style({fill:"none","stroke-width":xe});var Rn=ge?Bt*Wn:0,xr=ge?0:(1-vn)*Wn-Er;if(Rn=se?oe.l-Rn:-Rn,xr=te?oe.t-xr:-xr,be.attr("transform",w(Rn,xr)),!ge&&(Le||v(ke).getAlpha()&&!v.equals(ue.paper_bgcolor,ke))){var sr=Dt.selectAll("text"),Sr=sr[0].length,ao=be.select("."+ie.cbbg).node(),Oo=M.bBox(ao),wr=M.getTranslate(be),Fe=2;sr.each(function(un,Jt){var rn=0,Tn=Sr-1;if(Jt===rn||Jt===Tn){var On=M.bBox(this),pn=M.getTranslate(this),Jn;if(Jt===Tn){var Fn=On.right+pn.x,zr=Oo.right+wr.x+Yn-Le-Fe+re;Jn=zr-Fn,Jn>0&&(Jn=0)}else if(Jt===rn){var dr=On.left+pn.x,Hr=Oo.left+wr.x+Yn+Le+Fe;Jn=Hr-dr,Jn<0&&(Jn=0)}Jn&&(Sr<3?this.setAttribute("transform","translate("+Jn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ee={},St=W[$e],Ct=Y[$e],Lt=W[Ze],Ft=Y[Ze],Ht=Wn-yt;ge?(pe==="pixels"?(Ee.y=ye,Ee.t=tt*Lt,Ee.b=tt*Ft):(Ee.t=Ee.b=0,Ee.yt=ye+ne*Lt,Ee.yb=ye-ne*Ft),Oe==="pixels"?(Ee.x=re,Ee.l=Wn*St,Ee.r=Wn*Ct):(Ee.l=Ht*St,Ee.r=Ht*Ct,Ee.xl=re-G*St,Ee.xr=re+G*Ct)):(pe==="pixels"?(Ee.x=re,Ee.l=tt*St,Ee.r=tt*Ct):(Ee.l=Ee.r=0,Ee.xl=re+ne*St,Ee.xr=re-ne*Ct),Oe==="pixels"?(Ee.y=1-ye,Ee.t=Wn*Lt,Ee.b=Wn*Ft):(Ee.t=Ht*Lt,Ee.b=Ht*Ft,Ee.yt=ye-G*Lt,Ee.yb=ye+G*Ft));var $t=Te.y<.5?"b":"t",Mt=Te.x<.5?"l":"r";Be._fullLayout._reservedMargin[Te._id]={};var en={r:ue.width-or-Rn,l:or+Ee.r,b:ue.height-jr-xr,t:jr+Ee.b};se&&te?y.autoMargin(Be,Te._id,Ee):se?Be._fullLayout._reservedMargin[Te._id][$t]=en[$t]:te||ge?Be._fullLayout._reservedMargin[Te._id][Mt]=en[Mt]:Be._fullLayout._reservedMargin[Te._id][$t]=en[$t]}return C.syncOrAsync([y.previousPromises,Tt,dn,Pt,y.previousPromises,nn],Be)}function q(be,Te,Be){var ge=Te.orientation==="v",ne=Be._fullLayout,pe=ne._size,G,Oe,xe;k.init({element:be.node(),gd:Be,prepFn:function(){G=be.attr("transform"),R(be)},moveFn:function(Le,ke){be.attr("transform",G+w(Le,ke)),Oe=k.align((ge?Te._uFrac:Te._vFrac)+Le/pe.w,ge?Te._thickFrac:Te._lenFrac,0,1,Te.xanchor),xe=k.align((ge?Te._vFrac:1-Te._uFrac)-ke/pe.h,ge?Te._lenFrac:Te._thickFrac,0,1,Te.yanchor);var $e=k.getCursor(Oe,xe,Te.xanchor,Te.yanchor);R(be,$e)},doneFn:function(){if(R(be),Oe!==void 0&&xe!==void 0){var Le={};Le[Te._propPrefix+"x"]=Oe,Le[Te._propPrefix+"y"]=xe,Te._traceIndex!==void 0?b.call("_guiRestyle",Be,Le,Te._traceIndex):b.call("_guiRelayout",Be,Le)}}})}function fe(be,Te,Be){var ge=Te._levels,ne=[],pe=[],G,Oe,xe=ge.end+ge.size/100,Le=ge.size,ke=1.001*Be[0]-.001*Be[1],$e=1.001*Be[1]-.001*Be[0];for(Oe=0;Oe<1e5&&(G=ge.start+Oe*Le,!(Le>0?G>=xe:G<=xe));Oe++)G>ke&&G<$e&&ne.push(G);if(Te._fillgradient)pe=[0];else if(typeof Te._fillcolor=="function"){var Ze=Te._filllevels;if(Ze)for(xe=Ze.end+Ze.size/100,Le=Ze.size,Oe=0;Oe<1e5&&(G=Ze.start+Oe*Le,!(Le>0?G>=xe:G<=xe));Oe++)G>Be[0]&&G<Be[1]&&pe.push(G);else pe=ne.map(function(De){return De-ge.size/2}),pe.push(pe[pe.length-1]+ge.size)}else Te._fillcolor&&typeof Te._fillcolor=="string"&&(pe=[0]);return ge.size<0&&(ne.reverse(),pe.reverse()),{line:ne,fill:pe}}function ee(be,Te,Be){var ge=be._fullLayout,ne=Te.orientation==="v",pe={type:"linear",range:Be,tickmode:Te.tickmode,nticks:Te.nticks,tick0:Te.tick0,dtick:Te.dtick,tickvals:Te.tickvals,ticktext:Te.ticktext,ticks:Te.ticks,ticklen:Te.ticklen,tickwidth:Te.tickwidth,tickcolor:Te.tickcolor,showticklabels:Te.showticklabels,labelalias:Te.labelalias,ticklabelposition:Te.ticklabelposition,ticklabeloverflow:Te.ticklabeloverflow,ticklabelstep:Te.ticklabelstep,tickfont:Te.tickfont,tickangle:Te.tickangle,tickformat:Te.tickformat,exponentformat:Te.exponentformat,minexponent:Te.minexponent,separatethousands:Te.separatethousands,showexponent:Te.showexponent,showtickprefix:Te.showtickprefix,tickprefix:Te.tickprefix,showticksuffix:Te.showticksuffix,ticksuffix:Te.ticksuffix,title:Te.title,showline:!0,anchor:"free",side:ne?"right":"bottom",position:1},G=ne?"y":"x",Oe={type:"linear",_id:G+Te._id},xe={letter:G,font:ge.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:ge.calendar};function Le(ke,$e){return C.coerce(pe,Oe,Q,ke,$e)}return z(pe,Oe,Le,xe,ge),U(pe,Oe,Le,xe),Oe}f.exports={draw:L}},6228:function(f,h,u){var p=u(1828);f.exports=function(y){return p.isPlainObject(y.colorbar)}},2311:function(f,h,u){f.exports={moduleType:"component",name:"colorbar",attributes:u(3583),supplyDefaults:u(2499),draw:u(8981).draw,hasColorbar:u(6228)}},693:function(f,h,u){var p=u(3583),v=u(587).counter,y=u(8607),b=u(3282).scales;y(b),f.exports=function(k,C){k=k||"",C=C||{};var w=C.cLetter||"c";"onlyIfNumerical"in C&&C.onlyIfNumerical;var T="noScale"in C?C.noScale:k==="marker.line",R="showScaleDflt"in C?C.showScaleDflt:w==="z",M=typeof C.colorscaleDflt=="string"?b[C.colorscaleDflt]:null,I=C.editTypeOverride||"",V;"colorAttr"in C?(V=C.colorAttr,C.colorAttr):V={z:"z",c:"color"}[w];var N=w+"auto",F=w+"min",z=w+"max",U=w+"mid",Q={};Q[F]=Q[z]=void 0;var B={};B[N]=!1;var E={};return V==="color"&&(E.color={valType:"color",arrayOk:!0,editType:I||"style"},C.anim&&(E.color.anim=!0)),E[N]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:Q},E[F]={valType:"number",dflt:null,editType:I||"plot",impliedEdits:B},E[z]={valType:"number",dflt:null,editType:I||"plot",impliedEdits:B},E[U]={valType:"number",dflt:null,editType:"calc",impliedEdits:Q},E.colorscale={valType:"colorscale",editType:"calc",dflt:M,impliedEdits:{autocolorscale:!1}},E.autocolorscale={valType:"boolean",dflt:C.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},E.reversescale={valType:"boolean",dflt:!1,editType:"plot"},T||(E.showscale={valType:"boolean",dflt:R,editType:"calc"},E.colorbar=p),C.noColorAxis||(E.coloraxis={valType:"subplotid",regex:v("coloraxis"),dflt:null,editType:"calc"}),E}},8803:function(f,h,u){var p=u(2770),v=u(1828),y=u(2869).extractOpts;f.exports=function(x,k,C){var w=x._fullLayout,T=C.vals,R=C.containerStr,M=R?v.nestedProperty(k,R).get():k,I=y(M),V=I.auto!==!1,N=I.min,F=I.max,z=I.mid,U=function(){return v.aggNums(Math.min,null,T)},Q=function(){return v.aggNums(Math.max,null,T)};if(N===void 0?N=U():V&&(M._colorAx&&p(N)?N=Math.min(N,U()):N=U()),F===void 0?F=Q():V&&(M._colorAx&&p(F)?F=Math.max(F,Q()):F=Q()),V&&z!==void 0&&(F-z>z-N?N=z-(F-z):F-z<z-N&&(F=z+(z-N))),N===F&&(N-=.5,F+=.5),I._sync("min",N),I._sync("max",F),I.autocolorscale){var B;N*F<0?B=w.colorscale.diverging:N>=0?B=w.colorscale.sequential:B=w.colorscale.sequentialminus,I._sync("colorscale",B)}}},3046:function(f,h,u){var p=u(1828),v=u(2869).hasColorscale,y=u(2869).extractOpts;f.exports=function(x,k){function C(N,F){var z=N["_"+F];z!==void 0&&(N[F]=z)}function w(N,F){var z=F.container?p.nestedProperty(N,F.container).get():N;if(z)if(z.coloraxis)z._colorAx=k[z.coloraxis];else{var U=y(z),Q=U.auto;(Q||U.min===void 0)&&C(z,F.min),(Q||U.max===void 0)&&C(z,F.max),U.autocolorscale&&C(z,"colorscale")}}for(var T=0;T<x.length;T++){var R=x[T],M=R._module.colorbar;if(M)if(Array.isArray(M))for(var I=0;I<M.length;I++)w(R,M[I]);else w(R,M);v(R,"marker.line")&&w(R,{container:"marker.line",min:"cmin",max:"cmax"})}for(var V in k._colorAxes)w(k[V],{min:"cmin",max:"cmax"})}},1586:function(f,h,u){var p=u(2770),v=u(1828),y=u(6228),b=u(2499),x=u(3282).isValid,k=u(3972).traceIs;function C(w,T){var R=T.slice(0,T.length-1);return T?v.nestedProperty(w,R).get()||{}:w}f.exports=function w(T,R,M,I,V){var N=V.prefix,F=V.cLetter,z="_module"in R,U=C(T,N),Q=C(R,N),B=C(R._template||{},N)||{},E=function(){return delete T.coloraxis,delete R.coloraxis,w(T,R,M,I,V)};if(z){var W=M._colorAxes||{},Y=I(N+"coloraxis");if(Y){var ie=k(R,"contour")&&v.nestedProperty(R,"contours.coloring").get()||"heatmap",L=W[Y];L?(L[2].push(E),L[0]!==ie&&(L[0]=!1,v.warn(["Ignoring coloraxis:",Y,"setting","as it is linked to incompatible colorscales."].join(" ")))):W[Y]=[ie,R,[E]];return}}var me=U[F+"min"],ae=U[F+"max"],q=p(me)&&p(ae)&&me<ae,fe=I(N+F+"auto",!q);fe?I(N+F+"mid"):(I(N+F+"min"),I(N+F+"max"));var ee=U.colorscale,be=B.colorscale,Te;if(ee!==void 0&&(Te=!x(ee)),be!==void 0&&(Te=!x(be)),I(N+"autocolorscale",Te),I(N+"colorscale"),I(N+"reversescale"),N!=="marker.line."){var Be;N&&z&&(Be=y(U));var ge=I(N+"showscale",Be);ge&&(N&&B&&(Q._template=B),b(U,Q,M))}}},2869:function(f,h,u){var p=u(9898),v=u(4267),y=u(2770),b=u(1828),x=u(7901),k=u(3282).isValid;function C(z,U,Q){var B=U?b.nestedProperty(z,U).get()||{}:z,E=B[Q||"color"],W=!1;if(b.isArrayOrTypedArray(E)){for(var Y=0;Y<E.length;Y++)if(y(E[Y])){W=!0;break}}return b.isPlainObject(B)&&(W||B.showscale===!0||y(B.cmin)&&y(B.cmax)||k(B.colorscale)||b.isPlainObject(B.colorbar))}var w=["showscale","autocolorscale","colorscale","reversescale","colorbar"],T=["min","max","mid","auto"];function R(z){var U=z._colorAx,Q=U||z,B={},E,W,Y;for(W=0;W<w.length;W++)Y=w[W],B[Y]=Q[Y];if(U)for(E="c",W=0;W<T.length;W++)Y=T[W],B[Y]=Q["c"+Y];else{var ie;for(W=0;W<T.length;W++){if(Y=T[W],ie="c"+Y,ie in Q){B[Y]=Q[ie];continue}ie="z"+Y,ie in Q&&(B[Y]=Q[ie])}E=ie.charAt(0)}return B._sync=function(L,me){var ae=T.indexOf(L)!==-1?E+L:L;Q[ae]=Q["_"+ae]=me},B}function M(z){for(var U=R(z),Q=U.min,B=U.max,E=U.reversescale?I(U.colorscale):U.colorscale,W=E.length,Y=new Array(W),ie=new Array(W),L=0;L<W;L++){var me=E[L];Y[L]=Q+me[0]*(B-Q),ie[L]=me[1]}return{domain:Y,range:ie}}function I(z){for(var U=z.length,Q=new Array(U),B=U-1,E=0;B>=0;B--,E++){var W=z[B];Q[E]=[1-W[0],W[1]]}return Q}function V(z,U){U=U||{};for(var Q=z.domain,B=z.range,E=B.length,W=new Array(E),Y=0;Y<E;Y++){var ie=v(B[Y]).toRgb();W[Y]=[ie.r,ie.g,ie.b,ie.a]}var L=p.scale.linear().domain(Q).range(W).clamp(!0),me=U.noNumericCheck,ae=U.returnArray,q;return me&&ae?q=L:me?q=function(fe){return F(L(fe))}:ae?q=function(fe){return y(fe)?L(fe):v(fe).isValid()?fe:x.defaultLine}:q=function(fe){return y(fe)?F(L(fe)):v(fe).isValid()?fe:x.defaultLine},q.domain=L.domain,q.range=function(){return B},q}function N(z,U){return V(M(z),U)}function F(z){var U={r:z[0],g:z[1],b:z[2],a:z[3]};return v(U).toRgbString()}f.exports={hasColorscale:C,extractOpts:R,extractScale:M,flipScale:I,makeColorScaleFunc:V,makeColorScaleFuncFromTrace:N}},1081:function(f,h,u){var p=u(3282),v=u(2869);f.exports={moduleType:"component",name:"colorscale",attributes:u(693),layoutAttributes:u(2673),supplyLayoutDefaults:u(959),handleDefaults:u(1586),crossTraceDefaults:u(3046),calc:u(8803),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:v.hasColorscale,extractOpts:v.extractOpts,extractScale:v.extractScale,flipScale:v.flipScale,makeColorScaleFunc:v.makeColorScaleFunc,makeColorScaleFuncFromTrace:v.makeColorScaleFuncFromTrace}},2673:function(f,h,u){var p=u(1426).extendFlat,v=u(693),y=u(3282).scales;f.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:y.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:y.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:y.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},v("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(f,h,u){var p=u(1828),v=u(4467),y=u(2673),b=u(1586);f.exports=function(k,C){function w(z,U){return p.coerce(k,C,y,z,U)}w("colorscale.sequential"),w("colorscale.sequentialminus"),w("colorscale.diverging");var T=C._colorAxes,R,M;function I(z,U){return p.coerce(R,M,y.coloraxis,z,U)}for(var V in T){var N=T[V];if(N[0])R=k[V]||{},M=v.newContainer(C,V,"coloraxis"),M._name=V,b(R,M,C,I,{prefix:"",cLetter:"c"});else{for(var F=0;F<N[2].length;F++)N[2][F]();delete C._colorAxes[V]}}}},3282:function(f,h,u){var p=u(4267),v={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},y=v.RdBu;function b(C,w){if(w||(w=y),!C)return w;function T(){try{C=v[C]||JSON.parse(C)}catch{C=w}}return typeof C=="string"&&(T(),typeof C=="string"&&T()),x(C)?C:w}function x(C){var w=0;if(!Array.isArray(C)||C.length<2||!C[0]||!C[C.length-1]||+C[0][0]!=0||+C[C.length-1][0]!=1)return!1;for(var T=0;T<C.length;T++){var R=C[T];if(R.length!==2||+R[0]<w||!p(R[1]).isValid())return!1;w=+R[0]}return!0}function k(C){return v[C]!==void 0?!0:x(C)}f.exports={scales:v,defaultScale:y,get:b,isValid:k}},2807:function(f){f.exports=function(u,p,v,y,b){var x=(u-v)/(y-v),k=x+p/(y-v),C=(x+k)/2;return b==="left"||b==="bottom"?x:b==="center"||b==="middle"?C:b==="right"||b==="top"?k:x<.6666666666666666-C?x:k>1.3333333333333333-C?k:C}},461:function(f,h,u){var p=u(1828),v=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];f.exports=function(b,x,k,C){return k==="left"?b=0:k==="center"?b=1:k==="right"?b=2:b=p.constrain(Math.floor(b*3),0,2),C==="bottom"?x=0:C==="middle"?x=1:C==="top"?x=2:x=p.constrain(Math.floor(x*3),0,2),v[x][b]}},4505:function(f,h){h.selectMode=function(u){return u==="lasso"||u==="select"},h.drawMode=function(u){return u==="drawclosedpath"||u==="drawopenpath"||u==="drawline"||u==="drawrect"||u==="drawcircle"},h.openMode=function(u){return u==="drawline"||u==="drawopenpath"},h.rectMode=function(u){return u==="select"||u==="drawline"||u==="drawrect"||u==="drawcircle"},h.freeMode=function(u){return u==="lasso"||u==="drawclosedpath"||u==="drawopenpath"},h.selectingOrDrawing=function(u){return h.freeMode(u)||h.rectMode(u)}},8569:function(f,h,u){var p=u(8956),v=u(7035),y=u(8520),b=u(1828).removeElement,x=u(5555),k=f.exports={};k.align=u(2807),k.getCursor=u(461);var C=u(6041);k.unhover=C.wrapped,k.unhoverRaw=C.raw,k.init=function(M){var I=M.gd,V=1,N=I._context.doubleClickDelay,F=M.element,z,U,Q,B,E,W,Y,ie;I._mouseDownTime||(I._mouseDownTime=0),F.style.pointerEvents="all",F.onmousedown=ae,y?(F._ontouchstart&&F.removeEventListener("touchstart",F._ontouchstart),F._ontouchstart=ae,F.addEventListener("touchstart",ae,{passive:!1})):F.ontouchstart=ae;function L(ee,be,Te){return Math.abs(ee)<Te&&(ee=0),Math.abs(be)<Te&&(be=0),[ee,be]}var me=M.clampFn||L;function ae(ee){I._dragged=!1,I._dragging=!0;var be=T(ee);z=be[0],U=be[1],Y=ee.target,W=ee,ie=ee.buttons===2||ee.ctrlKey,typeof ee.clientX>"u"&&typeof ee.clientY>"u"&&(ee.clientX=z,ee.clientY=U),Q=new Date().getTime(),Q-I._mouseDownTime<N?V+=1:(V=1,I._mouseDownTime=Q),M.prepFn&&M.prepFn(ee,z,U),v&&!ie?(E=w(),E.style.cursor=window.getComputedStyle(F).cursor):v||(E=document,B=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(F).cursor),document.addEventListener("mouseup",fe),document.addEventListener("touchend",fe),M.dragmode!==!1&&(ee.preventDefault(),document.addEventListener("mousemove",q),document.addEventListener("touchmove",q,{passive:!1}))}function q(ee){ee.preventDefault();var be=T(ee),Te=M.minDrag||x.MINDRAG,Be=me(be[0]-z,be[1]-U,Te),ge=Be[0],ne=Be[1];(ge||ne)&&(I._dragged=!0,k.unhover(I,ee)),I._dragged&&M.moveFn&&!ie&&(I._dragdata={element:F,dx:ge,dy:ne},M.moveFn(ge,ne))}function fe(ee){if(delete I._dragdata,M.dragmode!==!1&&(ee.preventDefault(),document.removeEventListener("mousemove",q),document.removeEventListener("touchmove",q)),document.removeEventListener("mouseup",fe),document.removeEventListener("touchend",fe),v?b(E):B&&(E.documentElement.style.cursor=B,B=null),!I._dragging){I._dragged=!1;return}if(I._dragging=!1,new Date().getTime()-I._mouseDownTime>N&&(V=Math.max(V-1,1)),I._dragged)M.doneFn&&M.doneFn();else if(M.clickFn&&M.clickFn(V,W),!ie){var be;try{be=new MouseEvent("click",ee)}catch{var Te=T(ee);be=document.createEvent("MouseEvents"),be.initMouseEvent("click",ee.bubbles,ee.cancelable,ee.view,ee.detail,ee.screenX,ee.screenY,Te[0],Te[1],ee.ctrlKey,ee.altKey,ee.shiftKey,ee.metaKey,ee.button,ee.relatedTarget)}Y.dispatchEvent(be)}I._dragging=!1,I._dragged=!1}};function w(){var R=document.createElement("div");R.className="dragcover";var M=R.style;return M.position="fixed",M.left=0,M.right=0,M.top=0,M.bottom=0,M.zIndex=999999999,M.background="none",document.body.appendChild(R),R}k.coverSlip=w;function T(R){return p(R.changedTouches?R.changedTouches[0]:R,document.body)}},6041:function(f,h,u){var p=u(1086),v=u(9990),y=u(4401).getGraphDiv,b=u(6675),x=f.exports={};x.wrapped=function(k,C,w){k=y(k),k._fullLayout&&v.clear(k._fullLayout._uid+b.HOVERID),x.raw(k,C,w)},x.raw=function(C,w){var T=C._fullLayout,R=C._hoverdata;w||(w={}),!(w.target&&!C._dragged&&p.triggerHandler(C,"plotly_beforehover",w)===!1)&&(T._hoverlayer.selectAll("g").remove(),T._hoverlayer.selectAll("line").remove(),T._hoverlayer.selectAll("circle").remove(),C._hoverdata=void 0,w.target&&R&&C.emit("plotly_unhover",{event:w,points:R}))}},9952:function(f,h){h.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},h.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(f,h,u){var p=u(9898),v=u(1828),y=v.numberFormat,b=u(2770),x=u(4267),k=u(3972),C=u(7901),w=u(1081),T=v.strTranslate,R=u(3893),M=u(7922),I=u(8783),V=I.LINE_SPACING,N=u(7822).DESELECTDIM,F=u(4098),z=u(9984),U=u(3469).appendArrayPointValue,Q=f.exports={};Q.font=function(Ye,je,et,yt){v.isPlainObject(je)&&(yt=je.color,et=je.size,je=je.family),je&&Ye.style("font-family",je),et+1&&Ye.style("font-size",et+"px"),yt&&Ye.call(C.fill,yt)},Q.setPosition=function(Ye,je,et){Ye.attr("x",je).attr("y",et)},Q.setSize=function(Ye,je,et){Ye.attr("width",je).attr("height",et)},Q.setRect=function(Ye,je,et,yt,ft){Ye.call(Q.setPosition,je,et).call(Q.setSize,yt,ft)},Q.translatePoint=function(Ye,je,et,yt){var ft=et.c2p(Ye.x),tt=yt.c2p(Ye.y);if(b(ft)&&b(tt)&&je.node())je.node().nodeName==="text"?je.attr("x",ft).attr("y",tt):je.attr("transform",T(ft,tt));else return!1;return!0},Q.translatePoints=function(Ye,je,et){Ye.each(function(yt){var ft=p.select(this);Q.translatePoint(yt,ft,je,et)})},Q.hideOutsideRangePoint=function(Ye,je,et,yt,ft,tt){je.attr("display",et.isPtWithinRange(Ye,ft)&&yt.isPtWithinRange(Ye,tt)?null:"none")},Q.hideOutsideRangePoints=function(Ye,je){if(je._hasClipOnAxisFalse){var et=je.xaxis,yt=je.yaxis;Ye.each(function(ft){var tt=ft[0].trace,wt=tt.xcalendar,Xt=tt.ycalendar,Gt=k.traceIs(tt,"bar-like")?".bartext":".point,.textpoint";Ye.selectAll(Gt).each(function(Nt){Q.hideOutsideRangePoint(Nt,p.select(this),et,yt,wt,Xt)})})}},Q.crispRound=function(Ye,je,et){return!je||!b(je)?et||0:Ye._context.staticPlot?je:je<1?1:Math.round(je)},Q.singleLineStyle=function(Ye,je,et,yt,ft){je.style("fill","none");var tt=(((Ye||[])[0]||{}).trace||{}).line||{},wt=et||tt.width||0,Xt=ft||tt.dash||"";C.stroke(je,yt||tt.color),Q.dashLine(je,Xt,wt)},Q.lineGroupStyle=function(Ye,je,et,yt){Ye.style("fill","none").each(function(ft){var tt=(((ft||[])[0]||{}).trace||{}).line||{},wt=je||tt.width||0,Xt=yt||tt.dash||"";p.select(this).call(C.stroke,et||tt.color).call(Q.dashLine,Xt,wt)})},Q.dashLine=function(Ye,je,et){et=+et||0,je=Q.dashStyle(je,et),Ye.style({"stroke-dasharray":je,"stroke-width":et+"px"})},Q.dashStyle=function(Ye,je){je=+je||1;var et=Math.max(je,3);return Ye==="solid"?Ye="":Ye==="dot"?Ye=et+"px,"+et+"px":Ye==="dash"?Ye=3*et+"px,"+3*et+"px":Ye==="longdash"?Ye=5*et+"px,"+5*et+"px":Ye==="dashdot"?Ye=3*et+"px,"+et+"px,"+et+"px,"+et+"px":Ye==="longdashdot"&&(Ye=5*et+"px,"+2*et+"px,"+et+"px,"+2*et+"px"),Ye};function B(Ye,je,et){var yt=je.fillpattern,ft=yt&&Q.getPatternAttr(yt.shape,0,"");if(ft){var tt=Q.getPatternAttr(yt.bgcolor,0,null),wt=Q.getPatternAttr(yt.fgcolor,0,null),Xt=yt.fgopacity,Gt=Q.getPatternAttr(yt.size,0,8),Nt=Q.getPatternAttr(yt.solidity,0,.3),Bt=je.uid;Q.pattern(Ye,"point",et,Bt,ft,Gt,Nt,void 0,yt.fillmode,tt,wt,Xt)}else je.fillcolor&&Ye.call(C.fill,je.fillcolor)}Q.singleFillStyle=function(Ye,je){var et=p.select(Ye.node()),yt=et.data(),ft=((yt[0]||[])[0]||{}).trace||{};B(Ye,ft,je)},Q.fillGroupStyle=function(Ye,je){Ye.style("stroke-width",0).each(function(et){var yt=p.select(this);et[0].trace&&B(yt,et[0].trace,je)})};var E=u(998);Q.symbolNames=[],Q.symbolFuncs=[],Q.symbolBackOffs=[],Q.symbolNeedLines={},Q.symbolNoDot={},Q.symbolNoFill={},Q.symbolList=[],Object.keys(E).forEach(function(Ye){var je=E[Ye],et=je.n;Q.symbolList.push(et,String(et),Ye,et+100,String(et+100),Ye+"-open"),Q.symbolNames[et]=Ye,Q.symbolFuncs[et]=je.f,Q.symbolBackOffs[et]=je.backoff||0,je.needLine&&(Q.symbolNeedLines[et]=!0),je.noDot?Q.symbolNoDot[et]=!0:Q.symbolList.push(et+200,String(et+200),Ye+"-dot",et+300,String(et+300),Ye+"-open-dot"),je.noFill&&(Q.symbolNoFill[et]=!0)});var W=Q.symbolNames.length,Y="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";Q.symbolNumber=function(Ye){if(b(Ye))Ye=+Ye;else if(typeof Ye=="string"){var je=0;Ye.indexOf("-open")>0&&(je=100,Ye=Ye.replace("-open","")),Ye.indexOf("-dot")>0&&(je+=200,Ye=Ye.replace("-dot","")),Ye=Q.symbolNames.indexOf(Ye),Ye>=0&&(Ye+=je)}return Ye%100>=W||Ye>=400?0:Math.floor(Math.max(Ye,0))};function ie(Ye,je,et,yt){var ft=Ye%100;return Q.symbolFuncs[ft](je,et,yt)+(Ye>=200?Y:"")}var L={x1:1,x2:0,y1:0,y2:0},me={x1:0,x2:0,y1:1,y2:0},ae=y("~f"),q={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:L},horizontalreversed:{node:"linearGradient",attrs:L,reversed:!0},vertical:{node:"linearGradient",attrs:me},verticalreversed:{node:"linearGradient",attrs:me,reversed:!0}};Q.gradient=function(Ye,je,et,yt,ft,tt){for(var wt=ft.length,Xt=q[yt],Gt=new Array(wt),Nt=0;Nt<wt;Nt++)Xt.reversed?Gt[wt-1-Nt]=[ae((1-ft[Nt][0])*100),ft[Nt][1]]:Gt[Nt]=[ae(ft[Nt][0]*100),ft[Nt][1]];var Bt=je._fullLayout,vn="g"+Bt._uid+"-"+et,En=Bt._defs.select(".gradients").selectAll("#"+vn).data([yt+Gt.join(";")],v.identity);En.exit().remove(),En.enter().append(Xt.node).each(function(){var ln=p.select(this);Xt.attrs&&ln.attr(Xt.attrs),ln.attr("id",vn);var Yn=ln.selectAll("stop").data(Gt);Yn.exit().remove(),Yn.enter().append("stop"),Yn.each(function(an){var wn=x(an[1]);p.select(this).attr({offset:an[0]+"%","stop-color":C.tinyRGB(wn),"stop-opacity":wn.getAlpha()})})}),Ye.style(tt,Ie(vn,je)).style(tt+"-opacity",null),Ye.classed("gradient_filled",!0)},Q.pattern=function(Ye,je,et,yt,ft,tt,wt,Xt,Gt,Nt,Bt,vn){var En=je==="legend";Xt&&(Gt==="overlay"?(Nt=Xt,Bt=C.contrast(Nt)):(Nt=void 0,Bt=Xt));var ln=et._fullLayout,Yn="p"+ln._uid+"-"+yt,an,wn,Xn=function(Tt,Pt,dn,nn,Wt){return nn+(Wt-nn)*(Tt-Pt)/(dn-Pt)},Un,Sn,it,ut,xt={},gt=x(Bt),Dt=C.tinyRGB(gt),He=gt.getAlpha(),at=vn*He;switch(ft){case"/":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M-"+an/4+","+wn/4+"l"+an/2+",-"+wn/2+"M0,"+wn+"L"+an+",0M"+an/4*3+","+wn/4*5+"l"+an/2+",-"+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"\\":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M"+an/4*3+",-"+wn/4+"l"+an/2+","+wn/2+"M0,0L"+an+","+wn+"M-"+an/4+","+wn/4*3+"l"+an/2+","+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"x":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M-"+an/4+","+wn/4+"l"+an/2+",-"+wn/2+"M0,"+wn+"L"+an+",0M"+an/4*3+","+wn/4*5+"l"+an/2+",-"+wn/2+"M"+an/4*3+",-"+wn/4+"l"+an/2+","+wn/2+"M0,0L"+an+","+wn+"M-"+an/4+","+wn/4*3+"l"+an/2+","+wn/2,Sn=tt-tt*Math.sqrt(1-wt),ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"|":an=tt,wn=tt,ut="path",Un="M"+an/2+",0L"+an/2+","+wn,Sn=wt*tt,ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"-":an=tt,wn=tt,ut="path",Un="M0,"+wn/2+"L"+an+","+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"+":an=tt,wn=tt,ut="path",Un="M"+an/2+",0L"+an/2+","+wn+"M0,"+wn/2+"L"+an+","+wn/2,Sn=tt-tt*Math.sqrt(1-wt),ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case".":an=tt,wn=tt,wt<Math.PI/4?it=Math.sqrt(wt*tt*tt/Math.PI):it=Xn(wt,Math.PI/4,1,tt/2,tt/Math.sqrt(2)),ut="circle",xt={cx:an/2,cy:wn/2,r:it,opacity:at,fill:Dt};break}var dt=[ft||"noSh",Nt||"noBg",Bt||"noFg",tt,wt].join(";"),mt=ln._defs.select(".patterns").selectAll("#"+Yn).data([dt],v.identity);mt.exit().remove(),mt.enter().append("pattern").each(function(){var Tt=p.select(this);if(Tt.attr({id:Yn,width:an+"px",height:wn+"px",patternUnits:"userSpaceOnUse",patternTransform:En?"scale(0.8)":""}),Nt){var Pt=x(Nt),dn=C.tinyRGB(Pt),nn=Pt.getAlpha(),Wt=Tt.selectAll("rect").data([0]);Wt.exit().remove(),Wt.enter().append("rect").attr({width:an+"px",height:wn+"px",fill:dn,"fill-opacity":nn})}var Rt=Tt.selectAll(ut).data([0]);Rt.exit().remove(),Rt.enter().append(ut).attr(xt)}),Ye.style("fill",Ie(Yn,et)).style("fill-opacity",null),Ye.classed("pattern_filled",!0)},Q.initGradients=function(Ye){var je=Ye._fullLayout,et=v.ensureSingle(je._defs,"g","gradients");et.selectAll("linearGradient,radialGradient").remove(),p.select(Ye).selectAll(".gradient_filled").classed("gradient_filled",!1)},Q.initPatterns=function(Ye){var je=Ye._fullLayout,et=v.ensureSingle(je._defs,"g","patterns");et.selectAll("pattern").remove(),p.select(Ye).selectAll(".pattern_filled").classed("pattern_filled",!1)},Q.getPatternAttr=function(Ye,je,et){return Ye&&v.isArrayOrTypedArray(Ye)?je<Ye.length?Ye[je]:et:Ye},Q.pointStyle=function(Ye,je,et,yt){if(Ye.size()){var ft=Q.makePointStyleFns(je);Ye.each(function(tt){Q.singlePointStyle(tt,p.select(this),je,ft,et,yt)})}},Q.singlePointStyle=function(Ye,je,et,yt,ft,tt){var wt=et.marker,Xt=wt.line;if(tt&&tt.i>=0&&Ye.i===void 0&&(Ye.i=tt.i),je.style("opacity",yt.selectedOpacityFn?yt.selectedOpacityFn(Ye):Ye.mo===void 0?wt.opacity:Ye.mo),yt.ms2mrc){var Gt;Ye.ms==="various"||wt.size==="various"?Gt=3:Gt=yt.ms2mrc(Ye.ms),Ye.mrc=Gt,yt.selectedSizeFn&&(Gt=Ye.mrc=yt.selectedSizeFn(Ye));var Nt=Q.symbolNumber(Ye.mx||wt.symbol)||0;Ye.om=Nt%200>=100;var Bt=pt(Ye,et),vn=te(Ye,et);je.attr("d",ie(Nt,Gt,Bt,vn))}var En=!1,ln,Yn,an;if(Ye.so)an=Xt.outlierwidth,Yn=Xt.outliercolor,ln=wt.outliercolor;else{var wn=(Xt||{}).width;an=(Ye.mlw+1||wn+1||(Ye.trace?(Ye.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ye?Yn=Ye.mlcc=yt.lineScale(Ye.mlc):v.isArrayOrTypedArray(Xt.color)?Yn=C.defaultLine:Yn=Xt.color,v.isArrayOrTypedArray(wt.color)&&(ln=C.defaultLine,En=!0),"mc"in Ye?ln=Ye.mcc=yt.markerScale(Ye.mc):ln=wt.color||wt.colors||"rgba(0,0,0,0)",yt.selectedColorFn&&(ln=yt.selectedColorFn(Ye))}if(Ye.om)je.call(C.stroke,ln).style({"stroke-width":(an||1)+"px",fill:"none"});else{je.style("stroke-width",(Ye.isBlank?0:an)+"px");var Xn=wt.gradient,Un=Ye.mgt;Un?En=!0:Un=Xn&&Xn.type,v.isArrayOrTypedArray(Un)&&(Un=Un[0],q[Un]||(Un=0));var Sn=wt.pattern,it=Sn&&Q.getPatternAttr(Sn.shape,Ye.i,"");if(Un&&Un!=="none"){var ut=Ye.mgc;ut?En=!0:ut=Xn.color;var xt=et.uid;En&&(xt+="-"+Ye.i),Q.gradient(je,ft,xt,Un,[[0,ut],[1,ln]],"fill")}else if(it){var gt=!1,Dt=Sn.fgcolor;!Dt&&tt&&tt.color&&(Dt=tt.color,gt=!0);var He=Q.getPatternAttr(Dt,Ye.i,tt&&tt.color||null),at=Q.getPatternAttr(Sn.bgcolor,Ye.i,null),dt=Sn.fgopacity,mt=Q.getPatternAttr(Sn.size,Ye.i,8),Tt=Q.getPatternAttr(Sn.solidity,Ye.i,.3);gt=gt||Ye.mcc||v.isArrayOrTypedArray(Sn.shape)||v.isArrayOrTypedArray(Sn.bgcolor)||v.isArrayOrTypedArray(Sn.fgcolor)||v.isArrayOrTypedArray(Sn.size)||v.isArrayOrTypedArray(Sn.solidity);var Pt=et.uid;gt&&(Pt+="-"+Ye.i),Q.pattern(je,"point",ft,Pt,it,mt,Tt,Ye.mcc,Sn.fillmode,at,He,dt)}else v.isArrayOrTypedArray(ln)?C.fill(je,ln[Ye.i]):C.fill(je,ln);an&&C.stroke(je,Yn)}},Q.makePointStyleFns=function(Ye){var je={},et=Ye.marker;return je.markerScale=Q.tryColorscale(et,""),je.lineScale=Q.tryColorscale(et,"line"),k.traceIs(Ye,"symbols")&&(je.ms2mrc=F.isBubble(Ye)?z(Ye):function(){return(et.size||6)/2}),Ye.selectedpoints&&v.extendFlat(je,Q.makeSelectedPointStyleFns(Ye)),je},Q.makeSelectedPointStyleFns=function(Ye){var je={},et=Ye.selected||{},yt=Ye.unselected||{},ft=Ye.marker||{},tt=et.marker||{},wt=yt.marker||{},Xt=ft.opacity,Gt=tt.opacity,Nt=wt.opacity,Bt=Gt!==void 0,vn=Nt!==void 0;(v.isArrayOrTypedArray(Xt)||Bt||vn)&&(je.selectedOpacityFn=function(it){var ut=it.mo===void 0?ft.opacity:it.mo;return it.selected?Bt?Gt:ut:vn?Nt:N*ut});var En=ft.color,ln=tt.color,Yn=wt.color;(ln||Yn)&&(je.selectedColorFn=function(it){var ut=it.mcc||En;return it.selected?ln||ut:Yn||ut});var an=ft.size,wn=tt.size,Xn=wt.size,Un=wn!==void 0,Sn=Xn!==void 0;return k.traceIs(Ye,"symbols")&&(Un||Sn)&&(je.selectedSizeFn=function(it){var ut=it.mrc||an/2;return it.selected?Un?wn/2:ut:Sn?Xn/2:ut}),je},Q.makeSelectedTextStyleFns=function(Ye){var je={},et=Ye.selected||{},yt=Ye.unselected||{},ft=Ye.textfont||{},tt=et.textfont||{},wt=yt.textfont||{},Xt=ft.color,Gt=tt.color,Nt=wt.color;return je.selectedTextColorFn=function(Bt){var vn=Bt.tc||Xt;return Bt.selected?Gt||vn:Nt||(Gt?vn:C.addOpacity(vn,N))},je},Q.selectedPointStyle=function(Ye,je){if(!(!Ye.size()||!je.selectedpoints)){var et=Q.makeSelectedPointStyleFns(je),yt=je.marker||{},ft=[];et.selectedOpacityFn&&ft.push(function(tt,wt){tt.style("opacity",et.selectedOpacityFn(wt))}),et.selectedColorFn&&ft.push(function(tt,wt){C.fill(tt,et.selectedColorFn(wt))}),et.selectedSizeFn&&ft.push(function(tt,wt){var Xt=wt.mx||yt.symbol||0,Gt=et.selectedSizeFn(wt);tt.attr("d",ie(Q.symbolNumber(Xt),Gt,pt(wt,je),te(wt,je))),wt.mrc2=Gt}),ft.length&&Ye.each(function(tt){for(var wt=p.select(this),Xt=0;Xt<ft.length;Xt++)ft[Xt](wt,tt)})}},Q.tryColorscale=function(Ye,je){var et=je?v.nestedProperty(Ye,je).get():Ye;if(et){var yt=et.color;if((et.colorscale||et._colorAx)&&v.isArrayOrTypedArray(yt))return w.makeColorScaleFuncFromTrace(et)}return v.identity};var fe={start:1,end:-1,middle:0,bottom:1,top:-1};function ee(Ye,je,et,yt,ft){var tt=p.select(Ye.node().parentNode),wt=je.indexOf("top")!==-1?"top":je.indexOf("bottom")!==-1?"bottom":"middle",Xt=je.indexOf("left")!==-1?"end":je.indexOf("right")!==-1?"start":"middle",Gt=yt?yt/.8+1:0,Nt=(R.lineCount(Ye)-1)*V+1,Bt=fe[Xt]*Gt,vn=et*.75+fe[wt]*Gt+(fe[wt]-1)*Nt*et/2;Ye.attr("text-anchor",Xt),ft||tt.attr("transform",T(Bt,vn))}function be(Ye,je){var et=Ye.ts||je.textfont.size;return b(et)&&et>0?et:0}Q.textPointStyle=function(Ye,je,et){if(Ye.size()){var yt;if(je.selectedpoints){var ft=Q.makeSelectedTextStyleFns(je);yt=ft.selectedTextColorFn}var tt=je.texttemplate,wt=et._fullLayout;Ye.each(function(Xt){var Gt=p.select(this),Nt=tt?v.extractOption(Xt,je,"txt","texttemplate"):v.extractOption(Xt,je,"tx","text");if(!Nt&&Nt!==0){Gt.remove();return}if(tt){var Bt=je._module.formatLabels,vn=Bt?Bt(Xt,je,wt):{},En={};U(En,je,Xt.i);var ln=je._meta||{};Nt=v.texttemplateString(Nt,vn,wt._d3locale,En,Xt,ln)}var Yn=Xt.tp||je.textposition,an=be(Xt,je),wn=yt?yt(Xt):Xt.tc||je.textfont.color;Gt.call(Q.font,Xt.tf||je.textfont.family,an,wn).text(Nt).call(R.convertToTspans,et).call(ee,Yn,an,Xt.mrc)})}},Q.selectedTextStyle=function(Ye,je){if(!(!Ye.size()||!je.selectedpoints)){var et=Q.makeSelectedTextStyleFns(je);Ye.each(function(yt){var ft=p.select(this),tt=et.selectedTextColorFn(yt),wt=yt.tp||je.textposition,Xt=be(yt,je);C.fill(ft,tt);var Gt=k.traceIs(je,"bar-like");ee(ft,wt,Xt,yt.mrc2||yt.mrc,Gt)})}};var Te=.5;Q.smoothopen=function(Ye,je){if(Ye.length<3)return"M"+Ye.join("L");var et="M"+Ye[0],yt=[],ft;for(ft=1;ft<Ye.length-1;ft++)yt.push(Oe(Ye[ft-1],Ye[ft],Ye[ft+1],je));for(et+="Q"+yt[0][0]+" "+Ye[1],ft=2;ft<Ye.length-1;ft++)et+="C"+yt[ft-2][1]+" "+yt[ft-1][0]+" "+Ye[ft];return et+="Q"+yt[Ye.length-3][1]+" "+Ye[Ye.length-1],et},Q.smoothclosed=function(Ye,je){if(Ye.length<3)return"M"+Ye.join("L")+"Z";var et="M"+Ye[0],yt=Ye.length-1,ft=[Oe(Ye[yt],Ye[0],Ye[1],je)],tt;for(tt=1;tt<yt;tt++)ft.push(Oe(Ye[tt-1],Ye[tt],Ye[tt+1],je));for(ft.push(Oe(Ye[yt-1],Ye[yt],Ye[0],je)),tt=1;tt<=yt;tt++)et+="C"+ft[tt-1][1]+" "+ft[tt][0]+" "+Ye[tt];return et+="C"+ft[yt][1]+" "+ft[0][0]+" "+Ye[0]+"Z",et};var Be,ge;function ne(Ye,je,et){return et&&(Ye=ke(Ye)),je?G(Ye[1]):pe(Ye[0])}function pe(Ye){var je=p.round(Ye,2);return Be=je,je}function G(Ye){var je=p.round(Ye,2);return ge=je,je}function Oe(Ye,je,et,yt){var ft=Ye[0]-je[0],tt=Ye[1]-je[1],wt=et[0]-je[0],Xt=et[1]-je[1],Gt=Math.pow(ft*ft+tt*tt,Te/2),Nt=Math.pow(wt*wt+Xt*Xt,Te/2),Bt=(Nt*Nt*ft-Gt*Gt*wt)*yt,vn=(Nt*Nt*tt-Gt*Gt*Xt)*yt,En=3*Nt*(Gt+Nt),ln=3*Gt*(Gt+Nt);return[[pe(je[0]+(En&&Bt/En)),G(je[1]+(En&&vn/En))],[pe(je[0]-(ln&&Bt/ln)),G(je[1]-(ln&&vn/ln))]]}var xe={hv:function(Ye,je,et){return"H"+pe(je[0])+"V"+ne(je,1,et)},vh:function(Ye,je,et){return"V"+G(je[1])+"H"+ne(je,0,et)},hvh:function(Ye,je,et){return"H"+pe((Ye[0]+je[0])/2)+"V"+G(je[1])+"H"+ne(je,0,et)},vhv:function(Ye,je,et){return"V"+G((Ye[1]+je[1])/2)+"H"+pe(je[0])+"V"+ne(je,1,et)}},Le=function(Ye,je,et){return"L"+ne(je,0,et)+","+ne(je,1,et)};Q.steps=function(Ye){var je=xe[Ye]||Le;return function(et){for(var yt="M"+pe(et[0][0])+","+G(et[0][1]),ft=et.length,tt=1;tt<ft;tt++)yt+=je(et[tt-1],et[tt],tt===ft-1);return yt}};function ke(Ye,je){var et=Ye.backoff,yt=Ye.trace,ft=Ye.d,tt=Ye.i;if(et&&yt&&yt.marker&&yt.marker.angle%360===0&&yt.line&&yt.line.shape!=="spline"){var wt=v.isArrayOrTypedArray(et),Xt=Ye,Gt=je?je[0]:Be||0,Nt=je?je[1]:ge||0,Bt=Xt[0],vn=Xt[1],En=Bt-Gt,ln=vn-Nt,Yn=Math.atan2(ln,En),an=wt?et[tt]:et;if(an==="auto"){var wn=Xt.i;yt.type==="scatter"&&wn--;var Xn=Xt.marker,Un=Xn.symbol;v.isArrayOrTypedArray(Un)&&(Un=Un[wn]);var Sn=Xn.size;v.isArrayOrTypedArray(Sn)&&(Sn=Sn[wn]),an=Xn?Q.symbolBackOffs[Q.symbolNumber(Un)]*Sn:0,an+=Q.getMarkerStandoff(ft[wn],yt)||0}var it=Bt-an*Math.cos(Yn),ut=vn-an*Math.sin(Yn);(it<=Bt&&it>=Gt||it>=Bt&&it<=Gt)&&(ut<=vn&&ut>=Nt||ut>=vn&&ut<=Nt)&&(Ye=[it,ut])}return Ye}Q.applyBackoff=ke,Q.makeTester=function(){var Ye=v.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(et){et.attr(M.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),je=v.ensureSingle(Ye,"path","js-reference-point",function(et){et.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});Q.tester=Ye,Q.testref=je},Q.savedBBoxes={};var $e=0,Ze=1e4;Q.bBox=function(Ye,je,et){et||(et=De(Ye));var yt;if(et){if(yt=Q.savedBBoxes[et],yt)return v.extendFlat({},yt)}else if(Ye.childNodes.length===1){var ft=Ye.childNodes[0];if(et=De(ft),et){var tt=+ft.getAttribute("x")||0,wt=+ft.getAttribute("y")||0,Xt=ft.getAttribute("transform");if(!Xt){var Gt=Q.bBox(ft,!1,et);return tt&&(Gt.left+=tt,Gt.right+=tt),wt&&(Gt.top+=wt,Gt.bottom+=wt),Gt}if(et+="~"+tt+"~"+wt+"~"+Xt,yt=Q.savedBBoxes[et],yt)return v.extendFlat({},yt)}}var Nt,Bt;je?Nt=Ye:(Bt=Q.tester.node(),Nt=Ye.cloneNode(!0),Bt.appendChild(Nt)),p.select(Nt).attr("transform",null).call(R.positionText,0,0);var vn=Nt.getBoundingClientRect(),En=Q.testref.node().getBoundingClientRect();je||Bt.removeChild(Nt);var ln={height:vn.height,width:vn.width,left:vn.left-En.left,top:vn.top-En.top,right:vn.right-En.left,bottom:vn.bottom-En.top};return $e>=Ze&&(Q.savedBBoxes={},$e=0),et&&(Q.savedBBoxes[et]=ln),$e++,v.extendFlat({},ln)};function De(Ye){var je=Ye.getAttribute("data-unformatted");if(je!==null)return je+Ye.getAttribute("data-math")+Ye.getAttribute("text-anchor")+Ye.getAttribute("style")}Q.setClipUrl=function(Ye,je,et){Ye.attr("clip-path",Ie(je,et))};function Ie(Ye,je){if(!Ye)return null;var et=je._context,yt=et._exportedPlot?"":et._baseUrl||"";return yt?"url('"+yt+"#"+Ye+"')":"url(#"+Ye+")"}Q.getTranslate=function(Ye){var je=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,et=Ye.attr?"attr":"getAttribute",yt=Ye[et]("transform")||"",ft=yt.replace(je,function(tt,wt,Xt){return[wt,Xt].join(" ")}).split(" ");return{x:+ft[0]||0,y:+ft[1]||0}},Q.setTranslate=function(Ye,je,et){var yt=/(\btranslate\(.*?\);?)/,ft=Ye.attr?"attr":"getAttribute",tt=Ye.attr?"attr":"setAttribute",wt=Ye[ft]("transform")||"";return je=je||0,et=et||0,wt=wt.replace(yt,"").trim(),wt+=T(je,et),wt=wt.trim(),Ye[tt]("transform",wt),wt},Q.getScale=function(Ye){var je=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,et=Ye.attr?"attr":"getAttribute",yt=Ye[et]("transform")||"",ft=yt.replace(je,function(tt,wt,Xt){return[wt,Xt].join(" ")}).split(" ");return{x:+ft[0]||1,y:+ft[1]||1}},Q.setScale=function(Ye,je,et){var yt=/(\bscale\(.*?\);?)/,ft=Ye.attr?"attr":"getAttribute",tt=Ye.attr?"attr":"setAttribute",wt=Ye[ft]("transform")||"";return je=je||1,et=et||1,wt=wt.replace(yt,"").trim(),wt+="scale("+je+","+et+")",wt=wt.trim(),Ye[tt]("transform",wt),wt};var re=/\s*sc.*/;Q.setPointGroupScale=function(Ye,je,et){if(je=je||1,et=et||1,!!Ye){var yt=je===1&&et===1?"":"scale("+je+","+et+")";Ye.each(function(){var ft=(this.getAttribute("transform")||"").replace(re,"");ft+=yt,ft=ft.trim(),this.setAttribute("transform",ft)})}};var ye=/translate\([^)]*\)\s*$/;Q.setTextPointsScale=function(Ye,je,et){Ye&&Ye.each(function(){var yt,ft=p.select(this),tt=ft.select("text");if(tt.node()){var wt=parseFloat(tt.attr("x")||0),Xt=parseFloat(tt.attr("y")||0),Gt=(ft.attr("transform")||"").match(ye);je===1&&et===1?yt=[]:yt=[T(wt,Xt),"scale("+je+","+et+")",T(-wt,-Xt)],Gt&&yt.push(Gt),ft.attr("transform",yt.join(""))}})};function te(Ye,je){var et;return Ye&&(et=Ye.mf),et===void 0&&(et=je.marker&&je.marker.standoff||0),!je._geo&&!je._xA?-et:et}Q.getMarkerStandoff=te;var se=Math.atan2,ue=Math.cos,oe=Math.sin;function Se(Ye,je){var et=je[0],yt=je[1];return[et*ue(Ye)-yt*oe(Ye),et*oe(Ye)+yt*ue(Ye)]}var le,Ce,Qe,ze,Xe,ct;function pt(Ye,je){var et=Ye.ma;et===void 0&&(et=je.marker.angle||0);var yt,ft,tt=je.marker.angleref;if(tt==="previous"||tt==="north"){if(je._geo){var wt=je._geo.project(Ye.lonlat);yt=wt[0],ft=wt[1]}else{var Xt=je._xA,Gt=je._yA;if(Xt&&Gt)yt=Xt.c2p(Ye.x),ft=Gt.c2p(Ye.y);else return 90}if(je._geo){var Nt=Ye.lonlat[0],Bt=Ye.lonlat[1],vn=je._geo.project([Nt,Bt+1e-5]),En=je._geo.project([Nt+1e-5,Bt]),ln=se(En[1]-ft,En[0]-yt),Yn=se(vn[1]-ft,vn[0]-yt),an;if(tt==="north")an=et/180*Math.PI;else if(tt==="previous"){var wn=Nt/180*Math.PI,Xn=Bt/180*Math.PI,Un=le/180*Math.PI,Sn=Ce/180*Math.PI,it=Un-wn,ut=ue(Sn)*oe(it),xt=oe(Sn)*ue(Xn)-ue(Sn)*oe(Xn)*ue(it);an=-se(ut,xt)-Math.PI,le=Nt,Ce=Bt}var gt=Se(ln,[ue(an),0]),Dt=Se(Yn,[oe(an),0]);et=se(gt[1]+Dt[1],gt[0]+Dt[0])/Math.PI*180,tt==="previous"&&!(ct===je.uid&&Ye.i===Xe+1)&&(et=null)}if(tt==="previous"&&!je._geo)if(ct===je.uid&&Ye.i===Xe+1&&b(yt)&&b(ft)){var He=yt-Qe,at=ft-ze,dt=je.line&&je.line.shape||"",mt=dt.slice(dt.length-1);mt==="h"&&(at=0),mt==="v"&&(He=0),et+=se(at,He)/Math.PI*180+90}else et=null}return Qe=yt,ze=ft,Xe=Ye.i,ct=je.uid,et}Q.getMarkerAngle=pt},998:function(f,h,u){var p=u(5616),v=u(9898).round,y="M0,0Z",b=Math.sqrt(2),x=Math.sqrt(3),k=Math.PI,C=Math.cos,w=Math.sin;f.exports={circle:{n:0,f:function(F,z,U){if(T(z))return y;var Q=v(F,2),B="M"+Q+",0A"+Q+","+Q+" 0 1,1 0,-"+Q+"A"+Q+","+Q+" 0 0,1 "+Q+",0Z";return U?N(z,U,B):B}},square:{n:1,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M"+Q+","+Q+"H-"+Q+"V-"+Q+"H"+Q+"Z")}},diamond:{n:2,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.3,2);return N(z,U,"M"+Q+",0L0,"+Q+"L-"+Q+",0L0,-"+Q+"Z")}},cross:{n:3,f:function(F,z,U){if(T(z))return y;var Q=v(F*.4,2),B=v(F*1.2,2);return N(z,U,"M"+B+","+Q+"H"+Q+"V"+B+"H-"+Q+"V"+Q+"H-"+B+"V-"+Q+"H-"+Q+"V-"+B+"H"+Q+"V-"+Q+"H"+B+"Z")}},x:{n:4,f:function(F,z,U){if(T(z))return y;var Q=v(F*.8/b,2),B="l"+Q+","+Q,E="l"+Q+",-"+Q,W="l-"+Q+",-"+Q,Y="l-"+Q+","+Q;return N(z,U,"M0,"+Q+B+E+W+E+W+Y+W+Y+B+Y+B+"Z")}},"triangle-up":{n:5,f:function(F,z,U){if(T(z))return y;var Q=v(F*2/x,2),B=v(F/2,2),E=v(F,2);return N(z,U,"M-"+Q+","+B+"H"+Q+"L0,-"+E+"Z")}},"triangle-down":{n:6,f:function(F,z,U){if(T(z))return y;var Q=v(F*2/x,2),B=v(F/2,2),E=v(F,2);return N(z,U,"M-"+Q+",-"+B+"H"+Q+"L0,"+E+"Z")}},"triangle-left":{n:7,f:function(F,z,U){if(T(z))return y;var Q=v(F*2/x,2),B=v(F/2,2),E=v(F,2);return N(z,U,"M"+B+",-"+Q+"V"+Q+"L-"+E+",0Z")}},"triangle-right":{n:8,f:function(F,z,U){if(T(z))return y;var Q=v(F*2/x,2),B=v(F/2,2),E=v(F,2);return N(z,U,"M-"+B+",-"+Q+"V"+Q+"L"+E+",0Z")}},"triangle-ne":{n:9,f:function(F,z,U){if(T(z))return y;var Q=v(F*.6,2),B=v(F*1.2,2);return N(z,U,"M-"+B+",-"+Q+"H"+Q+"V"+B+"Z")}},"triangle-se":{n:10,f:function(F,z,U){if(T(z))return y;var Q=v(F*.6,2),B=v(F*1.2,2);return N(z,U,"M"+Q+",-"+B+"V"+Q+"H-"+B+"Z")}},"triangle-sw":{n:11,f:function(F,z,U){if(T(z))return y;var Q=v(F*.6,2),B=v(F*1.2,2);return N(z,U,"M"+B+","+Q+"H-"+Q+"V-"+B+"Z")}},"triangle-nw":{n:12,f:function(F,z,U){if(T(z))return y;var Q=v(F*.6,2),B=v(F*1.2,2);return N(z,U,"M-"+Q+","+B+"V-"+Q+"H"+B+"Z")}},pentagon:{n:13,f:function(F,z,U){if(T(z))return y;var Q=v(F*.951,2),B=v(F*.588,2),E=v(-F,2),W=v(F*-.309,2),Y=v(F*.809,2);return N(z,U,"M"+Q+","+W+"L"+B+","+Y+"H-"+B+"L-"+Q+","+W+"L0,"+E+"Z")}},hexagon:{n:14,f:function(F,z,U){if(T(z))return y;var Q=v(F,2),B=v(F/2,2),E=v(F*x/2,2);return N(z,U,"M"+E+",-"+B+"V"+B+"L0,"+Q+"L-"+E+","+B+"V-"+B+"L0,-"+Q+"Z")}},hexagon2:{n:15,f:function(F,z,U){if(T(z))return y;var Q=v(F,2),B=v(F/2,2),E=v(F*x/2,2);return N(z,U,"M-"+B+","+E+"H"+B+"L"+Q+",0L"+B+",-"+E+"H-"+B+"L-"+Q+",0Z")}},octagon:{n:16,f:function(F,z,U){if(T(z))return y;var Q=v(F*.924,2),B=v(F*.383,2);return N(z,U,"M-"+B+",-"+Q+"H"+B+"L"+Q+",-"+B+"V"+B+"L"+B+","+Q+"H-"+B+"L-"+Q+","+B+"V-"+B+"Z")}},star:{n:17,f:function(F,z,U){if(T(z))return y;var Q=F*1.4,B=v(Q*.225,2),E=v(Q*.951,2),W=v(Q*.363,2),Y=v(Q*.588,2),ie=v(-Q,2),L=v(Q*-.309,2),me=v(Q*.118,2),ae=v(Q*.809,2),q=v(Q*.382,2);return N(z,U,"M"+B+","+L+"H"+E+"L"+W+","+me+"L"+Y+","+ae+"L0,"+q+"L-"+Y+","+ae+"L-"+W+","+me+"L-"+E+","+L+"H-"+B+"L0,"+ie+"Z")}},hexagram:{n:18,f:function(F,z,U){if(T(z))return y;var Q=v(F*.66,2),B=v(F*.38,2),E=v(F*.76,2);return N(z,U,"M-"+E+",0l-"+B+",-"+Q+"h"+E+"l"+B+",-"+Q+"l"+B+","+Q+"h"+E+"l-"+B+","+Q+"l"+B+","+Q+"h-"+E+"l-"+B+","+Q+"l-"+B+",-"+Q+"h-"+E+"Z")}},"star-triangle-up":{n:19,f:function(F,z,U){if(T(z))return y;var Q=v(F*x*.8,2),B=v(F*.8,2),E=v(F*1.6,2),W=v(F*4,2),Y="A "+W+","+W+" 0 0 1 ";return N(z,U,"M-"+Q+","+B+Y+Q+","+B+Y+"0,-"+E+Y+"-"+Q+","+B+"Z")}},"star-triangle-down":{n:20,f:function(F,z,U){if(T(z))return y;var Q=v(F*x*.8,2),B=v(F*.8,2),E=v(F*1.6,2),W=v(F*4,2),Y="A "+W+","+W+" 0 0 1 ";return N(z,U,"M"+Q+",-"+B+Y+"-"+Q+",-"+B+Y+"0,"+E+Y+Q+",-"+B+"Z")}},"star-square":{n:21,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.1,2),B=v(F*2,2),E="A "+B+","+B+" 0 0 1 ";return N(z,U,"M-"+Q+",-"+Q+E+"-"+Q+","+Q+E+Q+","+Q+E+Q+",-"+Q+E+"-"+Q+",-"+Q+"Z")}},"star-diamond":{n:22,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.4,2),B=v(F*1.9,2),E="A "+B+","+B+" 0 0 1 ";return N(z,U,"M-"+Q+",0"+E+"0,"+Q+E+Q+",0"+E+"0,-"+Q+E+"-"+Q+",0Z")}},"diamond-tall":{n:23,f:function(F,z,U){if(T(z))return y;var Q=v(F*.7,2),B=v(F*1.4,2);return N(z,U,"M0,"+B+"L"+Q+",0L0,-"+B+"L-"+Q+",0Z")}},"diamond-wide":{n:24,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.4,2),B=v(F*.7,2);return N(z,U,"M0,"+B+"L"+Q+",0L0,-"+B+"L-"+Q+",0Z")}},hourglass:{n:25,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M"+Q+","+Q+"H-"+Q+"L"+Q+",-"+Q+"H-"+Q+"Z")},noDot:!0},bowtie:{n:26,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M"+Q+","+Q+"V-"+Q+"L-"+Q+","+Q+"V-"+Q+"Z")},noDot:!0},"circle-cross":{n:27,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M0,"+Q+"V-"+Q+"M"+Q+",0H-"+Q+"M"+Q+",0A"+Q+","+Q+" 0 1,1 0,-"+Q+"A"+Q+","+Q+" 0 0,1 "+Q+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(F,z,U){if(T(z))return y;var Q=v(F,2),B=v(F/b,2);return N(z,U,"M"+B+","+B+"L-"+B+",-"+B+"M"+B+",-"+B+"L-"+B+","+B+"M"+Q+",0A"+Q+","+Q+" 0 1,1 0,-"+Q+"A"+Q+","+Q+" 0 0,1 "+Q+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M0,"+Q+"V-"+Q+"M"+Q+",0H-"+Q+"M"+Q+","+Q+"H-"+Q+"V-"+Q+"H"+Q+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M"+Q+","+Q+"L-"+Q+",-"+Q+"M"+Q+",-"+Q+"L-"+Q+","+Q+"M"+Q+","+Q+"H-"+Q+"V-"+Q+"H"+Q+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.3,2);return N(z,U,"M"+Q+",0L0,"+Q+"L-"+Q+",0L0,-"+Q+"ZM0,-"+Q+"V"+Q+"M-"+Q+",0H"+Q)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.3,2),B=v(F*.65,2);return N(z,U,"M"+Q+",0L0,"+Q+"L-"+Q+",0L0,-"+Q+"ZM-"+B+",-"+B+"L"+B+","+B+"M-"+B+","+B+"L"+B+",-"+B)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.4,2);return N(z,U,"M0,"+Q+"V-"+Q+"M"+Q+",0H-"+Q)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M"+Q+","+Q+"L-"+Q+",-"+Q+"M"+Q+",-"+Q+"L-"+Q+","+Q)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.2,2),B=v(F*.85,2);return N(z,U,"M0,"+Q+"V-"+Q+"M"+Q+",0H-"+Q+"M"+B+","+B+"L-"+B+",-"+B+"M"+B+",-"+B+"L-"+B+","+B)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(F,z,U){if(T(z))return y;var Q=v(F/2,2),B=v(F,2);return N(z,U,"M"+Q+","+B+"V-"+B+"M"+(Q-B)+",-"+B+"V"+B+"M"+B+","+Q+"H-"+B+"M-"+B+","+(Q-B)+"H"+B)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.2,2),B=v(F*1.6,2),E=v(F*.8,2);return N(z,U,"M-"+Q+","+E+"L0,0M"+Q+","+E+"L0,0M0,-"+B+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.2,2),B=v(F*1.6,2),E=v(F*.8,2);return N(z,U,"M-"+Q+",-"+E+"L0,0M"+Q+",-"+E+"L0,0M0,"+B+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.2,2),B=v(F*1.6,2),E=v(F*.8,2);return N(z,U,"M"+E+","+Q+"L0,0M"+E+",-"+Q+"L0,0M-"+B+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.2,2),B=v(F*1.6,2),E=v(F*.8,2);return N(z,U,"M-"+E+","+Q+"L0,0M-"+E+",-"+Q+"L0,0M"+B+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.4,2);return N(z,U,"M"+Q+",0H-"+Q)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(F,z,U){if(T(z))return y;var Q=v(F*1.4,2);return N(z,U,"M0,"+Q+"V-"+Q)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M"+Q+",-"+Q+"L-"+Q+","+Q)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(F,z,U){if(T(z))return y;var Q=v(F,2);return N(z,U,"M"+Q+","+Q+"L-"+Q+",-"+Q)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(F,z,U){if(T(z))return y;var Q=v(F,2),B=v(F*2,2);return N(z,U,"M0,0L-"+Q+","+B+"H"+Q+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(F,z,U){if(T(z))return y;var Q=v(F,2),B=v(F*2,2);return N(z,U,"M0,0L-"+Q+",-"+B+"H"+Q+"Z")},noDot:!0},"arrow-left":{n:47,f:function(F,z,U){if(T(z))return y;var Q=v(F*2,2),B=v(F,2);return N(z,U,"M0,0L"+Q+",-"+B+"V"+B+"Z")},noDot:!0},"arrow-right":{n:48,f:function(F,z,U){if(T(z))return y;var Q=v(F*2,2),B=v(F,2);return N(z,U,"M0,0L-"+Q+",-"+B+"V"+B+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(F,z,U){if(T(z))return y;var Q=v(F,2),B=v(F*2,2);return N(z,U,"M-"+Q+",0H"+Q+"M0,0L-"+Q+","+B+"H"+Q+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(F,z,U){if(T(z))return y;var Q=v(F,2),B=v(F*2,2);return N(z,U,"M-"+Q+",0H"+Q+"M0,0L-"+Q+",-"+B+"H"+Q+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(F,z,U){if(T(z))return y;var Q=v(F*2,2),B=v(F,2);return N(z,U,"M0,-"+B+"V"+B+"M0,0L"+Q+",-"+B+"V"+B+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(F,z,U){if(T(z))return y;var Q=v(F*2,2),B=v(F,2);return N(z,U,"M0,-"+B+"V"+B+"M0,0L-"+Q+",-"+B+"V"+B+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(F,z,U){if(T(z))return y;var Q=k/2.5,B=2*F*C(Q),E=2*F*w(Q);return N(z,U,"M0,0L"+-B+","+E+"L"+B+","+E+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(F,z,U){if(T(z))return y;var Q=k/4,B=2*F*C(Q),E=2*F*w(Q);return N(z,U,"M0,0L"+-B+","+E+"A "+2*F+","+2*F+" 0 0 1 "+B+","+E+"Z")},backoff:.4,noDot:!0}};function T(F){return F===null}var R,M,I,V;function N(F,z,U){if((!F||F%360===0)&&!z)return U;if(I===F&&V===z&&R===U)return M;I=F,V=z,R=U;function Q(Te,Be){var ge=C(Te),ne=w(Te),pe=Be[0],G=Be[1]+(z||0);return[pe*ge-G*ne,pe*ne+G*ge]}for(var B=F/180*k,E=0,W=0,Y=p(U),ie="",L=0;L<Y.length;L++){var me=Y[L],ae=me[0],q=E,fe=W;if(ae==="M"||ae==="L")E=+me[1],W=+me[2];else if(ae==="m"||ae==="l")E+=+me[1],W+=+me[2];else if(ae==="H")E=+me[1];else if(ae==="h")E+=+me[1];else if(ae==="V")W=+me[1];else if(ae==="v")W+=+me[1];else if(ae==="A"){E=+me[1],W=+me[2];var ee=Q(B,[+me[6],+me[7]]);me[6]=ee[0],me[7]=ee[1],me[3]=+me[3]+F}(ae==="H"||ae==="V")&&(ae="L"),(ae==="h"||ae==="v")&&(ae="l"),(ae==="m"||ae==="l")&&(E-=q,W-=fe);var be=Q(B,[E,W]);(ae==="H"||ae==="V")&&(ae="L"),(ae==="M"||ae==="L"||ae==="m"||ae==="l")&&(me[1]=be[0],me[2]=be[1]),me[0]=ae,ie+=me[0]+me.slice(1).join(",")}return M=ie,ie}},5673:function(f){f.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(f,h,u){var p=u(2770),v=u(3972),y=u(9298),b=u(1828),x=u(5827);f.exports=function(w){for(var T=w.calcdata,R=0;R<T.length;R++){var M=T[R],I=M[0].trace;if(I.visible===!0&&v.traceIs(I,"errorBarsOK")){var V=y.getFromId(w,I.xaxis),N=y.getFromId(w,I.yaxis);k(M,I,V,"x"),k(M,I,N,"y")}}};function k(C,w,T,R){var M=w["error_"+R]||{},I=M.visible&&["linear","log"].indexOf(T.type)!==-1,V=[];if(I){for(var N=x(M),F=0;F<C.length;F++){var z=C[F],U=z.i;if(U===void 0)U=F;else if(U===null)continue;var Q=z[R];if(p(T.c2l(Q))){var B=N(Q,U);if(p(B[0])&&p(B[1])){var E=z[R+"s"]=Q-B[0],W=z[R+"h"]=Q+B[1];V.push(E,W)}}}var Y=T._id,ie=w._extremes[Y],L=y.findExtremes(T,V,b.extendFlat({tozero:ie.opts.tozero},{padded:!0}));ie.min=ie.min.concat(L.min),ie.max=ie.max.concat(L.max)}}},5827:function(f){f.exports=function(p){var v=p.type,y=p.symmetric;if(v==="data"){var b=p.array||[];if(y)return function(T,R){var M=+b[R];return[M,M]};var x=p.arrayminus||[];return function(T,R){var M=+b[R],I=+x[R];return!isNaN(M)||!isNaN(I)?[I||0,M||0]:[NaN,NaN]}}else{var k=h(v,p.value),C=h(v,p.valueminus);return y||p.valueminus===void 0?function(T){var R=k(T);return[R,R]}:function(T){return[C(T),k(T)]}}};function h(u,p){if(u==="percent")return function(v){return Math.abs(v*p/100)};if(u==="constant")return function(){return Math.abs(p)};if(u==="sqrt")return function(v){return Math.sqrt(Math.abs(v))}}},7587:function(f,h,u){var p=u(2770),v=u(3972),y=u(1828),b=u(4467),x=u(5673);f.exports=function(k,C,w,T){var R="error_"+T.axis,M=b.newContainer(C,R),I=k[R]||{};function V(E,W){return y.coerce(I,M,x,E,W)}var N=I.array!==void 0||I.value!==void 0||I.type==="sqrt",F=V("visible",N);if(F!==!1){var z=V("type","array"in I?"data":"percent"),U=!0;z!=="sqrt"&&(U=V("symmetric",!((z==="data"?"arrayminus":"valueminus")in I))),z==="data"?(V("array"),V("traceref"),U||(V("arrayminus"),V("tracerefminus"))):(z==="percent"||z==="constant")&&(V("value"),U||V("valueminus"));var Q="copy_"+T.inherit+"style";if(T.inherit){var B=C["error_"+T.inherit];(B||{}).visible&&V(Q,!(I.color||p(I.thickness)||p(I.width)))}(!T.inherit||!M[Q])&&(V("color",w),V("thickness"),V("width",v.traceIs(C,"gl3d")?0:4))}}},7369:function(f,h,u){var p=u(1828),v=u(962).overrideAll,y=u(5673),b={error_x:p.extendFlat({},y),error_y:p.extendFlat({},y)};delete b.error_x.copy_zstyle,delete b.error_y.copy_zstyle,delete b.error_y.copy_ystyle;var x={error_x:p.extendFlat({},y),error_y:p.extendFlat({},y),error_z:p.extendFlat({},y)};delete x.error_x.copy_ystyle,delete x.error_y.copy_ystyle,delete x.error_z.copy_ystyle,delete x.error_z.copy_zstyle,f.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:b,bar:b,histogram:b,scatter3d:v(x,"calc","nested"),scattergl:v(b,"calc","nested")}},supplyDefaults:u(7587),calc:u(4532),makeComputeError:u(5827),plot:u(9398),style:u(2662),hoverInfo:k};function k(C,w,T){(w.error_y||{}).visible&&(T.yerr=C.yh-C.y,w.error_y.symmetric||(T.yerrneg=C.y-C.ys)),(w.error_x||{}).visible&&(T.xerr=C.xh-C.x,w.error_x.symmetric||(T.xerrneg=C.x-C.xs))}},9398:function(f,h,u){var p=u(9898),v=u(2770),y=u(1424),b=u(4098);f.exports=function(C,w,T,R){var M,I=T.xaxis,V=T.yaxis,N=R&&R.duration>0,F=C._context.staticPlot;w.each(function(z){var U=z[0].trace,Q=U.error_x||{},B=U.error_y||{},E;U.ids&&(E=function(L){return L.id});var W=b.hasMarkers(U)&&U.marker.maxdisplayed>0;!B.visible&&!Q.visible&&(z=[]);var Y=p.select(this).selectAll("g.errorbar").data(z,E);if(Y.exit().remove(),!!z.length){Q.visible||Y.selectAll("path.xerror").remove(),B.visible||Y.selectAll("path.yerror").remove(),Y.style("opacity",1);var ie=Y.enter().append("g").classed("errorbar",!0);N&&ie.style("opacity",0).transition().duration(R.duration).style("opacity",1),y.setClipUrl(Y,T.layerClipId,C),Y.each(function(L){var me=p.select(this),ae=x(L,I,V);if(!(W&&!L.vis)){var q,fe=me.select("path.yerror");if(B.visible&&v(ae.x)&&v(ae.yh)&&v(ae.ys)){var ee=B.width;q="M"+(ae.x-ee)+","+ae.yh+"h"+2*ee+"m-"+ee+",0V"+ae.ys,ae.noYS||(q+="m-"+ee+",0h"+2*ee),M=!fe.size(),M?fe=me.append("path").style("vector-effect",F?"none":"non-scaling-stroke").classed("yerror",!0):N&&(fe=fe.transition().duration(R.duration).ease(R.easing)),fe.attr("d",q)}else fe.remove();var be=me.select("path.xerror");if(Q.visible&&v(ae.y)&&v(ae.xh)&&v(ae.xs)){var Te=(Q.copy_ystyle?B:Q).width;q="M"+ae.xh+","+(ae.y-Te)+"v"+2*Te+"m0,-"+Te+"H"+ae.xs,ae.noXS||(q+="m0,-"+Te+"v"+2*Te),M=!be.size(),M?be=me.append("path").style("vector-effect",F?"none":"non-scaling-stroke").classed("xerror",!0):N&&(be=be.transition().duration(R.duration).ease(R.easing)),be.attr("d",q)}else be.remove()}})}})};function x(k,C,w){var T={x:C.c2p(k.x),y:w.c2p(k.y)};return k.yh!==void 0&&(T.yh=w.c2p(k.yh),T.ys=w.c2p(k.ys),v(T.ys)||(T.noYS=!0,T.ys=w.c2p(k.ys,!0))),k.xh!==void 0&&(T.xh=C.c2p(k.xh),T.xs=C.c2p(k.xs),v(T.xs)||(T.noXS=!0,T.xs=C.c2p(k.xs,!0))),T}},2662:function(f,h,u){var p=u(9898),v=u(7901);f.exports=function(b){b.each(function(x){var k=x[0].trace,C=k.error_y||{},w=k.error_x||{},T=p.select(this);T.selectAll("path.yerror").style("stroke-width",C.thickness+"px").call(v.stroke,C.color),w.copy_ystyle&&(w=C),T.selectAll("path.xerror").style("stroke-width",w.thickness+"px").call(v.stroke,w.color)})}},7914:function(f,h,u){var p=u(1940),v=u(528).hoverlabel,y=u(1426).extendFlat;f.exports={hoverlabel:{bgcolor:y({},v.bgcolor,{arrayOk:!0}),bordercolor:y({},v.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:y({},v.align,{arrayOk:!0}),namelength:y({},v.namelength,{arrayOk:!0}),editType:"none"}}},732:function(f,h,u){var p=u(1828),v=u(3972);f.exports=function(x){var k=x.calcdata,C=x._fullLayout;function w(V){return function(N){return p.coerceHoverinfo({hoverinfo:N},{_module:V._module},C)}}for(var T=0;T<k.length;T++){var R=k[T],M=R[0].trace;if(!v.traceIs(M,"pie-like")){var I=v.traceIs(M,"2dMap")?y:p.fillArray;I(M.hoverinfo,R,"hi",w(M)),M.hovertemplate&&I(M.hovertemplate,R,"ht"),M.hoverlabel&&(I(M.hoverlabel.bgcolor,R,"hbg"),I(M.hoverlabel.bordercolor,R,"hbc"),I(M.hoverlabel.font.size,R,"hts"),I(M.hoverlabel.font.color,R,"htc"),I(M.hoverlabel.font.family,R,"htf"),I(M.hoverlabel.namelength,R,"hnl"),I(M.hoverlabel.align,R,"hta"))}}};function y(b,x,k,C){C=C||p.identity,Array.isArray(b)&&(x[0][k]=C(b))}},5914:function(f,h,u){var p=u(3972),v=u(8335).hover;f.exports=function(b,x,k){var C=p.getComponentMethod("annotations","onClick")(b,b._hoverdata);k!==void 0&&v(b,x,k,!0);function w(){b.emit("plotly_click",{points:b._hoverdata,event:x})}b._hoverdata&&x&&x.target&&(C&&C.then?C.then(w):w(),x.stopImmediatePropagation&&x.stopImmediatePropagation())}},6675:function(f){f.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(f,h,u){var p=u(1828),v=u(7914),y=u(8048);f.exports=function(x,k,C,w){function T(M,I){return p.coerce(x,k,v,M,I)}var R=p.extendFlat({},w.hoverlabel);k.hovertemplate&&(R.namelength=-1),y(x,k,T,R)}},3469:function(f,h,u){var p=u(1828);h.getSubplot=function(C){return C.subplot||C.xaxis+C.yaxis||C.geo},h.isTraceInSubplots=function(C,w){if(C.type==="splom"){for(var T=C.xaxes||[],R=C.yaxes||[],M=0;M<T.length;M++)for(var I=0;I<R.length;I++)if(w.indexOf(T[M]+R[I])!==-1)return!0;return!1}return w.indexOf(h.getSubplot(C))!==-1},h.flat=function(C,w){for(var T=new Array(C.length),R=0;R<C.length;R++)T[R]=w;return T},h.p2c=function(C,w){for(var T=new Array(C.length),R=0;R<C.length;R++)T[R]=C[R].p2c(w);return T},h.getDistanceFunction=function(C,w,T,R){return C==="closest"?R||h.quadrature(w,T):C.charAt(0)==="x"?w:T},h.getClosest=function(C,w,T){if(T.index!==!1)T.index>=0&&T.index<C.length?T.distance=0:T.index=!1;else for(var R=0;R<C.length;R++){var M=w(C[R]);M<=T.distance&&(T.index=R,T.distance=M)}return T},h.inbox=function(C,w,T){return C*w<0||C===0?T:1/0},h.quadrature=function(C,w){return function(T){var R=C(T),M=w(T);return Math.sqrt(R*R+M*M)}},h.makeEventData=function(C,w,T){var R="index"in C?C.index:C.pointNumber,M={data:w._input,fullData:w,curveNumber:w.index,pointNumber:R};if(w._indexToPoints){var I=w._indexToPoints[R];I.length===1?M.pointIndex=I[0]:M.pointIndices=I}else M.pointIndex=R;return w._module.eventData?M=w._module.eventData(M,C,w,T,R):("xVal"in C?M.x=C.xVal:"x"in C&&(M.x=C.x),"yVal"in C?M.y=C.yVal:"y"in C&&(M.y=C.y),C.xa&&(M.xaxis=C.xa),C.ya&&(M.yaxis=C.ya),C.zLabelVal!==void 0&&(M.z=C.zLabelVal)),h.appendArrayPointValue(M,w,R),M},h.appendArrayPointValue=function(C,w,T){var R=w._arrayAttrs;if(R)for(var M=0;M<R.length;M++){var I=R[M],V=y(I);if(C[V]===void 0){var N=p.nestedProperty(w,I).get(),F=b(N,T);F!==void 0&&(C[V]=F)}}},h.appendArrayMultiPointValues=function(C,w,T){var R=w._arrayAttrs;if(R)for(var M=0;M<R.length;M++){var I=R[M],V=y(I);if(C[V]===void 0){for(var N=p.nestedProperty(w,I).get(),F=new Array(T.length),z=0;z<T.length;z++)F[z]=b(N,T[z]);C[V]=F}}};var v={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function y(C){return v[C]||C}function b(C,w){if(Array.isArray(w)){if(Array.isArray(C)&&Array.isArray(C[w[0]]))return C[w[0]][w[1]]}else return C[w]}var x={x:!0,y:!0},k={"x unified":!0,"y unified":!0};h.isUnifiedHover=function(C){return typeof C!="string"?!1:!!k[C]},h.isXYhover=function(C){return typeof C!="string"?!1:!!x[C]}},8335:function(f,h,u){var p=u(9898),v=u(2770),y=u(4267),b=u(1828),x=b.strTranslate,k=b.strRotate,C=u(1086),w=u(3893),T=u(9918),R=u(1424),M=u(7901),I=u(8569),V=u(9298),N=u(3972),F=u(3469),z=u(6675),U=u(9017),Q=u(3969),B=z.YANGLE,E=Math.PI*B/180,W=1/Math.sin(E),Y=Math.cos(E),ie=Math.sin(E),L=z.HOVERARROWSIZE,me=z.HOVERTEXTPAD,ae={box:!0,ohlc:!0,violin:!0,candlestick:!0},q={scatter:!0,scattergl:!0,splom:!0};h.hover=function(se,ue,oe,Se){se=b.getGraphDiv(se);var le=ue.target;b.throttle(se._fullLayout._uid+z.HOVERID,z.HOVERMINTIME,function(){fe(se,ue,oe,Se,le)})},h.loneHover=function(se,ue){var oe=!0;Array.isArray(se)||(oe=!1,se=[se]);var Se=ue.gd,le=Ie(Se),Ce=re(Se),Qe=se.map(function(ft){var tt=ft._x0||ft.x0||ft.x||0,wt=ft._x1||ft.x1||ft.x||0,Xt=ft._y0||ft.y0||ft.y||0,Gt=ft._y1||ft.y1||ft.y||0,Nt=ft.eventData;if(Nt){var Bt=Math.min(tt,wt),vn=Math.max(tt,wt),En=Math.min(Xt,Gt),ln=Math.max(Xt,Gt),Yn=ft.trace;if(N.traceIs(Yn,"gl3d")){var an=Se._fullLayout[Yn.scene]._scene.container,wn=an.offsetLeft,Xn=an.offsetTop;Bt+=wn,vn+=wn,En+=Xn,ln+=Xn}Nt.bbox={x0:Bt+Ce,x1:vn+Ce,y0:En+le,y1:ln+le},ue.inOut_bbox&&ue.inOut_bbox.push(Nt.bbox)}else Nt=!1;return{color:ft.color||M.defaultLine,x0:ft.x0||ft.x||0,x1:ft.x1||ft.x||0,y0:ft.y0||ft.y||0,y1:ft.y1||ft.y||0,xLabel:ft.xLabel,yLabel:ft.yLabel,zLabel:ft.zLabel,text:ft.text,name:ft.name,idealAlign:ft.idealAlign,borderColor:ft.borderColor,fontFamily:ft.fontFamily,fontSize:ft.fontSize,fontColor:ft.fontColor,nameLength:ft.nameLength,textAlign:ft.textAlign,trace:ft.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ft.hovertemplate||!1,hovertemplateLabels:ft.hovertemplateLabels||!1,eventData:Nt}}),ze=!1,Xe=Te(Qe,{gd:Se,hovermode:"closest",rotateLabels:ze,bgColor:ue.bgColor||M.background,container:p.select(ue.container),outerContainer:ue.outerContainer||ue.container}),ct=Xe.hoverLabels,pt=5,Ye=0,je=0;ct.sort(function(ft,tt){return ft.y0-tt.y0}).each(function(ft,tt){var wt=ft.y0-ft.by/2;wt-pt<Ye?ft.offset=Ye-wt+pt:ft.offset=0,Ye=wt+ft.by+ft.offset,tt===ue.anchorIndex&&(je=ft.offset)}).each(function(ft){ft.offset-=je});var et=Se._fullLayout._invScaleX,yt=Se._fullLayout._invScaleY;return G(ct,ze,et,yt),oe?ct:ct.node()};function fe(te,se,ue,oe,Se){ue||(ue="xy");var le=Array.isArray(ue)?ue:[ue],Ce=te._fullLayout,Qe=Ce._plots||[],ze=Qe[ue],Xe=Ce._has("cartesian");if(ze){var ct=ze.overlays.map(function(ar){return ar.id});le=le.concat(ct)}for(var pt=le.length,Ye=new Array(pt),je=new Array(pt),et=!1,yt=0;yt<pt;yt++){var ft=le[yt];if(Qe[ft])et=!0,Ye[yt]=Qe[ft].xaxis,je[yt]=Qe[ft].yaxis;else if(Ce[ft]&&Ce[ft]._subplot){var tt=Ce[ft]._subplot;Ye[yt]=tt.xaxis,je[yt]=tt.yaxis}else{b.warn("Unrecognized subplot: "+ft);return}}var wt=se.hovermode||Ce.hovermode;if(wt&&!et&&(wt="closest"),["x","y","closest","x unified","y unified"].indexOf(wt)===-1||!te.calcdata||te.querySelector(".zoombox")||te._dragging)return I.unhoverRaw(te,se);var Xt=Ce.hoverdistance;Xt===-1&&(Xt=1/0);var Gt=Ce.spikedistance;Gt===-1&&(Gt=1/0);var Nt=[],Bt=[],vn,En,ln,Yn,an,wn,Xn,Un,Sn,it,ut,xt,gt,Dt={hLinePoint:null,vLinePoint:null},He=!1;if(Array.isArray(se))for(wt="array",ln=0;ln<se.length;ln++)an=te.calcdata[se[ln].curveNumber||0],an&&(wn=an[0].trace,an[0].trace.hoverinfo!=="skip"&&(Bt.push(an),wn.orientation==="h"&&(He=!0)));else{for(Yn=0;Yn<te.calcdata.length;Yn++)an=te.calcdata[Yn],wn=an[0].trace,wn.hoverinfo!=="skip"&&F.isTraceInSubplots(wn,le)&&(Bt.push(an),wn.orientation==="h"&&(He=!0));var at=!Se,dt,mt;if(at)"xpx"in se?dt=se.xpx:dt=Ye[0]._length/2,"ypx"in se?mt=se.ypx:mt=je[0]._length/2;else{if(C.triggerHandler(te,"plotly_beforehover",se)===!1)return;var Tt=Se.getBoundingClientRect();dt=se.clientX-Tt.left,mt=se.clientY-Tt.top,Ce._calcInverseTransform(te);var Pt=b.apply3DTransform(Ce._invTransform)(dt,mt);if(dt=Pt[0],mt=Pt[1],dt<0||dt>Ye[0]._length||mt<0||mt>je[0]._length)return I.unhoverRaw(te,se)}if(se.pointerX=dt+Ye[0]._offset,se.pointerY=mt+je[0]._offset,"xval"in se?vn=F.flat(le,se.xval):vn=F.p2c(Ye,dt),"yval"in se?En=F.flat(le,se.yval):En=F.p2c(je,mt),!v(vn[0])||!v(En[0]))return b.warn("Fx.hover failed",se,te),I.unhoverRaw(te,se)}var dn=1/0;function nn(ar,ur){for(Yn=0;Yn<Bt.length;Yn++)if(an=Bt[Yn],!(!an||!an[0]||!an[0].trace)&&(wn=an[0].trace,!(wn.visible!==!0||wn._length===0)&&["carpet","contourcarpet"].indexOf(wn._module.name)===-1)){if(wn.type==="splom"?(Un=0,Xn=le[Un]):(Xn=F.getSubplot(wn),Un=le.indexOf(Xn)),Sn=wt,F.isUnifiedHover(Sn)&&(Sn=Sn.charAt(0)),xt={cd:an,trace:wn,xa:Ye[Un],ya:je[Un],maxHoverDistance:Xt,maxSpikeDistance:Gt,index:!1,distance:Math.min(dn,Xt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:M.defaultLine,name:wn.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ce[Xn]&&(xt.subplot=Ce[Xn]._subplot),Ce._splomScenes&&Ce._splomScenes[wn.uid]&&(xt.scene=Ce._splomScenes[wn.uid]),gt=Nt.length,Sn==="array"){var qr=se[Yn];"pointNumber"in qr?(xt.index=qr.pointNumber,Sn="closest"):(Sn="","xval"in qr&&(it=qr.xval,Sn="x"),"yval"in qr&&(ut=qr.yval,Sn=Sn?"closest":"y"))}else ar!==void 0&&ur!==void 0?(it=ar,ut=ur):(it=vn[Un],ut=En[Un]);if(Xt!==0)if(wn._module&&wn._module.hoverPoints){var to=wn._module.hoverPoints(xt,it,ut,Sn,{finiteRange:!0,hoverLayer:Ce._hoverlayer});if(to)for(var ko,Es=0;Es<to.length;Es++)ko=to[Es],v(ko.x0)&&v(ko.y0)&&Nt.push(Oe(ko,wt))}else b.log("Unrecognized trace type in hover:",wn);if(wt==="closest"&&Nt.length>gt&&(Nt.splice(0,gt),dn=Nt[0].distance),Xe&&Gt!==0&&Nt.length===0){xt.distance=Gt,xt.index=!1;var So=wn._module.hoverPoints(xt,it,ut,"closest",{hoverLayer:Ce._hoverlayer});if(So&&(So=So.filter(function(Wa){return Wa.spikeDistance<=Gt})),So&&So.length){var Ko,ds=So.filter(function(Wa){return Wa.xa.showspikes&&Wa.xa.spikesnap!=="hovered data"});if(ds.length){var qs=ds[0];v(qs.x0)&&v(qs.y0)&&(Ko=Rt(qs),(!Dt.vLinePoint||Dt.vLinePoint.spikeDistance>Ko.spikeDistance)&&(Dt.vLinePoint=Ko))}var es=So.filter(function(Wa){return Wa.ya.showspikes&&Wa.ya.spikesnap!=="hovered data"});if(es.length){var Xs=es[0];v(Xs.x0)&&v(Xs.y0)&&(Ko=Rt(Xs),(!Dt.hLinePoint||Dt.hLinePoint.spikeDistance>Ko.spikeDistance)&&(Dt.hLinePoint=Ko))}}}}}nn();function Wt(ar,ur,qr){for(var to=null,ko=1/0,Es,So=0;So<ar.length;So++)Es=ar[So].spikeDistance,qr&&So===0&&(Es=-1/0),Es<=ko&&Es<=ur&&(to=ar[So],ko=Es);return to}function Rt(ar){return ar?{xa:ar.xa,ya:ar.ya,x:ar.xSpike!==void 0?ar.xSpike:(ar.x0+ar.x1)/2,y:ar.ySpike!==void 0?ar.ySpike:(ar.y0+ar.y1)/2,distance:ar.distance,spikeDistance:ar.spikeDistance,curveNumber:ar.trace.index,color:ar.color,pointNumber:ar.index}:null}var fn={fullLayout:Ce,container:Ce._hoverlayer,event:se},Hn=te._spikepoints,nr={vLinePoint:Dt.vLinePoint,hLinePoint:Dt.hLinePoint};te._spikepoints=nr;var Er=function(){Nt.sort(function(ar,ur){return ar.distance-ur.distance}),Nt=Ze(Nt,wt)};Er();var zt=wt.charAt(0),vr=(zt==="x"||zt==="y")&&Nt[0]&&q[Nt[0].trace.type];if(Xe&&Gt!==0&&Nt.length!==0){var Wn=Nt.filter(function(ar){return ar.ya.showspikes}),Br=Wt(Wn,Gt,vr);Dt.hLinePoint=Rt(Br);var kr=Nt.filter(function(ar){return ar.xa.showspikes}),or=Wt(kr,Gt,vr);Dt.vLinePoint=Rt(or)}if(Nt.length===0){var jr=I.unhoverRaw(te,se);return Xe&&(Dt.hLinePoint!==null||Dt.vLinePoint!==null)&&ke(Hn)&&xe(te,Dt,fn),jr}if(Xe&&ke(Hn)&&xe(te,Dt,fn),F.isXYhover(Sn)&&Nt[0].length!==0&&Nt[0].trace.type!=="splom"){var _r=Nt[0];ae[_r.trace.type]?Nt=Nt.filter(function(ar){return ar.trace.index===_r.trace.index}):Nt=[_r];var Rn=Nt.length,xr=De("x",_r,Ce),sr=De("y",_r,Ce);nn(xr,sr);var Sr=[],ao={},Oo=0,wr=function(ar){var ur=ae[ar.trace.type]?ee(ar):ar.trace.index;if(!ao[ur])Oo++,ao[ur]=Oo,Sr.push(ar);else{var qr=ao[ur]-1,to=Sr[qr];qr>0&&Math.abs(ar.distance)<Math.abs(to.distance)&&(Sr[qr]=ar)}},Fe;for(Fe=0;Fe<Rn;Fe++)wr(Nt[Fe]);for(Fe=Nt.length-1;Fe>Rn-1;Fe--)wr(Nt[Fe]);Nt=Sr,Er()}var Ee=te._hoverdata,St=[],Ct=Ie(te),Lt=re(te);for(ln=0;ln<Nt.length;ln++){var Ft=Nt[ln],Ht=F.makeEventData(Ft,Ft.trace,Ft.cd);if(Ft.hovertemplate!==!1){var $t=!1;Ft.cd[Ft.index]&&Ft.cd[Ft.index].ht&&($t=Ft.cd[Ft.index].ht),Ft.hovertemplate=$t||Ft.trace.hovertemplate||!1}if(Ft.xa&&Ft.ya){var Mt=Ft.x0+Ft.xa._offset,en=Ft.x1+Ft.xa._offset,un=Ft.y0+Ft.ya._offset,Jt=Ft.y1+Ft.ya._offset,rn=Math.min(Mt,en),Tn=Math.max(Mt,en),On=Math.min(un,Jt),pn=Math.max(un,Jt);Ht.bbox={x0:rn+Lt,x1:Tn+Lt,y0:On+Ct,y1:pn+Ct}}Ft.eventData=[Ht],St.push(Ht)}te._hoverdata=St;var Jn=wt==="y"&&(Bt.length>1||Nt.length>1)||wt==="closest"&&He&&Nt.length>1,Fn=M.combine(Ce.plot_bgcolor||M.background,Ce.paper_bgcolor),zr=Te(Nt,{gd:te,hovermode:wt,rotateLabels:Jn,bgColor:Fn,container:Ce._hoverlayer,outerContainer:Ce._paper.node(),commonLabelOpts:Ce.hoverlabel,hoverdistance:Ce.hoverdistance}),dr=zr.hoverLabels;if(F.isUnifiedHover(wt)||(ge(dr,Jn,Ce,zr.commonLabelBoundingBox),G(dr,Jn,Ce._invScaleX,Ce._invScaleY)),Se&&Se.tagName){var Hr=N.getComponentMethod("annotations","hasClickToShow")(te,St);T(p.select(Se),Hr?"pointer":"")}!Se||oe||!Le(te,se,Ee)||(Ee&&te.emit("plotly_unhover",{event:se,points:Ee}),te.emit("plotly_hover",{event:se,points:te._hoverdata,xaxes:Ye,yaxes:je,xvals:vn,yvals:En}))}function ee(te){return[te.trace.index,te.index,te.x0,te.y0,te.name,te.attr,te.xa?te.xa._id:"",te.ya?te.ya._id:""].join(",")}var be=/<extra>([\s\S]*)<\/extra>/;function Te(te,se){var ue=se.gd,oe=ue._fullLayout,Se=se.hovermode,le=se.rotateLabels,Ce=se.bgColor,Qe=se.container,ze=se.outerContainer,Xe=se.commonLabelOpts||{};if(te.length===0)return[[]];var ct=se.fontFamily||z.HOVERFONT,pt=se.fontSize||z.HOVERFONTSIZE,Ye=te[0],je=Ye.xa,et=Ye.ya,yt=Se.charAt(0),ft=yt+"Label",tt=Ye[ft];if(tt===void 0&&je.type==="multicategory")for(var wt=0;wt<te.length&&(tt=te[wt][ft],tt===void 0);wt++);var Xt=ye(ue,ze),Gt=Xt.top,Nt=Xt.width,Bt=Xt.height,vn=tt!==void 0&&Ye.distance<=se.hoverdistance&&(Se==="x"||Se==="y");if(vn){var En=!0,ln,Yn;for(ln=0;ln<te.length;ln++)if(En&&te[ln].zLabel===void 0&&(En=!1),Yn=te[ln].hoverinfo||te[ln].trace.hoverinfo,Yn){var an=Array.isArray(Yn)?Yn:Yn.split("+");if(an.indexOf("all")===-1&&an.indexOf(Se)===-1){vn=!1;break}}En&&(vn=!1)}var wn=Qe.selectAll("g.axistext").data(vn?[0]:[]);wn.enter().append("g").classed("axistext",!0),wn.exit().remove();var Xn={minX:0,maxX:0,minY:0,maxY:0};if(wn.each(function(){var Rn=p.select(this),xr=b.ensureSingle(Rn,"path","",function(On){On.style({"stroke-width":"1px"})}),sr=b.ensureSingle(Rn,"text","",function(On){On.attr("data-notex",1)}),Sr=Xe.bgcolor||M.defaultLine,ao=Xe.bordercolor||M.contrast(Sr),Oo=M.contrast(Sr),wr={family:Xe.font.family||ct,size:Xe.font.size||pt,color:Xe.font.color||Oo};xr.style({fill:Sr,stroke:ao}),sr.text(tt).call(R.font,wr).call(w.positionText,0,0).call(w.convertToTspans,ue),Rn.attr("transform","");var Fe=ye(ue,sr.node()),Ee,St;if(Se==="x"){var Ct=je.side==="top"?"-":"";sr.attr("text-anchor","middle").call(w.positionText,0,je.side==="top"?Gt-Fe.bottom-L-me:Gt-Fe.top+L+me),Ee=je._offset+(Ye.x0+Ye.x1)/2,St=et._offset+(je.side==="top"?0:et._length);var Lt=Fe.width/2+me;Ee<Lt?(Ee=Lt,xr.attr("d","M-"+(Lt-L)+",0L-"+(Lt-L*2)+","+Ct+L+"H"+Lt+"v"+Ct+(me*2+Fe.height)+"H-"+Lt+"V"+Ct+L+"Z")):Ee>oe.width-Lt?(Ee=oe.width-Lt,xr.attr("d","M"+(Lt-L)+",0L"+Lt+","+Ct+L+"v"+Ct+(me*2+Fe.height)+"H-"+Lt+"V"+Ct+L+"H"+(Lt-L*2)+"Z")):xr.attr("d","M0,0L"+L+","+Ct+L+"H"+Lt+"v"+Ct+(me*2+Fe.height)+"H-"+Lt+"V"+Ct+L+"H-"+L+"Z"),Xn.minX=Ee-Lt,Xn.maxX=Ee+Lt,je.side==="top"?(Xn.minY=St-(me*2+Fe.height),Xn.maxY=St-me):(Xn.minY=St+me,Xn.maxY=St+(me*2+Fe.height))}else{var Ft,Ht,$t;et.side==="right"?(Ft="start",Ht=1,$t="",Ee=je._offset+je._length):(Ft="end",Ht=-1,$t="-",Ee=je._offset),St=et._offset+(Ye.y0+Ye.y1)/2,sr.attr("text-anchor",Ft),xr.attr("d","M0,0L"+$t+L+","+L+"V"+(me+Fe.height/2)+"h"+$t+(me*2+Fe.width)+"V-"+(me+Fe.height/2)+"H"+$t+L+"V-"+L+"Z"),Xn.minY=St-(me+Fe.height/2),Xn.maxY=St+(me+Fe.height/2),et.side==="right"?(Xn.minX=Ee+L,Xn.maxX=Ee+L+(me*2+Fe.width)):(Xn.minX=Ee-L-(me*2+Fe.width),Xn.maxX=Ee-L);var Mt=Fe.height/2,en=Gt-Fe.top-Mt,un="clip"+oe._uid+"commonlabel"+et._id,Jt;if(Ee<Fe.width+2*me+L){Jt="M-"+(L+me)+"-"+Mt+"h-"+(Fe.width-me)+"V"+Mt+"h"+(Fe.width-me)+"Z";var rn=Fe.width-Ee+me;w.positionText(sr,rn,en),Ft==="end"&&sr.selectAll("tspan").each(function(){var On=p.select(this),pn=R.tester.append("text").text(On.text()).call(R.font,wr),Jn=ye(ue,pn.node());Math.round(Jn.width)<Math.round(Fe.width)&&On.attr("x",rn-Jn.width),pn.remove()})}else w.positionText(sr,Ht*(me+L),en),Jt=null;var Tn=oe._topclips.selectAll("#"+un).data(Jt?[0]:[]);Tn.enter().append("clipPath").attr("id",un).append("path"),Tn.exit().remove(),Tn.select("path").attr("d",Jt),R.setClipUrl(sr,Jt?un:null,ue)}Rn.attr("transform",x(Ee,St))}),F.isUnifiedHover(Se)){Qe.selectAll("g.hovertext").remove();var Un=te.filter(function(Rn){return Rn.hoverinfo!=="none"});if(Un.length===0)return[];var Sn=oe.hoverlabel,it=Sn.font,ut={showlegend:!0,legend:{title:{text:tt,font:it},font:it,bgcolor:Sn.bgcolor,bordercolor:Sn.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:oe.legend?oe.legend.traceorder:void 0,orientation:"v"}},xt={font:it};U(ut,xt,ue._fullData);var gt=xt.legend;gt.entries=[];for(var Dt=0;Dt<Un.length;Dt++){var He=Un[Dt];if(He.hoverinfo!=="none"){var at=Be(He,!0,Se,oe,tt),dt=at[0],mt=at[1];He.name=mt,mt!==""?He.text=mt+" : "+dt:He.text=dt;var Tt=He.cd[He.index];Tt&&(Tt.mc&&(He.mc=Tt.mc),Tt.mcc&&(He.mc=Tt.mcc),Tt.mlc&&(He.mlc=Tt.mlc),Tt.mlcc&&(He.mlc=Tt.mlcc),Tt.mlw&&(He.mlw=Tt.mlw),Tt.mrc&&(He.mrc=Tt.mrc),Tt.dir&&(He.dir=Tt.dir)),He._distinct=!0,gt.entries.push([He])}}gt.entries.sort(function(Rn,xr){return Rn[0].trace.index-xr[0].trace.index}),gt.layer=Qe,gt._inHover=!0,gt._groupTitleFont=Sn.grouptitlefont,Q(ue,gt);var Pt=Qe.select("g.legend"),dn=ye(ue,Pt.node()),nn=dn.width+2*me,Wt=dn.height+2*me,Rt=Un[0],fn=(Rt.x0+Rt.x1)/2,Hn=(Rt.y0+Rt.y1)/2,nr=!(N.traceIs(Rt.trace,"bar-like")||N.traceIs(Rt.trace,"box-violin")),Er,zt;yt==="y"?nr?(zt=Hn-me,Er=Hn+me):(zt=Math.min.apply(null,Un.map(function(Rn){return Math.min(Rn.y0,Rn.y1)})),Er=Math.max.apply(null,Un.map(function(Rn){return Math.max(Rn.y0,Rn.y1)}))):zt=Er=b.mean(Un.map(function(Rn){return(Rn.y0+Rn.y1)/2}))-Wt/2;var vr,Wn;yt==="x"?nr?(vr=fn+me,Wn=fn-me):(vr=Math.max.apply(null,Un.map(function(Rn){return Math.max(Rn.x0,Rn.x1)})),Wn=Math.min.apply(null,Un.map(function(Rn){return Math.min(Rn.x0,Rn.x1)}))):vr=Wn=b.mean(Un.map(function(Rn){return(Rn.x0+Rn.x1)/2}))-nn/2;var Br=je._offset,kr=et._offset;Er+=kr,vr+=Br,Wn+=Br-nn,zt+=kr-Wt;var or,jr;return vr+nn<Nt&&vr>=0?or=vr:Wn+nn<Nt&&Wn>=0?or=Wn:Br+nn<Nt?or=Br:vr-fn<fn-Wn+nn?or=Nt-nn:or=0,or+=me,Er+Wt<Bt&&Er>=0?jr=Er:zt+Wt<Bt&&zt>=0?jr=zt:kr+Wt<Bt?jr=kr:Er-Hn<Hn-zt+Wt?jr=Bt-Wt:jr=0,jr+=me,Pt.attr("transform",x(or-1,jr-1)),Pt}var _r=Qe.selectAll("g.hovertext").data(te,function(Rn){return ee(Rn)});return _r.enter().append("g").classed("hovertext",!0).each(function(){var Rn=p.select(this);Rn.append("rect").call(M.fill,M.addOpacity(Ce,.8)),Rn.append("text").classed("name",!0),Rn.append("path").style("stroke-width","1px"),Rn.append("text").classed("nums",!0).call(R.font,ct,pt)}),_r.exit().remove(),_r.each(function(Rn){var xr=p.select(this).attr("transform",""),sr=Rn.color;Array.isArray(sr)&&(sr=sr[Rn.eventData[0].pointNumber]);var Sr=Rn.bgcolor||sr,ao=M.combine(M.opacity(Sr)?Sr:M.defaultLine,Ce),Oo=M.combine(M.opacity(sr)?sr:M.defaultLine,Ce),wr=Rn.borderColor||M.contrast(ao),Fe=Be(Rn,vn,Se,oe,tt,xr),Ee=Fe[0],St=Fe[1],Ct=xr.select("text.nums").call(R.font,Rn.fontFamily||ct,Rn.fontSize||pt,Rn.fontColor||wr).text(Ee).attr("data-notex",1).call(w.positionText,0,0).call(w.convertToTspans,ue),Lt=xr.select("text.name"),Ft=0,Ht=0;if(St&&St!==Ee){Lt.call(R.font,Rn.fontFamily||ct,Rn.fontSize||pt,Oo).text(St).attr("data-notex",1).call(w.positionText,0,0).call(w.convertToTspans,ue);var $t=ye(ue,Lt.node());Ft=$t.width+2*me,Ht=$t.height+2*me}else Lt.remove(),xr.select("rect").remove();xr.select("path").style({fill:ao,stroke:wr});var Mt=Rn.xa._offset+(Rn.x0+Rn.x1)/2,en=Rn.ya._offset+(Rn.y0+Rn.y1)/2,un=Math.abs(Rn.x1-Rn.x0),Jt=Math.abs(Rn.y1-Rn.y0),rn=ye(ue,Ct.node()),Tn=rn.width/oe._invScaleX,On=rn.height/oe._invScaleY;Rn.ty0=(Gt-rn.top)/oe._invScaleY,Rn.bx=Tn+2*me,Rn.by=Math.max(On+2*me,Ht),Rn.anchor="start",Rn.txwidth=Tn,Rn.tx2width=Ft,Rn.offset=0;var pn=(Tn+L+me+Ft)*oe._invScaleX,Jn,Fn;if(le)Rn.pos=Mt,Jn=en+Jt/2+pn<=Bt,Fn=en-Jt/2-pn>=0,(Rn.idealAlign==="top"||!Jn)&&Fn?(en-=Jt/2,Rn.anchor="end"):Jn?(en+=Jt/2,Rn.anchor="start"):Rn.anchor="middle",Rn.crossPos=en;else{if(Rn.pos=en,Jn=Mt+un/2+pn<=Nt,Fn=Mt-un/2-pn>=0,(Rn.idealAlign==="left"||!Jn)&&Fn)Mt-=un/2,Rn.anchor="end";else if(Jn)Mt+=un/2,Rn.anchor="start";else{Rn.anchor="middle";var zr=pn/2,dr=Mt+zr-Nt,Hr=Mt-zr;dr>0&&(Mt-=dr),Hr<0&&(Mt+=-Hr)}Rn.crossPos=Mt}Ct.attr("text-anchor",Rn.anchor),Ft&&Lt.attr("text-anchor",Rn.anchor),xr.attr("transform",x(Mt,en)+(le?k(B):""))}),{hoverLabels:_r,commonLabelBoundingBox:Xn}}function Be(te,se,ue,oe,Se,le){var Ce="",Qe="";te.nameOverride!==void 0&&(te.name=te.nameOverride),te.name&&(te.trace._meta&&(te.name=b.templateString(te.name,te.trace._meta)),Ce=$e(te.name,te.nameLength));var ze=ue.charAt(0),Xe=ze==="x"?"y":"x";te.zLabel!==void 0?(te.xLabel!==void 0&&(Qe+="x: "+te.xLabel+"<br>"),te.yLabel!==void 0&&(Qe+="y: "+te.yLabel+"<br>"),te.trace.type!=="choropleth"&&te.trace.type!=="choroplethmapbox"&&(Qe+=(Qe?"z: ":"")+te.zLabel)):se&&te[ze+"Label"]===Se?Qe=te[Xe+"Label"]||"":te.xLabel===void 0?te.yLabel!==void 0&&te.trace.type!=="scattercarpet"&&(Qe=te.yLabel):te.yLabel===void 0?Qe=te.xLabel:Qe="("+te.xLabel+", "+te.yLabel+")",(te.text||te.text===0)&&!Array.isArray(te.text)&&(Qe+=(Qe?"<br>":"")+te.text),te.extraText!==void 0&&(Qe+=(Qe?"<br>":"")+te.extraText),le&&Qe===""&&!te.hovertemplate&&(Ce===""&&le.remove(),Qe=Ce);var ct=te.hovertemplate||!1;if(ct){var pt=te.hovertemplateLabels||te;te[ze+"Label"]!==Se&&(pt[ze+"other"]=pt[ze+"Val"],pt[ze+"otherLabel"]=pt[ze+"Label"]),Qe=b.hovertemplateString(ct,pt,oe._d3locale,te.eventData[0]||{},te.trace._meta),Qe=Qe.replace(be,function(Ye,je){return Ce=$e(je,te.nameLength),""})}return[Qe,Ce]}function ge(te,se,ue,oe){var Se=se?"xa":"ya",le=se?"ya":"xa",Ce=0,Qe=1,ze=te.size(),Xe=new Array(ze),ct=0,pt=oe.minX,Ye=oe.maxX,je=oe.minY,et=oe.maxY,yt=function(it){return it*ue._invScaleX},ft=function(it){return it*ue._invScaleY};te.each(function(it){var ut=it[Se],xt=it[le],gt=ut._id.charAt(0)==="x",Dt=ut.range;ct===0&&Dt&&Dt[0]>Dt[1]!==gt&&(Qe=-1);var He=0,at=gt?ue.width:ue.height;if(ue.hovermode==="x"||ue.hovermode==="y"){var dt=ne(it,se),mt=it.anchor,Tt=mt==="end"?-1:1,Pt,dn;if(mt==="middle")Pt=it.crossPos+(gt?ft(dt.y-it.by/2):yt(it.bx/2+it.tx2width/2)),dn=Pt+(gt?ft(it.by):yt(it.bx));else if(gt)Pt=it.crossPos+ft(L+dt.y)-ft(it.by/2-L),dn=Pt+ft(it.by);else{var nn=yt(Tt*L+dt.x),Wt=nn+yt(Tt*it.bx);Pt=it.crossPos+Math.min(nn,Wt),dn=it.crossPos+Math.max(nn,Wt)}gt?je!==void 0&&et!==void 0&&Math.min(dn,et)-Math.max(Pt,je)>1&&(xt.side==="left"?(He=xt._mainLinePosition,at=ue.width):at=xt._mainLinePosition):pt!==void 0&&Ye!==void 0&&Math.min(dn,Ye)-Math.max(Pt,pt)>1&&(xt.side==="top"?(He=xt._mainLinePosition,at=ue.height):at=xt._mainLinePosition)}Xe[ct++]=[{datum:it,traceIndex:it.trace.index,dp:0,pos:it.pos,posref:it.posref,size:it.by*(gt?W:1)/2,pmin:He,pmax:at}]}),Xe.sort(function(it,ut){return it[0].posref-ut[0].posref||Qe*(ut[0].traceIndex-it[0].traceIndex)});var tt,wt,Xt,Gt,Nt,Bt,vn;function En(it){var ut=it[0],xt=it[it.length-1];if(wt=ut.pmin-ut.pos-ut.dp+ut.size,Xt=xt.pos+xt.dp+xt.size-ut.pmax,wt>.01){for(Nt=it.length-1;Nt>=0;Nt--)it[Nt].dp+=wt;tt=!1}if(!(Xt<.01)){if(wt<-.01){for(Nt=it.length-1;Nt>=0;Nt--)it[Nt].dp-=Xt;tt=!1}if(tt){var gt=0;for(Gt=0;Gt<it.length;Gt++)Bt=it[Gt],Bt.pos+Bt.dp+Bt.size>ut.pmax&&gt++;for(Gt=it.length-1;Gt>=0&&!(gt<=0);Gt--)Bt=it[Gt],Bt.pos>ut.pmax-1&&(Bt.del=!0,gt--);for(Gt=0;Gt<it.length&&!(gt<=0);Gt++)if(Bt=it[Gt],Bt.pos<ut.pmin+1)for(Bt.del=!0,gt--,Xt=Bt.size*2,Nt=it.length-1;Nt>=0;Nt--)it[Nt].dp-=Xt;for(Gt=it.length-1;Gt>=0&&!(gt<=0);Gt--)Bt=it[Gt],Bt.pos+Bt.dp+Bt.size>ut.pmax&&(Bt.del=!0,gt--)}}}for(;!tt&&Ce<=ze;){for(Ce++,tt=!0,Gt=0;Gt<Xe.length-1;){var ln=Xe[Gt],Yn=Xe[Gt+1],an=ln[ln.length-1],wn=Yn[0];if(wt=an.pos+an.dp+an.size-wn.pos-wn.dp+wn.size,wt>.01&&an.pmin===wn.pmin&&an.pmax===wn.pmax){for(Nt=Yn.length-1;Nt>=0;Nt--)Yn[Nt].dp+=wt;for(ln.push.apply(ln,Yn),Xe.splice(Gt+1,1),vn=0,Nt=ln.length-1;Nt>=0;Nt--)vn+=ln[Nt].dp;for(Xt=vn/ln.length,Nt=ln.length-1;Nt>=0;Nt--)ln[Nt].dp-=Xt;tt=!1}else Gt++}Xe.forEach(En)}for(Gt=Xe.length-1;Gt>=0;Gt--){var Xn=Xe[Gt];for(Nt=Xn.length-1;Nt>=0;Nt--){var Un=Xn[Nt],Sn=Un.datum;Sn.offset=Un.dp,Sn.del=Un.del}}}function ne(te,se){var ue=0,oe=te.offset;return se&&(oe*=-ie,ue=te.offset*Y),{x:ue,y:oe}}function pe(te){var se={start:1,end:-1,middle:0}[te.anchor],ue=se*(L+me),oe=ue+se*(te.txwidth+me),Se=te.anchor==="middle";return Se&&(ue-=te.tx2width/2,oe+=te.txwidth/2+me),{alignShift:se,textShiftX:ue,text2ShiftX:oe}}function G(te,se,ue,oe){var Se=function(Ce){return Ce*ue},le=function(Ce){return Ce*oe};te.each(function(Ce){var Qe=p.select(this);if(Ce.del)return Qe.remove();var ze=Qe.select("text.nums"),Xe=Ce.anchor,ct=Xe==="end"?-1:1,pt=pe(Ce),Ye=ne(Ce,se),je=Ye.x,et=Ye.y,yt=Xe==="middle";Qe.select("path").attr("d",yt?"M-"+Se(Ce.bx/2+Ce.tx2width/2)+","+le(et-Ce.by/2)+"h"+Se(Ce.bx)+"v"+le(Ce.by)+"h-"+Se(Ce.bx)+"Z":"M0,0L"+Se(ct*L+je)+","+le(L+et)+"v"+le(Ce.by/2-L)+"h"+Se(ct*Ce.bx)+"v-"+le(Ce.by)+"H"+Se(ct*L+je)+"V"+le(et-L)+"Z");var ft=je+pt.textShiftX,tt=et+Ce.ty0-Ce.by/2+me,wt=Ce.textAlign||"auto";wt!=="auto"&&(wt==="left"&&Xe!=="start"?(ze.attr("text-anchor","start"),ft=yt?-Ce.bx/2-Ce.tx2width/2+me:-Ce.bx-me):wt==="right"&&Xe!=="end"&&(ze.attr("text-anchor","end"),ft=yt?Ce.bx/2-Ce.tx2width/2-me:Ce.bx+me)),ze.call(w.positionText,Se(ft),le(tt)),Ce.tx2width&&(Qe.select("text.name").call(w.positionText,Se(pt.text2ShiftX+pt.alignShift*me+je),le(et+Ce.ty0-Ce.by/2+me)),Qe.select("rect").call(R.setRect,Se(pt.text2ShiftX+(pt.alignShift-1)*Ce.tx2width/2+je),le(et-Ce.by/2-1),Se(Ce.tx2width),le(Ce.by+2)))})}function Oe(te,se){var ue=te.index,oe=te.trace||{},Se=te.cd[0],le=te.cd[ue]||{};function Ce(Ye){return Ye||v(Ye)&&Ye===0}var Qe=Array.isArray(ue)?function(Ye,je){var et=b.castOption(Se,ue,Ye);return Ce(et)?et:b.extractOption({},oe,"",je)}:function(Ye,je){return b.extractOption(le,oe,Ye,je)};function ze(Ye,je,et){var yt=Qe(je,et);Ce(yt)&&(te[Ye]=yt)}if(ze("hoverinfo","hi","hoverinfo"),ze("bgcolor","hbg","hoverlabel.bgcolor"),ze("borderColor","hbc","hoverlabel.bordercolor"),ze("fontFamily","htf","hoverlabel.font.family"),ze("fontSize","hts","hoverlabel.font.size"),ze("fontColor","htc","hoverlabel.font.color"),ze("nameLength","hnl","hoverlabel.namelength"),ze("textAlign","hta","hoverlabel.align"),te.posref=se==="y"||se==="closest"&&oe.orientation==="h"?te.xa._offset+(te.x0+te.x1)/2:te.ya._offset+(te.y0+te.y1)/2,te.x0=b.constrain(te.x0,0,te.xa._length),te.x1=b.constrain(te.x1,0,te.xa._length),te.y0=b.constrain(te.y0,0,te.ya._length),te.y1=b.constrain(te.y1,0,te.ya._length),te.xLabelVal!==void 0&&(te.xLabel="xLabel"in te?te.xLabel:V.hoverLabelText(te.xa,te.xLabelVal,oe.xhoverformat),te.xVal=te.xa.c2d(te.xLabelVal)),te.yLabelVal!==void 0&&(te.yLabel="yLabel"in te?te.yLabel:V.hoverLabelText(te.ya,te.yLabelVal,oe.yhoverformat),te.yVal=te.ya.c2d(te.yLabelVal)),te.zLabelVal!==void 0&&te.zLabel===void 0&&(te.zLabel=String(te.zLabelVal)),!isNaN(te.xerr)&&!(te.xa.type==="log"&&te.xerr<=0)){var Xe=V.tickText(te.xa,te.xa.c2l(te.xerr),"hover").text;te.xerrneg!==void 0?te.xLabel+=" +"+Xe+" / -"+V.tickText(te.xa,te.xa.c2l(te.xerrneg),"hover").text:te.xLabel+=" ± "+Xe,se==="x"&&(te.distance+=1)}if(!isNaN(te.yerr)&&!(te.ya.type==="log"&&te.yerr<=0)){var ct=V.tickText(te.ya,te.ya.c2l(te.yerr),"hover").text;te.yerrneg!==void 0?te.yLabel+=" +"+ct+" / -"+V.tickText(te.ya,te.ya.c2l(te.yerrneg),"hover").text:te.yLabel+=" ± "+ct,se==="y"&&(te.distance+=1)}var pt=te.hoverinfo||te.trace.hoverinfo;return pt&&pt!=="all"&&(pt=Array.isArray(pt)?pt:pt.split("+"),pt.indexOf("x")===-1&&(te.xLabel=void 0),pt.indexOf("y")===-1&&(te.yLabel=void 0),pt.indexOf("z")===-1&&(te.zLabel=void 0),pt.indexOf("text")===-1&&(te.text=void 0),pt.indexOf("name")===-1&&(te.name=void 0)),te}function xe(te,se,ue){var oe=ue.container,Se=ue.fullLayout,le=Se._size,Ce=ue.event,Qe=!!se.hLinePoint,ze=!!se.vLinePoint,Xe,ct;if(oe.selectAll(".spikeline").remove(),!!(ze||Qe)){var pt=M.combine(Se.plot_bgcolor,Se.paper_bgcolor);if(Qe){var Ye=se.hLinePoint,je,et;Xe=Ye&&Ye.xa,ct=Ye&&Ye.ya;var yt=ct.spikesnap;yt==="cursor"?(je=Ce.pointerX,et=Ce.pointerY):(je=Xe._offset+Ye.x,et=ct._offset+Ye.y);var ft=y.readability(Ye.color,pt)<1.5?M.contrast(pt):Ye.color,tt=ct.spikemode,wt=ct.spikethickness,Xt=ct.spikecolor||ft,Gt=V.getPxPosition(te,ct),Nt,Bt;if(tt.indexOf("toaxis")!==-1||tt.indexOf("across")!==-1){if(tt.indexOf("toaxis")!==-1&&(Nt=Gt,Bt=je),tt.indexOf("across")!==-1){var vn=ct._counterDomainMin,En=ct._counterDomainMax;ct.anchor==="free"&&(vn=Math.min(vn,ct.position),En=Math.max(En,ct.position)),Nt=le.l+vn*le.w,Bt=le.l+En*le.w}oe.insert("line",":first-child").attr({x1:Nt,x2:Bt,y1:et,y2:et,"stroke-width":wt,stroke:Xt,"stroke-dasharray":R.dashStyle(ct.spikedash,wt)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:Nt,x2:Bt,y1:et,y2:et,"stroke-width":wt+2,stroke:pt}).classed("spikeline",!0).classed("crisp",!0)}tt.indexOf("marker")!==-1&&oe.insert("circle",":first-child").attr({cx:Gt+(ct.side!=="right"?wt:-wt),cy:et,r:wt,fill:Xt}).classed("spikeline",!0)}if(ze){var ln=se.vLinePoint,Yn,an;Xe=ln&&ln.xa,ct=ln&&ln.ya;var wn=Xe.spikesnap;wn==="cursor"?(Yn=Ce.pointerX,an=Ce.pointerY):(Yn=Xe._offset+ln.x,an=ct._offset+ln.y);var Xn=y.readability(ln.color,pt)<1.5?M.contrast(pt):ln.color,Un=Xe.spikemode,Sn=Xe.spikethickness,it=Xe.spikecolor||Xn,ut=V.getPxPosition(te,Xe),xt,gt;if(Un.indexOf("toaxis")!==-1||Un.indexOf("across")!==-1){if(Un.indexOf("toaxis")!==-1&&(xt=ut,gt=an),Un.indexOf("across")!==-1){var Dt=Xe._counterDomainMin,He=Xe._counterDomainMax;Xe.anchor==="free"&&(Dt=Math.min(Dt,Xe.position),He=Math.max(He,Xe.position)),xt=le.t+(1-He)*le.h,gt=le.t+(1-Dt)*le.h}oe.insert("line",":first-child").attr({x1:Yn,x2:Yn,y1:xt,y2:gt,"stroke-width":Sn,stroke:it,"stroke-dasharray":R.dashStyle(Xe.spikedash,Sn)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:Yn,x2:Yn,y1:xt,y2:gt,"stroke-width":Sn+2,stroke:pt}).classed("spikeline",!0).classed("crisp",!0)}Un.indexOf("marker")!==-1&&oe.insert("circle",":first-child").attr({cx:Yn,cy:ut-(Xe.side!=="top"?Sn:-Sn),r:Sn,fill:it}).classed("spikeline",!0)}}}function Le(te,se,ue){if(!ue||ue.length!==te._hoverdata.length)return!0;for(var oe=ue.length-1;oe>=0;oe--){var Se=ue[oe],le=te._hoverdata[oe];if(Se.curveNumber!==le.curveNumber||String(Se.pointNumber)!==String(le.pointNumber)||String(Se.pointNumbers)!==String(le.pointNumbers))return!0}return!1}function ke(te,se){return!se||se.vLinePoint!==te._spikepoints.vLinePoint||se.hLinePoint!==te._spikepoints.hLinePoint}function $e(te,se){return w.plainText(te||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function Ze(te,se){for(var ue=se.charAt(0),oe=[],Se=[],le=[],Ce=0;Ce<te.length;Ce++){var Qe=te[Ce];N.traceIs(Qe.trace,"bar-like")||N.traceIs(Qe.trace,"box-violin")?le.push(Qe):Qe.trace[ue+"period"]?Se.push(Qe):oe.push(Qe)}return oe.concat(Se).concat(le)}function De(te,se,ue){var oe=se[te+"a"],Se=se[te+"Val"],le=se.cd[0];if(oe.type==="category"||oe.type==="multicategory")Se=oe._categoriesMap[Se];else if(oe.type==="date"){var Ce=se.trace[te+"periodalignment"];if(Ce){var Qe=se.cd[se.index],ze=Qe[te+"Start"];ze===void 0&&(ze=Qe[te]);var Xe=Qe[te+"End"];Xe===void 0&&(Xe=Qe[te]);var ct=Xe-ze;Ce==="end"?Se+=ct:Ce==="middle"&&(Se+=ct/2)}Se=oe.d2c(Se)}return le&&le.t&&le.t.posLetter===oe._id&&(ue.boxmode==="group"||ue.violinmode==="group")&&(Se+=le.t.dPos),Se}function Ie(te){return te.offsetTop+te.clientTop}function re(te){return te.offsetLeft+te.clientLeft}function ye(te,se){var ue=te._fullLayout,oe=se.getBoundingClientRect(),Se=oe.left,le=oe.top,Ce=Se+oe.width,Qe=le+oe.height,ze=b.apply3DTransform(ue._invTransform)(Se,le),Xe=b.apply3DTransform(ue._invTransform)(Ce,Qe),ct=ze[0],pt=ze[1],Ye=Xe[0],je=Xe[1];return{x:ct,y:pt,width:Ye-ct,height:je-pt,top:Math.min(pt,je),left:Math.min(ct,Ye),right:Math.max(ct,Ye),bottom:Math.max(pt,je)}}},8048:function(f,h,u){var p=u(1828),v=u(7901),y=u(3469).isUnifiedHover;f.exports=function(x,k,C,w){w=w||{};var T=k.legend;function R(M){w.font[M]||(w.font[M]=T?k.legend.font[M]:k.font[M])}k&&y(k.hovermode)&&(w.font||(w.font={}),R("size"),R("family"),R("color"),T?(w.bgcolor||(w.bgcolor=v.combine(k.legend.bgcolor,k.paper_bgcolor)),w.bordercolor||(w.bordercolor=k.legend.bordercolor)):w.bgcolor||(w.bgcolor=k.paper_bgcolor)),C("hoverlabel.bgcolor",w.bgcolor),C("hoverlabel.bordercolor",w.bordercolor),C("hoverlabel.namelength",w.namelength),p.coerceFont(C,"hoverlabel.font",w.font),C("hoverlabel.align",w.align)}},8212:function(f,h,u){var p=u(1828),v=u(528);f.exports=function(b,x){function k(C,w){return x[C]!==void 0?x[C]:p.coerce(b,x,v,C,w)}return k("clickmode"),k("hovermode")}},211:function(f,h,u){var p=u(9898),v=u(1828),y=u(8569),b=u(3469),x=u(528),k=u(8335);f.exports={moduleType:"component",name:"fx",constants:u(6675),schema:{layout:x},attributes:u(7914),layoutAttributes:x,supplyLayoutGlobalDefaults:u(2774),supplyDefaults:u(4268),supplyLayoutDefaults:u(4938),calc:u(732),getDistanceFunction:b.getDistanceFunction,getClosest:b.getClosest,inbox:b.inbox,quadrature:b.quadrature,appendArrayPointValue:b.appendArrayPointValue,castHoverOption:w,castHoverinfo:T,hover:k.hover,unhover:y.unhover,loneHover:k.loneHover,loneUnhover:C,click:u(5914)};function C(R){var M=v.isD3Selection(R)?R:p.select(R);M.selectAll("g.hovertext").remove(),M.selectAll(".spikeline").remove()}function w(R,M,I){return v.castOption(R,M,"hoverlabel."+I)}function T(R,M,I){function V(N){return v.coerceHoverinfo({hoverinfo:N},{_module:R._module},M)}return v.castOption(R,I,"hoverinfo",V)}},528:function(f,h,u){var p=u(6675),v=u(1940),y=v({editType:"none"});y.family.dflt=p.HOVERFONT,y.size.dflt=p.HOVERFONTSIZE,f.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:y,grouptitlefont:v({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(f,h,u){var p=u(1828),v=u(528),y=u(8212),b=u(8048);f.exports=function(k,C){function w(N,F){return p.coerce(k,C,v,N,F)}var T=y(k,C);T&&(w("hoverdistance"),w("spikedistance"));var R=w("dragmode");R==="select"&&w("selectdirection");var M=C._has("mapbox"),I=C._has("geo"),V=C._basePlotModules.length;C.dragmode==="zoom"&&((M||I)&&V===1||M&&I&&V===2)&&(C.dragmode="pan"),b(k,C,w),p.coerceFont(w,"hoverlabel.grouptitlefont",C.hoverlabel.font)}},2774:function(f,h,u){var p=u(1828),v=u(8048),y=u(528);f.exports=function(x,k){function C(w,T){return p.coerce(x,k,y,w,T)}v(x,k,C)}},3312:function(f,h,u){var p=u(1828),v=u(587).counter,y=u(7670).Y,b=u(5555).idRegex,x=u(4467),k={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[v("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:y({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function C(I,V,N){var F=V[N+"axes"],z=Object.keys((I._splomAxes||{})[N]||{});if(Array.isArray(F))return F;if(z.length)return z}function w(I,V){var N=I.grid||{},F=C(V,N,"x"),z=C(V,N,"y");if(!I.grid&&!F&&!z)return;var U=Array.isArray(N.subplots)&&Array.isArray(N.subplots[0]),Q=Array.isArray(F),B=Array.isArray(z),E=Q&&F!==N.xaxes&&B&&z!==N.yaxes,W,Y;U?(W=N.subplots.length,Y=N.subplots[0].length):(B&&(W=z.length),Q&&(Y=F.length));var ie=x.newContainer(V,"grid");function L(ne,pe){return p.coerce(N,ie,k,ne,pe)}var me=L("rows",W),ae=L("columns",Y);if(!(me*ae>1)){delete V.grid;return}if(!U&&!Q&&!B){var q=L("pattern")==="independent";q&&(U=!0)}ie._hasSubplotGrid=U;var fe=L("roworder"),ee=fe==="top to bottom",be=U?.2:.1,Te=U?.3:.1,Be,ge;E&&V._splomGridDflt&&(Be=V._splomGridDflt.xside,ge=V._splomGridDflt.yside),ie._domains={x:T("x",L,be,Be,ae),y:T("y",L,Te,ge,me,ee)}}function T(I,V,N,F,z,U){var Q=V(I+"gap",N),B=V("domain."+I);V(I+"side",F);for(var E=new Array(z),W=B[0],Y=(B[1]-W)/(z-Q),ie=Y*(1-Q),L=0;L<z;L++){var me=W+Y*L;E[U?z-1-L:L]=[me,me+ie]}return E}function R(I,V){var N=V.grid;if(!(!N||!N._domains)){var F=I.grid||{},z=V._subplots,U=N._hasSubplotGrid,Q=N.rows,B=N.columns,E=N.pattern==="independent",W,Y,ie,L,me,ae,q,fe=N._axisMap={};if(U){var ee=F.subplots||[];ae=N.subplots=new Array(Q);var be=1;for(W=0;W<Q;W++){var Te=ae[W]=new Array(B),Be=ee[W]||[];for(Y=0;Y<B;Y++)if(E?(me=be===1?"xy":"x"+be+"y"+be,be++):me=Be[Y],Te[Y]="",z.cartesian.indexOf(me)!==-1){if(q=me.indexOf("y"),ie=me.slice(0,q),L=me.slice(q),fe[ie]!==void 0&&fe[ie]!==Y||fe[L]!==void 0&&fe[L]!==W)continue;Te[Y]=me,fe[ie]=Y,fe[L]=W}}}else{var ge=C(V,F,"x"),ne=C(V,F,"y");N.xaxes=M(ge,z.xaxis,B,fe,"x"),N.yaxes=M(ne,z.yaxis,Q,fe,"y")}var pe=N._anchors={},G=N.roworder==="top to bottom";for(var Oe in fe){var xe=Oe.charAt(0),Le=N[xe+"side"],ke,$e,Ze;if(Le.length<8)pe[Oe]="free";else if(xe==="x"){if(Le.charAt(0)==="t"===G?(ke=0,$e=1,Ze=Q):(ke=Q-1,$e=-1,Ze=-1),U){var De=fe[Oe];for(W=ke;W!==Ze;W+=$e)if(me=ae[W][De],!!me&&(q=me.indexOf("y"),me.slice(0,q)===Oe)){pe[Oe]=me.slice(q);break}}else for(W=ke;W!==Ze;W+=$e)if(L=N.yaxes[W],z.cartesian.indexOf(Oe+L)!==-1){pe[Oe]=L;break}}else if(Le.charAt(0)==="l"?(ke=0,$e=1,Ze=B):(ke=B-1,$e=-1,Ze=-1),U){var Ie=fe[Oe];for(W=ke;W!==Ze;W+=$e)if(me=ae[Ie][W],!!me&&(q=me.indexOf("y"),me.slice(q)===Oe)){pe[Oe]=me.slice(0,q);break}}else for(W=ke;W!==Ze;W+=$e)if(ie=N.xaxes[W],z.cartesian.indexOf(ie+Oe)!==-1){pe[Oe]=ie;break}}}}function M(I,V,N,F,z){var U=new Array(N),Q;function B(E,W){V.indexOf(W)!==-1&&F[W]===void 0?(U[E]=W,F[W]=E):U[E]=""}if(Array.isArray(I))for(Q=0;Q<N;Q++)B(Q,I[Q]);else for(B(0,z),Q=1;Q<N;Q++)B(Q,z+(Q+1));return U}f.exports={moduleType:"component",name:"grid",schema:{layout:{grid:k}},layoutAttributes:k,sizeDefaults:w,contentDefaults:R}},9819:function(f,h,u){var p=u(5555),v=u(4467).templatedArray;u(4695),f.exports=v("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(f,h,u){var p=u(2770),v=u(8163);f.exports=function(b,x,k,C){x=x||{};var w=k==="log"&&x.type==="linear",T=k==="linear"&&x.type==="log";if(w||T){for(var R=b._fullLayout.images,M=x._id.charAt(0),I,V,N=0;N<R.length;N++)if(I=R[N],V="images["+N+"].",I[M+"ref"]===x._id){var F=I[M],z=I["size"+M],U=null,Q=null;if(w){U=v(F,x.range);var B=z/Math.pow(10,U)/2;Q=2*Math.log(B+Math.sqrt(1+B*B))/Math.LN10}else U=Math.pow(10,F),Q=U*(Math.pow(10,z/2)-Math.pow(10,-z/2));p(U)?p(Q)||(Q=null):(U=null,Q=null),C(V+M,U),C(V+"size"+M,Q)}}}},1603:function(f,h,u){var p=u(1828),v=u(9298),y=u(5501),b=u(9819),x="images";f.exports=function(w,T){var R={name:x,handleItemDefaults:k};y(w,T,R)};function k(C,w,T){function R(B,E){return p.coerce(C,w,b,B,E)}var M=R("source"),I=R("visible",!!M);if(!I)return w;R("layer"),R("xanchor"),R("yanchor"),R("sizex"),R("sizey"),R("sizing"),R("opacity");for(var V={_fullLayout:T},N=["x","y"],F=0;F<2;F++){var z=N[F],U=v.coerceRef(C,w,V,z,"paper",void 0);if(U!=="paper"){var Q=v.getFromId(V,U);Q._imgIndices.push(w._index)}v.coercePosition(w,V,R,U,z,0)}return w}},750:function(f,h,u){var p=u(9898),v=u(1424),y=u(9298),b=u(1675),x=u(7922);f.exports=function(C){var w=C._fullLayout,T=[],R={},M=[],I,V;for(V=0;V<w.images.length;V++){var N=w.images[V];if(N.visible)if(N.layer==="below"&&N.xref!=="paper"&&N.yref!=="paper"){I=b.ref2id(N.xref)+b.ref2id(N.yref);var F=w._plots[I];if(!F){M.push(N);continue}F.mainplot&&(I=F.mainplot.id),R[I]||(R[I]=[]),R[I].push(N)}else N.layer==="above"?T.push(N):M.push(N)}var z={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function U(L){var me=p.select(this);if(this._imgSrc!==L.source)if(me.attr("xmlns",x.svg),L.source&&L.source.slice(0,5)==="data:")me.attr("xlink:href",L.source),this._imgSrc=L.source;else{var ae=new Promise((function(q){var fe=new Image;this.img=fe,fe.setAttribute("crossOrigin","anonymous"),fe.onerror=ee,fe.onload=function(){var be=document.createElement("canvas");be.width=this.width,be.height=this.height;var Te=be.getContext("2d",{willReadFrequently:!0});Te.drawImage(this,0,0);var Be=be.toDataURL("image/png");me.attr("xlink:href",Be),q()},me.on("error",ee),fe.src=L.source,this._imgSrc=L.source;function ee(){me.remove(),q()}}).bind(this));C._promises.push(ae)}}function Q(L){var me=p.select(this),ae=y.getFromId(C,L.xref),q=y.getFromId(C,L.yref),fe=y.getRefType(L.xref)==="domain",ee=y.getRefType(L.yref)==="domain",be=w._size,Te,Be;ae!==void 0?Te=typeof L.xref=="string"&&fe?ae._length*L.sizex:Math.abs(ae.l2p(L.sizex)-ae.l2p(0)):Te=L.sizex*be.w,q!==void 0?Be=typeof L.yref=="string"&&ee?q._length*L.sizey:Math.abs(q.l2p(L.sizey)-q.l2p(0)):Be=L.sizey*be.h;var ge=Te*z.x[L.xanchor].offset,ne=Be*z.y[L.yanchor].offset,pe=z.x[L.xanchor].sizing+z.y[L.yanchor].sizing,G,Oe;switch(ae!==void 0?G=typeof L.xref=="string"&&fe?ae._length*L.x+ae._offset:ae.r2p(L.x)+ae._offset:G=L.x*be.w+be.l,G+=ge,q!==void 0?Oe=typeof L.yref=="string"&&ee?q._length*(1-L.y)+q._offset:q.r2p(L.y)+q._offset:Oe=be.h-L.y*be.h+be.t,Oe+=ne,L.sizing){case"fill":pe+=" slice";break;case"stretch":pe="none";break}me.attr({x:G,y:Oe,width:Te,height:Be,preserveAspectRatio:pe,opacity:L.opacity});var xe=ae&&y.getRefType(L.xref)!=="domain"?ae._id:"",Le=q&&y.getRefType(L.yref)!=="domain"?q._id:"",ke=xe+Le;v.setClipUrl(me,ke?"clip"+w._uid+ke:null,C)}var B=w._imageLowerLayer.selectAll("image").data(M),E=w._imageUpperLayer.selectAll("image").data(T);B.enter().append("image"),E.enter().append("image"),B.exit().remove(),E.exit().remove(),B.each(function(L){U.bind(this)(L),Q.bind(this)(L)}),E.each(function(L){U.bind(this)(L),Q.bind(this)(L)});var W=Object.keys(w._plots);for(V=0;V<W.length;V++){I=W[V];var Y=w._plots[I];if(Y.imagelayer){var ie=Y.imagelayer.selectAll("image").data(R[I]||[]);ie.enter().append("image"),ie.exit().remove(),ie.each(function(L){U.bind(this)(L),Q.bind(this)(L)})}}}},8804:function(f,h,u){f.exports={moduleType:"component",name:"images",layoutAttributes:u(9819),supplyLayoutDefaults:u(1603),includeBasePlot:u(6325)("images"),draw:u(750),convertCoords:u(5378)}},3030:function(f,h,u){var p=u(1940),v=u(2399);f.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(f){f.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(f,h,u){var p=u(3972),v=u(1828),y=u(4467),b=u(9012),x=u(3030),k=u(820),C=u(130);function w(T,R,M,I){var V=R[T]||{},N=y.newContainer(M,T);function F(Ze,De){return v.coerce(V,N,x,Ze,De)}var z=v.coerceFont(F,"font",M.font);F("bgcolor",M.paper_bgcolor),F("bordercolor");var U=F("visible");if(U){for(var Q,B=function(Ze,De){var Ie=Q._input,re=Q;return v.coerce(Ie,re,b,Ze,De)},E=M.font||{},W=v.coerceFont(F,"grouptitlefont",v.extendFlat({},E,{size:Math.round(E.size*1.1)})),Y=0,ie=!1,L="normal",me=(M.shapes||[]).filter(function(Ze){return Ze.showlegend}),ae=I.concat(me).filter(function(Ze){return T===(Ze.legend||"legend")}),q=0;q<ae.length;q++)if(Q=ae[q],!!Q.visible){var fe=Q._isShape;(Q.showlegend||Q._dfltShowLegend&&!(Q._module&&Q._module.attributes&&Q._module.attributes.showlegend&&Q._module.attributes.showlegend.dflt===!1))&&(Y++,Q.showlegend&&(ie=!0,(!fe&&p.traceIs(Q,"pie-like")||Q._input.showlegend===!0)&&Y++),v.coerceFont(B,"legendgrouptitle.font",W)),(!fe&&p.traceIs(Q,"bar")&&M.barmode==="stack"||["tonextx","tonexty"].indexOf(Q.fill)!==-1)&&(L=C.isGrouped({traceorder:L})?"grouped+reversed":"reversed"),Q.legendgroup!==void 0&&Q.legendgroup!==""&&(L=C.isReversed({traceorder:L})?"reversed+grouped":"grouped")}var ee=v.coerce(R,M,k,"showlegend",ie&&Y>(T==="legend"?1:0));if(ee===!1&&(M[T]=void 0),!(ee===!1&&!V.uirevision)&&(F("uirevision",M.uirevision),ee!==!1)){F("borderwidth");var be=F("orientation"),Te=F("yref"),Be=F("xref"),ge=be==="h",ne=Te==="paper",pe=Be==="paper",G,Oe,xe,Le="left";ge?(G=0,p.getComponentMethod("rangeslider","isVisible")(R.xaxis)?ne?(Oe=1.1,xe="bottom"):(Oe=1,xe="top"):ne?(Oe=-.1,xe="top"):(Oe=0,xe="bottom")):(Oe=1,xe="auto",pe?G=1.02:(G=1,Le="right")),v.coerce(V,N,{x:{valType:"number",editType:"legend",min:pe?-2:0,max:pe?3:1,dflt:G}},"x"),v.coerce(V,N,{y:{valType:"number",editType:"legend",min:ne?-2:0,max:ne?3:1,dflt:Oe}},"y"),F("traceorder",L),C.isGrouped(M[T])&&F("tracegroupgap"),F("entrywidth"),F("entrywidthmode"),F("itemsizing"),F("itemwidth"),F("itemclick"),F("itemdoubleclick"),F("groupclick"),F("xanchor",Le),F("yanchor",xe),F("valign"),v.noneOrAll(V,N,["x","y"]);var ke=F("title.text");if(ke){F("title.side",ge?"left":"top");var $e=v.extendFlat({},z,{size:v.bigFont(z.size)});v.coerceFont(F,"title.font",$e)}}}}f.exports=function(R,M,I){var V,N=I.slice(),F=M.shapes;if(F)for(V=0;V<F.length;V++){var z=F[V];if(z.showlegend){var U={_input:z._input,visible:z.visible,showlegend:z.showlegend,legend:z.legend};N.push(U)}}var Q=["legend"];for(V=0;V<N.length;V++)v.pushUnique(Q,N[V].legend);for(M._legends=[],V=0;V<Q.length;V++){var B=Q[V];w(B,R,M,N),M[B]&&M[B].visible&&(M[B]._id=B),M._legends.push(B)}}},3969:function(f,h,u){var p=u(9898),v=u(1828),y=u(4875),b=u(3972),x=u(1086),k=u(8569),C=u(1424),w=u(7901),T=u(3893),R=u(5167),M=u(4928),I=u(8783),V=I.LINE_SPACING,N=I.FROM_TL,F=I.FROM_BR,z=u(2424),U=u(3630),Q=u(130),B=1,E=/^legend[0-9]*$/;f.exports=function(Oe,xe){if(xe)Y(Oe,xe);else{var Le=Oe._fullLayout,ke=Le._legends,$e=Le._infolayer.selectAll('[class^="legend"]');$e.each(function(){var re=p.select(this),ye=re.attr("class"),te=ye.split(" ")[0];te.match(E)&&ke.indexOf(te)===-1&&re.remove()});for(var Ze=0;Ze<ke.length;Ze++){var De=ke[Ze],Ie=Oe._fullLayout[De];Y(Oe,Ie)}}};function W(G,Oe,xe){if(!(Oe.title.side!=="top center"&&Oe.title.side!=="top right")){var Le=Oe.title.font,ke=Le.size*V,$e=0,Ze=G.node(),De=C.bBox(Ze).width;Oe.title.side==="top center"?$e=.5*(Oe._width-2*xe-2*M.titlePad-De):Oe.title.side==="top right"&&($e=Oe._width-2*xe-2*M.titlePad-De),T.positionText(G,xe+M.titlePad+$e,xe+ke)}}function Y(G,Oe){var xe=Oe||{},Le=G._fullLayout,ke=pe(xe),$e,Ze,De=xe._inHover;if(De?(Ze=xe.layer,$e="hover"):(Ze=Le._infolayer,$e=ke),!!Ze){$e+=Le._uid,G._legendMouseDownTime||(G._legendMouseDownTime=0);var Ie;if(De){if(!xe.entries)return;Ie=z(xe.entries,xe)}else{for(var re=(G.calcdata||[]).slice(),ye=Le.shapes,te=0;te<ye.length;te++){var se=ye[te];if(se.showlegend){var ue={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};re.push([{trace:ue}])}}Ie=Le.showlegend&&z(re,xe,Le._legends.length>1)}var oe=Le.hiddenlabels||[];if(!De&&(!Le.showlegend||!Ie.length))return Ze.selectAll("."+ke).remove(),Le._topdefs.select("#"+$e).remove(),y.autoMargin(G,ke);var Se=v.ensureSingle(Ze,"g",ke,function(je){De||je.attr("pointer-events","all")}),le=v.ensureSingleById(Le._topdefs,"clipPath",$e,function(je){je.append("rect")}),Ce=v.ensureSingle(Se,"rect","bg",function(je){je.attr("shape-rendering","crispEdges")});Ce.call(w.stroke,xe.bordercolor).call(w.fill,xe.bgcolor).style("stroke-width",xe.borderwidth+"px");var Qe=v.ensureSingle(Se,"g","scrollbox"),ze=xe.title;xe._titleWidth=0,xe._titleHeight=0;var Xe;ze.text?(Xe=v.ensureSingle(Qe,"text",ke+"titletext"),Xe.attr("text-anchor","start").call(C.font,ze.font).text(ze.text),fe(Xe,Qe,G,xe,B)):Qe.selectAll("."+ke+"titletext").remove();var ct=v.ensureSingle(Se,"rect","scrollbar",function(je){je.attr(M.scrollBarEnterAttrs).call(w.fill,M.scrollBarColor)}),pt=Qe.selectAll("g.groups").data(Ie);pt.enter().append("g").attr("class","groups"),pt.exit().remove();var Ye=pt.selectAll("g.traces").data(v.identity);Ye.enter().append("g").attr("class","traces"),Ye.exit().remove(),Ye.style("opacity",function(je){var et=je[0].trace;return b.traceIs(et,"pie-like")?oe.indexOf(je[0].label)!==-1?.5:1:et.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(me,G,xe)}).call(U,G,xe).each(function(){De||p.select(this).call(q,G,ke)}),v.syncOrAsync([y.previousPromises,function(){return Te(G,pt,Ye,xe)},function(){var je=Le._size,et=xe.borderwidth,yt=xe.xref==="paper",ft=xe.yref==="paper";if(ze.text&&W(Xe,xe,et),!De){var tt,wt;yt?tt=je.l+je.w*xe.x-N[ge(xe)]*xe._width:tt=Le.width*xe.x-N[ge(xe)]*xe._width,ft?wt=je.t+je.h*(1-xe.y)-N[ne(xe)]*xe._effHeight:wt=Le.height*(1-xe.y)-N[ne(xe)]*xe._effHeight;var Xt=Be(G,ke,tt,wt);if(Xt)return;if(Le.margin.autoexpand){var Gt=tt,Nt=wt;tt=yt?v.constrain(tt,0,Le.width-xe._width):Gt,wt=ft?v.constrain(wt,0,Le.height-xe._effHeight):Nt,tt!==Gt&&v.log("Constrain "+ke+".x to make legend fit inside graph"),wt!==Nt&&v.log("Constrain "+ke+".y to make legend fit inside graph")}C.setTranslate(Se,tt,wt)}if(ct.on(".drag",null),Se.on("wheel",null),De||xe._height<=xe._maxHeight||G._context.staticPlot){var Bt=xe._effHeight;De&&(Bt=xe._height),Ce.attr({width:xe._width-et,height:Bt-et,x:et/2,y:et/2}),C.setTranslate(Qe,0,0),le.select("rect").attr({width:xe._width-2*et,height:Bt-2*et,x:et,y:et}),C.setClipUrl(Qe,$e,G),C.setRect(ct,0,0,0,0),delete xe._scrollY}else{var vn=Math.max(M.scrollBarMinHeight,xe._effHeight*xe._effHeight/xe._height),En=xe._effHeight-vn-2*M.scrollBarMargin,ln=xe._height-xe._effHeight,Yn=En/ln,an=Math.min(xe._scrollY||0,ln);Ce.attr({width:xe._width-2*et+M.scrollBarWidth+M.scrollBarMargin,height:xe._effHeight-et,x:et/2,y:et/2}),le.select("rect").attr({width:xe._width-2*et+M.scrollBarWidth+M.scrollBarMargin,height:xe._effHeight-2*et,x:et,y:et+an}),C.setClipUrl(Qe,$e,G),gt(an,vn,Yn),Se.on("wheel",function(){an=v.constrain(xe._scrollY+p.event.deltaY/En*ln,0,ln),gt(an,vn,Yn),an!==0&&an!==ln&&p.event.preventDefault()});var wn,Xn,Un,Sn=function(mt,Tt,Pt){var dn=(Pt-Tt)/Yn+mt;return v.constrain(dn,0,ln)},it=function(mt,Tt,Pt){var dn=(Tt-Pt)/Yn+mt;return v.constrain(dn,0,ln)},ut=p.behavior.drag().on("dragstart",function(){var mt=p.event.sourceEvent;mt.type==="touchstart"?wn=mt.changedTouches[0].clientY:wn=mt.clientY,Un=an}).on("drag",function(){var mt=p.event.sourceEvent;mt.buttons===2||mt.ctrlKey||(mt.type==="touchmove"?Xn=mt.changedTouches[0].clientY:Xn=mt.clientY,an=Sn(Un,wn,Xn),gt(an,vn,Yn))});ct.call(ut);var xt=p.behavior.drag().on("dragstart",function(){var mt=p.event.sourceEvent;mt.type==="touchstart"&&(wn=mt.changedTouches[0].clientY,Un=an)}).on("drag",function(){var mt=p.event.sourceEvent;mt.type==="touchmove"&&(Xn=mt.changedTouches[0].clientY,an=it(Un,wn,Xn),gt(an,vn,Yn))});Qe.call(xt)}function gt(mt,Tt,Pt){xe._scrollY=G._fullLayout[ke]._scrollY=mt,C.setTranslate(Qe,0,-mt),C.setRect(ct,xe._width,M.scrollBarMargin+mt*Pt,M.scrollBarWidth,Tt),le.select("rect").attr("y",et+mt)}if(G._context.edits.legendPosition){var Dt,He,at,dt;Se.classed("cursor-move",!0),k.init({element:Se.node(),gd:G,prepFn:function(){var mt=C.getTranslate(Se);at=mt.x,dt=mt.y},moveFn:function(mt,Tt){var Pt=at+mt,dn=dt+Tt;C.setTranslate(Se,Pt,dn),Dt=k.align(Pt,xe._width,je.l,je.l+je.w,xe.xanchor),He=k.align(dn+xe._height,-xe._height,je.t+je.h,je.t,xe.yanchor)},doneFn:function(){if(Dt!==void 0&&He!==void 0){var mt={};mt[ke+".x"]=Dt,mt[ke+".y"]=He,b.call("_guiRelayout",G,mt)}},clickFn:function(mt,Tt){var Pt=Ze.selectAll("g.traces").filter(function(){var dn=this.getBoundingClientRect();return Tt.clientX>=dn.left&&Tt.clientX<=dn.right&&Tt.clientY>=dn.top&&Tt.clientY<=dn.bottom});Pt.size()>0&&L(G,Se,Pt,mt,Tt)}})}}],G)}}function ie(G,Oe,xe){var Le=G[0],ke=Le.width,$e=Oe.entrywidthmode,Ze=Le.trace.legendwidth||Oe.entrywidth;return $e==="fraction"?Oe._maxWidth*Ze:xe+(Ze||ke)}function L(G,Oe,xe,Le,ke){var $e=xe.data()[0][0].trace,Ze={event:ke,node:xe.node(),curveNumber:$e.index,expandedIndex:$e._expandedIndex,data:G.data,layout:G.layout,frames:G._transitionData._frames,config:G._context,fullData:G._fullData,fullLayout:G._fullLayout};$e._group&&(Ze.group=$e._group),b.traceIs($e,"pie-like")&&(Ze.label=xe.datum()[0].label);var De=x.triggerHandler(G,"plotly_legendclick",Ze);if(Le===1){if(De===!1)return;Oe._clickTimeout=setTimeout(function(){G._fullLayout&&R(xe,G,Le)},G._context.doubleClickDelay)}else if(Le===2){Oe._clickTimeout&&clearTimeout(Oe._clickTimeout),G._legendMouseDownTime=0;var Ie=x.triggerHandler(G,"plotly_legenddoubleclick",Ze);Ie!==!1&&De!==!1&&R(xe,G,Le)}}function me(G,Oe,xe){var Le=pe(xe),ke=G.data()[0][0],$e=ke.trace,Ze=b.traceIs($e,"pie-like"),De=!xe._inHover&&Oe._context.edits.legendText&&!Ze,Ie=xe._maxNameLength,re,ye;ke.groupTitle?(re=ke.groupTitle.text,ye=ke.groupTitle.font):(ye=xe.font,xe.entries?re=ke.text:(re=Ze?ke.label:$e.name,$e._meta&&(re=v.templateString(re,$e._meta))));var te=v.ensureSingle(G,"text",Le+"text");te.attr("text-anchor","start").call(C.font,ye).text(De?ae(re,Ie):re);var se=xe.itemwidth+M.itemGap*2;T.positionText(te,se,0),De?te.call(T.makeEditable,{gd:Oe,text:re}).call(fe,G,Oe,xe).on("edit",function(ue){this.text(ae(ue,Ie)).call(fe,G,Oe,xe);var oe=ke.trace._fullInput||{},Se={};if(b.hasTransform(oe,"groupby")){var le=b.getTransformIndices(oe,"groupby"),Ce=le[le.length-1],Qe=v.keyedContainer(oe,"transforms["+Ce+"].styles","target","value.name");Qe.set(ke.trace._group,ue),Se=Qe.constructUpdate()}else Se.name=ue;return oe._isShape?b.call("_guiRelayout",Oe,"shapes["+$e.index+"].name",Se.name):b.call("_guiRestyle",Oe,Se,$e.index)}):fe(te,G,Oe,xe)}function ae(G,Oe){var xe=Math.max(4,Oe);if(G&&G.trim().length>=xe/2)return G;G=G||"";for(var Le=xe-G.length;Le>0;Le--)G+=" ";return G}function q(G,Oe,xe){var Le=Oe._context.doubleClickDelay,ke,$e=1,Ze=v.ensureSingle(G,"rect",xe+"toggle",function(De){Oe._context.staticPlot||De.style("cursor","pointer").attr("pointer-events","all"),De.call(w.fill,"rgba(0,0,0,0)")});Oe._context.staticPlot||(Ze.on("mousedown",function(){ke=new Date().getTime(),ke-Oe._legendMouseDownTime<Le?$e+=1:($e=1,Oe._legendMouseDownTime=ke)}),Ze.on("mouseup",function(){if(!(Oe._dragged||Oe._editing)){var De=Oe._fullLayout[xe];new Date().getTime()-Oe._legendMouseDownTime>Le&&($e=Math.max($e-1,1)),L(Oe,De,G,$e,p.event)}}))}function fe(G,Oe,xe,Le,ke){Le._inHover&&G.attr("data-notex",!0),T.convertToTspans(G,xe,function(){ee(Oe,xe,Le,ke)})}function ee(G,Oe,xe,Le){var ke=G.data()[0][0];if(!xe._inHover&&ke&&!ke.trace.showlegend){G.remove();return}var $e=G.select("g[class*=math-group]"),Ze=$e.node(),De=pe(xe);xe||(xe=Oe._fullLayout[De]);var Ie=xe.borderwidth,re;Le===B?re=xe.title.font:ke.groupTitle?re=ke.groupTitle.font:re=xe.font;var ye=re.size*V,te,se;if(Ze){var ue=C.bBox(Ze);te=ue.height,se=ue.width,Le===B?C.setTranslate($e,Ie,Ie+te*.75):C.setTranslate($e,0,te*.25)}else{var oe="."+De+(Le===B?"title":"")+"text",Se=G.select(oe),le=T.lineCount(Se),Ce=Se.node();if(te=ye*le,se=Ce?C.bBox(Ce).width:0,Le===B)xe.title.side==="left"&&(se+=M.itemGap*2),T.positionText(Se,Ie+M.titlePad,Ie+ye);else{var Qe=M.itemGap*2+xe.itemwidth;ke.groupTitle&&(Qe=M.itemGap,se-=xe.itemwidth),T.positionText(Se,Qe,-ye*((le-1)/2-.3))}}Le===B?(xe._titleWidth=se,xe._titleHeight=te):(ke.lineHeight=ye,ke.height=Math.max(te,16)+3,ke.width=se)}function be(G){var Oe=0,xe=0,Le=G.title.side;return Le&&(Le.indexOf("left")!==-1&&(Oe=G._titleWidth),Le.indexOf("top")!==-1&&(xe=G._titleHeight)),[Oe,xe]}function Te(G,Oe,xe,Le){var ke=G._fullLayout,$e=pe(Le);Le||(Le=ke[$e]);var Ze=ke._size,De=Q.isVertical(Le),Ie=Q.isGrouped(Le),re=Le.entrywidthmode==="fraction",ye=Le.borderwidth,te=2*ye,se=M.itemGap,ue=Le.itemwidth+se*2,oe=2*(ye+se),Se=ne(Le),le=Le.y<0||Le.y===0&&Se==="top",Ce=Le.y>1||Le.y===1&&Se==="bottom",Qe=Le.tracegroupgap,ze={};Le._maxHeight=Math.max(le||Ce?ke.height/2:Ze.h,30);var Xe=0;Le._width=0,Le._height=0;var ct=be(Le);if(De)xe.each(function(Un){var Sn=Un[0].height;C.setTranslate(this,ye+ct[0],ye+ct[1]+Le._height+Sn/2+se),Le._height+=Sn,Le._width=Math.max(Le._width,Un[0].width)}),Xe=ue+Le._width,Le._width+=se+ue+te,Le._height+=oe,Ie&&(Oe.each(function(Un,Sn){C.setTranslate(this,0,Sn*Le.tracegroupgap)}),Le._height+=(Le._lgroupsLength-1)*Le.tracegroupgap);else{var pt=ge(Le),Ye=Le.x<0||Le.x===0&&pt==="right",je=Le.x>1||Le.x===1&&pt==="left",et=Ce||le,yt=ke.width/2;Le._maxWidth=Math.max(Ye?et&&pt==="left"?Ze.l+Ze.w:yt:je?et&&pt==="right"?Ze.r+Ze.w:yt:Ze.w,2*ue);var ft=0,tt=0;xe.each(function(Un){var Sn=ie(Un,Le,ue);ft=Math.max(ft,Sn),tt+=Sn}),Xe=null;var wt=0;if(Ie){var Xt=0,Gt=0,Nt=0;Oe.each(function(){var Un=0,Sn=0;p.select(this).selectAll("g.traces").each(function(ut){var xt=ie(ut,Le,ue),gt=ut[0].height;C.setTranslate(this,ct[0],ct[1]+ye+se+gt/2+Sn),Sn+=gt,Un=Math.max(Un,xt),ze[ut[0].trace.legendgroup]=Un});var it=Un+se;Gt>0&&it+ye+Gt>Le._maxWidth?(wt=Math.max(wt,Gt),Gt=0,Nt+=Xt+Qe,Xt=Sn):Xt=Math.max(Xt,Sn),C.setTranslate(this,Gt,Nt),Gt+=it}),Le._width=Math.max(wt,Gt)+ye,Le._height=Nt+Xt+oe}else{var Bt=xe.size(),vn=tt+te+(Bt-1)*se<Le._maxWidth,En=0,ln=0,Yn=0,an=0;xe.each(function(Un){var Sn=Un[0].height,it=ie(Un,Le,ue),ut=vn?it:ft;re||(ut+=se),ut+ye+ln-se>=Le._maxWidth&&(wt=Math.max(wt,an),ln=0,Yn+=En,Le._height+=En,En=0),C.setTranslate(this,ct[0]+ye+ln,ct[1]+ye+Yn+Sn/2+se),an=ln+it+se,ln+=ut,En=Math.max(En,Sn)}),vn?(Le._width=ln+te,Le._height=En+oe):(Le._width=Math.max(wt,an)+te,Le._height+=En+oe)}}Le._width=Math.ceil(Math.max(Le._width+ct[0],Le._titleWidth+2*(ye+M.titlePad))),Le._height=Math.ceil(Math.max(Le._height+ct[1],Le._titleHeight+2*(ye+M.itemGap))),Le._effHeight=Math.min(Le._height,Le._maxHeight);var wn=G._context.edits,Xn=wn.legendText||wn.legendPosition;xe.each(function(Un){var Sn=p.select(this).select("."+$e+"toggle"),it=Un[0].height,ut=Un[0].trace.legendgroup,xt=ie(Un,Le,ue);Ie&&ut!==""&&(xt=ze[ut]);var gt=Xn?ue:Xe||xt;!De&&!re&&(gt+=se/2),C.setRect(Sn,0,-it/2,gt,it)})}function Be(G,Oe,xe,Le){var ke=G._fullLayout,$e=ke[Oe],Ze=ge($e),De=ne($e),Ie=$e.xref==="paper",re=$e.yref==="paper";G._fullLayout._reservedMargin[Oe]={};var ye=$e.y<.5?"b":"t",te=$e.x<.5?"l":"r",se={r:ke.width-xe,l:xe+$e._width,b:ke.height-Le,t:Le+$e._effHeight};if(Ie&&re)return y.autoMargin(G,Oe,{x:$e.x,y:$e.y,l:$e._width*N[Ze],r:$e._width*F[Ze],b:$e._effHeight*F[De],t:$e._effHeight*N[De]});Ie?G._fullLayout._reservedMargin[Oe][ye]=se[ye]:re||$e.orientation==="v"?G._fullLayout._reservedMargin[Oe][te]=se[te]:G._fullLayout._reservedMargin[Oe][ye]=se[ye]}function ge(G){return v.isRightAnchor(G)?"right":v.isCenterAnchor(G)?"center":"left"}function ne(G){return v.isBottomAnchor(G)?"bottom":v.isMiddleAnchor(G)?"middle":"top"}function pe(G){return G._id||"legend"}},2424:function(f,h,u){var p=u(3972),v=u(130);f.exports=function(b,x,k){var C=x._inHover,w=v.isGrouped(x),T=v.isReversed(x),R={},M=[],I=!1,V={},N=0,F=0,z,U;function Q(G,Oe,xe){if(x.visible!==!1&&!(k&&G!==x._id))if(Oe===""||!v.isGrouped(x)){var Le="~~i"+N;M.push(Le),R[Le]=[xe],N++}else M.indexOf(Oe)===-1?(M.push(Oe),I=!0,R[Oe]=[xe]):R[Oe].push(xe)}for(z=0;z<b.length;z++){var B=b[z],E=B[0],W=E.trace,Y=W.legend,ie=W.legendgroup;if(!(!C&&(!W.visible||!W.showlegend)))if(p.traceIs(W,"pie-like"))for(V[ie]||(V[ie]={}),U=0;U<B.length;U++){var L=B[U].label;V[ie][L]||(Q(Y,ie,{label:L,color:B[U].color,i:B[U].i,trace:W,pts:B[U].pts}),V[ie][L]=!0,F=Math.max(F,(L||"").length))}else Q(Y,ie,E),F=Math.max(F,(W.name||"").length)}if(!M.length)return[];var me=!I||!w,ae=[];for(z=0;z<M.length;z++){var q=R[M[z]];me?ae.push(q[0]):ae.push(q)}for(me&&(ae=[ae]),z=0;z<ae.length;z++){var fe=1/0;for(U=0;U<ae[z].length;U++){var ee=ae[z][U].trace.legendrank;fe>ee&&(fe=ee)}ae[z][0]._groupMinRank=fe,ae[z][0]._preGroupSort=z}var be=function(G,Oe){return G[0]._groupMinRank-Oe[0]._groupMinRank||G[0]._preGroupSort-Oe[0]._preGroupSort},Te=function(G,Oe){return G.trace.legendrank-Oe.trace.legendrank||G._preSort-Oe._preSort};for(ae.forEach(function(G,Oe){G[0]._preGroupSort=Oe}),ae.sort(be),z=0;z<ae.length;z++){ae[z].forEach(function(G,Oe){G._preSort=Oe}),ae[z].sort(Te);var Be=ae[z][0].trace,ge=null;for(U=0;U<ae[z].length;U++){var ne=ae[z][U].trace.legendgrouptitle;if(ne&&ne.text){ge=ne,C&&(ne.font=x._groupTitleFont);break}}if(T&&ae[z].reverse(),ge){var pe=!1;for(U=0;U<ae[z].length;U++)if(p.traceIs(ae[z][U].trace,"pie-like")){pe=!0;break}ae[z].unshift({i:-1,groupTitle:ge,noClick:pe,trace:{showlegend:Be.showlegend,legendgroup:Be.legendgroup,visible:x.groupclick==="toggleitem"?!0:Be.visible}})}for(U=0;U<ae[z].length;U++)ae[z][U]=[ae[z][U]]}return x._lgroupsLength=ae.length,x._maxNameLength=F,ae}},5167:function(f,h,u){var p=u(3972),v=u(1828),y=v.pushUnique,b=!0;f.exports=function(k,C,w){var T=C._fullLayout;if(C._dragged||C._editing)return;var R=T.legend.itemclick,M=T.legend.itemdoubleclick,I=T.legend.groupclick;w===1&&R==="toggle"&&M==="toggleothers"&&b&&C.data&&C._context.showTips&&v.notifier(v._(C,"Double-click on legend to isolate one trace"),"long"),b=!1;var V;if(w===1?V=R:w===2&&(V=M),!V)return;var N=I==="togglegroup",F=T.hiddenlabels?T.hiddenlabels.slice():[],z=k.data()[0][0];if(z.groupTitle&&z.noClick)return;var U=C._fullData,Q=(T.shapes||[]).filter(function(yt){return yt.showlegend}),B=U.concat(Q),E=z.trace;E._isShape&&(E=E._fullInput);var W=E.legendgroup,Y,ie,L,me,ae,q,fe={},ee=[],be=[],Te=[];function Be(yt,ft){var tt=ee.indexOf(yt),wt=fe.visible;return wt||(wt=fe.visible=[]),ee.indexOf(yt)===-1&&(ee.push(yt),tt=ee.length-1),wt[tt]=ft,tt}var ge=(T.shapes||[]).map(function(yt){return yt._input}),ne=!1;function pe(yt,ft){ge[yt].visible=ft,ne=!0}function G(yt,ft){if(!(z.groupTitle&&!N)){var tt=yt._fullInput||yt,wt=tt._isShape,Xt=tt.index;if(Xt===void 0&&(Xt=tt._index),p.hasTransform(tt,"groupby")){var Gt=be[Xt];if(!Gt){var Nt=p.getTransformIndices(tt,"groupby"),Bt=Nt[Nt.length-1];Gt=v.keyedContainer(tt,"transforms["+Bt+"].styles","target","value.visible"),be[Xt]=Gt}var vn=Gt.get(yt._group);vn===void 0&&(vn=!0),vn!==!1&&Gt.set(yt._group,ft),Te[Xt]=Be(Xt,tt.visible!==!1)}else{var En=tt.visible===!1?!1:ft;wt?pe(Xt,En):Be(Xt,En)}}}var Oe=E.legend,xe=E._fullInput,Le=xe&&xe._isShape;if(!Le&&p.traceIs(E,"pie-like")){var ke=z.label,$e=F.indexOf(ke);if(V==="toggle")$e===-1?F.push(ke):F.splice($e,1);else if(V==="toggleothers"){var Ze=$e!==-1,De=[];for(Y=0;Y<C.calcdata.length;Y++){var Ie=C.calcdata[Y];for(ie=0;ie<Ie.length;ie++){var re=Ie[ie],ye=re.label;Oe===Ie[0].trace.legend&&ke!==ye&&(F.indexOf(ye)===-1&&(Ze=!0),y(F,ye),De.push(ye))}}if(!Ze)for(var te=0;te<De.length;te++){var se=F.indexOf(De[te]);se!==-1&&F.splice(se,1)}}p.call("_guiRelayout",C,"hiddenlabels",F)}else{var ue=W&&W.length,oe=[],Se;if(ue)for(Y=0;Y<B.length;Y++)Se=B[Y],Se.visible&&Se.legendgroup===W&&oe.push(Y);if(V==="toggle"){var le;switch(E.visible){case!0:le="legendonly";break;case!1:le=!1;break;case"legendonly":le=!0;break}if(ue)if(N)for(Y=0;Y<B.length;Y++){var Ce=B[Y];Ce.visible!==!1&&Ce.legendgroup===W&&G(Ce,le)}else G(E,le);else G(E,le)}else if(V==="toggleothers"){var Qe,ze,Xe,ct,pt,Ye=!0;for(Y=0;Y<B.length;Y++)if(pt=B[Y],Qe=pt===E,Xe=pt.showlegend!==!0,!(Qe||Xe)&&(ze=ue&&pt.legendgroup===W,!ze&&pt.legend===Oe&&pt.visible===!0&&!p.traceIs(pt,"notLegendIsolatable"))){Ye=!1;break}for(Y=0;Y<B.length;Y++)if(pt=B[Y],!(pt.visible===!1||pt.legend!==Oe)&&!p.traceIs(pt,"notLegendIsolatable"))switch(E.visible){case"legendonly":G(pt,!0);break;case!0:ct=Ye?!0:"legendonly",Qe=pt===E,Xe=pt.showlegend!==!0&&!pt.legendgroup,ze=Qe||ue&&pt.legendgroup===W,G(pt,ze||Xe?!0:ct);break}}for(Y=0;Y<be.length;Y++)if(L=be[Y],!!L){var je=L.constructUpdate(),et=Object.keys(je);for(ie=0;ie<et.length;ie++)me=et[ie],q=fe[me]=fe[me]||[],q[Te[Y]]=je[me]}for(ae=Object.keys(fe),Y=0;Y<ae.length;Y++)for(me=ae[Y],ie=0;ie<ee.length;ie++)fe[me].hasOwnProperty(ie)||(fe[me][ie]=void 0);ne?p.call("_guiUpdate",C,fe,{shapes:ge},ee):p.call("_guiRestyle",C,fe,ee)}}},130:function(f,h){h.isGrouped=function(p){return(p.traceorder||"").indexOf("grouped")!==-1},h.isVertical=function(p){return p.orientation!=="h"},h.isReversed=function(p){return(p.traceorder||"").indexOf("reversed")!==-1}},2199:function(f,h,u){f.exports={moduleType:"component",name:"legend",layoutAttributes:u(3030),supplyLayoutDefaults:u(9017),draw:u(3969),style:u(3630)}},3630:function(f,h,u){var p=u(9898),v=u(3972),y=u(1828),b=y.strTranslate,x=u(1424),k=u(7901),C=u(2869).extractOpts,w=u(4098),T=u(3463),R=u(3581).castOption,M=u(4928),I=12,V=5,N=2,F=10,z=5;f.exports=function(W,Y,ie){var L=Y._fullLayout;ie||(ie=L.legend);var me=ie.itemsizing==="constant",ae=ie.itemwidth,q=(ae+M.itemGap*2)/2,fe=b(q,0),ee=function(De,Ie,re,ye){var te;if(De+1)te=De;else if(Ie&&Ie.width>0)te=Ie.width;else return 0;return me?ye:Math.min(te,re)};W.each(function(De){var Ie=p.select(this),re=y.ensureSingle(Ie,"g","layers");re.style("opacity",De[0].trace.opacity);var ye=ie.valign,te=De[0].lineHeight,se=De[0].height;if(ye==="middle"||!te||!se)re.attr("transform",null);else{var ue={top:1,bottom:-1}[ye],oe=ue*(.5*(te-se+3));re.attr("transform",b(0,oe))}var Se=re.selectAll("g.legendfill").data([De]);Se.enter().append("g").classed("legendfill",!0);var le=re.selectAll("g.legendlines").data([De]);le.enter().append("g").classed("legendlines",!0);var Ce=re.selectAll("g.legendsymbols").data([De]);Ce.enter().append("g").classed("legendsymbols",!0),Ce.selectAll("g.legendpoints").data([De]).enter().append("g").classed("legendpoints",!0)}).each(Ze).each(Be).each(ne).each(ge).each(G).each(ke).each(Le).each(be).each(Te).each(Oe).each(xe);function be(De){var Ie=Q(De),re=Ie.showFill,ye=Ie.showLine,te=Ie.showGradientLine,se=Ie.showGradientFill,ue=Ie.anyFill,oe=Ie.anyLine,Se=De[0],le=Se.trace,Ce,Qe,ze=C(le),Xe=ze.colorscale,ct=ze.reversescale,pt=function(wt){if(wt.size())if(re)x.fillGroupStyle(wt,Y);else{var Xt="legendfill-"+le.uid;x.gradient(wt,Y,Xt,U(ct),Xe,"fill")}},Ye=function(wt){if(wt.size()){var Xt="legendline-"+le.uid;x.lineGroupStyle(wt),x.gradient(wt,Y,Xt,U(ct),Xe,"stroke")}},je=w.hasMarkers(le)||!ue?"M5,0":oe?"M5,-2":"M5,-3",et=p.select(this),yt=et.select(".legendfill").selectAll("path").data(re||se?[De]:[]);if(yt.enter().append("path").classed("js-fill",!0),yt.exit().remove(),yt.attr("d",je+"h"+ae+"v6h-"+ae+"z").call(pt),ye||te){var ft=ee(void 0,le.line,F,V);Qe=y.minExtend(le,{line:{width:ft}}),Ce=[y.minExtend(Se,{trace:Qe})]}var tt=et.select(".legendlines").selectAll("path").data(ye||te?[Ce]:[]);tt.enter().append("path").classed("js-line",!0),tt.exit().remove(),tt.attr("d",je+(te?"l"+ae+",0.0001":"h"+ae)).call(ye?x.lineGroupStyle:Ye)}function Te(De){var Ie=Q(De),re=Ie.anyFill,ye=Ie.anyLine,te=Ie.showLine,se=Ie.showMarker,ue=De[0],oe=ue.trace,Se=!se&&!ye&&!re&&w.hasText(oe),le,Ce;function Qe(yt,ft,tt,wt){var Xt=y.nestedProperty(oe,yt).get(),Gt=y.isArrayOrTypedArray(Xt)&&ft?ft(Xt):Xt;if(me&&Gt&&wt!==void 0&&(Gt=wt),tt){if(Gt<tt[0])return tt[0];if(Gt>tt[1])return tt[1]}return Gt}function ze(yt){return ue._distinct&&ue.index&&yt[ue.index]?yt[ue.index]:yt[0]}if(se||Se||te){var Xe={},ct={};if(se){Xe.mc=Qe("marker.color",ze),Xe.mx=Qe("marker.symbol",ze),Xe.mo=Qe("marker.opacity",y.mean,[.2,1]),Xe.mlc=Qe("marker.line.color",ze),Xe.mlw=Qe("marker.line.width",y.mean,[0,5],N),ct.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var pt=Qe("marker.size",y.mean,[2,16],I);Xe.ms=pt,ct.marker.size=pt}te&&(ct.line={width:Qe("line.width",ze,[0,10],V)}),Se&&(Xe.tx="Aa",Xe.tp=Qe("textposition",ze),Xe.ts=10,Xe.tc=Qe("textfont.color",ze),Xe.tf=Qe("textfont.family",ze)),le=[y.minExtend(ue,Xe)],Ce=y.minExtend(oe,ct),Ce.selectedpoints=null,Ce.texttemplate=null}var Ye=p.select(this).select("g.legendpoints"),je=Ye.selectAll("path.scatterpts").data(se?le:[]);je.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",fe),je.exit().remove(),je.call(x.pointStyle,Ce,Y),se&&(le[0].mrc=3);var et=Ye.selectAll("g.pointtext").data(Se?le:[]);et.enter().append("g").classed("pointtext",!0).append("text").attr("transform",fe),et.exit().remove(),et.selectAll("text").call(x.textPointStyle,Ce,Y)}function Be(De){var Ie=De[0].trace,re=Ie.type==="waterfall";if(De[0]._distinct&&re){var ye=De[0].trace[De[0].dir].marker;return De[0].mc=ye.color,De[0].mlw=ye.line.width,De[0].mlc=ye.line.color,pe(De,this,"waterfall")}var te=[];Ie.visible&&re&&(te=De[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(te);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",fe).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(ue){var oe=p.select(this),Se=Ie[ue[0]].marker,le=ee(void 0,Se.line,z,N);oe.attr("d",ue[1]).style("stroke-width",le+"px").call(k.fill,Se.color),le&&oe.call(k.stroke,Se.line.color)})}function ge(De){pe(De,this)}function ne(De){pe(De,this,"funnel")}function pe(De,Ie,re){var ye=De[0].trace,te=ye.marker||{},se=te.line||{},ue=re?ye.visible&&ye.type===re:v.traceIs(ye,"bar"),oe=p.select(Ie).select("g.legendpoints").selectAll("path.legend"+re).data(ue?[De]:[]);oe.enter().append("path").classed("legend"+re,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",fe),oe.exit().remove(),oe.each(function(Se){var le=p.select(this),Ce=Se[0],Qe=ee(Ce.mlw,te.line,z,N);le.style("stroke-width",Qe+"px");var ze=Ce.mcc;if(!ie._inHover&&"mc"in Ce){var Xe=C(te),ct=Xe.mid;ct===void 0&&(ct=(Xe.max+Xe.min)/2),ze=x.tryColorscale(te,"")(ct)}var pt=ze||Ce.mc||te.color,Ye=te.pattern,je=Ye&&x.getPatternAttr(Ye.shape,0,"");if(je){var et=x.getPatternAttr(Ye.bgcolor,0,null),yt=x.getPatternAttr(Ye.fgcolor,0,null),ft=Ye.fgopacity,tt=B(Ye.size,8,10),wt=B(Ye.solidity,.5,1),Xt="legend-"+ye.uid;le.call(x.pattern,"legend",Y,Xt,je,tt,wt,ze,Ye.fillmode,et,yt,ft)}else le.call(k.fill,pt);Qe&&k.stroke(le,Ce.mlc||se.color)})}function G(De){var Ie=De[0].trace,re=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Ie.visible&&v.traceIs(Ie,"box-violin")?[De]:[]);re.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",fe),re.exit().remove(),re.each(function(){var ye=p.select(this);if((Ie.boxpoints==="all"||Ie.points==="all")&&k.opacity(Ie.fillcolor)===0&&k.opacity((Ie.line||{}).color)===0){var te=y.minExtend(Ie,{marker:{size:me?I:y.constrain(Ie.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});re.call(x.pointStyle,te,Y)}else{var se=ee(void 0,Ie.line,z,N);ye.style("stroke-width",se+"px").call(k.fill,Ie.fillcolor),se&&k.stroke(ye,Ie.line.color)}})}function Oe(De){var Ie=De[0].trace,re=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Ie.visible&&Ie.type==="candlestick"?[De,De]:[]);re.enter().append("path").classed("legendcandle",!0).attr("d",function(ye,te){return te?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",fe).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(ye,te){var se=p.select(this),ue=Ie[te?"increasing":"decreasing"],oe=ee(void 0,ue.line,z,N);se.style("stroke-width",oe+"px").call(k.fill,ue.fillcolor),oe&&k.stroke(se,ue.line.color)})}function xe(De){var Ie=De[0].trace,re=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Ie.visible&&Ie.type==="ohlc"?[De,De]:[]);re.enter().append("path").classed("legendohlc",!0).attr("d",function(ye,te){return te?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",fe).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(ye,te){var se=p.select(this),ue=Ie[te?"increasing":"decreasing"],oe=ee(void 0,ue.line,z,N);se.style("fill","none").call(x.dashLine,ue.line.dash,oe),oe&&k.stroke(se,ue.line.color)})}function Le(De){$e(De,this,"pie")}function ke(De){$e(De,this,"funnelarea")}function $e(De,Ie,re){var ye=De[0],te=ye.trace,se=re?te.visible&&te.type===re:v.traceIs(te,re),ue=p.select(Ie).select("g.legendpoints").selectAll("path.legend"+re).data(se?[De]:[]);if(ue.enter().append("path").classed("legend"+re,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",fe),ue.exit().remove(),ue.size()){var oe=te.marker||{},Se=ee(R(oe.line.width,ye.pts),oe.line,z,N),le="pieLike",Ce=y.minExtend(te,{marker:{line:{width:Se}}},le),Qe=y.minExtend(ye,{trace:Ce},le);T(ue,Qe,Ce,Y)}}function Ze(De){var Ie=De[0].trace,re,ye=[];if(Ie.visible)switch(Ie.type){case"histogram2d":case"heatmap":ye=[["M-15,-2V4H15V-2Z"]],re=!0;break;case"choropleth":case"choroplethmapbox":ye=[["M-6,-6V6H6V-6Z"]],re=!0;break;case"densitymapbox":ye=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],re="radial";break;case"cone":ye=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],re=!1;break;case"streamtube":ye=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],re=!1;break;case"surface":ye=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],re=!0;break;case"mesh3d":ye=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!1;break;case"volume":ye=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!0;break;case"isosurface":ye=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],re=!1;break}var te=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(ye);te.enter().append("path").classed("legend3dandfriends",!0).attr("transform",fe).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(se,ue){var oe=p.select(this),Se=C(Ie),le=Se.colorscale,Ce=Se.reversescale,Qe=function(pt){if(pt.size()){var Ye="legendfill-"+Ie.uid;x.gradient(pt,Y,Ye,U(Ce,re==="radial"),le,"fill")}},ze;if(le){if(!re){var ct=le.length;ze=ue===0?le[Ce?ct-1:0][1]:ue===1?le[Ce?0:ct-1][1]:le[Math.floor((ct-1)/2)][1]}}else{var Xe=Ie.vertexcolor||Ie.facecolor||Ie.color;ze=y.isArrayOrTypedArray(Xe)?Xe[ue]||Xe[0]:Xe}oe.attr("d",se[0]),ze?oe.call(k.fill,ze):oe.call(Qe)})}};function U(E,W){var Y=W?"radial":"horizontal";return Y+(E?"":"reversed")}function Q(E){var W=E[0].trace,Y=W.contours,ie=w.hasLines(W),L=w.hasMarkers(W),me=W.visible&&W.fill&&W.fill!=="none",ae=!1,q=!1;if(Y){var fe=Y.coloring;fe==="lines"?ae=!0:ie=fe==="none"||fe==="heatmap"||Y.showlines,Y.type==="constraint"?me=Y._operation!=="=":(fe==="fill"||fe==="heatmap")&&(q=!0)}return{showMarker:L,showLine:ie,showFill:me,showGradientLine:ae,showGradientFill:q,anyLine:ie||ae,anyFill:me||q}}function B(E,W,Y){return E&&y.isArrayOrTypedArray(E)?W:E>Y?Y:E}},2068:function(f,h,u){u(3348),f.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(f,h,u){var p=u(3972),v=u(4875),y=u(1675),b=u(4255),x=u(4031).eraseActiveShape,k=u(1828),C=k._,w=f.exports={};w.toImage={name:"toImage",title:function(E){var W=E._context.toImageButtonOptions||{},Y=W.format||"png";return Y==="png"?C(E,"Download plot as a png"):C(E,"Download plot")},icon:b.camera,click:function(E){var W=E._context.toImageButtonOptions,Y={format:W.format||"png"};k.notifier(C(E,"Taking snapshot - this may take a few seconds"),"long"),Y.format!=="svg"&&k.isIE()&&(k.notifier(C(E,"IE only supports svg.  Changing format to svg."),"long"),Y.format="svg"),["filename","width","height","scale"].forEach(function(ie){ie in W&&(Y[ie]=W[ie])}),p.call("downloadImage",E,Y).then(function(ie){k.notifier(C(E,"Snapshot succeeded")+" - "+ie,"long")}).catch(function(){k.notifier(C(E,"Sorry, there was a problem downloading your snapshot!"),"long")})}},w.sendDataToCloud={name:"sendDataToCloud",title:function(E){return C(E,"Edit in Chart Studio")},icon:b.disk,click:function(E){v.sendDataToCloud(E)}},w.editInChartStudio={name:"editInChartStudio",title:function(E){return C(E,"Edit in Chart Studio")},icon:b.pencil,click:function(E){v.sendDataToCloud(E)}},w.zoom2d={name:"zoom2d",_cat:"zoom",title:function(E){return C(E,"Zoom")},attr:"dragmode",val:"zoom",icon:b.zoombox,click:T},w.pan2d={name:"pan2d",_cat:"pan",title:function(E){return C(E,"Pan")},attr:"dragmode",val:"pan",icon:b.pan,click:T},w.select2d={name:"select2d",_cat:"select",title:function(E){return C(E,"Box Select")},attr:"dragmode",val:"select",icon:b.selectbox,click:T},w.lasso2d={name:"lasso2d",_cat:"lasso",title:function(E){return C(E,"Lasso Select")},attr:"dragmode",val:"lasso",icon:b.lasso,click:T},w.drawclosedpath={name:"drawclosedpath",title:function(E){return C(E,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:b.drawclosedpath,click:T},w.drawopenpath={name:"drawopenpath",title:function(E){return C(E,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:b.drawopenpath,click:T},w.drawline={name:"drawline",title:function(E){return C(E,"Draw line")},attr:"dragmode",val:"drawline",icon:b.drawline,click:T},w.drawrect={name:"drawrect",title:function(E){return C(E,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:b.drawrect,click:T},w.drawcircle={name:"drawcircle",title:function(E){return C(E,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:b.drawcircle,click:T},w.eraseshape={name:"eraseshape",title:function(E){return C(E,"Erase active shape")},icon:b.eraseshape,click:x},w.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(E){return C(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:T},w.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(E){return C(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:T},w.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(E){return C(E,"Autoscale")},attr:"zoom",val:"auto",icon:b.autoscale,click:T},w.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(E){return C(E,"Reset axes")},attr:"zoom",val:"reset",icon:b.home,click:T},w.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(E){return C(E,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:T},w.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(E){return C(E,"Compare data on hover")},attr:"hovermode",val:function(E){return E._fullLayout._isHoriz?"y":"x"},icon:b.tooltip_compare,gravity:"ne",click:T};function T(E,W){var Y=W.currentTarget,ie=Y.getAttribute("data-attr"),L=Y.getAttribute("data-val")||!0,me=E._fullLayout,ae={},q=y.list(E,null,!0),fe=me._cartesianSpikesEnabled,ee,be;if(ie==="zoom"){var Te=L==="in"?.5:2,Be=(1+Te)/2,ge=(1-Te)/2,ne;for(be=0;be<q.length;be++)if(ee=q[be],!ee.fixedrange)if(ne=ee._name,L==="auto")ae[ne+".autorange"]=!0;else if(L==="reset")ee._rangeInitial0===void 0&&ee._rangeInitial1===void 0?ae[ne+".autorange"]=!0:ee._rangeInitial0===void 0?(ae[ne+".autorange"]=ee._autorangeInitial,ae[ne+".range"]=[null,ee._rangeInitial1]):ee._rangeInitial1===void 0?(ae[ne+".range"]=[ee._rangeInitial0,null],ae[ne+".autorange"]=ee._autorangeInitial):ae[ne+".range"]=[ee._rangeInitial0,ee._rangeInitial1],ee._showSpikeInitial!==void 0&&(ae[ne+".showspikes"]=ee._showSpikeInitial,fe==="on"&&!ee._showSpikeInitial&&(fe="off"));else{var pe=[ee.r2l(ee.range[0]),ee.r2l(ee.range[1])],G=[Be*pe[0]+ge*pe[1],Be*pe[1]+ge*pe[0]];ae[ne+".range[0]"]=ee.l2r(G[0]),ae[ne+".range[1]"]=ee.l2r(G[1])}}else ie==="hovermode"&&(L==="x"||L==="y")&&(L=me._isHoriz?"y":"x",Y.setAttribute("data-val",L)),ae[ie]=L;me._cartesianSpikesEnabled=fe,p.call("_guiRelayout",E,ae)}w.zoom3d={name:"zoom3d",_cat:"zoom",title:function(E){return C(E,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:b.zoombox,click:R},w.pan3d={name:"pan3d",_cat:"pan",title:function(E){return C(E,"Pan")},attr:"scene.dragmode",val:"pan",icon:b.pan,click:R},w.orbitRotation={name:"orbitRotation",title:function(E){return C(E,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:b["3d_rotate"],click:R},w.tableRotation={name:"tableRotation",title:function(E){return C(E,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:b["z-axis"],click:R};function R(E,W){for(var Y=W.currentTarget,ie=Y.getAttribute("data-attr"),L=Y.getAttribute("data-val")||!0,me=E._fullLayout._subplots.gl3d||[],ae={},q=ie.split("."),fe=0;fe<me.length;fe++)ae[me[fe]+"."+q[1]]=L;var ee=L==="pan"?L:"zoom";ae.dragmode=ee,p.call("_guiRelayout",E,ae)}w.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(E){return C(E,"Reset camera to default")},attr:"resetDefault",icon:b.home,click:M},w.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(E){return C(E,"Reset camera to last save")},attr:"resetLastSave",icon:b.movie,click:M};function M(E,W){for(var Y=W.currentTarget,ie=Y.getAttribute("data-attr"),L=ie==="resetLastSave",me=ie==="resetDefault",ae=E._fullLayout,q=ae._subplots.gl3d||[],fe={},ee=0;ee<q.length;ee++){var be=q[ee],Te=be+".camera",Be=be+".aspectratio",ge=be+".aspectmode",ne=ae[be]._scene,pe;L?(fe[Te+".up"]=ne.viewInitial.up,fe[Te+".eye"]=ne.viewInitial.eye,fe[Te+".center"]=ne.viewInitial.center,pe=!0):me&&(fe[Te+".up"]=null,fe[Te+".eye"]=null,fe[Te+".center"]=null,pe=!0),pe&&(fe[Be+".x"]=ne.viewInitial.aspectratio.x,fe[Be+".y"]=ne.viewInitial.aspectratio.y,fe[Be+".z"]=ne.viewInitial.aspectratio.z,fe[ge]=ne.viewInitial.aspectmode)}p.call("_guiRelayout",E,fe)}w.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(E){return C(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:V};function I(E,W){var Y=W.currentTarget,ie=Y._previousVal,L=E._fullLayout,me=L._subplots.gl3d||[],ae=["xaxis","yaxis","zaxis"],q={},fe={};if(ie)fe=ie,Y._previousVal=null;else{for(var ee=0;ee<me.length;ee++){var be=me[ee],Te=L[be],Be=be+".hovermode";q[Be]=Te.hovermode,fe[Be]=!1;for(var ge=0;ge<3;ge++){var ne=ae[ge],pe=be+"."+ne+".showspikes";fe[pe]=!1,q[pe]=Te[ne].showspikes}}Y._previousVal=q}return fe}function V(E,W){var Y=I(E,W);p.call("_guiRelayout",E,Y)}w.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(E){return C(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:N},w.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(E){return C(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:N},w.resetGeo={name:"resetGeo",_cat:"reset",title:function(E){return C(E,"Reset")},attr:"reset",val:null,icon:b.autoscale,click:N},w.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(E){return C(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:z};function N(E,W){for(var Y=W.currentTarget,ie=Y.getAttribute("data-attr"),L=Y.getAttribute("data-val")||!0,me=E._fullLayout,ae=me._subplots.geo||[],q=0;q<ae.length;q++){var fe=ae[q],ee=me[fe];if(ie==="zoom"){var be=ee.projection.scale,Te=L==="in"?2*be:.5*be;p.call("_guiRelayout",E,fe+".projection.scale",Te)}}ie==="reset"&&B(E,"geo")}w.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(E){return C(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:z},w.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(E){return C(E,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:z};function F(E){var W=E._fullLayout;return W.hovermode?!1:W._has("cartesian")?W._isHoriz?"y":"x":"closest"}function z(E){var W=F(E);p.call("_guiRelayout",E,"hovermode",W)}w.resetViewSankey={name:"resetSankeyGroup",title:function(E){return C(E,"Reset view")},icon:b.home,click:function(E){for(var W={"node.groups":[],"node.x":[],"node.y":[]},Y=0;Y<E._fullData.length;Y++){var ie=E._fullData[Y]._viewInitial;W["node.groups"].push(ie.node.groups.slice()),W["node.x"].push(ie.node.x.slice()),W["node.y"].push(ie.node.y.slice())}p.call("restyle",E,W)}},w.toggleHover={name:"toggleHover",title:function(E){return C(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:function(E,W){var Y=I(E,W);Y.hovermode=F(E),p.call("_guiRelayout",E,Y)}},w.resetViews={name:"resetViews",title:function(E){return C(E,"Reset views")},icon:b.home,click:function(E,W){var Y=W.currentTarget;Y.setAttribute("data-attr","zoom"),Y.setAttribute("data-val","reset"),T(E,W),Y.setAttribute("data-attr","resetLastSave"),M(E,W),B(E,"geo"),B(E,"mapbox")}},w.toggleSpikelines={name:"toggleSpikelines",title:function(E){return C(E,"Toggle Spike Lines")},icon:b.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(E){var W=E._fullLayout,Y=W._cartesianSpikesEnabled;W._cartesianSpikesEnabled=Y==="on"?"off":"on",p.call("_guiRelayout",E,U(E))}};function U(E){for(var W=E._fullLayout,Y=W._cartesianSpikesEnabled==="on",ie=y.list(E,null,!0),L={},me=0;me<ie.length;me++){var ae=ie[me];L[ae._name+".showspikes"]=Y?!0:ae._showSpikeInitial}return L}w.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(E){return C(E,"Reset view")},attr:"reset",icon:b.home,click:function(E){B(E,"mapbox")}},w.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(E){return C(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:Q},w.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(E){return C(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:Q};function Q(E,W){for(var Y=W.currentTarget,ie=Y.getAttribute("data-val"),L=E._fullLayout,me=L._subplots.mapbox||[],ae=1.05,q={},fe=0;fe<me.length;fe++){var ee=me[fe],be=L[ee].zoom,Te=ie==="in"?ae*be:be/ae;q[ee+".zoom"]=Te}p.call("_guiRelayout",E,q)}function B(E,W){for(var Y=E._fullLayout,ie=Y._subplots[W]||[],L={},me=0;me<ie.length;me++)for(var ae=ie[me],q=Y[ae]._subplot,fe=q.viewInitial,ee=Object.keys(fe),be=0;be<ee.length;be++){var Te=ee[be];L[ae+"."+Te]=fe[Te]}p.call("_guiRelayout",E,L)}},3348:function(f,h,u){var p=u(6023),v=Object.keys(p),y=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],b=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(y),x=[],k=function(C){if(b.indexOf(C._cat||C.name)===-1){var w=C.name,T=(C._cat||C.name).toLowerCase();x.indexOf(w)===-1&&x.push(w),x.indexOf(T)===-1&&x.push(T)}};v.forEach(function(C){k(p[C])}),x.sort(),f.exports={DRAW_MODES:y,backButtons:b,foreButtons:x}},5750:function(f,h,u){var p=u(1828),v=u(7901),y=u(4467),b=u(2068);f.exports=function(k,C){var w=k.modebar||{},T=y.newContainer(C,"modebar");function R(I,V){return p.coerce(w,T,b,I,V)}R("orientation"),R("bgcolor",v.addOpacity(C.paper_bgcolor,.5));var M=v.contrast(v.rgb(C.modebar.bgcolor));R("color",v.addOpacity(M,.3)),R("activecolor",v.addOpacity(M,.7)),R("uirevision",C.uirevision),R("add"),R("remove")}},4168:function(f,h,u){f.exports={moduleType:"component",name:"modebar",layoutAttributes:u(2068),supplyLayoutDefaults:u(5750),manage:u(4192)}},4192:function(f,h,u){var p=u(1675),v=u(4098),y=u(3972),b=u(3469).isUnifiedHover,x=u(7676),k=u(6023),C=u(3348).DRAW_MODES,w=u(1828).extendDeep;f.exports=function(z){var U=z._fullLayout,Q=z._context,B=U._modeBar;if(!Q.displayModeBar&&!Q.watermark){B&&(B.destroy(),delete U._modeBar);return}if(!Array.isArray(Q.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(Q.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var E=Q.modeBarButtons,W;Array.isArray(E)&&E.length?W=N(E):!Q.displayModeBar&&Q.watermark?W=[]:W=T(z),B?B.update(z,W):U._modeBar=x(z,W)};function T(F){var z=F._fullLayout,U=F._fullData,Q=F._context;function B(ue,oe){if(typeof oe=="string"){if(oe.toLowerCase()===ue.toLowerCase())return!0}else{var Se=oe.name,le=oe._cat||oe.name;if(Se===ue||le===ue.toLowerCase())return!0}return!1}var E=z.modebar.add;typeof E=="string"&&(E=[E]);var W=z.modebar.remove;typeof W=="string"&&(W=[W]);var Y=Q.modeBarButtonsToAdd.concat(E.filter(function(ue){for(var oe=0;oe<Q.modeBarButtonsToRemove.length;oe++)if(B(ue,Q.modeBarButtonsToRemove[oe]))return!1;return!0})),ie=Q.modeBarButtonsToRemove.concat(W.filter(function(ue){for(var oe=0;oe<Q.modeBarButtonsToAdd.length;oe++)if(B(ue,Q.modeBarButtonsToAdd[oe]))return!1;return!0})),L=z._has("cartesian"),me=z._has("gl3d"),ae=z._has("geo"),q=z._has("pie"),fe=z._has("funnelarea"),ee=z._has("gl2d"),be=z._has("ternary"),Te=z._has("mapbox"),Be=z._has("polar"),ge=z._has("smith"),ne=z._has("sankey"),pe=R(z),G=b(z.hovermode),Oe=[];function xe(ue){if(ue.length){for(var oe=[],Se=0;Se<ue.length;Se++){for(var le=ue[Se],Ce=k[le],Qe=Ce.name.toLowerCase(),ze=(Ce._cat||Ce.name).toLowerCase(),Xe=!1,ct=0;ct<ie.length;ct++){var pt=ie[ct].toLowerCase();if(pt===Qe||pt===ze){Xe=!0;break}}Xe||oe.push(k[le])}Oe.push(oe)}}var Le=["toImage"];Q.showEditInChartStudio?Le.push("editInChartStudio"):Q.showSendToCloud&&Le.push("sendDataToCloud"),xe(Le);var ke=[],$e=[],Ze=[],De=[];(L||ee||q||fe||be)+ae+me+Te+Be+ge>1?($e=["toggleHover"],Ze=["resetViews"]):ae?(ke=["zoomInGeo","zoomOutGeo"],$e=["hoverClosestGeo"],Ze=["resetGeo"]):me?($e=["hoverClosest3d"],Ze=["resetCameraDefault3d","resetCameraLastSave3d"]):Te?(ke=["zoomInMapbox","zoomOutMapbox"],$e=["toggleHover"],Ze=["resetViewMapbox"]):ee?$e=["hoverClosestGl2d"]:q?$e=["hoverClosestPie"]:ne?($e=["hoverClosestCartesian","hoverCompareCartesian"],Ze=["resetViewSankey"]):$e=["toggleHover"],L&&($e=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(I(U)||G)&&($e=[]),(L||ee)&&!pe&&(ke=["zoomIn2d","zoomOut2d","autoScale2d"],Ze[0]!=="resetViews"&&(Ze=["resetScale2d"])),me?De=["zoom3d","pan3d","orbitRotation","tableRotation"]:(L||ee)&&!pe||be?De=["zoom2d","pan2d"]:Te||ae?De=["pan2d"]:Be&&(De=["zoom2d"]),M(U)&&De.push("select2d","lasso2d");var Ie=[],re=function(ue){Ie.indexOf(ue)===-1&&$e.indexOf(ue)!==-1&&Ie.push(ue)};if(Array.isArray(Y)){for(var ye=[],te=0;te<Y.length;te++){var se=Y[te];typeof se=="string"?(se=se.toLowerCase(),C.indexOf(se)!==-1?(z._has("mapbox")||z._has("cartesian"))&&De.push(se):se==="togglespikelines"?re("toggleSpikelines"):se==="togglehover"?re("toggleHover"):se==="hovercompare"?re("hoverCompareCartesian"):se==="hoverclosest"?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):se==="v1hovermode"&&(re("toggleHover"),re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):ye.push(se)}Y=ye}return xe(De),xe(ke.concat(Ze)),xe(Ie),V(Oe,Y)}function R(F){for(var z=p.list({_fullLayout:F},null,!0),U=0;U<z.length;U++)if(!z[U].fixedrange)return!1;return!0}function M(F){for(var z=!1,U=0;U<F.length&&!z;U++){var Q=F[U];!Q._module||!Q._module.selectPoints||(y.traceIs(Q,"scatter-like")?(v.hasMarkers(Q)||v.hasText(Q))&&(z=!0):y.traceIs(Q,"box-violin")?(Q.boxpoints==="all"||Q.points==="all")&&(z=!0):z=!0)}return z}function I(F){for(var z=0;z<F.length;z++)if(!y.traceIs(F[z],"noHover"))return!1;return!0}function V(F,z){if(z.length)if(Array.isArray(z[0]))for(var U=0;U<z.length;U++)F.push(z[U]);else F.push(z);return F}function N(F){for(var z=w([],F),U=0;U<z.length;U++)for(var Q=z[U],B=0;B<Q.length;B++){var E=Q[B];if(typeof E=="string")if(k[E]!==void 0)z[U][B]=k[E];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return z}},7676:function(f,h,u){var p=u(9898),v=u(2770),y=u(1828),b=u(4255),x=u(1506).version,k=new DOMParser;function C(M){this.container=M.container,this.element=document.createElement("div"),this.update(M.graphInfo,M.buttons),this.container.appendChild(this.element)}var w=C.prototype;w.update=function(M,I){this.graphInfo=M;var V=this.graphInfo._context,N=this.graphInfo._fullLayout,F="modebar-"+N._uid;this.element.setAttribute("id",F),this._uid=F,this.element.className="modebar",V.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),N.modebar.orientation==="v"&&(this.element.className+=" vertical",I=I.reverse());var z=N.modebar,U=V.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";y.deleteRelatedStyleRule(F),y.addRelatedStyleRule(F,U+"#"+F+" .modebar-group","background-color: "+z.bgcolor),y.addRelatedStyleRule(F,"#"+F+" .modebar-btn .icon path","fill: "+z.color),y.addRelatedStyleRule(F,"#"+F+" .modebar-btn:hover .icon path","fill: "+z.activecolor),y.addRelatedStyleRule(F,"#"+F+" .modebar-btn.active .icon path","fill: "+z.activecolor);var Q=!this.hasButtons(I),B=this.hasLogo!==V.displaylogo,E=this.locale!==V.locale;if(this.locale=V.locale,(Q||B||E)&&(this.removeAllButtons(),this.updateButtons(I),V.watermark||V.displaylogo)){var W=this.getLogo();V.watermark&&(W.className=W.className+" watermark"),N.modebar.orientation==="v"?this.element.insertBefore(W,this.element.childNodes[0]):this.element.appendChild(W),this.hasLogo=!0}this.updateActiveButton()},w.updateButtons=function(M){var I=this;this.buttons=M,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(V){var N=I.createGroup();V.forEach(function(F){var z=F.name;if(!z)throw new Error("must provide button 'name' in button config");if(I.buttonsNames.indexOf(z)!==-1)throw new Error("button name '"+z+"' is taken");I.buttonsNames.push(z);var U=I.createButton(F);I.buttonElements.push(U),N.appendChild(U)}),I.element.appendChild(N)})},w.createGroup=function(){var M=document.createElement("div");return M.className="modebar-group",M},w.createButton=function(M){var I=this,V=document.createElement("a");V.setAttribute("rel","tooltip"),V.className="modebar-btn";var N=M.title;N===void 0?N=M.name:typeof N=="function"&&(N=N(this.graphInfo)),(N||N===0)&&V.setAttribute("data-title",N),M.attr!==void 0&&V.setAttribute("data-attr",M.attr);var F=M.val;F!==void 0&&(typeof F=="function"&&(F=F(this.graphInfo)),V.setAttribute("data-val",F));var z=M.click;if(typeof z!="function")throw new Error("must provide button 'click' function in button config");V.addEventListener("click",function(Q){M.click(I.graphInfo,Q),I.updateActiveButton(Q.currentTarget)}),V.setAttribute("data-toggle",M.toggle||!1),M.toggle&&p.select(V).classed("active",!0);var U=M.icon;return typeof U=="function"?V.appendChild(U()):V.appendChild(this.createIcon(U||b.question)),V.setAttribute("data-gravity",M.gravity||"n"),V},w.createIcon=function(M){var I=v(M.height)?Number(M.height):M.ascent-M.descent,V="http://www.w3.org/2000/svg",N;if(M.path){N=document.createElementNS(V,"svg"),N.setAttribute("viewBox",[0,0,M.width,I].join(" ")),N.setAttribute("class","icon");var F=document.createElementNS(V,"path");F.setAttribute("d",M.path),M.transform?F.setAttribute("transform",M.transform):M.ascent!==void 0&&F.setAttribute("transform","matrix(1 0 0 -1 0 "+M.ascent+")"),N.appendChild(F)}if(M.svg){var z=k.parseFromString(M.svg,"application/xml");N=z.childNodes[0]}return N.setAttribute("height","1em"),N.setAttribute("width","1em"),N},w.updateActiveButton=function(M){var I=this.graphInfo._fullLayout,V=M!==void 0?M.getAttribute("data-attr"):null;this.buttonElements.forEach(function(N){var F=N.getAttribute("data-val")||!0,z=N.getAttribute("data-attr"),U=N.getAttribute("data-toggle")==="true",Q=p.select(N);if(U)z===V&&Q.classed("active",!Q.classed("active"));else{var B=z===null?z:y.nestedProperty(I,z).get();Q.classed("active",B===F)}})},w.hasButtons=function(M){var I=this.buttons;if(!I||M.length!==I.length)return!1;for(var V=0;V<M.length;++V){if(M[V].length!==I[V].length)return!1;for(var N=0;N<M[V].length;N++)if(M[V][N].name!==I[V][N].name)return!1}return!0};function T(M){return M+" (v"+x+")"}w.getLogo=function(){var M=this.createGroup(),I=document.createElement("a");return I.href="https://plotly.com/",I.target="_blank",I.setAttribute("data-title",T(y._(this.graphInfo,"Produced with Plotly.js"))),I.className="modebar-btn plotlyjsicon modebar-btn--logo",I.appendChild(this.createIcon(b.newplotlylogo)),M.appendChild(I),M},w.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},w.destroy=function(){y.removeElement(this.container.querySelector(".modebar")),y.deleteRelatedStyleRule(this._uid)};function R(M,I){var V=M._fullLayout,N=new C({graphInfo:M,container:V._modebardiv.node(),buttons:I});return V._privateplot&&p.select(N.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),N}f.exports=R},7113:function(f,h,u){var p=u(1940),v=u(2399),y=u(4467).templatedArray,b=y("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});f.exports={visible:{valType:"boolean",editType:"plot"},buttons:b,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:v.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(f){f.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(f,h,u){var p=u(1828),v=u(7901),y=u(4467),b=u(5501),x=u(7113),k=u(9573);f.exports=function(R,M,I,V,N){var F=R.rangeselector||{},z=y.newContainer(M,"rangeselector");function U(Y,ie){return p.coerce(F,z,x,Y,ie)}var Q=b(F,z,{name:"buttons",handleItemDefaults:C,calendar:N}),B=U("visible",Q.length>0);if(B){var E=w(M,I,V);U("x",E[0]),U("y",E[1]),p.noneOrAll(R,M,["x","y"]),U("xanchor"),U("yanchor"),p.coerceFont(U,"font",I.font);var W=U("bgcolor");U("activecolor",v.contrast(W,k.lightAmount,k.darkAmount)),U("bordercolor"),U("borderwidth")}};function C(T,R,M,I){var V=I.calendar;function N(U,Q){return p.coerce(T,R,x.buttons,U,Q)}var F=N("visible");if(F){var z=N("step");z!=="all"&&(V&&V!=="gregorian"&&(z==="month"||z==="year")?R.stepmode="backward":N("stepmode"),N("count")),N("label")}}function w(T,R,M){for(var I=M.filter(function(z){return R[z].anchor===T._id}),V=0,N=0;N<I.length;N++){var F=R[I[N]].domain;F&&(V=Math.max(F[1],V))}return[T.domain[0],V+k.yPad]}},1598:function(f,h,u){var p=u(9898),v=u(3972),y=u(4875),b=u(7901),x=u(1424),k=u(1828),C=k.strTranslate,w=u(3893),T=u(1675),R=u(8783),M=R.LINE_SPACING,I=R.FROM_TL,V=R.FROM_BR,N=u(9573),F=u(7917);f.exports=function(me){var ae=me._fullLayout,q=ae._infolayer.selectAll(".rangeselector").data(z(me),U);q.enter().append("g").classed("rangeselector",!0),q.exit().remove(),q.style({cursor:"pointer","pointer-events":"all"}),q.each(function(fe){var ee=p.select(this),be=fe,Te=be.rangeselector,Be=ee.selectAll("g.button").data(k.filterVisible(Te.buttons));Be.enter().append("g").classed("button",!0),Be.exit().remove(),Be.each(function(ge){var ne=p.select(this),pe=F(be,ge);ge._isActive=Q(be,ge,pe),ne.call(B,Te,ge),ne.call(W,Te,ge,me),ne.on("click",function(){me._dragged||v.call("_guiRelayout",me,pe)}),ne.on("mouseover",function(){ge._isHovered=!0,ne.call(B,Te,ge)}),ne.on("mouseout",function(){ge._isHovered=!1,ne.call(B,Te,ge)})}),ie(me,Be,Te,be._name,ee)})};function z(L){for(var me=T.list(L,"x",!0),ae=[],q=0;q<me.length;q++){var fe=me[q];fe.rangeselector&&fe.rangeselector.visible&&ae.push(fe)}return ae}function U(L){return L._id}function Q(L,me,ae){if(me.step==="all")return L.autorange===!0;var q=Object.keys(ae);return L.range[0]===ae[q[0]]&&L.range[1]===ae[q[1]]}function B(L,me,ae){var q=k.ensureSingle(L,"rect","selector-rect",function(fe){fe.attr("shape-rendering","crispEdges")});q.attr({rx:N.rx,ry:N.ry}),q.call(b.stroke,me.bordercolor).call(b.fill,E(me,ae)).style("stroke-width",me.borderwidth+"px")}function E(L,me){return me._isActive||me._isHovered?L.activecolor:L.bgcolor}function W(L,me,ae,q){function fe(be){w.convertToTspans(be,q)}var ee=k.ensureSingle(L,"text","selector-text",function(be){be.attr("text-anchor","middle")});ee.call(x.font,me.font).text(Y(ae,q._fullLayout._meta)).call(fe)}function Y(L,me){return L.label?me?k.templateString(L.label,me):L.label:L.step==="all"?"all":L.count+L.step.charAt(0)}function ie(L,me,ae,q,fe){var ee=0,be=0,Te=ae.borderwidth;me.each(function(){var Oe=p.select(this),xe=Oe.select(".selector-text"),Le=ae.font.size*M,ke=Math.max(Le*w.lineCount(xe),16)+3;be=Math.max(be,ke)}),me.each(function(){var Oe=p.select(this),xe=Oe.select(".selector-rect"),Le=Oe.select(".selector-text"),ke=Le.node()&&x.bBox(Le.node()).width,$e=ae.font.size*M,Ze=w.lineCount(Le),De=Math.max(ke+10,N.minButtonWidth);Oe.attr("transform",C(Te+ee,Te)),xe.attr({x:0,y:0,width:De,height:be}),w.positionText(Le,De/2,be/2-(Ze-1)*$e/2+3),ee+=De+5});var Be=L._fullLayout._size,ge=Be.l+Be.w*ae.x,ne=Be.t+Be.h*(1-ae.y),pe="left";k.isRightAnchor(ae)&&(ge-=ee,pe="right"),k.isCenterAnchor(ae)&&(ge-=ee/2,pe="center");var G="top";k.isBottomAnchor(ae)&&(ne-=be,G="bottom"),k.isMiddleAnchor(ae)&&(ne-=be/2,G="middle"),ee=Math.ceil(ee),be=Math.ceil(be),ge=Math.round(ge),ne=Math.round(ne),y.autoMargin(L,q+"-range-selector",{x:ae.x,y:ae.y,l:ee*I[pe],r:ee*V[pe],b:be*V[G],t:be*I[G]}),fe.attr("transform",C(ge,ne))}},7917:function(f,h,u){var p=u(1041),v=u(1828).titleCase;f.exports=function(x,k){var C=x._name,w={};if(k.step==="all")w[C+".autorange"]=!0;else{var T=y(x,k);w[C+".range[0]"]=T[0],w[C+".range[1]"]=T[1]}return w};function y(b,x){var k=b.range,C=new Date(b.r2l(k[1])),w=x.step,T=p["utc"+v(w)],R=x.count,M;switch(x.stepmode){case"backward":M=b.l2r(+T.offset(C,-R));break;case"todate":var I=T.offset(C,-R);M=b.l2r(+T.ceil(I));break}var V=k[1];return[M,V]}},7218:function(f,h,u){f.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:u(7113)}}},layoutAttributes:u(7113),handleDefaults:u(8674),draw:u(1598)}},5148:function(f,h,u){var p=u(2399);f.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(f,h,u){var p=u(1675).list,v=u(1739).getAutoRange,y=u(3251);f.exports=function(x){for(var k=p(x,"x",!0),C=0;C<k.length;C++){var w=k[C],T=w[y.name];T&&T.visible&&T.autorange&&(T._input.autorange=!0,T._input.range=T.range=v(x,w))}}},3251:function(f){f.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(f,h,u){var p=u(1828),v=u(4467),y=u(1675),b=u(5148),x=u(7850);f.exports=function(C,w,T){var R=C[T],M=w[T];if(!(R.rangeslider||w._requestRangeslider[M._id]))return;p.isPlainObject(R.rangeslider)||(R.rangeslider={});var I=R.rangeslider,V=v.newContainer(M,"rangeslider");function N(q,fe){return p.coerce(I,V,b,q,fe)}var F,z;function U(q,fe){return p.coerce(F,z,x,q,fe)}var Q=N("visible");if(Q){N("bgcolor",w.plot_bgcolor),N("bordercolor"),N("borderwidth"),N("thickness"),N("autorange",!M.isValidRange(I.range)),N("range");var B=w._subplots;if(B)for(var E=B.cartesian.filter(function(q){return q.substr(0,q.indexOf("y"))===y.name2id(T)}).map(function(q){return q.substr(q.indexOf("y"),q.length)}),W=p.simpleMap(E,y.id2name),Y=0;Y<W.length;Y++){var ie=W[Y];F=I[ie]||{},z=v.newContainer(V,ie,"yaxis");var L=w[ie],me;F.range&&L.isValidRange(F.range)&&(me="fixed");var ae=U("rangemode",me);ae!=="match"&&U("range",L.range.slice())}V._input=I}}},2413:function(f,h,u){var p=u(9898),v=u(3972),y=u(4875),b=u(1828),x=b.strTranslate,k=u(1424),C=u(7901),w=u(2998),T=u(3612),R=u(1675),M=u(8569),I=u(6964),V=u(3251);f.exports=function(L){for(var me=L._fullLayout,ae=me._rangeSliderData,q=0;q<ae.length;q++){var fe=ae[q][V.name];fe._clipId=fe._id+"-"+me._uid}function ee(Te){return Te._name}var be=me._infolayer.selectAll("g."+V.containerClassName).data(ae,ee);be.exit().each(function(Te){var Be=Te[V.name];me._topdefs.select("#"+Be._clipId).remove()}).remove(),ae.length!==0&&(be.enter().append("g").classed(V.containerClassName,!0).attr("pointer-events","all"),be.each(function(Te){var Be=p.select(this),ge=Te[V.name],ne=me[R.id2name(Te.anchor)],pe=ge[R.id2name(Te.anchor)];if(ge.range){var G=b.simpleMap(ge.range,Te.r2l),Oe=b.simpleMap(Te.range,Te.r2l),xe;Oe[0]<Oe[1]?xe=[Math.min(G[0],Oe[0]),Math.max(G[1],Oe[1])]:xe=[Math.max(G[0],Oe[0]),Math.min(G[1],Oe[1])],ge.range=ge._input.range=b.simpleMap(xe,Te.l2r)}Te.cleanRange("rangeslider.range");var Le=me._size,ke=Te.domain;ge._width=Le.w*(ke[1]-ke[0]);var $e=Math.round(Le.l+Le.w*ke[0]),Ze=Math.round(Le.t+Le.h*(1-Te._counterDomainMin)+(Te.side==="bottom"?Te._depth:0)+ge._offsetShift+V.extraPad);Be.attr("transform",x($e,Ze)),ge._rl=b.simpleMap(ge.range,Te.r2l);var De=ge._rl[0],Ie=ge._rl[1],re=Ie-De;if(ge.p2d=function(ze){return ze/ge._width*re+De},ge.d2p=function(ze){return(ze-De)/re*ge._width},Te.rangebreaks){var ye=Te.locateBreaks(De,Ie);if(ye.length){var te,se,ue=0;for(te=0;te<ye.length;te++)se=ye[te],ue+=se.max-se.min;var oe=ge._width/(Ie-De-ue),Se=[-oe*De];for(te=0;te<ye.length;te++)se=ye[te],Se.push(Se[Se.length-1]-oe*(se.max-se.min));for(ge.d2p=function(ze){for(var Xe=Se[0],ct=0;ct<ye.length;ct++){var pt=ye[ct];if(ze>=pt.max)Xe=Se[ct+1];else if(ze<pt.min)break}return Xe+oe*ze},te=0;te<ye.length;te++)se=ye[te],se.pmin=ge.d2p(se.min),se.pmax=ge.d2p(se.max);ge.p2d=function(ze){for(var Xe=Se[0],ct=0;ct<ye.length;ct++){var pt=ye[ct];if(ze>=pt.pmax)Xe=Se[ct+1];else if(ze<pt.pmin)break}return(ze-Xe)/oe}}}if(pe.rangemode!=="match"){var le=ne.r2l(pe.range[0]),Ce=ne.r2l(pe.range[1]),Qe=Ce-le;ge.d2pOppAxis=function(ze){return(ze-le)/Qe*ge._height}}Be.call(U,L,Te,ge).call(Q,L,Te,ge).call(B,L,Te,ge).call(W,L,Te,ge,pe).call(Y,L,Te,ge).call(ie,L,Te,ge),N(Be,L,Te,ge),z(Be,L,Te,ge,ne,pe),Te.side==="bottom"&&w.draw(L,Te._id+"title",{propContainer:Te,propName:Te._name+".title",placeholder:me._dfltTitle.x,attributes:{x:Te._offset+Te._length/2,y:Ze+ge._height+ge._offsetShift+10+1.5*Te.title.font.size,"text-anchor":"middle"}})}))};function N(L,me,ae,q){if(me._context.staticPlot)return;var fe=L.select("rect."+V.slideBoxClassName).node(),ee=L.select("rect."+V.grabAreaMinClassName).node(),be=L.select("rect."+V.grabAreaMaxClassName).node();function Te(){var Be=p.event,ge=Be.target,ne=Be.clientX||Be.touches[0].clientX,pe=ne-L.node().getBoundingClientRect().left,G=q.d2p(ae._rl[0]),Oe=q.d2p(ae._rl[1]),xe=M.coverSlip();this.addEventListener("touchmove",Le),this.addEventListener("touchend",ke),xe.addEventListener("mousemove",Le),xe.addEventListener("mouseup",ke);function Le($e){var Ze=$e.clientX||$e.touches[0].clientX,De=+Ze-ne,Ie,re,ye;switch(ge){case fe:if(ye="ew-resize",G+De>ae._length||Oe+De<0)return;Ie=G+De,re=Oe+De;break;case ee:if(ye="col-resize",G+De>ae._length)return;Ie=G+De,re=Oe;break;case be:if(ye="col-resize",Oe+De<0)return;Ie=G,re=Oe+De;break;default:ye="ew-resize",Ie=pe,re=pe+De;break}if(re<Ie){var te=re;re=Ie,Ie=te}q._pixelMin=Ie,q._pixelMax=re,I(p.select(xe),ye),F(L,me,ae,q)}function ke(){xe.removeEventListener("mousemove",Le),xe.removeEventListener("mouseup",ke),this.removeEventListener("touchmove",Le),this.removeEventListener("touchend",ke),b.removeElement(xe)}}L.on("mousedown",Te),L.on("touchstart",Te)}function F(L,me,ae,q){function fe(Te){return ae.l2r(b.constrain(Te,q._rl[0],q._rl[1]))}var ee=fe(q.p2d(q._pixelMin)),be=fe(q.p2d(q._pixelMax));window.requestAnimationFrame(function(){v.call("_guiRelayout",me,ae._name+".range",[ee,be])})}function z(L,me,ae,q,fe,ee){var be=V.handleWidth/2;function Te($e){return b.constrain($e,0,q._width)}function Be($e){return b.constrain($e,0,q._height)}function ge($e){return b.constrain($e,-be,q._width+be)}var ne=Te(q.d2p(ae._rl[0])),pe=Te(q.d2p(ae._rl[1]));if(L.select("rect."+V.slideBoxClassName).attr("x",ne).attr("width",pe-ne),L.select("rect."+V.maskMinClassName).attr("width",ne),L.select("rect."+V.maskMaxClassName).attr("x",pe).attr("width",q._width-pe),ee.rangemode!=="match"){var G=q._height-Be(q.d2pOppAxis(fe._rl[1])),Oe=q._height-Be(q.d2pOppAxis(fe._rl[0]));L.select("rect."+V.maskMinOppAxisClassName).attr("x",ne).attr("height",G).attr("width",pe-ne),L.select("rect."+V.maskMaxOppAxisClassName).attr("x",ne).attr("y",Oe).attr("height",q._height-Oe).attr("width",pe-ne),L.select("rect."+V.slideBoxClassName).attr("y",G).attr("height",Oe-G)}var xe=.5,Le=Math.round(ge(ne-be))-xe,ke=Math.round(ge(pe-be))+xe;L.select("g."+V.grabberMinClassName).attr("transform",x(Le,xe)),L.select("g."+V.grabberMaxClassName).attr("transform",x(ke,xe))}function U(L,me,ae,q){var fe=b.ensureSingle(L,"rect",V.bgClassName,function(Be){Be.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),ee=q.borderwidth%2===0?q.borderwidth:q.borderwidth-1,be=-q._offsetShift,Te=k.crispRound(me,q.borderwidth);fe.attr({width:q._width+ee,height:q._height+ee,transform:x(be,be),"stroke-width":Te}).call(C.stroke,q.bordercolor).call(C.fill,q.bgcolor)}function Q(L,me,ae,q){var fe=me._fullLayout,ee=b.ensureSingleById(fe._topdefs,"clipPath",q._clipId,function(be){be.append("rect").attr({x:0,y:0})});ee.select("rect").attr({width:q._width,height:q._height})}function B(L,me,ae,q){var fe=me.calcdata,ee=L.selectAll("g."+V.rangePlotClassName).data(ae._subplotsWith,b.identity);ee.enter().append("g").attr("class",function(Te){return V.rangePlotClassName+" "+Te}).call(k.setClipUrl,q._clipId,me),ee.order(),ee.exit().remove();var be;ee.each(function(Te,Be){var ge=p.select(this),ne=Be===0,pe=R.getFromId(me,Te,"y"),G=pe._name,Oe=q[G],xe={data:[],layout:{xaxis:{type:ae.type,domain:[0,1],range:q.range.slice(),calendar:ae.calendar},width:q._width,height:q._height,margin:{t:0,b:0,l:0,r:0}},_context:me._context};ae.rangebreaks&&(xe.layout.xaxis.rangebreaks=ae.rangebreaks),xe.layout[G]={type:pe.type,domain:[0,1],range:Oe.rangemode!=="match"?Oe.range.slice():pe.range.slice(),calendar:pe.calendar},pe.rangebreaks&&(xe.layout[G].rangebreaks=pe.rangebreaks),y.supplyDefaults(xe);var Le=xe._fullLayout.xaxis,ke=xe._fullLayout[G];Le.clearCalc(),Le.setScale(),ke.clearCalc(),ke.setScale();var $e={id:Te,plotgroup:ge,xaxis:Le,yaxis:ke,isRangePlot:!0};ne?be=$e:($e.mainplot="xy",$e.mainplotinfo=be),T.rangePlot(me,$e,E(fe,Te))})}function E(L,me){for(var ae=[],q=0;q<L.length;q++){var fe=L[q],ee=fe[0].trace;ee.xaxis+ee.yaxis===me&&ae.push(fe)}return ae}function W(L,me,ae,q,fe){var ee=b.ensureSingle(L,"rect",V.maskMinClassName,function(ge){ge.attr({x:0,y:0,"shape-rendering":"crispEdges"})});ee.attr("height",q._height).call(C.fill,V.maskColor);var be=b.ensureSingle(L,"rect",V.maskMaxClassName,function(ge){ge.attr({y:0,"shape-rendering":"crispEdges"})});if(be.attr("height",q._height).call(C.fill,V.maskColor),fe.rangemode!=="match"){var Te=b.ensureSingle(L,"rect",V.maskMinOppAxisClassName,function(ge){ge.attr({y:0,"shape-rendering":"crispEdges"})});Te.attr("width",q._width).call(C.fill,V.maskOppAxisColor);var Be=b.ensureSingle(L,"rect",V.maskMaxOppAxisClassName,function(ge){ge.attr({y:0,"shape-rendering":"crispEdges"})});Be.attr("width",q._width).style("border-top",V.maskOppBorder).call(C.fill,V.maskOppAxisColor)}}function Y(L,me,ae,q){if(!me._context.staticPlot){var fe=b.ensureSingle(L,"rect",V.slideBoxClassName,function(ee){ee.attr({y:0,cursor:V.slideBoxCursor,"shape-rendering":"crispEdges"})});fe.attr({height:q._height,fill:V.slideBoxFill})}}function ie(L,me,ae,q){var fe=b.ensureSingle(L,"g",V.grabberMinClassName),ee=b.ensureSingle(L,"g",V.grabberMaxClassName),be={x:0,width:V.handleWidth,rx:V.handleRadius,fill:C.background,stroke:C.defaultLine,"stroke-width":V.handleStrokeWidth,"shape-rendering":"crispEdges"},Te={y:Math.round(q._height/4),height:Math.round(q._height/2)},Be=b.ensureSingle(fe,"rect",V.handleMinClassName,function(Oe){Oe.attr(be)});Be.attr(Te);var ge=b.ensureSingle(ee,"rect",V.handleMaxClassName,function(Oe){Oe.attr(be)});ge.attr(Te);var ne={width:V.grabAreaWidth,x:0,y:0,fill:V.grabAreaFill,cursor:me._context.staticPlot?void 0:V.grabAreaCursor},pe=b.ensureSingle(fe,"rect",V.grabAreaMinClassName,function(Oe){Oe.attr(ne)});pe.attr("height",q._height);var G=b.ensureSingle(ee,"rect",V.grabAreaMaxClassName,function(Oe){Oe.attr(ne)});G.attr("height",q._height)}},549:function(f,h,u){var p=u(1675),v=u(3893),y=u(3251),b=u(8783).LINE_SPACING,x=y.name;function k(C){var w=C&&C[x];return w&&w.visible}h.isVisible=k,h.makeData=function(C){var w=p.list({_fullLayout:C},"x",!0),T=C.margin,R=[];if(!C._has("gl2d"))for(var M=0;M<w.length;M++){var I=w[M];if(k(I)){R.push(I);var V=I[x];V._id=x+I._id,V._height=(C.height-T.b-T.t)*V.thickness,V._offsetShift=Math.floor(V.borderwidth/2)}}C._rangeSliderData=R},h.autoMarginOpts=function(C,w){var T=C._fullLayout,R=w[x],M=w._id.charAt(0),I=0,V=0;if(w.side==="bottom"&&(I=w._depth,w.title.text!==T._dfltTitle[M])){V=1.5*w.title.font.size+10+R._offsetShift;var N=(w.title.text.match(v.BR_TAG_ALL)||[]).length;V+=N*w.title.font.size*b}return{x:0,y:w._counterDomainMin,l:0,r:0,t:0,b:R._height+I+Math.max(T.margin.b,V),pad:y.extraPad+R._offsetShift*2}}},3137:function(f,h,u){var p=u(1828),v=u(5148),y=u(7850),b=u(549);f.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},v,{yaxis:y})}}},layoutAttributes:u(5148),handleDefaults:u(6377),calcAutorange:u(8443),draw:u(2413),isVisible:b.isVisible,makeData:b.makeData,autoMarginOpts:b.autoMarginOpts}},7850:function(f){f.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(f,h,u){var p=u(215),v=u(2196).line,y=u(9952).P,b=u(1426).extendFlat,x=u(962).overrideAll,k=u(4467).templatedArray;u(4695),f.exports=x(k("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:b({},p.xref,{}),yref:b({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:v.color,width:b({},v.width,{min:1,dflt:1}),dash:b({},y,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(f){f.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(f,h,u){var p=u(1828),v=u(9298),y=u(5501),b=u(8389),x=u(477);f.exports=function(w,T){y(w,T,{name:"selections",handleItemDefaults:k});for(var R=T.selections,M=0;M<R.length;M++){var I=R[M];I&&I.path===void 0&&(I.x0===void 0||I.x1===void 0||I.y0===void 0||I.y1===void 0)&&(T.selections[M]=null)}};function k(C,w,T){function R(ee,be){return p.coerce(C,w,b,ee,be)}var M=R("path"),I=M?"path":"rect",V=R("type",I),N=V!=="path";N&&delete w.path,R("opacity"),R("line.color"),R("line.width"),R("line.dash");for(var F=["x","y"],z=0;z<2;z++){var U=F[z],Q={_fullLayout:T},B,E,W,Y=v.coerceRef(C,w,Q,U);if(B=v.getFromId(Q,Y),B._selectionIndices.push(w._index),W=x.rangeToShapePosition(B),E=x.shapePositionToRange(B),N){var ie=U+"0",L=U+"1",me=C[ie],ae=C[L];C[ie]=E(C[ie],!0),C[L]=E(C[L],!0),v.coercePosition(w,Q,R,Y,ie),v.coercePosition(w,Q,R,Y,L);var q=w[ie],fe=w[L];q!==void 0&&fe!==void 0&&(w[ie]=W(q),w[L]=W(fe),C[ie]=me,C[L]=ae)}}N&&p.noneOrAll(C,w,["x0","x1","y0","y1"])}},2485:function(f,h,u){var p=u(165).readPaths,v=u(2359),y=u(1873).clearOutlineControllers,b=u(7901),x=u(1424),k=u(4467).arrayEditor,C=u(477),w=C.getPathString;f.exports={draw:T,drawOne:M,activateLastSelection:N};function T(z){var U=z._fullLayout;y(z),U._selectionLayer.selectAll("path").remove();for(var Q in U._plots){var B=U._plots[Q].selectionLayer;B&&B.selectAll("path").remove()}for(var E=0;E<U.selections.length;E++)M(z,E)}function R(z){return z._context.editSelection}function M(z,U){z._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+U+'"]').remove();var Q=C.makeSelectionsOptionsAndPlotinfo(z,U),B=Q.options,E=Q.plotinfo;if(!B._input)return;W(z._fullLayout._selectionLayer);function W(Y){var ie=w(z,B),L={"data-index":U,"fill-rule":"evenodd",d:ie},me=B.opacity,ae="rgba(0,0,0,0)",q=B.line.color||b.contrast(z._fullLayout.plot_bgcolor),fe=B.line.width,ee=B.line.dash;fe||(fe=5,ee="solid");var be=R(z)&&z._fullLayout._activeSelectionIndex===U;be&&(ae=z._fullLayout.activeselection.fillcolor,me=z._fullLayout.activeselection.opacity);for(var Te=[],Be=1;Be>=0;Be--){var ge=Y.append("path").attr(L).style("opacity",Be?.1:me).call(b.stroke,q).call(b.fill,ae).call(x.dashLine,Be?"solid":ee,Be?4+fe:fe);if(I(ge,z,B),be){var ne=k(z.layout,"selections",B);ge.style({cursor:"move"});var pe={element:ge.node(),plotinfo:E,gd:z,editHelpers:ne,isActiveSelection:!0},G=p(ie,z);v(G,ge,pe)}else ge.style("pointer-events",Be?"all":"none");Te[Be]=ge}var Oe=Te[0],xe=Te[1];xe.node().addEventListener("click",function(){return V(z,Oe)})}}function I(z,U,Q){var B=Q.xref+Q.yref;x.setClipUrl(z,"clip"+U._fullLayout._uid+B,U)}function V(z,U){if(R(z)){var Q=U.node(),B=+Q.getAttribute("data-index");if(B>=0){if(B===z._fullLayout._activeSelectionIndex){F(z);return}z._fullLayout._activeSelectionIndex=B,z._fullLayout._deactivateSelection=F,T(z)}}}function N(z){if(R(z)){var U=z._fullLayout.selections.length-1;z._fullLayout._activeSelectionIndex=U,z._fullLayout._deactivateSelection=F,T(z)}}function F(z){if(R(z)){var U=z._fullLayout._activeSelectionIndex;U>=0&&(y(z),delete z._fullLayout._activeSelectionIndex,T(z))}}},3777:function(f,h,u){var p=u(9952).P,v=u(1426).extendFlat;f.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:v({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(f){f.exports=function(u,p,v){v("newselection.mode");var y=v("newselection.line.width");y&&(v("newselection.line.color"),v("newselection.line.dash")),v("activeselection.fillcolor"),v("activeselection.opacity")}},5855:function(f,h,u){var p=u(4505),v=p.selectMode,y=u(1873),b=y.clearOutline,x=u(165),k=x.readPaths,C=x.writePaths,w=x.fixDatesForPaths;f.exports=function(R,M){if(R.length){var I=R[0][0];if(I){var V=I.getAttribute("d"),N=M.gd,F=N._fullLayout.newselection,z=M.plotinfo,U=z.xaxis,Q=z.yaxis,B=M.isActiveSelection,E=M.dragmode,W=(N.layout||{}).selections||[];if(!v(E)&&B!==void 0){var Y=N._fullLayout._activeSelectionIndex;if(Y<W.length)switch(N._fullLayout.selections[Y].type){case"rect":E="select";break;case"path":E="lasso";break}}var ie=k(V,N,z,B),L={xref:U._id,yref:Q._id,opacity:F.opacity,line:{color:F.line.color,width:F.line.width,dash:F.line.dash}},me;ie.length===1&&(me=ie[0]),me&&me.length===5&&E==="select"?(L.type="rect",L.x0=me[0][1],L.y0=me[0][2],L.x1=me[2][1],L.y1=me[2][2]):(L.type="path",U&&Q&&w(ie,U,Q),L.path=C(ie),me=null),b(N);for(var ae=M.editHelpers,q=(ae||{}).modifyItem,fe=[],ee=0;ee<W.length;ee++){var be=N._fullLayout.selections[ee];if(!be){fe[ee]=be;continue}if(fe[ee]=be._input,B!==void 0&&ee===N._fullLayout._activeSelectionIndex){var Te=L;switch(be.type){case"rect":q("x0",Te.x0),q("x1",Te.x1),q("y0",Te.y0),q("y1",Te.y1);break;case"path":q("path",Te.path);break}}}return B===void 0?(fe.push(L),fe):ae?ae.getUpdateObj():{}}}}},5549:function(f,h,u){var p=u(1828).strTranslate;function v(k,C){switch(k.type){case"log":return k.p2d(C);case"date":return k.p2r(C,0,k.calendar);default:return k.p2r(C)}}function y(k,C){switch(k.type){case"log":return k.d2p(C);case"date":return k.r2p(C,0,k.calendar);default:return k.r2p(C)}}function b(k){var C=k._id.charAt(0)==="y"?1:0;return function(w){return v(k,w[C])}}function x(k){return p(k.xaxis._offset,k.yaxis._offset)}f.exports={p2r:v,r2p:y,axValue:b,getTransform:x}},7322:function(f,h,u){var p=u(2485),v=u(3937);f.exports={moduleType:"component",name:"selections",layoutAttributes:u(8389),supplyLayoutDefaults:u(9402),supplyDrawNewSelectionDefaults:u(849),includeBasePlot:u(6325)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:v.reselect,prepSelect:v.prepSelect,clearOutline:v.clearOutline,clearSelectionsCache:v.clearSelectionsCache,selectOnClick:v.selectOnClick}},3937:function(f,h,u){var p=u(2142),v=u(8258),y=u(3972),b=u(1424).dashStyle,x=u(7901),k=u(211),C=u(3469).makeEventData,w=u(4505),T=w.freeMode,R=w.rectMode,M=w.drawMode,I=w.openMode,V=w.selectMode,N=u(477),F=u(1459),z=u(2359),U=u(1873).clearOutline,Q=u(165),B=Q.handleEllipse,E=Q.readPaths,W=u(551).newShapes,Y=u(5855),ie=u(2485).activateLastSelection,L=u(1828),me=L.sorterAsc,ae=u(1082),q=u(9990),fe=u(1675).getFromId,ee=u(3306),be=u(1549).redrawReglTraces,Te=u(4122),Be=Te.MINSELECT,ge=ae.filter,ne=ae.tester,pe=u(5549),G=pe.p2r,Oe=pe.axValue,xe=pe.getTransform;function Le(it){return it.subplot!==void 0}function ke(it,ut,xt,gt,Dt){var He=!Le(gt),at=T(Dt),dt=R(Dt),mt=I(Dt),Tt=M(Dt),Pt=V(Dt),dn=Dt==="drawline",nn=Dt==="drawcircle",Wt=dn||nn,Rt=gt.gd,fn=Rt._fullLayout,Hn=Pt&&fn.newselection.mode==="immediate"&&He,nr=fn._zoomlayer,Er=gt.element.getBoundingClientRect(),zt=gt.plotinfo,vr=xe(zt),Wn=ut-Er.left,Br=xt-Er.top;fn._calcInverseTransform(Rt);var kr=L.apply3DTransform(fn._invTransform)(Wn,Br);Wn=kr[0],Br=kr[1];var or=fn._invScaleX,jr=fn._invScaleY,_r=Wn,Rn=Br,xr="M"+Wn+","+Br,sr=gt.xaxes[0],Sr=gt.yaxes[0],ao=sr._length,Oo=Sr._length,wr=it.altKey&&!(M(Dt)&&mt),Fe,Ee,St,Ct,Lt,Ft,Ht;ye(it,Rt,gt),at&&(Fe=ge([[Wn,Br]],Te.BENDPX));var $t=nr.selectAll("path.select-outline-"+zt.id).data([1]),Mt=Tt?fn.newshape:fn.newselection;Tt&&(gt.hasText=Mt.label.text||Mt.label.texttemplate);var en=Tt&&!mt?Mt.fillcolor:"rgba(0,0,0,0)",un=Mt.line.color||(He?x.contrast(Rt._fullLayout.plot_bgcolor):"#7f7f7f");$t.enter().append("path").attr("class","select-outline select-outline-"+zt.id).style({opacity:Tt?Mt.opacity/2:1,"stroke-dasharray":b(Mt.line.dash,Mt.line.width),"stroke-width":Mt.line.width+"px","shape-rendering":"crispEdges"}).call(x.stroke,un).call(x.fill,en).attr("fill-rule","evenodd").classed("cursor-move",!!Tt).attr("transform",vr).attr("d",xr+"Z");var Jt=nr.append("path").attr("class","zoombox-corners").style({fill:x.background,stroke:x.defaultLine,"stroke-width":1}).attr("transform",vr).attr("d","M0,0Z");if(Tt&&gt.hasText){var rn=nr.select(".label-temp");rn.empty()&&(rn=nr.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Tn=fn._uid+Te.SELECTID,On=[],pn=Se(Rt,gt.xaxes,gt.yaxes,gt.subplot);Hn&&!it.shiftKey&&(gt._clearSubplotSelections=function(){if(He){var Fn=sr._id,zr=Sr._id;Gt(Rt,Fn,zr,pn);for(var dr=(Rt.layout||{}).selections||[],Hr=[],ar=!1,ur=0;ur<dr.length;ur++){var qr=fn.selections[ur];qr.xref!==Fn||qr.yref!==zr?Hr.push(dr[ur]):ar=!0}ar&&(Rt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Rt,{selections:Hr}))}});var Jn=wn(gt);gt.moveFn=function(Fn,zr){gt._clearSubplotSelections&&(gt._clearSubplotSelections(),gt._clearSubplotSelections=void 0),_r=Math.max(0,Math.min(ao,or*Fn+Wn)),Rn=Math.max(0,Math.min(Oo,jr*zr+Br));var dr=Math.abs(_r-Wn),Hr=Math.abs(Rn-Br);if(dt){var ar,ur,qr;if(Pt){var to=fn.selectdirection;switch(to==="any"?Hr<Math.min(dr*.6,Be)?ar="h":dr<Math.min(Hr*.6,Be)?ar="v":ar="d":ar=to,ar){case"h":ur=nn?Oo/2:0,qr=Oo;break;case"v":ur=nn?ao/2:0,qr=ao;break}}if(Tt)switch(fn.newshape.drawdirection){case"vertical":ar="h",ur=nn?Oo/2:0,qr=Oo;break;case"horizontal":ar="v",ur=nn?ao/2:0,qr=ao;break;case"ortho":dr<Hr?(ar="h",ur=Br,qr=Rn):(ar="v",ur=Wn,qr=_r);break;default:ar="d"}ar==="h"?(Ct=Wt?B(nn,[_r,ur],[_r,qr]):[[Wn,ur],[Wn,qr],[_r,qr],[_r,ur]],Ct.xmin=Wt?_r:Math.min(Wn,_r),Ct.xmax=Wt?_r:Math.max(Wn,_r),Ct.ymin=Math.min(ur,qr),Ct.ymax=Math.max(ur,qr),Jt.attr("d","M"+Ct.xmin+","+(Br-Be)+"h-4v"+2*Be+"h4ZM"+(Ct.xmax-1)+","+(Br-Be)+"h4v"+2*Be+"h-4Z")):ar==="v"?(Ct=Wt?B(nn,[ur,Rn],[qr,Rn]):[[ur,Br],[ur,Rn],[qr,Rn],[qr,Br]],Ct.xmin=Math.min(ur,qr),Ct.xmax=Math.max(ur,qr),Ct.ymin=Wt?Rn:Math.min(Br,Rn),Ct.ymax=Wt?Rn:Math.max(Br,Rn),Jt.attr("d","M"+(Wn-Be)+","+Ct.ymin+"v-4h"+2*Be+"v4ZM"+(Wn-Be)+","+(Ct.ymax-1)+"v4h"+2*Be+"v-4Z")):ar==="d"&&(Ct=Wt?B(nn,[Wn,Br],[_r,Rn]):[[Wn,Br],[Wn,Rn],[_r,Rn],[_r,Br]],Ct.xmin=Math.min(Wn,_r),Ct.xmax=Math.max(Wn,_r),Ct.ymin=Math.min(Br,Rn),Ct.ymax=Math.max(Br,Rn),Jt.attr("d","M0,0Z"))}else at&&(Fe.addPt([_r,Rn]),Ct=Fe.filtered);if(gt.selectionDefs&&gt.selectionDefs.length?(St=je(gt.mergedPolygons,Ct,wr),Ct.subtract=wr,Ee=re(gt.selectionDefs.concat([Ct]))):(St=[Ct],Ee=ne(Ct)),z(yt(St,mt),$t,gt),Pt){var ko=tt(Rt,!1),Es=ko.eventData?ko.eventData.points.slice():[];ko=tt(Rt,!1,Ee,pn,gt),Ee=ko.selectionTesters,Ht=ko.eventData;var So;Fe?So=Fe.filtered:So=ln(St),q.throttle(Tn,Te.SELECTDELAY,function(){On=ft(Ee,pn);for(var Ko=On.slice(),ds=0;ds<Es.length;ds++){for(var qs=Es[ds],es=!1,Xs=0;Xs<Ko.length;Xs++)if(Ko[Xs].curveNumber===qs.curveNumber&&Ko[Xs].pointNumber===qs.pointNumber){es=!0;break}es||Ko.push(qs)}Ko.length&&(Ht||(Ht={}),Ht.points=Ko),Jn(Ht,So),Xn(Rt,Ht)})}},gt.clickFn=function(Fn,zr){if(Jt.remove(),Rt._fullLayout._activeShapeIndex>=0){Rt._fullLayout._deactivateShape(Rt);return}if(!Tt){var dr=fn.clickmode;q.done(Tn).then(function(){if(q.clear(Tn),Fn===2){for($t.remove(),Lt=0;Lt<pn.length;Lt++)Ft=pn[Lt],Ft._module.selectPoints(Ft,!1);if(pt(Rt,pn),ue(gt),Sn(Rt),pn.length){var Hr=pn[0].xaxis,ar=pn[0].yaxis;if(Hr&&ar){for(var ur=[],qr=Rt._fullLayout.selections,to=0;to<qr.length;to++){var ko=qr[to];ko&&(ko.xref!==Hr._id||ko.yref!==ar._id)&&ur.push(ko)}ur.length<qr.length&&(Rt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Rt,{selections:ur}))}}}else dr.indexOf("select")>-1&&$e(zr,Rt,gt.xaxes,gt.yaxes,gt.subplot,gt,$t),dr==="event"&&Un(Rt,void 0);k.click(Rt,zr,zt.id)}).catch(L.error)}},gt.doneFn=function(){Jt.remove(),q.done(Tn).then(function(){q.clear(Tn),!Hn&&Ct&&gt.selectionDefs&&(Ct.subtract=wr,gt.selectionDefs.push(Ct),gt.mergedPolygons.length=0,[].push.apply(gt.mergedPolygons,St)),(Hn||Tt)&&ue(gt,Hn),gt.doneFnCompleted&&gt.doneFnCompleted(On),Pt&&Un(Rt,Ht)}).catch(L.error)}}function $e(it,ut,xt,gt,Dt,He,at){var dt=ut._hoverdata,mt=ut._fullLayout,Tt=mt.clickmode,Pt=Tt.indexOf("event")>-1,dn=[],nn,Wt,Rt,fn,Hn,nr,Er,zt,vr,Wn;if(Ce(dt)){ye(it,ut,He),nn=Se(ut,xt,gt,Dt);var Br=Qe(dt,nn),kr=Br.pointNumbers.length>0;if(kr?Xe(nn,Br):ct(nn)&&(Er=ze(Br))){for(at&&at.remove(),Wn=0;Wn<nn.length;Wn++)Wt=nn[Wn],Wt._module.selectPoints(Wt,!1);pt(ut,nn),ue(He),Pt&&Sn(ut)}else{zt=it.shiftKey&&(Er!==void 0?Er:ze(Br)),Rt=Ze(Br.pointNumber,Br.searchInfo,zt);var or=He.selectionDefs.concat([Rt]);for(fn=re(or),Wn=0;Wn<nn.length;Wn++)if(Hn=nn[Wn]._module.selectPoints(nn[Wn],fn),nr=et(Hn,nn[Wn]),dn.length)for(var jr=0;jr<nr.length;jr++)dn.push(nr[jr]);else dn=nr;if(vr={points:dn},pt(ut,nn,vr),Rt&&He&&He.selectionDefs.push(Rt),at){var _r=He.mergedPolygons,Rn=I(He.dragmode);z(yt(_r,Rn),at,He)}Pt&&Un(ut,vr)}}}function Ze(it,ut,xt){return{pointNumber:it,searchInfo:ut,subtract:!!xt}}function De(it){return"pointNumber"in it&&"searchInfo"in it}function Ie(it){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ut,xt,gt,Dt){var He=it.searchInfo.cd[0].trace._expandedIndex,at=Dt.cd[0].trace._expandedIndex;return at===He&&gt===it.pointNumber},isRect:!1,degenerate:!1,subtract:!!it.subtract}}function re(it){if(!it.length)return;for(var ut=[],xt=De(it[0])?0:it[0][0][0],gt=xt,Dt=De(it[0])?0:it[0][0][1],He=Dt,at=0;at<it.length;at++)if(De(it[at]))ut.push(Ie(it[at]));else{var dt=ne(it[at]);dt.subtract=!!it[at].subtract,ut.push(dt),xt=Math.min(xt,dt.xmin),gt=Math.max(gt,dt.xmax),Dt=Math.min(Dt,dt.ymin),He=Math.max(He,dt.ymax)}function mt(Tt,Pt,dn,nn){for(var Wt=!1,Rt=0;Rt<ut.length;Rt++)ut[Rt].contains(Tt,Pt,dn,nn)&&(Wt=!ut[Rt].subtract);return Wt}return{xmin:xt,xmax:gt,ymin:Dt,ymax:He,pts:[],contains:mt,isRect:!1,degenerate:!1}}function ye(it,ut,xt){var gt=ut._fullLayout,Dt=xt.plotinfo,He=xt.dragmode,at=gt._lastSelectedSubplot&&gt._lastSelectedSubplot===Dt.id,dt=(it.shiftKey||it.altKey)&&!(M(He)&&I(He));at&&dt&&Dt.selection&&Dt.selection.selectionDefs&&!xt.selectionDefs?(xt.selectionDefs=Dt.selection.selectionDefs,xt.mergedPolygons=Dt.selection.mergedPolygons):(!dt||!Dt.selection)&&ue(xt),at||(U(ut),gt._lastSelectedSubplot=Dt.id)}function te(it){return it._fullLayout._activeShapeIndex>=0}function se(it){return it._fullLayout._activeSelectionIndex>=0}function ue(it,ut){var xt=it.dragmode,gt=it.plotinfo,Dt=it.gd;te(Dt)&&Dt._fullLayout._deactivateShape(Dt),se(Dt)&&Dt._fullLayout._deactivateSelection(Dt);var He=Dt._fullLayout,at=He._zoomlayer,dt=M(xt),mt=V(xt);if(dt||mt){var Tt=at.selectAll(".select-outline-"+gt.id);if(Tt&&Dt._fullLayout._outlining){var Pt;dt&&(Pt=W(Tt,it)),Pt&&y.call("_guiRelayout",Dt,{shapes:Pt});var dn;mt&&!Le(it)&&(dn=Y(Tt,it)),dn&&(Dt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Dt,{selections:dn}).then(function(){ut&&ie(Dt)})),Dt._fullLayout._outlining=!1}}gt.selection={},gt.selection.selectionDefs=it.selectionDefs=[],gt.selection.mergedPolygons=it.mergedPolygons=[]}function oe(it){return it._id}function Se(it,ut,xt,gt){if(!it.calcdata)return[];var Dt=[],He=ut.map(oe),at=xt.map(oe),dt,mt,Tt;for(Tt=0;Tt<it.calcdata.length;Tt++)if(dt=it.calcdata[Tt],mt=dt[0].trace,!(mt.visible!==!0||!mt._module||!mt._module.selectPoints))if(Le({subplot:gt})&&(mt.subplot===gt||mt.geo===gt))Dt.push(le(mt._module,dt,ut[0],xt[0]));else if(mt.type==="splom"){if(mt._xaxes[He[0]]&&mt._yaxes[at[0]]){var Pt=le(mt._module,dt,ut[0],xt[0]);Pt.scene=it._fullLayout._splomScenes[mt.uid],Dt.push(Pt)}}else if(mt.type==="sankey"){var dn=le(mt._module,dt,ut[0],xt[0]);Dt.push(dn)}else{if(He.indexOf(mt.xaxis)===-1||at.indexOf(mt.yaxis)===-1)continue;Dt.push(le(mt._module,dt,fe(it,mt.xaxis),fe(it,mt.yaxis)))}return Dt}function le(it,ut,xt,gt){return{_module:it,cd:ut,xaxis:xt,yaxis:gt}}function Ce(it){return it&&Array.isArray(it)&&it[0].hoverOnBox!==!0}function Qe(it,ut){var xt=it[0],gt=-1,Dt=[],He,at;for(at=0;at<ut.length;at++)if(He=ut[at],xt.fullData._expandedIndex===He.cd[0].trace._expandedIndex){if(xt.hoverOnBox===!0)break;xt.pointNumber!==void 0?gt=xt.pointNumber:xt.binNumber!==void 0&&(gt=xt.binNumber,Dt=xt.pointNumbers);break}return{pointNumber:gt,pointNumbers:Dt,searchInfo:He}}function ze(it){var ut=it.searchInfo.cd[0].trace,xt=it.pointNumber,gt=it.pointNumbers,Dt=gt.length>0,He=Dt?gt[0]:xt;return ut.selectedpoints?ut.selectedpoints.indexOf(He)>-1:!1}function Xe(it,ut){var xt=[],gt,Dt,He,at;for(at=0;at<it.length;at++)gt=it[at],gt.cd[0].trace.selectedpoints&&gt.cd[0].trace.selectedpoints.length>0&&xt.push(gt);if(xt.length===1&&(He=xt[0]===ut.searchInfo,He&&(Dt=ut.searchInfo.cd[0].trace,Dt.selectedpoints.length===ut.pointNumbers.length))){for(at=0;at<ut.pointNumbers.length;at++)if(Dt.selectedpoints.indexOf(ut.pointNumbers[at])<0)return!1;return!0}return!1}function ct(it){var ut=0,xt,gt,Dt;for(Dt=0;Dt<it.length;Dt++)if(xt=it[Dt],gt=xt.cd[0].trace,gt.selectedpoints&&(gt.selectedpoints.length>1||(ut+=gt.selectedpoints.length,ut>1)))return!1;return ut===1}function pt(it,ut,xt){var gt;for(gt=0;gt<ut.length;gt++){var Dt=ut[gt].cd[0].trace._fullInput,He=it._fullLayout._tracePreGUI[Dt.uid]||{};He.selectedpoints===void 0&&(He.selectedpoints=Dt._input.selectedpoints||null)}var at;if(xt){var dt=xt.points||[];for(gt=0;gt<ut.length;gt++)at=ut[gt].cd[0].trace,at._input.selectedpoints=at._fullInput.selectedpoints=[],at._fullInput!==at&&(at.selectedpoints=[]);for(var mt=0;mt<dt.length;mt++){var Tt=dt[mt],Pt=Tt.data,dn=Tt.fullData,nn=Tt.pointIndex,Wt=Tt.pointIndices;Wt?([].push.apply(Pt.selectedpoints,Wt),at._fullInput!==at&&[].push.apply(dn.selectedpoints,Wt)):(Pt.selectedpoints.push(nn),at._fullInput!==at&&dn.selectedpoints.push(nn))}}else for(gt=0;gt<ut.length;gt++)at=ut[gt].cd[0].trace,delete at.selectedpoints,delete at._input.selectedpoints,at._fullInput!==at&&delete at._fullInput.selectedpoints;Ye(it,ut)}function Ye(it,ut){for(var xt=!1,gt=0;gt<ut.length;gt++){var Dt=ut[gt],He=Dt.cd;y.traceIs(He[0].trace,"regl")&&(xt=!0);var at=Dt._module,dt=at.styleOnSelect||at.style;dt&&(dt(it,He,He[0].node3),He[0].nodeRangePlot3&&dt(it,He,He[0].nodeRangePlot3))}xt&&(ee(it),be(it))}function je(it,ut,xt){for(var gt=xt?p.difference:p.union,Dt=gt({regions:it},{regions:[ut]}),He=Dt.regions.reverse(),at=0;at<He.length;at++){var dt=He[at];dt.subtract=vn(dt,He.slice(0,at))}return He}function et(it,ut){if(Array.isArray(it))for(var xt=ut.cd,gt=ut.cd[0].trace,Dt=0;Dt<it.length;Dt++)it[Dt]=C(it[Dt],gt,xt);return it}function yt(it,ut){for(var xt=[],gt=0;gt<it.length;gt++){xt[gt]=[];for(var Dt=0;Dt<it[gt].length;Dt++){xt[gt][Dt]=[],xt[gt][Dt][0]=Dt?"L":"M";for(var He=0;He<it[gt][Dt].length;He++)xt[gt][Dt].push(it[gt][Dt][He])}ut||xt[gt].push(["Z",xt[gt][0][1],xt[gt][0][2]])}return xt}function ft(it,ut){for(var xt=[],gt,Dt,He=0;He<ut.length;He++){var at=ut[He];Dt=at._module.selectPoints(at,it),gt=et(Dt,at),xt=xt.concat(gt)}return xt}function tt(it,ut,xt,gt,Dt){var He=!!gt,at,dt,mt;Dt&&(at=Dt.plotinfo,dt=Dt.xaxes[0]._id,mt=Dt.yaxes[0]._id);var Tt=[],Pt=[],dn=Bt(it),nn=it._fullLayout;if(at){var Wt=nn._zoomlayer,Rt=nn.dragmode,fn=M(Rt),Hn=V(Rt);if(fn||Hn){var nr=fe(it,dt,"x"),Er=fe(it,mt,"y");if(nr&&Er){var zt=Wt.selectAll(".select-outline-"+at.id);if(zt&&it._fullLayout._outlining&&zt.length){for(var vr=zt[0][0],Wn=vr.getAttribute("d"),Br=E(Wn,it,at),kr=[],or=0;or<Br.length;or++){for(var jr=Br[or],_r=[],Rn=0;Rn<jr.length;Rn++)_r.push([En(nr,jr[Rn][1]),En(Er,jr[Rn][2])]);_r.xref=dt,_r.yref=mt,_r.subtract=vn(_r,kr),kr.push(_r)}dn=dn.concat(kr)}}}}var xr=dt&&mt?[dt+mt]:nn._subplots.cartesian;wt(it);for(var sr={},Sr=0;Sr<xr.length;Sr++){var ao=xr[Sr],Oo=ao.indexOf("y"),wr=ao.slice(0,Oo),Fe=ao.slice(Oo),Ee=dt&&mt?xt:void 0;if(Ee=Nt(dn,wr,Fe,Ee),Ee){var St=gt;if(!He){var Ct=fe(it,wr,"x"),Lt=fe(it,Fe,"y");St=Se(it,[Ct],[Lt],ao);for(var Ft=0;Ft<St.length;Ft++){var Ht=St[Ft],$t=Ht.cd[0],Mt=$t.trace;if(Ht._module.name==="scattergl"&&!$t.t.xpx){var en=Mt.x,un=Mt.y,Jt=Mt._length;$t.t.xpx=[],$t.t.ypx=[];for(var rn=0;rn<Jt;rn++)$t.t.xpx[rn]=Ct.c2p(en[rn]),$t.t.ypx[rn]=Lt.c2p(un[rn])}Ht._module.name==="splom"&&(sr[Mt.uid]||(sr[Mt.uid]=!0))}}var Tn=ft(Ee,St);Tt=Tt.concat(Tn),Pt=Pt.concat(St)}}var On={points:Tt};pt(it,Pt,On);var pn=nn.clickmode,Jn=pn.indexOf("event")>-1&&ut;if(!at&&ut){var Fn=Bt(it,!0);if(Fn.length){var zr=Fn[0].xref,dr=Fn[0].yref;if(zr&&dr){var Hr=ln(Fn),ar=an([fe(it,zr,"x"),fe(it,dr,"y")]);ar(On,Hr)}}it._fullLayout._noEmitSelectedAtStart?it._fullLayout._noEmitSelectedAtStart=!1:Jn&&Un(it,On),nn._reselect=!1}if(!at&&nn._deselect){var ur=nn._deselect;dt=ur.xref,mt=ur.yref,Xt(dt,mt,Pt)||Gt(it,dt,mt,gt),Jn&&(On.points.length?Un(it,On):Sn(it)),nn._deselect=!1}return{eventData:On,selectionTesters:xt}}function wt(it){var ut=it.calcdata;if(ut)for(var xt=0;xt<ut.length;xt++){var gt=ut[xt][0],Dt=gt.trace,He=it._fullLayout._splomScenes;if(He){var at=He[Dt.uid];at&&(at.selectBatch=[])}}}function Xt(it,ut,xt){for(var gt=0;gt<xt.length;gt++){var Dt=xt[gt];if(Dt.xaxis&&Dt.xaxis._id===it&&Dt.yaxis&&Dt.yaxis._id===ut)return!0}return!1}function Gt(it,ut,xt,gt){gt=Se(it,[fe(it,ut,"x")],[fe(it,xt,"y")],ut+xt);for(var Dt=0;Dt<gt.length;Dt++){var He=gt[Dt];He._module.selectPoints(He,!1)}pt(it,gt)}function Nt(it,ut,xt,gt){for(var Dt,He=0;He<it.length;He++){var at=it[He];if(!(ut!==at.xref||xt!==at.yref))if(Dt){var dt=!!at.subtract;Dt=je(Dt,at,dt),gt=re(Dt)}else Dt=[at],gt=ne(at)}return gt}function Bt(it,ut){for(var xt=[],gt=it._fullLayout,Dt=gt.selections,He=Dt.length,at=0;at<He;at++)if(!(ut&&at!==gt._activeSelectionIndex)){var dt=Dt[at];if(dt){var mt=dt.xref,Tt=dt.yref,Pt=fe(it,mt,"x"),dn=fe(it,Tt,"y"),nn,Wt,Rt,fn,Hn;if(dt.type==="rect"){Hn=[];var nr=En(Pt,dt.x0),Er=En(Pt,dt.x1),zt=En(dn,dt.y0),vr=En(dn,dt.y1);Hn=[[nr,zt],[nr,vr],[Er,vr],[Er,zt]],nn=Math.min(nr,Er),Wt=Math.max(nr,Er),Rt=Math.min(zt,vr),fn=Math.max(zt,vr),Hn.xmin=nn,Hn.xmax=Wt,Hn.ymin=Rt,Hn.ymax=fn,Hn.xref=mt,Hn.yref=Tt,Hn.subtract=!1,Hn.isRect=!0,xt.push(Hn)}else if(dt.type==="path")for(var Wn=dt.path.split("Z"),Br=[],kr=0;kr<Wn.length;kr++){var or=Wn[kr];if(or){or+="Z";var jr=N.extractPathCoords(or,F.paramIsX,"raw"),_r=N.extractPathCoords(or,F.paramIsY,"raw");nn=1/0,Wt=-1/0,Rt=1/0,fn=-1/0,Hn=[];for(var Rn=0;Rn<jr.length;Rn++){var xr=En(Pt,jr[Rn]),sr=En(dn,_r[Rn]);Hn.push([xr,sr]),nn=Math.min(xr,nn),Wt=Math.max(xr,Wt),Rt=Math.min(sr,Rt),fn=Math.max(sr,fn)}Hn.xmin=nn,Hn.xmax=Wt,Hn.ymin=Rt,Hn.ymax=fn,Hn.xref=mt,Hn.yref=Tt,Hn.subtract=vn(Hn,Br),Br.push(Hn),xt.push(Hn)}}}}return xt}function vn(it,ut){for(var xt=!1,gt=0;gt<ut.length;gt++)for(var Dt=ut[gt],He=0;He<it.length;He++)if(v(it[He],Dt)){xt=!xt;break}return xt}function En(it,ut){return it.type==="date"&&(ut=ut.replace("_"," ")),it.type==="log"?it.c2p(ut):it.r2p(ut,null,it.calendar)}function ln(it){for(var ut=it.length,xt=[],gt=0;gt<ut;gt++){var Dt=it[gt];xt=xt.concat(Dt),xt=xt.concat([Dt[0]])}return Yn(xt)}function Yn(it){return it.isRect=it.length===5&&it[0][0]===it[4][0]&&it[0][1]===it[4][1]&&it[0][0]===it[1][0]&&it[2][0]===it[3][0]&&it[0][1]===it[3][1]&&it[1][1]===it[2][1]||it[0][1]===it[1][1]&&it[2][1]===it[3][1]&&it[0][0]===it[3][0]&&it[1][0]===it[2][0],it.isRect&&(it.xmin=Math.min(it[0][0],it[2][0]),it.xmax=Math.max(it[0][0],it[2][0]),it.ymin=Math.min(it[0][1],it[2][1]),it.ymax=Math.max(it[0][1],it[2][1])),it}function an(it){return function(ut,xt){for(var gt,Dt,He=0;He<it.length;He++){var at=it[He],dt=at._id,mt=dt.charAt(0);if(xt.isRect){gt||(gt={});var Tt=xt[mt+"min"],Pt=xt[mt+"max"];Tt!==void 0&&Pt!==void 0&&(gt[dt]=[G(at,Tt),G(at,Pt)].sort(me))}else Dt||(Dt={}),Dt[dt]=xt.map(Oe(at))}gt&&(ut.range=gt),Dt&&(ut.lassoPoints=Dt)}}function wn(it){var ut=it.plotinfo;return ut.fillRangeItems||an(it.xaxes.concat(it.yaxes))}function Xn(it,ut){it.emit("plotly_selecting",ut)}function Un(it,ut){ut&&(ut.selections=(it.layout||{}).selections||[]),it.emit("plotly_selected",ut)}function Sn(it){it.emit("plotly_deselect",null)}f.exports={reselect:tt,prepSelect:ke,clearOutline:U,clearSelectionsCache:ue,selectOnClick:$e}},9827:function(f,h,u){var p=u(215),v=u(1940),y=u(2196).line,b=u(9952).P,x=u(1426).extendFlat,k=u(4467).templatedArray;u(4695);var C=u(9012),w=u(5386).R,T=u(7281);f.exports=k("shape",{visible:x({},C.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:x({},C.legend,{editType:"calc+arraydraw"}),legendgroup:x({},C.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:x({},C.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:v({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:x({},C.legendrank,{editType:"calc+arraydraw"}),legendwidth:x({},C.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:x({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:x({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:x({},y.color,{editType:"arraydraw"}),width:x({},y.width,{editType:"calc+arraydraw"}),dash:x({},b,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:w({},{keys:Object.keys(T)}),font:v({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(f,h,u){var p=u(1828),v=u(9298),y=u(1459),b=u(477);f.exports=function(R){var M=R._fullLayout,I=p.filterVisible(M.shapes);if(!(!I.length||!R._fullData.length))for(var V=0;V<I.length;V++){var N=I[V];N._extremes={};var F,z,U=v.getRefType(N.xref),Q=v.getRefType(N.yref);if(N.xref!=="paper"&&U!=="domain"){var B=N.xsizemode==="pixel"?N.xanchor:N.x0,E=N.xsizemode==="pixel"?N.xanchor:N.x1;F=v.getFromId(R,N.xref),z=w(F,B,E,N.path,y.paramIsX),z&&(N._extremes[F._id]=v.findExtremes(F,z,x(N)))}if(N.yref!=="paper"&&Q!=="domain"){var W=N.ysizemode==="pixel"?N.yanchor:N.y0,Y=N.ysizemode==="pixel"?N.yanchor:N.y1;F=v.getFromId(R,N.yref),z=w(F,W,Y,N.path,y.paramIsY),z&&(N._extremes[F._id]=v.findExtremes(F,z,k(N)))}}};function x(T){return C(T.line.width,T.xsizemode,T.x0,T.x1,T.path,!1)}function k(T){return C(T.line.width,T.ysizemode,T.y0,T.y1,T.path,!0)}function C(T,R,M,I,V,N){var F=T/2,z=N;if(R==="pixel"){var U=V?b.extractPathCoords(V,N?y.paramIsY:y.paramIsX):[M,I],Q=p.aggNums(Math.max,null,U),B=p.aggNums(Math.min,null,U),E=B<0?Math.abs(B)+F:F,W=Q>0?Q+F:F;return{ppad:F,ppadplus:z?E:W,ppadminus:z?W:E}}else return{ppad:F}}function w(T,R,M,I,V){var N=T.type==="category"||T.type==="multicategory"?T.r2c:T.d2c;if(R!==void 0)return[N(R),N(M)];if(I){var F=1/0,z=-1/0,U=I.match(y.segmentRE),Q,B,E,W,Y;for(T.type==="date"&&(N=b.decodeDate(N)),Q=0;Q<U.length;Q++)B=U[Q],E=V[B.charAt(0)].drawn,E!==void 0&&(W=U[Q].substr(1).match(y.paramRE),!(!W||W.length<E)&&(Y=N(W[E]),Y<F&&(F=Y),Y>z&&(z=Y)));if(z>=F)return[F,z]}}},1459:function(f){f.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(f,h,u){var p=u(1828),v=u(9298),y=u(5501),b=u(9827),x=u(477);f.exports=function(T,R){y(T,R,{name:"shapes",handleItemDefaults:C})};function k(w,T){return w?"bottom":T.indexOf("top")!==-1?"top":T.indexOf("bottom")!==-1?"bottom":"middle"}function C(w,T,R){function M(De,Ie){return p.coerce(w,T,b,De,Ie)}T._isShape=!0;var I=M("visible");if(I){var V=M("showlegend");V&&(M("legend"),M("legendwidth"),M("legendgroup"),M("legendgrouptitle.text"),p.coerceFont(M,"legendgrouptitle.font"),M("legendrank"));var N=M("path"),F=N?"path":"rect",z=M("type",F),U=z!=="path";U&&delete T.path,M("editable"),M("layer"),M("opacity"),M("fillcolor"),M("fillrule");var Q=M("line.width");Q&&(M("line.color"),M("line.dash"));for(var B=M("xsizemode"),E=M("ysizemode"),W=["x","y"],Y=0;Y<2;Y++){var ie=W[Y],L=ie+"anchor",me=ie==="x"?B:E,ae={_fullLayout:R},q,fe,ee,be=v.coerceRef(w,T,ae,ie,void 0,"paper"),Te=v.getRefType(be);if(Te==="range"?(q=v.getFromId(ae,be),q._shapeIndices.push(T._index),ee=x.rangeToShapePosition(q),fe=x.shapePositionToRange(q)):fe=ee=p.identity,U){var Be=.25,ge=.75,ne=ie+"0",pe=ie+"1",G=w[ne],Oe=w[pe];w[ne]=fe(w[ne],!0),w[pe]=fe(w[pe],!0),me==="pixel"?(M(ne,0),M(pe,10)):(v.coercePosition(T,ae,M,be,ne,Be),v.coercePosition(T,ae,M,be,pe,ge)),T[ne]=ee(T[ne]),T[pe]=ee(T[pe]),w[ne]=G,w[pe]=Oe}if(me==="pixel"){var xe=w[L];w[L]=fe(w[L],!0),v.coercePosition(T,ae,M,be,L,.25),T[L]=ee(T[L]),w[L]=xe}}U&&p.noneOrAll(w,T,["x0","x1","y0","y1"]);var Le=z==="line",ke,$e;if(U&&(ke=M("label.texttemplate")),ke||($e=M("label.text")),$e||ke){M("label.textangle");var Ze=M("label.textposition",Le?"middle":"middle center");M("label.xanchor"),M("label.yanchor",k(Le,Ze)),M("label.padding"),p.coerceFont(M,"label.font",R.font)}}}},8100:function(f,h,u){var p=u(1828),v=u(9298),y=u(3893),b=u(1424),x=u(165).readPaths,k=u(477),C=k.getPathString,w=u(7281),T=u(8783).FROM_TL;f.exports=function(V,N,F,z){if(z.selectAll(".shape-label").remove(),!!(F.label.text||F.label.texttemplate)){var U;if(F.label.texttemplate){var Q={};if(F.type!=="path"){var B=v.getFromId(V,F.xref),E=v.getFromId(V,F.yref);for(var W in w){var Y=w[W](F,B,E);Y!==void 0&&(Q[W]=Y)}}U=p.texttemplateStringForShapes(F.label.texttemplate,{},V._fullLayout._d3locale,Q)}else U=F.label.text;var ie={"data-index":N},L=F.label.font,me={"data-notex":1},ae=z.append("g").attr(ie).classed("shape-label",!0),q=ae.append("text").attr(me).classed("shape-label-text",!0).text(U),fe,ee,be,Te;if(F.path){var Be=C(V,F),ge=x(Be,V);fe=1/0,be=1/0,ee=-1/0,Te=-1/0;for(var ne=0;ne<ge.length;ne++)for(var pe=0;pe<ge[ne].length;pe++)for(var G=ge[ne][pe],Oe=1;Oe<G.length;Oe+=2){var xe=G[Oe],Le=G[Oe+1];fe=Math.min(fe,xe),ee=Math.max(ee,xe),be=Math.min(be,Le),Te=Math.max(Te,Le)}}else{var ke=v.getFromId(V,F.xref),$e=v.getRefType(F.xref),Ze=v.getFromId(V,F.yref),De=v.getRefType(F.yref),Ie=k.getDataToPixel(V,ke,!1,$e),re=k.getDataToPixel(V,Ze,!0,De);fe=Ie(F.x0),ee=Ie(F.x1),be=re(F.y0),Te=re(F.y1)}var ye=F.label.textangle;ye==="auto"&&(F.type==="line"?ye=R(fe,be,ee,Te):ye=0),q.call(function(le){return le.call(b.font,L).attr({}),y.convertToTspans(le,V),le});var te=b.bBox(q.node()),se=M(fe,be,ee,Te,F,ye,te),ue=se.textx,oe=se.texty,Se=se.xanchor;q.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Se],y:oe,x:ue,transform:"rotate("+ye+","+ue+","+oe+")"}).call(y.positionText,ue,oe)}};function R(I,V,N,F){var z,U;return U=Math.abs(N-I),N>=I?z=V-F:z=F-V,-180/Math.PI*Math.atan2(z,U)}function M(I,V,N,F,z,U,Q){var B=z.label.textposition,E=z.label.textangle,W=z.label.padding,Y=z.type,ie=Math.PI/180*U,L=Math.sin(ie),me=Math.cos(ie),ae=z.label.xanchor,q=z.label.yanchor,fe,ee,be,Te;if(Y==="line"){B==="start"?(fe=I,ee=V):B==="end"?(fe=N,ee=F):(fe=(I+N)/2,ee=(V+F)/2),ae==="auto"&&(B==="start"?E==="auto"?N>I?ae="left":N<I?ae="right":ae="center":N>I?ae="right":N<I?ae="left":ae="center":B==="end"?E==="auto"?N>I?ae="right":N<I?ae="left":ae="center":N>I?ae="left":N<I?ae="right":ae="center":ae="center");var Be={left:1,center:0,right:-1},ge={bottom:-1,middle:0,top:1};if(E==="auto"){var ne=ge[q];be=-W*L*ne,Te=W*me*ne}else{var pe=Be[ae],G=ge[q];be=W*pe,Te=W*G}fe=fe+be,ee=ee+Te}else be=W+3,B.indexOf("right")!==-1?(fe=Math.max(I,N)-be,ae==="auto"&&(ae="right")):B.indexOf("left")!==-1?(fe=Math.min(I,N)+be,ae==="auto"&&(ae="left")):(fe=(I+N)/2,ae==="auto"&&(ae="center")),B.indexOf("top")!==-1?ee=Math.min(V,F):B.indexOf("bottom")!==-1?ee=Math.max(V,F):ee=(V+F)/2,Te=W,q==="bottom"?ee=ee-Te:q==="top"&&(ee=ee+Te);var Oe=T[q],xe=z.label.font.size,Le=Q.height,ke=(Le*Oe-xe)*L,$e=-(Le*Oe-xe)*me;return{textx:fe+ke,texty:ee+$e,xanchor:ae}}},2359:function(f,h,u){var p=u(1828),v=p.strTranslate,y=u(8569),b=u(4505),x=b.drawMode,k=b.selectMode,C=u(3972),w=u(7901),T=u(9995),R=T.i000,M=T.i090,I=T.i180,V=T.i270,N=u(1873),F=N.clearOutlineControllers,z=u(165),U=z.pointsOnRectangle,Q=z.pointsOnEllipse,B=z.writePaths,E=u(551).newShapes,W=u(551).createShapeObj,Y=u(5855),ie=u(8100);f.exports=function q(fe,ee,be,Te){Te||(Te=0);var Be=be.gd;function ge(){q(fe,ee,be,Te++),(Q(fe[0])||be.hasText)&&ne({redrawing:!0})}function ne(je){var et={};be.isActiveShape!==void 0&&(be.isActiveShape=!1,et=E(ee,be)),be.isActiveSelection!==void 0&&(be.isActiveSelection=!1,et=Y(ee,be),Be._fullLayout._reselect=!0),Object.keys(et).length&&C.call((je||{}).redrawing?"relayout":"_guiRelayout",Be,et)}var pe=Be._fullLayout,G=pe._zoomlayer,Oe=be.dragmode,xe=x(Oe),Le=k(Oe);(xe||Le)&&(Be._fullLayout._outlining=!0),F(Be),ee.attr("d",B(fe));var ke,$e,Ze,De,Ie;if(!Te&&(be.isActiveShape||be.isActiveSelection)){Ie=L([],fe);var re=G.append("g").attr("class","outline-controllers");Ce(re),Ye()}if(xe&&be.hasText){var ye=G.select(".label-temp"),te=W(ee,be,be.dragmode);ie(Be,"label-temp",te,ye)}function se(je){Ze=+je.srcElement.getAttribute("data-i"),De=+je.srcElement.getAttribute("data-j"),ke[Ze][De].moveFn=ue}function ue(je,et){if(fe.length){var yt=Ie[Ze][De][1],ft=Ie[Ze][De][2],tt=fe[Ze],wt=tt.length;if(U(tt)){var Xt=je,Gt=et;if(be.isActiveSelection){var Nt=me(tt,De);Nt[1]===tt[De][1]?Gt=0:Xt=0}for(var Bt=0;Bt<wt;Bt++)if(Bt!==De){var vn=tt[Bt];vn[1]===tt[De][1]&&(vn[1]=yt+Xt),vn[2]===tt[De][2]&&(vn[2]=ft+Gt)}if(tt[De][1]=yt+Xt,tt[De][2]=ft+Gt,!U(tt))for(var En=0;En<wt;En++)for(var ln=0;ln<tt[En].length;ln++)tt[En][ln]=Ie[Ze][En][ln]}else tt[De][1]=yt+je,tt[De][2]=ft+et;ge()}}function oe(){ne()}function Se(){if(fe.length&&fe[Ze]&&fe[Ze].length){for(var je=[],et=0;et<fe[Ze].length;et++)et!==De&&je.push(fe[Ze][et]);je.length>1&&!(je.length===2&&je[1][0]==="Z")&&(De===0&&(je[0][0]="M"),fe[Ze]=je,ge(),ne())}}function le(je,et){if(je===2){Ze=+et.srcElement.getAttribute("data-i"),De=+et.srcElement.getAttribute("data-j");var yt=fe[Ze];!U(yt)&&!Q(yt)&&Se()}}function Ce(je){ke=[];for(var et=0;et<fe.length;et++){var yt=fe[et],ft=U(yt),tt=!ft&&Q(yt);ke[et]=[];for(var wt=yt.length,Xt=0;Xt<wt;Xt++)if(yt[Xt][0]!=="Z"&&!(tt&&Xt!==R&&Xt!==M&&Xt!==I&&Xt!==V)){var Gt=ft&&be.isActiveSelection,Nt;Gt&&(Nt=me(yt,Xt));var Bt=yt[Xt][1],vn=yt[Xt][2],En=je.append(Gt?"rect":"circle").attr("data-i",et).attr("data-j",Xt).style({fill:w.background,stroke:w.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Gt){var ln=Nt[1]-Bt,Yn=Nt[2]-vn,an=Yn?5:Math.max(Math.min(25,Math.abs(ln)-5),5),wn=ln?5:Math.max(Math.min(25,Math.abs(Yn)-5),5);En.classed(Yn?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",an).attr("height",wn).attr("x",Bt-an/2).attr("y",vn-wn/2).attr("transform",v(ln/2,Yn/2))}else En.classed("cursor-grab",!0).attr("r",5).attr("cx",Bt).attr("cy",vn);ke[et][Xt]={element:En.node(),gd:Be,prepFn:se,doneFn:oe,clickFn:le},y.init(ke[et][Xt])}}}function Qe(je,et){if(fe.length)for(var yt=0;yt<fe.length;yt++)for(var ft=0;ft<fe[yt].length;ft++)for(var tt=0;tt+2<fe[yt][ft].length;tt+=2)fe[yt][ft][tt+1]=Ie[yt][ft][tt+1]+je,fe[yt][ft][tt+2]=Ie[yt][ft][tt+2]+et}function ze(je,et){Qe(je,et),ge()}function Xe(je){Ze=+je.srcElement.getAttribute("data-i"),Ze||(Ze=0),$e[Ze].moveFn=ze}function ct(){ne()}function pt(je){je===2&&ae(Be)}function Ye(){if($e=[],!!fe.length){var je=0;$e[je]={element:ee[0][0],gd:Be,prepFn:Xe,doneFn:ct,clickFn:pt},y.init($e[je])}}};function L(q,fe){for(var ee=0;ee<fe.length;ee++){var be=fe[ee];q[ee]=[];for(var Te=0;Te<be.length;Te++){q[ee][Te]=[];for(var Be=0;Be<be[Te].length;Be++)q[ee][Te][Be]=be[Te][Be]}}return q}function me(q,fe){var ee=q[fe][1],be=q[fe][2],Te=q.length,Be,ge,ne;return Be=(fe+1)%Te,ge=q[Be][1],ne=q[Be][2],ge===ee&&ne===be&&(Be=(fe+2)%Te,ge=q[Be][1],ne=q[Be][2]),[Be,ge,ne]}function ae(q){if(k(q._fullLayout.dragmode)){F(q);var fe=q._fullLayout._activeSelectionIndex,ee=(q.layout||{}).selections||[];if(fe<ee.length){for(var be=[],Te=0;Te<ee.length;Te++)Te!==fe&&be.push(ee[Te]);delete q._fullLayout._activeSelectionIndex;var Be=q._fullLayout.selections[fe];q._fullLayout._deselect={xref:Be.xref,yref:Be.yref},C.call("_guiRelayout",q,{selections:be})}}}},4031:function(f,h,u){var p=u(9898),v=u(3972),y=u(1828),b=u(9298),x=u(165).readPaths,k=u(2359),C=u(8100),w=u(1873).clearOutlineControllers,T=u(7901),R=u(1424),M=u(4467).arrayEditor,I=u(8569),V=u(6964),N=u(1459),F=u(477),z=F.getPathString;f.exports={draw:U,drawOne:E,eraseActiveShape:ae,drawLabel:C};function U(q){var fe=q._fullLayout;fe._shapeUpperLayer.selectAll("path").remove(),fe._shapeLowerLayer.selectAll("path").remove(),fe._shapeUpperLayer.selectAll("text").remove(),fe._shapeLowerLayer.selectAll("text").remove();for(var ee in fe._plots){var be=fe._plots[ee].shapelayer;be&&(be.selectAll("path").remove(),be.selectAll("text").remove())}for(var Te=0;Te<fe.shapes.length;Te++)fe.shapes[Te].visible===!0&&E(q,Te)}function Q(q){return!!q._fullLayout._outlining}function B(q){return!q._context.edits.shapePosition}function E(q,fe){q._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+fe+'"]').remove();var ee=F.makeShapesOptionsAndPlotinfo(q,fe),be=ee.options,Te=ee.plotinfo;if(!be._input||be.visible!==!0)return;if(be.layer!=="below")ge(q._fullLayout._shapeUpperLayer);else if(be.xref==="paper"||be.yref==="paper")ge(q._fullLayout._shapeLowerLayer);else if(Te._hadPlotinfo){var Be=Te.mainplotinfo||Te;ge(Be.shapelayer)}else ge(q._fullLayout._shapeLowerLayer);function ge(ne){var pe=z(q,be),G={"data-index":fe,"fill-rule":be.fillrule,d:pe},Oe=be.opacity,xe=be.fillcolor,Le=be.line.width?be.line.color:"rgba(0,0,0,0)",ke=be.line.width,$e=be.line.dash;!ke&&be.editable===!0&&(ke=5,$e="solid");var Ze=pe[pe.length-1]!=="Z",De=B(q)&&be.editable&&q._fullLayout._activeShapeIndex===fe;De&&(xe=Ze?"rgba(0,0,0,0)":q._fullLayout.activeshape.fillcolor,Oe=q._fullLayout.activeshape.opacity);var Ie=ne.append("g").classed("shape-group",!0).attr({"data-index":fe}),re=Ie.append("path").attr(G).style("opacity",Oe).call(T.stroke,Le).call(T.fill,xe).call(R.dashLine,$e,ke);W(Ie,q,be),C(q,fe,be,Ie);var ye;if((De||q._context.edits.shapePosition)&&(ye=M(q.layout,"shapes",be)),De){re.style({cursor:"move"});var te={element:re.node(),plotinfo:Te,gd:q,editHelpers:ye,hasText:be.label.text||be.label.texttemplate,isActiveShape:!0},se=x(pe,q);k(se,re,te)}else q._context.edits.shapePosition?Y(q,re,be,fe,ne,ye):be.editable===!0&&re.style("pointer-events",Ze||T.opacity(xe)*Oe<=.5?"stroke":"all");re.node().addEventListener("click",function(){return L(q,re)})}}function W(q,fe,ee){var be=(ee.xref+ee.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");R.setClipUrl(q,be?"clip"+fe._fullLayout._uid+be:null,fe)}function Y(q,fe,ee,be,Te,Be){var ge=10,ne=10,pe=ee.xsizemode==="pixel",G=ee.ysizemode==="pixel",Oe=ee.type==="line",xe=ee.type==="path",Le=Be.modifyItem,ke,$e,Ze,De,Ie,re,ye,te,se,ue,oe,Se,le,Ce,Qe,ze=p.select(fe.node().parentNode),Xe=b.getFromId(q,ee.xref),ct=b.getRefType(ee.xref),pt=b.getFromId(q,ee.yref),Ye=b.getRefType(ee.yref),je=F.getDataToPixel(q,Xe,!1,ct),et=F.getDataToPixel(q,pt,!0,Ye),yt=F.getPixelToData(q,Xe,!1,ct),ft=F.getPixelToData(q,pt,!0,Ye),tt=Gt(),wt={element:tt.node(),gd:q,prepFn:vn,doneFn:En,clickFn:ln},Xt;I.init(wt),tt.node().onmousemove=Bt;function Gt(){return Oe?Nt():fe}function Nt(){var Sn=10,it=Math.max(ee.line.width,Sn),ut=Te.append("g").attr("data-index",be).attr("drag-helper",!0);ut.append("path").attr("d",fe.attr("d")).style({cursor:"move","stroke-width":it,"stroke-opacity":"0"});var xt={"fill-opacity":"0"},gt=Math.max(it/2,Sn);return ut.append("circle").attr({"data-line-point":"start-point",cx:pe?je(ee.xanchor)+ee.x0:je(ee.x0),cy:G?et(ee.yanchor)-ee.y0:et(ee.y0),r:gt}).style(xt).classed("cursor-grab",!0),ut.append("circle").attr({"data-line-point":"end-point",cx:pe?je(ee.xanchor)+ee.x1:je(ee.x1),cy:G?et(ee.yanchor)-ee.y1:et(ee.y1),r:gt}).style(xt).classed("cursor-grab",!0),ut}function Bt(Sn){if(Q(q)){Xt=null;return}if(Oe)Sn.target.tagName==="path"?Xt="move":Xt=Sn.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var it=wt.element.getBoundingClientRect(),ut=it.right-it.left,xt=it.bottom-it.top,gt=Sn.clientX-it.left,Dt=Sn.clientY-it.top,He=!xe&&ut>ge&&xt>ne&&!Sn.shiftKey?I.getCursor(gt/ut,1-Dt/xt):"move";V(fe,He),Xt=He.split("-")[0]}}function vn(Sn){Q(q)||(pe&&(Ie=je(ee.xanchor)),G&&(re=et(ee.yanchor)),ee.type==="path"?Qe=ee.path:(ke=pe?ee.x0:je(ee.x0),$e=G?ee.y0:et(ee.y0),Ze=pe?ee.x1:je(ee.x1),De=G?ee.y1:et(ee.y1)),ke<Ze?(se=ke,le="x0",ue=Ze,Ce="x1"):(se=Ze,le="x1",ue=ke,Ce="x0"),!G&&$e<De||G&&$e>De?(ye=$e,oe="y0",te=De,Se="y1"):(ye=De,oe="y1",te=$e,Se="y0"),Bt(Sn),wn(Te,ee),Un(fe,ee,q),wt.moveFn=Xt==="move"?Yn:an,wt.altKey=Sn.altKey)}function En(){Q(q)||(V(fe),Xn(Te),W(fe,q,ee),v.call("_guiRelayout",q,Be.getUpdateObj()))}function ln(){Q(q)||Xn(Te)}function Yn(Sn,it){if(ee.type==="path"){var ut=function(Dt){return Dt},xt=ut,gt=ut;pe?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(xt=function(He){return yt(je(He)+Sn)},Xe&&Xe.type==="date"&&(xt=F.encodeDate(xt))),G?Le("yanchor",ee.yanchor=ft(re+it)):(gt=function(He){return ft(et(He)+it)},pt&&pt.type==="date"&&(gt=F.encodeDate(gt))),Le("path",ee.path=ie(Qe,xt,gt))}else pe?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(Le("x0",ee.x0=yt(ke+Sn)),Le("x1",ee.x1=yt(Ze+Sn))),G?Le("yanchor",ee.yanchor=ft(re+it)):(Le("y0",ee.y0=ft($e+it)),Le("y1",ee.y1=ft(De+it)));fe.attr("d",z(q,ee)),wn(Te,ee),C(q,be,ee,ze)}function an(Sn,it){if(xe){var ut=function(nr){return nr},xt=ut,gt=ut;pe?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(xt=function(Er){return yt(je(Er)+Sn)},Xe&&Xe.type==="date"&&(xt=F.encodeDate(xt))),G?Le("yanchor",ee.yanchor=ft(re+it)):(gt=function(Er){return ft(et(Er)+it)},pt&&pt.type==="date"&&(gt=F.encodeDate(gt))),Le("path",ee.path=ie(Qe,xt,gt))}else if(Oe){if(Xt==="resize-over-start-point"){var Dt=ke+Sn,He=G?$e-it:$e+it;Le("x0",ee.x0=pe?Dt:yt(Dt)),Le("y0",ee.y0=G?He:ft(He))}else if(Xt==="resize-over-end-point"){var at=Ze+Sn,dt=G?De-it:De+it;Le("x1",ee.x1=pe?at:yt(at)),Le("y1",ee.y1=G?dt:ft(dt))}}else{var mt=function(nr){return Xt.indexOf(nr)!==-1},Tt=mt("n"),Pt=mt("s"),dn=mt("w"),nn=mt("e"),Wt=Tt?ye+it:ye,Rt=Pt?te+it:te,fn=dn?se+Sn:se,Hn=nn?ue+Sn:ue;G&&(Tt&&(Wt=ye-it),Pt&&(Rt=te-it)),(!G&&Rt-Wt>ne||G&&Wt-Rt>ne)&&(Le(oe,ee[oe]=G?Wt:ft(Wt)),Le(Se,ee[Se]=G?Rt:ft(Rt))),Hn-fn>ge&&(Le(le,ee[le]=pe?fn:yt(fn)),Le(Ce,ee[Ce]=pe?Hn:yt(Hn)))}fe.attr("d",z(q,ee)),wn(Te,ee),C(q,be,ee,ze)}function wn(Sn,it){(pe||G)&&ut();function ut(){var xt=it.type!=="path",gt=Sn.selectAll(".visual-cue").data([0]),Dt=1;gt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Dt}).classed("visual-cue",!0);var He=je(pe?it.xanchor:y.midRange(xt?[it.x0,it.x1]:F.extractPathCoords(it.path,N.paramIsX))),at=et(G?it.yanchor:y.midRange(xt?[it.y0,it.y1]:F.extractPathCoords(it.path,N.paramIsY)));if(He=F.roundPositionForSharpStrokeRendering(He,Dt),at=F.roundPositionForSharpStrokeRendering(at,Dt),pe&&G){var dt="M"+(He-1-Dt)+","+(at-1-Dt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";gt.attr("d",dt)}else if(pe){var mt="M"+(He-1-Dt)+","+(at-9-Dt)+"v18 h2 v-18 Z";gt.attr("d",mt)}else{var Tt="M"+(He-9-Dt)+","+(at-1-Dt)+"h18 v2 h-18 Z";gt.attr("d",Tt)}}}function Xn(Sn){Sn.selectAll(".visual-cue").remove()}function Un(Sn,it,ut){var xt=it.xref,gt=it.yref,Dt=b.getFromId(ut,xt),He=b.getFromId(ut,gt),at="";xt!=="paper"&&!Dt.autorange&&(at+=xt),gt!=="paper"&&!He.autorange&&(at+=gt),R.setClipUrl(Sn,at?"clip"+ut._fullLayout._uid+at:null,ut)}}function ie(q,fe,ee){return q.replace(N.segmentRE,function(be){var Te=0,Be=be.charAt(0),ge=N.paramIsX[Be],ne=N.paramIsY[Be],pe=N.numParams[Be],G=be.substr(1).replace(N.paramRE,function(Oe){return Te>=pe||(ge[Te]?Oe=fe(Oe):ne[Te]&&(Oe=ee(Oe)),Te++),Oe});return Be+G})}function L(q,fe){if(B(q)){var ee=fe.node(),be=+ee.getAttribute("data-index");if(be>=0){if(be===q._fullLayout._activeShapeIndex){me(q);return}q._fullLayout._activeShapeIndex=be,q._fullLayout._deactivateShape=me,U(q)}}}function me(q){if(B(q)){var fe=q._fullLayout._activeShapeIndex;fe>=0&&(w(q),delete q._fullLayout._activeShapeIndex,U(q))}}function ae(q){if(B(q)){w(q);var fe=q._fullLayout._activeShapeIndex,ee=(q.layout||{}).shapes||[];if(fe<ee.length){for(var be=[],Te=0;Te<ee.length;Te++)Te!==fe&&be.push(ee[Te]);return delete q._fullLayout._activeShapeIndex,v.call("_guiRelayout",q,{shapes:be})}}}},9241:function(f,h,u){var p=u(962).overrideAll,v=u(9012),y=u(1940),b=u(9952).P,x=u(1426).extendFlat,k=u(5386).R,C=u(7281);f.exports=p({newshape:{visible:x({},v.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:x({},v.legend,{}),legendgroup:x({},v.legendgroup,{}),legendgrouptitle:{text:x({},v.legendgrouptitle.text,{}),font:y({})},legendrank:x({},v.legendrank,{}),legendwidth:x({},v.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:x({},b,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:x({},v.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:k({newshape:!0},{keys:Object.keys(C)}),font:y({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(f){var h=32;f.exports={CIRCLE_SIDES:h,i000:0,i090:h/4,i180:h/2,i270:h/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(f,h,u){var p=u(7901),v=u(1828);function y(b,x){return b?"bottom":x.indexOf("top")!==-1?"top":x.indexOf("bottom")!==-1?"bottom":"middle"}f.exports=function(x,k,C){C("newshape.visible"),C("newshape.name"),C("newshape.showlegend"),C("newshape.legend"),C("newshape.legendwidth"),C("newshape.legendgroup"),C("newshape.legendgrouptitle.text"),v.coerceFont(C,"newshape.legendgrouptitle.font"),C("newshape.legendrank"),C("newshape.drawdirection"),C("newshape.layer"),C("newshape.fillcolor"),C("newshape.fillrule"),C("newshape.opacity");var w=C("newshape.line.width");if(w){var T=(x||{}).plot_bgcolor||"#FFF";C("newshape.line.color",p.contrast(T)),C("newshape.line.dash")}var R=x.dragmode==="drawline",M=C("newshape.label.text"),I=C("newshape.label.texttemplate");if(M||I){C("newshape.label.textangle");var V=C("newshape.label.textposition",R?"middle":"middle center");C("newshape.label.xanchor"),C("newshape.label.yanchor",y(R,V)),C("newshape.label.padding"),v.coerceFont(C,"newshape.label.font",k.font)}C("activeshape.fillcolor"),C("activeshape.opacity")}},165:function(f,h,u){var p=u(5616),v=u(9995),y=v.CIRCLE_SIDES,b=v.SQRT2,x=u(5549),k=x.p2r,C=x.r2p,w=[0,3,4,5,6,1,2],T=[0,3,4,1,2];h.writePaths=function(I){var V=I.length;if(!V)return"M0,0Z";for(var N="",F=0;F<V;F++)for(var z=I[F].length,U=0;U<z;U++){var Q=I[F][U][0];if(Q==="Z")N+="Z";else for(var B=I[F][U].length,E=0;E<B;E++){var W=E;Q==="Q"||Q==="S"?W=T[E]:Q==="C"&&(W=w[E]),N+=I[F][U][W],E>0&&E<B-1&&(N+=",")}}return N},h.readPaths=function(I,V,N,F){var z=p(I),U=[],Q=-1,B=function(){Q++,U[Q]=[]},E,W=0,Y=0,ie,L,me=function(){ie=W,L=Y};me();for(var ae=0;ae<z.length;ae++){var q=[],fe,ee,be,Te,Be=z[ae][0],ge=Be;switch(Be){case"M":B(),W=+z[ae][1],Y=+z[ae][2],q.push([ge,W,Y]),me();break;case"Q":case"S":fe=+z[ae][1],be=+z[ae][2],W=+z[ae][3],Y=+z[ae][4],q.push([ge,W,Y,fe,be]);break;case"C":fe=+z[ae][1],be=+z[ae][2],ee=+z[ae][3],Te=+z[ae][4],W=+z[ae][5],Y=+z[ae][6],q.push([ge,W,Y,fe,be,ee,Te]);break;case"T":case"L":W=+z[ae][1],Y=+z[ae][2],q.push([ge,W,Y]);break;case"H":ge="L",W=+z[ae][1],q.push([ge,W,Y]);break;case"V":ge="L",Y=+z[ae][1],q.push([ge,W,Y]);break;case"A":ge="L";var ne=+z[ae][1],pe=+z[ae][2];+z[ae][4]||(ne=-ne,pe=-pe);var G=W-ne,Oe=Y;for(E=1;E<=y/2;E++){var xe=2*Math.PI*E/y;q.push([ge,G+ne*Math.cos(xe),Oe+pe*Math.sin(xe)])}break;case"Z":(W!==ie||Y!==L)&&(W=ie,Y=L,q.push([ge,W,Y]));break}for(var Le=(N||{}).domain,ke=V._fullLayout._size,$e=N&&N.xsizemode==="pixel",Ze=N&&N.ysizemode==="pixel",De=F===!1,Ie=0;Ie<q.length;Ie++){for(E=0;E+2<7;E+=2){var re=q[Ie][E+1],ye=q[Ie][E+2];re===void 0||ye===void 0||(W=re,Y=ye,N&&(N.xaxis&&N.xaxis.p2r?(De&&(re-=N.xaxis._offset),$e?re=C(N.xaxis,N.xanchor)+re:re=k(N.xaxis,re)):(De&&(re-=ke.l),Le?re=Le.x[0]+re/ke.w:re=re/ke.w),N.yaxis&&N.yaxis.p2r?(De&&(ye-=N.yaxis._offset),Ze?ye=C(N.yaxis,N.yanchor)-ye:ye=k(N.yaxis,ye)):(De&&(ye-=ke.t),Le?ye=Le.y[1]-ye/ke.h:ye=1-ye/ke.h)),q[Ie][E+1]=re,q[Ie][E+2]=ye)}U[Q].push(q[Ie].slice())}}return U};function R(I,V){return Math.abs(I-V)<=1e-6}function M(I,V){var N=V[1]-I[1],F=V[2]-I[2];return Math.sqrt(N*N+F*F)}h.pointsOnRectangle=function(I){var V=I.length;if(V!==5)return!1;for(var N=1;N<3;N++){var F=I[0][N]-I[1][N],z=I[3][N]-I[2][N];if(!R(F,z))return!1;var U=I[0][N]-I[3][N],Q=I[1][N]-I[2][N];if(!R(U,Q))return!1}return!R(I[0][1],I[1][1])&&!R(I[0][1],I[3][1])?!1:!!(M(I[0],I[1])*M(I[0],I[3]))},h.pointsOnEllipse=function(I){var V=I.length;if(V!==y+1)return!1;V=y;for(var N=0;N<V;N++){var F=(V*2-N)%V,z=(V/2+F)%V,U=(V/2+N)%V;if(!R(M(I[N],I[U]),M(I[F],I[z])))return!1}return!0},h.handleEllipse=function(I,V,N){if(!I)return[V,N];var F=h.ellipseOver({x0:V[0],y0:V[1],x1:N[0],y1:N[1]}),z=(F.x1+F.x0)/2,U=(F.y1+F.y0)/2,Q=(F.x1-F.x0)/2,B=(F.y1-F.y0)/2;Q||(Q=B=B/b),B||(B=Q=Q/b);for(var E=[],W=0;W<y;W++){var Y=W*2*Math.PI/y;E.push([z+Q*Math.cos(Y),U+B*Math.sin(Y)])}return E},h.ellipseOver=function(I){var V=I.x0,N=I.y0,F=I.x1,z=I.y1,U=F-V,Q=z-N;V-=U,N-=Q;var B=(V+F)/2,E=(N+z)/2,W=b;return U*=W,Q*=W,{x0:B-U,y0:E-Q,x1:B+U,y1:E+Q}},h.fixDatesForPaths=function(I,V,N){var F=V.type==="date",z=N.type==="date";if(!F&&!z)return I;for(var U=0;U<I.length;U++)for(var Q=0;Q<I[U].length;Q++)for(var B=0;B+2<I[U][Q].length;B+=2)F&&(I[U][Q][B+1]=I[U][Q][B+1].replace(" ","_")),z&&(I[U][Q][B+2]=I[U][Q][B+2].replace(" ","_"));return I}},551:function(f,h,u){var p=u(4505),v=p.drawMode,y=p.openMode,b=u(9995),x=b.i000,k=b.i090,C=b.i180,w=b.i270,T=b.cos45,R=b.sin45,M=u(5549),I=M.p2r,V=M.r2p,N=u(1873),F=N.clearOutline,z=u(165),U=z.readPaths,Q=z.writePaths,B=z.ellipseOver,E=z.fixDatesForPaths;function W(ie,L){if(ie.length){var me=ie[0][0];if(me){var ae=L.gd,q=L.isActiveShape,fe=L.dragmode,ee=(ae.layout||{}).shapes||[];if(!v(fe)&&q!==void 0){var be=ae._fullLayout._activeShapeIndex;if(be<ee.length)switch(ae._fullLayout.shapes[be].type){case"rect":fe="drawrect";break;case"circle":fe="drawcircle";break;case"line":fe="drawline";break;case"path":var Te=ee[be].path||"";Te[Te.length-1]==="Z"?fe="drawclosedpath":fe="drawopenpath";break}}var Be=Y(ie,L,fe);F(ae);for(var ge=L.editHelpers,ne=(ge||{}).modifyItem,pe=[],G=0;G<ee.length;G++){var Oe=ae._fullLayout.shapes[G];if(pe[G]=Oe._input,q!==void 0&&G===ae._fullLayout._activeShapeIndex){var xe=Be;switch(Oe.type){case"line":case"rect":case"circle":ne("x0",xe.x0),ne("x1",xe.x1),ne("y0",xe.y0),ne("y1",xe.y1);break;case"path":ne("path",xe.path);break}}}return q===void 0?(pe.push(Be),pe):ge?ge.getUpdateObj():{}}}}function Y(ie,L,me){var ae=ie[0][0],q=L.gd,fe=ae.getAttribute("d"),ee=q._fullLayout.newshape,be=L.plotinfo,Te=L.isActiveShape,Be=be.xaxis,ge=be.yaxis,ne=!!be.domain||!be.xaxis,pe=!!be.domain||!be.yaxis,G=y(me),Oe=U(fe,q,be,Te),xe={editable:!0,visible:ee.visible,name:ee.name,showlegend:ee.showlegend,legend:ee.legend,legendwidth:ee.legendwidth,legendgroup:ee.legendgroup,legendgrouptitle:{text:ee.legendgrouptitle.text,font:ee.legendgrouptitle.font},legendrank:ee.legendrank,label:ee.label,xref:ne?"paper":Be._id,yref:pe?"paper":ge._id,layer:ee.layer,opacity:ee.opacity,line:{color:ee.line.color,width:ee.line.width,dash:ee.line.dash}};G||(xe.fillcolor=ee.fillcolor,xe.fillrule=ee.fillrule);var Le;if(Oe.length===1&&(Le=Oe[0]),Le&&Le.length===5&&me==="drawrect")xe.type="rect",xe.x0=Le[0][1],xe.y0=Le[0][2],xe.x1=Le[2][1],xe.y1=Le[2][2];else if(Le&&me==="drawline")xe.type="line",xe.x0=Le[0][1],xe.y0=Le[0][2],xe.x1=Le[1][1],xe.y1=Le[1][2];else if(Le&&me==="drawcircle"){xe.type="circle";var ke=Le[x][1],$e=Le[k][1],Ze=Le[C][1],De=Le[w][1],Ie=Le[x][2],re=Le[k][2],ye=Le[C][2],te=Le[w][2],se=be.xaxis&&(be.xaxis.type==="date"||be.xaxis.type==="log"),ue=be.yaxis&&(be.yaxis.type==="date"||be.yaxis.type==="log");se&&(ke=V(be.xaxis,ke),$e=V(be.xaxis,$e),Ze=V(be.xaxis,Ze),De=V(be.xaxis,De)),ue&&(Ie=V(be.yaxis,Ie),re=V(be.yaxis,re),ye=V(be.yaxis,ye),te=V(be.yaxis,te));var oe=($e+De)/2,Se=(Ie+ye)/2,le=(De-$e+Ze-ke)/2,Ce=(te-re+ye-Ie)/2,Qe=B({x0:oe,y0:Se,x1:oe+le*T,y1:Se+Ce*R});se&&(Qe.x0=I(be.xaxis,Qe.x0),Qe.x1=I(be.xaxis,Qe.x1)),ue&&(Qe.y0=I(be.yaxis,Qe.y0),Qe.y1=I(be.yaxis,Qe.y1)),xe.x0=Qe.x0,xe.y0=Qe.y0,xe.x1=Qe.x1,xe.y1=Qe.y1}else xe.type="path",Be&&ge&&E(Oe,Be,ge),xe.path=Q(Oe),Le=null;return xe}f.exports={newShapes:W,createShapeObj:Y}},1873:function(f){function h(p){var v=p._fullLayout._zoomlayer;v&&v.selectAll(".outline-controllers").remove()}function u(p){var v=p._fullLayout._zoomlayer;v&&v.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}f.exports={clearOutlineControllers:h,clearOutline:u}},477:function(f,h,u){var p=u(1459),v=u(1828),y=u(9298);h.rangeToShapePosition=function(x){return x.type==="log"?x.r2d:function(k){return k}},h.shapePositionToRange=function(x){return x.type==="log"?x.d2r:function(k){return k}},h.decodeDate=function(x){return function(k){return k.replace&&(k=k.replace("_"," ")),x(k)}},h.encodeDate=function(x){return function(k){return x(k).replace(" ","_")}},h.extractPathCoords=function(x,k,C){var w=[],T=x.match(p.segmentRE);return T.forEach(function(R){var M=k[R.charAt(0)].drawn;if(M!==void 0){var I=R.substr(1).match(p.paramRE);if(!(!I||I.length<M)){var V=I[M],N=C?V:v.cleanNumber(V);w.push(N)}}}),w},h.getDataToPixel=function(x,k,C,w){var T=x._fullLayout._size,R;if(k)if(w==="domain")R=function(I){return k._length*(C?1-I:I)+k._offset};else{var M=h.shapePositionToRange(k);R=function(I){return k._offset+k.r2p(M(I,!0))},k.type==="date"&&(R=h.decodeDate(R))}else C?R=function(I){return T.t+T.h*(1-I)}:R=function(I){return T.l+T.w*I};return R},h.getPixelToData=function(x,k,C,w){var T=x._fullLayout._size,R;if(k)if(w==="domain")R=function(I){var V=(I-k._offset)/k._length;return C?1-V:V};else{var M=h.rangeToShapePosition(k);R=function(I){return M(k.p2r(I-k._offset))}}else C?R=function(I){return 1-(I-T.t)/T.h}:R=function(I){return(I-T.l)/T.w};return R},h.roundPositionForSharpStrokeRendering=function(x,k){var C=Math.round(k%2)===1,w=Math.round(x);return C?w+.5:w},h.makeShapesOptionsAndPlotinfo=function(x,k){var C=x._fullLayout.shapes[k]||{},w=x._fullLayout._plots[C.xref+C.yref],T=!!w;return T?w._hadPlotinfo=!0:(w={},C.xref&&C.xref!=="paper"&&(w.xaxis=x._fullLayout[C.xref+"axis"]),C.yref&&C.yref!=="paper"&&(w.yaxis=x._fullLayout[C.yref+"axis"])),w.xsizemode=C.xsizemode,w.ysizemode=C.ysizemode,w.xanchor=C.xanchor,w.yanchor=C.yanchor,{options:C,plotinfo:w}},h.makeSelectionsOptionsAndPlotinfo=function(x,k){var C=x._fullLayout.selections[k]||{},w=x._fullLayout._plots[C.xref+C.yref],T=!!w;return T?w._hadPlotinfo=!0:(w={},C.xref&&(w.xaxis=x._fullLayout[C.xref+"axis"]),C.yref&&(w.yaxis=x._fullLayout[C.yref+"axis"])),{options:C,plotinfo:w}},h.getPathString=function(x,k){var C=k.type,w=y.getRefType(k.xref),T=y.getRefType(k.yref),R=y.getFromId(x,k.xref),M=y.getFromId(x,k.yref),I=x._fullLayout._size,V,N,F,z,U,Q,B,E;if(R?w==="domain"?N=function(be){return R._offset+R._length*be}:(V=h.shapePositionToRange(R),N=function(be){return R._offset+R.r2p(V(be,!0))}):N=function(be){return I.l+I.w*be},M?T==="domain"?z=function(be){return M._offset+M._length*(1-be)}:(F=h.shapePositionToRange(M),z=function(be){return M._offset+M.r2p(F(be,!0))}):z=function(be){return I.t+I.h*(1-be)},C==="path")return R&&R.type==="date"&&(N=h.decodeDate(N)),M&&M.type==="date"&&(z=h.decodeDate(z)),b(k,N,z);if(k.xsizemode==="pixel"){var W=N(k.xanchor);U=W+k.x0,Q=W+k.x1}else U=N(k.x0),Q=N(k.x1);if(k.ysizemode==="pixel"){var Y=z(k.yanchor);B=Y-k.y0,E=Y-k.y1}else B=z(k.y0),E=z(k.y1);if(C==="line")return"M"+U+","+B+"L"+Q+","+E;if(C==="rect")return"M"+U+","+B+"H"+Q+"V"+E+"H"+U+"Z";var ie=(U+Q)/2,L=(B+E)/2,me=Math.abs(ie-U),ae=Math.abs(L-B),q="A"+me+","+ae,fe=ie+me+","+L,ee=ie+","+(L-ae);return"M"+fe+q+" 0 1,1 "+ee+q+" 0 0,1 "+fe+"Z"};function b(x,k,C){var w=x.path,T=x.xsizemode,R=x.ysizemode,M=x.xanchor,I=x.yanchor;return w.replace(p.segmentRE,function(V){var N=0,F=V.charAt(0),z=p.paramIsX[F],U=p.paramIsY[F],Q=p.numParams[F],B=V.substr(1).replace(p.paramRE,function(E){return z[N]?T==="pixel"?E=k(M)+Number(E):E=k(E):U[N]&&(R==="pixel"?E=C(I)-Number(E):E=C(E)),N++,N>Q&&(E="X"),E});return N>Q&&(B=B.replace(/[\s,]*X.*/,""),v.log("Ignoring extra params in segment "+V)),F+B})}},9853:function(f,h,u){var p=u(4031);f.exports={moduleType:"component",name:"shapes",layoutAttributes:u(9827),supplyLayoutDefaults:u(4726),supplyDrawNewShapeDefaults:u(5547),includeBasePlot:u(6325)("shapes"),calcAutorange:u(5627),draw:p.draw,drawOne:p.drawOne}},7281:function(f){function h(V,N){return N?N.d2l(V):V}function u(V,N){return N?N.l2d(V):V}function p(V){return V.x0}function v(V){return V.x1}function y(V){return V.y0}function b(V){return V.y1}function x(V,N){return h(V.x1,N)-h(V.x0,N)}function k(V,N,F){return h(V.y1,F)-h(V.y0,F)}function C(V,N){return Math.abs(x(V,N))}function w(V,N,F){return Math.abs(k(V,N,F))}function T(V,N,F){return V.type!=="line"?void 0:Math.sqrt(Math.pow(x(V,N),2)+Math.pow(k(V,N,F),2))}function R(V,N){return u((h(V.x1,N)+h(V.x0,N))/2,N)}function M(V,N,F){return u((h(V.y1,F)+h(V.y0,F))/2,F)}function I(V,N,F){return V.type!=="line"?void 0:k(V,N,F)/x(V,N)}f.exports={x0:p,x1:v,y0:y,y1:b,slope:I,dx:x,dy:k,width:C,height:w,length:T,xcenter:R,ycenter:M}},5067:function(f,h,u){var p=u(1940),v=u(5025),y=u(1426).extendDeepAll,b=u(962).overrideAll,x=u(5594),k=u(4467).templatedArray,C=u(8292),w=k("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});f.exports=b(k("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:w,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:y(v({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:x.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:C.gripBgActiveColor},bgcolor:{valType:"color",dflt:C.railBgColor},bordercolor:{valType:"color",dflt:C.railBorderColor},borderwidth:{valType:"number",min:0,dflt:C.railBorderWidth},ticklen:{valType:"number",min:0,dflt:C.tickLength},tickcolor:{valType:"color",dflt:C.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:C.minorTickLength}}),"arraydraw","from-root")},8292:function(f){f.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(f,h,u){var p=u(1828),v=u(5501),y=u(5067),b=u(8292),x=b.name,k=y.steps;f.exports=function(R,M){v(R,M,{name:x,handleItemDefaults:C})};function C(T,R,M){function I(E,W){return p.coerce(T,R,y,E,W)}for(var V=v(T,R,{name:"steps",handleItemDefaults:w}),N=0,F=0;F<V.length;F++)V[F].visible&&N++;var z;if(N<2?z=R.visible=!1:z=I("visible"),!!z){R._stepCount=N;var U=R._visibleSteps=p.filterVisible(V),Q=I("active");(V[Q]||{}).visible||(R.active=U[0]._index),I("x"),I("y"),p.noneOrAll(T,R,["x","y"]),I("xanchor"),I("yanchor"),I("len"),I("lenmode"),I("pad.t"),I("pad.r"),I("pad.b"),I("pad.l"),p.coerceFont(I,"font",M.font);var B=I("currentvalue.visible");B&&(I("currentvalue.xanchor"),I("currentvalue.prefix"),I("currentvalue.suffix"),I("currentvalue.offset"),p.coerceFont(I,"currentvalue.font",R.font)),I("transition.duration"),I("transition.easing"),I("bgcolor"),I("activebgcolor"),I("bordercolor"),I("borderwidth"),I("ticklen"),I("tickwidth"),I("tickcolor"),I("minorticklen")}}function w(T,R){function M(N,F){return p.coerce(T,R,k,N,F)}var I;if(T.method!=="skip"&&!Array.isArray(T.args)?I=R.visible=!1:I=M("visible"),I){M("method"),M("args");var V=M("label","step-"+R._index);M("value",V),M("execute")}}},4504:function(f,h,u){var p=u(9898),v=u(4875),y=u(7901),b=u(1424),x=u(1828),k=x.strTranslate,C=u(3893),w=u(4467).arrayEditor,T=u(8292),R=u(8783),M=R.LINE_SPACING,I=R.FROM_TL,V=R.FROM_BR;f.exports=function(ne){var pe=ne._context.staticPlot,G=ne._fullLayout,Oe=F(G,ne),xe=G._infolayer.selectAll("g."+T.containerClassName).data(Oe.length>0?[0]:[]);xe.enter().append("g").classed(T.containerClassName,!0).style("cursor",pe?null:"ew-resize");function Le(De){De._commandObserver&&(De._commandObserver.remove(),delete De._commandObserver),v.autoMargin(ne,N(De))}if(xe.exit().each(function(){p.select(this).selectAll("g."+T.groupClassName).each(Le)}).remove(),Oe.length!==0){var ke=xe.selectAll("g."+T.groupClassName).data(Oe,z);ke.enter().append("g").classed(T.groupClassName,!0),ke.exit().each(Le).remove();for(var $e=0;$e<Oe.length;$e++){var Ze=Oe[$e];U(ne,Ze)}ke.each(function(De){var Ie=p.select(this);q(De),v.manageCommandObserver(ne,De,De._visibleSteps,function(re){var ye=Ie.data()[0];ye.active!==re.index&&(ye._dragging||L(ne,Ie,ye,re.index,!1,!0))}),Q(ne,p.select(this),De)})}};function N(ge){return T.autoMarginIdRoot+ge._index}function F(ge,ne){for(var pe=ge[T.name],G=[],Oe=0;Oe<pe.length;Oe++){var xe=pe[Oe];xe.visible&&(xe._gd=ne,G.push(xe))}return G}function z(ge){return ge._index}function U(ge,ne){var pe=b.tester.selectAll("g."+T.labelGroupClass).data(ne._visibleSteps);pe.enter().append("g").classed(T.labelGroupClass,!0);var G=0,Oe=0;pe.each(function(te){var se=p.select(this),ue=W(se,{step:te},ne),oe=ue.node();if(oe){var Se=b.bBox(oe);Oe=Math.max(Oe,Se.height),G=Math.max(G,Se.width)}}),pe.remove();var xe=ne._dims={};xe.inputAreaWidth=Math.max(T.railWidth,T.gripHeight);var Le=ge._fullLayout._size;xe.lx=Le.l+Le.w*ne.x,xe.ly=Le.t+Le.h*(1-ne.y),ne.lenmode==="fraction"?xe.outerLength=Math.round(Le.w*ne.len):xe.outerLength=ne.len,xe.inputAreaStart=0,xe.inputAreaLength=Math.round(xe.outerLength-ne.pad.l-ne.pad.r);var ke=xe.inputAreaLength-2*T.stepInset,$e=ke/(ne._stepCount-1),Ze=G+T.labelPadding;if(xe.labelStride=Math.max(1,Math.ceil(Ze/$e)),xe.labelHeight=Oe,xe.currentValueMaxWidth=0,xe.currentValueHeight=0,xe.currentValueTotalHeight=0,xe.currentValueMaxLines=1,ne.currentvalue.visible){var De=b.tester.append("g");pe.each(function(te){var se=B(De,ne,te.label),ue=se.node()&&b.bBox(se.node())||{width:0,height:0},oe=C.lineCount(se);xe.currentValueMaxWidth=Math.max(xe.currentValueMaxWidth,Math.ceil(ue.width)),xe.currentValueHeight=Math.max(xe.currentValueHeight,Math.ceil(ue.height)),xe.currentValueMaxLines=Math.max(xe.currentValueMaxLines,oe)}),xe.currentValueTotalHeight=xe.currentValueHeight+ne.currentvalue.offset,De.remove()}xe.height=xe.currentValueTotalHeight+T.tickOffset+ne.ticklen+T.labelOffset+xe.labelHeight+ne.pad.t+ne.pad.b;var Ie="left";x.isRightAnchor(ne)&&(xe.lx-=xe.outerLength,Ie="right"),x.isCenterAnchor(ne)&&(xe.lx-=xe.outerLength/2,Ie="center");var re="top";x.isBottomAnchor(ne)&&(xe.ly-=xe.height,re="bottom"),x.isMiddleAnchor(ne)&&(xe.ly-=xe.height/2,re="middle"),xe.outerLength=Math.ceil(xe.outerLength),xe.height=Math.ceil(xe.height),xe.lx=Math.round(xe.lx),xe.ly=Math.round(xe.ly);var ye={y:ne.y,b:xe.height*V[re],t:xe.height*I[re]};ne.lenmode==="fraction"?(ye.l=0,ye.xl=ne.x-ne.len*I[Ie],ye.r=0,ye.xr=ne.x+ne.len*V[Ie]):(ye.x=ne.x,ye.l=xe.outerLength*I[Ie],ye.r=xe.outerLength*V[Ie]),v.autoMargin(ge,N(ne),ye)}function Q(ge,ne,pe){(pe.steps[pe.active]||{}).visible||(pe.active=pe._visibleSteps[0]._index),ne.call(B,pe).call(Be,pe).call(Y,pe).call(ae,pe).call(Te,ge,pe).call(E,ge,pe);var G=pe._dims;b.setTranslate(ne,G.lx+pe.pad.l,G.ly+pe.pad.t),ne.call(fe,pe,!1),ne.call(B,pe)}function B(ge,ne,pe){if(ne.currentvalue.visible){var G=ne._dims,Oe,xe;switch(ne.currentvalue.xanchor){case"right":Oe=G.inputAreaLength-T.currentValueInset-G.currentValueMaxWidth,xe="left";break;case"center":Oe=G.inputAreaLength*.5,xe="middle";break;default:Oe=T.currentValueInset,xe="left"}var Le=x.ensureSingle(ge,"text",T.labelClass,function(re){re.attr({"text-anchor":xe,"data-notex":1})}),ke=ne.currentvalue.prefix?ne.currentvalue.prefix:"";if(typeof pe=="string")ke+=pe;else{var $e=ne.steps[ne.active].label,Ze=ne._gd._fullLayout._meta;Ze&&($e=x.templateString($e,Ze)),ke+=$e}ne.currentvalue.suffix&&(ke+=ne.currentvalue.suffix),Le.call(b.font,ne.currentvalue.font).text(ke).call(C.convertToTspans,ne._gd);var De=C.lineCount(Le),Ie=(G.currentValueMaxLines+1-De)*ne.currentvalue.font.size*M;return C.positionText(Le,Oe,Ie),Le}}function E(ge,ne,pe){var G=x.ensureSingle(ge,"rect",T.gripRectClass,function(Oe){Oe.call(me,ne,ge,pe).style("pointer-events","all")});G.attr({width:T.gripWidth,height:T.gripHeight,rx:T.gripRadius,ry:T.gripRadius}).call(y.stroke,pe.bordercolor).call(y.fill,pe.bgcolor).style("stroke-width",pe.borderwidth+"px")}function W(ge,ne,pe){var G=x.ensureSingle(ge,"text",T.labelClass,function(Le){Le.attr({"text-anchor":"middle","data-notex":1})}),Oe=ne.step.label,xe=pe._gd._fullLayout._meta;return xe&&(Oe=x.templateString(Oe,xe)),G.call(b.font,pe.font).text(Oe).call(C.convertToTspans,pe._gd),G}function Y(ge,ne){var pe=x.ensureSingle(ge,"g",T.labelsClass),G=ne._dims,Oe=pe.selectAll("g."+T.labelGroupClass).data(G.labelSteps);Oe.enter().append("g").classed(T.labelGroupClass,!0),Oe.exit().remove(),Oe.each(function(xe){var Le=p.select(this);Le.call(W,xe,ne),b.setTranslate(Le,ee(ne,xe.fraction),T.tickOffset+ne.ticklen+ne.font.size*M+T.labelOffset+G.currentValueTotalHeight)})}function ie(ge,ne,pe,G,Oe){var xe=Math.round(G*(pe._stepCount-1)),Le=pe._visibleSteps[xe]._index;Le!==pe.active&&L(ge,ne,pe,Le,!0,Oe)}function L(ge,ne,pe,G,Oe,xe){var Le=pe.active;pe.active=G,w(ge.layout,T.name,pe).applyUpdate("active",G);var ke=pe.steps[pe.active];ne.call(fe,pe,xe),ne.call(B,pe),ge.emit("plotly_sliderchange",{slider:pe,step:pe.steps[pe.active],interaction:Oe,previousActive:Le}),ke&&ke.method&&Oe&&(ne._nextMethod?(ne._nextMethod.step=ke,ne._nextMethod.doCallback=Oe,ne._nextMethod.doTransition=xe):(ne._nextMethod={step:ke,doCallback:Oe,doTransition:xe},ne._nextMethodRaf=window.requestAnimationFrame(function(){var $e=ne._nextMethod.step;$e.method&&($e.execute&&v.executeAPICommand(ge,$e.method,$e.args),ne._nextMethod=null,ne._nextMethodRaf=null)})))}function me(ge,ne,pe){if(ne._context.staticPlot)return;var G=pe.node(),Oe=p.select(ne);function xe(){return pe.data()[0]}function Le(){var ke=xe();ne.emit("plotly_sliderstart",{slider:ke});var $e=pe.select("."+T.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),$e.call(y.fill,ke.activebgcolor);var Ze=be(ke,p.mouse(G)[0]);ie(ne,pe,ke,Ze,!0),ke._dragging=!0;function De(){var re=xe(),ye=be(re,p.mouse(G)[0]);ie(ne,pe,re,ye,!1)}Oe.on("mousemove",De),Oe.on("touchmove",De);function Ie(){var re=xe();re._dragging=!1,$e.call(y.fill,re.bgcolor),Oe.on("mouseup",null),Oe.on("mousemove",null),Oe.on("touchend",null),Oe.on("touchmove",null),ne.emit("plotly_sliderend",{slider:re,step:re.steps[re.active]})}Oe.on("mouseup",Ie),Oe.on("touchend",Ie)}ge.on("mousedown",Le),ge.on("touchstart",Le)}function ae(ge,ne){var pe=ge.selectAll("rect."+T.tickRectClass).data(ne._visibleSteps),G=ne._dims;pe.enter().append("rect").classed(T.tickRectClass,!0),pe.exit().remove(),pe.attr({width:ne.tickwidth+"px","shape-rendering":"crispEdges"}),pe.each(function(Oe,xe){var Le=xe%G.labelStride===0,ke=p.select(this);ke.attr({height:Le?ne.ticklen:ne.minorticklen}).call(y.fill,ne.tickcolor),b.setTranslate(ke,ee(ne,xe/(ne._stepCount-1))-.5*ne.tickwidth,(Le?T.tickOffset:T.minorTickOffset)+G.currentValueTotalHeight)})}function q(ge){var ne=ge._dims;ne.labelSteps=[];for(var pe=ge._stepCount,G=0;G<pe;G+=ne.labelStride)ne.labelSteps.push({fraction:G/(pe-1),step:ge._visibleSteps[G]})}function fe(ge,ne,pe){for(var G=ge.select("rect."+T.gripRectClass),Oe=0,xe=0;xe<ne._stepCount;xe++)if(ne._visibleSteps[xe]._index===ne.active){Oe=xe;break}var Le=ee(ne,Oe/(ne._stepCount-1));if(!ne._invokingCommand){var ke=G;pe&&ne.transition.duration>0&&(ke=ke.transition().duration(ne.transition.duration).ease(ne.transition.easing)),ke.attr("transform",k(Le-T.gripWidth*.5,ne._dims.currentValueTotalHeight))}}function ee(ge,ne){var pe=ge._dims;return pe.inputAreaStart+T.stepInset+(pe.inputAreaLength-2*T.stepInset)*Math.min(1,Math.max(0,ne))}function be(ge,ne){var pe=ge._dims;return Math.min(1,Math.max(0,(ne-T.stepInset-pe.inputAreaStart)/(pe.inputAreaLength-2*T.stepInset-2*pe.inputAreaStart)))}function Te(ge,ne,pe){var G=pe._dims,Oe=x.ensureSingle(ge,"rect",T.railTouchRectClass,function(xe){xe.call(me,ne,ge,pe).style("pointer-events","all")});Oe.attr({width:G.inputAreaLength,height:Math.max(G.inputAreaWidth,T.tickOffset+pe.ticklen+G.labelHeight)}).call(y.fill,pe.bgcolor).attr("opacity",0),b.setTranslate(Oe,0,G.currentValueTotalHeight)}function Be(ge,ne){var pe=ne._dims,G=pe.inputAreaLength-T.railInset*2,Oe=x.ensureSingle(ge,"rect",T.railRectClass);Oe.attr({width:G,height:T.railWidth,rx:T.railRadius,ry:T.railRadius,"shape-rendering":"crispEdges"}).call(y.stroke,ne.bordercolor).call(y.fill,ne.bgcolor).style("stroke-width",ne.borderwidth+"px"),b.setTranslate(Oe,T.railInset,(pe.inputAreaWidth-T.railWidth)*.5+pe.currentValueTotalHeight)}},3243:function(f,h,u){var p=u(8292);f.exports={moduleType:"component",name:p.name,layoutAttributes:u(5067),supplyLayoutDefaults:u(2343),draw:u(4504)}},2998:function(f,h,u){var p=u(9898),v=u(2770),y=u(4875),b=u(3972),x=u(1828),k=x.strTranslate,C=u(1424),w=u(7901),T=u(3893),R=u(7822),M=u(8783).OPPOSITE_SIDE,I=/ [XY][0-9]* /;function V(N,F,z){var U=z.propContainer,Q=z.propName,B=z.placeholder,E=z.traceIndex,W=z.avoid||{},Y=z.attributes,ie=z.transform,L=z.containerGroup,me=N._fullLayout,ae=1,q=!1,fe=U.title,ee=(fe&&fe.text?fe.text:"").trim(),be=fe&&fe.font?fe.font:{},Te=be.family,Be=be.size,ge=be.color,ne;Q==="title.text"?ne="titleText":Q.indexOf("axis")!==-1?ne="axisTitleText":Q.indexOf("colorbar"!==-1)&&(ne="colorbarTitleText");var pe=N._context.edits[ne];ee===""?ae=0:ee.replace(I," % ")===B.replace(I," % ")&&(ae=.2,q=!0,pe||(ee="")),z._meta?ee=x.templateString(ee,z._meta):me._meta&&(ee=x.templateString(ee,me._meta));var G=ee||pe,Oe;L||(L=x.ensureSingle(me._infolayer,"g","g-"+F),Oe=me._hColorbarMoveTitle);var xe=L.selectAll("text").data(G?[0]:[]);if(xe.enter().append("text"),xe.text(ee).attr("class",F),xe.exit().remove(),!G)return L;function Le(De){x.syncOrAsync([ke,$e],De)}function ke(De){var Ie;return!ie&&Oe&&(ie={}),ie?(Ie="",ie.rotate&&(Ie+="rotate("+[ie.rotate,Y.x,Y.y]+")"),(ie.offset||Oe)&&(Ie+=k(0,(ie.offset||0)-(Oe||0)))):Ie=null,De.attr("transform",Ie),De.style({"font-family":Te,"font-size":p.round(Be,2)+"px",fill:w.rgb(ge),opacity:ae*w.opacity(ge),"font-weight":y.fontWeight}).attr(Y).call(T.convertToTspans,N),y.previousPromises(N)}function $e(De){var Ie=p.select(De.node().parentNode);if(W&&W.selection&&W.side&&ee){Ie.attr("transform",null);var re=M[W.side],ye=W.side==="left"||W.side==="top"?-1:1,te=v(W.pad)?W.pad:2,se=C.bBox(Ie.node()),ue={t:0,b:0,l:0,r:0},oe=N._fullLayout._reservedMargin;for(var Se in oe)for(var le in oe[Se]){var Ce=oe[Se][le];ue[le]=Math.max(ue[le],Ce)}var Qe={left:ue.l,top:ue.t,right:me.width-ue.r,bottom:me.height-ue.b},ze=W.maxShift||ye*(Qe[W.side]-se[W.side]),Xe=0;if(ze<0)Xe=ze;else{var ct=W.offsetLeft||0,pt=W.offsetTop||0;se.left-=ct,se.right-=ct,se.top-=pt,se.bottom-=pt,W.selection.each(function(){var je=C.bBox(this);x.bBoxIntersect(se,je,te)&&(Xe=Math.max(Xe,ye*(je[W.side]-se[re])+te))}),Xe=Math.min(ze,Xe),U._titleScoot=Math.abs(Xe)}if(Xe>0||ze<0){var Ye={left:[-Xe,0],right:[Xe,0],top:[0,-Xe],bottom:[0,Xe]}[W.side];Ie.attr("transform",k(Ye[0],Ye[1]))}}}xe.call(Le);function Ze(){ae=0,q=!0,xe.text(B).on("mouseover.opacity",function(){p.select(this).transition().duration(R.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(R.HIDE_PLACEHOLDER).style("opacity",0)})}return pe&&(ee?xe.on(".opacity",null):Ze(),xe.call(T.makeEditable,{gd:N}).on("edit",function(De){E!==void 0?b.call("_guiRestyle",N,Q,De,E):b.call("_guiRelayout",N,Q,De)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Le)}).on("input",function(De){this.text(De||" ").call(T.positionText,Y.x,Y.y)})),xe.classed("js-placeholder",q),L}f.exports={draw:V}},7163:function(f,h,u){var p=u(1940),v=u(2399),y=u(1426).extendFlat,b=u(962).overrideAll,x=u(5025),k=u(4467).templatedArray,C=k("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});f.exports=b(k("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:C,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:y(x({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:v.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(f){f.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},4897:function(f,h,u){var p=u(1828),v=u(5501),y=u(7163),b=u(5909),x=b.name,k=y.buttons;f.exports=function(R,M){var I={name:x,handleItemDefaults:C};v(R,M,I)};function C(T,R,M){function I(F,z){return p.coerce(T,R,y,F,z)}var V=v(T,R,{name:"buttons",handleItemDefaults:w}),N=I("visible",V.length>0);N&&(I("active"),I("direction"),I("type"),I("showactive"),I("x"),I("y"),p.noneOrAll(T,R,["x","y"]),I("xanchor"),I("yanchor"),I("pad.t"),I("pad.r"),I("pad.b"),I("pad.l"),p.coerceFont(I,"font",M.font),I("bgcolor",M.paper_bgcolor),I("bordercolor"),I("borderwidth"))}function w(T,R){function M(V,N){return p.coerce(T,R,k,V,N)}var I=M("visible",T.method==="skip"||Array.isArray(T.args));I&&(M("method"),M("args"),M("args2"),M("label"),M("execute"))}},3689:function(f,h,u){var p=u(9898),v=u(4875),y=u(7901),b=u(1424),x=u(1828),k=u(3893),C=u(4467).arrayEditor,w=u(8783).LINE_SPACING,T=u(5909),R=u(5849);f.exports=function(be){var Te=be._fullLayout,Be=x.filterVisible(Te[T.name]);function ge($e){v.autoMargin(be,ae($e))}var ne=Te._menulayer.selectAll("g."+T.containerClassName).data(Be.length>0?[0]:[]);if(ne.enter().append("g").classed(T.containerClassName,!0).style("cursor","pointer"),ne.exit().each(function(){p.select(this).selectAll("g."+T.headerGroupClassName).each(ge)}).remove(),Be.length!==0){var pe=ne.selectAll("g."+T.headerGroupClassName).data(Be,M);pe.enter().append("g").classed(T.headerGroupClassName,!0);for(var G=x.ensureSingle(ne,"g",T.dropdownButtonGroupClassName,function($e){$e.style("pointer-events","all")}),Oe=0;Oe<Be.length;Oe++){var xe=Be[Oe];me(be,xe)}var Le="updatemenus"+Te._uid,ke=new R(be,G,Le);pe.enter().size()&&(G.node().parentNode.appendChild(G.node()),G.call(fe)),pe.exit().each(function($e){G.call(fe),ge($e)}).remove(),pe.each(function($e){var Ze=p.select(this),De=$e.type==="dropdown"?G:null;v.manageCommandObserver(be,$e,$e.buttons,function(Ie){N(be,$e,$e.buttons[Ie.index],Ze,De,ke,Ie.index,!0)}),$e.type==="dropdown"?(F(be,Ze,G,ke,$e),V(G,$e)&&z(be,Ze,G,ke,$e)):z(be,Ze,null,null,$e)})}};function M(ee){return ee._index}function I(ee){return+ee.attr(T.menuIndexAttrName)==-1}function V(ee,be){return+ee.attr(T.menuIndexAttrName)===be._index}function N(ee,be,Te,Be,ge,ne,pe,G){be.active=pe,C(ee.layout,T.name,be).applyUpdate("active",pe),be.type==="buttons"?z(ee,Be,null,null,be):be.type==="dropdown"&&(ge.attr(T.menuIndexAttrName,"-1"),F(ee,Be,ge,ne,be),G||z(ee,Be,ge,ne,be))}function F(ee,be,Te,Be,ge){var ne=x.ensureSingle(be,"g",T.headerClassName,function($e){$e.style("pointer-events","all")}),pe=ge._dims,G=ge.active,Oe=ge.buttons[G]||T.blankHeaderOpts,xe={y:ge.pad.t,yPad:0,x:ge.pad.l,xPad:0,index:0},Le={width:pe.headerWidth,height:pe.headerHeight};ne.call(B,ge,Oe,ee).call(q,ge,xe,Le);var ke=x.ensureSingle(be,"text",T.headerArrowClassName,function($e){$e.attr("text-anchor","end").call(b.font,ge.font).text(T.arrowSymbol[ge.direction])});ke.attr({x:pe.headerWidth-T.arrowOffsetX+ge.pad.l,y:pe.headerHeight/2+T.textOffsetY+ge.pad.t}),ne.on("click",function(){Te.call(fe,String(V(Te,ge)?-1:ge._index)),z(ee,be,Te,Be,ge)}),ne.on("mouseover",function(){ne.call(ie)}),ne.on("mouseout",function(){ne.call(L,ge)}),b.setTranslate(be,pe.lx,pe.ly)}function z(ee,be,Te,Be,ge){Te||(Te=be,Te.attr("pointer-events","all"));var ne=!I(Te)||ge.type==="buttons"?ge.buttons:[],pe=ge.type==="dropdown"?T.dropdownButtonClassName:T.buttonClassName,G=Te.selectAll("g."+pe).data(x.filterVisible(ne)),Oe=G.enter().append("g").classed(pe,!0),xe=G.exit();ge.type==="dropdown"?(Oe.attr("opacity","0").transition().attr("opacity","1"),xe.transition().attr("opacity","0").remove()):xe.remove();var Le=0,ke=0,$e=ge._dims,Ze=["up","down"].indexOf(ge.direction)!==-1;ge.type==="dropdown"&&(Ze?ke=$e.headerHeight+T.gapButtonHeader:Le=$e.headerWidth+T.gapButtonHeader),ge.type==="dropdown"&&ge.direction==="up"&&(ke=-T.gapButtonHeader+T.gapButton-$e.openHeight),ge.type==="dropdown"&&ge.direction==="left"&&(Le=-T.gapButtonHeader+T.gapButton-$e.openWidth);var De={x:$e.lx+Le+ge.pad.l,y:$e.ly+ke+ge.pad.t,yPad:T.gapButton,xPad:T.gapButton,index:0},Ie={l:De.x+ge.borderwidth,t:De.y+ge.borderwidth};G.each(function(re,ye){var te=p.select(this);te.call(B,ge,re,ee).call(q,ge,De),te.on("click",function(){p.event.defaultPrevented||(re.execute&&(re.args2&&ge.active===ye?(N(ee,ge,re,be,Te,Be,-1),v.executeAPICommand(ee,re.method,re.args2)):(N(ee,ge,re,be,Te,Be,ye),v.executeAPICommand(ee,re.method,re.args))),ee.emit("plotly_buttonclicked",{menu:ge,button:re,active:ge.active}))}),te.on("mouseover",function(){te.call(ie)}),te.on("mouseout",function(){te.call(L,ge),G.call(Y,ge)})}),G.call(Y,ge),Ze?(Ie.w=Math.max($e.openWidth,$e.headerWidth),Ie.h=De.y-Ie.t):(Ie.w=De.x-Ie.l,Ie.h=Math.max($e.openHeight,$e.headerHeight)),Ie.direction=ge.direction,Be&&(G.size()?U(ee,be,Te,Be,ge,Ie):Q(Be))}function U(ee,be,Te,Be,ge,ne){var pe=ge.direction,G=pe==="up"||pe==="down",Oe=ge._dims,xe=ge.active,Le,ke,$e;if(G)for(ke=0,$e=0;$e<xe;$e++)ke+=Oe.heights[$e]+T.gapButton;else for(Le=0,$e=0;$e<xe;$e++)Le+=Oe.widths[$e]+T.gapButton;Be.enable(ne,Le,ke),Be.hbar&&Be.hbar.attr("opacity","0").transition().attr("opacity","1"),Be.vbar&&Be.vbar.attr("opacity","0").transition().attr("opacity","1")}function Q(ee){var be=!!ee.hbar,Te=!!ee.vbar;be&&ee.hbar.transition().attr("opacity","0").each("end",function(){be=!1,Te||ee.disable()}),Te&&ee.vbar.transition().attr("opacity","0").each("end",function(){Te=!1,be||ee.disable()})}function B(ee,be,Te,Be){ee.call(E,be).call(W,be,Te,Be)}function E(ee,be){var Te=x.ensureSingle(ee,"rect",T.itemRectClassName,function(Be){Be.attr({rx:T.rx,ry:T.ry,"shape-rendering":"crispEdges"})});Te.call(y.stroke,be.bordercolor).call(y.fill,be.bgcolor).style("stroke-width",be.borderwidth+"px")}function W(ee,be,Te,Be){var ge=x.ensureSingle(ee,"text",T.itemTextClassName,function(G){G.attr({"text-anchor":"start","data-notex":1})}),ne=Te.label,pe=Be._fullLayout._meta;pe&&(ne=x.templateString(ne,pe)),ge.call(b.font,be.font).text(ne).call(k.convertToTspans,Be)}function Y(ee,be){var Te=be.active;ee.each(function(Be,ge){var ne=p.select(this);ge===Te&&be.showactive&&ne.select("rect."+T.itemRectClassName).call(y.fill,T.activeColor)})}function ie(ee){ee.select("rect."+T.itemRectClassName).call(y.fill,T.hoverColor)}function L(ee,be){ee.select("rect."+T.itemRectClassName).call(y.fill,be.bgcolor)}function me(ee,be){var Te=be._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Be=b.tester.selectAll("g."+T.dropdownButtonClassName).data(x.filterVisible(be.buttons));Be.enter().append("g").classed(T.dropdownButtonClassName,!0);var ge=["up","down"].indexOf(be.direction)!==-1;Be.each(function(Le,ke){var $e=p.select(this);$e.call(B,be,Le,ee);var Ze=$e.select("."+T.itemTextClassName),De=Ze.node()&&b.bBox(Ze.node()).width,Ie=Math.max(De+T.textPadX,T.minWidth),re=be.font.size*w,ye=k.lineCount(Ze),te=Math.max(re*ye,T.minHeight)+T.textOffsetY;te=Math.ceil(te),Ie=Math.ceil(Ie),Te.widths[ke]=Ie,Te.heights[ke]=te,Te.height1=Math.max(Te.height1,te),Te.width1=Math.max(Te.width1,Ie),ge?(Te.totalWidth=Math.max(Te.totalWidth,Ie),Te.openWidth=Te.totalWidth,Te.totalHeight+=te+T.gapButton,Te.openHeight+=te+T.gapButton):(Te.totalWidth+=Ie+T.gapButton,Te.openWidth+=Ie+T.gapButton,Te.totalHeight=Math.max(Te.totalHeight,te),Te.openHeight=Te.totalHeight)}),ge?Te.totalHeight-=T.gapButton:Te.totalWidth-=T.gapButton,Te.headerWidth=Te.width1+T.arrowPadX,Te.headerHeight=Te.height1,be.type==="dropdown"&&(ge?(Te.width1+=T.arrowPadX,Te.totalHeight=Te.height1):Te.totalWidth=Te.width1,Te.totalWidth+=T.arrowPadX),Be.remove();var ne=Te.totalWidth+be.pad.l+be.pad.r,pe=Te.totalHeight+be.pad.t+be.pad.b,G=ee._fullLayout._size;Te.lx=G.l+G.w*be.x,Te.ly=G.t+G.h*(1-be.y);var Oe="left";x.isRightAnchor(be)&&(Te.lx-=ne,Oe="right"),x.isCenterAnchor(be)&&(Te.lx-=ne/2,Oe="center");var xe="top";x.isBottomAnchor(be)&&(Te.ly-=pe,xe="bottom"),x.isMiddleAnchor(be)&&(Te.ly-=pe/2,xe="middle"),Te.totalWidth=Math.ceil(Te.totalWidth),Te.totalHeight=Math.ceil(Te.totalHeight),Te.lx=Math.round(Te.lx),Te.ly=Math.round(Te.ly),v.autoMargin(ee,ae(be),{x:be.x,y:be.y,l:ne*({right:1,center:.5}[Oe]||0),r:ne*({left:1,center:.5}[Oe]||0),b:pe*({top:1,middle:.5}[xe]||0),t:pe*({bottom:1,middle:.5}[xe]||0)})}function ae(ee){return T.autoMarginIdRoot+ee._index}function q(ee,be,Te,Be){Be=Be||{};var ge=ee.select("."+T.itemRectClassName),ne=ee.select("."+T.itemTextClassName),pe=be.borderwidth,G=Te.index,Oe=be._dims;b.setTranslate(ee,pe+Te.x,pe+Te.y);var xe=["up","down"].indexOf(be.direction)!==-1,Le=Be.height||(xe?Oe.heights[G]:Oe.height1);ge.attr({x:0,y:0,width:Be.width||(xe?Oe.width1:Oe.widths[G]),height:Le});var ke=be.font.size*w,$e=k.lineCount(ne),Ze=($e-1)*ke/2;k.positionText(ne,T.textOffsetX,Le/2-Ze+T.textOffsetY),xe?Te.y+=Oe.heights[G]+Te.yPad:Te.x+=Oe.widths[G]+Te.xPad,Te.index++}function fe(ee,be){ee.attr(T.menuIndexAttrName,be||"-1").selectAll("g."+T.dropdownButtonClassName).remove()}},763:function(f,h,u){var p=u(5909);f.exports={moduleType:"component",name:p.name,layoutAttributes:u(7163),supplyLayoutDefaults:u(4897),draw:u(3689)}},5849:function(f,h,u){f.exports=x;var p=u(9898),v=u(7901),y=u(1424),b=u(1828);function x(k,C,w){this.gd=k,this.container=C,this.id=w,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}x.barWidth=2,x.barLength=20,x.barRadius=2,x.barPad=1,x.barColor="#808BA4",x.prototype.enable=function(C,w,T){var R=this.gd._fullLayout,M=R.width,I=R.height;this.position=C;var V=this.position.l,N=this.position.w,F=this.position.t,z=this.position.h,U=this.position.direction,Q=U==="down",B=U==="left",E=U==="right",W=U==="up",Y=N,ie=z,L,me,ae,q;!Q&&!B&&!E&&!W&&(this.position.direction="down",Q=!0);var fe=Q||W;fe?(L=V,me=L+Y,Q?(ae=F,q=Math.min(ae+ie,I),ie=q-ae):(q=F+ie,ae=Math.max(q-ie,0),ie=q-ae)):(ae=F,q=ae+ie,B?(me=V+Y,L=Math.max(me-Y,0),Y=me-L):(L=V,me=Math.min(L+Y,M),Y=me-L)),this._box={l:L,t:ae,w:Y,h:ie};var ee=N>Y,be=x.barLength+2*x.barPad,Te=x.barWidth+2*x.barPad,Be=V,ge=F+z;ge+Te>I&&(ge=I-Te);var ne=this.container.selectAll("rect.scrollbar-horizontal").data(ee?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-horizontal",!0).call(v.fill,x.barColor),ee?(this.hbar=ne.attr({rx:x.barRadius,ry:x.barRadius,x:Be,y:ge,width:be,height:Te}),this._hbarXMin=Be+be/2,this._hbarTranslateMax=Y-be):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var pe=z>ie,G=x.barWidth+2*x.barPad,Oe=x.barLength+2*x.barPad,xe=V+N,Le=F;xe+G>M&&(xe=M-G);var ke=this.container.selectAll("rect.scrollbar-vertical").data(pe?[0]:[]);ke.exit().on(".drag",null).remove(),ke.enter().append("rect").classed("scrollbar-vertical",!0).call(v.fill,x.barColor),pe?(this.vbar=ke.attr({rx:x.barRadius,ry:x.barRadius,x:xe,y:Le,width:G,height:Oe}),this._vbarYMin=Le+Oe/2,this._vbarTranslateMax=ie-Oe):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var $e=this.id,Ze=L-.5,De=pe?me+G+.5:me+.5,Ie=ae-.5,re=ee?q+Te+.5:q+.5,ye=R._topdefs.selectAll("#"+$e).data(ee||pe?[0]:[]);if(ye.exit().remove(),ye.enter().append("clipPath").attr("id",$e).append("rect"),ee||pe?(this._clipRect=ye.select("rect").attr({x:Math.floor(Ze),y:Math.floor(Ie),width:Math.ceil(De)-Math.floor(Ze),height:Math.ceil(re)-Math.floor(Ie)}),this.container.call(y.setClipUrl,$e,this.gd),this.bg.attr({x:V,y:F,width:N,height:z})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(y.setClipUrl,null),delete this._clipRect),ee||pe){var te=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(te);var se=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));ee&&this.hbar.on(".drag",null).call(se),pe&&this.vbar.on(".drag",null).call(se)}this.setTranslate(w,T)},x.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(y.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},x.prototype._onBoxDrag=function(){var C=this.translateX,w=this.translateY;this.hbar&&(C-=p.event.dx),this.vbar&&(w-=p.event.dy),this.setTranslate(C,w)},x.prototype._onBoxWheel=function(){var C=this.translateX,w=this.translateY;this.hbar&&(C+=p.event.deltaY),this.vbar&&(w+=p.event.deltaY),this.setTranslate(C,w)},x.prototype._onBarDrag=function(){var C=this.translateX,w=this.translateY;if(this.hbar){var T=C+this._hbarXMin,R=T+this._hbarTranslateMax,M=b.constrain(p.event.x,T,R),I=(M-T)/(R-T),V=this.position.w-this._box.w;C=I*V}if(this.vbar){var N=w+this._vbarYMin,F=N+this._vbarTranslateMax,z=b.constrain(p.event.y,N,F),U=(z-N)/(F-N),Q=this.position.h-this._box.h;w=U*Q}this.setTranslate(C,w)},x.prototype.setTranslate=function(C,w){var T=this.position.w-this._box.w,R=this.position.h-this._box.h;if(C=b.constrain(C||0,0,T),w=b.constrain(w||0,0,R),this.translateX=C,this.translateY=w,this.container.call(y.setTranslate,this._box.l-this.position.l-C,this._box.t-this.position.t-w),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+C-.5),y:Math.floor(this.position.t+w-.5)}),this.hbar){var M=C/T;this.hbar.call(y.setTranslate,C+M*this._hbarTranslateMax,w)}if(this.vbar){var I=w/R;this.vbar.call(y.setTranslate,C,w+I*this._vbarTranslateMax)}}},8783:function(f){f.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(f){f.exports={axisRefDescription:function(h,u,p){return["If set to a",h,"axis id (e.g. *"+h+"* or","*"+h+"2*), the `"+h+"` position refers to a",h,"coordinate. If set to *paper*, the `"+h+"`","position refers to the distance from the",u,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",u,"("+p+"). If set to a",h,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",u,"of the domain of that axis: e.g.,","*"+h+"2 domain* refers to the domain of the second",h," axis and a",h,"position of 0.5 refers to the","point between the",u,"and the",p,"of the domain of the","second",h,"axis."].join(" ")}}},1562:function(f){f.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(f){f.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(f){f.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(f){f.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},7922:function(f,h){h.xmlns="http://www.w3.org/2000/xmlns/",h.svg="http://www.w3.org/2000/svg",h.xlink="http://www.w3.org/1999/xlink",h.svgAttrs={xmlns:h.svg,"xmlns:xlink":h.xlink}},8729:function(f,h,u){h.version=u(1506).version,u(7417),u(8847);for(var p=u(3972),v=h.register=p.register,y=u(641),b=Object.keys(y),x=0;x<b.length;x++){var k=b[x];k.charAt(0)!=="_"&&(h[k]=y[k]),v({moduleType:"apiMethod",name:k,fn:y[k]})}v(u(7368)),v([u(2745),u(2468),u(7322),u(9853),u(8804),u(763),u(3243),u(3137),u(7218),u(3312),u(7369),u(1081),u(2311),u(2199),u(211),u(4168)]),v([u(2177),u(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(v(window.PlotlyLocales),delete window.PlotlyLocales),h.Icons=u(4255);var C=u(211),w=u(4875);h.Plots={resize:w.resize,graphJson:w.graphJson,sendDataToCloud:w.sendDataToCloud},h.Fx={hover:C.hover,unhover:C.unhover,loneHover:C.loneHover,loneUnhover:C.loneUnhover},h.Snapshot=u(4511),h.PlotSchema=u(6281)},4255:function(f){f.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(f,h){h.isLeftAnchor=function(p){return p.xanchor==="left"||p.xanchor==="auto"&&p.x<=.3333333333333333},h.isCenterAnchor=function(p){return p.xanchor==="center"||p.xanchor==="auto"&&p.x>.3333333333333333&&p.x<.6666666666666666},h.isRightAnchor=function(p){return p.xanchor==="right"||p.xanchor==="auto"&&p.x>=.6666666666666666},h.isTopAnchor=function(p){return p.yanchor==="top"||p.yanchor==="auto"&&p.y>=.6666666666666666},h.isMiddleAnchor=function(p){return p.yanchor==="middle"||p.yanchor==="auto"&&p.y>.3333333333333333&&p.y<.6666666666666666},h.isBottomAnchor=function(p){return p.yanchor==="bottom"||p.yanchor==="auto"&&p.y<=.3333333333333333}},6348:function(f,h,u){var p=u(4872),v=p.mod,y=p.modHalf,b=Math.PI,x=2*b;function k(U){return U/180*b}function C(U){return U/b*180}function w(U){return Math.abs(U[1]-U[0])>x-1e-14}function T(U,Q){return y(Q-U,x)}function R(U,Q){return Math.abs(T(U,Q))}function M(U,Q){if(w(Q))return!0;var B,E;Q[0]<Q[1]?(B=Q[0],E=Q[1]):(B=Q[1],E=Q[0]),B=v(B,x),E=v(E,x),B>E&&(E+=x);var W=v(U,x),Y=W+x;return W>=B&&W<=E||Y>=B&&Y<=E}function I(U,Q,B,E){if(!M(Q,E))return!1;var W,Y;return B[0]<B[1]?(W=B[0],Y=B[1]):(W=B[1],Y=B[0]),U>=W&&U<=Y}function V(U,Q,B,E,W,Y,ie){W=W||0,Y=Y||0;var L=w([B,E]),me,ae,q,fe,ee;L?(me=0,ae=b,q=x):B<E?(me=B,q=E):(me=E,q=B),U<Q?(fe=U,ee=Q):(fe=Q,ee=U);function be(ne,pe){return[ne*Math.cos(pe)+W,Y-ne*Math.sin(pe)]}var Te=Math.abs(q-me)<=b?0:1;function Be(ne,pe,G){return"A"+[ne,ne]+" "+[0,Te,G]+" "+be(ne,pe)}var ge;return L?fe===null?ge="M"+be(ee,me)+Be(ee,ae,0)+Be(ee,q,0)+"Z":ge="M"+be(fe,me)+Be(fe,ae,0)+Be(fe,q,0)+"ZM"+be(ee,me)+Be(ee,ae,1)+Be(ee,q,1)+"Z":fe===null?(ge="M"+be(ee,me)+Be(ee,q,0),ie&&(ge+="L0,0Z")):ge="M"+be(fe,me)+"L"+be(ee,me)+Be(ee,q,0)+"L"+be(fe,q)+Be(fe,me,1)+"Z",ge}function N(U,Q,B,E,W){return V(null,U,Q,B,E,W,0)}function F(U,Q,B,E,W){return V(null,U,Q,B,E,W,1)}function z(U,Q,B,E,W,Y){return V(U,Q,B,E,W,Y,1)}f.exports={deg2rad:k,rad2deg:C,angleDelta:T,angleDist:R,isFullCircle:w,isAngleInsideSector:M,isPtInsideSector:I,pathArc:N,pathSector:F,pathAnnulus:z}},3627:function(f,h){var u=Array.isArray,p=ArrayBuffer,v=DataView;function y(C){return p.isView(C)&&!(C instanceof v)}h.isTypedArray=y;function b(C){return u(C)||y(C)}h.isArrayOrTypedArray=b;function x(C){return!b(C[0])}h.isArray1D=x,h.ensureArray=function(C,w){return u(C)||(C=[]),C.length=w,C},h.concat=function(){var C=[],w=!0,T=0,R,M,I,V,N,F,z,U;for(I=0;I<arguments.length;I++)V=arguments[I],F=V.length,F&&(M?C.push(V):(M=V,N=F),u(V)?R=!1:(w=!1,T?R!==V.constructor&&(R=!1):R=V.constructor),T+=F);if(!T)return[];if(!C.length)return M;if(w)return M.concat.apply(M,C);if(R){for(z=new R(T),z.set(M),I=0;I<C.length;I++)V=C[I],z.set(V,N),N+=V.length;return z}for(z=new Array(T),U=0;U<M.length;U++)z[U]=M[U];for(I=0;I<C.length;I++){for(V=C[I],U=0;U<V.length;U++)z[N+U]=V[U];N+=U}return z},h.maxRowLength=function(C){return k(C,Math.max,0)},h.minRowLength=function(C){return k(C,Math.min,1/0)};function k(C,w,T){if(b(C))if(b(C[0])){for(var R=T,M=0;M<C.length;M++)R=w(R,C[M].length);return R}else return C.length;return 0}},5218:function(f,h,u){var p=u(2770),v=u(606).BADNUM,y=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;f.exports=function(x){return typeof x=="string"&&(x=x.replace(y,"")),p(x)?Number(x):v}},3306:function(f){f.exports=function(u){var p=u._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(v){v.regl&&v.regl.clear({color:!0,depth:!0})})}},6367:function(f){f.exports=function(u){u._responsiveChartHandler&&(window.removeEventListener("resize",u._responsiveChartHandler),delete u._responsiveChartHandler)}},6554:function(f,h,u){var p=u(2770),v=u(4267),y=u(9012),b=u(3282),x=u(7901),k=u(7822).DESELECTDIM,C=u(5487),w=u(587).counter,T=u(4872).modHalf,R=u(3627).isArrayOrTypedArray;h.valObjectMeta={data_array:{coerceFunction:function(I,V,N){R(I)?V.set(I):N!==void 0&&V.set(N)}},enumerated:{coerceFunction:function(I,V,N,F){F.coerceNumber&&(I=+I),F.values.indexOf(I)===-1?V.set(N):V.set(I)},validateFunction:function(I,V){V.coerceNumber&&(I=+I);for(var N=V.values,F=0;F<N.length;F++){var z=String(N[F]);if(z.charAt(0)==="/"&&z.charAt(z.length-1)==="/"){var U=new RegExp(z.substr(1,z.length-2));if(U.test(I))return!0}else if(I===N[F])return!0}return!1}},boolean:{coerceFunction:function(I,V,N){I===!0||I===!1?V.set(I):V.set(N)}},number:{coerceFunction:function(I,V,N,F){!p(I)||F.min!==void 0&&I<F.min||F.max!==void 0&&I>F.max?V.set(N):V.set(+I)}},integer:{coerceFunction:function(I,V,N,F){I%1||!p(I)||F.min!==void 0&&I<F.min||F.max!==void 0&&I>F.max?V.set(N):V.set(+I)}},string:{coerceFunction:function(I,V,N,F){if(typeof I!="string"){var z=typeof I=="number";F.strict===!0||!z?V.set(N):V.set(String(I))}else F.noBlank&&!I?V.set(N):V.set(I)}},color:{coerceFunction:function(I,V,N){v(I).isValid()?V.set(I):V.set(N)}},colorlist:{coerceFunction:function(I,V,N){function F(z){return v(z).isValid()}!Array.isArray(I)||!I.length?V.set(N):I.every(F)?V.set(I):V.set(N)}},colorscale:{coerceFunction:function(I,V,N){V.set(b.get(I,N))}},angle:{coerceFunction:function(I,V,N){I==="auto"?V.set("auto"):p(I)?V.set(T(+I,360)):V.set(N)}},subplotid:{coerceFunction:function(I,V,N,F){var z=F.regex||w(N);if(typeof I=="string"&&z.test(I)){V.set(I);return}V.set(N)},validateFunction:function(I,V){var N=V.dflt;return I===N?!0:typeof I!="string"?!1:!!w(N).test(I)}},flaglist:{coerceFunction:function(I,V,N,F){if((F.extras||[]).indexOf(I)!==-1){V.set(I);return}if(typeof I!="string"){V.set(N);return}for(var z=I.split("+"),U=0;U<z.length;){var Q=z[U];F.flags.indexOf(Q)===-1||z.indexOf(Q)<U?z.splice(U,1):U++}z.length?V.set(z.join("+")):V.set(N)}},any:{coerceFunction:function(I,V,N){I===void 0?V.set(N):V.set(I)}},info_array:{coerceFunction:function(I,V,N,F){function z(be,Te,Be){var ge,ne={set:function(pe){ge=pe}};return Be===void 0&&(Be=Te.dflt),h.valObjectMeta[Te.valType].coerceFunction(be,ne,Be,Te),ge}var U=F.dimensions===2||F.dimensions==="1-2"&&Array.isArray(I)&&Array.isArray(I[0]);if(!Array.isArray(I)){V.set(N);return}var Q=F.items,B=[],E=Array.isArray(Q),W=E&&U&&Array.isArray(Q[0]),Y=U&&E&&!W,ie=E&&!Y?Q.length:I.length,L,me,ae,q,fe,ee;if(N=Array.isArray(N)?N:[],U)for(L=0;L<ie;L++)for(B[L]=[],ae=Array.isArray(I[L])?I[L]:[],Y?fe=Q.length:E?fe=Q[L].length:fe=ae.length,me=0;me<fe;me++)Y?q=Q[me]:E?q=Q[L][me]:q=Q,ee=z(ae[me],q,(N[L]||[])[me]),ee!==void 0&&(B[L][me]=ee);else for(L=0;L<ie;L++)ee=z(I[L],E?Q[L]:Q,N[L]),ee!==void 0&&(B[L]=ee);V.set(B)},validateFunction:function(I,V){if(!Array.isArray(I))return!1;var N=V.items,F=Array.isArray(N),z=V.dimensions===2;if(!V.freeLength&&I.length!==N.length)return!1;for(var U=0;U<I.length;U++)if(z){if(!Array.isArray(I[U])||!V.freeLength&&I[U].length!==N[U].length)return!1;for(var Q=0;Q<I[U].length;Q++)if(!M(I[U][Q],F?N[U][Q]:N))return!1}else if(!M(I[U],F?N[U]:N))return!1;return!0}}},h.coerce=function(I,V,N,F,z){var U=C(N,F).get(),Q=C(I,F),B=C(V,F),E=Q.get(),W=V._template;if(E===void 0&&W&&(E=C(W,F).get(),W=0),z===void 0&&(z=U.dflt),U.arrayOk&&R(E))return B.set(E),E;var Y=h.valObjectMeta[U.valType].coerceFunction;Y(E,B,z,U);var ie=B.get();return W&&ie===z&&!M(E,U)&&(E=C(W,F).get(),Y(E,B,z,U),ie=B.get()),ie},h.coerce2=function(I,V,N,F,z){var U=C(I,F),Q=h.coerce(I,V,N,F,z),B=U.get();return B!=null?Q:!1},h.coerceFont=function(I,V,N){var F={};return N=N||{},F.family=I(V+".family",N.family),F.size=I(V+".size",N.size),F.color=I(V+".color",N.color),F},h.coercePattern=function(I,V,N,F){var z=I(V+".shape");if(z){I(V+".solidity"),I(V+".size");var U=I(V+".fillmode"),Q=U==="overlay";if(!F){var B=I(V+".bgcolor",Q?N:void 0);I(V+".fgcolor",Q?x.contrast(B):N)}I(V+".fgopacity",Q?.5:1)}},h.coerceHoverinfo=function(I,V,N){var F=V._module.attributes,z=F.hoverinfo?F:y,U=z.hoverinfo,Q;if(N._dataLength===1){var B=U.dflt==="all"?U.flags.slice():U.dflt.split("+");B.splice(B.indexOf("name"),1),Q=B.join("+")}return h.coerce(I,V,z,"hoverinfo",Q)},h.coerceSelectionMarkerOpacity=function(I,V){if(I.marker){var N=I.marker.opacity;if(N!==void 0){var F,z;!R(N)&&!I.selected&&!I.unselected&&(F=N,z=k*N),V("selected.marker.opacity",F),V("unselected.marker.opacity",z)}}};function M(I,V){var N=h.valObjectMeta[V.valType];if(V.arrayOk&&R(I))return!0;if(N.validateFunction)return N.validateFunction(I,V);var F={},z=F,U={set:function(Q){z=Q}};return N.coerceFunction(I,U,F,V),z!==F}h.validate=M},1631:function(f,h,u){var p=u(4096).i$,v=u(2770),y=u(7769),b=u(4872).mod,x=u(606),k=x.BADNUM,C=x.ONEDAY,w=x.ONEHOUR,T=x.ONEMIN,R=x.ONESEC,M=x.EPOCHJD,I=u(3972),V=u(4096).g0,N=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,F=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,z=new Date().getFullYear()-70;function U(ge){return ge&&I.componentsRegistry.calendars&&typeof ge=="string"&&ge!=="gregorian"}h.dateTick0=function(ge,ne){var pe=Q(ge,!!ne);if(ne<2)return pe;var G=h.dateTime2ms(pe,ge);return G+=C*(ne-1),h.ms2DateTime(G,0,ge)};function Q(ge,ne){return U(ge)?ne?I.getComponentMethod("calendars","CANONICAL_SUNDAY")[ge]:I.getComponentMethod("calendars","CANONICAL_TICK")[ge]:ne?"2000-01-02":"2000-01-01"}h.dfltRange=function(ge){return U(ge)?I.getComponentMethod("calendars","DFLTRANGE")[ge]:["2000-01-01","2001-01-01"]},h.isJSDate=function(ge){return typeof ge=="object"&&ge!==null&&typeof ge.getTime=="function"};var B,E;h.dateTime2ms=function(ge,ne){if(h.isJSDate(ge)){var pe=ge.getTimezoneOffset()*T,G=(ge.getUTCMinutes()-ge.getMinutes())*T+(ge.getUTCSeconds()-ge.getSeconds())*R+(ge.getUTCMilliseconds()-ge.getMilliseconds());if(G){var Oe=3*T;pe=pe-Oe/2+b(G-pe+Oe/2,Oe)}return ge=Number(ge)-pe,ge>=B&&ge<=E?ge:k}if(typeof ge!="string"&&typeof ge!="number")return k;ge=String(ge);var xe=U(ne),Le=ge.charAt(0);xe&&(Le==="G"||Le==="g")&&(ge=ge.substr(1),ne="");var ke=xe&&ne.substr(0,7)==="chinese",$e=ge.match(ke?F:N);if(!$e)return k;var Ze=$e[1],De=$e[3]||"1",Ie=Number($e[5]||1),re=Number($e[7]||0),ye=Number($e[9]||0),te=Number($e[11]||0);if(xe){if(Ze.length===2)return k;Ze=Number(Ze);var se;try{var ue=I.getComponentMethod("calendars","getCal")(ne);if(ke){var oe=De.charAt(De.length-1)==="i";De=parseInt(De,10),se=ue.newDate(Ze,ue.toMonthIndex(Ze,De,oe),Ie)}else se=ue.newDate(Ze,Number(De),Ie)}catch{return k}return se?(se.toJD()-M)*C+re*w+ye*T+te*R:k}Ze.length===2?Ze=(Number(Ze)+2e3-z)%100+z:Ze=Number(Ze),De-=1;var Se=new Date(Date.UTC(2e3,De,Ie,re,ye));return Se.setUTCFullYear(Ze),Se.getUTCMonth()!==De||Se.getUTCDate()!==Ie?k:Se.getTime()+te*R},B=h.MIN_MS=h.dateTime2ms("-9999"),E=h.MAX_MS=h.dateTime2ms("9999-12-31 23:59:59.9999"),h.isDateTime=function(ge,ne){return h.dateTime2ms(ge,ne)!==k};function W(ge,ne){return String(ge+Math.pow(10,ne)).substr(1)}var Y=90*C,ie=3*w,L=5*T;h.ms2DateTime=function(ge,ne,pe){if(typeof ge!="number"||!(ge>=B&&ge<=E))return k;ne||(ne=0);var G=Math.floor(b(ge+.05,1)*10),Oe=Math.round(ge-G/10),xe,Le,ke,$e,Ze,De;if(U(pe)){var Ie=Math.floor(Oe/C)+M,re=Math.floor(b(ge,C));try{xe=I.getComponentMethod("calendars","getCal")(pe).fromJD(Ie).formatDate("yyyy-mm-dd")}catch{xe=V("G%Y-%m-%d")(new Date(Oe))}if(xe.charAt(0)==="-")for(;xe.length<11;)xe="-0"+xe.substr(1);else for(;xe.length<10;)xe="0"+xe;Le=ne<Y?Math.floor(re/w):0,ke=ne<Y?Math.floor(re%w/T):0,$e=ne<ie?Math.floor(re%T/R):0,Ze=ne<L?re%R*10+G:0}else De=new Date(Oe),xe=V("%Y-%m-%d")(De),Le=ne<Y?De.getUTCHours():0,ke=ne<Y?De.getUTCMinutes():0,$e=ne<ie?De.getUTCSeconds():0,Ze=ne<L?De.getUTCMilliseconds()*10+G:0;return me(xe,Le,ke,$e,Ze)},h.ms2DateTimeLocal=function(ge){if(!(ge>=B+C&&ge<=E-C))return k;var ne=Math.floor(b(ge+.05,1)*10),pe=new Date(Math.round(ge-ne/10)),G=p("%Y-%m-%d")(pe),Oe=pe.getHours(),xe=pe.getMinutes(),Le=pe.getSeconds(),ke=pe.getUTCMilliseconds()*10+ne;return me(G,Oe,xe,Le,ke)};function me(ge,ne,pe,G,Oe){if((ne||pe||G||Oe)&&(ge+=" "+W(ne,2)+":"+W(pe,2),(G||Oe)&&(ge+=":"+W(G,2),Oe))){for(var xe=4;Oe%10===0;)xe-=1,Oe/=10;ge+="."+W(Oe,xe)}return ge}h.cleanDate=function(ge,ne,pe){if(ge===k)return ne;if(h.isJSDate(ge)||typeof ge=="number"&&isFinite(ge)){if(U(pe))return y.error("JS Dates and milliseconds are incompatible with world calendars",ge),ne;if(ge=h.ms2DateTimeLocal(+ge),!ge&&ne!==void 0)return ne}else if(!h.isDateTime(ge,pe))return y.error("unrecognized date",ge),ne;return ge};var ae=/%\d?f/g,q=/%h/g,fe={1:"1",2:"1",3:"2",4:"2"};function ee(ge,ne,pe,G){ge=ge.replace(ae,function(xe){var Le=Math.min(+xe.charAt(1)||6,6),ke=(ne/1e3%1+2).toFixed(Le).substr(2).replace(/0+$/,"")||"0";return ke});var Oe=new Date(Math.floor(ne+.05));if(ge=ge.replace(q,function(){return fe[pe("%q")(Oe)]}),U(G))try{ge=I.getComponentMethod("calendars","worldCalFmt")(ge,ne,G)}catch{return"Invalid"}return pe(ge)(Oe)}var be=[59,59.9,59.99,59.999,59.9999];function Te(ge,ne){var pe=b(ge+.05,C),G=W(Math.floor(pe/w),2)+":"+W(b(Math.floor(pe/T),60),2);if(ne!=="M"){v(ne)||(ne=0);var Oe=Math.min(b(ge/R,60),be[ne]),xe=(100+Oe).toFixed(ne).substr(1);ne>0&&(xe=xe.replace(/0+$/,"").replace(/[\.]$/,"")),G+=":"+xe}return G}h.formatDate=function(ge,ne,pe,G,Oe,xe){if(Oe=U(Oe)&&Oe,!ne)if(pe==="y")ne=xe.year;else if(pe==="m")ne=xe.month;else if(pe==="d")ne=xe.dayMonth+`
`+xe.year;else return Te(ge,pe)+`
`+ee(xe.dayMonthYear,ge,G,Oe);return ee(ne,ge,G,Oe)};var Be=3*C;h.incrementMonth=function(ge,ne,pe){pe=U(pe)&&pe;var G=b(ge,C);if(ge=Math.round(ge-G),pe)try{var Oe=Math.round(ge/C)+M,xe=I.getComponentMethod("calendars","getCal")(pe),Le=xe.fromJD(Oe);return ne%12?xe.add(Le,ne,"m"):xe.add(Le,ne/12,"y"),(Le.toJD()-M)*C+G}catch{y.error("invalid ms "+ge+" in calendar "+pe)}var ke=new Date(ge+Be);return ke.setUTCMonth(ke.getUTCMonth()+ne)+G-Be},h.findExactDates=function(ge,ne){for(var pe=0,G=0,Oe=0,xe=0,Le,ke,$e=U(ne)&&I.getComponentMethod("calendars","getCal")(ne),Ze=0;Ze<ge.length;Ze++){if(ke=ge[Ze],!v(ke)){xe++;continue}if(!(ke%C))if($e)try{Le=$e.fromJD(ke/C+M),Le.day()===1?Le.month()===1?pe++:G++:Oe++}catch{}else Le=new Date(ke),Le.getUTCDate()===1?Le.getUTCMonth()===0?pe++:G++:Oe++}G+=pe,Oe+=G;var De=ge.length-xe;return{exactYears:pe/De,exactMonths:G/De,exactDays:Oe/De}}},4401:function(f,h,u){var p=u(9898),v=u(7769),y=u(5657),b=u(9576);function x(z){var U;if(typeof z=="string"){if(U=document.getElementById(z),U===null)throw new Error("No DOM element with id '"+z+"' exists on the page.");return U}else if(z==null)throw new Error("DOM element provided is null or undefined");return z}function k(z){var U=p.select(z);return U.node()instanceof HTMLElement&&U.size()&&U.classed("js-plotly-plot")}function C(z){var U=z&&z.parentNode;U&&U.removeChild(z)}function w(z,U){T("global",z,U)}function T(z,U,Q){var B="plotly.js-style-"+z,E=document.getElementById(B);E||(E=document.createElement("style"),E.setAttribute("id",B),E.appendChild(document.createTextNode("")),document.head.appendChild(E));var W=E.sheet;W.insertRule?W.insertRule(U+"{"+Q+"}",0):W.addRule?W.addRule(U,Q,0):v.warn("addStyleRule failed")}function R(z){var U="plotly.js-style-"+z,Q=document.getElementById(U);Q&&C(Q)}function M(z){var U=V(z),Q=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return U.forEach(function(B){var E=I(B);if(E){var W=y.convertCssMatrix(E);Q=b.multiply(Q,Q,W)}}),Q}function I(z){var U=window.getComputedStyle(z,null),Q=U.getPropertyValue("-webkit-transform")||U.getPropertyValue("-moz-transform")||U.getPropertyValue("-ms-transform")||U.getPropertyValue("-o-transform")||U.getPropertyValue("transform");return Q==="none"?null:Q.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(B){return+B})}function V(z){for(var U=[];N(z);)U.push(z),z=z.parentNode;return U}function N(z){return z&&(z instanceof Element||z instanceof HTMLElement)}function F(z,U){return z&&U&&z.top===U.top&&z.left===U.left&&z.right===U.right&&z.bottom===U.bottom}f.exports={getGraphDiv:x,isPlotDiv:k,removeElement:C,addStyleRule:w,addRelatedStyleRule:T,deleteRelatedStyleRule:R,getFullTransformMatrix:M,getElementTransformMatrix:I,getElementAndAncestors:V,equalDomRects:F}},1086:function(f,h,u){var p=u(5398).EventEmitter,v={init:function(y){if(y._ev instanceof p)return y;var b=new p,x=new p;return y._ev=b,y._internalEv=x,y.on=b.on.bind(b),y.once=b.once.bind(b),y.removeListener=b.removeListener.bind(b),y.removeAllListeners=b.removeAllListeners.bind(b),y._internalOn=x.on.bind(x),y._internalOnce=x.once.bind(x),y._removeInternalListener=x.removeListener.bind(x),y._removeAllInternalListeners=x.removeAllListeners.bind(x),y.emit=function(k,C){typeof jQuery<"u"&&jQuery(y).trigger(k,C),b.emit(k,C),x.emit(k,C)},y},triggerHandler:function(y,b,x){var k,C;typeof jQuery<"u"&&(k=jQuery(y).triggerHandler(b,x));var w=y._ev;if(!w)return k;var T=w._events[b];if(!T)return k;function R(I){if(I.listener){if(w.removeListener(b,I.listener),!I.fired)return I.fired=!0,I.listener.apply(w,[x])}else return I.apply(w,[x])}T=Array.isArray(T)?T:[T];var M;for(M=0;M<T.length-1;M++)R(T[M]);return C=R(T[M]),k!==void 0?k:C},purge:function(y){return delete y._ev,delete y.on,delete y.once,delete y.removeListener,delete y.removeAllListeners,delete y.emit,delete y._ev,delete y._internalEv,delete y._internalOn,delete y._internalOnce,delete y._removeInternalListener,delete y._removeAllInternalListeners,y}};f.exports=v},1426:function(f,h,u){var p=u(1965),v=Array.isArray;function y(x,k){var C,w;for(C=0;C<x.length;C++){if(w=x[C],w!==null&&typeof w=="object")return!1;w!==void 0&&(k[C]=w)}return!0}h.extendFlat=function(){return b(arguments,!1,!1,!1)},h.extendDeep=function(){return b(arguments,!0,!1,!1)},h.extendDeepAll=function(){return b(arguments,!0,!0,!1)},h.extendDeepNoArrays=function(){return b(arguments,!0,!1,!0)};function b(x,k,C,w){var T=x[0],R=x.length,M,I,V,N,F,z,U;if(R===2&&v(T)&&v(x[1])&&T.length===0){if(U=y(x[1],T),U)return T;T.splice(0,T.length)}for(var Q=1;Q<R;Q++){M=x[Q];for(I in M)V=T[I],N=M[I],w&&v(N)?T[I]=N:k&&N&&(p(N)||(F=v(N)))?(F?(F=!1,z=V&&v(V)?V:[]):z=V&&p(V)?V:{},T[I]=b([z,N],k,C,w)):(typeof N<"u"||C)&&(T[I]=N)}return T}},5744:function(f){f.exports=function(u){for(var p={},v=[],y=0,b=0;b<u.length;b++){var x=u[b];p[x]!==1&&(p[x]=1,v[y++]=x)}return v}},6756:function(f){f.exports=function(y){for(var b=p(y)?u:h,x=[],k=0;k<y.length;k++){var C=y[k];b(C)&&x.push(C)}return x};function h(v){return v.visible===!0}function u(v){var y=v[0].trace;return y.visible===!0&&y._length!==0}function p(v){return Array.isArray(v)&&Array.isArray(v[0])&&v[0][0]&&v[0][0].trace}},7642:function(f,h,u){var p=u(4872).mod;h.segmentsIntersect=v;function v(C,w,T,R,M,I,V,N){var F=T-C,z=M-C,U=V-M,Q=R-w,B=I-w,E=N-I,W=F*E-U*Q;if(W===0)return null;var Y=(z*E-U*B)/W,ie=(z*Q-F*B)/W;return ie<0||ie>1||Y<0||Y>1?null:{x:C+F*Y,y:w+Q*Y}}h.segmentDistance=function(w,T,R,M,I,V,N,F){if(v(w,T,R,M,I,V,N,F))return 0;var z=R-w,U=M-T,Q=N-I,B=F-V,E=z*z+U*U,W=Q*Q+B*B,Y=Math.min(y(z,U,E,I-w,V-T),y(z,U,E,N-w,F-T),y(Q,B,W,w-I,T-V),y(Q,B,W,R-I,M-V));return Math.sqrt(Y)};function y(C,w,T,R,M){var I=R*C+M*w;if(I<0)return R*R+M*M;if(I>T){var V=R-C,N=M-w;return V*V+N*N}else{var F=R*w-M*C;return F*F/T}}var b,x,k;h.getTextLocation=function(w,T,R,M){if((w!==x||M!==k)&&(b={},x=w,k=M),b[R])return b[R];var I=w.getPointAtLength(p(R-M/2,T)),V=w.getPointAtLength(p(R+M/2,T)),N=Math.atan((V.y-I.y)/(V.x-I.x)),F=w.getPointAtLength(p(R,T)),z=(F.x*4+I.x+V.x)/6,U=(F.y*4+I.y+V.y)/6,Q={x:z,y:U,theta:N};return b[R]=Q,Q},h.clearLocationCache=function(){x=null},h.getVisibleSegment=function(w,T,R){var M=T.left,I=T.right,V=T.top,N=T.bottom,F=0,z=w.getTotalLength(),U=z,Q,B;function E(Y){var ie=w.getPointAtLength(Y);Y===0?Q=ie:Y===z&&(B=ie);var L=ie.x<M?M-ie.x:ie.x>I?ie.x-I:0,me=ie.y<V?V-ie.y:ie.y>N?ie.y-N:0;return Math.sqrt(L*L+me*me)}for(var W=E(F);W;){if(F+=W+R,F>U)return;W=E(F)}for(W=E(U);W;){if(U-=W+R,F>U)return;W=E(U)}return{min:F,max:U,len:U-F,total:z,isClosed:F===0&&U===z&&Math.abs(Q.x-B.x)<.1&&Math.abs(Q.y-B.y)<.1}},h.findPointOnPath=function(w,T,R,M){M=M||{};for(var I=M.pathLength||w.getTotalLength(),V=M.tolerance||.001,N=M.iterationLimit||30,F=w.getPointAtLength(0)[R]>w.getPointAtLength(I)[R]?-1:1,z=0,U=0,Q=I,B,E,W;z<N;){if(B=(U+Q)/2,E=w.getPointAtLength(B),W=E[R]-T,Math.abs(W)<V)return E;F*W>0?Q=B:U=B,z++}return E}},3389:function(f){f.exports=function(u){return u}},9240:function(f){f.exports=function(u,p){if(!p)return u;var v=1/Math.abs(p),y=v>1?(v*u+v*p)/v:u+p,b=String(y).length;if(b>16){var x=String(p).length,k=String(u).length;if(b>=k+x){var C=parseFloat(y).toPrecision(12);C.indexOf("e+")===-1&&(y=+C)}}return y}},1828:function(f,h,u){var p=u(9898),v=u(4096).g0,y=u(721).WU,b=u(2770),x=u(606),k=x.FP_SAFE,C=-k,w=x.BADNUM,T=f.exports={};T.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var R={};T.warnBadFormat=function(te){var se=String(te);R[se]||(R[se]=1,T.warn('encountered bad format: "'+se+'"'))},T.noFormat=function(te){return String(te)},T.numberFormat=function(te){var se;try{se=y(T.adjustFormat(te))}catch{return T.warnBadFormat(te),T.noFormat}return se},T.nestedProperty=u(5487),T.keyedContainer=u(6636),T.relativeAttr=u(6962),T.isPlainObject=u(1965),T.toLogRange=u(8163),T.relinkPrivateKeys=u(1332);var M=u(3627);T.isTypedArray=M.isTypedArray,T.isArrayOrTypedArray=M.isArrayOrTypedArray,T.isArray1D=M.isArray1D,T.ensureArray=M.ensureArray,T.concat=M.concat,T.maxRowLength=M.maxRowLength,T.minRowLength=M.minRowLength;var I=u(4872);T.mod=I.mod,T.modHalf=I.modHalf;var V=u(6554);T.valObjectMeta=V.valObjectMeta,T.coerce=V.coerce,T.coerce2=V.coerce2,T.coerceFont=V.coerceFont,T.coercePattern=V.coercePattern,T.coerceHoverinfo=V.coerceHoverinfo,T.coerceSelectionMarkerOpacity=V.coerceSelectionMarkerOpacity,T.validate=V.validate;var N=u(1631);T.dateTime2ms=N.dateTime2ms,T.isDateTime=N.isDateTime,T.ms2DateTime=N.ms2DateTime,T.ms2DateTimeLocal=N.ms2DateTimeLocal,T.cleanDate=N.cleanDate,T.isJSDate=N.isJSDate,T.formatDate=N.formatDate,T.incrementMonth=N.incrementMonth,T.dateTick0=N.dateTick0,T.dfltRange=N.dfltRange,T.findExactDates=N.findExactDates,T.MIN_MS=N.MIN_MS,T.MAX_MS=N.MAX_MS;var F=u(5888);T.findBin=F.findBin,T.sorterAsc=F.sorterAsc,T.sorterDes=F.sorterDes,T.distinctVals=F.distinctVals,T.roundUp=F.roundUp,T.sort=F.sort,T.findIndexOfMin=F.findIndexOfMin,T.sortObjectKeys=u(8607);var z=u(38);T.aggNums=z.aggNums,T.len=z.len,T.mean=z.mean,T.median=z.median,T.midRange=z.midRange,T.variance=z.variance,T.stdev=z.stdev,T.interp=z.interp;var U=u(5657);T.init2dArray=U.init2dArray,T.transposeRagged=U.transposeRagged,T.dot=U.dot,T.translationMatrix=U.translationMatrix,T.rotationMatrix=U.rotationMatrix,T.rotationXYMatrix=U.rotationXYMatrix,T.apply3DTransform=U.apply3DTransform,T.apply2DTransform=U.apply2DTransform,T.apply2DTransform2=U.apply2DTransform2,T.convertCssMatrix=U.convertCssMatrix,T.inverseTransformMatrix=U.inverseTransformMatrix;var Q=u(6348);T.deg2rad=Q.deg2rad,T.rad2deg=Q.rad2deg,T.angleDelta=Q.angleDelta,T.angleDist=Q.angleDist,T.isFullCircle=Q.isFullCircle,T.isAngleInsideSector=Q.isAngleInsideSector,T.isPtInsideSector=Q.isPtInsideSector,T.pathArc=Q.pathArc,T.pathSector=Q.pathSector,T.pathAnnulus=Q.pathAnnulus;var B=u(9863);T.isLeftAnchor=B.isLeftAnchor,T.isCenterAnchor=B.isCenterAnchor,T.isRightAnchor=B.isRightAnchor,T.isTopAnchor=B.isTopAnchor,T.isMiddleAnchor=B.isMiddleAnchor,T.isBottomAnchor=B.isBottomAnchor;var E=u(7642);T.segmentsIntersect=E.segmentsIntersect,T.segmentDistance=E.segmentDistance,T.getTextLocation=E.getTextLocation,T.clearLocationCache=E.clearLocationCache,T.getVisibleSegment=E.getVisibleSegment,T.findPointOnPath=E.findPointOnPath;var W=u(1426);T.extendFlat=W.extendFlat,T.extendDeep=W.extendDeep,T.extendDeepAll=W.extendDeepAll,T.extendDeepNoArrays=W.extendDeepNoArrays;var Y=u(7769);T.log=Y.log,T.warn=Y.warn,T.error=Y.error;var ie=u(587);T.counterRegex=ie.counter;var L=u(9990);T.throttle=L.throttle,T.throttleDone=L.done,T.clearThrottle=L.clear;var me=u(4401);T.getGraphDiv=me.getGraphDiv,T.isPlotDiv=me.isPlotDiv,T.removeElement=me.removeElement,T.addStyleRule=me.addStyleRule,T.addRelatedStyleRule=me.addRelatedStyleRule,T.deleteRelatedStyleRule=me.deleteRelatedStyleRule,T.getFullTransformMatrix=me.getFullTransformMatrix,T.getElementTransformMatrix=me.getElementTransformMatrix,T.getElementAndAncestors=me.getElementAndAncestors,T.equalDomRects=me.equalDomRects,T.clearResponsive=u(6367),T.preserveDrawingBuffer=u(5142),T.makeTraceGroups=u(7310),T._=u(5867),T.notifier=u(5046),T.filterUnique=u(5744),T.filterVisible=u(6756),T.pushUnique=u(5138),T.increment=u(9240),T.cleanNumber=u(5218),T.ensureNumber=function(se){return b(se)?(se=Number(se),se>k||se<C?w:se):w},T.isIndex=function(te,se){return se!==void 0&&te>=se?!1:b(te)&&te>=0&&te%1===0},T.noop=u(4213),T.identity=u(3389),T.repeat=function(te,se){for(var ue=new Array(se),oe=0;oe<se;oe++)ue[oe]=te;return ue},T.swapAttrs=function(te,se,ue,oe){ue||(ue="x"),oe||(oe="y");for(var Se=0;Se<se.length;Se++){var le=se[Se],Ce=T.nestedProperty(te,le.replace("?",ue)),Qe=T.nestedProperty(te,le.replace("?",oe)),ze=Ce.get();Ce.set(Qe.get()),Qe.set(ze)}},T.raiseToTop=function(se){se.parentNode.appendChild(se)},T.cancelTransition=function(te){return te.transition().duration(0)},T.constrain=function(te,se,ue){return se>ue?Math.max(ue,Math.min(se,te)):Math.max(se,Math.min(ue,te))},T.bBoxIntersect=function(te,se,ue){return ue=ue||0,te.left<=se.right+ue&&se.left<=te.right+ue&&te.top<=se.bottom+ue&&se.top<=te.bottom+ue},T.simpleMap=function(te,se,ue,oe,Se){for(var le=te.length,Ce=new Array(le),Qe=0;Qe<le;Qe++)Ce[Qe]=se(te[Qe],ue,oe,Se);return Ce},T.randstr=function te(se,ue,oe,Se){if(oe||(oe=16),ue===void 0&&(ue=24),ue<=0)return"0";var le=Math.log(Math.pow(2,ue))/Math.log(oe),Ce="",Qe,ze,Xe;for(Qe=2;le===1/0;Qe*=2)le=Math.log(Math.pow(2,ue/Qe))/Math.log(oe)*Qe;var ct=le-Math.floor(le);for(Qe=0;Qe<Math.floor(le);Qe++)Xe=Math.floor(Math.random()*oe).toString(oe),Ce=Xe+Ce;ct&&(ze=Math.pow(oe,ct),Xe=Math.floor(Math.random()*ze).toString(oe),Ce=Xe+Ce);var pt=parseInt(Ce,oe);return se&&se[Ce]||pt!==1/0&&pt>=Math.pow(2,ue)?Se>10?(T.warn("randstr failed uniqueness"),Ce):te(se,ue,oe,(Se||0)+1):Ce},T.OptionControl=function(te,se){te||(te={}),se||(se="opt");var ue={};return ue.optionList=[],ue._newoption=function(oe){oe[se]=te,ue[oe.name]=oe,ue.optionList.push(oe)},ue["_"+se]=te,ue},T.smooth=function(te,se){if(se=Math.round(se)||0,se<2)return te;var ue=te.length,oe=2*ue,Se=2*se-1,le=new Array(Se),Ce=new Array(ue),Qe,ze,Xe,ct;for(Qe=0;Qe<Se;Qe++)le[Qe]=(1-Math.cos(Math.PI*(Qe+1)/se))/(2*se);for(Qe=0;Qe<ue;Qe++){for(ct=0,ze=0;ze<Se;ze++)Xe=Qe+ze+1-se,Xe<-ue?Xe-=oe*Math.round(Xe/oe):Xe>=oe&&(Xe-=oe*Math.floor(Xe/oe)),Xe<0?Xe=-1-Xe:Xe>=ue&&(Xe=oe-1-Xe),ct+=te[Xe]*le[ze];Ce[Qe]=ct}return Ce},T.syncOrAsync=function(te,se,ue){var oe,Se;function le(){return T.syncOrAsync(te,se,ue)}for(;te.length;)if(Se=te.splice(0,1)[0],oe=Se(se),oe&&oe.then)return oe.then(le);return ue&&ue(se)},T.stripTrailingSlash=function(te){return te.substr(-1)==="/"?te.substr(0,te.length-1):te},T.noneOrAll=function(te,se,ue){if(te){var oe=!1,Se=!0,le,Ce;for(le=0;le<ue.length;le++)Ce=te[ue[le]],Ce!=null?oe=!0:Se=!1;if(oe&&!Se)for(le=0;le<ue.length;le++)te[ue[le]]=se[ue[le]]}},T.mergeArray=function(te,se,ue,oe){var Se=typeof oe=="function";if(T.isArrayOrTypedArray(te))for(var le=Math.min(te.length,se.length),Ce=0;Ce<le;Ce++){var Qe=te[Ce];se[Ce][ue]=Se?oe(Qe):Qe}},T.mergeArrayCastPositive=function(te,se,ue){return T.mergeArray(te,se,ue,function(oe){var Se=+oe;return isFinite(Se)&&Se>0?Se:0})},T.fillArray=function(te,se,ue,oe){if(oe=oe||T.identity,T.isArrayOrTypedArray(te))for(var Se=0;Se<se.length;Se++)se[Se][ue]=oe(te[Se])},T.castOption=function(te,se,ue,oe){oe=oe||T.identity;var Se=T.nestedProperty(te,ue).get();return T.isArrayOrTypedArray(Se)?Array.isArray(se)&&T.isArrayOrTypedArray(Se[se[0]])?oe(Se[se[0]][se[1]]):oe(Se[se]):Se},T.extractOption=function(te,se,ue,oe){if(ue in te)return te[ue];var Se=T.nestedProperty(se,oe).get();if(!Array.isArray(Se))return Se};function ae(te){var se={};for(var ue in te)for(var oe=te[ue],Se=0;Se<oe.length;Se++)se[oe[Se]]=+ue;return se}T.tagSelected=function(te,se,ue){var oe=se.selectedpoints,Se=se._indexToPoints,le;Se&&(le=ae(Se));function Ce(pt){return pt!==void 0&&pt<te.length}for(var Qe=0;Qe<oe.length;Qe++){var ze=oe[Qe];if(T.isIndex(ze)||T.isArrayOrTypedArray(ze)&&T.isIndex(ze[0])&&T.isIndex(ze[1])){var Xe=le?le[ze]:ze,ct=ue?ue[Xe]:Xe;Ce(ct)&&(te[ct].selected=1)}}},T.selIndices2selPoints=function(te){var se=te.selectedpoints,ue=te._indexToPoints;if(ue){for(var oe=ae(ue),Se=[],le=0;le<se.length;le++){var Ce=se[le];if(T.isIndex(Ce)){var Qe=oe[Ce];T.isIndex(Qe)&&Se.push(Qe)}}return Se}else return se},T.getTargetArray=function(te,se){var ue=se.target;if(typeof ue=="string"&&ue){var oe=T.nestedProperty(te,ue).get();return Array.isArray(oe)?oe:!1}else if(Array.isArray(ue))return ue;return!1};function q(te,se,ue){var oe={};typeof se!="object"&&(se={});var Se=ue==="pieLike"?-1:3,le=Object.keys(te),Ce,Qe,ze;for(Ce=0;Ce<le.length;Ce++)Qe=le[Ce],ze=te[Qe],!(Qe.charAt(0)==="_"||typeof ze=="function")&&(Qe==="module"?oe[Qe]=ze:Array.isArray(ze)?Qe==="colorscale"||Se===-1?oe[Qe]=ze.slice():oe[Qe]=ze.slice(0,Se):T.isTypedArray(ze)?Se===-1?oe[Qe]=ze.subarray():oe[Qe]=ze.subarray(0,Se):ze&&typeof ze=="object"?oe[Qe]=q(te[Qe],se[Qe],ue):oe[Qe]=ze);for(le=Object.keys(se),Ce=0;Ce<le.length;Ce++)Qe=le[Ce],ze=se[Qe],(typeof ze!="object"||!(Qe in oe)||typeof oe[Qe]!="object")&&(oe[Qe]=ze);return oe}T.minExtend=q,T.titleCase=function(te){return te.charAt(0).toUpperCase()+te.substr(1)},T.containsAny=function(te,se){for(var ue=0;ue<se.length;ue++)if(te.indexOf(se[ue])!==-1)return!0;return!1},T.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var fe=/Version\/[\d\.]+.*Safari/;T.isSafari=function(){return fe.test(window.navigator.userAgent)};var ee=/iPad|iPhone|iPod/;T.isIOS=function(){return ee.test(window.navigator.userAgent)};var be=/Firefox\/(\d+)\.\d+/;T.getFirefoxVersion=function(){var te=be.exec(window.navigator.userAgent);if(te&&te.length===2){var se=parseInt(te[1]);if(!isNaN(se))return se}return null},T.isD3Selection=function(te){return te instanceof p.selection},T.ensureSingle=function(te,se,ue,oe){var Se=te.select(se+(ue?"."+ue:""));if(Se.size())return Se;var le=te.append(se);return ue&&le.classed(ue,!0),oe&&le.call(oe),le},T.ensureSingleById=function(te,se,ue,oe){var Se=te.select(se+"#"+ue);if(Se.size())return Se;var le=te.append(se).attr("id",ue);return oe&&le.call(oe),le},T.objectFromPath=function(te,se){for(var ue=te.split("."),oe,Se=oe={},le=0;le<ue.length;le++){var Ce=ue[le],Qe=null,ze=ue[le].match(/(.*)\[([0-9]+)\]/);ze?(Ce=ze[1],Qe=ze[2],oe=oe[Ce]=[],le===ue.length-1?oe[Qe]=se:oe[Qe]={},oe=oe[Qe]):(le===ue.length-1?oe[Ce]=se:oe[Ce]={},oe=oe[Ce])}return Se};var Te=/^([^\[\.]+)\.(.+)?/,Be=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function ge(te){return te.slice(0,2)==="__"}T.expandObjectPaths=function(te){var se,ue,oe,Se,le,Ce,Qe;if(typeof te=="object"&&!Array.isArray(te)){for(ue in te)if(te.hasOwnProperty(ue))if(se=ue.match(Te)){if(Se=te[ue],oe=se[1],ge(oe))continue;delete te[ue],te[oe]=T.extendDeepNoArrays(te[oe]||{},T.objectFromPath(ue,T.expandObjectPaths(Se))[oe])}else if(se=ue.match(Be)){if(Se=te[ue],oe=se[1],ge(oe))continue;if(le=parseInt(se[2]),delete te[ue],te[oe]=te[oe]||[],se[3]===".")Qe=se[4],Ce=te[oe][le]=te[oe][le]||{},T.extendDeepNoArrays(Ce,T.objectFromPath(Qe,T.expandObjectPaths(Se)));else{if(ge(oe))continue;te[oe][le]=T.expandObjectPaths(Se)}}else{if(ge(ue))continue;te[ue]=T.expandObjectPaths(te[ue])}}return te},T.numSeparate=function(te,se,ue){if(ue||(ue=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof te=="number"&&(te=String(te));var oe=/(\d+)(\d{3})/,Se=se.charAt(0),le=se.charAt(1),Ce=te.split("."),Qe=Ce[0],ze=Ce.length>1?Se+Ce[1]:"";if(le&&(Ce.length>1||Qe.length>4||ue))for(;oe.test(Qe);)Qe=Qe.replace(oe,"$1"+le+"$2");return Qe+ze},T.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ne=/^\w*$/;T.templateString=function(te,se){var ue={};return te.replace(T.TEMPLATE_STRING_REGEX,function(oe,Se){var le;return ne.test(Se)?le=se[Se]:(ue[Se]=ue[Se]||T.nestedProperty(se,Se).get,le=ue[Se]()),T.isValidTextValue(le)?le:""})};var pe={max:10,count:0,name:"hovertemplate"};T.hovertemplateString=function(){return $e.apply(pe,arguments)};var G={max:10,count:0,name:"texttemplate"};T.texttemplateString=function(){return $e.apply(G,arguments)};var Oe=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function xe(te){var se=te.match(Oe);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:te,op:null,number:null}}var Le={max:10,count:0,name:"texttemplate",parseMultDiv:!0};T.texttemplateStringForShapes=function(){return $e.apply(Le,arguments)};var ke=/^[:|\|]/;function $e(te,se,ue){var oe=this,Se=arguments;se||(se={});var le={};return te.replace(T.TEMPLATE_STRING_REGEX,function(Ce,Qe,ze){var Xe=Qe==="xother"||Qe==="yother",ct=Qe==="_xother"||Qe==="_yother",pt=Qe==="_xother_"||Qe==="_yother_",Ye=Qe==="xother_"||Qe==="yother_",je=Xe||ct||Ye||pt,et=Qe;(ct||pt)&&(et=et.substring(1)),(Ye||pt)&&(et=et.substring(0,et.length-1));var yt=null,ft=null;if(oe.parseMultDiv){var tt=xe(et);et=tt.key,yt=tt.op,ft=tt.number}var wt;if(je){if(wt=se[et],wt===void 0)return""}else{var Xt,Gt;for(Gt=3;Gt<Se.length;Gt++)if(Xt=Se[Gt],!!Xt){if(Xt.hasOwnProperty(et)){wt=Xt[et];break}if(ne.test(et)||(wt=T.nestedProperty(Xt,et).get(),wt=le[et]||T.nestedProperty(Xt,et).get(),wt&&(le[et]=wt)),wt!==void 0)break}}if(wt!==void 0&&(yt==="*"&&(wt*=ft),yt==="/"&&(wt/=ft)),wt===void 0&&oe)return oe.count<oe.max&&(T.warn("Variable '"+et+"' in "+oe.name+" could not be found!"),wt=Ce),oe.count===oe.max&&T.warn("Too many "+oe.name+" warnings - additional warnings will be suppressed"),oe.count++,Ce;if(ze){var Nt;if(ze[0]===":"&&(Nt=ue?ue.numberFormat:T.numberFormat,wt=Nt(ze.replace(ke,""))(wt)),ze[0]==="|"){Nt=ue?ue.timeFormat:v;var Bt=T.dateTime2ms(wt);wt=T.formatDate(Bt,ze.replace(ke,""),!1,Nt)}}else{var vn=et+"Label";se.hasOwnProperty(vn)&&(wt=se[vn])}return je&&(wt="("+wt+")",(ct||pt)&&(wt=" "+wt),(Ye||pt)&&(wt=wt+" ")),wt})}var Ze=48,De=57;T.subplotSort=function(te,se){for(var ue=Math.min(te.length,se.length)+1,oe=0,Se=0,le=0;le<ue;le++){var Ce=te.charCodeAt(le)||0,Qe=se.charCodeAt(le)||0,ze=Ce>=Ze&&Ce<=De,Xe=Qe>=Ze&&Qe<=De;if(ze&&(oe=10*oe+Ce-Ze),Xe&&(Se=10*Se+Qe-Ze),!ze||!Xe){if(oe!==Se)return oe-Se;if(Ce!==Qe)return Ce-Qe}}return Se-oe};var Ie=2e9;T.seedPseudoRandom=function(){Ie=2e9},T.pseudoRandom=function(){var te=Ie;return Ie=(69069*Ie+1)%4294967296,Math.abs(Ie-te)<429496729?T.pseudoRandom():Ie/4294967296},T.fillText=function(te,se,ue){var oe=Array.isArray(ue)?function(Ce){ue.push(Ce)}:function(Ce){ue.text=Ce},Se=T.extractOption(te,se,"htx","hovertext");if(T.isValidTextValue(Se))return oe(Se);var le=T.extractOption(te,se,"tx","text");if(T.isValidTextValue(le))return oe(le)},T.isValidTextValue=function(te){return te||te===0},T.formatPercent=function(te,se){se=se||0;for(var ue=(Math.round(100*te*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",oe=0;oe<se;oe++)ue.indexOf(".")!==-1&&(ue=ue.replace("0%","%"),ue=ue.replace(".%","%"));return ue},T.isHidden=function(te){var se=window.getComputedStyle(te).display;return!se||se==="none"},T.strTranslate=function(te,se){return te||se?"translate("+te+","+se+")":""},T.strRotate=function(te){return te?"rotate("+te+")":""},T.strScale=function(te){return te!==1?"scale("+te+")":""},T.getTextTransform=function(te){var se=te.noCenter,ue=te.textX,oe=te.textY,Se=te.targetX,le=te.targetY,Ce=te.anchorX||0,Qe=te.anchorY||0,ze=te.rotate,Xe=te.scale;return Xe?Xe>1&&(Xe=1):Xe=0,T.strTranslate(Se-Xe*(ue+Ce),le-Xe*(oe+Qe))+T.strScale(Xe)+(ze?"rotate("+ze+(se?"":" "+ue+" "+oe)+")":"")},T.setTransormAndDisplay=function(te,se){te.attr("transform",T.getTextTransform(se)),te.style("display",se.scale?null:"none")},T.ensureUniformFontSize=function(te,se){var ue=T.extendFlat({},se);return ue.size=Math.max(se.size,te._fullLayout.uniformtext.minsize||0),ue},T.join2=function(te,se,ue){var oe=te.length;return oe>1?te.slice(0,-1).join(se)+ue+te[oe-1]:te.join(se)},T.bigFont=function(te){return Math.round(1.2*te)};var re=T.getFirefoxVersion(),ye=re!==null&&re<86;T.getPositionFromD3Event=function(){return ye?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},1965:function(f){f.exports=function(u){return window&&window.process&&window.process.versions?Object.prototype.toString.call(u)==="[object Object]":Object.prototype.toString.call(u)==="[object Object]"&&Object.getPrototypeOf(u).hasOwnProperty("hasOwnProperty")}},6636:function(f,h,u){var p=u(5487),v=/^\w*$/,y=0,b=1,x=2,k=3,C=4;f.exports=function(T,R,M,I){M=M||"name",I=I||"value";var V,N,F,z={};R&&R.length?(F=p(T,R),N=F.get()):N=T,R=R||"";var U={};if(N)for(V=0;V<N.length;V++)U[N[V][M]]=V;var Q=v.test(I),B={set:function(E,W){var Y=W===null?C:y;if(!N){if(!F||Y===C)return;N=[],F.set(N)}var ie=U[E];if(ie===void 0){if(Y===C)return;Y=Y|k,ie=N.length,U[E]=ie}else W!==(Q?N[ie][I]:p(N[ie],I).get())&&(Y=Y|x);var L=N[ie]=N[ie]||{};return L[M]=E,Q?L[I]=W:p(L,I).set(W),W!==null&&(Y=Y&~C),z[ie]=z[ie]|Y,B},get:function(E){if(N){var W=U[E];if(W!==void 0)return Q?N[W][I]:p(N[W],I).get()}},rename:function(E,W){var Y=U[E];return Y===void 0||(z[Y]=z[Y]|b,U[W]=Y,delete U[E],N[Y][M]=W),B},remove:function(E){var W=U[E];if(W===void 0)return B;var Y=N[W];if(Object.keys(Y).length>2)return z[W]=z[W]|x,B.set(E,null);if(Q){for(V=W;V<N.length;V++)z[V]=z[V]|k;for(V=W;V<N.length;V++)U[N[V][M]]--;N.splice(W,1),delete U[E]}else p(Y,I).set(null),z[W]=z[W]|x|C;return B},constructUpdate:function(){for(var E,W,Y={},ie=Object.keys(z),L=0;L<ie.length;L++)W=ie[L],E=R+"["+W+"]",N[W]?(z[W]&b&&(Y[E+"."+M]=N[W][M]),z[W]&x&&(Q?Y[E+"."+I]=z[W]&C?null:N[W][I]:Y[E+"."+I]=z[W]&C?null:p(N[W],I).get())):Y[E]=null;return Y}};return B}},5867:function(f,h,u){var p=u(3972);f.exports=function(y,b){for(var x=y._context.locale,k=0;k<2;k++){for(var C=y._context.locales,w=0;w<2;w++){var T=(C[x]||{}).dictionary;if(T){var R=T[b];if(R)return R}C=p.localeRegistry}var M=x.split("-")[0];if(M===x)break;x=M}return b}},7769:function(f,h,u){var p=u(2075).dfltConfig,v=u(5046),y=f.exports={};y.log=function(){var b;if(p.logging>1){var x=["LOG:"];for(b=0;b<arguments.length;b++)x.push(arguments[b]);console.trace.apply(console,x)}if(p.notifyOnLogging>1){var k=[];for(b=0;b<arguments.length;b++)k.push(arguments[b]);v(k.join("<br>"),"long")}},y.warn=function(){var b;if(p.logging>0){var x=["WARN:"];for(b=0;b<arguments.length;b++)x.push(arguments[b]);console.trace.apply(console,x)}if(p.notifyOnLogging>0){var k=[];for(b=0;b<arguments.length;b++)k.push(arguments[b]);v(k.join("<br>"),"stick")}},y.error=function(){var b;if(p.logging>0){var x=["ERROR:"];for(b=0;b<arguments.length;b++)x.push(arguments[b]);console.error.apply(console,x)}if(p.notifyOnLogging>0){var k=[];for(b=0;b<arguments.length;b++)k.push(arguments[b]);v(k.join("<br>"),"stick")}}},7310:function(f,h,u){var p=u(9898);f.exports=function(y,b,x){var k=y.selectAll("g."+x.replace(/\s/g,".")).data(b,function(w){return w[0].trace.uid});k.exit().remove(),k.enter().append("g").attr("class",x),k.order();var C=y.classed("rangeplot")?"nodeRangePlot3":"node3";return k.each(function(w){w[0][C]=p.select(this)}),k}},5657:function(f,h,u){var p=u(9576);h.init2dArray=function(v,y){for(var b=new Array(v),x=0;x<v;x++)b[x]=new Array(y);return b},h.transposeRagged=function(v){var y=0,b=v.length,x,k;for(x=0;x<b;x++)y=Math.max(y,v[x].length);var C=new Array(y);for(x=0;x<y;x++)for(C[x]=new Array(b),k=0;k<b;k++)C[x][k]=v[k][x];return C},h.dot=function(v,y){if(!(v.length&&y.length)||v.length!==y.length)return null;var b=v.length,x,k;if(v[0].length)for(x=new Array(b),k=0;k<b;k++)x[k]=h.dot(v[k],y);else if(y[0].length){var C=h.transposeRagged(y);for(x=new Array(C.length),k=0;k<C.length;k++)x[k]=h.dot(v,C[k])}else for(x=0,k=0;k<b;k++)x+=v[k]*y[k];return x},h.translationMatrix=function(v,y){return[[1,0,v],[0,1,y],[0,0,1]]},h.rotationMatrix=function(v){var y=v*Math.PI/180;return[[Math.cos(y),-Math.sin(y),0],[Math.sin(y),Math.cos(y),0],[0,0,1]]},h.rotationXYMatrix=function(v,y,b){return h.dot(h.dot(h.translationMatrix(y,b),h.rotationMatrix(v)),h.translationMatrix(-y,-b))},h.apply3DTransform=function(v){return function(){var y=arguments,b=arguments.length===1?y[0]:[y[0],y[1],y[2]||0];return h.dot(v,[b[0],b[1],b[2],1]).slice(0,3)}},h.apply2DTransform=function(v){return function(){var y=arguments;y.length===3&&(y=y[0]);var b=arguments.length===1?y[0]:[y[0],y[1]];return h.dot(v,[b[0],b[1],1]).slice(0,2)}},h.apply2DTransform2=function(v){var y=h.apply2DTransform(v);return function(b){return y(b.slice(0,2)).concat(y(b.slice(2,4)))}},h.convertCssMatrix=function(v){if(v){var y=v.length;if(y===16)return v;if(y===6)return[v[0],v[1],0,0,v[2],v[3],0,0,0,0,1,0,v[4],v[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},h.inverseTransformMatrix=function(v){var y=[];return p.invert(y,v),[[y[0],y[1],y[2],y[3]],[y[4],y[5],y[6],y[7]],[y[8],y[9],y[10],y[11]],[y[12],y[13],y[14],y[15]]]}},4872:function(f){function h(p,v){var y=p%v;return y<0?y+v:y}function u(p,v){return Math.abs(p)>v/2?p-Math.round(p/v)*v:p}f.exports={mod:h,modHalf:u}},5487:function(f,h,u){var p=u(2770),v=u(3627).isArrayOrTypedArray;f.exports=function(I,V){if(p(V))V=String(V);else if(typeof V!="string"||V.substr(V.length-4)==="[-1]")throw"bad property string";var N=V.split("."),F,z,U,Q;for(Q=0;Q<N.length;Q++)if(String(N[Q]).slice(0,2)==="__")throw"bad property string";for(Q=0;Q<N.length;){if(F=String(N[Q]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),F){if(F[1])N[Q]=F[1];else if(Q===0)N.splice(0,1);else throw"bad property string";for(z=F[2].substr(1,F[2].length-2).split("]["),U=0;U<z.length;U++)Q++,N.splice(Q,0,Number(z[U]))}Q++}return typeof I!="object"?R(I,V,N):{set:k(I,N,V),get:y(I,N),astr:V,parts:N,obj:I}};function y(M,I){return function(){var V=M,N,F,z,U,Q;for(U=0;U<I.length-1;U++){if(N=I[U],N===-1){for(F=!0,z=[],Q=0;Q<V.length;Q++)z[Q]=y(V[Q],I.slice(U+1))(),z[Q]!==z[0]&&(F=!1);return F?z[0]:z}if(typeof N=="number"&&!v(V)||(V=V[N],typeof V!="object"||V===null))return}if(!(typeof V!="object"||V===null)&&(z=V[I[U]],z!==null))return z}}var b=/(^|\.)args\[/;function x(M,I){return M===void 0||M===null&&!I.match(b)}function k(M,I,V){return function(N){var F=M,z="",U=x(N,V),Q,B;for(B=0;B<I.length-1;B++){if(Q=I[B],typeof Q=="number"&&!v(F))throw"array index but container is not an array";if(Q===-1){if(U=!w(F,I.slice(B+1),N,V),U)break;return}if(!T(F,Q,I[B+1],U))break;if(F=F[Q],typeof F!="object"||F===null)throw"container is not an object";z=C(z,Q)}if(U){if(B===I.length-1&&(delete F[I[B]],Array.isArray(F)&&+I[B]===F.length-1))for(;F.length&&F[F.length-1]===void 0;)F.pop()}else F[I[B]]=N}}function C(M,I){var V=I;return p(I)?V="["+I+"]":M&&(V="."+I),M+V}function w(M,I,V,N){var F=v(V),z=!0,U=V,Q=N.replace("-1",0),B=F?!1:x(V,Q),E=I[0],W;for(W=0;W<M.length;W++)Q=N.replace("-1",W),F&&(U=V[W%V.length],B=x(U,Q)),B&&(z=!1),T(M,W,E,B)&&k(M[W],I,N.replace("-1",W))(U);return z}function T(M,I,V,N){if(M[I]===void 0){if(N)return!1;typeof V=="number"?M[I]=[]:M[I]={}}return!0}function R(M,I,V){return{set:function(){throw"bad container"},get:function(){},astr:I,parts:V,obj:M}}},4213:function(f){f.exports=function(){}},5046:function(f,h,u){var p=u(9898),v=u(2770),y=[];f.exports=function(b,x){if(y.indexOf(b)!==-1)return;y.push(b);var k=1e3;v(x)?k=x:x==="long"&&(k=3e3);var C=p.select("body").selectAll(".plotly-notifier").data([0]);C.enter().append("div").classed("plotly-notifier",!0);var w=C.selectAll(".notifier-note").data(y);function T(R){R.duration(700).style("opacity",0).each("end",function(M){var I=y.indexOf(M);I!==-1&&y.splice(I,1),p.select(this).remove()})}w.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(R){var M=p.select(this);M.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){M.transition().call(T)});for(var I=M.append("p"),V=R.split(/<br\s*\/?>/g),N=0;N<V.length;N++)N&&I.append("br"),I.append("span").text(V[N]);x==="stick"?M.transition().duration(350).style("opacity",1):M.transition().duration(700).style("opacity",1).transition().delay(k).call(T)})}},9918:function(f,h,u){var p=u(6964),v="data-savedcursor",y="!!";f.exports=function(x,k){var C=x.attr(v);if(k){if(!C){for(var w=(x.attr("class")||"").split(" "),T=0;T<w.length;T++){var R=w[T];R.indexOf("cursor-")===0&&x.attr(v,R.substr(7)).classed(R,!1)}x.attr(v)||x.attr(v,y)}p(x,k)}else C&&(x.attr(v,null),C===y?p(x):p(x,C))}},1082:function(f,h,u){var p=u(5657).dot,v=u(606).BADNUM,y=f.exports={};y.tester=function(x){var k=x.slice(),C=k[0][0],w=C,T=k[0][1],R=T,M;for((k[k.length-1][0]!==k[0][0]||k[k.length-1][1]!==k[0][1])&&k.push(k[0]),M=1;M<k.length;M++)C=Math.min(C,k[M][0]),w=Math.max(w,k[M][0]),T=Math.min(T,k[M][1]),R=Math.max(R,k[M][1]);var I=!1,V;k.length===5&&(k[0][0]===k[1][0]?k[2][0]===k[3][0]&&k[0][1]===k[3][1]&&k[1][1]===k[2][1]&&(I=!0,V=function(Q){return Q[0]===k[0][0]}):k[0][1]===k[1][1]&&k[2][1]===k[3][1]&&k[0][0]===k[3][0]&&k[1][0]===k[2][0]&&(I=!0,V=function(Q){return Q[1]===k[0][1]}));function N(Q,B){var E=Q[0],W=Q[1];return!(E===v||E<C||E>w||W===v||W<T||W>R||B&&V(Q))}function F(Q,B){var E=Q[0],W=Q[1];if(E===v||E<C||E>w||W===v||W<T||W>R)return!1;var Y=k.length,ie=k[0][0],L=k[0][1],me=0,ae,q,fe,ee,be;for(ae=1;ae<Y;ae++)if(q=ie,fe=L,ie=k[ae][0],L=k[ae][1],ee=Math.min(q,ie),!(E<ee||E>Math.max(q,ie)||W>Math.max(fe,L)))if(W<Math.min(fe,L))E!==ee&&me++;else{if(ie===q?be=W:be=fe+(E-q)*(L-fe)/(ie-q),W===be)return!(ae===1&&B);W<=be&&E!==ee&&me++}return me%2===1}var z=!0,U=k[0];for(M=1;M<k.length;M++)if(U[0]!==k[M][0]||U[1]!==k[M][1]){z=!1;break}return{xmin:C,xmax:w,ymin:T,ymax:R,pts:k,contains:I?N:F,isRect:I,degenerate:z}},y.isSegmentBent=function(x,k,C,w){var T=x[k],R=[x[C][0]-T[0],x[C][1]-T[1]],M=p(R,R),I=Math.sqrt(M),V=[-R[1]/I,R[0]/I],N,F,z;for(N=k+1;N<C;N++)if(F=[x[N][0]-T[0],x[N][1]-T[1]],z=p(F,R),z<0||z>M||Math.abs(p(F,V))>w)return!0;return!1},y.filter=function(x,k){var C=[x[0]],w=0,T=0;function R(I){x.push(I);var V=C.length,N=w;C.splice(T+1);for(var F=N+1;F<x.length;F++)(F===x.length-1||y.isSegmentBent(x,N,F+1,k))&&(C.push(x[F]),C.length<V-2&&(w=F,T=C.length-1),N=F)}if(x.length>1){var M=x.pop();R(M)}return{addPt:R,raw:x,filtered:C}}},5142:function(f,h,u){var p=u(2770),v=u(5791);f.exports=function(x){var k;if(x&&x.hasOwnProperty("userAgent")?k=x.userAgent:k=y(),typeof k!="string")return!0;var C=v({ua:{headers:{"user-agent":k}},tablet:!0,featureDetect:!1});if(!C)for(var w=k.split(" "),T=1;T<w.length;T++){var R=w[T];if(R.indexOf("Safari")!==-1)for(var M=T-1;M>-1;M--){var I=w[M];if(I.substr(0,8)==="Version/"){var V=I.substr(8).split(".")[0];if(p(V)&&(V=+V),V>=13)return!0}}}return C};function y(){var b;return typeof navigator<"u"&&(b=navigator.userAgent),b&&b.headers&&typeof b.headers["user-agent"]=="string"&&(b=b.headers["user-agent"]),b}},5138:function(f){f.exports=function(u,p){if(p instanceof RegExp){for(var v=p.toString(),y=0;y<u.length;y++)if(u[y]instanceof RegExp&&u[y].toString()===v)return u;u.push(p)}else(p||p===0)&&u.indexOf(p)===-1&&u.push(p);return u}},847:function(f,h,u){var p=u(1828),v=u(2075).dfltConfig;function y(x,k){for(var C=[],w,T=0;T<k.length;T++)w=k[T],w===x?C[T]=w:typeof w=="object"?C[T]=Array.isArray(w)?p.extendDeep([],w):p.extendDeepAll({},w):C[T]=w;return C}var b={};b.add=function(x,k,C,w,T){var R,M;if(x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},M=x.undoQueue.index,x.autoplay){x.undoQueue.inSequence||(x.autoplay=!1);return}!x.undoQueue.sequence||x.undoQueue.beginSequence?(R={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},x.undoQueue.queue.splice(M,x.undoQueue.queue.length-M,R),x.undoQueue.index+=1):R=x.undoQueue.queue[M-1],x.undoQueue.beginSequence=!1,R&&(R.undo.calls.unshift(k),R.undo.args.unshift(C),R.redo.calls.push(w),R.redo.args.push(T)),x.undoQueue.queue.length>v.queueLength&&(x.undoQueue.queue.shift(),x.undoQueue.index--)},b.startSequence=function(x){x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},x.undoQueue.sequence=!0,x.undoQueue.beginSequence=!0},b.stopSequence=function(x){x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},x.undoQueue.sequence=!1,x.undoQueue.beginSequence=!1},b.undo=function(k){var C,w;if(!(k.undoQueue===void 0||isNaN(k.undoQueue.index)||k.undoQueue.index<=0)){for(k.undoQueue.index--,C=k.undoQueue.queue[k.undoQueue.index],k.undoQueue.inSequence=!0,w=0;w<C.undo.calls.length;w++)b.plotDo(k,C.undo.calls[w],C.undo.args[w]);k.undoQueue.inSequence=!1,k.autoplay=!1}},b.redo=function(k){var C,w;if(!(k.undoQueue===void 0||isNaN(k.undoQueue.index)||k.undoQueue.index>=k.undoQueue.queue.length)){for(C=k.undoQueue.queue[k.undoQueue.index],k.undoQueue.inSequence=!0,w=0;w<C.redo.calls.length;w++)b.plotDo(k,C.redo.calls[w],C.redo.args[w]);k.undoQueue.inSequence=!1,k.autoplay=!1,k.undoQueue.index++}},b.plotDo=function(x,k,C){x.autoplay=!0,C=y(x,C),k.apply(null,C)},f.exports=b},587:function(f,h){h.counter=function(u,p,v,y){var b=(p||"")+(v?"":"$"),x=y===!1?"":"^";return u==="xy"?new RegExp(x+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+b):new RegExp(x+u+"([2-9]|[1-9][0-9]+)?"+b)}},6962:function(f){var h=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,u=/^[^\.\[\]]+$/;f.exports=function(p,v){for(;v;){var y=p.match(h);if(y)p=y[1];else if(p.match(u))p="";else throw new Error("bad relativeAttr call:"+[p,v]);if(v.charAt(0)==="^")v=v.slice(1);else break}return p&&v.charAt(0)!=="["?p+"."+v:p+v}},1332:function(f,h,u){var p=u(3627).isArrayOrTypedArray,v=u(1965);f.exports=function y(b,x){for(var k in x){var C=x[k],w=b[k];if(w!==C)if(k.charAt(0)==="_"||typeof C=="function"){if(k in b)continue;b[k]=C}else if(p(C)&&p(w)&&v(C[0])){if(k==="customdata"||k==="ids")continue;for(var T=Math.min(C.length,w.length),R=0;R<T;R++)w[R]!==C[R]&&v(C[R])&&v(w[R])&&y(w[R],C[R])}else v(C)&&v(w)&&(y(w,C),Object.keys(w).length||delete b[k])}}},5888:function(f,h,u){var p=u(2770),v=u(7769),y=u(3389),b=u(606).BADNUM,x=1e-9;h.findBin=function(R,M,I){if(p(M.start))return I?Math.ceil((R-M.start)/M.size-x)-1:Math.floor((R-M.start)/M.size+x);var V=0,N=M.length,F=0,z=N>1?(M[N-1]-M[0])/(N-1):1,U,Q;for(z>=0?Q=I?k:C:Q=I?T:w,R+=z*x*(I?-1:1)*(z>=0?1:-1);V<N&&F++<100;)U=Math.floor((V+N)/2),Q(M[U],R)?V=U+1:N=U;return F>90&&v.log("Long binary search..."),V-1};function k(R,M){return R<M}function C(R,M){return R<=M}function w(R,M){return R>M}function T(R,M){return R>=M}h.sorterAsc=function(R,M){return R-M},h.sorterDes=function(R,M){return M-R},h.distinctVals=function(R){var M=R.slice();M.sort(h.sorterAsc);var I;for(I=M.length-1;I>-1&&M[I]===b;I--);for(var V=M[I]-M[0]||1,N=V/(I||1)/1e4,F=[],z,U=0;U<=I;U++){var Q=M[U],B=Q-z;z===void 0?(F.push(Q),z=Q):B>N&&(V=Math.min(V,B),F.push(Q),z=Q)}return{vals:F,minDiff:V}},h.roundUp=function(R,M,I){for(var V=0,N=M.length-1,F,z=0,U=I?0:1,Q=I?1:0,B=I?Math.ceil:Math.floor;V<N&&z++<100;)F=B((V+N)/2),M[F]<=R?V=F+U:N=F-Q;return M[V]},h.sort=function(R,M){for(var I=0,V=0,N=1;N<R.length;N++){var F=M(R[N],R[N-1]);if(F<0?I=1:F>0&&(V=1),I&&V)return R.sort(M)}return V?R:R.reverse()},h.findIndexOfMin=function(R,M){M=M||y;for(var I=1/0,V,N=0;N<R.length;N++){var F=M(R[N]);F<I&&(I=F,V=N)}return V}},6964:function(f){f.exports=function(u,p){(u.attr("class")||"").split(" ").forEach(function(v){v.indexOf("cursor-")===0&&u.classed(v,!1)}),p&&u.classed("cursor-"+p,!0)}},8607:function(f){f.exports=function(u){return Object.keys(u).sort()}},38:function(f,h,u){var p=u(2770),v=u(3627).isArrayOrTypedArray;h.aggNums=function(y,b,x,k){var C,w;if((!k||k>x.length)&&(k=x.length),p(b)||(b=!1),v(x[0])){for(w=new Array(k),C=0;C<k;C++)w[C]=h.aggNums(y,b,x[C]);x=w}for(C=0;C<k;C++)p(b)?p(x[C])&&(b=y(+b,+x[C])):b=x[C];return b},h.len=function(y){return h.aggNums(function(b){return b+1},0,y)},h.mean=function(y,b){return b||(b=h.len(y)),h.aggNums(function(x,k){return x+k},0,y)/b},h.midRange=function(y){if(!(y===void 0||y.length===0))return(h.aggNums(Math.max,null,y)+h.aggNums(Math.min,null,y))/2},h.variance=function(y,b,x){return b||(b=h.len(y)),p(x)||(x=h.mean(y,b)),h.aggNums(function(k,C){return k+Math.pow(C-x,2)},0,y)/b},h.stdev=function(y,b,x){return Math.sqrt(h.variance(y,b,x))},h.median=function(y){var b=y.slice().sort();return h.interp(b,.5)},h.interp=function(y,b){if(!p(b))throw"n should be a finite number";if(b=b*y.length-.5,b<0)return y[0];if(b>y.length-1)return y[y.length-1];var x=b%1;return x*y[Math.ceil(b)]+(1-x)*y[Math.floor(b)]}},3893:function(f,h,u){var p=u(9898),v=u(1828),y=v.strTranslate,b=u(7922),x=u(8783).LINE_SPACING,k=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;h.convertToTspans=function(pe,G,Oe){var xe=pe.text(),Le=!pe.attr("data-notex")&&G&&G._context.typesetMath&&typeof MathJax<"u"&&xe.match(k),ke=p.select(pe.node().parentNode);if(ke.empty())return;var $e=pe.attr("class")?pe.attr("class").split(" ")[0]:"text";$e+="-math",ke.selectAll("svg."+$e).remove(),ke.selectAll("g."+$e+"-group").remove(),pe.style("display",null).attr({"data-unformatted":xe,"data-math":"N"});function Ze(){ke.empty()||($e=pe.attr("class")+"-math",ke.select("svg."+$e).remove()),pe.text("").style("white-space","pre");var De=Te(pe.node(),xe);De&&pe.style("pointer-events","all"),h.positionText(pe),Oe&&Oe.call(pe)}return Le?(G&&G._promises||[]).push(new Promise(function(De){pe.style("display","none");var Ie=parseInt(pe.node().style.fontSize,10),re={fontSize:Ie};M(Le[2],re,function(ye,te,se){ke.selectAll("svg."+$e).remove(),ke.selectAll("g."+$e+"-group").remove();var ue=ye&&ye.select("svg");if(!ue||!ue.node()){Ze(),De();return}var oe=ke.append("g").classed($e+"-group",!0).attr({"pointer-events":"none","data-unformatted":xe,"data-math":"Y"});oe.node().appendChild(ue.node()),te&&te.node()&&ue.node().insertBefore(te.node().cloneNode(!0),ue.node().firstChild);var Se=se.width,le=se.height;ue.attr({class:$e,height:le,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var Ce=pe.node().style.fill||"black",Qe=ue.select("g");Qe.attr({fill:Ce,stroke:Ce});var ze=Qe.node().getBoundingClientRect(),Xe=ze.width,ct=ze.height;(Xe>Se||ct>le)&&(ue.style("overflow","hidden"),ze=ue.node().getBoundingClientRect(),Xe=ze.width,ct=ze.height);var pt=+pe.attr("x"),Ye=+pe.attr("y"),je=Ie||pe.node().getBoundingClientRect().height,et=-je/4;if($e[0]==="y")oe.attr({transform:"rotate("+[-90,pt,Ye]+")"+y(-Xe/2,et-ct/2)});else if($e[0]==="l")Ye=et-ct/2;else if($e[0]==="a"&&$e.indexOf("atitle")!==0)pt=0,Ye=et;else{var yt=pe.attr("text-anchor");pt=pt-Xe*(yt==="middle"?.5:yt==="end"?1:0),Ye=Ye+et-ct/2}ue.attr({x:pt,y:Ye}),Oe&&Oe.call(pe,oe),De(oe)})})):Ze(),pe};var C=/(<|&lt;|&#60;)/g,w=/(>|&gt;|&#62;)/g;function T(pe){return pe.replace(C,"\\lt ").replace(w,"\\gt ")}var R=[["$","$"],["\\(","\\)"]];function M(pe,G,Oe){var xe=parseInt((MathJax.version||"").split(".")[0]);if(xe!==2&&xe!==3){v.warn("No MathJax version:",MathJax.version);return}var Le,ke,$e,Ze,De=function(){return ke=v.extendDeepAll({},MathJax.Hub.config),$e=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:R},displayAlign:"left"})},Ie=function(){ke=v.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=R},re=function(){if(Le=MathJax.Hub.config.menuSettings.renderer,Le!=="SVG")return MathJax.Hub.setRenderer("SVG")},ye=function(){Le=MathJax.config.startup.output,Le!=="svg"&&(MathJax.config.startup.output="svg")},te=function(){var Ce="math-output-"+v.randstr({},64);Ze=p.select("body").append("div").attr({id:Ce}).style({visibility:"hidden",position:"absolute","font-size":G.fontSize+"px"}).text(T(pe));var Qe=Ze.node();return xe===2?MathJax.Hub.Typeset(Qe):MathJax.typeset([Qe])},se=function(){var Ce=Ze.select(xe===2?".MathJax_SVG":".MathJax"),Qe=!Ce.empty()&&Ze.select("svg").node();if(!Qe)v.log("There was an error in the tex syntax.",pe),Oe();else{var ze=Qe.getBoundingClientRect(),Xe;xe===2?Xe=p.select("body").select("#MathJax_SVG_glyphs"):Xe=Ce.select("defs"),Oe(Ce,Xe,ze)}Ze.remove()},ue=function(){if(Le!=="SVG")return MathJax.Hub.setRenderer(Le)},oe=function(){Le!=="svg"&&(MathJax.config.startup.output=Le)},Se=function(){return $e!==void 0&&(MathJax.Hub.processSectionDelay=$e),MathJax.Hub.Config(ke)},le=function(){MathJax.config=ke};xe===2?MathJax.Hub.Queue(De,re,te,se,ue,Se):xe===3&&(Ie(),ye(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){te(),se(),oe(),le()}))}var I={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},V={sub:"0.3em",sup:"-0.6em"},N={sub:"-0.21em",sup:"0.42em"},F="​",z=["http:","https:","mailto:","",void 0,":"],U=h.NEWLINES=/(\r\n?|\n)/g,Q=/(<[^<>]*>)/,B=/<(\/?)([^ >]*)(\s+(.*))?>/i,E=/<br(\s+.*)?>/i;h.BR_TAG_ALL=/<br(\s+.*)?>/gi;var W=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,Y=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,ie=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,L=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function me(pe,G){if(!pe)return null;var Oe=pe.match(G),xe=Oe&&(Oe[3]||Oe[4]);return xe&&ee(xe)}var ae=/(^|;)\s*color:/;h.plainText=function(pe,G){G=G||{};for(var Oe=G.len!==void 0&&G.len!==-1?G.len:1/0,xe=G.allowedTags!==void 0?G.allowedTags:["br"],Le="...",ke=Le.length,$e=pe.split(Q),Ze=[],De="",Ie=0,re=0;re<$e.length;re++){var ye=$e[re],te=ye.match(B),se=te&&te[2].toLowerCase();if(se)xe.indexOf(se)!==-1&&(Ze.push(ye),De=se);else{var ue=ye.length;if(Ie+ue<Oe)Ze.push(ye),Ie+=ue;else if(Ie<Oe){var oe=Oe-Ie;De&&(De!=="br"||oe<=ke||ue<=ke)&&Ze.pop(),Oe>ke?Ze.push(ye.substr(0,oe-ke)+Le):Ze.push(ye.substr(0,oe));break}De=""}}return Ze.join("")};var q={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},fe=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function ee(pe){return pe.replace(fe,function(G,Oe){var xe;return Oe.charAt(0)==="#"?xe=be(Oe.charAt(1)==="x"?parseInt(Oe.substr(2),16):parseInt(Oe.substr(1),10)):xe=q[Oe],xe||G})}h.convertEntities=ee;function be(pe){if(!(pe>1114111)){var G=String.fromCodePoint;if(G)return G(pe);var Oe=String.fromCharCode;return pe<=65535?Oe(pe):Oe((pe>>10)+55232,pe%1024+56320)}}function Te(pe,G){G=G.replace(U," ");var Oe=!1,xe=[],Le,ke=-1;function $e(){ke++;var ct=document.createElementNS(b.svg,"tspan");p.select(ct).attr({class:"line",dy:ke*x+"em"}),pe.appendChild(ct),Le=ct;var pt=xe;if(xe=[{node:ct}],pt.length>1)for(var Ye=1;Ye<pt.length;Ye++)Ze(pt[Ye])}function Ze(ct){var pt=ct.type,Ye={},je;if(pt==="a"){je="a";var et=ct.target,yt=ct.href,ft=ct.popup;yt&&(Ye={"xlink:xlink:show":et==="_blank"||et.charAt(0)!=="_"?"new":"replace",target:et,"xlink:xlink:href":yt},ft&&(Ye.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ft+'");return false;'))}else je="tspan";ct.style&&(Ye.style=ct.style);var tt=document.createElementNS(b.svg,je);if(pt==="sup"||pt==="sub"){De(Le,F),Le.appendChild(tt);var wt=document.createElementNS(b.svg,"tspan");De(wt,F),p.select(wt).attr("dy",N[pt]),Ye.dy=V[pt],Le.appendChild(tt),Le.appendChild(wt)}else Le.appendChild(tt);p.select(tt).attr(Ye),Le=ct.node=tt,xe.push(ct)}function De(ct,pt){ct.appendChild(document.createTextNode(pt))}function Ie(ct){if(xe.length===1){v.log("Ignoring unexpected end tag </"+ct+">.",G);return}var pt=xe.pop();ct!==pt.type&&v.log("Start tag <"+pt.type+"> doesnt match end tag <"+ct+">. Pretending it did match.",G),Le=xe[xe.length-1].node}var re=E.test(G);re?$e():(Le=pe,xe=[{node:pe}]);for(var ye=G.split(Q),te=0;te<ye.length;te++){var se=ye[te],ue=se.match(B),oe=ue&&ue[2].toLowerCase(),Se=I[oe];if(oe==="br")$e();else if(Se===void 0)De(Le,ee(se));else if(ue[1])Ie(oe);else{var le=ue[4],Ce={type:oe},Qe=me(le,W);if(Qe?(Qe=Qe.replace(ae,"$1 fill:"),Se&&(Qe+=";"+Se)):Se&&(Qe=Se),Qe&&(Ce.style=Qe),oe==="a"){Oe=!0;var ze=me(le,Y);if(ze){var Xe=Be(ze);Xe&&(Ce.href=Xe,Ce.target=me(le,ie)||"_blank",Ce.popup=me(le,L))}}Ze(Ce)}}return Oe}function Be(pe){var G=encodeURI(decodeURI(pe)),Oe=document.createElement("a"),xe=document.createElement("a");Oe.href=pe,xe.href=G;var Le=Oe.protocol,ke=xe.protocol;return z.indexOf(Le)!==-1&&z.indexOf(ke)!==-1?G:""}h.sanitizeHTML=function(G){G=G.replace(U," ");for(var Oe=document.createElement("p"),xe=Oe,Le=[],ke=G.split(Q),$e=0;$e<ke.length;$e++){var Ze=ke[$e],De=Ze.match(B),Ie=De&&De[2].toLowerCase();if(Ie in I)if(De[1])Le.length&&(xe=Le.pop());else{var re=De[4],ye=me(re,W),te=ye?{style:ye}:{};if(Ie==="a"){var se=me(re,Y);if(se){var ue=Be(se);if(ue){te.href=ue;var oe=me(re,ie);oe&&(te.target=oe)}}}var Se=document.createElement(Ie);xe.appendChild(Se),p.select(Se).attr(te),xe=Se,Le.push(Se)}else xe.appendChild(document.createTextNode(ee(Ze)))}var le="innerHTML";return Oe[le]},h.lineCount=function(G){return G.selectAll("tspan.line").size()||1},h.positionText=function(G,Oe,xe){return G.each(function(){var Le=p.select(this);function ke(De,Ie){return Ie===void 0?(Ie=Le.attr(De),Ie===null&&(Le.attr(De,0),Ie=0)):Le.attr(De,Ie),Ie}var $e=ke("x",Oe),Ze=ke("y",xe);this.nodeName==="text"&&Le.selectAll("tspan.line").attr({x:$e,y:Ze})})};function ge(pe,G,Oe){var xe=Oe.horizontalAlign,Le=Oe.verticalAlign||"top",ke=pe.node().getBoundingClientRect(),$e=G.node().getBoundingClientRect(),Ze,De,Ie;return Le==="bottom"?De=function(){return ke.bottom-Ze.height}:Le==="middle"?De=function(){return ke.top+(ke.height-Ze.height)/2}:De=function(){return ke.top},xe==="right"?Ie=function(){return ke.right-Ze.width}:xe==="center"?Ie=function(){return ke.left+(ke.width-Ze.width)/2}:Ie=function(){return ke.left},function(){Ze=this.node().getBoundingClientRect();var re=Ie()-$e.left,ye=De()-$e.top,te=Oe.gd||{};if(Oe.gd){te._fullLayout._calcInverseTransform(te);var se=v.apply3DTransform(te._fullLayout._invTransform)(re,ye);re=se[0],ye=se[1]}return this.style({top:ye+"px",left:re+"px","z-index":1e3}),this}}var ne="1px ";h.makeTextShadow=function(pe){var G=ne,Oe=ne,xe=ne;return G+Oe+xe+pe+", -"+G+"-"+Oe+xe+pe+", "+G+"-"+Oe+xe+pe+", -"+G+Oe+xe+pe},h.makeEditable=function(pe,G){var Oe=G.gd,xe=G.delegate,Le=p.dispatch("edit","input","cancel"),ke=xe||pe;if(pe.style({"pointer-events":xe?"none":"all"}),pe.size()!==1)throw new Error("boo");function $e(){De(),pe.style({opacity:0});var Ie=ke.attr("class"),re;Ie?re="."+Ie.split(" ")[0]+"-math-group":re="[class*=-math-group]",re&&p.select(pe.node().parentNode).select(re).style({opacity:0})}function Ze(Ie){var re=Ie.node(),ye=document.createRange();ye.selectNodeContents(re);var te=window.getSelection();te.removeAllRanges(),te.addRange(ye),re.focus()}function De(){var Ie=p.select(Oe),re=Ie.select(".svg-container"),ye=re.append("div"),te=pe.node().style,se=parseFloat(te.fontSize||12),ue=G.text;ue===void 0&&(ue=pe.attr("data-unformatted")),ye.classed("plugin-editable editable",!0).style({position:"absolute","font-family":te.fontFamily||"Arial","font-size":se,color:G.fill||te.fill||"black",opacity:1,"background-color":G.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(ue).call(ge(pe,re,G)).on("blur",function(){Oe._editing=!1,pe.text(this.textContent).style({opacity:1});var oe=p.select(this).attr("class"),Se;oe?Se="."+oe.split(" ")[0]+"-math-group":Se="[class*=-math-group]",Se&&p.select(pe.node().parentNode).select(Se).style({opacity:0});var le=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),Le.edit.call(pe,le)}).on("focus",function(){var oe=this;Oe._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===oe)return!1;document.activeElement===ye.node()&&ye.node().blur()})}).on("keyup",function(){p.event.which===27?(Oe._editing=!1,pe.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Le.cancel.call(pe,this.textContent)):(Le.input.call(pe,this.textContent),p.select(this).call(ge(pe,re,G)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(Ze)}return G.immediate?$e():ke.on("click",$e),p.rebind(pe,Le,"on")}},9990:function(f,h){var u={};h.throttle=function(y,b,x){var k=u[y],C=Date.now();if(!k){for(var w in u)u[w].ts<C-6e4&&delete u[w];k=u[y]={ts:0,timer:null}}p(k);function T(){x(),k.ts=Date.now(),k.onDone&&(k.onDone(),k.onDone=null)}if(C>k.ts+b){T();return}k.timer=setTimeout(function(){T(),k.timer=null},b)},h.done=function(v){var y=u[v];return!y||!y.timer?Promise.resolve():new Promise(function(b){var x=y.onDone;y.onDone=function(){x&&x(),b(),y.onDone=null}})},h.clear=function(v){if(v)p(u[v]),delete u[v];else for(var y in u)h.clear(y)};function p(v){v&&v.timer!==null&&(clearTimeout(v.timer),v.timer=null)}},8163:function(f,h,u){var p=u(2770);f.exports=function(y,b){if(y>0)return Math.log(y)/Math.LN10;var x=Math.log(Math.min(b[0],b[1]))/Math.LN10;return p(x)||(x=Math.log(Math.max(b[0],b[1]))/Math.LN10-6),x}},7815:function(f){f.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(f){f.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(f,h,u){var p=u(3972);f.exports=function(y){for(var b=p.layoutArrayContainers,x=p.layoutArrayRegexes,k=y.split("[")[0],C,w,T=0;T<x.length;T++)if(w=y.match(x[T]),w&&w.index===0){C=w[0];break}if(C||(C=b[b.indexOf(k)]),!C)return!1;var R=y.substr(C.length);return R?(w=R.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),w?{array:C,index:Number(w[1]),property:w[3]||""}:!1):{array:C,index:"",property:""}}},962:function(f,h,u){var p=u(1426).extendFlat,v=u(1965),y={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},b={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},x=y.flags.slice().concat(["fullReplot"]),k=b.flags.slice().concat("layoutReplot");f.exports={traces:y,layout:b,traceFlags:function(){return C(x)},layoutFlags:function(){return C(k)},update:function(R,M){var I=M.editType;if(I&&I!=="none")for(var V=I.split("+"),N=0;N<V.length;N++)R[V[N]]=!0},overrideAll:w};function C(R){for(var M={},I=0;I<R.length;I++)M[R[I]]=!1;return M}function w(R,M,I){var V=p({},R);for(var N in V){var F=V[N];v(F)&&(V[N]=T(F,M,I,N))}return I==="from-root"&&(V.editType=M),V}function T(R,M,I,V){if(R.valType){var N=p({},R);if(N.editType=M,Array.isArray(R.items)){N.items=new Array(R.items.length);for(var F=0;F<R.items.length;F++)N.items[F]=T(R.items[F],M)}return N}else return w(R,M,V.charAt(0)==="_"?"nested":"from-root")}},8377:function(f,h,u){var p=u(2770),v=u(7812),y=u(3972),b=u(1828),x=u(4875),k=u(1675),C=u(7901),w=k.cleanId,T=k.getFromTrace,R=y.traceIs;h.clearPromiseQueue=function(E){Array.isArray(E._promises)&&E._promises.length>0&&b.log("Clearing previous rejected promises from queue."),E._promises=[]},h.cleanLayout=function(E){var W,Y;E||(E={}),E.xaxis1&&(E.xaxis||(E.xaxis=E.xaxis1),delete E.xaxis1),E.yaxis1&&(E.yaxis||(E.yaxis=E.yaxis1),delete E.yaxis1),E.scene1&&(E.scene||(E.scene=E.scene1),delete E.scene1);var ie=(x.subplotsRegistry.cartesian||{}).attrRegex,L=(x.subplotsRegistry.polar||{}).attrRegex,me=(x.subplotsRegistry.ternary||{}).attrRegex,ae=(x.subplotsRegistry.gl3d||{}).attrRegex,q=Object.keys(E);for(W=0;W<q.length;W++){var fe=q[W];if(ie&&ie.test(fe)){var ee=E[fe];ee.anchor&&ee.anchor!=="free"&&(ee.anchor=w(ee.anchor)),ee.overlaying&&(ee.overlaying=w(ee.overlaying)),ee.type||(ee.isdate?ee.type="date":ee.islog?ee.type="log":ee.isdate===!1&&ee.islog===!1&&(ee.type="linear")),(ee.autorange==="withzero"||ee.autorange==="tozero")&&(ee.autorange=!0,ee.rangemode="tozero"),delete ee.islog,delete ee.isdate,delete ee.categories,z(ee,"domain")&&delete ee.domain,ee.autotick!==void 0&&(ee.tickmode===void 0&&(ee.tickmode=ee.autotick?"auto":"linear"),delete ee.autotick),I(ee)}else if(L&&L.test(fe)){var be=E[fe];I(be.radialaxis)}else if(me&&me.test(fe)){var Te=E[fe];I(Te.aaxis),I(Te.baxis),I(Te.caxis)}else if(ae&&ae.test(fe)){var Be=E[fe],ge=Be.cameraposition;if(Array.isArray(ge)&&ge[0].length===4){var ne=ge[0],pe=ge[1],G=ge[2],Oe=v([],ne),xe=[];for(Y=0;Y<3;++Y)xe[Y]=pe[Y]+G*Oe[2+4*Y];Be.camera={eye:{x:xe[0],y:xe[1],z:xe[2]},center:{x:pe[0],y:pe[1],z:pe[2]},up:{x:0,y:0,z:1}},delete Be.cameraposition}I(Be.xaxis),I(Be.yaxis),I(Be.zaxis)}}var Le=Array.isArray(E.annotations)?E.annotations.length:0;for(W=0;W<Le;W++){var ke=E.annotations[W];b.isPlainObject(ke)&&(ke.ref&&(ke.ref==="paper"?(ke.xref="paper",ke.yref="paper"):ke.ref==="data"&&(ke.xref="x",ke.yref="y"),delete ke.ref),M(ke,"xref"),M(ke,"yref"))}var $e=Array.isArray(E.shapes)?E.shapes.length:0;for(W=0;W<$e;W++){var Ze=E.shapes[W];b.isPlainObject(Ze)&&(M(Ze,"xref"),M(Ze,"yref"))}var De=Array.isArray(E.images)?E.images.length:0;for(W=0;W<De;W++){var Ie=E.images[W];b.isPlainObject(Ie)&&(M(Ie,"xref"),M(Ie,"yref"))}var re=E.legend;return re&&(re.x>3?(re.x=1.02,re.xanchor="left"):re.x<-2&&(re.x=-.02,re.xanchor="right"),re.y>3?(re.y=1.02,re.yanchor="bottom"):re.y<-2&&(re.y=-.02,re.yanchor="top")),I(E),E.dragmode==="rotate"&&(E.dragmode="orbit"),C.clean(E),E.template&&E.template.layout&&h.cleanLayout(E.template.layout),E};function M(E,W){var Y=E[W],ie=W.charAt(0);Y&&Y!=="paper"&&(E[W]=w(Y,ie,!0))}function I(E){E&&((typeof E.title=="string"||typeof E.title=="number")&&(E.title={text:E.title}),W("titlefont","font"),W("titleposition","position"),W("titleside","side"),W("titleoffset","offset"));function W(Y,ie){var L=E[Y],me=E.title&&E.title[ie];L&&!me&&(E.title||(E.title={}),E.title[ie]=E[Y],delete E[Y])}}h.cleanData=function(E){for(var W=0;W<E.length;W++){var Y=E[W],ie;if(Y.type==="histogramy"&&"xbins"in Y&&!("ybins"in Y)&&(Y.ybins=Y.xbins,delete Y.xbins),Y.error_y&&"opacity"in Y.error_y){var L=C.defaults,me=Y.error_y.color||(R(Y,"bar")?C.defaultLine:L[W%L.length]);Y.error_y.color=C.addOpacity(C.rgb(me),C.opacity(me)*Y.error_y.opacity),delete Y.error_y.opacity}if("bardir"in Y&&(Y.bardir==="h"&&(R(Y,"bar")||Y.type.substr(0,9)==="histogram")&&(Y.orientation="h",h.swapXYData(Y)),delete Y.bardir),Y.type==="histogramy"&&h.swapXYData(Y),(Y.type==="histogramx"||Y.type==="histogramy")&&(Y.type="histogram"),"scl"in Y&&!("colorscale"in Y)&&(Y.colorscale=Y.scl,delete Y.scl),"reversescl"in Y&&!("reversescale"in Y)&&(Y.reversescale=Y.reversescl,delete Y.reversescl),Y.xaxis&&(Y.xaxis=w(Y.xaxis,"x")),Y.yaxis&&(Y.yaxis=w(Y.yaxis,"y")),R(Y,"gl3d")&&Y.scene&&(Y.scene=x.subplotsRegistry.gl3d.cleanId(Y.scene)),!R(Y,"pie-like")&&!R(Y,"bar-like"))if(Array.isArray(Y.textposition))for(ie=0;ie<Y.textposition.length;ie++)Y.textposition[ie]=F(Y.textposition[ie]);else Y.textposition&&(Y.textposition=F(Y.textposition));var ae=y.getModule(Y);if(ae&&ae.colorbar){var q=ae.colorbar.container,fe=q?Y[q]:Y;fe&&fe.colorscale&&(fe.colorscale==="YIGnBu"&&(fe.colorscale="YlGnBu"),fe.colorscale==="YIOrRd"&&(fe.colorscale="YlOrRd"))}if(Y.type==="surface"&&b.isPlainObject(Y.contours)){var ee=["x","y","z"];for(ie=0;ie<ee.length;ie++){var be=Y.contours[ee[ie]];b.isPlainObject(be)&&(be.highlightColor&&(be.highlightcolor=be.highlightColor,delete be.highlightColor),be.highlightWidth&&(be.highlightwidth=be.highlightWidth,delete be.highlightWidth))}}if(Y.type==="candlestick"||Y.type==="ohlc"){var Te=(Y.increasing||{}).showlegend!==!1,Be=(Y.decreasing||{}).showlegend!==!1,ge=V(Y.increasing),ne=V(Y.decreasing);if(ge!==!1&&ne!==!1){var pe=N(ge,ne,Te,Be);pe&&(Y.name=pe)}else(ge||ne)&&!Y.name&&(Y.name=ge||ne)}if(Array.isArray(Y.transforms)){var G=Y.transforms;for(ie=0;ie<G.length;ie++){var Oe=G[ie];if(b.isPlainObject(Oe))switch(Oe.type){case"filter":Oe.filtersrc&&(Oe.target=Oe.filtersrc,delete Oe.filtersrc),Oe.calendar&&(Oe.valuecalendar||(Oe.valuecalendar=Oe.calendar),delete Oe.calendar);break;case"groupby":if(Oe.styles=Oe.styles||Oe.style,Oe.styles&&!Array.isArray(Oe.styles)){var xe=Oe.styles,Le=Object.keys(xe);Oe.styles=[];for(var ke=0;ke<Le.length;ke++)Oe.styles.push({target:Le[ke],value:xe[Le[ke]]})}break}}}z(Y,"line")&&delete Y.line,"marker"in Y&&(z(Y.marker,"line")&&delete Y.marker.line,z(Y,"marker")&&delete Y.marker),C.clean(Y),Y.autobinx&&(delete Y.autobinx,delete Y.xbins),Y.autobiny&&(delete Y.autobiny,delete Y.ybins),I(Y),Y.colorbar&&I(Y.colorbar),Y.marker&&Y.marker.colorbar&&I(Y.marker.colorbar),Y.line&&Y.line.colorbar&&I(Y.line.colorbar),Y.aaxis&&I(Y.aaxis),Y.baxis&&I(Y.baxis)}};function V(E){if(!b.isPlainObject(E))return!1;var W=E.name;return delete E.name,delete E.showlegend,(typeof W=="string"||typeof W=="number")&&String(W)}function N(E,W,Y,ie){if(Y&&!ie)return E;if(ie&&!Y||!E.trim())return W;if(!W.trim())return E;var L=Math.min(E.length,W.length),me;for(me=0;me<L&&E.charAt(me)===W.charAt(me);me++);var ae=E.substr(0,me);return ae.trim()}function F(E){var W="middle",Y="center";return typeof E=="string"&&(E.indexOf("top")!==-1?W="top":E.indexOf("bottom")!==-1&&(W="bottom"),E.indexOf("left")!==-1?Y="left":E.indexOf("right")!==-1&&(Y="right")),W+" "+Y}function z(E,W){return W in E&&typeof E[W]=="object"&&Object.keys(E[W]).length===0}h.swapXYData=function(E){var W;if(b.swapAttrs(E,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(E.z)&&Array.isArray(E.z[0])&&(E.transpose?delete E.transpose:E.transpose=!0),E.error_x&&E.error_y){var Y=E.error_y,ie="copy_ystyle"in Y?Y.copy_ystyle:!(Y.color||Y.thickness||Y.width);b.swapAttrs(E,["error_?.copy_ystyle"]),ie&&b.swapAttrs(E,["error_?.color","error_?.thickness","error_?.width"])}if(typeof E.hoverinfo=="string"){var L=E.hoverinfo.split("+");for(W=0;W<L.length;W++)L[W]==="x"?L[W]="y":L[W]==="y"&&(L[W]="x");E.hoverinfo=L.join("+")}},h.coerceTraceIndices=function(E,W){if(p(W))return[W];if(!Array.isArray(W)||!W.length)return E.data.map(function(L,me){return me});if(Array.isArray(W)){for(var Y=[],ie=0;ie<W.length;ie++)b.isIndex(W[ie],E.data.length)?Y.push(W[ie]):b.warn("trace index (",W[ie],") is not a number or is out of bounds");return Y}return W},h.manageArrayContainers=function(E,W,Y){var ie=E.obj,L=E.parts,me=L.length,ae=L[me-1],q=p(ae);if(q&&W===null){var fe=L.slice(0,me-1).join("."),ee=b.nestedProperty(ie,fe).get();ee.splice(ae,1)}else q&&E.get()===void 0&&E.get()===void 0&&(Y[E.astr]=null),E.set(W)};var U=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function Q(E){var W=E.search(U);if(W>0)return E.substr(0,W)}h.hasParent=function(E,W){for(var Y=Q(W);Y;){if(Y in E)return!0;Y=Q(Y)}return!1};var B=["x","y","z"];h.clearAxisTypes=function(E,W,Y){for(var ie=0;ie<W.length;ie++)for(var L=E._fullData[ie],me=0;me<3;me++){var ae=T(E,L,B[me]);if(ae&&ae.type!=="log"){var q=ae._name,fe=ae._id.substr(1);if(fe.substr(0,5)==="scene"){if(Y[fe]!==void 0)continue;q=fe+"."+q}var ee=q+".type";Y[q]===void 0&&Y[ee]===void 0&&b.nestedProperty(E.layout,ee).set(null)}}}},641:function(f,h,u){var p=u(2391);h._doPlot=p._doPlot,h.newPlot=p.newPlot,h.restyle=p.restyle,h.relayout=p.relayout,h.redraw=p.redraw,h.update=p.update,h._guiRestyle=p._guiRestyle,h._guiRelayout=p._guiRelayout,h._guiUpdate=p._guiUpdate,h._storeDirectGUIEdit=p._storeDirectGUIEdit,h.react=p.react,h.extendTraces=p.extendTraces,h.prependTraces=p.prependTraces,h.addTraces=p.addTraces,h.deleteTraces=p.deleteTraces,h.moveTraces=p.moveTraces,h.purge=p.purge,h.addFrames=p.addFrames,h.deleteFrames=p.deleteFrames,h.animate=p.animate,h.setPlotConfig=p.setPlotConfig;var v=u(4401).getGraphDiv,y=u(4031).eraseActiveShape;h.deleteActiveShape=function(x){return y(v(x))},h.toImage=u(403),h.validate=u(4936),h.downloadImage=u(7239);var b=u(6318);h.makeTemplate=b.makeTemplate,h.validateTemplate=b.validateTemplate},6611:function(f,h,u){var p=u(1965),v=u(4213),y=u(7769),b=u(5888).sorterAsc,x=u(3972);h.containerArrayMatch=u(4458);var k=h.isAddVal=function(T){return T==="add"||p(T)},C=h.isRemoveVal=function(T){return T===null||T==="remove"};h.applyContainerArrayChanges=function(T,R,M,I,V){var N=R.astr,F=x.getComponentMethod(N,"supplyLayoutDefaults"),z=x.getComponentMethod(N,"draw"),U=x.getComponentMethod(N,"drawOne"),Q=I.replot||I.recalc||F===v||z===v,B=T.layout,E=T._fullLayout;if(M[""]){Object.keys(M).length>1&&y.warn("Full array edits are incompatible with other edits",N);var W=M[""][""];if(C(W))R.set(null);else if(Array.isArray(W))R.set(W);else return y.warn("Unrecognized full array edit value",N,W),!0;return Q?!1:(F(B,E),z(T),!0)}var Y=Object.keys(M).map(Number).sort(b),ie=R.get(),L=ie||[],me=V(E,N).get(),ae=[],q=-1,fe=L.length,ee,be,Te,Be,ge,ne,pe,G;for(ee=0;ee<Y.length;ee++){if(Te=Y[ee],Be=M[Te],ge=Object.keys(Be),ne=Be[""],pe=k(ne),Te<0||Te>L.length-(pe?0:1)){y.warn("index out of range",N,Te);continue}if(ne!==void 0)ge.length>1&&y.warn("Insertion & removal are incompatible with edits to the same index.",N,Te),C(ne)?ae.push(Te):pe?(ne==="add"&&(ne={}),L.splice(Te,0,ne),me&&me.splice(Te,0,{})):y.warn("Unrecognized full object edit value",N,Te,ne),q===-1&&(q=Te);else for(be=0;be<ge.length;be++)G=N+"["+Te+"].",V(L[Te],ge[be],G).set(Be[ge[be]])}for(ee=ae.length-1;ee>=0;ee--)L.splice(ae[ee],1),me&&me.splice(ae[ee],1);if(L.length?ie||R.set(L):R.set(null),Q)return!1;if(F(B,E),U!==v){var Oe;if(q===-1)Oe=Y;else{for(fe=Math.max(L.length,fe),Oe=[],ee=0;ee<Y.length&&(Te=Y[ee],!(Te>=q));ee++)Oe.push(Te);for(ee=q;ee<fe;ee++)Oe.push(ee)}for(ee=0;ee<Oe.length;ee++)U(T,Oe[ee])}else z(T);return!0}},2391:function(f,h,u){var p=u(9898),v=u(2770),y=u(7035),b=u(1828),x=b.nestedProperty,k=u(1086),C=u(847),w=u(3972),T=u(6281),R=u(4875),M=u(9298),I=u(3608),V=u(3838),N=u(1424),F=u(7901),z=u(4305).initInteractions,U=u(7922),Q=u(7322).clearOutline,B=u(2075).dfltConfig,E=u(6611),W=u(8377),Y=u(1549),ie=u(962),L=u(5555).AX_NAME_PATTERN,me=0,ae=5;function q(He,at,dt,mt){var Tt;if(He=b.getGraphDiv(He),k.init(He),b.isPlainObject(at)){var Pt=at;at=Pt.data,dt=Pt.layout,mt=Pt.config,Tt=Pt.frames}var dn=k.triggerHandler(He,"plotly_beforeplot",[at,dt,mt]);if(dn===!1)return Promise.reject();!at&&!dt&&!b.isPlotDiv(He)&&b.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",He);function nn(){if(Tt)return h.addFrames(He,Tt)}Be(He,mt),dt||(dt={}),p.select(He).classed("js-plotly-plot",!0),N.makeTester(),Array.isArray(He._promises)||(He._promises=[]);var Wt=(He.data||[]).length===0&&Array.isArray(at);Array.isArray(at)&&(W.cleanData(at),Wt?He.data=at:He.data.push.apply(He.data,at),He.empty=!1),(!He.layout||Wt)&&(He.layout=W.cleanLayout(dt)),R.supplyDefaults(He);var Rt=He._fullLayout,fn=Rt._has("cartesian");Rt._replotting=!0,(Wt||Rt._shouldCreateBgLayer)&&(Dt(He),Rt._shouldCreateBgLayer&&delete Rt._shouldCreateBgLayer),N.initGradients(He),N.initPatterns(He),Wt&&M.saveShowSpikeInitial(He);var Hn=!He.calcdata||He.calcdata.length!==(He._fullData||[]).length;Hn&&R.doCalcdata(He);for(var nr=0;nr<He.calcdata.length;nr++)He.calcdata[nr][0].trace=He._fullData[nr];He._context.responsive?He._responsiveChartHandler||(He._responsiveChartHandler=function(){b.isHidden(He)||R.resize(He)},window.addEventListener("resize",He._responsiveChartHandler)):b.clearResponsive(He);var Er=b.extendFlat({},Rt._size),zt=0;function vr(){for(var sr=Rt._basePlotModules,Sr=0;Sr<sr.length;Sr++)sr[Sr].drawFramework&&sr[Sr].drawFramework(He);!Rt._glcanvas&&Rt._has("gl")&&(Rt._glcanvas=Rt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Fe){return Fe.key}),Rt._glcanvas.enter().append("canvas").attr("class",function(Fe){return"gl-canvas gl-canvas-"+Fe.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var ao=He._context.plotGlPixelRatio;if(Rt._glcanvas){Rt._glcanvas.attr("width",Rt.width*ao).attr("height",Rt.height*ao).style("width",Rt.width+"px").style("height",Rt.height+"px");var Oo=Rt._glcanvas.data()[0].regl;if(Oo&&(Math.floor(Rt.width*ao)!==Oo._gl.drawingBufferWidth||Math.floor(Rt.height*ao)!==Oo._gl.drawingBufferHeight)){var wr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(zt)b.error(wr);else return b.log(wr+" Clearing graph and plotting again."),R.cleanPlot([],{},He._fullData,Rt),R.supplyDefaults(He),Rt=He._fullLayout,R.doCalcdata(He),zt++,vr()}}return Rt.modebar.orientation==="h"?Rt._modebardiv.style("height",null).style("width","100%"):Rt._modebardiv.style("width",null).style("height",Rt.height+"px"),R.previousPromises(He)}function Wn(){if(R.clearAutoMarginIds(He),Y.drawMarginPushers(He),M.allowAutoMargin(He),He._fullLayout.title.text&&He._fullLayout.title.automargin&&R.allowAutoMargin(He,"title.automargin"),Rt._has("pie"))for(var sr=He._fullData,Sr=0;Sr<sr.length;Sr++){var ao=sr[Sr];ao.type==="pie"&&ao.automargin&&R.allowAutoMargin(He,"pie."+ao.uid+".automargin")}return R.doAutoMargin(He),R.previousPromises(He)}function Br(){if(R.didMarginChange(Er,Rt._size))return b.syncOrAsync([Wn,Y.layoutStyles],He)}function kr(){if(!Hn){or();return}return b.syncOrAsync([w.getComponentMethod("shapes","calcAutorange"),w.getComponentMethod("annotations","calcAutorange"),or],He)}function or(){He._transitioning||(Y.doAutoRangeAndConstraints(He),Wt&&M.saveRangeInitial(He),w.getComponentMethod("rangeslider","calcAutorange")(He))}function jr(){return M.draw(He,Wt?"":"redraw")}var _r=[R.previousPromises,nn,vr,Wn,Br];fn&&_r.push(kr),_r.push(Y.layoutStyles),fn&&_r.push(jr,function(Sr){Sr._fullLayout._insideTickLabelsAutorange&&ze(Sr,Sr._fullLayout._insideTickLabelsAutorange).then(function(){Sr._fullLayout._insideTickLabelsAutorange=void 0})}),_r.push(Y.drawData,Y.finalDraw,z,R.addLinks,R.rehover,R.redrag,R.reselect,R.doAutoMargin,Rn,R.previousPromises);function Rn(sr){sr._fullLayout._insideTickLabelsAutorange&&Wt&&M.saveRangeInitial(sr,!0)}var xr=b.syncOrAsync(_r,He);return(!xr||!xr.then)&&(xr=Promise.resolve()),xr.then(function(){return fe(He),He})}function fe(He){var at=He._fullLayout;at._redrawFromAutoMarginCount?at._redrawFromAutoMarginCount--:He.emit("plotly_afterplot")}function ee(He){return b.extendFlat(B,He)}function be(He,at){try{He._fullLayout._paper.style("background",at)}catch(dt){b.error(dt)}}function Te(He,at){var dt=F.combine(at,"white");be(He,dt)}function Be(He,at){if(!He._context){He._context=b.extendDeep({},B);var dt=p.select("base");He._context._baseUrl=dt.size()&&dt.attr("href")?window.location.href.split("#")[0]:""}var mt=He._context,Tt,Pt,dn;if(at){for(Pt=Object.keys(at),Tt=0;Tt<Pt.length;Tt++)dn=Pt[Tt],!(dn==="editable"||dn==="edits")&&dn in mt&&(dn==="setBackground"&&at[dn]==="opaque"?mt[dn]=Te:mt[dn]=at[dn]);at.plot3dPixelRatio&&!mt.plotGlPixelRatio&&(mt.plotGlPixelRatio=mt.plot3dPixelRatio);var nn=at.editable;if(nn!==void 0)for(mt.editable=nn,Pt=Object.keys(mt.edits),Tt=0;Tt<Pt.length;Tt++)mt.edits[Pt[Tt]]=nn;if(at.edits)for(Pt=Object.keys(at.edits),Tt=0;Tt<Pt.length;Tt++)dn=Pt[Tt],dn in mt.edits&&(mt.edits[dn]=at.edits[dn]);mt._exportedPlot=at._exportedPlot}mt.staticPlot&&(mt.editable=!1,mt.edits={},mt.autosizable=!1,mt.scrollZoom=!1,mt.doubleClick=!1,mt.showTips=!1,mt.showLink=!1,mt.displayModeBar=!1),mt.displayModeBar==="hover"&&!y&&(mt.displayModeBar=!0),(mt.setBackground==="transparent"||typeof mt.setBackground!="function")&&(mt.setBackground=be),mt._hasZeroHeight=mt._hasZeroHeight||He.clientHeight===0,mt._hasZeroWidth=mt._hasZeroWidth||He.clientWidth===0;var Wt=mt.scrollZoom,Rt=mt._scrollZoom={};if(Wt===!0)Rt.cartesian=1,Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1;else if(typeof Wt=="string"){var fn=Wt.split("+");for(Tt=0;Tt<fn.length;Tt++)Rt[fn[Tt]]=1}else Wt!==!1&&(Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1)}function ge(He){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He);return W.cleanData(He.data),W.cleanLayout(He.layout),He.calcdata=void 0,h._doPlot(He).then(function(){return He.emit("plotly_redraw"),He})}function ne(He,at,dt,mt){return He=b.getGraphDiv(He),R.cleanPlot([],{},He._fullData||[],He._fullLayout||{}),R.purge(He),h._doPlot(He,at,dt,mt)}function pe(He,at){var dt=at+1,mt=[],Tt,Pt;for(Tt=0;Tt<He.length;Tt++)Pt=He[Tt],Pt<0?mt.push(dt+Pt):mt.push(Pt);return mt}function G(He,at,dt){var mt,Tt;for(mt=0;mt<at.length;mt++){if(Tt=at[mt],Tt!==parseInt(Tt,10))throw new Error("all values in "+dt+" must be integers");if(Tt>=He.data.length||Tt<-He.data.length)throw new Error(dt+" must be valid indices for gd.data.");if(at.indexOf(Tt,mt+1)>-1||Tt>=0&&at.indexOf(-He.data.length+Tt)>-1||Tt<0&&at.indexOf(He.data.length+Tt)>-1)throw new Error("each index in "+dt+" must be unique.")}}function Oe(He,at,dt){if(!Array.isArray(He.data))throw new Error("gd.data must be an array.");if(typeof at>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(at)||(at=[at]),G(He,at,"currentIndices"),typeof dt<"u"&&!Array.isArray(dt)&&(dt=[dt]),typeof dt<"u"&&G(He,dt,"newIndices"),typeof dt<"u"&&at.length!==dt.length)throw new Error("current and new indices must be of equal length.")}function xe(He,at,dt){var mt,Tt;if(!Array.isArray(He.data))throw new Error("gd.data must be an array.");if(typeof at>"u")throw new Error("traces must be defined.");for(Array.isArray(at)||(at=[at]),mt=0;mt<at.length;mt++)if(Tt=at[mt],typeof Tt!="object"||Array.isArray(Tt)||Tt===null)throw new Error("all values in traces array must be non-array objects");if(typeof dt<"u"&&!Array.isArray(dt)&&(dt=[dt]),typeof dt<"u"&&dt.length!==at.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Le(He,at,dt,mt){var Tt=b.isPlainObject(mt);if(!Array.isArray(He.data))throw new Error("gd.data must be an array");if(!b.isPlainObject(at))throw new Error("update must be a key:value object");if(typeof dt>"u")throw new Error("indices must be an integer or array of integers");G(He,dt,"indices");for(var Pt in at){if(!Array.isArray(at[Pt])||at[Pt].length!==dt.length)throw new Error("attribute "+Pt+" must be an array of length equal to indices array length");if(Tt&&(!(Pt in mt)||!Array.isArray(mt[Pt])||mt[Pt].length!==at[Pt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ke(He,at,dt,mt){var Tt=b.isPlainObject(mt),Pt=[],dn,nn,Wt,Rt,fn;Array.isArray(dt)||(dt=[dt]),dt=pe(dt,He.data.length-1);for(var Hn in at)for(var nr=0;nr<dt.length;nr++){if(dn=He.data[dt[nr]],Wt=x(dn,Hn),nn=Wt.get(),Rt=at[Hn][nr],!b.isArrayOrTypedArray(Rt))throw new Error("attribute: "+Hn+" index: "+nr+" must be an array");if(!b.isArrayOrTypedArray(nn))throw new Error("cannot extend missing or non-array attribute: "+Hn);if(nn.constructor!==Rt.constructor)throw new Error("cannot extend array with an array of a different type: "+Hn);fn=Tt?mt[Hn][nr]:mt,v(fn)||(fn=-1),Pt.push({prop:Wt,target:nn,insert:Rt,maxp:Math.floor(fn)})}return Pt}function $e(He,at,dt,mt,Tt){Le(He,at,dt,mt);for(var Pt=ke(He,at,dt,mt),dn={},nn={},Wt=0;Wt<Pt.length;Wt++){var Rt=Pt[Wt].prop,fn=Pt[Wt].maxp,Hn=Tt(Pt[Wt].target,Pt[Wt].insert,fn);Rt.set(Hn[0]),Array.isArray(dn[Rt.astr])||(dn[Rt.astr]=[]),dn[Rt.astr].push(Hn[1]),Array.isArray(nn[Rt.astr])||(nn[Rt.astr]=[]),nn[Rt.astr].push(Pt[Wt].target.length)}return{update:dn,maxPoints:nn}}function Ze(He,at){var dt=new He.constructor(He.length+at.length);return dt.set(He),dt.set(at,He.length),dt}function De(He,at,dt,mt){He=b.getGraphDiv(He);function Tt(Wt,Rt,fn){var Hn,nr;if(b.isTypedArray(Wt))if(fn<0){var Er=new Wt.constructor(0),zt=Ze(Wt,Rt);fn<0?(Hn=zt,nr=Er):(Hn=Er,nr=zt)}else if(Hn=new Wt.constructor(fn),nr=new Wt.constructor(Wt.length+Rt.length-fn),fn===Rt.length)Hn.set(Rt),nr.set(Wt);else if(fn<Rt.length){var vr=Rt.length-fn;Hn.set(Rt.subarray(vr)),nr.set(Wt),nr.set(Rt.subarray(0,vr),Wt.length)}else{var Wn=fn-Rt.length,Br=Wt.length-Wn;Hn.set(Wt.subarray(Br)),Hn.set(Rt,Wn),nr.set(Wt.subarray(0,Br))}else Hn=Wt.concat(Rt),nr=fn>=0&&fn<Hn.length?Hn.splice(0,Hn.length-fn):[];return[Hn,nr]}var Pt=$e(He,at,dt,mt,Tt),dn=h.redraw(He),nn=[He,Pt.update,dt,Pt.maxPoints];return C.add(He,h.prependTraces,nn,De,arguments),dn}function Ie(He,at,dt,mt){He=b.getGraphDiv(He);function Tt(Wt,Rt,fn){var Hn,nr;if(b.isTypedArray(Wt))if(fn<=0){var Er=new Wt.constructor(0),zt=Ze(Rt,Wt);fn<0?(Hn=zt,nr=Er):(Hn=Er,nr=zt)}else if(Hn=new Wt.constructor(fn),nr=new Wt.constructor(Wt.length+Rt.length-fn),fn===Rt.length)Hn.set(Rt),nr.set(Wt);else if(fn<Rt.length){var vr=Rt.length-fn;Hn.set(Rt.subarray(0,vr)),nr.set(Rt.subarray(vr)),nr.set(Wt,vr)}else{var Wn=fn-Rt.length;Hn.set(Rt),Hn.set(Wt.subarray(0,Wn),Rt.length),nr.set(Wt.subarray(Wn))}else Hn=Rt.concat(Wt),nr=fn>=0&&fn<Hn.length?Hn.splice(fn,Hn.length):[];return[Hn,nr]}var Pt=$e(He,at,dt,mt,Tt),dn=h.redraw(He),nn=[He,Pt.update,dt,Pt.maxPoints];return C.add(He,h.extendTraces,nn,Ie,arguments),dn}function re(He,at,dt){He=b.getGraphDiv(He);var mt=[],Tt=h.deleteTraces,Pt=re,dn=[He,mt],nn=[He,at],Wt,Rt;for(xe(He,at,dt),Array.isArray(at)||(at=[at]),at=at.map(function(fn){return b.extendFlat({},fn)}),W.cleanData(at),Wt=0;Wt<at.length;Wt++)He.data.push(at[Wt]);for(Wt=0;Wt<at.length;Wt++)mt.push(-at.length+Wt);if(typeof dt>"u")return Rt=h.redraw(He),C.add(He,Tt,dn,Pt,nn),Rt;Array.isArray(dt)||(dt=[dt]);try{Oe(He,mt,dt)}catch(fn){throw He.data.splice(He.data.length-at.length,at.length),fn}return C.startSequence(He),C.add(He,Tt,dn,Pt,nn),Rt=h.moveTraces(He,mt,dt),C.stopSequence(He),Rt}function ye(He,at){He=b.getGraphDiv(He);var dt=[],mt=h.addTraces,Tt=ye,Pt=[He,dt,at],dn=[He,at],nn,Wt;if(typeof at>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(at)||(at=[at]),G(He,at,"indices"),at=pe(at,He.data.length-1),at.sort(b.sorterDes),nn=0;nn<at.length;nn+=1)Wt=He.data.splice(at[nn],1)[0],dt.push(Wt);var Rt=h.redraw(He);return C.add(He,mt,Pt,Tt,dn),Rt}function te(He,at,dt){He=b.getGraphDiv(He);var mt=[],Tt=[],Pt=te,dn=te,nn=[He,dt,at],Wt=[He,at,dt],Rt;if(Oe(He,at,dt),at=Array.isArray(at)?at:[at],typeof dt>"u")for(dt=[],Rt=0;Rt<at.length;Rt++)dt.push(-at.length+Rt);for(dt=Array.isArray(dt)?dt:[dt],at=pe(at,He.data.length-1),dt=pe(dt,He.data.length-1),Rt=0;Rt<He.data.length;Rt++)at.indexOf(Rt)===-1&&mt.push(He.data[Rt]);for(Rt=0;Rt<at.length;Rt++)Tt.push({newIndex:dt[Rt],trace:He.data[at[Rt]]});for(Tt.sort(function(Hn,nr){return Hn.newIndex-nr.newIndex}),Rt=0;Rt<Tt.length;Rt+=1)mt.splice(Tt[Rt].newIndex,0,Tt[Rt].trace);He.data=mt;var fn=h.redraw(He);return C.add(He,Pt,nn,dn,Wt),fn}function se(He,at,dt,mt){He=b.getGraphDiv(He),W.clearPromiseQueue(He);var Tt={};if(typeof at=="string")Tt[at]=dt;else if(b.isPlainObject(at))Tt=b.extendFlat({},at),mt===void 0&&(mt=dt);else return b.warn("Restyle fail.",at,dt,mt),Promise.reject();Object.keys(Tt).length&&(He.changed=!0);var Pt=W.coerceTraceIndices(He,mt),dn=Ce(He,Tt,Pt),nn=dn.flags;nn.calc&&(He.calcdata=void 0),nn.clearAxisTypes&&W.clearAxisTypes(He,Pt,{});var Wt=[];nn.fullReplot?Wt.push(h._doPlot):(Wt.push(R.previousPromises),R.supplyDefaults(He),nn.markerSize&&(R.doCalcdata(He),ct(Wt)),nn.style&&Wt.push(Y.doTraceStyle),nn.colorbars&&Wt.push(Y.doColorBars),Wt.push(fe)),Wt.push(R.rehover,R.redrag,R.reselect),C.add(He,se,[He,dn.undoit,dn.traces],se,[He,dn.redoit,dn.traces]);var Rt=b.syncOrAsync(Wt,He);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return He.emit("plotly_restyle",dn.eventData),He})}function ue(He){return He===void 0?null:He}function oe(He,at){return at?function(dt,mt,Tt){var Pt=x(dt,mt),dn=Pt.set;return Pt.set=function(nn){var Wt=(Tt||"")+mt;Se(Wt,Pt.get(),nn,He),dn(nn)},Pt}:x}function Se(He,at,dt,mt){if(Array.isArray(at)||Array.isArray(dt))for(var Tt=Array.isArray(at)?at:[],Pt=Array.isArray(dt)?dt:[],dn=Math.max(Tt.length,Pt.length),nn=0;nn<dn;nn++)Se(He+"["+nn+"]",Tt[nn],Pt[nn],mt);else if(b.isPlainObject(at)||b.isPlainObject(dt)){var Wt=b.isPlainObject(at)?at:{},Rt=b.isPlainObject(dt)?dt:{},fn=b.extendFlat({},Wt,Rt);for(var Hn in fn)Se(He+"."+Hn,Wt[Hn],Rt[Hn],mt)}else mt[He]===void 0&&(mt[He]=ue(at))}function le(He,at,dt){for(var mt in dt){var Tt=x(He,mt);Se(mt,Tt.get(),dt[mt],at)}}function Ce(He,at,dt){var mt=He._fullLayout,Tt=He._fullData,Pt=He.data,dn=mt._guiEditing,nn=oe(mt._preGUI,dn),Wt=b.extendDeepAll({},at),Rt;Qe(at);var fn=ie.traceFlags(),Hn={},nr={},Er;function zt(){return dt.map(function(){})}function vr(dr){var Hr=M.id2name(dr);Er.indexOf(Hr)===-1&&Er.push(Hr)}function Wn(dr){return"LAYOUT"+dr+".autorange"}function Br(dr){return"LAYOUT"+dr+".range"}function kr(dr){for(var Hr=dr;Hr<Tt.length;Hr++)if(Tt[Hr]._input===Pt[dr])return Tt[Hr]}function or(dr,Hr,ar){if(Array.isArray(dr)){dr.forEach(function(ko){or(ko,Hr,ar)});return}if(!(dr in at||W.hasParent(at,dr))){var ur;if(dr.substr(0,6)==="LAYOUT")ur=nn(He.layout,dr.replace("LAYOUT",""));else{var qr=dt[ar],to=mt._tracePreGUI[kr(qr)._fullInput.uid];ur=oe(to,dn)(Pt[qr],dr)}dr in nr||(nr[dr]=zt()),nr[dr][ar]===void 0&&(nr[dr][ar]=ue(ur.get())),Hr!==void 0&&ur.set(Hr)}}function jr(dr){return function(Hr){return Tt[Hr][dr]}}function _r(dr){return function(Hr,ar){return Hr===!1?Tt[dt[ar]][dr]:null}}for(var Rn in at){if(W.hasParent(at,Rn))throw new Error("cannot set "+Rn+" and a parent attribute simultaneously");var xr=at[Rn],sr,Sr,ao,Oo,wr,Fe;if((Rn==="autobinx"||Rn==="autobiny")&&(Rn=Rn.charAt(Rn.length-1)+"bins",Array.isArray(xr)?xr=xr.map(_r(Rn)):xr===!1?xr=dt.map(jr(Rn)):xr=null),Hn[Rn]=xr,Rn.substr(0,6)==="LAYOUT"){ao=nn(He.layout,Rn.replace("LAYOUT","")),nr[Rn]=[ue(ao.get())],ao.set(Array.isArray(xr)?xr[0]:xr),fn.calc=!0;continue}for(nr[Rn]=zt(),Rt=0;Rt<dt.length;Rt++){sr=Pt[dt[Rt]],Sr=kr(dt[Rt]);var Ee=mt._tracePreGUI[Sr._fullInput.uid];if(ao=oe(Ee,dn)(sr,Rn),Oo=ao.get(),wr=Array.isArray(xr)?xr[Rt%xr.length]:xr,wr!==void 0){var St=ao.parts[ao.parts.length-1],Ct=Rn.substr(0,Rn.length-St.length-1),Lt=Ct?Ct+".":"",Ft=Ct?x(Sr,Ct).get():Sr;if(Fe=T.getTraceValObject(Sr,ao.parts),Fe&&Fe.impliedEdits&&wr!==null)for(var Ht in Fe.impliedEdits)or(b.relativeAttr(Rn,Ht),Fe.impliedEdits[Ht],Rt);else if((St==="thicknessmode"||St==="lenmode")&&Oo!==wr&&(wr==="fraction"||wr==="pixels")&&Ft){var $t=mt._size,Mt=Ft.orient,en=Mt==="top"||Mt==="bottom";if(St==="thicknessmode"){var un=en?$t.h:$t.w;or(Lt+"thickness",Ft.thickness*(wr==="fraction"?1/un:un),Rt)}else{var Jt=en?$t.w:$t.h;or(Lt+"len",Ft.len*(wr==="fraction"?1/Jt:Jt),Rt)}}else if(Rn==="type"&&(wr==="pie"!=(Oo==="pie")||wr==="funnelarea"!=(Oo==="funnelarea"))){var rn="x",Tn="y";(wr==="bar"||Oo==="bar")&&sr.orientation==="h"&&(rn="y",Tn="x"),b.swapAttrs(sr,["?","?src"],"labels",rn),b.swapAttrs(sr,["d?","?0"],"label",rn),b.swapAttrs(sr,["?","?src"],"values",Tn),Oo==="pie"||Oo==="funnelarea"?(x(sr,"marker.color").set(x(sr,"marker.colors").get()),mt._pielayer.selectAll("g.trace").remove()):w.traceIs(sr,"cartesian")&&x(sr,"marker.colors").set(x(sr,"marker.color").get())}nr[Rn][Rt]=ue(Oo);var On=["swapxy","swapxyaxes","orientation","orientationaxes"];if(On.indexOf(Rn)!==-1){if(Rn==="orientation"){ao.set(wr);var pn=sr.x&&!sr.y?"h":"v";if((ao.get()||pn)===Sr.orientation)continue}else Rn==="orientationaxes"&&(sr.orientation={v:"h",h:"v"}[Sr.orientation]);W.swapXYData(sr),fn.calc=fn.clearAxisTypes=!0}else R.dataArrayContainers.indexOf(ao.parts[0])!==-1?(W.manageArrayContainers(ao,wr,nr),fn.calc=!0):(Fe?Fe.arrayOk&&!w.traceIs(Sr,"regl")&&(b.isArrayOrTypedArray(wr)||b.isArrayOrTypedArray(Oo))?fn.calc=!0:ie.update(fn,Fe):fn.calc=!0,ao.set(wr))}}if(["swapxyaxes","orientationaxes"].indexOf(Rn)!==-1&&M.swap(He,dt),Rn==="orientationaxes"){var Jn=x(He.layout,"hovermode"),Fn=Jn.get();Fn==="x"?Jn.set("y"):Fn==="y"?Jn.set("x"):Fn==="x unified"?Jn.set("y unified"):Fn==="y unified"&&Jn.set("x unified")}if(["orientation","type"].indexOf(Rn)!==-1){for(Er=[],Rt=0;Rt<dt.length;Rt++){var zr=Pt[dt[Rt]];w.traceIs(zr,"cartesian")&&(vr(zr.xaxis||"x"),vr(zr.yaxis||"y"))}or(Er.map(Wn),!0,0),or(Er.map(Br),[0,1],0)}}return(fn.calc||fn.plot)&&(fn.fullReplot=!0),{flags:fn,undoit:nr,redoit:Hn,traces:dt,eventData:b.extendDeepNoArrays([],[Wt,dt])}}function Qe(He){var at=b.counterRegex("axis",".title",!1,!1),dt=/colorbar\.title$/,mt=Object.keys(He),Tt,Pt,dn;for(Tt=0;Tt<mt.length;Tt++)Pt=mt[Tt],dn=He[Pt],(Pt==="title"||at.test(Pt)||dt.test(Pt))&&(typeof dn=="string"||typeof dn=="number")?nn(Pt,Pt.replace("title","title.text")):Pt.indexOf("titlefont")>-1&&Pt.indexOf("grouptitlefont")===-1?nn(Pt,Pt.replace("titlefont","title.font")):Pt.indexOf("titleposition")>-1?nn(Pt,Pt.replace("titleposition","title.position")):Pt.indexOf("titleside")>-1?nn(Pt,Pt.replace("titleside","title.side")):Pt.indexOf("titleoffset")>-1&&nn(Pt,Pt.replace("titleoffset","title.offset"));function nn(Wt,Rt){He[Rt]=He[Wt],delete He[Wt]}}function ze(He,at,dt){He=b.getGraphDiv(He),W.clearPromiseQueue(He);var mt={};if(typeof at=="string")mt[at]=dt;else if(b.isPlainObject(at))mt=b.extendFlat({},at);else return b.warn("Relayout fail.",at,dt),Promise.reject();Object.keys(mt).length&&(He.changed=!0);var Tt=et(He,mt),Pt=Tt.flags;Pt.calc&&(He.calcdata=void 0);var dn=[R.previousPromises];Pt.layoutReplot?dn.push(Y.layoutReplot):Object.keys(mt).length&&(Xe(He,Pt,Tt)||R.supplyDefaults(He),Pt.legend&&dn.push(Y.doLegend),Pt.layoutstyle&&dn.push(Y.layoutStyles),Pt.axrange&&ct(dn,Tt.rangesAltered),Pt.ticks&&dn.push(Y.doTicksRelayout),Pt.modebar&&dn.push(Y.doModeBar),Pt.camera&&dn.push(Y.doCamera),Pt.colorbars&&dn.push(Y.doColorBars),dn.push(fe)),dn.push(R.rehover,R.redrag,R.reselect),C.add(He,ze,[He,Tt.undoit],ze,[He,Tt.redoit]);var nn=b.syncOrAsync(dn,He);return(!nn||!nn.then)&&(nn=Promise.resolve(He)),nn.then(function(){return He.emit("plotly_relayout",Tt.eventData),He})}function Xe(He,at,dt){var mt=He._fullLayout;if(!at.axrange)return!1;for(var Tt in at)if(Tt!=="axrange"&&at[Tt])return!1;var Pt,dn,nn=function(Er,zt){return b.coerce(Pt,dn,V,Er,zt)},Wt={};for(var Rt in dt.rangesAltered){var fn=M.id2name(Rt);if(Pt=He.layout[fn],dn=mt[fn],I(Pt,dn,nn,Wt),dn._matchGroup){for(var Hn in dn._matchGroup)if(Hn!==Rt){var nr=mt[M.id2name(Hn)];nr.autorange=dn.autorange,nr.range=dn.range.slice(),nr._input.range=dn.range.slice()}}}return!0}function ct(He,at){var dt=at?function(mt){var Tt=[],Pt=!0;for(var dn in at){var nn=M.getFromId(mt,dn);if(Tt.push(dn),(nn.ticklabelposition||"").indexOf("inside")!==-1&&nn._anchorAxis&&Tt.push(nn._anchorAxis._id),nn._matchGroup)for(var Wt in nn._matchGroup)at[Wt]||Tt.push(Wt)}return M.draw(mt,Tt,{skipTitle:Pt})}:function(mt){return M.draw(mt,"redraw")};He.push(Q,Y.doAutoRangeAndConstraints,dt,Y.drawData,Y.finalDraw)}var pt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ye=/^[xyz]axis[0-9]*\.autorange$/,je=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function et(He,at){var dt=He.layout,mt=He._fullLayout,Tt=mt._guiEditing,Pt=oe(mt._preGUI,Tt),dn=Object.keys(at),nn=M.list(He),Wt=b.extendDeepAll({},at),Rt={},fn,Hn,nr;for(Qe(at),dn=Object.keys(at),Hn=0;Hn<dn.length;Hn++)if(dn[Hn].indexOf("allaxes")===0){for(nr=0;nr<nn.length;nr++){var Er=nn[nr]._id.substr(1),zt=Er.indexOf("scene")!==-1?Er+".":"",vr=dn[Hn].replace("allaxes",zt+nn[nr]._name);at[vr]||(at[vr]=at[dn[Hn]])}delete at[dn[Hn]]}var Wn=ie.layoutFlags(),Br={},kr={};function or(to,ko){if(Array.isArray(to)){to.forEach(function(So){or(So,ko)});return}if(!(to in at||W.hasParent(at,to))){var Es=Pt(dt,to);to in kr||(kr[to]=ue(Es.get())),ko!==void 0&&Es.set(ko)}}var jr={},_r;function Rn(to){var ko=M.name2id(to.split(".")[0]);return jr[ko]=1,ko}for(var xr in at){if(W.hasParent(at,xr))throw new Error("cannot set "+xr+" and a parent attribute simultaneously");for(var sr=Pt(dt,xr),Sr=at[xr],ao=sr.parts.length,Oo=ao-1;Oo>0&&typeof sr.parts[Oo]!="string";)Oo--;var wr=sr.parts[Oo],Fe=sr.parts[Oo-1]+"."+wr,Ee=sr.parts.slice(0,Oo).join("."),St=x(He.layout,Ee).get(),Ct=x(mt,Ee).get(),Lt=sr.get();if(Sr!==void 0){Br[xr]=Sr,kr[xr]=wr==="reverse"?Sr:ue(Lt);var Ft=T.getLayoutValObject(mt,sr.parts);if(Ft&&Ft.impliedEdits&&Sr!==null)for(var Ht in Ft.impliedEdits)or(b.relativeAttr(xr,Ht),Ft.impliedEdits[Ht]);if(["width","height"].indexOf(xr)!==-1)if(Sr){or("autosize",null);var $t=xr==="height"?"width":"height";or($t,mt[$t])}else mt[xr]=He._initialAutoSize[xr];else if(xr==="autosize")or("width",Sr?null:mt.width),or("height",Sr?null:mt.height);else if(Fe.match(pt))Rn(Fe),x(mt,Ee+"._inputRange").set(null);else if(Fe.match(Ye)){Rn(Fe),x(mt,Ee+"._inputRange").set(null);var Mt=x(mt,Ee).get();Mt._inputDomain&&(Mt._input.domain=Mt._inputDomain.slice())}else Fe.match(je)&&x(mt,Ee+"._inputDomain").set(null);if(wr==="type"){_r=St;var en=Ct.type==="linear"&&Sr==="log",un=Ct.type==="log"&&Sr==="linear";if(en||un){if(!_r||!_r.range)or(Ee+".autorange",!0);else if(Ct.autorange)en&&(_r.range=_r.range[1]>_r.range[0]?[1,2]:[2,1]);else{var Jt=_r.range[0],rn=_r.range[1];en?(Jt<=0&&rn<=0&&or(Ee+".autorange",!0),Jt<=0?Jt=rn/1e6:rn<=0&&(rn=Jt/1e6),or(Ee+".range[0]",Math.log(Jt)/Math.LN10),or(Ee+".range[1]",Math.log(rn)/Math.LN10)):(or(Ee+".range[0]",Math.pow(10,Jt)),or(Ee+".range[1]",Math.pow(10,rn)))}Array.isArray(mt._subplots.polar)&&mt._subplots.polar.length&&mt[sr.parts[0]]&&sr.parts[1]==="radialaxis"&&delete mt[sr.parts[0]]._subplot.viewInitial["radialaxis.range"],w.getComponentMethod("annotations","convertCoords")(He,Ct,Sr,or),w.getComponentMethod("images","convertCoords")(He,Ct,Sr,or)}else or(Ee+".autorange",!0),or(Ee+".range",null);x(mt,Ee+"._inputRange").set(null)}else if(wr.match(L)){var Tn=x(mt,xr).get(),On=(Sr||{}).type;(!On||On==="-")&&(On="linear"),w.getComponentMethod("annotations","convertCoords")(He,Tn,On,or),w.getComponentMethod("images","convertCoords")(He,Tn,On,or)}var pn=E.containerArrayMatch(xr);if(pn){fn=pn.array,Hn=pn.index;var Jn=pn.property,Fn=Ft||{editType:"calc"};Hn!==""&&Jn===""&&(E.isAddVal(Sr)?kr[xr]=null:E.isRemoveVal(Sr)?kr[xr]=(x(dt,fn).get()||[])[Hn]:b.warn("unrecognized full object value",at)),ie.update(Wn,Fn),Rt[fn]||(Rt[fn]={});var zr=Rt[fn][Hn];zr||(zr=Rt[fn][Hn]={}),zr[Jn]=Sr,delete at[xr]}else wr==="reverse"?(St.range?St.range.reverse():(or(Ee+".autorange",!0),St.range=[1,0]),Ct.autorange?Wn.calc=!0:Wn.plot=!0):(xr==="dragmode"&&(Sr===!1&&Lt!==!1||Sr!==!1&&Lt===!1)||mt._has("scatter-like")&&mt._has("regl")&&xr==="dragmode"&&(Sr==="lasso"||Sr==="select")&&!(Lt==="lasso"||Lt==="select")||mt._has("gl2d")?Wn.plot=!0:Ft?ie.update(Wn,Ft):Wn.calc=!0,sr.set(Sr))}}for(fn in Rt){var dr=E.applyContainerArrayChanges(He,Pt(dt,fn),Rt[fn],Wn,Pt);dr||(Wn.plot=!0)}for(var Hr in jr){_r=M.getFromId(He,Hr);var ar=_r&&_r._constraintGroup;if(ar){Wn.calc=!0;for(var ur in ar)jr[ur]||(M.getFromId(He,ur)._constraintShrinkable=!0)}}(yt(He)||at.height||at.width)&&(Wn.plot=!0);var qr=mt.shapes;for(Hn=0;Hn<qr.length;Hn++)if(qr[Hn].showlegend){Wn.calc=!0;break}return(Wn.plot||Wn.calc)&&(Wn.layoutReplot=!0),{flags:Wn,rangesAltered:jr,undoit:kr,redoit:Br,eventData:Wt}}function yt(He){var at=He._fullLayout,dt=at.width,mt=at.height;return He.layout.autosize&&R.plotAutoSize(He,He.layout,at),at.width!==dt||at.height!==mt}function ft(He,at,dt,mt){He=b.getGraphDiv(He),W.clearPromiseQueue(He),b.isPlainObject(at)||(at={}),b.isPlainObject(dt)||(dt={}),Object.keys(at).length&&(He.changed=!0),Object.keys(dt).length&&(He.changed=!0);var Tt=W.coerceTraceIndices(He,mt),Pt=Ce(He,b.extendFlat({},at),Tt),dn=Pt.flags,nn=et(He,b.extendFlat({},dt)),Wt=nn.flags;(dn.calc||Wt.calc)&&(He.calcdata=void 0),dn.clearAxisTypes&&W.clearAxisTypes(He,Tt,dt);var Rt=[];Wt.layoutReplot?Rt.push(Y.layoutReplot):dn.fullReplot?Rt.push(h._doPlot):(Rt.push(R.previousPromises),Xe(He,Wt,nn)||R.supplyDefaults(He),dn.style&&Rt.push(Y.doTraceStyle),(dn.colorbars||Wt.colorbars)&&Rt.push(Y.doColorBars),Wt.legend&&Rt.push(Y.doLegend),Wt.layoutstyle&&Rt.push(Y.layoutStyles),Wt.axrange&&ct(Rt,nn.rangesAltered),Wt.ticks&&Rt.push(Y.doTicksRelayout),Wt.modebar&&Rt.push(Y.doModeBar),Wt.camera&&Rt.push(Y.doCamera),Rt.push(fe)),Rt.push(R.rehover,R.redrag,R.reselect),C.add(He,ft,[He,Pt.undoit,nn.undoit,Pt.traces],ft,[He,Pt.redoit,nn.redoit,Pt.traces]);var fn=b.syncOrAsync(Rt,He);return(!fn||!fn.then)&&(fn=Promise.resolve(He)),fn.then(function(){return He.emit("plotly_update",{data:Pt.eventData,layout:nn.eventData}),He})}function tt(He){return function(dt){dt._fullLayout._guiEditing=!0;var mt=He.apply(null,arguments);return dt._fullLayout._guiEditing=!1,mt}}var wt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Xt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Gt(He,at){for(var dt=0;dt<at.length;dt++){var mt=at[dt],Tt=He.match(mt.pattern);if(Tt){var Pt=Tt[1]||"";return{head:Pt,tail:He.substr(Pt.length+1),attr:mt.attr}}}}function Nt(He,at){var dt=x(at,He).get();if(dt!==void 0)return dt;var mt=He.split(".");for(mt.pop();mt.length>1;)if(mt.pop(),dt=x(at,mt.join(".")+".uirevision").get(),dt!==void 0)return dt;return at.uirevision}function Bt(He,at){for(var dt=0;dt<at.length;dt++)if(at[dt]._fullInput.uid===He)return dt;return-1}function vn(He,at,dt){for(var mt=0;mt<at.length;mt++)if(at[mt].uid===He)return mt;return!at[dt]||at[dt].uid?-1:dt}function En(He,at){var dt=b.isPlainObject(He),mt=Array.isArray(He);return dt||mt?(dt&&b.isPlainObject(at)||mt&&Array.isArray(at))&&JSON.stringify(He)===JSON.stringify(at):He===at}function ln(He,at,dt,mt){var Tt=mt._preGUI,Pt,dn,nn,Wt,Rt,fn,Hn,nr,Er,zt,vr=[],Wn={},Br={};for(Pt in Tt){if(Rt=Gt(Pt,wt),Rt){if(Er=Rt.head,zt=Rt.tail,dn=Rt.attr||Er+".uirevision",nn=x(mt,dn).get(),Wt=nn&&Nt(dn,at),Wt&&Wt===nn){if(fn=Tt[Pt],fn===null&&(fn=void 0),Hn=x(at,Pt),nr=Hn.get(),En(nr,fn)){nr===void 0&&zt==="autorange"&&vr.push(Er),Hn.set(ue(x(mt,Pt).get()));continue}else if(zt==="autorange"||zt.substr(0,6)==="range["){var kr=Tt[Er+".range[0]"],or=Tt[Er+".range[1]"],jr=Tt[Er+".autorange"];if(jr||jr===null&&kr===null&&or===null){if(!(Er in Wn)){var _r=x(at,Er).get();Wn[Er]=_r&&(_r.autorange||_r.autorange!==!1&&(!_r.range||_r.range.length!==2))}if(Wn[Er]){Hn.set(ue(x(mt,Pt).get()));continue}}}}}else b.warn("unrecognized GUI edit: "+Pt);delete Tt[Pt],Rt&&Rt.tail.substr(0,6)==="range["&&(Br[Rt.head]=1)}for(var Rn=0;Rn<vr.length;Rn++){var xr=vr[Rn];if(Br[xr]){var sr=x(at,xr).get();sr&&delete sr.autorange}}var Sr=mt._tracePreGUI;for(var ao in Sr){var Oo=Sr[ao],wr=null,Fe;for(Pt in Oo){if(!wr){var Ee=Bt(ao,dt);if(Ee<0){delete Sr[ao];break}var St=dt[Ee];Fe=St._fullInput;var Ct=vn(ao,He,Fe.index);if(Ct<0){delete Sr[ao];break}wr=He[Ct]}if(Rt=Gt(Pt,Xt),Rt){if(Rt.attr?(nn=x(mt,Rt.attr).get(),Wt=nn&&Nt(Rt.attr,at)):(nn=Fe.uirevision,Wt=wr.uirevision,Wt===void 0&&(Wt=at.uirevision)),Wt&&Wt===nn&&(fn=Oo[Pt],fn===null&&(fn=void 0),Hn=x(wr,Pt),nr=Hn.get(),En(nr,fn))){Hn.set(ue(x(Fe,Pt).get()));continue}}else b.warn("unrecognized GUI edit: "+Pt+" in trace uid "+ao);delete Oo[Pt]}}}function Yn(He,at,dt,mt){var Tt,Pt;function dn(){return h.addFrames(He,Tt)}He=b.getGraphDiv(He),W.clearPromiseQueue(He);var nn=He._fullData,Wt=He._fullLayout;if(!b.isPlotDiv(He)||!nn||!Wt)Pt=h.newPlot(He,at,dt,mt);else{if(b.isPlainObject(at)){var Rt=at;at=Rt.data,dt=Rt.layout,mt=Rt.config,Tt=Rt.frames}var fn=!1;if(mt){var Hn=b.extendDeep({},He._context);He._context=void 0,Be(He,mt),fn=Un(Hn,He._context)}He.data=at||[],W.cleanData(He.data),He.layout=dt||{},W.cleanLayout(He.layout),ln(He.data,He.layout,nn,Wt),R.supplyDefaults(He,{skipUpdateCalc:!0});var nr=He._fullData,Er=He._fullLayout,zt=Er.datarevision===void 0,vr=Er.transition,Wn=wn(He,Wt,Er,zt,vr),Br=Wn.newDataRevision,kr=an(He,nn,nr,zt,vr,Br);if(yt(He)&&(Wn.layoutReplot=!0),kr.calc||Wn.calc){He.calcdata=void 0;for(var or=Object.getOwnPropertyNames(Er),jr=0;jr<or.length;jr++){var _r=or[jr],Rn=_r.substring(0,5);if(Rn==="xaxis"||Rn==="yaxis"){var xr=Er[_r]._emptyCategories;xr&&xr()}}}else R.supplyDefaultsUpdateCalc(He.calcdata,nr);var sr=[];if(Tt&&(He._transitionData={},R.createTransitionData(He),sr.push(dn)),Er.transition&&!fn&&(kr.anim||Wn.anim))Wn.ticks&&sr.push(Y.doTicksRelayout),R.doCalcdata(He),Y.doAutoRangeAndConstraints(He),sr.push(function(){return R.transitionFromReact(He,kr,Wn,Wt)});else if(kr.fullReplot||Wn.layoutReplot||fn)He._fullLayout._skipDefaults=!0,sr.push(h._doPlot);else{for(var Sr in Wn.arrays){var ao=Wn.arrays[Sr];if(ao.length){var Oo=w.getComponentMethod(Sr,"drawOne");if(Oo!==b.noop)for(var wr=0;wr<ao.length;wr++)Oo(He,ao[wr]);else{var Fe=w.getComponentMethod(Sr,"draw");if(Fe===b.noop)throw new Error("cannot draw components: "+Sr);Fe(He)}}}sr.push(R.previousPromises),kr.style&&sr.push(Y.doTraceStyle),(kr.colorbars||Wn.colorbars)&&sr.push(Y.doColorBars),Wn.legend&&sr.push(Y.doLegend),Wn.layoutstyle&&sr.push(Y.layoutStyles),Wn.axrange&&ct(sr),Wn.ticks&&sr.push(Y.doTicksRelayout),Wn.modebar&&sr.push(Y.doModeBar),Wn.camera&&sr.push(Y.doCamera),sr.push(fe)}sr.push(R.rehover,R.redrag,R.reselect),Pt=b.syncOrAsync(sr,He),(!Pt||!Pt.then)&&(Pt=Promise.resolve(He))}return Pt.then(function(){return He.emit("plotly_react",{data:at,layout:dt}),He})}function an(He,at,dt,mt,Tt,Pt){var dn=at.length===dt.length;if(!Tt&&!dn)return{fullReplot:!0,calc:!0};var nn=ie.traceFlags();nn.arrays={},nn.nChanges=0,nn.nChangesAnim=0;var Wt,Rt;function fn(Er){var zt=T.getTraceValObject(Rt,Er);return!Rt._module.animatable&&zt.anim&&(zt.anim=!1),zt}var Hn={getValObject:fn,flags:nn,immutable:mt,transition:Tt,newDataRevision:Pt,gd:He},nr={};for(Wt=0;Wt<at.length;Wt++)if(dt[Wt]){if(Rt=dt[Wt]._fullInput,R.hasMakesDataTransform(Rt)&&(Rt=dt[Wt]),nr[Rt.uid])continue;nr[Rt.uid]=1,Xn(at[Wt]._fullInput,Rt,[],Hn)}return(nn.calc||nn.plot)&&(nn.fullReplot=!0),Tt&&nn.nChanges&&nn.nChangesAnim&&(nn.anim=nn.nChanges===nn.nChangesAnim&&dn?"all":"some"),nn}function wn(He,at,dt,mt,Tt){var Pt=ie.layoutFlags();Pt.arrays={},Pt.rangesAltered={},Pt.nChanges=0,Pt.nChangesAnim=0;function dn(Wt){return T.getLayoutValObject(dt,Wt)}var nn={getValObject:dn,flags:Pt,immutable:mt,transition:Tt,gd:He};return Xn(at,dt,[],nn),(Pt.plot||Pt.calc)&&(Pt.layoutReplot=!0),Tt&&Pt.nChanges&&Pt.nChangesAnim&&(Pt.anim=Pt.nChanges===Pt.nChangesAnim?"all":"some"),Pt}function Xn(He,at,dt,mt){var Tt,Pt,dn,nn=mt.getValObject,Wt=mt.flags,Rt=mt.immutable,fn=mt.inArray,Hn=mt.arrayIndex;function nr(){var Ee=Tt.editType;if(fn&&Ee.indexOf("arraydraw")!==-1){b.pushUnique(Wt.arrays[fn],Hn);return}ie.update(Wt,Tt),Ee!=="none"&&Wt.nChanges++,mt.transition&&Tt.anim&&Wt.nChangesAnim++,(pt.test(dn)||Ye.test(dn))&&(Wt.rangesAltered[dt[0]]=1),je.test(dn)&&x(at,"_inputDomain").set(null),Pt==="datarevision"&&(Wt.newDataRevision=1)}function Er(Ee){return Ee.valType==="data_array"||Ee.arrayOk}for(Pt in He){if(Wt.calc&&!mt.transition)return;var zt=He[Pt],vr=at[Pt],Wn=dt.concat(Pt);if(dn=Wn.join("."),!(Pt.charAt(0)==="_"||typeof zt=="function"||zt===vr)){if((Pt==="tick0"||Pt==="dtick")&&dt[0]!=="geo"){var Br=at.tickmode;if(Br==="auto"||Br==="array"||!Br)continue}if(!(Pt==="range"&&at.autorange)&&!((Pt==="zmin"||Pt==="zmax")&&at.type==="contourcarpet")&&(Tt=nn(Wn),!!Tt&&!(Tt._compareAsJSON&&JSON.stringify(zt)===JSON.stringify(vr)))){var kr=Tt.valType,or,jr=Er(Tt),_r=Array.isArray(zt),Rn=Array.isArray(vr);if(_r&&Rn){var xr="_input_"+Pt,sr=He[xr],Sr=at[xr];if(Array.isArray(sr)&&sr===Sr)continue}if(vr===void 0)jr&&_r?Wt.calc=!0:nr();else if(Tt._isLinkedToArray){var ao=[],Oo=!1;fn||(Wt.arrays[Pt]=ao);var wr=Math.min(zt.length,vr.length),Fe=Math.max(zt.length,vr.length);if(wr!==Fe)if(Tt.editType==="arraydraw")Oo=!0;else{nr();continue}for(or=0;or<wr;or++)Xn(zt[or],vr[or],Wn.concat(or),b.extendFlat({inArray:Pt,arrayIndex:or},mt));if(Oo)for(or=wr;or<Fe;or++)ao.push(or)}else!kr&&b.isPlainObject(zt)?Xn(zt,vr,Wn,mt):jr?_r&&Rn?(Rt&&(Wt.calc=!0),(Rt||mt.newDataRevision)&&nr()):_r!==Rn?Wt.calc=!0:nr():_r&&Rn?(zt.length!==vr.length||String(zt)!==String(vr))&&nr():nr()}}}for(Pt in at)if(!(Pt in He||Pt.charAt(0)==="_"||typeof at[Pt]=="function"))if(Tt=nn(dt.concat(Pt)),Er(Tt)&&Array.isArray(at[Pt])){Wt.calc=!0;return}else nr()}function Un(He,at){var dt;for(dt in He)if(dt.charAt(0)!=="_"){var mt=He[dt],Tt=at[dt];if(mt!==Tt)if(b.isPlainObject(mt)&&b.isPlainObject(Tt)){if(Un(mt,Tt))return!0}else if(Array.isArray(mt)&&Array.isArray(Tt)){if(mt.length!==Tt.length)return!0;for(var Pt=0;Pt<mt.length;Pt++)if(mt[Pt]!==Tt[Pt])if(b.isPlainObject(mt[Pt])&&b.isPlainObject(Tt[Pt])){if(Un(mt[Pt],Tt[Pt]))return!0}else return!0}else return!0}}function Sn(He,at,dt){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var mt=He._transitionData;mt._frameQueue||(mt._frameQueue=[]),dt=R.supplyAnimationDefaults(dt);var Tt=dt.transition,Pt=dt.frame;mt._frameWaitingCnt===void 0&&(mt._frameWaitingCnt=0);function dn(Rt){return Array.isArray(Tt)?Rt>=Tt.length?Tt[0]:Tt[Rt]:Tt}function nn(Rt){return Array.isArray(Pt)?Rt>=Pt.length?Pt[0]:Pt[Rt]:Pt}function Wt(Rt,fn){var Hn=0;return function(){if(Rt&&++Hn===fn)return Rt()}}return new Promise(function(Rt,fn){function Hn(){if(mt._frameQueue.length!==0){for(;mt._frameQueue.length;){var wr=mt._frameQueue.pop();wr.onInterrupt&&wr.onInterrupt()}He.emit("plotly_animationinterrupted",[])}}function nr(wr){if(wr.length!==0){for(var Fe=0;Fe<wr.length;Fe++){var Ee;wr[Fe].type==="byname"?Ee=R.computeFrame(He,wr[Fe].name):Ee=wr[Fe].data;var St=nn(Fe),Ct=dn(Fe);Ct.duration=Math.min(Ct.duration,St.duration);var Lt={frame:Ee,name:wr[Fe].name,frameOpts:St,transitionOpts:Ct};Fe===wr.length-1&&(Lt.onComplete=Wt(Rt,2),Lt.onInterrupt=fn),mt._frameQueue.push(Lt)}dt.mode==="immediate"&&(mt._lastFrameAt=-1/0),mt._animationRaf||vr()}}function Er(){He.emit("plotly_animated"),window.cancelAnimationFrame(mt._animationRaf),mt._animationRaf=null}function zt(){mt._currentFrame&&mt._currentFrame.onComplete&&mt._currentFrame.onComplete();var wr=mt._currentFrame=mt._frameQueue.shift();if(wr){var Fe=wr.name?wr.name.toString():null;He._fullLayout._currentFrame=Fe,mt._lastFrameAt=Date.now(),mt._timeToNext=wr.frameOpts.duration,R.transition(He,wr.frame.data,wr.frame.layout,W.coerceTraceIndices(He,wr.frame.traces),wr.frameOpts,wr.transitionOpts).then(function(){wr.onComplete&&wr.onComplete()}),He.emit("plotly_animatingframe",{name:Fe,frame:wr.frame,animation:{frame:wr.frameOpts,transition:wr.transitionOpts}})}else Er()}function vr(){He.emit("plotly_animating"),mt._lastFrameAt=-1/0,mt._timeToNext=0,mt._runningTransitions=0,mt._currentFrame=null;var wr=function(){mt._animationRaf=window.requestAnimationFrame(wr),Date.now()-mt._lastFrameAt>mt._timeToNext&&zt()};wr()}var Wn=0;function Br(wr){return Array.isArray(Tt)?Wn>=Tt.length?wr.transitionOpts=Tt[Wn]:wr.transitionOpts=Tt[0]:wr.transitionOpts=Tt,Wn++,wr}var kr,or,jr=[],_r=at==null,Rn=Array.isArray(at),xr=!_r&&!Rn&&b.isPlainObject(at);if(xr)jr.push({type:"object",data:Br(b.extendFlat({},at))});else if(_r||["string","number"].indexOf(typeof at)!==-1)for(kr=0;kr<mt._frames.length;kr++)or=mt._frames[kr],or&&(_r||String(or.group)===String(at))&&jr.push({type:"byname",name:String(or.name),data:Br({name:or.name})});else if(Rn)for(kr=0;kr<at.length;kr++){var sr=at[kr];["number","string"].indexOf(typeof sr)!==-1?(sr=String(sr),jr.push({type:"byname",name:sr,data:Br({name:sr})})):b.isPlainObject(sr)&&jr.push({type:"object",data:Br(b.extendFlat({},sr))})}for(kr=0;kr<jr.length;kr++)if(or=jr[kr],or.type==="byname"&&!mt._frameHash[or.data.name]){b.warn('animate failure: frame not found: "'+or.data.name+'"'),fn();return}["next","immediate"].indexOf(dt.mode)!==-1&&Hn(),dt.direction==="reverse"&&jr.reverse();var Sr=He._fullLayout._currentFrame;if(Sr&&dt.fromcurrent){var ao=-1;for(kr=0;kr<jr.length;kr++)if(or=jr[kr],or.type==="byname"&&or.name===Sr){ao=kr;break}if(ao>0&&ao<jr.length-1){var Oo=[];for(kr=0;kr<jr.length;kr++)or=jr[kr],(jr[kr].type!=="byname"||kr>ao)&&Oo.push(or);jr=Oo}}jr.length>0?nr(jr):(He.emit("plotly_animated"),Rt())})}function it(He,at,dt){if(He=b.getGraphDiv(He),at==null)return Promise.resolve();if(!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var mt,Tt,Pt,dn,nn=He._transitionData._frames,Wt=He._transitionData._frameHash;if(!Array.isArray(at))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+at);var Rt=nn.length+at.length*2,fn=[],Hn={};for(mt=at.length-1;mt>=0;mt--)if(b.isPlainObject(at[mt])){var nr=at[mt].name,Er=(Wt[nr]||Hn[nr]||{}).name,zt=at[mt].name,vr=Wt[Er]||Hn[Er];Er&&zt&&typeof zt=="number"&&vr&&me<ae&&(me++,b.warn('addFrames: overwriting frame "'+(Wt[Er]||Hn[Er]).name+'" with a frame whose name of type "number" also equates to "'+Er+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),me===ae&&b.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Hn[nr]={name:nr},fn.push({frame:R.supplyFrameDefaults(at[mt]),index:dt&&dt[mt]!==void 0&&dt[mt]!==null?dt[mt]:Rt+mt})}fn.sort(function(xr,sr){return xr.index>sr.index?-1:xr.index<sr.index?1:0});var Wn=[],Br=[],kr=nn.length;for(mt=fn.length-1;mt>=0;mt--){if(Tt=fn[mt].frame,typeof Tt.name=="number"&&b.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Tt.name)for(;Wt[Tt.name="frame "+He._transitionData._counter++];);if(Wt[Tt.name]){for(Pt=0;Pt<nn.length&&(nn[Pt]||{}).name!==Tt.name;Pt++);Wn.push({type:"replace",index:Pt,value:Tt}),Br.unshift({type:"replace",index:Pt,value:nn[Pt]})}else dn=Math.max(0,Math.min(fn[mt].index,kr)),Wn.push({type:"insert",index:dn,value:Tt}),Br.unshift({type:"delete",index:dn}),kr++}var or=R.modifyFrames,jr=R.modifyFrames,_r=[He,Br],Rn=[He,Wn];return C&&C.add(He,or,_r,jr,Rn),R.modifyFrames(He,Wn)}function ut(He,at){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He);var dt,mt,Tt=He._transitionData._frames,Pt=[],dn=[];if(!at)for(at=[],dt=0;dt<Tt.length;dt++)at.push(dt);for(at=at.slice(),at.sort(),dt=at.length-1;dt>=0;dt--)mt=at[dt],Pt.push({type:"delete",index:mt}),dn.unshift({type:"insert",index:mt,value:Tt[mt]});var nn=R.modifyFrames,Wt=R.modifyFrames,Rt=[He,dn],fn=[He,Pt];return C&&C.add(He,nn,Rt,Wt,fn),R.modifyFrames(He,Pt)}function xt(He){He=b.getGraphDiv(He);var at=He._fullLayout||{},dt=He._fullData||[];return R.cleanPlot([],{},dt,at),R.purge(He),k.purge(He),at._container&&at._container.remove(),delete He._context,He}function gt(He){var at=He._fullLayout,dt=He.getBoundingClientRect();if(!b.equalDomRects(dt,at._lastBBox)){var mt=at._invTransform=b.inverseTransformMatrix(b.getFullTransformMatrix(He));at._invScaleX=Math.sqrt(mt[0][0]*mt[0][0]+mt[0][1]*mt[0][1]+mt[0][2]*mt[0][2]),at._invScaleY=Math.sqrt(mt[1][0]*mt[1][0]+mt[1][1]*mt[1][1]+mt[1][2]*mt[1][2]),at._lastBBox=dt}}function Dt(He){var at=p.select(He),dt=He._fullLayout;if(dt._calcInverseTransform=gt,dt._calcInverseTransform(He),dt._container=at.selectAll(".plot-container").data([0]),dt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),dt._paperdiv=dt._container.selectAll(".svg-container").data([0]),dt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),dt._glcontainer=dt._paperdiv.selectAll(".gl-container").data([{}]),dt._glcontainer.enter().append("div").classed("gl-container",!0),dt._paperdiv.selectAll(".main-svg").remove(),dt._paperdiv.select(".modebar-container").remove(),dt._paper=dt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),dt._toppaper=dt._paperdiv.append("svg").classed("main-svg",!0),dt._modebardiv=dt._paperdiv.append("div"),delete dt._modeBar,dt._hoverpaper=dt._paperdiv.append("svg").classed("main-svg",!0),!dt._uid){var mt={};p.selectAll("defs").each(function(){this.id&&(mt[this.id.split("-")[1]]=1)}),dt._uid=b.randstr(mt)}dt._paperdiv.selectAll(".main-svg").attr(U.svgAttrs),dt._defs=dt._paper.append("defs").attr("id","defs-"+dt._uid),dt._clips=dt._defs.append("g").classed("clips",!0),dt._topdefs=dt._toppaper.append("defs").attr("id","topdefs-"+dt._uid),dt._topclips=dt._topdefs.append("g").classed("clips",!0),dt._bgLayer=dt._paper.append("g").classed("bglayer",!0),dt._draggers=dt._paper.append("g").classed("draglayer",!0);var Tt=dt._paper.append("g").classed("layer-below",!0);dt._imageLowerLayer=Tt.append("g").classed("imagelayer",!0),dt._shapeLowerLayer=Tt.append("g").classed("shapelayer",!0),dt._cartesianlayer=dt._paper.append("g").classed("cartesianlayer",!0),dt._polarlayer=dt._paper.append("g").classed("polarlayer",!0),dt._smithlayer=dt._paper.append("g").classed("smithlayer",!0),dt._ternarylayer=dt._paper.append("g").classed("ternarylayer",!0),dt._geolayer=dt._paper.append("g").classed("geolayer",!0),dt._funnelarealayer=dt._paper.append("g").classed("funnelarealayer",!0),dt._pielayer=dt._paper.append("g").classed("pielayer",!0),dt._iciclelayer=dt._paper.append("g").classed("iciclelayer",!0),dt._treemaplayer=dt._paper.append("g").classed("treemaplayer",!0),dt._sunburstlayer=dt._paper.append("g").classed("sunburstlayer",!0),dt._indicatorlayer=dt._toppaper.append("g").classed("indicatorlayer",!0),dt._glimages=dt._paper.append("g").classed("glimages",!0);var Pt=dt._toppaper.append("g").classed("layer-above",!0);dt._imageUpperLayer=Pt.append("g").classed("imagelayer",!0),dt._shapeUpperLayer=Pt.append("g").classed("shapelayer",!0),dt._selectionLayer=dt._toppaper.append("g").classed("selectionlayer",!0),dt._infolayer=dt._toppaper.append("g").classed("infolayer",!0),dt._menulayer=dt._toppaper.append("g").classed("menulayer",!0),dt._zoomlayer=dt._toppaper.append("g").classed("zoomlayer",!0),dt._hoverlayer=dt._hoverpaper.append("g").classed("hoverlayer",!0),dt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),He.emit("plotly_framework")}h.animate=Sn,h.addFrames=it,h.deleteFrames=ut,h.addTraces=re,h.deleteTraces=ye,h.extendTraces=De,h.moveTraces=te,h.prependTraces=Ie,h.newPlot=ne,h._doPlot=q,h.purge=xt,h.react=Yn,h.redraw=ge,h.relayout=ze,h.restyle=se,h.setPlotConfig=ee,h.update=ft,h._guiRelayout=tt(ze),h._guiRestyle=tt(se),h._guiUpdate=tt(ft),h._storeDirectGUIEdit=le},2075:function(f){var h={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},u={};function p(v,y){for(var b in v){var x=v[b];x.valType?y[b]=x.dflt:(y[b]||(y[b]={}),p(x,y[b]))}}p(h,u),f.exports={configAttributes:h,dfltConfig:u}},6281:function(f,h,u){var p=u(3972),v=u(1828),y=u(9012),b=u(820),x=u(1391),k=u(5594),C=u(2075).configAttributes,w=u(962),T=v.extendDeepAll,R=v.isPlainObject,M=v.isArrayOrTypedArray,I=v.nestedProperty,V=v.valObjectMeta,N="_isSubplotObj",F="_isLinkedToArray",z="_arrayAttrRegexps",U="_deprecated",Q=[N,F,z,U];h.IS_SUBPLOT_OBJ=N,h.IS_LINKED_TO_ARRAY=F,h.DEPRECATED=U,h.UNDERSCORE_ATTRS=Q,h.get=function(){var Be={};p.allTypes.forEach(function(ne){Be[ne]=Y(ne)});var ge={};return Object.keys(p.transformsRegistry).forEach(function(ne){ge[ne]=L(ne)}),{defs:{valObjects:V,metaKeys:Q.concat(["description","role","editType","impliedEdits"]),editType:{traces:w.traces,layout:w.layout},impliedEdits:{}},traces:Be,layout:ie(),transforms:ge,frames:me(),animation:ae(k),config:ae(C)}},h.crawl=function(Be,ge,ne,pe){var G=ne||0;pe=pe||"",Object.keys(Be).forEach(function(Oe){var xe=Be[Oe];if(Q.indexOf(Oe)===-1){var Le=(pe?pe+".":"")+Oe;ge(xe,Oe,Be,G,Le),!h.isValObject(xe)&&R(xe)&&Oe!=="impliedEdits"&&h.crawl(xe,ge,G+1,Le)}})},h.isValObject=function(Be){return Be&&Be.valType!==void 0},h.findArrayAttributes=function(Be){var ge=[],ne=[],pe=[],G,Oe;function xe(Ie,re,ye,te){ne=ne.slice(0,te).concat([re]),pe=pe.slice(0,te).concat([Ie&&Ie._isLinkedToArray]);var se=Ie&&(Ie.valType==="data_array"||Ie.arrayOk===!0)&&!(ne[te-1]==="colorbar"&&(re==="ticktext"||re==="tickvals"));se&&Le(G,0,"")}function Le(Ie,re,ye){var te=Ie[ne[re]],se=ye+ne[re];if(re===ne.length-1)M(te)&&ge.push(Oe+se);else if(pe[re]){if(Array.isArray(te))for(var ue=0;ue<te.length;ue++)R(te[ue])&&Le(te[ue],re+1,se+"["+ue+"].")}else R(te)&&Le(te,re+1,se+".")}G=Be,Oe="",h.crawl(y,xe),Be._module&&Be._module.attributes&&h.crawl(Be._module.attributes,xe);var ke=Be.transforms;if(ke)for(var $e=0;$e<ke.length;$e++){var Ze=ke[$e],De=Ze._module;De&&(Oe="transforms["+$e+"].",G=Ze,h.crawl(De.attributes,xe))}return ge},h.getTraceValObject=function(Be,ge){var ne=ge[0],pe=1,G,Oe;if(ne==="transforms"){if(ge.length===1)return y.transforms;var xe=Be.transforms;if(!Array.isArray(xe)||!xe.length)return!1;var Le=ge[1];if(!W(Le)||Le>=xe.length)return!1;G=(p.transformsRegistry[xe[Le].type]||{}).attributes,Oe=G&&G[ge[2]],pe=3}else{var ke=Be._module;if(ke||(ke=(p.modules[Be.type||y.type.dflt]||{})._module),!ke)return!1;if(G=ke.attributes,Oe=G&&G[ne],!Oe){var $e=ke.basePlotModule;$e&&$e.attributes&&(Oe=$e.attributes[ne])}Oe||(Oe=y[ne])}return E(Oe,ge,pe)},h.getLayoutValObject=function(Be,ge){var ne=B(Be,ge[0]);return E(ne,ge,1)};function B(Be,ge){var ne,pe,G,Oe,xe=Be._basePlotModules;if(xe){var Le;for(ne=0;ne<xe.length;ne++){if(G=xe[ne],G.attrRegex&&G.attrRegex.test(ge)){if(G.layoutAttrOverrides)return G.layoutAttrOverrides;!Le&&G.layoutAttributes&&(Le=G.layoutAttributes)}var ke=G.baseLayoutAttrOverrides;if(ke&&ge in ke)return ke[ge]}if(Le)return Le}var $e=Be._modules;if($e){for(ne=0;ne<$e.length;ne++)if(Oe=$e[ne].layoutAttributes,Oe&&ge in Oe)return Oe[ge]}for(pe in p.componentsRegistry){if(G=p.componentsRegistry[pe],G.name==="colorscale"&&ge.indexOf("coloraxis")===0)return G.layoutAttributes[ge];if(!G.schema&&ge===G.name)return G.layoutAttributes}return ge in b?b[ge]:!1}function E(Be,ge,ne){if(!Be)return!1;if(Be._isLinkedToArray){if(W(ge[ne]))ne++;else if(ne<ge.length)return!1}for(;ne<ge.length;ne++){var pe=Be[ge[ne]];if(R(pe))Be=pe;else break;if(ne===ge.length-1)break;if(Be._isLinkedToArray){if(ne++,!W(ge[ne]))return!1}else if(Be.valType==="info_array"){ne++;var G=ge[ne];if(!W(G))return!1;var Oe=Be.items;if(Array.isArray(Oe)){if(G>=Oe.length)return!1;if(Be.dimensions===2){if(ne++,ge.length===ne)return Be;var xe=ge[ne];if(!W(xe))return!1;Be=Oe[G][xe]}else Be=Oe[G]}else Be=Oe}}return Be}function W(Be){return Be===Math.round(Be)&&Be>=0}function Y(Be){var ge,ne;ge=p.modules[Be]._module,ne=ge.basePlotModule;var pe={};pe.type=null;var G=T({},y),Oe=T({},ge.attributes);h.crawl(Oe,function(ke,$e,Ze,De,Ie){I(G,Ie).set(void 0),ke===void 0&&I(Oe,Ie).set(void 0)}),T(pe,G),p.traceIs(Be,"noOpacity")&&delete pe.opacity,p.traceIs(Be,"showLegend")||(delete pe.showlegend,delete pe.legendgroup),p.traceIs(Be,"noHover")&&(delete pe.hoverinfo,delete pe.hoverlabel),ge.selectPoints||delete pe.selectedpoints,T(pe,Oe),ne.attributes&&T(pe,ne.attributes),pe.type=Be;var xe={meta:ge.meta||{},categories:ge.categories||{},animatable:!!ge.animatable,type:Be,attributes:ae(pe)};if(ge.layoutAttributes){var Le={};T(Le,ge.layoutAttributes),xe.layoutAttributes=ae(Le)}return ge.animatable||h.crawl(xe,function(ke){h.isValObject(ke)&&"anim"in ke&&delete ke.anim}),xe}function ie(){var Be={},ge,ne;T(Be,b);for(ge in p.subplotsRegistry)if(ne=p.subplotsRegistry[ge],!!ne.layoutAttributes)if(Array.isArray(ne.attr))for(var pe=0;pe<ne.attr.length;pe++)be(Be,ne,ne.attr[pe]);else{var G=ne.attr==="subplot"?ne.name:ne.attr;be(Be,ne,G)}for(ge in p.componentsRegistry){ne=p.componentsRegistry[ge];var Oe=ne.schema;if(Oe&&(Oe.subplots||Oe.layout)){var xe=Oe.subplots;if(xe&&xe.xaxis&&!xe.yaxis)for(var Le in xe.xaxis)delete Be.yaxis[Le];delete Be.xaxis.shift,delete Be.xaxis.autoshift}else ne.name==="colorscale"?T(Be,ne.layoutAttributes):ne.layoutAttributes&&Te(Be,ne.layoutAttributes,ne.name)}return{layoutAttributes:ae(Be)}}function L(Be){var ge=p.transformsRegistry[Be],ne=T({},ge.attributes);return Object.keys(p.componentsRegistry).forEach(function(pe){var G=p.componentsRegistry[pe];G.schema&&G.schema.transforms&&G.schema.transforms[Be]&&Object.keys(G.schema.transforms[Be]).forEach(function(Oe){Te(ne,G.schema.transforms[Be][Oe],Oe)})}),{attributes:ae(ne)}}function me(){var Be={frames:T({},x)};return ae(Be),Be.frames}function ae(Be){return q(Be),fe(Be),ee(Be),Be}function q(Be){function ge(pe){return{valType:"string",editType:"none"}}function ne(pe,G,Oe){h.isValObject(pe)?(pe.arrayOk===!0||pe.valType==="data_array")&&(Oe[G+"src"]=ge()):R(pe)&&(pe.role="object")}h.crawl(Be,ne)}function fe(Be){function ge(ne,pe,G){if(ne){var Oe=ne[F];Oe&&(delete ne[F],G[pe]={items:{}},G[pe].items[Oe]=ne,G[pe].role="object")}}h.crawl(Be,ge)}function ee(Be){function ge(ne){for(var pe in ne)if(R(ne[pe]))ge(ne[pe]);else if(Array.isArray(ne[pe]))for(var G=0;G<ne[pe].length;G++)ge(ne[pe][G]);else ne[pe]instanceof RegExp&&(ne[pe]=ne[pe].toString())}ge(Be)}function be(Be,ge,ne){var pe=I(Be,ne),G=T({},ge.layoutAttributes);G[N]=!0,pe.set(G)}function Te(Be,ge,ne){var pe=I(Be,ne);pe.set(T(pe.get()||{},ge))}},4467:function(f,h,u){var p=u(1828),v=u(9012),y="templateitemname",b={name:{valType:"string",editType:"none"}};b[y]={valType:"string",editType:"calc"},h.templatedArray=function(C,w){return w._isLinkedToArray=C,w.name=b.name,w[y]=b[y],w},h.traceTemplater=function(C){var w={},T,R;for(T in C)R=C[T],Array.isArray(R)&&R.length&&(w[T]=0);function M(I){T=p.coerce(I,{},v,"type");var V={type:T,_template:null};if(T in w){R=C[T];var N=w[T]%R.length;w[T]++,V._template=R[N]}return V}return{newTrace:M}},h.newContainer=function(C,w,T){var R=C._template,M=R&&(R[w]||T&&R[T]);p.isPlainObject(M)||(M=null);var I=C[w]={_template:M};return I},h.arrayTemplater=function(C,w,T){var R=C._template,M=R&&R[k(w)],I=R&&R[w];(!Array.isArray(I)||!I.length)&&(I=[]);var V={};function N(z){var U={name:z.name,_input:z},Q=U[y]=z[y];if(!x(Q))return U._template=M,U;for(var B=0;B<I.length;B++){var E=I[B];if(E.name===Q)return V[Q]=1,U._template=E,U}return U[T]=z[T]||!1,U._template=!1,U}function F(){for(var z=[],U=0;U<I.length;U++){var Q=I[U],B=Q.name;if(x(B)&&!V[B]){var E={_template:Q,name:B,_input:{_templateitemname:B}};E[y]=Q[y],z.push(E),V[B]=1}}return z}return{newItem:N,defaultItems:F}};function x(C){return C&&typeof C=="string"}function k(C){var w=C.length-1;return C.charAt(w)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+C),C.substr(0,C.length-1)+"defaults"}h.arrayDefaultKey=k,h.arrayEditor=function(C,w,T){var R=(p.nestedProperty(C,w).get()||[]).length,M=T._index,I=M>=R&&(T._input||{})._templateitemname;I&&(M=R);var V=w+"["+M+"]",N;function F(){N={},I&&(N[V]={},N[V][y]=I)}F();function z(E,W){N[E]=W}function U(E,W){I?p.nestedProperty(N[V],E).set(W):N[V+"."+E]=W}function Q(){var E=N;return F(),E}function B(E,W){E&&U(E,W);var Y=Q();for(var ie in Y)p.nestedProperty(C,ie).set(Y[ie])}return{modifyBase:z,modifyItem:U,getUpdateObj:Q,applyUpdate:B}}},1549:function(f,h,u){var p=u(9898),v=u(3972),y=u(4875),b=u(1828),x=u(3893),k=u(3306),C=u(7901),w=u(1424),T=u(2998),R=u(4168),M=u(9298),I=u(8783),V=u(9082),N=V.enforce,F=V.clean,z=u(1739).doAutoRange,U="start",Q="middle",B="end";h.layoutStyles=function(ne){return b.syncOrAsync([y.doAutoMargin,W],ne)};function E(ne,pe,G){for(var Oe=0;Oe<G.length;Oe++){var xe=G[Oe][0],Le=G[Oe][1];if(!(xe[0]>=ne[1]||xe[1]<=ne[0])&&Le[0]<pe[1]&&Le[1]>pe[0])return!0}return!1}function W(ne){var pe=ne._fullLayout,G=pe._size,Oe=G.p,xe=M.list(ne,"",!0),Le,ke,$e,Ze,De,Ie;if(pe._paperdiv.style({width:ne._context.responsive&&pe.autosize&&!ne._context._hasZeroWidth&&!ne.layout.width?"100%":pe.width+"px",height:ne._context.responsive&&pe.autosize&&!ne._context._hasZeroHeight&&!ne.layout.height?"100%":pe.height+"px"}).selectAll(".main-svg").call(w.setSize,pe.width,pe.height),ne._context.setBackground(ne,pe.paper_bgcolor),h.drawMainTitle(ne),R.manage(ne),!pe._has("cartesian"))return y.previousPromises(ne);function re(xt,gt,Dt){var He=xt._lw/2;if(xt._id.charAt(0)==="x"){if(gt){if(Dt==="top")return gt._offset-Oe-He}else return G.t+G.h*(1-(xt.position||0))+He%1;return gt._offset+gt._length+Oe+He}if(gt){if(Dt==="right")return gt._offset+gt._length+Oe+He}else return G.l+G.w*(xt.position||0)+He%1;return gt._offset-Oe-He}for(Le=0;Le<xe.length;Le++){Ze=xe[Le];var ye=Ze._anchorAxis;Ze._linepositions={},Ze._lw=w.crispRound(ne,Ze.linewidth,1),Ze._mainLinePosition=re(Ze,ye,Ze.side),Ze._mainMirrorPosition=Ze.mirror&&ye?re(Ze,ye,I.OPPOSITE_SIDE[Ze.side]):null}var te=[],se=[],ue=[],oe=C.opacity(pe.paper_bgcolor)===1&&C.opacity(pe.plot_bgcolor)===1&&pe.paper_bgcolor===pe.plot_bgcolor;for(ke in pe._plots)if($e=pe._plots[ke],$e.mainplot)$e.bg&&$e.bg.remove(),$e.bg=void 0;else{var Se=$e.xaxis.domain,le=$e.yaxis.domain,Ce=$e.plotgroup;if(E(Se,le,ue)){var Qe=Ce.node(),ze=$e.bg=b.ensureSingle(Ce,"rect","bg");Qe.insertBefore(ze.node(),Qe.childNodes[0]),se.push(ke)}else Ce.select("rect.bg").remove(),ue.push([Se,le]),oe||(te.push(ke),se.push(ke))}var Xe=pe._bgLayer.selectAll(".bg").data(te);for(Xe.enter().append("rect").classed("bg",!0),Xe.exit().remove(),Xe.each(function(xt){pe._plots[xt].bg=p.select(this)}),Le=0;Le<se.length;Le++)$e=pe._plots[se[Le]],De=$e.xaxis,Ie=$e.yaxis,$e.bg&&De._offset!==void 0&&Ie._offset!==void 0&&$e.bg.call(w.setRect,De._offset-Oe,Ie._offset-Oe,De._length+2*Oe,Ie._length+2*Oe).call(C.fill,pe.plot_bgcolor).style("stroke-width",0);if(!pe._hasOnlyLargeSploms)for(ke in pe._plots){$e=pe._plots[ke],De=$e.xaxis,Ie=$e.yaxis;var ct=$e.clipId="clip"+pe._uid+ke+"plot",pt=b.ensureSingleById(pe._clips,"clipPath",ct,function(xt){xt.classed("plotclip",!0).append("rect")});$e.clipRect=pt.select("rect").attr({width:De._length,height:Ie._length}),w.setTranslate($e.plot,De._offset,Ie._offset);var Ye,je;$e._hasClipOnAxisFalse?(Ye=null,je=ct):(Ye=ct,je=null),w.setClipUrl($e.plot,Ye,ne),$e.layerClipId=je}var et,yt,ft,tt,wt,Xt,Gt,Nt,Bt,vn,En,ln,Yn;function an(xt){return"M"+et+","+xt+"H"+yt}function wn(xt){return"M"+De._offset+","+xt+"h"+De._length}function Xn(xt){return"M"+xt+","+Nt+"V"+Gt}function Un(xt){return Ie._shift!==void 0&&(xt+=Ie._shift),"M"+xt+","+Ie._offset+"v"+Ie._length}function Sn(xt,gt,Dt){if(!xt.showline||ke!==xt._mainSubplot)return"";if(!xt._anchorAxis)return Dt(xt._mainLinePosition);var He=gt(xt._mainLinePosition);return xt.mirror&&(He+=gt(xt._mainMirrorPosition)),He}for(ke in pe._plots){$e=pe._plots[ke],De=$e.xaxis,Ie=$e.yaxis;var it="M0,0";Y(De,ke)&&(wt=L(De,"left",Ie,xe),et=De._offset-(wt?Oe+wt:0),Xt=L(De,"right",Ie,xe),yt=De._offset+De._length+(Xt?Oe+Xt:0),ft=re(De,Ie,"bottom"),tt=re(De,Ie,"top"),Yn=!De._anchorAxis||ke!==De._mainSubplot,Yn&&(De.mirror==="allticks"||De.mirror==="all")&&(De._linepositions[ke]=[ft,tt]),it=Sn(De,an,wn),Yn&&De.showline&&(De.mirror==="all"||De.mirror==="allticks")&&(it+=an(ft)+an(tt)),$e.xlines.style("stroke-width",De._lw+"px").call(C.stroke,De.showline?De.linecolor:"rgba(0,0,0,0)")),$e.xlines.attr("d",it);var ut="M0,0";Y(Ie,ke)&&(En=L(Ie,"bottom",De,xe),Gt=Ie._offset+Ie._length+(En?Oe:0),ln=L(Ie,"top",De,xe),Nt=Ie._offset-(ln?Oe:0),Bt=re(Ie,De,"left"),vn=re(Ie,De,"right"),Yn=!Ie._anchorAxis||ke!==Ie._mainSubplot,Yn&&(Ie.mirror==="allticks"||Ie.mirror==="all")&&(Ie._linepositions[ke]=[Bt,vn]),ut=Sn(Ie,Xn,Un),Yn&&Ie.showline&&(Ie.mirror==="all"||Ie.mirror==="allticks")&&(ut+=Xn(Bt)+Xn(vn)),$e.ylines.style("stroke-width",Ie._lw+"px").call(C.stroke,Ie.showline?Ie.linecolor:"rgba(0,0,0,0)")),$e.ylines.attr("d",ut)}return M.makeClipPaths(ne),y.previousPromises(ne)}function Y(ne,pe){return(ne.ticks||ne.showline)&&(pe===ne._mainSubplot||ne.mirror==="all"||ne.mirror==="allticks")}function ie(ne,pe,G){if(!G.showline||!G._lw)return!1;if(G.mirror==="all"||G.mirror==="allticks")return!0;var Oe=G._anchorAxis;if(!Oe)return!1;var xe=I.FROM_BL[pe];return G.side===pe?Oe.domain[xe]===ne.domain[xe]:G.mirror&&Oe.domain[1-xe]===ne.domain[1-xe]}function L(ne,pe,G,Oe){if(ie(ne,pe,G))return G._lw;for(var xe=0;xe<Oe.length;xe++){var Le=Oe[xe];if(Le._mainAxis===G._mainAxis&&ie(ne,pe,Le))return Le._lw}return 0}h.drawMainTitle=function(ne){var pe=ne._fullLayout.title,G=ne._fullLayout,Oe=Be(G),xe=ge(G),Le=be(G,xe),ke=ee(G,Oe);if(T.draw(ne,"gtitle",{propContainer:G,propName:"title.text",placeholder:G._dfltTitle.plot,attributes:{x:ke,y:Le,"text-anchor":Oe,dy:xe}}),pe.text&&pe.automargin){var $e=p.selectAll(".gtitle"),Ze=w.bBox($e.node()).height,De=q(ne,pe,Ze);De>0&&(fe(ne,Le,De,Ze),$e.attr({x:ke,y:Le,"text-anchor":Oe,dy:Te(pe.yanchor)}).call(x.positionText,ke,Le))}};function me(ne,pe,G,Oe,xe){var Le=pe.yref==="paper"?ne._fullLayout._size.h:ne._fullLayout.height,ke=b.isTopAnchor(pe)?Oe:Oe-xe,$e=G==="b"?Le-ke:ke;return b.isTopAnchor(pe)&&G==="t"||b.isBottomAnchor(pe)&&G==="b"?!1:$e<xe}function ae(ne,pe,G,Oe,xe){var Le=0;return G==="middle"&&(Le+=xe/2),ne==="t"?(G==="top"&&(Le+=xe),Le+=Oe-pe*Oe):(G==="bottom"&&(Le+=xe),Le+=pe*Oe),Le}function q(ne,pe,G){var Oe=pe.y,xe=pe.yanchor,Le=Oe>.5?"t":"b",ke=ne._fullLayout.margin[Le],$e=0;return pe.yref==="paper"?$e=G+pe.pad.t+pe.pad.b:pe.yref==="container"&&($e=ae(Le,Oe,xe,ne._fullLayout.height,G)+pe.pad.t+pe.pad.b),$e>ke?$e:0}function fe(ne,pe,G,Oe){var xe="title.automargin",Le=ne._fullLayout.title,ke=Le.y>.5?"t":"b",$e={x:Le.x,y:Le.y,t:0,b:0},Ze={};Le.yref==="paper"&&me(ne,Le,ke,pe,Oe)?$e[ke]=G:Le.yref==="container"&&(Ze[ke]=G,ne._fullLayout._reservedMargin[xe]=Ze),y.allowAutoMargin(ne,xe),y.autoMargin(ne,xe,$e)}function ee(ne,pe){var G=ne.title,Oe=ne._size,xe=0;switch(pe===U?xe=G.pad.l:pe===B&&(xe=-G.pad.r),G.xref){case"paper":return Oe.l+Oe.w*G.x+xe;case"container":default:return ne.width*G.x+xe}}function be(ne,pe){var G=ne.title,Oe=ne._size,xe=0;if(pe==="0em"||!pe?xe=-G.pad.b:pe===I.CAP_SHIFT+"em"&&(xe=G.pad.t),G.y==="auto")return Oe.t/2;switch(G.yref){case"paper":return Oe.t+Oe.h-Oe.h*G.y+xe;case"container":default:return ne.height-ne.height*G.y+xe}}function Te(ne){return ne==="top"?I.CAP_SHIFT+.3+"em":ne==="bottom"?"-0.3em":I.MID_SHIFT+"em"}function Be(ne){var pe=ne.title,G=Q;return b.isRightAnchor(pe)?G=B:b.isLeftAnchor(pe)&&(G=U),G}function ge(ne){var pe=ne.title,G="0em";return b.isTopAnchor(pe)?G=I.CAP_SHIFT+"em":b.isMiddleAnchor(pe)&&(G=I.MID_SHIFT+"em"),G}h.doTraceStyle=function(ne){var pe=ne.calcdata,G=[],Oe;for(Oe=0;Oe<pe.length;Oe++){var xe=pe[Oe],Le=xe[0]||{},ke=Le.trace||{},$e=ke._module||{},Ze=$e.arraysToCalcdata;Ze&&Ze(xe,ke);var De=$e.editStyle;De&&G.push({fn:De,cd0:Le})}if(G.length){for(Oe=0;Oe<G.length;Oe++){var Ie=G[Oe];Ie.fn(ne,Ie.cd0)}k(ne),h.redrawReglTraces(ne)}return y.style(ne),v.getComponentMethod("legend","draw")(ne),y.previousPromises(ne)},h.doColorBars=function(ne){return v.getComponentMethod("colorbar","draw")(ne),y.previousPromises(ne)},h.layoutReplot=function(ne){var pe=ne.layout;return ne.layout=void 0,v.call("_doPlot",ne,"",pe)},h.doLegend=function(ne){return v.getComponentMethod("legend","draw")(ne),y.previousPromises(ne)},h.doTicksRelayout=function(ne){return M.draw(ne,"redraw"),ne._fullLayout._hasOnlyLargeSploms&&(v.subplotsRegistry.splom.updateGrid(ne),k(ne),h.redrawReglTraces(ne)),h.drawMainTitle(ne),y.previousPromises(ne)},h.doModeBar=function(ne){var pe=ne._fullLayout;R.manage(ne);for(var G=0;G<pe._basePlotModules.length;G++){var Oe=pe._basePlotModules[G].updateFx;Oe&&Oe(ne)}return y.previousPromises(ne)},h.doCamera=function(ne){for(var pe=ne._fullLayout,G=pe._subplots.gl3d,Oe=0;Oe<G.length;Oe++){var xe=pe[G[Oe]],Le=xe._scene;Le.setViewport(xe)}},h.drawData=function(ne){var pe=ne._fullLayout;k(ne);for(var G=pe._basePlotModules,Oe=0;Oe<G.length;Oe++)G[Oe].plot(ne);return h.redrawReglTraces(ne),y.style(ne),v.getComponentMethod("selections","draw")(ne),v.getComponentMethod("shapes","draw")(ne),v.getComponentMethod("annotations","draw")(ne),v.getComponentMethod("images","draw")(ne),pe._replotting=!1,y.previousPromises(ne)},h.redrawReglTraces=function(ne){var pe=ne._fullLayout;if(pe._has("regl")){var G=ne._fullData,Oe=[],xe=[],Le,ke;for(pe._hasOnlyLargeSploms&&pe._splomGrid.draw(),Le=0;Le<G.length;Le++){var $e=G[Le];$e.visible===!0&&$e._length!==0&&($e.type==="splom"?pe._splomScenes[$e.uid].draw():$e.type==="scattergl"?b.pushUnique(Oe,$e.xaxis+$e.yaxis):$e.type==="scatterpolargl"&&b.pushUnique(xe,$e.subplot))}for(Le=0;Le<Oe.length;Le++)ke=pe._plots[Oe[Le]],ke._scene&&ke._scene.draw();for(Le=0;Le<xe.length;Le++)ke=pe[xe[Le]]._subplot,ke._scene&&ke._scene.draw()}},h.doAutoRangeAndConstraints=function(ne){for(var pe=M.list(ne,"",!0),G,Oe={},xe=0;xe<pe.length;xe++)if(G=pe[xe],!Oe[G._id]){Oe[G._id]=1,F(ne,G),z(ne,G);var Le=G._matchGroup;if(Le)for(var ke in Le){var $e=M.getFromId(ne,ke);z(ne,$e,G.range),Oe[ke]=1}}N(ne)},h.finalDraw=function(ne){v.getComponentMethod("rangeslider","draw")(ne),v.getComponentMethod("rangeselector","draw")(ne)},h.drawMarginPushers=function(ne){v.getComponentMethod("legend","draw")(ne),v.getComponentMethod("rangeselector","draw")(ne),v.getComponentMethod("sliders","draw")(ne),v.getComponentMethod("updatemenus","draw")(ne),v.getComponentMethod("colorbar","draw")(ne)}},6318:function(f,h,u){var p=u(1828),v=p.isPlainObject,y=u(6281),b=u(4875),x=u(9012),k=u(4467),C=u(2075).dfltConfig;h.makeTemplate=function(z){z=p.isPlainObject(z)?z:p.getGraphDiv(z),z=p.extendDeep({_context:C},{data:z.data,layout:z.layout}),b.supplyDefaults(z);var U=z.data||[],Q=z.layout||{};Q._basePlotModules=z._fullLayout._basePlotModules,Q._modules=z._fullLayout._modules;var B={data:{},layout:{}};U.forEach(function(ee){var be={};R(ee,be,I.bind(null,ee));var Te=p.coerce(ee,{},x,"type"),Be=B.data[Te];Be||(Be=B.data[Te]=[]),Be.push(be)}),R(Q,B.layout,M.bind(null,Q)),delete B.layout.template;var E=Q.template;if(v(E)){var W=E.layout,Y,ie,L,me,ae,q;v(W)&&w(W,B.layout);var fe=E.data;if(v(fe)){for(ie in B.data)if(L=fe[ie],Array.isArray(L)){for(ae=B.data[ie],q=ae.length,me=L.length,Y=0;Y<q;Y++)w(L[Y%me],ae[Y]);for(Y=q;Y<me;Y++)ae.push(p.extendDeep({},L[Y]))}for(ie in fe)ie in B.data||(B.data[ie]=p.extendDeep([],fe[ie]))}}return B};function w(z,U){z=p.extendDeep({},z);var Q=Object.keys(z).sort(),B,E;function W(ae,q,fe){if(v(q)&&v(ae))w(ae,q);else if(Array.isArray(q)&&Array.isArray(ae)){var ee=k.arrayTemplater({_template:z},fe);for(E=0;E<q.length;E++){var be=q[E],Te=ee.newItem(be)._template;Te&&w(Te,be)}var Be=ee.defaultItems();for(E=0;E<Be.length;E++)q.push(Be[E]._template);for(E=0;E<q.length;E++)delete q[E].templateitemname}}for(B=0;B<Q.length;B++){var Y=Q[B],ie=z[Y];if(Y in U?W(ie,U[Y],Y):U[Y]=ie,T(Y)===Y)for(var L in U){var me=T(L);L!==me&&me===Y&&!(L in z)&&W(ie,U[L],Y)}}}function T(z){return z.replace(/[0-9]+$/,"")}function R(z,U,Q,B,E){var W=E&&Q(E);for(var Y in z){var ie=z[Y],L=V(z,Y,B),me=V(z,Y,E),ae=Q(me);if(!ae){var q=T(Y);q!==Y&&(me=V(z,q,E),ae=Q(me))}if(!(W&&W===ae)&&!(!ae||ae._noTemplating||ae.valType==="data_array"||ae.arrayOk&&Array.isArray(ie)))if(!ae.valType&&v(ie))R(ie,U,Q,L,me);else if(ae._isLinkedToArray&&Array.isArray(ie))for(var fe=!1,ee=0,be={},Te=0;Te<ie.length;Te++){var Be=ie[Te];if(v(Be)){var ge=Be.name;if(ge)be[ge]||(R(Be,U,Q,V(ie,ee,L),V(ie,ee,me)),ee++,be[ge]=1);else if(!fe){var ne=k.arrayDefaultKey(Y),pe=V(z,ne,B),G=V(ie,ee,L);R(Be,U,Q,G,V(ie,ee,me));var Oe=p.nestedProperty(U,G),xe=p.nestedProperty(U,pe);xe.set(Oe.get()),Oe.set(null),fe=!0}}}else{var Le=p.nestedProperty(U,L);Le.set(ie)}}}function M(z,U){return y.getLayoutValObject(z,p.nestedProperty({},U).parts)}function I(z,U){return y.getTraceValObject(z,p.nestedProperty({},U).parts)}function V(z,U,Q){var B;return Q?Array.isArray(z)?B=Q+"["+U+"]":B=Q+"."+U:B=U,B}h.validateTemplate=function(z,U){var Q=p.extendDeep({},{_context:C,data:z.data,layout:z.layout}),B=Q.layout||{};v(U)||(U=B.template||{});var E=U.layout,W=U.data,Y=[];Q.layout=B,Q.layout.template=U,b.supplyDefaults(Q);var ie=Q._fullLayout,L=Q._fullData,me={};function ae(pe,G){for(var Oe in pe)if(Oe.charAt(0)!=="_"&&v(pe[Oe])){var xe=T(Oe),Le=[],ke;for(ke=0;ke<G.length;ke++)Le.push(V(pe,Oe,G[ke])),xe!==Oe&&Le.push(V(pe,xe,G[ke]));for(ke=0;ke<Le.length;ke++)me[Le[ke]]=1;ae(pe[Oe],Le)}}function q(pe,G){for(var Oe in pe)if(Oe.indexOf("defaults")===-1&&v(pe[Oe])){var xe=V(pe,Oe,G);me[xe]?q(pe[Oe],xe):Y.push({code:"unused",path:xe})}}if(v(E)?(ae(ie,["layout"]),q(E,"layout")):Y.push({code:"layout"}),!v(W))Y.push({code:"data"});else{for(var fe={},ee,be=0;be<L.length;be++){var Te=L[be];ee=Te.type,fe[ee]=(fe[ee]||0)+1,Te._fullInput._template||Y.push({code:"missing",index:Te._fullInput.index,traceType:ee})}for(ee in W){var Be=W[ee].length,ge=fe[ee]||0;Be>ge?Y.push({code:"unused",traceType:ee,templateCount:Be,dataCount:ge}):ge>Be&&Y.push({code:"reused",traceType:ee,templateCount:Be,dataCount:ge})}}function ne(pe,G){for(var Oe in pe)if(Oe.charAt(0)!=="_"){var xe=pe[Oe],Le=V(pe,Oe,G);v(xe)?(Array.isArray(pe)&&xe._template===!1&&xe.templateitemname&&Y.push({code:"missing",path:Le,templateitemname:xe.templateitemname}),ne(xe,Le)):Array.isArray(xe)&&N(xe)&&ne(xe,Le)}}if(ne({data:L,layout:ie},""),Y.length)return Y.map(F)};function N(z){for(var U=0;U<z.length;U++)if(v(z[U]))return!0}function F(z){var U;switch(z.code){case"data":U="The template has no key data.";break;case"layout":U="The template has no key layout.";break;case"missing":z.path?U="There are no templates for item "+z.path+" with name "+z.templateitemname:U="There are no templates for trace "+z.index+", of type "+z.traceType+".";break;case"unused":z.path?U="The template item at "+z.path+" was not used in constructing the plot.":z.dataCount?U="Some of the templates of type "+z.traceType+" were not used. The template has "+z.templateCount+" traces, the data only has "+z.dataCount+" of this type.":U="The template has "+z.templateCount+" traces of type "+z.traceType+" but there are none in the data.";break;case"reused":U="Some of the templates of type "+z.traceType+" were used more than once. The template has "+z.templateCount+" traces, the data has "+z.dataCount+" of this type.";break}return z.msg=U,z}},403:function(f,h,u){var p=u(2770),v=u(2391),y=u(4875),b=u(1828),x=u(5095),k=u(5900),C=u(942),w=u(1506).version,T={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function R(M,I){I=I||{};var V,N,F,z;b.isPlainObject(M)?(V=M.data||[],N=M.layout||{},F=M.config||{},z={}):(M=b.getGraphDiv(M),V=b.extendDeep([],M.data),N=b.extendDeep({},M.layout),F=M._context,z=M._fullLayout||{});function U(ge){return!(ge in I)||b.validate(I[ge],T[ge])}if(!U("width")&&I.width!==null||!U("height")&&I.height!==null)throw new Error("Height and width should be pixel values.");if(!U("format"))throw new Error("Export format is not "+b.join2(T.format.values,", "," or ")+".");var Q={};function B(ge,ne){return b.coerce(I,Q,T,ge,ne)}var E=B("format"),W=B("width"),Y=B("height"),ie=B("scale"),L=B("setBackground"),me=B("imageDataOnly"),ae=document.createElement("div");ae.style.position="absolute",ae.style.left="-5000px",document.body.appendChild(ae);var q=b.extendFlat({},N);W?q.width=W:I.width===null&&p(z.width)&&(q.width=z.width),Y?q.height=Y:I.height===null&&p(z.height)&&(q.height=z.height);var fe=b.extendFlat({},F,{_exportedPlot:!0,staticPlot:!0,setBackground:L}),ee=x.getRedrawFunc(ae);function be(){return new Promise(function(ge){setTimeout(ge,x.getDelay(ae._fullLayout))})}function Te(){return new Promise(function(ge,ne){var pe=k(ae,E,ie),G=ae._fullLayout.width,Oe=ae._fullLayout.height;function xe(){v.purge(ae),document.body.removeChild(ae)}if(E==="full-json"){var Le=y.graphJson(ae,!1,"keepdata","object",!0,!0);return Le.version=w,Le=JSON.stringify(Le),xe(),ge(me?Le:x.encodeJSON(Le))}if(xe(),E==="svg")return ge(me?pe:x.encodeSVG(pe));var ke=document.createElement("canvas");ke.id=b.randstr(),C({format:E,width:G,height:Oe,scale:ie,canvas:ke,svg:pe,promise:!0}).then(ge).catch(ne)})}function Be(ge){return me?ge.replace(x.IMAGE_URL_PREFIX,""):ge}return new Promise(function(ge,ne){v.newPlot(ae,V,q,fe).then(ee).then(be).then(Te).then(function(pe){ge(Be(pe))}).catch(function(pe){ne(pe)})})}f.exports=R},4936:function(f,h,u){var p=u(1828),v=u(4875),y=u(6281),b=u(2075).dfltConfig,x=p.isPlainObject,k=Array.isArray,C=p.isArrayOrTypedArray;f.exports=function(B,E){B===void 0&&(B=[]),E===void 0&&(E={});var W=y.get(),Y=[],ie={_context:p.extendFlat({},b)},L,me;k(B)?(ie.data=p.extendDeep([],B),L=B):(ie.data=[],L=[],Y.push(I("array","data"))),x(E)?(ie.layout=p.extendDeep({},E),me=E):(ie.layout={},me={},arguments.length>1&&Y.push(I("object","layout"))),v.supplyDefaults(ie);for(var ae=ie._fullData,q=L.length,fe=0;fe<q;fe++){var ee=L[fe],be=["data",fe];if(!x(ee)){Y.push(I("object",be));continue}var Te=ae[fe],Be=Te.type,ge=W.traces[Be].attributes;ge.type={valType:"enumerated",values:[Be]},Te.visible===!1&&ee.visible!==!1&&Y.push(I("invisible",be)),w(ee,Te,ge,Y,be);var ne=ee.transforms,pe=Te.transforms;if(ne){k(ne)||Y.push(I("array",be,["transforms"])),be.push("transforms");for(var G=0;G<ne.length;G++){var Oe=["transforms",G],xe=ne[G].type;if(!x(ne[G])){Y.push(I("object",be,Oe));continue}var Le=W.transforms[xe]?W.transforms[xe].attributes:{};Le.type={valType:"enumerated",values:Object.keys(W.transforms)},w(ne[G],pe[G],Le,Y,be,Oe)}}}var ke=ie._fullLayout,$e=T(W,ae);return w(me,ke,$e,Y,"layout"),Y.length===0?void 0:Y};function w(Q,B,E,W,Y,ie){ie=ie||[];for(var L=Object.keys(Q),me=0;me<L.length;me++){var ae=L[me];if(ae!=="transforms"){var q=ie.slice();q.push(ae);var fe=Q[ae],ee=B[ae],be=N(E,ae),Te=(be||{}).valType,Be=Te==="info_array",ge=Te==="colorscale",ne=(be||{}).items;if(!V(E,ae))W.push(I("schema",Y,q));else if(x(fe)&&x(ee)&&Te!=="any")w(fe,ee,be,W,Y,q);else if(Be&&k(fe)){fe.length>ee.length&&W.push(I("unused",Y,q.concat(ee.length)));var pe=ee.length,G=Array.isArray(ne);G&&(pe=Math.min(pe,ne.length));var Oe,xe,Le,ke,$e;if(be.dimensions===2)for(xe=0;xe<pe;xe++)if(k(fe[xe])){fe[xe].length>ee[xe].length&&W.push(I("unused",Y,q.concat(xe,ee[xe].length)));var Ze=ee[xe].length;for(Oe=0;Oe<(G?Math.min(Ze,ne[xe].length):Ze);Oe++)Le=G?ne[xe][Oe]:ne,ke=fe[xe][Oe],$e=ee[xe][Oe],p.validate(ke,Le)?$e!==ke&&$e!==+ke&&W.push(I("dynamic",Y,q.concat(xe,Oe),ke,$e)):W.push(I("value",Y,q.concat(xe,Oe),ke))}else W.push(I("array",Y,q.concat(xe),fe[xe]));else for(xe=0;xe<pe;xe++)Le=G?ne[xe]:ne,ke=fe[xe],$e=ee[xe],p.validate(ke,Le)?$e!==ke&&$e!==+ke&&W.push(I("dynamic",Y,q.concat(xe),ke,$e)):W.push(I("value",Y,q.concat(xe),ke))}else if(be.items&&!Be&&k(fe)){var De=ne[Object.keys(ne)[0]],Ie=[],re,ye;for(re=0;re<ee.length;re++){var te=ee[re]._index||re;if(ye=q.slice(),ye.push(te),x(fe[te])&&x(ee[re])){Ie.push(te);var se=fe[te],ue=ee[re];x(se)&&se.visible!==!1&&ue.visible===!1?W.push(I("invisible",Y,ye)):w(se,ue,De,W,Y,ye)}}for(re=0;re<fe.length;re++)ye=q.slice(),ye.push(re),x(fe[re])?Ie.indexOf(re)===-1&&W.push(I("unused",Y,ye)):W.push(I("object",Y,ye,fe[re]))}else!x(fe)&&x(ee)?W.push(I("object",Y,q,fe)):!C(fe)&&C(ee)&&!Be&&!ge?W.push(I("array",Y,q,fe)):ae in B?p.validate(fe,be)?be.valType==="enumerated"&&(be.coerceNumber&&fe!==+ee||fe!==ee)&&W.push(I("dynamic",Y,q,fe,ee)):W.push(I("value",Y,q,fe)):W.push(I("unused",Y,q,fe))}}return W}function T(Q,B){for(var E=Q.layout.layoutAttributes,W=0;W<B.length;W++){var Y=B[W],ie=Q.traces[Y.type],L=ie.layoutAttributes;L&&(Y.subplot?p.extendFlat(E[ie.attributes.subplot.dflt],L):p.extendFlat(E,L))}return E}var R={object:function(Q,B){var E;return Q==="layout"&&B===""?E="The layout argument":Q[0]==="data"&&B===""?E="Trace "+Q[1]+" in the data argument":E=M(Q)+"key "+B,E+" must be linked to an object container"},array:function(Q,B){var E;return Q==="data"?E="The data argument":E=M(Q)+"key "+B,E+" must be linked to an array container"},schema:function(Q,B){return M(Q)+"key "+B+" is not part of the schema"},unused:function(Q,B,E){var W=x(E)?"container":"key";return M(Q)+W+" "+B+" did not get coerced"},dynamic:function(Q,B,E,W){return[M(Q)+"key",B,"(set to '"+E+"')","got reset to","'"+W+"'","during defaults."].join(" ")},invisible:function(Q,B){return(B?M(Q)+"item "+B:"Trace "+Q[1])+" got defaulted to be not visible"},value:function(Q,B,E){return[M(Q)+"key "+B,"is set to an invalid value ("+E+")"].join(" ")}};function M(Q){return k(Q)?"In data trace "+Q[1]+", ":"In "+Q+", "}function I(Q,B,E,W,Y){E=E||"";var ie,L;k(B)?(ie=B[0],L=B[1]):(ie=B,L=null);var me=U(E),ae=R[Q](B,me,W,Y);return p.log(ae),{code:Q,container:ie,trace:L,path:E,astr:me,msg:ae}}function V(Q,B){var E=z(B),W=E.keyMinusId,Y=E.id;return W in Q&&Q[W]._isSubplotObj&&Y?!0:B in Q}function N(Q,B){if(B in Q)return Q[B];var E=z(B);return Q[E.keyMinusId]}var F=p.counterRegex("([a-z]+)");function z(Q){var B=Q.match(F);return{keyMinusId:B&&B[1],id:B&&B[2]}}function U(Q){if(!k(Q))return String(Q);for(var B="",E=0;E<Q.length;E++){var W=Q[E];typeof W=="number"?B=B.substr(0,B.length-1)+"["+W+"]":B+=W,E<Q.length-1&&(B+=".")}return B}},5594:function(f){f.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(f,h,u){var p=u(1828),v=u(4467);f.exports=function(b,x,k){var C=k.name,w=k.inclusionAttr||"visible",T=x[C],R=p.isArrayOrTypedArray(b[C])?b[C]:[],M=x[C]=[],I=v.arrayTemplater(x,C,w),V,N;for(V=0;V<R.length;V++){var F=R[V];p.isPlainObject(F)?N=I.newItem(F):(N=I.newItem({}),N[w]=!1),N._index=V,N[w]!==!1&&k.handleItemDefaults(F,N,x,k),M.push(N)}var z=I.defaultItems();for(V=0;V<z.length;V++)N=z[V],N._index=M.length,k.handleItemDefaults({},N,x,k,{}),M.push(N);if(p.isArrayOrTypedArray(T)){var U=Math.min(T.length,M.length);for(V=0;V<U;V++)p.relinkPrivateKeys(M[V],T[V])}return M}},9012:function(f,h,u){var p=u(1940),v=u(7914);f.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:v.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(f,h,u){var p=u(2770),v=u(1828),y=v.dateTime2ms,b=v.incrementMonth,x=u(606),k=x.ONEAVGMONTH;f.exports=function(w,T,R,M){if(T.type!=="date")return{vals:M};var I=w[R+"periodalignment"];if(!I)return{vals:M};var V=w[R+"period"],N;if(p(V)){if(V=+V,V<=0)return{vals:M}}else if(typeof V=="string"&&V.charAt(0)==="M"){var F=+V.substring(1);if(F>0&&Math.round(F)===F)N=F;else return{vals:M}}for(var z=T.calendar,U=I==="start",Q=I==="end",B=w[R+"period0"],E=y(B,z)||0,W=[],Y=[],ie=[],L=M.length,me=0;me<L;me++){var ae=M[me],q,fe,ee;if(N){for(q=Math.round((ae-E)/(N*k)),ee=b(E,N*q,z);ee>ae;)ee=b(ee,-N,z);for(;ee<=ae;)ee=b(ee,N,z);fe=b(ee,-N,z)}else{for(q=Math.round((ae-E)/V),ee=E+q*V;ee>ae;)ee-=V;for(;ee<=ae;)ee+=V;fe=ee-V}W[me]=U?fe:Q?ee:(fe+ee)/2,Y[me]=fe,ie[me]=ee}return{vals:W,starts:Y,ends:ie}}},9502:function(f){f.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(f,h,u){var p=u(9898),v=u(2770),y=u(1828),b=u(606).FP_SAFE,x=u(3972),k=u(1424),C=u(1675),w=C.getFromId,T=C.isLinked;f.exports={applyAutorangeOptions:q,getAutoRange:R,makePadFn:I,doAutoRange:z,findExtremes:U,concatExtremes:F};function R(fe,ee){var be,Te,Be=[],ge=fe._fullLayout,ne=I(ge,ee,0),pe=I(ge,ee,1),G=F(fe,ee),Oe=G.min,xe=G.max;if(Oe.length===0||xe.length===0)return y.simpleMap(ee.range,ee.r2l);var Le=Oe[0].val,ke=xe[0].val;for(be=1;be<Oe.length&&Le===ke;be++)Le=Math.min(Le,Oe[be].val);for(be=1;be<xe.length&&Le===ke;be++)ke=Math.max(ke,xe[be].val);var $e=ee.autorange,Ze=$e==="reversed"||$e==="min reversed"||$e==="max reversed";if(!Ze&&ee.range){var De=y.simpleMap(ee.range,ee.r2l);Ze=De[1]<De[0]}ee.autorange==="reversed"&&(ee.autorange=!0);var Ie=ee.rangemode,re=Ie==="tozero",ye=Ie==="nonnegative",te=ee._length,se=te/10,ue=0,oe,Se,le,Ce,Qe,ze;for(be=0;be<Oe.length;be++)for(oe=Oe[be],Te=0;Te<xe.length;Te++)Se=xe[Te],ze=Se.val-oe.val-M(ee,oe.val,Se.val),ze>0&&(Qe=te-ne(oe)-pe(Se),Qe>se?ze/Qe>ue&&(le=oe,Ce=Se,ue=ze/Qe):ze/te>ue&&(le={val:oe.val,nopad:1},Ce={val:Se.val,nopad:1},ue=ze/te));function Xe(et,yt){return Math.max(et,pe(yt))}if(Le===ke){var ct=Le-1,pt=Le+1;if(re)if(Le===0)Be=[0,1];else{var Ye=(Le>0?xe:Oe).reduce(Xe,0),je=Le/(1-Math.min(.5,Ye/te));Be=Le>0?[0,je]:[je,0]}else ye?Be=[Math.max(0,ct),Math.max(1,pt)]:Be=[ct,pt]}else re?(le.val>=0&&(le={val:0,nopad:1}),Ce.val<=0&&(Ce={val:0,nopad:1})):ye&&(le.val-ue*ne(le)<0&&(le={val:0,nopad:1}),Ce.val<=0&&(Ce={val:1,nopad:1})),ue=(Ce.val-le.val-M(ee,oe.val,Se.val))/(te-ne(le)-pe(Ce)),Be=[le.val-ue*ne(le),Ce.val+ue*pe(Ce)];return Be=q(Be,ee),ee.limitRange&&ee.limitRange(),Ze&&Be.reverse(),y.simpleMap(Be,ee.l2r||Number)}function M(fe,ee,be){var Te=0;if(fe.rangebreaks)for(var Be=fe.locateBreaks(ee,be),ge=0;ge<Be.length;ge++){var ne=Be[ge];Te+=ne.max-ne.min}return Te}function I(fe,ee,be){var Te=.05*ee._length,Be=ee._anchorAxis||{};if((ee.ticklabelposition||"").indexOf("inside")!==-1||(Be.ticklabelposition||"").indexOf("inside")!==-1){var ge=ee.isReversed();if(!ge){var ne=y.simpleMap(ee.range,ee.r2l);ge=ne[1]<ne[0]}ge&&(be=!be)}var pe=0;return T(fe,ee._id)||(pe=N(fe,ee,be)),Te=Math.max(pe,Te),ee.constrain==="domain"&&ee._inputDomain&&(Te*=(ee._inputDomain[1]-ee._inputDomain[0])/(ee.domain[1]-ee.domain[0])),function(Oe){return Oe.nopad?0:Oe.pad+(Oe.extrapad?Te:pe)}}var V=3;function N(fe,ee,be){var Te=0,Be=ee._id.charAt(0)==="x";for(var ge in fe._plots){var ne=fe._plots[ge];if(!(ee._id!==ne.xaxis._id&&ee._id!==ne.yaxis._id)){var pe=(Be?ne.yaxis:ne.xaxis)||{};if((pe.ticklabelposition||"").indexOf("inside")!==-1&&(!be&&(pe.side==="left"||pe.side==="bottom")||be&&(pe.side==="top"||pe.side==="right"))){if(pe._vals){var G=y.deg2rad(pe._tickAngles[pe._id+"tick"]||0),Oe=Math.abs(Math.cos(G)),xe=Math.abs(Math.sin(G));if(!pe._vals[0].bb){var Le=pe._id+"tick",ke=pe._selections[Le];ke.each(function(ye){var te=p.select(this),se=te.select(".text-math-group");se.empty()&&(ye.bb=k.bBox(te.node()))})}for(var $e=0;$e<pe._vals.length;$e++){var Ze=pe._vals[$e],De=Ze.bb;if(De){var Ie=2*V+De.width,re=2*V+De.height;Te=Math.max(Te,Be?Math.max(Ie*Oe,re*xe):Math.max(re*Oe,Ie*xe))}}}pe.ticks==="inside"&&pe.ticklabelposition==="inside"&&(Te+=pe.ticklen||0)}}}return Te}function F(fe,ee,be){var Te=ee._id,Be=fe._fullData,ge=fe._fullLayout,ne=[],pe=[],G,Oe,xe;function Le(Ie,re){for(G=0;G<re.length;G++){var ye=Ie[re[G]],te=(ye._extremes||{})[Te];if(ye.visible===!0&&te){for(Oe=0;Oe<te.min.length;Oe++)xe=te.min[Oe],Q(ne,xe.val,xe.pad,{extrapad:xe.extrapad});for(Oe=0;Oe<te.max.length;Oe++)xe=te.max[Oe],B(pe,xe.val,xe.pad,{extrapad:xe.extrapad})}}}if(Le(Be,ee._traceIndices),Le(ge.annotations||[],ee._annIndices||[]),Le(ge.shapes||[],ee._shapeIndices||[]),ee._matchGroup&&!be){for(var ke in ee._matchGroup)if(ke!==ee._id){var $e=w(fe,ke),Ze=F(fe,$e,!0),De=ee._length/$e._length;for(Oe=0;Oe<Ze.min.length;Oe++)xe=Ze.min[Oe],Q(ne,xe.val,xe.pad*De,{extrapad:xe.extrapad});for(Oe=0;Oe<Ze.max.length;Oe++)xe=Ze.max[Oe],B(pe,xe.val,xe.pad*De,{extrapad:xe.extrapad})}}return{min:ne,max:pe}}function z(fe,ee,be){if(ee.setScale(),ee.autorange){ee.range=be?be.slice():R(fe,ee),ee._r=ee.range.slice(),ee._rl=y.simpleMap(ee._r,ee.r2l);var Te=ee._input,Be={};Be[ee._attr+".range"]=ee.range,Be[ee._attr+".autorange"]=ee.autorange,x.call("_storeDirectGUIEdit",fe.layout,fe._fullLayout._preGUI,Be),Te.range=ee.range.slice(),Te.autorange=ee.autorange}var ge=ee._anchorAxis;if(ge&&ge.rangeslider){var ne=ge.rangeslider[ee._name];ne&&ne.rangemode==="auto"&&(ne.range=R(fe,ee)),ge._input.rangeslider[ee._name]=y.extendFlat({},ne)}}function U(fe,ee,be){be||(be={}),fe._m||fe.setScale();var Te=[],Be=[],ge=ee.length,ne=be.padded||!1,pe=be.tozero&&(fe.type==="linear"||fe.type==="-"),G=fe.type==="log",Oe=!1,xe=be.vpadLinearized||!1,Le,ke,$e,Ze,De,Ie,re,ye,te;function se(Xe){if(Array.isArray(Xe))return Oe=!0,function(pt){return Math.max(Number(Xe[pt]||0),0)};var ct=Math.max(Number(Xe||0),0);return function(){return ct}}var ue=se((fe._m>0?be.ppadplus:be.ppadminus)||be.ppad||0),oe=se((fe._m>0?be.ppadminus:be.ppadplus)||be.ppad||0),Se=se(be.vpadplus||be.vpad),le=se(be.vpadminus||be.vpad);if(!Oe){if(ye=1/0,te=-1/0,G)for(Le=0;Le<ge;Le++)ke=ee[Le],ke<ye&&ke>0&&(ye=ke),ke>te&&ke<b&&(te=ke);else for(Le=0;Le<ge;Le++)ke=ee[Le],ke<ye&&ke>-b&&(ye=ke),ke>te&&ke<b&&(te=ke);ee=[ye,te],ge=2}var Ce={tozero:pe,extrapad:ne};function Qe(Xe){$e=ee[Xe],v($e)&&(Ie=ue(Xe),re=oe(Xe),xe?(Ze=fe.c2l($e)-le(Xe),De=fe.c2l($e)+Se(Xe)):(ye=$e-le(Xe),te=$e+Se(Xe),G&&ye<te/10&&(ye=te/10),Ze=fe.c2l(ye),De=fe.c2l(te)),pe&&(Ze=Math.min(0,Ze),De=Math.max(0,De)),W(Ze)&&Q(Te,Ze,re,Ce),W(De)&&B(Be,De,Ie,Ce))}var ze=Math.min(6,ge);for(Le=0;Le<ze;Le++)Qe(Le);for(Le=ge-1;Le>=ze;Le--)Qe(Le);return{min:Te,max:Be,opts:be}}function Q(fe,ee,be,Te){E(fe,ee,be,Te,Y)}function B(fe,ee,be,Te){E(fe,ee,be,Te,ie)}function E(fe,ee,be,Te,Be){for(var ge=Te.tozero,ne=Te.extrapad,pe=!0,G=0;G<fe.length&&pe;G++){var Oe=fe[G];if(Be(Oe.val,ee)&&Oe.pad>=be&&(Oe.extrapad||!ne)){pe=!1;break}else Be(ee,Oe.val)&&Oe.pad<=be&&(ne||!Oe.extrapad)&&(fe.splice(G,1),G--)}if(pe){var xe=ge&&ee===0;fe.push({val:ee,pad:xe?0:be,extrapad:xe?!1:ne})}}function W(fe){return v(fe)&&Math.abs(fe)<b}function Y(fe,ee){return fe<=ee}function ie(fe,ee){return fe>=ee}function L(fe,ee){var be=ee.autorangeoptions;return be&&be.minallowed!==void 0&&ae(ee,be.minallowed,be.maxallowed)?be.minallowed:be&&be.clipmin!==void 0&&ae(ee,be.clipmin,be.clipmax)?Math.max(fe,ee.d2l(be.clipmin)):fe}function me(fe,ee){var be=ee.autorangeoptions;return be&&be.maxallowed!==void 0&&ae(ee,be.minallowed,be.maxallowed)?be.maxallowed:be&&be.clipmax!==void 0&&ae(ee,be.clipmin,be.clipmax)?Math.min(fe,ee.d2l(be.clipmax)):fe}function ae(fe,ee,be){return ee!==void 0&&be!==void 0?(ee=fe.d2l(ee),be=fe.d2l(be),ee<be):!0}function q(fe,ee){if(!ee||!ee.autorangeoptions)return fe;var be=fe[0],Te=fe[1],Be=ee.autorangeoptions.include;if(Be!==void 0){var ge=ee.d2l(be),ne=ee.d2l(Te);y.isArrayOrTypedArray(Be)||(Be=[Be]);for(var pe=0;pe<Be.length;pe++){var G=ee.d2l(Be[pe]);ge>=G&&(ge=G,be=G),ne<=G&&(ne=G,Te=G)}}return be=L(be,ee),Te=me(Te,ee),[be,Te]}},3074:function(f){f.exports=function(u,p,v){var y,b;if(v){var x=p==="reversed"||p==="min reversed"||p==="max reversed";y=v[x?1:0],b=v[x?0:1]}var k=u("autorangeoptions.minallowed",b===null?y:void 0),C=u("autorangeoptions.maxallowed",y===null?b:void 0);k===void 0&&u("autorangeoptions.clipmin"),C===void 0&&u("autorangeoptions.clipmax"),u("autorangeoptions.include")}},9298:function(f,h,u){var p=u(9898),v=u(2770),y=u(4875),b=u(3972),x=u(1828),k=x.strTranslate,C=u(3893),w=u(2998),T=u(7901),R=u(1424),M=u(3838),I=u(6287),V=u(606),N=V.ONEMAXYEAR,F=V.ONEAVGYEAR,z=V.ONEMINYEAR,U=V.ONEMAXQUARTER,Q=V.ONEAVGQUARTER,B=V.ONEMINQUARTER,E=V.ONEMAXMONTH,W=V.ONEAVGMONTH,Y=V.ONEMINMONTH,ie=V.ONEWEEK,L=V.ONEDAY,me=L/2,ae=V.ONEHOUR,q=V.ONEMIN,fe=V.ONESEC,ee=V.MINUS_SIGN,be=V.BADNUM,Te={K:"zeroline"},Be={K:"gridline",L:"path"},ge={K:"minor-gridline",L:"path"},ne={K:"tick",L:"path"},pe={K:"tick",L:"text"},G={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Oe=u(8783),xe=Oe.MID_SHIFT,Le=Oe.CAP_SHIFT,ke=Oe.LINE_SPACING,$e=Oe.OPPOSITE_SIDE,Ze=3,De=f.exports={};De.setConvert=u(1994);var Ie=u(4322),re=u(1675),ye=re.idSort,te=re.isLinked;De.id2name=re.id2name,De.name2id=re.name2id,De.cleanId=re.cleanId,De.list=re.list,De.listIds=re.listIds,De.getFromId=re.getFromId,De.getFromTrace=re.getFromTrace;var se=u(1739);De.getAutoRange=se.getAutoRange,De.findExtremes=se.findExtremes;var ue=1e-4;function oe(Fe){var Ee=(Fe[1]-Fe[0])*ue;return[Fe[0]-Ee,Fe[1]+Ee]}De.coerceRef=function(Fe,Ee,St,Ct,Lt,Ft){var Ht=Ct.charAt(Ct.length-1),$t=St._fullLayout._subplots[Ht+"axis"],Mt=Ct+"ref",en={};return Lt||(Lt=$t[0]||(typeof Ft=="string"?Ft:Ft[0])),Ft||(Ft=Lt),$t=$t.concat($t.map(function(un){return un+" domain"})),en[Mt]={valType:"enumerated",values:$t.concat(Ft?typeof Ft=="string"?[Ft]:Ft:[]),dflt:Lt},x.coerce(Fe,Ee,en,Mt)},De.getRefType=function(Fe){return Fe===void 0?Fe:Fe==="paper"?"paper":Fe==="pixel"?"pixel":/( domain)$/.test(Fe)?"domain":"range"},De.coercePosition=function(Fe,Ee,St,Ct,Lt,Ft){var Ht,$t,Mt=De.getRefType(Ct);if(Mt!=="range")Ht=x.ensureNumber,$t=St(Lt,Ft);else{var en=De.getFromId(Ee,Ct);Ft=en.fraction2r(Ft),$t=St(Lt,Ft),Ht=en.cleanPos}Fe[Lt]=Ht($t)},De.cleanPosition=function(Fe,Ee,St){var Ct=St==="paper"||St==="pixel"?x.ensureNumber:De.getFromId(Ee,St).cleanPos;return Ct(Fe)},De.redrawComponents=function(Fe,Ee){Ee=Ee||De.listIds(Fe);var St=Fe._fullLayout;function Ct(Lt,Ft,Ht,$t){for(var Mt=b.getComponentMethod(Lt,Ft),en={},un=0;un<Ee.length;un++)for(var Jt=St[De.id2name(Ee[un])],rn=Jt[Ht],Tn=0;Tn<rn.length;Tn++){var On=rn[Tn];if(!en[On]&&(Mt(Fe,On),en[On]=1,$t))return}}Ct("annotations","drawOne","_annIndices"),Ct("shapes","drawOne","_shapeIndices"),Ct("images","draw","_imgIndices",!0),Ct("selections","drawOne","_selectionIndices")};var Se=De.getDataConversions=function(Fe,Ee,St,Ct){var Lt,Ft=St==="x"||St==="y"||St==="z"?St:Ct;if(Array.isArray(Ft)){if(Lt={type:Ie(Ct,void 0,{autotypenumbers:Fe._fullLayout.autotypenumbers}),_categories:[]},De.setConvert(Lt),Lt.type==="category")for(var Ht=0;Ht<Ct.length;Ht++)Lt.d2c(Ct[Ht])}else Lt=De.getFromTrace(Fe,Ee,Ft);return Lt?{d2c:Lt.d2c,c2d:Lt.c2d}:Ft==="ids"?{d2c:Ce,c2d:Ce}:{d2c:le,c2d:le}};function le(Fe){return+Fe}function Ce(Fe){return String(Fe)}De.getDataToCoordFunc=function(Fe,Ee,St,Ct){return Se(Fe,Ee,St,Ct).d2c},De.counterLetter=function(Fe){var Ee=Fe.charAt(0);if(Ee==="x")return"y";if(Ee==="y")return"x"},De.minDtick=function(Fe,Ee,St,Ct){["log","category","multicategory"].indexOf(Fe.type)!==-1||!Ct?Fe._minDtick=0:Fe._minDtick===void 0?(Fe._minDtick=Ee,Fe._forceTick0=St):Fe._minDtick&&((Fe._minDtick/Ee+1e-6)%1<2e-6&&((St-Fe._forceTick0)/Ee%1+1.000001)%1<2e-6?(Fe._minDtick=Ee,Fe._forceTick0=St):((Ee/Fe._minDtick+1e-6)%1>2e-6||((St-Fe._forceTick0)/Fe._minDtick%1+1.000001)%1>2e-6)&&(Fe._minDtick=0))},De.saveRangeInitial=function(Fe,Ee){for(var St=De.list(Fe,"",!0),Ct=!1,Lt=0;Lt<St.length;Lt++){var Ft=St[Lt],Ht=Ft._rangeInitial0===void 0&&Ft._rangeInitial1===void 0,$t=Ht||Ft.range[0]!==Ft._rangeInitial0||Ft.range[1]!==Ft._rangeInitial1,Mt=Ft.autorange;(Ht&&Mt!==!0||Ee&&$t)&&(Ft._rangeInitial0=Mt==="min"||Mt==="max reversed"?void 0:Ft.range[0],Ft._rangeInitial1=Mt==="max"||Mt==="min reversed"?void 0:Ft.range[1],Ft._autorangeInitial=Mt,Ct=!0)}return Ct},De.saveShowSpikeInitial=function(Fe,Ee){for(var St=De.list(Fe,"",!0),Ct=!1,Lt="on",Ft=0;Ft<St.length;Ft++){var Ht=St[Ft],$t=Ht._showSpikeInitial===void 0,Mt=$t||Ht.showspikes!==Ht._showspikes;($t||Ee&&Mt)&&(Ht._showSpikeInitial=Ht.showspikes,Ct=!0),Lt==="on"&&!Ht.showspikes&&(Lt="off")}return Fe._fullLayout._cartesianSpikesEnabled=Lt,Ct},De.autoBin=function(Fe,Ee,St,Ct,Lt,Ft){var Ht=x.aggNums(Math.min,null,Fe),$t=x.aggNums(Math.max,null,Fe);if(Ee.type==="category"||Ee.type==="multicategory")return{start:Ht-.5,end:$t+.5,size:Math.max(1,Math.round(Ft)||1),_dataSpan:$t-Ht};Lt||(Lt=Ee.calendar);var Mt;if(Ee.type==="log"?Mt={type:"linear",range:[Ht,$t]}:Mt={type:Ee.type,range:x.simpleMap([Ht,$t],Ee.c2r,0,Lt),calendar:Lt},De.setConvert(Mt),Ft=Ft&&I.dtick(Ft,Mt.type),Ft)Mt.dtick=Ft,Mt.tick0=I.tick0(void 0,Mt.type,Lt);else{var en;if(St)en=($t-Ht)/St;else{var un=x.distinctVals(Fe),Jt=Math.pow(10,Math.floor(Math.log(un.minDiff)/Math.LN10)),rn=Jt*x.roundUp(un.minDiff/Jt,[.9,1.9,4.9,9.9],!0);en=Math.max(rn,2*x.stdev(Fe)/Math.pow(Fe.length,Ct?.25:.4)),v(en)||(en=1)}De.autoTicks(Mt,en)}var Tn=Mt.dtick,On=De.tickIncrement(De.tickFirst(Mt),Tn,"reverse",Lt),pn,Jn;if(typeof Tn=="number")On=Qe(On,Fe,Mt,Ht,$t),Jn=1+Math.floor(($t-On)/Tn),pn=On+Jn*Tn;else for(Mt.dtick.charAt(0)==="M"&&(On=ze(On,Fe,Tn,Ht,Lt)),pn=On,Jn=0;pn<=$t;)pn=De.tickIncrement(pn,Tn,!1,Lt),Jn++;return{start:Ee.c2r(On,0,Lt),end:Ee.c2r(pn,0,Lt),size:Tn,_dataSpan:$t-Ht}};function Qe(Fe,Ee,St,Ct,Lt){var Ft=0,Ht=0,$t=0,Mt=0;function en(Tn){return(1+(Tn-Fe)*100/St.dtick)%100<2}for(var un=0;un<Ee.length;un++)Ee[un]%1===0?$t++:v(Ee[un])||Mt++,en(Ee[un])&&Ft++,en(Ee[un]+St.dtick/2)&&Ht++;var Jt=Ee.length-Mt;if($t===Jt&&St.type!=="date")St.dtick<1?Fe=Ct-.5*St.dtick:(Fe-=.5,Fe+St.dtick<Ct&&(Fe+=St.dtick));else if(Ht<Jt*.1&&(Ft>Jt*.3||en(Ct)||en(Lt))){var rn=St.dtick/2;Fe+=Fe+rn<Ct?rn:-rn}return Fe}function ze(Fe,Ee,St,Ct,Lt){var Ft=x.findExactDates(Ee,Lt),Ht=.8;if(Ft.exactDays>Ht){var $t=Number(St.substr(1));Ft.exactYears>Ht&&$t%12===0?Fe=De.tickIncrement(Fe,"M6","reverse")+L*1.5:Ft.exactMonths>Ht?Fe=De.tickIncrement(Fe,"M1","reverse")+L*15.5:Fe-=me;var Mt=De.tickIncrement(Fe,St);if(Mt<=Ct)return Mt}return Fe}De.prepMinorTicks=function(Fe,Ee,St){if(!Ee.minor.dtick){delete Fe.dtick;var Ct=Ee.dtick&&v(Ee._tmin),Lt;if(Ct){var Ft=De.tickIncrement(Ee._tmin,Ee.dtick,!0);Lt=[Ee._tmin,Ft*.99+Ee._tmin*.01]}else{var Ht=x.simpleMap(Ee.range,Ee.r2l);Lt=[Ht[0],.8*Ht[0]+.2*Ht[1]]}if(Fe.range=x.simpleMap(Lt,Ee.l2r),Fe._isMinor=!0,De.prepTicks(Fe,St),Ct){var $t=v(Ee.dtick),Mt=v(Fe.dtick),en=$t?Ee.dtick:+Ee.dtick.substring(1),un=Mt?Fe.dtick:+Fe.dtick.substring(1);$t&&Mt?Xe(en,un)?en===2*ie&&un===2*L&&(Fe.dtick=ie):en===2*ie&&un===3*L?Fe.dtick=ie:en===ie&&!(Ee._input.minor||{}).nticks?Fe.dtick=L:ct(en/un,2.5)?Fe.dtick=en/2:Fe.dtick=en:String(Ee.dtick).charAt(0)==="M"?Mt?Fe.dtick="M1":Xe(en,un)?en>=12&&un===2&&(Fe.dtick="M3"):Fe.dtick=Ee.dtick:String(Fe.dtick).charAt(0)==="L"?String(Ee.dtick).charAt(0)==="L"?Xe(en,un)||(Fe.dtick=ct(en/un,2.5)?Ee.dtick/2:Ee.dtick):Fe.dtick="D1":Fe.dtick==="D2"&&+Ee.dtick>1&&(Fe.dtick=1)}Fe.range=Ee.range}Ee.minor._tick0Init===void 0&&(Fe.tick0=Ee.tick0)};function Xe(Fe,Ee){return Math.abs((Fe/Ee+.5)%1-.5)<.001}function ct(Fe,Ee){return Math.abs(Fe/Ee-1)<.001}De.prepTicks=function(Fe,Ee){var St=x.simpleMap(Fe.range,Fe.r2l,void 0,void 0,Ee);if(Fe.tickmode==="auto"||!Fe.dtick){var Ct=Fe.nticks,Lt;Ct||(Fe.type==="category"||Fe.type==="multicategory"?(Lt=Fe.tickfont?x.bigFont(Fe.tickfont.size||12):15,Ct=Fe._length/Lt):(Lt=Fe._id.charAt(0)==="y"?40:80,Ct=x.constrain(Fe._length/Lt,4,9)+1),Fe._name==="radialaxis"&&(Ct*=2)),Fe.minor&&Fe.minor.tickmode!=="array"||Fe.tickmode==="array"&&(Ct*=100),Fe._roughDTick=Math.abs(St[1]-St[0])/Ct,De.autoTicks(Fe,Fe._roughDTick),Fe._minDtick>0&&Fe.dtick<Fe._minDtick*2&&(Fe.dtick=Fe._minDtick,Fe.tick0=Fe.l2r(Fe._forceTick0))}Fe.ticklabelmode==="period"&&Ye(Fe),Fe.tick0||(Fe.tick0=Fe.type==="date"?"2000-01-01":0),Fe.type==="date"&&Fe.dtick<.1&&(Fe.dtick=.1),ln(Fe)};function pt(Fe){return+Fe.substring(1)}function Ye(Fe){var Ee;function St(){return!(v(Fe.dtick)||Fe.dtick.charAt(0)!=="M")}var Ct=St(),Lt=De.getTickFormat(Fe);if(Lt){var Ft=Fe._dtickInit!==Fe.dtick;/%[fLQsSMX]/.test(Lt)||(/%[HI]/.test(Lt)?(Ee=ae,Ft&&!Ct&&Fe.dtick<ae&&(Fe.dtick=ae)):/%p/.test(Lt)?(Ee=me,Ft&&!Ct&&Fe.dtick<me&&(Fe.dtick=me)):/%[Aadejuwx]/.test(Lt)?(Ee=L,Ft&&!Ct&&Fe.dtick<L&&(Fe.dtick=L)):/%[UVW]/.test(Lt)?(Ee=ie,Ft&&!Ct&&Fe.dtick<ie&&(Fe.dtick=ie)):/%[Bbm]/.test(Lt)?(Ee=W,Ft&&(Ct?pt(Fe.dtick)<1:Fe.dtick<Y)&&(Fe.dtick="M1")):/%[q]/.test(Lt)?(Ee=Q,Ft&&(Ct?pt(Fe.dtick)<3:Fe.dtick<B)&&(Fe.dtick="M3")):/%[Yy]/.test(Lt)&&(Ee=F,Ft&&(Ct?pt(Fe.dtick)<12:Fe.dtick<z)&&(Fe.dtick="M12")))}Ct=St(),Ct&&Fe.tick0===Fe._dowTick0&&(Fe.tick0=Fe._rawTick0),Fe._definedDelta=Ee}function je(Fe,Ee,St){for(var Ct=0;Ct<Fe.length;Ct++){var Lt=Fe[Ct].value,Ft=Ct,Ht=Ct+1;Ct<Fe.length-1?(Ft=Ct,Ht=Ct+1):Ct>0?(Ft=Ct-1,Ht=Ct):(Ft=Ct,Ht=Ct);var $t=Fe[Ft].value,Mt=Fe[Ht].value,en=Math.abs(Mt-$t),un=St||en,Jt=0;un>=z?en>=z&&en<=N?Jt=en:Jt=F:St===Q&&un>=B?en>=B&&en<=U?Jt=en:Jt=Q:un>=Y?en>=Y&&en<=E?Jt=en:Jt=W:St===ie&&un>=ie?Jt=ie:un>=L?Jt=L:St===me&&un>=me?Jt=me:St===ae&&un>=ae&&(Jt=ae);var rn;Jt>=en&&(Jt=en,rn=!0);var Tn=Lt+Jt;if(Ee.rangebreaks&&Jt>0){for(var On=84,pn=0,Jn=0;Jn<On;Jn++){var Fn=(Jn+.5)/On;Ee.maskBreaks(Lt*(1-Fn)+Fn*Tn)!==be&&pn++}Jt*=pn/On,Jt||(Fe[Ct].drop=!0),rn&&en>ie&&(Jt=en)}(Jt>0||Ct===0)&&(Fe[Ct].periodX=Lt+Jt/2)}}De.calcTicks=function(Ee,St){for(var Ct=Ee.type,Lt=Ee.calendar,Ft=Ee.ticklabelstep,Ht=Ee.ticklabelmode==="period",$t=x.simpleMap(Ee.range,Ee.r2l,void 0,void 0,St),Mt=$t[1]<$t[0],en=Math.min($t[0],$t[1]),un=Math.max($t[0],$t[1]),Jt=Math.max(1e3,Ee._length||0),rn=[],Tn=[],On=[],pn=[],Jn=Ee.minor&&(Ee.minor.ticks||Ee.minor.showgrid),Fn=1;Fn>=(Jn?0:1);Fn--){var zr=!Fn;Fn?(Ee._dtickInit=Ee.dtick,Ee._tick0Init=Ee.tick0):(Ee.minor._dtickInit=Ee.minor.dtick,Ee.minor._tick0Init=Ee.minor.tick0);var dr=Fn?Ee:x.extendFlat({},Ee,Ee.minor);if(zr?De.prepMinorTicks(dr,Ee,St):De.prepTicks(dr,St),dr.tickmode==="array"){Fn?(On=[],rn=ft(Ee)):(pn=[],Tn=ft(Ee));continue}if(dr.tickmode==="sync"){On=[],rn=yt(Ee);continue}var Hr=oe($t),ar=Hr[0],ur=Hr[1],qr=v(dr.dtick),to=Ct==="log"&&!(qr||dr.dtick.charAt(0)==="L"),ko=De.tickFirst(dr,St);if(Fn){if(Ee._tmin=ko,ko<ar!==Mt)break;(Ct==="category"||Ct==="multicategory")&&(ur=Mt?Math.max(-.5,ur):Math.min(Ee._categories.length-.5,ur))}var Es=null,So=ko,Ko;if(Fn){var ds;qr?ds=Ee.dtick:Ct==="date"?typeof Ee.dtick=="string"&&Ee.dtick.charAt(0)==="M"&&(ds=W*Ee.dtick.substring(1)):ds=Ee._roughDTick,Ko=Math.round((Ee.r2l(So)-Ee.r2l(Ee.tick0))/ds)-1}var qs=dr.dtick;for(dr.rangebreaks&&dr._tick0Init!==dr.tick0&&(So=sr(So,Ee),Mt||(So=De.tickIncrement(So,qs,!Mt,Lt))),Fn&&Ht&&(So=De.tickIncrement(So,qs,!Mt,Lt),Ko--);Mt?So>=ur:So<=ur;So=De.tickIncrement(So,qs,Mt,Lt)){if(Fn&&Ko++,dr.rangebreaks&&!Mt){if(So<ar)continue;if(dr.maskBreaks(So)===be&&sr(So,dr)>=un)break}if(On.length>Jt||So===Es)break;Es=So;var es={value:So};Fn?(to&&So!==(So|0)&&(es.simpleLabel=!0),Ft>1&&Ko%Ft&&(es.skipLabel=!0),On.push(es)):(es.minor=!0,pn.push(es))}}if(Jn){var Xs=Ee.minor.ticks==="inside"&&Ee.ticks==="outside"||Ee.minor.ticks==="outside"&&Ee.ticks==="inside";if(!Xs){for(var Wa=On.map(function(Po){return Po.value}),vc=[],ii=0;ii<pn.length;ii++){var tu=pn[ii],Na=tu.value;if(Wa.indexOf(Na)===-1){for(var Js=!1,ya=0;!Js&&ya<On.length;ya++)1e7+On[ya].value===1e7+Na&&(Js=!0);Js||vc.push(tu)}}pn=vc}}Ht&&je(On,Ee,Ee._definedDelta);var ra;if(Ee.rangebreaks){var nu=Ee._id.charAt(0)==="y",Dr=1;Ee.tickmode==="auto"&&(Dr=Ee.tickfont?Ee.tickfont.size:12);var yc=NaN;for(ra=On.length-1;ra>-1;ra--){if(On[ra].drop){On.splice(ra,1);continue}On[ra].value=sr(On[ra].value,Ee);var oa=Ee.c2p(On[ra].value);(nu?yc>oa-Dr:yc<oa+Dr)?On.splice(Mt?ra+1:ra,1):yc=oa}}xr(Ee)&&Math.abs($t[1]-$t[0])===360&&On.pop(),Ee._tmax=(On[On.length-1]||{}).value,Ee._prevDateHead="",Ee._inCalcTicks=!0;var Ri,Md=function(Po){Po.text="",Ee._prevDateHead=Ri};On=On.concat(pn);var sa,bu;for(ra=0;ra<On.length;ra++){var Ed=On[ra].minor,Ou=On[ra].value;Ed?Tn.push({x:Ou,minor:!0}):(Ri=Ee._prevDateHead,sa=De.tickText(Ee,Ou,!1,On[ra].simpleLabel),bu=On[ra].periodX,bu!==void 0&&(sa.periodX=bu,(bu>un||bu<en)&&(bu>un&&(sa.periodX=un),bu<en&&(sa.periodX=en),Md(sa))),On[ra].skipLabel&&Md(sa),rn.push(sa))}return rn=rn.concat(Tn),Ee._inCalcTicks=!1,Ht&&rn.length&&(rn[0].noTick=!0),rn};function et(Fe,Ee){return Fe.rangebreaks&&(Ee=Ee.filter(function(St){return Fe.maskBreaks(St.x)!==be})),Ee}function yt(Fe){var Ee=Fe._mainAxis,St=[];if(Ee._vals){for(var Ct=0;Ct<Ee._vals.length;Ct++)if(!Ee._vals[Ct].noTick){var Lt=Ee.l2p(Ee._vals[Ct].x),Ft=Fe.p2l(Lt),Ht=De.tickText(Fe,Ft);Ee._vals[Ct].minor&&(Ht.minor=!0,Ht.text=""),St.push(Ht)}}return St=et(Fe,St),St}function ft(Fe){var Ee=x.simpleMap(Fe.range,Fe.r2l),St=oe(Ee),Ct=Math.min(St[0],St[1]),Lt=Math.max(St[0],St[1]),Ft=Fe.type==="category"?Fe.d2l_noadd:Fe.d2l;Fe.type==="log"&&String(Fe.dtick).charAt(0)!=="L"&&(Fe.dtick="L"+Math.pow(10,Math.floor(Math.min(Fe.range[0],Fe.range[1]))-1));for(var Ht=[],$t=0;$t<=1;$t++)if(!($t&&!Fe.minor)){var Mt=$t?Fe.minor.tickvals:Fe.tickvals,en=$t?[]:Fe.ticktext;if(Mt){Array.isArray(en)||(en=[]);for(var un=0;un<Mt.length;un++){var Jt=Ft(Mt[un]);if(Jt>Ct&&Jt<Lt){var rn=en[un]===void 0?De.tickText(Fe,Jt):Yn(Fe,Jt,String(en[un]));$t&&(rn.minor=!0,rn.text=""),Ht.push(rn)}}}}return Ht=et(Fe,Ht),Ht}var tt=[2,5,10],wt=[1,2,3,6,12],Xt=[1,2,5,10,15,30],Gt=[1,2,3,7,14],Nt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Bt=[-.301,0,.301,.699,1],vn=[15,30,45,90,180];function En(Fe,Ee,St){return Ee*x.roundUp(Fe/Ee,St)}De.autoTicks=function(Fe,Ee,St){var Ct;function Lt(Jt){return Math.pow(Jt,Math.floor(Math.log(Ee)/Math.LN10))}if(Fe.type==="date"){Fe.tick0=x.dateTick0(Fe.calendar,0);var Ft=2*Ee;if(Ft>F)Ee/=F,Ct=Lt(10),Fe.dtick="M"+12*En(Ee,Ct,tt);else if(Ft>W)Ee/=W,Fe.dtick="M"+En(Ee,1,wt);else if(Ft>L){if(Fe.dtick=En(Ee,L,Fe._hasDayOfWeekBreaks?[1,2,7,14]:Gt),!St){var Ht=De.getTickFormat(Fe),$t=Fe.ticklabelmode==="period";$t&&(Fe._rawTick0=Fe.tick0),/%[uVW]/.test(Ht)?Fe.tick0=x.dateTick0(Fe.calendar,2):Fe.tick0=x.dateTick0(Fe.calendar,1),$t&&(Fe._dowTick0=Fe.tick0)}}else Ft>ae?Fe.dtick=En(Ee,ae,wt):Ft>q?Fe.dtick=En(Ee,q,Xt):Ft>fe?Fe.dtick=En(Ee,fe,Xt):(Ct=Lt(10),Fe.dtick=En(Ee,Ct,tt))}else if(Fe.type==="log"){Fe.tick0=0;var Mt=x.simpleMap(Fe.range,Fe.r2l);if(Fe._isMinor&&(Ee*=1.5),Ee>.7)Fe.dtick=Math.ceil(Ee);else if(Math.abs(Mt[1]-Mt[0])<1){var en=1.5*Math.abs((Mt[1]-Mt[0])/Ee);Ee=Math.abs(Math.pow(10,Mt[1])-Math.pow(10,Mt[0]))/en,Ct=Lt(10),Fe.dtick="L"+En(Ee,Ct,tt)}else Fe.dtick=Ee>.3?"D2":"D1"}else Fe.type==="category"||Fe.type==="multicategory"?(Fe.tick0=0,Fe.dtick=Math.ceil(Math.max(Ee,1))):xr(Fe)?(Fe.tick0=0,Ct=1,Fe.dtick=En(Ee,Ct,vn)):(Fe.tick0=0,Ct=Lt(10),Fe.dtick=En(Ee,Ct,tt));if(Fe.dtick===0&&(Fe.dtick=1),!v(Fe.dtick)&&typeof Fe.dtick!="string"){var un=Fe.dtick;throw Fe.dtick=1,"ax.dtick error: "+String(un)}};function ln(Fe){var Ee=Fe.dtick;if(Fe._tickexponent=0,!v(Ee)&&typeof Ee!="string"&&(Ee=1),(Fe.type==="category"||Fe.type==="multicategory")&&(Fe._tickround=null),Fe.type==="date"){var St=Fe.r2l(Fe.tick0),Ct=Fe.l2r(St).replace(/(^-|i)/g,""),Lt=Ct.length;if(String(Ee).charAt(0)==="M")Lt>10||Ct.substr(5)!=="01-01"?Fe._tickround="d":Fe._tickround=+Ee.substr(1)%12===0?"y":"m";else if(Ee>=L&&Lt<=10||Ee>=L*15)Fe._tickround="d";else if(Ee>=q&&Lt<=16||Ee>=ae)Fe._tickround="M";else if(Ee>=fe&&Lt<=19||Ee>=q)Fe._tickround="S";else{var Ft=Fe.l2r(St+Ee).replace(/^-/,"").length;Fe._tickround=Math.max(Lt,Ft)-20,Fe._tickround<0&&(Fe._tickround=4)}}else if(v(Ee)||Ee.charAt(0)==="L"){var Ht=Fe.range.map(Fe.r2d||Number);v(Ee)||(Ee=Number(Ee.substr(1))),Fe._tickround=2-Math.floor(Math.log(Ee)/Math.LN10+.01);var $t=Math.max(Math.abs(Ht[0]),Math.abs(Ht[1])),Mt=Math.floor(Math.log($t)/Math.LN10+.01),en=Fe.minexponent===void 0?3:Fe.minexponent;Math.abs(Mt)>en&&(gt(Fe.exponentformat)&&!Dt(Mt)?Fe._tickexponent=3*Math.round((Mt-1)/3):Fe._tickexponent=Mt)}else Fe._tickround=null}De.tickIncrement=function(Fe,Ee,St,Ct){var Lt=St?-1:1;if(v(Ee))return x.increment(Fe,Lt*Ee);var Ft=Ee.charAt(0),Ht=Lt*Number(Ee.substr(1));if(Ft==="M")return x.incrementMonth(Fe,Ht,Ct);if(Ft==="L")return Math.log(Math.pow(10,Fe)+Ht)/Math.LN10;if(Ft==="D"){var $t=Ee==="D2"?Bt:Nt,Mt=Fe+Lt*.01,en=x.roundUp(x.mod(Mt,1),$t,St);return Math.floor(Mt)+Math.log(p.round(Math.pow(10,en),1))/Math.LN10}throw"unrecognized dtick "+String(Ee)},De.tickFirst=function(Fe,Ee){var St=Fe.r2l||Number,Ct=x.simpleMap(Fe.range,St,void 0,void 0,Ee),Lt=Ct[1]<Ct[0],Ft=Lt?Math.floor:Math.ceil,Ht=oe(Ct)[0],$t=Fe.dtick,Mt=St(Fe.tick0);if(v($t)){var en=Ft((Ht-Mt)/$t)*$t+Mt;return(Fe.type==="category"||Fe.type==="multicategory")&&(en=x.constrain(en,0,Fe._categories.length-1)),en}var un=$t.charAt(0),Jt=Number($t.substr(1));if(un==="M"){for(var rn=0,Tn=Mt,On,pn,Jn;rn<10;){if(On=De.tickIncrement(Tn,$t,Lt,Fe.calendar),(On-Ht)*(Tn-Ht)<=0)return Lt?Math.min(Tn,On):Math.max(Tn,On);pn=(Ht-(Tn+On)/2)/(On-Tn),Jn=un+(Math.abs(Math.round(pn))||1)*Jt,Tn=De.tickIncrement(Tn,Jn,pn<0?!Lt:Lt,Fe.calendar),rn++}return x.error("tickFirst did not converge",Fe),Tn}else{if(un==="L")return Math.log(Ft((Math.pow(10,Ht)-Mt)/Jt)*Jt+Mt)/Math.LN10;if(un==="D"){var Fn=$t==="D2"?Bt:Nt,zr=x.roundUp(x.mod(Ht,1),Fn,Lt);return Math.floor(Ht)+Math.log(p.round(Math.pow(10,zr),1))/Math.LN10}else throw"unrecognized dtick "+String($t)}},De.tickText=function(Fe,Ee,St,Ct){var Lt=Yn(Fe,Ee),Ft=Fe.tickmode==="array",Ht=St||Ft,$t=Fe.type,Mt=$t==="category"?Fe.d2l_noadd:Fe.d2l,en;if(Ft&&Array.isArray(Fe.ticktext)){var un=x.simpleMap(Fe.range,Fe.r2l),Jt=(Math.abs(un[1]-un[0])-(Fe._lBreaks||0))/1e4;for(en=0;en<Fe.ticktext.length&&!(Math.abs(Ee-Mt(Fe.tickvals[en]))<Jt);en++);if(en<Fe.ticktext.length)return Lt.text=String(Fe.ticktext[en]),Lt}function rn(Jn){if(Jn===void 0)return!0;if(St)return Jn==="none";var Fn={first:Fe._tmin,last:Fe._tmax}[Jn];return Jn!=="all"&&Ee!==Fn}var Tn=St?"never":Fe.exponentformat!=="none"&&rn(Fe.showexponent)?"hide":"";if($t==="date"?an(Fe,Lt,St,Ht):$t==="log"?wn(Fe,Lt,St,Ht,Tn):$t==="category"?Xn(Fe,Lt):$t==="multicategory"?Un(Fe,Lt,St):xr(Fe)?it(Fe,Lt,St,Ht,Tn):Sn(Fe,Lt,St,Ht,Tn),Ct||(Fe.tickprefix&&!rn(Fe.showtickprefix)&&(Lt.text=Fe.tickprefix+Lt.text),Fe.ticksuffix&&!rn(Fe.showticksuffix)&&(Lt.text+=Fe.ticksuffix)),Fe.labelalias&&Fe.labelalias.hasOwnProperty(Lt.text)){var On=Fe.labelalias[Lt.text];typeof On=="string"&&(Lt.text=On)}if(Fe.tickson==="boundaries"||Fe.showdividers){var pn=function(Jn){var Fn=Fe.l2p(Jn);return Fn>=0&&Fn<=Fe._length?Jn:null};Lt.xbnd=[pn(Lt.x-.5),pn(Lt.x+Fe.dtick-.5)]}return Lt},De.hoverLabelText=function(Fe,Ee,St){St&&(Fe=x.extendFlat({},Fe,{hoverformat:St}));var Ct=Array.isArray(Ee)?Ee[0]:Ee,Lt=Array.isArray(Ee)?Ee[1]:void 0;if(Lt!==void 0&&Lt!==Ct)return De.hoverLabelText(Fe,Ct,St)+" - "+De.hoverLabelText(Fe,Lt,St);var Ft=Fe.type==="log"&&Ct<=0,Ht=De.tickText(Fe,Fe.c2l(Ft?-Ct:Ct),"hover").text;return Ft?Ct===0?"0":ee+Ht:Ht};function Yn(Fe,Ee,St){var Ct=Fe.tickfont||{};return{x:Ee,dx:0,dy:0,text:St||"",fontSize:Ct.size,font:Ct.family,fontColor:Ct.color}}function an(Fe,Ee,St,Ct){var Lt=Fe._tickround,Ft=St&&Fe.hoverformat||De.getTickFormat(Fe);Ct&&(v(Lt)?Lt=4:Lt={y:"m",m:"d",d:"M",M:"S",S:4}[Lt]);var Ht=x.formatDate(Ee.x,Ft,Lt,Fe._dateFormat,Fe.calendar,Fe._extraFormat),$t,Mt=Ht.indexOf(`
`);if(Mt!==-1&&($t=Ht.substr(Mt+1),Ht=Ht.substr(0,Mt)),Ct&&(Ht==="00:00:00"||Ht==="00:00"?(Ht=$t,$t=""):Ht.length===8&&(Ht=Ht.replace(/:00$/,""))),$t)if(St)Lt==="d"?Ht+=", "+$t:Ht=$t+(Ht?", "+Ht:"");else if(!Fe._inCalcTicks||Fe._prevDateHead!==$t)Fe._prevDateHead=$t,Ht+="<br>"+$t;else{var en=Sr(Fe),un=Fe._trueSide||Fe.side;(!en&&un==="top"||en&&un==="bottom")&&(Ht+="<br> ")}Ee.text=Ht}function wn(Fe,Ee,St,Ct,Lt){var Ft=Fe.dtick,Ht=Ee.x,$t=Fe.tickformat,Mt=typeof Ft=="string"&&Ft.charAt(0);if(Lt==="never"&&(Lt=""),Ct&&Mt!=="L"&&(Ft="L3",Mt="L"),$t||Mt==="L")Ee.text=He(Math.pow(10,Ht),Fe,Lt,Ct);else if(v(Ft)||Mt==="D"&&x.mod(Ht+.01,1)<.1){var en=Math.round(Ht),un=Math.abs(en),Jt=Fe.exponentformat;Jt==="power"||gt(Jt)&&Dt(en)?(en===0?Ee.text=1:en===1?Ee.text="10":Ee.text="10<sup>"+(en>1?"":ee)+un+"</sup>",Ee.fontSize*=1.25):(Jt==="e"||Jt==="E")&&un>2?Ee.text="1"+Jt+(en>0?"+":ee)+un:(Ee.text=He(Math.pow(10,Ht),Fe,"","fakehover"),Ft==="D1"&&Fe._id.charAt(0)==="y"&&(Ee.dy-=Ee.fontSize/6))}else if(Mt==="D")Ee.text=String(Math.round(Math.pow(10,x.mod(Ht,1)))),Ee.fontSize*=.75;else throw"unrecognized dtick "+String(Ft);if(Fe.dtick==="D1"){var rn=String(Ee.text).charAt(0);(rn==="0"||rn==="1")&&(Fe._id.charAt(0)==="y"?Ee.dx-=Ee.fontSize/4:(Ee.dy+=Ee.fontSize/2,Ee.dx+=(Fe.range[1]>Fe.range[0]?1:-1)*Ee.fontSize*(Ht<0?.5:.25)))}}function Xn(Fe,Ee){var St=Fe._categories[Math.round(Ee.x)];St===void 0&&(St=""),Ee.text=String(St)}function Un(Fe,Ee,St){var Ct=Math.round(Ee.x),Lt=Fe._categories[Ct]||[],Ft=Lt[1]===void 0?"":String(Lt[1]),Ht=Lt[0]===void 0?"":String(Lt[0]);St?Ee.text=Ht+" - "+Ft:(Ee.text=Ft,Ee.text2=Ht)}function Sn(Fe,Ee,St,Ct,Lt){Lt==="never"?Lt="":Fe.showexponent==="all"&&Math.abs(Ee.x/Fe.dtick)<1e-6&&(Lt="hide"),Ee.text=He(Ee.x,Fe,Lt,Ct)}function it(Fe,Ee,St,Ct,Lt){if(Fe.thetaunit==="radians"&&!St){var Ft=Ee.x/180;if(Ft===0)Ee.text="0";else{var Ht=ut(Ft);if(Ht[1]>=100)Ee.text=He(x.deg2rad(Ee.x),Fe,Lt,Ct);else{var $t=Ee.x<0;Ht[1]===1?Ht[0]===1?Ee.text="π":Ee.text=Ht[0]+"π":Ee.text=["<sup>",Ht[0],"</sup>","⁄","<sub>",Ht[1],"</sub>","π"].join(""),$t&&(Ee.text=ee+Ee.text)}}}else Ee.text=He(Ee.x,Fe,Lt,Ct)}function ut(Fe){function Ee($t,Mt){return Math.abs($t-Mt)<=1e-6}function St($t,Mt){return Ee(Mt,0)?$t:St(Mt,$t%Mt)}function Ct($t){for(var Mt=1;!Ee(Math.round($t*Mt)/Mt,$t);)Mt*=10;return Mt}var Lt=Ct(Fe),Ft=Fe*Lt,Ht=Math.abs(St(Ft,Lt));return[Math.round(Ft/Ht),Math.round(Lt/Ht)]}var xt=["f","p","n","μ","m","","k","M","G","T"];function gt(Fe){return Fe==="SI"||Fe==="B"}function Dt(Fe){return Fe>14||Fe<-15}function He(Fe,Ee,St,Ct){var Lt=Fe<0,Ft=Ee._tickround,Ht=St||Ee.exponentformat||"B",$t=Ee._tickexponent,Mt=De.getTickFormat(Ee),en=Ee.separatethousands;if(Ct){var un={exponentformat:Ht,minexponent:Ee.minexponent,dtick:Ee.showexponent==="none"?Ee.dtick:v(Fe)&&Math.abs(Fe)||1,range:Ee.showexponent==="none"?Ee.range.map(Ee.r2d):[0,Fe||1]};ln(un),Ft=(Number(un._tickround)||0)+4,$t=un._tickexponent,Ee.hoverformat&&(Mt=Ee.hoverformat)}if(Mt)return Ee._numFormat(Mt)(Fe).replace(/-/g,ee);var Jt=Math.pow(10,-Ft)/2;if(Ht==="none"&&($t=0),Fe=Math.abs(Fe),Fe<Jt)Fe="0",Lt=!1;else{if(Fe+=Jt,$t&&(Fe*=Math.pow(10,-$t),Ft+=$t),Ft===0)Fe=String(Math.floor(Fe));else if(Ft<0){Fe=String(Math.round(Fe)),Fe=Fe.substr(0,Fe.length+Ft);for(var rn=Ft;rn<0;rn++)Fe+="0"}else{Fe=String(Fe);var Tn=Fe.indexOf(".")+1;Tn&&(Fe=Fe.substr(0,Tn+Ft).replace(/\.?0+$/,""))}Fe=x.numSeparate(Fe,Ee._separators,en)}if($t&&Ht!=="hide"){gt(Ht)&&Dt($t)&&(Ht="power");var On;$t<0?On=ee+-$t:Ht!=="power"?On="+"+$t:On=String($t),Ht==="e"||Ht==="E"?Fe+=Ht+On:Ht==="power"?Fe+="×10<sup>"+On+"</sup>":Ht==="B"&&$t===9?Fe+="B":gt(Ht)&&(Fe+=xt[$t/3+5])}return Lt?ee+Fe:Fe}De.getTickFormat=function(Fe){var Ee;function St(Mt){return typeof Mt!="string"?Mt:Number(Mt.replace("M",""))*W}function Ct(Mt,en){var un=["L","D"];if(typeof Mt==typeof en){if(typeof Mt=="number")return Mt-en;var Jt=un.indexOf(Mt.charAt(0)),rn=un.indexOf(en.charAt(0));return Jt===rn?Number(Mt.replace(/(L|D)/g,""))-Number(en.replace(/(L|D)/g,"")):Jt-rn}else return typeof Mt=="number"?1:-1}function Lt(Mt,en,un){var Jt=un||function(On){return On},rn=en[0],Tn=en[1];return(!rn&&typeof rn!="number"||Jt(rn)<=Jt(Mt))&&(!Tn&&typeof Tn!="number"||Jt(Tn)>=Jt(Mt))}function Ft(Mt,en){var un=en[0]===null,Jt=en[1]===null,rn=Ct(Mt,en[0])>=0,Tn=Ct(Mt,en[1])<=0;return(un||rn)&&(Jt||Tn)}var Ht,$t;if(Fe.tickformatstops&&Fe.tickformatstops.length>0)switch(Fe.type){case"date":case"linear":{for(Ee=0;Ee<Fe.tickformatstops.length;Ee++)if($t=Fe.tickformatstops[Ee],$t.enabled&&Lt(Fe.dtick,$t.dtickrange,St)){Ht=$t;break}break}case"log":{for(Ee=0;Ee<Fe.tickformatstops.length;Ee++)if($t=Fe.tickformatstops[Ee],$t.enabled&&Ft(Fe.dtick,$t.dtickrange)){Ht=$t;break}break}}return Ht?Ht.value:Fe.tickformat},De.getSubplots=function(Fe,Ee){var St=Fe._fullLayout._subplots,Ct=St.cartesian.concat(St.gl2d||[]),Lt=Ee?De.findSubplotsWithAxis(Ct,Ee):Ct;return Lt.sort(function(Ft,Ht){var $t=Ft.substr(1).split("y"),Mt=Ht.substr(1).split("y");return $t[0]===Mt[0]?+$t[1]-+Mt[1]:+$t[0]-+Mt[0]}),Lt},De.findSubplotsWithAxis=function(Fe,Ee){for(var St=new RegExp(Ee._id.charAt(0)==="x"?"^"+Ee._id+"y":Ee._id+"$"),Ct=[],Lt=0;Lt<Fe.length;Lt++){var Ft=Fe[Lt];St.test(Ft)&&Ct.push(Ft)}return Ct},De.makeClipPaths=function(Fe){var Ee=Fe._fullLayout;if(!Ee._hasOnlyLargeSploms){var St={_offset:0,_length:Ee.width,_id:""},Ct={_offset:0,_length:Ee.height,_id:""},Lt=De.list(Fe,"x",!0),Ft=De.list(Fe,"y",!0),Ht=[],$t,Mt;for($t=0;$t<Lt.length;$t++)for(Ht.push({x:Lt[$t],y:Ct}),Mt=0;Mt<Ft.length;Mt++)$t===0&&Ht.push({x:St,y:Ft[Mt]}),Ht.push({x:Lt[$t],y:Ft[Mt]});var en=Ee._clips.selectAll(".axesclip").data(Ht,function(un){return un.x._id+un.y._id});en.enter().append("clipPath").classed("axesclip",!0).attr("id",function(un){return"clip"+Ee._uid+un.x._id+un.y._id}).append("rect"),en.exit().remove(),en.each(function(un){p.select(this).select("rect").attr({x:un.x._offset||0,y:un.y._offset||0,width:un.x._length||1,height:un.y._length||1})})}},De.draw=function(Fe,Ee,St){var Ct=Fe._fullLayout;Ee==="redraw"&&Ct._paper.selectAll("g.subplot").each(function(Mt){var en=Mt[0],un=Ct._plots[en];if(un){var Jt=un.xaxis,rn=un.yaxis;un.xaxislayer.selectAll("."+Jt._id+"tick").remove(),un.yaxislayer.selectAll("."+rn._id+"tick").remove(),un.xaxislayer.selectAll("."+Jt._id+"tick2").remove(),un.yaxislayer.selectAll("."+rn._id+"tick2").remove(),un.xaxislayer.selectAll("."+Jt._id+"divider").remove(),un.yaxislayer.selectAll("."+rn._id+"divider").remove(),un.minorGridlayer&&un.minorGridlayer.selectAll("path").remove(),un.gridlayer&&un.gridlayer.selectAll("path").remove(),un.zerolinelayer&&un.zerolinelayer.selectAll("path").remove(),Ct._infolayer.select(".g-"+Jt._id+"title").remove(),Ct._infolayer.select(".g-"+rn._id+"title").remove()}});var Lt=!Ee||Ee==="redraw"?De.listIds(Fe):Ee,Ft=De.list(Fe),Ht=Ft.filter(function(Mt){return Mt.autoshift}).map(function(Mt){return Mt.overlaying});Lt.map(function(Mt){var en=De.getFromId(Fe,Mt);if(en.tickmode==="sync"&&en.overlaying){var un=Lt.findIndex(function(Jt){return Jt===en.overlaying});un>=0&&Lt.unshift(Lt.splice(un,1).shift())}});var $t={false:{left:0,right:0}};return x.syncOrAsync(Lt.map(function(Mt){return function(){if(Mt){var en=De.getFromId(Fe,Mt);St||(St={}),St.axShifts=$t,St.overlayingShiftedAx=Ht;var un=De.drawOne(Fe,en,St);return en._shiftPusher&&Oo(en,en._fullDepth||0,$t,!0),en._r=en.range.slice(),en._rl=x.simpleMap(en._r,en.r2l),un}}}))},De.drawOne=function(Fe,Ee,St){St=St||{};var Ct=St.axShifts||{},Lt=St.overlayingShiftedAx||[],Ft,Ht,$t;Ee.setScale();var Mt=Fe._fullLayout,en=Ee._id,un=en.charAt(0),Jt=De.counterLetter(en),rn=Mt._plots[Ee._mainSubplot];if(!rn)return;if(Ee._shiftPusher=Ee.autoshift||Lt.indexOf(Ee._id)!==-1||Lt.indexOf(Ee.overlaying)!==-1,Ee._shiftPusher&Ee.anchor==="free"){var Tn=Ee.linewidth/2||0;Ee.ticks==="inside"&&(Tn+=Ee.ticklen),Oo(Ee,Tn,Ct,!0),Oo(Ee,Ee.shift||0,Ct,!1)}(St.skipTitle!==!0||Ee._shift===void 0)&&(Ee._shift=wr(Ee,Ct));var On=rn[un+"axislayer"],pn=Ee._mainLinePosition,Jn=pn+=Ee._shift,Fn=Ee._mainMirrorPosition,zr=Ee._vals=De.calcTicks(Ee),dr=[Ee.mirror,Jn,Fn].join("_");for(Ft=0;Ft<zr.length;Ft++)zr[Ft].axInfo=dr;Ee._selections={},Ee._tickAngles&&(Ee._prevTickAngles=Ee._tickAngles),Ee._tickAngles={},Ee._depth=null;var Hr={};function ar(xi){var za=en+(xi||"tick");return Hr[za]||(Hr[za]=Pt(Ee,za)),Hr[za]}if(Ee.visible){var ur=De.makeTransTickFn(Ee),qr=De.makeTransTickLabelFn(Ee),to,ko,Es=Ee.ticks==="inside",So=Ee.ticks==="outside";if(Ee.tickson==="boundaries"){var Ko=dt(Ee,zr);ko=De.clipEnds(Ee,Ko),to=Es?ko:Ko}else ko=De.clipEnds(Ee,zr),to=Es&&Ee.ticklabelmode!=="period"?ko:zr;var ds=Ee._gridVals=ko,qs=Tt(Ee,zr);if(!Mt._hasOnlyLargeSploms){var es=Ee._subplotsWith,Xs={};for(Ft=0;Ft<es.length;Ft++){Ht=es[Ft],$t=Mt._plots[Ht];var Wa=$t[Jt+"axis"],vc=Wa._mainAxis._id;if(!Xs[vc]){Xs[vc]=1;var ii=un==="x"?"M0,"+Wa._offset+"v"+Wa._length:"M"+Wa._offset+",0h"+Wa._length;De.drawGrid(Fe,Ee,{vals:ds,counterAxis:Wa,layer:$t.gridlayer.select("."+en),minorLayer:$t.minorGridlayer.select("."+en),path:ii,transFn:ur}),De.drawZeroLine(Fe,Ee,{counterAxis:Wa,layer:$t.zerolinelayer,path:ii,transFn:ur})}}}var tu,Na=De.getTickSigns(Ee),Js=De.getTickSigns(Ee,"minor");if(Ee.ticks||Ee.minor&&Ee.minor.ticks){var ya=De.makeTickPath(Ee,Jn,Na[2]),ra=De.makeTickPath(Ee,Jn,Js[2],{minor:!0}),nu,Dr,yc,oa;if(Ee._anchorAxis&&Ee.mirror&&Ee.mirror!==!0?(nu=De.makeTickPath(Ee,Fn,Na[3]),Dr=De.makeTickPath(Ee,Fn,Js[3],{minor:!0}),yc=ya+nu,oa=ra+Dr):(nu="",Dr="",yc=ya,oa=ra),Ee.showdividers&&So&&Ee.tickson==="boundaries"){var Ri={};for(Ft=0;Ft<qs.length;Ft++)Ri[qs[Ft].x]=1;tu=function(xi){return Ri[xi.x]?nu:yc}}else tu=function(xi){return xi.minor?oa:yc}}if(De.drawTicks(Fe,Ee,{vals:to,layer:On,path:tu,transFn:ur}),Ee.mirror==="allticks"){var Md=Object.keys(Ee._linepositions||{});for(Ft=0;Ft<Md.length;Ft++){Ht=Md[Ft],$t=Mt._plots[Ht];var sa=Ee._linepositions[Ht]||[],bu=sa[0],Ed=sa[1],Ou=sa[2],Po=De.makeTickPath(Ee,bu,Ou?Na[0]:Js[0],{minor:Ou})+De.makeTickPath(Ee,Ed,Ou?Na[1]:Js[1],{minor:Ou});De.drawTicks(Fe,Ee,{vals:to,layer:$t[un+"axislayer"],path:Po,transFn:ur})}}var zi=[];if(zi.push(function(){return De.drawLabels(Fe,Ee,{vals:zr,layer:On,plotinfo:$t,transFn:qr,labelFns:De.makeLabelFns(Ee,Jn)})}),Ee.type==="multicategory"){var fr={x:2,y:10}[un];zi.push(function(){var xi={x:"height",y:"width"}[un],za=ar()[xi]+fr+(Ee._tickAngles[en+"tick"]?Ee.tickfont.size*ke:0);return De.drawLabels(Fe,Ee,{vals:mt(Ee,zr),layer:On,cls:en+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ur,labelFns:De.makeLabelFns(Ee,Jn+za*Na[4])})}),zi.push(function(){return Ee._depth=Na[4]*(ar("tick2")[Ee.side]-Jn),Rt(Fe,Ee,{vals:qs,layer:On,path:De.makeTickPath(Ee,Jn,Na[4],{len:Ee._depth}),transFn:ur})})}else Ee.title.hasOwnProperty("standoff")&&zi.push(function(){Ee._depth=Na[4]*(ar()[Ee.side]-Jn)});var Qa=b.getComponentMethod("rangeslider","isVisible")(Ee);return!St.skipTitle&&!(Qa&&Ee.side==="bottom")&&zi.push(function(){return Hn(Fe,Ee)}),zi.push(function(){var xi=Ee.side.charAt(0),za=$e[Ee.side].charAt(0),Fa=De.getPxPosition(Fe,Ee),yl=So?Ee.ticklen:0,Zo,li,Ka,Gf;(Ee.automargin||Qa||Ee._shiftPusher)&&(Ee.type==="multicategory"?Zo=ar("tick2"):(Zo=ar(),un==="x"&&xi==="b"&&(Ee._depth=Math.max(Zo.width>0?Zo.bottom-Fa:0,yl))));var Za=0,Vu=0;if(Ee._shiftPusher&&(Za=Math.max(yl,Zo.height>0?xi==="l"?Fa-Zo.left:Zo.right-Fa:0),Ee.title.text!==Mt._dfltTitle[un]&&(Vu=(Ee._titleStandoff||0)+(Ee._titleScoot||0),xi==="l"&&(Vu+=fn(Ee))),Ee._fullDepth=Math.max(Za,Vu)),Ee.automargin){li={x:0,y:0,r:0,l:0,t:0,b:0};var zu=[0,1],_d=typeof Ee._shift=="number"?Ee._shift:0;if(un==="x"){if(xi==="b"?li[xi]=Ee._depth:(li[xi]=Ee._depth=Math.max(Zo.width>0?Fa-Zo.top:0,yl),zu.reverse()),Zo.width>0){var Is=Zo.right-(Ee._offset+Ee._length);Is>0&&(li.xr=1,li.r=Is);var Rd=Ee._offset-Zo.left;Rd>0&&(li.xl=0,li.l=Rd)}}else if(xi==="l"?(Ee._depth=Math.max(Zo.height>0?Fa-Zo.left:0,yl),li[xi]=Ee._depth-_d):(Ee._depth=Math.max(Zo.height>0?Zo.right-Fa:0,yl),li[xi]=Ee._depth+_d,zu.reverse()),Zo.height>0){var Fc=Zo.bottom-(Ee._offset+Ee._length);Fc>0&&(li.yb=0,li.b=Fc);var Cl=Ee._offset-Zo.top;Cl>0&&(li.yt=1,li.t=Cl)}li[Jt]=Ee.anchor==="free"?Ee.position:Ee._anchorAxis.domain[zu[0]],Ee.title.text!==Mt._dfltTitle[un]&&(li[xi]+=fn(Ee)+(Ee.title.standoff||0)),Ee.mirror&&Ee.anchor!=="free"&&(Ka={x:0,y:0,r:0,l:0,t:0,b:0},Ka[za]=Ee.linewidth,Ee.mirror&&Ee.mirror!==!0&&(Ka[za]+=yl),Ee.mirror===!0||Ee.mirror==="ticks"?Ka[Jt]=Ee._anchorAxis.domain[zu[1]]:(Ee.mirror==="all"||Ee.mirror==="allticks")&&(Ka[Jt]=[Ee._counterDomainMin,Ee._counterDomainMax][zu[1]]))}Qa&&(Gf=b.getComponentMethod("rangeslider","autoMarginOpts")(Fe,Ee)),typeof Ee.automargin=="string"&&(at(li,Ee.automargin),at(Ka,Ee.automargin)),y.autoMargin(Fe,Wn(Ee),li),y.autoMargin(Fe,Br(Ee),Ka),y.autoMargin(Fe,kr(Ee),Gf)}),x.syncOrAsync(zi)}};function at(Fe,Ee){if(Fe){var St=Object.keys(G).reduce(function(Ct,Lt){return Ee.indexOf(Lt)!==-1&&G[Lt].forEach(function(Ft){Ct[Ft]=1}),Ct},{});Object.keys(Fe).forEach(function(Ct){St[Ct]||(Ct.length===1?Fe[Ct]=0:delete Fe[Ct])})}}function dt(Fe,Ee){var St=[],Ct,Lt=function(Ft,Ht){var $t=Ft.xbnd[Ht];$t!==null&&St.push(x.extendFlat({},Ft,{x:$t}))};if(Ee.length){for(Ct=0;Ct<Ee.length;Ct++)Lt(Ee[Ct],0);Lt(Ee[Ct-1],1)}return St}function mt(Fe,Ee){for(var St=[],Ct={},Lt=0;Lt<Ee.length;Lt++){var Ft=Ee[Lt];Ct[Ft.text2]?Ct[Ft.text2].push(Ft.x):Ct[Ft.text2]=[Ft.x]}for(var Ht in Ct)St.push(Yn(Fe,x.interp(Ct[Ht],.5),Ht));return St}function Tt(Fe,Ee){var St=[],Ct,Lt,Ft=Ee.length&&Ee[Ee.length-1].x<Ee[0].x,Ht=function(Mt,en){var un=Mt.xbnd[en];un!==null&&St.push(x.extendFlat({},Mt,{x:un}))};if(Fe.showdividers&&Ee.length){for(Ct=0;Ct<Ee.length;Ct++){var $t=Ee[Ct];$t.text2!==Lt&&Ht($t,Ft?1:0),Lt=$t.text2}Ht(Ee[Ct-1],Ft?0:1)}return St}function Pt(Fe,Ee){var St,Ct,Lt,Ft;return Fe._selections[Ee].size()?(St=1/0,Ct=-1/0,Lt=1/0,Ft=-1/0,Fe._selections[Ee].each(function(){var Ht=vr(this),$t=R.bBox(Ht.node().parentNode);St=Math.min(St,$t.top),Ct=Math.max(Ct,$t.bottom),Lt=Math.min(Lt,$t.left),Ft=Math.max(Ft,$t.right)})):(St=0,Ct=0,Lt=0,Ft=0),{top:St,bottom:Ct,left:Lt,right:Ft,height:Ct-St,width:Ft-Lt}}De.getTickSigns=function(Fe,Ee){var St=Fe._id.charAt(0),Ct={x:"top",y:"right"}[St],Lt=Fe.side===Ct?1:-1,Ft=[-1,1,Lt,-Lt],Ht=Ee?(Fe.minor||{}).ticks:Fe.ticks;return Ht!=="inside"==(St==="x")&&(Ft=Ft.map(function($t){return-$t})),Fe.side&&Ft.push({l:-1,t:-1,r:1,b:1}[Fe.side.charAt(0)]),Ft},De.makeTransTickFn=function(Fe){return Fe._id.charAt(0)==="x"?function(Ee){return k(Fe._offset+Fe.l2p(Ee.x),0)}:function(Ee){return k(0,Fe._offset+Fe.l2p(Ee.x))}},De.makeTransTickLabelFn=function(Fe){var Ee=nn(Fe),St=Ee[0],Ct=Ee[1];return Fe._id.charAt(0)==="x"?function(Lt){return k(St+Fe._offset+Fe.l2p(dn(Lt)),Ct)}:function(Lt){return k(Ct,St+Fe._offset+Fe.l2p(dn(Lt)))}};function dn(Fe){return Fe.periodX!==void 0?Fe.periodX:Fe.x}function nn(Fe){var Ee=Fe.ticklabelposition||"",St=function(Tn){return Ee.indexOf(Tn)!==-1},Ct=St("top"),Lt=St("left"),Ft=St("right"),Ht=St("bottom"),$t=St("inside"),Mt=Ht||Lt||Ct||Ft;if(!Mt&&!$t)return[0,0];var en=Fe.side,un=Mt?(Fe.tickwidth||0)/2:0,Jt=Ze,rn=Fe.tickfont?Fe.tickfont.size:12;return(Ht||Ct)&&(un+=rn*Le,Jt+=(Fe.linewidth||0)/2),(Lt||Ft)&&(un+=(Fe.linewidth||0)/2,Jt+=Ze),$t&&en==="top"&&(Jt-=rn*(1-Le)),(Lt||Ct)&&(un=-un),(en==="bottom"||en==="right")&&(Jt=-Jt),[Mt?un:0,$t?Jt:0]}De.makeTickPath=function(Fe,Ee,St,Ct){Ct||(Ct={});var Lt=Ct.minor;if(Lt&&!Fe.minor)return"";var Ft=Ct.len!==void 0?Ct.len:Lt?Fe.minor.ticklen:Fe.ticklen,Ht=Fe._id.charAt(0),$t=(Fe.linewidth||1)/2;return Ht==="x"?"M0,"+(Ee+$t*St)+"v"+Ft*St:"M"+(Ee+$t*St)+",0h"+Ft*St},De.makeLabelFns=function(Fe,Ee,St){var Ct=Fe.ticklabelposition||"",Lt=function(Ko){return Ct.indexOf(Ko)!==-1},Ft=Lt("top"),Ht=Lt("left"),$t=Lt("right"),Mt=Lt("bottom"),en=Mt||Ht||Ft||$t,un=Lt("inside"),Jt=Ct==="inside"&&Fe.ticks==="inside"||!un&&Fe.ticks==="outside"&&Fe.tickson!=="boundaries",rn=0,Tn=0,On=Jt?Fe.ticklen:0;if(un?On*=-1:en&&(On=0),Jt&&(rn+=On,St)){var pn=x.deg2rad(St);rn=On*Math.cos(pn)+1,Tn=On*Math.sin(pn)}Fe.showticklabels&&(Jt||Fe.showline)&&(rn+=.2*Fe.tickfont.size),rn+=(Fe.linewidth||1)/2*(un?-1:1);var Jn={labelStandoff:rn,labelShift:Tn},Fn,zr,dr,Hr,ar=0,ur=Fe.side,qr=Fe._id.charAt(0),to=Fe.tickangle,ko;if(qr==="x")ko=!un&&ur==="bottom"||un&&ur==="top",Hr=ko?1:-1,un&&(Hr*=-1),Fn=Tn*Hr,zr=Ee+rn*Hr,dr=ko?1:-.2,Math.abs(to)===90&&(un?dr+=xe:to===-90&&ur==="bottom"?dr=Le:to===90&&ur==="top"?dr=xe:dr=.5,ar=xe/2*(to/90)),Jn.xFn=function(Ko){return Ko.dx+Fn+ar*Ko.fontSize},Jn.yFn=function(Ko){return Ko.dy+zr+Ko.fontSize*dr},Jn.anchorFn=function(Ko,ds){if(en){if(Ht)return"end";if($t)return"start"}return!v(ds)||ds===0||ds===180?"middle":ds*Hr<0!==un?"end":"start"},Jn.heightFn=function(Ko,ds,qs){return ds<-60||ds>60?-.5*qs:Fe.side==="top"!==un?-qs:0};else if(qr==="y"){if(ko=!un&&ur==="left"||un&&ur==="right",Hr=ko?1:-1,un&&(Hr*=-1),Fn=rn,zr=Tn*Hr,dr=0,!un&&Math.abs(to)===90&&(to===-90&&ur==="left"||to===90&&ur==="right"?dr=Le:dr=.5),un){var Es=v(to)?+to:0;if(Es!==0){var So=x.deg2rad(Es);ar=Math.abs(Math.sin(So))*Le*Hr,dr=0}}Jn.xFn=function(Ko){return Ko.dx+Ee-(Fn+Ko.fontSize*dr)*Hr+ar*Ko.fontSize},Jn.yFn=function(Ko){return Ko.dy+zr+Ko.fontSize*xe},Jn.anchorFn=function(Ko,ds){return v(ds)&&Math.abs(ds)===90?"middle":ko?"end":"start"},Jn.heightFn=function(Ko,ds,qs){return Fe.side==="right"&&(ds*=-1),ds<-30?-qs:ds<30?-.5*qs:0}}return Jn};function Wt(Fe){return[Fe.text,Fe.x,Fe.axInfo,Fe.font,Fe.fontSize,Fe.fontColor].join("_")}De.drawTicks=function(Fe,Ee,St){St=St||{};var Ct=Ee._id+"tick",Lt=[].concat(Ee.minor&&Ee.minor.ticks?St.vals.filter(function(Ht){return Ht.minor&&!Ht.noTick}):[]).concat(Ee.ticks?St.vals.filter(function(Ht){return!Ht.minor&&!Ht.noTick}):[]),Ft=St.layer.selectAll("path."+Ct).data(Lt,Wt);Ft.exit().remove(),Ft.enter().append("path").classed(Ct,1).classed("ticks",1).classed("crisp",St.crisp!==!1).each(function(Ht){return T.stroke(p.select(this),Ht.minor?Ee.minor.tickcolor:Ee.tickcolor)}).style("stroke-width",function(Ht){return R.crispRound(Fe,Ht.minor?Ee.minor.tickwidth:Ee.tickwidth,1)+"px"}).attr("d",St.path).style("display",null),ao(Ee,[ne]),Ft.attr("transform",St.transFn)},De.drawGrid=function(Fe,Ee,St){if(St=St||{},Ee.tickmode!=="sync"){var Ct=Ee._id+"grid",Lt=Ee.minor&&Ee.minor.showgrid,Ft=Lt?St.vals.filter(function(Fn){return Fn.minor}):[],Ht=Ee.showgrid?St.vals.filter(function(Fn){return!Fn.minor}):[],$t=St.counterAxis;if($t&&De.shouldShowZeroLine(Fe,Ee,$t))for(var Mt=Ee.tickmode==="array",en=0;en<Ht.length;en++){var un=Ht[en].x;if(Mt?!un:Math.abs(un)<Ee.dtick/100)if(Ht=Ht.slice(0,en).concat(Ht.slice(en+1)),Mt)en--;else break}Ee._gw=R.crispRound(Fe,Ee.gridwidth,1);for(var Jt=Lt?R.crispRound(Fe,Ee.minor.gridwidth,1):0,rn=St.layer,Tn=St.minorLayer,On=1;On>=0;On--){var pn=On?rn:Tn;if(pn){var Jn=pn.selectAll("path."+Ct).data(On?Ht:Ft,Wt);Jn.exit().remove(),Jn.enter().append("path").classed(Ct,1).classed("crisp",St.crisp!==!1),Jn.attr("transform",St.transFn).attr("d",St.path).each(function(Fn){return T.stroke(p.select(this),Fn.minor?Ee.minor.gridcolor:Ee.gridcolor||"#ddd")}).style("stroke-dasharray",function(Fn){return R.dashStyle(Fn.minor?Ee.minor.griddash:Ee.griddash,Fn.minor?Ee.minor.gridwidth:Ee.gridwidth)}).style("stroke-width",function(Fn){return(Fn.minor?Jt:Ee._gw)+"px"}).style("display",null),typeof St.path=="function"&&Jn.attr("d",St.path)}}ao(Ee,[Be,ge])}},De.drawZeroLine=function(Fe,Ee,St){St=St||St;var Ct=Ee._id+"zl",Lt=De.shouldShowZeroLine(Fe,Ee,St.counterAxis),Ft=St.layer.selectAll("path."+Ct).data(Lt?[{x:0,id:Ee._id}]:[]);Ft.exit().remove(),Ft.enter().append("path").classed(Ct,1).classed("zl",1).classed("crisp",St.crisp!==!1).each(function(){St.layer.selectAll("path").sort(function(Ht,$t){return ye(Ht.id,$t.id)})}),Ft.attr("transform",St.transFn).attr("d",St.path).call(T.stroke,Ee.zerolinecolor||T.defaultLine).style("stroke-width",R.crispRound(Fe,Ee.zerolinewidth,Ee._gw||1)+"px").style("display",null),ao(Ee,[Te])},De.drawLabels=function(Fe,Ee,St){St=St||{};var Ct=Fe._fullLayout,Lt=Ee._id,Ft=Lt.charAt(0),Ht=St.cls||Lt+"tick",$t=St.vals.filter(function(Hr){return Hr.text}),Mt=St.labelFns,en=St.secondary?0:Ee.tickangle,un=(Ee._prevTickAngles||{})[Ht],Jt=St.layer.selectAll("g."+Ht).data(Ee.showticklabels?$t:[],Wt),rn=[];Jt.enter().append("g").classed(Ht,1).append("text").attr("text-anchor","middle").each(function(Hr){var ar=p.select(this),ur=Fe._promises.length;ar.call(C.positionText,Mt.xFn(Hr),Mt.yFn(Hr)).call(R.font,Hr.font,Hr.fontSize,Hr.fontColor).text(Hr.text).call(C.convertToTspans,Fe),Fe._promises[ur]?rn.push(Fe._promises.pop().then(function(){Tn(ar,en)})):Tn(ar,en)}),ao(Ee,[pe]),Jt.exit().remove(),St.repositionOnUpdate&&Jt.each(function(Hr){p.select(this).select("text").call(C.positionText,Mt.xFn(Hr),Mt.yFn(Hr))});function Tn(Hr,ar){Hr.each(function(ur){var qr=p.select(this),to=qr.select(".text-math-group"),ko=Mt.anchorFn(ur,ar),Es=St.transFn.call(qr.node(),ur)+(v(ar)&&+ar!=0?" rotate("+ar+","+Mt.xFn(ur)+","+(Mt.yFn(ur)-ur.fontSize/2)+")":""),So=C.lineCount(qr),Ko=ke*ur.fontSize,ds=Mt.heightFn(ur,v(ar)?+ar:0,(So-1)*Ko);if(ds&&(Es+=k(0,ds)),to.empty()){var qs=qr.select("text");qs.attr({transform:Es,"text-anchor":ko}),qs.style("opacity",1),Ee._adjustTickLabelsOverflow&&Ee._adjustTickLabelsOverflow()}else{var es=R.bBox(to.node()).width,Xs=es*{end:-.5,start:.5}[ko];to.attr("transform",Es+k(Xs,0))}})}Ee._adjustTickLabelsOverflow=function(){var Hr=Ee.ticklabeloverflow;if(!(!Hr||Hr==="allow")){var ar=Hr.indexOf("hide")!==-1,ur=Ee._id.charAt(0)==="x",qr=0,to=ur?Fe._fullLayout.width:Fe._fullLayout.height;if(Hr.indexOf("domain")!==-1){var ko=x.simpleMap(Ee.range,Ee.r2l);qr=Ee.l2p(ko[0])+Ee._offset,to=Ee.l2p(ko[1])+Ee._offset}var Es=Math.min(qr,to),So=Math.max(qr,to),Ko=Ee.side,ds=1/0,qs=-1/0;Jt.each(function(vc){var ii=p.select(this),tu=ii.select(".text-math-group");if(tu.empty()){var Na=R.bBox(ii.node()),Js=0;ur?(Na.right>So||Na.left<Es)&&(Js=1):(Na.bottom>So||Na.top+(Ee.tickangle?0:vc.fontSize/4)<Es)&&(Js=1);var ya=ii.select("text");Js?ar&&ya.style("opacity",0):(ya.style("opacity",1),Ko==="bottom"||Ko==="right"?ds=Math.min(ds,ur?Na.top:Na.left):ds=-1/0,Ko==="top"||Ko==="left"?qs=Math.max(qs,ur?Na.bottom:Na.right):qs=1/0)}});for(var es in Ct._plots){var Xs=Ct._plots[es];if(!(Ee._id!==Xs.xaxis._id&&Ee._id!==Xs.yaxis._id)){var Wa=ur?Xs.yaxis:Xs.xaxis;Wa&&(Wa["_visibleLabelMin_"+Ee._id]=ds,Wa["_visibleLabelMax_"+Ee._id]=qs)}}}},Ee._hideCounterAxisInsideTickLabels=function(Hr){var ar=Ee._id.charAt(0)==="x",ur=[];for(var qr in Ct._plots){var to=Ct._plots[qr];Ee._id!==to.xaxis._id&&Ee._id!==to.yaxis._id||ur.push(ar?to.yaxis:to.xaxis)}ur.forEach(function(ko,Es){ko&&Sr(ko)&&(Hr||[Te,ge,Be,ne,pe]).forEach(function(So){var Ko=So.K==="tick"&&So.L==="text"&&Ee.ticklabelmode==="period",ds=Ct._plots[Ee._mainSubplot],qs;So.K===Te.K?qs=ds.zerolinelayer.selectAll("."+Ee._id+"zl"):So.K===ge.K?qs=ds.minorGridlayer.selectAll("."+Ee._id):So.K===Be.K?qs=ds.gridlayer.selectAll("."+Ee._id):qs=ds[Ee._id.charAt(0)+"axislayer"],qs.each(function(){var es=p.select(this);So.L&&(es=es.selectAll(So.L)),es.each(function(Xs){var Wa=Ee.l2p(Ko?dn(Xs):Xs.x)+Ee._offset,vc=p.select(this);Wa<Ee["_visibleLabelMax_"+ko._id]&&Wa>Ee["_visibleLabelMin_"+ko._id]?vc.style("display","none"):So.K==="tick"&&!Es&&vc.style("display",null)})})})})},Tn(Jt,un+1?un:en);function On(){return rn.length&&Promise.all(rn)}var pn=null;function Jn(){if(Tn(Jt,en),$t.length&&Ft==="x"&&!v(en)&&(Ee.type!=="log"||String(Ee.dtick).charAt(0)!=="D")){pn=0;var Hr=0,ar=[],ur;if(Jt.each(function(Na){Hr=Math.max(Hr,Na.fontSize);var Js=Ee.l2p(Na.x),ya=vr(this),ra=R.bBox(ya.node());ar.push({top:0,bottom:10,height:10,left:Js-ra.width/2,right:Js+ra.width/2+2,width:ra.width+2})}),(Ee.tickson==="boundaries"||Ee.showdividers)&&!St.secondary){var qr=2;for(Ee.ticks&&(qr+=Ee.tickwidth/2),ur=0;ur<ar.length;ur++){var to=$t[ur].xbnd,ko=ar[ur];if(to[0]!==null&&ko.left-Ee.l2p(to[0])<qr||to[1]!==null&&Ee.l2p(to[1])-ko.right<qr){pn=90;break}}}else{var Es=$t.length,So=Math.abs(($t[Es-1].x-$t[0].x)*Ee._m)/(Es-1),Ko=Ee.ticklabelposition||"",ds=function(Na){return Ko.indexOf(Na)!==-1},qs=ds("top"),es=ds("left"),Xs=ds("right"),Wa=ds("bottom"),vc=Wa||es||qs||Xs,ii=vc?(Ee.tickwidth||0)+2*Ze:0,tu=So<Hr*2.5||Ee.type==="multicategory"||Ee._name==="realaxis";for(ur=0;ur<ar.length-1;ur++)if(x.bBoxIntersect(ar[ur],ar[ur+1],ii)){pn=tu?90:30;break}}pn&&Tn(Jt,pn)}}Ee._selections&&(Ee._selections[Ht]=Jt);var Fn=[On];Ee.automargin&&Ct._redrawFromAutoMarginCount&&un===90?(pn=90,Fn.push(function(){Tn(Jt,un)})):Fn.push(Jn),Ee._tickAngles&&Fn.push(function(){Ee._tickAngles[Ht]=pn===null?v(en)?en:0:pn});var zr=Ee._anchorAxis;zr&&zr.autorange&&Sr(Ee)&&!te(Ct,Ee._id)&&(Ct._insideTickLabelsAutorange||(Ct._insideTickLabelsAutorange={}),Ct._insideTickLabelsAutorange[zr._name+".autorange"]=zr.autorange,Fn.push(function(){Jt.each(function(ar,ur){var qr=vr(this),to=qr.select(".text-math-group");to.empty()&&(Ee._vals[ur].bb=R.bBox(qr.node()))})}));var dr=x.syncOrAsync(Fn);return dr&&dr.then&&Fe._promises.push(dr),dr};function Rt(Fe,Ee,St){var Ct=Ee._id+"divider",Lt=St.vals,Ft=St.layer.selectAll("path."+Ct).data(Lt,Wt);Ft.exit().remove(),Ft.enter().insert("path",":first-child").classed(Ct,1).classed("crisp",1).call(T.stroke,Ee.dividercolor).style("stroke-width",R.crispRound(Fe,Ee.dividerwidth,1)+"px"),Ft.attr("transform",St.transFn).attr("d",St.path)}De.getPxPosition=function(Fe,Ee){var St=Fe._fullLayout._size,Ct=Ee._id.charAt(0),Lt=Ee.side,Ft;if(Ee.anchor!=="free"?Ft=Ee._anchorAxis:Ct==="x"?Ft={_offset:St.t+(1-(Ee.position||0))*St.h,_length:0}:Ct==="y"&&(Ft={_offset:St.l+(Ee.position||0)*St.w+Ee._shift,_length:0}),Lt==="top"||Lt==="left")return Ft._offset;if(Lt==="bottom"||Lt==="right")return Ft._offset+Ft._length};function fn(Fe){var Ee=Fe.title.font.size,St=(Fe.title.text.match(C.BR_TAG_ALL)||[]).length;return Fe.title.hasOwnProperty("standoff")?St?Ee*(Le+St*ke):Ee*Le:St?Ee*(St+1)*ke:Ee}function Hn(Fe,Ee){var St=Fe._fullLayout,Ct=Ee._id,Lt=Ct.charAt(0),Ft=Ee.title.font.size,Ht;if(Ee.title.hasOwnProperty("standoff"))Ht=Ee._depth+Ee.title.standoff+fn(Ee);else{var $t=Sr(Ee);if(Ee.type==="multicategory")Ht=Ee._depth;else{var Mt=1.5*Ft;$t&&(Mt=.5*Ft,Ee.ticks==="outside"&&(Mt+=Ee.ticklen)),Ht=10+Mt+(Ee.linewidth?Ee.linewidth-1:0)}$t||(Lt==="x"?Ht+=Ee.side==="top"?Ft*(Ee.showticklabels?1:0):Ft*(Ee.showticklabels?1.5:.5):Ht+=Ee.side==="right"?Ft*(Ee.showticklabels?1:.5):Ft*(Ee.showticklabels?.5:0))}var en=De.getPxPosition(Fe,Ee),un,Jt,rn;Lt==="x"?(Jt=Ee._offset+Ee._length/2,rn=Ee.side==="top"?en-Ht:en+Ht):(rn=Ee._offset+Ee._length/2,Jt=Ee.side==="right"?en+Ht:en-Ht,un={rotate:"-90",offset:0});var Tn;if(Ee.type!=="multicategory"){var On=Ee._selections[Ee._id+"tick"];if(Tn={selection:On,side:Ee.side},On&&On.node()&&On.node().parentNode){var pn=R.getTranslate(On.node().parentNode);Tn.offsetLeft=pn.x,Tn.offsetTop=pn.y}Ee.title.hasOwnProperty("standoff")&&(Tn.pad=0)}return Ee._titleStandoff=Ht,w.draw(Fe,Ct+"title",{propContainer:Ee,propName:Ee._name+".title.text",placeholder:St._dfltTitle[Lt],avoid:Tn,transform:un,attributes:{x:Jt,y:rn,"text-anchor":"middle"}})}De.shouldShowZeroLine=function(Fe,Ee,St){var Ct=x.simpleMap(Ee.range,Ee.r2l);return Ct[0]*Ct[1]<=0&&Ee.zeroline&&(Ee.type==="linear"||Ee.type==="-")&&!(Ee.rangebreaks&&Ee.maskBreaks(0)===be)&&(nr(Ee,0)||!Er(Fe,Ee,St,Ct)||zt(Fe,Ee))},De.clipEnds=function(Fe,Ee){return Ee.filter(function(St){return nr(Fe,St.x)})};function nr(Fe,Ee){var St=Fe.l2p(Ee);return St>1&&St<Fe._length-1}function Er(Fe,Ee,St,Ct){var Lt=St._mainAxis;if(!Lt)return;var Ft=Fe._fullLayout,Ht=Ee._id.charAt(0),$t=De.counterLetter(Ee._id),Mt=Ee._offset+(Math.abs(Ct[0])<Math.abs(Ct[1])==(Ht==="x")?0:Ee._length);function en(On){if(!On.showline||!On.linewidth)return!1;var pn=Math.max((On.linewidth+Ee.zerolinewidth)/2,1);function Jn(dr){return typeof dr=="number"&&Math.abs(dr-Mt)<pn}if(Jn(On._mainLinePosition)||Jn(On._mainMirrorPosition))return!0;var Fn=On._linepositions||{};for(var zr in Fn)if(Jn(Fn[zr][0])||Jn(Fn[zr][1]))return!0}var un=Ft._plots[St._mainSubplot];if(!(un.mainplotinfo||un).overlays.length)return en(St);for(var Jt=De.list(Fe,$t),rn=0;rn<Jt.length;rn++){var Tn=Jt[rn];if(Tn._mainAxis===Lt&&en(Tn))return!0}}function zt(Fe,Ee){for(var St=Fe._fullData,Ct=Ee._mainSubplot,Lt=Ee._id.charAt(0),Ft=0;Ft<St.length;Ft++){var Ht=St[Ft];if(Ht.visible===!0&&Ht.xaxis+Ht.yaxis===Ct&&(b.traceIs(Ht,"bar-like")&&Ht.orientation==={x:"h",y:"v"}[Lt]||Ht.fill&&Ht.fill.charAt(Ht.fill.length-1)===Lt))return!0}return!1}function vr(Fe){var Ee=p.select(Fe),St=Ee.select(".text-math-group");return St.empty()?Ee.select("text"):St}De.allowAutoMargin=function(Fe){for(var Ee=De.list(Fe,"",!0),St=0;St<Ee.length;St++){var Ct=Ee[St];Ct.automargin&&(y.allowAutoMargin(Fe,Wn(Ct)),Ct.mirror&&y.allowAutoMargin(Fe,Br(Ct))),b.getComponentMethod("rangeslider","isVisible")(Ct)&&y.allowAutoMargin(Fe,kr(Ct))}};function Wn(Fe){return Fe._id+".automargin"}function Br(Fe){return Wn(Fe)+".mirror"}function kr(Fe){return Fe._id+".rangeslider"}De.swap=function(Fe,Ee){for(var St=or(Fe,Ee),Ct=0;Ct<St.length;Ct++)_r(Fe,St[Ct].x,St[Ct].y)};function or(Fe,Ee){var St=[],Ct,Lt;for(Ct=0;Ct<Ee.length;Ct++){var Ft=[],Ht=Fe._fullData[Ee[Ct]].xaxis,$t=Fe._fullData[Ee[Ct]].yaxis;if(!(!Ht||!$t)){for(Lt=0;Lt<St.length;Lt++)(St[Lt].x.indexOf(Ht)!==-1||St[Lt].y.indexOf($t)!==-1)&&Ft.push(Lt);if(!Ft.length){St.push({x:[Ht],y:[$t]});continue}var Mt=St[Ft[0]],en;if(Ft.length>1)for(Lt=1;Lt<Ft.length;Lt++)en=St[Ft[Lt]],jr(Mt.x,en.x),jr(Mt.y,en.y);jr(Mt.x,[Ht]),jr(Mt.y,[$t])}}return St}function jr(Fe,Ee){for(var St=0;St<Ee.length;St++)Fe.indexOf(Ee[St])===-1&&Fe.push(Ee[St])}function _r(Fe,Ee,St){var Ct=[],Lt=[],Ft=Fe.layout,Ht,$t;for(Ht=0;Ht<Ee.length;Ht++)Ct.push(De.getFromId(Fe,Ee[Ht]));for(Ht=0;Ht<St.length;Ht++)Lt.push(De.getFromId(Fe,St[Ht]));var Mt=Object.keys(M),en=["anchor","domain","overlaying","position","side","tickangle","editType"],un=["linear","log"];for(Ht=0;Ht<Mt.length;Ht++){var Jt=Mt[Ht],rn=Ct[0][Jt],Tn=Lt[0][Jt],On=!0,pn=!1,Jn=!1;if(!(Jt.charAt(0)==="_"||typeof rn=="function"||en.indexOf(Jt)!==-1)){for($t=1;$t<Ct.length&&On;$t++){var Fn=Ct[$t][Jt];Jt==="type"&&un.indexOf(rn)!==-1&&un.indexOf(Fn)!==-1&&rn!==Fn?pn=!0:Fn!==rn&&(On=!1)}for($t=1;$t<Lt.length&&On;$t++){var zr=Lt[$t][Jt];Jt==="type"&&un.indexOf(Tn)!==-1&&un.indexOf(zr)!==-1&&Tn!==zr?Jn=!0:Lt[$t][Jt]!==Tn&&(On=!1)}On&&(pn&&(Ft[Ct[0]._name].type="linear"),Jn&&(Ft[Lt[0]._name].type="linear"),Rn(Ft,Jt,Ct,Lt,Fe._fullLayout._dfltTitle))}}for(Ht=0;Ht<Fe._fullLayout.annotations.length;Ht++){var dr=Fe._fullLayout.annotations[Ht];Ee.indexOf(dr.xref)!==-1&&St.indexOf(dr.yref)!==-1&&x.swapAttrs(Ft.annotations[Ht],["?"])}}function Rn(Fe,Ee,St,Ct,Lt){var Ft=x.nestedProperty,Ht=Ft(Fe[St[0]._name],Ee).get(),$t=Ft(Fe[Ct[0]._name],Ee).get(),Mt;for(Ee==="title"&&(Ht&&Ht.text===Lt.x&&(Ht.text=Lt.y),$t&&$t.text===Lt.y&&($t.text=Lt.x)),Mt=0;Mt<St.length;Mt++)Ft(Fe,St[Mt]._name+"."+Ee).set($t);for(Mt=0;Mt<Ct.length;Mt++)Ft(Fe,Ct[Mt]._name+"."+Ee).set(Ht)}function xr(Fe){return Fe._id==="angularaxis"}function sr(Fe,Ee){for(var St=Ee._rangebreaks.length,Ct=0;Ct<St;Ct++){var Lt=Ee._rangebreaks[Ct];if(Fe>=Lt.min&&Fe<Lt.max)return Lt.max}return Fe}function Sr(Fe){return(Fe.ticklabelposition||"").indexOf("inside")!==-1}function ao(Fe,Ee){Sr(Fe._anchorAxis||{})&&Fe._hideCounterAxisInsideTickLabels&&Fe._hideCounterAxisInsideTickLabels(Ee)}function Oo(Fe,Ee,St,Ct){var Lt=Fe.anchor!=="free"&&(Fe.overlaying===void 0||Fe.overlaying===!1)?Fe._id:Fe.overlaying,Ft;Ct?Ft=Fe.side==="right"?Ee:-Ee:Ft=Ee,Lt in St||(St[Lt]={}),Fe.side in St[Lt]||(St[Lt][Fe.side]=0),St[Lt][Fe.side]+=Ft}function wr(Fe,Ee){return Fe.autoshift?Ee[Fe.overlaying][Fe.side]:Fe.shift||0}},4322:function(f,h,u){var p=u(2770),v=u(1828),y=u(606).BADNUM,b=v.isArrayOrTypedArray,x=v.isDateTime,k=v.cleanNumber,C=Math.round;f.exports=function(F,z,U){var Q=F,B=U.noMultiCategory;if(b(Q)&&!Q.length)return"-";if(!B&&V(Q))return"multicategory";if(B&&Array.isArray(Q[0])){for(var E=[],W=0;W<Q.length;W++)if(b(Q[W]))for(var Y=0;Y<Q[W].length;Y++)E.push(Q[W][Y]);Q=E}if(R(Q,z))return"date";var ie=U.autotypenumbers!=="strict";return I(Q,ie)?"category":T(Q,ie)?"linear":"-"};function w(N,F){return F?p(N):typeof N=="number"}function T(N,F){for(var z=N.length,U=0;U<z;U++)if(w(N[U],F))return!0;return!1}function R(N,F){for(var z=N.length,U=M(z),Q=0,B=0,E={},W=0;W<z;W+=U){var Y=C(W),ie=N[Y],L=String(ie);E[L]||(E[L]=1,x(ie,F)&&Q++,p(ie)&&B++)}return Q>B*2}function M(N){return Math.max(1,(N-1)/1e3)}function I(N,F){for(var z=N.length,U=M(z),Q=0,B=0,E={},W=0;W<z;W+=U){var Y=C(W),ie=N[Y],L=String(ie);if(!E[L]){E[L]=1;var me=typeof ie;me==="boolean"?B++:(F?k(ie)!==y:me==="number")?Q++:me==="string"&&B++}}return B>Q*2}function V(N){return b(N[0])&&b(N[1])}},1453:function(f,h,u){var p=u(2770),v=u(3972),y=u(1828),b=u(4467),x=u(5501),k=u(3838),C=u(6218),w=u(8701),T=u(6115),R=u(9426),M=u(5258),I=u(2128),V=u(3608),N=u(1994),F=u(5555).WEEKDAY_PATTERN,z=u(5555).HOUR_PATTERN;f.exports=function(W,Y,ie,L,me){var ae=L.letter,q=L.font||{},fe=L.splomStash||{},ee=ie("visible",!L.visibleDflt),be=Y._template||{},Te=Y.type||be.type||"-",Be;if(Te==="date"){var ge=v.getComponentMethod("calendars","handleDefaults");ge(W,Y,"calendar",L.calendar),L.noTicklabelmode||(Be=ie("ticklabelmode"))}var ne="";(!L.noTicklabelposition||Te==="multicategory")&&(ne=y.coerce(W,Y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Be==="period"?["outside","inside"]:ae==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),L.noTicklabeloverflow||ie("ticklabeloverflow",ne.indexOf("inside")!==-1?"hide past domain":Te==="category"||Te==="multicategory"?"allow":"hide past div"),N(Y,me),V(W,Y,ie,L),M(W,Y,ie,L),Te!=="category"&&!L.noHover&&ie("hoverformat");var pe=ie("color"),G=pe!==k.color.dflt?pe:q.color,Oe=fe.label||me._dfltTitle[ae];if(R(W,Y,ie,Te,L),!ee)return Y;ie("title.text",Oe),y.coerceFont(ie,"title.font",{family:q.family,size:y.bigFont(q.size),color:G}),C(W,Y,ie,Te);var xe=L.hasMinor;if(xe&&(b.newContainer(Y,"minor"),C(W,Y,ie,Te,{isMinor:!0})),T(W,Y,ie,Te,L),w(W,Y,ie,L),xe){var Le=L.isMinor;L.isMinor=!0,w(W,Y,ie,L),L.isMinor=Le}I(W,Y,ie,{dfltColor:pe,bgColor:L.bgColor,showGrid:L.showGrid,hasMinor:xe,attributes:k}),xe&&!Y.minor.ticks&&!Y.minor.showgrid&&delete Y.minor,(Y.showline||Y.ticks)&&ie("mirror");var ke=Te==="multicategory";if(!L.noTickson&&(Te==="category"||ke)&&(Y.ticks||Y.showgrid)){var $e;ke&&($e="boundaries");var Ze=ie("tickson",$e);Ze==="boundaries"&&delete Y.ticklabelposition}if(ke){var De=ie("showdividers");De&&(ie("dividercolor"),ie("dividerwidth"))}if(Te==="date")if(x(W,Y,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:U}),!Y.rangebreaks.length)delete Y.rangebreaks;else{for(var Ie=0;Ie<Y.rangebreaks.length;Ie++)if(Y.rangebreaks[Ie].pattern===F){Y._hasDayOfWeekBreaks=!0;break}if(N(Y,me),me._has("scattergl")||me._has("splom"))for(var re=0;re<L.data.length;re++){var ye=L.data[re];(ye.type==="scattergl"||ye.type==="splom")&&(ye.visible=!1,y.warn(ye.type+" traces do not work on axes with rangebreaks. Setting trace "+ye.index+" to `visible: false`."))}}return Y};function U(E,W,Y){function ie(Be,ge){return y.coerce(E,W,k.rangebreaks,Be,ge)}var L=ie("enabled");if(L){var me=ie("bounds");if(me&&me.length>=2){var ae="",q,fe;if(me.length===2){for(q=0;q<2;q++)if(fe=B(me[q]),fe){ae=F;break}}var ee=ie("pattern",ae);if(ee===F)for(q=0;q<2;q++)fe=B(me[q]),fe&&(W.bounds[q]=me[q]=fe-1);if(ee)for(q=0;q<2;q++)switch(fe=me[q],ee){case F:if(!p(fe)){W.enabled=!1;return}if(fe=+fe,fe!==Math.floor(fe)||fe<0||fe>=7){W.enabled=!1;return}W.bounds[q]=me[q]=fe;break;case z:if(!p(fe)){W.enabled=!1;return}if(fe=+fe,fe<0||fe>24){W.enabled=!1;return}W.bounds[q]=me[q]=fe;break}if(Y.autorange===!1){var be=Y.range;if(be[0]<be[1]){if(me[0]<be[0]&&me[1]>be[1]){W.enabled=!1;return}}else if(me[0]>be[0]&&me[1]<be[1]){W.enabled=!1;return}}}else{var Te=ie("values");if(Te&&Te.length)ie("dvalue");else{W.enabled=!1;return}}}}var Q={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function B(E){if(typeof E=="string")return Q[E.substr(0,3).toLowerCase()]}},2663:function(f,h,u){var p=u(1562),v=p.FORMAT_LINK,y=p.DATE_FORMAT_LINK;function b(C,w){return{valType:"string",dflt:"",editType:"none",description:(w?x:k)("hover text",C)+["By default the values are formatted using "+(w?"generic number format":"`"+C+"axis.hoverformat`")+"."].join(" ")}}function x(C,w){return["Sets the "+C+" formatting rule"+(w?"for `"+w+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+v+"."].join(" ")}function k(C,w){return x(C,w)+[" And for dates see: "+y+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}f.exports={axisHoverFormat:b,descriptionOnlyNumbers:x,descriptionWithDates:k}},1675:function(f,h,u){var p=u(3972),v=u(5555);h.id2name=function(x){if(!(typeof x!="string"||!x.match(v.AX_ID_PATTERN))){var k=x.split(" ")[0].substr(1);return k==="1"&&(k=""),x.charAt(0)+"axis"+k}},h.name2id=function(x){if(x.match(v.AX_NAME_PATTERN)){var k=x.substr(5);return k==="1"&&(k=""),x.charAt(0)+k}},h.cleanId=function(x,k,C){var w=/( domain)$/.test(x);if(!(typeof x!="string"||!x.match(v.AX_ID_PATTERN))&&!(k&&x.charAt(0)!==k)&&!(w&&!C)){var T=x.split(" ")[0].substr(1).replace(/^0+/,"");return T==="1"&&(T=""),x.charAt(0)+T+(w&&C?" domain":"")}},h.list=function(b,x,k){var C=b._fullLayout;if(!C)return[];var w=h.listIds(b,x),T=new Array(w.length),R;for(R=0;R<w.length;R++){var M=w[R];T[R]=C[M.charAt(0)+"axis"+M.substr(1)]}if(!k){var I=C._subplots.gl3d||[];for(R=0;R<I.length;R++){var V=C[I[R]];x?T.push(V[x+"axis"]):T.push(V.xaxis,V.yaxis,V.zaxis)}}return T},h.listIds=function(b,x){var k=b._fullLayout;if(!k)return[];var C=k._subplots;return x?C[x+"axis"]:C.xaxis.concat(C.yaxis)},h.getFromId=function(b,x,k){var C=b._fullLayout;return x=x===void 0||typeof x!="string"?x:x.replace(" domain",""),k==="x"?x=x.replace(/y[0-9]*/,""):k==="y"&&(x=x.replace(/x[0-9]*/,"")),C[h.id2name(x)]},h.getFromTrace=function(b,x,k){var C=b._fullLayout,w=null;if(p.traceIs(x,"gl3d")){var T=x.scene;T.substr(0,5)==="scene"&&(w=C[T][k+"axis"])}else w=h.getFromId(b,x[k+"axis"]||k);return w},h.idSort=function(b,x){var k=b.charAt(0),C=x.charAt(0);return k!==C?k>C?1:-1:+(b.substr(1)||1)-+(x.substr(1)||1)},h.ref2id=function(b){return/^[xyz]/.test(b)?b.split(" ")[0]:!1};function y(b,x){if(x&&x.length){for(var k=0;k<x.length;k++)if(x[k][b])return!0}return!1}h.isLinked=function(b,x){return y(x,b._axisMatchGroups)||y(x,b._axisConstraintGroups)}},5258:function(f){function h(u,p){var v=p.dataAttr||u._id.charAt(0),y={},b,x,k;if(p.axData)b=p.axData;else for(b=[],x=0;x<p.data.length;x++){var C=p.data[x];C[v+"axis"]===u._id&&b.push(C)}for(x=0;x<b.length;x++){var w=b[x][v];for(k=0;k<w.length;k++){var T=w[k];T!=null&&(y[T]=1)}}return Object.keys(y)}f.exports=function(p,v,y,b){if(v.type==="category"){var x=p.categoryarray,k=Array.isArray(x)&&x.length>0,C;k&&(C="array");var w=y("categoryorder",C),T;w==="array"&&(T=y("categoryarray")),!k&&w==="array"&&(w=v.categoryorder="trace"),w==="trace"?v._initialCategories=[]:w==="array"?v._initialCategories=T.slice():(T=h(v,b).sort(),w==="category ascending"?v._initialCategories=T:w==="category descending"&&(v._initialCategories=T.reverse()))}}},6287:function(f,h,u){var p=u(2770),v=u(1828),y=u(606),b=y.ONEDAY,x=y.ONEWEEK;h.dtick=function(k,C){var w=C==="log",T=C==="date",R=C==="category",M=T?b:1;if(!k)return M;if(p(k))return k=Number(k),k<=0?M:R?Math.max(1,Math.round(k)):T?Math.max(.1,k):k;if(typeof k!="string"||!(T||w))return M;var I=k.charAt(0),V=k.substr(1);return V=p(V)?Number(V):0,V<=0||!(T&&I==="M"&&V===Math.round(V)||w&&I==="L"||w&&I==="D"&&(V===1||V===2))?M:k},h.tick0=function(k,C,w,T){if(C==="date")return v.cleanDate(k,v.dateTick0(w,T%x===0?1:0));if(!(T==="D1"||T==="D2"))return p(k)?Number(k):0}},5555:function(f,h,u){var p=u(587).counter;f.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(f,h,u){var p=u(1828),v=u(1739),y=u(1675).id2name,b=u(3838),x=u(2449),k=u(1994),C=u(606).ALMOST_EQUAL,w=u(8783).FROM_BL;h.handleDefaults=function(z,U,Q){var B=Q.axIds,E=Q.axHasImage,W=U._axisConstraintGroups=[],Y=U._axisMatchGroups=[],ie,L,me,ae,q,fe,ee,be;for(ie=0;ie<B.length;ie++)ae=y(B[ie]),q=z[ae],fe=U[ae],T(q,fe,{axIds:B,layoutOut:U,hasImage:E[ae]});function Te(ke,$e){for(ie=0;ie<ke.length;ie++){L=ke[ie];for(me in L)U[y(me)][$e]=L}}for(Te(Y,"_matchGroup"),ie=0;ie<W.length;ie++){L=W[ie];for(me in L)if(fe=U[y(me)],fe.fixedrange){for(var Be in L){var ge=y(Be);(z[ge]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+ge+" but was overridden because another axis in its constraint group has fixedrange true"),U[ge].fixedrange=!0}break}}for(ie=0;ie<W.length;){L=W[ie];for(me in L){fe=U[y(me)],fe._matchGroup&&Object.keys(fe._matchGroup).length===Object.keys(L).length&&(W.splice(ie,1),ie--);break}ie++}Te(W,"_constraintGroup");var ne=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],pe=!1,G=!1;function Oe(){be=fe[ee],ee==="rangebreaks"&&(G=fe._hasDayOfWeekBreaks)}for(ie=0;ie<Y.length;ie++){L=Y[ie];for(var xe=0;xe<ne.length;xe++){ee=ne[xe],be=null;var Le;for(me in L)if(ae=y(me),q=z[ae],fe=U[ae],ee in fe){if(!fe.matches&&(Le=fe,ee in q)){Oe();break}be===null&&ee in q&&Oe()}if(ee==="range"&&be&&q.range&&q.range.length===2&&q.range[0]!==null&&q.range[1]!==null&&(pe=!0),ee==="autorange"&&be===null&&pe&&(be=!1),be===null&&ee in Le&&(be=Le[ee]),be!==null)for(me in L)fe=U[y(me)],fe[ee]=ee==="range"?be.slice():be,ee==="rangebreaks"&&(fe._hasDayOfWeekBreaks=G,k(fe,U))}}};function T(z,U,Q){var B=Q.axIds,E=Q.layoutOut,W=Q.hasImage,Y=E._axisConstraintGroups,ie=E._axisMatchGroups,L=U._id,me=L.charAt(0),ae=((E._splomAxes||{})[me]||{})[L]||{},q=U._id,fe=q.charAt(0)==="x";U._matchGroup=null,U._constraintGroup=null;function ee(Ie,re){return p.coerce(z,U,b,Ie,re)}ee("constrain",W?"domain":"range"),p.coerce(z,U,{constraintoward:{valType:"enumerated",values:fe?["left","center","right"]:["bottom","middle","top"],dflt:fe?"center":"middle"}},"constraintoward");var be=U.type,Te,Be,ge=[];for(Te=0;Te<B.length;Te++)if(Be=B[Te],Be!==q){var ne=E[y(Be)];ne.type===be&&ge.push(Be)}var pe=M(Y,q);if(pe){var G=[];for(Te=0;Te<ge.length;Te++)Be=ge[Te],pe[Be]||G.push(Be);ge=G}var Oe=ge.length,xe,Le;Oe&&(z.matches||ae.matches)&&(xe=p.coerce(z,U,{matches:{valType:"enumerated",values:ge,dflt:ge.indexOf(ae.matches)!==-1?ae.matches:void 0}},"matches"));var ke=W&&!fe?U.anchor:void 0;if(Oe&&!xe&&(z.scaleanchor||ke)&&(Le=p.coerce(z,U,{scaleanchor:{valType:"enumerated",values:ge.concat([!1])}},"scaleanchor",ke)),xe){U._matchGroup=I(ie,q,xe,1);var $e=E[y(xe)],Ze=R(E,U)/R(E,$e);fe!==(xe.charAt(0)==="x")&&(Ze=(fe?"x":"y")+Ze),I(Y,q,xe,Ze)}else z.matches&&B.indexOf(z.matches)!==-1&&p.warn("ignored "+U._name+'.matches: "'+z.matches+'" to avoid an infinite loop');if(Le){var De=ee("scaleratio");De||(De=U.scaleratio=1),I(Y,q,Le,De)}else z.scaleanchor&&B.indexOf(z.scaleanchor)!==-1&&p.warn("ignored "+U._name+'.scaleanchor: "'+z.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function R(z,U){var Q=U.domain;return Q||(Q=z[y(U.overlaying)].domain),Q[1]-Q[0]}function M(z,U){for(var Q=0;Q<z.length;Q++)if(z[Q][U])return z[Q];return null}function I(z,U,Q,B){var E,W,Y,ie,L,me=M(z,U);me===null?(me={},me[U]=1,L=z.length,z.push(me)):L=z.indexOf(me);var ae=Object.keys(me);for(E=0;E<z.length;E++)if(Y=z[E],E!==L&&Y[Q]){var q=Y[Q];for(W=0;W<ae.length;W++)ie=ae[W],Y[ie]=V(q,V(B,me[ie]));z.splice(L,1);return}if(B!==1)for(W=0;W<ae.length;W++){var fe=ae[W];me[fe]=V(B,me[fe])}me[Q]=1}function V(z,U){var Q="",B="",E,W;typeof z=="string"&&(Q=z.match(/^[xy]*/)[0],E=Q.length,z=+z.substr(E)),typeof U=="string"&&(B=U.match(/^[xy]*/)[0],W=B.length,U=+U.substr(W));var Y=z*U;return!E&&!W?Y:!E||!W||Q.charAt(0)===B.charAt(0)?Q+B+z*U:E===W?Y:(E>W?Q.substr(W):B.substr(E))+Y}function N(z,U){for(var Q=U._size,B=Q.h/Q.w,E={},W=Object.keys(z),Y=0;Y<W.length;Y++){var ie=W[Y],L=z[ie];if(typeof L=="string"){var me=L.match(/^[xy]*/)[0],ae=me.length;L=+L.substr(ae);for(var q=me.charAt(0)==="y"?B:1/B,fe=0;fe<ae;fe++)L*=q}E[ie]=L}return E}h.enforce=function(U){var Q=U._fullLayout,B=Q._axisConstraintGroups||[],E,W,Y,ie,L,me,ae,q;for(E=0;E<B.length;E++){Y=N(B[E],Q);var fe=Object.keys(Y),ee=1/0,be=0,Te=1/0,Be={},ge={},ne=!1;for(W=0;W<fe.length;W++)ie=fe[W],ge[ie]=L=Q[y(ie)],L._inputDomain?L.domain=L._inputDomain.slice():L._inputDomain=L.domain.slice(),L._inputRange||(L._inputRange=L.range.slice()),L.setScale(),Be[ie]=me=Math.abs(L._m)/Y[ie],ee=Math.min(ee,me),(L.constrain==="domain"||!L._constraintShrinkable)&&(Te=Math.min(Te,me)),delete L._constraintShrinkable,be=Math.max(be,me),L.constrain==="domain"&&(ne=!0);if(!(ee>C*be&&!ne)){for(W=0;W<fe.length;W++)if(ie=fe[W],me=Be[ie],L=ge[ie],ae=L.constrain,me!==Te||ae==="domain")if(q=me/Te,ae==="range")x(L,q);else{var pe=L._inputDomain,G=(L.domain[1]-L.domain[0])/(pe[1]-pe[0]),Oe=(L.r2l(L.range[1])-L.r2l(L.range[0]))/(L.r2l(L._inputRange[1])-L.r2l(L._inputRange[0]));if(q/=G,q*Oe<1){L.domain=L._input.domain=pe.slice(),x(L,q);continue}if(Oe<1&&(L.range=L._input.range=L._inputRange.slice(),q*=Oe),L.autorange){var xe=L.r2l(L.range[0]),Le=L.r2l(L.range[1]),ke=(xe+Le)/2,$e=ke,Ze=ke,De=Math.abs(Le-ke),Ie=ke-De*q*1.0001,re=ke+De*q*1.0001,ye=v.makePadFn(Q,L,0),te=v.makePadFn(Q,L,1);F(L,q);var se=Math.abs(L._m),ue=v.concatExtremes(U,L),oe=ue.min,Se=ue.max,le,Ce;for(Ce=0;Ce<oe.length;Ce++)le=oe[Ce].val-ye(oe[Ce])/se,le>Ie&&le<$e&&($e=le);for(Ce=0;Ce<Se.length;Ce++)le=Se[Ce].val+te(Se[Ce])/se,le<re&&le>Ze&&(Ze=le);var Qe=(Ze-$e)/(2*De);q/=Qe,$e=L.l2r($e),Ze=L.l2r(Ze),L.range=L._input.range=xe<Le?[$e,Ze]:[Ze,$e]}F(L,q)}}}},h.getAxisGroup=function(U,Q){for(var B=U._axisMatchGroups,E=0;E<B.length;E++){var W=B[E];if(W[Q])return"g"+E}return Q},h.clean=function(U,Q){if(Q._inputDomain){for(var B=!1,E=Q._id,W=U._fullLayout._axisConstraintGroups,Y=0;Y<W.length;Y++)if(W[Y][E]){B=!0;break}(!B||Q.constrain!=="domain")&&(Q._input.domain=Q.domain=Q._inputDomain,delete Q._inputDomain)}};function F(z,U){var Q=z._inputDomain,B=w[z.constraintoward],E=Q[0]+(Q[1]-Q[0])*B;z.domain=z._input.domain=[E+(Q[0]-E)/U,E+(Q[1]-E)/U],z.setScale()}},9323:function(f,h,u){var p=u(9898),v=u(1828),y=v.numberFormat,b=u(4267),x=u(8520),k=u(3972),C=v.strTranslate,w=u(3893),T=u(7901),R=u(1424),M=u(211),I=u(9298),V=u(6964),N=u(8569),F=u(4505),z=F.selectingOrDrawing,U=F.freeMode,Q=u(8783).FROM_TL,B=u(3306),E=u(1549).redrawReglTraces,W=u(4875),Y=u(1675).getFromId,ie=u(7322).prepSelect,L=u(7322).clearOutline,me=u(7322).selectOnClick,ae=u(2449),q=u(5555),fe=q.MINDRAG,ee=q.MINZOOM,be=!0;function Te(le,Ce,Qe,ze,Xe,ct,pt,Ye){var je=le._fullLayout._zoomlayer,et=pt+Ye==="nsew",yt=(pt+Ye).length===1,ft,tt,wt,Xt,Gt,Nt,Bt,vn,En,ln,Yn,an,wn,Xn,Un,Sn,it,ut,xt,gt,Dt,He,at;Qe+=Ce.yaxis._shift;function dt(){if(ft=Ce.xaxis,tt=Ce.yaxis,En=ft._length,ln=tt._length,Bt=ft._offset,vn=tt._offset,wt={},wt[ft._id]=ft,Xt={},Xt[tt._id]=tt,pt&&Ye)for(var $t=Ce.overlays,Mt=0;Mt<$t.length;Mt++){var en=$t[Mt].xaxis;wt[en._id]=en;var un=$t[Mt].yaxis;Xt[un._id]=un}Gt=Se(wt),Nt=Se(Xt),wn=ne(Gt,Ye),Xn=ne(Nt,pt),Un=!Xn&&!wn,an=ue(le,le._fullLayout._axisMatchGroups,wt,Xt),Yn=ue(le,le._fullLayout._axisConstraintGroups,wt,Xt,an);var Jt=Yn.isSubplotConstrained||an.isSubplotConstrained;Sn=Ye||Jt,it=pt||Jt;var rn=le._fullLayout;ut=rn._has("scattergl"),xt=rn._has("splom"),gt=rn._has("svg")}dt();var mt=Le(Xn+wn,le._fullLayout.dragmode,et),Tt=ge(Ce,pt+Ye+"drag",mt,Qe,ze,Xe,ct);if(Un&&!et)return Tt.onmousedown=null,Tt.style.pointerEvents="none",Tt;var Pt={element:Tt,gd:le,plotinfo:Ce};Pt.prepFn=function($t,Mt,en){var un=Pt.dragmode,Jt=le._fullLayout.dragmode;Jt!==un&&(Pt.dragmode=Jt),dt(),He=le._fullLayout._invScaleX,at=le._fullLayout._invScaleY,Un||(et?$t.shiftKey?Jt==="pan"?Jt="zoom":z(Jt)||(Jt="pan"):$t.ctrlKey&&(Jt="pan"):Jt="pan"),U(Jt)?Pt.minDrag=1:Pt.minDrag=void 0,z(Jt)?(Pt.xaxes=Gt,Pt.yaxes=Nt,ie($t,Mt,en,Pt,Jt)):(Pt.clickFn=nn,z(un)&&dn(),Un||(Jt==="zoom"?(Pt.moveFn=or,Pt.doneFn=_r,Pt.minDrag=1,kr($t,Mt,en)):Jt==="pan"&&(Pt.moveFn=Oo,Pt.doneFn=St))),le._fullLayout._redrag=function(){var rn=le._dragdata;if(rn&&rn.element===Tt){var Tn=le._fullLayout.dragmode;z(Tn)||(dt(),Ct([0,0,En,ln]),Pt.moveFn(rn.dx,rn.dy))}}};function dn(){Pt.plotinfo.selection=!1,L(le)}function nn($t,Mt){var en=Pt.gd;if(en._fullLayout._activeShapeIndex>=0){en._fullLayout._deactivateShape(en);return}var un=en._fullLayout.clickmode;if(Ie(en),$t===2&&!yt&&Ee(),et)un.indexOf("select")>-1&&me(Mt,en,Gt,Nt,Ce.id,Pt),un.indexOf("event")>-1&&M.click(en,Mt,Ce.id);else if($t===1&&yt){var Jt=pt?tt:ft,rn=pt==="s"||Ye==="w"?0:1,Tn=Jt._name+".range["+rn+"]",On=pe(Jt,rn),pn="left",Jn="middle";if(Jt.fixedrange)return;pt?(Jn=pt==="n"?"top":"bottom",Jt.side==="right"&&(pn="right")):Ye==="e"&&(pn="right"),en._context.showAxisRangeEntryBoxes&&p.select(Tt).call(w.makeEditable,{gd:en,immediate:!0,background:en._fullLayout.paper_bgcolor,text:String(On),fill:Jt.tickfont?Jt.tickfont.color:"#444",horizontalAlign:pn,verticalAlign:Jn}).on("edit",function(Fn){var zr=Jt.d2r(Fn);zr!==void 0&&k.call("_guiRelayout",en,Tn,zr)})}}N.init(Pt);var Wt,Rt,fn,Hn,nr,Er,zt,vr,Wn,Br;function kr($t,Mt,en){var un=Tt.getBoundingClientRect();Wt=Mt-un.left,Rt=en-un.top,le._fullLayout._calcInverseTransform(le);var Jt=v.apply3DTransform(le._fullLayout._invTransform)(Wt,Rt);Wt=Jt[0],Rt=Jt[1],fn={l:Wt,r:Wt,w:0,t:Rt,b:Rt,h:0},Hn=le._hmpixcount?le._hmlumcount/le._hmpixcount:b(le._fullLayout.plot_bgcolor).getLuminance(),nr="M0,0H"+En+"V"+ln+"H0V0",Er=!1,zt="xy",Br=!1,vr=ke(je,Hn,Bt,vn,nr),Wn=$e(je,Bt,vn)}function or($t,Mt){if(le._transitioningWithDuration)return!1;var en=Math.max(0,Math.min(En,He*$t+Wt)),un=Math.max(0,Math.min(ln,at*Mt+Rt)),Jt=Math.abs(en-Wt),rn=Math.abs(un-Rt);fn.l=Math.min(Wt,en),fn.r=Math.max(Wt,en),fn.t=Math.min(Rt,un),fn.b=Math.max(Rt,un);function Tn(){zt="",fn.r=fn.l,fn.t=fn.b,Wn.attr("d","M0,0Z")}if(Yn.isSubplotConstrained)Jt>ee||rn>ee?(zt="xy",Jt/En>rn/ln?(rn=Jt*ln/En,Rt>un?fn.t=Rt-rn:fn.b=Rt+rn):(Jt=rn*En/ln,Wt>en?fn.l=Wt-Jt:fn.r=Wt+Jt),Wn.attr("d",se(fn))):Tn();else if(an.isSubplotConstrained)if(Jt>ee||rn>ee){zt="xy";var On=Math.min(fn.l/En,(ln-fn.b)/ln),pn=Math.max(fn.r/En,(ln-fn.t)/ln);fn.l=On*En,fn.r=pn*En,fn.b=(1-On)*ln,fn.t=(1-pn)*ln,Wn.attr("d",se(fn))}else Tn();else!Xn||rn<Math.min(Math.max(Jt*.6,fe),ee)?Jt<fe||!wn?Tn():(fn.t=0,fn.b=ln,zt="x",Wn.attr("d",ye(fn,Rt))):!wn||Jt<Math.min(rn*.6,ee)?(fn.l=0,fn.r=En,zt="y",Wn.attr("d",te(fn,Wt))):(zt="xy",Wn.attr("d",se(fn)));fn.w=fn.r-fn.l,fn.h=fn.b-fn.t,zt&&(Br=!0),le._dragged=Br,Ze(vr,Wn,fn,nr,Er,Hn),jr(),le.emit("plotly_relayouting",Dt),Er=!0}function jr(){Dt={},(zt==="xy"||zt==="x")&&(G(Gt,fn.l/En,fn.r/En,Dt,Yn.xaxes),wr("x",Dt)),(zt==="xy"||zt==="y")&&(G(Nt,(ln-fn.b)/ln,(ln-fn.t)/ln,Dt,Yn.yaxes),wr("y",Dt))}function _r(){jr(),Ie(le),St(),re(le)}var Rn=[0,0,En,ln],xr=null,sr=q.REDRAWDELAY,Sr=Ce.mainplot?le._fullLayout._plots[Ce.mainplot]:Ce;function ao($t){if(!le._context._scrollZoom.cartesian&&!le._fullLayout._enablescrollzoom)return;if(dn(),le._transitioningWithDuration){$t.preventDefault(),$t.stopPropagation();return}dt(),clearTimeout(xr);var Mt=-$t.deltaY;if(isFinite(Mt)||(Mt=$t.wheelDelta/10),!isFinite(Mt)){v.log("Did not find wheel motion attributes: ",$t);return}var en=Math.exp(-Math.min(Math.max(Mt,-20),20)/200),un=Sr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Jt=($t.clientX-un.left)/un.width,rn=(un.bottom-$t.clientY)/un.height,Tn;function On(pn,Jn,Fn){if(pn.fixedrange)return;var zr=v.simpleMap(pn.range,pn.r2l),dr=zr[0]+(zr[1]-zr[0])*Jn;function Hr(ar){return pn.l2r(dr+(ar-dr)*Fn)}pn.range=zr.map(Hr)}if(Sn){for(Ye||(Jt=.5),Tn=0;Tn<Gt.length;Tn++)On(Gt[Tn],Jt,en);wr("x"),Rn[2]*=en,Rn[0]+=Rn[2]*Jt*(1/en-1)}if(it){for(pt||(rn=.5),Tn=0;Tn<Nt.length;Tn++)On(Nt[Tn],rn,en);wr("y"),Rn[3]*=en,Rn[1]+=Rn[3]*(1-rn)*(1/en-1)}Ct(Rn),Fe(),le.emit("plotly_relayouting",Dt),xr=setTimeout(function(){le._fullLayout&&(Rn=[0,0,En,ln],St())},sr),$t.preventDefault()}pt.length*Ye.length!==1&&oe(Tt,ao);function Oo($t,Mt){if($t=$t*He,Mt=Mt*at,le._transitioningWithDuration)return;if(le._fullLayout._replotting=!0,wn==="ew"||Xn==="ns"){var en=wn?-$t:0,un=Xn?-Mt:0;if(an.isSubplotConstrained){if(wn&&Xn){var Jt=($t/En-Mt/ln)/2;$t=Jt*En,Mt=-Jt*ln,en=-$t,un=-Mt}Xn?en=-un*En/ln:un=-en*ln/En}wn&&(Oe(Gt,$t),wr("x")),Xn&&(Oe(Nt,Mt),wr("y")),Ct([en,un,En,ln]),Fe(),le.emit("plotly_relayouting",Dt);return}function rn(Hr,ar,ur){for(var qr=1-ar,to,ko,Es=0;Es<Hr.length;Es++){var So=Hr[Es];if(!So.fixedrange){to=So,ko=So._rl[qr]+(So._rl[ar]-So._rl[qr])/xe(ur/So._length);var Ko=So.l2r(ko);Ko!==!1&&Ko!==void 0&&(So.range[ar]=Ko)}}return to._length*(to._rl[ar]-ko)/(to._rl[ar]-to._rl[qr])}var Tn=wn==="w"==(Xn==="n")?1:-1;if(wn&&Xn&&(Yn.isSubplotConstrained||an.isSubplotConstrained)){var On=($t/En+Tn*Mt/ln)/2;$t=On*En,Mt=Tn*On*ln}var pn,Jn;if(wn==="w"?$t=rn(Gt,0,$t):wn==="e"?$t=rn(Gt,1,-$t):wn||($t=0),Xn==="n"?Mt=rn(Nt,1,Mt):Xn==="s"?Mt=rn(Nt,0,-Mt):Xn||(Mt=0),pn=wn==="w"?$t:0,Jn=Xn==="n"?Mt:0,Yn.isSubplotConstrained&&!an.isSubplotConstrained||an.isSubplotConstrained&&wn&&Xn&&Tn>0){var Fn;if(an.isSubplotConstrained||!wn&&Xn.length===1){for(Fn=0;Fn<Gt.length;Fn++)Gt[Fn].range=Gt[Fn]._r.slice(),ae(Gt[Fn],1-Mt/ln);$t=Mt*En/ln,pn=$t/2}if(an.isSubplotConstrained||!Xn&&wn.length===1){for(Fn=0;Fn<Nt.length;Fn++)Nt[Fn].range=Nt[Fn]._r.slice(),ae(Nt[Fn],1-$t/En);Mt=$t*ln/En,Jn=Mt/2}}(!an.isSubplotConstrained||!Xn)&&wr("x"),(!an.isSubplotConstrained||!wn)&&wr("y");var zr=En-$t,dr=ln-Mt;an.isSubplotConstrained&&!(wn&&Xn)&&(wn?(Jn=pn?0:$t*ln/En,dr=zr*ln/En):(pn=Jn?0:Mt*En/ln,zr=dr*En/ln)),Ct([pn,Jn,zr,dr]),Fe(),le.emit("plotly_relayouting",Dt)}function wr($t,Mt){for(var en=an.isSubplotConstrained?{x:Nt,y:Gt}[$t]:an[$t+"axes"],un=an.isSubplotConstrained?{x:Gt,y:Nt}[$t]:[],Jt=0;Jt<en.length;Jt++){var rn=en[Jt],Tn=rn._id,On=an.xLinks[Tn]||an.yLinks[Tn],pn=un[0]||wt[On]||Xt[On];pn&&(Mt?(Mt[rn._name+".range[0]"]=Mt[pn._name+".range[0]"],Mt[rn._name+".range[1]"]=Mt[pn._name+".range[1]"]):rn.range=pn.range.slice())}}function Fe(){var $t=[],Mt;function en(Tn){for(Mt=0;Mt<Tn.length;Mt++)Tn[Mt].fixedrange||$t.push(Tn[Mt]._id)}function un(Tn,On){for(Mt=0;Mt<Tn.length;Mt++){var pn=Tn[Mt],Jn=pn[On];!pn.fixedrange&&Jn.tickmode==="sync"&&$t.push(Jn._id)}}for(Sn&&(en(Gt),en(Yn.xaxes),en(an.xaxes),un(Ce.overlays,"xaxis")),it&&(en(Nt),en(Yn.yaxes),en(an.yaxes),un(Ce.overlays,"yaxis")),Dt={},Mt=0;Mt<$t.length;Mt++){var Jt=$t[Mt],rn=Y(le,Jt);I.drawOne(le,rn,{skipTitle:!0}),Dt[rn._name+".range[0]"]=rn.range[0],Dt[rn._name+".range[1]"]=rn.range[1]}I.redrawComponents(le,$t)}function Ee(){if(!le._transitioningWithDuration){var $t=le._context.doubleClick,Mt=[];wn&&(Mt=Mt.concat(Gt)),Xn&&(Mt=Mt.concat(Nt)),an.xaxes&&(Mt=Mt.concat(an.xaxes)),an.yaxes&&(Mt=Mt.concat(an.yaxes));var en={},un,Jt;if($t==="reset+autosize")for($t="autosize",Jt=0;Jt<Mt.length;Jt++){un=Mt[Jt];var rn=un._rangeInitial0,Tn=un._rangeInitial1,On=rn!==void 0||Tn!==void 0;if(On&&(rn!==void 0&&rn!==un.range[0]||Tn!==void 0&&Tn!==un.range[1])||!On&&un.autorange!==!0){$t="reset";break}}if($t==="autosize")for(Jt=0;Jt<Mt.length;Jt++)un=Mt[Jt],un.fixedrange||(en[un._name+".autorange"]=!0);else if($t==="reset"){for((wn||Yn.isSubplotConstrained)&&(Mt=Mt.concat(Yn.xaxes)),Xn&&!Yn.isSubplotConstrained&&(Mt=Mt.concat(Yn.yaxes)),Yn.isSubplotConstrained&&(wn?Xn||(Mt=Mt.concat(Nt)):Mt=Mt.concat(Gt)),Jt=0;Jt<Mt.length;Jt++)if(un=Mt[Jt],!un.fixedrange){var pn=un._name,Jn=un._autorangeInitial;un._rangeInitial0===void 0&&un._rangeInitial1===void 0?en[pn+".autorange"]=!0:un._rangeInitial0===void 0?(en[pn+".autorange"]=Jn,en[pn+".range"]=[null,un._rangeInitial1]):un._rangeInitial1===void 0?(en[pn+".range"]=[un._rangeInitial0,null],en[pn+".autorange"]=Jn):en[pn+".range"]=[un._rangeInitial0,un._rangeInitial1]}}le.emit("plotly_doubleclick",null),k.call("_guiRelayout",le,en)}}function St(){Ct([0,0,En,ln]),v.syncOrAsync([W.previousPromises,function(){le._fullLayout._replotting=!1,k.call("_guiRelayout",le,Dt)}],le)}function Ct($t){var Mt=le._fullLayout,en=Mt._plots,un=Mt._subplots.cartesian,Jt,rn,Tn,On;if(xt&&k.subplotsRegistry.splom.drag(le),ut){for(Jt=0;Jt<un.length;Jt++)if(rn=en[un[Jt]],Tn=rn.xaxis,On=rn.yaxis,rn._scene){var pn=v.simpleMap(Tn.range,Tn.r2l),Jn=v.simpleMap(On.range,On.r2l);Tn.limitRange&&Tn.limitRange(),On.limitRange&&On.limitRange(),pn=Tn.range,Jn=On.range,rn._scene.update({range:[pn[0],Jn[0],pn[1],Jn[1]]})}}if((xt||ut)&&(B(le),E(le)),gt){var Fn=$t[2]/ft._length,zr=$t[3]/tt._length;for(Jt=0;Jt<un.length;Jt++){rn=en[un[Jt]],Tn=rn.xaxis,On=rn.yaxis;var dr=(Sn||an.isSubplotConstrained)&&!Tn.fixedrange&&wt[Tn._id],Hr=(it||an.isSubplotConstrained)&&!On.fixedrange&&Xt[On._id],ar,ur,qr,to;if(dr?(ar=Fn,qr=Ye||an.isSubplotConstrained?$t[0]:Ht(Tn,ar)):an.xaHash[Tn._id]?(ar=Fn,qr=$t[0]*Tn._length/ft._length):an.yaHash[Tn._id]?(ar=zr,qr=Xn==="ns"?-$t[1]*Tn._length/tt._length:Ht(Tn,ar,{n:"top",s:"bottom"}[Xn])):(ar=Lt(Tn,Fn,zr),qr=Ft(Tn,ar)),ar>1&&(Tn.maxallowed!==void 0&&Sn===(Tn.range[0]<Tn.range[1]?"e":"w")||Tn.minallowed!==void 0&&Sn===(Tn.range[0]<Tn.range[1]?"w":"e"))&&(ar=1,qr=0),Hr?(ur=zr,to=pt||an.isSubplotConstrained?$t[1]:Ht(On,ur)):an.yaHash[On._id]?(ur=zr,to=$t[1]*On._length/tt._length):an.xaHash[On._id]?(ur=Fn,to=wn==="ew"?-$t[0]*On._length/ft._length:Ht(On,ur,{e:"right",w:"left"}[wn])):(ur=Lt(On,Fn,zr),to=Ft(On,ur)),ur>1&&(On.maxallowed!==void 0&&it===(On.range[0]<On.range[1]?"n":"s")||On.minallowed!==void 0&&it===(On.range[0]<On.range[1]?"s":"n"))&&(ur=1,to=0),!(!ar&&!ur)){ar||(ar=1),ur||(ur=1);var ko=Tn._offset-qr/ar,Es=On._offset-to/ur;rn.clipRect.call(R.setTranslate,qr,to).call(R.setScale,ar,ur),rn.plot.call(R.setTranslate,ko,Es).call(R.setScale,1/ar,1/ur),(ar!==rn.xScaleFactor||ur!==rn.yScaleFactor)&&(R.setPointGroupScale(rn.zoomScalePts,ar,ur),R.setTextPointsScale(rn.zoomScaleTxt,ar,ur)),R.hideOutsideRangePoints(rn.clipOnAxisFalseTraces,rn),rn.xScaleFactor=ar,rn.yScaleFactor=ur}}}}function Lt($t,Mt,en){return $t.fixedrange?0:Sn&&Yn.xaHash[$t._id]?Mt:it&&(Yn.isSubplotConstrained?Yn.xaHash:Yn.yaHash)[$t._id]?en:0}function Ft($t,Mt){return Mt?($t.range=$t._r.slice(),ae($t,Mt),Ht($t,Mt)):0}function Ht($t,Mt,en){return $t._length*(1-Mt)*Q[en||$t.constraintoward||"middle"]}return Tt}function Be(le,Ce,Qe,ze){var Xe=v.ensureSingle(le.draglayer,Ce,Qe,function(ct){ct.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",le.id)});return Xe.call(V,ze),Xe.node()}function ge(le,Ce,Qe,ze,Xe,ct,pt){var Ye=Be(le,"rect",Ce,Qe);return p.select(Ye).call(R.setRect,ze,Xe,ct,pt),Ye}function ne(le,Ce){for(var Qe=0;Qe<le.length;Qe++)if(!le[Qe].fixedrange)return Ce;return""}function pe(le,Ce){var Qe=le.range[Ce],ze=Math.abs(Qe-le.range[1-Ce]),Xe;return le.type==="date"?Qe:le.type==="log"?(Xe=Math.ceil(Math.max(0,-Math.log(ze)/Math.LN10))+3,y("."+Xe+"g")(Math.pow(10,Qe))):(Xe=Math.floor(Math.log(Math.abs(Qe))/Math.LN10)-Math.floor(Math.log(ze)/Math.LN10)+4,y("."+String(Xe)+"g")(Qe))}function G(le,Ce,Qe,ze,Xe){for(var ct=0;ct<le.length;ct++){var pt=le[ct];if(!pt.fixedrange)if(pt.rangebreaks){var Ye=pt._id.charAt(0)==="y",je=Ye?1-Ce:Ce,et=Ye?1-Qe:Qe;ze[pt._name+".range[0]"]=pt.l2r(pt.p2l(je*pt._length)),ze[pt._name+".range[1]"]=pt.l2r(pt.p2l(et*pt._length))}else{var yt=pt._rl[0],ft=pt._rl[1]-yt;ze[pt._name+".range[0]"]=pt.l2r(yt+ft*Ce),ze[pt._name+".range[1]"]=pt.l2r(yt+ft*Qe)}}if(Xe&&Xe.length){var tt=(Ce+(1-Qe))/2;G(Xe,tt,1-tt,ze,[])}}function Oe(le,Ce){for(var Qe=0;Qe<le.length;Qe++){var ze=le[Qe];if(!ze.fixedrange){if(ze.rangebreaks){var Xe=0,ct=ze._length,pt=ze.p2l(Xe+Ce)-ze.p2l(Xe),Ye=ze.p2l(ct+Ce)-ze.p2l(ct),je=(pt+Ye)/2;ze.range=[ze.l2r(ze._rl[0]-je),ze.l2r(ze._rl[1]-je)]}else ze.range=[ze.l2r(ze._rl[0]-Ce/ze._m),ze.l2r(ze._rl[1]-Ce/ze._m)];ze.limitRange&&ze.limitRange()}}}function xe(le){return 1-(le>=0?Math.min(le,.9):1/(1/Math.max(le,-.3)+3.222))}function Le(le,Ce,Qe){return le?le==="nsew"?Qe?"":Ce==="pan"?"move":"crosshair":le.toLowerCase()+"-resize":"pointer"}function ke(le,Ce,Qe,ze,Xe){return le.append("path").attr("class","zoombox").style({fill:Ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",C(Qe,ze)).attr("d",Xe+"Z")}function $e(le,Ce,Qe){return le.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1,opacity:0}).attr("transform",C(Ce,Qe)).attr("d","M0,0Z")}function Ze(le,Ce,Qe,ze,Xe,ct){le.attr("d",ze+"M"+Qe.l+","+Qe.t+"v"+Qe.h+"h"+Qe.w+"v-"+Qe.h+"h-"+Qe.w+"Z"),De(le,Ce,Xe,ct)}function De(le,Ce,Qe,ze){Qe||(le.transition().style("fill",ze>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Ce.transition().style("opacity",1).duration(200))}function Ie(le){p.select(le).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function re(le){be&&le.data&&le._context.showTips&&(v.notifier(v._(le,"Double-click to zoom back out"),"long"),be=!1)}function ye(le,Ce){return"M"+(le.l-.5)+","+(Ce-ee-.5)+"h-3v"+(2*ee+1)+"h3ZM"+(le.r+.5)+","+(Ce-ee-.5)+"h3v"+(2*ee+1)+"h-3Z"}function te(le,Ce){return"M"+(Ce-ee-.5)+","+(le.t-.5)+"v-3h"+(2*ee+1)+"v3ZM"+(Ce-ee-.5)+","+(le.b+.5)+"v3h"+(2*ee+1)+"v-3Z"}function se(le){var Ce=Math.floor(Math.min(le.b-le.t,le.r-le.l,ee)/2);return"M"+(le.l-3.5)+","+(le.t-.5+Ce)+"h3v"+-Ce+"h"+Ce+"v-3h-"+(Ce+3)+"ZM"+(le.r+3.5)+","+(le.t-.5+Ce)+"h-3v"+-Ce+"h"+-Ce+"v-3h"+(Ce+3)+"ZM"+(le.r+3.5)+","+(le.b+.5-Ce)+"h-3v"+Ce+"h"+-Ce+"v3h"+(Ce+3)+"ZM"+(le.l-3.5)+","+(le.b+.5-Ce)+"h3v"+Ce+"h"+Ce+"v3h-"+(Ce+3)+"Z"}function ue(le,Ce,Qe,ze,Xe){for(var ct=!1,pt={},Ye={},je,et,yt,ft,tt=(Xe||{}).xaHash,wt=(Xe||{}).yaHash,Xt=0;Xt<Ce.length;Xt++){var Gt=Ce[Xt];for(je in Qe)if(Gt[je]){for(yt in Gt)!(Xe&&(tt[yt]||wt[yt]))&&!(yt.charAt(0)==="x"?Qe:ze)[yt]&&(pt[yt]=je);for(et in ze)!(Xe&&(tt[et]||wt[et]))&&Gt[et]&&(ct=!0)}for(et in ze)if(Gt[et])for(ft in Gt)!(Xe&&(tt[ft]||wt[ft]))&&!(ft.charAt(0)==="x"?Qe:ze)[ft]&&(Ye[ft]=et)}ct&&(v.extendFlat(pt,Ye),Ye={});var Nt={},Bt=[];for(yt in pt){var vn=Y(le,yt);Bt.push(vn),Nt[vn._id]=vn}var En={},ln=[];for(ft in Ye){var Yn=Y(le,ft);ln.push(Yn),En[Yn._id]=Yn}return{xaHash:Nt,yaHash:En,xaxes:Bt,yaxes:ln,xLinks:pt,yLinks:Ye,isSubplotConstrained:ct}}function oe(le,Ce){if(!x)le.onwheel!==void 0?le.onwheel=Ce:le.onmousewheel!==void 0?le.onmousewheel=Ce:le.isAddedWheelEvent||(le.isAddedWheelEvent=!0,le.addEventListener("wheel",Ce,{passive:!1}));else{var Qe=le.onwheel!==void 0?"wheel":"mousewheel";le._onwheel&&le.removeEventListener(Qe,le._onwheel),le._onwheel=Ce,le.addEventListener(Qe,Ce,{passive:!1})}}function Se(le){var Ce=[];for(var Qe in le)Ce.push(le[Qe]);return Ce}f.exports={makeDragBox:Te,makeDragger:Be,makeRectDragger:ge,makeZoombox:ke,makeCorners:$e,updateZoombox:Ze,xyCorners:se,transitionZoombox:De,removeZoombox:Ie,showDoubleClickNotifier:re,attachWheelEventHandler:oe}},4305:function(f,h,u){var p=u(9898),v=u(211),y=u(8569),b=u(6964),x=u(9323).makeDragBox,k=u(5555).DRAGGERSIZE;h.initInteractions=function(w){var T=w._fullLayout;if(w._context.staticPlot){p.select(w).selectAll(".drag").remove();return}if(!(!T._has("cartesian")&&!T._has("splom"))){var R=Object.keys(T._plots||{}).sort(function(I,V){if((T._plots[I].mainplot&&!0)===(T._plots[V].mainplot&&!0)){var N=I.split("y"),F=V.split("y");return N[0]===F[0]?Number(N[1]||1)-Number(F[1]||1):Number(N[0]||1)-Number(F[0]||1)}return T._plots[I].mainplot?1:-1});R.forEach(function(I){var V=T._plots[I],N=V.xaxis,F=V.yaxis;if(!V.mainplot){var z=x(w,V,N._offset,F._offset,N._length,F._length,"ns","ew");z.onmousemove=function(B){w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===I&&w._fullLayout._plots[I]&&v.hover(w,B,I)},v.hover(w,B,I),w._fullLayout._lasthover=z,w._fullLayout._hoversubplot=I},z.onmouseout=function(B){w._dragging||(w._fullLayout._hoversubplot=null,y.unhover(w,B))},w._context.showAxisDragHandles&&(x(w,V,N._offset-k,F._offset-k,k,k,"n","w"),x(w,V,N._offset+N._length,F._offset-k,k,k,"n","e"),x(w,V,N._offset-k,F._offset+F._length,k,k,"s","w"),x(w,V,N._offset+N._length,F._offset+F._length,k,k,"s","e"))}if(w._context.showAxisDragHandles){if(I===N._mainSubplot){var U=N._mainLinePosition;N.side==="top"&&(U-=k),x(w,V,N._offset+N._length*.1,U,N._length*.8,k,"","ew"),x(w,V,N._offset,U,N._length*.1,k,"","w"),x(w,V,N._offset+N._length*.9,U,N._length*.1,k,"","e")}if(I===F._mainSubplot){var Q=F._mainLinePosition;F.side!=="right"&&(Q-=k),x(w,V,Q,F._offset+F._length*.1,k,F._length*.8,"ns",""),x(w,V,Q,F._offset+F._length*.9,k,F._length*.1,"s",""),x(w,V,Q,F._offset,k,F._length*.1,"n","")}}});var M=T._hoverlayer.node();M.onmousemove=function(I){I.target=w._fullLayout._lasthover,v.hover(w,I,T._hoversubplot)},M.onclick=function(I){I.target=w._fullLayout._lasthover,v.click(w,I)},M.onmousedown=function(I){w._fullLayout._lasthover.onmousedown(I)},h.updateFx(w)}},h.updateFx=function(C){var w=C._fullLayout,T=w.dragmode==="pan"?"move":"crosshair";b(w._draggers,T)}},6325:function(f,h,u){var p=u(3972),v=u(1828),y=u(1675);f.exports=function(x){return function(C,w){var T=C[x];if(Array.isArray(T))for(var R=p.subplotsRegistry.cartesian,M=R.idRegex,I=w._subplots,V=I.xaxis,N=I.yaxis,F=I.cartesian,z=w._has("cartesian")||w._has("gl2d"),U=0;U<T.length;U++){var Q=T[U];if(v.isPlainObject(Q)){var B=y.cleanId(Q.xref,"x",!1),E=y.cleanId(Q.yref,"y",!1),W=M.x.test(B),Y=M.y.test(E);if(W||Y){z||v.pushUnique(w._basePlotModules,R);var ie=!1;W&&V.indexOf(B)===-1&&(V.push(B),ie=!0),Y&&N.indexOf(E)===-1&&(N.push(E),ie=!0),ie&&W&&Y&&F.push(B+E)}}}}}},3612:function(f,h,u){var p=u(9898),v=u(3972),y=u(1828),b=u(4875),x=u(1424),k=u(7659).a0,C=u(1675),w=u(5555),T=u(7922),R=y.ensureSingle;function M(U,Q,B){return y.ensureSingle(U,Q,B,function(E){E.datum(B)})}h.name="cartesian",h.attr=["xaxis","yaxis"],h.idRoot=["x","y"],h.idRegex=w.idRegex,h.attrRegex=w.attrRegex,h.attributes=u(9502),h.layoutAttributes=u(3838),h.supplyLayoutDefaults=u(6763),h.transitionAxes=u(6847),h.finalizeSubplots=function(U,Q){var B=Q._subplots,E=B.xaxis,W=B.yaxis,Y=B.cartesian,ie=Y.concat(B.gl2d||[]),L={},me={},ae,q,fe;for(ae=0;ae<ie.length;ae++){var ee=ie[ae].split("y");L[ee[0]]=1,me["y"+ee[1]]=1}for(ae=0;ae<E.length;ae++)q=E[ae],L[q]||(fe=(U[C.id2name(q)]||{}).anchor,w.idRegex.y.test(fe)||(fe="y"),Y.push(q+fe),ie.push(q+fe),me[fe]||(me[fe]=1,y.pushUnique(W,fe)));for(ae=0;ae<W.length;ae++)fe=W[ae],me[fe]||(q=(U[C.id2name(fe)]||{}).anchor,w.idRegex.x.test(q)||(q="x"),Y.push(q+fe),ie.push(q+fe),L[q]||(L[q]=1,y.pushUnique(E,q)));if(!ie.length){q="",fe="";for(var be in U)if(w.attrRegex.test(be)){var Te=be.charAt(0);Te==="x"?(!q||+be.substr(5)<+q.substr(5))&&(q=be):(!fe||+be.substr(5)<+fe.substr(5))&&(fe=be)}q=q?C.name2id(q):"x",fe=fe?C.name2id(fe):"y",E.push(q),W.push(fe),Y.push(q+fe)}},h.plot=function(U,Q,B,E){var W=U._fullLayout,Y=W._subplots.cartesian,ie=U.calcdata,L;if(!Array.isArray(Q))for(Q=[],L=0;L<ie.length;L++)Q.push(L);for(L=0;L<Y.length;L++){for(var me=Y[L],ae=W._plots[me],q=[],fe,ee=0;ee<ie.length;ee++){var be=ie[ee],Te=be[0].trace;Te.xaxis+Te.yaxis===me&&((Q.indexOf(Te.index)!==-1||Te.carpet)&&(fe&&fe[0].trace.xaxis+fe[0].trace.yaxis===me&&["tonextx","tonexty","tonext"].indexOf(Te.fill)!==-1&&q.indexOf(fe)===-1&&q.push(fe),q.push(be)),fe=be)}I(U,ae,q,B,E)}};function I(U,Q,B,E,W){for(var Y=w.traceLayerClasses,ie=U._fullLayout,L=ie._modules,me,ae,q,fe=[],ee=[],be=0;be<L.length;be++){me=L[be];var Te=me.name,Be=v.modules[Te].categories;if(Be.svg){var ge=me.layerName||Te+"layer",ne=me.plot;ae=k(B,ne),q=ae[0],B=ae[1],q.length&&fe.push({i:Y.indexOf(ge),className:ge,plotMethod:ne,cdModule:q}),Be.zoomScale&&ee.push("."+ge)}}fe.sort(function(Oe,xe){return Oe.i-xe.i});var pe=Q.plot.selectAll("g.mlayer").data(fe,function(Oe){return Oe.className});if(pe.enter().append("g").attr("class",function(Oe){return Oe.className}).classed("mlayer",!0).classed("rangeplot",Q.isRangePlot),pe.exit().remove(),pe.order(),pe.each(function(Oe){var xe=p.select(this),Le=Oe.className;Oe.plotMethod(U,Q,Oe.cdModule,xe,E,W),w.clipOnAxisFalseQuery.indexOf("."+Le)===-1&&x.setClipUrl(xe,Q.layerClipId,U)}),ie._has("scattergl")&&(me=v.getModule("scattergl"),q=k(B,me)[0],me.plot(U,Q,q)),!U._context.staticPlot&&(Q._hasClipOnAxisFalse&&(Q.clipOnAxisFalseTraces=Q.plot.selectAll(w.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),ee.length)){var G=Q.plot.selectAll(ee.join(",")).selectAll(".trace");Q.zoomScalePts=G.selectAll("path.point"),Q.zoomScaleTxt=G.selectAll(".textpoint")}}h.clean=function(U,Q,B,E){var W=E._plots||{},Y=Q._plots||{},ie=E._subplots||{},L,me,ae;if(E._hasOnlyLargeSploms&&!Q._hasOnlyLargeSploms)for(ae in W)L=W[ae],L.plotgroup&&L.plotgroup.remove();var q=E._has&&E._has("gl"),fe=Q._has&&Q._has("gl");if(q&&!fe)for(ae in W)L=W[ae],L._scene&&L._scene.destroy();if(ie.xaxis&&ie.yaxis){var ee=C.listIds({_fullLayout:E});for(me=0;me<ee.length;me++){var be=ee[me];Q[C.id2name(be)]||E._infolayer.selectAll(".g-"+be+"title").remove()}}var Te=E._has&&E._has("cartesian"),Be=Q._has&&Q._has("cartesian");if(Te&&!Be)F(E._cartesianlayer.selectAll(".subplot"),E),E._defs.selectAll(".axesclip").remove(),delete E._axisConstraintGroups,delete E._axisMatchGroups;else if(ie.cartesian)for(me=0;me<ie.cartesian.length;me++){var ge=ie.cartesian[me];if(!Y[ge]){var ne="."+ge+",."+ge+"-x,."+ge+"-y";E._cartesianlayer.selectAll(ne).remove(),z(ge,E)}}},h.drawFramework=function(U){var Q=U._fullLayout,B=V(U),E=Q._cartesianlayer.selectAll(".subplot").data(B,String);E.enter().append("g").attr("class",function(W){return"subplot "+W[0]}),E.order(),E.exit().call(F,Q),E.each(function(W){var Y=W[0],ie=Q._plots[Y];ie.plotgroup=p.select(this),N(U,ie),ie.draglayer=R(Q._draggers,"g",Y)})},h.rangePlot=function(U,Q,B){N(U,Q),I(U,Q,B),b.style(U)};function V(U){var Q=U._fullLayout,B=Q._subplots.cartesian,E=B.length,W,Y,ie,L,me,ae,q=[],fe=[];for(W=0;W<E;W++){ie=B[W],L=Q._plots[ie],me=L.xaxis,ae=L.yaxis;var ee=me._mainAxis,be=ae._mainAxis,Te=ee._id+be._id,Be=Q._plots[Te];L.overlays=[],Te!==ie&&Be?(L.mainplot=Te,L.mainplotinfo=Be,fe.push(ie)):(L.mainplot=void 0,L.mainplotinfo=void 0,q.push(ie))}for(W=0;W<fe.length;W++)ie=fe[W],L=Q._plots[ie],L.mainplotinfo.overlays.push(L);var ge=q.concat(fe),ne=new Array(E);for(W=0;W<E;W++){ie=ge[W],L=Q._plots[ie],me=L.xaxis,ae=L.yaxis;var pe=[ie,me.layer,ae.layer,me.overlaying||"",ae.overlaying||""];for(Y=0;Y<L.overlays.length;Y++)pe.push(L.overlays[Y].id);ne[W]=pe}return ne}function N(U,Q){var B=Q.plotgroup,E=Q.id,W=w.layerValue2layerClass[Q.xaxis.layer],Y=w.layerValue2layerClass[Q.yaxis.layer],ie=U._fullLayout._hasOnlyLargeSploms;if(Q.mainplot){var me=Q.mainplotinfo,ae=me.plotgroup,q=E+"-x",fe=E+"-y";Q.minorGridlayer=me.minorGridlayer,Q.gridlayer=me.gridlayer,Q.zerolinelayer=me.zerolinelayer,R(me.overlinesBelow,"path",q),R(me.overlinesBelow,"path",fe),R(me.overaxesBelow,"g",q),R(me.overaxesBelow,"g",fe),Q.plot=R(me.overplot,"g",E),R(me.overlinesAbove,"path",q),R(me.overlinesAbove,"path",fe),R(me.overaxesAbove,"g",q),R(me.overaxesAbove,"g",fe),Q.xlines=ae.select(".overlines-"+W).select("."+q),Q.ylines=ae.select(".overlines-"+Y).select("."+fe),Q.xaxislayer=ae.select(".overaxes-"+W).select("."+q),Q.yaxislayer=ae.select(".overaxes-"+Y).select("."+fe)}else if(ie)Q.xlines=R(B,"path","xlines-above"),Q.ylines=R(B,"path","ylines-above"),Q.xaxislayer=R(B,"g","xaxislayer-above"),Q.yaxislayer=R(B,"g","yaxislayer-above");else{var L=R(B,"g","layer-subplot");Q.shapelayer=R(L,"g","shapelayer"),Q.imagelayer=R(L,"g","imagelayer"),Q.minorGridlayer=R(B,"g","minor-gridlayer"),Q.gridlayer=R(B,"g","gridlayer"),Q.zerolinelayer=R(B,"g","zerolinelayer"),R(B,"path","xlines-below"),R(B,"path","ylines-below"),Q.overlinesBelow=R(B,"g","overlines-below"),R(B,"g","xaxislayer-below"),R(B,"g","yaxislayer-below"),Q.overaxesBelow=R(B,"g","overaxes-below"),Q.plot=R(B,"g","plot"),Q.overplot=R(B,"g","overplot"),Q.xlines=R(B,"path","xlines-above"),Q.ylines=R(B,"path","ylines-above"),Q.overlinesAbove=R(B,"g","overlines-above"),R(B,"g","xaxislayer-above"),R(B,"g","yaxislayer-above"),Q.overaxesAbove=R(B,"g","overaxes-above"),Q.xlines=B.select(".xlines-"+W),Q.ylines=B.select(".ylines-"+Y),Q.xaxislayer=B.select(".xaxislayer-"+W),Q.yaxislayer=B.select(".yaxislayer-"+Y)}ie||(M(Q.minorGridlayer,"g",Q.xaxis._id),M(Q.minorGridlayer,"g",Q.yaxis._id),Q.minorGridlayer.selectAll("g").map(function(ee){return ee[0]}).sort(C.idSort),M(Q.gridlayer,"g",Q.xaxis._id),M(Q.gridlayer,"g",Q.yaxis._id),Q.gridlayer.selectAll("g").map(function(ee){return ee[0]}).sort(C.idSort)),Q.xlines.style("fill","none").classed("crisp",!0),Q.ylines.style("fill","none").classed("crisp",!0)}function F(U,Q){if(U){var B={};U.each(function(me){var ae=me[0],q=p.select(this);q.remove(),z(ae,Q),B[ae]=!0});for(var E in Q._plots)for(var W=Q._plots[E],Y=W.overlays||[],ie=0;ie<Y.length;ie++){var L=Y[ie];B[L.id]&&L.plot.selectAll(".trace").remove()}}}function z(U,Q){Q._draggers.selectAll("g."+U).remove(),Q._defs.select("#clip"+Q._uid+U+"plot").remove()}h.toSVG=function(U){var Q=U._fullLayout._glimages,B=p.select(U).selectAll(".svg-container"),E=B.filter(function(Y,ie){return ie===B.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function W(){var Y=this,ie=Y.toDataURL("image/png"),L=Q.append("svg:image");L.attr({xmlns:T.svg,"xlink:href":ie,preserveAspectRatio:"none",x:0,y:0,width:Y.style.width,height:Y.style.height})}E.each(W)},h.updateFx=u(4305).updateFx},3838:function(f,h,u){var p=u(1940),v=u(2399),y=u(9952).P,b=u(1426).extendFlat,x=u(4467).templatedArray,k=u(2663).descriptionWithDates,C=u(606).ONEDAY,w=u(5555),T=w.HOUR_PATTERN,R=w.WEEKDAY_PATTERN,M={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},I=b({},M,{values:M.values.slice().concat(["sync"])});function V(me){return{valType:"integer",min:0,dflt:me?5:0,editType:"ticks"}}var N={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},F={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},z={valType:"data_array",editType:"ticks"},U={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function Q(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=5),ae}function B(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=1),ae}var E={valType:"color",dflt:v.defaultLine,editType:"ticks"},W={valType:"color",dflt:v.lightLine,editType:"ticks"};function Y(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=1),ae}var ie=b({},y,{editType:"ticks"}),L={valType:"boolean",editType:"ticks"};f.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:v.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[w.idRegex.x.toString(),w.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"calc"},rangebreaks:x("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[R,T,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:C},editType:"calc"}),tickmode:I,nticks:V(),tick0:N,dtick:F,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:z,ticktext:{valType:"data_array",editType:"ticks"},ticks:U,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:Q(),tickwidth:B(),tickcolor:E,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:b({},y,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:k("tick label")},tickformatstops:x("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:k("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:v.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:L,gridcolor:W,gridwidth:Y(),griddash:ie,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"plot"},minor:{tickmode:M,nticks:V("minor"),tick0:N,dtick:F,tickvals:z,ticks:U,ticklen:Q("minor"),tickwidth:B("minor"),tickcolor:E,gridcolor:W,gridwidth:Y("minor"),griddash:ie,showgrid:L,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},6763:function(f,h,u){var p=u(1828),v=u(7901),y=u(3469).isUnifiedHover,b=u(8212),x=u(4467),k=u(820),C=u(3838),w=u(951),T=u(1453),R=u(9082),M=u(2830),I=u(1675),V=I.id2name,N=I.name2id,F=u(5555).AX_ID_PATTERN,z=u(3972),U=z.traceIs,Q=z.getComponentMethod;function B(E,W,Y){Array.isArray(E[W])?E[W].push(Y):E[W]=[Y]}f.exports=function(W,Y,ie){var L=Y.autotypenumbers,me={},ae={},q={},fe={},ee={},be={},Te={},Be={},ge={},ne={},pe,G;for(pe=0;pe<ie.length;pe++){var Oe=ie[pe];if(!(!U(Oe,"cartesian")&&!U(Oe,"gl2d"))){var xe;if(Oe.xaxis)xe=V(Oe.xaxis),B(me,xe,Oe);else if(Oe.xaxes)for(G=0;G<Oe.xaxes.length;G++)B(me,V(Oe.xaxes[G]),Oe);var Le;if(Oe.yaxis)Le=V(Oe.yaxis),B(me,Le,Oe);else if(Oe.yaxes)for(G=0;G<Oe.yaxes.length;G++)B(me,V(Oe.yaxes[G]),Oe);if(Oe.type==="funnel"?Oe.orientation==="h"?(xe&&(ae[xe]=!0),Le&&(Te[Le]=!0)):Le&&(q[Le]=!0):Oe.type==="image"?(Le&&(Be[Le]=!0),xe&&(Be[xe]=!0)):(Le&&(ee[Le]=!0,be[Le]=!0),(!U(Oe,"carpet")||Oe.type==="carpet"&&!Oe._cheater)&&xe&&(fe[xe]=!0)),Oe.type==="carpet"&&Oe._cheater&&xe&&(ae[xe]=!0),U(Oe,"2dMap")&&(ge[xe]=!0,ge[Le]=!0),U(Oe,"oriented")){var ke=Oe.orientation==="h"?Le:xe;ne[ke]=!0}}}var $e=Y._subplots,Ze=$e.xaxis,De=$e.yaxis,Ie=p.simpleMap(Ze,V),re=p.simpleMap(De,V),ye=Ie.concat(re),te=v.background;Ze.length&&De.length&&(te=p.coerce(W,Y,k,"plot_bgcolor"));var se=v.combine(te,Y.paper_bgcolor),ue,oe,Se,le,Ce;function Qe(){var He=me[ue]||[];Ce._traceIndices=He.map(function(at){return at._expandedIndex}),Ce._annIndices=[],Ce._shapeIndices=[],Ce._selectionIndices=[],Ce._imgIndices=[],Ce._subplotsWith=[],Ce._counterAxes=[],Ce._name=Ce._attr=ue,Ce._id=oe}function ze(He,at){return p.coerce(le,Ce,C,He,at)}function Xe(He,at){return p.coerce2(le,Ce,C,He,at)}function ct(He){return He==="x"?De:Ze}function pt(He,at){for(var dt=He==="x"?Ie:re,mt=[],Tt=0;Tt<dt.length;Tt++){var Pt=dt[Tt];Pt!==at&&!(W[Pt]||{}).overlaying&&mt.push(N(Pt))}return mt}var Ye={x:ct("x"),y:ct("y")},je=Ye.x.concat(Ye.y),et={},yt=[];function ft(){var He=le.matches;F.test(He)&&je.indexOf(He)===-1&&(et[He]=le.type,yt=Object.keys(et))}var tt=b(W,Y),wt=y(tt);for(pe=0;pe<ye.length;pe++){ue=ye[pe],oe=N(ue),Se=ue.charAt(0),p.isPlainObject(W[ue])||(W[ue]={}),le=W[ue],Ce=x.newContainer(Y,ue,Se+"axis"),Qe();var Xt=Se==="x"&&!fe[ue]&&ae[ue]||Se==="y"&&!ee[ue]&&q[ue],Gt=Se==="y"&&(!be[ue]&&Te[ue]||Be[ue]),Nt={hasMinor:!0,letter:Se,font:Y.font,outerTicks:ge[ue],showGrid:!ne[ue],data:me[ue]||[],bgColor:se,calendar:Y.calendar,automargin:!0,visibleDflt:Xt,reverseDflt:Gt,autotypenumbersDflt:L,splomStash:((Y._splomAxes||{})[Se]||{})[oe]};ze("uirevision",Y.uirevision),w(le,Ce,ze,Nt),T(le,Ce,ze,Nt,Y);var Bt=wt&&Se===tt.charAt(0),vn=Xe("spikecolor",wt?Ce.color:void 0),En=Xe("spikethickness",wt?1.5:void 0),ln=Xe("spikedash",wt?"dot":void 0),Yn=Xe("spikemode",wt?"across":void 0),an=Xe("spikesnap"),wn=ze("showspikes",!!Bt||!!vn||!!En||!!ln||!!Yn||!!an);wn||(delete Ce.spikecolor,delete Ce.spikethickness,delete Ce.spikedash,delete Ce.spikemode,delete Ce.spikesnap);var Xn=V(le.overlaying),Un=[0,1];if(Y[Xn]!==void 0){var Sn=V(Y[Xn].anchor);Y[Sn]!==void 0&&(Un=Y[Sn].domain)}M(le,Ce,ze,{letter:Se,counterAxes:Ye[Se],overlayableAxes:pt(Se,ue),grid:Y.grid,overlayingDomain:Un}),ze("title.standoff"),ft(),Ce._input=le}for(pe=0;pe<yt.length;){oe=yt[pe++],ue=V(oe),Se=ue.charAt(0),p.isPlainObject(W[ue])||(W[ue]={}),le=W[ue],Ce=x.newContainer(Y,ue,Se+"axis"),Qe();var it={letter:Se,font:Y.font,outerTicks:ge[ue],showGrid:!ne[ue],data:[],bgColor:se,calendar:Y.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:L,splomStash:((Y._splomAxes||{})[Se]||{})[oe]};ze("uirevision",Y.uirevision),Ce.type=et[oe]||"linear",T(le,Ce,ze,it,Y),M(le,Ce,ze,{letter:Se,counterAxes:Ye[Se],overlayableAxes:pt(Se,ue),grid:Y.grid}),ze("fixedrange"),ft(),Ce._input=le}var ut=Q("rangeslider","handleDefaults"),xt=Q("rangeselector","handleDefaults");for(pe=0;pe<Ie.length;pe++)ue=Ie[pe],le=W[ue],Ce=Y[ue],ut(W,Y,ue),Ce.type==="date"&&xt(le,Ce,Y,re,Ce.calendar),ze("fixedrange");for(pe=0;pe<re.length;pe++){ue=re[pe],le=W[ue],Ce=Y[ue];var gt=Y[V(Ce.anchor)],Dt=Q("rangeslider","isVisible")(gt);ze("fixedrange",Dt)}R.handleDefaults(W,Y,{axIds:je.concat(yt).sort(I.idSort),axHasImage:Be})}},2128:function(f,h,u){var p=u(4267).mix,v=u(2399),y=u(1828);f.exports=function(x,k,C,w){w=w||{};var T=w.dfltColor;function R(q,fe){return y.coerce2(x,k,w.attributes,q,fe)}var M=R("linecolor",T),I=R("linewidth"),V=C("showline",w.showLine||!!M||!!I);V||(delete k.linecolor,delete k.linewidth);var N=p(T,w.bgColor,w.blend||v.lightFraction).toRgbString(),F=R("gridcolor",N),z=R("gridwidth"),U=R("griddash"),Q=C("showgrid",w.showGrid||!!F||!!z||!!U);if(Q||(delete k.gridcolor,delete k.gridwidth,delete k.griddash),w.hasMinor){var B=p(k.gridcolor,w.bgColor,67).toRgbString(),E=R("minor.gridcolor",B),W=R("minor.gridwidth",k.gridwidth||1),Y=R("minor.griddash",k.griddash||"solid"),ie=C("minor.showgrid",!!E||!!W||!!Y);ie||(delete k.minor.gridcolor,delete k.minor.gridwidth,delete k.minor.griddash)}if(!w.noZeroLine){var L=R("zerolinecolor",T),me=R("zerolinewidth"),ae=C("zeroline",w.showGrid||!!L||!!me);ae||(delete k.zerolinecolor,delete k.zerolinewidth)}}},2830:function(f,h,u){var p=u(2770),v=u(1828);f.exports=function(b,x,k,C){var w=C.counterAxes||[],T=C.overlayableAxes||[],R=C.letter,M=C.grid,I=C.overlayingDomain,V,N,F,z,U,Q;M&&(N=M._domains[R][M._axisMap[x._id]],V=M._anchors[x._id],N&&(F=M[R+"side"].split(" ")[0],z=M.domain[R][F==="right"||F==="top"?1:0])),N=N||[0,1],V=V||(p(b.position)?"free":w[0]||"free"),F=F||(R==="x"?"bottom":"left"),z=z||0,U=0,Q=!1;var B=v.coerce(b,x,{anchor:{valType:"enumerated",values:["free"].concat(w),dflt:V}},"anchor"),E=v.coerce(b,x,{side:{valType:"enumerated",values:R==="x"?["bottom","top"]:["left","right"],dflt:F}},"side");if(B==="free"){if(R==="y"){var W=k("autoshift");W&&(z=E==="left"?I[0]:I[1],Q=x.automargin?x.automargin:!0,U=E==="left"?-3:3),k("shift",U)}k("position",z)}k("automargin",Q);var Y=!1;if(T.length&&(Y=v.coerce(b,x,{overlaying:{valType:"enumerated",values:[!1].concat(T),dflt:!1}},"overlaying")),!Y){var ie=k("domain",N);ie[0]>ie[1]-.000244140625&&(x.domain=N),v.noneOrAll(b.domain,x.domain,N),x.tickmode==="sync"&&(x.tickmode="auto")}return k("layer"),x}},9426:function(f,h,u){var p=u(9652);f.exports=function(y,b,x,k,C){C||(C={});var w=C.tickSuffixDflt,T=p(y),R=x("tickprefix");R&&x("showtickprefix",T);var M=x("ticksuffix",w);M&&x("showticksuffix",T)}},3608:function(f,h,u){var p=u(3074);f.exports=function(y,b,x,k){var C=b._template||{},w=b.type||C.type||"-";x("minallowed"),x("maxallowed");var T=x("range"),R=b.getAutorangeDflt(T,k),M=x("autorange",R),I;T&&(T[0]===null&&T[1]===null||(T[0]===null||T[1]===null)&&(M==="reversed"||M===!0)||T[0]!==null&&(M==="min"||M==="max reversed")||T[1]!==null&&(M==="max"||M==="min reversed"))&&(T=void 0,delete b.range,b.autorange=!0,I=!0),I||(R=b.getAutorangeDflt(T,k),M=x("autorange",R)),M&&(p(x,M,T),(w==="linear"||w==="-")&&x("rangemode")),b.cleanRange()}},2449:function(f,h,u){var p=u(8783).FROM_BL;f.exports=function(y,b,x){x===void 0&&(x=p[y.constraintoward||"center"]);var k=[y.r2l(y.range[0]),y.r2l(y.range[1])],C=k[0]+(k[1]-k[0])*x;y.range=y._input.range=[y.l2r(C+(k[0]-C)*b),y.l2r(C+(k[1]-C)*b)],y.setScale()}},1994:function(f,h,u){var p=u(9898),v=u(4096).g0,y=u(1828),b=y.numberFormat,x=u(2770),k=y.cleanNumber,C=y.ms2DateTime,w=y.dateTime2ms,T=y.ensureNumber,R=y.isArrayOrTypedArray,M=u(606),I=M.FP_SAFE,V=M.BADNUM,N=M.LOG_CLIP,F=M.ONEWEEK,z=M.ONEDAY,U=M.ONEHOUR,Q=M.ONEMIN,B=M.ONESEC,E=u(1675),W=u(5555),Y=W.HOUR_PATTERN,ie=W.WEEKDAY_PATTERN;function L(ae){return Math.pow(10,ae)}function me(ae){return ae!=null}f.exports=function(q,fe){fe=fe||{};var ee=q._id||"x",be=ee.charAt(0);function Te(ye,te){if(ye>0)return Math.log(ye)/Math.LN10;if(ye<=0&&te&&q.range&&q.range.length===2){var se=q.range[0],ue=q.range[1];return .5*(se+ue-2*N*Math.abs(se-ue))}else return V}function Be(ye,te,se,ue){if((ue||{}).msUTC&&x(ye))return+ye;var oe=w(ye,se||q.calendar);if(oe===V)if(x(ye)){ye=+ye;var Se=Math.floor(y.mod(ye+.05,1)*10),le=Math.round(ye-Se/10);oe=w(new Date(le))+Se/10}else return V;return oe}function ge(ye,te,se){return C(ye,te,se||q.calendar)}function ne(ye){return q._categories[Math.round(ye)]}function pe(ye){if(me(ye)){if(q._categoriesMap===void 0&&(q._categoriesMap={}),q._categoriesMap[ye]!==void 0)return q._categoriesMap[ye];q._categories.push(typeof ye=="number"?String(ye):ye);var te=q._categories.length-1;return q._categoriesMap[ye]=te,te}return V}function G(ye,te){for(var se=new Array(te),ue=0;ue<te;ue++){var oe=(ye[0]||[])[ue],Se=(ye[1]||[])[ue];se[ue]=Oe([oe,Se])}return se}function Oe(ye){if(q._categoriesMap)return q._categoriesMap[ye]}function xe(ye){var te=Oe(ye);if(te!==void 0)return te;if(x(ye))return+ye}function Le(ye){return x(ye)?+ye:Oe(ye)}function ke(ye,te,se){return p.round(se+te*ye,2)}function $e(ye,te,se){return(ye-se)/te}var Ze=function(te){return x(te)?ke(te,q._m,q._b):V},De=function(ye){return $e(ye,q._m,q._b)};if(q.rangebreaks){var Ie=be==="y";Ze=function(ye){if(!x(ye))return V;var te=q._rangebreaks.length;if(!te)return ke(ye,q._m,q._b);var se=Ie;q.range[0]>q.range[1]&&(se=!se);for(var ue=se?-1:1,oe=ue*ye,Se=0,le=0;le<te;le++){var Ce=ue*q._rangebreaks[le].min,Qe=ue*q._rangebreaks[le].max;if(oe<Ce)break;if(oe>Qe)Se=le+1;else{Se=oe<(Ce+Qe)/2?le:le+1;break}}var ze=q._B[Se]||0;return isFinite(ze)?ke(ye,q._m2,ze):0},De=function(ye){var te=q._rangebreaks.length;if(!te)return $e(ye,q._m,q._b);for(var se=0,ue=0;ue<te&&!(ye<q._rangebreaks[ue].pmin);ue++)ye>q._rangebreaks[ue].pmax&&(se=ue+1);return $e(ye,q._m2,q._B[se])}}q.c2l=q.type==="log"?Te:T,q.l2c=q.type==="log"?L:T,q.l2p=Ze,q.p2l=De,q.c2p=q.type==="log"?function(ye,te){return Ze(Te(ye,te))}:Ze,q.p2c=q.type==="log"?function(ye){return L(De(ye))}:De,["linear","-"].indexOf(q.type)!==-1?(q.d2r=q.r2d=q.d2c=q.r2c=q.d2l=q.r2l=k,q.c2d=q.c2r=q.l2d=q.l2r=T,q.d2p=q.r2p=function(ye){return q.l2p(k(ye))},q.p2d=q.p2r=De,q.cleanPos=T):q.type==="log"?(q.d2r=q.d2l=function(ye,te){return Te(k(ye),te)},q.r2d=q.r2c=function(ye){return L(k(ye))},q.d2c=q.r2l=k,q.c2d=q.l2r=T,q.c2r=Te,q.l2d=L,q.d2p=function(ye,te){return q.l2p(q.d2r(ye,te))},q.p2d=function(ye){return L(De(ye))},q.r2p=function(ye){return q.l2p(k(ye))},q.p2r=De,q.cleanPos=T):q.type==="date"?(q.d2r=q.r2d=y.identity,q.d2c=q.r2c=q.d2l=q.r2l=Be,q.c2d=q.c2r=q.l2d=q.l2r=ge,q.d2p=q.r2p=function(ye,te,se){return q.l2p(Be(ye,0,se))},q.p2d=q.p2r=function(ye,te,se){return ge(De(ye),te,se)},q.cleanPos=function(ye){return y.cleanDate(ye,V,q.calendar)}):q.type==="category"?(q.d2c=q.d2l=pe,q.r2d=q.c2d=q.l2d=ne,q.d2r=q.d2l_noadd=xe,q.r2c=function(ye){var te=Le(ye);return te!==void 0?te:q.fraction2r(.5)},q.l2r=q.c2r=T,q.r2l=Le,q.d2p=function(ye){return q.l2p(q.r2c(ye))},q.p2d=function(ye){return ne(De(ye))},q.r2p=q.d2p,q.p2r=De,q.cleanPos=function(ye){return typeof ye=="string"&&ye!==""?ye:T(ye)}):q.type==="multicategory"&&(q.r2d=q.c2d=q.l2d=ne,q.d2r=q.d2l_noadd=xe,q.r2c=function(ye){var te=xe(ye);return te!==void 0?te:q.fraction2r(.5)},q.r2c_just_indices=Oe,q.l2r=q.c2r=T,q.r2l=xe,q.d2p=function(ye){return q.l2p(q.r2c(ye))},q.p2d=function(ye){return ne(De(ye))},q.r2p=q.d2p,q.p2r=De,q.cleanPos=function(ye){return Array.isArray(ye)||typeof ye=="string"&&ye!==""?ye:T(ye)},q.setupMultiCategory=function(ye){var te=q._traceIndices,se,ue,oe=q._matchGroup;if(oe&&q._categories.length===0){for(var Se in oe)if(Se!==ee){var le=fe[E.id2name(Se)];te=te.concat(le._traceIndices)}}var Ce=[[0,{}],[0,{}]],Qe=[];for(se=0;se<te.length;se++){var ze=ye[te[se]];if(be in ze){var Xe=ze[be],ct=ze._length||y.minRowLength(Xe);if(R(Xe[0])&&R(Xe[1]))for(ue=0;ue<ct;ue++){var pt=Xe[0][ue],Ye=Xe[1][ue];me(pt)&&me(Ye)&&(Qe.push([pt,Ye]),pt in Ce[0][1]||(Ce[0][1][pt]=Ce[0][0]++),Ye in Ce[1][1]||(Ce[1][1][Ye]=Ce[1][0]++))}}}for(Qe.sort(function(je,et){var yt=Ce[0][1],ft=yt[je[0]]-yt[et[0]];if(ft)return ft;var tt=Ce[1][1];return tt[je[1]]-tt[et[1]]}),se=0;se<Qe.length;se++)pe(Qe[se])}),q.fraction2r=function(ye){var te=q.r2l(q.range[0]),se=q.r2l(q.range[1]);return q.l2r(te+ye*(se-te))},q.r2fraction=function(ye){var te=q.r2l(q.range[0]),se=q.r2l(q.range[1]);return(q.r2l(ye)-te)/(se-te)},q.limitRange=function(ye){var te=q.minallowed,se=q.maxallowed;if(!(te===void 0&&se===void 0)){ye||(ye="range");var ue=y.nestedProperty(q,ye).get(),oe=y.simpleMap(ue,q.r2l),Se=oe[1]<oe[0];Se&&oe.reverse();var le=y.simpleMap([te,se],q.r2l);te!==void 0&&oe[0]<le[0]&&(ue[Se?1:0]=te),se!==void 0&&oe[1]>le[1]&&(ue[Se?0:1]=se)}},q.cleanRange=function(ye,te){q._cleanRange(ye,te),q.limitRange(ye)},q._cleanRange=function(ye,te){te||(te={}),ye||(ye="range");var se=y.nestedProperty(q,ye).get(),ue,oe;if(q.type==="date"?oe=y.dfltRange(q.calendar):be==="y"?oe=W.DFLTRANGEY:q._name==="realaxis"?oe=[0,1]:oe=te.dfltRange||W.DFLTRANGEX,oe=oe.slice(),(q.rangemode==="tozero"||q.rangemode==="nonnegative")&&(oe[0]=0),!se||se.length!==2){y.nestedProperty(q,ye).set(oe);return}var Se=se[0]===null,le=se[1]===null;for(q.type==="date"&&!q.autorange&&(se[0]=y.cleanDate(se[0],V,q.calendar),se[1]=y.cleanDate(se[1],V,q.calendar)),ue=0;ue<2;ue++)if(q.type==="date"){if(!y.isDateTime(se[ue],q.calendar)){q[ye]=oe;break}if(q.r2l(se[0])===q.r2l(se[1])){var Ce=y.constrain(q.r2l(se[0]),y.MIN_MS+1e3,y.MAX_MS-1e3);se[0]=q.l2r(Ce-1e3),se[1]=q.l2r(Ce+1e3);break}}else{if(!x(se[ue]))if(!(Se||le)&&x(se[1-ue]))se[ue]=se[1-ue]*(ue?10:.1);else{q[ye]=oe;break}if(se[ue]<-I?se[ue]=-I:se[ue]>I&&(se[ue]=I),se[0]===se[1]){var Qe=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=Qe,se[1]+=Qe}}},q.setScale=function(ye){var te=fe._size;if(q.overlaying){var se=E.getFromId({_fullLayout:fe},q.overlaying);q.domain=se.domain}var ue=ye&&q._r?"_r":"range",oe=q.calendar;q.cleanRange(ue);var Se=q.r2l(q[ue][0],oe),le=q.r2l(q[ue][1],oe),Ce=be==="y";if(Ce?(q._offset=te.t+(1-q.domain[1])*te.h,q._length=te.h*(q.domain[1]-q.domain[0]),q._m=q._length/(Se-le),q._b=-q._m*le):(q._offset=te.l+q.domain[0]*te.w,q._length=te.w*(q.domain[1]-q.domain[0]),q._m=q._length/(le-Se),q._b=-q._m*Se),q._rangebreaks=[],q._lBreaks=0,q._m2=0,q._B=[],q.rangebreaks){var Qe,ze;if(q._rangebreaks=q.locateBreaks(Math.min(Se,le),Math.max(Se,le)),q._rangebreaks.length){for(Qe=0;Qe<q._rangebreaks.length;Qe++)ze=q._rangebreaks[Qe],q._lBreaks+=Math.abs(ze.max-ze.min);var Xe=Ce;Se>le&&(Xe=!Xe),Xe&&q._rangebreaks.reverse();var ct=Xe?-1:1;for(q._m2=ct*q._length/(Math.abs(le-Se)-q._lBreaks),q._B.push(-q._m2*(Ce?le:Se)),Qe=0;Qe<q._rangebreaks.length;Qe++)ze=q._rangebreaks[Qe],q._B.push(q._B[q._B.length-1]-ct*q._m2*(ze.max-ze.min));for(Qe=0;Qe<q._rangebreaks.length;Qe++)ze=q._rangebreaks[Qe],ze.pmin=Ze(ze.min),ze.pmax=Ze(ze.max)}}if(!isFinite(q._m)||!isFinite(q._b)||q._length<0)throw fe._replotting=!1,new Error("Something went wrong with axis scaling")},q.maskBreaks=function(ye){var te=q.rangebreaks||[],se,ue,oe,Se,le;te._cachedPatterns||(te._cachedPatterns=te.map(function(yt){return yt.enabled&&yt.bounds?y.simpleMap(yt.bounds,yt.pattern?k:q.d2c):null})),te._cachedValues||(te._cachedValues=te.map(function(yt){return yt.enabled&&yt.values?y.simpleMap(yt.values,q.d2c).sort(y.sorterAsc):null}));for(var Ce=0;Ce<te.length;Ce++){var Qe=te[Ce];if(Qe.enabled){if(Qe.bounds){var ze=Qe.pattern;switch(se=te._cachedPatterns[Ce],ue=se[0],oe=se[1],ze){case ie:le=new Date(ye),Se=le.getUTCDay(),ue>oe&&(oe+=7,Se<ue&&(Se+=7));break;case Y:le=new Date(ye);var Xe=le.getUTCHours(),ct=le.getUTCMinutes(),pt=le.getUTCSeconds(),Ye=le.getUTCMilliseconds();Se=Xe+(ct/60+pt/3600+Ye/36e5),ue>oe&&(oe+=24,Se<ue&&(Se+=24));break;case"":Se=ye;break}if(Se>=ue&&Se<oe)return V}else for(var je=te._cachedValues[Ce],et=0;et<je.length;et++)if(ue=je[et],oe=ue+Qe.dvalue,ye>=ue&&ye<oe)return V}}return ye},q.locateBreaks=function(ye,te){var se,ue,oe,Se,le=[];if(!q.rangebreaks)return le;var Ce=q.rangebreaks.slice().sort(function(tt,wt){return tt.pattern===ie&&wt.pattern===Y?-1:wt.pattern===ie&&tt.pattern===Y?1:0}),Qe=function(tt,wt){if(tt=y.constrain(tt,ye,te),wt=y.constrain(wt,ye,te),tt!==wt){for(var Xt=!0,Gt=0;Gt<le.length;Gt++){var Nt=le[Gt];tt<Nt.max&&wt>=Nt.min&&(tt<Nt.min&&(Nt.min=tt),wt>Nt.max&&(Nt.max=wt),Xt=!1)}Xt&&le.push({min:tt,max:wt})}};for(se=0;se<Ce.length;se++){var ze=Ce[se];if(ze.enabled)if(ze.bounds){var Xe=ye,ct=te;ze.pattern&&(Xe=Math.floor(Xe)),ue=y.simpleMap(ze.bounds,ze.pattern?k:q.r2l),oe=ue[0],Se=ue[1];var pt=new Date(Xe),Ye,je;switch(ze.pattern){case ie:je=F,Ye=((Se<oe?7:0)+(Se-oe))*z,Xe+=oe*z-(pt.getUTCDay()*z+pt.getUTCHours()*U+pt.getUTCMinutes()*Q+pt.getUTCSeconds()*B+pt.getUTCMilliseconds());break;case Y:je=z,Ye=((Se<oe?24:0)+(Se-oe))*U,Xe+=oe*U-(pt.getUTCHours()*U+pt.getUTCMinutes()*Q+pt.getUTCSeconds()*B+pt.getUTCMilliseconds());break;default:Xe=Math.min(ue[0],ue[1]),ct=Math.max(ue[0],ue[1]),je=ct-Xe,Ye=je}for(var et=Xe;et<ct;et+=je)Qe(et,et+Ye)}else for(var yt=y.simpleMap(ze.values,q.d2c),ft=0;ft<yt.length;ft++)oe=yt[ft],Se=oe+ze.dvalue,Qe(oe,Se)}return le.sort(function(tt,wt){return tt.min-wt.min}),le},q.makeCalcdata=function(ye,te,se){var ue,oe,Se,le,Ce=q.type,Qe=Ce==="date"&&ye[te+"calendar"];if(te in ye){if(ue=ye[te],le=ye._length||y.minRowLength(ue),y.isTypedArray(ue)&&(Ce==="linear"||Ce==="log")){if(le===ue.length)return ue;if(ue.subarray)return ue.subarray(0,le)}if(Ce==="multicategory")return G(ue,le);for(oe=new Array(le),Se=0;Se<le;Se++)oe[Se]=q.d2c(ue[Se],0,Qe,se)}else{var ze=te+"0"in ye?q.d2c(ye[te+"0"],0,Qe):0,Xe=ye["d"+te]?Number(ye["d"+te]):1;for(ue=ye[{x:"y",y:"x"}[te]],le=ye._length||ue.length,oe=new Array(le),Se=0;Se<le;Se++)oe[Se]=ze+Se*Xe}if(q.rangebreaks)for(Se=0;Se<le;Se++)oe[Se]=q.maskBreaks(oe[Se]);return oe},q.isValidRange=function(ye,te){return Array.isArray(ye)&&ye.length===2&&(te&&ye[0]===null||x(q.r2l(ye[0])))&&(te&&ye[1]===null||x(q.r2l(ye[1])))},q.getAutorangeDflt=function(ye,te){var se=!q.isValidRange(ye,"nullOk");return se&&te&&te.reverseDflt?se="reversed":ye&&(ye[0]===null&&ye[1]===null?se=!0:ye[0]===null&&ye[1]!==null?se="min":ye[0]!==null&&ye[1]===null&&(se="max")),se},q.isReversed=function(){var ye=q.autorange;return ye==="reversed"||ye==="min reversed"||ye==="max reversed"},q.isPtWithinRange=function(ye,te){var se=q.c2l(ye[be],null,te),ue=q.r2l(q.range[0]),oe=q.r2l(q.range[1]);return ue<oe?ue<=se&&se<=oe:oe<=se&&se<=ue},q._emptyCategories=function(){q._categories=[],q._categoriesMap={}},q.clearCalc=function(){var ye=q._matchGroup;if(ye){var te=null,se=null;for(var ue in ye){var oe=fe[E.id2name(ue)];if(oe._categories){te=oe._categories,se=oe._categoriesMap;break}}te&&se?(q._categories=te,q._categoriesMap=se):q._emptyCategories()}else q._emptyCategories();if(q._initialCategories)for(var Se=0;Se<q._initialCategories.length;Se++)pe(q._initialCategories[Se])},q.sortByInitialCategories=function(){var ye=[];if(q._emptyCategories(),q._initialCategories)for(var te=0;te<q._initialCategories.length;te++)pe(q._initialCategories[te]);ye=ye.concat(q._traceIndices);var se=q._matchGroup;for(var ue in se)if(ee!==ue){var oe=fe[E.id2name(ue)];oe._categories=q._categories,oe._categoriesMap=q._categoriesMap,ye=ye.concat(oe._traceIndices)}return ye};var re=fe._d3locale;q.type==="date"&&(q._dateFormat=re?re.timeFormat:v,q._extraFormat=fe._extraFormat),q._separators=fe.separators,q._numFormat=re?re.numberFormat:b,delete q._minDtick,delete q._forceTick0}},9652:function(f){f.exports=function(u){var p=["showexponent","showtickprefix","showticksuffix"],v=p.filter(function(b){return u[b]!==void 0}),y=function(b){return u[b]===u[v[0]]};if(v.every(y)||v.length===1)return u[v[0]]}},6115:function(f,h,u){var p=u(1828),v=u(7901).contrast,y=u(3838),b=u(9652),x=u(5501);f.exports=function(w,T,R,M,I){I||(I={});var V=R("labelalias");p.isPlainObject(V)||delete T.labelalias;var N=b(w),F=R("showticklabels");if(F){var z=I.font||{},U=T.color,Q=T.ticklabelposition||"",B=Q.indexOf("inside")!==-1?v(I.bgColor):U&&U!==y.color.dflt?U:z.color;if(p.coerceFont(R,"tickfont",{family:z.family,size:z.size,color:B}),!I.noTicklabelstep&&M!=="multicategory"&&M!=="log"&&R("ticklabelstep"),I.noAng||R("tickangle"),M!=="category"){var E=R("tickformat");x(w,T,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:k}),T.tickformatstops.length||delete T.tickformatstops,!I.noExp&&!E&&M!=="date"&&(R("showexponent",N),R("exponentformat"),R("minexponent"),R("separatethousands"))}}};function k(C,w){function T(M,I){return p.coerce(C,w,y.tickformatstops,M,I)}var R=T("enabled");R&&(T("dtickrange"),T("value"))}},8701:function(f,h,u){var p=u(1828),v=u(3838);f.exports=function(b,x,k,C){var w=C.isMinor,T=w?b.minor||{}:b,R=w?x.minor:x,M=w?v.minor:v,I=w?"minor.":"",V=p.coerce2(T,R,M,"ticklen",w?(x.ticklen||5)*.6:void 0),N=p.coerce2(T,R,M,"tickwidth",w?x.tickwidth||1:void 0),F=p.coerce2(T,R,M,"tickcolor",(w?x.tickcolor:void 0)||R.color),z=k(I+"ticks",!w&&C.outerTicks||V||N||F?"outside":"");z||(delete R.ticklen,delete R.tickwidth,delete R.tickcolor)}},6218:function(f,h,u){var p=u(6287),v=u(1828).isArrayOrTypedArray;f.exports=function(b,x,k,C,w){w||(w={});var T=w.isMinor,R=T?b.minor||{}:b,M=T?x.minor:x,I=T?"minor.":"";function V(W){var Y=R[W];return Y!==void 0?Y:(M._template||{})[W]}var N=V("tick0"),F=V("dtick"),z=V("tickvals"),U=v(z)?"array":F?"linear":"auto",Q=k(I+"tickmode",U);if(Q==="auto"||Q==="sync")k(I+"nticks");else if(Q==="linear"){var B=M.dtick=p.dtick(F,C);M.tick0=p.tick0(N,C,x.calendar,B)}else if(C!=="multicategory"){var E=k(I+"tickvals");E===void 0?M.tickmode="auto":T||k("ticktext")}}},6847:function(f,h,u){var p=u(9898),v=u(3972),y=u(1828),b=u(1424),x=u(9298);f.exports=function(C,w,T,R){var M=C._fullLayout;if(w.length===0){x.redrawComponents(C);return}function I(Y){var ie=Y.xaxis,L=Y.yaxis;M._defs.select("#"+Y.clipId+"> rect").call(b.setTranslate,0,0).call(b.setScale,1,1),Y.plot.call(b.setTranslate,ie._offset,L._offset).call(b.setScale,1,1);var me=Y.plot.selectAll(".scatterlayer .trace");me.selectAll(".point").call(b.setPointGroupScale,1,1),me.selectAll(".textpoint").call(b.setTextPointsScale,1,1),me.call(b.hideOutsideRangePoints,Y)}function V(Y,ie){var L=Y.plotinfo,me=L.xaxis,ae=L.yaxis,q=me._length,fe=ae._length,ee=!!Y.xr1,be=!!Y.yr1,Te=[];if(ee){var Be=y.simpleMap(Y.xr0,me.r2l),ge=y.simpleMap(Y.xr1,me.r2l),ne=Be[1]-Be[0],pe=ge[1]-ge[0];Te[0]=(Be[0]*(1-ie)+ie*ge[0]-Be[0])/(Be[1]-Be[0])*q,Te[2]=q*(1-ie+ie*pe/ne),me.range[0]=me.l2r(Be[0]*(1-ie)+ie*ge[0]),me.range[1]=me.l2r(Be[1]*(1-ie)+ie*ge[1])}else Te[0]=0,Te[2]=q;if(be){var G=y.simpleMap(Y.yr0,ae.r2l),Oe=y.simpleMap(Y.yr1,ae.r2l),xe=G[1]-G[0],Le=Oe[1]-Oe[0];Te[1]=(G[1]*(1-ie)+ie*Oe[1]-G[1])/(G[0]-G[1])*fe,Te[3]=fe*(1-ie+ie*Le/xe),ae.range[0]=me.l2r(G[0]*(1-ie)+ie*Oe[0]),ae.range[1]=ae.l2r(G[1]*(1-ie)+ie*Oe[1])}else Te[1]=0,Te[3]=fe;x.drawOne(C,me,{skipTitle:!0}),x.drawOne(C,ae,{skipTitle:!0}),x.redrawComponents(C,[me._id,ae._id]);var ke=ee?q/Te[2]:1,$e=be?fe/Te[3]:1,Ze=ee?Te[0]:0,De=be?Te[1]:0,Ie=ee?Te[0]/Te[2]*q:0,re=be?Te[1]/Te[3]*fe:0,ye=me._offset-Ie,te=ae._offset-re;L.clipRect.call(b.setTranslate,Ze,De).call(b.setScale,1/ke,1/$e),L.plot.call(b.setTranslate,ye,te).call(b.setScale,ke,$e),b.setPointGroupScale(L.zoomScalePts,1/ke,1/$e),b.setTextPointsScale(L.zoomScaleTxt,1/ke,1/$e)}var N;R&&(N=R());function F(){for(var Y={},ie=0;ie<w.length;ie++){var L=w[ie],me=L.plotinfo.xaxis,ae=L.plotinfo.yaxis;L.xr1&&(Y[me._name+".range"]=L.xr1.slice()),L.yr1&&(Y[ae._name+".range"]=L.yr1.slice())}return N&&N(),v.call("relayout",C,Y).then(function(){for(var q=0;q<w.length;q++)I(w[q].plotinfo)})}function z(){for(var Y={},ie=0;ie<w.length;ie++){var L=w[ie],me=L.plotinfo.xaxis,ae=L.plotinfo.yaxis;L.xr0&&(Y[me._name+".range"]=L.xr0.slice()),L.yr0&&(Y[ae._name+".range"]=L.yr0.slice())}return v.call("relayout",C,Y).then(function(){for(var q=0;q<w.length;q++)I(w[q].plotinfo)})}var U,Q,B,E=p.ease(T.easing);C._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(B),B=null,z()});function W(){Q=Date.now();for(var Y=Math.min(1,(Q-U)/T.duration),ie=E(Y),L=0;L<w.length;L++)V(w[L],ie);Q-U>T.duration?(F(),B=window.cancelAnimationFrame(W)):B=window.requestAnimationFrame(W)}return U=Date.now(),B=window.requestAnimationFrame(W),Promise.resolve()}},951:function(f,h,u){var p=u(3972).traceIs,v=u(4322);f.exports=function(w,T,R,M){R("autotypenumbers",M.autotypenumbersDflt);var I=R("type",(M.splomStash||{}).type);I==="-"&&(y(T,M.data),T.type==="-"?T.type="linear":w.type=T.type)};function y(C,w){if(C.type==="-"){var T=C._id,R=T.charAt(0),M;T.indexOf("scene")!==-1&&(T=R);var I=b(w,T,R);if(I){if(I.type==="histogram"&&R==={v:"y",h:"x"}[I.orientation||"v"]){C.type="linear";return}var V=R+"calendar",N=I[V],F={noMultiCategory:!p(I,"cartesian")||p(I,"noMultiCategory")};if(I.type==="box"&&I._hasPreCompStats&&R==={h:"x",v:"y"}[I.orientation||"v"]&&(F.noMultiCategory=!0),F.autotypenumbers=C.autotypenumbers,k(I,R)){var z=x(I),U=[];for(M=0;M<w.length;M++){var Q=w[M];!p(Q,"box-violin")||(Q[R+"axis"]||R)!==T||(Q[z]!==void 0?U.push(Q[z][0]):Q.name!==void 0?U.push(Q.name):U.push("text"),Q[V]!==N&&(N=void 0))}C.type=v(U,N,F)}else if(I.type==="splom"){var B=I.dimensions,E=B[I._axesDim[T]];E.visible&&(C.type=v(E.values,N,F))}else C.type=v(I[R]||[I[R+"0"]],N,F)}}}function b(C,w,T){for(var R=0;R<C.length;R++){var M=C[R];if(M.type==="splom"&&M._length>0&&(M["_"+T+"axes"]||{})[w])return M;if((M[T+"axis"]||T)===w){if(k(M,T))return M;if((M[T]||[]).length||M[T+"0"])return M}}}function x(C){return{v:"x",h:"y"}[C.orientation||"v"]}function k(C,w){var T=x(C),R=p(C,"box-violin"),M=p(C._fullInput||{},"candlestick");return R&&!M&&w===T&&C[T]===void 0&&C[T+"0"]===void 0}},1137:function(f,h,u){var p=u(3972),v=u(1828);h.manageCommandObserver=function(w,T,R,M){var I={},V=!0;T&&T._commandObserver&&(I=T._commandObserver),I.cache||(I.cache={}),I.lookupTable={};var N=h.hasSimpleAPICommandBindings(w,R,I.lookupTable);if(T&&T._commandObserver){if(N)return I;if(T._commandObserver.remove)return T._commandObserver.remove(),T._commandObserver=null,I}if(N){y(w,N,I.cache),I.check=function(){if(V){var Q=y(w,N,I.cache);return Q.changed&&M&&I.lookupTable[Q.value]!==void 0&&(I.disable(),Promise.resolve(M({value:Q.value,type:N.type,prop:N.prop,traces:N.traces,index:I.lookupTable[Q.value]})).then(I.enable,I.enable)),Q.changed}};for(var F=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],z=0;z<F.length;z++)w._internalOn(F[z],I.check);I.remove=function(){for(var U=0;U<F.length;U++)w._removeInternalListener(F[U],I.check)}}else v.log("Unable to automatically bind plot updates to API command"),I.lookupTable={},I.remove=function(){};return I.disable=function(){V=!1},I.enable=function(){V=!0},T&&(T._commandObserver=I),I},h.hasSimpleAPICommandBindings=function(w,T,R){var M,I=T.length,V;for(M=0;M<I;M++){var N,F=T[M],z=F.method,U=F.args;if(Array.isArray(U)||(U=[]),!z)return!1;var Q=h.computeAPICommandBindings(w,z,U);if(Q.length!==1)return!1;if(!V)V=Q[0],Array.isArray(V.traces)&&V.traces.sort();else{if(N=Q[0],N.type!==V.type||N.prop!==V.prop)return!1;if(Array.isArray(V.traces))if(Array.isArray(N.traces)){N.traces.sort();for(var B=0;B<V.traces.length;B++)if(V.traces[B]!==N.traces[B])return!1}else return!1;else if(N.prop!==V.prop)return!1}N=Q[0];var E=N.value;if(Array.isArray(E))if(E.length===1)E=E[0];else return!1;R&&(R[E]=M)}return V};function y(w,T,R){var M,I,V,N=!1;if(T.type==="data")M=w._fullData[T.traces!==null?T.traces[0]:0];else if(T.type==="layout")M=w._fullLayout;else return!1;return I=v.nestedProperty(M,T.prop).get(),V=R[T.type]=R[T.type]||{},V.hasOwnProperty(T.prop)&&V[T.prop]!==I&&(N=!0),V[T.prop]=I,{changed:N,value:I}}h.executeAPICommand=function(w,T,R){if(T==="skip")return Promise.resolve();var M=p.apiMethodRegistry[T],I=[w];Array.isArray(R)||(R=[]);for(var V=0;V<R.length;V++)I.push(R[V]);return M.apply(null,I).catch(function(N){return v.warn("API call to Plotly."+T+" rejected.",N),Promise.reject(N)})},h.computeAPICommandBindings=function(w,T,R){var M;switch(Array.isArray(R)||(R=[]),T){case"restyle":M=k(w,R);break;case"relayout":M=x(w,R);break;case"update":M=k(w,[R[0],R[2]]).concat(x(w,[R[1]]));break;case"animate":M=b(w,R);break;default:M=[]}return M};function b(w,T){return Array.isArray(T[0])&&T[0].length===1&&["string","number"].indexOf(typeof T[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:T[0][0].toString()}]:[]}function x(w,T){var R=[],M=T[0],I={};if(typeof M=="string")I[M]=T[1];else if(v.isPlainObject(M))I=M;else return R;return C(I,function(V,N,F){R.push({type:"layout",prop:V,value:F})},"",0),R}function k(w,T){var R,M,I,V,N=[];if(M=T[0],I=T[1],R=T[2],V={},typeof M=="string")V[M]=I;else if(v.isPlainObject(M))V=M,R===void 0&&(R=I);else return N;return R===void 0&&(R=null),C(V,function(F,z,U){var Q,B;if(Array.isArray(U)){B=U.slice();var E=Math.min(B.length,w.data.length);R&&(E=Math.min(E,R.length)),Q=[];for(var W=0;W<E;W++)Q[W]=R?R[W]:W}else B=U,Q=R?R.slice():null;if(Q===null)Array.isArray(B)&&(B=B[0]);else if(Array.isArray(Q)){if(!Array.isArray(B)){var Y=B;B=[];for(var ie=0;ie<Q.length;ie++)B[ie]=Y}B.length=Math.min(Q.length,B.length)}N.push({type:"data",prop:F,traces:Q,value:B})},"",0),N}function C(w,T,R,M){Object.keys(w).forEach(function(I){var V=w[I];if(I[0]!=="_"){var N=R+(M>0?".":"")+I;v.isPlainObject(V)?C(V,T,N,M+1):T(N,I,V)}})}},7670:function(f,h,u){var p=u(1426).extendFlat;h.Y=function(v,y){v=v||{},y=y||{};var b={valType:"info_array",editType:v.editType,items:[{valType:"number",min:0,max:1,editType:v.editType},{valType:"number",min:0,max:1,editType:v.editType}],dflt:[0,1]};v.name&&v.name+"",v.trace,y.description&&""+y.description;var x={x:p({},b,{}),y:p({},b,{}),editType:v.editType};return v.noGridCell||(x.row={valType:"integer",min:0,dflt:0,editType:v.editType},x.column={valType:"integer",min:0,dflt:0,editType:v.editType}),x},h.c=function(v,y,b,x){var k=x&&x.x||[0,1],C=x&&x.y||[0,1],w=y.grid;if(w){var T=b("domain.column");T!==void 0&&(T<w.columns?k=w._domains.x[T]:delete v.domain.column);var R=b("domain.row");R!==void 0&&(R<w.rows?C=w._domains.y[R]:delete v.domain.row)}var M=b("domain.x",k),I=b("domain.y",C);M[0]<M[1]||(v.domain.x=k.slice()),I[0]<I[1]||(v.domain.y=C.slice())}},1940:function(f){f.exports=function(h){var u=h.editType,p=h.colorEditType;p===void 0&&(p=u);var v={family:{valType:"string",noBlank:!0,strict:!0,editType:u},size:{valType:"number",min:1,editType:u},color:{valType:"color",editType:p},editType:u};return h.autoSize&&(v.size.dflt="auto"),h.autoColor&&(v.color.dflt="auto"),h.arrayOk&&(v.family.arrayOk=!0,v.size.arrayOk=!0,v.color.arrayOk=!0),v}},1391:function(f){f.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(f,h,u){var p=u(3972);u(5555).SUBPLOT_PATTERN,h.a0=function(v,y){var b=[],x=[],k;if(typeof y=="string"?k=p.getModule(y).plot:typeof y=="function"?k=y:k=y.plot,!k)return[b,v];for(var C=0;C<v.length;C++){var w=v[C],T=w[0].trace;T.visible!==!0||T._length===0||(T._module&&T._module.plot===k?b.push(w):x.push(w))}return[b,x]}},3538:function(f){function h(p,v){var y=[0,0,0,0],b,x;for(b=0;b<4;++b)for(x=0;x<4;++x)y[x]+=p[4*b+x]*v[b];return y}function u(p,v){var y=h(p.projection,h(p.view,h(p.model,[v[0],v[1],v[2],1])));return y}f.exports=u},820:function(f,h,u){var p=u(1940),v=u(5594),y=u(2399),b=u(9241),x=u(3777),k=u(5025),C=u(1426).extendFlat,w=p({editType:"calc"});w.family.dflt='"Open Sans", verdana, arial, sans-serif',w.size.dflt=12,w.color.dflt=y.defaultLine,f.exports={font:w,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:C(k({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:y.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:y.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:y.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:b.newshape,activeshape:b.activeshape,newselection:x.newselection,activeselection:x.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:C({},v.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},5025:function(f){f.exports=function(h){var u=h.editType;return{t:{valType:"number",dflt:0,editType:u},r:{valType:"number",dflt:0,editType:u},b:{valType:"number",dflt:0,editType:u},l:{valType:"number",dflt:0,editType:u},editType:u}}},4875:function(f,h,u){var p=u(9898),v=u(4096).Dq,y=u(721).FF,b=u(2770),x=u(3972),k=u(6281),C=u(4467),w=u(1828),T=u(7901),R=u(606).BADNUM,M=u(1675),I=u(1873).clearOutline,V=u(1479),N=u(5594),F=u(1391),z=u(7659).a0,U=w.relinkPrivateKeys,Q=w._,B=f.exports={};w.extendFlat(B,x),B.attributes=u(9012),B.attributes.type.values=B.allTypes,B.fontAttrs=u(1940),B.layoutAttributes=u(820),B.fontWeight="normal";var E=B.transformsRegistry,W=u(1137);B.executeAPICommand=W.executeAPICommand,B.computeAPICommandBindings=W.computeAPICommandBindings,B.manageCommandObserver=W.manageCommandObserver,B.hasSimpleAPICommandBindings=W.hasSimpleAPICommandBindings,B.redrawText=function(re){return re=w.getGraphDiv(re),new Promise(function(ye){setTimeout(function(){re._fullLayout&&(x.getComponentMethod("annotations","draw")(re),x.getComponentMethod("legend","draw")(re),x.getComponentMethod("colorbar","draw")(re),ye(B.previousPromises(re)))},300)})},B.resize=function(re){re=w.getGraphDiv(re);var ye,te=new Promise(function(se,ue){(!re||w.isHidden(re))&&ue(new Error("Resize must be passed a displayed plot div element.")),re._redrawTimer&&clearTimeout(re._redrawTimer),re._resolveResize&&(ye=re._resolveResize),re._resolveResize=se,re._redrawTimer=setTimeout(function(){if(!re.layout||re.layout.width&&re.layout.height||w.isHidden(re)){se(re);return}delete re.layout.width,delete re.layout.height;var oe=re.changed;re.autoplay=!0,x.call("relayout",re,{autosize:!0}).then(function(){re.changed=oe,re._resolveResize===se&&(delete re._resolveResize,se(re))})},100)});return ye&&ye(te),te},B.previousPromises=function(re){if((re._promises||[]).length)return Promise.all(re._promises).then(function(){re._promises=[]})},B.addLinks=function(re){if(!(!re._context.showLink&&!re._context.showSources)){var ye=re._fullLayout,te=w.ensureSingle(ye._paper,"text","js-plot-link-container",function(Ce){Ce.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:T.defaultLine,"pointer-events":"all"}).each(function(){var Qe=p.select(this);Qe.append("tspan").classed("js-link-to-tool",!0),Qe.append("tspan").classed("js-link-spacer",!0),Qe.append("tspan").classed("js-sourcelinks",!0)})}),se=te.node(),ue={y:ye._paper.attr("height")-9};document.body.contains(se)&&se.getComputedTextLength()>=ye.width-20?(ue["text-anchor"]="start",ue.x=5):(ue["text-anchor"]="end",ue.x=ye._paper.attr("width")-7),te.attr(ue);var oe=te.select(".js-link-to-tool"),Se=te.select(".js-link-spacer"),le=te.select(".js-sourcelinks");re._context.showSources&&re._context.showSources(re),re._context.showLink&&Y(re,oe),Se.text(oe.text()&&le.text()?" - ":"")}};function Y(re,ye){ye.text("");var te=ye.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(re._context.linkText+" "+String.fromCharCode(187));if(re._context.sendData)te.on("click",function(){B.sendDataToCloud(re)});else{var se=window.location.pathname.split("/"),ue=window.location.search;te.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+ue})}}B.sendDataToCloud=function(re){var ye=(window.PLOTLYENV||{}).BASE_URL||re._context.plotlyServerURL;if(ye){re.emit("plotly_beforeexport");var te=p.select(re).append("div").attr("id","hiddenform").style("display","none"),se=te.append("form").attr({action:ye+"/external",method:"post",target:"_blank"}),ue=se.append("input").attr({type:"text",name:"data"});return ue.node().value=B.graphJson(re,!1,"keepdata"),se.node().submit(),te.remove(),re.emit("plotly_afterexport"),!1}};var ie=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];B.supplyDefaults=function(re,ye){var te=ye&&ye.skipUpdateCalc,se=re._fullLayout||{};if(se._skipDefaults){delete se._skipDefaults;return}var ue=re._fullLayout={},oe=re.layout||{},Se=re._fullData||[],le=re._fullData=[],Ce=re.data||[],Qe=re.calcdata||[],ze=re._context||{},Xe;re._transitionData||B.createTransitionData(re),ue._dfltTitle={plot:Q(re,"Click to enter Plot title"),x:Q(re,"Click to enter X axis title"),y:Q(re,"Click to enter Y axis title"),colorbar:Q(re,"Click to enter Colorscale title"),annotation:Q(re,"new text")},ue._traceWord=Q(re,"trace");var ct=q(re,ie);if(ue._mapboxAccessToken=ze.mapboxAccessToken,se._initialAutoSizeIsDone){var pt=se.width,Ye=se.height;B.supplyLayoutGlobalDefaults(oe,ue,ct),oe.width||(ue.width=pt),oe.height||(ue.height=Ye),B.sanitizeMargins(ue)}else{B.supplyLayoutGlobalDefaults(oe,ue,ct);var je=!oe.width||!oe.height,et=ue.autosize,yt=ze.autosizable,ft=je&&(et||yt);ft?B.plotAutoSize(re,oe,ue):je&&B.sanitizeMargins(ue),!et&&je&&(oe.width=ue.width,oe.height=ue.height)}ue._d3locale=fe(ct,ue.separators),ue._extraFormat=q(re,L),ue._initialAutoSizeIsDone=!0,ue._dataLength=Ce.length,ue._modules=[],ue._visibleModules=[],ue._basePlotModules=[];var tt=ue._subplots=ae(),wt=ue._splomAxes={x:{},y:{}},Xt=ue._splomSubplots={};ue._splomGridDflt={},ue._scatterStackOpts={},ue._firstScatter={},ue._alignmentOpts={},ue._colorAxes={},ue._requestRangeslider={},ue._traceUids=me(Se,Ce),ue._globalTransforms=(re._context||{}).globalTransforms,B.supplyDataDefaults(Ce,le,oe,ue);var Gt=Object.keys(wt.x),Nt=Object.keys(wt.y);if(Gt.length>1&&Nt.length>1){for(x.getComponentMethod("grid","sizeDefaults")(oe,ue),Xe=0;Xe<Gt.length;Xe++)w.pushUnique(tt.xaxis,Gt[Xe]);for(Xe=0;Xe<Nt.length;Xe++)w.pushUnique(tt.yaxis,Nt[Xe]);for(var Bt in Xt)w.pushUnique(tt.cartesian,Bt)}if(ue._has=B._hasPlotType.bind(ue),Se.length===le.length)for(Xe=0;Xe<le.length;Xe++)U(le[Xe],Se[Xe]);B.supplyLayoutModuleDefaults(oe,ue,le,re._transitionData);var vn=ue._visibleModules,En=[];for(Xe=0;Xe<vn.length;Xe++){var ln=vn[Xe].crossTraceDefaults;ln&&w.pushUnique(En,ln)}for(Xe=0;Xe<En.length;Xe++)En[Xe](le,ue);ue._hasOnlyLargeSploms=ue._basePlotModules.length===1&&ue._basePlotModules[0].name==="splom"&&Gt.length>15&&Nt.length>15&&ue.shapes.length===0&&ue.images.length===0,B.linkSubplots(le,ue,Se,se),B.cleanPlot(le,ue,Se,se);var Yn=!!(se._has&&se._has("gl2d")),an=!!(ue._has&&ue._has("gl2d")),wn=!!(se._has&&se._has("cartesian")),Xn=!!(ue._has&&ue._has("cartesian")),Un=wn||Yn,Sn=Xn||an;Un&&!Sn?se._bgLayer.remove():Sn&&!Un&&(ue._shouldCreateBgLayer=!0),se._zoomlayer&&!re._dragging&&I({_fullLayout:se}),ee(le,ue),U(ue,se),x.getComponentMethod("colorscale","crossTraceDefaults")(le,ue),ue._preGUI||(ue._preGUI={}),ue._tracePreGUI||(ue._tracePreGUI={});var it=ue._tracePreGUI,ut={},xt;for(xt in it)ut[xt]="old";for(Xe=0;Xe<le.length;Xe++)xt=le[Xe]._fullInput.uid,ut[xt]||(it[xt]={}),ut[xt]="new";for(xt in ut)ut[xt]==="old"&&delete it[xt];ne(ue),x.getComponentMethod("rangeslider","makeData")(ue),!te&&Qe.length===le.length&&B.supplyDefaultsUpdateCalc(Qe,le)},B.supplyDefaultsUpdateCalc=function(re,ye){for(var te=0;te<ye.length;te++){var se=ye[te],ue=(re[te]||[])[0];if(ue&&ue.trace){var oe=ue.trace;if(oe._hasCalcTransform){var Se=oe._arrayAttrs,le,Ce,Qe;for(le=0;le<Se.length;le++)Ce=Se[le],Qe=w.nestedProperty(oe,Ce).get().slice(),w.nestedProperty(se,Ce).set(Qe)}ue.trace=se}}};function me(re,ye){var te=ye.length,se=[],ue,oe;for(ue=0;ue<re.length;ue++){var Se=re[ue]._fullInput;Se!==oe&&se.push(Se),oe=Se}var le=se.length,Ce=new Array(te),Qe={};function ze(pt,Ye){Ce[Ye]=pt,Qe[pt]=1}function Xe(pt,Ye){if(pt&&typeof pt=="string"&&!Qe[pt])return ze(pt,Ye),!0}for(ue=0;ue<te;ue++){var ct=ye[ue].uid;typeof ct=="number"&&(ct=String(ct)),!Xe(ct,ue)&&(ue<le&&Xe(se[ue].uid,ue)||ze(w.randstr(Qe),ue))}return Ce}function ae(){var re=x.collectableSubplotTypes,ye={},te,se;if(!re){re=[];var ue=x.subplotsRegistry;for(var oe in ue){var Se=ue[oe],le=Se.attr;if(le&&(re.push(oe),Array.isArray(le)))for(se=0;se<le.length;se++)w.pushUnique(re,le[se])}}for(te=0;te<re.length;te++)ye[re[te]]=[];return ye}function q(re,ye){var te=re._context.locale;te||(te="en-US");var se=!1,ue={};function oe(Xe){for(var ct=!0,pt=0;pt<ye.length;pt++){var Ye=ye[pt];ue[Ye]||(Xe[Ye]?ue[Ye]=Xe[Ye]:ct=!1)}ct&&(se=!0)}for(var Se=0;Se<2;Se++){for(var le=re._context.locales,Ce=0;Ce<2;Ce++){var Qe=(le[te]||{}).format;if(Qe&&(oe(Qe),se))break;le=x.localeRegistry}var ze=te.split("-")[0];if(se||ze===te)break;te=ze}return se||oe(x.localeRegistry.en.format),ue}function fe(re,ye){return re.decimal=ye.charAt(0),re.thousands=ye.charAt(1),{numberFormat:function(te){try{te=y(re).format(w.adjustFormat(te))}catch{return w.warnBadFormat(te),w.noFormat}return te},timeFormat:v(re).utcFormat}}function ee(re,ye){var te,se=[];ye.meta&&(te=ye._meta={meta:ye.meta,layout:{meta:ye.meta}});for(var ue=0;ue<re.length;ue++){var oe=re[ue];oe.meta?se[oe.index]=oe._meta={meta:oe.meta}:ye.meta&&(oe._meta={meta:ye.meta}),ye.meta&&(oe._meta.layout={meta:ye.meta})}se.length&&(te||(te=ye._meta={}),te.data=se)}B.createTransitionData=function(re){re._transitionData||(re._transitionData={}),re._transitionData._frames||(re._transitionData._frames=[]),re._transitionData._frameHash||(re._transitionData._frameHash={}),re._transitionData._counter||(re._transitionData._counter=0),re._transitionData._interruptCallbacks||(re._transitionData._interruptCallbacks=[])},B._hasPlotType=function(re){var ye,te=this._basePlotModules||[];for(ye=0;ye<te.length;ye++)if(te[ye].name===re)return!0;var se=this._modules||[];for(ye=0;ye<se.length;ye++){var ue=se[ye].name;if(ue===re)return!0;var oe=x.modules[ue];if(oe&&oe.categories[re])return!0}return!1},B.cleanPlot=function(re,ye,te,se){var ue,oe,Se=se._basePlotModules||[];for(ue=0;ue<Se.length;ue++){var le=Se[ue];le.clean&&le.clean(re,ye,te,se)}var Ce=se._has&&se._has("gl"),Qe=ye._has&&ye._has("gl");Ce&&!Qe&&se._glcontainer!==void 0&&(se._glcontainer.selectAll(".gl-canvas").remove(),se._glcontainer.selectAll(".no-webgl").remove(),se._glcanvas=null);var ze=!!se._infolayer;e:for(ue=0;ue<te.length;ue++){var Xe=te[ue],ct=Xe.uid;for(oe=0;oe<re.length;oe++){var pt=re[oe];if(ct===pt.uid)continue e}ze&&se._infolayer.select(".cb"+ct).remove()}},B.linkSubplots=function(re,ye,te,se){var ue,oe,Se=se._plots||{},le=ye._plots={},Ce=ye._subplots,Qe={_fullData:re,_fullLayout:ye},ze=Ce.cartesian.concat(Ce.gl2d||[]);for(ue=0;ue<ze.length;ue++){var Xe=ze[ue],ct=Se[Xe],pt=M.getFromId(Qe,Xe,"x"),Ye=M.getFromId(Qe,Xe,"y"),je;for(ct?je=le[Xe]=ct:(je=le[Xe]={},je.id=Xe),pt._counterAxes.push(Ye._id),Ye._counterAxes.push(pt._id),pt._subplotsWith.push(Xe),Ye._subplotsWith.push(Xe),je.xaxis=pt,je.yaxis=Ye,je._hasClipOnAxisFalse=!1,oe=0;oe<re.length;oe++){var et=re[oe];if(et.xaxis===je.xaxis._id&&et.yaxis===je.yaxis._id&&et.cliponaxis===!1){je._hasClipOnAxisFalse=!0;break}}}var yt=M.list(Qe,null,!0),ft;for(ue=0;ue<yt.length;ue++){ft=yt[ue];var tt=null;ft.overlaying&&(tt=M.getFromId(Qe,ft.overlaying),tt&&tt.overlaying&&(ft.overlaying=!1,tt=null)),ft._mainAxis=tt||ft,tt&&(ft.domain=tt.domain.slice()),ft._anchorAxis=ft.anchor==="free"?null:M.getFromId(Qe,ft.anchor)}for(ue=0;ue<yt.length;ue++)if(ft=yt[ue],ft._counterAxes.sort(M.idSort),ft._subplotsWith.sort(w.subplotSort),ft._mainSubplot=be(ft,ye),ft._counterAxes.length&&(ft.spikemode&&ft.spikemode.indexOf("across")!==-1||ft.automargin&&ft.mirror&&ft.anchor!=="free"||x.getComponentMethod("rangeslider","isVisible")(ft))){var wt=1,Xt=0;for(oe=0;oe<ft._counterAxes.length;oe++){var Gt=M.getFromId(Qe,ft._counterAxes[oe]);wt=Math.min(wt,Gt.domain[0]),Xt=Math.max(Xt,Gt.domain[1])}wt<Xt&&(ft._counterDomainMin=wt,ft._counterDomainMax=Xt)}};function be(re,ye){var te={_fullLayout:ye},se=re._id.charAt(0)==="x",ue=re._mainAxis._anchorAxis,oe="",Se="",le="";if(ue&&(le=ue._mainAxis._id,oe=se?re._id+le:le+re._id),!oe||!ye._plots[oe]){oe="";for(var Ce=re._counterAxes,Qe=0;Qe<Ce.length;Qe++){var ze=Ce[Qe],Xe=se?re._id+ze:ze+re._id;Se||(Se=Xe);var ct=M.getFromId(te,ze);if(le&&ct.overlaying===le){oe=Xe;break}}}return oe||Se}B.clearExpandedTraceDefaultColors=function(re){var ye,te,se;function ue(Se,le,Ce,Qe){te[Qe]=le,te.length=Qe+1,Se.valType==="color"&&Se.dflt===void 0&&ye.push(te.join("."))}for(te=[],ye=re._module._colorAttrs,ye||(re._module._colorAttrs=ye=[],k.crawl(re._module.attributes,ue)),se=0;se<ye.length;se++){var oe=w.nestedProperty(re,"_input."+ye[se]);oe.get()||w.nestedProperty(re,ye[se]).set(null)}},B.supplyDataDefaults=function(re,ye,te,se){var ue=se._modules,oe=se._visibleModules,Se=se._basePlotModules,le=0,Ce=0,Qe,ze,Xe;se._transformModules=[];function ct(Nt){ye.push(Nt);var Bt=Nt._module;Bt&&(w.pushUnique(ue,Bt),Nt.visible===!0&&w.pushUnique(oe,Bt),w.pushUnique(Se,Nt._module.basePlotModule),le++,Nt._input.visible!==!1&&Ce++)}var pt={},Ye=[],je=(te.template||{}).data||{},et=C.traceTemplater(je);for(Qe=0;Qe<re.length;Qe++){if(Xe=re[Qe],ze=et.newTrace(Xe),ze.uid=se._traceUids[Qe],B.supplyTraceDefaults(Xe,ze,Ce,se,Qe),ze.index=Qe,ze._input=Xe,ze._expandedIndex=le,ze.transforms&&ze.transforms.length)for(var yt=Xe.visible!==!1&&ze.visible===!1,ft=Be(ze,ye,te,se),tt=0;tt<ft.length;tt++){var wt=ft[tt],Xt={_template:ze._template,type:ze.type,uid:ze.uid+tt};yt&&wt.visible===!1&&delete wt.visible,B.supplyTraceDefaults(wt,Xt,le,se,Qe),U(Xt,wt),Xt.index=Qe,Xt._input=Xe,Xt._fullInput=ze,Xt._expandedIndex=le,Xt._expandedInput=wt,ct(Xt)}else ze._fullInput=ze,ze._expandedInput=ze,ct(ze);x.traceIs(ze,"carpetAxis")&&(pt[ze.carpet]=ze),x.traceIs(ze,"carpetDependent")&&Ye.push(Qe)}for(Qe=0;Qe<Ye.length;Qe++)if(ze=ye[Ye[Qe]],!!ze.visible){var Gt=pt[ze.carpet];if(ze._carpet=Gt,!Gt||!Gt.visible){ze.visible=!1;continue}ze.xaxis=Gt.xaxis,ze.yaxis=Gt.yaxis}},B.supplyAnimationDefaults=function(re){re=re||{};var ye,te={};function se(ue,oe){return w.coerce(re||{},te,N,ue,oe)}if(se("mode"),se("direction"),se("fromcurrent"),Array.isArray(re.frame))for(te.frame=[],ye=0;ye<re.frame.length;ye++)te.frame[ye]=B.supplyAnimationFrameDefaults(re.frame[ye]||{});else te.frame=B.supplyAnimationFrameDefaults(re.frame||{});if(Array.isArray(re.transition))for(te.transition=[],ye=0;ye<re.transition.length;ye++)te.transition[ye]=B.supplyAnimationTransitionDefaults(re.transition[ye]||{});else te.transition=B.supplyAnimationTransitionDefaults(re.transition||{});return te},B.supplyAnimationFrameDefaults=function(re){var ye={};function te(se,ue){return w.coerce(re||{},ye,N.frame,se,ue)}return te("duration"),te("redraw"),ye},B.supplyAnimationTransitionDefaults=function(re){var ye={};function te(se,ue){return w.coerce(re||{},ye,N.transition,se,ue)}return te("duration"),te("easing"),ye},B.supplyFrameDefaults=function(re){var ye={};function te(se,ue){return w.coerce(re,ye,F,se,ue)}return te("group"),te("name"),te("traces"),te("baseframe"),te("data"),te("layout"),ye},B.supplyTraceDefaults=function(re,ye,te,se,ue){var oe=se.colorway||T.defaults,Se=oe[te%oe.length],le;function Ce(ft,tt){return w.coerce(re,ye,B.attributes,ft,tt)}var Qe=Ce("visible");Ce("type"),Ce("name",se._traceWord+" "+ue),Ce("uirevision",se.uirevision);var ze=B.getModule(ye);if(ye._module=ze,ze){var Xe=ze.basePlotModule,ct=Xe.attr,pt=Xe.attributes;if(ct&&pt){var Ye=se._subplots,je="";if(Qe||Xe.name!=="gl2d"){if(Array.isArray(ct))for(le=0;le<ct.length;le++){var et=ct[le],yt=w.coerce(re,ye,pt,et);Ye[et]&&w.pushUnique(Ye[et],yt),je+=yt}else je=w.coerce(re,ye,pt,ct);Ye[Xe.name]&&w.pushUnique(Ye[Xe.name],je)}}}return Qe&&(Ce("customdata"),Ce("ids"),Ce("meta"),x.traceIs(ye,"showLegend")?(w.coerce(re,ye,ze.attributes.showlegend?ze.attributes:B.attributes,"showlegend"),Ce("legend"),Ce("legendwidth"),Ce("legendgroup"),Ce("legendgrouptitle.text"),Ce("legendrank"),ye._dfltShowLegend=!0):ye._dfltShowLegend=!1,ze&&ze.supplyDefaults(re,ye,Se,se),x.traceIs(ye,"noOpacity")||Ce("opacity"),x.traceIs(ye,"notLegendIsolatable")&&(ye.visible=!!ye.visible),x.traceIs(ye,"noHover")||(ye.hovertemplate||w.coerceHoverinfo(re,ye,se),ye.type!=="parcats"&&x.getComponentMethod("fx","supplyDefaults")(re,ye,Se,se)),ze&&ze.selectPoints&&Ce("selectedpoints"),B.supplyTransformDefaults(re,ye,se)),ye};function Te(re){var ye=re.transforms;if(Array.isArray(ye)&&ye.length)for(var te=0;te<ye.length;te++){var se=ye[te],ue=se._module||E[se.type];if(ue&&ue.makesData)return!0}return!1}B.hasMakesDataTransform=Te,B.supplyTransformDefaults=function(re,ye,te){if(ye._length||Te(re)){var se=te._globalTransforms||[],ue=te._transformModules||[];if(!(!Array.isArray(re.transforms)&&se.length===0))for(var oe=re.transforms||[],Se=se.concat(oe),le=ye.transforms=[],Ce=0;Ce<Se.length;Ce++){var Qe=Se[Ce],ze=Qe.type,Xe=E[ze],ct,pt=!(Qe._module&&Qe._module===Xe),Ye=Xe&&typeof Xe.transform=="function";Xe||w.warn("Unrecognized transform type "+ze+"."),Xe&&Xe.supplyDefaults&&(pt||Ye)?(ct=Xe.supplyDefaults(Qe,ye,te,re),ct.type=ze,ct._module=Xe,w.pushUnique(ue,Xe)):ct=w.extendFlat({},Qe),le.push(ct)}}};function Be(re,ye,te,se){for(var ue=re.transforms,oe=[re],Se=0;Se<ue.length;Se++){var le=ue[Se],Ce=E[le.type];Ce&&Ce.transform&&(oe=Ce.transform(oe,{transform:le,fullTrace:re,fullData:ye,layout:te,fullLayout:se,transformIndex:Se}))}return oe}B.supplyLayoutGlobalDefaults=function(re,ye,te){function se(Xe,ct){return w.coerce(re,ye,B.layoutAttributes,Xe,ct)}var ue=re.template;w.isPlainObject(ue)&&(ye.template=ue,ye._template=ue.layout,ye._dataTemplate=ue.data),se("autotypenumbers");var oe=w.coerceFont(se,"font"),Se=oe.size;w.coerceFont(se,"title.font",w.extendFlat({},oe,{size:Math.round(Se*1.4)})),se("title.text",ye._dfltTitle.plot),se("title.xref");var le=se("title.yref");se("title.pad.t"),se("title.pad.r"),se("title.pad.b"),se("title.pad.l");var Ce=se("title.automargin");se("title.x"),se("title.xanchor"),se("title.y"),se("title.yanchor"),Ce&&(le==="paper"&&(ye.title.y!==0&&(ye.title.y=1),ye.title.yanchor==="auto"&&(ye.title.yanchor=ye.title.y===0?"top":"bottom")),le==="container"&&(ye.title.y==="auto"&&(ye.title.y=1),ye.title.yanchor==="auto"&&(ye.title.yanchor=ye.title.y<.5?"bottom":"top")));var Qe=se("uniformtext.mode");Qe&&se("uniformtext.minsize"),se("autosize",!(re.width&&re.height)),se("width"),se("height"),se("minreducedwidth"),se("minreducedheight"),se("margin.l"),se("margin.r"),se("margin.t"),se("margin.b"),se("margin.pad"),se("margin.autoexpand"),re.width&&re.height&&B.sanitizeMargins(ye),x.getComponentMethod("grid","sizeDefaults")(re,ye),se("paper_bgcolor"),se("separators",te.decimal+te.thousands),se("hidesources"),se("colorway"),se("datarevision");var ze=se("uirevision");se("editrevision",ze),se("selectionrevision",ze),x.getComponentMethod("modebar","supplyLayoutDefaults")(re,ye),x.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(re,ye,se),x.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(re,ye,se),se("meta"),w.isPlainObject(re.transition)&&(se("transition.duration"),se("transition.easing"),se("transition.ordering")),x.getComponentMethod("calendars","handleDefaults")(re,ye,"calendar"),x.getComponentMethod("fx","supplyLayoutGlobalDefaults")(re,ye,se),w.coerce(re,ye,V,"scattermode")};function ge(re){return typeof re=="string"&&re.substr(re.length-2)==="px"&&parseFloat(re)}B.plotAutoSize=function(ye,te,se){var ue=ye._context||{},oe=ue.frameMargins,Se,le,Ce=w.isPlotDiv(ye);if(Ce&&ye.emit("plotly_autosize"),ue.fillFrame)Se=window.innerWidth,le=window.innerHeight,document.body.style.overflow="hidden";else{var Qe=Ce?window.getComputedStyle(ye):{};if(Se=ge(Qe.width)||ge(Qe.maxWidth)||se.width,le=ge(Qe.height)||ge(Qe.maxHeight)||se.height,b(oe)&&oe>0){var ze=1-2*oe;Se=Math.round(ze*Se),le=Math.round(ze*le)}}var Xe=B.layoutAttributes.width.min,ct=B.layoutAttributes.height.min;Se<Xe&&(Se=Xe),le<ct&&(le=ct);var pt=!te.width&&Math.abs(se.width-Se)>1,Ye=!te.height&&Math.abs(se.height-le)>1;(Ye||pt)&&(pt&&(se.width=Se),Ye&&(se.height=le)),ye._initialAutoSize||(ye._initialAutoSize={width:Se,height:le}),B.sanitizeMargins(se)},B.supplyLayoutModuleDefaults=function(re,ye,te,se){var ue=x.componentsRegistry,oe=ye._basePlotModules,Se,le,Ce,Qe=x.subplotsRegistry.cartesian;for(Se in ue)Ce=ue[Se],Ce.includeBasePlot&&Ce.includeBasePlot(re,ye);oe.length||oe.push(Qe),ye._has("cartesian")&&(x.getComponentMethod("grid","contentDefaults")(re,ye),Qe.finalizeSubplots(re,ye));for(var ze in ye._subplots)ye._subplots[ze].sort(w.subplotSort);for(le=0;le<oe.length;le++)Ce=oe[le],Ce.supplyLayoutDefaults&&Ce.supplyLayoutDefaults(re,ye,te);var Xe=ye._modules;for(le=0;le<Xe.length;le++)Ce=Xe[le],Ce.supplyLayoutDefaults&&Ce.supplyLayoutDefaults(re,ye,te);var ct=ye._transformModules;for(le=0;le<ct.length;le++)Ce=ct[le],Ce.supplyLayoutDefaults&&Ce.supplyLayoutDefaults(re,ye,te,se);for(Se in ue)Ce=ue[Se],Ce.supplyLayoutDefaults&&Ce.supplyLayoutDefaults(re,ye,te)},B.purge=function(re){var ye=re._fullLayout||{};ye._glcontainer!==void 0&&(ye._glcontainer.selectAll(".gl-canvas").remove(),ye._glcontainer.remove(),ye._glcanvas=null),ye._modeBar&&ye._modeBar.destroy(),re._transitionData&&(re._transitionData._interruptCallbacks&&(re._transitionData._interruptCallbacks.length=0),re._transitionData._animationRaf&&window.cancelAnimationFrame(re._transitionData._animationRaf)),w.clearThrottle(),w.clearResponsive(re),delete re.data,delete re.layout,delete re._fullData,delete re._fullLayout,delete re.calcdata,delete re.empty,delete re.fid,delete re.undoqueue,delete re.undonum,delete re.autoplay,delete re.changed,delete re._promises,delete re._redrawTimer,delete re._hmlumcount,delete re._hmpixcount,delete re._transitionData,delete re._transitioning,delete re._initialAutoSize,delete re._transitioningWithDuration,delete re._dragging,delete re._dragged,delete re._dragdata,delete re._hoverdata,delete re._snapshotInProgress,delete re._editing,delete re._mouseDownTime,delete re._legendMouseDownTime,re.removeAllListeners&&re.removeAllListeners()},B.style=function(re){var ye=re._fullLayout._visibleModules,te=[],se;for(se=0;se<ye.length;se++){var ue=ye[se];ue.style&&w.pushUnique(te,ue.style)}for(se=0;se<te.length;se++)te[se](re)},B.sanitizeMargins=function(re){if(!(!re||!re.margin)){var ye=re.width,te=re.height,se=re.margin,ue=ye-(se.l+se.r),oe=te-(se.t+se.b),Se;ue<0&&(Se=(ye-1)/(se.l+se.r),se.l=Math.floor(Se*se.l),se.r=Math.floor(Se*se.r)),oe<0&&(Se=(te-1)/(se.t+se.b),se.t=Math.floor(Se*se.t),se.b=Math.floor(Se*se.b))}},B.clearAutoMarginIds=function(re){re._fullLayout._pushmarginIds={}},B.allowAutoMargin=function(re,ye){re._fullLayout._pushmarginIds[ye]=1};function ne(re){var ye=re.margin;if(!re._size){var te=re._size={l:Math.round(ye.l),r:Math.round(ye.r),t:Math.round(ye.t),b:Math.round(ye.b),p:Math.round(ye.pad)};te.w=Math.round(re.width)-te.l-te.r,te.h=Math.round(re.height)-te.t-te.b}re._pushmargin||(re._pushmargin={}),re._pushmarginIds||(re._pushmarginIds={}),re._reservedMargin||(re._reservedMargin={})}var pe=2,G=2;B.autoMargin=function(re,ye,te){var se=re._fullLayout,ue=se.width,oe=se.height,Se=se.margin,le=se.minreducedwidth,Ce=se.minreducedheight,Qe=w.constrain(ue-Se.l-Se.r,pe,le),ze=w.constrain(oe-Se.t-Se.b,G,Ce),Xe=Math.max(0,ue-Qe),ct=Math.max(0,oe-ze),pt=se._pushmargin,Ye=se._pushmarginIds;if(Se.autoexpand!==!1){if(!te)delete pt[ye],delete Ye[ye];else{var je=te.pad;if(je===void 0&&(je=Math.min(12,Se.l,Se.r,Se.t,Se.b)),Xe){var et=(te.l+te.r)/Xe;et>1&&(te.l/=et,te.r/=et)}if(ct){var yt=(te.t+te.b)/ct;yt>1&&(te.t/=yt,te.b/=yt)}var ft=te.xl!==void 0?te.xl:te.x,tt=te.xr!==void 0?te.xr:te.x,wt=te.yt!==void 0?te.yt:te.y,Xt=te.yb!==void 0?te.yb:te.y;pt[ye]={l:{val:ft,size:te.l+je},r:{val:tt,size:te.r+je},b:{val:Xt,size:te.b+je},t:{val:wt,size:te.t+je}},Ye[ye]=1}if(!se._replotting)return B.doAutoMargin(re)}};function Oe(re){if("_redrawFromAutoMarginCount"in re._fullLayout)return!1;var ye=M.list(re,"",!0);for(var te in ye)if(ye[te].autoshift||ye[te].shift)return!0;return!1}B.doAutoMargin=function(re){var ye=re._fullLayout,te=ye.width,se=ye.height;ye._size||(ye._size={}),ne(ye);var ue=ye._size,oe=ye.margin,Se={t:0,b:0,l:0,r:0},le=w.extendFlat({},ue),Ce=oe.l,Qe=oe.r,ze=oe.t,Xe=oe.b,ct=ye._pushmargin,pt=ye._pushmarginIds,Ye=ye.minreducedwidth,je=ye.minreducedheight;if(oe.autoexpand!==!1){for(var et in ct)pt[et]||delete ct[et];var yt=re._fullLayout._reservedMargin;for(var ft in yt)for(var tt in yt[ft]){var wt=yt[ft][tt];Se[tt]=Math.max(Se[tt],wt)}ct.base={l:{val:0,size:Ce},r:{val:1,size:Qe},t:{val:1,size:ze},b:{val:0,size:Xe}};for(var Xt in Se){var Gt=0;for(var Nt in ct)Nt!=="base"&&b(ct[Nt][Xt].size)&&(Gt=ct[Nt][Xt].size>Gt?ct[Nt][Xt].size:Gt);var Bt=Math.max(0,oe[Xt]-Gt);Se[Xt]=Math.max(0,Se[Xt]-Bt)}for(var vn in ct){var En=ct[vn].l||{},ln=ct[vn].b||{},Yn=En.val,an=En.size,wn=ln.val,Xn=ln.size,Un=te-Se.r-Se.l,Sn=se-Se.t-Se.b;for(var it in ct){if(b(an)&&ct[it].r){var ut=ct[it].r.val,xt=ct[it].r.size;if(ut>Yn){var gt=(an*ut+(xt-Un)*Yn)/(ut-Yn),Dt=(xt*(1-Yn)+(an-Un)*(1-ut))/(ut-Yn);gt+Dt>Ce+Qe&&(Ce=gt,Qe=Dt)}}if(b(Xn)&&ct[it].t){var He=ct[it].t.val,at=ct[it].t.size;if(He>wn){var dt=(Xn*He+(at-Sn)*wn)/(He-wn),mt=(at*(1-wn)+(Xn-Sn)*(1-He))/(He-wn);dt+mt>Xe+ze&&(Xe=dt,ze=mt)}}}}}var Tt=w.constrain(te-oe.l-oe.r,pe,Ye),Pt=w.constrain(se-oe.t-oe.b,G,je),dn=Math.max(0,te-Tt),nn=Math.max(0,se-Pt);if(dn){var Wt=(Ce+Qe)/dn;Wt>1&&(Ce/=Wt,Qe/=Wt)}if(nn){var Rt=(Xe+ze)/nn;Rt>1&&(Xe/=Rt,ze/=Rt)}if(ue.l=Math.round(Ce)+Se.l,ue.r=Math.round(Qe)+Se.r,ue.t=Math.round(ze)+Se.t,ue.b=Math.round(Xe)+Se.b,ue.p=Math.round(oe.pad),ue.w=Math.round(te)-ue.l-ue.r,ue.h=Math.round(se)-ue.t-ue.b,!ye._replotting&&(B.didMarginChange(le,ue)||Oe(re))){"_redrawFromAutoMarginCount"in ye?ye._redrawFromAutoMarginCount++:ye._redrawFromAutoMarginCount=1;var fn=3*(1+Object.keys(pt).length);if(ye._redrawFromAutoMarginCount<fn)return x.call("_doPlot",re);ye._size=le,w.warn("Too many auto-margin redraws.")}xe(re)};function xe(re){var ye=M.list(re,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(te){for(var se=0;se<ye.length;se++){var ue=ye[se][te];ue&&ue()}})}var Le=["l","r","t","b","p","w","h"];B.didMarginChange=function(re,ye){for(var te=0;te<Le.length;te++){var se=Le[te],ue=re[se],oe=ye[se];if(!b(ue)||Math.abs(oe-ue)>1)return!0}return!1},B.graphJson=function(re,ye,te,se,ue,oe){(ue&&ye&&!re._fullData||ue&&!ye&&!re._fullLayout)&&B.supplyDefaults(re);var Se=ue?re._fullData:re.data,le=ue?re._fullLayout:re.layout,Ce=(re._transitionData||{})._frames;function Qe(ct,pt){if(typeof ct=="function")return pt?"_function_":null;if(w.isPlainObject(ct)){var Ye={},je;return Object.keys(ct).sort().forEach(function(et){if(["_","["].indexOf(et.charAt(0))===-1){if(typeof ct[et]=="function"){pt&&(Ye[et]="_function");return}if(te==="keepdata"){if(et.substr(et.length-3)==="src")return}else if(te==="keepstream"){if(je=ct[et+"src"],typeof je=="string"&&je.indexOf(":")>0&&!w.isPlainObject(ct.stream))return}else if(te!=="keepall"&&(je=ct[et+"src"],typeof je=="string"&&je.indexOf(":")>0))return;Ye[et]=Qe(ct[et],pt)}}),Ye}return Array.isArray(ct)?ct.map(function(et){return Qe(et,pt)}):w.isTypedArray(ct)?w.simpleMap(ct,w.identity):w.isJSDate(ct)?w.ms2DateTimeLocal(+ct):ct}var ze={data:(Se||[]).map(function(ct){var pt=Qe(ct);return ye&&delete pt.fit,pt})};if(!ye&&(ze.layout=Qe(le),ue)){var Xe=le._size;ze.layout.computed={margin:{b:Xe.b,l:Xe.l,r:Xe.r,t:Xe.t}}}return Ce&&(ze.frames=Qe(Ce)),oe&&(ze.config=Qe(re._context,!0)),se==="object"?ze:JSON.stringify(ze)},B.modifyFrames=function(re,ye){var te,se,ue,oe=re._transitionData._frames,Se=re._transitionData._frameHash;for(te=0;te<ye.length;te++)switch(se=ye[te],se.type){case"replace":ue=se.value;var le=(oe[se.index]||{}).name,Ce=ue.name;oe[se.index]=Se[Ce]=ue,Ce!==le&&(delete Se[le],Se[Ce]=ue);break;case"insert":ue=se.value,Se[ue.name]=ue,oe.splice(se.index,0,ue);break;case"delete":ue=oe[se.index],delete Se[ue.name],oe.splice(se.index,1);break}return Promise.resolve()},B.computeFrame=function(re,ye){var te=re._transitionData._frameHash,se,ue,oe,Se;if(!ye)throw new Error("computeFrame must be given a string frame name");var le=te[ye.toString()];if(!le)return!1;for(var Ce=[le],Qe=[le.name];le.baseframe&&(le=te[le.baseframe.toString()])&&Qe.indexOf(le.name)===-1;)Ce.push(le),Qe.push(le.name);for(var ze={};le=Ce.pop();)if(le.layout&&(ze.layout=B.extendLayout(ze.layout,le.layout)),le.data){if(ze.data||(ze.data=[]),ue=le.traces,!ue)for(ue=[],se=0;se<le.data.length;se++)ue[se]=se;for(ze.traces||(ze.traces=[]),se=0;se<le.data.length;se++)oe=ue[se],oe!=null&&(Se=ze.traces.indexOf(oe),Se===-1&&(Se=ze.data.length,ze.traces[Se]=oe),ze.data[Se]=B.extendTrace(ze.data[Se],le.data[se]))}return ze},B.recomputeFrameHash=function(re){for(var ye=re._transitionData._frameHash={},te=re._transitionData._frames,se=0;se<te.length;se++){var ue=te[se];ue&&ue.name&&(ye[ue.name]=ue)}},B.extendObjectWithContainers=function(re,ye,te){var se,ue,oe,Se,le,Ce,Qe,ze,Xe=w.extendDeepNoArrays({},ye||{}),ct=w.expandObjectPaths(Xe),pt={};if(te&&te.length)for(oe=0;oe<te.length;oe++)se=w.nestedProperty(ct,te[oe]),ue=se.get(),ue===void 0?w.nestedProperty(pt,te[oe]).set(null):(se.set(null),w.nestedProperty(pt,te[oe]).set(ue));if(re=w.extendDeepNoArrays(re||{},ct),te&&te.length){for(oe=0;oe<te.length;oe++)if(le=w.nestedProperty(pt,te[oe]),Qe=le.get(),!!Qe){for(Ce=w.nestedProperty(re,te[oe]),ze=Ce.get(),Array.isArray(ze)||(ze=[],Ce.set(ze)),Se=0;Se<Qe.length;Se++){var Ye=Qe[Se];Ye===null?ze[Se]=null:ze[Se]=B.extendObjectWithContainers(ze[Se],Ye)}Ce.set(ze)}}return re},B.dataArrayContainers=["transforms","dimensions"],B.layoutArrayContainers=x.layoutArrayContainers,B.extendTrace=function(re,ye){return B.extendObjectWithContainers(re,ye,B.dataArrayContainers)},B.extendLayout=function(re,ye){return B.extendObjectWithContainers(re,ye,B.layoutArrayContainers)},B.transition=function(re,ye,te,se,ue,oe){var Se={redraw:ue.redraw},le={},Ce=[];return Se.prepareFn=function(){for(var Qe=Array.isArray(ye)?ye.length:0,ze=se.slice(0,Qe),Xe=0;Xe<ze.length;Xe++){var ct=ze[Xe],pt=re._fullData[ct],Ye=pt._module;if(Ye){if(Ye.animatable){var je=Ye.basePlotModule.name;le[je]||(le[je]=[]),le[je].push(ct)}re.data[ze[Xe]]=B.extendTrace(re.data[ze[Xe]],ye[Xe])}}var et=w.expandObjectPaths(w.extendDeepNoArrays({},te)),yt=/^[xy]axis[0-9]*$/;for(var ft in et)yt.test(ft)&&delete et[ft].range;B.extendLayout(re.layout,et),delete re.calcdata,B.supplyDefaults(re),B.doCalcdata(re);var tt=w.expandObjectPaths(te);if(tt){var wt=re._fullLayout._plots;for(var Xt in wt){var Gt=wt[Xt],Nt=Gt.xaxis,Bt=Gt.yaxis,vn=Nt.range.slice(),En=Bt.range.slice(),ln=null,Yn=null,an=null,wn=null;Array.isArray(tt[Nt._name+".range"])?ln=tt[Nt._name+".range"].slice():Array.isArray((tt[Nt._name]||{}).range)&&(ln=tt[Nt._name].range.slice()),Array.isArray(tt[Bt._name+".range"])?Yn=tt[Bt._name+".range"].slice():Array.isArray((tt[Bt._name]||{}).range)&&(Yn=tt[Bt._name].range.slice()),vn&&ln&&(Nt.r2l(vn[0])!==Nt.r2l(ln[0])||Nt.r2l(vn[1])!==Nt.r2l(ln[1]))&&(an={xr0:vn,xr1:ln}),En&&Yn&&(Bt.r2l(En[0])!==Bt.r2l(Yn[0])||Bt.r2l(En[1])!==Bt.r2l(Yn[1]))&&(wn={yr0:En,yr1:Yn}),(an||wn)&&Ce.push(w.extendFlat({plotinfo:Gt},an,wn))}}return Promise.resolve()},Se.runFn=function(Qe){var ze,Xe=re._fullLayout._basePlotModules,ct=Ce.length,pt;if(te)for(pt=0;pt<Xe.length;pt++)Xe[pt].transitionAxes&&Xe[pt].transitionAxes(re,Ce,oe,Qe);ct?(ze=w.extendFlat({},oe),ze.duration=0,delete le.cartesian):ze=oe;for(var Ye in le){var je=le[Ye],et=re._fullData[je[0]]._module;et.basePlotModule.plot(re,je,ze,Qe)}},ke(re,oe,Se)},B.transitionFromReact=function(re,ye,te,se){var ue=re._fullLayout,oe=ue.transition,Se={},le=[];return Se.prepareFn=function(){var Ce=ue._plots;Se.redraw=!1,ye.anim==="some"&&(Se.redraw=!0),te.anim==="some"&&(Se.redraw=!0);for(var Qe in Ce){var ze=Ce[Qe],Xe=ze.xaxis,ct=ze.yaxis,pt=se[Xe._name].range.slice(),Ye=se[ct._name].range.slice(),je=Xe.range.slice(),et=ct.range.slice();Xe.setScale(),ct.setScale();var yt=null,ft=null;(Xe.r2l(pt[0])!==Xe.r2l(je[0])||Xe.r2l(pt[1])!==Xe.r2l(je[1]))&&(yt={xr0:pt,xr1:je}),(ct.r2l(Ye[0])!==ct.r2l(et[0])||ct.r2l(Ye[1])!==ct.r2l(et[1]))&&(ft={yr0:Ye,yr1:et}),(yt||ft)&&le.push(w.extendFlat({plotinfo:ze},yt,ft))}return Promise.resolve()},Se.runFn=function(Ce){for(var Qe=re._fullData,ze=re._fullLayout,Xe=ze._basePlotModules,ct,pt,Ye,je=[],et=0;et<Qe.length;et++)je.push(et);function yt(){if(re._fullLayout)for(var tt=0;tt<Xe.length;tt++)Xe[tt].transitionAxes&&Xe[tt].transitionAxes(re,le,ct,Ce)}function ft(){if(re._fullLayout)for(var tt=0;tt<Xe.length;tt++)Xe[tt].plot(re,Ye,pt,Ce)}le.length&&ye.anim?oe.ordering==="traces first"?(ct=w.extendFlat({},oe,{duration:0}),Ye=je,pt=oe,setTimeout(yt,oe.duration),ft()):(ct=oe,Ye=null,pt=w.extendFlat({},oe,{duration:0}),setTimeout(ft,ct.duration),yt()):le.length?(ct=oe,yt()):ye.anim&&(Ye=je,pt=oe,ft())},ke(re,oe,Se)};function ke(re,ye,te){var se=!1;function ue(Xe){var ct=Promise.resolve();if(!Xe)return ct;for(;Xe.length;)ct=ct.then(Xe.shift());return ct}function oe(Xe){if(Xe)for(;Xe.length;)Xe.shift()}function Se(){return re.emit("plotly_transitioning",[]),new Promise(function(Xe){re._transitioning=!0,ye.duration>0&&(re._transitioningWithDuration=!0),re._transitionData._interruptCallbacks.push(function(){se=!0}),te.redraw&&re._transitionData._interruptCallbacks.push(function(){return x.call("redraw",re)}),re._transitionData._interruptCallbacks.push(function(){re.emit("plotly_transitioninterrupted",[])});var ct=0,pt=0;function Ye(){return ct++,function(){pt++,!se&&pt===ct&&le(Xe)}}te.runFn(Ye),setTimeout(Ye())})}function le(Xe){if(re._transitionData)return oe(re._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(te.redraw)return x.call("redraw",re)}).then(function(){re._transitioning=!1,re._transitioningWithDuration=!1,re.emit("plotly_transitioned",[])}).then(Xe)}function Ce(){if(re._transitionData)return re._transitioning=!1,ue(re._transitionData._interruptCallbacks)}var Qe=[B.previousPromises,Ce,te.prepareFn,B.rehover,B.reselect,Se],ze=w.syncOrAsync(Qe,re);return(!ze||!ze.then)&&(ze=Promise.resolve()),ze.then(function(){return re})}B.doCalcdata=function(re,ye){var te=M.list(re),se=re._fullData,ue=re._fullLayout,oe,Se,le,Ce,Qe=new Array(se.length),ze=(re.calcdata||[]).slice();for(re.calcdata=Qe,ue._numBoxes=0,ue._numViolins=0,ue._violinScaleGroupStats={},re._hmpixcount=0,re._hmlumcount=0,ue._piecolormap={},ue._sunburstcolormap={},ue._treemapcolormap={},ue._iciclecolormap={},ue._funnelareacolormap={},le=0;le<se.length;le++)if(Array.isArray(ye)&&ye.indexOf(le)===-1){Qe[le]=ze[le];continue}for(le=0;le<se.length;le++)oe=se[le],oe._arrayAttrs=k.findArrayAttributes(oe),oe._extremes={};var Xe=ue._subplots.polar||[];for(le=0;le<Xe.length;le++)te.push(ue[Xe[le]].radialaxis,ue[Xe[le]].angularaxis);for(var ct in ue._colorAxes){var pt=ue[ct];pt.cauto!==!1&&(delete pt.cmin,delete pt.cmax)}var Ye=!1;function je(ft){if(oe=se[ft],Se=oe._module,oe.visible===!0&&oe.transforms){if(Se&&Se.calc){var tt=Se.calc(re,oe);tt[0]&&tt[0].t&&tt[0].t._scene&&delete tt[0].t._scene.dirty}for(Ce=0;Ce<oe.transforms.length;Ce++){var wt=oe.transforms[Ce];Se=E[wt.type],Se&&Se.calcTransform&&(oe._hasCalcTransform=!0,Ye=!0,Se.calcTransform(re,oe,wt))}}}function et(ft,tt){if(oe=se[ft],Se=oe._module,!!Se.isContainer===tt){var wt=[];if(oe.visible===!0&&oe._length!==0){delete oe._indexToPoints;var Xt=oe.transforms||[];for(Ce=Xt.length-1;Ce>=0;Ce--)if(Xt[Ce].enabled){oe._indexToPoints=Xt[Ce]._indexToPoints;break}Se&&Se.calc&&(wt=Se.calc(re,oe))}(!Array.isArray(wt)||!wt[0])&&(wt=[{x:R,y:R}]),wt[0].t||(wt[0].t={}),wt[0].trace=oe,Qe[ft]=wt}}for(De(te,se,ue),le=0;le<se.length;le++)et(le,!0);for(le=0;le<se.length;le++)je(le);for(Ye&&De(te,se,ue),le=0;le<se.length;le++)et(le,!0);for(le=0;le<se.length;le++)et(le,!1);Ie(re);var yt=Ze(te,re);if(yt.length){for(ue._numBoxes=0,ue._numViolins=0,le=0;le<yt.length;le++)et(yt[le],!0);for(le=0;le<yt.length;le++)et(yt[le],!1);Ie(re)}x.getComponentMethod("fx","calc")(re),x.getComponentMethod("errorbars","calc")(re)};var $e=/(total|sum|min|max|mean|median) (ascending|descending)/;function Ze(re,ye){var te=[],se,ue,oe,Se,le;function Ce(Un,Sn,it){var ut=Sn._id.charAt(0);if(Un==="histogram2dcontour"){var xt=Sn._counterAxes[0],gt=M.getFromId(ye,xt),Dt=ut==="x"||xt==="x"&&gt.type==="category",He=ut==="y"||xt==="y"&&gt.type==="category";return function(at,dt){return at===0||dt===0||Dt&&at===it[dt].length-1||He&&dt===it.length-1?-1:(ut==="y"?dt:at)-1}}else return function(at,dt){return ut==="y"?dt:at}}var Qe={min:function(Un){return w.aggNums(Math.min,null,Un)},max:function(Un){return w.aggNums(Math.max,null,Un)},sum:function(Un){return w.aggNums(function(Sn,it){return Sn+it},null,Un)},total:function(Un){return w.aggNums(function(Sn,it){return Sn+it},null,Un)},mean:function(Un){return w.mean(Un)},median:function(Un){return w.median(Un)}};for(se=0;se<re.length;se++){var ze=re[se];if(ze.type==="category"){var Xe=ze.categoryorder.match($e);if(Xe){var ct=Xe[1],pt=Xe[2],Ye=ze._id.charAt(0),je=Ye==="x",et=[];for(ue=0;ue<ze._categories.length;ue++)et.push([ze._categories[ue],[]]);for(ue=0;ue<ze._traceIndices.length;ue++){var yt=ze._traceIndices[ue],ft=ye._fullData[yt];if(ft.visible===!0){var tt=ft.type;x.traceIs(ft,"histogram")&&(delete ft._xautoBinFinished,delete ft._yautoBinFinished);var wt=tt==="splom",Xt=tt==="scattergl",Gt=ye.calcdata[yt];for(oe=0;oe<Gt.length;oe++){var Nt=Gt[oe],Bt,vn;if(wt){var En=ft._axesDim[ze._id];if(!je){var ln=ft._diag[En][0];ln&&(ze=ye._fullLayout[M.id2name(ln)])}var Yn=Nt.trace.dimensions[En].values;for(Se=0;Se<Yn.length;Se++)for(Bt=ze._categoriesMap[Yn[Se]],le=0;le<Nt.trace.dimensions.length;le++)if(le!==En){var an=Nt.trace.dimensions[le];et[Bt][1].push(an.values[Se])}}else if(Xt){for(Se=0;Se<Nt.t.x.length;Se++)je?(Bt=Nt.t.x[Se],vn=Nt.t.y[Se]):(Bt=Nt.t.y[Se],vn=Nt.t.x[Se]),et[Bt][1].push(vn);Nt.t&&Nt.t._scene&&delete Nt.t._scene.dirty}else if(Nt.hasOwnProperty("z")){vn=Nt.z;var wn=Ce(ft.type,ze,vn);for(Se=0;Se<vn.length;Se++)for(le=0;le<vn[Se].length;le++)Bt=wn(le,Se),Bt+1&&et[Bt][1].push(vn[Se][le])}else for(Bt=Nt.p,Bt===void 0&&(Bt=Nt[Ye]),vn=Nt.s,vn===void 0&&(vn=Nt.v),vn===void 0&&(vn=je?Nt.y:Nt.x),Array.isArray(vn)||(vn===void 0?vn=[]:vn=[vn]),Se=0;Se<vn.length;Se++)et[Bt][1].push(vn[Se])}}}ze._categoriesValue=et;var Xn=[];for(ue=0;ue<et.length;ue++)Xn.push([et[ue][0],Qe[ct](et[ue][1])]);Xn.sort(function(Un,Sn){return Un[1]-Sn[1]}),ze._categoriesAggregatedValue=Xn,ze._initialCategories=Xn.map(function(Un){return Un[0]}),pt==="descending"&&ze._initialCategories.reverse(),te=te.concat(ze.sortByInitialCategories())}}}return te}function De(re,ye,te){var se={};function ue(Ce){Ce.clearCalc(),Ce.type==="multicategory"&&Ce.setupMultiCategory(ye),se[Ce._id]=1}w.simpleMap(re,ue);for(var oe=te._axisMatchGroups||[],Se=0;Se<oe.length;Se++)for(var le in oe[Se])se[le]||ue(te[M.id2name(le)])}function Ie(re){var ye=re._fullLayout,te=ye._visibleModules,se={},ue,oe,Se;for(oe=0;oe<te.length;oe++){var le=te[oe],Ce=le.crossTraceCalc;if(Ce){var Qe=le.basePlotModule.name;se[Qe]?w.pushUnique(se[Qe],Ce):se[Qe]=[Ce]}}for(Se in se){var ze=se[Se],Xe=ye._subplots[Se];if(Array.isArray(Xe))for(ue=0;ue<Xe.length;ue++){var ct=Xe[ue],pt=Se==="cartesian"?ye._plots[ct]:ye[ct];for(oe=0;oe<ze.length;oe++)ze[oe](re,pt,ct)}else for(oe=0;oe<ze.length;oe++)ze[oe](re)}}B.rehover=function(re){re._fullLayout._rehover&&re._fullLayout._rehover()},B.redrag=function(re){re._fullLayout._redrag&&re._fullLayout._redrag()},B.reselect=function(re){var ye=re._fullLayout,te=(re.layout||{}).selections,se=ye._previousSelections;ye._previousSelections=te;var ue=ye._reselect||JSON.stringify(te)!==JSON.stringify(se);x.getComponentMethod("selections","reselect")(re,ue)},B.generalUpdatePerTraceModule=function(re,ye,te,se){var ue=ye.traceHash,oe={},Se;for(Se=0;Se<te.length;Se++){var le=te[Se],Ce=le[0].trace;Ce.visible&&(oe[Ce.type]=oe[Ce.type]||[],oe[Ce.type].push(le))}for(var Qe in ue)if(!oe[Qe]){var ze=ue[Qe][0],Xe=ze[0].trace;Xe.visible=!1,oe[Qe]=[ze]}for(var ct in oe){var pt=oe[ct],Ye=pt[0][0].trace._module;Ye.plot(re,ye,w.filterVisible(pt),se)}ye.traceHash=oe},B.plotBasePlot=function(re,ye,te,se,ue){var oe=x.getModule(re),Se=z(ye.calcdata,oe)[0];oe.plot(ye,Se,se,ue)},B.cleanBasePlot=function(re,ye,te,se,ue){var oe=ue._has&&ue._has(re),Se=te._has&&te._has(re);oe&&!Se&&ue["_"+re+"layer"].selectAll("g.trace").remove()}},5386:function(f,h,u){var p=u(1562);p.FORMAT_LINK,p.DATE_FORMAT_LINK;function v(y){var b=y.description?" "+y.description:"",x=y.keys||[];if(x.length>0){for(var k=[],C=0;C<x.length;C++)k[C]="`"+x[C]+"`";b=b+"Finally, the template string has access to ",x.length===1?b=b+"variable "+k[0]:b=b+"variables "+k.slice(0,-1).join(", ")+" and "+k.slice(-1)+"."}return b}h.fF=function(y,b){y=y||{},b=b||{},v(b);var x={valType:"string",dflt:"",editType:y.editType||"none"};return y.arrayOk!==!1&&(x.arrayOk=!0),x},h.si=function(y,b){y=y||{},b=b||{},v(b);var x={valType:"string",dflt:"",editType:y.editType||"calc"};return y.arrayOk!==!1&&(x.arrayOk=!0),x},h.R=function(y,b){y=y||{},b=b||{},y.newshape,v(b);var x={valType:"string",dflt:"",editType:y.editType||"arraydraw"};return x}},3972:function(f,h,u){var p=u(7769),v=u(4213),y=u(5138),b=u(1965),x=u(4401).addStyleRule,k=u(1426),C=u(9012),w=u(820),T=k.extendFlat,R=k.extendDeepAll;h.modules={},h.allCategories={},h.allTypes=[],h.subplotsRegistry={},h.transformsRegistry={},h.componentsRegistry={},h.layoutArrayContainers=[],h.layoutArrayRegexes=[],h.traceLayoutAttributes={},h.localeRegistry={},h.apiMethodRegistry={},h.collectableSubplotTypes=null,h.register=function(Y){if(h.collectableSubplotTypes=null,Y)Y&&!Array.isArray(Y)&&(Y=[Y]);else throw new Error("No argument passed to Plotly.register.");for(var ie=0;ie<Y.length;ie++){var L=Y[ie];if(!L)throw new Error("Invalid module was attempted to be registered!");switch(L.moduleType){case"trace":M(L);break;case"transform":N(L);break;case"component":V(L);break;case"locale":F(L);break;case"apiMethod":var me=L.name;h.apiMethodRegistry[me]=L.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},h.getModule=function(W){var Y=h.modules[E(W)];return Y?Y._module:!1},h.traceIs=function(W,Y){if(W=E(W),W==="various")return!1;var ie=h.modules[W];return ie||(W&&p.log("Unrecognized trace type "+W+"."),ie=h.modules[C.type.dflt]),!!ie.categories[Y]},h.getTransformIndices=function(W,Y){for(var ie=[],L=W.transforms||[],me=0;me<L.length;me++)L[me].type===Y&&ie.push(me);return ie},h.hasTransform=function(W,Y){for(var ie=W.transforms||[],L=0;L<ie.length;L++)if(ie[L].type===Y)return!0;return!1},h.getComponentMethod=function(W,Y){var ie=h.componentsRegistry[W];return ie&&ie[Y]||v},h.call=function(){var W=arguments[0],Y=[].slice.call(arguments,1);return h.apiMethodRegistry[W].apply(null,Y)};function M(W){var Y=W.name,ie=W.categories,L=W.meta;if(h.modules[Y]){p.log("Type "+Y+" already registered");return}h.subplotsRegistry[W.basePlotModule.name]||I(W.basePlotModule);for(var me={},ae=0;ae<ie.length;ae++)me[ie[ae]]=!0,h.allCategories[ie[ae]]=!0;h.modules[Y]={_module:W,categories:me},L&&Object.keys(L).length&&(h.modules[Y].meta=L),h.allTypes.push(Y);for(var q in h.componentsRegistry)U(q,Y);W.layoutAttributes&&T(h.traceLayoutAttributes,W.layoutAttributes);var fe=W.basePlotModule,ee=fe.name;if(ee==="mapbox"){var be=fe.constants.styleRules;for(var Te in be)x(".js-plotly-plot .plotly .mapboxgl-"+Te,be[Te])}(ee==="geo"||ee==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function I(W){var Y=W.name;if(h.subplotsRegistry[Y]){p.log("Plot type "+Y+" already registered.");return}z(W),h.subplotsRegistry[Y]=W;for(var ie in h.componentsRegistry)B(ie,W.name)}function V(W){if(typeof W.name!="string")throw new Error("Component module *name* must be a string.");var Y=W.name;h.componentsRegistry[Y]=W,W.layoutAttributes&&(W.layoutAttributes._isLinkedToArray&&y(h.layoutArrayContainers,Y),z(W));for(var ie in h.modules)U(Y,ie);for(var L in h.subplotsRegistry)B(Y,L);for(var me in h.transformsRegistry)Q(Y,me);W.schema&&W.schema.layout&&R(w,W.schema.layout)}function N(W){if(typeof W.name!="string")throw new Error("Transform module *name* must be a string.");var Y="Transform module "+W.name,ie=typeof W.transform=="function",L=typeof W.calcTransform=="function";if(!ie&&!L)throw new Error(Y+" is missing a *transform* or *calcTransform* method.");ie&&L&&p.log([Y+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),b(W.attributes)||p.log(Y+" registered without an *attributes* object."),typeof W.supplyDefaults!="function"&&p.log(Y+" registered without a *supplyDefaults* method."),h.transformsRegistry[W.name]=W;for(var me in h.componentsRegistry)Q(me,W.name)}function F(W){var Y=W.name,ie=Y.split("-")[0],L=W.dictionary,me=W.format,ae=L&&Object.keys(L).length,q=me&&Object.keys(me).length,fe=h.localeRegistry,ee=fe[Y];if(ee||(fe[Y]=ee={}),ie!==Y){var be=fe[ie];be||(fe[ie]=be={}),ae&&be.dictionary===ee.dictionary&&(be.dictionary=L),q&&be.format===ee.format&&(be.format=me)}ae&&(ee.dictionary=L),q&&(ee.format=me)}function z(W){if(W.layoutAttributes){var Y=W.layoutAttributes._arrayAttrRegexps;if(Y)for(var ie=0;ie<Y.length;ie++)y(h.layoutArrayRegexes,Y[ie])}}function U(W,Y){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.traces)){var L=ie.traces[Y];L&&R(h.modules[Y]._module.attributes,L)}}function Q(W,Y){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.transforms)){var L=ie.transforms[Y];L&&R(h.transformsRegistry[Y].attributes,L)}}function B(W,Y){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.subplots)){var L=h.subplotsRegistry[Y],me=L.layoutAttributes,ae=L.attr==="subplot"?L.name:L.attr;Array.isArray(ae)&&(ae=ae[0]);var q=ie.subplots[ae];me&&q&&R(me,q)}}function E(W){return typeof W=="object"&&(W=W.type),W}},1914:function(f,h,u){var p=u(3972),v=u(1828),y=v.extendFlat,b=v.extendDeep;function x(C){var w;switch(C){case"themes__thumb":w={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":w={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:w={}}return w}function k(C){var w=["xaxis","yaxis","zaxis"];return w.indexOf(C.slice(0,5))>-1}f.exports=function(w,T){var R,M=w.data,I=w.layout,V=b([],M),N=b({},I,x(T.tileClass)),F=w._context||{};if(T.width&&(N.width=T.width),T.height&&(N.height=T.height),T.tileClass==="thumbnail"||T.tileClass==="themes__thumb"){N.annotations=[];var z=Object.keys(N);for(R=0;R<z.length;R++)k(z[R])&&(N[z[R]].title={text:""});for(R=0;R<V.length;R++){var U=V[R];U.showscale=!1,U.marker&&(U.marker.showscale=!1),p.traceIs(U,"pie-like")&&(U.textposition="none")}}if(Array.isArray(T.annotations))for(R=0;R<T.annotations.length;R++)N.annotations.push(T.annotations[R]);var Q=Object.keys(N).filter(function(ie){return ie.match(/^scene\d*$/)});if(Q.length){var B={};for(T.tileClass==="thumbnail"&&(B={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),R=0;R<Q.length;R++){var E=N[Q[R]];E.xaxis||(E.xaxis={}),E.yaxis||(E.yaxis={}),E.zaxis||(E.zaxis={}),y(E.xaxis,B),y(E.yaxis,B),y(E.zaxis,B),E._scene=null}}var W=document.createElement("div");T.tileClass&&(W.className=T.tileClass);var Y={gd:W,td:W,layout:N,data:V,config:{staticPlot:T.staticPlot===void 0?!0:T.staticPlot,plotGlPixelRatio:T.plotGlPixelRatio===void 0?2:T.plotGlPixelRatio,displaylogo:T.displaylogo||!1,showLink:T.showLink||!1,showTips:T.showTips||!1,mapboxAccessToken:F.mapboxAccessToken}};return T.setBackground!=="transparent"&&(Y.config.setBackground=T.setBackground||"opaque"),Y.gd.defaultLayout=x(T.tileClass),Y}},7239:function(f,h,u){var p=u(1828),v=u(403),y=u(2435),b=u(5095);function x(k,C){var w;return p.isPlainObject(k)||(w=p.getGraphDiv(k)),C=C||{},C.format=C.format||"png",C.width=C.width||null,C.height=C.height||null,C.imageDataOnly=!0,new Promise(function(T,R){w&&w._snapshotInProgress&&R(new Error("Snapshotting already in progress.")),p.isIE()&&C.format!=="svg"&&R(new Error(b.MSG_IE_BAD_FORMAT)),w&&(w._snapshotInProgress=!0);var M=v(k,C),I=C.filename||k.fn||"newplot";I+="."+C.format.replace("-","."),M.then(function(V){return w&&(w._snapshotInProgress=!1),y(V,I,C.format)}).then(function(V){T(V)}).catch(function(V){w&&(w._snapshotInProgress=!1),R(V)})})}f.exports=x},2435:function(f,h,u){var p=u(1828),v=u(5095);function y(b,x,k){var C=document.createElement("a"),w="download"in C,T=new Promise(function(R,M){var I,V;if(p.isIE())return I=v.createBlob(b,"svg"),window.navigator.msSaveBlob(I,x),I=null,R(x);if(w)return I=v.createBlob(b,k),V=v.createObjectURL(I),C.href=V,C.download=x,document.body.appendChild(C),C.click(),document.body.removeChild(C),v.revokeObjectURL(V),I=null,R(x);if(p.isSafari()){var N=k==="svg"?",":";base64,";return v.octetStream(N+encodeURIComponent(b)),R(x)}M(new Error("download error"))});return T}f.exports=y},5095:function(f,h,u){var p=u(3972);h.getDelay=function(b){return b._has&&(b._has("gl3d")||b._has("gl2d")||b._has("mapbox"))?500:0},h.getRedrawFunc=function(b){return function(){p.getComponentMethod("colorbar","draw")(b)}},h.encodeSVG=function(b){return"data:image/svg+xml,"+encodeURIComponent(b)},h.encodeJSON=function(b){return"data:application/json,"+encodeURIComponent(b)};var v=window.URL||window.webkitURL;h.createObjectURL=function(b){return v.createObjectURL(b)},h.revokeObjectURL=function(b){return v.revokeObjectURL(b)},h.createBlob=function(b,x){if(x==="svg")return new window.Blob([b],{type:"image/svg+xml;charset=utf-8"});if(x==="full-json")return new window.Blob([b],{type:"application/json;charset=utf-8"});var k=y(window.atob(b));return new window.Blob([k],{type:"image/"+x})},h.octetStream=function(b){document.location.href="data:application/octet-stream"+b};function y(b){for(var x=b.length,k=new ArrayBuffer(x),C=new Uint8Array(k),w=0;w<x;w++)C[w]=b.charCodeAt(w);return k}h.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,h.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(f,h,u){var p=u(5095),v={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:u(1914),toSVG:u(5900),svgToImg:u(942),toImage:u(6395),downloadImage:u(7239)};f.exports=v},942:function(f,h,u){var p=u(1828),v=u(5398).EventEmitter,y=u(5095);function b(x){var k=x.emitter||new v,C=new Promise(function(w,T){var R=window.Image,M=x.svg,I=x.format||"png";if(p.isIE()&&I!=="svg"){var V=new Error(y.MSG_IE_BAD_FORMAT);return T(V),x.promise?C:k.emit("error",V)}var N=x.canvas,F=x.scale||1,z=x.width||300,U=x.height||150,Q=F*z,B=F*U,E=N.getContext("2d",{willReadFrequently:!0}),W=new R,Y,ie;I==="svg"||p.isSafari()?ie=y.encodeSVG(M):(Y=y.createBlob(M,"svg"),ie=y.createObjectURL(Y)),N.width=Q,N.height=B,W.onload=function(){var L;switch(Y=null,y.revokeObjectURL(ie),I!=="svg"&&E.drawImage(W,0,0,Q,B),I){case"jpeg":L=N.toDataURL("image/jpeg");break;case"png":L=N.toDataURL("image/png");break;case"webp":L=N.toDataURL("image/webp");break;case"svg":L=ie;break;default:var me="Image format is not jpeg, png, svg or webp.";if(T(new Error(me)),!x.promise)return k.emit("error",me)}w(L),x.promise||k.emit("success",L)},W.onerror=function(L){if(Y=null,y.revokeObjectURL(ie),T(L),!x.promise)return k.emit("error",L)},W.src=ie});return x.promise?C:k}f.exports=b},6395:function(f,h,u){var p=u(5398).EventEmitter,v=u(3972),y=u(1828),b=u(5095),x=u(1914),k=u(5900),C=u(942);function w(T,R){var M=new p,I=x(T,{format:"png"}),V=I.gd;V.style.position="absolute",V.style.left="-5000px",document.body.appendChild(V);function N(){var z=b.getDelay(V._fullLayout);setTimeout(function(){var U=k(V),Q=document.createElement("canvas");Q.id=y.randstr(),M=C({format:R.format,width:V._fullLayout.width,height:V._fullLayout.height,canvas:Q,emitter:M,svg:U}),M.clean=function(){V&&document.body.removeChild(V)}},z)}var F=b.getRedrawFunc(V);return v.call("_doPlot",V,I.data,I.layout,I.config).then(F).then(N).catch(function(z){M.emit("error",z)}),M}f.exports=w},5900:function(f,h,u){var p=u(9898),v=u(1828),y=u(1424),b=u(7901),x=u(7922),k=/"/g,C="TOBESTRIPPED",w=new RegExp('("'+C+")|("+C+'")',"g");function T(M){var I=p.select("body").append("div").style({display:"none"}).html(""),V=M.replace(/(&[^;]*;)/gi,function(N){return N==="&lt;"?"&#60;":N==="&rt;"?"&#62;":N.indexOf("<")!==-1||N.indexOf(">")!==-1?"":I.html(N).text()});return I.remove(),V}function R(M){return M.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}f.exports=function(I,V,N){var F=I._fullLayout,z=F._paper,U=F._toppaper,Q=F.width,B=F.height,E;z.insert("rect",":first-child").call(y.setRect,0,0,Q,B).call(b.fill,F.paper_bgcolor);var W=F._basePlotModules||[];for(E=0;E<W.length;E++){var Y=W[E];Y.toSVG&&Y.toSVG(I)}if(U){var ie=U.node().childNodes,L=Array.prototype.slice.call(ie);for(E=0;E<L.length;E++){var me=L[E];me.childNodes.length&&z.node().appendChild(me)}}F._draggers&&F._draggers.remove(),z.node().style.background="",z.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var q=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){q.remove();return}else q.style({visibility:null,display:null});var fe=this.style.fontFamily;fe&&fe.indexOf('"')!==-1&&q.style("font-family",fe.replace(k,C))}),z.selectAll(".gradient_filled,.pattern_filled").each(function(){var q=p.select(this),fe=this.style.fill;fe&&fe.indexOf("url(")!==-1&&q.style("fill",fe.replace(k,C));var ee=this.style.stroke;ee&&ee.indexOf("url(")!==-1&&q.style("stroke",ee.replace(k,C))}),(V==="pdf"||V==="eps")&&z.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),z.node().setAttributeNS(x.xmlns,"xmlns",x.svg),z.node().setAttributeNS(x.xmlns,"xmlns:xlink",x.xlink),V==="svg"&&N&&(z.attr("width",N*Q),z.attr("height",N*B),z.attr("viewBox","0 0 "+Q+" "+B));var ae=new window.XMLSerializer().serializeToString(z.node());return ae=T(ae),ae=R(ae),ae=ae.replace(w,"'"),v.isIE()&&(ae=ae.replace(/"/gi,"'"),ae=ae.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),ae=ae.replace(/(\\')/gi,'"')),ae}},5341:function(f,h,u){var p=u(1828);f.exports=function(y,b){for(var x=0;x<y.length;x++)y[x].i=x;p.mergeArray(b.text,y,"tx"),p.mergeArray(b.hovertext,y,"htx");var k=b.marker;if(k){p.mergeArray(k.opacity,y,"mo",!0),p.mergeArray(k.color,y,"mc");var C=k.line;C&&(p.mergeArray(C.color,y,"mlc"),p.mergeArrayCastPositive(C.width,y,"mlw"))}}},1486:function(f,h,u){var p=u(2196),v=u(2663).axisHoverFormat,y=u(5386).fF,b=u(5386).si,x=u(693),k=u(1940),C=u(7313),w=u(9952).u,T=u(1426).extendFlat,R=k({editType:"calc",arrayOk:!0,colorEditType:"style"}),M=p.marker,I=M.line,V=T({},I.width,{dflt:0}),N=T({width:V,editType:"calc"},x("marker.line")),F=T({line:N,editType:"calc"},x("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:w});f.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:v("x"),yhoverformat:v("y"),text:p.text,texttemplate:b({editType:"plot"},{keys:C.eventDataKeys}),hovertext:p.hovertext,hovertemplate:y({},{keys:C.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:T({},R,{}),insidetextfont:T({},R,{}),outsidetextfont:T({},R,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:T({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:F,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(f,h,u){var p=u(9298),v=u(2973),y=u(2869).hasColorscale,b=u(8803),x=u(5341),k=u(6279);f.exports=function(w,T){var R=p.getFromId(w,T.xaxis||"x"),M=p.getFromId(w,T.yaxis||"y"),I,V,N,F,z,U,Q={msUTC:!!(T.base||T.base===0)};T.orientation==="h"?(I=R.makeCalcdata(T,"x",Q),N=M.makeCalcdata(T,"y"),F=v(T,M,"y",N),z=!!T.yperiodalignment,U="y"):(I=M.makeCalcdata(T,"y",Q),N=R.makeCalcdata(T,"x"),F=v(T,R,"x",N),z=!!T.xperiodalignment,U="x"),V=F.vals;for(var B=Math.min(V.length,I.length),E=new Array(B),W=0;W<B;W++)E[W]={p:V[W],s:I[W]},z&&(E[W].orig_p=N[W],E[W][U+"End"]=F.ends[W],E[W][U+"Start"]=F.starts[W]),T.ids&&(E[W].id=String(T.ids[W]));return y(T,"marker")&&b(w,T,{vals:T.marker.color,containerStr:"marker",cLetter:"c"}),y(T,"marker.line")&&b(w,T,{vals:T.marker.line.color,containerStr:"marker.line",cLetter:"c"}),x(E,T),k(E,T),E}},7313:function(f){f.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(f,h,u){var p=u(2770),v=u(1828).isArrayOrTypedArray,y=u(606).BADNUM,b=u(3972),x=u(9298),k=u(9082).getAxisGroup,C=u(1546);function w(ae,q){for(var fe=q.xaxis,ee=q.yaxis,be=ae._fullLayout,Te=ae._fullData,Be=ae.calcdata,ge=[],ne=[],pe=0;pe<Te.length;pe++){var G=Te[pe];if(G.visible===!0&&b.traceIs(G,"bar")&&G.xaxis===fe._id&&G.yaxis===ee._id&&(G.orientation==="h"?ge.push(Be[pe]):ne.push(Be[pe]),G._computePh))for(var Oe=ae.calcdata[pe],xe=0;xe<Oe.length;xe++)typeof Oe[xe].ph0=="function"&&(Oe[xe].ph0=Oe[xe].ph0()),typeof Oe[xe].ph1=="function"&&(Oe[xe].ph1=Oe[xe].ph1())}var Le={xCat:fe.type==="category"||fe.type==="multicategory",yCat:ee.type==="category"||ee.type==="multicategory",mode:be.barmode,norm:be.barnorm,gap:be.bargap,groupgap:be.bargroupgap};T(ae,fe,ee,ne,Le),T(ae,ee,fe,ge,Le)}function T(ae,q,fe,ee,be){if(ee.length){var Te,Be,ge,ne,pe;switch(R(fe,ee),be.mode){case"overlay":M(q,fe,ee,be);break;case"group":for(Te=[],Be=[],ge=0;ge<ee.length;ge++)ne=ee[ge],pe=ne[0].trace,pe.offset===void 0?Be.push(ne):Te.push(ne);Be.length&&I(ae,q,fe,Be,be),Te.length&&M(q,fe,Te,be);break;case"stack":case"relative":for(Te=[],Be=[],ge=0;ge<ee.length;ge++)ne=ee[ge],pe=ne[0].trace,pe.base===void 0?Be.push(ne):Te.push(ne);Be.length&&V(ae,q,fe,Be,be),Te.length&&M(q,fe,Te,be);break}L(ee,q)}}function R(ae,q){var fe,ee;for(fe=0;fe<q.length;fe++){var be=q[fe],Te=be[0].trace,Be=Te.type==="funnel"?Te._base:Te.base,ge,ne=Te.orientation==="h"?Te.xcalendar:Te.ycalendar,pe=ae.type==="category"||ae.type==="multicategory"?function(){return null}:ae.d2c;if(v(Be)){for(ee=0;ee<Math.min(Be.length,be.length);ee++)ge=pe(Be[ee],0,ne),p(ge)?(be[ee].b=+ge,be[ee].hasB=1):be[ee].b=0;for(;ee<be.length;ee++)be[ee].b=0}else{ge=pe(Be,0,ne);var G=p(ge);for(ge=G?ge:0,ee=0;ee<be.length;ee++)be[ee].b=ge,G&&(be[ee].hasB=1)}}}function M(ae,q,fe,ee){for(var be=0;be<fe.length;be++){var Te=fe[be],Be=new C([Te],{posAxis:ae,sepNegVal:!1,overlapNoMerge:!ee.norm});N(ae,Be,ee),ee.norm?(W(Be),ie(q,Be,ee)):B(q,Be)}}function I(ae,q,fe,ee,be){var Te=new C(ee,{posAxis:q,sepNegVal:!1,overlapNoMerge:!be.norm});F(ae,q,Te,be),Y(Te,q),be.norm?(W(Te),ie(fe,Te,be)):B(fe,Te)}function V(ae,q,fe,ee,be){var Te=new C(ee,{posAxis:q,sepNegVal:be.mode==="relative",overlapNoMerge:!(be.norm||be.mode==="stack"||be.mode==="relative")});N(q,Te,be),E(fe,Te,be);for(var Be=0;Be<ee.length;Be++)for(var ge=ee[Be],ne=0;ne<ge.length;ne++){var pe=ge[ne];if(pe.s!==y){var G=pe.b+pe.s===Te.get(pe.p,pe.s);G&&(pe._outmost=!0)}}be.norm&&ie(fe,Te,be)}function N(ae,q,fe){for(var ee=q.minDiff,be=q.traces,Te=ee*(1-fe.gap),Be=Te,ge=Be*(1-(fe.groupgap||0)),ne=-ge/2,pe=0;pe<be.length;pe++){var G=be[pe],Oe=G[0].t;Oe.barwidth=ge,Oe.poffset=ne,Oe.bargroupwidth=Te,Oe.bardelta=ee}q.binWidth=be[0][0].t.barwidth/100,z(q),U(ae,q),Q(ae,q)}function F(ae,q,fe,ee){for(var be=ae._fullLayout,Te=fe.positions,Be=fe.distinctPositions,ge=fe.minDiff,ne=fe.traces,pe=ne.length,G=Te.length!==Be.length,Oe=ge*(1-ee.gap),xe=k(be,q._id)+ne[0][0].trace.orientation,Le=be._alignmentOpts[xe]||{},ke=0;ke<pe;ke++){var $e=ne[ke],Ze=$e[0].trace,De=Le[Ze.alignmentgroup]||{},Ie=Object.keys(De.offsetGroups||{}).length,re;Ie?re=Oe/Ie:re=G?Oe/pe:Oe;var ye=re*(1-(ee.groupgap||0)),te;Ie?te=((2*Ze._offsetIndex+1-Ie)*re-ye)/2:te=G?((2*ke+1-pe)*re-ye)/2:-ye/2;var se=$e[0].t;se.barwidth=ye,se.poffset=te,se.bargroupwidth=Oe,se.bardelta=ge}fe.binWidth=ne[0][0].t.barwidth/100,z(fe),U(q,fe),Q(q,fe,G)}function z(ae){var q=ae.traces,fe,ee;for(fe=0;fe<q.length;fe++){var be=q[fe],Te=be[0],Be=Te.trace,ge=Te.t,ne=Be._offset||Be.offset,pe=ge.poffset,G;if(v(ne)){for(G=Array.prototype.slice.call(ne,0,be.length),ee=0;ee<G.length;ee++)p(G[ee])||(G[ee]=pe);for(ee=G.length;ee<be.length;ee++)G.push(pe);ge.poffset=G}else ne!==void 0&&(ge.poffset=ne);var Oe=Be._width||Be.width,xe=ge.barwidth;if(v(Oe)){var Le=Array.prototype.slice.call(Oe,0,be.length);for(ee=0;ee<Le.length;ee++)p(Le[ee])||(Le[ee]=xe);for(ee=Le.length;ee<be.length;ee++)Le.push(xe);if(ge.barwidth=Le,ne===void 0){for(G=[],ee=0;ee<be.length;ee++)G.push(pe+(xe-Le[ee])/2);ge.poffset=G}}else Oe!==void 0&&(ge.barwidth=Oe,ne===void 0&&(ge.poffset=pe+(xe-Oe)/2))}}function U(ae,q){for(var fe=q.traces,ee=me(ae),be=0;be<fe.length;be++)for(var Te=fe[be],Be=Te[0].t,ge=Be.poffset,ne=Array.isArray(ge),pe=Be.barwidth,G=Array.isArray(pe),Oe=0;Oe<Te.length;Oe++){var xe=Te[Oe],Le=xe.w=G?pe[Oe]:pe;xe.p===void 0&&(xe.p=xe[ee],xe["orig_"+ee]=xe[ee]);var ke=(ne?ge[Oe]:ge)+Le/2;xe[ee]=xe.p+ke}}function Q(ae,q,fe){var ee=q.traces,be=q.minDiff,Te=be/2;x.minDtick(ae,q.minDiff,q.distinctPositions[0],fe);for(var Be=0;Be<ee.length;Be++){var ge=ee[Be],ne=ge[0],pe=ne.trace,G=[],Oe,xe,Le,ke;for(ke=0;ke<ge.length;ke++)Oe=ge[ke],xe=Oe.p-Te,Le=Oe.p+Te,G.push(xe,Le);if(pe.width||pe.offset){var $e=ne.t,Ze=$e.poffset,De=$e.barwidth,Ie=Array.isArray(Ze),re=Array.isArray(De);for(ke=0;ke<ge.length;ke++){Oe=ge[ke];var ye=Ie?Ze[ke]:Ze,te=re?De[ke]:De;xe=Oe.p+ye,Le=xe+te,G.push(xe,Le)}}pe._extremes[ae._id]=x.findExtremes(ae,G,{padded:!1})}}function B(ae,q){for(var fe=q.traces,ee=me(ae),be=0;be<fe.length;be++){for(var Te=fe[be],Be=Te[0].trace,ge=Be.type==="scatter",ne=Be.orientation==="v",pe=[],G=!1,Oe=0;Oe<Te.length;Oe++){var xe=Te[Oe],Le=ge?0:xe.b,ke=ge?ne?xe.y:xe.x:Le+xe.s;xe[ee]=ke,pe.push(ke),xe.hasB&&pe.push(Le),(!xe.hasB||!xe.b)&&(G=!0)}Be._extremes[ae._id]=x.findExtremes(ae,pe,{tozero:G,padded:!0})}}function E(ae,q,fe){var ee=me(ae),be=q.traces,Te,Be,ge,ne,pe,G;for(ne=0;ne<be.length;ne++)if(Te=be[ne],Be=Te[0].trace,Be.type==="funnel")for(pe=0;pe<Te.length;pe++)G=Te[pe],G.s!==y&&q.put(G.p,-.5*G.s);for(ne=0;ne<be.length;ne++){Te=be[ne],Be=Te[0].trace,ge=Be.type==="funnel";var Oe=[];for(pe=0;pe<Te.length;pe++)if(G=Te[pe],G.s!==y){var xe;ge?xe=G.s:xe=G.s+G.b;var Le=q.put(G.p,xe),ke=Le+xe;G.b=Le,G[ee]=ke,fe.norm||(Oe.push(ke),G.hasB&&Oe.push(Le))}fe.norm||(Be._extremes[ae._id]=x.findExtremes(ae,Oe,{tozero:!0,padded:!0}))}}function W(ae){for(var q=ae.traces,fe=0;fe<q.length;fe++)for(var ee=q[fe],be=0;be<ee.length;be++){var Te=ee[be];Te.s!==y&&ae.put(Te.p,Te.b+Te.s)}}function Y(ae,q){for(var fe=ae.traces,ee=0;ee<fe.length;ee++){var be=fe[ee],Te=be[0].trace;if(Te.base===void 0)for(var Be=new C([be],{posAxis:q,sepNegVal:!0,overlapNoMerge:!0}),ge=0;ge<be.length;ge++){var ne=be[ge];if(ne.p!==y){var pe=Be.put(ne.p,ne.b+ne.s);pe&&(ne.b=pe)}}}}function ie(ae,q,fe){var ee=q.traces,be=me(ae),Te=fe.norm==="fraction"?1:100,Be=Te/1e9,ge=ae.l2c(ae.c2l(0)),ne=fe.mode==="stack"?Te:ge;function pe(te){return p(ae.c2l(te))&&(te<ge-Be||te>ne+Be||!p(ge))}for(var G=0;G<ee.length;G++){for(var Oe=ee[G],xe=Oe[0].trace,Le=[],ke=!1,$e=!1,Ze=0;Ze<Oe.length;Ze++){var De=Oe[Ze];if(De.s!==y){var Ie=Math.abs(Te/q.get(De.p,De.s));De.b*=Ie,De.s*=Ie;var re=De.b,ye=re+De.s;De[be]=ye,Le.push(ye),$e=$e||pe(ye),De.hasB&&(Le.push(re),$e=$e||pe(re)),(!De.hasB||!De.b)&&(ke=!0)}}xe._extremes[ae._id]=x.findExtremes(ae,Le,{tozero:ke,padded:$e})}}function L(ae,q){var fe=me(q),ee={},be,Te,Be,ge=1/0,ne=-1/0;for(be=0;be<ae.length;be++)for(Be=ae[be],Te=0;Te<Be.length;Te++){var pe=Be[Te].p;p(pe)&&(ge=Math.min(ge,pe),ne=Math.max(ne,pe))}var G=1e4/(ne-ge),Oe=ee.round=function(Ie){return String(Math.round(G*(Ie-ge)))};for(be=0;be<ae.length;be++){Be=ae[be],Be[0].t.extents=ee;var xe=Be[0].t.poffset,Le=Array.isArray(xe);for(Te=0;Te<Be.length;Te++){var ke=Be[Te],$e=ke[fe]-ke.w/2;if(p($e)){var Ze=ke[fe]+ke.w/2,De=Oe(ke.p);ee[De]?ee[De]=[Math.min($e,ee[De][0]),Math.max(Ze,ee[De][1])]:ee[De]=[$e,Ze]}ke.p0=ke.p+(Le?xe[Te]:xe),ke.p1=ke.p0+ke.w,ke.s0=ke.b,ke.s1=ke.s0+ke.s}}}function me(ae){return ae._id.charAt(0)}f.exports={crossTraceCalc:w,setGroupPositions:T}},769:function(f,h,u){var p=u(1828),v=u(7901),y=u(3972),b=u(7513),x=u(3927),k=u(8340),C=u(6125),w=u(1486),T=p.coerceFont;function R(V,N,F,z){function U(Y,ie){return p.coerce(V,N,w,Y,ie)}var Q=b(V,N,z,U);if(!Q){N.visible=!1;return}x(V,N,z,U),U("xhoverformat"),U("yhoverformat"),U("orientation",N.x&&!N.y?"h":"v"),U("base"),U("offset"),U("width"),U("text"),U("hovertext"),U("hovertemplate");var B=U("textposition");I(V,N,z,U,B,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),k(V,N,U,F,z);var E=(N.marker.line||{}).color,W=y.getComponentMethod("errorbars","supplyDefaults");W(V,N,E||v.defaultLine,{axis:"y"}),W(V,N,E||v.defaultLine,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(N,U)}function M(V,N){var F,z;function U(B){return p.coerce(z._input,z,w,B)}if(N.barmode==="group")for(var Q=0;Q<V.length;Q++)z=V[Q],z.type==="bar"&&(F=z._input,C(F,z,N,U))}function I(V,N,F,z,U,Q){Q=Q||{};var B=Q.moduleHasSelected!==!1,E=Q.moduleHasUnselected!==!1,W=Q.moduleHasConstrain!==!1,Y=Q.moduleHasCliponaxis!==!1,ie=Q.moduleHasTextangle!==!1,L=Q.moduleHasInsideanchor!==!1,me=!!Q.hasPathbar,ae=Array.isArray(U)||U==="auto",q=ae||U==="inside",fe=ae||U==="outside";if(q||fe){var ee=T(z,"textfont",F.font),be=p.extendFlat({},ee),Te=V.textfont&&V.textfont.color,Be=!Te;if(Be&&delete be.color,T(z,"insidetextfont",be),me){var ge=p.extendFlat({},ee);Be&&delete ge.color,T(z,"pathbar.textfont",ge)}fe&&T(z,"outsidetextfont",ee),B&&z("selected.textfont.color"),E&&z("unselected.textfont.color"),W&&z("constraintext"),Y&&z("cliponaxis"),ie&&z("textangle"),z("texttemplate")}q&&L&&z("insidetextanchor")}f.exports={supplyDefaults:R,crossTraceDefaults:M,handleText:I}},8065:function(f){f.exports=function(u,p,v){return u.x="xVal"in p?p.xVal:p.x,u.y="yVal"in p?p.yVal:p.y,p.xa&&(u.xaxis=p.xa),p.ya&&(u.yaxis=p.ya),v.orientation==="h"?(u.label=u.y,u.value=u.x):(u.label=u.x,u.value=u.y),u}},9383:function(f,h,u){var p=u(2770),v=u(4267),y=u(1828).isArrayOrTypedArray;h.coerceString=function(b,x,k){if(typeof x=="string"){if(x||!b.noBlank)return x}else if((typeof x=="number"||x===!0)&&!b.strict)return String(x);return k!==void 0?k:b.dflt},h.coerceNumber=function(b,x,k){if(p(x)){x=+x;var C=b.min,w=b.max,T=C!==void 0&&x<C||w!==void 0&&x>w;if(!T)return x}return k!==void 0?k:b.dflt},h.coerceColor=function(b,x,k){return v(x).isValid()?x:k!==void 0?k:b.dflt},h.coerceEnumerated=function(b,x,k){return b.coerceNumber&&(x=+x),b.values.indexOf(x)!==-1?x:k!==void 0?k:b.dflt},h.getValue=function(b,x){var k;return Array.isArray(b)?x<b.length&&(k=b[x]):k=b,k},h.getLineWidth=function(b,x){var k=0<x.mlw?x.mlw:y(b.marker.line.width)?0:b.marker.line.width;return k}},5423:function(f,h,u){var p=u(211),v=u(3972),y=u(7901),b=u(1828).fillText,x=u(9383).getLineWidth,k=u(9298).hoverLabelText,C=u(606).BADNUM;function w(M,I,V,N,F){var z=T(M,I,V,N,F);if(z){var U=z.cd,Q=U[0].trace,B=U[z.index];return z.color=R(Q,B),v.getComponentMethod("errorbars","hoverInfo")(B,Q,z),[z]}}function T(M,I,V,N,F){var z=M.cd,U=z[0].trace,Q=z[0].t,B=N==="closest",E=U.type==="waterfall",W=M.maxHoverDistance,Y=M.maxSpikeDistance,ie,L,me,ae,q,fe,ee;U.orientation==="h"?(ie=V,L=I,me="y",ae="x",q=Ze,fe=Le):(ie=I,L=V,me="x",ae="y",fe=Ze,q=Le);var be=U[me+"period"],Te=B||be;function Be(Ce){return ne(Ce,-1)}function ge(Ce){return ne(Ce,1)}function ne(Ce,Qe){var ze=Ce.w;return Ce[me]+Qe*ze/2}function pe(Ce){return Ce[me+"End"]-Ce[me+"Start"]}var G=B?Be:be?function(Ce){return Ce.p-pe(Ce)/2}:function(Ce){return Math.min(Be(Ce),Ce.p-Q.bardelta/2)},Oe=B?ge:be?function(Ce){return Ce.p+pe(Ce)/2}:function(Ce){return Math.max(ge(Ce),Ce.p+Q.bardelta/2)};function xe(Ce,Qe,ze){return F.finiteRange&&(ze=0),p.inbox(Ce-ie,Qe-ie,ze+Math.min(1,Math.abs(Qe-Ce)/ee)-1)}function Le(Ce){return xe(G(Ce),Oe(Ce),W)}function ke(Ce){return xe(Be(Ce),ge(Ce),Y)}function $e(Ce){var Qe=Ce[ae];if(E){var ze=Math.abs(Ce.rawS)||0;L>0?Qe+=ze:L<0&&(Qe-=ze)}return Qe}function Ze(Ce){var Qe=L,ze=Ce.b,Xe=$e(Ce);return p.inbox(ze-Qe,Xe-Qe,W+(Xe-Qe)/(Xe-ze)-1)}function De(Ce){var Qe=L,ze=Ce.b,Xe=$e(Ce);return p.inbox(ze-Qe,Xe-Qe,Y+(Xe-Qe)/(Xe-ze)-1)}var Ie=M[me+"a"],re=M[ae+"a"];ee=Math.abs(Ie.r2c(Ie.range[1])-Ie.r2c(Ie.range[0]));function ye(Ce){return(q(Ce)+fe(Ce))/2}var te=p.getDistanceFunction(N,q,fe,ye);if(p.getClosest(z,te,M),M.index!==!1&&z[M.index].p!==C){Te||(G=function(Ce){return Math.min(Be(Ce),Ce.p-Q.bargroupwidth/2)},Oe=function(Ce){return Math.max(ge(Ce),Ce.p+Q.bargroupwidth/2)});var se=M.index,ue=z[se],oe=U.base?ue.b+ue.s:ue.s;M[ae+"0"]=M[ae+"1"]=re.c2p(ue[ae],!0),M[ae+"LabelVal"]=oe;var Se=Q.extents[Q.extents.round(ue.p)];M[me+"0"]=Ie.c2p(B?G(ue):Se[0],!0),M[me+"1"]=Ie.c2p(B?Oe(ue):Se[1],!0);var le=ue.orig_p!==void 0;return M[me+"LabelVal"]=le?ue.orig_p:ue.p,M.labelLabel=k(Ie,M[me+"LabelVal"],U[me+"hoverformat"]),M.valueLabel=k(re,M[ae+"LabelVal"],U[ae+"hoverformat"]),M.baseLabel=k(re,ue.b,U[ae+"hoverformat"]),M.spikeDistance=(De(ue)+ke(ue))/2,M[me+"Spike"]=Ie.c2p(ue.p,!0),b(ue,U,M),M.hovertemplate=U.hovertemplate,M}}function R(M,I){var V=I.mcc||M.marker.color,N=I.mlcc||M.marker.line.color,F=x(M,I);if(y.opacity(V))return V;if(y.opacity(N)&&F)return N}f.exports={hoverPoints:w,hoverOnBars:T,getTraceColor:R}},822:function(f,h,u){f.exports={attributes:u(1486),layoutAttributes:u(3641),supplyDefaults:u(769).supplyDefaults,crossTraceDefaults:u(769).crossTraceDefaults,supplyLayoutDefaults:u(3957),calc:u(2290),crossTraceCalc:u(1661).crossTraceCalc,colorbar:u(4898),arraysToCalcdata:u(5341),plot:u(7295).plot,style:u(6688).style,styleOnSelect:u(6688).styleOnSelect,hoverPoints:u(5423).hoverPoints,eventData:u(8065),selectPoints:u(1974),moduleType:"trace",name:"bar",basePlotModule:u(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(f){f.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(f,h,u){var p=u(3972),v=u(9298),y=u(1828),b=u(3641);f.exports=function(x,k,C){function w(Q,B){return y.coerce(x,k,b,Q,B)}for(var T=!1,R=!1,M=!1,I={},V=w("barmode"),N=0;N<C.length;N++){var F=C[N];if(p.traceIs(F,"bar")&&F.visible)T=!0;else continue;if(V==="group"){var z=F.xaxis+F.yaxis;I[z]&&(M=!0),I[z]=!0}if(F.visible&&F.type==="histogram"){var U=v.getFromId({_fullLayout:k},F[F.orientation==="v"?"xaxis":"yaxis"]);U.type!=="category"&&(R=!0)}}if(!T){delete k.barmode;return}V!=="overlay"&&w("barnorm"),w("bargap",R&&!M?0:.2),w("bargroupgap")}},7295:function(f,h,u){var p=u(9898),v=u(2770),y=u(1828),b=u(3893),x=u(7901),k=u(1424),C=u(3972),w=u(9298).tickText,T=u(2597),R=T.recordMinTextSize,M=T.clearMinTextSize,I=u(6688),V=u(9383),N=u(7313),F=u(1486),z=F.text,U=F.textposition,Q=u(3469).appendArrayPointValue,B=N.TEXTPAD;function E(G){return G.id}function W(G){if(G.ids)return E}function Y(G,Oe){return G<Oe?1:-1}function ie(G,Oe,xe,Le){var ke=[],$e=[],Ze=Le?Oe:xe,De=Le?xe:Oe;return ke[0]=Ze.c2p(G.s0,!0),$e[0]=De.c2p(G.p0,!0),ke[1]=Ze.c2p(G.s1,!0),$e[1]=De.c2p(G.p1,!0),Le?[ke,$e]:[$e,ke]}function L(G,Oe,xe,Le){if(!Oe.uniformtext.mode&&me(xe)){var ke;return Le&&(ke=Le()),G.transition().duration(xe.duration).ease(xe.easing).each("end",function(){ke&&ke()}).each("interrupt",function(){ke&&ke()})}else return G}function me(G){return G&&G.duration>0}function ae(G,Oe,xe,Le,ke,$e){var Ze=Oe.xaxis,De=Oe.yaxis,Ie=G._fullLayout,re=G._context.staticPlot;ke||(ke={mode:Ie.barmode,norm:Ie.barmode,gap:Ie.bargap,groupgap:Ie.bargroupgap},M("bar",Ie));var ye=y.makeTraceGroups(Le,xe,"trace bars").each(function(te){var se=p.select(this),ue=te[0].trace,oe=ue.type==="waterfall",Se=ue.type==="funnel",le=ue.type==="bar",Ce=le||Se,Qe=0;oe&&ue.connector.visible&&ue.connector.mode==="between"&&(Qe=ue.connector.line.width/2);var ze=ue.orientation==="h",Xe=me(ke),ct=y.ensureSingle(se,"g","points"),pt=W(ue),Ye=ct.selectAll("g.point").data(y.identity,pt);Ye.enter().append("g").classed("point",!0),Ye.exit().remove(),Ye.each(function(et,yt){var ft=p.select(this),tt=ie(et,Ze,De,ze),wt=tt[0][0],Xt=tt[0][1],Gt=tt[1][0],Nt=tt[1][1],Bt=(ze?Xt-wt:Nt-Gt)===0;Bt&&Ce&&V.getLineWidth(ue,et)&&(Bt=!1),Bt||(Bt=!v(wt)||!v(Xt)||!v(Gt)||!v(Nt)),et.isBlank=Bt,Bt&&(ze?Xt=wt:Nt=Gt),Qe&&!Bt&&(ze?(wt-=Y(wt,Xt)*Qe,Xt+=Y(wt,Xt)*Qe):(Gt-=Y(Gt,Nt)*Qe,Nt+=Y(Gt,Nt)*Qe));var vn,En;if(ue.type==="waterfall"){if(!Bt){var ln=ue[et.dir].marker;vn=ln.line.width,En=ln.color}}else vn=V.getLineWidth(ue,et),En=et.mc||ue.marker.color;function Yn(it){var ut=p.round(vn/2%1,2);return ke.gap===0&&ke.groupgap===0?p.round(Math.round(it)-ut,2):it}function an(it,ut,xt){return xt&&it===ut?it:Math.abs(it-ut)>=2?Yn(it):it>ut?Math.ceil(it):Math.floor(it)}if(!G._context.staticPlot){var wn=x.opacity(En),Xn=wn<1||vn>.01?Yn:an;wt=Xn(wt,Xt,ze),Xt=Xn(Xt,wt,ze),Gt=Xn(Gt,Nt,!ze),Nt=Xn(Nt,Gt,!ze)}var Un=L(y.ensureSingle(ft,"path"),Ie,ke,$e);if(Un.style("vector-effect",re?"none":"non-scaling-stroke").attr("d",isNaN((Xt-wt)*(Nt-Gt))||Bt&&G._context.staticPlot?"M0,0Z":"M"+wt+","+Gt+"V"+Nt+"H"+Xt+"V"+Gt+"Z").call(k.setClipUrl,Oe.layerClipId,G),!Ie.uniformtext.mode&&Xe){var Sn=k.makePointStyleFns(ue);k.singlePointStyle(et,Un,ue,Sn,G)}q(G,Oe,ft,te,yt,wt,Xt,Gt,Nt,ke,$e),Oe.layerClipId&&k.hideOutsideRangePoint(et,ft.select("text"),Ze,De,ue.xcalendar,ue.ycalendar)});var je=ue.cliponaxis===!1;k.setClipUrl(se,je?null:Oe.layerClipId,G)});C.getComponentMethod("errorbars","plot")(G,ye,Oe,ke)}function q(G,Oe,xe,Le,ke,$e,Ze,De,Ie,re,ye){var te=Oe.xaxis,se=Oe.yaxis,ue=G._fullLayout,oe;function Se(it,ut,xt){var gt=y.ensureSingle(it,"text").text(ut).attr({class:"bartext bartext-"+oe,"text-anchor":"middle","data-notex":1}).call(k.font,xt).call(b.convertToTspans,G);return gt}var le=Le[0].trace,Ce=le.orientation==="h",Qe=Be(ue,Le,ke,te,se);oe=ge(le,ke);var ze=re.mode==="stack"||re.mode==="relative",Xe=Le[ke],ct=!ze||Xe._outmost;if(!Qe||oe==="none"||(Xe.isBlank||$e===Ze||De===Ie)&&(oe==="auto"||oe==="inside")){xe.select("text").remove();return}var pt=ue.font,Ye=I.getBarColor(Le[ke],le),je=I.getInsideTextFont(le,ke,pt,Ye),et=I.getOutsideTextFont(le,ke,pt),yt=xe.datum();Ce?te.type==="log"&&yt.s0<=0&&(te.range[0]<te.range[1]?$e=0:$e=te._length):se.type==="log"&&yt.s0<=0&&(se.range[0]<se.range[1]?De=se._length:De=0);var ft=Math.abs(Ze-$e)-2*B,tt=Math.abs(Ie-De)-2*B,wt,Xt,Gt,Nt,Bt;if(oe==="outside"&&!ct&&!Xe.hasB&&(oe="inside"),oe==="auto")if(ct){oe="inside",Bt=y.ensureUniformFontSize(G,je),wt=Se(xe,Qe,Bt),Xt=k.bBox(wt.node()),Gt=Xt.width,Nt=Xt.height;var vn=Gt>0&&Nt>0,En=Gt<=ft&&Nt<=tt,ln=Gt<=tt&&Nt<=ft,Yn=Ce?ft>=Gt*(tt/Nt):tt>=Nt*(ft/Gt);vn&&(En||ln||Yn)?oe="inside":(oe="outside",wt.remove(),wt=null)}else oe="inside";if(!wt){Bt=y.ensureUniformFontSize(G,oe==="outside"?et:je),wt=Se(xe,Qe,Bt);var an=wt.attr("transform");if(wt.attr("transform",""),Xt=k.bBox(wt.node()),Gt=Xt.width,Nt=Xt.height,wt.attr("transform",an),Gt<=0||Nt<=0){wt.remove();return}}var wn=le.textangle,Xn,Un;oe==="outside"?(Un=le.constraintext==="both"||le.constraintext==="outside",Xn=Te($e,Ze,De,Ie,Xt,{isHorizontal:Ce,constrained:Un,angle:wn})):(Un=le.constraintext==="both"||le.constraintext==="inside",Xn=be($e,Ze,De,Ie,Xt,{isHorizontal:Ce,constrained:Un,angle:wn,anchor:le.insidetextanchor})),Xn.fontSize=Bt.size,R(le.type==="histogram"?"bar":le.type,Xn,ue),Xe.transform=Xn;var Sn=L(wt,ue,re,ye);y.setTransormAndDisplay(Sn,Xn)}function fe(G){return G==="auto"?0:G}function ee(G,Oe){var xe=Math.PI/180*Oe,Le=Math.abs(Math.sin(xe)),ke=Math.abs(Math.cos(xe));return{x:G.width*ke+G.height*Le,y:G.width*Le+G.height*ke}}function be(G,Oe,xe,Le,ke,$e){var Ze=!!$e.isHorizontal,De=!!$e.constrained,Ie=$e.angle||0,re=$e.anchor||"end",ye=re==="end",te=re==="start",se=$e.leftToRight||0,ue=(se+1)/2,oe=1-ue,Se=ke.width,le=ke.height,Ce=Math.abs(Oe-G),Qe=Math.abs(Le-xe),ze=Ce>2*B&&Qe>2*B?B:0;Ce-=2*ze,Qe-=2*ze;var Xe=fe(Ie);Ie==="auto"&&!(Se<=Ce&&le<=Qe)&&(Se>Ce||le>Qe)&&(!(Se>Qe||le>Ce)||Se<le!=Ce<Qe)&&(Xe+=90);var ct=ee(ke,Xe),pt=1;De&&(pt=Math.min(1,Ce/ct.x,Qe/ct.y));var Ye=ke.left*oe+ke.right*ue,je=(ke.top+ke.bottom)/2,et=(G+B)*oe+(Oe-B)*ue,yt=(xe+Le)/2,ft=0,tt=0;if(te||ye){var wt=(Ze?ct.x:ct.y)/2,Xt=Ze?Y(G,Oe):Y(xe,Le);Ze?te?(et=G+Xt*ze,ft=-Xt*wt):(et=Oe-Xt*ze,ft=Xt*wt):te?(yt=xe+Xt*ze,tt=-Xt*wt):(yt=Le-Xt*ze,tt=Xt*wt)}return{textX:Ye,textY:je,targetX:et,targetY:yt,anchorX:ft,anchorY:tt,scale:pt,rotate:Xe}}function Te(G,Oe,xe,Le,ke,$e){var Ze=!!$e.isHorizontal,De=!!$e.constrained,Ie=$e.angle||0,re=ke.width,ye=ke.height,te=Math.abs(Oe-G),se=Math.abs(Le-xe),ue;Ze?ue=se>2*B?B:0:ue=te>2*B?B:0;var oe=1;De&&(oe=Ze?Math.min(1,se/ye):Math.min(1,te/re));var Se=fe(Ie),le=ee(ke,Se),Ce=(Ze?le.x:le.y)/2,Qe=(ke.left+ke.right)/2,ze=(ke.top+ke.bottom)/2,Xe=(G+Oe)/2,ct=(xe+Le)/2,pt=0,Ye=0,je=Ze?Y(Oe,G):Y(xe,Le);return Ze?(Xe=Oe-je*ue,pt=je*Ce):(ct=Le+je*ue,Ye=-je*Ce),{textX:Qe,textY:ze,targetX:Xe,targetY:ct,anchorX:pt,anchorY:Ye,scale:oe,rotate:Se}}function Be(G,Oe,xe,Le,ke){var $e=Oe[0].trace,Ze=$e.texttemplate,De;return Ze?De=ne(G,Oe,xe,Le,ke):$e.textinfo?De=pe(Oe,xe,Le,ke):De=V.getValue($e.text,xe),V.coerceString(z,De)}function ge(G,Oe){var xe=V.getValue(G.textposition,Oe);return V.coerceEnumerated(U,xe)}function ne(G,Oe,xe,Le,ke){var $e=Oe[0].trace,Ze=y.castOption($e,xe,"texttemplate");if(!Ze)return"";var De=$e.type==="histogram",Ie=$e.type==="waterfall",re=$e.type==="funnel",ye=$e.orientation==="h",te,se,ue,oe;ye?(te="y",se=ke,ue="x",oe=Le):(te="x",se=Le,ue="y",oe=ke);function Se(pt){return w(se,se.c2l(pt),!0).text}function le(pt){return w(oe,oe.c2l(pt),!0).text}var Ce=Oe[xe],Qe={};Qe.label=Ce.p,Qe.labelLabel=Qe[te+"Label"]=Se(Ce.p);var ze=y.castOption($e,Ce.i,"text");(ze===0||ze)&&(Qe.text=ze),Qe.value=Ce.s,Qe.valueLabel=Qe[ue+"Label"]=le(Ce.s);var Xe={};Q(Xe,$e,Ce.i),(De||Xe.x===void 0)&&(Xe.x=ye?Qe.value:Qe.label),(De||Xe.y===void 0)&&(Xe.y=ye?Qe.label:Qe.value),(De||Xe.xLabel===void 0)&&(Xe.xLabel=ye?Qe.valueLabel:Qe.labelLabel),(De||Xe.yLabel===void 0)&&(Xe.yLabel=ye?Qe.labelLabel:Qe.valueLabel),Ie&&(Qe.delta=+Ce.rawS||Ce.s,Qe.deltaLabel=le(Qe.delta),Qe.final=Ce.v,Qe.finalLabel=le(Qe.final),Qe.initial=Qe.final-Qe.delta,Qe.initialLabel=le(Qe.initial)),re&&(Qe.value=Ce.s,Qe.valueLabel=le(Qe.value),Qe.percentInitial=Ce.begR,Qe.percentInitialLabel=y.formatPercent(Ce.begR),Qe.percentPrevious=Ce.difR,Qe.percentPreviousLabel=y.formatPercent(Ce.difR),Qe.percentTotal=Ce.sumR,Qe.percenTotalLabel=y.formatPercent(Ce.sumR));var ct=y.castOption($e,Ce.i,"customdata");return ct&&(Qe.customdata=ct),y.texttemplateString(Ze,Qe,G._d3locale,Xe,Qe,$e._meta||{})}function pe(G,Oe,xe,Le){var ke=G[0].trace,$e=ke.orientation==="h",Ze=ke.type==="waterfall",De=ke.type==="funnel";function Ie(ct){var pt=$e?Le:xe;return w(pt,ct,!0).text}function re(ct){var pt=$e?xe:Le;return w(pt,+ct,!0).text}var ye=ke.textinfo,te=G[Oe],se=ye.split("+"),ue=[],oe,Se=function(ct){return se.indexOf(ct)!==-1};if(Se("label")&&ue.push(Ie(G[Oe].p)),Se("text")&&(oe=y.castOption(ke,te.i,"text"),(oe===0||oe)&&ue.push(oe)),Ze){var le=+te.rawS||te.s,Ce=te.v,Qe=Ce-le;Se("initial")&&ue.push(re(Qe)),Se("delta")&&ue.push(re(le)),Se("final")&&ue.push(re(Ce))}if(De){Se("value")&&ue.push(re(te.s));var ze=0;Se("percent initial")&&ze++,Se("percent previous")&&ze++,Se("percent total")&&ze++;var Xe=ze>1;Se("percent initial")&&(oe=y.formatPercent(te.begR),Xe&&(oe+=" of initial"),ue.push(oe)),Se("percent previous")&&(oe=y.formatPercent(te.difR),Xe&&(oe+=" of previous"),ue.push(oe)),Se("percent total")&&(oe=y.formatPercent(te.sumR),Xe&&(oe+=" of total"),ue.push(oe))}return ue.join("<br>")}f.exports={plot:ae,toMoveInsideBar:be}},1974:function(f){f.exports=function(p,v){var y=p.cd,b=p.xaxis,x=p.yaxis,k=y[0].trace,C=k.type==="funnel",w=k.orientation==="h",T=[],R;if(v===!1)for(R=0;R<y.length;R++)y[R].selected=0;else for(R=0;R<y.length;R++){var M=y[R],I="ct"in M?M.ct:h(M,b,x,w,C);v.contains(I,!1,R,p)?(T.push({pointNumber:R,x:b.c2d(M.x),y:x.c2d(M.y)}),M.selected=1):M.selected=0}return T};function h(u,p,v,y,b){var x=p.c2p(y?u.s0:u.p0,!0),k=p.c2p(y?u.s1:u.p1,!0),C=v.c2p(y?u.p0:u.s0,!0),w=v.c2p(y?u.p1:u.s1,!0);return b?[(x+k)/2,(C+w)/2]:y?[k,(C+w)/2]:[(x+k)/2,w]}},1546:function(f,h,u){f.exports=v;var p=u(1828).distinctVals;function v(y,b){this.traces=y,this.sepNegVal=b.sepNegVal,this.overlapNoMerge=b.overlapNoMerge;for(var x=1/0,k=b.posAxis._id.charAt(0),C=[],w=0;w<y.length;w++){for(var T=y[w],R=0;R<T.length;R++){var M=T[R],I=M.p;I===void 0&&(I=M[k]),I!==void 0&&C.push(I)}T[0]&&T[0].width1&&(x=Math.min(T[0].width1,x))}this.positions=C;var V=p(C);this.distinctPositions=V.vals,V.vals.length===1&&x!==1/0?this.minDiff=x:this.minDiff=Math.min(V.minDiff,x);var N=(b.posAxis||{}).type;(N==="category"||N==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}v.prototype.put=function(b,x){var k=this.getLabel(b,x),C=this.bins[k]||0;return this.bins[k]=C+x,C},v.prototype.get=function(b,x){var k=this.getLabel(b,x);return this.bins[k]||0},v.prototype.getLabel=function(b,x){var k=x<0&&this.sepNegVal?"v":"^",C=this.overlapNoMerge?b:Math.round(b/this.binWidth);return k+C}},6688:function(f,h,u){var p=u(9898),v=u(7901),y=u(1424),b=u(1828),x=u(3972),k=u(2597).resizeText,C=u(1486),w=C.textfont,T=C.insidetextfont,R=C.outsidetextfont,M=u(9383);function I(L){var me=p.select(L).selectAll("g.barlayer").selectAll("g.trace");k(L,me,"bar");var ae=me.size(),q=L._fullLayout;me.style("opacity",function(fe){return fe[0].trace.opacity}).each(function(fe){(q.barmode==="stack"&&ae>1||q.bargap===0&&q.bargroupgap===0&&!fe[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),me.selectAll("g.points").each(function(fe){var ee=p.select(this),be=fe[0].trace;V(ee,be,L)}),x.getComponentMethod("errorbars","style")(me)}function V(L,me,ae){y.pointStyle(L.selectAll("path"),me,ae),N(L,me,ae)}function N(L,me,ae){L.selectAll("text").each(function(q){var fe=p.select(this),ee=b.ensureUniformFontSize(ae,Q(fe,q,me,ae));y.font(fe,ee)})}function F(L,me,ae){var q=me[0].trace;q.selectedpoints?z(ae,q,L):(V(ae,q,L),x.getComponentMethod("errorbars","style")(ae))}function z(L,me,ae){y.selectedPointStyle(L.selectAll("path"),me),U(L.selectAll("text"),me,ae)}function U(L,me,ae){L.each(function(q){var fe=p.select(this),ee;if(q.selected){ee=b.ensureUniformFontSize(ae,Q(fe,q,me,ae));var be=me.selected.textfont&&me.selected.textfont.color;be&&(ee.color=be),y.font(fe,ee)}else y.selectedTextStyle(fe,me)})}function Q(L,me,ae,q){var fe=q._fullLayout.font,ee=ae.textfont;if(L.classed("bartext-inside")){var be=ie(me,ae);ee=E(ae,me.i,fe,be)}else L.classed("bartext-outside")&&(ee=W(ae,me.i,fe));return ee}function B(L,me,ae){return Y(w,L.textfont,me,ae)}function E(L,me,ae,q){var fe=B(L,me,ae),ee=L._input.textfont===void 0||L._input.textfont.color===void 0||Array.isArray(L.textfont.color)&&L.textfont.color[me]===void 0;return ee&&(fe={color:v.contrast(q),family:fe.family,size:fe.size}),Y(T,L.insidetextfont,me,fe)}function W(L,me,ae){var q=B(L,me,ae);return Y(R,L.outsidetextfont,me,q)}function Y(L,me,ae,q){me=me||{};var fe=M.getValue(me.family,ae),ee=M.getValue(me.size,ae),be=M.getValue(me.color,ae);return{family:M.coerceString(L.family,fe,q.family),size:M.coerceNumber(L.size,ee,q.size),color:M.coerceColor(L.color,be,q.color)}}function ie(L,me){return me.type==="waterfall"?me[L.dir].marker.color:L.mcc||L.mc||me.marker.color}f.exports={style:I,styleTextPoints:N,styleOnSelect:F,getInsideTextFont:E,getOutsideTextFont:W,getBarColor:ie,resizeText:k}},8340:function(f,h,u){var p=u(7901),v=u(2869).hasColorscale,y=u(1586),b=u(1828).coercePattern;f.exports=function(k,C,w,T,R){var M=w("marker.color",T),I=v(k,"marker");I&&y(k,C,R,w,{prefix:"marker.",cLetter:"c"}),w("marker.line.color",p.defaultLine),v(k,"marker.line")&&y(k,C,R,w,{prefix:"marker.line.",cLetter:"c"}),w("marker.line.width"),w("marker.opacity"),b(w,"marker.pattern",M,I),w("selected.marker.color"),w("unselected.marker.color")}},2597:function(f,h,u){var p=u(9898),v=u(1828);function y(C,w,T){var R=C._fullLayout,M=R["_"+T+"Text_minsize"];if(M){var I=R.uniformtext.mode==="hide",V;switch(T){case"funnelarea":case"pie":case"sunburst":V="g.slice";break;case"treemap":case"icicle":V="g.slice, g.pathbar";break;default:V="g.points > g.point"}w.selectAll(V).each(function(N){var F=N.transform;if(F){F.scale=I&&F.hide?0:M/F.fontSize;var z=p.select(this).select("text");v.setTransormAndDisplay(z,F)}})}}function b(C,w,T){if(T.uniformtext.mode){var R=k(C),M=T.uniformtext.minsize,I=w.scale*w.fontSize;w.hide=I<M,T[R]=T[R]||1/0,w.hide||(T[R]=Math.min(T[R],Math.max(I,M)))}}function x(C,w){var T=k(C);w[T]=void 0}function k(C){return"_"+C+"Text_minsize"}f.exports={recordMinTextSize:b,clearMinTextSize:x,resizeText:y}},4e3:function(f,h,u){var p=u(9012),v=u(7670).Y,y=u(1940),b=u(2399),x=u(5386).fF,k=u(5386).si,C=u(1426).extendFlat,w=u(9952).u,T=y({editType:"plot",arrayOk:!0,colorEditType:"plot"});f.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:b.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:w,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:C({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:x({},{keys:["label","color","value","percent","text"]}),texttemplate:k({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:C({},T,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:C({},T,{}),outsidetextfont:C({},T,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:C({},T,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:v({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:C({},T,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(f,h,u){var p=u(4875);h.name="pie",h.plot=function(v,y,b,x){p.plotBasePlot(h.name,v,y,b,x)},h.clean=function(v,y,b,x){p.cleanBasePlot(h.name,v,y,b,x)}},2354:function(f,h,u){var p=u(2770),v=u(4267),y=u(7901),b={};function x(T,R){var M=[],I=T._fullLayout,V=I.hiddenlabels||[],N=R.labels,F=R.marker.colors||[],z=R.values,U=R._length,Q=R._hasValues&&U,B,E;if(R.dlabel)for(N=new Array(U),B=0;B<U;B++)N[B]=String(R.label0+B*R.dlabel);var W={},Y=k(I["_"+R.type+"colormap"]),ie=0,L=!1;for(B=0;B<U;B++){var me,ae,q;if(Q){if(me=z[B],!p(me))continue;me=+me}else me=1;ae=N[B],(ae===void 0||ae==="")&&(ae=B),ae=String(ae);var fe=W[ae];fe===void 0?(W[ae]=M.length,q=V.indexOf(ae)!==-1,q||(ie+=me),M.push({v:me,label:ae,color:Y(F[B],ae),i:B,pts:[B],hidden:q})):(L=!0,E=M[fe],E.v+=me,E.pts.push(B),E.hidden||(ie+=me),E.color===!1&&F[B]&&(E.color=Y(F[B],ae)))}M=M.filter(function(be){return be.v>=0});var ee=R.type==="funnelarea"?L:R.sort;return ee&&M.sort(function(be,Te){return Te.v-be.v}),M[0]&&(M[0].vTotal=ie),M}function k(T){return function(M,I){return!M||(M=v(M),!M.isValid())?!1:(M=y.addOpacity(M,M.getAlpha()),T[I]||(T[I]=M),M)}}function C(T,R){var M=(R||{}).type;M||(M="pie");var I=T._fullLayout,V=T.calcdata,N=I[M+"colorway"],F=I["_"+M+"colormap"];I["extend"+M+"colors"]&&(N=w(N,b));for(var z=0,U=0;U<V.length;U++){var Q=V[U],B=Q[0].trace.type;if(B===M)for(var E=0;E<Q.length;E++){var W=Q[E];W.color===!1&&(F[W.label]?W.color=F[W.label]:(F[W.label]=W.color=N[z%N.length],z++))}}}function w(T,R){var M,I=JSON.stringify(T),V=R[I];if(!V){for(V=T.slice(),M=0;M<T.length;M++)V.push(v(T[M]).lighten(20).toHexString());for(M=0;M<T.length;M++)V.push(v(T[M]).darken(20).toHexString());R[I]=V}return V}f.exports={calc:x,crossTraceCalc:C,makePullColorFn:k,generateExtendedColors:w}},7434:function(f,h,u){var p=u(2770),v=u(1828),y=u(4e3),b=u(7670).c,x=u(769).handleText,k=u(1828).coercePattern;function C(R,M){var I=Array.isArray(R),V=v.isArrayOrTypedArray(M),N=Math.min(I?R.length:1/0,V?M.length:1/0);if(isFinite(N)||(N=0),N&&V){for(var F,z=0;z<N;z++){var U=M[z];if(p(U)&&U>0){F=!0;break}}F||(N=0)}return{hasLabels:I,hasValues:V,len:N}}function w(R,M,I,V,N){var F=V("marker.line.width");F&&V("marker.line.color",N?void 0:I.paper_bgcolor);var z=V("marker.colors");k(V,"marker.pattern",z),R.marker&&!M.marker.pattern.fgcolor&&(M.marker.pattern.fgcolor=R.marker.colors),M.marker.pattern.bgcolor||(M.marker.pattern.bgcolor=I.paper_bgcolor)}function T(R,M,I,V){function N(fe,ee){return v.coerce(R,M,y,fe,ee)}var F=N("labels"),z=N("values"),U=C(F,z),Q=U.len;if(M._hasLabels=U.hasLabels,M._hasValues=U.hasValues,!M._hasLabels&&M._hasValues&&(N("label0"),N("dlabel")),!Q){M.visible=!1;return}M._length=Q,w(R,M,V,N,!0),N("scalegroup");var B=N("text"),E=N("texttemplate"),W;if(E||(W=N("textinfo",Array.isArray(B)?"text+percent":"percent")),N("hovertext"),N("hovertemplate"),E||W&&W!=="none"){var Y=N("textposition");x(R,M,V,N,Y,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var ie=Array.isArray(Y)||Y==="auto",L=ie||Y==="outside";L&&N("automargin"),(Y==="inside"||Y==="auto"||Array.isArray(Y))&&N("insidetextorientation")}b(M,V,N);var me=N("hole"),ae=N("title.text");if(ae){var q=N("title.position",me?"middle center":"top center");!me&&q==="middle center"&&(M.title.position="top center"),v.coerceFont(N,"title.font",V.font)}N("sort"),N("direction"),N("rotation"),N("pull")}f.exports={handleLabelsAndValues:C,handleMarkerDefaults:w,supplyDefaults:T}},7:function(f,h,u){var p=u(3469).appendArrayMultiPointValues;f.exports=function(y,b){var x={curveNumber:b.index,pointNumbers:y.pts,data:b._input,fullData:b,label:y.label,color:y.color,value:y.v,percent:y.percent,text:y.text,bbox:y.bbox,v:y.v};return y.pts.length===1&&(x.pointNumber=x.i=y.pts[0]),p(x,b,y.pts),b.type==="funnelarea"&&(delete x.v,delete x.i),x}},2209:function(f,h,u){var p=u(1424),v=u(7901);f.exports=function(b,x,k,C){var w=k.marker.pattern;w&&w.shape?p.pointStyle(b,k,C,x):v.fill(b,x.color)}},3581:function(f,h,u){var p=u(1828);function v(y){return y.indexOf("e")!==-1?y.replace(/[.]?0+e/,"e"):y.indexOf(".")!==-1?y.replace(/[.]?0+$/,""):y}h.formatPiePercent=function(b,x){var k=v((b*100).toPrecision(3));return p.numSeparate(k,x)+"%"},h.formatPieValue=function(b,x){var k=v(b.toPrecision(10));return p.numSeparate(k,x)},h.getFirstFilled=function(b,x){if(Array.isArray(b))for(var k=0;k<x.length;k++){var C=b[x[k]];if(C||C===0||C==="")return C}},h.castOption=function(b,x){if(Array.isArray(b))return h.getFirstFilled(b,x);if(b)return b},h.getRotationAngle=function(y){return(y==="auto"?0:y)*Math.PI/180}},8810:function(f,h,u){f.exports={attributes:u(4e3),supplyDefaults:u(7434).supplyDefaults,supplyLayoutDefaults:u(2097),layoutAttributes:u(7550),calc:u(2354).calc,crossTraceCalc:u(2354).crossTraceCalc,plot:u(4575).plot,style:u(8357),styleOne:u(3463),moduleType:"trace",name:"pie",basePlotModule:u(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(f){f.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(f,h,u){var p=u(1828),v=u(7550);f.exports=function(b,x){function k(C,w){return p.coerce(b,x,v,C,w)}k("hiddenlabels"),k("piecolorway",x.colorway),k("extendpiecolors")}},4575:function(f,h,u){var p=u(9898),v=u(4875),y=u(211),b=u(7901),x=u(1424),k=u(1828),C=k.strScale,w=k.strTranslate,T=u(3893),R=u(2597),M=R.recordMinTextSize,I=R.clearMinTextSize,V=u(7313).TEXTPAD,N=u(3581),F=u(7),z=u(1828).isValidTextValue;function U(Ie,re){var ye=Ie._context.staticPlot,te=Ie._fullLayout,se=te._size;I("pie",te),Y(re,Ie),xe(re,se);var ue=k.makeTraceGroups(te._pielayer,re,"trace").each(function(oe){var Se=p.select(this),le=oe[0],Ce=le.trace;ke(oe),Se.attr("stroke-linejoin","round"),Se.each(function(){var Qe=p.select(this).selectAll("g.slice").data(oe);Qe.enter().append("g").classed("slice",!0),Qe.exit().remove();var ze=[[[],[]],[[],[]]],Xe=!1;Qe.each(function(tt,wt){if(tt.hidden){p.select(this).selectAll("path,g").remove();return}tt.pointNumber=tt.i,tt.curveNumber=Ce.index,ze[tt.pxmid[1]<0?0:1][tt.pxmid[0]<0?0:1].push(tt);var Xt=le.cx,Gt=le.cy,Nt=p.select(this),Bt=Nt.selectAll("path.surface").data([tt]);if(Bt.enter().append("path").classed("surface",!0).style({"pointer-events":ye?"none":"all"}),Nt.call(B,Ie,oe),Ce.pull){var vn=+N.castOption(Ce.pull,tt.pts)||0;vn>0&&(Xt+=vn*tt.pxmid[0],Gt+=vn*tt.pxmid[1])}tt.cxFinal=Xt,tt.cyFinal=Gt;function En(Sn,it,ut,xt){var gt=xt*(it[0]-Sn[0]),Dt=xt*(it[1]-Sn[1]);return"a"+xt*le.r+","+xt*le.r+" 0 "+tt.largeArc+(ut?" 1 ":" 0 ")+gt+","+Dt}var ln=Ce.hole;if(tt.v===le.vTotal){var Yn="M"+(Xt+tt.px0[0])+","+(Gt+tt.px0[1])+En(tt.px0,tt.pxmid,!0,1)+En(tt.pxmid,tt.px0,!0,1)+"Z";ln?Bt.attr("d","M"+(Xt+ln*tt.px0[0])+","+(Gt+ln*tt.px0[1])+En(tt.px0,tt.pxmid,!1,ln)+En(tt.pxmid,tt.px0,!1,ln)+"Z"+Yn):Bt.attr("d",Yn)}else{var an=En(tt.px0,tt.px1,!0,1);if(ln){var wn=1-ln;Bt.attr("d","M"+(Xt+ln*tt.px1[0])+","+(Gt+ln*tt.px1[1])+En(tt.px1,tt.px0,!1,ln)+"l"+wn*tt.px0[0]+","+wn*tt.px0[1]+an+"Z")}else Bt.attr("d","M"+Xt+","+Gt+"l"+tt.px0[0]+","+tt.px0[1]+an+"Z")}Ze(Ie,tt,le);var Xn=N.castOption(Ce.textposition,tt.pts),Un=Nt.selectAll("g.slicetext").data(tt.text&&Xn!=="none"?[0]:[]);Un.enter().append("g").classed("slicetext",!0),Un.exit().remove(),Un.each(function(){var Sn=k.ensureSingle(p.select(this),"text","",function(dt){dt.attr("data-notex",1)}),it=k.ensureUniformFontSize(Ie,Xn==="outside"?E(Ce,tt,te.font):W(Ce,tt,te.font));Sn.text(tt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(x.font,it).call(T.convertToTspans,Ie);var ut=x.bBox(Sn.node()),xt;if(Xn==="outside")xt=Te(ut,tt);else if(xt=ie(ut,tt,le),Xn==="auto"&&xt.scale<1){var gt=k.ensureUniformFontSize(Ie,Ce.outsidetextfont);Sn.call(x.font,gt),ut=x.bBox(Sn.node()),xt=Te(ut,tt)}var Dt=xt.textPosAngle,He=Dt===void 0?tt.pxmid:$e(le.r,Dt);if(xt.targetX=Xt+He[0]*xt.rCenter+(xt.x||0),xt.targetY=Gt+He[1]*xt.rCenter+(xt.y||0),De(xt,ut),xt.outside){var at=xt.targetY;tt.yLabelMin=at-ut.height/2,tt.yLabelMid=at,tt.yLabelMax=at+ut.height/2,tt.labelExtraX=0,tt.labelExtraY=0,Xe=!0}xt.fontSize=it.size,M(Ce.type,xt,te),oe[wt].transform=xt,k.setTransormAndDisplay(Sn,xt)})});var ct=p.select(this).selectAll("g.titletext").data(Ce.title.text?[0]:[]);if(ct.enter().append("g").classed("titletext",!0),ct.exit().remove(),ct.each(function(){var tt=k.ensureSingle(p.select(this),"text","",function(Gt){Gt.attr("data-notex",1)}),wt=Ce.title.text;Ce._meta&&(wt=k.templateString(wt,Ce._meta)),tt.text(wt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(x.font,Ce.title.font).call(T.convertToTspans,Ie);var Xt;Ce.title.position==="middle center"?Xt=Be(le):Xt=ge(le,se),tt.attr("transform",w(Xt.x,Xt.y)+C(Math.min(1,Xt.scale))+w(Xt.tx,Xt.ty))}),Xe&&Oe(ze,Ce),Q(Qe,Ce),Xe&&Ce.automargin){var pt=x.bBox(Se.node()),Ye=Ce.domain,je=se.w*(Ye.x[1]-Ye.x[0]),et=se.h*(Ye.y[1]-Ye.y[0]),yt=(.5*je-le.r)/se.w,ft=(.5*et-le.r)/se.h;v.autoMargin(Ie,"pie."+Ce.uid+".automargin",{xl:Ye.x[0]-yt,xr:Ye.x[1]+yt,yb:Ye.y[0]-ft,yt:Ye.y[1]+ft,l:Math.max(le.cx-le.r-pt.left,0),r:Math.max(pt.right-(le.cx+le.r),0),b:Math.max(pt.bottom-(le.cy+le.r),0),t:Math.max(le.cy-le.r-pt.top,0),pad:5})}})});setTimeout(function(){ue.selectAll("tspan").each(function(){var oe=p.select(this);oe.attr("dy")&&oe.attr("dy",oe.attr("dy"))})},0)}function Q(Ie,re){Ie.each(function(ye){var te=p.select(this);if(!ye.labelExtraX&&!ye.labelExtraY){te.select("path.textline").remove();return}var se=te.select("g.slicetext text");ye.transform.targetX+=ye.labelExtraX,ye.transform.targetY+=ye.labelExtraY,k.setTransormAndDisplay(se,ye.transform);var ue=ye.cxFinal+ye.pxmid[0],oe=ye.cyFinal+ye.pxmid[1],Se="M"+ue+","+oe,le=(ye.yLabelMax-ye.yLabelMin)*(ye.pxmid[0]<0?-1:1)/4;if(ye.labelExtraX){var Ce=ye.labelExtraX*ye.pxmid[1]/ye.pxmid[0],Qe=ye.yLabelMid+ye.labelExtraY-(ye.cyFinal+ye.pxmid[1]);Math.abs(Ce)>Math.abs(Qe)?Se+="l"+Qe*ye.pxmid[0]/ye.pxmid[1]+","+Qe+"H"+(ue+ye.labelExtraX+le):Se+="l"+ye.labelExtraX+","+Ce+"v"+(Qe-Ce)+"h"+le}else Se+="V"+(ye.yLabelMid+ye.labelExtraY)+"h"+le;k.ensureSingle(te,"path","textline").call(b.stroke,re.outsidetextfont.color).attr({"stroke-width":Math.min(2,re.outsidetextfont.size/8),d:Se,fill:"none"})})}function B(Ie,re,ye){var te=ye[0],se=te.cx,ue=te.cy,oe=te.trace,Se=oe.type==="funnelarea";"_hasHoverLabel"in oe||(oe._hasHoverLabel=!1),"_hasHoverEvent"in oe||(oe._hasHoverEvent=!1),Ie.on("mouseover",function(le){var Ce=re._fullLayout,Qe=re._fullData[oe.index];if(!(re._dragging||Ce.hovermode===!1)){var ze=Qe.hoverinfo;if(Array.isArray(ze)&&(ze=y.castHoverinfo({hoverinfo:[N.castOption(ze,le.pts)],_module:oe._module},Ce,0)),ze==="all"&&(ze="label+text+value+percent+name"),Qe.hovertemplate||ze!=="none"&&ze!=="skip"&&ze){var Xe=le.rInscribed||0,ct=se+le.pxmid[0]*(1-Xe),pt=ue+le.pxmid[1]*(1-Xe),Ye=Ce.separators,je=[];if(ze&&ze.indexOf("label")!==-1&&je.push(le.label),le.text=N.castOption(Qe.hovertext||Qe.text,le.pts),ze&&ze.indexOf("text")!==-1){var et=le.text;k.isValidTextValue(et)&&je.push(et)}le.value=le.v,le.valueLabel=N.formatPieValue(le.v,Ye),ze&&ze.indexOf("value")!==-1&&je.push(le.valueLabel),le.percent=le.v/te.vTotal,le.percentLabel=N.formatPiePercent(le.percent,Ye),ze&&ze.indexOf("percent")!==-1&&je.push(le.percentLabel);var yt=Qe.hoverlabel,ft=yt.font,tt=[];y.loneHover({trace:oe,x0:ct-Xe*te.r,x1:ct+Xe*te.r,y:pt,_x0:Se?se+le.TL[0]:ct-Xe*te.r,_x1:Se?se+le.TR[0]:ct+Xe*te.r,_y0:Se?ue+le.TL[1]:pt-Xe*te.r,_y1:Se?ue+le.BL[1]:pt+Xe*te.r,text:je.join("<br>"),name:Qe.hovertemplate||ze.indexOf("name")!==-1?Qe.name:void 0,idealAlign:le.pxmid[0]<0?"left":"right",color:N.castOption(yt.bgcolor,le.pts)||le.color,borderColor:N.castOption(yt.bordercolor,le.pts),fontFamily:N.castOption(ft.family,le.pts),fontSize:N.castOption(ft.size,le.pts),fontColor:N.castOption(ft.color,le.pts),nameLength:N.castOption(yt.namelength,le.pts),textAlign:N.castOption(yt.align,le.pts),hovertemplate:N.castOption(Qe.hovertemplate,le.pts),hovertemplateLabels:le,eventData:[F(le,Qe)]},{container:Ce._hoverlayer.node(),outerContainer:Ce._paper.node(),gd:re,inOut_bbox:tt}),le.bbox=tt[0],oe._hasHoverLabel=!0}oe._hasHoverEvent=!0,re.emit("plotly_hover",{points:[F(le,Qe)],event:p.event})}}),Ie.on("mouseout",function(le){var Ce=re._fullLayout,Qe=re._fullData[oe.index],ze=p.select(this).datum();oe._hasHoverEvent&&(le.originalEvent=p.event,re.emit("plotly_unhover",{points:[F(ze,Qe)],event:p.event}),oe._hasHoverEvent=!1),oe._hasHoverLabel&&(y.loneUnhover(Ce._hoverlayer.node()),oe._hasHoverLabel=!1)}),Ie.on("click",function(le){var Ce=re._fullLayout,Qe=re._fullData[oe.index];re._dragging||Ce.hovermode===!1||(re._hoverdata=[F(le,Qe)],y.click(re,p.event))})}function E(Ie,re,ye){var te=N.castOption(Ie.outsidetextfont.color,re.pts)||N.castOption(Ie.textfont.color,re.pts)||ye.color,se=N.castOption(Ie.outsidetextfont.family,re.pts)||N.castOption(Ie.textfont.family,re.pts)||ye.family,ue=N.castOption(Ie.outsidetextfont.size,re.pts)||N.castOption(Ie.textfont.size,re.pts)||ye.size;return{color:te,family:se,size:ue}}function W(Ie,re,ye){var te=N.castOption(Ie.insidetextfont.color,re.pts);!te&&Ie._input.textfont&&(te=N.castOption(Ie._input.textfont.color,re.pts));var se=N.castOption(Ie.insidetextfont.family,re.pts)||N.castOption(Ie.textfont.family,re.pts)||ye.family,ue=N.castOption(Ie.insidetextfont.size,re.pts)||N.castOption(Ie.textfont.size,re.pts)||ye.size;return{color:te||b.contrast(re.color),family:se,size:ue}}function Y(Ie,re){for(var ye,te,se=0;se<Ie.length;se++)if(ye=Ie[se][0],te=ye.trace,te.title.text){var ue=te.title.text;te._meta&&(ue=k.templateString(ue,te._meta));var oe=x.tester.append("text").attr("data-notex",1).text(ue).call(x.font,te.title.font).call(T.convertToTspans,re),Se=x.bBox(oe.node(),!0);ye.titleBox={width:Se.width,height:Se.height},oe.remove()}}function ie(Ie,re,ye){var te=ye.r||re.rpx1,se=re.rInscribed,ue=re.startangle===re.stopangle;if(ue)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var oe=re.ring,Se=oe===1&&Math.abs(re.startangle-re.stopangle)===Math.PI*2,le=re.halfangle,Ce=re.midangle,Qe=ye.trace.insidetextorientation,ze=Qe==="horizontal",Xe=Qe==="tangential",ct=Qe==="radial",pt=Qe==="auto",Ye=[],je;if(!pt){var et=function(Nt,Bt){if(L(re,Nt)){var vn=Math.abs(Nt-re.startangle),En=Math.abs(Nt-re.stopangle),ln=vn<En?vn:En;Bt==="tan"?je=ae(Ie,te,oe,ln,0):je=me(Ie,te,oe,ln,Math.PI/2),je.textPosAngle=Nt,Ye.push(je)}},yt;if(ze||Xe){for(yt=4;yt>=-4;yt-=2)et(Math.PI*yt,"tan");for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+1),"tan")}if(ze||ct){for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+1.5),"rad");for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+.5),"rad")}}if(Se||pt||ze){var ft=Math.sqrt(Ie.width*Ie.width+Ie.height*Ie.height);if(je={scale:se*te*2/ft,rCenter:1-se,rotate:0},je.textPosAngle=(re.startangle+re.stopangle)/2,je.scale>=1)return je;Ye.push(je)}(pt||ct)&&(je=me(Ie,te,oe,le,Ce),je.textPosAngle=(re.startangle+re.stopangle)/2,Ye.push(je)),(pt||Xe)&&(je=ae(Ie,te,oe,le,Ce),je.textPosAngle=(re.startangle+re.stopangle)/2,Ye.push(je));for(var tt=0,wt=0,Xt=0;Xt<Ye.length;Xt++){var Gt=Ye[Xt].scale;if(wt<Gt&&(wt=Gt,tt=Xt),!pt&&wt>=1)break}return Ye[tt]}function L(Ie,re){var ye=Ie.startangle,te=Ie.stopangle;return ye>re&&re>te||ye<re&&re<te}function me(Ie,re,ye,te,se){re=Math.max(0,re-2*V);var ue=Ie.width/Ie.height,oe=ee(ue,te,re,ye);return{scale:oe*2/Ie.height,rCenter:q(ue,oe/re),rotate:fe(se)}}function ae(Ie,re,ye,te,se){re=Math.max(0,re-2*V);var ue=Ie.height/Ie.width,oe=ee(ue,te,re,ye);return{scale:oe*2/Ie.width,rCenter:q(ue,oe/re),rotate:fe(se+Math.PI/2)}}function q(Ie,re){return Math.cos(re)-Ie*re}function fe(Ie){return(180/Math.PI*Ie+720)%180-90}function ee(Ie,re,ye,te){var se=Ie+1/(2*Math.tan(re));return ye*Math.min(1/(Math.sqrt(se*se+.5)+se),te/(Math.sqrt(Ie*Ie+te/2)+Ie))}function be(Ie,re){return Ie.v===re.vTotal&&!re.trace.hole?1:Math.min(1/(1+1/Math.sin(Ie.halfangle)),Ie.ring/2)}function Te(Ie,re){var ye=re.pxmid[0],te=re.pxmid[1],se=Ie.width/2,ue=Ie.height/2;return ye<0&&(se*=-1),te<0&&(ue*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(ue)*(se>0?1:-1)/2,y:ue/(1+ye*ye/(te*te)),outside:!0}}function Be(Ie){var re=Math.sqrt(Ie.titleBox.width*Ie.titleBox.width+Ie.titleBox.height*Ie.titleBox.height);return{x:Ie.cx,y:Ie.cy,scale:Ie.trace.hole*Ie.r*2/re,tx:0,ty:-Ie.titleBox.height/2+Ie.trace.title.font.size}}function ge(Ie,re){var ye=1,te=1,se,ue=Ie.trace,oe={x:Ie.cx,y:Ie.cy},Se={tx:0,ty:0};Se.ty+=ue.title.font.size,se=G(ue),ue.title.position.indexOf("top")!==-1?(oe.y-=(1+se)*Ie.r,Se.ty-=Ie.titleBox.height):ue.title.position.indexOf("bottom")!==-1&&(oe.y+=(1+se)*Ie.r);var le=ne(Ie.r,Ie.trace.aspectratio),Ce=re.w*(ue.domain.x[1]-ue.domain.x[0])/2;return ue.title.position.indexOf("left")!==-1?(Ce=Ce+le,oe.x-=(1+se)*le,Se.tx+=Ie.titleBox.width/2):ue.title.position.indexOf("center")!==-1?Ce*=2:ue.title.position.indexOf("right")!==-1&&(Ce=Ce+le,oe.x+=(1+se)*le,Se.tx-=Ie.titleBox.width/2),ye=Ce/Ie.titleBox.width,te=pe(Ie,re)/Ie.titleBox.height,{x:oe.x,y:oe.y,scale:Math.min(ye,te),tx:Se.tx,ty:Se.ty}}function ne(Ie,re){return Ie/(re===void 0?1:re)}function pe(Ie,re){var ye=Ie.trace,te=re.h*(ye.domain.y[1]-ye.domain.y[0]);return Math.min(Ie.titleBox.height,te/2)}function G(Ie){var re=Ie.pull;if(!re)return 0;var ye;if(Array.isArray(re))for(re=0,ye=0;ye<Ie.pull.length;ye++)Ie.pull[ye]>re&&(re=Ie.pull[ye]);return re}function Oe(Ie,re){var ye,te,se,ue,oe,Se,le,Ce,Qe,ze,Xe,ct,pt;function Ye(ft,tt){return ft.pxmid[1]-tt.pxmid[1]}function je(ft,tt){return tt.pxmid[1]-ft.pxmid[1]}function et(ft,tt){tt||(tt={});var wt=tt.labelExtraY+(te?tt.yLabelMax:tt.yLabelMin),Xt=te?ft.yLabelMin:ft.yLabelMax,Gt=te?ft.yLabelMax:ft.yLabelMin,Nt=ft.cyFinal+oe(ft.px0[1],ft.px1[1]),Bt=wt-Xt,vn,En,ln,Yn,an,wn;if(Bt*le>0&&(ft.labelExtraY=Bt),!!Array.isArray(re.pull))for(En=0;En<ze.length;En++)ln=ze[En],!(ln===ft||(N.castOption(re.pull,ft.pts)||0)>=(N.castOption(re.pull,ln.pts)||0))&&((ft.pxmid[1]-ln.pxmid[1])*le>0?(Yn=ln.cyFinal+oe(ln.px0[1],ln.px1[1]),Bt=Yn-Xt-ft.labelExtraY,Bt*le>0&&(ft.labelExtraY+=Bt)):(Gt+ft.labelExtraY-Nt)*le>0&&(vn=3*Se*Math.abs(En-ze.indexOf(ft)),an=ln.cxFinal+ue(ln.px0[0],ln.px1[0]),wn=an+vn-(ft.cxFinal+ft.pxmid[0])-ft.labelExtraX,wn*Se>0&&(ft.labelExtraX+=wn)))}for(te=0;te<2;te++)for(se=te?Ye:je,oe=te?Math.max:Math.min,le=te?1:-1,ye=0;ye<2;ye++){for(ue=ye?Math.max:Math.min,Se=ye?1:-1,Ce=Ie[te][ye],Ce.sort(se),Qe=Ie[1-te][ye],ze=Qe.concat(Ce),ct=[],Xe=0;Xe<Ce.length;Xe++)Ce[Xe].yLabelMid!==void 0&&ct.push(Ce[Xe]);for(pt=!1,Xe=0;te&&Xe<Qe.length;Xe++)if(Qe[Xe].yLabelMid!==void 0){pt=Qe[Xe];break}for(Xe=0;Xe<ct.length;Xe++){var yt=Xe&&ct[Xe-1];pt&&!Xe&&(yt=pt),et(ct[Xe],yt)}}}function xe(Ie,re){for(var ye=[],te=0;te<Ie.length;te++){var se=Ie[te][0],ue=se.trace,oe=ue.domain,Se=re.w*(oe.x[1]-oe.x[0]),le=re.h*(oe.y[1]-oe.y[0]);ue.title.text&&ue.title.position!=="middle center"&&(le-=pe(se,re));var Ce=Se/2,Qe=le/2;ue.type==="funnelarea"&&!ue.scalegroup&&(Qe/=ue.aspectratio),se.r=Math.min(Ce,Qe)/(1+G(ue)),se.cx=re.l+re.w*(ue.domain.x[1]+ue.domain.x[0])/2,se.cy=re.t+re.h*(1-ue.domain.y[0])-le/2,ue.title.text&&ue.title.position.indexOf("bottom")!==-1&&(se.cy-=pe(se,re)),ue.scalegroup&&ye.indexOf(ue.scalegroup)===-1&&ye.push(ue.scalegroup)}Le(Ie,ye)}function Le(Ie,re){for(var ye,te,se,ue=0;ue<re.length;ue++){var oe=1/0,Se=re[ue];for(te=0;te<Ie.length;te++)if(ye=Ie[te][0],se=ye.trace,se.scalegroup===Se){var le;if(se.type==="pie")le=ye.r*ye.r;else if(se.type==="funnelarea"){var Ce,Qe;se.aspectratio>1?(Ce=ye.r,Qe=Ce/se.aspectratio):(Qe=ye.r,Ce=Qe*se.aspectratio),Ce*=(1+se.baseratio)/2,le=Ce*Qe}oe=Math.min(oe,le/ye.vTotal)}for(te=0;te<Ie.length;te++)if(ye=Ie[te][0],se=ye.trace,se.scalegroup===Se){var ze=oe*ye.vTotal;se.type==="funnelarea"&&(ze/=(1+se.baseratio)/2,ze/=se.aspectratio),ye.r=Math.sqrt(ze)}}}function ke(Ie){var re=Ie[0],ye=re.r,te=re.trace,se=N.getRotationAngle(te.rotation),ue=2*Math.PI/re.vTotal,oe="px0",Se="px1",le,Ce,Qe;if(te.direction==="counterclockwise"){for(le=0;le<Ie.length&&Ie[le].hidden;le++);if(le===Ie.length)return;se+=ue*Ie[le].v,ue*=-1,oe="px1",Se="px0"}for(Qe=$e(ye,se),le=0;le<Ie.length;le++)Ce=Ie[le],!Ce.hidden&&(Ce[oe]=Qe,Ce.startangle=se,se+=ue*Ce.v/2,Ce.pxmid=$e(ye,se),Ce.midangle=se,se+=ue*Ce.v/2,Qe=$e(ye,se),Ce.stopangle=se,Ce[Se]=Qe,Ce.largeArc=Ce.v>re.vTotal/2?1:0,Ce.halfangle=Math.PI*Math.min(Ce.v/re.vTotal,.5),Ce.ring=1-te.hole,Ce.rInscribed=be(Ce,re))}function $e(Ie,re){return[Ie*Math.sin(re),-Ie*Math.cos(re)]}function Ze(Ie,re,ye){var te=Ie._fullLayout,se=ye.trace,ue=se.texttemplate,oe=se.textinfo;if(!ue&&oe&&oe!=="none"){var Se=oe.split("+"),le=function(tt){return Se.indexOf(tt)!==-1},Ce=le("label"),Qe=le("text"),ze=le("value"),Xe=le("percent"),ct=te.separators,pt;if(pt=Ce?[re.label]:[],Qe){var Ye=N.getFirstFilled(se.text,re.pts);z(Ye)&&pt.push(Ye)}ze&&pt.push(N.formatPieValue(re.v,ct)),Xe&&pt.push(N.formatPiePercent(re.v/ye.vTotal,ct)),re.text=pt.join("<br>")}function je(tt){return{label:tt.label,value:tt.v,valueLabel:N.formatPieValue(tt.v,te.separators),percent:tt.v/ye.vTotal,percentLabel:N.formatPiePercent(tt.v/ye.vTotal,te.separators),color:tt.color,text:tt.text,customdata:k.castOption(se,tt.i,"customdata")}}if(ue){var et=k.castOption(se,re.i,"texttemplate");if(!et)re.text="";else{var yt=je(re),ft=N.getFirstFilled(se.text,re.pts);(z(ft)||ft==="")&&(yt.text=ft),re.text=k.texttemplateString(et,yt,Ie._fullLayout._d3locale,yt,se._meta||{})}}}function De(Ie,re){var ye=Ie.rotate*Math.PI/180,te=Math.cos(ye),se=Math.sin(ye),ue=(re.left+re.right)/2,oe=(re.top+re.bottom)/2;Ie.textX=ue*te-oe*se,Ie.textY=ue*se+oe*te,Ie.noCenter=!0}f.exports={plot:U,formatSliceLabel:Ze,transformInsideText:ie,determineInsideTextFont:W,positionTitleOutside:ge,prerenderTitles:Y,layoutAreas:xe,attachFxHandlers:B,computeTransform:De}},8357:function(f,h,u){var p=u(9898),v=u(3463),y=u(2597).resizeText;f.exports=function(x){var k=x._fullLayout._pielayer.selectAll(".trace");y(x,k,"pie"),k.each(function(C){var w=C[0],T=w.trace,R=p.select(this);R.style({opacity:T.opacity}),R.selectAll("path.surface").each(function(M){p.select(this).call(v,M,T,x)})})}},3463:function(f,h,u){var p=u(7901),v=u(3581).castOption,y=u(2209);f.exports=function(x,k,C,w){var T=C.marker.line,R=v(T.color,k.pts)||p.defaultLine,M=v(T.width,k.pts)||0;x.call(y,k,C,w).style("stroke-width",M).call(p.stroke,R)}},5225:function(f,h,u){var p=u(1828);f.exports=function(y,b){for(var x=0;x<y.length;x++)y[x].i=x;p.mergeArray(b.text,y,"tx"),p.mergeArray(b.texttemplate,y,"txt"),p.mergeArray(b.hovertext,y,"htx"),p.mergeArray(b.customdata,y,"data"),p.mergeArray(b.textposition,y,"tp"),b.textfont&&(p.mergeArrayCastPositive(b.textfont.size,y,"ts"),p.mergeArray(b.textfont.color,y,"tc"),p.mergeArray(b.textfont.family,y,"tf"));var k=b.marker;if(k){p.mergeArrayCastPositive(k.size,y,"ms"),p.mergeArrayCastPositive(k.opacity,y,"mo"),p.mergeArray(k.symbol,y,"mx"),p.mergeArray(k.angle,y,"ma"),p.mergeArray(k.standoff,y,"mf"),p.mergeArray(k.color,y,"mc");var C=k.line;k.line&&(p.mergeArray(C.color,y,"mlc"),p.mergeArrayCastPositive(C.width,y,"mlw"));var w=k.gradient;w&&w.type!=="none"&&(p.mergeArray(w.type,y,"mgt"),p.mergeArray(w.color,y,"mgc"))}}},2196:function(f,h,u){var p=u(2663).axisHoverFormat,v=u(5386).si,y=u(5386).fF,b=u(693),x=u(1940),k=u(9952).P,C=u(9952).u,w=u(1424),T=u(7581),R=u(1426).extendFlat;function M(N){return{valType:"any",dflt:0,editType:"calc"}}function I(N){return{valType:"any",editType:"calc"}}function V(N){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}f.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:M(),yperiod:M(),xperiod0:I(),yperiod0:I(),xperiodalignment:V(),yperiodalignment:V(),xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:v({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:y({},{keys:T.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:R({},k,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:C,marker:R({symbol:{valType:"enumerated",values:w.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:R({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},b("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},b("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:x({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(f,h,u){var p=u(2770),v=u(1828),y=u(9298),b=u(2973),x=u(606).BADNUM,k=u(4098),C=u(6922),w=u(5225),T=u(6279);function R(z,U){var Q=z._fullLayout,B=U._xA=y.getFromId(z,U.xaxis||"x","x"),E=U._yA=y.getFromId(z,U.yaxis||"y","y"),W=B.makeCalcdata(U,"x"),Y=E.makeCalcdata(U,"y"),ie=b(U,B,"x",W),L=b(U,E,"y",Y),me=ie.vals,ae=L.vals,q=U._length,fe=new Array(q),ee=U.ids,be=F(U,Q,B,E),Te=!1,Be,ge,ne,pe,G,Oe;V(Q,U);var xe="x",Le="y",ke;if(be)v.pushUnique(be.traceIndices,U._expandedIndex),Be=be.orientation==="v",Be?(Le="s",ke="x"):(xe="s",ke="y"),G=be.stackgaps==="interpolate";else{var $e=I(U,q);M(z,U,B,E,me,ae,$e)}var Ze=!!U.xperiodalignment,De=!!U.yperiodalignment;for(ge=0;ge<q;ge++){var Ie=fe[ge]={},re=p(me[ge]),ye=p(ae[ge]);re&&ye?(Ie[xe]=me[ge],Ie[Le]=ae[ge],Ze&&(Ie.orig_x=W[ge],Ie.xEnd=ie.ends[ge],Ie.xStart=ie.starts[ge]),De&&(Ie.orig_y=Y[ge],Ie.yEnd=L.ends[ge],Ie.yStart=L.starts[ge])):be&&(Be?re:ye)?(Ie[ke]=Be?me[ge]:ae[ge],Ie.gap=!0,G?(Ie.s=x,Te=!0):Ie.s=0):Ie[xe]=Ie[Le]=x,ee&&(Ie.id=String(ee[ge]))}if(w(fe,U),C(z,U),T(fe,U),be){for(ge=0;ge<fe.length;)fe[ge][ke]===x?fe.splice(ge,1):ge++;if(v.sort(fe,function(oe,Se){return oe[ke]-Se[ke]||oe.i-Se.i}),Te){for(ge=0;ge<fe.length-1&&fe[ge].gap;)ge++;for(Oe=fe[ge].s,Oe||(Oe=fe[ge].s=0),ne=0;ne<ge;ne++)fe[ne].s=Oe;for(pe=fe.length-1;pe>ge&&fe[pe].gap;)pe--;for(Oe=fe[pe].s,ne=fe.length-1;ne>pe;ne--)fe[ne].s=Oe;for(;ge<pe;)if(ge++,fe[ge].gap){for(ne=ge+1;fe[ne].gap;)ne++;for(var te=fe[ge-1][ke],se=fe[ge-1].s,ue=(fe[ne].s-se)/(fe[ne][ke]-te);ge<ne;)fe[ge].s=se+(fe[ge][ke]-te)*ue,ge++}}}return fe}function M(z,U,Q,B,E,W,Y){var ie=U._length,L=z._fullLayout,me=Q._id,ae=B._id,q=L._firstScatter[N(U)]===U.uid,fe=(F(U,L,Q,B)||{}).orientation,ee=U.fill;Q._minDtick=0,B._minDtick=0;var be={padded:!0},Te={padded:!0};Y&&(be.ppad=Te.ppad=Y);var Be=ie<2||E[0]!==E[ie-1]||W[0]!==W[ie-1];Be&&(ee==="tozerox"||ee==="tonextx"&&(q||fe==="h"))?be.tozero=!0:!(U.error_y||{}).visible&&(ee==="tonexty"||ee==="tozeroy"||!k.hasMarkers(U)&&!k.hasText(U))&&(be.padded=!1,be.ppad=0),Be&&(ee==="tozeroy"||ee==="tonexty"&&(q||fe==="v"))?Te.tozero=!0:(ee==="tonextx"||ee==="tozerox")&&(Te.padded=!1),me&&(U._extremes[me]=y.findExtremes(Q,E,be)),ae&&(U._extremes[ae]=y.findExtremes(B,W,Te))}function I(z,U){if(k.hasMarkers(z)){var Q=z.marker,B=1.6*(z.marker.sizeref||1),E;if(z.marker.sizemode==="area"?E=function(me){return Math.max(Math.sqrt((me||0)/B),3)}:E=function(me){return Math.max((me||0)/B,3)},v.isArrayOrTypedArray(Q.size)){var W={type:"linear"};y.setConvert(W);for(var Y=W.makeCalcdata(z.marker,"size"),ie=new Array(U),L=0;L<U;L++)ie[L]=E(Y[L]);return ie}else return E(Q.size)}}function V(z,U){var Q=N(U),B=z._firstScatter;B[Q]||(B[Q]=U.uid)}function N(z){var U=z.stackgroup;return z.xaxis+z.yaxis+z.type+(U?"-"+U:"")}function F(z,U,Q,B){var E=z.stackgroup;if(E){var W=U._scatterStackOpts[Q._id+B._id][E],Y=W.orientation==="v"?B:Q;if(Y.type==="linear"||Y.type==="log")return W}}f.exports={calc:R,calcMarkerSize:I,calcAxisExpansion:M,setFirstScatter:V,getStackOpts:F}},6279:function(f,h,u){var p=u(1828);f.exports=function(y,b){p.isArrayOrTypedArray(b.selectedpoints)&&p.tagSelected(y,b)}},6922:function(f,h,u){var p=u(2869).hasColorscale,v=u(8803),y=u(4098);f.exports=function(x,k){y.hasLines(k)&&p(k,"line")&&v(x,k,{vals:k.line.color,containerStr:"line",cLetter:"c"}),y.hasMarkers(k)&&(p(k,"marker")&&v(x,k,{vals:k.marker.color,containerStr:"marker",cLetter:"c"}),p(k,"marker.line")&&v(x,k,{vals:k.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(f){f.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(f,h,u){var p=u(7761),v=u(1661).setGroupPositions;function y(k,C){for(var w=C.xaxis,T=C.yaxis,R=k._fullLayout,M=k._fullData,I=k.calcdata,V=[],N=[],F=0;F<M.length;F++){var z=M[F];z.visible===!0&&z.type==="scatter"&&z.xaxis===w._id&&z.yaxis===T._id&&(z.orientation==="h"?V.push(I[F]):z.orientation==="v"&&N.push(I[F]))}var U={mode:R.scattermode,gap:R.scattergap};v(k,w,T,N,U),v(k,T,w,V,U)}f.exports=function(C,w){C._fullLayout.scattermode==="group"&&y(C,w);var T=w.xaxis,R=w.yaxis,M=T._id+R._id,I=C._fullLayout._scatterStackOpts[M];if(I){var V=C.calcdata,N,F,z,U,Q,B,E,W,Y,ie,L,me,ae,q,fe;for(var ee in I){ie=I[ee];var be=ie.traceIndices;if(be.length){for(L=ie.stackgaps==="interpolate",me=ie.groupnorm,ie.orientation==="v"?(ae="x",q="y"):(ae="y",q="x"),fe=new Array(be.length),N=0;N<fe.length;N++)fe[N]=!1;B=V[be[0]];var Te=new Array(B.length);for(N=0;N<B.length;N++)Te[N]=B[N][ae];for(N=1;N<be.length;N++){for(Q=V[be[N]],F=z=0;F<Q.length;F++){for(E=Q[F][ae];E>Te[z]&&z<Te.length;z++)b(Q,F,Te[z],N,fe,L,ae),F++;if(E!==Te[z]){for(U=0;U<N;U++)b(V[be[U]],z,E,U,fe,L,ae);Te.splice(z,0,E)}z++}for(;z<Te.length;z++)b(Q,F,Te[z],N,fe,L,ae),F++}var Be=Te.length;for(F=0;F<B.length;F++){for(W=B[F][q]=B[F].s,N=1;N<be.length;N++)Q=V[be[N]],Q[0].trace._rawLength=Q[0].trace._length,Q[0].trace._length=Be,W+=Q[F].s,Q[F][q]=W;if(me)for(Y=(me==="fraction"?W:W/100)||1,N=0;N<be.length;N++){var ge=V[be[N]][F];ge[q]/=Y,ge.sNorm=ge.s/Y}}for(N=0;N<be.length;N++){Q=V[be[N]];var ne=Q[0].trace,pe=p.calcMarkerSize(ne,ne._rawLength),G=Array.isArray(pe);if(pe&&fe[N]||G){var Oe=pe;for(pe=new Array(Be),F=0;F<Be;F++)pe[F]=Q[F].gap?0:G?Oe[Q[F].i]:Oe}var xe=new Array(Be),Le=new Array(Be);for(F=0;F<Be;F++)xe[F]=Q[F].x,Le[F]=Q[F].y;p.calcAxisExpansion(C,ne,T,R,xe,Le,pe),Q[0].t.orientation=ie.orientation}}}}};function b(k,C,w,T,R,M,I){R[T]=!0;var V={i:null,gap:!0,s:0};if(V[I]=w,k.splice(C,0,V),C&&w===k[C-1][I]){var N=k[C-1];V.s=N.s,V.i=N.i,V.gap=N.gap}else M&&(V.s=x(k,C,w,I));C||(k[0].t=k[1].t,k[0].trace=k[1].trace,delete k[1].t,delete k[1].trace)}function x(k,C,w,T){var R=k[C-1],M=k[C+1];return M?R?R.s+(M.s-R.s)*(w-R[T])/(M[T]-R[T]):M.s:R.s}},462:function(f,h,u){var p=u(1828),v=u(6125),y=u(2196);f.exports=function(x,k){var C,w,T;function R(F){return p.coerce(w._input,w,y,F)}if(k.scattermode==="group")for(T=0;T<x.length;T++)w=x[T],w.type==="scatter"&&(C=w._input,v(C,w,k,R));for(T=0;T<x.length;T++){var M=x[T];if(M.type==="scatter"){var I=M.fill;if(!(I==="none"||I==="toself")&&(M.opacity=void 0,I==="tonexty"||I==="tonextx"))for(var V=T-1;V>=0;V--){var N=x[V];if(N.type==="scatter"&&N.xaxis===M.xaxis&&N.yaxis===M.yaxis){N.opacity=void 0;break}}}}}},7438:function(f,h,u){var p=u(1828),v=u(3972),y=u(2196),b=u(7581),x=u(4098),k=u(7513),C=u(3927),w=u(565),T=u(9508),R=u(1058),M=u(4039),I=u(2410),V=u(8908),N=u(1828).coercePattern;f.exports=function(z,U,Q,B){function E(fe,ee){return p.coerce(z,U,y,fe,ee)}var W=k(z,U,B,E);if(W||(U.visible=!1),!!U.visible){C(z,U,B,E),E("xhoverformat"),E("yhoverformat");var Y=w(z,U,B,E);B.scattermode==="group"&&U.orientation===void 0&&E("orientation","v");var ie=!Y&&W<b.PTS_LINESONLY?"lines+markers":"lines";E("text"),E("hovertext"),E("mode",ie),x.hasLines(U)&&(R(z,U,Q,B,E,{backoff:!0}),M(z,U,E),E("connectgaps"),E("line.simplify")),x.hasMarkers(U)&&T(z,U,Q,B,E,{gradient:!0}),x.hasText(U)&&(E("texttemplate"),I(z,U,B,E));var L=[];(x.hasMarkers(U)||x.hasText(U))&&(E("cliponaxis"),E("marker.maxdisplayed"),L.push("points")),E("fill",Y?Y.fillDflt:"none"),U.fill!=="none"&&(V(z,U,Q,E),x.hasLines(U)||M(z,U,E),N(E,"fillpattern",U.fillcolor,!1));var me=(U.line||{}).color,ae=(U.marker||{}).color;(U.fill==="tonext"||U.fill==="toself")&&L.push("fills"),E("hoveron",L.join("+")||"points"),U.hoveron!=="fills"&&E("hovertemplate");var q=v.getComponentMethod("errorbars","supplyDefaults");q(z,U,me||ae||Q,{axis:"y"}),q(z,U,me||ae||Q,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(U,E)}}},8908:function(f,h,u){var p=u(7901),v=u(1828).isArrayOrTypedArray;f.exports=function(b,x,k,C){var w=!1;if(x.marker){var T=x.marker.color,R=(x.marker.line||{}).color;T&&!v(T)?w=T:R&&!v(R)&&(w=R)}C("fillcolor",p.addOpacity((x.line||{}).color||w||k,.5))}},8225:function(f,h,u){var p=u(9298);f.exports=function(y,b,x){var k={},C={_fullLayout:x},w=p.getFromTrace(C,b,"x"),T=p.getFromTrace(C,b,"y"),R=y.orig_x;R===void 0&&(R=y.x);var M=y.orig_y;return M===void 0&&(M=y.y),k.xLabel=p.tickText(w,w.c2l(R),!0).text,k.yLabel=p.tickText(T,T.c2l(M),!0).text,k}},4603:function(f,h,u){var p=u(7901),v=u(4098);f.exports=function(b,x){var k,C;if(b.mode==="lines")return k=b.line.color,k&&p.opacity(k)?k:b.fillcolor;if(b.mode==="none")return b.fill?b.fillcolor:"";var w=x.mcc||(b.marker||{}).color,T=x.mlcc||((b.marker||{}).line||{}).color;return C=w&&p.opacity(w)?w:T&&p.opacity(T)&&(x.mlw||((b.marker||{}).line||{}).width)?T:"",C?p.opacity(C)<.3?p.addOpacity(C,.3):C:(k=(b.line||{}).color,k&&p.opacity(k)&&v.hasLines(b)&&b.line.width?k:b.fillcolor)}},6125:function(f,h,u){var p=u(9082).getAxisGroup;f.exports=function(y,b,x,k){var C=b.orientation,w=b[{v:"x",h:"y"}[C]+"axis"],T=p(x,w)+C,R=x._alignmentOpts||{},M=k("alignmentgroup"),I=R[T];I||(I=R[T]={});var V=I[M];V?V.traces.push(b):V=I[M]={traces:[b],alignmentIndex:Object.keys(I).length,offsetGroups:{}};var N=k("offsetgroup"),F=V.offsetGroups,z=F[N];N&&(z||(z=F[N]={offsetIndex:Object.keys(F).length}),b._offsetIndex=z.offsetIndex)}},3720:function(f,h,u){var p=u(1828),v=u(211),y=u(3972),b=u(4603),x=u(7901),k=p.fillText;f.exports=function(w,T,R,M){var I=w.cd,V=I[0].trace,N=w.xa,F=w.ya,z=N.c2p(T),U=F.c2p(R),Q=[z,U],B=V.hoveron||"",E=V.mode.indexOf("markers")!==-1?3:.5,W=!!V.xperiodalignment,Y=!!V.yperiodalignment;if(B.indexOf("points")!==-1){var ie=function(Ce){if(W){var Qe=N.c2p(Ce.xStart),ze=N.c2p(Ce.xEnd);return z>=Math.min(Qe,ze)&&z<=Math.max(Qe,ze)?0:1/0}var Xe=Math.max(3,Ce.mrc||0),ct=1-1/Xe,pt=Math.abs(N.c2p(Ce.x)-z);return pt<Xe?ct*pt/Xe:pt-Xe+ct},L=function(Ce){if(Y){var Qe=F.c2p(Ce.yStart),ze=F.c2p(Ce.yEnd);return U>=Math.min(Qe,ze)&&U<=Math.max(Qe,ze)?0:1/0}var Xe=Math.max(3,Ce.mrc||0),ct=1-1/Xe,pt=Math.abs(F.c2p(Ce.y)-U);return pt<Xe?ct*pt/Xe:pt-Xe+ct},me=function(Ce){var Qe=Math.max(E,Ce.mrc||0),ze=N.c2p(Ce.x)-z,Xe=F.c2p(Ce.y)-U;return Math.max(Math.sqrt(ze*ze+Xe*Xe)-Qe,1-E/Qe)},ae=v.getDistanceFunction(M,ie,L,me);if(v.getClosest(I,ae,w),w.index!==!1){var q=I[w.index],fe=N.c2p(q.x,!0),ee=F.c2p(q.y,!0),be=q.mrc||1;w.index=q.i;var Te=I[0].t.orientation,Be=Te&&(q.sNorm||q.s),ge=Te==="h"?Be:q.orig_x!==void 0?q.orig_x:q.x,ne=Te==="v"?Be:q.orig_y!==void 0?q.orig_y:q.y;return p.extendFlat(w,{color:b(V,q),x0:fe-be,x1:fe+be,xLabelVal:ge,y0:ee-be,y1:ee+be,yLabelVal:ne,spikeDistance:me(q),hovertemplate:V.hovertemplate}),k(q,V,w),y.getComponentMethod("errorbars","hoverInfo")(q,V,w),[w]}}if(B.indexOf("fills")!==-1&&V._polygons){var pe=V._polygons,G=[],Oe=!1,xe=1/0,Le=-1/0,ke=1/0,$e=-1/0,Ze,De,Ie,re,ye,te,se,ue,oe;for(Ze=0;Ze<pe.length;Ze++)Ie=pe[Ze],Ie.contains(Q)&&(Oe=!Oe,G.push(Ie),ke=Math.min(ke,Ie.ymin),$e=Math.max($e,Ie.ymax));if(Oe){ke=Math.max(ke,0),$e=Math.min($e,F._length);var Se=(ke+$e)/2;for(Ze=0;Ze<G.length;Ze++)for(re=G[Ze].pts,De=1;De<re.length;De++)ue=re[De-1][1],oe=re[De][1],ue>Se!=oe>=Se&&(te=re[De-1][0],se=re[De][0],oe-ue&&(ye=te+(se-te)*(Se-ue)/(oe-ue),xe=Math.min(xe,ye),Le=Math.max(Le,ye)));xe=Math.max(xe,0),Le=Math.min(Le,N._length);var le=x.defaultLine;return x.opacity(V.fillcolor)?le=V.fillcolor:x.opacity((V.line||{}).color)&&(le=V.line.color),p.extendFlat(w,{distance:w.maxHoverDistance,x0:xe,x1:Le,y0:Se,y1:Se,color:le,hovertemplate:!1}),delete w.index,V.text&&!Array.isArray(V.text)?w.text=String(V.text):w.text=V.name,[w]}}}},7368:function(f,h,u){var p=u(4098);f.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:u(2196),layoutAttributes:u(1479),supplyDefaults:u(7438),crossTraceDefaults:u(462),supplyLayoutDefaults:u(9334),calc:u(7761).calc,crossTraceCalc:u(2626),arraysToCalcdata:u(5225),plot:u(7399),colorbar:u(4898),formatLabels:u(8225),style:u(6296).style,styleOnSelect:u(6296).styleOnSelect,hoverPoints:u(3720),selectPoints:u(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:u(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(f){f.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(f,h,u){var p=u(1828),v=u(1479);f.exports=function(y,b){function x(C,w){return p.coerce(y,b,v,C,w)}var k=b.barmode==="group";b.scattermode==="group"&&x("scattergap",k?b.bargap:.2)}},1058:function(f,h,u){var p=u(1828).isArrayOrTypedArray,v=u(2869).hasColorscale,y=u(1586);f.exports=function(x,k,C,w,T,R){R||(R={});var M=(x.marker||{}).color;if(T("line.color",C),v(x,"line"))y(x,k,w,T,{prefix:"line.",cLetter:"c"});else{var I=(p(M)?!1:M)||C;T("line.color",I)}T("line.width"),R.noDash||T("line.dash"),R.backoff&&T("line.backoff")}},4621:function(f,h,u){var p=u(1424),v=u(606),y=v.BADNUM,b=v.LOG_CLIP,x=b+.5,k=b-.5,C=u(1828),w=C.segmentsIntersect,T=C.constrain,R=u(7581);f.exports=function(I,V){var N=V.trace||{},F=V.xaxis,z=V.yaxis,U=F.type==="log",Q=z.type==="log",B=F._length,E=z._length,W=V.backoff,Y=N.marker,ie=V.connectGaps,L=V.baseTolerance,me=V.shape,ae=me==="linear",q=N.fill&&N.fill!=="none",fe=[],ee=R.minTolerance,be=I.length,Te=new Array(be),Be=0,ge,ne,pe,G,Oe,xe,Le,ke,$e,Ze,De,Ie,re,ye,te,se;function ue(Tt){var Pt=I[Tt];if(!Pt)return!1;var dn=V.linearized?F.l2p(Pt.x):F.c2p(Pt.x),nn=V.linearized?z.l2p(Pt.y):z.c2p(Pt.y);if(dn===y){if(U&&(dn=F.c2p(Pt.x,!0)),dn===y)return!1;Q&&nn===y&&(dn*=Math.abs(F._m*E*(F._m>0?x:k)/(z._m*B*(z._m>0?x:k)))),dn*=1e3}if(nn===y){if(Q&&(nn=z.c2p(Pt.y,!0)),nn===y)return!1;nn*=1e3}return[dn,nn]}function oe(Tt,Pt,dn,nn){var Wt=dn-Tt,Rt=nn-Pt,fn=.5-Tt,Hn=.5-Pt,nr=Wt*Wt+Rt*Rt,Er=Wt*fn+Rt*Hn;if(Er>0&&Er<nr){var zt=fn*Rt-Hn*Wt;if(zt*zt<nr)return!0}}var Se,le;function Ce(Tt,Pt){var dn=Tt[0]/B,nn=Tt[1]/E,Wt=Math.max(0,-dn,dn-1,-nn,nn-1);return Wt&&Se!==void 0&&oe(dn,nn,Se,le)&&(Wt=0),Wt&&Pt&&oe(dn,nn,Pt[0]/B,Pt[1]/E)&&(Wt=0),(1+R.toleranceGrowth*Wt)*L}function Qe(Tt,Pt){var dn=Tt[0]-Pt[0],nn=Tt[1]-Pt[1];return Math.sqrt(dn*dn+nn*nn)}var ze=R.maxScreensAway,Xe=-B*ze,ct=B*(1+ze),pt=-E*ze,Ye=E*(1+ze),je=[[Xe,pt,ct,pt],[ct,pt,ct,Ye],[ct,Ye,Xe,Ye],[Xe,Ye,Xe,pt]],et,yt,ft,tt,wt,Xt;function Gt(Tt,Pt){for(var dn=[],nn=0,Wt=0;Wt<4;Wt++){var Rt=je[Wt],fn=w(Tt[0],Tt[1],Pt[0],Pt[1],Rt[0],Rt[1],Rt[2],Rt[3]);fn&&(!nn||Math.abs(fn.x-dn[0][0])>1||Math.abs(fn.y-dn[0][1])>1)&&(fn=[fn.x,fn.y],nn&&Qe(fn,Tt)<Qe(dn[0],Tt)?dn.unshift(fn):dn.push(fn),nn++)}return dn}function Nt(Tt){if(Tt[0]<Xe||Tt[0]>ct||Tt[1]<pt||Tt[1]>Ye)return[T(Tt[0],Xe,ct),T(Tt[1],pt,Ye)]}function Bt(Tt,Pt){if(Tt[0]===Pt[0]&&(Tt[0]===Xe||Tt[0]===ct)||Tt[1]===Pt[1]&&(Tt[1]===pt||Tt[1]===Ye))return!0}function vn(Tt,Pt){var dn=[],nn=Nt(Tt),Wt=Nt(Pt);return nn&&Wt&&Bt(nn,Wt)||(nn&&dn.push(nn),Wt&&dn.push(Wt)),dn}function En(Tt,Pt,dn){return function(nn,Wt){var Rt=Nt(nn),fn=Nt(Wt),Hn=[];if(Rt&&fn&&Bt(Rt,fn))return Hn;Rt&&Hn.push(Rt),fn&&Hn.push(fn);var nr=2*C.constrain((nn[Tt]+Wt[Tt])/2,Pt,dn)-((Rt||nn)[Tt]+(fn||Wt)[Tt]);if(nr){var Er;Rt&&fn?Er=nr>0==Rt[Tt]>fn[Tt]?Rt:fn:Er=Rt||fn,Er[Tt]+=nr}return Hn}}var ln;me==="linear"||me==="spline"?ln=Gt:me==="hv"||me==="vh"?ln=vn:me==="hvh"?ln=En(0,Xe,ct):me==="vhv"&&(ln=En(1,pt,Ye));function Yn(Tt,Pt){var dn=Pt[0]-Tt[0],nn=(Pt[1]-Tt[1])/dn,Wt=(Tt[1]*Pt[0]-Pt[1]*Tt[0])/dn;return Wt>0?[nn>0?Xe:ct,Ye]:[nn>0?ct:Xe,pt]}function an(Tt){var Pt=Tt[0],dn=Tt[1],nn=Pt===Te[Be-1][0],Wt=dn===Te[Be-1][1];if(!(nn&&Wt))if(Be>1){var Rt=Pt===Te[Be-2][0],fn=dn===Te[Be-2][1];nn&&(Pt===Xe||Pt===ct)&&Rt?fn?Be--:Te[Be-1]=Tt:Wt&&(dn===pt||dn===Ye)&&fn?Rt?Be--:Te[Be-1]=Tt:Te[Be++]=Tt}else Te[Be++]=Tt}function wn(Tt){Te[Be-1][0]!==Tt[0]&&Te[Be-1][1]!==Tt[1]&&an([ft,tt]),an(Tt),wt=null,ft=tt=0}var Xn=C.isArrayOrTypedArray(Y);function Un(Tt){if(Tt&&W&&(Tt.i=ge,Tt.d=I,Tt.trace=N,Tt.marker=Xn?Y[Tt.i]:Y,Tt.backoff=W),Se=Tt[0]/B,le=Tt[1]/E,et=Tt[0]<Xe?Xe:Tt[0]>ct?ct:0,yt=Tt[1]<pt?pt:Tt[1]>Ye?Ye:0,et||yt){if(!Be)Te[Be++]=[et||Tt[0],yt||Tt[1]];else if(wt){var Pt=ln(wt,Tt);Pt.length>1&&(wn(Pt[0]),Te[Be++]=Pt[1])}else Xt=ln(Te[Be-1],Tt)[0],Te[Be++]=Xt;var dn=Te[Be-1];et&&yt&&(dn[0]!==et||dn[1]!==yt)?(wt&&(ft!==et&&tt!==yt?an(ft&&tt?Yn(wt,Tt):[ft||et,tt||yt]):ft&&tt&&an([ft,tt])),an([et,yt])):ft-et&&tt-yt&&an([et||ft,yt||tt]),wt=Tt,ft=et,tt=yt}else wt&&wn(ln(wt,Tt)[0]),Te[Be++]=Tt}for(ge=0;ge<be;ge++)if(ne=ue(ge),!!ne){for(Be=0,wt=null,Un(ne),ge++;ge<be;ge++){if(G=ue(ge),!G){if(ie)continue;break}if(!ae||!V.simplify){Un(G);continue}var Sn=ue(ge+1);if(Ze=Qe(G,ne),!(!(q&&(Be===0||Be===be-1))&&Ze<Ce(G,Sn)*ee)){for(ke=[(G[0]-ne[0])/Ze,(G[1]-ne[1])/Ze],Oe=ne,De=Ze,Ie=ye=te=0,Le=!1,pe=G,ge++;ge<I.length;ge++){if(xe=Sn,Sn=ue(ge+1),!xe){if(ie)continue;break}if($e=[xe[0]-ne[0],xe[1]-ne[1]],se=$e[0]*ke[1]-$e[1]*ke[0],ye=Math.min(ye,se),te=Math.max(te,se),te-ye>Ce(xe,Sn))break;pe=xe,re=$e[0]*ke[0]+$e[1]*ke[1],re>De?(De=re,G=xe,Le=!1):re<Ie&&(Ie=re,Oe=xe,Le=!0)}if(Le?(Un(G),pe!==Oe&&Un(Oe)):(Oe!==ne&&Un(Oe),pe!==G&&Un(G)),Un(pe),ge>=I.length||!xe)break;Un(xe),ne=xe}}wt&&an([ft||wt[0],tt||wt[1]]),fe.push(Te.slice(0,Be))}var it=me.slice(me.length-1);if(W&&it!=="h"&&it!=="v"){for(var ut=!1,xt=-1,gt=[],Dt=0;Dt<fe.length;Dt++)for(var He=0;He<fe[Dt].length-1;He++){var at=fe[Dt][He],dt=fe[Dt][He+1],mt=p.applyBackoff(dt,at);(mt[0]!==dt[0]||mt[1]!==dt[1])&&(ut=!0),gt[xt+1]||(xt++,gt[xt]=[at,[mt[0],mt[1]]])}return ut?gt:fe}return fe}},4039:function(f){f.exports=function(u,p,v){var y=v("line.shape");y==="spline"&&v("line.smoothing")}},8687:function(f){var h={tonextx:1,tonexty:1,tonext:1};f.exports=function(p,v,y){var b,x,k,C,w,T={},R=!1,M=-1,I=0,V=-1;for(x=0;x<y.length;x++)b=y[x][0].trace,k=b.stackgroup||"",k?k in T?w=T[k]:(w=T[k]=I,I++):b.fill in h&&V>=0?w=V:(w=V=I,I++),w<M&&(R=!0),b._groupIndex=M=w;var N=y.slice();R&&N.sort(function(z,U){var Q=z[0].trace,B=U[0].trace;return Q._groupIndex-B._groupIndex||Q.index-B.index});var F={};for(x=0;x<N.length;x++)b=N[x][0].trace,k=b.stackgroup||"",b.visible===!0?(b._nexttrace=null,b.fill in h&&(C=F[k],b._prevtrace=C||null,C&&(C._nexttrace=b)),b._ownfill=b.fill&&(b.fill.substr(0,6)==="tozero"||b.fill==="toself"||b.fill.substr(0,2)==="to"&&!b._prevtrace),F[k]=b):b._prevtrace=b._nexttrace=b._ownfill=null;return N}},9984:function(f,h,u){var p=u(2770);f.exports=function(y,b){b||(b=2);var x=y.marker,k=x.sizeref||1,C=x.sizemin||0,w=x.sizemode==="area"?function(T){return Math.sqrt(T/k)}:function(T){return T/k};return function(T){var R=w(T/b);return p(R)&&R>0?Math.max(R,C):0}}},4898:function(f){f.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(f,h,u){var p=u(7901),v=u(2869).hasColorscale,y=u(1586),b=u(4098);f.exports=function(k,C,w,T,R,M){var I=b.isBubble(k),V=(k.line||{}).color,N;if(M=M||{},V&&(w=V),R("marker.symbol"),R("marker.opacity",I?.7:1),R("marker.size"),M.noAngle||(R("marker.angle"),M.noAngleRef||R("marker.angleref"),M.noStandOff||R("marker.standoff")),R("marker.color",w),v(k,"marker")&&y(k,C,T,R,{prefix:"marker.",cLetter:"c"}),M.noSelect||(R("selected.marker.color"),R("unselected.marker.color"),R("selected.marker.size"),R("unselected.marker.size")),M.noLine||(V&&!Array.isArray(V)&&C.marker.color!==V?N=V:I?N=p.background:N=p.defaultLine,R("marker.line.color",N),v(k,"marker.line")&&y(k,C,T,R,{prefix:"marker.line.",cLetter:"c"}),R("marker.line.width",I?1:0)),I&&(R("marker.sizeref"),R("marker.sizemin"),R("marker.sizemode")),M.gradient){var F=R("marker.gradient.type");F!=="none"&&R("marker.gradient.color")}}},3927:function(f,h,u){var p=u(1828).dateTick0,v=u(606),y=v.ONEWEEK;function b(x,k){return x%y===0?p(k,1):p(k,0)}f.exports=function(k,C,w,T,R){if(R||(R={x:!0,y:!0}),R.x){var M=T("xperiod");M&&(T("xperiod0",b(M,C.xcalendar)),T("xperiodalignment"))}if(R.y){var I=T("yperiod");I&&(T("yperiod0",b(I,C.ycalendar)),T("yperiodalignment"))}}},7399:function(f,h,u){var p=u(9898),v=u(3972),y=u(1828),b=y.ensureSingle,x=y.identity,k=u(1424),C=u(4098),w=u(4621),T=u(8687),R=u(1082).tester;f.exports=function(F,z,U,Q,B,E){var W,Y,ie=!B,L=!!B&&B.duration>0,me=T(F,z,U);if(W=Q.selectAll("g.trace").data(me,function(q){return q[0].trace.uid}),W.enter().append("g").attr("class",function(q){return"trace scatter trace"+q[0].trace.uid}).style("stroke-miterlimit",2),W.order(),M(F,W,z),L){E&&(Y=E());var ae=p.transition().duration(B.duration).ease(B.easing).each("end",function(){Y&&Y()}).each("interrupt",function(){Y&&Y()});ae.each(function(){Q.selectAll("g.trace").each(function(q,fe){I(F,fe,z,q,me,this,B)})})}else W.each(function(q,fe){I(F,fe,z,q,me,this,B)});ie&&W.exit().remove(),Q.selectAll("path:not([d])").remove()};function M(N,F,z){F.each(function(U){var Q=b(p.select(this),"g","fills");k.setClipUrl(Q,z.layerClipId,N);var B=U[0].trace,E=[];B._ownfill&&E.push("_ownFill"),B._nexttrace&&E.push("_nextFill");var W=Q.selectAll("g").data(E,x);W.enter().append("g"),W.exit().each(function(Y){B[Y]=null}).remove(),W.order().each(function(Y){B[Y]=b(p.select(this),"path","js-fill")})})}function I(N,F,z,U,Q,B,E){var W=N._context.staticPlot,Y;V(N,F,z,U,Q);var ie=!!E&&E.duration>0;function L(tt){return ie?tt.transition():tt}var me=z.xaxis,ae=z.yaxis,q=U[0].trace,fe=q.line,ee=p.select(B),be=b(ee,"g","errorbars"),Te=b(ee,"g","lines"),Be=b(ee,"g","points"),ge=b(ee,"g","text");if(v.getComponentMethod("errorbars","plot")(N,be,z,E),q.visible!==!0)return;L(ee).style("opacity",q.opacity);var ne,pe,G=q.fill.charAt(q.fill.length-1);G!=="x"&&G!=="y"&&(G=""),U[0][z.isRangePlot?"nodeRangePlot3":"node3"]=ee;var Oe="",xe=[],Le=q._prevtrace;Le&&(Oe=Le._prevRevpath||"",pe=Le._nextFill,xe=Le._polygons);var ke,$e,Ze="",De="",Ie,re,ye,te,se,ue,oe,Se=[],le=y.noop;if(ne=q._ownFill,C.hasLines(q)||q.fill!=="none"){for(pe&&pe.datum(U),["hv","vh","hvh","vhv"].indexOf(fe.shape)!==-1?(Ie=k.steps(fe.shape),re=k.steps(fe.shape.split("").reverse().join(""))):fe.shape==="spline"?Ie=re=function(tt){var wt=tt[tt.length-1];return tt.length>1&&tt[0][0]===wt[0]&&tt[0][1]===wt[1]?k.smoothclosed(tt.slice(1),fe.smoothing):k.smoothopen(tt,fe.smoothing)}:Ie=re=function(tt){return"M"+tt.join("L")},ye=function(tt){return re(tt.reverse())},Se=w(U,{xaxis:me,yaxis:ae,trace:q,connectGaps:q.connectgaps,baseTolerance:Math.max(fe.width||1,3)/4,shape:fe.shape,backoff:fe.backoff,simplify:fe.simplify,fill:q.fill}),oe=q._polygons=new Array(Se.length),Y=0;Y<Se.length;Y++)q._polygons[Y]=R(Se[Y]);Se.length&&(te=Se[0][0],se=Se[Se.length-1],ue=se[se.length-1]),le=function(tt){return function(wt){if(ke=Ie(wt),$e=ye(wt),Ze?G?(Ze+="L"+ke.substr(1),De=$e+("L"+De.substr(1))):(Ze+="Z"+ke,De=$e+"Z"+De):(Ze=ke,De=$e),C.hasLines(q)){var Xt=p.select(this);if(Xt.datum(U),tt)L(Xt.style("opacity",0).attr("d",ke).call(k.lineGroupStyle)).style("opacity",1);else{var Gt=L(Xt);Gt.attr("d",ke),k.singleLineStyle(U,Gt)}}}}}var Ce=Te.selectAll(".js-line").data(Se);L(Ce.exit()).style("opacity",0).remove(),Ce.each(le(!1)),Ce.enter().append("path").classed("js-line",!0).style("vector-effect",W?"none":"non-scaling-stroke").call(k.lineGroupStyle).each(le(!0)),k.setClipUrl(Ce,z.layerClipId,N);function Qe(tt){L(tt).attr("d","M0,0Z")}Se.length?(ne?(ne.datum(U),te&&ue&&(G?(G==="y"?te[1]=ue[1]=ae.c2p(0,!0):G==="x"&&(te[0]=ue[0]=me.c2p(0,!0)),L(ne).attr("d","M"+ue+"L"+te+"L"+Ze.substr(1)).call(k.singleFillStyle,N)):L(ne).attr("d",Ze+"Z").call(k.singleFillStyle,N))):pe&&(q.fill.substr(0,6)==="tonext"&&Ze&&Oe?(q.fill==="tonext"?L(pe).attr("d",Ze+"Z"+Oe+"Z").call(k.singleFillStyle,N):L(pe).attr("d",Ze+"L"+Oe.substr(1)+"Z").call(k.singleFillStyle,N),q._polygons=q._polygons.concat(xe)):(Qe(pe),q._polygons=null)),q._prevRevpath=De,q._prevPolygons=oe):(ne?Qe(ne):pe&&Qe(pe),q._polygons=q._prevRevpath=q._prevPolygons=null);function ze(tt){return tt.filter(function(wt){return!wt.gap&&wt.vis})}function Xe(tt){return tt.filter(function(wt){return wt.vis})}function ct(tt){return tt.filter(function(wt){return!wt.gap})}function pt(tt){return tt.id}function Ye(tt){if(tt.ids)return pt}function je(){return!1}function et(tt,wt,Xt){var Gt,Nt,Bt,vn=Xt[0].trace,En=C.hasMarkers(vn),ln=C.hasText(vn),Yn=Ye(vn),an=je,wn=je;if(En||ln){var Xn=x,Un=vn.stackgroup,Sn=Un&&N._fullLayout._scatterStackOpts[me._id+ae._id][Un].stackgaps==="infer zero";vn.marker.maxdisplayed||vn._needsCull?Xn=Sn?Xe:ze:Un&&!Sn&&(Xn=ct),En&&(an=Xn),ln&&(wn=Xn)}Nt=tt.selectAll("path.point"),Gt=Nt.data(an,Yn);var it=Gt.enter().append("path").classed("point",!0);ie&&it.call(k.pointStyle,vn,N).call(k.translatePoints,me,ae).style("opacity",0).transition().style("opacity",1),Gt.order();var ut;En&&(ut=k.makePointStyleFns(vn)),Gt.each(function(xt){var gt=p.select(this),Dt=L(gt);Bt=k.translatePoint(xt,Dt,me,ae),Bt?(k.singlePointStyle(xt,Dt,vn,ut,N),z.layerClipId&&k.hideOutsideRangePoint(xt,Dt,me,ae,vn.xcalendar,vn.ycalendar),vn.customdata&&gt.classed("plotly-customdata",xt.data!==null&&xt.data!==void 0)):Dt.remove()}),ie?Gt.exit().transition().style("opacity",0).remove():Gt.exit().remove(),Nt=wt.selectAll("g"),Gt=Nt.data(wn,Yn),Gt.enter().append("g").classed("textpoint",!0).append("text"),Gt.order(),Gt.each(function(xt){var gt=p.select(this),Dt=L(gt.select("text"));Bt=k.translatePoint(xt,Dt,me,ae),Bt?z.layerClipId&&k.hideOutsideRangePoint(xt,gt,me,ae,vn.xcalendar,vn.ycalendar):gt.remove()}),Gt.selectAll("text").call(k.textPointStyle,vn,N).each(function(xt){var gt=me.c2p(xt.x),Dt=ae.c2p(xt.y);p.select(this).selectAll("tspan.line").each(function(){L(p.select(this)).attr({x:gt,y:Dt})})}),Gt.exit().remove()}Be.datum(U),ge.datum(U),et(Be,ge,U);var yt=q.cliponaxis===!1,ft=yt?null:z.layerClipId;k.setClipUrl(Be,ft,N),k.setClipUrl(ge,ft,N)}function V(N,F,z,U,Q){var B=z.xaxis,E=z.yaxis,W=p.extent(y.simpleMap(B.range,B.r2c)),Y=p.extent(y.simpleMap(E.range,E.r2c)),ie=U[0].trace;if(C.hasMarkers(ie)){var L=ie.marker.maxdisplayed;if(L!==0){var me=U.filter(function(ee){return ee.x>=W[0]&&ee.x<=W[1]&&ee.y>=Y[0]&&ee.y<=Y[1]}),ae=Math.ceil(me.length/L),q=0;Q.forEach(function(ee,be){var Te=ee[0].trace;C.hasMarkers(Te)&&Te.marker.maxdisplayed>0&&be<F&&q++});var fe=Math.round(q*ae/3+Math.floor(q/3)*ae/7.1);U.forEach(function(ee){delete ee.vis}),me.forEach(function(ee,be){Math.round((be+fe)%ae)===0&&(ee.vis=!0)})}}}},8002:function(f,h,u){var p=u(4098);f.exports=function(y,b){var x=y.cd,k=y.xaxis,C=y.yaxis,w=[],T=x[0].trace,R,M,I,V,N=!p.hasMarkers(T)&&!p.hasText(T);if(N)return[];if(b===!1)for(R=0;R<x.length;R++)x[R].selected=0;else for(R=0;R<x.length;R++)M=x[R],I=k.c2p(M.x),V=C.c2p(M.y),M.i!==null&&b.contains([I,V],!1,R,y)?(w.push({pointNumber:M.i,x:k.c2d(M.x),y:C.c2d(M.y)}),M.selected=1):M.selected=0;return w}},565:function(f){var h=["orientation","groupnorm","stackgaps"];f.exports=function(p,v,y,b){var x=y._scatterStackOpts,k=b("stackgroup");if(k){var C=v.xaxis+v.yaxis,w=x[C];w||(w=x[C]={});var T=w[k],R=!1;T?T.traces.push(v):(T=w[k]={traceIndices:[],traces:[v]},R=!0);for(var M={orientation:v.x&&!v.y?"h":"v"},I=0;I<h.length;I++){var V=h[I],N=V+"Found";if(!T[N]){var F=p[V]!==void 0,z=V==="orientation";if((F||R)&&(T[V]=b(V,M[V]),z&&(T.fillDflt=T[V]==="h"?"tonextx":"tonexty"),F&&(T[N]=!0,!R&&(delete T.traces[0][V],z))))for(var U=0;U<T.traces.length-1;U++){var Q=T.traces[U];Q._input.fill!==Q.fill&&(Q.fill=T.fillDflt)}}}return T}}},6296:function(f,h,u){var p=u(9898),v=u(1424),y=u(3972);function b(w){var T=p.select(w).selectAll("g.trace.scatter");T.style("opacity",function(R){return R[0].trace.opacity}),T.selectAll("g.points").each(function(R){var M=p.select(this),I=R.trace||R[0].trace;x(M,I,w)}),T.selectAll("g.text").each(function(R){var M=p.select(this),I=R.trace||R[0].trace;k(M,I,w)}),T.selectAll("g.trace path.js-line").call(v.lineGroupStyle),T.selectAll("g.trace path.js-fill").call(v.fillGroupStyle,w),y.getComponentMethod("errorbars","style")(T)}function x(w,T,R){v.pointStyle(w.selectAll("path.point"),T,R)}function k(w,T,R){v.textPointStyle(w.selectAll("text"),T,R)}function C(w,T,R){var M=T[0].trace;M.selectedpoints?(v.selectedPointStyle(R.selectAll("path.point"),M),v.selectedTextStyle(R.selectAll("text"),M)):(x(R,M,w),k(R,M,w))}f.exports={style:b,stylePoints:x,styleText:k,styleOnSelect:C}},4098:function(f,h,u){var p=u(1828);f.exports={hasLines:function(v){return v.visible&&v.mode&&v.mode.indexOf("lines")!==-1},hasMarkers:function(v){return v.visible&&(v.mode&&v.mode.indexOf("markers")!==-1||v.type==="splom")},hasText:function(v){return v.visible&&v.mode&&v.mode.indexOf("text")!==-1},isBubble:function(v){return p.isPlainObject(v.marker)&&p.isArrayOrTypedArray(v.marker.size)}}},2410:function(f,h,u){var p=u(1828);f.exports=function(v,y,b,x,k){k=k||{},x("textposition"),p.coerceFont(x,"textfont",k.font||b.font),k.noSelect||(x("selected.textfont.color"),x("unselected.textfont.color"))}},7513:function(f,h,u){var p=u(1828),v=u(3972);f.exports=function(b,x,k,C){var w=C("x"),T=C("y"),R,M=v.getComponentMethod("calendars","handleTraceDefaults");if(M(b,x,["x","y"],k),w){var I=p.minRowLength(w);T?R=Math.min(I,p.minRowLength(T)):(R=I,C("y0"),C("dy"))}else{if(!T)return 0;R=p.minRowLength(T),C("x0"),C("dx")}return x._length=R,R}},2887:function(f,h,u){var p=u(9298),v=u(1828),y=u(6281),b=u(9344).p,x=u(606).BADNUM;h.moduleType="transform",h.name="aggregate";var k=h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},C=k.aggregations;h.supplyDefaults=function(V,N){var F={},z;function U(ee,be){return v.coerce(V,F,k,ee,be)}var Q=U("enabled");if(!Q)return F;var B=y.findArrayAttributes(N),E={};for(z=0;z<B.length;z++)E[B[z]]=1;var W=U("groups");if(!Array.isArray(W)){if(!E[W])return F.enabled=!1,F;E[W]=0}var Y=V.aggregations||[],ie=F.aggregations=new Array(Y.length),L;function me(ee,be){return v.coerce(Y[z],L,C,ee,be)}for(z=0;z<Y.length;z++){L={_index:z};var ae=me("target"),q=me("func"),fe=me("enabled");fe&&ae&&(E[ae]||q==="count"&&E[ae]===void 0)?(q==="stddev"&&me("funcmode"),E[ae]=0,ie[z]=L):ie[z]={enabled:!1,_index:z}}for(z=0;z<B.length;z++)E[B[z]]&&ie.push({target:B[z],func:C.func.dflt,enabled:!0,_index:-1});return F},h.calcTransform=function(V,N,F){if(F.enabled){var z=F.groups,U=v.getTargetArray(N,{target:z});if(U){var Q,B,E,W,Y={},ie={},L=[],me=b(N.transforms,F),ae=U.length;for(N._length&&(ae=Math.min(ae,N._length)),Q=0;Q<ae;Q++)B=U[Q],E=Y[B],E===void 0?(Y[B]=L.length,W=[Q],L.push(W),ie[Y[B]]=me(Q)):(L[E].push(Q),ie[Y[B]]=(ie[Y[B]]||[]).concat(me(Q)));F._indexToPoints=ie;var q=F.aggregations;for(Q=0;Q<q.length;Q++)w(V,N,L,q[Q]);typeof z=="string"&&w(V,N,L,{target:z,func:"first",enabled:!0}),N._length=L.length}}};function w(V,N,F,z){if(z.enabled){for(var U=z.target,Q=v.nestedProperty(N,U),B=Q.get(),E=p.getDataConversions(V,N,U,B),W=T(z,E),Y=new Array(F.length),ie=0;ie<F.length;ie++)Y[ie]=W(B,F[ie]);Q.set(Y),z.func==="count"&&v.pushUnique(N._arrayAttrs,U)}}function T(V,N){var F=V.func,z=N.d2c,U=N.c2d;switch(F){case"count":return R;case"first":return M;case"last":return I;case"sum":return function(Q,B){for(var E=0,W=0;W<B.length;W++){var Y=z(Q[B[W]]);Y!==x&&(E+=Y)}return U(E)};case"avg":return function(Q,B){for(var E=0,W=0,Y=0;Y<B.length;Y++){var ie=z(Q[B[Y]]);ie!==x&&(E+=ie,W++)}return W?U(E/W):x};case"min":return function(Q,B){for(var E=1/0,W=0;W<B.length;W++){var Y=z(Q[B[W]]);Y!==x&&(E=Math.min(E,Y))}return E===1/0?x:U(E)};case"max":return function(Q,B){for(var E=-1/0,W=0;W<B.length;W++){var Y=z(Q[B[W]]);Y!==x&&(E=Math.max(E,Y))}return E===-1/0?x:U(E)};case"range":return function(Q,B){for(var E=1/0,W=-1/0,Y=0;Y<B.length;Y++){var ie=z(Q[B[Y]]);ie!==x&&(E=Math.min(E,ie),W=Math.max(W,ie))}return W===-1/0||E===1/0?x:U(W-E)};case"change":return function(Q,B){var E=z(Q[B[0]]),W=z(Q[B[B.length-1]]);return E===x||W===x?x:U(W-E)};case"median":return function(Q,B){for(var E=[],W=0;W<B.length;W++){var Y=z(Q[B[W]]);Y!==x&&E.push(Y)}if(!E.length)return x;E.sort(v.sorterAsc);var ie=(E.length-1)/2;return U((E[Math.floor(ie)]+E[Math.ceil(ie)])/2)};case"mode":return function(Q,B){for(var E={},W=0,Y=x,ie=0;ie<B.length;ie++){var L=z(Q[B[ie]]);if(L!==x){var me=E[L]=(E[L]||0)+1;me>W&&(W=me,Y=L)}}return W?U(Y):x};case"rms":return function(Q,B){for(var E=0,W=0,Y=0;Y<B.length;Y++){var ie=z(Q[B[Y]]);ie!==x&&(E+=ie*ie,W++)}return W?U(Math.sqrt(E/W)):x};case"stddev":return function(Q,B){var E=0,W=0,Y=1,ie=x,L;for(L=0;L<B.length&&ie===x;L++)ie=z(Q[B[L]]);if(ie===x)return x;for(;L<B.length;L++){var me=z(Q[B[L]]);if(me!==x){var ae=me-ie;E+=ae,W+=ae*ae,Y++}}var q=V.funcmode==="sample"?Y-1:Y;return q?Math.sqrt((W-E*E/Y)/q):0}}}function R(V,N){return N.length}function M(V,N){return V[N[0]]}function I(V,N){return V[N[N.length-1]]}},4382:function(f,h,u){var p=u(1828),v=u(3972),y=u(9298),b=u(9344).p,x=u(4808),k=x.COMPARISON_OPS,C=x.INTERVAL_OPS,w=x.SET_OPS;h.moduleType="transform",h.name="filter",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(k).concat(C).concat(w),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},h.supplyDefaults=function(R){var M={};function I(z,U){return p.coerce(R,M,h.attributes,z,U)}var V=I("enabled");if(V){var N=I("target");if(p.isArrayOrTypedArray(N)&&N.length===0)return M.enabled=!1,M;I("preservegaps"),I("operation"),I("value");var F=v.getComponentMethod("calendars","handleDefaults");F(R,M,"valuecalendar",null),F(R,M,"targetcalendar",null)}return M},h.calcTransform=function(R,M,I){if(!I.enabled)return;var V=p.getTargetArray(M,I);if(!V)return;var N=I.target,F=V.length;M._length&&(F=Math.min(F,M._length));var z=I.targetcalendar,U=M._arrayAttrs,Q=I.preservegaps;if(typeof N=="string"){var B=p.nestedProperty(M,N+"calendar").get();B&&(z=B)}var E=y.getDataToCoordFunc(R,M,N,V),W=T(I,E,z),Y={},ie={},L=0;function me(Te,Be){for(var ge=0;ge<U.length;ge++){var ne=p.nestedProperty(M,U[ge]);Te(ne,Be)}}var ae,q;Q?(ae=function(Te){Y[Te.astr]=p.extendDeep([],Te.get()),Te.set(new Array(F))},q=function(Te,Be){var ge=Y[Te.astr][Be];Te.get()[Be]=ge}):(ae=function(Te){Y[Te.astr]=p.extendDeep([],Te.get()),Te.set([])},q=function(Te,Be){var ge=Y[Te.astr][Be];Te.get().push(ge)}),me(ae);for(var fe=b(M.transforms,I),ee=0;ee<F;ee++){var be=W(V[ee]);be?(me(q,ee),ie[L++]=fe(ee)):Q&&L++}I._indexToPoints=ie,M._length=L};function T(R,M,I){var V=R.operation,N=R.value,F=Array.isArray(N);function z(E){return E.indexOf(V)!==-1}var U=function(E){return M(E,0,R.valuecalendar)},Q=function(E){return M(E,0,I)},B;switch(z(k)?B=U(F?N[0]:N):z(C)?B=F?[U(N[0]),U(N[1])]:[U(N),U(N)]:z(w)&&(B=F?N.map(U):[U(N)]),V){case"=":return function(E){return Q(E)===B};case"!=":return function(E){return Q(E)!==B};case"<":return function(E){return Q(E)<B};case"<=":return function(E){return Q(E)<=B};case">":return function(E){return Q(E)>B};case">=":return function(E){return Q(E)>=B};case"[]":return function(E){var W=Q(E);return W>=B[0]&&W<=B[1]};case"()":return function(E){var W=Q(E);return W>B[0]&&W<B[1]};case"[)":return function(E){var W=Q(E);return W>=B[0]&&W<B[1]};case"(]":return function(E){var W=Q(E);return W>B[0]&&W<=B[1]};case"][":return function(E){var W=Q(E);return W<=B[0]||W>=B[1]};case")(":return function(E){var W=Q(E);return W<B[0]||W>B[1]};case"](":return function(E){var W=Q(E);return W<=B[0]||W>B[1]};case")[":return function(E){var W=Q(E);return W<B[0]||W>=B[1]};case"{}":return function(E){return B.indexOf(Q(E))!==-1};case"}{":return function(E){return B.indexOf(Q(E))===-1}}}},3102:function(f,h,u){var p=u(1828),v=u(6281),y=u(4875),b=u(9344).p;h.moduleType="transform",h.name="groupby",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},h.supplyDefaults=function(k,C,w){var T,R={};function M(U,Q){return p.coerce(k,R,h.attributes,U,Q)}var I=M("enabled");if(!I)return R;M("groups"),M("nameformat",w._dataLength>1?"%{group} (%{trace})":"%{group}");var V=k.styles,N=R.styles=[];if(V)for(T=0;T<V.length;T++){var F=N[T]={};p.coerce(V[T],N[T],h.attributes.styles,"target");var z=p.coerce(V[T],N[T],h.attributes.styles,"value");p.isPlainObject(z)?F.value=p.extendDeep({},z):z&&delete F.value}return R},h.transform=function(k,C){var w,T,R,M=[];for(T=0;T<k.length;T++)for(w=x(k[T],C),R=0;R<w.length;R++)M.push(w[R]);return M};function x(k,C){var w,T,R,M,I,V,N,F,z,U,Q=C.transform,B=C.transformIndex,E=k.transforms[B].groups,W=b(k.transforms,Q);if(!p.isArrayOrTypedArray(E)||E.length===0)return[k];var Y=p.filterUnique(E),ie=new Array(Y.length),L=E.length,me=v.findArrayAttributes(k),ae=Q.styles||[],q={};for(w=0;w<ae.length;w++)q[ae[w].target]=ae[w].value;Q.styles&&(U=p.keyedContainer(Q,"styles","target","value.name"));var fe={},ee={};for(w=0;w<Y.length;w++){V=Y[w],fe[V]=w,ee[V]=0,N=ie[w]=p.extendDeepNoArrays({},k),N._group=V,N.transforms[B]._indexToPoints={};var be=null;for(U&&(be=U.get(V)),be||be===""?N.name=be:N.name=p.templateString(Q.nameformat,{trace:k.name,group:V}),F=N.transforms,N.transforms=[],T=0;T<F.length;T++)N.transforms[T]=p.extendDeepNoArrays({},F[T]);for(T=0;T<me.length;T++)p.nestedProperty(N,me[T]).set([])}for(R=0;R<me.length;R++){for(M=me[R],T=0,z=[];T<Y.length;T++)z[T]=p.nestedProperty(ie[T],M).get();for(I=p.nestedProperty(k,M).get(),T=0;T<L;T++)z[fe[E[T]]].push(I[T])}for(T=0;T<L;T++){N=ie[fe[E[T]]];var Te=N.transforms[B]._indexToPoints;Te[ee[E[T]]]=W(T),ee[E[T]]++}for(w=0;w<Y.length;w++)V=Y[w],N=ie[w],y.clearExpandedTraceDefaultColors(N),N=p.extendDeepNoArrays(N,q[V]||{});return ie}},9344:function(f,h){h.p=function(u,p){for(var v,y,b=0;b<u.length&&(v=u[b],v!==p);b++)!v._indexToPoints||v.enabled===!1||(y=v._indexToPoints);var x=y?function(k){return y[k]}:function(k){return[k]};return x}},2275:function(f,h,u){var p=u(1828),v=u(9298),y=u(9344).p,b=u(606).BADNUM;h.moduleType="transform",h.name="sort",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},h.supplyDefaults=function(C){var w={};function T(M,I){return p.coerce(C,w,h.attributes,M,I)}var R=T("enabled");return R&&(T("target"),T("order")),w},h.calcTransform=function(C,w,T){if(T.enabled){var R=p.getTargetArray(w,T);if(R){var M=T.target,I=R.length;w._length&&(I=Math.min(I,w._length));var V=w._arrayAttrs,N=v.getDataToCoordFunc(C,w,M,R),F=x(T,R,N,I),z=y(w.transforms,T),U={},Q,B;for(Q=0;Q<V.length;Q++){var E=p.nestedProperty(w,V[Q]),W=E.get(),Y=new Array(I);for(B=0;B<I;B++)Y[B]=W[F[B]];E.set(Y)}for(B=0;B<I;B++)U[B]=z(F[B]);T._indexToPoints=U,w._length=I}}};function x(C,w,T,R){var M=new Array(R),I=new Array(R),V;for(V=0;V<R;V++)M[V]={v:w[V],i:V};for(M.sort(k(C,T)),V=0;V<R;V++)I[V]=M[V].i;return I}function k(C,w){switch(C.order){case"ascending":return function(T,R){var M=w(T.v),I=w(R.v);return M===b?1:I===b?-1:M-I};case"descending":return function(T,R){var M=w(T.v),I=w(R.v);return M===b?1:I===b?-1:I-M}}}},1506:function(f,h){h.version="2.26.2"},5791:function(f){f.exports=v,f.exports.isMobile=v,f.exports.default=v;var h=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,u=/CrOS/,p=/android|ipad|playbook|silk/i;function v(y){y||(y={});var b=y.ua;if(!b&&typeof navigator<"u"&&(b=navigator.userAgent),b&&b.headers&&typeof b.headers["user-agent"]=="string"&&(b=b.headers["user-agent"]),typeof b!="string")return!1;var x=h.test(b)&&!u.test(b)||!!y.tablet&&p.test(b);return!x&&y.tablet&&y.featureDetect&&navigator&&navigator.maxTouchPoints>1&&b.indexOf("Macintosh")!==-1&&b.indexOf("Safari")!==-1&&(x=!0),x}},9898:function(f,h,u){var p,v;(function(){var y={version:"3.8.0"},b=[].slice,x=function(D){return b.call(D)},k=self.document;function C(D){return D&&(D.ownerDocument||D.document||D).documentElement}function w(D){return D&&(D.ownerDocument&&D.ownerDocument.defaultView||D.document&&D||D.defaultView)}if(k)try{x(k.documentElement.childNodes)[0].nodeType}catch{x=function(X){for(var de=X.length,we=new Array(de);de--;)we[de]=X[de];return we}}if(Date.now||(Date.now=function(){return+new Date}),k)try{k.createElement("DIV").style.setProperty("opacity",0,"")}catch{var T=this.Element.prototype,R=T.setAttribute,M=T.setAttributeNS,I=this.CSSStyleDeclaration.prototype,V=I.setProperty;T.setAttribute=function(X,de){R.call(this,X,de+"")},T.setAttributeNS=function(X,de,we){M.call(this,X,de,we+"")},I.setProperty=function(X,de,we){V.call(this,X,de+"",we)}}y.ascending=N;function N(D,X){return D<X?-1:D>X?1:D>=X?0:NaN}y.descending=function(D,X){return X<D?-1:X>D?1:X>=D?0:NaN},y.min=function(D,X){var de=-1,we=D.length,Pe,Re;if(arguments.length===1){for(;++de<we;)if((Re=D[de])!=null&&Re>=Re){Pe=Re;break}for(;++de<we;)(Re=D[de])!=null&&Pe>Re&&(Pe=Re)}else{for(;++de<we;)if((Re=X.call(D,D[de],de))!=null&&Re>=Re){Pe=Re;break}for(;++de<we;)(Re=X.call(D,D[de],de))!=null&&Pe>Re&&(Pe=Re)}return Pe},y.max=function(D,X){var de=-1,we=D.length,Pe,Re;if(arguments.length===1){for(;++de<we;)if((Re=D[de])!=null&&Re>=Re){Pe=Re;break}for(;++de<we;)(Re=D[de])!=null&&Re>Pe&&(Pe=Re)}else{for(;++de<we;)if((Re=X.call(D,D[de],de))!=null&&Re>=Re){Pe=Re;break}for(;++de<we;)(Re=X.call(D,D[de],de))!=null&&Re>Pe&&(Pe=Re)}return Pe},y.extent=function(D,X){var de=-1,we=D.length,Pe,Re,Ke;if(arguments.length===1){for(;++de<we;)if((Re=D[de])!=null&&Re>=Re){Pe=Ke=Re;break}for(;++de<we;)(Re=D[de])!=null&&(Pe>Re&&(Pe=Re),Ke<Re&&(Ke=Re))}else{for(;++de<we;)if((Re=X.call(D,D[de],de))!=null&&Re>=Re){Pe=Ke=Re;break}for(;++de<we;)(Re=X.call(D,D[de],de))!=null&&(Pe>Re&&(Pe=Re),Ke<Re&&(Ke=Re))}return[Pe,Ke]};function F(D){return D===null?NaN:+D}function z(D){return!isNaN(D)}y.sum=function(D,X){var de=0,we=D.length,Pe,Re=-1;if(arguments.length===1)for(;++Re<we;)z(Pe=+D[Re])&&(de+=Pe);else for(;++Re<we;)z(Pe=+X.call(D,D[Re],Re))&&(de+=Pe);return de},y.mean=function(D,X){var de=0,we=D.length,Pe,Re=-1,Ke=we;if(arguments.length===1)for(;++Re<we;)z(Pe=F(D[Re]))?de+=Pe:--Ke;else for(;++Re<we;)z(Pe=F(X.call(D,D[Re],Re)))?de+=Pe:--Ke;if(Ke)return de/Ke},y.quantile=function(D,X){var de=(D.length-1)*X+1,we=Math.floor(de),Pe=+D[we-1],Re=de-we;return Re?Pe+Re*(D[we]-Pe):Pe},y.median=function(D,X){var de=[],we=D.length,Pe,Re=-1;if(arguments.length===1)for(;++Re<we;)z(Pe=F(D[Re]))&&de.push(Pe);else for(;++Re<we;)z(Pe=F(X.call(D,D[Re],Re)))&&de.push(Pe);if(de.length)return y.quantile(de.sort(N),.5)},y.variance=function(D,X){var de=D.length,we=0,Pe,Re,Ke=0,We=-1,rt=0;if(arguments.length===1)for(;++We<de;)z(Pe=F(D[We]))&&(Re=Pe-we,we+=Re/++rt,Ke+=Re*(Pe-we));else for(;++We<de;)z(Pe=F(X.call(D,D[We],We)))&&(Re=Pe-we,we+=Re/++rt,Ke+=Re*(Pe-we));if(rt>1)return Ke/(rt-1)},y.deviation=function(){var D=y.variance.apply(this,arguments);return D&&Math.sqrt(D)};function U(D){return{left:function(X,de,we,Pe){for(arguments.length<3&&(we=0),arguments.length<4&&(Pe=X.length);we<Pe;){var Re=we+Pe>>>1;D(X[Re],de)<0?we=Re+1:Pe=Re}return we},right:function(X,de,we,Pe){for(arguments.length<3&&(we=0),arguments.length<4&&(Pe=X.length);we<Pe;){var Re=we+Pe>>>1;D(X[Re],de)>0?Pe=Re:we=Re+1}return we}}}var Q=U(N);y.bisectLeft=Q.left,y.bisect=y.bisectRight=Q.right,y.bisector=function(D){return U(D.length===1?function(X,de){return N(D(X),de)}:D)},y.shuffle=function(D,X,de){(we=arguments.length)<3&&(de=D.length,we<2&&(X=0));for(var we=de-X,Pe,Re;we;)Re=Math.random()*we--|0,Pe=D[we+X],D[we+X]=D[Re+X],D[Re+X]=Pe;return D},y.permute=function(D,X){for(var de=X.length,we=new Array(de);de--;)we[de]=D[X[de]];return we},y.pairs=function(D){for(var X=0,de=D.length-1,we=D[0],Pe=new Array(de<0?0:de);X<de;)Pe[X]=[we,we=D[++X]];return Pe},y.transpose=function(D){if(!(Re=D.length))return[];for(var X=-1,de=y.min(D,B),we=new Array(de);++X<de;)for(var Pe=-1,Re,Ke=we[X]=new Array(Re);++Pe<Re;)Ke[Pe]=D[Pe][X];return we};function B(D){return D.length}y.zip=function(){return y.transpose(arguments)},y.keys=function(D){var X=[];for(var de in D)X.push(de);return X},y.values=function(D){var X=[];for(var de in D)X.push(D[de]);return X},y.entries=function(D){var X=[];for(var de in D)X.push({key:de,value:D[de]});return X},y.merge=function(D){for(var X=D.length,de,we=-1,Pe=0,Re,Ke;++we<X;)Pe+=D[we].length;for(Re=new Array(Pe);--X>=0;)for(Ke=D[X],de=Ke.length;--de>=0;)Re[--Pe]=Ke[de];return Re};var E=Math.abs;y.range=function(D,X,de){if(arguments.length<3&&(de=1,arguments.length<2&&(X=D,D=0)),(X-D)/de===1/0)throw new Error("infinite range");var we=[],Pe=W(E(de)),Re=-1,Ke;if(D*=Pe,X*=Pe,de*=Pe,de<0)for(;(Ke=D+de*++Re)>X;)we.push(Ke/Pe);else for(;(Ke=D+de*++Re)<X;)we.push(Ke/Pe);return we};function W(D){for(var X=1;D*X%1;)X*=10;return X}function Y(D,X){for(var de in X)Object.defineProperty(D.prototype,de,{value:X[de],enumerable:!1})}y.map=function(D,X){var de=new ie;if(D instanceof ie)D.forEach(function(We,rt){de.set(We,rt)});else if(Array.isArray(D)){var we=-1,Pe=D.length,Re;if(arguments.length===1)for(;++we<Pe;)de.set(we,D[we]);else for(;++we<Pe;)de.set(X.call(D,Re=D[we],we),Re)}else for(var Ke in D)de.set(Ke,D[Ke]);return de};function ie(){this._=Object.create(null)}var L="__proto__",me="\0";Y(ie,{has:fe,get:function(D){return this._[ae(D)]},set:function(D,X){return this._[ae(D)]=X},remove:ee,keys:be,values:function(){var D=[];for(var X in this._)D.push(this._[X]);return D},entries:function(){var D=[];for(var X in this._)D.push({key:q(X),value:this._[X]});return D},size:Te,empty:Be,forEach:function(D){for(var X in this._)D.call(this,q(X),this._[X])}});function ae(D){return(D+="")===L||D[0]===me?me+D:D}function q(D){return(D+="")[0]===me?D.slice(1):D}function fe(D){return ae(D)in this._}function ee(D){return(D=ae(D))in this._&&delete this._[D]}function be(){var D=[];for(var X in this._)D.push(q(X));return D}function Te(){var D=0;for(var X in this._)++D;return D}function Be(){for(var D in this._)return!1;return!0}y.nest=function(){var D={},X=[],de=[],we,Pe;function Re(We,rt,vt){if(vt>=X.length)return Pe?Pe.call(D,rt):we?rt.sort(we):rt;for(var bt=-1,Zt=rt.length,Ut=X[vt++],gn,An,jt,tn=new ie,hn;++bt<Zt;)(hn=tn.get(gn=Ut(An=rt[bt])))?hn.push(An):tn.set(gn,[An]);return We?(An=We(),jt=function(_n,Pn){An.set(_n,Re(We,Pn,vt))}):(An={},jt=function(_n,Pn){An[_n]=Re(We,Pn,vt)}),tn.forEach(jt),An}function Ke(We,rt){if(rt>=X.length)return We;var vt=[],bt=de[rt++];return We.forEach(function(Zt,Ut){vt.push({key:Zt,values:Ke(Ut,rt)})}),bt?vt.sort(function(Zt,Ut){return bt(Zt.key,Ut.key)}):vt}return D.map=function(We,rt){return Re(rt,We,0)},D.entries=function(We){return Ke(Re(y.map,We,0),0)},D.key=function(We){return X.push(We),D},D.sortKeys=function(We){return de[X.length-1]=We,D},D.sortValues=function(We){return we=We,D},D.rollup=function(We){return Pe=We,D},D},y.set=function(D){var X=new ge;if(D)for(var de=0,we=D.length;de<we;++de)X.add(D[de]);return X};function ge(){this._=Object.create(null)}Y(ge,{has:fe,add:function(D){return this._[ae(D+="")]=!0,D},remove:ee,values:be,size:Te,empty:Be,forEach:function(D){for(var X in this._)D.call(this,q(X))}}),y.behavior={};function ne(D){return D}y.rebind=function(D,X){for(var de=1,we=arguments.length,Pe;++de<we;)D[Pe=arguments[de]]=pe(D,X,X[Pe]);return D};function pe(D,X,de){return function(){var we=de.apply(X,arguments);return we===X?D:we}}function G(D,X){if(X in D)return X;X=X.charAt(0).toUpperCase()+X.slice(1);for(var de=0,we=Oe.length;de<we;++de){var Pe=Oe[de]+X;if(Pe in D)return Pe}}var Oe=["webkit","ms","moz","Moz","o","O"];function xe(){}y.dispatch=function(){for(var D=new Le,X=-1,de=arguments.length;++X<de;)D[arguments[X]]=ke(D);return D};function Le(){}Le.prototype.on=function(D,X){var de=D.indexOf("."),we="";if(de>=0&&(we=D.slice(de+1),D=D.slice(0,de)),D)return arguments.length<2?this[D].on(we):this[D].on(we,X);if(arguments.length===2){if(X==null)for(D in this)this.hasOwnProperty(D)&&this[D].on(we,null);return this}};function ke(D){var X=[],de=new ie;function we(){for(var Pe=X,Re=-1,Ke=Pe.length,We;++Re<Ke;)(We=Pe[Re].on)&&We.apply(this,arguments);return D}return we.on=function(Pe,Re){var Ke=de.get(Pe),We;return arguments.length<2?Ke&&Ke.on:(Ke&&(Ke.on=null,X=X.slice(0,We=X.indexOf(Ke)).concat(X.slice(We+1)),de.remove(Pe)),Re&&X.push(de.set(Pe,{on:Re})),D)},we}y.event=null;function $e(){y.event.preventDefault()}function Ze(){for(var D=y.event,X;X=D.sourceEvent;)D=X;return D}function De(D){for(var X=new Le,de=0,we=arguments.length;++de<we;)X[arguments[de]]=ke(X);return X.of=function(Pe,Re){return function(Ke){try{var We=Ke.sourceEvent=y.event;Ke.target=D,y.event=Ke,X[Ke.type].apply(Pe,Re)}finally{y.event=We}}},X}y.requote=function(D){return D.replace(Ie,"\\$&")};var Ie=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,re={}.__proto__?function(D,X){D.__proto__=X}:function(D,X){for(var de in X)D[de]=X[de]};function ye(D){return re(D,oe),D}var te=function(D,X){return X.querySelector(D)},se=function(D,X){return X.querySelectorAll(D)},ue=function(D,X){var de=D.matches||D[G(D,"matchesSelector")];return ue=function(we,Pe){return de.call(we,Pe)},ue(D,X)};typeof Sizzle=="function"&&(te=function(D,X){return Sizzle(D,X)[0]||null},se=Sizzle,ue=Sizzle.matchesSelector),y.selection=function(){return y.select(k.documentElement)};var oe=y.selection.prototype=[];oe.select=function(D){var X=[],de,we,Pe,Re;D=Se(D);for(var Ke=-1,We=this.length;++Ke<We;){X.push(de=[]),de.parentNode=(Pe=this[Ke]).parentNode;for(var rt=-1,vt=Pe.length;++rt<vt;)(Re=Pe[rt])?(de.push(we=D.call(Re,Re.__data__,rt,Ke)),we&&"__data__"in Re&&(we.__data__=Re.__data__)):de.push(null)}return ye(X)};function Se(D){return typeof D=="function"?D:function(){return te(D,this)}}oe.selectAll=function(D){var X=[],de,we;D=le(D);for(var Pe=-1,Re=this.length;++Pe<Re;)for(var Ke=this[Pe],We=-1,rt=Ke.length;++We<rt;)(we=Ke[We])&&(X.push(de=x(D.call(we,we.__data__,We,Pe))),de.parentNode=we);return ye(X)};function le(D){return typeof D=="function"?D:function(){return se(D,this)}}var Ce="http://www.w3.org/1999/xhtml",Qe={svg:"http://www.w3.org/2000/svg",xhtml:Ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};y.ns={prefix:Qe,qualify:function(D){var X=D.indexOf(":"),de=D;return X>=0&&(de=D.slice(0,X))!=="xmlns"&&(D=D.slice(X+1)),Qe.hasOwnProperty(de)?{space:Qe[de],local:D}:D}},oe.attr=function(D,X){if(arguments.length<2){if(typeof D=="string"){var de=this.node();return D=y.ns.qualify(D),D.local?de.getAttributeNS(D.space,D.local):de.getAttribute(D)}for(X in D)this.each(ze(X,D[X]));return this}return this.each(ze(D,X))};function ze(D,X){D=y.ns.qualify(D);function de(){this.removeAttribute(D)}function we(){this.removeAttributeNS(D.space,D.local)}function Pe(){this.setAttribute(D,X)}function Re(){this.setAttributeNS(D.space,D.local,X)}function Ke(){var rt=X.apply(this,arguments);rt==null?this.removeAttribute(D):this.setAttribute(D,rt)}function We(){var rt=X.apply(this,arguments);rt==null?this.removeAttributeNS(D.space,D.local):this.setAttributeNS(D.space,D.local,rt)}return X==null?D.local?we:de:typeof X=="function"?D.local?We:Ke:D.local?Re:Pe}function Xe(D){return D.trim().replace(/\s+/g," ")}oe.classed=function(D,X){if(arguments.length<2){if(typeof D=="string"){var de=this.node(),we=(D=pt(D)).length,Pe=-1;if(X=de.classList){for(;++Pe<we;)if(!X.contains(D[Pe]))return!1}else for(X=de.getAttribute("class");++Pe<we;)if(!ct(D[Pe]).test(X))return!1;return!0}for(X in D)this.each(Ye(X,D[X]));return this}return this.each(Ye(D,X))};function ct(D){return new RegExp("(?:^|\\s+)"+y.requote(D)+"(?:\\s+|$)","g")}function pt(D){return(D+"").trim().split(/^|\s+/)}function Ye(D,X){D=pt(D).map(je);var de=D.length;function we(){for(var Re=-1;++Re<de;)D[Re](this,X)}function Pe(){for(var Re=-1,Ke=X.apply(this,arguments);++Re<de;)D[Re](this,Ke)}return typeof X=="function"?Pe:we}function je(D){var X=ct(D);return function(de,we){if(Pe=de.classList)return we?Pe.add(D):Pe.remove(D);var Pe=de.getAttribute("class")||"";we?(X.lastIndex=0,X.test(Pe)||de.setAttribute("class",Xe(Pe+" "+D))):de.setAttribute("class",Xe(Pe.replace(X," ")))}}oe.style=function(D,X,de){var we=arguments.length;if(we<3){if(typeof D!="string"){we<2&&(X="");for(de in D)this.each(et(de,D[de],X));return this}if(we<2){var Pe=this.node();return w(Pe).getComputedStyle(Pe,null).getPropertyValue(D)}de=""}return this.each(et(D,X,de))};function et(D,X,de){function we(){this.style.removeProperty(D)}function Pe(){this.style.setProperty(D,X,de)}function Re(){var Ke=X.apply(this,arguments);Ke==null?this.style.removeProperty(D):this.style.setProperty(D,Ke,de)}return X==null?we:typeof X=="function"?Re:Pe}oe.property=function(D,X){if(arguments.length<2){if(typeof D=="string")return this.node()[D];for(X in D)this.each(yt(X,D[X]));return this}return this.each(yt(D,X))};function yt(D,X){function de(){delete this[D]}function we(){this[D]=X}function Pe(){var Re=X.apply(this,arguments);Re==null?delete this[D]:this[D]=Re}return X==null?de:typeof X=="function"?Pe:we}oe.text=function(D){return arguments.length?this.each(typeof D=="function"?function(){var X=D.apply(this,arguments);this.textContent=X??""}:D==null?function(){this.textContent=""}:function(){this.textContent=D}):this.node().textContent},oe.html=function(D){return arguments.length?this.each(typeof D=="function"?function(){var X=D.apply(this,arguments);this.innerHTML=X??""}:D==null?function(){this.innerHTML=""}:function(){this.innerHTML=D}):this.node().innerHTML},oe.append=function(D){return D=ft(D),this.select(function(){return this.appendChild(D.apply(this,arguments))})};function ft(D){function X(){var we=this.ownerDocument,Pe=this.namespaceURI;return Pe===Ce&&we.documentElement.namespaceURI===Ce?we.createElement(D):we.createElementNS(Pe,D)}function de(){return this.ownerDocument.createElementNS(D.space,D.local)}return typeof D=="function"?D:(D=y.ns.qualify(D)).local?de:X}oe.insert=function(D,X){return D=ft(D),X=Se(X),this.select(function(){return this.insertBefore(D.apply(this,arguments),X.apply(this,arguments)||null)})},oe.remove=function(){return this.each(tt)};function tt(){var D=this.parentNode;D&&D.removeChild(this)}oe.data=function(D,X){var de=-1,we=this.length,Pe,Re;if(!arguments.length){for(D=new Array(we=(Pe=this[0]).length);++de<we;)(Re=Pe[de])&&(D[de]=Re.__data__);return D}function Ke(bt,Zt){var Ut,gn=bt.length,An=Zt.length,jt=Math.min(gn,An),tn=new Array(An),hn=new Array(An),_n=new Array(gn),Pn,yn;if(X){var cr=new ie,Zr=new Array(gn),Jr;for(Ut=-1;++Ut<gn;)(Pn=bt[Ut])&&(cr.has(Jr=X.call(Pn,Pn.__data__,Ut))?_n[Ut]=Pn:cr.set(Jr,Pn),Zr[Ut]=Jr);for(Ut=-1;++Ut<An;)(Pn=cr.get(Jr=X.call(Zt,yn=Zt[Ut],Ut)))?Pn!==!0&&(tn[Ut]=Pn,Pn.__data__=yn):hn[Ut]=wt(yn),cr.set(Jr,!0);for(Ut=-1;++Ut<gn;)Ut in Zr&&cr.get(Zr[Ut])!==!0&&(_n[Ut]=bt[Ut])}else{for(Ut=-1;++Ut<jt;)Pn=bt[Ut],yn=Zt[Ut],Pn?(Pn.__data__=yn,tn[Ut]=Pn):hn[Ut]=wt(yn);for(;Ut<An;++Ut)hn[Ut]=wt(Zt[Ut]);for(;Ut<gn;++Ut)_n[Ut]=bt[Ut]}hn.update=tn,hn.parentNode=tn.parentNode=_n.parentNode=bt.parentNode,We.push(hn),rt.push(tn),vt.push(_n)}var We=Bt([]),rt=ye([]),vt=ye([]);if(typeof D=="function")for(;++de<we;)Ke(Pe=this[de],D.call(Pe,Pe.parentNode.__data__,de));else for(;++de<we;)Ke(Pe=this[de],D);return rt.enter=function(){return We},rt.exit=function(){return vt},rt};function wt(D){return{__data__:D}}oe.datum=function(D){return arguments.length?this.property("__data__",D):this.property("__data__")},oe.filter=function(D){var X=[],de,we,Pe;typeof D!="function"&&(D=Xt(D));for(var Re=0,Ke=this.length;Re<Ke;Re++){X.push(de=[]),de.parentNode=(we=this[Re]).parentNode;for(var We=0,rt=we.length;We<rt;We++)(Pe=we[We])&&D.call(Pe,Pe.__data__,We,Re)&&de.push(Pe)}return ye(X)};function Xt(D){return function(){return ue(this,D)}}oe.order=function(){for(var D=-1,X=this.length;++D<X;)for(var de=this[D],we=de.length-1,Pe=de[we],Re;--we>=0;)(Re=de[we])&&(Pe&&Pe!==Re.nextSibling&&Pe.parentNode.insertBefore(Re,Pe),Pe=Re);return this},oe.sort=function(D){D=Gt.apply(this,arguments);for(var X=-1,de=this.length;++X<de;)this[X].sort(D);return this.order()};function Gt(D){return arguments.length||(D=N),function(X,de){return X&&de?D(X.__data__,de.__data__):!X-!de}}oe.each=function(D){return Nt(this,function(X,de,we){D.call(X,X.__data__,de,we)})};function Nt(D,X){for(var de=0,we=D.length;de<we;de++)for(var Pe=D[de],Re=0,Ke=Pe.length,We;Re<Ke;Re++)(We=Pe[Re])&&X(We,Re,de);return D}oe.call=function(D){var X=x(arguments);return D.apply(X[0]=this,X),this},oe.empty=function(){return!this.node()},oe.node=function(){for(var D=0,X=this.length;D<X;D++)for(var de=this[D],we=0,Pe=de.length;we<Pe;we++){var Re=de[we];if(Re)return Re}return null},oe.size=function(){var D=0;return Nt(this,function(){++D}),D};function Bt(D){return re(D,vn),D}var vn=[];y.selection.enter=Bt,y.selection.enter.prototype=vn,vn.append=oe.append,vn.empty=oe.empty,vn.node=oe.node,vn.call=oe.call,vn.size=oe.size,vn.select=function(D){for(var X=[],de,we,Pe,Re,Ke,We=-1,rt=this.length;++We<rt;){Pe=(Re=this[We]).update,X.push(de=[]),de.parentNode=Re.parentNode;for(var vt=-1,bt=Re.length;++vt<bt;)(Ke=Re[vt])?(de.push(Pe[vt]=we=D.call(Re.parentNode,Ke.__data__,vt,We)),we.__data__=Ke.__data__):de.push(null)}return ye(X)},vn.insert=function(D,X){return arguments.length<2&&(X=En(this)),oe.insert.call(this,D,X)};function En(D){var X,de;return function(we,Pe,Re){var Ke=D[Re].update,We=Ke.length,rt;for(Re!=de&&(de=Re,X=0),Pe>=X&&(X=Pe+1);!(rt=Ke[X])&&++X<We;);return rt}}y.select=function(D){var X;return typeof D=="string"?(X=[te(D,k)],X.parentNode=k.documentElement):(X=[D],X.parentNode=C(D)),ye([X])},y.selectAll=function(D){var X;return typeof D=="string"?(X=x(se(D,k)),X.parentNode=k.documentElement):(X=x(D),X.parentNode=null),ye([X])},oe.on=function(D,X,de){var we=arguments.length;if(we<3){if(typeof D!="string"){we<2&&(X=!1);for(de in D)this.each(ln(de,D[de],X));return this}if(we<2)return(we=this.node()["__on"+D])&&we._;de=!1}return this.each(ln(D,X,de))};function ln(D,X,de){var we="__on"+D,Pe=D.indexOf("."),Re=an;Pe>0&&(D=D.slice(0,Pe));var Ke=Yn.get(D);Ke&&(D=Ke,Re=wn);function We(){var bt=this[we];bt&&(this.removeEventListener(D,bt,bt.$),delete this[we])}function rt(){var bt=Re(X,x(arguments));We.call(this),this.addEventListener(D,this[we]=bt,bt.$=de),bt._=X}function vt(){var bt=new RegExp("^__on([^.]+)"+y.requote(D)+"$"),Zt;for(var Ut in this)if(Zt=Ut.match(bt)){var gn=this[Ut];this.removeEventListener(Zt[1],gn,gn.$),delete this[Ut]}}return Pe?X?rt:We:X?xe:vt}var Yn=y.map({mouseenter:"mouseover",mouseleave:"mouseout"});k&&Yn.forEach(function(D){"on"+D in k&&Yn.remove(D)});function an(D,X){return function(de){var we=y.event;y.event=de,X[0]=this.__data__;try{D.apply(this,X)}finally{y.event=we}}}function wn(D,X){var de=an(D,X);return function(we){var Pe=this,Re=we.relatedTarget;(!Re||Re!==Pe&&!(Re.compareDocumentPosition(Pe)&8))&&de.call(Pe,we)}}var Xn,Un=0;function Sn(D){var X=".dragsuppress-"+ ++Un,de="click"+X,we=y.select(w(D)).on("touchmove"+X,$e).on("dragstart"+X,$e).on("selectstart"+X,$e);if(Xn==null&&(Xn="onselectstart"in D?!1:G(D.style,"userSelect")),Xn){var Pe=C(D).style,Re=Pe[Xn];Pe[Xn]="none"}return function(Ke){if(we.on(X,null),Xn&&(Pe[Xn]=Re),Ke){var We=function(){we.on(de,null)};we.on(de,function(){$e(),We()},!0),setTimeout(We,0)}}}y.mouse=function(D){return ut(D,Ze())};var it=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ut(D,X){X.changedTouches&&(X=X.changedTouches[0]);var de=D.ownerSVGElement||D;if(de.createSVGPoint){var we=de.createSVGPoint();if(it<0){var Pe=w(D);if(Pe.scrollX||Pe.scrollY){de=y.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var Re=de[0][0].getScreenCTM();it=!(Re.f||Re.e),de.remove()}}return it?(we.x=X.pageX,we.y=X.pageY):(we.x=X.clientX,we.y=X.clientY),we=we.matrixTransform(D.getScreenCTM().inverse()),[we.x,we.y]}var Ke=D.getBoundingClientRect();return[X.clientX-Ke.left-D.clientLeft,X.clientY-Ke.top-D.clientTop]}y.touch=function(D,X,de){if(arguments.length<3&&(de=X,X=Ze().changedTouches),X){for(var we=0,Pe=X.length,Re;we<Pe;++we)if((Re=X[we]).identifier===de)return ut(D,Re)}},y.behavior.drag=function(){var D=De(Pe,"drag","dragstart","dragend"),X=null,de=Re(xe,y.mouse,w,"mousemove","mouseup"),we=Re(xt,y.touch,ne,"touchmove","touchend");function Pe(){this.on("mousedown.drag",de).on("touchstart.drag",we)}function Re(Ke,We,rt,vt,bt){return function(){var Zt=this,Ut=y.event.target.correspondingElement||y.event.target,gn=Zt.parentNode,An=D.of(Zt,arguments),jt=0,tn=Ke(),hn=".drag"+(tn==null?"":"-"+tn),_n,Pn=y.select(rt(Ut)).on(vt+hn,Zr).on(bt+hn,Jr),yn=Sn(Ut),cr=We(gn,tn);X?(_n=X.apply(Zt,arguments),_n=[_n.x-cr[0],_n.y-cr[1]]):_n=[0,0],An({type:"dragstart"});function Zr(){var Ar=We(gn,tn),no,fo;Ar&&(no=Ar[0]-cr[0],fo=Ar[1]-cr[1],jt|=no|fo,cr=Ar,An({type:"drag",x:Ar[0]+_n[0],y:Ar[1]+_n[1],dx:no,dy:fo}))}function Jr(){We(gn,tn)&&(Pn.on(vt+hn,null).on(bt+hn,null),yn(jt),An({type:"dragend"}))}}}return Pe.origin=function(Ke){return arguments.length?(X=Ke,Pe):X},y.rebind(Pe,D,"on")};function xt(){return y.event.changedTouches[0].identifier}y.touches=function(D,X){return arguments.length<2&&(X=Ze().touches),X?x(X).map(function(de){var we=ut(D,de);return we.identifier=de.identifier,we}):[]};var gt=1e-6,Dt=gt*gt,He=Math.PI,at=2*He,dt=at-gt,mt=He/2,Tt=He/180,Pt=180/He;function dn(D,X,de){return(X[0]-D[0])*(de[1]-D[1])-(X[1]-D[1])*(de[0]-D[0])}function nn(D){return D>1?mt:D<-1?-mt:Math.asin(D)}function Wt(D){return((D=Math.exp(D))-1/D)/2}function Rt(D){return((D=Math.exp(D))+1/D)/2}function fn(D){return((D=Math.exp(2*D))-1)/(D+1)}var Hn=Math.SQRT2,nr=2,Er=4;y.interpolateZoom=function(D,X){var de=D[0],we=D[1],Pe=D[2],Re=X[0],Ke=X[1],We=X[2],rt=Re-de,vt=Ke-we,bt=rt*rt+vt*vt,Zt,Ut;if(bt<Dt)Ut=Math.log(We/Pe)/Hn,Zt=function(_n){return[de+_n*rt,we+_n*vt,Pe*Math.exp(Hn*_n*Ut)]};else{var gn=Math.sqrt(bt),An=(We*We-Pe*Pe+Er*bt)/(2*Pe*nr*gn),jt=(We*We-Pe*Pe-Er*bt)/(2*We*nr*gn),tn=Math.log(Math.sqrt(An*An+1)-An),hn=Math.log(Math.sqrt(jt*jt+1)-jt);Ut=(hn-tn)/Hn,Zt=function(_n){var Pn=_n*Ut,yn=Rt(tn),cr=Pe/(nr*gn)*(yn*fn(Hn*Pn+tn)-Wt(tn));return[de+cr*rt,we+cr*vt,Pe*yn/Rt(Hn*Pn+tn)]}}return Zt.duration=Ut*1e3,Zt},y.behavior.zoom=function(){var D={x:0,y:0,k:1},X,de,we,Pe=[960,500],Re=zt,Ke=250,We=0,rt="mousedown.zoom",vt="mousemove.zoom",bt="mouseup.zoom",Zt,Ut="touchstart.zoom",gn,An=De(Pn,"zoomstart","zoom","zoomend"),jt,tn,hn,_n;Wn||(Wn="onwheel"in k?(vr=function(){return-y.event.deltaY*(y.event.deltaMode?120:1)},"wheel"):"onmousewheel"in k?(vr=function(){return y.event.wheelDelta},"mousewheel"):(vr=function(){return-y.event.detail},"MozMousePixelScroll"));function Pn(Lr){Lr.on(rt,go).on(Wn+".zoom",ti).on("dblclick.zoom",ba).on(Ut,js)}Pn.event=function(Lr){Lr.each(function(){var Do=An.of(this,arguments),ms=D;Ld?y.select(this).transition().each("start.zoom",function(){D=this.__chart__||{x:0,y:0,k:1},fo(Do)}).tween("zoom:zoom",function(){var _s=Pe[0],Ba=Pe[1],di=de?de[0]:_s/2,Yi=de?de[1]:Ba/2,$i=y.interpolateZoom([(di-D.x)/D.k,(Yi-D.y)/D.k,_s/D.k],[(di-ms.x)/ms.k,(Yi-ms.y)/ms.k,_s/ms.k]);return function(Uc){var Ki=$i(Uc),kc=_s/Ki[2];this.__chart__=D={x:di-Ki[0]*kc,y:Yi-Ki[1]*kc,k:kc},ts(Do)}}).each("interrupt.zoom",function(){xo(Do)}).each("end.zoom",function(){xo(Do)}):(this.__chart__=D,fo(Do),ts(Do),xo(Do))})},Pn.translate=function(Lr){return arguments.length?(D={x:+Lr[0],y:+Lr[1],k:D.k},no(),Pn):[D.x,D.y]},Pn.scale=function(Lr){return arguments.length?(D={x:D.x,y:D.y,k:null},Zr(+Lr),no(),Pn):D.k},Pn.scaleExtent=function(Lr){return arguments.length?(Re=Lr==null?zt:[+Lr[0],+Lr[1]],Pn):Re},Pn.center=function(Lr){return arguments.length?(we=Lr&&[+Lr[0],+Lr[1]],Pn):we},Pn.size=function(Lr){return arguments.length?(Pe=Lr&&[+Lr[0],+Lr[1]],Pn):Pe},Pn.duration=function(Lr){return arguments.length?(Ke=+Lr,Pn):Ke},Pn.x=function(Lr){return arguments.length?(tn=Lr,jt=Lr.copy(),D={x:0,y:0,k:1},Pn):tn},Pn.y=function(Lr){return arguments.length?(_n=Lr,hn=Lr.copy(),D={x:0,y:0,k:1},Pn):_n};function yn(Lr){return[(Lr[0]-D.x)/D.k,(Lr[1]-D.y)/D.k]}function cr(Lr){return[Lr[0]*D.k+D.x,Lr[1]*D.k+D.y]}function Zr(Lr){D.k=Math.max(Re[0],Math.min(Re[1],Lr))}function Jr(Lr,Do){Do=cr(Do),D.x+=Lr[0]-Do[0],D.y+=Lr[1]-Do[1]}function Ar(Lr,Do,ms,_s){Lr.__chart__={x:D.x,y:D.y,k:D.k},Zr(Math.pow(2,_s)),Jr(de=Do,ms),Lr=y.select(Lr),Ke>0&&(Lr=Lr.transition().duration(Ke)),Lr.call(Pn.event)}function no(){tn&&tn.domain(jt.range().map(function(Lr){return(Lr-D.x)/D.k}).map(jt.invert)),_n&&_n.domain(hn.range().map(function(Lr){return(Lr-D.y)/D.k}).map(hn.invert))}function fo(Lr){We++||Lr({type:"zoomstart"})}function ts(Lr){no(),Lr({type:"zoom",scale:D.k,translate:[D.x,D.y]})}function xo(Lr){--We||(Lr({type:"zoomend"}),de=null)}function go(){var Lr=this,Do=An.of(Lr,arguments),ms=0,_s=y.select(w(Lr)).on(vt,Yi).on(bt,$i),Ba=yn(y.mouse(Lr)),di=Sn(Lr);rc.call(Lr),fo(Do);function Yi(){ms=1,Jr(y.mouse(Lr),Ba),ts(Do)}function $i(){_s.on(vt,null).on(bt,null),di(ms),xo(Do)}}function js(){var Lr=this,Do=An.of(Lr,arguments),ms={},_s=0,Ba,di=".zoom-"+y.event.changedTouches[0].identifier,Yi="touchmove"+di,$i="touchend"+di,Uc=[],Ki=y.select(Lr),kc=Sn(Lr);ea(),fo(Do),Ki.on(rt,null).on(Ut,ea);function Hl(){var Ul=y.touches(Lr);return Ba=D.k,Ul.forEach(function(Li){Li.identifier in ms&&(ms[Li.identifier]=yn(Li))}),Ul}function ea(){var Ul=y.event.target;y.select(Ul).on(Yi,Ku).on($i,Df),Uc.push(Ul);for(var Li=y.event.changedTouches,Wl=0,Ii=Li.length;Wl<Ii;++Wl)ms[Li[Wl].identifier]=null;var ta=Hl(),Ac=Date.now();if(ta.length===1){if(Ac-gn<500){var Nd=ta[0];Ar(Lr,Nd,ms[Nd.identifier],Math.floor(Math.log(D.k)/Math.LN2)+1),$e()}gn=Ac}else if(ta.length>1){var Nd=ta[0],Ju=ta[1],Om=Nd[0]-Ju[0],Bd=Nd[1]-Ju[1];_s=Om*Om+Bd*Bd}}function Ku(){var Ul=y.touches(Lr),Li,Wl,Ii,ta;rc.call(Lr);for(var Ac=0,Nd=Ul.length;Ac<Nd;++Ac,ta=null)if(Ii=Ul[Ac],ta=ms[Ii.identifier]){if(Wl)break;Li=Ii,Wl=ta}if(ta){var Ju=(Ju=Ii[0]-Li[0])*Ju+(Ju=Ii[1]-Li[1])*Ju,Om=_s&&Math.sqrt(Ju/_s);Li=[(Li[0]+Ii[0])/2,(Li[1]+Ii[1])/2],Wl=[(Wl[0]+ta[0])/2,(Wl[1]+ta[1])/2],Zr(Om*Ba)}gn=null,Jr(Li,Wl),ts(Do)}function Df(){if(y.event.touches.length){for(var Ul=y.event.changedTouches,Li=0,Wl=Ul.length;Li<Wl;++Li)delete ms[Ul[Li].identifier];for(var Ii in ms)return void Hl()}y.selectAll(Uc).on(di,null),Ki.on(rt,go).on(Ut,js),kc(),xo(Do)}}function ti(){var Lr=An.of(this,arguments);Zt?clearTimeout(Zt):(rc.call(this),X=yn(de=we||y.mouse(this)),fo(Lr)),Zt=setTimeout(function(){Zt=null,xo(Lr)},50),$e(),Zr(Math.pow(2,vr()*.002)*D.k),Jr(de,X),ts(Lr)}function ba(){var Lr=y.mouse(this),Do=Math.log(D.k)/Math.LN2;Ar(this,Lr,yn(Lr),y.event.shiftKey?Math.ceil(Do)-1:Math.floor(Do)+1)}return y.rebind(Pn,An,"on")};var zt=[0,1/0],vr,Wn;y.color=Br;function Br(){}Br.prototype.toString=function(){return this.rgb()+""},y.hsl=kr;function kr(D,X,de){return this instanceof kr?(this.h=+D,this.s=+X,void(this.l=+de)):arguments.length<2?D instanceof kr?new kr(D.h,D.s,D.l):Jt(""+D,rn,kr):new kr(D,X,de)}var or=kr.prototype=new Br;or.brighter=function(D){return D=Math.pow(.7,arguments.length?D:1),new kr(this.h,this.s,this.l/D)},or.darker=function(D){return D=Math.pow(.7,arguments.length?D:1),new kr(this.h,this.s,D*this.l)},or.rgb=function(){return jr(this.h,this.s,this.l)};function jr(D,X,de){var we,Pe;D=isNaN(D)?0:(D%=360)<0?D+360:D,X=isNaN(X)||X<0?0:X>1?1:X,de=de<0?0:de>1?1:de,Pe=de<=.5?de*(1+X):de+X-de*X,we=2*de-Pe;function Re(We){return We>360?We-=360:We<0&&(We+=360),We<60?we+(Pe-we)*We/60:We<180?Pe:We<240?we+(Pe-we)*(240-We)/60:we}function Ke(We){return Math.round(Re(We)*255)}return new Ht(Ke(D+120),Ke(D),Ke(D-120))}y.hcl=_r;function _r(D,X,de){return this instanceof _r?(this.h=+D,this.c=+X,void(this.l=+de)):arguments.length<2?D instanceof _r?new _r(D.h,D.c,D.l):D instanceof sr?St(D.l,D.a,D.b):St((D=Tn((D=y.rgb(D)).r,D.g,D.b)).l,D.a,D.b):new _r(D,X,de)}var Rn=_r.prototype=new Br;Rn.brighter=function(D){return new _r(this.h,this.c,Math.min(100,this.l+Sr*(arguments.length?D:1)))},Rn.darker=function(D){return new _r(this.h,this.c,Math.max(0,this.l-Sr*(arguments.length?D:1)))},Rn.rgb=function(){return xr(this.h,this.c,this.l).rgb()};function xr(D,X,de){return isNaN(D)&&(D=0),isNaN(X)&&(X=0),new sr(de,Math.cos(D*=Tt)*X,Math.sin(D)*X)}y.lab=sr;function sr(D,X,de){return this instanceof sr?(this.l=+D,this.a=+X,void(this.b=+de)):arguments.length<2?D instanceof sr?new sr(D.l,D.a,D.b):D instanceof _r?xr(D.h,D.c,D.l):Tn((D=Ht(D)).r,D.g,D.b):new sr(D,X,de)}var Sr=18,ao=.95047,Oo=1,wr=1.08883,Fe=sr.prototype=new Br;Fe.brighter=function(D){return new sr(Math.min(100,this.l+Sr*(arguments.length?D:1)),this.a,this.b)},Fe.darker=function(D){return new sr(Math.max(0,this.l-Sr*(arguments.length?D:1)),this.a,this.b)},Fe.rgb=function(){return Ee(this.l,this.a,this.b)};function Ee(D,X,de){var we=(D+16)/116,Pe=we+X/500,Re=we-de/200;return Pe=Ct(Pe)*ao,we=Ct(we)*Oo,Re=Ct(Re)*wr,new Ht(Ft(3.2404542*Pe-1.5371385*we-.4985314*Re),Ft(-.969266*Pe+1.8760108*we+.041556*Re),Ft(.0556434*Pe-.2040259*we+1.0572252*Re))}function St(D,X,de){return D>0?new _r(Math.atan2(de,X)*Pt,Math.sqrt(X*X+de*de),D):new _r(NaN,NaN,D)}function Ct(D){return D>.206893034?D*D*D:(D-.13793103448275862)/7.787037}function Lt(D){return D>.008856?Math.pow(D,.3333333333333333):7.787037*D+.13793103448275862}function Ft(D){return Math.round(255*(D<=.00304?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055))}y.rgb=Ht;function Ht(D,X,de){return this instanceof Ht?(this.r=~~D,this.g=~~X,void(this.b=~~de)):arguments.length<2?D instanceof Ht?new Ht(D.r,D.g,D.b):Jt(""+D,Ht,jr):new Ht(D,X,de)}function $t(D){return new Ht(D>>16,D>>8&255,D&255)}function Mt(D){return $t(D)+""}var en=Ht.prototype=new Br;en.brighter=function(D){D=Math.pow(.7,arguments.length?D:1);var X=this.r,de=this.g,we=this.b,Pe=30;return!X&&!de&&!we?new Ht(Pe,Pe,Pe):(X&&X<Pe&&(X=Pe),de&&de<Pe&&(de=Pe),we&&we<Pe&&(we=Pe),new Ht(Math.min(255,X/D),Math.min(255,de/D),Math.min(255,we/D)))},en.darker=function(D){return D=Math.pow(.7,arguments.length?D:1),new Ht(D*this.r,D*this.g,D*this.b)},en.hsl=function(){return rn(this.r,this.g,this.b)},en.toString=function(){return"#"+un(this.r)+un(this.g)+un(this.b)};function un(D){return D<16?"0"+Math.max(0,D).toString(16):Math.min(255,D).toString(16)}function Jt(D,X,de){var we=0,Pe=0,Re=0,Ke,We,rt;if(Ke=/([a-z]+)\((.*)\)/.exec(D=D.toLowerCase()),Ke)switch(We=Ke[2].split(","),Ke[1]){case"hsl":return de(parseFloat(We[0]),parseFloat(We[1])/100,parseFloat(We[2])/100);case"rgb":return X(pn(We[0]),pn(We[1]),pn(We[2]))}return(rt=Jn.get(D))?X(rt.r,rt.g,rt.b):(D!=null&&D.charAt(0)==="#"&&!isNaN(rt=parseInt(D.slice(1),16))&&(D.length===4?(we=(rt&3840)>>4,we=we>>4|we,Pe=rt&240,Pe=Pe>>4|Pe,Re=rt&15,Re=Re<<4|Re):D.length===7&&(we=(rt&16711680)>>16,Pe=(rt&65280)>>8,Re=rt&255)),X(we,Pe,Re))}function rn(D,X,de){var we=Math.min(D/=255,X/=255,de/=255),Pe=Math.max(D,X,de),Re=Pe-we,Ke,We,rt=(Pe+we)/2;return Re?(We=rt<.5?Re/(Pe+we):Re/(2-Pe-we),D==Pe?Ke=(X-de)/Re+(X<de?6:0):X==Pe?Ke=(de-D)/Re+2:Ke=(D-X)/Re+4,Ke*=60):(Ke=NaN,We=rt>0&&rt<1?0:Ke),new kr(Ke,We,rt)}function Tn(D,X,de){D=On(D),X=On(X),de=On(de);var we=Lt((.4124564*D+.3575761*X+.1804375*de)/ao),Pe=Lt((.2126729*D+.7151522*X+.072175*de)/Oo),Re=Lt((.0193339*D+.119192*X+.9503041*de)/wr);return sr(116*Pe-16,500*(we-Pe),200*(Pe-Re))}function On(D){return(D/=255)<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function pn(D){var X=parseFloat(D);return D.charAt(D.length-1)==="%"?Math.round(X*2.55):X}var Jn=y.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jn.forEach(function(D,X){Jn.set(D,$t(X))});function Fn(D){return typeof D=="function"?D:function(){return D}}y.functor=Fn,y.xhr=zr(ne);function zr(D){return function(X,de,we){return arguments.length===2&&typeof de=="function"&&(we=de,de=null),dr(X,de,D,we)}}function dr(D,X,de,we){var Pe={},Re=y.dispatch("beforesend","progress","load","error"),Ke={},We=new XMLHttpRequest,rt=null;self.XDomainRequest&&!("withCredentials"in We)&&/^(http(s)?:)?\/\//.test(D)&&(We=new XDomainRequest),"onload"in We?We.onload=We.onerror=vt:We.onreadystatechange=function(){We.readyState>3&&vt()};function vt(){var bt=We.status,Zt;if(!bt&&ar(We)||bt>=200&&bt<300||bt===304){try{Zt=de.call(Pe,We)}catch(Ut){Re.error.call(Pe,Ut);return}Re.load.call(Pe,Zt)}else Re.error.call(Pe,We)}return We.onprogress=function(bt){var Zt=y.event;y.event=bt;try{Re.progress.call(Pe,We)}finally{y.event=Zt}},Pe.header=function(bt,Zt){return bt=(bt+"").toLowerCase(),arguments.length<2?Ke[bt]:(Zt==null?delete Ke[bt]:Ke[bt]=Zt+"",Pe)},Pe.mimeType=function(bt){return arguments.length?(X=bt==null?null:bt+"",Pe):X},Pe.responseType=function(bt){return arguments.length?(rt=bt,Pe):rt},Pe.response=function(bt){return de=bt,Pe},["get","post"].forEach(function(bt){Pe[bt]=function(){return Pe.send.apply(Pe,[bt].concat(x(arguments)))}}),Pe.send=function(bt,Zt,Ut){if(arguments.length===2&&typeof Zt=="function"&&(Ut=Zt,Zt=null),We.open(bt,D,!0),X!=null&&!("accept"in Ke)&&(Ke.accept=X+",*/*"),We.setRequestHeader)for(var gn in Ke)We.setRequestHeader(gn,Ke[gn]);return X!=null&&We.overrideMimeType&&We.overrideMimeType(X),rt!=null&&(We.responseType=rt),Ut!=null&&Pe.on("error",Ut).on("load",function(An){Ut(null,An)}),Re.beforesend.call(Pe,We),We.send(Zt??null),Pe},Pe.abort=function(){return We.abort(),Pe},y.rebind(Pe,Re,"on"),we==null?Pe:Pe.get(Hr(we))}function Hr(D){return D.length===1?function(X,de){D(X==null?de:null)}:D}function ar(D){var X=D.responseType;return X&&X!=="text"?D.response:D.responseText}y.dsv=function(D,X){var de=new RegExp('["'+D+`
]`),we=D.charCodeAt(0);function Pe(vt,bt,Zt){arguments.length<3&&(Zt=bt,bt=null);var Ut=dr(vt,X,bt==null?Re:Ke(bt),Zt);return Ut.row=function(gn){return arguments.length?Ut.response((bt=gn)==null?Re:Ke(gn)):bt},Ut}function Re(vt){return Pe.parse(vt.responseText)}function Ke(vt){return function(bt){return Pe.parse(bt.responseText,vt)}}Pe.parse=function(vt,bt){var Zt;return Pe.parseRows(vt,function(Ut,gn){if(Zt)return Zt(Ut,gn-1);var An=function(jt){for(var tn={},hn=Ut.length,_n=0;_n<hn;++_n)tn[Ut[_n]]=jt[_n];return tn};Zt=bt?function(jt,tn){return bt(An(jt),tn)}:An})},Pe.parseRows=function(vt,bt){var Zt={},Ut={},gn=[],An=vt.length,jt=0,tn=0,hn,_n;function Pn(){if(jt>=An)return Ut;if(_n)return _n=!1,Zt;var cr=jt;if(vt.charCodeAt(cr)===34){for(var Zr=cr;Zr++<An;)if(vt.charCodeAt(Zr)===34){if(vt.charCodeAt(Zr+1)!==34)break;++Zr}jt=Zr+2;var Jr=vt.charCodeAt(Zr+1);return Jr===13?(_n=!0,vt.charCodeAt(Zr+2)===10&&++jt):Jr===10&&(_n=!0),vt.slice(cr+1,Zr).replace(/""/g,'"')}for(;jt<An;){var Jr=vt.charCodeAt(jt++),Ar=1;if(Jr===10)_n=!0;else if(Jr===13)_n=!0,vt.charCodeAt(jt)===10&&(++jt,++Ar);else if(Jr!==we)continue;return vt.slice(cr,jt-Ar)}return vt.slice(cr)}for(;(hn=Pn())!==Ut;){for(var yn=[];hn!==Zt&&hn!==Ut;)yn.push(hn),hn=Pn();bt&&(yn=bt(yn,tn++))==null||gn.push(yn)}return gn},Pe.format=function(vt){if(Array.isArray(vt[0]))return Pe.formatRows(vt);var bt=new ge,Zt=[];return vt.forEach(function(Ut){for(var gn in Ut)bt.has(gn)||Zt.push(bt.add(gn))}),[Zt.map(rt).join(D)].concat(vt.map(function(Ut){return Zt.map(function(gn){return rt(Ut[gn])}).join(D)})).join(`
`)},Pe.formatRows=function(vt){return vt.map(We).join(`
`)};function We(vt){return vt.map(rt).join(D)}function rt(vt){return de.test(vt)?'"'+vt.replace(/\"/g,'""')+'"':vt}return Pe},y.csv=y.dsv(",","text/csv"),y.tsv=y.dsv("	","text/tab-separated-values");var ur,qr,to,ko,Es=this[G(this,"requestAnimationFrame")]||function(D){setTimeout(D,17)};y.timer=function(){So.apply(this,arguments)};function So(D,X,de){var we=arguments.length;we<2&&(X=0),we<3&&(de=Date.now());var Pe=de+X,Re={c:D,t:Pe,n:null};return qr?qr.n=Re:ur=Re,qr=Re,to||(ko=clearTimeout(ko),to=1,Es(Ko)),Re}function Ko(){var D=ds(),X=qs()-D;X>24?(isFinite(X)&&(clearTimeout(ko),ko=setTimeout(Ko,X)),to=0):(to=1,Es(Ko))}y.timer.flush=function(){ds(),qs()};function ds(){for(var D=Date.now(),X=ur;X;)D>=X.t&&X.c(D-X.t)&&(X.c=null),X=X.n;return D}function qs(){for(var D,X=ur,de=1/0;X;)X.c?(X.t<de&&(de=X.t),X=(D=X).n):X=D?D.n=X.n:ur=X.n;return qr=D,de}y.round=function(D,X){return X?Math.round(D*(X=Math.pow(10,X)))/X:Math.round(D)},y.geom={};function es(D){return D[0]}function Xs(D){return D[1]}y.geom.hull=function(D){var X=es,de=Xs;if(arguments.length)return we(D);function we(Pe){if(Pe.length<3)return[];var Re=Fn(X),Ke=Fn(de),We,rt=Pe.length,vt=[],bt=[];for(We=0;We<rt;We++)vt.push([+Re.call(this,Pe[We],We),+Ke.call(this,Pe[We],We),We]);for(vt.sort(vc),We=0;We<rt;We++)bt.push([vt[We][0],-vt[We][1]]);var Zt=Wa(vt),Ut=Wa(bt),gn=Ut[0]===Zt[0],An=Ut[Ut.length-1]===Zt[Zt.length-1],jt=[];for(We=Zt.length-1;We>=0;--We)jt.push(Pe[vt[Zt[We]][2]]);for(We=+gn;We<Ut.length-An;++We)jt.push(Pe[vt[Ut[We]][2]]);return jt}return we.x=function(Pe){return arguments.length?(X=Pe,we):X},we.y=function(Pe){return arguments.length?(de=Pe,we):de},we};function Wa(D){for(var X=D.length,de=[0,1],we=2,Pe=2;Pe<X;Pe++){for(;we>1&&dn(D[de[we-2]],D[de[we-1]],D[Pe])<=0;)--we;de[we++]=Pe}return de.slice(0,we)}function vc(D,X){return D[0]-X[0]||D[1]-X[1]}y.geom.polygon=function(D){return re(D,ii),D};var ii=y.geom.polygon.prototype=[];ii.area=function(){for(var D=-1,X=this.length,de,we=this[X-1],Pe=0;++D<X;)de=we,we=this[D],Pe+=de[1]*we[0]-de[0]*we[1];return Pe*.5},ii.centroid=function(D){var X=-1,de=this.length,we=0,Pe=0,Re,Ke=this[de-1],We;for(arguments.length||(D=-1/(6*this.area()));++X<de;)Re=Ke,Ke=this[X],We=Re[0]*Ke[1]-Ke[0]*Re[1],we+=(Re[0]+Ke[0])*We,Pe+=(Re[1]+Ke[1])*We;return[we*D,Pe*D]},ii.clip=function(D){for(var X,de=Js(D),we=-1,Pe=this.length-Js(this),Re,Ke,We=this[Pe-1],rt,vt,bt;++we<Pe;){for(X=D.slice(),D.length=0,rt=this[we],vt=X[(Ke=X.length-de)-1],Re=-1;++Re<Ke;)bt=X[Re],tu(bt,We,rt)?(tu(vt,We,rt)||D.push(Na(vt,bt,We,rt)),D.push(bt)):tu(vt,We,rt)&&D.push(Na(vt,bt,We,rt)),vt=bt;de&&D.push(D[0]),We=rt}return D};function tu(D,X,de){return(de[0]-X[0])*(D[1]-X[1])<(de[1]-X[1])*(D[0]-X[0])}function Na(D,X,de,we){var Pe=D[0],Re=de[0],Ke=X[0]-Pe,We=we[0]-Re,rt=D[1],vt=de[1],bt=X[1]-rt,Zt=we[1]-vt,Ut=(We*(rt-vt)-Zt*(Pe-Re))/(Zt*Ke-We*bt);return[Pe+Ut*Ke,rt+Ut*bt]}function Js(D){var X=D[0],de=D[D.length-1];return!(X[0]-de[0]||X[1]-de[1])}var ya,ra,nu,Dr=[],yc,oa,Ri=[];function Md(){Rd(this),this.edge=this.site=this.circle=null}function sa(D){var X=Dr.pop()||new Md;return X.site=D,X}function bu(D){yl(D),nu.remove(D),Dr.push(D),Rd(D)}function Ed(D){var X=D.circle,de=X.x,we=X.cy,Pe={x:de,y:we},Re=D.P,Ke=D.N,We=[D];bu(D);for(var rt=Re;rt.circle&&E(de-rt.circle.x)<gt&&E(we-rt.circle.cy)<gt;)Re=rt.P,We.unshift(rt),bu(rt),rt=Re;We.unshift(rt),yl(rt);for(var vt=Ke;vt.circle&&E(de-vt.circle.x)<gt&&E(we-vt.circle.cy)<gt;)Ke=vt.N,We.push(vt),bu(vt),vt=Ke;We.push(vt),yl(vt);var bt=We.length,Zt;for(Zt=1;Zt<bt;++Zt)vt=We[Zt],rt=We[Zt-1],zu(vt.edge,rt.site,vt.site,Pe);rt=We[0],vt=We[bt-1],vt.edge=Za(rt.site,vt.site,null,Pe),Fa(rt),Fa(vt)}function Ou(D){for(var X=D.x,de=D.y,we,Pe,Re,Ke,We=nu._;We;)if(Re=Po(We,de)-X,Re>gt)We=We.L;else if(Ke=X-zi(We,de),Ke>gt){if(!We.R){we=We;break}We=We.R}else{Re>-gt?(we=We.P,Pe=We):Ke>-gt?(we=We,Pe=We.N):we=Pe=We;break}var rt=sa(D);if(nu.insert(we,rt),!(!we&&!Pe)){if(we===Pe){yl(we),Pe=sa(we.site),nu.insert(rt,Pe),rt.edge=Pe.edge=Za(we.site,rt.site),Fa(we),Fa(Pe);return}if(!Pe){rt.edge=Za(we.site,rt.site);return}yl(we),yl(Pe);var vt=we.site,bt=vt.x,Zt=vt.y,Ut=D.x-bt,gn=D.y-Zt,An=Pe.site,jt=An.x-bt,tn=An.y-Zt,hn=2*(Ut*tn-gn*jt),_n=Ut*Ut+gn*gn,Pn=jt*jt+tn*tn,yn={x:(tn*_n-gn*Pn)/hn+bt,y:(Ut*Pn-jt*_n)/hn+Zt};zu(Pe.edge,vt,An,yn),rt.edge=Za(vt,D,null,yn),Pe.edge=Za(D,An,null,yn),Fa(we),Fa(Pe)}}function Po(D,X){var de=D.site,we=de.x,Pe=de.y,Re=Pe-X;if(!Re)return we;var Ke=D.P;if(!Ke)return-1/0;de=Ke.site;var We=de.x,rt=de.y,vt=rt-X;if(!vt)return We;var bt=We-we,Zt=1/Re-1/vt,Ut=bt/vt;return Zt?(-Ut+Math.sqrt(Ut*Ut-2*Zt*(bt*bt/(-2*vt)-rt+vt/2+Pe-Re/2)))/Zt+we:(we+We)/2}function zi(D,X){var de=D.N;if(de)return Po(de,X);var we=D.site;return we.y===X?we.x:1/0}function fr(D){this.site=D,this.edges=[]}fr.prototype.prepare=function(){for(var D=this.edges,X=D.length,de;X--;)de=D[X].edge,(!de.b||!de.a)&&D.splice(X,1);return D.sort(xi),D.length};function Qa(D){for(var X=D[0][0],de=D[1][0],we=D[0][1],Pe=D[1][1],Re,Ke,We,rt,vt=ra,bt=vt.length,Zt,Ut,gn,An,jt,tn;bt--;)if(Zt=vt[bt],!(!Zt||!Zt.prepare()))for(gn=Zt.edges,An=gn.length,Ut=0;Ut<An;)tn=gn[Ut].end(),We=tn.x,rt=tn.y,jt=gn[++Ut%An].start(),Re=jt.x,Ke=jt.y,(E(We-Re)>gt||E(rt-Ke)>gt)&&(gn.splice(Ut,0,new _d(Vu(Zt.site,tn,E(We-X)<gt&&Pe-rt>gt?{x:X,y:E(Re-X)<gt?Ke:Pe}:E(rt-Pe)<gt&&de-We>gt?{x:E(Ke-Pe)<gt?Re:de,y:Pe}:E(We-de)<gt&&rt-we>gt?{x:de,y:E(Re-de)<gt?Ke:we}:E(rt-we)<gt&&We-X>gt?{x:E(Ke-we)<gt?Re:X,y:we}:null),Zt.site,null)),++An)}function xi(D,X){return X.angle-D.angle}function za(){Rd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fa(D){var X=D.P,de=D.N;if(!(!X||!de)){var we=X.site,Pe=D.site,Re=de.site;if(we!==Re){var Ke=Pe.x,We=Pe.y,rt=we.x-Ke,vt=we.y-We,bt=Re.x-Ke,tn=Re.y-We,Zt=2*(rt*tn-vt*bt);if(!(Zt>=-Dt)){var Ut=rt*rt+vt*vt,gn=bt*bt+tn*tn,An=(tn*Ut-vt*gn)/Zt,jt=(rt*gn-bt*Ut)/Zt,tn=jt+We,hn=Ri.pop()||new za;hn.arc=D,hn.site=Pe,hn.x=An+Ke,hn.y=tn+Math.sqrt(An*An+jt*jt),hn.cy=tn,D.circle=hn;for(var _n=null,Pn=oa._;Pn;)if(hn.y<Pn.y||hn.y===Pn.y&&hn.x<=Pn.x)if(Pn.L)Pn=Pn.L;else{_n=Pn.P;break}else if(Pn.R)Pn=Pn.R;else{_n=Pn;break}oa.insert(_n,hn),_n||(yc=hn)}}}}function yl(D){var X=D.circle;X&&(X.P||(yc=X.N),oa.remove(X),Ri.push(X),Rd(X),D.circle=null)}function Zo(D,X,de,we){return function(Pe){var Re=Pe.a,Ke=Pe.b,We=Re.x,rt=Re.y,vt=Ke.x,bt=Ke.y,Zt=0,Ut=1,gn=vt-We,An=bt-rt,jt;if(jt=D-We,!(!gn&&jt>0)){if(jt/=gn,gn<0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}else if(gn>0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}if(jt=de-We,!(!gn&&jt<0)){if(jt/=gn,gn<0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}else if(gn>0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}if(jt=X-rt,!(!An&&jt>0)){if(jt/=An,An<0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}else if(An>0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}if(jt=we-rt,!(!An&&jt<0)){if(jt/=An,An<0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}else if(An>0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}return Zt>0&&(Pe.a={x:We+Zt*gn,y:rt+Zt*An}),Ut<1&&(Pe.b={x:We+Ut*gn,y:rt+Ut*An}),Pe}}}}}}function li(D){for(var X=ya,de=Zo(D[0][0],D[0][1],D[1][0],D[1][1]),we=X.length,Pe;we--;)Pe=X[we],(!Ka(Pe,D)||!de(Pe)||E(Pe.a.x-Pe.b.x)<gt&&E(Pe.a.y-Pe.b.y)<gt)&&(Pe.a=Pe.b=null,X.splice(we,1))}function Ka(D,X){var de=D.b;if(de)return!0;var we=D.a,Pe=X[0][0],Re=X[1][0],Ke=X[0][1],We=X[1][1],rt=D.l,vt=D.r,bt=rt.x,Zt=rt.y,Ut=vt.x,gn=vt.y,An=(bt+Ut)/2,jt=(Zt+gn)/2,tn,hn;if(gn===Zt){if(An<Pe||An>=Re)return;if(bt>Ut){if(!we)we={x:An,y:Ke};else if(we.y>=We)return;de={x:An,y:We}}else{if(!we)we={x:An,y:We};else if(we.y<Ke)return;de={x:An,y:Ke}}}else if(tn=(bt-Ut)/(gn-Zt),hn=jt-tn*An,tn<-1||tn>1)if(bt>Ut){if(!we)we={x:(Ke-hn)/tn,y:Ke};else if(we.y>=We)return;de={x:(We-hn)/tn,y:We}}else{if(!we)we={x:(We-hn)/tn,y:We};else if(we.y<Ke)return;de={x:(Ke-hn)/tn,y:Ke}}else if(Zt<gn){if(!we)we={x:Pe,y:tn*Pe+hn};else if(we.x>=Re)return;de={x:Re,y:tn*Re+hn}}else{if(!we)we={x:Re,y:tn*Re+hn};else if(we.x<Pe)return;de={x:Pe,y:tn*Pe+hn}}return D.a=we,D.b=de,!0}function Gf(D,X){this.l=D,this.r=X,this.a=this.b=null}function Za(D,X,de,we){var Pe=new Gf(D,X);return ya.push(Pe),de&&zu(Pe,D,X,de),we&&zu(Pe,X,D,we),ra[D.i].edges.push(new _d(Pe,D,X)),ra[X.i].edges.push(new _d(Pe,X,D)),Pe}function Vu(D,X,de){var we=new Gf(D,null);return we.a=X,we.b=de,ya.push(we),we}function zu(D,X,de,we){!D.a&&!D.b?(D.a=we,D.l=X,D.r=de):D.l===de?D.b=we:D.a=we}function _d(D,X,de){var we=D.a,Pe=D.b;this.edge=D,this.site=X,this.angle=de?Math.atan2(de.y-X.y,de.x-X.x):D.l===X?Math.atan2(Pe.x-we.x,we.y-Pe.y):Math.atan2(we.x-Pe.x,Pe.y-we.y)}_d.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Is(){this._=null}function Rd(D){D.U=D.C=D.L=D.R=D.P=D.N=null}Is.prototype={insert:function(D,X){var de,we,Pe;if(D){if(X.P=D,X.N=D.N,D.N&&(D.N.P=X),D.N=X,D.R){for(D=D.R;D.L;)D=D.L;D.L=X}else D.R=X;de=D}else this._?(D=mh(this._),X.P=null,X.N=D,D.P=D.L=X,de=D):(X.P=X.N=null,this._=X,de=null);for(X.L=X.R=null,X.U=de,X.C=!0,D=X;de&&de.C;)we=de.U,de===we.L?(Pe=we.R,Pe&&Pe.C?(de.C=Pe.C=!1,we.C=!0,D=we):(D===de.R&&(Fc(this,de),D=de,de=D.U),de.C=!1,we.C=!0,Cl(this,we))):(Pe=we.L,Pe&&Pe.C?(de.C=Pe.C=!1,we.C=!0,D=we):(D===de.L&&(Cl(this,de),D=de,de=D.U),de.C=!1,we.C=!0,Fc(this,we))),de=D.U;this._.C=!1},remove:function(D){D.N&&(D.N.P=D.P),D.P&&(D.P.N=D.N),D.N=D.P=null;var X=D.U,de,we=D.L,Pe=D.R,Re,Ke;if(we?Pe?Re=mh(Pe):Re=we:Re=Pe,X?X.L===D?X.L=Re:X.R=Re:this._=Re,we&&Pe?(Ke=Re.C,Re.C=D.C,Re.L=we,we.U=Re,Re!==Pe?(X=Re.U,Re.U=D.U,D=Re.R,X.L=D,Re.R=Pe,Pe.U=Re):(Re.U=X,X=Re,D=Re.R)):(Ke=D.C,D=Re),D&&(D.U=X),!Ke){if(D&&D.C){D.C=!1;return}do{if(D===this._)break;if(D===X.L){if(de=X.R,de.C&&(de.C=!1,X.C=!0,Fc(this,X),de=X.R),de.L&&de.L.C||de.R&&de.R.C){(!de.R||!de.R.C)&&(de.L.C=!1,de.C=!0,Cl(this,de),de=X.R),de.C=X.C,X.C=de.R.C=!1,Fc(this,X),D=this._;break}}else if(de=X.L,de.C&&(de.C=!1,X.C=!0,Cl(this,X),de=X.L),de.L&&de.L.C||de.R&&de.R.C){(!de.L||!de.L.C)&&(de.R.C=!1,de.C=!0,Fc(this,de),de=X.L),de.C=X.C,X.C=de.L.C=!1,Cl(this,X),D=this._;break}de.C=!0,D=X,X=X.U}while(!D.C);D&&(D.C=!1)}}};function Fc(D,X){var de=X,we=X.R,Pe=de.U;Pe?Pe.L===de?Pe.L=we:Pe.R=we:D._=we,we.U=Pe,de.U=we,de.R=we.L,de.R&&(de.R.U=de),we.L=de}function Cl(D,X){var de=X,we=X.L,Pe=de.U;Pe?Pe.L===de?Pe.L=we:Pe.R=we:D._=we,we.U=Pe,de.U=we,de.L=we.R,de.L&&(de.L.U=de),we.R=de}function mh(D){for(;D.L;)D=D.L;return D}function lm(D,X){var de=D.sort(Vs).pop(),we,Pe,Re;for(ya=[],ra=new Array(D.length),nu=new Is,oa=new Is;;)if(Re=yc,de&&(!Re||de.y<Re.y||de.y===Re.y&&de.x<Re.x))(de.x!==we||de.y!==Pe)&&(ra[de.i]=new fr(de),Ou(de),we=de.x,Pe=de.y),de=D.pop();else if(Re)Ed(Re.arc);else break;X&&(li(X),Qa(X));var Ke={cells:ra,edges:ya};return nu=oa=ya=ra=null,Ke}function Vs(D,X){return X.y-D.y||X.x-D.x}y.geom.voronoi=function(D){var X=es,de=Xs,we=X,Pe=de,Re=Si;if(D)return Ke(D);function Ke(rt){var vt=new Array(rt.length),bt=Re[0][0],Zt=Re[0][1],Ut=Re[1][0],gn=Re[1][1];return lm(We(rt),Re).cells.forEach(function(An,jt){var tn=An.edges,hn=An.site,_n=vt[jt]=tn.length?tn.map(function(Pn){var yn=Pn.start();return[yn.x,yn.y]}):hn.x>=bt&&hn.x<=Ut&&hn.y>=Zt&&hn.y<=gn?[[bt,gn],[Ut,gn],[Ut,Zt],[bt,Zt]]:[];_n.point=rt[jt]}),vt}function We(rt){return rt.map(function(vt,bt){return{x:Math.round(we(vt,bt)/gt)*gt,y:Math.round(Pe(vt,bt)/gt)*gt,i:bt}})}return Ke.links=function(rt){return lm(We(rt)).edges.filter(function(vt){return vt.l&&vt.r}).map(function(vt){return{source:rt[vt.l.i],target:rt[vt.r.i]}})},Ke.triangles=function(rt){var vt=[];return lm(We(rt)).cells.forEach(function(bt,Zt){for(var Ut=bt.site,gn=bt.edges.sort(xi),An=-1,jt=gn.length,tn,hn=gn[jt-1].edge,_n=hn.l===Ut?hn.r:hn.l;++An<jt;)tn=_n,hn=gn[An].edge,_n=hn.l===Ut?hn.r:hn.l,Zt<tn.i&&Zt<_n.i&&Tf(Ut,tn,_n)<0&&vt.push([rt[Zt],rt[tn.i],rt[_n.i]])}),vt},Ke.x=function(rt){return arguments.length?(we=Fn(X=rt),Ke):X},Ke.y=function(rt){return arguments.length?(Pe=Fn(de=rt),Ke):de},Ke.clipExtent=function(rt){return arguments.length?(Re=rt??Si,Ke):Re===Si?null:Re},Ke.size=function(rt){return arguments.length?Ke.clipExtent(rt&&[[0,0],rt]):Re===Si?null:Re&&Re[1]},Ke};var Si=[[-1e6,-1e6],[1e6,1e6]];function Tf(D,X,de){return(D.x-de.x)*(X.y-D.y)-(D.x-X.x)*(de.y-D.y)}y.geom.delaunay=function(D){return y.geom.voronoi().triangles(D)},y.geom.quadtree=function(D,X,de,we,Pe){var Re=es,Ke=Xs,We;if(We=arguments.length)return Re=QS,Ke=Ya,We===3&&(Pe=de,we=X,de=X=0),rt(D);function rt(vt){var bt,Zt=Fn(Re),Ut=Fn(Ke),gn,An,jt,tn,hn,_n,Pn,yn;if(X!=null)hn=X,_n=de,Pn=we,yn=Pe;else if(Pn=yn=-(hn=_n=1/0),gn=[],An=[],tn=vt.length,We)for(jt=0;jt<tn;++jt)bt=vt[jt],bt.x<hn&&(hn=bt.x),bt.y<_n&&(_n=bt.y),bt.x>Pn&&(Pn=bt.x),bt.y>yn&&(yn=bt.y),gn.push(bt.x),An.push(bt.y);else for(jt=0;jt<tn;++jt){var cr=+Zt(bt=vt[jt],jt),Zr=+Ut(bt,jt);cr<hn&&(hn=cr),Zr<_n&&(_n=Zr),cr>Pn&&(Pn=cr),Zr>yn&&(yn=Zr),gn.push(cr),An.push(Zr)}var Jr=Pn-hn,Ar=yn-_n;Jr>Ar?yn=_n+Jr:Pn=hn+Ar;function no(xo,go,js,ti,ba,Lr,Do,ms){if(!(isNaN(js)||isNaN(ti)))if(xo.leaf){var _s=xo.x,Ba=xo.y;if(_s!=null)if(E(_s-js)+E(Ba-ti)<.01)fo(xo,go,js,ti,ba,Lr,Do,ms);else{var di=xo.point;xo.x=xo.y=xo.point=null,fo(xo,di,_s,Ba,ba,Lr,Do,ms),fo(xo,go,js,ti,ba,Lr,Do,ms)}else xo.x=js,xo.y=ti,xo.point=go}else fo(xo,go,js,ti,ba,Lr,Do,ms)}function fo(xo,go,js,ti,ba,Lr,Do,ms){var _s=(ba+Do)*.5,Ba=(Lr+ms)*.5,di=js>=_s,Yi=ti>=Ba,$i=Yi<<1|di;xo.leaf=!1,xo=xo.nodes[$i]||(xo.nodes[$i]=kl()),di?ba=_s:Do=_s,Yi?Lr=Ba:ms=Ba,no(xo,go,js,ti,ba,Lr,Do,ms)}var ts=kl();if(ts.add=function(xo){no(ts,xo,+Zt(xo,++jt),+Ut(xo,jt),hn,_n,Pn,yn)},ts.visit=function(xo){Zi(xo,ts,hn,_n,Pn,yn)},ts.find=function(xo){return PO(ts,xo[0],xo[1],hn,_n,Pn,yn)},jt=-1,X==null){for(;++jt<tn;)no(ts,vt[jt],gn[jt],An[jt],hn,_n,Pn,yn);--jt}else vt.forEach(ts.add);return gn=An=vt=bt=null,ts}return rt.x=function(vt){return arguments.length?(Re=vt,rt):Re},rt.y=function(vt){return arguments.length?(Ke=vt,rt):Ke},rt.extent=function(vt){return arguments.length?(vt==null?X=de=we=Pe=null:(X=+vt[0][0],de=+vt[0][1],we=+vt[1][0],Pe=+vt[1][1]),rt):X==null?null:[[X,de],[we,Pe]]},rt.size=function(vt){return arguments.length?(vt==null?X=de=we=Pe=null:(X=de=0,we=+vt[0],Pe=+vt[1]),rt):X==null?null:[we-X,Pe-de]},rt};function QS(D){return D.x}function Ya(D){return D.y}function kl(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Zi(D,X,de,we,Pe,Re){if(!D(X,de,we,Pe,Re)){var Ke=(de+Pe)*.5,We=(we+Re)*.5,rt=X.nodes;rt[0]&&Zi(D,rt[0],de,we,Ke,We),rt[1]&&Zi(D,rt[1],Ke,we,Pe,We),rt[2]&&Zi(D,rt[2],de,We,Ke,Re),rt[3]&&Zi(D,rt[3],Ke,We,Pe,Re)}}function PO(D,X,de,we,Pe,Re,Ke){var We=1/0,rt;return function vt(bt,Zt,Ut,gn,An){if(!(Zt>Re||Ut>Ke||gn<we||An<Pe)){if(jt=bt.point){var jt,tn=X-bt.x,hn=de-bt.y,_n=tn*tn+hn*hn;if(_n<We){var Pn=Math.sqrt(We=_n);we=X-Pn,Pe=de-Pn,Re=X+Pn,Ke=de+Pn,rt=jt}}for(var yn=bt.nodes,cr=(Zt+gn)*.5,Zr=(Ut+An)*.5,Jr=X>=cr,Ar=de>=Zr,no=Ar<<1|Jr,fo=no+4;no<fo;++no)if(bt=yn[no&3])switch(no&3){case 0:vt(bt,Zt,Ut,cr,Zr);break;case 1:vt(bt,cr,Ut,gn,Zr);break;case 2:vt(bt,Zt,Zr,cr,An);break;case 3:vt(bt,cr,Zr,gn,An);break}}}(D,we,Pe,Re,Ke),rt}y.interpolateRgb=Np;function Np(D,X){D=y.rgb(D),X=y.rgb(X);var de=D.r,we=D.g,Pe=D.b,Re=X.r-de,Ke=X.g-we,We=X.b-Pe;return function(rt){return"#"+un(Math.round(de+Re*rt))+un(Math.round(we+Ke*rt))+un(Math.round(Pe+We*rt))}}y.interpolateObject=xu;function xu(D,X){var de={},we={},Pe;for(Pe in D)Pe in X?de[Pe]=bc(D[Pe],X[Pe]):we[Pe]=D[Pe];for(Pe in X)Pe in D||(we[Pe]=X[Pe]);return function(Re){for(Pe in de)we[Pe]=de[Pe](Re);return we}}y.interpolateNumber=Zu;function Zu(D,X){return D=+D,X=+X,function(de){return D*(1-de)+X*de}}y.interpolateString=Ra;function Ra(D,X){var de=Su.lastIndex=Al.lastIndex=0,we,Pe,Re,Ke=-1,We=[],rt=[];for(D=D+"",X=X+"";(we=Su.exec(D))&&(Pe=Al.exec(X));)(Re=Pe.index)>de&&(Re=X.slice(de,Re),We[Ke]?We[Ke]+=Re:We[++Ke]=Re),(we=we[0])===(Pe=Pe[0])?We[Ke]?We[Ke]+=Pe:We[++Ke]=Pe:(We[++Ke]=null,rt.push({i:Ke,x:Zu(we,Pe)})),de=Al.lastIndex;return de<X.length&&(Re=X.slice(de),We[Ke]?We[Ke]+=Re:We[++Ke]=Re),We.length<2?rt[0]?(X=rt[0].x,function(vt){return X(vt)+""}):function(){return X}:(X=rt.length,function(vt){for(var bt=0,Zt;bt<X;++bt)We[(Zt=rt[bt]).i]=Zt.x(vt);return We.join("")})}var Su=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Al=new RegExp(Su.source,"g");y.interpolate=bc;function bc(D,X){for(var de=y.interpolators.length,we;--de>=0&&!(we=y.interpolators[de](D,X)););return we}y.interpolators=[function(D,X){var de=typeof X;return(de==="string"?Jn.has(X.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(X)?Np:Ra:X instanceof Br?Np:Array.isArray(X)?Cf:de==="object"&&isNaN(X)?xu:Zu)(D,X)}],y.interpolateArray=Cf;function Cf(D,X){var de=[],we=[],Pe=D.length,Re=X.length,Ke=Math.min(D.length,X.length),We;for(We=0;We<Ke;++We)de.push(bc(D[We],X[We]));for(;We<Pe;++We)we[We]=D[We];for(;We<Re;++We)we[We]=X[We];return function(rt){for(We=0;We<Ke;++We)we[We]=de[We](rt);return we}}var ci=function(){return ne},kf=y.map({linear:ci,poly:Gv,quad:function(){return Af},cubic:function(){return Fp},sin:function(){return cy},exp:function(){return cm},circle:function(){return uy},elastic:um,back:MO,bounce:function(){return gh}}),Bp=y.map({in:ne,out:ly,"in-out":Xv,"out-in":function(D){return Xv(ly(D))}});y.ease=function(D){var X=D.indexOf("-"),de=X>=0?D.slice(0,X):D,we=X>=0?D.slice(X+1):"in";return de=kf.get(de)||ci,we=Bp.get(we)||ne,Qp(we(de.apply(null,b.call(arguments,1))))};function Qp(D){return function(X){return X<=0?0:X>=1?1:D(X)}}function ly(D){return function(X){return 1-D(1-X)}}function Xv(D){return function(X){return .5*(X<.5?D(2*X):2-D(2-2*X))}}function Af(D){return D*D}function Fp(D){return D*D*D}function Oc(D){if(D<=0)return 0;if(D>=1)return 1;var X=D*D,de=X*D;return 4*(D<.5?de:3*(D-X)+de-.75)}function Gv(D){return function(X){return Math.pow(X,D)}}function cy(D){return 1-Math.cos(D*mt)}function cm(D){return Math.pow(2,10*(D-1))}function uy(D){return 1-Math.sqrt(1-D*D)}function um(D,X){var de;return arguments.length<2&&(X=.45),arguments.length?de=X/at*Math.asin(1/D):(D=1,de=X/4),function(we){return 1+D*Math.pow(2,-10*we)*Math.sin((we-de)*at/X)}}function MO(D){return D||(D=1.70158),function(X){return X*X*((D+1)*X-D)}}function gh(D){return D<.36363636363636365?7.5625*D*D:D<.7272727272727273?7.5625*(D-=.5454545454545454)*D+.75:D<.9090909090909091?7.5625*(D-=.8181818181818182)*D+.9375:7.5625*(D-=.9545454545454546)*D+.984375}y.interpolateHcl=EO;function EO(D,X){D=y.hcl(D),X=y.hcl(X);var de=D.h,we=D.c,Pe=D.l,Re=X.h-de,Ke=X.c-we,We=X.l-Pe;return isNaN(Ke)&&(Ke=0,we=isNaN(we)?X.c:we),isNaN(Re)?(Re=0,de=isNaN(de)?X.h:de):Re>180?Re-=360:Re<-180&&(Re+=360),function(rt){return xr(de+Re*rt,we+Ke*rt,Pe+We*rt)+""}}y.interpolateHsl=_O;function _O(D,X){D=y.hsl(D),X=y.hsl(X);var de=D.h,we=D.s,Pe=D.l,Re=X.h-de,Ke=X.s-we,We=X.l-Pe;return isNaN(Ke)&&(Ke=0,we=isNaN(we)?X.s:we),isNaN(Re)?(Re=0,de=isNaN(de)?X.h:de):Re>180?Re-=360:Re<-180&&(Re+=360),function(rt){return jr(de+Re*rt,we+Ke*rt,Pe+We*rt)+""}}y.interpolateLab=RO;function RO(D,X){D=y.lab(D),X=y.lab(X);var de=D.l,we=D.a,Pe=D.b,Re=X.l-de,Ke=X.a-we,We=X.b-Pe;return function(rt){return Ee(de+Re*rt,we+Ke*rt,Pe+We*rt)+""}}y.interpolateRound=fm;function fm(D,X){return X-=D,function(de){return Math.round(D+X*de)}}y.transform=function(D){var X=k.createElementNS(y.ns.prefix.svg,"g");return(y.transform=function(de){if(de!=null){X.setAttribute("transform",de);var we=X.transform.baseVal.consolidate()}return new fy(we?we.matrix:jv)})(D)};function fy(D){var X=[D.a,D.b],de=[D.c,D.d],we=dm(X),Pe=Yt(X,de),Re=dm(Hu(de,X,-Pe))||0;X[0]*de[1]<de[0]*X[1]&&(X[0]*=-1,X[1]*=-1,we*=-1,Pe*=-1),this.rotate=(we?Math.atan2(X[1],X[0]):Math.atan2(-de[0],de[1]))*Pt,this.translate=[D.e,D.f],this.scale=[we,Re],this.skew=Re?Math.atan2(Pe,Re)*Pt:0}fy.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Yt(D,X){return D[0]*X[0]+D[1]*X[1]}function dm(D){var X=Math.sqrt(Yt(D,D));return X&&(D[0]/=X,D[1]/=X),X}function Hu(D,X,de){return D[0]+=de*X[0],D[1]+=de*X[1],D}var jv={a:1,b:0,c:0,d:1,e:0,f:0};y.interpolateTransform=qf;function Vp(D){return D.length?D.pop()+",":""}function FS(D,X,de,we){if(D[0]!==X[0]||D[1]!==X[1]){var Pe=de.push("translate(",null,",",null,")");we.push({i:Pe-4,x:Zu(D[0],X[0])},{i:Pe-2,x:Zu(D[1],X[1])})}else(X[0]||X[1])&&de.push("translate("+X+")")}function Gs(D,X,de,we){D!==X?(D-X>180?X+=360:X-D>180&&(D+=360),we.push({i:de.push(Vp(de)+"rotate(",null,")")-2,x:Zu(D,X)})):X&&de.push(Vp(de)+"rotate("+X+")")}function tc(D,X,de,we){D!==X?we.push({i:de.push(Vp(de)+"skewX(",null,")")-2,x:Zu(D,X)}):X&&de.push(Vp(de)+"skewX("+X+")")}function jf(D,X,de,we){if(D[0]!==X[0]||D[1]!==X[1]){var Pe=de.push(Vp(de)+"scale(",null,",",null,")");we.push({i:Pe-4,x:Zu(D[0],X[0])},{i:Pe-2,x:Zu(D[1],X[1])})}else(X[0]!==1||X[1]!==1)&&de.push(Vp(de)+"scale("+X+")")}function qf(D,X){var de=[],we=[];return D=y.transform(D),X=y.transform(X),FS(D.translate,X.translate,de,we),Gs(D.rotate,X.rotate,de,we),tc(D.skew,X.skew,de,we),jf(D.scale,X.scale,de,we),D=X=null,function(Pe){for(var Re=-1,Ke=we.length,We;++Re<Ke;)de[(We=we[Re]).i]=We.x(Pe);return de.join("")}}function dy(D,X){return X=(X-=D=+D)||1/X,function(de){return(de-D)/X}}function vg(D,X){return X=(X-=D=+D)||1/X,function(de){return Math.max(0,Math.min(1,(de-D)/X))}}y.layout={},y.layout.bundle=function(){return function(D){for(var X=[],de=-1,we=D.length;++de<we;)X.push(ru(D[de]));return X}};function ru(D){for(var X=D.source,de=D.target,we=hy(X,de),Pe=[X];X!==we;)X=X.parent,Pe.push(X);for(var Re=Pe.length;de!==we;)Pe.splice(Re,0,de),de=de.parent;return Pe}function yg(D){for(var X=[],de=D.parent;de!=null;)X.push(D),D=de,de=de.parent;return X.push(D),X}function hy(D,X){if(D===X)return D;for(var de=yg(D),we=yg(X),Pe=de.pop(),Re=we.pop(),Ke=null;Pe===Re;)Ke=Pe,Pe=de.pop(),Re=we.pop();return Ke}y.layout.chord=function(){var D={},X,de,we,Pe,Re=0,Ke,We,rt;function vt(){var Zt={},Ut=[],gn=y.range(Pe),An=[],jt,tn,hn,_n,Pn;for(X=[],de=[],jt=0,_n=-1;++_n<Pe;){for(tn=0,Pn=-1;++Pn<Pe;)tn+=we[_n][Pn];Ut.push(tn),An.push(y.range(Pe)),jt+=tn}for(Ke&&gn.sort(function(ts,xo){return Ke(Ut[ts],Ut[xo])}),We&&An.forEach(function(ts,xo){ts.sort(function(go,js){return We(we[xo][go],we[xo][js])})}),jt=(at-Re*Pe)/jt,tn=0,_n=-1;++_n<Pe;){for(hn=tn,Pn=-1;++Pn<Pe;){var yn=gn[_n],cr=An[yn][Pn],Zr=we[yn][cr],Jr=tn,Ar=tn+=Zr*jt;Zt[yn+"-"+cr]={index:yn,subindex:cr,startAngle:Jr,endAngle:Ar,value:Zr}}de[yn]={index:yn,startAngle:hn,endAngle:tn,value:Ut[yn]},tn+=Re}for(_n=-1;++_n<Pe;)for(Pn=_n-1;++Pn<Pe;){var no=Zt[_n+"-"+Pn],fo=Zt[Pn+"-"+_n];(no.value||fo.value)&&X.push(no.value<fo.value?{source:fo,target:no}:{source:no,target:fo})}rt&&bt()}function bt(){X.sort(function(Zt,Ut){return rt((Zt.source.value+Zt.target.value)/2,(Ut.source.value+Ut.target.value)/2)})}return D.matrix=function(Zt){return arguments.length?(Pe=(we=Zt)&&we.length,X=de=null,D):we},D.padding=function(Zt){return arguments.length?(Re=Zt,X=de=null,D):Re},D.sortGroups=function(Zt){return arguments.length?(Ke=Zt,X=de=null,D):Ke},D.sortSubgroups=function(Zt){return arguments.length?(We=Zt,X=null,D):We},D.sortChords=function(Zt){return arguments.length?(rt=Zt,X&&bt(),D):rt},D.chords=function(){return X||vt(),X},D.groups=function(){return de||vt(),de},D},y.layout.force=function(){var D={},X=y.dispatch("start","tick","end"),de,we=[1,1],Pe,Re,Ke=.9,We=ol,rt=ph,vt=-30,bt=bg,Zt=.1,Ut=.64,gn=[],An=[],jt,tn,hn;function _n(yn){return function(cr,Zr,Jr,Ar){if(cr.point!==yn){var no=cr.cx-yn.x,fo=cr.cy-yn.y,ts=Ar-Zr,xo=no*no+fo*fo;if(ts*ts/Ut<xo){if(xo<bt){var go=cr.charge/xo;yn.px-=no*go,yn.py-=fo*go}return!0}if(cr.point&&xo&&xo<bt){var go=cr.pointCharge/xo;yn.px-=no*go,yn.py-=fo*go}}return!cr.charge}}D.tick=function(){if((Re*=.99)<.005)return de=null,X.end({type:"end",alpha:Re=0}),!0;var yn=gn.length,cr=An.length,Zr,Jr,Ar,no,fo,ts,xo,go,js;for(Jr=0;Jr<cr;++Jr)Ar=An[Jr],no=Ar.source,fo=Ar.target,go=fo.x-no.x,js=fo.y-no.y,(ts=go*go+js*js)&&(ts=Re*tn[Jr]*((ts=Math.sqrt(ts))-jt[Jr])/ts,go*=ts,js*=ts,fo.x-=go*(xo=no.weight+fo.weight?no.weight/(no.weight+fo.weight):.5),fo.y-=js*xo,no.x+=go*(xo=1-xo),no.y+=js*xo);if((xo=Re*Zt)&&(go=we[0]/2,js=we[1]/2,Jr=-1,xo))for(;++Jr<yn;)Ar=gn[Jr],Ar.x+=(go-Ar.x)*xo,Ar.y+=(js-Ar.y)*xo;if(vt)for(Vc(Zr=y.geom.quadtree(gn),Re,hn),Jr=-1;++Jr<yn;)(Ar=gn[Jr]).fixed||Zr.visit(_n(Ar));for(Jr=-1;++Jr<yn;)Ar=gn[Jr],Ar.fixed?(Ar.x=Ar.px,Ar.y=Ar.py):(Ar.x-=(Ar.px-(Ar.px=Ar.x))*Ke,Ar.y-=(Ar.py-(Ar.py=Ar.y))*Ke);X.tick({type:"tick",alpha:Re})},D.nodes=function(yn){return arguments.length?(gn=yn,D):gn},D.links=function(yn){return arguments.length?(An=yn,D):An},D.size=function(yn){return arguments.length?(we=yn,D):we},D.linkDistance=function(yn){return arguments.length?(We=typeof yn=="function"?yn:+yn,D):We},D.distance=D.linkDistance,D.linkStrength=function(yn){return arguments.length?(rt=typeof yn=="function"?yn:+yn,D):rt},D.friction=function(yn){return arguments.length?(Ke=+yn,D):Ke},D.charge=function(yn){return arguments.length?(vt=typeof yn=="function"?yn:+yn,D):vt},D.chargeDistance=function(yn){return arguments.length?(bt=yn*yn,D):Math.sqrt(bt)},D.gravity=function(yn){return arguments.length?(Zt=+yn,D):Zt},D.theta=function(yn){return arguments.length?(Ut=yn*yn,D):Math.sqrt(Ut)},D.alpha=function(yn){return arguments.length?(yn=+yn,Re?yn>0?Re=yn:(de.c=null,de.t=NaN,de=null,X.end({type:"end",alpha:Re=0})):yn>0&&(X.start({type:"start",alpha:Re=yn}),de=So(D.tick)),D):Re},D.start=function(){var yn,cr=gn.length,Zr=An.length,Jr=we[0],Ar=we[1],no,fo;for(yn=0;yn<cr;++yn)(fo=gn[yn]).index=yn,fo.weight=0;for(yn=0;yn<Zr;++yn)fo=An[yn],typeof fo.source=="number"&&(fo.source=gn[fo.source]),typeof fo.target=="number"&&(fo.target=gn[fo.target]),++fo.source.weight,++fo.target.weight;for(yn=0;yn<cr;++yn)fo=gn[yn],isNaN(fo.x)&&(fo.x=ts("x",Jr)),isNaN(fo.y)&&(fo.y=ts("y",Ar)),isNaN(fo.px)&&(fo.px=fo.x),isNaN(fo.py)&&(fo.py=fo.y);if(jt=[],typeof We=="function")for(yn=0;yn<Zr;++yn)jt[yn]=+We.call(this,An[yn],yn);else for(yn=0;yn<Zr;++yn)jt[yn]=We;if(tn=[],typeof rt=="function")for(yn=0;yn<Zr;++yn)tn[yn]=+rt.call(this,An[yn],yn);else for(yn=0;yn<Zr;++yn)tn[yn]=rt;if(hn=[],typeof vt=="function")for(yn=0;yn<cr;++yn)hn[yn]=+vt.call(this,gn[yn],yn);else for(yn=0;yn<cr;++yn)hn[yn]=vt;function ts(xo,go){if(!no){for(no=new Array(cr),ba=0;ba<cr;++ba)no[ba]=[];for(ba=0;ba<Zr;++ba){var js=An[ba];no[js.source.index].push(js.target),no[js.target.index].push(js.source)}}for(var ti=no[yn],ba=-1,Lr=ti.length,Do;++ba<Lr;)if(!isNaN(Do=ti[ba][xo]))return Do;return Math.random()*go}return D.resume()},D.resume=function(){return D.alpha(.1)},D.stop=function(){return D.alpha(0)},D.drag=function(){if(Pe||(Pe=y.behavior.drag().origin(ne).on("dragstart.force",DO).on("drag.force",Pn).on("dragend.force",Uu)),!arguments.length)return Pe;this.on("mouseover.force",zp).on("mouseout.force",my).call(Pe)};function Pn(yn){yn.px=y.event.x,yn.py=y.event.y,D.resume()}return y.rebind(D,X,"on")};function DO(D){D.fixed|=2}function Uu(D){D.fixed&=-7}function zp(D){D.fixed|=4,D.px=D.x,D.py=D.y}function my(D){D.fixed&=-5}function Vc(D,X,de){var we=0,Pe=0;if(D.charge=0,!D.leaf)for(var Re=D.nodes,Ke=Re.length,We=-1,rt;++We<Ke;)rt=Re[We],rt!=null&&(Vc(rt,X,de),D.charge+=rt.charge,we+=rt.charge*rt.cx,Pe+=rt.charge*rt.cy);if(D.point){D.leaf||(D.point.x+=Math.random()-.5,D.point.y+=Math.random()-.5);var vt=X*de[D.point.index];D.charge+=D.pointCharge=vt,we+=vt*D.point.x,Pe+=vt*D.point.y}D.cx=we/D.charge,D.cy=Pe/D.charge}var ol=20,ph=1,bg=1/0;y.layout.hierarchy=function(){var D=gy,X=$O,de=Zp;function we(Pe){var Re=[Pe],Ke=[],We;for(Pe.depth=0;(We=Re.pop())!=null;)if(Ke.push(We),(vt=X.call(we,We,We.depth))&&(rt=vt.length)){for(var rt,vt,bt;--rt>=0;)Re.push(bt=vt[rt]),bt.parent=We,bt.depth=We.depth+1;de&&(We.value=0),We.children=vt}else de&&(We.value=+de.call(we,We,We.depth)||0),delete We.children;return Wu(Pe,function(Zt){var Ut,gn;D&&(Ut=Zt.children)&&Ut.sort(D),de&&(gn=Zt.parent)&&(gn.value+=Zt.value)}),Ke}return we.sort=function(Pe){return arguments.length?(D=Pe,we):D},we.children=function(Pe){return arguments.length?(X=Pe,we):X},we.value=function(Pe){return arguments.length?(de=Pe,we):de},we.revalue=function(Pe){return de&&(Pl(Pe,function(Re){Re.children&&(Re.value=0)}),Wu(Pe,function(Re){var Ke;Re.children||(Re.value=+de.call(we,Re,Re.depth)||0),(Ke=Re.parent)&&(Ke.value+=Re.value)})),Pe},we};function xc(D,X){return y.rebind(D,X,"sort","children","value"),D.nodes=D,D.links=qv,D}function Pl(D,X){for(var de=[D];(D=de.pop())!=null;)if(X(D),(Pe=D.children)&&(we=Pe.length))for(var we,Pe;--we>=0;)de.push(Pe[we])}function Wu(D,X){for(var de=[D],we=[];(D=de.pop())!=null;)if(we.push(D),(Ke=D.children)&&(Re=Ke.length))for(var Pe=-1,Re,Ke;++Pe<Re;)de.push(Ke[Pe]);for(;(D=we.pop())!=null;)X(D)}function $O(D){return D.children}function Zp(D){return D.value}function gy(D,X){return X.value-D.value}function qv(D){return y.merge(D.map(function(X){return(X.children||[]).map(function(de){return{source:X,target:de}})}))}y.layout.partition=function(){var D=y.layout.hierarchy(),X=[1,1];function de(Re,Ke,We,rt){var vt=Re.children;if(Re.x=Ke,Re.y=Re.depth*rt,Re.dx=We,Re.dy=rt,vt&&(Zt=vt.length)){var bt=-1,Zt,Ut,gn;for(We=Re.value?We/Re.value:0;++bt<Zt;)de(Ut=vt[bt],Ke,gn=Ut.value*We,rt),Ke+=gn}}function we(Re){var Ke=Re.children,We=0;if(Ke&&(vt=Ke.length))for(var rt=-1,vt;++rt<vt;)We=Math.max(We,we(Ke[rt]));return 1+We}function Pe(Re,Ke){var We=D.call(this,Re,Ke);return de(We[0],0,X[0],X[1]/we(We[0])),We}return Pe.size=function(Re){return arguments.length?(X=Re,Pe):X},xc(Pe,D)},y.layout.pie=function(){var D=Number,X=Pf,de=0,we=at,Pe=0;function Re(Ke){var We=Ke.length,rt=Ke.map(function(_n,Pn){return+D.call(Re,_n,Pn)}),vt=+(typeof de=="function"?de.apply(this,arguments):de),bt=(typeof we=="function"?we.apply(this,arguments):we)-vt,Zt=Math.min(Math.abs(bt)/We,+(typeof Pe=="function"?Pe.apply(this,arguments):Pe)),Ut=Zt*(bt<0?-1:1),gn=y.sum(rt),An=gn?(bt-We*Ut)/gn:0,jt=y.range(We),tn=[],hn;return X!=null&&jt.sort(X===Pf?function(_n,Pn){return rt[Pn]-rt[_n]}:function(_n,Pn){return X(Ke[_n],Ke[Pn])}),jt.forEach(function(_n){tn[_n]={data:Ke[_n],value:hn=rt[_n],startAngle:vt,endAngle:vt+=hn*An+Ut,padAngle:Zt}}),tn}return Re.value=function(Ke){return arguments.length?(D=Ke,Re):D},Re.sort=function(Ke){return arguments.length?(X=Ke,Re):X},Re.startAngle=function(Ke){return arguments.length?(de=Ke,Re):de},Re.endAngle=function(Ke){return arguments.length?(we=Ke,Re):we},Re.padAngle=function(Ke){return arguments.length?(Pe=Ke,Re):Pe},Re};var Pf={};y.layout.stack=function(){var D=ne,X=Kv,de=vh,we=jC,Pe=LO,Re=GC;function Ke(We,rt){if(!(An=We.length))return We;var vt=We.map(function(_n,Pn){return D.call(Ke,_n,Pn)}),bt=vt.map(function(_n){return _n.map(function(Pn,yn){return[Pe.call(Ke,Pn,yn),Re.call(Ke,Pn,yn)]})}),Zt=X.call(Ke,bt,rt);vt=y.permute(vt,Zt),bt=y.permute(bt,Zt);var Ut=de.call(Ke,bt,rt),gn=vt[0].length,An,jt,tn,hn;for(tn=0;tn<gn;++tn)for(we.call(Ke,vt[0][tn],hn=Ut[tn],bt[0][tn][1]),jt=1;jt<An;++jt)we.call(Ke,vt[jt][tn],hn+=bt[jt-1][tn][1],bt[jt][tn][1]);return We}return Ke.values=function(We){return arguments.length?(D=We,Ke):D},Ke.order=function(We){return arguments.length?(X=typeof We=="function"?We:VS.get(We)||Kv,Ke):X},Ke.offset=function(We){return arguments.length?(de=typeof We=="function"?We:Hp.get(We)||vh,Ke):de},Ke.x=function(We){return arguments.length?(Pe=We,Ke):Pe},Ke.y=function(We){return arguments.length?(Re=We,Ke):Re},Ke.out=function(We){return arguments.length?(we=We,Ke):we},Ke};function LO(D){return D.x}function GC(D){return D.y}function jC(D,X,de){D.y0=X,D.y=de}var VS=y.map({"inside-out":function(D){var X=D.length,de,we,Pe=D.map(Ja),Re=D.map(ui),Ke=y.range(X).sort(function(Zt,Ut){return Pe[Zt]-Pe[Ut]}),We=0,rt=0,vt=[],bt=[];for(de=0;de<X;++de)we=Ke[de],We<rt?(We+=Re[we],vt.push(we)):(rt+=Re[we],bt.push(we));return bt.reverse().concat(vt)},reverse:function(D){return y.range(D.length).reverse()},default:Kv}),Hp=y.map({silhouette:function(D){var X=D.length,de=D[0].length,we=[],Pe=0,Re,Ke,We,rt=[];for(Ke=0;Ke<de;++Ke){for(Re=0,We=0;Re<X;Re++)We+=D[Re][Ke][1];We>Pe&&(Pe=We),we.push(We)}for(Ke=0;Ke<de;++Ke)rt[Ke]=(Pe-we[Ke])/2;return rt},wiggle:function(D){var X=D.length,de=D[0],we=de.length,Pe,Re,Ke,We,rt,vt,bt,Zt,Ut,gn=[];for(gn[0]=Zt=Ut=0,Re=1;Re<we;++Re){for(Pe=0,We=0;Pe<X;++Pe)We+=D[Pe][Re][1];for(Pe=0,rt=0,bt=de[Re][0]-de[Re-1][0];Pe<X;++Pe){for(Ke=0,vt=(D[Pe][Re][1]-D[Pe][Re-1][1])/(2*bt);Ke<Pe;++Ke)vt+=(D[Ke][Re][1]-D[Ke][Re-1][1])/bt;rt+=vt*D[Pe][Re][1]}gn[Re]=Zt-=We?rt/We*bt:0,Zt<Ut&&(Ut=Zt)}for(Re=0;Re<we;++Re)gn[Re]-=Ut;return gn},expand:function(D){var X=D.length,de=D[0].length,we=1/X,Pe,Re,Ke,We=[];for(Re=0;Re<de;++Re){for(Pe=0,Ke=0;Pe<X;Pe++)Ke+=D[Pe][Re][1];if(Ke)for(Pe=0;Pe<X;Pe++)D[Pe][Re][1]/=Ke;else for(Pe=0;Pe<X;Pe++)D[Pe][Re][1]=we}for(Re=0;Re<de;++Re)We[Re]=0;return We},zero:vh});function Kv(D){return y.range(D.length)}function vh(D){for(var X=-1,de=D[0].length,we=[];++X<de;)we[X]=0;return we}function Ja(D){for(var X=1,de=0,we=D[0][1],Pe,Re=D.length;X<Re;++X)(Pe=D[X][1])>we&&(de=X,we=Pe);return de}function ui(D){return D.reduce(wu,0)}function wu(D,X){return D+X[1]}y.layout.histogram=function(){var D=!0,X=Number,de=Vl,we=py;function Pe(Re,Ut){for(var We=[],rt=Re.map(X,this),vt=de.call(this,rt,Ut),bt=we.call(this,vt,rt,Ut),Zt,Ut=-1,gn=rt.length,An=bt.length-1,jt=D?1:1/gn,tn;++Ut<An;)Zt=We[Ut]=[],Zt.dx=bt[Ut+1]-(Zt.x=bt[Ut]),Zt.y=0;if(An>0)for(Ut=-1;++Ut<gn;)tn=rt[Ut],tn>=vt[0]&&tn<=vt[1]&&(Zt=We[y.bisect(bt,tn,1,An)-1],Zt.y+=jt,Zt.push(Re[Ut]));return We}return Pe.value=function(Re){return arguments.length?(X=Re,Pe):X},Pe.range=function(Re){return arguments.length?(de=Fn(Re),Pe):de},Pe.bins=function(Re){return arguments.length?(we=typeof Re=="number"?function(Ke){return IO(Ke,Re)}:Fn(Re),Pe):we},Pe.frequency=function(Re){return arguments.length?(D=!!Re,Pe):D},Pe};function py(D,X){return IO(D,Math.ceil(Math.log(X.length)/Math.LN2+1))}function IO(D,X){for(var de=-1,we=+D[0],Pe=(D[1]-we)/X,Re=[];++de<=X;)Re[de]=Pe*de+we;return Re}function Vl(D){return[y.min(D),y.max(D)]}y.layout.pack=function(){var D=y.layout.hierarchy().sort(Og),X=0,de=[1,1],we;function Pe(Re,Ke){var We=D.call(this,Re,Ke),rt=We[0],vt=de[0],bt=de[1],Zt=we==null?Math.sqrt:typeof we=="function"?we:function(){return we};if(rt.x=rt.y=0,Wu(rt,function(gn){gn.r=+Zt(gn.value)}),Wu(rt,jo),X){var Ut=X*(we?1:Math.max(2*rt.r/vt,2*rt.r/bt))/2;Wu(rt,function(gn){gn.r+=Ut}),Wu(rt,jo),Wu(rt,function(gn){gn.r-=Ut})}return hm(rt,vt/2,bt/2,we?1:1/Math.max(2*rt.r/vt,2*rt.r/bt)),We}return Pe.size=function(Re){return arguments.length?(de=Re,Pe):de},Pe.radius=function(Re){return arguments.length?(we=Re==null||typeof Re=="function"?Re:+Re,Pe):we},Pe.padding=function(Re){return arguments.length?(X=+Re,Pe):X},xc(Pe,D)};function Og(D,X){return D.value-X.value}function Sc(D,X){var de=D._pack_next;D._pack_next=X,X._pack_prev=D,X._pack_next=de,de._pack_prev=X}function Mf(D,X){D._pack_next=X,X._pack_prev=D}function vy(D,X){var de=X.x-D.x,we=X.y-D.y,Pe=D.r+X.r;return .999*Pe*Pe>de*de+we*we}function jo(D){if(!(X=D.children)||!(Ut=X.length))return;var X,de=1/0,we=-1/0,Pe=1/0,Re=-1/0,Ke,We,rt,vt,bt,Zt,Ut;function gn(yn){de=Math.min(yn.x-yn.r,de),we=Math.max(yn.x+yn.r,we),Pe=Math.min(yn.y-yn.r,Pe),Re=Math.max(yn.y+yn.r,Re)}if(X.forEach(zc),Ke=X[0],Ke.x=-Ke.r,Ke.y=0,gn(Ke),Ut>1&&(We=X[1],We.x=We.r,We.y=0,gn(We),Ut>2))for(rt=X[2],yy(Ke,We,rt),gn(rt),Sc(Ke,rt),Ke._pack_prev=rt,Sc(rt,We),We=Ke._pack_next,vt=3;vt<Ut;vt++){yy(Ke,We,rt=X[vt]);var An=0,jt=1,tn=1;for(bt=We._pack_next;bt!==We;bt=bt._pack_next,jt++)if(vy(bt,rt)){An=1;break}if(An==1)for(Zt=Ke._pack_prev;Zt!==bt._pack_prev&&!vy(Zt,rt);Zt=Zt._pack_prev,tn++);An?(jt<tn||jt==tn&&We.r<Ke.r?Mf(Ke,We=bt):Mf(Ke=Zt,We),vt--):(Sc(Ke,rt),We=rt,gn(rt))}var hn=(de+we)/2,_n=(Pe+Re)/2,Pn=0;for(vt=0;vt<Ut;vt++)rt=X[vt],rt.x-=hn,rt.y-=_n,Pn=Math.max(Pn,rt.r+Math.sqrt(rt.x*rt.x+rt.y*rt.y));D.r=Pn,X.forEach(yh)}function zc(D){D._pack_next=D._pack_prev=D}function yh(D){delete D._pack_next,delete D._pack_prev}function hm(D,X,de,we){var Pe=D.children;if(D.x=X+=we*D.x,D.y=de+=we*D.y,D.r*=we,Pe)for(var Re=-1,Ke=Pe.length;++Re<Ke;)hm(Pe[Re],X,de,we)}function yy(D,X,de){var we=D.r+de.r,Pe=X.x-D.x,Re=X.y-D.y;if(we&&(Pe||Re)){var Ke=X.r+de.r,We=Pe*Pe+Re*Re;Ke*=Ke,we*=we;var rt=.5+(we-Ke)/(2*We),vt=Math.sqrt(Math.max(0,2*Ke*(we+We)-(we-=We)*we-Ke*Ke))/(2*We);de.x=D.x+rt*Pe+vt*Re,de.y=D.y+rt*Re-vt*Pe}else de.x=D.x+we,de.y=D.y}y.layout.tree=function(){var D=y.layout.hierarchy().sort(null).value(null),X=by,de=[1,1],we=null;function Pe(bt,Zt){var Ut=D.call(this,bt,Zt),gn=Ut[0],An=Re(gn);if(Wu(An,Ke),An.parent.m=-An.z,Pl(An,We),we)Pl(gn,vt);else{var jt=gn,tn=gn,hn=gn;Pl(gn,function(cr){cr.x<jt.x&&(jt=cr),cr.x>tn.x&&(tn=cr),cr.depth>hn.depth&&(hn=cr)});var _n=X(jt,tn)/2-jt.x,Pn=de[0]/(tn.x+X(tn,jt)/2+_n),yn=de[1]/(hn.depth||1);Pl(gn,function(cr){cr.x=(cr.x+_n)*Pn,cr.y=cr.depth*yn})}return Ut}function Re(bt){for(var Zt={A:null,children:[bt]},Ut=[Zt],gn;(gn=Ut.pop())!=null;)for(var An=gn.children,jt,tn=0,hn=An.length;tn<hn;++tn)Ut.push((An[tn]=jt={_:An[tn],parent:gn,children:(jt=An[tn].children)&&jt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:tn}).a=jt);return Zt.children[0]}function Ke(bt){var Zt=bt.children,Ut=bt.parent.children,gn=bt.i?Ut[bt.i-1]:null;if(Zt.length){Hi(bt);var An=(Zt[0].z+Zt[Zt.length-1].z)/2;gn?(bt.z=gn.z+X(bt._,gn._),bt.m=bt.z-An):bt.z=An}else gn&&(bt.z=gn.z+X(bt._,gn._));bt.parent.A=rt(bt,gn,bt.parent.A||Ut[0])}function We(bt){bt._.x=bt.z+bt.parent.m,bt.m+=bt.parent.m}function rt(bt,Zt,Ut){if(Zt){for(var gn=bt,An=bt,jt=Zt,tn=gn.parent.children[0],hn=gn.m,_n=An.m,Pn=jt.m,yn=tn.m,cr;jt=wi(jt),gn=nc(gn),jt&&gn;)tn=nc(tn),An=wi(An),An.a=bt,cr=jt.z+Pn-gn.z-hn+X(jt._,gn._),cr>0&&(ou(Oy(jt,bt,Ut),bt,cr),hn+=cr,_n+=cr),Pn+=jt.m,hn+=gn.m,yn+=tn.m,_n+=An.m;jt&&!wi(An)&&(An.t=jt,An.m+=Pn-_n),gn&&!nc(tn)&&(tn.t=gn,tn.m+=hn-yn,Ut=bt)}return Ut}function vt(bt){bt.x*=de[0],bt.y=bt.depth*de[1]}return Pe.separation=function(bt){return arguments.length?(X=bt,Pe):X},Pe.size=function(bt){return arguments.length?(we=(de=bt)==null?vt:null,Pe):we?null:de},Pe.nodeSize=function(bt){return arguments.length?(we=(de=bt)==null?null:vt,Pe):we?de:null},xc(Pe,D)};function by(D,X){return D.parent==X.parent?1:2}function nc(D){var X=D.children;return X.length?X[0]:D.t}function wi(D){var X=D.children,de;return(de=X.length)?X[de-1]:D.t}function ou(D,X,de){var we=de/(X.i-D.i);X.c-=we,X.s+=de,D.c+=we,X.z+=de,X.m+=de}function Hi(D){for(var X=0,de=0,we=D.children,Pe=we.length,Re;--Pe>=0;)Re=we[Pe],Re.z+=X,Re.m+=X,X+=Re.s+(de+=Re.c)}function Oy(D,X,de){return D.a.parent===X.parent?D.a:de}y.layout.cluster=function(){var D=y.layout.hierarchy().sort(null).value(null),X=by,de=[1,1],we=!1;function Pe(Re,Ke){var We=D.call(this,Re,Ke),rt=We[0],vt,bt=0;Wu(rt,function(jt){var tn=jt.children;tn&&tn.length?(jt.x=Ti(tn),jt.y=Jv(tn)):(jt.x=vt?bt+=X(jt,vt):0,jt.y=0,vt=jt)});var Zt=Ui(rt),Ut=Yu(rt),gn=Zt.x-X(Zt,Ut)/2,An=Ut.x+X(Ut,Zt)/2;return Wu(rt,we?function(jt){jt.x=(jt.x-rt.x)*de[0],jt.y=(rt.y-jt.y)*de[1]}:function(jt){jt.x=(jt.x-gn)/(An-gn)*de[0],jt.y=(1-(rt.y?jt.y/rt.y:1))*de[1]}),We}return Pe.separation=function(Re){return arguments.length?(X=Re,Pe):X},Pe.size=function(Re){return arguments.length?(we=(de=Re)==null,Pe):we?null:de},Pe.nodeSize=function(Re){return arguments.length?(we=(de=Re)!=null,Pe):we?de:null},xc(Pe,D)};function Jv(D){return 1+y.max(D,function(X){return X.y})}function Ti(D){return D.reduce(function(X,de){return X+de.x},0)/D.length}function Ui(D){var X=D.children;return X&&X.length?Ui(X[0]):D}function Yu(D){var X=D.children,de;return X&&(de=X.length)?Yu(X[de-1]):D}y.layout.treemap=function(){var D=y.layout.hierarchy(),X=Math.round,de=[1,1],we=null,Pe=mm,Re=!1,Ke,We="squarify",rt=.5*(1+Math.sqrt(5));function vt(jt,tn){for(var hn=-1,_n=jt.length,Pn,yn;++hn<_n;)yn=(Pn=jt[hn]).value*(tn<0?0:tn),Pn.area=isNaN(yn)||yn<=0?0:yn}function bt(jt){var tn=jt.children;if(tn&&tn.length){var hn=Pe(jt),_n=[],Pn=tn.slice(),yn,cr=1/0,Zr,Jr=We==="slice"?hn.dx:We==="dice"?hn.dy:We==="slice-dice"?jt.depth&1?hn.dy:hn.dx:Math.min(hn.dx,hn.dy),Ar;for(vt(Pn,hn.dx*hn.dy/jt.value),_n.area=0;(Ar=Pn.length)>0;)_n.push(yn=Pn[Ar-1]),_n.area+=yn.area,We!=="squarify"||(Zr=Ut(_n,Jr))<=cr?(Pn.pop(),cr=Zr):(_n.area-=_n.pop().area,gn(_n,Jr,hn,!1),Jr=Math.min(hn.dx,hn.dy),_n.length=_n.area=0,cr=1/0);_n.length&&(gn(_n,Jr,hn,!0),_n.length=_n.area=0),tn.forEach(bt)}}function Zt(jt){var tn=jt.children;if(tn&&tn.length){var hn=Pe(jt),_n=tn.slice(),Pn,yn=[];for(vt(_n,hn.dx*hn.dy/jt.value),yn.area=0;Pn=_n.pop();)yn.push(Pn),yn.area+=Pn.area,Pn.z!=null&&(gn(yn,Pn.z?hn.dx:hn.dy,hn,!_n.length),yn.length=yn.area=0);tn.forEach(Zt)}}function Ut(jt,tn){for(var hn=jt.area,_n,Pn=0,yn=1/0,cr=-1,Zr=jt.length;++cr<Zr;)(_n=jt[cr].area)&&(_n<yn&&(yn=_n),_n>Pn&&(Pn=_n));return hn*=hn,tn*=tn,hn?Math.max(tn*Pn*rt/hn,hn/(tn*yn*rt)):1/0}function gn(jt,tn,hn,_n){var Pn=-1,yn=jt.length,cr=hn.x,Zr=hn.y,Jr=tn?X(jt.area/tn):0,Ar;if(tn==hn.dx){for((_n||Jr>hn.dy)&&(Jr=hn.dy);++Pn<yn;)Ar=jt[Pn],Ar.x=cr,Ar.y=Zr,Ar.dy=Jr,cr+=Ar.dx=Math.min(hn.x+hn.dx-cr,Jr?X(Ar.area/Jr):0);Ar.z=!0,Ar.dx+=hn.x+hn.dx-cr,hn.y+=Jr,hn.dy-=Jr}else{for((_n||Jr>hn.dx)&&(Jr=hn.dx);++Pn<yn;)Ar=jt[Pn],Ar.x=cr,Ar.y=Zr,Ar.dx=Jr,Zr+=Ar.dy=Math.min(hn.y+hn.dy-Zr,Jr?X(Ar.area/Jr):0);Ar.z=!1,Ar.dy+=hn.y+hn.dy-Zr,hn.x+=Jr,hn.dx-=Jr}}function An(jt){var tn=Ke||D(jt),hn=tn[0];return hn.x=hn.y=0,hn.value?(hn.dx=de[0],hn.dy=de[1]):hn.dx=hn.dy=0,Ke&&D.revalue(hn),vt([hn],hn.dx*hn.dy/hn.value),(Ke?Zt:bt)(hn),Re&&(Ke=tn),tn}return An.size=function(jt){return arguments.length?(de=jt,An):de},An.padding=function(jt){if(!arguments.length)return we;function tn(Pn){var yn=jt.call(An,Pn,Pn.depth);return yn==null?mm(Pn):Ci(Pn,typeof yn=="number"?[yn,yn,yn,yn]:yn)}function hn(Pn){return Ci(Pn,jt)}var _n;return Pe=(we=jt)==null?mm:(_n=typeof jt)=="function"?tn:(_n==="number"&&(jt=[jt,jt,jt,jt]),hn),An},An.round=function(jt){return arguments.length?(X=jt?Math.round:Number,An):X!=Number},An.sticky=function(jt){return arguments.length?(Re=jt,Ke=null,An):Re},An.ratio=function(jt){return arguments.length?(rt=jt,An):rt},An.mode=function(jt){return arguments.length?(We=jt+"",An):We},xc(An,D)};function mm(D){return{x:D.x,y:D.y,dx:D.dx,dy:D.dy}}function Ci(D,X){var de=D.x+X[3],we=D.y+X[0],Pe=D.dx-X[1]-X[3],Re=D.dy-X[0]-X[2];return Pe<0&&(de+=Pe/2,Pe=0),Re<0&&(we+=Re/2,Re=0),{x:de,y:we,dx:Pe,dy:Re}}y.random={normal:function(D,X){var de=arguments.length;return de<2&&(X=1),de<1&&(D=0),function(){var we,Pe,Re;do we=Math.random()*2-1,Pe=Math.random()*2-1,Re=we*we+Pe*Pe;while(!Re||Re>1);return D+X*we*Math.sqrt(-2*Math.log(Re)/Re)}},logNormal:function(){var D=y.random.normal.apply(y,arguments);return function(){return Math.exp(D())}},bates:function(D){var X=y.random.irwinHall(D);return function(){return X()/D}},irwinHall:function(D){return function(){for(var X=0,de=0;de<D;de++)X+=Math.random();return X}}},y.scale={};function xg(D){var X=D[0],de=D[D.length-1];return X<de?[X,de]:[de,X]}function Up(D){return D.rangeExtent?D.rangeExtent():xg(D.range())}function Ta(D,X,de,we){var Pe=de(D[0],D[1]),Re=we(X[0],X[1]);return function(Ke){return Re(Pe(Ke))}}function bh(D,X){var de=0,we=D.length-1,Pe=D[de],Re=D[we],Ke;return Re<Pe&&(Ke=de,de=we,we=Ke,Ke=Pe,Pe=Re,Re=Ke),D[de]=X.floor(Pe),D[we]=X.ceil(Re),D}function Ks(D){return D?{floor:function(X){return Math.floor(X/D)*D},ceil:function(X){return Math.ceil(X/D)*D}}:Ef}var Ef={floor:ne,ceil:ne};function xy(D,X,de,we){var Pe=[],Re=[],Ke=0,We=Math.min(D.length,X.length)-1;for(D[We]<D[0]&&(D=D.slice().reverse(),X=X.slice().reverse());++Ke<=We;)Pe.push(de(D[Ke-1],D[Ke])),Re.push(we(X[Ke-1],X[Ke]));return function(rt){var vt=y.bisect(D,rt,1,We)-1;return Re[vt](Pe[vt](rt))}}y.scale.linear=function(){return Wp([0,1],[0,1],bc,!1)};function Wp(D,X,de,we){var Pe,Re;function Ke(){var rt=Math.min(D.length,X.length)>2?xy:Ta,vt=we?vg:dy;return Pe=rt(D,X,vt,de),Re=rt(X,D,vt,bc),We}function We(rt){return Pe(rt)}return We.invert=function(rt){return Re(rt)},We.domain=function(rt){return arguments.length?(D=rt.map(Number),Ke()):D},We.range=function(rt){return arguments.length?(X=rt,Ke()):X},We.rangeRound=function(rt){return We.range(rt).interpolate(fm)},We.clamp=function(rt){return arguments.length?(we=rt,Ke()):we},We.interpolate=function(rt){return arguments.length?(de=rt,Ke()):de},We.ticks=function(rt){return Yp(D,rt)},We.tickFormat=function(rt,vt){return d3_scale_linearTickFormat(D,rt,vt)},We.nice=function(rt){return gm(D,rt),Ke()},We.copy=function(){return Wp(D,X,de,we)},Ke()}function hs(D,X){return y.rebind(D,X,"range","rangeRound","interpolate","clamp")}function gm(D,X){return bh(D,Ks(e0(D,X)[2])),bh(D,Ks(e0(D,X)[2])),D}function e0(D,X){X==null&&(X=10);var de=xg(D),we=de[1]-de[0],Pe=Math.pow(10,Math.floor(Math.log(we/X)/Math.LN10)),Re=X/we*Pe;return Re<=.15?Pe*=10:Re<=.35?Pe*=5:Re<=.75&&(Pe*=2),de[0]=Math.ceil(de[0]/Pe)*Pe,de[1]=Math.floor(de[1]/Pe)*Pe+Pe*.5,de[2]=Pe,de}function Yp(D,X){return y.range.apply(y,e0(D,X))}y.scale.log=function(){return zS(y.scale.linear().domain([0,1]),10,!0,[1,10])};function zS(D,X,de,we){function Pe(We){return(de?Math.log(We<0?0:We):-Math.log(We>0?0:-We))/Math.log(X)}function Re(We){return de?Math.pow(X,We):-Math.pow(X,-We)}function Ke(We){return D(Pe(We))}return Ke.invert=function(We){return Re(D.invert(We))},Ke.domain=function(We){return arguments.length?(de=We[0]>=0,D.domain((we=We.map(Number)).map(Pe)),Ke):we},Ke.base=function(We){return arguments.length?(X=+We,D.domain(we.map(Pe)),Ke):X},Ke.nice=function(){var We=bh(we.map(Pe),de?Math:ZS);return D.domain(We),we=We.map(Re),Ke},Ke.ticks=function(){var We=xg(we),rt=[],vt=We[0],bt=We[1],Zt=Math.floor(Pe(vt)),Ut=Math.ceil(Pe(bt)),gn=X%1?2:X;if(isFinite(Ut-Zt)){if(de){for(;Zt<Ut;Zt++)for(var An=1;An<gn;An++)rt.push(Re(Zt)*An);rt.push(Re(Zt))}else for(rt.push(Re(Zt));Zt++<Ut;)for(var An=gn-1;An>0;An--)rt.push(Re(Zt)*An);for(Zt=0;rt[Zt]<vt;Zt++);for(Ut=rt.length;rt[Ut-1]>bt;Ut--);rt=rt.slice(Zt,Ut)}return rt},Ke.copy=function(){return zS(D.copy(),X,de,we)},hs(Ke,D)}var ZS={floor:function(D){return-Math.ceil(-D)},ceil:function(D){return-Math.floor(-D)}};y.scale.pow=function(){return Sy(y.scale.linear(),1,[0,1])};function Sy(D,X,de){var we=pm(X),Pe=pm(1/X);function Re(Ke){return D(we(Ke))}return Re.invert=function(Ke){return Pe(D.invert(Ke))},Re.domain=function(Ke){return arguments.length?(D.domain((de=Ke.map(Number)).map(we)),Re):de},Re.ticks=function(Ke){return Yp(de,Ke)},Re.tickFormat=function(Ke,We){return d3_scale_linearTickFormat(de,Ke,We)},Re.nice=function(Ke){return Re.domain(gm(de,Ke))},Re.exponent=function(Ke){return arguments.length?(we=pm(X=Ke),Pe=pm(1/X),D.domain(de.map(we)),Re):X},Re.copy=function(){return Sy(D.copy(),X,de)},hs(Re,D)}function pm(D){return function(X){return X<0?-Math.pow(-X,D):Math.pow(X,D)}}y.scale.sqrt=function(){return y.scale.pow().exponent(.5)},y.scale.ordinal=function(){return t0([],{t:"range",a:[[]]})};function t0(D,X){var de,we,Pe;function Re(We){return we[((de.get(We)||(X.t==="range"?de.set(We,D.push(We)):NaN))-1)%we.length]}function Ke(We,rt){return y.range(D.length).map(function(vt){return We+rt*vt})}return Re.domain=function(We){if(!arguments.length)return D;D=[],de=new ie;for(var rt=-1,vt=We.length,bt;++rt<vt;)de.has(bt=We[rt])||de.set(bt,D.push(bt));return Re[X.t].apply(Re,X.a)},Re.range=function(We){return arguments.length?(we=We,Pe=0,X={t:"range",a:arguments},Re):we},Re.rangePoints=function(We,rt){arguments.length<2&&(rt=0);var vt=We[0],bt=We[1],Zt=D.length<2?(vt=(vt+bt)/2,0):(bt-vt)/(D.length-1+rt);return we=Ke(vt+Zt*rt/2,Zt),Pe=0,X={t:"rangePoints",a:arguments},Re},Re.rangeRoundPoints=function(We,rt){arguments.length<2&&(rt=0);var vt=We[0],bt=We[1],Zt=D.length<2?(vt=bt=Math.round((vt+bt)/2),0):(bt-vt)/(D.length-1+rt)|0;return we=Ke(vt+Math.round(Zt*rt/2+(bt-vt-(D.length-1+rt)*Zt)/2),Zt),Pe=0,X={t:"rangeRoundPoints",a:arguments},Re},Re.rangeBands=function(We,rt,vt){arguments.length<2&&(rt=0),arguments.length<3&&(vt=rt);var bt=We[1]<We[0],Zt=We[bt-0],Ut=We[1-bt],gn=(Ut-Zt)/(D.length-rt+2*vt);return we=Ke(Zt+gn*vt,gn),bt&&we.reverse(),Pe=gn*(1-rt),X={t:"rangeBands",a:arguments},Re},Re.rangeRoundBands=function(We,rt,vt){arguments.length<2&&(rt=0),arguments.length<3&&(vt=rt);var bt=We[1]<We[0],Zt=We[bt-0],Ut=We[1-bt],gn=Math.floor((Ut-Zt)/(D.length-rt+2*vt));return we=Ke(Zt+Math.round((Ut-Zt-(D.length-rt)*gn)/2),gn),bt&&we.reverse(),Pe=Math.round(gn*(1-rt)),X={t:"rangeRoundBands",a:arguments},Re},Re.rangeBand=function(){return Pe},Re.rangeExtent=function(){return xg(X.a[0])},Re.copy=function(){return t0(D,X)},Re.domain(D)}y.scale.category10=function(){return y.scale.ordinal().range(vm)},y.scale.category20=function(){return y.scale.ordinal().range(Sg)},y.scale.category20b=function(){return y.scale.ordinal().range(NO)},y.scale.category20c=function(){return y.scale.ordinal().range(Xu)};var vm=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),Sg=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),NO=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Xu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);y.scale.quantile=function(){return BO([],[])};function BO(D,X){var de;function we(){var Re=0,Ke=X.length;for(de=[];++Re<Ke;)de[Re-1]=y.quantile(D,Re/Ke);return Pe}function Pe(Re){if(!isNaN(Re=+Re))return X[y.bisect(de,Re)]}return Pe.domain=function(Re){return arguments.length?(D=Re.map(F).filter(z).sort(N),we()):D},Pe.range=function(Re){return arguments.length?(X=Re,we()):X},Pe.quantiles=function(){return de},Pe.invertExtent=function(Re){return Re=X.indexOf(Re),Re<0?[NaN,NaN]:[Re>0?de[Re-1]:D[0],Re<de.length?de[Re]:D[D.length-1]]},Pe.copy=function(){return BO(D,X)},we()}y.scale.quantize=function(){return ym(0,1,[0,1])};function ym(D,X,de){var we,Pe;function Re(We){return de[Math.max(0,Math.min(Pe,Math.floor(we*(We-D))))]}function Ke(){return we=de.length/(X-D),Pe=de.length-1,Re}return Re.domain=function(We){return arguments.length?(D=+We[0],X=+We[We.length-1],Ke()):[D,X]},Re.range=function(We){return arguments.length?(de=We,Ke()):de},Re.invertExtent=function(We){return We=de.indexOf(We),We=We<0?NaN:We/we+D,[We,We+1/we]},Re.copy=function(){return ym(D,X,de)},Ke()}y.scale.threshold=function(){return Tu([.5],[0,1])};function Tu(D,X){function de(we){if(we<=we)return X[y.bisect(D,we)]}return de.domain=function(we){return arguments.length?(D=we,de):D},de.range=function(we){return arguments.length?(X=we,de):X},de.invertExtent=function(we){return we=X.indexOf(we),[D[we-1],D[we]]},de.copy=function(){return Tu(D,X)},de}y.scale.identity=function(){return n0([0,1])};function n0(D){function X(de){return+de}return X.invert=X,X.domain=X.range=function(de){return arguments.length?(D=de.map(X),X):D},X.ticks=function(de){return Yp(D,de)},X.tickFormat=function(de,we){return d3_scale_linearTickFormat(D,de,we)},X.copy=function(){return n0(D)},X}y.svg={};function wy(){return 0}y.svg.arc=function(){var D=Ty,X=Cy,de=wy,we=wg,Pe=ky,Re=r0,Ke=sl;function We(){var vt=Math.max(0,+D.apply(this,arguments)),bt=Math.max(0,+X.apply(this,arguments)),Zt=Pe.apply(this,arguments)-mt,Ut=Re.apply(this,arguments)-mt,gn=Math.abs(Ut-Zt),An=Zt>Ut?0:1;if(bt<vt&&(jt=bt,bt=vt,vt=jt),gn>=dt)return rt(bt,An)+(vt?rt(vt,1-An):"")+"Z";var jt,tn,hn,_n,Pn=0,yn=0,cr,Zr,Jr,Ar,no,fo,ts,xo,go=[];if((_n=(+Ke.apply(this,arguments)||0)/2)&&(hn=we===wg?Math.sqrt(vt*vt+bt*bt):+we.apply(this,arguments),An||(yn*=-1),bt&&(yn=nn(hn/bt*Math.sin(_n))),vt&&(Pn=nn(hn/vt*Math.sin(_n)))),bt){cr=bt*Math.cos(Zt+yn),Zr=bt*Math.sin(Zt+yn),Jr=bt*Math.cos(Ut-yn),Ar=bt*Math.sin(Ut-yn);var js=Math.abs(Ut-Zt-2*yn)<=He?0:1;if(yn&&Xp(cr,Zr,Jr,Ar)===An^js){var ti=(Zt+Ut)/2;cr=bt*Math.cos(ti),Zr=bt*Math.sin(ti),Jr=Ar=null}}else cr=Zr=0;if(vt){no=vt*Math.cos(Ut-Pn),fo=vt*Math.sin(Ut-Pn),ts=vt*Math.cos(Zt+Pn),xo=vt*Math.sin(Zt+Pn);var ba=Math.abs(Zt-Ut+2*Pn)<=He?0:1;if(Pn&&Xp(no,fo,ts,xo)===1-An^ba){var Lr=(Zt+Ut)/2;no=vt*Math.cos(Lr),fo=vt*Math.sin(Lr),ts=xo=null}}else no=fo=0;if(gn>gt&&(jt=Math.min(Math.abs(bt-vt)/2,+de.apply(this,arguments)))>.001){tn=vt<bt^An?0:1;var Do=jt,ms=jt;if(gn<He){var _s=ts==null?[no,fo]:Jr==null?[cr,Zr]:Na([cr,Zr],[ts,xo],[Jr,Ar],[no,fo]),Ba=cr-_s[0],di=Zr-_s[1],Yi=Jr-_s[0],$i=Ar-_s[1],Uc=1/Math.sin(Math.acos((Ba*Yi+di*$i)/(Math.sqrt(Ba*Ba+di*di)*Math.sqrt(Yi*Yi+$i*$i)))/2),Ki=Math.sqrt(_s[0]*_s[0]+_s[1]*_s[1]);ms=Math.min(jt,(vt-Ki)/(Uc-1)),Do=Math.min(jt,(bt-Ki)/(Uc+1))}if(Jr!=null){var kc=ca(ts==null?[no,fo]:[ts,xo],[cr,Zr],bt,Do,An),Hl=ca([Jr,Ar],[no,fo],bt,Do,An);jt===Do?go.push("M",kc[0],"A",Do,",",Do," 0 0,",tn," ",kc[1],"A",bt,",",bt," 0 ",1-An^Xp(kc[1][0],kc[1][1],Hl[1][0],Hl[1][1]),",",An," ",Hl[1],"A",Do,",",Do," 0 0,",tn," ",Hl[0]):go.push("M",kc[0],"A",Do,",",Do," 0 1,",tn," ",Hl[0])}else go.push("M",cr,",",Zr);if(ts!=null){var ea=ca([cr,Zr],[ts,xo],vt,-ms,An),Ku=ca([no,fo],Jr==null?[cr,Zr]:[Jr,Ar],vt,-ms,An);jt===ms?go.push("L",Ku[0],"A",ms,",",ms," 0 0,",tn," ",Ku[1],"A",vt,",",vt," 0 ",An^Xp(Ku[1][0],Ku[1][1],ea[1][0],ea[1][1]),",",1-An," ",ea[1],"A",ms,",",ms," 0 0,",tn," ",ea[0]):go.push("L",Ku[0],"A",ms,",",ms," 0 0,",tn," ",ea[0])}else go.push("L",no,",",fo)}else go.push("M",cr,",",Zr),Jr!=null&&go.push("A",bt,",",bt," 0 ",js,",",An," ",Jr,",",Ar),go.push("L",no,",",fo),ts!=null&&go.push("A",vt,",",vt," 0 ",ba,",",1-An," ",ts,",",xo);return go.push("Z"),go.join("")}function rt(vt,bt){return"M0,"+vt+"A"+vt+","+vt+" 0 1,"+bt+" 0,"+-vt+"A"+vt+","+vt+" 0 1,"+bt+" 0,"+vt}return We.innerRadius=function(vt){return arguments.length?(D=Fn(vt),We):D},We.outerRadius=function(vt){return arguments.length?(X=Fn(vt),We):X},We.cornerRadius=function(vt){return arguments.length?(de=Fn(vt),We):de},We.padRadius=function(vt){return arguments.length?(we=vt==wg?wg:Fn(vt),We):we},We.startAngle=function(vt){return arguments.length?(Pe=Fn(vt),We):Pe},We.endAngle=function(vt){return arguments.length?(Re=Fn(vt),We):Re},We.padAngle=function(vt){return arguments.length?(Ke=Fn(vt),We):Ke},We.centroid=function(){var vt=(+D.apply(this,arguments)+ +X.apply(this,arguments))/2,bt=(+Pe.apply(this,arguments)+ +Re.apply(this,arguments))/2-mt;return[Math.cos(bt)*vt,Math.sin(bt)*vt]},We};var wg="auto";function Ty(D){return D.innerRadius}function Cy(D){return D.outerRadius}function ky(D){return D.startAngle}function r0(D){return D.endAngle}function sl(D){return D&&D.padAngle}function Xp(D,X,de,we){return(D-de)*X-(X-we)*D>0?0:1}function ca(D,X,de,we,Pe){var Re=D[0]-X[0],Ke=D[1]-X[1],We=(Pe?we:-we)/Math.sqrt(Re*Re+Ke*Ke),rt=We*Ke,vt=-We*Re,bt=D[0]+rt,Zt=D[1]+vt,Ut=X[0]+rt,gn=X[1]+vt,An=(bt+Ut)/2,jt=(Zt+gn)/2,tn=Ut-bt,hn=gn-Zt,_n=tn*tn+hn*hn,Pn=de-we,yn=bt*gn-Ut*Zt,cr=(hn<0?-1:1)*Math.sqrt(Math.max(0,Pn*Pn*_n-yn*yn)),Zr=(yn*hn-tn*cr)/_n,Jr=(-yn*tn-hn*cr)/_n,Ar=(yn*hn+tn*cr)/_n,no=(-yn*tn+hn*cr)/_n,fo=Zr-An,ts=Jr-jt,xo=Ar-An,go=no-jt;return fo*fo+ts*ts>xo*xo+go*go&&(Zr=Ar,Jr=no),[[Zr-rt,Jr-vt],[Zr*de/Pn,Jr*de/Pn]]}function uo(){return!0}function Gu(D){var X=es,de=Xs,we=uo,Pe=zl,Re=Pe.key,Ke=.7;function We(rt){var vt=[],bt=[],Zt=-1,Ut=rt.length,gn,An=Fn(X),jt=Fn(de);function tn(){vt.push("M",Pe(D(bt),Ke))}for(;++Zt<Ut;)we.call(this,gn=rt[Zt],Zt)?bt.push([+An.call(this,gn,Zt),+jt.call(this,gn,Zt)]):bt.length&&(tn(),bt=[]);return bt.length&&tn(),vt.length?vt.join(""):null}return We.x=function(rt){return arguments.length?(X=rt,We):X},We.y=function(rt){return arguments.length?(de=rt,We):de},We.defined=function(rt){return arguments.length?(we=rt,We):we},We.interpolate=function(rt){return arguments.length?(typeof rt=="function"?Re=Pe=rt:Re=(Pe=Xr.get(rt)||zl).key,We):Re},We.tension=function(rt){return arguments.length?(Ke=rt,We):Ke},We}y.svg.line=function(){return Gu(ne)};var Xr=y.map({linear:zl,"linear-closed":HS,step:Dd,"step-before":vi,"step-after":$d,basis:Ay,"basis-open":o0,"basis-closed":lr,bundle:QO,cardinal:_f,"cardinal-open":Gp,"cardinal-closed":al,monotone:jp});Xr.forEach(function(D,X){X.key=D,X.closed=/-closed$/.test(D)});function zl(D){return D.length>1?D.join("L"):D+"Z"}function HS(D){return D.join("L")+"Z"}function Dd(D){for(var X=0,de=D.length,we=D[0],Pe=[we[0],",",we[1]];++X<de;)Pe.push("H",(we[0]+(we=D[X])[0])/2,"V",we[1]);return de>1&&Pe.push("H",we[0]),Pe.join("")}function vi(D){for(var X=0,de=D.length,we=D[0],Pe=[we[0],",",we[1]];++X<de;)Pe.push("V",(we=D[X])[1],"H",we[0]);return Pe.join("")}function $d(D){for(var X=0,de=D.length,we=D[0],Pe=[we[0],",",we[1]];++X<de;)Pe.push("H",(we=D[X])[0],"V",we[1]);return Pe.join("")}function Gp(D,X){return D.length<4?zl(D):D[1]+bm(D.slice(1,-1),ju(D,X))}function al(D,X){return D.length<3?HS(D):D[0]+bm((D.push(D[0]),D),ju([D[D.length-2]].concat(D,[D[1]]),X))}function _f(D,X){return D.length<3?zl(D):D[0]+bm(D,ju(D,X))}function bm(D,X){if(X.length<1||D.length!=X.length&&D.length!=X.length+2)return zl(D);var de=D.length!=X.length,we="",Pe=D[0],Re=D[1],Ke=X[0],We=Ke,rt=1;if(de&&(we+="Q"+(Re[0]-Ke[0]*2/3)+","+(Re[1]-Ke[1]*2/3)+","+Re[0]+","+Re[1],Pe=D[1],rt=2),X.length>1){We=X[1],Re=D[rt],rt++,we+="C"+(Pe[0]+Ke[0])+","+(Pe[1]+Ke[1])+","+(Re[0]-We[0])+","+(Re[1]-We[1])+","+Re[0]+","+Re[1];for(var vt=2;vt<X.length;vt++,rt++)Re=D[rt],We=X[vt],we+="S"+(Re[0]-We[0])+","+(Re[1]-We[1])+","+Re[0]+","+Re[1]}if(de){var bt=D[rt];we+="Q"+(Re[0]+We[0]*2/3)+","+(Re[1]+We[1]*2/3)+","+bt[0]+","+bt[1]}return we}function ju(D,X){for(var de=[],we=(1-X)/2,Pe,Re=D[0],Ke=D[1],We=1,rt=D.length;++We<rt;)Pe=Re,Re=Ke,Ke=D[We],de.push([we*(Ke[0]-Pe[0]),we*(Ke[1]-Pe[1])]);return de}function Ay(D){if(D.length<3)return zl(D);var X=1,de=D.length,we=D[0],Pe=we[0],Re=we[1],Ke=[Pe,Pe,Pe,(we=D[1])[0]],We=[Re,Re,Re,we[1]],rt=[Pe,",",Re,"L",Ml(da,Ke),",",Ml(da,We)];for(D.push(D[de-1]);++X<=de;)we=D[X],Ke.shift(),Ke.push(we[0]),We.shift(),We.push(we[1]),aa(rt,Ke,We);return D.pop(),rt.push("L",we),rt.join("")}function o0(D){if(D.length<4)return zl(D);for(var X=[],de=-1,we=D.length,Pe,Re=[0],Ke=[0];++de<3;)Pe=D[de],Re.push(Pe[0]),Ke.push(Pe[1]);for(X.push(Ml(da,Re)+","+Ml(da,Ke)),--de;++de<we;)Pe=D[de],Re.shift(),Re.push(Pe[0]),Ke.shift(),Ke.push(Pe[1]),aa(X,Re,Ke);return X.join("")}function lr(D){for(var X,de=-1,we=D.length,Pe=we+4,Re,Ke=[],We=[];++de<4;)Re=D[de%we],Ke.push(Re[0]),We.push(Re[1]);for(X=[Ml(da,Ke),",",Ml(da,We)],--de;++de<Pe;)Re=D[de%we],Ke.shift(),Ke.push(Re[0]),We.shift(),We.push(Re[1]),aa(X,Ke,We);return X.join("")}function QO(D,X){var de=D.length-1;if(de)for(var we=D[0][0],Pe=D[0][1],Re=D[de][0]-we,Ke=D[de][1]-Pe,We=-1,rt,vt;++We<=de;)rt=D[We],vt=We/de,rt[0]=X*rt[0]+(1-X)*(we+vt*Re),rt[1]=X*rt[1]+(1-X)*(Pe+vt*Ke);return Ay(D)}function Ml(D,X){return D[0]*X[0]+D[1]*X[1]+D[2]*X[2]+D[3]*X[3]}var Kf=[0,2/3,1/3,0],Tg=[0,1/3,2/3,0],da=[0,1/6,2/3,1/6];function aa(D,X,de){D.push("C",Ml(Kf,X),",",Ml(Kf,de),",",Ml(Tg,X),",",Ml(Tg,de),",",Ml(da,X),",",Ml(da,de))}function El(D,X){return(X[1]-D[1])/(X[0]-D[0])}function Zl(D){for(var X=0,de=D.length-1,we=[],Pe=D[0],Re=D[1],Ke=we[0]=El(Pe,Re);++X<de;)we[X]=(Ke+(Ke=El(Pe=Re,Re=D[X+1])))/2;return we[X]=Ke,we}function Os(D){for(var X=[],de,we,Pe,Re,Ke=Zl(D),We=-1,rt=D.length-1;++We<rt;)de=El(D[We],D[We+1]),E(de)<gt?Ke[We]=Ke[We+1]=0:(we=Ke[We]/de,Pe=Ke[We+1]/de,Re=we*we+Pe*Pe,Re>9&&(Re=de*3/Math.sqrt(Re),Ke[We]=Re*we,Ke[We+1]=Re*Pe));for(We=-1;++We<=rt;)Re=(D[Math.min(rt,We+1)][0]-D[Math.max(0,We-1)][0])/(6*(1+Ke[We]*Ke[We])),X.push([Re||0,Ke[We]*Re||0]);return X}function jp(D){return D.length<3?zl(D):D[0]+bm(D,Os(D))}y.svg.line.radial=function(){var D=Gu(il);return D.radius=D.x,delete D.x,D.angle=D.y,delete D.y,D};function il(D){for(var X,de=-1,we=D.length,Pe,Re;++de<we;)X=D[de],Pe=X[0],Re=X[1]-mt,X[0]=Pe*Math.cos(Re),X[1]=Pe*Math.sin(Re);return D}function ei(D){var X=es,de=es,we=0,Pe=Xs,Re=uo,Ke=zl,We=Ke.key,rt=Ke,vt="L",bt=.7;function Zt(Ut){var gn=[],An=[],jt=[],tn=-1,hn=Ut.length,_n,Pn=Fn(X),yn=Fn(we),cr=X===de?function(){return Jr}:Fn(de),Zr=we===Pe?function(){return Ar}:Fn(Pe),Jr,Ar;function no(){gn.push("M",Ke(D(jt),bt),vt,rt(D(An.reverse()),bt),"Z")}for(;++tn<hn;)Re.call(this,_n=Ut[tn],tn)?(An.push([Jr=+Pn.call(this,_n,tn),Ar=+yn.call(this,_n,tn)]),jt.push([+cr.call(this,_n,tn),+Zr.call(this,_n,tn)])):An.length&&(no(),An=[],jt=[]);return An.length&&no(),gn.length?gn.join(""):null}return Zt.x=function(Ut){return arguments.length?(X=de=Ut,Zt):de},Zt.x0=function(Ut){return arguments.length?(X=Ut,Zt):X},Zt.x1=function(Ut){return arguments.length?(de=Ut,Zt):de},Zt.y=function(Ut){return arguments.length?(we=Pe=Ut,Zt):Pe},Zt.y0=function(Ut){return arguments.length?(we=Ut,Zt):we},Zt.y1=function(Ut){return arguments.length?(Pe=Ut,Zt):Pe},Zt.defined=function(Ut){return arguments.length?(Re=Ut,Zt):Re},Zt.interpolate=function(Ut){return arguments.length?(typeof Ut=="function"?We=Ke=Ut:We=(Ke=Xr.get(Ut)||zl).key,rt=Ke.reverse||Ke,vt=Ke.closed?"M":"L",Zt):We},Zt.tension=function(Ut){return arguments.length?(bt=Ut,Zt):bt},Zt}vi.reverse=$d,$d.reverse=vi,y.svg.area=function(){return ei(ne)},y.svg.area.radial=function(){var D=ei(il);return D.radius=D.x,delete D.x,D.innerRadius=D.x0,delete D.x0,D.outerRadius=D.x1,delete D.x1,D.angle=D.y,delete D.y,D.startAngle=D.y0,delete D.y0,D.endAngle=D.y1,delete D.y1,D};function qp(D){return D.source}function er(D){return D.target}y.svg.chord=function(){var D=qp,X=er,de=Zc,we=ky,Pe=r0;function Re(bt,Zt){var Ut=Ke(this,D,bt,Zt),gn=Ke(this,X,bt,Zt);return"M"+Ut.p0+rt(Ut.r,Ut.p1,Ut.a1-Ut.a0)+(We(Ut,gn)?vt(Ut.r,Ut.p1,Ut.r,Ut.p0):vt(Ut.r,Ut.p1,gn.r,gn.p0)+rt(gn.r,gn.p1,gn.a1-gn.a0)+vt(gn.r,gn.p1,Ut.r,Ut.p0))+"Z"}function Ke(bt,Zt,Ut,gn){var An=Zt.call(bt,Ut,gn),jt=de.call(bt,An,gn),tn=we.call(bt,An,gn)-mt,hn=Pe.call(bt,An,gn)-mt;return{r:jt,a0:tn,a1:hn,p0:[jt*Math.cos(tn),jt*Math.sin(tn)],p1:[jt*Math.cos(hn),jt*Math.sin(hn)]}}function We(bt,Zt){return bt.a0==Zt.a0&&bt.a1==Zt.a1}function rt(bt,Zt,Ut){return"A"+bt+","+bt+" 0 "+ +(Ut>He)+",1 "+Zt}function vt(bt,Zt,Ut,gn){return"Q 0,0 "+gn}return Re.radius=function(bt){return arguments.length?(de=Fn(bt),Re):de},Re.source=function(bt){return arguments.length?(D=Fn(bt),Re):D},Re.target=function(bt){return arguments.length?(X=Fn(bt),Re):X},Re.startAngle=function(bt){return arguments.length?(we=Fn(bt),Re):we},Re.endAngle=function(bt){return arguments.length?(Pe=Fn(bt),Re):Pe},Re};function Zc(D){return D.radius}y.svg.diagonal=function(){var D=qp,X=er,de=Cg;function we(Pe,Re){var Ke=D.call(this,Pe,Re),We=X.call(this,Pe,Re),rt=(Ke.y+We.y)/2,vt=[Ke,{x:Ke.x,y:rt},{x:We.x,y:rt},We];return vt=vt.map(de),"M"+vt[0]+"C"+vt[1]+" "+vt[2]+" "+vt[3]}return we.source=function(Pe){return arguments.length?(D=Fn(Pe),we):D},we.target=function(Pe){return arguments.length?(X=Fn(Pe),we):X},we.projection=function(Pe){return arguments.length?(de=Pe,we):de},we};function Cg(D){return[D.x,D.y]}y.svg.diagonal.radial=function(){var D=y.svg.diagonal(),X=Cg,de=D.projection;return D.projection=function(we){return arguments.length?de(zs(X=we)):X},D};function zs(D){return function(){var X=D.apply(this,arguments),de=X[0],we=X[1]-mt;return[de*Math.cos(we),de*Math.sin(we)]}}y.svg.symbol=function(){var D=US,X=Rf;function de(we,Pe){return(s0.get(D.call(this,we,Pe))||qu)(X.call(this,we,Pe))}return de.type=function(we){return arguments.length?(D=Fn(we),de):D},de.size=function(we){return arguments.length?(X=Fn(we),de):X},de};function Rf(){return 64}function US(){return"circle"}function qu(D){var X=Math.sqrt(D/He);return"M0,"+X+"A"+X+","+X+" 0 1,1 0,"+-X+"A"+X+","+X+" 0 1,1 0,"+X+"Z"}var s0=y.map({circle:qu,cross:function(D){var X=Math.sqrt(D/5)/2;return"M"+-3*X+","+-X+"H"+-X+"V"+-3*X+"H"+X+"V"+-X+"H"+3*X+"V"+X+"H"+X+"V"+3*X+"H"+-X+"V"+X+"H"+-3*X+"Z"},diamond:function(D){var X=Math.sqrt(D/(2*a0)),de=X*a0;return"M0,"+-X+"L"+de+",0 0,"+X+" "+-de+",0Z"},square:function(D){var X=Math.sqrt(D)/2;return"M"+-X+","+-X+"L"+X+","+-X+" "+X+","+X+" "+-X+","+X+"Z"},"triangle-down":function(D){var X=Math.sqrt(D/su),de=X*su/2;return"M0,"+de+"L"+X+","+-de+" "+-X+","+-de+"Z"},"triangle-up":function(D){var X=Math.sqrt(D/su),de=X*su/2;return"M0,"+-de+"L"+X+","+de+" "+-X+","+de+"Z"}});y.svg.symbolTypes=s0.keys();var su=Math.sqrt(3),a0=Math.tan(30*Tt);oe.transition=function(D){for(var X=Ld||++ll,de=ed(D),we=[],Pe,Re,Ke=Jf||{time:Date.now(),ease:Oc,delay:0,duration:250},We=-1,rt=this.length;++We<rt;){we.push(Pe=[]);for(var vt=this[We],bt=-1,Zt=vt.length;++bt<Zt;)(Re=vt[bt])&&Mn(Re,bt,de,X,Ke),Pe.push(Re)}return au(we,de,X)},oe.interrupt=function(D){return this.each(D==null?rc:Ws(ed(D)))};var rc=Ws(ed());function Ws(D){return function(){var X,de,we;(X=this[D])&&(we=X[de=X.active])&&(we.timer.c=null,we.timer.t=NaN,--X.count?delete X[de]:delete this[D],X.active+=.5,we.event&&we.event.interrupt.call(this,this.__data__,we.index))}}function au(D,X,de){return re(D,fi),D.namespace=X,D.id=de,D}var fi=[],ll=0,Ld,Jf;fi.call=oe.call,fi.empty=oe.empty,fi.node=oe.node,fi.size=oe.size,y.transition=function(D,X){return D&&D.transition?Ld?D.transition(X):D:y.selection().transition(D)},y.transition.prototype=fi,fi.select=function(D){var X=this.id,de=this.namespace,we=[],Pe,Re,Ke;D=Se(D);for(var We=-1,rt=this.length;++We<rt;){we.push(Pe=[]);for(var vt=this[We],bt=-1,Zt=vt.length;++bt<Zt;)(Ke=vt[bt])&&(Re=D.call(Ke,Ke.__data__,bt,We))?("__data__"in Ke&&(Re.__data__=Ke.__data__),Mn(Re,bt,de,X,Ke[de][X]),Pe.push(Re)):Pe.push(null)}return au(we,de,X)},fi.selectAll=function(D){var X=this.id,de=this.namespace,we=[],Pe,Re,Ke,We,rt;D=le(D);for(var vt=-1,bt=this.length;++vt<bt;)for(var Zt=this[vt],Ut=-1,gn=Zt.length;++Ut<gn;)if(Ke=Zt[Ut]){rt=Ke[de][X],Re=D.call(Ke,Ke.__data__,Ut,vt),we.push(Pe=[]);for(var An=-1,jt=Re.length;++An<jt;)(We=Re[An])&&Mn(We,An,de,X,rt),Pe.push(We)}return au(we,de,X)},fi.filter=function(D){var X=[],de,we,Pe;typeof D!="function"&&(D=Xt(D));for(var Re=0,Ke=this.length;Re<Ke;Re++){X.push(de=[]);for(var we=this[Re],We=0,rt=we.length;We<rt;We++)(Pe=we[We])&&D.call(Pe,Pe.__data__,We,Re)&&de.push(Pe)}return au(X,this.namespace,this.id)},fi.tween=function(D,X){var de=this.id,we=this.namespace;return arguments.length<2?this.node()[we][de].tween.get(D):Nt(this,X==null?function(Pe){Pe[we][de].tween.remove(D)}:function(Pe){Pe[we][de].tween.set(D,X)})};function Id(D,X,de,we){var Pe=D.id,Re=D.namespace;return Nt(D,typeof de=="function"?function(Ke,We,rt){Ke[Re][Pe].tween.set(X,we(de.call(Ke,Ke.__data__,We,rt)))}:(de=we(de),function(Ke){Ke[Re][Pe].tween.set(X,de)}))}fi.attr=function(D,X){if(arguments.length<2){for(X in D)this.attr(X,D[X]);return this}var de=D=="transform"?qf:bc,we=y.ns.qualify(D);function Pe(){this.removeAttribute(we)}function Re(){this.removeAttributeNS(we.space,we.local)}function Ke(rt){return rt==null?Pe:(rt+="",function(){var vt=this.getAttribute(we),bt;return vt!==rt&&(bt=de(vt,rt),function(Zt){this.setAttribute(we,bt(Zt))})})}function We(rt){return rt==null?Re:(rt+="",function(){var vt=this.getAttributeNS(we.space,we.local),bt;return vt!==rt&&(bt=de(vt,rt),function(Zt){this.setAttributeNS(we.space,we.local,bt(Zt))})})}return Id(this,"attr."+D,X,we.local?We:Ke)},fi.attrTween=function(D,X){var de=y.ns.qualify(D);function we(Re,Ke){var We=X.call(this,Re,Ke,this.getAttribute(de));return We&&function(rt){this.setAttribute(de,We(rt))}}function Pe(Re,Ke){var We=X.call(this,Re,Ke,this.getAttributeNS(de.space,de.local));return We&&function(rt){this.setAttributeNS(de.space,de.local,We(rt))}}return this.tween("attr."+D,de.local?Pe:we)},fi.style=function(D,X,de){var we=arguments.length;if(we<3){if(typeof D!="string"){we<2&&(X="");for(de in D)this.style(de,D[de],X);return this}de=""}function Pe(){this.style.removeProperty(D)}function Re(Ke){return Ke==null?Pe:(Ke+="",function(){var We=w(this).getComputedStyle(this,null).getPropertyValue(D),rt;return We!==Ke&&(rt=bc(We,Ke),function(vt){this.style.setProperty(D,rt(vt),de)})})}return Id(this,"style."+D,X,Re)},fi.styleTween=function(D,X,de){arguments.length<3&&(de="");function we(Pe,Re){var Ke=X.call(this,Pe,Re,w(this).getComputedStyle(this,null).getPropertyValue(D));return Ke&&function(We){this.style.setProperty(D,Ke(We),de)}}return this.tween("style."+D,we)},fi.text=function(D){return Id(this,"text",D,wc)};function wc(D){return D==null&&(D=""),function(){this.textContent=D}}fi.remove=function(){var D=this.namespace;return this.each("end.transition",function(){var X;this[D].count<2&&(X=this.parentNode)&&X.removeChild(this)})},fi.ease=function(D){var X=this.id,de=this.namespace;return arguments.length<1?this.node()[de][X].ease:(typeof D!="function"&&(D=y.ease.apply(y,arguments)),Nt(this,function(we){we[de][X].ease=D}))},fi.delay=function(D){var X=this.id,de=this.namespace;return arguments.length<1?this.node()[de][X].delay:Nt(this,typeof D=="function"?function(we,Pe,Re){we[de][X].delay=+D.call(we,we.__data__,Pe,Re)}:(D=+D,function(we){we[de][X].delay=D}))},fi.duration=function(D){var X=this.id,de=this.namespace;return arguments.length<1?this.node()[de][X].duration:Nt(this,typeof D=="function"?function(we,Pe,Re){we[de][X].duration=Math.max(1,D.call(we,we.__data__,Pe,Re))}:(D=Math.max(1,D),function(we){we[de][X].duration=D}))},fi.each=function(D,X){var de=this.id,we=this.namespace;if(arguments.length<2){var Pe=Jf,Re=Ld;try{Ld=de,Nt(this,function(Ke,We,rt){Jf=Ke[we][de],D.call(Ke,Ke.__data__,We,rt)})}finally{Jf=Pe,Ld=Re}}else Nt(this,function(Ke){var We=Ke[we][de];(We.event||(We.event=y.dispatch("start","end","interrupt"))).on(D,X)});return this},fi.transition=function(){for(var D=this.id,X=++ll,de=this.namespace,we=[],Pe,Re,Ke,We,rt=0,vt=this.length;rt<vt;rt++){we.push(Pe=[]);for(var Re=this[rt],bt=0,Zt=Re.length;bt<Zt;bt++)(Ke=Re[bt])&&(We=Ke[de][D],Mn(Ke,bt,de,X,{time:We.time,ease:We.ease,delay:We.delay+We.duration,duration:We.duration})),Pe.push(Ke)}return au(we,de,X)};function ed(D){return D==null?"__transition__":"__transition_"+D+"__"}function Mn(D,X,de,we,Pe){var Re=D[de]||(D[de]={active:0,count:0}),Ke=Re[we],We,rt,vt,bt,Zt;function Ut(jt){var tn=Ke.delay;if(rt.t=tn+We,tn<=jt)return gn(jt-tn);rt.c=gn}function gn(jt){var tn=Re.active,hn=Re[tn];hn&&(hn.timer.c=null,hn.timer.t=NaN,--Re.count,delete Re[tn],hn.event&&hn.event.interrupt.call(D,D.__data__,hn.index));for(var _n in Re)if(+_n<we){var Pn=Re[_n];Pn.timer.c=null,Pn.timer.t=NaN,--Re.count,delete Re[_n]}rt.c=An,So(function(){return rt.c&&An(jt||1)&&(rt.c=null,rt.t=NaN),1},0,We),Re.active=we,Ke.event&&Ke.event.start.call(D,D.__data__,X),Zt=[],Ke.tween.forEach(function(yn,cr){(cr=cr.call(D,D.__data__,X))&&Zt.push(cr)}),bt=Ke.ease,vt=Ke.duration}function An(jt){for(var tn=jt/vt,hn=bt(tn),_n=Zt.length;_n>0;)Zt[--_n].call(D,hn);if(tn>=1)return Ke.event&&Ke.event.end.call(D,D.__data__,X),--Re.count?delete Re[we]:delete D[de],1}Ke||(We=Pe.time,rt=So(Ut,0,We),Ke=Re[we]={tween:new ie,time:We,timer:rt,delay:Pe.delay,duration:Pe.duration,ease:Pe.ease,index:X},Pe=null,++Re.count)}y.svg.axis=function(){var D=y.scale.linear(),X=Tc,de=6,we=6,Pe=3,Re=[10],Ke=null,We;function rt(vt){vt.each(function(){var bt=y.select(this),Zt=this.__chart__||D,Ut=this.__chart__=D.copy(),gn=Ke??(Ut.ticks?Ut.ticks.apply(Ut,Re):Ut.domain()),An=We??(Ut.tickFormat?Ut.tickFormat.apply(Ut,Re):ne),jt=bt.selectAll(".tick").data(gn,Ut),tn=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",gt),hn=y.transition(jt.exit()).style("opacity",gt).remove(),_n=y.transition(jt.order()).style("opacity",1),Pn=Math.max(de,0)+Pe,yn,cr=Up(Ut),Zr=bt.selectAll(".domain").data([0]),Jr=(Zr.enter().append("path").attr("class","domain"),y.transition(Zr));tn.append("line"),tn.append("text");var Ar=tn.select("line"),no=_n.select("line"),fo=jt.select("text").text(An),ts=tn.select("text"),xo=_n.select("text"),go=X==="top"||X==="left"?-1:1,js,ti,ba,Lr;if(X==="bottom"||X==="top"?(yn=nd,js="x",ba="y",ti="x2",Lr="y2",fo.attr("dy",go<0?"0em":".71em").style("text-anchor","middle"),Jr.attr("d","M"+cr[0]+","+go*we+"V0H"+cr[1]+"V"+go*we)):(yn=Hc,js="y",ba="x",ti="y2",Lr="x2",fo.attr("dy",".32em").style("text-anchor",go<0?"end":"start"),Jr.attr("d","M"+go*we+","+cr[0]+"H0V"+cr[1]+"H"+go*we)),Ar.attr(Lr,go*de),ts.attr(ba,go*Pn),no.attr(ti,0).attr(Lr,go*de),xo.attr(js,0).attr(ba,go*Pn),Ut.rangeBand){var Do=Ut,ms=Do.rangeBand()/2;Zt=Ut=function(_s){return Do(_s)+ms}}else Zt.rangeBand?Zt=Ut:hn.call(yn,Ut,Zt);tn.call(yn,Zt,Ut),_n.call(yn,Ut,Ut)})}return rt.scale=function(vt){return arguments.length?(D=vt,rt):D},rt.orient=function(vt){return arguments.length?(X=vt in td?vt+"":Tc,rt):X},rt.ticks=function(){return arguments.length?(Re=x(arguments),rt):Re},rt.tickValues=function(vt){return arguments.length?(Ke=vt,rt):Ke},rt.tickFormat=function(vt){return arguments.length?(We=vt,rt):We},rt.tickSize=function(vt){var bt=arguments.length;return bt?(de=+vt,we=+arguments[bt-1],rt):de},rt.innerTickSize=function(vt){return arguments.length?(de=+vt,rt):de},rt.outerTickSize=function(vt){return arguments.length?(we=+vt,rt):we},rt.tickPadding=function(vt){return arguments.length?(Pe=+vt,rt):Pe},rt.tickSubdivide=function(){return arguments.length&&rt},rt};var Tc="bottom",td={top:1,right:1,bottom:1,left:1};function nd(D,X,de){D.attr("transform",function(we){var Pe=X(we);return"translate("+(isFinite(Pe)?Pe:de(we))+",0)"})}function Hc(D,X,de){D.attr("transform",function(we){var Pe=X(we);return"translate(0,"+(isFinite(Pe)?Pe:de(we))+")"})}y.svg.brush=function(){var D=De(bt,"brushstart","brush","brushend"),X=null,de=null,we=[0,0],Pe=[0,0],Re,Ke,We=!0,rt=!0,vt=Di[0];function bt(jt){jt.each(function(){var tn=y.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",An).on("touchstart.brush",An),hn=tn.selectAll(".background").data([0]);hn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),tn.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var _n=tn.selectAll(".resize").data(vt,ne);_n.exit().remove(),_n.enter().append("g").attr("class",function(Zr){return"resize "+Zr}).style("cursor",function(Zr){return Wi[Zr]}).append("rect").attr("x",function(Zr){return/[ew]$/.test(Zr)?-3:null}).attr("y",function(Zr){return/^[ns]/.test(Zr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),_n.style("display",bt.empty()?"none":null);var Pn=y.transition(tn),yn=y.transition(hn),cr;X&&(cr=Up(X),yn.attr("x",cr[0]).attr("width",cr[1]-cr[0]),Ut(Pn)),de&&(cr=Up(de),yn.attr("y",cr[0]).attr("height",cr[1]-cr[0]),gn(Pn)),Zt(Pn)})}bt.event=function(jt){jt.each(function(){var tn=D.of(this,arguments),hn={x:we,y:Pe,i:Re,j:Ke},_n=this.__chart__||hn;this.__chart__=hn,Ld?y.select(this).transition().each("start.brush",function(){Re=_n.i,Ke=_n.j,we=_n.x,Pe=_n.y,tn({type:"brushstart"})}).tween("brush:brush",function(){var Pn=Cf(we,hn.x),yn=Cf(Pe,hn.y);return Re=Ke=null,function(cr){we=hn.x=Pn(cr),Pe=hn.y=yn(cr),tn({type:"brush",mode:"resize"})}}).each("end.brush",function(){Re=hn.i,Ke=hn.j,tn({type:"brush",mode:"resize"}),tn({type:"brushend"})}):(tn({type:"brushstart"}),tn({type:"brush",mode:"resize"}),tn({type:"brushend"}))})};function Zt(jt){jt.selectAll(".resize").attr("transform",function(tn){return"translate("+we[+/e$/.test(tn)]+","+Pe[+/^s/.test(tn)]+")"})}function Ut(jt){jt.select(".extent").attr("x",we[0]),jt.selectAll(".extent,.n>rect,.s>rect").attr("width",we[1]-we[0])}function gn(jt){jt.select(".extent").attr("y",Pe[0]),jt.selectAll(".extent,.e>rect,.w>rect").attr("height",Pe[1]-Pe[0])}function An(){var jt=this,tn=y.select(y.event.target),hn=D.of(jt,arguments),_n=y.select(jt),Pn=tn.datum(),yn=!/^(n|s)$/.test(Pn)&&X,cr=!/^(e|w)$/.test(Pn)&&de,Zr=tn.classed("extent"),Jr=Sn(jt),Ar,no=y.mouse(jt),fo,ts=y.select(w(jt)).on("keydown.brush",js).on("keyup.brush",ti);if(y.event.changedTouches?ts.on("touchmove.brush",ba).on("touchend.brush",Do):ts.on("mousemove.brush",ba).on("mouseup.brush",Do),_n.interrupt().selectAll("*").interrupt(),Zr)no[0]=we[0]-no[0],no[1]=Pe[0]-no[1];else if(Pn){var xo=+/w$/.test(Pn),go=+/^n/.test(Pn);fo=[we[1-xo]-no[0],Pe[1-go]-no[1]],no[0]=we[xo],no[1]=Pe[go]}else y.event.altKey&&(Ar=no.slice());_n.style("pointer-events","none").selectAll(".resize").style("display",null),y.select("body").style("cursor",tn.style("cursor")),hn({type:"brushstart"}),ba();function js(){y.event.keyCode==32&&(Zr||(Ar=null,no[0]-=we[1],no[1]-=Pe[1],Zr=2),$e())}function ti(){y.event.keyCode==32&&Zr==2&&(no[0]+=we[1],no[1]+=Pe[1],Zr=0,$e())}function ba(){var ms=y.mouse(jt),_s=!1;fo&&(ms[0]+=fo[0],ms[1]+=fo[1]),Zr||(y.event.altKey?(Ar||(Ar=[(we[0]+we[1])/2,(Pe[0]+Pe[1])/2]),no[0]=we[+(ms[0]<Ar[0])],no[1]=Pe[+(ms[1]<Ar[1])]):Ar=null),yn&&Lr(ms,X,0)&&(Ut(_n),_s=!0),cr&&Lr(ms,de,1)&&(gn(_n),_s=!0),_s&&(Zt(_n),hn({type:"brush",mode:Zr?"move":"resize"}))}function Lr(ms,_s,Ba){var di=Up(_s),Yi=di[0],$i=di[1],Uc=no[Ba],Ki=Ba?Pe:we,kc=Ki[1]-Ki[0],Hl,ea;if(Zr&&(Yi-=Uc,$i-=kc+Uc),Hl=(Ba?rt:We)?Math.max(Yi,Math.min($i,ms[Ba])):ms[Ba],Zr?ea=(Hl+=Uc)+kc:(Ar&&(Uc=Math.max(Yi,Math.min($i,2*Ar[Ba]-Hl))),Uc<Hl?(ea=Hl,Hl=Uc):ea=Uc),Ki[0]!=Hl||Ki[1]!=ea)return Ba?Ke=null:Re=null,Ki[0]=Hl,Ki[1]=ea,!0}function Do(){ba(),_n.style("pointer-events","all").selectAll(".resize").style("display",bt.empty()?"none":null),y.select("body").style("cursor",null),ts.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Jr(),hn({type:"brushend"})}}return bt.x=function(jt){return arguments.length?(X=jt,vt=Di[!X<<1|!de],bt):X},bt.y=function(jt){return arguments.length?(de=jt,vt=Di[!X<<1|!de],bt):de},bt.clamp=function(jt){return arguments.length?(X&&de?(We=!!jt[0],rt=!!jt[1]):X?We=!!jt:de&&(rt=!!jt),bt):X&&de?[We,rt]:X?We:de?rt:null},bt.extent=function(jt){var tn,hn,_n,Pn,yn;return arguments.length?(X&&(tn=jt[0],hn=jt[1],de&&(tn=tn[0],hn=hn[0]),Re=[tn,hn],X.invert&&(tn=X(tn),hn=X(hn)),hn<tn&&(yn=tn,tn=hn,hn=yn),(tn!=we[0]||hn!=we[1])&&(we=[tn,hn])),de&&(_n=jt[0],Pn=jt[1],X&&(_n=_n[1],Pn=Pn[1]),Ke=[_n,Pn],de.invert&&(_n=de(_n),Pn=de(Pn)),Pn<_n&&(yn=_n,_n=Pn,Pn=yn),(_n!=Pe[0]||Pn!=Pe[1])&&(Pe=[_n,Pn])),bt):(X&&(Re?(tn=Re[0],hn=Re[1]):(tn=we[0],hn=we[1],X.invert&&(tn=X.invert(tn),hn=X.invert(hn)),hn<tn&&(yn=tn,tn=hn,hn=yn))),de&&(Ke?(_n=Ke[0],Pn=Ke[1]):(_n=Pe[0],Pn=Pe[1],de.invert&&(_n=de.invert(_n),Pn=de.invert(Pn)),Pn<_n&&(yn=_n,_n=Pn,Pn=yn))),X&&de?[[tn,_n],[hn,Pn]]:X?[tn,hn]:de&&[_n,Pn])},bt.clear=function(){return bt.empty()||(we=[0,0],Pe=[0,0],Re=Ke=null),bt},bt.empty=function(){return!!X&&we[0]==we[1]||!!de&&Pe[0]==Pe[1]},y.rebind(bt,D,"on")};var Wi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Di=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];y.text=zr(function(D){return D.responseText}),y.json=function(D,X){return dr(D,"application/json",qC,X)};function qC(D){return JSON.parse(D.responseText)}y.html=function(D,X){return dr(D,"text/html",Cc,X)};function Cc(D){var X=k.createRange();return X.selectNode(k.body),X.createContextualFragment(D.responseText)}y.xml=zr(function(D){return D.responseXML}),p=y,v=typeof p=="function"?p.call(h,u,h,f):p,v!==void 0&&(f.exports=v)}).apply(self)},721:function(f,h,u){u.d(h,{WU:function(){return B},FF:function(){return U}});function p(W){return Math.abs(W=Math.round(W))>=1e21?W.toLocaleString("en").replace(/,/g,""):W.toString(10)}function v(W,Y){if((ie=(W=Y?W.toExponential(Y-1):W.toExponential()).indexOf("e"))<0)return null;var ie,L=W.slice(0,ie);return[L.length>1?L[0]+L.slice(2):L,+W.slice(ie+1)]}function y(W){return W=v(Math.abs(W)),W?W[1]:NaN}function b(W,Y){return function(ie,L){for(var me=ie.length,ae=[],q=0,fe=W[0],ee=0;me>0&&fe>0&&(ee+fe+1>L&&(fe=Math.max(1,L-ee)),ae.push(ie.substring(me-=fe,me+fe)),!((ee+=fe+1)>L));)fe=W[q=(q+1)%W.length];return ae.reverse().join(Y)}}function x(W){return function(Y){return Y.replace(/[0-9]/g,function(ie){return W[+ie]})}}var k=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function C(W){if(!(Y=k.exec(W)))throw new Error("invalid format: "+W);var Y;return new w({fill:Y[1],align:Y[2],sign:Y[3],symbol:Y[4],zero:Y[5],width:Y[6],comma:Y[7],precision:Y[8]&&Y[8].slice(1),trim:Y[9],type:Y[10]})}C.prototype=w.prototype;function w(W){this.fill=W.fill===void 0?" ":W.fill+"",this.align=W.align===void 0?">":W.align+"",this.sign=W.sign===void 0?"-":W.sign+"",this.symbol=W.symbol===void 0?"":W.symbol+"",this.zero=!!W.zero,this.width=W.width===void 0?void 0:+W.width,this.comma=!!W.comma,this.precision=W.precision===void 0?void 0:+W.precision,this.trim=!!W.trim,this.type=W.type===void 0?"":W.type+""}w.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T(W){e:for(var Y=W.length,ie=1,L=-1,me;ie<Y;++ie)switch(W[ie]){case".":L=me=ie;break;case"0":L===0&&(L=ie),me=ie;break;default:if(!+W[ie])break e;L>0&&(L=0);break}return L>0?W.slice(0,L)+W.slice(me+1):W}var R;function M(W,Y){var ie=v(W,Y);if(!ie)return W+"";var L=ie[0],me=ie[1],ae=me-(R=Math.max(-8,Math.min(8,Math.floor(me/3)))*3)+1,q=L.length;return ae===q?L:ae>q?L+new Array(ae-q+1).join("0"):ae>0?L.slice(0,ae)+"."+L.slice(ae):"0."+new Array(1-ae).join("0")+v(W,Math.max(0,Y+ae-1))[0]}function I(W,Y){var ie=v(W,Y);if(!ie)return W+"";var L=ie[0],me=ie[1];return me<0?"0."+new Array(-me).join("0")+L:L.length>me+1?L.slice(0,me+1)+"."+L.slice(me+1):L+new Array(me-L.length+2).join("0")}var V={"%":function(W,Y){return(W*100).toFixed(Y)},b:function(W){return Math.round(W).toString(2)},c:function(W){return W+""},d:p,e:function(W,Y){return W.toExponential(Y)},f:function(W,Y){return W.toFixed(Y)},g:function(W,Y){return W.toPrecision(Y)},o:function(W){return Math.round(W).toString(8)},p:function(W,Y){return I(W*100,Y)},r:I,s:M,X:function(W){return Math.round(W).toString(16).toUpperCase()},x:function(W){return Math.round(W).toString(16)}};function N(W){return W}var F=Array.prototype.map,z=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function U(W){var Y=W.grouping===void 0||W.thousands===void 0?N:b(F.call(W.grouping,Number),W.thousands+""),ie=W.currency===void 0?"":W.currency[0]+"",L=W.currency===void 0?"":W.currency[1]+"",me=W.decimal===void 0?".":W.decimal+"",ae=W.numerals===void 0?N:x(F.call(W.numerals,String)),q=W.percent===void 0?"%":W.percent+"",fe=W.minus===void 0?"-":W.minus+"",ee=W.nan===void 0?"NaN":W.nan+"";function be(Be){Be=C(Be);var ge=Be.fill,ne=Be.align,pe=Be.sign,G=Be.symbol,Oe=Be.zero,xe=Be.width,Le=Be.comma,ke=Be.precision,$e=Be.trim,Ze=Be.type;Ze==="n"?(Le=!0,Ze="g"):V[Ze]||(ke===void 0&&(ke=12),$e=!0,Ze="g"),(Oe||ge==="0"&&ne==="=")&&(Oe=!0,ge="0",ne="=");var De=G==="$"?ie:G==="#"&&/[boxX]/.test(Ze)?"0"+Ze.toLowerCase():"",Ie=G==="$"?L:/[%p]/.test(Ze)?q:"",re=V[Ze],ye=/[defgprs%]/.test(Ze);ke=ke===void 0?6:/[gprs]/.test(Ze)?Math.max(1,Math.min(21,ke)):Math.max(0,Math.min(20,ke));function te(se){var ue=De,oe=Ie,Se,le,Ce;if(Ze==="c")oe=re(se)+oe,se="";else{se=+se;var Qe=se<0||1/se<0;if(se=isNaN(se)?ee:re(Math.abs(se),ke),$e&&(se=T(se)),Qe&&+se==0&&pe!=="+"&&(Qe=!1),ue=(Qe?pe==="("?pe:fe:pe==="-"||pe==="("?"":pe)+ue,oe=(Ze==="s"?z[8+R/3]:"")+oe+(Qe&&pe==="("?")":""),ye){for(Se=-1,le=se.length;++Se<le;)if(Ce=se.charCodeAt(Se),48>Ce||Ce>57){oe=(Ce===46?me+se.slice(Se+1):se.slice(Se))+oe,se=se.slice(0,Se);break}}}Le&&!Oe&&(se=Y(se,1/0));var ze=ue.length+se.length+oe.length,Xe=ze<xe?new Array(xe-ze+1).join(ge):"";switch(Le&&Oe&&(se=Y(Xe+se,Xe.length?xe-oe.length:1/0),Xe=""),ne){case"<":se=ue+se+oe+Xe;break;case"=":se=ue+Xe+se+oe;break;case"^":se=Xe.slice(0,ze=Xe.length>>1)+ue+se+oe+Xe.slice(ze);break;default:se=Xe+ue+se+oe;break}return ae(se)}return te.toString=function(){return Be+""},te}function Te(Be,ge){var ne=be((Be=C(Be),Be.type="f",Be)),pe=Math.max(-8,Math.min(8,Math.floor(y(ge)/3)))*3,G=Math.pow(10,-pe),Oe=z[8+pe/3];return function(xe){return ne(G*xe)+Oe}}return{format:be,formatPrefix:Te}}var Q,B;E({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function E(W){return Q=U(W),B=Q.format,Q.formatPrefix,Q}},4096:function(f,h,u){u.d(h,{i$:function(){return Un},Dq:function(){return R},g0:function(){return Sn}});var p=u(8176),v=u(8480),y=u(9879),b=u(2301),x=u(4823),k=u(9791);function C(ut){if(0<=ut.y&&ut.y<100){var xt=new Date(-1,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L);return xt.setFullYear(ut.y),xt}return new Date(ut.y,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L)}function w(ut){if(0<=ut.y&&ut.y<100){var xt=new Date(Date.UTC(-1,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L));return xt.setUTCFullYear(ut.y),xt}return new Date(Date.UTC(ut.y,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L))}function T(ut,xt,gt){return{y:ut,m:xt,d:gt,H:0,M:0,S:0,L:0}}function R(ut){var xt=ut.dateTime,gt=ut.date,Dt=ut.time,He=ut.periods,at=ut.days,dt=ut.shortDays,mt=ut.months,Tt=ut.shortMonths,Pt=U(He),dn=Q(He),nn=U(at),Wt=Q(at),Rt=U(dt),fn=Q(dt),Hn=U(mt),nr=Q(mt),Er=U(Tt),zt=Q(Tt),vr={a:Fe,A:Ee,b:St,B:Ct,c:null,d:Le,e:Le,f:Ie,H:ke,I:$e,j:Ze,L:De,m:re,M:ye,p:Lt,q:Ft,Q:an,s:wn,S:te,u:se,U:ue,V:oe,w:Se,W:le,x:null,X:null,y:Ce,Y:Qe,Z:ze,"%":Yn},Wn={a:Ht,A:$t,b:Mt,B:en,c:null,d:Xe,e:Xe,f:et,H:ct,I:pt,j:Ye,L:je,m:yt,M:ft,p:un,q:Jt,Q:an,s:wn,S:tt,u:wt,U:Xt,V:Gt,w:Nt,W:Bt,x:null,X:null,y:vn,Y:En,Z:ln,"%":Yn},Br={a:Rn,A:xr,b:sr,B:Sr,c:ao,d:ee,e:ee,f:pe,H:Te,I:Te,j:be,L:ne,m:fe,M:Be,p:_r,q,Q:Oe,s:xe,S:ge,u:E,U:W,V:Y,w:B,W:ie,x:Oo,X:wr,y:me,Y:L,Z:ae,"%":G};vr.x=kr(gt,vr),vr.X=kr(Dt,vr),vr.c=kr(xt,vr),Wn.x=kr(gt,Wn),Wn.X=kr(Dt,Wn),Wn.c=kr(xt,Wn);function kr(rn,Tn){return function(On){var pn=[],Jn=-1,Fn=0,zr=rn.length,dr,Hr,ar;for(On instanceof Date||(On=new Date(+On));++Jn<zr;)rn.charCodeAt(Jn)===37&&(pn.push(rn.slice(Fn,Jn)),(Hr=M[dr=rn.charAt(++Jn)])!=null?dr=rn.charAt(++Jn):Hr=dr==="e"?" ":"0",(ar=Tn[dr])&&(dr=ar(On,Hr)),pn.push(dr),Fn=Jn+1);return pn.push(rn.slice(Fn,Jn)),pn.join("")}}function or(rn,Tn){return function(On){var pn=T(1900,void 0,1),Jn=jr(pn,rn,On+="",0),Fn,zr;if(Jn!=On.length)return null;if("Q"in pn)return new Date(pn.Q);if("s"in pn)return new Date(pn.s*1e3+("L"in pn?pn.L:0));if(Tn&&!("Z"in pn)&&(pn.Z=0),"p"in pn&&(pn.H=pn.H%12+pn.p*12),pn.m===void 0&&(pn.m="q"in pn?pn.q:0),"V"in pn){if(pn.V<1||pn.V>53)return null;"w"in pn||(pn.w=1),"Z"in pn?(Fn=w(T(pn.y,0,1)),zr=Fn.getUTCDay(),Fn=zr>4||zr===0?p.l6.ceil(Fn):(0,p.l6)(Fn),Fn=v.Z.offset(Fn,(pn.V-1)*7),pn.y=Fn.getUTCFullYear(),pn.m=Fn.getUTCMonth(),pn.d=Fn.getUTCDate()+(pn.w+6)%7):(Fn=C(T(pn.y,0,1)),zr=Fn.getDay(),Fn=zr>4||zr===0?y.wA.ceil(Fn):(0,y.wA)(Fn),Fn=b.Z.offset(Fn,(pn.V-1)*7),pn.y=Fn.getFullYear(),pn.m=Fn.getMonth(),pn.d=Fn.getDate()+(pn.w+6)%7)}else("W"in pn||"U"in pn)&&("w"in pn||(pn.w="u"in pn?pn.u%7:"W"in pn?1:0),zr="Z"in pn?w(T(pn.y,0,1)).getUTCDay():C(T(pn.y,0,1)).getDay(),pn.m=0,pn.d="W"in pn?(pn.w+6)%7+pn.W*7-(zr+5)%7:pn.w+pn.U*7-(zr+6)%7);return"Z"in pn?(pn.H+=pn.Z/100|0,pn.M+=pn.Z%100,w(pn)):C(pn)}}function jr(rn,Tn,On,pn){for(var Jn=0,Fn=Tn.length,zr=On.length,dr,Hr;Jn<Fn;){if(pn>=zr)return-1;if(dr=Tn.charCodeAt(Jn++),dr===37){if(dr=Tn.charAt(Jn++),Hr=Br[dr in M?Tn.charAt(Jn++):dr],!Hr||(pn=Hr(rn,On,pn))<0)return-1}else if(dr!=On.charCodeAt(pn++))return-1}return pn}function _r(rn,Tn,On){var pn=Pt.exec(Tn.slice(On));return pn?(rn.p=dn[pn[0].toLowerCase()],On+pn[0].length):-1}function Rn(rn,Tn,On){var pn=Rt.exec(Tn.slice(On));return pn?(rn.w=fn[pn[0].toLowerCase()],On+pn[0].length):-1}function xr(rn,Tn,On){var pn=nn.exec(Tn.slice(On));return pn?(rn.w=Wt[pn[0].toLowerCase()],On+pn[0].length):-1}function sr(rn,Tn,On){var pn=Er.exec(Tn.slice(On));return pn?(rn.m=zt[pn[0].toLowerCase()],On+pn[0].length):-1}function Sr(rn,Tn,On){var pn=Hn.exec(Tn.slice(On));return pn?(rn.m=nr[pn[0].toLowerCase()],On+pn[0].length):-1}function ao(rn,Tn,On){return jr(rn,xt,Tn,On)}function Oo(rn,Tn,On){return jr(rn,gt,Tn,On)}function wr(rn,Tn,On){return jr(rn,Dt,Tn,On)}function Fe(rn){return dt[rn.getDay()]}function Ee(rn){return at[rn.getDay()]}function St(rn){return Tt[rn.getMonth()]}function Ct(rn){return mt[rn.getMonth()]}function Lt(rn){return He[+(rn.getHours()>=12)]}function Ft(rn){return 1+~~(rn.getMonth()/3)}function Ht(rn){return dt[rn.getUTCDay()]}function $t(rn){return at[rn.getUTCDay()]}function Mt(rn){return Tt[rn.getUTCMonth()]}function en(rn){return mt[rn.getUTCMonth()]}function un(rn){return He[+(rn.getUTCHours()>=12)]}function Jt(rn){return 1+~~(rn.getUTCMonth()/3)}return{format:function(rn){var Tn=kr(rn+="",vr);return Tn.toString=function(){return rn},Tn},parse:function(rn){var Tn=or(rn+="",!1);return Tn.toString=function(){return rn},Tn},utcFormat:function(rn){var Tn=kr(rn+="",Wn);return Tn.toString=function(){return rn},Tn},utcParse:function(rn){var Tn=or(rn+="",!0);return Tn.toString=function(){return rn},Tn}}}var M={"-":"",_:" ",0:"0"},I=/^\s*\d+/,V=/^%/,N=/[\\^$*+?|[\]().{}]/g;function F(ut,xt,gt){var Dt=ut<0?"-":"",He=(Dt?-ut:ut)+"",at=He.length;return Dt+(at<gt?new Array(gt-at+1).join(xt)+He:He)}function z(ut){return ut.replace(N,"\\$&")}function U(ut){return new RegExp("^(?:"+ut.map(z).join("|")+")","i")}function Q(ut){for(var xt={},gt=-1,Dt=ut.length;++gt<Dt;)xt[ut[gt].toLowerCase()]=gt;return xt}function B(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.w=+Dt[0],gt+Dt[0].length):-1}function E(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.u=+Dt[0],gt+Dt[0].length):-1}function W(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.U=+Dt[0],gt+Dt[0].length):-1}function Y(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.V=+Dt[0],gt+Dt[0].length):-1}function ie(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.W=+Dt[0],gt+Dt[0].length):-1}function L(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+4));return Dt?(ut.y=+Dt[0],gt+Dt[0].length):-1}function me(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.y=+Dt[0]+(+Dt[0]>68?1900:2e3),gt+Dt[0].length):-1}function ae(ut,xt,gt){var Dt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(xt.slice(gt,gt+6));return Dt?(ut.Z=Dt[1]?0:-(Dt[2]+(Dt[3]||"00")),gt+Dt[0].length):-1}function q(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.q=Dt[0]*3-3,gt+Dt[0].length):-1}function fe(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.m=Dt[0]-1,gt+Dt[0].length):-1}function ee(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.d=+Dt[0],gt+Dt[0].length):-1}function be(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+3));return Dt?(ut.m=0,ut.d=+Dt[0],gt+Dt[0].length):-1}function Te(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.H=+Dt[0],gt+Dt[0].length):-1}function Be(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.M=+Dt[0],gt+Dt[0].length):-1}function ge(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.S=+Dt[0],gt+Dt[0].length):-1}function ne(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+3));return Dt?(ut.L=+Dt[0],gt+Dt[0].length):-1}function pe(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+6));return Dt?(ut.L=Math.floor(Dt[0]/1e3),gt+Dt[0].length):-1}function G(ut,xt,gt){var Dt=V.exec(xt.slice(gt,gt+1));return Dt?gt+Dt[0].length:-1}function Oe(ut,xt,gt){var Dt=I.exec(xt.slice(gt));return Dt?(ut.Q=+Dt[0],gt+Dt[0].length):-1}function xe(ut,xt,gt){var Dt=I.exec(xt.slice(gt));return Dt?(ut.s=+Dt[0],gt+Dt[0].length):-1}function Le(ut,xt){return F(ut.getDate(),xt,2)}function ke(ut,xt){return F(ut.getHours(),xt,2)}function $e(ut,xt){return F(ut.getHours()%12||12,xt,2)}function Ze(ut,xt){return F(1+b.Z.count((0,x.Z)(ut),ut),xt,3)}function De(ut,xt){return F(ut.getMilliseconds(),xt,3)}function Ie(ut,xt){return De(ut,xt)+"000"}function re(ut,xt){return F(ut.getMonth()+1,xt,2)}function ye(ut,xt){return F(ut.getMinutes(),xt,2)}function te(ut,xt){return F(ut.getSeconds(),xt,2)}function se(ut){var xt=ut.getDay();return xt===0?7:xt}function ue(ut,xt){return F(y.OM.count((0,x.Z)(ut)-1,ut),xt,2)}function oe(ut,xt){var gt=ut.getDay();return ut=gt>=4||gt===0?(0,y.bL)(ut):y.bL.ceil(ut),F(y.bL.count((0,x.Z)(ut),ut)+((0,x.Z)(ut).getDay()===4),xt,2)}function Se(ut){return ut.getDay()}function le(ut,xt){return F(y.wA.count((0,x.Z)(ut)-1,ut),xt,2)}function Ce(ut,xt){return F(ut.getFullYear()%100,xt,2)}function Qe(ut,xt){return F(ut.getFullYear()%1e4,xt,4)}function ze(ut){var xt=ut.getTimezoneOffset();return(xt>0?"-":(xt*=-1,"+"))+F(xt/60|0,"0",2)+F(xt%60,"0",2)}function Xe(ut,xt){return F(ut.getUTCDate(),xt,2)}function ct(ut,xt){return F(ut.getUTCHours(),xt,2)}function pt(ut,xt){return F(ut.getUTCHours()%12||12,xt,2)}function Ye(ut,xt){return F(1+v.Z.count((0,k.Z)(ut),ut),xt,3)}function je(ut,xt){return F(ut.getUTCMilliseconds(),xt,3)}function et(ut,xt){return je(ut,xt)+"000"}function yt(ut,xt){return F(ut.getUTCMonth()+1,xt,2)}function ft(ut,xt){return F(ut.getUTCMinutes(),xt,2)}function tt(ut,xt){return F(ut.getUTCSeconds(),xt,2)}function wt(ut){var xt=ut.getUTCDay();return xt===0?7:xt}function Xt(ut,xt){return F(p.Ox.count((0,k.Z)(ut)-1,ut),xt,2)}function Gt(ut,xt){var gt=ut.getUTCDay();return ut=gt>=4||gt===0?(0,p.hB)(ut):p.hB.ceil(ut),F(p.hB.count((0,k.Z)(ut),ut)+((0,k.Z)(ut).getUTCDay()===4),xt,2)}function Nt(ut){return ut.getUTCDay()}function Bt(ut,xt){return F(p.l6.count((0,k.Z)(ut)-1,ut),xt,2)}function vn(ut,xt){return F(ut.getUTCFullYear()%100,xt,2)}function En(ut,xt){return F(ut.getUTCFullYear()%1e4,xt,4)}function ln(){return"+0000"}function Yn(){return"%"}function an(ut){return+ut}function wn(ut){return Math.floor(+ut/1e3)}var Xn,Un,Sn;it({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function it(ut){return Xn=R(ut),Un=Xn.format,Xn.parse,Sn=Xn.utcFormat,Xn.utcParse,Xn}},2301:function(f,h,u){u.d(h,{a:function(){return b}});var p=u(52),v=u(4263),y=(0,p.Z)(function(x){x.setHours(0,0,0,0)},function(x,k){x.setDate(x.getDate()+k)},function(x,k){return(k-x-(k.getTimezoneOffset()-x.getTimezoneOffset())*v.yB)/v.UD},function(x){return x.getDate()-1});h.Z=y;var b=y.range},4263:function(f,h,u){u.d(h,{UD:function(){return b},Y2:function(){return y},Ym:function(){return p},iM:function(){return x},yB:function(){return v}});var p=1e3,v=6e4,y=36e5,b=864e5,x=6048e5},1041:function(f,h,u){u.r(h),u.d(h,{timeDay:function(){return F.Z},timeDays:function(){return F.a},timeFriday:function(){return z.mC},timeFridays:function(){return z.b$},timeHour:function(){return V},timeHours:function(){return N},timeInterval:function(){return p.Z},timeMillisecond:function(){return y},timeMilliseconds:function(){return b},timeMinute:function(){return R},timeMinutes:function(){return M},timeMonday:function(){return z.wA},timeMondays:function(){return z.bJ},timeMonth:function(){return Q},timeMonths:function(){return B},timeSaturday:function(){return z.EY},timeSaturdays:function(){return z.Ff},timeSecond:function(){return C},timeSeconds:function(){return w},timeSunday:function(){return z.OM},timeSundays:function(){return z.vm},timeThursday:function(){return z.bL},timeThursdays:function(){return z.$t},timeTuesday:function(){return z.sy},timeTuesdays:function(){return z.aU},timeWednesday:function(){return z.zg},timeWednesdays:function(){return z.Ld},timeWeek:function(){return z.OM},timeWeeks:function(){return z.vm},timeYear:function(){return E.Z},timeYears:function(){return E.g},utcDay:function(){return q.Z},utcDays:function(){return q.y},utcFriday:function(){return fe.QQ},utcFridays:function(){return fe.fz},utcHour:function(){return me},utcHours:function(){return ae},utcMillisecond:function(){return y},utcMilliseconds:function(){return b},utcMinute:function(){return Y},utcMinutes:function(){return ie},utcMonday:function(){return fe.l6},utcMondays:function(){return fe.$3},utcMonth:function(){return be},utcMonths:function(){return Te},utcSaturday:function(){return fe.g4},utcSaturdays:function(){return fe.Q_},utcSecond:function(){return C},utcSeconds:function(){return w},utcSunday:function(){return fe.Ox},utcSundays:function(){return fe.SU},utcThursday:function(){return fe.hB},utcThursdays:function(){return fe.xj},utcTuesday:function(){return fe.J1},utcTuesdays:function(){return fe.DK},utcWednesday:function(){return fe.b3},utcWednesdays:function(){return fe.uy},utcWeek:function(){return fe.Ox},utcWeeks:function(){return fe.SU},utcYear:function(){return Be.Z},utcYears:function(){return Be.D}});var p=u(52),v=(0,p.Z)(function(){},function(ge,ne){ge.setTime(+ge+ne)},function(ge,ne){return ne-ge});v.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?(0,p.Z)(function(ne){ne.setTime(Math.floor(ne/ge)*ge)},function(ne,pe){ne.setTime(+ne+pe*ge)},function(ne,pe){return(pe-ne)/ge}):v};var y=v,b=v.range,x=u(4263),k=(0,p.Z)(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,ne){ge.setTime(+ge+ne*x.Ym)},function(ge,ne){return(ne-ge)/x.Ym},function(ge){return ge.getUTCSeconds()}),C=k,w=k.range,T=(0,p.Z)(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*x.Ym)},function(ge,ne){ge.setTime(+ge+ne*x.yB)},function(ge,ne){return(ne-ge)/x.yB},function(ge){return ge.getMinutes()}),R=T,M=T.range,I=(0,p.Z)(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*x.Ym-ge.getMinutes()*x.yB)},function(ge,ne){ge.setTime(+ge+ne*x.Y2)},function(ge,ne){return(ne-ge)/x.Y2},function(ge){return ge.getHours()}),V=I,N=I.range,F=u(2301),z=u(9879),U=(0,p.Z)(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,ne){ge.setMonth(ge.getMonth()+ne)},function(ge,ne){return ne.getMonth()-ge.getMonth()+(ne.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),Q=U,B=U.range,E=u(4823),W=(0,p.Z)(function(ge){ge.setUTCSeconds(0,0)},function(ge,ne){ge.setTime(+ge+ne*x.yB)},function(ge,ne){return(ne-ge)/x.yB},function(ge){return ge.getUTCMinutes()}),Y=W,ie=W.range,L=(0,p.Z)(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,ne){ge.setTime(+ge+ne*x.Y2)},function(ge,ne){return(ne-ge)/x.Y2},function(ge){return ge.getUTCHours()}),me=L,ae=L.range,q=u(8480),fe=u(8176),ee=(0,p.Z)(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,ne){ge.setUTCMonth(ge.getUTCMonth()+ne)},function(ge,ne){return ne.getUTCMonth()-ge.getUTCMonth()+(ne.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),be=ee,Te=ee.range,Be=u(9791)},52:function(f,h,u){u.d(h,{Z:function(){return y}});var p=new Date,v=new Date;function y(b,x,k,C){function w(T){return b(T=arguments.length===0?new Date:new Date(+T)),T}return w.floor=function(T){return b(T=new Date(+T)),T},w.ceil=function(T){return b(T=new Date(T-1)),x(T,1),b(T),T},w.round=function(T){var R=w(T),M=w.ceil(T);return T-R<M-T?R:M},w.offset=function(T,R){return x(T=new Date(+T),R==null?1:Math.floor(R)),T},w.range=function(T,R,M){var I=[],V;if(T=w.ceil(T),M=M==null?1:Math.floor(M),!(T<R)||!(M>0))return I;do I.push(V=new Date(+T)),x(T,M),b(T);while(V<T&&T<R);return I},w.filter=function(T){return y(function(R){if(R>=R)for(;b(R),!T(R);)R.setTime(R-1)},function(R,M){if(R>=R)if(M<0)for(;++M<=0;)for(;x(R,-1),!T(R););else for(;--M>=0;)for(;x(R,1),!T(R););})},k&&(w.count=function(T,R){return p.setTime(+T),v.setTime(+R),b(p),b(v),Math.floor(k(p,v))},w.every=function(T){return T=Math.floor(T),!isFinite(T)||!(T>0)?null:T>1?w.filter(C?function(R){return C(R)%T===0}:function(R){return w.count(0,R)%T===0}):w}),w}},8480:function(f,h,u){u.d(h,{y:function(){return b}});var p=u(52),v=u(4263),y=(0,p.Z)(function(x){x.setUTCHours(0,0,0,0)},function(x,k){x.setUTCDate(x.getUTCDate()+k)},function(x,k){return(k-x)/v.UD},function(x){return x.getUTCDate()-1});h.Z=y;var b=y.range},8176:function(f,h,u){u.d(h,{$3:function(){return I},DK:function(){return V},J1:function(){return k},Ox:function(){return b},QQ:function(){return T},Q_:function(){return U},SU:function(){return M},b3:function(){return C},fz:function(){return z},g4:function(){return R},hB:function(){return w},l6:function(){return x},uy:function(){return N},xj:function(){return F}});var p=u(52),v=u(4263);function y(Q){return(0,p.Z)(function(B){B.setUTCDate(B.getUTCDate()-(B.getUTCDay()+7-Q)%7),B.setUTCHours(0,0,0,0)},function(B,E){B.setUTCDate(B.getUTCDate()+E*7)},function(B,E){return(E-B)/v.iM})}var b=y(0),x=y(1),k=y(2),C=y(3),w=y(4),T=y(5),R=y(6),M=b.range,I=x.range,V=k.range,N=C.range,F=w.range,z=T.range,U=R.range},9791:function(f,h,u){u.d(h,{D:function(){return y}});var p=u(52),v=(0,p.Z)(function(b){b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,x){b.setUTCFullYear(b.getUTCFullYear()+x)},function(b,x){return x.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});v.every=function(b){return!isFinite(b=Math.floor(b))||!(b>0)?null:(0,p.Z)(function(x){x.setUTCFullYear(Math.floor(x.getUTCFullYear()/b)*b),x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,k){x.setUTCFullYear(x.getUTCFullYear()+k*b)})},h.Z=v;var y=v.range},9879:function(f,h,u){u.d(h,{$t:function(){return F},EY:function(){return R},Ff:function(){return U},Ld:function(){return N},OM:function(){return b},aU:function(){return V},b$:function(){return z},bJ:function(){return I},bL:function(){return w},mC:function(){return T},sy:function(){return k},vm:function(){return M},wA:function(){return x},zg:function(){return C}});var p=u(52),v=u(4263);function y(Q){return(0,p.Z)(function(B){B.setDate(B.getDate()-(B.getDay()+7-Q)%7),B.setHours(0,0,0,0)},function(B,E){B.setDate(B.getDate()+E*7)},function(B,E){return(E-B-(E.getTimezoneOffset()-B.getTimezoneOffset())*v.yB)/v.iM})}var b=y(0),x=y(1),k=y(2),C=y(3),w=y(4),T=y(5),R=y(6),M=b.range,I=x.range,V=k.range,N=C.range,F=w.range,z=T.range,U=R.range},4823:function(f,h,u){u.d(h,{g:function(){return y}});var p=u(52),v=(0,p.Z)(function(b){b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,x){b.setFullYear(b.getFullYear()+x)},function(b,x){return x.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});v.every=function(b){return!isFinite(b=Math.floor(b))||!(b>0)?null:(0,p.Z)(function(x){x.setFullYear(Math.floor(x.getFullYear()/b)*b),x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,k){x.setFullYear(x.getFullYear()+k*b)})},h.Z=v;var y=v.range},5398:function(f){var h=typeof Reflect=="object"?Reflect:null,u=h&&typeof h.apply=="function"?h.apply:function(E,W,Y){return Function.prototype.apply.call(E,W,Y)},p;h&&typeof h.ownKeys=="function"?p=h.ownKeys:Object.getOwnPropertySymbols?p=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:p=function(E){return Object.getOwnPropertyNames(E)};function v(B){console&&console.warn&&console.warn(B)}var y=Number.isNaN||function(E){return E!==E};function b(){b.init.call(this)}f.exports=b,f.exports.once=z,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var x=10;function k(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(B){if(typeof B!="number"||B<0||y(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");x=B}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||y(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function C(B){return B._maxListeners===void 0?b.defaultMaxListeners:B._maxListeners}b.prototype.getMaxListeners=function(){return C(this)},b.prototype.emit=function(E){for(var W=[],Y=1;Y<arguments.length;Y++)W.push(arguments[Y]);var ie=E==="error",L=this._events;if(L!==void 0)ie=ie&&L.error===void 0;else if(!ie)return!1;if(ie){var me;if(W.length>0&&(me=W[0]),me instanceof Error)throw me;var ae=new Error("Unhandled error."+(me?" ("+me.message+")":""));throw ae.context=me,ae}var q=L[E];if(q===void 0)return!1;if(typeof q=="function")u(q,this,W);else for(var fe=q.length,ee=V(q,fe),Y=0;Y<fe;++Y)u(ee[Y],this,W);return!0};function w(B,E,W,Y){var ie,L,me;if(k(W),L=B._events,L===void 0?(L=B._events=Object.create(null),B._eventsCount=0):(L.newListener!==void 0&&(B.emit("newListener",E,W.listener?W.listener:W),L=B._events),me=L[E]),me===void 0)me=L[E]=W,++B._eventsCount;else if(typeof me=="function"?me=L[E]=Y?[W,me]:[me,W]:Y?me.unshift(W):me.push(W),ie=C(B),ie>0&&me.length>ie&&!me.warned){me.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+me.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=B,ae.type=E,ae.count=me.length,v(ae)}return B}b.prototype.addListener=function(E,W){return w(this,E,W,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(E,W){return w(this,E,W,!0)};function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R(B,E,W){var Y={fired:!1,wrapFn:void 0,target:B,type:E,listener:W},ie=T.bind(Y);return ie.listener=W,Y.wrapFn=ie,ie}b.prototype.once=function(E,W){return k(W),this.on(E,R(this,E,W)),this},b.prototype.prependOnceListener=function(E,W){return k(W),this.prependListener(E,R(this,E,W)),this},b.prototype.removeListener=function(E,W){var Y,ie,L,me,ae;if(k(W),ie=this._events,ie===void 0)return this;if(Y=ie[E],Y===void 0)return this;if(Y===W||Y.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete ie[E],ie.removeListener&&this.emit("removeListener",E,Y.listener||W));else if(typeof Y!="function"){for(L=-1,me=Y.length-1;me>=0;me--)if(Y[me]===W||Y[me].listener===W){ae=Y[me].listener,L=me;break}if(L<0)return this;L===0?Y.shift():N(Y,L),Y.length===1&&(ie[E]=Y[0]),ie.removeListener!==void 0&&this.emit("removeListener",E,ae||W)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(E){var W,Y,ie;if(Y=this._events,Y===void 0)return this;if(Y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Y[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Y[E]),this;if(arguments.length===0){var L=Object.keys(Y),me;for(ie=0;ie<L.length;++ie)me=L[ie],me!=="removeListener"&&this.removeAllListeners(me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=Y[E],typeof W=="function")this.removeListener(E,W);else if(W!==void 0)for(ie=W.length-1;ie>=0;ie--)this.removeListener(E,W[ie]);return this};function M(B,E,W){var Y=B._events;if(Y===void 0)return[];var ie=Y[E];return ie===void 0?[]:typeof ie=="function"?W?[ie.listener||ie]:[ie]:W?F(ie):V(ie,ie.length)}b.prototype.listeners=function(E){return M(this,E,!0)},b.prototype.rawListeners=function(E){return M(this,E,!1)},b.listenerCount=function(B,E){return typeof B.listenerCount=="function"?B.listenerCount(E):I.call(B,E)},b.prototype.listenerCount=I;function I(B){var E=this._events;if(E!==void 0){var W=E[B];if(typeof W=="function")return 1;if(W!==void 0)return W.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function V(B,E){for(var W=new Array(E),Y=0;Y<E;++Y)W[Y]=B[Y];return W}function N(B,E){for(;E+1<B.length;E++)B[E]=B[E+1];B.pop()}function F(B){for(var E=new Array(B.length),W=0;W<E.length;++W)E[W]=B[W].listener||B[W];return E}function z(B,E){return new Promise(function(W,Y){function ie(me){B.removeListener(E,L),Y(me)}function L(){typeof B.removeListener=="function"&&B.removeListener("error",ie),W([].slice.call(arguments))}Q(B,E,L,{once:!0}),E!=="error"&&U(B,ie,{once:!0})})}function U(B,E,W){typeof B.on=="function"&&Q(B,"error",E,W)}function Q(B,E,W,Y){if(typeof B.on=="function")Y.once?B.once(E,W):B.on(E,W);else if(typeof B.addEventListener=="function")B.addEventListener(E,function ie(L){Y.once&&B.removeEventListener(E,ie),W(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}},2770:function(f,h,u){var p=u(8546);f.exports=function(v){var y=typeof v;if(y==="string"){var b=v;if(v=+v,v===0&&p(b))return!1}else if(y!=="number")return!1;return v-v<1}},5400:function(f){f.exports=h;function h(u,p){var v=p[0],y=p[1],b=p[2],x=p[3],k=p[4],C=p[5],w=p[6],T=p[7],R=p[8],M=p[9],I=p[10],V=p[11],N=p[12],F=p[13],z=p[14],U=p[15];return u[0]=C*(I*U-V*z)-M*(w*U-T*z)+F*(w*V-T*I),u[1]=-(y*(I*U-V*z)-M*(b*U-x*z)+F*(b*V-x*I)),u[2]=y*(w*U-T*z)-C*(b*U-x*z)+F*(b*T-x*w),u[3]=-(y*(w*V-T*I)-C*(b*V-x*I)+M*(b*T-x*w)),u[4]=-(k*(I*U-V*z)-R*(w*U-T*z)+N*(w*V-T*I)),u[5]=v*(I*U-V*z)-R*(b*U-x*z)+N*(b*V-x*I),u[6]=-(v*(w*U-T*z)-k*(b*U-x*z)+N*(b*T-x*w)),u[7]=v*(w*V-T*I)-k*(b*V-x*I)+R*(b*T-x*w),u[8]=k*(M*U-V*F)-R*(C*U-T*F)+N*(C*V-T*M),u[9]=-(v*(M*U-V*F)-R*(y*U-x*F)+N*(y*V-x*M)),u[10]=v*(C*U-T*F)-k*(y*U-x*F)+N*(y*T-x*C),u[11]=-(v*(C*V-T*M)-k*(y*V-x*M)+R*(y*T-x*C)),u[12]=-(k*(M*z-I*F)-R*(C*z-w*F)+N*(C*I-w*M)),u[13]=v*(M*z-I*F)-R*(y*z-b*F)+N*(y*I-b*M),u[14]=-(v*(C*z-w*F)-k*(y*z-b*F)+N*(y*w-b*C)),u[15]=v*(C*I-w*M)-k*(y*I-b*M)+R*(y*w-b*C),u}},2331:function(f){f.exports=h;function h(u){var p=new Float32Array(16);return p[0]=u[0],p[1]=u[1],p[2]=u[2],p[3]=u[3],p[4]=u[4],p[5]=u[5],p[6]=u[6],p[7]=u[7],p[8]=u[8],p[9]=u[9],p[10]=u[10],p[11]=u[11],p[12]=u[12],p[13]=u[13],p[14]=u[14],p[15]=u[15],p}},1042:function(f){f.exports=h;function h(u,p){return u[0]=p[0],u[1]=p[1],u[2]=p[2],u[3]=p[3],u[4]=p[4],u[5]=p[5],u[6]=p[6],u[7]=p[7],u[8]=p[8],u[9]=p[9],u[10]=p[10],u[11]=p[11],u[12]=p[12],u[13]=p[13],u[14]=p[14],u[15]=p[15],u}},1902:function(f){f.exports=h;function h(){var u=new Float32Array(16);return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},9887:function(f){f.exports=h;function h(u){var p=u[0],v=u[1],y=u[2],b=u[3],x=u[4],k=u[5],C=u[6],w=u[7],T=u[8],R=u[9],M=u[10],I=u[11],V=u[12],N=u[13],F=u[14],z=u[15],U=p*k-v*x,Q=p*C-y*x,B=p*w-b*x,E=v*C-y*k,W=v*w-b*k,Y=y*w-b*C,ie=T*N-R*V,L=T*F-M*V,me=T*z-I*V,ae=R*F-M*N,q=R*z-I*N,fe=M*z-I*F;return U*fe-Q*q+B*ae+E*me-W*L+Y*ie}},7812:function(f){f.exports=h;function h(u,p){var v=p[0],y=p[1],b=p[2],x=p[3],k=v+v,C=y+y,w=b+b,T=v*k,R=y*k,M=y*C,I=b*k,V=b*C,N=b*w,F=x*k,z=x*C,U=x*w;return u[0]=1-M-N,u[1]=R+U,u[2]=I-z,u[3]=0,u[4]=R-U,u[5]=1-T-N,u[6]=V+F,u[7]=0,u[8]=I+z,u[9]=V-F,u[10]=1-T-M,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},4045:function(f){f.exports=h;function h(u,p,v){var y,b,x,k=v[0],C=v[1],w=v[2],T=Math.sqrt(k*k+C*C+w*w);return Math.abs(T)<1e-6?null:(T=1/T,k*=T,C*=T,w*=T,y=Math.sin(p),b=Math.cos(p),x=1-b,u[0]=k*k*x+b,u[1]=C*k*x+w*y,u[2]=w*k*x-C*y,u[3]=0,u[4]=k*C*x-w*y,u[5]=C*C*x+b,u[6]=w*C*x+k*y,u[7]=0,u[8]=k*w*x+C*y,u[9]=C*w*x-k*y,u[10]=w*w*x+b,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u)}},5973:function(f){f.exports=h;function h(u,p,v){var y=p[0],b=p[1],x=p[2],k=p[3],C=y+y,w=b+b,T=x+x,R=y*C,M=y*w,I=y*T,V=b*w,N=b*T,F=x*T,z=k*C,U=k*w,Q=k*T;return u[0]=1-(V+F),u[1]=M+Q,u[2]=I-U,u[3]=0,u[4]=M-Q,u[5]=1-(R+F),u[6]=N+z,u[7]=0,u[8]=I+U,u[9]=N-z,u[10]=1-(R+V),u[11]=0,u[12]=v[0],u[13]=v[1],u[14]=v[2],u[15]=1,u}},1472:function(f){f.exports=h;function h(u,p){return u[0]=p[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=p[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=p[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},4669:function(f){f.exports=h;function h(u,p){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=p[0],u[13]=p[1],u[14]=p[2],u[15]=1,u}},5262:function(f){f.exports=h;function h(u,p){var v=Math.sin(p),y=Math.cos(p);return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=y,u[6]=v,u[7]=0,u[8]=0,u[9]=-v,u[10]=y,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},331:function(f){f.exports=h;function h(u,p){var v=Math.sin(p),y=Math.cos(p);return u[0]=y,u[1]=0,u[2]=-v,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=v,u[9]=0,u[10]=y,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},1049:function(f){f.exports=h;function h(u,p){var v=Math.sin(p),y=Math.cos(p);return u[0]=y,u[1]=v,u[2]=0,u[3]=0,u[4]=-v,u[5]=y,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},5195:function(f){f.exports=h;function h(u,p,v,y,b,x,k){var C=1/(v-p),w=1/(b-y),T=1/(x-k);return u[0]=x*2*C,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=x*2*w,u[6]=0,u[7]=0,u[8]=(v+p)*C,u[9]=(b+y)*w,u[10]=(k+x)*T,u[11]=-1,u[12]=0,u[13]=0,u[14]=k*x*2*T,u[15]=0,u}},1551:function(f){f.exports=h;function h(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},9576:function(f,h,u){f.exports={create:u(1902),clone:u(2331),copy:u(1042),identity:u(1551),transpose:u(8654),invert:u(5874),adjoint:u(5400),determinant:u(9887),multiply:u(1362),translate:u(1283),scale:u(789),rotate:u(5074),rotateX:u(5545),rotateY:u(4918),rotateZ:u(5692),fromRotation:u(4045),fromRotationTranslation:u(5973),fromScaling:u(1472),fromTranslation:u(4669),fromXRotation:u(5262),fromYRotation:u(331),fromZRotation:u(1049),fromQuat:u(7812),frustum:u(5195),perspective:u(7864),perspectiveFromFieldOfView:u(5279),ortho:u(378),lookAt:u(5551),str:u(6726)}},5874:function(f){f.exports=h;function h(u,p){var v=p[0],y=p[1],b=p[2],x=p[3],k=p[4],C=p[5],w=p[6],T=p[7],R=p[8],M=p[9],I=p[10],V=p[11],N=p[12],F=p[13],z=p[14],U=p[15],Q=v*C-y*k,B=v*w-b*k,E=v*T-x*k,W=y*w-b*C,Y=y*T-x*C,ie=b*T-x*w,L=R*F-M*N,me=R*z-I*N,ae=R*U-V*N,q=M*z-I*F,fe=M*U-V*F,ee=I*U-V*z,be=Q*ee-B*fe+E*q+W*ae-Y*me+ie*L;return be?(be=1/be,u[0]=(C*ee-w*fe+T*q)*be,u[1]=(b*fe-y*ee-x*q)*be,u[2]=(F*ie-z*Y+U*W)*be,u[3]=(I*Y-M*ie-V*W)*be,u[4]=(w*ae-k*ee-T*me)*be,u[5]=(v*ee-b*ae+x*me)*be,u[6]=(z*E-N*ie-U*B)*be,u[7]=(R*ie-I*E+V*B)*be,u[8]=(k*fe-C*ae+T*L)*be,u[9]=(y*ae-v*fe-x*L)*be,u[10]=(N*Y-F*E+U*Q)*be,u[11]=(M*E-R*Y-V*Q)*be,u[12]=(C*me-k*q-w*L)*be,u[13]=(v*q-y*me+b*L)*be,u[14]=(F*B-N*W-z*Q)*be,u[15]=(R*W-M*B+I*Q)*be,u):null}},5551:function(f,h,u){var p=u(1551);f.exports=v;function v(y,b,x,k){var C,w,T,R,M,I,V,N,F,z,U=b[0],Q=b[1],B=b[2],E=k[0],W=k[1],Y=k[2],ie=x[0],L=x[1],me=x[2];return Math.abs(U-ie)<1e-6&&Math.abs(Q-L)<1e-6&&Math.abs(B-me)<1e-6?p(y):(V=U-ie,N=Q-L,F=B-me,z=1/Math.sqrt(V*V+N*N+F*F),V*=z,N*=z,F*=z,C=W*F-Y*N,w=Y*V-E*F,T=E*N-W*V,z=Math.sqrt(C*C+w*w+T*T),z?(z=1/z,C*=z,w*=z,T*=z):(C=0,w=0,T=0),R=N*T-F*w,M=F*C-V*T,I=V*w-N*C,z=Math.sqrt(R*R+M*M+I*I),z?(z=1/z,R*=z,M*=z,I*=z):(R=0,M=0,I=0),y[0]=C,y[1]=R,y[2]=V,y[3]=0,y[4]=w,y[5]=M,y[6]=N,y[7]=0,y[8]=T,y[9]=I,y[10]=F,y[11]=0,y[12]=-(C*U+w*Q+T*B),y[13]=-(R*U+M*Q+I*B),y[14]=-(V*U+N*Q+F*B),y[15]=1,y)}},1362:function(f){f.exports=h;function h(u,p,v){var y=p[0],b=p[1],x=p[2],k=p[3],C=p[4],w=p[5],T=p[6],R=p[7],M=p[8],I=p[9],V=p[10],N=p[11],F=p[12],z=p[13],U=p[14],Q=p[15],B=v[0],E=v[1],W=v[2],Y=v[3];return u[0]=B*y+E*C+W*M+Y*F,u[1]=B*b+E*w+W*I+Y*z,u[2]=B*x+E*T+W*V+Y*U,u[3]=B*k+E*R+W*N+Y*Q,B=v[4],E=v[5],W=v[6],Y=v[7],u[4]=B*y+E*C+W*M+Y*F,u[5]=B*b+E*w+W*I+Y*z,u[6]=B*x+E*T+W*V+Y*U,u[7]=B*k+E*R+W*N+Y*Q,B=v[8],E=v[9],W=v[10],Y=v[11],u[8]=B*y+E*C+W*M+Y*F,u[9]=B*b+E*w+W*I+Y*z,u[10]=B*x+E*T+W*V+Y*U,u[11]=B*k+E*R+W*N+Y*Q,B=v[12],E=v[13],W=v[14],Y=v[15],u[12]=B*y+E*C+W*M+Y*F,u[13]=B*b+E*w+W*I+Y*z,u[14]=B*x+E*T+W*V+Y*U,u[15]=B*k+E*R+W*N+Y*Q,u}},378:function(f){f.exports=h;function h(u,p,v,y,b,x,k){var C=1/(p-v),w=1/(y-b),T=1/(x-k);return u[0]=-2*C,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*w,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*T,u[11]=0,u[12]=(p+v)*C,u[13]=(b+y)*w,u[14]=(k+x)*T,u[15]=1,u}},7864:function(f){f.exports=h;function h(u,p,v,y,b){var x=1/Math.tan(p/2),k=1/(y-b);return u[0]=x/v,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=x,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=(b+y)*k,u[11]=-1,u[12]=0,u[13]=0,u[14]=2*b*y*k,u[15]=0,u}},5279:function(f){f.exports=h;function h(u,p,v,y){var b=Math.tan(p.upDegrees*Math.PI/180),x=Math.tan(p.downDegrees*Math.PI/180),k=Math.tan(p.leftDegrees*Math.PI/180),C=Math.tan(p.rightDegrees*Math.PI/180),w=2/(k+C),T=2/(b+x);return u[0]=w,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=T,u[6]=0,u[7]=0,u[8]=-((k-C)*w*.5),u[9]=(b-x)*T*.5,u[10]=y/(v-y),u[11]=-1,u[12]=0,u[13]=0,u[14]=y*v/(v-y),u[15]=0,u}},5074:function(f){f.exports=h;function h(u,p,v,y){var b=y[0],x=y[1],k=y[2],C=Math.sqrt(b*b+x*x+k*k),w,T,R,M,I,V,N,F,z,U,Q,B,E,W,Y,ie,L,me,ae,q,fe,ee,be,Te;return Math.abs(C)<1e-6?null:(C=1/C,b*=C,x*=C,k*=C,w=Math.sin(v),T=Math.cos(v),R=1-T,M=p[0],I=p[1],V=p[2],N=p[3],F=p[4],z=p[5],U=p[6],Q=p[7],B=p[8],E=p[9],W=p[10],Y=p[11],ie=b*b*R+T,L=x*b*R+k*w,me=k*b*R-x*w,ae=b*x*R-k*w,q=x*x*R+T,fe=k*x*R+b*w,ee=b*k*R+x*w,be=x*k*R-b*w,Te=k*k*R+T,u[0]=M*ie+F*L+B*me,u[1]=I*ie+z*L+E*me,u[2]=V*ie+U*L+W*me,u[3]=N*ie+Q*L+Y*me,u[4]=M*ae+F*q+B*fe,u[5]=I*ae+z*q+E*fe,u[6]=V*ae+U*q+W*fe,u[7]=N*ae+Q*q+Y*fe,u[8]=M*ee+F*be+B*Te,u[9]=I*ee+z*be+E*Te,u[10]=V*ee+U*be+W*Te,u[11]=N*ee+Q*be+Y*Te,p!==u&&(u[12]=p[12],u[13]=p[13],u[14]=p[14],u[15]=p[15]),u)}},5545:function(f){f.exports=h;function h(u,p,v){var y=Math.sin(v),b=Math.cos(v),x=p[4],k=p[5],C=p[6],w=p[7],T=p[8],R=p[9],M=p[10],I=p[11];return p!==u&&(u[0]=p[0],u[1]=p[1],u[2]=p[2],u[3]=p[3],u[12]=p[12],u[13]=p[13],u[14]=p[14],u[15]=p[15]),u[4]=x*b+T*y,u[5]=k*b+R*y,u[6]=C*b+M*y,u[7]=w*b+I*y,u[8]=T*b-x*y,u[9]=R*b-k*y,u[10]=M*b-C*y,u[11]=I*b-w*y,u}},4918:function(f){f.exports=h;function h(u,p,v){var y=Math.sin(v),b=Math.cos(v),x=p[0],k=p[1],C=p[2],w=p[3],T=p[8],R=p[9],M=p[10],I=p[11];return p!==u&&(u[4]=p[4],u[5]=p[5],u[6]=p[6],u[7]=p[7],u[12]=p[12],u[13]=p[13],u[14]=p[14],u[15]=p[15]),u[0]=x*b-T*y,u[1]=k*b-R*y,u[2]=C*b-M*y,u[3]=w*b-I*y,u[8]=x*y+T*b,u[9]=k*y+R*b,u[10]=C*y+M*b,u[11]=w*y+I*b,u}},5692:function(f){f.exports=h;function h(u,p,v){var y=Math.sin(v),b=Math.cos(v),x=p[0],k=p[1],C=p[2],w=p[3],T=p[4],R=p[5],M=p[6],I=p[7];return p!==u&&(u[8]=p[8],u[9]=p[9],u[10]=p[10],u[11]=p[11],u[12]=p[12],u[13]=p[13],u[14]=p[14],u[15]=p[15]),u[0]=x*b+T*y,u[1]=k*b+R*y,u[2]=C*b+M*y,u[3]=w*b+I*y,u[4]=T*b-x*y,u[5]=R*b-k*y,u[6]=M*b-C*y,u[7]=I*b-w*y,u}},789:function(f){f.exports=h;function h(u,p,v){var y=v[0],b=v[1],x=v[2];return u[0]=p[0]*y,u[1]=p[1]*y,u[2]=p[2]*y,u[3]=p[3]*y,u[4]=p[4]*b,u[5]=p[5]*b,u[6]=p[6]*b,u[7]=p[7]*b,u[8]=p[8]*x,u[9]=p[9]*x,u[10]=p[10]*x,u[11]=p[11]*x,u[12]=p[12],u[13]=p[13],u[14]=p[14],u[15]=p[15],u}},6726:function(f){f.exports=h;function h(u){return"mat4("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+", "+u[9]+", "+u[10]+", "+u[11]+", "+u[12]+", "+u[13]+", "+u[14]+", "+u[15]+")"}},1283:function(f){f.exports=h;function h(u,p,v){var y=v[0],b=v[1],x=v[2],k,C,w,T,R,M,I,V,N,F,z,U;return p===u?(u[12]=p[0]*y+p[4]*b+p[8]*x+p[12],u[13]=p[1]*y+p[5]*b+p[9]*x+p[13],u[14]=p[2]*y+p[6]*b+p[10]*x+p[14],u[15]=p[3]*y+p[7]*b+p[11]*x+p[15]):(k=p[0],C=p[1],w=p[2],T=p[3],R=p[4],M=p[5],I=p[6],V=p[7],N=p[8],F=p[9],z=p[10],U=p[11],u[0]=k,u[1]=C,u[2]=w,u[3]=T,u[4]=R,u[5]=M,u[6]=I,u[7]=V,u[8]=N,u[9]=F,u[10]=z,u[11]=U,u[12]=k*y+R*b+N*x+p[12],u[13]=C*y+M*b+F*x+p[13],u[14]=w*y+I*b+z*x+p[14],u[15]=T*y+V*b+U*x+p[15]),u}},8654:function(f){f.exports=h;function h(u,p){if(u===p){var v=p[1],y=p[2],b=p[3],x=p[6],k=p[7],C=p[11];u[1]=p[4],u[2]=p[8],u[3]=p[12],u[4]=v,u[6]=p[9],u[7]=p[13],u[8]=y,u[9]=x,u[11]=p[14],u[12]=b,u[13]=k,u[14]=C}else u[0]=p[0],u[1]=p[4],u[2]=p[8],u[3]=p[12],u[4]=p[1],u[5]=p[5],u[6]=p[9],u[7]=p[13],u[8]=p[2],u[9]=p[6],u[10]=p[10],u[11]=p[14],u[12]=p[3],u[13]=p[7],u[14]=p[11],u[15]=p[15];return u}},7035:function(f,h,u){var p=u(4404),v;typeof u.g.matchMedia=="function"?v=!u.g.matchMedia("(hover: none)").matches:v=p,f.exports=v},8520:function(f,h,u){var p=u(4404);function v(){var y=!1;try{var b=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch{y=!1}return y}f.exports=p&&v()},4404:function(f){f.exports=!0},8546:function(f){f.exports=function(h){for(var u=h.length,p,v=0;v<u;v++)if(p=h.charCodeAt(v),(p<9||p>13)&&p!==32&&p!==133&&p!==160&&p!==5760&&p!==6158&&(p<8192||p>8205)&&p!==8232&&p!==8233&&p!==8239&&p!==8287&&p!==8288&&p!==12288&&p!==65279)return!1;return!0}},8956:function(f){var h={left:0,top:0};f.exports=u;function u(v,y,b){y=y||v.currentTarget||v.srcElement,Array.isArray(b)||(b=[0,0]);var x=v.clientX||0,k=v.clientY||0,C=p(y);return b[0]=x-C.left,b[1]=k-C.top,b}function p(v){return v===window||v===document||v===document.body?h:v.getBoundingClientRect()}},7417:function(f,h,u){var p;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(y,b,x){b[y]=b[y]||x(),f.exports?f.exports=b[y]:(p=(function(){return b[y]}).call(h,u,h,f),p!==void 0&&(f.exports=p))})("Promise",typeof u.g<"u"?u.g:this,function(){var y,b,x,k=Object.prototype.toString,C=typeof setImmediate<"u"?function(E){return setImmediate(E)}:setTimeout;try{Object.defineProperty({},"x",{}),y=function(E,W,Y,ie){return Object.defineProperty(E,W,{value:Y,writable:!0,configurable:ie!==!1})}}catch{y=function(W,Y,ie){return W[Y]=ie,W}}x=function(){var E,W,Y;function ie(L,me){this.fn=L,this.self=me,this.next=void 0}return{add:function(me,ae){Y=new ie(me,ae),W?W.next=Y:E=Y,W=Y,Y=void 0},drain:function(){var me=E;for(E=W=b=void 0;me;)me.fn.call(me.self),me=me.next}}}();function w(B,E){x.add(B,E),b||(b=C(x.drain))}function T(B){var E,W=typeof B;return B!=null&&(W=="object"||W=="function")&&(E=B.then),typeof E=="function"?E:!1}function R(){for(var B=0;B<this.chain.length;B++)M(this,this.state===1?this.chain[B].success:this.chain[B].failure,this.chain[B]);this.chain.length=0}function M(B,E,W){var Y,ie;try{E===!1?W.reject(B.msg):(E===!0?Y=B.msg:Y=E.call(void 0,B.msg),Y===W.promise?W.reject(TypeError("Promise-chain cycle")):(ie=T(Y))?ie.call(Y,W.resolve,W.reject):W.resolve(Y))}catch(L){W.reject(L)}}function I(B){var E,W=this;if(!W.triggered){W.triggered=!0,W.def&&(W=W.def);try{(E=T(B))?w(function(){var Y=new F(W);try{E.call(B,function(){I.apply(Y,arguments)},function(){V.apply(Y,arguments)})}catch(ie){V.call(Y,ie)}}):(W.msg=B,W.state=1,W.chain.length>0&&w(R,W))}catch(Y){V.call(new F(W),Y)}}}function V(B){var E=this;E.triggered||(E.triggered=!0,E.def&&(E=E.def),E.msg=B,E.state=2,E.chain.length>0&&w(R,E))}function N(B,E,W,Y){for(var ie=0;ie<E.length;ie++)(function(me){B.resolve(E[me]).then(function(q){W(me,q)},Y)})(ie)}function F(B){this.def=B,this.triggered=!1}function z(B){this.promise=B,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function U(B){if(typeof B!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var E=new z(this);this.then=function(Y,ie){var L={success:typeof Y=="function"?Y:!0,failure:typeof ie=="function"?ie:!1};return L.promise=new this.constructor(function(ae,q){if(typeof ae!="function"||typeof q!="function")throw TypeError("Not a function");L.resolve=ae,L.reject=q}),E.chain.push(L),E.state!==0&&w(R,E),L.promise},this.catch=function(Y){return this.then(void 0,Y)};try{B.call(void 0,function(Y){I.call(E,Y)},function(Y){V.call(E,Y)})}catch(W){V.call(E,W)}}var Q=y({},"constructor",U,!1);return U.prototype=Q,y(Q,"__NPO__",0,!1),y(U,"resolve",function(E){var W=this;return E&&typeof E=="object"&&E.__NPO__===1?E:new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");ie(E)})}),y(U,"reject",function(E){return new this(function(Y,ie){if(typeof Y!="function"||typeof ie!="function")throw TypeError("Not a function");ie(E)})}),y(U,"all",function(E){var W=this;return k.call(E)!="[object Array]"?W.reject(TypeError("Not an array")):E.length===0?W.resolve([]):new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");var me=E.length,ae=Array(me),q=0;N(W,E,function(ee,be){ae[ee]=be,++q===me&&ie(ae)},L)})}),y(U,"race",function(E){var W=this;return k.call(E)!="[object Array]"?W.reject(TypeError("Not an array")):new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");N(W,E,function(ae,q){ie(q)},L)})}),U})},6131:function(f){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var h=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function v(b){if(b==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}function y(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de",Object.getOwnPropertyNames(b)[0]==="5")return!1;for(var x={},k=0;k<10;k++)x["_"+String.fromCharCode(k)]=k;var C=Object.getOwnPropertyNames(x).map(function(T){return x[T]});if(C.join("")!=="0123456789")return!1;var w={};return"abcdefghijklmnopqrst".split("").forEach(function(T){w[T]=T}),Object.keys(Object.assign({},w)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}f.exports=y()?Object.assign:function(b,x){for(var k,C=v(b),w,T=1;T<arguments.length;T++){k=Object(arguments[T]);for(var R in k)u.call(k,R)&&(C[R]=k[R]);if(h){w=h(k);for(var M=0;M<w.length;M++)p.call(k,w[M])&&(C[w[M]]=k[w[M]])}}return C}},5616:function(f){f.exports=p;var h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},u=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function p(b){var x=[];return b.replace(u,function(k,C,w){var T=C.toLowerCase();for(w=y(w),T=="m"&&w.length>2&&(x.push([C].concat(w.splice(0,2))),T="l",C=C=="m"?"l":"L");;){if(w.length==h[T])return w.unshift(C),x.push(w);if(w.length<h[T])throw new Error("malformed path data");x.push([C].concat(w.splice(0,h[T])))}}),x}var v=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function y(b){var x=b.match(v);return x?x.map(Number):[]}},8258:function(f){f.exports=function(u,p,v,y){var b=u[0],x=u[1],k=!1;v===void 0&&(v=0),y===void 0&&(y=p.length);for(var C=y-v,w=0,T=C-1;w<C;T=w++){var R=p[w+v][0],M=p[w+v][1],I=p[T+v][0],V=p[T+v][1],N=M>x!=V>x&&b<(I-R)*(x-M)/(V-M)+R;N&&(k=!k)}return k}},2142:function(f,h,u){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var p=u(9444),v=u(9023),y=u(7263),b=u(1328),x=u(5968),k=u(670),C=!1,w=v(),T;T={buildLog:function(M){return M===!0?C=p():M===!1&&(C=!1),C===!1?!1:C.list},epsilon:function(M){return w.epsilon(M)},segments:function(M){var I=y(!0,w,C);return M.regions.forEach(I.addRegion),{segments:I.calculate(M.inverted),inverted:M.inverted}},combine:function(M,I){var V=y(!1,w,C);return{combined:V.calculate(M.segments,M.inverted,I.segments,I.inverted),inverted1:M.inverted,inverted2:I.inverted}},selectUnion:function(M){return{segments:x.union(M.combined,C),inverted:M.inverted1||M.inverted2}},selectIntersect:function(M){return{segments:x.intersect(M.combined,C),inverted:M.inverted1&&M.inverted2}},selectDifference:function(M){return{segments:x.difference(M.combined,C),inverted:M.inverted1&&!M.inverted2}},selectDifferenceRev:function(M){return{segments:x.differenceRev(M.combined,C),inverted:!M.inverted1&&M.inverted2}},selectXor:function(M){return{segments:x.xor(M.combined,C),inverted:M.inverted1!==M.inverted2}},polygon:function(M){return{regions:b(M.segments,w,C),inverted:M.inverted}},polygonFromGeoJSON:function(M){return k.toPolygon(T,M)},polygonToGeoJSON:function(M){return k.fromPolygon(T,w,M)},union:function(M,I){return R(M,I,T.selectUnion)},intersect:function(M,I){return R(M,I,T.selectIntersect)},difference:function(M,I){return R(M,I,T.selectDifference)},differenceRev:function(M,I){return R(M,I,T.selectDifferenceRev)},xor:function(M,I){return R(M,I,T.selectXor)}};function R(M,I,V){var N=T.segments(M),F=T.segments(I),z=T.combine(N,F),U=V(z);return T.polygon(U)}typeof window=="object"&&(window.PolyBool=T),f.exports=T},9444:function(f){function h(){var u,p=0,v=!1;function y(b,x){return u.list.push({type:b,data:x?JSON.parse(JSON.stringify(x)):void 0}),u}return u={list:[],segmentId:function(){return p++},checkIntersection:function(b,x){return y("check",{seg1:b,seg2:x})},segmentChop:function(b,x){return y("div_seg",{seg:b,pt:x}),y("chop",{seg:b,pt:x})},statusRemove:function(b){return y("pop_seg",{seg:b})},segmentUpdate:function(b){return y("seg_update",{seg:b})},segmentNew:function(b,x){return y("new_seg",{seg:b,primary:x})},segmentRemove:function(b){return y("rem_seg",{seg:b})},tempStatus:function(b,x,k){return y("temp_status",{seg:b,above:x,below:k})},rewind:function(b){return y("rewind",{seg:b})},status:function(b,x,k){return y("status",{seg:b,above:x,below:k})},vert:function(b){return b===v?u:(v=b,y("vert",{x:b}))},log:function(b){return typeof b!="string"&&(b=JSON.stringify(b,!1,"  ")),y("log",{txt:b})},reset:function(){return y("reset")},selected:function(b){return y("selected",{segs:b})},chainStart:function(b){return y("chain_start",{seg:b})},chainRemoveHead:function(b,x){return y("chain_rem_head",{index:b,pt:x})},chainRemoveTail:function(b,x){return y("chain_rem_tail",{index:b,pt:x})},chainNew:function(b,x){return y("chain_new",{pt1:b,pt2:x})},chainMatch:function(b){return y("chain_match",{index:b})},chainClose:function(b){return y("chain_close",{index:b})},chainAddHead:function(b,x){return y("chain_add_head",{index:b,pt:x})},chainAddTail:function(b,x){return y("chain_add_tail",{index:b,pt:x})},chainConnect:function(b,x){return y("chain_con",{index1:b,index2:x})},chainReverse:function(b){return y("chain_rev",{index:b})},chainJoin:function(b,x){return y("chain_join",{index1:b,index2:x})},done:function(){return y("done")}},u}f.exports=h},9023:function(f){function h(u){typeof u!="number"&&(u=1e-10);var p={epsilon:function(v){return typeof v=="number"&&(u=v),u},pointAboveOrOnLine:function(v,y,b){var x=y[0],k=y[1],C=b[0],w=b[1],T=v[0],R=v[1];return(C-x)*(R-k)-(w-k)*(T-x)>=-u},pointBetween:function(v,y,b){var x=v[1]-y[1],k=b[0]-y[0],C=v[0]-y[0],w=b[1]-y[1],T=C*k+x*w;if(T<u)return!1;var R=k*k+w*w;return!(T-R>-u)},pointsSameX:function(v,y){return Math.abs(v[0]-y[0])<u},pointsSameY:function(v,y){return Math.abs(v[1]-y[1])<u},pointsSame:function(v,y){return p.pointsSameX(v,y)&&p.pointsSameY(v,y)},pointsCompare:function(v,y){return p.pointsSameX(v,y)?p.pointsSameY(v,y)?0:v[1]<y[1]?-1:1:v[0]<y[0]?-1:1},pointsCollinear:function(v,y,b){var x=v[0]-y[0],k=v[1]-y[1],C=y[0]-b[0],w=y[1]-b[1];return Math.abs(x*w-C*k)<u},linesIntersect:function(v,y,b,x){var k=y[0]-v[0],C=y[1]-v[1],w=x[0]-b[0],T=x[1]-b[1],R=k*T-C*w;if(Math.abs(R)<u)return!1;var M=v[0]-b[0],I=v[1]-b[1],V=(w*I-T*M)/R,N=(k*I-C*M)/R,F={alongA:0,alongB:0,pt:[v[0]+V*k,v[1]+V*C]};return V<=-u?F.alongA=-2:V<u?F.alongA=-1:V-1<=-u?F.alongA=0:V-1<u?F.alongA=1:F.alongA=2,N<=-u?F.alongB=-2:N<u?F.alongB=-1:N-1<=-u?F.alongB=0:N-1<u?F.alongB=1:F.alongB=2,F},pointInsideRegion:function(v,y){for(var b=v[0],x=v[1],k=y[y.length-1][0],C=y[y.length-1][1],w=!1,T=0;T<y.length;T++){var R=y[T][0],M=y[T][1];M-x>u!=C-x>u&&(k-R)*(x-M)/(C-M)+R-b>u&&(w=!w),k=R,C=M}return w}};return p}f.exports=h},670:function(f){var h={toPolygon:function(u,p){function v(x){if(x.length<=0)return u.segments({inverted:!1,regions:[]});function k(T){var R=T.slice(0,T.length-1);return u.segments({inverted:!1,regions:[R]})}for(var C=k(x[0]),w=1;w<x.length;w++)C=u.selectDifference(u.combine(C,k(x[w])));return C}if(p.type==="Polygon")return u.polygon(v(p.coordinates));if(p.type==="MultiPolygon"){for(var y=u.segments({inverted:!1,regions:[]}),b=0;b<p.coordinates.length;b++)y=u.selectUnion(u.combine(y,v(p.coordinates[b])));return u.polygon(y)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(u,p,v){v=u.polygon(u.segments(v));function y(V,N){return p.pointInsideRegion([(V[0][0]+V[1][0])*.5,(V[0][1]+V[1][1])*.5],N)}function b(V){return{region:V,children:[]}}var x=b(null);function k(V,N){for(var F=0;F<V.children.length;F++){var z=V.children[F];if(y(N,z.region)){k(z,N);return}}for(var U=b(N),F=0;F<V.children.length;F++){var z=V.children[F];y(z.region,N)&&(U.children.push(z),V.children.splice(F,1),F--)}V.children.push(U)}for(var C=0;C<v.regions.length;C++){var w=v.regions[C];w.length<3||k(x,w)}function T(V,N){for(var F=0,z=V[V.length-1][0],U=V[V.length-1][1],Q=[],B=0;B<V.length;B++){var E=V[B][0],W=V[B][1];Q.push([E,W]),F+=W*z-E*U,z=E,U=W}var Y=F<0;return Y!==N&&Q.reverse(),Q.push([Q[0][0],Q[0][1]]),Q}var R=[];function M(V){var N=[T(V.region,!1)];R.push(N);for(var F=0;F<V.children.length;F++)N.push(I(V.children[F]))}function I(V){for(var N=0;N<V.children.length;N++)M(V.children[N]);return T(V.region,!0)}for(var C=0;C<x.children.length;C++)M(x.children[C]);return R.length<=0?{type:"Polygon",coordinates:[]}:R.length==1?{type:"Polygon",coordinates:R[0]}:{type:"MultiPolygon",coordinates:R}}};f.exports=h},7263:function(f,h,u){var p=u(6859);function v(y,b,x){function k(U,Q){return{id:x?x.segmentId():-1,start:U,end:Q,myFill:{above:null,below:null},otherFill:null}}function C(U,Q,B){return{id:x?x.segmentId():-1,start:U,end:Q,myFill:{above:B.myFill.above,below:B.myFill.below},otherFill:null}}var w=p.create();function T(U,Q,B,E,W,Y){var ie=b.pointsCompare(Q,W);return ie!==0?ie:b.pointsSame(B,Y)?0:U!==E?U?1:-1:b.pointAboveOrOnLine(B,E?W:Y,E?Y:W)?1:-1}function R(U,Q){w.insertBefore(U,function(B){var E=T(U.isStart,U.pt,Q,B.isStart,B.pt,B.other.pt);return E<0})}function M(U,Q){var B=p.node({isStart:!0,pt:U.start,seg:U,primary:Q,other:null,status:null});return R(B,U.end),B}function I(U,Q,B){var E=p.node({isStart:!1,pt:Q.end,seg:Q,primary:B,other:U,status:null});U.other=E,R(E,U.pt)}function V(U,Q){var B=M(U,Q);return I(B,U,Q),B}function N(U,Q){x&&x.segmentChop(U.seg,Q),U.other.remove(),U.seg.end=Q,U.other.pt=Q,R(U.other,U.pt)}function F(U,Q){var B=C(Q,U.seg.end,U.seg);return N(U,Q),V(B,U.primary)}function z(U,Q){var B=p.create();function E(ge,ne){var pe=ge.seg.start,G=ge.seg.end,Oe=ne.seg.start,xe=ne.seg.end;return b.pointsCollinear(pe,Oe,xe)?b.pointsCollinear(G,Oe,xe)||b.pointAboveOrOnLine(G,Oe,xe)?1:-1:b.pointAboveOrOnLine(pe,Oe,xe)?1:-1}function W(ge){return B.findTransition(function(ne){var pe=E(ge,ne.ev);return pe>0})}function Y(ge,ne){var pe=ge.seg,G=ne.seg,Oe=pe.start,xe=pe.end,Le=G.start,ke=G.end;x&&x.checkIntersection(pe,G);var $e=b.linesIntersect(Oe,xe,Le,ke);if($e===!1){if(!b.pointsCollinear(Oe,xe,Le)||b.pointsSame(Oe,ke)||b.pointsSame(xe,Le))return!1;var Ze=b.pointsSame(Oe,Le),De=b.pointsSame(xe,ke);if(Ze&&De)return ne;var Ie=!Ze&&b.pointBetween(Oe,Le,ke),re=!De&&b.pointBetween(xe,Le,ke);if(Ze)return re?F(ne,xe):F(ge,ke),ne;Ie&&(De||(re?F(ne,xe):F(ge,ke)),F(ne,Oe))}else $e.alongA===0&&($e.alongB===-1?F(ge,Le):$e.alongB===0?F(ge,$e.pt):$e.alongB===1&&F(ge,ke)),$e.alongB===0&&($e.alongA===-1?F(ne,Oe):$e.alongA===0?F(ne,$e.pt):$e.alongA===1&&F(ne,xe));return!1}for(var ie=[];!w.isEmpty();){var L=w.getHead();if(x&&x.vert(L.pt[0]),L.isStart){let ge=function(){if(ae){var ne=Y(L,ae);if(ne)return ne}return q?Y(L,q):!1};x&&x.segmentNew(L.seg,L.primary);var me=W(L),ae=me.before?me.before.ev:null,q=me.after?me.after.ev:null;x&&x.tempStatus(L.seg,ae?ae.seg:!1,q?q.seg:!1);var fe=ge();if(fe){if(y){var ee;L.seg.myFill.below===null?ee=!0:ee=L.seg.myFill.above!==L.seg.myFill.below,ee&&(fe.seg.myFill.above=!fe.seg.myFill.above)}else fe.seg.otherFill=L.seg.myFill;x&&x.segmentUpdate(fe.seg),L.other.remove(),L.remove()}if(w.getHead()!==L){x&&x.rewind(L.seg);continue}if(y){var ee;L.seg.myFill.below===null?ee=!0:ee=L.seg.myFill.above!==L.seg.myFill.below,q?L.seg.myFill.below=q.seg.myFill.above:L.seg.myFill.below=U,ee?L.seg.myFill.above=!L.seg.myFill.below:L.seg.myFill.above=L.seg.myFill.below}else if(L.seg.otherFill===null){var be;q?L.primary===q.primary?be=q.seg.otherFill.above:be=q.seg.myFill.above:be=L.primary?Q:U,L.seg.otherFill={above:be,below:be}}x&&x.status(L.seg,ae?ae.seg:!1,q?q.seg:!1),L.other.status=me.insert(p.node({ev:L}))}else{var Te=L.status;if(Te===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(B.exists(Te.prev)&&B.exists(Te.next)&&Y(Te.prev.ev,Te.next.ev),x&&x.statusRemove(Te.ev.seg),Te.remove(),!L.primary){var Be=L.seg.myFill;L.seg.myFill=L.seg.otherFill,L.seg.otherFill=Be}ie.push(L.seg)}w.getHead().remove()}return x&&x.done(),ie}return y?{addRegion:function(U){for(var Q,B=U[U.length-1],E=0;E<U.length;E++){Q=B,B=U[E];var W=b.pointsCompare(Q,B);W!==0&&V(k(W<0?Q:B,W<0?B:Q),!0)}},calculate:function(U){return z(U,!1)}}:{calculate:function(U,Q,B,E){return U.forEach(function(W){V(C(W.start,W.end,W),!0)}),B.forEach(function(W){V(C(W.start,W.end,W),!1)}),z(Q,E)}}}f.exports=v},6859:function(f){var h={create:function(){var u={root:{root:!0,next:null},exists:function(p){return!(p===null||p===u.root)},isEmpty:function(){return u.root.next===null},getHead:function(){return u.root.next},insertBefore:function(p,v){for(var y=u.root,b=u.root.next;b!==null;){if(v(b)){p.prev=b.prev,p.next=b,b.prev.next=p,b.prev=p;return}y=b,b=b.next}y.next=p,p.prev=y,p.next=null},findTransition:function(p){for(var v=u.root,y=u.root.next;y!==null&&!p(y);)v=y,y=y.next;return{before:v===u.root?null:v,after:y,insert:function(b){return b.prev=v,b.next=y,v.next=b,y!==null&&(y.prev=b),b}}}};return u},node:function(u){return u.prev=null,u.next=null,u.remove=function(){u.prev.next=u.next,u.next&&(u.next.prev=u.prev),u.prev=null,u.next=null},u}};f.exports=h},1328:function(f){function h(u,p,v){var y=[],b=[];return u.forEach(function(x){var k=x.start,C=x.end;if(p.pointsSame(k,C)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}v&&v.chainStart(x);var w={index:0,matches_head:!1,matches_pt1:!1},T={index:0,matches_head:!1,matches_pt1:!1},R=w;function M(fe,ee,be){return R.index=fe,R.matches_head=ee,R.matches_pt1=be,R===w?(R=T,!1):(R=null,!0)}for(var I=0;I<y.length;I++){var V=y[I],N=V[0];V[1];var F=V[V.length-1];if(V[V.length-2],p.pointsSame(N,k)){if(M(I,!0,!0))break}else if(p.pointsSame(N,C)){if(M(I,!0,!1))break}else if(p.pointsSame(F,k)){if(M(I,!1,!0))break}else if(p.pointsSame(F,C)&&M(I,!1,!1))break}if(R===w){y.push([k,C]),v&&v.chainNew(k,C);return}if(R===T){v&&v.chainMatch(w.index);var z=w.index,U=w.matches_pt1?C:k,Q=w.matches_head,V=y[z],B=Q?V[0]:V[V.length-1],E=Q?V[1]:V[V.length-2],W=Q?V[V.length-1]:V[0],Y=Q?V[V.length-2]:V[1];if(p.pointsCollinear(E,B,U)&&(Q?(v&&v.chainRemoveHead(w.index,U),V.shift()):(v&&v.chainRemoveTail(w.index,U),V.pop()),B=E),p.pointsSame(W,U)){y.splice(z,1),p.pointsCollinear(Y,W,B)&&(Q?(v&&v.chainRemoveTail(w.index,B),V.pop()):(v&&v.chainRemoveHead(w.index,B),V.shift())),v&&v.chainClose(w.index),b.push(V);return}Q?(v&&v.chainAddHead(w.index,U),V.unshift(U)):(v&&v.chainAddTail(w.index,U),V.push(U));return}function ie(fe){v&&v.chainReverse(fe),y[fe].reverse()}function L(fe,ee){var be=y[fe],Te=y[ee],Be=be[be.length-1],ge=be[be.length-2],ne=Te[0],pe=Te[1];p.pointsCollinear(ge,Be,ne)&&(v&&v.chainRemoveTail(fe,Be),be.pop(),Be=ge),p.pointsCollinear(Be,ne,pe)&&(v&&v.chainRemoveHead(ee,ne),Te.shift()),v&&v.chainJoin(fe,ee),y[fe]=be.concat(Te),y.splice(ee,1)}var me=w.index,ae=T.index;v&&v.chainConnect(me,ae);var q=y[me].length<y[ae].length;w.matches_head?T.matches_head?q?(ie(me),L(me,ae)):(ie(ae),L(ae,me)):L(ae,me):T.matches_head?L(me,ae):q?(ie(me),L(ae,me)):(ie(ae),L(me,ae))}),b}f.exports=h},5968:function(f){function h(p,v,y){var b=[];return p.forEach(function(x){var k=(x.myFill.above?8:0)+(x.myFill.below?4:0)+(x.otherFill&&x.otherFill.above?2:0)+(x.otherFill&&x.otherFill.below?1:0);v[k]!==0&&b.push({id:y?y.segmentId():-1,start:x.start,end:x.end,myFill:{above:v[k]===1,below:v[k]===2},otherFill:null})}),y&&y.selected(b),b}var u={union:function(p,v){return h(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],v)},intersect:function(p,v){return h(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],v)},difference:function(p,v){return h(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],v)},differenceRev:function(p,v){return h(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],v)},xor:function(p,v){return h(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],v)}};f.exports=u},4267:function(f,h,u){var p;(function(v){var y=/^\s+/,b=/\s+$/,x=0,k=v.round,C=v.min,w=v.max,T=v.random;function R(oe,Se){if(oe=oe||"",Se=Se||{},oe instanceof R)return oe;if(!(this instanceof R))return new R(oe,Se);var le=M(oe);this._originalInput=oe,this._r=le.r,this._g=le.g,this._b=le.b,this._a=le.a,this._roundA=k(100*this._a)/100,this._format=Se.format||le.format,this._gradientType=Se.gradientType,this._r<1&&(this._r=k(this._r)),this._g<1&&(this._g=k(this._g)),this._b<1&&(this._b=k(this._b)),this._ok=le.ok,this._tc_id=x++}R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var oe=this.toRgb();return(oe.r*299+oe.g*587+oe.b*114)/1e3},getLuminance:function(){var oe=this.toRgb(),Se,le,Ce,Qe,ze,Xe;return Se=oe.r/255,le=oe.g/255,Ce=oe.b/255,Se<=.03928?Qe=Se/12.92:Qe=v.pow((Se+.055)/1.055,2.4),le<=.03928?ze=le/12.92:ze=v.pow((le+.055)/1.055,2.4),Ce<=.03928?Xe=Ce/12.92:Xe=v.pow((Ce+.055)/1.055,2.4),.2126*Qe+.7152*ze+.0722*Xe},setAlpha:function(oe){return this._a=G(oe),this._roundA=k(100*this._a)/100,this},toHsv:function(){var oe=F(this._r,this._g,this._b);return{h:oe.h*360,s:oe.s,v:oe.v,a:this._a}},toHsvString:function(){var oe=F(this._r,this._g,this._b),Se=k(oe.h*360),le=k(oe.s*100),Ce=k(oe.v*100);return this._a==1?"hsv("+Se+", "+le+"%, "+Ce+"%)":"hsva("+Se+", "+le+"%, "+Ce+"%, "+this._roundA+")"},toHsl:function(){var oe=V(this._r,this._g,this._b);return{h:oe.h*360,s:oe.s,l:oe.l,a:this._a}},toHslString:function(){var oe=V(this._r,this._g,this._b),Se=k(oe.h*360),le=k(oe.s*100),Ce=k(oe.l*100);return this._a==1?"hsl("+Se+", "+le+"%, "+Ce+"%)":"hsla("+Se+", "+le+"%, "+Ce+"%, "+this._roundA+")"},toHex:function(oe){return U(this._r,this._g,this._b,oe)},toHexString:function(oe){return"#"+this.toHex(oe)},toHex8:function(oe){return Q(this._r,this._g,this._b,this._a,oe)},toHex8String:function(oe){return"#"+this.toHex8(oe)},toRgb:function(){return{r:k(this._r),g:k(this._g),b:k(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+k(this._r)+", "+k(this._g)+", "+k(this._b)+")":"rgba("+k(this._r)+", "+k(this._g)+", "+k(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:k(Oe(this._r,255)*100)+"%",g:k(Oe(this._g,255)*100)+"%",b:k(Oe(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+k(Oe(this._r,255)*100)+"%, "+k(Oe(this._g,255)*100)+"%, "+k(Oe(this._b,255)*100)+"%)":"rgba("+k(Oe(this._r,255)*100)+"%, "+k(Oe(this._g,255)*100)+"%, "+k(Oe(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ne[U(this._r,this._g,this._b,!0)]||!1},toFilter:function(oe){var Se="#"+B(this._r,this._g,this._b,this._a),le=Se,Ce=this._gradientType?"GradientType = 1, ":"";if(oe){var Qe=R(oe);le="#"+B(Qe._r,Qe._g,Qe._b,Qe._a)}return"progid:DXImageTransform.Microsoft.gradient("+Ce+"startColorstr="+Se+",endColorstr="+le+")"},toString:function(oe){var Se=!!oe;oe=oe||this._format;var le=!1,Ce=this._a<1&&this._a>=0,Qe=!Se&&Ce&&(oe==="hex"||oe==="hex6"||oe==="hex3"||oe==="hex4"||oe==="hex8"||oe==="name");return Qe?oe==="name"&&this._a===0?this.toName():this.toRgbString():(oe==="rgb"&&(le=this.toRgbString()),oe==="prgb"&&(le=this.toPercentageRgbString()),(oe==="hex"||oe==="hex6")&&(le=this.toHexString()),oe==="hex3"&&(le=this.toHexString(!0)),oe==="hex4"&&(le=this.toHex8String(!0)),oe==="hex8"&&(le=this.toHex8String()),oe==="name"&&(le=this.toName()),oe==="hsl"&&(le=this.toHslString()),oe==="hsv"&&(le=this.toHsvString()),le||this.toHexString())},clone:function(){return R(this.toString())},_applyModification:function(oe,Se){var le=oe.apply(null,[this].concat([].slice.call(Se)));return this._r=le._r,this._g=le._g,this._b=le._b,this.setAlpha(le._a),this},lighten:function(){return this._applyModification(ie,arguments)},brighten:function(){return this._applyModification(L,arguments)},darken:function(){return this._applyModification(me,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(W,arguments)},greyscale:function(){return this._applyModification(Y,arguments)},spin:function(){return this._applyModification(ae,arguments)},_applyCombination:function(oe,Se){return oe.apply(null,[this].concat([].slice.call(Se)))},analogous:function(){return this._applyCombination(Te,arguments)},complement:function(){return this._applyCombination(q,arguments)},monochromatic:function(){return this._applyCombination(Be,arguments)},splitcomplement:function(){return this._applyCombination(be,arguments)},triad:function(){return this._applyCombination(fe,arguments)},tetrad:function(){return this._applyCombination(ee,arguments)}},R.fromRatio=function(oe,Se){if(typeof oe=="object"){var le={};for(var Ce in oe)oe.hasOwnProperty(Ce)&&(Ce==="a"?le[Ce]=oe[Ce]:le[Ce]=De(oe[Ce]));oe=le}return R(oe,Se)};function M(oe){var Se={r:0,g:0,b:0},le=1,Ce=null,Qe=null,ze=null,Xe=!1,ct=!1;return typeof oe=="string"&&(oe=se(oe)),typeof oe=="object"&&(te(oe.r)&&te(oe.g)&&te(oe.b)?(Se=I(oe.r,oe.g,oe.b),Xe=!0,ct=String(oe.r).substr(-1)==="%"?"prgb":"rgb"):te(oe.h)&&te(oe.s)&&te(oe.v)?(Ce=De(oe.s),Qe=De(oe.v),Se=z(oe.h,Ce,Qe),Xe=!0,ct="hsv"):te(oe.h)&&te(oe.s)&&te(oe.l)&&(Ce=De(oe.s),ze=De(oe.l),Se=N(oe.h,Ce,ze),Xe=!0,ct="hsl"),oe.hasOwnProperty("a")&&(le=oe.a)),le=G(le),{ok:Xe,format:oe.format||ct,r:C(255,w(Se.r,0)),g:C(255,w(Se.g,0)),b:C(255,w(Se.b,0)),a:le}}function I(oe,Se,le){return{r:Oe(oe,255)*255,g:Oe(Se,255)*255,b:Oe(le,255)*255}}function V(oe,Se,le){oe=Oe(oe,255),Se=Oe(Se,255),le=Oe(le,255);var Ce=w(oe,Se,le),Qe=C(oe,Se,le),ze,Xe,ct=(Ce+Qe)/2;if(Ce==Qe)ze=Xe=0;else{var pt=Ce-Qe;switch(Xe=ct>.5?pt/(2-Ce-Qe):pt/(Ce+Qe),Ce){case oe:ze=(Se-le)/pt+(Se<le?6:0);break;case Se:ze=(le-oe)/pt+2;break;case le:ze=(oe-Se)/pt+4;break}ze/=6}return{h:ze,s:Xe,l:ct}}function N(oe,Se,le){var Ce,Qe,ze;oe=Oe(oe,360),Se=Oe(Se,100),le=Oe(le,100);function Xe(Ye,je,et){return et<0&&(et+=1),et>1&&(et-=1),et<.16666666666666666?Ye+(je-Ye)*6*et:et<.5?je:et<.6666666666666666?Ye+(je-Ye)*(.6666666666666666-et)*6:Ye}if(Se===0)Ce=Qe=ze=le;else{var ct=le<.5?le*(1+Se):le+Se-le*Se,pt=2*le-ct;Ce=Xe(pt,ct,oe+.3333333333333333),Qe=Xe(pt,ct,oe),ze=Xe(pt,ct,oe-.3333333333333333)}return{r:Ce*255,g:Qe*255,b:ze*255}}function F(oe,Se,le){oe=Oe(oe,255),Se=Oe(Se,255),le=Oe(le,255);var Ce=w(oe,Se,le),Qe=C(oe,Se,le),ze,Xe,ct=Ce,pt=Ce-Qe;if(Xe=Ce===0?0:pt/Ce,Ce==Qe)ze=0;else{switch(Ce){case oe:ze=(Se-le)/pt+(Se<le?6:0);break;case Se:ze=(le-oe)/pt+2;break;case le:ze=(oe-Se)/pt+4;break}ze/=6}return{h:ze,s:Xe,v:ct}}function z(oe,Se,le){oe=Oe(oe,360)*6,Se=Oe(Se,100),le=Oe(le,100);var Ce=v.floor(oe),Qe=oe-Ce,ze=le*(1-Se),Xe=le*(1-Qe*Se),ct=le*(1-(1-Qe)*Se),pt=Ce%6,Ye=[le,Xe,ze,ze,ct,le][pt],je=[ct,le,le,Xe,ze,ze][pt],et=[ze,ze,ct,le,le,Xe][pt];return{r:Ye*255,g:je*255,b:et*255}}function U(oe,Se,le,Ce){var Qe=[Ze(k(oe).toString(16)),Ze(k(Se).toString(16)),Ze(k(le).toString(16))];return Ce&&Qe[0].charAt(0)==Qe[0].charAt(1)&&Qe[1].charAt(0)==Qe[1].charAt(1)&&Qe[2].charAt(0)==Qe[2].charAt(1)?Qe[0].charAt(0)+Qe[1].charAt(0)+Qe[2].charAt(0):Qe.join("")}function Q(oe,Se,le,Ce,Qe){var ze=[Ze(k(oe).toString(16)),Ze(k(Se).toString(16)),Ze(k(le).toString(16)),Ze(Ie(Ce))];return Qe&&ze[0].charAt(0)==ze[0].charAt(1)&&ze[1].charAt(0)==ze[1].charAt(1)&&ze[2].charAt(0)==ze[2].charAt(1)&&ze[3].charAt(0)==ze[3].charAt(1)?ze[0].charAt(0)+ze[1].charAt(0)+ze[2].charAt(0)+ze[3].charAt(0):ze.join("")}function B(oe,Se,le,Ce){var Qe=[Ze(Ie(Ce)),Ze(k(oe).toString(16)),Ze(k(Se).toString(16)),Ze(k(le).toString(16))];return Qe.join("")}R.equals=function(oe,Se){return!oe||!Se?!1:R(oe).toRgbString()==R(Se).toRgbString()},R.random=function(){return R.fromRatio({r:T(),g:T(),b:T()})};function E(oe,Se){Se=Se===0?0:Se||10;var le=R(oe).toHsl();return le.s-=Se/100,le.s=xe(le.s),R(le)}function W(oe,Se){Se=Se===0?0:Se||10;var le=R(oe).toHsl();return le.s+=Se/100,le.s=xe(le.s),R(le)}function Y(oe){return R(oe).desaturate(100)}function ie(oe,Se){Se=Se===0?0:Se||10;var le=R(oe).toHsl();return le.l+=Se/100,le.l=xe(le.l),R(le)}function L(oe,Se){Se=Se===0?0:Se||10;var le=R(oe).toRgb();return le.r=w(0,C(255,le.r-k(255*-(Se/100)))),le.g=w(0,C(255,le.g-k(255*-(Se/100)))),le.b=w(0,C(255,le.b-k(255*-(Se/100)))),R(le)}function me(oe,Se){Se=Se===0?0:Se||10;var le=R(oe).toHsl();return le.l-=Se/100,le.l=xe(le.l),R(le)}function ae(oe,Se){var le=R(oe).toHsl(),Ce=(le.h+Se)%360;return le.h=Ce<0?360+Ce:Ce,R(le)}function q(oe){var Se=R(oe).toHsl();return Se.h=(Se.h+180)%360,R(Se)}function fe(oe){var Se=R(oe).toHsl(),le=Se.h;return[R(oe),R({h:(le+120)%360,s:Se.s,l:Se.l}),R({h:(le+240)%360,s:Se.s,l:Se.l})]}function ee(oe){var Se=R(oe).toHsl(),le=Se.h;return[R(oe),R({h:(le+90)%360,s:Se.s,l:Se.l}),R({h:(le+180)%360,s:Se.s,l:Se.l}),R({h:(le+270)%360,s:Se.s,l:Se.l})]}function be(oe){var Se=R(oe).toHsl(),le=Se.h;return[R(oe),R({h:(le+72)%360,s:Se.s,l:Se.l}),R({h:(le+216)%360,s:Se.s,l:Se.l})]}function Te(oe,Se,le){Se=Se||6,le=le||30;var Ce=R(oe).toHsl(),Qe=360/le,ze=[R(oe)];for(Ce.h=(Ce.h-(Qe*Se>>1)+720)%360;--Se;)Ce.h=(Ce.h+Qe)%360,ze.push(R(Ce));return ze}function Be(oe,Se){Se=Se||6;for(var le=R(oe).toHsv(),Ce=le.h,Qe=le.s,ze=le.v,Xe=[],ct=1/Se;Se--;)Xe.push(R({h:Ce,s:Qe,v:ze})),ze=(ze+ct)%1;return Xe}R.mix=function(oe,Se,le){le=le===0?0:le||50;var Ce=R(oe).toRgb(),Qe=R(Se).toRgb(),ze=le/100,Xe={r:(Qe.r-Ce.r)*ze+Ce.r,g:(Qe.g-Ce.g)*ze+Ce.g,b:(Qe.b-Ce.b)*ze+Ce.b,a:(Qe.a-Ce.a)*ze+Ce.a};return R(Xe)},R.readability=function(oe,Se){var le=R(oe),Ce=R(Se);return(v.max(le.getLuminance(),Ce.getLuminance())+.05)/(v.min(le.getLuminance(),Ce.getLuminance())+.05)},R.isReadable=function(oe,Se,le){var Ce=R.readability(oe,Se),Qe,ze;switch(ze=!1,Qe=ue(le),Qe.level+Qe.size){case"AAsmall":case"AAAlarge":ze=Ce>=4.5;break;case"AAlarge":ze=Ce>=3;break;case"AAAsmall":ze=Ce>=7;break}return ze},R.mostReadable=function(oe,Se,le){var Ce=null,Qe=0,ze,Xe,ct,pt;le=le||{},Xe=le.includeFallbackColors,ct=le.level,pt=le.size;for(var Ye=0;Ye<Se.length;Ye++)ze=R.readability(oe,Se[Ye]),ze>Qe&&(Qe=ze,Ce=R(Se[Ye]));return R.isReadable(oe,Ce,{level:ct,size:pt})||!Xe?Ce:(le.includeFallbackColors=!1,R.mostReadable(oe,["#fff","#000"],le))};var ge=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ne=R.hexNames=pe(ge);function pe(oe){var Se={};for(var le in oe)oe.hasOwnProperty(le)&&(Se[oe[le]]=le);return Se}function G(oe){return oe=parseFloat(oe),(isNaN(oe)||oe<0||oe>1)&&(oe=1),oe}function Oe(oe,Se){ke(oe)&&(oe="100%");var le=$e(oe);return oe=C(Se,w(0,parseFloat(oe))),le&&(oe=parseInt(oe*Se,10)/100),v.abs(oe-Se)<1e-6?1:oe%Se/parseFloat(Se)}function xe(oe){return C(1,w(0,oe))}function Le(oe){return parseInt(oe,16)}function ke(oe){return typeof oe=="string"&&oe.indexOf(".")!=-1&&parseFloat(oe)===1}function $e(oe){return typeof oe=="string"&&oe.indexOf("%")!=-1}function Ze(oe){return oe.length==1?"0"+oe:""+oe}function De(oe){return oe<=1&&(oe=oe*100+"%"),oe}function Ie(oe){return v.round(parseFloat(oe)*255).toString(16)}function re(oe){return Le(oe)/255}var ye=function(){var oe="[-\\+]?\\d+%?",Se="[-\\+]?\\d*\\.\\d+%?",le="(?:"+Se+")|(?:"+oe+")",Ce="[\\s|\\(]+("+le+")[,|\\s]+("+le+")[,|\\s]+("+le+")\\s*\\)?",Qe="[\\s|\\(]+("+le+")[,|\\s]+("+le+")[,|\\s]+("+le+")[,|\\s]+("+le+")\\s*\\)?";return{CSS_UNIT:new RegExp(le),rgb:new RegExp("rgb"+Ce),rgba:new RegExp("rgba"+Qe),hsl:new RegExp("hsl"+Ce),hsla:new RegExp("hsla"+Qe),hsv:new RegExp("hsv"+Ce),hsva:new RegExp("hsva"+Qe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function te(oe){return!!ye.CSS_UNIT.exec(oe)}function se(oe){oe=oe.replace(y,"").replace(b,"").toLowerCase();var Se=!1;if(ge[oe])oe=ge[oe],Se=!0;else if(oe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var le;return(le=ye.rgb.exec(oe))?{r:le[1],g:le[2],b:le[3]}:(le=ye.rgba.exec(oe))?{r:le[1],g:le[2],b:le[3],a:le[4]}:(le=ye.hsl.exec(oe))?{h:le[1],s:le[2],l:le[3]}:(le=ye.hsla.exec(oe))?{h:le[1],s:le[2],l:le[3],a:le[4]}:(le=ye.hsv.exec(oe))?{h:le[1],s:le[2],v:le[3]}:(le=ye.hsva.exec(oe))?{h:le[1],s:le[2],v:le[3],a:le[4]}:(le=ye.hex8.exec(oe))?{r:Le(le[1]),g:Le(le[2]),b:Le(le[3]),a:re(le[4]),format:Se?"name":"hex8"}:(le=ye.hex6.exec(oe))?{r:Le(le[1]),g:Le(le[2]),b:Le(le[3]),format:Se?"name":"hex"}:(le=ye.hex4.exec(oe))?{r:Le(le[1]+""+le[1]),g:Le(le[2]+""+le[2]),b:Le(le[3]+""+le[3]),a:re(le[4]+""+le[4]),format:Se?"name":"hex8"}:(le=ye.hex3.exec(oe))?{r:Le(le[1]+""+le[1]),g:Le(le[2]+""+le[2]),b:Le(le[3]+""+le[3]),format:Se?"name":"hex"}:!1}function ue(oe){var Se,le;return oe=oe||{level:"AA",size:"small"},Se=(oe.level||"AA").toUpperCase(),le=(oe.size||"small").toLowerCase(),Se!=="AA"&&Se!=="AAA"&&(Se="AA"),le!=="small"&&le!=="large"&&(le="small"),{level:Se,size:le}}f.exports?f.exports=R:(p=(function(){return R}).call(h,u,h,f),p!==void 0&&(f.exports=p))})(Math)},3961:function(f,h,u){var p=u(3489),v=u(6131),y=p.instance();function b(V){this.local=this.regionalOptions[V||""]||this.regionalOptions[""]}b.prototype=new p.baseCalendar,v(b.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(V,N){if(typeof V=="string"){var F=V.match(k);return F?F[0]:""}var z=this._validateYear(V),U=V.month(),Q=""+this.toChineseMonth(z,U);return N&&Q.length<2&&(Q="0"+Q),this.isIntercalaryMonth(z,U)&&(Q+="i"),Q},monthNames:function(V){if(typeof V=="string"){var N=V.match(C);return N?N[0]:""}var F=this._validateYear(V),z=V.month(),U=this.toChineseMonth(F,z),Q=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][U-1];return this.isIntercalaryMonth(F,z)&&(Q="闰"+Q),Q},monthNamesShort:function(V){if(typeof V=="string"){var N=V.match(w);return N?N[0]:""}var F=this._validateYear(V),z=V.month(),U=this.toChineseMonth(F,z),Q=["一","二","三","四","五","六","七","八","九","十","十一","十二"][U-1];return this.isIntercalaryMonth(F,z)&&(Q="闰"+Q),Q},parseMonth:function(V,N){V=this._validateYear(V);var F=parseInt(N),z;if(isNaN(F))N[0]==="闰"&&(z=!0,N=N.substring(1)),N[N.length-1]==="月"&&(N=N.substring(0,N.length-1)),F=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(N);else{var U=N[N.length-1];z=U==="i"||U==="I"}var Q=this.toMonthIndex(V,F,z);return Q},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(V,N){if(V.year&&(V=V.year()),typeof V!="number"||V<1888||V>2111)throw N.replace(/\{0\}/,this.local.name);return V},toMonthIndex:function(V,N,F){var z=this.intercalaryMonth(V),U=F&&N!==z;if(U||N<1||N>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var Q;return z?!F&&N<=z?Q=N-1:Q=N:Q=N-1,Q},toChineseMonth:function(V,N){V.year&&(V=V.year(),N=V.month());var F=this.intercalaryMonth(V),z=F?12:11;if(N<0||N>z)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var U;return F?N<F?U=N+1:U=N:U=N+1,U},intercalaryMonth:function(V){V=this._validateYear(V);var N=T[V-T[0]],F=N>>13;return F},isIntercalaryMonth:function(V,N){V.year&&(V=V.year(),N=V.month());var F=this.intercalaryMonth(V);return!!F&&F===N},leapYear:function(V){return this.intercalaryMonth(V)!==0},weekOfYear:function(V,N,F){var z=this._validateYear(V,p.local.invalidyear),U=R[z-R[0]],Q=U>>9&4095,B=U>>5&15,E=U&31,W;W=y.newDate(Q,B,E),W.add(4-(W.dayOfWeek()||7),"d");var Y=this.toJD(V,N,F)-W.toJD();return 1+Math.floor(Y/7)},monthsInYear:function(V){return this.leapYear(V)?13:12},daysInMonth:function(V,N){V.year&&(N=V.month(),V=V.year()),V=this._validateYear(V);var F=T[V-T[0]],z=F>>13,U=z?12:11;if(N>U)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var Q=F&1<<12-N?30:29;return Q},weekDay:function(V,N,F){return(this.dayOfWeek(V,N,F)||7)<6},toJD:function(V,N,F){var z=this._validate(V,Q,F,p.local.invalidDate);V=this._validateYear(z.year()),N=z.month(),F=z.day();var U=this.isIntercalaryMonth(V,N),Q=this.toChineseMonth(V,N),B=I(V,Q,F,U);return y.toJD(B.year,B.month,B.day)},fromJD:function(V){var N=y.fromJD(V),F=M(N.year(),N.month(),N.day()),z=this.toMonthIndex(F.year,F.month,F.isIntercalary);return this.newDate(F.year,z,F.day)},fromString:function(V){var N=V.match(x),F=this._validateYear(+N[1]),z=+N[2],U=!!N[3],Q=this.toMonthIndex(F,z,U),B=+N[4];return this.newDate(F,Q,B)},add:function(V,N,F){var z=V.year(),U=V.month(),Q=this.isIntercalaryMonth(z,U),B=this.toChineseMonth(z,U),E=Object.getPrototypeOf(b.prototype).add.call(this,V,N,F);if(F==="y"){var W=E.year(),Y=E.month(),ie=this.isIntercalaryMonth(W,B),L=Q&&ie?this.toMonthIndex(W,B,!0):this.toMonthIndex(W,B,!1);L!==Y&&E.month(L)}return E}});var x=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,k=/^\d?\d[iI]?/m,C=/^闰?十?[一二三四五六七八九]?月/m,w=/^闰?十?[一二三四五六七八九]?/m;p.calendars.chinese=b;var T=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],R=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function M(V,N,F,z){var U,Q;if(typeof V=="object")U=V,Q=N||{};else{var B=typeof V=="number"&&V>=1888&&V<=2111;if(!B)throw new Error("Solar year outside range 1888-2111");var E=typeof N=="number"&&N>=1&&N<=12;if(!E)throw new Error("Solar month outside range 1 - 12");var W=typeof F=="number"&&F>=1&&F<=31;if(!W)throw new Error("Solar day outside range 1 - 31");U={year:V,month:N,day:F},Q=z||{}}var Y=R[U.year-R[0]],ie=U.year<<9|U.month<<5|U.day;Q.year=ie>=Y?U.year:U.year-1,Y=R[Q.year-R[0]];var L=Y>>9&4095,me=Y>>5&15,ae=Y&31,q,fe=new Date(L,me-1,ae),ee=new Date(U.year,U.month-1,U.day);q=Math.round((ee-fe)/864e5);var be=T[Q.year-T[0]],Te;for(Te=0;Te<13;Te++){var Be=be&1<<12-Te?30:29;if(q<Be)break;q-=Be}var ge=be>>13;return!ge||Te<ge?(Q.isIntercalary=!1,Q.month=1+Te):Te===ge?(Q.isIntercalary=!0,Q.month=Te):(Q.isIntercalary=!1,Q.month=Te),Q.day=1+q,Q}function I(V,N,F,z,U){var Q,B;if(typeof V=="object")B=V,Q=N||{};else{var E=typeof V=="number"&&V>=1888&&V<=2111;if(!E)throw new Error("Lunar year outside range 1888-2111");var W=typeof N=="number"&&N>=1&&N<=12;if(!W)throw new Error("Lunar month outside range 1 - 12");var Y=typeof F=="number"&&F>=1&&F<=30;if(!Y)throw new Error("Lunar day outside range 1 - 30");var ie;typeof z=="object"?(ie=!1,Q=z):(ie=!!z,Q=U||{}),B={year:V,month:N,day:F,isIntercalary:ie}}var L;L=B.day-1;var me=T[B.year-T[0]],ae=me>>13,q;ae&&(B.month>ae||B.isIntercalary)?q=B.month:q=B.month-1;for(var fe=0;fe<q;fe++){var ee=me&1<<12-fe?30:29;L+=ee}var be=R[B.year-R[0]],Te=be>>9&4095,Be=be>>5&15,ge=be&31,ne=new Date(Te,Be-1,ge+L);return Q.year=ne.getFullYear(),Q.month=1+ne.getMonth(),Q.day=ne.getDate(),Q}},8751:function(f,h,u){var p=u(3489),v=u(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var x=this._validate(k,this.minMonth,this.minDay,p.local.invalidYear),k=x.year()+(x.year()<0?1:0);return k%4===3||k%4===-1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(b,x,k){var C=this.newDate(b,x,k);return C.add(-C.dayOfWeek(),"d"),Math.floor((C.dayOfYear()-1)/7)+1},daysInMonth:function(b,x){var k=this._validate(b,x,this.minDay,p.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===13&&this.leapYear(k.year())?1:0)},weekDay:function(b,x,k){return(this.dayOfWeek(b,x,k)||7)<6},toJD:function(b,x,k){var C=this._validate(b,x,k,p.local.invalidDate);return b=C.year(),b<0&&b++,C.day()+(C.month()-1)*30+(b-1)*365+Math.floor(b/4)+this.jdEpoch-1},fromJD:function(b){var x=Math.floor(b)+.5-this.jdEpoch,k=Math.floor((x-Math.floor((x+366)/1461))/365)+1;k<=0&&k--,x=Math.floor(b)+.5-this.newDate(k,1,1).toJD();var C=Math.floor(x/30)+1,w=x-(C-1)*30+1;return this.newDate(k,C,w)}}),p.calendars.coptic=y},6825:function(f,h,u){var p=u(3489),v=u(6131);function y(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(x){return this._validate(x,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(x){return this._validate(x,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(x,k,C){var w=this.newDate(x,k,C);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/8)+1},daysInMonth:function(x,k){var C=this._validate(x,k,this.minDay,p.local.invalidMonth);return this.daysPerMonth[C.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(x,k,C){var w=this._validate(x,k,C,p.local.invalidDate);return(w.day()+1)%8},weekDay:function(x,k,C){var w=this.dayOfWeek(x,k,C);return w>=2&&w<=6},extraInfo:function(x,k,C){var w=this._validate(x,k,C,p.local.invalidDate);return{century:b[Math.floor((w.year()-1)/100)+1]||""}},toJD:function(x,k,C){var w=this._validate(x,k,C,p.local.invalidDate);return x=w.year()+(w.year()<0?1:0),k=w.month(),C=w.day(),C+(k>1?16:0)+(k>2?(k-2)*32:0)+(x-1)*400+this.jdEpoch-1},fromJD:function(x){x=Math.floor(x+.5)-Math.floor(this.jdEpoch)-1;var k=Math.floor(x/400)+1;x-=(k-1)*400,x+=x>15?16:0;var C=Math.floor(x/32)+1,w=x-(C-1)*32+1;return this.newDate(k<=0?k-1:k,C,w)}});var b={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=y},7715:function(f,h,u){var p=u(3489),v=u(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var x=this._validate(k,this.minMonth,this.minDay,p.local.invalidYear),k=x.year()+(x.year()<0?1:0);return k%4===3||k%4===-1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(b,x,k){var C=this.newDate(b,x,k);return C.add(-C.dayOfWeek(),"d"),Math.floor((C.dayOfYear()-1)/7)+1},daysInMonth:function(b,x){var k=this._validate(b,x,this.minDay,p.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===13&&this.leapYear(k.year())?1:0)},weekDay:function(b,x,k){return(this.dayOfWeek(b,x,k)||7)<6},toJD:function(b,x,k){var C=this._validate(b,x,k,p.local.invalidDate);return b=C.year(),b<0&&b++,C.day()+(C.month()-1)*30+(b-1)*365+Math.floor(b/4)+this.jdEpoch-1},fromJD:function(b){var x=Math.floor(b)+.5-this.jdEpoch,k=Math.floor((x-Math.floor((x+366)/1461))/365)+1;k<=0&&k--,x=Math.floor(b)+.5-this.newDate(k,1,1).toJD();var C=Math.floor(x/30)+1,w=x-(C-1)*30+1;return this.newDate(k,C,w)}}),p.calendars.ethiopian=y},9384:function(f,h,u){var p=u(3489),v=u(6131);function y(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(x){var k=this._validate(x,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(k.year())},_leapYear:function(x){return x=x<0?x+1:x,b(x*7+1,19)<7},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(x.year?x.year():x)?13:12},weekOfYear:function(x,k,C){var w=this.newDate(x,k,C);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInYear:function(x){var k=this._validate(x,this.minMonth,this.minDay,p.local.invalidYear);return x=k.year(),this.toJD(x===-1?1:x+1,7,1)-this.toJD(x,7,1)},daysInMonth:function(x,k){return x.year&&(k=x.month(),x=x.year()),this._validate(x,k,this.minDay,p.local.invalidMonth),k===12&&this.leapYear(x)||k===8&&b(this.daysInYear(x),10)===5?30:k===9&&b(this.daysInYear(x),10)===3?29:this.daysPerMonth[k-1]},weekDay:function(x,k,C){return this.dayOfWeek(x,k,C)!==6},extraInfo:function(x,k,C){var w=this._validate(x,k,C,p.local.invalidDate);return{yearType:(this.leapYear(w)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(w)%10-3]}},toJD:function(x,k,C){var w=this._validate(x,k,C,p.local.invalidDate);x=w.year(),k=w.month(),C=w.day();var T=x<=0?x+1:x,R=this.jdEpoch+this._delay1(T)+this._delay2(T)+C+1;if(k<7){for(var M=7;M<=this.monthsInYear(x);M++)R+=this.daysInMonth(x,M);for(var M=1;M<k;M++)R+=this.daysInMonth(x,M)}else for(var M=7;M<k;M++)R+=this.daysInMonth(x,M);return R},_delay1:function(x){var k=Math.floor((235*x-234)/19),C=12084+13753*k,w=k*29+Math.floor(C/25920);return b(3*(w+1),7)<3&&w++,w},_delay2:function(x){var k=this._delay1(x-1),C=this._delay1(x),w=this._delay1(x+1);return w-C===356?2:C-k===382?1:0},fromJD:function(x){x=Math.floor(x)+.5;for(var k=Math.floor((x-this.jdEpoch)*98496/35975351)-1;x>=this.toJD(k===-1?1:k+1,7,1);)k++;for(var C=x<this.toJD(k,1,1)?7:1;x>this.toJD(k,C,this.daysInMonth(k,C));)C++;var w=x-this.toJD(k,C,1)+1;return this.newDate(k,C,w)}});function b(x,k){return x-k*Math.floor(x/k)}p.calendars.hebrew=y},3805:function(f,h,u){var p=u(3489),v=u(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var x=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);return(x.year()*11+14)%30<11},weekOfYear:function(b,x,k){var C=this.newDate(b,x,k);return C.add(-C.dayOfWeek(),"d"),Math.floor((C.dayOfYear()-1)/7)+1},daysInYear:function(b){return this.leapYear(b)?355:354},daysInMonth:function(b,x){var k=this._validate(b,x,this.minDay,p.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===12&&this.leapYear(k.year())?1:0)},weekDay:function(b,x,k){return this.dayOfWeek(b,x,k)!==5},toJD:function(b,x,k){var C=this._validate(b,x,k,p.local.invalidDate);return b=C.year(),x=C.month(),k=C.day(),b=b<=0?b+1:b,k+Math.ceil(29.5*(x-1))+(b-1)*354+Math.floor((3+11*b)/30)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b)+.5;var x=Math.floor((30*(b-this.jdEpoch)+10646)/10631);x=x<=0?x-1:x;var k=Math.min(12,Math.ceil((b-29-this.toJD(x,1,1))/29.5)+1),C=b-this.toJD(x,k,1)+1;return this.newDate(x,k,C)}}),p.calendars.islamic=y},8874:function(f,h,u){var p=u(3489),v=u(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var x=this._validate(k,this.minMonth,this.minDay,p.local.invalidYear),k=x.year()<0?x.year()+1:x.year();return k%4===0},weekOfYear:function(b,x,k){var C=this.newDate(b,x,k);return C.add(4-(C.dayOfWeek()||7),"d"),Math.floor((C.dayOfYear()-1)/7)+1},daysInMonth:function(b,x){var k=this._validate(b,x,this.minDay,p.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===2&&this.leapYear(k.year())?1:0)},weekDay:function(b,x,k){return(this.dayOfWeek(b,x,k)||7)<6},toJD:function(b,x,k){var C=this._validate(b,x,k,p.local.invalidDate);return b=C.year(),x=C.month(),k=C.day(),b<0&&b++,x<=2&&(b--,x+=12),Math.floor(365.25*(b+4716))+Math.floor(30.6001*(x+1))+k-1524.5},fromJD:function(b){var x=Math.floor(b+.5),k=x+1524,C=Math.floor((k-122.1)/365.25),w=Math.floor(365.25*C),T=Math.floor((k-w)/30.6001),R=T-Math.floor(T<14?1:13),M=C-Math.floor(R>2?4716:4715),I=k-w-Math.floor(30.6001*T);return M<=0&&M--,this.newDate(M,R,I)}}),p.calendars.julian=y},3290:function(f,h,u){var p=u(3489),v=u(6131);function y(k){this.local=this.regionalOptions[k||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(k){return this._validate(k,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(k){var C=this._validate(k,this.minMonth,this.minDay,p.local.invalidYear);k=C.year();var w=Math.floor(k/400);k=k%400,k+=k<0?400:0;var T=Math.floor(k/20);return w+"."+T+"."+k%20},forYear:function(k){if(k=k.split("."),k.length<3)throw"Invalid Mayan year";for(var C=0,w=0;w<k.length;w++){var T=parseInt(k[w],10);if(Math.abs(T)>19||w>0&&T<0)throw"Invalid Mayan year";C=C*20+T}return C},monthsInYear:function(k){return this._validate(k,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(k,C,w){return this._validate(k,C,w,p.local.invalidDate),0},daysInYear:function(k){return this._validate(k,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(k,C){return this._validate(k,C,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(k,C,w){var T=this._validate(k,C,w,p.local.invalidDate);return T.day()},weekDay:function(k,C,w){return this._validate(k,C,w,p.local.invalidDate),!0},extraInfo:function(k,C,w){var T=this._validate(k,C,w,p.local.invalidDate),R=T.toJD(),M=this._toHaab(R),I=this._toTzolkin(R);return{haabMonthName:this.local.haabMonths[M[0]-1],haabMonth:M[0],haabDay:M[1],tzolkinDayName:this.local.tzolkinMonths[I[0]-1],tzolkinDay:I[0],tzolkinTrecena:I[1]}},_toHaab:function(k){k-=this.jdEpoch;var C=b(k+8+(18-1)*20,365);return[Math.floor(C/20)+1,b(C,20)]},_toTzolkin:function(k){return k-=this.jdEpoch,[x(k+20,20),x(k+4,13)]},toJD:function(k,C,w){var T=this._validate(k,C,w,p.local.invalidDate);return T.day()+T.month()*20+T.year()*360+this.jdEpoch},fromJD:function(k){k=Math.floor(k)+.5-this.jdEpoch;var C=Math.floor(k/360);k=k%360,k+=k<0?360:0;var w=Math.floor(k/20),T=k%20;return this.newDate(C,w,T)}});function b(k,C){return k-C*Math.floor(k/C)}function x(k,C){return b(k-1,C)+1}p.calendars.mayan=y},9108:function(f,h,u){var p=u(3489),v=u(6131);function y(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar;var b=p.instance("gregorian");v(y.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(x){var k=this._validate(x,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return b.leapYear(k.year()+(k.year()<1?1:0)+1469)},weekOfYear:function(x,k,C){var w=this.newDate(x,k,C);return w.add(1-(w.dayOfWeek()||7),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(x,k){var C=this._validate(x,k,this.minDay,p.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(C.month()===12&&this.leapYear(C.year())?1:0)},weekDay:function(x,k,C){return(this.dayOfWeek(x,k,C)||7)<6},toJD:function(T,k,C){var w=this._validate(T,k,C,p.local.invalidMonth),T=w.year();T<0&&T++;for(var R=w.day(),M=1;M<w.month();M++)R+=this.daysPerMonth[M-1];return R+b.toJD(T+1468,3,13)},fromJD:function(x){x=Math.floor(x+.5);for(var k=Math.floor((x-(this.jdEpoch-1))/366);x>=this.toJD(k+1,1,1);)k++;for(var C=x-Math.floor(this.toJD(k,1,1)+.5)+1,w=1;C>this.daysInMonth(k,w);)C-=this.daysInMonth(k,w),w++;return this.newDate(k,w,C)}}),p.calendars.nanakshahi=y},5422:function(f,h,u){var p=u(3489),v=u(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(b){return this.daysInYear(b)!==this.daysPerYear},weekOfYear:function(b,x,k){var C=this.newDate(b,x,k);return C.add(-C.dayOfWeek(),"d"),Math.floor((C.dayOfYear()-1)/7)+1},daysInYear:function(b){var x=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);if(b=x.year(),typeof this.NEPALI_CALENDAR_DATA[b]>"u")return this.daysPerYear;for(var k=0,C=this.minMonth;C<=12;C++)k+=this.NEPALI_CALENDAR_DATA[b][C];return k},daysInMonth:function(b,x){return b.year&&(x=b.month(),b=b.year()),this._validate(b,x,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[b]>"u"?this.daysPerMonth[x-1]:this.NEPALI_CALENDAR_DATA[b][x]},weekDay:function(b,x,k){return this.dayOfWeek(b,x,k)!==6},toJD:function(b,x,k){var C=this._validate(b,x,k,p.local.invalidDate);b=C.year(),x=C.month(),k=C.day();var w=p.instance(),T=0,R=x,M=b;this._createMissingCalendarData(b);var I=b-(R>9||R===9&&k>=this.NEPALI_CALENDAR_DATA[M][0]?56:57);for(x!==9&&(T=k,R--);R!==9;)R<=0&&(R=12,M--),T+=this.NEPALI_CALENDAR_DATA[M][R],R--;return x===9?(T+=k-this.NEPALI_CALENDAR_DATA[M][0],T<0&&(T+=w.daysInYear(I))):T+=this.NEPALI_CALENDAR_DATA[M][9]-this.NEPALI_CALENDAR_DATA[M][0],w.newDate(I,1,1).add(T,"d").toJD()},fromJD:function(b){var x=p.instance(),k=x.fromJD(b),C=k.year(),w=k.dayOfYear(),T=C+56;this._createMissingCalendarData(T);for(var R=9,M=this.NEPALI_CALENDAR_DATA[T][0],I=this.NEPALI_CALENDAR_DATA[T][R]-M+1;w>I;)R++,R>12&&(R=1,T++),I+=this.NEPALI_CALENDAR_DATA[T][R];var V=this.NEPALI_CALENDAR_DATA[T][R]-(I-w);return this.newDate(T,R,V)},_createMissingCalendarData:function(b){var x=this.daysPerMonth.slice(0);x.unshift(17);for(var k=b-1;k<b+2;k++)typeof this.NEPALI_CALENDAR_DATA[k]>"u"&&(this.NEPALI_CALENDAR_DATA[k]=x)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=y},4320:function(f,h,u){var p=u(3489),v=u(6131);function y(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(x){var k=this._validate(x,this.minMonth,this.minDay,p.local.invalidYear);return((k.year()-(k.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(x,k,C){var w=this.newDate(x,k,C);return w.add(-((w.dayOfWeek()+1)%7),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(x,k){var C=this._validate(x,k,this.minDay,p.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(C.month()===12&&this.leapYear(C.year())?1:0)},weekDay:function(x,k,C){return this.dayOfWeek(x,k,C)!==5},toJD:function(x,k,C){var w=this._validate(x,k,C,p.local.invalidDate);x=w.year(),k=w.month(),C=w.day();var T=x-(x>=0?474:473),R=474+b(T,2820);return C+(k<=7?(k-1)*31:(k-1)*30+6)+Math.floor((R*682-110)/2816)+(R-1)*365+Math.floor(T/2820)*1029983+this.jdEpoch-1},fromJD:function(x){x=Math.floor(x)+.5;var k=x-this.toJD(475,1,1),C=Math.floor(k/1029983),w=b(k,1029983),T=2820;if(w!==1029982){var R=Math.floor(w/366),M=b(w,366);T=Math.floor((2134*R+2816*M+2815)/1028522)+R+1}var I=T+2820*C+474;I=I<=0?I-1:I;var V=x-this.toJD(I,1,1)+1,N=V<=186?Math.ceil(V/31):Math.ceil((V-6)/30),F=x-this.toJD(I,N,1)+1;return this.newDate(I,N,F)}});function b(x,k){return x-k*Math.floor(x/k)}p.calendars.persian=y,p.calendars.jalali=y},1320:function(f,h,u){var p=u(3489),v=u(6131),y=p.instance();function b(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}b.prototype=new p.baseCalendar,v(b.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(C){var k=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear),C=this._t2gYear(k.year());return y.leapYear(C)},weekOfYear:function(T,k,C){var w=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),T=this._t2gYear(w.year());return y.weekOfYear(T,w.month(),w.day())},daysInMonth:function(x,k){var C=this._validate(x,k,this.minDay,p.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(C.month()===2&&this.leapYear(C.year())?1:0)},weekDay:function(x,k,C){return(this.dayOfWeek(x,k,C)||7)<6},toJD:function(T,k,C){var w=this._validate(T,k,C,p.local.invalidDate),T=this._t2gYear(w.year());return y.toJD(T,w.month(),w.day())},fromJD:function(x){var k=y.fromJD(x),C=this._g2tYear(k.year());return this.newDate(C,k.month(),k.day())},_t2gYear:function(x){return x+this.yearsOffset+(x>=-this.yearsOffset&&x<=-1?1:0)},_g2tYear:function(x){return x-this.yearsOffset-(x>=1&&x<=this.yearsOffset?1:0)}}),p.calendars.taiwan=b},1367:function(f,h,u){var p=u(3489),v=u(6131),y=p.instance();function b(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}b.prototype=new p.baseCalendar,v(b.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var k=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear),C=this._t2gYear(k.year());return y.leapYear(C)},weekOfYear:function(T,k,C){var w=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),T=this._t2gYear(w.year());return y.weekOfYear(T,w.month(),w.day())},daysInMonth:function(x,k){var C=this._validate(x,k,this.minDay,p.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(C.month()===2&&this.leapYear(C.year())?1:0)},weekDay:function(x,k,C){return(this.dayOfWeek(x,k,C)||7)<6},toJD:function(T,k,C){var w=this._validate(T,k,C,p.local.invalidDate),T=this._t2gYear(w.year());return y.toJD(T,w.month(),w.day())},fromJD:function(x){var k=y.fromJD(x),C=this._g2tYear(k.year());return this.newDate(C,k.month(),k.day())},_t2gYear:function(x){return x-this.yearsOffset-(x>=1&&x<=this.yearsOffset?1:0)},_g2tYear:function(x){return x+this.yearsOffset+(x>=-this.yearsOffset&&x<=-1?1:0)}}),p.calendars.thai=b},1457:function(f,h,u){var p=u(3489),v=u(6131);function y(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}y.prototype=new p.baseCalendar,v(y.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(x){var k=this._validate(x,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(k.year())===355},weekOfYear:function(x,k,C){var w=this.newDate(x,k,C);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInYear:function(x){for(var k=0,C=1;C<=12;C++)k+=this.daysInMonth(x,C);return k},daysInMonth:function(x,k){for(var C=this._validate(x,k,this.minDay,p.local.invalidMonth),w=C.toJD()-24e5+.5,T=0,R=0;R<b.length;R++){if(b[R]>w)return b[T]-b[T-1];T++}return 30},weekDay:function(x,k,C){return this.dayOfWeek(x,k,C)!==5},toJD:function(x,k,C){var w=this._validate(x,k,C,p.local.invalidDate),T=12*(w.year()-1)+w.month()-15292,R=w.day()+b[T-1]-1;return R+24e5-.5},fromJD:function(x){for(var k=x-24e5+.5,C=0,w=0;w<b.length&&!(b[w]>k);w++)C++;var T=C+15292,R=Math.floor((T-1)/12),M=R+1,I=T-12*R,V=k-b[C-1]+1;return this.newDate(M,I,V)},isValid:function(x,k,C){var w=p.baseCalendar.prototype.isValid.apply(this,arguments);return w&&(x=x.year!=null?x.year:x,w=x>=1276&&x<=1500),w},_validate:function(x,k,C,w){var T=p.baseCalendar.prototype._validate.apply(this,arguments);if(T.year<1276||T.year>1500)throw w.replace(/\{0\}/,this.local.name);return T}}),p.calendars.ummalqura=y;var b=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(f,h,u){var p=u(6131);function v(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}p(v.prototype,{instance:function(w,T){w=(w||"gregorian").toLowerCase(),T=T||"";var R=this._localCals[w+"-"+T];if(!R&&this.calendars[w]&&(R=new this.calendars[w](T),this._localCals[w+"-"+T]=R),!R)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,w);return R},newDate:function(w,T,R,M,I){return M=(w!=null&&w.year?w.calendar():typeof M=="string"?this.instance(M,I):M)||this.instance(),M.newDate(w,T,R)},substituteDigits:function(w){return function(T){return(T+"").replace(/[0-9]/g,function(R){return w[R]})}},substituteChineseDigits:function(w,T){return function(R){for(var M="",I=0;R>0;){var V=R%10;M=(V===0?"":w[V]+T[I])+M,I++,R=Math.floor(R/10)}return M.indexOf(w[1]+T[1])===0&&(M=M.substr(1)),M||w[0]}}});function y(w,T,R,M){if(this._calendar=w,this._year=T,this._month=R,this._day=M,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(C.local.invalidDate||C.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function b(w,T){return w=""+w,"000000".substring(0,T-w.length)+w}p(y.prototype,{newDate:function(w,T,R){return this._calendar.newDate(w??this,T,R)},year:function(w){return arguments.length===0?this._year:this.set(w,"y")},month:function(w){return arguments.length===0?this._month:this.set(w,"m")},day:function(w){return arguments.length===0?this._day:this.set(w,"d")},date:function(w,T,R){if(!this._calendar.isValid(w,T,R))throw(C.local.invalidDate||C.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=w,this._month=T,this._day=R,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(w,T){return this._calendar.add(this,w,T)},set:function(w,T){return this._calendar.set(this,w,T)},compareTo:function(w){if(this._calendar.name!==w._calendar.name)throw(C.local.differentCalendars||C.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,w._calendar.local.name);var T=this._year!==w._year?this._year-w._year:this._month!==w._month?this.monthOfYear()-w.monthOfYear():this._day-w._day;return T===0?0:T<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(w){return this._calendar.fromJD(w)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(w){return this._calendar.fromJSDate(w)},toString:function(){return(this.year()<0?"-":"")+b(Math.abs(this.year()),4)+"-"+b(this.month(),2)+"-"+b(this.day(),2)}});function x(){this.shortYearCutoff="+10"}p(x.prototype,{_validateLevel:0,newDate:function(w,T,R){return w==null?this.today():(w.year&&(this._validate(w,T,R,C.local.invalidDate||C.regionalOptions[""].invalidDate),R=w.day(),T=w.month(),w=w.year()),new y(this,w,T,R))},today:function(){return this.fromJSDate(new Date)},epoch:function(w){var T=this._validate(w,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear);return T.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(w){var T=this._validate(w,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear);return(T.year()<0?"-":"")+b(Math.abs(T.year()),4)},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear),12},monthOfYear:function(w,T){var R=this._validate(w,T,this.minDay,C.local.invalidMonth||C.regionalOptions[""].invalidMonth);return(R.month()+this.monthsInYear(R)-this.firstMonth)%this.monthsInYear(R)+this.minMonth},fromMonthOfYear:function(w,T){var R=(T+this.firstMonth-2*this.minMonth)%this.monthsInYear(w)+this.minMonth;return this._validate(w,R,this.minDay,C.local.invalidMonth||C.regionalOptions[""].invalidMonth),R},daysInYear:function(w){var T=this._validate(w,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear);return this.leapYear(T)?366:365},dayOfYear:function(w,T,R){var M=this._validate(w,T,R,C.local.invalidDate||C.regionalOptions[""].invalidDate);return M.toJD()-this.newDate(M.year(),this.fromMonthOfYear(M.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(w,T,R){var M=this._validate(w,T,R,C.local.invalidDate||C.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(M))+2)%this.daysInWeek()},extraInfo:function(w,T,R){return this._validate(w,T,R,C.local.invalidDate||C.regionalOptions[""].invalidDate),{}},add:function(w,T,R){return this._validate(w,this.minMonth,this.minDay,C.local.invalidDate||C.regionalOptions[""].invalidDate),this._correctAdd(w,this._add(w,T,R),T,R)},_add:function(w,T,R){if(this._validateLevel++,R==="d"||R==="w"){var M=w.toJD()+T*(R==="w"?this.daysInWeek():1),I=w.calendar().fromJD(M);return this._validateLevel--,[I.year(),I.month(),I.day()]}try{var V=w.year()+(R==="y"?T:0),N=w.monthOfYear()+(R==="m"?T:0),I=w.day(),F=function(Q){for(;N<Q.minMonth;)V--,N+=Q.monthsInYear(V);for(var B=Q.monthsInYear(V);N>B-1+Q.minMonth;)V++,N-=B,B=Q.monthsInYear(V)};R==="y"?(w.month()!==this.fromMonthOfYear(V,N)&&(N=this.newDate(V,w.month(),this.minDay).monthOfYear()),N=Math.min(N,this.monthsInYear(V)),I=Math.min(I,this.daysInMonth(V,this.fromMonthOfYear(V,N)))):R==="m"&&(F(this),I=Math.min(I,this.daysInMonth(V,this.fromMonthOfYear(V,N))));var z=[V,this.fromMonthOfYear(V,N),I];return this._validateLevel--,z}catch(U){throw this._validateLevel--,U}},_correctAdd:function(w,T,R,M){if(!this.hasYearZero&&(M==="y"||M==="m")&&(T[0]===0||w.year()>0!=T[0]>0)){var I={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[M],V=R<0?-1:1;T=this._add(w,R*I[0]+V*I[1],I[2])}return w.date(T[0],T[1],T[2])},set:function(w,T,R){this._validate(w,this.minMonth,this.minDay,C.local.invalidDate||C.regionalOptions[""].invalidDate);var M=R==="y"?T:w.year(),I=R==="m"?T:w.month(),V=R==="d"?T:w.day();return(R==="y"||R==="m")&&(V=Math.min(V,this.daysInMonth(M,I))),w.date(M,I,V)},isValid:function(w,T,R){this._validateLevel++;var M=this.hasYearZero||w!==0;if(M){var I=this.newDate(w,T,this.minDay);M=T>=this.minMonth&&T-this.minMonth<this.monthsInYear(I)&&R>=this.minDay&&R-this.minDay<this.daysInMonth(I)}return this._validateLevel--,M},toJSDate:function(w,T,R){var M=this._validate(w,T,R,C.local.invalidDate||C.regionalOptions[""].invalidDate);return C.instance().fromJD(this.toJD(M)).toJSDate()},fromJSDate:function(w){return this.fromJD(C.instance().fromJSDate(w).toJD())},_validate:function(w,T,R,M){if(w.year){if(this._validateLevel===0&&this.name!==w.calendar().name)throw(C.local.differentCalendars||C.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,w.calendar().local.name);return w}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(w,T,R))throw M.replace(/\{0\}/,this.local.name);var I=this.newDate(w,T,R);return this._validateLevel--,I}catch(V){throw this._validateLevel--,V}}});function k(w){this.local=this.regionalOptions[w]||this.regionalOptions[""]}k.prototype=new x,p(k.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(R){var T=this._validate(R,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear),R=T.year()+(T.year()<0?1:0);return R%4===0&&(R%100!==0||R%400===0)},weekOfYear:function(w,T,R){var M=this.newDate(w,T,R);return M.add(4-(M.dayOfWeek()||7),"d"),Math.floor((M.dayOfYear()-1)/7)+1},daysInMonth:function(w,T){var R=this._validate(w,T,this.minDay,C.local.invalidMonth||C.regionalOptions[""].invalidMonth);return this.daysPerMonth[R.month()-1]+(R.month()===2&&this.leapYear(R.year())?1:0)},weekDay:function(w,T,R){return(this.dayOfWeek(w,T,R)||7)<6},toJD:function(w,T,R){var M=this._validate(w,T,R,C.local.invalidDate||C.regionalOptions[""].invalidDate);w=M.year(),T=M.month(),R=M.day(),w<0&&w++,T<3&&(T+=12,w--);var I=Math.floor(w/100),V=2-I+Math.floor(I/4);return Math.floor(365.25*(w+4716))+Math.floor(30.6001*(T+1))+R+V-1524.5},fromJD:function(w){var T=Math.floor(w+.5),R=Math.floor((T-186721625e-2)/36524.25);R=T+1+R-Math.floor(R/4);var M=R+1524,I=Math.floor((M-122.1)/365.25),V=Math.floor(365.25*I),N=Math.floor((M-V)/30.6001),F=M-V-Math.floor(N*30.6001),z=N-(N>13.5?13:1),U=I-(z>2.5?4716:4715);return U<=0&&U--,this.newDate(U,z,F)},toJSDate:function(w,T,R){var M=this._validate(w,T,R,C.local.invalidDate||C.regionalOptions[""].invalidDate),I=new Date(M.year(),M.month()-1,M.day());return I.setHours(0),I.setMinutes(0),I.setSeconds(0),I.setMilliseconds(0),I.setHours(I.getHours()>12?I.getHours()+2:0),I},fromJSDate:function(w){return this.newDate(w.getFullYear(),w.getMonth()+1,w.getDate())}});var C=f.exports=new v;C.cdate=y,C.baseCalendar=x,C.calendars.gregorian=k},4338:function(f,h,u){var p=u(6131),v=u(3489);p(v.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),v.local=v.regionalOptions[""],p(v.cdate.prototype,{formatDate:function(y,b){return typeof y!="string"&&(b=y,y=""),this._calendar.formatDate(y||"",this,b)}}),p(v.baseCalendar.prototype,{UNIX_EPOCH:v.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:v.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(y,b,x){if(typeof y!="string"&&(x=b,b=y,y=""),!b)return"";if(b.calendar()!==this)throw v.local.invalidFormat||v.regionalOptions[""].invalidFormat;y=y||this.local.dateFormat,x=x||{};var k=x.dayNamesShort||this.local.dayNamesShort,C=x.dayNames||this.local.dayNames,w=x.monthNumbers||this.local.monthNumbers,T=x.monthNamesShort||this.local.monthNamesShort,R=x.monthNames||this.local.monthNames;x.calculateWeek||this.local.calculateWeek;for(var M=function(Y,ie){for(var L=1;W+L<y.length&&y.charAt(W+L)===Y;)L++;return W+=L-1,Math.floor(L/(ie||1))>1},I=function(Y,ie,L,me){var ae=""+ie;if(M(Y,me))for(;ae.length<L;)ae="0"+ae;return ae},V=function(Y,ie,L,me){return M(Y)?me[ie]:L[ie]},N=this,F=function(Y){return typeof w=="function"?w.call(N,Y,M("m")):Q(I("m",Y.month(),2))},z=function(Y,ie){return ie?typeof R=="function"?R.call(N,Y):R[Y.month()-N.minMonth]:typeof T=="function"?T.call(N,Y):T[Y.month()-N.minMonth]},U=this.local.digits,Q=function(Y){return x.localNumbers&&U?U(Y):Y},B="",E=!1,W=0;W<y.length;W++)if(E)y.charAt(W)==="'"&&!M("'")?E=!1:B+=y.charAt(W);else switch(y.charAt(W)){case"d":B+=Q(I("d",b.day(),2));break;case"D":B+=V("D",b.dayOfWeek(),k,C);break;case"o":B+=I("o",b.dayOfYear(),3);break;case"w":B+=I("w",b.weekOfYear(),2);break;case"m":B+=F(b);break;case"M":B+=z(b,M("M"));break;case"y":B+=M("y",2)?b.year():(b.year()%100<10?"0":"")+b.year()%100;break;case"Y":M("Y",2),B+=b.formatYear();break;case"J":B+=b.toJD();break;case"@":B+=(b.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":B+=(b.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":M("'")?B+="'":E=!0;break;default:B+=y.charAt(W)}return B},parseDate:function(y,b,x){if(b==null)throw v.local.invalidArguments||v.regionalOptions[""].invalidArguments;if(b=typeof b=="object"?b.toString():b+"",b==="")return null;y=y||this.local.dateFormat,x=x||{};var k=x.shortYearCutoff||this.shortYearCutoff;k=typeof k!="string"?k:this.today().year()%100+parseInt(k,10);for(var C=x.dayNamesShort||this.local.dayNamesShort,w=x.dayNames||this.local.dayNames,T=x.parseMonth||this.local.parseMonth,R=x.monthNumbers||this.local.monthNumbers,M=x.monthNamesShort||this.local.monthNamesShort,I=x.monthNames||this.local.monthNames,V=-1,N=-1,F=-1,z=-1,U=-1,Q=!1,B=!1,E=function(Te,Be){for(var ge=1;fe+ge<y.length&&y.charAt(fe+ge)===Te;)ge++;return fe+=ge-1,Math.floor(ge/(Be||1))>1},W=function(Te,Be){var ge=E(Te,Be),ne=[2,3,ge?4:2,ge?4:2,10,11,20]["oyYJ@!".indexOf(Te)+1],pe=new RegExp("^-?\\d{1,"+ne+"}"),G=b.substring(q).match(pe);if(!G)throw(v.local.missingNumberAt||v.regionalOptions[""].missingNumberAt).replace(/\{0\}/,q);return q+=G[0].length,parseInt(G[0],10)},Y=this,ie=function(){if(typeof R=="function"){E("m");var Te=R.call(Y,b.substring(q));return q+=Te.length,Te}return W("m")},L=function(Te,Be,ge,ne){for(var pe=E(Te,ne)?ge:Be,G=0;G<pe.length;G++)if(b.substr(q,pe[G].length).toLowerCase()===pe[G].toLowerCase())return q+=pe[G].length,G+Y.minMonth;throw(v.local.unknownNameAt||v.regionalOptions[""].unknownNameAt).replace(/\{0\}/,q)},me=function(){if(typeof I=="function"){var Te=E("M")?I.call(Y,b.substring(q)):M.call(Y,b.substring(q));return q+=Te.length,Te}return L("M",M,I)},ae=function(){if(b.charAt(q)!==y.charAt(fe))throw(v.local.unexpectedLiteralAt||v.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,q);q++},q=0,fe=0;fe<y.length;fe++)if(B)y.charAt(fe)==="'"&&!E("'")?B=!1:ae();else switch(y.charAt(fe)){case"d":z=W("d");break;case"D":L("D",C,w);break;case"o":U=W("o");break;case"w":W("w");break;case"m":F=ie();break;case"M":F=me();break;case"y":var ee=fe;Q=!E("y",2),fe=ee,N=W("y",2);break;case"Y":N=W("Y",2);break;case"J":V=W("J")+.5,b.charAt(q)==="."&&(q++,W("J"));break;case"@":V=W("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":V=W("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":q=b.length;break;case"'":E("'")?ae():B=!0;break;default:ae()}if(q<b.length)throw v.local.unexpectedText||v.regionalOptions[""].unexpectedText;if(N===-1?N=this.today().year():N<100&&Q&&(N+=k===-1?1900:this.today().year()-this.today().year()%100-(N<=k?0:100)),typeof F=="string"&&(F=T.call(this,N,F)),U>-1){F=1,z=U;for(var be=this.daysInMonth(N,F);z>be;be=this.daysInMonth(N,F))F++,z-=be}return V>-1?this.fromJD(V):this.newDate(N,F,z)},determineDate:function(y,b,x,k,C){x&&typeof x!="object"&&(C=k,k=x,x=null),typeof k!="string"&&(C=k,k="");var w=this,T=function(R){try{return w.parseDate(k,R,C)}catch{}R=R.toLowerCase();for(var M=(R.match(/^c/)&&x?x.newDate():null)||w.today(),I=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,V=I.exec(R);V;)M.add(parseInt(V[1],10),V[2]||"d"),V=I.exec(R);return M};return b=b?b.newDate():null,y=y==null?b:typeof y=="string"?T(y):typeof y=="number"?isNaN(y)||y===1/0||y===-1/0?b:w.today().add(y,"d"):w.newDate(y),y}})}},a={};function i(f){var h=a[f];if(h!==void 0)return h.exports;var u=a[f]={exports:{}};return r[f].call(u.exports,u,u.exports,i),u.exports}(function(){i.d=function(f,h){for(var u in h)i.o(h,u)&&!i.o(f,u)&&Object.defineProperty(f,u,{enumerable:!0,get:h[u]})}})(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)}}(),function(){i.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})}}();var d=i(2576);return d}()})})(Spe);var vTe=Spe.exports;const yre=pTe(vTe),yTe=R$({props:{figure:{type:Object,required:!0},layout:{type:Object,required:!0},id:{type:String,required:!0}},setup(t){gg(()=>{yre.newPlot(t.id,t.figure.data,t.layout)}),Ho(()=>t.figure,(e,r)=>{e!==r&&yre.newPlot(t.id,e.data,t.layout)},{deep:!0}),Ho(()=>t.layout,(e,r)=>{e!==r&&yre.newPlot(t.id,t.figure.data,e)},{deep:!0})}}),ny=(t,e)=>{const r=t.__vccOpts||t;for(const[a,i]of e)r[a]=i;return r},bTe=["id"];function OTe(t,e,r,a,i,d){return so(),La("div",{id:t.id,style:{height:"100%",width:"100%"}},null,8,bTe)}const wpe=ny(yTe,[["render",OTe]]);class Oi{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,a){let i=[];return this.decompose(0,e,i,2),a.length&&a.decompose(0,a.length,i,3),this.decompose(r,this.length,i,1),V1.from(i,this.length-(r-e)+a.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){let a=[];return this.decompose(e,r,a,0),V1.from(a,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),a=this.length-this.scanIdentical(e,-1),i=new LD(this),d=new LD(e);for(let f=r,h=r;;){if(i.next(f),d.next(f),f=0,i.lineBreak!=d.lineBreak||i.done!=d.done||i.value!=d.value)return!1;if(h+=i.value.length,i.done||h>=a)return!0}}iter(e=1){return new LD(this,e)}iterRange(e,r=this.length){return new Tpe(this,e,r)}iterLines(e,r){let a;if(e==null)a=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;a=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new Cpe(a)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Oi.empty:e.length<=32?new qc(e):V1.from(qc.split(e,[]))}}class qc extends Oi{constructor(e,r=xTe(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,a,i){for(let d=0;;d++){let f=this.text[d],h=i+f.length;if((r?a:h)>=e)return new STe(i,h,a,f);i=h+1,a++}}decompose(e,r,a,i){let d=e<=0&&r>=this.length?this:new qc(Gue(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let f=a.pop(),h=_Z(d.text,f.text.slice(),0,d.length);if(h.length<=32)a.push(new qc(h,f.length+d.length));else{let u=h.length>>1;a.push(new qc(h.slice(0,u)),new qc(h.slice(u)))}}else a.push(d)}replace(e,r,a){if(!(a instanceof qc))return super.replace(e,r,a);let i=_Z(this.text,_Z(a.text,Gue(this.text,0,e)),r),d=this.length+a.length-(r-e);return i.length<=32?new qc(i,d):V1.from(qc.split(i,[]),d)}sliceString(e,r=this.length,a=`
`){let i="";for(let d=0,f=0;d<=r&&f<this.text.length;f++){let h=this.text[f],u=d+h.length;d>e&&f&&(i+=a),e<u&&r>d&&(i+=h.slice(Math.max(0,e-d),r-d)),d=u+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let a=[],i=-1;for(let d of e)a.push(d),i+=d.length+1,a.length==32&&(r.push(new qc(a,i)),a=[],i=-1);return i>-1&&r.push(new qc(a,i)),r}}class V1 extends Oi{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let a of e)this.lines+=a.lines}lineInner(e,r,a,i){for(let d=0;;d++){let f=this.children[d],h=i+f.length,u=a+f.lines-1;if((r?u:h)>=e)return f.lineInner(e,r,a,i);i=h+1,a=u+1}}decompose(e,r,a,i){for(let d=0,f=0;f<=r&&d<this.children.length;d++){let h=this.children[d],u=f+h.length;if(e<=u&&r>=f){let p=i&((f<=e?1:0)|(u>=r?2:0));f>=e&&u<=r&&!p?a.push(h):h.decompose(e-f,r-f,a,p)}f=u+1}}replace(e,r,a){if(a.lines<this.lines)for(let i=0,d=0;i<this.children.length;i++){let f=this.children[i],h=d+f.length;if(e>=d&&r<=h){let u=f.replace(e-d,r-d,a),p=this.lines-f.lines+u.lines;if(u.lines<p>>5-1&&u.lines>p>>5+1){let v=this.children.slice();return v[i]=u,new V1(v,this.length-(r-e)+a.length)}return super.replace(d,h,u)}d=h+1}return super.replace(e,r,a)}sliceString(e,r=this.length,a=`
`){let i="";for(let d=0,f=0;d<this.children.length&&f<=r;d++){let h=this.children[d],u=f+h.length;f>e&&d&&(i+=a),e<u&&r>f&&(i+=h.sliceString(e-f,r-f,a)),f=u+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof V1))return 0;let a=0,[i,d,f,h]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,d+=r){if(i==f||d==h)return a;let u=this.children[i],p=e.children[d];if(u!=p)return a+u.scanIdentical(p,r);a+=u.length+1}}static from(e,r=e.reduce((a,i)=>a+i.length+1,-1)){let a=0;for(let x of e)a+=x.lines;if(a<32){let x=[];for(let k of e)k.flatten(x);return new qc(x,r)}let i=Math.max(32,a>>5),d=i<<1,f=i>>1,h=[],u=0,p=-1,v=[];function y(x){let k;if(x.lines>d&&x instanceof V1)for(let C of x.children)y(C);else x.lines>f&&(u>f||!u)?(b(),h.push(x)):x instanceof qc&&u&&(k=v[v.length-1])instanceof qc&&x.lines+k.lines<=32?(u+=x.lines,p+=x.length+1,v[v.length-1]=new qc(k.text.concat(x.text),k.length+1+x.length)):(u+x.lines>i&&b(),u+=x.lines,p+=x.length+1,v.push(x))}function b(){u!=0&&(h.push(v.length==1?v[0]:V1.from(v,p)),p=-1,u=v.length=0)}for(let x of e)y(x);return b(),h.length==1?h[0]:new V1(h,r)}}Oi.empty=new qc([""],0);function xTe(t){let e=-1;for(let r of t)e+=r.length+1;return e}function _Z(t,e,r=0,a=1e9){for(let i=0,d=0,f=!0;d<t.length&&i<=a;d++){let h=t[d],u=i+h.length;u>=r&&(u>a&&(h=h.slice(0,a-i)),i<r&&(h=h.slice(r-i)),f?(e[e.length-1]+=h,f=!1):e.push(h)),i=u+1}return e}function Gue(t,e,r){return _Z(t,[""],e,r)}class LD{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof qc?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let a=this.nodes.length-1,i=this.nodes[a],d=this.offsets[a],f=d>>1,h=i instanceof qc?i.text.length:i.children.length;if(f==(r>0?h:0)){if(a==0)return this.done=!0,this.value="",this;r>0&&this.offsets[a-1]++,this.nodes.pop(),this.offsets.pop()}else if((d&1)==(r>0?0:1)){if(this.offsets[a]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof qc){let u=i.text[f+(r<0?-1:0)];if(this.offsets[a]+=r,u.length>Math.max(0,e))return this.value=e==0?u:r>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[f+(r<0?-1:0)];e>u.length?(e-=u.length,this.offsets[a]+=r):(r<0&&this.offsets[a]--,this.nodes.push(u),this.offsets.push(r>0?1:(u instanceof qc?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Tpe{constructor(e,r,a){this.value="",this.done=!1,this.cursor=new LD(e,r>a?-1:1),this.pos=r>a?e.length:0,this.from=Math.min(r,a),this.to=Math.max(r,a)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let a=r<0?this.pos-this.from:this.to-this.pos;e>a&&(e=a),a-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=a?i:r<0?i.slice(i.length-a):i.slice(0,a),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Cpe{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:a,value:i}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):a?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Oi.prototype[Symbol.iterator]=function(){return this.iter()},LD.prototype[Symbol.iterator]=Tpe.prototype[Symbol.iterator]=Cpe.prototype[Symbol.iterator]=function(){return this});let STe=class{constructor(e,r,a,i){this.from=e,this.to=r,this.number=a,this.text=i}get length(){return this.to-this.from}},WP="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<WP.length;t++)WP[t]+=WP[t-1];function wTe(t){for(let e=1;e<WP.length;e+=2)if(WP[e]>t)return WP[e-1]<=t;return!1}function jue(t){return t>=127462&&t<=127487}const que=8205;function Xf(t,e,r=!0,a=!0){return(r?kpe:TTe)(t,e,a)}function kpe(t,e,r){if(e==t.length)return e;e&&Ape(t.charCodeAt(e))&&Ppe(t.charCodeAt(e-1))&&e--;let a=Uf(t,e);for(e+=vp(a);e<t.length;){let i=Uf(t,e);if(a==que||i==que||r&&wTe(i))e+=vp(i),a=i;else if(jue(i)){let d=0,f=e-2;for(;f>=0&&jue(Uf(t,f));)d++,f-=2;if(d%2==0)break;e+=2}else break}return e}function TTe(t,e,r){for(;e>0;){let a=kpe(t,e-2,r);if(a<e)return a;e--}return 0}function Ape(t){return t>=56320&&t<57344}function Ppe(t){return t>=55296&&t<56320}function Uf(t,e){let r=t.charCodeAt(e);if(!Ppe(r)||e+1==t.length)return r;let a=t.charCodeAt(e+1);return Ape(a)?(r-55296<<10)+(a-56320)+65536:r}function Fae(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function vp(t){return t<65536?1:2}const Loe=/\r\n?|\n/;var Yf=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Yf||(Yf={}));class K1{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let a=this.sections[r+1];e+=a<0?this.sections[r]:a}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,a=0,i=0;r<this.sections.length;){let d=this.sections[r++],f=this.sections[r++];f<0?(e(a,i,d),i+=d):i+=f,a+=d}}iterChangedRanges(e,r=!1){Ioe(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let a=this.sections[r++],i=this.sections[r++];i<0?e.push(a,i):e.push(i,a)}return new K1(e)}composeDesc(e){return this.empty?e:e.empty?this:Mpe(this,e)}mapDesc(e,r=!1){return e.empty?this:Noe(this,e,r)}mapPos(e,r=-1,a=Yf.Simple){let i=0,d=0;for(let f=0;f<this.sections.length;){let h=this.sections[f++],u=this.sections[f++],p=i+h;if(u<0){if(p>e)return d+(e-i);d+=h}else{if(a!=Yf.Simple&&p>=e&&(a==Yf.TrackDel&&i<e&&p>e||a==Yf.TrackBefore&&i<e||a==Yf.TrackAfter&&p>e))return null;if(p>e||p==e&&r<0&&!h)return e==i||r<0?d:d+u;d+=u}i=p}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return d}touchesRange(e,r=e){for(let a=0,i=0;a<this.sections.length&&i<=r;){let d=this.sections[a++],f=this.sections[a++],h=i+d;if(f>=0&&i<=r&&h>=e)return i<e&&h>r?"cover":!0;i=h}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let a=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+a+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new K1(e)}static create(e){return new K1(e)}}class Iu extends K1{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ioe(this,(r,a,i,d,f)=>e=e.replace(i,i+(a-r),f),!1),e}mapDesc(e,r=!1){return Noe(this,e,r,!0)}invert(e){let r=this.sections.slice(),a=[];for(let i=0,d=0;i<r.length;i+=2){let f=r[i],h=r[i+1];if(h>=0){r[i]=h,r[i+1]=f;let u=i>>1;for(;a.length<u;)a.push(Oi.empty);a.push(f?e.slice(d,d+f):Oi.empty)}d+=f}return new Iu(r,a)}compose(e){return this.empty?e:e.empty?this:Mpe(this,e,!0)}map(e,r=!1){return e.empty?this:Noe(this,e,r,!0)}iterChanges(e,r=!1){Ioe(this,e,r)}get desc(){return K1.create(this.sections)}filter(e){let r=[],a=[],i=[],d=new JD(this);e:for(let f=0,h=0;;){let u=f==e.length?1e9:e[f++];for(;h<u||h==u&&d.len==0;){if(d.done)break e;let v=Math.min(d.len,u-h);Sd(i,v,-1);let y=d.ins==-1?-1:d.off==0?d.ins:0;Sd(r,v,y),y>0&&uS(a,r,d.text),d.forward(v),h+=v}let p=e[f++];for(;h<p;){if(d.done)break e;let v=Math.min(d.len,p-h);Sd(r,v,-1),Sd(i,v,d.ins==-1?-1:d.off==0?d.ins:0),d.forward(v),h+=v}}return{changes:new Iu(r,a),filtered:K1.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let a=this.sections[r],i=this.sections[r+1];i<0?e.push(a):i==0?e.push([a]):e.push([a].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,a){let i=[],d=[],f=0,h=null;function u(v=!1){if(!v&&!i.length)return;f<r&&Sd(i,r-f,-1);let y=new Iu(i,d);h=h?h.compose(y.map(h)):y,i=[],d=[],f=0}function p(v){if(Array.isArray(v))for(let y of v)p(y);else if(v instanceof Iu){if(v.length!=r)throw new RangeError(`Mismatched change set length (got ${v.length}, expected ${r})`);u(),h=h?h.compose(v.map(h)):v}else{let{from:y,to:b=y,insert:x}=v;if(y>b||y<0||b>r)throw new RangeError(`Invalid change range ${y} to ${b} (in doc of length ${r})`);let k=x?typeof x=="string"?Oi.of(x.split(a||Loe)):x:Oi.empty,C=k.length;if(y==b&&C==0)return;y<f&&u(),y>f&&Sd(i,y-f,-1),Sd(i,b-y,C),uS(d,i,k),f=b}}return p(e),u(!h),h}static empty(e){return new Iu(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],a=[];for(let i=0;i<e.length;i++){let d=e[i];if(typeof d=="number")r.push(d,-1);else{if(!Array.isArray(d)||typeof d[0]!="number"||d.some((f,h)=>h&&typeof f!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(d.length==1)r.push(d[0],0);else{for(;a.length<i;)a.push(Oi.empty);a[i]=Oi.of(d.slice(1)),r.push(d[0],a[i].length)}}}return new Iu(r,a)}static createSet(e,r){return new Iu(e,r)}}function Sd(t,e,r,a=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=r:a?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function uS(t,e,r){if(r.length==0)return;let a=e.length-2>>1;if(a<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<a;)t.push(Oi.empty);t.push(r)}}function Ioe(t,e,r){let a=t.inserted;for(let i=0,d=0,f=0;f<t.sections.length;){let h=t.sections[f++],u=t.sections[f++];if(u<0)i+=h,d+=h;else{let p=i,v=d,y=Oi.empty;for(;p+=h,v+=u,u&&a&&(y=y.append(a[f-2>>1])),!(r||f==t.sections.length||t.sections[f+1]<0);)h=t.sections[f++],u=t.sections[f++];e(i,p,d,v,y),i=p,d=v}}}function Noe(t,e,r,a=!1){let i=[],d=a?[]:null,f=new JD(t),h=new JD(e);for(let u=-1;;)if(f.ins==-1&&h.ins==-1){let p=Math.min(f.len,h.len);Sd(i,p,-1),f.forward(p),h.forward(p)}else if(h.ins>=0&&(f.ins<0||u==f.i||f.off==0&&(h.len<f.len||h.len==f.len&&!r))){let p=h.len;for(Sd(i,h.ins,-1);p;){let v=Math.min(f.len,p);f.ins>=0&&u<f.i&&f.len<=v&&(Sd(i,0,f.ins),d&&uS(d,i,f.text),u=f.i),f.forward(v),p-=v}h.next()}else if(f.ins>=0){let p=0,v=f.len;for(;v;)if(h.ins==-1){let y=Math.min(v,h.len);p+=y,v-=y,h.forward(y)}else if(h.ins==0&&h.len<v)v-=h.len,h.next();else break;Sd(i,p,u<f.i?f.ins:0),d&&u<f.i&&uS(d,i,f.text),u=f.i,f.forward(f.len-v)}else{if(f.done&&h.done)return d?Iu.createSet(i,d):K1.create(i);throw new Error("Mismatched change set lengths")}}function Mpe(t,e,r=!1){let a=[],i=r?[]:null,d=new JD(t),f=new JD(e);for(let h=!1;;){if(d.done&&f.done)return i?Iu.createSet(a,i):K1.create(a);if(d.ins==0)Sd(a,d.len,0,h),d.next();else if(f.len==0&&!f.done)Sd(a,0,f.ins,h),i&&uS(i,a,f.text),f.next();else{if(d.done||f.done)throw new Error("Mismatched change set lengths");{let u=Math.min(d.len2,f.len),p=a.length;if(d.ins==-1){let v=f.ins==-1?-1:f.off?0:f.ins;Sd(a,u,v,h),i&&v&&uS(i,a,f.text)}else f.ins==-1?(Sd(a,d.off?0:d.len,u,h),i&&uS(i,a,d.textBit(u))):(Sd(a,d.off?0:d.len,f.off?0:f.ins,h),i&&!f.off&&uS(i,a,f.text));h=(d.ins>u||f.ins>=0&&f.len>u)&&(h||a.length>p),d.forward2(u),f.forward(u)}}}}class JD{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Oi.empty:e[r]}textBit(e){let{inserted:r}=this.set,a=this.i-2>>1;return a>=r.length&&!e?Oi.empty:r[a].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class TC{constructor(e,r,a){this.from=e,this.to=r,this.flags=a}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let a,i;return this.empty?a=i=e.mapPos(this.from,r):(a=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),a==this.from&&i==this.to?this:new TC(a,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return Tr.range(e,r);let a=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return Tr.range(this.anchor,a)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Tr.range(e.anchor,e.head)}static create(e,r,a){return new TC(e,r,a)}}class Tr{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:Tr.create(this.ranges.map(a=>a.map(e,r)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Tr([this.main],0)}addRange(e,r=!0){return Tr.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let a=this.ranges.slice();return a[r]=e,Tr.create(a,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Tr(e.ranges.map(r=>TC.fromJSON(r)),e.main)}static single(e,r=e){return new Tr([Tr.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let a=0,i=0;i<e.length;i++){let d=e[i];if(d.empty?d.from<=a:d.from<a)return Tr.normalized(e.slice(),r);a=d.to}return new Tr(e,r)}static cursor(e,r=0,a,i){return TC.create(e,e,(r==0?0:r<0?8:16)|(a==null?7:Math.min(6,a))|(i??16777215)<<6)}static range(e,r,a,i){let d=(a??16777215)<<6|(i==null?7:Math.min(6,i));return r<e?TC.create(r,e,48|d):TC.create(e,r,(r>e?8:0)|d)}static normalized(e,r=0){let a=e[r];e.sort((i,d)=>i.from-d.from),r=e.indexOf(a);for(let i=1;i<e.length;i++){let d=e[i],f=e[i-1];if(d.empty?d.from<=f.to:d.from<f.to){let h=f.from,u=Math.max(d.to,f.to);i<=r&&r--,e.splice(--i,2,d.anchor>d.head?Tr.range(u,h):Tr.range(h,u))}}return new Tr(e,r)}}function Epe(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let Vae=0;class ss{constructor(e,r,a,i,d){this.combine=e,this.compareInput=r,this.compare=a,this.isStatic=i,this.id=Vae++,this.default=e([]),this.extensions=typeof d=="function"?d(this):d}get reader(){return this}static define(e={}){return new ss(e.combine||(r=>r),e.compareInput||((r,a)=>r===a),e.compare||(e.combine?(r,a)=>r===a:zae),!!e.static,e.enables)}of(e){return new RZ([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new RZ(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new RZ(e,this,2,r)}from(e,r){return r||(r=a=>a),this.compute([e],a=>r(a.field(e)))}}function zae(t,e){return t==e||t.length==e.length&&t.every((r,a)=>r===e[a])}class RZ{constructor(e,r,a,i){this.dependencies=e,this.facet=r,this.type=a,this.value=i,this.id=Vae++}dynamicSlot(e){var r;let a=this.value,i=this.facet.compareInput,d=this.id,f=e[d]>>1,h=this.type==2,u=!1,p=!1,v=[];for(let y of this.dependencies)y=="doc"?u=!0:y=="selection"?p=!0:((r=e[y.id])!==null&&r!==void 0?r:1)&1||v.push(e[y.id]);return{create(y){return y.values[f]=a(y),1},update(y,b){if(u&&b.docChanged||p&&(b.docChanged||b.selection)||Boe(y,v)){let x=a(y);if(h?!Kue(x,y.values[f],i):!i(x,y.values[f]))return y.values[f]=x,1}return 0},reconfigure:(y,b)=>{let x,k=b.config.address[d];if(k!=null){let C=nH(b,k);if(this.dependencies.every(w=>w instanceof ss?b.facet(w)===y.facet(w):w instanceof xf?b.field(w,!1)==y.field(w,!1):!0)||(h?Kue(x=a(y),C,i):i(x=a(y),C)))return y.values[f]=C,0}else x=a(y);return y.values[f]=x,1}}}}function Kue(t,e,r){if(t.length!=e.length)return!1;for(let a=0;a<t.length;a++)if(!r(t[a],e[a]))return!1;return!0}function Boe(t,e){let r=!1;for(let a of e)ID(t,a)&1&&(r=!0);return r}function CTe(t,e,r){let a=r.map(u=>t[u.id]),i=r.map(u=>u.type),d=a.filter(u=>!(u&1)),f=t[e.id]>>1;function h(u){let p=[];for(let v=0;v<a.length;v++){let y=nH(u,a[v]);if(i[v]==2)for(let b of y)p.push(b);else p.push(y)}return e.combine(p)}return{create(u){for(let p of a)ID(u,p);return u.values[f]=h(u),1},update(u,p){if(!Boe(u,d))return 0;let v=h(u);return e.compare(v,u.values[f])?0:(u.values[f]=v,1)},reconfigure(u,p){let v=Boe(u,a),y=p.config.facets[e.id],b=p.facet(e);if(y&&!v&&zae(r,y))return u.values[f]=b,0;let x=h(u);return e.compare(x,b)?(u.values[f]=b,0):(u.values[f]=x,1)}}}const Jue=ss.define({static:!0});class xf{constructor(e,r,a,i,d){this.id=e,this.createF=r,this.updateF=a,this.compareF=i,this.spec=d,this.provides=void 0}static define(e){let r=new xf(Vae++,e.create,e.update,e.compare||((a,i)=>a===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(Jue).find(a=>a.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:a=>(a.values[r]=this.create(a),1),update:(a,i)=>{let d=a.values[r],f=this.updateF(d,i);return this.compareF(d,f)?0:(a.values[r]=f,1)},reconfigure:(a,i)=>i.config.address[this.id]!=null?(a.values[r]=i.field(this),0):(a.values[r]=this.create(a),1)}}init(e){return[this,Jue.of({field:this,create:e})]}get extension(){return this}}const OC={lowest:4,low:3,default:2,high:1,highest:0};function uD(t){return e=>new _pe(e,t)}const Mp={highest:uD(OC.highest),high:uD(OC.high),default:uD(OC.default),low:uD(OC.low),lowest:uD(OC.lowest)};class _pe{constructor(e,r){this.inner=e,this.prec=r}}class $${of(e){return new Qoe(this,e)}reconfigure(e){return $$.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Qoe{constructor(e,r){this.compartment=e,this.inner=r}}class tH{constructor(e,r,a,i,d,f){for(this.base=e,this.compartments=r,this.dynamicSlots=a,this.address=i,this.staticValues=d,this.facets=f,this.statusTemplate=[];this.statusTemplate.length<a.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,a){let i=[],d=Object.create(null),f=new Map;for(let b of kTe(e,r,f))b instanceof xf?i.push(b):(d[b.facet.id]||(d[b.facet.id]=[])).push(b);let h=Object.create(null),u=[],p=[];for(let b of i)h[b.id]=p.length<<1,p.push(x=>b.slot(x));let v=a==null?void 0:a.config.facets;for(let b in d){let x=d[b],k=x[0].facet,C=v&&v[b]||[];if(x.every(w=>w.type==0))if(h[k.id]=u.length<<1|1,zae(C,x))u.push(a.facet(k));else{let w=k.combine(x.map(T=>T.value));u.push(a&&k.compare(w,a.facet(k))?a.facet(k):w)}else{for(let w of x)w.type==0?(h[w.id]=u.length<<1|1,u.push(w.value)):(h[w.id]=p.length<<1,p.push(T=>w.dynamicSlot(T)));h[k.id]=p.length<<1,p.push(w=>CTe(w,k,x))}}let y=p.map(b=>b(h));return new tH(e,f,y,h,u,d)}}function kTe(t,e,r){let a=[[],[],[],[],[]],i=new Map;function d(f,h){let u=i.get(f);if(u!=null){if(u<=h)return;let p=a[u].indexOf(f);p>-1&&a[u].splice(p,1),f instanceof Qoe&&r.delete(f.compartment)}if(i.set(f,h),Array.isArray(f))for(let p of f)d(p,h);else if(f instanceof Qoe){if(r.has(f.compartment))throw new RangeError("Duplicate use of compartment in extensions");let p=e.get(f.compartment)||f.inner;r.set(f.compartment,p),d(p,h)}else if(f instanceof _pe)d(f.inner,f.prec);else if(f instanceof xf)a[h].push(f),f.provides&&d(f.provides,h);else if(f instanceof RZ)a[h].push(f),f.facet.extensions&&d(f.facet.extensions,OC.default);else{let p=f.extension;if(!p)throw new Error(`Unrecognized extension value in extension set (${f}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);d(p,h)}}return d(t,OC.default),a.reduce((f,h)=>f.concat(h))}function ID(t,e){if(e&1)return 2;let r=e>>1,a=t.status[r];if(a==4)throw new Error("Cyclic dependency between fields and/or facets");if(a&2)return a;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function nH(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const Rpe=ss.define(),Foe=ss.define({combine:t=>t.some(e=>e),static:!0}),Dpe=ss.define({combine:t=>t.length?t[0]:void 0,static:!0}),$pe=ss.define(),Lpe=ss.define(),Ipe=ss.define(),Npe=ss.define({combine:t=>t.length?t[0]:!1});class TO{constructor(e,r){this.type=e,this.value=r}static define(){return new ATe}}class ATe{of(e){return new TO(this,e)}}class PTe{constructor(e){this.map=e}of(e){return new pa(this,e)}}class pa{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new pa(this.type,r)}is(e){return this.type==e}static define(e={}){return new PTe(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let a=[];for(let i of e){let d=i.map(r);d&&a.push(d)}return a}}pa.reconfigure=pa.define();pa.appendConfig=pa.define();class Bu{constructor(e,r,a,i,d,f){this.startState=e,this.changes=r,this.selection=a,this.effects=i,this.annotations=d,this.scrollIntoView=f,this._doc=null,this._state=null,a&&Epe(a,r.newLength),d.some(h=>h.type==Bu.time)||(this.annotations=d.concat(Bu.time.of(Date.now())))}static create(e,r,a,i,d,f){return new Bu(e,r,a,i,d,f)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Bu.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Bu.time=TO.define();Bu.userEvent=TO.define();Bu.addToHistory=TO.define();Bu.remote=TO.define();function MTe(t,e){let r=[];for(let a=0,i=0;;){let d,f;if(a<t.length&&(i==e.length||e[i]>=t[a]))d=t[a++],f=t[a++];else if(i<e.length)d=e[i++],f=e[i++];else return r;!r.length||r[r.length-1]<d?r.push(d,f):r[r.length-1]<f&&(r[r.length-1]=f)}}function Bpe(t,e,r){var a;let i,d,f;return r?(i=e.changes,d=Iu.empty(e.changes.length),f=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),d=t.changes.mapDesc(e.changes,!0),f=t.changes.compose(i)),{changes:f,selection:e.selection?e.selection.map(d):(a=t.selection)===null||a===void 0?void 0:a.map(i),effects:pa.mapEffects(t.effects,i).concat(pa.mapEffects(e.effects,d)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Voe(t,e,r){let a=e.selection,i=YP(e.annotations);return e.userEvent&&(i=i.concat(Bu.userEvent.of(e.userEvent))),{changes:e.changes instanceof Iu?e.changes:Iu.of(e.changes||[],r,t.facet(Dpe)),selection:a&&(a instanceof Tr?a:Tr.single(a.anchor,a.head)),effects:YP(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Qpe(t,e,r){let a=Voe(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let d=1;d<e.length;d++){e[d].filter===!1&&(r=!1);let f=!!e[d].sequential;a=Bpe(a,Voe(t,e[d],f?a.changes.newLength:t.doc.length),f)}let i=Bu.create(t,a.changes,a.selection,a.effects,a.annotations,a.scrollIntoView);return _Te(r?ETe(i):i)}function ETe(t){let e=t.startState,r=!0;for(let i of e.facet($pe)){let d=i(t);if(d===!1){r=!1;break}Array.isArray(d)&&(r=r===!0?d:MTe(r,d))}if(r!==!0){let i,d;if(r===!1)d=t.changes.invertedDesc,i=Iu.empty(e.doc.length);else{let f=t.changes.filter(r);i=f.changes,d=f.filtered.mapDesc(f.changes).invertedDesc}t=Bu.create(e,i,t.selection&&t.selection.map(d),pa.mapEffects(t.effects,d),t.annotations,t.scrollIntoView)}let a=e.facet(Lpe);for(let i=a.length-1;i>=0;i--){let d=a[i](t);d instanceof Bu?t=d:Array.isArray(d)&&d.length==1&&d[0]instanceof Bu?t=d[0]:t=Qpe(e,YP(d),!1)}return t}function _Te(t){let e=t.startState,r=e.facet(Ipe),a=t;for(let i=r.length-1;i>=0;i--){let d=r[i](t);d&&Object.keys(d).length&&(a=Bpe(a,Voe(e,d,t.changes.newLength),!0))}return a==t?t:Bu.create(e,t.changes,t.selection,a.effects,a.annotations,a.scrollIntoView)}const RTe=[];function YP(t){return t==null?RTe:Array.isArray(t)?t:[t]}var Jl=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Jl||(Jl={}));const DTe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let zoe;try{zoe=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function $Te(t){if(zoe)return zoe.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||DTe.test(r)))return!0}return!1}function LTe(t){return e=>{if(!/\S/.test(e))return Jl.Space;if($Te(e))return Jl.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return Jl.Word;return Jl.Other}}class Ia{constructor(e,r,a,i,d,f){this.config=e,this.doc=r,this.selection=a,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=d,f&&(f._state=this);for(let h=0;h<this.config.dynamicSlots.length;h++)ID(this,h<<1);this.computeSlot=null}field(e,r=!0){let a=this.config.address[e.id];if(a==null){if(r)throw new RangeError("Field is not present in this state");return}return ID(this,a),nH(this,a)}update(...e){return Qpe(this,e,!0)}applyTransaction(e){let r=this.config,{base:a,compartments:i}=r;for(let h of e.effects)h.is($$.reconfigure)?(r&&(i=new Map,r.compartments.forEach((u,p)=>i.set(p,u)),r=null),i.set(h.value.compartment,h.value.extension)):h.is(pa.reconfigure)?(r=null,a=h.value):h.is(pa.appendConfig)&&(r=null,a=YP(a).concat(h.value));let d;r?d=e.startState.values.slice():(r=tH.resolve(a,i,this),d=new Ia(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(u,p)=>p.reconfigure(u,this),null).values);let f=e.startState.facet(Foe)?e.newSelection:e.newSelection.asSingle();new Ia(r,e.newDoc,f,d,(h,u)=>u.update(h,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:Tr.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,a=e(r.ranges[0]),i=this.changes(a.changes),d=[a.range],f=YP(a.effects);for(let h=1;h<r.ranges.length;h++){let u=e(r.ranges[h]),p=this.changes(u.changes),v=p.map(i);for(let b=0;b<h;b++)d[b]=d[b].map(v);let y=i.mapDesc(p,!0);d.push(u.range.map(y)),i=i.compose(v),f=pa.mapEffects(f,v).concat(pa.mapEffects(YP(u.effects),y))}return{changes:i,selection:Tr.create(d,r.mainIndex),effects:f}}changes(e=[]){return e instanceof Iu?e:Iu.of(e,this.doc.length,this.facet(Ia.lineSeparator))}toText(e){return Oi.of(e.split(this.facet(Ia.lineSeparator)||Loe))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(ID(this,r),nH(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let a in e){let i=e[a];i instanceof xf&&this.config.address[i.id]!=null&&(r[a]=i.spec.toJSON(this.field(e[a]),this))}return r}static fromJSON(e,r={},a){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(a){for(let d in a)if(Object.prototype.hasOwnProperty.call(e,d)){let f=a[d],h=e[d];i.push(f.init(u=>f.spec.fromJSON(h,u)))}}return Ia.create({doc:e.doc,selection:Tr.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=tH.resolve(e.extensions||[],new Map),a=e.doc instanceof Oi?e.doc:Oi.of((e.doc||"").split(r.staticFacet(Ia.lineSeparator)||Loe)),i=e.selection?e.selection instanceof Tr?e.selection:Tr.single(e.selection.anchor,e.selection.head):Tr.single(0);return Epe(i,a.length),r.staticFacet(Foe)||(i=i.asSingle()),new Ia(r,a,i,r.dynamicSlots.map(()=>null),(d,f)=>f.create(d),null)}get tabSize(){return this.facet(Ia.tabSize)}get lineBreak(){return this.facet(Ia.lineSeparator)||`
`}get readOnly(){return this.facet(Npe)}phrase(e,...r){for(let a of this.facet(Ia.phrases))if(Object.prototype.hasOwnProperty.call(a,e)){e=a[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(a,i)=>{if(i=="$")return"$";let d=+(i||1);return!d||d>r.length?a:r[d-1]})),e}languageDataAt(e,r,a=-1){let i=[];for(let d of this.facet(Rpe))for(let f of d(this,r,a))Object.prototype.hasOwnProperty.call(f,e)&&i.push(f[e]);return i}charCategorizer(e){return LTe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:a,length:i}=this.doc.lineAt(e),d=this.charCategorizer(e),f=e-a,h=e-a;for(;f>0;){let u=Xf(r,f,!1);if(d(r.slice(u,f))!=Jl.Word)break;f=u}for(;h<i;){let u=Xf(r,h);if(d(r.slice(h,u))!=Jl.Word)break;h=u}return f==h?null:Tr.range(f+a,h+a)}}Ia.allowMultipleSelections=Foe;Ia.tabSize=ss.define({combine:t=>t.length?t[0]:4});Ia.lineSeparator=Dpe;Ia.readOnly=Npe;Ia.phrases=ss.define({compare(t,e){let r=Object.keys(t),a=Object.keys(e);return r.length==a.length&&r.every(i=>t[i]==e[i])}});Ia.languageData=Rpe;Ia.changeFilter=$pe;Ia.transactionFilter=Lpe;Ia.transactionExtender=Ipe;$$.reconfigure=pa.define();function ry(t,e,r={}){let a={};for(let i of t)for(let d of Object.keys(i)){let f=i[d],h=a[d];if(h===void 0)a[d]=f;else if(!(h===f||f===void 0))if(Object.hasOwnProperty.call(r,d))a[d]=r[d](h,f);else throw new Error("Config merge conflict for field "+d)}for(let i in e)a[i]===void 0&&(a[i]=e[i]);return a}class _C{eq(e){return this==e}range(e,r=e){return Zoe.create(e,r,this)}}_C.prototype.startSide=_C.prototype.endSide=0;_C.prototype.point=!1;_C.prototype.mapMode=Yf.TrackDel;let Zoe=class Fpe{constructor(e,r,a){this.from=e,this.to=r,this.value=a}static create(e,r,a){return new Fpe(e,r,a)}};function Hoe(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Zae{constructor(e,r,a,i){this.from=e,this.to=r,this.value=a,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,a,i=0){let d=a?this.to:this.from;for(let f=i,h=d.length;;){if(f==h)return f;let u=f+h>>1,p=d[u]-e||(a?this.value[u].endSide:this.value[u].startSide)-r;if(u==f)return p>=0?f:h;p>=0?h=u:f=u+1}}between(e,r,a,i){for(let d=this.findIndex(r,-1e9,!0),f=this.findIndex(a,1e9,!1,d);d<f;d++)if(i(this.from[d]+e,this.to[d]+e,this.value[d])===!1)return!1}map(e,r){let a=[],i=[],d=[],f=-1,h=-1;for(let u=0;u<this.value.length;u++){let p=this.value[u],v=this.from[u]+e,y=this.to[u]+e,b,x;if(v==y){let k=r.mapPos(v,p.startSide,p.mapMode);if(k==null||(b=x=k,p.startSide!=p.endSide&&(x=r.mapPos(v,p.endSide),x<b)))continue}else if(b=r.mapPos(v,p.startSide),x=r.mapPos(y,p.endSide),b>x||b==x&&p.startSide>0&&p.endSide<=0)continue;(x-b||p.endSide-p.startSide)<0||(f<0&&(f=b),p.point&&(h=Math.max(h,x-b)),a.push(p),i.push(b-f),d.push(x-f))}return{mapped:a.length?new Zae(i,d,a,h):null,pos:f}}}class ji{constructor(e,r,a,i){this.chunkPos=e,this.chunk=r,this.nextLayer=a,this.maxPoint=i}static create(e,r,a,i){return new ji(e,r,a,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:a=!1,filterFrom:i=0,filterTo:d=this.length}=e,f=e.filter;if(r.length==0&&!f)return this;if(a&&(r=r.slice().sort(Hoe)),this.isEmpty)return r.length?ji.of(r):this;let h=new Vpe(this,null,-1).goto(0),u=0,p=[],v=new OS;for(;h.value||u<r.length;)if(u<r.length&&(h.from-r[u].from||h.startSide-r[u].value.startSide)>=0){let y=r[u++];v.addInner(y.from,y.to,y.value)||p.push(y)}else h.rangeIndex==1&&h.chunkIndex<this.chunk.length&&(u==r.length||this.chunkEnd(h.chunkIndex)<r[u].from)&&(!f||i>this.chunkEnd(h.chunkIndex)||d<this.chunkPos[h.chunkIndex])&&v.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!f||i>h.to||d<h.from||f(h.from,h.to,h.value))&&(v.addInner(h.from,h.to,h.value)||p.push(Zoe.create(h.from,h.to,h.value))),h.next());return v.finishInner(this.nextLayer.isEmpty&&!p.length?ji.empty:this.nextLayer.update({add:p,filter:f,filterFrom:i,filterTo:d}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],a=[],i=-1;for(let f=0;f<this.chunk.length;f++){let h=this.chunkPos[f],u=this.chunk[f],p=e.touchesRange(h,h+u.length);if(p===!1)i=Math.max(i,u.maxPoint),r.push(u),a.push(e.mapPos(h));else if(p===!0){let{mapped:v,pos:y}=u.map(h,e);v&&(i=Math.max(i,v.maxPoint),r.push(v),a.push(y))}}let d=this.nextLayer.map(e);return r.length==0?d:new ji(a,r,d||ji.empty,i)}between(e,r,a){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let d=this.chunkPos[i],f=this.chunk[i];if(r>=d&&e<=d+f.length&&f.between(d,e-d,r-d,a)===!1)return}this.nextLayer.between(e,r,a)}}iter(e=0){return e$.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return e$.from(e).goto(r)}static compare(e,r,a,i,d=-1){let f=e.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=d),h=r.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=d),u=efe(f,h,a),p=new fD(f,u,d),v=new fD(h,u,d);a.iterGaps((y,b,x)=>tfe(p,y,v,b,x,i)),a.empty&&a.length==0&&tfe(p,0,v,0,0,i)}static eq(e,r,a=0,i){i==null&&(i=1e9-1);let d=e.filter(v=>!v.isEmpty&&r.indexOf(v)<0),f=r.filter(v=>!v.isEmpty&&e.indexOf(v)<0);if(d.length!=f.length)return!1;if(!d.length)return!0;let h=efe(d,f),u=new fD(d,h,0).goto(a),p=new fD(f,h,0).goto(a);for(;;){if(u.to!=p.to||!Uoe(u.active,p.active)||u.point&&(!p.point||!u.point.eq(p.point)))return!1;if(u.to>i)return!0;u.next(),p.next()}}static spans(e,r,a,i,d=-1){let f=new fD(e,null,d).goto(r),h=r,u=f.openStart;for(;;){let p=Math.min(f.to,a);if(f.point){let v=f.activeForPoint(f.to),y=f.pointFrom<r?v.length+1:Math.min(v.length,u);i.point(h,p,f.point,v,y,f.pointRank),u=Math.min(f.openEnd(p),v.length)}else p>h&&(i.span(h,p,f.active,u),u=f.openEnd(p));if(f.to>a)return u+(f.point&&f.to>a?1:0);h=f.to,f.next()}}static of(e,r=!1){let a=new OS;for(let i of e instanceof Zoe?[e]:r?ITe(e):e)a.add(i.from,i.to,i.value);return a.finish()}}ji.empty=new ji([],[],null,-1);function ITe(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let a=t[r];if(Hoe(e,a)>0)return t.slice().sort(Hoe);e=a}return t}ji.empty.nextLayer=ji.empty;class OS{finishChunk(e){this.chunks.push(new Zae(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,a){this.addInner(e,r,a)||(this.nextLayer||(this.nextLayer=new OS)).add(e,r,a)}addInner(e,r,a){let i=e-this.lastTo||a.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||a.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=a,this.lastFrom=e,this.lastTo=r,this.value.push(a),a.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let a=r.value.length-1;return this.last=r.value[a],this.lastFrom=r.from[a]+e,this.lastTo=r.to[a]+e,!0}finish(){return this.finishInner(ji.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=ji.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function efe(t,e,r){let a=new Map;for(let d of t)for(let f=0;f<d.chunk.length;f++)d.chunk[f].maxPoint<=0&&a.set(d.chunk[f],d.chunkPos[f]);let i=new Set;for(let d of e)for(let f=0;f<d.chunk.length;f++){let h=a.get(d.chunk[f]);h!=null&&(r?r.mapPos(h):h)==d.chunkPos[f]&&!(r!=null&&r.touchesRange(h,h+d.chunk[f].length))&&i.add(d.chunk[f])}return i}class Vpe{constructor(e,r,a,i=0){this.layer=e,this.skip=r,this.minPoint=a,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,a){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,a=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!a||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],a=e+r.from[this.rangeIndex];if(this.from=a,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class e${constructor(e){this.heap=e}static from(e,r=null,a=-1){let i=[];for(let d=0;d<e.length;d++)for(let f=e[d];!f.isEmpty;f=f.nextLayer)f.maxPoint>=a&&i.push(new Vpe(f,r,a,d));return i.length==1?i[0]:new e$(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let a of this.heap)a.goto(e,r);for(let a=this.heap.length>>1;a>=0;a--)bre(this.heap,a);return this.next(),this}forward(e,r){for(let a of this.heap)a.forward(e,r);for(let a=this.heap.length>>1;a>=0;a--)bre(this.heap,a);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),bre(this.heap,0)}}}function bre(t,e){for(let r=t[e];;){let a=(e<<1)+1;if(a>=t.length)break;let i=t[a];if(a+1<t.length&&i.compare(t[a+1])>=0&&(i=t[a+1],a++),r.compare(i)<0)break;t[a]=r,t[e]=i,e=a}}class fD{constructor(e,r,a){this.minPoint=a,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=e$.from(e,r,a)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){Uz(this.active,e),Uz(this.activeTo,e),Uz(this.activeRank,e),this.minActive=nfe(this.active,this.activeTo)}addActive(e){let r=0,{value:a,to:i,rank:d}=this.cursor;for(;r<this.activeRank.length&&this.activeRank[r]<=d;)r++;Wz(this.active,r,a),Wz(this.activeTo,r,i),Wz(this.activeRank,r,d),e&&Wz(e,r,this.cursor.from),this.minActive=nfe(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let a=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),a&&Uz(a,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let d=this.cursor.value;if(!d.point)this.addActive(a),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=d,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=d.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(a){this.openStart=0;for(let i=a.length-1;i>=0&&a[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let a=this.active.length-1;a>=0&&!(this.activeRank[a]<this.pointRank);a--)(this.activeTo[a]>e||this.activeTo[a]==e&&this.active[a].endSide>=this.point.endSide)&&r.push(this.active[a]);return r.reverse()}openEnd(e){let r=0;for(let a=this.activeTo.length-1;a>=0&&this.activeTo[a]>e;a--)r++;return r}}function tfe(t,e,r,a,i,d){t.goto(e),r.goto(a);let f=a+i,h=a,u=a-e;for(;;){let p=t.to+u-r.to||t.endSide-r.endSide,v=p<0?t.to+u:r.to,y=Math.min(v,f);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&Uoe(t.activeForPoint(t.to),r.activeForPoint(r.to))||d.comparePoint(h,y,t.point,r.point):y>h&&!Uoe(t.active,r.active)&&d.compareRange(h,y,t.active,r.active),v>f)break;h=v,p<=0&&t.next(),p>=0&&r.next()}}function Uoe(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function Uz(t,e){for(let r=e,a=t.length-1;r<a;r++)t[r]=t[r+1];t.pop()}function Wz(t,e,r){for(let a=t.length-1;a>=e;a--)t[a+1]=t[a];t[e]=r}function nfe(t,e){let r=-1,a=1e9;for(let i=0;i<e.length;i++)(e[i]-a||t[i].endSide-t[r].endSide)<0&&(r=i,a=e[i]);return r}function Fv(t,e,r=t.length){let a=0;for(let i=0;i<r;)t.charCodeAt(i)==9?(a+=e-a%e,i++):(a++,i=Xf(t,i));return a}function Woe(t,e,r,a){for(let i=0,d=0;;){if(d>=e)return i;if(i==t.length)break;d+=t.charCodeAt(i)==9?r-d%r:1,i=Xf(t,i)}return a===!0?-1:t.length}const Yoe="ͼ",rfe=typeof Symbol>"u"?"__"+Yoe:Symbol.for(Yoe),Xoe=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),ofe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xS{constructor(e,r){this.rules=[];let{finish:a}=r||{};function i(f){return/^@/.test(f)?[f]:f.split(/,\s*/)}function d(f,h,u,p){let v=[],y=/^@(\w+)\b/.exec(f[0]),b=y&&y[1]=="keyframes";if(y&&h==null)return u.push(f[0]+";");for(let x in h){let k=h[x];if(/&/.test(x))d(x.split(/,\s*/).map(C=>f.map(w=>C.replace(/&/,w))).reduce((C,w)=>C.concat(w)),k,u);else if(k&&typeof k=="object"){if(!y)throw new RangeError("The value of a property ("+x+") should be a primitive value.");d(i(x),k,v,b)}else k!=null&&v.push(x.replace(/_.*/,"").replace(/[A-Z]/g,C=>"-"+C.toLowerCase())+": "+k+";")}(v.length||b)&&u.push((a&&!y&&!p?f.map(a):f).join(", ")+" {"+v.join(" ")+"}")}for(let f in e)d(i(f),e[f],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=ofe[rfe]||1;return ofe[rfe]=e+1,Yoe+e.toString(36)}static mount(e,r,a){let i=e[Xoe],d=a&&a.nonce;i?d&&i.setNonce(d):i=new NTe(e,d),i.mount(Array.isArray(r)?r:[r])}}let sfe=new Map;class NTe{constructor(e,r){let a=e.ownerDocument||e,i=a.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let d=sfe.get(a);if(d)return e.adoptedStyleSheets=[d.sheet,...e.adoptedStyleSheets],e[Xoe]=d;this.sheet=new i.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],sfe.set(a,this)}else{this.styleTag=a.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);let d=e.head||e;d.insertBefore(this.styleTag,d.firstChild)}this.modules=[],e[Xoe]=this}mount(e){let r=this.sheet,a=0,i=0;for(let d=0;d<e.length;d++){let f=e[d],h=this.modules.indexOf(f);if(h<i&&h>-1&&(this.modules.splice(h,1),i--,h=-1),h==-1){if(this.modules.splice(i++,0,f),r)for(let u=0;u<f.rules.length;u++)r.insertRule(f.rules[u],a++)}else{for(;i<h;)a+=this.modules[i++].rules.length;a+=f.rules.length,i++}}if(!r){let d="";for(let f=0;f<this.modules.length;f++)d+=this.modules[f].getRules()+`
`;this.styleTag.textContent=d}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var SS={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},t$={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},BTe=typeof navigator<"u"&&/Mac/.test(navigator.platform),QTe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Wf=0;Wf<10;Wf++)SS[48+Wf]=SS[96+Wf]=String(Wf);for(var Wf=1;Wf<=24;Wf++)SS[Wf+111]="F"+Wf;for(var Wf=65;Wf<=90;Wf++)SS[Wf]=String.fromCharCode(Wf+32),t$[Wf]=String.fromCharCode(Wf);for(var Ore in SS)t$.hasOwnProperty(Ore)||(t$[Ore]=SS[Ore]);function FTe(t){var e=BTe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||QTe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?t$:SS)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function rH(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Goe(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function VTe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function DZ(t,e){if(!e.anchorNode)return!1;try{return Goe(t,e.anchorNode)}catch{return!1}}function oM(t){return t.nodeType==3?RC(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function oH(t,e,r,a){return r?afe(t,e,r,a,-1)||afe(t,e,r,a,1):!1}function n$(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function afe(t,e,r,a,i){for(;;){if(t==r&&e==a)return!0;if(e==(i<0?0:yO(t))){if(t.nodeName=="DIV")return!1;let d=t.parentNode;if(!d||d.nodeType!=1)return!1;e=n$(t)+(i<0?0:1),t=d}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?yO(t):0}else return!1}}function yO(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function dU(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function zTe(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function ZTe(t,e,r,a,i,d,f,h){let u=t.ownerDocument,p=u.defaultView||window;for(let v=t,y=!1;v&&!y;)if(v.nodeType==1){let b,x=v==u.body,k=1,C=1;if(x)b=zTe(p);else{if(/^(fixed|sticky)$/.test(getComputedStyle(v).position)&&(y=!0),v.scrollHeight<=v.clientHeight&&v.scrollWidth<=v.clientWidth){v=v.assignedSlot||v.parentNode;continue}let R=v.getBoundingClientRect();k=R.width/v.offsetWidth,C=R.height/v.offsetHeight,b={left:R.left,right:R.left+v.clientWidth*k,top:R.top,bottom:R.top+v.clientHeight*C}}let w=0,T=0;if(i=="nearest")e.top<b.top?(T=-(b.top-e.top+f),r>0&&e.bottom>b.bottom+T&&(T=e.bottom-b.bottom+T+f)):e.bottom>b.bottom&&(T=e.bottom-b.bottom+f,r<0&&e.top-T<b.top&&(T=-(b.top+T-e.top+f)));else{let R=e.bottom-e.top,M=b.bottom-b.top;T=(i=="center"&&R<=M?e.top+R/2-M/2:i=="start"||i=="center"&&r<0?e.top-f:e.bottom-M+f)-b.top}if(a=="nearest"?e.left<b.left?(w=-(b.left-e.left+d),r>0&&e.right>b.right+w&&(w=e.right-b.right+w+d)):e.right>b.right&&(w=e.right-b.right+d,r<0&&e.left<b.left+w&&(w=-(b.left+w-e.left+d))):w=(a=="center"?e.left+(e.right-e.left)/2-(b.right-b.left)/2:a=="start"==h?e.left-d:e.right-(b.right-b.left)+d)-b.left,w||T)if(x)p.scrollBy(w,T);else{let R=0,M=0;if(T){let I=v.scrollTop;v.scrollTop+=T/C,M=(v.scrollTop-I)*C}if(w){let I=v.scrollLeft;v.scrollLeft+=w/k,R=(v.scrollLeft-I)*k}e={left:e.left-R,top:e.top-M,right:e.right-R,bottom:e.bottom-M},R&&Math.abs(R-w)<1&&(a="nearest"),M&&Math.abs(M-T)<1&&(i="nearest")}if(x)break;v=v.assignedSlot||v.parentNode}else if(v.nodeType==11)v=v.host;else break}function HTe(t){let e=t.ownerDocument;for(let r=t.parentNode;r&&r!=e.body;)if(r.nodeType==1){if(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)return r;r=r.assignedSlot||r.parentNode}else if(r.nodeType==11)r=r.host;else break;return null}class UTe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:a}=e;this.set(r,Math.min(e.anchorOffset,r?yO(r):0),a,Math.min(e.focusOffset,a?yO(a):0))}set(e,r,a,i){this.anchorNode=e,this.anchorOffset=r,this.focusNode=a,this.focusOffset=i}}let RP=null;function zpe(t){if(t.setActive)return t.setActive();if(RP)return t.focus(RP);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(RP==null?{get preventScroll(){return RP={preventScroll:!0},!0}}:void 0),!RP){RP=!1;for(let r=0;r<e.length;){let a=e[r++],i=e[r++],d=e[r++];a.scrollTop!=i&&(a.scrollTop=i),a.scrollLeft!=d&&(a.scrollLeft=d)}}}let ife;function RC(t,e,r=e){let a=ife||(ife=document.createRange());return a.setEnd(t,r),a.setStart(t,e),a}function XP(t,e,r){let a={key:e,code:e,keyCode:r,which:r,cancelable:!0},i=new KeyboardEvent("keydown",a);i.synthetic=!0,t.dispatchEvent(i);let d=new KeyboardEvent("keyup",a);return d.synthetic=!0,t.dispatchEvent(d),i.defaultPrevented||d.defaultPrevented}function WTe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Zpe(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function YTe(t,e){let r=e.focusNode,a=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=a)return!1;for(a=Math.min(a,yO(r));;)if(a){if(r.nodeType!=1)return!1;let i=r.childNodes[a-1];i.contentEditable=="false"?a--:(r=i,a=yO(r))}else{if(r==t)return!0;a=n$(r),r=r.parentNode}}function Hpe(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class Td{constructor(e,r,a=!0){this.node=e,this.offset=r,this.precise=a}static before(e,r){return new Td(e.parentNode,n$(e),r)}static after(e,r){return new Td(e.parentNode,n$(e)+1,r)}}const Hae=[];class Ql{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let a of this.children){if(a==e)return r;r+=a.length+a.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let a=this.dom,i=null,d;for(let f of this.children){if(f.flags&7){if(!f.dom&&(d=i?i.nextSibling:a.firstChild)){let h=Ql.get(d);(!h||!h.parent&&h.canReuseDOM(f))&&f.reuseDOM(d)}f.sync(e,r),f.flags&=-8}if(d=i?i.nextSibling:a.firstChild,r&&!r.written&&r.node==a&&d!=f.dom&&(r.written=!0),f.dom.parentNode==a)for(;d&&d!=f.dom;)d=lfe(d);else a.insertBefore(f.dom,d);i=f.dom}for(d=i?i.nextSibling:a.firstChild,d&&r&&r.node==a&&(r.written=!0);d;)d=lfe(d)}else if(this.flags&1)for(let a of this.children)a.flags&7&&(a.sync(e,r),a.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let a;if(e==this.dom)a=this.dom.childNodes[r];else{let i=yO(e)==0?0:r==0?-1:1;for(;;){let d=e.parentNode;if(d==this.dom)break;i==0&&d.firstChild!=d.lastChild&&(e==d.firstChild?i=-1:i=1),e=d}i<0?a=e:a=e.nextSibling}if(a==this.dom.firstChild)return 0;for(;a&&!Ql.get(a);)a=a.nextSibling;if(!a)return this.length;for(let i=0,d=0;;i++){let f=this.children[i];if(f.dom==a)return d;d+=f.length+f.breakAfter}}domBoundsAround(e,r,a=0){let i=-1,d=-1,f=-1,h=-1;for(let u=0,p=a,v=a;u<this.children.length;u++){let y=this.children[u],b=p+y.length;if(p<e&&b>r)return y.domBoundsAround(e,r,p);if(b>=e&&i==-1&&(i=u,d=p),p>r&&y.dom.parentNode==this.dom){f=u,h=v;break}v=b,p=b+y.breakAfter}return{from:d,to:h<0?a+this.length:h,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:f<this.children.length&&f>=0?this.children[f].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,a=Hae){this.markDirty();for(let i=e;i<r;i++){let d=this.children[i];d.parent==this&&a.indexOf(d)<0&&d.destroy()}this.children.splice(e,r-e,...a);for(let i=0;i<a.length;i++)a[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Upe(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,a,i,d,f){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.destroy();this.parent=null}}Ql.prototype.breakAfter=0;function lfe(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Upe{constructor(e,r,a){this.children=e,this.pos=r,this.i=a,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let a=this.children[--this.i];this.pos-=a.length+a.breakAfter}}}function Wpe(t,e,r,a,i,d,f,h,u){let{children:p}=t,v=p.length?p[e]:null,y=d.length?d[d.length-1]:null,b=y?y.breakAfter:f;if(!(e==a&&v&&!f&&!b&&d.length<2&&v.merge(r,i,d.length?y:null,r==0,h,u))){if(a<p.length){let x=p[a];x&&(i<x.length||x.breakAfter&&(y!=null&&y.breakAfter))?(e==a&&(x=x.split(i),i=0),!b&&y&&x.merge(0,i,y,!0,0,u)?d[d.length-1]=x:((i||x.children.length&&!x.children[0].length)&&x.merge(0,i,null,!1,0,u),d.push(x))):x!=null&&x.breakAfter&&(y?y.breakAfter=1:f=1),a++}for(v&&(v.breakAfter=f,r>0&&(!f&&d.length&&v.merge(r,v.length,d[0],!1,h,0)?v.breakAfter=d.shift().breakAfter:(r<v.length||v.children.length&&v.children[v.children.length-1].length==0)&&v.merge(r,v.length,null,!1,h,0),e++));e<a&&d.length;)if(p[a-1].become(d[d.length-1]))a--,d.pop(),u=d.length?0:h;else if(p[e].become(d[0]))e++,d.shift(),h=d.length?0:u;else break;!d.length&&e&&a<p.length&&!p[e-1].breakAfter&&p[a].merge(0,0,p[e-1],!1,h,u)&&e--,(e<a||d.length)&&t.replaceChildren(e,a,d)}}function Ype(t,e,r,a,i,d){let f=t.childCursor(),{i:h,off:u}=f.findPos(r,1),{i:p,off:v}=f.findPos(e,-1),y=e-r;for(let b of a)y+=b.length;t.length+=y,Wpe(t,p,v,h,u,a,0,i,d)}let ig=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},joe=typeof document<"u"?document:{documentElement:{style:{}}};const qoe=/Edge\/(\d+)/.exec(ig.userAgent),Xpe=/MSIE \d/.test(ig.userAgent),Koe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ig.userAgent),hU=!!(Xpe||Koe||qoe),cfe=!hU&&/gecko\/(\d+)/i.test(ig.userAgent),xre=!hU&&/Chrome\/(\d+)/.exec(ig.userAgent),ufe="webkitFontSmoothing"in joe.documentElement.style,Gpe=!hU&&/Apple Computer/.test(ig.vendor),ffe=Gpe&&(/Mobile\/\w+/.test(ig.userAgent)||ig.maxTouchPoints>2);var us={mac:ffe||/Mac/.test(ig.platform),windows:/Win/.test(ig.platform),linux:/Linux|X11/.test(ig.platform),ie:hU,ie_version:Xpe?joe.documentMode||6:Koe?+Koe[1]:qoe?+qoe[1]:0,gecko:cfe,gecko_version:cfe?+(/Firefox\/(\d+)/.exec(ig.userAgent)||[0,0])[1]:0,chrome:!!xre,chrome_version:xre?+xre[1]:0,ios:ffe,android:/Android\b/.test(ig.userAgent),webkit:ufe,safari:Gpe,webkit_version:ufe?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:joe.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const XTe=256;class bO extends Ql{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,a){return this.flags&8||a&&(!(a instanceof bO)||this.length-(r-e)+a.length>XTe||a.flags&8)?!1:(this.text=this.text.slice(0,e)+(a?a.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new bO(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new Td(this.dom,e)}domBoundsAround(e,r,a){return{from:a,to:a+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return GTe(this.dom,e,r)}}class OO extends Ql{constructor(e,r=[],a=0){super(),this.mark=e,this.children=r,this.length=a;for(let i of r)i.setParent(this)}setAttrs(e){if(Zpe(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,a,i,d,f){return a&&(!(a instanceof OO&&a.mark.eq(this.mark))||e&&d<=0||r<this.length&&f<=0)?!1:(Ype(this,e,r,a?a.children:[],d-1,f-1),this.markDirty(),!0)}split(e){let r=[],a=0,i=-1,d=0;for(let h of this.children){let u=a+h.length;u>e&&r.push(a<e?h.split(e-a):h),i<0&&a>=e&&(i=d),a=u,d++}let f=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new OO(this.mark,r,f)}domAtPos(e){return jpe(this,e)}coordsAt(e,r){return Kpe(this,e,r)}}function GTe(t,e,r){let a=t.nodeValue.length;e>a&&(e=a);let i=e,d=e,f=0;e==0&&r<0||e==a&&r>=0?us.chrome||us.gecko||(e?(i--,f=1):d<a&&(d++,f=-1)):r<0?i--:d<a&&d++;let h=RC(t,i,d).getClientRects();if(!h.length)return null;let u=h[(f?f<0:r>=0)?0:h.length-1];return us.safari&&!f&&u.width==0&&(u=Array.prototype.find.call(h,p=>p.width)||u),f?dU(u,f<0):u||null}class fS extends Ql{static create(e,r,a){return new fS(e,r,a)}constructor(e,r,a){super(),this.widget=e,this.length=r,this.side=a,this.prevWidget=null}split(e){let r=fS.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,r,a,i,d,f){return a&&(!(a instanceof fS)||!this.widget.compare(a.widget)||e>0&&d<=0||r<this.length&&f<=0)?!1:(this.length=e+(a?a.length:0)+(this.length-r),!0)}become(e){return e instanceof fS&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Oi.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,a=r&&r.state.doc,i=this.posAtStart;return a?a.slice(i,i+this.length):Oi.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Td.before(this.dom):Td.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let a=this.widget.coordsAt(this.dom,e,r);if(a)return a;let i=this.dom.getClientRects(),d=null;if(!i.length)return null;let f=this.side?this.side<0:e>0;for(let h=f?i.length-1:0;d=i[h],!(e>0?h==0:h==i.length-1||d.top<d.bottom);h+=f?-1:1);return dU(d,!f)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class sM extends Ql{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof sM&&e.side==this.side}split(){return new sM(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Td.before(this.dom):Td.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Oi.empty}get isHidden(){return!0}}bO.prototype.children=fS.prototype.children=sM.prototype.children=Hae;function jpe(t,e){let r=t.dom,{children:a}=t,i=0;for(let d=0;i<a.length;i++){let f=a[i],h=d+f.length;if(!(h==d&&f.getSide()<=0)){if(e>d&&e<h&&f.dom.parentNode==r)return f.domAtPos(e-d);if(e<=d)break;d=h}}for(let d=i;d>0;d--){let f=a[d-1];if(f.dom.parentNode==r)return f.domAtPos(f.length)}for(let d=i;d<a.length;d++){let f=a[d];if(f.dom.parentNode==r)return f.domAtPos(0)}return new Td(r,0)}function qpe(t,e,r){let a,{children:i}=t;r>0&&e instanceof OO&&i.length&&(a=i[i.length-1])instanceof OO&&a.mark.eq(e.mark)?qpe(a,e.children[0],r-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Kpe(t,e,r){let a=null,i=-1,d=null,f=-1;function h(p,v){for(let y=0,b=0;y<p.children.length&&b<=v;y++){let x=p.children[y],k=b+x.length;k>=v&&(x.children.length?h(x,v-b):(!d||d.isHidden&&r>0)&&(k>v||b==k&&x.getSide()>0)?(d=x,f=v-b):(b<v||b==k&&x.getSide()<0&&!x.isHidden)&&(a=x,i=v-b)),b=k}}h(t,e);let u=(r<0?a:d)||a||d;return u?u.coordsAt(Math.max(0,u==a?i:f),r):jTe(t)}function jTe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=oM(e);return r[r.length-1]||null}function Joe(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const dfe=Object.create(null);function Uae(t,e,r){if(t==e)return!0;t||(t=dfe),e||(e=dfe);let a=Object.keys(t),i=Object.keys(e);if(a.length-(r&&a.indexOf(r)>-1?1:0)!=i.length-(r&&i.indexOf(r)>-1?1:0))return!1;for(let d of a)if(d!=r&&(i.indexOf(d)==-1||t[d]!==e[d]))return!1;return!0}function ese(t,e,r){let a=!1;if(e)for(let i in e)r&&i in r||(a=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(r)for(let i in r)e&&e[i]==r[i]||(a=!0,i=="style"?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return a}function qTe(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let a=t.attributes[r];e[a.name]=a.value}return e}class Lu extends Ql{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,a,i,d,f){if(a){if(!(a instanceof Lu))return!1;this.dom||a.transferDOM(this)}return i&&this.setDeco(a?a.attrs:null),Ype(this,e,r,a?a.children:[],d,f),!0}split(e){let r=new Lu;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:a,off:i}=this.childPos(e);i&&(r.append(this.children[a].split(i),0),this.children[a].merge(i,this.children[a].length,null,!1,0,0),a++);for(let d=a;d<this.children.length;d++)r.append(this.children[d],0);for(;a>0&&this.children[a-1].length==0;)this.children[--a].destroy();return this.children.length=a,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Uae(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){qpe(this,e,r)}addLineDeco(e){let r=e.spec.attributes,a=e.spec.class;r&&(this.attrs=Joe(r,this.attrs||{})),a&&(this.attrs=Joe({class:a},this.attrs||{}))}domAtPos(e){return jpe(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var a;this.dom?this.flags&4&&(Zpe(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(ese(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let i=this.dom.lastChild;for(;i&&Ql.get(i)instanceof OO;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((a=Ql.get(i))===null||a===void 0?void 0:a.isEditable)==!1&&(!us.ios||!this.children.some(d=>d instanceof bO))){let d=document.createElement("BR");d.cmIgnore=!0,this.dom.appendChild(d)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let a of this.children){if(!(a instanceof bO)||/[^ -~]/.test(a.text))return null;let i=oM(a.dom);if(i.length!=1)return null;e+=i[0].width,r=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let a=Kpe(this,e,r);if(!this.children.length&&a&&this.parent){let{heightOracle:i}=this.parent.view.viewState,d=a.bottom-a.top;if(Math.abs(d-i.lineHeight)<2&&i.textHeight<d){let f=(d-i.textHeight)/2;return{top:a.top+f,bottom:a.bottom-f,left:a.left,right:a.left}}}return a}become(e){return!1}covers(){return!0}static find(e,r){for(let a=0,i=0;a<e.children.length;a++){let d=e.children[a],f=i+d.length;if(f>=r){if(d instanceof Lu)return d;if(f>r)break}i=f+d.breakAfter}return null}}class pS extends Ql{constructor(e,r,a){super(),this.widget=e,this.length=r,this.deco=a,this.breakAfter=0,this.prevWidget=null}merge(e,r,a,i,d,f){return a&&(!(a instanceof pS)||!this.widget.compare(a.widget)||e>0&&d<=0||r<this.length&&f<=0)?!1:(this.length=e+(a?a.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?Td.before(this.dom):Td.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let a=new pS(this.widget,r,this.deco);return a.breakAfter=this.breakAfter,a}get children(){return Hae}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Oi.empty}domBoundsAround(){return null}become(e){return e instanceof pS&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){return this.widget.coordsAt(this.dom,e,r)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:a}=this.deco;return r==a?!1:e<0?r<0:a>0}}class oy{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,a){return null}get isHidden(){return!1}destroy(e){}}var uh=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(uh||(uh={}));class Bs extends _C{constructor(e,r,a,i){super(),this.startSide=e,this.endSide=r,this.widget=a,this.spec=i}get heightRelevant(){return!1}static mark(e){return new L$(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),a=!!e.block;return r+=a&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new wS(e,r,r,a,e.widget||null,!1)}static replace(e){let r=!!e.block,a,i;if(e.isBlockGap)a=-5e8,i=4e8;else{let{start:d,end:f}=Jpe(e,r);a=(d?r?-3e8:-1:5e8)-1,i=(f?r?2e8:1:-6e8)+1}return new wS(e,a,i,r,e.widget||null,!0)}static line(e){return new I$(e)}static set(e,r=!1){return ji.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Bs.none=ji.empty;class L$ extends Bs{constructor(e){let{start:r,end:a}=Jpe(e);super(r?-1:5e8,a?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,a;return this==e||e instanceof L$&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((a=e.attrs)===null||a===void 0?void 0:a.class))&&Uae(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}L$.prototype.point=!1;class I$ extends Bs{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof I$&&this.spec.class==e.spec.class&&Uae(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}I$.prototype.mapMode=Yf.TrackBefore;I$.prototype.point=!0;class wS extends Bs{constructor(e,r,a,i,d,f){super(r,a,d,e),this.block=i,this.isReplace=f,this.mapMode=i?r<=0?Yf.TrackBefore:Yf.TrackAfter:Yf.TrackDel}get type(){return this.startSide!=this.endSide?uh.WidgetRange:this.startSide<=0?uh.WidgetBefore:uh.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof wS&&KTe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}wS.prototype.point=!0;function Jpe(t,e=!1){let{inclusiveStart:r,inclusiveEnd:a}=t;return r==null&&(r=t.inclusive),a==null&&(a=t.inclusive),{start:r??e,end:a??e}}function KTe(t,e){return t==e||!!(t&&e&&t.compare(e))}function tse(t,e,r,a=0){let i=r.length-1;i>=0&&r[i]+a>=t?r[i]=Math.max(r[i],e):r.push(t,e)}class ND{constructor(e,r,a,i){this.doc=e,this.pos=r,this.end=a,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof pS&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Lu),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Yz(new sM(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof pS)&&this.getLine()}buildText(e,r,a){for(;e>0;){if(this.textOff==this.text.length){let{value:d,lineBreak:f,done:h}=this.cursor.next(this.skip);if(this.skip=0,h)throw new Error("Ran out of text content when drawing inline views");if(f){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=d,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-a)),this.getLine().append(Yz(new bO(this.text.slice(this.textOff,this.textOff+i)),r),a),this.atCursorPos=!0,this.textOff+=i,e-=i,a=0}}span(e,r,a,i){this.buildText(r-e,a,i),this.pos=r,this.openStart<0&&(this.openStart=i)}point(e,r,a,i,d,f){if(this.disallowBlockEffectsFor[f]&&a instanceof wS){if(a.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let h=r-e;if(a instanceof wS)if(a.block)a.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new pS(a.widget||new hfe("div"),h,a));else{let u=fS.create(a.widget||new hfe("span"),h,h?0:a.startSide),p=this.atCursorPos&&!u.isEditable&&d<=i.length&&(e<r||a.startSide>0),v=!u.isEditable&&(e<r||d>i.length||a.startSide<=0),y=this.getLine();this.pendingBuffer==2&&!p&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),p&&(y.append(Yz(new sM(1),i),d),d=i.length+Math.max(0,d-i.length)),y.append(Yz(u,i),d),this.atCursorPos=v,this.pendingBuffer=v?e<r||d>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(a);h&&(this.textOff+h<=this.text.length?this.textOff+=h:(this.skip+=h-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=d)}static build(e,r,a,i,d){let f=new ND(e,r,a,d);return f.openEnd=ji.spans(i,r,a,f),f.openStart<0&&(f.openStart=f.openEnd),f.finish(f.openEnd),f}}function Yz(t,e){for(let r of e)t=new OO(r,[t],t.length);return t}class hfe extends oy{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const eve=ss.define(),tve=ss.define(),nve=ss.define(),rve=ss.define(),nse=ss.define(),ove=ss.define(),sve=ss.define(),ave=ss.define({combine:t=>t.some(e=>e)}),ive=ss.define({combine:t=>t.some(e=>e)});class GP{constructor(e,r="nearest",a="nearest",i=5,d=5,f=!1){this.range=e,this.y=r,this.x=a,this.yMargin=i,this.xMargin=d,this.isSnapshot=f}map(e){return e.empty?this:new GP(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new GP(Tr.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Xz=pa.define({map:(t,e)=>t.map(e)});function Cp(t,e,r){let a=t.facet(rve);a.length?a[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const mU=ss.define({combine:t=>t.length?t[0]:!0});let JTe=0;const kD=ss.define();class eu{constructor(e,r,a,i,d){this.id=e,this.create=r,this.domEventHandlers=a,this.domEventObservers=i,this.extension=d(this)}static define(e,r){const{eventHandlers:a,eventObservers:i,provide:d,decorations:f}=r||{};return new eu(JTe++,e,a,i,h=>{let u=[kD.of(h)];return f&&u.push(r$.of(p=>{let v=p.plugin(h);return v?f(v):Bs.none})),d&&u.push(d(h)),u})}static fromClass(e,r){return eu.define(a=>new e(a),r)}}class Sre{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(a){if(Cp(r.state,a,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){Cp(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(a){Cp(e.state,a,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const lve=ss.define(),Wae=ss.define(),r$=ss.define(),Yae=ss.define(),cve=ss.define();function mfe(t,e,r){let a=t.state.facet(cve);if(!a.length)return a;let i=a.map(f=>f instanceof Function?f(t):f),d=[];return ji.spans(i,e,r,{point(){},span(f,h,u,p){let v=d;for(let y=u.length-1;y>=0;y--,p--){let b=u[y].spec.bidiIsolate,x;if(b!=null)if(p>0&&v.length&&(x=v[v.length-1]).to==f&&x.direction==b)x.to=h,v=x.inner;else{let k={from:f,to:h,direction:b,inner:[]};v.push(k),v=k.inner}}}}),d}const uve=ss.define();function fve(t){let e=0,r=0,a=0,i=0;for(let d of t.state.facet(uve)){let f=d(t);f&&(f.left!=null&&(e=Math.max(e,f.left)),f.right!=null&&(r=Math.max(r,f.right)),f.top!=null&&(a=Math.max(a,f.top)),f.bottom!=null&&(i=Math.max(i,f.bottom)))}return{left:e,right:r,top:a,bottom:i}}const AD=ss.define();class kp{constructor(e,r,a,i){this.fromA=e,this.toA=r,this.fromB=a,this.toB=i}join(e){return new kp(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,a=this;for(;r>0;r--){let i=e[r-1];if(!(i.fromA>a.toA)){if(i.toA<a.fromA)break;a=a.join(i),e.splice(r-1,1)}}return e.splice(r,0,a),e}static extendWithRanges(e,r){if(r.length==0)return e;let a=[];for(let i=0,d=0,f=0,h=0;;i++){let u=i==e.length?null:e[i],p=f-h,v=u?u.fromB:1e9;for(;d<r.length&&r[d]<v;){let y=r[d],b=r[d+1],x=Math.max(h,y),k=Math.min(v,b);if(x<=k&&new kp(x+p,k+p,x,k).addToSet(a),b>v)break;d+=2}if(!u)return a;new kp(u.fromA,u.toA,u.fromB,u.toB).addToSet(a),f=u.toA,h=u.toB}}}class sH{constructor(e,r,a){this.view=e,this.state=r,this.transactions=a,this.flags=0,this.startState=e.state,this.changes=Iu.empty(this.startState.doc.length);for(let d of a)this.changes=this.changes.compose(d.changes);let i=[];this.changes.iterChangedRanges((d,f,h,u)=>i.push(new kp(d,f,h,u))),this.changedRanges=i}static create(e,r,a){return new sH(e,r,a)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var gc=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(gc||(gc={}));const o$=gc.LTR,dve=gc.RTL;function hve(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const e3e=hve("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),t3e=hve("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),rse=Object.create(null),$1=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);rse[e]=r,rse[r]=-e}function n3e(t){return t<=247?e3e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?t3e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const r3e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class dS{get dir(){return this.level%2?dve:o$}constructor(e,r,a){this.from=e,this.to=r,this.level=a}side(e,r){return this.dir==r==e?this.to:this.from}static find(e,r,a,i){let d=-1;for(let f=0;f<e.length;f++){let h=e[f];if(h.from<=r&&h.to>=r){if(h.level==a)return f;(d<0||(i!=0?i<0?h.from<r:h.to>r:e[d].level>h.level))&&(d=f)}}if(d<0)throw new RangeError("Index out of range");return d}}function mve(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let a=t[r],i=e[r];if(a.from!=i.from||a.to!=i.to||a.direction!=i.direction||!mve(a.inner,i.inner))return!1}return!0}const pl=[];function o3e(t,e,r,a,i){for(let d=0;d<=a.length;d++){let f=d?a[d-1].to:e,h=d<a.length?a[d].from:r,u=d?256:i;for(let p=f,v=u,y=u;p<h;p++){let b=n3e(t.charCodeAt(p));b==512?b=v:b==8&&y==4&&(b=16),pl[p]=b==4?2:b,b&7&&(y=b),v=b}for(let p=f,v=u,y=u;p<h;p++){let b=pl[p];if(b==128)p<h-1&&v==pl[p+1]&&v&24?b=pl[p]=v:pl[p]=256;else if(b==64){let x=p+1;for(;x<h&&pl[x]==64;)x++;let k=p&&v==8||x<r&&pl[x]==8?y==1?1:8:256;for(let C=p;C<x;C++)pl[C]=k;p=x-1}else b==8&&y==1&&(pl[p]=1);v=b,b&7&&(y=b)}}}function s3e(t,e,r,a,i){let d=i==1?2:1;for(let f=0,h=0,u=0;f<=a.length;f++){let p=f?a[f-1].to:e,v=f<a.length?a[f].from:r;for(let y=p,b,x,k;y<v;y++)if(x=rse[b=t.charCodeAt(y)])if(x<0){for(let C=h-3;C>=0;C-=3)if($1[C+1]==-x){let w=$1[C+2],T=w&2?i:w&4?w&1?d:i:0;T&&(pl[y]=pl[$1[C]]=T),h=C;break}}else{if($1.length==189)break;$1[h++]=y,$1[h++]=b,$1[h++]=u}else if((k=pl[y])==2||k==1){let C=k==i;u=C?0:1;for(let w=h-3;w>=0;w-=3){let T=$1[w+2];if(T&2)break;if(C)$1[w+2]|=2;else{if(T&4)break;$1[w+2]|=4}}}}}function a3e(t,e,r,a){for(let i=0,d=a;i<=r.length;i++){let f=i?r[i-1].to:t,h=i<r.length?r[i].from:e;for(let u=f;u<h;){let p=pl[u];if(p==256){let v=u+1;for(;;)if(v==h){if(i==r.length)break;v=r[i++].to,h=i<r.length?r[i].from:e}else if(pl[v]==256)v++;else break;let y=d==1,b=(v<e?pl[v]:a)==1,x=y==b?y?1:2:a;for(let k=v,C=i,w=C?r[C-1].to:t;k>u;)k==w&&(k=r[--C].from,w=C?r[C-1].to:t),pl[--k]=x;u=v}else d=p,u++}}}function ose(t,e,r,a,i,d,f){let h=a%2?2:1;if(a%2==i%2)for(let u=e,p=0;u<r;){let v=!0,y=!1;if(p==d.length||u<d[p].from){let C=pl[u];C!=h&&(v=!1,y=C==16)}let b=!v&&h==1?[]:null,x=v?a:a+1,k=u;e:for(;;)if(p<d.length&&k==d[p].from){if(y)break e;let C=d[p];if(!v)for(let w=C.to,T=p+1;;){if(w==r)break e;if(T<d.length&&d[T].from==w)w=d[T++].to;else{if(pl[w]==h)break e;break}}if(p++,b)b.push(C);else{C.from>u&&f.push(new dS(u,C.from,x));let w=C.direction==o$!=!(x%2);sse(t,w?a+1:a,i,C.inner,C.from,C.to,f),u=C.to}k=C.to}else{if(k==r||(v?pl[k]!=h:pl[k]==h))break;k++}b?ose(t,u,k,a+1,i,b,f):u<k&&f.push(new dS(u,k,x)),u=k}else for(let u=r,p=d.length;u>e;){let v=!0,y=!1;if(!p||u>d[p-1].to){let C=pl[u-1];C!=h&&(v=!1,y=C==16)}let b=!v&&h==1?[]:null,x=v?a:a+1,k=u;e:for(;;)if(p&&k==d[p-1].to){if(y)break e;let C=d[--p];if(!v)for(let w=C.from,T=p;;){if(w==e)break e;if(T&&d[T-1].to==w)w=d[--T].from;else{if(pl[w-1]==h)break e;break}}if(b)b.push(C);else{C.to<u&&f.push(new dS(C.to,u,x));let w=C.direction==o$!=!(x%2);sse(t,w?a+1:a,i,C.inner,C.from,C.to,f),u=C.from}k=C.from}else{if(k==e||(v?pl[k-1]!=h:pl[k-1]==h))break;k--}b?ose(t,k,u,a+1,i,b,f):k<u&&f.push(new dS(k,u,x)),u=k}}function sse(t,e,r,a,i,d,f){let h=e%2?2:1;o3e(t,i,d,a,h),s3e(t,i,d,a,h),a3e(i,d,a,h),ose(t,i,d,e,r,a,f)}function i3e(t,e,r){if(!t)return[new dS(0,0,e==dve?1:0)];if(e==o$&&!r.length&&!r3e.test(t))return gve(t.length);if(r.length)for(;t.length>pl.length;)pl[pl.length]=256;let a=[],i=e==o$?0:1;return sse(t,i,i,r,0,t.length,a),a}function gve(t){return[new dS(0,t,0)]}let pve="";function l3e(t,e,r,a,i){var d;let f=a.head-t.from,h=-1;if(f==0){if(!i||!t.length)return null;e[0].level!=r&&(f=e[0].side(!1,r),h=0)}else if(f==t.length){if(i)return null;let b=e[e.length-1];b.level!=r&&(f=b.side(!0,r),h=e.length-1)}h<0&&(h=dS.find(e,f,(d=a.bidiLevel)!==null&&d!==void 0?d:-1,a.assoc));let u=e[h];f==u.side(i,r)&&(u=e[h+=i?1:-1],f=u.side(!i,r));let p=i==(u.dir==r),v=Xf(t.text,f,p);if(pve=t.text.slice(Math.min(f,v),Math.max(f,v)),v!=u.side(i,r))return Tr.cursor(v+t.from,p?-1:1,u.level);let y=h==(i?e.length-1:0)?null:e[h+(i?1:-1)];return!y&&u.level!=r?Tr.cursor(i?t.to:t.from,i?-1:1,r):y&&y.level<u.level?Tr.cursor(y.side(!i,r)+t.from,i?1:-1,y.level):Tr.cursor(v+t.from,i?-1:1,u.level)}class gfe extends Ql{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Lu],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new kp(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let a=e.changedRanges;this.minWidth>0&&a.length&&(a.every(({fromA:p,toA:v})=>v<this.minWidthFrom||p>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?i=this.domChanged.newSel.head:!g3e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let d=i>-1?u3e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:p,to:v}=this.hasComposition;a=new kp(p,v,e.changes.mapPos(p,-1),e.changes.mapPos(v,1)).addToSet(a.slice())}this.hasComposition=d?{from:d.range.fromB,to:d.range.toB}:null,(us.ie||us.chrome)&&!d&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let f=this.decorations,h=this.updateDeco(),u=h3e(f,h,e.changes);return a=kp.extendWithRanges(a,u),!(this.flags&7)&&a.length==0?!1:(this.updateInner(a,e.startState.doc.length,d),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,a){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,a);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let f=us.chrome||us.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,f),this.flags&=-8,f&&(f.written||i.selectionRange.focusNode!=f.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(f=>f.flags&=-9);let d=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let f of this.children)f instanceof pS&&f.widget instanceof pfe&&d.push(f.dom);i.updateGaps(d)}updateChildren(e,r,a){let i=a?a.range.addToSet(e.slice()):e,d=this.childCursor(r);for(let f=i.length-1;;f--){let h=f>=0?i[f]:null;if(!h)break;let{fromA:u,toA:p,fromB:v,toB:y}=h,b,x,k,C;if(a&&a.range.fromB<y&&a.range.toB>v){let I=ND.build(this.view.state.doc,v,a.range.fromB,this.decorations,this.dynamicDecorationMap),V=ND.build(this.view.state.doc,a.range.toB,y,this.decorations,this.dynamicDecorationMap);x=I.breakAtStart,k=I.openStart,C=V.openEnd;let N=this.compositionView(a);V.breakAtStart?N.breakAfter=1:V.content.length&&N.merge(N.length,N.length,V.content[0],!1,V.openStart,0)&&(N.breakAfter=V.content[0].breakAfter,V.content.shift()),I.content.length&&N.merge(0,0,I.content[I.content.length-1],!0,0,I.openEnd)&&I.content.pop(),b=I.content.concat(N).concat(V.content)}else({content:b,breakAtStart:x,openStart:k,openEnd:C}=ND.build(this.view.state.doc,v,y,this.decorations,this.dynamicDecorationMap));let{i:w,off:T}=d.findPos(p,1),{i:R,off:M}=d.findPos(u,-1);Wpe(this,R,M,w,T,b,x,k,C)}a&&this.fixCompositionDOM(a)}compositionView(e){let r=new bO(e.text.nodeValue);r.flags|=8;for(let{deco:i}of e.marks)r=new OO(i,[r],r.length);let a=new Lu;return a.append(r,0),a}fixCompositionDOM(e){let r=(d,f)=>{f.flags|=8|(f.children.some(u=>u.flags&7)?1:0),this.markedForComposition.add(f);let h=Ql.get(d);h&&h!=f&&(h.dom=null),f.setDOM(d)},a=this.childPos(e.range.fromB,1),i=this.children[a.i];r(e.line,i);for(let d=e.marks.length-1;d>=-1;d--)a=i.childPos(a.off,1),i=i.children[a.i],r(d>=0?e.marks[d].node:e.text,i)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let a=this.view.root.activeElement,i=a==this.dom,d=!i&&DZ(this.dom,this.view.observer.selectionRange)&&!(a&&this.dom.contains(a));if(!(i||r||d))return;let f=this.forceSelection;this.forceSelection=!1;let h=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(h.anchor)),p=h.empty?u:this.moveToLine(this.domAtPos(h.head));if(us.gecko&&h.empty&&!this.hasComposition&&c3e(u)){let y=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(y,u.node.childNodes[u.offset]||null)),u=p=new Td(y,0),f=!0}let v=this.view.observer.selectionRange;(f||!v.focusNode||!oH(u.node,u.offset,v.anchorNode,v.anchorOffset)||!oH(p.node,p.offset,v.focusNode,v.focusOffset))&&(this.view.observer.ignore(()=>{us.android&&us.chrome&&this.dom.contains(v.focusNode)&&m3e(v.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let y=rH(this.view.root);if(y)if(h.empty){if(us.gecko){let b=f3e(u.node,u.offset);if(b&&b!=3){let x=yve(u.node,u.offset,b==1?1:-1);x&&(u=new Td(x.node,x.offset))}}y.collapse(u.node,u.offset),h.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=h.bidiLevel)}else if(y.extend){y.collapse(u.node,u.offset);try{y.extend(p.node,p.offset)}catch{}}else{let b=document.createRange();h.anchor>h.head&&([u,p]=[p,u]),b.setEnd(p.node,p.offset),b.setStart(u.node,u.offset),y.removeAllRanges(),y.addRange(b)}d&&this.view.root.activeElement==this.dom&&(this.dom.blur(),a&&a.focus())}),this.view.observer.setSelectionRange(u,p)),this.impreciseAnchor=u.precise?null:new Td(v.anchorNode,v.anchorOffset),this.impreciseHead=p.precise?null:new Td(v.focusNode,v.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,a=rH(e.root),{anchorNode:i,anchorOffset:d}=e.observer.selectionRange;if(!a||!r.empty||!r.assoc||!a.modify)return;let f=Lu.find(this,r.head);if(!f)return;let h=f.posAtStart;if(r.head==h||r.head==h+f.length)return;let u=this.coordsAt(r.head,-1),p=this.coordsAt(r.head,1);if(!u||!p||u.bottom>p.top)return;let v=this.domAtPos(r.head+r.assoc);a.collapse(v.node,v.offset),a.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let y=e.observer.selectionRange;e.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=r.from&&a.collapse(i,d)}moveToLine(e){let r=this.dom,a;if(e.node!=r)return e;for(let i=e.offset;!a&&i<r.childNodes.length;i++){let d=Ql.get(r.childNodes[i]);d instanceof Lu&&(a=d.domAtPos(0))}for(let i=e.offset-1;!a&&i>=0;i--){let d=Ql.get(r.childNodes[i]);d instanceof Lu&&(a=d.domAtPos(d.length))}return a?new Td(a.node,a.offset,!0):e}nearest(e){for(let r=e;r;){let a=Ql.get(r);if(a&&a.rootView==this)return a;r=r.parentNode}return null}posFromDOM(e,r){let a=this.nearest(e);if(!a)throw new RangeError("Trying to find position for a DOM position outside of the document");return a.localPosFromDOM(e,r)+a.posAtStart}domAtPos(e){let{i:r,off:a}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let i=this.children[r];if(a<i.length||i instanceof Lu)break;r++,a=0}return this.children[r].domAtPos(a)}coordsAt(e,r){let a=null,i=0;for(let d=this.length,f=this.children.length-1;f>=0;f--){let h=this.children[f],u=d-h.breakAfter,p=u-h.length;if(u<e)break;p<=e&&(p<e||h.covers(-1))&&(u>e||h.covers(1))&&(!a||h instanceof Lu&&!(a instanceof Lu&&r>=0))&&(a=h,i=p),d=p}return a?a.coordsAt(e-i,r):null}coordsForChar(e){let{i:r,off:a}=this.childPos(e,1),i=this.children[r];if(!(i instanceof Lu))return null;for(;i.children.length;){let{i:h,off:u}=i.childPos(a,1);for(;;h++){if(h==i.children.length)return null;if((i=i.children[h]).length)break}a=u}if(!(i instanceof bO))return null;let d=Xf(i.text,a);if(d==a)return null;let f=RC(i.dom,a,d).getClientRects();for(let h=0;h<f.length;h++){let u=f[h];if(h==f.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(e){let r=[],{from:a,to:i}=e,d=this.view.contentDOM.clientWidth,f=d>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,h=-1,u=this.view.textDirection==gc.LTR;for(let p=0,v=0;v<this.children.length;v++){let y=this.children[v],b=p+y.length;if(b>i)break;if(p>=a){let x=y.dom.getBoundingClientRect();if(r.push(x.height),f){let k=y.dom.lastChild,C=k?oM(k):[];if(C.length){let w=C[C.length-1],T=u?w.right-x.left:x.right-w.left;T>h&&(h=T,this.minWidth=d,this.minWidthFrom=p,this.minWidthTo=b)}}}p=b+y.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?gc.RTL:gc.LTR}measureTextSize(){for(let d of this.children)if(d instanceof Lu){let f=d.measureTextSize();if(f)return f}let e=document.createElement("div"),r,a,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let d=oM(e.firstChild)[0];r=e.getBoundingClientRect().height,a=d?d.width/27:7,i=d?d.height:r,e.remove()}),{lineHeight:r,charWidth:a,textHeight:i}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new Upe(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let a=0,i=0;;i++){let d=i==r.viewports.length?null:r.viewports[i],f=d?d.from-1:this.length;if(f>a){let h=(r.lineBlockAt(f).bottom-r.lineBlockAt(a).top)/this.view.scaleY;e.push(Bs.replace({widget:new pfe(h),block:!0,inclusive:!0,isBlockGap:!0}).range(a,f))}if(!d)break;a=d.to+1}return Bs.set(e)}updateDeco(){let e=this.view.state.facet(r$).map((r,a)=>(this.dynamicDecorationMap[a]=typeof r=="function")?r(this.view):r);for(let r=e.length;r<e.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let p=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=p.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:r}=e,a=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),i;if(!a)return;!r.empty&&(i=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(a={left:Math.min(a.left,i.left),top:Math.min(a.top,i.top),right:Math.max(a.right,i.right),bottom:Math.max(a.bottom,i.bottom)});let d=fve(this.view),f={left:a.left-d.left,top:a.top-d.top,right:a.right+d.right,bottom:a.bottom+d.bottom},{offsetWidth:h,offsetHeight:u}=this.view.scrollDOM;ZTe(this.view.scrollDOM,f,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,h),-h),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==gc.LTR)}}function c3e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class pfe extends oy{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function vve(t,e){let r=t.observer.selectionRange,a=r.focusNode&&yve(r.focusNode,r.focusOffset,0);if(!a)return null;let i=e-a.offset;return{from:i,to:i+a.node.nodeValue.length,node:a.node}}function u3e(t,e,r){let a=vve(t,r);if(!a)return null;let{node:i,from:d,to:f}=a,h=i.nodeValue;if(/[\n\r]/.test(h)||t.state.doc.sliceString(a.from,a.to)!=h)return null;let u=e.invertedDesc,p=new kp(u.mapPos(d),u.mapPos(f),d,f),v=[];for(let y=i.parentNode;;y=y.parentNode){let b=Ql.get(y);if(b instanceof OO)v.push({node:y,deco:b.mark});else{if(b instanceof Lu||y.nodeName=="DIV"&&y.parentNode==t.contentDOM)return{range:p,text:i,marks:v,line:y};if(y!=t.contentDOM)v.push({node:y,deco:new L$({inclusive:!0,attributes:qTe(y),tagName:y.tagName.toLowerCase()})});else return null}}}function yve(t,e,r){if(r<=0)for(let a=t,i=e;;){if(a.nodeType==3)return{node:a,offset:i};if(a.nodeType==1&&i>0)a=a.childNodes[i-1],i=yO(a);else break}if(r>=0)for(let a=t,i=e;;){if(a.nodeType==3)return{node:a,offset:i};if(a.nodeType==1&&i<a.childNodes.length&&r>=0)a=a.childNodes[i],i=0;else break}return null}function f3e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let d3e=class{constructor(){this.changes=[]}compareRange(e,r){tse(e,r,this.changes)}comparePoint(e,r){tse(e,r,this.changes)}};function h3e(t,e,r){let a=new d3e;return ji.compare(t,e,r,a),a.changes}function m3e(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function g3e(t,e){let r=!1;return e&&t.iterChangedRanges((a,i)=>{a<e.to&&i>e.from&&(r=!0)}),r}function p3e(t,e,r=1){let a=t.charCategorizer(e),i=t.doc.lineAt(e),d=e-i.from;if(i.length==0)return Tr.cursor(e);d==0?r=1:d==i.length&&(r=-1);let f=d,h=d;r<0?f=Xf(i.text,d,!1):h=Xf(i.text,d);let u=a(i.text.slice(f,h));for(;f>0;){let p=Xf(i.text,f,!1);if(a(i.text.slice(p,f))!=u)break;f=p}for(;h<i.length;){let p=Xf(i.text,h);if(a(i.text.slice(h,p))!=u)break;h=p}return Tr.range(f+i.from,h+i.from)}function v3e(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function y3e(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function wre(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function vfe(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function yfe(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function ase(t,e,r){let a,i,d,f,h=!1,u,p,v,y;for(let k=t.firstChild;k;k=k.nextSibling){let C=oM(k);for(let w=0;w<C.length;w++){let T=C[w];i&&wre(i,T)&&(T=vfe(yfe(T,i.bottom),i.top));let R=v3e(e,T),M=y3e(r,T);if(R==0&&M==0)return k.nodeType==3?bfe(k,e,r):ase(k,e,r);if(!a||f>M||f==M&&d>R){a=k,i=T,d=R,f=M;let I=M?r<T.top?-1:1:R?e<T.left?-1:1:0;h=!I||(I>0?w<C.length-1:w>0)}R==0?r>T.bottom&&(!v||v.bottom<T.bottom)?(u=k,v=T):r<T.top&&(!y||y.top>T.top)&&(p=k,y=T):v&&wre(v,T)?v=yfe(v,T.bottom):y&&wre(y,T)&&(y=vfe(y,T.top))}}if(v&&v.bottom>=r?(a=u,i=v):y&&y.top<=r&&(a=p,i=y),!a)return{node:t,offset:0};let b=Math.max(i.left,Math.min(i.right,e));if(a.nodeType==3)return bfe(a,b,r);if(h&&a.contentEditable!="false")return ase(a,b,r);let x=Array.prototype.indexOf.call(t.childNodes,a)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:x}}function bfe(t,e,r){let a=t.nodeValue.length,i=-1,d=1e9,f=0;for(let h=0;h<a;h++){let u=RC(t,h,h+1).getClientRects();for(let p=0;p<u.length;p++){let v=u[p];if(v.top==v.bottom)continue;f||(f=e-v.left);let y=(v.top>r?v.top-r:r-v.bottom)-1;if(v.left-1<=e&&v.right+1>=e&&y<d){let b=e>=(v.left+v.right)/2,x=b;if((us.chrome||us.gecko)&&RC(t,h).getBoundingClientRect().left==v.right&&(x=!b),y<=0)return{node:t,offset:h+(x?1:0)};i=h+(x?1:0),d=y}}}return{node:t,offset:i>-1?i:f>0?t.nodeValue.length:0}}function bve(t,e,r,a=-1){var i,d;let f=t.contentDOM.getBoundingClientRect(),h=f.top+t.viewState.paddingTop,u,{docHeight:p}=t.viewState,{x:v,y}=e,b=y-h;if(b<0)return 0;if(b>p)return t.state.doc.length;for(let I=t.viewState.heightOracle.textHeight/2,V=!1;u=t.elementAtHeight(b),u.type!=uh.Text;)for(;b=a>0?u.bottom+I:u.top-I,!(b>=0&&b<=p);){if(V)return r?null:0;V=!0,a=-a}y=h+b;let x=u.from;if(x<t.viewport.from)return t.viewport.from==0?0:r?null:Ofe(t,f,u,v,y);if(x>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:Ofe(t,f,u,v,y);let k=t.dom.ownerDocument,C=t.root.elementFromPoint?t.root:k,w=C.elementFromPoint(v,y);w&&!t.contentDOM.contains(w)&&(w=null),w||(v=Math.max(f.left+1,Math.min(f.right-1,v)),w=C.elementFromPoint(v,y),w&&!t.contentDOM.contains(w)&&(w=null));let T,R=-1;if(w&&((i=t.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(k.caretPositionFromPoint){let I=k.caretPositionFromPoint(v,y);I&&({offsetNode:T,offset:R}=I)}else if(k.caretRangeFromPoint){let I=k.caretRangeFromPoint(v,y);I&&({startContainer:T,startOffset:R}=I,(!t.contentDOM.contains(T)||us.safari&&b3e(T,R,v)||us.chrome&&O3e(T,R,v))&&(T=void 0))}}if(!T||!t.docView.dom.contains(T)){let I=Lu.find(t.docView,x);if(!I)return b>u.top+u.height/2?u.to:u.from;({node:T,offset:R}=ase(I.dom,v,y))}let M=t.docView.nearest(T);if(!M)return null;if(M.isWidget&&((d=M.dom)===null||d===void 0?void 0:d.nodeType)==1){let I=M.dom.getBoundingClientRect();return e.y<I.top||e.y<=I.bottom&&e.x<=(I.left+I.right)/2?M.posAtStart:M.posAtEnd}else return M.localPosFromDOM(T,R)+M.posAtStart}function Ofe(t,e,r,a,i){let d=Math.round((a-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let h=t.viewState.heightOracle.textHeight,u=Math.floor((i-r.top-(t.defaultLineHeight-h)*.5)/h);d+=u*t.viewState.heightOracle.lineLength}let f=t.state.sliceDoc(r.from,r.to);return r.from+Woe(f,d,t.state.tabSize)}function b3e(t,e,r){let a;if(t.nodeType!=3||e!=(a=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return RC(t,a-1,a).getBoundingClientRect().left>r}function O3e(t,e,r){if(e!=0)return!1;for(let i=t;;){let d=i.parentNode;if(!d||d.nodeType!=1||d.firstChild!=i)return!1;if(d.classList.contains("cm-line"))break;i=d}let a=t.nodeType==1?t.getBoundingClientRect():RC(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-a.left>5}function ise(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let a of r.type)if(a.to>e||a.to==e&&(a.to==r.to||a.type==uh.Text))return a}return r}function x3e(t,e,r,a){let i=ise(t,e.head),d=!a||i.type!=uh.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(d){let f=t.dom.getBoundingClientRect(),h=t.textDirectionAt(i.from),u=t.posAtCoords({x:r==(h==gc.LTR)?f.right-1:f.left+1,y:(d.top+d.bottom)/2});if(u!=null)return Tr.cursor(u,r?-1:1)}return Tr.cursor(r?i.to:i.from,r?-1:1)}function xfe(t,e,r,a){let i=t.state.doc.lineAt(e.head),d=t.bidiSpans(i),f=t.textDirectionAt(i.from);for(let h=e,u=null;;){let p=l3e(i,d,f,h,r),v=pve;if(!p){if(i.number==(r?t.state.doc.lines:1))return h;v=`
`,i=t.state.doc.line(i.number+(r?1:-1)),d=t.bidiSpans(i),p=Tr.cursor(r?i.from:i.to)}if(u){if(!u(v))return h}else{if(!a)return p;u=a(v)}h=p}}function S3e(t,e,r){let a=t.state.charCategorizer(e),i=a(r);return d=>{let f=a(d);return i==Jl.Space&&(i=f),i==f}}function w3e(t,e,r,a){let i=e.head,d=r?1:-1;if(i==(r?t.state.doc.length:0))return Tr.cursor(i,e.assoc);let f=e.goalColumn,h,u=t.contentDOM.getBoundingClientRect(),p=t.coordsAtPos(i,e.assoc||-1),v=t.documentTop;if(p)f==null&&(f=p.left-u.left),h=d<0?p.top:p.bottom;else{let x=t.viewState.lineBlockAt(i);f==null&&(f=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-x.from))),h=(d<0?x.top:x.bottom)+v}let y=u.left+f,b=a??t.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let k=h+(b+x)*d,C=bve(t,{x:y,y:k},!1,d);if(k<u.top||k>u.bottom||(d<0?C<i:C>i)){let w=t.docView.coordsForChar(C),T=!w||k<w.top?-1:1;return Tr.cursor(C,T,void 0,f)}}}function $Z(t,e,r){for(;;){let a=0;for(let i of t)i.between(e-1,e+1,(d,f,h)=>{if(e>d&&e<f){let u=a||r||(e-d<f-e?-1:1);e=u<0?d:f,a=u}});if(!a)return e}}function Tre(t,e,r){let a=$Z(t.state.facet(Yae).map(i=>i(t)),r.from,e.head>r.from?-1:1);return a==r.from?r:Tr.cursor(a,a<r.from?1:-1)}class T3e{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,us.safari&&e.contentDOM.addEventListener("input",()=>null),us.gecko&&F3e(e.contentDOM.ownerDocument)}handleEvent(e){!R3e(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,r){let a=this.handlers[e];if(a){for(let i of a.observers)i(this.view,r);for(let i of a.handlers){if(r.defaultPrevented)break;if(i(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=C3e(e),a=this.handlers,i=this.view.contentDOM;for(let d in r)if(d!="scroll"){let f=!r[d].handlers.length,h=a[d];h&&f!=!h.handlers.length&&(i.removeEventListener(d,this.handleEvent),h=null),h||i.addEventListener(d,this.handleEvent,{passive:f})}for(let d in a)d!="scroll"&&!r[d]&&i.removeEventListener(d,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&xve.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),us.android&&us.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return us.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=Ove.find(a=>a.keyCode==e.keyCode))&&!e.ctrlKey||k3e.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,XP(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:us.safari&&!us.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Sfe(t,e){return(r,a)=>{try{return e.call(t,a,r)}catch(i){Cp(r.state,i)}}}function C3e(t){let e=Object.create(null);function r(a){return e[a]||(e[a]={observers:[],handlers:[]})}for(let a of t){let i=a.spec;if(i&&i.domEventHandlers)for(let d in i.domEventHandlers){let f=i.domEventHandlers[d];f&&r(d).handlers.push(Sfe(a.value,f))}if(i&&i.domEventObservers)for(let d in i.domEventObservers){let f=i.domEventObservers[d];f&&r(d).observers.push(Sfe(a.value,f))}}for(let a in Vv)r(a).handlers.push(Vv[a]);for(let a in zv)r(a).observers.push(zv[a]);return e}const Ove=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],k3e="dthko",xve=[16,17,18,20,91,92,224,225],Gz=6;function jz(t){return Math.max(0,t)*.7+8}function A3e(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class P3e{constructor(e,r,a,i){this.view=e,this.startEvent=r,this.style=a,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParent=HTe(e.contentDOM),this.atoms=e.state.facet(Yae).map(f=>f(e));let d=e.contentDOM.ownerDocument;d.addEventListener("mousemove",this.move=this.move.bind(this)),d.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Ia.allowMultipleSelections)&&M3e(e,r),this.dragging=_3e(e,r)&&Cve(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var r;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&A3e(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let a=0,i=0,d=((r=this.scrollParent)===null||r===void 0?void 0:r.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},f=fve(this.view);e.clientX-f.left<=d.left+Gz?a=-jz(d.left-e.clientX):e.clientX+f.right>=d.right-Gz&&(a=jz(e.clientX-d.right)),e.clientY-f.top<=d.top+Gz?i=-jz(d.top-e.clientY):e.clientY+f.bottom>=d.bottom-Gz&&(i=jz(e.clientY-d.bottom)),this.setScrollSpeed(a,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let a=0;a<e.ranges.length;a++){let i=e.ranges[a],d=null;if(i.empty){let f=$Z(this.atoms,i.from,0);f!=i.from&&(d=Tr.cursor(f,-1))}else{let f=$Z(this.atoms,i.from,-1),h=$Z(this.atoms,i.to,1);(f!=i.from||h!=i.to)&&(d=Tr.range(i.from==i.anchor?f:h,i.from==i.head?f:h))}d&&(r||(r=e.ranges.slice()),r[a]=d)}return r?Tr.create(r,e.mainIndex):e}select(e){let{view:r}=this,a=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!a.eq(r.state.selection)||a.main.assoc!=r.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:a,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function M3e(t,e){let r=t.state.facet(eve);return r.length?r[0](e):us.mac?e.metaKey:e.ctrlKey}function E3e(t,e){let r=t.state.facet(tve);return r.length?r[0](e):us.mac?!e.altKey:!e.ctrlKey}function _3e(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let a=rH(t.root);if(!a||a.rangeCount==0)return!0;let i=a.getRangeAt(0).getClientRects();for(let d=0;d<i.length;d++){let f=i[d];if(f.left<=e.clientX&&f.right>=e.clientX&&f.top<=e.clientY&&f.bottom>=e.clientY)return!0}return!1}function R3e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,a;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(a=Ql.get(r))&&a.ignoreEvent(e))return!1;return!0}const Vv=Object.create(null),zv=Object.create(null),Sve=us.ie&&us.ie_version<15||us.ios&&us.webkit_version<604;function D3e(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),wve(t,r.value)},50)}function wve(t,e){let{state:r}=t,a,i=1,d=r.toText(e),f=d.lines==r.selection.ranges.length;if(lse!=null&&r.selection.ranges.every(u=>u.empty)&&lse==d.toString()){let u=-1;a=r.changeByRange(p=>{let v=r.doc.lineAt(p.from);if(v.from==u)return{range:p};u=v.from;let y=r.toText((f?d.line(i++).text:e)+r.lineBreak);return{changes:{from:v.from,insert:y},range:Tr.cursor(p.from+y.length)}})}else f?a=r.changeByRange(u=>{let p=d.line(i++);return{changes:{from:u.from,to:u.to,insert:p.text},range:Tr.cursor(u.from+p.length)}}):a=r.replaceSelection(d);t.dispatch(a,{userEvent:"input.paste",scrollIntoView:!0})}zv.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Vv.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1);zv.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};zv.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Vv.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let a of t.state.facet(nve))if(r=a(t,e),r)break;if(!r&&e.button==0&&(r=I3e(t,e)),r){let a=!t.hasFocus;t.inputState.startMouseSelection(new P3e(t,e,r,a)),a&&t.observer.ignore(()=>zpe(t.contentDOM));let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function wfe(t,e,r,a){if(a==1)return Tr.cursor(e,r);if(a==2)return p3e(t.state,e,r);{let i=Lu.find(t.docView,e),d=t.state.doc.lineAt(i?i.posAtEnd:e),f=i?i.posAtStart:d.from,h=i?i.posAtEnd:d.to;return h<t.state.doc.length&&h==d.to&&h++,Tr.range(f,h)}}let Tve=(t,e)=>t>=e.top&&t<=e.bottom,Tfe=(t,e,r)=>Tve(e,r)&&t>=r.left&&t<=r.right;function $3e(t,e,r,a){let i=Lu.find(t.docView,e);if(!i)return 1;let d=e-i.posAtStart;if(d==0)return 1;if(d==i.length)return-1;let f=i.coordsAt(d,-1);if(f&&Tfe(r,a,f))return-1;let h=i.coordsAt(d,1);return h&&Tfe(r,a,h)?1:f&&Tve(a,f)?-1:1}function Cfe(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:$3e(t,r,e.clientX,e.clientY)}}const L3e=us.ie&&us.ie_version<=11;let kfe=null,Afe=0,Pfe=0;function Cve(t){if(!L3e)return t.detail;let e=kfe,r=Pfe;return kfe=t,Pfe=Date.now(),Afe=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Afe+1)%3:1}function I3e(t,e){let r=Cfe(t,e),a=Cve(e),i=t.state.selection;return{update(d){d.docChanged&&(r.pos=d.changes.mapPos(r.pos),i=i.map(d.changes))},get(d,f,h){let u=Cfe(t,d),p,v=wfe(t,u.pos,u.bias,a);if(r.pos!=u.pos&&!f){let y=wfe(t,r.pos,r.bias,a),b=Math.min(y.from,v.from),x=Math.max(y.to,v.to);v=b<v.from?Tr.range(b,x):Tr.range(x,b)}return f?i.replaceRange(i.main.extend(v.from,v.to)):h&&a==1&&i.ranges.length>1&&(p=N3e(i,u.pos))?p:h?i.addRange(v):Tr.create([v])}}}function N3e(t,e){for(let r=0;r<t.ranges.length;r++){let{from:a,to:i}=t.ranges[r];if(a<=e&&i>=e)return Tr.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}Vv.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let d=i.posAtStart,f=d+i.length;(d>=r.to||f<=r.from)&&(r=Tr.range(d,f))}}let{inputState:a}=t;return a.mouseSelection&&(a.mouseSelection.dragging=!0),a.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(r.from,r.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Vv.dragend=t=>(t.inputState.draggedContent=null,!1);function Mfe(t,e,r,a){if(!r)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:d}=t.inputState,f=a&&d&&E3e(t,e)?{from:d.from,to:d.to}:null,h={from:i,insert:r},u=t.state.changes(f?[f,h]:h);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:f?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Vv.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let a=Array(r.length),i=0,d=()=>{++i==r.length&&Mfe(t,e,a.filter(f=>f!=null).join(t.state.lineBreak),!1)};for(let f=0;f<r.length;f++){let h=new FileReader;h.onerror=d,h.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(h.result)||(a[f]=h.result),d()},h.readAsText(r[f])}return!0}else{let a=e.dataTransfer.getData("Text");if(a)return Mfe(t,e,a,!0),!0}return!1};Vv.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=Sve?null:e.clipboardData;return r?(wve(t,r.getData("text/plain")||r.getData("text/uri-text")),!0):(D3e(t),!1)};function B3e(t,e){let r=t.dom.parentNode;if(!r)return;let a=r.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.value=e,a.focus(),a.selectionEnd=e.length,a.selectionStart=0,setTimeout(()=>{a.remove(),t.focus()},50)}function Q3e(t){let e=[],r=[],a=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),r.push(i));if(!e.length){let i=-1;for(let{from:d}of t.selection.ranges){let f=t.doc.lineAt(d);f.number>i&&(e.push(f.text),r.push({from:f.from,to:Math.min(t.doc.length,f.to+1)})),i=f.number}a=!0}return{text:e.join(t.lineBreak),ranges:r,linewise:a}}let lse=null;Vv.copy=Vv.cut=(t,e)=>{let{text:r,ranges:a,linewise:i}=Q3e(t.state);if(!r&&!i)return!1;lse=i?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:a,scrollIntoView:!0,userEvent:"delete.cut"});let d=Sve?null:e.clipboardData;return d?(d.clearData(),d.setData("text/plain",r),!0):(B3e(t,r),!1)};const kve=TO.define();function Ave(t,e){let r=[];for(let a of t.facet(sve)){let i=a(t,e);i&&r.push(i)}return r?t.update({effects:r,annotations:kve.of(!0)}):null}function Pve(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=Ave(t.state,e);r?t.dispatch(r):t.update([])}},10)}zv.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Pve(t)};zv.blur=t=>{t.observer.clearSelectionRange(),Pve(t)};zv.compositionstart=zv.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};zv.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,us.chrome&&us.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};zv.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Vv.beforeinput=(t,e)=>{var r;let a;if(us.chrome&&us.android&&(a=Ove.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var d;(((d=window.visualViewport)===null||d===void 0?void 0:d.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return!1};const Efe=new Set;function F3e(t){Efe.has(t)||(Efe.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const _fe=["pre-wrap","normal","pre-line","break-spaces"];class V3e{constructor(e){this.lineWrapping=e,this.doc=Oi.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,r){let a=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(a+=Math.max(0,Math.ceil((r-e-a*this.lineLength*.5)/this.lineLength))),this.lineHeight*a}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return _fe.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let a=0;a<e.length;a++){let i=e[a];i<0?a++:this.heightSamples[Math.floor(i*10)]||(r=!0,this.heightSamples[Math.floor(i*10)]=!0)}return r}refresh(e,r,a,i,d,f){let h=_fe.indexOf(e)>-1,u=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=h;if(this.lineWrapping=h,this.lineHeight=r,this.charWidth=a,this.textHeight=i,this.lineLength=d,u){this.heightSamples={};for(let p=0;p<f.length;p++){let v=f[p];v<0?p++:this.heightSamples[Math.floor(v*10)]=!0}}return u}}class z3e{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class z1{constructor(e,r,a,i,d){this.from=e,this.length=r,this.top=a,this.height=i,this._content=d}get type(){return typeof this._content=="number"?uh.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof wS?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new z1(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var Nl=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Nl||(Nl={}));const LZ=.001;class fh{constructor(e,r,a=2){this.length=e,this.height=r,this.flags=a}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,r){this.height!=r&&(Math.abs(this.height-r)>LZ&&(e.heightChanged=!0),this.height=r)}replace(e,r,a){return fh.of(a)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,a,i){let d=this,f=a.doc;for(let h=i.length-1;h>=0;h--){let{fromA:u,toA:p,fromB:v,toB:y}=i[h],b=d.lineAt(u,Nl.ByPosNoHeight,a.setDoc(r),0,0),x=b.to>=p?b:d.lineAt(p,Nl.ByPosNoHeight,a,0,0);for(y+=x.to-p,p=x.to;h>0&&b.from<=i[h-1].toA;)u=i[h-1].fromA,v=i[h-1].fromB,h--,u<b.from&&(b=d.lineAt(u,Nl.ByPosNoHeight,a,0,0));v+=b.from-u,u=b.from;let k=Xae.build(a.setDoc(f),e,v,y);d=d.replace(u,p,k)}return d.updateHeight(a,0)}static empty(){return new rg(0,0)}static of(e){if(e.length==1)return e[0];let r=0,a=e.length,i=0,d=0;for(;;)if(r==a)if(i>d*2){let h=e[r-1];h.break?e.splice(--r,1,h.left,null,h.right):e.splice(--r,1,h.left,h.right),a+=1+h.break,i-=h.size}else if(d>i*2){let h=e[a];h.break?e.splice(a,1,h.left,null,h.right):e.splice(a,1,h.left,h.right),a+=2+h.break,d-=h.size}else break;else if(i<d){let h=e[r++];h&&(i+=h.size)}else{let h=e[--a];h&&(d+=h.size)}let f=0;return e[r-1]==null?(f=1,r--):e[r]==null&&(f=1,a++),new Z3e(fh.of(e.slice(0,r)),f,fh.of(e.slice(a)))}}fh.prototype.size=1;class Mve extends fh{constructor(e,r,a){super(e,r),this.deco=a}blockAt(e,r,a,i){return new z1(i,this.length,a,this.height,this.deco||0)}lineAt(e,r,a,i,d){return this.blockAt(0,a,i,d)}forEachLine(e,r,a,i,d,f){e<=d+this.length&&r>=d&&f(this.blockAt(0,a,i,d))}updateHeight(e,r=0,a=!1,i){return i&&i.from<=r&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class rg extends Mve{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,a,i){return new z1(i,this.length,a,this.height,this.breaks)}replace(e,r,a){let i=a[0];return a.length==1&&(i instanceof rg||i instanceof Zf&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Zf?i=new rg(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):fh.of(a)}updateHeight(e,r=0,a=!1,i){return i&&i.from<=r&&i.more?this.setHeight(e,i.heights[i.index++]):(a||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Zf extends fh{constructor(e){super(e,0)}heightMetrics(e,r){let a=e.doc.lineAt(r).number,i=e.doc.lineAt(r+this.length).number,d=i-a+1,f,h=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*d);f=u/d,this.length>d+1&&(h=(this.height-u)/(this.length-d-1))}else f=this.height/d;return{firstLine:a,lastLine:i,perLine:f,perChar:h}}blockAt(e,r,a,i){let{firstLine:d,lastLine:f,perLine:h,perChar:u}=this.heightMetrics(r,i);if(r.lineWrapping){let p=i+Math.round(Math.max(0,Math.min(1,(e-a)/this.height))*this.length),v=r.doc.lineAt(p),y=h+v.length*u,b=Math.max(a,e-y/2);return new z1(v.from,v.length,b,y,0)}else{let p=Math.max(0,Math.min(f-d,Math.floor((e-a)/h))),{from:v,length:y}=r.doc.line(d+p);return new z1(v,y,a+h*p,h,0)}}lineAt(e,r,a,i,d){if(r==Nl.ByHeight)return this.blockAt(e,a,i,d);if(r==Nl.ByPosNoHeight){let{from:x,to:k}=a.doc.lineAt(e);return new z1(x,k-x,0,0,0)}let{firstLine:f,perLine:h,perChar:u}=this.heightMetrics(a,d),p=a.doc.lineAt(e),v=h+p.length*u,y=p.number-f,b=i+h*y+u*(p.from-d-y);return new z1(p.from,p.length,Math.max(i,Math.min(b,i+this.height-v)),v,0)}forEachLine(e,r,a,i,d,f){e=Math.max(e,d),r=Math.min(r,d+this.length);let{firstLine:h,perLine:u,perChar:p}=this.heightMetrics(a,d);for(let v=e,y=i;v<=r;){let b=a.doc.lineAt(v);if(v==e){let k=b.number-h;y+=u*k+p*(e-d-k)}let x=u+p*b.length;f(new z1(b.from,b.length,y,x,0)),y+=x,v=b.to+1}}replace(e,r,a){let i=this.length-r;if(i>0){let d=a[a.length-1];d instanceof Zf?a[a.length-1]=new Zf(d.length+i):a.push(null,new Zf(i-1))}if(e>0){let d=a[0];d instanceof Zf?a[0]=new Zf(e+d.length):a.unshift(new Zf(e-1),null)}return fh.of(a)}decomposeLeft(e,r){r.push(new Zf(e-1),null)}decomposeRight(e,r){r.push(null,new Zf(this.length-e-1))}updateHeight(e,r=0,a=!1,i){let d=r+this.length;if(i&&i.from<=r+this.length&&i.more){let f=[],h=Math.max(r,i.from),u=-1;for(i.from>r&&f.push(new Zf(i.from-r-1).updateHeight(e,r));h<=d&&i.more;){let v=e.doc.lineAt(h).length;f.length&&f.push(null);let y=i.heights[i.index++];u==-1?u=y:Math.abs(y-u)>=LZ&&(u=-2);let b=new rg(v,y);b.outdated=!1,f.push(b),h+=v+1}h<=d&&f.push(null,new Zf(d-h).updateHeight(e,h));let p=fh.of(f);return(u<0||Math.abs(p.height-this.height)>=LZ||Math.abs(u-this.heightMetrics(e,r).perLine)>=LZ)&&(e.heightChanged=!0),p}else(a||this.outdated)&&(this.setHeight(e,e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Z3e extends fh{constructor(e,r,a){super(e.length+r+a.length,e.height+a.height,r|(e.outdated||a.outdated?2:0)),this.left=e,this.right=a,this.size=e.size+a.size}get break(){return this.flags&1}blockAt(e,r,a,i){let d=a+this.left.height;return e<d?this.left.blockAt(e,r,a,i):this.right.blockAt(e,r,d,i+this.left.length+this.break)}lineAt(e,r,a,i,d){let f=i+this.left.height,h=d+this.left.length+this.break,u=r==Nl.ByHeight?e<f:e<h,p=u?this.left.lineAt(e,r,a,i,d):this.right.lineAt(e,r,a,f,h);if(this.break||(u?p.to<h:p.from>h))return p;let v=r==Nl.ByPosNoHeight?Nl.ByPosNoHeight:Nl.ByPos;return u?p.join(this.right.lineAt(h,v,a,f,h)):this.left.lineAt(h,v,a,i,d).join(p)}forEachLine(e,r,a,i,d,f){let h=i+this.left.height,u=d+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,r,a,i,d,f),r>=u&&this.right.forEachLine(e,r,a,h,u,f);else{let p=this.lineAt(u,Nl.ByPos,a,i,d);e<p.from&&this.left.forEachLine(e,p.from-1,a,i,d,f),p.to>=e&&p.from<=r&&f(p),r>p.to&&this.right.forEachLine(p.to+1,r,a,h,u,f)}}replace(e,r,a){let i=this.left.length+this.break;if(r<i)return this.balanced(this.left.replace(e,r,a),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,r-i,a));let d=[];e>0&&this.decomposeLeft(e,d);let f=d.length;for(let h of a)d.push(h);if(e>0&&Rfe(d,f-1),r<this.length){let h=d.length;this.decomposeRight(r,d),Rfe(d,h)}return fh.of(d)}decomposeLeft(e,r){let a=this.left.length;if(e<=a)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(a++,e>=a&&r.push(null)),e>a&&this.right.decomposeLeft(e-a,r)}decomposeRight(e,r){let a=this.left.length,i=a+this.break;if(e>=i)return this.right.decomposeRight(e-i,r);e<a&&this.left.decomposeRight(e,r),this.break&&e<i&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?fh.of(this.break?[e,null,r]:[e,r]):(this.left=e,this.right=r,this.height=e.height+r.height,this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,a=!1,i){let{left:d,right:f}=this,h=r+d.length+this.break,u=null;return i&&i.from<=r+d.length&&i.more?u=d=d.updateHeight(e,r,a,i):d.updateHeight(e,r,a),i&&i.from<=h+f.length&&i.more?u=f=f.updateHeight(e,h,a,i):f.updateHeight(e,h,a),u?this.balanced(d,f):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Rfe(t,e){let r,a;t[e]==null&&(r=t[e-1])instanceof Zf&&(a=t[e+1])instanceof Zf&&t.splice(e-1,3,new Zf(r.length+1+a.length))}const H3e=5;class Xae{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let a=Math.min(r,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof rg?i.length+=a-this.pos:(a>this.pos||!this.isCovered)&&this.nodes.push(new rg(a-this.pos,-1)),this.writtenTo=a,r>a&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,a){if(e<r||a.heightRelevant){let i=a.widget?a.widget.estimatedHeight:0,d=a.widget?a.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let f=r-e;a.block?this.addBlock(new Mve(f,i,a)):(f||d||i>=H3e)&&this.addLineDeco(i,d,f)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new rg(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let a=new Zf(r-e);return this.oracle.doc.lineAt(e).to==r&&(a.flags|=4),a}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof rg)return e;let r=new rg(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,a){let i=this.ensureLine();i.length+=a,i.collapsed+=a,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=r,this.writtenTo=this.pos=this.pos+a}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof rg)&&!this.isCovered?this.nodes.push(new rg(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let a=e;for(let i of this.nodes)i instanceof rg&&i.updateHeight(this.oracle,a),a+=i?i.length:1;return this.nodes}static build(e,r,a,i){let d=new Xae(a,e);return ji.spans(r,a,i,d,0),d.finish(a)}}function U3e(t,e,r){let a=new W3e;return ji.compare(t,e,r,a,0),a.changes}class W3e{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,a,i){(e<r||a&&a.heightRelevant||i&&i.heightRelevant)&&tse(e,r,this.changes,5)}}function Y3e(t,e){let r=t.getBoundingClientRect(),a=t.ownerDocument,i=a.defaultView||window,d=Math.max(0,r.left),f=Math.min(i.innerWidth,r.right),h=Math.max(0,r.top),u=Math.min(i.innerHeight,r.bottom);for(let p=t.parentNode;p&&p!=a.body;)if(p.nodeType==1){let v=p,y=window.getComputedStyle(v);if((v.scrollHeight>v.clientHeight||v.scrollWidth>v.clientWidth)&&y.overflow!="visible"){let b=v.getBoundingClientRect();d=Math.max(d,b.left),f=Math.min(f,b.right),h=Math.max(h,b.top),u=p==t.parentNode?b.bottom:Math.min(u,b.bottom)}p=y.position=="absolute"||y.position=="fixed"?v.offsetParent:v.parentNode}else if(p.nodeType==11)p=p.host;else break;return{left:d-r.left,right:Math.max(d,f)-r.left,top:h-(r.top+e),bottom:Math.max(h,u)-(r.top+e)}}function X3e(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class Cre{constructor(e,r,a){this.from=e,this.to=r,this.size=a}static same(e,r){if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){let i=e[a],d=r[a];if(i.from!=d.from||i.to!=d.to||i.size!=d.size)return!1}return!0}draw(e,r){return Bs.replace({widget:new G3e(this.size*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class G3e extends oy{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Dfe{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=$fe,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=gc.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(Wae).some(a=>typeof a!="function"&&a.class=="cm-lineWrapping");this.heightOracle=new V3e(r),this.stateDeco=e.facet(r$).filter(a=>typeof a!="function"),this.heightMap=fh.empty().applyChanges(this.stateDeco,Oi.empty,this.heightOracle.setDoc(e.doc),[new kp(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Bs.set(this.lineGaps.map(a=>a.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let a=0;a<=1;a++){let i=a?r.head:r.anchor;if(!e.some(({from:d,to:f})=>i>=d&&i<=f)){let{from:d,to:f}=this.lineBlockAt(i);e.push(new qz(d,f))}}this.viewports=e.sort((a,i)=>a.from-i.from),this.scaler=this.heightMap.height<=7e6?$fe:new K3e(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:PD(e,this.scaler))})}update(e,r=null){this.state=e.state;let a=this.stateDeco;this.stateDeco=this.state.facet(r$).filter(v=>typeof v!="function");let i=e.changedRanges,d=kp.extendWithRanges(i,U3e(a,this.stateDeco,e?e.changes:Iu.empty(this.state.doc.length))),f=this.heightMap.height,h=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),d),this.heightMap.height!=f&&(e.flags|=2),h?(this.scrollAnchorPos=e.changes.mapPos(h.from,-1),this.scrollAnchorHeight=h.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let u=d.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<u.from||r.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,r));let p=!e.changes.empty||e.flags&2||u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,this.updateForViewport(),p&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(ive)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,a=window.getComputedStyle(r),i=this.heightOracle,d=a.whiteSpace;this.defaultTextDirection=a.direction=="rtl"?gc.RTL:gc.LTR;let f=this.heightOracle.mustRefreshForWrapping(d),h=r.getBoundingClientRect(),u=f||this.mustMeasureContent||this.contentDOMHeight!=h.height;this.contentDOMHeight=h.height,this.mustMeasureContent=!1;let p=0,v=0;if(h.width&&h.height){let I=h.width/r.offsetWidth,V=h.height/r.offsetHeight;(I>.995&&I<1.005||!isFinite(I)||Math.abs(h.width-r.offsetWidth)<1)&&(I=1),(V>.995&&V<1.005||!isFinite(V)||Math.abs(h.height-r.offsetHeight)<1)&&(V=1),(this.scaleX!=I||this.scaleY!=V)&&(this.scaleX=I,this.scaleY=V,p|=8,f=u=!0)}let y=(parseInt(a.paddingTop)||0)*this.scaleY,b=(parseInt(a.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=b)&&(this.paddingTop=y,this.paddingBottom=b,p|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,p|=8);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=Hpe(e.scrollDOM);let k=(this.printing?X3e:Y3e)(r,this.paddingTop),C=k.top-this.pixelViewport.top,w=k.bottom-this.pixelViewport.bottom;this.pixelViewport=k;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(u=!0)),!this.inView&&!this.scrollTarget)return 0;let R=h.width;if((this.contentDOMWidth!=R||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=h.width,this.editorHeight=e.scrollDOM.clientHeight,p|=8),u){let I=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(I)&&(f=!0),f||i.lineWrapping&&Math.abs(R-this.contentDOMWidth)>i.charWidth){let{lineHeight:V,charWidth:N,textHeight:F}=e.docView.measureTextSize();f=V>0&&i.refresh(d,V,N,F,R/N,I),f&&(e.docView.minWidth=0,p|=8)}C>0&&w>0?v=Math.max(C,w):C<0&&w<0&&(v=Math.min(C,w)),i.heightChanged=!1;for(let V of this.viewports){let N=V.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(V);this.heightMap=(f?fh.empty().applyChanges(this.stateDeco,Oi.empty,this.heightOracle,[new kp(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,f,new z3e(V.from,N))}i.heightChanged&&(p|=2)}let M=!this.viewportIsAppropriate(this.viewport,v)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return M&&(this.viewport=this.getViewport(v,this.scrollTarget)),this.updateForViewport(),(p&2||M)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(f?[]:this.lineGaps,e)),p|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),p}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let a=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,d=this.heightOracle,{visibleTop:f,visibleBottom:h}=this,u=new qz(i.lineAt(f-a*1e3,Nl.ByHeight,d,0,0).from,i.lineAt(h+(1-a)*1e3,Nl.ByHeight,d,0,0).to);if(r){let{head:p}=r.range;if(p<u.from||p>u.to){let v=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=i.lineAt(p,Nl.ByPos,d,0,0),b;r.y=="center"?b=(y.top+y.bottom)/2-v/2:r.y=="start"||r.y=="nearest"&&p<u.from?b=y.top:b=y.bottom-v,u=new qz(i.lineAt(b-1e3/2,Nl.ByHeight,d,0,0).from,i.lineAt(b+v+1e3/2,Nl.ByHeight,d,0,0).to)}}return u}mapViewport(e,r){let a=r.mapPos(e.from,-1),i=r.mapPos(e.to,1);return new qz(this.heightMap.lineAt(a,Nl.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Nl.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},a=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Nl.ByPos,this.heightOracle,0,0),{bottom:d}=this.heightMap.lineAt(r,Nl.ByPos,this.heightOracle,0,0),{visibleTop:f,visibleBottom:h}=this;return(e==0||i<=f-Math.max(10,Math.min(-a,250)))&&(r==this.state.doc.length||d>=h+Math.max(10,Math.min(a,250)))&&i>f-2*1e3&&d<h+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let a=[];for(let i of e)r.touchesRange(i.from,i.to)||a.push(new Cre(r.mapPos(i.from),r.mapPos(i.to),i.size));return a}ensureLineGaps(e,r){let a=this.heightOracle.lineWrapping,i=a?1e4:2e3,d=i>>1,f=i<<1;if(this.defaultTextDirection!=gc.LTR&&!a)return[];let h=[],u=(p,v,y,b)=>{if(v-p<d)return;let x=this.state.selection.main,k=[x.from];x.empty||k.push(x.to);for(let w of k)if(w>p&&w<v){u(p,w-10,y,b),u(w+10,v,y,b);return}let C=q3e(e,w=>w.from>=y.from&&w.to<=y.to&&Math.abs(w.from-p)<d&&Math.abs(w.to-v)<d&&!k.some(T=>w.from<T&&w.to>T));if(!C){if(v<y.to&&r&&a&&r.visibleRanges.some(w=>w.from<=v&&w.to>=v)){let w=r.moveToLineBoundary(Tr.cursor(v),!1,!0).head;w>p&&(v=w)}C=new Cre(p,v,this.gapSize(y,p,v,b))}h.push(C)};for(let p of this.viewportLines){if(p.length<f)continue;let v=j3e(p.from,p.to,this.stateDeco);if(v.total<f)continue;let y=this.scrollTarget?this.scrollTarget.range.head:null,b,x;if(a){let k=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,w;if(y!=null){let T=Jz(v,y),R=((this.visibleBottom-this.visibleTop)/2+k)/p.height;C=T-R,w=T+R}else C=(this.visibleTop-p.top-k)/p.height,w=(this.visibleBottom-p.top+k)/p.height;b=Kz(v,C),x=Kz(v,w)}else{let k=v.total*this.heightOracle.charWidth,C=i*this.heightOracle.charWidth,w,T;if(y!=null){let R=Jz(v,y),M=((this.pixelViewport.right-this.pixelViewport.left)/2+C)/k;w=R-M,T=R+M}else w=(this.pixelViewport.left-C)/k,T=(this.pixelViewport.right+C)/k;b=Kz(v,w),x=Kz(v,T)}b>p.from&&u(p.from,b,p,v),x<p.to&&u(x,p.to,p,v)}return h}gapSize(e,r,a,i){let d=Jz(i,a)-Jz(i,r);return this.heightOracle.lineWrapping?e.height*d:i.total*this.heightOracle.charWidth*d}updateLineGaps(e){Cre.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Bs.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let r=[];ji.spans(e,this.viewport.from,this.viewport.to,{span(i,d){r.push({from:i,to:d})},point(){}},20);let a=r.length!=this.visibleRanges.length||this.visibleRanges.some((i,d)=>i.from!=r[d].from||i.to!=r[d].to);return this.visibleRanges=r,a?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||PD(this.heightMap.lineAt(e,Nl.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return PD(this.heightMap.lineAt(this.scaler.fromDOM(e),Nl.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return PD(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class qz{constructor(e,r){this.from=e,this.to=r}}function j3e(t,e,r){let a=[],i=t,d=0;return ji.spans(r,t,e,{span(){},point(f,h){f>i&&(a.push({from:i,to:f}),d+=f-i),i=h}},20),i<e&&(a.push({from:i,to:e}),d+=e-i),{total:d,ranges:a}}function Kz({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let a=Math.floor(t*r);for(let i=0;;i++){let{from:d,to:f}=e[i],h=f-d;if(a<=h)return d+a;a-=h}}function Jz(t,e){let r=0;for(let{from:a,to:i}of t.ranges){if(e<=i){r+=e-a;break}r+=i-a}return r/t.total}function q3e(t,e){for(let r of t)if(e(r))return r}const $fe={toDOM(t){return t},fromDOM(t){return t},scale:1};class K3e{constructor(e,r,a){let i=0,d=0,f=0;this.viewports=a.map(({from:h,to:u})=>{let p=r.lineAt(h,Nl.ByPos,e,0,0).top,v=r.lineAt(u,Nl.ByPos,e,0,0).bottom;return i+=v-p,{from:h,to:u,top:p,bottom:v,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(r.height-i);for(let h of this.viewports)h.domTop=f+(h.top-d)*this.scale,f=h.domBottom=h.domTop+(h.bottom-h.top),d=h.bottom}toDOM(e){for(let r=0,a=0,i=0;;r++){let d=r<this.viewports.length?this.viewports[r]:null;if(!d||e<d.top)return i+(e-a)*this.scale;if(e<=d.bottom)return d.domTop+(e-d.top);a=d.bottom,i=d.domBottom}}fromDOM(e){for(let r=0,a=0,i=0;;r++){let d=r<this.viewports.length?this.viewports[r]:null;if(!d||e<d.domTop)return a+(e-i)/this.scale;if(e<=d.domBottom)return d.top+(e-d.domTop);a=d.bottom,i=d.domBottom}}}function PD(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),a=e.toDOM(t.bottom);return new z1(t.from,t.length,r,a-r,Array.isArray(t._content)?t._content.map(i=>PD(i,e)):t._content)}const eZ=ss.define({combine:t=>t.join(" ")}),cse=ss.define({combine:t=>t.indexOf(!0)>-1}),use=xS.newName(),Eve=xS.newName(),_ve=xS.newName(),Rve={"&light":"."+Eve,"&dark":"."+_ve};function fse(t,e,r){return new xS(e,{finish(a){return/&/.test(a)?a.replace(/&\w*/,i=>{if(i=="&")return t;if(!r||!r[i])throw new RangeError(`Unsupported selector: ${i}`);return r[i]}):t+" "+a}})}const J3e=fse("."+use,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Rve),MD="￿";class eCe{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Ia.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=MD}readRange(e,r){if(!e)return this;let a=e.parentNode;for(let i=e;;){this.findPointBefore(a,i);let d=this.text.length;this.readNode(i);let f=i.nextSibling;if(f==r)break;let h=Ql.get(i),u=Ql.get(f);(h&&u?h.breakAfter:(h?h.breakAfter:Lfe(i))||Lfe(f)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>d)&&this.lineBreak(),i=f}return this.findPointBefore(a,r),this}readTextNode(e){let r=e.nodeValue;for(let a of this.points)a.node==e&&(a.pos=this.text.length+Math.min(a.offset,r.length));for(let a=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let d=-1,f=1,h;if(this.lineSeparator?(d=r.indexOf(this.lineSeparator,a),f=this.lineSeparator.length):(h=i.exec(r))&&(d=h.index,f=h[0].length),this.append(r.slice(a,d<0?r.length:d)),d<0)break;if(this.lineBreak(),f>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=f-1);a=d+f}}readNode(e){if(e.cmIgnore)return;let r=Ql.get(e),a=r&&r.overrideDOMText;if(a!=null){this.findPointInside(e,a.length);for(let i=a.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let a of this.points)a.node==e&&e.childNodes[a.offset]==r&&(a.pos=this.text.length)}findPointInside(e,r){for(let a of this.points)(e.nodeType==3?a.node==e:e.contains(a.node))&&(a.pos=this.text.length+(tCe(e,a.node,a.offset)?r:0))}}function tCe(t,e,r){for(;;){if(!e||r<yO(e))return!1;if(e==t)return!0;r=n$(e)+1,e=e.parentNode}}function Lfe(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Ife{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class nCe{constructor(e,r,a,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:d,impreciseAnchor:f}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,a,0))){let h=d||f?[]:sCe(e),u=new eCe(h,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=aCe(h,this.bounds.from)}else{let h=e.observer.selectionRange,u=d&&d.node==h.focusNode&&d.offset==h.focusOffset||!Goe(e.contentDOM,h.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(h.focusNode,h.focusOffset),p=f&&f.node==h.anchorNode&&f.offset==h.anchorOffset||!Goe(e.contentDOM,h.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(h.anchorNode,h.anchorOffset);this.newSel=Tr.single(p,u)}}}function Dve(t,e){let r,{newSel:a}=e,i=t.state.selection.main,d=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:f,to:h}=e.bounds,u=i.from,p=null;(d===8||us.android&&e.text.length<h-f)&&(u=i.to,p="end");let v=oCe(t.state.doc.sliceString(f,h,MD),e.text,u-f,p);v&&(us.chrome&&d==13&&v.toB==v.from+2&&e.text.slice(v.from,v.toB)==MD+MD&&v.toB--,r={from:f+v.from,to:f+v.toA,insert:Oi.of(e.text.slice(v.from,v.toB).split(MD))})}else a&&(!t.hasFocus&&t.state.facet(mU)||a.main.eq(i))&&(a=null);if(!r&&!a)return!1;if(!r&&e.typeOver&&!i.empty&&a&&a.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:(us.mac||us.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(a&&r.insert.length==2&&(a=Tr.single(a.main.anchor-1,a.main.head-1)),r={from:i.from,to:i.to,insert:Oi.of([" "])}):us.chrome&&r&&r.from==r.to&&r.from==i.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(a&&(a=Tr.single(a.main.anchor-1,a.main.head-1)),r={from:i.from,to:i.to,insert:Oi.of([" "])}),r){if(us.ios&&t.inputState.flushIOSKey()||us.android&&(r.from==i.from&&r.to==i.to&&r.insert.length==1&&r.insert.lines==2&&XP(t.contentDOM,"Enter",13)||(r.from==i.from-1&&r.to==i.to&&r.insert.length==0||d==8&&r.insert.length<r.to-r.from&&r.to>i.head)&&XP(t.contentDOM,"Backspace",8)||r.from==i.from&&r.to==i.to+1&&r.insert.length==0&&XP(t.contentDOM,"Delete",46)))return!0;let f=r.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let h,u=()=>h||(h=rCe(t,r,a));return t.state.facet(ove).some(p=>p(t,r.from,r.to,f,u))||t.dispatch(u()),!0}else if(a&&!a.main.eq(i)){let f=!1,h="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(f=!0),h=t.inputState.lastSelectionOrigin),t.dispatch({selection:a,scrollIntoView:f,userEvent:h}),!0}else return!1}function rCe(t,e,r){let a,i=t.state,d=i.selection.main;if(e.from>=d.from&&e.to<=d.to&&e.to-e.from>=(d.to-d.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let h=d.from<e.from?i.sliceDoc(d.from,e.from):"",u=d.to>e.to?i.sliceDoc(e.to,d.to):"";a=i.replaceSelection(t.state.toText(h+e.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let h=i.changes(e),u=r&&r.main.to<=h.newLength?r.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=d.to&&e.to>=d.to-10){let p=t.state.sliceDoc(e.from,e.to),v,y=r&&vve(t,r.main.head);if(y){let k=e.insert.length-(e.to-e.from);v={from:y.from,to:y.to-k}}else v=t.state.doc.lineAt(d.head);let b=d.to-e.to,x=d.to-d.from;a=i.changeByRange(k=>{if(k.from==d.from&&k.to==d.to)return{changes:h,range:u||k.map(h)};let C=k.to-b,w=C-p.length;if(k.to-k.from!=x||t.state.sliceDoc(w,C)!=p||k.to>=v.from&&k.from<=v.to)return{range:k};let T=i.changes({from:w,to:C,insert:e.insert}),R=k.to-d.to;return{changes:T,range:u?Tr.range(Math.max(0,u.anchor+R),Math.max(0,u.head+R)):k.map(T)}})}else a={changes:h,selection:u&&i.selection.replaceRange(u)}}let f="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,f+=".compose",t.inputState.compositionFirstChange&&(f+=".start",t.inputState.compositionFirstChange=!1)),i.update(a,{userEvent:f,scrollIntoView:!0})}function oCe(t,e,r,a){let i=Math.min(t.length,e.length),d=0;for(;d<i&&t.charCodeAt(d)==e.charCodeAt(d);)d++;if(d==i&&t.length==e.length)return null;let f=t.length,h=e.length;for(;f>0&&h>0&&t.charCodeAt(f-1)==e.charCodeAt(h-1);)f--,h--;if(a=="end"){let u=Math.max(0,d-Math.min(f,h));r-=f+u-d}if(f<d&&t.length<e.length){let u=r<=d&&r>=f?d-r:0;d-=u,h=d+(h-f),f=d}else if(h<d){let u=r<=d&&r>=h?d-r:0;d-=u,f=d+(f-h),h=d}return{from:d,toA:f,toB:h}}function sCe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:a,focusNode:i,focusOffset:d}=t.observer.selectionRange;return r&&(e.push(new Ife(r,a)),(i!=r||d!=a)&&e.push(new Ife(i,d))),e}function aCe(t,e){if(t.length==0)return null;let r=t[0].pos,a=t.length==2?t[1].pos:r;return r>-1&&a>-1?Tr.single(r+e,a+e):null}const iCe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},kre=us.ie&&us.ie_version<=11;class lCe{constructor(e){this.view=e,this.active=!1,this.selectionRange=new UTe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let a of r)this.queue.push(a);(us.ie&&us.ie_version<=11||us.ios&&e.composing)&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),kre&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,a)=>r!=e[a]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:a}=this,i=this.selectionRange;if(a.state.facet(mU)?a.root.activeElement!=this.dom:!DZ(a.dom,i))return;let d=i.anchorNode&&a.docView.nearest(i.anchorNode);if(d&&d.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(us.ie&&us.ie_version<=11||us.android&&us.chrome)&&!a.state.selection.main.empty&&i.focusNode&&oH(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=us.safari&&e.root.nodeType==11&&VTe(this.dom.ownerDocument)==this.dom&&cCe(this.view)||rH(e.root);if(!r||this.selectionRange.eq(r))return!1;let a=DZ(this.dom,r);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&YTe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let a=this.dom;a;)if(a.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==a?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);for(let a of this.scrollTargets=r)a.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,iCe),kre&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),kre&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var a;if(!this.delayedAndroidKey){let i=()=>{let d=this.delayedAndroidKey;d&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=d.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&d.force&&XP(this.dom,d.key,d.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((a=this.delayedAndroidKey)===null||a===void 0)&&a.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,a=-1,i=!1;for(let d of e){let f=this.readMutation(d);f&&(f.typeOver&&(i=!0),r==-1?{from:r,to:a}=f:(r=Math.min(f.from,r),a=Math.max(f.to,a)))}return{from:r,to:a,typeOver:i}}readChange(){let{from:e,to:r,typeOver:a}=this.processRecords(),i=this.selectionChanged&&DZ(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let d=new nCe(this.view,e,r,a);return this.view.docView.domChanged={newSel:d.newSel?d.newSel.main:null},d}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let a=this.view.state,i=Dve(this.view,r);return this.view.state==a&&this.view.update([]),i}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let a=Nfe(r,e.previousSibling||e.target.previousSibling,-1),i=Nfe(r,e.nextSibling||e.target.nextSibling,1);return{from:a?r.posAfter(a):r.posAtStart,to:i?r.posBefore(i):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,r,a;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(a=this.resizeScroll)===null||a===void 0||a.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Nfe(t,e,r){for(;e;){let a=Ql.get(e);if(a&&a.parent==t)return a;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function cCe(t){let e=null;function r(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),!e)return null;let a=e.startContainer,i=e.startOffset,d=e.endContainer,f=e.endOffset,h=t.docView.domAtPos(t.state.selection.main.anchor);return oH(h.node,h.offset,d,f)&&([a,i,d,f]=[d,f,a,i]),{anchorNode:a,anchorOffset:i,focusNode:d,focusOffset:f}}class Xo{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(a=>a.forEach(i=>r(i,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||WTe(e.parent)||document,this.viewState=new Dfe(e.state||Ia.create(e)),e.scrollTo&&e.scrollTo.is(Xz)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(kD).map(a=>new Sre(a));for(let a of this.plugins)a.update(this);this.observer=new lCe(this),this.inputState=new T3e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new gfe(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let r=e.length==1&&e[0]instanceof Bu?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,a=!1,i,d=this.state;for(let b of e){if(b.startState!=d)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");d=b.state}if(this.destroyed){this.viewState.state=d;return}let f=this.hasFocus,h=0,u=null;e.some(b=>b.annotation(kve))?(this.inputState.notifiedFocused=f,h=1):f!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=f,u=Ave(d,f),u||(h=1));let p=this.observer.delayedAndroidKey,v=null;if(p?(this.observer.clearDelayedAndroidKey(),v=this.observer.readChange(),(v&&!this.state.doc.eq(d.doc)||!this.state.selection.eq(d.selection))&&(v=null)):this.observer.clear(),d.facet(Ia.phrases)!=this.state.facet(Ia.phrases))return this.setState(d);i=sH.create(this,d,e),i.flags|=h;let y=this.viewState.scrollTarget;try{this.updateState=2;for(let b of e){if(y&&(y=y.map(b.changes)),b.scrollIntoView){let{main:x}=b.state.selection;y=new GP(x.empty?x:Tr.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of b.effects)x.is(Xz)&&(y=x.value.clip(this.state))}this.viewState.update(i,y),this.bidiCache=aH.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),r=this.docView.update(i),this.state.facet(AD)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(eZ)!=i.state.facet(eZ)&&(this.viewState.mustMeasureContent=!0),(r||a||y||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let b of this.state.facet(nse))try{b(i)}catch(x){Cp(this.state,x,"update listener")}(u||v)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),v&&!Dve(this,v)&&p.force&&XP(this.contentDOM,p.key,p.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);this.viewState=new Dfe(e),this.plugins=e.facet(kD).map(a=>new Sre(a)),this.pluginMap.clear();for(let a of this.plugins)a.update(this);this.docView.destroy(),this.docView=new gfe(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(kD),a=e.state.facet(kD);if(r!=a){let i=[];for(let d of a){let f=r.indexOf(d);if(f<0)i.push(new Sre(d));else{let h=this.plugins[f];h.mustUpdate=e,i.push(h)}}for(let d of this.plugins)d.mustUpdate!=e&&d.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);r!=a&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,a=this.scrollDOM,i=a.scrollTop*this.scaleY,{scrollAnchorPos:d,scrollAnchorHeight:f}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(f=-1),this.viewState.scrollAnchorHeight=-1;try{for(let h=0;;h++){if(f<0)if(Hpe(a))d=-1,f=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(i);d=x.from,f=x.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(h>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let p=[];u&4||([this.measureRequests,p]=[p,this.measureRequests]);let v=p.map(x=>{try{return x.read(this)}catch(k){return Cp(this.state,k),Bfe}}),y=sH.create(this,this.state,[]),b=!1;y.flags|=u,r?r.flags|=u:r=y,this.updateState=2,y.empty||(this.updatePlugins(y),this.inputState.update(y),this.updateAttrs(),b=this.docView.update(y));for(let x=0;x<p.length;x++)if(v[x]!=Bfe)try{let k=p[x];k.write&&k.write(v[x],this)}catch(k){Cp(this.state,k)}if(b&&this.docView.updateSelection(!0),!y.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let k=(d<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(d).top)-f;if(k>1||k<-1){i=i+k,a.scrollTop=i/this.scaleY,f=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let h of this.state.facet(nse))h(r)}get themeClasses(){return use+" "+(this.state.facet(cse)?_ve:Eve)+" "+this.state.facet(eZ)}updateAttrs(){let e=Qfe(this,lve,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(mU)?"true":"false",class:"cm-content",style:`${us.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),Qfe(this,Wae,r);let a=this.observer.ignore(()=>{let i=ese(this.contentDOM,this.contentAttrs,r),d=ese(this.dom,this.editorAttrs,e);return i||d});return this.editorAttrs=e,this.contentAttrs=r,a}showAnnouncements(e){let r=!0;for(let a of e)for(let i of a.effects)if(i.is(Xo.announce)){r&&(this.announceDOM.textContent=""),r=!1;let d=this.announceDOM.appendChild(document.createElement("div"));d.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(AD);let e=this.state.facet(Xo.cspNonce);xS.mount(this.root,this.styleModules.concat(J3e).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(a=>a.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,a){return Tre(this,e,xfe(this,e,r,a))}moveByGroup(e,r){return Tre(this,e,xfe(this,e,r,a=>S3e(this,e.head,a)))}moveToLineBoundary(e,r,a=!0){return x3e(this,e,r,a)}moveVertically(e,r,a){return Tre(this,e,w3e(this,e,r,a))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),bve(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let a=this.docView.coordsAt(e,r);if(!a||a.left==a.right)return a;let i=this.state.doc.lineAt(e),d=this.bidiSpans(i),f=d[dS.find(d,e-i.from,-1,r)];return dU(a,f.dir==gc.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ave)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>uCe)return gve(e.length);let r=this.textDirectionAt(e.from),a;for(let d of this.bidiCache)if(d.from==e.from&&d.dir==r&&(d.fresh||mve(d.isolates,a=mfe(this,e.from,e.to))))return d.order;a||(a=mfe(this,e.from,e.to));let i=i3e(e.text,r,a);return this.bidiCache.push(new aH(e.from,e.to,r,a,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||us.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{zpe(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return Xz.of(new GP(typeof e=="number"?Tr.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,a=this.viewState.scrollAnchorAt(e);return Xz.of(new GP(Tr.cursor(a.from),"start","start",a.top-e,r,!0))}static domEventHandlers(e){return eu.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return eu.define(()=>({}),{eventObservers:e})}static theme(e,r){let a=xS.newName(),i=[eZ.of(a),AD.of(fse(`.${a}`,e))];return r&&r.dark&&i.push(cse.of(!0)),i}static baseTheme(e){return Mp.lowest(AD.of(fse("."+use,e,Rve)))}static findFromDOM(e){var r;let a=e.querySelector(".cm-content"),i=a&&Ql.get(a)||Ql.get(e);return((r=i==null?void 0:i.rootView)===null||r===void 0?void 0:r.view)||null}}Xo.styleModule=AD;Xo.inputHandler=ove;Xo.focusChangeEffect=sve;Xo.perLineTextDirection=ave;Xo.exceptionSink=rve;Xo.updateListener=nse;Xo.editable=mU;Xo.mouseSelectionStyle=nve;Xo.dragMovesSelection=tve;Xo.clickAddsSelectionRange=eve;Xo.decorations=r$;Xo.atomicRanges=Yae;Xo.bidiIsolatedRanges=cve;Xo.scrollMargins=uve;Xo.darkTheme=cse;Xo.cspNonce=ss.define({combine:t=>t.length?t[0]:""});Xo.contentAttributes=Wae;Xo.editorAttributes=lve;Xo.lineWrapping=Xo.contentAttributes.of({class:"cm-lineWrapping"});Xo.announce=pa.define();const uCe=4096,Bfe={};class aH{constructor(e,r,a,i,d,f){this.from=e,this.to=r,this.dir=a,this.isolates=i,this.fresh=d,this.order=f}static update(e,r){if(r.empty&&!e.some(d=>d.fresh))return e;let a=[],i=e.length?e[e.length-1].dir:gc.LTR;for(let d=Math.max(0,e.length-10);d<e.length;d++){let f=e[d];f.dir==i&&!r.touchesRange(f.from,f.to)&&a.push(new aH(r.mapPos(f.from,1),r.mapPos(f.to,-1),f.dir,f.isolates,!1,f.order))}return a}}function Qfe(t,e,r){for(let a=t.state.facet(e),i=a.length-1;i>=0;i--){let d=a[i],f=typeof d=="function"?d(t):d;f&&Joe(f,r)}return r}const fCe=us.mac?"mac":us.windows?"win":us.linux?"linux":"key";function dCe(t,e){const r=t.split(/-(?!$)/);let a=r[r.length-1];a=="Space"&&(a=" ");let i,d,f,h;for(let u=0;u<r.length-1;++u){const p=r[u];if(/^(cmd|meta|m)$/i.test(p))h=!0;else if(/^a(lt)?$/i.test(p))i=!0;else if(/^(c|ctrl|control)$/i.test(p))d=!0;else if(/^s(hift)?$/i.test(p))f=!0;else if(/^mod$/i.test(p))e=="mac"?h=!0:d=!0;else throw new Error("Unrecognized modifier name: "+p)}return i&&(a="Alt-"+a),d&&(a="Ctrl-"+a),h&&(a="Meta-"+a),f&&(a="Shift-"+a),a}function tZ(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const hCe=Mp.default(Xo.domEventHandlers({keydown(t,e){return Lve($ve(e.state),t,e,"editor")}})),_S=ss.define({enables:hCe}),Ffe=new WeakMap;function $ve(t){let e=t.facet(_S),r=Ffe.get(e);return r||Ffe.set(e,r=pCe(e.reduce((a,i)=>a.concat(i),[]))),r}function mCe(t,e,r){return Lve($ve(t.state),e,t,r)}let cS=null;const gCe=4e3;function pCe(t,e=fCe){let r=Object.create(null),a=Object.create(null),i=(f,h)=>{let u=a[f];if(u==null)a[f]=h;else if(u!=h)throw new Error("Key binding "+f+" is used both as a regular binding and as a multi-stroke prefix")},d=(f,h,u,p,v)=>{var y,b;let x=r[f]||(r[f]=Object.create(null)),k=h.split(/ (?!$)/).map(T=>dCe(T,e));for(let T=1;T<k.length;T++){let R=k.slice(0,T).join(" ");i(R,!0),x[R]||(x[R]={preventDefault:!0,stopPropagation:!1,run:[M=>{let I=cS={view:M,prefix:R,scope:f};return setTimeout(()=>{cS==I&&(cS=null)},gCe),!0}]})}let C=k.join(" ");i(C,!1);let w=x[C]||(x[C]={preventDefault:!1,stopPropagation:!1,run:((b=(y=x._any)===null||y===void 0?void 0:y.run)===null||b===void 0?void 0:b.slice())||[]});u&&w.run.push(u),p&&(w.preventDefault=!0),v&&(w.stopPropagation=!0)};for(let f of t){let h=f.scope?f.scope.split(" "):["editor"];if(f.any)for(let p of h){let v=r[p]||(r[p]=Object.create(null));v._any||(v._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let y in v)v[y].run.push(f.any)}let u=f[e]||f.key;if(u)for(let p of h)d(p,u,f.run,f.preventDefault,f.stopPropagation),f.shift&&d(p,"Shift-"+u,f.shift,f.preventDefault,f.stopPropagation)}return r}function Lve(t,e,r,a){let i=FTe(e),d=Uf(i,0),f=vp(d)==i.length&&i!=" ",h="",u=!1,p=!1,v=!1;cS&&cS.view==r&&cS.scope==a&&(h=cS.prefix+" ",xve.indexOf(e.keyCode)<0&&(p=!0,cS=null));let y=new Set,b=w=>{if(w){for(let T of w.run)if(!y.has(T)&&(y.add(T),T(r,e)))return w.stopPropagation&&(v=!0),!0;w.preventDefault&&(w.stopPropagation&&(v=!0),p=!0)}return!1},x=t[a],k,C;return x&&(b(x[h+tZ(i,e,!f)])?u=!0:f&&(e.altKey||e.metaKey||e.ctrlKey)&&!(us.windows&&e.ctrlKey&&e.altKey)&&(k=SS[e.keyCode])&&k!=i?(b(x[h+tZ(k,e,!0)])||e.shiftKey&&(C=t$[e.keyCode])!=i&&C!=k&&b(x[h+tZ(C,e,!1)]))&&(u=!0):f&&e.shiftKey&&b(x[h+tZ(i,e,!0)])&&(u=!0),!u&&b(x._any)&&(u=!0)),p&&(u=!0),u&&v&&e.stopPropagation(),u}class N${constructor(e,r,a,i,d){this.className=e,this.left=r,this.top=a,this.width=i,this.height=d}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,a){if(a.empty){let i=e.coordsAtPos(a.head,a.assoc||1);if(!i)return[];let d=Ive(e);return[new N$(r,i.left-d.left,i.top-d.top,null,i.bottom-i.top)]}else return vCe(e,r,a)}}function Ive(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==gc.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Vfe(t,e,r){let a=Tr.cursor(e);return{from:Math.max(r.from,t.moveToLineBoundary(a,!1,!0).from),to:Math.min(r.to,t.moveToLineBoundary(a,!0,!0).from),type:uh.Text}}function vCe(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let a=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),d=t.textDirection==gc.LTR,f=t.contentDOM,h=f.getBoundingClientRect(),u=Ive(t),p=f.querySelector(".cm-line"),v=p&&window.getComputedStyle(p),y=h.left+(v?parseInt(v.paddingLeft)+Math.min(0,parseInt(v.textIndent)):0),b=h.right-(v?parseInt(v.paddingRight):0),x=ise(t,a),k=ise(t,i),C=x.type==uh.Text?x:null,w=k.type==uh.Text?k:null;if(C&&(t.lineWrapping||x.widgetLineBreaks)&&(C=Vfe(t,a,C)),w&&(t.lineWrapping||k.widgetLineBreaks)&&(w=Vfe(t,i,w)),C&&w&&C.from==w.from)return R(M(r.from,r.to,C));{let V=C?M(r.from,null,C):I(x,!1),N=w?M(null,r.to,w):I(k,!0),F=[];return(C||x).to<(w||k).from-(C&&w?1:0)||x.widgetLineBreaks>1&&V.bottom+t.defaultLineHeight/2<N.top?F.push(T(y,V.bottom,b,N.top)):V.bottom<N.top&&t.elementAtHeight((V.bottom+N.top)/2).type==uh.Text&&(V.bottom=N.top=(V.bottom+N.top)/2),R(V).concat(F).concat(R(N))}function T(V,N,F,z){return new N$(e,V-u.left,N-u.top-.01,F-V,z-N+.01)}function R({top:V,bottom:N,horizontal:F}){let z=[];for(let U=0;U<F.length;U+=2)z.push(T(F[U],V,F[U+1],N));return z}function M(V,N,F){let z=1e9,U=-1e9,Q=[];function B(Y,ie,L,me,ae){let q=t.coordsAtPos(Y,Y==F.to?-2:2),fe=t.coordsAtPos(L,L==F.from?2:-2);!q||!fe||(z=Math.min(q.top,fe.top,z),U=Math.max(q.bottom,fe.bottom,U),ae==gc.LTR?Q.push(d&&ie?y:q.left,d&&me?b:fe.right):Q.push(!d&&me?y:fe.left,!d&&ie?b:q.right))}let E=V??F.from,W=N??F.to;for(let Y of t.visibleRanges)if(Y.to>E&&Y.from<W)for(let ie=Math.max(Y.from,E),L=Math.min(Y.to,W);;){let me=t.state.doc.lineAt(ie);for(let ae of t.bidiSpans(me)){let q=ae.from+me.from,fe=ae.to+me.from;if(q>=L)break;fe>ie&&B(Math.max(q,ie),V==null&&q<=E,Math.min(fe,L),N==null&&fe>=W,ae.dir)}if(ie=me.to+1,ie>=L)break}return Q.length==0&&B(E,V==null,W,N==null,t.textDirection),{top:z,bottom:U,horizontal:Q}}function I(V,N){let F=h.top+(N?V.top:V.bottom);return{top:F,bottom:F,horizontal:[]}}}function yCe(t,e){return t.constructor==e.constructor&&t.eq(e)}class bCe{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(IZ)!=e.state.facet(IZ)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let r=0,a=e.facet(IZ);for(;r<a.length&&a[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,a)=>!yCe(r,this.drawn[a]))){let r=this.dom.firstChild,a=0;for(let i of e)i.update&&r&&i.constructor&&this.drawn[a].constructor&&i.update(r,this.drawn[a])?(r=r.nextSibling,a++):this.dom.insertBefore(i.draw(),r);for(;r;){let i=r.nextSibling;r.remove(),r=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const IZ=ss.define();function Nve(t){return[eu.define(e=>new bCe(e,t)),IZ.of(t)]}const Bve=!us.ios,s$=ss.define({combine(t){return ry(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function OCe(t={}){return[s$.of(t),xCe,SCe,wCe,ive.of(!0)]}function Qve(t){return t.startState.facet(s$)!=t.state.facet(s$)}const xCe=Nve({above:!0,markers(t){let{state:e}=t,r=e.facet(s$),a=[];for(let i of e.selection.ranges){let d=i==e.selection.main;if(i.empty?!d||Bve:r.drawRangeCursor){let f=d?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",h=i.empty?i:Tr.cursor(i.head,i.head>i.anchor?-1:1);for(let u of N$.forRange(t,f,h))a.push(u)}}return a},update(t,e){t.transactions.some(a=>a.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=Qve(t);return r&&zfe(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){zfe(e.state,t)},class:"cm-cursorLayer"});function zfe(t,e){e.style.animationDuration=t.facet(s$).cursorBlinkRate+"ms"}const SCe=Nve({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:N$.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||Qve(t)},class:"cm-selectionLayer"}),dse={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Bve&&(dse[".cm-line"].caretColor="transparent !important",dse[".cm-content"]={caretColor:"transparent !important"});const wCe=Mp.highest(Xo.theme(dse)),Fve=pa.define({map(t,e){return t==null?null:e.mapPos(t)}}),ED=xf.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,a)=>a.is(Fve)?a.value:r,t)}}),TCe=eu.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(ED);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(ED)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(ED),r=e!=null&&t.coordsAtPos(e);if(!r)return null;let a=t.scrollDOM.getBoundingClientRect();return{left:r.left-a.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-a.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(ED)!=t&&this.view.dispatch({effects:Fve.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function CCe(){return[ED,TCe]}function Zfe(t,e,r,a,i){e.lastIndex=0;for(let d=t.iterRange(r,a),f=r,h;!d.next().done;f+=d.value.length)if(!d.lineBreak)for(;h=e.exec(d.value);)i(f+h.index,h)}function kCe(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let a=[];for(let{from:i,to:d}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),d=Math.min(t.state.doc.lineAt(d).to,d+e),a.length&&a[a.length-1].to>=i?a[a.length-1].to=d:a.push({from:i,to:d});return a}class ACe{constructor(e){const{regexp:r,decoration:a,decorate:i,boundary:d,maxLength:f=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,i)this.addMatch=(h,u,p,v)=>i(v,p,p+h[0].length,h,u);else if(typeof a=="function")this.addMatch=(h,u,p,v)=>{let y=a(h,u,p);y&&v(p,p+h[0].length,y)};else if(a)this.addMatch=(h,u,p,v)=>v(p,p+h[0].length,a);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=d,this.maxLength=f}createDeco(e){let r=new OS,a=r.add.bind(r);for(let{from:i,to:d}of kCe(e,this.maxLength))Zfe(e.state.doc,this.regexp,i,d,(f,h)=>this.addMatch(h,e,f,a));return r.finish()}updateDeco(e,r){let a=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((d,f,h,u)=>{u>e.view.viewport.from&&h<e.view.viewport.to&&(a=Math.min(h,a),i=Math.max(u,i))}),e.viewportChanged||i-a>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,r.map(e.changes),a,i):r}updateRange(e,r,a,i){for(let d of e.visibleRanges){let f=Math.max(d.from,a),h=Math.min(d.to,i);if(h>f){let u=e.state.doc.lineAt(f),p=u.to<h?e.state.doc.lineAt(h):u,v=Math.max(d.from,u.from),y=Math.min(d.to,p.to);if(this.boundary){for(;f>u.from;f--)if(this.boundary.test(u.text[f-1-u.from])){v=f;break}for(;h<p.to;h++)if(this.boundary.test(p.text[h-p.from])){y=h;break}}let b=[],x,k=(C,w,T)=>b.push(T.range(C,w));if(u==p)for(this.regexp.lastIndex=v-u.from;(x=this.regexp.exec(u.text))&&x.index<y-u.from;)this.addMatch(x,e,x.index+u.from,k);else Zfe(e.state.doc,this.regexp,v,y,(C,w)=>this.addMatch(w,e,C,k));r=r.update({filterFrom:v,filterTo:y,filter:(C,w)=>C<v||w>y,add:b})}}return r}}const hse=/x/.unicode!=null?"gu":"g",PCe=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,hse),MCe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Are=null;function ECe(){var t;if(Are==null&&typeof document<"u"&&document.body){let e=document.body.style;Are=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return Are||!1}const NZ=ss.define({combine(t){let e=ry(t,{render:null,specialChars:PCe,addSpecialChars:null});return(e.replaceTabs=!ECe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,hse)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,hse)),e}});function _Ce(t={}){return[NZ.of(t),RCe()]}let Hfe=null;function RCe(){return Hfe||(Hfe=eu.fromClass(class{constructor(t){this.view=t,this.decorations=Bs.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(NZ)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new ACe({regexp:t.specialChars,decoration:(e,r,a)=>{let{doc:i}=r.state,d=Uf(e[0],0);if(d==9){let f=i.lineAt(a),h=r.state.tabSize,u=Fv(f.text,h,a-f.from);return Bs.replace({widget:new ICe((h-u%h)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[d]||(this.decorationCache[d]=Bs.replace({widget:new LCe(t,d)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(NZ);t.startState.facet(NZ)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const DCe="•";function $Ce(t){return t>=32?DCe:t==10?"␤":String.fromCharCode(9216+t)}class LCe extends oy{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=$Ce(this.code),a=e.state.phrase("Control character")+" "+(MCe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,a,r);if(i)return i;let d=document.createElement("span");return d.textContent=r,d.title=a,d.setAttribute("aria-label",a),d.className="cm-specialChar",d}ignoreEvent(){return!1}}class ICe extends oy{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function NCe(){return QCe}const BCe=Bs.line({class:"cm-activeLine"}),QCe=eu.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let a of t.state.selection.ranges){let i=t.lineBlockAt(a.head);i.from>e&&(r.push(BCe.range(i.from)),e=i.from)}return Bs.set(r)}},{decorations:t=>t.decorations});class FCe extends oy{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let r=e.firstChild?oM(e.firstChild):[];if(!r.length)return null;let a=window.getComputedStyle(e.parentNode),i=dU(r[0],a.direction!="rtl"),d=parseInt(a.lineHeight);return i.bottom-i.top>d*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+d}:i}ignoreEvent(){return!1}}function VCe(t){return eu.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Bs.set([Bs.widget({widget:new FCe(t),side:1}).range(0)]):Bs.none}get decorations(){return this.view.state.doc.length?Bs.none:this.placeholder}},{decorations:e=>e.decorations})}const mse=2e3;function zCe(t,e,r){let a=Math.min(e.line,r.line),i=Math.max(e.line,r.line),d=[];if(e.off>mse||r.off>mse||e.col<0||r.col<0){let f=Math.min(e.off,r.off),h=Math.max(e.off,r.off);for(let u=a;u<=i;u++){let p=t.doc.line(u);p.length<=h&&d.push(Tr.range(p.from+f,p.to+h))}}else{let f=Math.min(e.col,r.col),h=Math.max(e.col,r.col);for(let u=a;u<=i;u++){let p=t.doc.line(u),v=Woe(p.text,f,t.tabSize,!0);if(v<0)d.push(Tr.cursor(p.to));else{let y=Woe(p.text,h,t.tabSize);d.push(Tr.range(p.from+v,p.from+y))}}}return d}function ZCe(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function Ufe(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),a=t.state.doc.lineAt(r),i=r-a.from,d=i>mse?-1:i==a.length?ZCe(t,e.clientX):Fv(a.text,t.state.tabSize,r-a.from);return{line:a.number,col:d,off:i}}function HCe(t,e){let r=Ufe(t,e),a=t.state.selection;return r?{update(i){if(i.docChanged){let d=i.changes.mapPos(i.startState.doc.line(r.line).from),f=i.state.doc.lineAt(d);r={line:f.number,col:r.col,off:Math.min(r.off,f.length)},a=a.map(i.changes)}},get(i,d,f){let h=Ufe(t,i);if(!h)return a;let u=zCe(t.state,r,h);return u.length?f?Tr.create(u.concat(a.ranges)):Tr.create(u):a}}:null}function UCe(t){let e=(t==null?void 0:t.eventFilter)||(r=>r.altKey&&r.button==0);return Xo.mouseSelectionStyle.of((r,a)=>e(a)?HCe(r,a):null)}const WCe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},YCe={style:"cursor: crosshair"};function XCe(t={}){let[e,r]=WCe[t.key||"Alt"],a=eu.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||r(i))},keyup(i){(i.keyCode==e||!r(i))&&this.set(!1)},mousemove(i){this.set(r(i))}}});return[a,Xo.contentAttributes.of(i=>{var d;return!((d=i.plugin(a))===null||d===void 0)&&d.isDown?YCe:null})]}const dD="-10000px";class Vve{constructor(e,r,a){this.facet=r,this.createTooltipView=a,this.input=e.state.facet(r),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(a)}update(e,r){var a;let i=e.state.facet(this.facet),d=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let f=[],h=r?[]:null;for(let u=0;u<d.length;u++){let p=d[u],v=-1;if(p){for(let y=0;y<this.tooltips.length;y++){let b=this.tooltips[y];b&&b.create==p.create&&(v=y)}if(v<0)f[u]=this.createTooltipView(p),h&&(h[u]=!!p.above);else{let y=f[u]=this.tooltipViews[v];h&&(h[u]=r[v]),y.update&&y.update(e)}}}for(let u of this.tooltipViews)f.indexOf(u)<0&&(u.dom.remove(),(a=u.destroy)===null||a===void 0||a.call(u));return r&&(h.forEach((u,p)=>r[p]=u),r.length=h.length),this.input=i,this.tooltips=d,this.tooltipViews=f,!0}}function GCe(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Pre=ss.define({combine:t=>{var e,r,a;return{position:us.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(i=>i.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((a=t.find(i=>i.tooltipSpace))===null||a===void 0?void 0:a.tooltipSpace)||GCe}}}),Wfe=new WeakMap,Gae=eu.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Pre);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Vve(t,jae,r=>this.createTooltip(r)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,a=t.state.facet(Pre);if(a.position!=this.position&&!this.madeAbsolute){this.position=a.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;r=!0}if(a.parent!=this.parent){this.parent&&this.container.remove(),this.parent=a.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",e.dom.appendChild(r)}return e.dom.style.position=this.position,e.dom.style.top=dD,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,r=1,a=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(us.gecko)a=i.offsetParent!=this.container.ownerDocument.body;else if(this.view.scaleX!=1||this.view.scaleY!=1)a=!0;else if(i.style.top==dD&&i.style.left=="0px"){let d=i.getBoundingClientRect();a=Math.abs(d.top+1e4)>1||Math.abs(d.left)>1}}if(a||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,r=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:r}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,d)=>{let f=this.manager.tooltipViews[d];return f.getCoords?f.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(Pre).tooltipSpace(this.view),scaleX:e,scaleY:r,makeAbsolute:a}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let h of this.manager.tooltipViews)h.dom.style.position="absolute"}let{editor:r,space:a,scaleX:i,scaleY:d}=t,f=[];for(let h=0;h<this.manager.tooltips.length;h++){let u=this.manager.tooltips[h],p=this.manager.tooltipViews[h],{dom:v}=p,y=t.pos[h],b=t.size[h];if(!y||y.bottom<=Math.max(r.top,a.top)||y.top>=Math.min(r.bottom,a.bottom)||y.right<Math.max(r.left,a.left)-.1||y.left>Math.min(r.right,a.right)+.1){v.style.top=dD;continue}let x=u.arrow?p.dom.querySelector(".cm-tooltip-arrow"):null,k=x?7:0,C=b.right-b.left,w=(e=Wfe.get(p))!==null&&e!==void 0?e:b.bottom-b.top,T=p.offset||qCe,R=this.view.textDirection==gc.LTR,M=b.width>a.right-a.left?R?a.left:a.right-b.width:R?Math.min(y.left-(x?14:0)+T.x,a.right-C):Math.max(a.left,y.left-C+(x?14:0)-T.x),I=this.above[h];!u.strictSide&&(I?y.top-(b.bottom-b.top)-T.y<a.top:y.bottom+(b.bottom-b.top)+T.y>a.bottom)&&I==a.bottom-y.bottom>y.top-a.top&&(I=this.above[h]=!I);let V=(I?y.top-a.top:a.bottom-y.bottom)-k;if(V<w&&p.resize!==!1){if(V<this.view.defaultLineHeight){v.style.top=dD;continue}Wfe.set(p,w),v.style.height=(w=V)/d+"px"}else v.style.height&&(v.style.height="");let N=I?y.top-w-k-T.y:y.bottom+k+T.y,F=M+C;if(p.overlap!==!0)for(let z of f)z.left<F&&z.right>M&&z.top<N+w&&z.bottom>N&&(N=I?z.top-w-2-k:z.bottom+k+2);if(this.position=="absolute"?(v.style.top=(N-t.parent.top)/d+"px",v.style.left=(M-t.parent.left)/i+"px"):(v.style.top=N/d+"px",v.style.left=M/i+"px"),x){let z=y.left+(R?T.x:-T.x)-(M+14-7);x.style.left=z/i+"px"}p.overlap!==!0&&f.push({left:M,top:N,right:F,bottom:N+w}),v.classList.toggle("cm-tooltip-above",I),v.classList.toggle("cm-tooltip-below",!I),p.positioned&&p.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=dD}},{eventObservers:{scroll(){this.maybeMeasure()}}}),jCe=Xo.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),qCe={x:0,y:0},jae=ss.define({enables:[Gae,jCe]}),iH=ss.define();class gU{static create(e){return new gU(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Vve(e,iH,r=>this.createHostedView(r))}createHostedView(e){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(r.dom),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let a of this.manager.tooltipViews){let i=a[e];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const KCe=jae.compute([iH],t=>{let e=t.facet(iH).filter(r=>r);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var a;return(a=r.end)!==null&&a!==void 0?a:r.pos})),create:gU.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class JCe{constructor(e,r,a,i,d){this.view=e,this.source=r,this.field=a,this.setHover=i,this.hoverTime=d,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,a=e.docView.nearest(r.target);if(!a)return;let i,d=1;if(a instanceof fS)i=a.posAtStart;else{if(i=e.posAtCoords(r),i==null)return;let h=e.coordsAtPos(i);if(!h||r.y<h.top||r.y>h.bottom||r.x<h.left-e.defaultCharacterWidth||r.x>h.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(v=>v.from<=i&&v.to>=i),p=u&&u.dir==gc.RTL?-1:1;d=r.x<h.left?-p:p}let f=this.source(e,i,d);if(f!=null&&f.then){let h=this.pending={pos:i};f.then(u=>{this.pending==h&&(this.pending=null,u&&e.dispatch({effects:this.setHover.of(u)}))},u=>Cp(e.state,u,"hover tooltip"))}else f&&e.dispatch({effects:this.setHover.of(f)})}get tooltip(){let e=this.view.plugin(Gae),r=e?e.manager.tooltips.findIndex(a=>a.create==gU.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:i}=this;if(a&&i&&!eke(i.dom,e)||this.pending){let{pos:d}=a||this.pending,f=(r=a==null?void 0:a.end)!==null&&r!==void 0?r:d;(d==f?this.view.posAtCoords(this.lastMove)!=d:!tke(this.view,d,f,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r){let{tooltip:a}=this;a&&a.dom.contains(e.relatedTarget)?this.watchTooltipLeave(a.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let r=a=>{e.removeEventListener("mouseleave",r),this.active&&!this.view.dom.contains(a.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const nZ=4;function eke(t,e){let r=t.getBoundingClientRect();return e.clientX>=r.left-nZ&&e.clientX<=r.right+nZ&&e.clientY>=r.top-nZ&&e.clientY<=r.bottom+nZ}function tke(t,e,r,a,i,d){let f=t.scrollDOM.getBoundingClientRect(),h=t.documentTop+t.documentPadding.top+t.contentHeight;if(f.left>a||f.right<a||f.top>i||Math.min(f.bottom,h)<i)return!1;let u=t.posAtCoords({x:a,y:i},!1);return u>=e&&u<=r}function nke(t,e={}){let r=pa.define(),a=xf.define({create(){return null},update(i,d){if(i&&(e.hideOnChange&&(d.docChanged||d.selection)||e.hideOn&&e.hideOn(d,i)))return null;if(i&&d.docChanged){let f=d.changes.mapPos(i.pos,-1,Yf.TrackDel);if(f==null)return null;let h=Object.assign(Object.create(null),i);h.pos=f,i.end!=null&&(h.end=d.changes.mapPos(i.end)),i=h}for(let f of d.effects)f.is(r)&&(i=f.value),f.is(rke)&&(i=null);return i},provide:i=>iH.from(i)});return[a,eu.define(i=>new JCe(i,t,a,r,e.hoverTime||300)),KCe]}function zve(t,e){let r=t.plugin(Gae);if(!r)return null;let a=r.manager.tooltips.indexOf(e);return a<0?null:r.manager.tooltipViews[a]}const rke=pa.define(),Yfe=ss.define({combine(t){let e,r;for(let a of t)e=e||a.topContainer,r=r||a.bottomContainer;return{topContainer:e,bottomContainer:r}}});function a$(t,e){let r=t.plugin(Zve),a=r?r.specs.indexOf(e):-1;return a>-1?r.panels[a]:null}const Zve=eu.fromClass(class{constructor(t){this.input=t.state.facet(i$),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(Yfe);this.top=new rZ(t,!0,e.topContainer),this.bottom=new rZ(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(Yfe);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new rZ(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new rZ(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(i$);if(r!=this.input){let a=r.filter(u=>u),i=[],d=[],f=[],h=[];for(let u of a){let p=this.specs.indexOf(u),v;p<0?(v=u(t.view),h.push(v)):(v=this.panels[p],v.update&&v.update(t)),i.push(v),(v.top?d:f).push(v)}this.specs=a,this.panels=i,this.top.sync(d),this.bottom.sync(f);for(let u of h)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let a of this.panels)a.update&&a.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Xo.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class rZ{constructor(e,r,a){this.view=e,this.top=r,this.container=a,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=Xfe(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=Xfe(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Xfe(t){let e=t.nextSibling;return t.remove(),e}const i$=ss.define({enables:Zve});class xO extends _C{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}xO.prototype.elementClass="";xO.prototype.toDOM=void 0;xO.prototype.mapMode=Yf.TrackBefore;xO.prototype.startSide=xO.prototype.endSide=-1;xO.prototype.point=!0;const BZ=ss.define(),oke={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ji.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},BD=ss.define();function ske(t){return[Hve(),BD.of(Object.assign(Object.assign({},oke),t))]}const gse=ss.define({combine:t=>t.some(e=>e)});function Hve(t){let e=[ake];return t&&t.fixed===!1&&e.push(gse.of(!0)),e}const ake=eu.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(BD).map(e=>new jfe(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(gse),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,a=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(a<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(gse)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=ji.iter(this.view.state.facet(BZ),this.view.viewport.from),a=[],i=this.gutters.map(d=>new ike(d,this.view.viewport,-this.view.documentPadding.top));for(let d of this.view.viewportLineBlocks)if(a.length&&(a=[]),Array.isArray(d.type)){let f=!0;for(let h of d.type)if(h.type==uh.Text&&f){pse(r,a,h.from);for(let u of i)u.line(this.view,h,a);f=!1}else if(h.widget)for(let u of i)u.widget(this.view,h)}else if(d.type==uh.Text){pse(r,a,d.from);for(let f of i)f.line(this.view,d,a)}else if(d.widget)for(let f of i)f.widget(this.view,d);for(let d of i)d.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(BD),r=t.state.facet(BD),a=t.docChanged||t.heightChanged||t.viewportChanged||!ji.eq(t.startState.facet(BZ),t.state.facet(BZ),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let i of this.gutters)i.update(t)&&(a=!0);else{a=!0;let i=[];for(let d of r){let f=e.indexOf(d);f<0?i.push(new jfe(this.view,d)):(this.gutters[f].update(t),i.push(this.gutters[f]))}for(let d of this.gutters)d.dom.remove(),i.indexOf(d)<0&&d.destroy();for(let d of i)this.dom.appendChild(d.dom);this.gutters=i}return a}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Xo.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==gc.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function Gfe(t){return Array.isArray(t)?t:[t]}function pse(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class ike{constructor(e,r,a){this.gutter=e,this.height=a,this.i=0,this.cursor=ji.iter(e.markers,r.from)}addElement(e,r,a){let{gutter:i}=this,d=(r.top-this.height)/e.scaleY,f=r.height/e.scaleY;if(this.i==i.elements.length){let h=new Uve(e,f,d,a);i.elements.push(h),i.dom.appendChild(h.dom)}else i.elements[this.i].update(e,f,d,a);this.height=r.bottom,this.i++}line(e,r,a){let i=[];pse(this.cursor,i,r.from),a.length&&(i=i.concat(a));let d=this.gutter.config.lineMarker(e,r,i);d&&i.unshift(d);let f=this.gutter;i.length==0&&!f.config.renderEmptyElements||this.addElement(e,r,i)}widget(e,r){let a=this.gutter.config.widgetMarker(e,r.widget,r);a&&this.addElement(e,r,[a])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class jfe{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let a in r.domEventHandlers)this.dom.addEventListener(a,i=>{let d=i.target,f;if(d!=this.dom&&this.dom.contains(d)){for(;d.parentNode!=this.dom;)d=d.parentNode;let u=d.getBoundingClientRect();f=(u.top+u.bottom)/2}else f=i.clientY;let h=e.lineBlockAtHeight(f-e.documentTop);r.domEventHandlers[a](e,h,i)&&i.preventDefault()});this.markers=Gfe(r.markers(e)),r.initialSpacer&&(this.spacer=new Uve(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=Gfe(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let a=e.view.viewport;return!ji.eq(this.markers,r,a.from,a.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Uve{constructor(e,r,a,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,a,i)}update(e,r,a,i){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=a&&(this.dom.style.marginTop=(this.above=a)?a+"px":""),lke(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,r){let a="cm-gutterElement",i=this.dom.firstChild;for(let d=0,f=0;;){let h=f,u=d<r.length?r[d++]:null,p=!1;if(u){let v=u.elementClass;v&&(a+=" "+v);for(let y=f;y<this.markers.length;y++)if(this.markers[y].compare(u)){h=y,p=!0;break}}else h=this.markers.length;for(;f<h;){let v=this.markers[f++];if(v.toDOM){v.destroy(i);let y=i.nextSibling;i.remove(),i=y}}if(!u)break;u.toDOM&&(p?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),p&&f++}this.dom.className=a,this.markers=r}destroy(){this.setMarkers(null,[])}}function lke(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const cke=ss.define(),QP=ss.define({combine(t){return ry(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let a=Object.assign({},e);for(let i in r){let d=a[i],f=r[i];a[i]=d?(h,u,p)=>d(h,u,p)||f(h,u,p):f}return a}})}});class Mre extends xO{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ere(t,e){return t.state.facet(QP).formatNumber(e,t.state)}const uke=BD.compute([QP],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(cke)},lineMarker(e,r,a){return a.some(i=>i.toDOM)?null:new Mre(Ere(e,e.state.doc.lineAt(r.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(QP)!=e.state.facet(QP),initialSpacer(e){return new Mre(Ere(e,qfe(e.state.doc.lines)))},updateSpacer(e,r){let a=Ere(r.view,qfe(r.view.state.doc.lines));return a==e.number?e:new Mre(a)},domEventHandlers:t.facet(QP).domEventHandlers}));function fke(t={}){return[QP.of(t),Hve(),uke]}function qfe(t){let e=9;for(;e<t;)e=e*10+9;return e}const dke=new class extends xO{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},hke=BZ.compute(["selection"],t=>{let e=[],r=-1;for(let a of t.selection.ranges){let i=t.doc.lineAt(a.head).from;i>r&&(r=i,e.push(dke.range(i)))}return ji.of(e)});function mke(){return hke}const Wve=1024;let gke=0,bp=class{constructor(e,r){this.from=e,this.to=r}};class ua{constructor(e={}){this.id=gke++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Fu.match(e)),r=>{let a=e(r);return a===void 0?null:[this,a]}}}ua.closedBy=new ua({deserialize:t=>t.split(" ")});ua.openedBy=new ua({deserialize:t=>t.split(" ")});ua.group=new ua({deserialize:t=>t.split(" ")});ua.contextHash=new ua({perNode:!0});ua.lookAhead=new ua({perNode:!0});ua.mounted=new ua({perNode:!0});class l${constructor(e,r,a){this.tree=e,this.overlay=r,this.parser=a}static get(e){return e&&e.props&&e.props[ua.mounted.id]}}const pke=Object.create(null);class Fu{constructor(e,r,a,i=0){this.name=e,this.props=r,this.id=a,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):pke,a=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Fu(e.name||"",r,e.id,a);if(e.props){for(let d of e.props)if(Array.isArray(d)||(d=d(i)),d){if(d[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[d[0].id]=d[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(ua.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let a in e)for(let i of a.split(" "))r[i]=e[a];return a=>{for(let i=a.prop(ua.group),d=-1;d<(i?i.length:0);d++){let f=r[d<0?a.name:i[d]];if(f)return f}}}}Fu.none=new Fu("",Object.create(null),0,8);class B${constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let a of this.types){let i=null;for(let d of e){let f=d(a);f&&(i||(i=Object.assign({},a.props)),i[f[0].id]=f[1])}r.push(i?new Fu(a.name,i,a.id,a.flags):a)}return new B$(r)}}const oZ=new WeakMap,Kfe=new WeakMap;var vl;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(vl||(vl={}));class Fi{constructor(e,r,a,i,d){if(this.type=e,this.children=r,this.positions=a,this.length=i,this.props=null,d&&d.length){this.props=Object.create(null);for(let[f,h]of d)this.props[typeof f=="number"?f:f.id]=h}}toString(){let e=l$.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let a of this.children){let i=a.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new lH(this.topNode,e)}cursorAt(e,r=0,a=0){let i=oZ.get(this)||this.topNode,d=new lH(i);return d.moveTo(e,r),oZ.set(this,d._tree),d}get topNode(){return new Ad(this,0,0,null)}resolve(e,r=0){let a=c$(oZ.get(this)||this.topNode,e,r,!1);return oZ.set(this,a),a}resolveInner(e,r=0){let a=c$(Kfe.get(this)||this.topNode,e,r,!0);return Kfe.set(this,a),a}resolveStack(e,r=0){return bke(this,e,r)}iterate(e){let{enter:r,leave:a,from:i=0,to:d=this.length}=e,f=e.mode||0,h=(f&vl.IncludeAnonymous)>0;for(let u=this.cursor(f|vl.IncludeAnonymous);;){let p=!1;if(u.from<=d&&u.to>=i&&(!h&&u.type.isAnonymous||r(u)!==!1)){if(u.firstChild())continue;p=!0}for(;p&&a&&(h||!u.type.isAnonymous)&&a(u),!u.nextSibling();){if(!u.parent())return;p=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:Jae(Fu.none,this.children,this.positions,0,this.children.length,0,this.length,(r,a,i)=>new Fi(this.type,r,a,i,this.propValues),e.makeTree||((r,a,i)=>new Fi(Fu.none,r,a,i)))}static build(e){return Oke(e)}}Fi.empty=new Fi(Fu.none,[],[],0);class qae{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new qae(this.buffer,this.index)}}class TS{constructor(e,r,a){this.buffer=e,this.length=r,this.set=a}get type(){return Fu.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],a=this.buffer[e+3],i=this.set.types[r],d=i.name;if(/\W/.test(d)&&!i.isError&&(d=JSON.stringify(d)),e+=4,a==e)return d;let f=[];for(;e<a;)f.push(this.childString(e)),e=this.buffer[e+3];return d+"("+f.join(",")+")"}findChild(e,r,a,i,d){let{buffer:f}=this,h=-1;for(let u=e;u!=r&&!(Yve(d,i,f[u+1],f[u+2])&&(h=u,a>0));u=f[u+3]);return h}slice(e,r,a){let i=this.buffer,d=new Uint16Array(r-e),f=0;for(let h=e,u=0;h<r;){d[u++]=i[h++],d[u++]=i[h++]-a;let p=d[u++]=i[h++]-a;d[u++]=i[h++]-e,f=Math.max(f,p)}return new TS(d,f,this.set)}}function Yve(t,e,r,a){switch(t){case-2:return r<e;case-1:return a>=e&&r<e;case 0:return r<e&&a>e;case 1:return r<=e&&a>e;case 2:return a>e;case 4:return!0}}function c$(t,e,r,a){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let f=!a&&t instanceof Ad&&t.index<0?null:t.parent;if(!f)return t;t=f}let d=a?0:vl.IgnoreOverlays;if(a)for(let f=t,h=f.parent;h;f=h,h=f.parent)f instanceof Ad&&f.index<0&&((i=h.enter(e,r,d))===null||i===void 0?void 0:i.from)!=f.from&&(t=h);for(;;){let f=t.enter(e,r,d);if(!f)return t;t=f}}class Xve{cursor(e=0){return new lH(this,e)}getChild(e,r=null,a=null){let i=Jfe(this,e,r,a);return i.length?i[0]:null}getChildren(e,r=null,a=null){return Jfe(this,e,r,a)}resolve(e,r=0){return c$(this,e,r,!1)}resolveInner(e,r=0){return c$(this,e,r,!0)}matchContext(e){return vse(this,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),a=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(a=r,r=i.prevSibling):r=i}return a}get node(){return this}get next(){return this.parent}}class Ad extends Xve{constructor(e,r,a,i){super(),this._tree=e,this.from=r,this.index=a,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,a,i,d=0){for(let f=this;;){for(let{children:h,positions:u}=f._tree,p=r>0?h.length:-1;e!=p;e+=r){let v=h[e],y=u[e]+f.from;if(Yve(i,a,y,y+v.length)){if(v instanceof TS){if(d&vl.ExcludeBuffers)continue;let b=v.findChild(0,v.buffer.length,r,a-y,i);if(b>-1)return new U1(new vke(f,v,e,y),null,b)}else if(d&vl.IncludeAnonymous||!v.type.isAnonymous||Kae(v)){let b;if(!(d&vl.IgnoreMounts)&&(b=l$.get(v))&&!b.overlay)return new Ad(b.tree,y,e,f);let x=new Ad(v,y,e,f);return d&vl.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(r<0?v.children.length-1:0,r,a,i)}}}if(d&vl.IncludeAnonymous||!f.type.isAnonymous||(f.index>=0?e=f.index+r:e=r<0?-1:f._parent._tree.children.length,f=f._parent,!f))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,a=0){let i;if(!(a&vl.IgnoreOverlays)&&(i=l$.get(this._tree))&&i.overlay){let d=e-this.from;for(let{from:f,to:h}of i.overlay)if((r>0?f<=d:f<d)&&(r<0?h>=d:h>d))return new Ad(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,a)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Jfe(t,e,r,a){let i=t.cursor(),d=[];if(!i.firstChild())return d;if(r!=null){for(;!i.type.is(r);)if(!i.nextSibling())return d}for(;;){if(a!=null&&i.type.is(a))return d;if(i.type.is(e)&&d.push(i.node),!i.nextSibling())return a==null?d:[]}}function vse(t,e,r=e.length-1){for(let a=t.parent;r>=0;a=a.parent){if(!a)return!1;if(!a.type.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}class vke{constructor(e,r,a,i){this.parent=e,this.buffer=r,this.index=a,this.start=i}}class U1 extends Xve{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,a){super(),this.context=e,this._parent=r,this.index=a,this.type=e.buffer.set.types[e.buffer.buffer[a]]}child(e,r,a){let{buffer:i}=this.context,d=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,a);return d<0?null:new U1(this.context,this,d)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,a=0){if(a&vl.ExcludeBuffers)return null;let{buffer:i}=this.context,d=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return d<0?null:new U1(this.context,this,d)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new U1(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new U1(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:a}=this.context,i=this.index+4,d=a.buffer[this.index+3];if(d>i){let f=a.buffer[this.index+1];e.push(a.slice(i,d,f)),r.push(0)}return new Fi(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Gve(t){if(!t.length)return null;let e=0,r=t[0];for(let d=1;d<t.length;d++){let f=t[d];(f.from>r.from||f.to<r.to)&&(r=f,e=d)}let a=r instanceof Ad&&r.index<0?null:r.parent,i=t.slice();return a?i[e]=a:i.splice(e,1),new yke(i,r)}class yke{constructor(e,r){this.heads=e,this.node=r}get next(){return Gve(this.heads)}}function bke(t,e,r){let a=t.resolveInner(e,r),i=null;for(let d=a instanceof Ad?a:a.context.parent;d;d=d.parent)if(d.index<0){let f=d.parent;(i||(i=[a])).push(f.resolve(e,r)),d=f}else{let f=l$.get(d.tree);if(f&&f.overlay&&f.overlay[0].from<=e&&f.overlay[f.overlay.length-1].to>=e){let h=new Ad(f.tree,f.overlay[0].from+d.from,-1,d);(i||(i=[a])).push(c$(h,e,r,!1))}}return i?Gve(i):a}class lH{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ad)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let a=e._parent;a;a=a._parent)this.stack.unshift(a.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:a,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=a+i.buffer[e+1],this.to=a+i.buffer[e+2],!0}yield(e){return e?e instanceof Ad?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,a){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,a,this.mode));let{buffer:i}=this.buffer,d=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,a);return d<0?!1:(this.stack.push(this.index),this.yieldBuf(d))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,a=this.mode){return this.buffer?a&vl.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,a))}parent(){if(!this.buffer)return this.yieldNode(this.mode&vl.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&vl.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,a=this.stack.length-1;if(e<0){let i=a<0?0:this.stack[a]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(a<0?r.buffer.length:r.buffer[this.stack[a]+3]))return this.yieldBuf(i)}return a<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,a,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let d=0;d<this.index;d++)if(i.buffer.buffer[d+3]<this.index)return!1;({index:r,parent:a}=i)}else({index:r,_parent:a}=this._tree);for(;a;{index:r,_parent:a}=a)if(r>-1)for(let d=r+e,f=e<0?-1:a._tree.children.length;d!=f;d+=e){let h=a._tree.children[d];if(this.mode&vl.IncludeAnonymous||h instanceof TS||!h.type.isAnonymous||Kae(h))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,a=0;if(e&&e.context==this.buffer)e:for(let i=this.index,d=this.stack.length;d>=0;){for(let f=e;f;f=f._parent)if(f.index==i){if(i==this.index)return f;r=f,a=d+1;break e}i=this.stack[--d]}for(let i=a;i<this.stack.length;i++)r=new U1(this.buffer,r,this.stack[i]);return this.bufferNode=new U1(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let a=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){a++;continue}this.type.isAnonymous||(i=!0)}for(;i&&r&&r(this),i=this.type.isAnonymous,!this.nextSibling();){if(!a)return;this.parent(),a--,i=!0}}}matchContext(e){if(!this.buffer)return vse(this.node,e);let{buffer:r}=this.buffer,{types:a}=r.set;for(let i=e.length-1,d=this.stack.length-1;i>=0;d--){if(d<0)return vse(this.node,e,i);let f=a[r.buffer[this.stack[d]]];if(!f.isAnonymous){if(e[i]&&e[i]!=f.name)return!1;i--}}return!0}}function Kae(t){return t.children.some(e=>e instanceof TS||!e.type.isAnonymous||Kae(e))}function Oke(t){var e;let{buffer:r,nodeSet:a,maxBufferLength:i=Wve,reused:d=[],minRepeatType:f=a.types.length}=t,h=Array.isArray(r)?new qae(r,r.length):r,u=a.types,p=0,v=0;function y(V,N,F,z,U,Q){let{id:B,start:E,end:W,size:Y}=h,ie=v;for(;Y<0;)if(h.next(),Y==-1){let fe=d[B];F.push(fe),z.push(E-V);return}else if(Y==-3){p=B;return}else if(Y==-4){v=B;return}else throw new RangeError(`Unrecognized record size: ${Y}`);let L=u[B],me,ae,q=E-V;if(W-E<=i&&(ae=w(h.pos-N,U))){let fe=new Uint16Array(ae.size-ae.skip),ee=h.pos-ae.size,be=fe.length;for(;h.pos>ee;)be=T(ae.start,fe,be);me=new TS(fe,W-ae.start,a),q=ae.start-V}else{let fe=h.pos-Y;h.next();let ee=[],be=[],Te=B>=f?B:-1,Be=0,ge=W;for(;h.pos>fe;)Te>=0&&h.id==Te&&h.size>=0?(h.end<=ge-i&&(k(ee,be,E,Be,h.end,ge,Te,ie),Be=ee.length,ge=h.end),h.next()):Q>2500?b(E,fe,ee,be):y(E,fe,ee,be,Te,Q+1);if(Te>=0&&Be>0&&Be<ee.length&&k(ee,be,E,Be,E,ge,Te,ie),ee.reverse(),be.reverse(),Te>-1&&Be>0){let ne=x(L);me=Jae(L,ee,be,0,ee.length,0,W-E,ne,ne)}else me=C(L,ee,be,W-E,ie-W)}F.push(me),z.push(q)}function b(V,N,F,z){let U=[],Q=0,B=-1;for(;h.pos>N;){let{id:E,start:W,end:Y,size:ie}=h;if(ie>4)h.next();else{if(B>-1&&W<B)break;B<0&&(B=Y-i),U.push(E,W,Y),Q++,h.next()}}if(Q){let E=new Uint16Array(Q*4),W=U[U.length-2];for(let Y=U.length-3,ie=0;Y>=0;Y-=3)E[ie++]=U[Y],E[ie++]=U[Y+1]-W,E[ie++]=U[Y+2]-W,E[ie++]=ie;F.push(new TS(E,U[2]-W,a)),z.push(W-V)}}function x(V){return(N,F,z)=>{let U=0,Q=N.length-1,B,E;if(Q>=0&&(B=N[Q])instanceof Fi){if(!Q&&B.type==V&&B.length==z)return B;(E=B.prop(ua.lookAhead))&&(U=F[Q]+B.length+E)}return C(V,N,F,z,U)}}function k(V,N,F,z,U,Q,B,E){let W=[],Y=[];for(;V.length>z;)W.push(V.pop()),Y.push(N.pop()+F-U);V.push(C(a.types[B],W,Y,Q-U,E-Q)),N.push(U-F)}function C(V,N,F,z,U=0,Q){if(p){let B=[ua.contextHash,p];Q=Q?[B].concat(Q):[B]}if(U>25){let B=[ua.lookAhead,U];Q=Q?[B].concat(Q):[B]}return new Fi(V,N,F,z,Q)}function w(V,N){let F=h.fork(),z=0,U=0,Q=0,B=F.end-i,E={size:0,start:0,skip:0};e:for(let W=F.pos-V;F.pos>W;){let Y=F.size;if(F.id==N&&Y>=0){E.size=z,E.start=U,E.skip=Q,Q+=4,z+=4,F.next();continue}let ie=F.pos-Y;if(Y<0||ie<W||F.start<B)break;let L=F.id>=f?4:0,me=F.start;for(F.next();F.pos>ie;){if(F.size<0)if(F.size==-3)L+=4;else break e;else F.id>=f&&(L+=4);F.next()}U=me,z+=Y,Q+=L}return(N<0||z==V)&&(E.size=z,E.start=U,E.skip=Q),E.size>4?E:void 0}function T(V,N,F){let{id:z,start:U,end:Q,size:B}=h;if(h.next(),B>=0&&z<f){let E=F;if(B>4){let W=h.pos-(B-4);for(;h.pos>W;)F=T(V,N,F)}N[--F]=E,N[--F]=Q-V,N[--F]=U-V,N[--F]=z}else B==-3?p=z:B==-4&&(v=z);return F}let R=[],M=[];for(;h.pos>0;)y(t.start||0,t.bufferStart||0,R,M,-1,0);let I=(e=t.length)!==null&&e!==void 0?e:R.length?M[0]+R[0].length:0;return new Fi(u[t.topID],R.reverse(),M.reverse(),I)}const ede=new WeakMap;function QZ(t,e){if(!t.isAnonymous||e instanceof TS||e.type!=t)return 1;let r=ede.get(e);if(r==null){r=1;for(let a of e.children){if(a.type!=t||!(a instanceof Fi)){r=1;break}r+=QZ(t,a)}ede.set(e,r)}return r}function Jae(t,e,r,a,i,d,f,h,u){let p=0;for(let k=a;k<i;k++)p+=QZ(t,e[k]);let v=Math.ceil(p*1.5/8),y=[],b=[];function x(k,C,w,T,R){for(let M=w;M<T;){let I=M,V=C[M],N=QZ(t,k[M]);for(M++;M<T;M++){let F=QZ(t,k[M]);if(N+F>=v)break;N+=F}if(M==I+1){if(N>v){let F=k[I];x(F.children,F.positions,0,F.children.length,C[I]+R);continue}y.push(k[I])}else{let F=C[M-1]+k[M-1].length-V;y.push(Jae(t,k,C,I,M,V,F,null,u))}b.push(V+R-d)}}return x(e,r,a,i,0),(h||u)(y,b,f)}class eie{constructor(){this.map=new WeakMap}setBuffer(e,r,a){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(r,a)}getBuffer(e,r){let a=this.map.get(e);return a&&a.get(r)}set(e,r){e instanceof U1?this.setBuffer(e.context.buffer,e.index,r):e instanceof Ad&&this.map.set(e.tree,r)}get(e){return e instanceof U1?this.getBuffer(e.context.buffer,e.index):e instanceof Ad?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class mO{constructor(e,r,a,i,d=!1,f=!1){this.from=e,this.to=r,this.tree=a,this.offset=i,this.open=(d?1:0)|(f?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],a=!1){let i=[new mO(0,e.length,e,0,!1,a)];for(let d of r)d.to>e.length&&i.push(d);return i}static applyChanges(e,r,a=128){if(!r.length)return e;let i=[],d=1,f=e.length?e[0]:null;for(let h=0,u=0,p=0;;h++){let v=h<r.length?r[h]:null,y=v?v.fromA:1e9;if(y-u>=a)for(;f&&f.from<y;){let b=f;if(u>=b.from||y<=b.to||p){let x=Math.max(b.from,u)-p,k=Math.min(b.to,y)-p;b=x>=k?null:new mO(x,k,b.tree,b.offset+p,h>0,!!v)}if(b&&i.push(b),f.to>y)break;f=d<e.length?e[d++]:null}if(!v)break;u=v.toA,p=v.toA-v.toB}return i}}class tie{startParse(e,r,a){return typeof e=="string"&&(e=new xke(e)),a=a?a.length?a.map(i=>new bp(i.from,i.to)):[new bp(0,0)]:[new bp(0,e.length)],this.createParse(e,r||[],a)}parse(e,r,a){let i=this.startParse(e,r,a);for(;;){let d=i.advance();if(d)return d}}}class xke{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}function jve(t){return(e,r,a,i)=>new wke(e,t,r,a,i)}class tde{constructor(e,r,a,i,d){this.parser=e,this.parse=r,this.overlay=a,this.target=i,this.from=d}}function nde(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class Ske{constructor(e,r,a,i,d,f,h){this.parser=e,this.predicate=r,this.mounts=a,this.index=i,this.start=d,this.target=f,this.prev=h,this.depth=0,this.ranges=[]}}const yse=new ua({perNode:!0});class wke{constructor(e,r,a,i,d){this.nest=r,this.input=a,this.fragments=i,this.ranges=d,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let a=this.baseParse.advance();if(!a)return null;if(this.baseParse=null,this.baseTree=a,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let a=this.baseTree;return this.stoppedAt!=null&&(a=new Fi(a.type,a.children,a.positions,a.length,a.propValues.concat([[yse,this.stoppedAt]]))),a}let e=this.inner[this.innerDone],r=e.parse.advance();if(r){this.innerDone++;let a=Object.assign(Object.create(null),e.target.props);a[ua.mounted.id]=new l$(r,e.overlay,e.parser),e.target.props=a}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].from<e&&(e=Math.min(e,this.inner[r].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].parse.stopAt(e)}startInner(){let e=new kke(this.fragments),r=null,a=null,i=new lH(new Ad(this.baseTree,this.ranges[0].from,0,null),vl.IncludeAnonymous|vl.IgnoreMounts);e:for(let d,f;;){let h=!0,u;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)h=!1;else if(e.hasNode(i)){if(r){let p=r.mounts.find(v=>v.frag.from<=i.from&&v.frag.to>=i.to&&v.mount.overlay);if(p)for(let v of p.mount.overlay){let y=v.from+p.pos,b=v.to+p.pos;y>=i.from&&b<=i.to&&!r.ranges.some(x=>x.from<b&&x.to>y)&&r.ranges.push({from:y,to:b})}}h=!1}else if(a&&(f=Tke(a.ranges,i.from,i.to)))h=f!=2;else if(!i.type.isAnonymous&&(d=this.nest(i,this.input))&&(i.from<i.to||!d.overlay)){i.tree||Cke(i);let p=e.findMounts(i.from,d.parser);if(typeof d.overlay=="function")r=new Ske(d.parser,d.overlay,p,this.inner.length,i.from,i.tree,r);else{let v=sde(this.ranges,d.overlay||(i.from<i.to?[new bp(i.from,i.to)]:[]));v.length&&nde(v),(v.length||!d.overlay)&&this.inner.push(new tde(d.parser,v.length?d.parser.startParse(this.input,ade(p,v),v):d.parser.startParse(""),d.overlay?d.overlay.map(y=>new bp(y.from-i.from,y.to-i.from)):null,i.tree,v.length?v[0].from:i.from)),d.overlay?v.length&&(a={ranges:v,depth:0,prev:a}):h=!1}}else r&&(u=r.predicate(i))&&(u===!0&&(u=new bp(i.from,i.to)),u.from<u.to&&r.ranges.push(u));if(h&&i.firstChild())r&&r.depth++,a&&a.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(r&&!--r.depth){let p=sde(this.ranges,r.ranges);p.length&&(nde(p),this.inner.splice(r.index,0,new tde(r.parser,r.parser.startParse(this.input,ade(r.mounts,p),p),r.ranges.map(v=>new bp(v.from-r.start,v.to-r.start)),r.target,p[0].from))),r=r.prev}a&&!--a.depth&&(a=a.prev)}}}}function Tke(t,e,r){for(let a of t){if(a.from>=r)break;if(a.to>e)return a.from<=e&&a.to>=r?2:1}return 0}function rde(t,e,r,a,i,d){if(e<r){let f=t.buffer[e+1];a.push(t.slice(e,r,f)),i.push(f-d)}}function Cke(t){let{node:e}=t,r=[];do r.push(t.index),t.parent();while(!t.tree);let a=0,i=t.tree,d=0;for(;d=i.positions[a]+t.from,!(d<=e.from&&d+i.children[a].length>=e.to);a++);let f=i.children[a],h=f.buffer,u=[a];function p(v,y,b,x,k,C){let w=r[C],T=[],R=[];rde(f,v,w,T,R,x);let M=h[w+1],I=h[w+2];u.push(T.length);let V=C?p(w+4,h[w+3],f.set.types[h[w]],M,I-M,C-1):e.toTree();return T.push(V),R.push(M-x),rde(f,h[w+3],y,T,R,x),new Fi(b,T,R,k)}i.children[a]=p(0,h.length,Fu.none,0,f.length,r.length-1);for(let v of u){let y=t.tree.children[v],b=t.tree.positions[v];t.yield(new Ad(y,b+t.from,v,t._tree))}}class ode{constructor(e,r){this.offset=r,this.done=!1,this.cursor=e.cursor(vl.IncludeAnonymous|vl.IgnoreMounts)}moveTo(e){let{cursor:r}=this,a=e-this.offset;for(;!this.done&&r.from<a;)r.to>=e&&r.enter(a,1,vl.IgnoreOverlays|vl.ExcludeBuffers)||r.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let r=this.cursor.tree;;){if(r==e.tree)return!0;if(r.children.length&&r.positions[0]==0&&r.children[0]instanceof Fi)r=r.children[0];else break}return!1}}let kke=class{constructor(e){var r;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let a=this.curFrag=e[0];this.curTo=(r=a.tree.prop(yse))!==null&&r!==void 0?r:a.to,this.inner=new ode(a.tree,-a.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let r=this.curFrag=this.fragments[this.fragI];this.curTo=(e=r.tree.prop(yse))!==null&&e!==void 0?e:r.to,this.inner=new ode(r.tree,-r.offset)}}findMounts(e,r){var a;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let d=this.inner.cursor.node;d;d=d.parent){let f=(a=d.tree)===null||a===void 0?void 0:a.prop(ua.mounted);if(f&&f.parser==r)for(let h=this.fragI;h<this.fragments.length;h++){let u=this.fragments[h];if(u.from>=d.to)break;u.tree==this.curFrag.tree&&i.push({frag:u,pos:d.from-u.offset,mount:f})}}}return i}};function sde(t,e){let r=null,a=e;for(let i=1,d=0;i<t.length;i++){let f=t[i-1].to,h=t[i].from;for(;d<a.length;d++){let u=a[d];if(u.from>=h)break;u.to<=f||(r||(a=r=e.slice()),u.from<f?(r[d]=new bp(u.from,f),u.to>h&&r.splice(d+1,0,new bp(h,u.to))):u.to>h?r[d--]=new bp(h,u.to):r.splice(d--,1))}}return a}function Ake(t,e,r,a){let i=0,d=0,f=!1,h=!1,u=-1e9,p=[];for(;;){let v=i==t.length?1e9:f?t[i].to:t[i].from,y=d==e.length?1e9:h?e[d].to:e[d].from;if(f!=h){let b=Math.max(u,r),x=Math.min(v,y,a);b<x&&p.push(new bp(b,x))}if(u=Math.min(v,y),u==1e9)break;v==u&&(f?(f=!1,i++):f=!0),y==u&&(h?(h=!1,d++):h=!0)}return p}function ade(t,e){let r=[];for(let{pos:a,mount:i,frag:d}of t){let f=a+(i.overlay?i.overlay[0].from:0),h=f+i.tree.length,u=Math.max(d.from,f),p=Math.min(d.to,h);if(i.overlay){let v=i.overlay.map(b=>new bp(b.from+a,b.to+a)),y=Ake(e,v,u,p);for(let b=0,x=u;;b++){let k=b==y.length,C=k?p:y[b].from;if(C>x&&r.push(new mO(x,C,i.tree,-f,d.from>=x||d.openStart,d.to<=C||d.openEnd)),k)break;x=y[b].to}}else r.push(new mO(u,p,i.tree,-f,d.from>=f||d.openStart,d.to<=h||d.openEnd))}return r}let Pke=0;class Dv{constructor(e,r,a){this.set=e,this.base=r,this.modified=a,this.id=Pke++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let r=new Dv([],null,[]);if(r.set.push(r),e)for(let a of e.set)r.set.push(a);return r}static defineModifier(){let e=new cH;return r=>r.modified.indexOf(e)>-1?r:cH.get(r.base||r,r.modified.concat(e).sort((a,i)=>a.id-i.id))}}let Mke=0;class cH{constructor(){this.instances=[],this.id=Mke++}static get(e,r){if(!r.length)return e;let a=r[0].instances.find(h=>h.base==e&&Eke(r,h.modified));if(a)return a;let i=[],d=new Dv(i,e,r);for(let h of r)h.instances.push(d);let f=_ke(r);for(let h of e.set)if(!h.modified.length)for(let u of f)i.push(cH.get(h,u));return d}}function Eke(t,e){return t.length==e.length&&t.every((r,a)=>r==e[a])}function _ke(t){let e=[[]];for(let r=0;r<t.length;r++)for(let a=0,i=e.length;a<i;a++)e.push(e[a].concat(t[r]));return e.sort((r,a)=>a.length-r.length)}function RS(t){let e=Object.create(null);for(let r in t){let a=t[r];Array.isArray(a)||(a=[a]);for(let i of r.split(" "))if(i){let d=[],f=2,h=i;for(let y=0;;){if(h=="..."&&y>0&&y+3==i.length){f=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(h);if(!b)throw new RangeError("Invalid path: "+i);if(d.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),y+=b[0].length,y==i.length)break;let x=i[y++];if(y==i.length&&x=="!"){f=0;break}if(x!="/")throw new RangeError("Invalid path: "+i);h=i.slice(y)}let u=d.length-1,p=d[u];if(!p)throw new RangeError("Invalid path: "+i);let v=new uH(a,f,u>0?d.slice(0,u):null);e[p]=v.sort(e[p])}}return qve.add(e)}const qve=new ua;class uH{constructor(e,r,a,i){this.tags=e,this.mode=r,this.context=a,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}uH.empty=new uH([],2,null);function Kve(t,e){let r=Object.create(null);for(let d of t)if(!Array.isArray(d.tag))r[d.tag.id]=d.class;else for(let f of d.tag)r[f.id]=d.class;let{scope:a,all:i=null}=e||{};return{style:d=>{let f=i;for(let h of d)for(let u of h.set){let p=r[u.id];if(p){f=f?f+" "+p:p;break}}return f},scope:a}}function Rke(t,e){let r=null;for(let a of t){let i=a.style(e);i&&(r=r?r+" "+i:i)}return r}function Dke(t,e,r,a=0,i=t.length){let d=new $ke(a,Array.isArray(e)?e:[e],r);d.highlightRange(t.cursor(),a,i,"",d.highlighters),d.flush(i)}class $ke{constructor(e,r,a){this.at=e,this.highlighters=r,this.span=a,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,a,i,d){let{type:f,from:h,to:u}=e;if(h>=a||u<=r)return;f.isTop&&(d=this.highlighters.filter(x=>!x.scope||x.scope(f)));let p=i,v=Lke(e)||uH.empty,y=Rke(d,v.tags);if(y&&(p&&(p+=" "),p+=y,v.mode==1&&(i+=(i?" ":"")+y)),this.startSpan(Math.max(r,h),p),v.opaque)return;let b=e.tree&&e.tree.prop(ua.mounted);if(b&&b.overlay){let x=e.node.enter(b.overlay[0].from+h,1),k=this.highlighters.filter(w=>!w.scope||w.scope(b.tree.type)),C=e.firstChild();for(let w=0,T=h;;w++){let R=w<b.overlay.length?b.overlay[w]:null,M=R?R.from+h:u,I=Math.max(r,T),V=Math.min(a,M);if(I<V&&C)for(;e.from<V&&(this.highlightRange(e,I,V,i,d),this.startSpan(Math.min(V,e.to),p),!(e.to>=M||!e.nextSibling())););if(!R||M>a)break;T=R.to+h,T>r&&(this.highlightRange(x.cursor(),Math.max(r,R.from+h),Math.min(a,T),"",k),this.startSpan(Math.min(a,T),p))}C&&e.parent()}else if(e.firstChild()){b&&(i="");do if(!(e.to<=r)){if(e.from>=a)break;this.highlightRange(e,r,a,i,d),this.startSpan(Math.min(a,e.to),p)}while(e.nextSibling());e.parent()}}}function Lke(t){let e=t.type.prop(qve);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Ao=Dv.define,sZ=Ao(),iS=Ao(),ide=Ao(iS),lde=Ao(iS),lS=Ao(),aZ=Ao(lS),_re=Ao(lS),N1=Ao(),fC=Ao(N1),L1=Ao(),I1=Ao(),bse=Ao(),hD=Ao(bse),iZ=Ao(),Qt={comment:sZ,lineComment:Ao(sZ),blockComment:Ao(sZ),docComment:Ao(sZ),name:iS,variableName:Ao(iS),typeName:ide,tagName:Ao(ide),propertyName:lde,attributeName:Ao(lde),className:Ao(iS),labelName:Ao(iS),namespace:Ao(iS),macroName:Ao(iS),literal:lS,string:aZ,docString:Ao(aZ),character:Ao(aZ),attributeValue:Ao(aZ),number:_re,integer:Ao(_re),float:Ao(_re),bool:Ao(lS),regexp:Ao(lS),escape:Ao(lS),color:Ao(lS),url:Ao(lS),keyword:L1,self:Ao(L1),null:Ao(L1),atom:Ao(L1),unit:Ao(L1),modifier:Ao(L1),operatorKeyword:Ao(L1),controlKeyword:Ao(L1),definitionKeyword:Ao(L1),moduleKeyword:Ao(L1),operator:I1,derefOperator:Ao(I1),arithmeticOperator:Ao(I1),logicOperator:Ao(I1),bitwiseOperator:Ao(I1),compareOperator:Ao(I1),updateOperator:Ao(I1),definitionOperator:Ao(I1),typeOperator:Ao(I1),controlOperator:Ao(I1),punctuation:bse,separator:Ao(bse),bracket:hD,angleBracket:Ao(hD),squareBracket:Ao(hD),paren:Ao(hD),brace:Ao(hD),content:N1,heading:fC,heading1:Ao(fC),heading2:Ao(fC),heading3:Ao(fC),heading4:Ao(fC),heading5:Ao(fC),heading6:Ao(fC),contentSeparator:Ao(N1),list:Ao(N1),quote:Ao(N1),emphasis:Ao(N1),strong:Ao(N1),link:Ao(N1),monospace:Ao(N1),strikethrough:Ao(N1),inserted:Ao(),deleted:Ao(),changed:Ao(),invalid:Ao(),meta:iZ,documentMeta:Ao(iZ),annotation:Ao(iZ),processingInstruction:Ao(iZ),definition:Dv.defineModifier(),constant:Dv.defineModifier(),function:Dv.defineModifier(),standard:Dv.defineModifier(),local:Dv.defineModifier(),special:Dv.defineModifier()};Kve([{tag:Qt.link,class:"tok-link"},{tag:Qt.heading,class:"tok-heading"},{tag:Qt.emphasis,class:"tok-emphasis"},{tag:Qt.strong,class:"tok-strong"},{tag:Qt.keyword,class:"tok-keyword"},{tag:Qt.atom,class:"tok-atom"},{tag:Qt.bool,class:"tok-bool"},{tag:Qt.url,class:"tok-url"},{tag:Qt.labelName,class:"tok-labelName"},{tag:Qt.inserted,class:"tok-inserted"},{tag:Qt.deleted,class:"tok-deleted"},{tag:Qt.literal,class:"tok-literal"},{tag:Qt.string,class:"tok-string"},{tag:Qt.number,class:"tok-number"},{tag:[Qt.regexp,Qt.escape,Qt.special(Qt.string)],class:"tok-string2"},{tag:Qt.variableName,class:"tok-variableName"},{tag:Qt.local(Qt.variableName),class:"tok-variableName tok-local"},{tag:Qt.definition(Qt.variableName),class:"tok-variableName tok-definition"},{tag:Qt.special(Qt.variableName),class:"tok-variableName2"},{tag:Qt.definition(Qt.propertyName),class:"tok-propertyName tok-definition"},{tag:Qt.typeName,class:"tok-typeName"},{tag:Qt.namespace,class:"tok-namespace"},{tag:Qt.className,class:"tok-className"},{tag:Qt.macroName,class:"tok-macroName"},{tag:Qt.propertyName,class:"tok-propertyName"},{tag:Qt.operator,class:"tok-operator"},{tag:Qt.comment,class:"tok-comment"},{tag:Qt.meta,class:"tok-meta"},{tag:Qt.invalid,class:"tok-invalid"},{tag:Qt.punctuation,class:"tok-punctuation"}]);var Rre;const CC=new ua;function nie(t){return ss.define({combine:t?e=>e.concat(t):void 0})}const rie=new ua;class Op{constructor(e,r,a=[],i=""){this.data=e,this.name=i,Ia.prototype.hasOwnProperty("tree")||Object.defineProperty(Ia.prototype,"tree",{get(){return rl(this)}}),this.parser=r,this.extension=[kS.of(this),Ia.languageData.of((d,f,h)=>{let u=cde(d,f,h),p=u.type.prop(CC);if(!p)return[];let v=d.facet(p),y=u.type.prop(rie);if(y){let b=u.resolve(f-u.from,h);for(let x of y)if(x.test(b,d)){let k=d.facet(x.facet);return x.type=="replace"?k:k.concat(v)}}return v})].concat(a)}isActiveAt(e,r,a=-1){return cde(e,r,a).type.prop(CC)==this.data}findRegions(e){let r=e.facet(kS);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let a=[],i=(d,f)=>{if(d.prop(CC)==this.data){a.push({from:f,to:f+d.length});return}let h=d.prop(ua.mounted);if(h){if(h.tree.prop(CC)==this.data){if(h.overlay)for(let u of h.overlay)a.push({from:u.from+f,to:u.to+f});else a.push({from:f,to:f+d.length});return}else if(h.overlay){let u=a.length;if(i(h.tree,h.overlay[0].from+f),a.length>u)return}}for(let u=0;u<d.children.length;u++){let p=d.children[u];p instanceof Fi&&i(p,d.positions[u]+f)}};return i(rl(e),0),a}get allowsNesting(){return!0}}Op.setState=pa.define();function cde(t,e,r){let a=t.facet(kS),i=rl(t).topNode;if(!a||a.allowsNesting)for(let d=i;d;d=d.enter(e,r,vl.ExcludeBuffers))d.type.isTop&&(i=d);return i}class CS extends Op{constructor(e,r,a){super(e,r,[],a),this.parser=r}static define(e){let r=nie(e.languageData);return new CS(r,e.parser.configure({props:[CC.add(a=>a.isTop?r:void 0)]}),e.name)}configure(e,r){return new CS(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function rl(t){let e=t.field(Op.state,!1);return e?e.tree:Fi.empty}class Ike{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let a=this.cursorPos-this.string.length;return e<a||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-a,r-a)}}let mD=null;class u${constructor(e,r,a=[],i,d,f,h,u){this.parser=e,this.state=r,this.fragments=a,this.tree=i,this.treeLen=d,this.viewport=f,this.skipped=h,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,r,a){return new u$(e,r,[],Fi.empty,0,a,[],null)}startParse(){return this.parser.startParse(new Ike(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Fi.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var a;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(mO.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(a=this.parse.stoppedAt)!==null&&a!==void 0?a:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(mO.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=mD;mD=this;try{return e()}finally{mD=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=ude(e,r.from,r.to);return e}changes(e,r){let{fragments:a,tree:i,treeLen:d,viewport:f,skipped:h}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((p,v,y,b)=>u.push({fromA:p,toA:v,fromB:y,toB:b})),a=mO.applyChanges(a,u),i=Fi.empty,d=0,f={from:e.mapPos(f.from,-1),to:e.mapPos(f.to,1)},this.skipped.length){h=[];for(let p of this.skipped){let v=e.mapPos(p.from,1),y=e.mapPos(p.to,-1);v<y&&h.push({from:v,to:y})}}}return new u$(this.parser,r,a,i,d,f,h,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let a=0;a<this.skipped.length;a++){let{from:i,to:d}=this.skipped[a];i<e.to&&d>e.from&&(this.fragments=ude(this.fragments,i,d),this.skipped.splice(a--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends tie{createParse(r,a,i){let d=i[0].from,f=i[i.length-1].to;return{parsedPos:d,advance(){let u=mD;if(u){for(let p of i)u.tempSkipped.push(p);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=f,new Fi(Fu.none,[],[],f-d)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return mD}}function ude(t,e,r){return mO.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class aM{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),a=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,a)||r.takeTree(),new aM(r)}static init(e){let r=Math.min(3e3,e.doc.length),a=u$.create(e.facet(kS).parser,e,{from:0,to:r});return a.work(20,r)||a.takeTree(),new aM(a)}}Op.state=xf.define({create:aM.init,update(t,e){for(let r of e.effects)if(r.is(Op.setState))return r.value;return e.startState.facet(kS)!=e.state.facet(kS)?aM.init(e.state):t.apply(e)}});let Jve=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Jve=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const Dre=typeof navigator<"u"&&(!((Rre=navigator.scheduling)===null||Rre===void 0)&&Rre.isInputPending)?()=>navigator.scheduling.isInputPending():null,Nke=eu.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Op.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Op.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=Jve(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:a,viewport:{to:i}}=this.view,d=a.field(Op.state);if(d.tree==d.context.tree&&d.context.isDone(i+1e5))return;let f=Date.now()+Math.min(this.chunkBudget,100,e&&!Dre?Math.max(25,e.timeRemaining()-5):1e9),h=d.context.treeLen<i&&a.doc.length>i+1e3,u=d.context.work(()=>Dre&&Dre()||Date.now()>f,i+(h?0:1e5));this.chunkBudget-=Date.now()-r,(u||this.chunkBudget<=0)&&(d.context.takeTree(),this.view.dispatch({effects:Op.setState.of(new aM(d.context))})),this.chunkBudget>0&&!(u&&!h)&&this.scheduleWork(),this.checkAsyncSchedule(d.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>Cp(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),kS=ss.define({combine(t){return t.length?t[0]:null},enables:t=>[Op.state,Nke,Xo.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class DC{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}class fH{constructor(e,r,a,i,d,f=void 0){this.name=e,this.alias=r,this.extensions=a,this.filename=i,this.loadFunc=d,this.support=f,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:r,support:a}=e;if(!r){if(!a)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");r=()=>Promise.resolve(a)}return new fH(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,r,a)}static matchFilename(e,r){for(let i of e)if(i.filename&&i.filename.test(r))return i;let a=/\.([^.]+)$/.exec(r);if(a){for(let i of e)if(i.extensions.indexOf(a[1])>-1)return i}return null}static matchLanguageName(e,r,a=!0){r=r.toLowerCase();for(let i of e)if(i.alias.some(d=>d==r))return i;if(a)for(let i of e)for(let d of i.alias){let f=r.indexOf(d);if(f>-1&&(d.length>2||!/\w/.test(r[f-1])&&!/\w/.test(r[f+d.length])))return i}return null}}const Bke=ss.define(),SM=ss.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function dH(t){let e=t.facet(SM);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function f$(t,e){let r="",a=t.tabSize,i=t.facet(SM)[0];if(i=="	"){for(;e>=a;)r+="	",e-=a;i=" "}for(let d=0;d<e;d++)r+=i;return r}function oie(t,e){t instanceof Ia&&(t=new pU(t));for(let a of t.state.facet(Bke)){let i=a(t,e);if(i!==void 0)return i}let r=rl(t.state);return r.length>=e?Qke(t,r,e):null}class pU{constructor(e,r={}){this.state=e,this.options=r,this.unit=dH(e)}lineAt(e,r=1){let a=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:d}=this.options;return i!=null&&i>=a.from&&i<=a.to?d&&i==e?{text:"",from:e}:(r<0?i<e:i<=e)?{text:a.text.slice(i-a.from),from:i}:{text:a.text.slice(0,i-a.from),from:a.from}:a}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:a,from:i}=this.lineAt(e,r);return a.slice(e-i,Math.min(a.length,e+100-i))}column(e,r=1){let{text:a,from:i}=this.lineAt(e,r),d=this.countColumn(a,e-i),f=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return f>-1&&(d+=f-this.countColumn(a,a.search(/\S|$/))),d}countColumn(e,r=e.length){return Fv(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:a,from:i}=this.lineAt(e,r),d=this.options.overrideIndentation;if(d){let f=d(i);if(f>-1)return f}return this.countColumn(a,a.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const BC=new ua;function Qke(t,e,r){let a=e.resolveStack(r),i=a.node.enterUnfinishedNodesBefore(r);if(i!=a.node){let d=[];for(let f=i;f!=a.node;f=f.parent)d.push(f);for(let f=d.length-1;f>=0;f--)a={node:d[f],next:a}}return e0e(a,t,r)}function e0e(t,e,r){for(let a=t;a;a=a.next){let i=Vke(a.node);if(i)return i(sie.create(e,r,a))}return 0}function Fke(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Vke(t){let e=t.type.prop(BC);if(e)return e;let r=t.firstChild,a;if(r&&(a=r.type.prop(ua.closedBy))){let i=t.lastChild,d=i&&a.indexOf(i.name)>-1;return f=>t0e(f,!0,1,void 0,d&&!Fke(f)?i.from:void 0)}return t.parent==null?zke:null}function zke(){return 0}class sie extends pU{constructor(e,r,a){super(e.state,e.options),this.base=e,this.pos=r,this.context=a}get node(){return this.context.node}static create(e,r,a){return new sie(e,r,a)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let a=e.resolve(r.from);for(;a.parent&&a.parent.from==a.from;)a=a.parent;if(Zke(a,e))break;r=this.state.doc.lineAt(a.from)}return this.lineIndent(r.from)}continue(){return e0e(this.context.next,this.base,this.pos)}}function Zke(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function Hke(t){let e=t.node,r=e.childAfter(e.from),a=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,d=t.state.doc.lineAt(r.from),f=i==null||i<=d.from?d.to:Math.min(d.to,i);for(let h=r.to;;){let u=e.childAfter(h);if(!u||u==a)return null;if(!u.type.isSkipped)return u.from<f?r:null;h=u.to}}function FZ({closing:t,align:e=!0,units:r=1}){return a=>t0e(a,e,r,t)}function t0e(t,e,r,a,i){let d=t.textAfter,f=d.match(/^\s*/)[0].length,h=a&&d.slice(f,f+a.length)==a||i==t.pos+f,u=e?Hke(t):null;return u?h?t.column(u.from):t.column(u.to):t.baseIndent+(h?0:t.unit*r)}const Uke=t=>t.baseIndent;function QD({except:t,units:e=1}={}){return r=>{let a=t&&t.test(r.textAfter);return r.baseIndent+(a?0:e*r.unit)}}const Wke=200;function Yke(){return Ia.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:a}=t.newSelection.main,i=r.lineAt(a);if(a>i.from+Wke)return t;let d=r.sliceString(i.from,a);if(!e.some(p=>p.test(d)))return t;let{state:f}=t,h=-1,u=[];for(let{head:p}of f.selection.ranges){let v=f.doc.lineAt(p);if(v.from==h)continue;h=v.from;let y=oie(f,v.from);if(y==null)continue;let b=/^\s*/.exec(v.text)[0],x=f$(f,y);b!=x&&u.push({from:v.from,to:v.from+b.length,insert:x})}return u.length?[t,{changes:u,sequential:!0}]:t})}const n0e=ss.define(),DS=new ua;function aie(t){let e=t.firstChild,r=t.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?t.to:r.from}:null}function Xke(t,e,r){let a=rl(t);if(a.length<r)return null;let i=a.resolveStack(r,1),d=null;for(let f=i;f;f=f.next){let h=f.node;if(h.to<=r||h.from>r)continue;if(d&&h.from<e)break;let u=h.type.prop(DS);if(u&&(h.to<a.length-50||a.length==t.doc.length||!Gke(h))){let p=u(h,t);p&&p.from<=r&&p.from>=e&&p.to>r&&(d=p)}}return d}function Gke(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function hH(t,e,r){for(let a of t.facet(n0e)){let i=a(t,e,r);if(i)return i}return Xke(t,e,r)}function r0e(t,e){let r=e.mapPos(t.from,1),a=e.mapPos(t.to,-1);return r>=a?void 0:{from:r,to:a}}const vU=pa.define({map:r0e}),Q$=pa.define({map:r0e});function o0e(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(a=>a.from<=r&&a.to>=r)||e.push(t.lineBlockAt(r));return e}const $C=xf.define({create(){return Bs.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)if(r.is(vU)&&!jke(t,r.value.from,r.value.to)){let{preparePlaceholder:a}=e.state.facet(iie),i=a?Bs.replace({widget:new rAe(a(e.state,r.value))}):fde;t=t.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(Q$)&&(t=t.update({filter:(a,i)=>r.value.from!=a||r.value.to!=i,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:a}=e.selection.main;t.between(a,a,(i,d)=>{i<a&&d>a&&(r=!0)}),r&&(t=t.update({filterFrom:a,filterTo:a,filter:(i,d)=>d<=a||i>=a}))}return t},provide:t=>Xo.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(a,i)=>{r.push(a,i)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let a=t[r++],i=t[r++];if(typeof a!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(fde.range(a,i))}return Bs.set(e,!0)}});function mH(t,e,r){var a;let i=null;return(a=t.field($C,!1))===null||a===void 0||a.between(e,r,(d,f)=>{(!i||i.from>d)&&(i={from:d,to:f})}),i}function jke(t,e,r){let a=!1;return t.between(e,e,(i,d)=>{i==e&&d==r&&(a=!0)}),a}function s0e(t,e){return t.field($C,!1)?e:e.concat(pa.appendConfig.of(i0e()))}const qke=t=>{for(let e of o0e(t)){let r=hH(t.state,e.from,e.to);if(r)return t.dispatch({effects:s0e(t.state,[vU.of(r),a0e(t,r)])}),!0}return!1},Kke=t=>{if(!t.state.field($C,!1))return!1;let e=[];for(let r of o0e(t)){let a=mH(t.state,r.from,r.to);a&&e.push(Q$.of(a),a0e(t,a,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function a0e(t,e,r=!0){let a=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Xo.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${a} ${t.state.phrase("to")} ${i}.`)}const Jke=t=>{let{state:e}=t,r=[];for(let a=0;a<e.doc.length;){let i=t.lineBlockAt(a),d=hH(e,i.from,i.to);d&&r.push(vU.of(d)),a=(d?t.lineBlockAt(d.to):i).to+1}return r.length&&t.dispatch({effects:s0e(t.state,r)}),!!r.length},eAe=t=>{let e=t.state.field($C,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(a,i)=>{r.push(Q$.of({from:a,to:i}))}),t.dispatch({effects:r}),!0},tAe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:qke},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Kke},{key:"Ctrl-Alt-[",run:Jke},{key:"Ctrl-Alt-]",run:eAe}],nAe={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},iie=ss.define({combine(t){return ry(t,nAe)}});function i0e(t){let e=[$C,aAe];return t&&e.push(iie.of(t)),e}function l0e(t,e){let{state:r}=t,a=r.facet(iie),i=f=>{let h=t.lineBlockAt(t.posAtDOM(f.target)),u=mH(t.state,h.from,h.to);u&&t.dispatch({effects:Q$.of(u)}),f.preventDefault()};if(a.placeholderDOM)return a.placeholderDOM(t,i,e);let d=document.createElement("span");return d.textContent=a.placeholderText,d.setAttribute("aria-label",r.phrase("folded code")),d.title=r.phrase("unfold"),d.className="cm-foldPlaceholder",d.onclick=i,d}const fde=Bs.replace({widget:new class extends oy{toDOM(t){return l0e(t,null)}}});class rAe extends oy{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return l0e(e,this.value)}}const oAe={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class $re extends xO{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function sAe(t={}){let e=Object.assign(Object.assign({},oAe),t),r=new $re(e,!0),a=new $re(e,!1),i=eu.fromClass(class{constructor(f){this.from=f.viewport.from,this.markers=this.buildMarkers(f)}update(f){(f.docChanged||f.viewportChanged||f.startState.facet(kS)!=f.state.facet(kS)||f.startState.field($C,!1)!=f.state.field($C,!1)||rl(f.startState)!=rl(f.state)||e.foldingChanged(f))&&(this.markers=this.buildMarkers(f.view))}buildMarkers(f){let h=new OS;for(let u of f.viewportLineBlocks){let p=mH(f.state,u.from,u.to)?a:hH(f.state,u.from,u.to)?r:null;p&&h.add(u.from,u.from,p)}return h.finish()}}),{domEventHandlers:d}=e;return[i,ske({class:"cm-foldGutter",markers(f){var h;return((h=f.plugin(i))===null||h===void 0?void 0:h.markers)||ji.empty},initialSpacer(){return new $re(e,!1)},domEventHandlers:Object.assign(Object.assign({},d),{click:(f,h,u)=>{if(d.click&&d.click(f,h,u))return!0;let p=mH(f.state,h.from,h.to);if(p)return f.dispatch({effects:Q$.of(p)}),!0;let v=hH(f.state,h.from,h.to);return v?(f.dispatch({effects:vU.of(v)}),!0):!1}})}),i0e()]}const aAe=Xo.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class F${constructor(e,r){this.specs=e;let a;function i(h){let u=xS.newName();return(a||(a=Object.create(null)))["."+u]=h,u}const d=typeof r.all=="string"?r.all:r.all?i(r.all):void 0,f=r.scope;this.scope=f instanceof Op?h=>h.prop(CC)==f.data:f?h=>h==f:void 0,this.style=Kve(e.map(h=>({tag:h.tag,class:h.class||i(Object.assign({},h,{tag:null}))})),{all:d}).style,this.module=a?new xS(a):null,this.themeType=r.themeType}static define(e,r){return new F$(e,r||{})}}const Ose=ss.define(),c0e=ss.define({combine(t){return t.length?[t[0]]:null}});function Lre(t){let e=t.facet(Ose);return e.length?e:t.facet(c0e)}function u0e(t,e){let r=[lAe],a;return t instanceof F$&&(t.module&&r.push(Xo.styleModule.of(t.module)),a=t.themeType),e!=null&&e.fallback?r.push(c0e.of(t)):a?r.push(Ose.computeN([Xo.darkTheme],i=>i.facet(Xo.darkTheme)==(a=="dark")?[t]:[])):r.push(Ose.of(t)),r}class iAe{constructor(e){this.markCache=Object.create(null),this.tree=rl(e.state),this.decorations=this.buildDeco(e,Lre(e.state))}update(e){let r=rl(e.state),a=Lre(e.state),i=a!=Lre(e.startState);r.length<e.view.viewport.to&&!i&&r.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(r!=this.tree||e.viewportChanged||i)&&(this.tree=r,this.decorations=this.buildDeco(e.view,a))}buildDeco(e,r){if(!r||!this.tree.length)return Bs.none;let a=new OS;for(let{from:i,to:d}of e.visibleRanges)Dke(this.tree,r,(f,h,u)=>{a.add(f,h,this.markCache[u]||(this.markCache[u]=Bs.mark({class:u})))},i,d);return a.finish()}}const lAe=Mp.high(eu.fromClass(iAe,{decorations:t=>t.decorations})),cAe=F$.define([{tag:Qt.meta,color:"#404740"},{tag:Qt.link,textDecoration:"underline"},{tag:Qt.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Qt.emphasis,fontStyle:"italic"},{tag:Qt.strong,fontWeight:"bold"},{tag:Qt.strikethrough,textDecoration:"line-through"},{tag:Qt.keyword,color:"#708"},{tag:[Qt.atom,Qt.bool,Qt.url,Qt.contentSeparator,Qt.labelName],color:"#219"},{tag:[Qt.literal,Qt.inserted],color:"#164"},{tag:[Qt.string,Qt.deleted],color:"#a11"},{tag:[Qt.regexp,Qt.escape,Qt.special(Qt.string)],color:"#e40"},{tag:Qt.definition(Qt.variableName),color:"#00f"},{tag:Qt.local(Qt.variableName),color:"#30a"},{tag:[Qt.typeName,Qt.namespace],color:"#085"},{tag:Qt.className,color:"#167"},{tag:[Qt.special(Qt.variableName),Qt.macroName],color:"#256"},{tag:Qt.definition(Qt.propertyName),color:"#00c"},{tag:Qt.comment,color:"#940"},{tag:Qt.invalid,color:"#f00"}]),uAe=Xo.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),f0e=1e4,d0e="()[]{}",h0e=ss.define({combine(t){return ry(t,{afterCursor:!0,brackets:d0e,maxScanDistance:f0e,renderMatch:hAe})}}),fAe=Bs.mark({class:"cm-matchingBracket"}),dAe=Bs.mark({class:"cm-nonmatchingBracket"});function hAe(t){let e=[],r=t.matched?fAe:dAe;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const mAe=xf.define({create(){return Bs.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],a=e.state.facet(h0e);for(let i of e.state.selection.ranges){if(!i.empty)continue;let d=W1(e.state,i.head,-1,a)||i.head>0&&W1(e.state,i.head-1,1,a)||a.afterCursor&&(W1(e.state,i.head,1,a)||i.head<e.state.doc.length&&W1(e.state,i.head+1,-1,a));d&&(r=r.concat(a.renderMatch(d,e.state)))}return Bs.set(r,!0)},provide:t=>Xo.decorations.from(t)}),gAe=[mAe,uAe];function pAe(t={}){return[h0e.of(t),gAe]}const m0e=new ua;function xse(t,e,r){let a=t.prop(e<0?ua.openedBy:ua.closedBy);if(a)return a;if(t.name.length==1){let i=r.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[r[i+e]]}return null}function Sse(t){let e=t.type.prop(m0e);return e?e(t.node):t}function W1(t,e,r,a={}){let i=a.maxScanDistance||f0e,d=a.brackets||d0e,f=rl(t),h=f.resolveInner(e,r);for(let u=h;u;u=u.parent){let p=xse(u.type,r,d);if(p&&u.from<u.to){let v=Sse(u);if(v&&(r>0?e>=v.from&&e<v.to:e>v.from&&e<=v.to))return vAe(t,e,r,u,v,p,d)}}return yAe(t,e,r,f,h.type,i,d)}function vAe(t,e,r,a,i,d,f){let h=a.parent,u={from:i.from,to:i.to},p=0,v=h==null?void 0:h.cursor();if(v&&(r<0?v.childBefore(a.from):v.childAfter(a.to)))do if(r<0?v.to<=a.from:v.from>=a.to){if(p==0&&d.indexOf(v.type.name)>-1&&v.from<v.to){let y=Sse(v);return{start:u,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}else if(xse(v.type,r,f))p++;else if(xse(v.type,-r,f)){if(p==0){let y=Sse(v);return{start:u,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}p--}}while(r<0?v.prevSibling():v.nextSibling());return{start:u,matched:!1}}function yAe(t,e,r,a,i,d,f){let h=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=f.indexOf(h);if(u<0||u%2==0!=r>0)return null;let p={from:r<0?e-1:e,to:r>0?e+1:e},v=t.doc.iterRange(e,r>0?t.doc.length:0),y=0;for(let b=0;!v.next().done&&b<=d;){let x=v.value;r<0&&(b+=x.length);let k=e+b*r;for(let C=r>0?0:x.length-1,w=r>0?x.length:-1;C!=w;C+=r){let T=f.indexOf(x[C]);if(!(T<0||a.resolveInner(k+C,1).type!=i))if(T%2==0==r>0)y++;else{if(y==1)return{start:p,end:{from:k+C,to:k+C+1},matched:T>>1==u>>1};y--}}r>0&&(b+=x.length)}return v.done?{start:p,matched:!1}:null}const bAe=Object.create(null),dde=[Fu.none],hde=[],mde=Object.create(null),OAe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])OAe[t]=xAe(bAe,e);function Ire(t,e){hde.indexOf(t)>-1||(hde.push(t),console.warn(e))}function xAe(t,e){let r=[];for(let h of e.split(" ")){let u=[];for(let p of h.split(".")){let v=t[p]||Qt[p];v?typeof v=="function"?u.length?u=u.map(v):Ire(p,`Modifier ${p} used at start of tag`):u.length?Ire(p,`Tag ${p} used as modifier`):u=Array.isArray(v)?v:[v]:Ire(p,`Unknown highlighting tag ${p}`)}for(let p of u)r.push(p)}if(!r.length)return 0;let a=e.replace(/ /g,"_"),i=a+" "+r.map(h=>h.id),d=mde[i];if(d)return d.id;let f=mde[i]=Fu.define({id:dde.length,name:a,props:[RS({[a]:r})]});return dde.push(f),f.id}const SAe=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),a=cie(t.state,r.from);return a.line?wAe(t):a.block?CAe(t):!1};function lie(t,e){return({state:r,dispatch:a})=>{if(r.readOnly)return!1;let i=t(e,r);return i?(a(r.update(i)),!0):!1}}const wAe=lie(PAe,0),TAe=lie(g0e,0),CAe=lie((t,e)=>g0e(t,e,AAe(e)),0);function cie(t,e){let r=t.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const gD=50;function kAe(t,{open:e,close:r},a,i){let d=t.sliceDoc(a-gD,a),f=t.sliceDoc(i,i+gD),h=/\s*$/.exec(d)[0].length,u=/^\s*/.exec(f)[0].length,p=d.length-h;if(d.slice(p-e.length,p)==e&&f.slice(u,u+r.length)==r)return{open:{pos:a-h,margin:h&&1},close:{pos:i+u,margin:u&&1}};let v,y;i-a<=2*gD?v=y=t.sliceDoc(a,i):(v=t.sliceDoc(a,a+gD),y=t.sliceDoc(i-gD,i));let b=/^\s*/.exec(v)[0].length,x=/\s*$/.exec(y)[0].length,k=y.length-x-r.length;return v.slice(b,b+e.length)==e&&y.slice(k,k+r.length)==r?{open:{pos:a+b+e.length,margin:/\s/.test(v.charAt(b+e.length))?1:0},close:{pos:i-x-r.length,margin:/\s/.test(y.charAt(k-1))?1:0}}:null}function AAe(t){let e=[];for(let r of t.selection.ranges){let a=t.doc.lineAt(r.from),i=r.to<=a.to?a:t.doc.lineAt(r.to),d=e.length-1;d>=0&&e[d].to>a.from?e[d].to=i.to:e.push({from:a.from+/^\s*/.exec(a.text)[0].length,to:i.to})}return e}function g0e(t,e,r=e.selection.ranges){let a=r.map(d=>cie(e,d.from).block);if(!a.every(d=>d))return null;let i=r.map((d,f)=>kAe(e,a[f],d.from,d.to));if(t!=2&&!i.every(d=>d))return{changes:e.changes(r.map((d,f)=>i[f]?[]:[{from:d.from,insert:a[f].open+" "},{from:d.to,insert:" "+a[f].close}]))};if(t!=1&&i.some(d=>d)){let d=[];for(let f=0,h;f<i.length;f++)if(h=i[f]){let u=a[f],{open:p,close:v}=h;d.push({from:p.pos-u.open.length,to:p.pos+p.margin},{from:v.pos-v.margin,to:v.pos+u.close.length})}return{changes:d}}return null}function PAe(t,e,r=e.selection.ranges){let a=[],i=-1;for(let{from:d,to:f}of r){let h=a.length,u=1e9,p=cie(e,d).line;if(p){for(let v=d;v<=f;){let y=e.doc.lineAt(v);if(y.from>i&&(d==f||f>y.from)){i=y.from;let b=/^\s*/.exec(y.text)[0].length,x=b==y.length,k=y.text.slice(b,b+p.length)==p?b:-1;b<y.text.length&&b<u&&(u=b),a.push({line:y,comment:k,token:p,indent:b,empty:x,single:!1})}v=y.to+1}if(u<1e9)for(let v=h;v<a.length;v++)a[v].indent<a[v].line.text.length&&(a[v].indent=u);a.length==h+1&&(a[h].single=!0)}}if(t!=2&&a.some(d=>d.comment<0&&(!d.empty||d.single))){let d=[];for(let{line:h,token:u,indent:p,empty:v,single:y}of a)(y||!v)&&d.push({from:h.from+p,insert:u+" "});let f=e.changes(d);return{changes:f,selection:e.selection.map(f,1)}}else if(t!=1&&a.some(d=>d.comment>=0)){let d=[];for(let{line:f,comment:h,token:u}of a)if(h>=0){let p=f.from+h,v=p+u.length;f.text[v-f.from]==" "&&v++,d.push({from:p,to:v})}return{changes:d}}return null}const wse=TO.define(),MAe=TO.define(),EAe=ss.define(),p0e=ss.define({combine(t){return ry(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(a,i)=>e(a,i)||r(a,i)})}}),v0e=xf.define({create(){return Y1.empty},update(t,e){let r=e.state.facet(p0e),a=e.annotation(wse);if(a){let u=rm.fromTransaction(e,a.selection),p=a.side,v=p==0?t.undone:t.done;return u?v=gH(v,v.length,r.minDepth,u):v=O0e(v,e.startState.selection),new Y1(p==0?a.rest:v,p==0?v:a.rest)}let i=e.annotation(MAe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Bu.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let d=rm.fromTransaction(e),f=e.annotation(Bu.time),h=e.annotation(Bu.userEvent);return d?t=t.addChanges(d,f,h,r,e):e.selection&&(t=t.addSelection(e.startState.selection,f,h,r.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Y1(t.done.map(rm.fromJSON),t.undone.map(rm.fromJSON))}});function _Ae(t={}){return[v0e,p0e.of(t),Xo.domEventHandlers({beforeinput(e,r){let a=e.inputType=="historyUndo"?y0e:e.inputType=="historyRedo"?Tse:null;return a?(e.preventDefault(),a(r)):!1}})]}function yU(t,e){return function({state:r,dispatch:a}){if(!e&&r.readOnly)return!1;let i=r.field(v0e,!1);if(!i)return!1;let d=i.pop(t,r,e);return d?(a(d),!0):!1}}const y0e=yU(0,!1),Tse=yU(1,!1),RAe=yU(0,!0),DAe=yU(1,!0);class rm{constructor(e,r,a,i,d){this.changes=e,this.effects=r,this.mapped=a,this.startSelection=i,this.selectionsAfter=d}setSelAfter(e){return new rm(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,a;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(a=this.startSelection)===null||a===void 0?void 0:a.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new rm(e.changes&&Iu.fromJSON(e.changes),[],e.mapped&&K1.fromJSON(e.mapped),e.startSelection&&Tr.fromJSON(e.startSelection),e.selectionsAfter.map(Tr.fromJSON))}static fromTransaction(e,r){let a=xp;for(let i of e.startState.facet(EAe)){let d=i(e);d.length&&(a=a.concat(d))}return!a.length&&e.changes.empty?null:new rm(e.changes.invert(e.startState.doc),a,void 0,r||e.startState.selection,xp)}static selection(e){return new rm(void 0,xp,void 0,void 0,e)}}function gH(t,e,r,a){let i=e+1>r+20?e-r-1:0,d=t.slice(i,e);return d.push(a),d}function $Ae(t,e){let r=[],a=!1;return t.iterChangedRanges((i,d)=>r.push(i,d)),e.iterChangedRanges((i,d,f,h)=>{for(let u=0;u<r.length;){let p=r[u++],v=r[u++];h>=p&&f<=v&&(a=!0)}}),a}function LAe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,a)=>r.empty!=e.ranges[a].empty).length===0}function b0e(t,e){return t.length?e.length?t.concat(e):t:e}const xp=[],IAe=200;function O0e(t,e){if(t.length){let r=t[t.length-1],a=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-IAe));return a.length&&a[a.length-1].eq(e)?t:(a.push(e),gH(t,t.length-1,1e9,r.setSelAfter(a)))}else return[rm.selection([e])]}function NAe(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function Nre(t,e){if(!t.length)return t;let r=t.length,a=xp;for(;r;){let i=BAe(t[r-1],e,a);if(i.changes&&!i.changes.empty||i.effects.length){let d=t.slice(0,r);return d[r-1]=i,d}else e=i.mapped,r--,a=i.selectionsAfter}return a.length?[rm.selection(a)]:xp}function BAe(t,e,r){let a=b0e(t.selectionsAfter.length?t.selectionsAfter.map(h=>h.map(e)):xp,r);if(!t.changes)return rm.selection(a);let i=t.changes.map(e),d=e.mapDesc(t.changes,!0),f=t.mapped?t.mapped.composeDesc(d):d;return new rm(i,pa.mapEffects(t.effects,e),f,t.startSelection.map(d),a)}const QAe=/^(input\.type|delete)($|\.)/;class Y1{constructor(e,r,a=0,i=void 0){this.done=e,this.undone=r,this.prevTime=a,this.prevUserEvent=i}isolate(){return this.prevTime?new Y1(this.done,this.undone):this}addChanges(e,r,a,i,d){let f=this.done,h=f[f.length-1];return h&&h.changes&&!h.changes.empty&&e.changes&&(!a||QAe.test(a))&&(!h.selectionsAfter.length&&r-this.prevTime<i.newGroupDelay&&i.joinToEvent(d,$Ae(h.changes,e.changes))||a=="input.type.compose")?f=gH(f,f.length-1,i.minDepth,new rm(e.changes.compose(h.changes),b0e(e.effects,h.effects),h.mapped,h.startSelection,xp)):f=gH(f,f.length,i.minDepth,e),new Y1(f,xp,r,a)}addSelection(e,r,a,i){let d=this.done.length?this.done[this.done.length-1].selectionsAfter:xp;return d.length>0&&r-this.prevTime<i&&a==this.prevUserEvent&&a&&/^select($|\.)/.test(a)&&LAe(d[d.length-1],e)?this:new Y1(O0e(this.done,e),this.undone,r,a)}addMapping(e){return new Y1(Nre(this.done,e),Nre(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,a){let i=e==0?this.done:this.undone;if(i.length==0)return null;let d=i[i.length-1],f=d.selectionsAfter[0]||r.selection;if(a&&d.selectionsAfter.length)return r.update({selection:d.selectionsAfter[d.selectionsAfter.length-1],annotations:wse.of({side:e,rest:NAe(i),selection:f}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(d.changes){let h=i.length==1?xp:i.slice(0,i.length-1);return d.mapped&&(h=Nre(h,d.mapped)),r.update({changes:d.changes,selection:d.startSelection,effects:d.effects,annotations:wse.of({side:e,rest:h,selection:f}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Y1.empty=new Y1(xp,xp);const FAe=[{key:"Mod-z",run:y0e,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Tse,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Tse,preventDefault:!0},{key:"Mod-u",run:RAe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:DAe,preventDefault:!0}];function wM(t,e){return Tr.create(t.ranges.map(e),t.mainIndex)}function sy(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Uv({state:t,dispatch:e},r){let a=wM(t.selection,r);return a.eq(t.selection)?!1:(e(sy(t,a)),!0)}function bU(t,e){return Tr.cursor(e?t.to:t.from)}function x0e(t,e){return Uv(t,r=>r.empty?t.moveByChar(r,e):bU(r,e))}function Pd(t){return t.textDirectionAt(t.state.selection.main.head)==gc.LTR}const S0e=t=>x0e(t,!Pd(t)),w0e=t=>x0e(t,Pd(t));function T0e(t,e){return Uv(t,r=>r.empty?t.moveByGroup(r,e):bU(r,e))}const VAe=t=>T0e(t,!Pd(t)),zAe=t=>T0e(t,Pd(t));function ZAe(t,e,r){if(e.type.prop(r))return!0;let a=e.to-e.from;return a&&(a>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function OU(t,e,r){let a=rl(t).resolveInner(e.head),i=r?ua.closedBy:ua.openedBy;for(let u=e.head;;){let p=r?a.childAfter(u):a.childBefore(u);if(!p)break;ZAe(t,p,i)?a=p:u=r?p.to:p.from}let d=a.type.prop(i),f,h;return d&&(f=r?W1(t,a.from,1):W1(t,a.to,-1))&&f.matched?h=r?f.end.to:f.end.from:h=r?a.to:a.from,Tr.cursor(h,r?-1:1)}const HAe=t=>Uv(t,e=>OU(t.state,e,!Pd(t))),UAe=t=>Uv(t,e=>OU(t.state,e,Pd(t)));function C0e(t,e){return Uv(t,r=>{if(!r.empty)return bU(r,e);let a=t.moveVertically(r,e);return a.head!=r.head?a:t.moveToLineBoundary(r,e)})}const k0e=t=>C0e(t,!1),A0e=t=>C0e(t,!0);function P0e(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,a=0,i;if(e){for(let d of t.state.facet(Xo.scrollMargins)){let f=d(t);f!=null&&f.top&&(r=Math.max(f==null?void 0:f.top,r)),f!=null&&f.bottom&&(a=Math.max(f==null?void 0:f.bottom,a))}i=t.scrollDOM.clientHeight-r-a}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:a,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function M0e(t,e){let r=P0e(t),{state:a}=t,i=wM(a.selection,f=>f.empty?t.moveVertically(f,e,r.height):bU(f,e));if(i.eq(a.selection))return!1;let d;if(r.selfScroll){let f=t.coordsAtPos(a.selection.main.head),h=t.scrollDOM.getBoundingClientRect(),u=h.top+r.marginTop,p=h.bottom-r.marginBottom;f&&f.top>u&&f.bottom<p&&(d=Xo.scrollIntoView(i.main.head,{y:"start",yMargin:f.top-u}))}return t.dispatch(sy(a,i),{effects:d}),!0}const gde=t=>M0e(t,!1),Cse=t=>M0e(t,!0);function $S(t,e,r){let a=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?a.to:a.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==a.from&&a.length){let d=/^\s*/.exec(t.state.sliceDoc(a.from,Math.min(a.from+100,a.to)))[0].length;d&&e.head!=a.from+d&&(i=Tr.cursor(a.from+d))}return i}const WAe=t=>Uv(t,e=>$S(t,e,!0)),YAe=t=>Uv(t,e=>$S(t,e,!1)),XAe=t=>Uv(t,e=>$S(t,e,!Pd(t))),GAe=t=>Uv(t,e=>$S(t,e,Pd(t))),jAe=t=>Uv(t,e=>Tr.cursor(t.lineBlockAt(e.head).from,1)),qAe=t=>Uv(t,e=>Tr.cursor(t.lineBlockAt(e.head).to,-1));function KAe(t,e,r){let a=!1,i=wM(t.selection,d=>{let f=W1(t,d.head,-1)||W1(t,d.head,1)||d.head>0&&W1(t,d.head-1,1)||d.head<t.doc.length&&W1(t,d.head+1,-1);if(!f||!f.end)return d;a=!0;let h=f.start.from==d.head?f.end.to:f.end.from;return r?Tr.range(d.anchor,h):Tr.cursor(h)});return a?(e(sy(t,i)),!0):!1}const JAe=({state:t,dispatch:e})=>KAe(t,e,!1);function Rp(t,e){let r=wM(t.state.selection,a=>{let i=e(a);return Tr.range(a.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(sy(t.state,r)),!0)}function E0e(t,e){return Rp(t,r=>t.moveByChar(r,e))}const _0e=t=>E0e(t,!Pd(t)),R0e=t=>E0e(t,Pd(t));function D0e(t,e){return Rp(t,r=>t.moveByGroup(r,e))}const e5e=t=>D0e(t,!Pd(t)),t5e=t=>D0e(t,Pd(t)),n5e=t=>Rp(t,e=>OU(t.state,e,!Pd(t))),r5e=t=>Rp(t,e=>OU(t.state,e,Pd(t)));function $0e(t,e){return Rp(t,r=>t.moveVertically(r,e))}const L0e=t=>$0e(t,!1),I0e=t=>$0e(t,!0);function N0e(t,e){return Rp(t,r=>t.moveVertically(r,e,P0e(t).height))}const pde=t=>N0e(t,!1),vde=t=>N0e(t,!0),o5e=t=>Rp(t,e=>$S(t,e,!0)),s5e=t=>Rp(t,e=>$S(t,e,!1)),a5e=t=>Rp(t,e=>$S(t,e,!Pd(t))),i5e=t=>Rp(t,e=>$S(t,e,Pd(t))),l5e=t=>Rp(t,e=>Tr.cursor(t.lineBlockAt(e.head).from)),c5e=t=>Rp(t,e=>Tr.cursor(t.lineBlockAt(e.head).to)),yde=({state:t,dispatch:e})=>(e(sy(t,{anchor:0})),!0),bde=({state:t,dispatch:e})=>(e(sy(t,{anchor:t.doc.length})),!0),Ode=({state:t,dispatch:e})=>(e(sy(t,{anchor:t.selection.main.anchor,head:0})),!0),xde=({state:t,dispatch:e})=>(e(sy(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),u5e=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),f5e=({state:t,dispatch:e})=>{let r=xU(t).map(({from:a,to:i})=>Tr.range(a,Math.min(i+1,t.doc.length)));return e(t.update({selection:Tr.create(r),userEvent:"select"})),!0},d5e=({state:t,dispatch:e})=>{let r=wM(t.selection,a=>{var i;let d=rl(t).resolveStack(a.from,1);for(let f=d;f;f=f.next){let{node:h}=f;if((h.from<a.from&&h.to>=a.to||h.to>a.to&&h.from<=a.from)&&(!((i=h.parent)===null||i===void 0)&&i.parent))return Tr.range(h.to,h.from)}return a});return e(sy(t,r)),!0},h5e=({state:t,dispatch:e})=>{let r=t.selection,a=null;return r.ranges.length>1?a=Tr.create([r.main]):r.main.empty||(a=Tr.create([Tr.cursor(r.main.head)])),a?(e(sy(t,a)),!0):!1};function V$(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:a}=t,i=a.changeByRange(d=>{let{from:f,to:h}=d;if(f==h){let u=e(d);u<f?(r="delete.backward",u=lZ(t,u,!1)):u>f&&(r="delete.forward",u=lZ(t,u,!0)),f=Math.min(f,u),h=Math.max(h,u)}else f=lZ(t,f,!1),h=lZ(t,h,!0);return f==h?{range:d}:{changes:{from:f,to:h},range:Tr.cursor(f,f<d.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(a.update(i,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?Xo.announce.of(a.phrase("Selection deleted")):void 0})),!0)}function lZ(t,e,r){if(t instanceof Xo)for(let a of t.state.facet(Xo.atomicRanges).map(i=>i(t)))a.between(e,e,(i,d)=>{i<e&&d>e&&(e=r?d:i)});return e}const B0e=(t,e)=>V$(t,r=>{let a=r.from,{state:i}=t,d=i.doc.lineAt(a),f,h;if(!e&&a>d.from&&a<d.from+200&&!/[^ \t]/.test(f=d.text.slice(0,a-d.from))){if(f[f.length-1]=="	")return a-1;let u=Fv(f,i.tabSize),p=u%dH(i)||dH(i);for(let v=0;v<p&&f[f.length-1-v]==" ";v++)a--;h=a}else h=Xf(d.text,a-d.from,e,e)+d.from,h==a&&d.number!=(e?i.doc.lines:1)?h+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(d.text.slice(h-d.from,a-d.from))&&(h=Xf(d.text,h-d.from,!1,!1)+d.from);return h}),kse=t=>B0e(t,!1),Q0e=t=>B0e(t,!0),F0e=(t,e)=>V$(t,r=>{let a=r.head,{state:i}=t,d=i.doc.lineAt(a),f=i.charCategorizer(a);for(let h=null;;){if(a==(e?d.to:d.from)){a==r.head&&d.number!=(e?i.doc.lines:1)&&(a+=e?1:-1);break}let u=Xf(d.text,a-d.from,e)+d.from,p=d.text.slice(Math.min(a,u)-d.from,Math.max(a,u)-d.from),v=f(p);if(h!=null&&v!=h)break;(p!=" "||a!=r.head)&&(h=v),a=u}return a}),V0e=t=>F0e(t,!1),m5e=t=>F0e(t,!0),g5e=t=>V$(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),p5e=t=>V$(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),v5e=t=>V$(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),y5e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:Oi.of(["",""])},range:Tr.cursor(a.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},b5e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(a=>{if(!a.empty||a.from==0||a.from==t.doc.length)return{range:a};let i=a.from,d=t.doc.lineAt(i),f=i==d.from?i-1:Xf(d.text,i-d.from,!1)+d.from,h=i==d.to?i+1:Xf(d.text,i-d.from,!0)+d.from;return{changes:{from:f,to:h,insert:t.doc.slice(i,h).append(t.doc.slice(f,i))},range:Tr.cursor(h)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function xU(t){let e=[],r=-1;for(let a of t.selection.ranges){let i=t.doc.lineAt(a.from),d=t.doc.lineAt(a.to);if(!a.empty&&a.to==d.from&&(d=t.doc.lineAt(a.to-1)),r>=i.number){let f=e[e.length-1];f.to=d.to,f.ranges.push(a)}else e.push({from:i.from,to:d.to,ranges:[a]});r=d.number+1}return e}function z0e(t,e,r){if(t.readOnly)return!1;let a=[],i=[];for(let d of xU(t)){if(r?d.to==t.doc.length:d.from==0)continue;let f=t.doc.lineAt(r?d.to+1:d.from-1),h=f.length+1;if(r){a.push({from:d.to,to:f.to},{from:d.from,insert:f.text+t.lineBreak});for(let u of d.ranges)i.push(Tr.range(Math.min(t.doc.length,u.anchor+h),Math.min(t.doc.length,u.head+h)))}else{a.push({from:f.from,to:d.from},{from:d.to,insert:t.lineBreak+f.text});for(let u of d.ranges)i.push(Tr.range(u.anchor-h,u.head-h))}}return a.length?(e(t.update({changes:a,scrollIntoView:!0,selection:Tr.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const O5e=({state:t,dispatch:e})=>z0e(t,e,!1),x5e=({state:t,dispatch:e})=>z0e(t,e,!0);function Z0e(t,e,r){if(t.readOnly)return!1;let a=[];for(let i of xU(t))r?a.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):a.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:a,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const S5e=({state:t,dispatch:e})=>Z0e(t,e,!1),w5e=({state:t,dispatch:e})=>Z0e(t,e,!0),T5e=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(xU(e).map(({from:i,to:d})=>(i>0?i--:d<e.doc.length&&d++,{from:i,to:d}))),a=wM(e.selection,i=>t.moveVertically(i,!0)).map(r);return t.dispatch({changes:r,selection:a,scrollIntoView:!0,userEvent:"delete.line"}),!0};function C5e(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=rl(t).resolveInner(e),a=r.childBefore(e),i=r.childAfter(e),d;return a&&i&&a.to<=e&&i.from>=e&&(d=a.type.prop(ua.closedBy))&&d.indexOf(i.name)>-1&&t.doc.lineAt(a.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(a.to,i.from))?{from:a.to,to:i.from}:null}const k5e=H0e(!1),A5e=H0e(!0);function H0e(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let a=e.changeByRange(i=>{let{from:d,to:f}=i,h=e.doc.lineAt(d),u=!t&&d==f&&C5e(e,d);t&&(d=f=(f<=h.to?h:e.doc.lineAt(f)).to);let p=new pU(e,{simulateBreak:d,simulateDoubleBreak:!!u}),v=oie(p,d);for(v==null&&(v=Fv(/^\s*/.exec(e.doc.lineAt(d).text)[0],e.tabSize));f<h.to&&/\s/.test(h.text[f-h.from]);)f++;u?{from:d,to:f}=u:d>h.from&&d<h.from+100&&!/\S/.test(h.text.slice(0,d))&&(d=h.from);let y=["",f$(e,v)];return u&&y.push(f$(e,p.lineIndent(h.from,-1))),{changes:{from:d,to:f,insert:Oi.of(y)},range:Tr.cursor(d+1+y[1].length)}});return r(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0}}function uie(t,e){let r=-1;return t.changeByRange(a=>{let i=[];for(let f=a.from;f<=a.to;){let h=t.doc.lineAt(f);h.number>r&&(a.empty||a.to>h.from)&&(e(h,i,a),r=h.number),f=h.to+1}let d=t.changes(i);return{changes:i,range:Tr.range(d.mapPos(a.anchor,1),d.mapPos(a.head,1))}})}const P5e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),a=new pU(t,{overrideIndentation:d=>{let f=r[d];return f??-1}}),i=uie(t,(d,f,h)=>{let u=oie(a,d.from);if(u==null)return;/\S/.test(d.text)||(u=0);let p=/^\s*/.exec(d.text)[0],v=f$(t,u);(p!=v||h.from<d.from+p.length)&&(r[d.from]=u,f.push({from:d.from,to:d.from+p.length,insert:v}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},U0e=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(uie(t,(r,a)=>{a.push({from:r.from,insert:t.facet(SM)})}),{userEvent:"input.indent"})),!0),W0e=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(uie(t,(r,a)=>{let i=/^\s*/.exec(r.text)[0];if(!i)return;let d=Fv(i,t.tabSize),f=0,h=f$(t,Math.max(0,d-dH(t)));for(;f<i.length&&f<h.length&&i.charCodeAt(f)==h.charCodeAt(f);)f++;a.push({from:r.from+f,to:r.from+i.length,insert:h.slice(f)})}),{userEvent:"delete.dedent"})),!0),M5e=[{key:"Ctrl-b",run:S0e,shift:_0e,preventDefault:!0},{key:"Ctrl-f",run:w0e,shift:R0e},{key:"Ctrl-p",run:k0e,shift:L0e},{key:"Ctrl-n",run:A0e,shift:I0e},{key:"Ctrl-a",run:jAe,shift:l5e},{key:"Ctrl-e",run:qAe,shift:c5e},{key:"Ctrl-d",run:Q0e},{key:"Ctrl-h",run:kse},{key:"Ctrl-k",run:g5e},{key:"Ctrl-Alt-h",run:V0e},{key:"Ctrl-o",run:y5e},{key:"Ctrl-t",run:b5e},{key:"Ctrl-v",run:Cse}],E5e=[{key:"ArrowLeft",run:S0e,shift:_0e,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:VAe,shift:e5e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:XAe,shift:a5e,preventDefault:!0},{key:"ArrowRight",run:w0e,shift:R0e,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:zAe,shift:t5e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:GAe,shift:i5e,preventDefault:!0},{key:"ArrowUp",run:k0e,shift:L0e,preventDefault:!0},{mac:"Cmd-ArrowUp",run:yde,shift:Ode},{mac:"Ctrl-ArrowUp",run:gde,shift:pde},{key:"ArrowDown",run:A0e,shift:I0e,preventDefault:!0},{mac:"Cmd-ArrowDown",run:bde,shift:xde},{mac:"Ctrl-ArrowDown",run:Cse,shift:vde},{key:"PageUp",run:gde,shift:pde},{key:"PageDown",run:Cse,shift:vde},{key:"Home",run:YAe,shift:s5e,preventDefault:!0},{key:"Mod-Home",run:yde,shift:Ode},{key:"End",run:WAe,shift:o5e,preventDefault:!0},{key:"Mod-End",run:bde,shift:xde},{key:"Enter",run:k5e},{key:"Mod-a",run:u5e},{key:"Backspace",run:kse,shift:kse},{key:"Delete",run:Q0e},{key:"Mod-Backspace",mac:"Alt-Backspace",run:V0e},{key:"Mod-Delete",mac:"Alt-Delete",run:m5e},{mac:"Mod-Backspace",run:p5e},{mac:"Mod-Delete",run:v5e}].concat(M5e.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),_5e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:HAe,shift:n5e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:UAe,shift:r5e},{key:"Alt-ArrowUp",run:O5e},{key:"Shift-Alt-ArrowUp",run:S5e},{key:"Alt-ArrowDown",run:x5e},{key:"Shift-Alt-ArrowDown",run:w5e},{key:"Escape",run:h5e},{key:"Mod-Enter",run:A5e},{key:"Alt-l",mac:"Ctrl-l",run:f5e},{key:"Mod-i",run:d5e,preventDefault:!0},{key:"Mod-[",run:W0e},{key:"Mod-]",run:U0e},{key:"Mod-Alt-\\",run:P5e},{key:"Shift-Mod-k",run:T5e},{key:"Shift-Mod-\\",run:JAe},{key:"Mod-/",run:SAe},{key:"Alt-A",run:TAe}].concat(E5e),R5e={key:"Tab",run:U0e,shift:W0e};function wl(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var i=r[a];typeof i=="string"?t.setAttribute(a,i):i!=null&&(t[a]=i)}e++}for(;e<arguments.length;e++)Y0e(t,arguments[e]);return t}function Y0e(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)Y0e(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}const Sde=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class iM{constructor(e,r,a=0,i=e.length,d,f){this.test=f,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(a,i),this.bufferStart=a,this.normalize=d?h=>d(Sde(h)):Sde,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Uf(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=Fae(e),a=this.bufferStart+this.bufferPos;this.bufferPos+=vp(e);let i=this.normalize(r);for(let d=0,f=a;;d++){let h=i.charCodeAt(d),u=this.match(h,f);if(d==i.length-1){if(u)return this.value=u,this;break}f==a&&d<r.length&&r.charCodeAt(d)==h&&f++}}}match(e,r){let a=null;for(let i=0;i<this.matches.length;i+=2){let d=this.matches[i],f=!1;this.query.charCodeAt(d)==e&&(d==this.query.length-1?a={from:this.matches[i+1],to:r+1}:(this.matches[i]++,f=!0)),f||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:r,to:r+1}:this.matches.push(1,r)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(iM.prototype[Symbol.iterator]=function(){return this});const X0e={from:-1,to:-1,match:/.*/.exec("")},fie="gm"+(/x/.unicode==null?"":"u");class G0e{constructor(e,r,a,i=0,d=e.length){if(this.text=e,this.to=d,this.curLine="",this.done=!1,this.value=X0e,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new j0e(e,r,a,i,d);this.re=new RegExp(r,fie+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.iter=e.iter();let f=e.lineAt(i);this.curLineStart=f.from,this.matchPos=pH(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let a=this.curLineStart+r.index,i=a+r[0].length;if(this.matchPos=pH(this.text,i+(a==i?1:0)),a==this.curLineStart+this.curLine.length&&this.nextLine(),(a<i||a>this.value.to)&&(!this.test||this.test(a,i,r)))return this.value={from:a,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Bre=new WeakMap;class jP{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,a){let i=Bre.get(e);if(!i||i.from>=a||i.to<=r){let h=new jP(r,e.sliceString(r,a));return Bre.set(e,h),h}if(i.from==r&&i.to==a)return i;let{text:d,from:f}=i;return f>r&&(d=e.sliceString(r,f)+d,f=r),i.to<a&&(d+=e.sliceString(i.to,a)),Bre.set(e,new jP(f,d)),new jP(r,d.slice(r-f,a-f))}}class j0e{constructor(e,r,a,i,d){this.text=e,this.to=d,this.done=!1,this.value=X0e,this.matchPos=pH(e,i),this.re=new RegExp(r,fie+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.flat=jP.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let a=this.flat.from+r.index,i=a+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(a,i,r)))return this.value={from:a,to:i,match:r},this.matchPos=pH(this.text,i+(a==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=jP.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(G0e.prototype[Symbol.iterator]=j0e.prototype[Symbol.iterator]=function(){return this});function D5e(t){try{return new RegExp(t,fie),!0}catch{return!1}}function pH(t,e){if(e>=t.length)return e;let r=t.lineAt(e),a;for(;e<r.to&&(a=r.text.charCodeAt(e-r.from))>=56320&&a<57344;)e++;return e}function Ase(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=wl("input",{class:"cm-textfield",name:"line",value:e}),a=wl("form",{class:"cm-gotoLine",onkeydown:d=>{d.keyCode==27?(d.preventDefault(),t.dispatch({effects:vH.of(!1)}),t.focus()):d.keyCode==13&&(d.preventDefault(),i())},onsubmit:d=>{d.preventDefault(),i()}},wl("label",t.state.phrase("Go to line"),": ",r)," ",wl("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let d=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!d)return;let{state:f}=t,h=f.doc.lineAt(f.selection.main.head),[,u,p,v,y]=d,b=v?+v.slice(1):0,x=p?+p:h.number;if(p&&y){let w=x/100;u&&(w=w*(u=="-"?-1:1)+h.number/f.doc.lines),x=Math.round(f.doc.lines*w)}else p&&u&&(x=x*(u=="-"?-1:1)+h.number);let k=f.doc.line(Math.max(1,Math.min(f.doc.lines,x))),C=Tr.cursor(k.from+Math.max(0,Math.min(b,k.length)));t.dispatch({effects:[vH.of(!1),Xo.scrollIntoView(C.from,{y:"center"})],selection:C}),t.focus()}return{dom:a}}const vH=pa.define(),wde=xf.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(vH)&&(t=r.value);return t},provide:t=>i$.from(t,e=>e?Ase:null)}),$5e=t=>{let e=a$(t,Ase);if(!e){let r=[vH.of(!0)];t.state.field(wde,!1)==null&&r.push(pa.appendConfig.of([wde,L5e])),t.dispatch({effects:r}),e=a$(t,Ase)}return e&&e.dom.querySelector("input").select(),!0},L5e=Xo.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),I5e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},q0e=ss.define({combine(t){return ry(t,I5e,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function N5e(t){let e=[z5e,V5e];return t&&e.push(q0e.of(t)),e}const B5e=Bs.mark({class:"cm-selectionMatch"}),Q5e=Bs.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Tde(t,e,r,a){return(r==0||t(e.sliceDoc(r-1,r))!=Jl.Word)&&(a==e.doc.length||t(e.sliceDoc(a,a+1))!=Jl.Word)}function F5e(t,e,r,a){return t(e.sliceDoc(r,r+1))==Jl.Word&&t(e.sliceDoc(a-1,a))==Jl.Word}const V5e=eu.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(q0e),{state:r}=t,a=r.selection;if(a.ranges.length>1)return Bs.none;let i=a.main,d,f=null;if(i.empty){if(!e.highlightWordAroundCursor)return Bs.none;let u=r.wordAt(i.head);if(!u)return Bs.none;f=r.charCategorizer(i.head),d=r.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return Bs.none;if(e.wholeWords){if(d=r.sliceDoc(i.from,i.to),f=r.charCategorizer(i.head),!(Tde(f,r,i.from,i.to)&&F5e(f,r,i.from,i.to)))return Bs.none}else if(d=r.sliceDoc(i.from,i.to).trim(),!d)return Bs.none}let h=[];for(let u of t.visibleRanges){let p=new iM(r.doc,d,u.from,u.to);for(;!p.next().done;){let{from:v,to:y}=p.value;if((!f||Tde(f,r,v,y))&&(i.empty&&v<=i.from&&y>=i.to?h.push(Q5e.range(v,y)):(v>=i.to||y<=i.from)&&h.push(B5e.range(v,y)),h.length>e.maxMatches))return Bs.none}}return Bs.set(h)}},{decorations:t=>t.decorations}),z5e=Xo.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Z5e=({state:t,dispatch:e})=>{let{selection:r}=t,a=Tr.create(r.ranges.map(i=>t.wordAt(i.head)||Tr.cursor(i.head)),r.mainIndex);return a.eq(r)?!1:(e(t.update({selection:a})),!0)};function H5e(t,e){let{main:r,ranges:a}=t.selection,i=t.wordAt(r.head),d=i&&i.from==r.from&&i.to==r.to;for(let f=!1,h=new iM(t.doc,e,a[a.length-1].to);;)if(h.next(),h.done){if(f)return null;h=new iM(t.doc,e,0,Math.max(0,a[a.length-1].from-1)),f=!0}else{if(f&&a.some(u=>u.from==h.value.from))continue;if(d){let u=t.wordAt(h.value.from);if(!u||u.from!=h.value.from||u.to!=h.value.to)continue}return h.value}}const U5e=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(d=>d.from===d.to))return Z5e({state:t,dispatch:e});let a=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(d=>t.sliceDoc(d.from,d.to)!=a))return!1;let i=H5e(t,a);return i?(e(t.update({selection:t.selection.addRange(Tr.range(i.from,i.to),!1),effects:Xo.scrollIntoView(i.to)})),!0):!1},TM=ss.define({combine(t){return ry(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new r4e(e),scrollToMatch:e=>Xo.scrollIntoView(e)})}});class K0e{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||D5e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,a)=>a=="n"?`
`:a=="r"?"\r":a=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new G5e(this):new Y5e(this)}getCursor(e,r=0,a){let i=e.doc?e:Ia.create({doc:e});return a==null&&(a=i.doc.length),this.regexp?NP(this,i,r,a):IP(this,i,r,a)}}class J0e{constructor(e){this.spec=e}}function IP(t,e,r,a){return new iM(e.doc,t.unquoted,r,a,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?W5e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function W5e(t,e){return(r,a,i,d)=>((d>r||d+i.length<a)&&(d=Math.max(0,r-2),i=t.sliceString(d,Math.min(t.length,a+2))),(e(yH(i,r-d))!=Jl.Word||e(bH(i,r-d))!=Jl.Word)&&(e(bH(i,a-d))!=Jl.Word||e(yH(i,a-d))!=Jl.Word))}class Y5e extends J0e{constructor(e){super(e)}nextMatch(e,r,a){let i=IP(this.spec,e,a,e.doc.length).nextOverlapping();return i.done&&(i=IP(this.spec,e,0,r).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,r,a){for(let i=a;;){let d=Math.max(r,i-1e4-this.spec.unquoted.length),f=IP(this.spec,e,d,i),h=null;for(;!f.nextOverlapping().done;)h=f.value;if(h)return h;if(d==r)return null;i-=1e4}}prevMatch(e,r,a){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,a,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let a=IP(this.spec,e,0,e.doc.length),i=[];for(;!a.next().done;){if(i.length>=r)return null;i.push(a.value)}return i}highlight(e,r,a,i){let d=IP(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(a+this.spec.unquoted.length,e.doc.length));for(;!d.next().done;)i(d.value.from,d.value.to)}}function NP(t,e,r,a){return new G0e(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?X5e(e.charCategorizer(e.selection.main.head)):void 0},r,a)}function yH(t,e){return t.slice(Xf(t,e,!1),e)}function bH(t,e){return t.slice(e,Xf(t,e))}function X5e(t){return(e,r,a)=>!a[0].length||(t(yH(a.input,a.index))!=Jl.Word||t(bH(a.input,a.index))!=Jl.Word)&&(t(bH(a.input,a.index+a[0].length))!=Jl.Word||t(yH(a.input,a.index+a[0].length))!=Jl.Word)}class G5e extends J0e{nextMatch(e,r,a){let i=NP(this.spec,e,a,e.doc.length).next();return i.done&&(i=NP(this.spec,e,0,r).next()),i.done?null:i.value}prevMatchInRange(e,r,a){for(let i=1;;i++){let d=Math.max(r,a-i*1e4),f=NP(this.spec,e,d,a),h=null;for(;!f.next().done;)h=f.value;if(h&&(d==r||h.from>d+10))return h;if(d==r)return null}}prevMatch(e,r,a){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,a,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(r,a)=>a=="$"?"$":a=="&"?e.match[0]:a!="0"&&+a<e.match.length?e.match[a]:r)}matchAll(e,r){let a=NP(this.spec,e,0,e.doc.length),i=[];for(;!a.next().done;){if(i.length>=r)return null;i.push(a.value)}return i}highlight(e,r,a,i){let d=NP(this.spec,e,Math.max(0,r-250),Math.min(a+250,e.doc.length));for(;!d.next().done;)i(d.value.from,d.value.to)}}const d$=pa.define(),die=pa.define(),vS=xf.define({create(t){return new Qre(Pse(t).create(),null)},update(t,e){for(let r of e.effects)r.is(d$)?t=new Qre(r.value.create(),t.panel):r.is(die)&&(t=new Qre(t.query,r.value?hie:null));return t},provide:t=>i$.from(t,e=>e.panel)});class Qre{constructor(e,r){this.query=e,this.panel=r}}const j5e=Bs.mark({class:"cm-searchMatch"}),q5e=Bs.mark({class:"cm-searchMatch cm-searchMatch-selected"}),K5e=eu.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(vS))}update(t){let e=t.state.field(vS);(e!=t.startState.field(vS)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Bs.none;let{view:r}=this,a=new OS;for(let i=0,d=r.visibleRanges,f=d.length;i<f;i++){let{from:h,to:u}=d[i];for(;i<f-1&&u>d[i+1].from-2*250;)u=d[++i].to;t.highlight(r.state,h,u,(p,v)=>{let y=r.state.selection.ranges.some(b=>b.from==p&&b.to==v);a.add(p,v,y?q5e:j5e)})}return a.finish()}},{decorations:t=>t.decorations});function z$(t){return e=>{let r=e.state.field(vS,!1);return r&&r.query.spec.valid?t(e,r):n1e(e)}}const OH=z$((t,{query:e})=>{let{to:r}=t.state.selection.main,a=e.nextMatch(t.state,r,r);if(!a)return!1;let i=Tr.single(a.from,a.to),d=t.state.facet(TM);return t.dispatch({selection:i,effects:[mie(t,a),d.scrollToMatch(i.main,t)],userEvent:"select.search"}),t1e(t),!0}),xH=z$((t,{query:e})=>{let{state:r}=t,{from:a}=r.selection.main,i=e.prevMatch(r,a,a);if(!i)return!1;let d=Tr.single(i.from,i.to),f=t.state.facet(TM);return t.dispatch({selection:d,effects:[mie(t,i),f.scrollToMatch(d.main,t)],userEvent:"select.search"}),t1e(t),!0}),J5e=z$((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:Tr.create(r.map(a=>Tr.range(a.from,a.to))),userEvent:"select.search.matches"}),!0)}),e4e=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:a,to:i}=r.main,d=[],f=0;for(let h=new iM(t.doc,t.sliceDoc(a,i));!h.next().done;){if(d.length>1e3)return!1;h.value.from==a&&(f=d.length),d.push(Tr.range(h.value.from,h.value.to))}return e(t.update({selection:Tr.create(d,f),userEvent:"select.search.matches"})),!0},Cde=z$((t,{query:e})=>{let{state:r}=t,{from:a,to:i}=r.selection.main;if(r.readOnly)return!1;let d=e.nextMatch(r,a,a);if(!d)return!1;let f=[],h,u,p=[];if(d.from==a&&d.to==i&&(u=r.toText(e.getReplacement(d)),f.push({from:d.from,to:d.to,insert:u}),d=e.nextMatch(r,d.from,d.to),p.push(Xo.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(a).number)+"."))),d){let v=f.length==0||f[0].from>=d.to?0:d.to-d.from-u.length;h=Tr.single(d.from-v,d.to-v),p.push(mie(t,d)),p.push(r.facet(TM).scrollToMatch(h.main,t))}return t.dispatch({changes:f,selection:h,effects:p,userEvent:"input.replace"}),!0}),t4e=z$((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(i=>{let{from:d,to:f}=i;return{from:d,to:f,insert:e.getReplacement(i)}});if(!r.length)return!1;let a=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:Xo.announce.of(a),userEvent:"input.replace.all"}),!0});function hie(t){return t.state.facet(TM).createPanel(t)}function Pse(t,e){var r,a,i,d,f;let h=t.selection.main,u=h.empty||h.to>h.from+100?"":t.sliceDoc(h.from,h.to);if(e&&!u)return e;let p=t.facet(TM);return new K0e({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:p.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(a=e==null?void 0:e.caseSensitive)!==null&&a!==void 0?a:p.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:p.literal,regexp:(d=e==null?void 0:e.regexp)!==null&&d!==void 0?d:p.regexp,wholeWord:(f=e==null?void 0:e.wholeWord)!==null&&f!==void 0?f:p.wholeWord})}function e1e(t){let e=a$(t,hie);return e&&e.dom.querySelector("[main-field]")}function t1e(t){let e=e1e(t);e&&e==t.root.activeElement&&e.select()}const n1e=t=>{let e=t.state.field(vS,!1);if(e&&e.panel){let r=e1e(t);if(r&&r!=t.root.activeElement){let a=Pse(t.state,e.query.spec);a.valid&&t.dispatch({effects:d$.of(a)}),r.focus(),r.select()}}else t.dispatch({effects:[die.of(!0),e?d$.of(Pse(t.state,e.query.spec)):pa.appendConfig.of(s4e)]});return!0},r1e=t=>{let e=t.state.field(vS,!1);if(!e||!e.panel)return!1;let r=a$(t,hie);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:die.of(!1)}),!0},n4e=[{key:"Mod-f",run:n1e,scope:"editor search-panel"},{key:"F3",run:OH,shift:xH,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:OH,shift:xH,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:r1e,scope:"editor search-panel"},{key:"Mod-Shift-l",run:e4e},{key:"Mod-Alt-g",run:$5e},{key:"Mod-d",run:U5e,preventDefault:!0}];class r4e{constructor(e){this.view=e;let r=this.query=e.state.field(vS).query.spec;this.commit=this.commit.bind(this),this.searchField=wl("input",{value:r.search,placeholder:Jm(e,"Find"),"aria-label":Jm(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=wl("input",{value:r.replace,placeholder:Jm(e,"Replace"),"aria-label":Jm(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=wl("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=wl("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=wl("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function a(i,d,f){return wl("button",{class:"cm-button",name:i,onclick:d,type:"button"},f)}this.dom=wl("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,a("next",()=>OH(e),[Jm(e,"next")]),a("prev",()=>xH(e),[Jm(e,"previous")]),a("select",()=>J5e(e),[Jm(e,"all")]),wl("label",null,[this.caseField,Jm(e,"match case")]),wl("label",null,[this.reField,Jm(e,"regexp")]),wl("label",null,[this.wordField,Jm(e,"by word")]),...e.state.readOnly?[]:[wl("br"),this.replaceField,a("replace",()=>Cde(e),[Jm(e,"replace")]),a("replaceAll",()=>t4e(e),[Jm(e,"replace all")])],wl("button",{name:"close",onclick:()=>r1e(e),"aria-label":Jm(e,"close"),type:"button"},["×"])])}commit(){let e=new K0e({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:d$.of(e)}))}keydown(e){mCe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?xH:OH)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Cde(this.view))}update(e){for(let r of e.transactions)for(let a of r.effects)a.is(d$)&&!a.value.eq(this.query)&&this.setQuery(a.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(TM).top}}function Jm(t,e){return t.state.phrase(e)}const cZ=30,uZ=/[\s\.,:;?!]/;function mie(t,{from:e,to:r}){let a=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,d=Math.max(a.from,e-cZ),f=Math.min(i,r+cZ),h=t.state.sliceDoc(d,f);if(d!=a.from){for(let u=0;u<cZ;u++)if(!uZ.test(h[u+1])&&uZ.test(h[u])){h=h.slice(u);break}}if(f!=i){for(let u=h.length-1;u>h.length-cZ;u--)if(!uZ.test(h[u-1])&&uZ.test(h[u])){h=h.slice(0,u);break}}return Xo.announce.of(`${t.state.phrase("current match")}. ${h} ${t.state.phrase("on line")} ${a.number}.`)}const o4e=Xo.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),s4e=[vS,Mp.low(K5e),o4e];class gie{constructor(e,r,a){this.state=e,this.pos=r,this.explicit=a,this.abortListeners=[]}tokenBefore(e){let r=rl(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),a=Math.max(r.from,this.pos-250),i=r.text.slice(a-r.from,this.pos-r.from),d=i.search(o1e(e,!1));return d<0?null:{from:a+d,to:this.pos,text:i.slice(d)}}get aborted(){return this.abortListeners==null}addEventListener(e,r){e=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function kde(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function a4e(t){let e=Object.create(null),r=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let d=1;d<i.length;d++)r[i[d]]=!0}let a=kde(e)+kde(r)+"*$";return[new RegExp("^"+a),new RegExp(a)]}function SU(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[r,a]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:a4e(e);return i=>{let d=i.matchBefore(a);return d||i.explicit?{from:d?d.from:i.pos,options:e,validFor:r}:null}}function pie(t,e){return r=>{for(let a=rl(r.state).resolveInner(r.pos,-1);a;a=a.parent){if(t.indexOf(a.name)>-1)return null;if(a.type.isTop)break}return e(r)}}class Ade{constructor(e,r,a,i){this.completion=e,this.source=r,this.match=a,this.score=i}}function yS(t){return t.selection.main.from}function o1e(t,e){var r;let{source:a}=t,i=e&&a[0]!="^",d=a[a.length-1]!="$";return!i&&!d?t:new RegExp(`${i?"^":""}(?:${a})${d?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const s1e=TO.define();function i4e(t,e,r,a){let{main:i}=t.selection,d=r-i.from,f=a-i.from;return Object.assign(Object.assign({},t.changeByRange(h=>h!=i&&r!=a&&t.sliceDoc(h.from+d,h.from+f)!=t.sliceDoc(r,a)?{range:h}:{changes:{from:h.from+d,to:a==i.from?h.to:h.from+f,insert:e},range:Tr.cursor(h.from+d+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const Pde=new WeakMap;function l4e(t){if(!Array.isArray(t))return t;let e=Pde.get(t);return e||Pde.set(t,e=SU(t)),e}const vie=pa.define(),h$=pa.define();class c4e{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let a=Uf(e,r),i=vp(a);this.chars.push(a);let d=e.slice(r,r+i),f=d.toUpperCase();this.folded.push(Uf(f==d?d.toLowerCase():f,0)),r+=i}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:r,folded:a,any:i,precise:d,byWord:f}=this;if(r.length==1){let R=Uf(e,0),M=vp(R),I=M==e.length?0:-100;if(R!=r[0])if(R==a[0])I+=-200;else return!1;return this.ret(I,[0,M])}let h=e.indexOf(this.pattern);if(h==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=r.length,p=0;if(h<0){for(let R=0,M=Math.min(e.length,200);R<M&&p<u;){let I=Uf(e,R);(I==r[p]||I==a[p])&&(i[p++]=R),R+=vp(I)}if(p<u)return!1}let v=0,y=0,b=!1,x=0,k=-1,C=-1,w=/[a-z]/.test(e),T=!0;for(let R=0,M=Math.min(e.length,200),I=0;R<M&&y<u;){let V=Uf(e,R);h<0&&(v<u&&V==r[v]&&(d[v++]=R),x<u&&(V==r[x]||V==a[x]?(x==0&&(k=R),C=R+1,x++):x=0));let N,F=V<255?V>=48&&V<=57||V>=97&&V<=122?2:V>=65&&V<=90?1:0:(N=Fae(V))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!R||F==1&&w||I==0&&F!=0)&&(r[y]==V||a[y]==V&&(b=!0)?f[y++]=R:f.length&&(T=!1)),I=F,R+=vp(V)}return y==u&&f[0]==0&&T?this.result(-100+(b?-200:0),f,e):x==u&&k==0?this.ret(-200-e.length+(C==e.length?0:-100),[0,C]):h>-1?this.ret(-700-e.length,[h,h+this.pattern.length]):x==u?this.ret(-200+-700-e.length,[k,C]):y==u?this.result(-100+(b?-200:0)+-700+(T?0:-1100),f,e):r.length==2?!1:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,r,a){let i=[],d=0;for(let f of r){let h=f+(this.astral?vp(Uf(a,f)):1);d&&i[d-1]==f?i[d-1]=h:(i[d++]=f,i[d++]=h)}return this.ret(e-a.length,i)}}const Cd=ss.define({combine(t){return ry(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:u4e,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>a=>Mde(e(a),r(a)),optionClass:(e,r)=>a=>Mde(e(a),r(a)),addToOptions:(e,r)=>e.concat(r)})}});function Mde(t,e){return t?e?t+" "+e:t:e}function u4e(t,e,r,a,i,d){let f=t.textDirection==gc.RTL,h=f,u=!1,p="top",v,y,b=e.left-i.left,x=i.right-e.right,k=a.right-a.left,C=a.bottom-a.top;if(h&&b<Math.min(k,x)?h=!1:!h&&x<Math.min(k,b)&&(h=!0),k<=(h?b:x))v=Math.max(i.top,Math.min(r.top,i.bottom-C))-e.top,y=Math.min(400,h?b:x);else{u=!0,y=Math.min(400,(f?e.right:i.right-e.left)-30);let R=i.bottom-e.bottom;R>=C||R>e.top?v=r.bottom-e.top:(p="bottom",v=e.bottom-r.top)}let w=(e.bottom-e.top)/d.offsetHeight,T=(e.right-e.left)/d.offsetWidth;return{style:`${p}: ${v/w}px; max-width: ${y/T}px`,class:"cm-completionInfo-"+(u?f?"left-narrow":"right-narrow":h?"left":"right")}}function f4e(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let a=document.createElement("div");return a.classList.add("cm-completionIcon"),r.type&&a.classList.add(...r.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),a.setAttribute("aria-hidden","true"),a},position:20}),e.push({render(r,a,i,d){let f=document.createElement("span");f.className="cm-completionLabel";let h=r.displayLabel||r.label,u=0;for(let p=0;p<d.length;){let v=d[p++],y=d[p++];v>u&&f.appendChild(document.createTextNode(h.slice(u,v)));let b=f.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(h.slice(v,y))),b.className="cm-completionMatchedText",u=y}return u<h.length&&f.appendChild(document.createTextNode(h.slice(u))),f},position:50},{render(r){if(!r.detail)return null;let a=document.createElement("span");return a.className="cm-completionDetail",a.textContent=r.detail,a},position:80}),e.sort((r,a)=>r.position-a.position).map(r=>r.render)}function Fre(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}let a=Math.floor((t-e)/r);return{from:t-(a+1)*r,to:t-a*r}}class d4e{constructor(e,r,a){this.view=e,this.stateField=r,this.applyCompletion=a,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:d,selected:f}=i.open,h=e.state.facet(Cd);this.optionContent=f4e(h),this.optionClass=h.optionClass,this.tooltipClass=h.tooltipClass,this.range=Fre(d.length,f,h.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:p}=e.state.field(r).open;for(let v=u.target,y;v&&v!=this.dom;v=v.parentNode)if(v.nodeName=="LI"&&(y=/-(\d+)$/.exec(v.id))&&+y[1]<p.length){this.applyCompletion(e,p[+y[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let p=e.state.field(this.stateField,!1);p&&p.tooltip&&e.state.facet(Cd).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:h$.of(null)})}),this.showOptions(d,i.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let a=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),a!=i){let{options:d,selected:f,disabled:h}=a.open;(!i.open||i.open.options!=d)&&(this.range=Fre(d.length,f,e.state.facet(Cd).maxRenderedOptions),this.showOptions(d,a.id)),this.updateSel(),h!=((r=i.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!h)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let a of this.currentClass.split(" "))a&&this.dom.classList.remove(a);for(let a of r.split(" "))a&&this.dom.classList.add(a);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=Fre(r.options.length,r.selected,this.view.state.facet(Cd).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:a}=r.options[r.selected],{info:i}=a;if(!i)return;let d=typeof i=="string"?document.createTextNode(i):i(a);if(!d)return;"then"in d?d.then(f=>{f&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(f,a)}).catch(f=>Cp(this.view.state,f,"completion info")):this.addInfoPane(d,a)}}addInfoPane(e,r){this.destroyInfo();let a=this.info=document.createElement("div");if(a.className="cm-tooltip cm-completionInfo",e.nodeType!=null)a.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:d}=e;a.appendChild(i),this.infoDestroy=d||null}this.dom.appendChild(a),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let a=this.list.firstChild,i=this.range.from;a;a=a.nextSibling,i++)a.nodeName!="LI"||!a.id?i--:i==e?a.hasAttribute("aria-selected")||(a.setAttribute("aria-selected","true"),r=a):a.hasAttribute("aria-selected")&&a.removeAttribute("aria-selected");return r&&m4e(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),a=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),d=this.space;if(!d){let f=this.dom.ownerDocument.defaultView||window;d={left:0,top:0,right:f.innerWidth,bottom:f.innerHeight}}return i.top>Math.min(d.bottom,r.bottom)-10||i.bottom<Math.max(d.top,r.top)+10?null:this.view.state.facet(Cd).positionInfo(this.view,r,i,a,d,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,a){const i=document.createElement("ul");i.id=r,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let d=null;for(let f=a.from;f<a.to;f++){let{completion:h,match:u}=e[f],{section:p}=h;if(p){let b=typeof p=="string"?p:p.name;if(b!=d&&(f>a.from||a.from==0))if(d=b,typeof p!="string"&&p.header)i.appendChild(p.header(p));else{let x=i.appendChild(document.createElement("completion-section"));x.textContent=b}}const v=i.appendChild(document.createElement("li"));v.id=r+"-"+f,v.setAttribute("role","option");let y=this.optionClass(h);y&&(v.className=y);for(let b of this.optionContent){let x=b(h,this.view.state,this.view,u);x&&v.appendChild(x)}}return a.from&&i.classList.add("cm-completionListIncompleteTop"),a.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function h4e(t,e){return r=>new d4e(r,t,e)}function m4e(t,e){let r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=r.height/t.offsetHeight;a.top<r.top?t.scrollTop-=(r.top-a.top)/i:a.bottom>r.bottom&&(t.scrollTop+=(a.bottom-r.bottom)/i)}function Ede(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function g4e(t,e){let r=[],a=null,i=u=>{r.push(u);let{section:p}=u.completion;if(p){a||(a=[]);let v=typeof p=="string"?p:p.name;a.some(y=>y.name==v)||a.push(typeof p=="string"?{name:v}:p)}};for(let u of t)if(u.hasResult()){let p=u.result.getMatch;if(u.result.filter===!1)for(let v of u.result.options)i(new Ade(v,u.source,p?p(v):[],1e9-r.length));else{let v=new c4e(e.sliceDoc(u.from,u.to));for(let y of u.result.options)if(v.match(y.label)){let b=y.displayLabel?p?p(y,v.matched):[]:v.matched;i(new Ade(y,u.source,b,v.score+(y.boost||0)))}}}if(a){let u=Object.create(null),p=0,v=(y,b)=>{var x,k;return((x=y.rank)!==null&&x!==void 0?x:1e9)-((k=b.rank)!==null&&k!==void 0?k:1e9)||(y.name<b.name?-1:1)};for(let y of a.sort(v))p-=1e5,u[y.name]=p;for(let y of r){let{section:b}=y.completion;b&&(y.score+=u[typeof b=="string"?b:b.name])}}let d=[],f=null,h=e.facet(Cd).compareCompletions;for(let u of r.sort((p,v)=>v.score-p.score||h(p.completion,v.completion))){let p=u.completion;!f||f.label!=p.label||f.detail!=p.detail||f.type!=null&&p.type!=null&&f.type!=p.type||f.apply!=p.apply||f.boost!=p.boost?d.push(u):Ede(u.completion)>Ede(f)&&(d[d.length-1]=u),f=u.completion}return d}class FP{constructor(e,r,a,i,d,f){this.options=e,this.attrs=r,this.tooltip=a,this.timestamp=i,this.selected=d,this.disabled=f}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new FP(this.options,_de(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,a,i,d){let f=g4e(e,r);if(!f.length)return i&&e.some(u=>u.state==1)?new FP(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let h=r.facet(Cd).selectOnOpen?0:-1;if(i&&i.selected!=h&&i.selected!=-1){let u=i.options[i.selected].completion;for(let p=0;p<f.length;p++)if(f[p].completion==u){h=p;break}}return new FP(f,_de(a,h),{pos:e.reduce((u,p)=>p.hasResult()?Math.min(u,p.from):u,1e8),create:O4e,above:d.aboveCursor},i?i.timestamp:Date.now(),h,!1)}map(e){return new FP(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class SH{constructor(e,r,a){this.active=e,this.id=r,this.open=a}static start(){return new SH(y4e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,a=r.facet(Cd),d=(a.override||r.languageDataAt("autocomplete",yS(r)).map(l4e)).map(h=>(this.active.find(p=>p.source==h)||new em(h,this.active.some(p=>p.state!=0)?1:0)).update(e,a));d.length==this.active.length&&d.every((h,u)=>h==this.active[u])&&(d=this.active);let f=this.open;f&&e.docChanged&&(f=f.map(e.changes)),e.selection||d.some(h=>h.hasResult()&&e.changes.touchesRange(h.from,h.to))||!p4e(d,this.active)?f=FP.build(d,r,this.id,f,a):f&&f.disabled&&!d.some(h=>h.state==1)&&(f=null),!f&&d.every(h=>h.state!=1)&&d.some(h=>h.hasResult())&&(d=d.map(h=>h.hasResult()?new em(h.source,0):h));for(let h of e.effects)h.is(i1e)&&(f=f&&f.setSelected(h.value,this.id));return d==this.active&&f==this.open?this:new SH(d,this.id,f)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:v4e}}function p4e(t,e){if(t==e)return!0;for(let r=0,a=0;;){for(;r<t.length&&!t[r].hasResult;)r++;for(;a<e.length&&!e[a].hasResult;)a++;let i=r==t.length,d=a==e.length;if(i||d)return i==d;if(t[r++].result!=e[a++].result)return!1}}const v4e={"aria-autocomplete":"list"};function _de(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const y4e=[];function Mse(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class em{constructor(e,r,a=-1){this.source=e,this.state=r,this.explicitPos=a}hasResult(){return!1}update(e,r){let a=Mse(e),i=this;a?i=i.handleUserEvent(e,a,r):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new em(i.source,0));for(let d of e.effects)if(d.is(vie))i=new em(i.source,1,d.value?yS(e.state):-1);else if(d.is(h$))i=new em(i.source,0);else if(d.is(a1e))for(let f of d.value)f.source==i.source&&(i=f);return i}handleUserEvent(e,r,a){return r=="delete"||!a.activateOnTyping?this.map(e.changes):new em(this.source,1)}handleChange(e){return e.changes.touchesRange(yS(e.startState))?new em(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new em(this.source,this.state,e.mapPos(this.explicitPos))}}class qP extends em{constructor(e,r,a,i,d){super(e,2,r),this.result=a,this.from=i,this.to=d}hasResult(){return!0}handleUserEvent(e,r,a){var i;let d=e.changes.mapPos(this.from),f=e.changes.mapPos(this.to,1),h=yS(e.state);if((this.explicitPos<0?h<=d:h<this.from)||h>f||r=="delete"&&yS(e.startState)==this.from)return new em(this.source,r=="input"&&a.activateOnTyping?1:0);let u=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),p;return b4e(this.result.validFor,e.state,d,f)?new qP(this.source,u,this.result,d,f):this.result.update&&(p=this.result.update(this.result,d,f,new gie(e.state,h,u>=0)))?new qP(this.source,u,p,p.from,(i=p.to)!==null&&i!==void 0?i:yS(e.state)):new em(this.source,1,u)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new em(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new qP(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function b4e(t,e,r,a){if(!t)return!1;let i=e.sliceDoc(r,a);return typeof t=="function"?t(i,r,a,e):o1e(t,!0).test(i)}const a1e=pa.define({map(t,e){return t.map(r=>r.map(e))}}),i1e=pa.define(),ag=xf.define({create(){return SH.start()},update(t,e){return t.update(e)},provide:t=>[jae.from(t,e=>e.tooltip),Xo.contentAttributes.from(t,e=>e.attrs)]});function l1e(t,e){const r=e.completion.apply||e.completion.label;let a=t.state.field(ag).active.find(i=>i.source==e.source);return a instanceof qP?(typeof r=="string"?t.dispatch(Object.assign(Object.assign({},i4e(t.state,r,a.from,a.to)),{annotations:s1e.of(e.completion)})):r(t,e.completion,a.from,a.to),!0):!1}const O4e=h4e(ag,l1e);function fZ(t,e="option"){return r=>{let a=r.state.field(ag,!1);if(!a||!a.open||a.open.disabled||Date.now()-a.open.timestamp<r.state.facet(Cd).interactionDelay)return!1;let i=1,d;e=="page"&&(d=zve(r,a.open.tooltip))&&(i=Math.max(2,Math.floor(d.dom.offsetHeight/d.dom.querySelector("li").offsetHeight)-1));let{length:f}=a.open.options,h=a.open.selected>-1?a.open.selected+i*(t?1:-1):t?0:f-1;return h<0?h=e=="page"?0:f-1:h>=f&&(h=e=="page"?f-1:0),r.dispatch({effects:i1e.of(h)}),!0}}const x4e=t=>{let e=t.state.field(ag,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Cd).interactionDelay?!1:l1e(t,e.open.options[e.open.selected])},S4e=t=>t.state.field(ag,!1)?(t.dispatch({effects:vie.of(!0)}),!0):!1,w4e=t=>{let e=t.state.field(ag,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:h$.of(null)}),!0)};class T4e{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const C4e=50,k4e=1e3,A4e=eu.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(ag).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(ag);if(!t.selectionSet&&!t.docChanged&&t.startState.field(ag)==e)return;let r=t.transactions.some(a=>(a.selection||a.docChanged)&&!Mse(a));for(let a=0;a<this.running.length;a++){let i=this.running[a];if(r||i.updates.length+t.transactions.length>C4e&&Date.now()-i.time>k4e){for(let d of i.context.abortListeners)try{d()}catch(f){Cp(this.view.state,f)}i.context.abortListeners=null,this.running.splice(a--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(a=>a.state==1&&!this.running.some(i=>i.active.source==a.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let a of t.transactions)Mse(a)=="input"?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(ag);for(let r of e.active)r.state==1&&!this.running.some(a=>a.active.source==r.source)&&this.startQuery(r)}startQuery(t){let{state:e}=this.view,r=yS(e),a=new gie(e,r,t.explicitPos==r),i=new T4e(t,a);this.running.push(i),Promise.resolve(t.source(a)).then(d=>{i.context.aborted||(i.done=d||null,this.scheduleAccept())},d=>{this.view.dispatch({effects:h$.of(null)}),Cp(this.view.state,d)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cd).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(Cd);for(let a=0;a<this.running.length;a++){let i=this.running[a];if(i.done===void 0)continue;if(this.running.splice(a--,1),i.done){let f=new qP(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:yS(i.updates.length?i.updates[0].startState:this.view.state));for(let h of i.updates)f=f.update(h,r);if(f.hasResult()){e.push(f);continue}}let d=this.view.state.field(ag).active.find(f=>f.source==i.active.source);if(d&&d.state==1)if(i.done==null){let f=new em(i.active.source,0);for(let h of i.updates)f=f.update(h,r);f.state!=1&&e.push(f)}else this.startQuery(d)}e.length&&this.view.dispatch({effects:a1e.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(ag,!1);if(e&&e.tooltip&&this.view.state.facet(Cd).closeOnBlur){let r=e.open&&zve(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:h$.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:vie.of(!1)}),20),this.composing=0}}}),c1e=Xo.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class P4e{constructor(e,r,a,i){this.field=e,this.line=r,this.from=a,this.to=i}}class yie{constructor(e,r,a){this.field=e,this.from=r,this.to=a}map(e){let r=e.mapPos(this.from,-1,Yf.TrackDel),a=e.mapPos(this.to,1,Yf.TrackDel);return r==null||a==null?null:new yie(this.field,r,a)}}class bie{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let a=[],i=[r],d=e.doc.lineAt(r),f=/^\s*/.exec(d.text)[0];for(let u of this.lines){if(a.length){let p=f,v=/^\t*/.exec(u)[0].length;for(let y=0;y<v;y++)p+=e.facet(SM);i.push(r+p.length-v),u=p+u.slice(v)}a.push(u),r+=u.length+1}let h=this.fieldPositions.map(u=>new yie(u.field,i[u.line]+u.from,i[u.line]+u.to));return{text:a,ranges:h}}static parse(e){let r=[],a=[],i=[],d;for(let f of e.split(/\r\n?|\n/)){for(;d=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(f);){let h=d[1]?+d[1]:null,u=d[2]||d[3]||"",p=-1;for(let v=0;v<r.length;v++)(h!=null?r[v].seq==h:u&&r[v].name==u)&&(p=v);if(p<0){let v=0;for(;v<r.length&&(h==null||r[v].seq!=null&&r[v].seq<h);)v++;r.splice(v,0,{seq:h,name:u}),p=v;for(let y of i)y.field>=p&&y.field++}i.push(new P4e(p,a.length,d.index,d.index+u.length)),f=f.slice(0,d.index)+u+f.slice(d.index+d[0].length)}for(let h;h=/\\([{}])/.exec(f);){f=f.slice(0,h.index)+h[1]+f.slice(h.index+h[0].length);for(let u of i)u.line==a.length&&u.from>h.index&&(u.from--,u.to--)}a.push(f)}return new bie(a,i)}}let M4e=Bs.widget({widget:new class extends oy{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),E4e=Bs.mark({class:"cm-snippetField"});class CM{constructor(e,r){this.ranges=e,this.active=r,this.deco=Bs.set(e.map(a=>(a.from==a.to?M4e:E4e).range(a.from,a.to)))}map(e){let r=[];for(let a of this.ranges){let i=a.map(e);if(!i)return null;r.push(i)}return new CM(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(a=>a.field==this.active&&a.from<=r.from&&a.to>=r.to))}}const Z$=pa.define({map(t,e){return t&&t.map(e)}}),_4e=pa.define(),m$=xf.define({create(){return null},update(t,e){for(let r of e.effects){if(r.is(Z$))return r.value;if(r.is(_4e)&&t)return new CM(t.ranges,r.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Xo.decorations.from(t,e=>e?e.deco:Bs.none)});function Oie(t,e){return Tr.create(t.filter(r=>r.field==e).map(r=>Tr.range(r.from,r.to)))}function R4e(t){let e=bie.parse(t);return(r,a,i,d)=>{let{text:f,ranges:h}=e.instantiate(r.state,i),u={changes:{from:i,to:d,insert:Oi.of(f)},scrollIntoView:!0,annotations:a?s1e.of(a):void 0};if(h.length&&(u.selection=Oie(h,0)),h.length>1){let p=new CM(h,0),v=u.effects=[Z$.of(p)];r.state.field(m$,!1)===void 0&&v.push(pa.appendConfig.of([m$,N4e,B4e,c1e]))}r.dispatch(r.state.update(u))}}function u1e(t){return({state:e,dispatch:r})=>{let a=e.field(m$,!1);if(!a||t<0&&a.active==0)return!1;let i=a.active+t,d=t>0&&!a.ranges.some(f=>f.field==i+t);return r(e.update({selection:Oie(a.ranges,i),effects:Z$.of(d?null:new CM(a.ranges,i)),scrollIntoView:!0})),!0}}const D4e=({state:t,dispatch:e})=>t.field(m$,!1)?(e(t.update({effects:Z$.of(null)})),!0):!1,$4e=u1e(1),L4e=u1e(-1),I4e=[{key:"Tab",run:$4e,shift:L4e},{key:"Escape",run:D4e}],Rde=ss.define({combine(t){return t.length?t[0]:I4e}}),N4e=Mp.highest(_S.compute([Rde],t=>t.facet(Rde)));function hc(t,e){return Object.assign(Object.assign({},e),{apply:R4e(t)})}const B4e=Xo.domEventHandlers({mousedown(t,e){let r=e.state.field(m$,!1),a;if(!r||(a=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=r.ranges.find(d=>d.from<=a&&d.to>=a);return!i||i.field==r.active?!1:(e.dispatch({selection:Oie(r.ranges,i.field),effects:Z$.of(r.ranges.some(d=>d.field>i.field)?new CM(r.ranges,i.field):null),scrollIntoView:!0}),!0)}}),g$={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},kC=pa.define({map(t,e){let r=e.mapPos(t,-1,Yf.TrackAfter);return r??void 0}}),xie=new class extends _C{};xie.startSide=1;xie.endSide=-1;const f1e=xf.define({create(){return ji.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:a=>a>=r.from&&a<=r.to})}for(let r of e.effects)r.is(kC)&&(t=t.update({add:[xie.range(r.value,r.value+1)]}));return t}});function Q4e(){return[V4e,f1e]}const Vre="()[]{}<>";function d1e(t){for(let e=0;e<Vre.length;e+=2)if(Vre.charCodeAt(e)==t)return Vre.charAt(e+1);return Fae(t<128?t:t+1)}function h1e(t,e){return t.languageDataAt("closeBrackets",e)[0]||g$}const F4e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),V4e=Xo.inputHandler.of((t,e,r,a)=>{if((F4e?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(a.length>2||a.length==2&&vp(Uf(a,0))==1||e!=i.from||r!=i.to)return!1;let d=H4e(t.state,a);return d?(t.dispatch(d),!0):!1}),z4e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let a=h1e(t,t.selection.main.head).brackets||g$.brackets,i=null,d=t.changeByRange(f=>{if(f.empty){let h=U4e(t.doc,f.head);for(let u of a)if(u==h&&wU(t.doc,f.head)==d1e(Uf(u,0)))return{changes:{from:f.head-u.length,to:f.head+u.length},range:Tr.cursor(f.head-u.length)}}return{range:i=f}});return i||e(t.update(d,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Z4e=[{key:"Backspace",run:z4e}];function H4e(t,e){let r=h1e(t,t.selection.main.head),a=r.brackets||g$.brackets;for(let i of a){let d=d1e(Uf(i,0));if(e==i)return d==i?X4e(t,i,a.indexOf(i+i+i)>-1,r):W4e(t,i,d,r.before||g$.before);if(e==d&&m1e(t,t.selection.main.from))return Y4e(t,i,d)}return null}function m1e(t,e){let r=!1;return t.field(f1e).between(0,t.doc.length,a=>{a==e&&(r=!0)}),r}function wU(t,e){let r=t.sliceString(e,e+2);return r.slice(0,vp(Uf(r,0)))}function U4e(t,e){let r=t.sliceString(e-2,e);return vp(Uf(r,0))==r.length?r:r.slice(1)}function W4e(t,e,r,a){let i=null,d=t.changeByRange(f=>{if(!f.empty)return{changes:[{insert:e,from:f.from},{insert:r,from:f.to}],effects:kC.of(f.to+e.length),range:Tr.range(f.anchor+e.length,f.head+e.length)};let h=wU(t.doc,f.head);return!h||/\s/.test(h)||a.indexOf(h)>-1?{changes:{insert:e+r,from:f.head},effects:kC.of(f.head+e.length),range:Tr.cursor(f.head+e.length)}:{range:i=f}});return i?null:t.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function Y4e(t,e,r){let a=null,i=t.changeByRange(d=>d.empty&&wU(t.doc,d.head)==r?{changes:{from:d.head,to:d.head+r.length,insert:r},range:Tr.cursor(d.head+r.length)}:a={range:d});return a?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function X4e(t,e,r,a){let i=a.stringPrefixes||g$.stringPrefixes,d=null,f=t.changeByRange(h=>{if(!h.empty)return{changes:[{insert:e,from:h.from},{insert:e,from:h.to}],effects:kC.of(h.to+e.length),range:Tr.range(h.anchor+e.length,h.head+e.length)};let u=h.head,p=wU(t.doc,u),v;if(p==e){if(Dde(t,u))return{changes:{insert:e+e,from:u},effects:kC.of(u+e.length),range:Tr.cursor(u+e.length)};if(m1e(t,u)){let b=r&&t.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+b.length,insert:b},range:Tr.cursor(u+b.length)}}}else{if(r&&t.sliceDoc(u-2*e.length,u)==e+e&&(v=$de(t,u-2*e.length,i))>-1&&Dde(t,v))return{changes:{insert:e+e+e+e,from:u},effects:kC.of(u+e.length),range:Tr.cursor(u+e.length)};if(t.charCategorizer(u)(p)!=Jl.Word&&$de(t,u,i)>-1&&!G4e(t,u,e,i))return{changes:{insert:e+e,from:u},effects:kC.of(u+e.length),range:Tr.cursor(u+e.length)}}return{range:d=h}});return d?null:t.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function Dde(t,e){let r=rl(t).resolveInner(e+1);return r.parent&&r.from==e}function G4e(t,e,r,a){let i=rl(t).resolveInner(e,-1),d=a.reduce((f,h)=>Math.max(f,h.length),0);for(let f=0;f<5;f++){let h=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+d)),u=h.indexOf(r);if(!u||u>-1&&a.indexOf(h.slice(0,u))>-1){let v=i.firstChild;for(;v&&v.from==i.from&&v.to-v.from>r.length+u;){if(t.sliceDoc(v.to-r.length,v.to)==r)return!1;v=v.firstChild}return!0}let p=i.to==e&&i.parent;if(!p)break;i=p}return!1}function $de(t,e,r){let a=t.charCategorizer(e);if(a(t.sliceDoc(e-1,e))!=Jl.Word)return e;for(let i of r){let d=e-i.length;if(t.sliceDoc(d,e)==i&&a(t.sliceDoc(d-1,d))!=Jl.Word)return d}return-1}function LC(t={}){return[ag,Cd.of(t),A4e,j4e,c1e]}const g1e=[{key:"Ctrl-Space",run:S4e},{key:"Escape",run:w4e},{key:"ArrowDown",run:fZ(!0)},{key:"ArrowUp",run:fZ(!1)},{key:"PageDown",run:fZ(!0,"page")},{key:"PageUp",run:fZ(!1,"page")},{key:"Enter",run:x4e}],j4e=Mp.highest(_S.computeN([Cd],t=>t.facet(Cd).defaultKeymap?[g1e]:[]));class q4e{constructor(e,r,a){this.from=e,this.to=r,this.diagnostic=a}}class xC{constructor(e,r,a){this.diagnostics=e,this.panel=r,this.selected=a}static init(e,r,a){let i=e,d=a.facet(y1e).markerFilter;d&&(i=d(i));let f=Bs.set(i.map(h=>h.from==h.to||h.from==h.to-1&&a.doc.lineAt(h.from).to==h.from?Bs.widget({widget:new aPe(h),diagnostic:h}).range(h.from):Bs.mark({attributes:{class:"cm-lintRange cm-lintRange-"+h.severity+(h.markClass?" "+h.markClass:"")},diagnostic:h}).range(h.from,h.to)),!0);return new xC(f,r,lM(f))}}function lM(t,e=null,r=0){let a=null;return t.between(r,1e9,(i,d,{spec:f})=>{if(!(e&&f.diagnostic!=e))return a=new q4e(i,d,f.diagnostic),!1}),a}function K4e(t,e){let r=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(a=>a.is(p1e))||t.changes.touchesRange(r.from,r.to))}function J4e(t,e){return t.field(dg,!1)?e:e.concat(pa.appendConfig.of(cPe))}const p1e=pa.define(),Sie=pa.define(),v1e=pa.define(),dg=xf.define({create(){return new xC(Bs.none,null,null)},update(t,e){if(e.docChanged){let r=t.diagnostics.map(e.changes),a=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);a=lM(r,t.selected.diagnostic,i)||lM(r,null,i)}t=new xC(r,t.panel,a)}for(let r of e.effects)r.is(p1e)?t=xC.init(r.value,t.panel,e.state):r.is(Sie)?t=new xC(t.diagnostics,r.value?TU.open:null,t.selected):r.is(v1e)&&(t=new xC(t.diagnostics,t.panel,r.value));return t},provide:t=>[i$.from(t,e=>e.panel),Xo.decorations.from(t,e=>e.diagnostics)]}),ePe=Bs.mark({class:"cm-lintRange cm-lintRange-active"});function tPe(t,e,r){let{diagnostics:a}=t.state.field(dg),i=[],d=2e8,f=0;a.between(e-(r<0?1:0),e+(r>0?1:0),(u,p,{spec:v})=>{e>=u&&e<=p&&(u==p||(e>u||r>0)&&(e<p||r<0))&&(i.push(v.diagnostic),d=Math.min(u,d),f=Math.max(p,f))});let h=t.state.facet(y1e).tooltipFilter;return h&&(i=h(i)),i.length?{pos:d,end:f,above:t.state.doc.lineAt(d).to<f,create(){return{dom:nPe(t,i)}}}:null}function nPe(t,e){return wl("ul",{class:"cm-tooltip-lint"},e.map(r=>O1e(t,r,!1)))}const rPe=t=>{let e=t.state.field(dg,!1);(!e||!e.panel)&&t.dispatch({effects:J4e(t.state,[Sie.of(!0)])});let r=a$(t,TU.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},Lde=t=>{let e=t.state.field(dg,!1);return!e||!e.panel?!1:(t.dispatch({effects:Sie.of(!1)}),!0)},oPe=t=>{let e=t.state.field(dg,!1);if(!e)return!1;let r=t.state.selection.main,a=e.diagnostics.iter(r.to+1);return!a.value&&(a=e.diagnostics.iter(0),!a.value||a.from==r.from&&a.to==r.to)?!1:(t.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0}),!0)},sPe=[{key:"Mod-Shift-m",run:rPe,preventDefault:!0},{key:"F8",run:oPe}],y1e=ss.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},ry(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,r)=>e?r?a=>e(a)||r(a):e:r}))}});function b1e(t){let e=[];if(t)e:for(let{name:r}of t){for(let a=0;a<r.length;a++){let i=r[a];if(/[a-zA-Z]/.test(i)&&!e.some(d=>d.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function O1e(t,e,r){var a;let i=r?b1e(e.actions):[];return wl("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},wl("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(a=e.actions)===null||a===void 0?void 0:a.map((d,f)=>{let h=!1,u=b=>{if(b.preventDefault(),h)return;h=!0;let x=lM(t.state.field(dg).diagnostics,e);x&&d.apply(t,x.from,x.to)},{name:p}=d,v=i[f]?p.indexOf(i[f]):-1,y=v<0?p:[p.slice(0,v),wl("u",p.slice(v,v+1)),p.slice(v+1)];return wl("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${p}${v<0?"":` (access key "${i[f]})"`}.`},y)}),e.source&&wl("div",{class:"cm-diagnosticSource"},e.source))}class aPe extends oy{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return wl("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Ide{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=O1e(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class TU{constructor(e){this.view=e,this.items=[];let r=i=>{if(i.keyCode==27)Lde(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:d}=this.items[this.selectedIndex],f=b1e(d.actions);for(let h=0;h<f.length;h++)if(f[h].toUpperCase().charCodeAt(0)==i.keyCode){let u=lM(this.view.state.field(dg).diagnostics,d);u&&d.actions[h].apply(e,u.from,u.to)}}else return;i.preventDefault()},a=i=>{for(let d=0;d<this.items.length;d++)this.items[d].dom.contains(i.target)&&this.moveSelection(d)};this.list=wl("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:a}),this.dom=wl("div",{class:"cm-panel-lint"},this.list,wl("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Lde(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(dg).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(dg),a=0,i=!1,d=null;for(e.between(0,this.view.state.doc.length,(f,h,{spec:u})=>{let p=-1,v;for(let y=a;y<this.items.length;y++)if(this.items[y].diagnostic==u.diagnostic){p=y;break}p<0?(v=new Ide(this.view,u.diagnostic),this.items.splice(a,0,v),i=!0):(v=this.items[p],p>a&&(this.items.splice(a,p-a),i=!0)),r&&v.diagnostic==r.diagnostic?v.dom.hasAttribute("aria-selected")||(v.dom.setAttribute("aria-selected","true"),d=v):v.dom.hasAttribute("aria-selected")&&v.dom.removeAttribute("aria-selected"),a++});a<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Ide(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),d?(this.list.setAttribute("aria-activedescendant",d.id),this.view.requestMeasure({key:this,read:()=>({sel:d.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:f,panel:h})=>{let u=h.height/this.list.offsetHeight;f.top<h.top?this.list.scrollTop-=(h.top-f.top)/u:f.bottom>h.bottom&&(this.list.scrollTop+=(f.bottom-h.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function r(){let a=e;e=a.nextSibling,a.remove()}for(let a of this.items)if(a.dom.parentNode==this.list){for(;e!=a.dom;)r();e=a.dom.nextSibling}else this.list.insertBefore(a.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(dg),a=lM(r.diagnostics,this.items[e].diagnostic);a&&this.view.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:v1e.of(a)})}static open(e){return new TU(e)}}function iPe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function dZ(t){return iPe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const lPe=Xo.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:dZ("#d11")},".cm-lintRange-warning":{backgroundImage:dZ("orange")},".cm-lintRange-info":{backgroundImage:dZ("#999")},".cm-lintRange-hint":{backgroundImage:dZ("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),cPe=[dg,Xo.decorations.compute([dg],t=>{let{selected:e,panel:r}=t.field(dg);return!e||!r||e.from==e.to?Bs.none:Bs.set([ePe.range(e.from,e.to)])}),nke(tPe,{hideOn:K4e}),lPe],uPe=(()=>[fke(),mke(),_Ce(),_Ae(),sAe(),OCe(),CCe(),Ia.allowMultipleSelections.of(!0),Yke(),u0e(cAe,{fallback:!0}),pAe(),Q4e(),LC(),UCe(),XCe(),NCe(),N5e(),_S.of([...Z4e,..._5e,...n4e,...FAe,...tAe,...g1e,...sPe])])();/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var fPe=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[uPe]}),dPe=Symbol("vue-codemirror-global-config"),ch,hPe=function(t){var e=t.onUpdate,r=t.onChange,a=t.onFocus,i=t.onBlur,d=function(f,h){var u={};for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&h.indexOf(p)<0&&(u[p]=f[p]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var v=0;for(p=Object.getOwnPropertySymbols(f);v<p.length;v++)h.indexOf(p[v])<0&&Object.prototype.propertyIsEnumerable.call(f,p[v])&&(u[p[v]]=f[p[v]])}return u}(t,["onUpdate","onChange","onFocus","onBlur"]);return Ia.create({doc:d.doc,selection:d.selection,extensions:(Array.isArray(d.extensions)?d.extensions:[d.extensions]).concat([Xo.updateListener.of(function(f){e(f),f.docChanged&&r(f.state.doc.toString(),f),f.focusChanged&&(f.view.hasFocus?a(f):i(f))})])})},BP=function(t){var e=new $$;return{compartment:e,run:function(r){e.get(t.state)?t.dispatch({effects:e.reconfigure(r)}):t.dispatch({effects:pa.appendConfig.of(e.of(r))})}}},Nde=function(t,e){var r=BP(t),a=r.compartment,i=r.run;return function(d){var f=a.get(t.state);i(d??f!==e?e:[])}},hZ={type:Boolean,default:void 0},mPe={autofocus:hZ,disabled:hZ,indentWithTab:hZ,tabSize:Number,placeholder:String,style:Object,autoDestroy:hZ,phrases:Object,root:Object,extensions:Array,selection:Object},gPe={modelValue:{type:String,default:""}},pPe=Object.assign(Object.assign({},mPe),gPe);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(ch||(ch={}));var SC={};SC[ch.Change]=function(t,e){return!0},SC[ch.Update]=function(t){return!0},SC[ch.Focus]=function(t){return!0},SC[ch.Blur]=function(t){return!0},SC[ch.Ready]=function(t){return!0};var x1e={};x1e[ch.ModelUpdate]=SC[ch.Change];var vPe=Object.assign(Object.assign({},SC),x1e),yPe=R$({name:"VueCodemirror",props:Object.assign({},pPe),emits:Object.assign({},vPe),setup:function(t,e){var r=fs(),a=fs(),i=fs(),d=Object.assign(Object.assign({},fPe),ai(dPe,{})),f=sn(function(){var h={};return Object.keys(va(t)).forEach(function(u){var p;u!=="modelValue"&&(h[u]=(p=t[u])!==null&&p!==void 0?p:d[u])}),h});return gg(function(){var h;a.value=hPe({doc:t.modelValue,selection:f.value.selection,extensions:(h=d.extensions)!==null&&h!==void 0?h:[],onFocus:function(p){return e.emit(ch.Focus,p)},onBlur:function(p){return e.emit(ch.Blur,p)},onUpdate:function(p){return e.emit(ch.Update,p)},onChange:function(p,v){p!==t.modelValue&&(e.emit(ch.Change,p,v),e.emit(ch.ModelUpdate,p,v))}}),i.value=function(p){return new Xo(Object.assign({},p))}({state:a.value,parent:r.value,root:f.value.root});var u=function(p){var v=function(){return p.state.doc.toString()},y=BP(p).run,b=Nde(p,[Xo.editable.of(!1),Ia.readOnly.of(!0)]),x=Nde(p,_S.of([R5e])),k=BP(p).run,C=BP(p).run,w=BP(p).run,T=BP(p).run;return{focus:function(){return p.focus()},getDoc:v,setDoc:function(R){R!==v()&&p.dispatch({changes:{from:0,to:p.state.doc.length,insert:R}})},reExtensions:y,toggleDisabled:b,toggleIndentWithTab:x,setTabSize:function(R){k([Ia.tabSize.of(R),SM.of(" ".repeat(R))])},setPhrases:function(R){C([Ia.phrases.of(R)])},setPlaceholder:function(R){w(VCe(R))},setStyle:function(R){R===void 0&&(R={}),T(Xo.theme({"&":Object.assign({},R)}))}}}(i.value);Ho(function(){return t.modelValue},function(p){p!==u.getDoc()&&u.setDoc(p)}),Ho(function(){return t.extensions},function(p){return u.reExtensions(p||[])},{immediate:!0}),Ho(function(){return f.value.disabled},function(p){return u.toggleDisabled(p)},{immediate:!0}),Ho(function(){return f.value.indentWithTab},function(p){return u.toggleIndentWithTab(p)},{immediate:!0}),Ho(function(){return f.value.tabSize},function(p){return u.setTabSize(p)},{immediate:!0}),Ho(function(){return f.value.phrases},function(p){return u.setPhrases(p||{})},{immediate:!0}),Ho(function(){return f.value.placeholder},function(p){return u.setPlaceholder(p)},{immediate:!0}),Ho(function(){return f.value.style},function(p){return u.setStyle(p)},{immediate:!0}),f.value.autofocus&&u.focus(),e.emit(ch.Ready,{state:a.value,view:i.value,container:r.value})}),im(function(){f.value.autoDestroy&&i.value&&function(h){h.destroy()}(i.value)}),function(){return hg("div",{class:"v-codemirror",style:{display:"contents"},ref:r})}}}),CU=yPe;class wH{constructor(e,r,a,i,d,f,h,u,p,v=0,y){this.p=e,this.stack=r,this.state=a,this.reducePos=i,this.pos=d,this.score=f,this.buffer=h,this.bufferBase=u,this.curContext=p,this.lookAhead=v,this.parent=y}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,a=0){let i=e.parser.context;return new wH(e,[],r,a,a,0,[],0,i?new Bde(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let a=e>>19,i=e&65535,{parser:d}=this.p,f=d.dynamicPrecedence(i);if(f&&(this.score+=f),a==0){this.pushState(d.getGoto(this.state,i,!0),this.reducePos),i<d.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let h=this.stack.length-(a-1)*3-(e&262144?6:0),u=h?this.stack[h-2]:this.p.ranges[0].from,p=this.reducePos-u;p>=2e3&&!(!((r=this.p.parser.nodeSet.types[i])===null||r===void 0)&&r.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=p));let v=h?this.stack[h-1]:0,y=this.bufferBase+this.buffer.length-v;if(i<d.minRepeatTerm||e&131072){let b=d.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,b,y+4,!0)}if(e&262144)this.state=this.stack[h];else{let b=this.stack[h-3];this.state=d.getGoto(b,i,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,r,a,i=4,d=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let f=this,h=this.buffer.length;if(h==0&&f.parent&&(h=f.bufferBase-f.parent.bufferBase,f=f.parent),h>0&&f.buffer[h-4]==0&&f.buffer[h-1]>-1){if(r==a)return;if(f.buffer[h-2]>=r){f.buffer[h-2]=a;return}}}if(!d||this.pos==a)this.buffer.push(e,r,a,i);else{let f=this.buffer.length;if(f>0&&this.buffer[f-4]!=0)for(;f>0&&this.buffer[f-2]>a;)this.buffer[f]=this.buffer[f-4],this.buffer[f+1]=this.buffer[f-3],this.buffer[f+2]=this.buffer[f-2],this.buffer[f+3]=this.buffer[f-1],f-=4,i>4&&(i-=4);this.buffer[f]=e,this.buffer[f+1]=r,this.buffer[f+2]=a,this.buffer[f+3]=i}}shift(e,r,a,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(r,a),r<=this.p.parser.maxNode&&this.buffer.push(r,a,i,4);else{let d=e,{parser:f}=this.p;(i>this.pos||r<=f.maxNode)&&(this.pos=i,f.stateFlag(d,1)||(this.reducePos=i)),this.pushState(d,a),this.shiftContext(r,a),r<=f.maxNode&&this.buffer.push(r,a,i,4)}}apply(e,r,a,i){e&65536?this.reduce(e):this.shift(e,r,a,i)}useNode(e,r){let a=this.p.reused.length-1;(a<0||this.p.reused[a]!=e)&&(this.p.reused.push(e),a++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(r,i),this.buffer.push(a,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let a=e.buffer.slice(r),i=e.bufferBase+r;for(;e&&i==e.bufferBase;)e=e.parent;return new wH(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,a,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let a=e<=this.p.parser.maxNode;a&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,a?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new bPe(this);;){let a=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(a==0)return!1;if(!(a&65536))return!0;r.reduce(a)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let d=0,f;d<r.length;d+=2)(f=r[d+1])!=this.state&&this.p.parser.hasAction(f,e)&&i.push(r[d],f);if(this.stack.length<120)for(let d=0;i.length<8&&d<r.length;d+=2){let f=r[d+1];i.some((h,u)=>u&1&&h==f)||i.push(r[d],f)}r=i}let a=[];for(let i=0;i<r.length&&a.length<4;i+=2){let d=r[i+1];if(d==this.state)continue;let f=this.split();f.pushState(d,this.pos),f.storeNode(0,f.pos,f.pos,4,!0),f.shiftContext(r[i],this.pos),f.reducePos=this.pos,f.score-=200,a.push(f)}return a}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let a=r>>19,i=r&65535,d=this.stack.length-a*3;if(d<0||e.getGoto(this.stack[d],i,!1)<0){let f=this.findForcedReduction();if(f==null)return!1;r=f}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],a=(i,d)=>{if(!r.includes(i))return r.push(i),e.allActions(i,f=>{if(!(f&393216))if(f&65536){let h=(f>>19)-d;if(h>1){let u=f&65535,p=this.stack.length-h*3;if(p>=0&&e.getGoto(this.stack[p],u,!1)>=0)return h<<19|65536|u}}else{let h=a(f,d+1);if(h!=null)return h}})};return a(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new Bde(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Bde{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class bPe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,a=e>>19;a==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(a-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=i}}class TH{constructor(e,r,a){this.stack=e,this.pos=r,this.index=a,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new TH(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new TH(this.stack,this.pos,this.index)}}function _D(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let a=0,i=0;a<t.length;){let d=0;for(;;){let f=t.charCodeAt(a++),h=!1;if(f==126){d=65535;break}f>=92&&f--,f>=34&&f--;let u=f-32;if(u>=46&&(u-=46,h=!0),d+=u,h)break;d*=46}r?r[i++]=d:r=new e(d)}return r}class VZ{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Qde=new VZ;class OPe{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Qde,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let a=this.range,i=this.rangeIndex,d=this.pos+e;for(;d<a.from;){if(!i)return null;let f=this.ranges[--i];d-=a.from-f.to,a=f}for(;r<0?d>a.to:d>=a.to;){if(i==this.ranges.length-1)return null;let f=this.ranges[++i];d+=f.from-a.to,a=f}return d}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,a,i;if(r>=0&&r<this.chunk.length)a=this.pos+e,i=this.chunk.charCodeAt(r);else{let d=this.resolveOffset(e,1);if(d==null)return-1;if(a=d,a>=this.chunk2Pos&&a<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(a-this.chunk2Pos);else{let f=this.rangeIndex,h=this.range;for(;h.to<=a;)h=this.ranges[++f];this.chunk2=this.input.chunk(this.chunk2Pos=a),a+this.chunk2.length>h.to&&(this.chunk2=this.chunk2.slice(0,h.to-a)),i=this.chunk2.charCodeAt(0)}}return a>=this.token.lookAhead&&(this.token.lookAhead=a+1),i}acceptToken(e,r=0){let a=r?this.resolveOffset(r,-1):this.pos;if(a==null||a<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=a}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=Qde,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let a="";for(let i of this.ranges){if(i.from>=r)break;i.to>e&&(a+=this.input.read(Math.max(i.from,e),Math.min(i.to,r)))}return a}}class KP{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:a}=r.p;S1e(this.data,e,r,this.id,a.data,a.tokenPrecTable)}}KP.prototype.contextual=KP.prototype.fallback=KP.prototype.extend=!1;class CH{constructor(e,r,a){this.precTable=r,this.elseToken=a,this.data=typeof e=="string"?_D(e):e}token(e,r){let a=e.pos,i=0;for(;;){let d=e.next<0,f=e.resolveOffset(1,1);if(S1e(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(d||i++,f==null)break;e.reset(f,e.token)}i&&(e.reset(a,e.token),e.acceptToken(this.elseToken,i))}}CH.prototype.contextual=KP.prototype.fallback=KP.prototype.extend=!1;class hh{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function S1e(t,e,r,a,i,d){let f=0,h=1<<a,{dialect:u}=r.p.parser;e:for(;h&t[f];){let p=t[f+1];for(let x=f+3;x<p;x+=2)if((t[x+1]&h)>0){let k=t[x];if(u.allows(k)&&(e.token.value==-1||e.token.value==k||xPe(k,e.token.value,i,d))){e.acceptToken(k);break}}let v=e.next,y=0,b=t[f+2];if(e.next<0&&b>y&&t[p+b*3-3]==65535){f=t[p+b*3-1];continue e}for(;y<b;){let x=y+b>>1,k=p+x+(x<<1),C=t[k],w=t[k+1]||65536;if(v<C)b=x;else if(v>=w)y=x+1;else{f=t[k+2],e.advance();continue e}}break}}function Fde(t,e,r){for(let a=e,i;(i=t[a])!=65535;a++)if(i==r)return a-e;return-1}function xPe(t,e,r,a){let i=Fde(r,a,e);return i<0||Fde(r,a,t)<i}const eg=typeof process<"u"&&{}&&/\bparse\b/.test({}.LOG);let zre=null;function Vde(t,e,r){let a=t.cursor(vl.IncludeAnonymous);for(a.moveTo(e);;)if(!(r<0?a.childBefore(e):a.childAfter(e)))for(;;){if((r<0?a.to<e:a.from>e)&&!a.type.isError)return r<0?Math.max(0,Math.min(a.to-1,e-25)):Math.min(t.length,Math.max(a.from+1,e+25));if(r<0?a.prevSibling():a.nextSibling())break;if(!a.parent())return r<0?0:t.length}}let SPe=class{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Vde(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Vde(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let a=this.trees[r],i=this.index[r];if(i==a.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let d=a.children[i],f=this.start[r]+a.positions[i];if(f>e)return this.nextStart=f,null;if(d instanceof Fi){if(f==e){if(f<this.safeFrom)return null;let h=f+d.length;if(h<=this.safeTo){let u=d.prop(ua.lookAhead);if(!u||h+u<this.fragment.to)return d}}this.index[r]++,f+d.length>=Math.max(this.safeFrom,e)&&(this.trees.push(d),this.start.push(f),this.index.push(0))}else this.index[r]++,this.nextStart=f+d.length}}};class wPe{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(a=>new VZ)}getActions(e){let r=0,a=null,{parser:i}=e.p,{tokenizers:d}=i,f=i.stateSlot(e.state,3),h=e.curContext?e.curContext.hash:0,u=0;for(let p=0;p<d.length;p++){if(!(1<<p&f))continue;let v=d[p],y=this.tokens[p];if(!(a&&!v.fallback)&&((v.contextual||y.start!=e.pos||y.mask!=f||y.context!=h)&&(this.updateCachedToken(y,v,e),y.mask=f,y.context=h),y.lookAhead>y.end+25&&(u=Math.max(y.lookAhead,u)),y.value!=0)){let b=r;if(y.extended>-1&&(r=this.addActions(e,y.extended,y.end,r)),r=this.addActions(e,y.value,y.end,r),!v.extend&&(a=y,r>b))break}}for(;this.actions.length>r;)this.actions.pop();return u&&e.setLookAhead(u),!a&&e.pos==this.stream.end&&(a=new VZ,a.value=e.p.parser.eofTerm,a.start=a.end=e.pos,r=this.addActions(e,a.value,a.end,r)),this.mainToken=a,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new VZ,{pos:a,p:i}=e;return r.start=a,r.end=Math.min(a+1,i.stream.end),r.value=a==i.stream.end?i.parser.eofTerm:0,r}updateCachedToken(e,r,a){let i=this.stream.clipPos(a.pos);if(r.token(this.stream.reset(i,e),a),e.value>-1){let{parser:d}=a.p;for(let f=0;f<d.specialized.length;f++)if(d.specialized[f]==e.value){let h=d.specializers[f](this.stream.read(e.start,e.end),a);if(h>=0&&a.p.parser.dialect.allows(h>>1)){h&1?e.extended=h>>1:e.value=h>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,r,a,i){for(let d=0;d<i;d+=3)if(this.actions[d]==e)return i;return this.actions[i++]=e,this.actions[i++]=r,this.actions[i++]=a,i}addActions(e,r,a,i){let{state:d}=e,{parser:f}=e.p,{data:h}=f;for(let u=0;u<2;u++)for(let p=f.stateSlot(d,u?2:1);;p+=3){if(h[p]==65535)if(h[p+1]==1)p=dO(h,p+2);else{i==0&&h[p+1]==2&&(i=this.putAction(dO(h,p+2),r,a,i));break}h[p]==r&&(i=this.putAction(dO(h,p+1),r,a,i))}return i}}class TPe{constructor(e,r,a,i){this.parser=e,this.input=r,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new OPe(r,i),this.tokens=new wPe(e,this.stream),this.topTerm=e.top[1];let{from:d}=i[0];this.stacks=[wH.start(this,e.top[0],d)],this.fragments=a.length&&this.stream.end-d>e.bufferLength*4?new SPe(a,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,a=this.stacks=[],i,d;if(this.bigReductionCount>300&&e.length==1){let[f]=e;for(;f.forceReduce()&&f.stack.length&&f.stack[f.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let f=0;f<e.length;f++){let h=e[f];for(;;){if(this.tokens.mainToken=null,h.pos>r)a.push(h);else{if(this.advanceStack(h,a,e))continue;{i||(i=[],d=[]),i.push(h);let u=this.tokens.getMainToken(h);d.push(u.value,u.end)}}break}}if(!a.length){let f=i&&kPe(i);if(f)return eg&&console.log("Finish with "+this.stackID(f)),this.stackToTree(f);if(this.parser.strict)throw eg&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let f=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,d,a);if(f)return eg&&console.log("Force-finish "+this.stackID(f)),this.stackToTree(f.forceAll())}if(this.recovering){let f=this.recovering==1?1:this.recovering*3;if(a.length>f)for(a.sort((h,u)=>u.score-h.score);a.length>f;)a.pop();a.some(h=>h.reducePos>r)&&this.recovering--}else if(a.length>1){e:for(let f=0;f<a.length-1;f++){let h=a[f];for(let u=f+1;u<a.length;u++){let p=a[u];if(h.sameState(p)||h.buffer.length>500&&p.buffer.length>500)if((h.score-p.score||h.buffer.length-p.buffer.length)>0)a.splice(u--,1);else{a.splice(f--,1);continue e}}}a.length>12&&a.splice(12,a.length-12)}this.minStackPos=a[0].pos;for(let f=1;f<a.length;f++)a[f].pos<this.minStackPos&&(this.minStackPos=a[f].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,a){let i=e.pos,{parser:d}=this,f=eg?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let p=e.curContext&&e.curContext.tracker.strict,v=p?e.curContext.hash:0;for(let y=this.fragments.nodeAt(i);y;){let b=this.parser.nodeSet.types[y.type.id]==y.type?d.getGoto(e.state,y.type.id):-1;if(b>-1&&y.length&&(!p||(y.prop(ua.contextHash)||0)==v))return e.useNode(y,b),eg&&console.log(f+this.stackID(e)+` (via reuse of ${d.getName(y.type.id)})`),!0;if(!(y instanceof Fi)||y.children.length==0||y.positions[0]>0)break;let x=y.children[0];if(x instanceof Fi&&y.positions[0]==0)y=x;else break}}let h=d.stateSlot(e.state,4);if(h>0)return e.reduce(h),eg&&console.log(f+this.stackID(e)+` (via always-reduce ${d.getName(h&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let p=0;p<u.length;){let v=u[p++],y=u[p++],b=u[p++],x=p==u.length||!a,k=x?e:e.split(),C=this.tokens.mainToken;if(k.apply(v,y,C?C.start:k.pos,b),eg&&console.log(f+this.stackID(k)+` (via ${v&65536?`reduce of ${d.getName(v&65535)}`:"shift"} for ${d.getName(y)} @ ${i}${k==e?"":", split"})`),x)return!0;k.pos>i?r.push(k):a.push(k)}return!1}advanceFully(e,r){let a=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>a)return zde(e,r),!0}}runRecovery(e,r,a){let i=null,d=!1;for(let f=0;f<e.length;f++){let h=e[f],u=r[f<<1],p=r[(f<<1)+1],v=eg?this.stackID(h)+" -> ":"";if(h.deadEnd&&(d||(d=!0,h.restart(),eg&&console.log(v+this.stackID(h)+" (restarted)"),this.advanceFully(h,a))))continue;let y=h.split(),b=v;for(let x=0;y.forceReduce()&&x<10&&(eg&&console.log(b+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,a));x++)eg&&(b=this.stackID(y)+" -> ");for(let x of h.recoverByInsert(u))eg&&console.log(v+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,a);this.stream.end>h.pos?(p==h.pos&&(p++,u=0),h.recoverByDelete(u,p),eg&&console.log(v+this.stackID(h)+` (via recover-delete ${this.parser.getName(u)})`),zde(h,a)):(!i||i.score<h.score)&&(i=h)}return i}stackToTree(e){return e.close(),Fi.build({buffer:TH.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(zre||(zre=new WeakMap)).get(e);return r||zre.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function zde(t,e){for(let r=0;r<e.length;r++){let a=e[r];if(a.pos==t.pos&&a.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class CPe{constructor(e,r,a){this.source=e,this.flags=r,this.disabled=a}allows(e){return!this.disabled||this.disabled[e]==0}}const Zre=t=>t;class wie{constructor(e){this.start=e.start,this.shift=e.shift||Zre,this.reduce=e.reduce||Zre,this.reuse=e.reuse||Zre,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class AS extends tie{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let h=0;h<e.repeatNodeCount;h++)r.push("");let a=Object.keys(e.topRules).map(h=>e.topRules[h][1]),i=[];for(let h=0;h<r.length;h++)i.push([]);function d(h,u,p){i[h].push([u,u.deserialize(String(p))])}if(e.nodeProps)for(let h of e.nodeProps){let u=h[0];typeof u=="string"&&(u=ua[u]);for(let p=1;p<h.length;){let v=h[p++];if(v>=0)d(v,u,h[p++]);else{let y=h[p+-v];for(let b=-v;b>0;b--)d(h[p++],u,y);p++}}}this.nodeSet=new B$(r.map((h,u)=>Fu.define({name:u>=this.minRepeatTerm?void 0:h,id:u,props:i[u],top:a.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Wve;let f=_D(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let h=0;h<this.specializerSpecs.length;h++)this.specialized[h]=this.specializerSpecs[h].term;this.specializers=this.specializerSpecs.map(Zde),this.states=_D(e.states,Uint32Array),this.data=_D(e.stateData),this.goto=_D(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(h=>typeof h=="number"?new KP(f,h):h),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,a){let i=new TPe(this,e,r,a);for(let d of this.wrappers)i=d(i,e,r,a);return i}getGoto(e,r,a=!1){let i=this.goto;if(r>=i[0])return-1;for(let d=i[r+1];;){let f=i[d++],h=f&1,u=i[d++];if(h&&a)return u;for(let p=d+(f>>1);d<p;d++)if(i[d]==e)return u;if(h)return-1}}hasAction(e,r){let a=this.data;for(let i=0;i<2;i++)for(let d=this.stateSlot(e,i?2:1),f;;d+=3){if((f=a[d])==65535)if(a[d+1]==1)f=a[d=dO(a,d+2)];else{if(a[d+1]==2)return dO(a,d+2);break}if(f==r||f==0)return dO(a,d+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,a=>a==r?!0:null)}allActions(e,r){let a=this.stateSlot(e,4),i=a?r(a):void 0;for(let d=this.stateSlot(e,1);i==null;d+=3){if(this.data[d]==65535)if(this.data[d+1]==1)d=dO(this.data,d+2);else break;i=r(dO(this.data,d+1))}return i}nextStates(e){let r=[];for(let a=this.stateSlot(e,1);;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=dO(this.data,a+2);else break;if(!(this.data[a+2]&1)){let i=this.data[a+1];r.some((d,f)=>f&1&&d==i)||r.push(this.data[a],i)}}return r}configure(e){let r=Object.assign(Object.create(AS.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let a=this.topRules[e.top];if(!a)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=a}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(a=>{let i=e.tokenizers.find(d=>d.from==a);return i?i.to:a})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((a,i)=>{let d=e.specializers.find(h=>h.from==a.external);if(!d)return a;let f=Object.assign(Object.assign({},a),{external:d.to});return r.specializers[i]=Zde(f),f})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),a=r.map(()=>!1);if(e)for(let d of e.split(" ")){let f=r.indexOf(d);f>=0&&(a[f]=!0)}let i=null;for(let d=0;d<r.length;d++)if(!a[d])for(let f=this.dialects[r[d]],h;(h=this.data[f++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[h]=1;return new CPe(e,a,i)}static deserialize(e){return new AS(e)}}function dO(t,e){return t[e]|t[e+1]<<16}function kPe(t){let e=null;for(let r of t){let a=r.p.stoppedAt;(r.pos==r.p.stream.end||a!=null&&r.pos>a)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function Zde(t){if(t.external){let e=t.extend?1:0;return(r,a)=>t.external(r,a)<<1|e}return t.get}const APe=1,w1e=201,T1e=202,PPe=203,Hde=204,MPe=205,EPe=206,_Pe=207,RPe=2,DPe=208,$Pe=209,LPe=3,IPe=210,NPe=211,BPe=4,QPe=212,FPe=213,VPe=5,zPe=214,ZPe=26,HPe=27,UPe=51,WPe=52,YPe=57,XPe=58,GPe=59,jPe=61,qPe=62,KPe=63,JPe=64,eMe=65,tMe=67,nMe=251,rMe=74,oMe=270,sMe=115,aMe=133,iMe=154,lMe=155,cMe=158,p$=10,v$=13,Tie=32,kU=9,Cie=35,uMe=40,fMe=46,Ude=123,C1e=39,k1e=34,dMe=92,hMe=new Set([HPe,UPe,WPe,oMe,tMe,aMe,XPe,GPe,nMe,JPe,eMe,rMe,qPe,KPe,iMe,lMe,cMe,sMe]);function Hre(t){return t==p$||t==v$}const mMe=new hh((t,e)=>{let r;if(t.next<0)t.acceptToken(EPe);else if(e.context.depth<0)Hre(t.next)&&t.acceptToken(MPe,1);else if(((r=t.peek(-1))<0||Hre(r))&&e.canShift(Hde)){let a=0;for(;t.next==Tie||t.next==kU;)t.advance(),a++;(t.next==p$||t.next==v$||t.next==Cie)&&t.acceptToken(Hde,-a)}else Hre(t.next)&&t.acceptToken(PPe,1)},{contextual:!0}),gMe=new hh((t,e)=>{let r=e.context.depth;if(r<0)return;let a=t.peek(-1);if(a==p$||a==v$){let i=0,d=0;for(;;){if(t.next==Tie)i++;else if(t.next==kU)i+=8-i%8;else break;t.advance(),d++}i!=r&&t.next!=p$&&t.next!=v$&&t.next!=Cie&&(i<r?t.acceptToken(T1e,-d):t.acceptToken(w1e))}});function Ese(t,e){this.parent=t,this.depth=e,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)}const pMe=new Ese(null,0);function vMe(t){let e=0;for(let r=0;r<t.length;r++)e+=t.charCodeAt(r)==kU?8-e%8:1;return e}const yMe=new wie({start:pMe,reduce(t,e){return t.depth<0&&hMe.has(e)?t.parent:t},shift(t,e,r,a){return e==w1e?new Ese(t,vMe(a.read(a.pos,r.pos))):e==T1e?t.parent:e==ZPe||e==YPe||e==jPe?new Ese(t,-1):t},hash(t){return t.hash}}),bMe=new hh(t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let r=t.peek(e);if(!(r==Tie||r==kU)){r!=uMe&&r!=fMe&&r!=p$&&r!=v$&&r!=Cie&&t.acceptToken(APe);return}}});function AU(t,e,r,a,i){return new hh(d=>{let f=d.pos;for(;!(d.next<0);)if(d.next==Ude)if(d.peek(1)==Ude)d.advance(2);else{if(d.pos==f){d.acceptToken(a,1);return}break}else if(d.next==dMe)d.advance(),d.next>=0&&d.advance();else if(d.next==t&&(e==1||d.peek(1)==t&&d.peek(2)==t)){if(d.pos==f){d.acceptToken(i,e);return}break}else d.advance();d.pos>f&&d.acceptToken(r)})}const OMe=AU(C1e,1,_Pe,RPe,DPe),xMe=AU(k1e,1,$Pe,LPe,IPe),SMe=AU(C1e,3,NPe,BPe,QPe),wMe=AU(k1e,3,FPe,VPe,zPe),TMe=RS({'async "*" "**" FormatConversion FormatSpec':Qt.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":Qt.controlKeyword,"in not and or is del":Qt.operatorKeyword,"from def class global nonlocal lambda":Qt.definitionKeyword,import:Qt.moduleKeyword,"with as print":Qt.keyword,Boolean:Qt.bool,None:Qt.null,VariableName:Qt.variableName,"CallExpression/VariableName":Qt.function(Qt.variableName),"FunctionDefinition/VariableName":Qt.function(Qt.definition(Qt.variableName)),"ClassDefinition/VariableName":Qt.definition(Qt.className),PropertyName:Qt.propertyName,"CallExpression/MemberExpression/PropertyName":Qt.function(Qt.propertyName),Comment:Qt.lineComment,Number:Qt.number,String:Qt.string,FormatString:Qt.special(Qt.string),UpdateOp:Qt.updateOperator,"ArithOp!":Qt.arithmeticOperator,BitOp:Qt.bitwiseOperator,CompareOp:Qt.compareOperator,AssignOp:Qt.definitionOperator,Ellipsis:Qt.punctuation,At:Qt.meta,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace,".":Qt.derefOperator,", ;":Qt.separator}),CMe={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:168,True:170,False:170,del:184,pass:188,break:192,continue:196,return:200,raise:208,import:212,as:214,global:218,nonlocal:220,assert:224,type:229,elif:242,while:246,try:252,except:254,finally:256,with:260,def:264,class:274,match:285,case:291},kMe=AS.deserialize({version:14,states:"#&jO`Q#yOOP$bOSOOO%kQ&nO'#HcOOQS'#Cq'#CqOOQS'#Cr'#CrO'ZQ#xO'#CpO(|Q&nO'#HbOOQS'#Hc'#HcOOQS'#DW'#DWOOQS'#Hb'#HbO)jQ#xO'#DaO)}Q#xO'#DhO*_Q#xO'#DlOOQS'#Dw'#DwO*rO,UO'#DwO*zO7[O'#DwO+SOWO'#DxO+_O`O'#DxO+jOpO'#DxO+uO!bO'#DxO-wQ&nO'#HSOOQS'#HS'#HSO'ZQ#xO'#HRO/ZQ&nO'#HROOQS'#Ee'#EeO/rQ#xO'#EfOOQS'#HQ'#HQO/|Q#xO'#HPOOQV'#HP'#HPO0XQ#xO'#F]OOQS'#Ge'#GeO0^Q#xO'#F[OOQV'#IY'#IYOOQV'#HO'#HOOOQV'#Ft'#FtQ`Q#yOOO'ZQ#xO'#CsO0lQ#xO'#DPO0sQ#xO'#DTO1RQ#xO'#HgO1cQ&nO'#EYO'ZQ#xO'#EZOOQS'#E]'#E]OOQS'#E_'#E_OOQS'#Ea'#EaO1wQ#xO'#EcO2_Q#xO'#EgO0XQ#xO'#EiO2rQ&nO'#EiO0XQ#xO'#ElO/rQ#xO'#EoO0XQ#xO'#EqO/rQ#xO'#EwO/rQ#xO'#EzO2}Q#xO'#E|O3UQ#xO'#FRO3aQ#xO'#E}O/rQ#xO'#FRO0XQ#xO'#FTO0XQ#xO'#FYO3fQ#xO'#F_P3mO#xO'#G}POOO)CBq)CBqOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO3xQ#xO'#DqOOQS,5:[,5:[O4]Q#xO'#HqOOQS,5:_,5:_O4jQMlO,5:_O4oQ&nO,59[O0lQ#xO,59dO0lQ#xO,59dO0lQ#xO,59dO7_Q#xO,59dO7dQ#xO,59dO7kQ#xO,59lO7rQ#xO'#HbO8xQ#xO'#HaOOQS'#Ha'#HaOOQS'#D^'#D^O9aQ#xO,59cO'ZQ#xO,59cO9oQ#xO,59cOOQS,59{,59{O9tQ#xO,5:TO'ZQ#xO,5:TOOQS,5:S,5:SO:SQ#xO,5:SO:XQ#xO,5:ZO'ZQ#xO,5:ZO'ZQ#xO,5:XOOQS,5:W,5:WO:jQ#xO,5:WO:oQ#xO,5:YOOOO'#F|'#F|O:tO,UO,5:cOOQS,5:c,5:cOOOO'#F}'#F}O:|O7[O,5:cO;UQ#xO'#DyOOOW'#GO'#GOO;fOWO,5:dOOQS,5:d,5:dO;UQ#xO'#D}OOO`'#GR'#GRO;qO`O,5:dO;UQ#xO'#EOOOOp'#GS'#GSO;|OpO,5:dO;UQ#xO'#EPOOO!b'#GT'#GTO<XO!bO,5:dOOQS'#GU'#GUO<dQ&nO,5:lO?UQ&nO,5=mO?oQ!LUO,5=mO@`Q&nO,5=mOOQS,5;Q,5;QO@wQ#yO'#G_OBZQ#xO,5;aOOQV,5=k,5=kOBfQ&nO'#ITOB}Q#xO,5;wOOQS-E:c-E:cOOQV,5;v,5;vO3[Q#xO'#FTOOQV-E9r-E9rOCVQ&nO,59_OE^Q&nO,59kOEwQ#xO'#HdOFSQ#xO'#HdO0XQ#xO'#HdOF_Q#xO'#DVOFgQ#xO,59oOFlQ#xO'#HhO'ZQ#xO'#HhO/rQ#xO,5>ROOQS,5>R,5>RO/rQ#xO'#EUOOQS'#EV'#EVOGZQ#xO'#GWOGkQ#xO,59OOGkQ#xO,59OO)pQ#xO,5:rOGyQ&nO'#HjOOQS,5:u,5:uOOQS,5:},5:}OH^Q#xO,5;ROHoQ#xO,5;TOOQS'#GZ'#GZOH}Q&nO,5;TOI]Q#xO,5;TOIbQ#xO'#IWOOQS,5;W,5;WOIpQ#xO'#ISOOQS,5;Z,5;ZOJRQ#xO,5;]O3aQ#xO,5;cO3aQ#xO,5;fOJZQ&nO'#IZO'ZQ#xO'#IZOJeQ#xO,5;hO2}Q#xO,5;hO/rQ#xO,5;mO0XQ#xO,5;oOJjQ#yO'#ExOKvQ#{O,5;iO! [Q#xO'#I[O3aQ#xO,5;mO! gQ#xO,5;oO! oQ#xO,5;tO! zQ&nO,5;yO'ZQ#xO,5;yPOOO,5=i,5=iP!!ROSO,5=iP!!WO#xO,5=iO!${Q&nO1G.lO!%SQ&nO1G.lO!'sQ&nO1G.lO!'}Q&nO1G.lO!*hQ&nO1G.lO!*{Q&nO1G.lO!+`Q#xO'#HpO!+nQ&nO'#HSO/rQ#xO'#HpO!+xQ#xO'#HoOOQS,5:],5:]O!,QQ#xO,5:]O!,VQ#xO'#HrO!,bQ#xO'#HrO!,uQ#xO,5>]OOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-uQ&nO1G/OO!-|Q&nO1G/OO0lQ#xO1G/OO!.iQ#xO1G/WOOQS'#D]'#D]O/rQ#xO,59vOOQS1G.}1G.}O!.pQ#xO1G/gO!/QQ#xO1G/gO!/YQ#xO1G/hO'ZQ#xO'#HiO!/_Q#xO'#HiO!/dQ&nO1G.}O!/tQ#xO,59kO!0zQ#xO,5>XO!1[Q#xO,5>XO!1dQ#xO1G/oO!1iQ&nO1G/oOOQS1G/n1G/nO!1yQ#xO,5>SO!2pQ#xO,5>SO/rQ#xO1G/sO!3_Q#xO1G/uO!3dQ&nO1G/uO!3tQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E9z-E9zOOQS1G/}1G/}OOOO-E9{-E9{O!4UQ#xO'#H|O/rQ#xO'#H|O!4dQ#xO,5:eOOOW-E9|-E9|OOQS1G0O1G0OO!4oQ#xO,5:iOOO`-E:P-E:PO!4zQ#xO,5:jOOOp-E:Q-E:QO!5VQ#xO,5:kOOO!b-E:R-E:ROOQS-E:S-E:SO!5bQ!LUO1G3XO!6RQ&nO1G3XO'ZQ#xO,5<qOOQS,5<q,5<qOOQS-E:T-E:TOOQS,5<y,5<yOOQS-E:]-E:]OOQV1G0{1G0{O0XQ#xO'#GYO!6jQ&nO,5>oOOQS1G1c1G1cO!7RQ#xO1G1cOOQS'#DX'#DXO/rQ#xO,5>OOOQS,5>O,5>OO!7WQ#xO'#FuO!7cQ#xO,59qO!7kQ#xO1G/ZO!7uQ&nO,5>SOOQS1G3m1G3mOOQS,5:p,5:pO!8fQ#xO'#HROOQS,5<r,5<rOOQS-E:U-E:UO!8wQ#xO1G.jOOQS1G0^1G0^O!9VQ#xO,5>UO!9gQ#xO,5>UO/rQ#xO1G0mO/rQ#xO1G0mO0XQ#xO1G0oOOQS-E:X-E:XO!9xQ#xO1G0oO!:TQ#xO1G0oO!:YQ#xO,5>rO!:hQ#xO,5>rO!:vQ#xO,5>nO!;^Q#xO,5>nO!;oQ#xO'#EsO/rQ#xO1G0wO!;zQ#xO1G0wO!<PQ#{O1G0}O!?bQ#{O1G1QO!BpQ#xO,5>uO!BzQ#xO,5>uO!CSQ&nO,5>uO/rQ#xO1G1SO!C^Q#xO1G1SO3aQ#xO1G1XO! gQ#xO1G1ZOOQV,5;d,5;dO!CcQ#zO,5;dO!ChQ#{O1G1TO!F|Q#xO'#GbO3aQ#xO1G1TO3aQ#xO1G1TO!G^Q#xO,5>vO!GkQ#xO,5>vO0XQ#xO,5>vOOQV1G1X1G1XO!GsQ#xO'#FVO!HUQMlO1G1ZO!H^Q#xO1G1ZOOQV1G1`1G1`O3aQ#xO1G1`O!HcQ#xO1G1`O!HkQ#xO'#FaOOQV1G1e1G1eO! zQ&nO1G1ePOOO1G3T1G3TP!HpOSO1G3TOOQS,5>[,5>[OOQS'#Dr'#DrO/rQ#xO,5>[O!HuQ#xO,5>ZO!IYQ#xO,5>ZOOQS1G/w1G/wO!IbQ#xO,5>^O!IrQ#xO,5>^O!IzQ#xO,5>^O!J_Q#xO,5>^O!JoQ#xO,5>^OOQS1G3w1G3wOOQS7+$j7+$jO!7kQ#xO7+$rO!LbQ#xO1G/OO!LiQ#xO1G/OOOQS1G/b1G/bOOQS,5<c,5<cO'ZQ#xO,5<cOOQS7+%R7+%RO!LpQ#xO7+%ROOQS-E9u-E9uOOQS7+%S7+%SO!MQQ#xO,5>TO'ZQ#xO,5>TOOQS7+$i7+$iO!MVQ#xO7+%RO!M_Q#xO7+%SO!MdQ#xO1G3sOOQS7+%Z7+%ZO!MtQ#xO1G3sO!M|Q#xO7+%ZOOQS,5<b,5<bO'ZQ#xO,5<bO!NRQ#xO1G3nOOQS-E9t-E9tO!NxQ#xO7+%_OOQS7+%a7+%aO# WQ#xO1G3nO# uQ#xO7+%aO# zQ#xO1G3tO#![Q#xO1G3tO#!dQ#xO7+%_O#!iQ#xO,5>hO##PQ#xO,5>hO##PQ#xO,5>hO##_O$ISO'#D{O##jO#tO'#H}OOOW1G0P1G0PO##oQ#xO1G0POOO`1G0T1G0TO##wQ#xO1G0TOOOp1G0U1G0UO#$PQ#xO1G0UOOO!b1G0V1G0VO#$XQ#xO1G0VO#$aQ!LUO7+(sO#%QQ&nO1G2]P#%kQ#xO'#GVOOQS,5<t,5<tOOQS-E:W-E:WOOQS7+&}7+&}OOQS1G3j1G3jOOQS,5<a,5<aOOQS-E9s-E9sOOQS7+$u7+$uO#%xQ#xO,5=mO#&cQ#xO,5=mO#&tQ&nO,5<dO#'XQ#xO1G3pOOQS-E9v-E9vOOQS7+&X7+&XO#'iQ#xO7+&XOOQS7+&Z7+&ZO#'wQ#xO'#IVO0XQ#xO'#IUO#(]Q#xO7+&ZOOQS,5<w,5<wO#(hQ#xO1G4^OOQS-E:Z-E:ZOOQS,5<s,5<sO#(vQ#xO1G4YOOQS-E:V-E:VO0XQ#xO'#EtO#)^Q#xO'#EtO#)iQ#xO'#IXO#)qQ#xO,5;_OOQS7+&c7+&cO/rQ#xO7+&cO#)vQ#{O7+&iO!GPQ#xO'#G`O3aQ#xO7+&iO3aQ#xO7+&lO#-XQ&nO,5<{O'ZQ#xO,5<{O#-cQ#xO1G4aOOQS-E:_-E:_O#-mQ#xO1G4aO3aQ#xO7+&nO/rQ#xO7+&nOOQV7+&s7+&sO!HUQMlO7+&uO!H^Q#xO7+&uO`Q#yO1G1OOOQV-E:`-E:`O3aQ#xO7+&oO3aQ#xO7+&oOOQV,5<|,5<|O#-uQ#xO,5<|O!GPQ#xO,5<|OOQV7+&o7+&oO#.QQ#{O7+&oO#1`Q#xO,5<}O#1kQ#xO1G4bOOQS-E:a-E:aO#1xQ#xO1G4bO#2QQ#xO'#I^O#2`Q#xO'#I^O0XQ#xO'#I^OOQS'#I^'#I^O#2kQ#xO'#I]OOQS,5;q,5;qO#2sQ#xO,5;qO/rQ#xO'#FXOOQV7+&u7+&uO3aQ#xO7+&uOOQV7+&z7+&zO3aQ#xO7+&zO#2xQ#zO,5;{OOQV7+'P7+'PPOOO7+(o7+(oO#2}Q#xO1G3vOOQS,5<f,5<fO#3]Q#xO1G3uOOQS-E9x-E9xO#3pQ#xO,5<gO#3{Q#xO,5<gO#4`Q#xO1G3xOOQS-E9y-E9yO#4pQ#xO1G3xO#4xQ#xO1G3xO#5YQ#xO1G3xO#4pQ#xO1G3xOOQS<<H^<<H^O#5eQ&nO1G1}OOQS<<Hm<<HmP#5rQ#xO'#FwO7kQ#xO1G3oO#6PQ#xO1G3oO#6UQ#xO<<HmOOQS<<Hn<<HnO#6fQ#xO7+)_OOQS<<Hu<<HuO#6vQ&nO1G1|P#7gQ#xO'#FvO#7tQ#xO7+)`O#8UQ#xO7+)`O#8^Q#xO<<HyO#8cQ#xO7+)YOOQS<<H{<<H{O#9YQ#xO,5<eO'ZQ#xO,5<eOOQS-E9w-E9wOOQS<<Hy<<HyOOQS,5<k,5<kO/rQ#xO,5<kO#9_Q#xO1G4SOOQS-E9}-E9}O#9uQ#xO1G4SO;UQ#xO'#D|OOOO'#GQ'#GQO#:TO$ISO,5:gOOO#l,5>i,5>iOOOW7+%k7+%kOOO`7+%o7+%oOOOp7+%p7+%pOOO!b7+%q7+%qO#:`Q#xO1G3XO#:yQ#xO1G3XP'ZQ#xO'#FxO/rQ#xO<<IsO#;[Q#xO,5>qO#;mQ#xO,5>qO0XQ#xO,5>qO#<OQ#xO,5>pOOQS<<Iu<<IuP0XQ#xO'#G]P/rQ#xO'#GXOOQS,5;`,5;`O#<TQ#xO,5>sO#<cQ#xO,5>sOOQS1G0y1G0yOOQS<<I}<<I}OOQV-E:^-E:^O3aQ#xO<<JTOOQV,5<z,5<zO3aQ#xO,5<zOOQV<<JT<<JTOOQV<<JW<<JWO#<kQ&nO1G2gP#<uQ#xO'#GaO#<|Q#xO7+){O#=WQ#{O<<JYO3aQ#xO<<JYOOQV<<Ja<<JaO3aQ#xO<<JaO!HUQMlO<<JaO#@fQ#{O7+&jOOQV<<JZ<<JZO#@pQ#{O<<JZOOQV1G2h1G2hO0XQ#xO1G2hO#DOQ#xO1G2hO3aQ#xO<<JZO0XQ#xO1G2iP/rQ#xO'#GcO#DZQ#xO7+)|O#DhQ#xO7+)|OOQS'#FW'#FWO/rQ#xO,5>xO#DpQ#xO,5>xOOQS,5>x,5>xO#D{Q#xO,5>wO#E^Q#xO,5>wOOQS1G1]1G1]OOQS,5;s,5;sOOQV<<Jf<<JfO#EfQ#xO1G1gOOQS7+)b7+)bP#EkQ#xO'#FzO#E{Q#xO1G2RO#F`Q#xO1G2RO#FpQ#xO1G2RP#F{Q#xO'#F{O#GYQ#xO7+)dO#GjQ#xO7+)dO#GjQ#xO7+)dO#GrQ#xO7+)dO#HSQ#xO7+)ZO7kQ#xO7+)ZOOQSAN>XAN>XO#HmQ#xO<<LzOOQSAN>eAN>eO/rQ#xO1G2PO#H}Q&nO1G2PP#IXQ#xO'#FyOOQS1G2V1G2VP#IfQ#xO'#GPO#IsQ#xO7+)nO#JZQ#xO,5:hOOOO-E:O-E:OO#JfQ#xO7+(sOOQSAN?_AN?_O#KPQ#xO,5<vO#KeQ#xO1G4]OOQS-E:Y-E:YO#KvQ#xO1G4]OOQS1G4[1G4[OOQS,5<x,5<xO#LXQ#xO1G4_OOQS-E:[-E:[OOQVAN?oAN?oOOQV1G2f1G2fO3aQ#xOAN?tO#LgQ#{OAN?tOOQVAN?{AN?{O3aQ#xOAN?{OOQV<<JU<<JUO3aQ#xOAN?uO3aQ#xO7+(SOOQV7+(S7+(SO0XQ#xO7+(SOOQVAN?uAN?uOOQS7+(T7+(TO$ uQ#xO<<MhOOQS1G4d1G4dO/rQ#xO1G4dOOQS,5=O,5=OO$!SQ#xO1G4cOOQS-E:b-E:bOOQU'#Gf'#GfO$!eQ#zO7+'RO$!pQ#xO'#FbO$#hQ#xO7+'mO$#xQ#xO7+'mOOQS7+'m7+'mO$$TQ#xO<<MOO$$eQ#xO<<MOO$$eQ#xO<<MOO$$mQ#xO'#HkOOQS<<Lu<<LuO$$wQ#xO<<LuOOQS7+'k7+'kOOOO1G0S1G0SO$%bQ#xO1G0SO0XQ#xO1G2bP0XQ#xO'#G[O$%jQ#xO7+)wO$%{Q#xO7+)wP!;oQ#xO'#G^OOQVG25`G25`O3aQ#xOG25`OOQVG25gG25gOOQVG25aG25aOOQV<<Kn<<KnO3aQ#xO<<KnOOQS7+*O7+*OP$&^Q#xO'#GdOOQU-E:d-E:dOOQV<<Jm<<JmO$'QQ&nO'#FdOOQS'#Ff'#FfO$'bQ#xO'#FeO$(SQ#xO'#FeOOQS'#Fe'#FeO$(XQ#xO'#I`O$!pQ#xO'#FlO$!pQ#xO'#FlO$(pQ#xO'#FmO$!pQ#xO'#FnO$(wQ#xO'#IaOOQS'#Ia'#IaO$)fQ#xO,5;|OOQS<<KX<<KXO$)nQ#xO<<KXO$*OQ#xOANBjO$*`Q#xOANBjO$*hQ#xO'#HlOOQS'#Hl'#HlO0sQ#xO'#DeO$+RQ#xO,5>VOOQSANBaANBaOOOO7+%n7+%nOOQS7+'|7+'|O$+jQ#xO<<McOOQVLD*zLD*zOOQVANAYANAYO4jQMlO'#GhO$+{Q&nO,5<VO$!pQ#xO'#FpOOQS,5<Z,5<ZOOQS'#Fg'#FgO$,mQ#xO,5<PO$,rQ#xO,5<POOQS'#Fj'#FjO$!pQ#xO'#GgO$-dQ#xO,5<TO$.OQ#xO,5>zO$.`Q#xO,5>zO0XQ#xO,5<SO$.qQ#xO,5<WO$.vQ#xO,5<WO$!pQ#xO'#IbO$.{Q#xO'#IbO$/QQ#xO,5<XOOQS,5<Y,5<YO'ZQ#xO'#FsOOQU1G1h1G1hO3aQ#xO1G1hOOQSAN@sAN@sO$/VQ#xOG28UO$/gQ#xO,5:POOQS1G3q1G3qOOQS,5=S,5=SOOQS-E:f-E:fO$/lQ&nO'#FdO$/sQ#xO'#IcO$0RQ#xO'#IcO$0ZQ#xO,5<[OOQS1G1k1G1kO$0`Q#xO1G1kO$0eQ#xO,5=ROOQS-E:e-E:eO$1PQ#xO,5=VO$1hQ#xO1G4fOOQS-E:i-E:iOOQS1G1n1G1nOOQS1G1r1G1rO$1xQ#xO,5>|O$!pQ#xO,5>|OOQS1G1s1G1sO$2WQ&nO,5<_OOQU7+'S7+'SO$$mQ#xO1G/kO$!pQ#xO,5<]O$2_Q#xO,5>}O$2fQ#xO,5>}OOQS1G1v1G1vOOQS7+'V7+'VP$!pQ#xO'#GkO$2nQ#xO1G4hO$2xQ#xO1G4hO$3QQ#xO1G4hOOQS7+%V7+%VO$3`Q#xO1G1wO$3nQ&nO'#FdO$3uQ#xO,5=UOOQS,5=U,5=UO$4TQ#xO1G4iOOQS-E:h-E:hO$!pQ#xO,5=TO$4[Q#xO,5=TO$4aQ#xO7+*SOOQS-E:g-E:gO$4kQ#xO7+*SO$!pQ#xO,5<^P$!pQ#xO'#GjO$4sQ#xO1G2oO$!pQ#xO1G2oP$5RQ#xO'#GiO$5YQ#xO<<MnO$5dQ#xO1G1xO$5rQ#xO7+(ZO7kQ#xO'#DPO7kQ#xO,59dO7kQ#xO,59dO7kQ#xO,59dO$6QQ&nO,5=mO7kQ#xO1G/OO/rQ#xO1G/ZO/rQ#xO7+$rP$6eQ#xO'#GVO'ZQ#xO'#HRO$6rQ#xO,59dO$6wQ#xO,59dO$7OQ#xO,59oO$7TQ#xO1G/WO0sQ#xO'#DTO7kQ#xO,59l",stateData:"$7f~O%pOS%eOSUOS%dPQ~OPiOXfOhtOjYOquOu!UOxvO!RwO!S!QO!V!XO!W!WO!ZZO!_[O!jeO!ueO!veO!weO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#o!VO#r!YO#v!ZO#x![O#}!]O$QmO$S!^O%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O%d!_O~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%w!aO%x!bO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fO~Om&VXn&VXo&VXp&VXq&VXr&VXu&VX|&VX}&VX!{&VX#j&VX%c&VX%f&VX&X&VXi&VX!V&VX!W&VX&Y&VX!Y&VX!^&VX!S&VX#_&VXv&VX!n&VX~P$gOhtOjYO!ZZO!_[O!jeO!ueO!veO!weO%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O|&UX}&UX#j&UX%c&UX%f&UX&X&UX~Om!uOn!vOo!tOp!tOq!wOr!xOu!yO!{&UX~P(hOX#POi#ROq0zOx1YO!RwO~P'ZOX#TOq0zOx1YO!Y#UO~P'ZOX#XOc#YOq0zOx1YO!^#ZO~P'ZO&j#^O&k#`O~O&m#aO&n#`O~OQ#cO%g#dO%h#fO~OR#gO%i#hO%j#fO~OS#jO%k#kO%l#fO~OT#mO%m#nO%n#fO~OX%vXa%vXc%vXj%vXm%vXn%vXo%vXp%vXq%vXr%vXu%vX|%vX!Z%vX!h%vX%w%vX%x%vX%y%vX%z%vX%{%vX%|%vX%}%vX&O%vX&P%vX&Q%vXi%vX!V%vX!W%vX~O&h]O&i^O&l_O&o`O&saO&tbO&ucO}%vX!{%vX#j%vX%c%vX%f%vX&X%vX&Y%vX!Y%vX!^%vX!S%vX#_%vXv%vX!n%vX~P,QO|#sO}%uX!{%uX#j%uX%c%uX%f%uX&X%uX~Oq0zOx1YO~P'ZO#j#vO%c#xO%f#xO~O&SWO~O!V#}O#x![O#}!]O$QmO~OquO~P'ZOX$SOc$TO&SWO}yP~OX$XOq0zOx1YO!S$YO~P'ZO}$[O!{$aO&X$]O#j!|X%c!|X%f!|X~OX$XOq0zOx1YO#j#VX%c#VX%f#VX~P'ZOq0zOx1YO#j#ZX%c#ZX%f#ZX~P'ZO!h$gO!u$gO&SWO~OX$rO~P'ZO!W$tO#v$uO#x$vO~O}$wO~OX%OO~P'ZOU%QO%c%PO%p%RO~OX%[Oc%[Oi%^Oq0zOx1YO~P'ZOq0zOx1YO}%aO~P'ZO&g%cO~Oc!gOj!nO!Z!pO!h!rOXdaadamdandaodapdaqdardauda|da}da!{da#jda%cda%fda%wda%xda%yda%zda%{da%|da%}da&Oda&Pda&Qda&Xdaida!Vda!Wda&Yda!Yda!^da!Sda#_davda!nda~Op%hO~Oq%hO~P'ZOq0zO~P'ZOm0|On0}Oo0{Op0{Oq1UOr1VOu1ZOi&UX!V&UX!W&UX&Y&UX!Y&UX!^&UX!S&UX#_&UX!n&UX~P(hO&Y%jOi&TX|&TX!V&TX!W&TX!Y&TX}&TX~Oi%lO|%mO!V%qO!W%pO~Oi%lO~O|%tO!V%qO!W%pO!Y&aX~O!Y%xO~O|%yO}%{O!V%qO!W%pO!^&[X~O!^&PO~O!^&QO~O&j#^O&k&SO~O&m#aO&n&SO~OX&VOq0zOx1YO!RwO~P'ZOQ#cO%g#dO%h&YO~OR#gO%i#hO%j&YO~OS#jO%k#kO%l&YO~OT#mO%m#nO%n&YO~OX!taa!tac!taj!tam!tan!tao!tap!taq!tar!tau!ta|!ta}!ta!Z!ta!h!ta!{!ta#j!ta%c!ta%f!ta%w!ta%x!ta%y!ta%z!ta%{!ta%|!ta%}!ta&O!ta&P!ta&Q!ta&X!tai!ta!V!ta!W!ta&Y!ta!Y!ta!^!ta!S!ta#_!tav!ta!n!ta~P#yO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P$gOX&dOquOxvO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P'ZO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#j%RX%c%RX%f%RX~P'ZO#j#vO%c&iO%f&iO~O!h&jOj&wX%c&wX#_&wX#j&wX%f&wX#^&wX~Oj!nO%c&lO~Omgangaogapgaqgargauga|ga}ga!{ga#jga%cga%fga&Xgaiga!Vga!Wga&Yga!Yga!^ga!Sga#_gavga!nga~P$gOusa|sa}sa#jsa%csa%fsa&Xsa~Om!uOn!vOo!tOp!tOq!wOr!xO!{sa~PDuO&X&nO|&WX}&WX~O&SWO|&WX}&WX~O|&qO}yX~O}&sO~O|%yO#j&[X%c&[X%f&[Xi&[X}&[X!^&[X!n&[X&X&[X~OX1TOq0zOx1YO!RwO~P'ZO&X$]O#jWa%cWa%fWa~O|&|O#j&^X%c&^X%f&^Xp&^X~P$gO|'PO!S'OO#j#Za%c#Za%f#Za~O#_'QO#j#]a%c#]a%f#]a~O!h$gO!u$gO#^'SO&SWO~O#^'SO~O|'UO#j&zX%c&zX%f&zX~O|'WO#j&vX%c&vX%f&vX}&vX~O!Z'YO&X'ZO~O|'_Op&}X~P$gOp'bO~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO%c'gO~P'ZOv'kO#s'iO#t'jOP#qaX#qah#qaj#qaq#qau#qax#qa!R#qa!S#qa!V#qa!W#qa!Z#qa!_#qa!j#qa!u#qa!v#qa!w#qa#O#qa#Q#qa#S#qa#U#qa#W#qa#[#qa#^#qa#a#qa#b#qa#d#qa#f#qa#o#qa#r#qa#v#qa#x#qa#}#qa$Q#qa$S#qa%`#qa%|#qa%}#qa&R#qa&S#qa&h#qa&i#qa&l#qa&o#qa&s#qa&t#qa&u#qa%b#qa%f#qa~O|'lO#_'nO}'OX~Oj'pO!Z'YO~Oj!nO}$wO!Z'YO~O}'vO~P$gO%c'yO~OU'zO%c'yO~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%x!bO~P!!`O%xYi~P!!`OX!fOa!fOc!gOj!nO!Z!pO!h!rO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%z!dO%{!dO~P!%ZO%zYi%{Yi~P!%ZOc!gOj!nO!Z!pO!h!rOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi%zYi%{Yi%|Yi%}Yi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~OX!fOa!fO&O!fO&P!fO&Q!fO~P!(XOXYiaYi&OYi&PYi&QYi~P!(XO!V%qO!W%pOi&dX|&dX~O&X'|O&Y'|O~P,QO|(OOi&cX~Oi(QO~O|(RO}(TO!Y&fX~Oq0zOx1YO|(RO}(UO!Y&fX~P'ZO!Y(WO~Oo!tOp!tOq!wOr!xOmliuli|li}li!{li#jli%cli%fli&Xli~On!vO~P!,zOnli~P!,zOm0|On0}Oo0{Op0{Oq1UOr1VO~Ov(YO~P!.TOX(_Oi(`Oq0zOx1YO~P'ZOi(`O|(aO~Oi(cO~O!W(eO~Oi(fO|(aO!V%qO!W%pO~P$gOm0|On0}Oo0{Op0{Oq1UOr1VOisa!Vsa!Wsa&Ysa!Ysa!^sa!Ssa#_savsa!nsa~PDuOX(_Oq0zOx1YO!Y&aa~P'ZO|(iO!Y&aa~O!Y(jO~O|(iO!V%qO!W%pO!Y&aa~P$gOX(nOq0zOx1YO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~P'ZO|(oO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~O!^(rO~O|(oO!V%qO!W%pO!^&[a~P$gO|(uO!V%qO!W%pO!^&ba~P$gO|(xO}&pX!^&pX!n&pX~O}({O!^(}O!n)OO~O}({O!^)PO!n)QO~O}({O!^)RO!n)SO~O}({O!^)TO!n)UO~OX&dOquOxvO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~P'ZO|)VO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~O!h&jOj&wa%c&wa#_&wa#j&wa%f&wa#^&wa~O%c)[O~OX$SOc$TO&SWO~O|&qO}ya~OquOxvO~P'ZO|(oO#j&[a%c&[a%f&[ai&[a}&[a!^&[a!n&[a&X&[a~P$gO|)aO#j%uX%c%uX%f%uX&X%uX~O&X$]O#jWi%cWi%fWi~O#j&^a%c&^a%f&^ap&^a~P'ZO|)dO#j&^a%c&^a%f&^ap&^a~OX)hOj)jO&SWO~O#^)kO~O&SWO#j&za%c&za%f&za~O|)mO#j&za%c&za%f&za~Oq0zOx1YO#j&va%c&va%f&va}&va~P'ZO|)pO#j&va%c&va%f&va}&va~OX)rOc)rO&SWO~O&X)wO~Ov)zO#m)yOP#kiX#kih#kij#kiq#kiu#kix#ki!R#ki!S#ki!V#ki!W#ki!Z#ki!_#ki!j#ki!u#ki!v#ki!w#ki#O#ki#Q#ki#S#ki#U#ki#W#ki#[#ki#^#ki#a#ki#b#ki#d#ki#f#ki#o#ki#r#ki#v#ki#x#ki#}#ki$Q#ki$S#ki%`#ki%|#ki%}#ki&R#ki&S#ki&h#ki&i#ki&l#ki&o#ki&s#ki&t#ki&u#ki%b#ki%f#ki~Ov){OP#niX#nih#nij#niq#niu#nix#ni!R#ni!S#ni!V#ni!W#ni!Z#ni!_#ni!j#ni!u#ni!v#ni!w#ni#O#ni#Q#ni#S#ni#U#ni#W#ni#[#ni#^#ni#a#ni#b#ni#d#ni#f#ni#o#ni#r#ni#v#ni#x#ni#}#ni$Q#ni$S#ni%`#ni%|#ni%}#ni&R#ni&S#ni&h#ni&i#ni&l#ni&o#ni&s#ni&t#ni&u#ni%b#ni%f#ni~OX)}Op&}a~P'ZO|*OOp&}a~O|*OOp&}a~P$gOp*SO~O%a*WO~Ov*ZO#s'iO#t*YOP#qiX#qih#qij#qiq#qiu#qix#qi!R#qi!S#qi!V#qi!W#qi!Z#qi!_#qi!j#qi!u#qi!v#qi!w#qi#O#qi#Q#qi#S#qi#U#qi#W#qi#[#qi#^#qi#a#qi#b#qi#d#qi#f#qi#o#qi#r#qi#v#qi#x#qi#}#qi$Q#qi$S#qi%`#qi%|#qi%}#qi&R#qi&S#qi&h#qi&i#qi&l#qi&o#qi&s#qi&t#qi&u#qi%b#qi%f#qi~OX*^Oq0zOx1YO}$wO~P'ZOq0zOx1YO}'Oa~P'ZO|*bO}'Oa~OX*fOc*gOi*jO&O*hO&SWO~O}$wO'R*lO~Oj'pO~Oj!nO}$wO~O%c*qO~O%c*sO~OX%[Oc%[Oq0zOx1YOi&ca~P'ZO|*vOi&ca~Oq0zOx1YO}*yO!Y&fa~P'ZO|*zO!Y&fa~Oq0zOx1YO|*zO}*}O!Y&fa~P'ZOq0zOx1YO|*zO!Y&fa~P'ZO|*zO}*}O!Y&fa~Oo0{Op0{Oq1UOr1VOilimliuli|li!Vli!Wli&Yli!Yli}li!^li#jli%cli%fli!Sli#_livli!nli&Xli~On0}O~P!JzOnli~P!JzOX(_Oi+SOq0zOx1YO~P'ZOp+UO~Oi+SO|+WO~Oi+XO~OX(_Oq0zOx1YO!Y&ai~P'ZO|+YO!Y&ai~O!Y+ZO~OX(nOq0zOx1YO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~P'ZO|+^O!V%qO!W%pO!^&bi~O|+aO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~O!^+bO~Oc+dOq0zOx1YO!^&bi~P'ZO|+^O!^&bi~O!^+fO~OX+hOq0zOx1YO}&pa!^&pa!n&pa~P'ZO|+iO}&pa!^&pa!n&pa~O!_+lO&r+mO!^!oX~O!^+oO~O}({O!^+pO~O}({O!^+qO~O}({O!^+rO~O}({O!^+sO~OX&dOquOxvO}%uq!{%uq#j%uq%c%uq%f%uq&X%uq~P'ZO|$yi}$yi!{$yi#j$yi%c$yi%f$yi&X$yi~P$gOX&dOquOxvO~P'ZOX&dOq0zOx1YO#j%ua%c%ua%f%ua&X%ua~P'ZO|+tO#j%ua%c%ua%f%ua&X%ua~O|$la#j$la%c$la%f$lap$la~P$gO#j&^i%c&^i%f&^ip&^i~P'ZO|+wO#j#Zq%c#Zq%f#Zq~O|+xO#_+zO#j&yX%c&yX%f&yXi&yX~OX+|Oj)jO&SWO~O&SWO#j&zi%c&zi%f&zi~Oq0zOx1YO#j&vi%c&vi%f&vi}&vi~P'ZO}$[O|#hX!Y#hX~O|,QO!Y&{X~O!Y,SO~Ov,VO#m)yOP#kqX#kqh#kqj#kqq#kqu#kqx#kq!R#kq!S#kq!V#kq!W#kq!Z#kq!_#kq!j#kq!u#kq!v#kq!w#kq#O#kq#Q#kq#S#kq#U#kq#W#kq#[#kq#^#kq#a#kq#b#kq#d#kq#f#kq#o#kq#r#kq#v#kq#x#kq#}#kq$Q#kq$S#kq%`#kq%|#kq%}#kq&R#kq&S#kq&h#kq&i#kq&l#kq&o#kq&s#kq&t#kq&u#kq%b#kq%f#kq~Op%Ta|%Ta~P$gOX)}Op&}i~P'ZO|,^Op&}i~O|,hO}$wO#_,hO~O#t,jOP#qqX#qqh#qqj#qqq#qqu#qqx#qq!R#qq!S#qq!V#qq!W#qq!Z#qq!_#qq!j#qq!u#qq!v#qq!w#qq#O#qq#Q#qq#S#qq#U#qq#W#qq#[#qq#^#qq#a#qq#b#qq#d#qq#f#qq#o#qq#r#qq#v#qq#x#qq#}#qq$Q#qq$S#qq%`#qq%|#qq%}#qq&R#qq&S#qq&h#qq&i#qq&l#qq&o#qq&s#qq&t#qq&u#qq%b#qq%f#qq~O#_,kO|%Va}%Va~Oq0zOx1YO}'Oi~P'ZO|,mO}'Oi~O}$[O&X,oOi'QX|'QX~O&SWOi'QX|'QX~O|,sOi'PX~Oi,uO~O%a,xO~O!V%qO!W%pOi&di|&di~OX%[Oc%[Oq0zOx1YOi&ci~P'ZO},{O|$oa!Y$oa~Oq0zOx1YO},|O|$oa!Y$oa~P'ZOq0zOx1YO}*yO!Y&fi~P'ZO|-PO!Y&fi~Oq0zOx1YO|-PO!Y&fi~P'ZO|-PO}-SO!Y&fi~Oi$ki|$ki!Y$ki~P$gOX(_Oq0zOx1YO~P'ZOp-UO~OX(_Oi-VOq0zOx1YO~P'ZOX(_Oq0zOx1YO!Y&aq~P'ZO|$ji!^$ji#j$ji%c$ji%f$jii$ji}$ji!n$ji&X$ji~P$gOX(nOq0zOx1YO~P'ZOc+dOq0zOx1YO!^&bq~P'ZO|-WO!^&bq~O!^-XO~OX(nOq0zOx1YO!^&[q#j&[q%c&[q%f&[qi&[q}&[q!n&[q&X&[q~P'ZO}-YO~OX+hOq0zOx1YO}&pi!^&pi!n&pi~P'ZO|-_O}&pi!^&pi!n&pi~O!_+lO&r+mO!^!oa~OX&dOq0zOx1YO#j%ui%c%ui%f%ui&X%ui~P'ZO|-bO#j%ui%c%ui%f%ui&X%ui~O&SWO#j&ya%c&ya%f&yai&ya~O|-eO#j&ya%c&ya%f&yai&ya~Oi-hO~OX)rOc)rO&SWO!Y&{a~O|-jO!Y&{a~Op%Ti|%Ti~P$gOX)}O~P'ZOX)}Op&}q~P'ZOv-nOP#pyX#pyh#pyj#pyq#pyu#pyx#py!R#py!S#py!V#py!W#py!Z#py!_#py!j#py!u#py!v#py!w#py#O#py#Q#py#S#py#U#py#W#py#[#py#^#py#a#py#b#py#d#py#f#py#o#py#r#py#v#py#x#py#}#py$Q#py$S#py%`#py%|#py%}#py&R#py&S#py&h#py&i#py&l#py&o#py&s#py&t#py&u#py%b#py%f#py~O%b-rO%f-rO~P`O#t-sOP#qyX#qyh#qyj#qyq#qyu#qyx#qy!R#qy!S#qy!V#qy!W#qy!Z#qy!_#qy!j#qy!u#qy!v#qy!w#qy#O#qy#Q#qy#S#qy#U#qy#W#qy#[#qy#^#qy#a#qy#b#qy#d#qy#f#qy#o#qy#r#qy#v#qy#x#qy#}#qy$Q#qy$S#qy%`#qy%|#qy%}#qy&R#qy&S#qy&h#qy&i#qy&l#qy&o#qy&s#qy&t#qy&u#qy%b#qy%f#qy~O|-vO}$wO#_-vO~Oq0zOx1YO}'Oq~P'ZO|-yO}'Oq~O&X,oOi'Qa|'Qa~OX*fOc*gO&O*hO&SWOi'Pa~O|-}Oi'Pa~O$V.RO~OX%[Oc%[Oq0zOx1YO~P'ZOq0zOx1YO}.SO|$oi!Y$oi~P'ZOq0zOx1YO|$oi!Y$oi~P'ZO}.SO|$oi!Y$oi~Oq0zOx1YO}*yO~P'ZOq0zOx1YO}*yO!Y&fq~P'ZO|.VO!Y&fq~Oq0zOx1YO|.VO!Y&fq~P'ZOu.YO!V%qO!W%pOi&]q!Y&]q!^&]q|&]q~P!.TOc+dOq0zOx1YO!^&by~P'ZO|$mi!^$mi~P$gOc+dOq0zOx1YO~P'ZOX+hOq0zOx1YO~P'ZOX+hOq0zOx1YO}&pq!^&pq!n&pq~P'ZO}({O!^.^O!n._O~OX&dOq0zOx1YO#j%uq%c%uq%f%uq&X%uq~P'ZO#_.`O|%Oa#j%Oa%c%Oa%f%Oai%Oa~O&SWO#j&yi%c&yi%f&yii&yi~O|.bO#j&yi%c&yi%f&yii&yi~OX)rOc)rO&SWO!Y&{i~Ov.fOP#p!RX#p!Rh#p!Rj#p!Rq#p!Ru#p!Rx#p!R!R#p!R!S#p!R!V#p!R!W#p!R!Z#p!R!_#p!R!j#p!R!u#p!R!v#p!R!w#p!R#O#p!R#Q#p!R#S#p!R#U#p!R#W#p!R#[#p!R#^#p!R#a#p!R#b#p!R#d#p!R#f#p!R#o#p!R#r#p!R#v#p!R#x#p!R#}#p!R$Q#p!R$S#p!R%`#p!R%|#p!R%}#p!R&R#p!R&S#p!R&h#p!R&i#p!R&l#p!R&o#p!R&s#p!R&t#p!R&u#p!R%b#p!R%f#p!R~Oq0zOx1YO}'Oy~P'ZOX*fOc*gO&O*hO&SWOi'Pi~O$V.RO%b.nO%f.nO~OX.xOj.vO!Z.uO!_.wO!j.qO!v.sO!w.sO%}.pO&SWO&h]O&i^O&l_O~Oq0zOx1YO|$oq!Y$oq~P'ZO}.}O|$oq!Y$oq~Oq0zOx1YO}*yO!Y&fy~P'ZO|/OO!Y&fy~Oq0zOx/SO~P'ZOu.YO!V%qO!W%pOi&]y!Y&]y!^&]y|&]y~P!.TO}({O!^/VO~O&SWO#j&yq%c&yq%f&yqi&yq~O|/XO#j&yq%c&yq%f&yqi&yq~OX*fOc*gO&O*hO&SWO~Oj/^O!h/[O|$WX#_$WX%w$WXi$WX~Ou$WX}$WX!Y$WX!^$WX~P$&lO%|/`O%}/`Ou$XX|$XX}$XX#_$XX%w$XX!Y$XXi$XX!^$XX~O!j/bO~O|/fO#_/hO%w/cOu'SX}'SX!Y'SXi'SX~Oc/kO~P$!|Oj/^Ou'TX|'TX}'TX#_'TX%w'TX!Y'TXi'TX!^'TX~Ou/oO}$wO~Oq0zOx1YO|$oy!Y$oy~P'ZOq0zOx1YO}*yO!Y&f!R~P'ZO|/sO!Y&f!R~Oi&`Xu&`X!V&`X!W&`X!Y&`X!^&`X|&`X~P!.TOu.YO!V%qO!W%pOi&_a!Y&_a!^&_a|&_a~O&SWO#j&yy%c&yy%f&yyi&yy~O!h/[Oj$_au$_a|$_a}$_a#_$_a%w$_a!Y$_ai$_a!^$_a~O!j/|O~O%|/`O%}/`Ou$Xa|$Xa}$Xa#_$Xa%w$Xa!Y$Xai$Xa!^$Xa~O%w/cOu$]a|$]a}$]a#_$]a!Y$]ai$]a!^$]a~Ou'Sa}'Sa!Y'Sai'Sa~P$!pO|0ROu'Sa}'Sa!Y'Sai'Sa~O!Y0UO~Oi0UO~O}0WO~O!^0XO~Oq0zOx1YO}*yO!Y&f!Z~P'ZO}0[O~O&X0]O~P$&lO|0^O#_/hO%w/cOi'VX~O|0^Oi'VX~Oi0`O~O!j0aO~O#_/hOu%Za|%Za}%Za%w%Za!Y%Zai%Za!^%Za~O#_/hO%w/cOu%_a|%_a}%_a!Y%_ai%_a~Ou'Si}'Si!Y'Sii'Si~P$!pO|0cO#_/hO%w/cO!^'Ua~O}$ga~P$gOi'Va~P$!pO|0kOi'Va~Oc0mO!^'Ui~P$!|O|0oO!^'Ui~O|0oO#_/hO%w/cO!^'Ui~O#_/hO%w/cOi$ei|$ei~O&X0rO~P$&lO#_/hO%w/cOi%^a|%^a~Oi'Vi~P$!pO}0uO~Oc0mO!^'Uq~P$!|O|0wO!^'Uq~O#_/hO%w/cO|%]i!^%]i~Oc0mO~P$!|Oc0mO!^'Uy~P$!|O#_/hO%w/cOi$fi|$fi~O#_/hO%w/cO|%]q!^%]q~O|+tO#j%ua%c%ua%f%ua&X%ua~P$gOX&dOq0zOx1YO~P'ZOp1PO~Oq1PO~P'ZO}1QO~Ov1RO~P!.TO&i&l&t&u&h&o&s&S&h~",goto:"!?b'WPPPPPPPP'XP'a*|+f,P,k-W-tP.cP'a/S/S'aPPP'a2oPPPPPP2o5fPP5fP7y8S>fPP>i?Z?^PP'a'aPP?vPP'a'aPP'a'a'a'a'a?z@t'aP@wP@}EXHxPH|IYI^IbIf'aPPPIjIs'XP'X'XP'XP'XP'XP'XP'X'X'XP'XPP'XPP'XP'XPIyJVJ_PJfJlPJfPJfJfPPPJfPLzPMTM_MeLzPJfMnPJfPMuM{PNPNe! S! mNPNP! s!!QNPNPNPNP!!f!!l!!o!!t!!w!#R!#X!#e!#w!#}!$X!$_!${!%R!%X!%_!%i!%o!%u!%{!&R!&X!&k!&u!&{!'R!'X!'c!'i!'o!'u!'{!(V!(]!(g!(m!(v!(|!)]!)e!)o!)vPPPPPPPPPPPPPPPPP!)|!*P!*V!*`!*j!*uPPPPPPPPPPPP!/l!1Q!5T!8hPP!8p!9S!9]!:U!9{!:_!:e!:h!:k!:n!:v!;gPPPPPPPPP!;j!;yPPPP!<i!<u!=R!=X!=b!=e!=h!=n!=t!=z!=}P!>V!>`!?[!?_]jOs#v$w*W,d(TeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z}!hQ#r$P$b$q$}%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!P!iQ#r$P$b$q$}%S%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!R!jQ#r$P$b$q$}%S%T%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!T!kQ#r$P$b$q$}%S%T%U%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!V!lQ#r$P$b$q$}%S%T%U%V%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!X!mQ#r$P$b$q$}%S%T%U%V%W%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!]!mQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O(TTOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z&iVOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1Z%sXOYZ[isw}!O!S!U!V!Z!n!p#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$VvQ/t/SR1W1Y'zeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZW#ym!P!Q$hW$Rv&q/S1YQ$j!RQ$n!TQ${![Q$|!]W%Z!n(O*v,zS&p$S$TQ'e$vQ)Y&jQ)h'QU)i'S)j)kU)l'U)m+}W)s'Y,Q-j.dQ*d'nW*e'p,s-}.lQ,P)rS,r*f*gY-d+x-e.a.b/XQ-g+zQ-t,hQ-x,kQ.j-vl.o.R.u.v.x/d/f/k0R0W0]0b0m0r0uQ/W.`Q/l.wQ/x/^Q0T/hU0h0^0k0sX0n0c0o0v0wR&o$R!_!|YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sR%k!{Q#QYQ&W#cQ&Z#gQ&]#jQ&_#mQ&x$^Q&{$aR-`+lT/R.Y0[![!oQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OQ&m#zQ't$|R*p'uR'}%ZQ%d!rR/v/[(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZS#pd#q!P.s.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0w(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZT#pd#qT#d`#ee(|&W&Z&]&_)O)Q)S)U-`._T+m({+nT#ha#iT#kb#lT#nc#oQ$`xQ,P)sR,q*eX$^x$_$`&zQ'[$nQ'r${Q'u$|R*V'eQ)t'YV-i,Q-j.dZlOs$w*W,dXpOs*W,dQ$x!YQ']$oQ'^$pQ'o$zQ's$|Q*T'dQ*['iQ*_'jQ*`'kQ*m'qS*o't'uQ,W)yQ,Y)zQ,Z){Q,_*RS,a*U*nQ,e*YQ,f*ZS,g*]*^Q,w*pQ-l,VQ-m,XQ-o,`S-p,b,cQ-u,iQ-w,jQ.e-nQ.g-qQ.h-sQ.i-tQ/Y.fQ/Z.jQ/p.{R0Z/qWpOs*W,dR#|oQ'q${S*U'e'rR,c*VQ,p*eR-{,qQ*n'qQ,b*UR-q,cZnOos*W,dQ'w$}R*r'xT.P,x.Qu.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0ut.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uQ/l.wX0n0c0o0v0w!P.r.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0wQ/a.qR/}/bg/d.t/e/y0Q0V0e0g0i0t0x0yu.y.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uX/_.o.y/x0hR/z/^V0j0^0k0sR/q.{QsOS$Os,dR,d*WQ&r$UR)_&rS%z#W$WS(p%z(sT(s%}&tQ%n#OQ%u#SW(b%n%u(g(kQ(g%rR(k%wQ&}$bR)e&}Q(v&OQ+_(qT+e(v+_Q(P%]R*w(PS(S%`%aY*{(S*|-Q.W/PU*|(T(U(VU-Q*}+O+PS.W-R-SR/P.XQ#_^R&R#_Q#b_R&T#bQ#e`R&X#eQ(y&US+j(y+kR+k(zQ+n({R-a+nQ#iaR&[#iQ#lbR&^#lQ#ocR&`#oQ#qdR&a#qQ#tgQ&c#rW&f#t&c)b+uQ)b&wR+u1OQ$_xS&y$_&zR&z$`Q'X$lR)q'XQ&k#yR)Z&kQ$h!QR'R$hQ+y)iS-f+y.cR.c-gQ'V$jR)n'VQ,R)tR-k,RQ#wkR&h#wQ)x']R,U)xQ'`$qS*P'`*QR*Q'aQ'h$xR*X'hQ'm$yS*c'm,nR,n*dQ,t*iR.O,tWoOs*W,dR#{oQ.Q,xR.m.Qd/e.t/y0Q0V0e0g0i0t0x0yR0P/eU/].o/x0hR/w/]Q0d0VS0p0d0qR0q0eS0_/y/zR0l0_Q/g.tR0S/gR!`PXrOs*W,dWqOs*W,dR'f$wYkOs$w*W,dR&g#v[xOs#v$w*W,dR&x$^&hQOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1ZQ!sTQ#rfQ$PtU$by%p(eS$q!W$tQ$}!^Q%S!hQ%T!iQ%U!jQ%V!kQ%W!lQ%X!mQ%r#PQ%w#TQ%}#XQ&O#YQ&t$XQ'a$rQ'x%OQ)W&dU)c&|)d+vW)|'_*O,],^Q+R(_Q+[(nQ,[)}Q-Z+dQ0Y/oR1O1TQ#OYQ#SZQ$o!UQ$p!VQ%`!pQ(V%a^(^%m%t(a(i+T+W+Y^*x(R*z-O-P.V/O/sQ+O(TQ+P(UQ,X)yQ,}*yQ-R*}Q.T,{Q.U,|Q.X-SQ.|.SR/r.}[gOs#v$w*W,d!^!{YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sQ#W[Q#uiS$Ww}Q$e!OW$l!S$a'b*SS$y!Z$uW%Y!n(O*v,zY&U#c#g#j#m+l`&e#s&b)V)X)a+t-b1SQ&u$YQ&v$[Q&w$^Q'{%[Q(]%kW(m%y(o+]+aQ(q%{Q(z&VQ)]&oS)`&s1QQ)f'OQ)g'PU)o'W)p,OQ)v'ZQ*]'iY*a'l*b,l,m-yQ*t'}S+Q(Y1RW+c(u+^-W-[W+g(x+i-^-_Q,T)wQ,i*^Q,v*lQ-]+hQ-c+wQ-z,pQ.]-YR.k-{hUOs#s#v$w&b&s(Y)V)X*W,d%Y!zYZ[iw}!O!S!U!V!Z!n!p#c#g#j#m$Y$[$^$a$u%[%a%k%m%t%y%{&V&o'O'P'W'Z'b'i'l'}(O(R(T(U(a(i(o(u(x)a)p)w)y*S*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$QuW%e!t!x0{1VQ%f!uQ%g!vQ%i!yQ%s0zS(X%h1PQ(Z0|Q([0}Q-T+UQ.[-US/Q.Y0[R1X1ZU$Uv/S1YR)^&q[hOs#v$w*W,da!}Y#c#g#j#m$^$a+lQ#][Q$ZwR$d}Q%o#OQ%v#SQ%|#WQ'{%YQ(h%rQ(l%wQ(t%}Q(w&OQ+`(qQ,y*tQ.Z-TQ/U.[R/u/TQ$cyQ(d%pR+V(eQ/T.YR0f0[R#VZR#[[R%_!nQ%]!nV*u(O*v,z!]!qQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OR%b!pQ&W#cQ&Z#gQ&]#jQ&_#mR-`+lQ(}&WQ)P&ZQ)R&]Q)T&_Q+p)OQ+q)QQ+r)SQ+s)UQ.^-`R/V._Q$m!SQ&{$aQ*R'bR,`*SQ#zmQ$f!PQ$i!QR'T$hQ)h'SR+|)kQ)h'SQ+{)jR+|)kR$k!RR)u'YXqOs*W,dQ$s!WR'c$tQ$z!ZR'd$uR*k'pQ*i'pV-|,s-}.lQ.{.RQ/i.uR/j.vU.t.R.u.vQ/n.xQ/y/^Q0O/dU0Q/f0R0bQ0V/kQ0e0WQ0g0]U0i0^0k0sQ0t0mQ0x0rR0y0uR/m.wR/{/^",nodeNames:"⚠ print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec FormatReplacement FormatReplacement FormatReplacement FormatReplacement ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:283,context:yMe,nodeProps:[["group",-15,8,88,90,91,93,95,97,99,101,102,103,105,108,111,113,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,82,83,84,85,"Expression",-10,117,119,122,124,125,129,131,136,138,141,"Statement",-9,146,147,150,151,153,154,155,156,157,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[TMe],skippedNodes:[0,6],repeatNodeCount:38,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&r!b&jSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&r!b&jSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&r!b&jSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&r!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&r!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&r!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&r!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&r!b&mWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&r!b&mWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&r!b&mWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&r!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&r!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&r!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&r!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&jSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&jSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&mWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&mWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&r!b&jS&mW%p!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&r!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!nR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&r!b&jS&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&r!b&jS&hsOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&r!b&mW&hsOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&r!b&hsOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&r!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&hsOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&r!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&jS&hsOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&r!b&jS&hsOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&nW&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&r!b&jS&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&r!b&jSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&r!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&r!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&jSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&r!b&mWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&r!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&mWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&r!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&jS&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_&PQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]!{r&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_%yQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&r!b&jS&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&r!b&jS&hsOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&r!b&hsOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&r!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&hsOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&r!b&mW&hsOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&r!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&mW&hsOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&r!b&mW&hsOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&kS&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&r!b&jS&mWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_%|s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`%}s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]'R`&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!us&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&r!b&jS&mWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja&OR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_&QQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_%zQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&Xs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_%{Q&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ$QP&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&r!b&jS&mW&g`&SsOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&r!b&jS&hsOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&r!b&mW&hsOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&r!b&jS&ssOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&r!b&jSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&r!b&jS&usOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&r!b&mW&osOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&r!b&mWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&r!b&mW&tsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%xQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%wR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]&Rq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[bMe,gMe,mMe,OMe,xMe,SMe,wMe,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:234,get:t=>CMe[t]||-1}],tokenPrec:7372}),Wde=new eie,A1e=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function mZ(t){return(e,r,a)=>{if(a)return!1;let i=e.node.getChild("VariableName");return i&&r(i,t),!0}}const AMe={FunctionDefinition:mZ("function"),ClassDefinition:mZ("class"),ForStatement(t,e,r){if(r){for(let a=t.node.firstChild;a;a=a.nextSibling)if(a.name=="VariableName")e(a,"variable");else if(a.name=="in")break}},ImportStatement(t,e){var r,a;let{node:i}=t,d=((r=i.firstChild)===null||r===void 0?void 0:r.name)=="from";for(let f=i.getChild("import");f;f=f.nextSibling)f.name=="VariableName"&&((a=f.nextSibling)===null||a===void 0?void 0:a.name)!="as"&&e(f,d?"variable":"namespace")},AssignStatement(t,e){for(let r=t.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name==":"||r.name=="AssignOp")break},ParamList(t,e){for(let r=null,a=t.node.firstChild;a;a=a.nextSibling)a.name=="VariableName"&&(!r||!/\*|AssignOp/.test(r.name))&&e(a,"variable"),r=a},CapturePattern:mZ("variable"),AsPattern:mZ("variable"),__proto__:null};function P1e(t,e){let r=Wde.get(e);if(r)return r;let a=[],i=!0;function d(f,h){let u=t.sliceString(f.from,f.to);a.push({label:u,type:h})}return e.cursor(vl.IncludeAnonymous).iterate(f=>{if(f.name){let h=AMe[f.name];if(h&&h(f,d,i)||!i&&A1e.has(f.name))return!1;i=!1}else if(f.to-f.from>8192){for(let h of P1e(t,f.node))a.push(h);return!1}}),Wde.set(e,a),a}const Yde=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,M1e=["String","FormatString","Comment","PropertyName"];function PMe(t){let e=rl(t.state).resolveInner(t.pos,-1);if(M1e.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Yde.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let a=[];for(let i=e;i;i=i.parent)A1e.has(i.name)&&(a=a.concat(P1e(t.state.doc,i)));return{options:a,from:r?e.from:t.pos,validFor:Yde}}const MMe=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(t=>({label:t,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(t=>({label:t,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(t=>({label:t,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(t=>({label:t,type:"function"}))),EMe=[hc("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),hc("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),hc("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),hc("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),hc(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),hc("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),hc("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),hc("import ${module}",{label:"import",detail:"statement",type:"keyword"}),hc("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],_Me=pie(M1e,SU(MMe.concat(EMe)));function Xde(t,e){let r=t.baseIndentFor(e),a=t.lineAt(t.pos,-1),i=a.from+a.text.length;return/^\s*($|#)/.test(a.text)&&t.node.to<i+100&&!/\S/.test(t.state.sliceDoc(i,t.node.to))&&t.lineIndent(t.pos,-1)<=r||/^\s*(else:|elif |except |finally:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>r?null:r+t.unit}const Ure=CS.define({name:"python",parser:kMe.configure({props:[BC.add({Body:t=>{var e;return(e=Xde(t,t.node))!==null&&e!==void 0?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except |finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":FZ({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":FZ({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":FZ({closing:"]"}),"String FormatString":()=>null,Script:t=>{if(t.pos+/\s*/.exec(t.textAfter)[0].length>=t.node.to){let e=null;for(let r=t.node,a=r.to;r=r.lastChild,!(!r||r.to!=a);)r.type.name=="Body"&&(e=r);if(e){let r=Xde(t,e);if(r!=null)return r}}return t.continue()}}),DS.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":aie,Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function Gde(){return new DC(Ure,[Ure.data.of({autocomplete:PMe}),Ure.data.of({autocomplete:_Me})])}const RMe="#e5c07b",jde="#e06c75",DMe="#56b6c2",$Me="#ffffff",zZ="#abb2bf",_se="#7d8799",LMe="#61afef",IMe="#98c379",qde="#d19a66",NMe="#c678dd",BMe="#21252b",Kde="#2c313a",Jde="#282c34",Wre="#353a42",QMe="#3E4451",ehe="#528bff",FMe=Xo.theme({"&":{color:zZ,backgroundColor:Jde},".cm-content":{caretColor:ehe},".cm-cursor, .cm-dropCursor":{borderLeftColor:ehe},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:QMe},".cm-panels":{backgroundColor:BMe,color:zZ},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Jde,color:_se,border:"none"},".cm-activeLineGutter":{backgroundColor:Kde},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Wre},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Wre,borderBottomColor:Wre},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Kde,color:zZ}}},{dark:!0}),VMe=F$.define([{tag:Qt.keyword,color:NMe},{tag:[Qt.name,Qt.deleted,Qt.character,Qt.propertyName,Qt.macroName],color:jde},{tag:[Qt.function(Qt.variableName),Qt.labelName],color:LMe},{tag:[Qt.color,Qt.constant(Qt.name),Qt.standard(Qt.name)],color:qde},{tag:[Qt.definition(Qt.name),Qt.separator],color:zZ},{tag:[Qt.typeName,Qt.className,Qt.number,Qt.changed,Qt.annotation,Qt.modifier,Qt.self,Qt.namespace],color:RMe},{tag:[Qt.operator,Qt.operatorKeyword,Qt.url,Qt.escape,Qt.regexp,Qt.link,Qt.special(Qt.string)],color:DMe},{tag:[Qt.meta,Qt.comment],color:_se},{tag:Qt.strong,fontWeight:"bold"},{tag:Qt.emphasis,fontStyle:"italic"},{tag:Qt.strikethrough,textDecoration:"line-through"},{tag:Qt.link,color:_se,textDecoration:"underline"},{tag:Qt.heading,fontWeight:"bold",color:jde},{tag:[Qt.atom,Qt.bool,Qt.special(Qt.variableName)],color:qde},{tag:[Qt.processingInstruction,Qt.string,Qt.inserted],color:IMe},{tag:Qt.invalid,color:$Me}]),cM=[FMe,u0e(VMe)];function Vr(t,e){return r=>Object.keys(t).reduce((a,i)=>{const f=typeof t[i]=="object"&&t[i]!=null&&!Array.isArray(t[i])?t[i]:{type:t[i]};return r&&i in r?a[i]={...f,default:r[i]}:a[i]=f,e&&!a[i].source&&(a[i].source=e),a},{})}const fa=Vr({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),Fl=typeof window<"u",kie=Fl&&"IntersectionObserver"in window,zMe=Fl&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function E1e(t,e,r){const a=e.length-1;if(a<0)return t===void 0?r:t;for(let i=0;i<a;i++){if(t==null)return r;t=t[e[i]]}return t==null||t[e[a]]===void 0?r:t[e[a]]}function QC(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const r=Object.keys(t);return r.length!==Object.keys(e).length?!1:r.every(a=>QC(t[a],e[a]))}function IC(t,e,r){return t==null||!e||typeof e!="string"?r:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),E1e(t,e.split("."),r))}function nm(t,e,r){if(e===!0)return t===void 0?r:t;if(e==null||typeof e=="boolean")return r;if(t!==Object(t)){if(typeof e!="function")return r;const i=e(t,r);return typeof i>"u"?r:i}if(typeof e=="string")return IC(t,e,r);if(Array.isArray(e))return E1e(t,e,r);if(typeof e!="function")return r;const a=e(t,r);return typeof a>"u"?r:a}function uM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(r,a)=>e+a)}function cs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Rse(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Dse(t){return t&&"$el"in t?t.$el:t}const the=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),ZMe=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Yre(t,e){return e.every(r=>t.hasOwnProperty(r))}function fM(t,e,r){const a=Object.create(null),i=Object.create(null);for(const d in t)e.some(f=>f instanceof RegExp?f.test(d):f===d)&&!(r!=null&&r.some(f=>f===d))?a[d]=t[d]:i[d]=t[d];return[a,i]}function kM(t,e){const r={...t};return e.forEach(a=>delete r[a]),r}const _1e=/^on[^a-z]/,Aie=t=>_1e.test(t),HMe=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Pie(t){const[e,r]=fM(t,[_1e]),a=kM(e,HMe),[i,d]=fM(r,["class","style","id",/^data-/]);return Object.assign(i,e),Object.assign(d,a),[i,d]}function dh(t){return t==null?[]:Array.isArray(t)?t:[t]}function Ap(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(r,t))}function nhe(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function rhe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+r.repeat(Math.max(0,e-t.length))}function UMe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let a=0;for(;a<t.length;)r.push(t.substr(a,e)),a+=e;return r}function Sp(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const a={};for(const i in t)a[i]=t[i];for(const i in e){const d=t[i],f=e[i];if(Rse(d)&&Rse(f)){a[i]=Sp(d,f,r);continue}if(Array.isArray(d)&&Array.isArray(f)&&r){a[i]=r(d,f);continue}a[i]=f}return a}function R1e(t){return t.map(e=>e.type===Go?R1e(e.children):e).flat()}function EC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(EC.cache.has(t))return EC.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return EC.cache.set(t,e),e}EC.cache=new Map;function FD(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(r=>FD(t,r)).flat(1);if(Array.isArray(e.children))return e.children.map(r=>FD(t,r)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return FD(t,e.component.subTree).flat(1)}return[]}function Mie(t){const e=tm({}),r=sn(t);return am(()=>{for(const a in r.value)e[a]=r.value[a]},{flush:"sync"}),sU(e)}function kH(t,e){return t.includes(e)}function D1e(t){return t[2].toLowerCase()+t.slice(3)}const J1=()=>[Function,Array];function ohe(t,e){return e="on"+SO(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function $1e(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];if(Array.isArray(t))for(const i of t)i(...r);else typeof t=="function"&&t(...r)}function AH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(a=>`${a}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(r)]}function L1e(t,e,r){let a,i=t.indexOf(document.activeElement);const d=e==="next"?1:-1;do i+=d,a=t[i];while((!a||a.offsetParent==null||!((r==null?void 0:r(a))??!0))&&i<t.length&&i>=0);return a}function PH(t,e){var a,i,d,f;const r=AH(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((a=r[0])==null||a.focus());else if(e==="first")(i=r[0])==null||i.focus();else if(e==="last")(d=r.at(-1))==null||d.focus();else if(typeof e=="number")(f=r[e])==null||f.focus();else{const h=L1e(r,e);h?h.focus():PH(t,e==="next"?"first":"last")}}function gZ(t){return t==null||typeof t=="string"&&t.trim()===""}function I1e(){}function dM(t,e){if(!(Fl&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}const N1e=["top","bottom"],WMe=["start","end","left","right"];function $se(t,e){let[r,a]=t.split(" ");return a||(a=kH(N1e,r)?"start":kH(WMe,r)?"top":"center"),{side:she(r,e),align:she(a,e)}}function she(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function Xre(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function Gre(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function ahe(t){return{side:t.align,align:t.side}}function ihe(t){return kH(N1e,t.side)?"y":"x"}class JP{constructor(e){let{x:r,y:a,width:i,height:d}=e;this.x=r,this.y=a,this.width=i,this.height=d}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function lhe(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function Eie(t){const e=t.getBoundingClientRect(),r=getComputedStyle(t),a=r.transform;if(a){let i,d,f,h,u;if(a.startsWith("matrix3d("))i=a.slice(9,-1).split(/, /),d=+i[0],f=+i[5],h=+i[12],u=+i[13];else if(a.startsWith("matrix("))i=a.slice(7,-1).split(/, /),d=+i[0],f=+i[3],h=+i[4],u=+i[5];else return new JP(e);const p=r.transformOrigin,v=e.x-h-(1-d)*parseFloat(p),y=e.y-u-(1-f)*parseFloat(p.slice(p.indexOf(" ")+1)),b=d?e.width/d:t.offsetWidth+1,x=f?e.height/f:t.offsetHeight+1;return new JP({x:v,y,width:b,height:x})}else return new JP(e)}function VP(t,e,r){if(typeof t.animate>"u")return{finished:Promise.resolve()};let a;try{a=t.animate(e,r)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(i=>{a.onfinish=()=>{i(a)}})),a}const ZZ=new WeakMap;function YMe(t,e){Object.keys(e).forEach(r=>{if(Aie(r)){const a=D1e(r),i=ZZ.get(t);if(e[r]==null)i==null||i.forEach(d=>{const[f,h]=d;f===a&&(t.removeEventListener(a,h),i.delete(d))});else if(!i||![...i].some(d=>d[0]===a&&d[1]===e[r])){t.addEventListener(a,e[r]);const d=i||new Set;d.add([a,e[r]]),ZZ.has(t)||ZZ.set(t,d)}}else e[r]==null?t.removeAttribute(r):t.setAttribute(r,e[r])})}function XMe(t,e){Object.keys(e).forEach(r=>{if(Aie(r)){const a=D1e(r),i=ZZ.get(t);i==null||i.forEach(d=>{const[f,h]=d;f===a&&(t.removeEventListener(a,h),i.delete(d))})}else t.removeAttribute(r)})}const DP=2.4,che=.2126729,uhe=.7151522,fhe=.072175,GMe=.55,jMe=.58,qMe=.57,KMe=.62,pZ=.03,dhe=1.45,JMe=5e-4,eEe=1.25,tEe=1.25,hhe=.078,mhe=12.82051282051282,vZ=.06,ghe=.001;function phe(t,e){const r=(t.r/255)**DP,a=(t.g/255)**DP,i=(t.b/255)**DP,d=(e.r/255)**DP,f=(e.g/255)**DP,h=(e.b/255)**DP;let u=r*che+a*uhe+i*fhe,p=d*che+f*uhe+h*fhe;if(u<=pZ&&(u+=(pZ-u)**dhe),p<=pZ&&(p+=(pZ-p)**dhe),Math.abs(p-u)<JMe)return 0;let v;if(p>u){const y=(p**GMe-u**jMe)*eEe;v=y<ghe?0:y<hhe?y-y*mhe*vZ:y-vZ}else{const y=(p**KMe-u**qMe)*tEe;v=y>-ghe?0:y>-hhe?y-y*mhe*vZ:y+vZ}return v*100}function nEe(t,e){e=Array.isArray(e)?e.slice(0,-1).map(r=>`'${r}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const MH=.20689655172413793,rEe=t=>t>MH**3?Math.cbrt(t):t/(3*MH**2)+4/29,oEe=t=>t>MH?t**3:3*MH**2*(t-4/29);function B1e(t){const e=rEe,r=e(t[1]);return[116*r-16,500*(e(t[0]/.95047)-r),200*(r-e(t[2]/1.08883))]}function Q1e(t){const e=oEe,r=(t[0]+16)/116;return[e(r+t[1]/500)*.95047,e(r),e(r-t[2]/200)*1.08883]}const sEe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],aEe=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,iEe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],lEe=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function F1e(t){const e=Array(3),r=aEe,a=sEe;for(let i=0;i<3;++i)e[i]=Math.round(Ap(r(a[i][0]*t[0]+a[i][1]*t[1]+a[i][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function _ie(t){let{r:e,g:r,b:a}=t;const i=[0,0,0],d=lEe,f=iEe;e=d(e/255),r=d(r/255),a=d(a/255);for(let h=0;h<3;++h)i[h]=f[h][0]*e+f[h][1]*r+f[h][2]*a;return i}function vhe(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}const yhe=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,cEe={rgb:(t,e,r,a)=>({r:t,g:e,b:r,a}),rgba:(t,e,r,a)=>({r:t,g:e,b:r,a}),hsl:(t,e,r,a)=>bhe({h:t,s:e,l:r,a}),hsla:(t,e,r,a)=>bhe({h:t,s:e,l:r,a}),hsv:(t,e,r,a)=>y$({h:t,s:e,v:r,a}),hsva:(t,e,r,a)=>y$({h:t,s:e,v:r,a})};function X1(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&yhe.test(t)){const{groups:e}=t.match(yhe),{fn:r,values:a}=e,i=a.split(/,\s*/).map(d=>d.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(r)?parseFloat(d)/100:parseFloat(d));return cEe[r](...i)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(r=>r+r).join(""):[6,8].includes(e.length),fEe(e)}else if(typeof t=="object"){if(Yre(t,["r","g","b"]))return t;if(Yre(t,["h","s","l"]))return y$(V1e(t));if(Yre(t,["h","s","v"]))return y$(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function y$(t){const{h:e,s:r,v:a,a:i}=t,d=h=>{const u=(h+e/60)%6;return a-a*r*Math.max(Math.min(u,4-u,1),0)},f=[d(5),d(3),d(1)].map(h=>Math.round(h*255));return{r:f[0],g:f[1],b:f[2],a:i}}function bhe(t){return y$(V1e(t))}function V1e(t){const{h:e,s:r,l:a,a:i}=t,d=a+r*Math.min(a,1-a),f=d===0?0:2-2*a/d;return{h:e,s:f,v:d,a:i}}function yZ(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function uEe(t){let{r:e,g:r,b:a,a:i}=t;return`#${[yZ(e),yZ(r),yZ(a),i!==void 0?yZ(Math.round(i*255)):""].join("")}`}function fEe(t){t=dEe(t);let[e,r,a,i]=UMe(t,2).map(d=>parseInt(d,16));return i=i===void 0?i:i/255,{r:e,g:r,b:a,a:i}}function dEe(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=rhe(rhe(t,6),8,"F")),t}function hEe(t,e){const r=B1e(_ie(t));return r[0]=r[0]+e*10,F1e(Q1e(r))}function mEe(t,e){const r=B1e(_ie(t));return r[0]=r[0]-e*10,F1e(Q1e(r))}function gEe(t){const e=X1(t);return _ie(e)[1]}function z1e(t){const e=Math.abs(phe(X1(0),X1(t)));return Math.abs(phe(X1(16777215),X1(t)))>Math.min(e,50)?"#fff":"#000"}const hM=Symbol.for("vuetify:defaults");function pEe(t){return Vo(t)}function Rie(){const t=ai(hM);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function ay(t,e){const r=Rie(),a=Vo(t),i=sn(()=>{if(ug(e==null?void 0:e.disabled))return r.value;const f=ug(e==null?void 0:e.scoped),h=ug(e==null?void 0:e.reset),u=ug(e==null?void 0:e.root);if(a.value==null&&!(f||h||u))return r.value;let p=Sp(a.value,{prev:r.value});if(f)return p;if(h||u){const v=Number(h||1/0);for(let y=0;y<=v&&!(!p||!("prev"in p));y++)p=p.prev;return p&&typeof u=="string"&&u in p&&(p=Sp(Sp(p,{prev:p}),p[u])),p}return p.prev?Sp(p.prev,p):p});return pc(hM,i),i}function vEe(t,e){var r,a;return typeof((r=t.props)==null?void 0:r[e])<"u"||typeof((a=t.props)==null?void 0:a[EC(e)])<"u"}function yEe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rie();const a=Sf("useDefaults");if(e=e??a.type.name??a.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const i=sn(()=>{var u;return(u=r.value)==null?void 0:u[t._as??e]}),d=new Proxy(t,{get(u,p){var y,b,x,k;const v=Reflect.get(u,p);return p==="class"||p==="style"?[(y=i.value)==null?void 0:y[p],v].filter(C=>C!=null):typeof p=="string"&&!vEe(a.vnode,p)?((b=i.value)==null?void 0:b[p])??((k=(x=r.value)==null?void 0:x.global)==null?void 0:k[p])??v:v}}),f=fs();am(()=>{if(i.value){const u=Object.entries(i.value).filter(p=>{let[v]=p;return v.startsWith(v[0].toUpperCase())});f.value=u.length?Object.fromEntries(u):void 0}else f.value=void 0});function h(){const u=wEe(hM,a);pc(hM,sn(()=>f.value?Sp((u==null?void 0:u.value)??{},f.value):u==null?void 0:u.value))}return{props:d,provideSubDefaults:h}}function AM(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Vr(t.props??{},t.name)();const e=Object.keys(t.props);t.filterProps=function(a){return fM(a,e,["class","style"])},t.props._as=String,t.setup=function(a,i){const d=Rie();if(!d.value)return t._setup(a,i);const{props:f,provideSubDefaults:h}=yEe(a,a._as??t.name,d),u=t._setup(f,i);return h(),u}}return t}function qo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?AM:R$)(e)}function bEe(t,e){return e.props=t,e}function PM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return qo()({name:r??SO(Pp(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...fa()},setup(a,i){let{slots:d}=i;return()=>{var f;return hg(a.tag,{class:[t,a.class],style:a.style},(f=d.default)==null?void 0:f.call(d))}}})}function Z1e(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const EH="cubic-bezier(0.4, 0, 0.2, 1)",OEe="cubic-bezier(0.0, 0, 0.2, 1)",xEe="cubic-bezier(0.4, 0, 1, 1)";function Sf(t,e){const r=Bae();if(!r)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return r}function CO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Sf(t).type;return EC((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let H1e=0,HZ=new WeakMap;function Wv(){const t=Sf("getUid");if(HZ.has(t))return HZ.get(t);{const e=H1e++;return HZ.set(t,e),e}}Wv.reset=()=>{H1e=0,HZ=new WeakMap};function U1e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?SEe(t):Die(t))return t;t=t.parentElement}return document.scrollingElement}function _H(t,e){const r=[];if(e&&t&&!e.contains(t))return r;for(;t&&(Die(t)&&r.push(t),t!==e);)t=t.parentElement;return r}function Die(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function SEe(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function wEe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sf("injectSelf");const{provides:r}=e;if(r&&t in r)return r[t]}function TEe(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function Cs(t){const e=Sf("useRender");e.render=t}function PU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=Vo(),a=Vo();if(Fl){const i=new ResizeObserver(d=>{t==null||t(d,i),d.length&&(e==="content"?a.value=d[0].contentRect:a.value=d[0].target.getBoundingClientRect())});im(()=>{i.disconnect()}),Ho(r,(d,f)=>{f&&(i.unobserve(Dse(f)),a.value=void 0),d&&i.observe(Dse(d))},{flush:"post"})}return{resizeRef:r,contentRect:_$(a)}}const RH=Symbol.for("vuetify:layout"),W1e=Symbol.for("vuetify:layout-item"),Ohe=1e3,CEe=Vr({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),kEe=Vr({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function AEe(){const t=ai(RH);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function PEe(t){const e=ai(RH);if(!e)throw new Error("[Vuetify] Could not find injected layout");const r=t.id??`layout-item-${Wv()}`,a=Sf("useLayoutItem");pc(W1e,{id:r});const i=fs(!1);Eae(()=>i.value=!0),Mae(()=>i.value=!1);const{layoutItemStyles:d,layoutItemScrimStyles:f}=e.register(a,{...t,active:sn(()=>i.value?!1:t.active.value),id:r});return im(()=>e.unregister(r)),{layoutItemStyles:d,layoutRect:e.layoutRect,layoutItemScrimStyles:f}}const MEe=(t,e,r,a)=>{let i={top:0,left:0,right:0,bottom:0};const d=[{id:"",layer:{...i}}];for(const f of t){const h=e.get(f),u=r.get(f),p=a.get(f);if(!h||!u||!p)continue;const v={...i,[h.value]:parseInt(i[h.value],10)+(p.value?parseInt(u.value,10):0)};d.push({id:f,layer:v}),i=v}return d};function EEe(t){const e=ai(RH,null),r=sn(()=>e?e.rootZIndex.value-100:Ohe),a=Vo([]),i=tm(new Map),d=tm(new Map),f=tm(new Map),h=tm(new Map),u=tm(new Map),{resizeRef:p,contentRect:v}=PU(),y=sn(()=>{const N=new Map,F=t.overlaps??[];for(const z of F.filter(U=>U.includes(":"))){const[U,Q]=z.split(":");if(!a.value.includes(U)||!a.value.includes(Q))continue;const B=i.get(U),E=i.get(Q),W=d.get(U),Y=d.get(Q);!B||!E||!W||!Y||(N.set(Q,{position:B.value,amount:parseInt(W.value,10)}),N.set(U,{position:E.value,amount:-parseInt(Y.value,10)}))}return N}),b=sn(()=>{const N=[...new Set([...f.values()].map(z=>z.value))].sort((z,U)=>z-U),F=[];for(const z of N){const U=a.value.filter(Q=>{var B;return((B=f.get(Q))==null?void 0:B.value)===z});F.push(...U)}return MEe(F,i,d,h)}),x=sn(()=>!Array.from(u.values()).some(N=>N.value)),k=sn(()=>b.value[b.value.length-1].layer),C=sn(()=>({"--v-layout-left":cs(k.value.left),"--v-layout-right":cs(k.value.right),"--v-layout-top":cs(k.value.top),"--v-layout-bottom":cs(k.value.bottom),...x.value?void 0:{transition:"none"}})),w=sn(()=>b.value.slice(1).map((N,F)=>{let{id:z}=N;const{layer:U}=b.value[F],Q=d.get(z),B=i.get(z);return{id:z,...U,size:Number(Q.value),position:B.value}})),T=N=>w.value.find(F=>F.id===N),R=Sf("createLayout"),M=fs(!1);gg(()=>{M.value=!0}),pc(RH,{register:(N,F)=>{let{id:z,order:U,position:Q,layoutSize:B,elementSize:E,active:W,disableTransitions:Y,absolute:ie}=F;f.set(z,U),i.set(z,Q),d.set(z,B),h.set(z,W),Y&&u.set(z,Y);const me=FD(W1e,R==null?void 0:R.vnode).indexOf(N);me>-1?a.value.splice(me,0,z):a.value.push(z);const ae=sn(()=>w.value.findIndex(be=>be.id===z)),q=sn(()=>r.value+b.value.length*2-ae.value*2),fe=sn(()=>{const be=Q.value==="left"||Q.value==="right",Te=Q.value==="right",Be=Q.value==="bottom",ge={[Q.value]:0,zIndex:q.value,transform:`translate${be?"X":"Y"}(${(W.value?0:-110)*(Te||Be?-1:1)}%)`,position:ie.value||r.value!==Ohe?"absolute":"fixed",...x.value?void 0:{transition:"none"}};if(!M.value)return ge;const ne=w.value[ae.value];if(!ne)throw new Error(`[Vuetify] Could not find layout item "${z}"`);const pe=y.value.get(z);return pe&&(ne[pe.position]+=pe.amount),{...ge,height:be?`calc(100% - ${ne.top}px - ${ne.bottom}px)`:E.value?`${E.value}px`:void 0,left:Te?void 0:`${ne.left}px`,right:Te?`${ne.right}px`:void 0,top:Q.value!=="bottom"?`${ne.top}px`:void 0,bottom:Q.value!=="top"?`${ne.bottom}px`:void 0,width:be?E.value?`${E.value}px`:void 0:`calc(100% - ${ne.left}px - ${ne.right}px)`}}),ee=sn(()=>({zIndex:q.value-1}));return{layoutItemStyles:fe,layoutItemScrimStyles:ee,zIndex:q}},unregister:N=>{f.delete(N),i.delete(N),d.delete(N),h.delete(N),u.delete(N),a.value=a.value.filter(F=>F!==N)},mainRect:k,mainStyles:C,getLayoutItem:T,items:w,layoutRect:v,rootZIndex:r});const I=sn(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),V=sn(()=>({zIndex:e?r.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:I,layoutStyles:V,getLayoutItem:T,items:w,layoutRect:v,layoutRef:p}}const _Ee={badge:"Badge",open:"Open",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{ok:"OK",cancel:"Cancel",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},REe={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function PS(t,e){let r;function a(){r=vae(),r.run(()=>e.length?e(()=>{r==null||r.stop(),a()}):e())}Ho(t,i=>{i&&!r?a():i||(r==null||r.stop(),r=void 0)},{immediate:!0}),om(()=>{r==null||r.stop()})}function pi(t,e,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:y=>y,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:y=>y;const d=Sf("useProxiedModel"),f=Vo(t[e]!==void 0?t[e]:r),h=EC(e),p=sn(h!==e?()=>{var y,b,x,k;return t[e],!!(((y=d.vnode.props)!=null&&y.hasOwnProperty(e)||(b=d.vnode.props)!=null&&b.hasOwnProperty(h))&&((x=d.vnode.props)!=null&&x.hasOwnProperty(`onUpdate:${e}`)||(k=d.vnode.props)!=null&&k.hasOwnProperty(`onUpdate:${h}`)))}:()=>{var y,b;return t[e],!!((y=d.vnode.props)!=null&&y.hasOwnProperty(e)&&((b=d.vnode.props)!=null&&b.hasOwnProperty(`onUpdate:${e}`)))});PS(()=>!p.value,()=>{Ho(()=>t[e],y=>{f.value=y})});const v=sn({get(){const y=t[e];return a(p.value?y:f.value)},set(y){const b=i(y),x=va(p.value?t[e]:f.value);x===b||a(x)===y||(f.value=b,d==null||d.emit(`update:${e}`,b))}});return Object.defineProperty(v,"externalValue",{get:()=>p.value?t[e]:f.value}),v}const xhe="$vuetify.",She=(t,e)=>t.replace(/\{(\d+)\}/g,(r,a)=>String(e[+a])),Y1e=(t,e,r)=>function(a){for(var i=arguments.length,d=new Array(i>1?i-1:0),f=1;f<i;f++)d[f-1]=arguments[f];if(!a.startsWith(xhe))return She(a,d);const h=a.replace(xhe,""),u=t.value&&r.value[t.value],p=e.value&&r.value[e.value];let v=IC(u,h,null);return v||(`${a}${t.value}`,v=IC(p,h,null)),v||(v=a),typeof v!="string"&&(v=a),She(v,d)};function X1e(t,e){return(r,a)=>new Intl.NumberFormat([t.value,e.value],a).format(r)}function jre(t,e,r){const a=pi(t,e,t[e]??r.value);return a.value=t[e]??r.value,Ho(r,i=>{t[e]==null&&(a.value=r.value)}),a}function G1e(t){return e=>{const r=jre(e,"locale",t.current),a=jre(e,"fallback",t.fallback),i=jre(e,"messages",t.messages);return{name:"vuetify",current:r,fallback:a,messages:i,t:Y1e(r,a,i),n:X1e(r,a),provide:G1e({current:r,fallback:a,messages:i})}}}function DEe(t){const e=fs((t==null?void 0:t.locale)??"en"),r=fs((t==null?void 0:t.fallback)??"en"),a=Vo({en:_Ee,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:r,messages:a,t:Y1e(e,r,a),n:X1e(e,r),provide:G1e({current:e,fallback:r,messages:a})}}const DH=Symbol.for("vuetify:locale");function $Ee(t){return t.name!=null}function LEe(t){const e=t!=null&&t.adapter&&$Ee(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:DEe(t),r=IEe(e,t);return{...e,...r}}function LS(){const t=ai(DH);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function IEe(t,e){const r=Vo((e==null?void 0:e.rtl)??REe),a=sn(()=>r.value[t.current.value]??!1);return{isRtl:a,rtl:r,rtlClasses:sn(()=>`v-locale--is-${a.value?"rtl":"ltr"}`)}}function Dp(){const t=ai(DH);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const $H=Symbol.for("vuetify:theme"),yu=Vr({theme:String},"theme"),pD={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function NEe(){var r,a;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pD;if(!t)return{...pD,isDisabled:!0};const e={};for(const[i,d]of Object.entries(t.themes??{})){const f=d.dark||i==="dark"?(r=pD.themes)==null?void 0:r.dark:(a=pD.themes)==null?void 0:a.light;e[i]=Sp(f,d)}return Sp(pD,{...t,themes:e})}function BEe(t){const e=NEe(t),r=Vo(e.defaultTheme),a=Vo(e.themes),i=sn(()=>{const v={};for(const[y,b]of Object.entries(a.value)){const x=v[y]={...b,colors:{...b.colors}};if(e.variations)for(const k of e.variations.colors){const C=x.colors[k];if(C)for(const w of["lighten","darken"]){const T=w==="lighten"?hEe:mEe;for(const R of uM(e.variations[w],1))x.colors[`${k}-${w}-${R}`]=uEe(T(X1(C),R))}}for(const k of Object.keys(x.colors)){if(/^on-[a-z]/.test(k)||x.colors[`on-${k}`])continue;const C=`on-${k}`,w=X1(x.colors[k]);x.colors[C]=z1e(w)}}return v}),d=sn(()=>i.value[r.value]),f=sn(()=>{const v=[];d.value.dark&&dC(v,":root",["color-scheme: dark"]),dC(v,":root",whe(d.value));for(const[k,C]of Object.entries(i.value))dC(v,`.v-theme--${k}`,[`color-scheme: ${C.dark?"dark":"normal"}`,...whe(C)]);const y=[],b=[],x=new Set(Object.values(i.value).flatMap(k=>Object.keys(k.colors)));for(const k of x)/^on-[a-z]/.test(k)?dC(b,`.${k}`,[`color: rgb(var(--v-theme-${k})) !important`]):(dC(y,`.bg-${k}`,[`--v-theme-overlay-multiplier: var(--v-theme-${k}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${k})) !important`,`color: rgb(var(--v-theme-on-${k})) !important`]),dC(b,`.text-${k}`,[`color: rgb(var(--v-theme-${k})) !important`]),dC(b,`.border-${k}`,[`--v-border-color: var(--v-theme-${k})`]));return v.push(...y,...b),v.map((k,C)=>C===0?k:`    ${k}`).join("")});function h(){return{style:[{children:f.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function u(v){if(e.isDisabled)return;const y=v._context.provides.usehead;if(y)if(y.push){const b=y.push(h);Fl&&Ho(f,()=>{b.patch(h)})}else Fl?(y.addHeadObjs(sn(h)),am(()=>y.updateDOM())):y.addHeadObjs(h());else{let x=function(){if(typeof document<"u"&&!b){const k=document.createElement("style");k.type="text/css",k.id="vuetify-theme-stylesheet",e.cspNonce&&k.setAttribute("nonce",e.cspNonce),b=k,document.head.appendChild(b)}b&&(b.innerHTML=f.value)},b=Fl?document.getElementById("vuetify-theme-stylesheet"):null;Fl?Ho(f,x,{immediate:!0}):x()}}const p=sn(()=>e.isDisabled?void 0:`v-theme--${r.value}`);return{install:u,isDisabled:e.isDisabled,name:r,themes:a,current:d,computedThemes:i,themeClasses:p,styles:f,global:{name:r,current:d}}}function wf(t){Sf("provideTheme");const e=ai($H,null);if(!e)throw new Error("Could not find Vuetify theme injection");const r=sn(()=>t.theme??e.name.value),a=sn(()=>e.themes.value[r.value]),i=sn(()=>e.isDisabled?void 0:`v-theme--${r.value}`),d={...e,name:r,current:a,themeClasses:i};return pc($H,d),d}function dC(t,e,r){t.push(`${e} {
`,...r.map(a=>`  ${a};
`),`}
`)}function whe(t){const e=t.dark?2:1,r=t.dark?1:2,a=[];for(const[i,d]of Object.entries(t.colors)){const f=X1(d);a.push(`--v-theme-${i}: ${f.r},${f.g},${f.b}`),i.startsWith("on-")||a.push(`--v-theme-${i}-overlay-multiplier: ${gEe(d)>.18?e:r}`)}for(const[i,d]of Object.entries(t.variables)){const f=typeof d=="string"&&d.startsWith("#")?X1(d):void 0,h=f?`${f.r}, ${f.g}, ${f.b}`:void 0;a.push(`--v-${i}: ${h??d}`)}return a}const QEe=Vr({...fa(),...CEe({fullHeight:!0}),...yu()},"VApp"),FEe=qo()({name:"VApp",props:QEe(),setup(t,e){let{slots:r}=e;const a=wf(t),{layoutClasses:i,getLayoutItem:d,items:f,layoutRef:h}=EEe(t),{rtlClasses:u}=Dp();return Cs(()=>{var p;return lt("div",{ref:h,class:["v-application",a.themeClasses.value,i.value,u.value,t.class],style:[t.style]},[lt("div",{class:"v-application__wrap"},[(p=r.default)==null?void 0:p.call(r)])])}),{getLayoutItem:d,items:f,theme:a}}});const Qc=Vr({tag:{type:String,default:"div"}},"tag"),VEe=Vr({text:String,...fa(),...Qc()},"VToolbarTitle"),zEe=qo()({name:"VToolbarTitle",props:VEe(),setup(t,e){let{slots:r}=e;return Cs(()=>{const a=!!(r.default||r.text||t.text);return lt(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var i;return[a&&lt("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():t.text,(i=r.default)==null?void 0:i.call(r)])]}})}),{}}}),ZEe=Vr({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function pg(t,e,r){return qo()({name:t,props:ZEe({mode:r,origin:e}),setup(a,i){let{slots:d}=i;const f={onBeforeEnter(h){a.origin&&(h.style.transformOrigin=a.origin)},onLeave(h){if(a.leaveAbsolute){const{offsetTop:u,offsetLeft:p,offsetWidth:v,offsetHeight:y}=h;h._transitionInitialStyles={position:h.style.position,top:h.style.top,left:h.style.left,width:h.style.width,height:h.style.height},h.style.position="absolute",h.style.top=`${u}px`,h.style.left=`${p}px`,h.style.width=`${v}px`,h.style.height=`${y}px`}a.hideOnLeave&&h.style.setProperty("display","none","important")},onAfterLeave(h){if(a.leaveAbsolute&&(h!=null&&h._transitionInitialStyles)){const{position:u,top:p,left:v,width:y,height:b}=h._transitionInitialStyles;delete h._transitionInitialStyles,h.style.position=u||"",h.style.top=p||"",h.style.left=v||"",h.style.width=y||"",h.style.height=b||""}}};return()=>{const h=a.group?rTe:vO;return hg(h,{name:a.disabled?"":t,css:!a.disabled,...a.group?void 0:{mode:a.mode},...a.disabled?{}:f},d.default)}}})}function j1e(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return qo()({name:t,props:{mode:{type:String,default:r},disabled:Boolean},setup(a,i){let{slots:d}=i;return()=>hg(vO,{name:a.disabled?"":t,css:!a.disabled,...a.disabled?{}:e},d.default)}})}function q1e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",a=Pp(`offset-${r}`);return{onBeforeEnter(f){f._parent=f.parentNode,f._initialStyle={transition:f.style.transition,overflow:f.style.overflow,[r]:f.style[r]}},onEnter(f){const h=f._initialStyle;f.style.setProperty("transition","none","important"),f.style.overflow="hidden";const u=`${f[a]}px`;f.style[r]="0",f.offsetHeight,f.style.transition=h.transition,t&&f._parent&&f._parent.classList.add(t),requestAnimationFrame(()=>{f.style[r]=u})},onAfterEnter:d,onEnterCancelled:d,onLeave(f){f._initialStyle={transition:"",overflow:f.style.overflow,[r]:f.style[r]},f.style.overflow="hidden",f.style[r]=`${f[a]}px`,f.offsetHeight,requestAnimationFrame(()=>f.style[r]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(f){t&&f._parent&&f._parent.classList.remove(t),d(f)}function d(f){const h=f._initialStyle[r];f.style.overflow=f._initialStyle.overflow,h!=null&&(f.style[r]=h),delete f._initialStyle}}const HEe=Vr({target:Object},"v-dialog-transition"),$ie=qo()({name:"VDialogTransition",props:HEe(),setup(t,e){let{slots:r}=e;const a={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,d){var b;await new Promise(x=>requestAnimationFrame(x)),await new Promise(x=>requestAnimationFrame(x)),i.style.visibility="";const{x:f,y:h,sx:u,sy:p,speed:v}=Che(t.target,i),y=VP(i,[{transform:`translate(${f}px, ${h}px) scale(${u}, ${p})`,opacity:0},{}],{duration:225*v,easing:OEe});(b=The(i))==null||b.forEach(x=>{VP(x,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*v,easing:EH})}),y.finished.then(()=>d())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,d){var b;await new Promise(x=>requestAnimationFrame(x));const{x:f,y:h,sx:u,sy:p,speed:v}=Che(t.target,i);VP(i,[{},{transform:`translate(${f}px, ${h}px) scale(${u}, ${p})`,opacity:0}],{duration:125*v,easing:xEe}).finished.then(()=>d()),(b=The(i))==null||b.forEach(x=>{VP(x,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*v,easing:EH})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>t.target?lt(vO,rs({name:"dialog-transition"},a,{css:!1}),r):lt(vO,{name:"dialog-transition"},r)}});function The(t){var r;const e=(r=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:r.children;return e&&[...e]}function Che(t,e){const r=t.getBoundingClientRect(),a=Eie(e),[i,d]=getComputedStyle(e).transformOrigin.split(" ").map(T=>parseFloat(T)),[f,h]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=r.left+r.width/2;f==="left"||h==="left"?u-=r.width/2:(f==="right"||h==="right")&&(u+=r.width/2);let p=r.top+r.height/2;f==="top"||h==="top"?p-=r.height/2:(f==="bottom"||h==="bottom")&&(p+=r.height/2);const v=r.width/a.width,y=r.height/a.height,b=Math.max(1,v,y),x=v/b||0,k=y/b||0,C=a.width*a.height/(window.innerWidth*window.innerHeight),w=C>.12?Math.min(1.5,(C-.12)*10+1):1;return{x:u-(i+a.left),y:p-(d+a.top),sx:x,sy:k,speed:w}}pg("fab-transition","center center","out-in");pg("dialog-bottom-transition");pg("dialog-top-transition");pg("fade-transition");const UEe=pg("scale-transition");pg("scroll-x-transition");pg("scroll-x-reverse-transition");pg("scroll-y-transition");pg("scroll-y-reverse-transition");pg("slide-x-transition");pg("slide-x-reverse-transition");const K1e=pg("slide-y-transition");pg("slide-y-reverse-transition");const Lie=j1e("expand-transition",q1e()),J1e=j1e("expand-x-transition",q1e("",!0)),WEe=Vr({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Kc=qo(!1)({name:"VDefaultsProvider",props:WEe(),setup(t,e){let{slots:r}=e;const{defaults:a,disabled:i,reset:d,root:f,scoped:h}=sU(t);return ay(a,{reset:d,root:f,scoped:h,disabled:i}),()=>{var u;return(u=r.default)==null?void 0:u.call(r)}}});const FC=Vr({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function VC(t){return{dimensionStyles:sn(()=>({height:cs(t.height),maxHeight:cs(t.maxHeight),maxWidth:cs(t.maxWidth),minHeight:cs(t.minHeight),minWidth:cs(t.minWidth),width:cs(t.width)}))}}function YEe(t){return{aspectStyles:sn(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const eye=Vr({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...fa(),...FC()},"VResponsive"),khe=qo()({name:"VResponsive",props:eye(),setup(t,e){let{slots:r}=e;const{aspectStyles:a}=YEe(t),{dimensionStyles:i}=VC(t);return Cs(()=>{var d;return lt("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[i.value,t.style]},[lt("div",{class:"v-responsive__sizer",style:a.value},null),(d=r.additional)==null?void 0:d.call(r),r.default&&lt("div",{class:["v-responsive__content",t.contentClass]},[r.default()])])}),{}}}),zC=Vr({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),hS=(t,e)=>{let{slots:r}=e;const{transition:a,disabled:i,...d}=t,{component:f=vO,...h}=typeof a=="object"?a:{};return hg(f,rs(typeof a=="string"?{name:i?"":a}:h,d,{disabled:i}),r)};function XEe(t,e){if(!kie)return;const r=e.modifiers||{},a=e.value,{handler:i,options:d}=typeof a=="object"?a:{handler:a,options:{}},f=new IntersectionObserver(function(){var y;let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const p=(y=t._observe)==null?void 0:y[e.instance.$.uid];if(!p)return;const v=h.some(b=>b.isIntersecting);i&&(!r.quiet||p.init)&&(!r.once||v||p.init)&&i(v,h,u),v&&r.once?tye(t,e):p.init=!0},d);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:f},f.observe(t)}function tye(t,e){var a;const r=(a=t._observe)==null?void 0:a[e.instance.$.uid];r&&(r.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const GEe={mounted:XEe,unmounted:tye},Iie=GEe,jEe=Vr({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...eye(),...fa(),...zC()},"VImg"),H$=qo()({name:"VImg",directives:{intersect:Iie},props:jEe(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:r,slots:a}=e;const i=fs(""),d=Vo(),f=fs(t.eager?"loading":"idle"),h=fs(),u=fs(),p=sn(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),v=sn(()=>p.value.aspect||h.value/u.value||0);Ho(()=>t.src,()=>{y(f.value!=="idle")}),Ho(v,(z,U)=>{!z&&U&&d.value&&w(d.value)}),_ae(()=>y());function y(z){if(!(t.eager&&z)&&!(kie&&!z&&!t.eager)){if(f.value="loading",p.value.lazySrc){const U=new Image;U.src=p.value.lazySrc,w(U,null)}p.value.src&&ec(()=>{var U,Q;if(r("loadstart",((U=d.value)==null?void 0:U.currentSrc)||p.value.src),(Q=d.value)!=null&&Q.complete){if(d.value.naturalWidth||x(),f.value==="error")return;v.value||w(d.value,null),b()}else v.value||w(d.value),k()})}}function b(){var z;k(),f.value="loaded",r("load",((z=d.value)==null?void 0:z.currentSrc)||p.value.src)}function x(){var z;f.value="error",r("error",((z=d.value)==null?void 0:z.currentSrc)||p.value.src)}function k(){const z=d.value;z&&(i.value=z.currentSrc||z.src)}let C=-1;function w(z){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Q=()=>{clearTimeout(C);const{naturalHeight:B,naturalWidth:E}=z;B||E?(h.value=E,u.value=B):!z.complete&&f.value==="loading"&&U!=null?C=window.setTimeout(Q,U):(z.currentSrc.endsWith(".svg")||z.currentSrc.startsWith("data:image/svg+xml"))&&(h.value=1,u.value=1)};Q()}const T=sn(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),R=()=>{var Q;if(!p.value.src||f.value==="idle")return null;const z=lt("img",{class:["v-img__img",T.value],src:p.value.src,srcset:p.value.srcset,alt:t.alt,sizes:t.sizes,ref:d,onLoad:b,onError:x},null),U=(Q=a.sources)==null?void 0:Q.call(a);return lt(hS,{transition:t.transition,appear:!0},{default:()=>[Qu(U?lt("picture",{class:"v-img__picture"},[U,z]):z,[[ES,f.value==="loaded"]])]})},M=()=>lt(hS,{transition:t.transition},{default:()=>[p.value.lazySrc&&f.value!=="loaded"&&lt("img",{class:["v-img__img","v-img__img--preload",T.value],src:p.value.lazySrc,alt:t.alt},null)]}),I=()=>a.placeholder?lt(hS,{transition:t.transition,appear:!0},{default:()=>[(f.value==="loading"||f.value==="error"&&!a.error)&&lt("div",{class:"v-img__placeholder"},[a.placeholder()])]}):null,V=()=>a.error?lt(hS,{transition:t.transition,appear:!0},{default:()=>[f.value==="error"&&lt("div",{class:"v-img__error"},[a.error()])]}):null,N=()=>t.gradient?lt("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,F=fs(!1);{const z=Ho(v,U=>{U&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{F.value=!0})}),z())})}return Cs(()=>{const[z]=khe.filterProps(t);return Qu(lt(khe,rs({class:["v-img",{"v-img--booting":!F.value},t.class],style:[{width:cs(t.width==="auto"?h.value:t.width)},t.style]},z,{aspectRatio:v.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>lt(Go,null,[lt(R,null,null),lt(M,null,null),lt(N,null,null),lt(I,null,null),lt(V,null,null)]),default:a.default}),[[Hv("intersect"),{handler:y,options:t.options},null,{once:!0}]])}),{currentSrc:i,image:d,state:f,naturalWidth:h,naturalHeight:u}}}),ZC=Vr({border:[Boolean,Number,String]},"border");function HC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO();return{borderClasses:sn(()=>{const a=mc(t)?t.value:t.border,i=[];if(a===!0||a==="")i.push(`${e}--border`);else if(typeof a=="string"||a===0)for(const d of String(a).split(" "))i.push(`border-${d}`);return i})}}function Nie(t){return Mie(()=>{const e=[],r={};if(t.value.background)if(vhe(t.value.background)){if(r.backgroundColor=t.value.background,!t.value.text){const a=X1(t.value.background);if(a.a==null||a.a===1){const i=z1e(a);r.color=i,r.caretColor=i}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(vhe(t.value.text)?(r.color=t.value.text,r.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:r}})}function Ep(t,e){const r=sn(()=>({text:mc(t)?t.value:e?t[e]:null})),{colorClasses:a,colorStyles:i}=Nie(r);return{textColorClasses:a,textColorStyles:i}}function _p(t,e){const r=sn(()=>({background:mc(t)?t.value:e?t[e]:null})),{colorClasses:a,colorStyles:i}=Nie(r);return{backgroundColorClasses:a,backgroundColorStyles:i}}const kO=Vr({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function AO(t){return{elevationClasses:sn(()=>{const r=mc(t)?t.value:t.elevation,a=[];return r==null||a.push(`elevation-${r}`),a})}}const $p=Vr({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Lp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO();return{roundedClasses:sn(()=>{const a=mc(t)?t.value:t.rounded,i=[];if(a===!0||a==="")i.push(`${e}--rounded`);else if(typeof a=="string"||a===0)for(const d of String(a).split(" "))i.push(`rounded-${d}`);return i})}}const qEe=[null,"prominent","default","comfortable","compact"],nye=Vr({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>qEe.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ZC(),...fa(),...kO(),...$p(),...Qc({tag:"header"}),...yu()},"VToolbar"),Ahe=qo()({name:"VToolbar",props:nye(),setup(t,e){var x;let{slots:r}=e;const{backgroundColorClasses:a,backgroundColorStyles:i}=_p(ns(t,"color")),{borderClasses:d}=HC(t),{elevationClasses:f}=AO(t),{roundedClasses:h}=Lp(t),{themeClasses:u}=wf(t),{rtlClasses:p}=Dp(),v=fs(!!(t.extended||(x=r.extension)!=null&&x.call(r))),y=sn(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),b=sn(()=>v.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return ay({VBtn:{variant:"text"}}),Cs(()=>{var T;const k=!!(t.title||r.title),C=!!(r.image||t.image),w=(T=r.extension)==null?void 0:T.call(r);return v.value=!!(t.extended||w),lt(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},a.value,d.value,f.value,h.value,u.value,p.value,t.class],style:[i.value,t.style]},{default:()=>[C&&lt("div",{key:"image",class:"v-toolbar__image"},[r.image?lt(Kc,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},r.image):lt(H$,{key:"image-img",cover:!0,src:t.image},null)]),lt(Kc,{defaults:{VTabs:{height:cs(y.value)}}},{default:()=>{var R,M,I;return[lt("div",{class:"v-toolbar__content",style:{height:cs(y.value)}},[r.prepend&&lt("div",{class:"v-toolbar__prepend"},[(R=r.prepend)==null?void 0:R.call(r)]),k&&lt(zEe,{key:"title",text:t.title},{text:r.title}),(M=r.default)==null?void 0:M.call(r),r.append&&lt("div",{class:"v-toolbar__append"},[(I=r.append)==null?void 0:I.call(r)])])]}}),lt(Kc,{defaults:{VTabs:{height:cs(b.value)}}},{default:()=>[lt(Lie,null,{default:()=>[v.value&&lt("div",{class:"v-toolbar__extension",style:{height:cs(b.value)}},[w])]})]})]})}),{contentHeight:y,extensionHeight:b}}}),KEe=Vr({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function JEe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:r}=e;let a=0;const i=Vo(null),d=fs(0),f=fs(0),h=fs(0),u=fs(!1),p=fs(!1),v=sn(()=>Number(t.scrollThreshold)),y=sn(()=>Ap((v.value-d.value)/v.value||0)),b=()=>{const x=i.value;!x||r&&!r.value||(a=d.value,d.value="window"in x?x.pageYOffset:x.scrollTop,p.value=d.value<a,h.value=Math.abs(d.value-v.value))};return Ho(p,()=>{f.value=f.value||d.value}),Ho(u,()=>{f.value=0}),gg(()=>{Ho(()=>t.scrollTarget,x=>{var C;const k=x?document.querySelector(x):window;k&&k!==i.value&&((C=i.value)==null||C.removeEventListener("scroll",b),i.value=k,i.value.addEventListener("scroll",b,{passive:!0}))},{immediate:!0})}),im(()=>{var x;(x=i.value)==null||x.removeEventListener("scroll",b)}),r&&Ho(r,b,{immediate:!0}),{scrollThreshold:v,currentScroll:d,currentThreshold:h,isScrollActive:u,scrollRatio:y,isScrollingUp:p,savedScroll:f}}function Bie(){const t=fs(!1);return gg(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:sn(()=>t.value?void 0:{transition:"none !important"}),isBooted:_$(t)}}const e_e=Vr({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...nye(),...kEe(),...KEe(),height:{type:[Number,String],default:64}},"VAppBar"),t_e=qo()({name:"VAppBar",props:e_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=Vo(),i=pi(t,"modelValue"),d=sn(()=>{var R;const T=new Set(((R=t.scrollBehavior)==null?void 0:R.split(" "))??[]);return{hide:T.has("hide"),inverted:T.has("inverted"),collapse:T.has("collapse"),elevate:T.has("elevate"),fadeImage:T.has("fade-image")}}),f=sn(()=>{const T=d.value;return T.hide||T.inverted||T.collapse||T.elevate||T.fadeImage||!i.value}),{currentScroll:h,scrollThreshold:u,isScrollingUp:p,scrollRatio:v}=JEe(t,{canScroll:f}),y=sn(()=>t.collapse||d.value.collapse&&(d.value.inverted?v.value>0:v.value===0)),b=sn(()=>t.flat||d.value.elevate&&(d.value.inverted?h.value>0:h.value===0)),x=sn(()=>d.value.fadeImage?d.value.inverted?1-v.value:v.value:void 0),k=sn(()=>{var M,I;if(d.value.hide&&d.value.inverted)return 0;const T=((M=a.value)==null?void 0:M.contentHeight)??0,R=((I=a.value)==null?void 0:I.extensionHeight)??0;return T+R});PS(sn(()=>!!t.scrollBehavior),()=>{am(()=>{d.value.hide?d.value.inverted?i.value=h.value>u.value:i.value=p.value||h.value<u.value:i.value=!0})});const{ssrBootStyles:C}=Bie(),{layoutItemStyles:w}=PEe({id:t.name,order:sn(()=>parseInt(t.order,10)),position:ns(t,"location"),layoutSize:k,elementSize:fs(void 0),active:i,absolute:ns(t,"absolute")});return Cs(()=>{const[T]=Ahe.filterProps(t);return lt(Ahe,rs({ref:a,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...w.value,"--v-toolbar-image-opacity":x.value,height:void 0,...C.value},t.style]},T,{collapse:y.value,flat:b.value}),r)}),{}}});const n_e=[null,"default","comfortable","compact"],Yv=Vr({density:{type:String,default:"default",validator:t=>n_e.includes(t)}},"density");function iy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO();return{densityClasses:sn(()=>`${e}--density-${t.density}`)}}const r_e=["elevated","flat","tonal","outlined","text","plain"];function U$(t,e){return lt(Go,null,[t&&lt("span",{key:"overlay",class:`${e}__overlay`},null),lt("span",{key:"underlay",class:`${e}__underlay`},null)])}const IS=Vr({color:String,variant:{type:String,default:"elevated",validator:t=>r_e.includes(t)}},"variant");function W$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO();const r=sn(()=>{const{variant:d}=ug(t);return`${e}--variant-${d}`}),{colorClasses:a,colorStyles:i}=Nie(sn(()=>{const{variant:d,color:f}=ug(t);return{[["elevated","flat"].includes(d)?"background":"text"]:f}}));return{colorClasses:a,colorStyles:i,variantClasses:r}}const rye=Vr({divided:Boolean,...ZC(),...fa(),...Yv(),...kO(),...$p(),...Qc(),...yu(),...IS()},"VBtnGroup"),Phe=qo()({name:"VBtnGroup",props:rye(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=wf(t),{densityClasses:i}=iy(t),{borderClasses:d}=HC(t),{elevationClasses:f}=AO(t),{roundedClasses:h}=Lp(t);ay({VBtn:{height:"auto",color:ns(t,"color"),density:ns(t,"density"),flat:!0,variant:ns(t,"variant")}}),Cs(()=>lt(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},a.value,d.value,i.value,f.value,h.value,t.class],style:t.style},r))}}),Qie=Vr({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Fie=Vr({value:null,disabled:Boolean,selectedClass:String},"group-item");function Vie(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const a=Sf("useGroupItem");if(!a)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=Wv();pc(Symbol.for(`${e.description}:id`),i);const d=ai(e,null);if(!d){if(!r)return d;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const f=ns(t,"value"),h=sn(()=>!!(d.disabled.value||t.disabled));d.register({id:i,value:f,disabled:h},a),im(()=>{d.unregister(i)});const u=sn(()=>d.isSelected(i)),p=sn(()=>u.value&&[d.selectedClass.value,t.selectedClass]);return Ho(u,v=>{a.emit("group:selected",{value:v})}),{id:i,isSelected:u,toggle:()=>d.select(i,!u.value),select:v=>d.select(i,v),selectedClass:p,value:f,disabled:h,group:d}}function zie(t,e){let r=!1;const a=tm([]),i=pi(t,"modelValue",[],b=>b==null?[]:oye(a,dh(b)),b=>{const x=s_e(a,b);return t.multiple?x:x[0]}),d=Sf("useGroup");function f(b,x){const k=b,C=Symbol.for(`${e.description}:id`),T=FD(C,d==null?void 0:d.vnode).indexOf(x);T>-1?a.splice(T,0,k):a.push(k)}function h(b){if(r)return;u();const x=a.findIndex(k=>k.id===b);a.splice(x,1)}function u(){const b=a.find(x=>!x.disabled);b&&t.mandatory==="force"&&!i.value.length&&(i.value=[b.id])}gg(()=>{u()}),im(()=>{r=!0});function p(b,x){const k=a.find(C=>C.id===b);if(!(x&&(k!=null&&k.disabled)))if(t.multiple){const C=i.value.slice(),w=C.findIndex(R=>R===b),T=~w;if(x=x??!T,T&&t.mandatory&&C.length<=1||!T&&t.max!=null&&C.length+1>t.max)return;w<0&&x?C.push(b):w>=0&&!x&&C.splice(w,1),i.value=C}else{const C=i.value.includes(b);if(t.mandatory&&C)return;i.value=x??!C?[b]:[]}}function v(b){if(t.multiple,i.value.length){const x=i.value[0],k=a.findIndex(T=>T.id===x);let C=(k+b)%a.length,w=a[C];for(;w.disabled&&C!==k;)C=(C+b)%a.length,w=a[C];if(w.disabled)return;i.value=[a[C].id]}else{const x=a.find(k=>!k.disabled);x&&(i.value=[x.id])}}const y={register:f,unregister:h,selected:i,select:p,disabled:ns(t,"disabled"),prev:()=>v(a.length-1),next:()=>v(1),isSelected:b=>i.value.includes(b),selectedClass:sn(()=>t.selectedClass),items:sn(()=>a),getItemIndex:b=>o_e(a,b)};return pc(e,y),y}function o_e(t,e){const r=oye(t,[e]);return r.length?t.findIndex(a=>a.id===r[0]):-1}function oye(t,e){const r=[];return e.forEach(a=>{const i=t.find(f=>QC(a,f.value)),d=t[a];(i==null?void 0:i.value)!=null?r.push(i.id):d!=null&&r.push(d.id)}),r}function s_e(t,e){const r=[];return e.forEach(a=>{const i=t.findIndex(d=>d.id===a);if(~i){const d=t[i];r.push(d.value!=null?d.value:i)}}),r}const sye=Symbol.for("vuetify:v-btn-toggle"),a_e=Vr({...rye(),...Qie()},"VBtnToggle");qo()({name:"VBtnToggle",props:a_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{isSelected:a,next:i,prev:d,select:f,selected:h}=zie(t,sye);return Cs(()=>{const[u]=Phe.filterProps(t);return lt(Phe,rs({class:["v-btn-toggle",t.class]},u,{style:t.style}),{default:()=>{var p;return[(p=r.default)==null?void 0:p.call(r,{isSelected:a,next:i,prev:d,select:f,selected:h})]}})}),{next:i,prev:d,select:f}}});const i_e={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar"},aye={component:t=>hg(lye,{...t,class:"mdi"})},_i=[String,Function,Object,Array],Lse=Symbol.for("vuetify:icons"),MU=Vr({icon:{type:_i},tag:{type:String,required:!0}},"icon"),Mhe=qo()({name:"VComponentIcon",props:MU(),setup(t,e){let{slots:r}=e;return()=>{const a=t.icon;return lt(t.tag,null,{default:()=>{var i;return[t.icon?lt(a,null,null):(i=r.default)==null?void 0:i.call(r)]}})}}}),iye=AM({name:"VSvgIcon",inheritAttrs:!1,props:MU(),setup(t,e){let{attrs:r}=e;return()=>lt(t.tag,rs(r,{style:null}),{default:()=>[lt("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(a=>Array.isArray(a)?lt("path",{d:a[0],"fill-opacity":a[1]},null):lt("path",{d:a},null)):lt("path",{d:t.icon},null)])]})}});AM({name:"VLigatureIcon",props:MU(),setup(t){return()=>lt(t.tag,null,{default:()=>[t.icon]})}});const lye=AM({name:"VClassIcon",props:MU(),setup(t){return()=>lt(t.tag,{class:t.icon},null)}}),l_e={svg:{component:iye},class:{component:lye}};function c_e(t){return Sp({defaultSet:"mdi",sets:{...l_e,mdi:aye},aliases:{...i_e,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},t)}const u_e=t=>{const e=ai(Lse);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:sn(()=>{var u;const a=ug(t);if(!a)return{component:Mhe};let i=a;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$")&&(i=(u=e.aliases)==null?void 0:u[i.slice(1)])),!i)throw new Error(`Could not find aliased icon "${a}"`);if(Array.isArray(i))return{component:iye,icon:i};if(typeof i!="string")return{component:Mhe,icon:i};const d=Object.keys(e.sets).find(p=>typeof i=="string"&&i.startsWith(`${p}:`)),f=d?i.slice(d.length+1):i;return{component:e.sets[d??e.defaultSet].component,icon:f}})}},f_e=["x-small","small","default","large","x-large"],Y$=Vr({size:{type:[String,Number],default:"default"}},"size");function X$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO();return Mie(()=>{let r,a;return kH(f_e,t.size)?r=`${e}--size-${t.size}`:t.size&&(a={width:cs(t.size),height:cs(t.size)}),{sizeClasses:r,sizeStyles:a}})}const d_e=Vr({color:String,start:Boolean,end:Boolean,icon:_i,...fa(),...Y$(),...Qc({tag:"i"}),...yu()},"VIcon"),qa=qo()({name:"VIcon",props:d_e(),setup(t,e){let{attrs:r,slots:a}=e;const i=Vo(),{themeClasses:d}=wf(t),{iconData:f}=u_e(sn(()=>i.value||t.icon)),{sizeClasses:h}=X$(t),{textColorClasses:u,textColorStyles:p}=Ep(ns(t,"color"));return Cs(()=>{var y,b;const v=(y=a.default)==null?void 0:y.call(a);return v&&(i.value=(b=R1e(v).filter(x=>x.type===D$&&x.children&&typeof x.children=="string")[0])==null?void 0:b.children),lt(f.value.component,{tag:t.tag,icon:f.value.icon,class:["v-icon","notranslate",d.value,h.value,u.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[h.value?void 0:{fontSize:cs(t.size),height:cs(t.size),width:cs(t.size)},p.value,t.style],role:r.onClick?"button":void 0,"aria-hidden":!r.onClick},{default:()=>[v]})}),{}}});function cye(t,e){const r=Vo(),a=fs(!1);if(kie){const i=new IntersectionObserver(d=>{t==null||t(d,i),a.value=!!d.find(f=>f.isIntersecting)},e);im(()=>{i.disconnect()}),Ho(r,(d,f)=>{f&&(i.unobserve(f),a.value=!1),d&&i.observe(d)},{flush:"post"})}return{intersectionRef:r,isIntersecting:a}}const h_e=Vr({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...fa(),...Y$(),...Qc({tag:"div"}),...yu()},"VProgressCircular"),uye=qo()({name:"VProgressCircular",props:h_e(),setup(t,e){let{slots:r}=e;const a=20,i=2*Math.PI*a,d=Vo(),{themeClasses:f}=wf(t),{sizeClasses:h,sizeStyles:u}=X$(t),{textColorClasses:p,textColorStyles:v}=Ep(ns(t,"color")),{textColorClasses:y,textColorStyles:b}=Ep(ns(t,"bgColor")),{intersectionRef:x,isIntersecting:k}=cye(),{resizeRef:C,contentRect:w}=PU(),T=sn(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),R=sn(()=>Number(t.width)),M=sn(()=>u.value?Number(t.size):w.value?w.value.width:Math.max(R.value,32)),I=sn(()=>a/(1-R.value/M.value)*2),V=sn(()=>R.value/M.value*I.value),N=sn(()=>cs((100-T.value)/100*i));return am(()=>{x.value=d.value,C.value=d.value}),Cs(()=>lt(t.tag,{ref:d,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":k.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},f.value,h.value,p.value,t.class],style:[u.value,v.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:T.value},{default:()=>[lt("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${I.value} ${I.value}`},[lt("circle",{class:["v-progress-circular__underlay",y.value],style:b.value,fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":V.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),lt("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":V.value,"stroke-dasharray":i,"stroke-dashoffset":N.value},null)]),r.default&&lt("div",{class:"v-progress-circular__content"},[r.default({value:T.value})])]})),{}}});const Ehe={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Zie=Vr({location:String},"location");function Hie(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:a}=Dp();return{locationStyles:sn(()=>{if(!t.location)return{};const{side:d,align:f}=$se(t.location.split(" ").length>1?t.location:`${t.location} center`,a.value);function h(p){return r?r(p):0}const u={};return d!=="center"&&(e?u[Ehe[d]]=`calc(100% - ${h(d)}px)`:u[d]=0),f!=="center"?e?u[Ehe[f]]=`calc(100% - ${h(f)}px)`:u[f]=0:(d==="center"?u.top=u.left="50%":u[{top:"left",bottom:"left",left:"top",right:"top"}[d]]="50%",u.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[d]),u})}}const m_e=Vr({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...fa(),...Zie({location:"top"}),...$p(),...Qc(),...yu()},"VProgressLinear"),g_e=qo()({name:"VProgressLinear",props:m_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"modelValue"),{isRtl:i,rtlClasses:d}=Dp(),{themeClasses:f}=wf(t),{locationStyles:h}=Hie(t),{textColorClasses:u,textColorStyles:p}=Ep(t,"color"),{backgroundColorClasses:v,backgroundColorStyles:y}=_p(sn(()=>t.bgColor||t.color)),{backgroundColorClasses:b,backgroundColorStyles:x}=_p(t,"color"),{roundedClasses:k}=Lp(t),{intersectionRef:C,isIntersecting:w}=cye(),T=sn(()=>parseInt(t.max,10)),R=sn(()=>parseInt(t.height,10)),M=sn(()=>parseFloat(t.bufferValue)/T.value*100),I=sn(()=>parseFloat(a.value)/T.value*100),V=sn(()=>i.value!==t.reverse),N=sn(()=>t.indeterminate?"fade-transition":"slide-x-transition"),F=sn(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function z(U){if(!C.value)return;const{left:Q,right:B,width:E}=C.value.getBoundingClientRect(),W=V.value?E-U.clientX+(B-E):U.clientX-Q;a.value=Math.round(W/E*T.value)}return Cs(()=>lt(t.tag,{ref:C,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&w.value,"v-progress-linear--reverse":V.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},k.value,f.value,d.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?cs(R.value):0,"--v-progress-linear-height":cs(R.value),...h.value},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:I.value,onClick:t.clickable&&z},{default:()=>[t.stream&&lt("div",{key:"stream",class:["v-progress-linear__stream",u.value],style:{...p.value,[V.value?"left":"right"]:cs(-R.value),borderTop:`${cs(R.value/2)} dotted`,opacity:F.value,top:`calc(50% - ${cs(R.value/4)})`,width:cs(100-M.value,"%"),"--v-progress-linear-stream-to":cs(R.value*(V.value?1:-1))}},null),lt("div",{class:["v-progress-linear__background",v.value],style:[y.value,{opacity:F.value,width:cs(t.stream?M.value:100,"%")}]},null),lt(vO,{name:N.value},{default:()=>[t.indeterminate?lt("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(U=>lt("div",{key:U,class:["v-progress-linear__indeterminate",U,b.value],style:x.value},null))]):lt("div",{class:["v-progress-linear__determinate",b.value],style:[x.value,{width:cs(I.value,"%")}]},null)]}),r.default&&lt("div",{class:"v-progress-linear__content"},[r.default({value:I.value,buffer:M.value})])]})),{}}}),EU=Vr({loading:[Boolean,String]},"loader");function _U(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO();return{loaderClasses:sn(()=>({[`${e}--loading`]:t.loading}))}}function Uie(t,e){var a;let{slots:r}=e;return lt("div",{class:`${t.name}__loader`},[((a=r.default)==null?void 0:a.call(r,{color:t.color,isActive:t.active}))||lt(g_e,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const p_e=["static","relative","fixed","absolute","sticky"],fye=Vr({position:{type:String,validator:t=>p_e.includes(t)}},"position");function dye(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO();return{positionClasses:sn(()=>t.position?`${e}--${t.position}`:void 0)}}function v_e(){var t,e;return(e=(t=Sf("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function RU(t,e){const r=sg("RouterLink"),a=sn(()=>!!(t.href||t.to)),i=sn(()=>(a==null?void 0:a.value)||ohe(e,"click")||ohe(t,"click"));if(typeof r=="string")return{isLink:a,isClickable:i,href:ns(t,"href")};const d=t.to?r.useLink(t):void 0;return{isLink:a,isClickable:i,route:d==null?void 0:d.route,navigate:d==null?void 0:d.navigate,isActive:d&&sn(()=>{var f,h;return t.exact?(f=d.isExactActive)==null?void 0:f.value:(h=d.isActive)==null?void 0:h.value}),href:sn(()=>t.to?d==null?void 0:d.route.value.href:t.href)}}const DU=Vr({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let qre=!1;function y_e(t,e){let r=!1,a,i;Fl&&(ec(()=>{window.addEventListener("popstate",d),a=t==null?void 0:t.beforeEach((f,h,u)=>{qre?r?e(u):u():setTimeout(()=>r?e(u):u()),qre=!0}),i=t==null?void 0:t.afterEach(()=>{qre=!1})}),om(()=>{window.removeEventListener("popstate",d),a==null||a(),i==null||i()}));function d(f){var h;(h=f.state)!=null&&h.replaced||(r=!0,setTimeout(()=>r=!1))}}function b_e(t,e){Ho(()=>{var r;return(r=t.isActive)==null?void 0:r.value},r=>{t.isLink.value&&r&&e&&ec(()=>{e(!0)})},{immediate:!0})}const Ise=Symbol("rippleStop"),O_e=80;function _he(t,e){t.style.transform=e,t.style.webkitTransform=e}function Nse(t){return t.constructor.name==="TouchEvent"}function hye(t){return t.constructor.name==="KeyboardEvent"}const x_e=function(t,e){var y;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=0,i=0;if(!hye(t)){const b=e.getBoundingClientRect(),x=Nse(t)?t.touches[t.touches.length-1]:t;a=x.clientX-b.left,i=x.clientY-b.top}let d=0,f=.3;(y=e._ripple)!=null&&y.circle?(f=.15,d=e.clientWidth/2,d=r.center?d:d+Math.sqrt((a-d)**2+(i-d)**2)/4):d=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const h=`${(e.clientWidth-d*2)/2}px`,u=`${(e.clientHeight-d*2)/2}px`,p=r.center?h:`${a-d}px`,v=r.center?u:`${i-d}px`;return{radius:d,scale:f,x:p,y:v,centerX:h,centerY:u}},LH={show(t,e){var x;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((x=e==null?void 0:e._ripple)!=null&&x.enabled))return;const a=document.createElement("span"),i=document.createElement("span");a.appendChild(i),a.className="v-ripple__container",r.class&&(a.className+=` ${r.class}`);const{radius:d,scale:f,x:h,y:u,centerX:p,centerY:v}=x_e(t,e,r),y=`${d*2}px`;i.className="v-ripple__animation",i.style.width=y,i.style.height=y,e.appendChild(a);const b=window.getComputedStyle(e);b&&b.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),_he(i,`translate(${h}, ${u}) scale3d(${f},${f},${f})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),_he(i,`translate(${p}, ${v}) scale3d(1,1,1)`)},0)},hide(t){var d;if(!((d=t==null?void 0:t._ripple)!=null&&d.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const r=e[e.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const a=performance.now()-Number(r.dataset.activated),i=Math.max(250-a,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{var h;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((h=r.parentNode)==null?void 0:h.parentNode)===t&&t.removeChild(r.parentNode)},300)},i)}};function mye(t){return typeof t>"u"||!!t}function b$(t){const e={},r=t.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||t[Ise])){if(t[Ise]=!0,Nse(t))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(e.center=r._ripple.centered||hye(t),r._ripple.class&&(e.class=r._ripple.class),Nse(t)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{LH.show(t,r,e)},r._ripple.showTimer=window.setTimeout(()=>{var a;(a=r==null?void 0:r._ripple)!=null&&a.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},O_e)}else LH.show(t,r,e)}}function Rhe(t){t[Ise]=!0}function lg(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{lg(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),LH.hide(e)}}function gye(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let O$=!1;function pye(t){!O$&&(t.keyCode===the.enter||t.keyCode===the.space)&&(O$=!0,b$(t))}function vye(t){O$=!1,lg(t)}function yye(t){O$&&(O$=!1,lg(t))}function bye(t,e,r){const{value:a,modifiers:i}=e,d=mye(a);if(d||LH.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=d,t._ripple.centered=i.center,t._ripple.circle=i.circle,Rse(a)&&a.class&&(t._ripple.class=a.class),d&&!r){if(i.stop){t.addEventListener("touchstart",Rhe,{passive:!0}),t.addEventListener("mousedown",Rhe);return}t.addEventListener("touchstart",b$,{passive:!0}),t.addEventListener("touchend",lg,{passive:!0}),t.addEventListener("touchmove",gye,{passive:!0}),t.addEventListener("touchcancel",lg),t.addEventListener("mousedown",b$),t.addEventListener("mouseup",lg),t.addEventListener("mouseleave",lg),t.addEventListener("keydown",pye),t.addEventListener("keyup",vye),t.addEventListener("blur",yye),t.addEventListener("dragstart",lg,{passive:!0})}else!d&&r&&Oye(t)}function Oye(t){t.removeEventListener("mousedown",b$),t.removeEventListener("touchstart",b$),t.removeEventListener("touchend",lg),t.removeEventListener("touchmove",gye),t.removeEventListener("touchcancel",lg),t.removeEventListener("mouseup",lg),t.removeEventListener("mouseleave",lg),t.removeEventListener("keydown",pye),t.removeEventListener("keyup",vye),t.removeEventListener("dragstart",lg),t.removeEventListener("blur",yye)}function S_e(t,e){bye(t,e,!1)}function w_e(t){delete t._ripple,Oye(t)}function T_e(t,e){if(e.value===e.oldValue)return;const r=mye(e.oldValue);bye(t,e,r)}const UC={mounted:S_e,unmounted:w_e,updated:T_e},C_e=Vr({active:{type:Boolean,default:void 0},symbol:{type:null,default:sye},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:_i,appendIcon:_i,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...ZC(),...fa(),...Yv(),...FC(),...kO(),...Fie(),...EU(),...Zie(),...fye(),...$p(),...DU(),...Y$(),...Qc({tag:"button"}),...yu(),...IS({variant:"elevated"})},"VBtn"),Nc=qo()({name:"VBtn",directives:{Ripple:UC},props:C_e(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:r,slots:a}=e;const{themeClasses:i}=wf(t),{borderClasses:d}=HC(t),{colorClasses:f,colorStyles:h,variantClasses:u}=W$(t),{densityClasses:p}=iy(t),{dimensionStyles:v}=VC(t),{elevationClasses:y}=AO(t),{loaderClasses:b}=_U(t),{locationStyles:x}=Hie(t),{positionClasses:k}=dye(t),{roundedClasses:C}=Lp(t),{sizeClasses:w,sizeStyles:T}=X$(t),R=Vie(t,t.symbol,!1),M=RU(t,r),I=sn(()=>{var U;return t.active!==void 0?t.active:M.isLink.value?(U=M.isActive)==null?void 0:U.value:R==null?void 0:R.isSelected.value}),V=sn(()=>(R==null?void 0:R.disabled.value)||t.disabled),N=sn(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),F=sn(()=>{if(t.value!==void 0)return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function z(U){var Q;V.value||M.isLink.value&&(U.metaKey||U.ctrlKey||U.shiftKey||U.button!==0||r.target==="_blank")||((Q=M.navigate)==null||Q.call(M,U),R==null||R.toggle())}return b_e(M,R==null?void 0:R.select),Cs(()=>{var Y,ie;const U=M.isLink.value?"a":t.tag,Q=!!(t.prependIcon||a.prepend),B=!!(t.appendIcon||a.append),E=!!(t.icon&&t.icon!==!0),W=(R==null?void 0:R.isSelected.value)&&(!M.isLink.value||((Y=M.isActive)==null?void 0:Y.value))||!R||((ie=M.isActive)==null?void 0:ie.value);return Qu(lt(U,{type:U==="a"?void 0:"button",class:["v-btn",R==null?void 0:R.selectedClass.value,{"v-btn--active":I.value,"v-btn--block":t.block,"v-btn--disabled":V.value,"v-btn--elevated":N.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},i.value,d.value,W?f.value:void 0,p.value,y.value,b.value,k.value,C.value,w.value,u.value,t.class],style:[W?h.value:void 0,v.value,x.value,T.value,t.style],disabled:V.value||void 0,href:M.href.value,onClick:z,value:F.value},{default:()=>{var L;return[U$(!0,"v-btn"),!t.icon&&Q&&lt("span",{key:"prepend",class:"v-btn__prepend"},[a.prepend?lt(Kc,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},a.prepend):lt(qa,{key:"prepend-icon",icon:t.prependIcon},null)]),lt("span",{class:"v-btn__content","data-no-activator":""},[!a.default&&E?lt(qa,{key:"content-icon",icon:t.icon},null):lt(Kc,{key:"content-defaults",disabled:!E,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var me;return[((me=a.default)==null?void 0:me.call(a))??t.text]}})]),!t.icon&&B&&lt("span",{key:"append",class:"v-btn__append"},[a.append?lt(Kc,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},a.append):lt(qa,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&lt("span",{key:"loader",class:"v-btn__loader"},[((L=a.loader)==null?void 0:L.call(a))??lt(uye,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Hv("ripple"),!V.value&&t.ripple,null]])}),{}}});const k_e=Vr({text:String,clickable:Boolean,...fa(),...yu()},"VLabel"),$U=qo()({name:"VLabel",props:k_e(),setup(t,e){let{slots:r}=e;return Cs(()=>{var a;return lt("label",{class:["v-label",{"v-label--clickable":t.clickable},t.class],style:t.style},[t.text,(a=r.default)==null?void 0:a.call(r)])}),{}}});const xye=Symbol.for("vuetify:selection-control-group"),Sye=Vr({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:_i,trueIcon:_i,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:QC},...fa(),...Yv(),...yu()},"SelectionControlGroup"),A_e=Vr({...Sye({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");qo()({name:"VSelectionControlGroup",props:A_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"modelValue"),i=Wv(),d=sn(()=>t.id||`v-selection-control-group-${i}`),f=sn(()=>t.name||d.value),h=new Set;return pc(xye,{modelValue:a,forceUpdate:()=>{h.forEach(u=>u())},onForceUpdate:u=>{h.add(u),om(()=>{h.delete(u)})}}),ay({[t.defaultsTarget]:{color:ns(t,"color"),disabled:ns(t,"disabled"),density:ns(t,"density"),error:ns(t,"error"),inline:ns(t,"inline"),modelValue:a,multiple:sn(()=>!!t.multiple||t.multiple==null&&Array.isArray(a.value)),name:f,falseIcon:ns(t,"falseIcon"),trueIcon:ns(t,"trueIcon"),readonly:ns(t,"readonly"),ripple:ns(t,"ripple"),type:ns(t,"type"),valueComparator:ns(t,"valueComparator")}}),Cs(()=>{var u;return lt("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(u=r.default)==null?void 0:u.call(r)])}),{}}});const wye=Vr({label:String,trueValue:null,falseValue:null,value:null,...fa(),...Sye()},"VSelectionControl");function P_e(t){const e=ai(xye,void 0),{densityClasses:r}=iy(t),a=pi(t,"modelValue"),i=sn(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),d=sn(()=>t.falseValue!==void 0?t.falseValue:!1),f=sn(()=>!!t.multiple||t.multiple==null&&Array.isArray(a.value)),h=sn({get(){const x=e?e.modelValue.value:a.value;return f.value?x.some(k=>t.valueComparator(k,i.value)):t.valueComparator(x,i.value)},set(x){if(t.readonly)return;const k=x?i.value:d.value;let C=k;f.value&&(C=x?[...dh(a.value),k]:dh(a.value).filter(w=>!t.valueComparator(w,i.value))),e?e.modelValue.value=C:a.value=C}}),{textColorClasses:u,textColorStyles:p}=Ep(sn(()=>h.value&&!t.error&&!t.disabled?t.color:void 0)),{backgroundColorClasses:v,backgroundColorStyles:y}=_p(sn(()=>h.value&&!t.error&&!t.disabled?t.color:void 0)),b=sn(()=>h.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:r,trueValue:i,falseValue:d,model:h,textColorClasses:u,textColorStyles:p,backgroundColorClasses:v,backgroundColorStyles:y,icon:b}}const Dhe=qo()({name:"VSelectionControl",directives:{Ripple:UC},inheritAttrs:!1,props:wye(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:a}=e;const{group:i,densityClasses:d,icon:f,model:h,textColorClasses:u,textColorStyles:p,backgroundColorClasses:v,backgroundColorStyles:y,trueValue:b}=P_e(t),x=Wv(),k=sn(()=>t.id||`input-${x}`),C=fs(!1),w=fs(!1),T=Vo();i==null||i.onForceUpdate(()=>{T.value&&(T.value.checked=h.value)});function R(V){C.value=!0,dM(V.target,":focus-visible")!==!1&&(w.value=!0)}function M(){C.value=!1,w.value=!1}function I(V){t.readonly&&i&&ec(()=>i.forceUpdate()),h.value=V.target.checked}return Cs(()=>{var U,Q;const V=a.label?a.label({label:t.label,props:{for:k.value}}):t.label,[N,F]=Pie(r),z=lt("input",rs({ref:T,checked:h.value,disabled:!!(t.readonly||t.disabled),id:k.value,onBlur:M,onFocus:R,onInput:I,"aria-disabled":!!(t.readonly||t.disabled),type:t.type,value:b.value,name:t.name,"aria-checked":t.type==="checkbox"?h.value:void 0},F),null);return lt("div",rs({class:["v-selection-control",{"v-selection-control--dirty":h.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":C.value,"v-selection-control--focus-visible":w.value,"v-selection-control--inline":t.inline},d.value,t.class]},N,{style:t.style}),[lt("div",{class:["v-selection-control__wrapper",u.value],style:p.value},[(U=a.default)==null?void 0:U.call(a,{backgroundColorClasses:v,backgroundColorStyles:y}),Qu(lt("div",{class:["v-selection-control__input"]},[((Q=a.input)==null?void 0:Q.call(a,{model:h,textColorClasses:u,textColorStyles:p,backgroundColorClasses:v,backgroundColorStyles:y,inputNode:z,icon:f.value,props:{onFocus:R,onBlur:M,id:k.value}}))??lt(Go,null,[f.value&&lt(qa,{key:"icon",icon:f.value},null),z])]),[[Hv("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),V&&lt($U,{for:k.value,clickable:!0,onClick:B=>B.stopPropagation()},{default:()=>[V]})])}),{isFocused:C,input:T}}}),M_e=Vr({indeterminate:Boolean,indeterminateIcon:{type:_i,default:"$checkboxIndeterminate"},...wye({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),MM=qo()({name:"VCheckboxBtn",props:M_e(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"indeterminate"),i=pi(t,"modelValue");function d(u){a.value&&(a.value=!1)}const f=sn(()=>a.value?t.indeterminateIcon:t.falseIcon),h=sn(()=>a.value?t.indeterminateIcon:t.trueIcon);return Cs(()=>{const u=kM(Dhe.filterProps(t)[0],["modelValue"]);return lt(Dhe,rs(u,{modelValue:i.value,"onUpdate:modelValue":[p=>i.value=p,d],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:f.value,trueIcon:h.value,"aria-checked":a.value?"mixed":void 0}),r)}),{}}});function Tye(t){const{t:e}=LS();function r(a){let{name:i}=a;const d={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],f=t[`onClick:${i}`],h=f&&d?e(`$vuetify.input.${d}`,t.label??""):void 0;return lt(qa,{icon:t[`${i}Icon`],"aria-label":h,onClick:f},null)}return{InputIcon:r}}const E_e=Vr({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...fa(),...zC({transition:{component:K1e,leaveAbsolute:!0,group:!0}})},"VMessages"),__e=qo()({name:"VMessages",props:E_e(),setup(t,e){let{slots:r}=e;const a=sn(()=>dh(t.messages)),{textColorClasses:i,textColorStyles:d}=Ep(sn(()=>t.color));return Cs(()=>lt(hS,{transition:t.transition,tag:"div",class:["v-messages",i.value,t.class],style:[d.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&a.value.map((f,h)=>lt("div",{class:"v-messages__message",key:`${h}-${a.value}`},[r.message?r.message({message:f}):f]))]})),{}}}),LU=Vr({focused:Boolean,"onUpdate:focused":J1()},"focus");function G$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO();const r=pi(t,"focused"),a=sn(()=>({[`${e}--focused`]:r.value}));function i(){r.value=!0}function d(){r.value=!1}return{focusClasses:a,isFocused:r,focus:i,blur:d}}const R_e=Symbol.for("vuetify:form");function IU(){return ai(R_e,null)}const D_e=Vr({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...LU()},"validation");function $_e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CO(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wv();const a=pi(t,"modelValue"),i=sn(()=>t.validationValue===void 0?a.value:t.validationValue),d=IU(),f=Vo([]),h=fs(!0),u=sn(()=>!!(dh(a.value===""?null:a.value).length||dh(i.value===""?null:i.value).length)),p=sn(()=>!!(t.disabled??(d==null?void 0:d.isDisabled.value))),v=sn(()=>!!(t.readonly??(d==null?void 0:d.isReadonly.value))),y=sn(()=>{var I;return(I=t.errorMessages)!=null&&I.length?dh(t.errorMessages).slice(0,Math.max(0,+t.maxErrors)):f.value}),b=sn(()=>{let I=(t.validateOn??(d==null?void 0:d.validateOn.value))||"input";I==="lazy"&&(I="input lazy");const V=new Set((I==null?void 0:I.split(" "))??[]);return{blur:V.has("blur")||V.has("input"),input:V.has("input"),submit:V.has("submit"),lazy:V.has("lazy")}}),x=sn(()=>{var I;return t.error||(I=t.errorMessages)!=null&&I.length?!1:t.rules.length?h.value?f.value.length||b.value.lazy?null:!0:!f.value.length:!0}),k=fs(!1),C=sn(()=>({[`${e}--error`]:x.value===!1,[`${e}--dirty`]:u.value,[`${e}--disabled`]:p.value,[`${e}--readonly`]:v.value})),w=sn(()=>t.name??ug(r));_ae(()=>{d==null||d.register({id:w.value,validate:M,reset:T,resetValidation:R})}),im(()=>{d==null||d.unregister(w.value)}),gg(async()=>{b.value.lazy||await M(!0),d==null||d.update(w.value,x.value,y.value)}),PS(()=>b.value.input,()=>{Ho(i,()=>{if(i.value!=null)M();else if(t.focused){const I=Ho(()=>t.focused,V=>{V||M(),I()})}})}),PS(()=>b.value.blur,()=>{Ho(()=>t.focused,I=>{I||M()})}),Ho(x,()=>{d==null||d.update(w.value,x.value,y.value)});function T(){a.value=null,ec(R)}function R(){h.value=!0,b.value.lazy?f.value=[]:M(!0)}async function M(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const V=[];k.value=!0;for(const N of t.rules){if(V.length>=+(t.maxErrors??1))break;const z=await(typeof N=="function"?N:()=>N)(i.value);if(z!==!0){if(z!==!1&&typeof z!="string"){console.warn(`${z} is not a valid value. Rule functions must return boolean true or a string.`);continue}V.push(z||"")}}return f.value=V,k.value=!1,h.value=I,f.value}return{errorMessages:y,isDirty:u,isDisabled:p,isReadonly:v,isPristine:h,isValid:x,isValidating:k,reset:T,resetValidation:R,validate:M,validationClasses:C}}const j$=Vr({id:String,appendIcon:_i,centerAffix:{type:Boolean,default:!0},prependIcon:_i,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":J1(),"onClick:append":J1(),...fa(),...Yv(),...D_e()},"VInput"),MS=qo()({name:"VInput",props:{...j$()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:a,emit:i}=e;const{densityClasses:d}=iy(t),{rtlClasses:f}=Dp(),{InputIcon:h}=Tye(t),u=Wv(),p=sn(()=>t.id||`input-${u}`),v=sn(()=>`${p.value}-messages`),{errorMessages:y,isDirty:b,isDisabled:x,isReadonly:k,isPristine:C,isValid:w,isValidating:T,reset:R,resetValidation:M,validate:I,validationClasses:V}=$_e(t,"v-input",p),N=sn(()=>({id:p,messagesId:v,isDirty:b,isDisabled:x,isReadonly:k,isPristine:C,isValid:w,isValidating:T,reset:R,resetValidation:M,validate:I})),F=sn(()=>{var z;return(z=t.errorMessages)!=null&&z.length||!C.value&&y.value.length?y.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return Cs(()=>{var E,W,Y,ie;const z=!!(a.prepend||t.prependIcon),U=!!(a.append||t.appendIcon),Q=F.value.length>0,B=!t.hideDetails||t.hideDetails==="auto"&&(Q||!!a.details);return lt("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix},d.value,f.value,V.value,t.class],style:t.style},[z&&lt("div",{key:"prepend",class:"v-input__prepend"},[(E=a.prepend)==null?void 0:E.call(a,N.value),t.prependIcon&&lt(h,{key:"prepend-icon",name:"prepend"},null)]),a.default&&lt("div",{class:"v-input__control"},[(W=a.default)==null?void 0:W.call(a,N.value)]),U&&lt("div",{key:"append",class:"v-input__append"},[t.appendIcon&&lt(h,{key:"append-icon",name:"append"},null),(Y=a.append)==null?void 0:Y.call(a,N.value)]),B&&lt("div",{class:"v-input__details"},[lt(__e,{id:v.value,active:Q,messages:F.value},{message:a.message}),(ie=a.details)==null?void 0:ie.call(a,N.value)])])}),{reset:R,resetValidation:M,validate:I}}});const L_e=Vr({start:Boolean,end:Boolean,icon:_i,image:String,...fa(),...Yv(),...$p(),...Y$(),...Qc(),...yu(),...IS({variant:"flat"})},"VAvatar"),mM=qo()({name:"VAvatar",props:L_e(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=wf(t),{colorClasses:i,colorStyles:d,variantClasses:f}=W$(t),{densityClasses:h}=iy(t),{roundedClasses:u}=Lp(t),{sizeClasses:p,sizeStyles:v}=X$(t);return Cs(()=>lt(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},a.value,i.value,h.value,u.value,p.value,f.value,t.class],style:[d.value,v.value,t.style]},{default:()=>{var y;return[t.image?lt(H$,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?lt(qa,{key:"icon",icon:t.icon},null):(y=r.default)==null?void 0:y.call(r),U$(!1,"v-avatar")]}})),{}}});const Cye=Symbol.for("vuetify:v-chip-group"),I_e=Vr({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:QC},...fa(),...Qie({selectedClass:"v-chip--selected"}),...Qc(),...yu(),...IS({variant:"tonal"})},"VChipGroup");qo()({name:"VChipGroup",props:I_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{themeClasses:a}=wf(t),{isSelected:i,select:d,next:f,prev:h,selected:u}=zie(t,Cye);return ay({VChip:{color:ns(t,"color"),disabled:ns(t,"disabled"),filter:ns(t,"filter"),variant:ns(t,"variant")}}),Cs(()=>lt(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},a.value,t.class],style:t.style},{default:()=>{var p;return[(p=r.default)==null?void 0:p.call(r,{isSelected:i,select:d,next:f,prev:h,selected:u.value})]}})),{}}});const N_e=Vr({activeClass:String,appendAvatar:String,appendIcon:_i,closable:Boolean,closeIcon:{type:_i,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:_i,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:J1(),onClickOnce:J1(),...ZC(),...fa(),...Yv(),...kO(),...Fie(),...$p(),...DU(),...Y$(),...Qc({tag:"span"}),...yu(),...IS({variant:"tonal"})},"VChip"),eM=qo()({name:"VChip",directives:{Ripple:UC},props:N_e(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{t:d}=LS(),{borderClasses:f}=HC(t),{colorClasses:h,colorStyles:u,variantClasses:p}=W$(t),{densityClasses:v}=iy(t),{elevationClasses:y}=AO(t),{roundedClasses:b}=Lp(t),{sizeClasses:x}=X$(t),{themeClasses:k}=wf(t),C=pi(t,"modelValue"),w=Vie(t,Cye,!1),T=RU(t,r),R=sn(()=>t.link!==!1&&T.isLink.value),M=sn(()=>!t.disabled&&t.link!==!1&&(!!w||t.link||T.isClickable.value)),I=sn(()=>({"aria-label":d(t.closeLabel),onClick(F){F.stopPropagation(),C.value=!1,a("click:close",F)}}));function V(F){var z;a("click",F),M.value&&((z=T.navigate)==null||z.call(T,F),w==null||w.toggle())}function N(F){(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),V(F))}return()=>{const F=T.isLink.value?"a":t.tag,z=!!(t.appendIcon||t.appendAvatar),U=!!(z||i.append),Q=!!(i.close||t.closable),B=!!(i.filter||t.filter)&&w,E=!!(t.prependIcon||t.prependAvatar),W=!!(E||i.prepend),Y=!w||w.isSelected.value;return C.value&&Qu(lt(F,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":M.value,"v-chip--filter":B,"v-chip--pill":t.pill},k.value,f.value,Y?h.value:void 0,v.value,y.value,b.value,x.value,p.value,w==null?void 0:w.selectedClass.value,t.class],style:[Y?u.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:T.href.value,tabindex:M.value?0:void 0,onClick:V,onKeydown:M.value&&!R.value&&N},{default:()=>{var ie;return[U$(M.value,"v-chip"),B&&lt(J1e,{key:"filter"},{default:()=>[Qu(lt("div",{class:"v-chip__filter"},[i.filter?lt(Kc,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},i.filter):lt(qa,{key:"filter-icon",icon:t.filterIcon},null)]),[[ES,w.isSelected.value]])]}),W&&lt("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?lt(Kc,{key:"prepend-defaults",disabled:!E,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},i.prepend):lt(Go,null,[t.prependIcon&&lt(qa,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&lt(mM,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),lt("div",{class:"v-chip__content"},[((ie=i.default)==null?void 0:ie.call(i,{isSelected:w==null?void 0:w.isSelected.value,selectedClass:w==null?void 0:w.selectedClass.value,select:w==null?void 0:w.select,toggle:w==null?void 0:w.toggle,value:w==null?void 0:w.value.value,disabled:t.disabled}))??t.text]),U&&lt("div",{key:"append",class:"v-chip__append"},[i.append?lt(Kc,{key:"append-defaults",disabled:!z,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},i.append):lt(Go,null,[t.appendIcon&&lt(qa,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&lt(mM,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),Q&&lt("div",rs({key:"close",class:"v-chip__close"},I.value),[i.close?lt(Kc,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},i.close):lt(qa,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Hv("ripple"),M.value&&t.ripple,null]])}}});const Bse=Symbol.for("vuetify:list");function kye(){const t=ai(Bse,{hasPrepend:fs(!1),updateHasPrepend:()=>null}),e={hasPrepend:fs(!1),updateHasPrepend:r=>{r&&(e.hasPrepend.value=r)}};return pc(Bse,e),t}function Aye(){return ai(Bse,null)}const B_e={open:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(r){const d=new Set;d.add(e);let f=i.get(e);for(;f!=null;)d.add(f),f=i.get(f);return d}else return a.delete(e),a},select:()=>null},Pye={open:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(r){let d=i.get(e);for(a.add(e);d!=null&&d!==e;)a.add(d),d=i.get(d);return a}else a.delete(e);return a},select:()=>null},Q_e={open:Pye.open,select:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(!r)return a;const d=[];let f=i.get(e);for(;f!=null;)d.push(f),f=i.get(f);return new Set(d)}},Wie=t=>{const e={select:r=>{let{id:a,value:i,selected:d}=r;if(a=va(a),t&&!i){const f=Array.from(d.entries()).reduce((h,u)=>{let[p,v]=u;return v==="on"?[...h,p]:h},[]);if(f.length===1&&f[0]===a)return d}return d.set(a,i?"on":"off"),d},in:(r,a,i)=>{let d=new Map;for(const f of r||[])d=e.select({id:f,value:!0,selected:new Map(d),children:a,parents:i});return d},out:r=>{const a=[];for(const[i,d]of r.entries())d==="on"&&a.push(i);return a}};return e},Mye=t=>{const e=Wie(t);return{select:a=>{let{selected:i,id:d,...f}=a;d=va(d);const h=i.has(d)?new Map([[d,i.get(d)]]):new Map;return e.select({...f,id:d,selected:h})},in:(a,i,d)=>{let f=new Map;return a!=null&&a.length&&(f=e.in(a.slice(0,1),i,d)),f},out:(a,i,d)=>e.out(a,i,d)}},F_e=t=>{const e=Wie(t);return{select:a=>{let{id:i,selected:d,children:f,...h}=a;return i=va(i),f.has(i)?d:e.select({id:i,selected:d,children:f,...h})},in:e.in,out:e.out}},V_e=t=>{const e=Mye(t);return{select:a=>{let{id:i,selected:d,children:f,...h}=a;return i=va(i),f.has(i)?d:e.select({id:i,selected:d,children:f,...h})},in:e.in,out:e.out}},z_e=t=>{const e={select:r=>{let{id:a,value:i,selected:d,children:f,parents:h}=r;a=va(a);const u=new Map(d),p=[a];for(;p.length;){const y=p.shift();d.set(y,i?"on":"off"),f.has(y)&&p.push(...f.get(y))}let v=h.get(a);for(;v;){const y=f.get(v),b=y.every(k=>d.get(k)==="on"),x=y.every(k=>!d.has(k)||d.get(k)==="off");d.set(v,b?"on":x?"off":"indeterminate"),v=h.get(v)}return t&&!i&&Array.from(d.entries()).reduce((b,x)=>{let[k,C]=x;return C==="on"?[...b,k]:b},[]).length===0?u:d},in:(r,a,i)=>{let d=new Map;for(const f of r||[])d=e.select({id:f,value:!0,selected:new Map(d),children:a,parents:i});return d},out:(r,a)=>{const i=[];for(const[d,f]of r.entries())f==="on"&&!a.has(d)&&i.push(d);return i}};return e},x$=Symbol.for("vuetify:nested"),Eye={id:fs(),root:{register:()=>null,unregister:()=>null,parents:Vo(new Map),children:Vo(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:Vo(new Set),selected:Vo(new Map),selectedValues:Vo([])}},Z_e=Vr({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),H_e=t=>{let e=!1;const r=Vo(new Map),a=Vo(new Map),i=pi(t,"opened",t.opened,y=>new Set(y),y=>[...y.values()]),d=sn(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return V_e(t.mandatory);case"leaf":return F_e(t.mandatory);case"independent":return Wie(t.mandatory);case"single-independent":return Mye(t.mandatory);case"classic":default:return z_e(t.mandatory)}}),f=sn(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Q_e;case"single":return B_e;case"multiple":default:return Pye}}),h=pi(t,"selected",t.selected,y=>d.value.in(y,r.value,a.value),y=>d.value.out(y,r.value,a.value));im(()=>{e=!0});function u(y){const b=[];let x=y;for(;x!=null;)b.unshift(x),x=a.value.get(x);return b}const p=Sf("nested"),v={id:fs(),root:{opened:i,selected:h,selectedValues:sn(()=>{const y=[];for(const[b,x]of h.value.entries())x==="on"&&y.push(b);return y}),register:(y,b,x)=>{b&&y!==b&&a.value.set(y,b),x&&r.value.set(y,[]),b!=null&&r.value.set(b,[...r.value.get(b)||[],y])},unregister:y=>{if(e)return;r.value.delete(y);const b=a.value.get(y);if(b){const x=r.value.get(b)??[];r.value.set(b,x.filter(k=>k!==y))}a.value.delete(y),i.value.delete(y)},open:(y,b,x)=>{p.emit("click:open",{id:y,value:b,path:u(y),event:x});const k=f.value.open({id:y,value:b,opened:new Set(i.value),children:r.value,parents:a.value,event:x});k&&(i.value=k)},openOnSelect:(y,b,x)=>{const k=f.value.select({id:y,value:b,selected:new Map(h.value),opened:new Set(i.value),children:r.value,parents:a.value,event:x});k&&(i.value=k)},select:(y,b,x)=>{p.emit("click:select",{id:y,value:b,path:u(y),event:x});const k=d.value.select({id:y,value:b,selected:new Map(h.value),children:r.value,parents:a.value,event:x});k&&(h.value=k),v.root.openOnSelect(y,b,x)},children:r,parents:a}};return pc(x$,v),v.root},_ye=(t,e)=>{const r=ai(x$,Eye),a=Symbol(Wv()),i=sn(()=>t.value!==void 0?t.value:a),d={...r,id:i,open:(f,h)=>r.root.open(i.value,f,h),openOnSelect:(f,h)=>r.root.openOnSelect(i.value,f,h),isOpen:sn(()=>r.root.opened.value.has(i.value)),parent:sn(()=>r.root.parents.value.get(i.value)),select:(f,h)=>r.root.select(i.value,f,h),isSelected:sn(()=>r.root.selected.value.get(va(i.value))==="on"),isIndeterminate:sn(()=>r.root.selected.value.get(i.value)==="indeterminate"),isLeaf:sn(()=>!r.root.children.value.get(i.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(i.value,r.id.value,e),im(()=>{!r.isGroupActivator&&r.root.unregister(i.value)}),e&&pc(x$,d),d},U_e=()=>{const t=ai(x$,Eye);pc(x$,{...t,isGroupActivator:!0})},W_e=AM({name:"VListGroupActivator",setup(t,e){let{slots:r}=e;return U_e(),()=>{var a;return(a=r.default)==null?void 0:a.call(r)}}}),Y_e=Vr({activeColor:String,baseColor:String,color:String,collapseIcon:{type:_i,default:"$collapse"},expandIcon:{type:_i,default:"$expand"},prependIcon:_i,appendIcon:_i,fluid:Boolean,subgroup:Boolean,title:String,value:null,...fa(),...Qc()},"VListGroup"),$he=qo()({name:"VListGroup",props:Y_e(),setup(t,e){let{slots:r}=e;const{isOpen:a,open:i,id:d}=_ye(ns(t,"value"),!0),f=sn(()=>`v-list-group--id-${String(d.value)}`),h=Aye(),{isBooted:u}=Bie();function p(x){i(!a.value,x)}const v=sn(()=>({onClick:p,class:"v-list-group__header",id:f.value})),y=sn(()=>a.value?t.collapseIcon:t.expandIcon),b=sn(()=>({VListItem:{active:a.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&y.value,appendIcon:t.appendIcon||!t.subgroup&&y.value,title:t.title,value:t.value}}));return Cs(()=>lt(t.tag,{class:["v-list-group",{"v-list-group--prepend":h==null?void 0:h.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":a.value},t.class],style:t.style},{default:()=>[r.activator&&lt(Kc,{defaults:b.value},{default:()=>[lt(W_e,null,{default:()=>[r.activator({props:v.value,isOpen:a.value})]})]}),lt(hS,{transition:{component:Lie},disabled:!u.value},{default:()=>{var x;return[Qu(lt("div",{class:"v-list-group__items",role:"group","aria-labelledby":f.value},[(x=r.default)==null?void 0:x.call(r)]),[[ES,a.value]])]}})]})),{}}});const X_e=PM("v-list-item-subtitle"),G_e=PM("v-list-item-title"),j_e=Vr({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:_i,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:_i,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:J1(),onClickOnce:J1(),...ZC(),...fa(),...Yv(),...FC(),...kO(),...$p(),...DU(),...Qc(),...yu(),...IS({variant:"text"})},"VListItem"),mg=qo()({name:"VListItem",directives:{Ripple:UC},props:j_e(),emits:{click:t=>!0},setup(t,e){let{attrs:r,slots:a,emit:i}=e;const d=RU(t,r),f=sn(()=>t.value===void 0?d.href.value:t.value),{select:h,isSelected:u,isIndeterminate:p,isGroupActivator:v,root:y,parent:b,openOnSelect:x}=_ye(f,!1),k=Aye(),C=sn(()=>{var ae;return t.active!==!1&&(t.active||((ae=d.isActive)==null?void 0:ae.value)||u.value)}),w=sn(()=>t.link!==!1&&d.isLink.value),T=sn(()=>!t.disabled&&t.link!==!1&&(t.link||d.isClickable.value||t.value!=null&&!!k)),R=sn(()=>t.rounded||t.nav),M=sn(()=>t.color??t.activeColor),I=sn(()=>({color:C.value?M.value??t.baseColor:t.baseColor,variant:t.variant}));Ho(()=>{var ae;return(ae=d.isActive)==null?void 0:ae.value},ae=>{ae&&b.value!=null&&y.open(b.value,!0),ae&&x(ae)},{immediate:!0});const{themeClasses:V}=wf(t),{borderClasses:N}=HC(t),{colorClasses:F,colorStyles:z,variantClasses:U}=W$(I),{densityClasses:Q}=iy(t),{dimensionStyles:B}=VC(t),{elevationClasses:E}=AO(t),{roundedClasses:W}=Lp(R),Y=sn(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),ie=sn(()=>({isActive:C.value,select:h,isSelected:u.value,isIndeterminate:p.value}));function L(ae){var q;i("click",ae),!(v||!T.value)&&((q=d.navigate)==null||q.call(d,ae),t.value!=null&&h(!u.value,ae))}function me(ae){(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),L(ae))}return Cs(()=>{const ae=w.value?"a":t.tag,q=a.title||t.title,fe=a.subtitle||t.subtitle,ee=!!(t.appendAvatar||t.appendIcon),be=!!(ee||a.append),Te=!!(t.prependAvatar||t.prependIcon),Be=!!(Te||a.prepend);return k==null||k.updateHasPrepend(Be),t.activeColor&&nEe("active-color",["color","base-color"]),Qu(lt(ae,{class:["v-list-item",{"v-list-item--active":C.value,"v-list-item--disabled":t.disabled,"v-list-item--link":T.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Be&&(k==null?void 0:k.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&C.value},V.value,N.value,F.value,Q.value,E.value,Y.value,W.value,U.value,t.class],style:[z.value,B.value,t.style],href:d.href.value,tabindex:T.value?k?-2:0:void 0,onClick:L,onKeydown:T.value&&!w.value&&me},{default:()=>{var ge;return[U$(T.value||C.value,"v-list-item"),Be&&lt("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?lt(Kc,{key:"prepend-defaults",disabled:!Te,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ne;return[(ne=a.prepend)==null?void 0:ne.call(a,ie.value)]}}):lt(Go,null,[t.prependAvatar&&lt(mM,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&lt(qa,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),lt("div",{class:"v-list-item__spacer"},null)]),lt("div",{class:"v-list-item__content","data-no-activator":""},[q&&lt(G_e,{key:"title"},{default:()=>{var ne;return[((ne=a.title)==null?void 0:ne.call(a,{title:t.title}))??t.title]}}),fe&&lt(X_e,{key:"subtitle"},{default:()=>{var ne;return[((ne=a.subtitle)==null?void 0:ne.call(a,{subtitle:t.subtitle}))??t.subtitle]}}),(ge=a.default)==null?void 0:ge.call(a,ie.value)]),be&&lt("div",{key:"append",class:"v-list-item__append"},[a.append?lt(Kc,{key:"append-defaults",disabled:!ee,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ne;return[(ne=a.append)==null?void 0:ne.call(a,ie.value)]}}):lt(Go,null,[t.appendIcon&&lt(qa,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&lt(mM,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),lt("div",{class:"v-list-item__spacer"},null)])]}}),[[Hv("ripple"),T.value&&t.ripple]])}),{}}}),q_e=Vr({color:String,inset:Boolean,sticky:Boolean,title:String,...fa(),...Qc()},"VListSubheader"),K_e=qo()({name:"VListSubheader",props:q_e(),setup(t,e){let{slots:r}=e;const{textColorClasses:a,textColorStyles:i}=Ep(ns(t,"color"));return Cs(()=>{const d=!!(r.default||t.title);return lt(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},a.value,t.class],style:[{textColorStyles:i},t.style]},{default:()=>{var f;return[d&&lt("div",{class:"v-list-subheader__text"},[((f=r.default)==null?void 0:f.call(r))??t.title])]}})}),{}}});const J_e=Vr({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...fa(),...yu()},"VDivider"),e8e=qo()({name:"VDivider",props:J_e(),setup(t,e){let{attrs:r}=e;const{themeClasses:a}=wf(t),{textColorClasses:i,textColorStyles:d}=Ep(ns(t,"color")),f=sn(()=>{const h={};return t.length&&(h[t.vertical?"maxHeight":"maxWidth"]=cs(t.length)),t.thickness&&(h[t.vertical?"borderRightWidth":"borderTopWidth"]=cs(t.thickness)),h});return Cs(()=>lt("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},a.value,i.value,t.class],style:[f.value,d.value,t.style],"aria-orientation":!r.role||r.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}}),t8e=Vr({items:Array,returnObject:Boolean},"VListChildren"),Rye=qo()({name:"VListChildren",props:t8e(),setup(t,e){let{slots:r}=e;return kye(),()=>{var a,i;return((a=r.default)==null?void 0:a.call(r))??((i=t.items)==null?void 0:i.map(d=>{var x,k;let{children:f,props:h,type:u,raw:p}=d;if(u==="divider")return((x=r.divider)==null?void 0:x.call(r,{props:h}))??lt(e8e,h,null);if(u==="subheader")return((k=r.subheader)==null?void 0:k.call(r,{props:h}))??lt(K_e,h,null);const v={subtitle:r.subtitle?C=>{var w;return(w=r.subtitle)==null?void 0:w.call(r,{...C,item:p})}:void 0,prepend:r.prepend?C=>{var w;return(w=r.prepend)==null?void 0:w.call(r,{...C,item:p})}:void 0,append:r.append?C=>{var w;return(w=r.append)==null?void 0:w.call(r,{...C,item:p})}:void 0,title:r.title?C=>{var w;return(w=r.title)==null?void 0:w.call(r,{...C,item:p})}:void 0},[y,b]=$he.filterProps(h);return f?lt($he,rs({value:h==null?void 0:h.value},y),{activator:C=>{let{props:w}=C;const T={...h,...w,value:t.returnObject?p:h.value};return r.header?r.header({props:T}):lt(mg,T,v)},default:()=>lt(Rye,{items:f},r)}):r.item?r.item({props:h}):lt(mg,rs(h,{value:t.returnObject?p:h.value}),v)}))}}}),Dye=Vr({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:QC}},"list-items");function AC(t,e){const r=nm(e,t.itemTitle,e),a=nm(e,t.itemValue,r),i=nm(e,t.itemChildren),d=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?fM(e,["children"])[1]:e:void 0:nm(e,t.itemProps),f={title:r,value:a,...d};return{title:String(f.title??""),value:f.value,props:f,children:Array.isArray(i)?$ye(t,i):void 0,raw:e}}function $ye(t,e){const r=[];for(const a of e)r.push(AC(t,a));return r}function Yie(t){const e=sn(()=>$ye(t,t.items)),r=sn(()=>e.value.some(d=>d.value===null));function a(d){return r.value||(d=d.filter(f=>f!==null)),d.map(f=>t.returnObject&&typeof f=="string"?AC(t,f):e.value.find(h=>t.valueComparator(f,h.value))||AC(t,f))}function i(d){return t.returnObject?d.map(f=>{let{raw:h}=f;return h}):d.map(f=>{let{value:h}=f;return h})}return{items:e,transformIn:a,transformOut:i}}function n8e(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function r8e(t,e){const r=nm(e,t.itemType,"item"),a=n8e(e)?e:nm(e,t.itemTitle),i=nm(e,t.itemValue,void 0),d=nm(e,t.itemChildren),f=t.itemProps===!0?fM(e,["children"])[1]:nm(e,t.itemProps),h={title:a,value:i,...f};return{type:r,title:h.title,value:h.value,props:h,children:r==="item"&&d?Lye(t,d):void 0,raw:e}}function Lye(t,e){const r=[];for(const a of e)r.push(r8e(t,a));return r}function o8e(t){return{items:sn(()=>Lye(t,t.items))}}const s8e=Vr({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...Z_e({selectStrategy:"single-leaf",openStrategy:"list"}),...ZC(),...fa(),...Yv(),...FC(),...kO(),itemType:{type:String,default:"type"},...Dye(),...$p(),...Qc(),...yu(),...IS({variant:"text"})},"VList"),NS=qo()({name:"VList",props:s8e(),emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:r}=e;const{items:a}=o8e(t),{themeClasses:i}=wf(t),{backgroundColorClasses:d,backgroundColorStyles:f}=_p(ns(t,"bgColor")),{borderClasses:h}=HC(t),{densityClasses:u}=iy(t),{dimensionStyles:p}=VC(t),{elevationClasses:v}=AO(t),{roundedClasses:y}=Lp(t),{open:b,select:x}=H_e(t),k=sn(()=>t.lines?`v-list--${t.lines}-line`:void 0),C=ns(t,"activeColor"),w=ns(t,"baseColor"),T=ns(t,"color");kye(),ay({VListGroup:{activeColor:C,baseColor:w,color:T},VListItem:{activeClass:ns(t,"activeClass"),activeColor:C,baseColor:w,color:T,density:ns(t,"density"),disabled:ns(t,"disabled"),lines:ns(t,"lines"),nav:ns(t,"nav"),variant:ns(t,"variant")}});const R=fs(!1),M=Vo();function I(U){R.value=!0}function V(U){R.value=!1}function N(U){var Q;!R.value&&!(U.relatedTarget&&((Q=M.value)!=null&&Q.contains(U.relatedTarget)))&&z()}function F(U){if(M.value){if(U.key==="ArrowDown")z("next");else if(U.key==="ArrowUp")z("prev");else if(U.key==="Home")z("first");else if(U.key==="End")z("last");else return;U.preventDefault()}}function z(U){if(M.value)return PH(M.value,U)}return Cs(()=>lt(t.tag,{ref:M,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},i.value,d.value,h.value,u.value,v.value,k.value,y.value,t.class],style:[f.value,p.value,t.style],tabindex:t.disabled||R.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:I,onFocusout:V,onFocus:N,onKeydown:F},{default:()=>[lt(Rye,{items:a.value,returnObject:t.returnObject},r)]})),{open:b,select:x,focus:z}}});function Kre(t,e){return{x:t.x+e.x,y:t.y+e.y}}function a8e(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lhe(t,e){if(t.side==="top"||t.side==="bottom"){const{side:r,align:a}=t,i=a==="left"?0:a==="center"?e.width/2:a==="right"?e.width:a,d=r==="top"?0:r==="bottom"?e.height:r;return Kre({x:i,y:d},e)}else if(t.side==="left"||t.side==="right"){const{side:r,align:a}=t,i=r==="left"?0:r==="right"?e.width:r,d=a==="top"?0:a==="center"?e.height/2:a==="bottom"?e.height:a;return Kre({x:i,y:d},e)}return Kre({x:e.width/2,y:e.height/2},e)}const Iye={static:c8e,connected:f8e},i8e=Vr({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in Iye},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function l8e(t,e){const r=Vo({}),a=Vo();Fl&&(PS(()=>!!(e.isActive.value&&t.locationStrategy),d=>{var f,h;Ho(()=>t.locationStrategy,d),om(()=>{a.value=void 0}),typeof t.locationStrategy=="function"?a.value=(f=t.locationStrategy(e,t,r))==null?void 0:f.updateLocation:a.value=(h=Iye[t.locationStrategy](e,t,r))==null?void 0:h.updateLocation}),window.addEventListener("resize",i,{passive:!0}),om(()=>{window.removeEventListener("resize",i),a.value=void 0}));function i(d){var f;(f=a.value)==null||f.call(a,d)}return{contentStyles:r,updateLocation:a}}function c8e(){}function u8e(t,e){e?t.style.removeProperty("left"):t.style.removeProperty("right");const r=Eie(t);return e?r.x+=parseFloat(t.style.right||0):r.x-=parseFloat(t.style.left||0),r.y-=parseFloat(t.style.top||0),r}function f8e(t,e,r){TEe(t.activatorEl.value)&&Object.assign(r.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:d}=Mie(()=>{const k=$se(e.location,t.isRtl.value),C=e.origin==="overlap"?k:e.origin==="auto"?Xre(k):$se(e.origin,t.isRtl.value);return k.side===C.side&&k.align===Gre(C).align?{preferredAnchor:ahe(k),preferredOrigin:ahe(C)}:{preferredAnchor:k,preferredOrigin:C}}),[f,h,u,p]=["minWidth","minHeight","maxWidth","maxHeight"].map(k=>sn(()=>{const C=parseFloat(e[k]);return isNaN(C)?1/0:C})),v=sn(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const k=e.offset.split(" ").map(parseFloat);return k.length<2&&k.push(0),k}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let y=!1;const b=new ResizeObserver(()=>{y&&x()});Ho([t.activatorEl,t.contentEl],(k,C)=>{let[w,T]=k,[R,M]=C;R&&b.unobserve(R),w&&b.observe(w),M&&b.unobserve(M),T&&b.observe(T)},{immediate:!0}),om(()=>{b.disconnect()});function x(){if(y=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>y=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const k=t.activatorEl.value.getBoundingClientRect(),C=u8e(t.contentEl.value,t.isRtl.value),w=_H(t.contentEl.value),T=12;w.length||(w.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(C.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),C.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const R=w.reduce((B,E)=>{const W=E.getBoundingClientRect(),Y=new JP({x:E===document.documentElement?0:W.x,y:E===document.documentElement?0:W.y,width:E.clientWidth,height:E.clientHeight});return B?new JP({x:Math.max(B.left,Y.left),y:Math.max(B.top,Y.top),width:Math.min(B.right,Y.right)-Math.max(B.left,Y.left),height:Math.min(B.bottom,Y.bottom)-Math.max(B.top,Y.top)}):Y},void 0);R.x+=T,R.y+=T,R.width-=T*2,R.height-=T*2;let M={anchor:i.value,origin:d.value};function I(B){const E=new JP(C),W=Lhe(B.anchor,k),Y=Lhe(B.origin,E);let{x:ie,y:L}=a8e(W,Y);switch(B.anchor.side){case"top":L-=v.value[0];break;case"bottom":L+=v.value[0];break;case"left":ie-=v.value[0];break;case"right":ie+=v.value[0];break}switch(B.anchor.align){case"top":L-=v.value[1];break;case"bottom":L+=v.value[1];break;case"left":ie-=v.value[1];break;case"right":ie+=v.value[1];break}return E.x+=ie,E.y+=L,E.width=Math.min(E.width,u.value),E.height=Math.min(E.height,p.value),{overflows:lhe(E,R),x:ie,y:L}}let V=0,N=0;const F={x:0,y:0},z={x:!1,y:!1};let U=-1;for(;!(U++>10);){const{x:B,y:E,overflows:W}=I(M);V+=B,N+=E,C.x+=B,C.y+=E;{const Y=ihe(M.anchor),ie=W.x.before||W.x.after,L=W.y.before||W.y.after;let me=!1;if(["x","y"].forEach(ae=>{if(ae==="x"&&ie&&!z.x||ae==="y"&&L&&!z.y){const q={anchor:{...M.anchor},origin:{...M.origin}},fe=ae==="x"?Y==="y"?Gre:Xre:Y==="y"?Xre:Gre;q.anchor=fe(q.anchor),q.origin=fe(q.origin);const{overflows:ee}=I(q);(ee[ae].before<=W[ae].before&&ee[ae].after<=W[ae].after||ee[ae].before+ee[ae].after<(W[ae].before+W[ae].after)/2)&&(M=q,me=z[ae]=!0)}}),me)continue}W.x.before&&(V+=W.x.before,C.x+=W.x.before),W.x.after&&(V-=W.x.after,C.x-=W.x.after),W.y.before&&(N+=W.y.before,C.y+=W.y.before),W.y.after&&(N-=W.y.after,C.y-=W.y.after);{const Y=lhe(C,R);F.x=R.width-Y.x.before-Y.x.after,F.y=R.height-Y.y.before-Y.y.after,V+=Y.x.before,C.x+=Y.x.before,N+=Y.y.before,C.y+=Y.y.before}break}const Q=ihe(M.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${M.anchor.side} ${M.anchor.align}`,transformOrigin:`${M.origin.side} ${M.origin.align}`,top:cs(Jre(N)),left:t.isRtl.value?void 0:cs(Jre(V)),right:t.isRtl.value?cs(Jre(-V)):void 0,minWidth:cs(Q==="y"?Math.min(f.value,k.width):f.value),maxWidth:cs(Ihe(Ap(F.x,f.value===1/0?0:f.value,u.value))),maxHeight:cs(Ihe(Ap(F.y,h.value===1/0?0:h.value,p.value)))}),{available:F,contentBox:C}}return Ho(()=>[i.value,d.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>x()),ec(()=>{const k=x();if(!k)return;const{available:C,contentBox:w}=k;w.height>C.y&&requestAnimationFrame(()=>{x(),requestAnimationFrame(()=>{x()})})}),{updateLocation:x}}function Jre(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function Ihe(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Qse=!0;const IH=[];function d8e(t){!Qse||IH.length?(IH.push(t),Fse()):(Qse=!1,t(),Fse())}let Nhe=-1;function Fse(){cancelAnimationFrame(Nhe),Nhe=requestAnimationFrame(()=>{const t=IH.shift();t&&t(),IH.length?Fse():Qse=!0})}const UZ={none:null,close:g8e,block:p8e,reposition:v8e},h8e=Vr({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in UZ}},"VOverlay-scroll-strategies");function m8e(t,e){if(!Fl)return;let r;am(async()=>{r==null||r.stop(),e.isActive.value&&t.scrollStrategy&&(r=vae(),await ec(),r.active&&r.run(()=>{var a;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,r):(a=UZ[t.scrollStrategy])==null||a.call(UZ,e,t,r)}))}),om(()=>{r==null||r.stop()})}function g8e(t){function e(r){t.isActive.value=!1}Nye(t.activatorEl.value??t.contentEl.value,e)}function p8e(t,e){var f;const r=(f=t.root.value)==null?void 0:f.offsetParent,a=[...new Set([..._H(t.activatorEl.value,e.contained?r:void 0),..._H(t.contentEl.value,e.contained?r:void 0)])].filter(h=>!h.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,d=(h=>Die(h)&&h)(r||document.documentElement);d&&t.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((h,u)=>{h.style.setProperty("--v-body-scroll-x",cs(-h.scrollLeft)),h.style.setProperty("--v-body-scroll-y",cs(-h.scrollTop)),h!==document.documentElement&&h.style.setProperty("--v-scrollbar-offset",cs(i)),h.classList.add("v-overlay-scroll-blocked")}),om(()=>{a.forEach((h,u)=>{const p=parseFloat(h.style.getPropertyValue("--v-body-scroll-x")),v=parseFloat(h.style.getPropertyValue("--v-body-scroll-y"));h.style.removeProperty("--v-body-scroll-x"),h.style.removeProperty("--v-body-scroll-y"),h.style.removeProperty("--v-scrollbar-offset"),h.classList.remove("v-overlay-scroll-blocked"),h.scrollLeft=-p,h.scrollTop=-v}),d&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function v8e(t,e,r){let a=!1,i=-1,d=-1;function f(h){d8e(()=>{var v,y;const u=performance.now();(y=(v=t.updateLocation).value)==null||y.call(v,h),a=(performance.now()-u)/(1e3/60)>2})}d=(typeof requestIdleCallback>"u"?h=>h():requestIdleCallback)(()=>{r.run(()=>{Nye(t.activatorEl.value??t.contentEl.value,h=>{a?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{f(h)})})):f(h)})})}),om(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(d),cancelAnimationFrame(i)})}function Nye(t,e){const r=[document,..._H(t)];r.forEach(a=>{a.addEventListener("scroll",e,{passive:!0})}),om(()=>{r.forEach(a=>{a.removeEventListener("scroll",e)})})}const Vse=Symbol.for("vuetify:v-menu"),y8e=Vr({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function b8e(t,e){const r={},a=i=>()=>{if(!Fl)return Promise.resolve(!0);const d=i==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(f=>{const h=parseInt(t[i]??0,10);r[i]=window.setTimeout(()=>{e==null||e(d),f(d)},h)})};return{runCloseDelay:a("closeDelay"),runOpenDelay:a("openDelay")}}const O8e=Vr({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...y8e()},"VOverlay-activator");function x8e(t,e){let{isActive:r,isTop:a}=e;const i=Vo();let d=!1,f=!1,h=!0;const u=sn(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),p=sn(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!u.value),{runOpenDelay:v,runCloseDelay:y}=b8e(t,M=>{M===(t.openOnHover&&d||u.value&&f)&&!(t.openOnHover&&r.value&&!a.value)&&(r.value!==M&&(h=!0),r.value=M)}),b={onClick:M=>{M.stopPropagation(),i.value=M.currentTarget||M.target,r.value=!r.value},onMouseenter:M=>{var I;(I=M.sourceCapabilities)!=null&&I.firesTouchEvents||(d=!0,i.value=M.currentTarget||M.target,v())},onMouseleave:M=>{d=!1,y()},onFocus:M=>{dM(M.target,":focus-visible")!==!1&&(f=!0,M.stopPropagation(),i.value=M.currentTarget||M.target,v())},onBlur:M=>{f=!1,M.stopPropagation(),y()}},x=sn(()=>{const M={};return p.value&&(M.onClick=b.onClick),t.openOnHover&&(M.onMouseenter=b.onMouseenter,M.onMouseleave=b.onMouseleave),u.value&&(M.onFocus=b.onFocus,M.onBlur=b.onBlur),M}),k=sn(()=>{const M={};if(t.openOnHover&&(M.onMouseenter=()=>{d=!0,v()},M.onMouseleave=()=>{d=!1,y()}),u.value&&(M.onFocusin=()=>{f=!0,v()},M.onFocusout=()=>{f=!1,y()}),t.closeOnContentClick){const I=ai(Vse,null);M.onClick=()=>{r.value=!1,I==null||I.closeParents()}}return M}),C=sn(()=>{const M={};return t.openOnHover&&(M.onMouseenter=()=>{h&&(d=!0,h=!1,v())},M.onMouseleave=()=>{d=!1,y()}),M});Ho(a,M=>{M&&(t.openOnHover&&!d&&(!u.value||!f)||u.value&&!f&&(!t.openOnHover||!d))&&(r.value=!1)});const w=Vo();am(()=>{w.value&&ec(()=>{i.value=Dse(w.value)})});const T=Sf("useActivator");let R;return Ho(()=>!!t.activator,M=>{M&&Fl?(R=vae(),R.run(()=>{S8e(t,T,{activatorEl:i,activatorEvents:x})})):R&&R.stop()},{flush:"post",immediate:!0}),om(()=>{R==null||R.stop()}),{activatorEl:i,activatorRef:w,activatorEvents:x,contentEvents:k,scrimEvents:C}}function S8e(t,e,r){let{activatorEl:a,activatorEvents:i}=r;Ho(()=>t.activator,(u,p)=>{if(p&&u!==p){const v=h(p);v&&f(v)}u&&ec(()=>d())},{immediate:!0}),Ho(()=>t.activatorProps,()=>{d()}),om(()=>{f()});function d(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h(),p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;u&&YMe(u,rs(i.value,p))}function f(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h(),p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;u&&XMe(u,rs(i.value,p))}function h(){var v,y;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,p;if(u)if(u==="parent"){let b=(y=(v=e==null?void 0:e.proxy)==null?void 0:v.$el)==null?void 0:y.parentNode;for(;b!=null&&b.hasAttribute("data-no-activator");)b=b.parentNode;p=b}else typeof u=="string"?p=document.querySelector(u):"$el"in u?p=u.$el:p=u;return a.value=(p==null?void 0:p.nodeType)===Node.ELEMENT_NODE?p:null,a.value}}const NU=["sm","md","lg","xl","xxl"],zse=Symbol.for("vuetify:display"),Bhe={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},w8e=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bhe;return Sp(Bhe,t)};function Qhe(t){return Fl&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Fhe(t){return Fl&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Vhe(t){const e=Fl&&!t?window.navigator.userAgent:"ssr";function r(k){return!!e.match(k)}const a=r(/android/i),i=r(/iphone|ipad|ipod/i),d=r(/cordova/i),f=r(/electron/i),h=r(/chrome/i),u=r(/edge/i),p=r(/firefox/i),v=r(/opera/i),y=r(/win/i),b=r(/mac/i),x=r(/linux/i);return{android:a,ios:i,cordova:d,electron:f,chrome:h,edge:u,firefox:p,opera:v,win:y,mac:b,linux:x,touch:zMe,ssr:e==="ssr"}}function T8e(t,e){const{thresholds:r,mobileBreakpoint:a}=w8e(t),i=fs(Fhe(e)),d=fs(Vhe(e)),f=tm({}),h=fs(Qhe(e));function u(){i.value=Fhe(),h.value=Qhe()}function p(){u(),d.value=Vhe()}return am(()=>{const v=h.value<r.sm,y=h.value<r.md&&!v,b=h.value<r.lg&&!(y||v),x=h.value<r.xl&&!(b||y||v),k=h.value<r.xxl&&!(x||b||y||v),C=h.value>=r.xxl,w=v?"xs":y?"sm":b?"md":x?"lg":k?"xl":"xxl",T=typeof a=="number"?a:r[a],R=h.value<T;f.xs=v,f.sm=y,f.md=b,f.lg=x,f.xl=k,f.xxl=C,f.smAndUp=!v,f.mdAndUp=!(v||y),f.lgAndUp=!(v||y||b),f.xlAndUp=!(v||y||b||x),f.smAndDown=!(b||x||k||C),f.mdAndDown=!(x||k||C),f.lgAndDown=!(k||C),f.xlAndDown=!C,f.name=w,f.height=i.value,f.width=h.value,f.mobile=R,f.mobileBreakpoint=a,f.platform=d.value,f.thresholds=r}),Fl&&window.addEventListener("resize",u,{passive:!0}),{...sU(f),update:p,ssr:!!e}}function Bye(){const t=ai(zse);if(!t)throw new Error("Could not find Vuetify display injection");return t}function C8e(){if(!Fl)return fs(!1);const{ssr:t}=Bye();if(t){const e=fs(!1);return gg(()=>{e.value=!0}),e}else return fs(!0)}const Xie=Vr({eager:Boolean},"lazy");function Qye(t,e){const r=fs(!1),a=sn(()=>r.value||t.eager||e.value);Ho(e,()=>r.value=!0);function i(){t.eager||(r.value=!1)}return{isBooted:r,hasContent:a,onAfterLeave:i}}function Gie(){const e=Sf("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const zhe=Symbol.for("vuetify:stack"),vD=tm([]);function k8e(t,e,r){const a=Sf("useStack"),i=!r,d=ai(zhe,void 0),f=tm({activeChildren:new Set});pc(zhe,f);const h=fs(+e.value);PS(t,()=>{var y;const v=(y=vD.at(-1))==null?void 0:y[1];h.value=v?v+10:+e.value,i&&vD.push([a.uid,h.value]),d==null||d.activeChildren.add(a.uid),om(()=>{if(i){const b=va(vD).findIndex(x=>x[0]===a.uid);vD.splice(b,1)}d==null||d.activeChildren.delete(a.uid)})});const u=fs(!0);i&&am(()=>{var y;const v=((y=vD.at(-1))==null?void 0:y[0])===a.uid;setTimeout(()=>u.value=v)});const p=sn(()=>!f.activeChildren.size);return{globalTop:_$(u),localTop:p,stackStyles:sn(()=>({zIndex:h.value}))}}function A8e(t){return{teleportTarget:sn(()=>{const r=t.value;if(r===!0||!Fl)return;const a=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(a==null)return;let i=a.querySelector(":scope > .v-overlay-container");return i||(i=document.createElement("div"),i.className="v-overlay-container",a.appendChild(i)),i})}}function P8e(){return!0}function Fye(t,e,r){if(!t||Vye(t,r)===!1)return!1;const a=Z1e(e);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===t.target)return!1;const i=(typeof r.value=="object"&&r.value.include||(()=>[]))();return i.push(e),!i.some(d=>d==null?void 0:d.contains(t.target))}function Vye(t,e){return(typeof e.value=="object"&&e.value.closeConditional||P8e)(t)}function M8e(t,e,r){const a=typeof r.value=="function"?r.value:r.value.handler;e._clickOutside.lastMousedownWasOutside&&Fye(t,e,r)&&setTimeout(()=>{Vye(t,r)&&a&&a(t)},0)}function Zhe(t,e){const r=Z1e(t);e(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&e(r)}const E8e={mounted(t,e){const r=i=>M8e(i,t,e),a=i=>{t._clickOutside.lastMousedownWasOutside=Fye(i,t,e)};Zhe(t,i=>{i.addEventListener("click",r,!0),i.addEventListener("mousedown",a,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:r,onMousedown:a}},unmounted(t,e){t._clickOutside&&(Zhe(t,r=>{var d;if(!r||!((d=t._clickOutside)!=null&&d[e.instance.$.uid]))return;const{onClick:a,onMousedown:i}=t._clickOutside[e.instance.$.uid];r.removeEventListener("click",a,!0),r.removeEventListener("mousedown",i,!0)}),delete t._clickOutside[e.instance.$.uid])}};function _8e(t){const{modelValue:e,color:r,...a}=t;return lt(vO,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&lt("div",rs({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},a),null)]})}const jie=Vr({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...O8e(),...fa(),...FC(),...Xie(),...i8e(),...h8e(),...yu(),...zC()},"VOverlay"),NH=qo()({name:"VOverlay",directives:{ClickOutside:E8e},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...jie()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:r,attrs:a,emit:i}=e;const d=pi(t,"modelValue"),f=sn({get:()=>d.value,set:q=>{q&&t.disabled||(d.value=q)}}),{teleportTarget:h}=A8e(sn(()=>t.attach||t.contained)),{themeClasses:u}=wf(t),{rtlClasses:p,isRtl:v}=Dp(),{hasContent:y,onAfterLeave:b}=Qye(t,f),x=_p(sn(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:k,localTop:C,stackStyles:w}=k8e(f,ns(t,"zIndex"),t._disableGlobalStack),{activatorEl:T,activatorRef:R,activatorEvents:M,contentEvents:I,scrimEvents:V}=x8e(t,{isActive:f,isTop:C}),{dimensionStyles:N}=VC(t),F=C8e(),{scopeId:z}=Gie();Ho(()=>t.disabled,q=>{q&&(f.value=!1)});const U=Vo(),Q=Vo(),{contentStyles:B,updateLocation:E}=l8e(t,{isRtl:v,contentEl:Q,activatorEl:T,isActive:f});m8e(t,{root:U,contentEl:Q,activatorEl:T,isActive:f,updateLocation:E});function W(q){i("click:outside",q),t.persistent?ae():f.value=!1}function Y(){return f.value&&k.value}Fl&&Ho(f,q=>{q?window.addEventListener("keydown",ie):window.removeEventListener("keydown",ie)},{immediate:!0});function ie(q){var fe,ee;q.key==="Escape"&&k.value&&(t.persistent?ae():(f.value=!1,(fe=Q.value)!=null&&fe.contains(document.activeElement)&&((ee=T.value)==null||ee.focus())))}const L=v_e();PS(()=>t.closeOnBack,()=>{y_e(L,q=>{k.value&&f.value?(q(!1),t.persistent?ae():f.value=!1):q()})});const me=Vo();Ho(()=>f.value&&(t.absolute||t.contained)&&h.value==null,q=>{if(q){const fe=U1e(U.value);fe&&fe!==document.scrollingElement&&(me.value=fe.scrollTop)}});function ae(){t.noClickAnimation||Q.value&&VP(Q.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:EH})}return Cs(()=>{var q;return lt(Go,null,[(q=r.activator)==null?void 0:q.call(r,{isActive:f.value,props:rs({ref:R},M.value,t.activatorProps)}),F.value&&y.value&&lt(xwe,{disabled:!h.value,to:h.value},{default:()=>[lt("div",rs({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":f.value,"v-overlay--contained":t.contained},u.value,p.value,t.class],style:[w.value,{top:cs(me.value)},t.style],ref:U},z,a),[lt(_8e,rs({color:x,modelValue:f.value&&!!t.scrim},V.value),null),lt(hS,{appear:!0,persisted:!0,transition:t.transition,target:T.value,onAfterLeave:()=>{b(),i("afterLeave")}},{default:()=>{var fe;return[Qu(lt("div",rs({ref:Q,class:["v-overlay__content",t.contentClass],style:[N.value,B.value]},I.value,t.contentProps),[(fe=r.default)==null?void 0:fe.call(r,{isActive:f})]),[[ES,f.value],[Hv("click-outside"),{handler:W,closeConditional:Y,include:()=>[T.value]}]])]}})])]})])}),{activatorEl:T,animateClick:ae,contentEl:Q,globalTop:k,localTop:C,updateLocation:E}}}),eoe=Symbol("Forwarded refs");function toe(t,e){let r=t;for(;r;){const a=Reflect.getOwnPropertyDescriptor(r,e);if(a)return a;r=Object.getPrototypeOf(r)}}function WC(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return t[eoe]=r,new Proxy(t,{get(i,d){if(Reflect.has(i,d))return Reflect.get(i,d);if(!(typeof d=="symbol"||d.startsWith("$")||d.startsWith("__"))){for(const f of r)if(f.value&&Reflect.has(f.value,d)){const h=Reflect.get(f.value,d);return typeof h=="function"?h.bind(f.value):h}}},has(i,d){if(Reflect.has(i,d))return!0;if(typeof d=="symbol"||d.startsWith("$")||d.startsWith("__"))return!1;for(const f of r)if(f.value&&Reflect.has(f.value,d))return!0;return!1},set(i,d,f){if(Reflect.has(i,d))return Reflect.set(i,d,f);if(typeof d=="symbol"||d.startsWith("$")||d.startsWith("__"))return!1;for(const h of r)if(h.value&&Reflect.has(h.value,d))return Reflect.set(h.value,d,f);return!1},getOwnPropertyDescriptor(i,d){var h;const f=Reflect.getOwnPropertyDescriptor(i,d);if(f)return f;if(!(typeof d=="symbol"||d.startsWith("$")||d.startsWith("__"))){for(const u of r){if(!u.value)continue;const p=toe(u.value,d)??("_"in u.value?toe((h=u.value._)==null?void 0:h.setupState,d):void 0);if(p)return p}for(const u of r){const p=u.value&&u.value[eoe];if(!p)continue;const v=p.slice();for(;v.length;){const y=v.shift(),b=toe(y.value,d);if(b)return b;const x=y.value&&y.value[eoe];x&&v.push(...x)}}}}})}const R8e=Vr({id:String,...kM(jie({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:$ie}}),["absolute"])},"VMenu"),BS=qo()({name:"VMenu",props:R8e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"modelValue"),{scopeId:i}=Gie(),d=Wv(),f=sn(()=>t.id||`v-menu-${d}`),h=Vo(),u=ai(Vse,null),p=fs(0);pc(Vse,{register(){++p.value},unregister(){--p.value},closeParents(){setTimeout(()=>{p.value||(a.value=!1,u==null||u.closeParents())},40)}});async function v(C){var R,M,I;const w=C.relatedTarget,T=C.target;await ec(),a.value&&w!==T&&((R=h.value)!=null&&R.contentEl)&&((M=h.value)!=null&&M.globalTop)&&![document,h.value.contentEl].includes(T)&&!h.value.contentEl.contains(T)&&((I=AH(h.value.contentEl)[0])==null||I.focus())}Ho(a,C=>{C?(u==null||u.register(),document.addEventListener("focusin",v,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",v))});function y(){u==null||u.closeParents()}function b(C){var w,T,R;t.disabled||C.key==="Tab"&&(L1e(AH((w=h.value)==null?void 0:w.contentEl,!1),C.shiftKey?"prev":"next",I=>I.tabIndex>=0)||(a.value=!1,(R=(T=h.value)==null?void 0:T.activatorEl)==null||R.focus()))}function x(C){var T;if(t.disabled)return;const w=(T=h.value)==null?void 0:T.contentEl;w&&a.value?C.key==="ArrowDown"?(C.preventDefault(),PH(w,"next")):C.key==="ArrowUp"&&(C.preventDefault(),PH(w,"prev")):["ArrowDown","ArrowUp"].includes(C.key)&&(a.value=!0,C.preventDefault(),setTimeout(()=>setTimeout(()=>x(C))))}const k=sn(()=>rs({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":f.value,onKeydown:x},t.activatorProps));return Cs(()=>{const[C]=NH.filterProps(t);return lt(NH,rs({ref:h,class:["v-menu",t.class],style:t.style},C,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,absolute:!0,activatorProps:k.value,"onClick:outside":y,onKeydown:b},i),{activator:r.activator,default:function(){for(var w=arguments.length,T=new Array(w),R=0;R<w;R++)T[R]=arguments[R];return lt(Kc,{root:"VMenu"},{default:()=>{var M;return[(M=r.default)==null?void 0:M.call(r,...T)]}})}})}),WC({id:f,ΨopenChildren:p},h)}});const D8e=Vr({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...fa(),...zC({transition:{component:K1e}})},"VCounter"),zye=qo()({name:"VCounter",functional:!0,props:D8e(),setup(t,e){let{slots:r}=e;const a=sn(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return Cs(()=>lt(hS,{transition:t.transition},{default:()=>[Qu(lt("div",{class:["v-counter",t.class],style:t.style},[r.default?r.default({counter:a.value,max:t.max,value:t.value}):a.value]),[[ES,t.active]])]})),{}}});const $8e=Vr({floating:Boolean,...fa()},"VFieldLabel"),bZ=qo()({name:"VFieldLabel",props:$8e(),setup(t,e){let{slots:r}=e;return Cs(()=>lt($U,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},r)),{}}}),L8e=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],qie=Vr({appendInnerIcon:_i,bgColor:String,clearable:Boolean,clearIcon:{type:_i,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:_i,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>L8e.includes(t)},"onClick:clear":J1(),"onClick:appendInner":J1(),"onClick:prependInner":J1(),...fa(),...EU(),...$p(),...yu()},"VField"),Kie=qo()({name:"VField",inheritAttrs:!1,props:{id:String,...LU(),...qie()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{themeClasses:d}=wf(t),{loaderClasses:f}=_U(t),{focusClasses:h,isFocused:u,focus:p,blur:v}=G$(t),{InputIcon:y}=Tye(t),{roundedClasses:b}=Lp(t),{rtlClasses:x}=Dp(),k=sn(()=>t.dirty||t.active),C=sn(()=>!t.singleLine&&!!(t.label||i.label)),w=Wv(),T=sn(()=>t.id||`input-${w}`),R=sn(()=>`${T.value}-messages`),M=Vo(),I=Vo(),V=Vo(),N=sn(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:F,backgroundColorStyles:z}=_p(ns(t,"bgColor")),{textColorClasses:U,textColorStyles:Q}=Ep(sn(()=>t.error||t.disabled?void 0:k.value&&u.value?t.color:t.baseColor));Ho(k,W=>{if(C.value){const Y=M.value.$el,ie=I.value.$el;requestAnimationFrame(()=>{const L=Eie(Y),me=ie.getBoundingClientRect(),ae=me.x-L.x,q=me.y-L.y-(L.height/2-me.height/2),fe=me.width/.75,ee=Math.abs(fe-L.width)>1?{maxWidth:cs(fe)}:void 0,be=getComputedStyle(Y),Te=getComputedStyle(ie),Be=parseFloat(be.transitionDuration)*1e3||150,ge=parseFloat(Te.getPropertyValue("--v-field-label-scale")),ne=Te.getPropertyValue("color");Y.style.visibility="visible",ie.style.visibility="hidden",VP(Y,{transform:`translate(${ae}px, ${q}px) scale(${ge})`,color:ne,...ee},{duration:Be,easing:EH,direction:W?"normal":"reverse"}).finished.then(()=>{Y.style.removeProperty("visibility"),ie.style.removeProperty("visibility")})})}},{flush:"post"});const B=sn(()=>({isActive:k,isFocused:u,controlRef:V,blur:v,focus:p}));function E(W){W.target!==document.activeElement&&W.preventDefault()}return Cs(()=>{var ae,q,fe;const W=t.variant==="outlined",Y=i["prepend-inner"]||t.prependInnerIcon,ie=!!(t.clearable||i.clear),L=!!(i["append-inner"]||t.appendInnerIcon||ie),me=i.label?i.label({...B.value,label:t.label,props:{for:T.value}}):t.label;return lt("div",rs({class:["v-field",{"v-field--active":k.value,"v-field--appended":L,"v-field--center-affix":t.centerAffix??!N.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":Y,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!me,[`v-field--variant-${t.variant}`]:!0},d.value,F.value,h.value,f.value,b.value,x.value,t.class],style:[z.value,t.style],onClick:E},r),[lt("div",{class:"v-field__overlay"},null),lt(Uie,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:i.loader}),Y&&lt("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&lt(y,{key:"prepend-icon",name:"prependInner"},null),(ae=i["prepend-inner"])==null?void 0:ae.call(i,B.value)]),lt("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&C.value&&lt(bZ,{key:"floating-label",ref:I,class:[U.value],floating:!0,for:T.value,style:Q.value},{default:()=>[me]}),lt(bZ,{ref:M,for:T.value},{default:()=>[me]}),(q=i.default)==null?void 0:q.call(i,{...B.value,props:{id:T.value,class:"v-field__input","aria-describedby":R.value},focus:p,blur:v})]),ie&&lt(J1e,{key:"clear"},{default:()=>[Qu(lt("div",{class:"v-field__clearable",onMousedown:ee=>{ee.preventDefault(),ee.stopPropagation()}},[i.clear?i.clear():lt(y,{name:"clear"},null)]),[[ES,t.dirty]])]}),L&&lt("div",{key:"append",class:"v-field__append-inner"},[(fe=i["append-inner"])==null?void 0:fe.call(i,B.value),t.appendInnerIcon&&lt(y,{key:"append-icon",name:"appendInner"},null)]),lt("div",{class:["v-field__outline",U.value],style:Q.value},[W&&lt(Go,null,[lt("div",{class:"v-field__outline__start"},null),C.value&&lt("div",{class:"v-field__outline__notch"},[lt(bZ,{ref:I,floating:!0,for:T.value},{default:()=>[me]})]),lt("div",{class:"v-field__outline__end"},null)]),N.value&&C.value&&lt(bZ,{ref:I,floating:!0,for:T.value},{default:()=>[me]})])])}),{controlRef:V}}});function Zye(t){const e=Object.keys(Kie.props).filter(r=>!Aie(r)&&r!=="class"&&r!=="style");return fM(t,e)}const I8e=["color","file","time","date","datetime-local","week","month"],BU=Vr({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...j$(),...qie()},"VTextField"),Zv=qo()({name:"VTextField",directives:{Intersect:Iie},inheritAttrs:!1,props:BU(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const d=pi(t,"modelValue"),{isFocused:f,focus:h,blur:u}=G$(t),p=sn(()=>typeof t.counterValue=="function"?t.counterValue(d.value):typeof t.counterValue=="number"?t.counterValue:(d.value??"").toString().length),v=sn(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),y=sn(()=>["plain","underlined"].includes(t.variant));function b(N,F){var z,U;!t.autofocus||!N||(U=(z=F[0].target)==null?void 0:z.focus)==null||U.call(z)}const x=Vo(),k=Vo(),C=Vo(),w=sn(()=>I8e.includes(t.type)||t.persistentPlaceholder||f.value||t.active);function T(){var N;C.value!==document.activeElement&&((N=C.value)==null||N.focus()),f.value||h()}function R(N){a("mousedown:control",N),N.target!==C.value&&(T(),N.preventDefault())}function M(N){T(),a("click:control",N)}function I(N){N.stopPropagation(),T(),ec(()=>{d.value=null,$1e(t["onClick:clear"],N)})}function V(N){var z;const F=N.target;if(d.value=F.value,(z=t.modelModifiers)!=null&&z.trim&&["text","search","password","tel","url"].includes(t.type)){const U=[F.selectionStart,F.selectionEnd];ec(()=>{F.selectionStart=U[0],F.selectionEnd=U[1]})}}return Cs(()=>{const N=!!(i.counter||t.counter!==!1&&t.counter!=null),F=!!(N||i.details),[z,U]=Pie(r),[{modelValue:Q,...B}]=MS.filterProps(t),[E]=Zye(t);return lt(MS,rs({ref:x,modelValue:d.value,"onUpdate:modelValue":W=>d.value=W,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(t.variant)},t.class],style:t.style},z,B,{centerAffix:!y.value,focused:f.value}),{...i,default:W=>{let{id:Y,isDisabled:ie,isDirty:L,isReadonly:me,isValid:ae}=W;return lt(Kie,rs({ref:k,onMousedown:R,onClick:M,"onClick:clear":I,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},E,{id:Y.value,active:w.value||L.value,dirty:L.value||t.dirty,disabled:ie.value,focused:f.value,error:ae.value===!1}),{...i,default:q=>{let{props:{class:fe,...ee}}=q;const be=Qu(lt("input",rs({ref:C,value:d.value,onInput:V,autofocus:t.autofocus,readonly:me.value,disabled:ie.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:T,onBlur:u},ee,U),null),[[Hv("intersect"),{handler:b},null,{once:!0}]]);return lt(Go,null,[t.prefix&&lt("span",{class:"v-text-field__prefix"},[lt("span",{class:"v-text-field__prefix__text"},[t.prefix])]),i.default?lt("div",{class:fe,"data-no-activator":""},[i.default(),be]):pO(be,{class:fe}),t.suffix&&lt("span",{class:"v-text-field__suffix"},[lt("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:F?W=>{var Y;return lt(Go,null,[(Y=i.details)==null?void 0:Y.call(i,W),N&&lt(Go,null,[lt("span",null,null),lt(zye,{active:t.persistentCounter||f.value,value:p.value,max:v.value},i.counter)])])}:void 0})}),WC({},x,k,C)}});const N8e=Vr({renderless:Boolean,...fa()},"VVirtualScrollItem"),B8e=qo()({name:"VVirtualScrollItem",inheritAttrs:!1,props:N8e(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{resizeRef:d,contentRect:f}=PU(void 0,"border");Ho(()=>{var h;return(h=f.value)==null?void 0:h.height},h=>{h!=null&&a("update:height",h)}),Cs(()=>{var h,u;return t.renderless?lt(Go,null,[(h=i.default)==null?void 0:h.call(i,{itemRef:d})]):lt("div",rs({ref:d,class:["v-virtual-scroll__item",t.class],style:t.style},r),[(u=i.default)==null?void 0:u.call(i)])})}}),Hhe=-1,Uhe=1,Q8e=Vr({itemHeight:{type:[Number,String],default:48}},"virtual");function F8e(t,e,r){const a=fs(0),i=fs(t.itemHeight),d=sn({get:()=>parseInt(i.value??0,10),set(F){i.value=F}}),f=Vo(),{resizeRef:h,contentRect:u}=PU();am(()=>{h.value=f.value});const p=Bye(),v=new Map;let y=Array.from({length:e.value.length});const b=sn(()=>{const F=(!u.value||f.value===document.documentElement?p.height.value:u.value.height)-((r==null?void 0:r.value)??0);return Math.ceil(F/d.value*1.7+1)});function x(F,z){d.value=Math.max(d.value,z),y[F]=z,v.set(e.value[F],z)}function k(F){return y.slice(0,F).reduce((z,U)=>z+(U||d.value),0)}function C(F){const z=e.value.length;let U=0,Q=0;for(;Q<F&&U<z;)Q+=y[U++]||d.value;return U-1}let w=0;function T(){if(!f.value||!u.value)return;const F=u.value.height-56,z=f.value.scrollTop,U=z<w?Hhe:Uhe,Q=C(z+F/2),B=Math.round(b.value/3),E=Q-B,W=a.value+B*2-1;U===Hhe&&Q<=W?a.value=Ap(E,0,e.value.length):U===Uhe&&Q>=W&&(a.value=Ap(E,0,e.value.length-b.value)),w=z}function R(F){if(!f.value)return;const z=k(F);f.value.scrollTop=z}const M=sn(()=>Math.min(e.value.length,a.value+b.value)),I=sn(()=>e.value.slice(a.value,M.value).map((F,z)=>({raw:F,index:z+a.value}))),V=sn(()=>k(a.value)),N=sn(()=>k(e.value.length)-k(M.value));return Ho(()=>e.value.length,()=>{y=uM(e.value.length).map(()=>d.value),v.forEach((F,z)=>{const U=e.value.indexOf(z);U===-1?v.delete(z):y[U]=F})}),{containerRef:f,computedItems:I,itemHeight:d,paddingTop:V,paddingBottom:N,scrollToIndex:R,handleScroll:T,handleItemResize:x}}const V8e=Vr({items:{type:Array,default:()=>[]},renderless:Boolean,...Q8e(),...fa(),...FC()},"VVirtualScroll"),Jie=qo()({name:"VVirtualScroll",props:V8e(),setup(t,e){let{slots:r}=e;const a=Sf("VVirtualScroll"),{dimensionStyles:i}=VC(t),{containerRef:d,handleScroll:f,handleItemResize:h,scrollToIndex:u,paddingTop:p,paddingBottom:v,computedItems:y}=F8e(t,ns(t,"items"));return PS(()=>t.renderless,()=>{gg(()=>{var b;d.value=U1e(a.vnode.el,!0),(b=d.value)==null||b.addEventListener("scroll",f)}),om(()=>{var b;(b=d.value)==null||b.removeEventListener("scroll",f)})}),Cs(()=>{const b=y.value.map(x=>lt(B8e,{key:x.index,renderless:t.renderless,"onUpdate:height":k=>h(x.index,k)},{default:k=>{var C;return(C=r.default)==null?void 0:C.call(r,{item:x.raw,index:x.index,...k})}}));return t.renderless?lt(Go,null,[lt("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:cs(p.value)}},null),b,lt("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:cs(v.value)}},null)]):lt("div",{ref:d,class:["v-virtual-scroll",t.class],onScroll:f,style:[i.value,t.style]},[lt("div",{class:"v-virtual-scroll__container",style:{paddingTop:cs(p.value),paddingBottom:cs(v.value)}},[b])])}),{scrollToIndex:u}}});function ele(t,e){const r=fs(!1);let a;function i(h){cancelAnimationFrame(a),r.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{r.value=!1})})}async function d(){await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>{if(r.value){const u=Ho(r,()=>{u(),h()})}else h()})}async function f(h){var v,y;if(h.key==="Tab"&&((v=e.value)==null||v.focus()),!["PageDown","PageUp","Home","End"].includes(h.key))return;const u=(y=t.value)==null?void 0:y.$el;if(!u)return;(h.key==="Home"||h.key==="End")&&u.scrollTo({top:h.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await d();const p=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(h.key==="PageDown"||h.key==="Home"){const b=u.getBoundingClientRect().top;for(const x of p)if(x.getBoundingClientRect().top>=b){x.focus();break}}else{const b=u.getBoundingClientRect().bottom;for(const x of[...p].reverse())if(x.getBoundingClientRect().bottom<=b){x.focus();break}}}return{onListScroll:i,onListKeydown:f}}const tle=Vr({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:_i,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Dye({itemChildren:!1})},"Select"),z8e=Vr({...tle(),...kM(BU({modelValue:null,role:"button"}),["validationValue","dirty","appendInnerIcon"]),...zC({transition:{component:$ie}})},"VSelect"),nle=qo()({name:"VSelect",props:z8e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:r}=e;const{t:a}=LS(),i=Vo(),d=Vo(),f=Vo(),h=pi(t,"menu"),u=sn({get:()=>h.value,set:L=>{var me;h.value&&!L&&((me=d.value)!=null&&me.ΨopenChildren)||(h.value=L)}}),{items:p,transformIn:v,transformOut:y}=Yie(t),b=pi(t,"modelValue",[],L=>v(L===null?[null]:dh(L)),L=>{const me=y(L);return t.multiple?me:me[0]??null}),x=IU(),k=sn(()=>b.value.map(L=>L.value)),C=fs(!1),w=sn(()=>u.value?t.closeText:t.openText);let T="",R;const M=sn(()=>t.hideSelected?p.value.filter(L=>!b.value.some(me=>me===L)):p.value),I=sn(()=>t.hideNoData&&!p.value.length||t.readonly||(x==null?void 0:x.isReadonly.value)),V=Vo(),{onListScroll:N,onListKeydown:F}=ele(V,i);function z(L){t.openOnClear&&(u.value=!0)}function U(){I.value||(u.value=!u.value)}function Q(L){var ee,be;if(!L.key||t.readonly||x!=null&&x.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(L.key)&&L.preventDefault(),["Enter","ArrowDown"," "].includes(L.key)&&(u.value=!0),["Escape","Tab"].includes(L.key)&&(u.value=!1),L.key==="Home"?(ee=V.value)==null||ee.focus("first"):L.key==="End"&&((be=V.value)==null||be.focus("last"));const me=1e3;function ae(Te){const Be=Te.key.length===1,ge=!Te.ctrlKey&&!Te.metaKey&&!Te.altKey;return Be&&ge}if(t.multiple||!ae(L))return;const q=performance.now();q-R>me&&(T=""),T+=L.key.toLowerCase(),R=q;const fe=p.value.find(Te=>Te.title.toLowerCase().startsWith(T));fe!==void 0&&(b.value=[fe])}function B(L){if(t.multiple){const me=b.value.findIndex(ae=>t.valueComparator(ae.value,L.value));if(me===-1)b.value=[...b.value,L];else{const ae=[...b.value];ae.splice(me,1),b.value=ae}}else b.value=[L],u.value=!1}function E(L){var me;(me=V.value)!=null&&me.$el.contains(L.relatedTarget)||(u.value=!1)}function W(){var L;C.value&&((L=i.value)==null||L.focus())}function Y(L){C.value=!0}function ie(L){if(L==null)b.value=[];else if(dM(i.value,":autofill")||dM(i.value,":-webkit-autofill")){const me=p.value.find(ae=>ae.title===L);me&&B(me)}else i.value&&(i.value.value="")}return Ho(u,()=>{if(!t.hideSelected&&u.value&&b.value.length){const L=M.value.findIndex(me=>b.value.some(ae=>t.valueComparator(ae.value,me.value)));Fl&&window.requestAnimationFrame(()=>{var me;L>=0&&((me=f.value)==null||me.scrollToIndex(L))})}}),Cs(()=>{const L=!!(t.chips||r.chip),me=!!(!t.hideNoData||M.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),ae=b.value.length>0,[q]=Zv.filterProps(t),fe=ae||!C.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return lt(Zv,rs({ref:i},q,{modelValue:b.value.map(ee=>ee.props.value).join(", "),"onUpdate:modelValue":ie,focused:C.value,"onUpdate:focused":ee=>C.value=ee,validationValue:b.externalValue,counterValue:b.value.length,dirty:ae,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":b.value.length,"v-select--selection-slot":!!r.selection},t.class],style:t.style,inputmode:"none",placeholder:fe,"onClick:clear":z,"onMousedown:control":U,onBlur:E,onKeydown:Q,"aria-label":a(w.value),title:a(w.value)}),{...r,default:()=>lt(Go,null,[lt(BS,rs({ref:d,modelValue:u.value,"onUpdate:modelValue":ee=>u.value=ee,activator:"parent",contentClass:"v-select__content",disabled:I.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:W},t.menuProps),{default:()=>[me&&lt(NS,{ref:V,selected:k.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ee=>ee.preventDefault(),onKeydown:F,onFocusin:Y,onScrollPassive:N,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var ee,be,Te;return[(ee=r["prepend-item"])==null?void 0:ee.call(r),!M.value.length&&!t.hideNoData&&(((be=r["no-data"])==null?void 0:be.call(r))??lt(mg,{title:a(t.noDataText)},null)),lt(Jie,{ref:f,renderless:!0,items:M.value},{default:Be=>{var Oe;let{item:ge,index:ne,itemRef:pe}=Be;const G=rs(ge.props,{ref:pe,key:ne,onClick:()=>B(ge)});return((Oe=r.item)==null?void 0:Oe.call(r,{item:ge,index:ne,props:G}))??lt(mg,G,{prepend:xe=>{let{isSelected:Le}=xe;return lt(Go,null,[t.multiple&&!t.hideSelected?lt(MM,{key:ge.value,modelValue:Le,ripple:!1,tabindex:"-1"},null):void 0,ge.props.prependIcon&&lt(qa,{icon:ge.props.prependIcon},null)])}})}}),(Te=r["append-item"])==null?void 0:Te.call(r)]}})]}),b.value.map((ee,be)=>{var ge;function Te(ne){ne.stopPropagation(),ne.preventDefault(),B(ee)}const Be={"onClick:close":Te,onMousedown(ne){ne.preventDefault(),ne.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return lt("div",{key:ee.value,class:"v-select__selection"},[L?r.chip?lt(Kc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ee.title}}},{default:()=>{var ne;return[(ne=r.chip)==null?void 0:ne.call(r,{item:ee,index:be,props:Be})]}}):lt(eM,rs({key:"chip",closable:t.closableChips,size:"small",text:ee.title,disabled:ee.props.disabled},Be),null):((ge=r.selection)==null?void 0:ge.call(r,{item:ee,index:be}))??lt("span",{class:"v-select__selection-text"},[ee.title,t.multiple&&be<b.value.length-1&&lt("span",{class:"v-select__selection-comma"},[gi(",")])])])})]),"append-inner":function(){var Be;for(var ee=arguments.length,be=new Array(ee),Te=0;Te<ee;Te++)be[Te]=arguments[Te];return lt(Go,null,[(Be=r["append-inner"])==null?void 0:Be.call(r,...be),t.menuIcon?lt(qa,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),WC({isFocused:C,menu:u,select:B},i)}}),Z8e=(t,e,r)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),rle=Vr({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function H8e(t,e,r){var h;const a=[],i=(r==null?void 0:r.default)??Z8e,d=r!=null&&r.filterKeys?dh(r.filterKeys):!1,f=Object.keys((r==null?void 0:r.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return a;e:for(let u=0;u<t.length;u++){const[p,v=p]=dh(t[u]),y={},b={};let x=-1;if(e&&!(r!=null&&r.noFilter)){if(typeof p=="object"){const w=d||Object.keys(v);for(const T of w){const R=nm(v,T,v),M=(h=r==null?void 0:r.customKeyFilter)==null?void 0:h[T];if(x=M?M(R,e,p):i(R,e,p),x!==-1&&x!==!1)M?y[T]=x:b[T]=x;else if((r==null?void 0:r.filterMode)==="every")continue e}}else x=i(p,e,p),x!==-1&&x!==!1&&(b.title=x);const k=Object.keys(b).length,C=Object.keys(y).length;if(!k&&!C||(r==null?void 0:r.filterMode)==="union"&&C!==f&&!k||(r==null?void 0:r.filterMode)==="intersection"&&(C!==f||!k))continue}a.push({index:u,matches:{...b,...y}})}return a}function ole(t,e,r,a){const i=Vo([]),d=Vo(new Map),f=sn(()=>a!=null&&a.transform?ug(e).map(u=>[u,a.transform(u)]):ug(e));am(()=>{const u=typeof r=="function"?r():ug(r),p=typeof u!="string"&&typeof u!="number"?"":String(u),v=H8e(f.value,p,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),y=ug(e),b=[],x=new Map;v.forEach(k=>{let{index:C,matches:w}=k;const T=y[C];b.push(T),x.set(T.value,w)}),i.value=b,d.value=x});function h(u){return d.value.get(u.value)}return{filteredItems:i,filteredMatches:d,getMatches:h}}function U8e(t,e,r){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?lt(Go,null,[lt("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),lt("span",{class:"v-autocomplete__mask"},[t.substr(e,r)]),lt("span",{class:"v-autocomplete__unmask"},[t.substr(e+r)])]):t}const W8e=Vr({autoSelectFirst:{type:[Boolean,String]},search:String,...rle({filterKeys:["title"]}),...tle(),...kM(BU({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...zC({transition:!1})},"VAutocomplete"),Hye=qo()({name:"VAutocomplete",props:W8e(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:r}=e;const{t:a}=LS(),i=Vo(),d=fs(!1),f=fs(!0),h=fs(!1),u=Vo(),p=Vo(),v=pi(t,"menu"),y=sn({get:()=>v.value,set:G=>{var Oe;v.value&&!G&&((Oe=u.value)!=null&&Oe.ΨopenChildren)||(v.value=G)}}),b=fs(-1),x=sn(()=>{var G;return(G=i.value)==null?void 0:G.color}),k=sn(()=>y.value?t.closeText:t.openText),{items:C,transformIn:w,transformOut:T}=Yie(t),{textColorClasses:R,textColorStyles:M}=Ep(x),I=pi(t,"search",""),V=pi(t,"modelValue",[],G=>w(G===null?[null]:dh(G)),G=>{const Oe=T(G);return t.multiple?Oe:Oe[0]??null}),N=IU(),{filteredItems:F,getMatches:z}=ole(t,C,()=>f.value?"":I.value),U=sn(()=>t.hideSelected?F.value.filter(G=>!V.value.some(Oe=>Oe.value===G.value)):F.value),Q=sn(()=>V.value.map(G=>G.props.value)),B=sn(()=>{var Oe;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&I.value===((Oe=U.value[0])==null?void 0:Oe.title))&&U.value.length>0&&!f.value&&!h.value}),E=sn(()=>t.hideNoData&&!C.value.length||t.readonly||(N==null?void 0:N.isReadonly.value)),W=Vo(),{onListScroll:Y,onListKeydown:ie}=ele(W,i);function L(G){t.openOnClear&&(y.value=!0),I.value=""}function me(){E.value||(y.value=!0)}function ae(G){E.value||(d.value&&(G.preventDefault(),G.stopPropagation()),y.value=!y.value)}function q(G){var Le,ke,$e;if(t.readonly||N!=null&&N.isReadonly.value)return;const Oe=i.value.selectionStart,xe=V.value.length;if((b.value>-1||["Enter","ArrowDown","ArrowUp"].includes(G.key))&&G.preventDefault(),["Enter","ArrowDown"].includes(G.key)&&(y.value=!0),["Escape"].includes(G.key)&&(y.value=!1),B.value&&["Enter","Tab"].includes(G.key)&&pe(U.value[0]),G.key==="ArrowDown"&&B.value&&((Le=W.value)==null||Le.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(G.key)){if(b.value<0){G.key==="Backspace"&&!I.value&&(b.value=xe-1);return}const Ze=b.value,De=V.value[b.value];De&&!De.props.disabled&&pe(De),b.value=Ze>=xe-1?xe-2:Ze}if(G.key==="ArrowLeft"){if(b.value<0&&Oe>0)return;const Ze=b.value>-1?b.value-1:xe-1;V.value[Ze]?b.value=Ze:(b.value=-1,i.value.setSelectionRange((ke=I.value)==null?void 0:ke.length,($e=I.value)==null?void 0:$e.length))}if(G.key==="ArrowRight"){if(b.value<0)return;const Ze=b.value+1;V.value[Ze]?b.value=Ze:(b.value=-1,i.value.setSelectionRange(0,0))}}}function fe(G){I.value=G.target.value}function ee(G){if(dM(i.value,":autofill")||dM(i.value,":-webkit-autofill")){const Oe=C.value.find(xe=>xe.title===G.target.value);Oe&&pe(Oe)}}function be(){var G;d.value&&(f.value=!0,(G=i.value)==null||G.focus())}function Te(G){d.value=!0,setTimeout(()=>{h.value=!0})}function Be(G){h.value=!1}function ge(G){(G==null||G===""&&!t.multiple)&&(V.value=[])}const ne=fs(!1);function pe(G){if(t.multiple){const Oe=V.value.findIndex(xe=>t.valueComparator(xe.value,G.value));if(Oe===-1)V.value=[...V.value,G];else{const xe=[...V.value];xe.splice(Oe,1),V.value=xe}}else V.value=[G],ne.value=!0,I.value=G.title,y.value=!1,f.value=!0,ec(()=>ne.value=!1)}return Ho(d,(G,Oe)=>{var xe;G!==Oe&&(G?(ne.value=!0,I.value=t.multiple?"":String(((xe=V.value.at(-1))==null?void 0:xe.props.title)??""),f.value=!0,ec(()=>ne.value=!1)):(!t.multiple&&!I.value?V.value=[]:B.value&&!h.value&&!V.value.some(Le=>{let{value:ke}=Le;return ke===U.value[0].value})&&pe(U.value[0]),y.value=!1,I.value="",b.value=-1))}),Ho(I,G=>{!d.value||ne.value||(G&&(y.value=!0),f.value=!G)}),Ho(y,()=>{if(!t.hideSelected&&y.value&&V.value.length){const G=U.value.findIndex(Oe=>V.value.some(xe=>Oe.value===xe.value));Fl&&window.requestAnimationFrame(()=>{var Oe;G>=0&&((Oe=p.value)==null||Oe.scrollToIndex(G))})}}),Cs(()=>{const G=!!(t.chips||r.chip),Oe=!!(!t.hideNoData||U.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),xe=V.value.length>0,[Le]=Zv.filterProps(t);return lt(Zv,rs({ref:i},Le,{modelValue:I.value,"onUpdate:modelValue":ge,focused:d.value,"onUpdate:focused":ke=>d.value=ke,validationValue:V.externalValue,counterValue:V.value.length,dirty:xe,onInput:fe,onChange:ee,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":y.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!r.selection,"v-autocomplete--selecting-index":b.value>-1},t.class],style:t.style,readonly:t.readonly,placeholder:xe?void 0:t.placeholder,"onClick:clear":L,"onMousedown:control":me,onKeydown:q}),{...r,default:()=>lt(Go,null,[lt(BS,rs({ref:u,modelValue:y.value,"onUpdate:modelValue":ke=>y.value=ke,activator:"parent",contentClass:"v-autocomplete__content",disabled:E.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:be},t.menuProps),{default:()=>[Oe&&lt(NS,{ref:W,selected:Q.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ke=>ke.preventDefault(),onKeydown:ie,onFocusin:Te,onFocusout:Be,onScrollPassive:Y,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var ke,$e,Ze;return[(ke=r["prepend-item"])==null?void 0:ke.call(r),!U.value.length&&!t.hideNoData&&((($e=r["no-data"])==null?void 0:$e.call(r))??lt(mg,{title:a(t.noDataText)},null)),lt(Jie,{ref:p,renderless:!0,items:U.value},{default:De=>{var se;let{item:Ie,index:re,itemRef:ye}=De;const te=rs(Ie.props,{ref:ye,key:re,active:B.value&&re===0?!0:void 0,onClick:()=>pe(Ie)});return((se=r.item)==null?void 0:se.call(r,{item:Ie,index:re,props:te}))??lt(mg,te,{prepend:ue=>{let{isSelected:oe}=ue;return lt(Go,null,[t.multiple&&!t.hideSelected?lt(MM,{key:Ie.value,modelValue:oe,ripple:!1,tabindex:"-1"},null):void 0,Ie.props.prependIcon&&lt(qa,{icon:Ie.props.prependIcon},null)])},title:()=>{var ue,oe;return f.value?Ie.title:U8e(Ie.title,(ue=z(Ie))==null?void 0:ue.title,((oe=I.value)==null?void 0:oe.length)??0)}})}}),(Ze=r["append-item"])==null?void 0:Ze.call(r)]}})]}),V.value.map((ke,$e)=>{var Ie;function Ze(re){re.stopPropagation(),re.preventDefault(),pe(ke)}const De={"onClick:close":Ze,onMousedown(re){re.preventDefault(),re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return lt("div",{key:ke.value,class:["v-autocomplete__selection",$e===b.value&&["v-autocomplete__selection--selected",R.value]],style:$e===b.value?M.value:{}},[G?r.chip?lt(Kc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ke.title}}},{default:()=>{var re;return[(re=r.chip)==null?void 0:re.call(r,{item:ke,index:$e,props:De})]}}):lt(eM,rs({key:"chip",closable:t.closableChips,size:"small",text:ke.title,disabled:ke.props.disabled},De),null):((Ie=r.selection)==null?void 0:Ie.call(r,{item:ke,index:$e}))??lt("span",{class:"v-autocomplete__selection-text"},[ke.title,t.multiple&&$e<V.value.length-1&&lt("span",{class:"v-autocomplete__selection-comma"},[gi(",")])])])})]),"append-inner":function(){var De;for(var ke=arguments.length,$e=new Array(ke),Ze=0;Ze<ke;Ze++)$e[Ze]=arguments[Ze];return lt(Go,null,[(De=r["append-inner"])==null?void 0:De.call(r,...$e),t.menuIcon?lt(qa,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:ae,onClick:I1e,"aria-label":a(k.value),title:a(k.value)},null):void 0])}})}),WC({isFocused:d,isPristine:f,menu:y,search:I,filteredItems:F,select:pe},i)}});const Uye=qo()({name:"VCardActions",props:fa(),setup(t,e){let{slots:r}=e;return ay({VBtn:{variant:"text"}}),Cs(()=>{var a;return lt("div",{class:["v-card-actions",t.class],style:t.style},[(a=r.default)==null?void 0:a.call(r)])}),{}}}),Y8e=PM("v-card-subtitle"),Wye=PM("v-card-title"),X8e=Vr({appendAvatar:String,appendIcon:_i,prependAvatar:String,prependIcon:_i,subtitle:String,title:String,...fa(),...Yv()},"VCardItem"),G8e=qo()({name:"VCardItem",props:X8e(),setup(t,e){let{slots:r}=e;return Cs(()=>{var p;const a=!!(t.prependAvatar||t.prependIcon),i=!!(a||r.prepend),d=!!(t.appendAvatar||t.appendIcon),f=!!(d||r.append),h=!!(t.title||r.title),u=!!(t.subtitle||r.subtitle);return lt("div",{class:["v-card-item",t.class],style:t.style},[i&&lt("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?lt(Kc,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},r.prepend):a&&lt(mM,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),lt("div",{class:"v-card-item__content"},[h&&lt(Wye,{key:"title"},{default:()=>{var v;return[((v=r.title)==null?void 0:v.call(r))??t.title]}}),u&&lt(Y8e,{key:"subtitle"},{default:()=>{var v;return[((v=r.subtitle)==null?void 0:v.call(r))??t.subtitle]}}),(p=r.default)==null?void 0:p.call(r)]),f&&lt("div",{key:"append",class:"v-card-item__append"},[r.append?lt(Kc,{key:"append-defaults",disabled:!d,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},r.append):d&&lt(mM,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),j8e=PM("v-card-text"),q8e=Vr({appendAvatar:String,appendIcon:_i,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:_i,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...ZC(),...fa(),...Yv(),...FC(),...kO(),...EU(),...Zie(),...fye(),...$p(),...DU(),...Qc(),...yu(),...IS({variant:"elevated"})},"VCard"),YC=qo()({name:"VCard",directives:{Ripple:UC},props:q8e(),setup(t,e){let{attrs:r,slots:a}=e;const{themeClasses:i}=wf(t),{borderClasses:d}=HC(t),{colorClasses:f,colorStyles:h,variantClasses:u}=W$(t),{densityClasses:p}=iy(t),{dimensionStyles:v}=VC(t),{elevationClasses:y}=AO(t),{loaderClasses:b}=_U(t),{locationStyles:x}=Hie(t),{positionClasses:k}=dye(t),{roundedClasses:C}=Lp(t),w=RU(t,r),T=sn(()=>t.link!==!1&&w.isLink.value),R=sn(()=>!t.disabled&&t.link!==!1&&(t.link||w.isClickable.value));return Cs(()=>{const M=T.value?"a":t.tag,I=!!(a.title||t.title),V=!!(a.subtitle||t.subtitle),N=I||V,F=!!(a.append||t.appendAvatar||t.appendIcon),z=!!(a.prepend||t.prependAvatar||t.prependIcon),U=!!(a.image||t.image),Q=N||z||F,B=!!(a.text||t.text);return Qu(lt(M,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":R.value},i.value,d.value,f.value,p.value,y.value,b.value,k.value,C.value,u.value,t.class],style:[h.value,v.value,x.value,t.style],href:w.href.value,onClick:R.value&&w.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var E;return[U&&lt("div",{key:"image",class:"v-card__image"},[a.image?lt(Kc,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},a.image):lt(H$,{key:"image-img",cover:!0,src:t.image},null)]),lt(Uie,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:a.loader}),Q&&lt(G8e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),B&&lt(j8e,{key:"text"},{default:()=>{var W;return[((W=a.text)==null?void 0:W.call(a))??t.text]}}),(E=a.default)==null?void 0:E.call(a),a.actions&&lt(Uye,null,{default:a.actions}),U$(R.value,"v-card")]}}),[[Hv("ripple"),R.value&&t.ripple]])}),{}}});const sle=Symbol.for("vuetify:v-slider");function Zse(t,e,r){const a=r==="vertical",i=e.getBoundingClientRect(),d="touches"in t?t.touches[0]:t;return a?d.clientY-(i.top+i.height/2):d.clientX-(i.left+i.width/2)}function K8e(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const Yye=Vr({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...$p(),...kO({elevation:2})},"Slider"),Xye=t=>{const e=sn(()=>parseFloat(t.min)),r=sn(()=>parseFloat(t.max)),a=sn(()=>+t.step>0?parseFloat(t.step):0),i=sn(()=>Math.max(nhe(a.value),nhe(e.value)));function d(f){if(f=parseFloat(f),a.value<=0)return f;const h=Ap(f,e.value,r.value),u=e.value%a.value,p=Math.round((h-u)/a.value)*a.value+u;return parseFloat(Math.min(p,r.value).toFixed(i.value))}return{min:e,max:r,step:a,decimals:i,roundValue:d}},Gye=t=>{let{props:e,steps:r,onSliderStart:a,onSliderMove:i,onSliderEnd:d,getActiveThumb:f}=t;const{isRtl:h}=Dp(),u=ns(e,"reverse"),p=sn(()=>e.direction==="vertical"),v=sn(()=>p.value!==u.value),{min:y,max:b,step:x,decimals:k,roundValue:C}=r,w=sn(()=>parseInt(e.thumbSize,10)),T=sn(()=>parseInt(e.tickSize,10)),R=sn(()=>parseInt(e.trackSize,10)),M=sn(()=>(b.value-y.value)/x.value),I=ns(e,"disabled"),V=sn(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),N=sn(()=>e.error||e.disabled?void 0:e.trackColor??e.color),F=sn(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),z=fs(!1),U=fs(0),Q=Vo(),B=Vo();function E(ne){var De;const pe=e.direction==="vertical",G=pe?"top":"left",Oe=pe?"height":"width",xe=pe?"clientY":"clientX",{[G]:Le,[Oe]:ke}=(De=Q.value)==null?void 0:De.$el.getBoundingClientRect(),$e=K8e(ne,xe);let Ze=Math.min(Math.max(($e-Le-U.value)/ke,0),1)||0;return(pe?v.value:v.value!==h.value)&&(Ze=1-Ze),C(y.value+Ze*(b.value-y.value))}const W=ne=>{d({value:E(ne)}),z.value=!1,U.value=0},Y=ne=>{B.value=f(ne),B.value&&(B.value.focus(),z.value=!0,B.value.contains(ne.target)?U.value=Zse(ne,B.value,e.direction):(U.value=0,i({value:E(ne)})),a({value:E(ne)}))},ie={passive:!0,capture:!0};function L(ne){i({value:E(ne)})}function me(ne){ne.stopPropagation(),ne.preventDefault(),W(ne),window.removeEventListener("mousemove",L,ie),window.removeEventListener("mouseup",me)}function ae(ne){var pe;W(ne),window.removeEventListener("touchmove",L,ie),(pe=ne.target)==null||pe.removeEventListener("touchend",ae)}function q(ne){var pe;Y(ne),window.addEventListener("touchmove",L,ie),(pe=ne.target)==null||pe.addEventListener("touchend",ae,{passive:!1})}function fe(ne){ne.preventDefault(),Y(ne),window.addEventListener("mousemove",L,ie),window.addEventListener("mouseup",me,{passive:!1})}const ee=ne=>{const pe=(ne-y.value)/(b.value-y.value)*100;return Ap(isNaN(pe)?0:pe,0,100)},be=ns(e,"showTicks"),Te=sn(()=>be.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(ne=>({value:ne,position:ee(ne),label:ne.toString()})):Object.keys(e.ticks).map(ne=>({value:parseFloat(ne),position:ee(parseFloat(ne)),label:e.ticks[ne]})):M.value!==1/0?uM(M.value+1).map(ne=>{const pe=y.value+ne*x.value;return{value:pe,position:ee(pe)}}):[]:[]),Be=sn(()=>Te.value.some(ne=>{let{label:pe}=ne;return!!pe})),ge={activeThumbRef:B,color:ns(e,"color"),decimals:k,disabled:I,direction:ns(e,"direction"),elevation:ns(e,"elevation"),hasLabels:Be,isReversed:u,indexFromEnd:v,min:y,max:b,mousePressed:z,numTicks:M,onSliderMousedown:fe,onSliderTouchstart:q,parsedTicks:Te,parseMouseMove:E,position:ee,readonly:ns(e,"readonly"),rounded:ns(e,"rounded"),roundValue:C,showTicks:be,startOffset:U,step:x,thumbSize:w,thumbColor:V,thumbLabel:ns(e,"thumbLabel"),ticks:ns(e,"ticks"),tickSize:T,trackColor:N,trackContainerRef:Q,trackFillColor:F,trackSize:R,vertical:p};return pc(sle,ge),ge},J8e=Vr({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...fa()},"VSliderThumb"),Hse=qo()({name:"VSliderThumb",directives:{Ripple:UC},props:J8e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=ai(sle),{isRtl:d,rtlClasses:f}=Dp();if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:h,step:u,disabled:p,thumbSize:v,thumbLabel:y,direction:b,isReversed:x,vertical:k,readonly:C,elevation:w,mousePressed:T,decimals:R,indexFromEnd:M}=i,{textColorClasses:I,textColorStyles:V}=Ep(h),{pageup:N,pagedown:F,end:z,home:U,left:Q,right:B,down:E,up:W}=ZMe,Y=[N,F,z,U,Q,B,E,W],ie=sn(()=>u.value?[1,2,3]:[1,5,10]);function L(ae,q){if(!Y.includes(ae.key))return;ae.preventDefault();const fe=u.value||.1,ee=(t.max-t.min)/fe;if([Q,B,E,W].includes(ae.key)){const Te=(k.value?[d.value?Q:B,x.value?E:W]:M.value!==d.value?[Q,W]:[B,W]).includes(ae.key)?1:-1,Be=ae.shiftKey?2:ae.ctrlKey?1:0;q=q+Te*fe*ie.value[Be]}else if(ae.key===U)q=t.min;else if(ae.key===z)q=t.max;else{const be=ae.key===F?1:-1;q=q-be*fe*(ee>100?ee/10:10)}return Math.max(t.min,Math.min(t.max,q))}function me(ae){const q=L(ae,t.modelValue);q!=null&&a("update:modelValue",q)}return Cs(()=>{const ae=cs(M.value?100-t.position:t.position,"%"),{elevationClasses:q}=AO(sn(()=>p.value?void 0:w.value));return lt("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&T.value},t.class,f.value],style:[{"--v-slider-thumb-position":ae,"--v-slider-thumb-size":cs(v.value)},t.style],role:"slider",tabindex:p.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!C.value,"aria-orientation":b.value,onKeydown:C.value?void 0:me},[lt("div",{class:["v-slider-thumb__surface",I.value,q.value],style:{...V.value}},null),Qu(lt("div",{class:["v-slider-thumb__ripple",I.value],style:V.value},null),[[Hv("ripple"),t.ripple,null,{circle:!0,center:!0}]]),lt(UEe,{origin:"bottom center"},{default:()=>{var fe;return[Qu(lt("div",{class:"v-slider-thumb__label-container"},[lt("div",{class:["v-slider-thumb__label"]},[lt("div",null,[((fe=r["thumb-label"])==null?void 0:fe.call(r,{modelValue:t.modelValue}))??t.modelValue.toFixed(u.value?R.value:1)])])]),[[ES,y.value&&t.focused||y.value==="always"]])]}})])}),{}}});const e6e=Vr({start:{type:Number,required:!0},stop:{type:Number,required:!0},...fa()},"VSliderTrack"),jye=qo()({name:"VSliderTrack",props:e6e(),emits:{},setup(t,e){let{slots:r}=e;const a=ai(sle);if(!a)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,parsedTicks:d,rounded:f,showTicks:h,tickSize:u,trackColor:p,trackFillColor:v,trackSize:y,vertical:b,min:x,max:k,indexFromEnd:C}=a,{roundedClasses:w}=Lp(f),{backgroundColorClasses:T,backgroundColorStyles:R}=_p(v),{backgroundColorClasses:M,backgroundColorStyles:I}=_p(p),V=sn(()=>`inset-${b.value?"block":"inline"}-${C.value?"end":"start"}`),N=sn(()=>b.value?"height":"width"),F=sn(()=>({[V.value]:"0%",[N.value]:"100%"})),z=sn(()=>t.stop-t.start),U=sn(()=>({[V.value]:cs(t.start,"%"),[N.value]:cs(z.value,"%")})),Q=sn(()=>h.value?(b.value?d.value.slice().reverse():d.value).map((E,W)=>{var ie;const Y=E.value!==x.value&&E.value!==k.value?cs(E.position,"%"):void 0;return lt("div",{key:E.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":E.position>=t.start&&E.position<=t.stop,"v-slider-track__tick--first":E.value===x.value,"v-slider-track__tick--last":E.value===k.value}],style:{[V.value]:Y}},[(E.label||r["tick-label"])&&lt("div",{class:"v-slider-track__tick-label"},[((ie=r["tick-label"])==null?void 0:ie.call(r,{tick:E,index:W}))??E.label])])}):[]);return Cs(()=>lt("div",{class:["v-slider-track",w.value,t.class],style:[{"--v-slider-track-size":cs(y.value),"--v-slider-tick-size":cs(u.value)},t.style]},[lt("div",{class:["v-slider-track__background",M.value,{"v-slider-track__background--opacity":!!i.value||!v.value}],style:{...F.value,...I.value}},null),lt("div",{class:["v-slider-track__fill",T.value],style:{...U.value,...R.value}},null),h.value&&lt("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":h.value==="always"}]},[Q.value])])),{}}}),t6e=Vr({...LU(),...Yye(),...j$(),modelValue:{type:[Number,String],default:0}},"VSlider"),qye=qo()({name:"VSlider",props:t6e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=Vo(),{rtlClasses:d}=Dp(),f=Xye(t),h=pi(t,"modelValue",void 0,N=>f.roundValue(N??f.min.value)),{min:u,max:p,mousePressed:v,roundValue:y,onSliderMousedown:b,onSliderTouchstart:x,trackContainerRef:k,position:C,hasLabels:w,readonly:T}=Gye({props:t,steps:f,onSliderStart:()=>{a("start",h.value)},onSliderEnd:N=>{let{value:F}=N;const z=y(F);h.value=z,a("end",z)},onSliderMove:N=>{let{value:F}=N;return h.value=y(F)},getActiveThumb:()=>{var N;return(N=i.value)==null?void 0:N.$el}}),{isFocused:R,focus:M,blur:I}=G$(t),V=sn(()=>C(h.value));return Cs(()=>{const[N,F]=MS.filterProps(t),z=!!(t.label||r.label||r.prepend);return lt(MS,rs({class:["v-slider",{"v-slider--has-labels":!!r["tick-label"]||w.value,"v-slider--focused":R.value,"v-slider--pressed":v.value,"v-slider--disabled":t.disabled},d.value,t.class],style:t.style},N,{focused:R.value}),{...r,prepend:z?U=>{var Q,B;return lt(Go,null,[((Q=r.label)==null?void 0:Q.call(r,U))??(t.label?lt($U,{id:U.id.value,class:"v-slider__label",text:t.label},null):void 0),(B=r.prepend)==null?void 0:B.call(r,U)])}:void 0,default:U=>{let{id:Q,messagesId:B}=U;return lt("div",{class:"v-slider__container",onMousedown:T.value?void 0:b,onTouchstartPassive:T.value?void 0:x},[lt("input",{id:Q.value,name:t.name||Q.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:h.value},null),lt(jye,{ref:k,start:0,stop:V.value},{"tick-label":r["tick-label"]}),lt(Hse,{ref:i,"aria-describedby":B.value,focused:R.value,min:u.value,max:p.value,modelValue:h.value,"onUpdate:modelValue":E=>h.value=E,position:V.value,elevation:t.elevation,onFocus:M,onBlur:I},{"thumb-label":r["thumb-label"]})])}})}),{}}});function n6e(t,e,r){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?lt(Go,null,[lt("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),lt("span",{class:"v-combobox__mask"},[t.substr(e,r)]),lt("span",{class:"v-combobox__unmask"},[t.substr(e+r)])]):t}const r6e=Vr({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...rle({filterKeys:["title"]}),...tle({hideNoData:!0,returnObject:!0}),...kM(BU({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...zC({transition:!1})},"VCombobox"),Kye=qo()({name:"VCombobox",props:r6e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var G;let{emit:r,slots:a}=e;const{t:i}=LS(),d=Vo(),f=fs(!1),h=fs(!0),u=fs(!1),p=Vo(),v=Vo(),y=pi(t,"menu"),b=sn({get:()=>y.value,set:Oe=>{var xe;y.value&&!Oe&&((xe=p.value)!=null&&xe.ΨopenChildren)||(y.value=Oe)}}),x=fs(-1);let k=!1;const C=sn(()=>{var Oe;return(Oe=d.value)==null?void 0:Oe.color}),w=sn(()=>b.value?t.closeText:t.openText),{items:T,transformIn:R,transformOut:M}=Yie(t),{textColorClasses:I,textColorStyles:V}=Ep(C),N=pi(t,"modelValue",[],Oe=>R(dh(Oe)),Oe=>{const xe=M(Oe);return t.multiple?xe:xe[0]??null}),F=IU(),z=fs(t.multiple?"":((G=N.value[0])==null?void 0:G.title)??""),U=sn({get:()=>z.value,set:Oe=>{var xe;if(z.value=Oe,t.multiple||(N.value=[AC(t,Oe)]),Oe&&t.multiple&&((xe=t.delimiters)!=null&&xe.length)){const Le=Oe.split(new RegExp(`(?:${t.delimiters.join("|")})+`));Le.length>1&&(Le.forEach(ke=>{ke=ke.trim(),ke&&Be(AC(t,ke))}),z.value="")}Oe||(x.value=-1),h.value=!Oe}});Ho(z,Oe=>{k?ec(()=>k=!1):f.value&&!b.value&&(b.value=!0),r("update:search",Oe)}),Ho(N,Oe=>{var xe;t.multiple||(z.value=((xe=Oe[0])==null?void 0:xe.title)??"")});const{filteredItems:Q,getMatches:B}=ole(t,T,()=>h.value?"":U.value),E=sn(()=>t.hideSelected?Q.value.filter(Oe=>!N.value.some(xe=>xe.value===Oe.value)):Q.value),W=sn(()=>N.value.map(Oe=>Oe.value)),Y=sn(()=>{var xe;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&U.value===((xe=E.value[0])==null?void 0:xe.title))&&E.value.length>0&&!h.value&&!u.value}),ie=sn(()=>t.hideNoData&&!T.value.length||t.readonly||(F==null?void 0:F.isReadonly.value)),L=Vo(),{onListScroll:me,onListKeydown:ae}=ele(L,d);function q(Oe){k=!0,t.openOnClear&&(b.value=!0)}function fe(){ie.value||(b.value=!0)}function ee(Oe){ie.value||(f.value&&(Oe.preventDefault(),Oe.stopPropagation()),b.value=!b.value)}function be(Oe){var ke;if(t.readonly||F!=null&&F.isReadonly.value)return;const xe=d.value.selectionStart,Le=N.value.length;if((x.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Oe.key))&&Oe.preventDefault(),["Enter","ArrowDown"].includes(Oe.key)&&(b.value=!0),["Escape"].includes(Oe.key)&&(b.value=!1),["Enter","Escape","Tab"].includes(Oe.key)&&(Y.value&&["Enter","Tab"].includes(Oe.key)&&Be(Q.value[0]),h.value=!0),Oe.key==="ArrowDown"&&Y.value&&((ke=L.value)==null||ke.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(Oe.key)){if(x.value<0){Oe.key==="Backspace"&&!U.value&&(x.value=Le-1);return}const $e=x.value,Ze=N.value[x.value];Ze&&!Ze.props.disabled&&Be(Ze),x.value=$e>=Le-1?Le-2:$e}if(Oe.key==="ArrowLeft"){if(x.value<0&&xe>0)return;const $e=x.value>-1?x.value-1:Le-1;N.value[$e]?x.value=$e:(x.value=-1,d.value.setSelectionRange(U.value.length,U.value.length))}if(Oe.key==="ArrowRight"){if(x.value<0)return;const $e=x.value+1;N.value[$e]?x.value=$e:(x.value=-1,d.value.setSelectionRange(0,0))}Oe.key==="Enter"&&U.value&&(Be(AC(t,U.value)),U.value="")}}function Te(){var Oe;f.value&&(h.value=!0,(Oe=d.value)==null||Oe.focus())}function Be(Oe){if(t.multiple){const xe=N.value.findIndex(Le=>t.valueComparator(Le.value,Oe.value));if(xe===-1)N.value=[...N.value,Oe];else{const Le=[...N.value];Le.splice(xe,1),N.value=Le}U.value=""}else N.value=[Oe],z.value=Oe.title,ec(()=>{b.value=!1,h.value=!0})}function ge(Oe){f.value=!0,setTimeout(()=>{u.value=!0})}function ne(Oe){u.value=!1}function pe(Oe){(Oe==null||Oe===""&&!t.multiple)&&(N.value=[])}return Ho(Q,Oe=>{!Oe.length&&t.hideNoData&&(b.value=!1)}),Ho(f,(Oe,xe)=>{Oe||Oe===xe||(x.value=-1,b.value=!1,Y.value&&!u.value&&!N.value.some(Le=>{let{value:ke}=Le;return ke===E.value[0].value})?Be(E.value[0]):t.multiple&&U.value&&(N.value=[...N.value,AC(t,U.value)],U.value=""))}),Ho(b,()=>{if(!t.hideSelected&&b.value&&N.value.length){const Oe=E.value.findIndex(xe=>N.value.some(Le=>t.valueComparator(Le.value,xe.value)));Fl&&window.requestAnimationFrame(()=>{var xe;Oe>=0&&((xe=v.value)==null||xe.scrollToIndex(Oe))})}}),Cs(()=>{const Oe=!!(t.chips||a.chip),xe=!!(!t.hideNoData||E.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),Le=N.value.length>0,[ke]=Zv.filterProps(t);return lt(Zv,rs({ref:d},ke,{modelValue:U.value,"onUpdate:modelValue":[$e=>U.value=$e,pe],focused:f.value,"onUpdate:focused":$e=>f.value=$e,validationValue:N.externalValue,counterValue:t.multiple?N.value.length:U.value.length,dirty:Le,class:["v-combobox",{"v-combobox--active-menu":b.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!a.selection,"v-combobox--selecting-index":x.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:t.readonly,placeholder:Le?void 0:t.placeholder,"onClick:clear":q,"onMousedown:control":fe,onKeydown:be}),{...a,default:()=>lt(Go,null,[lt(BS,rs({ref:p,modelValue:b.value,"onUpdate:modelValue":$e=>b.value=$e,activator:"parent",contentClass:"v-combobox__content",disabled:ie.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:Te},t.menuProps),{default:()=>[xe&&lt(NS,{ref:L,selected:W.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:$e=>$e.preventDefault(),onKeydown:ae,onFocusin:ge,onFocusout:ne,onScrollPassive:me,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var $e,Ze,De;return[($e=a["prepend-item"])==null?void 0:$e.call(a),!E.value.length&&!t.hideNoData&&(((Ze=a["no-data"])==null?void 0:Ze.call(a))??lt(mg,{title:i(t.noDataText)},null)),lt(Jie,{ref:v,renderless:!0,items:E.value},{default:Ie=>{var ue;let{item:re,index:ye,itemRef:te}=Ie;const se=rs(re.props,{ref:te,key:ye,active:Y.value&&ye===0?!0:void 0,onClick:()=>Be(re)});return((ue=a.item)==null?void 0:ue.call(a,{item:re,index:ye,props:se}))??lt(mg,se,{prepend:oe=>{let{isSelected:Se}=oe;return lt(Go,null,[t.multiple&&!t.hideSelected?lt(MM,{key:re.value,modelValue:Se,ripple:!1,tabindex:"-1"},null):void 0,re.props.prependIcon&&lt(qa,{icon:re.props.prependIcon},null)])},title:()=>{var oe,Se;return h.value?re.title:n6e(re.title,(oe=B(re))==null?void 0:oe.title,((Se=U.value)==null?void 0:Se.length)??0)}})}}),(De=a["append-item"])==null?void 0:De.call(a)]}})]}),N.value.map(($e,Ze)=>{var re;function De(ye){ye.stopPropagation(),ye.preventDefault(),Be($e)}const Ie={"onClick:close":De,onMousedown(ye){ye.preventDefault(),ye.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return lt("div",{key:$e.value,class:["v-combobox__selection",Ze===x.value&&["v-combobox__selection--selected",I.value]],style:Ze===x.value?V.value:{}},[Oe?a.chip?lt(Kc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:$e.title}}},{default:()=>{var ye;return[(ye=a.chip)==null?void 0:ye.call(a,{item:$e,index:Ze,props:Ie})]}}):lt(eM,rs({key:"chip",closable:t.closableChips,size:"small",text:$e.title,disabled:$e.props.disabled},Ie),null):((re=a.selection)==null?void 0:re.call(a,{item:$e,index:Ze}))??lt("span",{class:"v-combobox__selection-text"},[$e.title,t.multiple&&Ze<N.value.length-1&&lt("span",{class:"v-combobox__selection-comma"},[gi(",")])])])})]),"append-inner":function(){var Ie;for(var $e=arguments.length,Ze=new Array($e),De=0;De<$e;De++)Ze[De]=arguments[De];return lt(Go,null,[(Ie=a["append-inner"])==null?void 0:Ie.call(a,...Ze),(!t.hideNoData||t.items.length)&&t.menuIcon?lt(qa,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:ee,onClick:I1e,"aria-label":i(w.value),title:i(w.value)},null):void 0])}})}),WC({isFocused:f,isPristine:h,menu:b,search:U,selectionIndex:x,filteredItems:Q,select:Be},d)}});const o6e=Vr({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...jie({origin:"center center",scrollStrategy:"block",transition:{component:$ie},zIndex:2400})},"VDialog"),s6e=qo()({name:"VDialog",props:o6e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"modelValue"),{scopeId:i}=Gie(),d=Vo();function f(u){var y,b;const p=u.relatedTarget,v=u.target;if(p!==v&&((y=d.value)!=null&&y.contentEl)&&((b=d.value)!=null&&b.globalTop)&&![document,d.value.contentEl].includes(v)&&!d.value.contentEl.contains(v)){const x=AH(d.value.contentEl);if(!x.length)return;const k=x[0],C=x[x.length-1];p===k?C.focus():k.focus()}}Fl&&Ho(()=>a.value&&t.retainFocus,u=>{u?document.addEventListener("focusin",f):document.removeEventListener("focusin",f)},{immediate:!0}),Ho(a,async u=>{var p,v;await ec(),u?(p=d.value.contentEl)==null||p.focus({preventScroll:!0}):(v=d.value.activatorEl)==null||v.focus({preventScroll:!0})});const h=sn(()=>rs({"aria-haspopup":"dialog","aria-expanded":String(a.value)},t.activatorProps));return Cs(()=>{const[u]=NH.filterProps(t);return lt(NH,rs({ref:d,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},u,{modelValue:a.value,"onUpdate:modelValue":p=>a.value=p,"aria-modal":"true",activatorProps:h.value,role:"dialog"},i),{activator:r.activator,default:function(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];return lt(Kc,{root:"VDialog"},{default:()=>{var b;return[(b=r.default)==null?void 0:b.call(r,...v)]}})}})}),WC({},d)}});const S$=Symbol.for("vuetify:v-expansion-panel"),a6e=["default","accordion","inset","popout"],i6e=Vr({color:String,variant:{type:String,default:"default",validator:t=>a6e.includes(t)},readonly:Boolean,...fa(),...Qie(),...Qc(),...yu()},"VExpansionPanels"),Jye=qo()({name:"VExpansionPanels",props:i6e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;zie(t,S$);const{themeClasses:a}=wf(t),i=sn(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return ay({VExpansionPanel:{color:ns(t,"color")},VExpansionPanelTitle:{readonly:ns(t,"readonly")}}),Cs(()=>lt(t.tag,{class:["v-expansion-panels",a.value,i.value,t.class],style:t.style},r)),{}}}),l6e=Vr({...fa(),...Xie()},"VExpansionPanelText"),ale=qo()({name:"VExpansionPanelText",props:l6e(),setup(t,e){let{slots:r}=e;const a=ai(S$);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:d}=Qye(t,a.isSelected);return Cs(()=>lt(Lie,{onAfterLeave:d},{default:()=>{var f;return[Qu(lt("div",{class:["v-expansion-panel-text",t.class],style:t.style},[r.default&&i.value&&lt("div",{class:"v-expansion-panel-text__wrapper"},[(f=r.default)==null?void 0:f.call(r)])]),[[ES,a.isSelected.value]])]}})),{}}}),ebe=Vr({color:String,expandIcon:{type:_i,default:"$expand"},collapseIcon:{type:_i,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...fa()},"VExpansionPanelTitle"),ile=qo()({name:"VExpansionPanelTitle",directives:{Ripple:UC},props:ebe(),setup(t,e){let{slots:r}=e;const a=ai(S$);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:d}=_p(t,"color"),f=sn(()=>({collapseIcon:t.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly}));return Cs(()=>{var h;return Qu(lt("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value},i.value,t.class],style:[d.value,t.style],type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:t.readonly?void 0:a.toggle},[lt("span",{class:"v-expansion-panel-title__overlay"},null),(h=r.default)==null?void 0:h.call(r,f.value),!t.hideActions&&lt("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(f.value):lt(qa,{icon:a.isSelected.value?t.collapseIcon:t.expandIcon},null)])]),[[Hv("ripple"),t.ripple]])}),{}}}),c6e=Vr({title:String,text:String,bgColor:String,...fa(),...kO(),...Fie(),...Xie(),...$p(),...Qc(),...ebe()},"VExpansionPanel"),tbe=qo()({name:"VExpansionPanel",props:c6e(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:r}=e;const a=Vie(t,S$),{backgroundColorClasses:i,backgroundColorStyles:d}=_p(t,"bgColor"),{elevationClasses:f}=AO(t),{roundedClasses:h}=Lp(t),u=sn(()=>(a==null?void 0:a.disabled.value)||t.disabled),p=sn(()=>a.group.items.value.reduce((b,x,k)=>(a.group.selected.value.includes(x.id)&&b.push(k),b),[])),v=sn(()=>{const b=a.group.items.value.findIndex(x=>x.id===a.id);return!a.isSelected.value&&p.value.some(x=>x-b===1)}),y=sn(()=>{const b=a.group.items.value.findIndex(x=>x.id===a.id);return!a.isSelected.value&&p.value.some(x=>x-b===-1)});return pc(S$,a),ay({VExpansionPanelText:{eager:ns(t,"eager")}}),Cs(()=>{const b=!!(r.text||t.text),x=!!(r.title||t.title);return lt(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":y.value,"v-expansion-panel--disabled":u.value},h.value,i.value,t.class],style:[d.value,t.style]},{default:()=>{var k;return[lt("div",{class:["v-expansion-panel__shadow",...f.value]},null),x&&lt(ile,{key:"title",collapseIcon:t.collapseIcon,color:t.color,expandIcon:t.expandIcon,hideActions:t.hideActions,ripple:t.ripple},{default:()=>[r.title?r.title():t.title]}),b&&lt(ale,{key:"text"},{default:()=>[r.text?r.text():t.text]}),(k=r.default)==null?void 0:k.call(r)]}})}),{}}});const u6e=Vr({fluid:{type:Boolean,default:!1},...fa(),...Qc()},"VContainer"),w$=qo()({name:"VContainer",props:u6e(),setup(t,e){let{slots:r}=e;const{rtlClasses:a}=Dp();return Cs(()=>lt(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},a.value,t.class],style:t.style},r)),{}}}),nbe=(()=>NU.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),rbe=(()=>NU.reduce((t,e)=>{const r="offset"+SO(e);return t[r]={type:[String,Number],default:null},t},{}))(),obe=(()=>NU.reduce((t,e)=>{const r="order"+SO(e);return t[r]={type:[String,Number],default:null},t},{}))(),Whe={col:Object.keys(nbe),offset:Object.keys(rbe),order:Object.keys(obe)};function f6e(t,e,r){let a=t;if(!(r==null||r===!1)){if(e){const i=e.replace(t,"");a+=`-${i}`}return t==="col"&&(a="v-"+a),t==="col"&&(r===""||r===!0)||(a+=`-${r}`),a.toLowerCase()}}const d6e=["auto","start","end","center","baseline","stretch"],h6e=Vr({cols:{type:[Boolean,String,Number],default:!1},...nbe,offset:{type:[String,Number],default:null},...rbe,order:{type:[String,Number],default:null},...obe,alignSelf:{type:String,default:null,validator:t=>d6e.includes(t)},...fa(),...Qc()},"VCol"),Nv=qo()({name:"VCol",props:h6e(),setup(t,e){let{slots:r}=e;const a=sn(()=>{const i=[];let d;for(d in Whe)Whe[d].forEach(h=>{const u=t[h],p=f6e(d,h,u);p&&i.push(p)});const f=i.some(h=>h.startsWith("v-col-"));return i.push({"v-col":!f||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),i});return()=>{var i;return hg(t.tag,{class:[a.value,t.class],style:t.style},(i=r.default)==null?void 0:i.call(r))}}}),lle=["start","end","center"],sbe=["space-between","space-around","space-evenly"];function cle(t,e){return NU.reduce((r,a)=>{const i=t+SO(a);return r[i]=e(),r},{})}const m6e=[...lle,"baseline","stretch"],abe=t=>m6e.includes(t),ibe=cle("align",()=>({type:String,default:null,validator:abe})),g6e=[...lle,...sbe],lbe=t=>g6e.includes(t),cbe=cle("justify",()=>({type:String,default:null,validator:lbe})),p6e=[...lle,...sbe,"stretch"],ube=t=>p6e.includes(t),fbe=cle("alignContent",()=>({type:String,default:null,validator:ube})),Yhe={align:Object.keys(ibe),justify:Object.keys(cbe),alignContent:Object.keys(fbe)},v6e={align:"align",justify:"justify",alignContent:"align-content"};function y6e(t,e,r){let a=v6e[t];if(r!=null){if(e){const i=e.replace(t,"");a+=`-${i}`}return a+=`-${r}`,a.toLowerCase()}}const b6e=Vr({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:abe},...ibe,justify:{type:String,default:null,validator:lbe},...cbe,alignContent:{type:String,default:null,validator:ube},...fbe,...fa(),...Qc()},"VRow"),cg=qo()({name:"VRow",props:b6e(),setup(t,e){let{slots:r}=e;const a=sn(()=>{const i=[];let d;for(d in Yhe)Yhe[d].forEach(f=>{const h=t[f],u=y6e(d,f,h);u&&i.push(u)});return i.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),i});return()=>{var i;return hg(t.tag,{class:["v-row",a.value,t.class],style:t.style},(i=r.default)==null?void 0:i.call(r))}}}),dbe=PM("v-spacer","div","VSpacer");const O6e=Vr({scrollable:Boolean,...fa(),...Qc({tag:"main"})},"VMain"),x6e=qo()({name:"VMain",props:O6e(),setup(t,e){let{slots:r}=e;const{mainStyles:a}=AEe(),{ssrBootStyles:i}=Bie();return Cs(()=>lt(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[a.value,i.value,t.style]},{default:()=>{var d,f;return[t.scrollable?lt("div",{class:"v-main__scroller"},[(d=r.default)==null?void 0:d.call(r)]):(f=r.default)==null?void 0:f.call(r)]}})),{}}}),S6e=Vr({...LU(),...j$(),...Yye(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),hbe=qo()({name:"VRangeSlider",props:S6e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=Vo(),d=Vo(),f=Vo(),{rtlClasses:h}=Dp();function u(U){if(!i.value||!d.value)return;const Q=Zse(U,i.value.$el,t.direction),B=Zse(U,d.value.$el,t.direction),E=Math.abs(Q),W=Math.abs(B);return E<W||E===W&&Q<0?i.value.$el:d.value.$el}const p=Xye(t),v=pi(t,"modelValue",void 0,U=>U!=null&&U.length?U.map(Q=>p.roundValue(Q)):[0,0]),{activeThumbRef:y,hasLabels:b,max:x,min:k,mousePressed:C,onSliderMousedown:w,onSliderTouchstart:T,position:R,trackContainerRef:M}=Gye({props:t,steps:p,onSliderStart:()=>{a("start",v.value)},onSliderEnd:U=>{var E;let{value:Q}=U;const B=y.value===((E=i.value)==null?void 0:E.$el)?[Q,v.value[1]]:[v.value[0],Q];!t.strict&&B[0]<B[1]&&(v.value=B),a("end",v.value)},onSliderMove:U=>{var W,Y,ie,L;let{value:Q}=U;const[B,E]=v.value;!t.strict&&B===E&&B!==k.value&&(y.value=Q>B?(W=d.value)==null?void 0:W.$el:(Y=i.value)==null?void 0:Y.$el,(ie=y.value)==null||ie.focus()),y.value===((L=i.value)==null?void 0:L.$el)?v.value=[Math.min(Q,E),E]:v.value=[B,Math.max(B,Q)]},getActiveThumb:u}),{isFocused:I,focus:V,blur:N}=G$(t),F=sn(()=>R(v.value[0])),z=sn(()=>R(v.value[1]));return Cs(()=>{const[U,Q]=MS.filterProps(t),B=!!(t.label||r.label||r.prepend);return lt(MS,rs({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!r["tick-label"]||b.value,"v-slider--focused":I.value,"v-slider--pressed":C.value,"v-slider--disabled":t.disabled},h.value,t.class],style:t.style,ref:f},U,{focused:I.value}),{...r,prepend:B?E=>{var W,Y;return lt(Go,null,[((W=r.label)==null?void 0:W.call(r,E))??(t.label?lt($U,{class:"v-slider__label",text:t.label},null):void 0),(Y=r.prepend)==null?void 0:Y.call(r,E)])}:void 0,default:E=>{var ie,L;let{id:W,messagesId:Y}=E;return lt("div",{class:"v-slider__container",onMousedown:w,onTouchstartPassive:T},[lt("input",{id:`${W.value}_start`,name:t.name||W.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:v.value[0]},null),lt("input",{id:`${W.value}_stop`,name:t.name||W.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:v.value[1]},null),lt(jye,{ref:M,start:F.value,stop:z.value},{"tick-label":r["tick-label"]}),lt(Hse,{ref:i,"aria-describedby":Y.value,focused:I&&y.value===((ie=i.value)==null?void 0:ie.$el),modelValue:v.value[0],"onUpdate:modelValue":me=>v.value=[me,v.value[1]],onFocus:me=>{var ae,q,fe,ee;V(),y.value=(ae=i.value)==null?void 0:ae.$el,v.value[0]===v.value[1]&&v.value[1]===k.value&&me.relatedTarget!==((q=d.value)==null?void 0:q.$el)&&((fe=i.value)==null||fe.$el.blur(),(ee=d.value)==null||ee.$el.focus())},onBlur:()=>{N(),y.value=void 0},min:k.value,max:v.value[1],position:F.value},{"thumb-label":r["thumb-label"]}),lt(Hse,{ref:d,"aria-describedby":Y.value,focused:I&&y.value===((L=d.value)==null?void 0:L.$el),modelValue:v.value[1],"onUpdate:modelValue":me=>v.value=[v.value[0],me],onFocus:me=>{var ae,q,fe,ee;V(),y.value=(ae=d.value)==null?void 0:ae.$el,v.value[0]===v.value[1]&&v.value[0]===x.value&&me.relatedTarget!==((q=i.value)==null?void 0:q.$el)&&((fe=d.value)==null||fe.$el.blur(),(ee=i.value)==null||ee.$el.focus())},onBlur:()=>{N(),y.value=void 0},min:v.value[0],max:x.value,position:z.value},{"thumb-label":r["thumb-label"]})])}})}),{}}});const mbe=Vr({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...fa(),...Yv(),...Qc(),...yu()},"VTable"),Xhe=qo()({name:"VTable",props:mbe(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=wf(t),{densityClasses:i}=iy(t);return Cs(()=>lt(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":t.hover},a.value,i.value,t.class],style:t.style},{default:()=>{var d,f,h;return[(d=r.top)==null?void 0:d.call(r),r.default?lt("div",{class:"v-table__wrapper",style:{height:cs(t.height)}},[lt("table",null,[r.default()])]):(f=r.wrapper)==null?void 0:f.call(r),(h=r.bottom)==null?void 0:h.call(r)]}})),{}}});const w6e=Vr({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...j$(),...qie()},"VTextarea"),gbe=qo()({name:"VTextarea",directives:{Intersect:Iie},inheritAttrs:!1,props:w6e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const d=pi(t,"modelValue"),{isFocused:f,focus:h,blur:u}=G$(t),p=sn(()=>typeof t.counterValue=="function"?t.counterValue(d.value):(d.value||"").toString().length),v=sn(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function y(B,E){var W,Y;!t.autofocus||!B||(Y=(W=E[0].target)==null?void 0:W.focus)==null||Y.call(W)}const b=Vo(),x=Vo(),k=fs(""),C=Vo(),w=sn(()=>t.persistentPlaceholder||f.value||t.active);function T(){var B;C.value!==document.activeElement&&((B=C.value)==null||B.focus()),f.value||h()}function R(B){T(),a("click:control",B)}function M(B){a("mousedown:control",B)}function I(B){B.stopPropagation(),T(),ec(()=>{d.value="",$1e(t["onClick:clear"],B)})}function V(B){var W;const E=B.target;if(d.value=E.value,(W=t.modelModifiers)!=null&&W.trim){const Y=[E.selectionStart,E.selectionEnd];ec(()=>{E.selectionStart=Y[0],E.selectionEnd=Y[1]})}}const N=Vo(),F=Vo(+t.rows),z=sn(()=>["plain","underlined"].includes(t.variant));am(()=>{t.autoGrow||(F.value=+t.rows)});function U(){t.autoGrow&&ec(()=>{if(!N.value||!x.value)return;const B=getComputedStyle(N.value),E=getComputedStyle(x.value.$el),W=parseFloat(B.getPropertyValue("--v-field-padding-top"))+parseFloat(B.getPropertyValue("--v-input-padding-top"))+parseFloat(B.getPropertyValue("--v-field-padding-bottom")),Y=N.value.scrollHeight,ie=parseFloat(B.lineHeight),L=Math.max(parseFloat(t.rows)*ie+W,parseFloat(E.getPropertyValue("--v-input-control-height"))),me=parseFloat(t.maxRows)*ie+W||1/0,ae=Ap(Y??0,L,me);F.value=Math.floor((ae-W)/ie),k.value=cs(ae)})}gg(U),Ho(d,U),Ho(()=>t.rows,U),Ho(()=>t.maxRows,U),Ho(()=>t.density,U);let Q;return Ho(N,B=>{B?(Q=new ResizeObserver(U),Q.observe(N.value)):Q==null||Q.disconnect()}),im(()=>{Q==null||Q.disconnect()}),Cs(()=>{const B=!!(i.counter||t.counter||t.counterValue),E=!!(B||i.details),[W,Y]=Pie(r),[{modelValue:ie,...L}]=MS.filterProps(t),[me]=Zye(t);return lt(MS,rs({ref:b,modelValue:d.value,"onUpdate:modelValue":ae=>d.value=ae,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--plain-underlined":z.value},t.class],style:t.style},W,L,{centerAffix:F.value===1&&!z.value,focused:f.value}),{...i,default:ae=>{let{isDisabled:q,isDirty:fe,isReadonly:ee,isValid:be}=ae;return lt(Kie,rs({ref:x,style:{"--v-textarea-control-height":k.value},onClick:R,onMousedown:M,"onClick:clear":I,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},me,{active:w.value||fe.value,centerAffix:F.value===1&&!z.value,dirty:fe.value||t.dirty,disabled:q.value,focused:f.value,error:be.value===!1}),{...i,default:Te=>{let{props:{class:Be,...ge}}=Te;return lt(Go,null,[t.prefix&&lt("span",{class:"v-text-field__prefix"},[t.prefix]),Qu(lt("textarea",rs({ref:C,class:Be,value:d.value,onInput:V,autofocus:t.autofocus,readonly:ee.value,disabled:q.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:T,onBlur:u},ge,Y),null),[[Hv("intersect"),{handler:y},null,{once:!0}]]),t.autoGrow&&Qu(lt("textarea",{class:[Be,"v-textarea__sizer"],id:`${ge.id}-sizer`,"onUpdate:modelValue":ne=>d.value=ne,ref:N,readonly:!0,"aria-hidden":"true"},null),[[cTe,d.value]]),t.suffix&&lt("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:E?ae=>{var q;return lt(Go,null,[(q=i.details)==null?void 0:q.call(i,ae),B&&lt(Go,null,[lt("span",null,null),lt(zye,{active:t.persistentCounter||f.value,value:p.value,max:v.value},i.counter)])])}:void 0})}),WC({},b,x,C)}});const T6e=Vr({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),pbe=Symbol.for("vuetify:data-table-pagination");function C6e(t){const e=pi(t,"page",void 0,a=>+(a??1)),r=pi(t,"itemsPerPage",void 0,a=>+(a??10));return{page:e,itemsPerPage:r}}function k6e(t){const{page:e,itemsPerPage:r,itemsLength:a}=t,i=sn(()=>r.value===-1?0:r.value*(e.value-1)),d=sn(()=>r.value===-1?a.value:Math.min(a.value,i.value+r.value)),f=sn(()=>r.value===-1||a.value===0?1:Math.ceil(a.value/r.value));am(()=>{e.value>f.value&&(e.value=f.value)});function h(b){r.value=b,e.value=1}function u(){e.value=Ap(e.value+1,1,f.value)}function p(){e.value=Ap(e.value-1,1,f.value)}function v(b){e.value=Ap(b,1,f.value)}const y={page:e,itemsPerPage:r,startIndex:i,stopIndex:d,pageCount:f,itemsLength:a,nextPage:u,prevPage:p,setPage:v,setItemsPerPage:h};return pc(pbe,y),y}function A6e(){const t=ai(pbe);if(!t)throw new Error("Missing pagination!");return t}function P6e(t){const{items:e,startIndex:r,stopIndex:a,itemsPerPage:i}=t;return{paginatedItems:sn(()=>i.value<=0?e.value:e.value.slice(r.value,a.value))}}const vbe=Vr({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ghe=qo()({name:"VDataTableFooter",props:vbe(),setup(t,e){let{slots:r}=e;const{t:a}=LS(),{page:i,pageCount:d,startIndex:f,stopIndex:h,itemsLength:u,itemsPerPage:p,setItemsPerPage:v}=A6e(),y=sn(()=>t.itemsPerPageOptions.map(b=>({...b,title:a(b.title)})));return()=>{var b;return lt("div",{class:"v-data-table-footer"},[(b=r.prepend)==null?void 0:b.call(r),lt("div",{class:"v-data-table-footer__items-per-page"},[lt("span",null,[a(t.itemsPerPageText)]),lt(nle,{items:y.value,modelValue:p.value,"onUpdate:modelValue":x=>v(Number(x)),density:"compact",variant:"outlined","hide-details":!0},null)]),lt("div",{class:"v-data-table-footer__info"},[lt("div",null,[a(t.pageText,u.value?f.value+1:0,h.value,u.value)])]),lt("div",{class:"v-data-table-footer__pagination"},[lt(Nc,{icon:t.firstIcon,variant:"plain",onClick:()=>i.value=1,disabled:i.value===1,"aria-label":a(t.firstPageLabel)},null),lt(Nc,{icon:t.prevIcon,variant:"plain",onClick:()=>i.value=Math.max(1,i.value-1),disabled:i.value===1,"aria-label":a(t.prevPageLabel)},null),t.showCurrentPage&&lt("span",{key:"page",class:"v-data-table-footer__page"},[i.value]),lt(Nc,{icon:t.nextIcon,variant:"plain",onClick:()=>i.value=Math.min(d.value,i.value+1),disabled:i.value===d.value,"aria-label":a(t.nextPageLabel)},null),lt(Nc,{icon:t.lastIcon,variant:"plain",onClick:()=>i.value=d.value,disabled:i.value===d.value,"aria-label":a(t.lastPageLabel)},null)])])}}}),ule=bEe({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(t,e)=>{let{slots:r,attrs:a}=e;const i=t.tag??"td";return lt(i,rs({class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding},`v-data-table-column--align-${t.align}`],style:{height:cs(t.height),width:cs(t.width),left:cs(t.fixedOffset||null)}},a),{default:()=>{var d;return[(d=r.default)==null?void 0:d.call(r)]}})}),M6e=Vr({headers:{type:Array,default:()=>[]}},"DataTable-header"),ybe=Symbol.for("vuetify:data-table-headers");function E6e(t,e){const r=Vo([]),a=Vo([]);am(()=>{var x,k,C;const d=t.headers.length?Array.isArray(t.headers[0])?t.headers:[t.headers]:[],f=d.flatMap((w,T)=>w.map(R=>({column:R,row:T}))),h=d.length,u={title:"",sortable:!1},p={...u,width:48};if((x=e==null?void 0:e.groupBy)!=null&&x.value.length){const w=f.findIndex(T=>{let{column:R}=T;return R.key==="data-table-group"});w<0?f.unshift({column:{...u,key:"data-table-group",title:"Group",rowspan:h},row:0}):f.splice(w,1,{column:{...u,...f[w].column},row:f[w].row})}if((k=e==null?void 0:e.showSelect)!=null&&k.value){const w=f.findIndex(T=>{let{column:R}=T;return R.key==="data-table-select"});w<0?f.unshift({column:{...p,key:"data-table-select",rowspan:h},row:0}):f.splice(w,1,{column:{...p,...f[w].column},row:f[w].row})}if((C=e==null?void 0:e.showExpand)!=null&&C.value){const w=f.findIndex(T=>{let{column:R}=T;return R.key==="data-table-expand"});w<0?f.push({column:{...p,key:"data-table-expand",rowspan:h},row:0}):f.splice(w,1,{column:{...p,...f[w].column},row:f[w].row})}const v=uM(h).map(()=>[]),y=uM(h).fill(0);f.forEach(w=>{let{column:T,row:R}=w;const M=T.key??(typeof T.value=="string"?T.value:null),I=T.value??T.key??null;for(let V=R;V<=R+(T.rowspan??1)-1;V++)v[V].push({...T,key:M,value:I,fixedOffset:y[V],sortable:T.sortable??M!=null}),y[V]+=Number(T.width??0)}),v.forEach(w=>{for(let T=w.length;T--;T>=0)if(w[T].fixed){w[T].lastFixed=!0;return}});const b=new Set;r.value=v.map(w=>{const T=[];for(const R of w)b.has(R.key)||(b.add(R.key),T.push(R));return T}),a.value=v.at(-1)??[]});const i={headers:r,columns:a};return pc(ybe,i),i}function QU(){const t=ai(ybe);if(!t)throw new Error("Missing headers!");return t}const _6e={showSelectAll:!1,allSelected:()=>[],select:t=>{var a;let{items:e,value:r}=t;return new Set(r?[(a=e[0])==null?void 0:a.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},bbe={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:r,selected:a}=t;for(const i of e)r?a.add(i.value):a.delete(i.value);return a},selectAll:t=>{let{value:e,currentPage:r,selected:a}=t;return bbe.select({items:r,value:e,selected:a})}},Obe={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:r,selected:a}=t;for(const i of e)r?a.add(i.value):a.delete(i.value);return a},selectAll:t=>{let{value:e,allItems:r,selected:a}=t;return Obe.select({items:r,value:e,selected:a})}},R6e=Vr({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:QC}},"DataTable-select"),xbe=Symbol.for("vuetify:data-table-selection");function D6e(t,e){let{allItems:r,currentPage:a}=e;const i=pi(t,"modelValue",t.modelValue,w=>new Set(dh(w).map(T=>{var R;return((R=r.value.find(M=>t.valueComparator(T,M.value)))==null?void 0:R.value)??T})),w=>[...w.values()]),d=sn(()=>r.value.filter(w=>w.selectable)),f=sn(()=>a.value.filter(w=>w.selectable)),h=sn(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return _6e;case"all":return Obe;case"page":default:return bbe}});function u(w){return dh(w).every(T=>i.value.has(T.value))}function p(w){return dh(w).some(T=>i.value.has(T.value))}function v(w,T){const R=h.value.select({items:w,value:T,selected:new Set(i.value)});i.value=R}function y(w){v([w],!u([w]))}function b(w){const T=h.value.selectAll({value:w,allItems:d.value,currentPage:f.value,selected:new Set(i.value)});i.value=T}const x=sn(()=>i.value.size>0),k=sn(()=>{const w=h.value.allSelected({allItems:d.value,currentPage:f.value});return!!w.length&&u(w)}),C={toggleSelect:y,select:v,selectAll:b,isSelected:u,isSomeSelected:p,someSelected:x,allSelected:k,showSelectAll:h.value.showSelectAll};return pc(xbe,C),C}function FU(){const t=ai(xbe);if(!t)throw new Error("Missing selection!");return t}const $6e=Vr({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Sbe=Symbol.for("vuetify:data-table-sort");function L6e(t){const e=pi(t,"sortBy"),r=ns(t,"mustSort"),a=ns(t,"multiSort");return{sortBy:e,mustSort:r,multiSort:a}}function I6e(t){const{sortBy:e,mustSort:r,multiSort:a,page:i}=t,d=u=>{if(u.key==null)return;let p=e.value.map(y=>({...y}))??[];const v=p.find(y=>y.key===u.key);v?v.order==="desc"?r.value?v.order="asc":p=p.filter(y=>y.key!==u.key):v.order="desc":a.value?p=[...p,{key:u.key,order:"asc"}]:p=[{key:u.key,order:"asc"}],e.value=p,i&&(i.value=1)};function f(u){return!!e.value.find(p=>p.key===u.key)}const h={sortBy:e,toggleSort:d,isSorted:f};return pc(Sbe,h),h}function N6e(){const t=ai(Sbe);if(!t)throw new Error("Missing sort!");return t}function B6e(t,e,r){const a=LS();return{sortedItems:sn(()=>r.value.length?Q6e(e.value,r.value,a.current.value,t.customKeySort):e.value)}}function Q6e(t,e,r,a){const i=new Intl.Collator(r,{sensitivity:"accent",usage:"sort"});return[...t].sort((d,f)=>{for(let h=0;h<e.length;h++){const u=e[h].key,p=e[h].order??"asc";if(p===!1)continue;let v=IC(d.raw,u),y=IC(f.raw,u);if(p==="desc"&&([v,y]=[y,v]),a!=null&&a[u]){const b=a[u](v,y);if(!b)continue;return b}if(v instanceof Date&&y instanceof Date)return v.getTime()-y.getTime();if([v,y]=[v,y].map(b=>b!=null?b.toString().toLocaleLowerCase():b),v!==y)return gZ(v)&&gZ(y)?0:gZ(v)?-1:gZ(y)?1:!isNaN(v)&&!isNaN(y)?Number(v)-Number(y):i.compare(v,y)}return 0})}const wbe=Vr({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:_i,default:"$sortAsc"},sortDescIcon:{type:_i,default:"$sortDesc"},...EU()},"VDataTableHeaders"),jhe=qo()({name:"VDataTableHeaders",props:wbe(),setup(t,e){let{slots:r,emit:a}=e;const{toggleSort:i,sortBy:d,isSorted:f}=N6e(),{someSelected:h,allSelected:u,selectAll:p,showSelectAll:v}=FU(),{columns:y,headers:b}=QU(),{loaderClasses:x}=_U(t),k=(I,V)=>{if(!(!t.sticky&&!I.fixed))return{position:"sticky",zIndex:I.fixed?4:t.sticky?3:void 0,left:I.fixed?cs(I.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${V})`:void 0}};function C(I){const V=d.value.find(N=>N.key===I.key);return V?V.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:w,backgroundColorStyles:T}=_p(t,"color"),R=sn(()=>({headers:b.value,columns:y.value,toggleSort:i,isSorted:f,sortBy:d.value,someSelected:h.value,allSelected:u.value,selectAll:p,getSortIcon:C,getFixedStyles:k})),M=I=>{let{column:V,x:N,y:F}=I;const z=V.key==="data-table-select"||V.key==="data-table-expand";return lt(ule,{tag:"th",align:V.align,class:["v-data-table__th",{"v-data-table__th--sortable":V.sortable,"v-data-table__th--sorted":f(V)},x.value],style:{width:cs(V.width),minWidth:cs(V.width),...k(V,F)},colspan:V.colspan,rowspan:V.rowspan,onClick:V.sortable?()=>i(V):void 0,lastFixed:V.lastFixed,noPadding:z},{default:()=>{var B;const U=`column.${V.key}`,Q={column:V,selectAll:p,isSorted:f,toggleSort:i,sortBy:d.value,someSelected:h.value,allSelected:u.value,getSortIcon:C};return r[U]?r[U](Q):V.key==="data-table-select"?((B=r["column.data-table-select"])==null?void 0:B.call(r,Q))??(v&&lt(MM,{modelValue:u.value,indeterminate:h.value&&!u.value,"onUpdate:modelValue":p},null)):lt("div",{class:"v-data-table-header__content"},[lt("span",null,[V.title]),V.sortable&&lt(qa,{key:"icon",class:"v-data-table-header__sort-icon",icon:C(V)},null),t.multiSort&&f(V)&&lt("div",{key:"badge",class:["v-data-table-header__sort-badge",...w.value],style:T.value},[d.value.findIndex(E=>E.key===V.key)+1])])}})};Cs(()=>lt(Go,null,[r.headers?r.headers(R.value):b.value.map((I,V)=>lt("tr",null,[I.map((N,F)=>lt(M,{column:N,x:F,y:V},null))])),t.loading&&lt("tr",{class:"v-data-table-progress"},[lt("th",{colspan:y.value.length},[lt(Uie,{name:"v-data-table-progress",active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:r.loader})])])]))}}),F6e=Vr({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Tbe=Symbol.for("vuetify:data-table-group");function V6e(t){return{groupBy:pi(t,"groupBy")}}function z6e(t){const{groupBy:e,sortBy:r}=t,a=Vo(new Set),i=sn(()=>e.value.map(p=>({...p,order:p.order??!1})).concat(r.value));function d(p){return a.value.has(p.id)}function f(p){const v=new Set(a.value);d(p)?v.delete(p.id):v.add(p.id),a.value=v}function h(p){function v(y){const b=[];for(const x of y.items)"type"in x&&x.type==="group"?b.push(...v(x)):b.push(x);return b}return v({type:"group",items:p,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:i,toggleGroup:f,opened:a,groupBy:e,extractRows:h,isGroupOpen:d};return pc(Tbe,u),u}function Cbe(){const t=ai(Tbe);if(!t)throw new Error("Missing group!");return t}function Z6e(t,e){if(!t.length)return[];const r=new Map;for(const a of t){const i=IC(a.raw,e);r.has(i)||r.set(i,[]),r.get(i).push(a)}return r}function kbe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const i=Z6e(t,e[0]),d=[],f=e.slice(1);return i.forEach((h,u)=>{const p=e[0],v=`${a}_${p}_${u}`;d.push({depth:r,id:v,key:p,value:u,items:f.length?kbe(h,f,r+1,v):h,type:"group"})}),d}function Abe(t,e){const r=[];for(const a of t)"type"in a&&a.type==="group"?(a.value!=null&&r.push(a),(e.has(a.id)||a.value==null)&&r.push(...Abe(a.items,e))):r.push(a);return r}function H6e(t,e,r){return{flatItems:sn(()=>{if(!e.value.length)return t.value;const i=kbe(t.value,e.value.map(d=>d.key));return Abe(i,r.value)})}}const U6e=Vr({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),W6e=qo()({name:"VDataTableGroupHeaderRow",props:U6e(),setup(t,e){let{slots:r}=e;const{isGroupOpen:a,toggleGroup:i,extractRows:d}=Cbe(),{isSelected:f,isSomeSelected:h,select:u}=FU(),{columns:p}=QU(),v=sn(()=>d([t.item]));return()=>lt("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[p.value.map(y=>{var b,x;if(y.key==="data-table-group"){const k=a(t.item)?"$expand":"$next",C=()=>i(t.item);return((b=r["data-table-group"])==null?void 0:b.call(r,{item:t.item,count:v.value.length,props:{icon:k,onClick:C}}))??lt(ule,{class:"v-data-table-group-header-row__column"},{default:()=>[lt(Nc,{size:"small",variant:"text",icon:k,onClick:C},null),lt("span",null,[t.item.value]),lt("span",null,[gi("("),v.value.length,gi(")")])]})}if(y.key==="data-table-select"){const k=f(v.value),C=h(v.value)&&!k,w=T=>u(v.value,T);return((x=r["data-table-select"])==null?void 0:x.call(r,{props:{modelValue:k,indeterminate:C,"onUpdate:modelValue":w}}))??lt("td",null,[lt(MM,{modelValue:k,indeterminate:C,"onUpdate:modelValue":w},null)])}return lt("td",null,null)})])}}),Y6e=Vr({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Pbe=Symbol.for("vuetify:datatable:expanded");function X6e(t){const e=ns(t,"expandOnClick"),r=pi(t,"expanded",t.expanded,h=>new Set(h),h=>[...h.values()]);function a(h,u){const p=new Set(r.value);u?p.add(h.value):p.delete(h.value),r.value=p}function i(h){return r.value.has(h.value)}function d(h){a(h,!i(h))}const f={expand:a,expanded:r,expandOnClick:e,isExpanded:i,toggleExpand:d};return pc(Pbe,f),f}function Mbe(){const t=ai(Pbe);if(!t)throw new Error("foo");return t}const G6e=Vr({index:Number,item:Object,onClick:Function},"VDataTableRow"),j6e=qo()({name:"VDataTableRow",props:G6e(),setup(t,e){let{slots:r}=e;const{isSelected:a,toggleSelect:i}=FU(),{isExpanded:d,toggleExpand:f}=Mbe(),{columns:h}=QU();Cs(()=>lt("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!t.onClick}],onClick:t.onClick},[t.item&&h.value.map((u,p)=>lt(ule,{align:u.align,fixed:u.fixed,fixedOffset:u.fixedOffset,lastFixed:u.lastFixed,noPadding:u.key==="data-table-select"||u.key==="data-table-expand",width:u.width},{default:()=>{var x,k;const v=t.item,y=`item.${u.key}`,b={index:t.index,item:v.raw,internalItem:v,value:IC(v.columns,u.key),column:u,isSelected:a,toggleSelect:i,isExpanded:d,toggleExpand:f};return r[y]?r[y](b):u.key==="data-table-select"?((x=r["item.data-table-select"])==null?void 0:x.call(r,b))??lt(MM,{disabled:!v.selectable,modelValue:a([v]),onClick:Yue(()=>i(v),["stop"])},null):u.key==="data-table-expand"?((k=r["item.data-table-expand"])==null?void 0:k.call(r,b))??lt(Nc,{icon:d(v)?"$collapse":"$expand",size:"small",variant:"text",onClick:Yue(()=>f(v),["stop"])},null):yp(b.value)}}))]))}}),Ebe=Vr({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),qhe=qo()({name:"VDataTableRows",props:Ebe(),setup(t,e){let{emit:r,slots:a}=e;const{columns:i}=QU(),{expandOnClick:d,toggleExpand:f,isExpanded:h}=Mbe(),{isSelected:u,toggleSelect:p}=FU(),{toggleGroup:v,isGroupOpen:y}=Cbe(),{t:b}=LS();return Cs(()=>{var x,k;return t.loading?lt("tr",{class:"v-data-table-rows-loading",key:"loading"},[lt("td",{colspan:i.value.length},[((x=a.loading)==null?void 0:x.call(a))??b(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?lt("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[lt("td",{colspan:i.value.length},[((k=a["no-data"])==null?void 0:k.call(a))??b(t.noDataText)])]):lt(Go,null,[t.items.map((C,w)=>{var M;if(C.type==="group")return a["group-header"]?a["group-header"]({index:w,item:C,columns:i.value,isExpanded:h,toggleExpand:f,isSelected:u,toggleSelect:p,toggleGroup:v,isGroupOpen:y}):lt(W6e,{key:`group-header_${C.id}`,item:C},a);const T={index:w,item:C.raw,internalItem:C,columns:i.value,isExpanded:h,toggleExpand:f,isSelected:u,toggleSelect:p},R={...T,props:{key:`item_${C.key??C.index}`,onClick:d.value||t["onClick:row"]?I=>{var V;d.value&&f(C),(V=t["onClick:row"])==null||V.call(t,I,{item:C.raw,internalItem:C})}:void 0,index:w,item:C}};return lt(Go,null,[a.item?a.item(R):lt(j6e,R.props,a),h(C)&&((M=a["expanded-row"])==null?void 0:M.call(a,T))])})])}),{}}}),q6e=Vr({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function K6e(t,e,r,a){const i=t.returnObject?e:nm(e,t.itemValue),d=nm(e,t.itemSelectable,!0),f=a.reduce((h,u)=>(u.key!=null&&(h[u.key]=nm(e,u.value)),h),{});return{type:"item",key:t.returnObject?nm(e,t.itemValue):i,index:r,value:i,selectable:d,columns:f,raw:e}}function J6e(t,e,r){return e.map((a,i)=>K6e(t,a,i,r))}function e7e(t,e){return{items:sn(()=>J6e(t,t.items,e.value))}}function t7e(t){let{page:e,itemsPerPage:r,sortBy:a,groupBy:i,search:d}=t;const f=Sf("VDataTable"),h=sn(()=>({page:e.value,itemsPerPage:r.value,sortBy:a.value,groupBy:i.value,search:d.value}));Ho(()=>d==null?void 0:d.value,()=>{e.value=1});let u=null;Ho(h,()=>{QC(u,h.value)||(f.emit("update:options",h.value),u=h.value)},{deep:!0,immediate:!0})}const n7e=Vr({...Ebe(),width:[String,Number],search:String,...Y6e(),...F6e(),...M6e(),...q6e(),...R6e(),...$6e(),...wbe(),...mbe()},"DataTable"),r7e=Vr({...T6e(),...n7e(),...rle(),...vbe()},"VDataTable"),fle=qo()({name:"VDataTable",props:r7e(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{emit:r,slots:a}=e;const{groupBy:i}=V6e(t),{sortBy:d,multiSort:f,mustSort:h}=L6e(t),{page:u,itemsPerPage:p}=C6e(t),{columns:v,headers:y}=E6e(t,{groupBy:i,showSelect:ns(t,"showSelect"),showExpand:ns(t,"showExpand")}),{items:b}=e7e(t,v),x=ns(t,"search"),{filteredItems:k}=ole(t,b,x,{transform:Te=>Te.columns}),{toggleSort:C}=I6e({sortBy:d,multiSort:f,mustSort:h,page:u}),{sortByWithGroups:w,opened:T,extractRows:R,isGroupOpen:M,toggleGroup:I}=z6e({groupBy:i,sortBy:d}),{sortedItems:V}=B6e(t,k,w),{flatItems:N}=H6e(V,i,T),F=sn(()=>N.value.length),{startIndex:z,stopIndex:U,pageCount:Q,setItemsPerPage:B}=k6e({page:u,itemsPerPage:p,itemsLength:F}),{paginatedItems:E}=P6e({items:N,startIndex:z,stopIndex:U,itemsPerPage:p}),W=sn(()=>R(E.value)),{isSelected:Y,select:ie,selectAll:L,toggleSelect:me,someSelected:ae,allSelected:q}=D6e(t,{allItems:b,currentPage:W}),{isExpanded:fe,toggleExpand:ee}=X6e(t);t7e({page:u,itemsPerPage:p,sortBy:d,groupBy:i,search:x}),ay({VDataTableRows:{hideNoData:ns(t,"hideNoData"),noDataText:ns(t,"noDataText"),loading:ns(t,"loading"),loadingText:ns(t,"loadingText")}});const be=sn(()=>({page:u.value,itemsPerPage:p.value,sortBy:d.value,pageCount:Q.value,toggleSort:C,setItemsPerPage:B,someSelected:ae.value,allSelected:q.value,isSelected:Y,select:ie,selectAll:L,toggleSelect:me,isExpanded:fe,toggleExpand:ee,isGroupOpen:M,toggleGroup:I,items:W.value,groupedItems:E.value,columns:v.value,headers:y.value}));return Cs(()=>{const[Te]=Ghe.filterProps(t),[Be]=jhe.filterProps(t),[ge]=qhe.filterProps(t),[ne]=Xhe.filterProps(t);return lt(Xhe,rs({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},ne),{top:()=>{var pe;return(pe=a.top)==null?void 0:pe.call(a,be.value)},default:()=>{var pe,G,Oe,xe;return a.default?a.default(be.value):lt(Go,null,[(pe=a.colgroup)==null?void 0:pe.call(a,be.value),lt("thead",null,[lt(jhe,Be,a)]),(G=a.thead)==null?void 0:G.call(a,be.value),lt("tbody",null,[a.body?a.body(be.value):lt(qhe,rs(ge,{items:E.value}),a)]),(Oe=a.tbody)==null?void 0:Oe.call(a,be.value),(xe=a.tfoot)==null?void 0:xe.call(a,be.value)])},bottom:()=>a.bottom?a.bottom(be.value):lt(Go,null,[lt(Ghe,Te,{prepend:a["footer.prepend"]})])})}),{}}}),o7e=R$({props:{text:{type:String,required:!0},type:{type:String,required:!0},color:{type:String}}});function s7e(t,e,r,a,i,d){return so(),La("div",{class:rU(t.type),style:nU({color:t.color})},yp(t.text),7)}const _be=ny(o7e,[["render",s7e]]),a7e={emits:["runCode"],components:{"v-slider":qye,"v-text-field":Zv,"v-number-field":Zv,"v-textarea":gbe,"v-range-slider":hbe,"v-select":nle,"v-combobox":Kye,"v-btn":Nc,"v-img":H$,"v-data-table":fle,"v-autocomplete":Hye,"v-card":YC,"v-text":_be,"plotly-plot":wpe},props:{rowData:{type:Object},columnData:{type:Object},components:{type:Object,required:!0}},methods:{findComponentById(t){const e=this.components.find(r=>r.id===t);return e?[e]:[]},cardComponents(t){const e=[];for(const r in t.cardChildren)e.push.apply(e,this.findComponentById(t.cardChildren[r]));return e},runCode(t,e,r){this.$emit("runCode",t,e,r)},componentWidth(t){return t.width?t.width:!1},componentBind(t){if(t.component&&t.component==="v-autocomplete"){const{value:e,...r}=t;return r}return t},clickedButton(t){t.component==="v-btn"&&(t.value=!0)}}},i7e={key:0},l7e={key:1},c7e={key:1},u7e={key:0},f7e={key:1};function d7e(t,e,r,a,i,d){const f=q1("plotly-plot"),h=q1("layout-component",!0);return so(),La(Go,null,[r.rowData?(so(),Ts(cg,{key:0},{default:Yr(()=>[(so(!0),La(Go,null,Hf(r.rowData.components,(u,p)=>(so(),Ts(Nv,{key:p,cols:d.componentWidth(u)},{default:Yr(()=>[typeof u=="string"?(so(),La("div",i7e,[(so(!0),La(Go,null,Hf(d.findComponentById(u),v=>(so(),La("div",null,[v.component==="plotly-plot"?(so(),Ts(f,{key:0,id:v.id,figure:v.figure,layout:v.layout},null,8,["id","figure","layout"])):v.component==="v-card"?(so(),Ts(sg(v.component),rs({key:1},d.componentBind(v),{position:"relative",onRunCode:d.runCode}),{default:Yr(()=>[(so(!0),La(Go,null,Hf(d.cardComponents(v),y=>(so(),La("div",null,[y.component==="plotly-plot"?(so(),Ts(f,{key:0,id:y.id,figure:y.figure,layout:y.layout},null,8,["id","figure","layout"])):(so(),Ts(sg(y.component),rs({key:1},d.componentBind(y),{modelValue:y.value,"onUpdate:modelValue":b=>y.value=b,onClick:b=>d.clickedButton(y)},{[H1(y.triggerEvent)]:b=>d.runCode(!0,y.id,y.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040,["onRunCode"])):(so(),Ts(sg(v.component),rs({key:2},d.componentBind(v),{modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,onClick:y=>d.clickedButton(v)},{[H1(v.triggerEvent)]:y=>d.runCode(!0,v.id,v.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))])):(so(),La("div",l7e,[lt(h,{"column-data":u,components:r.components,onRunCode:d.runCode},null,8,["column-data","components","onRunCode"])]))]),_:2},1032,["cols"]))),128))]),_:1})):Nu("",!0),r.columnData?(so(),La("div",c7e,[(so(!0),La(Go,null,Hf(r.columnData.components,(u,p)=>(so(),La("div",{key:p},[typeof u=="string"?(so(),La("div",u7e,[(so(!0),La(Go,null,Hf(d.findComponentById(u),v=>(so(),La("div",null,[v.component==="plotly-plot"?(so(),Ts(f,{key:0,id:v.id,figure:v.figure,layout:v.layout},null,8,["id","figure","layout"])):v.component==="v-card"?(so(),Ts(sg(v.component),rs({key:1},d.componentBind(v),{position:"relative"}),{default:Yr(()=>[(so(!0),La(Go,null,Hf(d.cardComponents(v),y=>(so(),La("div",null,[y.component==="plotly-plot"?(so(),Ts(f,{key:0,id:y.id,figure:y.figure,layout:y.layout},null,8,["id","figure","layout"])):(so(),Ts(sg(y.component),rs({key:1},d.componentBind(y),{modelValue:y.value,"onUpdate:modelValue":b=>y.value=b,onClick:b=>d.clickedButton(y)},{[H1(y.triggerEvent)]:b=>d.runCode(!0,y.id,y.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040)):(so(),Ts(sg(v.component),rs({key:2},d.componentBind(v),{modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,onClick:y=>d.clickedButton(v)},{[H1(v.triggerEvent)]:y=>d.runCode(!0,v.id,v.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))])):(so(),La("div",f7e,[lt(h,{"row-data":u,components:r.components,onRunCode:d.runCode},null,8,["row-data","components","onRunCode"])]))]))),128))])):Nu("",!0)],64)}const h7e=ny(a7e,[["render",d7e]]),m7e={components:{codemirror:CU,"v-slider":qye,"v-text-field":Zv,"v-number-field":Zv,"v-textarea":gbe,"v-range-slider":hbe,"v-select":nle,"v-combobox":Kye,"v-btn":Nc,"v-img":H$,"v-data-table":fle,"v-autocomplete":Hye,"v-card":YC,"v-text":_be,"plotly-plot":wpe,"layout-component":h7e},props:{cellData:{type:Object,required:!0},completions:{type:Object,required:!0}},data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},setup(){const t=fs(null);return{view:t,handleReady:r=>{t.value=r.view}}},computed:{extensions(){const t=()=>{this.runCode(!1,"","")},e=_S.of([{key:"Ctrl-Enter",run:()=>(t(),!0)}]),r=async a=>{const i=a.matchBefore(/\w*/);return{from:i?i.from:a.pos,options:this.completions.map(f=>({label:f.label,type:f.type,apply:(h,u,p,v)=>{const y=u.label;h.dispatch({changes:{from:p,to:v??a.pos,insert:y}})}}))}};return this.$devMode?[Mp.highest(e),Gde(),cM,LC({override:[r]})]:[Ia.readOnly.of(!0),Mp.highest(e),Gde(),cM,LC({override:[r]})]},columns(){var t;return((t=this.cellData.layout)==null?void 0:t.columns)||[]},unplacedComponents(){var a,i;const t=d=>{let f=[];for(const h of d)for(const u of(h==null?void 0:h.components)??[])typeof u=="string"?f.push(u):u&&u.components&&(f=f.concat(t([u])));return f},e=d=>{let f=[];for(const h of d)h.component==="v-card"&&f.push.apply(f,Object.values(h.cardChildren));return f},r=t(((a=this.cellData.layout)==null?void 0:a.rows)??[]).concat(t(((i=this.cellData.layout)==null?void 0:i.columns)??[])).concat(e(this.cellData.components));return this.cellData.components.filter(d=>!r.includes(d.id))}},methods:{runCode(t,e,r){!this.$devMode&&t?this.$emit("componentChange",this.cellData.id,e,r):this.$emit("runCode",this.cellData.id,e)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},componentBind(t){if(t.component&&t.component==="v-autocomplete"){const{value:e,...r}=t;return this.convertUnderscoresToHyphens(r)}return this.convertUnderscoresToHyphens(t)},convertUnderscoresToHyphens(t){return Object.entries(t).reduce((e,[r,a])=>{const i=r.replace(/_/g,"-");return e[i]=a,e},{})},clickedButton(t){t.component==="v-btn"&&(t.value=!0)},findComponentById(t){return this.cellData.components.find(r=>r.id===t)},cardComponents(t){const e=[];for(const r in t.cardChildren)e.push(this.findComponentById(t.cardChildren[r]));return e},createCell(t){this.$emit("createCell",this.cellData.id,t)},saveCell(){var a,i,d,f;if(!this.$devMode||!((a=this.view)!=null&&a.hasFocus))return;const t=(i=this.view)==null?void 0:i.state.selection.main.head,e=(d=this.view)==null?void 0:d.state.doc.lineAt(t).number,r=t-((f=this.view)==null?void 0:f.state.doc.line(e).from);this.$emit("saveCell",this.cellData.id,this.cellData.code,e,r)}}};const g7e=kd("span",{class:"py-0 px-2"},".py",-1),p7e={key:3},v7e=kd("p",{class:"text-caption text-disabled text-right"}," CTRL+Enter to run",-1),y7e=[v7e],b7e=["id"];function O7e(t,e,r,a,i,d){const f=q1("codemirror"),h=q1("layout-component"),u=q1("plotly-plot");return so(),La(Go,null,[lt(YC,{flat:"",color:"bluegrey",id:"codeCard"+r.cellData.id},{default:Yr(()=>[t.$devMode?(so(),Ts(cg,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:Yr(()=>[lt(Nv,{cols:11},{default:Yr(()=>[g7e]),_:1}),lt(Nv,{cols:1,class:"d-flex justify-end align-center py-0"},{default:Yr(()=>[lt(qa,{small:"",class:"mx-1",color:"primary",onClick:e[0]||(e[0]=p=>d.runCode(!1,"","")),id:"runCode"+r.cellData.id},{default:Yr(()=>[gi(" mdi-play ")]),_:1},8,["id"]),lt(qa,{small:"",class:"mx-1",color:"error",onClick:d.deleteCell,id:"deleteCell"+r.cellData.id},{default:Yr(()=>[gi(" mdi-delete ")]),_:1},8,["onClick","id"])]),_:1})]),_:1})):Nu("",!0),t.$devMode?(so(),Ts(f,{key:1,modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=p=>r.cellData.code=p),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions,onReady:a.handleReady,onKeyup:d.saveCell,code:r.cellData.code,id:"codeMirrorDev"+r.cellData.id},null,8,["modelValue","extensions","onReady","onKeyup","code","id"])):(so(),Ts(Jye,{key:2},{default:Yr(()=>[lt(tbe,null,{default:Yr(()=>[lt(ile,{color:"bluegrey2"},{default:Yr(()=>[gi(" View Source Code ")]),_:1}),lt(ale,null,{default:Yr(()=>[lt(f,{modelValue:r.cellData.code,"onUpdate:modelValue":e[2]||(e[2]=p=>r.cellData.code=p),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions,id:"codeMirrorApp"+r.cellData.id},null,8,["modelValue","extensions","id"])]),_:1})]),_:1})]),_:1})),t.$devMode?(so(),La("div",p7e,y7e)):Nu("",!0),lt(w$,{id:"outputContainer_"+r.cellData.id},{default:Yr(()=>{var p;return[(so(!0),La(Go,null,Hf((p=r.cellData.layout)==null?void 0:p.rows,(v,y)=>(so(),Ts(h,{key:y,"row-data":v,components:r.cellData.components,onRunCode:d.runCode},null,8,["row-data","components","onRunCode"]))),128)),lt(cg,null,{default:Yr(()=>[(so(!0),La(Go,null,Hf(d.columns,(v,y)=>(so(),Ts(Nv,{cols:v.width},{default:Yr(()=>[(so(),Ts(h,{key:y,"column-data":v,components:r.cellData.components,onRunCode:d.runCode},null,8,["column-data","components","onRunCode"]))]),_:2},1032,["cols"]))),256))]),_:1}),lt(cg,{id:"unplacedComponents"+r.cellData.id},{default:Yr(()=>[(so(!0),La(Go,null,Hf(d.unplacedComponents,v=>(so(),Ts(w$,{class:"pa-1",key:v.id},{default:Yr(()=>[v.component==="plotly-plot"?(so(),Ts(u,{key:0,id:v.id,figure:v.figure,layout:v.layout},null,8,["id","figure","layout"])):v.component==="v-card"?(so(),Ts(sg(v.component),rs({key:1},d.componentBind(v),{position:"relative",onRunCode:d.runCode}),{default:Yr(()=>[(so(!0),La(Go,null,Hf(d.cardComponents(v),y=>(so(),La("div",null,[y.component==="plotly-plot"?(so(),Ts(u,{key:0,id:v.id,figure:y.figure,layout:y.layout},null,8,["id","figure","layout"])):(so(),Ts(sg(y.component),rs({key:1},d.componentBind(y),{modelValue:y.value,"onUpdate:modelValue":b=>y.value=b,onClick:b=>d.clickedButton(y)},{[H1(y.triggerEvent)]:b=>d.runCode(!0,y.id,y.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040,["onRunCode"])):(so(),Ts(sg(v.component),rs({key:2},d.componentBind(v),{modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,onClick:y=>d.clickedButton(v)},{[H1(v.triggerEvent)]:y=>d.runCode(!0,v.id,v.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]),_:2},1024))),128))]),_:1},8,["id"]),lt(cg,null,{default:Yr(()=>[lt(Nv,null,{default:Yr(()=>[kd("pre",{class:"text-p",id:"cellOutput"+r.cellData.id},yp(r.cellData.output),9,b7e)]),_:1})]),_:1})]}),_:1},8,["id"])]),_:1},8,["id"]),t.$devMode?(so(),Ts(BS,{key:0,transition:"scale-transition"},{activator:Yr(({props:p})=>[lt(Nc,rs(p,{block:""}),{default:Yr(()=>[lt(cg,null,{default:Yr(()=>[lt(qa,{color:"primary",id:"addCell"+r.cellData.id},{default:Yr(()=>[gi("mdi-plus")]),_:1},8,["id"])]),_:1})]),_:2},1040)]),default:Yr(()=>[lt(NS,null,{default:Yr(()=>[(so(!0),La(Go,null,Hf(i.items,(p,v)=>(so(),Ts(mg,{key:v},{default:Yr(()=>[lt(Nc,{id:"addCell_"+p.title+"_"+r.cellData.id,block:"",onClick:y=>d.createCell(p.title)},{default:Yr(()=>[gi(yp(p.title),1)]),_:2},1032,["id","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):Nu("",!0)],64)}const x7e=ny(m7e,[["render",O7e]]);function dle(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let XC=dle();function Rbe(t){XC=t}const Dbe=/[&<>"']/,S7e=new RegExp(Dbe.source,"g"),$be=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,w7e=new RegExp($be.source,"g"),T7e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Khe=t=>T7e[t];function og(t,e){if(e){if(Dbe.test(t))return t.replace(S7e,Khe)}else if($be.test(t))return t.replace(w7e,Khe);return t}const C7e=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function k7e(t){return t.replace(C7e,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const A7e=/(^|[^\[])\^/g;function Vi(t,e){t=typeof t=="string"?t:t.source,e=e||"";const r={replace:(a,i)=>(i=typeof i=="object"&&"source"in i?i.source:i,i=i.replace(A7e,"$1"),t=t.replace(a,i),r),getRegex:()=>new RegExp(t,e)};return r}function Jhe(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const BH={exec:()=>null};function eme(t,e){const r=t.replace(/\|/g,(d,f,h)=>{let u=!1,p=f;for(;--p>=0&&h[p]==="\\";)u=!u;return u?"|":" |"}),a=r.split(/ \|/);let i=0;if(a[0].trim()||a.shift(),a.length>0&&!a[a.length-1].trim()&&a.pop(),e)if(a.length>e)a.splice(e);else for(;a.length<e;)a.push("");for(;i<a.length;i++)a[i]=a[i].trim().replace(/\\\|/g,"|");return a}function OZ(t,e,r){const a=t.length;if(a===0)return"";let i=0;for(;i<a;){const d=t.charAt(a-i-1);if(d===e&&!r)i++;else if(d!==e&&r)i++;else break}return t.slice(0,a-i)}function P7e(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let a=0;a<t.length;a++)if(t[a]==="\\")a++;else if(t[a]===e[0])r++;else if(t[a]===e[1]&&(r--,r<0))return a;return-1}function tme(t,e,r,a){const i=e.href,d=e.title?og(e.title):null,f=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){a.state.inLink=!0;const h={type:"link",raw:r,href:i,title:d,text:f,tokens:a.inlineTokens(f)};return a.state.inLink=!1,h}return{type:"image",raw:r,href:i,title:d,text:og(f)}}function M7e(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const a=r[1];return e.split(`
`).map(i=>{const d=i.match(/^\s+/);if(d===null)return i;const[f]=d;return f.length>=a.length?i.slice(a.length):i}).join(`
`)}class QH{constructor(e){Il(this,"options");Il(this,"rules");Il(this,"lexer");this.options=e||XC}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const a=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?a:OZ(a,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const a=r[0],i=M7e(a,r[3]||"");return{type:"code",raw:a,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:i}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let a=r[2].trim();if(/#$/.test(a)){const i=OZ(a,"#");(this.options.pedantic||!i||/ $/.test(i))&&(a=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:a,tokens:this.lexer.inline(a)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:r[0]}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){const a=OZ(r[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const d=this.lexer.blockTokens(a);return this.lexer.state.top=i,{type:"blockquote",raw:r[0],tokens:d,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let a=r[1].trim();const i=a.length>1,d={type:"list",raw:"",ordered:i,start:i?+a.slice(0,-1):"",loose:!1,items:[]};a=i?`\\d{1,9}\\${a.slice(-1)}`:`\\${a}`,this.options.pedantic&&(a=i?a:"[*+-]");const f=new RegExp(`^( {0,3}${a})((?:[	 ][^\\n]*)?(?:\\n|$))`);let h="",u="",p=!1;for(;e;){let v=!1;if(!(r=f.exec(e))||this.rules.block.hr.test(e))break;h=r[0],e=e.substring(h.length);let y=r[2].split(`
`,1)[0].replace(/^\t+/,T=>" ".repeat(3*T.length)),b=e.split(`
`,1)[0],x=0;this.options.pedantic?(x=2,u=y.trimStart()):(x=r[2].search(/[^ ]/),x=x>4?1:x,u=y.slice(x),x+=r[1].length);let k=!1;if(!y&&/^ *$/.test(b)&&(h+=b+`
`,e=e.substring(b.length+1),v=!0),!v){const T=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),R=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),M=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),I=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const V=e.split(`
`,1)[0];if(b=V,this.options.pedantic&&(b=b.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),M.test(b)||I.test(b)||T.test(b)||R.test(e))break;if(b.search(/[^ ]/)>=x||!b.trim())u+=`
`+b.slice(x);else{if(k||y.search(/[^ ]/)>=4||M.test(y)||I.test(y)||R.test(y))break;u+=`
`+b}!k&&!b.trim()&&(k=!0),h+=V+`
`,e=e.substring(V.length+1),y=b.slice(x)}}d.loose||(p?d.loose=!0:/\n *\n *$/.test(h)&&(p=!0));let C=null,w;this.options.gfm&&(C=/^\[[ xX]\] /.exec(u),C&&(w=C[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),d.items.push({type:"list_item",raw:h,task:!!C,checked:w,loose:!1,text:u,tokens:[]}),d.raw+=h}d.items[d.items.length-1].raw=h.trimEnd(),d.items[d.items.length-1].text=u.trimEnd(),d.raw=d.raw.trimEnd();for(let v=0;v<d.items.length;v++)if(this.lexer.state.top=!1,d.items[v].tokens=this.lexer.blockTokens(d.items[v].text,[]),!d.loose){const y=d.items[v].tokens.filter(x=>x.type==="space"),b=y.length>0&&y.some(x=>/\n.*\n/.test(x.raw));d.loose=b}if(d.loose)for(let v=0;v<d.items.length;v++)d.items[v].loose=!0;return d}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const a=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",d=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:a,raw:r[0],href:i,title:d}}}table(e){const r=this.rules.block.table.exec(e);if(r){if(!/[:|]/.test(r[2]))return;const a={type:"table",raw:r[0],header:eme(r[1]).map(i=>({text:i,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(a.header.length===a.align.length){let i=a.align.length,d,f,h,u;for(d=0;d<i;d++){const p=a.align[d];p&&(/^ *-+: *$/.test(p)?a.align[d]="right":/^ *:-+: *$/.test(p)?a.align[d]="center":/^ *:-+ *$/.test(p)?a.align[d]="left":a.align[d]=null)}for(i=a.rows.length,d=0;d<i;d++)a.rows[d]=eme(a.rows[d],a.header.length).map(p=>({text:p,tokens:[]}));for(i=a.header.length,f=0;f<i;f++)a.header[f].tokens=this.lexer.inline(a.header[f].text);for(i=a.rows.length,f=0;f<i;f++)for(u=a.rows[f],h=0;h<u.length;h++)u[h].tokens=this.lexer.inline(u[h].text);return a}}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const a=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:a,tokens:this.lexer.inline(a)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:og(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const a=r[2].trim();if(!this.options.pedantic&&/^</.test(a)){if(!/>$/.test(a))return;const f=OZ(a.slice(0,-1),"\\");if((a.length-f.length)%2===0)return}else{const f=P7e(r[2],"()");if(f>-1){const u=(r[0].indexOf("!")===0?5:4)+r[1].length+f;r[2]=r[2].substring(0,f),r[0]=r[0].substring(0,u).trim(),r[3]=""}}let i=r[2],d="";if(this.options.pedantic){const f=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);f&&(i=f[1],d=f[3])}else d=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(a)?i=i.slice(1):i=i.slice(1,-1)),tme(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:d&&d.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(e,r){let a;if((a=this.rules.inline.reflink.exec(e))||(a=this.rules.inline.nolink.exec(e))){let i=(a[2]||a[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i){const d=a[0].charAt(0);return{type:"text",raw:d,text:d}}return tme(a,i,a[0],this.lexer)}}emStrong(e,r,a=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&a.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!a||this.rules.inline.punctuation.exec(a)){const f=[...i[0]].length-1;let h,u,p=f,v=0;const y=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,r=r.slice(-1*e.length+f);(i=y.exec(r))!=null;){if(h=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!h)continue;if(u=[...h].length,i[3]||i[4]){p+=u;continue}else if((i[5]||i[6])&&f%3&&!((f+u)%3)){v+=u;continue}if(p-=u,p>0)continue;u=Math.min(u,u+p+v);const b=[...i[0]][0].length,x=e.slice(0,f+i.index+b+u);if(Math.min(f,u)%2){const C=x.slice(1,-1);return{type:"em",raw:x,text:C,tokens:this.lexer.inlineTokens(C)}}const k=x.slice(2,-2);return{type:"strong",raw:x,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let a=r[2].replace(/\n/g," ");const i=/[^ ]/.test(a),d=/^ /.test(a)&&/ $/.test(a);return i&&d&&(a=a.substring(1,a.length-1)),a=og(a,!0),{type:"codespan",raw:r[0],text:a}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let a,i;return r[2]==="@"?(a=og(r[1]),i="mailto:"+a):(a=og(r[1]),i=a),{type:"link",raw:r[0],text:a,href:i,tokens:[{type:"text",raw:a,text:a}]}}}url(e){let r;if(r=this.rules.inline.url.exec(e)){let a,i;if(r[2]==="@")a=og(r[0]),i="mailto:"+a;else{let d;do d=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(d!==r[0]);a=og(r[0]),r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:a,href:i,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let a;return this.lexer.state.inRawBlock?a=r[0]:a=og(r[0]),{type:"text",raw:r[0],text:a}}}}const Ms={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:BH,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ms._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ms._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ms.def=Vi(Ms.def).replace("label",Ms._label).replace("title",Ms._title).getRegex();Ms.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ms.listItemStart=Vi(/^( *)(bull) */).replace("bull",Ms.bullet).getRegex();Ms.list=Vi(Ms.list).replace(/bull/g,Ms.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ms.def.source+")").getRegex();Ms._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ms._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ms.html=Vi(Ms.html,"i").replace("comment",Ms._comment).replace("tag",Ms._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ms.lheading=Vi(Ms.lheading).replace(/bull/g,Ms.bullet).getRegex();Ms.paragraph=Vi(Ms._paragraph).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex();Ms.blockquote=Vi(Ms.blockquote).replace("paragraph",Ms.paragraph).getRegex();Ms.normal={...Ms};Ms.gfm={...Ms.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ms.gfm.table=Vi(Ms.gfm.table).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex();Ms.gfm.paragraph=Vi(Ms._paragraph).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ms.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex();Ms.pedantic={...Ms.normal,html:Vi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ms._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:BH,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Vi(Ms.normal._paragraph).replace("hr",Ms.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ms.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const zo={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:BH,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:BH,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};zo._punctuation="\\p{P}$+<=>`^|~";zo.punctuation=Vi(zo.punctuation,"u").replace(/punctuation/g,zo._punctuation).getRegex();zo.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;zo.anyPunctuation=/\\[punct]/g;zo._escapes=/\\([punct])/g;zo._comment=Vi(Ms._comment).replace("(?:-->|$)","-->").getRegex();zo.emStrong.lDelim=Vi(zo.emStrong.lDelim,"u").replace(/punct/g,zo._punctuation).getRegex();zo.emStrong.rDelimAst=Vi(zo.emStrong.rDelimAst,"gu").replace(/punct/g,zo._punctuation).getRegex();zo.emStrong.rDelimUnd=Vi(zo.emStrong.rDelimUnd,"gu").replace(/punct/g,zo._punctuation).getRegex();zo.anyPunctuation=Vi(zo.anyPunctuation,"gu").replace(/punct/g,zo._punctuation).getRegex();zo._escapes=Vi(zo._escapes,"gu").replace(/punct/g,zo._punctuation).getRegex();zo._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;zo._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;zo.autolink=Vi(zo.autolink).replace("scheme",zo._scheme).replace("email",zo._email).getRegex();zo._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;zo.tag=Vi(zo.tag).replace("comment",zo._comment).replace("attribute",zo._attribute).getRegex();zo._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;zo._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;zo._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;zo.link=Vi(zo.link).replace("label",zo._label).replace("href",zo._href).replace("title",zo._title).getRegex();zo.reflink=Vi(zo.reflink).replace("label",zo._label).replace("ref",Ms._label).getRegex();zo.nolink=Vi(zo.nolink).replace("ref",Ms._label).getRegex();zo.reflinkSearch=Vi(zo.reflinkSearch,"g").replace("reflink",zo.reflink).replace("nolink",zo.nolink).getRegex();zo.normal={...zo};zo.pedantic={...zo.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Vi(/^!?\[(label)\]\((.*?)\)/).replace("label",zo._label).getRegex(),reflink:Vi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zo._label).getRegex()};zo.gfm={...zo.normal,escape:Vi(zo.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};zo.gfm.url=Vi(zo.gfm.url,"i").replace("email",zo.gfm._extended_email).getRegex();zo.breaks={...zo.gfm,br:Vi(zo.br).replace("{2,}","*").getRegex(),text:Vi(zo.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class G1{constructor(e){Il(this,"tokens");Il(this,"options");Il(this,"state");Il(this,"tokenizer");Il(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||XC,this.options.tokenizer=this.options.tokenizer||new QH,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Ms.normal,inline:zo.normal};this.options.pedantic?(r.block=Ms.pedantic,r.inline=zo.pedantic):this.options.gfm&&(r.block=Ms.gfm,this.options.breaks?r.inline=zo.breaks:r.inline=zo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ms,inline:zo}}static lex(e,r){return new G1(r).lex(e)}static lexInline(e,r){return new G1(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(e,r=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(h,u,p)=>u+"    ".repeat(p.length));let a,i,d,f;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(h=>(a=h.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))){if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length),a.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+a.raw,i.text+=`
`+a.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),r.push(a);continue}if(d=e,this.options.extensions&&this.options.extensions.startBlock){let h=1/0;const u=e.slice(1);let p;this.options.extensions.startBlock.forEach(v=>{p=v.call({lexer:this},u),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(d=e.substring(0,h+1))}if(this.state.top&&(a=this.tokenizer.paragraph(d))){i=r[r.length-1],f&&i.type==="paragraph"?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a),f=d.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let a,i,d,f=e,h,u,p;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(h=this.tokenizer.rules.inline.reflinkSearch.exec(f))!=null;)v.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(f=f.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(h=this.tokenizer.rules.inline.blockSkip.exec(f))!=null;)f=f.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(h=this.tokenizer.rules.inline.anyPunctuation.exec(f))!=null;)f=f.slice(0,h.index)+"++"+f.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(u||(p=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(a=v.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))){if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&a.type==="text"&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length),i=r[r.length-1],i&&a.type==="text"&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(a=this.tokenizer.emStrong(e,f,p)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),r.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),r.push(a);continue}if(d=e,this.options.extensions&&this.options.extensions.startInline){let v=1/0;const y=e.slice(1);let b;this.options.extensions.startInline.forEach(x=>{b=x.call({lexer:this},y),typeof b=="number"&&b>=0&&(v=Math.min(v,b))}),v<1/0&&v>=0&&(d=e.substring(0,v+1))}if(a=this.tokenizer.inlineText(d)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(p=a.raw.slice(-1)),u=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return r}}class FH{constructor(e){Il(this,"options");this.options=e||XC}code(e,r,a){var d;const i=(d=(r||"").match(/^\S*/))==null?void 0:d[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+og(i)+'">'+(a?e:og(e,!0))+`</code></pre>
`:"<pre><code>"+(a?e:og(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,r){return e}heading(e,r,a){return`<h${r}>${e}</h${r}>
`}hr(){return`<hr>
`}list(e,r,a){const i=r?"ol":"ul",d=r&&a!==1?' start="'+a+'"':"";return"<"+i+d+`>
`+e+"</"+i+`>
`}listitem(e,r,a){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,r){const a=r.header?"th":"td";return(r.align?`<${a} align="${r.align}">`:`<${a}>`)+e+`</${a}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,r,a){const i=Jhe(e);if(i===null)return a;e=i;let d='<a href="'+e+'"';return r&&(d+=' title="'+r+'"'),d+=">"+a+"</a>",d}image(e,r,a){const i=Jhe(e);if(i===null)return a;e=i;let d=`<img src="${e}" alt="${a}"`;return r&&(d+=` title="${r}"`),d+=">",d}text(e){return e}}class hle{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,r,a){return""+a}image(e,r,a){return""+a}br(){return""}}class j1{constructor(e){Il(this,"options");Il(this,"renderer");Il(this,"textRenderer");this.options=e||XC,this.options.renderer=this.options.renderer||new FH,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new hle}static parse(e,r){return new j1(r).parse(e)}static parseInline(e,r){return new j1(r).parseInline(e)}parse(e,r=!0){let a="";for(let i=0;i<e.length;i++){const d=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]){const f=d,h=this.options.extensions.renderers[f.type].call({parser:this},f);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){a+=h||"";continue}}switch(d.type){case"space":continue;case"hr":{a+=this.renderer.hr();continue}case"heading":{const f=d;a+=this.renderer.heading(this.parseInline(f.tokens),f.depth,k7e(this.parseInline(f.tokens,this.textRenderer)));continue}case"code":{const f=d;a+=this.renderer.code(f.text,f.lang,!!f.escaped);continue}case"table":{const f=d;let h="",u="";for(let v=0;v<f.header.length;v++)u+=this.renderer.tablecell(this.parseInline(f.header[v].tokens),{header:!0,align:f.align[v]});h+=this.renderer.tablerow(u);let p="";for(let v=0;v<f.rows.length;v++){const y=f.rows[v];u="";for(let b=0;b<y.length;b++)u+=this.renderer.tablecell(this.parseInline(y[b].tokens),{header:!1,align:f.align[b]});p+=this.renderer.tablerow(u)}a+=this.renderer.table(h,p);continue}case"blockquote":{const f=d,h=this.parse(f.tokens);a+=this.renderer.blockquote(h);continue}case"list":{const f=d,h=f.ordered,u=f.start,p=f.loose;let v="";for(let y=0;y<f.items.length;y++){const b=f.items[y],x=b.checked,k=b.task;let C="";if(b.task){const w=this.renderer.checkbox(!!x);p?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=w+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=w+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:w+" "}):C+=w+" "}C+=this.parse(b.tokens,p),v+=this.renderer.listitem(C,k,!!x)}a+=this.renderer.list(v,h,u);continue}case"html":{const f=d;a+=this.renderer.html(f.text,f.block);continue}case"paragraph":{const f=d;a+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{let f=d,h=f.tokens?this.parseInline(f.tokens):f.text;for(;i+1<e.length&&e[i+1].type==="text";)f=e[++i],h+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);a+=r?this.renderer.paragraph(h):h;continue}default:{const f='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return a}parseInline(e,r){r=r||this.renderer;let a="";for(let i=0;i<e.length;i++){const d=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]){const f=this.options.extensions.renderers[d.type].call({parser:this},d);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(d.type)){a+=f||"";continue}}switch(d.type){case"escape":{const f=d;a+=r.text(f.text);break}case"html":{const f=d;a+=r.html(f.text);break}case"link":{const f=d;a+=r.link(f.href,f.title,this.parseInline(f.tokens,r));break}case"image":{const f=d;a+=r.image(f.href,f.title,f.text);break}case"strong":{const f=d;a+=r.strong(this.parseInline(f.tokens,r));break}case"em":{const f=d;a+=r.em(this.parseInline(f.tokens,r));break}case"codespan":{const f=d;a+=r.codespan(f.text);break}case"br":{a+=r.br();break}case"del":{const f=d;a+=r.del(this.parseInline(f.tokens,r));break}case"text":{const f=d;a+=r.text(f.text);break}default:{const f='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return a}}class VD{constructor(e){Il(this,"options");this.options=e||XC}preprocess(e){return e}postprocess(e){return e}}Il(VD,"passThroughHooks",new Set(["preprocess","postprocess"]));var P$,Use,YH,Lbe;class E7e{constructor(...e){are(this,P$);are(this,YH);Il(this,"defaults",dle());Il(this,"options",this.setOptions);Il(this,"parse",Nz(this,P$,Use).call(this,G1.lex,j1.parse));Il(this,"parseInline",Nz(this,P$,Use).call(this,G1.lexInline,j1.parseInline));Il(this,"Parser",j1);Il(this,"Renderer",FH);Il(this,"TextRenderer",hle);Il(this,"Lexer",G1);Il(this,"Tokenizer",QH);Il(this,"Hooks",VD);this.use(...e)}walkTokens(e,r){var i,d;let a=[];for(const f of e)switch(a=a.concat(r.call(this,f)),f.type){case"table":{const h=f;for(const u of h.header)a=a.concat(this.walkTokens(u.tokens,r));for(const u of h.rows)for(const p of u)a=a.concat(this.walkTokens(p.tokens,r));break}case"list":{const h=f;a=a.concat(this.walkTokens(h.items,r));break}default:{const h=f;(d=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&d[h.type]?this.defaults.extensions.childTokens[h.type].forEach(u=>{a=a.concat(this.walkTokens(h[u],r))}):h.tokens&&(a=a.concat(this.walkTokens(h.tokens,r)))}}return a}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(a=>{const i={...a};if(i.async=this.defaults.async||i.async||!1,a.extensions&&(a.extensions.forEach(d=>{if(!d.name)throw new Error("extension name required");if("renderer"in d){const f=r.renderers[d.name];f?r.renderers[d.name]=function(...h){let u=d.renderer.apply(this,h);return u===!1&&(u=f.apply(this,h)),u}:r.renderers[d.name]=d.renderer}if("tokenizer"in d){if(!d.level||d.level!=="block"&&d.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const f=r[d.level];f?f.unshift(d.tokenizer):r[d.level]=[d.tokenizer],d.start&&(d.level==="block"?r.startBlock?r.startBlock.push(d.start):r.startBlock=[d.start]:d.level==="inline"&&(r.startInline?r.startInline.push(d.start):r.startInline=[d.start]))}"childTokens"in d&&d.childTokens&&(r.childTokens[d.name]=d.childTokens)}),i.extensions=r),a.renderer){const d=this.defaults.renderer||new FH(this.defaults);for(const f in a.renderer){const h=a.renderer[f],u=f,p=d[u];d[u]=(...v)=>{let y=h.apply(d,v);return y===!1&&(y=p.apply(d,v)),y||""}}i.renderer=d}if(a.tokenizer){const d=this.defaults.tokenizer||new QH(this.defaults);for(const f in a.tokenizer){const h=a.tokenizer[f],u=f,p=d[u];d[u]=(...v)=>{let y=h.apply(d,v);return y===!1&&(y=p.apply(d,v)),y}}i.tokenizer=d}if(a.hooks){const d=this.defaults.hooks||new VD;for(const f in a.hooks){const h=a.hooks[f],u=f,p=d[u];VD.passThroughHooks.has(f)?d[u]=v=>{if(this.defaults.async)return Promise.resolve(h.call(d,v)).then(b=>p.call(d,b));const y=h.call(d,v);return p.call(d,y)}:d[u]=(...v)=>{let y=h.apply(d,v);return y===!1&&(y=p.apply(d,v)),y}}i.hooks=d}if(a.walkTokens){const d=this.defaults.walkTokens,f=a.walkTokens;i.walkTokens=function(h){let u=[];return u.push(f.call(this,h)),d&&(u=u.concat(d.call(this,h))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return G1.lex(e,r??this.defaults)}parser(e,r){return j1.parse(e,r??this.defaults)}}P$=new WeakSet,Use=function(e,r){return(a,i)=>{const d={...i},f={...this.defaults,...d};this.defaults.async===!0&&d.async===!1&&(f.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),f.async=!0);const h=Nz(this,YH,Lbe).call(this,!!f.silent,!!f.async);if(typeof a>"u"||a===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof a!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected"));if(f.hooks&&(f.hooks.options=f),f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(a):a).then(u=>e(u,f)).then(u=>f.walkTokens?Promise.all(this.walkTokens(u,f.walkTokens)).then(()=>u):u).then(u=>r(u,f)).then(u=>f.hooks?f.hooks.postprocess(u):u).catch(h);try{f.hooks&&(a=f.hooks.preprocess(a));const u=e(a,f);f.walkTokens&&this.walkTokens(u,f.walkTokens);let p=r(u,f);return f.hooks&&(p=f.hooks.postprocess(p)),p}catch(u){return h(u)}}},YH=new WeakSet,Lbe=function(e,r){return a=>{if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+og(a.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(a);throw a}};const NC=new E7e;function qi(t,e){return NC.parse(t,e)}qi.options=qi.setOptions=function(t){return NC.setOptions(t),qi.defaults=NC.defaults,Rbe(qi.defaults),qi};qi.getDefaults=dle;qi.defaults=XC;qi.use=function(...t){return NC.use(...t),qi.defaults=NC.defaults,Rbe(qi.defaults),qi};qi.walkTokens=function(t,e){return NC.walkTokens(t,e)};qi.parseInline=NC.parseInline;qi.Parser=j1;qi.parser=j1.parse;qi.Renderer=FH;qi.TextRenderer=hle;qi.Lexer=G1;qi.lexer=G1.lex;qi.Tokenizer=QH;qi.Hooks=VD;qi.parse=qi;qi.options;qi.setOptions;qi.use;qi.walkTokens;qi.parseInline;j1.parse;G1.lex;class VH{static create(e,r,a,i,d){let f=i+(i<<8)+e+(r<<4)|0;return new VH(e,r,a,f,d,[],[])}constructor(e,r,a,i,d,f,h){this.type=e,this.value=r,this.from=a,this.hash=i,this.end=d,this.children=f,this.positions=h,this.hashProp=[[ua.contextHash,i]]}addChild(e,r){e.prop(ua.contextHash)!=this.hash&&(e=new Fi(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(r)}toTree(e,r=this.end){let a=this.children.length-1;return a>=0&&(r=Math.max(r,this.positions[a]+this.children[a].length+this.from)),new Fi(e.types[this.type],this.children,this.positions,r-this.from).balance({makeTree:(i,d,f)=>new Fi(Fu.none,i,d,f,this.hashProp)})}}var bo;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.URL=33]="URL",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel"})(bo||(bo={}));class _7e{constructor(e,r){this.start=e,this.content=r,this.marks=[],this.parsers=[]}}class R7e{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return zD(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,r=0,a=0){for(let i=r;i<e;i++)a+=this.text.charCodeAt(i)==9?4-a%4:1;return a}findColumn(e){let r=0;for(let a=0;r<this.text.length&&a<e;r++)a+=this.text.charCodeAt(r)==9?4-a%4:1;return r}scrub(){if(!this.baseIndent)return this.text;let e="";for(let r=0;r<this.basePos;r++)e+=" ";return e+this.text.slice(this.basePos)}}function nme(t,e,r){if(r.pos==r.text.length||t!=e.block&&r.indent>=e.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let a=(t.type==bo.OrderedList?ple:gle)(r,e,!1);return a>0&&(t.type!=bo.BulletList||mle(r,e,!1)<0)&&r.text.charCodeAt(r.pos+a-1)==t.value}const Ibe={[bo.Blockquote](t,e,r){return r.next!=62?!1:(r.markers.push(Ei(bo.QuoteMark,e.lineStart+r.pos,e.lineStart+r.pos+1)),r.moveBase(r.pos+(Ip(r.text.charCodeAt(r.pos+1))?2:1)),t.end=e.lineStart+r.text.length,!0)},[bo.ListItem](t,e,r){return r.indent<r.baseIndent+t.value&&r.next>-1?!1:(r.moveBaseColumn(r.baseIndent+t.value),!0)},[bo.OrderedList]:nme,[bo.BulletList]:nme,[bo.Document](){return!0}};function Ip(t){return t==32||t==9||t==10||t==13}function zD(t,e=0){for(;e<t.length&&Ip(t.charCodeAt(e));)e++;return e}function rme(t,e,r){for(;e>r&&Ip(t.charCodeAt(e-1));)e--;return e}function Nbe(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let r=e;r<t.text.length;r++)if(t.text.charCodeAt(r)==96)return-1}return e}function Bbe(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function mle(t,e,r){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let a=1;for(let i=t.pos+1;i<t.text.length;i++){let d=t.text.charCodeAt(i);if(d==t.next)a++;else if(!Ip(d))return-1}return r&&t.next==45&&Vbe(t)>-1&&t.depth==e.stack.length||a<3?-1:1}function Qbe(t,e){for(let r=t.stack.length-1;r>=0;r--)if(t.stack[r].type==e)return!0;return!1}function gle(t,e,r){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||Ip(t.text.charCodeAt(t.pos+1)))&&(!r||Qbe(e,bo.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function ple(t,e,r){let a=t.pos,i=t.next;for(;i>=48&&i<=57;){a++;if(a==t.text.length)return-1;i=t.text.charCodeAt(a)}return a==t.pos||a>t.pos+9||i!=46&&i!=41||a<t.text.length-1&&!Ip(t.text.charCodeAt(a+1))||r&&!Qbe(e,bo.OrderedList)&&(t.skipSpace(a+1)==t.text.length||a>t.pos+1||t.next!=49)?-1:a+1-t.pos}function Fbe(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let r=e-t.pos;return r>6?-1:r}function Vbe(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let r=e;for(;e<t.text.length&&Ip(t.text.charCodeAt(e));)e++;return e==t.text.length?r:-1}const Wse=/^[ \t]*$/,zbe=/-->/,Zbe=/\?>/,Yse=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,zbe],[/^\s*<\?/,Zbe],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Wse],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Wse]];function Hbe(t,e,r){if(t.next!=60)return-1;let a=t.text.slice(t.pos);for(let i=0,d=Yse.length-(r?1:0);i<d;i++)if(Yse[i][0].test(a))return i;return-1}function ome(t,e){let r=t.countIndent(e,t.pos,t.indent),a=t.countIndent(t.skipSpace(e),e,r);return a>=r+5?r+1:a}function hC(t,e,r){let a=t.length-1;a>=0&&t[a].to==e&&t[a].type==bo.CodeText?t[a].to=r:t.push(Ei(bo.CodeText,e,r))}const xZ={LinkReference:void 0,IndentedCode(t,e){let r=e.baseIndent+4;if(e.indent<r)return!1;let a=e.findColumn(r),i=t.lineStart+a,d=t.lineStart+e.text.length,f=[],h=[];for(hC(f,i,d);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){hC(h,t.lineStart-1,t.lineStart);for(let u of e.markers)h.push(u)}else{if(e.indent<r)break;{if(h.length){for(let p of h)p.type==bo.CodeText?hC(f,p.from,p.to):f.push(p);h=[]}hC(f,t.lineStart-1,t.lineStart);for(let p of e.markers)f.push(p);d=t.lineStart+e.text.length;let u=t.lineStart+e.findColumn(e.baseIndent+4);u<d&&hC(f,u,d)}}return h.length&&(h=h.filter(u=>u.type!=bo.CodeText),h.length&&(e.markers=h.concat(e.markers))),t.addNode(t.buffer.writeElements(f,-i).finish(bo.CodeBlock,d-i),i),!0},FencedCode(t,e){let r=Nbe(e);if(r<0)return!1;let a=t.lineStart+e.pos,i=e.next,d=r-e.pos,f=e.skipSpace(r),h=rme(e.text,e.text.length,f),u=[Ei(bo.CodeMark,a,a+d)];f<h&&u.push(Ei(bo.CodeInfo,t.lineStart+f,t.lineStart+h));for(let p=!0;t.nextLine()&&e.depth>=t.stack.length;p=!1){let v=e.pos;if(e.indent-e.baseIndent<4)for(;v<e.text.length&&e.text.charCodeAt(v)==i;)v++;if(v-e.pos>=d&&e.skipSpace(v)==e.text.length){for(let y of e.markers)u.push(y);u.push(Ei(bo.CodeMark,t.lineStart+e.pos,t.lineStart+v)),t.nextLine();break}else{p||hC(u,t.lineStart-1,t.lineStart);for(let x of e.markers)u.push(x);let y=t.lineStart+e.basePos,b=t.lineStart+e.text.length;y<b&&hC(u,y,b)}}return t.addNode(t.buffer.writeElements(u,-a).finish(bo.FencedCode,t.prevLineEnd()-a),a),!0},Blockquote(t,e){let r=Bbe(e);return r<0?!1:(t.startContext(bo.Blockquote,e.pos),t.addNode(bo.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+r),null)},HorizontalRule(t,e){if(mle(e,t,!1)<0)return!1;let r=t.lineStart+e.pos;return t.nextLine(),t.addNode(bo.HorizontalRule,r),!0},BulletList(t,e){let r=gle(e,t,!1);if(r<0)return!1;t.block.type!=bo.BulletList&&t.startContext(bo.BulletList,e.basePos,e.next);let a=ome(e,e.pos+1);return t.startContext(bo.ListItem,e.basePos,a-e.baseIndent),t.addNode(bo.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+r),e.moveBaseColumn(a),null},OrderedList(t,e){let r=ple(e,t,!1);if(r<0)return!1;t.block.type!=bo.OrderedList&&t.startContext(bo.OrderedList,e.basePos,e.text.charCodeAt(e.pos+r-1));let a=ome(e,e.pos+r);return t.startContext(bo.ListItem,e.basePos,a-e.baseIndent),t.addNode(bo.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+r),e.moveBaseColumn(a),null},ATXHeading(t,e){let r=Fbe(e);if(r<0)return!1;let a=e.pos,i=t.lineStart+a,d=rme(e.text,e.text.length,a),f=d;for(;f>a&&e.text.charCodeAt(f-1)==e.next;)f--;(f==d||f==a||!Ip(e.text.charCodeAt(f-1)))&&(f=e.text.length);let h=t.buffer.write(bo.HeaderMark,0,r).writeElements(t.parser.parseInline(e.text.slice(a+r+1,f),i+r+1),-i);f<e.text.length&&h.write(bo.HeaderMark,f-a,d-a);let u=h.finish(bo.ATXHeading1-1+r,e.text.length-a);return t.nextLine(),t.addNode(u,i),!0},HTMLBlock(t,e){let r=Hbe(e,t,!1);if(r<0)return!1;let a=t.lineStart+e.pos,i=Yse[r][1],d=[],f=i!=Wse;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){f=!1;break}for(let p of e.markers)d.push(p)}f&&t.nextLine();let h=i==zbe?bo.CommentBlock:i==Zbe?bo.ProcessingInstructionBlock:bo.HTMLBlock,u=t.prevLineEnd();return t.addNode(t.buffer.writeElements(d,-a).finish(h,u-a),a),!0},SetextHeading:void 0};class D7e{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,r,a){if(this.stage==-1)return!1;let i=a.content+`
`+r.scrub(),d=this.advance(i);return d>-1&&d<i.length?this.complete(e,a,d):!1}finish(e,r){return(this.stage==2||this.stage==3)&&zD(r.content,this.pos)==r.content.length?this.complete(e,r,r.content.length):!1}complete(e,r,a){return e.addLeafElement(r,Ei(bo.LinkReference,this.start,this.start+a,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(Jbe(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Ei(bo.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(qbe(e,zD(e,this.pos),this.start)))return-1}else if(this.stage==2){let r=zD(e,this.pos),a=0;if(r>this.pos){let i=Kbe(e,r,this.start);if(i){let d=noe(e,i.to-this.start);d>0&&(this.nextStage(i),a=d)}}return a||(a=noe(e,this.pos)),a>0&&a<e.length?a:-1}else return noe(e,this.pos)}}}function noe(t,e){for(;e<t.length;e++){let r=t.charCodeAt(e);if(r==10)break;if(!Ip(r))return-1}return e}class $7e{nextLine(e,r,a){let i=r.depth<e.stack.length?-1:Vbe(r),d=r.next;if(i<0)return!1;let f=Ei(bo.HeaderMark,e.lineStart+r.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(a,Ei(d==61?bo.SetextHeading1:bo.SetextHeading2,a.start,e.prevLineEnd(),[...e.parser.parseInline(a.content,a.start),f])),!0}finish(){return!1}}const L7e={LinkReference(t,e){return e.content.charCodeAt(0)==91?new D7e(e):null},SetextHeading(){return new $7e}},I7e=[(t,e)=>Fbe(e)>=0,(t,e)=>Nbe(e)>=0,(t,e)=>Bbe(e)>=0,(t,e)=>gle(e,t,!0)>=0,(t,e)=>ple(e,t,!0)>=0,(t,e)=>mle(e,t,!0)>=0,(t,e)=>Hbe(e,t,!0)>=0],N7e={text:"",end:0};class B7e{constructor(e,r,a,i){this.parser=e,this.input=r,this.ranges=i,this.line=new R7e,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=VH.create(bo.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=a.length?new z7e(a,r):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(;e.depth<this.stack.length;)this.finishContext();for(let a of e.markers)this.addNode(a.type,a.from,a.to);if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let a of this.parser.blockParsers)if(a){let i=a(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let r=new _7e(this.lineStart+e.pos,e.text.slice(e.pos));for(let a of this.parser.leafBlockParsers)if(a){let i=a(this,r);i&&r.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let a of this.parser.endLeafBlock)if(a(this,e,r))break e}for(let a of r.parsers)if(a.nextLine(this,e,r))return null;r.content+=`
`+e.scrub();for(let a of e.markers)r.marks.push(a)}return this.finishLeaf(r),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let r=this.fragments.takeNodes(this);return r?(this.absoluteLineStart+=r,this.lineStart=eOe(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let r=N7e;if(r.end=e,e>=this.to)r.text="";else if(r.text=this.lineChunkAt(e),r.end+=r.text.length,this.ranges.length>1){let a=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<r.end;){i++;let d=this.ranges[i].from,f=this.lineChunkAt(d);r.end=d+f.length,r.text=r.text.slice(0,this.ranges[i-1].to-a)+f,a=r.end-r.text.length}}return r}readLine(){let{line:e}=this,{text:r,end:a}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=a,e.reset(r);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],d=this.parser.skipContextMarkup[i.type];if(!d)throw new Error("Unhandled block context "+bo[i.type]);if(!d(i,this,e))break;e.forward()}}lineChunkAt(e){let r=this.input.chunk(e),a;if(this.input.lineChunks)a=r==`
`?"":r;else{let i=r.indexOf(`
`);a=i<0?r:r.slice(0,i)}return e+a.length>this.to?a.slice(0,this.to-e):a}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,r,a=0){this.block=VH.create(e,a,this.lineStart+r,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,r,a=0){this.startContext(this.parser.getNodeType(e),r,a)}addNode(e,r,a){typeof e=="number"&&(e=new Fi(this.parser.nodeSet.types[e],gM,gM,(a??this.prevLineEnd())-r)),this.block.addChild(e,r-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,r){this.addNode(this.buffer.writeElements(Gse(r.children,e.marks),-r.from).finish(r.type,r.to-r.from),r.from)}finishContext(){let e=this.stack.pop(),r=this.stack[this.stack.length-1];r.addChild(e.toTree(this.parser.nodeSet),e.from-r.from),this.block=r}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?Ube(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let a of e.parsers)if(a.finish(this,e))return;let r=Gse(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(r,-e.start).finish(bo.Paragraph,e.content.length),e.start)}elt(e,r,a,i){return typeof e=="string"?Ei(this.parser.getNodeType(e),r,a,i):new Xbe(e,r)}get buffer(){return new Ybe(this.parser.nodeSet)}}function Ube(t,e,r,a,i){let d=t[e].to,f=[],h=[],u=r.from+a;function p(v,y){for(;y?v>=d:v>d;){let b=t[e+1].from-d;a+=b,v+=b,e++,d=t[e].to}}for(let v=r.firstChild;v;v=v.nextSibling){p(v.from+a,!0);let y=v.from+a,b,x=i.get(v.tree);x?b=x:v.to+a>d?(b=Ube(t,e,v,a,i),p(v.to+a,!1)):b=v.toTree(),f.push(b),h.push(y-u)}return p(r.to+a,!1),new Fi(r.type,f,h,r.to+a-u,r.tree?r.tree.propValues:void 0)}class VU extends tie{constructor(e,r,a,i,d,f,h,u,p){super(),this.nodeSet=e,this.blockParsers=r,this.leafBlockParsers=a,this.blockNames=i,this.endLeafBlock=d,this.skipContextMarkup=f,this.inlineParsers=h,this.inlineNames=u,this.wrappers=p,this.nodeTypes=Object.create(null);for(let v of e.types)this.nodeTypes[v.name]=v.id}createParse(e,r,a){let i=new B7e(this,e,r,a);for(let d of this.wrappers)i=d(i,e,r,a);return i}configure(e){let r=Xse(e);if(!r)return this;let{nodeSet:a,skipContextMarkup:i}=this,d=this.blockParsers.slice(),f=this.leafBlockParsers.slice(),h=this.blockNames.slice(),u=this.inlineParsers.slice(),p=this.inlineNames.slice(),v=this.endLeafBlock.slice(),y=this.wrappers;if(yD(r.defineNodes)){i=Object.assign({},i);let b=a.types.slice(),x;for(let k of r.defineNodes){let{name:C,block:w,composite:T,style:R}=typeof k=="string"?{name:k}:k;if(b.some(V=>V.name==C))continue;T&&(i[b.length]=(V,N,F)=>T(N,F,V.value));let M=b.length,I=T?["Block","BlockContext"]:w?M>=bo.ATXHeading1&&M<=bo.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;b.push(Fu.define({id:M,name:C,props:I&&[[ua.group,I]]})),R&&(x||(x={}),Array.isArray(R)||R instanceof Dv?x[C]=R:Object.assign(x,R))}a=new B$(b),x&&(a=a.extend(RS(x)))}if(yD(r.props)&&(a=a.extend(...r.props)),yD(r.remove))for(let b of r.remove){let x=this.blockNames.indexOf(b),k=this.inlineNames.indexOf(b);x>-1&&(d[x]=f[x]=void 0),k>-1&&(u[k]=void 0)}if(yD(r.parseBlock))for(let b of r.parseBlock){let x=h.indexOf(b.name);if(x>-1)d[x]=b.parse,f[x]=b.leaf;else{let k=b.before?SZ(h,b.before):b.after?SZ(h,b.after)+1:h.length-1;d.splice(k,0,b.parse),f.splice(k,0,b.leaf),h.splice(k,0,b.name)}b.endLeaf&&v.push(b.endLeaf)}if(yD(r.parseInline))for(let b of r.parseInline){let x=p.indexOf(b.name);if(x>-1)u[x]=b.parse;else{let k=b.before?SZ(p,b.before):b.after?SZ(p,b.after)+1:p.length-1;u.splice(k,0,b.parse),p.splice(k,0,b.name)}}return r.wrap&&(y=y.concat(r.wrap)),new VU(a,d,f,h,v,i,u,p,y)}getNodeType(e){let r=this.nodeTypes[e];if(r==null)throw new RangeError(`Unknown node type '${e}'`);return r}parseInline(e,r){let a=new F7e(this,e,r);e:for(let i=r;i<a.end;){let d=a.char(i);for(let f of this.inlineParsers)if(f){let h=f(a,d,i);if(h>=0){i=h;continue e}}i++}return a.resolveMarkers(0)}}function yD(t){return t!=null&&t.length>0}function Xse(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=Xse(t[0]);if(t.length==1)return e;let r=Xse(t.slice(1));if(!r||!e)return e||r;let a=(f,h)=>(f||gM).concat(h||gM),i=e.wrap,d=r.wrap;return{props:a(e.props,r.props),defineNodes:a(e.defineNodes,r.defineNodes),parseBlock:a(e.parseBlock,r.parseBlock),parseInline:a(e.parseInline,r.parseInline),remove:a(e.remove,r.remove),wrap:i?d?(f,h,u,p)=>i(d(f,h,u,p),h,u,p):i:d}}function SZ(t,e){let r=t.indexOf(e);if(r<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return r}let Wbe=[Fu.none];for(let t=1,e;e=bo[t];t++)Wbe[t]=Fu.define({id:t,name:e,props:t>=bo.Escape?[]:[[ua.group,t in Ibe?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const gM=[];let Ybe=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,r,a,i=0){return this.content.push(e,r,a,4+i*4),this}writeElements(e,r=0){for(let a of e)a.writeTo(this,r);return this}finish(e,r){return Fi.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:r})}},T$=class{constructor(e,r,a,i=gM){this.type=e,this.from=r,this.to=a,this.children=i}writeTo(e,r){let a=e.content.length;e.writeElements(this.children,r),e.content.push(this.type,this.from+r,this.to+r,e.content.length+4-a)}toTree(e){return new Ybe(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class Xbe{constructor(e,r){this.tree=e,this.from=r}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return gM}writeTo(e,r){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+r,this.to+r,-1)}toTree(){return this.tree}}function Ei(t,e,r,a){return new T$(t,e,r,a)}const Gbe={resolve:"Emphasis",mark:"EmphasisMark"},jbe={resolve:"Emphasis",mark:"EmphasisMark"},bD={},sme={};class $v{constructor(e,r,a,i){this.type=e,this.from=r,this.to=a,this.side=i}}const ame="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let C$=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{C$=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const roe={Escape(t,e,r){if(e!=92||r==t.end-1)return-1;let a=t.char(r+1);for(let i=0;i<ame.length;i++)if(ame.charCodeAt(i)==a)return t.append(Ei(bo.Escape,r,r+2));return-1},Entity(t,e,r){if(e!=38)return-1;let a=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(r+1,r+31));return a?t.append(Ei(bo.Entity,r,r+1+a[0].length)):-1},InlineCode(t,e,r){if(e!=96||r&&t.char(r-1)==96)return-1;let a=r+1;for(;a<t.end&&t.char(a)==96;)a++;let i=a-r,d=0;for(;a<t.end;a++)if(t.char(a)==96){if(d++,d==i&&t.char(a+1)!=96)return t.append(Ei(bo.InlineCode,r,a+1,[Ei(bo.CodeMark,r,r+i),Ei(bo.CodeMark,a+1-i,a+1)]))}else d=0;return-1},HTMLTag(t,e,r){if(e!=60||r==t.end-1)return-1;let a=t.slice(r+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(a);if(i)return t.append(Ei(bo.URL,r,r+1+i[0].length));let d=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(a);if(d)return t.append(Ei(bo.Comment,r,r+1+d[0].length));let f=/^\?[^]*?\?>/.exec(a);if(f)return t.append(Ei(bo.ProcessingInstruction,r,r+1+f[0].length));let h=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(a);return h?t.append(Ei(bo.HTMLTag,r,r+1+h[0].length)):-1},Emphasis(t,e,r){if(e!=95&&e!=42)return-1;let a=r+1;for(;t.char(a)==e;)a++;let i=t.slice(r-1,r),d=t.slice(a,a+1),f=C$.test(i),h=C$.test(d),u=/\s|^$/.test(i),p=/\s|^$/.test(d),v=!p&&(!h||u||f),y=!u&&(!f||p||h),b=v&&(e==42||!y||f),x=y&&(e==42||!v||h);return t.append(new $v(e==95?Gbe:jbe,r,a,(b?1:0)|(x?2:0)))},HardBreak(t,e,r){if(e==92&&t.char(r+1)==10)return t.append(Ei(bo.HardBreak,r,r+2));if(e==32){let a=r+1;for(;t.char(a)==32;)a++;if(t.char(a)==10&&a>=r+2)return t.append(Ei(bo.HardBreak,r,a+1))}return-1},Link(t,e,r){return e==91?t.append(new $v(bD,r,r+1,1)):-1},Image(t,e,r){return e==33&&t.char(r+1)==91?t.append(new $v(sme,r,r+2,1)):-1},LinkEnd(t,e,r){if(e!=93)return-1;for(let a=t.parts.length-1;a>=0;a--){let i=t.parts[a];if(i instanceof $v&&(i.type==bD||i.type==sme)){if(!i.side||t.skipSpace(i.to)==r&&!/[(\[]/.test(t.slice(r+1,r+2)))return t.parts[a]=null,-1;let d=t.takeContent(a),f=t.parts[a]=Q7e(t,d,i.type==bD?bo.Link:bo.Image,i.from,r+1);if(i.type==bD)for(let h=0;h<a;h++){let u=t.parts[h];u instanceof $v&&u.type==bD&&(u.side=0)}return f.to}}return-1}};function Q7e(t,e,r,a,i){let{text:d}=t,f=t.char(i),h=i;if(e.unshift(Ei(bo.LinkMark,a,a+(r==bo.Image?2:1))),e.push(Ei(bo.LinkMark,i-1,i)),f==40){let u=t.skipSpace(i+1),p=qbe(d,u-t.offset,t.offset),v;p&&(u=t.skipSpace(p.to),v=Kbe(d,u-t.offset,t.offset),v&&(u=t.skipSpace(v.to))),t.char(u)==41&&(e.push(Ei(bo.LinkMark,i,i+1)),h=u+1,p&&e.push(p),v&&e.push(v),e.push(Ei(bo.LinkMark,u,h)))}else if(f==91){let u=Jbe(d,i-t.offset,t.offset,!1);u&&(e.push(u),h=u.to)}return Ei(r,a,h,e)}function qbe(t,e,r){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let d=t.charCodeAt(i);if(d==62)return Ei(bo.URL,e+r,i+1+r);if(d==60||d==10)return!1}return null}else{let i=0,d=e;for(let f=!1;d<t.length;d++){let h=t.charCodeAt(d);if(Ip(h))break;if(f)f=!1;else if(h==40)i++;else if(h==41){if(!i)break;i--}else h==92&&(f=!0)}return d>e?Ei(bo.URL,e+r,d+r):d==t.length?null:!1}}function Kbe(t,e,r){let a=t.charCodeAt(e);if(a!=39&&a!=34&&a!=40)return!1;let i=a==40?41:a;for(let d=e+1,f=!1;d<t.length;d++){let h=t.charCodeAt(d);if(f)f=!1;else{if(h==i)return Ei(bo.LinkTitle,e+r,d+1+r);h==92&&(f=!0)}}return null}function Jbe(t,e,r,a){for(let i=!1,d=e+1,f=Math.min(t.length,d+999);d<f;d++){let h=t.charCodeAt(d);if(i)i=!1;else{if(h==93)return a?!1:Ei(bo.LinkLabel,e+r,d+1+r);if(a&&!Ip(h)&&(a=!1),h==91)return!1;h==92&&(i=!0)}}return null}class F7e{constructor(e,r,a){this.parser=e,this.text=r,this.offset=a,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,r){return this.text.slice(e-this.offset,r-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,r,a,i,d){return this.append(new $v(e,r,a,(i?1:0)|(d?2:0)))}addElement(e){return this.append(e)}resolveMarkers(e){for(let a=e;a<this.parts.length;a++){let i=this.parts[a];if(!(i instanceof $v&&i.type.resolve&&i.side&2))continue;let d=i.type==Gbe||i.type==jbe,f=i.to-i.from,h,u=a-1;for(;u>=e;u--){let C=this.parts[u];if(C instanceof $v&&C.side&1&&C.type==i.type&&!(d&&(i.side&1||C.side&2)&&(C.to-C.from+f)%3==0&&((C.to-C.from)%3||f%3))){h=C;break}}if(!h)continue;let p=i.type.resolve,v=[],y=h.from,b=i.to;if(d){let C=Math.min(2,h.to-h.from,f);y=h.to-C,b=i.from+C,p=C==1?"Emphasis":"StrongEmphasis"}h.type.mark&&v.push(this.elt(h.type.mark,y,h.to));for(let C=u+1;C<a;C++)this.parts[C]instanceof T$&&v.push(this.parts[C]),this.parts[C]=null;i.type.mark&&v.push(this.elt(i.type.mark,i.from,b));let x=this.elt(p,y,b,v);this.parts[u]=d&&h.from!=y?new $v(h.type,h.from,y,h.side):null,(this.parts[a]=d&&i.to!=b?new $v(i.type,b,i.to,i.side):null)?this.parts.splice(a,0,x):this.parts[a]=x}let r=[];for(let a=e;a<this.parts.length;a++){let i=this.parts[a];i instanceof T$&&r.push(i)}return r}findOpeningDelimiter(e){for(let r=this.parts.length-1;r>=0;r--){let a=this.parts[r];if(a instanceof $v&&a.type==e)return r}return null}takeContent(e){let r=this.resolveMarkers(e);return this.parts.length=e,r}skipSpace(e){return zD(this.text,e-this.offset)+this.offset}elt(e,r,a,i){return typeof e=="string"?Ei(this.parser.getNodeType(e),r,a,i):new Xbe(e,r)}}function Gse(t,e){if(!e.length)return t;if(!t.length)return e;let r=t.slice(),a=0;for(let i of e){for(;a<r.length&&r[a].to<i.to;)a++;if(a<r.length&&r[a].from<i.from){let d=r[a];d instanceof T$&&(r[a]=new T$(d.type,d.from,d.to,Gse(d.children,[i])))}else r.splice(a++,0,i)}return r}const V7e=[bo.CodeBlock,bo.ListItem,bo.OrderedList,bo.BulletList];class z7e{constructor(e,r){this.fragments=e,this.input=r,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,r){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let d=this.fragment.to;for(;d>0&&this.input.read(d-1,d)!=`
`;)d--;this.fragmentEnd=d?d-1:0}let a=this.cursor;a||(a=this.cursor=this.fragment.tree.cursor(),a.firstChild());let i=e+this.fragment.offset;for(;a.to<=i;)if(!a.parent())return!1;for(;;){if(a.from>=i)return this.fragment.from<=r;if(!a.childAfter(i))return!1}}matches(e){let r=this.cursor.tree;return r&&r.prop(ua.contextHash)==e}takeNodes(e){let r=this.cursor,a=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),d=e.absoluteLineStart,f=d,h=e.block.children.length,u=f,p=h;for(;;){if(r.to-a>i){if(r.type.isAnonymous&&r.firstChild())continue;break}let v=eOe(r.from-a,e.ranges);if(r.to-a<=e.ranges[e.rangeI].to)e.addNode(r.tree,v);else{let y=new Fi(e.parser.nodeSet.types[bo.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(y,r.tree),e.addNode(y,v)}if(r.type.is("Block")&&(V7e.indexOf(r.type.id)<0?(f=r.to-a,h=e.block.children.length):(f=u,h=p,u=r.to-a,p=e.block.children.length)),!r.nextSibling())break}for(;e.block.children.length>h;)e.block.children.pop(),e.block.positions.pop();return f-d}}function eOe(t,e){let r=t;for(let a=1;a<e.length;a++){let i=e[a-1].to,d=e[a].from;i<t&&(r-=d-i)}return r}const Z7e=RS({"Blockquote/...":Qt.quote,HorizontalRule:Qt.contentSeparator,"ATXHeading1/... SetextHeading1/...":Qt.heading1,"ATXHeading2/... SetextHeading2/...":Qt.heading2,"ATXHeading3/...":Qt.heading3,"ATXHeading4/...":Qt.heading4,"ATXHeading5/...":Qt.heading5,"ATXHeading6/...":Qt.heading6,"Comment CommentBlock":Qt.comment,Escape:Qt.escape,Entity:Qt.character,"Emphasis/...":Qt.emphasis,"StrongEmphasis/...":Qt.strong,"Link/... Image/...":Qt.link,"OrderedList/... BulletList/...":Qt.list,"BlockQuote/...":Qt.quote,"InlineCode CodeText":Qt.monospace,URL:Qt.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Qt.processingInstruction,"CodeInfo LinkLabel":Qt.labelName,LinkTitle:Qt.string,Paragraph:Qt.content}),H7e=new VU(new B$(Wbe).extend(Z7e),Object.keys(xZ).map(t=>xZ[t]),Object.keys(xZ).map(t=>L7e[t]),Object.keys(xZ),I7e,Ibe,Object.keys(roe).map(t=>roe[t]),Object.keys(roe),[]);function U7e(t,e,r){let a=[];for(let i=t.firstChild,d=e;;i=i.nextSibling){let f=i?i.from:r;if(f>d&&a.push({from:d,to:f}),!i)break;d=i.to}return a}function W7e(t){let{codeParser:e,htmlParser:r}=t;return{wrap:jve((i,d)=>{let f=i.type.id;if(e&&(f==bo.CodeBlock||f==bo.FencedCode)){let h="";if(f==bo.FencedCode){let p=i.node.getChild(bo.CodeInfo);p&&(h=d.read(p.from,p.to))}let u=e(h);if(u)return{parser:u,overlay:p=>p.type.id==bo.CodeText}}else if(r&&(f==bo.HTMLBlock||f==bo.HTMLTag))return{parser:r,overlay:U7e(i.node,i.from,i.to)};return null})}}const Y7e={resolve:"Strikethrough",mark:"StrikethroughMark"},X7e={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Qt.strikethrough}},{name:"StrikethroughMark",style:Qt.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,r){if(e!=126||t.char(r+1)!=126||t.char(r+2)==126)return-1;let a=t.slice(r-1,r),i=t.slice(r+2,r+3),d=/\s|^$/.test(a),f=/\s|^$/.test(i),h=C$.test(a),u=C$.test(i);return t.addDelimiter(Y7e,r,r+2,!f&&(!u||d||h),!d&&(!h||f||u))},after:"Emphasis"}]};function ZD(t,e,r=0,a,i=0){let d=0,f=!0,h=-1,u=-1,p=!1,v=()=>{a.push(t.elt("TableCell",i+h,i+u,t.parser.parseInline(e.slice(h,u),i+h)))};for(let y=r;y<e.length;y++){let b=e.charCodeAt(y);b==124&&!p?((!f||h>-1)&&d++,f=!1,a&&(h>-1&&v(),a.push(t.elt("TableDelimiter",y+i,y+i+1))),h=u=-1):(p||b!=32&&b!=9)&&(h<0&&(h=y),u=y+1),p=!p&&b==92}return h>-1&&(d++,a&&v()),d}function ime(t,e){for(let r=e;r<t.length;r++){let a=t.charCodeAt(r);if(a==124)return!0;a==92&&r++}return!1}const tOe=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class lme{constructor(){this.rows=null}nextLine(e,r,a){if(this.rows==null){this.rows=!1;let i;if((r.next==45||r.next==58||r.next==124)&&tOe.test(i=r.text.slice(r.pos))){let d=[];ZD(e,a.content,0,d,a.start)==ZD(e,i,r.pos)&&(this.rows=[e.elt("TableHeader",a.start,a.start+a.content.length,d),e.elt("TableDelimiter",e.lineStart+r.pos,e.lineStart+r.text.length)])}}else if(this.rows){let i=[];ZD(e,r.text,r.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+r.pos,e.lineStart+r.text.length,i))}return!1}finish(e,r){return this.rows?(e.addLeafElement(r,e.elt("Table",r.start,r.start+r.content.length,this.rows)),!0):!1}}const G7e={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Qt.heading}},"TableRow",{name:"TableCell",style:Qt.content},{name:"TableDelimiter",style:Qt.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return ime(e.content,0)?new lme:null},endLeaf(t,e,r){if(r.parsers.some(i=>i instanceof lme)||!ime(e.text,e.basePos))return!1;let a=t.scanLine(t.absoluteLineEnd+1).text;return tOe.test(a)&&ZD(t,e.text,e.basePos)==ZD(t,a,e.basePos)},before:"SetextHeading"}]};class j7e{nextLine(){return!1}finish(e,r){return e.addLeafElement(r,e.elt("Task",r.start,r.start+r.content.length,[e.elt("TaskMarker",r.start,r.start+3),...e.parser.parseInline(r.content.slice(3),r.start+3)])),!0}}const q7e={defineNodes:[{name:"Task",block:!0,style:Qt.list},{name:"TaskMarker",style:Qt.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new j7e:null},after:"SetextHeading"}]},cme=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,ume=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,K7e=/[\w-]+\.[\w-]+($|\/)/,fme=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,dme=/\/[a-zA-Z\d@.]+/gy;function hme(t,e,r,a){let i=0;for(let d=e;d<r;d++)t[d]==a&&i++;return i}function J7e(t,e){ume.lastIndex=e;let r=ume.exec(t);if(!r||K7e.exec(r[0])[0].indexOf("_")>-1)return-1;let a=e+r[0].length;for(;;){let i=t[a-1],d;if(/[?!.,:*_~]/.test(i)||i==")"&&hme(t,e,a,")")>hme(t,e,a,"("))a--;else if(i==";"&&(d=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,a))))a=e+d.index;else break}return a}function mme(t,e){fme.lastIndex=e;let r=fme.exec(t);if(!r)return-1;let a=r[0][r[0].length-1];return a=="_"||a=="-"?-1:e+r[0].length-(a=="."?1:0)}const eRe={parseInline:[{name:"Autolink",parse(t,e,r){let a=r-t.offset;cme.lastIndex=a;let i=cme.exec(t.text),d=-1;return!i||(i[1]||i[2]?d=J7e(t.text,a+i[0].length):i[3]?d=mme(t.text,a):(d=mme(t.text,a+i[0].length),d>-1&&i[0]=="xmpp:"&&(dme.lastIndex=d,i=dme.exec(t.text),i&&(d=i.index+i[0].length))),d<0)?-1:(t.addElement(t.elt("URL",r,d+t.offset)),d+t.offset)}}]},tRe=[G7e,q7e,X7e,eRe];function nOe(t,e,r){return(a,i,d)=>{if(i!=t||a.char(d+1)==t)return-1;let f=[a.elt(r,d,d+1)];for(let h=d+1;h<a.end;h++){let u=a.char(h);if(u==t)return a.addElement(a.elt(e,d,h+1,f.concat(a.elt(r,h,h+1))));if(u==92&&f.push(a.elt("Escape",h,h+++2)),Ip(u))break}return-1}}const nRe={defineNodes:[{name:"Superscript",style:Qt.special(Qt.content)},{name:"SuperscriptMark",style:Qt.processingInstruction}],parseInline:[{name:"Superscript",parse:nOe(94,"Superscript","SuperscriptMark")}]},rRe={defineNodes:[{name:"Subscript",style:Qt.special(Qt.content)},{name:"SubscriptMark",style:Qt.processingInstruction}],parseInline:[{name:"Subscript",parse:nOe(126,"Subscript","SubscriptMark")}]},oRe={defineNodes:[{name:"Emoji",style:Qt.character}],parseInline:[{name:"Emoji",parse(t,e,r){let a;return e!=58||!(a=/^[a-zA-Z_0-9]+:/.exec(t.slice(r+1,t.end)))?-1:t.addElement(t.elt("Emoji",r,r+1+a[0].length))}}]},sRe=54,aRe=1,iRe=55,lRe=2,cRe=56,uRe=3,gme=4,fRe=5,zH=6,rOe=7,oOe=8,sOe=9,aOe=10,dRe=11,hRe=12,mRe=13,ooe=57,gRe=14,pme=58,iOe=20,pRe=22,lOe=23,vRe=24,jse=26,cOe=27,yRe=28,bRe=31,ORe=34,xRe=36,SRe=37,wRe=0,TRe=1,CRe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},kRe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},vme={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function ARe(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function uOe(t){return t==9||t==10||t==13||t==32}let yme=null,bme=null,Ome=0;function qse(t,e){let r=t.pos+e;if(Ome==r&&bme==t)return yme;let a=t.peek(e);for(;uOe(a);)a=t.peek(++e);let i="";for(;ARe(a);)i+=String.fromCharCode(a),a=t.peek(++e);return bme=t,Ome=r,yme=i?i.toLowerCase():a==PRe||a==MRe?void 0:null}const fOe=60,ZH=62,vle=47,PRe=63,MRe=33,ERe=45;function xme(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let r=0;r<t.length;r++)this.hash+=(this.hash<<4)+t.charCodeAt(r)+(t.charCodeAt(r)<<8)}const _Re=[zH,aOe,rOe,oOe,sOe],RRe=new wie({start:null,shift(t,e,r,a){return _Re.indexOf(e)>-1?new xme(qse(a,1)||"",t):t},reduce(t,e){return e==iOe&&t?t.parent:t},reuse(t,e,r,a){let i=e.type.id;return i==zH||i==xRe?new xme(qse(a,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),DRe=new hh((t,e)=>{if(t.next!=fOe){t.next<0&&e.context&&t.acceptToken(ooe);return}t.advance();let r=t.next==vle;r&&t.advance();let a=qse(t,0);if(a===void 0)return;if(!a)return t.acceptToken(r?gRe:zH);let i=e.context?e.context.name:null;if(r){if(a==i)return t.acceptToken(dRe);if(i&&kRe[i])return t.acceptToken(ooe,-2);if(e.dialectEnabled(wRe))return t.acceptToken(hRe);for(let d=e.context;d;d=d.parent)if(d.name==a)return;t.acceptToken(mRe)}else{if(a=="script")return t.acceptToken(rOe);if(a=="style")return t.acceptToken(oOe);if(a=="textarea")return t.acceptToken(sOe);if(CRe.hasOwnProperty(a))return t.acceptToken(aOe);i&&vme[i]&&vme[i][a]?t.acceptToken(ooe,-1):t.acceptToken(zH)}},{contextual:!0}),$Re=new hh(t=>{for(let e=0,r=0;;r++){if(t.next<0){r&&t.acceptToken(pme);break}if(t.next==ERe)e++;else if(t.next==ZH&&e>=2){r>=3&&t.acceptToken(pme,-2);break}else e=0;t.advance()}});function LRe(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const IRe=new hh((t,e)=>{if(t.next==vle&&t.peek(1)==ZH){let r=e.dialectEnabled(TRe)||LRe(e.context);t.acceptToken(r?fRe:gme,2)}else t.next==ZH&&t.acceptToken(gme,1)});function yle(t,e,r){let a=2+t.length;return new hh(i=>{for(let d=0,f=0,h=0;;h++){if(i.next<0){h&&i.acceptToken(e);break}if(d==0&&i.next==fOe||d==1&&i.next==vle||d>=2&&d<a&&i.next==t.charCodeAt(d-2))d++,f++;else if((d==2||d==a)&&uOe(i.next))f++;else if(d==a&&i.next==ZH){h>f?i.acceptToken(e,-f):i.acceptToken(r,-(f-2));break}else if((i.next==10||i.next==13)&&h){i.acceptToken(e,1);break}else d=f=0;i.advance()}})}const NRe=yle("script",sRe,aRe),BRe=yle("style",iRe,lRe),QRe=yle("textarea",cRe,uRe),FRe=RS({"Text RawText":Qt.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Qt.angleBracket,TagName:Qt.tagName,"MismatchedCloseTag/TagName":[Qt.tagName,Qt.invalid],AttributeName:Qt.attributeName,"AttributeValue UnquotedAttributeValue":Qt.attributeValue,Is:Qt.definitionOperator,"EntityReference CharacterReference":Qt.character,Comment:Qt.blockComment,ProcessingInst:Qt.processingInstruction,DoctypeDecl:Qt.documentMeta}),VRe=AS.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:RRe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[FRe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[NRe,BRe,QRe,IRe,DRe,$Re,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function dOe(t,e){let r=Object.create(null);for(let a of t.getChildren(lOe)){let i=a.getChild(vRe),d=a.getChild(jse)||a.getChild(cOe);i&&(r[e.read(i.from,i.to)]=d?d.type.id==jse?e.read(d.from+1,d.to-1):e.read(d.from,d.to):"")}return r}function Sme(t,e){let r=t.getChild(pRe);return r?e.read(r.from,r.to):" "}function soe(t,e,r){let a;for(let i of r)if(!i.attrs||i.attrs(a||(a=dOe(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function hOe(t=[],e=[]){let r=[],a=[],i=[],d=[];for(let h of t)(h.tag=="script"?r:h.tag=="style"?a:h.tag=="textarea"?i:d).push(h);let f=e.length?Object.create(null):null;for(let h of e)(f[h.name]||(f[h.name]=[])).push(h);return jve((h,u)=>{let p=h.type.id;if(p==yRe)return soe(h,u,r);if(p==bRe)return soe(h,u,a);if(p==ORe)return soe(h,u,i);if(p==iOe&&d.length){let v=h.node,y=v.firstChild,b=y&&Sme(y,u),x;if(b){for(let k of d)if(k.tag==b&&(!k.attrs||k.attrs(x||(x=dOe(v,u))))){let C=v.lastChild,w=C.type.id==SRe?C.from:v.to;if(w>y.to)return{parser:k.parser,overlay:[{from:y.to,to:w}]}}}}if(f&&p==lOe){let v=h.node,y;if(y=v.firstChild){let b=f[u.read(y.from,y.to)];if(b)for(let x of b){if(x.tagName&&x.tagName!=Sme(v.parent,u))continue;let k=v.lastChild;if(k.type.id==jse){let C=k.from+1,w=k.lastChild,T=k.to-(w&&w.isError?0:1);if(T>C)return{parser:x.parser,overlay:[{from:C,to:T}]}}else if(k.type.id==cOe)return{parser:x.parser,overlay:[{from:k.from,to:k.to}]}}}}return null})}const zRe=96,wme=1,ZRe=97,HRe=98,Tme=2,mOe=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],URe=58,WRe=40,gOe=95,YRe=91,WZ=45,XRe=46,GRe=35,jRe=37,qRe=38,KRe=92,JRe=10;function HH(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function eDe(t){return t>=48&&t<=57}const tDe=new hh((t,e)=>{for(let r=!1,a=0,i=0;;i++){let{next:d}=t;if(HH(d)||d==WZ||d==gOe||r&&eDe(d))!r&&(d!=WZ||i>0)&&(r=!0),a===i&&d==WZ&&a++,t.advance();else if(d==KRe&&t.peek(1)!=JRe)t.advance(),t.next>-1&&t.advance(),r=!0;else{r&&t.acceptToken(d==WRe?ZRe:a==2&&e.canShift(Tme)?Tme:HRe);break}}}),nDe=new hh(t=>{if(mOe.includes(t.peek(-1))){let{next:e}=t;(HH(e)||e==gOe||e==GRe||e==XRe||e==YRe||e==URe||e==WZ||e==qRe)&&t.acceptToken(zRe)}}),rDe=new hh(t=>{if(!mOe.includes(t.peek(-1))){let{next:e}=t;if(e==jRe&&(t.advance(),t.acceptToken(wme)),HH(e)){do t.advance();while(HH(t.next));t.acceptToken(wme)}}}),oDe=RS({"AtKeyword import charset namespace keyframes media supports":Qt.definitionKeyword,"from to selector":Qt.keyword,NamespaceName:Qt.namespace,KeyframeName:Qt.labelName,KeyframeRangeName:Qt.operatorKeyword,TagName:Qt.tagName,ClassName:Qt.className,PseudoClassName:Qt.constant(Qt.className),IdName:Qt.labelName,"FeatureName PropertyName":Qt.propertyName,AttributeName:Qt.attributeName,NumberLiteral:Qt.number,KeywordQuery:Qt.keyword,UnaryQueryOp:Qt.operatorKeyword,"CallTag ValueName":Qt.atom,VariableName:Qt.variableName,Callee:Qt.operatorKeyword,Unit:Qt.unit,"UniversalSelector NestingSelector":Qt.definitionOperator,MatchOp:Qt.compareOperator,"ChildOp SiblingOp, LogicOp":Qt.logicOperator,BinOp:Qt.arithmeticOperator,Important:Qt.modifier,Comment:Qt.blockComment,ColorLiteral:Qt.color,"ParenthesizedContent StringLiteral":Qt.string,":":Qt.punctuation,"PseudoOp #":Qt.derefOperator,"; ,":Qt.separator,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace}),sDe={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},aDe={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},iDe={__proto__:null,not:128,only:128},lDe=AS.deserialize({version:14,states:"9bQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DPO$vQ[O'#DTOOQP'#Ej'#EjO${QdO'#DeO%gQ[O'#DrO${QdO'#DtO%xQ[O'#DvO&TQ[O'#DyO&]Q[O'#EPO&kQ[O'#EROOQS'#Ei'#EiOOQS'#EU'#EUQYQ[OOO&rQXO'#CdO'gQWO'#DaO'lQWO'#EpO'wQ[O'#EpQOQWOOP(RO#tO'#C_POOO)C@X)C@XOOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(^Q[O'#EXO(xQWO,58{O)QQ[O,59SO$qQ[O,59kO$vQ[O,59oO(^Q[O,59sO(^Q[O,59uO(^Q[O,59vO)]Q[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)dQWO,59SO)iQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)nQ`O,59oOOQS'#Cp'#CpO${QdO'#CqO)vQvO'#CsO+TQtO,5:POOQO'#Cx'#CxO)iQWO'#CwO+iQWO'#CyOOQS'#Em'#EmOOQO'#Dh'#DhO+nQ[O'#DoO+|QWO'#EqO&]Q[O'#DmO,[QWO'#DpOOQO'#Er'#ErO({QWO,5:^O,aQpO,5:`OOQS'#Dx'#DxO,iQWO,5:bO,nQ[O,5:bOOQO'#D{'#D{O,vQWO,5:eO,{QWO,5:kO-TQWO,5:mOOQS-E8S-E8SO${QdO,59{O-]Q[O'#EZO-jQWO,5;[O-jQWO,5;[POOO'#ET'#ETP-uO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.lQXO,5:sOOQO-E8V-E8VOOQS1G.g1G.gOOQP1G.n1G.nO)dQWO1G.nO)iQWO1G.nOOQP1G/V1G/VO.yQ`O1G/ZO/dQXO1G/_O/zQXO1G/aO0bQXO1G/bO0xQWO,59zO0}Q[O'#DOO1UQdO'#CoOOQP1G/Z1G/ZO${QdO1G/ZO1]QpO,59]OOQS,59_,59_O${QdO,59aO1eQWO1G/kOOQS,59c,59cO1jQ!bO,59eO1rQWO'#DhO1}QWO,5:TO2SQWO,5:ZO&]Q[O,5:VO&]Q[O'#E[O2[QWO,5;]O2gQWO,5:XO(^Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2xQWO1G/|O2}QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO3YQtO1G/gOOQO,5:u,5:uO3pQ[O,5:uOOQO-E8X-E8XO3}QWO1G0vPOOO-E8R-E8RPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$u7+$uO${QdO7+$uOOQS1G/f1G/fO4YQXO'#EoO4aQWO,59jO4fQtO'#EVO5ZQdO'#ElO5eQWO,59ZO5jQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5rQWO1G/PO${QdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5wQWO,5:vOOQO-E8Y-E8YO6VQXO1G/vOOQS7+%h7+%hO6^QYO'#CsOOQO'#EO'#EOO6iQ`O'#D}OOQO'#D}'#D}O6tQWO'#E]O6|QdO,5:hOOQS,5:h,5:hO7XQtO'#EYO${QdO'#EYO8VQdO7+%ROOQO7+%R7+%ROOQO1G0a1G0aO8jQpO<<HaO8rQWO,5;ZOOQP1G/U1G/UOOQS-E8T-E8TO${QdO'#EWO8zQWO,5;WOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO9SQdO7+%ZOOQO7+%b7+%bOOQO,5:i,5:iO3QQdO'#E^O6tQWO,5:wOOQS,5:w,5:wOOQS-E8Z-E8ZOOQS1G0S1G0SO9ZQtO,5:tOOQS-E8W-E8WOOQO<<Hm<<HmOOQPAN={AN={O:XQdO,5:rOOQO-E8U-E8UOOQO<<Hu<<HuOOQO,5:x,5:xOOQO-E8[-E8[OOQS1G0c1G0c",stateData:":k~O#WOS#XQQ~OUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#URO#_TO~OQfOUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#UeO#_TO~O#R#dP~P!ZO#XjO~O#UlO~O]qO^qOpoOtrOxsO|tO!PvO#SuO#_nO~O!RwO~P#pO`}O#TzO#UyO~O#U!OO~O#U!QO~OQ!ZOb!TOf!ZOh!ZOn!YO#T!WO#U!SO#b!UO~Ob!]O!b!_O!e!`O#U![O!R#eP~Oh!eOn!YO#U!dO~Oh!gO#U!gO~Ob!]O!b!_O!e!`O#U![O~O!W#eP~P%gO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#SWX#_WX~O]!lO~O!W!mO#R#dX!Q#dX~O#R#dX!Q#dX~P!ZO#Y!pO#Z!pO#[!rO~OUYOXYO]VO^VOtWOxXO#URO#_TO~OpoO!RwO~O`!yO#TzO#UyO~O!Q#dP~P!ZOb#QO~Ob#RO~Ov#SOz#TO~OP#VObgXjgX!WgX!bgX!egX#UgXagXQgXfgXhgXngXpgX!VgX#RgX#TgX#bgXvgX!QgX~Ob!]Oj#WO!b!_O!e!`O#U![O!W#eP~Ob#ZO~Ob!]O!b!_O!e!`O#U#[O~Op#`O!`#_O!R#eX!W#eX~Ob#cO~Oj#WO!W#eO~O!W#fO~Oh#gOn!YO~O!R#hO~O!RwO!`#_O~O!RwO!W#kO~O!W!}X#R!}X!Q!}X~P!ZO!W!mO#R#da!Q#da~O#Y!pO#Z!pO#[#rO~O]qO^qOtrOxsO|tO!PvO#SuO#_nO~Op!{a!R!{aa!{a~P.QOv#tOz#uO~O]qO^qOtrOxsO#_nO~Op{i|{i!P{i!R{i#S{ia{i~P/ROp}i|}i!P}i!R}i#S}ia}i~P/ROp!Oi|!Oi!P!Oi!R!Oi#S!Oia!Oi~P/RO!Q#vO~Oa#cP~P(^Oa#`P~P${Oa#}Oj#WO~O!W$PO~Oh$QOo$QO~O]!^Xa![X!`![X~O]$RO~Oa$SO!`#_O~Op#`O!R#ea!W#ea~O!`#_Op!aa!R!aa!W!aaa!aa~O!W$XO~O!Q$`O#U$ZO#b$YO~Oj#WOp$bO!V$dO!W!Ti#R!Ti!Q!Ti~P${O!W!}a#R!}a!Q!}a~P!ZO!W!mO#R#di!Q#di~Oa#cX~P#pOa$hO~Oj#WOQ!yXa!yXb!yXf!yXh!yXn!yXp!yX#T!yX#U!yX#b!yX~Op$jOa#`X~P${Oa$lO~Oj#WOv$mO~Oa$nO~O!`#_Op#Oa!R#Oa!W#Oa~Oa$pO~P.QOP#VOpgX!RgX~O#b$YOp!qX!R!qX~Op$rO!RwO~O!Q$vO#U$ZO#b$YO~Oj#WOQ!|Xb!|Xf!|Xh!|Xn!|Xp!|X!V!|X!W!|X#R!|X#T!|X#U!|X#b!|X!Q!|X~Op$bO!V$yO!W!Tq#R!Tq!Q!Tq~P${Oj#WOv$zO~OpoOa#ca~Op$jOa#`a~Oa$}O~P${Oj#WOQ!|ab!|af!|ah!|an!|ap!|a!V!|a!W!|a#R!|a#T!|a#U!|a#b!|a!Q!|a~Oa!zap!za~P${O#Wo#X#bj!P#b~",goto:"-Y#gPPP#hP#kP#t$TP#t$d#tPP$jPPP$p$y$yP%]P$yP$y%w&ZPPP&s&y#tP'PP#tP'VP#tP#t#tPPP']'r(PPP#kPP(W(W(b(WP(WP(W(WP#kP#kP#kP(e#kP(h(k(n(u#kP#kP(z)Q)a)o)u*P*V*a*g*mPPPPPPPPPP*s*|P+i+lP,b,e,k,tRkQ_bOPdhw!m#nkYOPdhotuvw!m#Q#c#nkSOPdhotuvw!m#Q#c#nQmTR!snQ{VR!wqQ!w}Q#Y!XR#s!yq!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${U$]#h$_$rR$q$[q!XZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${Q!e^R#g!fQ|VR!xqQ!w|R#s!xQ!PWR!zrQ!RXR!{sQxUQ!vpQ#d!bQ#j!iQ#k!jQ$t$^R%Q$sSgPwQ!ohQ#m!mR$e#nZfPhw!m#na!a[`a!V!]!_#_#`R#]!]R!f^R!h_R#i!hS$^#h$_R%O$rV$[#h$_$rQ!qjR#q!qQdOShPwU!kdh#nR#n!mQ#z#RU$i#z$o${Q$o$RR${$jQ$k#zR$|$kQpUS!up$gR$g#wQ$c#lR$x$cQ!ngS#o!n#pR#p!oQ#a!^R$V#aQ$_#hR$u$_Q$s$^R%P$s_cOPdhw!m#n^UOPdhw!m#nQ!toQ!|tQ!}uQ#OvQ#w#QR$W#cR#{#RQ!VZQ!c]Q#U!TQ#l!l[#y#R#z$R$j$o${Q#|#TQ$O#WS$a#l$cQ$f#uR$w$bR#x#QQiPR#PwQ!b[Q!jaR#X!VU!^[a!VQ!i`Q#^!]Q#b!_Q$T#_R$U#`",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:114,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[oDe],skippedNodes:[0,3,85],repeatNodeCount:10,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#W~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#W~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!V[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYtQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QSzSo`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!PQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#b[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#b[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSp^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#_QOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#X~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!W^Oy%^z;'S%^;'S;=`%o<%lO%^dCoSzSOy%^z;'S%^;'S;=`%o<%lO%^bDQU|QOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS|Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!YQo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bFfSxQOy%^z;'S%^;'S;=`%o<%lO%^lFwSv[Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!`Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!RUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!Q^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!PQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[nDe,rDe,tDe,1,2,3,4,new CH("m~RRYZ[z{a~~g~aO#Z~~dP!P!Qg~lO#[~~",28,102)],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:97,get:t=>sDe[t]||-1},{term:56,get:t=>aDe[t]||-1},{term:98,get:t=>iDe[t]||-1}],tokenPrec:1169});let aoe=null;function ioe(){if(!aoe&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],r=new Set;for(let a in t)a!="cssText"&&a!="cssFloat"&&typeof t[a]=="string"&&(/[A-Z]/.test(a)&&(a=a.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),r.has(a)||(e.push(a),r.add(a)));aoe=e.sort().map(a=>({type:"property",label:a}))}return aoe||[]}const Cme=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),kme=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),cDe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),oS=/^(\w[\w-]*|-\w[\w-]*|)$/,uDe=/^-(-[\w-]*)?$/;function fDe(t,e){var r;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let a=(r=t.parent)===null||r===void 0?void 0:r.firstChild;return(a==null?void 0:a.name)!="Callee"?!1:e.sliceString(a.from,a.to)=="var"}const Ame=new eie,dDe=["Declaration"];function hDe(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function pOe(t,e,r){if(e.to-e.from>4096){let a=Ame.get(e);if(a)return a;let i=[],d=new Set,f=e.cursor(vl.IncludeAnonymous);if(f.firstChild())do for(let h of pOe(t,f.node,r))d.has(h.label)||(d.add(h.label),i.push(h));while(f.nextSibling());return Ame.set(e,i),i}else{let a=[],i=new Set;return e.cursor().iterate(d=>{var f;if(r(d)&&d.matchContext(dDe)&&((f=d.node.nextSibling)===null||f===void 0?void 0:f.name)==":"){let h=t.sliceString(d.from,d.to);i.has(h)||(i.add(h),a.push({label:h,type:"variable"}))}}),a}}const mDe=t=>e=>{let{state:r,pos:a}=e,i=rl(r).resolveInner(a,-1),d=i.type.isError&&i.from==i.to-1&&r.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(d||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:ioe(),validFor:oS};if(i.name=="ValueName")return{from:i.from,options:kme,validFor:oS};if(i.name=="PseudoClassName")return{from:i.from,options:Cme,validFor:oS};if(t(i)||(e.explicit||d)&&fDe(i,r.doc))return{from:t(i)||d?i.from:a,options:pOe(r.doc,hDe(i),t),validFor:uDe};if(i.name=="TagName"){for(let{parent:u}=i;u;u=u.parent)if(u.name=="Block")return{from:i.from,options:ioe(),validFor:oS};return{from:i.from,options:cDe,validFor:oS}}if(!e.explicit)return null;let f=i.resolve(a),h=f.childBefore(a);return h&&h.name==":"&&f.name=="PseudoClassSelector"?{from:a,options:Cme,validFor:oS}:h&&h.name==":"&&f.name=="Declaration"||f.name=="ArgList"?{from:a,options:kme,validFor:oS}:f.name=="Block"||f.name=="Styles"?{from:a,options:ioe(),validFor:oS}:null},gDe=mDe(t=>t.name=="VariableName"),UH=CS.define({name:"css",parser:lDe.configure({props:[BC.add({Declaration:QD()}),DS.add({"Block KeyframeList":aie})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function pDe(){return new DC(UH,UH.data.of({autocomplete:gDe}))}const vDe=304,Pme=1,yDe=2,bDe=305,ODe=307,xDe=308,SDe=3,wDe=4,TDe=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],vOe=125,CDe=59,Mme=47,kDe=42,ADe=43,PDe=45,MDe=new wie({start:!1,shift(t,e){return e==SDe||e==wDe||e==ODe?t:e==xDe},strict:!1}),EDe=new hh((t,e)=>{let{next:r}=t;(r==vOe||r==-1||e.context)&&t.acceptToken(bDe)},{contextual:!0,fallback:!0}),_De=new hh((t,e)=>{let{next:r}=t,a;TDe.indexOf(r)>-1||r==Mme&&((a=t.peek(1))==Mme||a==kDe)||r!=vOe&&r!=CDe&&r!=-1&&!e.context&&t.acceptToken(vDe)},{contextual:!0}),RDe=new hh((t,e)=>{let{next:r}=t;if((r==ADe||r==PDe)&&(t.advance(),r==t.next)){t.advance();let a=!e.context&&e.canShift(Pme);t.acceptToken(a?Pme:yDe)}},{contextual:!0}),DDe=RS({"get set async static":Qt.modifier,"for while do if else switch try catch finally return throw break continue default case":Qt.controlKeyword,"in of await yield void typeof delete instanceof":Qt.operatorKeyword,"let var const using function class extends":Qt.definitionKeyword,"import export from":Qt.moduleKeyword,"with debugger as new":Qt.keyword,TemplateString:Qt.special(Qt.string),super:Qt.atom,BooleanLiteral:Qt.bool,this:Qt.self,null:Qt.null,Star:Qt.modifier,VariableName:Qt.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Qt.function(Qt.variableName),VariableDefinition:Qt.definition(Qt.variableName),Label:Qt.labelName,PropertyName:Qt.propertyName,PrivatePropertyName:Qt.special(Qt.propertyName),"CallExpression/MemberExpression/PropertyName":Qt.function(Qt.propertyName),"FunctionDeclaration/VariableDefinition":Qt.function(Qt.definition(Qt.variableName)),"ClassDeclaration/VariableDefinition":Qt.definition(Qt.className),PropertyDefinition:Qt.definition(Qt.propertyName),PrivatePropertyDefinition:Qt.definition(Qt.special(Qt.propertyName)),UpdateOp:Qt.updateOperator,"LineComment Hashbang":Qt.lineComment,BlockComment:Qt.blockComment,Number:Qt.number,String:Qt.string,Escape:Qt.escape,ArithOp:Qt.arithmeticOperator,LogicOp:Qt.logicOperator,BitOp:Qt.bitwiseOperator,CompareOp:Qt.compareOperator,RegExp:Qt.regexp,Equals:Qt.definitionOperator,Arrow:Qt.function(Qt.punctuation),": Spread":Qt.punctuation,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace,"InterpolationStart InterpolationEnd":Qt.special(Qt.brace),".":Qt.derefOperator,", ;":Qt.separator,"@":Qt.meta,TypeName:Qt.typeName,TypeDefinition:Qt.definition(Qt.typeName),"type enum interface implements namespace module declare":Qt.definitionKeyword,"abstract global Privacy readonly override":Qt.modifier,"is keyof unique infer":Qt.operatorKeyword,JSXAttributeValue:Qt.attributeValue,JSXText:Qt.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Qt.angleBracket,"JSXIdentifier JSXNameSpacedName":Qt.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Qt.attributeName,"JSXBuiltin/JSXIdentifier":Qt.standard(Qt.tagName)}),$De={__proto__:null,export:16,as:21,from:29,default:32,async:37,function:38,extends:48,this:52,true:60,false:60,null:72,void:76,typeof:80,super:98,new:132,delete:148,yield:157,await:161,class:166,public:223,private:223,protected:223,readonly:225,instanceof:244,satisfies:247,in:248,const:250,import:282,keyof:337,unique:341,infer:347,is:383,abstract:403,implements:405,type:407,let:410,var:412,using:415,interface:421,enum:425,namespace:431,module:433,declare:437,global:441,for:460,of:469,while:472,with:476,do:480,if:484,else:486,switch:490,case:496,try:502,catch:506,finally:510,return:514,throw:518,break:522,continue:526,debugger:530},LDe={__proto__:null,async:119,get:121,set:123,declare:183,public:185,private:185,protected:185,static:187,abstract:189,override:191,readonly:197,accessor:199,new:387},IDe={__proto__:null,"<":139},NDe=AS.deserialize({version:14,states:"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AfQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AnQSO,5=sO!AsQSO,5=sO!AxQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BWQWO,5=`O!B`Q,UO,5=aO!BkQSO,5=cO!BpQ`O,5=fO!BxQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!B}QSO'#HRO9{Q,UO'#HTO!CSQSO'#HTOOQQ,5=i,5=iO!CXQSO'#HUO!CjQSO'#CmO!CoQSO,58}O!CyQSO,58}O!FOQUO,58}OOQQ,58},58}O!F`Q(C[O,58}O%[QUO,58}O!HkQUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!IRQSO,5=uO`QUO,5={O`QUO,5=}O!IWQSO,5>PO`QUO,5>RO!I]QSO,5>UO!IbQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!MlQSO,5>fOOQQ,5>h,5>hO!MlQSO,5>hOOQQ,5>j,5>jO!MqQWO'#DYO%[QUO'#JiO!N`QWO'#JiO!N}QWO'#DhO# `QWO'#DhO##qQUO'#DhO##xQSO'#JhO#$QQSO,5:RO#$VQSO'#EnO#$eQSO'#JvO#$mQSO,5;XO#$rQWO'#DhO#%PQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#%WQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%`QSO,5@TO#%eQ!LQO,5:pOOQO-E<_-E<_O#&kQ(C`O,5:{OChQWO,5:oO#&uQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#'SQ(C[O,5:{O#'_Q(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'mQ(C[O,5:{POOO'#IU'#IUP#(RO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(^Q`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(cQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(mQUO'#I[OOQO-E<Y-E<YO#(zQSO,5@RO#)SQbO,5@RO#)ZQSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)cQSO'#IbOOQO-E<`-E<`O#)ZQSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)wQ(C[O,5@^O#*YQ(C[O,5@^O#*aQSO,5@]O9TQSO,5@]O#*iQSO,5@]O#*wQSO'#IeO#*aQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+iQSO,5:tO#+qQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#,PQ(CjO1G0oO#-UQ(ChO,5;POOQ(CY'#GQ'#GQO#-rQ(CjO'#J`O!$ZQUO1G0oO#/zQ,UO'#JjO#0UQSO,5:]O#0ZQbO'#JkO%[QUO'#JkO#0eQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0jQSO1G0xO#3RQ(CjO1G0yO#3YQ(CjO1G0yO#5sQ(CjO1G0yO#5zQ(CjO1G0yO#8UQ(CjO1G0yO#8lQ(CjO1G0yO#;fQ(CjO1G0yO#;mQ(CjO1G0yO#>WQ(CjO1G0yO#>_Q(CjO1G0yO#@VQ(CjO1G0yO#CVQ$IUO'#CgO#ETQ$IUO1G1[O#E[Q$IUO'#JfO!,YQSO1G1bO#ElQ(CjO,5?SOOQ(CW-E<f-E<fO#F`Q(CjO1G0yOOQ(CY1G0y1G0yO#HkQ(CjO1G1_O#I_Q#tO,5<SO#IgQ#tO,5<TO#IoQ#tO'#FkO#JWQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#J]Q#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JnQ$IUO'#JeO#JxQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#J}QWO'#JyOOQ(CY,5<`,5<`O#KVQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#K[O07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KgQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KnQ`O'#CpO#LRQ`O,5<mO#LYQSO'#J}O9ZQSO'#J}O#LhQSO,5<oO!'vQ,UO,5<nO#LmQSO'#GTO#LxQSO,5<nO#L}Q`O'#GQO#M[Q`O'#KOO#MfQSO'#KOO!&^Q,UO'#KOO#MkQSO,5<rO#MpQWO'#G]O!3{QWO'#G]O#NRQSO'#G_O#NWQSO'#GaO!2|QSO'#GdO#N]Q(C[O'#IlO#NhQWO,5<vOOQ(CY,5<v,5<vO#NoQWO'#G]O#N}QWO'#G^O$ VQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ [QSO'#ImO$ gQSO,5?xO$ oQSO,59^O$!`Q,UO,59oOOQ(CY,59o,59oO$#RQ,UO,5<eO$#tQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$$OQSO,5<pO$$TQ,UO,5<uO$$eQSO'#JqO!$ZQUO1G1|O$$jQSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$oQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&tQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'eQSO1G2rO$'pQ,UO'#EeOOQ(CW,5?v,5?vO$'zQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(]QSO1G0oO$(bQSO'#CgO$(mQSO'#KWO$(uQSO,5=tO$(zQSO'#KWO$)PQSO'#KWO$)_QSO'#IuO$)mQSO,5@qO$)uQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)|QSO1G3_O$*RQSO1G3_OOQQ1G3_1G3_O!BkQSO1G2}O!&^Q,UO1G2zO$*WQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$*]QSO1G2{O$*eQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BpQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*mQ,UO,5=mO9ZQSO,5=mO#NWQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*{QSO'#KUO$+WQSO,5=pOOQQ1G.i1G.iO$+]Q(C[O1G.iO@[QSO1G.iO$+hQSO1G.iO9eQ(C[O1G.iO$-mQbO,5@sO$-}QSO,5@sO9TQSO,5@sO$.YQUO,5=wO$.aQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.fQUO1G3mO$2jQUO'#HlOOQQ1G3p1G3pO$2wQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$3PQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$7WQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$7]Q$IUO,5:SOOQO,5;Y,5;YO$7gQWO'#I]O$7}QSO,5@SOOQ(CY1G/m1G/mO$8VQWO'#IcO$8aQSO,5@bOOQ(CW1G0s1G0sO# `QWO,5:SOOQO'#I`'#I`O$8iQWO,5:nOOQ(CY,5:n,5:nO#%ZQSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8pQ(C[O1G0gO$8{Q(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$9ZQ(C[O1G0gOOQO1G0Z1G0ZO$9oQ(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9yQ`O,5<dO$:RQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$:]QSO1G5mO$:eQSO1G5zO$:mQbO1G5{O9TQSO,5>|O$:wQ(CjO1G5xO%[QUO1G5xO$;XQ(C[O1G5xO$;jQSO1G5wO$;jQSO1G5wO9TQSO1G5wO$;rQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$<WQSO,5?PO$$eQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<fQSO7+(^O$<qQ,UO7+(^O$=PQ(CjO,59oO$?XQ(CjO,5<eO$AdQ(CjO,5<gO$CoQ(CjO,5<uOOQ(CY7+&Z7+&ZO$FQQ(CjO7+&ZO$FtQ,UO'#I^O$GOQSO,5@UOOQ(CY1G/w1G/wO$GWQUO'#I_O$GeQSO,5@VO$GmQbO,5@VOOQ(CY1G/|1G/|O$GwQSO7+&dOOQ(CY7+&d7+&dO$G|Q$IUO,5:cO%[QUO7+&vO$HWQ$IUO,5:ZO$HeQ$IUO,5:gO$HoQ$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HyQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$IUQSO1G1xOOQ(CY1G1z1G1zO$IZQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IbQ(CjO7+'gOOQ(CY,5?U,5?UO$JUQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JtQ,UO1G2lO$KgQ,UO1G2nO$KqQ`O1G2pOOQ(CY1G2X1G2XO$KxQSO'#IiO$LWQSO,5@iO$LWQSO,5@iO$L`QSO,5@iO$LkQSO,5@iOOQO1G2Z1G2ZO$LyQ,UO1G2YO!'vQ,UO1G2YO$MZQMhO'#IkO$MkQSO,5@jO!&^Q,UO,5@jO$MsQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$eQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$M}QSO,5<yOOQ(CW,5<{,5<{O$$eQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$NVQSO,5<xO#NRQSO,5<yO!3{QWO,5<xO$NbQ,UO1G5eO$NlQ,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NyQSO1G2TO!'vQ,UO1G2[O% OQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% rQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% wQ`O'#KPO#%ZQSO7+(^O%!RQbO7+(^O$<iQSO7+(^O%!YQ(ChO'#CgO%!mQ(ChO,5<|O%#_QSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#dQSO'#ItO%#{QSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#{QSO,5@rO%$TQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%$YQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%$_Q(ChO7+(fO!&^Q,UO7+(fO%$iQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$pQSO'#KTO%${QSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%&[QWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&cQSO1G3XO%&nQ,UO1G3XO9eQ(C[O1G3ZO#NWQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&|QSO'#IsO%'bQSO,5@pO%'jQWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'uQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'zQ(C[O1G6_O%(UQUO1G3cO%(]QSO1G3cO%(bQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%(iQUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(vQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%({QWO1G5oO%)aQ$IUO1G0tO%)kQSO1G0tOOQO1G/n1G/nO%)vQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#%ZQSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9oQ(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%*QQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%*]Q(C[O7+&RO%*kQ(CjO7++dO%[QUO7++dO%*{QSO7++cO%*{QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%+TQSO1G4kOOQO7+%z7+%zO#%ZQSO<<KxO%!RQbO<<KxO%+cQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+kQSO<<KxO%+vQ(CjO1G2lO%.RQ(CjO1G2nO%0^Q(CjO1G2YO%2oQ,UO,5>xOOQO-E<[-E<[O%2yQbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%3TQSO1G5qOOQ(CY<<JO<<JOO%3]Q$IUO1G0oO%5gQ$IUO1G0yO%5nQ$IUO1G0yO%7rQ$IUO1G0yO%7yQ$IUO1G0yO%9nQ$IUO1G0yO%:UQ$IUO1G0yO%<iQ$IUO1G0yO%<pQ$IUO1G0yO%>tQ$IUO1G0yO%>{Q$IUO1G0yO%@sQ$IUO1G0yO%AWQ(CjO<<JbO%B]Q$IUO1G0yO%DRQ$IUO'#J`O%FUQ$IUO1G1_O%FcQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FmQSO1G1pO%FrQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%F|QSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%G[QSO1G6TO%G[QSO1G6TO%GdQSO1G6TO%GoQ,UO7+'tO%HPQ`O,5?VO%HZQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%H`Q`O1G6UO%HjQSO1G6UOOQ(CW1G2d1G2dO$$eQSO1G2dOOQ(CW1G2c1G2cO%HrQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%HwQSO1G2eO%IPQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%I[QSO1G/]OOQ(CY7+'o7+'oO%IaQ,UO7+'vO%IqQ(CjO<<KSOOQ(CY<<KS<<KSO%JeQSO1G0tO!&^Q,UO'#InO%JjQSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JrQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%KfQSO,5?`O%KkQSO,5?`OOQO-E<r-E<rO%KyQSO1G6^O%KyQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%LRQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%$_Q(ChO<<LQOOQQ<<LR<<LRO%$iQ`O<<LRO%LWQWO'#IpO%LcQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%LkQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%LuQWO,5=nOOQQ,5=n,5=nO%L|QWO'#EaO%MbQSO7+(sO%MgQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%MoQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#NWQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MzQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%NVQSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%N_QSO7++yO%NdQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%NiQSO7+(}O%NnQUO7+(}O%NuQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NzQSO,5>XOOQQ,5>Z,5>ZO& PQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO& UQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9oQ(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO& `Q(C[O<<ImO& kQ(CjO<= OO& {QSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO&!TQSOANAdO!&^Q,UOANAdO#%ZQSOANAdO%!RQbOANAdO%[QUOANAdO&!]Q(CjO7+'tO&$nQ(CjO7+'vO&'PQbO1G4eO&'ZQ$IUO7+&ZO&'hQ$IUO,59oO&)kQ$IUO,5<eO&+nQ$IUO,5<gO&-qQ$IUO,5<uO&/gQ$IUO7+'gO&/tQ$IUO7+'hO&0RQSO,5<XOOQO7+'[7+'[O&0WQ,UO<<KvOOQO1G4o1G4oO&0_QSO1G4oO&0jQSO1G4oO&0xQSO7++oO&0xQSO7++oO!&^Q,UO1G4qO&1QQ`O1G4qO&1[QSO7++pOOQ(CW7+(O7+(OO$$eQSO7+(PO&1dQ`O7+(POOQ(CW7+'}7+'}O$$eQSO7+(OO&1kQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&1pQ,UO<<NkOOQ(CY7+$w7+$wO&1zQ`O,5?YOOQO-E<l-E<lO&2UQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&2fQSO1G4zO&2kQSO7++xO&2kQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&2sQSO,5?[OOQO-E<n-E<nO&3OQ$IUO1G6ZO&5`QbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%LkQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%MbQSO<<L_O&5jQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#NWQSO<<LaO9OQSO<<LaO&5rQWO1G4yO&5}QSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&6VQSO<= eO&6[QSO<= fOOQQ<<Li<<LiO&6aQSO<<LiO&6fQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&6mQSO<<IzO&6xQ$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9oQ(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#%ZQSOG27OO&7SQSOG27OO%!RQbOG27OO&7[Q$IUO<<JbO&7iQ$IUO1G2YO&9_Q$IUO1G2lO&;bQ$IUO1G2nO&=eQ$IUO<<KSO&=rQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&>PQSO7+*ZO&>[QSO<= ZO&>dQ`O7+*]OOQ(CW<<Kk<<KkO$$eQSO<<KkOOQ(CW<<Kj<<KjO&>nQ`O<<KkO$$eQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&>uQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>}QSO7++uO%MbQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&?VQSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#NWQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&?_QSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9oQ(CjOG24sO#%ZQSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&?dQSOLD,jO&?lQ$IUO7+'tO&AbQ$IUO7+'vO&CWQ,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$eQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&ChQ$IUO7+*bOOQQG27eG27eO%MbQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&CrQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#%ZQSO!$(!UO!&^Q,UO!$(!UO&C|Q(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%MbQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#%ZQSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&F_Q$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&HTQbO'#JeO!*SQUO'#DoO&H[QUO'#D{O&HcQbO'#CgO&JyQbO'#CgO!*SQUO'#D}O&KZQUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&M^QSO,5<dO&MfQ,UO,5;_O&NyQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&MfQ,UO'#FyO!&^Q,UO'#F{O&MfQ,UO'#F{O!&^Q,UO'#GZO&MfQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&KZQUO1G0oO' QQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&MfQ,UO,5=QO!&^Q,UO,5=SO&MfQ,UO,5=SO!&^Q,UO,5<nO&MfQ,UO,5<nO&KZQUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&MfQ,UO1G2YO!&^Q,UO1G2[O&MfQ,UO1G2[O&KZQUO7+'hO&KZQUO7+&ZO!&^Q,UOANAbO&MfQ,UOANAbO' [QSO'#EiO' aQSO'#EiO' iQSO'#FXO' nQSO'#EsO' sQSO'#JuO'!OQSO'#JsO'!ZQSO,5;TO'!`Q,UO,5<aO'!gQSO'#GSO'!lQSO'#GSO'!qQSO,5<bO'!yQSO,5;TO'#RQ$IUO1G1[O'#YQSO,5<nO'#_QSO,5<nO'#dQSO,5<pO'#iQSO,5<pO'#nQSO1G1|O'#sQSO1G0oO'#xQ,UO<<KvO'$PQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KqQ`O1G2pO$KqQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U",stateData:"'%Y~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O`+eO%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O`,TO'v#mO'xTO'{UO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!DRO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!FkO!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# qO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# `O!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)wO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,sO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0oO#h$OO~P#0oOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3aOl$QO~P#3aOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#6ROY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#6ROP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#9SO(k#|O~P#9SOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;tO(l#}O~P#;tOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>fOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#APOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#C^O#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,sO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#C^O!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,sO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,sO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ tOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!jOz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#]O#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$zOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O`0gO'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+sO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#C^Om!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ tO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!jO#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#]O#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,sO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#C^O#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,sO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,sOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$J]Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$KOO(d$ZO~P#,sO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,sO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,sO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O`4`O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,sO!Y$|O~P#,sO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%%QOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O`5TO'v#mO'xTO'{UO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#C^O#Y5lO!W#bi!X#bi~O!W![i!X![i~P#C^O_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$J]O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$KOO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,sOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#C^OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%3jO#h9zO~P%3jOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5uOl9|O~P%5uOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%8QOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%8QOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:lO(k#|O~P%:lOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<wO(l#}O~P%<wOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%?SO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%AzO!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#C^O#z!oi!X!oi~P$$zO!X6`O~O!W'[a!X'[a~P#C^O!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,sO!b6gO~O!W/_O!T(ri~P#,sO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O`6zO'v+bO'xTO'{UO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%%QOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#C^O_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,sO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,sO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#C^Oz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%AzO#z$iq!W$iq!X$iq~P#C^O#z$jq!W$jq!X$jq~P#C^O!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,sO!W/_O!T(rq~O!T8_O~P#,sO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,sO_%Uq!Y%Uq'm%Uq!W%Uq~P#,sOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#C^OPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&3YO!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#C^O!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#C^OP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%AzOz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#C^O#z#]y!W#]y!X#]y~P#C^O!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,sO!T9VO~P#,sO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%AzOP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%AzOe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#C^O!W#b!Z!X#b!Z~P#C^O#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,sOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%AzOp(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&3YOPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&HpOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&MfO!XZX!XdX~P&HpO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#C^O#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~",goto:"$'X)OPPPP)PPP)SP)eP*t.xPPPP5`PP5vP;r>yP?^P?^PPP?^PAOP?^P?^P?^PASPPAXPArPFjPPPFnPPPPFnIoPPPIuJpPFnPMOPPPP! ^FnPPPFnPFnP!#lFnP!'Q!(S!(]P!)P!)T!)PPPPPP!,`!(SPP!,|!-vP!0jFnFn!0o!3y!8`!8`!<UPPP!<]FnPPPPPPPPPPP!?jP!@{PPFn!BYPFnPFnFnFnFnPFn!ClPP!FtP!IxP!I|!JW!J[!J[P!FqP!J`!J`P!MdP!MhFnFn!Mn#!q?^P?^P?^?^P##|?^?^#%x?^#(X?^#)}?^?^#*l#,j#,j#,n#,v#,j#-OP#,jP?^#-h?^#.q?^?^5`PPP#/}PPP#0h#0hP#0hP#1O#0hPP#1UP#0{P#0{#1i#0{#2T#2Z5])S#2^)SP#2e#2e#2eP)SP)SP)SP)SPP)SP#2k#2nP#2n)SP#2rP#2uP)SP)SP)SP)SP)SP)S)SPP#2{#3R#3^#3d#3j#3p#3v#4U#4[#4b#4l#4r#4|#5]#5c#6T#6g#6m#6s#7R#7h#8y#9X#9_#9e#9k#9q#9{#:R#:X#:c#:u#:{PPPPPPPPPP#;RPPPPPPP#;v#>}P#@^#@e#@mPPPP#D{#Gr#NZ#N^#Na$ Y$ ]$ `$ g$ oPP$ u$ y$!q$#p$#t$$YPP$$^$$d$$hP$$k$$o$$r$%h$&P$&h$&l$&o$&r$&x$&{$'P$'TR!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ,T&^Q/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5T1VQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:367,context:MDe,nodeProps:[["group",-26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,"Statement",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,"Expression",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,"Type",-3,85,97,103,"ClassItem"],["openedBy",32,"InterpolationStart",51,"[",55,"{",70,"(",144,"JSXStartTag",156,"JSXStartTag JSXStartCloseTag"],["closedBy",34,"InterpolationEnd",45,"]",56,"}",71,")",145,"JSXSelfCloseEndTag JSXEndTag",161,"JSXEndTag"]],propSources:[DDe],skippedNodes:[0,3,4,270],repeatNodeCount:33,tokenData:"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[_De,RDe,2,3,4,5,6,7,8,9,10,11,12,13,EDe,new CH("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~",141,328),new CH("j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~",25,310)],topRules:{Script:[0,5],SingleExpression:[1,268],SingleClassItem:[2,269]},dialects:{jsx:12842,ts:12844},dynamicPrecedences:{67:1,77:1,79:1,164:1,192:1},specialized:[{term:314,get:t=>$De[t]||-1},{term:330,get:t=>LDe[t]||-1},{term:68,get:t=>IDe[t]||-1}],tokenPrec:12868}),yOe=[hc("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),hc("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),hc("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),hc("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),hc("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),hc(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),hc("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),hc(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),hc(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),hc('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),hc('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],BDe=yOe.concat([hc("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),hc("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),hc("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Eme=new eie,bOe=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function OD(t){return(e,r)=>{let a=e.node.getChild("VariableDefinition");return a&&r(a,t),!0}}const QDe=["FunctionDeclaration"],FDe={FunctionDeclaration:OD("function"),ClassDeclaration:OD("class"),ClassExpression:()=>!0,EnumDeclaration:OD("constant"),TypeAliasDeclaration:OD("type"),NamespaceDeclaration:OD("namespace"),VariableDefinition(t,e){t.matchContext(QDe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function OOe(t,e){let r=Eme.get(e);if(r)return r;let a=[],i=!0;function d(f,h){let u=t.sliceString(f.from,f.to);a.push({label:u,type:h})}return e.cursor(vl.IncludeAnonymous).iterate(f=>{if(i)i=!1;else if(f.name){let h=FDe[f.name];if(h&&h(f,d)||bOe.has(f.name))return!1}else if(f.to-f.from>8192){for(let h of OOe(t,f.node))a.push(h);return!1}}),Eme.set(e,a),a}const _me=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,xOe=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function VDe(t){let e=rl(t.state).resolveInner(t.pos,-1);if(xOe.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&_me.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let a=[];for(let i=e;i;i=i.parent)bOe.has(i.name)&&(a=a.concat(OOe(t.state.doc,i)));return{options:a,from:r?e.from:t.pos,validFor:_me}}const ey=CS.define({name:"javascript",parser:NDe.configure({props:[BC.add({IfStatement:QD({except:/^\s*({|else\b)/}),TryStatement:QD({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Uke,SwitchBody:t=>{let e=t.textAfter,r=/^\s*\}/.test(e),a=/^\s*(case|default)\b/.test(e);return t.baseIndent+(r?0:a?1:2)*t.unit},Block:FZ({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":QD({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),DS.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":aie,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),SOe={test:t=>/^JSX/.test(t.name),facet:nie({commentTokens:{block:{open:"{/*",close:"*/}"}}})},wOe=ey.configure({dialect:"ts"},"typescript"),TOe=ey.configure({dialect:"jsx",props:[rie.add(t=>t.isTop?[SOe]:void 0)]}),COe=ey.configure({dialect:"jsx ts",props:[rie.add(t=>t.isTop?[SOe]:void 0)]},"typescript");let kOe=t=>({label:t,type:"keyword"});const AOe="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kOe),zDe=AOe.concat(["declare","implements","private","protected","public"].map(kOe));function ZDe(t={}){let e=t.jsx?t.typescript?COe:TOe:t.typescript?wOe:ey,r=t.typescript?BDe.concat(zDe):yOe.concat(AOe);return new DC(e,[ey.data.of({autocomplete:pie(xOe,SU(r))}),ey.data.of({autocomplete:VDe}),t.jsx?WDe:[]])}function HDe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function Rme(t,e,r=t.length){for(let a=e==null?void 0:e.firstChild;a;a=a.nextSibling)if(a.name=="JSXIdentifier"||a.name=="JSXBuiltin"||a.name=="JSXNamespacedName"||a.name=="JSXMemberExpression")return t.sliceString(a.from,Math.min(a.to,r));return""}const UDe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),WDe=Xo.inputHandler.of((t,e,r,a,i)=>{if((UDe?t.composing:t.compositionStarted)||t.state.readOnly||e!=r||a!=">"&&a!="/"||!ey.isActiveAt(t.state,e,-1))return!1;let d=i(),{state:f}=d,h=f.changeByRange(u=>{var p;let{head:v}=u,y=rl(f).resolveInner(v-1,-1),b;if(y.name=="JSXStartTag"&&(y=y.parent),!(f.doc.sliceString(v-1,v)!=a||y.name=="JSXAttributeValue"&&y.to>v)){if(a==">"&&y.name=="JSXFragmentTag")return{range:u,changes:{from:v,insert:"</>"}};if(a=="/"&&y.name=="JSXStartCloseTag"){let x=y.parent,k=x.parent;if(k&&x.from==v-2&&((b=Rme(f.doc,k.firstChild,v))||((p=k.firstChild)===null||p===void 0?void 0:p.name)=="JSXFragmentTag")){let C=`${b}>`;return{range:Tr.cursor(v+C.length,-1),changes:{from:v,insert:C}}}}else if(a==">"){let x=HDe(y);if(x&&!/^\/?>|^<\//.test(f.doc.sliceString(v,v+2))&&(b=Rme(f.doc,x,v)))return{range:u,changes:{from:v,insert:`</${b}>`}}}}return{range:u}});return h.changes.empty?!1:(t.dispatch([d,f.update(h,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),xD=["_blank","_self","_top","_parent"],loe=["ascii","utf-8","utf-16","latin1","latin1"],coe=["get","post","put","delete"],uoe=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],tg=["true","false"],vs={},YDe={a:{attrs:{href:null,ping:null,type:null,media:null,target:xD,hreflang:null}},abbr:vs,address:vs,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:vs,aside:vs,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:vs,base:{attrs:{href:null,target:xD}},bdi:vs,bdo:vs,blockquote:{attrs:{cite:null}},body:vs,br:vs,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:uoe,formmethod:coe,formnovalidate:["novalidate"],formtarget:xD,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:vs,center:vs,cite:vs,code:vs,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:vs,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:vs,div:vs,dl:vs,dt:vs,em:vs,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:vs,figure:vs,footer:vs,form:{attrs:{action:null,name:null,"accept-charset":loe,autocomplete:["on","off"],enctype:uoe,method:coe,novalidate:["novalidate"],target:xD}},h1:vs,h2:vs,h3:vs,h4:vs,h5:vs,h6:vs,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:vs,hgroup:vs,hr:vs,html:{attrs:{manifest:null}},i:vs,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:uoe,formmethod:coe,formnovalidate:["novalidate"],formtarget:xD,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:vs,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:vs,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:vs,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:loe,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:vs,noscript:vs,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:vs,param:{attrs:{name:null,value:null}},pre:vs,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:vs,rt:vs,ruby:vs,samp:vs,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:loe}},section:vs,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:vs,source:{attrs:{src:null,type:null,media:null}},span:vs,strong:vs,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:vs,summary:vs,sup:vs,table:vs,tbody:vs,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:vs,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:vs,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:vs,time:{attrs:{datetime:null}},title:vs,tr:vs,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:vs,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:vs},POe={accesskey:null,class:null,contenteditable:tg,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:tg,autocorrect:tg,autocapitalize:tg,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":tg,"aria-autocomplete":["inline","list","both","none"],"aria-busy":tg,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":tg,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":tg,"aria-hidden":tg,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":tg,"aria-multiselectable":tg,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":tg,"aria-relevant":null,"aria-required":tg,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},MOe="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of MOe)POe[t]=null;class k${constructor(e,r){this.tags=Object.assign(Object.assign({},YDe),e),this.globalAttrs=Object.assign(Object.assign({},POe),r),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}k$.default=new k$;function pM(t,e,r=t.length){if(!e)return"";let a=e.firstChild,i=a&&a.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,r)):""}function vM(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function EOe(t,e,r){let a=r.tags[pM(t,vM(e))];return(a==null?void 0:a.children)||r.allTags}function ble(t,e){let r=[];for(let a=vM(e);a&&!a.type.isTop;a=vM(a.parent)){let i=pM(t,a);if(i&&a.lastChild.name=="CloseTag")break;i&&r.indexOf(i)<0&&(e.name=="EndTag"||e.from>=a.firstChild.to)&&r.push(i)}return r}const _Oe=/^[:\-\.\w\u00b7-\uffff]*$/;function Dme(t,e,r,a,i){let d=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",f=vM(r,!0);return{from:a,to:i,options:EOe(t.doc,f,e).map(h=>({label:h,type:"type"})).concat(ble(t.doc,r).map((h,u)=>({label:"/"+h,apply:"/"+h+d,type:"type",boost:99-u}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function $me(t,e,r,a){let i=/\s*>/.test(t.sliceDoc(a,a+5))?"":">";return{from:r,to:a,options:ble(t.doc,e).map((d,f)=>({label:d,apply:d+i,type:"type",boost:99-f})),validFor:_Oe}}function XDe(t,e,r,a){let i=[],d=0;for(let f of EOe(t.doc,r,e))i.push({label:"<"+f,type:"type"});for(let f of ble(t.doc,r))i.push({label:"</"+f+">",type:"type",boost:99-d++});return{from:a,to:a,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function GDe(t,e,r,a,i){let d=vM(r),f=d?e.tags[pM(t.doc,d)]:null,h=f&&f.attrs?Object.keys(f.attrs):[],u=f&&f.globalAttrs===!1?h:h.length?h.concat(e.globalAttrNames):e.globalAttrNames;return{from:a,to:i,options:u.map(p=>({label:p,type:"property"})),validFor:_Oe}}function jDe(t,e,r,a,i){var d;let f=(d=r.parent)===null||d===void 0?void 0:d.getChild("AttributeName"),h=[],u;if(f){let p=t.sliceDoc(f.from,f.to),v=e.globalAttrs[p];if(!v){let y=vM(r),b=y?e.tags[pM(t.doc,y)]:null;v=(b==null?void 0:b.attrs)&&b.attrs[p]}if(v){let y=t.sliceDoc(a,i).toLowerCase(),b='"',x='"';/^['"]/.test(y)?(u=y[0]=='"'?/^[^"]*$/:/^[^']*$/,b="",x=t.sliceDoc(i,i+1)==y[0]?"":y[0],y=y.slice(1),a++):u=/^[^\s<>='"]*$/;for(let k of v)h.push({label:k,apply:b+k+x,type:"constant"})}}return{from:a,to:i,options:h,validFor:u}}function ROe(t,e){let{state:r,pos:a}=e,i=rl(r).resolveInner(a,-1),d=i.resolve(a);for(let f=a,h;d==i&&(h=i.childBefore(f));){let u=h.lastChild;if(!u||!u.type.isError||u.from<u.to)break;d=i=h,f=u.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?$me(r,i,i.from,a):Dme(r,t,i,i.from,a):i.name=="StartTag"?Dme(r,t,i,a,a):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?$me(r,i,a,a):e.explicit&&(i.name=="OpenTag"||i.name=="SelfClosingTag")||i.name=="AttributeName"?GDe(r,t,i,i.name=="AttributeName"?i.from:a,a):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?jDe(r,t,i,i.name=="Is"?a:i.from,a):e.explicit&&(d.name=="Element"||d.name=="Text"||d.name=="Document")?XDe(r,t,i,a):null}function qDe(t){return ROe(k$.default,t)}function KDe(t){let{extraTags:e,extraGlobalAttributes:r}=t,a=r||e?new k$(e,r):k$.default;return i=>ROe(a,i)}const JDe=ey.parser.configure({top:"SingleExpression"}),DOe=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:wOe.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:TOe.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:COe.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:JDe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:ey.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:UH.parser}],$Oe=[{name:"style",parser:UH.parser.configure({top:"Styles"})}].concat(MOe.map(t=>({name:t,parser:ey.parser}))),LOe=CS.define({name:"html",parser:VRe.configure({props:[BC.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,r;for(let a=t.node;;){let i=a.lastChild;if(!i||i.name!="Element"||i.to!=a.to)break;e=a=i}return e&&!((r=e.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),DS.add({Element(t){let e=t.firstChild,r=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:r.name=="CloseTag"?r.from:t.to}}}),m0e.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),YZ=LOe.configure({wrap:hOe(DOe,$Oe)});function e$e(t={}){let e="",r;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(r=hOe((t.nestedLanguages||[]).concat(DOe),(t.nestedAttributes||[]).concat($Oe)));let a=r?LOe.configure({wrap:r,dialect:e}):e?YZ.configure({dialect:e}):YZ;return new DC(a,[YZ.data.of({autocomplete:KDe(t)}),t.autoCloseTags!==!1?t$e:[],ZDe().support,pDe().support])}const Lme=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),t$e=Xo.inputHandler.of((t,e,r,a,i)=>{if(t.composing||t.state.readOnly||e!=r||a!=">"&&a!="/"||!YZ.isActiveAt(t.state,e,-1))return!1;let d=i(),{state:f}=d,h=f.changeByRange(u=>{var p,v,y;let b=f.doc.sliceString(u.from-1,u.to)==a,{head:x}=u,k=rl(f).resolveInner(x-1,-1),C;if((k.name=="TagName"||k.name=="StartTag")&&(k=k.parent),b&&a==">"&&k.name=="OpenTag"){if(((v=(p=k.parent)===null||p===void 0?void 0:p.lastChild)===null||v===void 0?void 0:v.name)!="CloseTag"&&(C=pM(f.doc,k.parent,x))&&!Lme.has(C)){let w=x+(f.doc.sliceString(x,x+1)===">"?1:0),T=`</${C}>`;return{range:u,changes:{from:x,to:w,insert:T}}}}else if(b&&a=="/"&&k.name=="IncompleteCloseTag"){let w=k.parent;if(k.from==x-2&&((y=w.lastChild)===null||y===void 0?void 0:y.name)!="CloseTag"&&(C=pM(f.doc,w,x))&&!Lme.has(C)){let T=x+(f.doc.sliceString(x,x+1)===">"?1:0),R=`${C}>`;return{range:Tr.cursor(x+R.length,-1),changes:{from:x,to:T,insert:R}}}}return{range:u}});return h.changes.empty?!1:(t.dispatch([d,f.update(h,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),IOe=nie({commentTokens:{block:{open:"<!--",close:"-->"}}}),NOe=new ua,BOe=H7e.configure({props:[DS.add(t=>!t.is("Block")||t.is("Document")||Kse(t)!=null?void 0:(e,r)=>({from:r.doc.lineAt(e.from).to,to:e.to})),NOe.add(Kse),BC.add({Document:()=>null}),CC.add({Document:IOe})]});function Kse(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function n$e(t,e){let r=t;for(;;){let a=r.nextSibling,i;if(!a||(i=Kse(a.type))!=null&&i<=e)break;r=a}return r.to}const r$e=n0e.of((t,e,r)=>{for(let a=rl(t).resolveInner(r,-1);a&&!(a.from<e);a=a.parent){let i=a.type.prop(NOe);if(i==null)continue;let d=n$e(a,i);if(d>r)return{from:r,to:d}}return null});function Ole(t){return new Op(IOe,t,[r$e],"markdown")}const o$e=Ole(BOe),s$e=BOe.configure([tRe,rRe,nRe,oRe,{props:[DS.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),QOe=Ole(s$e);function a$e(t,e){return r=>{if(r&&t){let a=null;if(r=/\S*/.exec(r)[0],typeof t=="function"?a=t(r):a=fH.matchLanguageName(t,r,!0),a instanceof fH)return a.support?a.support.language.parser:u$.getSkippingParser(a.load());if(a)return a.parser}return e?e.parser:null}}class wZ{constructor(e,r,a,i,d,f,h){this.node=e,this.from=r,this.to=a,this.spaceBefore=i,this.spaceAfter=d,this.type=f,this.item=h}blank(e,r=!0){let a=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;a.length<e;)a+=" ";return a}else{for(let i=this.to-this.from-a.length-this.spaceAfter.length;i>0;i--)a+=" ";return a+(r?this.spaceAfter:"")}}marker(e,r){let a=this.node.name=="OrderedList"?String(+VOe(this.item,e)[2]+r):"";return this.spaceBefore+a+this.type+this.spaceAfter}}function FOe(t,e){let r=[];for(let i=t;i&&i.name!="Document";i=i.parent)(i.name=="ListItem"||i.name=="Blockquote"||i.name=="FencedCode")&&r.push(i);let a=[];for(let i=r.length-1;i>=0;i--){let d=r[i],f,h=e.lineAt(d.from),u=d.from-h.from;if(d.name=="FencedCode")a.push(new wZ(d,u,u,"","","",null));else if(d.name=="Blockquote"&&(f=/^ *>( ?)/.exec(h.text.slice(u))))a.push(new wZ(d,u,u+f[0].length,"",f[1],">",null));else if(d.name=="ListItem"&&d.parent.name=="OrderedList"&&(f=/^( *)\d+([.)])( *)/.exec(h.text.slice(u)))){let p=f[3],v=f[0].length;p.length>=4&&(p=p.slice(0,p.length-4),v-=4),a.push(new wZ(d.parent,u,u+v,f[1],p,f[2],d))}else if(d.name=="ListItem"&&d.parent.name=="BulletList"&&(f=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(h.text.slice(u)))){let p=f[4],v=f[0].length;p.length>4&&(p=p.slice(0,p.length-4),v-=4);let y=f[2];f[3]&&(y+=f[3].replace(/[xX]/," ")),a.push(new wZ(d.parent,u,u+v,f[1],p,y,d))}}return a}function VOe(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function foe(t,e,r,a=0){for(let i=-1,d=t;;){if(d.name=="ListItem"){let h=VOe(d,e),u=+h[2];if(i>=0){if(u!=i+1)return;r.push({from:d.from+h[1].length,to:d.from+h[0].length,insert:String(i+2+a)})}i=u}let f=d.nextSibling;if(!f)break;d=f}}function Jse(t,e){let r=/^[ \t]*/.exec(t)[0].length;if(!r||e.facet(SM)!="	")return t;let a=Fv(t,4,r),i="";for(let d=a;d>0;)d>=4?(i+="	",d-=4):(i+=" ",d--);return i+t.slice(r)}const i$e=({state:t,dispatch:e})=>{let r=rl(t),{doc:a}=t,i=null,d=t.changeByRange(f=>{if(!f.empty||!QOe.isActiveAt(t,f.from))return i={range:f};let h=f.from,u=a.lineAt(h),p=FOe(r.resolveInner(h,-1),a);for(;p.length&&p[p.length-1].from>h-u.from;)p.pop();if(!p.length)return i={range:f};let v=p[p.length-1];if(v.to-v.spaceAfter.length>h-u.from)return i={range:f};let y=h>=v.to-v.spaceAfter.length&&!/\S/.test(u.text.slice(v.to));if(v.item&&y)if(v.node.firstChild.to>=h||u.from>0&&!/[^\s>]/.test(a.lineAt(u.from-1).text)){let w=p.length>1?p[p.length-2]:null,T,R="";w&&w.item?(T=u.from+w.from,R=w.marker(a,1)):T=u.from+(w?w.to:0);let M=[{from:T,to:h,insert:R}];return v.node.name=="OrderedList"&&foe(v.item,a,M,-2),w&&w.node.name=="OrderedList"&&foe(w.item,a,M),{range:Tr.cursor(T+R.length),changes:M}}else{let w="";for(let T=0,R=p.length-2;T<=R;T++)w+=p[T].blank(T<R?Fv(u.text,4,p[T+1].from)-w.length:null,T<R);return w=Jse(w,t),{range:Tr.cursor(h+w.length+1),changes:{from:u.from,insert:w+t.lineBreak}}}if(v.node.name=="Blockquote"&&y&&u.from){let w=a.lineAt(u.from-1),T=/>\s*$/.exec(w.text);if(T&&T.index==v.from){let R=t.changes([{from:w.from+T.index,to:w.to},{from:u.from+v.from,to:u.to}]);return{range:f.map(R),changes:R}}}let b=[];v.node.name=="OrderedList"&&foe(v.item,a,b);let x=v.item&&v.item.from<u.from,k="";if(!x||/^[\s\d.)\-+*>]*/.exec(u.text)[0].length>=v.to)for(let w=0,T=p.length-1;w<=T;w++)k+=w==T&&!x?p[w].marker(a,1):p[w].blank(w<T?Fv(u.text,4,p[w+1].from)-k.length:null);let C=h;for(;C>u.from&&/\s/.test(u.text.charAt(C-u.from-1));)C--;return k=Jse(k,t),b.push({from:C,to:h,insert:t.lineBreak+k}),{range:Tr.cursor(C+k.length+1),changes:b}});return i?!1:(e(t.update(d,{scrollIntoView:!0,userEvent:"input"})),!0)};function Ime(t){return t.name=="QuoteMark"||t.name=="ListMark"}function l$e(t,e){let r=t.resolveInner(e,-1),a=e;Ime(r)&&(a=r.from,r=r.parent);for(let i;i=r.childBefore(a);)if(Ime(i))a=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")r=i.lastChild,a=r.to;else break;return r}const c$e=({state:t,dispatch:e})=>{let r=rl(t),a=null,i=t.changeByRange(d=>{let f=d.from,{doc:h}=t;if(d.empty&&QOe.isActiveAt(t,d.from)){let u=h.lineAt(f),p=FOe(l$e(r,f),h);if(p.length){let v=p[p.length-1],y=v.to-v.spaceAfter.length+(v.spaceAfter?1:0);if(f-u.from>y&&!/\S/.test(u.text.slice(y,f-u.from)))return{range:Tr.cursor(u.from+y),changes:{from:u.from+y,to:f}};if(f-u.from==y&&(!v.item||u.from<=v.item.from||!/\S/.test(u.text.slice(0,v.to)))){let b=u.from+v.from;if(v.item&&v.node.from<v.item.from&&/\S/.test(u.text.slice(v.from,v.to))){let x=v.blank(Fv(u.text,4,v.to)-Fv(u.text,4,v.from));return b==u.from&&(x=Jse(x,t)),{range:Tr.cursor(b+x.length),changes:{from:b,to:u.from+v.to,insert:x}}}if(b<f)return{range:Tr.cursor(b),changes:{from:b,to:f}}}}}return a={range:d}});return a?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},u$e=[{key:"Enter",run:i$e},{key:"Backspace",run:c$e}],eae=e$e({matchClosingTags:!1});function zOe(t={}){let{codeLanguages:e,defaultCodeLanguage:r,addKeymap:a=!0,base:{parser:i}=o$e,completeHTMLTags:d=!0}=t;if(!(i instanceof VU))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let f=t.extensions?[t.extensions]:[],h=[eae.support],u;r instanceof DC?(h.push(r.support),u=r.language):r&&(u=r);let p=e||u?a$e(e,u):void 0;f.push(W7e({codeParser:p,htmlParser:eae.language.parser})),a&&h.push(Mp.high(_S.of(u$e)));let v=Ole(i.configure(f));return d&&h.push(v.data.of({autocomplete:f$e})),new DC(v,h)}function f$e(t){let{state:e,pos:r}=t,a=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(r-25,r));if(!a)return null;let i=rl(e).resolveInner(r,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:r-a[0].length,to:r,options:d$e(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let doe=null;function d$e(){if(doe)return doe;let t=qDe(new gie(Ia.create({extensions:eae}),0,!0));return doe=t?t.options:[]}const h$e={components:{codemirror:CU},computed:{extensions(){return[zOe(),cM,LC({override:[]})]},compiledMarkdown(){return qi.parse(this.cellData.code)}},data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},props:{cellData:{type:Object,required:!0}},methods:{saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)}}};const m$e=kd("span",{class:"py-0 px-2"},".md",-1),g$e=["innerHTML"];function p$e(t,e,r,a,i,d){const f=q1("codemirror");return so(),La(Go,null,[lt(YC,{flat:"",color:"bluegrey"},{default:Yr(()=>[t.$devMode?(so(),Ts(cg,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:Yr(()=>[lt(Nv,{cols:11},{default:Yr(()=>[m$e]),_:1}),lt(Nv,{cols:1,class:"d-flex justify-end align-center py-0"},{default:Yr(()=>[lt(qa,{small:"",class:"mx-1",color:"primary",onClick:d.saveCell},{default:Yr(()=>[gi(" mdi-content-save ")]),_:1},8,["onClick"]),lt(qa,{small:"",class:"mx-1",color:"error",onClick:d.deleteCell},{default:Yr(()=>[gi(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):Nu("",!0),t.$devMode?(so(),Ts(f,{key:1,modelValue:r.cellData.code,"onUpdate:modelValue":e[0]||(e[0]=h=>r.cellData.code=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions,onKeyup:d.saveCell},null,8,["modelValue","extensions","onKeyup"])):Nu("",!0),kd("div",{class:"markdown-content",innerHTML:d.compiledMarkdown},null,8,g$e)]),_:1}),t.$devMode?(so(),Ts(BS,{key:0,transition:"scale-transition"},{activator:Yr(({props:h})=>[lt(Nc,rs(h,{block:""}),{default:Yr(()=>[lt(cg,null,{default:Yr(()=>[lt(qa,{color:"primary"},{default:Yr(()=>[gi("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:Yr(()=>[lt(NS,null,{default:Yr(()=>[(so(!0),La(Go,null,Hf(i.items,(h,u)=>(so(),Ts(mg,{key:u},{default:Yr(()=>[lt(Nc,{block:"",onClick:p=>d.createCell(h.title)},{default:Yr(()=>[gi(yp(h.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):Nu("",!0)],64)}const v$e=ny(h$e,[["render",p$e]]);var y$e={exports:{}};(function(t){(function(){var e=function(n){if(n===null)return"null";if(n===void 0)return"undefined";var s=typeof n;return s==="object"&&(Array.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="String")?"string":s},r=function(n){return["undefined","boolean","number","string","function","xml","null"].indexOf(n)!==-1},a=function(n,s){var l=Array.prototype.slice.call(n);return l.sort(s)},i=function(n,s){return d(function(l,m){return n.eq(s(l),s(m))})},d=function(n){return{eq:n}},f=d(function(n,s){return n===s}),h=f,u=function(n){return d(function(s,l){if(s.length!==l.length)return!1;for(var m=s.length,O=0;O<m;O++)if(!n.eq(s[O],l[O]))return!1;return!0})},p=function(n,s){return i(u(n),function(l){return a(l,s)})},v=function(n){return d(function(s,l){var m=Object.keys(s),O=Object.keys(l);if(!p(h).eq(m,O))return!1;for(var P=m.length,Z=0;Z<P;Z++){var J=m[Z];if(!n.eq(s[J],l[J]))return!1}return!0})},y=d(function(n,s){if(n===s)return!0;var l=e(n),m=e(s);return l!==m?!1:r(l)?n===s:l==="array"?u(y).eq(n,s):l==="object"?v(y).eq(n,s):!1});const b=Object.getPrototypeOf,x=(n,s,l)=>{var m;return l(n,s.prototype)?!0:((m=n.constructor)===null||m===void 0?void 0:m.name)===s.name},k=n=>{const s=typeof n;return n===null?"null":s==="object"&&Array.isArray(n)?"array":s==="object"&&x(n,String,(l,m)=>m.isPrototypeOf(l))?"string":s},C=n=>s=>k(s)===n,w=n=>s=>typeof s===n,T=n=>s=>n===s,R=(n,s)=>I(n)&&x(n,s,(l,m)=>b(l)===m),M=C("string"),I=C("object"),V=n=>R(n,Object),N=C("array"),F=T(null),z=w("boolean"),U=T(void 0),Q=n=>n==null,B=n=>!Q(n),E=w("function"),W=w("number"),Y=(n,s)=>{if(N(n)){for(let l=0,m=n.length;l<m;++l)if(!s(n[l]))return!1;return!0}return!1},ie=()=>{},L=(n,s)=>(...l)=>n(s.apply(null,l)),me=(n,s)=>l=>n(s(l)),ae=n=>()=>n,q=n=>n,fe=(n,s)=>n===s;function ee(n,...s){return(...l)=>{const m=s.concat(l);return n.apply(null,m)}}const be=n=>s=>!n(s),Te=n=>()=>{throw new Error(n)},Be=n=>n(),ge=n=>{n()},ne=ae(!1),pe=ae(!0);class G{constructor(s,l){this.tag=s,this.value=l}static some(s){return new G(!0,s)}static none(){return G.singletonNone}fold(s,l){return this.tag?l(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?G.some(s(this.value)):G.none()}bind(s){return this.tag?s(this.value):G.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:G.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return B(s)?G.some(s):G.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}G.singletonNone=new G(!1);const Oe=Array.prototype.slice,xe=Array.prototype.indexOf,Le=Array.prototype.push,ke=(n,s)=>xe.call(n,s),$e=(n,s)=>{const l=ke(n,s);return l===-1?G.none():G.some(l)},Ze=(n,s)=>ke(n,s)>-1,De=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const O=n[l];if(s(O,l))return!0}return!1},Ie=(n,s)=>{const l=n.length,m=new Array(l);for(let O=0;O<l;O++){const P=n[O];m[O]=s(P,O)}return m},re=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const O=n[l];s(O,l)}},ye=(n,s)=>{for(let l=n.length-1;l>=0;l--){const m=n[l];s(m,l)}},te=(n,s)=>{const l=[],m=[];for(let O=0,P=n.length;O<P;O++){const Z=n[O];(s(Z,O)?l:m).push(Z)}return{pass:l,fail:m}},se=(n,s)=>{const l=[];for(let m=0,O=n.length;m<O;m++){const P=n[m];s(P,m)&&l.push(P)}return l},ue=(n,s,l)=>(ye(n,(m,O)=>{l=s(l,m,O)}),l),oe=(n,s,l)=>(re(n,(m,O)=>{l=s(l,m,O)}),l),Se=(n,s,l)=>{for(let m=0,O=n.length;m<O;m++){const P=n[m];if(s(P,m))return G.some(P);if(l(P,m))break}return G.none()},le=(n,s)=>Se(n,s,ne),Ce=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const O=n[l];if(s(O,l))return G.some(l)}return G.none()},Qe=n=>{const s=[];for(let l=0,m=n.length;l<m;++l){if(!N(n[l]))throw new Error("Arr.flatten item "+l+" was not an array, input: "+n);Le.apply(s,n[l])}return s},ze=(n,s)=>Qe(Ie(n,s)),Xe=(n,s)=>{for(let l=0,m=n.length;l<m;++l){const O=n[l];if(s(O,l)!==!0)return!1}return!0},ct=n=>{const s=Oe.call(n,0);return s.reverse(),s},pt=(n,s)=>se(n,l=>!Ze(s,l)),Ye=(n,s)=>{const l={};for(let m=0,O=n.length;m<O;m++){const P=n[m];l[String(P)]=s(P,m)}return l},je=(n,s)=>{const l=Oe.call(n,0);return l.sort(s),l},et=(n,s)=>s>=0&&s<n.length?G.some(n[s]):G.none(),yt=n=>et(n,0),ft=n=>et(n,n.length-1),tt=E(Array.from)?Array.from:n=>Oe.call(n),wt=(n,s)=>{for(let l=0;l<n.length;l++){const m=s(n[l],l);if(m.isSome())return m}return G.none()},Xt=(n,s)=>{const l=[],m=E(s)?O=>De(l,P=>s(P,O)):O=>Ze(l,O);for(let O=0,P=n.length;O<P;O++){const Z=n[O];m(Z)||l.push(Z)}return l},Gt=Object.keys,Nt=Object.hasOwnProperty,Bt=(n,s)=>{const l=Gt(n);for(let m=0,O=l.length;m<O;m++){const P=l[m],Z=n[P];s(Z,P)}},vn=(n,s)=>En(n,(l,m)=>({k:m,v:s(l,m)})),En=(n,s)=>{const l={};return Bt(n,(m,O)=>{const P=s(m,O);l[P.k]=P.v}),l},ln=n=>(s,l)=>{n[l]=s},Yn=(n,s,l,m)=>{Bt(n,(O,P)=>{(s(O,P)?l:m)(O,P)})},an=(n,s)=>{const l={},m={};return Yn(n,s,ln(l),ln(m)),{t:l,f:m}},wn=(n,s)=>{const l={};return Yn(n,s,ln(l),ie),l},Xn=(n,s)=>{const l=[];return Bt(n,(m,O)=>{l.push(s(m,O))}),l},Un=n=>Xn(n,q),Sn=(n,s)=>it(n,s)?G.from(n[s]):G.none(),it=(n,s)=>Nt.call(n,s),ut=(n,s)=>it(n,s)&&n[s]!==void 0&&n[s]!==null,xt=(n,s,l=y)=>v(l).eq(n,s),gt=n=>{const s={};return re(n,l=>{s[l]={}}),Gt(s)},Dt=n=>n.length!==void 0,He=Array.isArray,at=n=>{if(He(n))return n;{const s=[];for(let l=0,m=n.length;l<m;l++)s[l]=n[l];return s}},dt=(n,s,l)=>{if(!n)return!1;if(l=l||n,Dt(n)){for(let m=0,O=n.length;m<O;m++)if(s.call(l,n[m],m,n)===!1)return!1}else for(const m in n)if(it(n,m)&&s.call(l,n[m],m,n)===!1)return!1;return!0},mt=(n,s)=>{const l=[];return dt(n,(m,O)=>{l.push(s(m,O,n))}),l},Tt=(n,s)=>{const l=[];return dt(n,(m,O)=>{(!s||s(m,O,n))&&l.push(m)}),l},Pt=(n,s)=>{if(n){for(let l=0,m=n.length;l<m;l++)if(n[l]===s)return l}return-1},dn=(n,s,l,m)=>{let O=U(l)?n[0]:l;for(let P=0;P<n.length;P++)O=s.call(m,O,n[P],P);return O},nn=(n,s,l)=>{for(let m=0,O=n.length;m<O;m++)if(s.call(l,n[m],m,n))return m;return-1},Wt=n=>n[n.length-1],Rt=n=>{let s=!1,l;return(...m)=>(s||(s=!0,l=n.apply(null,m)),l)},fn=(n,s,l,m)=>{const O=n.isiOS()&&/ipad/i.test(l)===!0,P=n.isiOS()&&!O,Z=n.isiOS()||n.isAndroid(),J=Z||m("(pointer:coarse)"),he=O||!P&&Z&&m("(min-device-width:768px)"),_e=P||Z&&!he,Ge=s.isSafari()&&n.isiOS()&&/safari/i.test(l)===!1,qe=!_e&&!he&&!Ge;return{isiPad:ae(O),isiPhone:ae(P),isTablet:ae(he),isPhone:ae(_e),isTouch:ae(J),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:ae(Ge),isDesktop:ae(qe)}},Hn=(n,s)=>{for(let l=0;l<n.length;l++){const m=n[l];if(m.test(s))return m}},nr=(n,s)=>{const l=Hn(n,s);if(!l)return{major:0,minor:0};const m=O=>Number(s.replace(l,"$"+O));return vr(m(1),m(2))},Er=(n,s)=>{const l=String(s).toLowerCase();return n.length===0?zt():nr(n,l)},zt=()=>vr(0,0),vr=(n,s)=>({major:n,minor:s}),Wn={nu:vr,detect:Er,unknown:zt},Br=(n,s)=>wt(s.brands,l=>{const m=l.brand.toLowerCase();return le(n,O=>{var P;return m===((P=O.brand)===null||P===void 0?void 0:P.toLowerCase())}).map(O=>({current:O.name,version:Wn.nu(parseInt(l.version,10),0)}))}),kr=(n,s)=>{const l=String(s).toLowerCase();return le(n,m=>m.search(l))},or=(n,s)=>kr(n,s).map(l=>{const m=Wn.detect(l.versionRegexes,s);return{current:l.name,version:m}}),jr=(n,s)=>kr(n,s).map(l=>{const m=Wn.detect(l.versionRegexes,s);return{current:l.name,version:m}}),_r=(n,s)=>n.substring(s),Rn=(n,s,l)=>s===""||n.length>=s.length&&n.substr(l,l+s.length)===s,xr=(n,s)=>Sr(n,s)?_r(n,s.length):n,sr=(n,s,l=0,m)=>{const O=n.indexOf(s,l);return O!==-1?U(m)?!0:O+s.length<=m:!1},Sr=(n,s)=>Rn(n,s,0),ao=(n,s)=>Rn(n,s,n.length-s.length),Oo=n=>s=>s.replace(n,""),wr=Oo(/^\s+|\s+$/g),Fe=Oo(/^\s+/g),Ee=Oo(/\s+$/g),St=n=>n.length>0,Ct=n=>!St(n),Lt=(n,s)=>s<=0?"":new Array(s+1).join(n),Ft=(n,s=10)=>{const l=parseInt(n,s);return isNaN(l)?G.none():G.some(l)},Ht=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$t=n=>s=>sr(s,n),Mt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>sr(n,"edge/")&&sr(n,"chrome")&&sr(n,"safari")&&sr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ht],search:n=>sr(n,"chrome")&&!sr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>sr(n,"msie")||sr(n,"trident")},{name:"Opera",versionRegexes:[Ht,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$t("firefox")},{name:"Safari",versionRegexes:[Ht,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(sr(n,"safari")||sr(n,"mobile/"))&&sr(n,"applewebkit")}],en=[{name:"Windows",search:$t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>sr(n,"iphone")||sr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$t("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$t("linux"),versionRegexes:[]},{name:"Solaris",search:$t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$t("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$t("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],un={browsers:ae(Mt),oses:ae(en)},Jt="Edge",rn="Chromium",Tn="IE",On="Opera",pn="Firefox",Jn="Safari",Fn=()=>zr({current:void 0,version:Wn.unknown()}),zr=n=>{const s=n.current,l=n.version,m=O=>()=>s===O;return{current:s,version:l,isEdge:m(Jt),isChromium:m(rn),isIE:m(Tn),isOpera:m(On),isFirefox:m(pn),isSafari:m(Jn)}},dr={unknown:Fn,nu:zr,edge:ae(Jt),chromium:ae(rn),ie:ae(Tn),opera:ae(On),firefox:ae(pn),safari:ae(Jn)},Hr="Windows",ar="iOS",ur="Android",qr="Linux",to="macOS",ko="Solaris",Es="FreeBSD",So="ChromeOS",Ko=()=>ds({current:void 0,version:Wn.unknown()}),ds=n=>{const s=n.current,l=n.version,m=O=>()=>s===O;return{current:s,version:l,isWindows:m(Hr),isiOS:m(ar),isAndroid:m(ur),isMacOS:m(to),isLinux:m(qr),isSolaris:m(ko),isFreeBSD:m(Es),isChromeOS:m(So)}},qs={unknown:Ko,nu:ds,windows:ae(Hr),ios:ae(ar),android:ae(ur),linux:ae(qr),macos:ae(to),solaris:ae(ko),freebsd:ae(Es),chromeos:ae(So)},Xs={detect:(n,s,l)=>{const m=un.browsers(),O=un.oses(),P=s.bind(he=>Br(m,he)).orThunk(()=>or(m,n)).fold(dr.unknown,dr.nu),Z=jr(O,n).fold(qs.unknown,qs.nu),J=fn(Z,P,n,l);return{browser:P,os:Z,deviceType:J}}},Wa=n=>window.matchMedia(n).matches;let vc=Rt(()=>Xs.detect(navigator.userAgent,G.from(navigator.userAgentData),Wa));const ii=()=>vc(),tu=navigator.userAgent,Na=ii(),Js=Na.browser,ya=Na.os,ra=Na.deviceType,nu=tu.indexOf("Windows Phone")!==-1,Dr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Js.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Js.isIE(),windowsPhone:nu,browser:{current:Js.current,version:Js.version,isChromium:Js.isChromium,isEdge:Js.isEdge,isFirefox:Js.isFirefox,isIE:Js.isIE,isOpera:Js.isOpera,isSafari:Js.isSafari},os:{current:ya.current,version:ya.version,isAndroid:ya.isAndroid,isChromeOS:ya.isChromeOS,isFreeBSD:ya.isFreeBSD,isiOS:ya.isiOS,isLinux:ya.isLinux,isMacOS:ya.isMacOS,isSolaris:ya.isSolaris,isWindows:ya.isWindows},deviceType:{isDesktop:ra.isDesktop,isiPad:ra.isiPad,isiPhone:ra.isiPhone,isPhone:ra.isPhone,isTablet:ra.isTablet,isTouch:ra.isTouch,isWebView:ra.isWebView}},yc=/^\s*|\s*$/g,oa=n=>Q(n)?"":(""+n).replace(yc,""),Ri=(n,s)=>s?s==="array"&&He(n)?!0:typeof n===s:n!==void 0,Md=(n,s,l={})=>{const m=M(n)?n.split(s||","):n||[];let O=m.length;for(;O--;)l[m[O]]={};return l},sa=it,bu=(n,...s)=>{for(let l=0;l<s.length;l++){const m=s[l];for(const O in m)if(it(m,O)){const P=m[O];P!==void 0&&(n[O]=P)}}return n},Ed=function(n,s,l,m){m=m||this,n&&(l&&(n=n[l]),dt(n,(O,P)=>s.call(m,O,P,l)===!1?!1:(Ed(O,s,l,m),!0)))},fr={trim:oa,isArray:He,is:Ri,toArray:at,makeMap:Md,each:dt,map:mt,grep:Tt,inArray:Pt,hasOwn:sa,extend:bu,walk:Ed,resolve:(n,s=window)=>{const l=n.split(".");for(let m=0,O=l.length;m<O&&(s=s[l[m]],!!s);m++);return s},explode:(n,s)=>N(n)?n:n===""?[]:mt(n.split(s||","),oa),_addCacheSuffix:n=>{const s=Dr.cacheSuffix;return s&&(n+=(n.indexOf("?")===-1?"?":"&")+s),n}},Qa=(n,s,l=fe)=>n.exists(m=>l(m,s)),xi=(n,s,l=fe)=>Fa(n,s,l).getOr(n.isNone()&&s.isNone()),za=n=>{const s=[],l=m=>{s.push(m)};for(let m=0;m<n.length;m++)n[m].each(l);return s},Fa=(n,s,l)=>n.isSome()&&s.isSome()?G.some(l(n.getOrDie(),s.getOrDie())):G.none(),yl=(n,s,l,m)=>n.isSome()&&s.isSome()&&l.isSome()?G.some(m(n.getOrDie(),s.getOrDie(),l.getOrDie())):G.none(),Zo=(n,s)=>n?G.some(s):G.none(),li=typeof window<"u"?window:Function("return this;")(),Ka=(n,s)=>{let l=s??li;for(let m=0;m<n.length&&l!==void 0&&l!==null;++m)l=l[n[m]];return l},Gf=(n,s)=>{const l=n.split(".");return Ka(l,s)},Za=(n,s)=>Gf(n,s),Vu=(n,s)=>{const l=Za(n,s);if(l==null)throw new Error(n+" not available on this browser");return l},zu=Object.getPrototypeOf,_d=n=>Vu("HTMLElement",n),Is=n=>{const s=Gf("ownerDocument.defaultView",n);return I(n)&&(_d(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(zu(n).constructor.name))},Rd=8,Fc=9,Cl=11,mh=1,lm=3,Vs=n=>n.dom.nodeName.toLowerCase(),Si=n=>n.dom.nodeType,Tf=n=>s=>Si(s)===n,QS=n=>Si(n)===Rd||Vs(n)==="#comment",Ya=n=>kl(n)&&Is(n.dom),kl=Tf(mh),Zi=Tf(lm),PO=Tf(Fc),Np=Tf(Cl),xu=n=>s=>kl(s)&&Vs(s)===n,Zu=(n,s,l)=>{if(M(l)||z(l)||W(l))n.setAttribute(s,l+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",l,":: Element ",n),new Error("Attribute value was not simple")},Ra=(n,s,l)=>{Zu(n.dom,s,l)},Su=(n,s)=>{const l=n.dom;Bt(s,(m,O)=>{Zu(l,O,m)})},Al=(n,s)=>{const l=n.dom.getAttribute(s);return l===null?void 0:l},bc=(n,s)=>G.from(Al(n,s)),Cf=(n,s)=>{const l=n.dom;return l&&l.hasAttribute?l.hasAttribute(s):!1},ci=(n,s)=>{n.dom.removeAttribute(s)},kf=n=>{const s=n.dom.attributes;return s==null||s.length===0},Bp=n=>oe(n.dom.attributes,(s,l)=>(s[l.name]=l.value,s),{}),Qp=(n,s)=>{const l=Al(n,s);return l===void 0||l===""?[]:l.split(" ")},ly=(n,s,l)=>{const O=Qp(n,s).concat([l]);return Ra(n,s,O.join(" ")),!0},Xv=(n,s,l)=>{const m=se(Qp(n,s),O=>O!==l);return m.length>0?Ra(n,s,m.join(" ")):ci(n,s),!1},Af=n=>n.dom.classList!==void 0,Fp=n=>Qp(n,"class"),Oc=(n,s)=>ly(n,"class",s),Gv=(n,s)=>Xv(n,"class",s),cy=(n,s)=>Ze(Fp(n),s)?Gv(n,s):Oc(n,s),cm=(n,s)=>{Af(n)?n.dom.classList.add(s):Oc(n,s)},uy=n=>{(Af(n)?n.dom.classList:Fp(n)).length===0&&ci(n,"class")},um=(n,s)=>{Af(n)?n.dom.classList.remove(s):Gv(n,s),uy(n)},MO=(n,s)=>{const l=Af(n)?n.dom.classList.toggle(s):cy(n,s);return uy(n),l},gh=(n,s)=>Af(n)&&n.dom.classList.contains(s),EO=(n,s)=>{const m=(s||document).createElement("div");if(m.innerHTML=n,!m.hasChildNodes()||m.childNodes.length>1){const O="HTML does not have a single root node";throw console.error(O,n),new Error(O)}return fm(m.childNodes[0])},_O=(n,s)=>{const m=(s||document).createElement(n);return fm(m)},RO=(n,s)=>{const m=(s||document).createTextNode(n);return fm(m)},fm=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},Yt={fromHtml:EO,fromTag:_O,fromText:RO,fromDom:fm,fromPoint:(n,s,l)=>G.from(n.dom.elementFromPoint(s,l)).map(fm)},dm=(n,s)=>{const l=[],m=P=>(l.push(P),s(P));let O=s(n);do O=O.bind(m);while(O.isSome());return l},Hu=(n,s)=>{const l=n.dom;if(l.nodeType!==mh)return!1;{const m=l;if(m.matches!==void 0)return m.matches(s);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(s);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(s);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},jv=n=>n.nodeType!==mh&&n.nodeType!==Fc&&n.nodeType!==Cl||n.childElementCount===0,Vp=(n,s)=>{const l=s===void 0?document:s.dom;return jv(l)?[]:Ie(l.querySelectorAll(n),Yt.fromDom)},FS=(n,s)=>{const l=s===void 0?document:s.dom;return jv(l)?G.none():G.from(l.querySelector(n)).map(Yt.fromDom)},Gs=(n,s)=>n.dom===s.dom,tc=(n,s)=>{const l=n.dom,m=s.dom;return l===m?!1:l.contains(m)},jf=n=>Yt.fromDom(n.dom.ownerDocument),qf=n=>PO(n)?n:jf(n),dy=n=>Yt.fromDom(qf(n).dom.documentElement),vg=n=>Yt.fromDom(qf(n).dom.defaultView),ru=n=>G.from(n.dom.parentNode).map(Yt.fromDom),yg=n=>G.from(n.dom.parentElement).map(Yt.fromDom),hy=(n,s)=>{const l=E(s)?s:ne;let m=n.dom;const O=[];for(;m.parentNode!==null&&m.parentNode!==void 0;){const P=m.parentNode,Z=Yt.fromDom(P);if(O.push(Z),l(Z)===!0)break;m=P}return O},DO=n=>{const s=l=>se(l,m=>!Gs(n,m));return ru(n).map(ol).map(s).getOr([])},Uu=n=>G.from(n.dom.previousSibling).map(Yt.fromDom),zp=n=>G.from(n.dom.nextSibling).map(Yt.fromDom),my=n=>ct(dm(n,Uu)),Vc=n=>dm(n,zp),ol=n=>Ie(n.dom.childNodes,Yt.fromDom),ph=(n,s)=>{const l=n.dom.childNodes;return G.from(l[s]).map(Yt.fromDom)},bg=n=>ph(n,0),xc=n=>ph(n,n.dom.childNodes.length-1),Pl=n=>n.dom.childNodes.length,Wu=n=>n.dom.hasChildNodes(),$O=n=>{const s=n.dom.head;if(s==null)throw new Error("Head is not available yet");return Yt.fromDom(s)},Zp=n=>Np(n)&&B(n.dom.host),gy=E(Element.prototype.attachShadow)&&E(Node.prototype.getRootNode),qv=ae(gy),Pf=gy?n=>Yt.fromDom(n.dom.getRootNode()):qf,LO=n=>Zp(n)?n:$O(qf(n)),GC=n=>Zp(n)?n:Yt.fromDom(qf(n).dom.body),jC=n=>{const s=Pf(n);return Zp(s)?G.some(s):G.none()},VS=n=>Yt.fromDom(n.dom.host),Hp=n=>{if(qv()&&B(n.target)){const s=Yt.fromDom(n.target);if(kl(s)&&Kv(s)&&n.composed&&n.composedPath){const l=n.composedPath();if(l)return yt(l)}}return G.from(n.target)},Kv=n=>B(n.dom.shadowRoot),vh=n=>{const s=Zi(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const l=s.ownerDocument;return jC(Yt.fromDom(s)).fold(()=>l.body.contains(s),me(vh,VS))};var Ja=(n,s,l,m,O)=>n(l,m)?G.some(l):E(O)&&O(l)?G.none():s(l,m,O);const ui=(n,s,l)=>{let m=n.dom;const O=E(l)?l:ne;for(;m.parentNode;){m=m.parentNode;const P=Yt.fromDom(m);if(s(P))return G.some(P);if(O(P))break}return G.none()},wu=(n,s,l)=>Ja((O,P)=>P(O),ui,n,s,l),py=(n,s)=>{const l=n.dom;return l.parentNode?IO(Yt.fromDom(l.parentNode),m=>!Gs(n,m)&&s(m)):G.none()},IO=(n,s)=>{const l=O=>s(Yt.fromDom(O));return le(n.dom.childNodes,l).map(Yt.fromDom)},Vl=(n,s)=>{const l=m=>{for(let O=0;O<m.childNodes.length;O++){const P=Yt.fromDom(m.childNodes[O]);if(s(P))return G.some(P);const Z=l(m.childNodes[O]);if(Z.isSome())return Z}return G.none()};return l(n.dom)},Og=(n,s,l)=>ui(n,m=>Hu(m,s),l),Sc=(n,s)=>FS(s,n),Mf=(n,s,l)=>Ja((O,P)=>Hu(O,P),Og,n,s,l),vy=n=>Mf(n,"[contenteditable]"),jo=(n,s=!1)=>vh(n)?n.dom.isContentEditable:vy(n).fold(ae(s),l=>zc(l)==="true"),zc=n=>n.dom.contentEditable,yh=n=>n.style!==void 0&&E(n.style.getPropertyValue),hm=(n,s,l)=>{if(!M(l))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",l,":: Element ",n),new Error("CSS value must be a string: "+l);yh(n)&&n.style.setProperty(s,l)},yy=(n,s)=>{yh(n)&&n.style.removeProperty(s)},by=(n,s,l)=>{const m=n.dom;hm(m,s,l)},nc=(n,s)=>{const l=n.dom;Bt(s,(m,O)=>{hm(l,O,m)})},wi=(n,s)=>{const l=n.dom,O=window.getComputedStyle(l).getPropertyValue(s);return O===""&&!vh(n)?ou(l,s):O},ou=(n,s)=>yh(n)?n.style.getPropertyValue(s):"",Hi=(n,s)=>{const l=n.dom,m=ou(l,s);return G.from(m).filter(O=>O.length>0)},Oy=n=>{const s={},l=n.dom;if(yh(l))for(let m=0;m<l.style.length;m++){const O=l.style.item(m);s[O]=l.style[O]}return s},Jv=(n,s)=>{const l=n.dom;yy(l,s),Qa(bc(n,"style").map(wr),"")&&ci(n,"style")},Ti=n=>n.dom.offsetWidth,Ui=(n,s)=>{ru(n).each(m=>{m.dom.insertBefore(s.dom,n.dom)})},Yu=(n,s)=>{zp(n).fold(()=>{ru(n).each(O=>{Ci(O,s)})},m=>{Ui(m,s)})},mm=(n,s)=>{bg(n).fold(()=>{Ci(n,s)},m=>{n.dom.insertBefore(s.dom,m.dom)})},Ci=(n,s)=>{n.dom.appendChild(s.dom)},xg=(n,s)=>{Ui(n,s),Ci(s,n)},Up=(n,s)=>{re(s,(l,m)=>{const O=m===0?n:s[m-1];Yu(O,l)})},Ta=(n,s)=>{re(s,l=>{Ci(n,l)})},bh=n=>{n.dom.textContent="",re(ol(n),s=>{Ks(s)})},Ks=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Ef=n=>{const s=ol(n);s.length>0&&Up(n,s),Ks(n)},xy=(n,s)=>{const m=(s||document).createElement("div");return m.innerHTML=n,ol(Yt.fromDom(m))},Wp=n=>Ie(n,Yt.fromDom),hs=n=>n.dom.innerHTML,gm=(n,s)=>{const m=jf(n).dom,O=Yt.fromDom(m.createDocumentFragment()),P=xy(s,m);Ta(O,P),bh(n),Ci(n,O)},e0=n=>{const s=Yt.fromTag("div"),l=Yt.fromDom(n.dom.cloneNode(!0));return Ci(s,l),hs(s)},Yp=(n,s,l,m,O,P,Z)=>({target:n,x:s,y:l,stop:m,prevent:O,kill:P,raw:Z}),zS=n=>{const s=Yt.fromDom(Hp(n).getOr(n.target)),l=()=>n.stopPropagation(),m=()=>n.preventDefault(),O=L(m,l);return Yp(s,n.clientX,n.clientY,l,m,O,n)},ZS=(n,s)=>l=>{n(l)&&s(zS(l))},Sy=(n,s,l,m,O)=>{const P=ZS(l,m);return n.dom.addEventListener(s,P,O),{unbind:ee(t0,n,s,P,O)}},pm=(n,s,l,m)=>Sy(n,s,l,m,!1),t0=(n,s,l,m)=>{n.dom.removeEventListener(s,l,m)},vm=(n,s)=>({left:n,top:s,translate:(m,O)=>vm(n+m,s+O)}),Sg=vm,NO=n=>{const s=n.getBoundingClientRect();return Sg(s.left,s.top)},Xu=(n,s)=>n!==void 0?n:s!==void 0?s:0,BO=n=>{const s=n.dom.ownerDocument,l=s.body,m=s.defaultView,O=s.documentElement;if(l===n.dom)return Sg(l.offsetLeft,l.offsetTop);const P=Xu(m==null?void 0:m.pageYOffset,O.scrollTop),Z=Xu(m==null?void 0:m.pageXOffset,O.scrollLeft),J=Xu(O.clientTop,l.clientTop),he=Xu(O.clientLeft,l.clientLeft);return ym(n).translate(Z-he,P-J)},ym=n=>{const s=n.dom,m=s.ownerDocument.body;return m===s?Sg(m.offsetLeft,m.offsetTop):vh(n)?NO(s):Sg(0,0)},Tu=n=>{const s=n!==void 0?n.dom:document,l=s.body.scrollLeft||s.documentElement.scrollLeft,m=s.body.scrollTop||s.documentElement.scrollTop;return Sg(l,m)},n0=(n,s,l)=>{const O=(l!==void 0?l.dom:document).defaultView;O&&O.scrollTo(n,s)},wy=(n,s)=>{ii().browser.isSafari()&&E(n.dom.scrollIntoViewIfNeeded)?n.dom.scrollIntoViewIfNeeded(!1):n.dom.scrollIntoView(s)},wg=n=>{const s=n===void 0?window:n;return ii().browser.isFirefox()?G.none():G.from(s.visualViewport)},Ty=(n,s,l,m)=>({x:n,y:s,width:l,height:m,right:n+l,bottom:s+m}),Cy=n=>{const s=n===void 0?window:n,l=s.document,m=Tu(Yt.fromDom(l));return wg(s).fold(()=>{const O=s.document.documentElement,P=O.clientWidth,Z=O.clientHeight;return Ty(m.left,m.top,P,Z)},O=>Ty(Math.max(O.pageLeft,m.left),Math.max(O.pageTop,m.top),O.width,O.height))},ky=(n,s)=>se(ol(n),s),r0=(n,s)=>{let l=[];return re(ol(n),m=>{s(m)&&(l=l.concat([m])),l=l.concat(r0(m,s))}),l},sl=(n,s)=>Vp(s,n),Xp=(n,s,l)=>Og(n,s,l).isSome();class ca{constructor(s,l){this.node=s,this.rootNode=l,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(s){return this.node=this.findSibling(this.node,"firstChild","nextSibling",s),this.node}prev(s){return this.node=this.findSibling(this.node,"lastChild","previousSibling",s),this.node}prev2(s){return this.node=this.findPreviousNode(this.node,s),this.node}findSibling(s,l,m,O){if(s){if(!O&&s[l])return s[l];if(s!==this.rootNode){let P=s[m];if(P)return P;for(let Z=s.parentNode;Z&&Z!==this.rootNode;Z=Z.parentNode)if(P=Z[m],P)return P}}}findPreviousNode(s,l){if(s){const m=s.previousSibling;if(this.rootNode&&m===this.rootNode)return;if(m){if(!l){for(let P=m.lastChild;P;P=P.lastChild)if(!P.lastChild)return P}return m}const O=s.parentNode;if(O&&O!==this.rootNode)return O}}}const uo=n=>s=>!!s&&s.nodeType===n,Gu=n=>!!n&&!Object.getPrototypeOf(n),Xr=uo(1),zl=n=>Xr(n)&&Ya(Yt.fromDom(n)),HS=n=>Xr(n)&&n.namespaceURI==="http://www.w3.org/2000/svg",Dd=n=>{const s=n.toLowerCase();return l=>B(l)&&l.nodeName.toLowerCase()===s},vi=n=>{const s=n.map(l=>l.toLowerCase());return l=>{if(l&&l.nodeName){const m=l.nodeName.toLowerCase();return Ze(s,m)}return!1}},$d=(n,s)=>{const l=s.toLowerCase().split(" ");return m=>{if(Xr(m)){const O=m.ownerDocument.defaultView;if(O)for(let P=0;P<l.length;P++){const Z=O.getComputedStyle(m,null);if((Z?Z.getPropertyValue(n):null)===l[P])return!0}}return!1}},Gp=n=>s=>Xr(s)&&s.hasAttribute(n),al=(n,s)=>l=>Xr(l)&&l.getAttribute(n)===s,_f=n=>Xr(n)&&n.hasAttribute("data-mce-bogus"),bm=n=>Xr(n)&&n.getAttribute("data-mce-bogus")==="all",ju=n=>Xr(n)&&n.tagName==="TABLE",Ay=n=>s=>!!(zl(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),o0=vi(["textarea","input"]),lr=uo(3),QO=uo(4),Ml=uo(7),Kf=uo(8),Tg=uo(9),da=uo(11),aa=Dd("br"),El=Dd("img"),Zl=Ay("true"),Os=Ay("false"),jp=vi(["td","th"]),il=vi(["td","th","caption"]),ei=vi(["video","audio","object","embed"]),qp=Dd("li"),er=Dd("details"),Zc=Dd("summary"),Cg="\uFEFF",zs=" ",Rf=n=>n===Cg,US=n=>n.replace(/\uFEFF/g,""),s0=((n,s)=>{const l=P=>{if(!n(P))throw new Error("Can only get "+s+" value of a "+s+" node");return m(P).getOr("")},m=P=>n(P)?G.from(P.dom.nodeValue):G.none();return{get:l,getOption:m,set:(P,Z)=>{if(!n(P))throw new Error("Can only set raw "+s+" value of a "+s+" node");P.dom.nodeValue=Z}}})(Zi,"text"),su=n=>s0.get(n),a0=n=>s0.getOption(n),rc=(n,s)=>s0.set(n,s),Ws=["td","th"],au=["thead","tbody","tfoot"],fi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ll=["li","dd","dt"],Ld=["ul","ol","dl"],Jf=["pre","script","textarea","style"],Id=n=>{let s;return l=>(s=s||Ye(n,pe),it(s,Vs(l)))},wc=n=>Vs(n)==="table",ed=n=>kl(n)&&Vs(n)==="br",Mn=Id(fi),Tc=Id(Ld),td=Id(ll),nd=Id(au),Hc=Id(Ws),Wi=Id(Jf),Di=n=>{const s=[];let l=n.dom;for(;l;)s.push(Yt.fromDom(l)),l=l.lastChild;return s},qC=n=>{const s=sl(n,"br"),l=se(Di(n).slice(-1),ed);s.length===l.length&&re(l,Ks)},Cc=()=>{const n=Yt.fromTag("br");return Ra(n,"data-mce-bogus","1"),n},D=n=>{bh(n),Ci(n,Cc())},X=(n,s)=>{xc(n).each(l=>{Uu(l).each(m=>{s.isBlock(Vs(n))&&ed(l)&&s.isBlock(Vs(m))&&Ks(l)})})},de=Cg,we=Rf,Pe=US,Re=n=>n.insertContent(de,{preserve_zwsp:!0}),Ke=Xr,We=lr,rt=n=>(We(n)&&(n=n.parentNode),Ke(n)&&n.hasAttribute("data-mce-caret")),vt=n=>We(n)&&we(n.data),bt=n=>rt(n)||vt(n),Zt=n=>n.firstChild!==n.lastChild||!aa(n.firstChild),Ut=(n,s)=>{var l;const O=((l=n.ownerDocument)!==null&&l!==void 0?l:document).createTextNode(de),P=n.parentNode;if(s){const Z=n.previousSibling;if(We(Z)){if(bt(Z))return Z;if(hn(Z))return Z.splitText(Z.data.length-1)}P==null||P.insertBefore(O,n)}else{const Z=n.nextSibling;if(We(Z)){if(bt(Z))return Z;if(tn(Z))return Z.splitText(1),Z}n.nextSibling?P==null||P.insertBefore(O,n.nextSibling):P==null||P.appendChild(O)}return O},gn=n=>{const s=n.container();return lr(s)?s.data.charAt(n.offset())===de||n.isAtStart()&&vt(s.previousSibling):!1},An=n=>{const s=n.container();return lr(s)?s.data.charAt(n.offset()-1)===de||n.isAtEnd()&&vt(s.nextSibling):!1},jt=(n,s,l)=>{var m;const P=((m=s.ownerDocument)!==null&&m!==void 0?m:document).createElement(n);P.setAttribute("data-mce-caret",l?"before":"after"),P.setAttribute("data-mce-bogus","all"),P.appendChild(Cc().dom);const Z=s.parentNode;return l?Z==null||Z.insertBefore(P,s):s.nextSibling?Z==null||Z.insertBefore(P,s.nextSibling):Z==null||Z.appendChild(P),P},tn=n=>We(n)&&n.data[0]===de,hn=n=>We(n)&&n.data[n.data.length-1]===de,_n=n=>{var s;const l=n.getElementsByTagName("br"),m=l[l.length-1];_f(m)&&((s=m.parentNode)===null||s===void 0||s.removeChild(m))},Pn=n=>n&&n.hasAttribute("data-mce-caret")?(_n(n),n.removeAttribute("data-mce-caret"),n.removeAttribute("data-mce-bogus"),n.removeAttribute("style"),n.removeAttribute("data-mce-style"),n.removeAttribute("_moz_abspos"),n):null,yn=n=>rt(n.startContainer),cr=Zl,Zr=Os,Jr=aa,Ar=lr,no=vi(["script","style","textarea"]),fo=vi(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ts=vi(["table"]),xo=bt,go=n=>xo(n)?!1:Ar(n)?!no(n.parentNode):fo(n)||Jr(n)||ts(n)||ti(n),js=n=>Xr(n)&&n.getAttribute("unselectable")==="true",ti=n=>!js(n)&&Zr(n),ba=(n,s)=>{for(let l=n.parentNode;l&&l!==s;l=l.parentNode){if(ti(l))return!1;if(cr(l))return!0}return!0},Lr=n=>ti(n)?!oe(tt(n.getElementsByTagName("*")),(s,l)=>s||cr(l),!1):!1,Do=n=>fo(n)||Lr(n),ms=(n,s)=>go(n)&&ba(n,s),_s=/^[ \t\r\n]*$/,Ba=n=>_s.test(n),di=n=>{for(const s of n)if(!Rf(s))return!1;return!0},Yi=n=>" \f	\v".indexOf(n)!==-1,$i=n=>n===`
`||n==="\r",Uc=(n,s)=>s<n.length&&s>=0?$i(n[s]):!1,Ki=(n,s=4,l=!0,m=!0)=>{const O=Lt(" ",s),P=n.replace(/\t/g,O);return oe(P,(J,he)=>Yi(he)||he===zs?J.pcIsSpace||J.str===""&&l||J.str.length===P.length-1&&m||Uc(P,J.str.length+1)?{pcIsSpace:!1,str:J.str+zs}:{pcIsSpace:!0,str:J.str+" "}:{pcIsSpace:$i(he),str:J.str+he},{pcIsSpace:!1,str:""}).str},kc=(n,s)=>{const l=Yt.fromDom(s),m=Yt.fromDom(n);return Xp(m,"pre,code",ee(Gs,l))},Hl=(n,s)=>lr(n)&&Ba(n.data)&&!kc(n,s),ea=n=>Xr(n)&&n.nodeName==="A"&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id")),Ku=(n,s)=>go(n)&&!Hl(n,s)||ea(n)||Df(n),Df=Gp("data-mce-bookmark"),Ul=Gp("data-mce-bogus"),Li=al("data-mce-bogus","all"),Wl=n=>yg(Yt.fromDom(n)).exists(s=>!jo(s)),Ii=(n,s)=>{let l=0;if(Ku(n,n))return!1;{let m=n.firstChild;if(!m)return!0;const O=new ca(m,n);do{if(s){if(Li(m)){m=O.next(!0);continue}if(Ul(m)){m=O.next();continue}}if(Zl(m)&&Wl(m))return!1;if(aa(m)){l++,m=O.next();continue}if(Ku(m,n))return!1;m=O.next()}while(m);return l<=1}},ta=(n,s=!0)=>Ii(n.dom,s),Ac=n=>n.toLowerCase()==="svg",Nd=n=>Ac(n.nodeName),Ju=n=>(n==null?void 0:n.nodeName)==="svg"?"svg":"html",Om=["svg"],Bd=()=>{let n=[];const s=()=>n[n.length-1];return{track:P=>{Nd(P)&&n.push(P);let Z=s();return Z&&!Z.contains(P)&&(n.pop(),Z=s()),Ju(Z)},current:()=>Ju(s()),reset:()=>{n=[]}}},Py="data-mce-block",FO=n=>se(Gt(n),s=>!/[A-Z]/.test(s)),Oh=n=>Ie(FO(n),s=>`${s}:`+Ie(Om,l=>`not(${l} ${s})`).join(":")).join(","),Qd=(n,s)=>B(s.querySelector(n))?(s.setAttribute(Py,"true"),s.getAttribute("data-mce-selected")==="inline-boundary"&&s.removeAttribute("data-mce-selected"),!0):(s.removeAttribute(Py),!1),ef=(n,s)=>{const l=Oh(n.getTransparentElements()),m=Oh(n.getBlockElements());return se(s.querySelectorAll(l),O=>Qd(m,O))},kg=(n,s)=>{var l;const m=s?"lastChild":"firstChild";for(let O=n[m];O;O=O[m])if(ta(Yt.fromDom(O))){(l=O.parentNode)===null||l===void 0||l.removeChild(O);return}},Ag=(n,s)=>{const l=document.createRange(),m=n.parentNode;if(m){l.setStartBefore(n),l.setEndBefore(s);const O=l.extractContents();kg(O,!0),l.setStartAfter(s),l.setEndAfter(n);const P=l.extractContents();kg(P,!1),ta(Yt.fromDom(O))||m.insertBefore(O,n),ta(Yt.fromDom(s))||m.insertBefore(s,n),ta(Yt.fromDom(P))||m.insertBefore(P,n),m.removeChild(n)}},KC=(n,s,l)=>{const m=n.getBlockElements(),O=Yt.fromDom(s),P=J=>Vs(J)in m,Z=J=>Gs(J,O);re(Wp(l),J=>{ui(J,P,Z).each(he=>{const _e=ky(J,Ge=>P(Ge)&&!n.isValidChild(Vs(he),Vs(Ge)));if(_e.length>0){const Ge=yg(he);re(_e,qe=>{ui(qe,P,Z).each(ot=>{Ag(ot.dom,qe.dom)})}),Ge.each(qe=>ef(n,qe.dom))}})})},VO=(n,s,l)=>{re([...l,...ks(n,s)?[s]:[]],m=>re(sl(Yt.fromDom(m),m.nodeName.toLowerCase()),O=>{vo(n,O.dom)&&Ef(O)}))},My=(n,s)=>{const l=ef(n,s);KC(n,s,l),VO(n,s,l)},zO=(n,s)=>{if(_y(n,s)){const l=Oh(n.getBlockElements());Qd(l,s)}},JC=(n,s,l)=>{const m=P=>Gs(P,Yt.fromDom(s)),O=hy(Yt.fromDom(l),m);et(O,O.length-2).filter(kl).fold(()=>My(n,s),P=>My(n,P.dom))},ZO=n=>n.hasAttribute(Py),Ey=(n,s)=>it(n.getTransparentElements(),s),_y=(n,s)=>Xr(s)&&Ey(n,s.nodeName),ks=(n,s)=>_y(n,s)&&ZO(s),vo=(n,s)=>_y(n,s)&&!ZO(s),xm=(n,s)=>s.type===1&&Ey(n,s.name)&&M(s.attr(Py)),HO=ii().browser,Ry=n=>le(n,kl),EM=n=>HO.isFirefox()&&Vs(n)==="table"?Ry(ol(n)).filter(s=>Vs(s)==="caption").bind(s=>Ry(Vc(s)).map(l=>{const m=l.dom.offsetTop,O=s.dom.offsetTop,P=s.dom.offsetHeight;return m<=O?-P:0})).getOr(0):0,WS=(n,s)=>n.children&&Ze(n.children,s),Ea=(n,s,l)=>{let m=0,O=0;const P=n.ownerDocument;if(l=l||n,s){if(l===n&&s.getBoundingClientRect&&wi(Yt.fromDom(n),"position")==="static"){const J=s.getBoundingClientRect();return m=J.left+(P.documentElement.scrollLeft||n.scrollLeft)-P.documentElement.clientLeft,O=J.top+(P.documentElement.scrollTop||n.scrollTop)-P.documentElement.clientTop,{x:m,y:O}}let Z=s;for(;Z&&Z!==l&&Z.nodeType&&!WS(Z,l);){const J=Z;m+=J.offsetLeft||0,O+=J.offsetTop||0,Z=J.offsetParent}for(Z=s.parentNode;Z&&Z!==l&&Z.nodeType&&!WS(Z,l);)m-=Z.scrollLeft||0,O-=Z.scrollTop||0,Z=Z.parentNode;O+=EM(Yt.fromDom(s))}return{x:m,y:O}},YS=(n,s={})=>{let l=0;const m={},O=Yt.fromDom(n),P=qf(O),Z=cn=>{s.referrerPolicy=cn},J=cn=>{s.contentCssCors=cn},he=cn=>{Ci(LO(O),cn)},_e=cn=>{const xn=LO(O);Sc(xn,"#"+cn).each(Ks)},Ge=cn=>Sn(m,cn).getOrThunk(()=>({id:"mce-u"+l++,passed:[],failed:[],count:0})),qe=cn=>new Promise((xn,bn)=>{let $n;const rr=fr._addCacheSuffix(cn),gr=Ge(rr);m[rr]=gr,gr.count++;const Qr=(eo,po)=>{re(eo,ge),gr.status=po,gr.passed=[],gr.failed=[],$n&&($n.onload=null,$n.onerror=null,$n=null)},zn=()=>Qr(gr.passed,2),Bn=()=>Qr(gr.failed,3);if(xn&&gr.passed.push(xn),bn&&gr.failed.push(bn),gr.status===1)return;if(gr.status===2){zn();return}if(gr.status===3){Bn();return}gr.status=1;const tr=Yt.fromTag("link",P.dom);Su(tr,{rel:"stylesheet",type:"text/css",id:gr.id}),s.contentCssCors&&Ra(tr,"crossOrigin","anonymous"),s.referrerPolicy&&Ra(tr,"referrerpolicy",s.referrerPolicy),$n=tr.dom,$n.onload=zn,$n.onerror=Bn,he(tr),Ra(tr,"href",rr)}),ot=(cn,xn)=>{const bn=Ge(cn);m[cn]=bn,bn.count++;const $n=Yt.fromTag("style",P.dom);Su($n,{rel:"stylesheet",type:"text/css",id:bn.id}),$n.dom.innerHTML=xn,he($n)},Et=cn=>Promise.allSettled(Ie(cn,bn=>qe(bn).then(ae(bn)))).then(bn=>{const $n=te(bn,rr=>rr.status==="fulfilled");return $n.fail.length>0?Promise.reject(Ie($n.fail,rr=>rr.reason)):Ie($n.pass,rr=>rr.value)}),Vt=cn=>{const xn=fr._addCacheSuffix(cn);Sn(m,xn).each(bn=>{--bn.count===0&&(delete m[xn],_e(bn.id))})};return{load:qe,loadRawCss:ot,loadAll:Et,unload:Vt,unloadRawCss:cn=>{Sn(m,cn).each(xn=>{--xn.count===0&&(delete m[cn],_e(xn.id))})},unloadAll:cn=>{re(cn,xn=>{Vt(xn)})},_setReferrerPolicy:Z,_setContentCssCors:J}},GS=(()=>{const n=new WeakMap;return{forElement:(l,m)=>{const P=Pf(l).dom;return G.from(n.get(P)).getOrThunk(()=>{const Z=YS(P,m);return n.set(P,Z),Z})}}})(),qn=n=>n.nodeName.toLowerCase()==="span",UO=(n,s,l)=>B(n)&&(Ku(n,s)||l.isInline(n.nodeName.toLowerCase())),_M=(n,s,l)=>{const m=new ca(n,s).prev(!1),O=new ca(n,s).next(!1),P=U(m)||UO(m,s,l),Z=U(O)||UO(O,s,l);return P&&Z},Dy=n=>qn(n)&&n.getAttribute("data-mce-type")==="bookmark",RM=(n,s,l)=>lr(n)&&n.data.length>0&&_M(n,s,l),i0=n=>Xr(n)?n.childNodes.length>0:!1,jS=n=>da(n)||Tg(n),Sm=(n,s,l,m)=>{var O;const P=m||s;if(Xr(s)&&Dy(s))return s;const Z=s.childNodes;for(let J=Z.length-1;J>=0;J--)Sm(n,Z[J],l,P);if(Xr(s)){const J=s.childNodes;J.length===1&&Dy(J[0])&&((O=s.parentNode)===null||O===void 0||O.insertBefore(J[0],s))}return!jS(s)&&!Ku(s,P)&&!i0(s)&&!RM(s,P,l)&&n.remove(s),s},DM=fr.makeMap,xh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ca=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sh=/[<>&\"\']/g,qS=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,rd={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},wm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},KS={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Kp=n=>{const s=Yt.fromTag("div").dom;return s.innerHTML=n,s.textContent||s.innerText||n},ek=(n,s)=>{const l={};if(n){const m=n.split(",");s=s||10;for(let O=0;O<m.length;O+=2){const P=String.fromCharCode(parseInt(m[O],s));if(!wm[P]){const Z="&"+m[O+1]+";";l[P]=Z,l[Z]=P}}return l}else return},WO=ek("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),JS=(n,s)=>n.replace(s?xh:Ca,l=>wm[l]||l),$M=n=>(""+n).replace(Sh,s=>wm[s]||s),ew=(n,s)=>n.replace(s?xh:Ca,l=>l.length>1?"&#"+((l.charCodeAt(0)-55296)*1024+(l.charCodeAt(1)-56320)+65536)+";":wm[l]||"&#"+l.charCodeAt(0)+";"),wh=(n,s,l)=>{const m=l||WO;return n.replace(s?xh:Ca,O=>wm[O]||m[O]||O)},Pg={encodeRaw:JS,encodeAllRaw:$M,encodeNumeric:ew,encodeNamed:wh,getEncodeFunc:(n,s)=>{const l=ek(s)||WO,m=(Z,J)=>Z.replace(J?xh:Ca,he=>wm[he]!==void 0?wm[he]:l[he]!==void 0?l[he]:he.length>1?"&#"+((he.charCodeAt(0)-55296)*1024+(he.charCodeAt(1)-56320)+65536)+";":"&#"+he.charCodeAt(0)+";"),O=(Z,J)=>wh(Z,J,l),P=DM(n.replace(/\+/g,","));return P.named&&P.numeric?m:P.named?s?O:wh:P.numeric?ew:JS},decode:n=>n.replace(qS,(s,l)=>l?(l.charAt(0).toLowerCase()==="x"?l=parseInt(l.substr(1),16):l=parseInt(l,10),l>65535?(l-=65536,String.fromCharCode(55296+(l>>10),56320+(l&1023))):rd[l]||String.fromCharCode(l)):KS[s]||WO[s]||Kp(s))},Yl=(n,s)=>(n=fr.trim(n),n?n.split(s||" "):[]),Kr=n=>new RegExp("^"+n.replace(/([?+*])/g,".$1")+"$"),LM=n=>{const s=/^(~)?(.+)$/;return ze(Yl(n,","),l=>{const m=s.exec(l);if(m){const O=m[1]==="~",P=O?"span":"div",Z=m[2];return[{inline:O,cloneName:P,name:Z}]}else return[]})},nw=n=>{let s,l,m;if(s="id accesskey class dir lang style tabindex title role",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",m="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",n!=="html4"){const P="a ins del canvas map";s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure main header footer hgroup section nav "+P,m+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}n!=="html5-strict"&&(s+=" xml:lang",m=[m,"acronym applet basefont big font strike tt"].join(" "),l=[l,"center dir isindex noframes"].join(" "));const O=[l,m].join(" ");return{globalAttributes:s,blockContent:l,phrasingContent:m,flowContent:O}},IM=n=>{const{globalAttributes:s,phrasingContent:l,flowContent:m}=nw(n),O={},P=(he,_e,Ge)=>{O[he]={attributes:Ye(_e,ae({})),attributesOrder:_e,children:Ye(Ge,ae({}))}},Z=(he,_e="",Ge="")=>{const qe=Yl(Ge),ot=Yl(he);let Et=ot.length;const Vt=Yl([s,_e].join(" "));for(;Et--;)P(ot[Et],Vt.slice(),qe)},J=(he,_e)=>{const Ge=Yl(he),qe=Yl(_e);let ot=Ge.length;for(;ot--;){const Et=O[Ge[ot]];for(let Vt=0,kt=qe.length;Vt<kt;Vt++)Et.attributes[qe[Vt]]={},Et.attributesOrder.push(qe[Vt])}};return n!=="html5-strict"&&(re(Yl("acronym applet basefont big font strike tt"),Ge=>{Z(Ge,"",l)}),re(Yl("center dir isindex noframes"),Ge=>{Z(Ge,"",m)})),Z("html","manifest","head body"),Z("head","","base command link meta noscript script style title"),Z("title hr noscript br"),Z("base","href target"),Z("link","href rel media hreflang type sizes hreflang"),Z("meta","name http-equiv content charset"),Z("style","media type scoped"),Z("script","src async defer type charset"),Z("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",m),Z("dd div","",m),Z("address dt caption","",n==="html4"?l:m),Z("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),Z("blockquote","cite",m),Z("ol","reversed start type","li"),Z("ul","","li"),Z("li","value",m),Z("dl","","dt dd"),Z("a","href target rel media hreflang type",n==="html4"?l:m),Z("q","cite",l),Z("ins del","cite datetime",m),Z("img","src sizes srcset alt usemap ismap width height"),Z("iframe","src name width height",m),Z("embed","src type width height"),Z("object","data type typemustmatch name usemap form width height",[m,"param"].join(" ")),Z("param","name value"),Z("map","name",[m,"area"].join(" ")),Z("area","alt coords shape href target rel media hreflang type"),Z("table","border","caption colgroup thead tfoot tbody tr"+(n==="html4"?" col":"")),Z("colgroup","span","col"),Z("col","span"),Z("tbody thead tfoot","","tr"),Z("tr","","td th"),Z("td","colspan rowspan headers",m),Z("th","colspan rowspan headers scope abbr",m),Z("form","accept-charset action autocomplete enctype method name novalidate target",m),Z("fieldset","disabled form name",[m,"legend"].join(" ")),Z("label","form for",l),Z("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Z("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",n==="html4"?m:l),Z("select","disabled form multiple name required size","option optgroup"),Z("optgroup","disabled label","option"),Z("option","disabled label selected value"),Z("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Z("menu","type label",[m,"li"].join(" ")),Z("noscript","",m),n!=="html4"&&(Z("wbr"),Z("ruby","",[l,"rt rp"].join(" ")),Z("figcaption","",m),Z("mark rt rp bdi","",l),Z("summary","",[l,"h1 h2 h3 h4 h5 h6"].join(" ")),Z("canvas","width height",m),Z("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[m,"track source"].join(" ")),Z("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[m,"track source"].join(" ")),Z("picture","","img source"),Z("source","src srcset type media sizes"),Z("track","kind src srclang label default"),Z("datalist","",[l,"option"].join(" ")),Z("article section nav aside main header footer","",m),Z("hgroup","","h1 h2 h3 h4 h5 h6"),Z("figure","",[m,"figcaption"].join(" ")),Z("time","datetime",l),Z("dialog","open",m),Z("command","type label icon disabled checked radiogroup command"),Z("output","for form name",l),Z("progress","value max",l),Z("meter","value min max low high optimum",l),Z("details","open",[m,"summary"].join(" ")),Z("keygen","autofocus challenge disabled form keytype name"),P("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),n!=="html5-strict"&&(J("script","language xml:space"),J("style","xml:space"),J("object","declare classid code codebase codetype archive standby align border hspace vspace"),J("embed","align name hspace vspace"),J("param","valuetype type"),J("a","charset name rev shape coords"),J("br","clear"),J("applet","codebase archive code object alt name width height align hspace vspace"),J("img","name longdesc align border hspace vspace"),J("iframe","longdesc frameborder marginwidth marginheight scrolling align"),J("font basefont","size color face"),J("input","usemap align"),J("select"),J("textarea"),J("h1 h2 h3 h4 h5 h6 div p legend caption","align"),J("ul","type compact"),J("li","type"),J("ol dl menu dir","compact"),J("pre","width xml:space"),J("hr","align noshade size width"),J("isindex","prompt"),J("table","summary width frame rules cellspacing cellpadding align bgcolor"),J("col","width align char charoff valign"),J("colgroup","width align char charoff valign"),J("thead","align char charoff valign"),J("tr","align char charoff valign bgcolor"),J("th","axis align char charoff valign nowrap bgcolor width height"),J("form","accept"),J("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),J("tfoot","align char charoff valign"),J("tbody","align char charoff valign"),J("area","nohref"),J("body","background bgcolor text link vlink alink")),n!=="html4"&&(J("input button select textarea","autofocus"),J("input textarea","placeholder"),J("a","download"),J("link script img","crossorigin"),J("img","loading"),J("iframe","sandbox seamless allow allowfullscreen loading")),n!=="html4"&&re([O.video,O.audio],he=>{delete he.children.audio,delete he.children.video}),re(Yl("a form meter progress dfn"),he=>{O[he]&&delete O[he].children[he]}),delete O.caption.children.table,delete O.script,O},tk=n=>n==="-"?"remove":"add",Jp=n=>{const s=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ze(Yl(n,","),l=>{const m=s.exec(l);if(m){const O=m[1],P=O?tk(O):"replace",Z=m[2],J=Yl(m[3],"|");return[{operation:P,name:Z,validChildren:J}]}else return[]})},l0=(n,s)=>{const l=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,m=/[*?+]/,{attributes:O,attributesOrder:P}=s;return re(Yl(n,"|"),Z=>{const J=l.exec(Z);if(J){const he={},_e=J[1],Ge=J[2].replace(/[\\:]:/g,":"),qe=J[3],ot=J[4];if(_e==="!"&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(Ge),he.required=!0),_e==="-"){delete O[Ge],P.splice(fr.inArray(P,Ge),1);return}if(qe&&(qe==="="?(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:Ge,value:ot}),he.defaultValue=ot):qe==="~"?(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:Ge,value:ot}),he.forcedValue=ot):qe==="<"&&(he.validValues=fr.makeMap(ot,"?"))),m.test(Ge)){const Et=he;s.attributePatterns=s.attributePatterns||[],Et.pattern=Kr(Ge),s.attributePatterns.push(Et)}else O[Ge]||P.push(Ge),O[Ge]=he}})},$y=(n,s)=>{Bt(n.attributes,(l,m)=>{s.attributes[m]=l}),s.attributesOrder.push(...n.attributesOrder)},c0=(n,s)=>{const l=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ze(Yl(s,","),m=>{const O=l.exec(m);if(O){const P=O[1],Z=O[2],J=O[3],he=O[4],_e=O[5],Ge={attributes:{},attributesOrder:[]};if(n.each(qe=>$y(qe,Ge)),P==="#"?Ge.paddEmpty=!0:P==="-"&&(Ge.removeEmpty=!0),he==="!"&&(Ge.removeEmptyAttrs=!0),_e&&l0(_e,Ge),J&&(Ge.outputName=Z),Z==="@")if(n.isNone())n=G.some(Ge);else return[];return[J?{name:Z,element:Ge,aliasName:J}:{name:Z,element:Ge}]}else return[]})},YO={},Tm=fr.makeMap,Fd=fr.each,Ly=fr.extend,$f=fr.explode,XO=(n,s={})=>{const l=Tm(n," ",Tm(n.toUpperCase()," "));return Ly(l,s)},nk=n=>XO("td th li dt dd figcaption caption details summary",n.getTextBlockElements()),u0=(n,s)=>{if(n){const l={};return M(n)&&(n={"*":n}),Fd(n,(m,O)=>{l[O]=l[O.toUpperCase()]=s==="map"?Tm(m,/[, ]/):$f(m,/[, ]/)}),l}else return},Cm=(n={})=>{var s;const l={},m={};let O=[];const P={},Z={},J=(Wo,Hs,Pa)=>{const oi=n[Wo];if(oi)return Tm(oi,/[, ]/,Tm(oi.toUpperCase(),/[, ]/));{let Ua=YO[Wo];return Ua||(Ua=XO(Hs,Pa),YO[Wo]=Ua),Ua}},he=(s=n.schema)!==null&&s!==void 0?s:"html5",_e=IM(he);n.verify_html===!1&&(n.valid_elements="*[*]");const Ge=u0(n.valid_styles),qe=u0(n.invalid_styles,"map"),ot=u0(n.valid_classes,"map"),Et=J("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Vt=J("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),kt=J("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),It=J("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),cn="td th iframe video audio object script code",xn=J("non_empty_elements",cn+" pre svg",kt),bn=J("move_caret_before_on_enter_elements",cn+" table",kt),$n="h1 h2 h3 h4 h5 h6",rr=J("text_block_elements",$n+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),gr=J("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",rr),Qr=J("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),zn=J("transparent_elements","a ins del canvas map"),Bn=J("wrap_block_elements","pre "+$n);Fd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Wo=>{Z[Wo]=new RegExp("</"+Wo+"[^>]*>","gi")});const tr=Wo=>{const Hs=G.from(l["@"]),Pa=/[*?+]/;re(c0(Hs,Wo??""),({name:oi,element:Ua,aliasName:gf})=>{if(gf&&(l[gf]=Ua),Pa.test(oi)){const Gh=Ua;Gh.pattern=Kr(oi),O.push(Gh)}else l[oi]=Ua})},eo=Wo=>{O=[],re(Gt(l),Hs=>{delete l[Hs]}),tr(Wo)},po=Wo=>{delete YO.text_block_elements,delete YO.block_elements,re(LM(Wo??""),({inline:Hs,name:Pa,cloneName:oi})=>{if(m[Pa]=m[oi],P[Pa]=oi,xn[Pa.toUpperCase()]={},xn[Pa]={},Hs||(gr[Pa.toUpperCase()]={},gr[Pa]={}),!l[Pa]){let Ua=l[oi];Ua=Ly({},Ua),delete Ua.removeEmptyAttrs,delete Ua.removeEmpty,l[Pa]=Ua}Bt(m,(Ua,gf)=>{Ua[oi]&&(m[gf]=Ua=Ly({},m[gf]),Ua[Pa]=Ua[oi])})})},ls=Wo=>{re(Jp(Wo??""),({operation:Hs,name:Pa,validChildren:oi})=>{const Ua=Hs==="replace"?{"#comment":{}}:m[Pa];re(oi,gf=>{Hs==="remove"?delete Ua[gf]:Ua[gf]={}}),m[Pa]=Ua})},ys=Wo=>{const Hs=l[Wo];if(Hs)return Hs;let Pa=O.length;for(;Pa--;){const oi=O[Pa];if(oi.pattern.test(Wo))return oi}};n.valid_elements?(eo(n.valid_elements),Fd(_e,(Wo,Hs)=>{m[Hs]=Wo.children})):(Fd(_e,(Wo,Hs)=>{l[Hs]={attributes:Wo.attributes,attributesOrder:Wo.attributesOrder},m[Hs]=Wo.children}),Fd(Yl("strong/b em/i"),Wo=>{const Hs=Yl(Wo,"/");l[Hs[1]].outputName=Hs[0]}),Fd(Qr,(Wo,Hs)=>{l[Hs]&&(n.padd_empty_block_inline_children&&(l[Hs].paddInEmptyBlock=!0),l[Hs].removeEmpty=!0)}),Fd(Yl("ol ul blockquote a table tbody"),Wo=>{l[Wo]&&(l[Wo].removeEmpty=!0)}),Fd(Yl("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Wo=>{l[Wo]&&(l[Wo].paddEmpty=!0)}),Fd(Yl("span"),Wo=>{l[Wo].removeEmptyAttrs=!0})),delete l.svg,po(n.custom_elements),ls(n.valid_children),tr(n.extended_valid_elements),ls("+ol[ul|ol],+ul[ul|ol]"),Fd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Wo,Hs)=>{l[Hs]&&(l[Hs].parentsRequired=Yl(Wo))}),n.invalid_elements&&Fd($f(n.invalid_elements),Wo=>{l[Wo]&&delete l[Wo]}),ys("span")||tr("span[!data-mce-type|*]");const ma=ae(Ge),$s=ae(qe),hi=ae(ot),uc=ae(It),ga=ae(gr),Cr=ae(rr),co=ae(Qr),Zs=ae(Object.seal(kt)),Ss=ae(Vt),ro=ae(xn),Lo=ae(bn),yr=ae(Et),Bo=ae(zn),Ls=ae(Bn),Aa=ae(Object.seal(Z)),Sa=(Wo,Hs)=>{const Pa=m[Wo.toLowerCase()];return!!(Pa&&Pa[Hs.toLowerCase()])},$l=(Wo,Hs)=>{const Pa=ys(Wo);if(Pa)if(Hs){if(Pa.attributes[Hs])return!0;const oi=Pa.attributePatterns;if(oi){let Ua=oi.length;for(;Ua--;)if(oi[Ua].pattern.test(Hs))return!0}}else return!0;return!1},Xh=Wo=>it(ga(),Wo),zf=Wo=>$l(Wo)&&!Xh(Wo),$u=Wo=>it(Ls(),Wo)||zf(Wo),sh=ae(P);return{type:he,children:m,elements:l,getValidStyles:ma,getValidClasses:hi,getBlockElements:ga,getInvalidStyles:$s,getVoidElements:Zs,getTextBlockElements:Cr,getTextInlineElements:co,getBoolAttrs:uc,getElementRule:ys,getSelfClosingElements:Ss,getNonEmptyElements:ro,getMoveCaretBeforeOnEnterElements:Lo,getWhitespaceElements:yr,getTransparentElements:Bo,getSpecialElements:Aa,isValidChild:Sa,isValid:$l,isBlock:Xh,isInline:zf,isWrapper:$u,getCustomElements:sh,addValidElements:tr,setValidElements:eo,addCustomElements:po,addValidChildren:ls}},NM=n=>({value:f0(n)}),f0=n=>xr(n,"#").toUpperCase(),ev=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},od=n=>{const s=ev(n.red)+ev(n.green)+ev(n.blue);return NM(s)},Cu=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,BM=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,rk=(n,s,l,m)=>({red:n,green:s,blue:l,alpha:m}),ok=(n,s,l,m)=>{const O=parseInt(n,10),P=parseInt(s,10),Z=parseInt(l,10),J=parseFloat(m);return rk(O,P,Z,J)},rw=n=>{if(n==="transparent")return G.some(rk(0,0,0,0));const s=Cu.exec(n);if(s!==null)return G.some(ok(s[1],s[2],s[3],"1"));const l=BM.exec(n);return l!==null?G.some(ok(l[1],l[2],l[3],l[4])):G.none()},ku=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,d0=n=>rw(n).map(od).map(s=>"#"+s.value).getOr(n),GO=(n={},s)=>{const l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,m=/\s*([^:]+):\s*([^;]+);?/g,O=/\s+$/,P={};let Z,J;const he=Cg;s&&(Z=s.getValidStyles(),J=s.getInvalidStyles());const _e=(`\\" \\' \\; \\: ; : `+he).split(" ");for(let qe=0;qe<_e.length;qe++)P[_e[qe]]=he+qe,P[he+qe]=_e[qe];const Ge={parse:qe=>{const ot={};let Et=!1;const Vt=n.url_converter,kt=n.url_converter_scope||Ge,It=(zn,Bn,tr)=>{const eo=ot[zn+"-top"+Bn];if(!eo)return;const po=ot[zn+"-right"+Bn];if(!po)return;const ls=ot[zn+"-bottom"+Bn];if(!ls)return;const ys=ot[zn+"-left"+Bn];if(!ys)return;const ma=[eo,po,ls,ys];let $s=ma.length-1;for(;$s--&&ma[$s]===ma[$s+1];);$s>-1&&tr||(ot[zn+Bn]=$s===-1?ma[0]:ma.join(" "),delete ot[zn+"-top"+Bn],delete ot[zn+"-right"+Bn],delete ot[zn+"-bottom"+Bn],delete ot[zn+"-left"+Bn])},cn=zn=>{const Bn=ot[zn];if(!Bn)return;const tr=Bn.indexOf(",")>-1?[Bn]:Bn.split(" ");let eo=tr.length;for(;eo--;)if(tr[eo]!==tr[0])return!1;return ot[zn]=tr[0],!0},xn=(zn,Bn,tr,eo)=>{cn(Bn)&&cn(tr)&&cn(eo)&&(ot[zn]=ot[Bn]+" "+ot[tr]+" "+ot[eo],delete ot[Bn],delete ot[tr],delete ot[eo])},bn=zn=>(Et=!0,P[zn]),$n=(zn,Bn)=>(Et&&(zn=zn.replace(/\uFEFF[0-9]/g,tr=>P[tr])),Bn||(zn=zn.replace(/\\([\'\";:])/g,"$1")),zn),rr=zn=>String.fromCharCode(parseInt(zn.slice(1),16)),gr=zn=>zn.replace(/\\[0-9a-f]+/gi,rr),Qr=(zn,Bn,tr,eo,po,ls)=>{if(po=po||ls,po)return po=$n(po),"'"+po.replace(/\'/g,"\\'")+"'";if(Bn=$n(Bn||tr||eo||""),!n.allow_script_urls){const ys=Bn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ys)||!n.allow_svg_data_urls&&/^data:image\/svg/i.test(ys))return""}return Vt&&(Bn=Vt.call(kt,Bn,"style")),"url('"+Bn.replace(/\'/g,"\\'")+"')"};if(qe){qe=qe.replace(/[\u0000-\u001F]/g,""),qe=qe.replace(/\\[\"\';:\uFEFF]/g,bn).replace(/\"[^\"]+\"|\'[^\']+\'/g,Bn=>Bn.replace(/[;:]/g,bn));let zn;for(;zn=m.exec(qe);){m.lastIndex=zn.index+zn[0].length;let Bn=zn[1].replace(O,"").toLowerCase(),tr=zn[2].replace(O,"");if(Bn&&tr){if(Bn=gr(Bn),tr=gr(tr),Bn.indexOf(he)!==-1||Bn.indexOf('"')!==-1||!n.allow_script_urls&&(Bn==="behavior"||/expression\s*\(|\/\*|\*\//.test(tr)))continue;Bn==="font-weight"&&tr==="700"?tr="bold":(Bn==="color"||Bn==="background-color")&&(tr=tr.toLowerCase()),M(n.force_hex_color)&&n.force_hex_color!=="off"&&rw(tr).each(eo=>{(n.force_hex_color==="always"||eo.alpha===1)&&(tr=d0(ku(eo)))}),tr=tr.replace(l,Qr),ot[Bn]=Et?$n(tr,!0):tr}}It("border","",!0),It("border","-width"),It("border","-color"),It("border","-style"),It("padding",""),It("margin",""),xn("border","border-width","border-style","border-color"),ot.border==="medium none"&&delete ot.border,ot["border-image"]==="none"&&delete ot["border-image"]}return ot},serialize:(qe,ot)=>{let Et="";const Vt=(It,cn)=>{const xn=cn[It];if(xn)for(let bn=0,$n=xn.length;bn<$n;bn++){const rr=xn[bn],gr=qe[rr];gr&&(Et+=(Et.length>0?" ":"")+rr+": "+gr+";")}},kt=(It,cn)=>{if(!J||!cn)return!0;let xn=J["*"];return xn&&xn[It]?!1:(xn=J[cn],!(xn&&xn[It]))};return ot&&Z?(Vt("*",Z),Vt(ot,Z)):Bt(qe,(It,cn)=>{It&&kt(cn,ot)&&(Et+=(Et.length>0?" ":"")+cn+": "+It+";")}),Et}};return Ge},jO={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},QM=n=>n instanceof Event||E(n.initEvent),sk=n=>n.isDefaultPrevented===pe||n.isDefaultPrevented===ne,ow=n=>Q(n.preventDefault)||QM(n),h0=(n,s)=>{const l=s??{};for(const m in n)it(jO,m)||(l[m]=n[m]);return B(n.composedPath)&&(l.composedPath=()=>n.composedPath()),B(n.getModifierState)&&(l.getModifierState=m=>n.getModifierState(m)),B(n.getTargetRanges)&&(l.getTargetRanges=()=>n.getTargetRanges()),l},m0=(n,s,l,m)=>{var O;const P=h0(s,m);return P.type=n,Q(P.target)&&(P.target=(O=P.srcElement)!==null&&O!==void 0?O:l),ow(s)&&(P.preventDefault=()=>{P.defaultPrevented=!0,P.isDefaultPrevented=pe,E(s.preventDefault)&&s.preventDefault()},P.stopPropagation=()=>{P.cancelBubble=!0,P.isPropagationStopped=pe,E(s.stopPropagation)&&s.stopPropagation()},P.stopImmediatePropagation=()=>{P.isImmediatePropagationStopped=pe,P.stopPropagation()},sk(P)||(P.isDefaultPrevented=P.defaultPrevented===!0?pe:ne,P.isPropagationStopped=P.cancelBubble===!0?pe:ne,P.isImmediatePropagationStopped=ne)),P},qO="mce-data-",FM=/^(?:mouse|contextmenu)|click/,KO=(n,s,l,m)=>{n.addEventListener(s,l,m||!1)},g0=(n,s,l,m)=>{n.removeEventListener(s,l,m||!1)},VM=n=>B(n)&&FM.test(n.type),Iy=(n,s)=>{const l=m0(n.type,n,document,s);if(VM(n)&&U(n.pageX)&&!U(n.clientX)){const m=l.target.ownerDocument||document,O=m.documentElement,P=m.body,Z=l;Z.pageX=n.clientX+(O&&O.scrollLeft||P&&P.scrollLeft||0)-(O&&O.clientLeft||P&&P.clientLeft||0),Z.pageY=n.clientY+(O&&O.scrollTop||P&&P.scrollTop||0)-(O&&O.clientTop||P&&P.clientTop||0)}return l},sw=(n,s,l)=>{const m=n.document,O={type:"ready"};if(l.domLoaded){s(O);return}const P=()=>m.readyState==="complete"||m.readyState==="interactive"&&m.body,Z=()=>{g0(n,"DOMContentLoaded",Z),g0(n,"load",Z),l.domLoaded||(l.domLoaded=!0,s(O)),n=null};P()?Z():KO(n,"DOMContentLoaded",Z),l.domLoaded||KO(n,"load",Z)};class Au{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=qO+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(s,l,m,O){const P=this;let Z;const J=window,he=ot=>{P.executeHandlers(Iy(ot||J.event),_e)};if(!s||lr(s)||Kf(s))return m;let _e;s[P.expando]?_e=s[P.expando]:(_e=P.count++,s[P.expando]=_e,P.events[_e]={}),O=O||s;const Ge=l.split(" ");let qe=Ge.length;for(;qe--;){let ot=Ge[qe],Et=he,Vt=!1,kt=!1;if(ot==="DOMContentLoaded"&&(ot="ready"),P.domLoaded&&ot==="ready"&&s.readyState==="complete"){m.call(O,Iy({type:ot}));continue}!P.hasFocusIn&&(ot==="focusin"||ot==="focusout")&&(Vt=!0,kt=ot==="focusin"?"focus":"blur",Et=It=>{const cn=Iy(It||J.event);cn.type=cn.type==="focus"?"focusin":"focusout",P.executeHandlers(cn,_e)}),Z=P.events[_e][ot],Z?ot==="ready"&&P.domLoaded?m(Iy({type:ot})):Z.push({func:m,scope:O}):(P.events[_e][ot]=Z=[{func:m,scope:O}],Z.fakeName=kt,Z.capture=Vt,Z.nativeHandler=Et,ot==="ready"?sw(s,Et,P):KO(s,kt||ot,Et,Vt))}return s=Z=null,m}unbind(s,l,m){if(!s||lr(s)||Kf(s))return this;const O=s[this.expando];if(O){let P=this.events[O];if(l){const Z=l.split(" ");let J=Z.length;for(;J--;){const he=Z[J],_e=P[he];if(_e){if(m){let Ge=_e.length;for(;Ge--;)if(_e[Ge].func===m){const qe=_e.nativeHandler,ot=_e.fakeName,Et=_e.capture,Vt=_e.slice(0,Ge).concat(_e.slice(Ge+1));Vt.nativeHandler=qe,Vt.fakeName=ot,Vt.capture=Et,P[he]=Vt}}(!m||_e.length===0)&&(delete P[he],g0(s,_e.fakeName||he,_e.nativeHandler,_e.capture))}}}else Bt(P,(Z,J)=>{g0(s,Z.fakeName||J,Z.nativeHandler,Z.capture)}),P={};for(const Z in P)if(it(P,Z))return this;delete this.events[O];try{delete s[this.expando]}catch{s[this.expando]=null}}return this}fire(s,l,m){return this.dispatch(s,l,m)}dispatch(s,l,m){if(!s||lr(s)||Kf(s))return this;const O=Iy({type:l,target:s},m);do{const P=s[this.expando];P&&this.executeHandlers(O,P),s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow}while(s&&!O.isPropagationStopped());return this}clean(s){if(!s||lr(s)||Kf(s))return this;if(s[this.expando]&&this.unbind(s),s.getElementsByTagName||(s=s.document),s&&s.getElementsByTagName){this.unbind(s);const l=s.getElementsByTagName("*");let m=l.length;for(;m--;)s=l[m],s[this.expando]&&this.unbind(s)}return this}destroy(){this.events={}}cancel(s){return s&&(s.preventDefault(),s.stopImmediatePropagation()),!1}executeHandlers(s,l){const m=this.events[l],O=m&&m[s.type];if(O)for(let P=0,Z=O.length;P<Z;P++){const J=O[P];if(J&&J.func.call(J.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped())return}}}Au.Event=new Au;const JO=fr.each,ak=fr.grep,ex="data-mce-style",K$=fr.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),tx=(n,s,l)=>{Q(l)||l===""?ci(n,s):Ra(n,s,l)},Mg=n=>n.replace(/[A-Z]/g,s=>"-"+s.toLowerCase()),Th=(n,s)=>{let l=0;if(n)for(let m=n.nodeType,O=n.previousSibling;O;O=O.previousSibling){const P=O.nodeType;s&&lr(O)&&(P===m||!O.data.length)||(l++,m=P)}return l},aw=(n,s)=>{const l=Al(s,"style"),m=n.serialize(n.parse(l),Vs(s));tx(s,ex,m)},p0=(n,s)=>W(n)?it(K$,s)?n+"":n+"px":n,nx=(n,s,l)=>{const m=Mg(s);Q(l)||l===""?Jv(n,m):by(n,m,p0(l,m))},ik=(n,s,l)=>{const m=s.keep_values,O={set:(Z,J,he)=>{const _e=Yt.fromDom(Z);E(s.url_converter)&&B(J)&&(J=s.url_converter.call(s.url_converter_scope||l(),String(J),he,Z));const Ge="data-mce-"+he;tx(_e,Ge,J),tx(_e,he,J)},get:(Z,J)=>{const he=Yt.fromDom(Z);return Al(he,"data-mce-"+J)||Al(he,J)}},P={style:{set:(Z,J)=>{const he=Yt.fromDom(Z);m&&tx(he,ex,J),ci(he,"style"),M(J)&&nc(he,n.parse(J))},get:Z=>{const J=Yt.fromDom(Z),he=Al(J,ex)||Al(J,"style");return n.serialize(n.parse(he),Vs(J))}}};return m&&(P.href=P.src=O),P},Da=(n,s={})=>{const l={},m=window,O={};let P=0;const Z=!0,J=!0,he=GS.forElement(Yt.fromDom(n),{contentCssCors:s.contentCssCors,referrerPolicy:s.referrerPolicy}),_e=[],Ge=s.schema?s.schema:Cm({}),qe=GO({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope,force_hex_color:s.force_hex_color},s.schema),ot=s.ownEvents?new Au:Au.Event,Et=Ge.getBlockElements(),Vt=Ln=>M(Ln)?it(Et,Ln):Xr(Ln)&&(it(Et,Ln.nodeName)||ks(Ge,Ln)),kt=Ln=>Ln&&n&&M(Ln)?n.getElementById(Ln):Ln,It=Ln=>{const In=kt(Ln);return B(In)?Yt.fromDom(In):null},cn=(Ln,In,br="")=>{let hr;const mo=It(Ln);if(B(mo)&&kl(mo)){const bs=J2[In];bs&&bs.get?hr=bs.get(mo.dom,In):hr=Al(mo,In)}return B(hr)?hr:br},xn=Ln=>{const In=kt(Ln);return Q(In)?[]:In.attributes},bn=(Ln,In,br)=>{co(Ln,hr=>{if(Xr(hr)){const mo=Yt.fromDom(hr),bs=br===""?null:br,ja=Al(mo,In),pf=J2[In];pf&&pf.set?pf.set(mo.dom,bs,In):tx(mo,In,bs),ja!==bs&&s.onSetAttrib&&s.onSetAttrib({attrElm:mo.dom,attrName:In,attrValue:bs})}})},$n=(Ln,In)=>Ln.cloneNode(In),rr=()=>s.root_element||n.body,gr=Ln=>{const In=Cy(Ln);return{x:In.x,y:In.y,w:In.width,h:In.height}},Qr=(Ln,In)=>Ea(n.body,kt(Ln),In),zn=(Ln,In,br)=>{co(Ln,hr=>{const mo=Yt.fromDom(hr);nx(mo,In,br),s.update_styles&&aw(qe,mo)})},Bn=(Ln,In)=>{co(Ln,br=>{const hr=Yt.fromDom(br);Bt(In,(mo,bs)=>{nx(hr,bs,mo)}),s.update_styles&&aw(qe,hr)})},tr=(Ln,In,br)=>{const hr=kt(Ln);if(!(Q(hr)||!zl(hr)&&!HS(hr)))return br?wi(Yt.fromDom(hr),Mg(In)):(In=In.replace(/-(\D)/g,(mo,bs)=>bs.toUpperCase()),In==="float"&&(In="cssFloat"),hr.style?hr.style[In]:void 0)},eo=Ln=>{const In=kt(Ln);if(!In)return{w:0,h:0};let br=tr(In,"width"),hr=tr(In,"height");return(!br||br.indexOf("px")===-1)&&(br="0"),(!hr||hr.indexOf("px")===-1)&&(hr="0"),{w:parseInt(br,10)||In.offsetWidth||In.clientWidth,h:parseInt(hr,10)||In.offsetHeight||In.clientHeight}},po=Ln=>{const In=kt(Ln),br=Qr(In),hr=eo(In);return{x:br.x,y:br.y,w:hr.w,h:hr.h}},ls=(Ln,In)=>{if(!Ln)return!1;const br=N(Ln)?Ln:[Ln];return De(br,hr=>Hu(Yt.fromDom(hr),In))},ys=(Ln,In,br,hr)=>{const mo=[];let bs=kt(Ln);hr=hr===void 0;const ja=br||(rr().nodeName!=="BODY"?rr().parentNode:null);if(M(In))if(In==="*")In=Xr;else{const pf=In;In=fc=>ls(fc,pf)}for(;bs&&!(bs===ja||Q(bs.nodeType)||Tg(bs)||da(bs));){if(!In||In(bs))if(hr)mo.push(bs);else return[bs];bs=bs.parentNode}return hr?mo:null},ma=(Ln,In,br)=>{const hr=ys(Ln,In,br,!1);return hr&&hr.length>0?hr[0]:null},$s=(Ln,In,br)=>{let hr=In;if(Ln){M(In)&&(hr=mo=>ls(mo,In));for(let mo=Ln[br];mo;mo=mo[br])if(E(hr)&&hr(mo))return mo}return null},hi=(Ln,In)=>$s(Ln,In,"nextSibling"),uc=(Ln,In)=>$s(Ln,In,"previousSibling"),ga=Ln=>E(Ln.querySelectorAll),Cr=(Ln,In)=>{var br,hr;const mo=(hr=(br=kt(In))!==null&&br!==void 0?br:s.root_element)!==null&&hr!==void 0?hr:n;return ga(mo)?tt(mo.querySelectorAll(Ln)):[]},co=function(Ln,In,br){const hr=br??this;if(N(Ln)){const mo=[];return JO(Ln,(bs,ja)=>{const pf=kt(bs);pf&&mo.push(In.call(hr,pf,ja))}),mo}else{const mo=kt(Ln);return mo?In.call(hr,mo):!1}},Zs=(Ln,In)=>{co(Ln,br=>{Bt(In,(hr,mo)=>{bn(br,mo,hr)})})},Ss=(Ln,In)=>{co(Ln,br=>{const hr=Yt.fromDom(br);gm(hr,In)})},ro=(Ln,In,br,hr,mo)=>co(Ln,bs=>{const ja=M(In)?n.createElement(In):In;return B(br)&&Zs(ja,br),hr&&(!M(hr)&&hr.nodeType?ja.appendChild(hr):M(hr)&&Ss(ja,hr)),mo?ja:bs.appendChild(ja)}),Lo=(Ln,In,br)=>ro(n.createElement(Ln),Ln,In,br,!0),yr=Pg.decode,Bo=Pg.encodeAllRaw,Ls=(Ln,In,br="")=>{let hr="<"+Ln;for(const mo in In)ut(In,mo)&&(hr+=" "+mo+'="'+Bo(In[mo])+'"');return Ct(br)&&it(Ge.getVoidElements(),Ln)?hr+" />":hr+">"+br+"</"+Ln+">"},Aa=Ln=>{const In=n.createElement("div"),br=n.createDocumentFragment();br.appendChild(In),Ln&&(In.innerHTML=Ln);let hr;for(;hr=In.firstChild;)br.appendChild(hr);return br.removeChild(In),br},Sa=(Ln,In)=>co(Ln,br=>{const hr=Yt.fromDom(br);return In&&re(ol(hr),mo=>{Zi(mo)&&mo.dom.length===0?Ks(mo):Ui(hr,mo)}),Ks(hr),hr.dom}),$l=Ln=>co(Ln,In=>{const br=In.attributes;for(let hr=br.length-1;hr>=0;hr--)In.removeAttributeNode(br.item(hr))}),Xh=Ln=>qe.parse(Ln),zf=(Ln,In)=>qe.serialize(Ln,In),$u=Ln=>{if(hp!==Da.DOM&&n===document){if(l[Ln])return;l[Ln]=!0}let In=n.getElementById("mceDefaultStyles");if(!In){In=n.createElement("style"),In.id="mceDefaultStyles",In.type="text/css";const br=n.head;br.firstChild?br.insertBefore(In,br.firstChild):br.appendChild(In)}In.styleSheet?In.styleSheet.cssText+=Ln:In.appendChild(n.createTextNode(Ln))},sh=Ln=>{Ln||(Ln=""),re(Ln.split(","),In=>{O[In]=!0,he.load(In).catch(ie)})},Wo=(Ln,In,br)=>{co(Ln,hr=>{if(Xr(hr)){const mo=Yt.fromDom(hr),bs=In.split(" ");re(bs,ja=>{B(br)?(br?cm:um)(mo,ja):MO(mo,ja)})}})},Hs=(Ln,In)=>{Wo(Ln,In,!0)},Pa=(Ln,In)=>{Wo(Ln,In,!1)},oi=(Ln,In)=>{const br=It(Ln),hr=In.split(" ");return B(br)&&Xe(hr,mo=>gh(br,mo))},Ua=Ln=>{co(Ln,In=>Jv(Yt.fromDom(In),"display"))},gf=Ln=>{co(Ln,In=>by(Yt.fromDom(In),"display","none"))},Gh=Ln=>{const In=It(Ln);return B(In)&&Qa(Hi(In,"display"),"none")},_v=Ln=>(Ln||"mce_")+P++,OP=Ln=>{const In=It(Ln);return B(In)?Xr(In.dom)?In.dom.outerHTML:e0(In):""},tC=(Ln,In)=>{co(Ln,br=>{Xr(br)&&(br.outerHTML=In)})},xP=(Ln,In)=>{const br=kt(In);return co(Ln,hr=>{const mo=br==null?void 0:br.parentNode,bs=br==null?void 0:br.nextSibling;return mo&&(bs?mo.insertBefore(hr,bs):mo.appendChild(hr)),hr})},j2=(Ln,In,br)=>co(In,hr=>{var mo;const bs=N(In)?Ln.cloneNode(!0):Ln;return br&&JO(ak(hr.childNodes),ja=>{bs.appendChild(ja)}),(mo=hr.parentNode)===null||mo===void 0||mo.replaceChild(bs,hr),hr}),SP=(Ln,In)=>{if(Ln.nodeName!==In.toUpperCase()){const br=Lo(In);return JO(xn(Ln),hr=>{bn(br,hr.nodeName,cn(Ln,hr.nodeName))}),j2(br,Ln,!0),br}else return Ln},q2=(Ln,In)=>{let br=Ln;for(;br;){let hr=In;for(;hr&&br!==hr;)hr=hr.parentNode;if(br===hr)break;br=br.parentNode}return!br&&Ln.ownerDocument?Ln.ownerDocument.documentElement:br},_1=Ln=>{if(Xr(Ln)){const In=Ln.nodeName.toLowerCase()==="a"&&!cn(Ln,"href")&&cn(Ln,"id");if(cn(Ln,"name")||cn(Ln,"data-mce-bookmark")||In)return!0}return!1},jh=(Ln,In,br)=>{let hr=0;if(_1(Ln))return!1;const mo=Ln.firstChild;if(mo){const bs=new ca(mo,Ln),ja=Ge?Ge.getWhitespaceElements():{},pf=In||(Ge?Ge.getNonEmptyElements():null);let fc=mo;do{if(Xr(fc)){const aO=fc.getAttribute("data-mce-bogus");if(aO){fc=bs.next(aO==="all");continue}const ah=fc.nodeName.toLowerCase();if(pf&&pf[ah]){if(ah==="br"){hr++,fc=bs.next();continue}return!1}if(_1(fc))return!1}if(Kf(fc)||lr(fc)&&!Ba(fc.data)&&(!(br!=null&&br.includeZwsp)||!di(fc.data))||lr(fc)&&fc.parentNode&&ja[fc.parentNode.nodeName]&&Ba(fc.data))return!1;fc=bs.next()}while(fc)}return hr<=1},jm=()=>n.createRange(),K2=(Ln,In,br)=>{let hr=jm(),mo,bs;if(Ln&&In&&Ln.parentNode&&In.parentNode){const ja=Ln.parentNode;return hr.setStart(ja,Th(Ln)),hr.setEnd(In.parentNode,Th(In)),mo=hr.extractContents(),hr=jm(),hr.setStart(In.parentNode,Th(In)+1),hr.setEnd(ja,Th(Ln)+1),bs=hr.extractContents(),ja.insertBefore(Sm(hp,mo,Ge),Ln),br?ja.insertBefore(br,Ln):ja.insertBefore(In,Ln),ja.insertBefore(Sm(hp,bs,Ge),Ln),Sa(Ln),br||In}else return},oO=(Ln,In,br,hr)=>{if(N(Ln)){let mo=Ln.length;const bs=[];for(;mo--;)bs[mo]=oO(Ln[mo],In,br,hr);return bs}else return s.collect&&(Ln===n||Ln===m)&&_e.push([Ln,In,br,hr]),ot.bind(Ln,In,br,hr||hp)},nC=(Ln,In,br)=>{if(N(Ln)){let hr=Ln.length;const mo=[];for(;hr--;)mo[hr]=nC(Ln[hr],In,br);return mo}else{if(_e.length>0&&(Ln===n||Ln===m)){let hr=_e.length;for(;hr--;){const[mo,bs,ja]=_e[hr];Ln===mo&&(!In||In===bs)&&(!br||br===ja)&&ot.unbind(mo,bs,ja)}}return ot.unbind(Ln,In,br)}},qm=(Ln,In,br)=>ot.dispatch(Ln,In,br),wP=(Ln,In,br)=>ot.dispatch(Ln,In,br),rC=Ln=>{if(Ln&&zl(Ln)){const In=Ln.getAttribute("data-mce-contenteditable");return In&&In!=="inherit"?In:Ln.contentEditable!=="inherit"?Ln.contentEditable:null}else return null},hp={doc:n,settings:s,win:m,files:O,stdMode:Z,boxModel:J,styleSheetLoader:he,boundEvents:_e,styles:qe,schema:Ge,events:ot,isBlock:Vt,root:null,clone:$n,getRoot:rr,getViewPort:gr,getRect:po,getSize:eo,getParent:ma,getParents:ys,get:kt,getNext:hi,getPrev:uc,select:Cr,is:ls,add:ro,create:Lo,createHTML:Ls,createFragment:Aa,remove:Sa,setStyle:zn,getStyle:tr,setStyles:Bn,removeAllAttribs:$l,setAttrib:bn,setAttribs:Zs,getAttrib:cn,getPos:Qr,parseStyle:Xh,serializeStyle:zf,addStyle:$u,loadCSS:sh,addClass:Hs,removeClass:Pa,hasClass:oi,toggleClass:Wo,show:Ua,hide:gf,isHidden:Gh,uniqueId:_v,setHTML:Ss,getOuterHTML:OP,setOuterHTML:tC,decode:yr,encode:Bo,insertAfter:xP,replace:j2,rename:SP,findCommonAncestor:q2,run:co,getAttribs:xn,isEmpty:jh,createRng:jm,nodeIndex:Th,split:K2,bind:oO,unbind:nC,fire:wP,dispatch:qm,getContentEditable:rC,getContentEditableParent:Ln=>{const In=rr();let br=null;for(let hr=Ln;hr&&hr!==In&&(br=rC(hr),br===null);hr=hr.parentNode);return br},isEditable:Ln=>{if(B(Ln)){const In=Xr(Ln)?Ln:Ln.parentElement;return B(In)&&zl(In)&&jo(Yt.fromDom(In))}else return!1},destroy:()=>{if(_e.length>0){let Ln=_e.length;for(;Ln--;){const[In,br,hr]=_e[Ln];ot.unbind(In,br,hr)}}Bt(O,(Ln,In)=>{he.unload(In),delete O[In]})},isChildOf:(Ln,In)=>Ln===In||In.contains(Ln),dumpRng:Ln=>"startContainer: "+Ln.startContainer.nodeName+", startOffset: "+Ln.startOffset+", endContainer: "+Ln.endContainer.nodeName+", endOffset: "+Ln.endOffset},J2=ik(qe,s,ae(hp));return hp};Da.DOM=Da(document),Da.nodeIndex=Th;const zM=Da.DOM,ki=0,lk=1,Xa=2,v0=3;class Ji{constructor(s={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=s}_setReferrerPolicy(s){this.settings.referrerPolicy=s}loadScript(s){return new Promise((l,m)=>{const O=zM;let P;const Z=()=>{O.remove(_e),P&&(P.onerror=P.onload=P=null)},J=()=>{Z(),l()},he=()=>{Z(),m("Failed to load script: "+s)},_e=O.uniqueId();P=document.createElement("script"),P.id=_e,P.type="text/javascript",P.src=fr._addCacheSuffix(s),this.settings.referrerPolicy&&O.setAttrib(P,"referrerpolicy",this.settings.referrerPolicy),P.onload=J,P.onerror=he,(document.getElementsByTagName("head")[0]||document.body).appendChild(P)})}isDone(s){return this.states[s]===Xa}markDone(s){this.states[s]=Xa}add(s){const l=this;return l.queue.push(s),l.states[s]===void 0&&(l.states[s]=ki),new Promise((O,P)=>{l.scriptLoadedCallbacks[s]||(l.scriptLoadedCallbacks[s]=[]),l.scriptLoadedCallbacks[s].push({resolve:O,reject:P})})}load(s){return this.add(s)}remove(s){delete this.states[s],delete this.scriptLoadedCallbacks[s]}loadQueue(){const s=this.queue;return this.queue=[],this.loadScripts(s)}loadScripts(s){const l=this,m=(he,_e)=>{Sn(l.scriptLoadedCallbacks,_e).each(Ge=>{re(Ge,qe=>qe[he](_e))}),delete l.scriptLoadedCallbacks[_e]},O=he=>{const _e=se(he,Ge=>Ge.status==="rejected");return _e.length>0?Promise.reject(ze(_e,({reason:Ge})=>N(Ge)?Ge:[Ge])):Promise.resolve()},P=he=>Promise.allSettled(Ie(he,_e=>l.states[_e]===Xa?(m("resolve",_e),Promise.resolve()):l.states[_e]===v0?(m("reject",_e),Promise.reject(_e)):(l.states[_e]=lk,l.loadScript(_e).then(()=>{l.states[_e]=Xa,m("resolve",_e);const Ge=l.queue;return Ge.length>0?(l.queue=[],P(Ge).then(O)):Promise.resolve()},()=>(l.states[_e]=v0,m("reject",_e),Promise.reject(_e)))))),Z=he=>(l.loading=!0,P(he).then(_e=>{l.loading=!1;const Ge=l.queueLoadedCallbacks.shift();return G.from(Ge).each(ge),O(_e)})),J=gt(s);return l.loading?new Promise((he,_e)=>{l.queueLoadedCallbacks.push(()=>{Z(J).then(he,_e)})}):Z(J)}}Ji.ScriptLoader=new Ji;const ni=n=>{let s=n;return{get:()=>s,set:O=>{s=O}}},tf=(n,s)=>{const l=n.indexOf(s);return l!==-1&&n.indexOf(s,l+1)>l},iw=n=>I(n)&&it(n,"raw"),Xl=n=>N(n)&&n.length>1,Ny={},y0=ni("en"),Ch=()=>Sn(Ny,y0.get()),sd={getData:()=>vn(Ny,n=>({...n})),setCode:n=>{n&&y0.set(n)},getCode:()=>y0.get(),add:(n,s)=>{let l=Ny[n];l||(Ny[n]=l={});const m=Ie(Gt(s),O=>O.toLowerCase());Bt(s,(O,P)=>{const Z=P.toLowerCase();Z!==P&&tf(m,Z)?(it(s,Z)||(l[Z]=O),l[P]=O):l[Z]=O})},translate:n=>{const s=Ch().getOr({}),l=Z=>E(Z)?Object.prototype.toString.call(Z):m(Z)?"":""+Z,m=Z=>Z===""||Z===null||Z===void 0,O=Z=>{const J=l(Z);return it(s,J)?l(s[J]):Sn(s,J.toLowerCase()).map(l).getOr(J)},P=Z=>Z.replace(/{context:\w+}$/,"");if(m(n))return"";if(iw(n))return l(n.raw);if(Xl(n)){const Z=n.slice(1),J=O(n[0]).replace(/\{([0-9]+)\}/g,(he,_e)=>it(Z,_e)?l(Z[_e]):he);return P(J)}return P(O(n))},isRtl:()=>Ch().bind(n=>Sn(n,"_dir")).exists(n=>n==="rtl"),hasCode:n=>it(Ny,n)},Pc=()=>{const n=[],s={},l={},m=[],O=(kt,It)=>{const cn=se(m,xn=>xn.name===kt&&xn.state===It);re(cn,xn=>xn.resolve())},P=kt=>it(s,kt),Z=kt=>it(l,kt),J=kt=>{if(l[kt])return l[kt].instance},he=(kt,It)=>{const cn=sd.getCode(),xn=","+(It||"")+",";!cn||It&&xn.indexOf(","+cn+",")===-1||Ji.ScriptLoader.add(s[kt]+"/langs/"+cn+".js")},_e=(kt,It)=>{Pc.languageLoad!==!1&&(P(kt)?he(kt,It):Vt(kt,"loaded").then(()=>he(kt,It)))},Ge=(kt,It)=>(n.push(It),l[kt]={instance:It},O(kt,"added"),It),qe=kt=>{delete s[kt],delete l[kt]},ot=(kt,It)=>M(It)?M(kt)?{prefix:"",resource:It,suffix:""}:{prefix:kt.prefix,resource:It,suffix:kt.suffix}:It,Et=(kt,It)=>{if(s[kt])return Promise.resolve();let cn=M(It)?It:It.prefix+It.resource+It.suffix;cn.indexOf("/")!==0&&cn.indexOf("://")===-1&&(cn=Pc.baseURL+"/"+cn),s[kt]=cn.substring(0,cn.lastIndexOf("/"));const xn=()=>(O(kt,"loaded"),Promise.resolve());return l[kt]?xn():Ji.ScriptLoader.add(cn).then(xn)},Vt=(kt,It="added")=>It==="added"&&Z(kt)||It==="loaded"&&P(kt)?Promise.resolve():new Promise(cn=>{m.push({name:kt,state:It,resolve:cn})});return{items:n,urls:s,lookup:l,get:J,requireLangPack:_e,add:Ge,remove:qe,createUrl:ot,load:Et,waitFor:Vt}};Pc.languageLoad=!0,Pc.baseURL="",Pc.PluginManager=Pc(),Pc.ThemeManager=Pc(),Pc.ModelManager=Pc();const HM=n=>{const s=ni(G.none()),l=()=>s.get().each(n);return{clear:()=>{l(),s.set(G.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:J=>{l(),s.set(G.some(J))}}},UM=n=>{const s=ni(G.none()),l=()=>s.get().each(J=>clearInterval(J));return{clear:()=>{l(),s.set(G.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:J=>{l(),s.set(G.some(setInterval(J,n)))}}},_g=()=>{const n=HM(ie);return{...n,on:l=>n.get().each(l)}},By=(n,s)=>{let l=null;return{cancel:()=>{F(l)||(clearTimeout(l),l=null)},throttle:(...P)=>{F(l)&&(l=setTimeout(()=>{l=null,n.apply(null,P)},s))}}},rx=(n,s)=>{let l=null;const m=()=>{F(l)||(clearTimeout(l),l=null)};return{cancel:m,throttle:(...P)=>{m(),l=setTimeout(()=>{l=null,n.apply(null,P)},s)}}},ox=ae("mce-annotation"),kh=ae("data-mce-annotation"),O0=ae("data-mce-annotation-uid"),x0=ae("data-mce-annotation-active"),S0=ae("data-mce-annotation-classes"),tv=ae("data-mce-annotation-attrs"),uk=n=>s=>Gs(s,n),yi=(n,s)=>{const l=n.selection.getRng(),m=Yt.fromDom(l.startContainer),O=Yt.fromDom(n.getBody()),P=s.fold(()=>"."+ox(),he=>`[${kh()}="${he}"]`),Z=ph(m,l.startOffset).getOr(m);return Mf(Z,P,uk(O)).bind(he=>bc(he,`${O0()}`).bind(_e=>bc(he,`${kh()}`).map(Ge=>{const qe=dk(n,_e);return{uid:_e,name:Ge,elements:qe}})))},fk=n=>kl(n)&&gh(n,ox()),w0=(n,s)=>Cf(n,"data-mce-bogus")||Xp(n,'[data-mce-bogus="all"]',uk(s)),dk=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=sl(l,`[${O0()}="${s}"]`);return se(m,O=>!w0(O,l))},sx=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=sl(l,`[${kh()}="${s}"]`),O={};return re(m,P=>{if(!w0(P,l)){const Z=Al(P,O0()),J=Sn(O,Z).getOr([]);O[Z]=J.concat([P])}}),O},oc=(n,s)=>{const l=ni({}),m=()=>({listeners:[],previous:_g()}),O=(qe,ot)=>{P(qe,Et=>(ot(Et),Et))},P=(qe,ot)=>{const Et=l.get(),Vt=Sn(Et,qe).getOrThunk(m),kt=ot(Vt);Et[qe]=kt,l.set(Et)},Z=(qe,ot,Et)=>{O(qe,Vt=>{re(Vt.listeners,kt=>kt(!0,qe,{uid:ot,nodes:Ie(Et,It=>It.dom)}))})},J=qe=>{O(qe,ot=>{re(ot.listeners,Et=>Et(!1,qe))})},he=(qe,ot)=>{re(dk(n,qe),Et=>{ot?Ra(Et,x0(),"true"):ci(Et,x0())})},_e=rx(()=>{const qe=je(s.getNames());re(qe,ot=>{P(ot,Et=>{const Vt=Et.previous.get();return yi(n,G.some(ot)).fold(()=>{Vt.each(kt=>{J(ot),Et.previous.clear(),he(kt,!1)})},({uid:kt,name:It,elements:cn})=>{Qa(Vt,kt)||(Vt.each(xn=>he(xn,!1)),Z(It,kt,cn),Et.previous.set(kt),he(kt,!0))}),{previous:Et.previous,listeners:Et.listeners}})})},30);return n.on("remove",()=>{_e.cancel()}),n.on("NodeChange",()=>{_e.throttle()}),{addListener:(qe,ot)=>{P(qe,Et=>({previous:Et.previous,listeners:Et.listeners.concat([ot])}))}}},nf=(n,s)=>{const l=kh(),m=P=>G.from(P.attr(l)).bind(s.lookup),O=P=>{var Z,J;P.attr(O0(),null),P.attr(kh(),null),P.attr(x0(),null);const he=G.from(P.attr(tv())).map(ot=>ot.split(",")).getOr([]),_e=G.from(P.attr(S0())).map(ot=>ot.split(",")).getOr([]);re(he,ot=>P.attr(ot,null));const Ge=(J=(Z=P.attr("class"))===null||Z===void 0?void 0:Z.split(" "))!==null&&J!==void 0?J:[],qe=pt(Ge,[ox()].concat(_e));P.attr("class",qe.length>0?qe.join(" "):null),P.attr(S0(),null),P.attr(tv(),null)};n.serializer.addTempAttr(x0()),n.serializer.addAttributeFilter(l,P=>{for(const Z of P)m(Z).each(J=>{J.persistent===!1&&(Z.name==="span"?Z.unwrap():O(Z))})})},hk=()=>{const n={};return{register:(O,P)=>{n[O]={name:O,settings:P}},lookup:O=>Sn(n,O).map(P=>P.settings),getNames:()=>Gt(n)}};let ax=0;const nv=n=>{const l=new Date().getTime(),m=Math.floor(Math.random()*1e9);return ax++,n+"_"+m+ax+String(l)},WM=(n,s)=>{re(s,l=>{cm(n,l)})},mk=(n,s)=>{re(s,l=>{um(n,l)})},lw=(n,s)=>Yt.fromDom(n.dom.cloneNode(s)),Pu=n=>lw(n,!1),ix=n=>lw(n,!0),Ai=(n,s)=>{const l=Yt.fromTag(s),m=Bp(n);return Su(l,m),l},Vd=(n,s)=>{const l=Ai(n,s);Yu(n,l);const m=ol(n);return Ta(l,m),Ks(n),l},T0=(n,s,l=ne)=>{const m=new ca(n,s),O=P=>{let Z;do Z=m[P]();while(Z&&!lr(Z)&&!l(Z));return G.from(Z).filter(lr)};return{current:()=>G.from(m.current()).filter(lr),next:()=>O("next"),prev:()=>O("prev"),prev2:()=>O("prev2")}},Rg=(n,s)=>{const l=s||(Z=>n.isBlock(Z)||aa(Z)||Os(Z)),m=(Z,J,he,_e)=>{if(lr(Z)){const Ge=_e(Z,J,Z.data);if(Ge!==-1)return G.some({container:Z,offset:Ge})}return he().bind(Ge=>m(Ge.container,Ge.offset,he,_e))};return{backwards:(Z,J,he,_e)=>{const Ge=T0(Z,_e??n.getRoot(),l);return m(Z,J,()=>Ge.prev().map(qe=>({container:qe,offset:qe.length})),he).getOrNull()},forwards:(Z,J,he,_e)=>{const Ge=T0(Z,_e??n.getRoot(),l);return m(Z,J,()=>Ge.next().map(qe=>({container:qe,offset:0})),he).getOrNull()}}},rv=Math.round,ov=n=>n?{left:rv(n.left),top:rv(n.top),bottom:rv(n.bottom),right:rv(n.right),width:rv(n.width),height:rv(n.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Am=(n,s)=>(n=ov(n),s||(n.left=n.left+n.width),n.right=n.left,n.width=0,n),gk=(n,s)=>n.left===s.left&&n.top===s.top&&n.bottom===s.bottom&&n.right===s.right,sv=(n,s,l)=>n>=0&&n<=Math.min(s.height,l.height)/2,Dg=(n,s)=>{const l=Math.min(s.height/2,n.height/2);return n.bottom-l<s.top?!0:n.top>s.bottom?!1:sv(s.top-n.bottom,n,s)},av=(n,s)=>n.top>s.bottom?!0:n.bottom<s.top?!1:sv(s.bottom-n.top,n,s),pk=(n,s,l)=>s>=n.left&&s<=n.right&&l>=n.top&&l<=n.bottom,YM=n=>oe(n,(s,l)=>s.fold(()=>G.some(l),m=>{const O=Math.min(l.left,m.left),P=Math.min(l.top,m.top),Z=Math.max(l.right,m.right),J=Math.max(l.bottom,m.bottom);return G.some({top:P,right:Z,bottom:J,left:O,width:Z-O,height:J-P})}),G.none()),cw=(n,s,l)=>{const m=Math.max(Math.min(s,n.left+n.width),n.left),O=Math.max(Math.min(l,n.top+n.height),n.top);return Math.sqrt((s-m)*(s-m)+(l-O)*(l-O))},XM=(n,s)=>Math.max(0,Math.min(n.bottom,s.bottom)-Math.max(n.top,s.top)),lx=(n,s,l)=>Math.min(Math.max(n,s),l),uw=n=>{const s=n.startContainer,l=n.startOffset;return s===n.endContainer&&s.hasChildNodes()&&n.endOffset===l+1?s.childNodes[l]:null},Mu=(n,s)=>{if(Xr(n)&&n.hasChildNodes()){const l=n.childNodes,m=lx(s,0,l.length-1);return l[m]}else return n},vk=(n,s)=>{if(!(s<0&&Xr(n)&&n.hasChildNodes()))return Mu(n,s)},C0=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),yk=n=>M(n)&&n.charCodeAt(0)>=768&&C0.test(n),GM=(...n)=>s=>{for(let l=0;l<n.length;l++)if(n[l](s))return!0;return!1},Qy=(...n)=>s=>{for(let l=0;l<n.length;l++)if(!n[l](s))return!1;return!0},$g=Xr,cx=go,Rs=$d("display","block table"),Eu=$d("float","left right"),zd=Qy($g,cx,be(Eu)),fw=be($d("white-space","pre pre-line pre-wrap")),ha=lr,Fy=aa,dw=Da.nodeIndex,cl=vk,Ah=n=>n?n.createRange():Da.DOM.createRng(),Lg=n=>M(n)&&/[\r\n\t ]/.test(n),hw=n=>!!n.setStart&&!!n.setEnd,ux=n=>{const s=n.startContainer,l=n.startOffset;if(Lg(n.toString())&&fw(s.parentNode)&&lr(s)){const m=s.data;if(Lg(m[l-1])||Lg(m[l+1]))return!0}return!1},Vy=n=>{const s=n.ownerDocument,l=Ah(s),m=s.createTextNode(zs),O=n.parentNode;O.insertBefore(m,n),l.setStart(m,0),l.setEnd(m,1);const P=ov(l.getBoundingClientRect());return O.removeChild(m),P},mw=n=>{const s=n.startContainer,l=n.endContainer,m=n.startOffset,O=n.endOffset;if(s===l&&lr(l)&&m===0&&O===1){const P=n.cloneRange();return P.setEndAfter(l),Ph(P)}else return null},fx=n=>n.left===0&&n.right===0&&n.top===0&&n.bottom===0,Ph=n=>{var s;let l;const m=n.getClientRects();return m.length>0?l=ov(m[0]):l=ov(n.getBoundingClientRect()),!hw(n)&&Fy(n)&&fx(l)?Vy(n):fx(l)&&hw(n)&&(s=mw(n))!==null&&s!==void 0?s:l},Pm=(n,s)=>{const l=Am(n,s);return l.width=1,l.right=l.left+1,l},jM=n=>{const s=[],l=Z=>{Z.height!==0&&(s.length>0&&gk(Z,s[s.length-1])||s.push(Z))},m=(Z,J)=>{const he=Ah(Z.ownerDocument);if(J<Z.data.length){if(yk(Z.data[J]))return;if(yk(Z.data[J-1])&&(he.setStart(Z,J),he.setEnd(Z,J+1),!ux(he))){l(Pm(Ph(he),!1));return}}J>0&&(he.setStart(Z,J-1),he.setEnd(Z,J),ux(he)||l(Pm(Ph(he),!1))),J<Z.data.length&&(he.setStart(Z,J),he.setEnd(Z,J+1),ux(he)||l(Pm(Ph(he),!0)))},O=n.container(),P=n.offset();if(ha(O))return m(O,P),s;if($g(O))if(n.isAtEnd()){const Z=cl(O,P);ha(Z)&&m(Z,Z.data.length),zd(Z)&&!Fy(Z)&&l(Pm(Ph(Z),!1))}else{const Z=cl(O,P);if(ha(Z)&&m(Z,0),zd(Z)&&n.isAtEnd())return l(Pm(Ph(Z),!1)),s;const J=cl(n.container(),n.offset()-1);zd(J)&&!Fy(J)&&(Rs(J)||Rs(Z)||!zd(Z))&&l(Pm(Ph(J),!1)),zd(Z)&&l(Pm(Ph(Z),!0))}return s},Nn=(n,s,l)=>{const m=()=>(ha(n),s===0),O=()=>ha(n)?s>=n.data.length:s>=n.childNodes.length,P=()=>{const Ge=Ah(n.ownerDocument);return Ge.setStart(n,s),Ge.setEnd(n,s),Ge},Z=()=>(l||(l=jM(Nn(n,s))),l),J=()=>Z().length>0,he=Ge=>Ge&&n===Ge.container()&&s===Ge.offset(),_e=Ge=>cl(n,Ge?s-1:s);return{container:ae(n),offset:ae(s),toRange:P,getClientRects:Z,isVisible:J,isAtStart:m,isAtEnd:O,isEqual:he,getNode:_e}};Nn.fromRangeStart=n=>Nn(n.startContainer,n.startOffset),Nn.fromRangeEnd=n=>Nn(n.endContainer,n.endOffset),Nn.after=n=>Nn(n.parentNode,dw(n)+1),Nn.before=n=>Nn(n.parentNode,dw(n)),Nn.isAbove=(n,s)=>Fa(yt(s.getClientRects()),ft(n.getClientRects()),Dg).getOr(!1),Nn.isBelow=(n,s)=>Fa(ft(s.getClientRects()),yt(n.getClientRects()),av).getOr(!1),Nn.isAtStart=n=>n?n.isAtStart():!1,Nn.isAtEnd=n=>n?n.isAtEnd():!1,Nn.isTextPosition=n=>n?lr(n.container()):!1,Nn.isElementPosition=n=>!Nn.isTextPosition(n);const zy=(n,s)=>{lr(s)&&s.data.length===0&&n.remove(s)},k0=(n,s,l)=>{s.insertNode(l),zy(n,l.previousSibling),zy(n,l.nextSibling)},rf=(n,s,l)=>{const m=G.from(l.firstChild),O=G.from(l.lastChild);s.insertNode(l),m.each(P=>zy(n,P.previousSibling)),O.each(P=>zy(n,P.nextSibling))},gw=(n,s,l)=>{da(l)?rf(n,s,l):k0(n,s,l)},Ha=lr,dx=_f,Mm=Da.nodeIndex,pw=n=>{const s=n.parentNode;return dx(s)?pw(s):s},hx=n=>n?dn(n.childNodes,(s,l)=>(dx(l)&&l.nodeName!=="BR"?s=s.concat(hx(l)):s.push(l),s),[]):[],vw=(n,s)=>{let l=n;for(;(l=l.previousSibling)&&Ha(l);)s+=l.data.length;return s},Zy=n=>s=>n===s,A0=n=>{let s,l;s=hx(pw(n)),l=nn(s,Zy(n),n),s=s.slice(0,l+1);const m=dn(s,(O,P,Z)=>(Ha(P)&&Ha(s[Z-1])&&O++,O),0);return s=Tt(s,vi([n.nodeName])),l=nn(s,Zy(n),n),l-m},yw=n=>(Ha(n)?"text()":n.nodeName.toLowerCase())+"["+A0(n)+"]",qM=(n,s,l)=>{const m=[];for(let O=s.parentNode;O&&O!==n&&!(l&&l(O));O=O.parentNode)m.push(O);return m},Wc=(n,s)=>{let l=[],m=s.container(),O=s.offset(),P;if(Ha(m))P=vw(m,O);else{const J=m.childNodes;O>=J.length?(P="after",O=J.length-1):P="before",m=J[O]}l.push(yw(m));let Z=qM(n,m);return Z=Tt(Z,be(_f)),l=l.concat(mt(Z,J=>yw(J))),l.reverse().join("/")+","+P},ul=(n,s,l)=>{let m=hx(n);return m=Tt(m,(O,P)=>!Ha(O)||!Ha(m[P-1])),m=Tt(m,vi([s])),m[l]},Gl=(n,s)=>{let l=n,m=0;for(;Ha(l);){const O=l.data.length;if(s>=m&&s<=m+O){n=l,s=s-m;break}if(!Ha(l.nextSibling)){n=l,s=O;break}m+=O,l=l.nextSibling}return Ha(n)&&s>n.data.length&&(s=n.data.length),Nn(n,s)},Yc=(n,s)=>{if(!s)return null;const l=s.split(","),m=l[0].split("/"),O=l.length>1?l[1]:"before",P=dn(m,(Z,J)=>{const he=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(J);return he?(he[1]==="text()"&&(he[1]="#text"),ul(Z,he[1],parseInt(he[2],10))):null},n);if(!P)return null;if(!Ha(P)&&P.parentNode){let Z;return O==="after"?Z=Mm(P)+1:Z=Mm(P),Nn(P.parentNode,Z)}return Gl(P,parseInt(O,10))},sc=Os,Mc=(n,s,l)=>{let m=n(s.data.slice(0,l)).length;for(let O=s.previousSibling;O&&lr(O);O=O.previousSibling)m+=n(O.data).length;return m},fl=(n,s,l,m,O)=>{const P=O?m.startContainer:m.endContainer;let Z=O?m.startOffset:m.endOffset;const J=[],he=n.getRoot();if(lr(P))J.push(l?Mc(s,P,Z):Z);else{let _e=0;const Ge=P.childNodes;Z>=Ge.length&&Ge.length&&(_e=1,Z=Math.max(0,Ge.length-1)),J.push(n.nodeIndex(Ge[Z],l)+_e)}for(let _e=P;_e&&_e!==he;_e=_e.parentNode)J.push(n.nodeIndex(_e,l));return J},bw=(n,s,l,m)=>{const O=s.dom,P=fl(O,n,l,m,!0),Z=s.isForward(),J=yn(m)?{isFakeCaret:!0}:{};if(s.isCollapsed())return{start:P,forward:Z,...J};{const he=fl(O,n,l,m,!1);return{start:P,end:he,forward:Z,...J}}},Hy=(n,s,l)=>{let m=0;return fr.each(n.select(s),O=>{if(O.getAttribute("data-mce-bogus")!=="all"){if(O===l)return!1;m++;return}}),m},Ow=(n,s)=>{let l=s?n.startContainer:n.endContainer,m=s?n.startOffset:n.endOffset;if(Xr(l)&&l.nodeName==="TR"){const O=l.childNodes;l=O[Math.min(s?m:m-1,O.length-1)],l&&(m=s?0:l.childNodes.length,s?n.setStart(l,m):n.setEnd(l,m))}},Uy=n=>(Ow(n,!0),Ow(n,!1),n),xw=(n,s)=>{if(Xr(n)&&(n=Mu(n,s),sc(n)))return n;if(bt(n)){lr(n)&&rt(n)&&(n=n.parentNode);let l=n.previousSibling;if(sc(l)||(l=n.nextSibling,sc(l)))return l}},bk=n=>xw(n.startContainer,n.startOffset)||xw(n.endContainer,n.endOffset),mx=(n,s,l)=>{const m=l.getNode(),O=l.getRng();if(m.nodeName==="IMG"||sc(m)){const Z=m.nodeName;return{name:Z,index:Hy(l.dom,Z,m)}}const P=bk(O);if(P){const Z=P.tagName;return{name:Z,index:Hy(l.dom,Z,P)}}return bw(n,l,s,O)},Sw=n=>{const s=n.getRng();return{start:Wc(n.dom.getRoot(),Nn.fromRangeStart(s)),end:Wc(n.dom.getRoot(),Nn.fromRangeEnd(s)),forward:n.isForward()}},KM=n=>({rng:n.getRng(),forward:n.isForward()}),JM=(n,s,l)=>{const m={"data-mce-type":"bookmark",id:s,style:"overflow:hidden;line-height:0px"};return l?n.create("span",m,"&#xFEFF;"):n.create("span",m)},Ok=(n,s)=>{const l=n.dom;let m=n.getRng();const O=l.uniqueId(),P=n.isCollapsed(),Z=n.getNode(),J=Z.nodeName,he=n.isForward();if(J==="IMG")return{name:J,index:Hy(l,J,Z)};const _e=Uy(m.cloneRange());if(!P){_e.collapse(!1);const qe=JM(l,O+"_end",s);gw(l,_e,qe)}m=Uy(m),m.collapse(!0);const Ge=JM(l,O+"_start",s);return gw(l,m,Ge),n.moveToBookmark({id:O,keep:!0,forward:he}),{id:O,forward:he}},eE=(n,s,l=!1)=>s===2?mx(Pe,l,n):s===3?Sw(n):s?KM(n):Ok(n,!1),P0=ee(mx,q,!0),gx=n=>{const s=P=>P(n),l=ae(n),m=()=>O,O={tag:!0,inner:n,fold:(P,Z)=>Z(n),isValue:pe,isError:ne,map:P=>iu.value(P(n)),mapError:m,bind:s,exists:s,forall:s,getOr:l,or:m,getOrThunk:l,orThunk:m,getOrDie:l,each:P=>{P(n)},toOptional:()=>G.some(n)};return O},xk=n=>{const s=()=>l,l={tag:!1,inner:n,fold:(m,O)=>m(n),isValue:ne,isError:pe,map:s,mapError:m=>iu.error(m(n)),bind:s,exists:ne,forall:pe,getOr:q,or:q,getOrThunk:Be,orThunk:Be,getOrDie:Te(String(n)),each:ie,toOptional:G.none};return l},iu={value:gx,error:xk,fromOption:(n,s)=>n.fold(()=>xk(s),gx)},Zd={generate:n=>{if(!N(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],l={};return re(n,(m,O)=>{const P=Gt(m);if(P.length!==1)throw new Error("one and only one name per case");const Z=P[0],J=m[Z];if(l[Z]!==void 0)throw new Error("duplicate key detected:"+Z);if(Z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!N(J))throw new Error("case arguments must be an array");s.push(Z),l[Z]=(...he)=>{const _e=he.length;if(_e!==J.length)throw new Error("Wrong number of arguments to case "+Z+". Expected "+J.length+" ("+J+"), got "+_e);return{fold:(...qe)=>{if(qe.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+qe.length);return qe[O].apply(null,he)},match:qe=>{const ot=Gt(qe);if(s.length!==ot.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+ot.join(","));if(!Xe(s,Vt=>Ze(ot,Vt)))throw new Error("Not all branches were specified when using match. Specified: "+ot.join(", ")+`
Required: `+s.join(", "));return qe[Z].apply(null,he)},log:qe=>{console.log(qe,{constructors:s,constructor:Z,params:he})}}}}),l}};Zd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const pr=n=>{const s=[],l=[];return re(n,m=>{m.fold(O=>{s.push(O)},O=>{l.push(O)})}),{errors:s,values:l}},ww=n=>n.type==="inline-command"||n.type==="inline-format",dl=n=>n.type==="block-command"||n.type==="block-format",Sk=n=>{const s=m=>iu.error({message:m,pattern:n}),l=(m,O,P)=>{if(n.format!==void 0){let Z;if(N(n.format)){if(!Xe(n.format,M))return s(m+" pattern has non-string items in the `format` array");Z=n.format}else if(M(n.format))Z=[n.format];else return s(m+" pattern has non-string `format` parameter");return iu.value(O(Z))}else return n.cmd!==void 0?M(n.cmd)?iu.value(P(n.cmd,n.value)):s(m+" pattern has non-string `cmd` parameter"):s(m+" pattern is missing both `format` and `cmd` parameters")};if(!I(n))return s("Raw pattern is not an object");if(!M(n.start))return s("Raw pattern is missing `start` parameter");if(n.end!==void 0){if(!M(n.end))return s("Inline pattern has non-string `end` parameter");if(n.start.length===0&&n.end.length===0)return s("Inline pattern has empty `start` and `end` parameters");let m=n.start,O=n.end;return O.length===0&&(O=m,m=""),l("Inline",P=>({type:"inline-format",start:m,end:O,format:P}),(P,Z)=>({type:"inline-command",start:m,end:O,cmd:P,value:Z}))}else return n.replacement!==void 0?M(n.replacement)?n.start.length===0?s("Replacement pattern has empty `start` parameter"):iu.value({type:"inline-command",start:"",end:n.start,cmd:"mceInsertContent",value:n.replacement}):s("Replacement pattern has non-string `replacement` parameter"):n.start.length===0?s("Block pattern has empty `start` parameter"):l("Block",m=>({type:"block-format",start:n.start,format:m[0]}),(m,O)=>({type:"block-command",start:n.start,cmd:m,value:O}))},px=n=>se(n,dl),Tw=n=>se(n,ww),lu=(n,s)=>({inlinePatterns:Tw(n),blockPatterns:px(n),dynamicPatternsLookup:s}),tE=n=>{const s=pr(Ie(n,Sk));return re(s.errors,l=>console.error(l.message,l.pattern)),s.values},wk=n=>s=>{const l=n(s);return tE(l)},cu=ii().deviceType,M0=cu.isTouch(),Wy=Da.DOM,Mh=n=>{const s=n.indexOf("=")>0?n.split(/[;,](?![^=;,]*(?:[;,]|$))/):n.split(",");return oe(s,(l,m)=>{const O=m.split("="),P=O[0],Z=O.length>1?O[1]:P;return l[wr(P)]=wr(Z),l},{})},ad=n=>R(n,RegExp),Ur=n=>s=>s.options.get(n),of=n=>M(n)||I(n),Tk=(n,s="")=>l=>{const m=M(l);if(m)if(l.indexOf("=")!==-1){const O=Mh(l);return{value:Sn(O,n.id).getOr(s),valid:m}}else return{value:l,valid:m};else return{valid:!1,message:"Must be a string."}},Ck=n=>{const s=n.options.register;s("id",{processor:"string",default:n.id}),s("selector",{processor:"string"}),s("target",{processor:"object"}),s("suffix",{processor:"string"}),s("cache_suffix",{processor:"string"}),s("base_url",{processor:"string"}),s("referrer_policy",{processor:"string",default:""}),s("language_load",{processor:"boolean",default:!0}),s("inline",{processor:"boolean",default:!1}),s("iframe_attrs",{processor:"object",default:{}}),s("doctype",{processor:"string",default:"<!DOCTYPE html>"}),s("document_base_url",{processor:"string",default:n.documentBaseUrl}),s("body_id",{processor:Tk(n,"tinymce"),default:"tinymce"}),s("body_class",{processor:Tk(n),default:""}),s("content_security_policy",{processor:"string",default:""}),s("br_in_pre",{processor:"boolean",default:!0}),s("forced_root_block",{processor:l=>{const m=M(l)&&St(l);return m?{value:l,valid:m}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),s("forced_root_block_attrs",{processor:"object",default:{}}),s("newline_behavior",{processor:l=>{const m=Ze(["block","linebreak","invert","default"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),s("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),s("no_newline_selector",{processor:"string",default:""}),s("keep_styles",{processor:"boolean",default:!0}),s("end_container_on_empty_block",{processor:l=>z(l)?{valid:!0,value:l}:M(l)?{valid:!0,value:l}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),s("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),s("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),s("font_size_classes",{processor:"string",default:""}),s("automatic_uploads",{processor:"boolean",default:!0}),s("images_reuse_filename",{processor:"boolean",default:!1}),s("images_replace_blob_uris",{processor:"boolean",default:!0}),s("icons",{processor:"string",default:""}),s("icons_url",{processor:"string",default:""}),s("images_upload_url",{processor:"string",default:""}),s("images_upload_base_path",{processor:"string",default:""}),s("images_upload_credentials",{processor:"boolean",default:!1}),s("images_upload_handler",{processor:"function"}),s("language",{processor:"string",default:"en"}),s("language_url",{processor:"string",default:""}),s("entity_encoding",{processor:"string",default:"named"}),s("indent",{processor:"boolean",default:!0}),s("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_use_margin",{processor:"boolean",default:!1}),s("indentation",{processor:"string",default:"40px"}),s("content_css",{processor:l=>{const m=l===!1||M(l)||Y(l,M);return m?M(l)?{value:Ie(l.split(","),wr),valid:m}:N(l)?{value:l,valid:m}:l===!1?{value:[],valid:m}:{value:l,valid:m}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Iw(n)?[]:["default"]}),s("content_style",{processor:"string"}),s("content_css_cors",{processor:"boolean",default:!1}),s("font_css",{processor:l=>{const m=M(l)||Y(l,M);return m?{value:N(l)?l:Ie(l.split(","),wr),valid:m}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),s("inline_boundaries",{processor:"boolean",default:!0}),s("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),s("object_resizing",{processor:l=>{const m=z(l)||M(l);return m?l===!1||cu.isiPhone()||cu.isiPad()?{value:"",valid:m}:{value:l===!0?"table,img,figure.image,div,video,iframe":l,valid:m}:{valid:!1,message:"Must be boolean or a string"}},default:!M0}),s("resize_img_proportional",{processor:"boolean",default:!0}),s("event_root",{processor:"object"}),s("service_message",{processor:"string"}),s("theme",{processor:l=>l===!1||M(l)||E(l),default:"silver"}),s("theme_url",{processor:"string"}),s("formats",{processor:"object"}),s("format_empty_lines",{processor:"boolean",default:!1}),s("format_noneditable_selector",{processor:"string",default:""}),s("preview_styles",{processor:l=>{const m=l===!1||M(l);return m?{value:l===!1?"":l,valid:m}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),s("custom_ui_selector",{processor:"string",default:""}),s("hidden_input",{processor:"boolean",default:!0}),s("submit_patch",{processor:"boolean",default:!0}),s("encoding",{processor:"string"}),s("add_form_submit_trigger",{processor:"boolean",default:!0}),s("add_unload_trigger",{processor:"boolean",default:!0}),s("custom_undo_redo_levels",{processor:"number",default:0}),s("disable_nodechange",{processor:"boolean",default:!1}),s("readonly",{processor:"boolean",default:!1}),s("editable_root",{processor:"boolean",default:!0}),s("plugins",{processor:"string[]",default:[]}),s("external_plugins",{processor:"object"}),s("forced_plugins",{processor:"string[]"}),s("model",{processor:"string",default:n.hasPlugin("rtc")?"plugin":"dom"}),s("model_url",{processor:"string"}),s("block_unsupported_drop",{processor:"boolean",default:!0}),s("visual",{processor:"boolean",default:!0}),s("visual_table_class",{processor:"string",default:"mce-item-table"}),s("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),s("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),s("setup",{processor:"function"}),s("init_instance_callback",{processor:"function"}),s("url_converter",{processor:"function",default:n.convertURL}),s("url_converter_scope",{processor:"object",default:n}),s("urlconverter_callback",{processor:"function"}),s("allow_conditional_comments",{processor:"boolean",default:!1}),s("allow_html_data_urls",{processor:"boolean",default:!1}),s("allow_svg_data_urls",{processor:"boolean"}),s("allow_html_in_named_anchor",{processor:"boolean",default:!1}),s("allow_script_urls",{processor:"boolean",default:!1}),s("allow_unsafe_link_target",{processor:"boolean",default:!1}),s("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),s("fix_list_elements",{processor:"boolean",default:!1}),s("preserve_cdata",{processor:"boolean",default:!1}),s("remove_trailing_brs",{processor:"boolean",default:!0}),s("pad_empty_with_br",{processor:"boolean",default:!1}),s("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),s("element_format",{processor:"string",default:"html"}),s("entities",{processor:"string"}),s("schema",{processor:"string",default:"html5"}),s("convert_urls",{processor:"boolean",default:!0}),s("relative_urls",{processor:"boolean",default:!0}),s("remove_script_host",{processor:"boolean",default:!0}),s("custom_elements",{processor:"string"}),s("extended_valid_elements",{processor:"string"}),s("invalid_elements",{processor:"string"}),s("invalid_styles",{processor:of}),s("valid_children",{processor:"string"}),s("valid_classes",{processor:of}),s("valid_elements",{processor:"string"}),s("valid_styles",{processor:of}),s("verify_html",{processor:"boolean",default:!0}),s("auto_focus",{processor:l=>M(l)||l===!0}),s("browser_spellcheck",{processor:"boolean",default:!1}),s("protect",{processor:"array"}),s("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),s("deprecation_warnings",{processor:"boolean",default:!0}),s("a11y_advanced_options",{processor:"boolean",default:!1}),s("api_key",{processor:"string"}),s("paste_block_drop",{processor:"boolean",default:!1}),s("paste_data_images",{processor:"boolean",default:!0}),s("paste_preprocess",{processor:"function"}),s("paste_postprocess",{processor:"function"}),s("paste_webkit_styles",{processor:"string",default:"none"}),s("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),s("paste_merge_formats",{processor:"boolean",default:!0}),s("smart_paste",{processor:"boolean",default:!0}),s("paste_as_text",{processor:"boolean",default:!1}),s("paste_tab_spaces",{processor:"number",default:4}),s("text_patterns",{processor:l=>Y(l,I)||l===!1?{value:tE(l===!1?[]:l),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),s("text_patterns_lookup",{processor:l=>E(l)?{value:wk(l),valid:!0}:{valid:!1,message:"Must be a single function"},default:l=>[]}),s("noneditable_class",{processor:"string",default:"mceNonEditable"}),s("editable_class",{processor:"string",default:"mceEditable"}),s("noneditable_regexp",{processor:l=>Y(l,ad)?{value:l,valid:!0}:ad(l)?{value:[l],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),s("table_tab_navigation",{processor:"boolean",default:!0}),s("highlight_on_focus",{processor:"boolean",default:!1}),s("xss_sanitization",{processor:"boolean",default:!0}),s("details_initial_state",{processor:l=>{const m=Ze(["inherited","collapsed","expanded"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),s("details_serialized_state",{processor:l=>{const m=Ze(["inherited","collapsed","expanded"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),s("init_content_sync",{processor:"boolean",default:!1}),s("newdocument_content",{processor:"string",default:""}),s("force_hex_color",{processor:l=>{const m=["always","rgb_only","off"],O=Ze(m,l);return O?{value:l,valid:O}:{valid:!1,message:`Must be one of: ${m.join(", ")}.`}},default:"off"}),s("sandbox_iframes",{processor:"boolean",default:!1}),s("convert_unsafe_embeds",{processor:"boolean",default:!1}),n.on("ScriptsLoaded",()=>{s("directionality",{processor:"string",default:sd.isRtl()?"rtl":void 0}),s("placeholder",{processor:"string",default:Wy.getAttrib(n.getElement(),"placeholder")})})},Cw=Ur("iframe_attrs"),kk=Ur("doctype"),kw=Ur("document_base_url"),Aw=Ur("body_id"),nE=Ur("body_class"),Pw=Ur("content_security_policy"),rE=Ur("br_in_pre"),Ec=Ur("forced_root_block"),Yy=Ur("forced_root_block_attrs"),oE=Ur("newline_behavior"),sE=Ur("br_newline_selector"),Mw=Ur("no_newline_selector"),aE=Ur("keep_styles"),Ak=Ur("end_container_on_empty_block"),Pk=Ur("automatic_uploads"),Xy=Ur("images_reuse_filename"),Mk=Ur("images_replace_blob_uris"),Ew=Ur("icons"),iv=Ur("icons_url"),iE=Ur("images_upload_url"),lE=Ur("images_upload_base_path"),_w=Ur("images_upload_credentials"),cE=Ur("images_upload_handler"),Em=Ur("content_css_cors"),gs=Ur("referrer_policy"),Rw=Ur("language"),_c=Ur("language_url"),vx=Ur("indent_use_margin"),Dw=Ur("indentation"),$w=Ur("content_css"),yx=Ur("content_style"),Ek=Ur("font_css"),uE=Ur("directionality"),fE=Ur("inline_boundaries_selector"),E0=Ur("object_resizing"),_k=Ur("resize_img_proportional"),r9=Ur("placeholder"),Ig=Ur("event_root"),dE=Ur("service_message"),_0=Ur("theme"),hE=Ur("theme_url"),Lw=Ur("model"),Rk=Ur("model_url"),lv=Ur("inline_boundaries"),mE=Ur("formats"),Dk=Ur("preview_styles"),$k=Ur("format_empty_lines"),R0=Ur("format_noneditable_selector"),Lk=Ur("custom_ui_selector"),Iw=Ur("inline"),gE=Ur("hidden_input"),Ik=Ur("submit_patch"),Eh=Ur("add_form_submit_trigger"),Gy=Ur("add_unload_trigger"),jy=Ur("custom_undo_redo_levels"),bx=Ur("disable_nodechange"),qy=Ur("readonly"),Lf=Ur("editable_root"),D0=Ur("content_css_cors"),Ky=Ur("plugins"),Ng=Ur("external_plugins"),Ox=Ur("block_unsupported_drop"),pE=Ur("visual"),vE=Ur("visual_table_class"),Nk=Ur("visual_anchor_class"),yE=Ur("iframe_aria_text"),Nw=Ur("setup"),bE=Ur("init_instance_callback"),OE=Ur("urlconverter_callback"),Bk=Ur("auto_focus"),xE=Ur("browser_spellcheck"),Qk=Ur("protect"),SE=Ur("paste_block_drop"),xx=Ur("paste_data_images"),wE=Ur("paste_preprocess"),Fk=Ur("paste_postprocess"),$0=Ur("newdocument_content"),Bw=Ur("paste_webkit_styles"),Qw=Ur("paste_remove_styles_if_webkit"),Fw=Ur("paste_merge_formats"),Vk=Ur("smart_paste"),Vw=Ur("paste_as_text"),TE=Ur("paste_tab_spaces"),Sx=Ur("allow_html_data_urls"),wx=Ur("text_patterns"),CE=Ur("text_patterns_lookup"),zw=Ur("noneditable_class"),zk=Ur("editable_class"),kE=Ur("noneditable_regexp"),Zw=Ur("preserve_cdata"),AE=Ur("highlight_on_focus"),L0=Ur("xss_sanitization"),PE=Ur("init_content_sync"),Hw=n=>n.options.isSet("text_patterns_lookup"),ME=n=>fr.explode(n.options.get("font_size_style_values")),EE=n=>fr.explode(n.options.get("font_size_classes")),_E=n=>n.options.get("encoding")==="xml",Zk=n=>fr.explode(n.options.get("images_file_types")),RE=Ur("table_tab_navigation"),_l=Ur("details_initial_state"),o9=Ur("details_serialized_state"),I0=Ur("force_hex_color"),Tx=Ur("sandbox_iframes"),Hk=Xr,Uw=lr,Uk=n=>{const s=n.parentNode;s&&s.removeChild(n)},Wk=n=>{const s=Pe(n);return{count:n.length-s.length,text:s}},cv=n=>{let s;for(;(s=n.data.lastIndexOf(de))!==-1;)n.deleteData(s,1)},Jy=(n,s)=>(hl(n),s),DE=(n,s)=>{const l=Wk(n.data.substr(0,s.offset())),m=Wk(n.data.substr(s.offset()));return(l.text+m.text).length>0?(cv(n),Nn(n,s.offset()-l.count)):s},$E=(n,s)=>{const l=s.container(),m=$e(tt(l.childNodes),n).map(O=>O<s.offset()?Nn(l,s.offset()-1):s).getOr(s);return hl(n),m},eb=(n,s)=>Uw(n)&&s.container()===n?DE(n,s):Jy(n,s),Ww=(n,s)=>s.container()===n.parentNode?$E(n,s):Jy(n,s),Yk=(n,s)=>Nn.isTextPosition(s)?eb(n,s):Ww(n,s),hl=n=>{Hk(n)&&bt(n)&&(Zt(n)?n.removeAttribute("data-mce-caret"):Uk(n)),Uw(n)&&(cv(n),n.data.length===0&&Uk(n))},Xk=Os,Yw=ei,s9=jp,N0="*[contentEditable=false],video,audio,embed,object",LE=(n,s,l)=>{const m=Am(s.getBoundingClientRect(),l);let O,P;if(n.tagName==="BODY"){const J=n.ownerDocument.documentElement;O=n.scrollLeft||J.scrollLeft,P=n.scrollTop||J.scrollTop}else{const J=n.getBoundingClientRect();O=n.scrollLeft-J.left,P=n.scrollTop-J.top}m.left+=O,m.right+=O,m.top+=P,m.bottom+=P,m.width=1;let Z=s.offsetWidth-s.clientWidth;return Z>0&&(l&&(Z*=-1),m.left+=Z,m.right+=Z),m},Gk=n=>{var s,l;const m=sl(Yt.fromDom(n),N0);for(let O=0;O<m.length;O++){const P=m[O].dom;let Z=P.previousSibling;if(hn(Z)){const J=Z.data;J.length===1?(s=Z.parentNode)===null||s===void 0||s.removeChild(Z):Z.deleteData(J.length-1,1)}Z=P.nextSibling,tn(Z)&&(Z.data.length===1?(l=Z.parentNode)===null||l===void 0||l.removeChild(Z):Z.deleteData(0,1))}},Xw=(n,s,l,m)=>{const O=_g();let P,Z;const J=Ec(n),he=n.dom,_e=(kt,It)=>{let cn;if(Ge(),s9(It))return null;if(l(It)){const xn=jt(J,It,kt),bn=LE(s,It,kt);he.setStyle(xn,"top",bn.top),Z=xn;const $n=he.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});he.setStyles($n,{...bn}),he.add(s,$n),O.set({caret:$n,element:It,before:kt}),kt&&he.addClass($n,"mce-visual-caret-before"),qe(),cn=It.ownerDocument.createRange(),cn.setStart(xn,0),cn.setEnd(xn,0)}else return Z=Ut(It,kt),cn=It.ownerDocument.createRange(),Cx(Z.nextSibling)?(cn.setStart(Z,0),cn.setEnd(Z,0)):(cn.setStart(Z,1),cn.setEnd(Z,1)),cn;return cn},Ge=()=>{Gk(s),Z&&(hl(Z),Z=null),O.on(kt=>{he.remove(kt.caret),O.clear()}),P&&(clearInterval(P),P=void 0)},qe=()=>{P=setInterval(()=>{O.on(kt=>{m()?he.toggleClass(kt.caret,"mce-visual-caret-hidden"):he.addClass(kt.caret,"mce-visual-caret-hidden")})},500)};return{show:_e,hide:Ge,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{O.on(kt=>{const It=LE(s,kt.element,kt.before);he.setStyles(kt.caret,{...It})})},destroy:()=>clearInterval(P)}},tb=()=>Dr.browser.isFirefox(),Cx=n=>Xk(n)||Yw(n),B0=n=>(Cx(n)||ju(n)&&tb())&&yg(Yt.fromDom(n)).exists(jo),IE=Zl,Bg=Os,jk=ei,Qg=$d("display","block table table-cell table-caption list-item"),Fg=bt,Gw=rt,qk=Xr,a9=lr,jw=go,Vg=n=>n>0,_h=n=>n<0,nb=(n,s)=>{let l;for(;l=n(s);)if(!Gw(l))return l;return null},Q0=(n,s,l,m,O)=>{const P=new ca(n,m),Z=Bg(n)||Gw(n);let J;if(_h(s)){if(Z&&(J=nb(P.prev.bind(P),!0),l(J)))return J;for(;J=nb(P.prev.bind(P),O);)if(l(J))return J}if(Vg(s)){if(Z&&(J=nb(P.next.bind(P),!0),l(J)))return J;for(;J=nb(P.next.bind(P),O);)if(l(J))return J}return null},qw=(n,s)=>{const l=O=>IE(O.dom),m=O=>O.dom===s;return ui(Yt.fromDom(n),l,m).map(O=>O.dom).getOr(s)},_m=(n,s)=>{for(;n&&n!==s;){if(Qg(n))return n;n=n.parentNode}return null},Hd=(n,s,l)=>_m(n.container(),l)===_m(s.container(),l),rb=(n,s)=>{if(!s)return G.none();const l=s.container(),m=s.offset();return qk(l)?G.from(l.childNodes[m+n]):G.none()},kx=(n,s)=>{var l;const O=((l=s.ownerDocument)!==null&&l!==void 0?l:document).createRange();return n?(O.setStartBefore(s),O.setEndBefore(s)):(O.setStartAfter(s),O.setEndAfter(s)),O},ob=(n,s,l)=>_m(s,n)===_m(l,n),Kw=(n,s,l)=>{const m=n?"previousSibling":"nextSibling";let O=l;for(;O&&O!==s;){let P=O[m];if(P&&Fg(P)&&(P=P[m]),Bg(P)||jk(P)){if(ob(s,P,O))return P;break}if(jw(P))break;O=O.parentNode}return null},F0=ee(kx,!0),sb=ee(kx,!1),Jw=(n,s,l)=>{let m;const O=ee(Kw,!0,s),P=ee(Kw,!1,s),Z=l.startContainer,J=l.startOffset;if(rt(Z)){const he=a9(Z)?Z.parentNode:Z,_e=he.getAttribute("data-mce-caret");if(_e==="before"&&(m=he.nextSibling,B0(m)))return F0(m);if(_e==="after"&&(m=he.previousSibling,B0(m)))return sb(m)}if(!l.collapsed)return l;if(lr(Z)){if(Fg(Z)){if(n===1){if(m=P(Z),m)return F0(m);if(m=O(Z),m)return sb(m)}if(n===-1){if(m=O(Z),m)return sb(m);if(m=P(Z),m)return F0(m)}return l}if(hn(Z)&&J>=Z.data.length-1)return n===1&&(m=P(Z),m)?F0(m):l;if(tn(Z)&&J<=1)return n===-1&&(m=O(Z),m)?sb(m):l;if(J===Z.data.length)return m=P(Z),m?F0(m):l;if(J===0)return m=O(Z),m?sb(m):l}return l},Kk=(n,s)=>rb(n?0:-1,s).filter(Bg),zg=(n,s,l)=>{const m=Jw(n,s,l);return n===-1?Nn.fromRangeStart(m):Nn.fromRangeEnd(m)},Ax=n=>G.from(n.getNode()).map(Yt.fromDom),NE=n=>G.from(n.getNode(!0)).map(Yt.fromDom),Jk=(n,s)=>{let l=s;for(;l=n(l);)if(l.isVisible())return l;return l},eT=(n,s)=>{const l=Hd(n,s);return!l&&aa(n.getNode())?!0:l};var Pi;(function(n){n[n.Backwards=-1]="Backwards",n[n.Forwards=1]="Forwards"})(Pi||(Pi={}));const i9=Os,Rm=lr,eA=Xr,Px=aa,Zg=go,ac=Do,V0=ms,ab=(n,s)=>{const l=[];let m=n;for(;m&&m!==s;)l.push(m),m=m.parentNode;return l},z0=(n,s)=>n.hasChildNodes()&&s<n.childNodes.length?n.childNodes[s]:null,tT=(n,s)=>{if(Vg(n)){if(Zg(s.previousSibling)&&!Rm(s.previousSibling))return Nn.before(s);if(Rm(s))return Nn(s,0)}if(_h(n)){if(Zg(s.nextSibling)&&!Rm(s.nextSibling))return Nn.after(s);if(Rm(s))return Nn(s,s.data.length)}return _h(n)?Px(s)?Nn.before(s):Nn.after(s):Nn.before(s)},Z0=(n,s)=>{const l=s.nextSibling;return l&&Zg(l)?Rm(l)?Nn(l,0):Nn.before(l):uv(Pi.Forwards,Nn.after(s),n)},uv=(n,s,l)=>{let m,O,P,Z;if(!eA(l)||!s)return null;if(s.isEqual(Nn.after(l))&&l.lastChild){if(Z=Nn.after(l.lastChild),_h(n)&&Zg(l.lastChild)&&eA(l.lastChild))return Px(l.lastChild)?Nn.before(l.lastChild):Z}else Z=s;const J=Z.container();let he=Z.offset();if(Rm(J)){if(_h(n)&&he>0)return Nn(J,--he);if(Vg(n)&&he<J.length)return Nn(J,++he);m=J}else{if(_h(n)&&he>0&&(O=z0(J,he-1),Zg(O)))return!ac(O)&&(P=Q0(O,n,V0,O),P)?Rm(P)?Nn(P,P.data.length):Nn.after(P):Rm(O)?Nn(O,O.data.length):Nn.before(O);if(Vg(n)&&he<J.childNodes.length&&(O=z0(J,he),Zg(O)))return Px(O)?Z0(l,O):!ac(O)&&(P=Q0(O,n,V0,O),P)?Rm(P)?Nn(P,0):Nn.before(P):Rm(O)?Nn(O,0):Nn.after(O);m=O||Z.getNode()}if(m&&(Vg(n)&&Z.isAtEnd()||_h(n)&&Z.isAtStart())&&(m=Q0(m,n,pe,l,!0),V0(m,l)))return tT(n,m);O=m&&Q0(m,n,V0,l);const _e=Wt(se(ab(J,l),i9));return _e&&(!O||!_e.contains(O))?(Vg(n)?Z=Nn.after(_e):Z=Nn.before(_e),Z):O?tT(n,O):null},Ud=n=>({next:s=>uv(Pi.Forwards,s,n),prev:s=>uv(Pi.Backwards,s,n)}),BE=(n,s,l)=>{const m=n?Nn.before(l):Nn.after(l);return Rl(n,s,m)},QE=n=>aa(n)?Nn.before(n):Nn.after(n),Hg=n=>Nn.isTextPosition(n)?n.offset()===0:go(n.getNode()),H0=n=>{if(Nn.isTextPosition(n)){const s=n.container();return n.offset()===s.data.length}else return go(n.getNode(!0))},Mx=(n,s)=>!Nn.isTextPosition(n)&&!Nn.isTextPosition(s)&&n.getNode()===s.getNode(!0),Rh=n=>!Nn.isTextPosition(n)&&aa(n.getNode()),nT=(n,s,l)=>n?!Mx(s,l)&&!Rh(s)&&H0(s)&&Hg(l):!Mx(l,s)&&Hg(s)&&H0(l),Rl=(n,s,l)=>{const m=Ud(s);return G.from(n?m.next(l):m.prev(l))},Dm=(n,s,l)=>Rl(n,s,l).bind(m=>Hd(l,m,s)&&nT(n,l,m)?Rl(n,s,m):G.some(m)),id=(n,s,l,m)=>Dm(n,s,l).bind(O=>m(O)?id(n,s,O,m):G.some(O)),U0=(n,s)=>{const l=n?s.firstChild:s.lastChild;return lr(l)?G.some(Nn(l,n?0:l.data.length)):l?go(l)?G.some(n?Nn.before(l):QE(l)):BE(n,s,l):G.none()},Rc=ee(Rl,!0),uu=ee(Rl,!1),Xc=ee(U0,!0),ld=ee(U0,!1),Ex="_mce_caret",sf=n=>Xr(n)&&n.id===Ex,fv=(n,s)=>{let l=s;for(;l&&l!==n;){if(sf(l))return l;l=l.parentNode}return null},rT=n=>M(n.start),FE=n=>it(n,"rng"),tA=n=>it(n,"id"),ib=n=>it(n,"name"),nA=n=>fr.isArray(n.start),lb=n=>!ib(n)&&z(n.forward)?n.forward:!0,_x=(n,s)=>(Xr(s)&&n.isBlock(s)&&!s.innerHTML&&(s.innerHTML='<br data-mce-bogus="1" />'),s),VE=(n,s)=>{const l=G.from(Yc(n.getRoot(),s.start)),m=G.from(Yc(n.getRoot(),s.end));return Fa(l,m,(O,P)=>{const Z=n.createRng();return Z.setStart(O.container(),O.offset()),Z.setEnd(P.container(),P.offset()),{range:Z,forward:lb(s)}})},rA=(n,s)=>{var l;const O=((l=n.ownerDocument)!==null&&l!==void 0?l:document).createTextNode(de);n.appendChild(O),s.setStart(O,0),s.setEnd(O,0)},zE=n=>!n.hasChildNodes(),l9=(n,s)=>ld(n).fold(ne,l=>(s.setStart(l.container(),l.offset()),s.setEnd(l.container(),l.offset()),!0)),oA=(n,s,l)=>zE(s)&&fv(n,s)?(rA(s,l),!0):!1,As=(n,s,l,m)=>{const O=l[s?"start":"end"],P=n.getRoot();if(O){let Z=P,J=O[0];for(let he=O.length-1;Z&&he>=1;he--){const _e=Z.childNodes;if(oA(P,Z,m))return!0;if(O[he]>_e.length-1)return oA(P,Z,m)?!0:l9(Z,m);Z=_e[O[he]]}lr(Z)&&(J=Math.min(O[0],Z.data.length)),Xr(Z)&&(J=Math.min(O[0],Z.childNodes.length)),s?m.setStart(Z,J):m.setEnd(Z,J)}return!0},Wd=n=>lr(n)&&n.data.length>0,dv=(n,s,l)=>{const m=n.get(l.id+"_"+s),O=m==null?void 0:m.parentNode,P=l.keep;if(m&&O){let Z,J;if(s==="start"?P?m.hasChildNodes()?(Z=m.firstChild,J=1):Wd(m.nextSibling)?(Z=m.nextSibling,J=0):Wd(m.previousSibling)?(Z=m.previousSibling,J=m.previousSibling.data.length):(Z=O,J=n.nodeIndex(m)+1):(Z=O,J=n.nodeIndex(m)):P?m.hasChildNodes()?(Z=m.firstChild,J=1):Wd(m.previousSibling)?(Z=m.previousSibling,J=m.previousSibling.data.length):(Z=O,J=n.nodeIndex(m)):(Z=O,J=n.nodeIndex(m)),!P){const he=m.previousSibling,_e=m.nextSibling;fr.each(fr.grep(m.childNodes),qe=>{lr(qe)&&(qe.data=qe.data.replace(/\uFEFF/g,""))});let Ge;for(;Ge=n.get(l.id+"_"+s);)n.remove(Ge,!0);if(lr(_e)&&lr(he)&&!Dr.browser.isOpera()){const qe=he.data.length;he.appendData(_e.data),n.remove(_e),Z=he,J=qe}}return G.some(Nn(Z,J))}else return G.none()},oT=(n,s)=>{const l=n.createRng();return As(n,!0,s,l)&&As(n,!1,s,l)?G.some({range:l,forward:lb(s)}):G.none()},sA=(n,s)=>{const l=dv(n,"start",s),m=dv(n,"end",s);return Fa(l,m.or(l),(O,P)=>{const Z=n.createRng();return Z.setStart(_x(n,O.container()),O.offset()),Z.setEnd(_x(n,P.container()),P.offset()),{range:Z,forward:lb(s)}})},cb=(n,s)=>G.from(n.select(s.name)[s.index]).map(l=>{const m=n.createRng();return m.selectNode(l),{range:m,forward:!0}}),ZE=(n,s)=>{const l=n.dom;if(s){if(nA(s))return oT(l,s);if(rT(s))return VE(l,s);if(tA(s))return sA(l,s);if(ib(s))return cb(l,s);if(FE(s))return G.some({range:s.rng,forward:lb(s)})}return G.none()},W0=(n,s,l)=>eE(n,s,l),Rx=(n,s)=>{ZE(n,s).each(({range:l,forward:m})=>{n.setRng(l,m)})},af=n=>Xr(n)&&n.tagName==="SPAN"&&n.getAttribute("data-mce-type")==="bookmark",Dx=(n=>s=>n===s)(zs),Y0=n=>n!==""&&` \f
\r	\v`.indexOf(n)!==-1,Ug=n=>!Y0(n)&&!Dx(n)&&!Rf(n),$x=n=>{const s=[];if(n)for(let l=0;l<n.rangeCount;l++)s.push(n.getRangeAt(l));return s},Lx=n=>ze(n,s=>{const l=uw(s);return l?[Yt.fromDom(l)]:[]}),hv=n=>$x(n).length>1,HE=n=>se(Lx(n),Hc),aA=n=>sl(n,"td[data-mce-selected],th[data-mce-selected]"),UE=(n,s)=>{const l=aA(s);return l.length>0?l:HE(n)},X0=n=>UE($x(n.selection.getSel()),Yt.fromDom(n.getBody())),$m=(n,s)=>Og(n,"table",s),WE=n=>{const s=n.startContainer,l=n.startOffset;return lr(s)?l===0?G.some(Yt.fromDom(s)):G.none():G.from(s.childNodes[l]).map(Yt.fromDom)},YE=n=>{const s=n.endContainer,l=n.endOffset;return lr(s)?l===s.data.length?G.some(Yt.fromDom(s)):G.none():G.from(s.childNodes[l-1]).map(Yt.fromDom)},iA=n=>bg(n).fold(ae([n]),s=>[n].concat(iA(s))),sT=n=>xc(n).fold(ae([n]),s=>Vs(s)==="br"?Uu(s).map(l=>[n].concat(sT(l))).getOr([]):[n].concat(sT(s))),aT=(n,s)=>Fa(WE(s),YE(s),(l,m)=>{const O=le(iA(n),ee(Gs,l)),P=le(sT(n),ee(Gs,m));return O.isSome()&&P.isSome()}).getOr(!1),iT=(n,s,l,m)=>{const O=l,P=new ca(l,O),Z=wn(n.schema.getMoveCaretBeforeOnEnterElements(),(he,_e)=>!Ze(["td","th","table"],_e.toLowerCase()));let J=l;do{if(lr(J)&&fr.trim(J.data).length!==0){m?s.setStart(J,0):s.setEnd(J,J.data.length);return}if(Z[J.nodeName]){m?s.setStartBefore(J):J.nodeName==="BR"?s.setEndBefore(J):s.setEndAfter(J);return}}while(J=m?P.next():P.prev());O.nodeName==="BODY"&&(m?s.setStart(O,0):s.setEnd(O,O.childNodes.length))},Ix=n=>{const s=n.selection.getSel();return B(s)&&s.rangeCount>0},Wg=(n,s)=>{const l=X0(n);l.length>0?re(l,m=>{const O=m.dom,P=n.dom.createRng();P.setStartBefore(O),P.setEndAfter(O),s(P,!0)}):s(n.selection.getRng(),!1)},lA=(n,s,l)=>{const m=Ok(n,s);l(m),n.moveToBookmark(m)},ub=n=>W(n==null?void 0:n.nodeType),lT=n=>Xr(n)&&!af(n)&&!sf(n)&&!_f(n),XE=(n,s)=>{if(lT(s)&&!/^(TD|TH)$/.test(s.nodeName)){const l=n.getAttrib(s,"data-mce-selected"),m=parseInt(l,10);return!isNaN(m)&&m>0}else return!1},fb=(n,s,l)=>{const{selection:m,dom:O}=n,P=m.getNode(),Z=Os(P);lA(m,!0,()=>{s()}),Z&&Os(P)&&O.isChildOf(P,n.getBody())?n.selection.select(P):l(m.getStart())&&GE(O,m)},GE=(n,s)=>{var l,m;const O=s.getRng(),{startContainer:P,startOffset:Z}=O,J=s.getNode();if(!XE(n,J)&&Xr(P)){const he=P.childNodes,_e=n.getRoot();let Ge;if(Z<he.length){const qe=he[Z];Ge=new ca(qe,(l=n.getParent(qe,n.isBlock))!==null&&l!==void 0?l:_e)}else{const qe=he[he.length-1];Ge=new ca(qe,(m=n.getParent(qe,n.isBlock))!==null&&m!==void 0?m:_e),Ge.next(!0)}for(let qe=Ge.current();qe;qe=Ge.next()){if(n.getContentEditable(qe)==="false")return;if(lr(qe)&&!Ni(qe)){O.setStart(qe,0),s.setRng(O);return}}}},Fr=(n,s,l)=>{if(n){const m=s?"nextSibling":"previousSibling";for(n=l?n:n[m];n;n=n[m])if(Xr(n)||!Ni(n))return n}},el=(n,s)=>!!n.getTextBlockElements()[s.nodeName.toLowerCase()]||ks(n,s),Lm=(n,s,l)=>n.schema.isValidChild(s,l),Ni=(n,s=!1)=>{if(B(n)&&lr(n)){const l=s?n.data.replace(/ /g," "):n.data;return Ba(l)}else return!1},If=n=>B(n)&&lr(n)&&n.length===0,Nx=(n,s)=>{const l="[data-mce-cef-wrappable]",m=R0(n),O=Ct(m)?l:`${l},${m}`;return Hu(Yt.fromDom(s),O)},db=(n,s)=>{const l=n.dom;return lT(s)&&l.getContentEditable(s)==="false"&&Nx(n,s)&&l.select('[contenteditable="true"]',s).length===0},Yd=(n,s)=>E(n)?n(s):(B(s)&&(n=n.replace(/%(\w+)/g,(l,m)=>s[m]||l)),n),Bx=(n,s)=>(n=n||"",s=s||"",n=""+(n.nodeName||n),s=""+(s.nodeName||s),n.toLowerCase()===s.toLowerCase()),Qx=(n,s)=>{if(Q(n))return null;{let l=String(n);return(s==="color"||s==="backgroundColor")&&(l=d0(l)),s==="fontWeight"&&n===700&&(l="bold"),s==="fontFamily"&&(l=l.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),l}},G0=(n,s,l)=>{const m=n.getStyle(s,l);return Qx(m,l)},cA=(n,s)=>{let l;return n.getParent(s,m=>Xr(m)?(l=n.getStyle(m,"text-decoration"),!!l&&l!=="none"):!1),l},hb=(n,s,l)=>n.getParents(s,l,n.getRoot()),cT=(n,s,l)=>{const m=n.formatter.get(s);return B(m)&&De(m,l)},uT=(n,s)=>cT(n,s,m=>{const O=P=>E(P)||P.length>1&&P.charAt(0)==="%";return De(["styles","attributes"],P=>Sn(m,P).exists(Z=>{const J=N(Z)?Z:Un(Z);return De(J,O)}))}),jE=(n,s,l)=>{const m=["inline","block","selector","attributes","styles","classes"],O=P=>wn(P,(Z,J)=>De(m,he=>he===J));return cT(n,s,P=>{const Z=O(P);return cT(n,l,J=>{const he=O(J);return xt(Z,he)})})},Xd=n=>ut(n,"block"),Fx=n=>Xd(n)&&n.wrapper===!0,j0=n=>Xd(n)&&n.wrapper!==!0,jl=n=>ut(n,"selector"),Xi=n=>ut(n,"inline"),Vx=n=>jl(n)&&Xi(n)&&Qa(Sn(n,"mixed"),!0),mb=n=>jl(n)&&n.expand!==!1&&!Xi(n),zx=n=>{const s=[];let l=n;for(;l;){if(lr(l)&&l.data!==de||l.childNodes.length>1)return[];Xr(l)&&s.push(l),l=l.firstChild}return s},gb=n=>zx(n).length>0,pb=n=>sf(n.dom)&&gb(n.dom),q0=af,uA=hb,vb=Ni,fA=el,dA=n=>aa(n)&&n.getAttribute("data-mce-bogus")&&!n.nextSibling,hA=(n,s)=>{let l=s;for(;l;){if(Xr(l)&&n.getContentEditable(l))return n.getContentEditable(l)==="false"?l:s;l=l.parentNode}return s},Nf=(n,s,l,m)=>{const O=s.data;if(n){for(let P=l;P>0;P--)if(m(O.charAt(P-1)))return P}else for(let P=l;P<O.length;P++)if(m(O.charAt(P)))return P;return-1},ic=(n,s,l)=>Nf(n,s,l,m=>Dx(m)||Y0(m)),cd=(n,s,l)=>Nf(n,s,l,Ug),fu=(n,s,l,m,O,P)=>{let Z;const J=n.getParent(l,n.isBlock)||s,he=(Ge,qe,ot)=>{const Et=Rg(n),Vt=O?Et.backwards:Et.forwards;return G.from(Vt(Ge,qe,(kt,It)=>q0(kt.parentNode)?-1:(Z=kt,ot(O,kt,It)),J))};return he(l,m,ic).bind(Ge=>P?he(Ge.container,Ge.offset+(O?-1:0),cd):G.some(Ge)).orThunk(()=>Z?G.some({container:Z,offset:O?0:Z.length}):G.none())},yb=(n,s,l,m,O)=>{const P=m[O];lr(m)&&Ct(m.data)&&P&&(m=P);const Z=uA(n,m);for(let J=0;J<Z.length;J++)for(let he=0;he<s.length;he++){const _e=s[he];if(!(B(_e.collapsed)&&_e.collapsed!==l.collapsed)&&jl(_e)&&n.is(Z[J],_e.selector))return Z[J]}return m},Zx=(n,s,l,m)=>{var O;let P=l;const Z=n.getRoot(),J=s[0];if(Xd(J)&&(P=J.wrapper?null:n.getParent(l,J.block,Z)),!P){const he=(O=n.getParent(l,"LI,TD,TH,SUMMARY"))!==null&&O!==void 0?O:Z;P=n.getParent(lr(l)?l.parentNode:l,_e=>_e!==Z&&fA(n.schema,_e),he)}if(P&&Xd(J)&&J.wrapper&&(P=uA(n,P,"ul,ol").reverse()[0]||P),!P)for(P=l;P&&P[m]&&!n.isBlock(P[m])&&(P=P[m],!Bx(P,"br")););return P||l},mA=(n,s,l,m)=>{const O=l.parentNode;return B(l[m])?!1:O===s||Q(O)||n.isBlock(O)?!0:mA(n,s,O,m)},bb=(n,s,l,m,O)=>{let P=l;const Z=O?"previousSibling":"nextSibling",J=n.getRoot();if(lr(l)&&!vb(l)&&(O?m>0:m<l.data.length))return l;for(;P;){if(!s[0].block_expand&&n.isBlock(P))return P;for(let he=P[Z];he;he=he[Z]){const _e=lr(he)&&!mA(n,J,he,Z);if(!q0(he)&&!dA(he)&&!vb(he,_e))return P}if(P===J||P.parentNode===J){l=P;break}P=P.parentNode}return l},qE=n=>q0(n.parentNode)||q0(n),Im=(n,s,l,m=!1)=>{let{startContainer:O,startOffset:P,endContainer:Z,endOffset:J}=s;const he=l[0];return Xr(O)&&O.hasChildNodes()&&(O=Mu(O,P),lr(O)&&(P=0)),Xr(Z)&&Z.hasChildNodes()&&(Z=Mu(Z,s.collapsed?J:J-1),lr(Z)&&(J=Z.data.length)),O=hA(n,O),Z=hA(n,Z),qE(O)&&(O=q0(O)?O:O.parentNode,s.collapsed?O=O.previousSibling||O:O=O.nextSibling||O,lr(O)&&(P=s.collapsed?O.length:0)),qE(Z)&&(Z=q0(Z)?Z:Z.parentNode,s.collapsed?Z=Z.nextSibling||Z:Z=Z.previousSibling||Z,lr(Z)&&(J=s.collapsed?0:Z.length)),s.collapsed&&(fu(n,n.getRoot(),O,P,!0,m).each(({container:qe,offset:ot})=>{O=qe,P=ot}),fu(n,n.getRoot(),Z,J,!1,m).each(({container:qe,offset:ot})=>{Z=qe,J=ot})),(Xi(he)||he.block_expand)&&((!Xi(he)||!lr(O)||P===0)&&(O=bb(n,l,O,P,!0)),(!Xi(he)||!lr(Z)||J===Z.data.length)&&(Z=bb(n,l,Z,J,!1))),mb(he)&&(O=yb(n,l,s,O,"previousSibling"),Z=yb(n,l,s,Z,"nextSibling")),(Xd(he)||jl(he))&&(O=Zx(n,l,O,"previousSibling"),Z=Zx(n,l,Z,"nextSibling"),Xd(he)&&(n.isBlock(O)||(O=bb(n,l,O,P,!0)),n.isBlock(Z)||(Z=bb(n,l,Z,J,!1)))),Xr(O)&&O.parentNode&&(P=n.nodeIndex(O),O=O.parentNode),Xr(Z)&&Z.parentNode&&(J=n.nodeIndex(Z)+1,Z=Z.parentNode),{startContainer:O,startOffset:P,endContainer:Z,endOffset:J}},Ob=(n,s,l)=>{var m;const O=s.startOffset,P=Mu(s.startContainer,O),Z=s.endOffset,J=Mu(s.endContainer,Z-1),he=It=>{const cn=It[0];lr(cn)&&cn===P&&O>=cn.data.length&&It.splice(0,1);const xn=It[It.length-1];return Z===0&&It.length>0&&xn===J&&lr(xn)&&It.splice(It.length-1,1),It},_e=(It,cn,xn)=>{const bn=[];for(;It&&It!==xn;It=It[cn])bn.push(It);return bn},Ge=(It,cn)=>n.getParent(It,xn=>xn.parentNode===cn,cn),qe=(It,cn,xn)=>{const bn=xn?"nextSibling":"previousSibling";for(let $n=It,rr=$n.parentNode;$n&&$n!==cn;$n=rr){rr=$n.parentNode;const gr=_e($n===It?$n:$n[bn],bn);gr.length&&(xn||gr.reverse(),l(he(gr)))}};if(P===J)return l(he([P]));const ot=(m=n.findCommonAncestor(P,J))!==null&&m!==void 0?m:n.getRoot();if(n.isChildOf(P,J))return qe(P,ot,!0);if(n.isChildOf(J,P))return qe(J,ot);const Et=Ge(P,ot)||P,Vt=Ge(J,ot)||J;qe(P,Et,!0);const kt=_e(Et===P?Et:Et.nextSibling,"nextSibling",Vt===J?Vt.nextSibling:Vt);kt.length&&l(he(kt)),qe(J,Vt)},fT=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],gA=n=>Zi(n)&&su(n)===de,pA=(n,s,l,m)=>ru(s).fold(()=>"skipping",O=>m==="br"||gA(s)?"valid":fk(s)?"existing":sf(s.dom)?"caret":De(fT,P=>Hu(s,P))?"valid-block":!Lm(n,l,m)||!Lm(n,Vs(O),l)?"invalid-child":"valid"),dT=(n,s)=>{const l=Im(n.dom,s,[{inline:"span"}]);s.setStart(l.startContainer,l.startOffset),s.setEnd(l.endContainer,l.endOffset),n.selection.setRng(s)},Hx=(n,s,l,m,O,P)=>{const{uid:Z=s,...J}=l;cm(n,ox()),Ra(n,`${O0()}`,Z),Ra(n,`${kh()}`,m);const{attributes:he={},classes:_e=[]}=O(Z,J);if(Su(n,he),WM(n,_e),P){_e.length>0&&Ra(n,`${S0()}`,_e.join(","));const Ge=Gt(he);Ge.length>0&&Ra(n,`${tv()}`,Ge.join(","))}},ka=n=>{um(n,ox()),ci(n,`${O0()}`),ci(n,`${kh()}`),ci(n,`${x0()}`);const s=bc(n,`${tv()}`).map(m=>m.split(",")).getOr([]),l=bc(n,`${S0()}`).map(m=>m.split(",")).getOr([]);re(s,m=>ci(n,m)),mk(n,l),ci(n,`${S0()}`),ci(n,`${tv()}`)},Nm=(n,s,l,m,O)=>{const P=Yt.fromTag("span",n);return Hx(P,s,l,m,O,!1),P},vA=(n,s,l,m,O,P)=>{const Z=[],J=Nm(n.getDoc(),l,P,m,O),he=_g(),_e=()=>{he.clear()},Ge=()=>he.get().getOrThunk(()=>{const Vt=Pu(J);return Z.push(Vt),he.set(Vt),Vt}),qe=Vt=>{re(Vt,ot)},ot=Vt=>{switch(pA(n,Vt,"span",Vs(Vt))){case"invalid-child":{_e();const It=ol(Vt);qe(It),_e();break}case"valid-block":{_e(),Hx(Vt,l,P,m,O,!0);break}case"valid":{const It=Ge();xg(Vt,It);break}}},Et=Vt=>{const kt=Ie(Vt,Yt.fromDom);qe(kt)};return Ob(n.dom,s,Vt=>{_e(),Et(Vt)}),Z},hT=(n,s,l,m)=>{n.undoManager.transact(()=>{const O=n.selection,P=O.getRng(),Z=X0(n).length>0,J=nv("mce-annotation");if(P.collapsed&&!Z&&dT(n,P),O.getRng().collapsed&&!Z){const he=Nm(n.getDoc(),J,m,s,l.decorate);gm(he,zs),O.getRng().insertNode(he.dom),O.select(he.dom)}else lA(O,!1,()=>{Wg(n,he=>{vA(n,he,J,s,l.decorate,m)})})})},mT=n=>{const s=hk();nf(n,s);const l=oc(n,s),m=xu("span"),O=P=>{re(P,Z=>{m(Z)?Ef(Z):ka(Z)})};return{register:(P,Z)=>{s.register(P,Z)},annotate:(P,Z)=>{s.lookup(P).each(J=>{hT(n,P,J,Z)})},annotationChanged:(P,Z)=>{l.addListener(P,Z)},remove:P=>{yi(n,G.some(P)).each(({elements:Z})=>{const J=n.selection.getBookmark();O(Z),n.selection.moveToBookmark(J)})},removeAll:P=>{const Z=n.selection.getBookmark();Bt(sx(n,P),(J,he)=>{O(J)}),n.selection.moveToBookmark(Z)},getAll:P=>{const Z=sx(n,P);return vn(Z,J=>Ie(J,he=>he.dom))}}},mv=n=>({getBookmark:ee(W0,n),moveToBookmark:ee(Rx,n)});mv.isBookmarkNode=af;const gT=(n,s,l)=>l.collapsed?!1:De(l.getClientRects(),m=>pk(m,n,s)),pT=(n,s)=>n.dispatch("PreProcess",s),KE=(n,s)=>n.dispatch("PostProcess",s),K0=n=>{n.dispatch("remove")},J0=n=>{n.dispatch("detach")},vT=(n,s)=>{n.dispatch("SwitchMode",{mode:s})},yT=(n,s,l,m,O)=>{n.dispatch("ObjectResizeStart",{target:s,width:l,height:m,origin:O})},ud=(n,s,l,m,O)=>{n.dispatch("ObjectResized",{target:s,width:l,height:m,origin:O})},Yg=n=>{n.dispatch("PreInit")},JE=n=>{n.dispatch("PostRender")},xb=n=>{n.dispatch("Init")},e_=(n,s)=>{n.dispatch("PlaceholderToggle",{state:s})},_u=(n,s,l)=>{n.dispatch(s,l)},lc=(n,s,l,m)=>{n.dispatch("FormatApply",{format:s,node:l,vars:m})},gv=(n,s,l,m)=>{n.dispatch("FormatRemove",{format:s,node:l,vars:m})},c9=(n,s)=>n.dispatch("BeforeSetContent",s),yA=(n,s)=>n.dispatch("SetContent",s),t_=(n,s)=>n.dispatch("BeforeGetContent",s),xs=(n,s)=>n.dispatch("GetContent",s),bT=(n,s)=>{n.dispatch("AutocompleterStart",s)},bA=(n,s)=>{n.dispatch("AutocompleterUpdate",s)},OT=n=>{n.dispatch("AutocompleterEnd")},n_=(n,s,l)=>n.dispatch("PastePreProcess",{content:s,internal:l}),r_=(n,s,l)=>n.dispatch("PastePostProcess",{node:s,internal:l}),OA=(n,s)=>n.dispatch("PastePlainTextToggle",{state:s}),o_=(n,s)=>n.dispatch("EditableRootStateChange",{state:s}),Wr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:n=>n.shiftKey||n.ctrlKey||n.altKey||Wr.metaKeyPressed(n),metaKeyPressed:n=>Dr.os.isMacOS()||Dr.os.isiOS()?n.metaKey:n.ctrlKey&&!n.altKey},Xg="data-mce-selected",xA="table,img,figure.image,hr,video,span.mce-preview-object,details",Sb=Math.abs,wb=Math.round,s_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},u9=n=>n.type==="longpress"||n.type.indexOf("touch")===0,f9=(n,s)=>{const l=s.dom,m=s.getDoc(),O=document,P=s.getBody();let Z,J,he,_e,Ge,qe,ot,Et,Vt,kt,It,cn,xn,bn,$n,rr,gr;const Qr=yr=>B(yr)&&(El(yr)||l.is(yr,"figure.image")),zn=yr=>ei(yr)||l.hasClass(yr,"mce-preview-object"),Bn=(yr,Bo)=>{if(u9(yr)){const Ls=yr.touches[0];return Qr(yr.target)&&!gT(Ls.clientX,Ls.clientY,Bo)}else return Qr(yr.target)&&!gT(yr.clientX,yr.clientY,Bo)},tr=yr=>{const Bo=yr.target;Bn(yr,s.selection.getRng())&&!yr.isDefaultPrevented()&&s.selection.select(Bo)},eo=yr=>l.hasClass(yr,"mce-preview-object")&&B(yr.firstElementChild)?[yr,yr.firstElementChild]:l.is(yr,"figure.image")?[yr.querySelector("img")]:[yr],po=yr=>{const Bo=E0(s);return!Bo||yr.getAttribute("data-mce-resize")==="false"||yr===s.getBody()?!1:l.hasClass(yr,"mce-preview-object")&&B(yr.firstElementChild)?Hu(Yt.fromDom(yr.firstElementChild),Bo):Hu(Yt.fromDom(yr),Bo)},ls=yr=>zn(yr)?l.create("img",{src:Dr.transparentSrc}):yr.cloneNode(!0),ys=(yr,Bo,Ls)=>{if(B(Ls)){const Aa=eo(yr);re(Aa,Sa=>{Sa.style[Bo]||!s.schema.isValid(Sa.nodeName.toLowerCase(),Bo)?l.setStyle(Sa,Bo,Ls):l.setAttrib(Sa,Bo,""+Ls)})}},ma=(yr,Bo,Ls)=>{ys(yr,"width",Bo),ys(yr,"height",Ls)},$s=yr=>{let Bo,Ls,Aa,Sa,$l;Bo=yr.screenX-qe,Ls=yr.screenY-ot,bn=Bo*_e[2]+kt,$n=Ls*_e[3]+It,bn=bn<5?5:bn,$n=$n<5?5:$n,(Qr(Z)||zn(Z))&&_k(s)!==!1?Aa=!Wr.modifierPressed(yr):Aa=Wr.modifierPressed(yr),Aa&&(Sb(Bo)>Sb(Ls)?($n=wb(bn*cn),bn=wb($n/cn)):(bn=wb($n/cn),$n=wb(bn*cn))),ma(J,bn,$n),Sa=_e.startPos.x+Bo,$l=_e.startPos.y+Ls,Sa=Sa>0?Sa:0,$l=$l>0?$l:0,l.setStyles(he,{left:Sa,top:$l,display:"block"}),he.innerHTML=bn+" &times; "+$n,_e[2]<0&&J.clientWidth<=bn&&l.setStyle(J,"left",Et+(kt-bn)),_e[3]<0&&J.clientHeight<=$n&&l.setStyle(J,"top",Vt+(It-$n)),Bo=P.scrollWidth-rr,Ls=P.scrollHeight-gr,Bo+Ls!==0&&l.setStyles(he,{left:Sa-Bo,top:$l-Ls}),xn||(yT(s,Z,kt,It,"corner-"+_e.name),xn=!0)},hi=()=>{const yr=xn;xn=!1,yr&&(ys(Z,"width",bn),ys(Z,"height",$n)),l.unbind(m,"mousemove",$s),l.unbind(m,"mouseup",hi),O!==m&&(l.unbind(O,"mousemove",$s),l.unbind(O,"mouseup",hi)),l.remove(J),l.remove(he),l.remove(Ge),uc(Z),yr&&(ud(s,Z,bn,$n,"corner-"+_e.name),l.setAttrib(Z,"style",l.getAttrib(Z,"style"))),s.nodeChanged()},uc=yr=>{Ss();const Bo=l.getPos(yr,P),Ls=Bo.x,Aa=Bo.y,Sa=yr.getBoundingClientRect(),$l=Sa.width||Sa.right-Sa.left,Xh=Sa.height||Sa.bottom-Sa.top;Z!==yr&&(Cr(),Z=yr,bn=$n=0);const zf=s.dispatch("ObjectSelected",{target:yr});po(yr)&&!zf.isDefaultPrevented()?Bt(s_,($u,sh)=>{const Wo=Pa=>{const oi=eo(Z)[0];qe=Pa.screenX,ot=Pa.screenY,kt=oi.clientWidth,It=oi.clientHeight,cn=It/kt,_e=$u,_e.name=sh,_e.startPos={x:$l*$u[0]+Ls,y:Xh*$u[1]+Aa},rr=P.scrollWidth,gr=P.scrollHeight,Ge=l.add(P,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),l.setStyles(Ge,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),J=ls(Z),l.addClass(J,"mce-clonedresizable"),l.setAttrib(J,"data-mce-bogus","all"),J.contentEditable="false",l.setStyles(J,{left:Ls,top:Aa,margin:0}),ma(J,$l,Xh),J.removeAttribute(Xg),P.appendChild(J),l.bind(m,"mousemove",$s),l.bind(m,"mouseup",hi),O!==m&&(l.bind(O,"mousemove",$s),l.bind(O,"mouseup",hi)),he=l.add(P,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},kt+" &times; "+It)};let Hs=l.get("mceResizeHandle"+sh);Hs&&l.remove(Hs),Hs=l.add(P,"div",{id:"mceResizeHandle"+sh,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+sh+"-resize; margin:0; padding:0"}),l.bind(Hs,"mousedown",Pa=>{Pa.stopImmediatePropagation(),Pa.preventDefault(),Wo(Pa)}),$u.elm=Hs,l.setStyles(Hs,{left:$l*$u[0]+Ls-Hs.offsetWidth/2,top:Xh*$u[1]+Aa-Hs.offsetHeight/2})}):Cr(!1)},ga=By(uc,0),Cr=(yr=!0)=>{ga.cancel(),Ss(),Z&&yr&&Z.removeAttribute(Xg),Bt(s_,(Bo,Ls)=>{const Aa=l.get("mceResizeHandle"+Ls);Aa&&(l.unbind(Aa),l.remove(Aa))})},co=(yr,Bo)=>l.isChildOf(yr,Bo),Zs=yr=>{if(xn||s.removed||s.composing)return;const Bo=yr.type==="mousedown"?yr.target:n.getNode(),Ls=Mf(Yt.fromDom(Bo),xA).map(Sa=>Sa.dom).filter(Sa=>l.isEditable(Sa.parentElement)||Sa.nodeName==="IMG"&&l.isEditable(Sa)).getOrUndefined(),Aa=B(Ls)?l.getAttrib(Ls,Xg,"1"):"1";if(re(l.select(`img[${Xg}],hr[${Xg}]`),Sa=>{Sa.removeAttribute(Xg)}),B(Ls)&&co(Ls,P)&&s.hasFocus()){ro();const Sa=n.getStart(!0);if(co(Sa,Ls)&&co(n.getEnd(!0),Ls)){l.setAttrib(Ls,Xg,Aa),ga.throttle(Ls);return}}Cr()},Ss=()=>{Bt(s_,yr=>{yr.elm&&(l.unbind(yr.elm),delete yr.elm)})},ro=()=>{try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return s.on("init",()=>{ro(),s.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Zs),s.on("keyup compositionend",yr=>{Z&&Z.nodeName==="TABLE"&&Zs(yr)}),s.on("hide blur",Cr),s.on("contextmenu longpress",tr,!0)}),s.on("remove",Ss),{isResizable:po,showResizeRect:uc,hideResizeRect:Cr,updateResizeRect:Zs,destroy:()=>{ga.cancel(),Z=J=Ge=null}}},ZU=(n,s)=>{s.fold(l=>{n.setStartBefore(l.dom)},(l,m)=>{n.setStart(l.dom,m)},l=>{n.setStartAfter(l.dom)})},a_=(n,s)=>{s.fold(l=>{n.setEndBefore(l.dom)},(l,m)=>{n.setEnd(l.dom,m)},l=>{n.setEndAfter(l.dom)})},SA=(n,s,l)=>{const m=n.document.createRange();return ZU(m,s),a_(m,l),m},Co=(n,s,l,m,O)=>{const P=n.document.createRange();return P.setStart(s.dom,l),P.setEnd(m.dom,O),P},Bm=Zd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),wA=(n,s,l)=>s(Yt.fromDom(l.startContainer),l.startOffset,Yt.fromDom(l.endContainer),l.endOffset),i_=(n,s)=>s.match({domRange:l=>({ltr:ae(l),rtl:G.none}),relative:(l,m)=>({ltr:Rt(()=>SA(n,l,m)),rtl:Rt(()=>G.some(SA(n,m,l)))}),exact:(l,m,O,P)=>({ltr:Rt(()=>Co(n,l,m,O,P)),rtl:Rt(()=>G.some(Co(n,O,P,l,m)))})}),Tb=(n,s)=>{const l=s.ltr();return l.collapsed?s.rtl().filter(O=>O.collapsed===!1).map(O=>Bm.rtl(Yt.fromDom(O.endContainer),O.endOffset,Yt.fromDom(O.startContainer),O.startOffset)).getOrThunk(()=>wA(n,Bm.ltr,l)):wA(n,Bm.ltr,l)},l_=(n,s)=>{const l=i_(n,s);return Tb(n,l)};Bm.ltr,Bm.rtl;const xT={create:(n,s,l,m)=>({start:n,soffset:s,finish:l,foffset:m})},CA=(n,s,l)=>{var m,O;return G.from((O=(m=n.dom).caretPositionFromPoint)===null||O===void 0?void 0:O.call(m,s,l)).bind(P=>{if(P.offsetNode===null)return G.none();const Z=n.dom.createRange();return Z.setStart(P.offsetNode,P.offset),Z.collapse(),G.some(Z)})},Ux=(n,s,l)=>{var m,O;return G.from((O=(m=n.dom).caretRangeFromPoint)===null||O===void 0?void 0:O.call(m,s,l))},c_=(()=>document.caretPositionFromPoint?CA:document.caretRangeFromPoint?Ux:G.none)(),u_=(n,s,l)=>{const m=Yt.fromDom(n.document);return c_(m,s,l).map(O=>xT.create(Yt.fromDom(O.startContainer),O.startOffset,Yt.fromDom(O.endContainer),O.endOffset))},e1=Zd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ST=(n,s,l,m)=>n.fold(s,l,m),kA=n=>n.fold(q,q,q),f_=e1.before,d_=e1.on,Wx=e1.after,Dh={before:f_,on:d_,after:Wx,cata:ST,getStart:kA},Yx=Zd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ys=n=>Yx.exact(n.start,n.soffset,n.finish,n.foffset),h_=n=>n.match({domRange:s=>Yt.fromDom(s.startContainer),relative:(s,l)=>Dh.getStart(s),exact:(s,l,m,O)=>s}),Qm=Yx.domRange,$h=Yx.relative,Xx=Yx.exact,lf=n=>{const s=h_(n);return vg(s)},Gx=xT.create,Fm={domRange:Qm,relative:$h,exact:Xx,exactFromRange:Ys,getWin:lf,range:Gx},t1=(n,s)=>{const l=Vs(n);return l==="input"?Dh.after(n):Ze(["br","img"],l)?s===0?Dh.before(n):Dh.after(n):Dh.on(n,s)},Cb=(n,s)=>{const l=n.fold(Dh.before,t1,Dh.after),m=s.fold(Dh.before,t1,Dh.after);return Fm.relative(l,m)},wT=(n,s,l,m)=>{const O=t1(n,s),P=t1(l,m);return Fm.relative(O,P)},m_=n=>n.match({domRange:s=>{const l=Yt.fromDom(s.startContainer),m=Yt.fromDom(s.endContainer);return wT(l,s.startOffset,m,s.endOffset)},relative:Cb,exact:wT}),TT=(n,s)=>{const m=(s||document).createDocumentFragment();return re(n,O=>{m.appendChild(O.dom)}),Yt.fromDom(m)},g_=n=>{const s=Fm.getWin(n).dom,l=(O,P,Z,J)=>Co(s,O,P,Z,J),m=m_(n);return l_(s,m).match({ltr:l,rtl:l})},Ps=(n,s,l)=>u_(n,s,l),cf=(n,s,l)=>{const m=vg(Yt.fromDom(l));return Ps(m.dom,n,s).map(O=>{const P=l.createRange();return P.setStart(O.start.dom,O.soffset),P.setEnd(O.finish.dom,O.foffset),P}).getOrUndefined()},Gg=(n,s)=>B(n)&&B(s)&&n.startContainer===s.startContainer&&n.startOffset===s.startOffset&&n.endContainer===s.endContainer&&n.endOffset===s.endOffset,p_=(n,s,l)=>{let m=n;for(;m&&m!==s;){if(l(m))return m;m=m.parentNode}return null},n1=(n,s,l)=>p_(n,s,l)!==null,Qs=(n,s,l)=>n1(n,s,m=>m.nodeName===l),v_=(n,s)=>bt(n)&&!n1(n,s,sf),CT=(n,s,l)=>{const m=s.parentNode;if(m){const O=new ca(s,n.getParent(m,n.isBlock)||n.getRoot());let P;for(;P=O[l?"prev":"next"]();)if(aa(P))return!0}return!1},A=(n,s)=>{var l;return((l=n.previousSibling)===null||l===void 0?void 0:l.nodeName)===s},$=(n,s)=>{let l=s;for(;l&&l!==n;){if(Os(l))return!0;l=l.parentNode}return!1},j=(n,s,l,m,O)=>{const P=n.getRoot(),Z=n.schema.getNonEmptyElements(),J=O.parentNode;let he,_e;if(!J)return G.none();const Ge=n.getParent(J,n.isBlock)||P;if(m&&aa(O)&&s&&n.isEmpty(Ge))return G.some(Nn(J,n.nodeIndex(O)));const qe=new ca(O,Ge);for(;_e=qe[m?"prev":"next"]();){if(n.getContentEditableParent(_e)==="false"||v_(_e,P))return G.none();if(lr(_e)&&_e.data.length>0)return Qs(_e,P,"A")?G.none():G.some(Nn(_e,m?_e.data.length:0));if(n.isBlock(_e)||Z[_e.nodeName.toLowerCase()])return G.none();he=_e}return Kf(he)?G.none():l&&he?G.some(Nn(he,0)):G.none()},ce=(n,s,l,m)=>{const O=n.getRoot();let P,Z=!1,J=l?m.startContainer:m.endContainer,he=l?m.startOffset:m.endOffset;const _e=Xr(J)&&he===J.childNodes.length,Ge=n.schema.getNonEmptyElements();let qe=l;if(bt(J))return G.none();if(Xr(J)&&he>J.childNodes.length-1&&(qe=!1),Tg(J)&&(J=O,he=0),J===O){if(qe&&(P=J.childNodes[he>0?he-1:0],P&&(bt(P)||Ge[P.nodeName]||ju(P))))return G.none();if(J.hasChildNodes()){if(he=Math.min(!qe&&he>0?he-1:he,J.childNodes.length-1),J=J.childNodes[he],he=lr(J)&&_e?J.data.length:0,!s&&J===O.lastChild&&ju(J)||$(O,J)||bt(J)||er(J))return G.none();if(J.hasChildNodes()&&!ju(J)){P=J;const ot=new ca(J,O);do{if(Os(P)||bt(P)){Z=!1;break}if(lr(P)&&P.data.length>0){he=qe?0:P.data.length,J=P,Z=!0;break}if(Ge[P.nodeName.toLowerCase()]&&!il(P)){he=n.nodeIndex(P),J=P.parentNode,qe||he++,Z=!0;break}}while(P=qe?ot.next():ot.prev())}}}return s&&(lr(J)&&he===0&&j(n,_e,s,!0,J).each(ot=>{J=ot.container(),he=ot.offset(),Z=!0}),Xr(J)&&(P=J.childNodes[he],P||(P=J.childNodes[he-1]),P&&aa(P)&&!A(P,"A")&&!CT(n,P,!1)&&!CT(n,P,!0)&&j(n,_e,s,!0,P).each(ot=>{J=ot.container(),he=ot.offset(),Z=!0}))),qe&&!s&&lr(J)&&he===J.data.length&&j(n,_e,s,!1,J).each(ot=>{J=ot.container(),he=ot.offset(),Z=!0}),Z&&J?G.some(Nn(J,he)):G.none()},Me=(n,s)=>{const l=s.collapsed,m=s.cloneRange(),O=Nn.fromRangeStart(s);return ce(n,l,!0,m).each(P=>{(!l||!Nn.isAbove(O,P))&&m.setStart(P.container(),P.offset())}),l||ce(n,l,!1,m).each(P=>{m.setEnd(P.container(),P.offset())}),l&&m.collapse(!0),Gg(s,m)?G.none():G.some(m)},Ve=(n,s)=>n.splitText(s),nt=n=>{let s=n.startContainer,l=n.startOffset,m=n.endContainer,O=n.endOffset;if(s===m&&lr(s)){if(l>0&&l<s.data.length)if(m=Ve(s,l),s=m.previousSibling,O>l){O=O-l;const P=Ve(m,O).previousSibling;s=m=P,O=P.data.length,l=0}else O=0}else if(lr(s)&&l>0&&l<s.data.length&&(s=Ve(s,l),l=0),lr(m)&&O>0&&O<m.data.length){const P=Ve(m,O).previousSibling;m=P,O=P.data.length}return{startContainer:s,startOffset:l,endContainer:m,endOffset:O}},Ot=n=>({walk:(P,Z)=>Ob(n,P,Z),split:nt,expand:(P,Z={type:"word"})=>{if(Z.type==="word"){const J=Im(n,P,[{inline:"span"}]),he=n.createRng();return he.setStart(J.startContainer,J.startOffset),he.setEnd(J.endContainer,J.endOffset),he}return P},normalize:P=>Me(n,P).fold(ne,Z=>(P.setStart(Z.startContainer,Z.startOffset),P.setEnd(Z.endContainer,Z.endOffset),!0))});Ot.compareRanges=Gg,Ot.getCaretRangeFromPoint=cf,Ot.getSelectedNode=uw,Ot.getNode=Mu;const Kt=((n,s)=>{const l=(J,he)=>{if(!W(he)&&!he.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+he);const _e=J.dom;yh(_e)&&(_e.style[n]=he+"px")},m=J=>{const he=s(J);if(he<=0||he===null){const _e=wi(J,n);return parseFloat(_e)||0}return he},O=m,P=(J,he)=>oe(he,(_e,Ge)=>{const qe=wi(J,Ge),ot=qe===void 0?0:parseInt(qe,10);return isNaN(ot)?_e:_e+ot},0);return{set:l,get:m,getOuter:O,aggregate:P,max:(J,he,_e)=>{const Ge=P(J,_e);return he>Ge?he-Ge:0}}})("height",n=>{const s=n.dom;return vh(n)?s.getBoundingClientRect().height:s.offsetHeight}),Cn=n=>Kt.get(n),ir=()=>Yt.fromDom(document),$r=(n,s)=>n.view(s).fold(ae([]),m=>{const O=n.owner(m),P=$r(n,O);return[m].concat(P)}),Rr=(n,s)=>{const l=s.owner(n);return $r(s,l)};var jn=Object.freeze({__proto__:null,view:n=>{var s;return(n.dom===document?G.none():G.from((s=n.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Yt.fromDom)},owner:n=>qf(n)});const io=n=>{const s=ir(),l=Tu(s),m=Rr(n,jn),O=ym(n),P=ue(m,(Z,J)=>{const he=ym(J);return{left:Z.left+he.left,top:Z.top+he.top}},{left:0,top:0});return Sg(P.left+O.left+l.left,P.top+O.top+l.top)},$o=n=>Vs(n)==="textarea",os=(n,s)=>n.dispatch("ScrollIntoView",s).isDefaultPrevented(),Va=(n,s)=>{n.dispatch("AfterScrollIntoView",s)},ml=(n,s)=>{const l=ol(n);if(l.length===0||$o(n))return{element:n,offset:s};if(s<l.length&&!$o(l[s]))return{element:l[s],offset:0};{const m=l[l.length-1];return $o(m)?{element:n,offset:s}:Vs(m)==="img"?{element:m,offset:1}:Zi(m)?{element:m,offset:su(m).length}:{element:m,offset:ol(m).length}}},bi=(n,s)=>{const l=BO(n),m=Cn(n);return{element:n,bottom:l.top+m,height:m,pos:l,cleanup:s}},du=(n,s)=>{const l=ml(n,s),m=Yt.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+de+"</span>");return Ui(l.element,m),bi(m,()=>Ks(m))},pv=n=>bi(Yt.fromDom(n),ie),vv=(n,s,l,m)=>{Dc(n,(O,P)=>jx(n,s,l,m),l)},kT=(n,s,l,m,O)=>{const P={elm:m.element.dom,alignToTop:O};if(os(n,P))return;const Z=Tu(s).top;l(n,s,Z,m,O),Va(n,P)},jx=(n,s,l,m)=>{const O=Yt.fromDom(n.getBody()),P=Yt.fromDom(n.getDoc());Ti(O);const Z=du(Yt.fromDom(l.startContainer),l.startOffset);kT(n,P,s,Z,m),Z.cleanup()},Oa=(n,s,l,m)=>{const O=Yt.fromDom(n.getDoc());kT(n,O,l,pv(s),m)},Dc=(n,s,l)=>{const m=l.startContainer,O=l.startOffset,P=l.endContainer,Z=l.endOffset;s(Yt.fromDom(m),Yt.fromDom(P));const J=n.dom.createRng();J.setStart(m,O),J.setEnd(P,Z),n.selection.setRng(l)},ql=(n,s,l,m,O)=>{const P=s.pos;if(m)n0(P.left,P.top,O);else{const Z=P.top-l+s.height;n0(-n.getBody().getBoundingClientRect().left,Z,O)}},uf=(n,s,l,m,O,P)=>{const Z=m+l,J=O.pos.top,he=O.bottom,_e=he-J>=m;J<l?ql(n,O,m,P!==!1,s):J>Z?ql(n,O,m,_e?P!==!1:P===!0,s):he>Z&&!_e&&ql(n,O,m,P===!0,s)},Ru=(n,s,l,m,O)=>{const P=vg(s).dom.innerHeight;uf(n,s,l,P,m,O)},jg=(n,s,l,m,O)=>{const P=vg(s).dom.innerHeight;uf(n,s,l,P,m,O);const Z=io(m.element),J=Cy(window);Z.top<J.y?wy(m.element,O!==!1):Z.top>J.bottom&&wy(m.element,O===!0)},Gc=(n,s,l)=>vv(n,Ru,s,l),AT=(n,s,l)=>Oa(n,s,Ru,l),kb=(n,s,l)=>vv(n,jg,s,l),Lh=(n,s,l)=>Oa(n,s,jg,l),cc=(n,s,l)=>{(n.inline?AT:Lh)(n,s,l)},Ab=(n,s,l)=>{(n.inline?Gc:kb)(n,s,l)},AA=(n,s=!1)=>n.dom.focus({preventScroll:s}),PA=n=>{const s=Pf(n).dom;return n.dom===s.activeElement},r1=(n=ir())=>G.from(n.dom.activeElement).map(Yt.fromDom),MA=n=>r1(Pf(n)).filter(s=>n.dom.contains(s.dom)),qx=(n,s)=>{const l=Zi(s)?su(s).length:ol(s).length+1;return n>l?l:n<0?0:n},EA=n=>Fm.range(n.start,qx(n.soffset,n.start),n.finish,qx(n.foffset,n.finish)),yv=(n,s)=>!Gu(s.dom)&&(tc(n,s)||Gs(n,s)),d9=n=>s=>yv(n,s.start)&&yv(n,s.finish),HU=n=>n.inline||Dr.browser.isFirefox(),UU=n=>Fm.range(Yt.fromDom(n.startContainer),n.startOffset,Yt.fromDom(n.endContainer),n.endOffset),WU=n=>{const s=n.getSelection();return(!s||s.rangeCount===0?G.none():G.from(s.getRangeAt(0))).map(UU)},YU=n=>{const s=vg(n);return WU(s.dom).filter(d9(n))},h9=(n,s)=>G.from(s).filter(d9(n)).map(EA),m9=n=>{const s=document.createRange();try{return s.setStart(n.start.dom,n.soffset),s.setEnd(n.finish.dom,n.foffset),G.some(s)}catch{return G.none()}},Kx=n=>{const s=HU(n)?YU(Yt.fromDom(n.getBody())):G.none();n.bookmark=s.isSome()?s:n.bookmark},y_=n=>(n.bookmark?n.bookmark:G.none()).bind(l=>h9(Yt.fromDom(n.getBody()),l)).bind(m9),XU=n=>{y_(n).each(s=>n.selection.setRng(s))},p9={isEditorUIElement:n=>{const s=n.className.toString();return s.indexOf("tox-")!==-1||s.indexOf("mce-")!==-1}},v9=(n,s)=>(W(s)||(s=0),setTimeout(n,s)),y9=(n,s)=>(W(s)||(s=0),setInterval(n,s)),fd={setEditorTimeout:(n,s,l)=>v9(()=>{n.removed||s()},l),setEditorInterval:(n,s,l)=>{const m=y9(()=>{n.removed?clearInterval(m):s()},l);return m}},GU=n=>n.type==="nodechange"&&n.selectionChange,jU=(n,s)=>{const l=()=>{s.throttle()};Da.DOM.bind(document,"mouseup",l),n.on("remove",()=>{Da.DOM.unbind(document,"mouseup",l)})},qU=(n,s)=>{n.on("mouseup touchend",l=>{s.throttle()})},KU=(n,s)=>{qU(n,s),n.on("keyup NodeChange AfterSetSelectionRange",l=>{GU(l)||Kx(n)})},_A=n=>{const s=By(()=>{Kx(n)},0);n.on("init",()=>{n.inline&&jU(n,s),KU(n,s)}),n.on("remove",()=>{s.cancel()})};let Pb;const RA=Da.DOM,b9=n=>Xr(n)&&p9.isEditorUIElement(n),DA=n=>{const s=n.classList;return s!==void 0?s.contains("tox-edit-area")||s.contains("tox-edit-area__iframe")||s.contains("mce-content-body"):!1},$A=(n,s)=>{const l=Lk(n);return RA.getParent(s,O=>b9(O)||(l?n.dom.is(O,l):!1))!==null},b_=n=>{try{const s=Pf(Yt.fromDom(n.getElement()));return r1(s).fold(()=>document.body,l=>l.dom)}catch{return document.body}},JU=(n,s)=>{const l=s.editor;_A(l);const m=(O,P)=>{if(AE(O)&&O.inline!==!0){const Z=Yt.fromDom(O.getContainer());P(Z,"tox-edit-focus")}};l.on("focusin",()=>{const O=n.focusedEditor;DA(b_(l))&&m(l,cm),O!==l&&(O&&O.dispatch("blur",{focusedEditor:l}),n.setActive(l),n.focusedEditor=l,l.dispatch("focus",{blurredEditor:O}),l.focus(!0))}),l.on("focusout",()=>{fd.setEditorTimeout(l,()=>{const O=n.focusedEditor;(!DA(b_(l))||O!==l)&&m(l,um),!$A(l,b_(l))&&O===l&&(l.dispatch("blur",{focusedEditor:null}),n.focusedEditor=null)})}),Pb||(Pb=O=>{const P=n.activeEditor;P&&Hp(O).each(Z=>{const J=Z;J.ownerDocument===document&&J!==document.body&&!$A(P,J)&&n.focusedEditor===P&&(P.dispatch("blur",{focusedEditor:null}),n.focusedEditor=null)})},RA.bind(document,"focusin",Pb))},eW=(n,s)=>{n.focusedEditor===s.editor&&(n.focusedEditor=null),!n.activeEditor&&Pb&&(RA.unbind(document,"focusin",Pb),Pb=null)},tW=n=>{n.on("AddEditor",ee(JU,n)),n.on("RemoveEditor",ee(eW,n))},nW=(n,s)=>n.dom.getParent(s,l=>n.dom.getContentEditable(l)==="true"),rW=n=>n.collapsed?G.from(Mu(n.startContainer,n.startOffset)).map(Yt.fromDom):G.none(),oW=(n,s)=>rW(s).bind(l=>nd(l)?G.some(l):tc(n,l)?G.none():G.some(n)),O9=(n,s)=>{oW(Yt.fromDom(n.getBody()),s).bind(l=>Xc(l.dom)).fold(()=>{n.selection.normalize()},l=>n.selection.setRng(l.toRange()))},O_=n=>{if(n.setActive)try{n.setActive()}catch{n.focus()}else n.focus()},sW=n=>PA(n)||MA(n).isSome(),aW=n=>B(n.iframeElement)&&PA(Yt.fromDom(n.iframeElement)),LA=n=>{const s=n.getBody();return s&&sW(Yt.fromDom(s))},x9=n=>{const s=Pf(Yt.fromDom(n.getElement()));return r1(s).filter(l=>!DA(l.dom)&&$A(n,l.dom)).isSome()},o1=n=>n.inline?LA(n):aW(n),S9=n=>o1(n)||x9(n),iW=n=>{const s=n.selection,l=n.getBody();let m=s.getRng();n.quirks.refreshContentEditable(),B(n.bookmark)&&!o1(n)&&y_(n).each(P=>{n.selection.setRng(P),m=P});const O=nW(n,s.getNode());if(O&&n.dom.isChildOf(O,l)){O_(O),O9(n,m),x_(n);return}n.inline||(Dr.browser.isOpera()||O_(l),n.getWin().focus()),(Dr.browser.isFirefox()||n.inline)&&(O_(l),O9(n,m)),x_(n)},x_=n=>n.editorManager.setActive(n),lW=(n,s)=>{n.removed||(s?x_(n):iW(n))},w9=(n,s)=>s.collapsed?n.isEditable(s.startContainer):n.isEditable(s.startContainer)&&n.isEditable(s.endContainer),T9=(n,s,l,m,O)=>{const P=l?s.startContainer:s.endContainer,Z=l?s.startOffset:s.endOffset;return G.from(P).map(Yt.fromDom).map(J=>!m||!s.collapsed?ph(J,O(J,Z)).getOr(J):J).bind(J=>kl(J)?G.some(J):ru(J).filter(kl)).map(J=>J.dom).getOr(n)},S_=(n,s,l=!1)=>T9(n,s,!0,l,(m,O)=>Math.min(Pl(m),O)),C9=(n,s,l=!1)=>T9(n,s,!1,l,(m,O)=>O>0?O-1:O),w_=(n,s)=>{const l=n;for(;n&&lr(n)&&n.length===0;)n=s?n.nextSibling:n.previousSibling;return n||l},k9=(n,s)=>{if(!s)return n;let l=s.startContainer,m=s.endContainer;const O=s.startOffset,P=s.endOffset;let Z=s.commonAncestorContainer;s.collapsed||(l===m&&P-O<2&&l.hasChildNodes()&&(Z=l.childNodes[O]),lr(l)&&lr(m)&&(l.length===O?l=w_(l.nextSibling,!0):l=l.parentNode,P===0?m=w_(m.previousSibling,!1):m=m.parentNode,l&&l===m&&(Z=l)));const J=lr(Z)?Z.parentNode:Z;return zl(J)?J:n},cW=(n,s,l,m)=>{const O=[],P=n.getRoot(),Z=n.getParent(l||S_(P,s,s.collapsed),n.isBlock),J=n.getParent(m||C9(P,s,s.collapsed),n.isBlock);if(Z&&Z!==P&&O.push(Z),Z&&J&&Z!==J){let he;const _e=new ca(Z,P);for(;(he=_e.next())&&he!==J;)n.isBlock(he)&&O.push(he)}return J&&Z!==J&&J!==P&&O.push(J),O},uW=(n,s,l)=>G.from(s).bind(m=>G.from(m.parentNode).map(O=>{const P=n.nodeIndex(m),Z=n.createRng();return Z.setStart(O,P),Z.setEnd(O,P+1),l&&(iT(n,Z,m,!0),iT(n,Z,m,!1)),Z})),T_=(n,s)=>Ie(s,l=>{const m=n.dispatch("GetSelectionRange",{range:l});return m.range!==l?m.range:l}),fW=n=>Vs(n)==="img"?1:a0(n).fold(()=>ol(n).length,s=>s.length),dW=n=>a0(n).filter(s=>s.trim().length!==0||s.indexOf(zs)>-1).isSome(),hW=n=>Ya(n)&&Al(n,"contenteditable")==="false",mW=["img","br"],A9=n=>dW(n)||Ze(mW,Vs(n))||hW(n),gW=n=>Vl(n,A9),pW=n=>vW(n,A9),vW=(n,s)=>{const l=m=>{const O=ol(m);for(let P=O.length-1;P>=0;P--){const Z=O[P];if(s(Z))return G.some(Z);const J=l(Z);if(J.isSome())return J}return G.none()};return l(n)},P9="[data-mce-autocompleter]",yW=(n,s)=>{if(M9(Yt.fromDom(n.getBody())).isNone()){const l=Yt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',n.getDoc());Ci(l,Yt.fromDom(s.extractContents())),s.insertNode(l.dom),ru(l).each(m=>m.dom.normalize()),pW(l).map(m=>{n.selection.setCursorLocation(m.dom,fW(m))})}},bW=n=>Mf(n,P9),M9=n=>Sc(n,P9),OW=(n,s)=>M9(s).each(l=>{const m=n.selection.getBookmark();Ef(l),n.selection.moveToBookmark(m)}),xW={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},IA=(n,s,l)=>{const m=l?"lastChild":"firstChild",O=l?"prev":"next";if(n[m])return n[m];if(n!==s){let P=n[O];if(P)return P;for(let Z=n.parent;Z&&Z!==s;Z=Z.parent)if(P=Z[O],P)return P}},SW=n=>{var s;const l=(s=n.value)!==null&&s!==void 0?s:"";if(!Ba(l))return!1;const m=n.parent;return!(m&&(m.name!=="span"||m.attr("style"))&&/^[ ]+$/.test(l))},yo=n=>{const s=n.name==="a"&&!n.attr("href")&&n.attr("id");return n.attr("name")||n.attr("id")&&!n.firstChild||n.attr("data-mce-bookmark")||s};class hu{static create(s,l){const m=new hu(s,xW[s]||1);return l&&Bt(l,(O,P)=>{m.attr(P,O)}),m}constructor(s,l){this.name=s,this.type=l,l===1&&(this.attributes=[],this.attributes.map={})}replace(s){const l=this;return s.parent&&s.remove(),l.insert(s,l),l.remove(),l}attr(s,l){const m=this;if(!M(s))return B(s)&&Bt(s,(P,Z)=>{m.attr(Z,P)}),m;const O=m.attributes;if(O){if(l!==void 0){if(l===null){if(s in O.map){delete O.map[s];let P=O.length;for(;P--;)if(O[P].name===s)return O.splice(P,1),m}return m}if(s in O.map){let P=O.length;for(;P--;)if(O[P].name===s){O[P].value=l;break}}else O.push({name:s,value:l});return O.map[s]=l,m}return O.map[s]}}clone(){const s=this,l=new hu(s.name,s.type),m=s.attributes;if(m){const O=[];O.map={};for(let P=0,Z=m.length;P<Z;P++){const J=m[P];J.name!=="id"&&(O[O.length]={name:J.name,value:J.value},O.map[J.name]=J.value)}l.attributes=O}return l.value=s.value,l}wrap(s){const l=this;return l.parent&&(l.parent.insert(s,l),s.append(l)),l}unwrap(){const s=this;for(let l=s.firstChild;l;){const m=l.next;s.insert(l,s,!0),l=m}s.remove()}remove(){const s=this,l=s.parent,m=s.next,O=s.prev;return l&&(l.firstChild===s?(l.firstChild=m,m&&(m.prev=null)):O&&(O.next=m),l.lastChild===s?(l.lastChild=O,O&&(O.next=null)):m&&(m.prev=O),s.parent=s.next=s.prev=null),s}append(s){const l=this;s.parent&&s.remove();const m=l.lastChild;return m?(m.next=s,s.prev=m,l.lastChild=s):l.lastChild=l.firstChild=s,s.parent=l,s}insert(s,l,m){s.parent&&s.remove();const O=l.parent||this;return m?(l===O.firstChild?O.firstChild=s:l.prev&&(l.prev.next=s),s.prev=l.prev,s.next=l,l.prev=s):(l===O.lastChild?O.lastChild=s:l.next&&(l.next.prev=s),s.next=l.next,s.prev=l,l.next=s),s.parent=O,s}getAll(s){const l=this,m=[];for(let O=l.firstChild;O;O=IA(O,l))O.name===s&&m.push(O);return m}children(){const s=this,l=[];for(let m=s.firstChild;m;m=m.next)l.push(m);return l}empty(){const s=this;if(s.firstChild){const l=[];for(let O=s.firstChild;O;O=IA(O,s))l.push(O);let m=l.length;for(;m--;){const O=l[m];O.parent=O.firstChild=O.lastChild=O.next=O.prev=null}}return s.firstChild=s.lastChild=null,s}isEmpty(s,l={},m){var O;const P=this;let Z=P.firstChild;if(yo(P))return!1;if(Z)do{if(Z.type===1){if(Z.attr("data-mce-bogus"))continue;if(s[Z.name]||yo(Z))return!1}if(Z.type===8||Z.type===3&&!SW(Z)||Z.type===3&&Z.parent&&l[Z.parent.name]&&Ba((O=Z.value)!==null&&O!==void 0?O:"")||m&&m(Z))return!1}while(Z=IA(Z,P));return!0}walk(s){return IA(this,null,s)}}const E9=fr.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),_9=n=>M(n.nodeValue)&&n.nodeValue.includes(de),NA=n=>`${n.length===0?"":`${Ie(n,s=>`[${s}]`).join(",")},`}[data-mce-bogus="all"]`,wW=(n,s)=>s.querySelectorAll(NA(n)),R9=n=>document.createTreeWalker(n,NodeFilter.SHOW_COMMENT,s=>_9(s)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),D9=n=>document.createTreeWalker(n,NodeFilter.SHOW_TEXT,s=>{if(_9(s)){const l=s.parentNode;return l&&it(E9,l.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),TW=n=>R9(n).nextNode()!==null,CW=n=>D9(n).nextNode()!==null,BA=(n,s)=>s.querySelector(NA(n))!==null,$9=(n,s)=>{re(wW(n,s),l=>{const m=Yt.fromDom(l);Al(m,"data-mce-bogus")==="all"?Ks(m):re(n,O=>{Cf(m,O)&&ci(m,O)})})},kW=n=>{let s=n.nextNode();for(;s!==null;)s.nodeValue=null,s=n.nextNode()},AW=L(kW,R9),Uo=L(kW,D9),L9=(n,s)=>{const l=[{condition:ee(BA,s),action:ee($9,s)},{condition:TW,action:AW},{condition:CW,action:Uo}];let m=n,O=!1;return re(l,({condition:P,action:Z})=>{P(m)&&(O||(m=n.cloneNode(!0),O=!0),Z(m))}),m},Jo=n=>{const s=sl(n,"[data-mce-bogus]");re(s,l=>{Al(l,"data-mce-bogus")==="all"?Ks(l):ed(l)?(Ui(l,Yt.fromText(Cg)),Ks(l)):Ef(l)})},C_=n=>{const s=sl(n,"input");re(s,l=>{ci(l,"name")})},Cle=(n,s)=>{const l=Ec(n),m=new RegExp(`^(<${l}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${l}>[\r
]*|<br \\/>[\r
]*)$`);return s.replace(m,"")},kle=(n,s)=>{const l=n.getDoc(),m=Pf(Yt.fromDom(n.getBody())),O=Yt.fromTag("div",l);Ra(O,"data-mce-bogus","all"),nc(O,{position:"fixed",left:"-9999999px",top:"0"}),gm(O,s.innerHTML),Jo(O),C_(O);const P=GC(m);Ci(P,O);const Z=Pe(O.dom.innerText);return Ks(O),Z},PW=(n,s,l)=>{let m;return s.format==="raw"?m=fr.trim(Pe(L9(l,n.serializer.getTempAttrs()).innerHTML)):s.format==="text"?m=kle(n,l):s.format==="tree"?m=n.serializer.serialize(l,s):m=Cle(n,n.serializer.serialize(l,s)),s.format!=="text"&&!Wi(Yt.fromDom(l))&&M(m)?fr.trim(m):m},Ale=(n,s)=>G.from(n.getBody()).fold(ae(s.format==="tree"?new hu("body",11):""),l=>PW(n,s,l)),MW=fr.makeMap,I9=n=>{const s=[];n=n||{};const l=n.indent,m=MW(n.indent_before||""),O=MW(n.indent_after||""),P=Pg.getEncodeFunc(n.entity_encoding||"raw",n.entities),Z=n.element_format!=="xhtml";return{start:(J,he,_e)=>{if(l&&m[J]&&s.length>0){const Ge=s[s.length-1];Ge.length>0&&Ge!==`
`&&s.push(`
`)}if(s.push("<",J),he)for(let Ge=0,qe=he.length;Ge<qe;Ge++){const ot=he[Ge];s.push(" ",ot.name,'="',P(ot.value,!0),'"')}if(!_e||Z?s[s.length]=">":s[s.length]=" />",_e&&l&&O[J]&&s.length>0){const Ge=s[s.length-1];Ge.length>0&&Ge!==`
`&&s.push(`
`)}},end:J=>{let he;s.push("</",J,">"),l&&O[J]&&s.length>0&&(he=s[s.length-1],he.length>0&&he!==`
`&&s.push(`
`))},text:(J,he)=>{J.length>0&&(s[s.length]=he?J:P(J))},cdata:J=>{s.push("<![CDATA[",J,"]]>")},comment:J=>{s.push("<!--",J,"-->")},pi:(J,he)=>{he?s.push("<?",J," ",P(he),"?>"):s.push("<?",J,"?>"),l&&s.push(`
`)},doctype:J=>{s.push("<!DOCTYPE",J,">",l?`
`:"")},reset:()=>{s.length=0},getContent:()=>s.join("").replace(/\n$/,"")}},s1=(n={},s=Cm())=>{const l=I9(n);return n.validate="validate"in n?n.validate:!0,{serialize:O=>{const P=n.validate,Z={3:he=>{var _e;l.text((_e=he.value)!==null&&_e!==void 0?_e:"",he.raw)},8:he=>{var _e;l.comment((_e=he.value)!==null&&_e!==void 0?_e:"")},7:he=>{l.pi(he.name,he.value)},10:he=>{var _e;l.doctype((_e=he.value)!==null&&_e!==void 0?_e:"")},4:he=>{var _e;l.cdata((_e=he.value)!==null&&_e!==void 0?_e:"")},11:he=>{let _e=he;if(_e=_e.firstChild)do J(_e);while(_e=_e.next)}};l.reset();const J=he=>{var _e;const Ge=Z[he.type];if(Ge)Ge(he);else{const qe=he.name,ot=qe in s.getVoidElements();let Et=he.attributes;if(P&&Et&&Et.length>1){const Vt=[];Vt.map={};const kt=s.getElementRule(he.name);if(kt){for(let It=0,cn=kt.attributesOrder.length;It<cn;It++){const xn=kt.attributesOrder[It];if(xn in Et.map){const bn=Et.map[xn];Vt.map[xn]=bn,Vt.push({name:xn,value:bn})}}for(let It=0,cn=Et.length;It<cn;It++){const xn=Et[It].name;if(!(xn in Vt.map)){const bn=Et.map[xn];Vt.map[xn]=bn,Vt.push({name:xn,value:bn})}}Et=Vt}}if(l.start(qe,Et,ot),Ac(qe))M(he.value)&&l.text(he.value,!0),l.end(qe);else if(!ot){let Vt=he.firstChild;if(Vt){(qe==="pre"||qe==="textarea")&&Vt.type===3&&((_e=Vt.value)===null||_e===void 0?void 0:_e[0])===`
`&&l.text(`
`,!0);do J(Vt);while(Vt=Vt.next)}l.end(qe)}}};return O.type===1&&!n.inner?J(O):O.type===3?Z[3](O):Z[11](O),l.getContent()}}},Mo=new Set;re(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],s=>{Mo.add(s)});const N9=["font","text-decoration","text-emphasis"],k_=(n,s)=>Gt(n.parseStyle(n.getAttrib(s,"style"))),EW=n=>Mo.has(n),PT=(n,s)=>Xe(k_(n,s),l=>!EW(l)),B9=n=>se(n,s=>De(N9,l=>Sr(s,l))),_W=(n,s,l)=>{const m=k_(n,s),O=k_(n,l),P=Z=>{var J,he;const _e=(J=n.getStyle(s,Z))!==null&&J!==void 0?J:"",Ge=(he=n.getStyle(l,Z))!==null&&he!==void 0?he:"";return St(_e)&&St(Ge)&&_e!==Ge};return De(m,Z=>{const J=he=>De(he,_e=>_e===Z);if(!J(O)&&J(N9)){const he=B9(O);return De(he,P)}else return P(Z)})},Q9=(n,s,l)=>G.from(l.container()).filter(lr).exists(m=>{const O=n?0:-1;return s(m.data.charAt(l.offset()+O))}),A_=ee(Q9,!0,Y0),QA=ee(Q9,!1,Y0),RW=n=>{const s=n.container();return lr(s)&&(s.data.length===0||we(s.data)&&mv.isBookmarkNode(s.parentNode))},Mb=(n,s)=>l=>rb(n?0:-1,l).filter(s).isSome(),DW=n=>El(n)&&wi(Yt.fromDom(n),"display")==="block",F9=n=>Os(n)&&!bm(n),$W=Mb(!0,DW),LW=Mb(!1,DW),MT=Mb(!0,ei),Jx=Mb(!1,ei),V9=Mb(!0,ju),as=Mb(!1,ju),bv=Mb(!0,F9),Vm=Mb(!1,F9),z9=n=>n.slice(0,-1),Z9=(n,s,l)=>tc(s,n)?z9(hy(n,m=>l(m)||Gs(m,s))):[],P_=(n,s)=>Z9(n,s,ne),qg=(n,s)=>[n].concat(P_(n,s)),FA=(n,s,l)=>id(n,s,l,RW),IW=n=>s=>n.isBlock(Vs(s)),M_=(n,s,l)=>le(qg(Yt.fromDom(s.container()),n),IW(l)),H9=(n,s,l,m)=>FA(n,s.dom,l).forall(O=>M_(s,l,m).fold(()=>!Hd(O,l,s.dom),P=>!Hd(O,l,s.dom)&&tc(P,Yt.fromDom(O.container())))),U9=(n,s,l,m)=>M_(s,l,m).fold(()=>FA(n,s.dom,l).forall(O=>!Hd(O,l,s.dom)),O=>FA(n,O.dom,l).isNone()),E_=ee(U9,!1),W9=ee(U9,!0),NW=ee(H9,!1),BW=ee(H9,!0),QW=n=>Ax(n).exists(ed),VA=(n,s,l,m)=>{const O=se(qg(Yt.fromDom(l.container()),s),Z=>m.isBlock(Vs(Z))),P=yt(O).getOr(s);return Rl(n,P.dom,l).filter(QW)},ET=(n,s,l)=>Ax(s).exists(ed)||VA(!0,n,s,l).isSome(),_T=(n,s,l)=>NE(s).exists(ed)||VA(!1,n,s,l).isSome(),FW=ee(VA,!1),VW=ee(VA,!0),Y9=n=>Nn.isTextPosition(n)&&!n.isAtStart()&&!n.isAtEnd(),X9=(n,s,l)=>{const m=se(qg(Yt.fromDom(s.container()),n),O=>l.isBlock(Vs(O)));return yt(m).getOr(n)},G9=(n,s,l)=>Y9(s)?QA(s):QA(s)||uu(X9(n,s,l).dom,s).exists(QA),j9=(n,s,l)=>Y9(s)?A_(s):A_(s)||Rc(X9(n,s,l).dom,s).exists(A_),zW=n=>Ze(["pre","pre-wrap"],n),__=n=>Ax(n).bind(s=>wu(s,kl)).exists(s=>zW(wi(s,"white-space"))),q9=(n,s)=>uu(n.dom,s).isNone(),ZW=(n,s)=>Rc(n.dom,s).isNone(),HW=(n,s,l)=>q9(n,s)||ZW(n,s)||E_(n,s,l)||W9(n,s,l)||_T(n,s,l)||ET(n,s,l),Eb=n=>B(n)&&Os(n)&&Qg(n),K9=(n,s)=>l=>Eb(new ca(l,n)[s]()),J9=(n,s)=>{const l=Rc(n.dom,s).getOr(s),m=K9(n.dom,"next");return s.isAtEnd()&&(m(s.container())||m(l.container()))},UW=(n,s)=>{const l=uu(n.dom,s).getOr(s),m=K9(n.dom,"prev");return s.isAtStart()&&(m(s.container())||m(l.container()))},eL=(n,s,l)=>__(s)?!1:HW(n,s,l)||G9(n,s,l)||j9(n,s,l),e2=(n,s,l)=>__(s)?!1:E_(n,s,l)||NW(n,s,l)||_T(n,s,l)||G9(n,s,l)||UW(n,s),tL=n=>{const s=n.container(),l=n.offset();return lr(s)&&l<s.data.length?Nn(s,l+1):n},t2=(n,s,l)=>__(s)?!1:W9(n,s,l)||BW(n,s,l)||ET(n,s,l)||j9(n,s,l)||J9(n,s),zA=(n,s,l)=>e2(n,s,l)||t2(n,tL(s),l),mu=(n,s)=>Dx(n.charAt(s)),nL=(n,s)=>Y0(n.charAt(s)),WW=n=>{const s=n.container();return lr(s)&&sr(s.data,zs)},YW=n=>{const s=n.split("");return Ie(s,(l,m)=>Dx(l)&&m>0&&m<s.length-1&&Ug(s[m-1])&&Ug(s[m+1])?" ":l).join("")},rL=(n,s,l,m)=>{const O=s.data,P=Nn(s,0);return!l&&mu(O,0)&&!zA(n,P,m)?(s.data=" "+O.slice(1),!0):l&&nL(O,0)&&e2(n,P,m)?(s.data=zs+O.slice(1),!0):!1},XW=n=>{const s=n.data,l=YW(s);return l!==s?(n.data=l,!0):!1},a1=(n,s,l,m)=>{const O=s.data,P=Nn(s,O.length-1);return!l&&mu(O,O.length-1)&&!zA(n,P,m)?(s.data=O.slice(0,-1)+" ",!0):l&&nL(O,O.length-1)&&t2(n,P,m)?(s.data=O.slice(0,-1)+zs,!0):!1},GW=(n,s,l)=>{const m=s.container();if(!lr(m))return G.none();if(WW(s)){const O=rL(n,m,!1,l)||XW(m)||a1(n,m,!1,l);return Zo(O,s)}else if(zA(n,s,l)){const O=rL(n,m,!0,l)||a1(n,m,!0,l);return Zo(O,s)}else return G.none()},jW=n=>{const s=Yt.fromDom(n.getBody());n.selection.isCollapsed()&&GW(s,Nn.fromRangeStart(n.selection.getRng()),n.schema).each(l=>{n.selection.setRng(l.toRange())})},ri=(n,s,l,m)=>{if(l===0)return;const O=Yt.fromDom(n),P=ui(O,_e=>m.isBlock(Vs(_e))).getOr(O),Z=n.data.slice(s,s+l),J=s+l>=n.data.length&&t2(P,Nn(n,n.data.length),m),he=s===0&&e2(P,Nn(n,0),m);n.replaceData(s,l,Ki(Z,4,he,J))},_b=(n,s,l)=>{const m=n.data.slice(s),O=m.length-Fe(m).length;ri(n,s,O,l)},oL=(n,s,l)=>{const m=n.data.slice(0,s),O=m.length-Ee(m).length;ri(n,s-O,O,l)},Dl=(n,s,l,m,O=!0)=>{const P=Ee(n.data).length,Z=O?n:s,J=O?s:n;return O?Z.appendData(J.data):Z.insertData(0,J.data),Ks(Yt.fromDom(J)),m&&_b(Z,P,l),Z},qW=(n,s)=>{const l=n.container(),m=n.offset();return!Nn.isTextPosition(n)&&l===s.parentNode&&m>Nn.before(s).offset()},KW=(n,s)=>qW(s,n)?Nn(s.container(),s.offset()-1):s,Ov=n=>lr(n)?Nn(n,0):Nn.before(n),ia=n=>lr(n)?Nn(n,n.data.length):Nn.after(n),R_=n=>go(n.previousSibling)?G.some(ia(n.previousSibling)):n.previousSibling?ld(n.previousSibling):G.none(),D_=n=>go(n.nextSibling)?G.some(Ov(n.nextSibling)):n.nextSibling?Xc(n.nextSibling):G.none(),JW=(n,s)=>G.from(s.previousSibling?s.previousSibling:s.parentNode).bind(l=>uu(n,Nn.before(l))).orThunk(()=>Rc(n,Nn.after(s))),eY=(n,s)=>Rc(n,Nn.after(s)).orThunk(()=>uu(n,Nn.before(s))),tY=(n,s)=>R_(s).orThunk(()=>D_(s)).orThunk(()=>JW(n,s)),Bf=(n,s)=>D_(s).orThunk(()=>R_(s)).orThunk(()=>eY(n,s)),zm=(n,s,l)=>n?Bf(s,l):tY(s,l),nY=(n,s,l)=>zm(n,s,l).map(ee(KW,l)),ZA=(n,s,l)=>{l.fold(()=>{n.focus()},m=>{n.selection.setRng(m.toRange(),s)})},$_=n=>s=>s.dom===n,rY=(n,s)=>s&&it(n.schema.getBlockElements(),Vs(s)),oY=(n,s)=>{if(ta(n)){const l=Yt.fromHtml('<br data-mce-bogus="1">');return s?re(ol(n),m=>{pb(m)||Ks(m)}):bh(n),Ci(n,l),G.some(Nn.before(l.dom))}else return G.none()},RT=(n,s,l,m)=>{const O=Uu(n).filter(Zi),P=zp(n).filter(Zi);return Ks(n),yl(O,P,s,(Z,J,he)=>{const _e=Z.dom,Ge=J.dom,qe=_e.data.length;return Dl(_e,Ge,l,m),he.container()===Ge?Nn(_e,qe):he}).orThunk(()=>(m&&(O.each(Z=>oL(Z.dom,Z.dom.length,l)),P.each(Z=>_b(Z.dom,0,l))),s))},HA=(n,s)=>it(n.schema.getTextInlineElements(),Vs(s)),xv=(n,s,l,m=!0,O=!1)=>{const P=nY(s,n.getBody(),l.dom),Z=ui(l,ee(rY,n),$_(n.getBody())),J=RT(l,P,n.schema,HA(n,l));n.dom.isEmpty(n.getBody())?(n.setContent(""),n.selection.setCursorLocation()):Z.bind(he=>oY(he,O)).fold(()=>{m&&ZA(n,s,J)},he=>{m&&ZA(n,s,G.some(he))})},sY=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Zm=n=>sY.test(n),Rb=(n,s)=>Hu(Yt.fromDom(s),fE(n))&&!ks(n.schema,s)&&n.dom.isEditable(s),sL=n=>{var s;return Da.DOM.getStyle(n,"direction",!0)==="rtl"||Zm((s=n.textContent)!==null&&s!==void 0?s:"")},Gd=(n,s,l)=>se(Da.DOM.getParents(l.container(),"*",s),n),Ih=(n,s,l)=>{const m=Gd(n,s,l);return G.from(m[m.length-1])},Nh=(n,s,l)=>{const m=_m(s,n),O=_m(l,n);return B(m)&&m===O},aY=n=>gn(n)||An(n),Ds=(n,s)=>{const l=s.container(),m=s.offset();return n?vt(l)?lr(l.nextSibling)?Nn(l.nextSibling,0):Nn.after(l):gn(s)?Nn(l,m+1):s:vt(l)?lr(l.previousSibling)?Nn(l.previousSibling,l.previousSibling.data.length):Nn.before(l):An(s)?Nn(l,m-1):s},Db=ee(Ds,!0),DT=ee(Ds,!1),L_=(n,s)=>{const l=m=>m.stopImmediatePropagation();n.on("beforeinput input",l,!0),n.getDoc().execCommand(s),n.off("beforeinput input",l)},I_=n=>{n.execCommand("delete")},$T=n=>L_(n,"Delete"),iY=n=>L_(n,"ForwardDelete"),N_=n=>s=>Qa(ru(s),n,Gs),lY=n=>Mn(n)||td(n),LT=(n,s)=>tc(n,s)?wu(s,lY,N_(n)):G.none(),UA=(n,s=!0)=>{n.dom.isEmpty(n.getBody())&&n.setContent("",{no_selection:!s})},WA=(n,s,l)=>Fa(Xc(l),ld(l),(m,O)=>{const P=Ds(!0,m),Z=Ds(!1,O),J=Ds(!1,s);return n?Rc(l,J).exists(he=>he.isEqual(Z)&&s.isEqual(P)):uu(l,J).exists(he=>he.isEqual(P)&&s.isEqual(Z))}).getOr(!0),B_=n=>(QS(n)?Uu(n):xc(n)).bind(B_).orThunk(()=>G.some(n)),IT=(n,s,l,m=!0)=>{var O;s.deleteContents();const P=B_(l).getOr(l),Z=Yt.fromDom((O=n.dom.getParent(P.dom,n.dom.isBlock))!==null&&O!==void 0?O:l.dom);if(Z.dom===n.getBody()?UA(n,m):ta(Z)&&(D(Z),m&&n.selection.setCursorLocation(Z.dom,0)),!Gs(l,Z)){const J=Qa(ru(Z),l)?[]:DO(Z);re(J.concat(ol(l)),he=>{!Gs(he,Z)&&!tc(he,Z)&&ta(he)&&Ks(he)})}},cY=(n,s,l)=>ui(n,s,l).isSome(),uY=(n,s)=>py(n,s).isSome(),aL=(n,s)=>Vl(n,s).isSome(),fY=n=>s=>Gs(n,s),Q_=n=>sl(n,"td,th"),F_=(n,s)=>$m(Yt.fromDom(n),s),dY=n=>Fa(n.startTable,n.endTable,(s,l)=>{const m=aL(s,P=>Gs(P,l)),O=aL(l,P=>Gs(P,s));return!m&&!O?n:{...n,startTable:m?G.none():n.startTable,endTable:O?G.none():n.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(n),hY=n=>dY(n),iL=(n,s)=>{const l=F_(n.startContainer,s),m=F_(n.endContainer,s),O=l.isSome(),P=m.isSome(),Z=Fa(l,m,Gs).getOr(!1);return hY({startTable:l,endTable:m,isStartInTable:O,isEndInTable:P,isSameTable:Z,isMultiTable:!Z&&O&&P})},YA=(n,s)=>({start:n,end:s}),mY=(n,s,l)=>({rng:n,table:s,cells:l}),NT=Zd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),BT=(n,s)=>Mf(Yt.fromDom(n),"td,th",s),lL=n=>!Gs(n.start,n.end),V_=(n,s)=>$m(n.start,s).bind(l=>$m(n.end,s).bind(m=>Zo(Gs(l,m),l))),dd=(n,s)=>!lL(n)&&V_(n,s).exists(l=>{const m=l.dom.rows;return m.length===1&&m[0].cells.length===1}),gY=(n,s)=>{const l=BT(n.startContainer,s),m=BT(n.endContainer,s);return Fa(l,m,YA)},cL=n=>s=>$m(s,n).bind(l=>ft(Q_(l)).map(m=>YA(s,m))),z_=n=>s=>$m(s,n).bind(l=>yt(Q_(l)).map(m=>YA(m,s))),QT=n=>s=>V_(s,n).map(l=>mY(s,l,Q_(l))),Z_=(n,s,l,m)=>{if(l.collapsed||!n.forall(lL))return G.none();if(s.isSameTable){const O=n.bind(QT(m));return G.some({start:O,end:O})}else{const O=BT(l.startContainer,m),P=BT(l.endContainer,m),Z=O.bind(cL(m)).bind(QT(m)),J=P.bind(z_(m)).bind(QT(m));return G.some({start:Z,end:J})}},H_=(n,s)=>Ce(n,l=>Gs(l,s)),U_=n=>Fa(H_(n.cells,n.rng.start),H_(n.cells,n.rng.end),(s,l)=>n.cells.slice(s,l+1)),pY=(n,s,l)=>n.exists(m=>dd(m,l)&&aT(m.start,s)),XA=(n,s)=>{const{startTable:l,endTable:m}=s,O=n.cloneRange();return l.each(P=>O.setStartAfter(P.dom)),m.each(P=>O.setEndBefore(P.dom)),O},uL=(n,s,l,m)=>Z_(n,s,l,m).bind(({start:O,end:P})=>O.or(P)).bind(O=>{const{isSameTable:P}=s,Z=U_(O).getOr([]);if(P&&O.cells.length===Z.length)return G.some(NT.fullTable(O.table));if(Z.length>0){if(P)return G.some(NT.partialTable(Z,G.none()));{const J=XA(l,s);return G.some(NT.partialTable(Z,G.some({...s,rng:J})))}}else return G.none()}),Bh=(n,s,l,m)=>Z_(n,s,l,m).bind(({start:O,end:P})=>{const Z=O.bind(U_).getOr([]),J=P.bind(U_).getOr([]);if(Z.length>0&&J.length>0){const he=XA(l,s);return G.some(NT.multiTable(Z,J,he))}else return G.none()}),vY=(n,s)=>{const l=fY(n),m=gY(s,l),O=iL(s,l);return pY(m,s,l)?m.map(P=>NT.singleCellTable(s,P.start)):O.isMultiTable?Bh(m,O,s,l):uL(m,O,s,l)},fL=n=>re(n,s=>{ci(s,"contenteditable"),D(s)}),Ple=(n,s)=>G.from(n.dom.getParent(s,n.dom.isBlock)).map(Yt.fromDom),W_=(n,s,l)=>{l.each(m=>{s?Ks(m):(D(m),n.selection.setCursorLocation(m.dom,0))})},Y_=(n,s,l,m)=>{const O=l.cloneRange();m?(O.setStart(l.startContainer,l.startOffset),O.setEndAfter(s.dom.lastChild)):(O.setStartBefore(s.dom.firstChild),O.setEnd(l.endContainer,l.endOffset)),Qf(n,O,s,!1).each(P=>P())},$b=n=>{const s=X0(n),l=Yt.fromDom(n.selection.getNode());jp(l.dom)&&ta(l)?n.selection.setCursorLocation(l.dom,0):n.selection.collapse(!0),s.length>1&&De(s,m=>Gs(m,l))&&Ra(l,"data-mce-selected","1")},dL=(n,s,l)=>G.some(()=>{const m=n.selection.getRng(),O=l.bind(({rng:P,isStartInTable:Z})=>{const J=Ple(n,Z?P.endContainer:P.startContainer);P.deleteContents(),W_(n,Z,J.filter(ta));const he=Z?s[0]:s[s.length-1];return Y_(n,he,m,Z),ta(he)?G.none():G.some(Z?s.slice(1):s.slice(0,-1))}).getOr(s);fL(O),$b(n)}),n2=(n,s,l,m)=>G.some(()=>{const O=n.selection.getRng(),P=s[0],Z=l[l.length-1];Y_(n,P,O,!0),Y_(n,Z,O,!1);const J=ta(P)?s:s.slice(1),he=ta(Z)?l:l.slice(0,-1);fL(J.concat(he)),m.deleteContents(),$b(n)}),Qf=(n,s,l,m=!0)=>G.some(()=>{IT(n,s,l,m)}),FT=(n,s)=>G.some(()=>xv(n,!1,s)),_a=(n,s,l)=>vY(s,l).bind(m=>m.fold(ee(Qf,n),ee(FT,n),ee(dL,n),ee(n2,n))),VT=(n,s)=>r2(n,s),hL=(n,s,l,m)=>zT(s,m).fold(()=>_a(n,s,l),O=>VT(n,O)),mL=(n,s,l)=>{const m=Yt.fromDom(n.getBody()),O=n.selection.getRng();return l.length!==0?dL(n,l,G.none()):hL(n,m,O,s)},GA=(n,s)=>le(qg(s,n),Hc),zT=(n,s)=>le(qg(s,n),xu("caption")),X_=(n,s,l,m,O)=>Dm(l,n.getBody(),O).bind(P=>GA(s,Yt.fromDom(P.getNode())).bind(Z=>Gs(Z,m)?G.none():G.some(ie))),r2=(n,s)=>G.some(()=>{D(s),n.selection.setCursorLocation(s.dom,0)}),jA=(n,s,l,m)=>Xc(n.dom).bind(O=>ld(n.dom).map(P=>s?l.isEqual(O)&&m.isEqual(P):l.isEqual(P)&&m.isEqual(O))).getOr(!0),G_=(n,s)=>r2(n,s),gL=(n,s,l)=>zT(n,Yt.fromDom(l.getNode())).fold(()=>G.some(ie),m=>Zo(!Gs(m,s),ie)),pL=(n,s,l,m,O)=>Dm(l,n.getBody(),O).fold(()=>G.some(ie),P=>jA(m,l,O,P)?G_(n,m):gL(s,m,P)),vL=(n,s,l,m)=>{const O=Nn.fromRangeStart(n.selection.getRng());return GA(l,m).bind(P=>ta(P)?r2(n,P):X_(n,l,s,P,O))},yL=(n,s,l,m)=>{const O=Nn.fromRangeStart(n.selection.getRng());return ta(m)?r2(n,m):pL(n,l,s,m,O)},j_=(n,s)=>n?V9(s):as(s),o2=(n,s)=>{const l=Nn.fromRangeStart(n.selection.getRng());return j_(s,l)||Rl(s,n.getBody(),l).exists(m=>j_(s,m))},bL=(n,s,l)=>{const m=Yt.fromDom(n.getBody());return zT(m,l).fold(()=>vL(n,s,m,l).orThunk(()=>Zo(o2(n,s),ie)),O=>yL(n,s,m,O))},ZT=(n,s)=>{const l=Yt.fromDom(n.selection.getStart(!0)),m=X0(n);return n.selection.isCollapsed()&&m.length===0?bL(n,s,l):mL(n,l,m)},Lb=(n,s)=>{let l=s;for(;l&&l!==n;){if(Zl(l)||Os(l))return l;l=l.parentNode}return null},yY=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],OL=fr.each,qA=n=>{const s=n.dom,l=new Set(n.serializer.getTempAttrs()),m=(P,Z)=>{if(P.nodeName!==Z.nodeName||P.nodeType!==Z.nodeType)return!1;const J=_e=>{const Ge={};return OL(s.getAttribs(_e),qe=>{const ot=qe.nodeName.toLowerCase();ot!=="style"&&!O(ot)&&(Ge[ot]=s.getAttrib(_e,ot))}),Ge},he=(_e,Ge)=>{for(const qe in _e)if(it(_e,qe)){const ot=Ge[qe];if(U(ot)||_e[qe]!==ot)return!1;delete Ge[qe]}for(const qe in Ge)if(it(Ge,qe))return!1;return!0};return Xr(P)&&Xr(Z)&&(!he(J(P),J(Z))||!he(s.parseStyle(s.getAttrib(P,"style")),s.parseStyle(s.getAttrib(Z,"style"))))?!1:!af(P)&&!af(Z)},O=P=>De(yY,Z=>Sr(P,Z))||l.has(P);return{compare:m,isAttributeInternal:O}},q_=n=>["h1","h2","h3","h4","h5","h6"].includes(n.name),KA=n=>n.name==="summary",xL=(n,s)=>{let l=n;for(;l=l.walk();)s(l)},K_=(n,s,l,m)=>{const O=l.name;for(let P=0,Z=n.length;P<Z;P++){const J=n[P];if(J.name===O){const he=m.nodes[O];he?he.nodes.push(l):m.nodes[O]={filter:J,nodes:[l]}}}if(l.attributes)for(let P=0,Z=s.length;P<Z;P++){const J=s[P],he=J.name;if(he in l.attributes.map){const _e=m.attributes[he];_e?_e.nodes.push(l):m.attributes[he]={filter:J,nodes:[l]}}}},SL=(n,s,l)=>{const m={nodes:{},attributes:{}};return l.firstChild&&xL(l,O=>{K_(n,s,O,m)}),m},J_=(n,s)=>{const l=(m,O)=>{Bt(m,P=>{const Z=tt(P.nodes);re(P.filter.callbacks,J=>{for(let he=Z.length-1;he>=0;he--){const _e=Z[he];(!(O?_e.attr(P.filter.name)!==void 0:_e.name===P.filter.name)||Q(_e.parent))&&Z.splice(he,1)}Z.length>0&&J(Z,P.filter.name,s)})})};l(n.nodes,!1),l(n.attributes,!0)},e8=(n,s,l,m={})=>{const O=SL(n,s,l);J_(O,m)},JA=(n,s,l,m)=>{if((n.pad_empty_with_br||s.insert)&&l(m)){const P=new hu("br",1);s.insert&&P.attr("data-mce-bogus","1"),m.empty().append(P)}else m.empty().append(new hu("#text",3)).value=zs},wL=n=>{var s;return t8(n,"#text")&&((s=n==null?void 0:n.firstChild)===null||s===void 0?void 0:s.value)===zs},t8=(n,s)=>{const l=n==null?void 0:n.firstChild;return B(l)&&l===n.lastChild&&l.name===s},TL=(n,s)=>{const l=n.getElementRule(s.name);return(l==null?void 0:l.paddEmpty)===!0},s2=(n,s,l,m)=>m.isEmpty(s,l,O=>TL(n,O)),n8=(n,s)=>B(n)&&(s(n)||n.name==="br"),CL=n=>{let s;for(let l=n;l;l=l.parent){const m=l.attr("contenteditable");if(m==="false")break;m==="true"&&(s=l)}return G.from(s)},e5=(n,s,l=n.parent)=>{if(s.getSpecialElements()[n.name])n.empty().remove();else{const m=n.children();for(const O of m)l&&!s.isValidChild(l.name,O.name)&&e5(O,s,l);n.unwrap()}},t5=(n,s,l,m=ie)=>{const O=s.getTextBlockElements(),P=s.getNonEmptyElements(),Z=s.getWhitespaceElements(),J=fr.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),he=new Set,_e=Ge=>Ge!==l&&!J[Ge.name];for(let Ge=0;Ge<n.length;Ge++){const qe=n[Ge];let ot,Et,Vt;if(!qe.parent||he.has(qe))continue;if(O[qe.name]&&qe.parent.name==="li"){let It=qe.next;for(;It&&O[It.name];){It.name="li",he.add(It),qe.parent.insert(It,qe.parent);It=It.next}qe.unwrap();continue}const kt=[qe];for(ot=qe.parent;ot&&!s.isValidChild(ot.name,qe.name)&&_e(ot);ot=ot.parent)kt.push(ot);if(ot&&kt.length>1)if(n5(s,qe,ot))e5(qe,s);else{kt.reverse(),Et=kt[0].clone(),m(Et);let It=Et;for(let cn=0;cn<kt.length-1;cn++){s.isValidChild(It.name,kt[cn].name)&&cn>0?(Vt=kt[cn].clone(),m(Vt),It.append(Vt)):Vt=It;for(let xn=kt[cn].firstChild;xn&&xn!==kt[cn+1];){const bn=xn.next;Vt.append(xn),xn=bn}It=Vt}s2(s,P,Z,Et)?ot.insert(qe,kt[0],!0):(ot.insert(Et,kt[0],!0),ot.insert(qe,Et)),ot=kt[0],(s2(s,P,Z,ot)||t8(ot,"br"))&&ot.empty().remove()}else if(qe.parent){if(qe.name==="li"){let It=qe.prev;if(It&&(It.name==="ul"||It.name==="ol")){It.append(qe);continue}if(It=qe.next,It&&(It.name==="ul"||It.name==="ol")&&It.firstChild){It.insert(qe,It.firstChild,!0);continue}const cn=new hu("ul",1);m(cn),qe.wrap(cn);continue}if(s.isValidChild(qe.parent.name,"div")&&s.isValidChild("div",qe.name)){const It=new hu("div",1);m(It),qe.wrap(It)}else e5(qe,s)}}},kL=(n,s)=>{let l=n;for(;l;){if(l.name===s)return!0;l=l.parent}return!1},n5=(n,s,l=s.parent)=>l?n.children[s.name]&&!n.isValidChild(l.name,s.name)||s.name==="a"&&kL(l,"a")?!0:KA(l)&&q_(s)?!((l==null?void 0:l.firstChild)===s&&(l==null?void 0:l.lastChild)===s):!1:!1,AL=(n,s,l,m)=>{const O=document.createRange();return O.setStart(n,s),O.setEnd(l,m),O},r8=n=>{const s=Nn.fromRangeStart(n),l=Nn.fromRangeEnd(n),m=n.commonAncestorContainer;return Rl(!1,m,l).map(O=>!Hd(s,l,m)&&Hd(s,O,m)?AL(s.container(),s.offset(),O.container(),O.offset()):n).getOr(n)},a2=n=>n.collapsed?n:r8(n),r5=n=>B(n.firstChild)&&n.firstChild===n.lastChild,o8=n=>n.name==="br"||n.value===zs,PL=(n,s)=>n.getBlockElements()[s.name]&&r5(s)&&o8(s.firstChild),o5=(n,s)=>{const l=n.getNonEmptyElements();return B(s)&&(s.isEmpty(l)||PL(n,s))},s8=(n,s)=>{let l=s.firstChild,m=s.lastChild;return l&&l.name==="meta"&&(l=l.next),m&&m.attr("id")==="mce_marker"&&(m=m.prev),o5(n,m)&&(m=m==null?void 0:m.prev),!l||l!==m?!1:l.name==="ul"||l.name==="ol"},HT=n=>{var s,l;const m=n.firstChild,O=n.lastChild;return m&&m.nodeName==="META"&&((s=m.parentNode)===null||s===void 0||s.removeChild(m)),O&&O.id==="mce_marker"&&((l=O.parentNode)===null||l===void 0||l.removeChild(O)),n},a8=(n,s,l)=>{const m=s.serialize(l),O=n.createFragment(m);return HT(O)},ML=n=>{var s;return se((s=n==null?void 0:n.childNodes)!==null&&s!==void 0?s:[],l=>l.nodeName==="LI")},i2=n=>n.data===zs||aa(n),i8=n=>B(n==null?void 0:n.firstChild)&&n.firstChild===n.lastChild&&i2(n.firstChild),l8=n=>!n.firstChild||i8(n),UT=n=>n.length>0&&l8(n[n.length-1])?n.slice(0,-1):n,Kg=(n,s)=>{const l=n.getParent(s,n.isBlock);return l&&l.nodeName==="LI"?l:null},EL=(n,s)=>!!Kg(n,s),bY=(n,s)=>{const l=s.cloneRange(),m=s.cloneRange();return l.setStartBefore(n),m.setEndAfter(n),[l.cloneContents(),m.cloneContents()]},_L=(n,s)=>{const l=Nn.before(n),O=Ud(s).next(l);return O?O.toRange():null},c8=(n,s)=>{const l=Nn.after(n),O=Ud(s).prev(l);return O?O.toRange():null},OY=(n,s,l,m)=>{const O=bY(n,m),P=n.parentNode;return P&&(P.insertBefore(O[0],n),fr.each(s,Z=>{P.insertBefore(Z,n)}),P.insertBefore(O[1],n),P.removeChild(n)),c8(s[s.length-1],l)},Mle=(n,s,l)=>{const m=n.parentNode;return m&&fr.each(s,O=>{m.insertBefore(O,n)}),_L(n,l)},xY=(n,s,l,m)=>(m.insertAfter(s.reverse(),n),c8(s[0],l)),u8=(n,s,l,m)=>{const O=a8(s,n,m),P=Kg(s,l.startContainer),Z=UT(ML(O.firstChild)),J=1,he=2,_e=s.getRoot(),Ge=qe=>{const ot=Nn.fromRangeStart(l),Et=Ud(s.getRoot()),Vt=qe===J?Et.prev(ot):Et.next(ot),kt=Vt==null?void 0:Vt.getNode();return kt?Kg(s,kt)!==P:!0};return P?Ge(J)?Mle(P,Z,_e):Ge(he)?xY(P,Z,_e,s):OY(P,Z,_e,l):null},Hm=["pre"],f8=(n,s,l,m)=>{var O;const P=s.firstChild,Z=s.lastChild,J=Z.attr("data-mce-type")==="bookmark"?Z.prev:Z,he=P===J,_e=Ze(Hm,P.name);if(he&&_e){const Ge=P.attr("contenteditable")!=="false",qe=((O=n.getParent(l,n.isBlock))===null||O===void 0?void 0:O.nodeName.toLowerCase())===P.name,ot=G.from(Lb(m,l)).forall(Zl);return Ge&&qe&&ot}else return!1},l2=jp,d8=(n,s,l)=>{if(B(l)){const m=n.getParent(s.endContainer,l2);return l===m&&aT(Yt.fromDom(l),s)}else return!1},SY=(n,s,l)=>{var m;if(l.getAttribute("data-mce-bogus")==="all")(m=l.parentNode)===null||m===void 0||m.insertBefore(n.dom.createFragment(s),l);else{const O=l.firstChild,P=l.lastChild;!O||O===P&&O.nodeName==="BR"?n.dom.setHTML(l,s):n.selection.setContent(s,{no_events:!0})}},RL=(n,s,l)=>{G.from(n.getParent(s,"td,th")).map(Yt.fromDom).each(m=>X(m,l))},wY=(n,s)=>{const l=n.schema.getTextInlineElements(),m=n.dom;if(s){const O=n.getBody(),P=qA(n);fr.each(m.select("*[data-mce-fragment]"),Z=>{if(B(l[Z.nodeName.toLowerCase()])&&PT(m,Z)){for(let he=Z.parentElement;B(he)&&he!==O&&!_W(m,Z,he);he=he.parentElement)if(P.compare(he,Z)){m.remove(Z,!0);break}}})}},DL=n=>{let s=n;for(;s=s.walk();)s.type===1&&s.attr("data-mce-fragment","1")},h8=n=>{fr.each(n.getElementsByTagName("*"),s=>{s.removeAttribute("data-mce-fragment")})},TY=n=>!!n.getAttribute("data-mce-fragment"),$L=(n,s)=>B(s)&&!n.schema.getVoidElements()[s.nodeName],CY=(n,s)=>{var l,m,O;let P;const Z=n.dom,J=n.selection;if(!s)return;J.scrollIntoView(s);const he=Lb(n.getBody(),s);if(he&&Z.getContentEditable(he)==="false"){Z.remove(s),J.select(he);return}let _e=Z.createRng();const Ge=s.previousSibling;if(lr(Ge)){_e.setStart(Ge,(m=(l=Ge.nodeValue)===null||l===void 0?void 0:l.length)!==null&&m!==void 0?m:0);const Et=s.nextSibling;lr(Et)&&(Ge.appendData(Et.data),(O=Et.parentNode)===null||O===void 0||O.removeChild(Et))}else _e.setStartBefore(s),_e.setEndBefore(s);const qe=Et=>{let Vt=Nn.fromRangeStart(Et);return Vt=Ud(n.getBody()).next(Vt),Vt==null?void 0:Vt.toRange()},ot=Z.getParent(s,Z.isBlock);if(Z.remove(s),ot&&Z.isEmpty(ot)){const Et=l2(ot);bh(Yt.fromDom(ot)),_e.setStart(ot,0),_e.setEnd(ot,0),!Et&&!TY(ot)&&(P=qe(_e))?(_e=P,Z.remove(ot)):Z.add(ot,Z.create("br",Et?{}:{"data-mce-bogus":"1"}))}J.setRng(_e)},WT=n=>{const s=n.dom,l=a2(n.selection.getRng());n.selection.setRng(l);const m=s.getParent(l.startContainer,l2);d8(s,l,m)?Qf(n,l,Yt.fromDom(m)):l.startContainer===l.endContainer&&l.endOffset-l.startOffset===1&&lr(l.startContainer.childNodes[l.startOffset])?l.deleteContents():n.getDoc().execCommand("Delete",!1)},LL=n=>{for(let s=n;s;s=s.walk())if(s.attr("id")==="mce_marker")return G.some(s);return G.none()},kY=(n,s,l)=>{var m;return De(l.children(),q_)&&((m=n.getParent(s,n.isBlock))===null||m===void 0?void 0:m.nodeName)==="SUMMARY"},IL=(n,s,l)=>{var m,O;const P=n.selection,Z=n.dom,J=n.parser,he=l.merge,_e=s1({validate:!0},n.schema),Ge='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';l.preserve_zwsp||(s=Pe(s)),s.indexOf("{$caret}")===-1&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,Ge);let qe=P.getRng();const ot=qe.startContainer,Et=n.getBody();ot===Et&&P.isCollapsed()&&Z.isBlock(Et.firstChild)&&$L(n,Et.firstChild)&&Z.isEmpty(Et.firstChild)&&(qe=Z.createRng(),qe.setStart(Et.firstChild,0),qe.setEnd(Et.firstChild,0),P.setRng(qe)),P.isCollapsed()||WT(n);const Vt=P.getNode(),kt={context:Vt.nodeName.toLowerCase(),data:l.data,insert:!0},It=J.parse(s,kt);if(l.paste===!0&&s8(n.schema,It)&&EL(Z,Vt))return qe=u8(_e,Z,P.getRng(),It),qe&&P.setRng(qe),s;l.paste===!0&&f8(Z,It,Vt,n.getBody())&&((m=It.firstChild)===null||m===void 0||m.unwrap()),DL(It);let cn=It.lastChild;if(cn&&cn.attr("id")==="mce_marker"){const xn=cn;for(cn=cn.prev;cn;cn=cn.walk(!0))if(cn.type===3||!Z.isBlock(cn.name)){cn.parent&&n.schema.isValidChild(cn.parent.name,"span")&&cn.parent.insert(xn,cn,cn.name==="br");break}}if(n._selectionOverrides.showBlockCaretContainer(Vt),!kt.invalid&&!kY(Z,Vt,It))s=_e.serialize(It),SY(n,s,Vt);else{n.selection.setContent(Ge);let xn=P.getNode(),bn;const $n=n.getBody();for(Tg(xn)?xn=bn=$n:bn=xn;bn&&bn!==$n;)xn=bn,bn=bn.parentNode;s=xn===$n?$n.innerHTML:Z.getOuterHTML(xn);const rr=J.parse(s),gr=LL(rr),Qr=gr.bind(CL).getOr(rr);gr.each(eo=>eo.replace(It));const zn=It.children(),Bn=(O=It.parent)!==null&&O!==void 0?O:rr;It.unwrap();const tr=se(zn,eo=>n5(n.schema,eo,Bn));t5(tr,n.schema,Qr),e8(J.getNodeFilters(),J.getAttributeFilters(),rr),s=_e.serialize(rr),xn===$n?Z.setHTML($n,s):Z.setOuterHTML(xn,s)}return wY(n,he),CY(n,Z.get("mce_marker")),h8(n.getBody()),RL(Z,P.getStart(),n.schema),JC(n.schema,n.getBody(),P.getStart()),s},s5=n=>n instanceof hu,AY=n=>{o1(n)&&Xc(n.getBody()).each(s=>{const l=s.getNode(),m=ju(l)?Xc(l).getOr(s):s;n.selection.setRng(m.toRange())})},m8=(n,s,l)=>{n.dom.setHTML(n.getBody(),s),l!==!0&&AY(n)},PY=(n,s,l,m)=>{if(l=Pe(l),l.length===0||/^\s+$/.test(l)){const O='<br data-mce-bogus="1">';s.nodeName==="TABLE"?l="<tr><td>"+O+"</td></tr>":/^(UL|OL)$/.test(s.nodeName)&&(l="<li>"+O+"</li>");const P=Ec(n);return n.schema.isValidChild(s.nodeName.toLowerCase(),P.toLowerCase())?(l=O,l=n.dom.createHTML(P,Yy(n),l)):l||(l=O),m8(n,l,m.no_selection),{content:l,html:l}}else{m.format!=="raw"&&(l=s1({validate:!1},n.schema).serialize(n.parser.parse(l,{isRootContent:!0,insert:!0})));const O=Wi(Yt.fromDom(s))?l:fr.trim(l);return m8(n,O,m.no_selection),{content:O,html:O}}},MY=(n,s,l,m)=>{e8(n.parser.getNodeFilters(),n.parser.getAttributeFilters(),l);const O=s1({validate:!1},n.schema).serialize(l),P=Pe(Wi(Yt.fromDom(s))?O:fr.trim(O));return m8(n,P,m.no_selection),{content:l,html:P}},NL=(n,s,l)=>G.from(n.getBody()).map(m=>s5(s)?MY(n,m,s,l):PY(n,m,s,l)).getOr({content:s,html:s5(l.content)?"":l.content}),BL=n=>E(n)?n:ne,g8=(n,s,l)=>{let m=n.dom;const O=BL(l);for(;m.parentNode;){m=m.parentNode;const P=Yt.fromDom(m),Z=s(P);if(Z.isSome())return Z;if(O(P))break}return G.none()},Sv=(n,s,l)=>{const m=s(n),O=BL(l);return m.orThunk(()=>O(n)?G.none():g8(n,s,O))},p8=Bx,QL=(n,s,l)=>{const m=n.formatter.get(l);if(m)for(let O=0;O<m.length;O++){const P=m[O];if(jl(P)&&P.inherit===!1&&n.dom.is(s,P.selector))return!0}return!1},c2=(n,s,l,m,O)=>{const P=n.dom.getRoot();if(s===P)return!1;const Z=n.dom.getParent(s,J=>QL(n,J,l)?!0:J.parentNode===P||!!Jg(n,J,l,m,!0));return!!Jg(n,Z,l,m,O)},YT=(n,s,l)=>Xi(l)&&p8(s,l.inline)||Xd(l)&&p8(s,l.block)?!0:jl(l)?Xr(s)&&n.is(s,l.selector):!1,v8=(n,s,l,m,O,P)=>{const Z=l[m],J=m==="attributes";if(E(l.onmatch))return l.onmatch(s,l,m);if(Z){if(Dt(Z)){for(let he=0;he<Z.length;he++)if(J?n.getAttrib(s,Z[he]):G0(n,s,Z[he]))return!0}else for(const he in Z)if(it(Z,he)){const _e=J?n.getAttrib(s,he):G0(n,s,he),Ge=Yd(Z[he],P),qe=Q(_e)||Ct(_e);if(qe&&Q(Ge))continue;if(O&&qe&&!l.exact||(!O||l.exact)&&!p8(_e,Qx(Ge,he)))return!1}}return!0},Jg=(n,s,l,m,O)=>{const P=n.formatter.get(l),Z=n.dom;if(P&&Xr(s))for(let J=0;J<P.length;J++){const he=P[J];if(YT(n.dom,s,he)&&v8(Z,s,he,"attributes",O,m)&&v8(Z,s,he,"styles",O,m)){const _e=he.classes;if(_e){for(let Ge=0;Ge<_e.length;Ge++)if(!n.dom.hasClass(s,Yd(_e[Ge],m)))return}return he}}},a5=(n,s,l,m,O)=>{if(m)return c2(n,m,s,l,O);if(m=n.selection.getNode(),c2(n,m,s,l,O))return!0;const P=n.selection.getStart();return!!(P!==m&&c2(n,P,s,l,O))},EY=(n,s,l)=>{const m=[],O={},P=n.selection.getStart();return n.dom.getParent(P,Z=>{for(let J=0;J<s.length;J++){const he=s[J];!O[he]&&Jg(n,Z,he,l)&&(O[he]=!0,m.push(he))}},n.dom.getRoot()),m},Ib=(n,s)=>{const l=O=>Gs(O,Yt.fromDom(n.getBody())),m=(O,P)=>Jg(n,O.dom,P)?G.some(P):G.none();return G.from(n.selection.getStart(!0)).bind(O=>Sv(Yt.fromDom(O),P=>wt(s,Z=>m(P,Z)),l)).getOrNull()},FL=(n,s)=>{const l=n.formatter.get(s),m=n.dom;if(l&&n.selection.isEditable()){const O=n.selection.getStart(),P=hb(m,O);for(let Z=l.length-1;Z>=0;Z--){const J=l[Z];if(!jl(J))return!0;for(let he=P.length-1;he>=0;he--)if(m.is(P[he],J.selector))return!0}}return!1},VL=(n,s,l)=>oe(l,(m,O)=>{const P=uT(n,O);return n.formatter.matchNode(s,O,{},P)?m.concat([O]):m},[]),u2=de,i5=(n,s)=>n.importNode(s,!0),y8=n=>{if(n){const s=new ca(n,n);for(let l=s.current();l;l=s.next())if(lr(l))return l}return null},b8=n=>{const s=Yt.fromTag("span");return Su(s,{id:Ex,"data-mce-bogus":"1","data-mce-type":"format-caret"}),n&&Ci(s,Yt.fromText(u2)),s},zL=n=>{const s=y8(n);return s&&s.data.charAt(0)===u2&&s.deleteData(0,1),s},O8=(n,s,l)=>{const m=n.dom,O=n.selection;if(gb(s))xv(n,!1,Yt.fromDom(s),l,!0);else{const P=O.getRng(),Z=m.getParent(s,m.isBlock),J=P.startContainer,he=P.startOffset,_e=P.endContainer,Ge=P.endOffset,qe=zL(s);m.remove(s,!0),J===qe&&he>0&&P.setStart(qe,he-1),_e===qe&&Ge>0&&P.setEnd(qe,Ge-1),Z&&m.isEmpty(Z)&&D(Yt.fromDom(Z)),O.setRng(P)}},x8=(n,s,l)=>{const m=n.dom,O=n.selection;if(s)O8(n,s,l);else if(s=fv(n.getBody(),O.getStart()),!s)for(;s=m.get(Ex);)O8(n,s,l)},l5=(n,s,l)=>{var m,O;const P=n.dom,Z=P.getParent(l,ee(el,n.schema));Z&&P.isEmpty(Z)?(m=l.parentNode)===null||m===void 0||m.replaceChild(s,l):(qC(Yt.fromDom(l)),P.isEmpty(l)?(O=l.parentNode)===null||O===void 0||O.replaceChild(s,l):P.insertAfter(s,l))},S8=(n,s)=>(n.appendChild(s),s),c5=(n,s)=>{var l;const m=ue(n,(P,Z)=>S8(P,Z.cloneNode(!1)),s),O=(l=m.ownerDocument)!==null&&l!==void 0?l:document;return S8(m,O.createTextNode(u2))},_Y=(n,s,l,m,O,P)=>{const Z=n.formatter,J=n.dom,he=se(Gt(Z.get()),qe=>qe!==m&&!sr(qe,"removeformat")),_e=VL(n,l,he);if(se(_e,qe=>!jE(n,qe,m)).length>0){const qe=l.cloneNode(!1);return J.add(s,qe),Z.remove(m,O,qe,P),J.remove(qe),G.some(qe)}else return G.none()},RY=(n,s,l)=>{let m;const O=n.selection,P=n.formatter.get(s);if(!P)return;const Z=O.getRng();let J=Z.startOffset;const _e=Z.startContainer.nodeValue;m=fv(n.getBody(),O.getStart());const Ge=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(_e&&J>0&&J<_e.length&&Ge.test(_e.charAt(J))&&Ge.test(_e.charAt(J-1))){const qe=O.getBookmark();Z.collapse(!0);let ot=Im(n.dom,Z,P);ot=nt(ot),n.formatter.apply(s,l,ot),O.moveToBookmark(qe)}else{let qe=m?y8(m):null;(!m||(qe==null?void 0:qe.data)!==u2)&&(m=i5(n.getDoc(),b8(!0).dom),qe=m.firstChild,Z.insertNode(m),J=1),n.formatter.apply(s,l,m),O.setCursorLocation(qe,J)}},ZL=(n,s,l,m)=>{const O=n.dom,P=n.selection;let Z=!1;const J=n.formatter.get(s);if(!J)return;const he=P.getRng(),_e=he.startContainer,Ge=he.startOffset;let qe=_e;lr(_e)&&(Ge!==_e.data.length&&(Z=!0),qe=qe.parentNode);const ot=[];let Et;for(;qe;){if(Jg(n,qe,s,l,m)){Et=qe;break}qe.nextSibling&&(Z=!0),ot.push(qe),qe=qe.parentNode}if(Et)if(Z){const Vt=P.getBookmark();he.collapse(!0);let kt=Im(O,he,J,!0);kt=nt(kt),n.formatter.remove(s,l,kt,m),P.moveToBookmark(Vt)}else{const Vt=fv(n.getBody(),Et),kt=B(Vt)?O.getParents(Et.parentNode,pe,Vt):[],It=b8(!1).dom;l5(n,It,Vt??Et);const cn=_Y(n,It,Et,s,l,m),xn=c5([...ot,...cn.toArray(),...kt],It);Vt&&O8(n,Vt,B(Vt)),P.setCursorLocation(xn,1),O.isEmpty(Et)&&O.remove(Et)}},w8=(n,s,l)=>{const m=n.selection,O=n.getBody();x8(n,null,l),(s===8||s===46)&&m.isCollapsed()&&m.getStart().innerHTML===u2&&x8(n,fv(O,m.getStart()),!0),(s===37||s===39)&&x8(n,fv(O,m.getStart()),!0)},HL=n=>lr(n)&&ao(n.data,zs),DY=n=>{n.on("mouseup keydown",s=>{w8(n,s.keyCode,HL(n.selection.getRng().endContainer))})},UL=n=>{const s=b8(!1),l=c5(n,s.dom);return{caretContainer:s,caretPosition:Nn(l,0)}},WL=(n,s)=>{const{caretContainer:l,caretPosition:m}=UL(s);return Ui(Yt.fromDom(n),l),Ks(Yt.fromDom(n)),m},u5=(n,s)=>{const{caretContainer:l,caretPosition:m}=UL(s);return n.insertNode(l.dom),m},ep=(n,s)=>{if(sf(s.dom))return!1;const l=n.schema.getTextInlineElements();return it(l,Vs(s))&&!sf(s.dom)&&!_f(s.dom)},XT={},f5=vi(["pre"]),Gi=(n,s)=>{XT[n]||(XT[n]=[]),XT[n].push(s)},T8=(n,s)=>{it(XT,n)&&re(XT[n],l=>{l(s)})};Gi("pre",n=>{const s=n.selection.getRng(),l=O=>P=>{const Z=P.previousSibling;return f5(Z)&&Ze(O,Z)},m=(O,P)=>{const Z=Yt.fromDom(P),J=qf(Z).dom;Ks(Z),Ta(Yt.fromDom(O),[Yt.fromTag("br",J),Yt.fromTag("br",J),...ol(Z)])};if(!s.collapsed){const O=n.selection.getSelectedBlocks(),P=se(se(O,f5),l(O));re(P,Z=>{m(Z.previousSibling,Z)})}});const d5=["fontWeight","fontStyle","color","fontSize","fontFamily"],wv=n=>I(n.styles)&&De(Gt(n.styles),s=>Ze(d5,s)),YL=n=>le(n,s=>Xi(s)&&s.inline==="span"&&wv(s)),C8=(n,s)=>{const l=n.get(s);return N(l)?YL(l):G.none()},f2=(n,s)=>uu(s,Nn.fromRangeStart(n)).isNone(),XL=(n,s)=>Rc(s,Nn.fromRangeEnd(n)).exists(l=>!aa(l.getNode())||Rc(s,l).isSome())===!1,GL=n=>s=>qp(s)&&n.isEditable(s),d2=n=>{const s=n.getSelectedBlocks(),l=n.getRng();if(n.isCollapsed())return[];if(s.length===1)return f2(l,s[0])&&XL(l,s[0])?s:[];{const m=yt(s).filter(Z=>f2(l,Z)).toArray(),O=ft(s).filter(Z=>XL(l,Z)).toArray(),P=s.slice(1,-1);return m.concat(P).concat(O)}},$Y=n=>se(d2(n),GL(n.dom)),i1=n=>se(n.getSelectedBlocks(),GL(n.dom)),k8=fr.each,tp=n=>Xr(n)&&!af(n)&&!sf(n)&&!_f(n),hd=(n,s)=>{for(let l=n;l;l=l[s]){if(lr(l)&&St(l.data))return n;if(Xr(l)&&!af(l))return l}return n},GT=(n,s,l)=>{const m=qA(n),O=zl(s)&&n.dom.isEditable(s),P=zl(l)&&n.dom.isEditable(l);if(O&&P){const Z=hd(s,"previousSibling"),J=hd(l,"nextSibling");if(m.compare(Z,J)){for(let he=Z.nextSibling;he&&he!==J;){const _e=he;he=he.nextSibling,Z.appendChild(_e)}return n.dom.remove(J),fr.each(fr.grep(J.childNodes),he=>{Z.appendChild(he)}),Z}}return l},h5=(n,s,l,m)=>{var O;if(m&&s.merge_siblings!==!1){const P=(O=GT(n,Fr(m),m))!==null&&O!==void 0?O:m;GT(n,P,Fr(P,!0))}},LY=(n,s,l)=>{if(s.clear_child_styles){const m=s.links?"*:not(a)":"*";k8(n.select(m,l),O=>{tp(O)&&n.isEditable(O)&&k8(s.styles,(P,Z)=>{n.setStyle(O,Z,"")})})}},A8=(n,s,l)=>{k8(n.childNodes,m=>{tp(m)&&(s(m)&&l(m),m.hasChildNodes()&&A8(m,s,l))})},m5=(n,s)=>{s.nodeName==="SPAN"&&n.getAttribs(s).length===0&&n.remove(s,!0)},jL=(n,s)=>l=>!!(l&&G0(n,l,s)),jd=(n,s,l)=>m=>{n.setStyle(m,s,l),m.getAttribute("style")===""&&m.removeAttribute("style"),m5(n,m)},np=Zd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),qL=/^(src|href|style)$/,jT=fr.each,h2=Bx,Nb=n=>/^(TR|TH|TD)$/.test(n.nodeName),g5=(n,s,l)=>n.isChildOf(s,l)&&s!==l&&!n.isBlock(l),KL=(n,s,l)=>{let m=s[l?"startContainer":"endContainer"],O=s[l?"startOffset":"endOffset"];if(Xr(m)){const P=m.childNodes.length-1;!l&&O&&O--,m=m.childNodes[O>P?P:O]}return lr(m)&&l&&O>=m.data.length&&(m=new ca(m,n.getBody()).next()||m),lr(m)&&!l&&O===0&&(m=new ca(m,n.getBody()).prev()||m),m},P8=(n,s)=>{const l=s?"firstChild":"lastChild",m=n[l];return Nb(n)&&m?n.nodeName==="TR"&&m[l]||m:n},M8=(n,s,l,m)=>{var O;const P=n.create(l,m);return(O=s.parentNode)===null||O===void 0||O.insertBefore(P,s),P.appendChild(s),P},JL=(n,s,l,m,O)=>{const P=Yt.fromDom(s),Z=Yt.fromDom(n.create(m,O)),J=l?Vc(P):my(P);return Ta(Z,J),l?(Ui(P,Z),mm(Z,P)):(Yu(P,Z),Ci(Z,P)),Z.dom},IY=(n,s)=>s.links&&n.nodeName==="A",eI=(n,s,l)=>{const m=s.parentNode;let O;const P=n.dom,Z=Ec(n);Xd(l)&&m===P.getRoot()&&(!l.list_block||!h2(s,l.list_block))&&re(tt(s.childNodes),J=>{Lm(n,Z,J.nodeName.toLowerCase())?O?O.appendChild(J):(O=M8(P,J,Z),P.setAttribs(O,Yy(n))):O=null}),!(Vx(l)&&!h2(l.inline,s))&&P.remove(s,!0)},m2=(n,s,l)=>W(n)?{name:s,value:null}:{name:n,value:Yd(s,l)},tI=(n,s)=>{n.getAttrib(s,"style")===""&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style"))},E8=(n,s,l,m,O)=>{let P=!1;jT(l.styles,(Z,J)=>{const{name:he,value:_e}=m2(J,Z,m),Ge=Qx(_e,he);(l.remove_similar||F(_e)||!Xr(O)||h2(G0(n,O,he),Ge))&&n.setStyle(s,he,""),P=!0}),P&&tI(n,s)},_8=(n,s,l)=>{s==="removeformat"?re(i1(n.selection),m=>{re(d5,O=>n.dom.setStyle(m,O,"")),tI(n.dom,m)}):C8(n.formatter,s).each(m=>{re(i1(n.selection),O=>E8(n.dom,O,m,l,null))})},nI=(n,s,l,m,O)=>{const P=n.dom,Z=qA(n),J=n.schema;if(Xi(s)&&Ey(J,s.inline)&&ks(J,m)&&m.parentElement===n.getBody())return eI(n,m,s),np.removed();if(!s.ceFalseOverride&&m&&P.getContentEditableParent(m)==="false"||m&&!YT(P,m,s)&&!IY(m,s))return np.keep();const he=m,_e=s.preserve_attributes;if(Xi(s)&&s.remove==="all"&&N(_e)){const Ge=se(P.getAttribs(he),qe=>Ze(_e,qe.name.toLowerCase()));if(P.removeAllAttribs(he),re(Ge,qe=>P.setAttrib(he,qe.name,qe.value)),Ge.length>0)return np.rename("span")}if(s.remove!=="all"){E8(P,he,s,l,O),jT(s.attributes,(qe,ot)=>{const{name:Et,value:Vt}=m2(ot,qe,l);if(s.remove_similar||F(Vt)||!Xr(O)||h2(P.getAttrib(O,Et),Vt)){if(Et==="class"){const kt=P.getAttrib(he,Et);if(kt){let It="";if(re(kt.split(/\s+/),cn=>{/mce\-\w+/.test(cn)&&(It+=(It?" ":"")+cn)}),It){P.setAttrib(he,Et,It);return}}}if(qL.test(Et)&&he.removeAttribute("data-mce-"+Et),Et==="style"&&vi(["li"])(he)&&P.getStyle(he,"list-style-type")==="none"){he.removeAttribute(Et),P.setStyle(he,"list-style-type","none");return}Et==="class"&&he.removeAttribute("className"),he.removeAttribute(Et)}}),jT(s.classes,qe=>{qe=Yd(qe,l),(!Xr(O)||P.hasClass(O,qe))&&P.removeClass(he,qe)});const Ge=P.getAttribs(he);for(let qe=0;qe<Ge.length;qe++){const ot=Ge[qe].nodeName;if(!Z.isAttributeInternal(ot))return np.keep()}}return s.remove!=="none"?(eI(n,he,s),np.removed()):np.keep()},rI=(n,s,l,m,O)=>{let P;return s.parentNode&&re(hb(n.dom,s.parentNode).reverse(),Z=>{if(!P&&Xr(Z)&&Z.id!=="_start"&&Z.id!=="_end"){const J=Jg(n,Z,l,m,O);J&&J.split!==!1&&(P=Z)}}),P},oI=(n,s,l,m)=>nI(n,s,l,m,m).fold(ae(m),O=>(n.dom.createFragment().appendChild(m),n.dom.rename(m,O)),ae(null)),NY=(n,s,l,m,O,P,Z,J)=>{var he,_e;let Ge,qe;const ot=n.dom;if(l){const Et=l.parentNode;for(let Vt=m.parentNode;Vt&&Vt!==Et;Vt=Vt.parentNode){let kt=ot.clone(Vt,!1);for(let It=0;It<s.length&&(kt=oI(n,s[It],J,kt),kt!==null);It++);kt&&(Ge&&kt.appendChild(Ge),qe||(qe=kt),Ge=kt)}P&&(!Z.mixed||!ot.isBlock(l))&&(m=(he=ot.split(l,m))!==null&&he!==void 0?he:m),Ge&&qe&&((_e=O.parentNode)===null||_e===void 0||_e.insertBefore(Ge,O),qe.appendChild(O),Xi(Z)&&h5(n,Z,J,Ge))}return m},BY=(n,s,l,m,O)=>{const P=n.formatter.get(s),Z=P[0],J=n.dom,he=n.selection,_e=kt=>{const It=rI(n,kt,s,l,O);return NY(n,P,It,kt,kt,!0,Z,l)},Ge=kt=>af(kt)&&Xr(kt)&&(kt.id==="_start"||kt.id==="_end"),qe=kt=>De(P,It=>qT(n,It,l,kt,kt)),ot=kt=>{const It=tt(kt.childNodes),xn=qe(kt)||De(P,rr=>YT(J,kt,rr)),bn=kt.parentNode;if(!xn&&B(bn)&&mb(Z)&&qe(bn),Z.deep&&It.length)for(let rr=0;rr<It.length;rr++)ot(It[rr]);re(["underline","line-through","overline"],rr=>{Xr(kt)&&n.dom.getStyle(kt,"text-decoration")===rr&&kt.parentNode&&cA(J,kt.parentNode)===rr&&qT(n,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:rr}},void 0,kt)})},Et=kt=>{const It=J.get(kt?"_start":"_end");if(It){let cn=It[kt?"firstChild":"lastChild"];return Ge(cn)&&(cn=cn[kt?"firstChild":"lastChild"]),lr(cn)&&cn.data.length===0&&(cn=kt?It.previousSibling||It.nextSibling:It.nextSibling||It.previousSibling),J.remove(It,!0),cn}else return null},Vt=kt=>{let It,cn,xn=Im(J,kt,P,kt.collapsed);if(Z.split){if(xn=nt(xn),It=KL(n,xn,!0),cn=KL(n,xn),It!==cn){if(It=P8(It,!0),cn=P8(cn,!1),g5(J,It,cn)){const $n=G.from(It.firstChild).getOr(It);_e(JL(J,$n,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Et(!0);return}if(g5(J,cn,It)){const $n=G.from(cn.lastChild).getOr(cn);_e(JL(J,$n,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Et(!1);return}It=M8(J,It,"span",{id:"_start","data-mce-type":"bookmark"}),cn=M8(J,cn,"span",{id:"_end","data-mce-type":"bookmark"});const bn=J.createRng();bn.setStartAfter(It),bn.setEndBefore(cn),Ob(J,bn,$n=>{re($n,rr=>{!af(rr)&&!af(rr.parentNode)&&_e(rr)})}),_e(It),_e(cn),It=Et(!0),cn=Et()}else It=cn=_e(It);xn.startContainer=It.parentNode?It.parentNode:It,xn.startOffset=J.nodeIndex(It),xn.endContainer=cn.parentNode?cn.parentNode:cn,xn.endOffset=J.nodeIndex(cn)+1}Ob(J,xn,bn=>{re(bn,ot)})};if(m){if(ub(m)){const kt=J.createRng();kt.setStartBefore(m),kt.setEndAfter(m),Vt(kt)}else Vt(m);gv(n,s,m,l);return}!he.isCollapsed()||!Xi(Z)||X0(n).length?(fb(n,()=>Wg(n,Vt),kt=>Xi(Z)&&a5(n,s,l,kt)),n.nodeChanged()):ZL(n,s,l,O),_8(n,s,l),gv(n,s,m,l)},sI=(n,s,l,m,O)=>{(m||n.selection.isEditable())&&BY(n,s,l,m,O)},qT=(n,s,l,m,O)=>nI(n,s,l,m,O).fold(ne,P=>(n.dom.rename(m,P),!0),pe),aI=fr.each,QY=(n,s,l,m)=>{const O=P=>{if(zl(P)&&Xr(P.parentNode)&&n.isEditable(P)){const Z=cA(n,P.parentNode);n.getStyle(P,"color")&&Z?n.setStyle(P,"text-decoration",Z):n.getStyle(P,"text-decoration")===Z&&n.setStyle(P,"text-decoration",null)}};s.styles&&(s.styles.color||s.styles.textDecoration)&&(fr.walk(m,O,"childNodes"),O(m))},FY=(n,s,l,m)=>{if(s.styles&&s.styles.backgroundColor){const O=jL(n,"fontSize");A8(m,P=>O(P)&&n.isEditable(P),jd(n,"backgroundColor",Yd(s.styles.backgroundColor,l)))}},VY=(n,s,l,m)=>{if(Xi(s)&&(s.inline==="sub"||s.inline==="sup")){const O=jL(n,"fontSize");A8(m,Z=>O(Z)&&n.isEditable(Z),jd(n,"fontSize",""));const P=se(n.select(s.inline==="sup"?"sub":"sup",m),n.isEditable);n.remove(P,!0)}},zY=(n,s,l,m)=>{aI(s,O=>{Xi(O)&&aI(n.dom.select(O.inline,m),P=>{tp(P)&&qT(n,O,l,P,O.exact?P:null)}),LY(n.dom,O,m)})},ZY=(n,s,l,m,O)=>{const P=O.parentNode;Jg(n,P,l,m)&&qT(n,s,m,O)||s.merge_with_parents&&P&&n.dom.getParent(P,Z=>Jg(n,Z,l,m)?(qT(n,s,m,O),!0):!1)},p5=fr.each,HY=(n,s,l,m)=>{if($k(n)&&Xi(s)&&l.parentNode){const O=nk(n.schema),P=uY(Yt.fromDom(l),Z=>sf(Z.dom));return ut(O,m)&&ta(Yt.fromDom(l.parentNode),!1)&&!P}else return!1},iI=(n,s,l,m)=>{if(p5(l.styles,(O,P)=>{n.setStyle(s,P,Yd(O,m))}),l.styles){const O=n.getAttrib(s,"style");O&&n.setAttrib(s,"data-mce-style",O)}},lI=(n,s,l,m)=>{const O=n.formatter.get(s),P=O[0],Z=!m&&n.selection.isCollapsed(),J=n.dom,he=n.selection,_e=(Vt,kt=P)=>{E(kt.onformat)&&kt.onformat(Vt,kt,l,m),iI(J,Vt,kt,l),p5(kt.attributes,(It,cn)=>{J.setAttrib(Vt,cn,Yd(It,l))}),p5(kt.classes,It=>{const cn=Yd(It,l);J.hasClass(Vt,cn)||J.addClass(Vt,cn)})},Ge=(Vt,kt)=>{let It=!1;return p5(Vt,cn=>jl(cn)?J.getContentEditable(kt)==="false"&&!cn.ceFalseOverride||B(cn.collapsed)&&cn.collapsed!==Z?!0:J.is(kt,cn.selector)&&!sf(kt)?(_e(kt,cn),It=!0,!1):!0:!1),It},qe=Vt=>{if(M(Vt)){const kt=J.create(Vt);return _e(kt),kt}else return null},ot=(Vt,kt,It)=>{const cn=[];let xn=!0;const bn=P.inline||P.block,$n=qe(bn),rr=zn=>Fx(P)&&Jg(n,zn,s,l),gr=(zn,Bn,tr)=>{const eo=j0(P)&&el(n.schema,zn)&&Lm(n,Bn,bn);return tr&&eo},Qr=(zn,Bn,tr,eo)=>{const po=zn.nodeName.toLowerCase(),ls=Lm(n,bn,po)&&Lm(n,Bn,bn),ys=!It&&lr(zn)&&we(zn.data),ma=sf(zn),$s=!Xi(P)||!Vt.isBlock(zn);return(tr||eo)&&ls&&!ys&&!ma&&$s};Ob(Vt,kt,zn=>{let Bn;const tr=eo=>{let po=!1,ls=xn,ys=!1;const ma=eo.parentNode,$s=ma.nodeName.toLowerCase(),hi=Vt.getContentEditable(eo);B(hi)&&(ls=xn,xn=hi==="true",po=!0,ys=db(n,eo));const uc=xn&&!po;if(aa(eo)&&!HY(n,P,eo,$s)){Bn=null,Xd(P)&&Vt.remove(eo);return}if(rr(eo)){Bn=null;return}if(gr(eo,$s,uc)){const ga=Vt.rename(eo,bn);_e(ga),cn.push(ga),Bn=null;return}if(jl(P)){let ga=Ge(O,eo);if(!ga&&B(ma)&&mb(P)&&(ga=Ge(O,ma)),!Xi(P)||ga){Bn=null;return}}B($n)&&Qr(eo,$s,uc,ys)?(Bn||(Bn=Vt.clone($n,!1),ma.insertBefore(Bn,eo),cn.push(Bn)),ys&&po&&(xn=ls),Bn.appendChild(eo)):(Bn=null,re(tt(eo.childNodes),tr),po&&(xn=ls),Bn=null)};re(zn,tr)}),P.links===!0&&re(cn,zn=>{const Bn=tr=>{tr.nodeName==="A"&&_e(tr,P),re(tt(tr.childNodes),Bn)};Bn(zn)}),re(cn,zn=>{const Bn=po=>{let ls=0;return re(po.childNodes,ys=>{!If(ys)&&!af(ys)&&ls++}),ls},tr=po=>le(po.childNodes,lT).filter(ys=>Vt.getContentEditable(ys)!=="false"&&YT(Vt,ys,P)).map(ys=>{const ma=Vt.clone(ys,!1);return _e(ma),Vt.replace(ma,po,!0),Vt.remove(ys,!0),ma}).getOr(po),eo=Bn(zn);if((cn.length>1||!Vt.isBlock(zn))&&eo===0){Vt.remove(zn,!0);return}(Xi(P)||Xd(P)&&P.wrapper)&&(!P.exact&&eo===1&&(zn=tr(zn)),zY(n,O,l,zn),ZY(n,P,s,l,zn),FY(Vt,P,l,zn),QY(Vt,P,l,zn),VY(Vt,P,l,zn),h5(n,P,l,zn))})},Et=ub(m)?m:he.getNode();if(J.getContentEditable(Et)==="false"&&!db(n,Et)){m=Et,Ge(O,m),lc(n,s,m,l);return}if(P){if(m)if(ub(m)){if(!Ge(O,m)){const Vt=J.createRng();Vt.setStartBefore(m),Vt.setEndAfter(m),ot(J,Im(J,Vt,O),!0)}}else ot(J,m,!0);else!Z||!Xi(P)||X0(n).length?(he.setRng(a2(he.getRng())),fb(n,()=>{Wg(n,(Vt,kt)=>{const It=kt?Vt:Im(J,Vt,O);ot(J,It,!1)})},pe),n.nodeChanged()):RY(n,s,l),C8(n.formatter,s).each(Vt=>{re($Y(n.selection),kt=>iI(J,kt,Vt,l))});T8(s,n)}lc(n,s,m,l)},cI=(n,s,l,m)=>{(m||n.selection.isEditable())&&lI(n,s,l,m)},Bb=n=>it(n,"vars"),UY=(n,s)=>{n.set({}),s.on("NodeChange",l=>{R8(s,l.element,n.get())}),s.on("FormatApply FormatRemove",l=>{const m=G.from(l.node).map(O=>ub(O)?O:O.startContainer).bind(O=>Xr(O)?G.some(O):G.from(O.parentElement)).getOrThunk(()=>uI(s));R8(s,m,n.get())})},uI=n=>n.selection.getStart(),fI=(n,s,l,m,O)=>Se(s,J=>{const he=n.formatter.matchNode(J,l,O??{},m);return!U(he)},J=>QL(n,J,l)?!0:m?!1:B(n.formatter.matchNode(J,l,O,!0))),dI=(n,s)=>{const l=s??uI(n);return se(hb(n.dom,l),m=>Xr(m)&&!_f(m))},R8=(n,s,l)=>{const m=dI(n,s);Bt(l,(O,P)=>{const Z=J=>{const he=fI(n,m,P,J.similar,Bb(J)?J.vars:void 0),_e=he.isSome();if(J.state.get()!==_e){J.state.set(_e);const Ge=he.getOr(s);Bb(J)?J.callback(_e,{node:Ge,format:P,parents:m}):re(J.callbacks,qe=>qe(_e,{node:Ge,format:P,parents:m}))}};re([O.withSimilar,O.withoutSimilar],Z),re(O.withVars,Z)})},WY=(n,s,l,m,O,P)=>{const Z=s.get();re(l.split(","),J=>{const he=Sn(Z,J).getOrThunk(()=>{const Ge={withSimilar:{state:ni(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ni(!1),similar:!1,callbacks:[]},withVars:[]};return Z[J]=Ge,Ge}),_e=()=>{const Ge=dI(n);return fI(n,Ge,J,O,P).isSome()};if(U(P)){const Ge=O?he.withSimilar:he.withoutSimilar;Ge.callbacks.push(m),Ge.callbacks.length===1&&Ge.state.set(_e())}else he.withVars.push({state:ni(_e()),similar:O,vars:P,callback:m})}),s.set(Z)},YY=(n,s,l)=>{const m=n.get();re(s.split(","),O=>Sn(m,O).each(P=>{m[O]={withSimilar:{...P.withSimilar,callbacks:se(P.withSimilar.callbacks,Z=>Z!==l)},withoutSimilar:{...P.withoutSimilar,callbacks:se(P.withoutSimilar.callbacks,Z=>Z!==l)},withVars:se(P.withVars,Z=>Z.callback!==l)}})),n.set(m)},XY=(n,s,l,m,O,P)=>(WY(n,s,l,m,O,P),{unbind:()=>YY(s,l,m)}),GY=(n,s,l,m)=>{const O=n.formatter.get(s);O&&(a5(n,s,l,m)&&(!("toggle"in O[0])||O[0].toggle)?sI(n,s,l,m):cI(n,s,l,m))},hI=fr.explode,mI=()=>{const n={};return{addFilter:(O,P)=>{re(hI(O),Z=>{it(n,Z)||(n[Z]={name:Z,callbacks:[]}),n[Z].callbacks.push(P)})},getFilters:()=>Un(n),removeFilter:(O,P)=>{re(hI(O),Z=>{if(it(n,Z))if(B(P)){const J=n[Z],he=se(J.callbacks,_e=>_e!==P);he.length>0?J.callbacks=he:delete n[Z]}else delete n[Z]})}}},jY=(n,s)=>{re(s,l=>{n.attr(l,null)})},qY=(n,s,l)=>{n.addNodeFilter("font",m=>{re(m,O=>{const P=s.parse(O.attr("style")),Z=O.attr("color"),J=O.attr("face"),he=O.attr("size");Z&&(P.color=Z),J&&(P["font-family"]=J),he&&Ft(he).each(_e=>{P["font-size"]=l[_e-1]}),O.name="span",O.attr("style",s.serialize(P)),jY(O,["color","face","size"])})})},KY=(n,s,l)=>{n.addNodeFilter("strike",m=>{const O=s.type!=="html4";re(m,P=>{if(O)P.name="s";else{const Z=l.parse(P.attr("style"));Z["text-decoration"]="line-through",P.name="span",P.attr("style",l.serialize(Z))}})})},JY=(n,s,l)=>{var m;const O=GO();s.convert_fonts_to_spans&&qY(n,O,fr.explode((m=s.font_size_legacy_values)!==null&&m!==void 0?m:"")),KY(n,l,O)},D8=(n,s,l)=>{s.inline_styles&&JY(n,s,l)},$8=(n,s,l)=>{s.addNodeFilter("br",(m,O,P)=>{const Z=fr.extend({},l.getBlockElements()),J=l.getNonEmptyElements(),he=l.getWhitespaceElements();Z.body=1;const _e=Ge=>Ge.name in Z||xm(l,Ge);for(let Ge=0,qe=m.length;Ge<qe;Ge++){let ot=m[Ge],Et=ot.parent;if(Et&&_e(Et)&&ot===Et.lastChild){let Vt=ot.prev;for(;Vt;){const kt=Vt.name;if(kt!=="span"||Vt.attr("data-mce-type")!=="bookmark"){kt==="br"&&(ot=null);break}Vt=Vt.prev}if(ot&&(ot.remove(),s2(l,J,he,Et))){const kt=l.getElementRule(Et.name);kt&&(kt.removeEmpty?Et.remove():kt.paddEmpty&&JA(n,P,_e,Et))}}else{let Vt=ot;for(;Et&&Et.firstChild===Vt&&Et.lastChild===Vt&&(Vt=Et,!Z[Et.name]);)Et=Et.parent;if(Vt===Et){const kt=new hu("#text",3);kt.value=zs,ot.replace(kt)}}}})},Ele=n=>fetch(n).then(s=>s.ok?s.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${n} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),KT=n=>{const s=/([a-z0-9+\/=\s]+)/i.exec(n);return s?s[1]:""},v5=n=>{const[s,...l]=n.split(","),m=l.join(","),O=/data:([^/]+\/[^;]+)(;.+)?/.exec(s);if(O){const P=O[2]===";base64",Z=P?KT(m):decodeURIComponent(m);return G.some({type:O[1],data:Z,base64Encoded:P})}else return G.none()},g2=(n,s,l=!0)=>{let m=s;if(l)try{m=atob(s)}catch{return G.none()}const O=new Uint8Array(m.length);for(let P=0;P<O.length;P++)O[P]=m.charCodeAt(P);return G.some(new Blob([O],{type:n}))},JT=n=>new Promise((s,l)=>{v5(n).bind(({type:m,data:O,base64Encoded:P})=>g2(m,O,P)).fold(()=>l("Invalid data URI"),s)}),gI=n=>Sr(n,"blob:")?Ele(n):Sr(n,"data:")?JT(n):Promise.reject("Unknown URI format"),eX=n=>new Promise((s,l)=>{const m=new FileReader;m.onloadend=()=>{s(m.result)},m.onerror=()=>{var O;l((O=m.error)===null||O===void 0?void 0:O.message)},m.readAsDataURL(n)});let tX=0;const _le=n=>(n||"blobid")+tX++,pI=(n,s,l)=>v5(n).bind(({data:m,type:O,base64Encoded:P})=>{if(s&&!P)return G.none();{const Z=P?m:btoa(m);return l(Z,O)}}),vI=(n,s,l)=>{const m=n.create(_le(),s,l);return n.add(m),m},nX=(n,s,l=!1)=>pI(s,l,(m,O)=>G.from(n.getByData(m,O)).orThunk(()=>g2(O,m).map(P=>vI(n,P,m)))),rX=(n,s)=>{const l=()=>Promise.reject("Invalid data URI");if(Sr(s,"blob:")){const m=n.getByUri(s);return B(m)?Promise.resolve(m):gI(s).then(O=>eX(O).then(P=>pI(P,!1,Z=>G.some(vI(n,O,Z))).getOrThunk(l)))}else return Sr(s,"data:")?nX(n,s).fold(l,m=>Promise.resolve(m)):Promise.reject("Unknown image data format")},yI=n=>B(n.attr("data-mce-bogus")),oX=n=>n.attr("src")===Dr.transparentSrc||B(n.attr("data-mce-placeholder")),bI=(n,s)=>{const{blob_cache:l}=s;if(l){const m=O=>{const P=O.attr("src");oX(O)||yI(O)||Q(P)||nX(l,P,!0).each(Z=>{O.attr("src",Z.blobUri())})};n.addAttributeFilter("src",O=>re(O,m))}},L8=(n,s)=>Sr(n,`${s}/`),y5=(n,s,l,m,O)=>{let P;U(n)?P="iframe":L8(n,"image")?P="img":L8(n,"video")?P="video":L8(n,"audio")?P="audio":P="iframe";const Z=new hu(P,1);return Z.attr(P==="audio"?{src:s}:{src:s,width:l,height:m}),(P==="audio"||P==="video")&&Z.attr("controls",""),P==="iframe"&&O&&Z.attr("sandbox",""),Z},OI=(n,s)=>{const l=n.schema;s.remove_trailing_brs&&$8(s,n,l),n.addAttributeFilter("href",O=>{let P=O.length;const Z=he=>he.split(" ").filter(Ge=>Ge.length>0).concat(["noopener"]).sort().join(" "),J=he=>{const _e=he?fr.trim(he):"";return/\b(noopener)\b/g.test(_e)?_e:Z(_e)};if(!s.allow_unsafe_link_target)for(;P--;){const he=O[P];he.name==="a"&&he.attr("target")==="_blank"&&he.attr("rel",J(he.attr("rel")))}}),s.allow_html_in_named_anchor||n.addAttributeFilter("id,name",O=>{let P=O.length,Z,J,he,_e;for(;P--;)if(_e=O[P],_e.name==="a"&&_e.firstChild&&!_e.attr("href"))for(he=_e.parent,Z=_e.lastChild;Z&&he;)J=Z.prev,he.insert(Z,_e),Z=J}),s.fix_list_elements&&n.addNodeFilter("ul,ol",O=>{let P=O.length,Z,J;for(;P--;)if(Z=O[P],J=Z.parent,J&&(J.name==="ul"||J.name==="ol"))if(Z.prev&&Z.prev.name==="li")Z.prev.append(Z);else{const he=new hu("li",1);he.attr("style","list-style-type: none"),Z.wrap(he)}});const m=l.getValidClasses();s.validate&&m&&n.addAttributeFilter("class",O=>{var P;let Z=O.length;for(;Z--;){const J=O[Z],he=(P=J.attr("class"))!==null&&P!==void 0?P:"",_e=fr.explode(he," ");let Ge="";for(let qe=0;qe<_e.length;qe++){const ot=_e[qe];let Et=!1,Vt=m["*"];Vt&&Vt[ot]&&(Et=!0),Vt=m[J.name],!Et&&Vt&&Vt[ot]&&(Et=!0),Et&&(Ge&&(Ge+=" "),Ge+=ot)}Ge.length||(Ge=null),J.attr("class",Ge)}}),bI(n,s),s.convert_unsafe_embeds&&n.addNodeFilter("object,embed",O=>re(O,P=>{P.replace(y5(P.attr("type"),P.name==="object"?P.attr("data"):P.attr("src"),P.attr("width"),P.attr("height"),s.sandbox_iframes))})),s.sandbox_iframes&&n.addNodeFilter("iframe",O=>re(O,P=>P.attr("sandbox","")))},{entries:gl,setPrototypeOf:sX,isFrozen:Rle,getPrototypeOf:Dle,getOwnPropertyDescriptor:$le}=Object;let{freeze:tl,seal:md,create:l1}=Object,{apply:rp,construct:I8}=typeof Reflect<"u"&&Reflect;rp||(rp=function(s,l,m){return s.apply(l,m)}),tl||(tl=function(s){return s}),md||(md=function(s){return s}),I8||(I8=function(s,l){return new s(...l)});const aX=Fh(Array.prototype.forEach),p2=Fh(Array.prototype.pop),op=Fh(Array.prototype.push),Tv=Fh(String.prototype.toLowerCase),b5=Fh(String.prototype.toString),N8=Fh(String.prototype.match),Qh=Fh(String.prototype.replace),xI=Fh(String.prototype.indexOf),iX=Fh(String.prototype.trim),qd=Fh(RegExp.prototype.test),v2=lX(TypeError);function Fh(n){return function(s){for(var l=arguments.length,m=new Array(l>1?l-1:0),O=1;O<l;O++)m[O-1]=arguments[O];return rp(n,s,m)}}function lX(n){return function(){for(var s=arguments.length,l=new Array(s),m=0;m<s;m++)l[m]=arguments[m];return I8(n,l)}}function xa(n,s,l){var m;l=(m=l)!==null&&m!==void 0?m:Tv,sX&&sX(n,null);let O=s.length;for(;O--;){let P=s[O];if(typeof P=="string"){const Z=l(P);Z!==P&&(Rle(s)||(s[O]=Z),P=Z)}n[P]=!0}return n}function y2(n){const s=l1(null);for(const[l,m]of gl(n))s[l]=m;return s}function O5(n,s){for(;n!==null;){const m=$le(n,s);if(m){if(m.get)return Fh(m.get);if(typeof m.value=="function")return Fh(m.value)}n=Dle(n)}function l(m){return console.warn("fallback value for",m),null}return l}const B8=tl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Q8=tl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qb=tl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SI=tl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F8=tl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),wI=tl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),TI=tl(["#text"]),V8=tl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z8=tl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),CI=tl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),e3=tl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kI=md(/\{\{[\w\W]*|[\w\W]*\}\}/gm),AI=md(/<%[\w\W]*|[\w\W]*%>/gm),PI=md(/\${[\w\W]*}/gm),MI=md(/^data-[\-\w.\u00B7-\uFFFF]/),EI=md(/^aria-[\-\w]+$/),_I=md(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cX=md(/^(?:\w+script|data):/i),uX=md(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),x5=md(/^html$/i);var b2=Object.freeze({__proto__:null,MUSTACHE_EXPR:kI,ERB_EXPR:AI,TMPLIT_EXPR:PI,DATA_ATTR:MI,ARIA_ATTR:EI,IS_ALLOWED_URI:_I,IS_SCRIPT_OR_DATA:cX,ATTR_WHITESPACE:uX,DOCTYPE_NAME:x5});const RI=()=>typeof window>"u"?null:window,DI=function(s,l){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let m=null;const O="data-tt-policy-suffix";l&&l.hasAttribute(O)&&(m=l.getAttribute(O));const P="dompurify"+(m?"#"+m:"");try{return s.createPolicy(P,{createHTML(Z){return Z},createScriptURL(Z){return Z}})}catch{return console.warn("TrustedTypes policy "+P+" could not be created."),null}};function t3(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:RI();const s=ps=>t3(ps);if(s.version="3.0.5",s.removed=[],!n||!n.document||n.document.nodeType!==9)return s.isSupported=!1,s;const l=n.document,m=l.currentScript;let{document:O}=n;const{DocumentFragment:P,HTMLTemplateElement:Z,Node:J,Element:he,NodeFilter:_e,NamedNodeMap:Ge=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:qe,DOMParser:ot,trustedTypes:Et}=n,Vt=he.prototype,kt=O5(Vt,"cloneNode"),It=O5(Vt,"nextSibling"),cn=O5(Vt,"childNodes"),xn=O5(Vt,"parentNode");if(typeof Z=="function"){const ps=O.createElement("template");ps.content&&ps.content.ownerDocument&&(O=ps.content.ownerDocument)}let bn,$n="";const{implementation:rr,createNodeIterator:gr,createDocumentFragment:Qr,getElementsByTagName:zn}=O,{importNode:Bn}=l;let tr={};s.isSupported=typeof gl=="function"&&typeof xn=="function"&&rr&&rr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:eo,ERB_EXPR:po,TMPLIT_EXPR:ls,DATA_ATTR:ys,ARIA_ATTR:ma,IS_SCRIPT_OR_DATA:$s,ATTR_WHITESPACE:hi}=b2;let{IS_ALLOWED_URI:uc}=b2,ga=null;const Cr=xa({},[...B8,...Q8,...Qb,...F8,...TI]);let co=null;const Zs=xa({},[...V8,...z8,...CI,...e3]);let Ss=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ro=null,Lo=null,yr=!0,Bo=!0,Ls=!1,Aa=!0,Sa=!1,$l=!1,Xh=!1,zf=!1,$u=!1,sh=!1,Wo=!1,Hs=!0,Pa=!1;const oi="user-content-";let Ua=!0,gf=!1,Gh={},_v=null;const OP=xa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let tC=null;const xP=xa({},["audio","video","img","source","image","track"]);let j2=null;const SP=xa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),q2="http://www.w3.org/1998/Math/MathML",_1="http://www.w3.org/2000/svg",jh="http://www.w3.org/1999/xhtml";let jm=jh,K2=!1,oO=null;const nC=xa({},[q2,_1,jh],b5);let qm;const wP=["application/xhtml+xml","text/html"],rC="text/html";let Ic,sO=null;const Az=O.createElement("form"),TP=function(Qn){return Qn instanceof RegExp||Qn instanceof Function},oC=function(Qn){if(!(sO&&sO===Qn)){if((!Qn||typeof Qn!="object")&&(Qn={}),Qn=y2(Qn),qm=wP.indexOf(Qn.PARSER_MEDIA_TYPE)===-1?qm=rC:qm=Qn.PARSER_MEDIA_TYPE,Ic=qm==="application/xhtml+xml"?b5:Tv,ga="ALLOWED_TAGS"in Qn?xa({},Qn.ALLOWED_TAGS,Ic):Cr,co="ALLOWED_ATTR"in Qn?xa({},Qn.ALLOWED_ATTR,Ic):Zs,oO="ALLOWED_NAMESPACES"in Qn?xa({},Qn.ALLOWED_NAMESPACES,b5):nC,j2="ADD_URI_SAFE_ATTR"in Qn?xa(y2(SP),Qn.ADD_URI_SAFE_ATTR,Ic):SP,tC="ADD_DATA_URI_TAGS"in Qn?xa(y2(xP),Qn.ADD_DATA_URI_TAGS,Ic):xP,_v="FORBID_CONTENTS"in Qn?xa({},Qn.FORBID_CONTENTS,Ic):OP,ro="FORBID_TAGS"in Qn?xa({},Qn.FORBID_TAGS,Ic):{},Lo="FORBID_ATTR"in Qn?xa({},Qn.FORBID_ATTR,Ic):{},Gh="USE_PROFILES"in Qn?Qn.USE_PROFILES:!1,yr=Qn.ALLOW_ARIA_ATTR!==!1,Bo=Qn.ALLOW_DATA_ATTR!==!1,Ls=Qn.ALLOW_UNKNOWN_PROTOCOLS||!1,Aa=Qn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Sa=Qn.SAFE_FOR_TEMPLATES||!1,$l=Qn.WHOLE_DOCUMENT||!1,$u=Qn.RETURN_DOM||!1,sh=Qn.RETURN_DOM_FRAGMENT||!1,Wo=Qn.RETURN_TRUSTED_TYPE||!1,zf=Qn.FORCE_BODY||!1,Hs=Qn.SANITIZE_DOM!==!1,Pa=Qn.SANITIZE_NAMED_PROPS||!1,Ua=Qn.KEEP_CONTENT!==!1,gf=Qn.IN_PLACE||!1,uc=Qn.ALLOWED_URI_REGEXP||_I,jm=Qn.NAMESPACE||jh,Ss=Qn.CUSTOM_ELEMENT_HANDLING||{},Qn.CUSTOM_ELEMENT_HANDLING&&TP(Qn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ss.tagNameCheck=Qn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Qn.CUSTOM_ELEMENT_HANDLING&&TP(Qn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ss.attributeNameCheck=Qn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Qn.CUSTOM_ELEMENT_HANDLING&&typeof Qn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ss.allowCustomizedBuiltInElements=Qn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Sa&&(Bo=!1),sh&&($u=!0),Gh&&(ga=xa({},[...TI]),co=[],Gh.html===!0&&(xa(ga,B8),xa(co,V8)),Gh.svg===!0&&(xa(ga,Q8),xa(co,z8),xa(co,e3)),Gh.svgFilters===!0&&(xa(ga,Qb),xa(co,z8),xa(co,e3)),Gh.mathMl===!0&&(xa(ga,F8),xa(co,CI),xa(co,e3))),Qn.ADD_TAGS&&(ga===Cr&&(ga=y2(ga)),xa(ga,Qn.ADD_TAGS,Ic)),Qn.ADD_ATTR&&(co===Zs&&(co=y2(co)),xa(co,Qn.ADD_ATTR,Ic)),Qn.ADD_URI_SAFE_ATTR&&xa(j2,Qn.ADD_URI_SAFE_ATTR,Ic),Qn.FORBID_CONTENTS&&(_v===OP&&(_v=y2(_v)),xa(_v,Qn.FORBID_CONTENTS,Ic)),Ua&&(ga["#text"]=!0),$l&&xa(ga,["html","head","body"]),ga.table&&(xa(ga,["tbody"]),delete ro.tbody),Qn.TRUSTED_TYPES_POLICY){if(typeof Qn.TRUSTED_TYPES_POLICY.createHTML!="function")throw v2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Qn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw v2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');bn=Qn.TRUSTED_TYPES_POLICY,$n=bn.createHTML("")}else bn===void 0&&(bn=DI(Et,m)),bn!==null&&typeof $n=="string"&&($n=bn.createHTML(""));tl&&tl(Qn),sO=Qn}},hp=xa({},["mi","mo","mn","ms","mtext"]),J2=xa({},["foreignobject","desc","title","annotation-xml"]),Ln=xa({},["title","style","font","a","script"]),In=xa({},Q8);xa(In,Qb),xa(In,SI);const br=xa({},F8);xa(br,wI);const hr=function(Qn){let lo=xn(Qn);(!lo||!lo.tagName)&&(lo={namespaceURI:jm,tagName:"template"});const Eo=Tv(Qn.tagName),Qi=Tv(lo.tagName);return oO[Qn.namespaceURI]?Qn.namespaceURI===_1?lo.namespaceURI===jh?Eo==="svg":lo.namespaceURI===q2?Eo==="svg"&&(Qi==="annotation-xml"||hp[Qi]):!!In[Eo]:Qn.namespaceURI===q2?lo.namespaceURI===jh?Eo==="math":lo.namespaceURI===_1?Eo==="math"&&J2[Qi]:!!br[Eo]:Qn.namespaceURI===jh?lo.namespaceURI===_1&&!J2[Qi]||lo.namespaceURI===q2&&!hp[Qi]?!1:!br[Eo]&&(Ln[Eo]||!In[Eo]):!!(qm==="application/xhtml+xml"&&oO[Qn.namespaceURI]):!1},mo=function(Qn){op(s.removed,{element:Qn});try{Qn.parentNode.removeChild(Qn)}catch{Qn.remove()}},bs=function(Qn,lo){try{op(s.removed,{attribute:lo.getAttributeNode(Qn),from:lo})}catch{op(s.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Qn),Qn==="is"&&!co[Qn])if($u||sh)try{mo(lo)}catch{}else try{lo.setAttribute(Qn,"")}catch{}},ja=function(Qn){let lo,Eo;if(zf)Qn="<remove></remove>"+Qn;else{const xd=N8(Qn,/^[\r\n\t ]+/);Eo=xd&&xd[0]}qm==="application/xhtml+xml"&&jm===jh&&(Qn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Qn+"</body></html>");const Qi=bn?bn.createHTML(Qn):Qn;if(jm===jh)try{lo=new ot().parseFromString(Qi,qm)}catch{}if(!lo||!lo.documentElement){lo=rr.createDocument(jm,"template",null);try{lo.documentElement.innerHTML=K2?$n:Qi}catch{}}const jc=lo.body||lo.documentElement;return Qn&&Eo&&jc.insertBefore(O.createTextNode(Eo),jc.childNodes[0]||null),jm===jh?zn.call(lo,$l?"html":"body")[0]:$l?lo.documentElement:jc},pf=function(Qn){return gr.call(Qn.ownerDocument||Qn,Qn,_e.SHOW_ELEMENT|_e.SHOW_COMMENT|_e.SHOW_TEXT,null,!1)},fc=function(Qn){return Qn instanceof qe&&(typeof Qn.nodeName!="string"||typeof Qn.textContent!="string"||typeof Qn.removeChild!="function"||!(Qn.attributes instanceof Ge)||typeof Qn.removeAttribute!="function"||typeof Qn.setAttribute!="function"||typeof Qn.namespaceURI!="string"||typeof Qn.insertBefore!="function"||typeof Qn.hasChildNodes!="function")},aO=function(Qn){return typeof J=="object"?Qn instanceof J:Qn&&typeof Qn=="object"&&typeof Qn.nodeType=="number"&&typeof Qn.nodeName=="string"},ah=function(Qn,lo,Eo){tr[Qn]&&aX(tr[Qn],Qi=>{Qi.call(s,lo,Eo,sO)})},Pz=function(Qn){let lo;if(ah("beforeSanitizeElements",Qn,null),fc(Qn))return mo(Qn),!0;const Eo=Ic(Qn.nodeName);if(ah("uponSanitizeElement",Qn,{tagName:Eo,allowedTags:ga}),Qn.hasChildNodes()&&!aO(Qn.firstElementChild)&&(!aO(Qn.content)||!aO(Qn.content.firstElementChild))&&qd(/<[/\w]/g,Qn.innerHTML)&&qd(/<[/\w]/g,Qn.textContent))return mo(Qn),!0;if(!ga[Eo]||ro[Eo]){if(!ro[Eo]&&Ez(Eo)&&(Ss.tagNameCheck instanceof RegExp&&qd(Ss.tagNameCheck,Eo)||Ss.tagNameCheck instanceof Function&&Ss.tagNameCheck(Eo)))return!1;if(Ua&&!_v[Eo]){const Qi=xn(Qn)||Qn.parentNode,jc=cn(Qn)||Qn.childNodes;if(jc&&Qi){const xd=jc.length;for(let Ll=xd-1;Ll>=0;--Ll)Qi.insertBefore(kt(jc[Ll],!0),It(Qn))}}return mo(Qn),!0}return Qn instanceof he&&!hr(Qn)||(Eo==="noscript"||Eo==="noembed"||Eo==="noframes")&&qd(/<\/no(script|embed|frames)/i,Qn.innerHTML)?(mo(Qn),!0):(Sa&&Qn.nodeType===3&&(lo=Qn.textContent,lo=Qh(lo,eo," "),lo=Qh(lo,po," "),lo=Qh(lo,ls," "),Qn.textContent!==lo&&(op(s.removed,{element:Qn.cloneNode()}),Qn.textContent=lo)),ah("afterSanitizeElements",Qn,null),!1)},Mz=function(Qn,lo,Eo){if(Hs&&(lo==="id"||lo==="name")&&(Eo in O||Eo in Az))return!1;if(!(Bo&&!Lo[lo]&&qd(ys,lo))){if(!(yr&&qd(ma,lo))){if(!co[lo]||Lo[lo]){if(!(Ez(Qn)&&(Ss.tagNameCheck instanceof RegExp&&qd(Ss.tagNameCheck,Qn)||Ss.tagNameCheck instanceof Function&&Ss.tagNameCheck(Qn))&&(Ss.attributeNameCheck instanceof RegExp&&qd(Ss.attributeNameCheck,lo)||Ss.attributeNameCheck instanceof Function&&Ss.attributeNameCheck(lo))||lo==="is"&&Ss.allowCustomizedBuiltInElements&&(Ss.tagNameCheck instanceof RegExp&&qd(Ss.tagNameCheck,Eo)||Ss.tagNameCheck instanceof Function&&Ss.tagNameCheck(Eo))))return!1}else if(!j2[lo]){if(!qd(uc,Qh(Eo,hi,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Qn!=="script"&&xI(Eo,"data:")===0&&tC[Qn])){if(!(Ls&&!qd($s,Qh(Eo,hi,"")))){if(Eo)return!1}}}}}}return!0},Ez=function(Qn){return Qn.indexOf("-")>0},rD=function(Qn){let lo,Eo,Qi,jc;ah("beforeSanitizeAttributes",Qn,null);const{attributes:xd}=Qn;if(!xd)return;const Ll={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:co};for(jc=xd.length;jc--;){lo=xd[jc];const{name:qh,namespaceURI:CP}=lo;Eo=qh==="value"?lo.value:iX(lo.value);const Kne=Eo;if(Qi=Ic(qh),Ll.attrName=Qi,Ll.attrValue=Eo,Ll.keepAttr=!0,Ll.forceKeepAttr=void 0,ah("uponSanitizeAttribute",Qn,Ll),Eo=Ll.attrValue,Ll.forceKeepAttr)continue;if(!Ll.keepAttr){bs(qh,Qn);continue}if(!Aa&&qd(/\/>/i,Eo)){bs(qh,Qn);continue}Sa&&(Eo=Qh(Eo,eo," "),Eo=Qh(Eo,po," "),Eo=Qh(Eo,ls," "));const _z=Ic(Qn.nodeName);if(!Mz(_z,Qi,Eo)){bs(qh,Qn);continue}if(Pa&&(Qi==="id"||Qi==="name")&&(bs(qh,Qn),Eo=oi+Eo),bn&&typeof Et=="object"&&typeof Et.getAttributeType=="function"&&!CP)switch(Et.getAttributeType(_z,Qi)){case"TrustedHTML":{Eo=bn.createHTML(Eo);break}case"TrustedScriptURL":{Eo=bn.createScriptURL(Eo);break}}if(Eo!==Kne)try{CP?Qn.setAttributeNS(CP,qh,Eo):Qn.setAttribute(qh,Eo)}catch{bs(qh,Qn)}}ah("afterSanitizeAttributes",Qn,null)},qne=function ps(Qn){let lo;const Eo=pf(Qn);for(ah("beforeSanitizeShadowDOM",Qn,null);lo=Eo.nextNode();)ah("uponSanitizeShadowNode",lo,null),!Pz(lo)&&(lo.content instanceof P&&ps(lo.content),rD(lo));ah("afterSanitizeShadowDOM",Qn,null)};return s.sanitize=function(ps){let Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lo,Eo,Qi,jc;if(K2=!ps,K2&&(ps="<!-->"),typeof ps!="string"&&!aO(ps))if(typeof ps.toString=="function"){if(ps=ps.toString(),typeof ps!="string")throw v2("dirty is not a string, aborting")}else throw v2("toString is not a function");if(!s.isSupported)return ps;if(Xh||oC(Qn),s.removed=[],typeof ps=="string"&&(gf=!1),gf){if(ps.nodeName){const qh=Ic(ps.nodeName);if(!ga[qh]||ro[qh])throw v2("root node is forbidden and cannot be sanitized in-place")}}else if(ps instanceof J)lo=ja("<!---->"),Eo=lo.ownerDocument.importNode(ps,!0),Eo.nodeType===1&&Eo.nodeName==="BODY"||Eo.nodeName==="HTML"?lo=Eo:lo.appendChild(Eo);else{if(!$u&&!Sa&&!$l&&ps.indexOf("<")===-1)return bn&&Wo?bn.createHTML(ps):ps;if(lo=ja(ps),!lo)return $u?null:Wo?$n:""}lo&&zf&&mo(lo.firstChild);const xd=pf(gf?ps:lo);for(;Qi=xd.nextNode();)Pz(Qi)||(Qi.content instanceof P&&qne(Qi.content),rD(Qi));if(gf)return ps;if($u){if(sh)for(jc=Qr.call(lo.ownerDocument);lo.firstChild;)jc.appendChild(lo.firstChild);else jc=lo;return(co.shadowroot||co.shadowrootmode)&&(jc=Bn.call(l,jc,!0)),jc}let Ll=$l?lo.outerHTML:lo.innerHTML;return $l&&ga["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&qd(x5,lo.ownerDocument.doctype.name)&&(Ll="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+Ll),Sa&&(Ll=Qh(Ll,eo," "),Ll=Qh(Ll,po," "),Ll=Qh(Ll,ls," ")),bn&&Wo?bn.createHTML(Ll):Ll},s.setConfig=function(ps){oC(ps),Xh=!0},s.clearConfig=function(){sO=null,Xh=!1},s.isValidAttribute=function(ps,Qn,lo){sO||oC({});const Eo=Ic(ps),Qi=Ic(Qn);return Mz(Eo,Qi,lo)},s.addHook=function(ps,Qn){typeof Qn=="function"&&(tr[ps]=tr[ps]||[],op(tr[ps],Qn))},s.removeHook=function(ps){if(tr[ps])return p2(tr[ps])},s.removeHooks=function(ps){tr[ps]&&(tr[ps]=[])},s.removeAllHooks=function(){tr={}},s}var $I=t3();const LI=fr.each,c1=fr.trim,Z8=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],II={ftp:21,http:80,https:443,mailto:25},n3=["img","video"],NI=(n,s)=>B(n)?!n:B(s)?!Ze(n3,s):!0,H8=n=>{try{return decodeURIComponent(n)}catch{return unescape(n)}},U8=(n,s,l)=>{const m=H8(s).replace(/\s/g,"");return n.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(m)?!0:n.allow_html_data_urls?!1:/^data:image\//i.test(m)?NI(n.allow_svg_data_urls,l)&&/^data:image\/svg\+xml/i.test(m):/^data:/i.test(m)};class Kd{static parseDataUri(s){let l;const m=decodeURIComponent(s).split(","),O=/data:([^;]+)/.exec(m[0]);return O&&(l=O[1]),{type:l,data:m[1]}}static isDomSafe(s,l,m={}){if(m.allow_script_urls)return!0;{const O=Pg.decode(s).replace(/[\s\u0000-\u001F]+/g,"");return!U8(m,O,l)}}static getDocumentBaseUrl(s){var l;let m;return s.protocol.indexOf("http")!==0&&s.protocol!=="file:"?m=(l=s.href)!==null&&l!==void 0?l:"":m=s.protocol+"//"+s.host+s.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/")),m}constructor(s,l={}){this.path="",this.directory="",s=c1(s),this.settings=l;const m=l.base_uri,O=this;if(/^([\w\-]+):([^\/]{2})/i.test(s)||/^\s*#/.test(s)){O.source=s;return}const P=s.indexOf("//")===0;if(s.indexOf("/")===0&&!P&&(s=(m&&m.protocol||"http")+"://mce_host"+s),!/^[\w\-]*:?\/\//.test(s)){const J=m?m.path:new Kd(document.location.href).directory;if((m==null?void 0:m.protocol)==="")s="//mce_host"+O.toAbsPath(J,s);else{const he=/([^#?]*)([#?]?.*)/.exec(s);he&&(s=(m&&m.protocol||"http")+"://mce_host"+O.toAbsPath(J,he[1])+he[2])}}s=s.replace(/@@/g,"(mce_at)");const Z=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(s);Z&&LI(Z8,(J,he)=>{let _e=Z[he];_e&&(_e=_e.replace(/\(mce_at\)/g,"@@")),O[J]=_e}),m&&(O.protocol||(O.protocol=m.protocol),O.userInfo||(O.userInfo=m.userInfo),!O.port&&O.host==="mce_host"&&(O.port=m.port),(!O.host||O.host==="mce_host")&&(O.host=m.host),O.source=""),P&&(O.protocol="")}setPath(s){const l=/^(.*?)\/?(\w+)?$/.exec(s);l&&(this.path=l[0],this.directory=l[1],this.file=l[2]),this.source="",this.getURI()}toRelative(s){if(s==="./")return s;const l=new Kd(s,{base_uri:this});if(l.host!=="mce_host"&&this.host!==l.host&&l.host||this.port!==l.port||this.protocol!==l.protocol&&l.protocol!=="")return l.getURI();const m=this.getURI(),O=l.getURI();if(m===O||m.charAt(m.length-1)==="/"&&m.substr(0,m.length-1)===O)return m;let P=this.toRelPath(this.path,l.path);return l.query&&(P+="?"+l.query),l.anchor&&(P+="#"+l.anchor),P}toAbsolute(s,l){const m=new Kd(s,{base_uri:this});return m.getURI(l&&this.isSameOrigin(m))}isSameOrigin(s){if(this.host==s.host&&this.protocol==s.protocol){if(this.port==s.port)return!0;const l=this.protocol?II[this.protocol]:null;if(l&&(this.port||l)==(s.port||l))return!0}return!1}toRelPath(s,l){let m=0,O="",P,Z;const J=s.substring(0,s.lastIndexOf("/")).split("/"),he=l.split("/");if(J.length>=he.length){for(P=0,Z=J.length;P<Z;P++)if(P>=he.length||J[P]!==he[P]){m=P+1;break}}if(J.length<he.length){for(P=0,Z=he.length;P<Z;P++)if(P>=J.length||J[P]!==he[P]){m=P+1;break}}if(m===1)return l;for(P=0,Z=J.length-(m-1);P<Z;P++)O+="../";for(P=m-1,Z=he.length;P<Z;P++)P!==m-1?O+="/"+he[P]:O+=he[P];return O}toAbsPath(s,l){let m=0;const O=/\/$/.test(l)?"/":"",P=s.split("/"),Z=l.split("/"),J=[];LI(P,qe=>{qe&&J.push(qe)});const he=[];for(let qe=Z.length-1;qe>=0;qe--)if(!(Z[qe].length===0||Z[qe]===".")){if(Z[qe]===".."){m++;continue}if(m>0){m--;continue}he.push(Z[qe])}const _e=J.length-m;let Ge;return _e<=0?Ge=ct(he).join("/"):Ge=J.slice(0,_e).join("/")+"/"+ct(he).join("/"),Ge.indexOf("/")!==0&&(Ge="/"+Ge),O&&Ge.lastIndexOf("/")!==Ge.length-1&&(Ge+=O),Ge}getURI(s=!1){let l;return(!this.source||s)&&(l="",s||(this.protocol?l+=this.protocol+"://":l+="//",this.userInfo&&(l+=this.userInfo+"@"),this.host&&(l+=this.host),this.port&&(l+=":"+this.port)),this.path&&(l+=this.path),this.query&&(l+="?"+this.query),this.anchor&&(l+="#"+this.anchor),this.source=l),this.source}}const fX=fr.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),W8="data-mce-type";let BI=0;const S5=(n,s,l,m,O)=>{var P,Z,J,he;const _e=s.validate,Ge=l.getSpecialElements();n.nodeType===Rd&&!s.allow_conditional_comments&&/^\[if/i.test((P=n.nodeValue)!==null&&P!==void 0?P:"")&&(n.nodeValue=" "+n.nodeValue);const qe=(Z=O==null?void 0:O.tagName)!==null&&Z!==void 0?Z:n.nodeName.toLowerCase();if(m!=="html"&&l.isValid(m)){B(O)&&(O.allowedTags[qe]=!0);return}if(n.nodeType!==mh||qe==="body")return;const ot=Yt.fromDom(n),Et=Cf(ot,W8),Vt=Al(ot,"data-mce-bogus");if(!Et&&M(Vt)){Vt==="all"?Ks(ot):Ef(ot);return}const kt=l.getElementRule(qe);if(_e&&!kt){it(Ge,qe)?Ks(ot):Ef(ot);return}else B(O)&&(O.allowedTags[qe]=!0);if(_e&&kt&&!Et){if(re((J=kt.attributesForced)!==null&&J!==void 0?J:[],It=>{Ra(ot,It.name,It.value==="{$uid}"?`mce_${BI++}`:It.value)}),re((he=kt.attributesDefault)!==null&&he!==void 0?he:[],It=>{Cf(ot,It.name)||Ra(ot,It.name,It.value==="{$uid}"?`mce_${BI++}`:It.value)}),kt.attributesRequired&&!De(kt.attributesRequired,It=>Cf(ot,It))){Ef(ot);return}if(kt.removeEmptyAttrs&&kf(ot)){Ef(ot);return}kt.outputName&&kt.outputName!==qe&&Vd(ot,kt.outputName)}},dX=(n,s,l,m,O)=>{const P=n.tagName.toLowerCase(),{attrName:Z,attrValue:J}=O;O.keepAttr=Y8(s,l,m,P,Z,J),O.keepAttr?(O.allowedAttributes[Z]=!0,FI(Z,l)&&(O.attrValue=Z),s.allow_svg_data_urls&&Sr(J,"data:image/svg+xml")&&(O.forceKeepAttr=!0)):QI(n,Z)&&(O.forceKeepAttr=!0)},Y8=(n,s,l,m,O,P)=>l!=="html"&&!Ac(m)?!0:!(O in fX&&U8(n,P,m))&&(!n.validate||s.isValid(m,O)||Sr(O,"data-")||Sr(O,"aria-")),QI=(n,s)=>n.hasAttribute(W8)&&(s==="id"||s==="class"||s==="style"),FI=(n,s)=>n in s.getBoolAttrs(),hX=(n,s,l,m)=>{const{attributes:O}=n;for(let P=O.length-1;P>=0;P--){const Z=O[P],J=Z.name,he=Z.value;!Y8(s,l,m,n.tagName.toLowerCase(),J,he)&&!QI(n,J)?n.removeAttribute(J):FI(J,l)&&n.setAttribute(J,J)}},mX=(n,s,l)=>{const m=$I();return m.addHook("uponSanitizeElement",(O,P)=>{S5(O,n,s,l.track(O),P)}),m.addHook("uponSanitizeAttribute",(O,P)=>{dX(O,n,s,l.current(),P)}),m},gX=(n,s)=>{const m={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return m.PARSER_MEDIA_TYPE=s,n.allow_script_urls?m.ALLOWED_URI_REGEXP=/.*/:n.allow_html_data_urls&&(m.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),m},pX=n=>{const s=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(m=>`xlink:${m}`),l={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:s};return $I().sanitize(n,l),n.innerHTML},vX=(n,s)=>{const l=Bd();if(n.sanitize){const m=mX(n,s,l);return{sanitizeHtmlElement:(P,Z)=>{m.sanitize(P,gX(n,Z)),m.removed=[],l.reset()},sanitizeNamespaceElement:pX}}else return{sanitizeHtmlElement:(P,Z)=>{const J=document.createNodeIterator(P,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let he;for(;he=J.nextNode();){const _e=l.track(he);S5(he,n,s,_e),Xr(he)&&hX(he,n,s,_e)}l.reset()},sanitizeNamespaceElement:ie}},VI=fr.makeMap,zI=fr.extend,r3=(n,s,l,m)=>{const O=n.name,P=O in l&&O!=="title"&&O!=="textarea",Z=s.childNodes;for(let J=0,he=Z.length;J<he;J++){const _e=Z[J],Ge=new hu(_e.nodeName.toLowerCase(),_e.nodeType);if(Xr(_e)){const qe=_e.attributes;for(let ot=0,Et=qe.length;ot<Et;ot++){const Vt=qe[ot];Ge.attr(Vt.name,Vt.value)}Ac(Ge.name)&&(m(_e),Ge.value=_e.innerHTML)}else lr(_e)?(Ge.value=_e.data,P&&(Ge.raw=!0)):(Kf(_e)||QO(_e)||Ml(_e))&&(Ge.value=_e.data);Ac(Ge.name)||r3(Ge,_e,l,m),n.append(Ge)}},gu=(n,s,l)=>{const m=[];for(let O=n,P=O;O;P=O,O=O.walk()){const Z=O;re(s,J=>J(Z)),Q(Z.parent)&&Z!==n?O=P:m.push(Z)}for(let O=m.length-1;O>=0;O--){const P=m[O];re(l,Z=>Z(P))}},yX=(n,s,l,m)=>{const O=l.validate,P=s.getNonEmptyElements(),Z=s.getWhitespaceElements(),J=zI(VI("script,style,head,html,body,title,meta,param"),s.getBlockElements()),he=nk(s),_e=/[ \t\r\n]+/g,Ge=/^[ \t\r\n]+/,qe=/[ \t\r\n]+$/,ot=xn=>{let bn=xn.parent;for(;B(bn);){if(bn.name in Z)return!0;bn=bn.parent}return!1},Et=xn=>{let bn=xn;for(;B(bn);){if(bn.name in he)return s2(s,P,Z,bn);bn=bn.parent}return!1},Vt=xn=>xn.name in J||xm(s,xn)||Ac(xn.name)&&xn.parent===n,kt=(xn,bn)=>{const $n=bn?xn.prev:xn.next;return B($n)||Q(xn.parent)?!1:Vt(xn.parent)&&(xn.parent!==n||m.isRootContent===!0)};return[xn=>{var bn;if(xn.type===3&&!ot(xn)){let $n=(bn=xn.value)!==null&&bn!==void 0?bn:"";$n=$n.replace(_e," "),(n8(xn.prev,Vt)||kt(xn,!0))&&($n=$n.replace(Ge,"")),$n.length===0?xn.remove():xn.value=$n}},xn=>{var bn;if(xn.type===1){const $n=s.getElementRule(xn.name);if(O&&$n){const rr=s2(s,P,Z,xn);$n.paddInEmptyBlock&&rr&&Et(xn)?JA(l,m,Vt,xn):$n.removeEmpty&&rr?Vt(xn)?xn.remove():xn.unwrap():$n.paddEmpty&&(rr||wL(xn))&&JA(l,m,Vt,xn)}}else if(xn.type===3&&!ot(xn)){let $n=(bn=xn.value)!==null&&bn!==void 0?bn:"";(xn.next&&Vt(xn.next)||kt(xn,!1))&&($n=$n.replace(qe,"")),$n.length===0?xn.remove():xn.value=$n}}]},w5=(n,s)=>{var l;const m=(l=s.forced_root_block)!==null&&l!==void 0?l:n.forced_root_block;return m===!1?"":m===!0?"p":m},Vh=(n={},s=Cm())=>{const l=mI(),m=mI(),O={validate:!0,root_name:"body",sanitize:!0,...n},P=new DOMParser,Z=vX(O,s),J=(bn,$n,rr="html")=>{const gr=rr==="xhtml"?"application/xhtml+xml":"text/html",Qr=it(s.getSpecialElements(),$n.toLowerCase()),zn=Qr?`<${$n}>${bn}</${$n}>`:bn,Bn=rr==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${zn}</body></html>`:`<body>${zn}</body>`,tr=P.parseFromString(Bn,gr).body;return Z.sanitizeHtmlElement(tr,gr),Qr?tr.firstChild:tr},he=l.addFilter,_e=l.getFilters,Ge=l.removeFilter,qe=m.addFilter,ot=m.getFilters,Et=m.removeFilter,Vt=(bn,$n)=>{n5(s,bn)&&$n.push(bn)},kt=(bn,$n)=>{const rr=M($n.attr(W8)),gr=$n.type===1&&!it(bn,$n.name)&&!xm(s,$n)&&!Ac($n.name);return $n.type===3||gr&&!rr},It=(bn,$n)=>{const rr=zI(VI("script,style,head,html,body,title,meta,param"),s.getBlockElements()),gr=/^[ \t\r\n]+/,Qr=/[ \t\r\n]+$/;let zn=bn.firstChild,Bn=null;const tr=eo=>{var po,ls;eo&&(zn=eo.firstChild,zn&&zn.type===3&&(zn.value=(po=zn.value)===null||po===void 0?void 0:po.replace(gr,"")),zn=eo.lastChild,zn&&zn.type===3&&(zn.value=(ls=zn.value)===null||ls===void 0?void 0:ls.replace(Qr,"")))};if(s.isValidChild(bn.name,$n.toLowerCase())){for(;zn;){const eo=zn.next;kt(rr,zn)?(Bn||(Bn=new hu($n,1),Bn.attr(O.forced_root_block_attrs),bn.insert(Bn,zn)),Bn.append(zn)):(tr(Bn),Bn=null),zn=eo}tr(Bn)}},xn={schema:s,addAttributeFilter:qe,getAttributeFilters:ot,removeAttributeFilter:Et,addNodeFilter:he,getNodeFilters:_e,removeNodeFilter:Ge,parse:(bn,$n={})=>{var rr;const gr=O.validate,Qr=(rr=$n.context)!==null&&rr!==void 0?rr:O.root_name,zn=J(bn,Qr,$n.format);My(s,zn);const Bn=new hu(Qr,11);r3(Bn,zn,s.getSpecialElements(),Z.sanitizeNamespaceElement),zn.innerHTML="";const[tr,eo]=yX(Bn,s,O,$n),po=[],ls=gr?hi=>Vt(hi,po):ie,ys={nodes:{},attributes:{}},ma=hi=>K_(_e(),ot(),hi,ys);if(gu(Bn,[tr,ma],[eo,ls]),po.reverse(),gr&&po.length>0)if($n.context){const{pass:hi,fail:uc}=te(po,ga=>ga.parent===Bn);t5(uc,s,Bn,ma),$n.invalid=hi.length>0}else t5(po,s,Bn,ma);const $s=w5(O,$n);return $s&&(Bn.name==="body"||$n.isRootContent)&&It(Bn,$s),$n.invalid||J_(ys,$n),Bn}};return OI(xn,O),D8(xn,O,s),xn},ZI=n=>s5(n)?s1({validate:!1}).serialize(n):n,ff=(n,s,l)=>{const m=ZI(n),O=s(m);if(O.isDefaultPrevented())return O;if(s5(n))if(O.content!==m){const P=Vh({validate:!1,forced_root_block:!1,...l}).parse(O.content,{context:n.name});return{...O,content:P}}else return{...O,content:n};else return O},u1=(n,s)=>{if(s.no_events)return iu.value(s);{const l=t_(n,s);return l.isDefaultPrevented()?iu.error(xs(n,{content:"",...l}).content):iu.value(l)}},X8=(n,s,l)=>l.no_events?s:ff(s,O=>xs(n,{...l,content:O}),{sanitize:L0(n),sandbox_iframes:Tx(n)}).content,G8=(n,s)=>{if(s.no_events)return iu.value(s);{const l=ff(s.content,m=>c9(n,{...s,content:m}),{sanitize:L0(n),sandbox_iframes:Tx(n)});return l.isDefaultPrevented()?(yA(n,l),iu.error(void 0)):iu.value(l)}},T5=(n,s,l)=>{l.no_events||yA(n,{...l,content:s})},j8=(n,s,l)=>({element:n,width:s,rows:l}),q8=(n,s)=>({element:n,cells:s}),o3=(n,s)=>({x:n,y:s}),C5=(n,s)=>bc(n,s).bind(Ft).getOr(1),bX=(n,s,l,m,O)=>{const P=C5(O,"rowspan"),Z=C5(O,"colspan"),J=n.rows;for(let he=l;he<l+P;he++){J[he]||(J[he]=q8(ix(m),[]));for(let _e=s;_e<s+Z;_e++){const Ge=J[he].cells;Ge[_e]=he===l&&_e===s?O:Pu(O)}}},HI=(n,s,l)=>{const m=n.rows;return!!(m[l]?m[l].cells:[])[s]},OX=(n,s,l)=>{for(;HI(n,s,l);)s++;return s},k5=n=>oe(n,(s,l)=>l.cells.length>s?l.cells.length:s,0),A5=(n,s)=>{const l=n.rows;for(let m=0;m<l.length;m++){const O=l[m].cells;for(let P=0;P<O.length;P++)if(Gs(O[P],s))return G.some(o3(P,m))}return G.none()},UI=(n,s,l,m,O)=>{const P=[],Z=n.rows;for(let J=l;J<=O;J++){const he=Z[J].cells,_e=s<m?he.slice(s,m+1):he.slice(m,s+1);P.push(q8(Z[J].element,_e))}return P},xX=(n,s,l)=>{const m=s.x,O=s.y,P=l.x,Z=l.y,J=O<Z?UI(n,m,O,P,Z):UI(n,m,Z,P,O);return j8(n.element,k5(J),J)},sp=(n,s)=>{const l=Pu(n.element),m=Yt.fromTag("tbody");return Ta(m,s),Ci(l,m),l},K8=n=>Ie(n.rows,s=>{const l=Ie(s.cells,O=>{const P=ix(O);return ci(P,"colspan"),ci(P,"rowspan"),P}),m=Pu(s.element);return Ta(m,l),m}),SX=n=>{const s=j8(Pu(n),0,[]);return re(sl(n,"tr"),(l,m)=>{re(sl(l,"td,th"),(O,P)=>{bX(s,OX(s,P,m),m,l,O)})}),j8(s.element,k5(s.rows),s.rows)},P5=n=>sp(n,K8(n)),J8=(n,s,l)=>A5(n,s).bind(m=>A5(n,l).map(O=>xX(n,m,O))),WI=n=>le(n,s=>Vs(s)==="ul"||Vs(s)==="ol"),YI=(n,s)=>le(n,l=>Vs(l)==="li"&&aT(l,s)).fold(ae([]),l=>WI(n).map(m=>{const O=Yt.fromTag(Vs(m)),P=wn(Oy(m),(Z,J)=>Sr(J,"list-style"));return nc(O,P),[Yt.fromTag("li"),O]}).getOr([])),XI=(n,s)=>{const l=oe(s,(m,O)=>(Ci(O,m),O),n);return s.length>0?TT([l]):l},wX=n=>td(n)?ru(n).filter(Tc).fold(ae([]),s=>[n,s]):Tc(n)?[n]:[],TX=(n,s,l)=>{const m=Yt.fromDom(s.commonAncestorContainer),O=qg(m,n),P=se(O,he=>l.isWrapper(Vs(he))),Z=YI(O,s),J=P.concat(Z.length?Z:wX(m));return Ie(J,Pu)},GI=()=>TT([]),CX=(n,s,l)=>XI(Yt.fromDom(s.cloneContents()),TX(n,s,l)),kX=(n,s)=>Og(s,"table",ee(Gs,n)),jI=(n,s)=>kX(n,s[0]).bind(l=>{const m=s[0],O=s[s.length-1],P=SX(l);return J8(P,m,O).map(Z=>TT([P5(Z)]))}).getOrThunk(GI),AX=(n,s,l)=>s.length>0&&s[0].collapsed?GI():CX(n,s[0],l),PX=(n,s,l)=>{const m=UE(s,n);return m.length>0?jI(n,m):AX(n,s,l)},M5=(n,s)=>s>=0&&s<n.length&&Y0(n.charAt(s)),e6=n=>Pe(n.innerText),t6=n=>n.map(s=>s.nodeName).getOr("div").toLowerCase(),n6=n=>G.from(n.selection.getRng()).map(s=>{var l;const m=G.from(n.dom.getParent(s.commonAncestorContainer,n.dom.isBlock)),O=n.getBody(),P=t6(m),Z=Yt.fromDom(s.cloneContents());Jo(Z),C_(Z);const J=n.dom.add(O,P,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},Z.dom),he=e6(J),_e=Pe((l=J.textContent)!==null&&l!==void 0?l:"");if(n.dom.remove(J),M5(_e,0)||M5(_e,_e.length-1)){const Ge=m.getOr(O),qe=e6(Ge),ot=qe.indexOf(he);if(ot===-1)return he;{const Et=M5(qe,ot-1),Vt=M5(qe,ot+he.length);return(Et?" ":"")+he+(Vt?" ":"")}}else return he}).getOr(""),qI=(n,s)=>{const l=n.selection.getRng(),m=n.dom.create("body"),O=n.selection.getSel(),P=T_(n,$x(O)),Z=s.contextual?PX(Yt.fromDom(n.getBody()),P,n.schema).dom:l.cloneContents();return Z&&m.appendChild(Z),n.selection.serializer.serialize(m,s)},r6=(n,s)=>{if(s.format==="text")return n6(n);{const l=qI(n,s);return s.format==="tree"?l:n.selection.isCollapsed()?"":l}},KI=(n,s)=>({...n,format:s,get:!0,selection:!0,getInner:!0}),JI=(n,s,l={})=>{const m=KI(l,s);return u1(n,m).fold(q,O=>{const P=r6(n,O);return X8(n,P,O)})},s3=0,o6=1,s6=2,eN=(n,s)=>{const l=n.length+s.length+2,m=new Array(l),O=new Array(l),P=(Ge,qe,ot)=>({start:Ge,end:qe,diag:ot}),Z=(Ge,qe,ot,Et,Vt)=>{const kt=he(Ge,qe,ot,Et);if(kt===null||kt.start===qe&&kt.diag===qe-Et||kt.end===Ge&&kt.diag===Ge-ot){let It=Ge,cn=ot;for(;It<qe||cn<Et;)It<qe&&cn<Et&&n[It]===s[cn]?(Vt.push([s3,n[It]]),++It,++cn):qe-Ge>Et-ot?(Vt.push([s6,n[It]]),++It):(Vt.push([o6,s[cn]]),++cn)}else{Z(Ge,kt.start,ot,kt.start-kt.diag,Vt);for(let It=kt.start;It<kt.end;++It)Vt.push([s3,n[It]]);Z(kt.end,qe,kt.end-kt.diag,Et,Vt)}},J=(Ge,qe,ot,Et)=>{let Vt=Ge;for(;Vt-qe<Et&&Vt<ot&&n[Vt]===s[Vt-qe];)++Vt;return P(Ge,Vt,qe)},he=(Ge,qe,ot,Et)=>{const Vt=qe-Ge,kt=Et-ot;if(Vt===0||kt===0)return null;const It=Vt-kt,cn=kt+Vt,xn=(cn%2===0?cn:cn+1)/2;m[1+xn]=Ge,O[1+xn]=qe+1;let bn,$n,rr,gr,Qr;for(bn=0;bn<=xn;++bn){for($n=-bn;$n<=bn;$n+=2){for(rr=$n+xn,$n===-bn||$n!==bn&&m[rr-1]<m[rr+1]?m[rr]=m[rr+1]:m[rr]=m[rr-1]+1,gr=m[rr],Qr=gr-Ge+ot-$n;gr<qe&&Qr<Et&&n[gr]===s[Qr];)m[rr]=++gr,++Qr;if(It%2!==0&&It-bn<=$n&&$n<=It+bn&&O[rr-It]<=m[rr])return J(O[rr-It],$n+Ge-ot,qe,Et)}for($n=It-bn;$n<=It+bn;$n+=2){for(rr=$n+xn-It,$n===It-bn||$n!==It+bn&&O[rr+1]<=O[rr-1]?O[rr]=O[rr+1]-1:O[rr]=O[rr-1],gr=O[rr]-1,Qr=gr-Ge+ot-$n;gr>=Ge&&Qr>=ot&&n[gr]===s[Qr];)O[rr]=gr--,Qr--;if(It%2===0&&-bn<=$n&&$n<=bn&&O[rr]<=m[rr+It])return J(O[rr],$n+Ge-ot,qe,Et)}}return null},_e=[];return Z(0,n.length,0,s.length,_e),_e},a6=n=>Xr(n)?n.outerHTML:lr(n)?Pg.encodeRaw(n.data,!1):Kf(n)?"<!--"+n.data+"-->":"",i6=n=>{let s;const l=document.createElement("div"),m=document.createDocumentFragment();for(n&&(l.innerHTML=n);s=l.firstChild;)m.appendChild(s);return m},MX=(n,s,l)=>{const m=i6(s);if(n.hasChildNodes()&&l<n.childNodes.length){const O=n.childNodes[l];n.insertBefore(m,O)}else n.appendChild(m)},E5=(n,s)=>{if(n.hasChildNodes()&&s<n.childNodes.length){const l=n.childNodes[s];n.removeChild(l)}},EX=(n,s)=>{let l=0;re(n,m=>{m[0]===s3?l++:m[0]===o6?(MX(s,m[1],l),l++):m[0]===s6&&E5(s,l)})},_X=(n,s)=>se(Ie(tt(n.childNodes),s?L(Pe,a6):a6),l=>l.length>0),RX=(n,s)=>{const l=Ie(tt(s.childNodes),a6);return EX(eN(l,n),s),s},tN=Rt(()=>document.implementation.createHTMLDocument("undo")),nN=n=>n.querySelector("iframe")!==null,DX=n=>({type:"fragmented",fragments:n,content:"",bookmark:null,beforeBookmark:null}),$X=n=>({type:"complete",fragments:null,content:n,bookmark:null,beforeBookmark:null}),_5=n=>{const s=n.serializer.getTempAttrs(),l=L9(n.getBody(),s);return nN(l)?DX(_X(l,!0)):$X(Pe(l.innerHTML))},l6=(n,s,l)=>{const m=l?s.beforeBookmark:s.bookmark;s.type==="fragmented"?RX(s.fragments,n.getBody()):n.setContent(s.content,{format:"raw",no_selection:B(m)&&nA(m)?!m.isFakeCaret:!0}),m&&(n.selection.moveToBookmark(m),n.selection.scrollIntoView())},c6=n=>n.type==="fragmented"?n.fragments.join(""):n.content,u6=n=>{const s=Yt.fromTag("body",tN());return gm(s,c6(n)),re(sl(s,"*[data-mce-bogus]"),Ef),hs(s)},Lle=(n,s)=>c6(n)===c6(s),LX=(n,s)=>u6(n)===u6(s),f6=(n,s)=>!n||!s?!1:Lle(n,s)?!0:LX(n,s),d6=n=>n.get()===0,R5=(n,s,l)=>{d6(l)&&(n.typing=s)},rN=(n,s)=>{n.typing&&(R5(n,!1,s),n.add())},IX=n=>{n.typing&&(n.typing=!1,n.add())},NX=(n,s,l)=>{d6(s)&&l.set(P0(n.selection))},oN=(n,s,l,m,O,P,Z)=>{const J=_5(n),he=fr.extend(P||{},J);if(!d6(m)||n.removed)return null;const _e=s.data[l.get()];if(n.dispatch("BeforeAddUndo",{level:he,lastLevel:_e,originalEvent:Z}).isDefaultPrevented()||_e&&f6(_e,he))return null;s.data[l.get()]&&O.get().each(ot=>{s.data[l.get()].beforeBookmark=ot});const Ge=jy(n);if(Ge&&s.data.length>Ge){for(let ot=0;ot<s.data.length-1;ot++)s.data[ot]=s.data[ot+1];s.data.length--,l.set(s.data.length)}he.bookmark=P0(n.selection),l.get()<s.data.length-1&&(s.data.length=l.get()+1),s.data.push(he),l.set(s.data.length-1);const qe={level:he,lastLevel:_e,originalEvent:Z};return l.get()>0?(n.setDirty(!0),n.dispatch("AddUndo",qe),n.dispatch("change",qe)):n.dispatch("AddUndo",qe),he},BX=(n,s,l)=>{s.data=[],l.set(0),s.typing=!1,n.dispatch("ClearUndos")},QX=(n,s,l,m,O)=>{if(s.transact(m)){const P=s.data[l.get()].bookmark,Z=s.data[l.get()-1];l6(n,Z,!0),s.transact(O)&&(s.data[l.get()-1].beforeBookmark=P)}},FX=(n,s,l)=>{let m;return s.get()<l.length-1&&(s.set(s.get()+1),m=l[s.get()],l6(n,m,!1),n.setDirty(!0),n.dispatch("Redo",{level:m})),m},VX=(n,s,l,m)=>{let O;return s.typing&&(s.add(),s.typing=!1,R5(s,!1,l)),m.get()>0&&(m.set(m.get()-1),O=s.data[m.get()],l6(n,O,!0),n.setDirty(!0),n.dispatch("Undo",{level:O})),O},zX=n=>{n.clear(),n.add()},Ile=(n,s,l)=>l.get()>0||s.typing&&s.data[0]&&!f6(_5(n),s.data[0]),Nle=(n,s)=>s.get()<n.data.length-1&&!n.typing,ZX=(n,s,l)=>(rN(n,s),n.beforeChange(),n.ignore(l),n.add()),HX=(n,s)=>{try{n.set(n.get()+1),s()}finally{n.set(n.get()-1)}},Ble=(n,s)=>{const l=n.dom,m=B(s)?s:n.getBody();re(l.select("table,a",m),O=>{switch(O.nodeName){case"TABLE":const P=vE(n),Z=l.getAttrib(O,"border");(!Z||Z==="0")&&n.hasVisual?l.addClass(O,P):l.removeClass(O,P);break;case"A":if(!l.getAttrib(O,"href")){const J=l.getAttrib(O,"name")||O.id,he=Nk(n);J&&n.hasVisual?l.addClass(O,he):l.removeClass(O,he)}break}}),n.dispatch("VisualAid",{element:s,hasVisual:n.hasVisual})},sN=n=>({init:{bindEvents:ie},undoManager:{beforeChange:(s,l)=>NX(n,s,l),add:(s,l,m,O,P,Z)=>oN(n,s,l,m,O,P,Z),undo:(s,l,m)=>VX(n,s,l,m),redo:(s,l)=>FX(n,s,l),clear:(s,l)=>BX(n,s,l),reset:s=>zX(s),hasUndo:(s,l)=>Ile(n,s,l),hasRedo:(s,l)=>Nle(s,l),transact:(s,l,m)=>ZX(s,l,m),ignore:(s,l)=>HX(s,l),extra:(s,l,m,O)=>QX(n,s,l,m,O)},formatter:{match:(s,l,m,O)=>a5(n,s,l,m,O),matchAll:(s,l)=>EY(n,s,l),matchNode:(s,l,m,O)=>Jg(n,s,l,m,O),canApply:s=>FL(n,s),closest:s=>Ib(n,s),apply:(s,l,m)=>cI(n,s,l,m),remove:(s,l,m,O)=>sI(n,s,l,m,O),toggle:(s,l,m)=>GY(n,s,l,m),formatChanged:(s,l,m,O,P)=>XY(n,s,l,m,O,P)},editor:{getContent:s=>Ale(n,s),setContent:(s,l)=>NL(n,s,l),insertContent:(s,l)=>IL(n,s,l),addVisual:s=>Ble(n,s)},selection:{getContent:(s,l)=>JI(n,s,l)},autocompleter:{addDecoration:s=>yW(n,s),removeDecoration:()=>OW(n,Yt.fromDom(n.getBody()))},raw:{getModel:()=>G.none()}}),Mi=n=>{const s=_e=>I(_e)?_e:{},{init:l,undoManager:m,formatter:O,editor:P,selection:Z,autocompleter:J,raw:he}=n;return{init:{bindEvents:l.bindEvents},undoManager:{beforeChange:m.beforeChange,add:m.add,undo:m.undo,redo:m.redo,clear:m.clear,reset:m.reset,hasUndo:m.hasUndo,hasRedo:m.hasRedo,transact:(_e,Ge,qe)=>m.transact(qe),ignore:(_e,Ge)=>m.ignore(Ge),extra:(_e,Ge,qe,ot)=>m.extra(qe,ot)},formatter:{match:(_e,Ge,qe,ot)=>O.match(_e,s(Ge),ot),matchAll:O.matchAll,matchNode:O.matchNode,canApply:_e=>O.canApply(_e),closest:_e=>O.closest(_e),apply:(_e,Ge,qe)=>O.apply(_e,s(Ge)),remove:(_e,Ge,qe,ot)=>O.remove(_e,s(Ge)),toggle:(_e,Ge,qe)=>O.toggle(_e,s(Ge)),formatChanged:(_e,Ge,qe,ot,Et)=>O.formatChanged(Ge,qe,ot,Et)},editor:{getContent:_e=>P.getContent(_e),setContent:(_e,Ge)=>({content:P.setContent(_e,Ge),html:""}),insertContent:(_e,Ge)=>(P.insertContent(_e),""),addVisual:P.addVisual},selection:{getContent:(_e,Ge)=>Z.getContent(Ge)},autocompleter:{addDecoration:J.addDecoration,removeDecoration:J.removeDecoration},raw:{getModel:()=>G.some(he.getRawModel())}}},h6=()=>{const n=ae(null),s=ae("");return{init:{bindEvents:ie},undoManager:{beforeChange:ie,add:n,undo:n,redo:n,clear:ie,reset:ie,hasUndo:ne,hasRedo:ne,transact:n,ignore:ie,extra:ie},formatter:{match:ne,matchAll:ae([]),matchNode:ae(void 0),canApply:ne,closest:s,apply:ie,remove:ie,toggle:ie,formatChanged:ae({unbind:ie})},editor:{getContent:s,setContent:ae({content:"",html:""}),insertContent:ae(""),addVisual:ie},selection:{getContent:s},autocompleter:{addDecoration:ie,removeDecoration:ie},raw:{getModel:ae(G.none())}}},Cv=n=>it(n.plugins,"rtc"),UX=n=>Sn(n.plugins,"rtc").bind(s=>G.from(s.setup)),WX=n=>{const s=n;return UX(n).fold(()=>(s.rtcInstance=sN(n),G.none()),l=>(s.rtcInstance=h6(),G.some(()=>l().then(m=>(s.rtcInstance=Mi(m),m.rtc.isRemote)))))},f1=n=>n.rtcInstance?n.rtcInstance:sN(n),bl=n=>{const s=n.rtcInstance;if(s)return s;throw new Error("Failed to get RTC instance not yet initialized.")},Qle=(n,s,l)=>{bl(n).undoManager.beforeChange(s,l)},$c=(n,s,l,m,O,P,Z)=>bl(n).undoManager.add(s,l,m,O,P,Z),aN=(n,s,l,m)=>bl(n).undoManager.undo(s,l,m),iN=(n,s,l)=>bl(n).undoManager.redo(s,l),lN=(n,s,l)=>{bl(n).undoManager.clear(s,l)},YX=(n,s)=>{bl(n).undoManager.reset(s)},XX=(n,s,l)=>bl(n).undoManager.hasUndo(s,l),D5=(n,s,l)=>bl(n).undoManager.hasRedo(s,l),GX=(n,s,l,m)=>bl(n).undoManager.transact(s,l,m),m6=(n,s,l)=>{bl(n).undoManager.ignore(s,l)},jX=(n,s,l,m,O)=>{bl(n).undoManager.extra(s,l,m,O)},cN=(n,s,l,m,O)=>bl(n).formatter.match(s,l,m,O),uN=(n,s,l)=>bl(n).formatter.matchAll(s,l),g6=(n,s,l,m,O)=>bl(n).formatter.matchNode(s,l,m,O),fN=(n,s)=>bl(n).formatter.canApply(s),p6=(n,s)=>bl(n).formatter.closest(s),qX=(n,s,l,m)=>{bl(n).formatter.apply(s,l,m)},KX=(n,s,l,m,O)=>{bl(n).formatter.remove(s,l,m,O)},JX=(n,s,l,m)=>{bl(n).formatter.toggle(s,l,m)},Jd=(n,s,l,m,O,P)=>bl(n).formatter.formatChanged(s,l,m,O,P),eG=(n,s)=>f1(n).editor.getContent(s),tG=(n,s,l)=>f1(n).editor.setContent(s,l),nG=(n,s,l)=>f1(n).editor.insertContent(s,l),rG=(n,s,l)=>bl(n).selection.getContent(s,l),oG=(n,s)=>bl(n).editor.addVisual(s),v6=n=>bl(n).init.bindEvents(),sG=(n,s)=>bl(n).autocompleter.addDecoration(s),aG=n=>bl(n).autocompleter.removeDecoration(),iG=(n,s={})=>{const l=s.format?s.format:"html";return rG(n,l,s)},a3=n=>n.dom.length===0?(Ks(n),G.none()):G.some(n),lG=(n,s)=>n.filter(l=>mv.isBookmarkNode(l.dom)).bind(s?zp:Uu),cG=(n,s,l,m,O)=>{const P=n.dom,Z=s.dom,J=m?P.length:Z.length;m?(Dl(P,Z,O,!1,!m),l.setStart(Z,J)):(Dl(Z,P,O,!1,!m),l.setEnd(Z,J))},dN=(n,s,l)=>{ru(n).each(m=>{const O=n.dom;s&&e2(m,Nn(O,0),l)?_b(O,0,l):!s&&t2(m,Nn(O,O.length),l)&&oL(O,O.length,l)})},$5=(n,s,l,m,O)=>{n.bind(P=>((m?oL:_b)(P.dom,m?P.dom.length:0,O),s.filter(Zi).map(J=>cG(P,J,l,m,O)))).orThunk(()=>lG(s,m).or(s).filter(Zi).map(Z=>dN(Z,m,O)))},uG=(n,s,l)=>{const m=G.from(s.firstChild).map(Yt.fromDom),O=G.from(s.lastChild).map(Yt.fromDom);n.deleteContents(),n.insertNode(s);const P=m.bind(Uu).filter(Zi).bind(a3),Z=O.bind(zp).filter(Zi).bind(a3);$5(P,m,n,!0,l),$5(Z,O,n,!1,l),n.collapse(!1)},fG=(n,s)=>({format:"html",...n,set:!0,selection:!0,content:s}),Fle=(n,s)=>{if(s.format!=="raw"){const l=n.selection.getRng(),m=n.dom.getParent(l.commonAncestorContainer,n.dom.isBlock),O=m?{context:m.nodeName.toLowerCase()}:{},P=n.parser.parse(s.content,{forced_root_block:!1,...O,...s});return s1({validate:!1},n.schema).serialize(P)}else return s.content},dG=(n,s,l={})=>{const m=fG(l,s);G8(n,m).each(O=>{const P=Fle(n,O),Z=n.selection.getRng();uG(Z,Z.createContextualFragment(P),n.schema),n.selection.setRng(Z),Ab(n,Z),T5(n,P,O)})},hN=(n,s,l)=>{if(it(n,s)){const m=se(n[s],O=>O!==l);m.length===0?delete n[s]:n[s]=m}};var mN=(n,s)=>{let l,m;const O=(J,he)=>le(he,_e=>n.is(_e,J)),P=J=>n.getParents(J,void 0,n.getRoot()),Z=()=>{l={},m={},s.on("NodeChange",J=>{const he=J.element,_e=P(he),Ge={};Bt(l,(qe,ot)=>{O(ot,_e).each(Et=>{m[ot]||(re(qe,Vt=>{Vt(!0,{node:Et,selector:ot,parents:_e})}),m[ot]=qe),Ge[ot]=qe})}),Bt(m,(qe,ot)=>{Ge[ot]||(delete m[ot],re(qe,Et=>{Et(!1,{node:he,selector:ot,parents:_e})}))})})};return{selectorChangedWithUnbind:(J,he)=>(l||Z(),l[J]||(l[J]=[]),l[J].push(he),O(J,P(s.selection.getStart())).each(()=>{m[J]=l[J]}),{unbind:()=>{hN(l,J,he),hN(m,J,he)}})}};const y6=n=>!!(n&&n.ownerDocument)&&tc(Yt.fromDom(n.ownerDocument),Yt.fromDom(n)),hG=n=>n?y6(n.startContainer)&&y6(n.endContainer):!1,d1=(n,s,l,m)=>{let O,P;const{selectorChangedWithUnbind:Z}=mN(n,m),J=(Cr,co)=>{const Zs=n.createRng();B(Cr)&&B(co)?(Zs.setStart(Cr,co),Zs.setEnd(Cr,co),$n(Zs),cn(!1)):(iT(n,Zs,m.getBody(),!0),$n(Zs))},he=Cr=>iG(m,Cr),_e=(Cr,co)=>dG(m,Cr,co),Ge=Cr=>S_(m.getBody(),bn(),Cr),qe=Cr=>C9(m.getBody(),bn(),Cr),ot=(Cr,co)=>uc.getBookmark(Cr,co),Et=Cr=>uc.moveToBookmark(Cr),Vt=(Cr,co)=>(uW(n,Cr,co).each($n),Cr),kt=()=>{const Cr=bn(),co=xn();return!Cr||Cr.item?!1:Cr.compareEndPoints?Cr.compareEndPoints("StartToEnd",Cr)===0:!co||Cr.collapsed},It=()=>{const Cr=bn(),co=m.getBody().querySelectorAll('[data-mce-selected="1"]');return co.length>0?Xe(co,Zs=>n.isEditable(Zs.parentElement)):w9(n,Cr)},cn=Cr=>{const co=bn();co.collapse(!!Cr),$n(co)},xn=()=>s.getSelection?s.getSelection():s.document.selection,bn=()=>{let Cr;const co=(Ss,ro,Lo)=>{try{return ro.compareBoundaryPoints(Ss,Lo)}catch{return-1}},Zs=s.document;if(B(m.bookmark)&&!o1(m)){const Ss=y_(m);if(Ss.isSome())return Ss.map(ro=>T_(m,[ro])[0]).getOr(Zs.createRange())}try{const Ss=xn();Ss&&!Gu(Ss.anchorNode)&&(Ss.rangeCount>0?Cr=Ss.getRangeAt(0):Cr=Zs.createRange(),Cr=T_(m,[Cr])[0])}catch{}if(Cr||(Cr=Zs.createRange()),Tg(Cr.startContainer)&&Cr.collapsed){const Ss=n.getRoot();Cr.setStart(Ss,0),Cr.setEnd(Ss,0)}return O&&P&&(co(Cr.START_TO_START,Cr,O)===0&&co(Cr.END_TO_END,Cr,O)===0?Cr=P:(O=null,P=null)),Cr},$n=(Cr,co)=>{if(!hG(Cr))return;const Zs=xn();if(Cr=m.dispatch("SetSelectionRange",{range:Cr,forward:co}).range,Zs){P=Cr;try{Zs.removeAllRanges(),Zs.addRange(Cr)}catch{}co===!1&&Zs.extend&&(Zs.collapse(Cr.endContainer,Cr.endOffset),Zs.extend(Cr.startContainer,Cr.startOffset)),O=Zs.rangeCount>0?Zs.getRangeAt(0):null}if(!Cr.collapsed&&Cr.startContainer===Cr.endContainer&&(Zs!=null&&Zs.setBaseAndExtent)&&Cr.endOffset-Cr.startOffset<2&&Cr.startContainer.hasChildNodes()){const ro=Cr.startContainer.childNodes[Cr.startOffset];ro&&ro.nodeName==="IMG"&&(Zs.setBaseAndExtent(Cr.startContainer,Cr.startOffset,Cr.endContainer,Cr.endOffset),(Zs.anchorNode!==Cr.startContainer||Zs.focusNode!==Cr.endContainer)&&Zs.setBaseAndExtent(ro,0,ro,1))}m.dispatch("AfterSetSelectionRange",{range:Cr,forward:co})},rr=Cr=>(_e(n.getOuterHTML(Cr)),Cr),gr=()=>k9(m.getBody(),bn()),Qr=(Cr,co)=>cW(n,bn(),Cr,co),zn=()=>{const Cr=xn(),co=Cr==null?void 0:Cr.anchorNode,Zs=Cr==null?void 0:Cr.focusNode;if(!Cr||!co||!Zs||Gu(co)||Gu(Zs))return!0;const Ss=n.createRng(),ro=n.createRng();try{Ss.setStart(co,Cr.anchorOffset),Ss.collapse(!0),ro.setStart(Zs,Cr.focusOffset),ro.collapse(!0)}catch{return!0}return Ss.compareBoundaryPoints(Ss.START_TO_START,ro)<=0},hi={dom:n,win:s,serializer:l,editor:m,expand:(Cr={type:"word"})=>$n(Ot(n).expand(bn(),Cr)),collapse:cn,setCursorLocation:J,getContent:he,setContent:_e,getBookmark:ot,moveToBookmark:Et,select:Vt,isCollapsed:kt,isEditable:It,isForward:zn,setNode:rr,getNode:gr,getSel:xn,setRng:$n,getRng:bn,getStart:Ge,getEnd:qe,getSelectedBlocks:Qr,normalize:()=>{const Cr=bn(),co=xn();if(!hv(co)&&Ix(m)){const Zs=Me(n,Cr);return Zs.each(Ss=>{$n(Ss,zn())}),Zs.getOr(Cr)}return Cr},selectorChanged:(Cr,co)=>(Z(Cr,co),hi),selectorChangedWithUnbind:Z,getScrollContainer:()=>{let Cr,co=n.getRoot();for(;co&&co.nodeName!=="BODY";){if(co.scrollHeight>co.clientHeight){Cr=co;break}co=co.parentNode}return Cr},scrollIntoView:(Cr,co)=>{B(Cr)?cc(m,Cr,co):Ab(m,bn(),co)},placeCaretAt:(Cr,co)=>$n(cf(Cr,co,m.getDoc())),getBoundingClientRect:()=>{const Cr=bn();return Cr.collapsed?Nn.fromRangeStart(Cr).getClientRects()[0]:Cr.getBoundingClientRect()},destroy:()=>{s=O=P=null,ga.destroy()}},uc=mv(hi),ga=f9(hi,m);return hi.bookmarkManager=uc,hi.controlSelection=ga,hi},O2=(n,s,l)=>{n.addAttributeFilter("data-mce-tabindex",(m,O)=>{let P=m.length;for(;P--;){const Z=m[P];Z.attr("tabindex",Z.attr("data-mce-tabindex")),Z.attr(O,null)}}),n.addAttributeFilter("src,href,style",(m,O)=>{const P="data-mce-"+O,Z=s.url_converter,J=s.url_converter_scope;let he=m.length;for(;he--;){const _e=m[he];let Ge=_e.attr(P);Ge!==void 0?(_e.attr(O,Ge.length>0?Ge:null),_e.attr(P,null)):(Ge=_e.attr(O),O==="style"?Ge=l.serializeStyle(l.parseStyle(Ge),_e.name):Z&&(Ge=Z.call(J,Ge,O,_e.name)),_e.attr(O,Ge.length>0?Ge:null))}}),n.addAttributeFilter("class",m=>{let O=m.length;for(;O--;){const P=m[O];let Z=P.attr("class");Z&&(Z=Z.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),P.attr("class",Z.length>0?Z:null))}}),n.addAttributeFilter("data-mce-type",(m,O,P)=>{let Z=m.length;for(;Z--;){const J=m[Z];J.attr("data-mce-type")==="bookmark"&&!P.cleanup&&(G.from(J.firstChild).exists(_e=>{var Ge;return!we((Ge=_e.value)!==null&&Ge!==void 0?Ge:"")})?J.unwrap():J.remove())}}),n.addNodeFilter("noscript",m=>{var O;let P=m.length;for(;P--;){const Z=m[P].firstChild;Z&&(Z.value=Pg.decode((O=Z.value)!==null&&O!==void 0?O:""))}}),n.addNodeFilter("script,style",(m,O)=>{var P;const Z=he=>he.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let J=m.length;for(;J--;){const he=m[J],_e=he.firstChild,Ge=(P=_e==null?void 0:_e.value)!==null&&P!==void 0?P:"";if(O==="script"){const qe=he.attr("type");qe&&he.attr("type",qe==="mce-no/type"?null:qe.replace(/^mce\-/,"")),s.element_format==="xhtml"&&_e&&Ge.length>0&&(_e.value=`// <![CDATA[
`+Z(Ge)+`
// ]]>`)}else s.element_format==="xhtml"&&_e&&Ge.length>0&&(_e.value=`<!--
`+Z(Ge)+`
-->`)}}),n.addNodeFilter("#comment",m=>{let O=m.length;for(;O--;){const P=m[O],Z=P.value;s.preserve_cdata&&(Z==null?void 0:Z.indexOf("[CDATA["))===0?(P.name="#cdata",P.type=4,P.value=l.decode(Z.replace(/^\[CDATA\[|\]\]$/g,""))):(Z==null?void 0:Z.indexOf("mce:protected "))===0&&(P.name="#text",P.type=3,P.raw=!0,P.value=unescape(Z).substr(14))}}),n.addNodeFilter("xml:namespace,input",(m,O)=>{let P=m.length;for(;P--;){const Z=m[P];Z.type===7?Z.remove():Z.type===1&&O==="input"&&!Z.attr("type")&&Z.attr("type","text")}}),n.addAttributeFilter("data-mce-type",m=>{re(m,O=>{O.attr("data-mce-type")==="format-caret"&&(O.isEmpty(n.schema.getNonEmptyElements())?O.remove():O.unwrap())})}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(m,O)=>{let P=m.length;for(;P--;)m[P].attr(O,null)}),s.remove_trailing_brs&&$8(s,n,n.schema)},i3=n=>{const s=m=>(m==null?void 0:m.name)==="br",l=n.lastChild;if(s(l)){const m=l.prev;s(m)&&(l.remove(),m.remove())}},gN=(n,s,l)=>{let m;const O=n.dom;let P=s.cloneNode(!0);const Z=document.implementation;if(Z.createHTMLDocument){const J=Z.createHTMLDocument("");fr.each(P.nodeName==="BODY"?P.childNodes:[P],he=>{J.body.appendChild(J.importNode(he,!0))}),P.nodeName!=="BODY"?P=J.body.firstChild:P=J.body,m=O.doc,O.doc=J}return pT(n,{...l,node:P}),m&&(O.doc=m),P},pN=(n,s)=>B(n)&&n.hasEventListeners("PreProcess")&&!s.no_events,mG=(n,s,l)=>pN(n,l)?gN(n,s,l):s,vN=(n,s,l)=>{fr.inArray(s,l)===-1&&(n.addAttributeFilter(l,(m,O)=>{let P=m.length;for(;P--;)m[P].attr(O,null)}),s.push(l))},gG=(n,s,l)=>!s.no_events&&n?KE(n,{...s,content:l}).content:l,pG=(n,s,l)=>{const m=Pe(l.getInner?s.innerHTML:n.getOuterHTML(s));return l.selection||Wi(Yt.fromDom(s))?m:fr.trim(m)},vG=(n,s,l)=>{const m=l.selection?{forced_root_block:!1,...l}:l,O=n.parse(s,m);return i3(O),O},yG=(n,s,l)=>s1(n,s).serialize(l),yN=(n,s,l,m,O)=>{const P=yG(s,l,m);return gG(n,O,P)},bG=(n,s)=>{const l=["data-mce-selected"],m={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...n},O=s&&s.dom?s.dom:Da.DOM,P=s&&s.schema?s.schema:Cm(m),Z=Vh(m,P);O2(Z,m,O);const J=(he,_e={})=>{const Ge={format:"html",..._e},qe=mG(s,he,Ge),ot=pG(O,qe,Ge),Et=vG(Z,ot,Ge);return Ge.format==="tree"?Et:yN(s,m,P,Et,Ge)};return{schema:P,addNodeFilter:Z.addNodeFilter,addAttributeFilter:Z.addAttributeFilter,serialize:J,addRules:P.addValidElements,setRules:P.setValidElements,addTempAttr:ee(vN,Z,l),getTempAttrs:ae(l),getNodeFilters:Z.getNodeFilters,getAttributeFilters:Z.getAttributeFilters,removeNodeFilter:Z.removeNodeFilter,removeAttributeFilter:Z.removeAttributeFilter}},bN=(n,s)=>{const l=bG(n,s);return{schema:l.schema,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:l.serialize,addRules:l.addRules,setRules:l.setRules,addTempAttr:l.addTempAttr,getTempAttrs:l.getTempAttrs,getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters,removeNodeFilter:l.removeNodeFilter,removeAttributeFilter:l.removeAttributeFilter}},l3="html",ON=(n,s)=>({...n,format:s,get:!0,getInner:!0}),xN=(n,s={})=>{const l=s.format?s.format:l3,m=ON(s,l);return u1(n,m).fold(q,O=>{const P=eG(n,O);return X8(n,P,O)})},OG="html",xG=(n,s)=>({format:OG,...n,set:!0,content:s}),b6=(n,s,l={})=>{const m=xG(l,s);return G8(n,m).map(O=>{const P=tG(n,O.content,O);return T5(n,P.html,O),P.content}).getOr(s)},SN="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),SG="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),wG="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),wN=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],TN=(n,s)=>{const l=se(s,m=>it(n,m));return je(l)},Vle=n=>{const s=TN(n,SN),l=n.forced_root_block;return(l===!1||l==="")&&s.push("forced_root_block (false only)"),je(s)},Um=n=>TN(n,SG),L5=(n,s)=>{const l=fr.makeMap(n.plugins," "),O=se(s,P=>it(l,P));return je(O)},TG=n=>L5(n,wG),CG=n=>L5(n,wN.map(s=>s.name)),kG=(n,s)=>{const l=Vle(n),m=TG(s),O=m.length>0,P=l.length>0,Z=s.theme==="mobile";if(O||P||Z){const J=`
- `,he=Z?`

Themes:${J}mobile`:"",_e=O?`

Plugins:${J}${m.join(J)}`:"",Ge=P?`

Options:${J}${l.join(J)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+he+_e+Ge)}},AG=n=>le(wN,s=>s.name===n).fold(()=>n,s=>s.replacedWith?`${n}, replaced by ${s.replacedWith}`:n),la=(n,s)=>{const l=Um(n),m=CG(s),O=m.length>0,P=l.length>0;if(O||P){const Z=`
- `,J=O?`

Plugins:${Z}${m.map(AG).join(Z)}`:"",he=P?`

Options:${Z}${l.join(Z)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+J+he)}},zle=(n,s)=>{kG(n,s),la(n,s)},I5=Da.DOM,PG=n=>{I5.setStyle(n.id,"display",n.orgDisplay)},Ga=n=>G.from(n).each(s=>s.destroy()),MG=n=>{const s=n;s.contentAreaContainer=s.formElement=s.container=s.editorContainer=null,s.bodyElement=s.contentDocument=s.contentWindow=null,s.iframeElement=s.targetElm=null;const l=n.selection;if(l){const m=l.dom;s.selection=l.win=l.dom=m.doc=null}},c3=n=>{const s=n.formElement;s&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,delete s._mceOldSubmit),I5.unbind(s,"submit reset",n.formEventDelegate))},EG=n=>{if(!n.removed){const{_selectionOverrides:s,editorUpload:l}=n,m=n.getBody(),O=n.getElement();m&&n.save({is_removing:!0}),n.removed=!0,n.unbindAllNativeEvents(),n.hasHiddenInput&&B(O==null?void 0:O.nextSibling)&&I5.remove(O.nextSibling),K0(n),n.editorManager.remove(n),!n.inline&&m&&PG(n),J0(n),I5.remove(n.getContainer()),Ga(s),Ga(l),n.destroy()}},_G=(n,s)=>{const{selection:l,dom:m}=n;if(!n.destroyed){if(!s&&!n.removed){n.remove();return}s||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),Ga(l),Ga(m)),c3(n),MG(n),n.destroyed=!0}},u3=(()=>{const n={};return{add:(O,P)=>{n[O]=P},get:O=>n[O]?n[O]:{icons:{}},has:O=>it(n,O)}})(),eh=Pc.ModelManager,df=(n,s)=>s.dom[n],x2=(n,s)=>parseInt(wi(s,n),10),h1=ee(df,"clientWidth"),ap=ee(df,"clientHeight"),f3=ee(x2,"margin-top"),O6=ee(x2,"margin-left"),x6=n=>n.dom.getBoundingClientRect(),CN=(n,s,l)=>{const m=h1(n),O=ap(n);return s>=0&&l>=0&&s<=m&&l<=O},kN=(n,s,l,m)=>{const O=x6(s),P=n?O.left+s.dom.clientLeft+O6(s):0,Z=n?O.top+s.dom.clientTop+f3(s):0,J=l-P,he=m-Z;return{x:J,y:he}},RG=(n,s,l)=>{const m=Yt.fromDom(n.getBody()),O=n.inline?m:dy(m),P=kN(n.inline,O,s,l);return CN(O,P.x,P.y)},DG=n=>G.from(n).map(Yt.fromDom),AN=n=>{const s=n.inline?n.getBody():n.getContentAreaContainer();return DG(s).map(vh).getOr(!1)};var PN=()=>{const n=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:n,close:n,getArgs:n}};const S6=n=>{const s=[],l=()=>{const ot=n.theme;return ot&&ot.getNotificationManagerImpl?ot.getNotificationManagerImpl():PN()},m=()=>G.from(s[0]),O=(ot,Et)=>ot.type===Et.type&&ot.text===Et.text&&!ot.progressBar&&!ot.timeout&&!Et.progressBar&&!Et.timeout,P=()=>{re(s,ot=>{ot.reposition()})},Z=ot=>{s.push(ot)},J=ot=>{Ce(s,Et=>Et===ot).each(Et=>{s.splice(Et,1)})},he=(ot,Et=!0)=>n.removed||!AN(n)?{}:(Et&&n.dispatch("BeforeOpenNotification",{notification:ot}),le(s,Vt=>O(l().getArgs(Vt),ot)).getOrThunk(()=>{n.editorManager.setActive(n);const Vt=l().open(ot,()=>{J(Vt),P(),S9(n)&&m().fold(()=>n.focus(),kt=>AA(Yt.fromDom(kt.getEl())))});return Z(Vt),P(),n.dispatch("OpenNotification",{notification:{...Vt}}),Vt})),_e=()=>{m().each(ot=>{l().close(ot),J(ot),P()})},Ge=ae(s);return(ot=>{ot.on("SkinLoaded",()=>{const Et=dE(ot);Et&&he({text:Et,type:"warning",timeout:0},!1),P()}),ot.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(P)}),ot.on("remove",()=>{re(s.slice(),Et=>{l().close(Et)})})})(n),{open:he,close:_e,getNotifications:Ge}},Fb=Pc.PluginManager,kv=Pc.ThemeManager;var Hle=()=>{const n=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:n,openUrl:n,alert:n,confirm:n,close:n}};const MN=n=>{let s=[];const l=()=>{const kt=n.theme;return kt&&kt.getWindowManagerImpl?kt.getWindowManagerImpl():Hle()},m=(kt,It)=>(...cn)=>It?It.apply(kt,cn):void 0,O=kt=>{n.dispatch("OpenWindow",{dialog:kt})},P=kt=>{n.dispatch("CloseWindow",{dialog:kt})},Z=kt=>{s.push(kt),O(kt)},J=kt=>{P(kt),s=se(s,It=>It!==kt),s.length===0&&n.focus()},he=()=>G.from(s[s.length-1]),_e=kt=>{n.editorManager.setActive(n),Kx(n),n.ui.show();const It=kt();return Z(It),It},Ge=(kt,It)=>_e(()=>l().open(kt,It,J)),qe=kt=>_e(()=>l().openUrl(kt,J)),ot=(kt,It,cn)=>{const xn=l();xn.alert(kt,m(cn||xn,It))},Et=(kt,It,cn)=>{const xn=l();xn.confirm(kt,m(cn||xn,It))},Vt=()=>{he().each(kt=>{l().close(kt),J(kt)})};return n.on("remove",()=>{re(s,kt=>{l().close(kt)})}),{open:Ge,openUrl:qe,alert:ot,confirm:Et,close:Vt}},$G=(n,s)=>{n.notificationManager.open({type:"error",text:s})},N5=(n,s)=>{n._skinLoaded?$G(n,s):n.on("SkinLoaded",()=>{$G(n,s)})},LG=(n,s)=>{N5(n,sd.translate(["Failed to upload image: {0}",s]))},gd=(n,s,l)=>{_u(n,s,{message:l}),console.error(l)},B5=(n,s,l)=>l?`Failed to load ${n}: ${l} from url ${s}`:`Failed to load ${n} url: ${s}`,Ule=(n,s,l)=>{gd(n,"PluginLoadError",B5("plugin",s,l))},IG=(n,s,l)=>{gd(n,"IconsLoadError",B5("icons",s,l))},d3=(n,s,l)=>{gd(n,"LanguageLoadError",B5("language",s,l))},NG=(n,s,l)=>{gd(n,"ThemeLoadError",B5("theme",s,l))},EN=(n,s,l)=>{gd(n,"ModelLoadError",B5("model",s,l))},_N=(n,s,l)=>{const m=sd.translate(["Failed to initialize plugin: {0}",s]);_u(n,"PluginLoadError",{message:m}),h3(m,l),N5(n,m)},h3=(n,...s)=>{const l=window.console;l&&(l.error?l.error(n,...s):l.log(n,...s))},BG=n=>/^[a-z0-9\-]+$/i.test(n),w6=n=>"content/"+n+"/content.css",m1=n=>tinymce.Resource.has(w6(n)),QG=n=>RN(n,$w(n)),FG=n=>RN(n,Ek(n)),RN=(n,s)=>{const l=n.editorManager.baseURL+"/skins/content",O=`content${n.editorManager.suffix}.css`;return Ie(s,P=>m1(P)?P:BG(P)&&!n.inline?`${l}/${P}/${O}`:n.documentBaseURI.toAbsolute(P))},VG=n=>{n.contentCSS=n.contentCSS.concat(QG(n),FG(n))},zG=n=>n?tt(n.getElementsByTagName("img")):[],ZG=(n,s)=>{const l={};return{findAll:(O,P=pe)=>{const Z=se(zG(O),he=>{const _e=he.src;return he.hasAttribute("data-mce-bogus")||he.hasAttribute("data-mce-placeholder")||!_e||_e===Dr.transparentSrc?!1:Sr(_e,"blob:")?!n.isUploaded(_e)&&P(he):Sr(_e,"data:")?P(he):!1}),J=Ie(Z,he=>{const _e=he.src;if(it(l,_e))return l[_e].then(Ge=>M(Ge)?Ge:{image:he,blobInfo:Ge.blobInfo});{const Ge=rX(s,_e).then(qe=>(delete l[_e],{image:he,blobInfo:qe})).catch(qe=>(delete l[_e],qe));return l[_e]=Ge,Ge}});return Promise.all(J)}}},DN=()=>{let l={};const m=(ot,Et)=>({status:ot,resultUri:Et}),O=ot=>ot in l;return{hasBlobUri:O,getResultUri:ot=>{const Et=l[ot];return Et?Et.resultUri:null},isPending:ot=>O(ot)?l[ot].status===1:!1,isUploaded:ot=>O(ot)?l[ot].status===2:!1,markPending:ot=>{l[ot]=m(1,null)},markUploaded:(ot,Et)=>{l[ot]=m(2,Et)},removeFailed:ot=>{delete l[ot]},destroy:()=>{l={}}}};let HG=0;const UG=()=>{const n=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+n()+n()+n()},WG=n=>n+HG+++UG(),YG=()=>{let n=[];const s=qe=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[qe.toLowerCase()]||"dat",l=(qe,ot,Et,Vt,kt)=>{if(M(qe))return m({id:qe,name:Vt,filename:kt,blob:ot,base64:Et});if(I(qe))return m(qe);throw new Error("Unknown input type")},m=qe=>{if(!qe.blob||!qe.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ot=qe.id||WG("blobid"),Et=qe.name||ot,Vt=qe.blob;return{id:ae(ot),name:ae(Et),filename:ae(qe.filename||Et+"."+s(Vt.type)),blob:ae(Vt),base64:ae(qe.base64),blobUri:ae(qe.blobUri||URL.createObjectURL(Vt)),uri:ae(qe.uri)}},O=qe=>{Z(qe.id())||n.push(qe)},P=qe=>le(n,qe).getOrUndefined(),Z=qe=>P(ot=>ot.id()===qe);return{create:l,add:O,get:Z,getByUri:qe=>P(ot=>ot.blobUri()===qe),getByData:(qe,ot)=>P(Et=>Et.base64()===qe&&Et.blob().type===ot),findFirst:P,removeByUri:qe=>{n=se(n,ot=>ot.blobUri()===qe?(URL.revokeObjectURL(ot.blobUri()),!1):!0)},destroy:()=>{re(n,qe=>{URL.revokeObjectURL(qe.blobUri())}),n=[]}}},Wle=(n,s)=>{const l={},m=(kt,It)=>kt?kt.replace(/\/$/,"")+"/"+It.replace(/^\//,""):It,O=(kt,It)=>new Promise((cn,xn)=>{const bn=new XMLHttpRequest;bn.open("POST",s.url),bn.withCredentials=s.credentials,bn.upload.onprogress=rr=>{It(rr.loaded/rr.total*100)},bn.onerror=()=>{xn("Image upload failed due to a XHR Transport error. Code: "+bn.status)},bn.onload=()=>{if(bn.status<200||bn.status>=300){xn("HTTP Error: "+bn.status);return}const rr=JSON.parse(bn.responseText);if(!rr||!M(rr.location)){xn("Invalid JSON: "+bn.responseText);return}cn(m(s.basePath,rr.location))};const $n=new FormData;$n.append("file",kt.blob(),kt.filename()),bn.send($n)}),P=E(s.handler)?s.handler:O,Z=()=>new Promise(kt=>{kt([])}),J=(kt,It)=>({url:It,blobInfo:kt,status:!0}),he=(kt,It)=>({url:"",blobInfo:kt,status:!1,error:It}),_e=(kt,It)=>{fr.each(l[kt],cn=>{cn(It)}),delete l[kt]},Ge=(kt,It,cn)=>(n.markPending(kt.blobUri()),new Promise(xn=>{let bn,$n;try{const rr=()=>{bn&&(bn.close(),$n=ie)},gr=zn=>{rr(),n.markUploaded(kt.blobUri(),zn),_e(kt.blobUri(),J(kt,zn)),xn(J(kt,zn))},Qr=zn=>{rr(),n.removeFailed(kt.blobUri()),_e(kt.blobUri(),he(kt,zn)),xn(he(kt,zn))};$n=zn=>{zn<0||zn>100||G.from(bn).orThunk(()=>G.from(cn).map(Be)).each(Bn=>{bn=Bn,Bn.progressBar.value(zn)})},It(kt,$n).then(gr,zn=>{Qr(M(zn)?{message:zn}:zn)})}catch(rr){xn(he(kt,rr))}})),qe=kt=>kt===O,ot=kt=>{const It=kt.blobUri();return new Promise(cn=>{l[It]=l[It]||[],l[It].push(cn)})},Et=(kt,It)=>(kt=fr.grep(kt,cn=>!n.isUploaded(cn.blobUri())),Promise.all(fr.map(kt,cn=>n.isPending(cn.blobUri())?ot(cn):Ge(cn,P,It))));return{upload:(kt,It)=>!s.url&&qe(P)?Z():Et(kt,It)}},S2=n=>()=>n.notificationManager.open({text:n.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),$N=(n,s)=>Wle(s,{url:iE(n),basePath:lE(n),credentials:_w(n),handler:cE(n)}),T6=n=>{const s=DN(),l=$N(n,s);return{upload:(m,O=!0)=>l.upload(m,O?S2(n):void 0)}},XG=(n,s)=>n.dom.isEmpty(s.dom)&&B(n.schema.getTextBlockElements()[Vs(s)]),GG=n=>s=>{XG(n,s)&&Ci(s,Yt.fromHtml('<br data-mce-bogus="1" />'))},jG=n=>{const s=YG();let l,m;const O=DN(),P=[],Z=bn=>$n=>n.selection?bn($n):[],J=bn=>bn+(bn.indexOf("?")===-1?"?":"&")+new Date().getTime(),he=(bn,$n,rr)=>{let gr=0;do gr=bn.indexOf($n,gr),gr!==-1&&(bn=bn.substring(0,gr)+rr+bn.substr(gr+$n.length),gr+=rr.length-$n.length+1);while(gr!==-1);return bn},_e=(bn,$n,rr)=>{const gr=`src="${rr}"${rr===Dr.transparentSrc?' data-mce-placeholder="1"':""}`;return bn=he(bn,`src="${$n}"`,gr),bn=he(bn,'data-mce-src="'+$n+'"','data-mce-src="'+rr+'"'),bn},Ge=(bn,$n)=>{re(n.undoManager.data,rr=>{rr.type==="fragmented"?rr.fragments=Ie(rr.fragments,gr=>_e(gr,bn,$n)):rr.content=_e(rr.content,bn,$n)})},qe=(bn,$n)=>{const rr=n.convertURL($n,"src");Ge(bn.src,$n),Su(Yt.fromDom(bn),{src:Xy(n)?J($n):$n,"data-mce-src":rr})},ot=()=>(l||(l=$N(n,O)),It().then(Z(bn=>{const $n=Ie(bn,rr=>rr.blobInfo);return l.upload($n,S2(n)).then(Z(rr=>{const gr=[];let Qr=!1;const zn=Ie(rr,(Bn,tr)=>{const{blobInfo:eo,image:po}=bn[tr];let ls=!1;return Bn.status&&Mk(n)?(Bn.url&&!sr(po.src,Bn.url)&&(Qr=!0),s.removeByUri(po.src),Cv(n)||qe(po,Bn.url)):Bn.error&&(Bn.error.remove&&(Ge(po.src,Dr.transparentSrc),gr.push(po),ls=!0),LG(n,Bn.error.message)),{element:po,status:Bn.status,uploadUri:Bn.url,blobInfo:eo,removed:ls}});return gr.length>0&&!Cv(n)?n.undoManager.transact(()=>{re(Wp(gr),Bn=>{const tr=ru(Bn);Ks(Bn),tr.each(GG(n)),s.removeByUri(Bn.dom.src)})}):Qr&&n.undoManager.dispatchChange(),zn}))}))),Et=()=>Pk(n)?ot():Promise.resolve([]),Vt=bn=>Xe(P,$n=>$n(bn)),kt=bn=>{P.push(bn)},It=()=>(m||(m=ZG(O,s)),m.findAll(n.getBody(),Vt).then(Z(bn=>{const $n=se(bn,rr=>M(rr)?(N5(n,rr),!1):rr.uriType!=="blob");return Cv(n)||re($n,rr=>{Ge(rr.image.src,rr.blobInfo.blobUri()),rr.image.src=rr.blobInfo.blobUri(),rr.image.removeAttribute("data-mce-src")}),$n}))),cn=()=>{s.destroy(),O.destroy(),m=l=null},xn=bn=>bn.replace(/src="(blob:[^"]+)"/g,($n,rr)=>{const gr=O.getResultUri(rr);if(gr)return'src="'+gr+'"';let Qr=s.getByUri(rr);return Qr||(Qr=oe(n.editorManager.get(),(zn,Bn)=>zn||Bn.editorUpload&&Bn.editorUpload.blobCache.getByUri(rr),void 0)),Qr?'src="data:'+Qr.blob().type+";base64,"+Qr.base64()+'"':$n});return n.on("SetContent",()=>{Pk(n)?Et():It()}),n.on("RawSaveContent",bn=>{bn.content=xn(bn.content)}),n.on("GetContent",bn=>{bn.source_view||bn.format==="raw"||bn.format==="tree"||(bn.content=xn(bn.content))}),n.on("PostRender",()=>{n.parser.addNodeFilter("img",bn=>{re(bn,$n=>{const rr=$n.attr("src");if(!rr||s.getByUri(rr))return;const gr=O.getResultUri(rr);gr&&$n.attr("src",gr)})})}),{blobCache:s,addFilter:kt,uploadImages:ot,uploadImagesAuto:Et,scanForImages:It,destroy:cn}},qG=n=>{const s=n.dom,l=n.schema.type,m={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:O=>{s.setStyle(O,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:O=>{s.setStyle(O,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const O={inline:"span",styles:{textDecoration:"line-through"},exact:!0},P={inline:"strike",remove:"all",preserve_attributes:["class","style"]},Z={inline:"s",remove:"all",preserve_attributes:["class","style"]};return l!=="html4"?[Z,O,P]:[O,Z,P]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(O,P,Z)=>Xr(O)&&O.hasAttribute("href"),onformat:(O,P,Z)=>{fr.each(Z,(J,he)=>{s.setAttrib(O,he,J)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":O=>{var P;return(P=O==null?void 0:O.customValue)!==null&&P!==void 0?P:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return fr.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),O=>{m[O]={block:O,remove:"all"}}),m},g1={remove_similar:!0,inherit:!1},zh={selector:"td,th",...g1},Q5={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...zh},tablecellverticalalign:{styles:{"vertical-align":"%value"},...zh},tablecellbordercolor:{styles:{borderColor:"%value"},...zh},tablecellclass:{classes:["%value"],...zh},tableclass:{selector:"table",classes:["%value"],...g1},tablecellborderstyle:{styles:{borderStyle:"%value"},...zh},tablecellborderwidth:{styles:{borderWidth:"%value"},...zh}},F5=ae(Q5),Vb=n=>{const s={},l=Z=>B(Z)?s[Z]:s,m=Z=>it(s,Z),O=(Z,J)=>{Z&&(M(Z)?(N(J)||(J=[J]),re(J,he=>{U(he.deep)&&(he.deep=!jl(he)),U(he.split)&&(he.split=!jl(he)||Xi(he)),U(he.remove)&&jl(he)&&!Xi(he)&&(he.remove="none"),jl(he)&&Xi(he)&&(he.mixed=!0,he.block_expand=!0),M(he.classes)&&(he.classes=he.classes.split(/\s+/))}),s[Z]=J):Bt(Z,(he,_e)=>{O(_e,he)}))},P=Z=>(Z&&s[Z]&&delete s[Z],s);return O(qG(n)),O(F5()),O(mE(n)),{get:l,has:m,register:O,unregister:P}},ip=fr.each,hf=Da.DOM,w2=n=>B(n)&&I(n),C6=(n,s)=>{const l=s&&s.schema||Cm({}),m=(he,_e)=>{_e.classes.length>0&&hf.addClass(he,_e.classes.join(" ")),hf.setAttribs(he,_e.attrs)},O=he=>{const _e=M(he)?{name:he,classes:[],attrs:{}}:he,Ge=hf.create(_e.name);return m(Ge,_e),Ge},P=(he,_e)=>{const Ge=l.getElementRule(he.nodeName.toLowerCase()),qe=Ge==null?void 0:Ge.parentsRequired;return qe&&qe.length?_e&&Ze(qe,_e)?_e:qe[0]:!1},Z=(he,_e,Ge)=>{let qe;const ot=_e[0],Et=w2(ot)?ot.name:void 0,Vt=P(he,Et);if(Vt)Et===Vt?(qe=ot,_e=_e.slice(1)):qe=Vt;else if(ot)qe=ot,_e=_e.slice(1);else if(!Ge)return he;const kt=qe?O(qe):hf.create("div");kt.appendChild(he),Ge&&fr.each(Ge,cn=>{const xn=O(cn);kt.insertBefore(xn,he)});const It=w2(qe)?qe.siblings:void 0;return Z(kt,_e,It)},J=hf.create("div");if(n.length>0){const he=n[0],_e=O(he),Ge=w2(he)?he.siblings:void 0;J.appendChild(Z(_e,n.slice(1),Ge))}return J},k6=n=>{n=fr.trim(n);let s="div";const l={name:s,classes:[],attrs:{},selector:n};return n!=="*"&&(s=n.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(m,O,P,Z,J)=>{switch(O){case"#":l.attrs.id=P;break;case".":l.classes.push(P);break;case":":fr.inArray("checked disabled enabled read-only required".split(" "),P)!==-1&&(l.attrs[P]=P);break}if(Z==="["){const he=J.match(/([\w\-]+)(?:\=\"([^\"]+))?/);he&&(l.attrs[he[1]]=he[2])}return""})),l.name=s||"div",l},A6=n=>M(n)?(n=n.split(/\s*,\s*/)[0],n=n.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),fr.map(n.split(/(?:>|\s+(?![^\[\]]+\]))/),s=>{const l=fr.map(s.split(/(?:~\+|~|\+)/),k6),m=l.pop();return l.length&&(m.siblings=l),m}).reverse()):[],LN=(n,s)=>{let l="",m=Dk(n);if(m==="")return"";const O=ot=>M(ot)?ot.replace(/%(\w+)/g,""):"",P=(ot,Et)=>hf.getStyle(Et??n.getBody(),ot,!0);if(M(s)){const ot=n.formatter.get(s);if(!ot)return"";s=ot[0]}if("preview"in s){const ot=s.preview;if(ot===!1)return"";m=ot||m}let Z=s.block||s.inline||"span",J;const he=A6(s.selector);he.length>0?(he[0].name||(he[0].name=Z),Z=s.selector,J=C6(he,n)):J=C6([Z],n);const _e=hf.select(Z,J)[0]||J.firstChild;ip(s.styles,(ot,Et)=>{const Vt=O(ot);Vt&&hf.setStyle(_e,Et,Vt)}),ip(s.attributes,(ot,Et)=>{const Vt=O(ot);Vt&&hf.setAttrib(_e,Et,Vt)}),ip(s.classes,ot=>{const Et=O(ot);hf.hasClass(_e,Et)||hf.addClass(_e,Et)}),n.dispatch("PreviewFormats"),hf.setStyles(J,{position:"absolute",left:-65535}),n.getBody().appendChild(J);const Ge=P("fontSize"),qe=/px$/.test(Ge)?parseInt(Ge,10):0;return ip(m.split(" "),ot=>{let Et=P(ot,_e);if(!(ot==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Et)&&(Et=P(ot),d0(Et).toLowerCase()==="#ffffff"))&&!(ot==="color"&&d0(Et).toLowerCase()==="#000000")){if(ot==="font-size"&&/em|%$/.test(Et)){if(qe===0)return;Et=parseFloat(Et)/(/%$/.test(Et)?100:1)*qe+"px"}ot==="border"&&Et&&(l+="padding:0 2px;"),l+=ot+":"+Et+";"}}),n.dispatch("AfterPreviewFormats"),hf.remove(J),l},IN=n=>{n.addShortcut("meta+b","","Bold"),n.addShortcut("meta+i","","Italic"),n.addShortcut("meta+u","","Underline");for(let s=1;s<=6;s++)n.addShortcut("access+"+s,"",["FormatBlock",!1,"h"+s]);n.addShortcut("access+7","",["FormatBlock",!1,"p"]),n.addShortcut("access+8","",["FormatBlock",!1,"div"]),n.addShortcut("access+9","",["FormatBlock",!1,"address"])},zb=n=>{const s=Vb(n),l=ni({});return IN(n),DY(n),Cv(n)||UY(l,n),{get:s.get,has:s.has,register:s.register,unregister:s.unregister,apply:(m,O,P)=>{qX(n,m,O,P)},remove:(m,O,P,Z)=>{KX(n,m,O,P,Z)},toggle:(m,O,P)=>{JX(n,m,O,P)},match:(m,O,P,Z)=>cN(n,m,O,P,Z),closest:m=>p6(n,m),matchAll:(m,O)=>uN(n,m,O),matchNode:(m,O,P,Z)=>g6(n,m,O,P,Z),canApply:m=>fN(n,m),formatChanged:(m,O,P,Z)=>Jd(n,l,m,O,P,Z),getCssText:ee(LN,n)}},P6=n=>{switch(n.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},NN=(n,s,l)=>{const m=ni(!1),O=he=>{R5(s,!1,l),s.add({},he)};n.on("init",()=>{s.add()}),n.on("BeforeExecCommand",he=>{const _e=he.command;P6(_e)||(rN(s,l),s.beforeChange())}),n.on("ExecCommand",he=>{const _e=he.command;P6(_e)||O(he)}),n.on("ObjectResizeStart cut",()=>{s.beforeChange()}),n.on("SaveContent ObjectResized blur",O),n.on("dragend",O),n.on("keyup",he=>{const _e=he.keyCode;if(he.isDefaultPrevented())return;const Ge=Dr.os.isMacOS()&&he.key==="Meta";(_e>=33&&_e<=36||_e>=37&&_e<=40||_e===45||he.ctrlKey||Ge)&&(O(),n.nodeChanged()),(_e===46||_e===8)&&n.nodeChanged(),m.get()&&s.typing&&!f6(_5(n),s.data[0])&&(n.isDirty()||n.setDirty(!0),n.dispatch("TypingUndo"),m.set(!1),n.nodeChanged())}),n.on("keydown",he=>{const _e=he.keyCode;if(he.isDefaultPrevented())return;if(_e>=33&&_e<=36||_e>=37&&_e<=40||_e===45){s.typing&&O(he);return}const Ge=he.ctrlKey&&!he.altKey||he.metaKey;if((_e<16||_e>20)&&_e!==224&&_e!==91&&!s.typing&&!Ge){s.beforeChange(),R5(s,!0,l),s.add({},he),m.set(!0);return}(Dr.os.isMacOS()?he.metaKey:he.ctrlKey&&!he.altKey)&&s.beforeChange()}),n.on("mousedown",he=>{s.typing&&O(he)});const P=he=>he.inputType==="insertReplacementText",Z=he=>he.inputType==="insertText"&&he.data===null,J=he=>he.inputType==="insertFromPaste"||he.inputType==="insertFromDrop";n.on("input",he=>{he.inputType&&(P(he)||Z(he)||J(he))&&O(he)}),n.on("AddUndo Undo Redo ClearUndos",he=>{he.isDefaultPrevented()||n.nodeChanged()})},BN=n=>{n.addShortcut("meta+z","","Undo"),n.addShortcut("meta+y,meta+shift+z","","Redo")},m3=n=>{const s=_g(),l=ni(0),m=ni(0),O={data:[],typing:!1,beforeChange:()=>{Qle(n,l,s)},add:(P,Z)=>$c(n,O,m,l,s,P,Z),dispatchChange:()=>{n.setDirty(!0);const P=_5(n);P.bookmark=P0(n.selection),n.dispatch("change",{level:P,lastLevel:et(O.data,m.get()).getOrUndefined()})},undo:()=>aN(n,O,l,m),redo:()=>iN(n,m,O.data),clear:()=>{lN(n,O,m)},reset:()=>{YX(n,O)},hasUndo:()=>XX(n,O,m),hasRedo:()=>D5(n,O,m),transact:P=>GX(n,O,l,P),ignore:P=>{m6(n,l,P)},extra:(P,Z)=>{jX(n,O,m,P,Z)}};return Cv(n)||NN(n,O,l),BN(n),O},QN=[9,27,Wr.HOME,Wr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Wr.DOWN,Wr.UP,Wr.LEFT,Wr.RIGHT].concat(Dr.browser.isFirefox()?[224]:[]),M6="data-mce-placeholder",E6=n=>n.type==="keydown"||n.type==="keyup",_6=n=>{const s=n.keyCode;return s===Wr.BACKSPACE||s===Wr.DELETE},Av=n=>{if(E6(n)){const s=n.keyCode;return!_6(n)&&(Wr.metaKeyPressed(n)||n.altKey||s>=112&&s<=123||Ze(QN,s))}else return!1},p1=n=>E6(n)&&!(_6(n)||n.type==="keyup"&&n.keyCode===229),Zh=(n,s,l)=>{if(ta(Yt.fromDom(s),!1)){const m=s.firstElementChild;return m?n.getStyle(s.firstElementChild,"padding-left")||n.getStyle(s.firstElementChild,"padding-right")?!1:l===m.nodeName.toLowerCase():!0}else return!1},KG=n=>{var s;const l=n.dom,m=Ec(n),O=(s=r9(n))!==null&&s!==void 0?s:"",P=(Z,J)=>{if(Av(Z))return;const he=n.getBody(),_e=p1(Z)?!1:Zh(l,he,m);(l.getAttrib(he,M6)!==""!==_e||J)&&(l.setAttrib(he,M6,_e?O:null),l.setAttrib(he,"aria-placeholder",_e?O:null),e_(n,_e),n.on(_e?"keydown":"keyup",P),n.off(_e?"keyup":"keydown",P))};St(O)&&n.on("init",Z=>{P(Z,!0),n.on("change SetContent ExecCommand",P),n.on("paste",J=>fd.setEditorTimeout(n,()=>P(J)))})},JG=(n,s)=>({block:n,position:s}),ej=(n,s)=>({from:n,to:s}),R6=(n,s)=>{const l=Yt.fromDom(n),m=Yt.fromDom(s.container());return LT(l,m).map(O=>JG(O,s))},tj=n=>!Gs(n.from.block,n.to.block),FN=(n,s)=>wu(s,O=>Hc(O)||Zl(O.dom),O=>Gs(O,n)).filter(kl).getOr(n),nj=(n,s)=>{const l=Yt.fromDom(n);return Gs(FN(l,s.from.block),FN(l,s.to.block))},rj=n=>Os(n.from.block.dom)===!1&&Os(n.to.block.dom)===!1,oj=n=>{const s=l=>Mn(l)||ZO(l.dom);return s(n.from.block)&&s(n.to.block)},sj=(n,s,l)=>aa(l.position.getNode())&&!ta(l.block)?U0(!1,l.block.dom).bind(m=>m.isEqual(l.position)?Rl(s,n,m).bind(O=>R6(n,O)):G.some(l)).getOr(l):l,aj=(n,s,l)=>{const m=R6(n,Nn.fromRangeStart(l)),O=m.bind(P=>Rl(s,n,P.position).bind(Z=>R6(n,Z).map(J=>sj(n,s,J))));return Fa(m,O,ej).filter(P=>tj(P)&&nj(n,P)&&rj(P)&&oj(P))},ij=(n,s,l)=>l.collapsed?aj(n,s,l):G.none(),D6=(n,s)=>{const l=ol(n);return Ce(l,m=>s.isBlock(Vs(m))).fold(ae(l),m=>l.slice(0,m))},V5=(n,s)=>{const l=D6(n,s);return re(l,Ks),l},$6=(n,s)=>{const l=qg(s,n);return le(l.reverse(),m=>ta(m)).each(Ks)},lj=n=>se(my(n),s=>!ta(s)).length===0,cj=(n,s,l,m,O)=>{if(ta(l))return D(l),Xc(l.dom);lj(O)&&ta(s)&&Ui(O,Yt.fromTag("br"));const P=uu(l.dom,Nn.before(O.dom));return re(V5(s,m),Z=>{Ui(O,Z)}),$6(n,s),P},VN=(n,s)=>n.isInline(Vs(s)),zN=(n,s,l,m)=>{if(ta(l)){if(ta(s)){const Z=ue((J=>{const he=(_e,Ge)=>bg(_e).fold(()=>Ge,qe=>VN(m,qe)?he(qe,Ge.concat(Pu(qe))):Ge);return he(J,[])})(l),(J,he)=>(xg(J,he),he),Cc());bh(s),Ci(s,Z)}return Ks(l),Xc(s.dom)}const O=ld(l.dom);return re(V5(s,m),P=>{Ci(l,P)}),$6(n,s),O},L6=(n,s)=>{const l=qg(s,n);return G.from(l[l.length-1])},ZN=(n,s)=>tc(s,n)?L6(s,n):G.none(),I6=(n,s)=>{U0(n,s.dom).bind(l=>G.from(l.getNode())).map(Yt.fromDom).filter(ed).each(Ks)},z5=(n,s,l,m)=>(I6(!0,s),I6(!1,l),ZN(s,l).fold(ee(zN,n,s,l,m),ee(cj,n,s,l,m))),HN=(n,s,l,m,O)=>s?z5(n,m,l,O):z5(n,l,m,O),N6=(n,s)=>{const l=Yt.fromDom(n.getBody());return ij(l.dom,s,n.selection.getRng()).map(O=>()=>{HN(l,s,O.from.block,O.to.block,n.schema).each(P=>{n.selection.setRng(P.toRange())})})},lp=(n,s,l)=>{const m=s.getRng();return Fa(LT(n,Yt.fromDom(m.startContainer)),LT(n,Yt.fromDom(m.endContainer)),(O,P)=>Gs(O,P)?G.none():G.some(()=>{m.deleteContents(),HN(n,!0,O,P,l).each(Z=>{s.setRng(Z.toRange())})})).getOr(G.none())},th=(n,s)=>{const l=Yt.fromDom(s),m=ee(Gs,n);return ui(l,Hc,m).isSome()},Z5=(n,s)=>th(n,s.startContainer)||th(n,s.endContainer),UN=(n,s)=>{const l=uu(n.dom,Nn.fromRangeStart(s)).isNone(),m=Rc(n.dom,Nn.fromRangeEnd(s)).isNone();return!Z5(n,s)&&l&&m},H5=n=>G.some(()=>{n.setContent(""),n.selection.setCursorLocation()}),WN=n=>{const s=Yt.fromDom(n.getBody()),l=n.selection.getRng();return UN(s,l)?H5(n):lp(s,n.selection,n.schema)},U5=(n,s)=>n.selection.isCollapsed()?G.none():WN(n),cp=(n,s,l,m,O)=>G.from(s._selectionOverrides.showCaret(n,l,m,O)),YN=n=>{const s=n.ownerDocument.createRange();return s.selectNode(n),s},T2=(n,s)=>n.dispatch("BeforeObjectSelected",{target:s}).isDefaultPrevented()?G.none():G.some(YN(s)),XN=(n,s,l)=>{const m=Jw(1,n.getBody(),s),O=Nn.fromRangeStart(m),P=O.getNode();if(Cx(P))return cp(1,n,P,!O.isAtEnd(),!1);const Z=O.getNode(!0);if(Cx(Z))return cp(1,n,Z,!1,!1);const J=Lb(n.dom.getRoot(),O.getNode());return Cx(J)?cp(1,n,J,!1,l):G.none()},C2=(n,s,l)=>s.collapsed?XN(n,s,l).getOr(s):s,B6=n=>bv(n)||MT(n),uj=n=>Vm(n)||Jx(n),fj=(n,s)=>{lr(s)&&s.data.length===0&&n.remove(s)},GN=(n,s,l,m,O,P)=>{cp(m,n,P.getNode(!O),O,!0).each(Z=>{if(s.collapsed){const J=s.cloneRange();O?J.setEnd(Z.startContainer,Z.startOffset):J.setStart(Z.endContainer,Z.endOffset),J.deleteContents()}else s.deleteContents();n.selection.setRng(Z)}),fj(n.dom,l)},dj=(n,s)=>{const l=n.selection.getRng();if(!lr(l.commonAncestorContainer))return G.none();const m=s?Pi.Forwards:Pi.Backwards,O=Ud(n.getBody()),P=ee(Jk,s?O.next:O.prev),Z=s?B6:uj,J=zg(m,n.getBody(),l),he=P(J),_e=he&&Ds(s,he);if(!_e||!eT(J,_e))return G.none();if(Z(_e))return G.some(()=>GN(n,l,J.getNode(),m,s,_e));const Ge=P(_e);return Ge&&Z(Ge)&&eT(_e,Ge)?G.some(()=>GN(n,l,J.getNode(),m,s,Ge)):G.none()},W5=(n,s)=>dj(n,s),Q6=(n,s)=>{const l=n.getBody();return s?Xc(l).filter(bv):ld(l).filter(Vm)},F6=n=>{const s=n.selection.getRng();return!s.collapsed&&(Q6(n,!0).exists(l=>l.isEqual(Nn.fromRangeStart(s)))||Q6(n,!1).exists(l=>l.isEqual(Nn.fromRangeEnd(s))))},V6=n=>B(n)&&(Hc(Yt.fromDom(n))||td(Yt.fromDom(n))),pd=Zd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),hj=(n,s)=>{const l=s.getNode(!n),m=n?"after":"before";return Xr(l)&&l.getAttribute("data-mce-caret")===m},mj=(n,s,l,m,O)=>{const P=Z=>O.isInline(Z.nodeName.toLowerCase())&&!Hd(l,m,n);return Kk(!s,l).fold(()=>Kk(s,m).fold(ne,P),P)},jN=(n,s,l,m)=>{const O=m.getNode(!s);return LT(Yt.fromDom(n),Yt.fromDom(l.getNode())).map(P=>ta(P)?pd.remove(P.dom):pd.moveToElement(O)).orThunk(()=>G.some(pd.moveToElement(O)))},qN=(n,s,l,m)=>Rl(s,n,l).bind(O=>V6(O.getNode())||mj(n,s,l,O,m)?G.none():s&&Os(O.getNode())||!s&&Os(O.getNode(!0))?jN(n,s,l,O):s&&Vm(l)||!s&&bv(l)?G.some(pd.moveToPosition(O)):G.none()),gj=(n,s)=>Q(s)?G.none():n&&Os(s.nextSibling)?G.some(pd.moveToElement(s.nextSibling)):!n&&Os(s.previousSibling)?G.some(pd.moveToElement(s.previousSibling)):G.none(),pj=(n,s,l)=>l.fold(m=>G.some(pd.remove(m)),m=>G.some(pd.moveToElement(m)),m=>Hd(s,m,n)?G.none():G.some(pd.moveToPosition(m))),Y5=(n,s,l,m)=>hj(s,l)?gj(s,l.getNode(!s)).orThunk(()=>qN(n,s,l,m)):qN(n,s,l,m).bind(O=>pj(n,l,O)),z6=(n,s,l,m)=>{const O=Jw(s?1:-1,n,l),P=Nn.fromRangeStart(O),Z=Yt.fromDom(n);return!s&&Vm(P)?G.some(pd.remove(P.getNode(!0))):s&&bv(P)?G.some(pd.remove(P.getNode())):!s&&bv(P)&&_T(Z,P,m)?FW(Z,P,m).map(J=>pd.remove(J.getNode())):s&&Vm(P)&&ET(Z,P,m)?VW(Z,P,m).map(J=>pd.remove(J.getNode())):Y5(n,s,P,m)},vj=(n,s)=>l=>(n._selectionOverrides.hideFakeCaret(),xv(n,s,Yt.fromDom(l)),!0),yj=(n,s)=>l=>{const m=s?Nn.before(l):Nn.after(l);return n.selection.setRng(m.toRange()),!0},bj=n=>s=>(n.selection.setRng(s.toRange()),!0),KN=(n,s)=>G.from(Lb(n.getBody(),s)),JN=(n,s)=>{const l=n.selection.getNode();return KN(n,l).filter(Os).fold(()=>z6(n.getBody(),s,n.selection.getRng(),n.schema).map(m=>()=>m.fold(vj(n,s),yj(n,s),bj(n))),()=>G.some(ie))},Oj=n=>{re(sl(n,".mce-offscreen-selection"),Ks)},xj=(n,s)=>{const l=n.selection.getNode();return Os(l)&&!jp(l)?KN(n,l.parentNode).filter(Os).fold(()=>G.some(()=>{Oj(Yt.fromDom(n.getBody())),xv(n,s,Yt.fromDom(n.selection.getNode())),UA(n)}),()=>G.some(ie)):F6(n)?G.some(()=>{IT(n,n.selection.getRng(),Yt.fromDom(n.getBody()))}):G.none()},X5=n=>{const s=n.dom,l=n.selection,m=Lb(n.getBody(),l.getNode());if(Zl(m)&&s.isBlock(m)&&s.isEmpty(m)){const O=s.create("br",{"data-mce-bogus":"1"});s.setHTML(m,""),m.appendChild(O),l.setRng(Nn.before(O).toRange())}return!0},Z6=(n,s)=>n.selection.isCollapsed()?JN(n,s):xj(n,s),Sj=(n,s)=>{const l=Nn.fromRangeStart(n.selection.getRng());return Rl(s,n.getBody(),l).filter(m=>s?$W(m):LW(m)).bind(m=>rb(s?0:-1,m)).map(m=>()=>n.selection.select(m))},H6=(n,s)=>n.selection.isCollapsed()?Sj(n,s):G.none(),k2=lr,eB=n=>k2(n)&&n.data[0]===de,tB=n=>k2(n)&&n.data[n.data.length-1]===de,nB=n=>{var s;return((s=n.ownerDocument)!==null&&s!==void 0?s:document).createTextNode(de)},G5=n=>{var s;if(k2(n.previousSibling))return tB(n.previousSibling)||n.previousSibling.appendData(de),n.previousSibling;if(k2(n))return eB(n)||n.insertData(0,de),n;{const l=nB(n);return(s=n.parentNode)===null||s===void 0||s.insertBefore(l,n),l}},j5=n=>{var s,l;if(k2(n.nextSibling))return eB(n.nextSibling)||n.nextSibling.insertData(0,de),n.nextSibling;if(k2(n))return tB(n)||n.appendData(de),n;{const m=nB(n);return n.nextSibling?(s=n.parentNode)===null||s===void 0||s.insertBefore(m,n.nextSibling):(l=n.parentNode)===null||l===void 0||l.appendChild(m),m}},q5=(n,s)=>n?G5(s):j5(s),wj=ee(q5,!0),K5=ee(q5,!1),rB=(n,s)=>lr(n.container())?q5(s,n.container()):q5(s,n.getNode()),oB=(n,s)=>{const l=s.get();return l&&n.container()===l&&vt(l)},U6=(n,s)=>s.fold(l=>{hl(n.get());const m=wj(l);return n.set(m),G.some(Nn(m,m.length-1))},l=>Xc(l).map(m=>{if(oB(m,n)){const O=n.get();return Nn(O,1)}else{hl(n.get());const O=rB(m,!0);return n.set(O),Nn(O,1)}}),l=>ld(l).map(m=>{if(oB(m,n)){const O=n.get();return Nn(O,O.length-1)}else{hl(n.get());const O=rB(m,!1);return n.set(O),Nn(O,O.length-1)}}),l=>{hl(n.get());const m=K5(l);return n.set(m),G.some(Nn(m,1))}),sB=(n,s)=>{for(let l=0;l<n.length;l++){const m=n[l].apply(null,s);if(m.isSome())return m}return G.none()},Du=Zd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),aB=(n,s)=>{const l=_m(s,n);return l||n},Tj=(n,s,l)=>{const m=Db(l),O=aB(s,m.container());return Ih(n,O,m).fold(()=>Rc(O,m).bind(ee(Ih,n,O)).map(P=>Du.before(P)),G.none)},Cj=(n,s)=>fv(n,s)===null,iB=(n,s,l)=>Ih(n,s,l).filter(ee(Cj,s)),kj=(n,s,l)=>{const m=DT(l);return iB(n,s,m).bind(O=>uu(O,m).isNone()?G.some(Du.start(O)):G.none())},Aj=(n,s,l)=>{const m=Db(l);return iB(n,s,m).bind(O=>Rc(O,m).isNone()?G.some(Du.end(O)):G.none())},Yle=(n,s,l)=>{const m=DT(l),O=aB(s,m.container());return Ih(n,O,m).fold(()=>uu(O,m).bind(ee(Ih,n,O)).map(P=>Du.after(P)),G.none)},nh=n=>!sL(J5(n)),Hh=(n,s,l)=>sB([Tj,kj,Aj,Yle],[n,s,l]).filter(nh),J5=n=>n.fold(q,q,q,q),W6=n=>n.fold(ae("before"),ae("start"),ae("end"),ae("after")),e4=n=>n.fold(Du.before,Du.before,Du.after,Du.after),t4=n=>n.fold(Du.start,Du.start,Du.end,Du.end),Pj=(n,s)=>W6(n)===W6(s)&&J5(n)===J5(s),lB=(n,s,l,m,O,P)=>Fa(Ih(s,l,m),Ih(s,l,O),(Z,J)=>Z!==J&&Nh(l,Z,J)?Du.after(n?Z:J):P).getOr(P),Mj=(n,s)=>n.fold(pe,l=>!Pj(l,s)),Ej=(n,s,l,m,O)=>{const P=Ds(n,O);return Rl(n,l,P).map(ee(Ds,n)).fold(()=>m.map(e4),he=>Hh(s,l,he).map(ee(lB,n,s,l,P,he)).filter(ee(Mj,m))).filter(nh)},_j=(n,s)=>n?s.fold(L(G.some,Du.start),G.none,L(G.some,Du.after),G.none):s.fold(G.none,L(G.some,Du.before),G.none,L(G.some,Du.end)),A2=(n,s,l,m)=>{const O=Ds(n,m),P=Hh(s,l,O);return Hh(s,l,O).bind(ee(_j,n)).orThunk(()=>Ej(n,s,l,P,m))},cB=n=>E(n.selection.getSel().modify),Y6=(n,s,l)=>{const m=n?1:-1;return s.setRng(Nn(l.container(),l.offset()+m).toRange()),s.getSel().modify("move",n?"forward":"backward","word"),!0},uB=(n,s)=>{const l=s.selection.getRng(),m=n?Nn.fromRangeEnd(l):Nn.fromRangeStart(l);return cB(s)?n&&gn(m)?Y6(!0,s.selection,m):!n&&An(m)?Y6(!1,s.selection,m):!1:!1};var Uh;(function(n){n[n.Br=0]="Br",n[n.Block=1]="Block",n[n.Wrap=2]="Wrap",n[n.Eol=3]="Eol"})(Uh||(Uh={}));const n4=(n,s)=>n===Pi.Backwards?ct(s):s,Rj=(n,s,l)=>n===Pi.Forwards?s.next(l):s.prev(l),Dj=(n,s,l,m)=>aa(m.getNode(s===Pi.Forwards))?Uh.Br:Hd(l,m)===!1?Uh.Block:Uh.Wrap,$j=(n,s,l,m)=>{const O=Ud(l);let P=m;const Z=[];for(;P;){const J=Rj(s,O,P);if(!J)break;if(aa(J.getNode(!1)))return s===Pi.Forwards?{positions:n4(s,Z).concat([J]),breakType:Uh.Br,breakAt:G.some(J)}:{positions:n4(s,Z),breakType:Uh.Br,breakAt:G.some(J)};if(!J.isVisible()){P=J;continue}if(n(P,J)){const he=Dj(l,s,P,J);return{positions:n4(s,Z),breakType:he,breakAt:G.some(J)}}Z.push(J),P=J}return{positions:n4(s,Z),breakType:Uh.Eol,breakAt:G.none()}},Lj=(n,s,l,m)=>s(l,m).breakAt.map(O=>{const P=s(l,O).positions;return n===Pi.Backwards?P.concat(O):[O].concat(P)}).getOr([]),fB=(n,s)=>oe(n,(l,m)=>l.fold(()=>G.some(m),O=>Fa(yt(O.getClientRects()),yt(m.getClientRects()),(P,Z)=>{const J=Math.abs(s-P.left);return Math.abs(s-Z.left)<=J?m:O}).or(l)),G.none()),Ff=(n,s)=>yt(s.getClientRects()).bind(l=>fB(n,l.left)),g3=ee($j,Nn.isAbove,-1),p3=ee($j,Nn.isBelow,1),v1=ee(Lj,-1,g3),X6=ee(Lj,1,p3),dB=(n,s)=>g3(n,s).breakAt.isNone(),v3=(n,s)=>p3(n,s).breakAt.isNone(),Ij=n=>Xc(n).map(s=>[s].concat(p3(n,s).positions)).getOr([]),Nj=n=>ld(n).map(s=>g3(n,s).positions.concat(s)).getOr([]),Bj=(n,s)=>Ff(v1(n,s),s),Qj=(n,s)=>Ff(X6(n,s),s),Fj=Os,hB=(n,s)=>Math.abs(n.left-s),up=(n,s)=>Math.abs(n.right-s),Vj=n=>ut(n,"node"),mB=(n,s)=>dn(n,(l,m)=>{const O=Math.min(hB(l,s),up(l,s)),P=Math.min(hB(m,s),up(m,s));return P===O&&Vj(m)&&Fj(m.node)||P<O?m:l}),zj=n=>{const s=l=>Ie(l,m=>{const O=ov(m);return O.node=n,O});if(Xr(n))return s(n.getClientRects());if(lr(n)){const l=n.ownerDocument.createRange();return l.setStart(n,0),l.setEnd(n,n.data.length),s(l.getClientRects())}else return[]},gB=n=>ze(n,zj);var y3;(function(n){n[n.Up=-1]="Up",n[n.Down=1]="Down"})(y3||(y3={}));const G6=(n,s,l,m)=>{let O=m;for(;O=Q0(O,n,ms,s);)if(l(O))return},r4=(n,s,l,m,O,P)=>{let Z=0;const J=[],he=qe=>{let ot=gB([qe]);n===-1&&(ot=ot.reverse());for(let Et=0;Et<ot.length;Et++){const Vt=ot[Et];if(!l(Vt,_e)){if(J.length>0&&s(Vt,Wt(J))&&Z++,Vt.line=Z,O(Vt))return!0;J.push(Vt)}}return!1},_e=Wt(P.getClientRects());if(!_e)return J;const Ge=P.getNode();return Ge&&(he(Ge),G6(n,m,he,Ge)),J},j6=(n,s)=>s.line>n,pB=(n,s)=>s.line===n,vB=ee(r4,y3.Up,Dg,av),yB=ee(r4,y3.Down,av,Dg),bB=n=>Wt(n.getClientRects()),b3=(n,s,l,m)=>{const O=Ud(s);let P,Z,J,he;const _e=[];let Ge=0;n===1?(P=O.next,Z=av,J=Dg,he=Nn.after(m)):(P=O.prev,Z=Dg,J=av,he=Nn.before(m));const qe=bB(he);do{if(!he.isVisible())continue;const ot=bB(he);if(J(ot,qe))continue;_e.length>0&&Z(ot,Wt(_e))&&Ge++;const Et=ov(ot);if(Et.position=he,Et.line=Ge,l(Et))return _e;_e.push(Et)}while(he=P(he));return _e},O3=n=>s=>j6(n,s),o4=n=>s=>pB(n,s),fp=(n,s)=>{n.selection.setRng(s),Ab(n,n.selection.getRng())},s4=(n,s,l)=>G.some(C2(n,s,l)),q6=(n,s,l,m,O,P)=>{const Z=s===Pi.Forwards,J=Ud(n.getBody()),he=ee(Jk,Z?J.next:J.prev),_e=Z?m:O;if(!l.collapsed){const Vt=uw(l);if(P(Vt))return cp(s,n,Vt,s===Pi.Backwards,!1);if(F6(n)){const kt=l.cloneRange();return kt.collapse(s===Pi.Backwards),G.from(kt)}}const Ge=zg(s,n.getBody(),l);if(_e(Ge))return T2(n,Ge.getNode(!Z));let qe=he(Ge);const ot=yn(l);if(qe)qe=Ds(Z,qe);else return ot?G.some(l):G.none();if(_e(qe))return cp(s,n,qe.getNode(!Z),Z,!1);const Et=he(qe);return Et&&_e(Et)&&eT(qe,Et)?cp(s,n,Et.getNode(!Z),Z,!1):ot?s4(n,qe.toRange(),!1):G.none()},x3=(n,s,l,m,O,P)=>{const Z=zg(s,n.getBody(),l),J=Wt(Z.getClientRects()),he=s===y3.Down,_e=n.getBody();if(!J)return G.none();if(F6(n)){const It=he?Nn.fromRangeEnd(l):Nn.fromRangeStart(l);return(he?Qj:Bj)(_e,It).orThunk(()=>G.from(It)).map(xn=>xn.toRange())}const qe=(he?yB:vB)(_e,O3(1),Z),ot=se(qe,o4(1)),Et=J.left,Vt=mB(ot,Et);if(Vt&&P(Vt.node)){const It=Math.abs(Et-Vt.left),cn=Math.abs(Et-Vt.right);return cp(s,n,Vt.node,It<cn,!1)}let kt;if(m(Z)?kt=Z.getNode():O(Z)?kt=Z.getNode(!0):kt=uw(l),kt){const It=b3(s,_e,O3(1),kt);let cn=mB(se(It,o4(1)),Et);if(cn||(cn=Wt(se(It,o4(0))),cn))return s4(n,cn.position.toRange(),!1)}return ot.length===0?S3(n,he).filter(he?O:m).map(It=>C2(n,It.toRange(),!1)):G.none()},S3=(n,s)=>{const l=n.selection.getRng(),m=s?Nn.fromRangeEnd(l):Nn.fromRangeStart(l),O=qw(m.container(),n.getBody());if(s){const P=p3(O,m);return ft(P.positions)}else{const P=g3(O,m);return yt(P.positions)}},P2=(n,s,l)=>S3(n,s).filter(l).exists(m=>(n.selection.setRng(m.toRange()),!0)),a4=(n,s)=>{const l=n.dom.createRng();l.setStart(s.container(),s.offset()),l.setEnd(s.container(),s.offset()),n.selection.setRng(l)},K6=(n,s)=>{n?s.setAttribute("data-mce-selected","inline-boundary"):s.removeAttribute("data-mce-selected")},OB=(n,s,l)=>U6(s,l).map(m=>(a4(n,m),l)),Zj=(n,s,l)=>{const m=Nn.fromRangeStart(n);if(n.collapsed)return m;{const O=Nn.fromRangeEnd(n);return l?uu(s,O).getOr(O):Rc(s,m).getOr(m)}},xB=(n,s,l)=>{const m=n.getBody(),O=Zj(n.selection.getRng(),m,l),P=ee(Rb,n);return A2(l,P,m,O).bind(J=>OB(n,s,J))},Hj=(n,s,l)=>{const m=Ie(sl(Yt.fromDom(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),Z=>Z.dom),O=se(m,n),P=se(l,n);re(pt(O,P),ee(K6,!1)),re(pt(P,O),ee(K6,!0))},SB=(n,s)=>{const l=s.get();if(n.selection.isCollapsed()&&!n.composing&&l){const m=Nn.fromRangeStart(n.selection.getRng());Nn.isTextPosition(m)&&!aY(m)&&(a4(n,Yk(l,m)),s.set(null))}},Xle=(n,s,l,m)=>{if(s.selection.isCollapsed()){const O=se(m,n);re(O,P=>{const Z=Nn.fromRangeStart(s.selection.getRng());Hh(n,s.getBody(),Z).bind(J=>OB(s,l,J))})}},wB=(n,s,l)=>lv(n)?xB(n,s,l).isSome():!1,TB=(n,s,l)=>lv(s)?uB(n,s):!1,Uj=n=>{const s=ni(null),l=ee(Rb,n);return n.on("NodeChange",m=>{lv(n)&&(Hj(l,n.dom,m.parents),SB(n,s),Xle(l,n,s,m.parents))}),s},Wj=ee(TB,!0),Yj=ee(TB,!1),i4=(n,s,l)=>{if(lv(n)){const m=S3(n,s).getOrThunk(()=>{const O=n.selection.getRng();return s?Nn.fromRangeEnd(O):Nn.fromRangeStart(O)});return Hh(ee(Rb,n),n.getBody(),m).exists(O=>{const P=e4(O);return U6(l,P).exists(Z=>(a4(n,Z),!0))})}else return!1},Xj=(n,s)=>{const l=document.createRange();return l.setStart(n.container(),n.offset()),l.setEnd(s.container(),s.offset()),l},Gj=n=>Fa(Xc(n),ld(n),(s,l)=>{const m=Ds(!0,s),O=Ds(!1,l);return Rc(n,m).forall(P=>P.isEqual(O))}).getOr(!0),J6=(n,s)=>l=>U6(s,l).map(m=>()=>a4(n,m)),CB=(n,s,l,m)=>{const O=n.getBody(),P=ee(Rb,n);n.undoManager.ignore(()=>{n.selection.setRng(Xj(l,m)),$T(n),Hh(P,O,Nn.fromRangeStart(n.selection.getRng())).map(t4).bind(J6(n,s)).each(ge)}),n.nodeChanged()},Zb=(n,s)=>{const l=_m(s,n);return l||n},kB=(n,s,l,m)=>{const O=Zb(n.getBody(),m.container()),P=ee(Rb,n),Z=Hh(P,O,m);return Z.bind(he=>l?he.fold(ae(G.some(t4(he))),G.none,ae(G.some(e4(he))),G.none):he.fold(G.none,ae(G.some(e4(he))),G.none,ae(G.some(t4(he))))).map(J6(n,s)).getOrThunk(()=>{const he=Dm(l,O,m),_e=he.bind(Ge=>Hh(P,O,Ge));return Fa(Z,_e,()=>Ih(P,O,m).bind(Ge=>Gj(Ge)?G.some(()=>{xv(n,l,Yt.fromDom(Ge))}):G.none())).getOrThunk(()=>_e.bind(()=>he.map(Ge=>()=>{l?CB(n,s,m,Ge):CB(n,s,Ge,m)})))})},w3=(n,s,l)=>{if(n.selection.isCollapsed()&&lv(n)){const m=Nn.fromRangeStart(n.selection.getRng());return kB(n,s,l,m)}return G.none()},AB=n=>Pl(n)>1,l4=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=Yt.fromDom(n.selection.getStart()),O=qg(m,l);return Ce(O,s).fold(ae(O),P=>O.slice(0,P))},y1=n=>Pl(n)===1,PB=n=>l4(n,s=>n.schema.isBlock(Vs(s))||AB(s)),rh=n=>l4(n,s=>n.schema.isBlock(Vs(s))),b1=(n,s)=>{const l=ee(ep,n);return ze(s,m=>l(m)?[m.dom]:[])},c4=n=>{const s=rh(n);return b1(n,s)},jj=(n,s,l,m)=>{const O=b1(s,m);if(O.length===0)xv(s,n,l);else{const P=WL(l.dom,O);s.selection.setRng(P.toRange())}},MB=(n,s)=>{const l=se(PB(n),y1);return ft(l).bind(m=>{const O=Nn.fromRangeStart(n.selection.getRng());return WA(s,O,m.dom)&&!pb(m)?G.some(()=>jj(s,n,m,l)):G.none()})},qj=(n,s)=>{const l=s.parentElement;return aa(s)&&!F(l)&&n.dom.isEmpty(l)},Kj=n=>pb(Yt.fromDom(n)),EB=(n,s)=>{const l=n.selection.getStart(),m=qj(n,l)||Kj(l)?WL(l,s):u5(n.selection.getRng(),s);n.selection.setRng(m.toRange())},Jj=(n,s)=>{const l=pt(s,c4(n));l.length>0&&EB(n,l)},_B=n=>lr(n.startContainer),RB=n=>n.startOffset===0&&_B(n),eq=(n,s)=>{const l=s.startContainer.parentElement;return!F(l)&&ep(n,Yt.fromDom(l))},tq=n=>{const s=n.startContainer.parentNode,l=n.endContainer.parentNode;return!F(s)&&!F(l)&&s.isEqualNode(l)},M2=n=>{const s=n.endContainer;return n.endOffset===(lr(s)?s.length:s.childNodes.length)},e7=n=>tq(n)&&M2(n),DB=n=>!n.endContainer.isEqualNode(n.commonAncestorContainer),$B=n=>e7(n)||DB(n),t7=n=>{const s=n.selection.getRng();return RB(s)&&eq(n,s)&&$B(s)},nq=n=>{if(t7(n)){const s=c4(n);return G.some(()=>{$T(n),Jj(n,s)})}else return G.none()},n7=(n,s)=>n.selection.isCollapsed()?MB(n,s):nq(n),rq=(n,s)=>cY(n,l=>sf(l.dom),l=>s.isBlock(Vs(l))),oq=n=>rq(Yt.fromDom(n.selection.getStart()),n.schema),sq=n=>{const s=n.selection.getRng();return s.collapsed&&(_B(s)||n.dom.isEmpty(s.startContainer))&&!oq(n)},T3=n=>(sq(n)&&EB(n,[]),!0),r7=(n,s,l)=>B(l)?G.some(()=>{n._selectionOverrides.hideFakeCaret(),xv(n,s,Yt.fromDom(l))}):G.none(),LB=(n,s)=>{const l=s?MT:Jx,m=s?Pi.Forwards:Pi.Backwards,O=zg(m,n.getBody(),n.selection.getRng());return l(O)?r7(n,s,O.getNode(!s)):G.from(Ds(s,O)).filter(P=>l(P)&&eT(O,P)).bind(P=>r7(n,s,P.getNode(!s)))},aq=(n,s)=>{const l=n.selection.getNode();return ei(l)?r7(n,s,l):G.none()},o7=(n,s)=>n.selection.isCollapsed()?LB(n,s):aq(n,s),vd=n=>wu(n,s=>Zl(s.dom)||Os(s.dom)).exists(s=>Zl(s.dom)),s7=n=>Ft(n??"").getOr(0),u4=(n,s)=>{const l=n||wc(s)?"margin":"padding",m=wi(s,"direction")==="rtl"?"-right":"-left";return l+m},IB=(n,s,l,m,O,P)=>{const Z=u4(l,Yt.fromDom(P)),J=s7(n.getStyle(P,Z));if(s==="outdent"){const he=Math.max(0,J-m);n.setStyle(P,Z,he?he+O:"")}else{const he=J+m+O;n.setStyle(P,Z,he)}},a7=(n,s)=>Xe(s,l=>{const m=u4(vx(n),l),O=Hi(l,m).map(s7).getOr(0);return n.dom.getContentEditable(l.dom)!=="false"&&O>0}),NB=n=>{const s=QB(n);return!n.mode.isReadOnly()&&(s.length>1||a7(n,s))},BB=n=>Tc(n)||td(n),iq=n=>ru(n).exists(BB),QB=n=>se(Wp(n.selection.getSelectedBlocks()),s=>!BB(s)&&!iq(s)&&vd(s)),FB=(n,s)=>{var l,m;const{dom:O}=n,P=Dw(n),Z=(m=(l=/[a-z%]+$/i.exec(P))===null||l===void 0?void 0:l[0])!==null&&m!==void 0?m:"px",J=s7(P),he=vx(n);re(QB(n),_e=>{IB(O,s,he,J,Z,_e.dom)})},VB=n=>FB(n,"indent"),zB=n=>FB(n,"outdent"),ZB=n=>{if(n.selection.isCollapsed()&&NB(n)){const s=n.dom,l=n.selection.getRng(),m=Nn.fromRangeStart(l),O=s.getParent(l.startContainer,s.isBlock);if(O!==null&&E_(Yt.fromDom(O),m,n.schema))return G.some(()=>zB(n))}return G.none()},E2=(n,s,l)=>wt([ZB,Z6,W5,(m,O)=>w3(m,s,O),N6,ZT,H6,o7,U5,n7],m=>m(n,l)).filter(m=>n.selection.isEditable()),Pv=(n,s)=>{E2(n,s,!1).fold(()=>{n.selection.isEditable()&&($T(n),UA(n))},ge)},Hb=(n,s)=>{E2(n,s,!0).fold(()=>{n.selection.isEditable()&&iY(n)},ge)},f4=(n,s)=>{n.addCommand("delete",()=>{Pv(n,s)}),n.addCommand("forwardDelete",()=>{Hb(n,s)})},d4=5,i7=400,l7=n=>n.touches===void 0||n.touches.length!==1?G.none():G.some(n.touches[0]),lq=(n,s)=>{const l=Math.abs(n.clientX-s.x),m=Math.abs(n.clientY-s.y);return l>d4||m>d4},HB=n=>{const s=_g(),l=ni(!1),m=rx(O=>{n.dispatch("longpress",{...O,type:"longpress"}),l.set(!0)},i7);n.on("touchstart",O=>{l7(O).each(P=>{m.cancel();const Z={x:P.clientX,y:P.clientY,target:O.target};m.throttle(O),l.set(!1),s.set(Z)})},!0),n.on("touchmove",O=>{m.cancel(),l7(O).each(P=>{s.on(Z=>{lq(P,Z)&&(s.clear(),l.set(!1),n.dispatch("longpresscancel"))})})},!0),n.on("touchend touchcancel",O=>{m.cancel(),O.type!=="touchcancel"&&s.get().filter(P=>P.target.isEqualNode(O.target)).each(()=>{l.get()?O.preventDefault():n.dispatch("tap",{...O,type:"tap"})})},!0)},h4=(n,s)=>it(n,s.nodeName),cq=(n,s)=>lr(s)?!0:Xr(s)?!h4(n.getBlockElements(),s)&&!af(s)&&!ks(n,s)&&!Nd(s):!1,uq=(n,s,l)=>De(P_(Yt.fromDom(l),Yt.fromDom(s)),m=>h4(n,m.dom)),fq=(n,s)=>{if(lr(s)){if(s.data.length===0)return!0;if(/^\s+$/.test(s.data))return!s.nextSibling||h4(n,s.nextSibling)||Nd(s.nextSibling)}return!1},UB=n=>n.dom.create(Ec(n),Yy(n)),dq=n=>{const s=n.dom,l=n.selection,m=n.schema,O=m.getBlockElements(),P=l.getStart(),Z=n.getBody();let J,he,_e=!1;const Ge=Ec(n);if(!P||!Xr(P))return;const qe=Z.nodeName.toLowerCase();if(!m.isValidChild(qe,Ge.toLowerCase())||uq(O,Z,P))return;const ot=l.getRng(),{startContainer:Et,startOffset:Vt,endContainer:kt,endOffset:It}=ot,cn=o1(n);let xn=Z.firstChild;for(;xn;)if(Xr(xn)&&zO(m,xn),cq(m,xn)){if(fq(O,xn)){he=xn,xn=xn.nextSibling,s.remove(he);continue}J||(J=UB(n),Z.insertBefore(J,xn),_e=!0),he=xn,xn=xn.nextSibling,J.appendChild(he)}else J=null,xn=xn.nextSibling;_e&&cn&&(ot.setStart(Et,Vt),ot.setEnd(kt,It),l.setRng(ot),n.nodeChanged())},WB=(n,s,l)=>{const m=Yt.fromDom(UB(n)),O=Cc();Ci(m,O),l(s,m);const P=document.createRange();return P.setStartBefore(O.dom),P.setEndBefore(O.dom),P},YB=n=>{n.on("NodeChange",ee(dq,n))},c7=n=>s=>(" "+s.attr("class")+" ").indexOf(n)!==-1,Gle=(n,s,l)=>function(m){const O=arguments,P=O[O.length-2],Z=P>0?s.charAt(P-1):"";if(Z==='"')return m;if(Z===">"){const J=s.lastIndexOf("<",P);if(J!==-1&&s.substring(J,P).indexOf('contenteditable="false"')!==-1)return m}return'<span class="'+l+'" data-mce-content="'+n.dom.encode(O[0])+'">'+n.dom.encode(typeof O[1]=="string"?O[1]:O[0])+"</span>"},jle=(n,s,l)=>{let m=s.length,O=l.content;if(l.format!=="raw"){for(;m--;)O=O.replace(s[m],Gle(n,O,zw(n)));l.content=O}},qle=n=>{const s="contenteditable",l=" "+fr.trim(zk(n))+" ",m=" "+fr.trim(zw(n))+" ",O=c7(l),P=c7(m),Z=kE(n);Z.length>0&&n.on("BeforeSetContent",J=>{jle(n,Z,J)}),n.parser.addAttributeFilter("class",J=>{let he=J.length;for(;he--;){const _e=J[he];O(_e)?_e.attr(s,"true"):P(_e)&&_e.attr(s,"false")}}),n.serializer.addAttributeFilter(s,J=>{let he=J.length;for(;he--;){const _e=J[he];!O(_e)&&!P(_e)||(Z.length>0&&_e.attr("data-mce-content")?(_e.name="#text",_e.type=3,_e.raw=!0,_e.value=_e.attr("data-mce-content")):_e.attr(s,null))}})},hq=n=>Sc(Yt.fromDom(n.getBody()),"*[data-mce-caret]").map(s=>s.dom).getOrNull(),mq=(n,s)=>{s.hasAttribute("data-mce-caret")&&(Pn(s),n.selection.setRng(n.selection.getRng()),n.selection.scrollIntoView(s))},Kle=(n,s)=>{const l=hq(n);if(l){if(s.type==="compositionstart"){s.preventDefault(),s.stopPropagation(),mq(n,l);return}Zt(l)&&(mq(n,l),n.undoManager.add())}},gq=n=>{n.on("keyup compositionstart",ee(Kle,n))},XB=Os,Jle=(n,s,l)=>q6(s,n,l,bv,Vm,XB),pq=(n,s,l)=>x3(s,n,l,P=>bv(P)||V9(P),P=>Vm(P)||as(P),XB),Vf=n=>{const s=n.dom.create(Ec(n));return s.innerHTML='<br data-mce-bogus="1">',s},u7=(n,s,l)=>{const m=Ud(n.getBody()),O=ee(Jk,s===1?m.next:m.prev);if(l.collapsed){const P=n.dom.getParent(l.startContainer,"PRE");if(!P)return;if(!O(Nn.fromRangeStart(l))){const J=Yt.fromDom(Vf(n));s===1?Yu(Yt.fromDom(P),J):Ui(Yt.fromDom(P),J),n.selection.select(J.dom,!0),n.selection.collapse()}}},C3=(n,s)=>{const l=s?Pi.Forwards:Pi.Backwards,m=n.selection.getRng();return Jle(l,n,m).orThunk(()=>(u7(n,l,m),G.none()))},vq=(n,s)=>{const l=s?1:-1,m=n.selection.getRng();return pq(l,n,m).orThunk(()=>(u7(n,l,m),G.none()))},GB=(n,s)=>{const l=s?n.getEnd(!0):n.getStart(!0);return sL(l)?!s:s},f7=(n,s)=>C3(n,GB(n.selection,s)).exists(l=>(fp(n,l),!0)),m4=(n,s)=>vq(n,s).exists(l=>(fp(n,l),!0)),jB=(n,s)=>P2(n,s,s?Vm:bv),g4=(n,s)=>Q6(n,!s).map(l=>{const m=l.toRange(),O=n.selection.getRng();return s?m.setStart(O.startContainer,O.startOffset):m.setEnd(O.endContainer,O.endOffset),m}).exists(l=>(fp(n,l),!0)),qB=n=>Ze(["figcaption"],Vs(n)),yq=(n,s,l)=>{const m=ee(Gs,s);return wu(Yt.fromDom(n.container()),O=>l.isBlock(Vs(O)),m).filter(qB)},bq=(n,s,l)=>s?v3(n.dom,l):dB(n.dom,l),Oq=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=Nn.fromRangeStart(n.selection.getRng());return yq(m,l,n.schema).exists(()=>{if(bq(l,s,m)){const P=WB(n,l,s?Ci:mm);return n.selection.setRng(P),!0}else return!1})},p4=(n,s)=>n.selection.isCollapsed()?Oq(n,s):!1,xq=(n,s,l)=>{const m=n.selection.getRng(),O=Nn.fromRangeStart(m);return n.getBody().firstChild===s&&dB(l,O)?(n.execCommand("InsertNewBlockBefore"),!0):!1},Sq=(n,s)=>{const l=n.selection.getRng(),m=Nn.fromRangeStart(l);return n.getBody().lastChild===s&&v3(s,m)?(n.execCommand("InsertNewBlockAfter"),!0):!1},ece=(n,s)=>s?G.from(n.dom.getParent(n.selection.getNode(),"details")).map(l=>Sq(n,l)).getOr(!1):G.from(n.dom.getParent(n.selection.getNode(),"summary")).bind(l=>G.from(n.dom.getParent(l,"details")).map(m=>xq(n,m,l))).getOr(!1),KB=(n,s)=>ece(n,s),d7={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},tce=n=>Ie(n,s=>({...d7,...s})),wq=n=>Ie(n,s=>({...d7,...s})),JB=(n,s)=>s.keyCode===n.keyCode&&s.shiftKey===n.shiftKey&&s.altKey===n.altKey&&s.ctrlKey===n.ctrlKey&&s.metaKey===n.metaKey,Tq=(n,s)=>ze(tce(n),l=>JB(l,s)?[l]:[]),h7=(n,s)=>ze(wq(n),l=>JB(l,s)?[l]:[]),Ro=(n,...s)=>()=>n.apply(null,s),_2=(n,s)=>le(Tq(n,s),l=>l.action()),m7=(n,s)=>wt(h7(n,s),l=>l.action()),eQ=(n,s)=>{const l=s?Pi.Forwards:Pi.Backwards,m=n.selection.getRng();return q6(n,l,m,MT,Jx,ei).exists(O=>(fp(n,O),!0))},tQ=(n,s)=>{const l=s?1:-1,m=n.selection.getRng();return x3(n,l,m,MT,Jx,ei).exists(O=>(fp(n,O),!0))},v4=(n,s)=>P2(n,s,s?Jx:MT),nQ=Zd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),k3={...nQ,none:n=>nQ.none(n)},Cq=(n,s)=>oh(n,s,pe),oh=(n,s,l)=>ze(ol(n),m=>Hu(m,s)?l(m)?[m]:[]:oh(m,s,l)),rQ=(n,s,l=ne)=>{if(l(s))return G.none();if(Ze(n,Vs(s)))return G.some(s);const m=O=>Hu(O,"table")||l(O);return Og(s,n.join(","),m)},oQ=(n,s)=>rQ(["td","th"],n,s),rce=n=>Cq(n,"th,td"),kq=(n,s)=>Mf(n,"table",s),sQ=(n,s,l,m,O=pe)=>{const P=m===1;if(!P&&l<=0)return k3.first(n[0]);if(P&&l>=n.length-1)return k3.last(n[n.length-1]);{const Z=l+m,J=n[Z];return O(J)?k3.middle(s,J):sQ(n,s,Z,m,O)}},Aq=(n,s)=>kq(n,s).bind(l=>{const m=rce(l);return Ce(m,P=>Gs(n,P)).map(P=>({index:P,all:m}))}),Pq=(n,s,l)=>Aq(n,l).fold(()=>k3.none(n),O=>sQ(O.all,n,O.index,1,s)),y4=(n,s,l)=>Aq(n,l).fold(()=>k3.none(),O=>sQ(O.all,n,O.index,-1,s)),Mq=(n,s)=>({left:n.left-s,top:n.top-s,right:n.right+s*2,bottom:n.bottom+s*2,width:n.width+s,height:n.height+s}),g7=(n,s)=>ze(s,l=>{const m=Mq(ov(l.getBoundingClientRect()),-1);return[{x:m.left,y:n(m),cell:l},{x:m.right,y:n(m),cell:l}]}),aQ=(n,s,l)=>oe(n,(m,O)=>m.fold(()=>G.some(O),P=>{const Z=Math.sqrt(Math.abs(P.x-s)+Math.abs(P.y-l)),J=Math.sqrt(Math.abs(O.x-s)+Math.abs(O.y-l));return G.some(J<Z?O:P)}),G.none()),p7=(n,s,l,m,O)=>{const P=sl(Yt.fromDom(l),"td,th,caption").map(J=>J.dom),Z=se(g7(n,P),J=>s(J,O));return aQ(Z,m,O).map(J=>J.cell)},iQ=n=>n.bottom,Eq=n=>n.top,_q=(n,s)=>n.y<s,Rq=(n,s)=>n.y>s,Dq=ee(p7,iQ,_q),b4=ee(p7,Eq,Rq),$q=(n,s)=>yt(s.getClientRects()).bind(l=>Dq(n,l.left,l.top)).bind(l=>Ff(Nj(l),s)),Lq=(n,s)=>ft(s.getClientRects()).bind(l=>b4(n,l.left,l.top)).bind(l=>Ff(Ij(l),s)),Iq=(n,s,l)=>l.breakAt.exists(m=>n(s,m).breakAt.isSome()),v7=n=>n.breakType===Uh.Wrap&&n.positions.length===0,Nq=n=>n.breakType===Uh.Br&&n.positions.length===1,lQ=(n,s,l)=>{const m=n(s,l);return v7(m)||!aa(l.getNode())&&Nq(m)?!Iq(n,s,m):m.breakAt.isNone()},cQ=ee(lQ,g3),Bq=ee(lQ,p3),Qq=(n,s,l)=>{const m=Nn.fromRangeStart(s);return U0(!n,l).exists(O=>O.isEqual(m))},Fq=(n,s,l,m)=>{const O=n.selection.getRng(),P=s?1:-1;return tb()&&Qq(s,O,l)?(cp(P,n,l,!s,!1).each(Z=>{fp(n,Z)}),!0):!1},Vq=(n,s,l)=>$q(s,l).orThunk(()=>yt(l.getClientRects()).bind(m=>fB(v1(n,Nn.before(s)),m.left))).getOr(Nn.before(s)),zq=(n,s,l)=>Lq(s,l).orThunk(()=>yt(l.getClientRects()).bind(m=>fB(X6(n,Nn.after(s)),m.left))).getOr(Nn.after(s)),uQ=(n,s)=>{const l=s.getNode(n);return ju(l)?G.some(l):G.none()},y7=(n,s,l)=>{s.undoManager.transact(()=>{const m=n?Yu:Ui,O=WB(s,Yt.fromDom(l),m);fp(s,O)})},fQ=(n,s,l)=>{const m=uQ(!!s,l),O=s===!1;m.fold(()=>fp(n,l.toRange()),P=>U0(O,n.getBody()).filter(Z=>Z.isEqual(l)).fold(()=>fp(n,l.toRange()),Z=>y7(s,n,P)))},dQ=(n,s,l,m)=>{const O=n.selection.getRng(),P=Nn.fromRangeStart(O),Z=n.getBody();if(!s&&cQ(m,P)){const J=Vq(Z,l,P);return fQ(n,s,J),!0}else if(s&&Bq(m,P)){const J=zq(Z,l,P);return fQ(n,s,J),!0}else return!1},hQ=(n,s,l)=>G.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(m=>G.from(n.dom.getParent(m,"table")).map(O=>l(n,s,O,m))).getOr(!1),mQ=(n,s)=>hQ(n,s,Fq),b7=(n,s)=>hQ(n,s,dQ),Zq=n=>{const s=Fm.exact(n,0,n,0);return g_(s)},gQ=(n,s,l)=>l.fold(G.none,G.none,(m,O)=>gW(O).map(P=>Zq(P)),m=>(n.execCommand("mceTableInsertRowAfter"),pQ(n,s,m))),pQ=(n,s,l)=>gQ(n,s,Pq(l,jo)),Ol=(n,s,l)=>gQ(n,s,y4(l,jo)),vQ=(n,s)=>{const l=["table","li","dl"],m=Yt.fromDom(n.getBody()),O=J=>{const he=Vs(J);return Gs(J,m)||Ze(l,he)},P=n.selection.getRng(),Z=Yt.fromDom(s?P.endContainer:P.startContainer);return oQ(Z,O).map(J=>(kq(J,O).each(Ge=>{n.model.table.clearSelectedCells(Ge.dom)}),n.selection.collapse(!s),(s?pQ:Ol)(n,O,J).each(Ge=>{n.selection.setRng(Ge)}),!0)).getOr(!1)},Hq=(n,s,l)=>{const m=Dr.os.isMacOS()||Dr.os.isiOS();_2([{keyCode:Wr.RIGHT,action:Ro(f7,n,!0)},{keyCode:Wr.LEFT,action:Ro(f7,n,!1)},{keyCode:Wr.UP,action:Ro(m4,n,!1)},{keyCode:Wr.DOWN,action:Ro(m4,n,!0)},...m?[{keyCode:Wr.UP,action:Ro(g4,n,!1),metaKey:!0,shiftKey:!0},{keyCode:Wr.DOWN,action:Ro(g4,n,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Wr.RIGHT,action:Ro(mQ,n,!0)},{keyCode:Wr.LEFT,action:Ro(mQ,n,!1)},{keyCode:Wr.UP,action:Ro(b7,n,!1)},{keyCode:Wr.DOWN,action:Ro(b7,n,!0)},{keyCode:Wr.UP,action:Ro(b7,n,!1)},{keyCode:Wr.UP,action:Ro(KB,n,!1)},{keyCode:Wr.DOWN,action:Ro(KB,n,!0)},{keyCode:Wr.RIGHT,action:Ro(eQ,n,!0)},{keyCode:Wr.LEFT,action:Ro(eQ,n,!1)},{keyCode:Wr.UP,action:Ro(tQ,n,!1)},{keyCode:Wr.DOWN,action:Ro(tQ,n,!0)},{keyCode:Wr.RIGHT,action:Ro(wB,n,s,!0)},{keyCode:Wr.LEFT,action:Ro(wB,n,s,!1)},{keyCode:Wr.RIGHT,ctrlKey:!m,altKey:m,action:Ro(Wj,n,s)},{keyCode:Wr.LEFT,ctrlKey:!m,altKey:m,action:Ro(Yj,n,s)},{keyCode:Wr.UP,action:Ro(p4,n,!1)},{keyCode:Wr.DOWN,action:Ro(p4,n,!0)}],l).each(O=>{l.preventDefault()})},Uq=(n,s)=>{n.on("keydown",l=>{l.isDefaultPrevented()||Hq(n,s,l)})},Wh=(n,s)=>({container:n,offset:s}),R2=Da.DOM,A3=n=>s=>n===s?-1:0,O1=n=>s=>n.isBlock(s)||Ze(["BR","IMG","HR","INPUT"],s.nodeName)||n.getContentEditable(s)==="false",P3=(n,s,l)=>{if(lr(n)&&s>=0)return G.some(Wh(n,s));{const m=Rg(R2);return G.from(m.backwards(n,s,A3(n),l)).map(O=>Wh(O.container,O.container.data.length))}},yQ=(n,s,l)=>{if(lr(n)&&s>=n.length)return G.some(Wh(n,s));{const m=Rg(R2);return G.from(m.forwards(n,s,A3(n),l)).map(O=>Wh(O.container,0))}},M3=(n,s,l)=>{if(!lr(n))return G.none();const m=n.data;if(s>=0&&s<=m.length)return G.some(Wh(n,s));{const O=Rg(R2);return G.from(O.backwards(n,s,A3(n),l)).bind(P=>{const Z=P.container.data;return M3(P.container,s+Z.length,l)})}},O4=(n,s,l)=>{if(!lr(n))return G.none();const m=n.data;if(s<=m.length)return G.some(Wh(n,s));{const O=Rg(R2);return G.from(O.forwards(n,s,A3(n),l)).bind(P=>O4(P.container,s-m.length,l))}},E3=(n,s,l,m,O)=>{const P=Rg(n,O1(n));return G.from(P.backwards(s,l,m,O))},bQ=n=>n.collapsed&&lr(n.startContainer),_3=n=>Pe(n.toString().replace(/\u00A0/g," ")),R3=n=>n!==""&&`  \f
\r	\v`.indexOf(n)!==-1,Ub=(n,s)=>n.substring(s.length),D3=(n,s,l)=>{let m;const O=l.charAt(0);for(m=s-1;m>=0;m--){const P=n.charAt(m);if(R3(P))return G.none();if(O===P&&sr(n,l,m,s))break}return G.some(m)},Yh=(n,s,l,m=0)=>{if(!bQ(s))return G.none();const O={text:"",offset:0},P=(J,he,_e)=>(O.text=_e+O.text,O.offset+=he,D3(O.text,O.offset,l).getOr(he)),Z=n.getParent(s.startContainer,n.isBlock)||n.getRoot();return E3(n,s.startContainer,s.startOffset,P,Z).bind(J=>{const he=s.cloneRange();if(he.setStart(J.container,J.offset),he.setEnd(s.endContainer,s.endOffset),he.collapsed)return G.none();const _e=_3(he);return _e.lastIndexOf(l)!==0||Ub(_e,l).length<m?G.none():G.some({text:Ub(_e,l),range:he,trigger:l})})},D2=(n,s,l,m=0)=>bW(Yt.fromDom(s.startContainer)).fold(()=>Yh(n,s,l,m),O=>{const P=n.createRng();P.selectNode(O.dom);const Z=_3(P);return G.some({range:P,text:Ub(Z,l),trigger:l})}),OQ=n=>n.nodeType===lm,xQ=n=>n.nodeType===mh,SQ=n=>{if(OQ(n))return Wh(n,n.data.length);{const s=n.childNodes;return s.length>0?SQ(s[s.length-1]):Wh(n,s.length)}},O7=(n,s)=>{const l=n.childNodes;return l.length>0&&s<l.length?O7(l[s],0):l.length>0&&xQ(n)&&l.length===s?SQ(l[l.length-1]):Wh(n,s)},Wq=(n,s)=>{var l;const m=(l=n.getParent(s.container,n.isBlock))!==null&&l!==void 0?l:n.getRoot();return E3(n,s.container,s.offset,(O,P)=>P===0?-1:P,m).filter(O=>{const P=O.container.data.charAt(O.offset-1);return!R3(P)}).isSome()},Yq=n=>s=>{const l=O7(s.startContainer,s.startOffset);return!Wq(n,l)},$3=(n,s,l)=>wt(l.triggers,m=>D2(n,s,m)),Xq=(n,s)=>{const l=s(),m=n.selection.getRng();return $3(n.dom,m,l).bind(O=>wQ(n,s,O))},wQ=(n,s,l,m={})=>{var O;const P=s(),J=(O=n.selection.getRng().startContainer.nodeValue)!==null&&O!==void 0?O:"",he=se(P.lookupByTrigger(l.trigger),Ge=>l.text.length>=Ge.minChars&&Ge.matches.getOrThunk(()=>Yq(n.dom))(l.range,J,l.text));if(he.length===0)return G.none();const _e=Promise.all(Ie(he,Ge=>Ge.fetch(l.text,Ge.maxResults,m).then(ot=>({matchText:l.text,items:ot,columns:Ge.columns,onAction:Ge.onAction,highlightOn:Ge.highlightOn}))));return G.some({lookupData:_e,context:l})};var Wm;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Wm||(Wm={}));const x7=(n,s,l)=>n.stype===Wm.Error?s(n.serror):l(n.svalue),Gq=n=>{const s=[],l=[];return re(n,m=>{x7(m,O=>l.push(O),O=>s.push(O))}),{values:s,errors:l}},jq=(n,s)=>n.stype===Wm.Error?{stype:Wm.Error,serror:s(n.serror)}:n,qq=(n,s)=>n.stype===Wm.Value?{stype:Wm.Value,svalue:s(n.svalue)}:n,Kq=(n,s)=>n.stype===Wm.Value?s(n.svalue):n,Jq=(n,s)=>n.stype===Wm.Error?s(n.serror):n,TQ=n=>({stype:Wm.Value,svalue:n}),CQ=n=>({stype:Wm.Error,serror:n}),Lc={fromResult:n=>n.fold(CQ,TQ),toResult:n=>x7(n,iu.error,iu.value),svalue:TQ,partition:Gq,serror:CQ,bind:Kq,bindError:Jq,map:qq,mapError:jq,fold:x7},x4=n=>I(n)&&Gt(n).length>100?" removed due to size":JSON.stringify(n,null,2),kQ=n=>{const s=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:ae("... (only showing first ten failures)")}]):n;return Ie(s,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())},L3=(n,s)=>Lc.serror([{path:n,getErrorInfo:s}]),eK=(n,s,l)=>L3(n,()=>'Could not find valid *required* value for "'+s+'" in '+x4(l)),tK=(n,s)=>L3(n,()=>'Choice schema did not contain choice key: "'+s+'"'),nK=(n,s,l)=>L3(n,()=>'The chosen schema: "'+l+'" did not exist in branches: '+x4(s)),rK=(n,s)=>L3(n,ae(s)),AQ=(n,s,l,m)=>Sn(l,m).fold(()=>nK(n,l,m),P=>P.extract(n.concat(["branch: "+m]),s)),oK=(n,s)=>({extract:(O,P)=>Sn(P,n).fold(()=>tK(O,n),J=>AQ(O,P,s,J)),toString:()=>"chooseOn("+n+"). Possible values: "+Gt(s)}),PQ=(n,s)=>s,sK=(n,s)=>V(n)&&V(s)?I3(n,s):s,S7=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const l={};for(let m=0;m<s.length;m++){const O=s[m];for(const P in O)it(O,P)&&(l[P]=n(l[P],O[P]))}return l},I3=S7(sK),aK=S7(PQ),MQ=()=>({tag:"required",process:{}}),iK=n=>({tag:"defaultedThunk",process:n}),w7=n=>iK(ae(n)),lK=()=>({tag:"option",process:{}}),cK=(n,s)=>n.length>0?Lc.svalue(I3(s,aK.apply(void 0,n))):Lc.svalue(s),T7=n=>L(Lc.serror,Qe)(n),EQ={consolidateObj:(n,s)=>{const l=Lc.partition(n);return l.errors.length>0?T7(l.errors):cK(l.values,s)},consolidateArr:n=>{const s=Lc.partition(n);return s.errors.length>0?T7(s.errors):Lc.svalue(s.values)}},uK=(n,s,l,m)=>({tag:"field",key:n,newKey:s,presence:l,prop:m}),fK=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),_Q=(n,s,l)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return l(n.newKey,n.instantiator)}},S4=n=>{const s=(m,O)=>Lc.bindError(n(O),P=>rK(m,P)),l=ae("val");return{extract:s,toString:l}},RQ=S4(Lc.svalue),dK=(n,s,l,m)=>Sn(s,l).fold(()=>eK(n,l,s),m),DQ=(n,s,l,m)=>{const O=Sn(n,s).getOrThunk(()=>l(n));return m(O)},hK=(n,s,l)=>l(Sn(n,s)),mK=(n,s,l,m)=>{const O=Sn(n,s).map(P=>P===!0?l(n):P);return m(O)},gK=(n,s,l,m,O)=>{const P=J=>O.extract(s.concat([m]),J),Z=J=>J.fold(()=>Lc.svalue(G.none()),he=>{const _e=O.extract(s.concat([m]),he);return Lc.map(_e,G.some)});switch(n.tag){case"required":return dK(s,l,m,P);case"defaultedThunk":return DQ(l,m,n.process,P);case"option":return hK(l,m,Z);case"defaultedOptionThunk":return mK(l,m,n.process,Z);case"mergeWithThunk":return DQ(l,m,ae({}),J=>{const he=I3(n.process(l),J);return P(he)})}},pK=(n,s,l)=>{const m={},O=[];for(const P of l)_Q(P,(Z,J,he,_e)=>{const Ge=gK(he,n,s,Z,_e);Lc.fold(Ge,qe=>{O.push(...qe)},qe=>{m[J]=qe})},(Z,J)=>{m[Z]=J(s)});return O.length>0?Lc.serror(O):Lc.svalue(m)},C7=n=>({extract:(m,O)=>pK(m,O,n),toString:()=>`obj{
`+Ie(n,O=>_Q(O,(P,Z,J,he)=>P+" -> "+he.toString(),(P,Z)=>"state("+P+")")).join(`
`)+"}"}),$Q=n=>({extract:(m,O)=>{const P=Ie(O,(Z,J)=>n.extract(m.concat(["["+J+"]"]),Z));return EQ.consolidateArr(P)},toString:()=>"array("+n.toString()+")"}),lce=n=>S4(s=>n(s).fold(Lc.serror,Lc.svalue)),vK=(n,s,l)=>{const m=s.extract([n],l);return Lc.mapError(m,O=>({input:l,errors:O}))},w4=(n,s,l)=>Lc.toResult(vK(n,s,l)),LQ=n=>`Errors: 
`+kQ(n.errors).join(`
`)+`

Input object: `+x4(n.input),k7=(n,s)=>oK(n,vn(s,C7)),yK=ae(RQ),N3=(n,s)=>S4(l=>{const m=typeof l;return n(l)?Lc.svalue(l):Lc.serror(`Expected type: ${s} but got: ${m}`)}),IQ=N3(W,"number"),T4=N3(M,"string"),bK=N3(z,"boolean"),A7=N3(E,"function"),$2=uK,NQ=fK,P7=n=>lce(s=>Ze(n,s)?iu.value(s):iu.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),BQ=(n,s)=>$2(n,n,MQ(),s),QQ=n=>BQ(n,T4),FQ=n=>BQ(n,A7),VQ=(n,s)=>$2(n,n,MQ(),$Q(s)),M7=(n,s)=>$2(n,n,lK(),s),C4=n=>M7(n,T4),OK=n=>M7(n,A7),xK=(n,s)=>$2(n,n,w7(s),yK()),L2=(n,s,l)=>$2(n,n,w7(s),l),xl=(n,s)=>L2(n,s,IQ),dp=(n,s)=>L2(n,s,T4),zQ=(n,s,l)=>L2(n,s,P7(l)),ZQ=(n,s)=>L2(n,s,bK),E7=(n,s)=>L2(n,s,A7),SK=(n,s,l)=>L2(n,s,$Q(l)),wK=QQ("type"),TK=FQ("fetch"),k4=FQ("onAction"),I2=E7("onSetup",()=>ie),cce=C4("text"),CK=C4("icon"),kK=C4("tooltip"),Ym=C4("label"),AK=ZQ("active",!1),PK=ZQ("enabled",!0),_7=ZQ("primary",!1),MK=n=>xK("columns",n),Wb=n=>dp("type",n),HQ=C7([wK,QQ("trigger"),xl("minChars",1),MK(1),xl("maxResults",10),OK("matches"),TK,k4,SK("highlightOn",[],T4)]),EK=n=>w4("Autocompleter",HQ,{trigger:n.ch,...n}),R7=[PK,kK,CK,cce,I2],UQ=[AK].concat(R7),WQ=[E7("predicate",ne),zQ("scope","node",["node","editor"]),zQ("position","selection",["node","selection","line"])],YQ=R7.concat([Wb("contextformbutton"),_7,k4,NQ("original",q)]),D7=UQ.concat([Wb("contextformbutton"),_7,k4,NQ("original",q)]),$7=R7.concat([Wb("contextformbutton")]),L7=UQ.concat([Wb("contextformtogglebutton")]),_K=k7("type",{contextformbutton:YQ,contextformtogglebutton:D7});C7([Wb("contextform"),E7("initValue",ae("")),Ym,VQ("commands",_K),M7("launch",k7("type",{contextformbutton:$7,contextformtogglebutton:L7}))].concat(WQ));const RK=n=>{const s=n.ui.registry.getAll().popups,l=vn(s,Z=>EK(Z).fold(J=>{throw new Error(LQ(J))},q)),m=gt(Xn(l,Z=>Z.trigger)),O=Un(l);return{dataset:l,triggers:m,lookupByTrigger:Z=>se(O,J=>J.trigger===Z)}},DK=(n,s)=>{const l=rx(s.load,50);n.on("keypress compositionend",m=>{m.which!==27&&l.throttle()}),n.on("keydown",m=>{const O=m.which;O===8?l.throttle():O===27&&s.cancelIfNecessary()}),n.on("remove",l.cancel)},$K=n=>{const s=_g(),l=ni(!1),m=s.isSet,O=()=>{m()&&(aG(n),OT(n),l.set(!1),s.clear())},P=_e=>{m()||(sG(n,_e.range),s.set({trigger:_e.trigger,matchLength:_e.text.length}))},Z=Rt(()=>RK(n)),J=_e=>s.get().map(Ge=>D2(n.dom,n.selection.getRng(),Ge.trigger).bind(qe=>wQ(n,Z,qe,_e))).getOrThunk(()=>Xq(n,Z)),he=_e=>{J(_e).fold(O,Ge=>{P(Ge.context),Ge.lookupData.then(qe=>{s.get().map(ot=>{const Et=Ge.context;ot.trigger===Et.trigger&&(Et.text.length-ot.matchLength>=10?O():(s.set({...ot,matchLength:Et.text.length}),l.get()?bA(n,{lookupData:qe}):(l.set(!0),bT(n,{lookupData:qe}))))})})})};n.addCommand("mceAutocompleterReload",(_e,Ge)=>{const qe=I(Ge)?Ge.fetchOptions:{};he(qe)}),n.addCommand("mceAutocompleterClose",O),DK(n,{cancelIfNecessary:O,load:he})},GQ=ii().browser.isSafari(),jQ=n=>D(Yt.fromDom(n)),I7=(n,s)=>{var l;return n.startOffset===0&&n.endOffset===((l=s.textContent)===null||l===void 0?void 0:l.length)},A4=(n,s)=>G.from(n.getParent(s.container(),"details")),P4=(n,s)=>A4(n,s).isSome(),LK=(n,s)=>{const l=G.from(n.getParent(s.startContainer,"details")),m=G.from(n.getParent(s.endContainer,"details"));if(l.isSome()||m.isSome()){const O=l.bind(P=>G.from(n.select("summary",P)[0]));return G.some({startSummary:O,startDetails:l,endDetails:m})}else return G.none()},IK=(n,s)=>Xc(s).exists(l=>l.isEqual(n)),NK=(n,s)=>ld(s).exists(l=>aa(l.getNode())&&uu(s,l).exists(m=>m.isEqual(n))||l.isEqual(n)),BK=(n,s)=>s.startSummary.exists(l=>IK(n,l)),QK=(n,s)=>s.startSummary.exists(l=>NK(n,l)),qQ=(n,s)=>s.startDetails.exists(l=>uu(l,n).forall(m=>s.startSummary.exists(O=>!O.contains(n.container())&&O.contains(m.container())))),N7=(n,s,l)=>l.startDetails.exists(m=>Rc(n,s).forall(O=>!m.contains(O.container()))),B7=(n,s)=>{const l=s.getNode();U(l)||n.selection.setCursorLocation(l,s.offset())},Q7=(n,s,l)=>{const m=n.dom.getParent(s.container(),"details");if(m&&!m.open){const O=n.dom.select("summary",m)[0];O&&(l?Xc(O):ld(O)).each(Z=>B7(n,Z))}else B7(n,s)},FK=(n,s)=>{const l=he=>he.contains(n.startContainer),m=he=>he.contains(n.endContainer),O=s.startSummary.exists(l),P=s.startSummary.exists(m),Z=s.startDetails.forall(he=>s.endDetails.forall(_e=>he!==_e));return(O||P)&&!(O&&P)||Z},KQ=(n,s,l)=>{const{dom:m,selection:O}=n,P=n.getBody();if(l==="character"){const Z=Nn.fromRangeStart(O.getRng()),J=m.getParent(Z.container(),m.isBlock),he=A4(m,Z),_e=J&&m.isEmpty(J),Ge=F(J==null?void 0:J.previousSibling),qe=F(J==null?void 0:J.nextSibling);return _e&&(s?qe:Ge)&&Dm(!s,P,Z).exists(Vt=>P4(m,Vt)&&!xi(he,A4(m,Vt)))?!0:Dm(s,P,Z).fold(ne,ot=>{const Et=A4(m,ot);if(P4(m,ot)&&!xi(he,Et)){if(s||Q7(n,ot,!1),J&&_e){if(s&&Ge)return!0;if(!s&&qe)return!0;Q7(n,ot,s),n.dom.remove(J)}return!0}else return!1})}else return!1},VK=(n,s,l,m)=>{const P=n.selection.getRng(),Z=Nn.fromRangeStart(P),J=n.getBody();return m==="selection"?FK(P,s):l?QK(Z,s)||N7(J,Z,s):BK(Z,s)||qQ(Z,s)},M4=(n,s,l)=>LK(n.dom,n.selection.getRng()).fold(()=>KQ(n,s,l),m=>VK(n,m,s,l)||KQ(n,s,l)),JQ=(n,s,l)=>{const m=n.selection,O=m.getNode(),P=m.getRng(),Z=Nn.fromRangeStart(P);return Zc(O)?(l==="selection"&&I7(P,O)||WA(s,Z,O)?jQ(O):n.undoManager.transact(()=>{const J=m.getSel();let{anchorNode:he,anchorOffset:_e,focusNode:Ge,focusOffset:qe}=J??{};const ot=()=>{B(he)&&B(_e)&&B(Ge)&&B(qe)&&(J==null||J.setBaseAndExtent(he,_e,Ge,qe))},Et=()=>{he=J==null?void 0:J.anchorNode,_e=J==null?void 0:J.anchorOffset,Ge=J==null?void 0:J.focusNode,qe=J==null?void 0:J.focusOffset},Vt=(It,cn)=>{re(It.childNodes,xn=>{ub(xn)&&cn.appendChild(xn)})},kt=n.dom.create("span",{"data-mce-bogus":"1"});Vt(O,kt),O.appendChild(kt),ot(),(l==="word"||l==="line")&&(J==null||J.modify("extend",s?"right":"left",l)),!m.isCollapsed()&&I7(m.getRng(),kt)?jQ(O):(n.execCommand(s?"ForwardDelete":"Delete"),Et(),Vt(kt,O),ot()),n.dom.remove(kt)}),!0):!1},x1=(n,s,l)=>M4(n,s,l)||GQ&&JQ(n,s,l)?G.some(ie):G.none(),eF=n=>(s,l,m={})=>{const O=s.getBody(),P={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:O,currentTarget:O,eventPhase:Event.AT_TARGET,originalTarget:O,explicitOriginalTarget:O,isTrusted:!1,srcElement:O,cancelable:!1,preventDefault:ie,inputType:l},Z=h0(new InputEvent(n));return s.dispatch(n,{...Z,...P,...m})},B3=eF("input"),F7=eF("beforeinput"),zK=ii(),ZK=zK.os,tF=ZK.isMacOS()||ZK.isiOS(),HK=zK.browser.isFirefox(),UK=(n,s,l)=>{const m=l.keyCode===Wr.BACKSPACE?"deleteContentBackward":"deleteContentForward",O=n.selection.isCollapsed(),P=O?"character":"selection",Z=J=>O?J?"word":"line":"selection";m7([{keyCode:Wr.BACKSPACE,action:Ro(ZB,n)},{keyCode:Wr.BACKSPACE,action:Ro(Z6,n,!1)},{keyCode:Wr.DELETE,action:Ro(Z6,n,!0)},{keyCode:Wr.BACKSPACE,action:Ro(W5,n,!1)},{keyCode:Wr.DELETE,action:Ro(W5,n,!0)},{keyCode:Wr.BACKSPACE,action:Ro(w3,n,s,!1)},{keyCode:Wr.DELETE,action:Ro(w3,n,s,!0)},{keyCode:Wr.BACKSPACE,action:Ro(ZT,n,!1)},{keyCode:Wr.DELETE,action:Ro(ZT,n,!0)},{keyCode:Wr.BACKSPACE,action:Ro(x1,n,!1,P)},{keyCode:Wr.DELETE,action:Ro(x1,n,!0,P)},...tF?[{keyCode:Wr.BACKSPACE,altKey:!0,action:Ro(x1,n,!1,Z(!0))},{keyCode:Wr.DELETE,altKey:!0,action:Ro(x1,n,!0,Z(!0))},{keyCode:Wr.BACKSPACE,metaKey:!0,action:Ro(x1,n,!1,Z(!1))}]:[{keyCode:Wr.BACKSPACE,ctrlKey:!0,action:Ro(x1,n,!1,Z(!0))},{keyCode:Wr.DELETE,ctrlKey:!0,action:Ro(x1,n,!0,Z(!0))}],{keyCode:Wr.BACKSPACE,action:Ro(H6,n,!1)},{keyCode:Wr.DELETE,action:Ro(H6,n,!0)},{keyCode:Wr.BACKSPACE,action:Ro(o7,n,!1)},{keyCode:Wr.DELETE,action:Ro(o7,n,!0)},{keyCode:Wr.BACKSPACE,action:Ro(U5,n,!1)},{keyCode:Wr.DELETE,action:Ro(U5,n,!0)},{keyCode:Wr.BACKSPACE,action:Ro(N6,n,!1)},{keyCode:Wr.DELETE,action:Ro(N6,n,!0)},{keyCode:Wr.BACKSPACE,action:Ro(n7,n,!1)},{keyCode:Wr.DELETE,action:Ro(n7,n,!0)}],l).filter(J=>n.selection.isEditable()).each(J=>{l.preventDefault(),F7(n,m).isDefaultPrevented()||(J(),B3(n,m))})},uce=(n,s,l)=>_2([{keyCode:Wr.BACKSPACE,action:Ro(X5,n)},{keyCode:Wr.DELETE,action:Ro(X5,n)},...tF?[{keyCode:Wr.BACKSPACE,altKey:!0,action:Ro(T3,n)},{keyCode:Wr.DELETE,altKey:!0,action:Ro(T3,n)},...l?[{keyCode:HK?224:91,action:Ro(T3,n)}]:[]]:[{keyCode:Wr.BACKSPACE,ctrlKey:!0,action:Ro(T3,n)},{keyCode:Wr.DELETE,ctrlKey:!0,action:Ro(T3,n)}]],s),WK=(n,s)=>{let l=!1;n.on("keydown",m=>{l=m.keyCode===Wr.BACKSPACE,m.isDefaultPrevented()||UK(n,s,m)}),n.on("keyup",m=>{m.isDefaultPrevented()||uce(n,m,l),l=!1})},Bi=n=>{for(;n;){if(Xr(n)||lr(n)&&n.data&&/[\r\n\s]/.test(n.data))return n;n=n.nextSibling}return null},S1=(n,s)=>{const l=n.dom,m=n.schema.getMoveCaretBeforeOnEnterElements();if(!s)return;if(/^(LI|DT|DD)$/.test(s.nodeName)){const P=Bi(s.firstChild);P&&/^(UL|OL|DL)$/.test(P.nodeName)&&s.insertBefore(l.doc.createTextNode(zs),s.firstChild)}const O=l.createRng();if(s.normalize(),s.hasChildNodes()){const P=new ca(s,s);let Z=s,J;for(;J=P.current();){if(lr(J)){O.setStart(J,0),O.setEnd(J,0);break}if(m[J.nodeName.toLowerCase()]){O.setStartBefore(J),O.setEndBefore(J);break}Z=J,J=P.next()}J||(O.setStart(Z,0),O.setEnd(Z,0))}else aa(s)?s.nextSibling&&l.isBlock(s.nextSibling)?(O.setStartBefore(s),O.setEndBefore(s)):(O.setStartAfter(s),O.setEndAfter(s)):(O.setStart(s,0),O.setEnd(s,0));n.selection.setRng(O),Ab(n,O)},yd=(n,s)=>{const l=n.getRoot();let m,O=s;for(;O!==l&&O&&n.getContentEditable(O)!=="false";){if(n.getContentEditable(O)==="true"){m=O;break}O=O.parentNode}return O!==l?m:l},E4=n=>G.from(n.dom.getParent(n.selection.getStart(!0),n.dom.isBlock)),nF=n=>E4(n).fold(ae(""),s=>s.nodeName.toUpperCase()),YK=n=>E4(n).filter(s=>td(Yt.fromDom(s))).isSome(),N2=n=>{n.innerHTML='<br data-mce-bogus="1">'},V7=(n,s,l)=>{const m=n.dom;G.from(l.style).map(m.parseStyle).each(he=>{const Ge={...Oy(Yt.fromDom(s)),...he};m.setStyles(s,Ge)});const O=G.from(l.class).map(he=>he.split(/\s+/)),P=G.from(s.className).map(he=>se(he.split(/\s+/),_e=>_e!==""));Fa(O,P,(he,_e)=>{const Ge=se(_e,ot=>!Ze(he,ot)),qe=[...he,...Ge];m.setAttrib(s,"class",qe.join(" "))});const Z=["style","class"],J=wn(l,(he,_e)=>!Ze(Z,_e));m.setAttribs(s,J)},B2=(n,s)=>{if(Ec(n).toLowerCase()===s.tagName.toLowerCase()){const m=Yy(n);V7(n,s,m)}},z7=(n,s,l,m,O=!0,P,Z)=>{const J=n.dom,he=n.schema,_e=Ec(n),Ge=l?l.nodeName.toUpperCase():"";let qe=s;const ot=he.getTextInlineElements();let Et;P||Ge==="TABLE"||Ge==="HR"?Et=J.create(P||_e,Z||{}):Et=l.cloneNode(!1);let Vt=Et;if(!O)J.setAttrib(Et,"style",null),J.setAttrib(Et,"class",null);else do if(ot[qe.nodeName]){if(sf(qe)||af(qe))continue;const kt=qe.cloneNode(!1);J.setAttrib(kt,"id",""),Et.hasChildNodes()?(kt.appendChild(Et.firstChild),Et.appendChild(kt)):(Vt=kt,Et.appendChild(kt))}while((qe=qe.parentNode)&&qe!==m);return B2(n,Et),N2(Vt),Et},XK=(n,s)=>n.dom.getParent(s,er),GK=(n,s,l)=>{let m=s;for(;m&&m!==n&&F(m.nextSibling);){const O=m.parentElement;if(!O||!l(O))return er(O);m=O}return!1},jK=(n,s,l)=>!s&&l.nodeName.toLowerCase()===Ec(n)&&n.dom.isEmpty(l)&&GK(n.getBody(),l,m=>it(n.schema.getTextBlockElements(),m.nodeName.toLowerCase())),qK=(n,s,l)=>{var m,O,P;const Z=s(Ec(n)),J=XK(n,l);J&&(n.dom.insertAfter(Z,J),S1(n,Z),((P=(O=(m=l.parentElement)===null||m===void 0?void 0:m.childNodes)===null||O===void 0?void 0:O.length)!==null&&P!==void 0?P:0)>1&&n.dom.remove(l))},KK=(n,s)=>n.firstChild&&n.firstChild.nodeName===s,rF=n=>{var s;return((s=n.parentNode)===null||s===void 0?void 0:s.firstChild)===n},oF=(n,s)=>{const l=n==null?void 0:n.parentNode;return B(l)&&l.nodeName===s},sF=n=>B(n)&&/^(OL|UL|LI)$/.test(n.nodeName),Z7=n=>B(n)&&/^(LI|DT|DD)$/.test(n.nodeName),JK=n=>sF(n)&&sF(n.parentNode),_4=n=>{const s=n.parentNode;return Z7(s)?s:n},Q3=(n,s,l)=>{let m=n[l?"firstChild":"lastChild"];for(;m&&!Xr(m);)m=m[l?"nextSibling":"previousSibling"];return m===s},H7=n=>oe(Xn(Oy(Yt.fromDom(n)),(s,l)=>`${l}: ${s};`),(s,l)=>s+l,""),eJ=(n,s,l,m,O)=>{const P=n.dom,Z=n.selection.getRng(),J=l.parentNode;if(l===n.getBody()||!J)return;JK(l)&&(O="LI");const he=Z7(m)?H7(m):void 0;let _e=Z7(m)&&he?s(O,{style:H7(m)}):s(O);if(Q3(l,m,!0)&&Q3(l,m,!1))if(oF(l,"LI")){const Ge=_4(l);P.insertAfter(_e,Ge),rF(l)?P.remove(Ge):P.remove(l)}else P.replace(_e,l);else if(Q3(l,m,!0))oF(l,"LI")?(P.insertAfter(_e,_4(l)),_e.appendChild(P.doc.createTextNode(" ")),_e.appendChild(l)):J.insertBefore(_e,l),P.remove(m);else if(Q3(l,m,!1))P.insertAfter(_e,_4(l)),P.remove(m);else{l=_4(l);const Ge=Z.cloneRange();Ge.setStartAfter(m),Ge.setEndAfter(l);const qe=Ge.extractContents();if(O==="LI"&&KK(qe,"LI")){const ot=se(Ie(_e.children,Yt.fromDom),be(xu("br")));_e=qe.firstChild,P.insertAfter(qe,l),re(ot,Et=>mm(Yt.fromDom(_e),Et)),he&&_e.setAttribute("style",he)}else P.insertAfter(qe,l),P.insertAfter(_e,l);P.remove(m)}S1(n,_e)},tJ=n=>{re(r0(Yt.fromDom(n),Zi),s=>{const l=s.dom;l.nodeValue=Pe(l.data)})},fce=(n,s)=>{const l=n.dom.getParent(s,"ol,ul,dl");return l!==null&&n.dom.getContentEditableParent(l)==="false"},U7=(n,s)=>s&&s.nodeName==="A"&&n.isEmpty(s),W7=(n,s)=>n.nodeName===s||n.previousSibling&&n.previousSibling.nodeName===s,Y7=(n,s)=>B(s)&&n.isBlock(s)&&!/^(TD|TH|CAPTION|FORM)$/.test(s.nodeName)&&!/^(fixed|absolute)/i.test(s.style.position)&&n.isEditable(s.parentNode)&&n.getContentEditable(s)!=="false",nJ=(n,s,l)=>{var m;const O=[];if(!l)return;let P=l;for(;P=P.firstChild;){if(n.isBlock(P))return;Xr(P)&&!s[P.nodeName.toLowerCase()]&&O.push(P)}let Z=O.length;for(;Z--;)P=O[Z],(!P.hasChildNodes()||P.firstChild===P.lastChild&&((m=P.firstChild)===null||m===void 0?void 0:m.nodeValue)===""||U7(n,P))&&n.remove(P)},R4=(n,s,l)=>lr(s)?n?l===1&&s.data.charAt(l-1)===de?0:l:l===s.data.length-1&&s.data.charAt(l)===de?s.data.length:l:l,rJ=n=>{const s=n.cloneRange();return s.setStart(n.startContainer,R4(!0,n.startContainer,n.startOffset)),s.setEnd(n.endContainer,R4(!1,n.endContainer,n.endOffset)),s},aF=n=>{let s=n;do lr(s)&&(s.data=s.data.replace(/^[\r\n]+/,"")),s=s.firstChild;while(s)},oJ=(n,s,l,m,O)=>{var P,Z;const J=n.dom,he=(P=yd(J,m))!==null&&P!==void 0?P:J.getRoot();let _e=J.getParent(m,J.isBlock);if(!_e||!Y7(J,_e)){if(_e=_e||he,!_e.hasChildNodes()){const Et=J.create(s);return B2(n,Et),_e.appendChild(Et),l.setStart(Et,0),l.setEnd(Et,0),Et}let Ge=m;for(;Ge&&Ge.parentNode!==_e;)Ge=Ge.parentNode;let qe;for(;Ge&&!J.isBlock(Ge);)qe=Ge,Ge=Ge.previousSibling;const ot=(Z=qe==null?void 0:qe.parentElement)===null||Z===void 0?void 0:Z.nodeName;if(qe&&ot&&n.schema.isValidChild(ot,s.toLowerCase())){const Et=qe.parentNode,Vt=J.create(s);for(B2(n,Vt),Et.insertBefore(Vt,qe),Ge=qe;Ge&&!J.isBlock(Ge);){const kt=Ge.nextSibling;Vt.appendChild(Ge),Ge=kt}l.setStart(m,O),l.setEnd(m,O)}}return m},sJ=(n,s)=>{s.normalize();const l=s.lastChild;(!l||Xr(l)&&/^(left|right)$/gi.test(n.getStyle(l,"float",!0)))&&n.add(s,"br")},dce=(n,s)=>{const l=Ak(n);return Q(s)?!1:M(l)?Ze(fr.explode(l),s.nodeName.toLowerCase()):l},iF={insert:(n,s)=>{let l,m,O,P,Z=!1;const J=n.dom,he=n.schema,_e=he.getNonEmptyElements(),Ge=n.selection.getRng(),qe=Ec(n),ot=Yt.fromDom(Ge.startContainer),Et=ph(ot,Ge.startOffset),Vt=Et.exists(tr=>Ya(tr)&&!jo(tr)),kt=Ge.collapsed&&Vt,It=(tr,eo)=>z7(n,l,gr,rr,aE(n),tr,eo),cn=tr=>{const eo=R4(tr,l,m);if(lr(l)&&(tr?eo>0:eo<l.data.length))return!1;if(l.parentNode===gr&&Z&&!tr||tr&&Xr(l)&&l===gr.firstChild)return!0;if(W7(l,"TABLE")||W7(l,"HR"))return Z&&!tr||!Z&&tr;const po=new ca(l,gr);lr(l)&&(tr&&eo===0?po.prev():!tr&&eo===l.data.length&&po.next());let ls;for(;ls=po.current();){if(Xr(ls)){if(!ls.getAttribute("data-mce-bogus")){const ys=ls.nodeName.toLowerCase();if(_e[ys]&&ys!=="br")return!1}}else if(lr(ls)&&!Ba(ls.data))return!1;tr?po.prev():po.next()}return!0},xn=()=>{let tr;return/^(H[1-6]|PRE|FIGURE)$/.test(O)&&Qr!=="HGROUP"?tr=It(qe):tr=It(),dce(n,P)&&Y7(J,P)&&J.isEmpty(gr,void 0,{includeZwsp:!0})?tr=J.split(P,gr):J.insertAfter(tr,gr),S1(n,tr),tr};Me(J,Ge).each(tr=>{Ge.setStart(tr.startContainer,tr.startOffset),Ge.setEnd(tr.endContainer,tr.endOffset)}),l=Ge.startContainer,m=Ge.startOffset;const bn=!!(s&&s.shiftKey),$n=!!(s&&s.ctrlKey);Xr(l)&&l.hasChildNodes()&&!kt&&(Z=m>l.childNodes.length-1,l=l.childNodes[Math.min(m,l.childNodes.length-1)]||l,Z&&lr(l)?m=l.data.length:m=0);const rr=yd(J,l);if(!rr||fce(n,l))return;bn||(l=oJ(n,qe,Ge,l,m));let gr=J.getParent(l,J.isBlock)||J.getRoot();P=B(gr==null?void 0:gr.parentNode)?J.getParent(gr.parentNode,J.isBlock):null,O=gr?gr.nodeName.toUpperCase():"";const Qr=P?P.nodeName.toUpperCase():"";if(Qr==="LI"&&!$n){const tr=P;gr=tr,P=tr.parentNode,O=Qr}if(Xr(P)&&jK(n,bn,gr))return qK(n,It,gr);if(/^(LI|DT|DD)$/.test(O)&&Xr(P)&&J.isEmpty(gr)){eJ(n,It,P,gr,qe);return}if(!kt&&(gr===n.getBody()||!Y7(J,gr)))return;const zn=gr.parentNode;let Bn;if(kt)Bn=It(qe),Et.fold(()=>{Ci(ot,Yt.fromDom(Bn))},tr=>{Ui(tr,Yt.fromDom(Bn))}),n.selection.setCursorLocation(Bn,0);else if(rt(gr))Bn=Pn(gr),J.isEmpty(gr)&&N2(gr),B2(n,Bn),S1(n,Bn);else if(cn(!1))Bn=xn();else if(cn(!0)&&zn){Bn=zn.insertBefore(It(),gr);const tr=Wu(Yt.fromDom(Ge.startContainer))&&Ge.collapsed;S1(n,W7(gr,"HR")||tr?Bn:gr)}else{const tr=rJ(Ge).cloneRange();tr.setEndAfter(gr);const eo=tr.extractContents();tJ(eo),aF(eo),Bn=eo.firstChild,J.insertAfter(eo,gr),nJ(J,_e,Bn),sJ(J,gr),J.isEmpty(gr)&&N2(gr),Bn.normalize(),J.isEmpty(Bn)?(J.remove(Bn),xn()):(B2(n,Bn),S1(n,Bn))}J.setAttrib(Bn,"id",""),n.dispatch("NewBlock",{newBlock:Bn})},fakeEventName:"insertParagraph"},aJ=(n,s,l)=>{const m=new ca(s,l);let O;const P=n.getNonEmptyElements();for(;O=m.next();)if(P[O.nodeName.toLowerCase()]||lr(O)&&O.length>0)return!0;return!1},lF=(n,s,l)=>{const m=n.dom.createRng();l?(m.setStartBefore(s),m.setEndBefore(s)):(m.setStartAfter(s),m.setEndAfter(s)),n.selection.setRng(m),Ab(n,m)},iJ=(n,s)=>{const l=n.selection,m=n.dom,O=l.getRng();let P,Z=!1;Me(m,O).each(Et=>{O.setStart(Et.startContainer,Et.startOffset),O.setEnd(Et.endContainer,Et.endOffset)});let J=O.startOffset,he=O.startContainer;if(Xr(he)&&he.hasChildNodes()){const Et=J>he.childNodes.length-1;he=he.childNodes[Math.min(J,he.childNodes.length-1)]||he,Et&&lr(he)?J=he.data.length:J=0}let _e=m.getParent(he,m.isBlock);const Ge=_e&&_e.parentNode?m.getParent(_e.parentNode,m.isBlock):null,qe=Ge?Ge.nodeName.toUpperCase():"",ot=!!(s&&s.ctrlKey);qe==="LI"&&!ot&&(_e=Ge),lr(he)&&J>=he.data.length&&(aJ(n.schema,he,_e||m.getRoot())||(P=m.create("br"),O.insertNode(P),O.setStartAfter(P),O.setEndAfter(P),Z=!0)),P=m.create("br"),gw(m,O,P),lF(n,P,Z),n.undoManager.add()},lJ=(n,s)=>{const l=Yt.fromTag("br");Ui(Yt.fromDom(s),l),n.undoManager.add()},cJ=(n,s)=>{uJ(n.getBody(),s)||Yu(Yt.fromDom(s),Yt.fromTag("br"));const l=Yt.fromTag("br");Yu(Yt.fromDom(s),l),lF(n,l.dom,!1),n.undoManager.add()},D4=n=>aa(n.getNode()),uJ=(n,s)=>D4(Nn.after(s))?!0:Rc(n,Nn.after(s)).map(l=>aa(l.getNode())).getOr(!1),cF=n=>n&&n.nodeName==="A"&&"href"in n,X7=n=>n.fold(ne,cF,cF,ne),G7=n=>{const s=ee(Rb,n),l=Nn.fromRangeStart(n.selection.getRng());return Hh(s,n.getBody(),l).filter(X7)},fJ=(n,s)=>{s.fold(ie,ee(lJ,n),ee(cJ,n),ie)},dJ={insert:(n,s)=>{const l=G7(n);l.isSome()?l.each(ee(fJ,n)):iJ(n,s)},fakeEventName:"insertLineBreak"},uF=(n,s)=>E4(n).filter(l=>s.length>0&&Hu(Yt.fromDom(l),s)).isSome(),hJ=n=>uF(n,sE(n)),mce=n=>uF(n,Mw(n)),bd=Zd.generate([{br:[]},{block:[]},{none:[]}]),Xm=(n,s)=>mce(n),fF=n=>(s,l)=>YK(s)===n,j7=(n,s)=>(l,m)=>nF(l)===n.toUpperCase()===s,mJ=n=>{const s=yd(n.dom,n.selection.getStart());return Q(s)},F3=n=>j7("pre",n),gJ=()=>j7("summary",!0),$4=n=>(s,l)=>rE(s)===n,pJ=(n,s)=>hJ(n),L4=(n,s)=>s,vJ=n=>{const s=Ec(n),l=yd(n.dom,n.selection.getStart());return B(l)&&n.schema.isValidChild(l.nodeName,s)},q7=n=>{const s=n.selection.getRng(),l=Yt.fromDom(s.startContainer),O=ph(l,s.startOffset).map(P=>Ya(P)&&!jo(P));return s.collapsed&&O.getOr(!0)},Od=(n,s)=>(l,m)=>oe(n,(P,Z)=>P&&Z(l,m),!0)?G.some(s):G.none(),I4=(n,s)=>sB([Od([Xm],bd.none()),Od([F3(!0),mJ],bd.none()),Od([gJ()],bd.br()),Od([F3(!0),$4(!1),L4],bd.br()),Od([F3(!0),$4(!1)],bd.block()),Od([F3(!0),$4(!0),L4],bd.block()),Od([F3(!0),$4(!0)],bd.br()),Od([fF(!0),L4],bd.br()),Od([fF(!0)],bd.block()),Od([pJ],bd.br()),Od([L4],bd.br()),Od([vJ],bd.block()),Od([q7],bd.block())],[n,!!(s&&s.shiftKey)]).getOr(bd.none()),N4=(n,s,l)=>{s.selection.isCollapsed()||I_(s),!(B(l)&&F7(s,n.fakeEventName).isDefaultPrevented())&&(n.insert(s,l),B(l)&&B3(s,n.fakeEventName))},dF=(n,s)=>{const l=()=>N4(dJ,n,s),m=()=>N4(iF,n,s),O=I4(n,s);switch(oE(n)){case"linebreak":O.fold(l,l,ie);break;case"block":O.fold(m,m,ie);break;case"invert":O.fold(m,l,ie);break;default:O.fold(l,m,ie);break}},hF=ii(),yJ=hF.os.isiOS()&&hF.browser.isSafari(),mF=(n,s)=>{s.isDefaultPrevented()||(s.preventDefault(),IX(n.undoManager),n.undoManager.transact(()=>{dF(n,s)}))},gF=n=>{if(!n.collapsed)return!1;const s=n.startContainer;if(lr(s)){const l=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,m=s.data.charAt(n.startOffset-1);return l.test(m)}else return!1},bJ=n=>{let s=G.none();const l=O=>{s=G.some(O.selection.getBookmark()),O.undoManager.add()},m=(O,P)=>{O.undoManager.undo(),s.fold(ie,Z=>O.selection.moveToBookmark(Z)),mF(O,P),s=G.none()};n.on("keydown",O=>{O.keyCode===Wr.ENTER&&(yJ&&gF(n.selection.getRng())?l(n):mF(n,O))}),n.on("keyup",O=>{O.keyCode===Wr.ENTER&&s.each(()=>m(n,O))})},pF=(n,s,l)=>{const m=Dr.os.isMacOS()||Dr.os.isiOS();_2([{keyCode:Wr.END,action:Ro(jB,n,!0)},{keyCode:Wr.HOME,action:Ro(jB,n,!1)},...m?[]:[{keyCode:Wr.HOME,action:Ro(g4,n,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Wr.END,action:Ro(g4,n,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Wr.END,action:Ro(v4,n,!0)},{keyCode:Wr.HOME,action:Ro(v4,n,!1)},{keyCode:Wr.END,action:Ro(i4,n,!0,s)},{keyCode:Wr.HOME,action:Ro(i4,n,!1,s)}],l).each(O=>{l.preventDefault()})},vF=(n,s)=>{n.on("keydown",l=>{l.isDefaultPrevented()||pF(n,s,l)})},OJ=n=>{n.on("input",s=>{s.isComposing||jW(n)})},xJ=ii(),K7=(n,s,l)=>{_2([{keyCode:Wr.PAGE_UP,action:Ro(i4,n,!1,s)},{keyCode:Wr.PAGE_DOWN,action:Ro(i4,n,!0,s)}],l)},yF=n=>n.stopImmediatePropagation(),bF=n=>n.keyCode===Wr.PAGE_UP||n.keyCode===Wr.PAGE_DOWN,V3=(n,s,l)=>{l&&!n.get()?s.on("NodeChange",yF,!0):!l&&n.get()&&s.off("NodeChange",yF),n.set(l)},SJ=(n,s)=>{if(xJ.os.isMacOS())return;const l=ni(!1);n.on("keydown",m=>{bF(m)&&V3(l,n,!0)}),n.on("keyup",m=>{m.isDefaultPrevented()||K7(n,s,m),bF(m)&&l.get()&&(V3(l,n,!1),n.nodeChanged())})},J7=n=>{n.on("beforeinput",s=>{(!n.selection.isEditable()||De(s.getTargetRanges(),l=>!w9(n.dom,l)))&&s.preventDefault()})},B4=(n,s)=>{const l=s.container(),m=s.offset();return lr(l)?(l.insertData(m,n),G.some(Nn(l,m+n.length))):Ax(s).map(O=>{const P=Yt.fromText(n);return s.isAtEnd()?Yu(O,P):Ui(O,P),Nn(P.dom,n.length)})},eR=ee(B4,zs),OF=ee(B4," "),gce=(n,s,l)=>eL(n,s,l)?eR(s):OF(s),w1=n=>s=>s.fold(l=>uu(n.dom,Nn.before(l)),l=>Xc(l),l=>ld(l),l=>Rc(n.dom,Nn.after(l))),wJ=(n,s,l)=>m=>eL(n,m,l)?eR(s):OF(s),xF=n=>s=>{n.selection.setRng(s.toRange()),n.nodeChanged()},TJ=(n,s)=>n.isEditable(n.getParent(s,"summary")),Q4=n=>{const s=Nn.fromRangeStart(n.selection.getRng()),l=Yt.fromDom(n.getBody());if(n.selection.isCollapsed()){const m=ee(Rb,n),O=Nn.fromRangeStart(n.selection.getRng());return Hh(m,n.getBody(),O).bind(w1(l)).map(P=>()=>wJ(l,s,n.schema)(P).each(xF(n)))}else return G.none()},SF=n=>{const s=()=>{const l=Yt.fromDom(n.getBody());n.selection.isCollapsed()||n.getDoc().execCommand("Delete");const m=Nn.fromRangeStart(n.selection.getRng());gce(l,m,n.schema).each(xF(n))};return Zo(Dr.browser.isFirefox()&&n.selection.isEditable()&&TJ(n.dom,n.selection.getRng().startContainer),s)},wF=(n,s)=>{m7([{keyCode:Wr.SPACEBAR,action:Ro(Q4,n)},{keyCode:Wr.SPACEBAR,action:Ro(SF,n)}],s).each(l=>{s.preventDefault(),F7(n,"insertText",{data:" "}).isDefaultPrevented()||(l(),B3(n,"insertText",{data:" "}))})},CJ=n=>{n.on("keydown",s=>{s.isDefaultPrevented()||wF(n,s)})},TF=n=>RE(n)?[{keyCode:Wr.TAB,action:Ro(vQ,n,!0)},{keyCode:Wr.TAB,shiftKey:!0,action:Ro(vQ,n,!1)}]:[],kJ=(n,s)=>{_2([...TF(n)],s).each(l=>{s.preventDefault()})},AJ=n=>{n.on("keydown",s=>{s.isDefaultPrevented()||kJ(n,s)})},PJ=n=>{if(n.addShortcut("Meta+P","","mcePrint"),$K(n),Cv(n))return ni(null);{const s=Uj(n);return J7(n),gq(n),Uq(n,s),WK(n,s),bJ(n),CJ(n),OJ(n),AJ(n),vF(n,s),SJ(n,s),s}};class CF{constructor(s){this.lastPath=[],this.editor=s;let l;const m=this;"onselectionchange"in s.getDoc()||s.on("NodeChange click mouseup keyup focus",O=>{const P=s.selection.getRng(),Z={startContainer:P.startContainer,startOffset:P.startOffset,endContainer:P.endContainer,endOffset:P.endOffset};(O.type==="nodechange"||!Gg(Z,l))&&s.dispatch("SelectionChange"),l=Z}),s.on("contextmenu",()=>{s.dispatch("SelectionChange")}),s.on("SelectionChange",()=>{const O=s.selection.getStart(!0);O&&Ix(s)&&!m.isSameElementPath(O)&&s.dom.isChildOf(O,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("mouseup",O=>{!O.isDefaultPrevented()&&Ix(s)&&(s.selection.getNode().nodeName==="IMG"?fd.setEditorTimeout(s,()=>{s.nodeChanged()}):s.nodeChanged())})}nodeChanged(s={}){const l=this.editor.selection;let m;if(this.editor.initialized&&l&&!bx(this.editor)&&!this.editor.mode.isReadOnly()){const O=this.editor.getBody();m=l.getStart(!0)||O,(m.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(m,O))&&(m=O);const P=[];this.editor.dom.getParent(m,Z=>Z===O?!0:(P.push(Z),!1)),this.editor.dispatch("NodeChange",{...s,element:m,parents:P})}}isSameElementPath(s){let l;const m=this.editor,O=ct(m.dom.getParents(s,pe,m.getBody()));if(O.length===this.lastPath.length){for(l=O.length;l>=0&&O[l]===this.lastPath[l];l--);if(l===-1)return this.lastPath=O,!0}return this.lastPath=O,!1}}const F4=nv("image"),MJ=n=>{const s=n;return G.from(s[F4])},tR=(n,s)=>{const l=n;l[F4]=s},V4=nv("event"),z4=n=>{const s=n;return G.from(s[V4])},z3=n=>s=>{const l=s;l[V4]=n},kF=(n,s)=>z3(s)(n),AF=z3(0),EJ=z3(2),Z4=z3(1),RJ=(n=>s=>{const l=s;return G.from(l[V4]).exists(m=>m===n)})(0),DJ=()=>Object.freeze({length:0,item:n=>null}),H4=nv("mode"),$J=n=>{const s=n;return G.from(s[H4])},U4=n=>s=>{const l=s;l[H4]=n},PF=(n,s)=>U4(s)(n),MF=U4(0),nR=U4(2),EF=U4(1),_F=n=>s=>{const l=s;return G.from(l[H4]).exists(m=>m===n)},Yb=_F(0),RF=_F(1),LJ=(n,s)=>({...s,get length(){return s.length},add:(l,m)=>{if(Yb(n))if(M(l)){if(!U(m))return s.add(l,m)}else return s.add(l);return null},remove:l=>{Yb(n)&&s.remove(l)},clear:()=>{Yb(n)&&s.clear()}}),IJ=["none","copy","link","move"],NJ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],rR=()=>{const n=new window.DataTransfer;let s="move",l="all";const m={get dropEffect(){return s},set dropEffect(O){Ze(IJ,O)&&(s=O)},get effectAllowed(){return l},set effectAllowed(O){RJ(m)&&Ze(NJ,O)&&(l=O)},get items(){return LJ(m,n.items)},get files(){return RF(m)?DJ():n.files},get types(){return n.types},setDragImage:(O,P,Z)=>{Yb(m)&&(tR(m,{image:O,x:P,y:Z}),n.setDragImage(O,P,Z))},getData:O=>RF(m)?"":n.getData(O),setData:(O,P)=>{Yb(m)&&n.setData(O,P)},clearData:O=>{Yb(m)&&n.clearData(O)}};return MF(m),m},Q2=n=>{const s=rR(),l=$J(n);return nR(n),AF(s),s.dropEffect=n.dropEffect,s.effectAllowed=n.effectAllowed,MJ(n).each(m=>s.setDragImage(m.image,m.x,m.y)),re(n.types,m=>{m!=="Files"&&s.setData(m,n.getData(m))}),re(n.files,m=>s.items.add(m)),z4(n).each(m=>{kF(s,m)}),l.each(m=>{PF(n,m),PF(s,m)}),s},BJ=n=>{const s=n.getData("text/html");return s===""?G.none():G.some(s)},DF=(n,s)=>n.setData("text/html",s),oR="x-tinymce/html",W4=ae(oR),sR="<!-- "+oR+" -->",QJ=n=>sR+n,$F=n=>n.replace(sR,""),LF=n=>n.indexOf(sR)!==-1,FJ=n=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(n),pce=(n,s)=>{let l="<"+n;const m=Xn(s,(O,P)=>P+'="'+Pg.encodeAllRaw(O)+'"');return m.length&&(l+=" "+m.join(" ")),l+">"},Y4=(n,s,l)=>{const m=n.split(/\n\n/),O=pce(s,l),P="</"+s+">",Z=Ie(m,he=>he.split(/\n/).join("<br />")),J=he=>O+he+P;return Z.length===1?Z[0]:Ie(Z,J).join("")},IF="%MCEPASTEBIN%",VJ=(n,s)=>{const{dom:l,selection:m}=n,O=n.getBody();s.set(m.getRng());const P=l.add(n.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},IF);Dr.browser.isFirefox()&&l.setStyle(P,"left",l.getStyle(O,"direction",!0)==="rtl"?65535:-65535),l.bind(P,"beforedeactivate focusin focusout",Z=>{Z.stopPropagation()}),P.focus(),m.select(P,!0)},zJ=(n,s)=>{const l=n.dom;if(aR(n)){let m;const O=s.get();for(;m=aR(n);)l.remove(m),l.unbind(m);O&&n.selection.setRng(O)}s.set(null)},aR=n=>n.dom.get("mcepastebin"),ZJ=n=>B(n)&&n.id==="mcepastebin",HJ=n=>{const s=n.dom,l=(Z,J)=>{Z.appendChild(J),s.remove(J,!0)},[m,...O]=se(n.getBody().childNodes,ZJ);re(O,Z=>{l(m,Z)});const P=s.select("div[id=mcepastebin]",m);for(let Z=P.length-1;Z>=0;Z--){const J=s.create("div");m.insertBefore(J,P[Z]),l(J,P[Z])}return m?m.innerHTML:""},NF=n=>n===IF,UJ=n=>{const s=ni(null);return{create:()=>VJ(n,s),remove:()=>zJ(n,s),getEl:()=>aR(n),getHtml:()=>HJ(n),getLastRng:s.get}},BF=(n,s)=>(fr.each(s,l=>{R(l,RegExp)?n=n.replace(l,""):n=n.replace(l[0],l[1])}),n),WJ=n=>{const s=Cm(),l=Vh({},s);let m="";const O=s.getVoidElements(),P=fr.makeMap("script noscript style textarea video audio iframe object"," "),Z=s.getBlockElements(),J=he=>{const _e=he.name,Ge=he;if(_e==="br"){m+=`
`;return}if(_e!=="wbr"){if(O[_e]&&(m+=" "),P[_e]){m+=" ";return}if(he.type===3&&(m+=he.value),!(he.name in s.getVoidElements())){let qe=he.firstChild;if(qe)do J(qe);while(qe=qe.next)}Z[_e]&&Ge.next&&(m+=`
`,_e==="p"&&(m+=`
`))}};return n=BF(n,[/<!\[[^\]]+\]>/g]),J(l.parse(n)),m},QF=n=>(n=BF(n,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(l,m,O)=>!m&&!O?" ":zs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),n),YJ=n=>{let s=0;return()=>n+s++},XJ=n=>{const s=n.toLowerCase(),l={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return fr.hasOwn(l,s)?"image/"+l[s]:"image/"+s},$a=(n,s)=>{const l=Vh({sanitize:L0(n),sandbox_iframes:Tx(n)},n.schema);l.addNodeFilter("meta",O=>{fr.each(O,P=>{P.remove()})});const m=l.parse(s,{forced_root_block:!1,isRootContent:!0});return s1({validate:!0},n.schema).serialize(m)},FF=(n,s)=>({content:n,cancelled:s}),VF=(n,s,l)=>{const m=n.dom.create("div",{style:"display:none"},s),O=r_(n,m,l);return FF(O.node.innerHTML,O.isDefaultPrevented())},GJ=(n,s,l)=>{const m=n_(n,s,l),O=$a(n,m.content);return n.hasEventListeners("PastePostProcess")&&!m.isDefaultPrevented()?VF(n,O,l):FF(O,m.isDefaultPrevented())},iR=(n,s,l)=>GJ(n,s,l),X4=(n,s)=>(n.insertContent(s,{merge:Fw(n),paste:!0}),!0),lR=n=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(n),jJ=(n,s)=>lR(s)&&De(Zk(n),l=>ao(s.toLowerCase(),`.${l.toLowerCase()}`)),zF=(n,s,l)=>(n.undoManager.extra(()=>{l(n,s)},()=>{n.insertContent('<img src="'+s+'">')}),!0),cR=(n,s,l)=>(n.undoManager.extra(()=>{l(n,s)},()=>{n.execCommand("mceInsertLink",!1,s)}),!0),qJ=(n,s,l)=>!n.selection.isCollapsed()&&lR(s)?cR(n,s,l):!1,KJ=(n,s,l)=>jJ(n,s)?zF(n,s,l):!1,JJ=(n,s)=>{fr.each([qJ,KJ,X4],l=>!l(n,s,X4))},ZF=(n,s,l)=>{l||!Vk(n)?X4(n,s):JJ(n,s)},eee=YJ("mceclip"),tee=n=>{const s=rR();return DF(s,n),nR(s),s},Xb=(n,s,l,m,O)=>{const P=iR(n,s,l);if(!P.cancelled){const Z=P.content,J=()=>ZF(n,Z,m);O?F7(n,"insertFromPaste",{dataTransfer:tee(Z)}).isDefaultPrevented()||(J(),B3(n,"insertFromPaste")):J()}},G4=(n,s,l,m)=>{const O=l||LF(s);Xb(n,$F(s),O,!1,m)},T1=(n,s,l)=>{const m=n.dom.encode(s).replace(/\r\n/g,`
`),O=Ki(m,TE(n)),P=Y4(O,Ec(n),Yy(n));Xb(n,P,!1,!0,l)},F2=n=>{const s={};if(n&&n.types)for(let l=0;l<n.types.length;l++){const m=n.types[l];try{s[m]=n.getData(m)}catch{s[m]=""}}return s},C1=(n,s)=>s in n&&n[s].length>0,HF=n=>C1(n,"text/html")||C1(n,"text/plain"),V2=(n,s)=>{const l=s.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return B(l)?n.dom.encode(l[1]):void 0},nee=(n,s,l,m)=>{const O=eee(),P=Xy(n)&&B(l.name),Z=P?V2(n,l.name):O,J=P?l.name:void 0,he=s.create(O,l,m,Z,J);return s.add(he),he},uR=(n,s)=>{v5(s.uri).each(({data:l,type:m,base64Encoded:O})=>{const P=O?l:btoa(l),Z=s.file,J=n.editorUpload.blobCache,he=J.getByData(P,m),_e=he??nee(n,J,Z,P);G4(n,`<img src="${_e.blobUri()}">`,!1,!0)})},fR=n=>n.type==="paste",UF=n=>Promise.all(Ie(n,s=>eX(s).then(l=>({file:s,uri:l})))),dR=n=>{const s=Zk(n);return l=>Sr(l.type,"image/")&&De(s,m=>XJ(m)===l.type)},WF=(n,s)=>{const l=s.items?ze(tt(s.items),O=>O.kind==="file"?[O.getAsFile()]:[]):[],m=s.files?tt(s.files):[];return se(l.length>0?l:m,dR(n))},YF=(n,s,l)=>{const m=fR(s)?s.clipboardData:s.dataTransfer;if(xx(n)&&m){const O=WF(n,m);if(O.length>0)return s.preventDefault(),UF(O).then(P=>{l&&n.selection.setRng(l),re(P,Z=>{uR(n,Z)})}),!0}return!1},ree=n=>{var s,l;return Dr.os.isAndroid()&&((l=(s=n.clipboardData)===null||s===void 0?void 0:s.items)===null||l===void 0?void 0:l.length)===0},XF=n=>Wr.metaKeyPressed(n)&&n.keyCode===86||n.shiftKey&&n.keyCode===45,Z3=(n,s,l,m,O)=>{let P=QF(l);const Z=C1(s,W4())||LF(l),J=!Z&&FJ(P),he=lR(P);(NF(P)||!P.length||J&&!he)&&(m=!0),(m||he)&&(C1(s,"text/plain")&&J?P=s["text/plain"]:P=WJ(P)),!NF(P)&&(m?T1(n,P,O):G4(n,P,Z,O))},hR=(n,s,l)=>{let m;const O=()=>s.getLastRng()||n.selection.getRng();n.on("keydown",P=>{XF(P)&&!P.isDefaultPrevented()&&(m=P.shiftKey&&P.keyCode===86)}),n.on("paste",P=>{if(P.isDefaultPrevented()||ree(P))return;const Z=l.get()==="text"||m;m=!1;const J=F2(P.clipboardData);!HF(J)&&YF(n,P,O())||(C1(J,"text/html")?(P.preventDefault(),Z3(n,J,J["text/html"],Z,!0)):C1(J,"text/plain")&&C1(J,"text/uri-list")?(P.preventDefault(),Z3(n,J,J["text/plain"],Z,!0)):(s.create(),fd.setEditorTimeout(n,()=>{const he=s.getHtml();s.remove(),Z3(n,J,he,Z,!1)},0)))})},GF=n=>{const s=O=>Sr(O,"webkit-fake-url"),l=O=>Sr(O,"data:"),m=O=>{var P;return((P=O.data)===null||P===void 0?void 0:P.paste)===!0};n.parser.addNodeFilter("img",(O,P,Z)=>{if(!xx(n)&&m(Z))for(const J of O){const he=J.attr("src");M(he)&&!J.attr("data-mce-object")&&he!==Dr.transparentSrc&&(s(he)||!Sx(n)&&l(he))&&J.remove()}})},oee=(n,s,l)=>{hR(n,s,l),GF(n)},see=(n,s)=>{s.get()==="text"?(s.set("html"),OA(n,!1)):(s.set("text"),OA(n,!0)),n.focus()},mR=(n,s)=>{n.addCommand("mceTogglePlainTextPaste",()=>{see(n,s)}),n.addCommand("mceInsertClipboardContent",(l,m)=>{m.html&&G4(n,m.html,m.internal,!1),m.text&&T1(n,m.text,!1)})},gR=(n,s,l)=>{if(n)try{return n.clearData(),n.setData("text/html",s),n.setData("text/plain",l),n.setData(W4(),s),!0}catch{return!1}else return!1},jF=(n,s,l,m)=>{gR(n.clipboardData,s.html,s.text)?(n.preventDefault(),m()):l(s.html,m)},pR=n=>(s,l)=>{const{dom:m,selection:O}=n,P=m.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Z=m.create("div",{contenteditable:"true"},s);m.setStyles(P,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),P.appendChild(Z),m.add(n.getBody(),P);const J=O.getRng();Z.focus();const he=m.createRng();he.selectNodeContents(Z),O.setRng(he),fd.setEditorTimeout(n,()=>{O.setRng(J),m.remove(P),l()},0)},vR=n=>({html:QJ(n.selection.getContent({contextual:!0})),text:n.selection.getContent({format:"text"})}),aee=n=>!!n.dom.getParent(n.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",n.getBody()),yR=n=>!n.selection.isCollapsed()||aee(n),iee=n=>s=>{!s.isDefaultPrevented()&&yR(n)&&n.selection.isEditable()&&jF(s,vR(n),pR(n),()=>{if(Dr.browser.isChromium()||Dr.browser.isFirefox()){const l=n.selection.getRng();fd.setEditorTimeout(n,()=>{n.selection.setRng(l),n.execCommand("Delete")},0)}else n.execCommand("Delete")})},lee=n=>s=>{!s.isDefaultPrevented()&&yR(n)&&jF(s,vR(n),pR(n),ie)},cee=n=>{n.on("cut",iee(n)),n.on("copy",lee(n))},qF=(n,s)=>{var l,m;return Ot.getCaretRangeFromPoint((l=s.clientX)!==null&&l!==void 0?l:0,(m=s.clientY)!==null&&m!==void 0?m:0,n.getDoc())},uee=n=>{const s=n["text/plain"];return s?s.indexOf("file://")===0:!1},H3=(n,s)=>{n.focus(),s&&n.selection.setRng(s)},fee=n=>De(n.files,s=>/^image\//.test(s.type)),KF=(n,s,l,m)=>{const O=n.getParent(l,Z=>ks(s,Z));if(!F(n.getParent(l,"summary")))return!0;if(O&&it(m,"text/html")){const Z=new DOMParser().parseFromString(m["text/html"],"text/html").body;return!F(Z.querySelector(O.nodeName.toLowerCase()))}else return!1},dee=n=>{n.on("input",s=>{const l=m=>F(m.querySelector("summary"));if(s.inputType==="deleteByDrag"){const m=se(n.dom.select("details"),l);re(m,O=>{aa(O.firstChild)&&O.firstChild.remove();const P=n.dom.create("summary");P.appendChild(Cc().dom),O.prepend(P)})}})},bR=(n,s)=>{SE(n)&&n.on("dragend dragover draggesture dragdrop drop drag",l=>{l.preventDefault(),l.stopPropagation()}),xx(n)||n.on("drop",l=>{const m=l.dataTransfer;m&&fee(m)&&l.preventDefault()}),n.on("drop",l=>{if(l.isDefaultPrevented())return;const m=qF(n,l);if(Q(m))return;const O=F2(l.dataTransfer),P=C1(O,W4());if((!HF(O)||uee(O))&&YF(n,l,m))return;const Z=O[W4()],J=Z||O["text/html"]||O["text/plain"],he=KF(n.dom,n.schema,m.startContainer,O),_e=s.get();_e&&!he||J&&(l.preventDefault(),fd.setEditorTimeout(n,()=>{n.undoManager.transact(()=>{(Z||_e&&he)&&n.execCommand("Delete"),H3(n,m);const Ge=QF(J);O["text/html"]?G4(n,Ge,P,!0):T1(n,Ge,!0)})}))}),n.on("dragstart",l=>{s.set(!0)}),n.on("dragover dragend",l=>{xx(n)&&!s.get()&&(l.preventDefault(),H3(n,qF(n,l))),l.type==="dragend"&&s.set(!1)}),dee(n)},JF=n=>{const s=O=>P=>{O(n,P)},l=wE(n);E(l)&&n.on("PastePreProcess",s(l));const m=Fk(n);E(m)&&n.on("PastePostProcess",s(m))},hee=(n,s)=>{n.on("PastePreProcess",l=>{l.content=s(n,l.content,l.internal)})},mee=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,eV=n=>fr.trim(n).replace(mee,d0).toLowerCase(),gee=(n,s,l)=>{const m=Bw(n);if(l||m==="all"||!Qw(n))return s;const O=m?m.split(/[, ]/):[];if(O&&m!=="none"){const P=n.dom,Z=n.selection.getNode();s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(J,he,_e,Ge)=>{const qe=P.parseStyle(P.decode(_e)),ot={};for(let Vt=0;Vt<O.length;Vt++){const kt=qe[O[Vt]];let It=kt,cn=P.getStyle(Z,O[Vt],!0);/color/.test(O[Vt])&&(It=eV(It),cn=eV(cn)),cn!==It&&(ot[O[Vt]]=kt)}const Et=P.serializeStyle(ot,"span");return Et?he+' style="'+Et+'"'+Ge:he+Ge})}else s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return s=s.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(P,Z,J,he)=>Z+' style="'+J+'"'+he),s},pee=n=>{(Dr.browser.isChromium()||Dr.browser.isSafari())&&hee(n,gee)},tV=n=>{const s=ni(!1),l=ni(Vw(n)?"text":"html"),m=UJ(n);pee(n),mR(n,l),JF(n),n.on("PreInit",()=>{cee(n),bR(n,s),oee(n,m,l)})},vee=n=>{n.on("click",s=>{n.dom.getParent(s.target,"details")&&s.preventDefault()})},yee=n=>{n.parser.addNodeFilter("details",s=>{const l=_l(n);re(s,m=>{l==="expanded"?m.attr("open","open"):l==="collapsed"&&m.attr("open",null)})}),n.serializer.addNodeFilter("details",s=>{const l=o9(n);re(s,m=>{l==="expanded"?m.attr("open","open"):l==="collapsed"&&m.attr("open",null)})})},bee=n=>{vee(n),yee(n)},Oee=aa,nV=lr,xee=n=>Os(n.dom),See=n=>Zl(n.dom),j4=n=>s=>Gs(Yt.fromDom(n),s),rV=(n,s,l)=>wu(Yt.fromDom(n),m=>See(m)||l.isBlock(Vs(m)),j4(s)).getOr(Yt.fromDom(s)).dom,oV=(n,s)=>wu(Yt.fromDom(n),xee,j4(s)),sV=(n,s,l)=>{const m=new ca(n,s),O=l?m.next.bind(m):m.prev.bind(m);let P=n;for(let Z=l?n:O();Z&&!Oee(Z);Z=O())go(Z)&&(P=Z);return P},wee=(n,s,l)=>{const O=Nn.fromRangeStart(n).getNode(),P=rV(O,s,l),Z=sV(O,P,!1),J=sV(O,P,!0),he=document.createRange();return oV(Z,P).fold(()=>{nV(Z)?he.setStart(Z,0):he.setStartBefore(Z)},_e=>he.setStartBefore(_e.dom)),oV(J,P).fold(()=>{nV(J)?he.setEnd(J,J.data.length):he.setEndAfter(J)},_e=>he.setEndAfter(_e.dom)),he},Tee=n=>{const s=wee(n.selection.getRng(),n.getBody(),n.schema);n.selection.setRng(a2(s))},Cee=n=>{n.on("mousedown",s=>{s.detail>=3&&(s.preventDefault(),Tee(n))})};var z2;(function(n){n.Before="before",n.After="after"})(z2||(z2={}));const kee=(n,s)=>Math.abs(n.left-s),q4=(n,s)=>Math.abs(n.right-s),aV=(n,s)=>n>=s.top&&n<=s.bottom,Aee=(n,s)=>n.top<s.bottom&&n.bottom>s.top,iV=(n,s)=>{const l=XM(n,s)/Math.min(n.height,s.height);return Aee(n,s)&&l>.5},lV=(n,s)=>{const l=se(n,m=>aV(s,m));return YM(l).fold(()=>[[],n],m=>{const{pass:O,fail:P}=te(n,Z=>iV(Z,m));return[O,P]})},OR=(n,s)=>({node:n.node,position:kee(n,s)<q4(n,s)?z2.Before:z2.After}),Pee=(n,s,l)=>s>n.left&&s<n.right?0:Math.min(Math.abs(n.left-s),Math.abs(n.right-s)),K4=(n,s,l)=>{const m=Ge=>go(Ge.node)?G.some(Ge):Xr(Ge.node)?K4(tt(Ge.node.childNodes),s,l):G.none(),O=(Ge,qe)=>{if(Ge.length>=2){const ot=m(Ge[0]).getOr(Ge[0]),Et=m(Ge[1]).getOr(Ge[1]);if(Math.abs(qe(ot,s,l)-qe(Et,s,l))<2){if(lr(ot.node))return G.some(ot);if(lr(Et.node))return G.some(Et)}}return G.none()},P=(Ge,qe)=>{const ot=je(Ge,(Et,Vt)=>qe(Et,s,l)-qe(Vt,s,l));return O(ot,qe).orThunk(()=>wt(ot,m))},[Z,J]=lV(gB(n),l),{pass:he,fail:_e}=te(J,Ge=>Ge.top<l);return P(Z,Pee).orThunk(()=>P(_e,cw)).orThunk(()=>P(he,cw))},Mee=(n,s,l,m)=>{const O=(P,Z)=>{const J=_e=>Xr(_e)&&_e.classList.contains("mce-drag-container"),he=se(P.dom.childNodes,be(J));return Z.fold(()=>K4(he,l,m),_e=>{const Ge=se(he,qe=>qe!==_e.dom);return K4(Ge,l,m)}).orThunk(()=>(Gs(P,n)?G.none():yg(P)).bind(Ge=>O(Ge,G.some(P))))};return O(s,G.none())},cV=(n,s,l)=>{const m=Yt.fromDom(n),O=qf(m),Z=Yt.fromPoint(O,s,l).filter(J=>tc(m,J)).getOr(m);return Mee(m,Z,s,l)},uV=(n,s,l)=>cV(n,s,l).filter(m=>B0(m.node)).map(m=>OR(m,s)),xR=n=>{var s,l;const m=n.getBoundingClientRect(),O=n.ownerDocument,P=O.documentElement,Z=O.defaultView;return{top:m.top+((s=Z==null?void 0:Z.scrollY)!==null&&s!==void 0?s:0)-P.clientTop,left:m.left+((l=Z==null?void 0:Z.scrollX)!==null&&l!==void 0?l:0)-P.clientLeft}},Eee=n=>n.inline?xR(n.getBody()):{left:0,top:0},_ee=n=>{const s=n.getBody();return n.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}},Ree=n=>{const s=n.getBody(),l=n.getDoc().documentElement,m={left:s.scrollLeft,top:s.scrollTop},O={left:s.scrollLeft||l.scrollLeft,top:s.scrollTop||l.scrollTop};return n.inline?m:O},U3=(n,s)=>{if(s.target.ownerDocument!==n.getDoc()){const l=xR(n.getContentAreaContainer()),m=Ree(n);return{left:s.pageX-l.left+m.left,top:s.pageY-l.top+m.top}}return{left:s.pageX,top:s.pageY}},Dee=(n,s,l)=>({pageX:l.left-n.left+s.left,pageY:l.top-n.top+s.top}),$ee=(n,s)=>Dee(Eee(n),_ee(n),U3(n,s)),SR=n=>({target:n,srcElement:n}),Lee=(n,s,l,m)=>({...s,dataTransfer:m,type:n,...SR(l)}),Iee=(n,s,l)=>{const m=Te("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:n,composedPath:m,initEvent:m,preventDefault:ie,stopImmediatePropagation:ie,stopPropagation:ie,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:m,initMouseEvent:m,getModifierState:m,dataTransfer:l,...SR(s)}},Nee=(n,s)=>{const l=Q2(n);return s==="dragstart"?(AF(l),MF(l)):s==="drop"?(EJ(l),nR(l)):(Z4(l),EF(l)),l},Bee=(n,s,l,m)=>{const O=Nee(l,n);return U(m)?Iee(n,s,O):Lee(n,m,s,O)},J4=32,eP=100,W3=8,Y3=16,fV=Os,Qee=GM(fV,Zl),Fee=(n,s,l)=>fV(l)&&l!==s&&n.isEditable(l.parentElement),vce=(n,s,l)=>Q(s)||s===l||n.dom.isChildOf(s,l)?!1:n.dom.isEditable(s),Vee=(n,s,l,m)=>{const O=n.dom,P=s.cloneNode(!0);O.setStyles(P,{width:l,height:m}),O.setAttrib(P,"data-mce-selected",null);const Z=O.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return O.setStyles(Z,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:l,height:m}),O.setStyles(P,{margin:0,boxSizing:"border-box"}),Z.appendChild(P),Z},wR=(n,s)=>{n.parentNode!==s&&s.appendChild(n)},Z2=(n,s)=>l=>()=>{const m=n==="left"?l.scrollX:l.scrollY;l.scroll({[n]:m+s,behavior:"smooth"})},X3=Z2("left",-J4),dV=Z2("left",J4),hV=Z2("top",-J4),TR=Z2("top",J4),zee=(n,s,l,m,O,P,Z,J,he,_e,Ge,qe)=>{let ot=0,Et=0;n.style.left=s.pageX+"px",n.style.top=s.pageY+"px",s.pageX+l>O&&(ot=s.pageX+l-O),s.pageY+m>P&&(Et=s.pageY+m-P),n.style.width=l-ot+"px",n.style.height=m-Et+"px";const Vt=he.clientHeight,kt=he.clientWidth,It=Z+he.getBoundingClientRect().top,cn=J+he.getBoundingClientRect().left;Ge.on(xn=>{xn.intervalId.clear(),xn.dragging&&qe&&(Z+W3>=Vt?xn.intervalId.set(TR(_e)):Z-W3<=0?xn.intervalId.set(hV(_e)):J+W3>=kt?xn.intervalId.set(dV(_e)):J-W3<=0?xn.intervalId.set(X3(_e)):It+Y3>=window.innerHeight?xn.intervalId.set(TR(window)):It-Y3<=0?xn.intervalId.set(hV(window)):cn+Y3>=window.innerWidth?xn.intervalId.set(dV(window)):cn-Y3<=0&&xn.intervalId.set(X3(window)))})},tP=n=>{n&&n.parentNode&&n.parentNode.removeChild(n)},mV=(n,s)=>{const l=n.getParent(s.parentNode,n.isBlock);tP(s),l&&l!==n.getRoot()&&n.isEmpty(l)&&D(Yt.fromDom(l))},Zee=n=>n.button===0,Hee=(n,s)=>({pageX:s.pageX-n.relX,pageY:s.pageY+5}),gV=(n,s)=>l=>{if(Zee(l)){const m=le(s.dom.getParents(l.target),Qee).getOr(null);if(B(m)&&Fee(s.dom,s.getBody(),m)){const O=s.dom.getPos(m),P=s.getBody(),Z=s.getDoc().documentElement;n.set({element:m,dataTransfer:rR(),dragging:!1,screenX:l.screenX,screenY:l.screenY,maxX:(s.inline?P.scrollWidth:Z.offsetWidth)-2,maxY:(s.inline?P.scrollHeight:Z.offsetHeight)-2,relX:l.pageX-O.x,relY:l.pageY-O.y,width:m.offsetWidth,height:m.offsetHeight,ghost:Vee(s,m,m.offsetWidth,m.offsetHeight),intervalId:UM(eP)})}}},Uee=(n,s,l)=>{n._selectionOverrides.hideFakeCaret(),uV(n.getBody(),s,l).fold(()=>n.selection.placeCaretAt(s,l),m=>{const O=n._selectionOverrides.showCaret(1,m.node,m.position===z2.Before,!1);O?n.selection.setRng(O):n.selection.placeCaretAt(s,l)})},nP=(n,s,l,m,O)=>{s==="dragstart"&&DF(m,n.dom.getOuterHTML(l));const P=Bee(s,l,m,O);return n.dispatch(s,P)},Wee=(n,s)=>{const l=By((O,P)=>Uee(s,O,P),0);s.on("remove",l.cancel);const m=n;return O=>n.on(P=>{const Z=Math.max(Math.abs(O.screenX-P.screenX),Math.abs(O.screenY-P.screenY));if(!P.dragging&&Z>10){const J=nP(s,"dragstart",P.element,P.dataTransfer,O);if(B(J.dataTransfer)&&(P.dataTransfer=J.dataTransfer),J.isDefaultPrevented())return;P.dragging=!0,s.focus()}if(P.dragging){const J=O.currentTarget===s.getDoc().documentElement,he=Hee(P,$ee(s,O));wR(P.ghost,s.getBody()),zee(P.ghost,he,P.width,P.height,P.maxX,P.maxY,O.clientY,O.clientX,s.getContentAreaContainer(),s.getWin(),m,J),l.throttle(O.clientX,O.clientY)}})},Yee=n=>{const s=n.getSel();if(B(s)){const m=s.getRangeAt(0).startContainer;return lr(m)?m.parentNode:m}else return null},Xee=(n,s)=>l=>{n.on(m=>{var O;if(m.intervalId.clear(),m.dragging){if(vce(s,Yee(s.selection),m.element)){const P=(O=s.getDoc().elementFromPoint(l.clientX,l.clientY))!==null&&O!==void 0?O:s.getBody();nP(s,"drop",P,m.dataTransfer,l).isDefaultPrevented()||s.undoManager.transact(()=>{mV(s.dom,m.element),BJ(m.dataTransfer).each(J=>s.insertContent(J)),s._selectionOverrides.hideFakeCaret()})}nP(s,"dragend",s.getBody(),m.dataTransfer,l)}}),kR(n)},CR=(n,s,l)=>{n.on(m=>{m.intervalId.clear(),m.dragging&&l.fold(()=>nP(s,"dragend",m.element,m.dataTransfer),O=>nP(s,"dragend",m.element,m.dataTransfer,O))}),kR(n)},Gee=(n,s)=>l=>CR(n,s,G.some(l)),kR=n=>{n.on(s=>{s.intervalId.clear(),tP(s.ghost)}),n.clear()},jee=n=>{const s=_g(),l=Da.DOM,m=document,O=gV(s,n),P=Wee(s,n),Z=Xee(s,n),J=Gee(s,n);n.on("mousedown",O),n.on("mousemove",P),n.on("mouseup",Z),l.bind(m,"mousemove",P),l.bind(m,"mouseup",J),n.on("remove",()=>{l.unbind(m,"mousemove",P),l.unbind(m,"mouseup",J)}),n.on("keydown",he=>{he.keyCode===Wr.ESC&&CR(s,n,G.none())})},qee=n=>{const s=O=>{if(!O.isDefaultPrevented()){const P=O.dataTransfer;P&&(Ze(P.types,"Files")||P.files.length>0)&&(O.preventDefault(),O.type==="drop"&&N5(n,"Dropped file type is not supported"))}},l=O=>{$A(n,O.target)&&s(O)},m=()=>{const O=Da.DOM,P=n.dom,Z=document,J=n.inline?n.getBody():n.getDoc(),he=["drop","dragover"];re(he,_e=>{O.bind(Z,_e,l),P.bind(J,_e,s)}),n.on("remove",()=>{re(he,_e=>{O.unbind(Z,_e,l),P.unbind(J,_e,s)})})};n.on("init",()=>{fd.setEditorTimeout(n,m,0)})},Kee=n=>{jee(n),Ox(n)&&qee(n)},Jee=n=>{const s=By(()=>{if(!n.removed&&n.getBody().contains(document.activeElement)){const l=n.selection.getRng();if(l.collapsed){const m=C2(n,l,!1);n.selection.setRng(m)}}},0);n.on("focus",()=>{s.throttle()}),n.on("blur",()=>{s.cancel()})},ete=n=>{n.on("init",()=>{n.on("focusin",s=>{const l=s.target;if(ei(l)){const m=Lb(n.getBody(),l),O=Os(m)?m:l;n.selection.getNode()!==O&&T2(n,O).each(P=>n.selection.setRng(P))}})})},H2=Os,tte=(n,s)=>Lb(n.getBody(),s),nte=n=>{const s=n.selection,l=n.dom,m=n.getBody(),O=Xw(n,m,l.isBlock,()=>o1(n)),P="sel-"+l.uniqueId(),Z="data-mce-selected";let J;const he=Qr=>B(Qr)&&l.hasClass(Qr,"mce-offscreen-selection"),_e=Qr=>Qr!==m&&(H2(Qr)||ei(Qr))&&l.isChildOf(Qr,m)&&l.isEditable(Qr.parentNode),Ge=Qr=>{Qr&&s.setRng(Qr)},qe=(Qr,zn,Bn,tr=!0)=>n.dispatch("ShowCaret",{target:zn,direction:Qr,before:Bn}).isDefaultPrevented()?null:(tr&&s.scrollIntoView(zn,Qr===-1),O.show(Bn,zn)),ot=Qr=>{Qr.hasAttribute("data-mce-caret")&&(Pn(Qr),s.scrollIntoView(Qr))},Et=()=>{n.on("click",zn=>{l.isEditable(zn.target)||(zn.preventDefault(),n.focus())}),n.on("blur NewBlock",$n),n.on("ResizeWindow FullscreenStateChanged",O.reposition),n.on("tap",zn=>{const Bn=zn.target,tr=tte(n,Bn);H2(tr)?(zn.preventDefault(),T2(n,tr).each(bn)):_e(Bn)&&T2(n,Bn).each(bn)},!0),n.on("mousedown",zn=>{const Bn=zn.target;if(Bn!==m&&Bn.nodeName!=="HTML"&&!l.isChildOf(Bn,m)||!RG(n,zn.clientX,zn.clientY))return;$n(),gr();const tr=tte(n,Bn);H2(tr)?(zn.preventDefault(),T2(n,tr).each(bn)):uV(m,zn.clientX,zn.clientY).each(eo=>{zn.preventDefault();const po=qe(1,eo.node,eo.position===z2.Before,!1);Ge(po),zl(tr)?tr.focus():n.getBody().focus()})}),n.on("keypress",zn=>{Wr.modifierPressed(zn)||H2(s.getNode())&&zn.preventDefault()}),n.on("GetSelectionRange",zn=>{let Bn=zn.range;if(J){if(!J.parentNode){J=null;return}Bn=Bn.cloneRange(),Bn.selectNode(J),zn.range=Bn}}),n.on("SetSelectionRange",zn=>{zn.range=It(zn.range);const Bn=bn(zn.range,zn.forward);Bn&&(zn.range=Bn)});const Qr=zn=>Xr(zn)&&zn.id==="mcepastebin";n.on("AfterSetSelectionRange",zn=>{const Bn=zn.range,tr=Bn.startContainer.parentElement;!kt(Bn)&&!Qr(tr)&&gr(),he(tr)||$n()}),Kee(n),Jee(n),ete(n)},Vt=Qr=>bt(Qr)||tn(Qr)||hn(Qr),kt=Qr=>Vt(Qr.startContainer)||Vt(Qr.endContainer),It=Qr=>{const zn=n.schema.getVoidElements(),Bn=l.createRng(),tr=Qr.startContainer,eo=Qr.startOffset,po=Qr.endContainer,ls=Qr.endOffset;return it(zn,tr.nodeName.toLowerCase())?eo===0?Bn.setStartBefore(tr):Bn.setStartAfter(tr):Bn.setStart(tr,eo),it(zn,po.nodeName.toLowerCase())?ls===0?Bn.setEndBefore(po):Bn.setEndAfter(po):Bn.setEnd(po,ls),Bn},cn=(Qr,zn)=>{const Bn=Yt.fromDom(n.getBody()),tr=n.getDoc(),eo=Sc(Bn,"#"+P).getOrThunk(()=>{const ys=Yt.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',tr);return Ra(ys,"id",P),Ci(Bn,ys),ys}),po=l.createRng();bh(eo),Ta(eo,[Yt.fromText(zs,tr),Yt.fromDom(zn),Yt.fromText(zs,tr)]),po.setStart(eo.dom.firstChild,1),po.setEnd(eo.dom.lastChild,0),nc(eo,{top:l.getPos(Qr,n.getBody()).y+"px"}),AA(eo);const ls=s.getSel();return ls&&(ls.removeAllRanges(),ls.addRange(po)),po},xn=Qr=>{const zn=Qr.cloneNode(!0),Bn=n.dispatch("ObjectSelected",{target:Qr,targetClone:zn});if(Bn.isDefaultPrevented())return null;const tr=cn(Qr,Bn.targetClone),eo=Yt.fromDom(Qr);return re(sl(Yt.fromDom(n.getBody()),`*[${Z}]`),po=>{Gs(eo,po)||ci(po,Z)}),l.getAttrib(Qr,Z)||Qr.setAttribute(Z,"1"),J=Qr,gr(),tr},bn=(Qr,zn)=>{if(!Qr)return null;if(Qr.collapsed){if(!kt(Qr)){const po=zn?1:-1,ls=zg(po,m,Qr),ys=ls.getNode(!zn);if(B(ys)){if(B0(ys))return qe(po,ys,zn?!ls.isAtEnd():!1,!1);if(vt(ys)&&Os(ys.nextSibling)){const $s=l.createRng();return $s.setStart(ys,0),$s.setEnd(ys,0),$s}}const ma=ls.getNode(zn);if(B(ma)){if(B0(ma))return qe(po,ma,zn?!1:!ls.isAtEnd(),!1);if(vt(ma)&&Os(ma.previousSibling)){const $s=l.createRng();return $s.setStart(ma,1),$s.setEnd(ma,1),$s}}}return null}let Bn=Qr.startContainer,tr=Qr.startOffset;const eo=Qr.endOffset;if(lr(Bn)&&tr===0&&H2(Bn.parentNode)&&(Bn=Bn.parentNode,tr=l.nodeIndex(Bn),Bn=Bn.parentNode),!Xr(Bn))return null;if(eo===tr+1&&Bn===Qr.endContainer){const po=Bn.childNodes[tr];if(_e(po))return xn(po)}return null},$n=()=>{J&&J.removeAttribute(Z),Sc(Yt.fromDom(n.getBody()),"#"+P).each(Ks),J=null},rr=()=>{O.destroy(),J=null},gr=()=>{O.hide()};return Cv(n)||Et(),{showCaret:qe,showBlockCaretContainer:ot,hideFakeCaret:gr,destroy:rr}},pV=(n,s)=>{let l=s;for(let m=n.previousSibling;lr(m);m=m.previousSibling)l+=m.data.length;return l},vV=(n,s,l,m,O)=>{if(lr(l)&&(m<0||m>l.data.length))return[];const P=O&&lr(l)?[pV(l,m)]:[m];let Z=l;for(;Z!==s&&Z.parentNode;)P.push(n.nodeIndex(Z,O)),Z=Z.parentNode;return Z===s?P.reverse():[]},G3=(n,s,l,m,O,P,Z=!1)=>{const J=vV(n,s,l,m,Z),he=vV(n,s,O,P,Z);return{start:J,end:he}},yV=(n,s)=>{const l=s.slice(),m=l.pop();return W(m)?oe(l,(P,Z)=>P.bind(J=>G.from(J.childNodes[Z])),G.some(n)).bind(P=>lr(P)&&(m<0||m>P.data.length)?G.none():G.some({node:P,offset:m})):G.none()},bV=(n,s)=>yV(n,s.start).bind(({node:l,offset:m})=>yV(n,s.end).map(({node:O,offset:P})=>{const Z=document.createRange();return Z.setStart(l,m),Z.setEnd(O,P),Z})),rte=(n,s,l,m=!1)=>G3(n,s,l.startContainer,l.startOffset,l.endContainer,l.endOffset,m),Gb=(n,s,l)=>{if(s&&n.isEmpty(s)&&!l(s)){const m=s.parentNode;n.remove(s,lr(s.firstChild)&&Ba(s.firstChild.data)),Gb(n,m,l)}},jb=(n,s,l,m=!0)=>{const O=s.startContainer.parentNode,P=s.endContainer.parentNode;s.deleteContents(),m&&!l(s.startContainer)&&(lr(s.startContainer)&&s.startContainer.data.length===0&&n.remove(s.startContainer),lr(s.endContainer)&&s.endContainer.data.length===0&&n.remove(s.endContainer),Gb(n,O,l),O!==P&&Gb(n,P,l))},rP=(n,s)=>G.from(n.dom.getParent(s.startContainer,n.dom.isBlock)),AR=(n,s,l)=>{const m=n.dynamicPatternsLookup({text:l,block:s});return{...n,blockPatterns:px(m).concat(n.blockPatterns),inlinePatterns:Tw(m).concat(n.inlinePatterns)}},OV=(n,s,l,m)=>{const O=n.createRng();return O.setStart(s,0),O.setEnd(l,m),O.toString()},ote=n=>/^\s[^\s]/.test(n),PR=(n,s,l)=>{yQ(s,0,s).each(O=>{const P=O.container;O4(P,l.start.length,s).each(he=>{const _e=n.createRng();_e.setStart(P,0),_e.setEnd(he.container,he.offset),jb(n,_e,Ge=>Ge===s)});const Z=Yt.fromDom(P),J=su(Z);ote(J)&&rc(Z,J.slice(1))})},ste=(n,s)=>{const l=n.dom,m=s.pattern,O=bV(l.getRoot(),s.range).getOrDie("Unable to resolve path range"),P=(Z,J)=>{const he=J.get(Z);return N(he)&&yt(he).exists(_e=>it(_e,"block"))};return rP(n,O).each(Z=>{m.type==="block-format"?P(m.format,n.formatter)&&n.undoManager.transact(()=>{PR(n.dom,Z,m),n.formatter.apply(m.format)}):m.type==="block-command"&&n.undoManager.transact(()=>{PR(n.dom,Z,m),n.execCommand(m.cmd,!1,m.value)})}),!0},ate=n=>je(n,(s,l)=>l.start.length-s.start.length),ite=(n,s)=>{const l=ate(n),m=s.replace(zs," ");return le(l,O=>s.indexOf(O.start)===0||m.indexOf(O.start)===0)},MR=(n,s,l,m)=>{var O;const P=n.dom,Z=Ec(n);if(!P.is(s,Z))return[];const J=(O=s.textContent)!==null&&O!==void 0?O:"";return ite(l.blockPatterns,J).map(he=>fr.trim(J).length===he.start.length?[]:[{pattern:he,range:G3(P,P.getRoot(),s,0,s,0,m)}]).getOr([])},lte=(n,s)=>{if(s.length===0)return;const l=n.selection.getBookmark();re(s,m=>ste(n,m)),n.selection.moveToBookmark(l)},xV=(n,s)=>n.create("span",{"data-mce-type":"bookmark",id:s}),oP=(n,s)=>{const l=n.createRng();return l.setStartAfter(s.start),l.setEndBefore(s.end),l},SV=(n,s,l)=>{const m=bV(n.getRoot(),l).getOrDie("Unable to resolve path range"),O=m.startContainer,P=m.endContainer,Z=m.endOffset===0?P:P.splitText(m.endOffset),J=m.startOffset===0?O:O.splitText(m.startOffset),he=J.parentNode,_e=Z.parentNode;return{prefix:s,end:_e.insertBefore(xV(n,s+"-end"),Z),start:he.insertBefore(xV(n,s+"-start"),J)}},wV=(n,s,l)=>{Gb(n,n.get(s.prefix+"-end"),l),Gb(n,n.get(s.prefix+"-start"),l)},ER=n=>n.start.length===0,TV=n=>(s,l)=>{const O=s.data.substring(0,l),P=O.lastIndexOf(n.charAt(n.length-1)),Z=O.lastIndexOf(n);return Z!==-1?Z+n.length:P!==-1?P+1:-1},_R=(n,s,l,m)=>{const O=s.start;return E3(n,m.container,m.offset,TV(O),l).bind(Z=>{var J,he;const _e=(he=(J=l.textContent)===null||J===void 0?void 0:J.indexOf(O))!==null&&he!==void 0?he:-1;if(_e!==-1&&Z.offset>=_e+O.length){const qe=n.createRng();return qe.setStart(Z.container,Z.offset-O.length),qe.setEnd(Z.container,Z.offset),G.some(qe)}else{const qe=Z.offset-O.length;return M3(Z.container,qe,l).map(ot=>{const Et=n.createRng();return Et.setStart(ot.container,ot.offset),Et.setEnd(Z.container,Z.offset),Et}).filter(ot=>ot.toString()===O).orThunk(()=>_R(n,s,l,Wh(Z.container,0)))}})},RR=(n,s,l,m,O,P=!1)=>{if(s.start.length===0&&!P){const Z=n.createRng();return Z.setStart(l,m),Z.setEnd(l,m),G.some(Z)}return P3(l,m,O).bind(Z=>_R(n,s,O,Z).bind(he=>{var _e;if(P){if(he.endContainer===Z.container&&he.endOffset===Z.offset)return G.none();if(Z.offset===0&&((_e=he.endContainer.textContent)===null||_e===void 0?void 0:_e.length)===he.endOffset)return G.none()}return G.some(he)}))},DR=(n,s,l,m)=>{const O=n.dom,P=O.getRoot(),Z=l.pattern,J=l.position.container,he=l.position.offset;return M3(J,he-l.pattern.end.length,s).bind(_e=>{const Ge=G3(O,P,_e.container,_e.offset,J,he,m);if(ER(Z))return G.some({matches:[{pattern:Z,startRng:Ge,endRng:Ge}],position:_e});{const qe=sP(n,l.remainingPatterns,_e.container,_e.offset,s,m),ot=qe.getOr({matches:[],position:_e}),Et=ot.position;return RR(O,Z,Et.container,Et.offset,s,qe.isNone()).map(kt=>{const It=rte(O,P,kt,m);return{matches:ot.matches.concat([{pattern:Z,startRng:It,endRng:Ge}]),position:Wh(kt.startContainer,kt.startOffset)}})}})},sP=(n,s,l,m,O,P)=>{const Z=n.dom;return P3(l,m,Z.getRoot()).bind(J=>{const he=OV(Z,O,l,m);for(let _e=0;_e<s.length;_e++){const Ge=s[_e];if(!ao(he,Ge.end))continue;const qe=s.slice();qe.splice(_e,1);const ot=DR(n,O,{pattern:Ge,remainingPatterns:qe,position:J},P);if(ot.isNone()&&m>0)return sP(n,s,l,m-1,O,P);if(ot.isSome())return ot}return G.none()})},aP=(n,s,l)=>{n.selection.setRng(l),s.type==="inline-format"?re(s.format,m=>{n.formatter.apply(m)}):n.execCommand(s.cmd,!1,s.value)},cte=(n,s,l,m)=>{const O=oP(n.dom,l);jb(n.dom,O,m),aP(n,s,O)},ute=(n,s,l,m,O)=>{const P=n.dom,Z=oP(P,m),J=oP(P,l);jb(P,J,O),jb(P,Z,O);const he={prefix:l.prefix,start:l.end,end:m.start},_e=oP(P,he);aP(n,s,_e)},CV=(n,s)=>{const l=nv("mce_textpattern"),m=ue(s,(O,P)=>{const Z=SV(n,l+`_end${O.length}`,P.endRng);return O.concat([{...P,endMarker:Z}])},[]);return ue(m,(O,P)=>{const Z=m.length-O.length-1,J=ER(P.pattern)?P.endMarker:SV(n,l+`_start${Z}`,P.startRng);return O.concat([{...P,startMarker:J}])},[])},fte=n=>je(n,(s,l)=>l.end.length-s.end.length),dte=(n,s)=>{const l=Xe(n,m=>De(s,O=>m.pattern.start===O.pattern.start&&m.pattern.end===O.pattern.end));return n.length===s.length?l?n:s:n.length>s.length?n:s},kV=(n,s,l,m,O,P)=>{const Z=sP(n,O.inlinePatterns,l,m,s,P).fold(()=>[],he=>he.matches),J=sP(n,fte(O.inlinePatterns),l,m,s,P).fold(()=>[],he=>he.matches);return dte(Z,J)},AV=(n,s)=>{if(s.length===0)return;const l=n.dom,m=n.selection.getBookmark(),O=CV(l,s);re(O,P=>{const Z=l.getParent(P.startMarker.start,l.isBlock),J=he=>he===Z;ER(P.pattern)?cte(n,P.pattern,P.endMarker,J):ute(n,P.pattern,P.startMarker,P.endMarker,J),wV(l,P.endMarker,J),wV(l,P.startMarker,J)}),n.selection.moveToBookmark(m)},hte=(n,s)=>{const l=n.selection.getRng();return rP(n,l).map(m=>{var O;const P=Math.max(0,l.startOffset),Z=AR(s,m,(O=m.textContent)!==null&&O!==void 0?O:""),J=kV(n,m,l.startContainer,P,Z,!0),he=MR(n,m,Z,!0);return he.length>0||J.length>0?(n.undoManager.add(),n.undoManager.extra(()=>{n.execCommand("mceInsertNewLine")},()=>{Re(n),AV(n,J),lte(n,he);const _e=n.selection.getRng(),Ge=P3(_e.startContainer,_e.startOffset,n.dom.getRoot());n.execCommand("mceInsertNewLine"),Ge.each(qe=>{const ot=qe.container;ot.data.charAt(qe.offset-1)===Cg&&(ot.deleteData(qe.offset-1,1),Gb(n.dom,ot.parentNode,Et=>Et===n.dom.getRoot()))})}),!0):!1}).getOr(!1)},mte=(n,s)=>{const l=n.selection.getRng();rP(n,l).map(m=>{const O=Math.max(0,l.startOffset-1),P=OV(n.dom,m,l.startContainer,O),Z=AR(s,m,P),J=kV(n,m,l.startContainer,O,Z,!1);J.length>0&&n.undoManager.transact(()=>{AV(n,J)})})},PV=(n,s,l)=>{for(let m=0;m<n.length;m++)if(l(n[m],s))return!0;return!1},MV=(n,s)=>PV(n,s,(l,m)=>l===m.keyCode&&!Wr.modifierPressed(m)),gte=(n,s)=>PV(n,s,(l,m)=>l.charCodeAt(0)===m.charCode),$R=n=>{const s=[",",".",";",":","!","?"],l=[32],m=()=>lu(wx(n),CE(n)),O=()=>Hw(n);n.on("keydown",Z=>{if(Z.keyCode===13&&!Wr.modifierPressed(Z)&&n.selection.isCollapsed()){const J=m();(J.inlinePatterns.length>0||J.blockPatterns.length>0||O())&&hte(n,J)&&Z.preventDefault()}},!0);const P=()=>{if(n.selection.isCollapsed()){const Z=m();(Z.inlinePatterns.length>0||O())&&mte(n,Z)}};n.on("keyup",Z=>{MV(l,Z)&&P()}),n.on("keypress",Z=>{gte(s,Z)&&fd.setEditorTimeout(n,P)})},pte=n=>{$R(n)},vte=n=>{const s=fr.each,l=Wr.BACKSPACE,m=Wr.DELETE,O=n.dom,P=n.selection,Z=n.parser,J=Dr.browser,he=J.isFirefox(),_e=J.isChromium()||J.isSafari(),Ge=Dr.deviceType.isiPhone()||Dr.deviceType.isiPad(),qe=Dr.os.isMacOS()||Dr.os.isiOS(),ot=(ro,Lo)=>{try{n.getDoc().execCommand(ro,!1,String(Lo))}catch{}},Et=ro=>ro.isDefaultPrevented(),Vt=()=>{const ro=yr=>{const Bo=O.create("body"),Ls=yr.cloneContents();return Bo.appendChild(Ls),P.serializer.serialize(Bo,{format:"html"})},Lo=yr=>{const Bo=ro(yr),Ls=O.createRng();Ls.selectNode(n.getBody());const Aa=ro(Ls);return Bo===Aa};n.on("keydown",yr=>{const Bo=yr.keyCode;if(!Et(yr)&&(Bo===m||Bo===l)&&n.selection.isEditable()){const Ls=n.selection.isCollapsed(),Aa=n.getBody();if(Ls&&!ta(Yt.fromDom(Aa))||!Ls&&!Lo(n.selection.getRng()))return;yr.preventDefault(),n.setContent(""),Aa.firstChild&&O.isBlock(Aa.firstChild)?n.selection.setCursorLocation(Aa.firstChild,0):n.selection.setCursorLocation(Aa,0),n.nodeChanged()}})},kt=()=>{n.shortcuts.add("meta+a",null,"SelectAll")},It=()=>{n.inline||O.bind(n.getDoc(),"mousedown mouseup",ro=>{let Lo;if(ro.target===n.getDoc().documentElement)if(Lo=P.getRng(),n.getBody().focus(),ro.type==="mousedown"){if(bt(Lo.startContainer))return;P.placeCaretAt(ro.clientX,ro.clientY)}else P.setRng(Lo)})},cn=()=>{n.on("keydown",ro=>{if(!Et(ro)&&ro.keyCode===l){if(!n.getBody().getElementsByTagName("hr").length)return;if(P.isCollapsed()&&P.getRng().startOffset===0){const Lo=P.getNode(),yr=Lo.previousSibling;if(Lo.nodeName==="HR"){O.remove(Lo),ro.preventDefault();return}yr&&yr.nodeName&&yr.nodeName.toLowerCase()==="hr"&&(O.remove(yr),ro.preventDefault())}}})},xn=()=>{Range.prototype.getClientRects||n.on("mousedown",ro=>{if(!Et(ro)&&ro.target.nodeName==="HTML"){const Lo=n.getBody();Lo.blur(),fd.setEditorTimeout(n,()=>{Lo.focus()})}})},bn=()=>{const ro=Nk(n);n.on("click",Lo=>{const yr=Lo.target;/^(IMG|HR)$/.test(yr.nodeName)&&O.isEditable(yr)&&(Lo.preventDefault(),n.selection.select(yr),n.nodeChanged()),yr.nodeName==="A"&&O.hasClass(yr,ro)&&yr.childNodes.length===0&&O.isEditable(yr.parentNode)&&(Lo.preventDefault(),P.select(yr))})},$n=()=>{const ro=()=>{const yr=O.getAttribs(P.getStart().cloneNode(!1));return()=>{const Bo=P.getStart();Bo!==n.getBody()&&(O.setAttrib(Bo,"style",null),s(yr,Ls=>{Bo.setAttributeNode(Ls.cloneNode(!0))}))}},Lo=()=>!P.isCollapsed()&&O.getParent(P.getStart(),O.isBlock)!==O.getParent(P.getEnd(),O.isBlock);n.on("keypress",yr=>{let Bo;return!Et(yr)&&(yr.keyCode===8||yr.keyCode===46)&&Lo()?(Bo=ro(),n.getDoc().execCommand("delete",!1),Bo(),yr.preventDefault(),!1):!0}),O.bind(n.getDoc(),"cut",yr=>{if(!Et(yr)&&Lo()){const Bo=ro();fd.setEditorTimeout(n,()=>{Bo()})}})},rr=()=>{n.on("keydown",ro=>{if(!Et(ro)&&ro.keyCode===l&&P.isCollapsed()&&P.getRng().startOffset===0){const Lo=P.getNode().previousSibling;if(Lo&&Lo.nodeName&&Lo.nodeName.toLowerCase()==="table")return ro.preventDefault(),!1}return!0})},gr=()=>{n.on("keydown",ro=>{if(Et(ro)||ro.keyCode!==Wr.BACKSPACE)return;let Lo=P.getRng();const yr=Lo.startContainer,Bo=Lo.startOffset,Ls=O.getRoot();let Aa=yr;if(!(!Lo.collapsed||Bo!==0)){for(;Aa.parentNode&&Aa.parentNode.firstChild===Aa&&Aa.parentNode!==Ls;)Aa=Aa.parentNode;Aa.nodeName==="BLOCKQUOTE"&&(n.formatter.toggle("blockquote",void 0,Aa),Lo=O.createRng(),Lo.setStart(yr,0),Lo.setEnd(yr,0),P.setRng(Lo))}})},Qr=()=>{const ro=()=>{ot("StyleWithCSS",!1),ot("enableInlineTableEditing",!1),E0(n)||ot("enableObjectResizing",!1)};qy(n)||n.on("BeforeExecCommand mousedown",ro)},zn=()=>{const ro=()=>{s(O.select("a:not([data-mce-block])"),Lo=>{var yr;let Bo=Lo.parentNode;const Ls=O.getRoot();if((Bo==null?void 0:Bo.lastChild)===Lo){for(;Bo&&!O.isBlock(Bo);){if(((yr=Bo.parentNode)===null||yr===void 0?void 0:yr.lastChild)!==Bo||Bo===Ls)return;Bo=Bo.parentNode}O.add(Bo,"br",{"data-mce-bogus":1})}})};n.on("SetContent ExecCommand",Lo=>{(Lo.type==="setcontent"||Lo.command==="mceInsertLink")&&ro()})},Bn=()=>{n.on("init",()=>{ot("DefaultParagraphSeparator",Ec(n))})},tr=ro=>{const Lo=ro.getBody(),yr=ro.selection.getRng();return yr.startContainer===yr.endContainer&&yr.startContainer===Lo&&yr.startOffset===0&&yr.endOffset===Lo.childNodes.length},eo=()=>{n.on("keyup focusin mouseup",ro=>{!Wr.modifierPressed(ro)&&!tr(n)&&P.normalize()},!0)},po=()=>{n.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ls=()=>{n.inline||n.on("keydown",()=>{document.activeElement===document.body&&n.getWin().focus()})},ys=()=>{n.inline||(n.contentStyles.push("body {min-height: 150px}"),n.on("click",ro=>{let Lo;ro.target.nodeName==="HTML"&&(Lo=n.selection.getRng(),n.getBody().focus(),n.selection.setRng(Lo),n.selection.normalize(),n.nodeChanged())}))},ma=()=>{qe&&n.on("keydown",ro=>{Wr.metaKeyPressed(ro)&&!ro.shiftKey&&(ro.keyCode===37||ro.keyCode===39)&&(ro.preventDefault(),n.selection.getSel().modify("move",ro.keyCode===37?"backward":"forward","lineboundary"))})},$s=()=>{n.on("click",ro=>{let Lo=ro.target;do if(Lo.tagName==="A"){ro.preventDefault();return}while(Lo=Lo.parentNode)}),n.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},hi=()=>{n.on("init",()=>{n.dom.bind(n.getBody(),"submit",ro=>{ro.preventDefault()})})},uc=()=>{Z.addNodeFilter("br",ro=>{let Lo=ro.length;for(;Lo--;)ro[Lo].attr("class")==="Apple-interchange-newline"&&ro[Lo].remove()})},ga=ie,Cr=()=>{if(!he||n.removed)return!1;const ro=n.selection.getSel();return!ro||!ro.rangeCount||ro.rangeCount===0},co=()=>{_e&&(It(),bn(),hi(),kt(),Ge&&(ls(),ys(),$s())),he&&(xn(),Qr(),po(),ma())},Zs=()=>{n.on("drop",ro=>{var Lo;const yr=(Lo=ro.dataTransfer)===null||Lo===void 0?void 0:Lo.getData("text/html");M(yr)&&/^<img[^>]*>$/.test(yr)&&n.dispatch("dragend",new window.DragEvent("dragend",ro))})},Ss=()=>{gr(),Vt(),Dr.windowsPhone||eo(),_e&&(It(),bn(),Bn(),hi(),rr(),uc(),Ge?(ls(),ys(),$s()):kt()),he&&(cn(),xn(),$n(),Qr(),zn(),po(),ma(),rr(),Zs())};return Cv(n)?co():Ss(),{refreshContentEditable:ga,isHidden:Cr}},LR=Da.DOM,yte=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=LO(Pf(l)),O=Yt.fromTag("style");Ra(O,"type","text/css"),Ci(O,Yt.fromText(s)),Ci(m,O),n.on("remove",()=>{Ks(O)})},bte=n=>n.inline?n.getElement().nodeName.toLowerCase():void 0,IR=n=>wn(n,s=>U(s)===!1),j3=n=>{const s=n.options.get,l=n.editorUpload.blobCache;return IR({allow_conditional_comments:s("allow_conditional_comments"),allow_html_data_urls:s("allow_html_data_urls"),allow_svg_data_urls:s("allow_svg_data_urls"),allow_html_in_named_anchor:s("allow_html_in_named_anchor"),allow_script_urls:s("allow_script_urls"),allow_unsafe_link_target:s("allow_unsafe_link_target"),convert_unsafe_embeds:s("convert_unsafe_embeds"),convert_fonts_to_spans:s("convert_fonts_to_spans"),fix_list_elements:s("fix_list_elements"),font_size_legacy_values:s("font_size_legacy_values"),forced_root_block:s("forced_root_block"),forced_root_block_attrs:s("forced_root_block_attrs"),preserve_cdata:s("preserve_cdata"),inline_styles:s("inline_styles"),root_name:bte(n),sandbox_iframes:s("sandbox_iframes"),sanitize:s("xss_sanitization"),validate:!0,blob_cache:l,document:n.getDoc()})},EV=n=>{const s=n.options.get;return IR({custom_elements:s("custom_elements"),extended_valid_elements:s("extended_valid_elements"),invalid_elements:s("invalid_elements"),invalid_styles:s("invalid_styles"),schema:s("schema"),valid_children:s("valid_children"),valid_classes:s("valid_classes"),valid_elements:s("valid_elements"),valid_styles:s("valid_styles"),verify_html:s("verify_html"),padd_empty_block_inline_children:s("format_empty_lines")})},Ote=n=>{const s=n.options.get;return{...j3(n),...EV(n),...IR({remove_trailing_brs:s("remove_trailing_brs"),pad_empty_with_br:s("pad_empty_with_br"),url_converter:s("url_converter"),url_converter_scope:s("url_converter_scope"),element_format:s("element_format"),entities:s("entities"),entity_encoding:s("entity_encoding"),indent:s("indent"),indent_after:s("indent_after"),indent_before:s("indent_before")})}},xte=n=>{const s=Vh(j3(n),n.schema);return s.addAttributeFilter("src,href,style,tabindex",(l,m)=>{const O=n.dom,P="data-mce-"+m;let Z=l.length;for(;Z--;){const J=l[Z];let he=J.attr(m);if(he&&!J.attr(P)){if(he.indexOf("data:")===0||he.indexOf("blob:")===0)continue;m==="style"?(he=O.serializeStyle(O.parseStyle(he),J.name),he.length||(he=null),J.attr(P,he),J.attr(m,he)):m==="tabindex"?(J.attr(P,he),J.attr(m,null)):J.attr(P,n.convertURL(he,m,J.name))}}}),s.addNodeFilter("script",l=>{let m=l.length;for(;m--;){const O=l[m],P=O.attr("type")||"no/type";P.indexOf("mce-")!==0&&O.attr("type","mce-"+P)}}),Zw(n)&&s.addNodeFilter("#cdata",l=>{var m;let O=l.length;for(;O--;){const P=l[O];P.type=8,P.name="#comment",P.value="[CDATA["+n.dom.encode((m=P.value)!==null&&m!==void 0?m:"")+"]]"}}),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",l=>{let m=l.length;const O=n.schema.getNonEmptyElements();for(;m--;){const P=l[m];P.isEmpty(O)&&P.getAll("br").length===0&&P.append(new hu("br",1))}}),s},Ste=n=>{const s=Bk(n);s&&fd.setEditorTimeout(n,()=>{let l;s===!0?l=n:l=n.editorManager.get(s),l&&!l.destroyed&&(l.focus(),l.selection.scrollIntoView())},100)},wte=n=>{const s=n.dom.getRoot();!n.inline&&(!Ix(n)||n.selection.getStart(!0)===s)&&Xc(s).each(l=>{const m=l.getNode(),O=ju(m)?Xc(m).getOr(l):l;n.selection.setRng(O.toRange())})},Tte=n=>{n.bindPendingEventDelegates(),n.initialized=!0,xb(n),n.focus(!0),wte(n),n.nodeChanged({initial:!0});const s=bE(n);E(s)&&s.call(n,n),Ste(n)},NR=n=>n.inline?n.ui.styleSheetLoader:n.dom.styleSheetLoader,Cte=(n,s,l)=>{const{pass:m,fail:O}=te(s,J=>tinymce.Resource.has(w6(J))),Z=[...m.map(J=>{const he=tinymce.Resource.get(w6(J));return M(he)?Promise.resolve(NR(n).loadRawCss(J,he)):Promise.resolve()}),NR(n).loadAll(O)];return n.inline?Z:Z.concat([n.ui.styleSheetLoader.loadAll(l)])},_V=n=>{const s=NR(n),l=Ek(n),m=n.contentCSS,O=()=>{s.unloadAll(m),n.inline||n.ui.styleSheetLoader.unloadAll(l)},P=()=>{n.removed?O():n.on("remove",O)};if(n.contentStyles.length>0){let he="";fr.each(n.contentStyles,_e=>{he+=_e+`\r
`}),n.dom.addStyle(he)}const Z=Promise.all(Cte(n,m,l)).then(P).catch(P),J=yx(n);return J&&yte(n,J),Z},RV=n=>{const s=n.getDoc(),l=n.getBody();Yg(n),xE(n)||(s.body.spellcheck=!1,LR.setAttrib(l,"spellcheck","false")),n.quirks=vte(n),JE(n);const m=uE(n);m!==void 0&&(l.dir=m);const O=Qk(n);O&&n.on("BeforeSetContent",P=>{fr.each(O,Z=>{P.content=P.content.replace(Z,J=>"<!--mce:protected "+escape(J)+"-->")})}),n.on("SetContent",()=>{n.addVisual(n.getBody())}),n.on("compositionstart compositionend",P=>{n.composing=P.type==="compositionstart"})},kte=n=>{Cv(n)||n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"})},iP=n=>{n.removed!==!0&&(kte(n),Tte(n))},Ate=n=>{let s=!1;const l=setTimeout(()=>{s||n.setProgressState(!0)},500);return()=>{clearTimeout(l),s=!0,n.setProgressState(!1)}},DV=n=>{const s=n.getElement();let l=n.getDoc();n.inline&&(LR.addClass(s,"mce-content-body"),n.contentDocument=l=document,n.contentWindow=window,n.bodyElement=s,n.contentAreaContainer=s);const m=n.getBody();m.disabled=!0,n.readonly=qy(n),n._editableRoot=Lf(n),!n.readonly&&n.hasEditableRoot()&&(n.inline&&LR.getStyle(m,"position",!0)==="static"&&(m.style.position="relative"),m.contentEditable="true"),m.disabled=!1,n.editorUpload=jG(n),n.schema=Cm(EV(n)),n.dom=Da(l,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,update_styles:!0,root_element:n.inline?n.getBody():null,collect:n.inline,schema:n.schema,contentCssCors:Em(n),referrerPolicy:gs(n),onSetAttrib:Z=>{n.dispatch("SetAttrib",Z)},force_hex_color:I0(n)}),n.parser=xte(n),n.serializer=bN(Ote(n),n),n.selection=d1(n.dom,n.getWin(),n.serializer,n),n.annotator=mT(n),n.formatter=zb(n),n.undoManager=m3(n),n._nodeChangeDispatcher=new CF(n),n._selectionOverrides=nte(n),HB(n),bee(n),qle(n),Cv(n)||(Cee(n),pte(n));const O=PJ(n);f4(n,O),YB(n),KG(n),tV(n);const P=WX(n);RV(n),P.fold(()=>{const Z=Ate(n);_V(n).then(()=>{iP(n),Z()})},Z=>{n.setProgressState(!0),_V(n).then(()=>{Z().then(J=>{n.setProgressState(!1),iP(n),v6(n)},J=>{n.notificationManager.open({type:"error",text:String(J)}),iP(n),v6(n)})})})},$V=pe,q3=(n,s,l)=>pm(n,s,$V,l),BR=Da.DOM,LV=(n,s,l,m)=>{const O=Yt.fromTag("iframe");return m.each(P=>Ra(O,"tabindex",P)),Su(O,l),Su(O,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:s}),cm(O,"tox-edit-area__iframe"),O},Pte=n=>{let s=kk(n)+"<html><head>";kw(n)!==n.documentBaseUrl&&(s+='<base href="'+n.documentBaseURI.getURI()+'" />'),s+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const l=Aw(n),m=nE(n),O=n.translate(yE(n));return Pw(n)&&(s+='<meta http-equiv="Content-Security-Policy" content="'+Pw(n)+'" />'),s+=`</head><body id="${l}" class="mce-content-body ${m}" data-id="${n.id}" aria-label="${O}"><br></body></html>`,s},Mte=(n,s)=>{const l=n.translate("Rich Text Area"),m=bc(Yt.fromDom(n.getElement()),"tabindex").bind(Ft),O=LV(n.id,l,Cw(n),m).dom;O.onload=()=>{O.onload=null,n.dispatch("load")},n.contentAreaContainer=s.iframeContainer,n.iframeElement=O,n.iframeHTML=Pte(n),BR.add(s.iframeContainer,O)},Ete=n=>{const s=n.iframeElement,l=()=>{n.contentDocument=s.contentDocument,DV(n)};if(PE(n)||Dr.browser.isFirefox()){const m=n.getDoc();m.open(),m.write(n.iframeHTML),m.close(),l()}else{const m=q3(Yt.fromDom(s),"load",()=>{m.unbind(),l()});s.srcdoc=n.iframeHTML}},_te=(n,s)=>{Mte(n,s),s.editorContainer&&(s.editorContainer.style.display=n.orgDisplay,n.hidden=BR.isHidden(s.editorContainer)),n.getElement().style.display="none",BR.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,Ete(n)},QR=Da.DOM,Rte=(n,s,l)=>{const m=Fb.get(l),O=Fb.urls[l]||n.documentBaseUrl.replace(/\/$/,"");if(l=fr.trim(l),m&&fr.inArray(s,l)===-1){if(n.plugins[l])return;try{const P=m(n,O)||{};n.plugins[l]=P,E(P.init)&&(P.init(n,O),s.push(l))}catch(P){_N(n,l,P)}}},IV=n=>n.replace(/^\-/,""),Dte=n=>{const s=[];re(Ky(n),l=>{Rte(n,s,IV(l))})},$te=n=>{const s=fr.trim(Ew(n)),l=n.ui.registry.getAll().icons,m={...u3.get("default").icons,...u3.get(s).icons};Bt(m,(O,P)=>{it(l,P)||n.ui.registry.addIcon(P,O)})},Lte=n=>{const s=_0(n);if(M(s)){const l=kv.get(s);n.theme=l(n,kv.urls[s])||{},E(n.theme.init)&&n.theme.init(n,kv.urls[s]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}},Ite=n=>{const s=Lw(n),l=eh.get(s);n.model=l(n,eh.urls[s])},Nte=n=>{const s=n.theme.renderUI;return s?s():BV(n)},Bte=n=>{const s=n.getElement(),m=_0(n)(n,s);return m.editorContainer.nodeType&&(m.editorContainer.id=m.editorContainer.id||n.id+"_parent"),m.iframeContainer&&m.iframeContainer.nodeType&&(m.iframeContainer.id=m.iframeContainer.id||n.id+"_iframecontainer"),m.height=m.iframeHeight?m.iframeHeight:s.offsetHeight,m},NV=(n,s)=>({editorContainer:n,iframeContainer:s,api:{}}),Qte=n=>{const s=QR.create("div");return QR.insertAfter(s,n),NV(s,s)},BV=n=>{const s=n.getElement();return n.inline?NV(null):Qte(s)},QV=n=>{const s=n.getElement();return n.orgDisplay=s.style.display,M(_0(n))?Nte(n):E(_0(n))?Bte(n):BV(n)},FR=(n,s)=>{const l={show:G.from(s.show).getOr(ie),hide:G.from(s.hide).getOr(ie),isEnabled:G.from(s.isEnabled).getOr(pe),setEnabled:m=>{n.mode.isReadOnly()||G.from(s.setEnabled).each(O=>O(m))}};n.ui={...n.ui,...l}},FV=async n=>{n.dispatch("ScriptsLoaded"),$te(n),Lte(n),Ite(n),Dte(n);const s=await QV(n);FR(n,G.from(s.api).getOr({})),n.editorContainer=s.editorContainer,VG(n),n.inline?DV(n):_te(n,{editorContainer:s.editorContainer,iframeContainer:s.iframeContainer})},k1=Da.DOM,VV=n=>n.charAt(0)==="-",Fte=(n,s)=>{const l=Rw(s),m=_c(s);if(!sd.hasCode(l)&&l!=="en"){const O=St(m)?m:`${s.editorManager.baseURL}/langs/${l}.js`;n.add(O).catch(()=>{d3(s,O,l)})}},Vte=(n,s)=>{const l=_0(n);if(M(l)&&!VV(l)&&!it(kv.urls,l)){const m=hE(n),O=m?n.documentBaseURI.toAbsolute(m):`themes/${l}/theme${s}.js`;kv.load(l,O).catch(()=>{NG(n,O,l)})}},zV=(n,s)=>{const l=Lw(n);if(l!=="plugin"&&!it(eh.urls,l)){const m=Rk(n),O=M(m)?n.documentBaseURI.toAbsolute(m):`models/${l}/model${s}.js`;eh.load(l,O).catch(()=>{EN(n,O,l)})}},ZV=n=>G.from(iv(n)).filter(St).map(s=>({url:s,name:G.none()})),HV=(n,s,l)=>G.from(s).filter(m=>St(m)&&!u3.has(m)).map(m=>({url:`${n.editorManager.baseURL}/icons/${m}/icons${l}.js`,name:G.some(m)})),zte=(n,s,l)=>{const m=HV(s,"default",l),O=ZV(s).orThunk(()=>HV(s,Ew(s),""));re(za([m,O]),P=>{n.add(P.url).catch(()=>{IG(s,P.url,P.name.getOrUndefined())})})},VR=(n,s)=>{const l=(m,O)=>{Fb.load(m,O).catch(()=>{Ule(n,O,m)})};Bt(Ng(n),(m,O)=>{l(O,m),n.options.set("plugins",Ky(n).concat(O))}),re(Ky(n),m=>{m=fr.trim(m),m&&!Fb.urls[m]&&!VV(m)&&l(m,`plugins/${m}/plugin${s}.js`)})},lP=n=>{const s=_0(n);return!M(s)||B(kv.get(s))},cP=n=>{const s=Lw(n);return B(eh.get(s))},Mv=(n,s)=>{const l=Ji.ScriptLoader,m=()=>{!n.removed&&lP(n)&&cP(n)&&FV(n)};Vte(n,s),zV(n,s),Fte(l,n),zte(l,n,s),VR(n,s),l.loadQueue().then(m,m)},uP=(n,s)=>GS.forElement(n,{contentCssCors:D0(s),referrerPolicy:gs(s)}),U2=n=>{const s=n.id;sd.setCode(Rw(n));const l=()=>{k1.unbind(window,"ready",l),n.render()};if(!Au.Event.domLoaded){k1.bind(window,"ready",l);return}if(!n.getElement())return;const m=Yt.fromDom(n.getElement()),O=Bp(m);n.on("remove",()=>{ye(m.dom.attributes,Z=>ci(m,Z.name)),Su(m,O)}),n.ui.styleSheetLoader=uP(m,n),Iw(n)?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");const P=n.getElement().form||k1.getParent(s,"form");P&&(n.formElement=P,gE(n)&&!o0(n.getElement())&&(k1.insertAfter(k1.create("input",{type:"hidden",name:s}),s),n.hasHiddenInput=!0),n.formEventDelegate=Z=>{n.dispatch(Z.type,Z)},k1.bind(P,"submit reset",n.formEventDelegate),n.on("reset",()=>{n.resetContent()}),Ik(n)&&!P.submit.nodeType&&!P.submit.length&&!P._mceOldSubmit&&(P._mceOldSubmit=P.submit,P.submit=()=>(n.editorManager.triggerSave(),n.setDirty(!1),P._mceOldSubmit(P)))),n.windowManager=MN(n),n.notificationManager=S6(n),_E(n)&&n.on("GetContent",Z=>{Z.save&&(Z.content=k1.encode(Z.content))}),Eh(n)&&n.on("submit",()=>{n.initialized&&n.save()}),Gy(n)&&(n._beforeUnload=()=>{n.initialized&&!n.destroyed&&!n.isHidden()&&n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),Mv(n,n.suffix)},UV=(n,s)=>{n._editableRoot!==s&&(n._editableRoot=s,n.readonly||(n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged()),o_(n,s))},Zte=n=>n._editableRoot,Hte=(n,s)=>({sections:ae(n),options:ae(s)}),zR=ii().deviceType,WV=zR.isPhone(),ZR=zR.isTablet(),A1=n=>{if(Q(n))return[];{const s=N(n)?n:n.split(/[ ,]/),l=Ie(s,wr);return se(l,St)}},P1=(n,s)=>{const l=an(s,(m,O)=>Ze(n,O));return Hte(l.t,l.f)},qb=(n,s,l={})=>{const m=n.sections(),O=Sn(m,s).getOr({});return fr.extend({},l,O)},fP=(n,s)=>it(n.sections(),s),Ute=(n,s)=>fP(n,s)?n.sections()[s]:{},Wte=(n,s)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Sn(n,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...s?{menubar:!1}:{}}),Yte=(n,s)=>{var l;const m=(l=s.external_plugins)!==null&&l!==void 0?l:{};return n&&n.external_plugins?fr.extend({},n.external_plugins,m):m},Xte=(n,s)=>[...A1(n),...A1(s)],Gte=(n,s,l,m)=>n&&fP(s,"mobile")?m:l,jte=(n,s,l,m)=>{const O=A1(l.forced_plugins),P=A1(m.plugins),Z=Ute(s,"mobile"),J=Z.plugins?A1(Z.plugins):P,he=Gte(n,s,P,J),_e=Xte(O,he);return fr.extend(m,{forced_plugins:O,plugins:_e})},YV=(n,s)=>n&&fP(s,"mobile"),qte=(n,s,l,m,O)=>{var P;const Z=n?{mobile:Wte((P=O.mobile)!==null&&P!==void 0?P:{},s)}:{},J=P1(["mobile"],I3(Z,O)),he=fr.extend(l,m,J.options(),YV(n,J)?qb(J,"mobile"):{},{external_plugins:Yte(m,J.options())});return jte(n,J,m,he)},Kte=(n,s)=>qte(WV||ZR,WV,s,n,s),Jte=(n,s)=>oG(n,s),yce=n=>{const s=(m,O)=>{n.formatter.toggle(m,O),n.nodeChanged()},l=m=>()=>{re("left,center,right,justify".split(","),O=>{m!==O&&n.formatter.remove("align"+O)}),m!=="none"&&s("align"+m)};n.editorCommands.addCommands({JustifyLeft:l("left"),JustifyCenter:l("center"),JustifyRight:l("right"),JustifyFull:l("justify"),JustifyNone:l("none")})},ene=n=>{const s=l=>()=>{const m=n.selection,O=m.isCollapsed()?[n.dom.getParent(m.getNode(),n.dom.isBlock)]:m.getSelectedBlocks();return De(O,P=>B(n.formatter.matchNode(P,l)))};n.editorCommands.addCommands({JustifyLeft:s("alignleft"),JustifyCenter:s("aligncenter"),JustifyRight:s("alignright"),JustifyFull:s("alignjustify")},"state")},HR=n=>{yce(n),ene(n)},tne=n=>{n.editorCommands.addCommands({"Cut,Copy,Paste":s=>{const l=n.getDoc();let m;try{l.execCommand(s)}catch{m=!0}if(s==="paste"&&!l.queryCommandEnabled(s)&&(m=!0),m||!l.queryCommandSupported(s)){let O=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Dr.os.isMacOS()||Dr.os.isiOS())&&(O=O.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:O,type:"error"})}}})},nne=(n,s,l,m)=>{const O=Yt.fromDom(n.getRoot());return e2(O,Nn.fromRangeStart(s),m)?l=l.replace(/^ /,"&nbsp;"):l=l.replace(/^&nbsp;/," "),t2(O,Nn.fromRangeEnd(s),m)?l=l.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):l=l.replace(/&nbsp;(<br( \/)?>)?$/," "),l},XV=n=>{if(typeof n!="string"){const s=fr.extend({paste:n.paste,data:{paste:n.paste}},n);return{content:n.content,details:s}}return{content:n,details:{}}},rne=(n,s)=>{const l=n.selection,m=n.dom;return/^ | $/.test(s)?nne(m,l.getRng(),s,n.schema):s},K3=(n,s)=>{if(n.selection.isEditable()){const{content:l,details:m}=XV(s);G8(n,{...m,content:rne(n,l),format:"html",set:!1,selection:!0}).each(O=>{const P=nG(n,O.content,m);T5(n,P,O),n.addVisual()})}},one=n=>{n.editorCommands.addCommands({mceCleanup:()=>{const s=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(s)},insertImage:(s,l,m)=>{K3(n,n.dom.createHTML("img",{src:m}))},insertHorizontalRule:()=>{n.execCommand("mceInsertContent",!1,"<hr>")},insertText:(s,l,m)=>{K3(n,n.dom.encode(m))},insertHTML:(s,l,m)=>{K3(n,m)},mceInsertContent:(s,l,m)=>{K3(n,m)},mceSetContent:(s,l,m)=>{n.setContent(m)},mceReplaceContent:(s,l,m)=>{n.execCommand("mceInsertContent",!1,m.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceNewDocument:()=>{n.setContent($0(n))}})},UR={"font-size":"size","font-family":"face"},sne=xu("font"),ane=(n,s,l)=>{const m=P=>Hi(P,n).orThunk(()=>sne(P)?Sn(UR,n).bind(Z=>bc(P,Z)):G.none()),O=P=>Gs(Yt.fromDom(s),P);return Sv(Yt.fromDom(l),P=>m(P),O)},ine=n=>n.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),lne=(n,s)=>G.from(Da.DOM.getStyle(s,n,!0)),WR=n=>(s,l)=>G.from(l).map(Yt.fromDom).filter(kl).bind(m=>ane(n,s,m.dom).or(lne(n,m.dom))).getOr(""),YR=WR("font-size"),GV=L(ine,WR("font-family")),XR=n=>Xc(n.getBody()).bind(s=>{const l=s.container();return G.from(lr(l)?l.parentNode:l)}),cne=n=>G.from(n.selection.getRng()).bind(s=>{const l=n.getBody();return s.startContainer===l&&s.startOffset===0?G.none():G.from(n.selection.getStart(!0))}),bce=(n,s)=>cne(n).orThunk(ee(XR,n)).map(Yt.fromDom).filter(kl).bind(s),jV=(n,s)=>bce(n,me(G.some,s)),qV=(n,s)=>{if(/^[0-9.]+$/.test(s)){const l=parseInt(s,10);if(l>=1&&l<=7){const m=ME(n),O=EE(n);return O.length>0?O[l-1]||s:m[l-1]||s}else return s}else return s},KV=n=>{const s=n.split(/\s*,\s*/);return Ie(s,l=>l.indexOf(" ")!==-1&&!(Sr(l,'"')||Sr(l,"'"))?`'${l}'`:l).join(",")},une=(n,s)=>{const l=qV(n,s);n.formatter.toggle("fontname",{value:KV(l)}),n.nodeChanged()},fne=n=>jV(n,s=>GV(n.getBody(),s.dom)).getOr(""),dne=(n,s)=>{n.formatter.toggle("fontsize",{value:qV(n,s)}),n.nodeChanged()},Oce=n=>jV(n,s=>YR(n.getBody(),s.dom)).getOr(""),xce=n=>jV(n,s=>{const l=Yt.fromDom(n.getBody()),m=Sv(s,P=>Hi(P,"line-height"),ee(Gs,l)),O=()=>{const P=parseFloat(wi(s,"line-height")),Z=parseFloat(wi(s,"font-size"));return String(P/Z)};return m.getOrThunk(O)}).getOr(""),JV=(n,s)=>{n.formatter.toggle("lineheight",{value:String(s)}),n.nodeChanged()},ez=n=>{const s=(l,m)=>{n.formatter.toggle(l,m),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":l=>{s(l)},"ForeColor,HiliteColor":(l,m,O)=>{s(l,{value:O})},BackColor:(l,m,O)=>{s("hilitecolor",{value:O})},FontName:(l,m,O)=>{une(n,O)},FontSize:(l,m,O)=>{dne(n,O)},LineHeight:(l,m,O)=>{JV(n,O)},Lang:(l,m,O)=>{var P;s(l,{value:O.code,customValue:(P=O.customCode)!==null&&P!==void 0?P:null})},RemoveFormat:l=>{n.formatter.remove(l)},mceBlockQuote:()=>{s("blockquote")},FormatBlock:(l,m,O)=>{s(M(O)?O:"p")},mceToggleFormat:(l,m,O)=>{s(O)}})},hne=n=>{const s=l=>n.formatter.match(l);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":l=>s(l),mceBlockQuote:()=>s("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>fne(n)),n.editorCommands.addQueryValueHandler("FontSize",()=>Oce(n)),n.editorCommands.addQueryValueHandler("LineHeight",()=>xce(n))},mne=n=>{ez(n),hne(n)},gne=n=>{n.editorCommands.addCommands({mceAddUndoLevel:()=>{n.undoManager.add()},mceEndUndoLevel:()=>{n.undoManager.add()},Undo:()=>{n.undoManager.undo()},Redo:()=>{n.undoManager.redo()}})},Sce=n=>{n.editorCommands.addCommands({Indent:()=>{VB(n)},Outdent:()=>{zB(n)}}),n.editorCommands.addCommands({Outdent:()=>NB(n)},"state")},wce=n=>{const s=(l,m,O)=>{const P=M(O)?{href:O}:O,Z=n.dom.getParent(n.selection.getNode(),"a");I(P)&&M(P.href)&&(P.href=P.href.replace(/ /g,"%20"),(!Z||!P.href)&&n.formatter.remove("link"),P.href&&n.formatter.apply("link",P,Z))};n.editorCommands.addCommands({unlink:()=>{if(n.selection.isEditable()){if(n.selection.isCollapsed()){const l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")}},mceInsertLink:s,createLink:s})},Tce=n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{n.getDoc().execCommand(s);const l=n.dom.getParent(n.selection.getNode(),"ol,ul");if(l){const m=l.parentNode;if(m&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(m.nodeName)){const O=n.selection.getBookmark();n.dom.split(m,l),n.selection.moveToBookmark(O)}}}})},pne=n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{const l=n.dom.getParent(n.selection.getNode(),"ul,ol");return l&&(s==="insertunorderedlist"&&l.tagName==="UL"||s==="insertorderedlist"&&l.tagName==="OL")}},"state")},Cce=n=>{Tce(n),pne(n)},vne=(n,s,l,m)=>{const O=n.dom,P=J=>O.isBlock(J)&&J.parentElement===l,Z=P(s)?s:O.getParent(m,P,l);return G.from(Z).map(Yt.fromDom)},M1=(n,s)=>{const l=n.dom,m=n.selection.getRng(),O=s?n.selection.getStart():n.selection.getEnd(),P=s?m.startContainer:m.endContainer,Z=yd(l,P);if(!Z||!Z.isContentEditable)return;const J=s?Ui:Yu,he=Ec(n);vne(n,O,Z,P).each(_e=>{const Ge=z7(n,P,_e.dom,Z,!1,he);J(_e,Yt.fromDom(Ge)),n.selection.setCursorLocation(Ge,0),n.dispatch("NewBlock",{newBlock:Ge}),B3(n,"insertParagraph")})},GR=n=>M1(n,!0),dP=n=>M1(n,!1),tz=n=>{n.editorCommands.addCommands({InsertNewBlockBefore:()=>{GR(n)},InsertNewBlockAfter:()=>{dP(n)}})},nz=n=>{n.editorCommands.addCommands({insertParagraph:()=>{N4(iF,n)},mceInsertNewLine:(s,l,m)=>{dF(n,m)},InsertLineBreak:(s,l,m)=>{N4(dJ,n)}})},rz=n=>{n.editorCommands.addCommands({mceSelectNodeDepth:(s,l,m)=>{let O=0;n.dom.getParent(n.selection.getNode(),P=>Xr(P)&&O++===m?(n.selection.select(P),!1):!0,n.getBody())},mceSelectNode:(s,l,m)=>{n.selection.select(m)},selectAll:()=>{const s=n.dom.getParent(n.selection.getStart(),Zl);if(s){const l=n.dom.createRng();l.selectNodeContents(s),n.selection.setRng(l)}}})},yne=n=>{n.editorCommands.addCommands({mceRemoveNode:(s,l,m)=>{const O=m??n.selection.getNode();if(O!==n.getBody()){const P=n.selection.getBookmark();n.dom.remove(O,!0),n.selection.moveToBookmark(P)}},mcePrint:()=>{n.getWin().print()},mceFocus:(s,l,m)=>{lW(n,m===!0)},mceToggleVisualAid:()=>{n.hasVisual=!n.hasVisual,n.addVisual()}})},bne=n=>{HR(n),tne(n),gne(n),rz(n),one(n),wce(n),Sce(n),tz(n),nz(n),Cce(n),mne(n),yne(n)},One=["toggleview"],oz=n=>Ze(One,n.toLowerCase());class Ev{constructor(s){this.commands={state:{},exec:{},value:{}},this.editor=s}execCommand(s,l=!1,m,O){const P=this.editor,Z=s.toLowerCase(),J=O==null?void 0:O.skip_focus;if(P.removed||(Z!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(Z)&&!J?P.focus():XU(P)),P.dispatch("BeforeExecCommand",{command:s,ui:l,value:m}).isDefaultPrevented()))return!1;const _e=this.commands.exec[Z];return E(_e)?(_e(Z,l,m),P.dispatch("ExecCommand",{command:s,ui:l,value:m}),!0):!1}queryCommandState(s){if(!oz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const l=s.toLowerCase(),m=this.commands.state[l];return E(m)?m(l):!1}queryCommandValue(s){if(!oz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const l=s.toLowerCase(),m=this.commands.value[l];return E(m)?m(l):""}addCommands(s,l="exec"){const m=this.commands;Bt(s,(O,P)=>{re(P.toLowerCase().split(","),Z=>{m[l][Z]=O})})}addCommand(s,l,m){const O=s.toLowerCase();this.commands.exec[O]=(P,Z,J)=>l.call(m??this.editor,Z,J)}queryCommandSupported(s){const l=s.toLowerCase();return!!this.commands.exec[l]}addQueryStateHandler(s,l,m){this.commands.state[s.toLowerCase()]=()=>l.call(m??this.editor)}addQueryValueHandler(s,l,m){this.commands.value[s.toLowerCase()]=()=>l.call(m??this.editor)}}const Kb="data-mce-contenteditable",sz=(n,s,l)=>{gh(n,s)&&!l?um(n,s):l&&cm(n,s)},jR=(n,s,l)=>{try{n.getDoc().execCommand(s,!1,String(l))}catch{}},Jb=(n,s)=>{n.dom.contentEditable=s?"true":"false"},xne=n=>{re(sl(n,'*[contenteditable="true"]'),s=>{Ra(s,Kb,"true"),Jb(s,!1)})},Sne=n=>{re(sl(n,`*[${Kb}="true"]`),s=>{ci(s,Kb),Jb(s,!0)})},wne=n=>{G.from(n.selection.getNode()).each(s=>{s.removeAttribute("data-mce-selected")})},az=n=>{n.selection.setRng(n.selection.getRng())},Tne=(n,s)=>{const l=Yt.fromDom(n.getBody());sz(l,"mce-content-readonly",s),s?(n.selection.controlSelection.hideResizeRect(),n._selectionOverrides.hideFakeCaret(),wne(n),n.readonly=!0,Jb(l,!1),xne(l)):(n.readonly=!1,n.hasEditableRoot()&&Jb(l,!0),Sne(l),jR(n,"StyleWithCSS",!1),jR(n,"enableInlineTableEditing",!1),jR(n,"enableObjectResizing",!1),S9(n)&&n.focus(),az(n),n.nodeChanged())},eO=n=>n.readonly,iz=n=>{n.parser.addAttributeFilter("contenteditable",s=>{eO(n)&&re(s,l=>{l.attr(Kb,l.attr("contenteditable")),l.attr("contenteditable","false")})}),n.serializer.addAttributeFilter(Kb,s=>{eO(n)&&re(s,l=>{l.attr("contenteditable",l.attr(Kb))})}),n.serializer.addTempAttr(Kb)},qR=n=>{n.serializer?iz(n):n.on("PreInit",()=>{iz(n)})},Cne=n=>n.type==="click",kne=["copy"],Sl=n=>Ze(kne,n.type),Ane=(n,s)=>Mf(s,"a",m=>Gs(m,Yt.fromDom(n.getBody()))).bind(m=>bc(m,"href")),Pne=(n,s)=>{if(Cne(s)&&!Wr.metaKeyPressed(s)){const l=Yt.fromDom(s.target);Ane(n,l).each(m=>{if(s.preventDefault(),/^#/.test(m)){const O=n.dom.select(`${m},[name="${xr(m,"#")}"]`);O.length&&n.selection.scrollIntoView(O[0],!0)}else window.open(m,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Sl(s)&&n.dispatch(s.type,s)},KR=n=>{n.on("ShowCaret",s=>{eO(n)&&s.preventDefault()}),n.on("ObjectSelected",s=>{eO(n)&&s.preventDefault()})},lz=fr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class J3{static isNative(s){return!!lz[s.toLowerCase()]}constructor(s){this.bindings={},this.settings=s||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ne}fire(s,l){return this.dispatch(s,l)}dispatch(s,l){const m=s.toLowerCase(),O=m0(m,l??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(O);const P=this.bindings[m];if(P)for(let Z=0,J=P.length;Z<J;Z++){const he=P[Z];if(!he.removed){if(he.once&&this.off(m,he.func),O.isImmediatePropagationStopped())return O;if(he.func.call(this.scope,O)===!1)return O.preventDefault(),O}}return O}on(s,l,m,O){if(l===!1&&(l=ne),l){const P={func:l,removed:!1};O&&fr.extend(P,O);const Z=s.toLowerCase().split(" ");let J=Z.length;for(;J--;){const he=Z[J];let _e=this.bindings[he];_e||(_e=[],this.toggleEvent(he,!0)),m?_e=[P,..._e]:_e=[..._e,P],this.bindings[he]=_e}}return this}off(s,l){if(s){const m=s.toLowerCase().split(" ");let O=m.length;for(;O--;){const P=m[O];let Z=this.bindings[P];if(!P)return Bt(this.bindings,(J,he)=>{this.toggleEvent(he,!1),delete this.bindings[he]}),this;if(Z){if(!l)Z.length=0;else{const J=te(Z,he=>he.func===l);Z=J.fail,this.bindings[P]=Z,re(J.pass,he=>{he.removed=!0})}Z.length||(this.toggleEvent(s,!1),delete this.bindings[P])}}}else Bt(this.bindings,(m,O)=>{this.toggleEvent(O,!1)}),this.bindings={};return this}once(s,l,m){return this.on(s,l,m,{once:!0})}has(s){s=s.toLowerCase();const l=this.bindings[s];return!(!l||l.length===0)}}const eC=n=>(n._eventDispatcher||(n._eventDispatcher=new J3({scope:n,toggleEvent:(s,l)=>{J3.isNative(s)&&n.toggleNativeEvent&&n.toggleNativeEvent(s,l)}})),n._eventDispatcher),JR={fire(n,s,l){return this.dispatch(n,s,l)},dispatch(n,s,l){const m=this;if(m.removed&&n!=="remove"&&n!=="detach")return m0(n.toLowerCase(),s??{},m);const O=eC(m).dispatch(n,s);if(l!==!1&&m.parent){let P=m.parent();for(;P&&!O.isPropagationStopped();)P.dispatch(n,O,!1),P=P.parent?P.parent():void 0}return O},on(n,s,l){return eC(this).on(n,s,l)},off(n,s){return eC(this).off(n,s)},once(n,s){return eC(this).once(n,s)},hasEventListeners(n){return eC(this).has(n)}},hP=Da.DOM;let tO;const mP=(n,s)=>{if(s==="selectionchange")return n.getDoc();if(!n.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(s))return n.getDoc().documentElement;const l=Ig(n);return l?(n.eventRoot||(n.eventRoot=hP.select(l)[0]),n.eventRoot):n.getBody()},Mne=n=>!n.hidden&&!eO(n),cz=(n,s,l)=>{Mne(n)?n.dispatch(s,l):eO(n)&&Pne(n,l)},uz=(n,s)=>{if(n.delegates||(n.delegates={}),n.delegates[s]||n.removed)return;const l=mP(n,s);if(Ig(n)){if(tO||(tO={},n.editorManager.on("removeEditor",()=>{n.editorManager.activeEditor||tO&&(Bt(tO,(O,P)=>{n.dom.unbind(mP(n,P))}),tO=null)})),tO[s])return;const m=O=>{const P=O.target,Z=n.editorManager.get();let J=Z.length;for(;J--;){const he=Z[J].getBody();(he===P||hP.isChildOf(P,he))&&cz(Z[J],s,O)}};tO[s]=m,hP.bind(l,s,m)}else{const m=O=>{cz(n,s,O)};hP.bind(l,s,m),n.delegates[s]=m}},nO={...JR,bindPendingEventDelegates(){const n=this;fr.each(n._pendingNativeEvents,s=>{uz(n,s)})},toggleNativeEvent(n,s){const l=this;n==="focus"||n==="blur"||l.removed||(s?l.initialized?uz(l,n):l._pendingNativeEvents?l._pendingNativeEvents.push(n):l._pendingNativeEvents=[n]:l.initialized&&l.delegates&&(l.dom.unbind(mP(l,n),n,l.delegates[n]),delete l.delegates[n]))},unbindAllNativeEvents(){const n=this,s=n.getBody(),l=n.dom;n.delegates&&(Bt(n.delegates,(m,O)=>{n.dom.unbind(mP(n,O),O,m)}),delete n.delegates),!n.inline&&s&&l&&(s.onload=null,l.unbind(n.getWin()),l.unbind(n.getDoc())),l&&(l.unbind(s),l.unbind(n.getContainer()))}},Gm=n=>M(n)?{value:n.split(/[ ,]/),valid:!0}:Y(n,M)?{value:n,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Ene=n=>{const s=(()=>{switch(n){case"array":return N;case"boolean":return z;case"function":return E;case"number":return W;case"object":return I;case"string":return M;case"string[]":return Gm;case"object[]":return l=>Y(l,I);case"regexp":return l=>R(l,RegExp);default:return pe}})();return l=>eD(l,s,`The value must be a ${n}.`)},_ne=n=>M(n.processor),fz=(n,s)=>{const l=Ct(s.message)?"":`. ${s.message}`;return n+l},dz=n=>n.valid,eD=(n,s,l="")=>{const m=s(n);return z(m)?m?{value:n,valid:!0}:{valid:!1,message:l}:m},Rne=(n,s,l)=>{if(!U(s)){const m=eD(s,l);if(dz(m))return m.value;console.error(fz(`Invalid default value passed for the "${n}" option`,m))}},Dne=(n,s)=>{const l={},m={},O=(qe,ot,Et)=>{const Vt=eD(ot,Et);return dz(Vt)?(m[qe]=Vt.value,!0):(console.warn(fz(`Invalid value passed for the ${qe} option`,Vt)),!1)},P=(qe,ot)=>{const Et=_ne(ot)?Ene(ot.processor):ot.processor,Vt=Rne(qe,ot.default,Et);l[qe]={...ot,default:Vt,processor:Et},Sn(m,qe).orThunk(()=>Sn(s,qe)).each(It=>O(qe,It,Et))},Z=qe=>it(l,qe);return{register:P,isRegistered:Z,get:qe=>Sn(m,qe).orThunk(()=>Sn(l,qe).map(ot=>ot.default)).getOrUndefined(),set:(qe,ot)=>{if(Z(qe)){const Et=l[qe];return Et.immutable?(console.error(`"${qe}" is an immutable option and cannot be updated`),!1):O(qe,ot,Et.processor)}else return console.warn(`"${qe}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:qe=>{const ot=Z(qe);return ot&&delete m[qe],ot},isSet:qe=>it(m,qe)}},$ne=["design","readonly"],hz=(n,s,l,m)=>{const O=l[s.get()],P=l[m];try{P.activate()}catch(Z){console.error(`problem while activating editor mode ${m}:`,Z);return}O.deactivate(),O.editorReadOnly!==P.editorReadOnly&&Tne(n,P.editorReadOnly),s.set(m),vT(n,m)},kce=(n,s,l,m)=>{if(m!==l.get()){if(!it(s,m))throw new Error(`Editor mode '${m}' is invalid`);n.initialized?hz(n,l,s,m):n.on("init",()=>hz(n,l,s,m))}},Lne=(n,s,l)=>{if(Ze($ne,s))throw new Error(`Cannot override default mode ${s}`);return{...n,[s]:{...l,deactivate:()=>{try{l.deactivate()}catch(m){console.error(`problem while deactivating editor mode ${s}:`,m)}}}}},Ine=n=>{const s=ni("design"),l=ni({design:{activate:ie,deactivate:ie,editorReadOnly:!1},readonly:{activate:ie,deactivate:ie,editorReadOnly:!0}});return qR(n),KR(n),{isReadOnly:()=>eO(n),set:m=>kce(n,l.get(),s,m),get:()=>s.get(),register:(m,O)=>{l.set(Lne(l.get(),m,O))}}},tD=fr.each,nD=fr.explode,Nne={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},mz=fr.makeMap("alt,ctrl,shift,meta,access"),Ace=n=>n in mz,Bne=n=>{const s={},l=Dr.os.isMacOS()||Dr.os.isiOS();tD(nD(n.toLowerCase(),"+"),P=>{Ace(P)?s[P]=!0:/^[0-9]{2,}$/.test(P)?s.keyCode=parseInt(P,10):(s.charCode=P.charCodeAt(0),s.keyCode=Nne[P]||P.toUpperCase().charCodeAt(0))});const m=[s.keyCode];let O;for(O in mz)s[O]?m.push(O):s[O]=!1;return s.id=m.join(","),s.access&&(s.alt=!0,l?s.ctrl=!0:s.shift=!0),s.meta&&(l?s.meta=!0:(s.ctrl=!0,s.meta=!1)),s};class gz{constructor(s){this.shortcuts={},this.pendingPatterns=[],this.editor=s;const l=this;s.on("keyup keypress keydown",m=>{(l.hasModifier(m)||l.isFunctionKey(m))&&!m.isDefaultPrevented()&&(tD(l.shortcuts,O=>{l.matchShortcut(m,O)&&(l.pendingPatterns=O.subpatterns.slice(0),m.type==="keydown"&&l.executeShortcutAction(O))}),l.matchShortcut(m,l.pendingPatterns[0])&&(l.pendingPatterns.length===1&&m.type==="keydown"&&l.executeShortcutAction(l.pendingPatterns[0]),l.pendingPatterns.shift()))})}add(s,l,m,O){const P=this,Z=P.normalizeCommandFunc(m);return tD(nD(fr.trim(s)),J=>{const he=P.createShortcut(J,l,Z,O);P.shortcuts[he.id]=he}),!0}remove(s){const l=this.createShortcut(s);return this.shortcuts[l.id]?(delete this.shortcuts[l.id],!0):!1}normalizeCommandFunc(s){const l=this,m=s;return typeof m=="string"?()=>{l.editor.execCommand(m,!1,null)}:fr.isArray(m)?()=>{l.editor.execCommand(m[0],m[1],m[2])}:m}createShortcut(s,l,m,O){const P=fr.map(nD(s,">"),Bne);return P[P.length-1]=fr.extend(P[P.length-1],{func:m,scope:O||this.editor}),fr.extend(P[0],{desc:this.editor.translate(l),subpatterns:P.slice(1)})}hasModifier(s){return s.altKey||s.ctrlKey||s.metaKey}isFunctionKey(s){return s.type==="keydown"&&s.keyCode>=112&&s.keyCode<=123}matchShortcut(s,l){return!l||l.ctrl!==s.ctrlKey||l.meta!==s.metaKey||l.alt!==s.altKey||l.shift!==s.shiftKey?!1:s.keyCode===l.keyCode||s.charCode&&s.charCode===l.charCode?(s.preventDefault(),!0):!1}executeShortcutAction(s){return s.func?s.func.call(s.scope):null}}const Qne=()=>{const n={},s={},l={},m={},O={},P={},Z={},J={},he=(Ge,qe)=>(ot,Et)=>{Ge[ot.toLowerCase()]={...Et,type:qe}},_e=(Ge,qe)=>m[Ge.toLowerCase()]=qe;return{addButton:he(n,"button"),addGroupToolbarButton:he(n,"grouptoolbarbutton"),addToggleButton:he(n,"togglebutton"),addMenuButton:he(n,"menubutton"),addSplitButton:he(n,"splitbutton"),addMenuItem:he(s,"menuitem"),addNestedMenuItem:he(s,"nestedmenuitem"),addToggleMenuItem:he(s,"togglemenuitem"),addAutocompleter:he(l,"autocompleter"),addContextMenu:he(O,"contextmenu"),addContextToolbar:he(P,"contexttoolbar"),addContextForm:he(P,"contextform"),addSidebar:he(Z,"sidebar"),addView:he(J,"views"),addIcon:_e,getAll:()=>({buttons:n,menuItems:s,icons:m,popups:l,contextMenus:O,contextToolbars:P,sidebars:Z,views:J})}},Fne=()=>{const n=Qne();return{addAutocompleter:n.addAutocompleter,addButton:n.addButton,addContextForm:n.addContextForm,addContextMenu:n.addContextMenu,addContextToolbar:n.addContextToolbar,addIcon:n.addIcon,addMenuButton:n.addMenuButton,addMenuItem:n.addMenuItem,addNestedMenuItem:n.addNestedMenuItem,addSidebar:n.addSidebar,addSplitButton:n.addSplitButton,addToggleButton:n.addToggleButton,addGroupToolbarButton:n.addGroupToolbarButton,addToggleMenuItem:n.addToggleMenuItem,addView:n.addView,getAll:n.getAll}},rO=Da.DOM,pz=fr.extend,Vne=fr.each;class gP{constructor(s,l,m){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=m,this.documentBaseUrl=m.documentBaseURL,pz(this,nO);const O=this;this.id=s,this.hidden=!1;const P=Kte(m.defaultOptions,l);this.options=Dne(O,P),Ck(O);const Z=this.options.get;Z("deprecation_warnings")&&zle(l,P);const J=Z("suffix");J&&(m.suffix=J),this.suffix=m.suffix;const he=Z("base_url");he&&m._setBaseUrl(he),this.baseUri=m.baseURI;const _e=gs(O);_e&&(Ji.ScriptLoader._setReferrerPolicy(_e),Da.DOM.styleSheetLoader._setReferrerPolicy(_e));const Ge=D0(O);B(Ge)&&Da.DOM.styleSheetLoader._setContentCssCors(Ge),Pc.languageLoad=Z("language_load"),Pc.baseURL=m.baseURL,this.setDirty(!1),this.documentBaseURI=new Kd(kw(O),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Iw(O),this.hasVisual=pE(O),this.shortcuts=new gz(this),this.editorCommands=new Ev(this),bne(this);const qe=Z("cache_suffix");qe&&(Dr.cacheSuffix=qe.replace(/^[\?\&]+/,"")),this.ui={registry:Fne(),styleSheetLoader:void 0,show:ie,hide:ie,setEnabled:ie,isEnabled:pe},this.mode=Ine(O),m.dispatch("SetupEditor",{editor:this});const ot=Nw(O);E(ot)&&ot.call(O,O)}render(){U2(this)}focus(s){this.execCommand("mceFocus",!1,s)}hasFocus(){return o1(this)}translate(s){return sd.translate(s)}getParam(s,l,m){const O=this.options;return O.isRegistered(s)||(B(m)?O.register(s,{processor:m,default:l}):O.register(s,{processor:pe,default:l})),!O.isSet(s)&&!U(l)?l:O.get(s)}hasPlugin(s,l){return Ze(Ky(this),s)?l?Fb.get(s)!==void 0:!0:!1}nodeChanged(s){this._nodeChangeDispatcher.nodeChanged(s)}addCommand(s,l,m){this.editorCommands.addCommand(s,l,m)}addQueryStateHandler(s,l,m){this.editorCommands.addQueryStateHandler(s,l,m)}addQueryValueHandler(s,l,m){this.editorCommands.addQueryValueHandler(s,l,m)}addShortcut(s,l,m,O){this.shortcuts.add(s,l,m,O)}execCommand(s,l,m,O){return this.editorCommands.execCommand(s,l,m,O)}queryCommandState(s){return this.editorCommands.queryCommandState(s)}queryCommandValue(s){return this.editorCommands.queryCommandValue(s)}queryCommandSupported(s){return this.editorCommands.queryCommandSupported(s)}show(){const s=this;s.hidden&&(s.hidden=!1,s.inline?s.getBody().contentEditable="true":(rO.show(s.getContainer()),rO.hide(s.id)),s.load(),s.dispatch("show"))}hide(){const s=this;s.hidden||(s.save(),s.inline?(s.getBody().contentEditable="false",s===s.editorManager.focusedEditor&&(s.editorManager.focusedEditor=null)):(rO.hide(s.getContainer()),rO.setStyle(s.id,"display",s.orgDisplay)),s.hidden=!0,s.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(s,l){this.dispatch("ProgressState",{state:s,time:l})}load(s={}){const l=this,m=l.getElement();if(l.removed)return"";if(m){const O={...s,load:!0},P=o0(m)?m.value:m.innerHTML,Z=l.setContent(P,O);return O.no_events||l.dispatch("LoadContent",{...O,element:m}),Z}else return""}save(s={}){const l=this;let m=l.getElement();if(!m||!l.initialized||l.removed)return"";const O={...s,save:!0,element:m};let P=l.getContent(O);const Z={...O,content:P};if(Z.no_events||l.dispatch("SaveContent",Z),Z.format==="raw"&&l.dispatch("RawSaveContent",Z),P=Z.content,o0(m))m.value=P;else{(s.is_removing||!l.inline)&&(m.innerHTML=P);const J=rO.getParent(l.id,"form");J&&Vne(J.elements,he=>he.name===l.id?(he.value=P,!1):!0)}return Z.element=O.element=m=null,Z.set_dirty!==!1&&l.setDirty(!1),P}setContent(s,l){return b6(this,s,l)}getContent(s){return xN(this,s)}insertContent(s,l){l&&(s=pz({content:s},l)),this.execCommand("mceInsertContent",!1,s)}resetContent(s){s===void 0?b6(this,this.startContent,{format:"raw"}):b6(this,s),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(s){const l=!this.isNotDirty;this.isNotDirty=!s,s&&s!==l&&this.dispatch("dirty")}getContainer(){const s=this;return s.container||(s.container=s.editorContainer||rO.get(s.id+"_parent")),s.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=rO.get(this.id)),this.targetElm}getWin(){const s=this;if(!s.contentWindow){const l=s.iframeElement;l&&(s.contentWindow=l.contentWindow)}return s.contentWindow}getDoc(){const s=this;if(!s.contentDocument){const l=s.getWin();l&&(s.contentDocument=l.document)}return s.contentDocument}getBody(){var s,l;const m=this.getDoc();return(l=(s=this.bodyElement)!==null&&s!==void 0?s:m==null?void 0:m.body)!==null&&l!==void 0?l:null}convertURL(s,l,m){const O=this,P=O.options.get,Z=OE(O);if(E(Z))return Z.call(O,s,m,!0,l);if(!P("convert_urls")||m==="link"||I(m)&&m.nodeName==="LINK"||s.indexOf("file:")===0||s.length===0)return s;const J=new Kd(s);return J.protocol!=="http"&&J.protocol!=="https"&&J.protocol!==""?s:P("relative_urls")?O.documentBaseURI.toRelative(s):(s=O.documentBaseURI.toAbsolute(s,P("remove_script_host")),s)}addVisual(s){Jte(this,s)}setEditableRoot(s){UV(this,s)}hasEditableRoot(){return Zte(this)}remove(){EG(this)}destroy(s){_G(this,s)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const W2=Da.DOM,pP=fr.each;let vz=!1,vP,mf=[];const yP=n=>{const s=n.type;pP(E1.get(),l=>{switch(s){case"scroll":l.dispatch("ScrollWindow",n);break;case"resize":l.dispatch("ResizeWindow",n);break}})},yz=n=>{if(n!==vz){const s=Da.DOM;n?(s.bind(window,"resize",yP),s.bind(window,"scroll",yP)):(s.unbind(window,"resize",yP),s.unbind(window,"scroll",yP)),vz=n}},bz=n=>{const s=mf;return mf=se(mf,l=>n!==l),E1.activeEditor===n&&(E1.activeEditor=mf.length>0?mf[0]:null),E1.focusedEditor===n&&(E1.focusedEditor=null),s.length!==mf.length},Oz=n=>{n&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(bz(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)},zne=document.compatMode!=="CSS1Compat",E1={...JR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.0",releaseDate:"2023-11-22",i18n:sd,activeEditor:null,focusedEditor:null,setup(){const n=this;let s="",l="",m=Kd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/"));const O=window.tinymce||window.tinyMCEPreInit;if(O)s=O.base||O.baseURL,l=O.suffix;else{const P=document.getElementsByTagName("script");for(let Z=0;Z<P.length;Z++){const J=P[Z].src||"";if(J==="")continue;const he=J.substring(J.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(J)){he.indexOf(".min")!==-1&&(l=".min"),s=J.substring(0,J.lastIndexOf("/"));break}}if(!s&&document.currentScript){const Z=document.currentScript.src;Z.indexOf(".min")!==-1&&(l=".min"),s=Z.substring(0,Z.lastIndexOf("/"))}}n.baseURL=new Kd(m).toAbsolute(s),n.documentBaseURL=m,n.baseURI=new Kd(n.baseURL),n.suffix=l,tW(n)},overrideDefaults(n){const s=n.base_url;s&&this._setBaseUrl(s);const l=n.suffix;l&&(this.suffix=l),this.defaultOptions=n;const m=n.plugin_base_urls;m!==void 0&&Bt(m,(O,P)=>{Pc.PluginManager.urls[P]=O})},init(n){const s=this;let l;const m=fr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),O=(Ge,qe)=>Ge.inline&&qe.tagName.toLowerCase()in m,P=Ge=>{let qe=Ge.id;return qe||(qe=Sn(Ge,"name").filter(ot=>!W2.get(ot)).getOrThunk(W2.uniqueId),Ge.setAttribute("id",qe)),qe},Z=Ge=>{const qe=n[Ge];if(qe)return qe.apply(s,[])},J=Ge=>Dr.browser.isIE()||Dr.browser.isEdge()?(h3("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):zne?(h3("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):M(Ge.selector)?W2.select(Ge.selector):B(Ge.target)?[Ge.target]:[];let he=Ge=>{l=Ge};const _e=()=>{let Ge=0;const qe=[];let ot;const Et=(Vt,kt,It)=>{const cn=new gP(Vt,kt,s);qe.push(cn),cn.on("init",()=>{++Ge===ot.length&&he(qe)}),cn.targetElm=cn.targetElm||It,cn.render()};W2.unbind(window,"ready",_e),Z("onpageload"),ot=Xt(J(n)),fr.each(ot,Vt=>{Oz(s.get(Vt.id))}),ot=fr.grep(ot,Vt=>!s.get(Vt.id)),ot.length===0?he([]):pP(ot,Vt=>{O(n,Vt)?h3("Could not initialize inline editor on invalid inline target element",Vt):Et(P(Vt),n,Vt)})};return W2.bind(window,"ready",_e),new Promise(Ge=>{l?Ge(l):he=qe=>{Ge(qe)}})},get(n){return arguments.length===0?mf.slice(0):M(n)?le(mf,s=>s.id===n).getOr(null):W(n)&&mf[n]?mf[n]:null},add(n){const s=this,l=s.get(n.id);return l===n||(l===null&&mf.push(n),yz(!0),s.activeEditor=n,s.dispatch("AddEditor",{editor:n}),vP||(vP=m=>{const O=s.dispatch("BeforeUnload");if(O.returnValue)return m.preventDefault(),m.returnValue=O.returnValue,O.returnValue},window.addEventListener("beforeunload",vP))),n},createEditor(n,s){return this.add(new gP(n,s,this))},remove(n){const s=this;let l;if(!n){for(let m=mf.length-1;m>=0;m--)s.remove(mf[m]);return}if(M(n)){pP(W2.select(n),m=>{l=s.get(m.id),l&&s.remove(l)});return}return l=n,F(s.get(l.id))?null:(bz(l)&&s.dispatch("RemoveEditor",{editor:l}),mf.length===0&&window.removeEventListener("beforeunload",vP),l.remove(),yz(mf.length>0),l)},execCommand(n,s,l){var m;const O=this,P=I(l)?(m=l.id)!==null&&m!==void 0?m:l.index:l;switch(n){case"mceAddEditor":{if(!O.get(P)){const Z=l.options;new gP(P,Z,O).render()}return!0}case"mceRemoveEditor":{const Z=O.get(P);return Z&&Z.remove(),!0}case"mceToggleEditor":{const Z=O.get(P);return Z?(Z.isHidden()?Z.show():Z.hide(),!0):(O.execCommand("mceAddEditor",!1,l),!0)}}return O.activeEditor?O.activeEditor.execCommand(n,s,l):!1},triggerSave:()=>{pP(mf,n=>{n.save()})},addI18n:(n,s)=>{sd.add(n,s)},translate:n=>sd.translate(n),setActive(n){const s=this.activeEditor;this.activeEditor!==n&&(s&&s.dispatch("deactivate",{relatedTarget:n}),n.dispatch("activate",{relatedTarget:s})),this.activeEditor=n},_setBaseUrl(n){this.baseURL=new Kd(this.documentBaseURL).toAbsolute(n.replace(/\/+$/,"")),this.baseURI=new Kd(this.baseURL)}};E1.setup();const Zne=(()=>{const n=_g(),s=P=>({items:P,types:Gt(P),getType:Z=>Sn(P,Z).getOrUndefined()}),l=P=>{n.set(P)},m=()=>n.get().getOrUndefined(),O=n.clear;return{FakeClipboardItem:s,write:l,read:m,clear:O}})(),xz=Math.min,Y2=Math.max,bP=Math.round,Sz=(n,s,l)=>{let m=s.x,O=s.y;const P=n.w,Z=n.h,J=s.w,he=s.h,_e=(l||"").split("");return _e[0]==="b"&&(O+=he),_e[1]==="r"&&(m+=J),_e[0]==="c"&&(O+=bP(he/2)),_e[1]==="c"&&(m+=bP(J/2)),_e[3]==="b"&&(O-=Z),_e[4]==="r"&&(m-=P),_e[3]==="c"&&(O-=bP(Z/2)),_e[4]==="c"&&(m-=bP(P/2)),X2(m,O,P,Z)},wz=(n,s,l,m)=>{for(let O=0;O<m.length;O++){const P=Sz(n,s,m[O]);if(P.x>=l.x&&P.x+P.w<=l.w+l.x&&P.y>=l.y&&P.y+P.h<=l.h+l.y)return m[O]}return null},Hne=(n,s,l)=>X2(n.x-s,n.y-l,n.w+s*2,n.h+l*2),Une=(n,s)=>{const l=Y2(n.x,s.x),m=Y2(n.y,s.y),O=xz(n.x+n.w,s.x+s.w),P=xz(n.y+n.h,s.y+s.h);return O-l<0||P-m<0?null:X2(l,m,O-l,P-m)},Wne=(n,s,l)=>{let m=n.x,O=n.y,P=n.x+n.w,Z=n.y+n.h;const J=s.x+s.w,he=s.y+s.h,_e=Y2(0,s.x-m),Ge=Y2(0,s.y-O),qe=Y2(0,P-J),ot=Y2(0,Z-he);return m+=_e,O+=Ge,l&&(P+=_e,Z+=Ge,m-=qe,O-=ot),P-=qe,Z-=ot,X2(m,O,P-m,Z-O)},X2=(n,s,l,m)=>({x:n,y:s,w:l,h:m}),Yne={inflate:Hne,relativePosition:Sz,findBestRelativePosition:wz,intersect:Une,clamp:Wne,create:X2,fromClientRect:n=>X2(n.left,n.top,n.width,n.height)},Xne=(n,s,l=1e3)=>{let m=!1,O=null;const P=_e=>(...Ge)=>{m||(m=!0,O!==null&&(clearTimeout(O),O=null),_e.apply(null,Ge))},Z=P(n),J=P(s);return{start:(..._e)=>{!m&&O===null&&(O=setTimeout(()=>J.apply(null,_e),l))},resolve:Z,reject:J}},Tz=(()=>{const n={},s={},l={};return{load:(he,_e)=>{const Ge=`Script at URL "${_e}" failed to load`,qe=`Script at URL "${_e}" did not call \`tinymce.Resource.add('${he}', data)\` within 1 second`;if(n[he]!==void 0)return n[he];{const ot=new Promise((Et,Vt)=>{const kt=Xne(Et,Vt);s[he]=kt.resolve,Ji.ScriptLoader.loadScript(_e).then(()=>kt.start(qe),()=>kt.reject(Ge))});return n[he]=ot,ot}},add:(he,_e)=>{s[he]!==void 0&&(s[he](_e),delete s[he]),n[he]=Promise.resolve(_e),l[he]=_e},has:he=>he in l,get:he=>l[he],unload:he=>{delete n[he]}}})(),_ce=()=>(()=>{let n={},s=[];const l={getItem:m=>{const O=n[m];return O||null},setItem:(m,O)=>{s.push(m),n[m]=String(O)},key:m=>s[m],removeItem:m=>{s=s.filter(O=>O===m),delete n[m]},clear:()=>{s=[],n={}},length:0};return Object.defineProperty(l,"length",{get:()=>s.length,configurable:!1,enumerable:!1}),l})();let G2;try{const n="__storage_test__";G2=window.localStorage,G2.setItem(n,n),G2.removeItem(n)}catch{G2=_ce()}var Gne=G2;const Cz={geom:{Rect:Yne},util:{Delay:fd,Tools:fr,VK:Wr,URI:Kd,EventDispatcher:J3,Observable:JR,I18n:sd,LocalStorage:Gne,ImageUploader:T6},dom:{EventUtils:Au,TreeWalker:ca,TextSeeker:Rg,DOMUtils:Da,ScriptLoader:Ji,RangeUtils:Ot,Serializer:bN,StyleSheetLoader:YS,ControlSelection:f9,BookmarkManager:mv,Selection:d1,Event:Au.Event},html:{Styles:GO,Entities:Pg,Node:hu,Schema:Cm,DomParser:Vh,Writer:I9,Serializer:s1},Env:Dr,AddOnManager:Pc,Annotator:mT,Formatter:zb,UndoManager:m3,EditorCommands:Ev,WindowManager:MN,NotificationManager:S6,EditorObservable:nO,Shortcuts:gz,Editor:gP,FocusManager:p9,EditorManager:E1,DOM:Da.DOM,ScriptLoader:Ji.ScriptLoader,PluginManager:Fb,ThemeManager:kv,ModelManager:eh,IconManager:u3,Resource:Tz,FakeClipboard:Zne,trim:fr.trim,isArray:fr.isArray,is:fr.is,toArray:fr.toArray,makeMap:fr.makeMap,each:fr.each,map:fr.map,grep:fr.grep,inArray:fr.inArray,extend:fr.extend,walk:fr.walk,resolve:fr.resolve,explode:fr.explode,_addCacheSuffix:fr._addCacheSuffix},kz=fr.extend(E1,Cz),jne=n=>{try{t.exports=n}catch{}};(n=>{window.tinymce=n,window.tinyMCE=n})(kz),jne(kz)})()})(y$e);(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const e=(A,$,j)=>{var ce;return j(A,$.prototype)?!0:((ce=A.constructor)===null||ce===void 0?void 0:ce.name)===$.name},r=A=>{const $=typeof A;return A===null?"null":$==="object"&&Array.isArray(A)?"array":$==="object"&&e(A,String,(j,ce)=>ce.isPrototypeOf(j))?"string":$},a=A=>$=>r($)===A,i=A=>$=>typeof $===A,d=A=>$=>A===$,f=a("string"),h=a("object"),u=a("array"),p=d(null),v=i("boolean"),y=d(void 0),b=A=>A==null,x=A=>!b(A),k=i("function"),C=i("number"),w=()=>{},T=(A,$)=>(...j)=>A($.apply(null,j)),R=(A,$)=>j=>A($(j)),M=A=>()=>A,I=A=>A,V=(A,$)=>A===$;function N(A,...$){return(...j)=>{const ce=$.concat(j);return A.apply(null,ce)}}const F=A=>$=>!A($),z=A=>()=>{throw new Error(A)},U=A=>A(),Q=M(!1),B=M(!0);class E{constructor($,j){this.tag=$,this.value=j}static some($){return new E(!0,$)}static none(){return E.singletonNone}fold($,j){return this.tag?j(this.value):$()}isSome(){return this.tag}isNone(){return!this.tag}map($){return this.tag?E.some($(this.value)):E.none()}bind($){return this.tag?$(this.value):E.none()}exists($){return this.tag&&$(this.value)}forall($){return!this.tag||$(this.value)}filter($){return!this.tag||$(this.value)?this:E.none()}getOr($){return this.tag?this.value:$}or($){return this.tag?this:$}getOrThunk($){return this.tag?this.value:$()}orThunk($){return this.tag?this:$()}getOrDie($){if(this.tag)return this.value;throw new Error($??"Called getOrDie on None")}static from($){return x($)?E.some($):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($){this.tag&&$(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const W=Array.prototype.slice,Y=Array.prototype.indexOf,ie=Array.prototype.push,L=(A,$)=>Y.call(A,$),me=(A,$)=>L(A,$)>-1,ae=(A,$)=>{for(let j=0,ce=A.length;j<ce;j++){const Me=A[j];if($(Me,j))return!0}return!1},q=(A,$)=>{const j=[];for(let ce=0;ce<A;ce++)j.push($(ce));return j},fe=(A,$)=>{const j=A.length,ce=new Array(j);for(let Me=0;Me<j;Me++){const Ve=A[Me];ce[Me]=$(Ve,Me)}return ce},ee=(A,$)=>{for(let j=0,ce=A.length;j<ce;j++){const Me=A[j];$(Me,j)}},be=(A,$)=>{for(let j=A.length-1;j>=0;j--){const ce=A[j];$(ce,j)}},Te=(A,$)=>{const j=[],ce=[];for(let Me=0,Ve=A.length;Me<Ve;Me++){const nt=A[Me];($(nt,Me)?j:ce).push(nt)}return{pass:j,fail:ce}},Be=(A,$)=>{const j=[];for(let ce=0,Me=A.length;ce<Me;ce++){const Ve=A[ce];$(Ve,ce)&&j.push(Ve)}return j},ge=(A,$,j)=>(be(A,(ce,Me)=>{j=$(j,ce,Me)}),j),ne=(A,$,j)=>(ee(A,(ce,Me)=>{j=$(j,ce,Me)}),j),pe=(A,$,j)=>{for(let ce=0,Me=A.length;ce<Me;ce++){const Ve=A[ce];if($(Ve,ce))return E.some(Ve);if(j(Ve,ce))break}return E.none()},G=(A,$)=>pe(A,$,Q),Oe=(A,$)=>{for(let j=0,ce=A.length;j<ce;j++){const Me=A[j];if($(Me,j))return E.some(j)}return E.none()},xe=A=>{const $=[];for(let j=0,ce=A.length;j<ce;++j){if(!u(A[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+A);ie.apply($,A[j])}return $},Le=(A,$)=>xe(fe(A,$)),ke=(A,$)=>{for(let j=0,ce=A.length;j<ce;++j){const Me=A[j];if($(Me,j)!==!0)return!1}return!0},$e=A=>{const $=W.call(A,0);return $.reverse(),$},Ze=(A,$)=>{const j={};for(let ce=0,Me=A.length;ce<Me;ce++){const Ve=A[ce];j[String(Ve)]=$(Ve,ce)}return j},De=(A,$)=>{const j=W.call(A,0);return j.sort($),j},Ie=(A,$)=>$>=0&&$<A.length?E.some(A[$]):E.none(),re=A=>Ie(A,0),ye=A=>Ie(A,A.length-1),te=(A,$)=>{for(let j=0;j<A.length;j++){const ce=$(A[j],j);if(ce.isSome())return ce}return E.none()},se=Object.keys,ue=Object.hasOwnProperty,oe=(A,$)=>{const j=se(A);for(let ce=0,Me=j.length;ce<Me;ce++){const Ve=j[ce],nt=A[Ve];$(nt,Ve)}},Se=(A,$)=>le(A,(j,ce)=>({k:ce,v:$(j,ce)})),le=(A,$)=>{const j={};return oe(A,(ce,Me)=>{const Ve=$(ce,Me);j[Ve.k]=Ve.v}),j},Ce=A=>($,j)=>{A[j]=$},Qe=(A,$,j,ce)=>{oe(A,(Me,Ve)=>{($(Me,Ve)?j:ce)(Me,Ve)})},ze=(A,$)=>{const j={};return Qe(A,$,Ce(j),w),j},Xe=(A,$)=>{const j=[];return oe(A,(ce,Me)=>{j.push($(ce,Me))}),j},ct=A=>Xe(A,I),pt=(A,$)=>Ye(A,$)?E.from(A[$]):E.none(),Ye=(A,$)=>ue.call(A,$),je=(A,$)=>Ye(A,$)&&A[$]!==void 0&&A[$]!==null,et=A=>{for(const $ in A)if(ue.call(A,$))return!1;return!0},yt=typeof window<"u"?window:Function("return this;")(),ft=(A,$)=>{let j=$??yt;for(let ce=0;ce<A.length&&j!==void 0&&j!==null;++ce)j=j[A[ce]];return j},tt=(A,$)=>{const j=A.split(".");return ft(j,$)},wt=(A,$)=>tt(A,$),Xt=(A,$)=>{const j=wt(A,$);if(j==null)throw new Error(A+" not available on this browser");return j},Gt=Object.getPrototypeOf,Nt=A=>Xt("HTMLElement",A),Bt=A=>{const $=tt("ownerDocument.defaultView",A);return h(A)&&(Nt($).prototype.isPrototypeOf(A)||/^HTML\w*Element$/.test(Gt(A).constructor.name))},vn=8,En=9,ln=11,Yn=1,an=3,wn=A=>A.dom.nodeName.toLowerCase(),Xn=A=>A.dom.nodeType,Un=A=>$=>Xn($)===A,Sn=A=>Xn(A)===vn||wn(A)==="#comment",it=A=>ut(A)&&Bt(A.dom),ut=Un(Yn),xt=Un(an),gt=Un(En),Dt=Un(ln),He=A=>$=>ut($)&&wn($)===A,at=(A,$,j)=>{if(f(j)||v(j)||C(j))A.setAttribute($,j+"");else throw console.error("Invalid call to Attribute.set. Key ",$,":: Value ",j,":: Element ",A),new Error("Attribute value was not simple")},dt=(A,$,j)=>{at(A.dom,$,j)},mt=(A,$)=>{const j=A.dom;oe($,(ce,Me)=>{at(j,Me,ce)})},Tt=(A,$)=>{oe($,(j,ce)=>{j.fold(()=>{nn(A,ce)},Me=>{at(A.dom,ce,Me)})})},Pt=(A,$)=>{const j=A.dom.getAttribute($);return j===null?void 0:j},dn=(A,$)=>E.from(Pt(A,$)),nn=(A,$)=>{A.dom.removeAttribute($)},Wt=A=>ne(A.dom.attributes,($,j)=>($[j.name]=j.value,$),{}),Rt=(A,$)=>{const ce=($||document).createElement("div");if(ce.innerHTML=A,!ce.hasChildNodes()||ce.childNodes.length>1){const Me="HTML does not have a single root node";throw console.error(Me,A),new Error(Me)}return nr(ce.childNodes[0])},fn=(A,$)=>{const ce=($||document).createElement(A);return nr(ce)},Hn=(A,$)=>{const ce=($||document).createTextNode(A);return nr(ce)},nr=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},zt={fromHtml:Rt,fromTag:fn,fromText:Hn,fromDom:nr,fromPoint:(A,$,j)=>E.from(A.dom.elementFromPoint($,j)).map(nr)},vr=(A,$)=>{const j=A.dom;if(j.nodeType!==Yn)return!1;{const ce=j;if(ce.matches!==void 0)return ce.matches($);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector($);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector($);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector($);throw new Error("Browser lacks native selectors")}},Wn=A=>A.nodeType!==Yn&&A.nodeType!==En&&A.nodeType!==ln||A.childElementCount===0,Br=(A,$)=>{const j=$===void 0?document:$.dom;return Wn(j)?[]:fe(j.querySelectorAll(A),zt.fromDom)},kr=(A,$)=>{const j=$===void 0?document:$.dom;return Wn(j)?E.none():E.from(j.querySelector(A)).map(zt.fromDom)},or=(A,$)=>A.dom===$.dom,jr=(A,$)=>{const j=A.dom,ce=$.dom;return j===ce?!1:j.contains(ce)},_r=vr,Rn=A=>zt.fromDom(A.dom.ownerDocument),xr=A=>gt(A)?A:Rn(A),sr=A=>zt.fromDom(xr(A).dom.documentElement),Sr=A=>zt.fromDom(xr(A).dom.defaultView),ao=A=>E.from(A.dom.parentNode).map(zt.fromDom),Oo=A=>E.from(A.dom.parentElement).map(zt.fromDom),wr=(A,$)=>{const j=k($)?$:Q;let ce=A.dom;const Me=[];for(;ce.parentNode!==null&&ce.parentNode!==void 0;){const Ve=ce.parentNode,nt=zt.fromDom(Ve);if(Me.push(nt),j(nt)===!0)break;ce=Ve}return Me},Fe=A=>E.from(A.dom.previousSibling).map(zt.fromDom),Ee=A=>E.from(A.dom.nextSibling).map(zt.fromDom),St=A=>fe(A.dom.childNodes,zt.fromDom),Ct=(A,$)=>{const j=A.dom.childNodes;return E.from(j[$]).map(zt.fromDom)},Lt=A=>Ct(A,0),Ft=(A,$)=>{ao(A).each(ce=>{ce.dom.insertBefore($.dom,A.dom)})},Ht=(A,$)=>{Ee(A).fold(()=>{ao(A).each(Me=>{Mt(Me,$)})},ce=>{Ft(ce,$)})},$t=(A,$)=>{Lt(A).fold(()=>{Mt(A,$)},ce=>{A.dom.insertBefore($.dom,ce.dom)})},Mt=(A,$)=>{A.dom.appendChild($.dom)},en=(A,$,j)=>{Ct(A,j).fold(()=>{Mt(A,$)},ce=>{Ft(ce,$)})},un=(A,$)=>{Ft(A,$),Mt($,A)},Jt=(A,$)=>{ee($,(j,ce)=>{const Me=ce===0?A:$[ce-1];Ht(Me,j)})},rn=(A,$)=>{ee($,j=>{Mt(A,j)})},Tn=A=>{A.dom.textContent="",ee(St(A),$=>{On($)})},On=A=>{const $=A.dom;$.parentNode!==null&&$.parentNode.removeChild($)},pn=A=>{const $=St(A);$.length>0&&Jt(A,$),On(A)},Jn=(A,$)=>zt.fromDom(A.dom.cloneNode($)),Fn=A=>Jn(A,!1),zr=A=>Jn(A,!0),dr=(A,$)=>{const j=zt.fromTag($),ce=Wt(A);return mt(j,ce),j},Hr=(A,$)=>{const j=dr(A,$),ce=St(zr(A));return rn(j,ce),j},ar=(A,$)=>{const j=dr(A,$);Ht(A,j);const ce=St(A);return rn(j,ce),On(A),j},ur=["tfoot","thead","tbody","colgroup"],qr=A=>me(ur,A),to=(A,$)=>({rows:A,columns:$}),ko=(A,$)=>({row:A,column:$}),Es=(A,$,j)=>({element:A,rowspan:$,colspan:j}),So=(A,$,j,ce)=>({element:A,rowspan:$,colspan:j,isNew:ce}),Ko=(A,$,j,ce,Me,Ve)=>({element:A,rowspan:$,colspan:j,row:ce,column:Me,isLocked:Ve}),ds=(A,$,j)=>({element:A,cells:$,section:j}),qs=(A,$,j,ce)=>({element:A,cells:$,section:j,isNew:ce}),es=(A,$,j)=>({element:A,isNew:$,isLocked:j}),Xs=(A,$,j,ce)=>({element:A,cells:$,section:j,isNew:ce}),Wa=(A,$,j,ce)=>({startRow:A,startCol:$,finishRow:j,finishCol:ce}),vc=(A,$,j)=>({element:A,colspan:$,column:j}),ii=(A,$)=>({element:A,columns:$}),tu=A=>Dt(A)&&x(A.dom.host),Na=k(Element.prototype.attachShadow)&&k(Node.prototype.getRootNode),Js=M(Na),ya=Na?A=>zt.fromDom(A.dom.getRootNode()):xr,ra=A=>{const $=ya(A);return tu($)?E.some($):E.none()},nu=A=>zt.fromDom(A.dom.host),Dr=A=>{if(Js()&&x(A.target)){const $=zt.fromDom(A.target);if(ut($)&&yc($)&&A.composed&&A.composedPath){const j=A.composedPath();if(j)return re(j)}}return E.from(A.target)},yc=A=>x(A.dom.shadowRoot),oa=A=>{const $=xt(A)?A.dom.parentNode:A.dom;if($==null||$.ownerDocument===null)return!1;const j=$.ownerDocument;return ra(zt.fromDom($)).fold(()=>j.body.contains($),R(oa,nu))},Ri=()=>Md(zt.fromDom(document)),Md=A=>{const $=A.dom.body;if($==null)throw new Error("Body is not available yet");return zt.fromDom($)},sa=(A,$,j)=>Be(wr(A,j),$),bu=(A,$)=>Be(St(A),$),Ed=(A,$)=>{let j=[];return ee(St(A),ce=>{$(ce)&&(j=j.concat([ce])),j=j.concat(Ed(ce,$))}),j},Ou=(A,$,j)=>sa(A,ce=>vr(ce,$),j),Po=(A,$)=>bu(A,j=>vr(j,$)),zi=(A,$)=>Br($,A);var fr=(A,$,j,ce,Me)=>A(j,ce)?E.some(j):k(Me)&&Me(j)?E.none():$(j,ce,Me);const Qa=(A,$,j)=>{let ce=A.dom;const Me=k(j)?j:Q;for(;ce.parentNode;){ce=ce.parentNode;const Ve=zt.fromDom(ce);if($(Ve))return E.some(Ve);if(Me(Ve))break}return E.none()},xi=(A,$,j)=>fr((Me,Ve)=>Ve(Me),Qa,A,$,j),za=(A,$)=>{const j=Me=>$(zt.fromDom(Me));return G(A.dom.childNodes,j).map(zt.fromDom)},Fa=(A,$)=>{const j=ce=>{for(let Me=0;Me<ce.childNodes.length;Me++){const Ve=zt.fromDom(ce.childNodes[Me]);if($(Ve))return E.some(Ve);const nt=j(ce.childNodes[Me]);if(nt.isSome())return nt}return E.none()};return j(A.dom)},yl=(A,$,j)=>Qa(A,ce=>vr(ce,$),j),Zo=(A,$)=>za(A,j=>vr(j,$)),li=(A,$)=>kr($,A),Ka=(A,$,j)=>fr((Me,Ve)=>vr(Me,Ve),yl,A,$,j),Gf=(A,$,j=V)=>A.exists(ce=>j(ce,$)),Za=A=>{const $=[],j=ce=>{$.push(ce)};for(let ce=0;ce<A.length;ce++)A[ce].each(j);return $},Vu=(A,$)=>A!=null?$(A):E.none(),zu=(A,$)=>A?E.some($):E.none(),_d=(A,$,j)=>$===""||A.length>=$.length&&A.substr(j,j+$.length)===$,Is=(A,$,j=0,ce)=>{const Me=A.indexOf($,j);return Me!==-1?y(ce)?!0:Me+$.length<=ce:!1},Rd=(A,$)=>_d(A,$,0),Fc=(A,$)=>_d(A,$,A.length-$.length),mh=(A=>$=>$.replace(A,""))(/^\s+|\s+$/g),lm=A=>A.length>0,Vs=A=>{const $=parseFloat(A);return isNaN($)?E.none():E.some($)},Si=A=>A.style!==void 0&&k(A.style.getPropertyValue),Tf=(A,$,j)=>{if(!f(j))throw console.error("Invalid call to CSS.set. Property ",$,":: Value ",j,":: Element ",A),new Error("CSS value must be a string: "+j);Si(A)&&A.style.setProperty($,j)},QS=(A,$)=>{Si(A)&&A.style.removeProperty($)},Ya=(A,$,j)=>{const ce=A.dom;Tf(ce,$,j)},kl=(A,$)=>{const j=A.dom;oe($,(ce,Me)=>{Tf(j,Me,ce)})},Zi=(A,$)=>{const j=A.dom,Me=window.getComputedStyle(j).getPropertyValue($);return Me===""&&!oa(A)?PO(j,$):Me},PO=(A,$)=>Si(A)?A.style.getPropertyValue($):"",Np=(A,$)=>{const j=A.dom,ce=PO(j,$);return E.from(ce).filter(Me=>Me.length>0)},xu=(A,$)=>{const j=A.dom;QS(j,$),Gf(dn(A,"style").map(mh),"")&&nn(A,"style")},Zu=(A,$)=>{const j=A.dom,ce=$.dom;Si(j)&&Si(ce)&&(ce.style.cssText=j.style.cssText)},Ra=(A,$,j=0)=>dn(A,$).map(ce=>parseInt(ce,10)).getOr(j),Su=(A,$)=>Ra(A,$,1),Al=A=>He("col")(A)?Ra(A,"span",1)>1:Su(A,"colspan")>1,bc=A=>Su(A,"rowspan")>1,Cf=(A,$)=>parseInt(Zi(A,$),10),ci=M(10),kf=M(10),Bp=(A,$)=>Qp(A,$,B),Qp=(A,$,j)=>Le(St(A),ce=>vr(ce,$)?j(ce)?[ce]:[]:Qp(ce,$,j)),ly=(A,$,j=Q)=>{if(j($))return E.none();if(me(A,wn($)))return E.some($);const ce=Me=>vr(Me,"table")||j(Me);return yl($,A.join(","),ce)},Xv=(A,$)=>ly(["td","th"],A,$),Af=A=>Bp(A,"th,td"),Fp=A=>vr(A,"colgroup")?Po(A,"col"):Le(cy(A),$=>Po($,"col")),Oc=(A,$)=>Ka(A,"table",$),Gv=A=>Bp(A,"tr"),cy=A=>Oc(A).fold(M([]),$=>Po($,"colgroup")),cm=(A,$)=>fe(A,j=>{if(wn(j)==="colgroup"){const ce=fe(Fp(j),Me=>{const Ve=Ra(Me,"span",1);return Es(Me,1,Ve)});return ds(j,ce,"colgroup")}else{const ce=fe(Af(j),Me=>{const Ve=Ra(Me,"rowspan",1),nt=Ra(Me,"colspan",1);return Es(Me,Ve,nt)});return ds(j,ce,$(j))}}),uy=A=>ao(A).map($=>{const j=wn($);return qr(j)?j:"tbody"}).getOr("tbody"),um=A=>{const $=Gv(A),ce=[...cy(A),...$];return cm(ce,uy)},MO=(A,$)=>cm(A,()=>$),gh=A=>{let $=!1,j;return(...ce)=>($||($=!0,j=A.apply(null,ce)),j)},EO=(A,$,j,ce)=>{const Me=A.isiOS()&&/ipad/i.test(j)===!0,Ve=A.isiOS()&&!Me,nt=A.isiOS()||A.isAndroid(),Ot=nt||ce("(pointer:coarse)"),_t=Me||!Ve&&nt&&ce("(min-device-width:768px)"),Kt=Ve||nt&&!_t,Cn=$.isSafari()&&A.isiOS()&&/safari/i.test(j)===!1,ir=!Kt&&!_t&&!Cn;return{isiPad:M(Me),isiPhone:M(Ve),isTablet:M(_t),isPhone:M(Kt),isTouch:M(Ot),isAndroid:A.isAndroid,isiOS:A.isiOS,isWebView:M(Cn),isDesktop:M(ir)}},_O=(A,$)=>{for(let j=0;j<A.length;j++){const ce=A[j];if(ce.test($))return ce}},RO=(A,$)=>{const j=_O(A,$);if(!j)return{major:0,minor:0};const ce=Me=>Number($.replace(j,"$"+Me));return Yt(ce(1),ce(2))},fm=(A,$)=>{const j=String($).toLowerCase();return A.length===0?fy():RO(A,j)},fy=()=>Yt(0,0),Yt=(A,$)=>({major:A,minor:$}),dm={nu:Yt,detect:fm,unknown:fy},Hu=(A,$)=>te($.brands,j=>{const ce=j.brand.toLowerCase();return G(A,Me=>{var Ve;return ce===((Ve=Me.brand)===null||Ve===void 0?void 0:Ve.toLowerCase())}).map(Me=>({current:Me.name,version:dm.nu(parseInt(j.version,10),0)}))}),jv=(A,$)=>{const j=String($).toLowerCase();return G(A,ce=>ce.search(j))},Vp=(A,$)=>jv(A,$).map(j=>{const ce=dm.detect(j.versionRegexes,$);return{current:j.name,version:ce}}),FS=(A,$)=>jv(A,$).map(j=>{const ce=dm.detect(j.versionRegexes,$);return{current:j.name,version:ce}}),Gs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,tc=A=>$=>Is($,A),jf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:A=>Is(A,"edge/")&&Is(A,"chrome")&&Is(A,"safari")&&Is(A,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Gs],search:A=>Is(A,"chrome")&&!Is(A,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:A=>Is(A,"msie")||Is(A,"trident")},{name:"Opera",versionRegexes:[Gs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tc("firefox")},{name:"Safari",versionRegexes:[Gs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:A=>(Is(A,"safari")||Is(A,"mobile/"))&&Is(A,"applewebkit")}],qf=[{name:"Windows",search:tc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:A=>Is(A,"iphone")||Is(A,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:tc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:tc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:tc("linux"),versionRegexes:[]},{name:"Solaris",search:tc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:tc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:tc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],dy={browsers:M(jf),oses:M(qf)},vg="Edge",ru="Chromium",yg="IE",hy="Opera",DO="Firefox",Uu="Safari",zp=()=>my({current:void 0,version:dm.unknown()}),my=A=>{const $=A.current,j=A.version,ce=Me=>()=>$===Me;return{current:$,version:j,isEdge:ce(vg),isChromium:ce(ru),isIE:ce(yg),isOpera:ce(hy),isFirefox:ce(DO),isSafari:ce(Uu)}},Vc={unknown:zp,nu:my,edge:M(vg),chromium:M(ru),ie:M(yg),opera:M(hy),firefox:M(DO),safari:M(Uu)},ol="Windows",ph="iOS",bg="Android",xc="Linux",Pl="macOS",Wu="Solaris",$O="FreeBSD",Zp="ChromeOS",gy=()=>qv({current:void 0,version:dm.unknown()}),qv=A=>{const $=A.current,j=A.version,ce=Me=>()=>$===Me;return{current:$,version:j,isWindows:ce(ol),isiOS:ce(ph),isAndroid:ce(bg),isMacOS:ce(Pl),isLinux:ce(xc),isSolaris:ce(Wu),isFreeBSD:ce($O),isChromeOS:ce(Zp)}},Pf={unknown:gy,nu:qv,windows:M(ol),ios:M(ph),android:M(bg),linux:M(xc),macos:M(Pl),solaris:M(Wu),freebsd:M($O),chromeos:M(Zp)},GC={detect:(A,$,j)=>{const ce=dy.browsers(),Me=dy.oses(),Ve=$.bind(_t=>Hu(ce,_t)).orThunk(()=>Vp(ce,A)).fold(Vc.unknown,Vc.nu),nt=FS(Me,A).fold(Pf.unknown,Pf.nu),Ot=EO(nt,Ve,A,j);return{browser:Ve,os:nt,deviceType:Ot}}},jC=A=>window.matchMedia(A).matches;let VS=gh(()=>GC.detect(navigator.userAgent,E.from(navigator.userAgentData),jC));const Hp=()=>VS(),Kv=(A,$)=>{const j=(Ot,_t)=>{if(!C(_t)&&!_t.match(/^[0-9]+$/))throw new Error(A+".set accepts only positive integer values. Value was "+_t);const Kt=Ot.dom;Si(Kt)&&(Kt.style[A]=_t+"px")},ce=Ot=>{const _t=$(Ot);if(_t<=0||_t===null){const Kt=Zi(Ot,A);return parseFloat(Kt)||0}return _t},Me=ce,Ve=(Ot,_t)=>ne(_t,(Kt,Cn)=>{const ir=Zi(Ot,Cn),$r=ir===void 0?0:parseInt(ir,10);return isNaN($r)?Kt:Kt+$r},0);return{set:j,get:ce,getOuter:Me,aggregate:Ve,max:(Ot,_t,Kt)=>{const Cn=Ve(Ot,Kt);return _t>Cn?_t-Cn:0}}},vh=(A,$)=>Vs(A).getOr($),Ja=(A,$,j)=>vh(Zi(A,$),j),ui=(A,$,j,ce)=>{const Me=Ja(A,`padding-${j}`,0),Ve=Ja(A,`padding-${ce}`,0),nt=Ja(A,`border-${j}-width`,0),Ot=Ja(A,`border-${ce}-width`,0);return $-Me-Ve-nt-Ot},wu=(A,$)=>{const j=A.dom,ce=j.getBoundingClientRect().width||j.offsetWidth;return $==="border-box"?ce:ui(A,ce,"left","right")},py=A=>Ja(A,"height",A.dom.offsetHeight),IO=A=>Ja(A,"width",A.dom.offsetWidth),Vl=A=>wu(A,"content-box"),Og=Kv("width",A=>A.dom.offsetWidth),Sc=A=>Og.get(A),Mf=A=>Og.getOuter(A),vy=Vl,jo=IO,zc=(A,$,j)=>{const ce=A.cells,Me=ce.slice(0,$),Ve=ce.slice($),nt=Me.concat(j).concat(Ve);return yy(A,nt)},yh=(A,$,j)=>zc(A,$,[j]),hm=(A,$,j)=>{const ce=A.cells;ce[$]=j},yy=(A,$)=>Xs(A.element,$,A.section,A.isNew),by=(A,$)=>{const j=A.cells,ce=fe(j,$);return Xs(A.element,ce,A.section,A.isNew)},nc=(A,$)=>A.cells[$],wi=(A,$)=>nc(A,$).element,ou=A=>A.cells.length,Hi=A=>{const $=Te(A,j=>j.section==="colgroup");return{rows:$.fail,cols:$.pass}},Oy=(A,$,j)=>{const ce=fe(A.cells,j);return Xs($(A.element),ce,A.section,!0)},Jv="data-snooker-locked-cols",Ti=A=>dn(A,Jv).bind($=>E.from($.match(/\d+/g))).map($=>Ze($,B)),Ui=A=>{const $=ne(Hi(A).rows,(ce,Me)=>(ee(Me.cells,(Ve,nt)=>{Ve.isLocked&&(ce[nt]=!0)}),ce),{}),j=Xe($,(ce,Me)=>parseInt(Me,10));return De(j)},Yu=(A,$)=>A+","+$,mm=(A,$,j)=>E.from(A.access[Yu($,j)]),Ci=(A,$,j)=>{const ce=xg(A,Me=>j($,Me.element));return ce.length>0?E.some(ce[0]):E.none()},xg=(A,$)=>{const j=Le(A.all,ce=>ce.cells);return Be(j,$)},Up=A=>{const $={};let j=0;return ee(A.cells,ce=>{const Me=ce.colspan;q(Me,Ve=>{const nt=j+Ve;$[nt]=vc(ce.element,Me,nt)}),j+=Me}),$},Ta=A=>{const $={},j=[],Me=re(A).map(Rr=>Rr.element).bind(Oc).bind(Ti).getOr({});let Ve=0,nt=0,Ot=0;const{pass:_t,fail:Kt}=Te(A,Rr=>Rr.section==="colgroup");ee(Kt,Rr=>{const Kn=[];ee(Rr.cells,Ir=>{let jn=0;for(;$[Yu(Ot,jn)]!==void 0;)jn++;const io=je(Me,jn.toString()),$o=Ko(Ir.element,Ir.rowspan,Ir.colspan,Ot,jn,io);for(let os=0;os<Ir.colspan;os++)for(let Va=0;Va<Ir.rowspan;Va++){const ml=Ot+Va,bi=jn+os,du=Yu(ml,bi);$[du]=$o,nt=Math.max(nt,bi+1)}Kn.push($o)}),Ve++,j.push(ds(Rr.element,Kn,Rr.section)),Ot++});const{columns:Cn,colgroups:ir}=ye(_t).map(Rr=>{const Kn=Up(Rr);return{colgroups:[ii(Rr.element,ct(Kn))],columns:Kn}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:to(Ve,nt),access:$,all:j,columns:Cn,colgroups:ir}},hs={fromTable:A=>{const $=um(A);return Ta($)},generate:Ta,getAt:mm,findItem:Ci,filterItems:xg,justCells:A=>Le(A.all,$=>$.cells),justColumns:A=>ct(A.columns),hasColumns:A=>se(A.columns).length>0,getColumnAt:(A,$)=>E.from(A.columns[$])},gm=(A,$=B)=>{const j=A.grid,ce=q(j.columns,I),Me=q(j.rows,I);return fe(ce,Ve=>e0(()=>Le(Me,Kt=>hs.getAt(A,Kt,Ve).filter(Cn=>Cn.column===Ve).toArray()),Kt=>Kt.colspan===1&&$(Kt.element),()=>hs.getAt(A,0,Ve)))},e0=(A,$,j)=>{const ce=A();return G(ce,$).orThunk(()=>E.from(ce[0]).orThunk(j)).map(nt=>nt.element)},Yp=A=>{const $=A.grid,j=q($.rows,I),ce=q($.columns,I);return fe(j,Me=>e0(()=>Le(ce,_t=>hs.getAt(A,Me,_t).filter(Kt=>Kt.row===Me).fold(M([]),Kt=>[Kt])),_t=>_t.rowspan===1,()=>hs.getAt(A,Me,0)))},zS=(A,$)=>{if($<0||$>=A.length-1)return E.none();const j=A[$].fold(()=>{const Me=$e(A.slice(0,$));return te(Me,(Ve,nt)=>Ve.map(Ot=>({value:Ot,delta:nt+1})))},Me=>E.some({value:Me,delta:0})),ce=A[$+1].fold(()=>{const Me=A.slice($+1);return te(Me,(Ve,nt)=>Ve.map(Ot=>({value:Ot,delta:nt+1})))},Me=>E.some({value:Me,delta:1}));return j.bind(Me=>ce.map(Ve=>{const nt=Ve.delta+Me.delta;return Math.abs(Ve.value-Me.value)/nt}))},ZS=(A,$)=>j=>Sy(j)==="rtl"?$:A,Sy=A=>Zi(A,"direction")==="rtl"?"rtl":"ltr",pm=Kv("height",A=>{const $=A.dom;return oa(A)?$.getBoundingClientRect().height:$.offsetHeight}),t0=A=>pm.get(A),vm=A=>pm.getOuter(A),Sg=py,NO=(A,$)=>({left:A,top:$,translate:(ce,Me)=>NO(A+ce,$+Me)}),Xu=NO,BO=A=>{const $=A.getBoundingClientRect();return Xu($.left,$.top)},ym=(A,$)=>A!==void 0?A:$!==void 0?$:0,Tu=A=>{const $=A.dom.ownerDocument,j=$.body,ce=$.defaultView,Me=$.documentElement;if(j===A.dom)return Xu(j.offsetLeft,j.offsetTop);const Ve=ym(ce==null?void 0:ce.pageYOffset,Me.scrollTop),nt=ym(ce==null?void 0:ce.pageXOffset,Me.scrollLeft),Ot=ym(Me.clientTop,j.clientTop),_t=ym(Me.clientLeft,j.clientLeft);return n0(A).translate(nt-_t,Ve-Ot)},n0=A=>{const $=A.dom,ce=$.ownerDocument.body;return ce===$?Xu(ce.offsetLeft,ce.offsetTop):oa(A)?BO($):Xu(0,0)},wy=(A,$)=>({row:A,y:$}),wg=(A,$)=>({col:A,x:$}),Ty=A=>Tu(A).left+Mf(A),Cy=A=>Tu(A).left,ky=(A,$)=>wg(A,Cy($)),r0=(A,$)=>wg(A,Ty($)),sl=A=>Tu(A).top,Xp=(A,$)=>wy(A,sl($)),ca=(A,$)=>wy(A,sl($)+vm($)),uo=(A,$,j)=>{if(j.length===0)return[];const ce=fe(j.slice(1),(Ve,nt)=>Ve.map(Ot=>A(nt,Ot))),Me=j[j.length-1].map(Ve=>$(j.length-1,Ve));return ce.concat([Me])},Gu=A=>-A,Xr={delta:I,positions:A=>uo(Xp,ca,A),edge:sl},Dd=ZS({delta:I,edge:Cy,positions:A=>uo(ky,r0,A)},{delta:Gu,edge:Ty,positions:A=>uo(r0,ky,A)}),vi={delta:(A,$)=>Dd($).delta(A,$),positions:(A,$)=>Dd($).positions(A,$),edge:A=>Dd(A).edge(A)},$d={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Gp=(()=>{const A="[0-9]+",j="[eE]"+("[+-]?"+A),ce="\\.",Me=Ot=>`(?:${Ot})?`,nt=`[+-]?(?:${["Infinity",A+ce+Me(A)+Me(j),ce+A+Me(j),A+Me(j)].join("|")})`;return new RegExp(`^(${nt})(.*)$`)})(),al=(A,$)=>ae($,j=>ae($d[j],ce=>A===ce)),_f=(A,$)=>E.from(Gp.exec(A)).bind(ce=>{const Me=Number(ce[1]),Ve=ce[2];return al(Ve,$)?E.some({value:Me,unit:Ve}):E.none()}),bm=/(\d+(\.\d+)?)%/,ju=/(\d+(\.\d+)?)px|em/,Ay=He("col"),o0=(A,$,j)=>{const ce=Oo(A).getOrThunk(()=>Md(Rn(A)));return $(A)/j(ce)*100},lr=(A,$)=>{Ya(A,"width",$+"px")},QO=(A,$)=>{Ya(A,"width",$+"%")},Ml=(A,$)=>{Ya(A,"height",$+"px")},Kf=A=>Sg(A)+"px",Tg=(A,$,j,ce)=>{const Me=Oc(A).map(Ve=>{const nt=j(Ve);return Math.floor($/100*nt)}).getOr($);return ce(A,Me),Me},da=(A,$,j,ce)=>{const Me=parseFloat(A);return Fc(A,"%")&&wn($)!=="table"?Tg($,Me,j,ce):Me},aa=A=>{const $=Kf(A);return $?da($,A,t0,Ml):t0(A)},El=(A,$,j)=>{const ce=j(A),Me=Su(A,$);return ce/Me},Zl=(A,$)=>Np(A,$).orThunk(()=>dn(A,$).map(j=>j+"px")),Os=A=>Zl(A,"width"),jp=A=>Zl(A,"height"),il=A=>o0(A,Sc,vy),ei=A=>Ay(A)?Sc(A):jo(A),qp=A=>El(A,"rowspan",aa),er=A=>Os(A).bind(j=>_f(j,["fixed","relative","empty"])),Zc=(A,$,j)=>{Ya(A,"width",$+j)},Cg=A=>Sc(A)+"px",zs=A=>o0(A,Sc,vy)+"%",Rf=A=>Os(A).exists($=>bm.test($)),US=A=>Os(A).exists($=>ju.test($)),qu=A=>Os(A).isNone(),s0=M(bm),su=He("col"),a0=A=>Os(A).getOrThunk(()=>ei(A)+"px"),rc=A=>jp(A).getOrThunk(()=>qp(A)+"px"),Ws=A=>fe(hs.justColumns(A),$=>E.from($.element)),au=A=>{const $=Hp().browser,j=$.isChromium()||$.isFirefox();return su(A)?j:!0},fi=(A,$,j,ce,Me,Ve)=>A.filter(ce).fold(()=>Ve(zS(j,$)),nt=>Me(nt)),ll=(A,$,j,ce)=>{const Me=gm(A),Ve=hs.hasColumns(A)?Ws(A):Me,nt=[E.some(vi.edge($))].concat(fe(vi.positions(Me,$),_t=>_t.map(Kt=>Kt.x))),Ot=F(Al);return fe(Ve,(_t,Kt)=>fi(_t,Kt,nt,Ot,Cn=>{if(au(Cn))return j(Cn);{const ir=Vu(Me[Kt],I);return fi(ir,Kt,nt,Ot,$r=>ce(E.some(Sc($r))),ce)}},ce))},Ld=A=>A.map($=>$+"px").getOr(""),Jf=(A,$)=>ll(A,$,a0,Ld),Id=(A,$,j)=>ll(A,$,il,ce=>ce.fold(()=>j.minCellWidth(),Me=>Me/j.pixelWidth()*100)),wc=(A,$,j)=>ll(A,$,ei,ce=>ce.getOrThunk(j.minCellWidth)),ed=(A,$,j,ce,Me)=>{const Ve=Yp(A),nt=[E.some(j.edge($))].concat(fe(j.positions(Ve,$),Ot=>Ot.map(_t=>_t.y)));return fe(Ve,(Ot,_t)=>fi(Ot,_t,nt,F(bc),ce,Me))},Mn=(A,$,j)=>ed(A,$,j,qp,ce=>ce.getOrThunk(kf)),Tc=(A,$,j)=>ed(A,$,j,rc,Ld),td=(A,$)=>()=>oa(A)?$(A):parseFloat(Np(A,"width").getOr("0")),nd=A=>{const $=td(A,Sc),j=M(0);return{width:$,pixelWidth:$,getWidths:(Me,Ve)=>wc(Me,A,Ve),getCellDelta:j,singleColumnWidth:M([0]),minCellWidth:j,setElementWidth:w,adjustTableWidth:w,isRelative:!0,label:"none"}},Hc=A=>{const $=td(A,_t=>parseFloat(zs(_t))),j=td(A,Sc);return{width:$,pixelWidth:j,getWidths:(_t,Kt)=>Id(_t,A,Kt),getCellDelta:_t=>_t/j()*100,singleColumnWidth:(_t,Kt)=>[100-_t],minCellWidth:()=>ci()/j()*100,setElementWidth:QO,adjustTableWidth:_t=>{const Kt=$(),Cn=_t/100*Kt,ir=Kt+Cn;QO(A,ir)},isRelative:!0,label:"percent"}},Wi=A=>{const $=td(A,Sc);return{width:$,pixelWidth:$,getWidths:(nt,Ot)=>wc(nt,A,Ot),getCellDelta:I,singleColumnWidth:(nt,Ot)=>[Math.max(ci(),nt+Ot)-nt],minCellWidth:ci,setElementWidth:lr,adjustTableWidth:nt=>{const Ot=$()+nt;lr(A,Ot)},isRelative:!1,label:"pixel"}},Di=(A,$)=>s0().exec($)!==null?Hc(A):Wi(A),Cc={getTableSize:A=>Os(A).fold(()=>nd(A),j=>Di(A,j)),pixelSize:Wi,percentageSize:Hc,noneSize:nd},D=(A,$,j,ce,Me,Ve)=>({minRow:A,minCol:$,maxRow:j,maxCol:ce,allCells:Me,selectedCells:Ve}),X=(A,$)=>{const j=A.grid.columns;let Me=A.grid.rows,Ve=j,nt=0,Ot=0;const _t=[],Kt=[];return oe(A.access,Cn=>{if(_t.push(Cn),$(Cn)){Kt.push(Cn);const ir=Cn.row,$r=ir+Cn.rowspan-1,Rr=Cn.column,Kn=Rr+Cn.colspan-1;ir<Me?Me=ir:$r>nt&&(nt=$r),Rr<Ve?Ve=Rr:Kn>Ot&&(Ot=Kn)}}),D(Me,Ve,nt,Ot,_t,Kt)},de=(A,$,j)=>{const ce=A[j].element,Me=zt.fromTag("td");Mt(Me,zt.fromTag("br")),($?Mt:$t)(ce,Me)},we=(A,$,j,ce)=>{const Me=Be(A,Ot=>Ot.section!=="colgroup"),Ve=$.grid.columns,nt=$.grid.rows;for(let Ot=0;Ot<nt;Ot++){let _t=!1;for(let Kt=0;Kt<Ve;Kt++)Ot<j.minRow||Ot>j.maxRow||Kt<j.minCol||Kt>j.maxCol||(hs.getAt($,Ot,Kt).filter(ce).isNone()?de(Me,_t,Ot):_t=!0)}},Pe=(A,$,j,ce)=>{oe(j.columns,nt=>{(nt.column<$.minCol||nt.column>$.maxCol)&&On(nt.element)});const Me=Be(Bp(A,"tr"),nt=>nt.dom.childElementCount===0);ee(Me,On),($.minCol===$.maxCol||$.minRow===$.maxRow)&&ee(Bp(A,"th,td"),nt=>{nn(nt,"rowspan"),nn(nt,"colspan")}),nn(A,Jv),nn(A,"data-snooker-col-series"),Cc.getTableSize(A).adjustTableWidth(ce)},Re=(A,$,j,ce)=>{if(ce.minCol===0&&$.grid.columns===ce.maxCol+1)return 0;const Me=wc($,A,j),Ve=ne(Me,(Kt,Cn)=>Kt+Cn,0),_t=ne(Me.slice(ce.minCol,ce.maxCol+1),(Kt,Cn)=>Kt+Cn,0)/Ve*j.pixelWidth()-j.pixelWidth();return j.getCellDelta(_t)},Ke=(A,$)=>{const j=$r=>vr($r.element,$),ce=zr(A),Me=um(ce),Ve=Cc.getTableSize(A),nt=hs.generate(Me),Ot=X(nt,j),_t="th:not("+$+"),td:not("+$+")",Kt=Qp(ce,"th,td",$r=>vr($r,_t));ee(Kt,On),we(Me,nt,Ot,j);const Cn=hs.fromTable(A),ir=Re(A,Cn,Ve,Ot);return Pe(ce,Ot,nt,ir),ce},We=" ",vt=((A,$)=>{const j=Ve=>{if(!A(Ve))throw new Error("Can only get "+$+" value of a "+$+" node");return ce(Ve).getOr("")},ce=Ve=>A(Ve)?E.from(Ve.dom.nodeValue):E.none();return{get:j,getOption:ce,set:(Ve,nt)=>{if(!A(Ve))throw new Error("Can only set raw "+$+" value of a "+$+" node");Ve.dom.nodeValue=nt}}})(xt,"text"),bt=A=>vt.get(A),Zt=A=>vt.getOption(A),Ut=(A,$)=>vt.set(A,$),gn=A=>wn(A)==="img"?1:Zt(A).fold(()=>St(A).length,$=>$.length),An=A=>Zt(A).filter($=>$.trim().length!==0||$.indexOf(We)>-1).isSome(),jt=A=>it(A)&&Pt(A,"contenteditable")==="false",tn=["img","br"],hn=A=>An(A)||me(tn,wn(A))||jt(A),_n=A=>Fa(A,hn),Pn=A=>yn(A,hn),yn=(A,$)=>{const j=ce=>{const Me=St(ce);for(let Ve=Me.length-1;Ve>=0;Ve--){const nt=Me[Ve];if($(nt))return E.some(nt);const Ot=j(nt);if(Ot.isSome())return Ot}return E.none()};return j(A)},cr={scope:["row","col"]},Zr=A=>()=>{const $=zt.fromTag("td",A.dom);return Mt($,zt.fromTag("br",A.dom)),$},Jr=A=>()=>zt.fromTag("col",A.dom),Ar=A=>()=>zt.fromTag("colgroup",A.dom),no=A=>()=>zt.fromTag("tr",A.dom),fo=(A,$,j)=>{const ce=Hr(A,$);return oe(j,(Me,Ve)=>{Me===null?nn(ce,Ve):dt(ce,Ve,Me)}),ce},ts=A=>A,xo=(A,$,j)=>_n(A).map(Me=>{const Ve=j.join(","),nt=Ou(Me,Ve,Ot=>or(Ot,A));return ge(nt,(Ot,_t)=>{const Kt=Fn(_t);return Mt(Ot,Kt),Kt},$)}).getOr($),go=(A,$)=>{oe(cr,(j,ce)=>dn(A,ce).filter(Me=>me(j,Me)).each(Me=>dt($,ce,Me)))},js=(A,$,j)=>{const ce=(nt,Ot)=>{Zu(nt.element,Ot),xu(Ot,"height"),nt.colspan!==1&&xu(Ot,"width")},Me=nt=>{const Ot=zt.fromTag(wn(nt.element),$.dom),_t=j.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Kt=_t.length>0?xo(nt.element,Ot,_t):Ot;return Mt(Kt,zt.fromTag("br")),ce(nt,Ot),go(nt.element,Ot),A(nt.element,Ot),Ot};return{col:nt=>{const Ot=zt.fromTag(wn(nt.element),$.dom);return ce(nt,Ot),A(nt.element,Ot),Ot},colgroup:Ar($),row:no($),cell:Me,replace:fo,colGap:Jr($),gap:Zr($)}},ti=A=>({col:Jr(A),colgroup:Ar(A),row:no(A),cell:Zr(A),replace:ts,colGap:Jr(A),gap:Zr(A)}),ba=(A,$)=>{const ce=($||document).createElement("div");return ce.innerHTML=A,St(zt.fromDom(ce))},Lr=A=>fe(A,zt.fromDom),Do=A=>$=>$.options.get(A),ms="100%",_s=A=>{var $;const j=A.dom,ce=($=j.getParent(A.selection.getStart(),j.isBlock))!==null&&$!==void 0?$:A.getBody();return vy(zt.fromDom(ce))+"px"},Ba=(A,$)=>Li(A)||!Ii(A)?$:Ul(A)?{...$,width:_s(A)}:{...$,width:ms},di=(A,$)=>Li(A)||Ii(A)?$:Ul(A)?{...$,width:_s(A)}:{...$,width:ms},Yi=A=>{const $=A.options.register;$("table_clone_elements",{processor:"string[]"}),$("table_use_colgroups",{processor:"boolean",default:!0}),$("table_header_type",{processor:j=>{const ce=me(["section","cells","sectionCells","auto"],j);return ce?{value:j,valid:ce}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),$("table_sizing_mode",{processor:"string",default:"auto"}),$("table_default_attributes",{processor:"object",default:{border:"1"}}),$("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),$("table_column_resizing",{processor:j=>{const ce=me(["preservetable","resizetable"],j);return ce?{value:j,valid:ce}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),$("table_resize_bars",{processor:"boolean",default:!0}),$("table_style_by_css",{processor:"boolean",default:!0}),$("table_merge_content_on_paste",{processor:"boolean",default:!0})},$i=A=>E.from(A.options.get("table_clone_elements")),Uc=A=>{const $=A.options.get("object_resizing");return me($.split(","),"table")},Ki=Do("table_header_type"),kc=Do("table_column_resizing"),Hl=A=>kc(A)==="preservetable",ea=A=>kc(A)==="resizetable",Ku=Do("table_sizing_mode"),Df=A=>Ku(A)==="relative",Ul=A=>Ku(A)==="fixed",Li=A=>Ku(A)==="responsive",Wl=Do("table_resize_bars"),Ii=Do("table_style_by_css"),ta=Do("table_merge_content_on_paste"),Ac=A=>{const $=A.options,j=$.get("table_default_attributes");return $.isSet("table_default_attributes")?j:di(A,j)},Nd=A=>{const $=A.options,j=$.get("table_default_styles");return $.isSet("table_default_styles")?j:Ba(A,j)},Ju=Do("table_use_colgroups"),Om=A=>Ka(A,"[contenteditable]"),Bd=(A,$=!1)=>oa(A)?A.dom.isContentEditable:Om(A).fold(M($),j=>Py(j)==="true"),Py=A=>A.dom.contentEditable,FO=A=>zt.fromDom(A.getBody()),Oh=A=>$=>or($,FO(A)),Qd=A=>{nn(A,"data-mce-style");const $=j=>nn(j,"data-mce-style");ee(Af(A),$),ee(Fp(A),$),ee(Gv(A),$)},ef=A=>zt.fromDom(A.selection.getStart()),kg=A=>A.getBoundingClientRect().width,Ag=A=>A.getBoundingClientRect().height,KC=(A,$)=>{const j=A.dom.getStyle($,"width")||A.dom.getAttrib($,"width");return E.from(j).filter(lm)},VO=A=>/^(\d+(\.\d+)?)%$/.test(A),My=A=>/^(\d+(\.\d+)?)px$/.test(A),zO=A=>xi(A,He("table")).exists(Bd),JC=(A,$)=>{const j=$.column,ce=$.column+$.colspan-1,Me=$.row,Ve=$.row+$.rowspan-1;return j<=A.finishCol&&ce>=A.startCol&&Me<=A.finishRow&&Ve>=A.startRow},ZO=(A,$)=>$.column>=A.startCol&&$.column+$.colspan-1<=A.finishCol&&$.row>=A.startRow&&$.row+$.rowspan-1<=A.finishRow,Ey=(A,$)=>{let j=!0;const ce=N(ZO,$);for(let Me=$.startRow;Me<=$.finishRow;Me++)for(let Ve=$.startCol;Ve<=$.finishCol;Ve++)j=j&&hs.getAt(A,Me,Ve).exists(ce);return j?E.some($):E.none()},_y=(A,$)=>Wa(Math.min(A.row,$.row),Math.min(A.column,$.column),Math.max(A.row+A.rowspan-1,$.row+$.rowspan-1),Math.max(A.column+A.colspan-1,$.column+$.colspan-1)),ks=(A,$,j)=>{const ce=hs.findItem(A,$,or),Me=hs.findItem(A,j,or);return ce.bind(Ve=>Me.map(nt=>_y(Ve,nt)))},vo=(A,$,j)=>ks(A,$,j).bind(ce=>Ey(A,ce)),xm=(A,$,j,ce)=>hs.findItem(A,$,or).bind(Me=>{const Ve=j>0?Me.row+Me.rowspan-1:Me.row,nt=ce>0?Me.column+Me.colspan-1:Me.column;return hs.getAt(A,Ve+j,nt+ce).map(_t=>_t.element)}),HO=(A,$,j)=>ks(A,$,j).map(ce=>{const Me=hs.filterItems(A,N(JC,ce));return fe(Me,Ve=>Ve.element)}),Ry=(A,$)=>{const j=(ce,Me)=>jr(Me,ce);return hs.findItem(A,$,j).map(ce=>ce.element)},EM=(A,$,j)=>Oc(A).bind(ce=>{const Me=XS(ce);return xm(Me,A,$,j)}),WS=(A,$,j)=>{const ce=XS(A);return HO(ce,$,j)},Ea=(A,$,j,ce,Me)=>{const Ve=XS(A),nt=or(A,j)?E.some($):Ry(Ve,$),Ot=or(A,Me)?E.some(ce):Ry(Ve,ce);return nt.bind(_t=>Ot.bind(Kt=>HO(Ve,_t,Kt)))},YS=(A,$,j)=>{const ce=XS(A);return vo(ce,$,j)},XS=hs.fromTable;var GS=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qn=()=>{const A=Kt=>zt.fromDom(Kt.dom.cloneNode(!1)),$=Kt=>xr(Kt).dom,j=Kt=>ut(Kt)?wn(Kt)==="body"?!0:me(GS,wn(Kt)):!1,ce=Kt=>ut(Kt)?me(["br","img","hr","input"],wn(Kt)):!1,Me=Kt=>ut(Kt)&&Pt(Kt,"contenteditable")==="false",Ve=(Kt,Cn)=>Kt.dom.compareDocumentPosition(Cn.dom),nt=(Kt,Cn)=>{const ir=Wt(Kt);mt(Cn,ir)},Ot=Kt=>{const Cn=wn(Kt);return me(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Cn)},_t=Kt=>ut(Kt)?dn(Kt,"lang"):E.none();return{up:M({selector:yl,closest:Ka,predicate:Qa,all:wr}),down:M({selector:zi,predicate:Ed}),styles:M({get:Zi,getRaw:Np,set:Ya,remove:xu}),attrs:M({get:Pt,set:dt,remove:nn,copyTo:nt}),insert:M({before:Ft,after:Ht,afterAll:Jt,append:Mt,appendAll:rn,prepend:$t,wrap:un}),remove:M({unwrap:pn,remove:On}),create:M({nu:zt.fromTag,clone:A,text:zt.fromText}),query:M({comparePosition:Ve,prevSibling:Fe,nextSibling:Ee}),property:M({children:St,name:wn,parent:ao,document:$,isText:xt,isComment:Sn,isElement:ut,isSpecial:Ot,getLanguage:_t,getText:bt,setText:Ut,isBoundary:j,isEmptyTag:ce,isNonEditable:Me}),eq:or,is:_r}};const UO=(A,$,j,ce)=>{const Me=j[0],Ve=j.slice(1);return ce(A,$,Me,Ve)},_M=(A,$,j)=>j.length>0?UO(A,$,j,Dy):E.none(),Dy=(A,$,j,ce)=>{const Me=$(A,j);return ge(ce,(Ve,nt)=>{const Ot=$(A,nt);return RM(A,Ve,Ot)},Me)},RM=(A,$,j)=>$.bind(ce=>j.filter(N(A.eq,ce))),i0=(A,$)=>N(A.eq,$),jS=(A,$,j,ce=Q)=>{const Me=[$].concat(A.up().all($)),Ve=[j].concat(A.up().all(j)),nt=Cn=>Oe(Cn,ce).fold(()=>Cn,$r=>Cn.slice(0,$r+1)),Ot=nt(Me),_t=nt(Ve),Kt=G(Ot,Cn=>ae(_t,i0(A,Cn)));return{firstpath:Ot,secondpath:_t,shared:Kt}},Sm=_M,DM=jS,xh=qn(),Ca=(A,$)=>Sm(xh,(j,ce)=>A(ce),$),Sh=(A,$,j)=>DM(xh,A,$,j),qS=A=>yl(A,"table"),rd=(A,$,j)=>{const ce=Me=>Ve=>j!==void 0&&j(Ve)||or(Ve,Me);return or(A,$)?E.some({boxes:E.some([A]),start:A,finish:$}):qS(A).bind(Me=>qS($).bind(Ve=>{if(or(Me,Ve))return E.some({boxes:WS(Me,A,$),start:A,finish:$});if(jr(Me,Ve)){const nt=Ou($,"td,th",ce(Me)),Ot=nt.length>0?nt[nt.length-1]:$;return E.some({boxes:Ea(Me,A,Me,$,Ve),start:A,finish:Ot})}else if(jr(Ve,Me)){const nt=Ou(A,"td,th",ce(Ve)),Ot=nt.length>0?nt[nt.length-1]:A;return E.some({boxes:Ea(Ve,A,Me,$,Ve),start:A,finish:Ot})}else return Sh(A,$).shared.bind(nt=>Ka(nt,"table",j).bind(Ot=>{const _t=Ou($,"td,th",ce(Ot)),Kt=_t.length>0?_t[_t.length-1]:$,Cn=Ou(A,"td,th",ce(Ot)),ir=Cn.length>0?Cn[Cn.length-1]:A;return E.some({boxes:Ea(Ot,A,Me,$,Ve),start:ir,finish:Kt})}))}))},wm=(A,$)=>{const j=zi(A,$);return j.length>0?E.some(j):E.none()},KS=(A,$)=>G(A,j=>vr(j,$)),Kp=(A,$,j)=>li(A,$).bind(ce=>li(A,j).bind(Me=>Ca(qS,[ce,Me]).map(Ve=>({first:ce,last:Me,table:Ve})))),ek=(A,$)=>yl(A,"table").bind(j=>li(j,$).bind(ce=>rd(ce,A).bind(Me=>Me.boxes.map(Ve=>({boxes:Ve,start:Me.start,finish:Me.finish}))))),WO=(A,$,j,ce,Me)=>KS(A,Me).bind(Ve=>EM(Ve,$,j).bind(nt=>ek(nt,ce))),JS=(A,$)=>wm(A,$),$M=(A,$,j)=>Kp(A,$,j).bind(ce=>{const Me=_t=>or(A,_t),Ve="thead,tfoot,tbody,table",nt=yl(ce.first,Ve,Me),Ot=yl(ce.last,Ve,Me);return nt.bind(_t=>Ot.bind(Kt=>or(_t,Kt)?YS(ce.table,ce.first,ce.last):E.none()))}),ew=I,wh=A=>{const $=(ce,Me)=>dn(ce,Me).exists(Ve=>parseInt(Ve,10)>1),j=ce=>$(ce,"rowspan")||$(ce,"colspan");return A.length>0&&ke(A,j)?E.some(A):E.none()},q$=(A,$,j)=>$.length<=1?E.none():$M(A,j.firstSelectedSelector,j.lastSelectedSelector).map(ce=>({bounds:ce,cells:$})),tw="data-mce-selected",Pg="td["+tw+"],th["+tw+"]",Yl="["+tw+"]",Kr="data-mce-first-selected",LM="td["+Kr+"],th["+Kr+"]",nw="data-mce-last-selected",IM="td["+nw+"],th["+nw+"]",tk=Yl,Jp={selected:tw,selectedSelector:Pg,firstSelected:Kr,firstSelectedSelector:LM,lastSelected:nw,lastSelectedSelector:IM},l0=(A,$,j)=>({element:j,mergable:q$($,A,Jp),unmergable:wh(A),selection:ew(A)}),$y=(A,$,j)=>({element:A,clipboard:$,generators:j}),c0=(A,$,j,ce)=>({selection:ew(A),clipboard:j,generators:ce}),YO=A=>Oc(A).bind($=>JS($,Jp.firstSelectedSelector)).fold(M(A),$=>$[0]),Tm=A=>($,j)=>{const ce=wn($),Me=ce==="col"||ce==="colgroup"?YO($):$;return Ka(Me,A,j)},Fd=Tm("th,td,caption"),Ly=Tm("th,td"),$f=A=>Lr(A.model.table.getSelectedCells()),XO=A=>Be($f(A),$=>vr($,Jp.selectedSelector)),nk=A=>Oc(A[0]).map($=>{const j=Ke($,tk);return Qd(j),[j]}),u0=(A,$)=>fe($,j=>A.selection.serializer.serialize(j.dom,{})).join(""),Cm=A=>fe(A,$=>$.dom.innerText).join(""),NM=(A,$)=>{A.on("BeforeGetContent",j=>{const ce=Me=>{j.preventDefault(),nk(Me).each(Ve=>{j.content=j.format==="text"?Cm(Ve):u0(A,Ve)})};if(j.selection===!0){const Me=XO(A);Me.length>=1&&ce(Me)}}),A.on("BeforeSetContent",j=>{if(j.selection===!0&&j.paste===!0){const ce=$f(A);re(ce).each(Me=>{Oc(Me).each(Ve=>{const nt=Be(ba(j.content),_t=>wn(_t)!=="meta"),Ot=He("table");if(ta(A)&&nt.length===1&&Ot(nt[0])){j.preventDefault();const _t=zt.fromDom(A.getDoc()),Kt=ti(_t),Cn=$y(Me,nt[0],Kt);$.pasteCells(Ve,Cn).each(()=>{A.focus()})}})})}})},f0=(A,$)=>({element:A,offset:$}),ev=(A,$,j)=>A.property().isText($)&&A.property().getText($).trim().length===0||A.property().isComment($)?j($).bind(ce=>ev(A,ce,j).orThunk(()=>E.some(ce))):E.none(),od=(A,$)=>A.property().isText($)?A.property().getText($).length:A.property().children($).length,Cu=(A,$)=>{const j=ev(A,$,A.query().prevSibling).getOr($);if(A.property().isText(j))return f0(j,od(A,j));const ce=A.property().children(j);return ce.length>0?Cu(A,ce[ce.length-1]):f0(j,od(A,j))},BM=Cu,rk=qn(),ok=A=>BM(rk,A),rw=(A,$)=>{Al(A)||er(A).each(ce=>{const Me=ce.value/2;Zc(A,Me,ce.unit),Zc($,Me,ce.unit)})},ku=A=>fe(A,M(0)),d0=(A,$,j,ce,Me)=>Me(A.slice(0,$)).concat(ce).concat(Me(A.slice(j))),GO=A=>($,j,ce,Me)=>{if(A(ce)){const Ve=Math.max(Me,$[j]-Math.abs(ce)),nt=Math.abs(Ve-$[j]);return ce>=0?nt:-nt}else return ce},jO=GO(A=>A<0),QM=GO(B),sk=()=>{const A=(Ot,_t,Kt,Cn,ir)=>{const $r=jO(Ot,_t,Cn,ir);return d0(Ot,_t,Kt+1,[$r,0],ku)},$=(Ot,_t,Kt,Cn)=>{const ir=(100+Kt)/100,$r=Math.max(Cn,(Ot[_t]+Kt)/ir);return fe(Ot,(Rr,Kn)=>(Kn===_t?$r:Rr/ir)-Rr)},j=(Ot,_t,Kt,Cn,ir,$r)=>$r?$(Ot,_t,Cn,ir):A(Ot,_t,Kt,Cn,ir);return{resizeTable:(Ot,_t)=>Ot(_t),clampTableDelta:jO,calcLeftEdgeDeltas:j,calcMiddleDeltas:(Ot,_t,Kt,Cn,ir,$r,Rr)=>j(Ot,Kt,Cn,ir,$r,Rr),calcRightEdgeDeltas:(Ot,_t,Kt,Cn,ir,$r)=>{if($r)return $(Ot,Kt,Cn,ir);{const Rr=jO(Ot,Kt,Cn,ir);return ku(Ot.slice(0,Kt)).concat([Rr])}},calcRedestributedWidths:(Ot,_t,Kt,Cn)=>{if(Cn){const $r=(_t+Kt)/_t,Rr=fe(Ot,Kn=>Kn/$r);return{delta:$r*100-100,newSizes:Rr}}else return{delta:Kt,newSizes:Ot}}}},ow=()=>{const A=(nt,Ot,_t,Kt,Cn)=>{const ir=Kt>=0?_t:Ot,$r=QM(nt,ir,Kt,Cn);return d0(nt,Ot,_t+1,[$r,-$r],ku)};return{resizeTable:(nt,Ot,_t)=>{_t&&nt(Ot)},clampTableDelta:(nt,Ot,_t,Kt,Cn)=>{if(Cn){if(_t>=0)return _t;{const ir=ne(nt,($r,Rr)=>$r+Rr-Kt,0);return Math.max(-ir,_t)}}else return jO(nt,Ot,_t,Kt)},calcLeftEdgeDeltas:A,calcMiddleDeltas:(nt,Ot,_t,Kt,Cn,ir)=>A(nt,_t,Kt,Cn,ir),calcRightEdgeDeltas:(nt,Ot,_t,Kt,Cn,ir)=>{if(ir)return ku(nt);{const $r=Kt/nt.length;return fe(nt,M($r))}},calcRedestributedWidths:(nt,Ot,_t,Kt)=>({delta:0,newSizes:nt})}},h0=A=>hs.fromTable(A).grid,m0=He("th"),qO=A=>ke(A,$=>m0($.element)),FM=(A,$)=>A&&$?"sectionCells":A?"section":"cells",KO=A=>{const $=A.section==="thead",j=Gf(g0(A.cells),"th");return A.section==="tfoot"?{type:"footer"}:$||j?{type:"header",subType:FM($,j)}:{type:"body"}},g0=A=>{const $=Be(A,j=>m0(j.element));return $.length===0?E.some("td"):$.length===A.length?E.some("th"):E.none()},VM=A=>{const $=fe(A,Me=>KO(Me).type),j=me($,"header"),ce=me($,"footer");if(!j&&!ce)return E.some("body");{const Me=me($,"body");return j&&!Me&&!ce?E.some("header"):!j&&!Me&&ce?E.some("footer"):E.none()}},Iy=A=>te(A.all,$=>{const j=KO($);return j.type==="header"?E.from(j.subType):E.none()}),sw=(A,$,j)=>es(j(A.element,$),!0,A.isLocked),Au=(A,$)=>A.section!==$?Xs(A.element,A.cells,$,A.isNew):A,JO=()=>({transformRow:Au,transformCell:(A,$,j)=>{const ce=j(A.element,$),Me=wn(ce)!=="td"?ar(ce,"td"):ce;return es(Me,A.isNew,A.isLocked)}}),ak=()=>({transformRow:Au,transformCell:sw}),ex=()=>({transformRow:(A,$)=>Au(A,$==="thead"?"tbody":$),transformCell:sw}),Mg={getTableSectionType:(A,$)=>{const j=hs.fromTable(A);switch(Iy(j).getOr($)){case"section":return JO();case"sectionCells":return ak();case"cells":return ex()}},section:JO,sectionCells:ak,cells:ex,fallback:()=>({transformRow:I,transformCell:sw})},Th=(A,$,j,ce)=>{j===ce?nn(A,$):dt(A,$,j)},aw=(A,$,j)=>{ye(Po(A,$)).fold(()=>$t(A,j),ce=>Ht(ce,j))},p0=(A,$)=>{const j=Zo(A,$).getOrThunk(()=>{const ce=zt.fromTag($,Rn(A).dom);return $==="thead"?aw(A,"caption,colgroup",ce):$==="colgroup"?aw(A,"caption",ce):Mt(A,ce),ce});return Tn(j),j},nx=(A,$)=>{const j=[],ce=[],Me=Rr=>fe(Rr,Kn=>{Kn.isNew&&j.push(Kn.element);const Ir=Kn.element;return Tn(Ir),ee(Kn.cells,jn=>{jn.isNew&&ce.push(jn.element),Th(jn.element,"colspan",jn.colspan,1),Th(jn.element,"rowspan",jn.rowspan,1),Mt(Ir,jn.element)}),Ir}),Ve=Rr=>Le(Rr,Kn=>fe(Kn.cells,Ir=>(Th(Ir.element,"span",Ir.colspan,1),Ir.element))),nt=(Rr,Kn)=>{const Ir=p0(A,Kn),io=(Kn==="colgroup"?Ve:Me)(Rr);rn(Ir,io)},Ot=Rr=>{Zo(A,Rr).each(On)},_t=(Rr,Kn)=>{Rr.length>0?nt(Rr,Kn):Ot(Kn)},Kt=[],Cn=[],ir=[],$r=[];return ee($,Rr=>{switch(Rr.section){case"thead":Kt.push(Rr);break;case"tbody":Cn.push(Rr);break;case"tfoot":ir.push(Rr);break;case"colgroup":$r.push(Rr);break}}),_t($r,"colgroup"),_t(Kt,"thead"),_t(Cn,"tbody"),_t(ir,"tfoot"),{newRows:j,newCells:ce}},ik=A=>fe(A,$=>{const j=Fn($.element);return ee($.cells,ce=>{const Me=zr(ce.element);Th(Me,"colspan",ce.colspan,1),Th(Me,"rowspan",ce.rowspan,1),Mt(j,Me)}),j}),Da=(A,$)=>fe(A,j=>nc(j,$)),zM=(A,$)=>A[$],ki=(A,$)=>{if(A.length===0)return 0;const j=A[0];return Oe(A,Me=>!$(j.element,Me.element)).getOr(A.length)},lk=(A,$,j,ce)=>{const Me=zM(A,$),Ve=Me.section==="colgroup",nt=ki(Me.cells.slice(j),ce),Ot=Ve?1:ki(Da(A.slice($),j),ce);return{colspan:nt,rowspan:Ot}},Xa=(A,$)=>{const j=fe(A,Me=>fe(Me.cells,Q)),ce=(Me,Ve,nt,Ot)=>{for(let _t=Me;_t<Me+nt;_t++)for(let Kt=Ve;Kt<Ve+Ot;Kt++)j[_t][Kt]=!0};return fe(A,(Me,Ve)=>{const nt=Le(Me.cells,(Ot,_t)=>{if(j[Ve][_t]===!1){const Kt=lk(A,Ve,_t,$);return ce(Ve,_t,Kt.rowspan,Kt.colspan),[So(Ot.element,Kt.rowspan,Kt.colspan,Ot.isNew)]}else return[]});return qs(Me.element,nt,Me.section,Me.isNew)})},v0=(A,$,j)=>{const ce=[];ee(A.colgroups,Me=>{const Ve=[];for(let nt=0;nt<A.grid.columns;nt++){const Ot=hs.getColumnAt(A,nt).map(_t=>es(_t.element,j,!1)).getOrThunk(()=>es($.colGap(),!0,!1));Ve.push(Ot)}ce.push(Xs(Me.element,Ve,"colgroup",j))});for(let Me=0;Me<A.grid.rows;Me++){const Ve=[];for(let _t=0;_t<A.grid.columns;_t++){const Kt=hs.getAt(A,Me,_t).map(Cn=>es(Cn.element,j,Cn.isLocked)).getOrThunk(()=>es($.gap(),!0,!1));Ve.push(Kt)}const nt=A.all[Me],Ot=Xs(nt.element,Ve,nt.section,j);ce.push(Ot)}return ce},Ji=(A,$)=>v0(A,$,!1),ni=A=>Xa(A,or),tf=(A,$)=>te(A.all,j=>G(j.cells,ce=>or($,ce.element))),iw=(A,$,j)=>{const ce=fe($.selection,Ve=>Xv(Ve).bind(nt=>tf(A,nt)).filter(j)),Me=Za(ce);return zu(Me.length>0,Me)},Xl=(A,$,j,ce,Me)=>(Ve,nt,Ot,_t)=>{const Kt=hs.fromTable(Ve),Cn=E.from(_t==null?void 0:_t.section).getOrThunk(Mg.fallback);return $(Kt,nt).map($r=>{const Rr=Ji(Kt,Ot),Kn=A(Rr,$r,or,Me(Ot),Cn),Ir=Ui(Kn.grid),jn=ni(Kn.grid);return{info:$r,grid:jn,cursor:Kn.cursor,lockedColumns:Ir}}).bind($r=>{const Rr=nx(Ve,$r.grid),Kn=E.from(_t==null?void 0:_t.sizing).getOrThunk(()=>Cc.getTableSize(Ve)),Ir=E.from(_t==null?void 0:_t.resize).getOrThunk(ow);return j(Ve,$r.grid,$r.info,{sizing:Kn,resize:Ir,section:Cn}),ce(Ve),nn(Ve,Jv),$r.lockedColumns.length>0&&dt(Ve,Jv,$r.lockedColumns.join(",")),E.some({cursor:$r.cursor,newRows:Rr.newRows,newCells:Rr.newCells})})},Ny=(A,$)=>Xv($.element).bind(j=>tf(A,j).map(ce=>({...ce,generators:$.generators,clipboard:$.clipboard}))),y0=(A,$)=>iw(A,$,B).map(j=>({cells:j,generators:$.generators,clipboard:$.clipboard})),Ch=(A,$)=>$.mergable,b0=(A,$)=>$.unmergable,Eg=(A,$)=>iw(A,$,B),km=(A,$)=>iw(A,$,j=>!j.isLocked),ZM=(A,$)=>tf(A,$).exists(j=>!j.isLocked),ck=(A,$)=>ke($,j=>ZM(A,j)),J$=(A,$)=>Ch(A,$).filter(j=>ck(A,j.cells)),e9=(A,$)=>b0(A,$).filter(j=>ck(A,j)),sd=(A,$,j,ce)=>{const Me=Hi(A).rows;if(Me.length===0)return A;for(let Ve=$.startRow;Ve<=$.finishRow;Ve++)for(let nt=$.startCol;nt<=$.finishCol;nt++){const Ot=Me[Ve],_t=nc(Ot,nt).isLocked;hm(Ot,nt,es(ce(),!1,_t))}return A},Pc=(A,$,j,ce)=>{const Me=Hi(A).rows;let Ve=!0;for(let nt=0;nt<Me.length;nt++)for(let Ot=0;Ot<ou(Me[0]);Ot++){const _t=Me[nt],Kt=nc(_t,Ot),Cn=Kt.element,ir=j(Cn,$);ir&&!Ve?hm(_t,Ot,es(ce(),!0,Kt.isLocked)):ir&&(Ve=!1)}return A},HM=(A,$)=>ne(A,(j,ce)=>ae(j,Me=>$(Me.element,ce.element))?j:j.concat([ce]),[]),UM=(A,$,j,ce)=>($>0&&$<A[0].cells.length&&ee(A,Me=>{const Ve=Me.cells[$-1];let nt=0;const Ot=ce();for(;Me.cells.length>$+nt&&j(Ve.element,Me.cells[$+nt].element);)hm(Me,$+nt,es(Ot,!0,Me.cells[$+nt].isLocked)),nt++}),A),_g=(A,$,j,ce)=>{const Me=Hi(A).rows;if($>0&&$<Me.length){const Ve=Me[$-1].cells,nt=HM(Ve,j);ee(nt,Ot=>{let _t=E.none();for(let Kt=$;Kt<Me.length;Kt++)for(let Cn=0;Cn<ou(Me[0]);Cn++){const ir=Me[Kt],$r=nc(ir,Cn);j($r.element,Ot.element)&&(_t.isNone()&&(_t=E.some(ce())),_t.each(Kn=>{hm(ir,Cn,es(Kn,!0,$r.isLocked))}))}})}return A},By=A=>{const $=Ve=>Ve(A),j=M(A),ce=()=>Me,Me={tag:!0,inner:A,fold:(Ve,nt)=>nt(A),isValue:B,isError:Q,map:Ve=>kh.value(Ve(A)),mapError:ce,bind:$,exists:$,forall:$,getOr:j,or:ce,getOrThunk:j,orThunk:ce,getOrDie:j,each:Ve=>{Ve(A)},toOptional:()=>E.some(A)};return Me},rx=A=>{const $=()=>j,j={tag:!1,inner:A,fold:(ce,Me)=>ce(A),isValue:Q,isError:B,map:$,mapError:ce=>kh.error(ce(A)),bind:$,exists:Q,forall:B,getOr:I,or:I,getOrThunk:U,orThunk:U,getOrDie:z(String(A)),each:w,toOptional:E.none};return j},kh={value:By,error:rx,fromOption:(A,$)=>A.fold(()=>rx($),By)},O0=(A,$,j)=>{if(A.row>=$.length||A.column>ou($[0]))return kh.error("invalid start address out of table bounds, row: "+A.row+", column: "+A.column);const ce=$.slice(A.row),Me=ce[0].cells.slice(A.column),Ve=ou(j[0]),nt=j.length;return kh.value({rowDelta:ce.length-nt,colDelta:Me.length-Ve})},x0=(A,$)=>{const j=ou(A[0]),ce=ou($[0]);return{rowDelta:0,colDelta:j-ce}},S0=(A,$)=>{const j=A.length,ce=$.length;return{rowDelta:j-ce,colDelta:0}},tv=(A,$,j,ce)=>{const Me=$.section==="colgroup"?j.col:j.cell;return q(A,Ve=>es(Me(),!0,ce(Ve)))},uk=(A,$,j,ce)=>{const Me=A[A.length-1];return A.concat(q($,()=>{const Ve=Me.section==="colgroup"?j.colgroup:j.row,nt=Oy(Me,Ve,I),Ot=tv(nt.cells.length,nt,j,_t=>Ye(ce,_t.toString()));return yy(nt,Ot)}))},yi=(A,$,j,ce)=>fe(A,Me=>{const Ve=tv($,Me,j,Q);return zc(Me,ce,Ve)}),fk=(A,$,j)=>fe(A,ce=>ne(j,(Me,Ve)=>{const nt=tv(1,ce,$,B)[0];return yh(Me,Ve,nt)},ce)),w0=(A,$,j)=>{const ce=$.colDelta<0?yi:I,Me=$.rowDelta<0?uk:I,Ve=Ui(A),nt=ou(A[0]),Ot=ae(Ve,Cn=>Cn===nt-1),_t=ce(A,Math.abs($.colDelta),j,Ot?nt-1:nt),Kt=Ui(_t);return Me(_t,Math.abs($.rowDelta),j,Ze(Kt,B))},dk=(A,$,j,ce)=>{const Me=nc(A[$],j),Ve=N(ce,Me.element),nt=A[$];return A.length>1&&ou(nt)>1&&(j>0&&Ve(wi(nt,j-1))||j<nt.cells.length-1&&Ve(wi(nt,j+1))||$>0&&Ve(wi(A[$-1],j))||$<A.length-1&&Ve(wi(A[$+1],j)))},sx=(A,$,j,ce,Me,Ve)=>{const nt=A.row,Ot=A.column,_t=j.length,Kt=ou(j[0]),Cn=nt+_t,ir=Ot+Kt+Ve.length,$r=Ze(Ve,B);for(let Rr=nt;Rr<Cn;Rr++){let Kn=0;for(let Ir=Ot;Ir<ir;Ir++){if($r[Ir]){Kn++;continue}dk($,Rr,Ir,Me)&&Pc($,wi($[Rr],Ir),Me,ce.cell);const jn=Ir-Ot-Kn,io=nc(j[Rr-nt],jn),$o=io.element,os=ce.replace($o);hm($[Rr],Ir,es(os,!0,io.isLocked))}}return $},oc=(A,$,j)=>{const ce=ou($[0]),Me=Hi($).cols.length+A.row,Ve=q(ce-A.column,Ot=>Ot+A.column),nt=G(Ve,Ot=>ke(j,_t=>_t!==Ot)).getOr(ce-1);return{row:Me,column:nt}},nf=(A,$,j)=>Be(j,ce=>ce>=A.column&&ce<=ou($[0])+A.column),hk=(A,$,j,ce,Me)=>{const Ve=Ui($),nt=oc(A,$,Ve),Ot=Hi(j).rows,_t=nf(nt,Ot,Ve);return O0(nt,$,Ot).map(Cn=>{const ir={...Cn,colDelta:Cn.colDelta-_t.length},$r=w0($,ir,ce),Rr=Ui($r),Kn=nf(nt,Ot,Rr);return sx(nt,$r,Ot,ce,Me,Kn)})},ax=(A,$,j,ce,Me)=>{UM($,A,Me,ce.cell);const Ve=S0(j,$),nt=w0(j,Ve,ce),Ot=S0($,nt),_t=w0($,Ot,ce);return fe(_t,(Kt,Cn)=>zc(Kt,A,nt[Cn].cells))},nv=(A,$,j,ce,Me)=>{_g($,A,Me,ce.cell);const Ve=Ui($),nt=x0($,j),Ot={...nt,colDelta:nt.colDelta-Ve.length},_t=w0($,Ot,ce),{cols:Kt,rows:Cn}=Hi(_t),ir=Ui(_t),$r=x0(j,$),Rr={...$r,colDelta:$r.colDelta+ir.length},Kn=fk(j,ce,ir),Ir=w0(Kn,Rr,ce);return[...Kt,...Cn.slice(0,A),...Ir,...Cn.slice(A,Cn.length)]},WM=(A,$,j,ce)=>Oy(A,Me=>ce(Me,j),$),mk=(A,$,j,ce,Me)=>{const{rows:Ve,cols:nt}=Hi(A),Ot=Ve.slice(0,$),_t=Ve.slice($),Kt=WM(Ve[j],(Cn,ir)=>$>0&&$<Ve.length&&ce(wi(Ve[$-1],ir),wi(Ve[$],ir))?nc(Ve[$],ir):es(Me(Cn.element,ce),!0,Cn.isLocked),ce,Me);return[...nt,...Ot,Kt,..._t]},lw=(A,$,j,ce,Me,Ve,nt)=>{if(j==="colgroup"||!ce){const Ot=nc(A,Me);return es(nt(Ot.element,Ve),!0,!1)}else return nc(A,$)},Pu=(A,$,j,ce,Me)=>fe(A,Ve=>{const nt=$>0&&$<ou(Ve)&&ce(wi(Ve,$-1),wi(Ve,$)),Ot=lw(Ve,$,Ve.section,nt,j,ce,Me);return yh(Ve,$,Ot)}),ix=(A,$)=>Le(A,j=>{const ce=j.cells,Me=ge($,(Ve,nt)=>nt>=0&&nt<Ve.length?Ve.slice(0,nt).concat(Ve.slice(nt+1)):Ve,ce);return Me.length>0?[Xs(j.element,Me,j.section,j.isNew)]:[]}),Ai=(A,$,j)=>{const{rows:ce,cols:Me}=Hi(A);return[...Me,...ce.slice(0,$),...ce.slice(j+1)]},Vd=(A,$,j,ce)=>wi(A[$],j)!==void 0&&$>0&&ce(wi(A[$-1],j),wi(A[$],j)),T0=(A,$,j)=>$>0&&j(wi(A,$-1),wi(A,$)),Rg=(A,$,j,ce)=>Vd(A,$,j,ce)||T0(A[$],j,ce),rv=(A,$)=>ke($,I)&&qO(A.cells)?B:(ce,Me,Ve)=>!(wn(ce.element)==="th"&&$[Ve]),ov=(A,$)=>ke($,I)&&qO(A)?B:(ce,Me,Ve)=>!(wn(ce.element)==="th"&&$[Me]),Am=(A,$,j,ce)=>{const Me=nt=>nt==="row"?bc($):Al($),Ve=nt=>Me(nt)?`${nt}group`:nt;return A?m0($)?Ve(j):null:ce&&m0($)?Ve(j==="row"?"col":"row"):null},gk=(A,$)=>(j,ce,Me)=>E.some(Am(A,j.element,"col",$[Me])),sv=(A,$)=>(j,ce)=>E.some(Am(A,j.element,"row",$[ce])),Dg=(A,$,j)=>es(j(A.element,$),!0,A.isLocked),av=(A,$,j,ce,Me,Ve,nt)=>{const Ot=_t=>ae($,Kt=>j(_t.element,Kt.element));return fe(A,(_t,Kt)=>by(_t,(Cn,ir)=>{if(Ot(Cn)){const $r=nt(Cn,Kt,ir)?Me(Cn,j,ce):Cn;return Ve($r,Kt,ir).each(Rr=>{Tt($r.element,{scope:E.from(Rr)})}),$r}else return Cn}))},pk=(A,$,j)=>Le(A,(ce,Me)=>Rg(A,Me,$,j)?[]:[nc(ce,$)]),YM=(A,$,j)=>{const ce=A[$];return Le(ce.cells,(Me,Ve)=>Rg(A,$,Ve,j)?[]:[Me])},cw=(A,$,j,ce,Me)=>{const Ve=Hi(A).rows,nt=Le($,Cn=>pk(Ve,Cn,ce)),Ot=fe(Ve,Cn=>qO(Cn.cells)),_t=ov(nt,Ot),Kt=sv(j,Ot);return av(A,nt,ce,Me,Dg,Kt,_t)},XM=(A,$,j,ce,Me,Ve,nt)=>{const{cols:Ot,rows:_t}=Hi(A),Kt=_t[$[0]],Cn=Le($,jn=>YM(_t,jn,Me)),ir=fe(Kt.cells,(jn,io)=>qO(pk(_t,io,Me))),$r=[..._t];ee($,jn=>{$r[jn]=nt.transformRow(_t[jn],j)});const Rr=[...Ot,...$r],Kn=rv(Kt,ir),Ir=gk(ce,ir);return av(Rr,Cn,Me,Ve,nt.transformCell,Ir,Kn)},lx=(A,$,j,ce)=>{const Me=Hi(A).rows,Ve=fe($,nt=>nc(Me[nt.row],nt.column));return av(A,Ve,j,ce,Dg,E.none,B)},Mu={generate:A=>{if(!u(A))throw new Error("cases must be an array");if(A.length===0)throw new Error("there must be at least one case");const $=[],j={};return ee(A,(ce,Me)=>{const Ve=se(ce);if(Ve.length!==1)throw new Error("one and only one name per case");const nt=Ve[0],Ot=ce[nt];if(j[nt]!==void 0)throw new Error("duplicate key detected:"+nt);if(nt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!u(Ot))throw new Error("case arguments must be an array");$.push(nt),j[nt]=(..._t)=>{const Kt=_t.length;if(Kt!==Ot.length)throw new Error("Wrong number of arguments to case "+nt+". Expected "+Ot.length+" ("+Ot+"), got "+Kt);return{fold:(...ir)=>{if(ir.length!==A.length)throw new Error("Wrong number of arguments to fold. Expected "+A.length+", got "+ir.length);return ir[Me].apply(null,_t)},match:ir=>{const $r=se(ir);if($.length!==$r.length)throw new Error("Wrong number of arguments to match. Expected: "+$.join(",")+`
Actual: `+$r.join(","));if(!ke($,Kn=>me($r,Kn)))throw new Error("Not all branches were specified when using match. Specified: "+$r.join(", ")+`
Required: `+$.join(", "));return ir[nt].apply(null,_t)},log:ir=>{console.log(ir,{constructors:$,constructor:nt,params:_t})}}}}),j}},C0={...Mu.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},yk=(A,$)=>A.length===0?C0.none():A.length===1?C0.only(0):$===0?C0.left(0,1):$===A.length-1?C0.right($-1,$):$>0&&$<A.length-1?C0.middle($-1,$,$+1):C0.none(),GM=(A,$,j,ce,Me)=>{const Ve=A.slice(0),nt=yk(A,$),Ot=M(fe(Ve,M(0))),_t=$r=>ce.singleColumnWidth(Ve[$r],j),Kt=($r,Rr)=>Me.calcLeftEdgeDeltas(Ve,$r,Rr,j,ce.minCellWidth(),ce.isRelative),Cn=($r,Rr,Kn)=>Me.calcMiddleDeltas(Ve,$r,Rr,Kn,j,ce.minCellWidth(),ce.isRelative),ir=($r,Rr)=>Me.calcRightEdgeDeltas(Ve,$r,Rr,j,ce.minCellWidth(),ce.isRelative);return nt.fold(Ot,_t,Kt,Cn,ir)},Qy=(A,$,j)=>{let ce=0;for(let Me=A;Me<$;Me++)ce+=j[Me]!==void 0?j[Me]:0;return ce},$g=(A,$)=>{const j=hs.justCells(A);return fe(j,ce=>{const Me=Qy(ce.column,ce.column+ce.colspan,$);return{element:ce.element,width:Me,colspan:ce.colspan}})},cx=(A,$)=>{const j=hs.justColumns(A);return fe(j,(ce,Me)=>({element:ce.element,width:$[Me],colspan:ce.colspan}))},Rs=(A,$)=>{const j=hs.justCells(A);return fe(j,ce=>{const Me=Qy(ce.row,ce.row+ce.rowspan,$);return{element:ce.element,height:Me,rowspan:ce.rowspan}})},Eu=(A,$)=>fe(A.all,(j,ce)=>({element:j.element,height:$[ce]})),zd=A=>ge(A,($,j)=>$+j,0),fw=(A,$)=>hs.hasColumns(A)?cx(A,$):$g(A,$),ha=(A,$,j)=>{const ce=fw(A,$);ee(ce,Me=>{j.setElementWidth(Me.element,Me.width)})},Fy=(A,$,j,ce,Me)=>{const Ve=hs.fromTable(A),nt=Me.getCellDelta($),Ot=Me.getWidths(Ve,Me),_t=j===Ve.grid.columns-1,Kt=ce.clampTableDelta(Ot,j,nt,Me.minCellWidth(),_t),Cn=GM(Ot,j,Kt,Me,ce),ir=fe(Cn,($r,Rr)=>$r+Ot[Rr]);ha(Ve,ir,Me),ce.resizeTable(Me.adjustTableWidth,Kt,_t)},dw=(A,$,j,ce)=>{const Me=hs.fromTable(A),Ve=Mn(Me,A,ce),nt=fe(Ve,(Cn,ir)=>j===ir?Math.max($+Cn,kf()):Cn),Ot=Rs(Me,nt),_t=Eu(Me,nt);ee(_t,Cn=>{Ml(Cn.element,Cn.height)}),ee(Ot,Cn=>{Ml(Cn.element,Cn.height)});const Kt=zd(nt);Ml(A,Kt)},cl=(A,$,j,ce,Me)=>{const Ve=hs.generate($),nt=ce.getWidths(Ve,ce),Ot=ce.pixelWidth(),{newSizes:_t,delta:Kt}=Me.calcRedestributedWidths(nt,Ot,j.pixelDelta,ce.isRelative);ha(Ve,_t,ce),ce.adjustTableWidth(Kt)},Ah=(A,$,j,ce)=>{const Me=hs.generate($),Ve=ce.getWidths(Me,ce);ha(Me,Ve,ce)},Lg=A=>ne(A,(j,ce)=>ae(j,Ve=>Ve.column===ce.column)?j:j.concat([ce]),[]).sort((j,ce)=>j.column-ce.column),hw=He("col"),ux=He("colgroup"),Vy=A=>wn(A)==="tr"||ux(A),mw=A=>{const $=Ra(A,"colspan",1),j=Ra(A,"rowspan",1);return{element:A,colspan:$,rowspan:j}},fx=(A,$=mw)=>{const j=Ot=>hw(Ot.element)?A.col(Ot):A.cell(Ot),ce=Ot=>ux(Ot.element)?A.colgroup(Ot):A.row(Ot),Me=Ot=>{if(Vy(Ot))return ce({element:Ot});{const _t=Ot,Kt=j($(_t));return Ve=E.some({item:_t,replacement:Kt}),Kt}};let Ve=E.none();return{getOrInit:(Ot,_t)=>Ve.fold(()=>Me(Ot),Kt=>_t(Ot,Kt.item)?Kt.replacement:Me(Ot))}},Ph=A=>$=>{const j=[],ce=(nt,Ot)=>G(j,_t=>Ot(_t.item,nt)),Me=nt=>{const Ot=A==="td"?{scope:null}:{},_t=$.replace(nt,A,Ot);return j.push({item:nt,sub:_t}),_t};return{replaceOrInit:(nt,Ot)=>{if(Vy(nt)||hw(nt))return nt;{const _t=nt;return ce(_t,Ot).fold(()=>Me(_t),Kt=>Ot(nt,Kt.item)?Kt.sub:Me(_t))}}}},Pm=A=>dn(A,"scope").map($=>$.substr(0,3)),Nn={modification:fx,transform:Ph,merging:A=>({unmerge:ce=>{const Me=Pm(ce);return Me.each(Ve=>dt(ce,"scope",Ve)),()=>{const Ve=A.cell({element:ce,colspan:1,rowspan:1});return xu(Ve,"width"),xu(ce,"width"),Me.each(nt=>dt(Ve,"scope",nt)),Ve}},merge:ce=>{const Me=()=>{const Ve=Za(fe(ce,Pm));if(Ve.length===0)return E.none();{const nt=Ve[0],Ot=["row","col"];return ae(Ve,Kt=>Kt!==nt&&me(Ot,Kt))?E.none():E.from(nt)}};return xu(ce[0],"width"),Me().fold(()=>nn(ce[0],"scope"),Ve=>dt(ce[0],"scope",Ve+"group")),M(ce[0])}})},zy=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],k0=(A,$)=>{const j=A.property().name($);return me(["ol","ul"],j)},rf=(A,$)=>{const j=A.property().name($);return me(zy,j)},gw=(A,$)=>me(["br","img","hr","input"],A.property().name($)),Ha=qn(),dx=A=>rf(Ha,A),Mm=A=>k0(Ha,A),pw=A=>gw(Ha,A),hx=A=>{const $=He("br"),j=_t=>ke(_t,Kt=>$(Kt)||xt(Kt)&&bt(Kt).trim().length===0),ce=_t=>wn(_t)==="li"||Qa(_t,Mm).isSome(),Me=_t=>Ee(_t).map(Kt=>dx(Kt)?!0:pw(Kt)?wn(Kt)!=="img":!1).getOr(!1),Ve=_t=>Pn(_t).bind(Kt=>{const Cn=Me(Kt);return ao(Kt).map(ir=>Cn===!0||ce(ir)||$(Kt)||dx(ir)&&!or(_t,ir)?[]:[zt.fromTag("br")])}).getOr([]),Ot=(()=>{const _t=Le(A,Kt=>{const Cn=St(Kt);return j(Cn)?[]:Cn.concat(Ve(Kt))});return _t.length===0?[zt.fromTag("br")]:_t})();Tn(A[0]),rn(A[0],Ot)},vw=A=>Bd(A,!0),Zy=A=>{Af(A).length===0&&On(A)},A0=(A,$)=>({grid:A,cursor:$}),yw=A=>te(A,$=>te($.cells,j=>{const ce=j.element;return zu(vw(ce),ce)})),qM=(A,$,j)=>{var ce,Me;const Ve=Hi(A).rows;return E.from((Me=(ce=Ve[$])===null||ce===void 0?void 0:ce.cells[j])===null||Me===void 0?void 0:Me.element).filter(vw).orThunk(()=>yw(Ve))},Wc=(A,$,j)=>{const ce=qM(A,$,j);return A0(A,ce)},ul=A=>ne(A,(j,ce)=>ae(j,Ve=>Ve.row===ce.row)?j:j.concat([ce]),[]).sort((j,ce)=>j.row-ce.row),Gl=(A,$,j,ce)=>{const Me=$[0].row,Ve=ul($),nt=ge(Ve,(Ot,_t)=>({grid:mk(Ot.grid,Me,_t.row+Ot.delta,j,ce.getOrInit),delta:Ot.delta+1}),{grid:A,delta:0}).grid;return Wc(nt,Me,$[0].column)},Yc=(A,$,j,ce)=>{const Me=ul($),Ve=Me[Me.length-1],nt=Ve.row+Ve.rowspan,Ot=ge(Me,(_t,Kt)=>mk(_t,nt,Kt.row,j,ce.getOrInit),A);return Wc(Ot,nt,$[0].column)},sc=(A,$,j,ce)=>{const Me=$.details,Ve=Lg(Me),nt=Ve[0].column,Ot=ge(Ve,(_t,Kt)=>({grid:Pu(_t.grid,nt,Kt.column+_t.delta,j,ce.getOrInit),delta:_t.delta+1}),{grid:A,delta:0}).grid;return Wc(Ot,Me[0].row,nt)},Mc=(A,$,j,ce)=>{const Me=$.details,Ve=Me[Me.length-1],nt=Ve.column+Ve.colspan,Ot=Lg(Me),_t=ge(Ot,(Kt,Cn)=>Pu(Kt,nt,Cn.column,j,ce.getOrInit),A);return Wc(_t,Me[0].row,nt)},fl=(A,$,j,ce)=>{const Me=Lg($),Ve=fe(Me,Ot=>Ot.column),nt=cw(A,Ve,!0,j,ce.replaceOrInit);return Wc(nt,$[0].row,$[0].column)},bw=(A,$,j,ce)=>{const Me=lx(A,$,j,ce.replaceOrInit);return Wc(Me,$[0].row,$[0].column)},Hy=(A,$,j,ce)=>{const Me=Lg($),Ve=fe(Me,Ot=>Ot.column),nt=cw(A,Ve,!1,j,ce.replaceOrInit);return Wc(nt,$[0].row,$[0].column)},Ow=(A,$,j,ce)=>{const Me=lx(A,$,j,ce.replaceOrInit);return Wc(Me,$[0].row,$[0].column)},Uy=(A,$)=>(j,ce,Me,Ve,nt)=>{const Ot=ul(ce),_t=fe(Ot,Cn=>Cn.row),Kt=XM(j,_t,A,$,Me,Ve.replaceOrInit,nt);return Wc(Kt,ce[0].row,ce[0].column)},xw=Uy("thead",!0),bk=Uy("tbody",!1),mx=Uy("tfoot",!1),Sw=(A,$,j,ce)=>{const Me=Lg($.details),Ve=ix(A,fe(Me,Ot=>Ot.column)),nt=Ve.length>0?Ve[0].cells.length-1:0;return Wc(Ve,Me[0].row,Math.min(Me[0].column,nt))},KM=(A,$,j,ce)=>{const Me=ul($),Ve=Ai(A,Me[0].row,Me[Me.length-1].row),nt=Ve.length>0?Ve.length-1:0;return Wc(Ve,Math.min($[0].row,nt),$[0].column)},JM=(A,$,j,ce)=>{const Me=$.cells;hx(Me);const Ve=sd(A,$.bounds,j,ce.merge(Me));return A0(Ve,E.from(Me[0]))},Ok=(A,$,j,ce)=>{const Ve=ge($,(nt,Ot)=>Pc(nt,Ot,j,ce.unmerge(Ot)),A);return A0(Ve,E.from($[0]))},eE=(A,$,j,ce)=>{const Ve=((_t,Kt)=>{const Cn=hs.fromTable(_t);return v0(Cn,Kt,!0)})($.clipboard,$.generators),nt=ko($.row,$.column);return hk(nt,A,Ve,$.generators,j).fold(()=>A0(A,E.some($.element)),_t=>Wc(_t,$.row,$.column))},P0=(A,$,j)=>{const ce=MO(A,j.section),Me=hs.generate(ce);return v0(Me,$,!0)},gx=(A,$,j,ce)=>{const Me=Hi(A).rows,Ve=$.cells[0].column,nt=Me[$.cells[0].row],Ot=P0($.clipboard,$.generators,nt),_t=ax(Ve,A,Ot,$.generators,j);return Wc(_t,$.cells[0].row,$.cells[0].column)},xk=(A,$,j,ce)=>{const Me=Hi(A).rows,Ve=$.cells[$.cells.length-1].column+$.cells[$.cells.length-1].colspan,nt=Me[$.cells[0].row],Ot=P0($.clipboard,$.generators,nt),_t=ax(Ve,A,Ot,$.generators,j);return Wc(_t,$.cells[0].row,$.cells[0].column)},t9=(A,$,j,ce)=>{const Me=Hi(A).rows,Ve=$.cells[0].row,nt=Me[Ve],Ot=P0($.clipboard,$.generators,nt),_t=nv(Ve,A,Ot,$.generators,j);return Wc(_t,$.cells[0].row,$.cells[0].column)},iu=(A,$,j,ce)=>{const Me=Hi(A).rows,Ve=$.cells[$.cells.length-1].row+$.cells[$.cells.length-1].rowspan,nt=Me[$.cells[0].row],Ot=P0($.clipboard,$.generators,nt),_t=nv(Ve,A,Ot,$.generators,j);return Wc(_t,$.cells[0].row,$.cells[0].column)},n9=(A,$)=>{const j=hs.fromTable(A);return Eg(j,$).bind(Me=>{const Ve=Me[Me.length-1],nt=Me[0].column,Ot=Ve.column+Ve.colspan,_t=xe(fe(j.all,Kt=>Be(Kt.cells,Cn=>Cn.column>=nt&&Cn.column<Ot)));return g0(_t)}).getOr("")},Zd=(A,$)=>{const j=hs.fromTable(A);return Eg(j,$).bind(g0).getOr("")},pr=(A,$)=>{const j=hs.fromTable(A);return Eg(j,$).bind(Me=>{const Ve=Me[Me.length-1],nt=Me[0].row,Ot=Ve.row+Ve.rowspan,_t=j.all.slice(nt,Ot);return VM(_t)}).getOr("")},ww=(A,$,j,ce)=>Ah(A,$,j,ce.sizing),dl=(A,$,j,ce)=>cl(A,$,j,ce.sizing,ce.resize),Sk=(A,$)=>ae($,j=>j.column===0&&j.isLocked),px=(A,$)=>ae($,j=>j.column+j.colspan>=A.grid.columns&&j.isLocked),Tw=(A,$)=>{const j=gm(A),ce=Lg($);return ne(ce,(Me,Ve)=>{const Ot=j[Ve.column].map(Mf).getOr(0);return Me+Ot},0)},lu=A=>($,j)=>Eg($,j).filter(ce=>!(A?Sk:px)($,ce)).map(ce=>({details:ce,pixelDelta:Tw($,ce)})),tE=(A,$)=>km(A,$).map(j=>({details:j,pixelDelta:-Tw(A,j)})),wk=A=>($,j)=>y0($,j).filter(ce=>!(A?Sk:px)($,ce.cells)),cu=Nn.transform("th"),M0=Nn.transform("td"),Wy=Xl(Gl,Eg,w,w,Nn.modification),Mh=Xl(Yc,Eg,w,w,Nn.modification),ad=Xl(sc,lu(!0),dl,w,Nn.modification),Ur=Xl(Mc,lu(!1),dl,w,Nn.modification),of=Xl(Sw,tE,dl,Zy,Nn.modification),Tk=Xl(KM,Eg,w,Zy,Nn.modification),Ck=Xl(fl,km,w,w,cu),Cw=Xl(Hy,km,w,w,M0),kk=Xl(xw,km,w,w,cu),kw=Xl(bk,km,w,w,M0),Aw=Xl(mx,km,w,w,M0),nE=Xl(bw,km,w,w,cu),Pw=Xl(Ow,km,w,w,M0),rE=Xl(JM,J$,ww,w,Nn.merging),Ec=Xl(Ok,e9,ww,w,Nn.merging),Yy=Xl(eE,Ny,ww,w,Nn.modification),oE=Xl(gx,wk(!0),w,w,Nn.modification),sE=Xl(xk,wk(!1),w,w,Nn.modification),Mw=Xl(t9,y0,w,w,Nn.modification),aE=Xl(iu,y0,w,w,Nn.modification),Ak=n9,Pk=Zd,Xy=pr,Mk=(A,$)=>A.dispatch("NewRow",{node:$}),Ew=(A,$)=>A.dispatch("NewCell",{node:$}),iv=(A,$,j)=>{A.dispatch("TableModified",{...j,table:$})},iE=(A,$,j,ce,Me)=>{A.dispatch("TableSelectionChange",{cells:$,start:j,finish:ce,otherCells:Me})},lE=A=>{A.dispatch("TableSelectionClear")},_w=(A,$,j,ce,Me)=>{A.dispatch("ObjectResizeStart",{target:$,width:j,height:ce,origin:Me})},cE=(A,$,j,ce,Me)=>{A.dispatch("ObjectResized",{target:$,width:j,height:ce,origin:Me})},Em={structure:!1,style:!0},gs={structure:!0,style:!1},Rw={structure:!0,style:!0},_c=(A,$)=>Df(A)?Cc.percentageSize($):Ul(A)?Cc.pixelSize($):Cc.getTableSize($),vx=(A,$,j)=>{const ce=Gc=>wn(FO(Gc))==="table",Me=Gc=>!ce(A)||h0(Gc).rows>1,Ve=Gc=>!ce(A)||h0(Gc).columns>1,nt=$i(A),Ot=ea(A)?w:rw,_t=Gc=>{switch(Ki(A)){case"section":return Mg.section();case"sectionCells":return Mg.sectionCells();case"cells":return Mg.cells();default:return Mg.getTableSectionType(Gc,"section")}},Kt=(Gc,AT)=>AT.cursor.fold(()=>{const kb=Af(Gc);return re(kb).filter(oa).map(Lh=>{j.clearSelectedCells(Gc.dom);const cc=A.dom.createRng();return cc.selectNode(Lh.dom),A.selection.setRng(cc),dt(Lh,"data-mce-selected","1"),cc})},kb=>{const Lh=ok(kb),cc=A.dom.createRng();return cc.setStart(Lh.element.dom,Lh.offset),cc.setEnd(Lh.element.dom,Lh.offset),A.selection.setRng(cc),j.clearSelectedCells(Gc.dom),E.some(cc)}),Cn=(Gc,AT,kb,Lh)=>(cc,Ab,AA=!1)=>{Qd(cc);const PA=zt.fromDom(A.getDoc()),r1=js(kb,PA,nt),MA={sizing:_c(A,cc),resize:ea(A)?sk():ow(),section:_t(cc)};return AT(cc)?Gc(cc,Ab,r1,MA).bind(qx=>{$.refresh(cc.dom),ee(qx.newRows,yv=>{Mk(A,yv.dom)}),ee(qx.newCells,yv=>{Ew(A,yv.dom)});const EA=Kt(cc,qx);return oa(cc)&&(Qd(cc),AA||iv(A,cc.dom,Lh)),EA.map(yv=>({rng:yv,effect:Lh}))}):E.none()},ir=Cn(Tk,Me,w,gs),$r=Cn(of,Ve,w,gs),Rr=Cn(Wy,B,w,gs),Kn=Cn(Mh,B,w,gs),Ir=Cn(ad,B,Ot,gs),jn=Cn(Ur,B,Ot,gs),io=Cn(rE,B,w,gs),$o=Cn(Ec,B,w,gs),os=Cn(oE,B,w,gs),Va=Cn(sE,B,w,gs),ml=Cn(Mw,B,w,gs),bi=Cn(aE,B,w,gs),du=Cn(Yy,B,w,Rw),pv=Cn(nE,B,w,gs),vv=Cn(Pw,B,w,gs),kT=Cn(Ck,B,w,gs),jx=Cn(Cw,B,w,gs),Oa=Cn(kk,B,w,gs),Dc=Cn(kw,B,w,gs),ql=Cn(Aw,B,w,gs);return{deleteRow:ir,deleteColumn:$r,insertRowsBefore:Rr,insertRowsAfter:Kn,insertColumnsBefore:Ir,insertColumnsAfter:jn,mergeCells:io,unmergeCells:$o,pasteColsBefore:os,pasteColsAfter:Va,pasteRowsBefore:ml,pasteRowsAfter:bi,pasteCells:du,makeCellsHeader:pv,unmakeCellsHeader:vv,makeColumnsHeader:kT,unmakeColumnsHeader:jx,makeRowsHeader:Oa,makeRowsBody:Dc,makeRowsFooter:ql,getTableRowType:Xy,getTableCellType:Pk,getTableColType:Ak}},Dw=(A,$,j)=>{const ce=Ra(A,$,1);j===1||ce<=1?nn(A,$):dt(A,$,Math.min(j,ce))},$w=(A,$)=>j=>{const ce=j.column+j.colspan-1,Me=j.column;return ce>=A&&Me<$},yx=(A,$,j)=>{if(hs.hasColumns(A)){const ce=Be(hs.justColumns(A),$w($,j)),Me=fe(ce,nt=>{const Ot=zr(nt.element);return Dw(Ot,"span",j-$),Ot}),Ve=zt.fromTag("colgroup");return rn(Ve,Me),[Ve]}else return[]},Ek=(A,$,j)=>fe(A.all,ce=>{const Me=Be(ce.cells,$w($,j)),Ve=fe(Me,Ot=>{const _t=zr(Ot.element);return Dw(_t,"colspan",j-$),_t}),nt=zt.fromTag("tr");return rn(nt,Ve),nt}),uE=(A,$)=>{const j=hs.fromTable(A);return km(j,$).map(Me=>{const Ve=Me[Me.length-1],nt=Me[0].column,Ot=Ve.column+Ve.colspan,_t=yx(j,nt,Ot),Kt=Ek(j,nt,Ot);return[..._t,...Kt]})},fE=(A,$,j)=>{const ce=hs.fromTable(A);return Eg(ce,$).bind(Ve=>{const nt=v0(ce,j,!1),_t=Hi(nt).rows.slice(Ve[0].row,Ve[Ve.length-1].row+Ve[Ve.length-1].rowspan),Kt=Le(_t,ir=>{const $r=Be(ir.cells,Rr=>!Rr.isLocked);return $r.length>0?[{...ir,cells:$r}]:[]}),Cn=ni(Kt);return zu(Cn.length>0,Cn)}).map(Ve=>ik(Ve))},E0=Mu.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),_k=(A,$,j)=>{const ce=j.substring(0,j.length-A.length),Me=parseFloat(ce);return ce===Me.toString()?$(Me):E0.invalid(j)},Ig={...E0,from:A=>Fc(A,"%")?_k("%",E0.percent,A):Fc(A,"px")?_k("px",E0.pixels,A):E0.invalid(A)},dE=(A,$)=>fe(A,j=>Ig.from(j).fold(()=>j,Me=>Me/$*100+"%",Me=>Me+"%")),_0=(A,$,j)=>{const ce=j/$;return fe(A,Me=>Ig.from(Me).fold(()=>Me,nt=>nt*ce+"px",nt=>nt/100*j+"px"))},hE=(A,$)=>{const j=A.fold(()=>M(""),ce=>{const Me=ce/$;return M(Me+"px")},()=>{const ce=100/$;return M(ce+"%")});return q($,j)},Lw=(A,$,j)=>A.fold(()=>$,ce=>_0($,j,ce),ce=>dE($,j)),Rk=(A,$,j)=>{const ce=Ig.from(j),Me=ke(A,Ve=>Ve==="0px")?hE(ce,A.length):Lw(ce,A,$);return $k(Me)},lv=(A,$)=>A.length===0?$:ge(A,(j,ce)=>Ig.from(ce).fold(M(0),I,I)+j,0),mE=(A,$)=>{const j=Math.floor(A);return{value:j+$,remainder:A-j}},Dk=(A,$)=>Ig.from(A).fold(M(A),j=>j+$+"px",j=>j+$+"%"),$k=A=>{if(A.length===0)return A;const $=ge(A,(ce,Me)=>{const Ve=Ig.from(Me).fold(()=>({value:Me,remainder:0}),nt=>mE(nt,"px"),nt=>({value:nt+"%",remainder:0}));return{output:[Ve.value].concat(ce.output),remainder:ce.remainder+Ve.remainder}},{output:[],remainder:0}),j=$.output;return j.slice(0,j.length-1).concat([Dk(j[j.length-1],Math.round($.remainder))])},R0=Ig.from,Lk=(A,$,j)=>{ee($,ce=>{const Me=A.slice(ce.column,ce.colspan+ce.column),Ve=lv(Me,ci());Ya(ce.element,"width",Ve+j)})},Iw=(A,$,j)=>{ee($,(ce,Me)=>{const Ve=lv([A[Me]],ci());Ya(ce.element,"width",Ve+j)})},gE=(A,$,j,ce)=>{ee(j,Me=>{const Ve=A.slice(Me.row,Me.rowspan+Me.row),nt=lv(Ve,kf());Ya(Me.element,"height",nt+ce)}),ee($,(Me,Ve)=>{Ya(Me.element,"height",A[Ve])})},Ik=A=>R0(A).fold(M("px"),M("px"),M("%")),Eh=(A,$,j)=>{const ce=hs.fromTable(A),Me=ce.all,Ve=hs.justCells(ce),nt=hs.justColumns(ce);$.each(Ot=>{const _t=Ik(Ot),Kt=Sc(A),Cn=Jf(ce,A),ir=Rk(Cn,Kt,Ot);hs.hasColumns(ce)?Iw(ir,nt,_t):Lk(ir,Ve,_t),Ya(A,"width",Ot)}),j.each(Ot=>{const _t=Ik(Ot),Kt=t0(A),Cn=Tc(ce,A,Xr),ir=Rk(Cn,Kt,Ot);gE(ir,Me,Ve,_t),Ya(A,"height",Ot)})},Gy=Rf,jy=US,bx=qu,qy=A=>{nn(A,"width")},Lf=A=>{const $=zs(A);Eh(A,E.some($),E.none()),qy(A)},D0=A=>{const $=Cg(A);Eh(A,E.some($),E.none()),qy(A)},Ky=A=>{xu(A,"width");const $=Fp(A),j=$.length>0?$:Af(A);ee(j,ce=>{xu(ce,"width"),qy(ce)}),qy(A)},Ng={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Ox=()=>zt.fromTag("th"),pE=()=>zt.fromTag("td"),vE=()=>zt.fromTag("col"),Nk=(A,$,j,ce)=>{const Me=zt.fromTag("tr");for(let Ve=0;Ve<A;Ve++){const nt=ce<$||Ve<j?Ox():pE();Ve<j&&dt(nt,"scope","row"),ce<$&&dt(nt,"scope","col"),Mt(nt,zt.fromTag("br")),Mt(Me,nt)}return Me},yE=A=>{const $=zt.fromTag("colgroup");return q(A,()=>Mt($,vE())),$},Nw=(A,$,j,ce)=>q(A,Me=>Nk($,j,ce,Me)),bE=(A,$,j,ce,Me,Ve=Ng)=>{const nt=zt.fromTag("table"),Ot=Me!=="cells";kl(nt,Ve.styles),mt(nt,Ve.attributes),Ve.colGroups&&Mt(nt,yE($));const _t=Math.min(A,j);if(Ot&&j>0){const Rr=zt.fromTag("thead");Mt(nt,Rr);const Ir=Nw(j,$,Me==="sectionCells"?_t:0,ce);rn(Rr,Ir)}const Kt=zt.fromTag("tbody");Mt(nt,Kt);const Cn=Ot?A-_t:A,$r=Nw(Cn,$,Ot?0:j,ce);return rn(Kt,$r),nt},OE=A=>A.dom.innerHTML,Bk=A=>{const $=zt.fromTag("div"),j=zt.fromDom(A.dom.cloneNode(!0));return Mt($,j),OE($)},xE=(A,$)=>{A.selection.select($.dom,!0),A.selection.collapse(!0)},Qk=(A,$)=>{li($,"td,th").each(N(xE,A))},SE=(A,$)=>{ee(zi($,"tr"),j=>{Mk(A,j.dom),ee(zi(j,"th,td"),ce=>{Ew(A,ce.dom)})})},xx=A=>f(A)&&A.indexOf("%")!==-1,wE=(A,$,j,ce,Me)=>{const Ve=Nd(A),nt={styles:Ve,attributes:Ac(A),colGroups:Ju(A)};return A.undoManager.ignore(()=>{const Ot=bE(j,$,Me,ce,Ki(A),nt);dt(Ot,"data-mce-id","__mce");const _t=Bk(Ot);A.insertContent(_t),A.addVisual()}),li(FO(A),'table[data-mce-id="__mce"]').map(Ot=>(Ul(A)?D0(Ot):Li(A)?Ky(Ot):(Df(A)||xx(Ve.width))&&Lf(Ot),Qd(Ot),nn(Ot,"data-mce-id"),SE(A,Ot),Qk(A,Ot),Ot.dom)).getOrNull()},Fk=(A,$,j,ce={})=>{const Me=Ve=>C(Ve)&&Ve>0;if(Me($)&&Me(j)){const Ve=ce.headerRows||0,nt=ce.headerColumns||0;return wE(A,j,$,nt,Ve)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var $0=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Bw="x-tinymce/dom-table-",Qw=Bw+"rows",Fw=Bw+"columns",Vk=A=>{const $=$0.FakeClipboardItem(A);$0.write([$])},Vw=A=>{var $;const j=($=$0.read())!==null&&$!==void 0?$:[];return te(j,ce=>E.from(ce.getType(A)))},TE=A=>{Vw(A).isSome()&&$0.clear()},Sx=A=>{A.fold(CE,$=>Vk({[Qw]:$}))},wx=()=>Vw(Qw),CE=()=>TE(Qw),zw=A=>{A.fold(kE,$=>Vk({[Fw]:$}))},zk=()=>Vw(Fw),kE=()=>TE(Fw),Zw=A=>Fd(ef(A),Oh(A)).filter(zO),AE=A=>Ly(ef(A),Oh(A)).filter(zO),L0=(A,$)=>{const j=Oh(A),ce=()=>Zw(A).each(jn=>{Oc(jn,j).filter(F(j)).each(io=>{const $o=zt.fromText("");if(Ht(io,$o),On(io),A.dom.isEmpty(A.getBody()))A.setContent(""),A.selection.setCursorLocation();else{const os=A.dom.createRng();os.setStart($o.dom,0),os.setEnd($o.dom,0),A.selection.setRng(os),A.nodeChanged()}})}),Me=jn=>Zw(A).each(io=>{Li(A)||Ul(A)||Df(A)||Oc(io,j).each(os=>{jn==="relative"&&!Gy(os)?Lf(os):jn==="fixed"&&!jy(os)?D0(os):jn==="responsive"&&!bx(os)&&Ky(os),Qd(os),iv(A,os.dom,gs)})}),Ve=jn=>Oc(jn,j),nt=jn=>AE(A).bind(io=>Ve(io).map($o=>jn($o,io))),Ot=(jn,io)=>{nt($o=>{A.formatter.toggle("tableclass",{value:io},$o.dom),iv(A,$o.dom,Em)})},_t=(jn,io)=>{nt($o=>{const os=$f(A),ml=ke(os,bi=>A.formatter.match("tablecellclass",{value:io},bi.dom))?A.formatter.remove:A.formatter.apply;ee(os,bi=>ml("tablecellclass",{value:io},bi.dom)),iv(A,$o.dom,Em)})},Kt=()=>{Zw(A).each(jn=>{Oc(jn,j).each(io=>{Zo(io,"caption").fold(()=>{const $o=zt.fromTag("caption");Mt($o,zt.fromText("Caption")),en(io,$o,0),A.selection.setCursorLocation($o.dom,0)},$o=>{He("caption")(jn)&&kr("td",io).each(os=>A.selection.setCursorLocation(os.dom,0)),On($o)}),iv(A,io.dom,gs)})})},Cn=jn=>{A.focus()},ir=(jn,io=!1)=>nt(($o,os)=>{const Va=l0($f(A),$o,os);jn($o,Va,io).each(Cn)}),$r=()=>nt((jn,io)=>{const $o=l0($f(A),jn,io),os=js(w,zt.fromDom(A.getDoc()),E.none());return fE(jn,$o,os)}),Rr=()=>nt((jn,io)=>{const $o=l0($f(A),jn,io);return uE(jn,$o)}),Kn=(jn,io)=>io().each($o=>{const os=fe($o,Va=>zr(Va));nt((Va,ml)=>{const bi=ti(zt.fromDom(A.getDoc())),du=c0($f(A),ml,os,bi);jn(Va,du).each(Cn)})}),Ir=jn=>(io,$o)=>pt($o,"type").each(os=>{ir(jn(os),$o.no_events)});oe({mceTableSplitCells:()=>ir($.unmergeCells),mceTableMergeCells:()=>ir($.mergeCells),mceTableInsertRowBefore:()=>ir($.insertRowsBefore),mceTableInsertRowAfter:()=>ir($.insertRowsAfter),mceTableInsertColBefore:()=>ir($.insertColumnsBefore),mceTableInsertColAfter:()=>ir($.insertColumnsAfter),mceTableDeleteCol:()=>ir($.deleteColumn),mceTableDeleteRow:()=>ir($.deleteRow),mceTableCutCol:()=>Rr().each(jn=>{zw(jn),ir($.deleteColumn)}),mceTableCutRow:()=>$r().each(jn=>{Sx(jn),ir($.deleteRow)}),mceTableCopyCol:()=>Rr().each(jn=>zw(jn)),mceTableCopyRow:()=>$r().each(jn=>Sx(jn)),mceTablePasteColBefore:()=>Kn($.pasteColsBefore,zk),mceTablePasteColAfter:()=>Kn($.pasteColsAfter,zk),mceTablePasteRowBefore:()=>Kn($.pasteRowsBefore,wx),mceTablePasteRowAfter:()=>Kn($.pasteRowsAfter,wx),mceTableDelete:ce,mceTableCellToggleClass:_t,mceTableToggleClass:Ot,mceTableToggleCaption:Kt,mceTableSizingMode:(jn,io)=>Me(io),mceTableCellType:Ir(jn=>jn==="th"?$.makeCellsHeader:$.unmakeCellsHeader),mceTableColType:Ir(jn=>jn==="th"?$.makeColumnsHeader:$.unmakeColumnsHeader),mceTableRowType:Ir(jn=>{switch(jn){case"header":return $.makeRowsHeader;case"footer":return $.makeRowsFooter;default:return $.makeRowsBody}})},(jn,io)=>A.addCommand(io,jn)),A.addCommand("mceInsertTable",(jn,io)=>{Fk(A,io.rows,io.columns,io.options)}),A.addCommand("mceTableApplyCellStyle",(jn,io)=>{const $o=ml=>"tablecell"+ml.toLowerCase().replace("-","");if(!h(io))return;const os=Be($f(A),zO);if(os.length===0)return;const Va=ze(io,(ml,bi)=>A.formatter.has($o(bi))&&f(ml));et(Va)||(oe(Va,(ml,bi)=>{const du=$o(bi);ee(os,pv=>{ml===""?A.formatter.remove(du,{value:null},pv.dom,!0):A.formatter.apply(du,{value:ml},pv.dom)})}),Ve(os[0]).each(ml=>iv(A,ml.dom,Em)))})},PE=(A,$)=>{const j=Oh(A),ce=Me=>Ly(ef(A)).bind(Ve=>Oc(Ve,j).map(nt=>{const Ot=l0($f(A),nt,Ve);return Me(nt,Ot)})).getOr("");oe({mceTableRowType:()=>ce($.getTableRowType),mceTableCellType:()=>ce($.getTableCellType),mceTableColType:()=>ce($.getTableColType)},(Me,Ve)=>A.addQueryValueHandler(Ve,Me))},Hw=Mu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ME=(A,$,j,ce)=>A.fold($,j,ce),EE=A=>A.fold(I,I,I),_E=Hw.before,Zk=Hw.on,RE=Hw.after,_l={before:_E,on:Zk,after:RE,cata:ME,getStart:EE},I0={create:(A,$)=>({selection:A,kill:$})},Tx=(A,$)=>{const j=A.document.createRange();return j.selectNode($.dom),j},Hk=(A,$)=>{const j=A.document.createRange();return Uw(j,$),j},Uw=(A,$)=>A.selectNodeContents($.dom),Uk=(A,$)=>{$.fold(j=>{A.setStartBefore(j.dom)},(j,ce)=>{A.setStart(j.dom,ce)},j=>{A.setStartAfter(j.dom)})},Wk=(A,$)=>{$.fold(j=>{A.setEndBefore(j.dom)},(j,ce)=>{A.setEnd(j.dom,ce)},j=>{A.setEndAfter(j.dom)})},cv=(A,$,j)=>{const ce=A.document.createRange();return Uk(ce,$),Wk(ce,j),ce},Jy=(A,$,j,ce,Me)=>{const Ve=A.document.createRange();return Ve.setStart($.dom,j),Ve.setEnd(ce.dom,Me),Ve},DE=A=>({left:A.left,top:A.top,right:A.right,bottom:A.bottom,width:A.width,height:A.height}),$E=A=>{const $=A.getClientRects(),j=$.length>0?$[0]:A.getBoundingClientRect();return j.width>0||j.height>0?E.some(j).map(DE):E.none()},eb=Mu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ww=(A,$,j)=>$(zt.fromDom(j.startContainer),j.startOffset,zt.fromDom(j.endContainer),j.endOffset),Yk=(A,$)=>$.match({domRange:j=>({ltr:M(j),rtl:E.none}),relative:(j,ce)=>({ltr:gh(()=>cv(A,j,ce)),rtl:gh(()=>E.some(cv(A,ce,j)))}),exact:(j,ce,Me,Ve)=>({ltr:gh(()=>Jy(A,j,ce,Me,Ve)),rtl:gh(()=>E.some(Jy(A,Me,Ve,j,ce)))})}),hl=(A,$)=>{const j=$.ltr();return j.collapsed?$.rtl().filter(Me=>Me.collapsed===!1).map(Me=>eb.rtl(zt.fromDom(Me.endContainer),Me.endOffset,zt.fromDom(Me.startContainer),Me.startOffset)).getOrThunk(()=>Ww(A,eb.ltr,j)):Ww(A,eb.ltr,j)},Xk=(A,$)=>{const j=Yk(A,$);return hl(A,j)},Yw=(A,$)=>Xk(A,$).match({ltr:(ce,Me,Ve,nt)=>{const Ot=A.document.createRange();return Ot.setStart(ce.dom,Me),Ot.setEnd(Ve.dom,nt),Ot},rtl:(ce,Me,Ve,nt)=>{const Ot=A.document.createRange();return Ot.setStart(Ve.dom,nt),Ot.setEnd(ce.dom,Me),Ot}});eb.ltr,eb.rtl;const N0={create:(A,$,j,ce)=>({start:A,soffset:$,finish:j,foffset:ce})},Gk={create:(A,$,j,ce)=>({start:_l.on(A,$),finish:_l.on(j,ce)})},Xw=(A,$)=>{const j=Yw(A,$);return N0.create(zt.fromDom(j.startContainer),j.startOffset,zt.fromDom(j.endContainer),j.endOffset)},tb=Gk.create,Cx=(A,$,j,ce,Me,Ve,nt)=>or(j,Me)&&ce===Ve?E.none():Ka(j,"td,th",$).bind(Ot=>Ka(Me,"td,th",$).bind(_t=>B0(A,$,Ot,_t,nt))),B0=(A,$,j,ce,Me)=>or(j,ce)?E.none():rd(j,ce,$).bind(Ve=>{const nt=Ve.boxes.getOr([]);return nt.length>1?(Me(A,nt,Ve.start,Ve.finish),E.some(I0.create(E.some(tb(j,0,j,gn(j))),!0))):E.none()}),IE=(A,$,j,ce,Me)=>{const Ve=nt=>(Me.clearBeforeUpdate(j),Me.selectRange(j,nt.boxes,nt.start,nt.finish),nt.boxes);return WO(ce,A,$,Me.firstSelectedSelector,Me.lastSelectedSelector).map(Ve)},Bg=(A,$)=>({item:A,mode:$}),jk=(A,$,j,ce=Qg)=>A.property().parent($).map(Me=>Bg(Me,ce)),Qg=(A,$,j,ce=Fg)=>j.sibling(A,$).map(Me=>Bg(Me,ce)),Fg=(A,$,j,ce=Fg)=>{const Me=A.property().children($);return j.first(Me).map(nt=>Bg(nt,ce))},Gw=[{current:jk,next:Qg,fallback:E.none()},{current:Qg,next:Fg,fallback:E.some(jk)},{current:Fg,next:Fg,fallback:E.some(Qg)}],qk=(A,$,j,ce,Me=Gw)=>G(Me,nt=>nt.current===j).bind(nt=>nt.current(A,$,ce,nt.next).orThunk(()=>nt.fallback.bind(Ot=>qk(A,$,Ot,ce)))),Vg={left:()=>({sibling:(j,ce)=>j.query().prevSibling(ce),first:j=>j.length>0?E.some(j[j.length-1]):E.none()}),right:()=>({sibling:(j,ce)=>j.query().nextSibling(ce),first:j=>j.length>0?E.some(j[0]):E.none()})},_h=(A,$,j,ce,Me,Ve)=>qk(A,$,ce,Me).bind(Ot=>Ve(Ot.item)?E.none():j(Ot.item)?E.some(Ot.item):_h(A,Ot.item,j,Ot.mode,Me,Ve)),nb=(A,$,j,ce)=>_h(A,$,j,Qg,Vg.left(),ce),Q0=(A,$,j,ce)=>_h(A,$,j,Qg,Vg.right(),ce),qw=A=>$=>A.property().children($).length===0,_m=(A,$,j)=>rb(A,$,qw(A),j),Hd=(A,$,j)=>kx(A,$,qw(A),j),rb=nb,kx=Q0,ob=qn(),Kw=(A,$)=>_m(ob,A,$),F0=(A,$)=>Hd(ob,A,$),sb=(A,$,j)=>rb(ob,A,$,j),Jw=(A,$,j)=>kx(ob,A,$,j),Kk=(A,$,j)=>Qa(A,$,j).isSome(),zg=Mu.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ax=(A,$,j)=>{const ce=A.getRect($),Me=A.getRect(j);return Me.right>ce.left&&Me.left<ce.right},NE=A=>Ka(A,"tr"),Pi={...zg,verify:(A,$,j,ce,Me,Ve,nt)=>Ka(ce,"td,th",nt).bind(Ot=>Ka($,"td,th",nt).map(_t=>or(Ot,_t)?or(ce,Ot)&&gn(Ot)===Me?Ve(_t):zg.none("in same cell"):Ca(NE,[Ot,_t]).fold(()=>Ax(A,_t,Ot)?zg.success():Ve(_t),Kt=>Ve(_t)))).getOr(zg.none("default")),cata:(A,$,j,ce,Me)=>A.fold($,j,ce,Me)},i9=(A,$,j,ce)=>({parent:A,children:$,element:j,index:ce}),Rm=A=>ao(A).bind($=>{const j=St($);return eA(j,A).map(ce=>i9($,j,A,ce))}),eA=(A,$)=>Oe(A,N(or,$)),Px=He("br"),Zg=(A,$,j)=>$(A,j).bind(ce=>xt(ce)&&bt(ce).trim().length===0?Zg(ce,$,j):E.some(ce)),ac=(A,$,j)=>j.traverse($).orThunk(()=>Zg($,j.gather,A)).map(j.relative),V0=(A,$)=>Ct(A,$).filter(Px).orThunk(()=>Ct(A,$-1).filter(Px)),ab=(A,$,j,ce)=>V0($,j).bind(Me=>ce.traverse(Me).fold(()=>Zg(Me,ce.gather,A).map(ce.relative),Ve=>Rm(Ve).map(nt=>_l.on(nt.parent,nt.index)))),z0=(A,$,j,ce)=>(Px($)?ac(A,$,ce):ab(A,$,j,ce)).map(Ve=>({start:Ve,finish:Ve})),tT=A=>Pi.cata(A,$=>E.none(),()=>E.none(),$=>E.some(f0($,0)),$=>E.some(f0($,gn($)))),Z0=(A,$)=>({left:A.left,top:A.top+$,right:A.right,bottom:A.bottom+$}),uv=(A,$)=>({left:A.left,top:A.top-$,right:A.right,bottom:A.bottom-$}),Ud=(A,$,j)=>({left:A.left+$,top:A.top+j,right:A.right+$,bottom:A.bottom+j}),BE=A=>A.top,QE=A=>A.bottom,Hg=(A,$,j)=>j>=0&&j<gn($)?A.getRangedRect($,j,$,j+1):j>0?A.getRangedRect($,j-1,$,j):E.none(),H0=A=>({left:A.left,top:A.top,right:A.right,bottom:A.bottom}),Mx=(A,$)=>E.some(A.getRect($)),Rh=(A,$,j)=>ut($)?Mx(A,$).map(H0):xt($)?Hg(A,$,j).map(H0):E.none(),nT=(A,$)=>ut($)?Mx(A,$).map(H0):xt($)?A.getRangedRect($,0,$,gn($)).map(H0):E.none(),Rl=5,Dm=100,id=Mu.generate([{none:[]},{retry:["caret"]}]),U0=(A,$)=>A.left<$.left||Math.abs($.right-A.left)<1||A.left>$.right,Rc=(A,$,j)=>xi($,dx).fold(Q,ce=>nT(A,ce).exists(Me=>U0(j,Me))),uu=(A,$,j,ce,Me)=>{const Ve=Z0(Me,Rl);return Math.abs(j.bottom-ce.bottom)<1||j.top>Me.bottom?id.retry(Ve):j.top===Me.bottom?id.retry(Z0(Me,1)):Rc(A,$,Me)?id.retry(Ud(Ve,Rl,0)):id.none()},ld={point:BE,adjuster:(A,$,j,ce,Me)=>{const Ve=uv(Me,Rl);return Math.abs(j.top-ce.top)<1||j.bottom<Me.top?id.retry(Ve):j.bottom===Me.top?id.retry(uv(Me,1)):Rc(A,$,Me)?id.retry(Ud(Ve,Rl,0)):id.none()},move:uv,gather:Kw},Ex={point:QE,adjuster:uu,move:Z0,gather:F0},sf=(A,$,j)=>A.elementFromPoint($,j).filter(ce=>wn(ce)==="table").isSome(),fv=(A,$,j,ce,Me)=>rT(A,$,j,$.move(ce,Rl),Me),rT=(A,$,j,ce,Me)=>Me===0?E.some(ce):sf(A,ce.left,$.point(ce))?fv(A,$,j,ce,Me-1):A.situsFromPoint(ce.left,$.point(ce)).bind(Ve=>Ve.start.fold(E.none,nt=>nT(A,nt).bind(Ot=>$.adjuster(A,nt,Ot,j,ce).fold(E.none,_t=>rT(A,$,j,_t,Me-1))).orThunk(()=>E.some(ce)),E.none)),FE=(A,$,j)=>A.point($)>j.getInnerHeight()?E.some(A.point($)-j.getInnerHeight()):A.point($)<0?E.some(-A.point($)):E.none(),tA=(A,$,j)=>{const ce=A.move(j,Rl),Me=rT($,A,j,ce,Dm).getOr(ce);return FE(A,Me,$).fold(()=>$.situsFromPoint(Me.left,A.point(Me)),Ve=>($.scrollBy(0,Ve),$.situsFromPoint(Me.left,A.point(Me)-Ve)))},ib={tryUp:N(tA,ld),tryDown:N(tA,Ex),getJumpSize:M(Rl)},nA=20,lb=(A,$,j)=>A.getSelection().bind(ce=>z0($,ce.finish,ce.foffset,j).fold(()=>E.some(f0(ce.finish,ce.foffset)),Me=>{const Ve=A.fromSitus(Me),nt=Pi.verify(A,ce.finish,ce.foffset,Ve.finish,Ve.foffset,j.failure,$);return tT(nt)})),_x=(A,$,j,ce,Me,Ve)=>Ve===0?E.none():zE(A,$,j,ce,Me).bind(nt=>{const Ot=A.fromSitus(nt),_t=Pi.verify(A,j,ce,Ot.finish,Ot.foffset,Me.failure,$);return Pi.cata(_t,()=>E.none(),()=>E.some(nt),Kt=>or(j,Kt)&&ce===0?VE(A,j,ce,uv,Me):_x(A,$,Kt,0,Me,Ve-1),Kt=>or(j,Kt)&&ce===gn(Kt)?VE(A,j,ce,Z0,Me):_x(A,$,Kt,gn(Kt),Me,Ve-1))}),VE=(A,$,j,ce,Me)=>Rh(A,$,j).bind(Ve=>rA(A,Me,ce(Ve,ib.getJumpSize()))),rA=(A,$,j)=>{const ce=Hp().browser;return ce.isChromium()||ce.isSafari()||ce.isFirefox()?$.retry(A,j):E.none()},zE=(A,$,j,ce,Me)=>Rh(A,j,ce).bind(Ve=>rA(A,Me,Ve)),l9=(A,$,j)=>lb(A,$,j).bind(ce=>_x(A,$,ce.element,ce.offset,j,nA).map(A.fromSitus)),oA=(A,$)=>Kk(A,j=>ao(j).exists(ce=>or(ce,$))),As=(A,$,j,ce,Me)=>Ka(ce,"td,th",$).bind(Ve=>Ka(Ve,"table",$).bind(nt=>oA(Me,nt)?l9(A,$,j).bind(Ot=>Ka(Ot.finish,"td,th",$).map(_t=>({start:Ve,finish:_t,range:Ot}))):E.none())),Wd=(A,$,j,ce,Me,Ve)=>Ve(ce,$).orThunk(()=>As(A,$,j,ce,Me).map(nt=>{const Ot=nt.range;return I0.create(E.some(tb(Ot.start,Ot.soffset,Ot.finish,Ot.foffset)),!0)})),dv=(A,$)=>Ka(A,"tr",$).bind(j=>Ka(j,"table",$).bind(ce=>{const Me=zi(ce,"tr");return or(j,Me[0])?sb(ce,Ve=>Pn(Ve).isSome(),$).map(Ve=>{const nt=gn(Ve);return I0.create(E.some(tb(Ve,nt,Ve,nt)),!0)}):E.none()})),oT=(A,$)=>Ka(A,"tr",$).bind(j=>Ka(j,"table",$).bind(ce=>{const Me=zi(ce,"tr");return or(j,Me[Me.length-1])?Jw(ce,Ve=>_n(Ve).isSome(),$).map(Ve=>I0.create(E.some(tb(Ve,0,Ve,0)),!0)):E.none()})),sA=(A,$,j,ce,Me,Ve,nt)=>As(A,j,ce,Me,Ve).bind(Ot=>B0($,j,Ot.start,Ot.finish,nt)),cb=A=>{let $=A;return{get:()=>$,set:Me=>{$=Me}}},ZE=A=>{const $=cb(E.none()),j=()=>$.get().each(A);return{clear:()=>{j(),$.set(E.none())},isSet:()=>$.get().isSome(),get:()=>$.get(),set:Ot=>{j(),$.set(E.some(Ot))}}},W0=()=>{const A=ZE(w);return{...A,on:j=>A.get().each(j)}},Rx=(A,$)=>Ka(A,"td,th",$),af=A=>Oo(A).exists(Bd),zU=(A,$,j,ce)=>{const Me=W0(),Ve=Me.clear,nt=Cn=>{Me.on(ir=>{ce.clearBeforeUpdate($),Rx(Cn.target,j).each($r=>{rd(ir,$r,j).each(Rr=>{const Kn=Rr.boxes.getOr([]);if(Kn.length===1){const Ir=Kn[0],jn=Py(Ir)==="false",io=Gf(Om(Cn.target),Ir,or);jn&&io&&(ce.selectRange($,Kn,Ir,Ir),A.selectContents(Ir))}else Kn.length>1&&(ce.selectRange($,Kn,Rr.start,Rr.finish),A.selectContents($r))})})})};return{clearstate:Ve,mousedown:Cn=>{ce.clear($),Rx(Cn.target,j).filter(af).each(Me.set)},mouseover:Cn=>{nt(Cn)},mouseup:Cn=>{nt(Cn),Ve()}}},Dx={traverse:Ee,gather:F0,relative:_l.before,retry:ib.tryDown,failure:Pi.failedDown},Y0={traverse:Fe,gather:Kw,relative:_l.before,retry:ib.tryUp,failure:Pi.failedUp},Ug=A=>$=>$===A,$x=Ug(38),Lx=Ug(40),hv=A=>A>=37&&A<=40,HE={isBackward:Ug(37),isForward:Ug(39)},aA={isBackward:Ug(39),isForward:Ug(37)},UE=A=>{const $=A!==void 0?A.dom:document,j=$.body.scrollLeft||$.documentElement.scrollLeft,ce=$.body.scrollTop||$.documentElement.scrollTop;return Xu(j,ce)},X0=(A,$,j)=>{const Me=(j!==void 0?j.dom:document).defaultView;Me&&Me.scrollBy(A,$)},$m=Mu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),WE=A=>$m.exact(A.start,A.soffset,A.finish,A.foffset),YE=A=>A.match({domRange:$=>zt.fromDom($.startContainer),relative:($,j)=>_l.getStart($),exact:($,j,ce,Me)=>$}),iA=$m.domRange,sT=$m.relative,aT=$m.exact,iT=A=>{const $=YE(A);return Sr($)},Ix=N0.create,Wg={domRange:iA,relative:sT,exact:aT,exactFromRange:WE,getWin:iT,range:Ix},lA=(A,$,j)=>{var ce,Me;return E.from((Me=(ce=A.dom).caretPositionFromPoint)===null||Me===void 0?void 0:Me.call(ce,$,j)).bind(Ve=>{if(Ve.offsetNode===null)return E.none();const nt=A.dom.createRange();return nt.setStart(Ve.offsetNode,Ve.offset),nt.collapse(),E.some(nt)})},ub=(A,$,j)=>{var ce,Me;return E.from((Me=(ce=A.dom).caretRangeFromPoint)===null||Me===void 0?void 0:Me.call(ce,$,j))},lT=(()=>document.caretPositionFromPoint?lA:document.caretRangeFromPoint?ub:E.none)(),XE=(A,$,j)=>{const ce=zt.fromDom(A.document);return lT(ce,$,j).map(Me=>N0.create(zt.fromDom(Me.startContainer),Me.startOffset,zt.fromDom(Me.endContainer),Me.endOffset))},fb=(A,$)=>{const j=wn(A);return j==="input"?_l.after(A):me(["br","img"],j)?$===0?_l.before(A):_l.after(A):_l.on(A,$)},GE=(A,$)=>{const j=A.fold(_l.before,fb,_l.after),ce=$.fold(_l.before,fb,_l.after);return Wg.relative(j,ce)},Fr=(A,$,j,ce)=>{const Me=fb(A,$),Ve=fb(j,ce);return Wg.relative(Me,Ve)},el=(A,$,j,ce)=>{const Ve=Rn(A).dom.createRange();return Ve.setStart(A.dom,$),Ve.setEnd(j.dom,ce),Ve},Lm=(A,$,j,ce)=>{const Me=el(A,$,j,ce),Ve=or(A,j)&&$===ce;return Me.collapsed&&!Ve},Ni=A=>E.from(A.getSelection()),If=(A,$)=>{Ni(A).each(j=>{j.removeAllRanges(),j.addRange($)})},Nx=(A,$,j,ce,Me)=>{const Ve=Jy(A,$,j,ce,Me);If(A,Ve)},db=(A,$,j,ce,Me,Ve)=>{$.collapse(j.dom,ce),$.extend(Me.dom,Ve)},Yd=(A,$)=>Xk(A,$).match({ltr:(j,ce,Me,Ve)=>{Nx(A,j,ce,Me,Ve)},rtl:(j,ce,Me,Ve)=>{Ni(A).each(nt=>{if(nt.setBaseAndExtent)nt.setBaseAndExtent(j.dom,ce,Me.dom,Ve);else if(nt.extend)try{db(A,nt,j,ce,Me,Ve)}catch{Nx(A,Me,Ve,j,ce)}else Nx(A,Me,Ve,j,ce)})}}),Bx=(A,$,j,ce,Me)=>{const Ve=Fr($,j,ce,Me);Yd(A,Ve)},Qx=(A,$,j)=>{const ce=GE($,j);Yd(A,ce)},G0=A=>{if(A.rangeCount>0){const $=A.getRangeAt(0),j=A.getRangeAt(A.rangeCount-1);return E.some(N0.create(zt.fromDom($.startContainer),$.startOffset,zt.fromDom(j.endContainer),j.endOffset))}else return E.none()},cA=A=>{if(A.anchorNode===null||A.focusNode===null)return G0(A);{const $=zt.fromDom(A.anchorNode),j=zt.fromDom(A.focusNode);return Lm($,A.anchorOffset,j,A.focusOffset)?E.some(N0.create($,A.anchorOffset,j,A.focusOffset)):G0(A)}},hb=(A,$,j=!0)=>{const Me=(j?Hk:Tx)(A,$);If(A,Me)},cT=A=>Ni(A).filter($=>$.rangeCount>0).bind(cA),uT=A=>cT(A).map($=>Wg.exact($.start,$.soffset,$.finish,$.foffset)),jE=(A,$)=>{const j=Yw(A,$);return $E(j)},Xd=(A,$,j)=>XE(A,$,j),Fx=A=>{Ni(A).each($=>$.removeAllRanges())},j0=A=>({elementFromPoint:(jn,io)=>zt.fromPoint(zt.fromDom(A.document),jn,io),getRect:jn=>jn.dom.getBoundingClientRect(),getRangedRect:(jn,io,$o,os)=>{const Va=Wg.exact(jn,io,$o,os);return jE(A,Va)},getSelection:()=>uT(A).map(jn=>Xw(A,jn)),fromSitus:jn=>{const io=Wg.relative(jn.start,jn.finish);return Xw(A,io)},situsFromPoint:(jn,io)=>Xd(A,jn,io).map($o=>Gk.create($o.start,$o.soffset,$o.finish,$o.foffset)),clearSelection:()=>{Fx(A)},collapseSelection:(jn=!1)=>{uT(A).each(io=>io.fold($o=>$o.collapse(jn),($o,os)=>{const Va=jn?$o:os;Qx(A,Va,Va)},($o,os,Va,ml)=>{const bi=jn?$o:Va,du=jn?os:ml;Bx(A,bi,du,bi,du)}))},setSelection:jn=>{Bx(A,jn.start,jn.soffset,jn.finish,jn.foffset)},setRelativeSelection:(jn,io)=>{Qx(A,jn,io)},selectNode:jn=>{hb(A,jn,!1)},selectContents:jn=>{hb(A,jn)},getInnerHeight:()=>A.innerHeight,getScrollY:()=>UE(zt.fromDom(A.document)).top,scrollBy:(jn,io)=>{X0(jn,io,zt.fromDom(A.document))}}),jl=(A,$)=>({rows:A,cols:$}),Xi=(A,$,j,ce)=>{const Me=j0(A),Ve=zU(Me,$,j,ce);return{clearstate:Ve.clearstate,mousedown:Ve.mousedown,mouseover:Ve.mouseover,mouseup:Ve.mouseup}},Vx=A=>xi(A,it).exists(Bd),mb=(A,$)=>Vx(A)||Vx($),zx=(A,$,j,ce)=>{const Me=j0(A),Ve=()=>(ce.clear($),E.none());return{keydown:(_t,Kt,Cn,ir,$r,Rr)=>{const Kn=_t.raw,Ir=Kn.which,jn=Kn.shiftKey===!0;return wm($,ce.selectedSelector).fold(()=>(hv(Ir)&&!jn&&ce.clearBeforeUpdate($),hv(Ir)&&jn&&!mb(Kt,ir)?E.none:Lx(Ir)&&jn?N(sA,Me,$,j,Dx,ir,Kt,ce.selectRange):$x(Ir)&&jn?N(sA,Me,$,j,Y0,ir,Kt,ce.selectRange):Lx(Ir)?N(Wd,Me,j,Dx,ir,Kt,oT):$x(Ir)?N(Wd,Me,j,Y0,ir,Kt,dv):E.none),$o=>{const os=Va=>()=>te(Va,bi=>IE(bi.rows,bi.cols,$,$o,ce)).fold(()=>Kp($,ce.firstSelectedSelector,ce.lastSelectedSelector).map(bi=>{const du=Lx(Ir)||Rr.isForward(Ir)?_l.after:_l.before;return Me.setRelativeSelection(_l.on(bi.first,0),du(bi.table)),ce.clear($),I0.create(E.none(),!0)}),bi=>E.some(I0.create(E.none(),!0)));return hv(Ir)&&jn&&!mb(Kt,ir)?E.none:Lx(Ir)&&jn?os([jl(1,0)]):$x(Ir)&&jn?os([jl(-1,0)]):Rr.isBackward(Ir)&&jn?os([jl(0,-1),jl(-1,0)]):Rr.isForward(Ir)&&jn?os([jl(0,1),jl(1,0)]):hv(Ir)&&!jn?Ve:E.none})()},keyup:(_t,Kt,Cn,ir,$r)=>wm($,ce.selectedSelector).fold(()=>{const Rr=_t.raw,Kn=Rr.which;return Rr.shiftKey===!0&&hv(Kn)&&mb(Kt,ir)?Cx($,j,Kt,Cn,ir,$r,ce.selectRange):E.none()},E.none)}},gb=(A,$,j,ce)=>{const Me=j0(A);return(Ve,nt)=>{ce.clearBeforeUpdate($),rd(Ve,nt,j).each(Ot=>{const _t=Ot.boxes.getOr([]);ce.selectRange($,_t,Ot.start,Ot.finish),Me.selectContents(nt),Me.collapseSelection()})}},pb=(A,$)=>{const j=Pt(A,$);return j===void 0||j===""?[]:j.split(" ")},q0=(A,$,j)=>{const Me=pb(A,$).concat([j]);return dt(A,$,Me.join(" ")),!0},uA=(A,$,j)=>{const ce=Be(pb(A,$),Me=>Me!==j);return ce.length>0?dt(A,$,ce.join(" ")):nn(A,$),!1},vb=A=>A.dom.classList!==void 0,fA=A=>pb(A,"class"),dA=(A,$)=>q0(A,"class",$),hA=(A,$)=>uA(A,"class",$),Nf=(A,$)=>{vb(A)?A.dom.classList.add($):dA(A,$)},ic=A=>{(vb(A)?A.dom.classList:fA(A)).length===0&&nn(A,"class")},cd=(A,$)=>{vb(A)?A.dom.classList.remove($):hA(A,$),ic(A)},fu=(A,$)=>vb(A)&&A.dom.classList.contains($),yb=(A,$)=>{ee($,j=>{cd(A,j)})},Zx=A=>$=>{Nf($,A)},mA=A=>$=>{yb($,A)},Im={byClass:A=>{const $=Zx(A.selected),j=mA([A.selected,A.lastSelected,A.firstSelected]),ce=Ve=>{const nt=zi(Ve,A.selectedSelector);ee(nt,j)};return{clearBeforeUpdate:ce,clear:ce,selectRange:(Ve,nt,Ot,_t)=>{ce(Ve),ee(nt,$),Nf(Ot,A.firstSelected),Nf(_t,A.lastSelected)},selectedSelector:A.selectedSelector,firstSelectedSelector:A.firstSelectedSelector,lastSelectedSelector:A.lastSelectedSelector}},byAttr:(A,$,j)=>{const ce=_t=>{nn(_t,A.selected),nn(_t,A.firstSelected),nn(_t,A.lastSelected)},Me=_t=>{dt(_t,A.selected,"1")},Ve=_t=>{nt(_t),j()},nt=_t=>{const Kt=zi(_t,`${A.selectedSelector},${A.firstSelectedSelector},${A.lastSelectedSelector}`);ee(Kt,ce)};return{clearBeforeUpdate:nt,clear:Ve,selectRange:(_t,Kt,Cn,ir)=>{Ve(_t),ee(Kt,Me),dt(Cn,A.firstSelected,"1"),dt(ir,A.lastSelected,"1"),$(Kt,Cn,ir)},selectedSelector:A.selectedSelector,firstSelectedSelector:A.firstSelectedSelector,lastSelectedSelector:A.lastSelectedSelector}}},Ob=(A,$,j,ce)=>{switch(A.tag){case"none":return $();case"single":return ce(A.element);case"multiple":return j(A.elements)}},fT=()=>({tag:"none"}),gA=A=>({tag:"multiple",elements:A}),pA=A=>({tag:"single",element:A}),dT=(A,$,j)=>({get:()=>JS(A(),j).fold(()=>$().fold(fT,pA),gA)}),Hx=(A,$)=>{const j=A.slice(0,$[$.length-1].row+1),ce=ni(j);return Le(ce,Me=>{const Ve=Me.cells.slice(0,$[$.length-1].column+1);return fe(Ve,nt=>nt.element)})},ka=(A,$)=>{const j=A.slice($[0].row+$[0].rowspan-1,A.length),ce=ni(j);return Le(ce,Me=>{const Ve=Me.cells.slice($[0].column+$[0].colspan-1,Me.cells.length);return fe(Ve,nt=>nt.element)})},Nm=(A,$,j)=>{const ce=hs.fromTable(A);return Eg(ce,$).map(Ve=>{const nt=v0(ce,j,!1),{rows:Ot}=Hi(nt),_t=Hx(Ot,Ve),Kt=ka(Ot,Ve);return{upOrLeftCells:_t,downOrRightCells:Kt}})},vA=(A,$,j,ce,Me,Ve,nt)=>({target:A,x:$,y:j,stop:ce,prevent:Me,kill:Ve,raw:nt}),hT=A=>{const $=zt.fromDom(Dr(A).getOr(A.target)),j=()=>A.stopPropagation(),ce=()=>A.preventDefault(),Me=T(ce,j);return vA($,A.clientX,A.clientY,j,ce,Me,A)},mT=(A,$)=>j=>{A(j)&&$(hT(j))},mv=(A,$,j,ce,Me)=>{const Ve=mT(j,ce);return A.dom.addEventListener($,Ve,Me),{unbind:N(pT,A,$,Ve,Me)}},gT=(A,$,j,ce)=>mv(A,$,j,ce,!1),pT=(A,$,j,ce)=>{A.dom.removeEventListener($,j,ce)},KE=B,K0=(A,$,j)=>gT(A,$,KE,j),J0=hT,vT=A=>!fu(zt.fromDom(A.target),"ephox-snooker-resizer-bar"),yT=(A,$)=>{const j=dT(()=>zt.fromDom(A.getBody()),()=>Ly(ef(A),Oh(A)),Jp.selectedSelector),ce=(_t,Kt,Cn)=>{Oc(Kt).each($r=>{const Rr=$i(A),Kn=js(w,zt.fromDom(A.getDoc()),Rr),Ir=$f(A),jn=Nm($r,{selection:Ir},Kn);iE(A,_t,Kt,Cn,jn)})},Me=()=>lE(A),Ve=Im.byAttr(Jp,ce,Me);return A.on("init",_t=>{const Kt=A.getWin(),Cn=FO(A),ir=Oh(A),$r=()=>{const Oa=A.selection,Dc=zt.fromDom(Oa.getStart()),ql=zt.fromDom(Oa.getEnd());Ca(Oc,[Dc,ql]).fold(()=>Ve.clear(Cn),w)},Rr=Xi(Kt,Cn,ir,Ve),Kn=zx(Kt,Cn,ir,Ve),Ir=gb(Kt,Cn,ir,Ve),jn=Oa=>Oa.raw.shiftKey===!0;A.on("TableSelectorChange",Oa=>Ir(Oa.start,Oa.finish));const io=(Oa,Dc)=>{jn(Oa)&&(Dc.kill&&Oa.kill(),Dc.selection.each(ql=>{const uf=Wg.relative(ql.start,ql.finish),Ru=Yw(Kt,uf);A.selection.setRng(Ru)}))},$o=Oa=>{const Dc=J0(Oa);if(Dc.raw.shiftKey&&hv(Dc.raw.which)){const ql=A.selection.getRng(),uf=zt.fromDom(ql.startContainer),Ru=zt.fromDom(ql.endContainer);Kn.keyup(Dc,uf,ql.startOffset,Ru,ql.endOffset).each(jg=>{io(Dc,jg)})}},os=Oa=>{const Dc=J0(Oa);$.hide();const ql=A.selection.getRng(),uf=zt.fromDom(ql.startContainer),Ru=zt.fromDom(ql.endContainer),jg=ZS(HE,aA)(zt.fromDom(A.selection.getStart()));Kn.keydown(Dc,uf,ql.startOffset,Ru,ql.endOffset,jg).each(Gc=>{io(Dc,Gc)}),$.show()},Va=Oa=>Oa.button===0,ml=Oa=>Oa.buttons===void 0?!0:(Oa.buttons&1)!==0,bi=Oa=>{Rr.clearstate()},du=Oa=>{Va(Oa)&&vT(Oa)&&Rr.mousedown(J0(Oa))},pv=Oa=>{ml(Oa)&&vT(Oa)&&Rr.mouseover(J0(Oa))},vv=Oa=>{Va(Oa)&&vT(Oa)&&Rr.mouseup(J0(Oa))},jx=(()=>{const Oa=cb(zt.fromDom(Cn)),Dc=cb(0);return{touchEnd:uf=>{const Ru=zt.fromDom(uf.target);if(He("td")(Ru)||He("th")(Ru)){const jg=Oa.get(),Gc=Dc.get();or(jg,Ru)&&uf.timeStamp-Gc<300&&(uf.preventDefault(),Ir(Ru,Ru))}Oa.set(Ru),Dc.set(uf.timeStamp)}}})();A.on("dragstart",bi),A.on("mousedown",du),A.on("mouseover",pv),A.on("mouseup",vv),A.on("touchend",jx.touchEnd),A.on("keyup",$o),A.on("keydown",os),A.on("NodeChange",$r)}),A.on("PreInit",()=>{A.serializer.addTempAttr(Jp.firstSelected),A.serializer.addTempAttr(Jp.lastSelected)}),{getSelectedCells:()=>Ob(j.get(),M([]),_t=>fe(_t,Kt=>Kt.dom),_t=>[_t.dom]),clearSelectedCells:_t=>Ve.clear(zt.fromDom(_t))}},ud=A=>{let $=[];return{bind:Ve=>{if(Ve===void 0)throw new Error("Event bind error: undefined handler");$.push(Ve)},unbind:Ve=>{$=Be($,nt=>nt!==Ve)},trigger:(...Ve)=>{const nt={};ee(A,(Ot,_t)=>{nt[Ot]=Ve[_t]}),ee($,Ot=>{Ot(nt)})}}},Yg=A=>{const $=Se(A,ce=>({bind:ce.bind,unbind:ce.unbind})),j=Se(A,ce=>ce.trigger);return{registry:$,trigger:j}},JE=(A,$)=>{let j=null;const ce=()=>{p(j)||(clearTimeout(j),j=null)};return{cancel:ce,throttle:(...Ve)=>{ce(),j=setTimeout(()=>{j=null,A.apply(null,Ve)},$)}}},xb=A=>A.slice(0).sort(),e_=(A,$)=>{throw new Error("All required keys ("+xb(A).join(", ")+") were not specified. Specified keys were: "+xb($).join(", ")+".")},_u=A=>{throw new Error("Unsupported keys for object: "+xb(A).join(", "))},lc=(A,$)=>{if(!u($))throw new Error("The "+A+" fields must be an array. Was: "+$+".");ee($,j=>{if(!f(j))throw new Error("The value "+j+" in the "+A+" fields was not a string.")})},gv=(A,$)=>{throw new Error("All values need to be of type: "+$+". Keys ("+xb(A).join(", ")+") were not.")},c9=A=>{const $=xb(A);G($,(ce,Me)=>Me<$.length-1&&ce===$[Me+1]).each(ce=>{throw new Error("The field: "+ce+" occurs more than once in the combined fields: ["+$.join(", ")+"].")})},yA=(A,$)=>t_(A,$,{validate:k,label:"function"}),t_=(A,$,j)=>{if($.length===0)throw new Error("You must specify at least one required field.");return lc("required",$),c9($),ce=>{const Me=se(ce);ke($,Ot=>me(Me,Ot))||e_($,Me),A($,Me);const nt=Be($,Ot=>!j.validate(ce[Ot],Ot));return nt.length>0&&gv(nt,j.label),ce}},xs=(A,$)=>{const j=Be($,ce=>!me(A,ce));j.length>0&&_u(j)},bT=A=>yA(xs,A),bA=bT(["compare","extract","mutate","sink"]),OT=bT(["element","start","stop","destroy"]),n_=bT(["forceDrop","drop","move","delayDrop"]),r_=()=>{let A=E.none();const $=()=>{A=E.none()},j=(Ve,nt)=>{const Ot=A.map(_t=>Ve.compare(_t,nt));return A=E.some(nt),Ot},ce=(Ve,nt)=>{nt.extract(Ve).each(_t=>{j(nt,_t).each(Cn=>{Me.trigger.move(Cn)})})},Me=Yg({move:ud(["info"])});return{onEvent:ce,reset:$,events:Me.registry}},OA=()=>{const A=Yg({move:ud(["info"])});return{onEvent:w,reset:w,events:A.registry}},o_=()=>{const A=OA(),$=r_();let j=A;return{on:()=>{j.reset(),j=$},off:()=>{j.reset(),j=A},isOn:()=>j===$,onEvent:(Ot,_t)=>{j.onEvent(Ot,_t)},events:$.events}},Wr=(A,$,j)=>{let ce=!1;const Me=Yg({start:ud([]),stop:ud([])}),Ve=o_(),nt=()=>{Kn.stop(),Ve.isOn()&&(Ve.off(),Me.trigger.stop())},Ot=JE(nt,200),_t=jn=>{Kn.start(jn),Ve.on(),Me.trigger.start()},Kt=jn=>{Ot.cancel(),Ve.onEvent(jn,$)};Ve.events.move.bind(jn=>{$.mutate(A,jn.info)});const Cn=()=>{ce=!0},ir=()=>{ce=!1},$r=()=>ce,Rr=jn=>(...io)=>{ce&&jn.apply(null,io)},Kn=$.sink(n_({forceDrop:nt,drop:Rr(nt),move:Rr(Kt),delayDrop:Rr(Ot.throttle)}),j),Ir=()=>{Kn.destroy()};return{element:Kn.element,go:_t,on:Cn,off:ir,isActive:$r,destroy:Ir,events:Me.registry}},Xg=A=>{const $=A.replace(/\./g,"-");return{resolve:ce=>$+"-"+ce}},Sb=Xg("ephox-dragster").resolve,wb=A=>{const $={layerClass:Sb("blocker"),...A},j=zt.fromTag("div");return dt(j,"role","presentation"),kl(j,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Nf(j,Sb("blocker")),Nf(j,$.layerClass),{element:M(j),destroy:()=>{On(j)}}};var a_=bA({compare:(A,$)=>Xu($.left-A.left,$.top-A.top),extract:A=>E.some(Xu(A.x,A.y)),sink:(A,$)=>{const j=wb($),ce=K0(j.element(),"mousedown",A.forceDrop),Me=K0(j.element(),"mouseup",A.drop),Ve=K0(j.element(),"mousemove",A.move),nt=K0(j.element(),"mouseout",A.delayDrop),Ot=()=>{j.destroy(),Me.unbind(),Ve.unbind(),nt.unbind(),ce.unbind()},_t=Cn=>{Mt(Cn,j.element())},Kt=()=>{On(j.element())};return OT({element:j.element,start:_t,stop:Kt,destroy:Ot})},mutate:(A,$)=>{A.mutate($.left,$.top)}});const SA=(A,$={})=>{var j;const ce=(j=$.mode)!==null&&j!==void 0?j:a_;return Wr(A,ce,$)},Bm=Xg("ephox-snooker").resolve,wA=()=>{const A=Yg({drag:ud(["xDelta","yDelta"])});return{mutate:(j,ce)=>{A.trigger.drag(j,ce)},events:A.registry}},i_=()=>{const A=Yg({drag:ud(["xDelta","yDelta","target"])});let $=E.none();const j=wA();return j.events.drag.bind(Ve=>{$.each(nt=>{A.trigger.drag(Ve.xDelta,Ve.yDelta,nt)})}),{assign:Ve=>{$=E.some(Ve)},get:()=>$,mutate:j.mutate,events:A.registry}},Tb=(A,$,j,ce,Me)=>{const Ve=zt.fromTag("div");return kl(Ve,{position:"absolute",left:$-ce/2+"px",top:j+"px",height:Me+"px",width:ce+"px"}),mt(Ve,{"data-column":A,role:"presentation"}),Ve},l_=(A,$,j,ce,Me)=>{const Ve=zt.fromTag("div");return kl(Ve,{position:"absolute",left:$+"px",top:j-Me/2+"px",height:Me+"px",width:ce+"px"}),mt(Ve,{"data-row":A,role:"presentation"}),Ve},TA=Bm("resizer-bar"),xT=Bm("resizer-rows"),CA=Bm("resizer-cols"),Ux=7,c_=(A,$)=>Le(A.all,(j,ce)=>$(j.element)?[ce]:[]),u_=(A,$)=>{const j=[];return q(A.grid.columns,ce=>{hs.getColumnAt(A,ce).map(Ve=>Ve.element).forall($)&&j.push(ce)}),Be(j,ce=>{const Me=hs.filterItems(A,Ve=>Ve.column===ce);return ke(Me,Ve=>$(Ve.element))})},e1=A=>{const $=zi(A.parent(),"."+TA);ee($,On)},ST=(A,$,j)=>{const ce=A.origin();ee($,Me=>{Me.each(Ve=>{const nt=j(ce,Ve);Nf(nt,TA),Mt(A.parent(),nt)})})},kA=(A,$,j,ce)=>{ST(A,$,(Me,Ve)=>{const nt=Tb(Ve.col,Ve.x-Me.left,j.top-Me.top,Ux,ce);return Nf(nt,CA),nt})},f_=(A,$,j,ce)=>{ST(A,$,(Me,Ve)=>{const nt=l_(Ve.row,j.left-Me.left,Ve.y-Me.top,ce,Ux);return Nf(nt,xT),nt})},d_=(A,$,j,ce,Me)=>{const Ve=Tu(j),nt=$.isResizable,Ot=ce.length>0?Xr.positions(ce,j):[],_t=Ot.length>0?c_(A,nt):[],Kt=Be(Ot,(Rr,Kn)=>ae(_t,Ir=>Kn===Ir));f_($,Kt,Ve,Mf(j));const Cn=Me.length>0?vi.positions(Me,j):[],ir=Cn.length>0?u_(A,nt):[],$r=Be(Cn,(Rr,Kn)=>ae(ir,Ir=>Kn===Ir));kA($,$r,Ve,vm(j))},Wx=(A,$)=>{if(e1(A),A.isResizable($)){const j=hs.fromTable($),ce=Yp(j),Me=gm(j);d_(j,A,$,ce,Me)}},Dh=(A,$)=>{const j=zi(A.parent(),"."+TA);ee(j,$)},Yx=A=>{Dh(A,$=>{Ya($,"display","none")})},Ys=A=>{Dh(A,$=>{Ya($,"display","block")})},h_=A=>fu(A,xT),Qm=A=>fu(A,CA),$h=Bm("resizer-bar-dragging"),Xx=A=>{const $=i_(),j=SA($,{});let ce=E.none();const Me=(Kn,Ir)=>E.from(Pt(Kn,Ir));$.events.drag.bind(Kn=>{Me(Kn.target,"data-row").each(Ir=>{const jn=Cf(Kn.target,"top");Ya(Kn.target,"top",jn+Kn.yDelta+"px")}),Me(Kn.target,"data-column").each(Ir=>{const jn=Cf(Kn.target,"left");Ya(Kn.target,"left",jn+Kn.xDelta+"px")})});const Ve=(Kn,Ir)=>{const jn=Cf(Kn,Ir),io=Ra(Kn,"data-initial-"+Ir,0);return jn-io};j.events.stop.bind(()=>{$.get().each(Kn=>{ce.each(Ir=>{Me(Kn,"data-row").each(jn=>{const io=Ve(Kn,"top");nn(Kn,"data-initial-top"),Rr.trigger.adjustHeight(Ir,io,parseInt(jn,10))}),Me(Kn,"data-column").each(jn=>{const io=Ve(Kn,"left");nn(Kn,"data-initial-left"),Rr.trigger.adjustWidth(Ir,io,parseInt(jn,10))}),Wx(A,Ir)})})});const nt=(Kn,Ir)=>{Rr.trigger.startAdjust(),$.assign(Kn),dt(Kn,"data-initial-"+Ir,Cf(Kn,Ir)),Nf(Kn,$h),Ya(Kn,"opacity","0.2"),j.go(A.parent())},Ot=K0(A.parent(),"mousedown",Kn=>{h_(Kn.target)&&nt(Kn.target,"top"),Qm(Kn.target)&&nt(Kn.target,"left")}),_t=Kn=>or(Kn,A.view()),Kt=Kn=>Ka(Kn,"table",_t).filter(Bd),Cn=K0(A.view(),"mouseover",Kn=>{Kt(Kn.target).fold(()=>{oa(Kn.target)&&e1(A)},Ir=>{j.isActive()&&(ce=E.some(Ir),Wx(A,Ir))})}),ir=()=>{Ot.unbind(),Cn.unbind(),j.destroy(),e1(A)},$r=Kn=>{Wx(A,Kn)},Rr=Yg({adjustHeight:ud(["table","delta","row"]),adjustWidth:ud(["table","delta","column"]),startAdjust:ud([])});return{destroy:ir,refresh:$r,on:j.on,off:j.off,hideBars:N(Yx,A),showBars:N(Ys,A),events:Rr.registry}},Gx={create:(A,$,j)=>{const ce=Xr,Me=vi,Ve=Xx(A),nt=Yg({beforeResize:ud(["table","type"]),afterResize:ud(["table","type"]),startDrag:ud([])});return Ve.events.adjustHeight.bind(Ot=>{const _t=Ot.table;nt.trigger.beforeResize(_t,"row");const Kt=ce.delta(Ot.delta,_t);dw(_t,Kt,Ot.row,ce),nt.trigger.afterResize(_t,"row")}),Ve.events.startAdjust.bind(Ot=>{nt.trigger.startDrag()}),Ve.events.adjustWidth.bind(Ot=>{const _t=Ot.table;nt.trigger.beforeResize(_t,"col");const Kt=Me.delta(Ot.delta,_t),Cn=j(_t);Fy(_t,Kt,Ot.column,$,Cn),nt.trigger.afterResize(_t,"col")}),{on:Ve.on,off:Ve.off,refreshBars:Ve.refresh,hideBars:Ve.hideBars,showBars:Ve.showBars,destroy:Ve.destroy,events:nt.registry}}},wT={only:(A,$)=>{const j=gt(A)?sr(A):A;return{parent:M(j),view:M(A),origin:M(Xu(0,0)),isResizable:$}},detached:(A,$,j)=>{const ce=()=>Tu($);return{parent:M($),view:M(A),origin:ce,isResizable:j}},body:(A,$,j)=>({parent:M($),view:M(A),origin:M(Xu(0,0)),isResizable:j})},m_=()=>{const A=zt.fromTag("div");return kl(A,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Mt(Ri(),A),A},TT=(A,$)=>A.inline?wT.body(zt.fromDom(A.getBody()),m_(),$):wT.only(zt.fromDom(A.getDoc()),$),g_=(A,$)=>{A.inline&&On($.parent())},Ps=A=>x(A)&&A.nodeName==="TABLE",cf="bar-",Gg=A=>Pt(A,"data-mce-resize")!=="false",p_=A=>{const $=hs.fromTable(A);hs.hasColumns($)||ee(Af(A),j=>{const ce=Zi(j,"width");Ya(j,"width",ce),nn(j,"width")})},n1=A=>{const $=W0(),j=W0(),ce=W0();let Me,Ve;const nt=Kn=>_c(A,Kn),Ot=()=>Hl(A)?ow():sk(),_t=Kn=>h0(Kn).columns,Kt=(Kn,Ir,jn)=>{const io=Fc(Ir,"e");if(Ve===""&&Lf(Kn),jn!==Me&&Ve!==""){Ya(Kn,"width",Ve);const $o=Ot(),os=nt(Kn),Va=Hl(A)||io?_t(Kn)-1:0;Fy(Kn,jn-Me,Va,$o,os)}else if(VO(Ve)){const $o=parseFloat(Ve.replace("%","")),os=jn*$o/Me;Ya(Kn,"width",os+"%")}My(Ve)&&p_(Kn)},Cn=()=>{j.on(Kn=>{Kn.destroy()}),ce.on(Kn=>{g_(A,Kn)})};return A.on("init",()=>{const Kn=TT(A,Gg);if(ce.set(Kn),Uc(A)&&Wl(A)){const Ir=Ot(),jn=Gx.create(Kn,Ir,nt);jn.on(),jn.events.startDrag.bind(io=>{$.set(A.selection.getRng())}),jn.events.beforeResize.bind(io=>{const $o=io.table.dom;_w(A,$o,kg($o),Ag($o),cf+io.type)}),jn.events.afterResize.bind(io=>{const $o=io.table,os=$o.dom;Qd($o),$.on(Va=>{A.selection.setRng(Va),A.focus()}),cE(A,os,kg(os),Ag(os),cf+io.type),A.undoManager.add()}),j.set(jn)}}),A.on("ObjectResizeStart",Kn=>{const Ir=Kn.target;if(Ps(Ir)){const jn=zt.fromDom(Ir);ee(A.dom.select(".mce-clonedresizable"),io=>{A.dom.addClass(io,"mce-"+kc(A)+"-columns")}),!jy(jn)&&Ul(A)?D0(jn):!Gy(jn)&&Df(A)&&Lf(jn),bx(jn)&&Rd(Kn.origin,cf)&&Lf(jn),Me=Kn.width,Ve=Li(A)?"":KC(A,Ir).getOr("")}}),A.on("ObjectResized",Kn=>{const Ir=Kn.target;if(Ps(Ir)){const jn=zt.fromDom(Ir),io=Kn.origin;Rd(io,"corner-")&&Kt(jn,io,Kn.width),Qd(jn),iv(A,jn.dom,Em)}}),A.on("SwitchMode",()=>{j.on(Kn=>{A.mode.isReadOnly()?Kn.hideBars():Kn.showBars()})}),A.on("dragstart dragend",Kn=>{j.on(Ir=>{Kn.type==="dragstart"?(Ir.hideBars(),Ir.off()):(Ir.on(),Ir.showBars())})}),A.on("remove",()=>{Cn()}),{refresh:Kn=>{j.on(Ir=>Ir.refreshBars(zt.fromDom(Kn)))},hide:()=>{j.on(Kn=>Kn.hideBars())},show:()=>{j.on(Kn=>Kn.showBars())}}},Qs=A=>{Yi(A);const $=n1(A),j=yT(A,$),ce=vx(A,$,j);return L0(A,ce),PE(A,ce),NM(A,ce),{getSelectedCells:j.getSelectedCells,clearSelectedCells:j.clearSelectedCells}},v_=A=>({table:Qs(A)});var CT=()=>{t.add("dom",v_)};CT()})();(function(){const t=Object.getPrototypeOf,e=(o,c,g)=>{var S;return g(o,c.prototype)?!0:((S=o.constructor)===null||S===void 0?void 0:S.name)===c.name},r=o=>{const c=typeof o;return o===null?"null":c==="object"&&Array.isArray(o)?"array":c==="object"&&e(o,String,(g,S)=>S.isPrototypeOf(g))?"string":c},a=o=>c=>r(c)===o,i=o=>c=>typeof c===o,d=o=>c=>o===c,f=(o,c)=>u(o)&&e(o,c,(g,S)=>t(g)===S),h=a("string"),u=a("object"),p=o=>f(o,Object),v=a("array"),y=d(null),b=i("boolean"),x=d(void 0),k=o=>o==null,C=o=>!k(o),w=i("function"),T=i("number"),R=(o,c)=>{if(v(o)){for(let g=0,S=o.length;g<S;++g)if(!c(o[g]))return!1;return!0}return!1},M=()=>{},I=o=>()=>o(),V=(o,c)=>(...g)=>o(c.apply(null,g)),N=(o,c)=>g=>o(c(g)),F=o=>()=>o,z=o=>o,U=(o,c)=>o===c;function Q(o,...c){return(...g)=>{const S=c.concat(g);return o.apply(null,S)}}const B=o=>c=>!o(c),E=o=>()=>{throw new Error(o)},W=o=>o(),Y=F(!1),ie=F(!0);class L{constructor(c,g){this.tag=c,this.value=g}static some(c){return new L(!0,c)}static none(){return L.singletonNone}fold(c,g){return this.tag?g(this.value):c()}isSome(){return this.tag}isNone(){return!this.tag}map(c){return this.tag?L.some(c(this.value)):L.none()}bind(c){return this.tag?c(this.value):L.none()}exists(c){return this.tag&&c(this.value)}forall(c){return!this.tag||c(this.value)}filter(c){return!this.tag||c(this.value)?this:L.none()}getOr(c){return this.tag?this.value:c}or(c){return this.tag?this:c}getOrThunk(c){return this.tag?this.value:c()}orThunk(c){return this.tag?this:c()}getOrDie(c){if(this.tag)return this.value;throw new Error(c??"Called getOrDie on None")}static from(c){return C(c)?L.some(c):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(c){this.tag&&c(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const me=Array.prototype.slice,ae=Array.prototype.indexOf,q=Array.prototype.push,fe=(o,c)=>ae.call(o,c),ee=(o,c)=>{const g=fe(o,c);return g===-1?L.none():L.some(g)},be=(o,c)=>fe(o,c)>-1,Te=(o,c)=>{for(let g=0,S=o.length;g<S;g++){const _=o[g];if(c(_,g))return!0}return!1},Be=(o,c)=>{const g=[];for(let S=0;S<o;S++)g.push(c(S));return g},ge=(o,c)=>{const g=[];for(let S=0;S<o.length;S+=c){const _=me.call(o,S,S+c);g.push(_)}return g},ne=(o,c)=>{const g=o.length,S=new Array(g);for(let _=0;_<g;_++){const H=o[_];S[_]=c(H,_)}return S},pe=(o,c)=>{for(let g=0,S=o.length;g<S;g++){const _=o[g];c(_,g)}},G=(o,c)=>{for(let g=o.length-1;g>=0;g--){const S=o[g];c(S,g)}},Oe=(o,c)=>{const g=[],S=[];for(let _=0,H=o.length;_<H;_++){const K=o[_];(c(K,_)?g:S).push(K)}return{pass:g,fail:S}},xe=(o,c)=>{const g=[];for(let S=0,_=o.length;S<_;S++){const H=o[S];c(H,S)&&g.push(H)}return g},Le=(o,c,g)=>(G(o,(S,_)=>{g=c(g,S,_)}),g),ke=(o,c,g)=>(pe(o,(S,_)=>{g=c(g,S,_)}),g),$e=(o,c,g)=>{for(let S=0,_=o.length;S<_;S++){const H=o[S];if(c(H,S))return L.some(H);if(g(H,S))break}return L.none()},Ze=(o,c)=>$e(o,c,Y),De=(o,c)=>{for(let g=0,S=o.length;g<S;g++){const _=o[g];if(c(_,g))return L.some(g)}return L.none()},Ie=o=>{const c=[];for(let g=0,S=o.length;g<S;++g){if(!v(o[g]))throw new Error("Arr.flatten item "+g+" was not an array, input: "+o);q.apply(c,o[g])}return c},re=(o,c)=>Ie(ne(o,c)),ye=(o,c)=>{for(let g=0,S=o.length;g<S;++g){const _=o[g];if(c(_,g)!==!0)return!1}return!0},te=o=>{const c=me.call(o,0);return c.reverse(),c},se=(o,c)=>xe(o,g=>!be(c,g)),ue=(o,c)=>{const g={};for(let S=0,_=o.length;S<_;S++){const H=o[S];g[String(H)]=c(H,S)}return g},oe=o=>[o],Se=(o,c)=>{const g=me.call(o,0);return g.sort(c),g},le=(o,c)=>c>=0&&c<o.length?L.some(o[c]):L.none(),Ce=o=>le(o,0),Qe=o=>le(o,o.length-1),ze=w(Array.from)?Array.from:o=>me.call(o),Xe=(o,c)=>{for(let g=0;g<o.length;g++){const S=c(o[g],g);if(S.isSome())return S}return L.none()},ct=Object.keys,pt=Object.hasOwnProperty,Ye=(o,c)=>{const g=ct(o);for(let S=0,_=g.length;S<_;S++){const H=g[S],K=o[H];c(K,H)}},je=(o,c)=>et(o,(g,S)=>({k:S,v:c(g,S)})),et=(o,c)=>{const g={};return Ye(o,(S,_)=>{const H=c(S,_);g[H.k]=H.v}),g},yt=o=>(c,g)=>{o[g]=c},ft=(o,c,g,S)=>{Ye(o,(_,H)=>{(c(_,H)?g:S)(_,H)})},tt=(o,c)=>{const g={},S={};return ft(o,c,yt(g),yt(S)),{t:g,f:S}},wt=(o,c)=>{const g={};return ft(o,c,yt(g),M),g},Xt=(o,c)=>{const g=[];return Ye(o,(S,_)=>{g.push(c(S,_))}),g},Gt=(o,c)=>{const g=ct(o);for(let S=0,_=g.length;S<_;S++){const H=g[S],K=o[H];if(c(K,H,o))return L.some(K)}return L.none()},Nt=o=>Xt(o,z),Bt=(o,c)=>vn(o,c)?L.from(o[c]):L.none(),vn=(o,c)=>pt.call(o,c),En=(o,c)=>vn(o,c)&&o[c]!==void 0&&o[c]!==null,ln=(o,c,g=U)=>o.exists(S=>g(S,c)),Yn=(o,c,g=U)=>Xn(o,c,g).getOr(o.isNone()&&c.isNone()),an=o=>{const c=[],g=S=>{c.push(S)};for(let S=0;S<o.length;S++)o[S].each(g);return c},wn=o=>{const c=[];for(let g=0;g<o.length;g++){const S=o[g];if(S.isSome())c.push(S.getOrDie());else return L.none()}return L.some(c)},Xn=(o,c,g)=>o.isSome()&&c.isSome()?L.some(g(o.getOrDie(),c.getOrDie())):L.none(),Un=(o,c,g,S)=>o.isSome()&&c.isSome()&&g.isSome()?L.some(S(o.getOrDie(),c.getOrDie(),g.getOrDie())):L.none(),Sn=(o,c)=>o!=null?L.some(c(o)):L.none(),it=(o,c)=>o?L.some(c):L.none(),ut=(o,c)=>o+c,xt=(o,c)=>o.substring(c),gt=(o,c,g)=>c===""||o.length>=c.length&&o.substr(g,g+c.length)===c,Dt=(o,c)=>dt(o,c)?xt(o,c.length):o,He=(o,c)=>mt(o,c)?o:ut(o,c),at=(o,c,g=0,S)=>{const _=o.indexOf(c,g);return _!==-1?x(S)?!0:_+c.length<=S:!1},dt=(o,c)=>gt(o,c,0),mt=(o,c)=>gt(o,c,o.length-c.length),Pt=(o=>c=>c.replace(o,""))(/^\s+|\s+$/g),dn=o=>o.length>0,nn=o=>!dn(o),Wt=o=>o.style!==void 0&&w(o.style.getPropertyValue),Rt=(o,c)=>{const S=(c||document).createElement("div");if(S.innerHTML=o,!S.hasChildNodes()||S.childNodes.length>1){const _="HTML does not have a single root node";throw console.error(_,o),new Error(_)}return nr(S.childNodes[0])},fn=(o,c)=>{const S=(c||document).createElement(o);return nr(S)},Hn=(o,c)=>{const S=(c||document).createTextNode(o);return nr(S)},nr=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},zt={fromHtml:Rt,fromTag:fn,fromText:Hn,fromDom:nr,fromPoint:(o,c,g)=>L.from(o.dom.elementFromPoint(c,g)).map(nr)},vr=typeof window<"u"?window:Function("return this;")(),Wn=(o,c)=>{let g=c??vr;for(let S=0;S<o.length&&g!==void 0&&g!==null;++S)g=g[o[S]];return g},Br=(o,c)=>{const g=o.split(".");return Wn(g,c)},kr=(o,c)=>Br(o,c),or=(o,c)=>{const g=kr(o,c);if(g==null)throw new Error(o+" not available on this browser");return g},jr=Object.getPrototypeOf,_r=o=>or("HTMLElement",o),Rn=o=>{const c=Br("ownerDocument.defaultView",o);return u(o)&&(_r(c).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(jr(o).constructor.name))},xr=9,sr=11,Sr=1,ao=3,Oo=o=>o.dom.nodeName.toLowerCase(),wr=o=>o.dom.nodeType,Fe=o=>c=>wr(c)===o,Ee=o=>St(o)&&Rn(o.dom),St=Fe(Sr),Ct=Fe(ao),Lt=Fe(xr),Ft=Fe(sr),Ht=o=>c=>St(c)&&Oo(c)===o,$t=(o,c)=>{const g=o.dom;if(g.nodeType!==Sr)return!1;{const S=g;if(S.matches!==void 0)return S.matches(c);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(c);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(c);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")}},Mt=o=>o.nodeType!==Sr&&o.nodeType!==xr&&o.nodeType!==sr||o.childElementCount===0,en=(o,c)=>{const g=c===void 0?document:c.dom;return Mt(g)?[]:ne(g.querySelectorAll(o),zt.fromDom)},un=(o,c)=>{const g=c===void 0?document:c.dom;return Mt(g)?L.none():L.from(g.querySelector(o)).map(zt.fromDom)},Jt=(o,c)=>o.dom===c.dom,rn=(o,c)=>{const g=o.dom,S=c.dom;return g===S?!1:g.contains(S)},Tn=o=>zt.fromDom(o.dom.ownerDocument),On=o=>Lt(o)?o:Tn(o),pn=o=>zt.fromDom(On(o).dom.documentElement),Jn=o=>zt.fromDom(On(o).dom.defaultView),Fn=o=>L.from(o.dom.parentNode).map(zt.fromDom),zr=o=>Fn(o),dr=o=>L.from(o.dom.parentElement).map(zt.fromDom),Hr=(o,c)=>{const g=w(c)?c:Y;let S=o.dom;const _=[];for(;S.parentNode!==null&&S.parentNode!==void 0;){const H=S.parentNode,K=zt.fromDom(H);if(_.push(K),g(K)===!0)break;S=H}return _},ar=o=>L.from(o.dom.offsetParent).map(zt.fromDom),ur=o=>L.from(o.dom.nextSibling).map(zt.fromDom),qr=o=>ne(o.dom.childNodes,zt.fromDom),to=(o,c)=>{const g=o.dom.childNodes;return L.from(g[c]).map(zt.fromDom)},ko=o=>to(o,0),Es=(o,c)=>({element:o,offset:c}),So=(o,c)=>{const g=qr(o);return g.length>0&&c<g.length?Es(g[c],0):Es(o,c)},Ko=o=>Ft(o)&&C(o.dom.host),ds=w(Element.prototype.attachShadow)&&w(Node.prototype.getRootNode),qs=F(ds),es=ds?o=>zt.fromDom(o.dom.getRootNode()):On,Xs=o=>Ko(o)?o:zt.fromDom(On(o).dom.body),Wa=o=>vc(o).isSome(),vc=o=>{const c=es(o);return Ko(c)?L.some(c):L.none()},ii=o=>zt.fromDom(o.dom.host),tu=o=>{if(qs()&&C(o.target)){const c=zt.fromDom(o.target);if(St(c)&&Na(c)&&o.composed&&o.composedPath){const g=o.composedPath();if(g)return Ce(g)}}return L.from(o.target)},Na=o=>C(o.dom.shadowRoot),Js=o=>{const c=Ct(o)?o.dom.parentNode:o.dom;if(c==null||c.ownerDocument===null)return!1;const g=c.ownerDocument;return vc(zt.fromDom(c)).fold(()=>g.body.contains(c),N(Js,ii))},ya=()=>ra(zt.fromDom(document)),ra=o=>{const c=o.dom.body;if(c==null)throw new Error("Body is not available yet");return zt.fromDom(c)},nu=(o,c,g)=>{if(h(g)||b(g)||T(g))o.setAttribute(c,g+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",g,":: Element ",o),new Error("Attribute value was not simple")},Dr=(o,c,g)=>{nu(o.dom,c,g)},yc=(o,c)=>{const g=o.dom;Ye(c,(S,_)=>{nu(g,_,S)})},oa=(o,c)=>{const g=o.dom.getAttribute(c);return g===null?void 0:g},Ri=(o,c)=>L.from(oa(o,c)),Md=(o,c)=>{const g=o.dom;return g&&g.hasAttribute?g.hasAttribute(c):!1},sa=(o,c)=>{o.dom.removeAttribute(c)},bu=o=>ke(o.dom.attributes,(c,g)=>(c[g.name]=g.value,c),{}),Ed=(o,c,g)=>{if(!h(g))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",g,":: Element ",o),new Error("CSS value must be a string: "+g);Wt(o)&&o.style.setProperty(c,g)},Ou=(o,c)=>{Wt(o)&&o.style.removeProperty(c)},Po=(o,c,g)=>{const S=o.dom;Ed(S,c,g)},zi=(o,c)=>{const g=o.dom;Ye(c,(S,_)=>{Ed(g,_,S)})},fr=(o,c)=>{const g=o.dom;Ye(c,(S,_)=>{S.fold(()=>{Ou(g,_)},H=>{Ed(g,_,H)})})},Qa=(o,c)=>{const g=o.dom,_=window.getComputedStyle(g).getPropertyValue(c);return _===""&&!Js(o)?xi(g,c):_},xi=(o,c)=>Wt(o)?o.style.getPropertyValue(c):"",za=(o,c)=>{const g=o.dom,S=xi(g,c);return L.from(S).filter(_=>_.length>0)},Fa=o=>{const c={},g=o.dom;if(Wt(g))for(let S=0;S<g.style.length;S++){const _=g.style.item(S);c[_]=g.style[_]}return c},yl=(o,c,g)=>{const S=zt.fromTag(o);return Po(S,c,g),za(S,c).isSome()},Zo=(o,c)=>{const g=o.dom;Ou(g,c),ln(Ri(o,"style").map(Pt),"")&&sa(o,"style")},li=o=>o.dom.offsetWidth,Ka=(o,c)=>{const g=(ve,Ae)=>{if(!T(Ae)&&!Ae.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+Ae);const Ne=ve.dom;Wt(Ne)&&(Ne.style[o]=Ae+"px")},S=ve=>{const Ae=c(ve);if(Ae<=0||Ae===null){const Ne=Qa(ve,o);return parseFloat(Ne)||0}return Ae},_=S,H=(ve,Ae)=>ke(Ae,(Ne,Ue)=>{const Je=Qa(ve,Ue),st=Je===void 0?0:parseInt(Je,10);return isNaN(st)?Ne:Ne+st},0);return{set:g,get:S,getOuter:_,aggregate:H,max:(ve,Ae,Ne)=>{const Ue=H(ve,Ne);return Ae>Ue?Ae-Ue:0}}},Gf=Ka("height",o=>{const c=o.dom;return Js(o)?c.getBoundingClientRect().height:c.offsetHeight}),Za=o=>Gf.get(o),Vu=o=>Gf.getOuter(o),zu=(o,c)=>{const g=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],S=Gf.max(o,c,g);Po(o,"max-height",S+"px")},_d=(o,c)=>({left:o,top:c,translate:(S,_)=>_d(o+S,c+_)}),Is=_d,Rd=o=>{const c=o.getBoundingClientRect();return Is(c.left,c.top)},Fc=(o,c)=>o!==void 0?o:c!==void 0?c:0,Cl=o=>{const c=o.dom.ownerDocument,g=c.body,S=c.defaultView,_=c.documentElement;if(g===o.dom)return Is(g.offsetLeft,g.offsetTop);const H=Fc(S==null?void 0:S.pageYOffset,_.scrollTop),K=Fc(S==null?void 0:S.pageXOffset,_.scrollLeft),ve=Fc(_.clientTop,g.clientTop),Ae=Fc(_.clientLeft,g.clientLeft);return mh(o).translate(K-Ae,H-ve)},mh=o=>{const c=o.dom,S=c.ownerDocument.body;return S===c?Is(S.offsetLeft,S.offsetTop):Js(o)?Rd(c):Is(0,0)},lm=Ka("width",o=>o.dom.offsetWidth),Vs=(o,c)=>lm.set(o,c),Si=o=>lm.get(o),Tf=o=>lm.getOuter(o),QS=(o,c)=>{const g=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],S=lm.max(o,c,g);Po(o,"max-width",S+"px")},Ya=o=>{let c=!1,g;return(...S)=>(c||(c=!0,g=o.apply(null,S)),g)},kl=(o,c,g,S)=>{const _=o.isiOS()&&/ipad/i.test(g)===!0,H=o.isiOS()&&!_,K=o.isiOS()||o.isAndroid(),ve=K||S("(pointer:coarse)"),Ae=_||!H&&K&&S("(min-device-width:768px)"),Ne=H||K&&!Ae,Ue=c.isSafari()&&o.isiOS()&&/safari/i.test(g)===!1,Je=!Ne&&!Ae&&!Ue;return{isiPad:F(_),isiPhone:F(H),isTablet:F(Ae),isPhone:F(Ne),isTouch:F(ve),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:F(Ue),isDesktop:F(Je)}},Zi=(o,c)=>{for(let g=0;g<o.length;g++){const S=o[g];if(S.test(c))return S}},PO=(o,c)=>{const g=Zi(o,c);if(!g)return{major:0,minor:0};const S=_=>Number(c.replace(g,"$"+_));return Zu(S(1),S(2))},Np=(o,c)=>{const g=String(c).toLowerCase();return o.length===0?xu():PO(o,g)},xu=()=>Zu(0,0),Zu=(o,c)=>({major:o,minor:c}),Ra={nu:Zu,detect:Np,unknown:xu},Su=(o,c)=>Xe(c.brands,g=>{const S=g.brand.toLowerCase();return Ze(o,_=>{var H;return S===((H=_.brand)===null||H===void 0?void 0:H.toLowerCase())}).map(_=>({current:_.name,version:Ra.nu(parseInt(g.version,10),0)}))}),Al=(o,c)=>{const g=String(c).toLowerCase();return Ze(o,S=>S.search(g))},bc=(o,c)=>Al(o,c).map(g=>{const S=Ra.detect(g.versionRegexes,c);return{current:g.name,version:S}}),Cf=(o,c)=>Al(o,c).map(g=>{const S=Ra.detect(g.versionRegexes,c);return{current:g.name,version:S}}),ci=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,kf=o=>c=>at(c,o),Bp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>at(o,"edge/")&&at(o,"chrome")&&at(o,"safari")&&at(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ci],search:o=>at(o,"chrome")&&!at(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>at(o,"msie")||at(o,"trident")},{name:"Opera",versionRegexes:[ci,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:kf("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:kf("firefox")},{name:"Safari",versionRegexes:[ci,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(at(o,"safari")||at(o,"mobile/"))&&at(o,"applewebkit")}],Qp=[{name:"Windows",search:kf("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>at(o,"iphone")||at(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:kf("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:kf("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:kf("linux"),versionRegexes:[]},{name:"Solaris",search:kf("sunos"),versionRegexes:[]},{name:"FreeBSD",search:kf("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:kf("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ly={browsers:F(Bp),oses:F(Qp)},Xv="Edge",Af="Chromium",Fp="IE",Oc="Opera",Gv="Firefox",cy="Safari",cm=()=>uy({current:void 0,version:Ra.unknown()}),uy=o=>{const c=o.current,g=o.version,S=_=>()=>c===_;return{current:c,version:g,isEdge:S(Xv),isChromium:S(Af),isIE:S(Fp),isOpera:S(Oc),isFirefox:S(Gv),isSafari:S(cy)}},um={unknown:cm,nu:uy,edge:F(Xv),chromium:F(Af),ie:F(Fp),opera:F(Oc),firefox:F(Gv),safari:F(cy)},MO="Windows",gh="iOS",EO="Android",_O="Linux",RO="macOS",fm="Solaris",fy="FreeBSD",Yt="ChromeOS",dm=()=>Hu({current:void 0,version:Ra.unknown()}),Hu=o=>{const c=o.current,g=o.version,S=_=>()=>c===_;return{current:c,version:g,isWindows:S(MO),isiOS:S(gh),isAndroid:S(EO),isMacOS:S(RO),isLinux:S(_O),isSolaris:S(fm),isFreeBSD:S(fy),isChromeOS:S(Yt)}},jv={unknown:dm,nu:Hu,windows:F(MO),ios:F(gh),android:F(EO),linux:F(_O),macos:F(RO),solaris:F(fm),freebsd:F(fy),chromeos:F(Yt)},FS={detect:(o,c,g)=>{const S=ly.browsers(),_=ly.oses(),H=c.bind(Ae=>Su(S,Ae)).orThunk(()=>bc(S,o)).fold(um.unknown,um.nu),K=Cf(_,o).fold(jv.unknown,jv.nu),ve=kl(K,H,o,g);return{browser:H,os:K,deviceType:ve}}},Gs=o=>window.matchMedia(o).matches;let tc=Ya(()=>FS.detect(navigator.userAgent,L.from(navigator.userAgentData),Gs));const jf=()=>tc(),qf=(o,c,g,S,_,H,K)=>({target:o,x:c,y:g,stop:S,prevent:_,kill:H,raw:K}),dy=o=>{const c=zt.fromDom(tu(o).getOr(o.target)),g=()=>o.stopPropagation(),S=()=>o.preventDefault(),_=V(S,g);return qf(c,o.clientX,o.clientY,g,S,_,o)},vg=(o,c)=>g=>{o(g)&&c(dy(g))},ru=(o,c,g,S,_)=>{const H=vg(g,S);return o.dom.addEventListener(c,H,_),{unbind:Q(DO,o,c,H,_)}},yg=(o,c,g,S)=>ru(o,c,g,S,!1),hy=(o,c,g,S)=>ru(o,c,g,S,!0),DO=(o,c,g,S)=>{o.dom.removeEventListener(c,g,S)},Uu=(o,c)=>{Fn(o).each(S=>{S.dom.insertBefore(c.dom,o.dom)})},zp=(o,c)=>{ur(o).fold(()=>{Fn(o).each(_=>{Vc(_,c)})},S=>{Uu(S,c)})},my=(o,c)=>{ko(o).fold(()=>{Vc(o,c)},S=>{o.dom.insertBefore(c.dom,S.dom)})},Vc=(o,c)=>{o.dom.appendChild(c.dom)},ol=(o,c,g)=>{to(o,g).fold(()=>{Vc(o,c)},S=>{Uu(S,c)})},ph=(o,c)=>{pe(c,g=>{Vc(o,g)})},bg=o=>{o.dom.textContent="",pe(qr(o),c=>{xc(c)})},xc=o=>{const c=o.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},Pl=o=>{const c=o!==void 0?o.dom:document,g=c.body.scrollLeft||c.documentElement.scrollLeft,S=c.body.scrollTop||c.documentElement.scrollTop;return Is(g,S)},Wu=(o,c,g)=>{const _=(g!==void 0?g.dom:document).defaultView;_&&_.scrollTo(o,c)},$O=o=>{const c=o===void 0?window:o;return jf().browser.isFirefox()?L.none():L.from(c.visualViewport)},Zp=(o,c,g,S)=>({x:o,y:c,width:g,height:S,right:o+g,bottom:c+S}),gy=o=>{const c=o===void 0?window:o,g=c.document,S=Pl(zt.fromDom(g));return $O(c).fold(()=>{const _=c.document.documentElement,H=_.clientWidth,K=_.clientHeight;return Zp(S.left,S.top,H,K)},_=>Zp(Math.max(_.pageLeft,S.left),Math.max(_.pageTop,S.top),_.width,_.height))},qv=()=>zt.fromDom(document),Pf=(o,c)=>o.view(c).fold(F([]),S=>{const _=o.owner(S),H=Pf(o,_);return[S].concat(H)}),LO=(o,c)=>{const g=c.owner(o),S=Pf(c,g);return L.some(S)};var VS=Object.freeze({__proto__:null,view:o=>{var c;return(o.dom===document?L.none():L.from((c=o.dom.defaultView)===null||c===void 0?void 0:c.frameElement)).map(zt.fromDom)},owner:o=>Tn(o)});const Hp=o=>{const c=qv(),g=Pl(c);return LO(o,VS).fold(Q(Cl,o),_=>{const H=mh(o),K=Le(_,(ve,Ae)=>{const Ne=mh(Ae);return{left:ve.left+Ne.left,top:ve.top+Ne.top}},{left:0,top:0});return Is(K.left+H.left+g.left,K.top+H.top+g.top)})},Kv=(o,c,g)=>({point:o,width:c,height:g}),vh=(o,c,g,S)=>({x:o,y:c,width:g,height:S}),Ja=(o,c,g,S)=>({x:o,y:c,width:g,height:S,right:o+g,bottom:c+S}),ui=o=>{const c=Cl(o),g=Tf(o),S=Vu(o);return Ja(c.left,c.top,g,S)},wu=o=>{const c=Hp(o),g=Tf(o),S=Vu(o);return Ja(c.left,c.top,g,S)},py=(o,c)=>{const g=Math.max(o.x,c.x),S=Math.max(o.y,c.y),_=Math.min(o.right,c.right),H=Math.min(o.bottom,c.bottom),K=_-g,ve=H-S;return Ja(g,S,K,ve)},IO=(o,c)=>ke(c,(g,S)=>py(g,S),o),Vl=()=>gy(window);var Og=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Sc=o=>{const c=H=>H(o),g=F(o),S=()=>_,_={tag:!0,inner:o,fold:(H,K)=>K(o),isValue:ie,isError:Y,map:H=>jo.value(H(o)),mapError:S,bind:c,exists:c,forall:c,getOr:g,or:S,getOrThunk:g,orThunk:S,getOrDie:g,each:H=>{H(o)},toOptional:()=>L.some(o)};return _},Mf=o=>{const c=()=>g,g={tag:!1,inner:o,fold:(S,_)=>S(o),isValue:Y,isError:ie,map:c,mapError:S=>jo.error(S(o)),bind:c,exists:Y,forall:ie,getOr:z,or:z,getOrThunk:W,orThunk:W,getOrDie:E(String(o)),each:M,toOptional:L.none};return g},jo={value:Sc,error:Mf,fromOption:(o,c)=>o.fold(()=>Mf(c),Sc)};var zc;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(zc||(zc={}));const yh=(o,c,g)=>o.stype===zc.Error?c(o.serror):g(o.svalue),hm=o=>{const c=[],g=[];return pe(o,S=>{yh(S,_=>g.push(_),_=>c.push(_))}),{values:c,errors:g}},yy=(o,c)=>o.stype===zc.Error?{stype:zc.Error,serror:c(o.serror)}:o,by=(o,c)=>o.stype===zc.Value?{stype:zc.Value,svalue:c(o.svalue)}:o,nc=(o,c)=>o.stype===zc.Value?c(o.svalue):o,wi=(o,c)=>o.stype===zc.Error?c(o.serror):o,ou=o=>({stype:zc.Value,svalue:o}),Hi=o=>({stype:zc.Error,serror:o}),Ti={fromResult:o=>o.fold(Hi,ou),toResult:o=>yh(o,jo.error,jo.value),svalue:ou,partition:hm,serror:Hi,bind:nc,bindError:wi,map:by,mapError:yy,fold:yh},Ui=(o,c,g,S)=>({tag:"field",key:o,newKey:c,presence:g,prop:S}),Yu=(o,c)=>({tag:"custom",newKey:o,instantiator:c}),mm=(o,c,g)=>{switch(o.tag){case"field":return c(o.key,o.newKey,o.presence,o.prop);case"custom":return g(o.newKey,o.instantiator)}},Ci=(o,c)=>c,xg=(o,c)=>p(o)&&p(c)?Ta(o,c):c,Up=o=>(...c)=>{if(c.length===0)throw new Error("Can't merge zero objects");const g={};for(let S=0;S<c.length;S++){const _=c[S];for(const H in _)vn(_,H)&&(g[H]=o(g[H],_[H]))}return g},Ta=Up(xg),bh=Up(Ci),Ks=()=>({tag:"required",process:{}}),Ef=o=>({tag:"defaultedThunk",process:o}),xy=o=>Ef(F(o)),Wp=()=>({tag:"option",process:{}}),hs=o=>({tag:"mergeWithThunk",process:o}),gm=o=>hs(F(o)),e0=(o,c)=>o.length>0?Ti.svalue(Ta(c,bh.apply(void 0,o))):Ti.svalue(c),Yp=o=>V(Ti.serror,Ie)(o),Sy={consolidateObj:(o,c)=>{const g=Ti.partition(o);return g.errors.length>0?Yp(g.errors):e0(g.values,c)},consolidateArr:o=>{const c=Ti.partition(o);return c.errors.length>0?Yp(c.errors):Ti.svalue(c.values)}},pm=o=>u(o)&&ct(o).length>100?" removed due to size":JSON.stringify(o,null,2),t0=o=>{const c=o.length>10?o.slice(0,10).concat([{path:[],getErrorInfo:F("... (only showing first ten failures)")}]):o;return ne(c,g=>"Failed path: ("+g.path.join(" > ")+`)
`+g.getErrorInfo())},vm=(o,c)=>Ti.serror([{path:o,getErrorInfo:c}]),Sg=(o,c,g)=>vm(o,()=>'Could not find valid *required* value for "'+c+'" in '+pm(g)),NO=(o,c)=>vm(o,()=>'Choice schema did not contain choice key: "'+c+'"'),Xu=(o,c,g)=>vm(o,()=>'The chosen schema: "'+g+'" did not exist in branches: '+pm(c)),BO=(o,c)=>vm(o,()=>"There are unsupported fields: ["+c.join(", ")+"] specified"),ym=(o,c)=>vm(o,F(c)),Tu=o=>{const c=(S,_)=>Ti.bindError(o(_),H=>ym(S,H)),g=F("val");return{extract:c,toString:g}},n0=Tu(Ti.svalue),wy=(o,c,g,S)=>Bt(c,g).fold(()=>Sg(o,g,c),S),wg=(o,c,g,S)=>{const _=Bt(o,c).getOrThunk(()=>g(o));return S(_)},Ty=(o,c,g)=>g(Bt(o,c)),Cy=(o,c,g,S)=>{const _=Bt(o,c).map(H=>H===!0?g(o):H);return S(_)},ky=(o,c,g,S,_)=>{const H=ve=>_.extract(c.concat([S]),ve),K=ve=>ve.fold(()=>Ti.svalue(L.none()),Ae=>{const Ne=_.extract(c.concat([S]),Ae);return Ti.map(Ne,L.some)});switch(o.tag){case"required":return wy(c,g,S,H);case"defaultedThunk":return wg(g,S,o.process,H);case"option":return Ty(g,S,K);case"defaultedOptionThunk":return Cy(g,S,o.process,K);case"mergeWithThunk":return wg(g,S,F({}),ve=>{const Ae=Ta(o.process(g),ve);return H(Ae)})}},r0=(o,c,g)=>{const S={},_=[];for(const H of g)mm(H,(K,ve,Ae,Ne)=>{const Ue=ky(Ae,o,c,K,Ne);Ti.fold(Ue,Je=>{_.push(...Je)},Je=>{S[ve]=Je})},(K,ve)=>{S[K]=ve(c)});return _.length>0?Ti.serror(_):Ti.svalue(S)},sl=o=>({extract:(S,_)=>o().extract(S,_),toString:()=>o().toString()}),Xp=o=>ct(wt(o,C)),ca=o=>{const c=uo(o),g=Le(o,(_,H)=>mm(H,K=>Ta(_,{[K]:!0}),F(_)),{});return{extract:(_,H)=>{const K=b(H)?[]:Xp(H),ve=xe(K,Ae=>!En(g,Ae));return ve.length===0?c.extract(_,H):BO(_,ve)},toString:c.toString}},uo=o=>({extract:(S,_)=>r0(S,_,o),toString:()=>`obj{
`+ne(o,_=>mm(_,(H,K,ve,Ae)=>H+" -> "+Ae.toString(),(H,K)=>"state("+H+")")).join(`
`)+"}"}),Gu=o=>({extract:(S,_)=>{const H=ne(_,(K,ve)=>o.extract(S.concat(["["+ve+"]"]),K));return Sy.consolidateArr(H)},toString:()=>"array("+o.toString()+")"}),Xr=(o,c)=>{const g=c!==void 0?c:z;return{extract:(H,K)=>{const ve=[];for(const Ae of o){const Ne=Ae.extract(H,K);if(Ne.stype===zc.Value)return{stype:zc.Value,svalue:g(Ne.svalue)};ve.push(Ne)}return Sy.consolidateArr(ve)},toString:()=>"oneOf("+ne(o,H=>H.toString()).join(", ")+")"}},zl=(o,c)=>{const g=(H,K)=>Gu(Tu(o)).extract(H,K);return{extract:(H,K)=>{const ve=ct(K),Ae=g(H,ve);return Ti.bind(Ae,Ne=>{const Ue=ne(Ne,Je=>Ui(Je,Je,Ks(),c));return uo(Ue).extract(H,K)})},toString:()=>"setOf("+c.toString()+")"}},HS=(o,c)=>{const g=Ya(c);return{extract:(H,K)=>g().extract(H,K),toString:()=>g().toString()}},Dd=V(Gu,uo),vi=F(n0),$d=(o,c)=>Tu(g=>{const S=typeof g;return o(g)?Ti.svalue(g):Ti.serror(`Expected type: ${c} but got: ${S}`)}),Gp=$d(T,"number"),al=$d(h,"string"),_f=$d(b,"boolean"),bm=$d(w,"function"),ju=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(c=>ju(o[c]));default:return!1}},Ay=Tu(o=>ju(o)?Ti.svalue(o):Ti.serror("Expected value to be acceptable for sending via postMessage")),o0=(o,c,g,S)=>Bt(g,S).fold(()=>Xu(o,g,S),H=>H.extract(o.concat(["branch: "+S]),c)),lr=(o,c)=>({extract:(_,H)=>Bt(H,o).fold(()=>NO(_,o),ve=>o0(_,H,c,ve)),toString:()=>"chooseOn("+o+"). Possible values: "+ct(c)}),QO=()=>Gu(n0),Ml=o=>Tu(c=>o(c).fold(Ti.serror,Ti.svalue)),Kf=(o,c)=>zl(g=>Ti.fromResult(o(g)),c),Tg=(o,c,g)=>{const S=c.extract([o],g);return Ti.mapError(S,_=>({input:g,errors:_}))},da=(o,c,g)=>Ti.toResult(Tg(o,c,g)),aa=o=>o.fold(c=>{throw new Error(Zl(c))},z),El=(o,c,g)=>aa(da(o,c,g)),Zl=o=>`Errors: 
`+t0(o.errors).join(`
`)+`

Input object: `+pm(o.input),Os=(o,c)=>lr(o,je(c,uo)),jp=(o,c)=>HS(o,c),il=Ui,ei=Yu,qp=o=>Ml(c=>be(o,c)?jo.value(c):jo.error(`Unsupported value: "${c}", choose one of "${o.join(", ")}".`)),er=o=>il(o,o,Ks(),vi()),Zc=(o,c)=>il(o,o,Ks(),c),Cg=o=>Zc(o,Gp),zs=o=>Zc(o,al),Rf=(o,c)=>il(o,o,Ks(),qp(c)),US=o=>Zc(o,_f),qu=o=>Zc(o,bm),s0=(o,c)=>il(o,o,Wp(),Tu(g=>Ti.serror("The field: "+o+" is forbidden. "+c))),su=(o,c)=>il(o,o,Ks(),uo(c)),a0=(o,c)=>il(o,o,Ks(),Dd(c)),rc=(o,c)=>il(o,o,Ks(),Gu(c)),Ws=o=>il(o,o,Wp(),vi()),au=(o,c)=>il(o,o,Wp(),c),fi=o=>au(o,Gp),ll=o=>au(o,al),Ld=(o,c)=>au(o,qp(c)),Jf=o=>au(o,bm),Id=(o,c)=>au(o,Gu(c)),wc=(o,c)=>au(o,uo(c)),ed=(o,c)=>au(o,ca(c)),Mn=(o,c)=>il(o,o,xy(c),vi()),Tc=(o,c,g)=>il(o,o,xy(c),g),td=(o,c)=>Tc(o,c,Gp),nd=(o,c)=>Tc(o,c,al),Hc=(o,c,g)=>Tc(o,c,qp(g)),Wi=(o,c)=>Tc(o,c,_f),Di=(o,c)=>Tc(o,c,bm),qC=(o,c)=>Tc(o,c,Ay),Cc=(o,c,g)=>Tc(o,c,Gu(g)),D=(o,c,g)=>Tc(o,c,uo(g)),X=o=>{let c=o;return{get:()=>c,set:_=>{c=_}}},we={generate:o=>{if(!v(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const c=[],g={};return pe(o,(S,_)=>{const H=ct(S);if(H.length!==1)throw new Error("one and only one name per case");const K=H[0],ve=S[K];if(g[K]!==void 0)throw new Error("duplicate key detected:"+K);if(K==="cata")throw new Error("cannot have a case named cata (sorry)");if(!v(ve))throw new Error("case arguments must be an array");c.push(K),g[K]=(...Ae)=>{const Ne=Ae.length;if(Ne!==ve.length)throw new Error("Wrong number of arguments to case "+K+". Expected "+ve.length+" ("+ve+"), got "+Ne);return{fold:(...Je)=>{if(Je.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+Je.length);return Je[_].apply(null,Ae)},match:Je=>{const st=ct(Je);if(c.length!==st.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+st.join(","));if(!ye(c,At=>be(st,At)))throw new Error("Not all branches were specified when using match. Specified: "+st.join(", ")+`
Required: `+c.join(", "));return Je[K].apply(null,Ae)},log:Je=>{console.log(Je,{constructors:c,constructor:K,params:Ae})}}}}),g}};we.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Pe=o=>{const c=[],g=[];return pe(o,S=>{S.fold(_=>{c.push(_)},_=>{g.push(_)})}),{errors:c,values:g}},Re=(o,c)=>{const g={};return Ye(o,(S,_)=>{be(c,_)||(g[_]=S)}),g},Ke=(o,c)=>({[o]:c}),We=o=>{const c={};return pe(o,g=>{c[g.key]=g.value}),c},rt=(o,c)=>Re(o,c),vt=(o,c)=>Ke(o,c),bt=o=>We(o),Zt=(o,c)=>o.length===0?jo.value(c):jo.value(Ta(c,bh.apply(void 0,o))),Ut=o=>jo.error(Ie(o)),gn=(o,c)=>{const g=Pe(o);return g.errors.length>0?Ut(g.errors):Zt(g.values,c)},An=o=>w(o)?o:Y,jt=(o,c,g)=>{let S=o.dom;const _=An(g);for(;S.parentNode;){S=S.parentNode;const H=zt.fromDom(S),K=c(H);if(K.isSome())return K;if(_(H))break}return L.none()},tn=(o,c,g)=>{const S=c(o),_=An(g);return S.orThunk(()=>_(o)?L.none():jt(o,c,_))},hn=(o,c)=>Jt(o.element,c.event.target),_n={can:ie,abort:Y,run:M},Pn=o=>{if(!En(o,"can")&&!En(o,"abort")&&!En(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{..._n,...o}},yn=(o,c)=>(...g)=>ke(o,(S,_)=>S&&c(_).apply(void 0,g),!0),cr=(o,c)=>(...g)=>ke(o,(S,_)=>S||c(_).apply(void 0,g),!1),Zr=o=>w(o)?{can:ie,abort:Y,run:o}:o,Jr=o=>{const c=yn(o,_=>_.can),g=cr(o,_=>_.abort);return{can:c,abort:g,run:(..._)=>{pe(o,H=>{H.run.apply(void 0,_)})}}},Ar=F,no=Ar("touchstart"),fo=Ar("touchmove"),ts=Ar("touchend"),xo=Ar("touchcancel"),go=Ar("mousedown"),js=Ar("mousemove"),ti=Ar("mouseout"),ba=Ar("mouseup"),Lr=Ar("mouseover"),Do=Ar("focusin"),ms=Ar("focusout"),_s=Ar("keydown"),Ba=Ar("keyup"),di=Ar("input"),Yi=Ar("change"),$i=Ar("click"),Uc=Ar("transitioncancel"),Ki=Ar("transitionend"),kc=Ar("transitionstart"),Hl=Ar("selectstart"),ea=o=>F("alloy."+o),Ku={tap:ea("tap")},Df=ea("focus"),Ul=ea("blur.post"),Li=ea("paste.post"),Wl=ea("receive"),Ii=ea("execute"),ta=ea("focus.item"),Ac=Ku.tap,Nd=ea("longpress"),Ju=ea("sandbox.close"),Om=ea("typeahead.cancel"),Bd=ea("system.init"),Py=ea("system.touchmove"),FO=ea("system.touchend"),Oh=ea("system.scroll"),Qd=ea("system.resize"),ef=ea("system.attached"),kg=ea("system.detached"),Ag=ea("system.dismissRequested"),KC=ea("system.repositionRequested"),VO=ea("focusmanager.shifted"),My=ea("slotcontainer.visibility"),zO=ea("system.external.element.scroll"),JC=ea("change.tab"),ZO=ea("dismiss.tab"),Ey=ea("highlight"),_y=ea("dehighlight"),ks=(o,c)=>{Ry(o,o.element,c,{})},vo=(o,c,g)=>{Ry(o,o.element,c,g)},xm=o=>{ks(o,Ii())},HO=(o,c,g)=>{Ry(o,c,g,{})},Ry=(o,c,g,S)=>{const _={target:c,...S};o.getSystem().triggerEvent(g,c,_)},EM=(o,c,g,S)=>{const _={...S,target:c};o.getSystem().triggerEvent(g,c,_)},WS=(o,c,g,S)=>{o.getSystem().triggerEvent(g,c,S.event)},Ea=o=>bt(o),YS=(o,c)=>({key:o,value:Pn({abort:c})}),XS=(o,c)=>({key:o,value:Pn({can:c})}),GS=o=>({key:o,value:Pn({run:(c,g)=>{g.event.prevent()}})}),qn=(o,c)=>({key:o,value:Pn({run:c})}),UO=(o,c,g)=>({key:o,value:Pn({run:(S,_)=>{c.apply(void 0,[S,_].concat(g))}})}),_M=o=>c=>qn(o,c),Dy=o=>c=>({key:o,value:Pn({run:(g,S)=>{hn(g,S)&&c(g,S)}})}),RM=(o,c)=>qn(o,(g,S)=>{g.getSystem().getByUid(c).each(_=>{WS(_,_.element,o,S)})}),i0=(o,c,g)=>{const S=c.partUids[g];return RM(o,S)},jS=(o,c)=>qn(o,(g,S)=>{const _=S.event,H=g.getSystem().getByDom(_.target).getOrThunk(()=>tn(_.target,ve=>g.getSystem().getByDom(ve).toOptional(),Y).getOr(g));c(g,H,S)}),Sm=o=>qn(o,(c,g)=>{g.cut()}),DM=o=>qn(o,(c,g)=>{g.stop()}),xh=(o,c)=>Dy(o)(c),Ca=Dy(ef()),Sh=Dy(kg()),qS=Dy(Bd()),rd=_M(Ii()),wm=(o,c)=>{const S=(c||document).createElement("div");return S.innerHTML=o,qr(zt.fromDom(S))},KS=o=>o.dom.innerHTML,Kp=(o,c)=>{const S=Tn(o).dom,_=zt.fromDom(S.createDocumentFragment()),H=wm(c,S);ph(_,H),bg(o),Vc(o,_)},ek=o=>{const c=zt.fromTag("div"),g=zt.fromDom(o.dom.cloneNode(!0));return Vc(c,g),KS(c)},WO=(o,c)=>zt.fromDom(o.dom.cloneNode(c)),JS=o=>WO(o,!1),$M=o=>WO(o,!0),ew=o=>{if(Ko(o))return"#shadow-root";{const c=JS(o);return ek(c)}},wh=o=>ew(o),q$=(o,c,g)=>Jt(c,o.element)&&!Jt(c,g),tw=Ea([XS(Df(),(o,c)=>{const g=c.event,S=g.originator,_=g.target;return q$(o,S,_)?(console.warn(Df()+` did not get interpreted by the desired target. 
Originator: `+wh(S)+`
Target: `+wh(_)+`
Check the `+Df()+" event handlers"),!1):!0})]);var Pg=Object.freeze({__proto__:null,events:tw});let Yl=0;const Kr=o=>{const g=new Date().getTime(),S=Math.floor(Math.random()*1e9);return Yl++,o+"_"+S+Yl+String(g)},LM=F("alloy-id-"),nw=F("data-alloy-id"),IM=LM(),tk=nw(),Jp=(o,c)=>{const g=Kr(IM+o);return l0(c,g),g},l0=(o,c)=>{Object.defineProperty(o.dom,tk,{value:c,writable:!0})},$y=o=>{const c=St(o)?o.dom[tk]:null;return L.from(c)},c0=o=>Kr(o),YO=z,Tm=o=>{const c=_=>`The component must be in a context to execute: ${_}`+(o?`
`+wh(o().element)+" is not in context.":""),g=_=>()=>{throw new Error(c(_))},S=_=>()=>{console.warn(c(_))};return{debugInfo:F("fake"),triggerEvent:S("triggerEvent"),triggerFocus:S("triggerFocus"),triggerEscape:S("triggerEscape"),broadcast:S("broadcast"),broadcastOn:S("broadcastOn"),broadcastEvent:S("broadcastEvent"),build:g("build"),buildOrPatch:g("buildOrPatch"),addToWorld:g("addToWorld"),removeFromWorld:g("removeFromWorld"),addToGui:g("addToGui"),removeFromGui:g("removeFromGui"),getByUid:g("getByUid"),getByDom:g("getByDom"),isConnected:Y}},Fd=Tm(),Ly=(o,c,g)=>{const S=g.toString(),_=S.indexOf(")")+1,H=S.indexOf("("),K=S.substring(H+1,_-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:c,parameters:$f(K.slice(0,1).concat(K.slice(3)))}),o},$f=o=>ne(o,c=>mt(c,"/*")?c.substring(0,c.length-2):c),XO=(o,c)=>{const g=o.toString(),S=g.indexOf(")")+1,_=g.indexOf("("),H=g.substring(_+1,S-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:c,parameters:$f(H)}),o},nk=(o,c)=>{const g=c.toString(),S=g.indexOf(")")+1,_=g.indexOf("("),H=g.substring(_+1,S-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:$f(H.slice(1))}),o},u0=Kr("alloy-premade"),Cm=o=>(Object.defineProperty(o.element.dom,u0,{value:o.uid,writable:!0}),vt(u0,o)),NM=o=>vn(o.dom,u0),f0=o=>Bt(o,u0),ev=o=>nk((c,...g)=>o(c.getApis(),c,...g),o),od={init:()=>Cu({readState:F("No State required")})},Cu=o=>o,BM=(o,c)=>{const g=ne(c,_=>wc(_.name(),[er("config"),Mn("state",od)])),S=da("component.behaviours",uo(g),o.behaviours).fold(_=>{throw new Error(Zl(_)+`
Complete spec:
`+JSON.stringify(o,null,2))},z);return{list:c,data:je(S,_=>{const H=_.map(K=>({config:K.config,state:K.state.init(K.config)}));return F(H)})}},rk=o=>o.list,ok=o=>o.data,rw=(o,c)=>{const g={};return Ye(o,(S,_)=>{Ye(S,(H,K)=>{const ve=Bt(g,K).getOr([]);g[K]=ve.concat([c(_,H)])})}),g},ku=o=>({classes:x(o.classes)?[]:o.classes,attributes:x(o.attributes)?{}:o.attributes,styles:x(o.styles)?{}:o.styles}),d0=(o,c)=>({...o,attributes:{...o.attributes,...c.attributes},styles:{...o.styles,...c.styles},classes:o.classes.concat(c.classes)}),GO=(o,c,g,S)=>{const _={...c};pe(g,Ue=>{_[Ue.name()]=Ue.exhibit(o,S)});const H=rw(_,(Ue,Je)=>({name:Ue,modification:Je})),K=Ue=>Le(Ue,(Je,st)=>({...st.modification,...Je}),{}),ve=Le(H.classes,(Ue,Je)=>Je.modification.concat(Ue),[]),Ae=K(H.attributes),Ne=K(H.styles);return ku({classes:ve,attributes:Ae,styles:Ne})},jO=(o,c,g,S)=>{try{const _=Se(g,(H,K)=>{const ve=H[c],Ae=K[c],Ne=S.indexOf(ve),Ue=S.indexOf(Ae);if(Ne===-1)throw new Error("The ordering for "+o+" does not have an entry for "+ve+`.
Order specified: `+JSON.stringify(S,null,2));if(Ue===-1)throw new Error("The ordering for "+o+" does not have an entry for "+Ae+`.
Order specified: `+JSON.stringify(S,null,2));return Ne<Ue?-1:Ue<Ne?1:0});return jo.value(_)}catch(_){return jo.error([_])}},QM=(o,c)=>({handler:o,purpose:c}),sk=(o,c)=>({cHandler:o,purpose:c}),ow=(o,c)=>sk(Q.apply(void 0,[o.handler].concat(c)),o.purpose),h0=o=>o.cHandler,m0=(o,c)=>({name:o,handler:c}),qO=(o,c)=>{const g={};return pe(o,S=>{g[S.name()]=S.handlers(c)}),g},FM=(o,c,g)=>{const S={...g,...qO(c,o)};return rw(S,m0)},KO=(o,c,g,S)=>{const _=FM(o,g,S);return sw(_,c)},g0=o=>{const c=Zr(o);return(g,S,..._)=>{const H=[g,S].concat(_);c.abort.apply(void 0,H)?S.stop():c.can.apply(void 0,H)&&c.run.apply(void 0,H)}},VM=(o,c)=>jo.error(["The event ("+o+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(ne(c,g=>g.name),null,2)]),Iy=(o,c,g)=>{const S=c[g];return S?jO("Event: "+g,"name",o,S).map(_=>{const H=ne(_,K=>K.handler);return Jr(H)}):VM(g,o)},sw=(o,c)=>{const g=Xt(o,(S,_)=>(S.length===1?jo.value(S[0].handler):Iy(S,c,_)).map(K=>{const ve=g0(K),Ae=S.length>1?xe(c[_],Ne=>Te(S,Ue=>Ue.name===Ne)).join(" > "):S[0].name;return vt(_,QM(ve,Ae))}));return gn(g,{})},Au="alloy.base.behaviour",JO=uo([il("dom","dom",Ks(),uo([er("tag"),Mn("styles",{}),Mn("classes",[]),Mn("attributes",{}),Ws("value"),Ws("innerHtml")])),er("components"),er("uid"),Mn("events",{}),Mn("apis",{}),il("eventOrder","eventOrder",gm({[Ii()]:["disabling",Au,"toggling","typeaheadevents"],[Df()]:[Au,"focusing","keying"],[Bd()]:[Au,"disabling","toggling","representing"],[di()]:[Au,"representing","streaming","invalidating"],[kg()]:[Au,"representing","item-events","tooltipping"],[go()]:["focusing",Au,"item-type-events"],[no()]:["focusing",Au,"item-type-events"],[Lr()]:["item-type-events","tooltipping"],[Wl()]:["receiving","reflecting","tooltipping"]}),vi()),Ws("domModification")]),ak=o=>da("custom.definition",JO,o),ex=o=>({...o.dom,uid:o.uid,domChildren:ne(o.components,c=>c.element)}),K$=o=>o.domModification.fold(()=>ku({}),ku),tx=o=>o.events,Mg=(o,c)=>{const g=oa(o,c);return g===void 0||g===""?[]:g.split(" ")},Th=(o,c,g)=>{const _=Mg(o,c).concat([g]);return Dr(o,c,_.join(" ")),!0},aw=(o,c,g)=>{const S=xe(Mg(o,c),_=>_!==g);return S.length>0?Dr(o,c,S.join(" ")):sa(o,c),!1},p0=o=>o.dom.classList!==void 0,nx=o=>Mg(o,"class"),ik=(o,c)=>Th(o,"class",c),Da=(o,c)=>aw(o,"class",c),zM=(o,c)=>be(nx(o),c)?Da(o,c):ik(o,c),ki=(o,c)=>{p0(o)?o.dom.classList.add(c):ik(o,c)},lk=o=>{(p0(o)?o.dom.classList:nx(o)).length===0&&sa(o,"class")},Xa=(o,c)=>{p0(o)?o.dom.classList.remove(c):Da(o,c),lk(o)},v0=(o,c)=>{const g=p0(o)?o.dom.classList.toggle(c):zM(o,c);return lk(o),g},Ji=(o,c)=>p0(o)&&o.dom.classList.contains(c),ni=(o,c)=>{pe(c,g=>{ki(o,g)})},tf=(o,c)=>{pe(c,g=>{Xa(o,g)})},iw=(o,c)=>{pe(c,g=>{v0(o,g)})},Xl=(o,c)=>ye(c,g=>Ji(o,g)),Ny=o=>{const c=o.dom.classList,g=new Array(c.length);for(let S=0;S<c.length;S++){const _=c.item(S);_!==null&&(g[S]=_)}return g},y0=o=>p0(o)?Ny(o):nx(o),Ch=o=>o.dom.value,b0=(o,c)=>{if(c===void 0)throw new Error("Value.set was undefined");o.dom.value=c},Eg=(o,c,g)=>to(o,c).map(_=>{if(g.exists(K=>!Jt(K,_))){const K=g.map(Oo).getOr("span"),ve=zt.fromTag(K);return Uu(_,ve),ve}else return _}),km=(o,c,g)=>{g.fold(()=>Vc(o,c),S=>{Jt(S,c)||(Uu(S,c),xc(S))})},ZM=(o,c,g)=>{const S=ne(c,g),_=qr(o);return pe(_.slice(S.length),xc),S},ck=(o,c,g,S)=>{const _=to(o,c),H=S(g,_),K=Eg(o,c,_);return km(o,H.element,K),H},J$=(o,c,g)=>ZM(o,c,(S,_)=>ck(o,_,S,g)),e9=(o,c)=>ZM(o,c,(g,S)=>{const _=to(o,S);return km(o,g,_),g}),sd=(o,c)=>{const g=ct(o),S=ct(c),_=se(S,g),H=tt(o,(K,ve)=>!vn(c,ve)||K!==c[ve]).t;return{toRemove:_,toSet:H}},Pc=(o,c)=>{const{class:g,style:S,..._}=bu(c),{toSet:H,toRemove:K}=sd(o.attributes,_),ve=()=>{pe(K,kn=>sa(c,kn)),yc(c,H)},Ae=Fa(c),{toSet:Ne,toRemove:Ue}=sd(o.styles,Ae),Je=()=>{pe(Ue,kn=>Zo(c,kn)),zi(c,Ne)},st=y0(c),ht=se(st,o.classes),At=se(o.classes,st),qt=()=>{ni(c,At),tf(c,ht)},Dn=kn=>{Kp(c,kn)},mn=()=>{const kn=o.domChildren;e9(c,kn)},on=()=>{const kn=c,Zn=o.value.getOrUndefined();Zn!==Ch(kn)&&b0(kn,Zn??"")};return ve(),qt(),Je(),o.innerHtml.fold(mn,Dn),on(),c},HM=o=>{const c=zt.fromTag(o.tag);yc(c,o.attributes),ni(c,o.classes),zi(c,o.styles),o.innerHtml.each(S=>Kp(c,S));const g=o.domChildren;return ph(c,g),o.value.each(S=>{b0(c,S)}),c},UM=(o,c)=>{try{const g=Pc(o,c);return L.some(g)}catch{return L.none()}},_g=o=>o.innerHtml.isSome()&&o.domChildren.length>0,By=(o,c)=>{const g=_=>Oo(_)===o.tag&&!_g(o)&&!NM(_),S=c.filter(g).bind(_=>UM(o,_)).getOrThunk(()=>HM(o));return l0(S,o.uid),S},rx=o=>{const c=Bt(o,"behaviours").getOr({});return re(ct(c),g=>{const S=c[g];return C(S)?[S.me]:[]})},ox=(o,c)=>BM(o,c),kh=o=>{const c=rx(o);return ox(o,c)},O0=(o,c,g)=>{const S=ex(o),_=K$(o),H={"alloy.base.modification":_},K=c.length>0?GO(g,H,c,S):_;return d0(S,K)},x0=(o,c,g)=>{const S={"alloy.base.behaviour":tx(o)};return KO(g,o.eventOrder,c,S).getOrDie()},S0=(o,c)=>{const g=()=>kn,S=X(Fd),_=aa(ak(o)),H=kh(o),K=rk(H),ve=ok(H),Ae=O0(_,K,ve),Ne=By(Ae,c),Ue=x0(_,K,ve),Je=X(_.components),st=Zn=>{S.set(Zn)},ht=()=>{S.set(Tm(g))},At=()=>{const Zn=qr(Ne),mr=re(Zn,Gn=>S.get().getByDom(Gn).fold(()=>[],oe));Je.set(mr)},qt=Zn=>{const mr=ve;return(w(mr[Zn.name()])?mr[Zn.name()]:()=>{throw new Error("Could not find "+Zn.name()+" in "+JSON.stringify(o,null,2))})()},Dn=Zn=>w(ve[Zn.name()]),mn=()=>_.apis,on=Zn=>ve[Zn]().map(mr=>mr.state.readState()).getOr("not enabled"),kn={uid:o.uid,getSystem:S.get,config:qt,hasConfigured:Dn,spec:o,readState:on,getApis:mn,connect:st,disconnect:ht,element:Ne,syncComponents:At,components:Je.get,events:Ue};return kn},tv=(o,c)=>{const g=Bt(o,"components").getOr([]);return c.fold(()=>ne(g,oc),S=>ne(g,(_,H)=>sx(_,to(S,H))))},uk=(o,c)=>{const{events:g,...S}=YO(o),_=tv(S,c),H={...S,events:{...Pg,...g},components:_};return jo.value(S0(H,c))},yi=o=>{const c=zt.fromText(o);return fk({element:c})},fk=o=>{const c=El("external.component",ca([er("element"),Ws("uid")]),o),g=X(Tm()),S=ve=>{g.set(ve)},_=()=>{g.set(Tm(()=>K))},H=c.uid.getOrThunk(()=>c0("external"));l0(c.element,H);const K={uid:H,getSystem:g.get,config:L.none,hasConfigured:Y,connect:S,disconnect:_,getApis:()=>({}),element:c.element,spec:o,readState:F("No state"),syncComponents:M,components:F([]),events:{}};return Cm(K)},w0=c0,dk=o=>vn(o,"uid"),sx=(o,c)=>f0(o).getOrThunk(()=>{const g=dk(o)?o:{uid:w0(""),...o};return uk(g,c).getOrDie()}),oc=o=>sx(o,L.none()),nf=Cm;var hk=(o,c,g,S,_)=>o(g,S)?L.some(g):w(_)&&_(g)?L.none():c(g,S,_);const ax=(o,c,g)=>{let S=o.dom;const _=w(g)?g:Y;for(;S.parentNode;){S=S.parentNode;const H=zt.fromDom(S);if(c(H))return L.some(H);if(_(H))break}return L.none()},nv=(o,c,g)=>hk((_,H)=>H(_),ax,o,c,g),WM=(o,c)=>{const g=_=>c(zt.fromDom(_));return Ze(o.dom.childNodes,g).map(zt.fromDom)},mk=(o,c)=>{const g=S=>{for(let _=0;_<S.childNodes.length;_++){const H=zt.fromDom(S.childNodes[_]);if(c(H))return L.some(H);const K=g(S.childNodes[_]);if(K.isSome())return K}return L.none()};return g(o.dom)},lw=(o,c,g)=>nv(o,c,g).isSome(),Pu=(o,c,g)=>ax(o,S=>$t(S,c),g),ix=(o,c)=>WM(o,g=>$t(g,c)),Ai=(o,c)=>un(c,o),Vd=(o,c,g)=>hk((_,H)=>$t(_,H),Pu,o,c,g),T0="aria-controls",Rg=o=>nv(o,g=>{if(!St(g))return!1;const S=oa(g,"id");return S!==void 0&&S.indexOf(T0)>-1}).bind(g=>{const S=oa(g,"id"),_=es(g);return Ai(_,`[${T0}="${S}"]`)}),rv=()=>{const o=Kr(T0);return{id:o,link:S=>{Dr(S,T0,o)},unlink:S=>{sa(S,T0)}}},ov=(o,c)=>Rg(c).exists(g=>Am(o,g)),Am=(o,c)=>lw(c,g=>Jt(g,o.element),Y)||ov(o,c),gk="unknown";var sv;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(sv||(sv={}));const Dg=X({}),av=(o,c)=>{const g=[],S=new Date().getTime();return{logEventCut:(_,H,K)=>{g.push({outcome:"cut",target:H,purpose:K})},logEventStopped:(_,H,K)=>{g.push({outcome:"stopped",target:H,purpose:K})},logNoParent:(_,H,K)=>{g.push({outcome:"no-parent",target:H,purpose:K})},logEventNoHandlers:(_,H)=>{g.push({outcome:"no-handlers-left",target:H})},logEventResponse:(_,H,K)=>{g.push({outcome:"response",purpose:K,target:H})},write:()=>{const _=new Date().getTime();be(["mousemove","mouseover","mouseout",Bd()],o)||console.log(o,{event:o,time:_-S,target:c.dom,sequence:ne(g,H=>be(["cut","stopped","response"],H.outcome)?"{"+H.purpose+"} "+H.outcome+" at ("+wh(H.target)+")":H.outcome)})}}},pk=(o,c,g)=>{switch(Bt(Dg.get(),o).orThunk(()=>{const _=ct(Dg.get());return Xe(_,H=>o.indexOf(H)>-1?L.some(Dg.get()[H]):L.none())}).getOr(sv.NORMAL)){case sv.NORMAL:return g(uw());case sv.LOGGING:{const _=av(o,c),H=g(_);return _.write(),H}case sv.STOP:return!0}},YM=["alloy/data/Fields","alloy/debugging/Debugging"],cw=()=>{const o=new Error;if(o.stack!==void 0){const c=o.stack.split(`
`);return Ze(c,g=>g.indexOf("alloy")>0&&!Te(YM,S=>g.indexOf(S)>-1)).getOr(gk)}else return gk},XM={logEventCut:M,logEventStopped:M,logNoParent:M,logEventNoHandlers:M,logEventResponse:M,write:M},lx=(o,c,g)=>pk(o,c,g),uw=F(XM),Mu=F([er("menu"),er("selectedMenu")]),vk=F([er("item"),er("selectedItem")]);F(uo(vk().concat(Mu())));const C0=F(uo(vk())),yk=su("initSize",[er("numColumns"),er("numRows")]),GM=()=>Zc("markers",C0()),Qy=()=>su("markers",[er("backgroundMenu")].concat(Mu()).concat(vk())),$g=o=>su("markers",ne(o,er)),cx=(o,c,g)=>(cw(),il(c,c,g,Ml(S=>jo.value((..._)=>S.apply(void 0,_))))),Rs=o=>cx("onHandler",o,xy(M)),Eu=o=>cx("onKeyboardHandler",o,xy(L.none)),zd=o=>cx("onHandler",o,Ks()),fw=o=>cx("onKeyboardHandler",o,Ks()),ha=(o,c)=>ei(o,F(c)),Fy=o=>ei(o,z),dw=F(yk),cl=(o,c,g,S,_,H,K,ve=!1)=>({x:o,y:c,bubble:g,direction:S,placement:_,restriction:H,label:`${K}-${_}`,alwaysFit:ve}),Ah=we.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Lg=(o,c,g,S,_,H,K,ve,Ae)=>o.fold(c,g,S,_,H,K,ve,Ae),hw=(o,c,g,S)=>o.fold(c,c,S,S,c,S,g,g),ux=(o,c,g,S)=>o.fold(c,S,c,S,g,g,c,S),Vy=Ah.southeast,mw=Ah.southwest,fx=Ah.northeast,Ph=Ah.northwest,Pm=Ah.south,jM=Ah.north,Nn=Ah.east,zy=Ah.west,k0=(o,c,g,S)=>{const _=o+c;return _>S?g:_<g?S:_},rf=(o,c,g)=>Math.min(Math.max(o,c),g),gw=(o,c)=>{switch(c){case 1:return o.x;case 0:return o.x+o.width;case 2:return o.y;case 3:return o.y+o.height}},Ha=(o,c)=>ue(["left","right","top","bottom"],g=>Bt(c,g).map(S=>gw(o,S))),dx=(o,c,g)=>{const S=(Ae,Ne)=>c[Ae].map(Ue=>{const Je=Ae==="top"||Ae==="bottom",st=Je?g.top:g.left,At=(Ae==="left"||Ae==="top"?Math.max:Math.min)(Ue,Ne)+st;return Je?rf(At,o.y,o.bottom):rf(At,o.x,o.right)}).getOr(Ne),_=S("left",o.x),H=S("top",o.y),K=S("right",o.right),ve=S("bottom",o.bottom);return Ja(_,H,K-_,ve-H)},Mm="layout",pw=o=>o.x,hx=(o,c)=>o.x+o.width/2-c.width/2,vw=(o,c)=>o.x+o.width-c.width,Zy=(o,c)=>o.y-c.height,A0=o=>o.y+o.height,yw=(o,c)=>o.y+o.height/2-c.height/2,qM=o=>o.x+o.width,Wc=(o,c)=>o.x-c.width,ul=(o,c,g)=>cl(pw(o),A0(o),g.southeast(),Vy(),"southeast",Ha(o,{left:1,top:3}),Mm),Gl=(o,c,g)=>cl(vw(o,c),A0(o),g.southwest(),mw(),"southwest",Ha(o,{right:0,top:3}),Mm),Yc=(o,c,g)=>cl(pw(o),Zy(o,c),g.northeast(),fx(),"northeast",Ha(o,{left:1,bottom:2}),Mm),sc=(o,c,g)=>cl(vw(o,c),Zy(o,c),g.northwest(),Ph(),"northwest",Ha(o,{right:0,bottom:2}),Mm),Mc=(o,c,g)=>cl(hx(o,c),Zy(o,c),g.north(),jM(),"north",Ha(o,{bottom:2}),Mm),fl=(o,c,g)=>cl(hx(o,c),A0(o),g.south(),Pm(),"south",Ha(o,{top:3}),Mm),bw=(o,c,g)=>cl(qM(o),yw(o,c),g.east(),Nn(),"east",Ha(o,{left:0}),Mm),Hy=(o,c,g)=>cl(Wc(o,c),yw(o,c),g.west(),zy(),"west",Ha(o,{right:1}),Mm),Ow=()=>[ul,Gl,Yc,sc,fl,Mc,bw,Hy],Uy=()=>[Gl,ul,sc,Yc,fl,Mc,bw,Hy],xw=()=>[Yc,sc,ul,Gl,Mc,fl],bk=()=>[sc,Yc,Gl,ul,Mc,fl],mx=()=>[ul,Gl,Yc,sc,fl,Mc],Sw=()=>[Gl,ul,sc,Yc,fl,Mc],KM=(o,c)=>c.universal?o:xe(o,g=>be(c.channels,g));var Ok=Object.freeze({__proto__:null,events:o=>Ea([qn(Wl(),(c,g)=>{const S=o.channels,_=ct(S),H=g,K=KM(_,H);pe(K,ve=>{const Ae=S[ve],Ne=Ae.schema,Ue=El("channel["+ve+`] data
Receiver: `+wh(c.element),Ne,H.data);Ae.onReceive(c,Ue)})})])}),eE=[Zc("channels",Kf(jo.value,ca([zd("onReceive"),Mn("schema",vi())])))];const P0=(o,c,g)=>rd(S=>{g(S,o,c)}),gx=(o,c,g)=>qS((S,_)=>{g(S,o,c)}),xk=(o,c,g,S,_,H)=>{const K=ca(o),ve=wc(c,[ed("config",o)]);return Zd(K,ve,c,g,S,_,H)},t9=(o,c,g,S,_,H)=>{const K=o,ve=wc(c,[au("config",o)]);return Zd(K,ve,c,g,S,_,H)},iu=(o,c,g)=>Ly((_,...H)=>{const K=[_].concat(H);return _.config({name:F(o)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+o+". Using API: "+g)},ve=>{const Ae=Array.prototype.slice.call(K,1);return c.apply(void 0,[_,ve.config,ve.state].concat(Ae))})},g,c),n9=o=>({key:o,value:void 0}),Zd=(o,c,g,S,_,H,K)=>{const ve=Je=>En(Je,g)?Je[g]():L.none(),Ae=je(_,(Je,st)=>iu(g,Je,st)),Ue={...je(H,(Je,st)=>XO(Je,st)),...Ae,revoke:Q(n9,g),config:Je=>{const st=El(g+"-config",o,Je);return{key:g,value:{config:st,me:Ue,configAsRaw:Ya(()=>El(g+"-config",o,Je)),initialConfig:Je,state:K}}},schema:F(c),exhibit:(Je,st)=>Xn(ve(Je),Bt(S,"exhibit"),(ht,At)=>At(st,ht.config,ht.state)).getOrThunk(()=>ku({})),name:F(g),handlers:Je=>ve(Je).map(st=>Bt(S,"events").getOr(()=>({}))(st.config,st.state)).getOr({})};return Ue},pr=o=>bt(o),ww=ca([er("fields"),er("name"),Mn("active",{}),Mn("apis",{}),Mn("state",od),Mn("extra",{})]),dl=o=>{const c=El("Creating behaviour: "+o.name,ww,o);return xk(c.fields,c.name,c.active,c.apis,c.extra,c.state)},Sk=ca([er("branchKey"),er("branches"),er("name"),Mn("active",{}),Mn("apis",{}),Mn("state",od),Mn("extra",{})]),px=o=>{const c=El("Creating behaviour: "+o.name,Sk,o);return t9(Os(c.branchKey,c.branches),c.name,c.active,c.apis,c.extra,c.state)},Tw=F(void 0),lu=dl({fields:eE,name:"receiving",active:Ok});var wk=Object.freeze({__proto__:null,exhibit:(o,c)=>ku({classes:[],styles:c.useFixed()?{}:{position:"relative"}})});const cu=(o,c=!1)=>o.dom.focus({preventScroll:c}),M0=o=>o.dom.blur(),Wy=o=>{const c=es(o).dom;return o.dom===c.activeElement},Mh=(o=qv())=>L.from(o.dom.activeElement).map(zt.fromDom),ad=o=>Mh(es(o)).filter(c=>o.dom.contains(c.dom)),Ur=(o,c)=>{const g=es(c),S=Mh(g).bind(H=>{const K=ve=>Jt(H,ve);return K(c)?L.some(c):mk(c,K)}),_=o(c);return S.each(H=>{Mh(g).filter(K=>Jt(K,H)).fold(()=>{cu(H)},M)}),_},of=(o,c,g,S,_)=>{const H=K=>K+"px";return{position:o,left:c.map(H),top:g.map(H),right:S.map(H),bottom:_.map(H)}},Tk=o=>({...o,position:L.some(o.position)}),Ck=(o,c)=>{fr(o,Tk(c))},Cw=we.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),kk=(o,c,g,S,_,H)=>{const K=c.rect,ve=K.x-g,Ae=K.y-S,Ne=K.width,Ue=K.height,Je=_-(ve+Ne),st=H-(Ae+Ue),ht=L.some(ve),At=L.some(Ae),qt=L.some(Je),Dn=L.some(st),mn=L.none();return Lg(c.direction,()=>of(o,ht,At,mn,mn),()=>of(o,mn,At,qt,mn),()=>of(o,ht,mn,mn,Dn),()=>of(o,mn,mn,qt,Dn),()=>of(o,ht,At,mn,mn),()=>of(o,ht,mn,mn,Dn),()=>of(o,ht,At,mn,mn),()=>of(o,mn,At,qt,mn))},kw=(o,c)=>o.fold(()=>{const g=c.rect;return of("absolute",L.some(g.x),L.some(g.y),L.none(),L.none())},(g,S,_,H)=>kk("absolute",c,g,S,_,H),(g,S,_,H)=>kk("fixed",c,g,S,_,H)),Aw=(o,c)=>{const g=Q(Hp,c),S=o.fold(g,g,()=>{const K=Pl();return Hp(c).translate(-K.left,-K.top)}),_=Tf(c),H=Vu(c);return Ja(S.left,S.top,_,H)},nE=(o,c)=>c.fold(()=>o.fold(Vl,Vl,Ja),g=>o.fold(F(g),F(g),()=>{const S=Pw(o,g.x,g.y);return Ja(S.left,S.top,g.width,g.height)})),Pw=(o,c,g)=>{const S=Is(c,g),_=()=>{const H=Pl();return S.translate(-H.left,-H.top)};return o.fold(F(S),F(S),_)},rE=(o,c,g,S)=>o.fold(c,g,S);Cw.none;const Ec=Cw.relative,Yy=Cw.fixed,oE=(o,c)=>({anchorBox:o,origin:c}),sE=(o,c)=>oE(o,c),Mw="data-alloy-placement",aE=(o,c)=>{Dr(o,Mw,c)},Ak=o=>Ri(o,Mw),Pk=o=>sa(o,Mw),Xy=we.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Mk=(o,c)=>{const{x:g,y:S,right:_,bottom:H}=c,{x:K,y:ve,right:Ae,bottom:Ne,width:Ue,height:Je}=o,st=K>=g&&K<=_,ht=ve>=S&&ve<=H,At=st&&ht,qt=Ae<=_&&Ae>=g,Dn=Ne<=H&&Ne>=S,mn=qt&&Dn,on=Math.min(Ue,K>=g?_-K:Ae-g),kn=Math.min(Je,ve>=S?H-ve:Ne-S);return{originInBounds:At,sizeInBounds:mn,visibleW:on,visibleH:kn}},Ew=(o,c)=>{const{x:g,y:S,right:_,bottom:H}=c,{x:K,y:ve,width:Ae,height:Ne}=o,Ue=Math.max(g,_-Ae),Je=Math.max(S,H-Ne),st=rf(K,g,Ue),ht=rf(ve,S,Je),At=Math.min(st+Ae,_)-st,qt=Math.min(ht+Ne,H)-ht;return Ja(st,ht,At,qt)},iv=(o,c,g)=>{const S=F(c.bottom-g.y),_=F(g.bottom-c.y),H=hw(o,_,_,S),K=F(c.right-g.x),ve=F(g.right-c.x);return{maxWidth:ux(o,ve,ve,K),maxHeight:H}},iE=(o,c,g,S)=>{const _=o.bubble,H=_.offset,K=dx(S,o.restriction,H),ve=o.x+H.left,Ae=o.y+H.top,Ne=Ja(ve,Ae,c,g),{originInBounds:Ue,sizeInBounds:Je,visibleW:st,visibleH:ht}=Mk(Ne,K),At=Ue&&Je,qt=At?Ne:Ew(Ne,K),Dn=qt.width>0&&qt.height>0,{maxWidth:mn,maxHeight:on}=iv(o.direction,qt,S),kn={rect:qt,maxHeight:on,maxWidth:mn,direction:o.direction,placement:o.placement,classes:{on:_.classesOn,off:_.classesOff},layout:o.label,testY:Ae};return At||o.alwaysFit?Xy.fit(kn):Xy.nofit(kn,st,ht,Dn)},lE=(o,c,g,S,_,H)=>{const K=S.width,ve=S.height,Ae=(Ue,Je,st,ht,At)=>{const qt=Ue(g,S,_,o,H),Dn=iE(qt,K,ve,H);return Dn.fold(F(Dn),(mn,on,kn,Zn)=>(At===Zn?kn>ht||on>st:!At&&Zn)?Dn:Xy.nofit(Je,st,ht,At))};return ke(c,(Ue,Je)=>{const st=Q(Ae,Je);return Ue.fold(F(Ue),st)},Xy.nofit({rect:g,maxHeight:S.height,maxWidth:S.width,direction:Vy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:g.y},-1,-1,!1)).fold(z,z)},_w=o=>{const c=X(L.none()),g=()=>c.get().each(o);return{clear:()=>{g(),c.set(L.none())},isSet:()=>c.get().isSome(),get:()=>c.get(),set:ve=>{g(),c.set(L.some(ve))}}},cE=()=>_w(o=>o.destroy()),Em=()=>_w(o=>o.unbind()),gs=()=>{const o=_w(M);return{...o,on:g=>o.get().each(g)}},Rw=ie,_c=(o,c,g)=>yg(o,c,Rw,g),vx=(o,c,g)=>hy(o,c,Rw,g),Dw=dy,$w=["top","bottom","right","left"],yx="data-alloy-transition-timer",Ek=(o,c)=>Xl(o,c.classes),uE=(o,c,g)=>g.exists(S=>{const _=o.mode;return _==="all"?!0:S[_]!==c[_]}),fE=(o,c)=>{const g=S=>parseFloat(S).toFixed(3);return Gt(c,(S,_)=>{const H=o[_].map(g),K=S.map(g);return!Yn(H,K)}).isSome()},E0=o=>{const c=H=>{const ve=Qa(o,H).split(/\s*,\s*/);return xe(ve,dn)},g=H=>{if(h(H)&&/^[\d.]+/.test(H)){const K=parseFloat(H);return mt(H,"ms")?K:K*1e3}else return 0},S=c("transition-delay"),_=c("transition-duration");return ke(_,(H,K,ve)=>{const Ae=g(S[ve])+g(K);return Math.max(H,Ae)},0)},_k=(o,c)=>{const g=Em(),S=Em();let _;const H=Ne=>{var Ue;const Je=(Ue=Ne.raw.pseudoElement)!==null&&Ue!==void 0?Ue:"";return Jt(Ne.target,o)&&nn(Je)&&be($w,Ne.raw.propertyName)},K=Ne=>{if(k(Ne)||H(Ne)){g.clear(),S.clear();const Ue=Ne==null?void 0:Ne.raw.type;(k(Ue)||Ue===Ki())&&(clearTimeout(_),sa(o,yx),tf(o,c.classes))}},ve=_c(o,kc(),Ne=>{H(Ne)&&(ve.unbind(),g.set(_c(o,Ki(),K)),S.set(_c(o,Uc(),K)))}),Ae=E0(o);requestAnimationFrame(()=>{_=setTimeout(K,Ae+17),Dr(o,yx,_)})},r9=(o,c)=>{ni(o,c.classes),Ri(o,yx).each(g=>{clearTimeout(parseInt(g,10)),sa(o,yx)}),_k(o,c)},Ig=(o,c,g,S,_,H)=>{const K=uE(S,_,H);if(K||Ek(o,S)){Po(o,"position",g.position);const ve=Aw(c,o),Ae=kw(c,{..._,rect:ve}),Ne=ue($w,Ue=>Ae[Ue]);fE(g,Ne)&&(fr(o,Ne),K&&r9(o,S),li(o))}else tf(o,S.classes)},dE=o=>({width:Tf(o),height:Vu(o)}),_0=(o,c,g,S)=>{Zo(c,"max-height"),Zo(c,"max-width");const _=dE(c);return lE(c,S.preference,o,_,g,S.bounds)},hE=(o,c)=>{const g=c.classes;tf(o,g.off),ni(o,g.on)},Lw=(o,c,g)=>{const S=g.maxHeightFunction;S(o,c.maxHeight)},Rk=(o,c,g)=>{const S=g.maxWidthFunction;S(o,c.maxWidth)},lv=(o,c,g)=>{const S=kw(g.origin,c);g.transition.each(_=>{Ig(o,g.origin,S,_,c,g.lastPlacement)}),Ck(o,S)},mE=(o,c)=>{aE(o,c.placement)},Dk=(o,c)=>{zu(o,Math.floor(c))},$k=F((o,c)=>{Dk(o,c),zi(o,{"overflow-x":"hidden","overflow-y":"auto"})}),R0=F((o,c)=>{Dk(o,c)}),Lk=(o,c,g)=>o[c]===void 0?g:o[c],Iw=(o,c,g,S,_,H,K,ve)=>{const Ae=Lk(K,"maxHeightFunction",$k()),Ne=Lk(K,"maxWidthFunction",M),Ue=o.anchorBox,Je=o.origin,st={bounds:nE(Je,H),origin:Je,preference:S,maxHeightFunction:Ae,maxWidthFunction:Ne,lastPlacement:_,transition:ve};return gE(Ue,c,g,st)},gE=(o,c,g,S)=>{const _=_0(o,c,g,S);return lv(c,_,S),mE(c,_),hE(c,_),Lw(c,_,S),Rk(c,_,S),{layout:_.layout,placement:_.placement}},Ik=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Eh=(o,c,g,S=1)=>{const _=o*S,H=c*S,K=Ae=>Bt(g,Ae).getOr([]),ve=(Ae,Ne,Ue)=>{const Je=se(Ik,Ue);return{offset:Is(Ae,Ne),classesOn:re(Ue,K),classesOff:re(Je,K)}};return{southeast:()=>ve(-o,c,["top","alignLeft"]),southwest:()=>ve(o,c,["top","alignRight"]),south:()=>ve(-o/2,c,["top","alignCentre"]),northeast:()=>ve(-o,-c,["bottom","alignLeft"]),northwest:()=>ve(o,-c,["bottom","alignRight"]),north:()=>ve(-o/2,-c,["bottom","alignCentre"]),east:()=>ve(o,-c/2,["valignCentre","left"]),west:()=>ve(-o,-c/2,["valignCentre","right"]),insetNortheast:()=>ve(_,H,["top","alignLeft","inset"]),insetNorthwest:()=>ve(-_,H,["top","alignRight","inset"]),insetNorth:()=>ve(-_/2,H,["top","alignCentre","inset"]),insetSoutheast:()=>ve(_,-H,["bottom","alignLeft","inset"]),insetSouthwest:()=>ve(-_,-H,["bottom","alignRight","inset"]),insetSouth:()=>ve(-_/2,-H,["bottom","alignCentre","inset"]),insetEast:()=>ve(-_,-H/2,["valignCentre","right","inset"]),insetWest:()=>ve(_,-H/2,["valignCentre","left","inset"])}},Gy=()=>Eh(0,0,{}),jy=z,bx=(o,c)=>g=>qy(g)==="rtl"?c:o,qy=o=>Qa(o,"direction")==="rtl"?"rtl":"ltr";var Lf;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(Lf||(Lf={}));const D0="data-alloy-vertical-dir",Ky=o=>lw(o,c=>St(c)&&oa(c,"data-alloy-vertical-dir")===Lf.BottomToTop),Ng=()=>wc("layouts",[er("onLtr"),er("onRtl"),Ws("onBottomLtr"),Ws("onBottomRtl")]),Ox=(o,c,g,S,_,H,K)=>{const ve=K.map(Ky).getOr(!1),Ae=c.layouts.map(ht=>ht.onLtr(o)),Ne=c.layouts.map(ht=>ht.onRtl(o)),Ue=ve?c.layouts.bind(ht=>ht.onBottomLtr.map(At=>At(o))).or(Ae).getOr(_):Ae.getOr(g),Je=ve?c.layouts.bind(ht=>ht.onBottomRtl.map(At=>At(o))).or(Ne).getOr(H):Ne.getOr(S);return bx(Ue,Je)(o)},pE=(o,c,g)=>{const S=c.hotspot,_=Aw(g,S.element),H=Ox(o.element,c,mx(),Sw(),xw(),bk(),L.some(c.hotspot.element));return L.some(jy({anchorBox:_,bubble:c.bubble.getOr(Gy()),overrides:c.overrides,layouts:H}))};var vE=[er("hotspot"),Ws("bubble"),Mn("overrides",{}),Ng(),ha("placement",pE)];const Nk=(o,c,g)=>{const S=Pw(g,c.x,c.y),_=Ja(S.left,S.top,c.width,c.height),H=Ox(o.element,c,Ow(),Uy(),Ow(),Uy(),L.none());return L.some(jy({anchorBox:_,bubble:c.bubble,overrides:c.overrides,layouts:H}))};var yE=[er("x"),er("y"),Mn("height",0),Mn("width",0),Mn("bubble",Gy()),Mn("overrides",{}),Ng(),ha("placement",Nk)];const Nw=we.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),bE=o=>o.fold(z,(c,g,S)=>c.translate(-g,-S)),OE=o=>o.fold(z,z),Bk=o=>ke(o,(c,g)=>c.translate(g.left,g.top),Is(0,0)),xE=o=>{const c=ne(o,bE);return Bk(c)},Qk=o=>{const c=ne(o,OE);return Bk(c)},SE=Nw.screen,xx=Nw.absolute,wE=(o,c,g)=>{const S=Jn(g.root).dom,_=H=>{const K=Tn(H),ve=Tn(o.element);return Jt(K,ve)};return L.from(S.frameElement).map(zt.fromDom).filter(_).map(Cl)},Fk=(o,c,g)=>{const S=Tn(o.element),_=Pl(S),H=wE(o,c,g).getOr(_);return xx(H,_.left,_.top)},$0=(o,c,g,S)=>{const _=SE(Is(o,c));return L.some(Kv(_,g,S))},Bw=(o,c,g,S,_)=>o.map(H=>{const K=[c,H.point],ve=rE(S,()=>Qk(K),()=>Qk(K),()=>xE(K)),Ae=vh(ve.left,ve.top,H.width,H.height),Ne=g.showAbove?xw():mx(),Ue=g.showAbove?bk():Sw(),Je=Ox(_,g,Ne,Ue,Ne,Ue,L.none());return jy({anchorBox:Ae,bubble:g.bubble.getOr(Gy()),overrides:g.overrides,layouts:Je})}),Qw=(o,c,g)=>{const S=Fk(o,g,c);return c.node.filter(Js).bind(_=>{const H=_.dom.getBoundingClientRect(),K=$0(H.left,H.top,H.width,H.height),ve=c.node.getOr(o.element);return Bw(K,S,c,g,ve)})};var Fw=[er("node"),er("root"),Ws("bubble"),Ng(),Mn("overrides",{}),Mn("showAbove",!1),ha("placement",Qw)];const Vk="\uFEFF",Vw=" ",Sx={create:(o,c,g,S)=>({start:o,soffset:c,finish:g,foffset:S})},wx=we.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),CE=(o,c,g,S)=>o.fold(c,g,S),zw=o=>o.fold(z,z,z),zk=wx.before,kE=wx.on,Zw=wx.after,AE={before:zk,on:kE,after:Zw,cata:CE,getStart:zw},L0=we.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),PE=o=>L0.exact(o.start,o.soffset,o.finish,o.foffset),Hw=o=>o.match({domRange:c=>zt.fromDom(c.startContainer),relative:(c,g)=>AE.getStart(c),exact:(c,g,S,_)=>c}),ME=L0.domRange,EE=L0.relative,_E=L0.exact,Zk=o=>{const c=Hw(o);return Jn(c)},RE=Sx.create,_l={domRange:ME,relative:EE,exact:_E,exactFromRange:PE,getWin:Zk,range:RE},o9=(o,c)=>{c.fold(g=>{o.setStartBefore(g.dom)},(g,S)=>{o.setStart(g.dom,S)},g=>{o.setStartAfter(g.dom)})},I0=(o,c)=>{c.fold(g=>{o.setEndBefore(g.dom)},(g,S)=>{o.setEnd(g.dom,S)},g=>{o.setEndAfter(g.dom)})},Tx=(o,c,g)=>{const S=o.document.createRange();return o9(S,c),I0(S,g),S},Hk=(o,c,g,S,_)=>{const H=o.document.createRange();return H.setStart(c.dom,g),H.setEnd(S.dom,_),H},Uw=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),Uk=o=>{const c=o.getClientRects(),g=c.length>0?c[0]:o.getBoundingClientRect();return g.width>0||g.height>0?L.some(g).map(Uw):L.none()},Wk=o=>{const c=o.getBoundingClientRect();return c.width>0||c.height>0?L.some(c).map(Uw):L.none()},cv=we.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jy=(o,c,g)=>c(zt.fromDom(g.startContainer),g.startOffset,zt.fromDom(g.endContainer),g.endOffset),DE=(o,c)=>c.match({domRange:g=>({ltr:F(g),rtl:L.none}),relative:(g,S)=>({ltr:Ya(()=>Tx(o,g,S)),rtl:Ya(()=>L.some(Tx(o,S,g)))}),exact:(g,S,_,H)=>({ltr:Ya(()=>Hk(o,g,S,_,H)),rtl:Ya(()=>L.some(Hk(o,_,H,g,S)))})}),$E=(o,c)=>{const g=c.ltr();return g.collapsed?c.rtl().filter(_=>_.collapsed===!1).map(_=>cv.rtl(zt.fromDom(_.endContainer),_.endOffset,zt.fromDom(_.startContainer),_.startOffset)).getOrThunk(()=>Jy(o,cv.ltr,g)):Jy(o,cv.ltr,g)},eb=(o,c)=>{const g=DE(o,c);return $E(o,g)},Ww=(o,c)=>eb(o,c).match({ltr:(S,_,H,K)=>{const ve=o.document.createRange();return ve.setStart(S.dom,_),ve.setEnd(H.dom,K),ve},rtl:(S,_,H,K)=>{const ve=o.document.createRange();return ve.setStart(H.dom,K),ve.setEnd(S.dom,_),ve}});cv.ltr,cv.rtl;const Yk=(o,c,g)=>xe(Hr(o,g),c),hl=(o,c)=>en(c,o),Xk=(o,c,g,S)=>{const H=Tn(o).dom.createRange();return H.setStart(o.dom,c),H.setEnd(g.dom,S),H},Yw=(o,c,g,S)=>{const _=Xk(o,c,g,S),H=Jt(o,g)&&c===S;return _.collapsed&&!H},s9=o=>L.from(o.getSelection()),N0=o=>{if(o.rangeCount>0){const c=o.getRangeAt(0),g=o.getRangeAt(o.rangeCount-1);return L.some(Sx.create(zt.fromDom(c.startContainer),c.startOffset,zt.fromDom(g.endContainer),g.endOffset))}else return L.none()},LE=o=>{if(o.anchorNode===null||o.focusNode===null)return N0(o);{const c=zt.fromDom(o.anchorNode),g=zt.fromDom(o.focusNode);return Yw(c,o.anchorOffset,g,o.focusOffset)?L.some(Sx.create(c,o.anchorOffset,g,o.focusOffset)):N0(o)}},Gk=o=>s9(o).filter(c=>c.rangeCount>0).bind(LE),Xw=(o,c)=>{const g=Ww(o,c);return Uk(g)},tb=(o,c)=>{const g=Ww(o,c);return Wk(g)},B0=((o,c)=>{const g=H=>{if(!o(H))throw new Error("Can only get "+c+" value of a "+c+" node");return S(H).getOr("")},S=H=>o(H)?L.from(H.dom.nodeValue):L.none();return{get:g,getOption:S,set:(H,K)=>{if(!o(H))throw new Error("Can only set raw "+c+" value of a "+c+" node");H.dom.nodeValue=K}}})(Ct,"text"),IE=o=>B0.get(o),Bg=(o,c)=>({element:o,offset:c}),jk=(o,c)=>{const g=qr(o);if(g.length===0)return Bg(o,c);if(c<g.length)return Bg(g[c],0);{const S=g[g.length-1],_=Ct(S)?IE(S).length:qr(S).length;return Bg(S,_)}},Qg=(o,c)=>Ct(o)?Bg(o,c):jk(o,c),Fg=o=>o.foffset!==void 0,Gw=(o,c)=>c.getSelection.getOrThunk(()=>()=>Gk(o))().map(S=>{if(Fg(S)){const _=Qg(S.start,S.soffset),H=Qg(S.finish,S.foffset);return _l.range(_.element,_.offset,H.element,H.offset)}else return S}),qk=(o,c,g)=>{const S=Jn(c.root).dom,_=Fk(o,g,c),H=Gw(S,c).bind(Ae=>{if(Fg(Ae))return tb(S,_l.exactFromRange(Ae)).orThunk(()=>{const Ue=zt.fromText(Vk);Uu(Ae.start,Ue);const Je=Xw(S,_l.exact(Ue,0,Ue,1));return xc(Ue),Je}).bind(Ue=>$0(Ue.left,Ue.top,Ue.width,Ue.height));{const Ne=je(Ae,Je=>Je.dom.getBoundingClientRect()),Ue={left:Math.min(Ne.firstCell.left,Ne.lastCell.left),right:Math.max(Ne.firstCell.right,Ne.lastCell.right),top:Math.min(Ne.firstCell.top,Ne.lastCell.top),bottom:Math.max(Ne.firstCell.bottom,Ne.lastCell.bottom)};return $0(Ue.left,Ue.top,Ue.right-Ue.left,Ue.bottom-Ue.top)}}),ve=Gw(S,c).bind(Ae=>Fg(Ae)?St(Ae.start)?L.some(Ae.start):dr(Ae.start):L.some(Ae.firstCell)).getOr(o.element);return Bw(H,_,c,g,ve)};var a9=[Ws("getSelection"),er("root"),Ws("bubble"),Ng(),Mn("overrides",{}),Mn("showAbove",!1),ha("placement",qk)];const jw="link-layout",Vg=o=>o.x+o.width,_h=(o,c)=>o.x-c.width,nb=(o,c)=>o.y-c.height+o.height,Q0=o=>o.y,qw=(o,c,g)=>cl(Vg(o),Q0(o),g.southeast(),Vy(),"southeast",Ha(o,{left:0,top:2}),jw),_m=(o,c,g)=>cl(_h(o,c),Q0(o),g.southwest(),mw(),"southwest",Ha(o,{right:1,top:2}),jw),Hd=(o,c,g)=>cl(Vg(o),nb(o,c),g.northeast(),fx(),"northeast",Ha(o,{left:0,bottom:3}),jw),rb=(o,c,g)=>cl(_h(o,c),nb(o,c),g.northwest(),Ph(),"northwest",Ha(o,{right:1,bottom:3}),jw),kx=()=>[qw,_m,Hd,rb],ob=()=>[_m,qw,rb,Hd],Kw=(o,c,g)=>{const S=Aw(g,c.item.element),_=Ox(o.element,c,kx(),ob(),kx(),ob(),L.none());return L.some(jy({anchorBox:S,bubble:Gy(),overrides:c.overrides,layouts:_}))};var F0=[er("item"),Ng(),Mn("overrides",{}),ha("placement",Kw)],sb=Os("type",{selection:a9,node:Fw,hotspot:vE,submenu:F0,makeshift:yE});const Jw=[rc("classes",al),Hc("mode","all",["all","layout","placement"])],Kk=[Mn("useFixed",Y),Ws("getBounds")],zg=[Zc("anchor",sb),wc("transition",Jw)],Ax=()=>{const o=document.documentElement;return Yy(0,0,o.clientWidth,o.clientHeight)},NE=o=>{const c=Cl(o.element),g=o.element.dom.getBoundingClientRect();return Ec(c.left,c.top,g.width,g.height)},Jk=(o,c,g,S,_,H)=>{const K=sE(c.anchorBox,o);return Iw(K,S.element,c.bubble,c.layouts,_,g,c.overrides,H)},eT=(o,c,g,S,_)=>{const H=L.none();Pi(o,c,g,S,_,H)},Pi=(o,c,g,S,_,H)=>{const K=El("placement.info",uo(zg),_),ve=K.anchor,Ae=S.element,Ne=g.get(S.uid);Ur(()=>{Po(Ae,"position","fixed");const Ue=za(Ae,"visibility");Po(Ae,"visibility","hidden");const Je=c.useFixed()?Ax():NE(o);ve.placement(o,ve,Je).each(st=>{const ht=H.orThunk(()=>c.getBounds.map(W)),At=Jk(Je,st,ht,S,Ne,K.transition);g.set(S.uid,At)}),Ue.fold(()=>{Zo(Ae,"visibility")},st=>{Po(Ae,"visibility",st)}),za(Ae,"left").isNone()&&za(Ae,"top").isNone()&&za(Ae,"right").isNone()&&za(Ae,"bottom").isNone()&&ln(za(Ae,"position"),"fixed")&&Zo(Ae,"position")},Ae)};var eA=Object.freeze({__proto__:null,position:eT,positionWithinBounds:Pi,getMode:(o,c,g)=>c.useFixed()?"fixed":"absolute",reset:(o,c,g,S)=>{const _=S.element;pe(["position","left","right","top","bottom"],H=>Zo(_,H)),Pk(_),g.clear(S.uid)}}),Zg=Object.freeze({__proto__:null,init:()=>{let o={};return Cu({readState:()=>o,clear:_=>{C(_)?delete o[_]:o={}},set:(_,H)=>{o[_]=H},get:_=>Bt(o,_)})}});const ac=dl({fields:Kk,name:"positioning",active:wk,apis:eA,state:Zg}),V0=o=>o.getSystem().isConnected(),ab=o=>{ks(o,kg());const c=o.components();pe(c,ab)},z0=o=>{const c=o.components();pe(c,z0),ks(o,ef())},tT=(o,c)=>{o.getSystem().addToWorld(c),Js(o.element)&&z0(c)},Z0=o=>{ab(o),o.getSystem().removeFromWorld(o)},uv=(o,c)=>{Vc(o.element,c.element)},Ud=o=>{pe(o.components(),c=>xc(c.element)),bg(o.element),o.syncComponents()},BE=(o,c,g)=>{const S=o.components();Ud(o);const _=g(c),H=se(S,_);pe(H,K=>{ab(K),o.getSystem().removeFromWorld(K)}),pe(_,K=>{V0(K)?uv(o,K):(o.getSystem().addToWorld(K),uv(o,K),Js(o.element)&&z0(K))}),o.syncComponents()},QE=(o,c,g)=>{const S=o.components(),_=re(c,ve=>f0(ve).toArray());pe(S,ve=>{be(_,ve)||Z0(ve)});const H=g(c),K=se(S,H);pe(K,ve=>{V0(ve)&&Z0(ve)}),pe(H,ve=>{V0(ve)||tT(o,ve)}),o.syncComponents()},Hg=(o,c)=>{H0(o,c,Vc)},H0=(o,c,g)=>{o.getSystem().addToWorld(c),g(o.element,c.element),Js(o.element)&&z0(c),o.syncComponents()},Mx=o=>{ab(o),xc(o.element),o.getSystem().removeFromWorld(o)},Rh=o=>{const c=Fn(o.element).bind(g=>o.getSystem().getByDom(g).toOptional());Mx(o),c.each(g=>{g.syncComponents()})},nT=o=>{const c=o.components();pe(c,Mx),bg(o.element),o.syncComponents()},Rl=(o,c)=>{id(o,c,Vc)},Dm=(o,c)=>{id(o,c,zp)},id=(o,c,g)=>{g(o,c.element);const S=qr(c.element);pe(S,_=>{c.getByDom(_).each(z0)})},U0=o=>{const c=qr(o.element);pe(c,g=>{o.getByDom(g).each(ab)}),xc(o.element)},Rc=(o,c,g,S)=>{g.get().each(K=>{nT(o)});const _=c.getAttachPoint(o);Hg(_,o);const H=o.getSystem().build(S);return Hg(o,H),g.set(H),H},uu=(o,c,g,S)=>{const _=Rc(o,c,g,S);return c.onOpen(o,_),_},Xc=(o,c,g,S)=>g.get().map(()=>Rc(o,c,g,S)),ld=(o,c,g,S,_)=>{ib(o,c),uu(o,c,g,S),_(),lb(o,c)},Ex=(o,c,g)=>{g.get().each(S=>{nT(o),Rh(o),c.onClose(o,S),g.clear()})},sf=(o,c,g)=>g.isOpen(),fv=(o,c,g,S)=>sf(o,c,g)&&g.get().exists(_=>c.isPartOf(o,_,S)),rT=(o,c,g)=>g.get(),FE=(o,c,g,S)=>{za(o.element,c).fold(()=>{sa(o.element,g)},_=>{Dr(o.element,g,_)}),Po(o.element,c,S)},tA=(o,c,g)=>{Ri(o.element,g).fold(()=>Zo(o.element,c),S=>Po(o.element,c,S))},ib=(o,c,g)=>{const S=c.getAttachPoint(o);Po(o.element,"position",ac.getMode(S)),FE(o,"visibility",c.cloakVisibilityAttr,"hidden")},nA=o=>Te(["top","left","right","bottom"],c=>za(o,c).isSome()),lb=(o,c,g)=>{nA(o.element)||Zo(o.element,"position"),tA(o,"visibility",c.cloakVisibilityAttr)};var _x=Object.freeze({__proto__:null,cloak:ib,decloak:lb,open:uu,openWhileCloaked:ld,close:Ex,isOpen:sf,isPartOf:fv,getState:rT,setContent:Xc}),rA=Object.freeze({__proto__:null,events:(o,c)=>Ea([qn(Ju(),(g,S)=>{Ex(g,o,c)})])}),zE=[Rs("onOpen"),Rs("onClose"),er("isPartOf"),er("getAttachPoint"),Mn("cloakVisibilityAttr","data-precloak-visibility")],oA=Object.freeze({__proto__:null,init:()=>{const o=gs(),c=F("not-implemented");return Cu({readState:c,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const As=dl({fields:zE,name:"sandboxing",active:rA,apis:_x,state:oA}),Wd=F("dismiss.popups"),dv=F("reposition.popups"),oT=F("mouse.released"),sA=ca([Mn("isExtraPart",Y),wc("fireEventInstead",[Mn("event",Ag())])]),cb=o=>{const c=El("Dismissal",sA,o);return{[Wd()]:{schema:ca([er("target")]),onReceive:(g,S)=>{As.isOpen(g)&&(As.isPartOf(g,S.target)||c.isExtraPart(g,S.target)||c.fireEventInstead.fold(()=>As.close(g),H=>ks(g,H.event)))}}}},ZE=ca([wc("fireEventInstead",[Mn("event",KC())]),qu("doReposition")]),W0=o=>{const c=El("Reposition",ZE,o);return{[dv()]:{onReceive:g=>{As.isOpen(g)&&c.fireEventInstead.fold(()=>c.doReposition(g),S=>ks(g,S.event))}}}},Rx=(o,c,g)=>{c.store.manager.onLoad(o,c,g)},af=(o,c,g)=>{c.store.manager.onUnload(o,c,g)};var Ug=Object.freeze({__proto__:null,onLoad:Rx,onUnload:af,setValue:(o,c,g,S)=>{c.store.manager.setValue(o,c,g,S)},getValue:(o,c,g)=>c.store.manager.getValue(o,c,g),getState:(o,c,g)=>g}),Lx=Object.freeze({__proto__:null,events:(o,c)=>{const g=o.resetOnDom?[Ca((S,_)=>{Rx(S,o,c)}),Sh((S,_)=>{af(S,o,c)})]:[gx(o,c,Rx)];return Ea(g)}});const hv=()=>{const o=X(null),c=()=>({mode:"memory",value:o.get()}),g=()=>o.get()===null,S=()=>{o.set(null)};return Cu({set:o.set,get:o.get,isNotSet:g,clear:S,readState:c})},HE=()=>Cu({readState:M}),aA=()=>{const o=X({}),c=X({});return Cu({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:c.get()}),lookup:K=>Bt(o.get(),K).orThunk(()=>Bt(c.get(),K)),update:K=>{const ve=o.get(),Ae=c.get(),Ne={},Ue={};pe(K,Je=>{Ne[Je.value]=Je,Bt(Je,"meta").each(st=>{Bt(st,"text").each(ht=>{Ue[ht]=Je})})}),o.set({...ve,...Ne}),c.set({...Ae,...Ue})},clear:()=>{o.set({}),c.set({})}})};var X0=Object.freeze({__proto__:null,memory:hv,dataset:aA,manual:HE,init:o=>o.store.manager.state(o)});const $m=(o,c,g,S)=>{const _=c.store;g.update([S]),_.setValue(o,S),c.onSetValue(o,S)},WE=(o,c,g)=>{const S=c.store,_=S.getDataKey(o);return g.lookup(_).getOrThunk(()=>S.getFallbackEntry(_))},YE=(o,c,g)=>{c.store.initialValue.each(_=>{$m(o,c,g,_)})},iA=(o,c,g)=>{g.clear()};var sT=[Ws("initialValue"),er("getFallbackEntry"),er("getDataKey"),er("setValue"),ha("manager",{setValue:$m,getValue:WE,onLoad:YE,onUnload:iA,state:aA})];const aT=(o,c,g)=>c.store.getValue(o),iT=(o,c,g,S)=>{c.store.setValue(o,S),c.onSetValue(o,S)},Ix=(o,c,g)=>{c.store.initialValue.each(S=>{c.store.setValue(o,S)})};var Wg=[er("getValue"),Mn("setValue",M),Ws("initialValue"),ha("manager",{setValue:iT,getValue:aT,onLoad:Ix,onUnload:M,state:od.init})];const lA=(o,c,g,S)=>{g.set(S),c.onSetValue(o,S)},ub=(o,c,g)=>g.get(),lT=(o,c,g)=>{c.store.initialValue.each(S=>{g.isNotSet()&&g.set(S)})},XE=(o,c,g)=>{g.clear()};var fb=[Ws("initialValue"),ha("manager",{setValue:lA,getValue:ub,onLoad:lT,onUnload:XE,state:hv})],GE=[Tc("store",{mode:"memory"},Os("mode",{memory:fb,manual:Wg,dataset:sT})),Rs("onSetValue"),Mn("resetOnDom",!1)];const Fr=dl({fields:GE,name:"representing",active:Lx,apis:Ug,extra:{setValueFrom:(o,c)=>{const g=Fr.getValue(c);Fr.setValue(o,g)}},state:X0}),el=(o,c)=>D(o,{},ne(c,g=>s0(g.name(),"Cannot configure "+g.name()+" for "+o)).concat([ei("dump",z)])),Lm=o=>o.dump,Ni=(o,c)=>({...pr(c),...o.dump}),If={field:el,augment:Ni,get:Lm},Nx="placeholder",db=we.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Yd=o=>vn(o,"uiType"),Bx=(o,c,g,S)=>o.exists(_=>_!==g.owner)?db.single(!0,F(g)):Bt(S,g.name).fold(()=>{throw new Error("Unknown placeholder component: "+g.name+`
Known: [`+ct(S)+`]
Namespace: `+o.getOr("none")+`
Spec: `+JSON.stringify(g,null,2))},_=>_.replace()),Qx=(o,c,g,S)=>Yd(g)&&g.uiType===Nx?Bx(o,c,g,S):db.single(!1,F(g)),G0=(o,c,g,S)=>Qx(o,c,g,S).fold((H,K)=>{const ve=Yd(g)?K(c,g.config,g.validated):K(c),Ae=Bt(ve,"components").getOr([]),Ne=re(Ae,Ue=>G0(o,c,Ue,S));return[{...ve,components:Ne}]},(H,K)=>{if(Yd(g)){const ve=K(c,g.config,g.validated);return g.validated.preprocess.getOr(z)(ve)}else return K(c)}),cA=(o,c,g,S)=>re(g,_=>G0(o,c,_,S)),hb=(o,c)=>{let g=!1;const S=()=>g,_=()=>{if(g)throw new Error("Trying to use the same placeholder more than once: "+o);return g=!0,c},H=()=>c.fold((K,ve)=>K,(K,ve)=>K);return{name:F(o),required:H,used:S,replace:_}},cT=(o,c,g,S)=>{const _=je(S,(K,ve)=>hb(ve,K)),H=cA(o,c,g,_);return Ye(_,K=>{if(K.used()===!1&&K.required())throw new Error("Placeholder: "+K.name()+` was not found in components list
Namespace: `+o.getOr("none")+`
Components: `+JSON.stringify(c.components,null,2))}),H},uT=db.single,jE=db.multiple,Xd=F(Nx),Fx=we.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),j0=Mn("factory",{sketch:z}),jl=Mn("schema",[]),Xi=er("name"),Vx=il("pname","pname",Ef(o=>"<alloy."+Kr(o.name)+">"),vi()),mb=ei("schema",()=>[Ws("preprocess")]),zx=Mn("defaults",F({})),gb=Mn("overrides",F({})),pb=uo([j0,jl,Xi,Vx,zx,gb]),q0=uo([j0,jl,Xi,zx,gb]),uA=uo([j0,jl,Xi,Vx,zx,gb]),vb=uo([j0,mb,Xi,er("unit"),Vx,zx,gb]),fA=o=>o.fold(L.some,L.none,L.some,L.some),dA=o=>{const c=g=>g.name;return o.fold(c,c,c,c)},hA=o=>o.fold(z,z,z,z),Nf=(o,c)=>g=>{const S=El("Converting part type",c,g);return o(S)},ic=Nf(Fx.required,pb),cd=Nf(Fx.external,q0),fu=Nf(Fx.optional,uA),yb=Nf(Fx.group,vb),Zx=F("entirety");var mA=Object.freeze({__proto__:null,required:ic,external:cd,optional:fu,group:yb,asNamedPart:fA,name:dA,asCommon:hA,original:Zx});const bb=(o,c,g,S)=>Ta(c.defaults(o,g,S),g,{uid:o.partUids[c.name]},c.overrides(o,g,S)),qE=(o,c,g)=>{const S={},_={};return pe(g,H=>{H.fold(K=>{S[K.pname]=uT(!0,(ve,Ae,Ne)=>K.factory.sketch(bb(ve,K,Ae,Ne)))},K=>{const ve=c.parts[K.name];_[K.name]=F(K.factory.sketch(bb(c,K,ve[Zx()]),ve))},K=>{S[K.pname]=uT(!1,(ve,Ae,Ne)=>K.factory.sketch(bb(ve,K,Ae,Ne)))},K=>{S[K.pname]=jE(!0,(ve,Ae,Ne)=>{const Ue=ve[K.name];return ne(Ue,Je=>K.factory.sketch(Ta(K.defaults(ve,Je,Ne),Je,K.overrides(ve,Je))))})})}),{internals:F(S),externals:F(_)}},Im=(o,c)=>{const g={};return pe(c,S=>{fA(S).each(_=>{const H=Ob(o,_.pname);g[_.name]=K=>{const ve=El("Part: "+_.name+" in "+o,uo(_.schema),K);return{...H,config:K,validated:ve}}})}),g},Ob=(o,c)=>({uiType:Xd(),owner:o,name:c}),fT=(o,c,g)=>({uiType:Xd(),owner:o,name:c,config:g,validated:{}}),gA=o=>re(o,c=>c.fold(L.none,L.some,L.none,L.none).map(g=>su(g.name,g.schema.concat([Fy(Zx())]))).toArray()),pA=o=>ne(o,dA),dT=(o,c,g)=>qE(o,c,g),Hx=(o,c,g)=>cT(L.some(o),c,c.components,g),ka=(o,c,g)=>{const S=c.partUids[g];return o.getSystem().getByUid(S).toOptional()},Nm=(o,c,g)=>ka(o,c,g).getOrDie("Could not find part: "+g),vA=(o,c,g)=>{const S={},_=c.partUids,H=o.getSystem();return pe(g,K=>{S[K]=F(H.getByUid(_[K]))}),S},hT=(o,c)=>{const g=o.getSystem();return je(c.partUids,(S,_)=>F(g.getByUid(S)))},mT=o=>ct(o.partUids),mv=(o,c,g)=>{const S={},_=c.partUids,H=o.getSystem();return pe(g,K=>{S[K]=F(H.getByUid(_[K]).getOrDie())}),S},gT=(o,c)=>{const g=pA(c);return bt(ne(g,S=>({key:S,value:o+"-"+S})))},pT=o=>il("partUids","partUids",hs(c=>gT(c.uid,o)),vi());var KE=Object.freeze({__proto__:null,generate:Im,generateOne:fT,schemas:gA,names:pA,substitutes:dT,components:Hx,defaultUids:gT,defaultUidsSchema:pT,getAllParts:hT,getAllPartNames:mT,getPart:ka,getPartOrDie:Nm,getParts:vA,getPartsOrDie:mv});const K0=(o,c)=>(o.length>0?[su("parts",o)]:[]).concat([er("uid"),Mn("dom",{}),Mn("components",[]),Fy("originalSpec"),Mn("debug.sketcher",{})]).concat(c),J0=(o,c,g,S,_)=>{const H=K0(S,_);return El(o+" [SpecSchema]",ca(H.concat(c)),g)},vT=(o,c,g,S)=>{const _=Yg(S),H=J0(o,c,_,[],[]);return g(H,_)},yT=(o,c,g,S,_)=>{const H=Yg(_),K=gA(g),ve=pT(g),Ae=J0(o,c,H,K,[ve]),Ne=dT(o,Ae,g),Ue=Hx(o,Ae,Ne.internals());return S(Ae,Ue,H,Ne.externals())},ud=o=>vn(o,"uid"),Yg=o=>ud(o)?o:{...o,uid:c0("uid")},JE=o=>o.uid!==void 0,xb=ca([er("name"),er("factory"),er("configFields"),Mn("apis",{}),Mn("extraApis",{})]),e_=ca([er("name"),er("factory"),er("configFields"),er("partFields"),Mn("apis",{}),Mn("extraApis",{})]),_u=o=>{const c=El("Sketcher for "+o.name,xb,o),g=H=>vT(c.name,c.configFields,c.factory,H),S=je(c.apis,ev),_=je(c.extraApis,(H,K)=>XO(H,K));return{name:c.name,configFields:c.configFields,sketch:g,...S,..._}},lc=o=>{const c=El("Sketcher for "+o.name,e_,o),g=K=>yT(c.name,c.configFields,c.partFields,c.factory,K),S=Im(c.name,c.partFields),_=je(c.apis,ev),H=je(c.extraApis,(K,ve)=>XO(K,ve));return{name:c.name,partFields:c.partFields,configFields:c.configFields,sketch:g,parts:S,..._,...H}},gv=o=>Ht("input")(o)&&oa(o,"type")!=="radio"||Ht("textarea")(o);var yA=Object.freeze({__proto__:null,getCurrent:(o,c,g)=>c.find(o)});const t_=[er("find")],xs=dl({fields:t_,name:"composing",apis:yA}),bT=["input","button","textarea","select"],bA=(o,c,g)=>{(c.disabled()?xA:Sb)(o,c)},OT=(o,c)=>c.useNative===!0&&be(bT,Oo(o.element)),n_=o=>Md(o.element,"disabled"),r_=o=>{Dr(o.element,"disabled","disabled")},OA=o=>{sa(o.element,"disabled")},o_=o=>oa(o.element,"aria-disabled")==="true",Wr=o=>{Dr(o.element,"aria-disabled","true")},Xg=o=>{Dr(o.element,"aria-disabled","false")},xA=(o,c,g)=>{c.disableClass.each(_=>{ki(o.element,_)}),(OT(o,c)?r_:Wr)(o),c.onDisabled(o)},Sb=(o,c,g)=>{c.disableClass.each(_=>{Xa(o.element,_)}),(OT(o,c)?OA:Xg)(o),c.onEnabled(o)},wb=(o,c)=>OT(o,c)?n_(o):o_(o);var u9=Object.freeze({__proto__:null,enable:Sb,disable:xA,isDisabled:wb,onLoad:bA,set:(o,c,g,S)=>{(S?xA:Sb)(o,c)}}),a_=Object.freeze({__proto__:null,exhibit:(o,c)=>ku({classes:c.disabled()?c.disableClass.toArray():[]}),events:(o,c)=>Ea([YS(Ii(),(g,S)=>wb(g,o)),gx(o,c,bA)])}),SA=[Di("disabled",Y),Mn("useNative",!0),Ws("disableClass"),Rs("onDisabled"),Rs("onEnabled")];const Co=dl({fields:SA,name:"disabling",active:a_,apis:u9}),Bm=(o,c,g,S)=>{const _=hl(o.element,"."+c.highlightClass);pe(_,H=>{Te(S,ve=>Jt(ve.element,H))||(Xa(H,c.highlightClass),o.getSystem().getByDom(H).each(ve=>{c.onDehighlight(o,ve),ks(ve,_y())}))})},wA=(o,c,g)=>Bm(o,c,g,[]),i_=(o,c,g,S)=>{Ux(o,c,g,S)&&(Xa(S.element,c.highlightClass),c.onDehighlight(o,S),ks(S,_y()))},Tb=(o,c,g,S)=>{Bm(o,c,g,[S]),Ux(o,c,g,S)||(ki(S.element,c.highlightClass),c.onHighlight(o,S),ks(S,Ey()))},l_=(o,c,g)=>{e1(o,c).each(S=>{Tb(o,c,g,S)})},TA=(o,c,g)=>{ST(o,c).each(S=>{Tb(o,c,g,S)})},xT=(o,c,g,S)=>{u_(o,c,g,S).fold(_=>{throw _},_=>{Tb(o,c,g,_)})},CA=(o,c,g,S)=>{const _=Wx(o,c);Ze(_,S).each(K=>{Tb(o,c,g,K)})},Ux=(o,c,g,S)=>Ji(S.element,c.highlightClass),c_=(o,c,g)=>Ai(o.element,"."+c.highlightClass).bind(S=>o.getSystem().getByDom(S).toOptional()),u_=(o,c,g,S)=>{const _=hl(o.element,"."+c.itemClass);return L.from(_[S]).fold(()=>jo.error(new Error("No element found with index "+S)),o.getSystem().getByDom)},e1=(o,c,g)=>Ai(o.element,"."+c.itemClass).bind(S=>o.getSystem().getByDom(S).toOptional()),ST=(o,c,g)=>{const S=hl(o.element,"."+c.itemClass);return(S.length>0?L.some(S[S.length-1]):L.none()).bind(H=>o.getSystem().getByDom(H).toOptional())},kA=(o,c,g,S)=>{const _=hl(o.element,"."+c.itemClass);return De(_,K=>Ji(K,c.highlightClass)).bind(K=>{const ve=k0(K,S,0,_.length-1);return o.getSystem().getByDom(_[ve]).toOptional()})},f_=(o,c,g)=>kA(o,c,g,-1),d_=(o,c,g)=>kA(o,c,g,1),Wx=(o,c,g)=>{const S=hl(o.element,"."+c.itemClass);return an(ne(S,_=>o.getSystem().getByDom(_).toOptional()))};var Dh=Object.freeze({__proto__:null,dehighlightAll:wA,dehighlight:i_,highlight:Tb,highlightFirst:l_,highlightLast:TA,highlightAt:xT,highlightBy:CA,isHighlighted:Ux,getHighlighted:c_,getFirst:e1,getLast:ST,getPrevious:f_,getNext:d_,getCandidates:Wx}),Yx=[er("highlightClass"),er("itemClass"),Rs("onHighlight"),Rs("onDehighlight")];const Ys=dl({fields:Yx,name:"highlighting",apis:Dh}),h_=[8],Qm=[9],$h=[13],Xx=[27],lf=[32],Gx=[37],Fm=[38],t1=[39],Cb=[40],wT=(o,c,g)=>{const S=te(o.slice(0,c)),_=te(o.slice(c+1));return Ze(S.concat(_),g)},m_=(o,c,g)=>{const S=te(o.slice(0,c));return Ze(S,g)},TT=(o,c,g)=>{const S=o.slice(0,c),_=o.slice(c+1);return Ze(_.concat(S),g)},g_=(o,c,g)=>{const S=o.slice(c+1);return Ze(S,g)},Ps=o=>c=>{const g=c.raw;return be(o,g.which)},cf=o=>c=>ye(o,g=>g(c)),Gg=o=>o.raw.shiftKey===!0,p_=o=>o.raw.ctrlKey===!0,n1=B(Gg),Qs=(o,c)=>({matches:o,classification:c}),v_=(o,c)=>Ze(o,S=>S.matches(c)).map(S=>S.classification),CT=(o,c,g)=>{c.exists(_=>g.exists(H=>Jt(H,_)))||vo(o,VO(),{prevFocus:c,newFocus:g})},A=()=>{const o=g=>ad(g.element);return{get:o,set:(g,S)=>{const _=o(g);g.getSystem().triggerFocus(S,g.element);const H=o(g);CT(g,_,H)}}},$=()=>{const o=g=>Ys.getHighlighted(g).map(S=>S.element);return{get:o,set:(g,S)=>{const _=o(g);g.getSystem().getByDom(S).fold(M,K=>{Ys.highlight(g,K)});const H=o(g);CT(g,_,H)}}};var j;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(j||(j={}));const ce=(o,c,g,S,_)=>{const H=()=>o.concat([Mn("focusManager",A()),Tc("focusInside","onFocus",Ml(Ne=>be(["onFocus","onEnterOrSpace","onApi"],Ne)?jo.value(Ne):jo.error("Invalid value for focusInside"))),ha("handler",Ae),ha("state",c),ha("sendFocusIn",_)]),K=(Ne,Ue,Je,st,ht)=>{const At=Je(Ne,Ue,st,ht);return v_(At,Ue.event).bind(qt=>qt(Ne,Ue,st,ht))},Ae={schema:H,processKey:K,toEvents:(Ne,Ue)=>{const Je=Ne.focusInside!==j.OnFocusMode?L.none():_(Ne).map(At=>qn(Df(),(qt,Dn)=>{At(qt,Ne,Ue),Dn.stop()})),st=(At,qt)=>{const Dn=Ps(lf.concat($h))(qt.event);Ne.focusInside===j.OnEnterOrSpaceMode&&Dn&&hn(At,qt)&&_(Ne).each(mn=>{mn(At,Ne,Ue),qt.stop()})},ht=[qn(_s(),(At,qt)=>{K(At,qt,g,Ne,Ue).fold(()=>{st(At,qt)},Dn=>{qt.stop()})}),qn(Ba(),(At,qt)=>{K(At,qt,S,Ne,Ue).each(Dn=>{qt.stop()})})];return Ea(Je.toArray().concat(ht))}};return Ae},Me=o=>{const c=[Ws("onEscape"),Ws("onEnter"),Mn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Mn("firstTabstop",0),Mn("useTabstopAt",ie),Ws("visibilitySelector")].concat([o]),g=(mn,on)=>{const kn=mn.visibilitySelector.bind(Zn=>Vd(on,Zn)).getOr(on);return Za(kn)>0},S=(mn,on)=>{const kn=hl(mn.element,on.selector),Zn=xe(kn,mr=>g(on,mr));return L.from(Zn[on.firstTabstop])},_=(mn,on)=>on.focusManager.get(mn).bind(kn=>Vd(kn,on.selector)),H=(mn,on)=>g(mn,on)&&mn.useTabstopAt(on),K=(mn,on,kn)=>{S(mn,on).each(Zn=>{on.focusManager.set(mn,Zn)})},ve=(mn,on,kn,Zn,mr)=>mr(on,kn,Gn=>H(Zn,Gn)).fold(()=>Zn.cyclic?L.some(!0):L.none(),Gn=>(Zn.focusManager.set(mn,Gn),L.some(!0))),Ae=(mn,on,kn,Zn)=>{const mr=hl(mn.element,kn.selector);return _(mn,kn).bind(Gn=>De(mr,Q(Jt,Gn)).bind(Mr=>ve(mn,mr,Mr,kn,Zn)))},Ne=(mn,on,kn)=>{const Zn=kn.cyclic?wT:m_;return Ae(mn,on,kn,Zn)},Ue=(mn,on,kn)=>{const Zn=kn.cyclic?TT:g_;return Ae(mn,on,kn,Zn)},Je=mn=>zr(mn).bind(ko).exists(on=>Jt(on,mn)),st=(mn,on,kn)=>_(mn,kn).filter(Zn=>!kn.useTabstopAt(Zn)).bind(Zn=>(Je(Zn)?Ne:Ue)(mn,on,kn)),ht=(mn,on,kn)=>kn.onEnter.bind(Zn=>Zn(mn,on)),At=(mn,on,kn)=>kn.onEscape.bind(Zn=>Zn(mn,on)),qt=F([Qs(cf([Gg,Ps(Qm)]),Ne),Qs(Ps(Qm),Ue),Qs(cf([n1,Ps($h)]),ht)]),Dn=F([Qs(Ps(Xx),At),Qs(Ps(Qm),st)]);return ce(c,od.init,qt,Dn,()=>L.some(K))};var Ve=Me(ei("cyclic",Y)),nt=Me(ei("cyclic",ie));const Ot=(o,c,g)=>(HO(o,g,Ii()),L.some(!0)),_t=(o,c,g)=>gv(g)&&Ps(lf)(c.event)?L.none():Ot(o,c,g),Kt=(o,c)=>L.some(!0),Cn=[Mn("execute",_t),Mn("useSpace",!1),Mn("useEnter",!0),Mn("useControlEnter",!1),Mn("useDown",!1)],ir=(o,c,g)=>g.execute(o,c,o.element),$r=(o,c,g,S)=>{const _=g.useSpace&&!gv(o.element)?lf:[],H=g.useEnter?$h:[],K=g.useDown?Cb:[],ve=_.concat(H).concat(K);return[Qs(Ps(ve),ir)].concat(g.useControlEnter?[Qs(cf([p_,Ps($h)]),ir)]:[])},Rr=(o,c,g,S)=>g.useSpace&&!gv(o.element)?[Qs(Ps(lf),Kt)]:[];var Kn=ce(Cn,od.init,$r,Rr,()=>L.none());const Ir=()=>{const o=gs();return Cu({readState:()=>o.get().map(_=>({numRows:String(_.numRows),numColumns:String(_.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(_,H)=>{o.set({numRows:_,numColumns:H})},getNumRows:()=>o.get().map(_=>_.numRows),getNumColumns:()=>o.get().map(_=>_.numColumns)})};var io=Object.freeze({__proto__:null,flatgrid:Ir,init:o=>o.state(o)});const $o=o=>(c,g,S,_)=>{const H=o(c.element);return bi(H,c,g,S,_)},os=(o,c)=>{const g=bx(o,c);return $o(g)},Va=(o,c)=>{const g=bx(c,o);return $o(g)},ml=o=>(c,g,S,_)=>bi(o,c,g,S,_),bi=(o,c,g,S,_)=>S.focusManager.get(c).bind(K=>o(c.element,K,S,_)).map(K=>(S.focusManager.set(c,K),!0)),du=ml,pv=ml,vv=ml,kT=o=>o.offsetWidth<=0&&o.offsetHeight<=0,jx=o=>!kT(o.dom),Oa=(o,c)=>De(o,c).map(g=>({index:g,candidates:o})),Dc=(o,c,g)=>{const S=K=>Jt(K,c),_=hl(o,g),H=xe(_,jx);return Oa(H,S)},ql=(o,c)=>De(o,g=>Jt(c,g)),uf=(o,c,g,S)=>{const _=Math.floor(c/g),H=c%g;return S(_,H).bind(K=>{const ve=K.row*g+K.column;return ve>=0&&ve<o.length?L.some(o[ve]):L.none()})},Ru=(o,c,g,S,_)=>uf(o,c,S,(H,K)=>{const Ae=H===g-1?o.length-H*S:S,Ne=k0(K,_,0,Ae-1);return L.some({row:H,column:Ne})}),jg=(o,c,g,S,_)=>uf(o,c,S,(H,K)=>{const ve=k0(H,_,0,g-1),Ne=ve===g-1?o.length-ve*S:S,Ue=rf(K,0,Ne-1);return L.some({row:ve,column:Ue})}),Gc=(o,c,g,S)=>Ru(o,c,g,S,1),AT=(o,c,g,S)=>Ru(o,c,g,S,-1),kb=(o,c,g,S)=>jg(o,c,g,S,-1),Lh=(o,c,g,S)=>jg(o,c,g,S,1),cc=[er("selector"),Mn("execute",_t),Eu("onEscape"),Mn("captureTab",!1),dw()],Ab=(o,c,g)=>{Ai(o.element,c.selector).each(S=>{c.focusManager.set(o,S)})},AA=(o,c)=>c.focusManager.get(o).bind(g=>Vd(g,c.selector)),PA=(o,c,g,S)=>AA(o,g).bind(_=>g.execute(o,c,_)),r1=o=>(c,g,S,_)=>Dc(c,g,S.selector).bind(H=>o(H.candidates,H.index,_.getNumRows().getOr(S.initSize.numRows),_.getNumColumns().getOr(S.initSize.numColumns))),MA=(o,c,g)=>g.captureTab?L.some(!0):L.none(),qx=(o,c,g)=>g.onEscape(o,c),EA=r1(AT),yv=r1(Gc),d9=r1(kb),HU=r1(Lh),UU=F([Qs(Ps(Gx),os(EA,yv)),Qs(Ps(t1),Va(EA,yv)),Qs(Ps(Fm),du(d9)),Qs(Ps(Cb),pv(HU)),Qs(cf([Gg,Ps(Qm)]),MA),Qs(cf([n1,Ps(Qm)]),MA),Qs(Ps(lf.concat($h)),PA)]),WU=F([Qs(Ps(Xx),qx),Qs(Ps(lf),Kt)]);var YU=ce(cc,Ir,UU,WU,()=>L.some(Ab));const h9=(o,c,g,S,_)=>{const H=ve=>Oo(ve)==="button"&&oa(ve,"disabled")==="disabled",K=(ve,Ae,Ne)=>_(ve,Ae,S,0,Ne.length-1,Ne[Ae],Ue=>H(Ne[Ue])?K(ve,Ue,Ne):L.from(Ne[Ue]));return Dc(o,g,c).bind(ve=>{const Ae=ve.index,Ne=ve.candidates;return K(Ae,Ae,Ne)})},m9=(o,c,g,S)=>h9(o,c,g,S,(_,H,K,ve,Ae,Ne,Ue)=>{const Je=rf(H+K,ve,Ae);return Je===_?L.from(Ne):Ue(Je)}),Kx=(o,c,g,S)=>h9(o,c,g,S,(_,H,K,ve,Ae,Ne,Ue)=>{const Je=k0(H,K,ve,Ae);return Je===_?L.none():Ue(Je)}),y_=[er("selector"),Mn("getInitial",L.none),Mn("execute",_t),Eu("onEscape"),Mn("executeOnMove",!1),Mn("allowVertical",!0),Mn("allowHorizontal",!0),Mn("cycles",!0)],XU=(o,c)=>c.focusManager.get(o).bind(g=>Vd(g,c.selector)),g9=(o,c,g)=>XU(o,g).bind(S=>g.execute(o,c,S)),p9=(o,c,g)=>{c.getInitial(o).orThunk(()=>Ai(o.element,c.selector)).each(S=>{c.focusManager.set(o,S)})},v9=(o,c,g)=>(g.cycles?Kx:m9)(o,g.selector,c,-1),y9=(o,c,g)=>(g.cycles?Kx:m9)(o,g.selector,c,1),fd=o=>(c,g,S,_)=>o(c,g,S,_).bind(()=>S.executeOnMove?g9(c,g,S):L.some(!0)),GU=(o,c,g)=>g.onEscape(o,c),jU=(o,c,g,S)=>{const _=[...g.allowHorizontal?Gx:[]].concat(g.allowVertical?Fm:[]),H=[...g.allowHorizontal?t1:[]].concat(g.allowVertical?Cb:[]);return[Qs(Ps(_),fd(os(v9,y9))),Qs(Ps(H),fd(Va(v9,y9))),Qs(Ps($h),g9),Qs(Ps(lf),g9)]},qU=F([Qs(Ps(lf),Kt),Qs(Ps(Xx),GU)]);var KU=ce(y_,od.init,jU,qU,()=>L.some(p9));const _A=(o,c,g)=>L.from(o[c]).bind(S=>L.from(S[g]).map(_=>({rowIndex:c,columnIndex:g,cell:_}))),Pb=(o,c,g,S)=>{const H=o[c].length,K=k0(g,S,0,H-1);return _A(o,c,K)},RA=(o,c,g,S)=>{const _=k0(g,S,0,o.length-1),H=o[_].length,K=rf(c,0,H-1);return _A(o,_,K)},b9=(o,c,g,S)=>{const H=o[c].length,K=rf(g+S,0,H-1);return _A(o,c,K)},DA=(o,c,g,S)=>{const _=rf(g+S,0,o.length-1),H=o[_].length,K=rf(c,0,H-1);return _A(o,_,K)},$A=(o,c,g)=>Pb(o,c,g,1),b_=(o,c,g)=>Pb(o,c,g,-1),JU=(o,c,g)=>RA(o,g,c,-1),eW=(o,c,g)=>RA(o,g,c,1),tW=(o,c,g)=>b9(o,c,g,-1),nW=(o,c,g)=>b9(o,c,g,1),rW=(o,c,g)=>DA(o,g,c,-1),oW=(o,c,g)=>DA(o,g,c,1),O9=[su("selectors",[er("row"),er("cell")]),Mn("cycles",!0),Mn("previousSelector",L.none),Mn("execute",_t)],O_=(o,c,g)=>{c.previousSelector(o).orThunk(()=>{const _=c.selectors;return Ai(o.element,_.cell)}).each(_=>{c.focusManager.set(o,_)})},sW=(o,c,g)=>ad(o.element).bind(S=>g.execute(o,c,S)),aW=(o,c)=>ne(o,g=>hl(g,c.selectors.cell)),LA=(o,c)=>(g,S,_)=>{const H=_.cycles?o:c;return Vd(S,_.selectors.row).bind(K=>{const ve=hl(K,_.selectors.cell);return ql(ve,S).bind(Ae=>{const Ne=hl(g,_.selectors.row);return ql(Ne,K).bind(Ue=>{const Je=aW(Ne,_);return H(Je,Ue,Ae).map(st=>st.cell)})})})},x9=LA(b_,tW),o1=LA($A,nW),S9=LA(JU,rW),iW=LA(eW,oW),x_=F([Qs(Ps(Gx),os(x9,o1)),Qs(Ps(t1),Va(x9,o1)),Qs(Ps(Fm),du(S9)),Qs(Ps(Cb),pv(iW)),Qs(Ps(lf.concat($h)),sW)]),lW=F([Qs(Ps(lf),Kt)]);var w9=ce(O9,od.init,x_,lW,()=>L.some(O_));const T9=[er("selector"),Mn("execute",_t),Mn("moveOnTab",!1)],S_=(o,c,g)=>g.focusManager.get(o).bind(S=>g.execute(o,c,S)),C9=(o,c,g)=>{Ai(o.element,c.selector).each(S=>{c.focusManager.set(o,S)})},w_=(o,c,g)=>Kx(o,g.selector,c,-1),k9=(o,c,g)=>Kx(o,g.selector,c,1),cW=(o,c,g,S)=>g.moveOnTab?vv(w_)(o,c,g,S):L.none(),uW=(o,c,g,S)=>g.moveOnTab?vv(k9)(o,c,g,S):L.none(),T_=F([Qs(Ps(Fm),vv(w_)),Qs(Ps(Cb),vv(k9)),Qs(cf([Gg,Ps(Qm)]),cW),Qs(cf([n1,Ps(Qm)]),uW),Qs(Ps($h),S_),Qs(Ps(lf),S_)]),fW=F([Qs(Ps(lf),Kt)]);var dW=ce(T9,od.init,T_,fW,()=>L.some(C9));const hW=[Eu("onSpace"),Eu("onEnter"),Eu("onShiftEnter"),Eu("onLeft"),Eu("onRight"),Eu("onTab"),Eu("onShiftTab"),Eu("onUp"),Eu("onDown"),Eu("onEscape"),Mn("stopSpaceKeyup",!1),Ws("focusIn")],mW=(o,c,g)=>[Qs(Ps(lf),g.onSpace),Qs(cf([n1,Ps($h)]),g.onEnter),Qs(cf([Gg,Ps($h)]),g.onShiftEnter),Qs(cf([Gg,Ps(Qm)]),g.onShiftTab),Qs(cf([n1,Ps(Qm)]),g.onTab),Qs(Ps(Fm),g.onUp),Qs(Ps(Cb),g.onDown),Qs(Ps(Gx),g.onLeft),Qs(Ps(t1),g.onRight),Qs(Ps(lf),g.onSpace)],A9=(o,c,g)=>[...g.stopSpaceKeyup?[Qs(Ps(lf),Kt)]:[],Qs(Ps(Xx),g.onEscape)];var gW=ce(hW,od.init,mW,A9,o=>o.focusIn);const pW=Ve.schema(),vW=nt.schema(),P9=KU.schema(),yW=YU.schema(),bW=w9.schema(),M9=Kn.schema(),OW=dW.schema(),xW=gW.schema();var IA=Object.freeze({__proto__:null,acyclic:pW,cyclic:vW,flow:P9,flatgrid:yW,matrix:bW,execution:M9,menu:OW,special:xW});const SW=o=>En(o,"setGridSize"),yo=px({branchKey:"mode",branches:IA,name:"keying",active:{events:(o,c)=>o.handler.toEvents(o,c)},apis:{focusIn:(o,c,g)=>{c.sendFocusIn(c).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},S=>{S(o,c,g)})},setGridSize:(o,c,g,S,_)=>{SW(g)?g.setGridSize(S,_):console.error("Layout does not support setGridSize")}},state:io}),hu=(o,c)=>{Ur(()=>{BE(o,c,()=>ne(c,o.getSystem().build))},o.element)},E9=(o,c)=>{Ur(()=>{QE(o,c,()=>J$(o.element,c,o.getSystem().buildOrPatch))},o.element)},_9=(o,c,g,S)=>{Z0(c);const _=ck(o.element,g,S,o.getSystem().buildOrPatch);tT(o,_),o.syncComponents()},NA=(o,c,g)=>{const S=o.getSystem().build(g);H0(o,S,c)},wW=(o,c,g,S)=>{Rh(c),NA(o,(_,H)=>ol(_,H,g),S)},R9=(o,c,g,S)=>(c.reuseDom?E9:hu)(o,S),D9=(o,c,g,S)=>{NA(o,Vc,S)},TW=(o,c,g,S)=>{NA(o,my,S)},CW=(o,c,g,S)=>{const _=BA(o);Ze(_,K=>Jt(S.element,K.element)).each(Rh)},BA=(o,c)=>o.components(),$9=(o,c,g,S,_)=>{const H=BA(o);return L.from(H[S]).map(K=>(_.fold(()=>Rh(K),ve=>{(c.reuseDom?_9:wW)(o,K,S,ve)}),K))};var AW=Object.freeze({__proto__:null,append:D9,prepend:TW,remove:CW,replaceAt:$9,replaceBy:(o,c,g,S,_)=>{const H=BA(o);return De(H,S).bind(K=>$9(o,c,g,K,_))},set:R9,contents:BA});const Uo=dl({fields:[Wi("reuseDom",!0)],name:"replacing",apis:AW}),L9=(o,c)=>{const g=Ea(c);return dl({fields:[er("enabled")],name:o,active:{events:F(g)}})},Jo=(o,c)=>{const g=L9(o,c);return{key:o,value:{config:{},me:g,configAsRaw:F({}),initialConfig:{},state:od}}},C_=(o,c)=>{c.ignore||(cu(o.element),c.onFocus(o))};var PW=Object.freeze({__proto__:null,focus:C_,blur:(o,c)=>{c.ignore||M0(o.element)},isFocused:o=>Wy(o.element)}),I9=Object.freeze({__proto__:null,exhibit:(o,c)=>{const g=c.ignore?{}:{attributes:{tabindex:"-1"}};return ku(g)},events:o=>Ea([qn(Df(),(c,g)=>{C_(c,o),g.stop()})].concat(o.stopMousedown?[qn(go(),(c,g)=>{g.event.prevent()})]:[]))}),s1=[Rs("onFocus"),Mn("stopMousedown",!1),Mn("ignore",!1)];const Mo=dl({fields:s1,name:"focusing",active:I9,apis:PW}),N9=o=>({init:()=>{const g=X(o);return{get:()=>g.get(),set:ve=>g.set(ve),clear:()=>g.set(o),readState:()=>g.get()}}}),k_=(o,c,g)=>{const S=c.aria;S.update(o,S,g.get())},EW=(o,c,g)=>{c.toggleClass.each(S=>{g.get()?ki(o.element,S):Xa(o.element,S)})},PT=(o,c,g,S)=>{const _=g.get();g.set(S),EW(o,c,g),k_(o,c,g),_!==S&&c.onToggled(o,S)},B9=(o,c,g)=>{PT(o,c,g,!g.get())},_W=(o,c,g)=>{PT(o,c,g,!0)},Q9=(o,c,g)=>{PT(o,c,g,!1)},A_=(o,c,g)=>g.get(),QA=(o,c,g)=>{PT(o,c,g,c.selected)};var RW=Object.freeze({__proto__:null,onLoad:QA,toggle:B9,isOn:A_,on:_W,off:Q9,set:PT}),F9=Object.freeze({__proto__:null,exhibit:()=>ku({}),events:(o,c)=>{const g=P0(o,c,B9),S=gx(o,c,QA);return Ea(Ie([o.toggleOnExecute?[g]:[],[S]]))}});const $W=(o,c,g)=>{Dr(o.element,"aria-pressed",g),c.syncWithExpanded&&Jx(o,c,g)},LW=(o,c,g)=>{Dr(o.element,"aria-selected",g)},MT=(o,c,g)=>{Dr(o.element,"aria-checked",g)},Jx=(o,c,g)=>{Dr(o.element,"aria-expanded",g)};var V9=[Mn("selected",!1),Ws("toggleClass"),Mn("toggleOnExecute",!0),Rs("onToggled"),Tc("aria",{mode:"none"},Os("mode",{pressed:[Mn("syncWithExpanded",!1),ha("update",$W)],checked:[ha("update",MT)],expanded:[ha("update",Jx)],selected:[ha("update",LW)],none:[ha("update",M)]}))];const as=dl({fields:V9,name:"toggling",active:F9,apis:RW,state:N9(!1)}),bv=()=>{const o=(c,g)=>{g.stop(),xm(c)};return[qn($i(),o),qn(Ac(),o),Sm(no()),Sm(go())]},Vm=o=>{const c=g=>rd((S,_)=>{g(S),_.stop()});return Ea(Ie([o.map(c).toArray(),bv()]))},z9="alloy.item-hover",Z9="alloy.item-focus",P_="alloy.item-toggled",qg=o=>{(ad(o.element).isNone()||Mo.isFocused(o))&&(Mo.isFocused(o)||Mo.focus(o),vo(o,z9,{item:o}))},FA=o=>{vo(o,Z9,{item:o})},IW=(o,c)=>{vo(o,P_,{item:o,state:c})},M_=F(z9),H9=F(Z9),U9=F(P_),E_=o=>o.toggling.map(c=>c.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),W9=o=>({aria:{mode:"checked"},...wt(o,(c,g)=>g!=="exclusive"),onToggled:(c,g)=>{w(o.onToggled)&&o.onToggled(c,g),IW(c,g)}}),NW=o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:E_(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:If.augment(o.itemBehaviours,[o.toggling.fold(as.revoke,c=>as.config(W9(c))),Mo.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:c=>{FA(c)}}),yo.config({mode:"execution"}),Fr.config({store:{mode:"memory",initialValue:o.data}}),Jo("item-type-events",[...bv(),qn(Lr(),qg),qn(ta(),Mo.focus)])]),components:o.components,eventOrder:o.eventOrder}),BW=[er("data"),er("components"),er("dom"),Mn("hasSubmenu",!1),Ws("toggling"),If.field("itemBehaviours",[as,Mo,yo,Fr]),Mn("ignoreFocus",!1),Mn("domModification",{}),ha("builder",NW),Mn("eventOrder",{})],QW=o=>({dom:o.dom,components:o.components,events:Ea([DM(ta())])}),VA=[er("dom"),er("components"),ha("builder",QW)],ET=F("item-widget"),_T=F([ic({name:"widget",overrides:o=>({behaviours:pr([Fr.config({store:{mode:"manual",getValue:c=>o.data,setValue:M}})])})})]),FW=o=>{const c=dT(ET(),o,_T()),g=Hx(ET(),o,c.internals()),S=H=>ka(H,o,"widget").map(K=>(yo.focusIn(K),K)),_=(H,K)=>gv(K.event.target)?L.none():(()=>(o.autofocus&&K.setSource(H.element),L.none()))();return{dom:o.dom,components:g,domModification:o.domModification,events:Ea([rd((H,K)=>{S(H).each(ve=>{K.stop()})}),qn(Lr(),qg),qn(ta(),(H,K)=>{o.autofocus?S(H):Mo.focus(H)})]),behaviours:If.augment(o.widgetBehaviours,[Fr.config({store:{mode:"memory",initialValue:o.data}}),Mo.config({ignore:o.ignoreFocus,onFocus:H=>{FA(H)}}),yo.config({mode:"special",focusIn:o.autofocus?H=>{S(H)}:Tw(),onLeft:_,onRight:_,onEscape:(H,K)=>!Mo.isFocused(H)&&!o.autofocus?(Mo.focus(H),L.some(!0)):(o.autofocus&&K.setSource(H.element),L.none())})])}},VW=[er("uid"),er("data"),er("components"),er("dom"),Mn("autofocus",!1),Mn("ignoreFocus",!1),If.field("widgetBehaviours",[Fr,Mo,yo]),Mn("domModification",{}),pT(_T()),ha("builder",FW)],Y9=Os("type",{widget:VW,item:BW,separator:VA}),X9=(o,c)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:c.initSize.numColumns,numRows:c.initSize.numRows},focusManager:o.focusManager}),G9=(o,c)=>({mode:"matrix",selectors:{row:c.rowSelector,cell:"."+o.markers.item},previousSelector:c.previousSelector,focusManager:o.focusManager}),j9=(o,c)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:c.moveOnTab,focusManager:o.focusManager}),zW=F([yb({factory:{sketch:o=>{const c=El("menu.spec item",Y9,o);return c.builder(c)}},name:"items",unit:"item",defaults:(o,c)=>vn(c,"uid")?c:{...c,uid:c0("item")},overrides:(o,c)=>({type:c.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),__=F([er("value"),er("items"),er("dom"),er("components"),Mn("eventOrder",{}),el("menuBehaviours",[Ys,Fr,xs,yo]),Tc("movement",{mode:"menu",moveOnTab:!0},Os("mode",{grid:[dw(),ha("config",X9)],matrix:[ha("config",G9),er("rowSelector"),Mn("previousSelector",L.none)],menu:[Mn("moveOnTab",!0),ha("config",j9)]})),GM(),Mn("fakeFocus",!1),Mn("focusManager",A()),Rs("onHighlight"),Rs("onDehighlight")]),q9=F("alloy.menu-focus"),ZW=(o,c)=>{const g=hl(o.element,'[role="menuitemradio"][aria-checked="true"]');pe(g,S=>{Jt(S,c.element)||o.getSystem().getByDom(S).each(_=>{as.off(_)})})},HW=(o,c,g,S)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Ni(o.menuBehaviours,[Ys.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),Fr.config({store:{mode:"memory",initialValue:o.value}}),xs.config({find:L.some}),yo.config(o.movement.config(o,o.movement))]),events:Ea([qn(H9(),(_,H)=>{const K=H.event;_.getSystem().getByDom(K.target).each(ve=>{Ys.highlight(_,ve),H.stop(),vo(_,q9(),{menu:_,item:ve})})}),qn(M_(),(_,H)=>{const K=H.event.item;Ys.highlight(_,K)}),qn(U9(),(_,H)=>{const{item:K,state:ve}=H.event;ve&&oa(K.element,"role")==="menuitemradio"&&ZW(_,K)})]),components:c,eventOrder:o.eventOrder,domModification:{attributes:{role:"menu"}}}),Eb=lc({name:"Menu",configFields:__(),partFields:zW(),factory:HW}),K9=o=>et(o,(c,g)=>({k:c,v:g})),J9=(o,c,g,S)=>Bt(g,S).bind(_=>Bt(o,_).bind(H=>{const K=J9(o,c,g,H);return L.some([H].concat(K))})).getOr([]),UW=(o,c)=>{const g={};Ye(o,(K,ve)=>{pe(K,Ae=>{g[Ae]=ve})});const S=c,_=K9(c),H=je(_,(K,ve)=>[ve].concat(J9(g,S,_,ve)));return je(g,K=>Bt(H,K).getOr([K]))},eL=()=>{const o=X({}),c=X({}),g=X({}),S=gs(),_=X({}),H=()=>{o.set({}),c.set({}),g.set({}),S.clear()},K=()=>S.get().isNone(),ve=(mr,Gn)=>{c.set({...c.get(),[mr]:{type:"prepared",menu:Gn}})},Ae=(mr,Gn,Or,Mr)=>{S.set(mr),o.set(Or),c.set(Gn),_.set(Mr);const is=UW(Mr,Or);g.set(is)},Ne=mr=>Gt(o.get(),(Gn,Or)=>Gn===mr),Ue=(mr,Gn,Or)=>qt(mr).bind(Mr=>Ne(mr).bind(is=>Gn(is).map(Gr=>({triggeredMenu:Mr,triggeringItem:Gr,triggeringPath:Or})))),Je=(mr,Gn)=>{const Or=xe(mn(mr).toArray(),Mr=>qt(Mr).isSome());return Bt(g.get(),mr).bind(Mr=>{const is=te(Or.concat(Mr)),Gr=re(is,(Io,_o)=>Ue(Io,Gn,is.slice(0,_o+1)).fold(()=>ln(S.get(),Io)?[]:[L.none()],na=>[L.some(na)]));return wn(Gr)})},st=mr=>Bt(o.get(),mr).map(Gn=>{const Or=Bt(g.get(),mr).getOr([]);return[Gn].concat(Or)}),ht=mr=>Bt(g.get(),mr).bind(Gn=>Gn.length>1?L.some(Gn.slice(1)):L.none()),At=mr=>Bt(g.get(),mr),qt=mr=>Dn(mr).bind(e2),Dn=mr=>Bt(c.get(),mr),mn=mr=>Bt(o.get(),mr);return{setMenuBuilt:ve,setContents:Ae,expand:st,refresh:At,collapse:ht,lookupMenu:Dn,lookupItem:mn,otherMenus:mr=>{const Gn=_.get();return se(ct(Gn),mr)},getPrimary:()=>S.get().bind(qt),getMenus:()=>c.get(),clear:H,isClear:K,getTriggeringPath:Je}},e2=o=>o.type==="prepared"?L.some(o.menu):L.none(),tL={init:eL,extractPreparedMenu:e2},t2=Kr("tiered-menu-item-highlight"),zA=Kr("tiered-menu-item-dehighlight");var mu;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(mu||(mu={}));const nL=(o,c)=>{const g=gs(),S=(Pr,oo,No)=>je(No,(Qo,To)=>{const Yo=()=>Eb.sketch({...Qo,value:To,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Ma,Fs)=>{vo(Ma,t2,{menuComp:Ma,itemComp:Fs})},onDehighlight:(Ma,Fs)=>{vo(Ma,zA,{menuComp:Ma,itemComp:Fs})},focusManager:o.fakeFocus?$():A()});return To===oo?{type:"prepared",menu:Pr.getSystem().build(Yo())}:{type:"notbuilt",nbMenu:Yo}}),_=tL.init(),H=Pr=>{const oo=S(Pr,o.data.primary,o.data.menus),No=Ae();return _.setContents(o.data.primary,oo,o.data.expansions,No),_.getPrimary()},K=Pr=>Fr.getValue(Pr).value,ve=(Pr,oo,No)=>Xe(oo,Qo=>{if(!Qo.getSystem().isConnected())return L.none();const To=Ys.getCandidates(Qo);return Ze(To,Yo=>K(Yo)===No)}),Ae=Pr=>je(o.data.menus,(oo,No)=>re(oo.items,Qo=>Qo.type==="separator"?[]:[Qo.data.value])),Ne=Ys.highlight,Ue=(Pr,oo)=>{Ne(Pr,oo),Ys.getHighlighted(oo).orThunk(()=>Ys.getFirst(oo)).each(No=>{o.fakeFocus?Ys.highlight(oo,No):HO(Pr,No.element,ta())})},Je=(Pr,oo)=>an(ne(oo,No=>Pr.lookupMenu(No).bind(Qo=>Qo.type==="prepared"?L.some(Qo.menu):L.none()))),st=(Pr,oo,No)=>{const Qo=Je(oo,oo.otherMenus(No));pe(Qo,To=>{tf(To.element,[o.markers.backgroundMenu]),o.stayInDom||Uo.remove(Pr,To)})},ht=Pr=>g.get().getOrThunk(()=>{const oo={},No=hl(Pr.element,`.${o.markers.item}`),Qo=xe(No,To=>oa(To,"aria-haspopup")==="true");return pe(Qo,To=>{Pr.getSystem().getByDom(To).each(Yo=>{const Ma=K(Yo);oo[Ma]=Yo})}),g.set(oo),oo}),At=(Pr,oo)=>{const No=ht(Pr);Ye(No,(Qo,To)=>{const Yo=be(oo,To);Dr(Qo.element,"aria-expanded",Yo)})},qt=(Pr,oo,No)=>L.from(No[0]).bind(Qo=>oo.lookupMenu(Qo).bind(To=>{if(To.type==="notbuilt")return L.none();{const Yo=To.menu,Ma=Je(oo,No.slice(1));return pe(Ma,Fs=>{ki(Fs.element,o.markers.backgroundMenu)}),Js(Yo.element)||Uo.append(Pr,nf(Yo)),tf(Yo.element,[o.markers.backgroundMenu]),Ue(Pr,Yo),st(Pr,oo,No),L.some(Yo)}}));let Dn;(function(Pr){Pr[Pr.HighlightSubmenu=0]="HighlightSubmenu",Pr[Pr.HighlightParent=1]="HighlightParent"})(Dn||(Dn={}));const mn=(Pr,oo,No)=>{if(No.type==="notbuilt"){const Qo=Pr.getSystem().build(No.nbMenu());return _.setMenuBuilt(oo,Qo),Qo}else return No.menu},on=(Pr,oo,No=Dn.HighlightSubmenu)=>{if(oo.hasConfigured(Co)&&Co.isDisabled(oo))return L.some(oo);{const Qo=K(oo);return _.expand(Qo).bind(To=>(At(Pr,To),L.from(To[0]).bind(Yo=>_.lookupMenu(Yo).bind(Ma=>{const Fs=mn(Pr,Yo,Ma);return Js(Fs.element)||Uo.append(Pr,nf(Fs)),o.onOpenSubmenu(Pr,oo,Fs,te(To)),No===Dn.HighlightSubmenu?(Ys.highlightFirst(Fs),qt(Pr,_,To)):(Ys.dehighlightAll(Fs),L.some(oo))}))))}},kn=(Pr,oo)=>{const No=K(oo);return _.collapse(No).bind(Qo=>(At(Pr,Qo),qt(Pr,_,Qo).map(To=>(o.onCollapseMenu(Pr,oo,To),To))))},Zn=(Pr,oo)=>{const No=K(oo);return _.refresh(No).bind(Qo=>(At(Pr,Qo),qt(Pr,_,Qo)))},mr=(Pr,oo)=>gv(oo.element)?L.none():on(Pr,oo,Dn.HighlightSubmenu),Gn=(Pr,oo)=>gv(oo.element)?L.none():kn(Pr,oo),Or=(Pr,oo)=>kn(Pr,oo).orThunk(()=>o.onEscape(Pr,oo).map(()=>Pr)),Mr=Pr=>(oo,No)=>Vd(No.getSource(),`.${o.markers.item}`).bind(Qo=>oo.getSystem().getByDom(Qo).toOptional().bind(To=>Pr(oo,To).map(ie))),is=Ea([qn(q9(),(Pr,oo)=>{const No=oo.event.item;_.lookupItem(K(No)).each(()=>{const Qo=oo.event.menu;Ys.highlight(Pr,Qo);const To=K(oo.event.item);_.refresh(To).each(Yo=>st(Pr,_,Yo))})}),rd((Pr,oo)=>{const No=oo.event.target;Pr.getSystem().getByDom(No).each(Qo=>{K(Qo).indexOf("collapse-item")===0&&kn(Pr,Qo),on(Pr,Qo,Dn.HighlightSubmenu).fold(()=>{o.onExecute(Pr,Qo)},M)})}),Ca((Pr,oo)=>{H(Pr).each(No=>{Uo.append(Pr,nf(No)),o.onOpenMenu(Pr,No),o.highlightOnOpen===mu.HighlightMenuAndItem?Ue(Pr,No):o.highlightOnOpen===mu.HighlightJustMenu&&Ne(Pr,No)})}),qn(t2,(Pr,oo)=>{o.onHighlightItem(Pr,oo.event.menuComp,oo.event.itemComp)}),qn(zA,(Pr,oo)=>{o.onDehighlightItem(Pr,oo.event.menuComp,oo.event.itemComp)}),...o.navigateOnHover?[qn(M_(),(Pr,oo)=>{const No=oo.event.item;Zn(Pr,No),on(Pr,No,Dn.HighlightParent),o.onHover(Pr,No)})]:[]]),Gr=Pr=>Ys.getHighlighted(Pr).bind(Ys.getHighlighted),Io=Pr=>{Gr(Pr).each(oo=>{kn(Pr,oo)})},_o=Pr=>{_.getPrimary().each(oo=>{Ue(Pr,oo)})},na=Pr=>L.from(Pr.components()[0]).filter(oo=>oa(oo.element,"role")==="menu"),Ns={collapseMenu:Io,highlightPrimary:_o,repositionMenus:Pr=>{_.getPrimary().bind(No=>Gr(Pr).bind(Qo=>{const To=K(Qo),Yo=Nt(_.getMenus()),Ma=an(ne(Yo,tL.extractPreparedMenu));return _.getTriggeringPath(To,Fs=>ve(Pr,Ma,Fs))}).map(Qo=>({primary:No,triggeringPath:Qo}))).fold(()=>{na(Pr).each(No=>{o.onRepositionMenu(Pr,No,[])})},({primary:No,triggeringPath:Qo})=>{o.onRepositionMenu(Pr,No,Qo)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Ni(o.tmenuBehaviours,[yo.config({mode:"special",onRight:Mr(mr),onLeft:Mr(Gn),onEscape:Mr(Or),focusIn:(Pr,oo)=>{_.getPrimary().each(No=>{HO(Pr,No.element,ta())})}}),Ys.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),xs.config({find:Pr=>Ys.getHighlighted(Pr)}),Uo.config({})]),eventOrder:o.eventOrder,apis:Ns,events:is}},WW=F("collapse-item"),YW=(o,c,g)=>({primary:o,menus:c,expansions:g}),rL=(o,c)=>({primary:o,menus:vt(o,c),expansions:{}}),XW=o=>({value:Kr(WW()),meta:{text:o}}),a1=_u({name:"TieredMenu",configFields:[fw("onExecute"),fw("onEscape"),zd("onOpenMenu"),zd("onOpenSubmenu"),Rs("onRepositionMenu"),Rs("onCollapseMenu"),Mn("highlightOnOpen",mu.HighlightMenuAndItem),su("data",[er("primary"),er("menus"),er("expansions")]),Mn("fakeFocus",!1),Rs("onHighlightItem"),Rs("onDehighlightItem"),Rs("onHover"),Qy(),er("dom"),Mn("navigateOnHover",!0),Mn("stayInDom",!1),el("tmenuBehaviours",[yo,Ys,xs,Uo]),Mn("eventOrder",{})],apis:{collapseMenu:(o,c)=>{o.collapseMenu(c)},highlightPrimary:(o,c)=>{o.highlightPrimary(c)},repositionMenus:(o,c)=>{o.repositionMenus(c)}},factory:nL,extraApis:{tieredData:YW,singleData:rL,collapseItem:XW}}),GW=(o,c,g,S,_)=>{const H=()=>o.lazySink(c),K=S.type==="horizontal"?{layouts:{onLtr:()=>mx(),onRtl:()=>Sw()}}:{},ve=Ne=>Ne.length===2,Ae=Ne=>ve(Ne)?K:{};return a1.sketch({dom:{tag:"div"},data:S.data,markers:S.menu.markers,highlightOnOpen:S.menu.highlightOnOpen,fakeFocus:S.menu.fakeFocus,onEscape:()=>(As.close(c),o.onEscape.map(Ne=>Ne(c)),L.some(!0)),onExecute:()=>L.some(!0),onOpenMenu:(Ne,Ue)=>{ac.positionWithinBounds(H().getOrDie(),Ue,g,_())},onOpenSubmenu:(Ne,Ue,Je,st)=>{const ht=H().getOrDie();ac.position(ht,Je,{anchor:{type:"submenu",item:Ue,...Ae(st)}})},onRepositionMenu:(Ne,Ue,Je)=>{const st=H().getOrDie();ac.positionWithinBounds(st,Ue,g,_()),pe(Je,ht=>{const At=Ae(ht.triggeringPath);ac.position(st,ht.triggeredMenu,{anchor:{type:"submenu",item:ht.triggeringItem,...At}})})}})},jW=(o,c)=>{const g=(st,ht)=>o.getRelated(st).exists(qt=>Am(qt,ht)),S=(st,ht)=>{As.setContent(st,ht)},_=(st,ht,At)=>{const qt=L.none;H(st,ht,At,qt)},H=(st,ht,At,qt)=>{const Dn=o.lazySink(st).getOrDie();As.openWhileCloaked(st,ht,()=>ac.positionWithinBounds(Dn,st,At,qt())),Fr.setValue(st,L.some({mode:"position",config:At,getBounds:qt}))},K=(st,ht,At)=>{ve(st,ht,At,L.none)},ve=(st,ht,At,qt)=>{const Dn=GW(o,st,ht,At,qt);As.open(st,Dn),Fr.setValue(st,L.some({mode:"menu",menu:Dn}))},Ae=st=>{As.isOpen(st)&&(Fr.setValue(st,L.none()),As.close(st))},Ne=st=>As.getState(st),Ue=st=>{As.isOpen(st)&&Fr.getValue(st).each(ht=>{switch(ht.mode){case"menu":As.getState(st).each(a1.repositionMenus);break;case"position":const At=o.lazySink(st).getOrDie();ac.positionWithinBounds(At,st,ht.config,ht.getBounds());break}})},Je={setContent:S,showAt:_,showWithinBounds:H,showMenuAt:K,showMenuWithinBounds:ve,hide:Ae,getContent:Ne,reposition:Ue,isOpen:As.isOpen};return{uid:o.uid,dom:o.dom,behaviours:Ni(o.inlineBehaviours,[As.config({isPartOf:(st,ht,At)=>Am(ht,At)||g(st,At),getAttachPoint:st=>o.lazySink(st).getOrDie(),onOpen:st=>{o.onShow(st)},onClose:st=>{o.onHide(st)}}),Fr.config({store:{mode:"memory",initialValue:L.none()}}),lu.config({channels:{...cb({isExtraPart:c.isExtraPart,...o.fireDismissalEventInstead.map(st=>({fireEventInstead:{event:st.event}})).getOr({})}),...W0({...o.fireRepositionEventInstead.map(st=>({fireEventInstead:{event:st.event}})).getOr({}),doReposition:Ue})}})]),eventOrder:o.eventOrder,apis:Je}},ri=_u({name:"InlineView",configFields:[er("lazySink"),Rs("onShow"),Rs("onHide"),Jf("onEscape"),el("inlineBehaviours",[As,Fr,lu]),wc("fireDismissalEventInstead",[Mn("event",Ag())]),wc("fireRepositionEventInstead",[Mn("event",KC())]),Mn("getRelated",L.none),Mn("isExtraPart",Y),Mn("eventOrder",L.none)],factory:jW,apis:{showAt:(o,c,g,S)=>{o.showAt(c,g,S)},showWithinBounds:(o,c,g,S,_)=>{o.showWithinBounds(c,g,S,_)},showMenuAt:(o,c,g,S)=>{o.showMenuAt(c,g,S)},showMenuWithinBounds:(o,c,g,S,_)=>{o.showMenuWithinBounds(c,g,S,_)},hide:(o,c)=>{o.hide(c)},isOpen:(o,c)=>o.isOpen(c),getContent:(o,c)=>o.getContent(c),setContent:(o,c,g)=>{o.setContent(c,g)},reposition:(o,c)=>{o.reposition(c)}}});var _b=tinymce.util.Tools.resolve("tinymce.util.Delay");const Dl=_u({name:"Button",factory:o=>{const c=Vm(o.action),g=o.dom.tag,S=H=>Bt(o.dom,"attributes").bind(K=>Bt(K,H)),_=()=>{if(g==="button"){const H=S("type").getOr("button"),K=S("role").map(ve=>({role:ve})).getOr({});return{type:H,...K}}else return{role:o.role.getOr(S("role").getOr("button"))}};return{uid:o.uid,dom:o.dom,components:o.components,events:c,behaviours:If.augment(o.buttonBehaviours,[Mo.config({}),yo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:_()},eventOrder:o.eventOrder}},configFields:[Mn("uid",void 0),er("dom"),Mn("components",[]),If.field("buttonBehaviours",[Mo,yo]),Ws("action"),Ws("role"),Mn("eventOrder",{})]}),qW=o=>{const c=o.dom.attributes!==void 0?o.dom.attributes:[];return ke(c,(g,S)=>S.name==="class"?g:{...g,[S.name]:S.value},{})},KW=o=>Array.prototype.slice.call(o.dom.classList,0),Ov=o=>{const c=zt.fromHtml(o),g=qr(c),S=qW(c),_=KW(c),H=g.length===0?{}:{innerHtml:KS(c)};return{tag:Oo(c),classes:_,attributes:S,...H}},ia=o=>{const c=JE(o)&&En(o,"uid")?o.uid:c0("memento");return{get:H=>H.getSystem().getByUid(c).getOrDie(),getOpt:H=>H.getSystem().getByUid(c).toOptional(),asSpec:()=>({...o,uid:c})}},{entries:R_,setPrototypeOf:D_,isFrozen:JW,getPrototypeOf:eY,getOwnPropertyDescriptor:tY}=Object;let{freeze:Bf,seal:zm,create:nY}=Object,{apply:ZA,construct:$_}=typeof Reflect<"u"&&Reflect;ZA||(ZA=function(c,g,S){return c.apply(g,S)}),Bf||(Bf=function(c){return c}),zm||(zm=function(c){return c}),$_||($_=function(c,g){return new c(...g)});const rY=Nh(Array.prototype.forEach),oY=Nh(Array.prototype.pop),RT=Nh(Array.prototype.push),HA=Nh(String.prototype.toLowerCase),xv=Nh(String.prototype.toString),sY=Nh(String.prototype.match),Zm=Nh(String.prototype.replace),Rb=Nh(String.prototype.indexOf),sL=Nh(String.prototype.trim),Gd=Nh(RegExp.prototype.test),Ih=aY(TypeError);function Nh(o){return function(c){for(var g=arguments.length,S=new Array(g>1?g-1:0),_=1;_<g;_++)S[_-1]=arguments[_];return ZA(o,c,S)}}function aY(o){return function(){for(var c=arguments.length,g=new Array(c),S=0;S<c;S++)g[S]=arguments[S];return $_(o,g)}}function Ds(o,c,g){var S;g=(S=g)!==null&&S!==void 0?S:HA,D_&&D_(o,null);let _=c.length;for(;_--;){let H=c[_];if(typeof H=="string"){const K=g(H);K!==H&&(JW(c)||(c[_]=K),H=K)}o[H]=!0}return o}function Db(o){const c=nY(null);for(const[g,S]of R_(o))c[g]=S;return c}function DT(o,c){for(;o!==null;){const S=tY(o,c);if(S){if(S.get)return Nh(S.get);if(typeof S.value=="function")return Nh(S.value)}o=eY(o)}function g(S){return console.warn("fallback value for",S),null}return g}const L_=Bf(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I_=Bf(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$T=Bf(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),iY=Bf(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N_=Bf(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),lY=Bf(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LT=Bf(["#text"]),UA=Bf(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),WA=Bf(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B_=Bf(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),IT=Bf(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cY=zm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uY=zm(/<%[\w\W]*|[\w\W]*%>/gm),aL=zm(/\${[\w\W]*}/gm),fY=zm(/^data-[\-\w.\u00B7-\uFFFF]/),Q_=zm(/^aria-[\-\w]+$/),F_=zm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),dY=zm(/^(?:\w+script|data):/i),hY=zm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iL=zm(/^html$/i);var YA=Object.freeze({__proto__:null,MUSTACHE_EXPR:cY,ERB_EXPR:uY,TMPLIT_EXPR:aL,DATA_ATTR:fY,ARIA_ATTR:Q_,IS_ALLOWED_URI:F_,IS_SCRIPT_OR_DATA:dY,ATTR_WHITESPACE:hY,DOCTYPE_NAME:iL});const mY=()=>typeof window>"u"?null:window,NT=function(c,g){if(typeof c!="object"||typeof c.createPolicy!="function")return null;let S=null;const _="data-tt-policy-suffix";g&&g.hasAttribute(_)&&(S=g.getAttribute(_));const H="dompurify"+(S?"#"+S:"");try{return c.createPolicy(H,{createHTML(K){return K},createScriptURL(K){return K}})}catch{return console.warn("TrustedTypes policy "+H+" could not be created."),null}};function BT(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mY();const c=ws=>BT(ws);if(c.version="3.0.5",c.removed=[],!o||!o.document||o.document.nodeType!==9)return c.isSupported=!1,c;const g=o.document,S=g.currentScript;let{document:_}=o;const{DocumentFragment:H,HTMLTemplateElement:K,Node:ve,Element:Ae,NodeFilter:Ne,NamedNodeMap:Ue=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:Je,DOMParser:st,trustedTypes:ht}=o,At=Ae.prototype,qt=DT(At,"cloneNode"),Dn=DT(At,"nextSibling"),mn=DT(At,"childNodes"),on=DT(At,"parentNode");if(typeof K=="function"){const ws=_.createElement("template");ws.content&&ws.content.ownerDocument&&(_=ws.content.ownerDocument)}let kn,Zn="";const{implementation:mr,createNodeIterator:Gn,createDocumentFragment:Or,getElementsByTagName:Mr}=_,{importNode:is}=g;let Gr={};c.isSupported=typeof R_=="function"&&typeof on=="function"&&mr&&mr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Io,ERB_EXPR:_o,TMPLIT_EXPR:na,DATA_ATTR:wo,ARIA_ATTR:Ns,IS_SCRIPT_OR_DATA:Pr,ATTR_WHITESPACE:oo}=YA;let{IS_ALLOWED_URI:No}=YA,Qo=null;const To=Ds({},[...L_,...I_,...$T,...N_,...LT]);let Yo=null;const Ma=Ds({},[...UA,...WA,...B_,...IT]);let Fs=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kl=null,vf=null,ih=!0,Kh=!0,R1=!1,iO=!0,Km=!1,Rv=!1,sC=!1,oD=!1,eS=!1,kP=!1,Rz=!1,Ice=!0,Nce=!1;const cxe="user-content-";let Jne=!0,sD=!1,AP={},PP=null;const Bce=Ds({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qce=null;const Fce=Ds({},["audio","video","img","source","image","track"]);let ere=null;const Vce=Ds({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Dz="http://www.w3.org/1998/Math/MathML",$z="http://www.w3.org/2000/svg",lO="http://www.w3.org/1999/xhtml";let MP=lO,tre=!1,nre=null;const uxe=Ds({},[Dz,$z,lO],xv);let aC;const fxe=["application/xhtml+xml","text/html"],dxe="text/html";let yf,EP=null;const hxe=_.createElement("form"),zce=function(Vn){return Vn instanceof RegExp||Vn instanceof Function},rre=function(Vn){if(!(EP&&EP===Vn)){if((!Vn||typeof Vn!="object")&&(Vn={}),Vn=Db(Vn),aC=fxe.indexOf(Vn.PARSER_MEDIA_TYPE)===-1?aC=dxe:aC=Vn.PARSER_MEDIA_TYPE,yf=aC==="application/xhtml+xml"?xv:HA,Qo="ALLOWED_TAGS"in Vn?Ds({},Vn.ALLOWED_TAGS,yf):To,Yo="ALLOWED_ATTR"in Vn?Ds({},Vn.ALLOWED_ATTR,yf):Ma,nre="ALLOWED_NAMESPACES"in Vn?Ds({},Vn.ALLOWED_NAMESPACES,xv):uxe,ere="ADD_URI_SAFE_ATTR"in Vn?Ds(Db(Vce),Vn.ADD_URI_SAFE_ATTR,yf):Vce,Qce="ADD_DATA_URI_TAGS"in Vn?Ds(Db(Fce),Vn.ADD_DATA_URI_TAGS,yf):Fce,PP="FORBID_CONTENTS"in Vn?Ds({},Vn.FORBID_CONTENTS,yf):Bce,Kl="FORBID_TAGS"in Vn?Ds({},Vn.FORBID_TAGS,yf):{},vf="FORBID_ATTR"in Vn?Ds({},Vn.FORBID_ATTR,yf):{},AP="USE_PROFILES"in Vn?Vn.USE_PROFILES:!1,ih=Vn.ALLOW_ARIA_ATTR!==!1,Kh=Vn.ALLOW_DATA_ATTR!==!1,R1=Vn.ALLOW_UNKNOWN_PROTOCOLS||!1,iO=Vn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Km=Vn.SAFE_FOR_TEMPLATES||!1,Rv=Vn.WHOLE_DOCUMENT||!1,eS=Vn.RETURN_DOM||!1,kP=Vn.RETURN_DOM_FRAGMENT||!1,Rz=Vn.RETURN_TRUSTED_TYPE||!1,oD=Vn.FORCE_BODY||!1,Ice=Vn.SANITIZE_DOM!==!1,Nce=Vn.SANITIZE_NAMED_PROPS||!1,Jne=Vn.KEEP_CONTENT!==!1,sD=Vn.IN_PLACE||!1,No=Vn.ALLOWED_URI_REGEXP||F_,MP=Vn.NAMESPACE||lO,Fs=Vn.CUSTOM_ELEMENT_HANDLING||{},Vn.CUSTOM_ELEMENT_HANDLING&&zce(Vn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Fs.tagNameCheck=Vn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Vn.CUSTOM_ELEMENT_HANDLING&&zce(Vn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Fs.attributeNameCheck=Vn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Vn.CUSTOM_ELEMENT_HANDLING&&typeof Vn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Fs.allowCustomizedBuiltInElements=Vn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Km&&(Kh=!1),kP&&(eS=!0),AP&&(Qo=Ds({},[...LT]),Yo=[],AP.html===!0&&(Ds(Qo,L_),Ds(Yo,UA)),AP.svg===!0&&(Ds(Qo,I_),Ds(Yo,WA),Ds(Yo,IT)),AP.svgFilters===!0&&(Ds(Qo,$T),Ds(Yo,WA),Ds(Yo,IT)),AP.mathMl===!0&&(Ds(Qo,N_),Ds(Yo,B_),Ds(Yo,IT))),Vn.ADD_TAGS&&(Qo===To&&(Qo=Db(Qo)),Ds(Qo,Vn.ADD_TAGS,yf)),Vn.ADD_ATTR&&(Yo===Ma&&(Yo=Db(Yo)),Ds(Yo,Vn.ADD_ATTR,yf)),Vn.ADD_URI_SAFE_ATTR&&Ds(ere,Vn.ADD_URI_SAFE_ATTR,yf),Vn.FORBID_CONTENTS&&(PP===Bce&&(PP=Db(PP)),Ds(PP,Vn.FORBID_CONTENTS,yf)),Jne&&(Qo["#text"]=!0),Rv&&Ds(Qo,["html","head","body"]),Qo.table&&(Ds(Qo,["tbody"]),delete Kl.tbody),Vn.TRUSTED_TYPES_POLICY){if(typeof Vn.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ih('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Vn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ih('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');kn=Vn.TRUSTED_TYPES_POLICY,Zn=kn.createHTML("")}else kn===void 0&&(kn=NT(ht,S)),kn!==null&&typeof Zn=="string"&&(Zn=kn.createHTML(""));Bf&&Bf(Vn),EP=Vn}},Zce=Ds({},["mi","mo","mn","ms","mtext"]),Hce=Ds({},["foreignobject","desc","title","annotation-xml"]),mxe=Ds({},["title","style","font","a","script"]),Lz=Ds({},I_);Ds(Lz,$T),Ds(Lz,iY);const ore=Ds({},N_);Ds(ore,lY);const gxe=function(Vn){let ho=on(Vn);(!ho||!ho.tagName)&&(ho={namespaceURI:MP,tagName:"template"});const Fo=HA(Vn.tagName),nl=HA(ho.tagName);return nre[Vn.namespaceURI]?Vn.namespaceURI===$z?ho.namespaceURI===lO?Fo==="svg":ho.namespaceURI===Dz?Fo==="svg"&&(nl==="annotation-xml"||Zce[nl]):!!Lz[Fo]:Vn.namespaceURI===Dz?ho.namespaceURI===lO?Fo==="math":ho.namespaceURI===$z?Fo==="math"&&Hce[nl]:!!ore[Fo]:Vn.namespaceURI===lO?ho.namespaceURI===$z&&!Hce[nl]||ho.namespaceURI===Dz&&!Zce[nl]?!1:!ore[Fo]&&(mxe[Fo]||!Lz[Fo]):!!(aC==="application/xhtml+xml"&&nre[Vn.namespaceURI]):!1},iC=function(Vn){RT(c.removed,{element:Vn});try{Vn.parentNode.removeChild(Vn)}catch{Vn.remove()}},aD=function(Vn,ho){try{RT(c.removed,{attribute:ho.getAttributeNode(Vn),from:ho})}catch{RT(c.removed,{attribute:null,from:ho})}if(ho.removeAttribute(Vn),Vn==="is"&&!Yo[Vn])if(eS||kP)try{iC(ho)}catch{}else try{ho.setAttribute(Vn,"")}catch{}},Uce=function(Vn){let ho,Fo;if(oD)Vn="<remove></remove>"+Vn;else{const mp=sY(Vn,/^[\r\n\t ]+/);Fo=mp&&mp[0]}aC==="application/xhtml+xml"&&MP===lO&&(Vn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Vn+"</body></html>");const nl=kn?kn.createHTML(Vn):Vn;if(MP===lO)try{ho=new st().parseFromString(nl,aC)}catch{}if(!ho||!ho.documentElement){ho=mr.createDocument(MP,"template",null);try{ho.documentElement.innerHTML=tre?Zn:nl}catch{}}const bf=ho.body||ho.documentElement;return Vn&&Fo&&bf.insertBefore(_.createTextNode(Fo),bf.childNodes[0]||null),MP===lO?Mr.call(ho,Rv?"html":"body")[0]:Rv?ho.documentElement:bf},Wce=function(Vn){return Gn.call(Vn.ownerDocument||Vn,Vn,Ne.SHOW_ELEMENT|Ne.SHOW_COMMENT|Ne.SHOW_TEXT,null,!1)},pxe=function(Vn){return Vn instanceof Je&&(typeof Vn.nodeName!="string"||typeof Vn.textContent!="string"||typeof Vn.removeChild!="function"||!(Vn.attributes instanceof Ue)||typeof Vn.removeAttribute!="function"||typeof Vn.setAttribute!="function"||typeof Vn.namespaceURI!="string"||typeof Vn.insertBefore!="function"||typeof Vn.hasChildNodes!="function")},Iz=function(Vn){return typeof ve=="object"?Vn instanceof ve:Vn&&typeof Vn=="object"&&typeof Vn.nodeType=="number"&&typeof Vn.nodeName=="string"},cO=function(Vn,ho,Fo){Gr[Vn]&&rY(Gr[Vn],nl=>{nl.call(c,ho,Fo,EP)})},Yce=function(Vn){let ho;if(cO("beforeSanitizeElements",Vn,null),pxe(Vn))return iC(Vn),!0;const Fo=yf(Vn.nodeName);if(cO("uponSanitizeElement",Vn,{tagName:Fo,allowedTags:Qo}),Vn.hasChildNodes()&&!Iz(Vn.firstElementChild)&&(!Iz(Vn.content)||!Iz(Vn.content.firstElementChild))&&Gd(/<[/\w]/g,Vn.innerHTML)&&Gd(/<[/\w]/g,Vn.textContent))return iC(Vn),!0;if(!Qo[Fo]||Kl[Fo]){if(!Kl[Fo]&&Gce(Fo)&&(Fs.tagNameCheck instanceof RegExp&&Gd(Fs.tagNameCheck,Fo)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Fo)))return!1;if(Jne&&!PP[Fo]){const nl=on(Vn)||Vn.parentNode,bf=mn(Vn)||Vn.childNodes;if(bf&&nl){const mp=bf.length;for(let dc=mp-1;dc>=0;--dc)nl.insertBefore(qt(bf[dc],!0),Dn(Vn))}}return iC(Vn),!0}return Vn instanceof Ae&&!gxe(Vn)||(Fo==="noscript"||Fo==="noembed"||Fo==="noframes")&&Gd(/<\/no(script|embed|frames)/i,Vn.innerHTML)?(iC(Vn),!0):(Km&&Vn.nodeType===3&&(ho=Vn.textContent,ho=Zm(ho,Io," "),ho=Zm(ho,_o," "),ho=Zm(ho,na," "),Vn.textContent!==ho&&(RT(c.removed,{element:Vn.cloneNode()}),Vn.textContent=ho)),cO("afterSanitizeElements",Vn,null),!1)},Xce=function(Vn,ho,Fo){if(Ice&&(ho==="id"||ho==="name")&&(Fo in _||Fo in hxe))return!1;if(!(Kh&&!vf[ho]&&Gd(wo,ho))){if(!(ih&&Gd(Ns,ho))){if(!Yo[ho]||vf[ho]){if(!(Gce(Vn)&&(Fs.tagNameCheck instanceof RegExp&&Gd(Fs.tagNameCheck,Vn)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Vn))&&(Fs.attributeNameCheck instanceof RegExp&&Gd(Fs.attributeNameCheck,ho)||Fs.attributeNameCheck instanceof Function&&Fs.attributeNameCheck(ho))||ho==="is"&&Fs.allowCustomizedBuiltInElements&&(Fs.tagNameCheck instanceof RegExp&&Gd(Fs.tagNameCheck,Fo)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Fo))))return!1}else if(!ere[ho]){if(!Gd(No,Zm(Fo,oo,""))){if(!((ho==="src"||ho==="xlink:href"||ho==="href")&&Vn!=="script"&&Rb(Fo,"data:")===0&&Qce[Vn])){if(!(R1&&!Gd(Pr,Zm(Fo,oo,"")))){if(Fo)return!1}}}}}}return!0},Gce=function(Vn){return Vn.indexOf("-")>0},jce=function(Vn){let ho,Fo,nl,bf;cO("beforeSanitizeAttributes",Vn,null);const{attributes:mp}=Vn;if(!mp)return;const dc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yo};for(bf=mp.length;bf--;){ho=mp[bf];const{name:gp,namespaceURI:sre}=ho;Fo=gp==="value"?ho.value:sL(ho.value);const yxe=Fo;if(nl=yf(gp),dc.attrName=nl,dc.attrValue=Fo,dc.keepAttr=!0,dc.forceKeepAttr=void 0,cO("uponSanitizeAttribute",Vn,dc),Fo=dc.attrValue,dc.forceKeepAttr)continue;if(!dc.keepAttr){aD(gp,Vn);continue}if(!iO&&Gd(/\/>/i,Fo)){aD(gp,Vn);continue}Km&&(Fo=Zm(Fo,Io," "),Fo=Zm(Fo,_o," "),Fo=Zm(Fo,na," "));const qce=yf(Vn.nodeName);if(!Xce(qce,nl,Fo)){aD(gp,Vn);continue}if(Nce&&(nl==="id"||nl==="name")&&(aD(gp,Vn),Fo=cxe+Fo),kn&&typeof ht=="object"&&typeof ht.getAttributeType=="function"&&!sre)switch(ht.getAttributeType(qce,nl)){case"TrustedHTML":{Fo=kn.createHTML(Fo);break}case"TrustedScriptURL":{Fo=kn.createScriptURL(Fo);break}}if(Fo!==yxe)try{sre?Vn.setAttributeNS(sre,gp,Fo):Vn.setAttribute(gp,Fo)}catch{aD(gp,Vn)}}cO("afterSanitizeAttributes",Vn,null)},vxe=function ws(Vn){let ho;const Fo=Wce(Vn);for(cO("beforeSanitizeShadowDOM",Vn,null);ho=Fo.nextNode();)cO("uponSanitizeShadowNode",ho,null),!Yce(ho)&&(ho.content instanceof H&&ws(ho.content),jce(ho));cO("afterSanitizeShadowDOM",Vn,null)};return c.sanitize=function(ws){let Vn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ho,Fo,nl,bf;if(tre=!ws,tre&&(ws="<!-->"),typeof ws!="string"&&!Iz(ws))if(typeof ws.toString=="function"){if(ws=ws.toString(),typeof ws!="string")throw Ih("dirty is not a string, aborting")}else throw Ih("toString is not a function");if(!c.isSupported)return ws;if(sC||rre(Vn),c.removed=[],typeof ws=="string"&&(sD=!1),sD){if(ws.nodeName){const gp=yf(ws.nodeName);if(!Qo[gp]||Kl[gp])throw Ih("root node is forbidden and cannot be sanitized in-place")}}else if(ws instanceof ve)ho=Uce("<!---->"),Fo=ho.ownerDocument.importNode(ws,!0),Fo.nodeType===1&&Fo.nodeName==="BODY"||Fo.nodeName==="HTML"?ho=Fo:ho.appendChild(Fo);else{if(!eS&&!Km&&!Rv&&ws.indexOf("<")===-1)return kn&&Rz?kn.createHTML(ws):ws;if(ho=Uce(ws),!ho)return eS?null:Rz?Zn:""}ho&&oD&&iC(ho.firstChild);const mp=Wce(sD?ws:ho);for(;nl=mp.nextNode();)Yce(nl)||(nl.content instanceof H&&vxe(nl.content),jce(nl));if(sD)return ws;if(eS){if(kP)for(bf=Or.call(ho.ownerDocument);ho.firstChild;)bf.appendChild(ho.firstChild);else bf=ho;return(Yo.shadowroot||Yo.shadowrootmode)&&(bf=is.call(g,bf,!0)),bf}let dc=Rv?ho.outerHTML:ho.innerHTML;return Rv&&Qo["!doctype"]&&ho.ownerDocument&&ho.ownerDocument.doctype&&ho.ownerDocument.doctype.name&&Gd(iL,ho.ownerDocument.doctype.name)&&(dc="<!DOCTYPE "+ho.ownerDocument.doctype.name+`>
`+dc),Km&&(dc=Zm(dc,Io," "),dc=Zm(dc,_o," "),dc=Zm(dc,na," ")),kn&&Rz?kn.createHTML(dc):dc},c.setConfig=function(ws){rre(ws),sC=!0},c.clearConfig=function(){EP=null,sC=!1},c.isValidAttribute=function(ws,Vn,ho){EP||rre({});const Fo=yf(ws),nl=yf(Vn);return Xce(Fo,nl,ho)},c.addHook=function(ws,Vn){typeof Vn=="function"&&(Gr[ws]=Gr[ws]||[],RT(Gr[ws],Vn))},c.removeHook=function(ws){if(Gr[ws])return oY(Gr[ws])},c.removeHooks=function(ws){Gr[ws]&&(Gr[ws]=[])},c.removeAllHooks=function(){Gr={}},c}var lL=BT();const V_=o=>lL().sanitize(o);var dd=tinymce.util.Tools.resolve("tinymce.util.I18n");const gY={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},cL="temporary-placeholder",z_=o=>()=>Bt(o,cL).getOr("!not found!"),QT=(o,c)=>{const g=o.toLowerCase();if(dd.isRtl()){const S=He(g,"-rtl");return vn(c,S)?S:g}else return g},Z_=(o,c)=>Bt(c,QT(o,c)),H_=(o,c)=>{const g=c();return Z_(o,g).getOrThunk(z_(g))},U_=(o,c,g)=>{const S=c();return Z_(o,S).or(g).getOrThunk(z_(S))},pY=o=>dd.isRtl()?vn(gY,o):!1,XA=()=>Jo("add-focusable",[Ca(o=>{ix(o.element,"svg").each(c=>Dr(c,"focusable","false"))})]),uL=(o,c,g,S)=>{var _,H;const K=pY(c)?["tox-icon--flip"]:[],ve=Bt(g,QT(c,g)).or(S).getOrThunk(z_(g));return{dom:{tag:o.tag,attributes:(_=o.attributes)!==null&&_!==void 0?_:{},classes:o.classes.concat(K),innerHtml:ve},behaviours:pr([...(H=o.behaviours)!==null&&H!==void 0?H:[],XA()])}},Bh=(o,c,g,S=L.none())=>uL(c,o,g(),S),vY=(o,c,g)=>{const S=g(),_=Ze(o,H=>vn(S,QT(H,S)));return uL(c,_.getOr(cL),S,L.none())},fL={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},W_=_u({name:"Notification",factory:o=>{const c=ia({dom:Ov(`<p>${V_(o.translationProvider(o.text))}</p>`),behaviours:pr([Uo.config({})])}),g=ht=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ht}%`}}}),S=ht=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ht}%`}}),_=ia({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[g(0)]},S(0)],behaviours:pr([Uo.config({})])}),ve={updateProgress:(ht,At)=>{ht.getSystem().isConnected()&&_.getOpt(ht).each(qt=>{Uo.set(qt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[g(At)]},S(At)])})},updateText:(ht,At)=>{if(ht.getSystem().isConnected()){const qt=c.get(ht);Uo.set(qt,[yi(At)])}}},Ae=Ie([o.icon.toArray(),o.level.toArray(),o.level.bind(ht=>L.from(fL[ht])).toArray()]),Ne=ia(Dl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Bh("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":o.translationProvider("Close")}},o.iconProvider)],action:ht=>{o.onAction(ht)}})),Ue=vY(Ae,{tag:"div",classes:["tox-notification__icon"]},o.iconProvider),Je={dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:pr([Uo.config({})])},st=[Ue,Je];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert"},classes:o.level.map(ht=>["tox-notification","tox-notification--in",`tox-notification--${ht}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:pr([Mo.config({}),Jo("notification-events",[qn(Do(),ht=>{Ne.getOpt(ht).each(Mo.focus)})])]),components:st.concat(o.progress?[_.asSpec()]:[]).concat(o.closeButton?[Ne.asSpec()]:[]),apis:ve}},configFields:[Ws("level"),er("progress"),Ws("icon"),er("onAction"),er("text"),er("iconProvider"),er("translationProvider"),Wi("closeButton",!0)],apis:{updateProgress:(o,c,g)=>{o.updateProgress(c,g)},updateText:(o,c,g)=>{o.updateText(c,g)}}});var Y_=(o,c,g)=>{const S=c.backstage.shared,_=()=>{const Ae=ui(zt.fromDom(o.getContentAreaContainer())),Ne=Vl(),Ue=rf(Ne.x,Ae.x,Ae.right),Je=rf(Ne.y,Ae.y,Ae.bottom),st=Math.max(Ae.right,Ne.right),ht=Math.max(Ae.bottom,Ne.bottom);return L.some(Ja(Ue,Je,st-Ue,ht-Je))};return{open:(Ae,Ne)=>{const Ue=()=>{Ne(),ri.hide(st)},Je=oc(W_.sketch({text:Ae.text,level:be(["success","error","warning","warn","info"],Ae.type)?Ae.type:void 0,progress:Ae.progressBar===!0,icon:Ae.icon,closeButton:Ae.closeButton,onAction:Ue,iconProvider:S.providers.icons,translationProvider:S.providers.translate})),st=oc(ri.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:S.getSink,fireDismissalEventInstead:{},...S.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));g.add(st),T(Ae.timeout)&&Ae.timeout>0&&_b.setEditorTimeout(o,()=>{Ue()},Ae.timeout);const At={close:Ue,reposition:()=>{const qt=nf(Je),Dn={maxHeightFunction:R0()},mn=o.notificationManager.getNotifications();if(mn[0]===At){const on={...S.anchors.banner(),overrides:Dn};ri.showWithinBounds(st,qt,{anchor:on},_)}else ee(mn,At).each(on=>{const kn=mn[on-1].getEl(),Zn={type:"node",root:ya(),node:L.some(zt.fromDom(kn)),overrides:Dn,layouts:{onRtl:()=>[fl],onLtr:()=>[fl]}};ri.showWithinBounds(st,qt,{anchor:Zn},_)})},text:qt=>{W_.updateText(Je,qt)},settings:Ae,getEl:()=>Je.element.dom,progressBar:{value:qt=>{W_.updateProgress(Je,qt)}}};return At},close:Ae=>{Ae.close()},getArgs:Ae=>Ae.settings}},$b=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),dL=tinymce.util.Tools.resolve("tinymce.EditorManager"),n2=tinymce.util.Tools.resolve("tinymce.Env"),Qf;(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Qf||(Qf={}));var FT;(function(o){o.auto="auto",o.top="top",o.bottom="bottom"})(FT||(FT={}));const _a=o=>c=>c.options.get(o),VT=o=>c=>L.from(o(c)),hL=o=>{const c=n2.deviceType.isPhone(),g=n2.deviceType.isTablet()||c,S=o.options.register,_=K=>h(K)||K===!1,H=K=>h(K)||T(K);S("skin",{processor:K=>h(K)||K===!1,default:"oxide"}),S("skin_url",{processor:"string"}),S("height",{processor:H,default:Math.max(o.getElement().offsetHeight,400)}),S("width",{processor:H,default:$b.DOM.getStyle(o.getElement(),"width")}),S("min_height",{processor:"number",default:100}),S("min_width",{processor:"number"}),S("max_height",{processor:"number"}),S("max_width",{processor:"number"}),S("style_formats",{processor:"object[]"}),S("style_formats_merge",{processor:"boolean",default:!1}),S("style_formats_autohide",{processor:"boolean",default:!1}),S("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),S("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),S("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),S("font_size_input_default_unit",{processor:"string",default:"pt"}),S("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),S("content_langs",{processor:"object[]"}),S("removed_menuitems",{processor:"string",default:""}),S("menubar",{processor:K=>h(K)||b(K),default:!c}),S("menu",{processor:"object",default:{}}),S("toolbar",{processor:K=>b(K)||h(K)||v(K)?{value:K,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Be(9,K=>{S("toolbar"+(K+1),{processor:"string"})}),S("toolbar_mode",{processor:"string",default:g?"scrolling":"floating"}),S("toolbar_groups",{processor:"object",default:{}}),S("toolbar_location",{processor:"string",default:FT.auto}),S("toolbar_persist",{processor:"boolean",default:!1}),S("toolbar_sticky",{processor:"boolean",default:o.inline}),S("toolbar_sticky_offset",{processor:"number",default:0}),S("fixed_toolbar_container",{processor:"string",default:""}),S("fixed_toolbar_container_target",{processor:"object"}),S("ui_mode",{processor:"string",default:"combined"}),S("file_picker_callback",{processor:"function"}),S("file_picker_validator_handler",{processor:"function"}),S("file_picker_types",{processor:"string"}),S("typeahead_urls",{processor:"boolean",default:!0}),S("anchor_top",{processor:_,default:"#top"}),S("anchor_bottom",{processor:_,default:"#bottom"}),S("draggable_modal",{processor:"boolean",default:!1}),S("statusbar",{processor:"boolean",default:!0}),S("elementpath",{processor:"boolean",default:!0}),S("branding",{processor:"boolean",default:!0}),S("promotion",{processor:"boolean",default:!0}),S("resize",{processor:K=>K==="both"||b(K),default:!n2.deviceType.isTouch()}),S("sidebar_show",{processor:"string"}),S("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),S("default_font_stack",{processor:"string[]",default:[]})},mL=_a("readonly"),GA=_a("height"),zT=_a("width"),X_=VT(_a("min_width")),r2=VT(_a("min_height")),jA=VT(_a("max_width")),G_=VT(_a("max_height")),gL=VT(_a("style_formats")),pL=_a("style_formats_merge"),vL=_a("style_formats_autohide"),yL=_a("content_langs"),j_=_a("removed_menuitems"),o2=_a("toolbar_mode"),bL=_a("toolbar_groups"),ZT=_a("toolbar_location"),Lb=_a("fixed_toolbar_container"),yY=_a("fixed_toolbar_container_target"),OL=_a("toolbar_persist"),qA=_a("toolbar_sticky_offset"),q_=_a("menubar"),KA=_a("toolbar"),xL=_a("file_picker_callback"),K_=_a("file_picker_validator_handler"),SL=_a("font_size_input_default_unit"),J_=_a("file_picker_types"),e8=_a("typeahead_urls"),JA=_a("anchor_top"),wL=_a("anchor_bottom"),t8=_a("draggable_modal"),TL=_a("statusbar"),s2=_a("elementpath"),n8=_a("branding"),CL=_a("resize"),e5=_a("paste_as_text"),t5=_a("sidebar_show"),kL=_a("promotion"),n5=_a("help_accessibility"),AL=_a("default_font_stack"),r8=o=>o.options.get("skin")===!1,a2=o=>o.options.get("menubar")!==!1,r5=o=>{const c=o.options.get("skin_url");if(r8(o))return c;if(c)return o.documentBaseURI.toAbsolute(c);{const g=o.options.get("skin");return dL.baseURL+"/skins/ui/"+g}},o8=o=>L.from(o.options.get("skin_url")),PL=o=>o.options.get("line_height_formats").split(" "),o5=o=>{const c=KA(o),g=h(c),S=v(c)&&c.length>0;return!HT(o)&&(S||g||c===!0)},s8=o=>{const c=Be(9,S=>o.options.get("toolbar"+(S+1))),g=xe(c,h);return it(g.length>0,g)},HT=o=>s8(o).fold(()=>{const c=KA(o);return R(c,h)&&c.length>0},ie),a8=o=>ZT(o)===FT.bottom,ML=o=>{var c;if(!o.inline)return L.none();const g=(c=Lb(o))!==null&&c!==void 0?c:"";if(g.length>0)return Ai(ya(),g);const S=yY(o);return C(S)?L.some(zt.fromDom(S)):L.none()},i2=o=>o.inline&&ML(o).isSome(),i8=o=>ML(o).getOrThunk(()=>Xs(es(zt.fromDom(o.getElement())))),l8=o=>o.inline&&!a2(o)&&!o5(o)&&!HT(o),UT=o=>(o.options.get("toolbar_sticky")||o.inline)&&!i2(o)&&!l8(o),Kg=o=>!i2(o)&&o.options.get("ui_mode")==="split",EL=o=>{const c=o.options.get("menu");return je(c,g=>({...g,items:g.items}))};var bY=Object.freeze({__proto__:null,get ToolbarMode(){return Qf},get ToolbarLocation(){return FT},register:hL,getSkinUrl:r5,getSkinUrlOption:o8,isReadOnly:mL,isSkinDisabled:r8,getHeightOption:GA,getWidthOption:zT,getMinWidthOption:X_,getMinHeightOption:r2,getMaxWidthOption:jA,getMaxHeightOption:G_,getUserStyleFormats:gL,shouldMergeStyleFormats:pL,shouldAutoHideStyleFormats:vL,getLineHeightFormats:PL,getContentLanguages:yL,getRemovedMenuItems:j_,isMenubarEnabled:a2,isMultipleToolbars:HT,isToolbarEnabled:o5,isToolbarPersist:OL,getMultipleToolbarsOption:s8,getUiContainer:i8,useFixedContainer:i2,isSplitUiMode:Kg,getToolbarMode:o2,isDraggableModal:t8,isDistractionFree:l8,isStickyToolbar:UT,getStickyToolbarOffset:qA,getToolbarLocation:ZT,isToolbarLocationBottom:a8,getToolbarGroups:bL,getMenus:EL,getMenubar:q_,getToolbar:KA,getFilePickerCallback:xL,getFilePickerTypes:J_,useTypeaheadUrls:e8,getAnchorTop:JA,getAnchorBottom:wL,getFilePickerValidatorHandler:K_,getFontSizeInputDefaultUnit:SL,useStatusBar:TL,useElementPath:s2,promotionEnabled:kL,useBranding:n8,getResize:CL,getPasteAsText:e5,getSidebarShow:t5,useHelpAccessibility:n5,getDefaultFontStack:AL});const _L="[data-mce-autocompleter]",c8=o=>Vd(o,_L),OY=o=>Ai(o,_L),xY={setup:(o,c)=>{const g=(_,H)=>{vo(_,_s(),{raw:H})},S=()=>o.getMenu().bind(Ys.getHighlighted);c.on("keydown",_=>{const H=_.which;o.isActive()&&(o.isMenuOpen()?H===13?(S().each(xm),_.preventDefault()):H===40?(S().fold(()=>{o.getMenu().each(Ys.highlightFirst)},K=>{g(K,_)}),_.preventDefault(),_.stopImmediatePropagation()):(H===37||H===38||H===39)&&S().each(K=>{g(K,_),_.preventDefault(),_.stopImmediatePropagation()}):(H===13||H===38||H===40)&&o.cancelIfNecessary())}),c.on("NodeChange",_=>{o.isActive()&&!o.isProcessingAction()&&c8(zt.fromDom(_.element)).isNone()&&o.cancelIfNecessary()})}};var u8;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(u8||(u8={}));var Hm=u8;const f8="tox-menu-nav__js",l2="tox-collection__item",d8="tox-swatch",SY={normal:f8,color:d8},RL="tox-collection__item--enabled",wY="tox-collection__group-heading",DL="tox-collection__item-icon",h8="tox-collection__item-label",TY="tox-collection__item-accessory",$L="tox-collection__item-caret",CY="tox-collection__item-checkmark",WT="tox-collection__item--active",LL="tox-collection__item-container",kY="tox-collection__item-container--column",IL="tox-collection__item-container--row",s5="tox-collection__item-container--align-right",AY="tox-collection__item-container--align-left",m8="tox-collection__item-container--valign-top",PY="tox-collection__item-container--valign-middle",MY="tox-collection__item-container--valign-bottom",NL=o=>Bt(SY,o).getOr(f8),BL=o=>o==="color"?"tox-swatches":"tox-menu",g8=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:BL(o),tieredMenu:"tox-tiered-menu"}),Sv=o=>{const c=g8(o);return{backgroundMenu:c.backgroundMenu,selectedMenu:c.selectedMenu,menu:c.menu,selectedItem:c.selectedItem,item:NL(o)}},p8=(o,c,g)=>{const S=g8(g);return{tag:"div",classes:Ie([[S.menu,`tox-menu-${c}-column`],o?[S.hasIcons]:[]])}},QL=[Eb.parts.items({})],c2=(o,c,g)=>{const S=g8(g);return{dom:{tag:"div",classes:Ie([[S.tieredMenu]])},markers:Sv(g)}},YT=F([Ws("data"),Mn("inputAttributes",{}),Mn("inputStyles",{}),Mn("tag","input"),Mn("inputClasses",[]),Rs("onSetValue"),Mn("styles",{}),Mn("eventOrder",{}),el("inputBehaviours",[Fr,Mo]),Mn("selectOnFocus",!0)]),v8=o=>pr([Mo.config({onFocus:o.selectOnFocus?c=>{const g=c.element,S=Ch(g);g.dom.setSelectionRange(0,S.length)}:M})]),Jg=o=>({...v8(o),...Ni(o.inputBehaviours,[Fr.config({store:{mode:"manual",...o.data.map(c=>({initialValue:c})).getOr({}),getValue:c=>Ch(c.element),setValue:(c,g)=>{Ch(c.element)!==g&&b0(c.element,g)}},onSetValue:o.onSetValue})])}),a5=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),EY=(o,c)=>({uid:o.uid,dom:a5(o),components:[],behaviours:Jg(o),eventOrder:o.eventOrder}),Ib=_u({name:"Input",configFields:YT(),factory:EY}),FL=Kr("refetch-trigger-event"),VL=Kr("redirect-menu-item-interaction"),u2="tox-menu__searcher",i5=o=>Ai(o.element,`.${u2}`).bind(c=>o.getSystem().getByDom(c).toOptional()),y8=i5,b8=(o,c)=>{Fr.setValue(o,c.fetchPattern),o.element.dom.selectionStart=c.selectionStart,o.element.dom.selectionEnd=c.selectionEnd},zL=o=>{const c=Fr.getValue(o),g=o.element.dom.selectionStart,S=o.element.dom.selectionEnd;return{fetchPattern:c,selectionStart:g,selectionEnd:S}},O8=(o,c)=>{Ri(c.element,"id").each(g=>Dr(o.element,"aria-activedescendant",g))},x8=o=>{const c=(_,H)=>(H.cut(),L.none()),g=(_,H)=>{const K={interactionEvent:H.event,eventType:H.event.raw.type};return vo(_,VL,K),L.some(!0)},S="searcher-events";return{dom:{tag:"div",classes:[l2]},components:[Ib.sketch({inputClasses:[u2,"tox-textfield"],inputAttributes:{...o.placeholder.map(_=>({placeholder:o.i18n(_)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pr([Jo(S,[qn(di(),_=>{ks(_,FL)}),qn(_s(),(_,H)=>{H.event.raw.key==="Escape"&&H.stop()})]),yo.config({mode:"special",onLeft:c,onRight:c,onSpace:c,onEnter:g,onEscape:g,onUp:g,onDown:g})]),eventOrder:{keydown:[S,yo.name()]}})]}},l5="tox-collection--results__js",S8=o=>{var c;return o.dom?{...o,dom:{...o.dom,attributes:{...(c=o.dom.attributes)!==null&&c!==void 0?c:{},id:Kr("aria-item-search-result-id"),"aria-selected":"false"}}}:o},c5=(o,c)=>g=>{const S=ge(g,c);return ne(S,_=>({dom:o,components:_}))},_Y=o=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Eb.parts.items({preprocess:o!=="auto"?c5({tag:"div",classes:["tox-swatches__row"]},o):z})]}]}),RY=o=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Eb.parts.items({preprocess:c5({tag:"div",classes:["tox-collection__group"]},o)})]}),ZL=(o,c)=>{const g=[];let S=[];return pe(o,(_,H)=>{c(_,H)?(S.length>0&&g.push(S),S=[],(vn(_.dom,"innerHtml")||_.components&&_.components.length>0)&&S.push(_)):S.push(_)}),S.length>0&&g.push(S),ne(g,_=>({dom:{tag:"div",classes:["tox-collection__group"]},components:_}))},w8=(o,c,g)=>Eb.parts.items({preprocess:S=>{const _=ne(S,g);return o!=="auto"&&o>1?c5({tag:"div",classes:["tox-collection__group"]},o)(_):ZL(_,(H,K)=>c[K].type==="separator")}}),HL=(o,c,g=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[w8(o,c,z)]}),DY=(o,c,g=!0)=>{const S=Kr("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",l5].concat(o===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:S}},components:[w8(o,c,S8)]}},UL=(o,c,g)=>{const S=Kr("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[x8({i18n:dd.translate,placeholder:g.placeholder}),{dom:{tag:"div",classes:[...o===1?["tox-collection--list"]:["tox-collection--grid"],l5],attributes:{id:S}},components:[w8(o,c,S8)]}]}},WL=(o,c=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Eb.parts.items({preprocess:g=>ZL(g,(S,_)=>o[_].type==="separator")})]}),u5=o=>Te(o,c=>"icon"in c&&c.icon!==void 0),ep=o=>(console.error(Zl(o)),console.log(o),L.none()),XT=(o,c,g,S,_)=>{const H=WL(g);return{value:o,dom:H.dom,components:H.components,items:g}},f5=(o,c,g,S,_)=>{const H=()=>_.menuType!=="searchable"?HL(S,g):_.searchMode.searchMode==="search-with-field"?UL(S,g,_.searchMode):DY(S,g);if(_.menuType==="color"){const K=_Y(S);return{value:o,dom:K.dom,components:K.components,items:g}}else if(_.menuType==="normal"&&S==="auto"){const K=HL(S,g);return{value:o,dom:K.dom,components:K.components,items:g}}else if(_.menuType==="normal"||_.menuType==="searchable"){const K=H();return{value:o,dom:K.dom,components:K.components,items:g}}else if(_.menuType==="listpreview"&&S!=="auto"){const K=RY(S);return{value:o,dom:K.dom,components:K.components,items:g}}else return{value:o,dom:p8(c,S,_.menuType),components:QL,items:g}},Gi=zs("type"),T8=zs("name"),d5=zs("label"),wv=zs("text"),YL=zs("title"),C8=zs("icon"),f2=zs("value"),XL=qu("fetch"),GL=qu("getSubmenuItems"),d2=qu("onAction"),$Y=qu("onItemAction"),i1=Di("onSetup",()=>M),k8=ll("name"),tp=ll("text"),hd=ll("icon"),GT=ll("tooltip"),h5=ll("label"),LY=ll("shortcut"),A8=Jf("select"),m5=Wi("active",!1),jL=Wi("borderless",!1),jd=Wi("enabled",!0),np=Wi("primary",!1),qL=o=>Mn("columns",o),jT=Mn("meta",{}),h2=Di("onAction",M),Nb=o=>nd("type",o),g5=o=>il("name","name",Ef(()=>Kr(`${o}-name`)),al),KL=o=>il("value","value",Ef(()=>Kr(`${o}-value`)),vi()),P8=uo([Gi,tp]),M8=o=>da("separatormenuitem",P8,o),JL=uo([Nb("autocompleteitem"),m5,jd,jT,f2,tp,hd]),IY=o=>da("Autocompleter.Separator",P8,o),eI=o=>da("Autocompleter.Item",JL,o),m2=[jd,GT,hd,tp,i1],tI=uo([Gi,d2].concat(m2)),E8=o=>da("toolbarbutton",tI,o),_8=[m5].concat(m2),nI=uo(_8.concat([Gi,d2])),rI=o=>da("ToggleButton",nI,o),oI=[Di("predicate",Y),Hc("scope","node",["node","editor"]),Hc("position","selection",["node","selection","line"])],NY=m2.concat([Nb("contextformbutton"),np,d2,ei("original",z)]),BY=_8.concat([Nb("contextformbutton"),np,d2,ei("original",z)]),sI=m2.concat([Nb("contextformbutton")]),qT=_8.concat([Nb("contextformtogglebutton")]),aI=Os("type",{contextformbutton:NY,contextformtogglebutton:BY}),QY=uo([Nb("contextform"),Di("initValue",F("")),h5,rc("commands",aI),au("launch",Os("type",{contextformbutton:sI,contextformtogglebutton:qT}))].concat(oI)),FY=o=>da("ContextForm",QY,o),VY=uo([Nb("contexttoolbar"),zs("items")].concat(oI)),zY=o=>da("ContextToolbar",VY,o),ZY=[Gi,zs("src"),ll("alt"),Cc("classes",[],al)],p5=uo(ZY),HY=[Gi,wv,k8,Cc("classes",["tox-collection__item-label"],al)],iI=uo(HY),lI=sl(()=>lr("type",{cardimage:p5,cardtext:iI,cardcontainer:cI})),cI=uo([Gi,nd("direction","horizontal"),nd("align","left"),nd("valign","middle"),rc("items",lI)]),Bb=[jd,tp,LY,KL("menuitem"),jT],UY=uo([Gi,h5,rc("items",lI),i1,h2].concat(Bb)),uI=o=>da("cardmenuitem",UY,o),fI=uo([Gi,m5,hd].concat(Bb)),dI=o=>da("choicemenuitem",fI,o),R8=[Gi,zs("fancytype"),h2],WY=[Mn("initData",{})].concat(R8),YY=[Jf("select"),D("initData",{},[Wi("allowCustomColors",!0),nd("storageKey","default"),Id("colors",vi())])].concat(R8),XY=Os("fancytype",{inserttable:WY,colorswatch:YY}),GY=o=>da("fancymenuitem",XY,o),hI=uo([Gi,i1,h2,hd].concat(Bb)),mI=o=>da("menuitem",hI,o),jY=uo([Gi,GL,i1,hd].concat(Bb)),qY=o=>da("nestedmenuitem",jY,o),KY=uo([Gi,hd,m5,i1,d2].concat(Bb)),JY=o=>da("togglemenuitem",KY,o),D8=(o,c,g)=>{const S=hl(o.element,"."+g);if(S.length>0){const _=De(S,H=>{const K=H.dom.getBoundingClientRect().top,ve=S[0].dom.getBoundingClientRect().top;return Math.abs(K-ve)>c}).getOr(S.length);return L.some({numColumns:_,numRows:Math.ceil(S.length/_)})}else return L.none()},$8=(o,c)=>pr([Jo(o,c)]),KT={namedEvents:$8,unnamedEvents:o=>$8(Kr("unnamed-events"),o)},v5=Kr("tooltip.exclusive"),g2=Kr("tooltip.show"),JT=Kr("tooltip.hide"),gI=(o,c,g)=>{o.getSystem().broadcastOn([v5],{})};var tX=Object.freeze({__proto__:null,hideAllExclusive:gI,setComponents:(o,c,g,S)=>{g.getTooltip().each(_=>{_.getSystem().isConnected()&&Uo.set(_,S)})}}),pI=Object.freeze({__proto__:null,events:(o,c)=>{const g=_=>{c.getTooltip().each(H=>{Rh(H),o.onHide(_,H),c.clearTooltip()}),c.clearTimer()},S=_=>{if(!c.isShowing()){gI(_);const H=o.lazySink(_).getOrDie(),K=_.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:Ea(o.mode==="normal"?[qn(Lr(),ve=>{ks(_,g2)}),qn(ti(),ve=>{ks(_,JT)})]:[]),behaviours:pr([Uo.config({})])});c.setTooltip(K),Hg(H,K),o.onShow(_,K),ac.position(H,K,{anchor:o.anchor(_)})}};return Ea(Ie([[qn(g2,_=>{c.resetTimer(()=>{S(_)},o.delay)}),qn(JT,_=>{c.resetTimer(()=>{g(_)},o.delay)}),qn(Wl(),(_,H)=>{const K=H;K.universal||be(K.channels,v5)&&g(_)}),Sh(_=>{g(_)})],o.mode==="normal"?[qn(Do(),_=>{ks(_,g2)}),qn(Ul(),_=>{ks(_,JT)}),qn(Lr(),_=>{ks(_,g2)}),qn(ti(),_=>{ks(_,JT)})]:[qn(Ey(),(_,H)=>{ks(_,g2)}),qn(_y(),_=>{ks(_,JT)})]]))}}),vI=[er("lazySink"),er("tooltipDom"),Mn("exclusive",!0),Mn("tooltipComponents",[]),Mn("delay",300),Hc("mode","normal",["normal","follow-highlight"]),Mn("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:F([fl,Mc,ul,Yc,Gl,sc]),onRtl:F([fl,Mc,ul,Yc,Gl,sc])}})),Rs("onHide"),Rs("onShow")],rX=Object.freeze({__proto__:null,init:()=>{const o=gs(),c=gs(),g=()=>{o.on(clearTimeout)},S=(H,K)=>{g(),o.set(setTimeout(H,K))},_=F("not-implemented");return Cu({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:g,resetTimer:S,readState:_})}});const yI=dl({fields:vI,name:"tooltipping",active:pI,state:rX,apis:tX}),oX=o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),bI="silver.readonly",L8=uo([US("readonly")]),y5=(o,c)=>{const S=o.mainUi.outerContainer.element,_=[o.mainUi.mothership,...o.uiMotherships];c&&pe(_,H=>{H.broadcastOn([Wd()],{target:S})}),pe(_,H=>{H.broadcastOn([bI],{readonly:c})})},OI=(o,c)=>{o.on("init",()=>{o.mode.isReadOnly()&&y5(c,!0)}),o.on("SwitchMode",()=>y5(c,o.mode.isReadOnly())),mL(o)&&o.mode.set("readonly")},gl=()=>lu.config({channels:{[bI]:{schema:L8,onReceive:(o,c)=>{Co.set(o,c.readonly)}}}}),tl={item:o=>Co.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),button:o=>Co.config({disabled:o}),splitButton:o=>Co.config({disabled:o,disableClass:"tox-tbtn--disabled"}),toolbarButton:o=>Co.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1})},md=(o,c)=>{const g=o.getApi(c);return S=>{S(g)}},l1=(o,c)=>Ca(g=>{md(o,g)(_=>{const H=o.onSetup(_);w(H)&&c.set(H)})}),rp=(o,c)=>Sh(g=>md(o,g)(c.get())),I8=(o,c)=>rd((g,S)=>{md(o,g)(o.onAction),!o.triggersSubmenu&&c===Hm.CLOSE_ON_EXECUTE&&(g.getSystem().isConnected()&&ks(g,Ju()),S.stop())}),aX={[Ii()]:["disabling","alloy.base.behaviour","toggling","item-events"]},p2=an,op=(o,c,g,S)=>{const _=X(M);return{type:"item",dom:c.dom,components:p2(c.optComponents),data:o.data,eventOrder:aX,hasSubmenu:o.triggersSubmenu,itemBehaviours:pr([Jo("item-events",[I8(o,g),l1(o,_),rp(o,_)]),tl.item(()=>!o.enabled||S.isDisabled()),gl(),Uo.config({})].concat(o.itemBehaviours))}},Tv=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),b5=o=>{const c=n2.os.isMacOS()||n2.os.isiOS(),_=c?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},H=o.split("+"),K=ne(H,ve=>{const Ae=ve.toLowerCase().trim();return vn(_,Ae)?_[Ae]:ve});return c?K.join(""):K.join("+")},N8=(o,c,g=[DL])=>Bh(o,{tag:"div",classes:g},c),Qh=o=>({dom:{tag:"div",classes:[h8]},components:[yi(dd.translate(o))]}),xI=(o,c)=>({dom:{tag:"div",classes:c,innerHtml:o}}),iX=(o,c)=>({dom:{tag:"div",classes:[h8]},components:[{dom:{tag:o.tag,styles:o.styles},components:[yi(dd.translate(c))]}]}),qd=o=>({dom:{tag:"div",classes:[TY]},components:[yi(b5(o))]}),v2=o=>N8("checkmark",o,[CY]),Fh=o=>N8("chevron-right",o,[$L]),lX=o=>N8("chevron-down",o,[$L]),xa=(o,c)=>{const g=o.direction==="vertical"?kY:IL,S=o.align==="left"?AY:s5;return{dom:{tag:"div",classes:[LL,g,S,(()=>{switch(o.valign){case"top":return m8;case"middle":return PY;case"bottom":return MY}})()]},components:c}},y2=(o,c,g)=>({dom:{tag:"img",classes:c,attributes:{src:o,alt:g.getOr("")}}}),O5=(o,c,g)=>{const S="custom",_="remove",H=o.ariaLabel,K=o.value,ve=o.iconContent.map(Ne=>U_(Ne,c.icons,g));return{dom:(()=>{const Ne=d8,Ue=ve.getOr(""),st={tag:"div",attributes:H.map(ht=>({title:c.translate(ht)})).getOr({}),classes:[Ne]};return K===S?{...st,tag:"button",classes:[...st.classes,"tox-swatches__picker-btn"],innerHtml:Ue}:K===_?{...st,classes:[...st.classes,"tox-swatch--remove"],innerHtml:Ue}:C(K)?{...st,attributes:{...st.attributes,"data-mce-color":K},styles:{"background-color":K},innerHtml:Ue}:st})(),optComponents:[]}},B8=o=>{const c=o.map(g=>({attributes:{title:dd.translate(g),id:Kr("menu-item")}})).getOr({});return{tag:"div",classes:[f8,l2],...c}},Q8=(o,c,g,S)=>{const _={tag:"div",classes:[DL]},H=st=>Bh(st,_,c.icons,S),K=()=>L.some({dom:_}),ve=g?o.iconContent.map(H).orThunk(K):L.none(),Ae=o.checkMark,Ne=L.from(o.meta).fold(()=>Qh,st=>vn(st,"style")?Q(iX,st.style):Qh),Ue=o.htmlContent.fold(()=>o.textContent.map(Ne),st=>L.some(xI(st,[h8])));return{dom:B8(o.ariaLabel),optComponents:[ve,Ue,o.shortcutContent.map(qd),Ae,o.caret]}},Qb=(o,c,g,S=L.none())=>o.presets==="color"?O5(o,c,S):Q8(o,c,g,S),SI=(o,c)=>Bt(o,"tooltipWorker").map(g=>[yI.config({lazySink:c.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:S=>({type:"submenu",item:S,overrides:{maxHeightFunction:R0}}),mode:"follow-highlight",onShow:(S,_)=>{g(H=>{yI.setComponents(S,[fk({element:zt.fromDom(H)})])})}})]).getOr([]),F8=o=>$b.DOM.encode(o),wI=(o,c)=>{const g=dd.translate(o),S=F8(g);if(c.length>0){const _=new RegExp(oX(c),"gi");return S.replace(_,H=>`<span class="tox-autocompleter-highlight">${H}</span>`)}else return S},TI=(o,c,g,S,_,H,K,ve=!0)=>{const Ae=Qb({presets:S,textContent:L.none(),htmlContent:g?o.text.map(Ne=>wI(Ne,c)):L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:L.none(),checkMark:L.none(),caret:L.none(),value:o.value},K.providers,ve,o.icon);return op({data:Tv(o),enabled:o.enabled,getApi:F({}),onAction:Ne=>_(o.value,o.meta),onSetup:F(M),triggersSubmenu:!1,itemBehaviours:SI(o.meta,K)},Ae,H,K.providers)},V8=(o,c)=>ne(o,g=>{switch(g.type){case"cardcontainer":return xa(g,V8(g.items,c));case"cardimage":return y2(g.src,g.classes,g.alt);case"cardtext":const _=g.name.exists(H=>be(c.cardText.highlightOn,H))?L.from(c.cardText.matchText).getOr(""):"";return xI(wI(g.text,_),g.classes)}}),z8=(o,c,g,S)=>{const _=K=>({isEnabled:()=>!Co.isDisabled(K),setEnabled:ve=>{Co.set(K,!ve),pe(hl(K.element,"*"),Ae=>{K.getSystem().getByDom(Ae).each(Ne=>{Ne.hasConfigured(Co)&&Co.set(Ne,!ve)})})}}),H={dom:B8(o.label),optComponents:[L.some({dom:{tag:"div",classes:[LL,IL]},components:V8(o.items,S)})]};return op({data:Tv({text:L.none(),...o}),enabled:o.enabled,getApi:_,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:L.from(S.itemBehaviours).getOr([])},H,c,g.providers)},CI=(o,c,g,S,_,H,K,ve=!0)=>{const Ae=Ue=>({setActive:Je=>{as.set(Ue,Je)},isActive:()=>as.isOn(Ue),isEnabled:()=>!Co.isDisabled(Ue),setEnabled:Je=>Co.set(Ue,!Je)}),Ne=Qb({presets:g,textContent:c?o.text:L.none(),htmlContent:L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:c?o.shortcut:L.none(),checkMark:c?L.some(v2(K.icons)):L.none(),caret:L.none(),value:o.value},K,ve);return Ta(op({data:Tv(o),enabled:o.enabled,getApi:Ae,onAction:Ue=>S(o.value),onSetup:Ue=>(Ue.setActive(_),M),triggersSubmenu:!1,itemBehaviours:[]},Ne,H,K),{toggling:{toggleClass:RL,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},e3=Im(ET(),_T()),kI=o=>({value:EI(o)}),AI=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,PI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,MI=o=>AI.test(o)||PI.test(o),EI=o=>Dt(o,"#").toUpperCase(),_I=o=>MI(o)?L.some({value:EI(o)}):L.none(),cX=o=>({value:o.value.replace(AI,(g,S,_,H)=>S+S+_+_+H+H)}),uX=o=>{const c=cX(o),g=PI.exec(c.value);return g===null?["FFFFFF","FF","FF","FF"]:g},x5=o=>{const c=o.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},b2=o=>{const c=x5(o.red)+x5(o.green)+x5(o.blue);return kI(c)},RI=Math.min,DI=Math.max,t3=Math.round,$I=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,LI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,c1=(o,c,g,S)=>({red:o,green:c,blue:g,alpha:S}),Z8=o=>{const c=parseInt(o,10);return c.toString()===o&&c>=0&&c<=255},II=o=>{let c,g,S;const _=(o.hue||0)%360;let H=o.saturation/100,K=o.value/100;if(H=DI(0,RI(H,1)),K=DI(0,RI(K,1)),H===0)return c=g=S=t3(255*K),c1(c,g,S,1);const ve=_/60,Ae=K*H,Ne=Ae*(1-Math.abs(ve%2-1)),Ue=K-Ae;switch(Math.floor(ve)){case 0:c=Ae,g=Ne,S=0;break;case 1:c=Ne,g=Ae,S=0;break;case 2:c=0,g=Ae,S=Ne;break;case 3:c=0,g=Ne,S=Ae;break;case 4:c=Ne,g=0,S=Ae;break;case 5:c=Ae,g=0,S=Ne;break;default:c=g=S=0}return c=t3(255*(c+Ue)),g=t3(255*(g+Ue)),S=t3(255*(S+Ue)),c1(c,g,S,1)},n3=o=>{const c=uX(o),g=parseInt(c[1],16),S=parseInt(c[2],16),_=parseInt(c[3],16);return c1(g,S,_,1)},NI=(o,c,g,S)=>{const _=parseInt(o,10),H=parseInt(c,10),K=parseInt(g,10),ve=parseFloat(S);return c1(_,H,K,ve)},H8=o=>{if(o==="transparent")return L.some(c1(0,0,0,0));const c=$I.exec(o);if(c!==null)return L.some(NI(c[1],c[2],c[3],"1"));const g=LI.exec(o);return g!==null?L.some(NI(g[1],g[2],g[3],g[4])):L.none()},U8=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,Kd=c1(255,0,0,1),fX=o=>{o.dispatch("SkinLoaded")},W8=(o,c)=>{o.dispatch("SkinLoadError",c)},BI=o=>{o.dispatch("ResizeEditor")},S5=(o,c)=>{o.dispatch("ResizeContent",c)},dX=(o,c)=>{o.dispatch("ScrollContent",c)},Y8=(o,c)=>{o.dispatch("TextColorChange",c)},QI=(o,c)=>{o.dispatch("AfterProgressState",{state:c})},FI=(o,c)=>o.dispatch("ResolveName",{name:c.nodeName.toLowerCase(),target:c}),hX=(o,c)=>{o.dispatch("ToggleToolbarDrawer",{state:c})},mX=(o,c)=>{o.dispatch("StylesTextUpdate",c)},gX=(o,c)=>{o.dispatch("AlignTextUpdate",c)},pX=(o,c)=>{o.dispatch("FontSizeTextUpdate",c)},vX=(o,c)=>{o.dispatch("FontSizeInputTextUpdate",c)},VI=(o,c)=>{o.dispatch("BlocksTextUpdate",c)},zI=(o,c)=>{o.dispatch("FontFamilyTextUpdate",c)},r3=(o,c)=>()=>{o(),c()},gu=o=>Vh(o,"NodeChange",c=>{c.setEnabled(o.selection.isEditable())}),yX=(o,c)=>g=>{const S=Em(),_=()=>{g.setActive(o.formatter.match(c));const H=o.formatter.formatChanged(c,g.setActive);S.set(H)};return o.initialized?_():o.once("init",_),()=>{o.off("init",_),S.clear()}},w5=(o,c)=>g=>{const S=gu(o)(g),_=yX(o,c)(g);return()=>{S(),_()}},Vh=(o,c,g)=>S=>{const _=()=>g(S),H=()=>{g(S),o.on(c,_)};return o.initialized?H():o.once("init",H),()=>{o.off("init",H),o.off(c,_)}},ZI=o=>c=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,c.format)})},ff=(o,c)=>()=>o.execCommand(c);var u1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const X8={},G8=(o,c=10)=>{const g=u1.getItem(o),S=h(g)?JSON.parse(g):[],H=(Ne=>c-Ne.length<0?Ne.slice(0,c):Ne)(S),K=Ne=>{ee(H,Ne).each(ve),H.unshift(Ne),H.length>c&&H.pop(),u1.setItem(o,JSON.stringify(H))},ve=Ne=>{H.splice(Ne,1)};return{add:K,state:()=>H.slice(0)}},T5=o=>Bt(X8,o).getOrThunk(()=>{const c=`tinymce-custom-colors-${o}`,g=u1.getItem(c);if(k(g)){const _=u1.getItem("tinymce-custom-colors");u1.setItem(c,C(_)?_:"[]")}const S=G8(c,10);return X8[o]=S,S}),j8=o=>ne(T5(o).state(),c=>({type:"choiceitem",text:c,icon:"checkmark",value:c})),q8=(o,c)=>{T5(o).add(c)},o3=(o,c,g)=>({hue:o,saturation:c,value:g}),C5=o=>{let c=0,g=0,S=0;const _=o.red/255,H=o.green/255,K=o.blue/255,ve=Math.min(_,Math.min(H,K)),Ae=Math.max(_,Math.max(H,K));if(ve===Ae)return S=ve,o3(0,0,S*100);const Ne=_===ve?H-K:K===ve?_-H:K-_;return c=_===ve?3:K===ve?1:5,c=60*(c-Ne/(Ae-ve)),g=(Ae-ve)/Ae,S=Ae,o3(Math.round(c),Math.round(g*100),Math.round(S*100))},bX=o=>C5(n3(o)),HI=o=>b2(II(o)),OX=o=>_I(o).orThunk(()=>H8(o).map(b2)).getOrThunk(()=>{const c=document.createElement("canvas");c.height=1,c.width=1;const g=c.getContext("2d");g.clearRect(0,0,c.width,c.height),g.fillStyle="#FFFFFF",g.fillStyle=o,g.fillRect(0,0,1,1);const S=g.getImageData(0,0,1,1).data,_=S[0],H=S[1],K=S[2],ve=S[3];return b2(c1(_,H,K,ve))}),k5="forecolor",A5="hilitecolor",UI=5,xX=o=>{const c=[];for(let g=0;g<o.length;g+=2)c.push({text:o[g+1],value:"#"+OX(o[g]).value,icon:"checkmark",type:"choiceitem"});return c},sp=o=>c=>c.options.get(o),K8="#000000",SX=o=>{const c=o.options.register,g=_=>R(_,h)?{value:xX(_),valid:!0}:{valid:!1,message:"Must be an array of strings."},S=_=>T(_)&&_>0?{value:_,valid:!0}:{valid:!1,message:"Must be a positive number."};c("color_map",{processor:g,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),c("color_map_background",{processor:g}),c("color_map_foreground",{processor:g}),c("color_cols",{processor:S,default:J8(o)}),c("color_cols_foreground",{processor:S,default:WI(o,k5)}),c("color_cols_background",{processor:S,default:WI(o,A5)}),c("custom_colors",{processor:"boolean",default:!0}),c("color_default_foreground",{processor:"string",default:K8}),c("color_default_background",{processor:"string",default:K8})},P5=(o,c)=>c===k5&&o.options.isSet("color_map_foreground")?sp("color_map_foreground")(o):c===A5&&o.options.isSet("color_map_background")?sp("color_map_background")(o):sp("color_map")(o),J8=(o,c="default")=>Math.max(UI,Math.ceil(Math.sqrt(P5(o,c).length))),WI=(o,c)=>{const g=sp("color_cols")(o),S=J8(o,c);return g===J8(o)?S:g},YI=(o,c="default")=>Math.round((()=>c===k5?sp("color_cols_foreground")(o):c===A5?sp("color_cols_background")(o):sp("color_cols")(o))()),XI=sp("custom_colors"),wX=sp("color_default_foreground"),TX=sp("color_default_background"),GI="rgba(0, 0, 0, 0)",CX=o=>H8(o).exists(c=>c.alpha!==0),kX=o=>tn(o,c=>{if(St(c)){const g=Qa(c,"background-color");return it(CX(g),g)}else return L.none()}).getOr(GI),jI=(o,c)=>{const g=zt.fromDom(o.selection.getStart()),S=c==="hilitecolor"?kX(g):Qa(g,"color");return H8(S).map(_=>"#"+b2(_).value)},AX=(o,c,g)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.apply(c,{value:g}),o.nodeChanged()})},PX=(o,c)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.remove(c,{value:null},void 0,!0),o.nodeChanged()})},M5=o=>{o.addCommand("mceApplyTextcolor",(c,g)=>{AX(o,c,g)}),o.addCommand("mceRemoveTextcolor",c=>{PX(o,c)})},e6=o=>{const c="choiceitem",g={type:c,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[g,{type:c,text:"Custom color",icon:"color-picker",value:"custom"}]:[g]},t6=(o,c,g,S)=>{g==="custom"?eN(o)(H=>{H.each(K=>{q8(c,K),o.execCommand("mceApplyTextcolor",c,K),S(K)})},jI(o,c).getOr(K8)):g==="remove"?(S(""),o.execCommand("mceRemoveTextcolor",c)):(S(g),o.execCommand("mceApplyTextcolor",c,g))},n6=(o,c,g)=>o.concat(j8(c).concat(e6(g))),qI=(o,c,g)=>S=>{S(n6(o,c,g))},r6=(o,c,g)=>{const S=c==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(S,g)},KI=(o,c)=>{o.setTooltip(c)},JI=(o,c)=>g=>{const S=jI(o,c);return ln(S,g.toUpperCase())},s3=(o,c,g)=>{if(nn(g))return c==="forecolor"?"Text color":"Background color";const S=c==="forecolor"?"Text color {0}":"Background color {0}",_=n6(P5(o,c),c,!1),H=Ze(_,K=>K.value===g).getOr({text:""}).text;return o.translate([S,o.translate(H)])},o6=(o,c,g,S)=>{o.ui.registry.addSplitButton(c,{tooltip:s3(o,g,S.get()),presets:"color",icon:c==="forecolor"?"text-color":"highlight-bg-color",select:JI(o,g),columns:YI(o,g),fetch:qI(P5(o,g),g,XI(o)),onAction:_=>{t6(o,g,S.get(),M)},onItemAction:(_,H)=>{t6(o,g,H,K=>{S.set(K),Y8(o,{name:c,color:K})})},onSetup:_=>{r6(_,c,S.get());const H=K=>{K.name===c&&(r6(_,K.name,K.color),KI(_,s3(o,g,K.color)))};return o.on("TextColorChange",H),r3(gu(o)(_),()=>{o.off("TextColorChange",H)})}})},s6=(o,c,g,S,_)=>{o.ui.registry.addNestedMenuItem(c,{text:S,icon:c==="forecolor"?"text-color":"highlight-bg-color",onSetup:H=>(KI(H,s3(o,g,_.get())),r6(H,c,_.get()),gu(o)(H)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:JI(o,g),initData:{storageKey:g},onAction:H=>{t6(o,g,H.value,K=>{_.set(K),Y8(o,{name:c,color:K})})}}]})},eN=o=>(c,g)=>{let S=!1;const _=ve=>{const Ne=ve.getData().colorpicker;S?(c(L.from(Ne)),ve.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",Ne]))},H=(ve,Ae)=>{Ae.name==="hex-valid"&&(S=Ae.value)},K={colorpicker:g};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:K,onAction:H,onSubmit:_,onClose:M,onCancel:()=>{c(L.none())}})},a6=o=>{M5(o);const c=wX(o),g=TX(o),S=X(c),_=X(g);o6(o,"forecolor","forecolor",S),o6(o,"backcolor","hilitecolor",_),s6(o,"forecolor","forecolor","Text color",S),s6(o,"backcolor","hilitecolor","Background color",_)},i6=(o,c,g,S,_,H,K,ve)=>{const Ae=u5(c),Ue=MX(c,g,S,_!=="color"?"normal":"color",H,K,ve);return f5(o,Ae,Ue,S,{menuType:_})},MX=(o,c,g,S,_,H,K)=>an(ne(o,ve=>ve.type==="choiceitem"?dI(ve).fold(ep,Ae=>L.some(CI(Ae,g===1,S,c,H(Ae.value),_,K,u5(o)))):L.none())),E5=(o,c)=>{const g=Sv(c);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+g.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(c==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:_=>c==="color"?Ai(_.element,"[aria-checked=true]"):L.none()}},EX=(o,c)=>o===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:o==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:c==="color"?".tox-swatches__row":".tox-collection__group",cell:c==="color"?`.${d8}`:`.${l2}`}},_X=(o,c)=>{const g=RX(o,c),S=c.colorinput.getColorCols(o.initData.storageKey),_="color",K={...i6(Kr("menu-value"),g,ve=>{o.onAction({value:ve})},S,_,Hm.CLOSE_ON_EXECUTE,o.select.getOr(Y),c.shared.providers),markers:Sv(_),movement:E5(S,_)};return{type:"widget",data:{value:Kr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[e3.widget(Eb.sketch(K))]}},RX=(o,c)=>{const g=o.initData.allowCustomColors&&c.colorinput.hasCustomColors();return o.initData.colors.fold(()=>n6(c.colorinput.getColors(o.initData.storageKey),o.initData.storageKey,g),S=>S.concat(e6(g)))},tN=Kr("cell-over"),nN=Kr("cell-execute"),DX=o=>(c,g)=>o.shared.providers.translate(`${g} columns, ${c} rows`),$X=(o,c,g)=>{const S=K=>vo(K,tN,{row:o,col:c}),_=K=>vo(K,nN,{row:o,col:c}),H=(K,ve)=>{ve.stop(),_(K)};return oc({dom:{tag:"div",attributes:{role:"button","aria-label":g}},behaviours:pr([Jo("insert-table-picker-cell",[qn(Lr(),Mo.focus),qn(Ii(),_),qn($i(),H),qn(Ac(),H)]),as.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Mo.config({onFocus:S})])})},_5=(o,c,g)=>{const S=[];for(let _=0;_<c;_++){const H=[];for(let K=0;K<g;K++){const ve=o(_+1,K+1);H.push($X(_,K,ve))}S.push(H)}return S},l6=(o,c,g,S,_)=>{for(let H=0;H<S;H++)for(let K=0;K<_;K++)as.set(o[H][K],H<=c&&K<=g)},c6=o=>re(o,c=>ne(c,nf)),u6=(o,c)=>yi(`${c}x${o}`),LX={inserttable:(o,c)=>{const _=DX(c),H=_5(_,10,10),K=u6(0,0),ve=ia({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[K],behaviours:pr([Uo.config({})])});return{type:"widget",data:{value:Kr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[e3.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:c6(H).concat(ve.asSpec()),behaviours:pr([Jo("insert-table-picker",[Ca(Ae=>{Uo.set(ve.get(Ae),[K])}),jS(tN,(Ae,Ne,Ue)=>{const{row:Je,col:st}=Ue.event;l6(H,Je,st,10,10),Uo.set(ve.get(Ae),[u6(Je+1,st+1)])}),jS(nN,(Ae,Ne,Ue)=>{const{row:Je,col:st}=Ue.event;o.onAction({numRows:Je+1,numColumns:st+1}),ks(Ae,Ju())})]),yo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:_X},f6=(o,c)=>Bt(LX,o.fancytype).map(g=>g(o,c)),d6=(o,c,g,S=!0,_=!1)=>{const H=_?lX(g.icons):Fh(g.icons),K=Ae=>({isEnabled:()=>!Co.isDisabled(Ae),setEnabled:Ne=>Co.set(Ae,!Ne),setIconFill:(Ne,Ue)=>{Ai(Ae.element,`svg path[class="${Ne}"], rect[class="${Ne}"]`).each(Je=>{Dr(Je,"fill",Ue)})},setTooltip:Ne=>{const Ue=g.translate(Ne);yc(Ae.element,{"aria-label":Ue,title:Ue})}}),ve=Qb({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.some(H),checkMark:L.none(),shortcutContent:o.shortcut},g,S);return op({data:Tv(o),getApi:K,enabled:o.enabled,onAction:M,onSetup:o.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ve,c,g)},R5=(o,c,g,S=!0)=>{const _=K=>({isEnabled:()=>!Co.isDisabled(K),setEnabled:ve=>Co.set(K,!ve)}),H=Qb({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.none(),checkMark:L.none(),shortcutContent:o.shortcut},g,S);return op({data:Tv(o),getApi:_,enabled:o.enabled,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},H,c,g)},rN=o=>({type:"separator",dom:{tag:"div",classes:[l2,wY]},components:o.text.map(yi).toArray()}),IX=(o,c,g,S=!0)=>{const _=K=>({setActive:ve=>{as.set(K,ve)},isActive:()=>as.isOn(K),isEnabled:()=>!Co.isDisabled(K),setEnabled:ve=>Co.set(K,!ve)}),H=Qb({iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,checkMark:L.some(v2(g.icons)),caret:L.none(),shortcutContent:o.shortcut,presets:"normal",meta:o.meta},g,S);return Ta(op({data:Tv(o),enabled:o.enabled,getApi:_,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},H,c,g),{toggling:{toggleClass:RL,toggleOnExecute:!1,selected:o.active}})},NX=TI,oN=rN,BX=R5,QX=d6,FX=IX,VX=f6,zX=z8;var ZX=Object.freeze({__proto__:null,getCoupled:(o,c,g,S)=>g.getOrCreate(o,c,S),getExistingCoupled:(o,c,g,S)=>g.getExisting(o,c,S)}),HX=[Zc("others",Kf(jo.value,vi()))],sN=Object.freeze({__proto__:null,init:()=>{const o={},c=(H,K)=>{if(ct(H.others).length===0)throw new Error("Cannot find any known coupled components");return Bt(o,K)},g=(H,K,ve)=>c(K,ve).getOrThunk(()=>{const Ne=Bt(K.others,ve).getOrDie("No information found for coupled component: "+ve)(H),Ue=H.getSystem().build(Ne);return o[ve]=Ue,Ue}),S=(H,K,ve)=>c(K,ve).orThunk(()=>(Bt(K.others,ve).getOrDie("No information found for coupled component: "+ve),L.none())),_=F({});return Cu({readState:_,getExisting:S,getOrCreate:g})}});const Mi=dl({fields:HX,name:"coupling",apis:ZX,state:sN}),h6=o=>{let c=L.none(),g=[];const S=Ne=>h6(Ue=>{_(Je=>{Ue(Ne(Je))})}),_=Ne=>{K()?Ae(Ne):g.push(Ne)},H=Ne=>{K()||(c=L.some(Ne),ve(g),g=[])},K=()=>c.isSome(),ve=Ne=>{pe(Ne,Ae)},Ae=Ne=>{c.each(Ue=>{setTimeout(()=>{Ne(Ue)},0)})};return o(H),{get:_,map:S,isReady:K}},UX={nu:h6,pure:o=>h6(c=>{c(o)})},WX=o=>{setTimeout(()=>{throw o},0)},f1=o=>{const c=Ae=>{o().then(Ae,WX)};return{map:Ae=>f1(()=>o().then(Ae)),bind:Ae=>f1(()=>o().then(Ne=>Ae(Ne).toPromise())),anonBind:Ae=>f1(()=>o().then(()=>Ae.toPromise())),toLazy:()=>UX.nu(c),toCached:()=>{let Ae=null;return f1(()=>(Ae===null&&(Ae=o()),Ae))},toPromise:o,get:c}},$c={nu:o=>f1(()=>new Promise(o)),pure:o=>f1(()=>Promise.resolve(o))},aN=F("sink"),iN=F(fu({name:aN(),overrides:F({dom:{tag:"div"},behaviours:pr([ac.config({useFixed:ie})]),events:Ea([Sm(_s()),Sm(go()),Sm($i())])})})),lN=(o,c)=>{const g=o.getHotspot(c).getOr(c),S="hotspot",_=o.getAnchorOverrides();return o.layouts.fold(()=>({type:S,hotspot:g,overrides:_}),H=>({type:S,hotspot:g,overrides:_,layouts:H}))},YX=(o,c,g)=>{const S=o.fetch;return S(g).map(c)},XX=(o,c,g,S,_,H,K)=>{const ve=YX(o,c,S),Ae=cN(S,o);return ve.map(Ne=>Ne.bind(Ue=>L.from(a1.sketch({...H.menu(),uid:c0(""),data:Ue,highlightOnOpen:K,onOpenMenu:(Je,st)=>{const ht=Ae().getOrDie();ac.position(ht,st,{anchor:g}),As.decloak(_)},onOpenSubmenu:(Je,st,ht)=>{const At=Ae().getOrDie();ac.position(At,ht,{anchor:{type:"submenu",item:st}}),As.decloak(_)},onRepositionMenu:(Je,st,ht)=>{const At=Ae().getOrDie();ac.position(At,st,{anchor:g}),pe(ht,qt=>{ac.position(At,qt.triggeredMenu,{anchor:{type:"submenu",item:qt.triggeringItem}})})},onEscape:()=>(Mo.focus(S),As.close(_),L.some(!0))}))))},D5=(o,c,g,S,_,H,K)=>{const ve=lN(o,g);return XX(o,c,ve,g,S,_,K).map(Ne=>(Ne.fold(()=>{As.isOpen(S)&&As.close(S)},Ue=>{As.cloak(S),As.open(S,Ue),H(S)}),S))},GX=(o,c,g,S,_,H,K)=>(As.close(S),$c.pure(S)),m6=(o,c,g,S,_,H)=>{const K=Mi.getCoupled(g,"sandbox");return(As.isOpen(K)?GX:D5)(o,c,g,K,S,_,H)},jX=(o,c,g)=>{const S=xs.getCurrent(c).getOr(c),_=Si(o.element);g?Po(S.element,"min-width",_+"px"):Vs(S.element,_)},cN=(o,c)=>o.getSystem().getByUid(c.uid+"-"+aN()).map(g=>()=>jo.value(g)).getOrThunk(()=>c.lazySink.fold(()=>()=>jo.error(new Error("No internal sink is specified, nor could an external sink be found")),g=>()=>g(o))),uN=o=>{As.getState(o).each(c=>{a1.repositionMenus(c)})},g6=(o,c,g)=>{const S=rv(),_=(ve,Ae)=>{const Ne=lN(o,c);S.link(c.element),o.matchWidth&&jX(Ne.hotspot,Ae,o.useMinWidth),o.onOpen(Ne,ve,Ae),g!==void 0&&g.onOpen!==void 0&&g.onOpen(ve,Ae)},H=(ve,Ae)=>{S.unlink(c.element),g!==void 0&&g.onClose!==void 0&&g.onClose(ve,Ae)},K=cN(c,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:S.id,role:"listbox"}},behaviours:If.augment(o.sandboxBehaviours,[Fr.config({store:{mode:"memory",initialValue:c}}),As.config({onOpen:_,onClose:H,isPartOf:(ve,Ae,Ne)=>Am(Ae,Ne)||Am(c,Ne),getAttachPoint:()=>K().getOrDie()}),xs.config({find:ve=>As.getState(ve).bind(Ae=>xs.getCurrent(Ae))}),lu.config({channels:{...cb({isExtraPart:Y}),...W0({doReposition:uN})}})])}},fN=o=>{const c=Mi.getCoupled(o,"sandbox");uN(c)},p6=()=>[Mn("sandboxClasses",[]),If.field("sandboxBehaviours",[xs,lu,As,Fr])],qX=F([er("dom"),er("fetch"),Rs("onOpen"),Eu("onExecute"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",F({})),Ng(),el("dropdownBehaviours",[as,Mi,yo,Mo]),er("toggleClass"),Mn("eventOrder",{}),Ws("lazySink"),Mn("matchWidth",!1),Mn("useMinWidth",!1),Ws("role")].concat(p6())),KX=F([cd({schema:[Qy(),Mn("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),iN()]),JX=(o,c,g,S)=>{const _=Ue=>Bt(o.dom,"attributes").bind(Je=>Bt(Je,Ue)),H=Ue=>{As.getState(Ue).each(Je=>{a1.highlightPrimary(Je)})},K=(Ue,Je,st)=>m6(o,z,Ue,S,Je,st),ve=Ue=>{K(Ue,H,mu.HighlightMenuAndItem).get(M)},Ae={expand:Ue=>{as.isOn(Ue)||K(Ue,M,mu.HighlightNone).get(M)},open:Ue=>{as.isOn(Ue)||K(Ue,M,mu.HighlightMenuAndItem).get(M)},refetch:Ue=>Mi.getExistingCoupled(Ue,"sandbox").fold(()=>K(Ue,M,mu.HighlightMenuAndItem).map(M),st=>D5(o,z,Ue,st,S,M,mu.HighlightMenuAndItem).map(M)),isOpen:as.isOn,close:Ue=>{as.isOn(Ue)&&K(Ue,M,mu.HighlightMenuAndItem).get(M)},repositionMenus:Ue=>{as.isOn(Ue)&&fN(Ue)}},Ne=(Ue,Je)=>(xm(Ue),L.some(!0));return{uid:o.uid,dom:o.dom,components:c,behaviours:Ni(o.dropdownBehaviours,[as.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Mi.config({others:{sandbox:Ue=>g6(o,Ue,{onOpen:()=>as.on(Ue),onClose:()=>as.off(Ue)})}}),yo.config({mode:"special",onSpace:Ne,onEnter:Ne,onDown:(Ue,Je)=>{if(Jd.isOpen(Ue)){const st=Mi.getCoupled(Ue,"sandbox");H(st)}else Jd.open(Ue);return L.some(!0)},onEscape:(Ue,Je)=>Jd.isOpen(Ue)?(Jd.close(Ue),L.some(!0)):L.none()}),Mo.config({})]),events:Vm(L.some(ve)),eventOrder:{...o.eventOrder,[Ii()]:["disabling","toggling","alloy.base.behaviour"]},apis:Ae,domModification:{attributes:{"aria-haspopup":"true",...o.role.fold(()=>({}),Ue=>({role:Ue})),...o.dom.tag==="button"?{type:_("type").getOr("button")}:{}}}}},Jd=lc({name:"Dropdown",configFields:qX(),partFields:KX(),factory:JX,apis:{open:(o,c)=>o.open(c),refetch:(o,c)=>o.refetch(c),expand:(o,c)=>o.expand(c),close:(o,c)=>o.close(c),isOpen:(o,c)=>o.isOpen(c),repositionMenus:(o,c)=>o.repositionMenus(c)}}),eG=o=>{switch(o.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:o}}},tG=o=>{const c=Fr.getValue(o),g=i5(o).map(zL);Jd.refetch(c).get(()=>{const S=Mi.getCoupled(c,"sandbox");g.each(_=>i5(S).each(H=>b8(H,_)))})},nG=(o,c)=>{rG(o).each(g=>{EM(o,g.element,c.event.eventType,c.event.interactionEvent)})},rG=o=>As.getState(o).bind(Ys.getHighlighted).bind(Ys.getHighlighted),oG=o=>Ji(o.element,l5)?L.some(o.element):Ai(o.element,"."+l5),v6=(o,c,g)=>{y8(o).each(S=>{O8(S,g),oG(c).each(H=>{Ri(H,"id").each(K=>Dr(S.element,"aria-controls",K))})}),Dr(g.element,"aria-selected","true")},sG=(o,c,g)=>{Dr(g.element,"aria-selected","false")},aG=o=>{y8(o).each(c=>Mo.focus(c))},iG=o=>Mi.getExistingCoupled(o,"sandbox").bind(i5).map(zL).map(g=>g.fetchPattern).getOr("");var a3;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(a3||(a3={}));const lG=(o,c,g,S,_)=>{const H=g.shared.providers,K=ve=>_?{...ve,shortcut:L.none(),icon:ve.text.isSome()?L.none():ve.icon}:ve;switch(o.type){case"menuitem":return mI(o).fold(ep,ve=>L.some(BX(K(ve),c,H,S)));case"nestedmenuitem":return qY(o).fold(ep,ve=>L.some(QX(K(ve),c,H,S,_)));case"togglemenuitem":return JY(o).fold(ep,ve=>L.some(FX(K(ve),c,H,S)));case"separator":return M8(o).fold(ep,ve=>L.some(oN(ve)));case"fancymenuitem":return GY(o).fold(ep,ve=>VX(ve,g));default:return console.error("Unknown item in general menu",o),L.none()}},cG=(o,c,g,S,_,H,K)=>{const ve=S===1,Ae=!ve||u5(o);return an(ne(o,Ne=>{switch(Ne.type){case"separator":return IY(Ne).fold(ep,Ue=>L.some(oN(Ue)));case"cardmenuitem":return uI(Ne).fold(ep,Ue=>L.some(zX({...Ue,onAction:Je=>{Ue.onAction(Je),g(Ue.value,Ue.meta)}},_,H,{itemBehaviours:SI(Ue.meta,H),cardText:{matchText:c,highlightOn:K}})));case"autocompleteitem":default:return eI(Ne).fold(ep,Ue=>L.some(NX(Ue,c,ve,"normal",g,_,H,Ae)))}}))},dN=(o,c,g,S,_,H)=>{const K=u5(c),ve=an(ne(c,Ue=>{const Je=ht=>_?!vn(ht,"text"):K,st=ht=>lG(ht,g,S,Je(ht),_);return Ue.type==="nestedmenuitem"&&Ue.getSubmenuItems().length<=0?st({...Ue,enabled:!1}):st(Ue)})),Ae=eG(H);return(_?XT:f5)(o,K,ve,1,Ae)},$5=o=>a1.singleData(o.value,o),uG=(o,c,g,S)=>{const _=E5(c,S),H=Sv(S);return{data:$5({...o,movement:_,menuBehaviours:KT.unnamedEvents(c!=="auto"?[]:[Ca((K,ve)=>{D8(K,4,H.item).each(({numColumns:Ae,numRows:Ne})=>{yo.setGridSize(K,Ne,Ae)})})])}),menu:{markers:Sv(S),fakeFocus:g===a3.ContentFocus}}},fG=(o,c)=>c8(zt.fromDom(c.startContainer)).map(g=>{const S=o.createRng();return S.selectNode(g.dom),S}),dG={register:(o,c)=>{const g=Kr("autocompleter"),S=X(!1),_=X(!1),H=oc(ri.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:g}},components:[],fireDismissalEventInstead:{},inlineBehaviours:pr([Jo("dismissAutocompleter",[qn(Ag(),()=>Ue()),qn(Ey(),(Dn,mn)=>{Ri(mn.event.target,"id").each(on=>Dr(zt.fromDom(o.getBody()),"aria-activedescendant",on))})])]),lazySink:c.getSink})),K=()=>ri.isOpen(H),ve=_.get,Ae=()=>{if(K()){ri.hide(H),o.dom.remove(g,!1);const Dn=zt.fromDom(o.getBody());Ri(Dn,"aria-owns").filter(mn=>mn===g).each(()=>{sa(Dn,"aria-owns"),sa(Dn,"aria-activedescendant")})}},Ne=()=>ri.getContent(H).bind(Dn=>le(Dn.components(),0)),Ue=()=>o.execCommand("mceAutocompleterClose"),Je=Dn=>{const mn=Xe(Dn,on=>L.from(on.columns)).getOr(1);return re(Dn,on=>{const kn=on.items;return cG(kn,on.matchText,(Zn,mr)=>{const Gn=o.selection.getRng();fG(o.dom,Gn).each(Or=>{const Mr={hide:()=>Ue(),reload:is=>{Ae(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:is})}};S.set(!0),on.onAction(Mr,Or,Zn,mr),S.set(!1)})},mn,Hm.BUBBLE_TO_SANDBOX,c,on.highlightOn)})},st=(Dn,mn)=>{OY(zt.fromDom(o.getBody())).each(on=>{const kn=Xe(Dn,Zn=>L.from(Zn.columns)).getOr(1);ri.showMenuAt(H,{anchor:{type:"node",root:zt.fromDom(o.getBody()),node:L.from(on)}},uG(f5("autocompleter-value",!0,mn,kn,{menuType:"normal"}),kn,a3.ContentFocus,"normal"))}),Ne().each(Ys.highlightFirst)},ht=Dn=>{const mn=Je(Dn);mn.length>0?(st(Dn,mn),Dr(zt.fromDom(o.getBody()),"aria-owns",g),o.inline||At()):Ae()},At=()=>{o.dom.get(g)&&o.dom.remove(g,!1);const Dn=o.getDoc().documentElement,mn=o.selection.getNode(),on=$M(H.element);zi(on,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${mn.offsetTop}px`,left:`${mn.offsetLeft}px`}),o.dom.add(Dn,on.dom),Ai(on,'[role="menu"]').each(kn=>{Zo(kn,"position"),Zo(kn,"max-height")})};o.on("AutocompleterStart",({lookupData:Dn})=>{_.set(!0),S.set(!1),ht(Dn)}),o.on("AutocompleterUpdate",({lookupData:Dn})=>ht(Dn)),o.on("AutocompleterEnd",()=>{Ae(),_.set(!1),S.set(!1)});const qt={cancelIfNecessary:Ue,isMenuOpen:K,isActive:ve,isProcessingAction:S.get,getMenu:Ne};xY.setup(qt,o)}},hN=["visible","hidden","clip"],mN=o=>Pt(o).length>0&&!be(hN,o),y6=o=>{if(Ee(o)){const c=Qa(o,"overflow-x"),g=Qa(o,"overflow-y");return mN(c)||mN(g)}else return!1},hG=o=>{const c=Yk(o,y6),g=c.length===0?vc(o).map(ii).map(S=>Yk(S,y6)).getOr([]):c;return Ce(g).map(S=>({element:S,others:g.slice(1)}))},d1=(o,c)=>Kg(o)?hG(c):L.none(),O2=o=>{const c=[...ne(o.others,ui),Vl()];return IO(ui(o.element),c)},i3=(o,c,g)=>Vd(o,c,g).isSome(),gN=(o,c)=>{let g=null;return{cancel:()=>{g!==null&&(clearTimeout(g),g=null)},schedule:(...H)=>{g=setTimeout(()=>{o.apply(null,H),g=null},c)}}},pN=5,mG=400,vN=o=>{const c=o.raw;return c.touches===void 0||c.touches.length!==1?L.none():L.some(c.touches[0])},gG=(o,c)=>{const g=Math.abs(o.clientX-c.x),S=Math.abs(o.clientY-c.y);return g>pN||S>pN},pG=o=>{const c=gs(),g=X(!1),S=gN(Ne=>{o.triggerEvent(Nd(),Ne),g.set(!0)},mG),_=Ne=>(vN(Ne).each(Ue=>{S.cancel();const Je={x:Ue.clientX,y:Ue.clientY,target:Ne.target};S.schedule(Ne),g.set(!1),c.set(Je)}),L.none()),H=Ne=>(S.cancel(),vN(Ne).each(Ue=>{c.on(Je=>{gG(Ue,Je)&&c.clear()})}),L.none()),K=Ne=>{S.cancel();const Ue=Je=>Jt(Je.target,Ne.target);return c.get().filter(Ue).map(Je=>g.get()?(Ne.prevent(),!1):o.triggerEvent(Ac(),Ne))},ve=bt([{key:no(),value:_},{key:fo(),value:H},{key:ts(),value:K}]);return{fireIfReady:(Ne,Ue)=>Bt(ve,Ue).bind(Je=>Je(Ne))}},vG=o=>o.raw.which===h_[0]&&!be(["input","textarea"],Oo(o.target))&&!i3(o.target,'[contenteditable="true"]'),yG=(o,c)=>{const g={stopBackspace:!0,...c},S=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],_=pG(g),H=ne(S.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),ht=>_c(o,ht,At=>{_.fireIfReady(At,ht).each(Dn=>{Dn&&At.kill()}),g.triggerEvent(ht,At)&&At.kill()})),K=gs(),ve=_c(o,"paste",ht=>{_.fireIfReady(ht,"paste").each(qt=>{qt&&ht.kill()}),g.triggerEvent("paste",ht)&&ht.kill(),K.set(setTimeout(()=>{g.triggerEvent(Li(),ht)},0))}),Ae=_c(o,"keydown",ht=>{g.triggerEvent("keydown",ht)?ht.kill():g.stopBackspace&&vG(ht)&&ht.prevent()}),Ne=_c(o,"focusin",ht=>{g.triggerEvent("focusin",ht)&&ht.kill()}),Ue=gs(),Je=_c(o,"focusout",ht=>{g.triggerEvent("focusout",ht)&&ht.kill(),Ue.set(setTimeout(()=>{g.triggerEvent(Ul(),ht)},0))});return{unbind:()=>{pe(H,ht=>{ht.unbind()}),Ae.unbind(),Ne.unbind(),Je.unbind(),ve.unbind(),K.on(clearTimeout),Ue.on(clearTimeout)}}},yN=(o,c)=>{const g=Bt(o,"target").getOr(c);return X(g)},bG=(o,c)=>{const g=X(!1),S=X(!1);return{stop:()=>{g.set(!0)},cut:()=>{S.set(!0)},isStopped:g.get,isCut:S.get,event:o,setSource:c.set,getSource:c.get}},bN=o=>{const c=X(!1);return{stop:()=>{c.set(!0)},cut:M,isStopped:c.get,isCut:Y,event:o,setSource:E("Cannot set source of a broadcasted event"),getSource:E("Cannot get source of a broadcasted event")}},l3=we.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),ON=(o,c,g,S,_,H)=>{const K=o(c,S),ve=bG(g,_);return K.fold(()=>(H.logEventNoHandlers(c,S),l3.complete()),Ae=>{const Ne=Ae.descHandler;return h0(Ne)(ve),ve.isStopped()?(H.logEventStopped(c,Ae.element,Ne.purpose),l3.stopped()):ve.isCut()?(H.logEventCut(c,Ae.element,Ne.purpose),l3.complete()):Fn(Ae.element).fold(()=>(H.logNoParent(c,Ae.element,Ne.purpose),l3.complete()),Je=>(H.logEventResponse(c,Ae.element,Ne.purpose),l3.resume(Je)))})},xN=(o,c,g,S,_,H)=>ON(o,c,g,S,_,H).fold(ie,K=>xN(o,c,g,K,_,H),Y),OG=(o,c,g,S,_)=>{const H=yN(g,S);return ON(o,c,g,S,H,_)},xG=(o,c,g)=>{const S=bN(c);return pe(o,_=>{const H=_.descHandler;h0(H)(S)}),S.isStopped()},b6=(o,c,g,S)=>SN(o,c,g,g.target,S),SN=(o,c,g,S,_)=>{const H=yN(g,S);return xN(o,c,g,S,H,_)},SG=(o,c)=>({element:o,descHandler:c}),wG=(o,c)=>({id:o,descHandler:c}),wN=()=>{const o={},c=(K,ve,Ae)=>{Ye(Ae,(Ne,Ue)=>{const Je=o[Ue]!==void 0?o[Ue]:{};Je[ve]=ow(Ne,K),o[Ue]=Je})},g=(K,ve)=>$y(ve).bind(Ae=>Bt(K,Ae)).map(Ae=>SG(ve,Ae));return{registerId:c,unregisterId:K=>{Ye(o,(ve,Ae)=>{vn(ve,K)&&delete ve[K]})},filterByType:K=>Bt(o,K).map(ve=>Xt(ve,(Ae,Ne)=>wG(Ne,Ae))).getOr([]),find:(K,ve,Ae)=>Bt(o,ve).bind(Ne=>tn(Ae,Ue=>g(Ne,Ue),K))}},TN=()=>{const o=wN(),c={},g=Ne=>{const Ue=Ne.element;return $y(Ue).getOrThunk(()=>Jp("uid-",Ne.element))},S=(Ne,Ue)=>{const Je=c[Ue];if(Je===Ne)H(Ne);else throw new Error('The tagId "'+Ue+'" is already used by: '+wh(Je.element)+`
Cannot use it for: `+wh(Ne.element)+`
The conflicting element is`+(Js(Je.element)?" ":" not ")+"already in the DOM")},_=Ne=>{const Ue=g(Ne);En(c,Ue)&&S(Ne,Ue);const Je=[Ne];o.registerId(Je,Ue,Ne.events),c[Ue]=Ne},H=Ne=>{$y(Ne.element).each(Ue=>{delete c[Ue],o.unregisterId(Ue)})};return{find:(Ne,Ue,Je)=>o.find(Ne,Ue,Je),filter:Ne=>o.filterByType(Ne),register:_,unregister:H,getById:Ne=>Bt(c,Ne)}},Um=_u({name:"Container",factory:o=>{const{attributes:c,...g}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...c},...g},components:o.components,behaviours:Lm(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Mn("components",[]),el("containerBehaviours",[]),Mn("events",{}),Mn("domModification",{}),Mn("eventOrder",{})]}),L5=o=>{const c=mn=>Fn(o.element).fold(ie,on=>Jt(mn,on)),g=TN(),S=(mn,on)=>g.find(c,mn,on),_=yG(o.element,{triggerEvent:(mn,on)=>lx(mn,on.target,kn=>b6(S,mn,on,kn))}),H={debugInfo:F("real"),triggerEvent:(mn,on,kn)=>{lx(mn,on,Zn=>SN(S,mn,kn,on,Zn))},triggerFocus:(mn,on)=>{$y(mn).fold(()=>{cu(mn)},kn=>{lx(Df(),mn,Zn=>(OG(S,Df(),{originator:on,kill:M,prevent:M,target:mn},mn,Zn),!1))})},triggerEscape:(mn,on)=>{H.triggerEvent("keydown",mn.element,on.event)},getByUid:mn=>qt(mn),getByDom:mn=>Dn(mn),build:oc,buildOrPatch:sx,addToGui:mn=>{Ae(mn)},removeFromGui:mn=>{Ne(mn)},addToWorld:mn=>{K(mn)},removeFromWorld:mn=>{ve(mn)},broadcast:mn=>{st(mn)},broadcastOn:(mn,on)=>{ht(mn,on)},broadcastEvent:(mn,on)=>{At(mn,on)},isConnected:ie},K=mn=>{mn.connect(H),Ct(mn.element)||(g.register(mn),pe(mn.components(),K),H.triggerEvent(Bd(),mn.element,{target:mn.element}))},ve=mn=>{Ct(mn.element)||(pe(mn.components(),ve),g.unregister(mn)),mn.disconnect()},Ae=mn=>{Hg(o,mn)},Ne=mn=>{Rh(mn)},Ue=()=>{_.unbind(),xc(o.element)},Je=mn=>{const on=g.filter(Wl());pe(on,kn=>{const Zn=kn.descHandler;h0(Zn)(mn)})},st=mn=>{Je({universal:!0,data:mn})},ht=(mn,on)=>{Je({universal:!1,channels:mn,data:on})},At=(mn,on)=>{const kn=g.filter(mn);return xG(kn,on)},qt=mn=>g.getById(mn).fold(()=>jo.error(new Error('Could not find component with uid: "'+mn+'" in system.')),jo.value),Dn=mn=>{const on=$y(mn).getOr("not found");return qt(on)};return K(o),{root:o,element:o.element,destroy:Ue,add:Ae,remove:Ne,getByUid:qt,getByDom:Dn,addToWorld:K,removeFromWorld:ve,broadcast:st,broadcastOn:ht,broadcastEvent:At}},TG=(o,c)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ne(o.items,c.interpreter)}),CG=F([Mn("prefix","form-field"),el("fieldBehaviours",[xs,Fr])]),kG=F([fu({schema:[er("dom")],name:"label"}),fu({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[er("text")],name:"aria-descriptor"}),ic({factory:{sketch:o=>{const c=rt(o,["factory"]);return o.factory.sketch(c)}},schema:[er("factory")],name:"field"})]),AG=(o,c,g,S)=>{const _=Ni(o.fieldBehaviours,[xs.config({find:ve=>ka(ve,o,"field")}),Fr.config({store:{mode:"manual",getValue:ve=>xs.getCurrent(ve).bind(Fr.getValue),setValue:(ve,Ae)=>{xs.getCurrent(ve).each(Ne=>{Fr.setValue(Ne,Ae)})}}})]),H=Ea([Ca((ve,Ae)=>{const Ne=vA(ve,o,["label","field","aria-descriptor"]);Ne.field().each(Ue=>{const Je=Kr(o.prefix);Ne.label().each(st=>{Dr(st.element,"for",Je),Dr(Ue.element,"id",Je)}),Ne["aria-descriptor"]().each(st=>{const ht=Kr(o.prefix);Dr(st.element,"id",ht),Dr(Ue.element,"aria-describedby",ht)})})})]),K={getField:ve=>ka(ve,o,"field"),getLabel:ve=>ka(ve,o,"label")};return{uid:o.uid,dom:o.dom,components:c,behaviours:_,events:H,apis:K}},la=lc({name:"FormField",configFields:CG(),partFields:kG(),factory:AG,apis:{getField:(o,c)=>o.getField(c),getLabel:(o,c)=>o.getLabel(c)}});var I5=Object.freeze({__proto__:null,exhibit:(o,c)=>ku({attributes:bt([{key:c.tabAttr,value:"true"}])})}),PG=[Mn("tabAttr","data-alloy-tabstop")];const Ga=dl({fields:PG,name:"tabstopping",active:I5});var MG=tinymce.util.Tools.resolve("tinymce.html.Entities");const c3=(o,c,g,S)=>{const _=_G(o,c,g,S);return la.sketch(_)},EG=(o,c)=>c3(o,c,[],[]),_G=(o,c,g,S)=>({dom:u3(g),components:o.toArray().concat([c]),fieldBehaviours:pr(S)}),Zle=()=>u3([]),u3=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),eh=(o,c)=>la.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[yi(c.translate(o))]}),df=Kr("form-component-change"),x2=Kr("form-close"),h1=Kr("form-cancel"),ap=Kr("form-action"),f3=Kr("form-submit"),O6=Kr("form-block"),x6=Kr("form-unblock"),CN=Kr("form-tabchange"),kN=Kr("form-resize"),RG=(o,c,g)=>{const S=o.label.map(ht=>eh(ht,c)),_=c.icons(),H=ht=>{var At;return(At=_[ht])!==null&&At!==void 0?At:ht},K=ht=>(At,qt)=>{Vd(qt.event.target,"[data-collection-item-value]").each(Dn=>{ht(At,qt,Dn,oa(Dn,"data-collection-item-value"))})},ve=(ht,At)=>{const qt=ne(At,on=>{const kn=dd.translate(on.text),Zn=o.columns===1?`<div class="tox-collection__item-label">${kn}</div>`:"",mr=`<div class="tox-collection__item-icon">${H(on.icon)}</div>`,Gn={_:" "," - ":" ","-":" "},Or=kn.replace(/\_| \- |\-/g,is=>Gn[is]);return`<div class="tox-collection__item${c.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${MG.encodeAllRaw(on.value)}" title="${Or}" aria-label="${Or}">${mr}${Zn}</div>`}),Dn=o.columns!=="auto"&&o.columns>1?ge(qt,o.columns):[qt],mn=ne(Dn,on=>`<div class="tox-collection__group">${on.join("")}</div>`);Kp(ht.element,mn.join(""))},Ae=K((ht,At,qt,Dn)=>{At.stop(),c.isDisabled()||vo(ht,ap,{name:o.name,value:Dn})}),Ne=[qn(Lr(),K((ht,At,qt)=>{cu(qt)})),qn($i(),Ae),qn(Ac(),Ae),qn(Do(),K((ht,At,qt)=>{Ai(ht.element,"."+WT).each(Dn=>{Xa(Dn,WT)}),ki(qt,WT)})),qn(ms(),K(ht=>{Ai(ht.element,"."+WT).each(At=>{Xa(At,WT)})})),rd(K((ht,At,qt,Dn)=>{vo(ht,ap,{name:o.name,value:Dn})}))],Ue=(ht,At)=>ne(hl(ht.element,".tox-collection__item"),At),Je=la.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:z},behaviours:pr([Co.config({disabled:c.isDisabled,onDisabled:ht=>{Ue(ht,At=>{ki(At,"tox-collection__item--state-disabled"),Dr(At,"aria-disabled",!0)})},onEnabled:ht=>{Ue(ht,At=>{Xa(At,"tox-collection__item--state-disabled"),sa(At,"aria-disabled")})}}),gl(),Uo.config({}),Fr.config({store:{mode:"memory",initialValue:g.getOr([])},onSetValue:(ht,At)=>{ve(ht,At),o.columns==="auto"&&D8(ht,5,"tox-collection__item").each(({numRows:qt,numColumns:Dn})=>{yo.setGridSize(ht,qt,Dn)}),ks(ht,kN)}}),Ga.config({}),yo.config(EX(o.columns,"normal")),Jo("collection-events",Ne)]),eventOrder:{[Ii()]:["disabling","alloy.base.behaviour","collection-events"]}});return c3(S,Je,["tox-form__group--collection"],[])},DG=["input","textarea"],AN=o=>{const c=Oo(o);return be(DG,c)},PN=(o,c)=>{const g=c.getRoot(o).getOr(o.element);Xa(g,c.invalidClass),c.notify.each(S=>{AN(o.element)&&Dr(o.element,"aria-invalid",!1),S.getContainer(o).each(_=>{Kp(_,S.validHtml)}),S.onValid(o)})},S6=(o,c,g,S)=>{const _=c.getRoot(o).getOr(o.element);ki(_,c.invalidClass),c.notify.each(H=>{AN(o.element)&&Dr(o.element,"aria-invalid",!0),H.getContainer(o).each(K=>{Kp(K,S)}),H.onInvalid(o,S)})},Fb=(o,c,g)=>c.validator.fold(()=>$c.pure(jo.value(!0)),S=>S.validate(o)),kv=(o,c,g)=>(c.notify.each(S=>{S.onValidate(o)}),Fb(o,c).map(S=>o.getSystem().isConnected()?S.fold(_=>(S6(o,c,g,_),jo.error(_)),_=>(PN(o,c),jo.value(_))):jo.error("No longer in system")));var MN=Object.freeze({__proto__:null,markValid:PN,markInvalid:S6,query:Fb,run:kv,isInvalid:(o,c)=>{const g=c.getRoot(o).getOr(o.element);return Ji(g,c.invalidClass)}}),N5=Object.freeze({__proto__:null,events:(o,c)=>o.validator.map(g=>Ea([qn(g.onEvent,S=>{kv(S,o,c).get(z)})].concat(g.validateOnLoad?[Ca(S=>{kv(S,o,c).get(M)})]:[]))).getOr({})}),LG=[er("invalidClass"),Mn("getRoot",L.none),wc("notify",[Mn("aria","alert"),Mn("getContainer",L.none),Mn("validHtml",""),Rs("onValid"),Rs("onInvalid"),Rs("onValidate")]),wc("validator",[er("validate"),Mn("onEvent","input"),Mn("validateOnLoad",!0)])];const gd=dl({fields:LG,name:"invalidating",active:N5,apis:MN,extra:{validation:o=>c=>{const g=Fr.getValue(c);return $c.pure(o(g))}}});var IG=Object.freeze({__proto__:null,events:()=>Ea([YS(Hl(),ie)]),exhibit:()=>ku({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const d3=dl({fields:[],name:"unselecting",active:IG}),NG=(o,c)=>Jd.sketch({dom:o.dom,components:o.components,toggleClass:"mce-active",dropdownBehaviours:pr([tl.button(c.providers.isDisabled),gl(),d3.config({}),Ga.config({})]),layouts:o.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:c.getSink,fetch:g=>$c.nu(S=>o.fetch(S)).map(S=>L.from($5(Ta(i6(Kr("menu-value"),S,_=>{o.onItemAction(g,_)},o.columns,o.presets,Hm.CLOSE_ON_EXECUTE,Y,c.providers),{movement:E5(o.columns,o.presets)})))),parts:{menu:c2(!1,1,o.presets)}}),EN=Kr("color-input-change"),_N=Kr("color-swatch-change"),h3=Kr("color-picker-cancel"),BG=(o,c,g,S)=>{const _=la.parts.field({factory:Ib,inputClasses:["tox-textfield"],data:S,onSetValue:Ne=>gd.run(Ne).get(M),inputBehaviours:pr([Co.config({disabled:c.providers.isDisabled}),gl(),Ga.config({}),gd.config({invalidClass:"tox-textbox-field-invalid",getRoot:Ne=>dr(Ne.element),notify:{onValid:Ne=>{const Ue=Fr.getValue(Ne);vo(Ne,EN,{color:Ue})}},validator:{validateOnLoad:!1,validate:Ne=>{const Ue=Fr.getValue(Ne);if(Ue.length===0)return $c.pure(jo.value(!0));{const Je=zt.fromTag("span");Po(Je,"background-color",Ue);const st=za(Je,"background-color").fold(()=>jo.error("blah"),ht=>jo.value(Ue));return $c.pure(st)}}}})]),selectOnFocus:!1}),H=o.label.map(Ne=>eh(Ne,c.providers)),K=(Ne,Ue)=>{vo(Ne,_N,{value:Ue})},ve=(Ne,Ue)=>{Ae.getOpt(Ne).each(Je=>{Ue==="custom"?g.colorPicker(st=>{st.fold(()=>ks(Je,h3),ht=>{K(Je,ht),q8(o.storageKey,ht)})},"#ffffff"):Ue==="remove"?K(Je,""):K(Je,Ue)})},Ae=ia(NG({dom:{tag:"span",attributes:{"aria-label":c.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Gl,ul,fl],onLtr:()=>[ul,Gl,fl]},components:[],fetch:qI(g.getColors(o.storageKey),o.storageKey,g.hasCustomColors()),columns:g.getColorCols(o.storageKey),presets:"color",onItemAction:ve},c));return la.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:H.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[_,Ae.asSpec()]}]),fieldBehaviours:pr([Jo("form-field-events",[qn(EN,(Ne,Ue)=>{Ae.getOpt(Ne).each(Je=>{Po(Je.element,"background-color",Ue.event.color)}),vo(Ne,df,{name:o.name})}),qn(_N,(Ne,Ue)=>{la.getField(Ne).each(Je=>{Fr.setValue(Je,Ue.event.value),xs.getCurrent(Ne).each(Mo.focus)})}),qn(h3,(Ne,Ue)=>{la.getField(Ne).each(Je=>{xs.getCurrent(Ne).each(Mo.focus)})})])])})},w6=fu({schema:[er("dom")],name:"label"}),m1=o=>fu({name:""+o+"-edge",overrides:c=>c.model.manager.edgeActions[o].fold(()=>({}),S=>({events:Ea([UO(no(),(_,H,K)=>S(_,K),[c]),UO(go(),(_,H,K)=>S(_,K),[c]),UO(js(),(_,H,K)=>{K.mouseIsDown.get()&&S(_,K)},[c])])}))}),QG=m1("top-left"),FG=m1("top"),RN=m1("top-right"),VG=m1("right"),zG=m1("bottom-right"),ZG=m1("bottom"),DN=m1("bottom-left"),HG=m1("left"),UG=ic({name:"thumb",defaults:F({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:Ea([i0(no(),o,"spectrum"),i0(fo(),o,"spectrum"),i0(ts(),o,"spectrum"),i0(go(),o,"spectrum"),i0(js(),o,"spectrum"),i0(ba(),o,"spectrum")])})}),WG=ic({schema:[ei("mouseIsDown",()=>X(!1))],name:"spectrum",overrides:o=>{const g=o.model.manager,S=(_,H)=>g.getValueFromEvent(H).map(K=>g.setValueFrom(_,o,K));return{behaviours:pr([yo.config({mode:"special",onLeft:_=>g.onLeft(_,o),onRight:_=>g.onRight(_,o),onUp:_=>g.onUp(_,o),onDown:_=>g.onDown(_,o)}),Mo.config({})]),events:Ea([qn(no(),S),qn(fo(),S),qn(go(),S),qn(js(),(_,H)=>{o.mouseIsDown.get()&&S(_,H)})])}}});var YG=[w6,HG,VG,FG,ZG,QG,RN,DN,zG,UG,WG];const S2=F("slider.change.value"),$N=o=>o.type.indexOf("touch")!==-1,T6=o=>{const c=o.event.raw;if($N(c)){const g=c;return g.touches!==void 0&&g.touches.length===1?L.some(g.touches[0]).map(S=>Is(S.clientX,S.clientY)):L.none()}else{const g=c;return g.clientX!==void 0?L.some(g).map(S=>Is(S.clientX,S.clientY)):L.none()}},XG="top",GG="right",jG="bottom",qG="left",g1=o=>o.model.minX,zh=o=>o.model.minY,Q5=o=>o.model.minX-1,F5=o=>o.model.minY-1,Vb=o=>o.model.maxX,ip=o=>o.model.maxY,hf=o=>o.model.maxX+1,w2=o=>o.model.maxY+1,C6=(o,c,g)=>c(o)-g(o),k6=o=>C6(o,Vb,g1),A6=o=>C6(o,ip,zh),LN=o=>k6(o)/2,IN=o=>A6(o)/2,zb=o=>o.stepSize,P6=o=>o.snapToGrid,NN=o=>o.snapStart,BN=o=>o.rounded,m3=(o,c)=>o[c+"-edge"]!==void 0,QN=o=>m3(o,qG),M6=o=>m3(o,GG),E6=o=>m3(o,XG),_6=o=>m3(o,jG),Av=o=>o.model.value.get(),p1=(o,c)=>({x:o,y:c}),Zh=(o,c)=>{vo(o,S2(),{value:c})},KG=(o,c)=>{Zh(o,p1(Q5(c),F5(c)))},JG=(o,c)=>{Zh(o,F5(c))},ej=(o,c)=>{Zh(o,p1(LN(c),F5(c)))},R6=(o,c)=>{Zh(o,p1(hf(c),F5(c)))},tj=(o,c)=>{Zh(o,hf(c))},FN=(o,c)=>{Zh(o,p1(hf(c),IN(c)))},nj=(o,c)=>{Zh(o,p1(hf(c),w2(c)))},rj=(o,c)=>{Zh(o,w2(c))},oj=(o,c)=>{Zh(o,p1(LN(c),w2(c)))},sj=(o,c)=>{Zh(o,p1(Q5(c),w2(c)))},aj=(o,c)=>{Zh(o,Q5(c))},ij=(o,c)=>{Zh(o,p1(Q5(c),IN(c)))},D6=(o,c,g,S)=>o<c?o:o>g?g:o===c?c-1:Math.max(c,o-S),V5=(o,c,g,S)=>o>g?o:o<c?c:o===g?g+1:Math.min(g,o+S),$6=(o,c,g)=>Math.max(c,Math.min(g,o)),lj=(o,c,g,S,_)=>_.fold(()=>{const H=o-c,K=Math.round(H/S)*S;return $6(c+K,c-1,g+1)},H=>{const K=(o-H)%S,ve=Math.round(K/S),Ae=Math.floor((o-H)/S),Ne=Math.floor((g-H)/S),Ue=Math.min(Ne,Ae+ve),Je=H+Ue*S;return Math.max(H,Je)}),cj=(o,c,g)=>Math.min(g,Math.max(o,c))-c,VN=o=>{const{min:c,max:g,range:S,value:_,step:H,snap:K,snapStart:ve,rounded:Ae,hasMinEdge:Ne,hasMaxEdge:Ue,minBound:Je,maxBound:st,screenRange:ht}=o,At=Ne?c-1:c,qt=Ue?g+1:g;if(_<Je)return At;if(_>st)return qt;{const Dn=cj(_,Je,st),mn=$6(Dn/ht*S+c,At,qt);return K&&mn>=c&&mn<=g?lj(mn,c,g,H,ve):Ae?Math.round(mn):mn}},zN=o=>{const{min:c,max:g,range:S,value:_,hasMinEdge:H,hasMaxEdge:K,maxBound:ve,maxOffset:Ae,centerMinEdge:Ne,centerMaxEdge:Ue}=o;return _<c?H?0:Ne:_>g?K?ve:Ue:(_-c)/S*Ae},L6="top",ZN="right",I6="bottom",z5="left",HN="width",N6="height",lp=o=>o.element.dom.getBoundingClientRect(),th=(o,c)=>o[c],Z5=o=>{const c=lp(o);return th(c,z5)},UN=o=>{const c=lp(o);return th(c,ZN)},H5=o=>{const c=lp(o);return th(c,L6)},WN=o=>{const c=lp(o);return th(c,I6)},U5=o=>{const c=lp(o);return th(c,HN)},cp=o=>{const c=lp(o);return th(c,N6)},YN=(o,c,g)=>(o+c)/2-g,T2=(o,c)=>{const g=lp(o),S=lp(c),_=th(g,z5),H=th(g,ZN),K=th(S,z5);return YN(_,H,K)},XN=(o,c)=>{const g=lp(o),S=lp(c),_=th(g,L6),H=th(g,I6),K=th(S,L6);return YN(_,H,K)},C2=(o,c)=>{vo(o,S2(),{value:c})},B6=(o,c,g)=>{const S={min:g1(c),max:Vb(c),range:k6(c),value:g,step:zb(c),snap:P6(c),snapStart:NN(c),rounded:BN(c),hasMinEdge:QN(c),hasMaxEdge:M6(c),minBound:Z5(o),maxBound:UN(o),screenRange:U5(o)};return VN(S)},uj=(o,c,g)=>{const S=B6(o,c,g);return C2(o,S),S},fj=(o,c)=>{const g=g1(c);C2(o,g)},GN=(o,c)=>{const g=Vb(c);C2(o,g)},dj=(o,c,g)=>{const _=(o>0?V5:D6)(Av(g),g1(g),Vb(g),zb(g));return C2(c,_),L.some(_)},W5=o=>(c,g)=>dj(o,c,g).map(ie),Q6=o=>T6(o).map(g=>g.left),F6=(o,c,g,S,_)=>{const K=U5(o),ve=S.bind(Ue=>L.some(T2(Ue,o))).getOr(0),Ae=_.bind(Ue=>L.some(T2(Ue,o))).getOr(K),Ne={min:g1(c),max:Vb(c),range:k6(c),value:g,hasMinEdge:QN(c),hasMaxEdge:M6(c),minBound:Z5(o),minOffset:0,maxBound:UN(o),maxOffset:K,centerMinEdge:ve,centerMaxEdge:Ae};return zN(Ne)},V6=(o,c,g,S,_,H)=>{const K=F6(c,H,g,S,_);return Z5(c)-Z5(o)+K},pd=(o,c,g,S)=>{const _=Av(g),H=V6(o,S.getSpectrum(o),_,S.getLeftEdge(o),S.getRightEdge(o),g),K=Si(c.element)/2;Po(c.element,"left",H-K+"px")},hj=W5(-1),mj=W5(1),jN=L.none,qN=L.none,gj={"top-left":L.none(),top:L.none(),"top-right":L.none(),right:L.some(tj),"bottom-right":L.none(),bottom:L.none(),"bottom-left":L.none(),left:L.some(aj)};var pj=Object.freeze({__proto__:null,setValueFrom:uj,setToMin:fj,setToMax:GN,findValueOfOffset:B6,getValueFromEvent:Q6,findPositionOfValue:V6,setPositionFromValue:pd,onLeft:hj,onRight:mj,onUp:jN,onDown:qN,edgeActions:gj});const Y5=(o,c)=>{vo(o,S2(),{value:c})},z6=(o,c,g)=>{const S={min:zh(c),max:ip(c),range:A6(c),value:g,step:zb(c),snap:P6(c),snapStart:NN(c),rounded:BN(c),hasMinEdge:E6(c),hasMaxEdge:_6(c),minBound:H5(o),maxBound:WN(o),screenRange:cp(o)};return VN(S)},vj=(o,c,g)=>{const S=z6(o,c,g);return Y5(o,S),S},yj=(o,c)=>{const g=zh(c);Y5(o,g)},bj=(o,c)=>{const g=ip(c);Y5(o,g)},KN=(o,c,g)=>{const _=(o>0?V5:D6)(Av(g),zh(g),ip(g),zb(g));return Y5(c,_),L.some(_)},JN=o=>(c,g)=>KN(o,c,g).map(ie),Oj=o=>T6(o).map(g=>g.top),xj=(o,c,g,S,_)=>{const K=cp(o),ve=S.bind(Ue=>L.some(XN(Ue,o))).getOr(0),Ae=_.bind(Ue=>L.some(XN(Ue,o))).getOr(K),Ne={min:zh(c),max:ip(c),range:A6(c),value:g,hasMinEdge:E6(c),hasMaxEdge:_6(c),minBound:H5(o),minOffset:0,maxBound:WN(o),maxOffset:K,centerMinEdge:ve,centerMaxEdge:Ae};return zN(Ne)},X5=(o,c,g,S,_,H)=>{const K=xj(c,H,g,S,_);return H5(c)-H5(o)+K},Z6=(o,c,g,S)=>{const _=Av(g),H=X5(o,S.getSpectrum(o),_,S.getTopEdge(o),S.getBottomEdge(o),g),K=Za(c.element)/2;Po(c.element,"top",H-K+"px")},Sj=L.none,H6=L.none,k2=JN(-1),eB=JN(1),tB={"top-left":L.none(),top:L.some(JG),"top-right":L.none(),right:L.none(),"bottom-right":L.none(),bottom:L.some(rj),"bottom-left":L.none(),left:L.none()};var nB=Object.freeze({__proto__:null,setValueFrom:vj,setToMin:yj,setToMax:bj,findValueOfOffset:z6,getValueFromEvent:Oj,findPositionOfValue:X5,setPositionFromValue:Z6,onLeft:Sj,onRight:H6,onUp:k2,onDown:eB,edgeActions:tB});const G5=(o,c)=>{vo(o,S2(),{value:c})},j5=(o,c)=>({x:o,y:c}),q5=(o,c,g)=>{const S=B6(o,c,g.left),_=z6(o,c,g.top),H=j5(S,_);return G5(o,H),H},wj=(o,c,g,S)=>{const _=o>0?V5:D6,H=c?Av(S).x:_(Av(S).x,g1(S),Vb(S),zb(S)),K=c?_(Av(S).y,zh(S),ip(S),zb(S)):Av(S).y;return G5(g,j5(H,K)),L.some(H)},K5=(o,c)=>(g,S)=>wj(o,c,g,S).map(ie),rB=(o,c)=>{const g=g1(c),S=zh(c);G5(o,j5(g,S))},oB=(o,c)=>{const g=Vb(c),S=ip(c);G5(o,j5(g,S))},U6=o=>T6(o),sB=(o,c,g,S)=>{const _=Av(g),H=V6(o,S.getSpectrum(o),_.x,S.getLeftEdge(o),S.getRightEdge(o),g),K=X5(o,S.getSpectrum(o),_.y,S.getTopEdge(o),S.getBottomEdge(o),g),ve=Si(c.element)/2,Ae=Za(c.element)/2;Po(c.element,"left",H-ve+"px"),Po(c.element,"top",K-Ae+"px")},Du=K5(-1,!1),aB=K5(1,!1),Tj=K5(-1,!0),Cj=K5(1,!0),iB={"top-left":L.some(KG),top:L.some(ej),"top-right":L.some(R6),right:L.some(FN),"bottom-right":L.some(nj),bottom:L.some(oj),"bottom-left":L.some(sj),left:L.some(ij)};var kj=Object.freeze({__proto__:null,setValueFrom:q5,setToMin:rB,setToMax:oB,getValueFromEvent:U6,setPositionFromValue:sB,onLeft:Du,onRight:aB,onUp:Tj,onDown:Cj,edgeActions:iB});const Aj=[Mn("stepSize",1),Mn("onChange",M),Mn("onChoose",M),Mn("onInit",M),Mn("onDragStart",M),Mn("onDragEnd",M),Mn("snapToGrid",!1),Mn("rounded",!0),Ws("snapStart"),Zc("model",Os("mode",{x:[Mn("minX",0),Mn("maxX",100),ei("value",o=>X(o.mode.minX)),er("getInitialValue"),ha("manager",pj)],y:[Mn("minY",0),Mn("maxY",100),ei("value",o=>X(o.mode.minY)),er("getInitialValue"),ha("manager",nB)],xy:[Mn("minX",0),Mn("maxX",100),Mn("minY",0),Mn("maxY",100),ei("value",o=>X({x:o.mode.minX,y:o.mode.minY})),er("getInitialValue"),ha("manager",kj)]})),el("sliderBehaviours",[yo,Fr]),ei("mouseIsDown",()=>X(!1))],nh=lc({name:"Slider",configFields:Aj,partFields:YG,factory:(o,c,g,S)=>{const _=Zn=>Nm(Zn,o,"thumb"),H=Zn=>Nm(Zn,o,"spectrum"),K=Zn=>ka(Zn,o,"left-edge"),ve=Zn=>ka(Zn,o,"right-edge"),Ae=Zn=>ka(Zn,o,"top-edge"),Ne=Zn=>ka(Zn,o,"bottom-edge"),Ue=o.model,Je=Ue.manager,st=(Zn,mr)=>{Je.setPositionFromValue(Zn,mr,o,{getLeftEdge:K,getRightEdge:ve,getTopEdge:Ae,getBottomEdge:Ne,getSpectrum:H})},ht=(Zn,mr)=>{Ue.value.set(mr);const Gn=_(Zn);st(Zn,Gn)},At=(Zn,mr)=>{ht(Zn,mr);const Gn=_(Zn);return o.onChange(Zn,Gn,mr),L.some(!0)},qt=Zn=>{Je.setToMin(Zn,o)},Dn=Zn=>{Je.setToMax(Zn,o)},mn=Zn=>{const mr=()=>{ka(Zn,o,"thumb").each(Or=>{const Mr=Ue.value.get();o.onChoose(Zn,Or,Mr)})},Gn=o.mouseIsDown.get();o.mouseIsDown.set(!1),Gn&&mr()},on=(Zn,mr)=>{mr.stop(),o.mouseIsDown.set(!0),o.onDragStart(Zn,_(Zn))},kn=(Zn,mr)=>{mr.stop(),o.onDragEnd(Zn,_(Zn)),mn(Zn)};return{uid:o.uid,dom:o.dom,components:c,behaviours:Ni(o.sliderBehaviours,[yo.config({mode:"special",focusIn:Zn=>ka(Zn,o,"spectrum").map(yo.focusIn).map(ie)}),Fr.config({store:{mode:"manual",getValue:Zn=>Ue.value.get(),setValue:ht}}),lu.config({channels:{[oT()]:{onReceive:mn}}})]),events:Ea([qn(S2(),(Zn,mr)=>{At(Zn,mr.event.value)}),Ca((Zn,mr)=>{const Gn=Ue.getInitialValue();Ue.value.set(Gn);const Or=_(Zn);st(Zn,Or);const Mr=H(Zn);o.onInit(Zn,Or,Mr,Ue.value.get())}),qn(no(),on),qn(ts(),kn),qn(go(),on),qn(ba(),kn)]),apis:{resetToMin:qt,resetToMax:Dn,setValue:ht,refresh:st},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,c,g)=>{o.setValue(c,g)},resetToMin:(o,c)=>{o.resetToMin(c)},resetToMax:(o,c)=>{o.resetToMax(c)},refresh:(o,c)=>{o.refresh(c)}}}),Hh=Kr("rgb-hex-update"),J5=Kr("slider-update"),W6=Kr("palette-update"),e4=(o,c)=>{const g=nh.parts.spectrum({dom:{tag:"div",classes:[c("hue-slider-spectrum")],attributes:{role:"presentation"}}}),S=nh.parts.thumb({dom:{tag:"div",classes:[c("hue-slider-thumb")],attributes:{role:"presentation"}}});return nh.sketch({dom:{tag:"div",classes:[c("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:F(0)},components:[g,S],sliderBehaviours:pr([Mo.config({})]),onChange:(_,H,K)=>{vo(_,J5,{value:K})}})},t4="form",Pj=[el("formBehaviours",[Fr])],lB=o=>"<alloy.field."+o+">",Mj=o=>{const c=(()=>{const H=[];return{field:(ve,Ae)=>(H.push(ve),fT(t4,lB(ve),Ae)),record:F(H)}})(),g=o(c),S=c.record(),_=ne(S,H=>ic({name:H,pname:lB(H)}));return yT(t4,Pj,_,_j,g)},Ej=(o,c)=>o.fold(()=>jo.error(c),jo.value),_j=(o,c)=>({uid:o.uid,dom:o.dom,components:c,behaviours:Ni(o.formBehaviours,[Fr.config({store:{mode:"manual",getValue:g=>{const S=hT(g,o);return je(S,(_,H)=>_().bind(K=>{const ve=xs.getCurrent(K);return Ej(ve,new Error(`Cannot find a current component to extract the value from for form part '${H}': `+wh(K.element)))}).map(Fr.getValue))},setValue:(g,S)=>{Ye(S,(_,H)=>{ka(g,o,H).each(K=>{xs.getCurrent(K).each(ve=>{Fr.setValue(ve,_)})})})}}})]),apis:{getField:(g,S)=>ka(g,o,S).bind(xs.getCurrent)}}),A2={getField:ev((o,c,g)=>o.getField(c,g)),sketch:Mj},cB=Kr("valid-input"),Y6=Kr("invalid-input"),uB=Kr("validating-input"),Uh="colorcustom.rgb.",n4=(o,c,g,S)=>{const _=(st,ht)=>gd.config({invalidClass:c("invalid"),notify:{onValidate:At=>{vo(At,uB,{type:st})},onValid:At=>{vo(At,cB,{type:st,value:Fr.getValue(At)})},onInvalid:At=>{vo(At,Y6,{type:st,value:Fr.getValue(At)})}},validator:{validate:At=>{const qt=Fr.getValue(At),Dn=ht(qt)?jo.value(!0):jo.error(o("aria.input.invalid"));return $c.pure(Dn)},validateOnLoad:!1}}),H=(st,ht,At,qt,Dn)=>{const mn=o(Uh+"range"),on=la.parts.label({dom:{tag:"label",attributes:{"aria-label":qt}},components:[yi(At)]}),kn=la.parts.field({data:Dn,factory:Ib,inputAttributes:{type:"text",...ht==="hex"?{"aria-live":"polite"}:{}},inputClasses:[c("textfield")],inputBehaviours:pr([_(ht,st),Ga.config({})]),onSetValue:Or=>{gd.isInvalid(Or)&&gd.run(Or).get(M)}}),Zn=[on,kn],mr=ht!=="hex"?[la.parts["aria-descriptor"]({text:mn})]:[],Gn=Zn.concat(mr);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Gn}},K=(st,ht)=>{const At=b2(ht);return A2.getField(st,"hex").each(qt=>{Mo.isFocused(qt)||Fr.setValue(st,{hex:At.value})}),At},ve=(st,ht)=>{const At=ht.red,qt=ht.green,Dn=ht.blue;Fr.setValue(st,{red:At,green:qt,blue:Dn})},Ae=ia({dom:{tag:"div",classes:[c("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Ne=(st,ht)=>{Ae.getOpt(st).each(At=>{Po(At.element,"background-color","#"+ht.value)})};return _u({factory:()=>{const st={red:X(L.some(255)),green:X(L.some(255)),blue:X(L.some(255)),hex:X(L.some("ffffff"))},ht=(_o,na)=>{const wo=n3(na);ve(_o,wo),mn(wo)},At=_o=>st[_o].get(),qt=(_o,na)=>{st[_o].set(na)},Dn=()=>At("red").bind(_o=>At("green").bind(na=>At("blue").map(wo=>c1(_o,na,wo,1)))),mn=_o=>{const na=_o.red,wo=_o.green,Ns=_o.blue;qt("red",L.some(na)),qt("green",L.some(wo)),qt("blue",L.some(Ns))},on=(_o,na)=>{const wo=na.event;wo.type!=="hex"?qt(wo.type,L.none()):S(_o)},kn=(_o,na)=>{g(_o);const wo=kI(na);qt("hex",L.some(wo.value));const Ns=n3(wo);ve(_o,Ns),mn(Ns),vo(_o,Hh,{hex:wo}),Ne(_o,wo)},Zn=(_o,na,wo)=>{const Ns=parseInt(wo,10);qt(na,L.some(Ns)),Dn().each(Pr=>{const oo=K(_o,Pr);vo(_o,Hh,{hex:oo}),Ne(_o,oo)})},mr=_o=>_o.type==="hex",Gn=(_o,na)=>{const wo=na.event;mr(wo)?kn(_o,wo.value):Zn(_o,wo.type,wo.value)},Or=_o=>({label:o(Uh+_o+".label"),description:o(Uh+_o+".description")}),Mr=Or("red"),is=Or("green"),Gr=Or("blue"),Io=Or("hex");return Ta(A2.sketch(_o=>({dom:{tag:"form",classes:[c("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[_o.field("red",la.sketch(H(Z8,"red",Mr.label,Mr.description,255))),_o.field("green",la.sketch(H(Z8,"green",is.label,is.description,255))),_o.field("blue",la.sketch(H(Z8,"blue",Gr.label,Gr.description,255))),_o.field("hex",la.sketch(H(MI,"hex",Io.label,Io.description,"ffffff"))),Ae.asSpec()],formBehaviours:pr([gd.config({invalidClass:c("form-invalid")}),Jo("rgb-form-events",[qn(cB,Gn),qn(Y6,on),qn(uB,on)])])})),{apis:{updateHex:(_o,na)=>{Fr.setValue(_o,{hex:na.value}),ht(_o,na),Ne(_o,na)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(st,ht,At)=>{st.updateHex(ht,At)}},extraApis:{}})},Rj=(o,c)=>{const g=nh.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[c("sv-palette-spectrum")]}}),S=nh.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[c("sv-palette-thumb")],innerHtml:`<div class=${c("sv-palette-inner-thumb")} role="presentation"></div>`}}),_=(Ne,Ue)=>{const{width:Je,height:st}=Ne,ht=Ne.getContext("2d");if(ht===null)return;ht.fillStyle=Ue,ht.fillRect(0,0,Je,st);const At=ht.createLinearGradient(0,0,Je,0);At.addColorStop(0,"rgba(255,255,255,1)"),At.addColorStop(1,"rgba(255,255,255,0)"),ht.fillStyle=At,ht.fillRect(0,0,Je,st);const qt=ht.createLinearGradient(0,0,0,st);qt.addColorStop(0,"rgba(0,0,0,0)"),qt.addColorStop(1,"rgba(0,0,0,1)"),ht.fillStyle=qt,ht.fillRect(0,0,Je,st)},H=(Ne,Ue)=>{const Je=Ne.components()[0].element.dom,st=o3(Ue,100,100),ht=II(st);_(Je,U8(ht))},K=(Ne,Ue)=>{const Je=C5(n3(Ue));nh.setValue(Ne,{x:Je.saturation,y:100-Je.value})};return _u({factory:Ne=>{const Ue=F({x:0,y:0}),Je=(At,qt,Dn)=>{vo(At,W6,{value:Dn})},st=(At,qt,Dn,mn)=>{_(Dn.element.dom,U8(Kd))},ht=pr([xs.config({find:L.some}),Mo.config({})]);return nh.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[c("sv-palette")]},model:{mode:"xy",getInitialValue:Ue},rounded:!1,components:[g,S],onChange:Je,onInit:st,sliderBehaviours:ht})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ne,Ue,Je)=>{H(Ue,Je)},setThumb:(Ne,Ue,Je)=>{K(Ue,Je)}},extraApis:{}})},Dj=(o,c)=>{const g=_=>{const H=n4(o,c,_.onValidHex,_.onInvalidHex),K=Rj(o,c),ve=Gn=>(100-Gn)/100*360,Ae=Gn=>100-Gn/360*100,Ne={paletteRgba:X(Kd),paletteHue:X(0)},Ue=ia(e4(o,c)),Je=ia(K.sketch({})),st=ia(H.sketch({})),ht=(Gn,Or,Mr)=>{Je.getOpt(Gn).each(is=>{K.setHue(is,Mr)})},At=(Gn,Or)=>{st.getOpt(Gn).each(Mr=>{H.updateHex(Mr,Or)})},qt=(Gn,Or,Mr)=>{Ue.getOpt(Gn).each(is=>{nh.setValue(is,Ae(Mr))})},Dn=(Gn,Or)=>{Je.getOpt(Gn).each(Mr=>{K.setThumb(Mr,Or)})},mn=(Gn,Or)=>{const Mr=n3(Gn);Ne.paletteRgba.set(Mr),Ne.paletteHue.set(Or)},on=(Gn,Or,Mr,is)=>{mn(Or,Mr),pe(is,Gr=>{Gr(Gn,Or,Mr)})},kn=()=>{const Gn=[At];return(Or,Mr)=>{const is=Mr.event.value,Gr=Ne.paletteHue.get(),Io=o3(Gr,is.x,100-is.y),_o=HI(Io);on(Or,_o,Gr,Gn)}},Zn=()=>{const Gn=[ht,At];return(Or,Mr)=>{const is=ve(Mr.event.value),Gr=Ne.paletteRgba.get(),Io=C5(Gr),_o=o3(is,Io.saturation,Io.value),na=HI(_o);on(Or,na,is,Gn)}},mr=()=>{const Gn=[ht,qt,Dn];return(Or,Mr)=>{const is=Mr.event.hex,Gr=bX(is);on(Or,is,Gr.hue,Gn)}};return{uid:_.uid,dom:_.dom,components:[Je.asSpec(),Ue.asSpec(),st.asSpec()],behaviours:pr([Jo("colour-picker-events",[qn(Hh,mr()),qn(W6,kn()),qn(J5,Zn())]),xs.config({find:Gn=>st.getOpt(Gn)}),yo.config({mode:"acyclic"})])}};return _u({name:"ColourPicker",configFields:[er("dom"),Mn("onValidHex",M),Mn("onInvalidHex",M)],factory:g})},Ff={self:()=>xs.config({find:L.some}),memento:o=>xs.config({find:o.getOpt}),childAt:o=>xs.config({find:c=>to(c.element,o).bind(g=>c.getSystem().getByDom(g).toOptional())})},g3=uo([Mn("preprocess",z),Mn("postprocess",z)]),p3=(o,c)=>{const g=El("RepresentingConfigs.memento processors",g3,c);return Fr.config({store:{mode:"manual",getValue:S=>{const _=o.get(S),H=Fr.getValue(_);return g.postprocess(H)},setValue:(S,_)=>{const H=g.preprocess(_),K=o.get(S);Fr.setValue(K,H)}}})},v1=(o,c,g)=>Fr.config({store:{mode:"manual",...o.map(S=>({initialValue:S})).getOr({}),getValue:c,setValue:g}}),X6=(o,c,g)=>v1(o,S=>c(S.element),(S,_)=>g(S.element,_)),dB=o=>X6(o,KS,Kp),v3=o=>Fr.config({store:{mode:"memory",initialValue:o}}),Ij={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},Nj=o=>c=>o.translate(Ij[c]),Bj=(o,c,g)=>{const S=Ae=>"tox-"+Ae,_=Dj(Nj(c),S),H=Ae=>{vo(Ae,ap,{name:"hex-valid",value:!0})},K=Ae=>{vo(Ae,ap,{name:"hex-valid",value:!1})},ve=ia(_.sketch({dom:{tag:"div",classes:[S("color-picker-container")],attributes:{role:"presentation"}},onValidHex:H,onInvalidHex:K}));return{dom:{tag:"div"},components:[ve.asSpec()],behaviours:pr([v1(g,Ae=>{const Ne=ve.get(Ae);return xs.getCurrent(Ne).bind(st=>Fr.getValue(st).hex).map(st=>"#"+Dt(st,"#")).getOr("")},(Ae,Ne)=>{const Ue=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Je=L.from(Ue.exec(Ne)).bind(At=>le(At,1)),st=ve.get(Ae);xs.getCurrent(st).fold(()=>{console.log("Can not find form")},At=>{Fr.setValue(At,{hex:Je.getOr("")}),A2.getField(At,"hex").each(qt=>{ks(qt,di())})})}),Ff.self()])}};var Qj=tinymce.util.Tools.resolve("tinymce.Resource");const Fj=o=>vn(o,"init"),hB=o=>{const c=gs(),g=ia({dom:{tag:o.tag}}),S=gs();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pr([Jo("custom-editor-events",[Ca(_=>{g.getOpt(_).each(H=>{(Fj(o)?o.init(H.element.dom):Qj.load(o.scriptId,o.scriptUrl).then(K=>K(H.element.dom,o.settings))).then(K=>{S.on(ve=>{K.setValue(ve)}),S.clear(),c.set(K)})})})]),v1(L.none(),()=>c.get().fold(()=>S.get().getOr(""),_=>_.getValue()),(_,H)=>{c.get().fold(()=>S.set(H),K=>K.setValue(H))}),Ff.self()]),components:[g.asSpec()]}};var up=tinymce.util.Tools.resolve("tinymce.util.Tools");const Vj=(o,c)=>{const g=up.explode(c.getOption("images_file_types")),S=_=>Te(g,H=>mt(_.name.toLowerCase(),`.${H.toLowerCase()}`));return xe(ze(o),S)},mB=(o,c,g)=>{const S=(st,ht)=>{ht.stop()},_=st=>(ht,At)=>{pe(st,qt=>{qt(ht,At)})},H=(st,ht)=>{var At;if(!Co.isDisabled(st)){const qt=ht.event.raw;ve(st,(At=qt.dataTransfer)===null||At===void 0?void 0:At.files)}},K=(st,ht)=>{const At=ht.event.raw.target;ve(st,At.files)},ve=(st,ht)=>{ht&&(Fr.setValue(st,Vj(ht,c)),vo(st,df,{name:o.name}))},Ae=ia({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pr([Jo("input-file-events",[Sm($i()),Sm(Ac())])])}),Ne=st=>({uid:st.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pr([v3(g.getOr([])),Ff.self(),Co.config({}),as.config({toggleClass:"dragenter",toggleOnExecute:!1}),Jo("dropzone-events",[qn("dragenter",_([S,as.toggle])),qn("dragleave",_([S,as.toggle])),qn("dragover",S),qn("drop",_([S,H])),qn(Yi(),K)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[yi(c.translate("Drop an image here"))]},Dl.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[yi(c.translate("Browse for an image")),Ae.asSpec()],action:ht=>{Ae.get(ht).element.dom.click()},buttonBehaviours:pr([Ga.config({}),tl.button(c.isDisabled),gl()])})]}]}),Ue=o.label.map(st=>eh(st,c)),Je=la.parts.field({factory:{sketch:Ne}});return c3(Ue,Je,["tox-form__group--stretched"],[])},zj=(o,c)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${o.columns}col`]},components:ne(o.items,c.interpreter)}),gB=(o,c)=>{let g=null,S=null;return{cancel:()=>{y(g)||(clearTimeout(g),g=null,S=null)},throttle:(...K)=>{S=K,y(g)&&(g=setTimeout(()=>{const ve=S;g=null,S=null,o.apply(null,ve)},c))}}},y3=(o,c)=>{let g=null;return{cancel:()=>{y(g)||(clearTimeout(g),g=null)},throttle:(...H)=>{y(g)&&(g=setTimeout(()=>{g=null,o.apply(null,H)},c))}}},G6=(o,c)=>{let g=null;const S=()=>{y(g)||(clearTimeout(g),g=null)};return{cancel:S,throttle:(...H)=>{S(),g=setTimeout(()=>{g=null,o.apply(null,H)},c)}}},r4=Kr("alloy-fake-before-tabstop"),j6=Kr("alloy-fake-after-tabstop"),pB=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:pr([Mo.config({ignore:!0}),Ga.config({})])}),vB=(o,c)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[pB([r4]),c,pB([j6])],behaviours:pr([Ff.childAt(1)])}),yB=(o,c)=>{vo(o,_s(),{raw:{which:9,shiftKey:c}})},bB=(o,c)=>{const g=c.element;Ji(g,r4)?yB(o,!0):Ji(g,j6)&&yB(o,!1)},b3=o=>i3(o,["."+r4,"."+j6].join(","),Y),O3=Kr("update-dialog"),o4=Kr("update-title"),fp=Kr("update-body"),s4=Kr("update-footer"),q6=Kr("body-send-message"),x3=Kr("dialog-focus-shifted"),S3=jf().browser,P2=S3.isSafari(),a4=S3.isFirefox(),K6=P2||a4,OB=S3.isChromium(),Zj=({scrollTop:o,scrollHeight:c,clientHeight:g})=>Math.ceil(o)+g>=c,xB=(o,c)=>o.scrollTo(0,c==="bottom"?99999999:c),Hj=(o,c)=>{const g=o.body;return L.from(!/^<!DOCTYPE (html|HTML)/.test(c)&&(!OB&&!P2||C(g)&&(g.scrollTop!==0||Math.abs(g.scrollHeight-g.clientHeight)>1))?g:o.documentElement)},SB=(o,c,g)=>{const S=o.dom;L.from(S.contentDocument).fold(g,_=>{let H=0;const K=Hj(_,c).map(Ae=>(H=Ae.scrollTop,Ae)).forall(Zj),ve=()=>{const Ae=S.contentWindow;C(Ae)&&(K?xB(Ae,"bottom"):!K&&K6&&H!==0&&xB(Ae,H))};P2&&S.addEventListener("load",ve,{once:!0}),_.open(),_.write(c),_.close(),P2||ve()})},wB=it(K6,P2?500:200).map(o=>gB(SB,o)),TB=(o,c)=>{const g=X(o.getOr(""));return{getValue:S=>g.get(),setValue:(S,_)=>{if(g.get()!==_){const H=S.element,K=()=>Dr(H,"srcdoc",_);c?wB.fold(F(SB),ve=>ve.throttle)(H,_,K):K()}g.set(_)}}},Uj=(o,c,g)=>{const S="tox-dialog__iframe",_=o.transparent?[]:[`${S}--opaque`],H=o.border?["tox-navobj-bordered"]:[],K={...o.label.map(Je=>({title:Je})).getOr({}),...g.map(Je=>({srcdoc:Je})).getOr({}),...o.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},ve=TB(g,o.streamContent),Ae=o.label.map(Je=>eh(Je,c)),Ne=Je=>vB(L.from(H),{uid:Je.uid,dom:{tag:"iframe",attributes:K,classes:[S,..._]},behaviours:pr([Ga.config({}),Mo.config({}),v1(g,ve.getValue,ve.setValue),lu.config({channels:{[x3]:{onReceive:(st,ht)=>{ht.newFocus.each(At=>{dr(st.element).each(qt=>{(Jt(st.element,At)?ki:Xa)(qt,"tox-navobj-bordered-focus")})})}}}})])}),Ue=la.parts.field({factory:{sketch:Ne}});return c3(Ae,Ue,["tox-form__group--stretched"],[])},Wj=o=>new Promise((c,g)=>{const S=()=>{H(),c(o)},_=[_c(o,"load",S),_c(o,"error",()=>{H(),g("Unable to load data from image: "+o.dom.src)})],H=()=>pe(_,K=>K.unbind());o.dom.complete&&S()}),Yj=(o,c,g,S,_)=>{const H=g*_,K=S*_,ve=Math.max(0,o/2-H/2),Ae=Math.max(0,c/2-K/2);return{left:ve.toString()+"px",top:Ae.toString()+"px",width:H.toString()+"px",height:K.toString()+"px"}},i4=(o,c,g)=>{const S=Si(o),_=Za(o);return Math.min(S/c,_/g,1)},Xj=(o,c)=>{const g=X(c.getOr({url:""})),S=ia({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:c.map(Ae=>({src:Ae.url})).getOr({})}}),_=ia({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[S.asSpec()]}),H=(Ae,Ne)=>{const Ue={url:Ne.url};Ne.zoom.each(st=>Ue.zoom=st),Ne.cachedWidth.each(st=>Ue.cachedWidth=st),Ne.cachedHeight.each(st=>Ue.cachedHeight=st),g.set(Ue);const Je=()=>{const{cachedWidth:st,cachedHeight:ht,zoom:At}=Ue;if(!x(st)&&!x(ht)){if(x(At)){const Dn=i4(Ae.element,st,ht);Ue.zoom=Dn}const qt=Yj(Si(Ae.element),Za(Ae.element),st,ht,Ue.zoom);_.getOpt(Ae).each(Dn=>{zi(Dn.element,qt)})}};S.getOpt(Ae).each(st=>{const ht=st.element;Ne.url!==oa(ht,"src")&&(Dr(ht,"src",Ne.url),Xa(Ae.element,"tox-imagepreview__loaded")),Je(),Wj(ht).then(At=>{Ae.getSystem().isConnected()&&(ki(Ae.element,"tox-imagepreview__loaded"),Ue.cachedWidth=At.dom.naturalWidth,Ue.cachedHeight=At.dom.naturalHeight,Je())})})},K={};o.height.each(Ae=>K.height=Ae);const ve=c.map(Ae=>({url:Ae.url,zoom:L.from(Ae.zoom),cachedWidth:L.from(Ae.cachedWidth),cachedHeight:L.from(Ae.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:K,attributes:{role:"presentation"}},components:[_.asSpec()],behaviours:pr([Ff.self(),v1(ve,()=>g.get(),H)])}},Gj=(o,c)=>{const g="tox-label",S=o.align==="center"?[`${g}--center`]:[],_=o.align==="end"?[`${g}--end`]:[],H={dom:{tag:"label",classes:[g,...S,..._]},components:[yi(c.providers.translate(o.label))]},K=ne(o.items,c.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[H,...K],behaviours:pr([Ff.self(),Uo.config({}),dB(L.none()),yo.config({mode:"acyclic"})])}},J6=Kr("toolbar.button.execute"),CB=o=>rd((c,g)=>{md(o,c)(S=>{vo(c,J6,{buttonApi:S}),o.onAction(S)})}),Zb=Kr("common-button-display-events"),kB={[Ii()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[ef()]:["toolbar-button-events",Zb],[go()]:["focusing","alloy.base.behaviour",Zb]},w3=o=>Po(o.element,"width",Qa(o.element,"width")),AB=(o,c,g)=>Bh(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:g},c),l4=(o,c)=>AB(o,c,[]),y1=(o,c)=>AB(o,c,[Uo.config({})]),PB=(o,c,g)=>({dom:{tag:"span",classes:[`${c}__select-label`]},components:[yi(g.translate(o))],behaviours:pr([Uo.config({})])}),rh=Kr("update-menu-text"),b1=Kr("update-menu-icon"),c4=(o,c,g)=>{const S=X(M),_=o.text.map(st=>ia(PB(st,c,g.providers))),H=o.icon.map(st=>ia(y1(st,g.providers.icons))),K=(st,ht)=>{const At=Fr.getValue(st);return Mo.focus(At),vo(At,"keydown",{raw:ht.event.raw}),Jd.close(At),L.some(!0)},ve=o.role.fold(()=>({}),st=>({role:st})),Ae=o.tooltip.fold(()=>({}),st=>{const ht=g.providers.translate(st);return{title:ht,"aria-label":ht}}),Ne=Bh("chevron-down",{tag:"div",classes:[`${c}__select-chevron`]},g.providers.icons),Ue=Kr("common-button-display-events");return ia(Jd.sketch({...o.uid?{uid:o.uid}:{},...ve,dom:{tag:"button",classes:[c,`${c}--select`].concat(ne(o.classes,st=>`${c}--${st}`)),attributes:{...Ae}},components:p2([H.map(st=>st.asSpec()),_.map(st=>st.asSpec()),L.some(Ne)]),matchWidth:!0,useMinWidth:!0,onOpen:(st,ht,At)=>{o.searchable&&aG(At)},dropdownBehaviours:pr([...o.dropdownBehaviours,tl.button(()=>o.disabled||g.providers.isDisabled()),gl(),d3.config({}),Uo.config({}),Jo("dropdown-events",[l1(o,S),rp(o,S)]),Jo(Ue,[Ca((st,ht)=>w3(st))]),Jo("menubutton-update-display-text",[qn(rh,(st,ht)=>{_.bind(At=>At.getOpt(st)).each(At=>{Uo.set(At,[yi(g.providers.translate(ht.event.text))])})}),qn(b1,(st,ht)=>{H.bind(At=>At.getOpt(st)).each(At=>{Uo.set(At,[y1(ht.event.icon,g.providers.icons)])})})])]),eventOrder:Ta(kB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ef()]:["toolbar-button-events","dropdown-events",Ue]}),sandboxBehaviours:pr([yo.config({mode:"special",onLeft:K,onRight:K}),Jo("dropdown-sandbox-events",[qn(FL,(st,ht)=>{tG(st),ht.stop()}),qn(VL,(st,ht)=>{nG(st,ht),ht.stop()})])]),lazySink:g.getSink,toggleClass:`${c}--active`,parts:{menu:{...c2(!1,o.columns,o.presets),fakeFocus:o.searchable,onHighlightItem:v6,onCollapseMenu:(st,ht,At)=>{Ys.getHighlighted(At).each(qt=>{v6(st,At,qt)})},onDehighlightItem:sG}},getAnchorOverrides:()=>({maxHeightFunction:(st,ht)=>{$k()(st,ht-10)}}),fetch:st=>$c.nu(Q(o.fetch,st))})).asSpec()},jj=o=>h(o),MB=o=>o.type==="separator",qj=o=>vn(o,"getSubmenuItems"),Kj={type:"separator"},EB=(o,c)=>{const g=ke(o,(S,_)=>jj(_)?_===""?S:_==="|"?S.length>0&&!MB(S[S.length-1])?S.concat([Kj]):S:vn(c,_.toLowerCase())?S.concat([c[_.toLowerCase()]]):S:S.concat([_]),[]);return g.length>0&&MB(g[g.length-1])&&g.pop(),g},Jj=(o,c)=>{const g=o.getSubmenuItems(),S=RB(g,c),_=Ta(S.menus,{[o.value]:S.items}),H=Ta(S.expansions,{[o.value]:o.value});return{item:o,menus:_,expansions:H}},_B=o=>{const c=Bt(o,"value").getOrThunk(()=>Kr("generated-menu-item"));return Ta({value:c},o)},RB=(o,c)=>{const g=EB(h(o)?o.split(" "):o,c);return Le(g,(S,_)=>{if(qj(_)){const H=_B(_),K=Jj(H,c);return{menus:Ta(S.menus,K.menus),items:[K.item,...S.items],expansions:Ta(S.expansions,K.expansions)}}else return{...S,items:[_,...S.items]}},{menus:{},expansions:{},items:[]})},eq=o=>o.search.fold(()=>({searchMode:"no-search"}),c=>({searchMode:"search-with-field",placeholder:c.placeholder})),tq=o=>o.search.fold(()=>({searchMode:"no-search"}),c=>({searchMode:"search-with-results"})),M2=(o,c,g,S)=>{const _=Kr("primary-menu"),H=RB(o,g.shared.providers.menuItems());if(H.items.length===0)return L.none();const K=eq(S),ve=dN(_,H.items,c,g,S.isHorizontalMenu,K),Ae=tq(S),Ne=je(H.menus,(Je,st)=>dN(st,Je,c,g,!1,Ae)),Ue=Ta(Ne,vt(_,ve));return L.from(a1.tieredData(_,Ue,H.expansions))},e7=o=>!vn(o,"items"),DB="data-value",$B=(o,c,g,S)=>ne(g,_=>e7(_)?{type:"togglemenuitem",text:_.text,value:_.value,active:_.value===S,onAction:()=>{Fr.setValue(o,_.value),vo(o,df,{name:c}),Mo.focus(o)}}:{type:"nestedmenuitem",text:_.text,getSubmenuItems:()=>$B(o,c,_.items,S)}),t7=(o,c)=>Xe(o,g=>e7(g)?it(g.value===c,g):t7(g.items,c)),nq=(o,c,g)=>{const S=c.shared.providers,_=g.bind(Ae=>t7(o.items,Ae)).orThunk(()=>Ce(o.items).filter(e7)),H=o.label.map(Ae=>eh(Ae,S)),K=la.parts.field({dom:{},factory:{sketch:Ae=>c4({uid:Ae.uid,text:_.map(Ne=>Ne.text),icon:L.none(),tooltip:o.label,role:L.none(),fetch:(Ne,Ue)=>{const Je=$B(Ne,o.name,o.items,Fr.getValue(Ne));Ue(M2(Je,Hm.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:L.none()}))},onSetup:F(M),getApi:F({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ga.config({}),v1(_.map(Ne=>Ne.value),Ne=>oa(Ne.element,DB),(Ne,Ue)=>{t7(o.items,Ue).each(Je=>{Dr(Ne.element,DB,Je.value),vo(Ne,rh,{text:Je.text})})})]},"tox-listbox",c.shared)}}),ve={dom:{tag:"div",classes:["tox-listboxfield"]},components:[K]};return la.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ie([H.toArray(),[ve]]),fieldBehaviours:pr([Co.config({disabled:F(!o.enabled),onDisabled:Ae=>{la.getField(Ae).each(Co.disable)},onEnabled:Ae=>{la.getField(Ae).each(Co.enable)}})])})},n7=(o,c)=>({dom:{tag:"div",classes:o.classes},components:ne(o.items,c.shared.interpreter)}),rq=(o,c)=>{const g=ne(o.options,_=>({dom:{tag:"option",value:_.value,innerHtml:_.text}})),S=o.data.map(_=>vt("initialValue",_)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:g,behaviours:Ni(o.selectBehaviours,[Mo.config({}),Fr.config({store:{mode:"manual",getValue:_=>Ch(_.element),setValue:(_,H)=>{const K=Ce(o.options);Ze(o.options,Ae=>Ae.value===H).isSome()?b0(_.element,H):_.element.dom.selectedIndex===-1&&H===""&&K.each(Ae=>b0(_.element,Ae.value))},...S}})])}},oq=_u({name:"HtmlSelect",configFields:[er("options"),el("selectBehaviours",[Mo,Fr]),Mn("selectClasses",[]),Mn("selectAttributes",{}),Ws("data")],factory:rq}),sq=(o,c,g)=>{const S=ne(o.items,Ae=>({text:c.translate(Ae.text),value:Ae.value})),_=o.label.map(Ae=>eh(Ae,c)),H=la.parts.field({dom:{},...g.map(Ae=>({data:Ae})).getOr({}),selectAttributes:{size:o.size},options:S,factory:oq,selectBehaviours:pr([Co.config({disabled:()=>!o.enabled||c.isDisabled()}),Ga.config({}),Jo("selectbox-change",[qn(Yi(),(Ae,Ne)=>{vo(Ae,df,{name:o.name})})])])}),K=o.size>1?L.none():L.some(Bh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},c.icons)),ve={dom:{tag:"div",classes:["tox-selectfield"]},components:Ie([[H],K.toArray()])};return la.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ie([_.toArray(),[ve]]),fieldBehaviours:pr([Co.config({disabled:()=>!o.enabled||c.isDisabled(),onDisabled:Ae=>{la.getField(Ae).each(Co.disable)},onEnabled:Ae=>{la.getField(Ae).each(Co.enable)}}),gl()])})},T3=F([Mn("field1Name","field1"),Mn("field2Name","field2"),zd("onLockedChange"),$g(["lockClass"]),Mn("locked",!1),If.field("coupledFieldBehaviours",[xs,Fr])]),r7=(o,c,g)=>ka(o,c,g).bind(xs.getCurrent),LB=(o,c)=>ic({factory:la,name:o,overrides:g=>({fieldBehaviours:pr([Jo("coupled-input-behaviour",[qn(di(),S=>{r7(S,g,c).each(_=>{ka(S,g,"lock").each(H=>{as.isOn(H)&&g.onLockedChange(S,_,H)})})})])])})}),aq=F([LB("field1","field2"),LB("field2","field1"),ic({factory:Dl,schema:[er("dom")],name:"lock",overrides:o=>({buttonBehaviours:pr([as.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),o7=(o,c,g,S)=>({uid:o.uid,dom:o.dom,components:c,behaviours:If.augment(o.coupledFieldBehaviours,[xs.config({find:L.some}),Fr.config({store:{mode:"manual",getValue:_=>{const H=mv(_,o,["field1","field2"]);return{[o.field1Name]:Fr.getValue(H.field1()),[o.field2Name]:Fr.getValue(H.field2())}},setValue:(_,H)=>{const K=mv(_,o,["field1","field2"]);En(H,o.field1Name)&&Fr.setValue(K.field1(),H[o.field1Name]),En(H,o.field2Name)&&Fr.setValue(K.field2(),H[o.field2Name])}}})]),apis:{getField1:_=>ka(_,o,"field1"),getField2:_=>ka(_,o,"field2"),getLock:_=>ka(_,o,"lock")}}),vd=lc({name:"FormCoupledInputs",configFields:T3(),partFields:aq(),factory:o7,apis:{getField1:(o,c)=>o.getField1(c),getField2:(o,c)=>o.getField2(c),getLock:(o,c)=>o.getLock(c)}}),s7=o=>{const c={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},g=_=>_ in c?c[_]:1;let S=o.value.toFixed(g(o.unit));return S.indexOf(".")!==-1&&(S=S.replace(/\.?0*$/,"")),S+o.unit},u4=o=>{const g=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(g!==null){const S=parseFloat(g[1]),_=g[2];return jo.value({value:S,unit:_})}else return jo.error(o)},IB=(o,c)=>{const g={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},S=_=>vn(g,_);return o.unit===c?L.some(o.value):S(o.unit)&&S(c)?g[o.unit]===g[c]?L.some(o.value):L.some(o.value/g[o.unit]*g[c]):L.none()},a7=o=>L.none(),NB=(o,c)=>g=>IB(g,c).map(S=>({value:S*o,unit:c})),BB=(o,c)=>{const g=u4(o).toOptional(),S=u4(c).toOptional();return Xn(g,S,(_,H)=>IB(_,H.unit).map(K=>H.value/K).map(K=>NB(K,H.unit)).getOr(a7)).getOr(a7)},iq=(o,c)=>{let g=a7;const S=Kr("ratio-event"),_=Je=>Bh(Je,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Je]},c.icons),H=vd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:c.translate(o.label.getOr("Constrain proportions"))}},components:[_("lock"),_("unlock")],buttonBehaviours:pr([Co.config({disabled:()=>!o.enabled||c.isDisabled()}),gl(),Ga.config({})])}),K=Je=>({dom:{tag:"div",classes:["tox-form__group"]},components:Je}),ve=Je=>la.parts.field({factory:Ib,inputClasses:["tox-textfield"],inputBehaviours:pr([Co.config({disabled:()=>!o.enabled||c.isDisabled()}),gl(),Ga.config({}),Jo("size-input-events",[qn(Do(),(st,ht)=>{vo(st,S,{isField1:Je})}),qn(Yi(),(st,ht)=>{vo(st,df,{name:o.name})})])]),selectOnFocus:!1}),Ae=Je=>({dom:{tag:"label",classes:["tox-label"]},components:[yi(c.translate(Je))]}),Ne=vd.parts.field1(K([la.parts.label(Ae("Width")),ve(!0)])),Ue=vd.parts.field2(K([la.parts.label(Ae("Height")),ve(!1)]));return vd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Ne,Ue,K([Ae(Vw),H])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Je,st,ht)=>{u4(Fr.getValue(Je)).each(At=>{g(At).each(qt=>{Fr.setValue(st,s7(qt))})})},coupledFieldBehaviours:pr([Co.config({disabled:()=>!o.enabled||c.isDisabled(),onDisabled:Je=>{vd.getField1(Je).bind(la.getField).each(Co.disable),vd.getField2(Je).bind(la.getField).each(Co.disable),vd.getLock(Je).each(Co.disable)},onEnabled:Je=>{vd.getField1(Je).bind(la.getField).each(Co.enable),vd.getField2(Je).bind(la.getField).each(Co.enable),vd.getLock(Je).each(Co.enable)}}),gl(),Jo("size-input-events2",[qn(S,(Je,st)=>{const ht=st.event.isField1,At=ht?vd.getField1(Je):vd.getField2(Je),qt=ht?vd.getField2(Je):vd.getField1(Je),Dn=At.map(Fr.getValue).getOr(""),mn=qt.map(Fr.getValue).getOr("");g=BB(Dn,mn)})])])})},QB=(o,c,g)=>{const S=nh.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[yi(c.translate(o.label))]}),_=nh.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),H=nh.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return nh.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o.min,maxX:o.max,getInitialValue:F(g.getOrThunk(()=>(Math.abs(o.max)-Math.abs(o.min))/2))},components:[S,_,H],sliderBehaviours:pr([Ff.self(),Mo.config({})]),onChoose:(K,ve,Ae)=>{vo(K,df,{name:o.name,value:Ae})}})},FB=(o,c)=>{const g=ve=>({dom:{tag:"th",innerHtml:c.translate(ve)}}),S=ve=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ne(ve,g)}]}),_=ve=>({dom:{tag:"td",innerHtml:c.translate(ve)}}),H=ve=>({dom:{tag:"tr"},components:ne(ve,_)}),K=ve=>({dom:{tag:"tbody"},components:ne(ve,H)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[S(o.header),K(o.cells)],behaviours:pr([Ga.config({}),Mo.config({})])}},VB=(o,c)=>{const g=o.label.map(ht=>eh(ht,c)),S=[Co.config({disabled:()=>o.disabled||c.isDisabled()}),gl(),yo.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:ht=>(ks(ht,f3),L.some(!0))}),Jo("textfield-change",[qn(di(),(ht,At)=>{vo(ht,df,{name:o.name})}),qn(Li(),(ht,At)=>{vo(ht,df,{name:o.name})})]),Ga.config({})],_=o.validation.map(ht=>gd.config({getRoot:At=>dr(At.element),invalidClass:"tox-invalid",validator:{validate:At=>{const qt=Fr.getValue(At),Dn=ht.validator(qt);return $c.pure(Dn===!0?jo.value(qt):jo.error(Dn))},validateOnLoad:ht.validateOnLoad}})).toArray(),H=o.placeholder.fold(F({}),ht=>({placeholder:c.translate(ht)})),K=o.inputMode.fold(F({}),ht=>({inputmode:ht})),ve={...H,...K},Ae=la.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(ht=>({data:ht})).getOr({}),inputAttributes:ve,inputClasses:[o.classname],inputBehaviours:pr(Ie([S,_])),selectOnFocus:!1,factory:Ib}),Ne=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[Ae]}:Ae,Je=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),st=[Co.config({disabled:()=>o.disabled||c.isDisabled(),onDisabled:ht=>{la.getField(ht).each(Co.disable)},onEnabled:ht=>{la.getField(ht).each(Co.enable)}}),gl()];return c3(g,Ne,Je,st)},zB=(o,c,g)=>VB({name:o.name,multiline:!1,label:o.label,inputMode:o.inputMode,placeholder:o.placeholder,flex:!1,disabled:!o.enabled,classname:"tox-textfield",validation:L.none(),maximized:o.maximized,data:g},c),ZB=(o,c,g)=>VB({name:o.name,multiline:!0,label:o.label,inputMode:L.none(),placeholder:o.placeholder,flex:!0,disabled:!o.enabled,classname:"tox-textarea",validation:L.none(),maximized:o.maximized,data:g},c),E2=(o,c)=>c.getAnimationRoot.fold(()=>o.element,g=>g(o)),Pv=o=>o.dimension.property,Hb=(o,c)=>o.dimension.getDimension(c),f4=(o,c)=>{const g=E2(o,c);tf(g,[c.shrinkingClass,c.growingClass])},d4=(o,c)=>{Xa(o.element,c.openClass),ki(o.element,c.closedClass),Po(o.element,Pv(c),"0px"),li(o.element)},i7=(o,c)=>{Xa(o.element,c.closedClass),ki(o.element,c.openClass),Zo(o.element,Pv(c))},l7=(o,c,g,S)=>{g.setCollapsed(),Po(o.element,Pv(c),Hb(c,o.element)),f4(o,c),d4(o,c),c.onStartShrink(o),c.onShrunk(o)},lq=(o,c,g,S)=>{const _=S.getOrThunk(()=>Hb(c,o.element));g.setCollapsed(),Po(o.element,Pv(c),_),li(o.element);const H=E2(o,c);Xa(H,c.growingClass),ki(H,c.shrinkingClass),d4(o,c),c.onStartShrink(o)},HB=(o,c,g)=>{const S=Hb(c,o.element);(S==="0px"?l7:lq)(o,c,g,L.some(S))},h4=(o,c,g)=>{const S=E2(o,c),_=Ji(S,c.shrinkingClass),H=Hb(c,o.element);i7(o,c);const K=Hb(c,o.element);(_?()=>{Po(o.element,Pv(c),H),li(o.element)}:()=>{d4(o,c)})(),Xa(S,c.shrinkingClass),ki(S,c.growingClass),i7(o,c),Po(o.element,Pv(c),K),g.setExpanded(),c.onStartGrow(o)},cq=(o,c,g)=>{if(g.isExpanded()){Zo(o.element,Pv(c));const S=Hb(c,o.element);Po(o.element,Pv(c),S)}},uq=(o,c,g)=>{g.isExpanded()||h4(o,c,g)},fq=(o,c,g)=>{g.isExpanded()&&HB(o,c,g)},UB=(o,c,g)=>{g.isExpanded()&&l7(o,c,g)},dq=(o,c,g)=>g.isExpanded(),WB=(o,c,g)=>g.isCollapsed(),YB=(o,c,g)=>{const S=E2(o,c);return Ji(S,c.growingClass)===!0},c7=(o,c,g)=>{const S=E2(o,c);return Ji(S,c.shrinkingClass)===!0};var hq=Object.freeze({__proto__:null,refresh:cq,grow:uq,shrink:fq,immediateShrink:UB,hasGrown:dq,hasShrunk:WB,isGrowing:YB,isShrinking:c7,isTransitioning:(o,c,g)=>YB(o,c)||c7(o,c),toggleGrow:(o,c,g)=>{(g.isExpanded()?HB:h4)(o,c,g)},disableTransitions:f4,immediateGrow:(o,c,g)=>{g.isExpanded()||(i7(o,c),Po(o.element,Pv(c),Hb(c,o.element)),f4(o,c),g.setExpanded(),c.onStartGrow(o),c.onGrown(o))}}),gq=Object.freeze({__proto__:null,exhibit:(o,c,g)=>{const S=c.expanded;return ku(S?{classes:[c.openClass],styles:{}}:{classes:[c.closedClass],styles:vt(c.dimension.property,"0px")})},events:(o,c)=>Ea([xh(Ki(),(g,S)=>{S.event.raw.propertyName===o.dimension.property&&(f4(g,o),c.isExpanded()&&Zo(g.element,o.dimension.property),(c.isExpanded()?o.onGrown:o.onShrunk)(g))})])}),XB=[er("closedClass"),er("openClass"),er("shrinkingClass"),er("growingClass"),Ws("getAnimationRoot"),Rs("onShrunk"),Rs("onStartShrink"),Rs("onGrown"),Rs("onStartGrow"),Mn("expanded",!1),Zc("dimension",Os("property",{width:[ha("property","width"),ha("getDimension",o=>Si(o)+"px")],height:[ha("property","height"),ha("getDimension",o=>Za(o)+"px")]}))],pq=Object.freeze({__proto__:null,init:o=>{const c=X(o.expanded),g=()=>"expanded: "+c.get();return Cu({isExpanded:()=>c.get()===!0,isCollapsed:()=>c.get()===!1,setCollapsed:Q(c.set,!1),setExpanded:Q(c.set,!0),readState:g})}});const Vf=dl({fields:XB,name:"sliding",active:gq,apis:hq,state:pq}),u7=o=>({isEnabled:()=>!Co.isDisabled(o),setEnabled:c=>Co.set(o,!c),setActive:c=>{const g=o.element;c?(ki(g,"tox-tbtn--enabled"),Dr(g,"aria-pressed",!0)):(Xa(g,"tox-tbtn--enabled"),sa(g,"aria-pressed"))},isActive:()=>Ji(o.element,"tox-tbtn--enabled"),setText:c=>{vo(o,rh,{text:c})},setIcon:c=>vo(o,b1,{icon:c})}),C3=(o,c,g,S,_=!0)=>c4({text:o.text,icon:o.icon,tooltip:o.tooltip,searchable:o.search.isSome(),role:S,fetch:(H,K)=>{const ve={pattern:o.search.isSome()?iG(H):""};o.fetch(Ae=>{K(M2(Ae,Hm.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:o.search}))},ve,u7(H))},onSetup:o.onSetup,getApi:u7,columns:1,presets:"normal",classes:[],dropdownBehaviours:[..._?[Ga.config({})]:[]]},c,g.shared),vq=(o,c,g)=>{const S=H=>K=>{const ve=!K.isActive();K.setActive(ve),H.storage.set(ve),g.shared.getSink().each(Ae=>{c().getOpt(Ae).each(Ne=>{cu(Ne.element),vo(Ne,ap,{name:H.name,value:H.storage.get()})})})},_=H=>K=>{K.setActive(H.storage.get())};return H=>{H(ne(o,K=>{const ve=K.text.fold(()=>({}),Ae=>({text:Ae}));return{type:K.type,active:!1,...ve,onAction:S(K),onSetup:_(K)}}))}},GB=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:o,"aria-label":o}},components:[yi(o)]}),f7=Kr("leaf-label-event-id"),m4=({leaf:o,onLeafAction:c,visible:g,treeId:S,selectedId:_,backstage:H})=>{const K=o.menu.map(Ae=>C3(Ae,"tox-mbtn",H,L.none(),g)),ve=[GB(o.title)];return K.each(Ae=>ve.push(Ae)),Dl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(g?["tox-tree--leaf__label--visible"]:[])},components:ve,role:"treeitem",action:Ae=>{c(o.id),Ae.getSystem().broadcastOn([`update-active-item-${S}`],{value:o.id})},eventOrder:{[_s()]:[f7,"keying"]},buttonBehaviours:pr([...g?[Ga.config({})]:[],as.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),lu.config({channels:{[`update-active-item-${S}`]:{onReceive:(Ae,Ne)=>{(Ne.value===o.id?as.on:as.off)(Ae)}}}}),Jo(f7,[Ca((Ae,Ne)=>{_.each(Ue=>{(Ue===o.id?as.on:as.off)(Ae)})}),qn(_s(),(Ae,Ne)=>{const Ue=Ne.event.raw.code==="ArrowLeft",Je=Ne.event.raw.code==="ArrowRight";Ue?(Pu(Ae.element,".tox-tree--directory").each(st=>{Ae.getSystem().getByDom(st).each(ht=>{ix(st,".tox-tree--directory__label").each(At=>{ht.getSystem().getByDom(At).each(Mo.focus)})})}),Ne.stop()):Je&&Ne.stop()})])])})},jB=(o,c,g)=>Bh(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:g},c),g4=(o,c)=>jB(o,c,[]),qB=Kr("directory-label-event-id"),yq=({directory:o,visible:c,noChildren:g,backstage:S})=>{const _=o.menu.map(ve=>C3(ve,"tox-mbtn",S,L.none())),H=[{dom:{tag:"div",classes:["tox-chevron"]},components:[g4("chevron-right",S.shared.providers.icons)]},GB(o.title)];_.each(ve=>{H.push(ve)});const K=ve=>{Pu(ve.element,".tox-tree--directory").each(Ae=>{ve.getSystem().getByDom(Ae).each(Ne=>{const Ue=!as.isOn(Ne);as.toggle(Ne),vo(ve,"expand-tree-node",{expanded:Ue,node:o.id})})})};return Dl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(c?["tox-tree--directory__label--visible"]:[])},components:H,action:K,eventOrder:{[_s()]:[qB,"keying"]},buttonBehaviours:pr([...c?[Ga.config({})]:[],Jo(qB,[qn(_s(),(ve,Ae)=>{const Ne=Ae.event.raw.code==="ArrowRight",Ue=Ae.event.raw.code==="ArrowLeft";Ne&&g&&Ae.stop(),(Ne||Ue)&&Pu(ve.element,".tox-tree--directory").each(Je=>{ve.getSystem().getByDom(Je).each(st=>{!as.isOn(st)&&Ne||as.isOn(st)&&Ue?(K(ve),Ae.stop()):Ue&&!as.isOn(st)&&(Pu(st.element,".tox-tree--directory").each(ht=>{ix(ht,".tox-tree--directory__label").each(At=>{st.getSystem().getByDom(At).each(Mo.focus)})}),Ae.stop())})})})])])})},bq=({children:o,onLeafAction:c,visible:g,treeId:S,expandedIds:_,selectedId:H,backstage:K})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(ve=>ve.type==="leaf"?m4({leaf:ve,selectedId:H,onLeafAction:c,visible:g,treeId:S,backstage:K}):p4({directory:ve,expandedIds:_,selectedId:H,onLeafAction:c,labelTabstopping:g,treeId:S,backstage:K})),behaviours:pr([Vf.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:g}),Uo.config({})])}),Oq=Kr("directory-event-id"),p4=({directory:o,onLeafAction:c,labelTabstopping:g,treeId:S,backstage:_,expandedIds:H,selectedId:K})=>{const{children:ve}=o,Ae=X(H),Ne=Je=>ve.map(st=>st.type==="leaf"?m4({leaf:st,selectedId:K,onLeafAction:c,visible:Je,treeId:S,backstage:_}):p4({directory:st,expandedIds:Ae.get(),selectedId:K,onLeafAction:c,labelTabstopping:Je,treeId:S,backstage:_})),Ue=H.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[yq({directory:o,visible:g,noChildren:o.children.length===0,backstage:_}),bq({children:ve,expandedIds:H,selectedId:K,onLeafAction:c,visible:Ue,treeId:S,backstage:_})],behaviours:pr([Jo(Oq,[Ca((Je,st)=>{as.set(Je,Ue)}),qn("expand-tree-node",(Je,st)=>{const{expanded:ht,node:At}=st.event;Ae.set(ht?[...Ae.get(),At]:Ae.get().filter(qt=>qt!==At))})]),as.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(Je,st)=>{const ht=Je.components()[1],At=Ne(st);st?Vf.grow(ht):Vf.shrink(ht),Uo.set(ht,At)}})])}},xq=Kr("tree-event-id"),Sq=(o,c)=>{const g=o.onLeafAction.getOr(M),S=o.onToggleExpand.getOr(M),_=o.defaultExpandedIds,H=X(_),K=X(o.defaultSelectedId),ve=Kr("tree-id"),Ae=(Ne,Ue)=>o.items.map(Je=>Je.type==="leaf"?m4({leaf:Je,selectedId:Ne,onLeafAction:g,visible:!0,treeId:ve,backstage:c}):p4({directory:Je,selectedId:Ne,onLeafAction:g,expandedIds:Ue,labelTabstopping:!0,treeId:ve,backstage:c}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:Ae(K.get(),H.get()),behaviours:pr([yo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Jo(xq,[qn("expand-tree-node",(Ne,Ue)=>{const{expanded:Je,node:st}=Ue.event;H.set(Je?[...H.get(),st]:H.get().filter(ht=>ht!==st)),S(H.get(),{expanded:Je,node:st})})]),lu.config({channels:{[`update-active-item-${ve}`]:{onReceive:(Ne,Ue)=>{K.set(L.some(Ue.value)),Uo.set(Ne,Ae(L.some(Ue.value),H.get()))}}}}),Uo.config({})])}};var KB=Object.freeze({__proto__:null,events:(o,c)=>{const S=o.stream.streams.setup(o,c);return Ea([qn(o.event,S),Sh(()=>c.cancel())].concat(o.cancelEvent.map(_=>[qn(_,()=>c.cancel())]).getOr([])))}});const d7=o=>{const c=X(null);return Cu({readState:()=>({timer:c.get()!==null?"set":"unset"}),setTimer:H=>{c.set(H)},cancel:()=>{const H=c.get();H!==null&&H.cancel()}})};var wq=Object.freeze({__proto__:null,throttle:d7,init:o=>o.stream.streams.state(o)});const JB=(o,c)=>{const g=o.stream,S=G6(o.onStream,g.delay);return c.setTimer(S),(_,H)=>{S.throttle(_,H),g.stopEvent&&H.stop()}};var Tq=[Zc("stream",Os("mode",{throttle:[er("delay"),Mn("stopEvent",!0),ha("streams",{setup:JB,state:d7})]})),Mn("event","input"),Ws("cancelEvent"),zd("onStream")];const h7=dl({fields:Tq,name:"streaming",active:KB,state:wq}),Ro=(o,c,g)=>{const S=Fr.getValue(g);Fr.setValue(c,S),m7(c)},_2=(o,c)=>{const g=o.element,S=Ch(g),_=g.dom;oa(g,"type")!=="number"&&c(_,S)},m7=o=>{_2(o,(c,g)=>c.setSelectionRange(g.length,g.length))},eQ=(o,c)=>{_2(o,(g,S)=>g.setSelectionRange(c,S.length))},tQ=(o,c,g)=>{if(o.selectsOver){const S=Fr.getValue(c),_=o.getDisplayText(S),H=Fr.getValue(g);return o.getDisplayText(H).indexOf(_)===0?L.some(()=>{Ro(o,c,g),eQ(c,_.length)}):L.none()}else return L.none()},v4=F("alloy.typeahead.itemexecute"),nQ=(o,c,g,S)=>{const _=(Je,st,ht)=>{o.previewing.set(!1);const At=Mi.getCoupled(Je,"sandbox");if(As.isOpen(At))xs.getCurrent(At).each(qt=>{Ys.getHighlighted(qt).fold(()=>{ht(qt)},()=>{WS(At,qt.element,"keydown",st)})});else{const qt=Dn=>{xs.getCurrent(Dn).each(ht)};D5(o,K(Je),Je,At,S,qt,mu.HighlightMenuAndItem).get(M)}},H=v8(o),K=Je=>st=>st.map(ht=>{const At=Nt(ht.menus),qt=re(At,mn=>xe(mn.items,on=>on.type==="item"));return Fr.getState(Je).update(ne(qt,mn=>mn.data)),ht}),ve=Je=>xs.getCurrent(Je),Ae="typeaheadevents",Ne=[Mo.config({}),Fr.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:Je=>Ch(Je.element),getFallbackEntry:Je=>({value:Je,meta:{}}),setValue:(Je,st)=>{b0(Je.element,o.model.getDisplayText(st))},...o.initialData.map(Je=>vt("initialValue",Je)).getOr({})}}),h7.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(Je,st)=>{const ht=Mi.getCoupled(Je,"sandbox");if(Mo.isFocused(Je)&&Ch(Je.element).length>=o.minChars){const qt=ve(ht).bind(mn=>Ys.getHighlighted(mn).map(Fr.getValue));o.previewing.set(!0);const Dn=mn=>{ve(ht).each(on=>{qt.fold(()=>{o.model.selectsOver&&Ys.highlightFirst(on)},kn=>{Ys.highlightBy(on,Zn=>Fr.getValue(Zn).value===kn.value),Ys.getHighlighted(on).orThunk(()=>(Ys.highlightFirst(on),L.none()))})})};D5(o,K(Je),Je,ht,S,Dn,mu.HighlightJustMenu).get(M)}},cancelEvent:Om()}),yo.config({mode:"special",onDown:(Je,st)=>(_(Je,st,Ys.highlightFirst),L.some(!0)),onEscape:Je=>{const st=Mi.getCoupled(Je,"sandbox");return As.isOpen(st)?(As.close(st),L.some(!0)):L.none()},onUp:(Je,st)=>(_(Je,st,Ys.highlightLast),L.some(!0)),onEnter:Je=>{const st=Mi.getCoupled(Je,"sandbox"),ht=As.isOpen(st);if(ht&&!o.previewing.get())return ve(st).bind(At=>Ys.getHighlighted(At)).map(At=>(vo(Je,v4(),{item:At}),!0));{const At=Fr.getValue(Je);return ks(Je,Om()),o.onExecute(st,Je,At),ht&&As.close(st),L.some(!0)}}}),as.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Mi.config({others:{sandbox:Je=>g6(o,Je,{onOpen:()=>as.on(Je),onClose:()=>{o.lazyTypeaheadComp.get().each(st=>sa(st.element,"aria-activedescendant")),as.off(Je)}})}}),Jo(Ae,[Ca(Je=>{o.lazyTypeaheadComp.set(L.some(Je))}),Sh(Je=>{o.lazyTypeaheadComp.set(L.none())}),rd(Je=>{const st=M;m6(o,K(Je),Je,S,st,mu.HighlightMenuAndItem).get(M)}),qn(v4(),(Je,st)=>{const ht=Mi.getCoupled(Je,"sandbox");Ro(o.model,Je,st.event.item),ks(Je,Om()),o.onItemExecute(Je,ht,st.event.item,Fr.getValue(Je)),As.close(ht),m7(Je)})].concat(o.dismissOnBlur?[qn(Ul(),Je=>{const st=Mi.getCoupled(Je,"sandbox");ad(st.element).isNone()&&As.close(st)})]:[]))],Ue={[kg()]:[Fr.name(),h7.name(),Ae],...o.eventOrder};return{uid:o.uid,dom:a5(Ta(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...H,...Ni(o.typeaheadBehaviours,Ne)},eventOrder:Ue}},nce=F([Ws("lazySink"),er("fetch"),Mn("minChars",5),Mn("responseTime",1e3),Rs("onOpen"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",F({})),Mn("layouts",L.none()),Mn("eventOrder",{}),D("model",{},[Mn("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Mn("selectsOver",!0),Mn("populateFromBrowse",!0)]),Rs("onSetValue"),Eu("onExecute"),Rs("onItemExecute"),Mn("inputClasses",[]),Mn("inputAttributes",{}),Mn("inputStyles",{}),Mn("matchWidth",!0),Mn("useMinWidth",!1),Mn("dismissOnBlur",!0),$g(["openClass"]),Ws("initialData"),el("typeaheadBehaviours",[Mo,Fr,h7,yo,as,Mi]),ei("lazyTypeaheadComp",()=>X(L.none)),ei("previewing",()=>X(!0))].concat(YT()).concat(p6())),k3=F([cd({schema:[Qy()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(c,g,S)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(_=>{tQ(o.model,_,S).fold(()=>{o.model.selectsOver?(Ys.dehighlight(g,S),o.previewing.set(!0)):o.previewing.set(!1)},H=>{H(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(_=>{o.model.populateFromBrowse&&Ro(o.model,_,S),Ri(S.element,"id").each(H=>Dr(_.element,"aria-activedescendant",H))})},onExecute:(c,g)=>o.lazyTypeaheadComp.get().map(S=>(vo(S,v4(),{item:g}),!0)),onHover:(c,g)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(S=>{o.model.populateFromBrowse&&Ro(o.model,S,g)})}})})]),Cq=lc({name:"Typeahead",configFields:nce(),partFields:k3(),factory:nQ}),oh=o=>({...o,toCached:()=>oh(o.toCached()),bindFuture:Ae=>oh(o.bind(Ne=>Ne.fold(Ue=>$c.pure(jo.error(Ue)),Ue=>Ae(Ue)))),bindResult:Ae=>oh(o.map(Ne=>Ne.bind(Ae))),mapResult:Ae=>oh(o.map(Ne=>Ne.map(Ae))),mapError:Ae=>oh(o.map(Ne=>Ne.mapError(Ae))),foldResult:(Ae,Ne)=>o.map(Ue=>Ue.fold(Ae,Ne)),withTimeout:(Ae,Ne)=>oh($c.nu(Ue=>{let Je=!1;const st=setTimeout(()=>{Je=!0,Ue(jo.error(Ne()))},Ae);o.get(ht=>{Je||(clearTimeout(st),Ue(ht))})}))}),rQ=o=>oh($c.nu(o)),oQ=o=>oh($c.pure(jo.value(o))),Pq={nu:rQ,wrap:oh,pure:oQ,value:oQ,error:o=>oh($c.pure(jo.error(o))),fromResult:o=>oh($c.pure(o)),fromFuture:o=>oh(o.map(jo.value)),fromPromise:o=>rQ(c=>{o.then(g=>{c(jo.value(g))},g=>{c(jo.error(g))})})},y4=(o,c,g=[],S,_,H)=>{const K=c.fold(()=>({}),Ne=>({action:Ne})),ve={buttonBehaviours:pr([tl.button(()=>!o.enabled||H.isDisabled()),gl(),Ga.config({}),Jo("button press",[GS("click"),GS("mousedown")])].concat(g)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...K},Ae=Ta(ve,{dom:S});return Ta(Ae,{components:_})},Mq=(o,c,g,S=[])=>{const _=o.tooltip.map(Ae=>({"aria-label":g.translate(Ae),title:g.translate(Ae)})).getOr({}),H={tag:"button",classes:["tox-tbtn"],attributes:_},K=o.icon.map(Ae=>l4(Ae,g.icons)),ve=p2([K]);return y4(o,c,S,H,ve,g)},g7=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},aQ=(o,c,g,S=[],_=[])=>{const H=g.translate(o.text),K=o.icon.map(st=>l4(st,g.icons)),ve=[K.getOrThunk(()=>yi(H))],Ae=o.buttonType.getOr(!o.primary&&!o.borderless?"secondary":"primary"),Je={tag:"button",classes:[...g7(Ae),...K.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],..._],attributes:{title:H}};return y4(o,c,S,Je,ve,g)},p7=(o,c,g,S=[],_=[])=>{const H=aQ(o,L.some(c),g,S,_);return Dl.sketch(H)},iQ=(o,c)=>g=>{c==="custom"?vo(g,ap,{name:o,value:{}}):c==="submit"?ks(g,f3):c==="cancel"?ks(g,h1):console.error("Unknown button type: ",c)},Eq=(o,c)=>c==="menu",_q=(o,c)=>c==="custom"||c==="cancel"||c==="submit",Rq=(o,c)=>c==="togglebutton",Dq=(o,c)=>{var g,S;const _=o.icon.map(on=>y1(on,c.icons)).map(ia),H=on=>{vo(on,ap,{name:o.name,value:{setIcon:kn=>{_.map(Zn=>Zn.getOpt(on).each(mr=>{Uo.set(mr,[y1(kn,c.icons)])}))}}})},K=o.buttonType.getOr(o.primary?"primary":"secondary"),ve={...o,name:(g=o.name)!==null&&g!==void 0?g:"",primary:K==="primary",tooltip:L.from(o.tooltip),enabled:(S=o.enabled)!==null&&S!==void 0?S:!1,borderless:!1},Ae=ve.tooltip.map(on=>({"aria-label":c.translate(on),title:c.translate(on)})).getOr({}),Ne=g7(K??"secondary"),Ue=o.icon.isSome()&&o.text.isSome(),Je={tag:"button",classes:[...Ne.concat(o.icon.isSome()?["tox-button--icon"]:[]),...o.active?["tox-button--enabled"]:[],...Ue?["tox-button--icon-and-text"]:[]],attributes:Ae},st=[],ht=c.translate(o.text.getOr("")),At=yi(ht),Dn=[...p2([_.map(on=>on.asSpec())]),...o.text.isSome()?[At]:[]],mn=y4(ve,L.some(H),st,Je,Dn,c);return Dl.sketch(mn)},b4=(o,c,g)=>{if(Eq(o,c)){const S=()=>K,_=o,H={...o,type:"menubutton",search:L.none(),onSetup:ve=>(ve.setEnabled(o.enabled),M),fetch:vq(_.items,S,g)},K=ia(C3(H,"tox-tbtn",g,L.none()));return K.asSpec()}else if(_q(o,c)){const S=iQ(o.name,c),_={...o,borderless:!1};return p7(_,S,g.shared.providers,[])}else{if(Rq(o,c))return Dq(o,g.shared.providers);throw console.error("Unknown footer button type: ",c),new Error("Unknown footer button type")}},$q=(o,c)=>{const g=iQ(o.name,"custom");return EG(L.none(),la.parts.field({factory:Dl,...aQ(o,L.some(g),c,[v3(""),Ff.self()])}))},Lq={type:"separator"},Iq=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:M}),v7=(o,c)=>({type:"menuitem",value:c,text:o,meta:{attach:void 0},onAction:M}),Nq=o=>ne(o,Iq),lQ=(o,c)=>xe(c,g=>g.type===o),cQ=(o,c)=>Nq(lQ(o,c)),Bq=o=>cQ("header",o.targets),Qq=o=>cQ("anchor",o.targets),Fq=o=>L.from(o.anchorTop).map(c=>v7("<top>",c)).toArray(),Vq=o=>L.from(o.anchorBottom).map(c=>v7("<bottom>",c)).toArray(),zq=o=>ne(o,c=>v7(c,c)),uQ=o=>ke(o,(c,g)=>c.length===0||g.length===0?c.concat(g):c.concat(Lq,g),[]),y7=(o,c)=>{const g=o.toLowerCase();return xe(c,S=>{var _;const H=S.meta!==void 0&&S.meta.text!==void 0?S.meta.text:S.text,K=(_=S.value)!==null&&_!==void 0?_:"";return at(H.toLowerCase(),g)||at(K.toLowerCase(),g)})},fQ=(o,c,g)=>{var S,_;const H=Fr.getValue(c),K=(_=(S=H==null?void 0:H.meta)===null||S===void 0?void 0:S.text)!==null&&_!==void 0?_:H.value;return g.getLinkInformation().fold(()=>[],Ae=>{const Ne=y7(K,zq(g.getHistory(o)));return o==="file"?uQ([Ne,y7(K,Bq(Ae)),y7(K,Ie([Fq(Ae),Qq(Ae),Vq(Ae)]))]):Ne})},dQ=Kr("aria-invalid"),hQ=(o,c,g,S)=>{const _=c.shared.providers,H=on=>{const kn=Fr.getValue(on);g.addToHistory(kn.value,o.filetype)},K={...S.map(on=>({initialData:on})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":dQ,type:"url"},minChars:0,responseTime:0,fetch:on=>{const kn=fQ(o.filetype,on,g),Zn=M2(kn,Hm.BUBBLE_TO_SANDBOX,c,{isHorizontalMenu:!1,search:L.none()});return $c.pure(Zn)},getHotspot:on=>At.getOpt(on),onSetValue:(on,kn)=>{on.hasConfigured(gd)&&gd.run(on).get(M)},typeaheadBehaviours:pr([...g.getValidationHandler().map(on=>gd.config({getRoot:kn=>dr(kn.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(kn,Zn)=>{Ue.getOpt(kn).each(mr=>{Dr(mr.element,"title",_.translate(Zn))})}},validator:{validate:kn=>{const Zn=Fr.getValue(kn);return Pq.nu(mr=>{on({type:o.filetype,url:Zn.value},Gn=>{if(Gn.status==="invalid"){const Or=jo.error(Gn.message);mr(Or)}else{const Or=jo.value(Gn.message);mr(Or)}})})},validateOnLoad:!1}})).toArray(),Co.config({disabled:()=>!o.enabled||_.isDisabled()}),Ga.config({}),Jo("urlinput-events",[qn(di(),on=>{const kn=Ch(on.element),Zn=kn.trim();Zn!==kn&&b0(on.element,Zn),o.filetype==="file"&&vo(on,df,{name:o.name})}),qn(Yi(),on=>{vo(on,df,{name:o.name}),H(on)}),qn(Li(),on=>{vo(on,df,{name:o.name}),H(on)})])]),eventOrder:{[di()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:on=>on.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:c.shared.getSink,parts:{menu:c2(!1,1,"normal")},onExecute:(on,kn,Zn)=>{vo(kn,f3,{})},onItemExecute:(on,kn,Zn,mr)=>{H(on),vo(on,df,{name:o.name})}},ve=la.parts.field({...K,factory:Cq}),Ae=o.label.map(on=>eh(on,_)),Ue=ia(((on,kn,Zn=on,mr=on)=>Bh(Zn,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+on],attributes:{title:_.translate(mr),"aria-live":"polite",...kn.fold(()=>({}),Gn=>({id:Gn}))}},_.icons))("invalid",L.some(dQ),"warning")),Je=ia({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Ue.asSpec()]}),st=g.getUrlPicker(o.filetype),ht=Kr("browser.url.event"),At=ia({dom:{tag:"div",classes:["tox-control-wrap"]},components:[ve,Je.asSpec()],behaviours:pr([Co.config({disabled:()=>!o.enabled||_.isDisabled()})])}),qt=ia(p7({name:o.name,icon:L.some("browse"),text:o.picker_text.or(o.label).getOr(""),enabled:o.enabled,primary:!1,buttonType:L.none(),borderless:!0},on=>ks(on,ht),_,[],["tox-browse-url"])),Dn=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ie([[At.asSpec()],st.map(()=>qt.asSpec()).toArray()])}),mn=on=>{xs.getCurrent(on).each(kn=>{const Zn=Fr.getValue(kn),mr={fieldname:o.name,...Zn};st.each(Gn=>{Gn(mr).get(Or=>{Fr.setValue(kn,Or),vo(on,df,{name:o.name})})})})};return la.sketch({dom:Zle(),components:Ae.toArray().concat([Dn()]),fieldBehaviours:pr([Co.config({disabled:()=>!o.enabled||_.isDisabled(),onDisabled:on=>{la.getField(on).each(Co.disable),qt.getOpt(on).each(Co.disable)},onEnabled:on=>{la.getField(on).each(Co.enable),qt.getOpt(on).each(Co.enable)}}),gl(),Jo("url-input-events",[qn(ht,mn)])])})},mQ=(o,c)=>{const g=H_(o.icon,c.icons);return Um.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:o.url?void 0:g},components:o.url?[Dl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:g,attributes:{title:c.translate(o.iconTooltip)}},action:S=>vo(S,ap,{name:"alert-banner",value:o.url}),buttonBehaviours:pr([XA()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:c.translate(o.text)}}]})},b7=(o,c)=>{o.dom.checked=c},Zq=o=>o.dom.checked,gQ=(o,c,g)=>{const S=Ae=>(Ae.element.dom.click(),L.some(!0)),_=la.parts.field({factory:{sketch:z},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pr([Ff.self(),Co.config({disabled:()=>!o.enabled||c.isDisabled(),onDisabled:Ae=>{dr(Ae.element).each(Ne=>ki(Ne,"tox-checkbox--disabled"))},onEnabled:Ae=>{dr(Ae.element).each(Ne=>Xa(Ne,"tox-checkbox--disabled"))}}),Ga.config({}),Mo.config({}),X6(g,Zq,b7),yo.config({mode:"special",onEnter:S,onSpace:S,stopSpaceKeyup:!0}),Jo("checkbox-events",[qn(Yi(),(Ae,Ne)=>{vo(Ae,df,{name:o.name})})])])}),H=la.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[yi(c.translate(o.label))],behaviours:pr([d3.config({})])}),K=Ae=>Bh(Ae==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+Ae]},c.icons),ve=ia({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[K("checked"),K("unchecked")]});return la.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[_,ve.asSpec(),H],fieldBehaviours:pr([Co.config({disabled:()=>!o.enabled||c.isDisabled()}),gl()])})},pQ=o=>o.presets==="presentation"?Um.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html}}):Um.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html,attributes:{role:"document"}},containerBehaviours:pr([Ga.config({}),Mo.config({})])}),Ol=o=>(c,g,S,_)=>Bt(g,"name").fold(()=>o(g,_,L.none()),H=>c.field(H,o(g,_,Bt(S,H)))),vQ=o=>(c,g,S,_)=>{const H=Ta(g,{source:"dynamic"});return Ol(o)(c,H,S,_)},Hq={bar:Ol((o,c)=>TG(o,c.shared)),collection:Ol((o,c,g)=>RG(o,c.shared.providers,g)),alertbanner:Ol((o,c)=>mQ(o,c.shared.providers)),input:Ol((o,c,g)=>zB(o,c.shared.providers,g)),textarea:Ol((o,c,g)=>ZB(o,c.shared.providers,g)),label:Ol((o,c)=>Gj(o,c.shared)),iframe:vQ((o,c,g)=>Uj(o,c.shared.providers,g)),button:Ol((o,c)=>$q(o,c.shared.providers)),checkbox:Ol((o,c,g)=>gQ(o,c.shared.providers,g)),colorinput:Ol((o,c,g)=>BG(o,c.shared,c.colorinput,g)),colorpicker:Ol((o,c,g)=>Bj(o,c.shared.providers,g)),dropzone:Ol((o,c,g)=>mB(o,c.shared.providers,g)),grid:Ol((o,c)=>zj(o,c.shared)),listbox:Ol((o,c,g)=>nq(o,c,g)),selectbox:Ol((o,c,g)=>sq(o,c.shared.providers,g)),sizeinput:Ol((o,c)=>iq(o,c.shared.providers)),slider:Ol((o,c,g)=>QB(o,c.shared.providers,g)),urlinput:Ol((o,c,g)=>hQ(o,c,c.urlinput,g)),customeditor:Ol(hB),htmlpanel:Ol(pQ),imagepreview:Ol((o,c,g)=>Xj(o,g)),table:Ol((o,c)=>FB(o,c.shared.providers)),tree:Ol((o,c)=>Sq(o,c)),panel:Ol((o,c)=>n7(o,c))},Uq={field:(o,c)=>c,record:F([])},Wh=(o,c,g,S)=>{const _=Ta(S,{shared:{interpreter:H=>R2(o,H,g,_)}});return R2(o,c,g,_)},R2=(o,c,g,S)=>Bt(Hq,c.type).fold(()=>(console.error(`Unknown factory type "${c.type}", defaulting to container: `,c),c),_=>_(o,c,g,S)),A3=(o,c,g)=>R2(Uq,o,c,g),O1="layout-inset",P3=o=>o.x,yQ=(o,c)=>o.x+o.width/2-c.width/2,M3=(o,c)=>o.x+o.width-c.width,O4=o=>o.y,E3=(o,c)=>o.y+o.height-c.height,bQ=(o,c)=>o.y+o.height/2-c.height/2,_3=(o,c,g)=>cl(M3(o,c),E3(o,c),g.insetSouthwest(),Ph(),"southwest",Ha(o,{right:0,bottom:3}),O1),R3=(o,c,g)=>cl(P3(o),E3(o,c),g.insetSoutheast(),fx(),"southeast",Ha(o,{left:1,bottom:3}),O1),Ub=(o,c,g)=>cl(M3(o,c),O4(o),g.insetNorthwest(),mw(),"northwest",Ha(o,{right:0,top:2}),O1),D3=(o,c,g)=>cl(P3(o),O4(o),g.insetNortheast(),Vy(),"northeast",Ha(o,{left:1,top:2}),O1),Yh=(o,c,g)=>cl(yQ(o,c),O4(o),g.insetNorth(),Pm(),"north",Ha(o,{top:2}),O1),D2=(o,c,g)=>cl(yQ(o,c),E3(o,c),g.insetSouth(),jM(),"south",Ha(o,{bottom:3}),O1),OQ=(o,c,g)=>cl(M3(o,c),bQ(o,c),g.insetEast(),zy(),"east",Ha(o,{right:0}),O1),xQ=(o,c,g)=>cl(P3(o),bQ(o,c),g.insetWest(),Nn(),"west",Ha(o,{left:1}),O1),SQ=o=>{switch(o){case"north":return Yh;case"northeast":return D3;case"northwest":return Ub;case"south":return D2;case"southeast":return R3;case"southwest":return _3;case"east":return OQ;case"west":return xQ}},O7=(o,c,g,S,_)=>Ak(S).map(SQ).getOr(Yh)(o,c,g,S,_),Wq=o=>{switch(o){case"north":return D2;case"northeast":return R3;case"northwest":return _3;case"south":return Yh;case"southeast":return D3;case"southwest":return Ub;case"east":return xQ;case"west":return OQ}},Yq=(o,c,g,S,_)=>Ak(S).map(Wq).getOr(Yh)(o,c,g,S,_),$3={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},Xq=(o,c,g)=>{const _={maxHeightFunction:R0()},H=()=>({type:"node",root:Xs(es(o())),node:L.from(o()),bubble:Eh(12,12,$3),layouts:{onRtl:()=>[D3],onLtr:()=>[Ub]},overrides:_}),K=()=>({type:"hotspot",hotspot:c(),bubble:Eh(-12,12,$3),layouts:{onRtl:()=>[ul,Gl,fl],onLtr:()=>[Gl,ul,fl]},overrides:_});return()=>g()?H():K()},wQ=(o,c,g,S)=>{const H={maxHeightFunction:R0()},K=()=>({type:"node",root:Xs(es(c())),node:L.from(c()),bubble:Eh(12,12,$3),layouts:{onRtl:()=>[Yh],onLtr:()=>[Yh]},overrides:H}),ve=()=>o?{type:"node",root:Xs(es(c())),node:L.from(c()),bubble:Eh(0,-Vu(c()),$3),layouts:{onRtl:()=>[Mc],onLtr:()=>[Mc]},overrides:H}:{type:"hotspot",hotspot:g(),bubble:Eh(0,0,$3),layouts:{onRtl:()=>[Mc],onLtr:()=>[Mc]},overrides:H};return()=>S()?K():ve()},Wm=(o,c,g)=>{const S=()=>({type:"node",root:Xs(es(o())),node:L.from(o()),layouts:{onRtl:()=>[Yh],onLtr:()=>[Yh]}}),_=()=>({type:"hotspot",hotspot:c(),layouts:{onRtl:()=>[fl],onLtr:()=>[fl]}});return()=>g()?S():_()},x7=(o,c)=>()=>({type:"selection",root:c(),getSelection:()=>{const g=o.selection.getRng(),S=o.model.table.getSelectedCells();if(S.length>1){const _=S[0],H=S[S.length-1],K={firstCell:zt.fromDom(_),lastCell:zt.fromDom(H)};return L.some(K)}return L.some(_l.range(zt.fromDom(g.startContainer),g.startOffset,zt.fromDom(g.endContainer),g.endOffset))}}),Gq=o=>c=>({type:"node",root:o(),node:c}),jq=(o,c,g,S)=>{const _=i2(o),H=()=>zt.fromDom(o.getBody()),K=()=>zt.fromDom(o.getContentAreaContainer()),ve=()=>_||!S();return{inlineDialog:Xq(K,c,ve),inlineBottomDialog:wQ(o.inline,K,g,ve),banner:Wm(K,c,ve),cursor:x7(o,H),node:Gq(H)}},qq=o=>(c,g)=>{eN(o)(c,g)},Kq=o=>()=>XI(o),Jq=o=>c=>P5(o,c),TQ=o=>c=>YI(o,c),CQ=o=>({colorPicker:qq(o),hasCustomColors:Kq(o),getColors:Jq(o),getColorCols:TQ(o)}),oce=o=>()=>t8(o),sce=o=>({isDraggableModal:oce(o)}),Lc=o=>{const c=X(a8(o)?"bottom":"top");return{isPositionedAtTop:()=>c.get()==="top",getDockingMode:c.get,setDockingMode:c.set}},x4=o=>En(o,"items"),kQ=o=>En(o,"format"),L3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],eK=o=>vn(o,"items"),tK=o=>vn(o,"block"),nK=o=>vn(o,"inline"),rK=o=>vn(o,"selector"),AQ=o=>ke(o,(c,g)=>{if(eK(g)){const S=AQ(g.items);return{customFormats:c.customFormats.concat(S.customFormats),formats:c.formats.concat([{title:g.title,items:S.formats}])}}else if(nK(g)||tK(g)||rK(g)){const _=`custom-${h(g.name)?g.name:g.title.toLowerCase()}`;return{customFormats:c.customFormats.concat([{name:_,format:g}]),formats:c.formats.concat([{title:g.title,format:_,icon:g.icon}])}}else return{...c,formats:c.formats.concat(g)}},{customFormats:[],formats:[]}),oK=(o,c)=>{const g=AQ(c),S=_=>{pe(_,H=>{o.formatter.has(H.name)||o.formatter.register(H.name,H.format)})};return o.formatter?S(g.customFormats):o.on("init",()=>{S(g.customFormats)}),g.formats},PQ=o=>gL(o).map(c=>{const g=oK(o,c);return pL(o)?L3.concat(g):g}).getOr(L3),sK=o=>{const c=ct(o);return c.length===1&&be(c,"title")},S7=(o,c,g)=>({...o,type:"formatter",isSelected:c(o.format),getStylePreview:g(o.format)}),I3=(o,c,g,S)=>{const _=Ae=>S7(Ae,g,S),H=Ae=>{const Ne=ve(Ae.items);return{...Ae,type:"submenu",getStyleItems:F(Ne)}},K=Ae=>{const Ne=h(Ae.name)?Ae.name:Kr(Ae.title),Ue=`custom-${Ne}`,Je={...Ae,type:"formatter",format:Ue,isSelected:g(Ue),getStylePreview:S(Ue)};return o.formatter.register(Ne,Je),Je},ve=Ae=>ne(Ae,Ne=>x4(Ne)?H(Ne):kQ(Ne)?_(Ne):sK(Ne)?{...Ne,type:"separator"}:K(Ne));return ve(c)},aK=o=>{const c=ve=>()=>o.formatter.match(ve),g=ve=>()=>{const Ae=o.formatter.get(ve);return Ae!==void 0?L.some({tag:Ae.length>0&&(Ae[0].inline||Ae[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(ve))}):L.none()},S=X([]),_=X([]),H=X(!1);return o.on("PreInit",ve=>{const Ae=PQ(o),Ne=I3(o,Ae,c,g);S.set(Ne)}),o.on("addStyleModifications",ve=>{const Ae=I3(o,ve.items,c,g);_.set(Ae),H.set(ve.replace)}),{getData:()=>{const ve=H.get()?[]:S.get(),Ae=_.get();return ve.concat(Ae)}}},MQ=o=>C(o)&&o.nodeType===1,iK=up.trim,w7=o=>c=>!!(MQ(c)&&(c.contentEditable===o||c.getAttribute("data-mce-contenteditable")===o)),lK=w7("true"),cK=w7("false"),T7=(o,c,g,S,_)=>({type:o,title:c,url:g,level:S,attach:_}),ace=o=>{let c=o;for(;c=c.parentNode;){const g=c.contentEditable;if(g&&g!=="inherit")return lK(c)}return!1},ice=(o,c)=>ne(hl(zt.fromDom(c),o),g=>g.dom),EQ=o=>o.innerText||o.textContent,uK=o=>o.id?o.id:Kr("h"),fK=o=>o&&o.nodeName==="A"&&(o.id||o.name)!==void 0,_Q=o=>fK(o)&&RQ(o),S4=o=>o&&/^(H[1-6])$/.test(o.nodeName),RQ=o=>ace(o)&&!cK(o),dK=o=>S4(o)&&RQ(o),DQ=o=>S4(o)?parseInt(o.nodeName.substr(1),10):0,hK=o=>{var c;const g=uK(o),S=()=>{o.id=g};return T7("header",(c=EQ(o))!==null&&c!==void 0?c:"","#"+g,DQ(o),S)},mK=o=>{const c=o.id||o.name,g=EQ(o);return T7("anchor",g||"#"+c,"#"+c,0,M)},gK=o=>ne(xe(o,dK),hK),pK=o=>ne(xe(o,_Q),mK),C7=o=>ice("h1,h2,h3,h4,h5,h6,a:not([href])",o),$Q=o=>iK(o.title).length>0,vK={find:o=>{const c=C7(o);return xe(gK(c).concat(pK(c)),$Q)}},w4="tinymce-url-history",LQ=5,k7=o=>h(o)&&/^https?/.test(o),yK=o=>v(o)&&o.length<=LQ&&ye(o,k7),N3=o=>u(o)&&Gt(o,c=>!yK(c)).isNone(),IQ=()=>{const o=u1.getItem(w4);if(o===null)return{};let c;try{c=JSON.parse(o)}catch(g){if(g instanceof SyntaxError)return console.log("Local storage "+w4+" was not valid JSON",g),{};throw g}return N3(c)?c:(console.log("Local storage "+w4+" was not valid format",c),{})},T4=o=>{if(!N3(o))throw new Error(`Bad format for history:
`+JSON.stringify(o));u1.setItem(w4,JSON.stringify(o))},bK=o=>{const c=IQ();return Bt(c,o).getOr([])},A7=(o,c)=>{if(!k7(o))return;const g=IQ(),S=Bt(g,c).getOr([]),_=xe(S,H=>H!==o);g[c]=[o].concat(_).slice(0,LQ),T4(g)},$2=o=>!!o,NQ=o=>je(up.makeMap(o,/[, ]/),$2),P7=o=>L.from(xL(o)),BQ=o=>{const c=L.from(J_(o)).filter($2).map(NQ);return P7(o).fold(Y,g=>c.fold(ie,S=>ct(S).length>0?S:!1))},QQ=(o,c)=>{const g=BQ(o);return b(g)?g?P7(o):L.none():g[c]?P7(o):L.none()},FQ=(o,c)=>QQ(o,c).map(g=>S=>$c.nu(_=>{const H=(ve,Ae)=>{if(!h(ve))throw new Error("Expected value to be string");if(Ae!==void 0&&!u(Ae))throw new Error("Expected meta to be a object");_({value:ve,meta:Ae})},K={filetype:c,fieldname:S.fieldname,...L.from(S.meta).getOr({})};g.call(o,H,S.value,K)})),VQ=o=>L.from(o).filter(h).getOrUndefined(),M7=o=>e8(o)?L.some({targets:vK.find(o.getBody()),anchorTop:VQ(JA(o)),anchorBottom:VQ(wL(o))}):L.none(),C4=o=>L.from(K_(o)),OK=o=>({getHistory:bK,addToHistory:A7,getLinkInformation:()=>M7(o),getValidationHandler:()=>C4(o),getUrlPicker:c=>FQ(o,c)}),xK=(o,c,g,S)=>{const _=X(!1),H=Lc(c),K={icons:()=>c.ui.registry.getAll().icons,menuItems:()=>c.ui.registry.getAll().menuItems,translate:dd.translate,isDisabled:()=>c.mode.isReadOnly()||!c.ui.isEnabled(),getOption:c.options.get},ve=OK(c),Ae=aK(c),Ne=CQ(c),Ue=sce(c),Je=()=>_.get(),st=Dn=>_.set(Dn),ht={shared:{providers:K,anchors:jq(c,g,S,H.isPositionedAtTop),header:H},urlinput:ve,styles:Ae,colorinput:Ne,dialog:Ue,isContextMenuOpen:Je,setContextMenuState:st},At={...ht,shared:{...ht.shared,interpreter:Dn=>A3(Dn,{},At),getSink:o.popup}},qt={...ht,shared:{...ht.shared,interpreter:Dn=>A3(Dn,{},qt),getSink:o.dialog}};return{popup:At,dialog:qt}},L2=(o,c,g)=>{const S=(Gn,Or)=>{pe([c,...g],Mr=>{Mr.broadcastEvent(Gn,Or)})},_=(Gn,Or)=>{pe([c,...g],Mr=>{Mr.broadcastOn([Gn],Or)})},H=Gn=>_(Wd(),{target:Gn.target}),K=qv(),ve=_c(K,"touchstart",H),Ae=_c(K,"touchmove",Gn=>S(Py(),Gn)),Ne=_c(K,"touchend",Gn=>S(FO(),Gn)),Ue=_c(K,"mousedown",H),Je=_c(K,"mouseup",Gn=>{Gn.raw.button===0&&_(oT(),{target:Gn.target})}),st=Gn=>_(Wd(),{target:zt.fromDom(Gn.target)}),ht=Gn=>{Gn.button===0&&_(oT(),{target:zt.fromDom(Gn.target)})},At=()=>{pe(o.editorManager.get(),Gn=>{o!==Gn&&Gn.dispatch("DismissPopups",{relatedTarget:o})})},qt=Gn=>S(Oh(),Dw(Gn)),Dn=Gn=>{_(dv(),{}),S(Qd(),Dw(Gn))},mn=es(zt.fromDom(o.getElement())),on=vx(mn,"scroll",Gn=>{requestAnimationFrame(()=>{const Or=o.getContainer();if(Or!=null){const is=d1(o,c.element).map(Gr=>[Gr.element,...Gr.others]).getOr([]);Te(is,Gr=>Jt(Gr,Gn.target))&&(o.dispatch("ElementScroll",{target:Gn.target.dom}),S(zO(),Gn))}})}),kn=()=>_(dv(),{}),Zn=Gn=>{Gn.state&&_(Wd(),{target:zt.fromDom(o.getContainer())})},mr=Gn=>{_(Wd(),{target:zt.fromDom(Gn.relatedTarget.getContainer())})};o.on("PostRender",()=>{o.on("click",st),o.on("tap",st),o.on("mouseup",ht),o.on("mousedown",At),o.on("ScrollWindow",qt),o.on("ResizeWindow",Dn),o.on("ResizeEditor",kn),o.on("AfterProgressState",Zn),o.on("DismissPopups",mr)}),o.on("remove",()=>{o.off("click",st),o.off("tap",st),o.off("mouseup",ht),o.off("mousedown",At),o.off("ScrollWindow",qt),o.off("ResizeWindow",Dn),o.off("ResizeEditor",kn),o.off("AfterProgressState",Zn),o.off("DismissPopups",mr),Ue.unbind(),ve.unbind(),Ae.unbind(),Ne.unbind(),Je.unbind(),on.unbind()}),o.on("detach",()=>{pe([c,...g],U0),pe([c,...g],Gn=>Gn.destroy())})},xl=KE,dp=mA,zQ=F([Mn("shell",!1),er("makeItem"),Mn("setupItem",M),If.field("listBehaviours",[Uo])]),E7=fu({name:"items",overrides:()=>({behaviours:pr([Uo.config({})])})}),SK=F([E7]),wK=F("CustomList"),TK=(o,c,g,S)=>{const _=(ve,Ae)=>{K(ve).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},Ne=>{const Ue=Uo.contents(Ne),Je=Ae.length,st=Je-Ue.length,ht=st>0?Be(st,()=>o.makeItem()):[],At=Ue.slice(Je);pe(At,Dn=>Uo.remove(Ne,Dn)),pe(ht,Dn=>Uo.append(Ne,Dn));const qt=Uo.contents(Ne);pe(qt,(Dn,mn)=>{o.setupItem(ve,Dn,Ae[mn],mn)})})},H=o.shell?{behaviours:[Uo.config({})],components:[]}:{behaviours:[],components:c},K=ve=>o.shell?L.some(ve):ka(ve,o,"items");return{uid:o.uid,dom:o.dom,components:H.components,behaviours:Ni(o.listBehaviours,H.behaviours),apis:{setItems:_}}},k4=lc({name:wK(),configFields:zQ(),partFields:SK(),factory:TK,apis:{setItems:(o,c,g)=>{o.setItems(c,g)}}}),I2=F([er("dom"),Mn("shell",!0),el("toolbarBehaviours",[Uo])]),CK=F([fu({name:"groups",overrides:()=>({behaviours:pr([Uo.config({})])})})]),kK=(o,c,g,S)=>{const _=(ve,Ae)=>{H(ve).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},Ne=>{Uo.set(Ne,Ae)})},H=ve=>o.shell?L.some(ve):ka(ve,o,"groups"),K=o.shell?{behaviours:[Uo.config({})],components:[]}:{behaviours:[],components:c};return{uid:o.uid,dom:o.dom,components:K.components,behaviours:Ni(o.toolbarBehaviours,K.behaviours),apis:{setGroups:_,refresh:M},domModification:{attributes:{role:"group"}}}},Ym=lc({name:"Toolbar",configFields:I2(),partFields:CK(),factory:kK,apis:{setGroups:(o,c,g)=>{o.setGroups(c,g)}}}),AK=M,PK=Y,_7=F([]);var MK=Object.freeze({__proto__:null,setup:AK,isDocked:PK,getBehaviours:_7});const Wb=o=>(ln(za(o,"position"),"fixed")?L.none():ar(o)).orThunk(()=>{const S=zt.fromTag("span");return Fn(o).bind(_=>{Vc(_,S);const H=ar(S);return xc(S),H})}),HQ=o=>Wb(o).map(Cl).getOrThunk(()=>Is(0,0)),EK=(o,c)=>{const g=o.element;ki(g,c.transitionClass),Xa(g,c.fadeOutClass),ki(g,c.fadeInClass),c.onShow(o)},R7=(o,c)=>{const g=o.element;ki(g,c.transitionClass),Xa(g,c.fadeInClass),ki(g,c.fadeOutClass),c.onHide(o)},UQ=(o,c)=>o.y<c.bottom&&o.bottom>c.y,WQ=(o,c)=>o.y>=c.y,YQ=(o,c)=>o.bottom<=c.bottom,D7=(o,c,g)=>({location:"top",leftX:c,topY:g.bounds.y-o.y}),$7=(o,c,g)=>({location:"bottom",leftX:c,bottomY:o.bottom-g.bounds.bottom}),L7=o=>o.box.x-o.win.x,_K=(o,c,g)=>{const S=c.win,_=c.box,H=L7(c);return Xe(o,K=>{switch(K){case"bottom":return YQ(_,g.bounds)?L.none():L.some($7(S,H,g));case"top":return WQ(_,g.bounds)?L.none():L.some(D7(S,H,g));default:return L.none()}}).getOr({location:"no-dock"})},RK=(o,c,g)=>ye(o,S=>{switch(S){case"bottom":return YQ(c,g.bounds);case"top":return WQ(c,g.bounds)}}),DK=(o,c)=>{const g=c.optScrollEnv.fold(F(o.bounds.y),S=>S.scrollElmTop+(o.bounds.y-S.currentScrollTop));return Is(o.bounds.x,g)},$K=(o,c)=>{const g=c.optScrollEnv.fold(F(o.y),S=>o.y+S.currentScrollTop-S.scrollElmTop);return Is(o.x,g)},XQ=(o,c,g)=>g.getInitialPos().map(S=>{const _=DK(S,c);return{box:Ja(_.left,_.top,Si(o),Za(o)),location:S.location}}),GQ=(o,c,g,S,_)=>{const H=$K(c,g),K=Ja(H.left,H.top,c.width,c.height);S.setInitialPos({style:Fa(o),position:Qa(o,"position")||"static",bounds:K,location:_.location})},jQ=(o,c,g,S,_)=>{S.getInitialPos().fold(()=>GQ(o,c,g,S,_),()=>M)},I7=(o,c,g)=>g.getInitialPos().bind(S=>{var _;switch(g.clearInitialPos(),S.position){case"static":return L.some({morph:"static"});case"absolute":const H=Wb(o).getOr(ya()),K=ui(H),ve=(_=H.dom.scrollTop)!==null&&_!==void 0?_:0;return L.some({morph:"absolute",positionCss:of("absolute",Bt(S.style,"left").map(Ae=>c.x-K.x),Bt(S.style,"top").map(Ae=>c.y-K.y+ve),Bt(S.style,"right").map(Ae=>K.right-c.right),Bt(S.style,"bottom").map(Ae=>K.bottom-c.bottom))});default:return L.none()}}),A4=(o,c,g)=>XQ(o,c,g).filter(({box:S})=>RK(g.getModes(),S,c)).bind(({box:S})=>I7(o,S,g)),P4=o=>{switch(o.location){case"top":return L.some({morph:"fixed",positionCss:of("fixed",L.some(o.leftX),L.some(o.topY),L.none(),L.none())});case"bottom":return L.some({morph:"fixed",positionCss:of("fixed",L.some(o.leftX),L.none(),L.none(),L.some(o.bottomY))});default:return L.none()}},LK=(o,c,g)=>{const S=ui(o),_=Vl(),H=_K(g.getModes(),{win:_,box:S},c);return H.location==="top"||H.location==="bottom"?(GQ(o,S,c,g,H),P4(H)):L.none()},IK=(o,c,g)=>A4(o,c,g).orThunk(()=>c.optScrollEnv.bind(S=>XQ(o,c,g)).bind(({box:S,location:_})=>{const H=Vl(),K=L7({win:H,box:S}),ve=_==="top"?D7(H,K,c):$7(H,K,c);return P4(ve)})),NK=(o,c,g)=>{const S=o.element;return ln(za(S,"position"),"fixed")?IK(S,c,g):LK(S,c,g)},BK=(o,c,g)=>{const S=o.element;return XQ(S,c,g).bind(({box:_})=>I7(S,_,g))},QK=(o,c,g,S)=>{const _=ui(o),H=Vl(),K=L7({win:H,box:_}),ve=S(H,K,c);return ve.location==="bottom"||ve.location==="top"?(jQ(o,_,c,g,ve),P4(ve)):L.none()},qQ=(o,c,g)=>{g.setDocked(!1),pe(["left","right","top","bottom","position"],S=>Zo(o.element,S)),c.onUndocked(o)},N7=(o,c,g,S)=>{const _=S.position==="fixed";g.setDocked(_),Ck(o.element,S),(_?c.onDocked:c.onUndocked)(o)},B7=(o,c,g,S,_=!1)=>{c.contextual.each(H=>{H.lazyContext(o).each(K=>{const ve=UQ(K,S.bounds);ve!==g.isVisible()&&(g.setVisible(ve),_&&!ve?(ni(o.element,[H.fadeOutClass]),H.onHide(o)):(ve?EK:R7)(o,H))})})},Q7=(o,c,g,S,_)=>{B7(o,c,g,S,!0),N7(o,c,g,_.positionCss)},FK=(o,c,g,S,_)=>{switch(_.morph){case"static":return qQ(o,c,g);case"absolute":return N7(o,c,g,_.positionCss);case"fixed":return Q7(o,c,g,S,_)}},KQ=(o,c,g)=>{const S=c.lazyViewport(o);B7(o,c,g,S),NK(o,S,g).each(_=>{FK(o,c,g,S,_)})},VK=(o,c,g)=>{const S=o.element;g.setDocked(!1);const _=c.lazyViewport(o);BK(o,_,g).each(H=>{switch(H.morph){case"static":{qQ(o,c,g);break}case"absolute":{N7(o,c,g,H.positionCss);break}}}),g.setVisible(!0),c.contextual.each(H=>{tf(S,[H.fadeInClass,H.fadeOutClass,H.transitionClass]),H.onShow(o)}),M4(o,c,g)},M4=(o,c,g)=>{o.getSystem().isConnected()&&KQ(o,c,g)},JQ=(o,c,g)=>{g.isDocked()&&VK(o,c,g)},x1=o=>(c,g,S)=>{const _=g.lazyViewport(c);QK(c.element,_,S,o).each(K=>{Q7(c,g,S,_,K)})},eF=x1(D7),B3=x1($7);var tF=Object.freeze({__proto__:null,refresh:M4,reset:JQ,isDocked:(o,c,g)=>g.isDocked(),getModes:(o,c,g)=>g.getModes(),setModes:(o,c,g,S)=>g.setModes(S),forceDockToTop:eF,forceDockToBottom:B3}),HK=Object.freeze({__proto__:null,events:(o,c)=>Ea([xh(Ki(),(g,S)=>{o.contextual.each(_=>{Ji(g.element,_.transitionClass)&&(tf(g.element,[_.transitionClass,_.fadeInClass]),(c.isVisible()?_.onShown:_.onHidden)(g)),S.stop()})}),qn(Oh(),(g,S)=>{M4(g,o,c)}),qn(zO(),(g,S)=>{M4(g,o,c)}),qn(Qd(),(g,S)=>{JQ(g,o,c)})])}),UK=[wc("contextual",[zs("fadeInClass"),zs("fadeOutClass"),zs("transitionClass"),qu("lazyContext"),Rs("onShow"),Rs("onShown"),Rs("onHide"),Rs("onHidden")]),Di("lazyViewport",()=>({bounds:Vl(),optScrollEnv:L.none()})),Cc("modes",["top","bottom"],al),Rs("onDocked"),Rs("onUndocked")],WK=Object.freeze({__proto__:null,init:o=>{const c=X(!1),g=X(!0),S=gs(),_=X(o.modes),H=()=>`docked:  ${c.get()}, visible: ${g.get()}, modes: ${_.get().join(",")}`;return Cu({isDocked:c.get,setDocked:c.set,getInitialPos:S.get,setInitialPos:S.set,clearInitialPos:S.clear,isVisible:g.get,setVisible:g.set,getModes:_.get,setModes:_.set,readState:H})}});const Bi=dl({fields:UK,name:"docking",active:HK,apis:tF,state:WK}),S1=F(Kr("toolbar-height-change")),yd={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},E4="tox-tinymce--toolbar-sticky-on",nF="tox-tinymce--toolbar-sticky-off",YK=(o,c)=>{const g=Tn(c),_=Jn(c).dom.innerHeight,H=Pl(g),K=zt.fromDom(o.elm),ve=wu(K),Ae=Za(K),Ne=ve.y,Ue=Ne+Ae,Je=Cl(c),st=Za(c),ht=Je.top,At=ht+st,qt=Math.abs(ht-H.top)<2,Dn=Math.abs(At-(H.top+_))<2;if(qt&&Ne<At)Wu(H.left,Ne-st,g);else if(Dn&&Ue>ht){const mn=Ne-_+Ae+st;Wu(H.left,mn,g)}},N2=(o,c)=>be(Bi.getModes(o),c),V7=o=>{const c=S=>Vu(S)+(parseInt(Qa(S,"margin-top"),10)||0)+(parseInt(Qa(S,"margin-bottom"),10)||0),g=o.element;dr(g).each(S=>{const _="padding-"+Bi.getModes(o)[0];if(Bi.isDocked(o)){const H=Si(S);Po(g,"width",H+"px"),Po(S,_,c(g)+"px")}else Zo(g,"width"),Zo(S,_)})},B2=(o,c)=>{c?(Xa(o,yd.fadeOutClass),ni(o,[yd.transitionClass,yd.fadeInClass])):(Xa(o,yd.fadeInClass),ni(o,[yd.fadeOutClass,yd.transitionClass]))},z7=(o,c)=>{const g=zt.fromDom(o.getContainer());c?(ki(g,E4),Xa(g,nF)):(ki(g,nF),Xa(g,E4))},XK=(o,c)=>{const g=Tn(c);Mh(g).filter(S=>!Jt(c,S)).filter(S=>Jt(S,zt.fromDom(g.dom.body))||rn(o,S)).each(()=>cu(c))},GK=(o,c)=>ad(o).orThunk(()=>c().toOptional().bind(g=>ad(g.element))),jK=(o,c,g)=>{o.inline||(c.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{g().each(Bi.reset)}),o.on("ResizeWindow ResizeEditor",()=>{g().each(V7)}),o.on("SkinLoaded",()=>{g().each(S=>{Bi.isDocked(S)?Bi.reset(S):Bi.refresh(S)})}),o.on("FullscreenStateChanged",()=>{g().each(Bi.reset)})),o.on("AfterScrollIntoView",S=>{g().each(_=>{Bi.refresh(_);const H=_.element;jx(H)&&YK(S,H)})}),o.on("PostRender",()=>{z7(o,!1)})},qK=o=>o().map(Bi.isDocked).getOr(!1),KK=()=>[lu.config({channels:{[S1()]:{onReceive:V7}}})],rF=(o,c)=>{const g=gs(),S=c.getSink,_=ve=>{S().each(Ae=>ve(Ae.element))},H=ve=>{o.inline||V7(ve),z7(o,Bi.isDocked(ve)),ve.getSystem().broadcastOn([dv()],{}),S().each(Ae=>Ae.getSystem().broadcastOn([dv()],{}))},K=o.inline?[]:KK();return[Mo.config({}),Bi.config({contextual:{lazyContext:ve=>{const Ae=Vu(ve.element),Ne=o.inline?o.getContentAreaContainer():o.getContainer();return L.from(Ne).map(Ue=>{const Je=ui(zt.fromDom(Ue));return d1(o,ve.element).fold(()=>{const ht=Je.height-Ae,At=Je.y+(N2(ve,"top")?0:Ae);return Ja(Je.x,At,Je.width,ht)},ht=>{const At=py(Je,O2(ht)),qt=N2(ve,"top")?At.y:At.y+Ae;return Ja(At.x,qt,At.width,At.height-Ae)})})},onShow:()=>{_(ve=>B2(ve,!0))},onShown:ve=>{_(Ae=>tf(Ae,[yd.transitionClass,yd.fadeInClass])),g.get().each(Ae=>{XK(ve.element,Ae),g.clear()})},onHide:ve=>{GK(ve.element,S).fold(g.clear,g.set),_(Ae=>B2(Ae,!1))},onHidden:()=>{_(ve=>tf(ve,[yd.transitionClass]))},...yd},lazyViewport:ve=>d1(o,ve.element).fold(()=>{const Ne=Vl(),Ue=qA(o),Je=Ne.y+(N2(ve,"top")?Ue:0),st=Ne.height-(N2(ve,"bottom")?Ue:0);return{bounds:Ja(Ne.x,Je,Ne.width,st),optScrollEnv:L.none()}},Ne=>({bounds:O2(Ne),optScrollEnv:L.some({currentScrollTop:Ne.element.dom.scrollTop,scrollElmTop:Cl(Ne.element).top})})),modes:[c.header.getDockingMode()],onDocked:H,onUndocked:H}),...K]};var oF=Object.freeze({__proto__:null,setup:jK,isDocked:qK,getBehaviours:rF});const sF=o=>{const c=o.editor,g=o.sticky?rF:_7;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:pr(g(c,o.sharedBackstage))}},Z7=uo([Gi,Zc("items",Xr([Dd([T8,rc("items",al)]),al]))].concat(m2)),JK=o=>da("GroupToolbarButton",Z7,o),_4=[ll("text"),ll("tooltip"),ll("icon"),Tc("search",!1,Xr([_f,uo([ll("placeholder")])],o=>b(o)?o?L.some({placeholder:L.none()}):L.none():L.some(o))),qu("fetch"),Di("onSetup",()=>M)],Q3=uo([Gi,..._4]),H7=o=>da("menubutton",Q3,o),eJ=uo([Gi,GT,hd,tp,A8,XL,i1,Hc("presets","normal",["normal","color","listpreview"]),qL(1),d2,$Y]),tJ=o=>da("SplitButton",eJ,o);var U7=_u({factory:(o,c)=>{const g=(_,H)=>{const K=ne(H,ve=>{const Ae={type:"menubutton",text:ve.text,fetch:Ue=>{Ue(ve.getItems())}},Ne=H7(Ae).mapError(Ue=>Zl(Ue)).getOrDie();return C3(Ne,"tox-mbtn",c.backstage,L.some("menuitem"))});Uo.set(_,K)},S={focus:yo.focusIn,setMenus:g};return{uid:o.uid,dom:o.dom,components:[],behaviours:pr([Uo.config({}),Jo("menubar-events",[Ca(_=>{o.onSetup(_)}),qn(Lr(),(_,H)=>{Ai(_.element,".tox-mbtn--active").each(K=>{Vd(H.event.target,".tox-mbtn").each(ve=>{Jt(K,ve)||_.getSystem().getByDom(K).each(Ae=>{_.getSystem().getByDom(ve).each(Ne=>{Jd.expand(Ne),Jd.close(Ae),Mo.focus(Ne)})})})})}),qn(VO(),(_,H)=>{H.event.prevFocus.bind(K=>_.getSystem().getByDom(K).toOptional()).each(K=>{H.event.newFocus.bind(ve=>_.getSystem().getByDom(ve).toOptional()).each(ve=>{Jd.isOpen(K)&&(Jd.expand(ve),Jd.close(K))})})})]),yo.config({mode:"flow",selector:".tox-mbtn",onEscape:_=>(o.onEscape(_),L.some(!0))}),Ga.config({})]),apis:S,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[er("dom"),er("uid"),er("onEscape"),er("backstage"),Mn("onSetup",M)],apis:{focus:(o,c)=>{o.focus(c)},setMenus:(o,c,g)=>{o.setMenus(c,g)}}});const W7="⚡️Upgrade",Y7="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",nJ=o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:Y7,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:W7}}]}),R4="container",rJ=[el("slotBehaviours",[])],aF=o=>"<alloy.field."+o+">",oJ=o=>{const c=(()=>{const H=[];return{slot:(ve,Ae)=>(H.push(ve),fT(R4,aF(ve),Ae)),record:F(H)}})(),g=o(c),S=c.record(),_=ne(S,H=>ic({name:H,pname:aF(H)}));return yT(R4,rJ,_,sJ,g)},sJ=(o,c)=>{const g=qt=>mT(o),S=(qt,Dn)=>ka(qt,o,Dn),_=(qt,Dn)=>(mn,on)=>ka(mn,o,on).map(kn=>qt(kn,on)).getOr(Dn),H=qt=>(Dn,mn)=>{pe(mn,on=>qt(Dn,on))},K=(qt,Dn)=>oa(qt.element,"aria-hidden")!=="true",ve=(qt,Dn)=>{if(!K(qt)){const mn=qt.element;Zo(mn,"display"),sa(mn,"aria-hidden"),vo(qt,My(),{name:Dn,visible:!0})}},Ae=(qt,Dn)=>{if(K(qt)){const mn=qt.element;Po(mn,"display","none"),Dr(mn,"aria-hidden","true"),vo(qt,My(),{name:Dn,visible:!1})}},Ne=_(K,!1),Ue=_(Ae),Je=H(Ue),st=qt=>Je(qt,g()),ht=_(ve),At={getSlotNames:g,getSlot:S,isShowing:Ne,hideSlot:Ue,hideAllSlots:st,showSlot:ht};return{uid:o.uid,dom:o.dom,components:c,behaviours:Lm(o.slotBehaviours),apis:At}},pu={...je({getSlotNames:(o,c)=>o.getSlotNames(c),getSlot:(o,c,g)=>o.getSlot(c,g),isShowing:(o,c,g)=>o.isShowing(c,g),hideSlot:(o,c,g)=>o.hideSlot(c,g),hideAllSlots:(o,c)=>o.hideAllSlots(c),showSlot:(o,c,g)=>o.showSlot(c,g)},o=>ev(o)),sketch:oJ},hce=uo([hd,GT,Di("onShow",M),Di("onHide",M),i1]),iF=o=>da("sidebar",hce,o),aJ=o=>{const{sidebars:c}=o.ui.registry.getAll();pe(ct(c),g=>{const S=c[g],_=()=>ln(L.from(o.queryCommandValue("ToggleSidebar")),g);o.ui.registry.addToggleButton(g,{icon:S.icon,tooltip:S.tooltip,onAction:H=>{o.execCommand("ToggleSidebar",!1,g),H.setActive(_())},onSetup:H=>{H.setActive(_());const K=()=>H.setActive(_());return o.on("ToggleSidebar",K),()=>{o.off("ToggleSidebar",K)}}})})},lF=o=>({element:()=>o.element.dom}),iJ=(o,c)=>{const g=ne(ct(c),S=>{const _=c[S],H=aa(iF(_));return{name:S,getApi:lF,onSetup:H.onSetup,onShow:H.onShow,onHide:H.onHide}});return ne(g,S=>{const _=X(M);return o.slot(S.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:KT.unnamedEvents([l1(S,_),rp(S,_),qn(My(),(H,K)=>{const ve=K.event;Ze(g,Ne=>Ne.name===ve.name).each(Ne=>{(ve.visible?Ne.onShow:Ne.onHide)(Ne.getApi(H))})})])})})},lJ=o=>pu.sketch(c=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:iJ(c,o),slotBehaviours:KT.unnamedEvents([Ca(g=>pu.hideAllSlots(g))])})),cJ=(o,c,g)=>{xs.getCurrent(o).each(_=>{Uo.set(_,[lJ(c)]);const H=g==null?void 0:g.toLowerCase();h(H)&&vn(c,H)&&xs.getCurrent(_).each(K=>{pu.showSlot(K,H),Vf.immediateGrow(_),Zo(_.element,"width"),D4(o.element,"region")})})},D4=(o,c)=>{Dr(o,"role",c)},uJ=(o,c)=>{xs.getCurrent(o).each(S=>{xs.getCurrent(S).each(H=>{Vf.hasGrown(S)?pu.isShowing(H,c)?(Vf.shrink(S),D4(o.element,"presentation")):(pu.hideAllSlots(H),pu.showSlot(H,c),D4(o.element,"region")):(pu.hideAllSlots(H),pu.showSlot(H,c),Vf.grow(S),D4(o.element,"region"))})})},cF=o=>xs.getCurrent(o).bind(g=>Vf.isGrowing(g)||Vf.hasGrown(g)?xs.getCurrent(g).bind(H=>Ze(pu.getSlotNames(H),K=>pu.isShowing(H,K))):L.none()),X7=Kr("FixSizeEvent"),G7=Kr("AutoSizeEvent"),fJ=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pr([Ga.config({}),Mo.config({}),Vf.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:c=>{xs.getCurrent(c).each(pu.hideAllSlots),ks(c,G7)},onGrown:c=>{ks(c,G7)},onStartGrow:c=>{vo(c,X7,{width:za(c.element,"width").getOr("")})},onStartShrink:c=>{vo(c,X7,{width:Si(c.element)+"px"})}}),Uo.config({}),xs.config({find:c=>{const g=Uo.contents(c);return Ce(g)}})])}],behaviours:pr([Ff.childAt(0),Jo("sidebar-sliding-events",[qn(X7,(c,g)=>{Po(c.element,"width",g.event.width)}),qn(G7,(c,g)=>{Zo(c.element,"width")})])])});var uF=Object.freeze({__proto__:null,block:(o,c,g,S)=>{Dr(o.element,"aria-busy",!0);const _=c.getRoot(o).getOr(o),H=pr([yo.config({mode:"special",onTab:()=>L.some(!0),onShiftTab:()=>L.some(!0)}),Mo.config({})]),K=S(_,H),ve=_.getSystem().build(K);Uo.append(_,nf(ve)),ve.hasConfigured(yo)&&c.focus&&yo.focusIn(ve),g.isBlocked()||c.onBlock(o),g.blockWith(()=>Uo.remove(_,ve))},unblock:(o,c,g)=>{sa(o.element,"aria-busy"),g.isBlocked()&&c.onUnblock(o),g.clear()},isBlocked:(o,c,g)=>g.isBlocked()}),hJ=[Di("getRoot",L.none),Wi("focus",!0),Rs("onBlock"),Rs("onUnblock")],bd=Object.freeze({__proto__:null,init:()=>{const o=cE(),c=g=>{o.set({destroy:g})};return Cu({readState:o.isSet,blockWith:c,clear:o.clear,isBlocked:o.isSet})}});const Xm=dl({fields:hJ,name:"blocking",apis:uF,state:bd}),fF=o=>(c,g)=>({dom:{tag:"div",attributes:{"aria-label":o.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Ov('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),j7=o=>xs.getCurrent(o).each(c=>cu(c.element,!0)),mJ=(o,c)=>{const g="tabindex",S=`data-mce-${g}`;L.from(o.iframeElement).map(zt.fromDom).each(_=>{c?(Ri(_,g).each(H=>Dr(_,S,H)),Dr(_,g,-1)):(sa(_,g),Ri(_,S).each(H=>{Dr(_,g,H),sa(_,S)}))})},F3=(o,c,g,S)=>{const _=c.element;if(mJ(o,g),g)Xm.block(c,fF(S)),Zo(_,"display"),sa(_,"aria-hidden"),o.hasFocus()&&j7(c);else{const H=xs.getCurrent(c).exists(K=>Wy(K.element));Xm.unblock(c),Po(_,"display","none"),Dr(_,"aria-hidden","true"),H&&o.focus()}},gJ=o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pr([Uo.config({}),Xm.config({focus:!1}),xs.config({find:c=>Ce(c.components())})]),components:[]}),$4=o=>o.type==="focusin",pJ=o=>$4(o)?(o.composed?Ce(o.composedPath()):L.from(o.target)).map(zt.fromDom).filter(St).exists(g=>Ji(g,"mce-pastebin")):!1,L4=(o,c,g)=>{const S=X(!1),_=gs(),H=ve=>{S.get()&&!pJ(ve)&&(ve.preventDefault(),j7(c()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",H),o.on("BeforeExecCommand",ve=>{ve.command.toLowerCase()==="mcefocus"&&ve.value!==!0&&H(ve)})});const K=ve=>{ve!==S.get()&&(S.set(ve),F3(o,c(),ve,g.providers),QI(o,ve))};o.on("ProgressState",ve=>{if(_.on(clearTimeout),T(ve.time)){const Ae=_b.setEditorTimeout(o,()=>K(ve.state),ve.time);_.set(Ae)}else K(ve.state),_.clear()})},vJ=(o,c)=>ke(o,(_,H)=>c(H,_.len).fold(F(_),ve=>({len:ve.finish,list:_.list.concat([ve])})),{len:0,list:[]}).list,q7=(o,c,g)=>({within:o,extra:c,withinWidth:g}),Od=(o,c,g)=>{const S=vJ(o,(ve,Ae)=>{const Ne=g(ve);return L.some({element:ve,start:Ae,finish:Ae+Ne,width:Ne})}),_=xe(S,ve=>ve.finish<=c),H=Le(_,(ve,Ae)=>ve+Ae.width,0),K=S.slice(_.length);return{within:_,extra:K,withinWidth:H}},I4=o=>ne(o,c=>c.element),N4=(o,c,g)=>{const S=I4(o.concat(c));return q7(S,[],g)},dF=(o,c,g,S)=>{const _=I4(o).concat([g]);return q7(_,I4(c),S)},hF=(o,c,g)=>q7(I4(o),[],g),yJ=(o,c,g)=>{const S=Od(c,o,g);return S.extra.length===0?L.some(S):L.none()},mF=(o,c,g,S)=>{const _=yJ(o,c,g).getOrThunk(()=>Od(c,o-g(S),g)),H=_.within,K=_.extra,ve=_.withinWidth;return K.length===1&&K[0].width<=g(S)?N4(H,K,ve):K.length>=1?dF(H,K,S,ve):hF(H,K,ve)},gF=(o,c)=>{const g=ne(c,S=>nf(S));Ym.setGroups(o,g)},bJ=o=>Xe(o,c=>ad(c.element).bind(g=>c.getSystem().getByDom(g).toOptional())),pF=(o,c,g)=>{const S=c.builtGroups.get();if(S.length===0)return;const _=Nm(o,c,"primary"),H=Mi.getCoupled(o,"overflowGroup");Po(_.element,"visibility","hidden");const K=S.concat([H]),ve=bJ(K);g([]),gF(_,K);const Ae=Si(_.element),Ne=mF(Ae,c.builtGroups.get(),Ue=>Si(Ue.element),H);Ne.extra.length===0?(Uo.remove(_,H),g([])):(gF(_,Ne.within),g(Ne.extra)),Zo(_.element,"visibility"),li(_.element),ve.each(Mo.focus)},vF=F([el("splitToolbarBehaviours",[Mi]),ei("builtGroups",()=>X([]))]),OJ=F([$g(["overflowToggledClass"]),Jf("getOverflowBounds"),er("lazySink"),ei("overflowGroups",()=>X([])),Rs("onOpened"),Rs("onClosed")].concat(vF())),xJ=F([ic({factory:Ym,schema:I2(),name:"primary"}),cd({schema:I2(),name:"overflow"}),cd({name:"overflow-button"}),cd({name:"overflow-group"})]),K7=F((o,c)=>{QS(o,Math.floor(c))}),yF=F([$g(["toggledClass"]),er("lazySink"),qu("fetch"),Jf("getBounds"),wc("fireDismissalEventInstead",[Mn("event",Ag())]),Ng(),Rs("onToggled")]),bF=F([cd({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pr([as.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),cd({factory:Ym,schema:I2(),name:"toolbar",overrides:o=>({toolbarBehaviours:pr([yo.config({mode:"cyclic",onEscape:c=>(ka(c,o,"button").each(Mo.focus),L.none())})])})})]),V3=gs(),SJ=(o,c)=>{V3.set(!0),J7(o,c),V3.clear()},J7=(o,c)=>{const g=Mi.getCoupled(o,"toolbarSandbox");As.isOpen(g)?As.close(g):As.open(g,c.toolbar())},B4=(o,c,g,S)=>{const _=g.getBounds.map(K=>K()),H=g.lazySink(o).getOrDie();ac.positionWithinBounds(H,c,{anchor:{type:"hotspot",hotspot:o,layouts:S,overrides:{maxWidthFunction:K7()}}},_)},eR=(o,c,g,S,_)=>{Ym.setGroups(c,_),B4(o,c,g,S),as.on(o)},OF=(o,c,g)=>{const S=rv(),_=(K,ve)=>{const Ae=V3.get().getOr(!1);g.fetch().get(Ne=>{eR(o,ve,g,c.layouts,Ne),S.link(o.element),Ae||yo.focusIn(ve)})},H=()=>{as.off(o),V3.get().getOr(!1)||Mo.focus(o),S.unlink(o.element)};return{dom:{tag:"div",attributes:{id:S.id}},behaviours:pr([yo.config({mode:"special",onEscape:K=>(As.close(K),L.some(!0))}),As.config({onOpen:_,onClose:H,isPartOf:(K,ve,Ae)=>Am(ve,Ae)||Am(o,Ae),getAttachPoint:()=>g.lazySink(o).getOrDie()}),lu.config({channels:{...cb({isExtraPart:Y,...g.fireDismissalEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({})}),...W0({doReposition:()=>{As.getState(Mi.getCoupled(o,"toolbarSandbox")).each(K=>{B4(o,K,g,c.layouts)})}})}})])}},w1=lc({name:"FloatingToolbarButton",factory:(o,c,g,S)=>({...Dl.sketch({...S.button(),action:_=>{J7(_,S)},buttonBehaviours:If.augment({dump:S.button().buttonBehaviours},[Mi.config({others:{toolbarSandbox:_=>OF(_,g,o)}})])}),apis:{setGroups:(_,H)=>{As.getState(Mi.getCoupled(_,"toolbarSandbox")).each(K=>{eR(_,K,o,g.layouts,H)})},reposition:_=>{As.getState(Mi.getCoupled(_,"toolbarSandbox")).each(H=>{B4(_,H,o,g.layouts)})},toggle:_=>{J7(_,S)},toggleWithoutFocusing:_=>{SJ(_,S)},getToolbar:_=>As.getState(Mi.getCoupled(_,"toolbarSandbox")),isOpen:_=>As.isOpen(Mi.getCoupled(_,"toolbarSandbox"))}}),configFields:yF(),partFields:bF(),apis:{setGroups:(o,c,g)=>{o.setGroups(c,g)},reposition:(o,c)=>{o.reposition(c)},toggle:(o,c)=>{o.toggle(c)},toggleWithoutFocusing:(o,c)=>{o.toggleWithoutFocusing(c)},getToolbar:(o,c)=>o.getToolbar(c),isOpen:(o,c)=>o.isOpen(c)}}),wJ=F([er("items"),$g(["itemSelector"]),el("tgroupBehaviours",[yo])]),xF=F([yb({name:"items",unit:"item"})]),TJ=(o,c,g,S)=>({uid:o.uid,dom:o.dom,components:c,behaviours:Ni(o.tgroupBehaviours,[yo.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Q4=lc({name:"ToolbarGroup",configFields:wJ(),partFields:xF(),factory:TJ}),SF=o=>ne(o,c=>nf(c)),wF=(o,c,g)=>{pF(o,g,S=>{g.overflowGroups.set(S),c.getOpt(o).each(_=>{w1.setGroups(_,SF(S))})})},CJ=(o,c,g,S)=>{const _=ia(w1.sketch({fetch:()=>$c.nu(H=>{H(SF(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Gl,ul],onRtl:()=>[ul,Gl],onBottomLtr:()=>[sc,Yc],onBottomRtl:()=>[Yc,sc]},getBounds:g.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:S["overflow-button"](),toolbar:S.overflow()},onToggled:(H,K)=>o[K?"onOpened":"onClosed"](H)}));return{uid:o.uid,dom:o.dom,components:c,behaviours:Ni(o.splitToolbarBehaviours,[Mi.config({others:{overflowGroup:()=>Q4.sketch({...S["overflow-group"](),items:[_.asSpec()]})}})]),apis:{setGroups:(H,K)=>{o.builtGroups.set(ne(K,H.getSystem().build)),wF(H,_,o)},refresh:H=>wF(H,_,o),toggle:H=>{_.getOpt(H).each(K=>{w1.toggle(K)})},toggleWithoutFocusing:H=>{_.getOpt(H).each(w1.toggleWithoutFocusing)},isOpen:H=>_.getOpt(H).map(w1.isOpen).getOr(!1),reposition:H=>{_.getOpt(H).each(K=>{w1.reposition(K)})},getOverflow:H=>_.getOpt(H).bind(w1.getToolbar)},domModification:{attributes:{role:"group"}}}},TF=lc({name:"SplitFloatingToolbar",configFields:OJ(),partFields:xJ(),factory:CJ,apis:{setGroups:(o,c,g)=>{o.setGroups(c,g)},refresh:(o,c)=>{o.refresh(c)},reposition:(o,c)=>{o.reposition(c)},toggle:(o,c)=>{o.toggle(c)},toggleWithoutFocusing:(o,c)=>{o.toggle(c)},isOpen:(o,c)=>o.isOpen(c),getOverflow:(o,c)=>o.getOverflow(c)}}),kJ=F([$g(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Rs("onOpened"),Rs("onClosed")].concat(vF())),AJ=F([ic({factory:Ym,schema:I2(),name:"primary"}),ic({factory:Ym,schema:I2(),name:"overflow",overrides:o=>({toolbarBehaviours:pr([Vf.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:c=>{ka(c,o,"overflow-button").each(g=>{as.off(g),Mo.focus(g)}),o.onClosed(c)},onGrown:c=>{yo.focusIn(c),o.onOpened(c)},onStartGrow:c=>{ka(c,o,"overflow-button").each(as.on)}}),yo.config({mode:"acyclic",onEscape:c=>(ka(c,o,"overflow-button").each(Mo.focus),L.some(!0))})])})}),cd({name:"overflow-button",overrides:o=>({buttonBehaviours:pr([as.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),cd({name:"overflow-group"})]),PJ=(o,c)=>ka(o,c,"overflow").map(Vf.hasGrown).getOr(!1),CF=(o,c)=>{ka(o,c,"overflow-button").bind(()=>ka(o,c,"overflow")).each(g=>{F4(o,c),Vf.toggleGrow(g)})},F4=(o,c)=>{ka(o,c,"overflow").each(g=>{pF(o,c,S=>{const _=ne(S,H=>nf(H));Ym.setGroups(g,_)}),ka(o,c,"overflow-button").each(S=>{Vf.hasGrown(g)&&as.on(S)}),Vf.refresh(g)})},MJ=(o,c,g,S)=>{const _="alloy.toolbar.toggle",H=(K,ve)=>{const Ae=ne(ve,K.getSystem().build);o.builtGroups.set(Ae)};return{uid:o.uid,dom:o.dom,components:c,behaviours:Ni(o.splitToolbarBehaviours,[Mi.config({others:{overflowGroup:K=>Q4.sketch({...S["overflow-group"](),items:[Dl.sketch({...S["overflow-button"](),action:ve=>{ks(K,_)}})]})}}),Jo("toolbar-toggle-events",[qn(_,K=>{CF(K,o)})])]),apis:{setGroups:(K,ve)=>{H(K,ve),F4(K,o)},refresh:K=>F4(K,o),toggle:K=>CF(K,o),isOpen:K=>PJ(K,o)},domModification:{attributes:{role:"group"}}}},tR=lc({name:"SplitSlidingToolbar",configFields:kJ(),partFields:AJ(),factory:MJ,apis:{setGroups:(o,c,g)=>{o.setGroups(c,g)},refresh:(o,c)=>{o.refresh(c)},toggle:(o,c)=>{o.toggle(c)},isOpen:(o,c)=>o.isOpen(c)}}),V4=o=>{const c=o.title.fold(()=>({}),g=>({attributes:{title:g}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...c},components:[Q4.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:pr([Ga.config({}),Mo.config({})])}},z4=o=>Q4.sketch(V4(o)),z3=(o,c)=>{const g=Ca(S=>{const _=ne(o.initGroups,z4);Ym.setGroups(S,_)});return pr([tl.toolbarButton(o.providers.isDisabled),gl(),yo.config({mode:c,onEscape:o.onEscape,selector:".tox-toolbar__group"}),Jo("toolbar-events",[g])])},kF=o=>{const c=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":V4({title:L.none(),items:[]}),"overflow-button":Mq({name:"more",icon:L.some("more-drawer"),enabled:!0,tooltip:L.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:L.none(),borderless:!1},L.none(),o.providers)},splitToolbarBehaviours:z3(o,c)}},AF=o=>{const c=kF(o),g=4,S=TF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return TF.sketch({...c,lazySink:o.getSink,getOverflowBounds:()=>{const _=o.moreDrawerData.lazyHeader().element,H=wu(_),K=pn(_),ve=wu(K),Ae=Math.max(K.dom.scrollHeight,ve.height);return Ja(H.x+g,ve.y,H.width-g*2,Ae)},parts:{...c.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[S],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:_=>o.onToggled(_,!0),onClosed:_=>o.onToggled(_,!1)})},EJ=o=>{const c=tR.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),g=tR.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),S=kF(o);return tR.sketch({...S,components:[c,g],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:_=>{_.getSystem().broadcastOn([S1()],{type:"opened"}),o.onToggled(_,!0)},onClosed:_=>{_.getSystem().broadcastOn([S1()],{type:"closed"}),o.onToggled(_,!1)}})},Z4=o=>{const c=o.cyclicKeying?"cyclic":"acyclic";return Ym.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Qf.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ym.parts.groups({})],toolbarBehaviours:z3(o,c)})},_J=[tp,hd,ll("tooltip"),Hc("buttonType","secondary",["primary","secondary"]),Wi("borderless",!1),qu("onAction")],RJ=[..._J,wv,Rf("type",["button"])],DJ=[..._J,Wi("active",!1),Rf("type",["togglebutton"])],H4={button:RJ,togglebutton:DJ},$J=[Rf("type",["group"]),Cc("buttons",[],Os("type",H4))],U4=Os("type",{...H4,group:$J}),PF=uo([Cc("buttons",[],U4),qu("onShow"),qu("onHide")]),MF=o=>da("view",PF,o),nR=(o,c)=>{var g,S;const _=o.type==="togglebutton",H=o.icon.map(kn=>y1(kn,c.icons)).map(ia),ve=(()=>kn=>{const Zn=Or=>{H.map(Mr=>Mr.getOpt(kn).each(is=>{Uo.set(is,[y1(Or,c.icons)])}))},mr=Or=>{const Mr=kn.element;Or?(ki(Mr,"tox-button--enabled"),Dr(Mr,"aria-pressed",!0)):(Xa(Mr,"tox-button--enabled"),sa(Mr,"aria-pressed"))},Gn=()=>Ji(kn.element,"tox-button--enabled");if(_)return o.onAction({setIcon:Zn,setActive:mr,isActive:Gn});if(o.type==="button")return o.onAction({setIcon:Zn})})(),Ae={...o,name:_?o.text.getOr(o.icon.getOr("")):(g=o.text)!==null&&g!==void 0?g:o.icon.getOr(""),primary:o.buttonType==="primary",buttonType:L.from(o.buttonType),tooltip:o.tooltip,icon:o.icon,enabled:!0,borderless:o.borderless},Ne=g7((S=o.buttonType)!==null&&S!==void 0?S:"secondary"),Ue=_?o.text.map(c.translate):L.some(c.translate(o.text)),Je=Ue.map(yi),st=Ae.tooltip.or(Ue).map(kn=>({"aria-label":c.translate(kn),title:c.translate(kn)})).getOr({}),ht=H.map(kn=>kn.asSpec()),At=p2([ht,Je]),qt=o.icon.isSome()&&Je.isSome(),Dn={tag:"button",classes:Ne.concat(...o.icon.isSome()&&!qt?["tox-button--icon"]:[]).concat(...qt?["tox-button--icon-and-text"]:[]).concat(...o.borderless?["tox-button--naked"]:[]).concat(...o.type==="togglebutton"&&o.active?["tox-button--enabled"]:[]),attributes:st},mn=[],on=y4(Ae,L.some(ve),mn,Dn,At,c);return Dl.sketch(on)},EF=(o,c)=>nR(o,c),_F=(o,c)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:ne(o.buttons,g=>EF(g,c))}),Yb=jf().deviceType,RF=Yb.isPhone(),LJ=Yb.isTablet(),IJ=o=>{let c=!1;const g=ne(o.buttons,S=>S.type==="group"?(c=!0,_F(S,o.providers)):EF(S,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[c?"tox-view__toolbar":"tox-view__header",...RF||LJ?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:pr([Mo.config({}),yo.config({mode:"flow",selector:"button, .tox-button",focusInside:j.OnEnterOrSpaceMode})]),components:c?g:[Um.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Um.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:g})]}},NJ=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),rR=(o,c,g,S)=>{const _={getPane:H=>xl.getPart(H,o,"pane"),getOnShow:H=>o.viewConfig.onShow,getOnHide:H=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:c,apis:_}};var Q2=lc({name:"silver.View",configFields:[er("viewConfig")],partFields:[fu({factory:{sketch:IJ},schema:[er("buttons"),er("providers")],name:"header"}),fu({factory:{sketch:NJ},schema:[],name:"pane"})],factory:rR,apis:{getPane:(o,c)=>o.getPane(c),getOnShow:(o,c)=>o.getOnShow(c),getOnHide:(o,c)=>o.getOnHide(c)}});const BJ=(o,c,g)=>Xt(c,(S,_)=>{const H=aa(MF(S));return o.slot(_,Q2.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:H,components:[...H.buttons.length>0?[Q2.parts.header({buttons:H.buttons,providers:g})]:[],Q2.parts.pane({})]}))}),DF=(o,c)=>pu.sketch(g=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:BJ(g,o,c),slotBehaviours:KT.unnamedEvents([Ca(S=>pu.hideAllSlots(S))])})),oR=o=>Ze(pu.getSlotNames(o),c=>pu.isShowing(o,c)),W4=o=>{const c=o.element;Po(c,"display","none"),Dr(c,"aria-hidden","true")},sR=o=>{const c=o.element;Zo(c,"display"),sa(c,"aria-hidden")},QJ=o=>({getContainer:F(o)}),$F=(o,c,g)=>{pu.getSlot(o,c).each(S=>{Q2.getPane(S).each(_=>{g(S)(QJ(_.element.dom))})})},LF=(o,c)=>$F(o,c,Q2.getOnShow),FJ=(o,c)=>$F(o,c,Q2.getOnHide);var Y4=_u({factory:(o,c)=>{const H={setViews:(K,ve)=>{Uo.set(K,[DF(ve,c.backstage.shared.providers)])},whichView:K=>xs.getCurrent(K).bind(oR),toggleView:(K,ve,Ae,Ne)=>xs.getCurrent(K).exists(Ue=>{const Je=oR(Ue),st=Je.exists(At=>Ne===At),ht=pu.getSlot(Ue,Ne).isSome();return ht&&(pu.hideAllSlots(Ue),st?(W4(K),ve()):(Ae(),sR(K),pu.showSlot(Ue,Ne),LF(Ue,Ne)),Je.each(At=>FJ(Ue,At))),ht})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pr([Uo.config({}),xs.config({find:K=>{const ve=Uo.contents(K);return Ce(ve)}})]),apis:H}},name:"silver.ViewWrapper",configFields:[er("backstage")],apis:{setViews:(o,c,g)=>o.setViews(c,g),toggleView:(o,c,g,S,_)=>o.toggleView(c,g,S,_),whichView:(o,c)=>o.whichView(c)}});const IF=(o,c,g)=>{let S=!1;const _={getSocket:H=>xl.getPart(H,o,"socket"),setSidebar:(H,K,ve)=>{xl.getPart(H,o,"sidebar").each(Ae=>cJ(Ae,K,ve))},toggleSidebar:(H,K)=>{xl.getPart(H,o,"sidebar").each(ve=>uJ(ve,K))},whichSidebar:H=>xl.getPart(H,o,"sidebar").bind(cF).getOrNull(),getHeader:H=>xl.getPart(H,o,"header"),getToolbar:H=>xl.getPart(H,o,"toolbar"),setToolbar:(H,K)=>{xl.getPart(H,o,"toolbar").each(ve=>{const Ae=ne(K,z4);ve.getApis().setGroups(ve,Ae)})},setToolbars:(H,K)=>{xl.getPart(H,o,"multiple-toolbar").each(ve=>{const Ae=ne(K,Ne=>ne(Ne,z4));k4.setItems(ve,Ae)})},refreshToolbar:H=>{xl.getPart(H,o,"toolbar").each(ve=>ve.getApis().refresh(ve))},toggleToolbarDrawer:H=>{xl.getPart(H,o,"toolbar").each(K=>{Sn(K.getApis().toggle,ve=>ve(K))})},toggleToolbarDrawerWithoutFocusing:H=>{xl.getPart(H,o,"toolbar").each(K=>{Sn(K.getApis().toggleWithoutFocusing,ve=>ve(K))})},isToolbarDrawerToggled:H=>xl.getPart(H,o,"toolbar").bind(K=>L.from(K.getApis().isOpen).map(ve=>ve(K))).getOr(!1),getThrobber:H=>xl.getPart(H,o,"throbber"),focusToolbar:H=>{xl.getPart(H,o,"toolbar").orThunk(()=>xl.getPart(H,o,"multiple-toolbar")).each(ve=>{yo.focusIn(ve)})},setMenubar:(H,K)=>{xl.getPart(H,o,"menubar").each(ve=>{U7.setMenus(ve,K)})},focusMenubar:H=>{xl.getPart(H,o,"menubar").each(K=>{U7.focus(K)})},setViews:(H,K)=>{xl.getPart(H,o,"viewWrapper").each(ve=>{Y4.setViews(ve,K)})},toggleView:(H,K)=>xl.getPart(H,o,"viewWrapper").exists(ve=>Y4.toggleView(ve,()=>_.showMainView(H),()=>_.hideMainView(H),K)),whichView:H=>xl.getPart(H,o,"viewWrapper").bind(Y4.whichView).getOrNull(),hideMainView:H=>{S=_.isToolbarDrawerToggled(H),S&&_.toggleToolbarDrawer(H),xl.getPart(H,o,"editorContainer").each(K=>{const ve=K.element;Po(ve,"display","none"),Dr(ve,"aria-hidden","true")})},showMainView:H=>{S&&_.toggleToolbarDrawer(H),xl.getPart(H,o,"editorContainer").each(K=>{const ve=K.element;Zo(ve,"display"),sa(ve,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:c,apis:_,behaviours:o.behaviours}},VJ=dp.optional({factory:U7,name:"menubar",schema:[er("backstage")]}),zJ=o=>o.type===Qf.sliding?EJ:o.type===Qf.floating?AF:Z4,aR=dp.optional({factory:{sketch:o=>k4.sketch({uid:o.uid,dom:o.dom,listBehaviours:pr([yo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Z4({type:o.type,uid:Kr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),L.some(!0))}),setupItem:(c,g,S,_)=>{Ym.setGroups(g,S)},shell:!0})},name:"multiple-toolbar",schema:[er("dom"),er("onEscape")]}),ZJ=dp.optional({factory:{sketch:o=>{const c=zJ(o),g={type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),L.some(!0)),onToggled:(S,_)=>o.onToolbarToggled(_),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes};return c(g)}},name:"toolbar",schema:[er("dom"),er("onEscape"),er("getSink")]}),HJ=dp.optional({factory:{sketch:sF},name:"header",schema:[er("dom")]}),NF=dp.optional({factory:{sketch:nJ},name:"promotion",schema:[er("dom")]}),UJ=dp.optional({name:"socket",schema:[er("dom")]}),BF=dp.optional({factory:{sketch:fJ},name:"sidebar",schema:[er("dom")]}),WJ=dp.optional({factory:{sketch:gJ},name:"throbber",schema:[er("dom")]}),QF=dp.optional({factory:Y4,name:"viewWrapper",schema:[er("backstage")]}),YJ=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components}),XJ=dp.optional({factory:{sketch:YJ},name:"editorContainer",schema:[]});var $a=lc({name:"OuterContainer",factory:IF,configFields:[er("dom"),er("behaviours")],partFields:[HJ,VJ,ZJ,aR,UJ,BF,NF,WJ,QF,XJ],apis:{getSocket:(o,c)=>o.getSocket(c),setSidebar:(o,c,g,S)=>{o.setSidebar(c,g,S)},toggleSidebar:(o,c,g)=>{o.toggleSidebar(c,g)},whichSidebar:(o,c)=>o.whichSidebar(c),getHeader:(o,c)=>o.getHeader(c),getToolbar:(o,c)=>o.getToolbar(c),setToolbar:(o,c,g)=>{o.setToolbar(c,g)},setToolbars:(o,c,g)=>{o.setToolbars(c,g)},refreshToolbar:(o,c)=>o.refreshToolbar(c),toggleToolbarDrawer:(o,c)=>{o.toggleToolbarDrawer(c)},toggleToolbarDrawerWithoutFocusing:(o,c)=>{o.toggleToolbarDrawerWithoutFocusing(c)},isToolbarDrawerToggled:(o,c)=>o.isToolbarDrawerToggled(c),getThrobber:(o,c)=>o.getThrobber(c),setMenubar:(o,c,g)=>{o.setMenubar(c,g)},focusMenubar:(o,c)=>{o.focusMenubar(c)},focusToolbar:(o,c)=>{o.focusToolbar(c)},setViews:(o,c,g)=>{o.setViews(c,g)},toggleView:(o,c,g)=>o.toggleView(c,g),whichView:(o,c)=>o.whichView(c)}});const FF="file edit view insert format tools table help",VF={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},GJ=(o,c,g)=>{const S=j_(g).split(/[ ,]/);return{text:o.title,getItems:()=>re(o.items,_=>{const H=_.toLowerCase();return H.trim().length===0?[]:Te(S,K=>K===H)?[]:H==="separator"||H==="|"?[{type:"separator"}]:c.menuItems[H]?[c.menuItems[H]]:[]})}},iR=o=>o.split(" "),X4=(o,c)=>{const g={...VF,...c.menus},S=ct(c.menus).length>0,_=c.menubar===void 0||c.menubar===!0?iR(FF):iR(c.menubar===!1?"":c.menubar),H=xe(_,ve=>{const Ae=vn(VF,ve);return S?Ae||Bt(c.menus,ve).exists(Ne=>vn(Ne,"items")):Ae}),K=ne(H,ve=>{const Ae=g[ve];return GJ({title:Ae.title,items:iR(Ae.items)},c,o)});return xe(K,ve=>{const Ae=Ne=>h(Ne)||Ne.type!=="separator";return ve.getItems().length>0&&Te(ve.getItems(),Ae)})},lR=o=>{const c=()=>{o._skinLoaded=!0,fX(o)};return()=>{o.initialized?c():o.on("init",c)}},jJ=(o,c)=>()=>W8(o,{message:c}),zF=(o,c,g)=>(o.on("remove",()=>g.unload(c)),g.load(c)),cR=(o,c,g,S)=>(o.on("remove",()=>S.unloadRawCss(c)),S.loadRawCss(c,g)),qJ=async(o,c)=>{const S="ui/"+o8(o).getOr("default")+"/skin.css",_=tinymce.Resource.get(S);if(h(_))return Promise.resolve(cR(o,S,_,o.ui.styleSheetLoader));{const H=c+"/skin.min.css";return zF(o,H,o.ui.styleSheetLoader)}},KJ=async(o,c)=>{if(Wa(zt.fromDom(o.getElement()))){const S=c+"/skin.shadowdom.css",_=tinymce.Resource.get(S);if(h(_))return cR(o,S,_,$b.DOM.styleSheetLoader),Promise.resolve();{const H=c+"/skin.shadowdom.min.css";return zF(o,H,$b.DOM.styleSheetLoader)}}},JJ=async(o,c)=>{o8(c).fold(()=>{const S=r5(c);S&&c.contentCSS.push(S+(o?"/content.inline":"/content")+".min.css")},S=>{const _="ui/"+S+(o?"/content.inline":"/content")+".css",H=tinymce.Resource.get(_);if(h(H))cR(c,_,H,c.ui.styleSheetLoader);else{const K=r5(c);K&&c.contentCSS.push(K+(o?"/content.inline":"/content")+".min.css")}});const g=r5(c);if(!r8(c)&&h(g))return Promise.all([qJ(c,g),KJ(c,g)]).then()},ZF=(o,c)=>JJ(o,c).then(lR(c),jJ(c,"Skin could not be loaded")),eee=Q(ZF,!1),tee=Q(ZF,!0),Xb=(o,c,g)=>o.translate([`${c} {0}`,o.translate(g)]),G4=(o,c,g)=>{const S=(ve,Ae,Ne,Ue)=>{const Je=c.shared.providers.translate(ve.title);if(ve.type==="separator")return L.some({type:"separator",text:Je});if(ve.type==="submenu"){const st=re(ve.getStyleItems(),ht=>_(ht,Ae,Ue));return Ae===0&&st.length<=0?L.none():L.some({type:"nestedmenuitem",text:Je,enabled:st.length>0,getSubmenuItems:()=>re(ve.getStyleItems(),ht=>_(ht,Ae,Ue))})}else return L.some({type:"togglemenuitem",text:Je,icon:ve.icon,active:ve.isSelected(Ue),enabled:!Ne,onAction:g.onAction(ve),...ve.getStylePreview().fold(()=>({}),st=>({meta:{style:st}}))})},_=(ve,Ae,Ne)=>{const Ue=ve.type==="formatter"&&g.isInvalid(ve);return Ae===0?Ue?[]:S(ve,Ae,!1,Ne).toArray():S(ve,Ae,Ue,Ne).toArray()},H=ve=>{const Ae=g.getCurrentValue(),Ne=g.shouldHide?0:1;return re(ve,Ue=>_(Ue,Ne,Ae))};return{validateItems:H,getFetch:(ve,Ae)=>(Ne,Ue)=>{const Je=Ae(),st=H(Je),ht=M2(st,Hm.CLOSE_ON_EXECUTE,ve,{isHorizontalMenu:!1,search:L.none()});Ue(ht)}}},T1=(o,c,g)=>{const S=g.dataset,_=S.type==="basic"?()=>ne(S.data,H=>S7(H,g.isSelectedFor,g.getPreviewFor)):S.getData;return{items:G4(o,c,g),getStyleItems:_}},F2=(o,c,g,S,_)=>{const{items:H,getStyleItems:K}=T1(o,c,g),ve=Ne=>({getComponent:F(Ne),setTooltip:Ue=>{const Je=c.shared.providers.translate(Ue);yc(Ne.element,{"aria-label":Je,title:Je})}}),Ae=Ne=>{const Ue=Je=>Ne.setTooltip(Xb(o,S,Je.value));return o.on(_,Ue),r3(Vh(o,"NodeChange",Je=>{const st=Je.getComponent();g.updateText(st),Co.set(Je.getComponent(),!o.selection.isEditable())})(Ne),()=>o.off(_,Ue))};return c4({text:g.icon.isSome()?L.none():g.text,icon:g.icon,tooltip:L.from(g.tooltip),role:L.none(),fetch:H.getFetch(c,K),onSetup:Ae,getApi:ve,columns:1,presets:"normal",classes:g.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",c.shared)},C1=o=>ne(o,c=>{let g=c,S=c;const _=c.split("=");return _.length>1&&(g=_[0],S=_[1]),{title:g,format:S}}),HF=o=>({type:"basic",data:o});var V2;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(V2||(V2={}));const nee=(o,c)=>c===V2.SemiColon?o.replace(/;$/,"").split(";"):o.split(" "),uR=(o,c,g)=>{const S=o.options.get(c);return{type:"basic",data:C1(nee(S,g))}},fR="Align",UF="left",dR=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],WF=o=>{const c=()=>Ze(dR,ve=>o.formatter.match(ve.format)),g=ve=>()=>o.formatter.match(ve),S=ve=>L.none,_=ve=>{const Ne=c().fold(F(UF),Ue=>Ue.title.toLowerCase());vo(ve,b1,{icon:`align-${Ne}`}),gX(o,{value:Ne})},H=HF(dR),K=ve=>()=>Ze(dR,Ae=>Ae.format===ve.format).each(Ae=>o.execCommand(Ae.command));return{tooltip:Xb(o,fR,UF),text:L.none(),icon:L.some("align-left"),isSelectedFor:g,getCurrentValue:L.none,getPreviewFor:S,onAction:K,updateText:_,dataset:H,shouldHide:!1,isInvalid:ve=>!o.formatter.canApply(ve.format)}},YF=(o,c)=>F2(o,c,WF(o),fR,"AlignTextUpdate"),ree=(o,c)=>{const g=T1(o,c,WF(o));o.ui.registry.addNestedMenuItem("align",{text:c.shared.providers.translate(fR),onSetup:gu(o),getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})},XF=(o,c)=>{const g=c(),S=ne(g,_=>_.format);return L.from(o.formatter.closest(S)).bind(_=>Ze(g,H=>H.format===_)).orThunk(()=>it(o.formatter.match("p"),{title:"Paragraph",format:"p"}))},Z3="Blocks",hR="Paragraph",GF=o=>{const c=H=>()=>o.formatter.match(H),g=H=>()=>{const K=o.formatter.get(H);return K?L.some({tag:K.length>0&&(K[0].inline||K[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(H))}):L.none()},S=H=>{const ve=XF(o,()=>_.data).fold(F(hR),Ae=>Ae.title);vo(H,rh,{text:ve}),VI(o,{value:ve})},_=uR(o,"block_formats",V2.SemiColon);return{tooltip:Xb(o,Z3,hR),text:L.some(hR),icon:L.none(),isSelectedFor:c,getCurrentValue:L.none,getPreviewFor:g,onAction:ZI(o),updateText:S,dataset:_,shouldHide:!1,isInvalid:H=>!o.formatter.canApply(H.format)}},oee=(o,c)=>F2(o,c,GF(o),Z3,"BlocksTextUpdate"),see=(o,c)=>{const g=T1(o,c,GF(o));o.ui.registry.addNestedMenuItem("blocks",{text:Z3,onSetup:gu(o),getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})},mR="Fonts",gR="System Font",jF=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],pR=o=>{const c=o.split(/\s*,\s*/);return ne(c,g=>g.replace(/^['"]+|['"]+$/g,""))},vR=(o,c)=>c.length>0&&ye(c,g=>o.indexOf(g.toLowerCase())>-1),aee=(o,c)=>{if(o.indexOf("-apple-system")===0||c.length>0){const g=pR(o.toLowerCase());return vR(g,jF)||vR(g,c)}else return!1},yR=o=>{const c=()=>{const Ae=At=>At?pR(At)[0]:"",Ne=o.queryCommandValue("FontName"),Ue=ve.data,Je=Ne?Ne.toLowerCase():"",st=AL(o);return{matchOpt:Ze(Ue,At=>{const qt=At.format;return qt.toLowerCase()===Je||Ae(qt).toLowerCase()===Ae(Je).toLowerCase()}).orThunk(()=>it(aee(Je,st),{title:gR,format:Je})),font:Ne}},g=Ae=>Ne=>Ne.exists(Ue=>Ue.format===Ae),S=()=>{const{matchOpt:Ae}=c();return Ae},_=Ae=>()=>L.some({tag:"div",styles:Ae.indexOf("dings")===-1?{"font-family":Ae}:{}}),H=Ae=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,Ae.format)})},K=Ae=>{const{matchOpt:Ne,font:Ue}=c(),Je=Ne.fold(F(Ue),st=>st.title);vo(Ae,rh,{text:Je}),zI(o,{value:Je})},ve=uR(o,"font_family_formats",V2.SemiColon);return{tooltip:Xb(o,mR,gR),text:L.some(gR),icon:L.none(),isSelectedFor:g,getCurrentValue:S,getPreviewFor:_,onAction:H,updateText:K,dataset:ve,shouldHide:!1,isInvalid:Y}},iee=(o,c)=>F2(o,c,yR(o),mR,"FontFamilyTextUpdate"),lee=(o,c)=>{const g=T1(o,c,yR(o));o.ui.registry.addNestedMenuItem("fontfamily",{text:c.shared.providers.translate(mR),onSetup:gu(o),getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})},cee={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},qF=(()=>{const o="[0-9]+",g="[eE]"+("[+-]?"+o),S="\\.",_=ve=>`(?:${ve})?`,K=`[+-]?(?:${["Infinity",o+S+_(o)+_(g),S+o+_(g),o+_(g)].join("|")})`;return new RegExp(`^(${K})(.*)$`)})(),uee=(o,c)=>Te(c,g=>Te(cee[g],S=>o===S)),H3=(o,c)=>L.from(qF.exec(o)).bind(S=>{const _=Number(S[1]),H=S[2];return uee(H,c)?L.some({value:_,unit:H}):L.none()}),fee=(o,c)=>H3(o,c).map(({value:g,unit:S})=>g+S),KF={tab:F(9),escape:F(27),enter:F(13),backspace:F(8),delete:F(46),left:F(37),up:F(38),right:F(39),down:F(40),space:F(32),home:F(36),end:F(35),pageUp:F(33),pageDown:F(34)},dee=(o,c,g)=>{let S=L.none();const _=on=>on.map(kn=>Fr.getValue(kn)).getOr(""),H=Vh(o,"NodeChange SwitchMode",on=>{const kn=on.getComponent();S=L.some(kn),g.updateInputValue(kn),Co.set(kn,!o.selection.isEditable())}),K=on=>({getComponent:F(on)}),ve=X(M),Ae=Kr("custom-number-input-events"),Ne=(on,kn,Zn)=>{const mr=_(S),Gn=g.getNewValue(mr,on),Or=mr.length-`${Gn}`.length,Mr=S.map(Gr=>Gr.element.dom.selectionStart-Or),is=S.map(Gr=>Gr.element.dom.selectionEnd-Or);g.onAction(Gn,Zn),S.each(Gr=>{Fr.setValue(Gr,Gn),kn&&(Mr.each(Io=>Gr.element.dom.selectionStart=Io),is.each(Io=>Gr.element.dom.selectionEnd=Io))})},Ue=(on,kn)=>Ne((Zn,mr)=>Zn-mr,on,kn),Je=(on,kn)=>Ne((Zn,mr)=>Zn+mr,on,kn),st=on=>dr(on.element).fold(L.none,kn=>(cu(kn),L.some(!0))),ht=on=>Wy(on.element)?(ko(on.element).each(kn=>cu(kn)),L.some(!0)):L.none(),At=(on,kn,Zn,mr)=>{const Gn=X(M),Or=c.shared.providers.translate(Zn),Mr=Kr("altExecuting"),is=Vh(o,"NodeChange SwitchMode",Io=>{Co.set(Io.getComponent(),!o.selection.isEditable())}),Gr=Io=>{Co.isDisabled(Io)||on(!0)};return Dl.sketch({dom:{tag:"button",attributes:{title:Or,"aria-label":Or},classes:mr.concat(kn)},components:[l4(kn,c.shared.providers.icons)],buttonBehaviours:pr([Co.config({}),Jo(Mr,[l1({onSetup:is,getApi:K},Gn),rp({getApi:K},Gn),qn(_s(),(Io,_o)=>{(_o.event.raw.keyCode===KF.space()||_o.event.raw.keyCode===KF.enter())&&(Co.isDisabled(Io)||on(!1))}),qn($i(),Gr),qn(ts(),Gr)])]),eventOrder:{[_s()]:[Mr,"keying"],[$i()]:[Mr,"alloy.base.behaviour"],[ts()]:[Mr,"alloy.base.behaviour"]}})},qt=ia(At(on=>Ue(!1,on),"minus","Decrease font size",[])),Dn=ia(At(on=>Je(!1,on),"plus","Increase font size",[])),mn=ia({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Ib.sketch({inputBehaviours:pr([Co.config({}),Jo(Ae,[l1({onSetup:H,getApi:K},ve),rp({getApi:K},ve)]),Jo("input-update-display-text",[qn(rh,(on,kn)=>{Fr.setValue(on,kn.event.text)}),qn(ms(),on=>{g.onAction(Fr.getValue(on))}),qn(Yi(),on=>{g.onAction(Fr.getValue(on))})]),yo.config({mode:"special",onEnter:on=>(Ne(z,!0,!0),L.some(!0)),onEscape:st,onUp:on=>(Je(!0,!1),L.some(!0)),onDown:on=>(Ue(!0,!1),L.some(!0)),onLeft:(on,kn)=>(kn.cut(),L.none()),onRight:(on,kn)=>(kn.cut(),L.none())})])})],behaviours:pr([Mo.config({}),yo.config({mode:"special",onEnter:ht,onSpace:ht,onEscape:st}),Jo("input-wrapper-events",[qn(Lr(),on=>{pe([qt,Dn],kn=>{const Zn=zt.fromDom(kn.get(on).element.dom);Wy(Zn)&&M0(Zn)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[qt.asSpec(),mn.asSpec(),Dn.asSpec()],behaviours:pr([Mo.config({}),yo.config({mode:"flow",focusInside:j.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:on=>Wy(on.element)?L.none():(cu(on.element),L.some(!0))})])}},bR="Font sizes",JF="12pt",hee={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},mee={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},eV=(o,c)=>{const g=Math.pow(10,c);return Math.round(o*g)/g},gee=(o,c)=>/[0-9.]+px$/.test(o)?eV(parseInt(o,10)*72/96,c||0)+"pt":Bt(mee,o).getOr(o),pee=o=>Bt(hee,o).getOr(""),tV=o=>{const c=()=>{let Ae=L.none();const Ne=ve.data,Ue=o.queryCommandValue("FontSize");if(Ue)for(let Je=3;Ae.isNone()&&Je>=0;Je--){const st=gee(Ue,Je),ht=pee(st);Ae=Ze(Ne,At=>At.format===Ue||At.format===st||At.format===ht)}return{matchOpt:Ae,size:Ue}},g=Ae=>Ne=>Ne.exists(Ue=>Ue.format===Ae),S=()=>{const{matchOpt:Ae}=c();return Ae},_=F(L.none),H=Ae=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,Ae.format)})},K=Ae=>{const{matchOpt:Ne,size:Ue}=c(),Je=Ne.fold(F(Ue),st=>st.title);vo(Ae,rh,{text:Je}),pX(o,{value:Je})},ve=uR(o,"font_size_formats",V2.Space);return{tooltip:Xb(o,bR,JF),text:L.some(JF),icon:L.none(),isSelectedFor:g,getPreviewFor:_,getCurrentValue:S,onAction:H,updateText:K,dataset:ve,shouldHide:!1,isInvalid:Y}},vee=(o,c)=>F2(o,c,tV(o),bR,"FontSizeTextUpdate"),yee=o=>{var c;const g={step:1};return(c={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[o])!==null&&c!==void 0?c:g},bee=16,Oee=o=>o>=0,nV=o=>{const c=()=>o.queryCommandValue("FontSize");return{updateInputValue:S=>vo(S,rh,{text:c()}),onAction:(S,_)=>o.execCommand("FontSize",!1,S,{skip_focus:!_}),getNewValue:(S,_)=>{H3(S,["unsupportedLength","empty"]);const H=c(),K=H3(S,["unsupportedLength","empty"]).or(H3(H,["unsupportedLength","empty"])),ve=K.map(st=>st.value).getOr(bee),Ae=SL(o),Ne=K.map(st=>st.unit).filter(st=>st!=="").getOr(Ae),Ue=_(ve,yee(Ne).step),Je=`${Oee(Ue)?Ue:ve}${Ne}`;return Je!==H&&vX(o,{value:Je}),Je}}},xee=(o,c)=>dee(o,c,nV(o)),See=(o,c)=>{const g=T1(o,c,tV(o));o.ui.registry.addNestedMenuItem("fontsize",{text:bR,onSetup:gu(o),getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})},j4="Formats",rV=(o,c)=>{const g="Paragraph",S=K=>()=>o.formatter.match(K),_=K=>()=>{const ve=o.formatter.get(K);return ve!==void 0?L.some({tag:ve.length>0&&(ve[0].inline||ve[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(K))}):L.none()},H=K=>{const ve=Je=>x4(Je)?re(Je.items,ve):kQ(Je)?[{title:Je.title,format:Je.format}]:[],Ae=re(PQ(o),ve),Ue=XF(o,F(Ae)).fold(F(g),Je=>Je.title);vo(K,rh,{text:Ue}),mX(o,{value:Ue})};return{tooltip:Xb(o,j4,g),text:L.some(g),icon:L.none(),isSelectedFor:S,getCurrentValue:L.none,getPreviewFor:_,onAction:ZI(o),updateText:H,shouldHide:vL(o),isInvalid:K=>!o.formatter.canApply(K.format),dataset:c}},oV=(o,c)=>{const g={type:"advanced",...c.styles};return F2(o,c,rV(o,g),j4,"StylesTextUpdate")},sV=(o,c)=>{const g={type:"advanced",...c.styles},S=T1(o,c,rV(o,g));o.ui.registry.addNestedMenuItem("styles",{text:j4,onSetup:gu(o),getSubmenuItems:()=>S.items.validateItems(S.getStyleItems())})},wee=F([er("toggleClass"),er("fetch"),zd("onExecute"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",F({})),Ng(),zd("onItemExecute"),Ws("lazySink"),er("dom"),Rs("onOpen"),el("splitDropdownBehaviours",[Mi,yo,Mo]),Mn("matchWidth",!1),Mn("useMinWidth",!1),Mn("eventOrder",{}),Ws("role")].concat(p6())),Tee=ic({factory:Dl,schema:[er("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pr([Mo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:c=>{c.getSystem().getByUid(o.uid).each(xm)},buttonBehaviours:pr([as.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),Cee=ic({factory:Dl,schema:[er("dom")],name:"button",defaults:()=>({buttonBehaviours:pr([Mo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:c=>{c.getSystem().getByUid(o.uid).each(g=>{o.onExecute(g,c)})}})}),z2=F([Tee,Cee,fu({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[er("text")],name:"aria-descriptor"}),cd({schema:[Qy()],name:"menu",defaults:o=>({onExecute:(c,g)=>{c.getSystem().getByUid(o.uid).each(S=>{o.onItemExecute(S,c,g)})}})}),iN()]),kee=(o,c,g,S)=>{const _=Ue=>{xs.getCurrent(Ue).each(Je=>{Ys.highlightFirst(Je),yo.focusIn(Je)})},H=Ue=>{m6(o,z,Ue,S,_,mu.HighlightMenuAndItem).get(M)},K=Ue=>(H(Ue),L.some(!0)),ve=Ue=>{const Je=Nm(Ue,o,"button");return xm(Je),L.some(!0)},Ae={...Ea([Ca((Ue,Je)=>{ka(Ue,o,"aria-descriptor").each(ht=>{const At=Kr("aria");Dr(ht.element,"id",At),Dr(Ue.element,"aria-describedby",At)})})]),...Vm(L.some(H))},Ne={repositionMenus:Ue=>{as.isOn(Ue)&&fN(Ue)}};return{uid:o.uid,dom:o.dom,components:c,apis:Ne,eventOrder:{...o.eventOrder,[Ii()]:["disabling","toggling","alloy.base.behaviour"]},events:Ae,behaviours:Ni(o.splitDropdownBehaviours,[Mi.config({others:{sandbox:Ue=>{const Je=Nm(Ue,o,"arrow");return g6(o,Ue,{onOpen:()=>{as.on(Je),as.on(Ue)},onClose:()=>{as.off(Je),as.off(Ue)}})}}}),yo.config({mode:"special",onSpace:ve,onEnter:ve,onDown:K}),Mo.config({}),as.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},q4=lc({name:"SplitDropdown",configFields:wee(),partFields:z2(),factory:kee,apis:{repositionMenus:(o,c)=>o.repositionMenus(c)}}),aV=o=>({isEnabled:()=>!Co.isDisabled(o),setEnabled:c=>Co.set(o,!c),setText:c=>vo(o,rh,{text:c}),setIcon:c=>vo(o,b1,{icon:c})}),Aee=o=>({setActive:c=>{as.set(o,c)},isActive:()=>as.isOn(o),isEnabled:()=>!Co.isDisabled(o),setEnabled:c=>Co.set(o,!c),setText:c=>vo(o,rh,{text:c}),setIcon:c=>vo(o,b1,{icon:c})}),iV=(o,c)=>o.map(g=>({"aria-label":c.translate(g),title:c.translate(g)})).getOr({}),lV=Kr("focus-button"),OR=(o,c,g,S,_)=>{const H=c.map(ve=>ia(PB(ve,"tox-tbtn",_))),K=o.map(ve=>ia(y1(ve,_.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(c.isSome()?["tox-tbtn--select"]:[]),attributes:iV(g,_)},components:p2([K.map(ve=>ve.asSpec()),H.map(ve=>ve.asSpec())]),eventOrder:{[go()]:["focusing","alloy.base.behaviour",Zb],[ef()]:[Zb,"toolbar-group-button-events"]},buttonBehaviours:pr([tl.toolbarButton(_.isDisabled),gl(),Jo(Zb,[Ca((ve,Ae)=>w3(ve)),qn(rh,(ve,Ae)=>{H.bind(Ne=>Ne.getOpt(ve)).each(Ne=>{Uo.set(Ne,[yi(_.translate(Ae.event.text))])})}),qn(b1,(ve,Ae)=>{K.bind(Ne=>Ne.getOpt(ve)).each(Ne=>{Uo.set(Ne,[y1(Ae.event.icon,_.icons)])})}),qn(go(),(ve,Ae)=>{Ae.event.prevent(),ks(ve,lV)})])].concat(S.getOr([])))}},Pee=(o,c,g,S)=>{const _=c.shared,H=X(M),K={toolbarButtonBehaviours:[],getApi:aV,onSetup:o.onSetup},ve=[Jo("toolbar-group-button-events",[l1(K,H),rp(K,H)])];return w1.sketch({lazySink:_.getSink,fetch:()=>$c.nu(Ae=>{Ae(ne(g(o.items),z4))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:OR(o.icon,o.text,o.tooltip,L.some(ve),_.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:S}}}})},K4=(o,c,g)=>{var S;const _=X(M),H=OR(o.icon,o.text,o.tooltip,L.none(),g);return Dl.sketch({dom:H.dom,components:H.components,eventOrder:kB,buttonBehaviours:{...pr([Jo("toolbar-button-events",[CB({onAction:o.onAction,getApi:c.getApi}),l1(c,_),rp(c,_)]),tl.toolbarButton(()=>!o.enabled||g.isDisabled()),gl()].concat(c.toolbarButtonBehaviours)),[Zb]:(S=H.buttonBehaviours)===null||S===void 0?void 0:S[Zb]}})},Mee=(o,c)=>cV(o,c,[]),cV=(o,c,g)=>K4(o,{toolbarButtonBehaviours:g.length>0?[Jo("toolbarButtonWith",g)]:[],getApi:aV,onSetup:o.onSetup},c),uV=(o,c)=>xR(o,c,[]),xR=(o,c,g)=>K4(o,{toolbarButtonBehaviours:[Uo.config({}),as.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(g.length>0?[Jo("toolbarToggleButtonWith",g)]:[]),getApi:Aee,onSetup:o.onSetup},c),Eee=(o,c,g)=>S=>$c.nu(_=>c.fetch(_)).map(_=>L.from($5(Ta(i6(Kr("menu-value"),_,H=>{c.onItemAction(o(S),H)},c.columns,c.presets,Hm.CLOSE_ON_EXECUTE,c.select.getOr(Y),g),{movement:E5(c.columns,c.presets),menuBehaviours:KT.unnamedEvents(c.columns!=="auto"?[]:[Ca((H,K)=>{D8(H,4,NL(c.presets)).each(({numRows:ve,numColumns:Ae})=>{yo.setGridSize(H,ve,Ae)})})])})))),_ee=(o,c)=>{const g=H=>({isEnabled:()=>!Co.isDisabled(H),setEnabled:K=>Co.set(H,!K),setIconFill:(K,ve)=>{Ai(H.element,`svg path[class="${K}"], rect[class="${K}"]`).each(Ae=>{Dr(Ae,"fill",ve)})},setActive:K=>{Dr(H.element,"aria-pressed",K),Ai(H.element,"span").each(ve=>{H.getSystem().getByDom(ve).each(Ae=>as.set(Ae,K))})},isActive:()=>Ai(H.element,"span").exists(K=>H.getSystem().getByDom(K).exists(as.isOn)),setText:K=>Ai(H.element,"span").each(ve=>H.getSystem().getByDom(ve).each(Ae=>vo(Ae,rh,{text:K}))),setIcon:K=>Ai(H.element,"span").each(ve=>H.getSystem().getByDom(ve).each(Ae=>vo(Ae,b1,{icon:K}))),setTooltip:K=>{const ve=c.providers.translate(K);yc(H.element,{"aria-label":ve,title:ve})}}),S=X(M),_={getApi:g,onSetup:o.onSetup};return q4.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...iV(o.tooltip,c.providers)}},onExecute:H=>{const K=g(H);K.isEnabled()&&o.onAction(K)},onItemExecute:(H,K,ve)=>{},splitDropdownBehaviours:pr([tl.splitButton(c.providers.isDisabled),gl(),Jo("split-dropdown-events",[Ca((H,K)=>w3(H)),qn(lV,Mo.focus),l1(_,S),rp(_,S)]),d3.config({})]),eventOrder:{[ef()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:c.getSink,fetch:Eee(g,o,c.providers),parts:{menu:c2(!1,o.columns,o.presets)},components:[q4.parts.button(OR(o.icon,o.text,L.none(),L.some([as.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),c.providers)),q4.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:H_("chevron-down",c.providers.icons)},buttonBehaviours:pr([tl.splitButton(c.providers.isDisabled),gl(),XA()])}),q4.parts["aria-descriptor"]({text:c.providers.translate("To open the popup, press Shift+Enter")})]})},Ree=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],U3=(o,c)=>(g,S,_)=>{const H=o(g).mapError(K=>Zl(K)).getOrDie();return c(H,S,_)},Dee={button:U3(E8,(o,c)=>Mee(o,c.shared.providers)),togglebutton:U3(rI,(o,c)=>uV(o,c.shared.providers)),menubutton:U3(H7,(o,c)=>C3(o,"tox-tbtn",c,L.none(),!1)),splitbutton:U3(tJ,(o,c)=>_ee(o,c.shared)),grouptoolbarbutton:U3(JK,(o,c,g)=>{const S=g.ui.registry.getAll().buttons,_=K=>eP(g,{buttons:S,toolbar:K,allowToolbarGroups:!1},c,L.none()),H={[D0]:c.shared.header.isPositionedAtTop()?Lf.TopToBottom:Lf.BottomToTop};switch(o2(g)){case Qf.floating:return Pee(o,c,_,H);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},$ee=(o,c,g)=>Bt(Dee,o.type).fold(()=>(console.error("skipping button defined by",o),L.none()),S=>L.some(S(o,c,g))),SR={styles:oV,fontsize:vee,fontsizeinput:xee,fontfamily:iee,blocks:oee,align:YF},Lee=o=>{const c=ne(Ree,g=>{const S=xe(g.items,_=>vn(o,_)||vn(SR,_));return{name:g.name,items:S}});return xe(c,g=>g.items.length>0)},Iee=o=>{const c=o.split("|");return ne(c,g=>({items:g.trim().split(" ")}))},Nee=o=>R(o,c=>vn(c,"name")&&vn(c,"items")),Bee=o=>{const c=o.toolbar,g=o.buttons;return c===!1?[]:c===void 0||c===!0?Lee(g):h(c)?Iee(c):Nee(c)?c:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},J4=(o,c,g,S,_,H)=>Bt(c,g.toLowerCase()).orThunk(()=>H.bind(K=>Xe(K,ve=>Bt(c,ve+g.toLowerCase())))).fold(()=>Bt(SR,g.toLowerCase()).map(K=>K(o,_)),K=>K.type==="grouptoolbarbutton"&&!S?(console.warn(`Ignoring the '${g}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),L.none()):$ee(K,_,o)),eP=(o,c,g,S)=>{const _=Bee(c),H=ne(_,K=>{const ve=re(K.items,Ae=>Ae.trim().length===0?[]:J4(o,c.buttons,Ae,c.allowToolbarGroups,g,S).toArray());return{title:L.from(o.translate(K.name)),items:ve}});return xe(H,K=>K.items.length>0)},W3=(o,c,g,S)=>{const _=c.mainUi.outerContainer,H=g.toolbar,K=g.buttons;if(R(H,h)){const ve=H.map(Ae=>{const Ne={toolbar:Ae,buttons:K,allowToolbarGroups:g.allowToolbarGroups};return eP(o,Ne,S,L.none())});$a.setToolbars(_,ve)}else $a.setToolbar(_,eP(o,g,S,L.none()))},Y3=jf(),fV=Y3.os.isiOS()&&Y3.os.version.major<=12,Qee=(o,c)=>{const{uiMotherships:g}=c,S=o.dom;let _=o.getWin();const H=o.getDoc().documentElement,K=X(Is(_.innerWidth,_.innerHeight)),ve=X(Is(H.offsetWidth,H.offsetHeight)),Ae=()=>{const st=K.get();(st.left!==_.innerWidth||st.top!==_.innerHeight)&&(K.set(Is(_.innerWidth,_.innerHeight)),S5(o))},Ne=()=>{const st=o.getDoc().documentElement,ht=ve.get();(ht.left!==st.offsetWidth||ht.top!==st.offsetHeight)&&(ve.set(Is(st.offsetWidth,st.offsetHeight)),S5(o))},Ue=st=>{dX(o,st)};S.bind(_,"resize",Ae),S.bind(_,"scroll",Ue);const Je=vx(zt.fromDom(o.getBody()),"load",Ne);o.on("hide",()=>{pe(g,st=>{Po(st.element,"display","none")})}),o.on("show",()=>{pe(g,st=>{Zo(st.element,"display")})}),o.on("NodeChange",Ne),o.on("remove",()=>{Je.unbind(),S.unbind(_,"resize",Ae),S.unbind(_,"scroll",Ue),_=null})},Fee=(o,c,g)=>{Kg(o)&&Dm(g.mainUi.mothership.element,g.popupUi.mothership),Rl(c,g.dialogUi.mothership)};var Vee=Object.freeze({__proto__:null,render:(o,c,g,S,_)=>{const{mainUi:H,uiMotherships:K}=c,ve=X(0),Ae=H.outerContainer;eee(o);const Ne=zt.fromDom(_.targetNode),Ue=Xs(es(Ne));Dm(Ne,H.mothership),Fee(o,Ue,c),o.on("SkinLoaded",()=>{$a.setSidebar(Ae,g.sidebar,t5(o)),W3(o,c,g,S),ve.set(o.getWin().innerWidth),$a.setMenubar(Ae,X4(o,g)),$a.setViews(Ae,g.views),Qee(o,c)});const Je=$a.getSocket(Ae).getOrDie("Could not find expected socket element");if(fV){zi(Je.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const qt=y3(()=>{o.dispatch("ScrollContent")},20),Dn=_c(Je.element,"scroll",qt.throttle);o.on("remove",Dn.unbind)}OI(o,c),o.addCommand("ToggleSidebar",(qt,Dn)=>{$a.toggleSidebar(Ae,Dn),o.dispatch("ToggleSidebar")}),o.addQueryValueHandler("ToggleSidebar",()=>{var qt;return(qt=$a.whichSidebar(Ae))!==null&&qt!==void 0?qt:""}),o.addCommand("ToggleView",(qt,Dn)=>{if($a.toggleView(Ae,Dn)){const mn=Ae.element;H.mothership.broadcastOn([Wd()],{target:mn}),pe(K,on=>{on.broadcastOn([Wd()],{target:mn})}),y($a.whichView(Ae))&&(o.focus(),o.nodeChanged(),$a.refreshToolbar(Ae))}}),o.addQueryValueHandler("ToggleView",()=>{var qt;return(qt=$a.whichView(Ae))!==null&&qt!==void 0?qt:""});const st=o2(o),ht=()=>{$a.refreshToolbar(c.mainUi.outerContainer)};(st===Qf.sliding||st===Qf.floating)&&o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const qt=o.getWin().innerWidth;qt!==ve.get()&&(ht(),ve.set(qt))});const At={setEnabled:qt=>{y5(c,!qt)},isEnabled:()=>!Co.isDisabled(Ae)};return{iframeContainer:Je.element.dom,editorContainer:Ae.element.dom,api:At}}});const wR=o=>/^[0-9\.]+(|px)$/i.test(""+o)?L.some(parseInt(""+o,10)):L.none(),Z2=o=>T(o)?o+"px":o,X3=(o,c,g)=>{const S=c.filter(H=>o<H),_=g.filter(H=>o>H);return S.or(_).getOr(o)},dV=o=>{const c=GA(o),g=r2(o),S=G_(o);return wR(c).map(_=>X3(_,g,S))},hV=o=>dV(o).getOr(GA(o)),TR=o=>{const c=zT(o),g=X_(o),S=jA(o);return wR(c).map(_=>X3(_,g,S))},zee=o=>TR(o).getOr(zT(o)),{ToolbarLocation:tP,ToolbarMode:mV}=bY,Zee=40,Hee=(o,c,g,S,_)=>{const{mainUi:H,uiMotherships:K}=g,ve=$b.DOM,Ae=i2(o),Ne=UT(o),Ue=jA(o).or(TR(o)),Je=S.shared.header,st=Je.isPositionedAtTop,ht=o2(o),At=ht===mV.sliding||ht===mV.floating,qt=X(!1),Dn=()=>qt.get()&&!o.removed,mn=wo=>At?wo.fold(F(0),Ns=>Ns.components().length>1?Za(Ns.components()[1].element):0):0,on=wo=>{switch(ZT(o)){case tP.auto:const Ns=$a.getToolbar(H.outerContainer),Pr=mn(Ns),oo=Za(wo.element)-Pr,No=ui(c);if(No.y>oo)return"top";{const To=pn(c),Yo=Math.max(To.dom.scrollHeight,Za(To));return No.bottom<Yo-oo||Vl().bottom<No.bottom-oo?"bottom":"top"}case tP.bottom:return"bottom";case tP.top:default:return"top"}},kn=wo=>{_.on(Ns=>{Bi.setModes(Ns,[wo]),Je.setDockingMode(wo);const Pr=st()?Lf.TopToBottom:Lf.BottomToTop;Dr(Ns.element,D0,Pr)})},Zn=()=>{_.on(wo=>{const Ns=Ue.getOrThunk(()=>{const Pr=wR(Qa(ya(),"margin-left")).getOr(0);return Si(ya())-Cl(c).left+Pr});Po(wo.element,"max-width",Ns+"px")})},mr=wo=>{_.on(Ns=>{const Pr=$a.getToolbar(H.outerContainer),oo=mn(Pr),No=ui(c),{top:Qo,left:To}=Gn(o,H.outerContainer.element).fold(()=>({top:st()?Math.max(No.y-Za(Ns.element)+oo,0):No.bottom,left:No.x}),Fs=>{var Kl;const vf=ui(Fs),ih=(Kl=Fs.dom.scrollTop)!==null&&Kl!==void 0?Kl:0,Kh=Jt(Fs,ya()),R1=Kh?Math.max(No.y-Za(Ns.element)+oo,0):No.y-vf.y+ih-Za(Ns.element)+oo;return{top:st()?R1:No.bottom,left:Kh?No.x:No.x-vf.x}}),Yo={position:"absolute",left:Math.round(To)+"px",top:Math.round(Qo)+"px"},Ma=wo.map(Fs=>{const Kl=Pl(),vf=150,ih=window.innerWidth-(To-Kl.left);return{width:Math.max(Math.min(Fs,ih),vf)+"px"}}).getOr({});zi(H.outerContainer.element,{...Yo,...Ma})})},Gn=(wo,Ns)=>Kg(wo)?Wb(Ns):L.none(),Or=()=>{pe(K,wo=>{wo.broadcastOn([dv()],{})})},Mr=()=>{if(Ae)return L.none();if(Cl(H.outerContainer.element).left+Tf(H.outerContainer.element)>=window.innerWidth-Zee||za(H.outerContainer.element,"width").isSome()){Po(H.outerContainer.element,"position","absolute"),Po(H.outerContainer.element,"left","0px"),Zo(H.outerContainer.element,"width");const Ns=Tf(H.outerContainer.element);return L.some(Ns)}else return L.none()},is=wo=>{if(!Dn())return;Ae||Zn();const Ns=Ae?L.none():Mr();At&&$a.refreshToolbar(H.outerContainer),Ae||mr(Ns),Ne&&_.on(wo),Or()},Gr=()=>Ae||!Ne||!Dn()?!1:_.get().exists(wo=>{const Ns=Je.getDockingMode(),Pr=on(wo);return Pr!==Ns?(kn(Pr),!0):!1});return{isVisible:Dn,isPositionedAtTop:st,show:()=>{qt.set(!0),Po(H.outerContainer.element,"display","flex"),ve.addClass(o.getBody(),"mce-edit-focus"),pe(K,wo=>{Zo(wo.element,"display")}),Gr(),Kg(o)?is(wo=>Bi.isDocked(wo)?Bi.reset(wo):Bi.refresh(wo)):is(Bi.refresh)},hide:()=>{qt.set(!1),Po(H.outerContainer.element,"display","none"),ve.removeClass(o.getBody(),"mce-edit-focus"),pe(K,wo=>{Po(wo.element,"display","none")})},update:is,updateMode:()=>{Gr()&&is(Bi.reset)},repositionPopups:Or}},gV=(o,c)=>{const g=ui(o);return{pos:c?g.y:g.bottom,bounds:g}},Uee=(o,c,g,S)=>{const _=X(gV(c,g.isPositionedAtTop())),H=Ne=>{const{pos:Ue,bounds:Je}=gV(c,g.isPositionedAtTop()),{pos:st,bounds:ht}=_.get(),At=Je.height!==ht.height||Je.width!==ht.width;_.set({pos:Ue,bounds:Je}),At&&S5(o,Ne),g.isVisible()&&(st!==Ue?g.update(Bi.reset):At&&(g.updateMode(),g.repositionPopups()))};S||(o.on("activate",g.show),o.on("deactivate",g.hide)),o.on("SkinLoaded ResizeWindow",()=>g.update(Bi.reset)),o.on("NodeChange keydown",Ne=>{requestAnimationFrame(()=>H(Ne))});let K=0;const ve=G6(()=>g.update(Bi.refresh),33);o.on("ScrollWindow",()=>{const Ne=Pl().left;Ne!==K&&(K=Ne,ve.throttle()),g.updateMode()}),Kg(o)&&o.on("ElementScroll",Ne=>{g.update(Bi.refresh)});const Ae=Em();Ae.set(vx(zt.fromDom(o.getBody()),"load",Ne=>H(Ne.raw))),o.on("remove",()=>{Ae.clear()})};var Wee=Object.freeze({__proto__:null,render:(o,c,g,S,_)=>{const{mainUi:H}=c,K=gs(),ve=zt.fromDom(_.targetNode),Ae=Hee(o,ve,c,S,K),Ne=OL(o);tee(o);const Ue=()=>{if(K.isSet()){Ae.show();return}K.set($a.getHeader(H.outerContainer).getOrDie());const st=i8(o);Kg(o)?(Dm(ve,H.mothership),Dm(ve,c.popupUi.mothership)):Rl(st,H.mothership),Rl(st,c.dialogUi.mothership),W3(o,c,g,S),$a.setMenubar(H.outerContainer,X4(o,g)),Ae.show(),Uee(o,ve,Ae,Ne),o.nodeChanged()};o.on("show",Ue),o.on("hide",Ae.hide),Ne||(o.on("focus",Ue),o.on("blur",Ae.hide)),o.on("init",()=>{(o.hasFocus()||Ne)&&Ue()}),OI(o,c);const Je={show:Ue,hide:Ae.hide,setEnabled:st=>{y5(c,!st)},isEnabled:()=>!Co.isDisabled(H.outerContainer)};return{editorContainer:H.outerContainer.element.dom,api:Je}}});const Yee=()=>{const o=gs(),c=gs(),g=gs();return{dialogUi:o,popupUi:c,mainUi:g,getUiMotherships:()=>{const H=o.get().map(ve=>ve.mothership),K=c.get().map(ve=>ve.mothership);return H.fold(()=>K.toArray(),ve=>K.fold(()=>[ve],Ae=>Jt(ve.element,Ae.element)?[ve]:[ve,Ae]))},lazyGetInOuterOrDie:(H,K)=>()=>g.get().bind(ve=>K(ve.outerContainer)).getOrDie(`Could not find ${H} element in OuterContainer`)}},Xee="contexttoolbar-show",CR="contexttoolbar-hide",Gee=o=>({hide:()=>ks(o,Ju()),getValue:()=>Fr.getValue(o)}),kR=(o,c)=>qn(J6,(g,S)=>{const _=o.get(g),H=Gee(_);c.onAction(H,S.event.buttonApi)}),jee=(o,c,g)=>{const{primary:S,..._}=c.original,H=aa(E8({..._,type:"button",onAction:M}));return cV(H,g,[kR(o,c)])},qee=(o,c,g)=>{const{primary:S,..._}=c.original,H=aa(rI({..._,type:"togglebutton",onAction:M}));return xR(H,g,[kR(o,c)])},Kee=o=>o.type==="contextformtogglebutton",Jee=(o,c,g)=>Kee(c)?qee(o,c,g):jee(o,c,g),ete=(o,c,g)=>{const S=ne(c,K=>ia(Jee(o,K,g)));return{asSpecs:()=>ne(S,K=>K.asSpec()),findPrimary:K=>Xe(c,(ve,Ae)=>ve.primary?L.from(S[Ae]).bind(Ne=>Ne.getOpt(K)).filter(B(Co.isDisabled)):L.none())}},H2=(o,c)=>{const g=o.label.fold(()=>({}),H=>({"aria-label":H})),S=ia(Ib.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:g,selectOnFocus:!0,inputBehaviours:pr([yo.config({mode:"special",onEnter:H=>_.findPrimary(H).map(K=>(xm(K),!0)),onLeft:(H,K)=>(K.cut(),L.none()),onRight:(H,K)=>(K.cut(),L.none())})])})),_=ete(S,o.commands,c);return[{title:L.none(),items:[S.asSpec()]},{title:L.none(),items:_.asSpecs()}]},nte={renderContextForm:(o,c,g)=>Z4({type:o,uid:Kr("context-toolbar"),initGroups:H2(c,g),onEscape:L.none,cyclicKeying:!0,providers:g}),buildInitGroups:H2},pV=(o,c,g)=>c.bottom-o.y>=g&&o.bottom-c.y>=g,vV=o=>{const c=o.getBoundingClientRect();if(c.height<=0&&c.width<=0){const g=So(zt.fromDom(o.startContainer),o.startOffset).element;return(Ct(g)?Fn(g):L.some(g)).filter(St).map(_=>_.dom.getBoundingClientRect()).getOr(c)}else return c},G3=o=>{const c=o.selection.getRng(),g=vV(c);if(o.inline){const S=Pl();return Ja(S.left+g.left,S.top+g.top,g.width,g.height)}else{const S=wu(zt.fromDom(o.getBody()));return Ja(S.x+g.left,S.y+g.top,g.width,g.height)}},yV=(o,c)=>c.filter(g=>Js(g)&&Ee(g)).map(wu).getOrThunk(()=>G3(o)),bV=(o,c,g)=>{const S=Math.max(o.x+g,c.x),_=Math.min(o.right-g,c.right);return{x:S,width:_-S}},rte=(o,c,g,S,_,H)=>{const K=zt.fromDom(o.getContainer()),ve=Ai(K,".tox-editor-header").getOr(K),Ae=ui(ve),Ne=Ae.y>=c.bottom,Ue=S&&!Ne;if(o.inline&&Ue)return{y:Math.max(Ae.bottom+H,g.y),bottom:g.bottom};if(o.inline&&!Ue)return{y:g.y,bottom:Math.min(Ae.y-H,g.bottom)};const Je=_==="line"?ui(K):c;return Ue?{y:Math.max(Ae.bottom+H,g.y),bottom:Math.min(Je.bottom-H,g.bottom)}:{y:Math.max(Je.y+H,g.y),bottom:Math.min(Ae.y-H,g.bottom)}},Gb=(o,c,g,S=0)=>{const _=gy(window),H=ui(zt.fromDom(o.getContentAreaContainer())),K=a2(o)||o5(o)||HT(o),{x:ve,width:Ae}=bV(H,_,S);if(o.inline&&!K)return Ja(ve,_.y,Ae,_.height);{const Ne=c.header.isPositionedAtTop(),{y:Ue,bottom:Je}=rte(o,H,_,Ne,g,S);return Ja(ve,Ue,Ae,Je-Ue)}},jb=12,rP={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},AR={maxHeightFunction:R0(),maxWidthFunction:K7()},OV=(o,c)=>{const g=o.selection.getRng(),S=So(zt.fromDom(g.startContainer),g.startOffset);return g.startContainer===g.endContainer&&g.startOffset===g.endOffset-1&&Jt(S.element,c)},ote=(o,c,g)=>{const S=za(o,"position");Po(o,"position",c);const _=g(o);return S.each(H=>Po(o,"position",H)),_},PR=o=>o==="node",ste=(o,c,g,S,_)=>{const H=G3(o),K=S.lastElement().exists(ve=>Jt(g,ve));if(OV(o,g))return K?O7:Yh;if(K)return ote(c,S.getMode(),()=>pV(H,ui(c),-20)&&!S.isReposition()?Yq:O7);{const ve=S.getMode()==="fixed"?_.y+Pl().top:_.y,Ae=Za(c)+jb;return ve+Ae<=H.y?Yh:D2}},ate=(o,c,g,S)=>{const _=Ae=>(Ne,Ue,Je,st,ht)=>{const At=ste(o,st,Ae,g,ht),qt={...Ne,y:ht.y,height:ht.height};return{...At(qt,Ue,Je,st,ht),alwaysFit:!0}},H=Ae=>PR(S)?[_(Ae)]:[];return c?{onLtr:Ae=>[fl,ul,Gl,Yc,sc,Mc].concat(H(Ae)),onRtl:Ae=>[fl,Gl,ul,sc,Yc,Mc].concat(H(Ae))}:{onLtr:Ae=>[Mc,fl,Yc,ul,sc,Gl].concat(H(Ae)),onRtl:Ae=>[Mc,fl,sc,Gl,Yc,ul].concat(H(Ae))}},ite=(o,c,g,S)=>c==="line"?{bubble:Eh(jb,0,rP),layouts:{onLtr:()=>[bw],onRtl:()=>[Hy]},overrides:AR}:{bubble:Eh(0,jb,rP,1/jb),layouts:ate(o,g,S,c),overrides:AR},MR=(o,c)=>{const g=xe(c,H=>H.predicate(o.dom)),{pass:S,fail:_}=Oe(g,H=>H.type==="contexttoolbar");return{contextToolbars:S,contextForms:_}},lte=o=>{if(o.length<=1)return o;{const c=H=>Te(o,K=>K.position===H),g=H=>xe(o,K=>K.position===H),S=c("selection"),_=c("node");if(S||_)if(_&&S){const H=g("node"),K=ne(g("selection"),ve=>({...ve,position:"node"}));return H.concat(K)}else return g(S?"selection":"node");else return g("line")}},xV=o=>{if(o.length<=1)return o;{const c=S=>Ze(o,_=>_.position===S);return c("selection").orThunk(()=>c("node")).orThunk(()=>c("line")).map(S=>S.position).fold(()=>[],S=>xe(o,_=>_.position===S))}},oP=(o,c,g)=>{const S=MR(o,c);if(S.contextForms.length>0)return L.some({elem:o,toolbars:[S.contextForms[0]]});{const _=MR(o,g);if(_.contextForms.length>0)return L.some({elem:o,toolbars:[_.contextForms[0]]});if(S.contextToolbars.length>0||_.contextToolbars.length>0){const H=lte(S.contextToolbars.concat(_.contextToolbars));return L.some({elem:o,toolbars:H})}else return L.none()}},SV=(o,c,g)=>o(c)?L.none():jt(c,S=>{if(St(S)){const{contextToolbars:_,contextForms:H}=MR(S,g.inNodeScope),K=H.length>0?H:xV(_);return K.length>0?L.some({elem:S,toolbars:K}):L.none()}else return L.none()},o),wV=(o,c)=>{const g=zt.fromDom(c.getBody()),S=K=>Jt(K,g),_=K=>!S(K)&&!rn(g,K),H=zt.fromDom(c.selection.getNode());return _(H)?L.none():oP(H,o.inNodeScope,o.inEditorScope).orThunk(()=>SV(S,H,o))},ER=(o,c)=>{const g={},S=[],_=[],H={},K={},ve=(Ue,Je)=>{const st=aa(FY(Je));g[Ue]=st,st.launch.map(ht=>{H["form:"+Ue]={...Je.launch,type:ht.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{c(st)}}}),st.scope==="editor"?_.push(st):S.push(st),K[Ue]=st},Ae=(Ue,Je)=>{zY(Je).each(st=>{Je.scope==="editor"?_.push(st):S.push(st),K[Ue]=st})},Ne=ct(o);return pe(Ne,Ue=>{const Je=o[Ue];Je.type==="contextform"?ve(Ue,Je):Je.type==="contexttoolbar"&&Ae(Ue,Je)}),{forms:g,inNodeScope:S,inEditorScope:_,lookupTable:K,formNavigators:H}},TV=Kr("forward-slide"),_R=Kr("backward-slide"),RR=Kr("change-slide-event"),DR="tox-pop--resizing",sP=o=>{const c=X([]);return ri.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:g=>{c.set([]),ri.getContent(g).each(S=>{Zo(S.element,"visibility")}),Xa(g.element,DR),Zo(g.element,"width")},inlineBehaviours:pr([Jo("context-toolbar-events",[xh(Ki(),(g,S)=>{S.event.raw.propertyName==="width"&&(Xa(g.element,DR),Zo(g.element,"width"))}),qn(RR,(g,S)=>{const _=g.element;Zo(_,"width");const H=Si(_);ri.setContent(g,S.event.contents),ki(_,DR);const K=Si(_);Po(_,"width",H+"px"),ri.getContent(g).each(ve=>{S.event.focus.bind(Ae=>(cu(Ae),ad(_))).orThunk(()=>(yo.focusIn(ve),Mh(es(_))))}),setTimeout(()=>{Po(g.element,"width",K+"px")},0)}),qn(TV,(g,S)=>{ri.getContent(g).each(_=>{c.set(c.get().concat([{bar:_,focus:Mh(es(g.element))}]))}),vo(g,RR,{contents:S.event.forwardContents,focus:L.none()})}),qn(_R,(g,S)=>{Qe(c.get()).each(_=>{c.set(c.get().slice(0,c.get().length-1)),vo(g,RR,{contents:nf(_.bar),focus:_.focus})})})]),yo.config({mode:"special",onEscape:g=>Qe(c.get()).fold(()=>o.onEscape(),S=>(ks(g,_R),L.some(!0)))})]),lazySink:()=>jo.value(o.sink)})},aP="tox-pop--transition",cte=(o,c,g,S)=>{const _=S.backstage,H=_.shared,K=jf().deviceType.isTouch,ve=gs(),Ae=gs(),Ne=gs(),Ue=oc(sP({sink:g,onEscape:()=>(o.focus(),L.some(!0))})),Je=()=>{const Gr=Ne.get().getOr("node"),Io=PR(Gr)?1:0;return Gb(o,H,Gr,Io)},st=()=>!o.removed&&!(K()&&_.isContextMenuOpen()),ht=Gr=>ln(Xn(Gr,ve.get(),Jt),!0),At=()=>{if(st()){const Gr=Je(),Io=ln(Ne.get(),"node")?yV(o,ve.get()):G3(o);return Gr.height<=0||!pV(Io,Gr,.01)}else return!0},qt=()=>{ve.clear(),Ae.clear(),Ne.clear(),ri.hide(Ue)},Dn=()=>{if(ri.isOpen(Ue)){const Gr=Ue.element;Zo(Gr,"display"),At()?Po(Gr,"display","none"):(Ae.set(0),ri.reposition(Ue))}},mn=Gr=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Gr],behaviours:pr([yo.config({mode:"acyclic"}),Jo("pop-dialog-wrap-events",[Ca(Io=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>yo.focusIn(Io))}),Sh(Io=>{o.shortcuts.remove("ctrl+F9")})])])}),on=Ya(()=>ER(c,Gr=>{const Io=mr([Gr]);vo(Ue,TV,{forwardContents:mn(Io)})})),kn=(Gr,Io)=>eP(o,{buttons:Gr,toolbar:Io.items,allowToolbarGroups:!1},S.backstage,L.some(["form:"])),Zn=(Gr,Io)=>nte.buildInitGroups(Gr,Io),mr=Gr=>{const{buttons:Io}=o.ui.registry.getAll(),_o=on(),na={...Io,..._o.formNavigators},wo=o2(o)===Qf.scrolling?Qf.scrolling:Qf.default,Ns=Ie(ne(Gr,Pr=>Pr.type==="contexttoolbar"?kn(na,Pr):Zn(Pr,H.providers)));return Z4({type:wo,uid:Kr("context-toolbar"),initGroups:Ns,onEscape:L.none,cyclicKeying:!0,providers:H.providers})},Gn=(Gr,Io)=>{const _o=Gr==="node"?H.anchors.node(Io):H.anchors.cursor(),na=ite(o,Gr,K(),{lastElement:ve.get,isReposition:()=>ln(Ae.get(),0),getMode:()=>ac.getMode(g)});return Ta(_o,na)},Or=(Gr,Io)=>{if(is.cancel(),!st())return;const _o=mr(Gr),na=Gr[0].position,wo=Gn(na,Io);Ne.set(na),Ae.set(1);const Ns=Ue.element;Zo(Ns,"display"),ht(Io)||(Xa(Ns,aP),ac.reset(g,Ue)),ri.showWithinBounds(Ue,mn(_o),{anchor:wo,transition:{classes:[aP],mode:"placement"}},()=>L.some(Je())),Io.fold(ve.clear,ve.set),At()&&Po(Ns,"display","none")};let Mr=!1;const is=G6(()=>{if(!(!o.hasFocus()||o.removed||Mr))if(Ji(Ue.element,aP))is.throttle();else{const Gr=on();wV(Gr,o).fold(qt,Io=>{Or(Io.toolbars,L.some(Io.elem))})}},17);o.on("init",()=>{o.on("remove",qt),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Dn),o.on("click keyup focus SetContent",is.throttle),o.on(CR,qt),o.on(Xee,Gr=>{const Io=on();Bt(Io.lookupTable,Gr.toolbarKey).each(_o=>{Or([_o],it(Gr.target!==o,Gr.target)),ri.getContent(Ue).each(yo.focusIn)})}),o.on("focusout",Gr=>{_b.setEditorTimeout(o,()=>{ad(g.element).isNone()&&ad(Ue.element).isNone()&&qt()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&qt()}),o.on("AfterProgressState",Gr=>{Gr.state?qt():o.hasFocus()&&is.throttle()}),o.on("dragstart",()=>{Mr=!0}),o.on("dragend drop",()=>{Mr=!1}),o.on("NodeChange",Gr=>{ad(Ue.element).fold(is.throttle,M)})})},ute=o=>{pe([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],g=>{o.ui.registry.addToggleButton(g.name,{tooltip:g.text,icon:g.icon,onAction:ff(o,g.cmd),onSetup:w5(o,g.name)})}),o.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:gu(o),onAction:ff(o,"JustifyNone")})},CV=(o,c)=>{const g=()=>{const S=c.getOptions(o),_=c.getCurrent(o).map(c.hash),H=gs();return ne(S,K=>({type:"togglemenuitem",text:c.display(K),onSetup:ve=>{const Ae=Ue=>{Ue&&(H.on(Je=>Je.setActive(!1)),H.set(ve)),ve.setActive(Ue)};Ae(ln(_,c.hash(K)));const Ne=c.watcher(o,K,Ae);return()=>{H.clear(),Ne()}},onAction:()=>c.setCurrent(o,K)}))};o.ui.registry.addMenuButton(c.name,{tooltip:c.text,icon:c.icon,fetch:S=>S(g()),onSetup:c.onToolbarSetup}),o.ui.registry.addNestedMenuItem(c.name,{type:"nestedmenuitem",text:c.text,getSubmenuItems:g,onSetup:c.onMenuSetup})},fte=o=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:PL,hash:c=>fee(c,["fixed","relative","empty"]).getOr(c),display:z,watcher:(c,g,S)=>c.formatter.formatChanged("lineheight",S,!1,{value:g}).unbind,getCurrent:c=>L.from(c.queryCommandValue("LineHeight")),setCurrent:(c,g)=>c.execCommand("LineHeight",!1,g),onToolbarSetup:gu(o),onMenuSetup:gu(o)}),dte=o=>L.from(yL(o)).map(g=>({name:"language",text:"Language",icon:"language",getOptions:F(g),hash:S=>x(S.customCode)?S.code:`${S.code}/${S.customCode}`,display:S=>S.title,watcher:(S,_,H)=>{var K;return S.formatter.formatChanged("lang",H,!1,{value:_.code,customValue:(K=_.customCode)!==null&&K!==void 0?K:null}).unbind},getCurrent:S=>{const _=zt.fromDom(S.selection.getNode());return tn(_,H=>L.some(H).filter(St).bind(K=>Ri(K,"lang").map(Ae=>{const Ne=Ri(K,"data-mce-lang").getOrUndefined();return{code:Ae,customCode:Ne,title:""}})))},setCurrent:(S,_)=>S.execCommand("Lang",!1,_),onToolbarSetup:S=>{const _=Em();return S.setActive(o.formatter.match("lang",{},void 0,!0)),_.set(o.formatter.formatChanged("lang",S.setActive,!0)),r3(_.clear,gu(o)(S))},onMenuSetup:gu(o)})),kV=o=>{CV(o,fte(o)),dte(o).each(c=>CV(o,c))},AV=(o,c)=>{ree(o,c),lee(o,c),sV(o,c),see(o,c),See(o,c)},hte=o=>Vh(o,"NodeChange",c=>{c.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),mte=o=>{o.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:hte(o),onAction:ff(o,"outdent")}),o.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:gu(o),onAction:ff(o,"indent")})},PV=o=>{mte(o)},MV=(o,c)=>g=>{g.setActive(c.get());const S=_=>{c.set(_.state),g.setActive(_.state)};return o.on("PastePlainTextToggle",S),r3(()=>o.off("PastePlainTextToggle",S),gu(o)(g))},gte=o=>{const c=X(e5(o)),g=()=>o.execCommand("mceTogglePlainTextPaste");o.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:g,onSetup:MV(o,c)}),o.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:g,onSetup:MV(o,c)})},$R=(o,c)=>()=>{o.execCommand("mceToggleFormat",!1,c)},pte=o=>{up.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(c,g)=>{o.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onSetup:w5(o,c.name),onAction:$R(o,c.name)})});for(let c=1;c<=6;c++){const g="h"+c;o.ui.registry.addToggleButton(g,{text:g.toUpperCase(),tooltip:"Heading "+c,onSetup:w5(o,g),onAction:$R(o,g)})}},vte=o=>{up.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],c=>{o.ui.registry.addButton(c.name,{tooltip:c.text,icon:c.icon,onAction:ff(o,c.action)})}),up.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{o.ui.registry.addButton(c.name,{tooltip:c.text,icon:c.icon,onSetup:gu(o),onAction:ff(o,c.action)})})},LR=o=>{up.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],c=>{o.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:ff(o,c.action),onSetup:w5(o,c.name)})})},yte=o=>{pte(o),vte(o),LR(o)},bte=o=>{up.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],c=>{o.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:ff(o,c.action)})}),up.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{o.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onSetup:gu(o),onAction:ff(o,c.action)})}),o.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:gu(o),onAction:$R(o,"code")})},IR=o=>{yte(o),bte(o)},j3=(o,c)=>Vh(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",g=>{g.setEnabled(!o.mode.isReadOnly()&&o.undoManager[c]())}),EV=o=>{o.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:j3(o,"hasUndo"),onAction:ff(o,"undo")}),o.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:j3(o,"hasRedo"),onAction:ff(o,"redo")})},Ote=o=>{o.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:j3(o,"hasUndo"),onAction:ff(o,"undo")}),o.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:j3(o,"hasRedo"),onAction:ff(o,"redo")})},xte=o=>{EV(o),Ote(o)},Ste=o=>Vh(o,"VisualAid",c=>{c.setActive(o.hasVisual)}),wte=o=>{o.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Ste(o),onAction:ff(o,"mceToggleVisualAid")})},Tte=o=>{o.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ff(o,"mceToggleVisualAid")})},NR=o=>{Tte(o),wte(o)},Cte=(o,c)=>{ute(o),IR(o),AV(o,c),xte(o),a6(o),NR(o),PV(o),kV(o),gte(o)},_V=o=>h(o)?o.split(/[ ,]/):o,RV=o=>c=>c.options.get(o),kte=o=>{const c=o.options.register;c("contextmenu_avoid_overlap",{processor:"string",default:""}),c("contextmenu_never_use_native",{processor:"boolean",default:!1}),c("contextmenu",{processor:g=>g===!1?{value:[],valid:!0}:h(g)||R(g,h)?{value:_V(g),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},iP=RV("contextmenu_never_use_native"),Ate=RV("contextmenu_avoid_overlap"),DV=o=>$V(o).length===0,$V=o=>{const c=o.ui.registry.getAll().contextMenus,g=o.options.get("contextmenu");return o.options.isSet("contextmenu")?g:xe(g,S=>vn(c,S))},q3=(o,c)=>({type:"makeshift",x:o,y:c}),BR=(o,c,g)=>q3(o.x+c,o.y+g),LV=o=>o.type==="longpress"||o.type.indexOf("touch")===0,Pte=o=>{if(LV(o)){const c=o.touches[0];return q3(c.pageX,c.pageY)}else return q3(o.pageX,o.pageY)},Mte=o=>{if(LV(o)){const c=o.touches[0];return q3(c.clientX,c.clientY)}else return q3(o.clientX,o.clientY)},Ete=(o,c)=>{const g=$b.DOM.getPos(o);return BR(c,g.x,g.y)},_te=(o,c)=>c.type==="contextmenu"||c.type==="longpress"?o.inline?Pte(c):Ete(o.getContentAreaContainer(),Mte(c)):QR(o),QR=o=>({type:"selection",root:zt.fromDom(o.selection.getNode())}),Rte=o=>({type:"node",node:L.some(zt.fromDom(o.selection.getNode())),root:zt.fromDom(o.getBody())}),IV=(o,c,g)=>{switch(g){case"node":return Rte(o);case"point":return _te(o,c);case"selection":return QR(o)}},Dte=(o,c,g,S,_,H)=>{const K=g(),ve=IV(o,c,H);M2(K,Hm.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:L.none()}).map(Ae=>{c.preventDefault(),ri.showMenuAt(_,{anchor:ve},{menu:{markers:Sv("normal")},data:Ae})})},$te={onLtr:()=>[fl,ul,Gl,Yc,sc,Mc,Yh,D2,D3,R3,Ub,_3],onRtl:()=>[fl,Gl,ul,sc,Yc,Mc,Yh,D2,Ub,_3,D3,R3]},Lte=12,Ite={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Nte=(o,c)=>{const g=o.selection;if(g.isCollapsed()||c.touches.length<1)return!1;{const S=c.touches[0],_=g.getRng();return Xw(o.getWin(),_l.domRange(_)).exists(K=>K.left<=S.clientX&&K.right>=S.clientX&&K.top<=S.clientY&&K.bottom>=S.clientY)}},Bte=o=>{const c=o.selection.getRng(),g=()=>{_b.setEditorTimeout(o,()=>{o.selection.setRng(c)},10),H()};o.once("touchend",g);const S=K=>{K.preventDefault(),K.stopImmediatePropagation()};o.on("mousedown",S,!0);const _=()=>H();o.once("longpresscancel",_);const H=()=>{o.off("touchend",g),o.off("longpresscancel",_),o.off("mousedown",S)}},NV=(o,c,g)=>{const S=IV(o,c,g);return{bubble:Eh(0,g==="point"?Lte:0,Ite),layouts:$te,overrides:{maxWidthFunction:K7(),maxHeightFunction:R0()},...S}},Qte=(o,c,g,S,_,H,K)=>{const ve=NV(o,c,H);M2(g,Hm.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!0,search:L.none()}).map(Ae=>{c.preventDefault();const Ne=K?mu.HighlightMenuAndItem:mu.HighlightNone;ri.showMenuWithinBounds(_,{anchor:ve},{menu:{markers:Sv("normal"),highlightOnOpen:Ne},data:Ae,type:"horizontal"},()=>L.some(Gb(o,S.shared,H==="node"?"node":"selection"))),o.dispatch(CR)})},BV=(o,c,g,S,_,H)=>{const K=jf(),ve=K.os.isiOS(),Ae=K.os.isMacOS(),Ne=K.os.isAndroid(),Ue=K.deviceType.isTouch(),Je=()=>!(Ne||ve||Ae&&Ue),st=()=>{const ht=g();Qte(o,c,ht,S,_,H,Je())};if((Ae||ve)&&H!=="node"){const ht=()=>{Bte(o),st()};Nte(o,c)?ht():(o.once("selectionchange",ht),o.once("touchend",()=>o.off("selectionchange",ht)))}else st()},QV=o=>h(o)?o==="|":o.type==="separator",FR={type:"separator"},FV=o=>{const c=g=>({text:g.text,icon:g.icon,enabled:g.enabled,shortcut:g.shortcut});if(h(o))return o;switch(o.type){case"separator":return FR;case"submenu":return{type:"nestedmenuitem",...c(o),getSubmenuItems:()=>{const S=o.getSubmenuItems();return h(S)?S:ne(S,FV)}};default:const g=o;return{type:"menuitem",...c(g),onAction:I(g.onAction)}}},k1=(o,c)=>{if(c.length===0)return o;const S=Qe(o).filter(_=>!QV(_)).fold(()=>[],_=>[FR]);return o.concat(S).concat(c).concat([FR])},VV=(o,c,g)=>{const S=ke(c,(_,H)=>Bt(o,H.toLowerCase()).map(K=>{const ve=K.update(g);if(h(ve)&&dn(Pt(ve)))return k1(_,ve.split(" "));if(v(ve)&&ve.length>0){const Ae=ne(ve,FV);return k1(_,Ae)}else return _}).getOrThunk(()=>_.concat([H])),[]);return S.length>0&&QV(S[S.length-1])&&S.pop(),S},Fte=(o,c)=>c.ctrlKey&&!iP(o),Vte=o=>o.type==="longpress"||vn(o,"touches"),zV=(o,c)=>!Vte(c)&&(c.button!==2||c.target===o.getBody()&&c.pointerType===""),ZV=(o,c)=>zV(o,c)?o.selection.getStart(!0):c.target,HV=(o,c)=>{const g=Ate(o),S=zV(o,c)?"selection":"point";if(dn(g)){const _=ZV(o,c);return i3(zt.fromDom(_),g)?"node":S}else return S},zte=(o,c,g)=>{const _=jf().deviceType.isTouch,H=oc(ri.sketch({dom:{tag:"div"},lazySink:c,onEscape:()=>o.focus(),onShow:()=>g.setContextMenuState(!0),onHide:()=>g.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pr([Jo("dismissContextMenu",[qn(Ag(),(Ae,Ne)=>{As.close(Ae),o.focus()})])])})),K=()=>ri.hide(H),ve=Ae=>{if(iP(o)&&Ae.preventDefault(),Fte(o,Ae)||DV(o))return;const Ne=HV(o,Ae),Ue=()=>{const st=ZV(o,Ae),ht=o.ui.registry.getAll(),At=$V(o);return VV(ht.contextMenus,At,st)};(_()?BV:Dte)(o,Ae,Ue,g,H,Ne)};o.on("init",()=>{const Ae="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(_()?"":" ResizeWindow");o.on(Ae,K),o.on("longpress contextmenu",ve)})},VR=we.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),lP=o=>c=>c.translate(-o.left,-o.top),cP=o=>c=>c.translate(o.left,o.top),Mv=o=>(c,g)=>ke(o,(S,_)=>_(S),Is(c,g)),uP=(o,c,g)=>o.fold(Mv([cP(g),lP(c)]),Mv([lP(c)]),Mv([])),U2=(o,c,g)=>o.fold(Mv([cP(g)]),Mv([]),Mv([cP(c)])),UV=(o,c,g)=>o.fold(Mv([]),Mv([lP(g)]),Mv([cP(c),lP(g)])),Zte=(o,c,g,S,_,H)=>{const K=U2(o,_,H),ve=U2(c,_,H);return Math.abs(K.left-ve.left)<=g&&Math.abs(K.top-ve.top)<=S},Hte=(o,c,g,S,_,H)=>{const K=U2(o,_,H),ve=U2(c,_,H),Ae=Math.abs(K.left-ve.left),Ne=Math.abs(K.top-ve.top);return Is(Ae,Ne)},zR=(o,c,g)=>{const S=o.fold((_,H)=>({position:L.some("absolute"),left:L.some(_+"px"),top:L.some(H+"px")}),(_,H)=>({position:L.some("absolute"),left:L.some(_-g.left+"px"),top:L.some(H-g.top+"px")}),(_,H)=>({position:L.some("fixed"),left:L.some(_+"px"),top:L.some(H+"px")}));return{right:L.none(),bottom:L.none(),...S}},WV=(o,c,g)=>o.fold((S,_)=>A1(S+c,_+g),(S,_)=>P1(S+c,_+g),(S,_)=>qb(S+c,_+g)),ZR=(o,c,g,S)=>{const _=(H,K)=>(ve,Ae)=>{const Ne=H(c,g,S);return K(ve.getOr(Ne.left),Ae.getOr(Ne.top))};return o.fold(_(UV,A1),_(U2,P1),_(uP,qb))},A1=VR.offset,P1=VR.absolute,qb=VR.fixed,fP=(o,c)=>{const g=oa(o,c);return x(g)?NaN:parseInt(g,10)},Ute=(o,c)=>{const g=o.element,S=fP(g,c.leftAttr),_=fP(g,c.topAttr);return isNaN(S)||isNaN(_)?L.none():L.some(Is(S,_))},Wte=(o,c,g)=>{const S=o.element;Dr(S,c.leftAttr,g.left+"px"),Dr(S,c.topAttr,g.top+"px")},Yte=(o,c)=>{const g=o.element;sa(g,c.leftAttr),sa(g,c.topAttr)},Xte=(o,c,g,S)=>Ute(o,c).fold(()=>g,_=>qb(_.left+S.left,_.top+S.top)),Gte=(o,c,g,S,_,H)=>{const K=Xte(o,c,g,S),ve=c.mustSnap?qte(o,c,K,_,H):Kte(o,c,K,_,H),Ae=uP(K,_,H);return Wte(o,c,Ae),ve.fold(()=>({coord:qb(Ae.left,Ae.top),extra:L.none()}),Ne=>({coord:Ne.output,extra:Ne.extra}))},jte=(o,c)=>{Yte(o,c)},YV=(o,c,g,S)=>Xe(o,_=>{const H=_.sensor;return Zte(c,H,_.range.left,_.range.top,g,S)?L.some({output:ZR(_.output,c,g,S),extra:_.extra}):L.none()}),qte=(o,c,g,S,_)=>{const H=c.getSnapPoints(o);return YV(H,g,S,_).orThunk(()=>ke(H,(Ae,Ne)=>{const Ue=Ne.sensor,Je=Hte(g,Ue,Ne.range.left,Ne.range.top,S,_);return Ae.deltas.fold(()=>({deltas:L.some(Je),snap:L.some(Ne)}),st=>{const ht=(Je.left+Je.top)/2,At=(st.left+st.top)/2;return ht<=At?{deltas:L.some(Je),snap:L.some(Ne)}:Ae})},{deltas:L.none(),snap:L.none()}).snap.map(Ae=>({output:ZR(Ae.output,g,S,_),extra:Ae.extra})))},Kte=(o,c,g,S,_)=>{const H=c.getSnapPoints(o);return YV(H,g,S,_)},Jte=(o,c,g)=>({coord:ZR(o.output,o.output,c,g),extra:o.extra});var ene=Object.freeze({__proto__:null,snapTo:(o,c,g,S)=>{const _=c.getTarget(o.element);if(c.repositionTarget){const H=Tn(o.element),K=Pl(H),ve=HQ(_),Ae=Jte(S,K,ve),Ne=zR(Ae.coord,K,ve);fr(_,Ne)}}});const HR="data-initial-z-index",tne=o=>{Fn(o.element).filter(St).each(c=>{Ri(c,HR).fold(()=>Zo(c,"z-index"),g=>Po(c,"z-index",g)),sa(c,HR)})},nne=o=>{Fn(o.element).filter(St).each(c=>{za(c,"z-index").each(g=>{Dr(c,HR,g)}),Po(c,"z-index",Qa(o.element,"z-index"))})},XV=(o,c)=>{o.getSystem().addToGui(c),nne(c)},rne=o=>{tne(o),o.getSystem().removeFromGui(o)},K3=(o,c,g)=>o.getSystem().build(Um.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[c]},events:g}));var one=wc("snaps",[er("getSnapPoints"),Rs("onSensor"),er("leftAttr"),er("topAttr"),Mn("lazyViewport",Vl),Mn("mustSnap",!1)]);const UR=[Mn("useFixed",Y),er("blockerClass"),Mn("getTarget",z),Mn("onDrag",M),Mn("repositionTarget",!0),Mn("onDrop",M),Di("getBounds",Vl),one],sne=o=>Un(za(o,"left"),za(o,"top"),za(o,"position"),(c,g,S)=>(S==="fixed"?qb:A1)(parseInt(c,10),parseInt(g,10))).getOrThunk(()=>{const c=Cl(o);return P1(c.left,c.top)}),ane=(o,c,g,S,_)=>{const H=_.bounds,K=U2(c,g,S),ve=rf(K.left,H.x,H.x+H.width-_.width),Ae=rf(K.top,H.y,H.y+H.height-_.height),Ne=P1(ve,Ae);return c.fold(()=>{const Ue=UV(Ne,g,S);return A1(Ue.left,Ue.top)},F(Ne),()=>{const Ue=uP(Ne,g,S);return qb(Ue.left,Ue.top)})},ine=(o,c,g,S,_,H,K)=>{const ve=c.fold(()=>{const Ae=WV(g,H.left,H.top),Ne=uP(Ae,S,_);return qb(Ne.left,Ne.top)},Ae=>{const Ne=Gte(o,Ae,g,H,S,_);return Ne.extra.each(Ue=>{Ae.onSensor(o,Ue)}),Ne.coord});return ane(o,ve,S,_,K)},lne=(o,c,g,S)=>{const _=c.getTarget(o.element);if(c.repositionTarget){const H=Tn(o.element),K=Pl(H),ve=HQ(_),Ae=sne(_),Ne=ine(o,c.snaps,Ae,K,ve,S,g),Ue=zR(Ne,K,ve);fr(_,Ue)}c.onDrag(o,_,S)},WR=(o,c)=>({bounds:o.getBounds(),height:Vu(c.element),width:Tf(c.element)}),YR=(o,c,g,S,_)=>{const H=g.update(S,_),K=g.getStartData().getOrThunk(()=>WR(c,o));H.each(ve=>{lne(o,c,K,ve)})},GV=(o,c,g,S)=>{c.each(rne),g.snaps.each(H=>{jte(o,H)});const _=g.getTarget(o.element);S.reset(),g.onDrop(o,_)},XR=o=>(c,g)=>{const S=_=>{g.setStartData(WR(c,_))};return Ea([qn(Oh(),_=>{g.getStartData().each(()=>S(_))}),...o(c,g,S)])},cne=o=>Ea([qn(go(),o.forceDrop),qn(ba(),o.drop),qn(js(),(c,g)=>{o.move(g.event)}),qn(ti(),o.delayDrop)]);var qV=Object.freeze({__proto__:null,getData:o=>L.from(Is(o.x,o.y)),getDelta:(o,c)=>Is(c.left-o.left,c.top-o.top)});const KV=(o,c,g)=>[qn(go(),(S,_)=>{if(_.event.raw.button!==0)return;_.stop();const K=()=>GV(S,L.some(Ne),o,c),ve=gN(K,200),Ae={drop:K,delayDrop:ve.schedule,forceDrop:K,move:Je=>{ve.cancel(),YR(S,o,c,qV,Je)}},Ne=K3(S,o.blockerClass,cne(Ae));(()=>{g(S),XV(S,Ne)})()})],une=[...UR,ha("dragger",{handlers:XR(KV)})],fne=o=>Ea([qn(no(),o.forceDrop),qn(ts(),o.drop),qn(xo(),o.drop),qn(fo(),(c,g)=>{o.move(g.event)})]),dne=o=>{const c=o[0];return L.some(Is(c.clientX,c.clientY))};var JV=Object.freeze({__proto__:null,getData:o=>{const g=o.raw.touches;return g.length===1?dne(g):L.none()},getDelta:(o,c)=>Is(c.left-o.left,c.top-o.top)});const ez=(o,c,g)=>{const S=gs(),_=H=>{GV(H,S.get(),o,c),S.clear()};return[qn(no(),(H,K)=>{K.stop();const ve=()=>_(H),Ae={drop:ve,delayDrop:M,forceDrop:ve,move:Je=>{YR(H,o,c,JV,Je)}},Ne=K3(H,o.blockerClass,fne(Ae));S.set(Ne),(()=>{g(H),XV(H,Ne)})()}),qn(fo(),(H,K)=>{K.stop(),YR(H,o,c,JV,K.event)}),qn(ts(),(H,K)=>{K.stop(),_(H)}),qn(xo(),_)]},hne=[...UR,ha("dragger",{handlers:XR(ez)})],mne=(o,c,g)=>[...KV(o,c,g),...ez(o,c,g)],gne=[...UR,ha("dragger",{handlers:XR(mne)})];var pne=Object.freeze({__proto__:null,mouse:une,touch:hne,mouseOrTouch:gne}),vne=Object.freeze({__proto__:null,init:()=>{let o=L.none(),c=L.none();const g=()=>{o=L.none(),c=L.none()},S=(Ae,Ne)=>{const Ue=o.map(Je=>Ae.getDelta(Je,Ne));return o=L.some(Ne),Ue},_=(Ae,Ne)=>Ae.getData(Ne).bind(Ue=>S(Ae,Ue)),H=Ae=>{c=L.some(Ae)},K=()=>c,ve=F({});return Cu({readState:ve,reset:g,update:_,getStartData:K,setStartData:H})}});const M1=px({branchKey:"mode",branches:pne,name:"dragging",active:{events:(o,c)=>o.dragger.handlers(o,c)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:L.from(o.extra)})},state:vne,apis:ene}),GR=40,dP=GR/2,tz=(o,c,g,S,_,H)=>o.fold(()=>M1.snap({sensor:P1(g-dP,S-dP),range:Is(_,H),output:P1(L.some(g),L.some(S)),extra:{td:c}}),K=>{const ve=g-dP,Ae=S-dP,Ne=GR,Ue=GR,Je=K.element.dom.getBoundingClientRect();return M1.snap({sensor:P1(ve,Ae),range:Is(Ne,Ue),output:P1(L.some(g-Je.width/2),L.some(S-Je.height/2)),extra:{td:c}})}),nz=(o,c,g)=>{const S=(_,H)=>_.exists(K=>Jt(K,H));return{getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(_,H)=>{const K=H.td;S(c.get(),K)||(c.set(K),g(K))},mustSnap:!0}},rz=o=>ia(Dl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pr([M1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),d3.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),yne=(o,c)=>{const g=X([]),S=X([]),_=X(!1),H=gs(),K=gs(),ve=Or=>{const Mr=wu(Or);return tz(ht.getOpt(c),Or,Mr.x,Mr.y,Mr.width,Mr.height)},Ae=()=>ne(g.get(),Or=>ve(Or)),Ne=Or=>{const Mr=wu(Or);return tz(At.getOpt(c),Or,Mr.right,Mr.bottom,Mr.width,Mr.height)},Ue=()=>ne(S.get(),Or=>Ne(Or)),Je=nz(Ae,H,Or=>{K.get().each(Mr=>{o.dispatch("TableSelectorChange",{start:Or,finish:Mr})})}),st=nz(Ue,K,Or=>{H.get().each(Mr=>{o.dispatch("TableSelectorChange",{start:Mr,finish:Or})})}),ht=rz(Je),At=rz(st),qt=oc(ht.asSpec()),Dn=oc(At.asSpec()),mn=(Or,Mr,is,Gr)=>{const Io=Mr.dom.getBoundingClientRect();Zo(Or.element,"display");const _o=Jn(zt.fromDom(o.getBody())).dom.innerHeight,na=is(Io),wo=Gr(Io,_o);(na||wo)&&Po(Or.element,"display","none")},on=(Or,Mr,is,Gr)=>{const Io=is(Mr);M1.snapTo(Or,Io),mn(Or,Mr,wo=>wo[Gr]<0,(wo,Ns)=>wo[Gr]>Ns)},kn=Or=>on(qt,Or,ve,"top"),Zn=()=>H.get().each(kn),mr=Or=>on(Dn,Or,Ne,"bottom"),Gn=()=>K.get().each(mr);jf().deviceType.isTouch()&&(o.on("TableSelectionChange",Or=>{_.get()||(Hg(c,qt),Hg(c,Dn),_.set(!0)),H.set(Or.start),K.set(Or.finish),Or.otherCells.each(Mr=>{g.set(Mr.upOrLeftCells),S.set(Mr.downOrRightCells),kn(Or.start),mr(Or.finish)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{Zn(),Gn()}),o.on("TableSelectionClear",()=>{_.get()&&(Rh(qt),Rh(Dn),_.set(!1)),H.clear(),K.clear()}))};var bne=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const One=o=>o.nodeName==="BR"||!!o.getAttribute("data-mce-bogus")||o.getAttribute("data-mce-type")==="bookmark",oz=(o,c,g)=>{var S;const _=(S=c.delimiter)!==null&&S!==void 0?S:"›",H=(Ne,Ue,Je)=>Dl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Je,"aria-level":Je+1}},components:[yi(Ne)],action:st=>{o.focus(),o.selection.select(Ue),o.nodeChanged()},buttonBehaviours:pr([tl.button(g.isDisabled),gl()])}),K=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[yi(` ${_} `)]}),ve=Ne=>ke(Ne,(Ue,Je,st)=>{const ht=H(Je.name,Je.element,st);return st===0?Ue.concat([ht]):Ue.concat([K(),ht])},[]),Ae=Ne=>{const Ue=[];let Je=Ne.length;for(;Je-- >0;){const st=Ne[Je];if(st.nodeType===1&&!One(st)){const ht=FI(o,st);if(ht.isDefaultPrevented()||Ue.push({name:ht.name,element:st}),ht.isPropagationStopped())break}}return Ue};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pr([yo.config({mode:"flow",selector:"div[role=button]"}),Co.config({disabled:g.isDisabled}),gl(),Ga.config({}),Uo.config({}),Jo("elementPathEvents",[Ca((Ne,Ue)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>yo.focusIn(Ne)),o.on("NodeChange",Je=>{const st=Ae(Je.parents),ht=st.length>0?ve(st):[];Uo.set(Ne,ht)})})])]),components:[]}};var Ev;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Ev||(Ev={}));const Kb=(o,c,g,S,_)=>{const H={height:X3(S+c.top,r2(o),G_(o))};return g===Ev.Both&&(H.width=X3(_+c.left,X_(o),jA(o))),H},sz=(o,c,g)=>{const S=zt.fromDom(o.getContainer()),_=Kb(o,c,g,Za(S),Si(S));Ye(_,(H,K)=>{T(H)&&Po(S,K,Z2(H))}),BI(o)},jR=o=>{const c=CL(o);return c===!1?Ev.None:c==="both"?Ev.Both:Ev.Vertical},Jb=(o,c,g,S)=>{const H=Is(g*20,S*20);return sz(o,H,c),L.some(!0)},xne=(o,c)=>{const g=jR(o);if(g===Ev.None)return L.none();const S=g===Ev.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return L.some(Bh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:c.translate("Resize"),"aria-label":c.translate(S)},behaviours:[M1.config({mode:"mouse",repositionTarget:!1,onDrag:(_,H,K)=>sz(o,K,g),blockerClass:"tox-blocker"}),yo.config({mode:"special",onLeft:()=>Jb(o,g,-1,0),onRight:()=>Jb(o,g,1,0),onUp:()=>Jb(o,g,0,-1),onDown:()=>Jb(o,g,0,1)}),Ga.config({}),Mo.config({})]},c.icons))},Sne=(o,c)=>{const g=(S,_,H)=>Uo.set(S,[yi(c.translate(["{0} "+H,_[H]]))]);return Dl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pr([tl.button(c.isDisabled),gl(),Ga.config({}),Uo.config({}),Fr.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Jo("wordcount-events",[rd(S=>{const _=Fr.getValue(S),H=_.mode==="words"?"characters":"words";Fr.setValue(S,{mode:H,count:_.count}),g(S,_.count,H)}),Ca(S=>{o.on("wordCountUpdate",_=>{const{mode:H}=Fr.getValue(S);Fr.setValue(S,{mode:H,count:_.wordCount}),g(S,_.wordCount,H)})})])]),eventOrder:{[Ii()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},wne=(o,c)=>{const g=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":dd.translate(["Powered by {0}","Tiny"])},innerHtml:bne.trim()},behaviours:pr([Mo.config({})])}]}),S=()=>{const ve=b5("Alt+0"),Ae="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[yi(dd.translate([Ae,ve]))]}},_=()=>{const ve=[];return o.hasPlugin("wordcount")&&ve.push(Sne(o,c)),n8(o)&&ve.push(g()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:ve}},H=()=>{const ve=[],Ae=n5(o),Ne=s2(o),Ue=n8(o)||o.hasPlugin("wordcount"),Je=()=>{const st="tox-statusbar__text-container--flex-start",ht="tox-statusbar__text-container--flex-end",At="tox-statusbar__text-container--space-around";if(Ae){const qt="tox-statusbar__text-container-3-cols";return!Ue&&!Ne?[qt,At]:Ue&&!Ne?[qt,ht]:[qt,st]}return[Ue&&!Ne?ht:st]};return Ne&&ve.push(oz(o,{},c)),Ae&&ve.push(S()),Ue&&ve.push(_()),ve.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...Je()]},components:ve}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const ve=H(),Ae=xne(o,c);return ve.concat(Ae.toArray())})()}},az=(o,c)=>c.get().getOrDie(`UI for ${o} has not been rendered`),Tne=(o,c)=>{const g=o.inline,S=g?Wee:Vee,_=UT(o)?oF:MK,H=Yee(),K=gs(),ve=gs(),Ae=gs(),st=jf().deviceType.isTouch()?["tox-platform-touch"]:[],ht=a8(o),At=o2(o),qt=ia({dom:{tag:"div",classes:["tox-anchorbar"]}}),Dn=ia({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),mn=()=>H.mainUi.get().map(To=>To.outerContainer).bind($a.getHeader),on=()=>jo.fromOption(H.dialogUi.get().map(To=>To.sink),"UI has not been rendered"),kn=()=>jo.fromOption(H.popupUi.get().map(To=>To.sink),"(popup) UI has not been rendered"),Zn=H.lazyGetInOuterOrDie("anchor bar",qt.getOpt),mr=H.lazyGetInOuterOrDie("bottom anchor bar",Dn.getOpt),Gn=H.lazyGetInOuterOrDie("toolbar",$a.getToolbar),Or=H.lazyGetInOuterOrDie("throbber",$a.getThrobber),Mr=xK({popup:kn,dialog:on},o,Zn,mr),is=()=>{const To={attributes:{[D0]:ht?Lf.BottomToTop:Lf.TopToBottom}},Yo=$a.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Mr.popup,onEscape:()=>{o.focus()}}),Ma=$a.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Mr.popup.shared.getSink,providers:Mr.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:sC=>{hX(o,sC)},type:At,lazyToolbar:Gn,lazyHeader:()=>mn().getOrDie("Could not find header element"),...To}),Fs=$a.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Mr.popup.shared.providers,onEscape:()=>{o.focus()},type:At}),Kl=HT(o),vf=o5(o),ih=a2(o),Kh=kL(o),R1=Gr(),iO=Kl||vf||ih,Km=()=>Kl?[Fs]:vf?[Ma]:[],Rv=Kh?[R1,Yo]:[Yo];return $a.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(iO?[]:["tox-editor-header--empty"]),...To},components:Ie([ih?Rv:[],Km(),i2(o)?[]:[qt.asSpec()]]),sticky:UT(o),editor:o,sharedBackstage:Mr.popup.shared})},Gr=()=>$a.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Io=()=>{const To=$a.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Yo=$a.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[To,Yo]}},_o=()=>{const To=i8(o),Yo=Jt(ya(),To)&&Qa(To,"display")==="grid",Ma={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(st),attributes:{...dd.isRtl()?{dir:"rtl"}:{}}},behaviours:pr([ac.config({useFixed:()=>_.isDocked(mn)})])},Fs={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ea([qn(Qd(),ih=>{Po(ih.element,"width",document.body.clientWidth+"px")})])},Kl=oc(Ta(Ma,Yo?Fs:{})),vf=L5(Kl);return ve.set(vf),{sink:Kl,mothership:vf}},na=()=>{const To={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(st),attributes:{...dd.isRtl()?{dir:"rtl"}:{}}},behaviours:pr([ac.config({useFixed:()=>_.isDocked(mn),getBounds:()=>c.getPopupSinkBounds()})])},Yo=oc(To),Ma=L5(Yo);return Ae.set(Ma),{sink:Yo,mothership:Ma}},wo=()=>{const To=is(),Yo=Io(),Ma=$a.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Mr.popup}),Fs=$a.parts.viewWrapper({backstage:Mr.popup}),Kl=TL(o)&&!g?L.some(wne(o,Mr.popup.shared.providers)):L.none(),vf=Ie([ht?[]:[To],g?[]:[Yo],ht?[To]:[]]),ih=$a.parts.editorContainer({components:Ie([vf,g?[]:[Dn.asSpec(),...Kl.toArray()]])}),Kh=l8(o),R1={role:"application",...dd.isRtl()?{dir:"rtl"}:{},...Kh?{"aria-hidden":"true"}:{}},iO=oc($a.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(g?["tox-tinymce-inline"]:[]).concat(ht?["tox-tinymce--toolbar-bottom"]:[]).concat(st),styles:{visibility:"hidden",...Kh?{opacity:"0",border:"0"}:{}},attributes:R1},components:[ih,...g?[]:[Fs],Ma],behaviours:pr([gl(),Co.config({disableClass:"tox-tinymce--disabled"}),yo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Km=L5(iO);return K.set(Km),{mothership:Km,outerContainer:iO}},Ns=To=>{const Yo=Z2(hV(o)),Ma=Z2(zee(o));return o.inline||(yl("div","width",Ma)&&Po(To.element,"width",Ma),yl("div","height",Yo)?Po(To.element,"height",Yo):Po(To.element,"height","400px")),Yo},Pr=To=>{o.addShortcut("alt+F9","focus menubar",()=>{$a.focusMenubar(To)}),o.addShortcut("alt+F10","focus toolbar",()=>{$a.focusToolbar(To)}),o.addCommand("ToggleToolbarDrawer",(Yo,Ma)=>{Ma!=null&&Ma.skipFocus?$a.toggleToolbarDrawerWithoutFocusing(To):$a.toggleToolbarDrawer(To)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>$a.isToolbarDrawerToggled(To))},oo=To=>{const{mainUi:Yo,popupUi:Ma,uiMotherships:Fs}=To;je(bL(o),(eS,kP)=>{o.ui.registry.addGroupToolbarButton(kP,eS)});const{buttons:Kl,menuItems:vf,contextToolbars:ih,sidebars:Kh,views:R1}=o.ui.registry.getAll(),iO=s8(o),Km={menuItems:vf,menus:EL(o),menubar:q_(o),toolbar:iO.getOrThunk(()=>KA(o)),allowToolbarGroups:At===Qf.floating,buttons:Kl,sidebar:Kh,views:R1};Pr(Yo.outerContainer),L2(o,Yo.mothership,Fs),_.setup(o,Mr.popup.shared,mn),Cte(o,Mr.popup),zte(o,Mr.popup.shared.getSink,Mr.popup),aJ(o),L4(o,Or,Mr.popup.shared),cte(o,ih,Ma.sink,{backstage:Mr.popup}),yne(o,Ma.sink);const Rv=o.getElement(),sC=Ns(Yo.outerContainer),oD={targetNode:Rv,height:sC};return S.render(o,To,Km,Mr.popup,oD)},No=To=>(Ae.set(To.mothership),To),Qo=()=>{const To=wo(),Yo=_o(),Ma=Kg(o)?na():No(Yo);H.dialogUi.set(Yo),H.popupUi.set(Ma),H.mainUi.set(To);const Fs={popupUi:Ma,dialogUi:Yo,mainUi:To,uiMotherships:H.getUiMotherships()};return oo(Fs)};return{popups:{backstage:Mr.popup,getMothership:()=>az("popups",Ae)},dialogs:{backstage:Mr.dialog,getMothership:()=>az("dialogs",ve)},renderUI:Qo}},eO=(o,c)=>{const g=Ri(o,"id").fold(()=>{const S=Kr("dialog-label");return Dr(c,"id",S),S},z);Dr(o,"aria-labelledby",g)},iz=F([er("lazySink"),Ws("dragBlockClass"),Di("getBounds",Vl),Mn("useTabstopAt",ie),Mn("firstTabstop",0),Mn("eventOrder",{}),el("modalBehaviours",[yo]),Eu("onExecute"),fw("onEscape")]),qR={sketch:z},Cne=F([fu({name:"draghandle",overrides:(o,c)=>({behaviours:pr([M1.config({mode:"mouse",getTarget:g=>Pu(g,'[role="dialog"]').getOr(g),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(c,null,2)).message),getBounds:o.getDragBounds})])})}),ic({schema:[er("dom")],name:"title"}),ic({factory:qR,schema:[er("dom")],name:"close"}),ic({factory:qR,schema:[er("dom")],name:"body"}),fu({factory:qR,schema:[er("dom")],name:"footer"}),cd({factory:{sketch:(o,c)=>({...o,dom:c.dom,components:c.components})},schema:[Mn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Mn("components",[])],name:"blocker"})]),kne=(o,c,g,S)=>{const _=gs(),H=ht=>{_.set(ht);const At=o.lazySink(ht).getOrDie(),qt=S.blocker(),Dn=At.getSystem().build({...qt,components:qt.components.concat([nf(ht)]),behaviours:pr([Mo.config({}),Jo("dialog-blocker-events",[xh(Do(),()=>{Xm.isBlocked(ht)?M():yo.focusIn(ht)})])])});Hg(At,Dn),yo.focusIn(ht)},K=ht=>{_.clear(),Fn(ht.element).each(At=>{ht.getSystem().getByDom(At).each(qt=>{Rh(qt)})})},ve=ht=>Nm(ht,o,"body"),Ae=ht=>ka(ht,o,"footer"),Ne=(ht,At)=>{Xm.block(ht,At)},Ue=ht=>{Xm.unblock(ht)},Je=Kr("modal-events"),st={...o.eventOrder,[ef()]:[Je].concat(o.eventOrder["alloy.system.attached"]||[])};return{uid:o.uid,dom:o.dom,components:c,apis:{show:H,hide:K,getBody:ve,getFooter:Ae,setIdle:Ue,setBusy:Ne},eventOrder:st,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ni(o.modalBehaviours,[Uo.config({}),yo.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Xm.config({getRoot:_.get}),Jo(Je,[Ca(ht=>{eO(ht.element,Nm(ht,o,"title").element)})])])}},Sl=lc({name:"ModalDialog",configFields:iz(),partFields:Cne(),factory:kne,apis:{show:(o,c)=>{o.show(c)},hide:(o,c)=>{o.hide(c)},getBody:(o,c)=>o.getBody(c),getFooter:(o,c)=>o.getFooter(c),setBusy:(o,c,g)=>{o.setBusy(c,g)},setIdle:(o,c)=>{o.setIdle(c)}}}),Ane=uo([Gi,T8].concat(Bb)),Pne=_f,KR=[g5("button"),hd,Hc("align","end",["start","end"]),np,jd,Ld("buttonType",["primary","secondary"])],lz=[...KR,wv],J3=[Rf("type",["submit","cancel","custom"]),...lz],eC=[Rf("type",["menu"]),tp,GT,hd,rc("items",Ane),...KR],JR=[...KR,Rf("type",["togglebutton"]),zs("tooltip"),hd,tp,Wi("active",!1)],hP=Os("type",{submit:J3,cancel:J3,custom:J3,menu:eC,togglebutton:JR}),tO=[Gi,wv,Rf("level",["info","warn","error","success"]),C8,Mn("url","")],mP=uo(tO),Mne=o=>[Gi,o],cz=[Gi,wv,jd,g5("button"),hd,jL,Ld("buttonType",["primary","secondary","toolbar"]),np],uz=uo(cz),nO=[Gi,T8],Gm=nO.concat([h5]),Ene=nO.concat([d5,jd]),_ne=uo(Ene),fz=_f,dz=Gm.concat([qL("auto")]),eD=uo(dz),Rne=Dd([f2,wv,C8]),Dne=Gm.concat([nd("storageKey","default")]),$ne=uo(Dne),hz=al,Lne=uo(Gm),Ine=al,tD=nO.concat([nd("tag","textarea"),zs("scriptId"),zs("scriptUrl"),qC("settings",void 0)]),nD=nO.concat([nd("tag","textarea"),qu("init")]),Nne=Ml(o=>da("customeditor.old",ca(nD),o).orThunk(()=>da("customeditor.new",ca(tD),o))),mz=al,Bne=uo(Gm),gz=QO(),Qne=o=>[Gi,Cg("columns"),o],Fne=[Gi,zs("html"),Hc("presets","presentation",["presentation","document"])],rO=uo(Fne),pz=Gm.concat([Wi("border",!1),Wi("sandboxed",!0),Wi("streamContent",!1),Wi("transparent",!0)]),Vne=uo(pz),gP=al,W2=uo(nO.concat([ll("height")])),pP=uo([zs("url"),fi("zoom"),fi("cachedWidth"),fi("cachedHeight")]),vz=Gm.concat([ll("inputMode"),ll("placeholder"),Wi("maximized",!1),jd]),vP=uo(vz),mf=al,yP=o=>[Gi,d5,o,Hc("align","start",["start","center","end"])],yz=[wv,f2],bz=[wv,rc("items",jp("items",()=>Oz))],Oz=Xr([uo(yz),uo(bz)]),zne=Gm.concat([rc("items",Oz),jd]),E1=uo(zne),Pce=al,Zne=Gm.concat([a0("items",[wv,f2]),td("size",1),jd]),xz=uo(Zne),Y2=al,bP=Gm.concat([Wi("constrain",!0),jd]),Sz=uo(bP),wz=uo([zs("width"),zs("height")]),Hne=nO.concat([d5,td("min",0),td("max",0)]),Une=uo(Hne),Wne=Gp,X2=[Gi,rc("header",al),rc("cells",Gu(al))],Mce=uo(X2),Yne=Gm.concat([ll("placeholder"),Wi("maximized",!1),jd]),Xne=uo(Yne),Ece=al,Tz=[Rf("type",["directory","leaf"]),YL,zs("id"),au("menu",Q3)],G2=uo(Tz),Gne=Tz.concat([rc("children",jp("children",()=>lr("type",{directory:Cz,leaf:G2})))]),Cz=uo(Gne),kz=lr("type",{directory:Cz,leaf:G2}),jne=[Gi,rc("items",kz),Jf("onLeafAction"),Jf("onToggleExpand"),Cc("defaultExpandedIds",[],al),ll("defaultSelectedId")],Rce=uo(jne),n=Gm.concat([Hc("filetype","file",["image","media","file"]),jd,ll("picker_text")]),s=uo(n),l=uo([f2,jT]),m=o=>il("items","items",Ks(),Gu(Ml(c=>da(`Checking item of ${o}`,O,c).fold(g=>jo.error(Zl(g)),g=>jo.value(g))))),O=sl(()=>lr("type",{alertbanner:mP,bar:uo(Mne(m("bar"))),button:uz,checkbox:_ne,colorinput:$ne,colorpicker:Lne,dropzone:Bne,grid:uo(Qne(m("grid"))),iframe:Vne,input:vP,listbox:E1,selectbox:xz,sizeinput:Sz,slider:Une,textarea:Xne,urlinput:s,customeditor:Nne,htmlpanel:rO,imagepreview:W2,collection:eD,label:uo(yP(m("label"))),table:Mce,tree:Rce,panel:Z})),P=[Gi,Mn("classes",[]),rc("items",O)],Z=uo(P),J=[g5("tab"),YL,rc("items",O)],he=[Gi,a0("tabs",J)],_e=uo(he),Ge=lz,qe=hP,ot=uo([zs("title"),Zc("body",lr("type",{panel:Z,tabpanel:_e})),nd("size","normal"),Cc("buttons",[],qe),Mn("initialData",{}),Di("onAction",M),Di("onChange",M),Di("onSubmit",M),Di("onClose",M),Di("onCancel",M),Di("onTabChange",M)]),Et=o=>da("dialog",ot,o),Vt=uo([Rf("type",["cancel","custom"]),...Ge]),kt=uo([zs("title"),zs("url"),fi("height"),fi("width"),Id("buttons",Vt),Di("onAction",M),Di("onCancel",M),Di("onClose",M),Di("onMessage",M)]),It=o=>da("dialog",kt,o),cn=o=>u(o)?[o].concat(re(Nt(o),cn)):v(o)?re(o,cn):[],xn=o=>h(o.type)&&h(o.name),bn={checkbox:fz,colorinput:hz,colorpicker:Ine,dropzone:gz,input:mf,iframe:gP,imagepreview:pP,selectbox:Y2,sizeinput:wz,slider:Wne,listbox:Pce,size:wz,textarea:Ece,urlinput:l,customeditor:mz,collection:Rne,togglemenuitem:Pne},$n=o=>L.from(bn[o.type]),rr=o=>xe(cn(o),xn),gr=o=>{const c=rr(o),g=re(c,S=>$n(S).fold(()=>[],_=>[Zc(S.name,_)]));return uo(g)},Qr=o=>{var c;const g=aa(Et(o)),S=gr(o),_=(c=o.initialData)!==null&&c!==void 0?c:{};return{internalDialog:g,dataValidator:S,initialData:_}},zn={open:(o,c)=>{const g=Qr(c);return o(g.internalDialog,g.initialData,g.dataValidator)},openUrl:(o,c)=>{const g=aa(It(c));return o(g)},redial:o=>Qr(o)};var tr=Object.freeze({__proto__:null,events:(o,c)=>{const g=(S,_)=>{o.updateState.each(H=>{const K=H(S,_);c.set(K)}),o.renderComponents.each(H=>{const K=H(_,c.get());(o.reuseDom?E9:hu)(S,K)})};return Ea([qn(Wl(),(S,_)=>{const H=_;if(!H.universal){const K=o.channel;be(H.channels,K)&&g(S,H.data)}}),Ca((S,_)=>{o.initialData.each(H=>{g(S,H)})})])}}),po=Object.freeze({__proto__:null,getState:(o,c,g)=>g}),ls=[er("channel"),Ws("renderComponents"),Ws("updateState"),Ws("initialData"),Wi("reuseDom",!0)],ma=Object.freeze({__proto__:null,init:()=>{const o=X(L.none()),c=()=>o.set(L.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:c}}});const $s=dl({fields:ls,name:"reflecting",active:tr,apis:po,state:ma}),hi=o=>{const c=[],g={};return Ye(o,(S,_)=>{S.fold(()=>{c.push(_)},H=>{g[_]=H})}),c.length>0?jo.error(c):jo.value(g)},uc=(o,c,g)=>{const S=ia(A2.sketch(_=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:ne(o.items,H=>Wh(_,H,c,g))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[S.asSpec()]}],behaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(b3)}),Ff.memento(S),p3(S,{postprocess:_=>hi(_).fold(H=>(console.error(H),{}),z)}),Jo("dialog-body-panel",[qn(Do(),(_,H)=>{_.getSystem().broadcastOn([x3],{newFocus:L.some(H.event.target)})})])])}},ga=(o,c)=>({uid:o.uid,dom:o.dom,components:o.components,events:Vm(o.action),behaviours:Ni(o.tabButtonBehaviours,[Mo.config({}),yo.config({mode:"execution",useSpace:!0,useEnter:!0}),Fr.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification}),Cr=_u({name:"TabButton",configFields:[Mn("uid",void 0),er("value"),il("dom","dom",hs(()=>({attributes:{role:"tab",id:Kr("aria"),"aria-selected":"false"}})),vi()),Ws("action"),Mn("domModification",{}),el("tabButtonBehaviours",[Mo,yo,Fr]),er("view")],factory:ga}),co=F([er("tabs"),er("dom"),Mn("clickToDismiss",!1),el("tabbarBehaviours",[Ys,yo]),$g(["tabClass","selectedClass"])]),Zs=yb({factory:Cr,name:"tabs",unit:"tab",overrides:o=>{const c=(S,_)=>{Ys.dehighlight(S,_),vo(S,ZO(),{tabbar:S,button:_})},g=(S,_)=>{Ys.highlight(S,_),vo(S,JC(),{tabbar:S,button:_})};return{action:S=>{const _=S.getSystem().getByUid(o.uid).getOrDie(),H=Ys.isHighlighted(_,S);(()=>H&&o.clickToDismiss?c:H?M:g)()(_,S)},domModification:{classes:[o.markers.tabClass]}}}}),Ss=F([Zs]),ro=(o,c,g,S)=>({uid:o.uid,dom:o.dom,components:c,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ni(o.tabbarBehaviours,[Ys.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(_,H)=>{Dr(H.element,"aria-selected","true")},onDehighlight:(_,H)=>{Dr(H.element,"aria-selected","false")}}),yo.config({mode:"flow",getInitial:_=>Ys.getHighlighted(_).map(H=>H.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])}),Lo=lc({name:"Tabbar",configFields:co(),partFields:Ss(),factory:ro}),yr=(o,c)=>({uid:o.uid,dom:o.dom,behaviours:Ni(o.tabviewBehaviours,[Uo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Bo=_u({name:"Tabview",configFields:[el("tabviewBehaviours",[Uo])],factory:yr}),Ls=F([Mn("selectFirst",!0),Rs("onChangeTab"),Rs("onDismissTab"),Mn("tabs",[]),el("tabSectionBehaviours",[])]),Aa=ic({factory:Lo,schema:[er("dom"),su("markers",[er("tabClass"),er("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),Sa=ic({factory:Bo,name:"tabview"}),$l=F([Aa,Sa]),Xh=(o,c,g,S)=>{const _=K=>{const ve=Fr.getValue(K);ka(K,o,"tabview").each(Ae=>{Ze(o.tabs,Ue=>Ue.value===ve).each(Ue=>{const Je=Ue.view();Ri(K.element,"id").each(st=>{Dr(Ae.element,"aria-labelledby",st)}),Uo.set(Ae,Je),o.onChangeTab(Ae,K,Je)})})},H=(K,ve)=>{ka(K,o,"tabbar").each(Ae=>{ve(Ae).each(xm)})};return{uid:o.uid,dom:o.dom,components:c,behaviours:Lm(o.tabSectionBehaviours),events:Ea(Ie([o.selectFirst?[Ca((K,ve)=>{H(K,Ys.getFirst)})]:[],[qn(JC(),(K,ve)=>{const Ae=ve.event.button;_(Ae)}),qn(ZO(),(K,ve)=>{const Ae=ve.event.button;o.onDismissTab(K,Ae)})]])),apis:{getViewItems:K=>ka(K,o,"tabview").map(ve=>Uo.contents(ve)).getOr([]),showTab:(K,ve)=>{H(K,Ne=>{const Ue=Ys.getCandidates(Ne);return Ze(Ue,st=>Fr.getValue(st)===ve).filter(st=>!Ys.isHighlighted(Ne,st))})}}}},zf=lc({name:"TabSection",configFields:Ls(),partFields:$l(),factory:Xh,apis:{getViewItems:(o,c)=>o.getViewItems(c),showTab:(o,c,g)=>{o.showTab(c,g)}}}),$u=(o,c,g)=>ne(o,(S,_)=>{Uo.set(g,o[_].view());const H=c.dom.getBoundingClientRect();return Uo.set(g,[]),H.height}),sh=o=>Ce(Se(o,(c,g)=>c>g?-1:c<g?1:0)),Wo=(o,c,g)=>{const S=pn(o).dom,_=Pu(o,".tox-dialog-wrap").getOr(o),H=Qa(_,"position")==="fixed";let K;H?K=Math.max(S.clientHeight,window.innerHeight):K=Math.max(S.offsetHeight,S.scrollHeight);const ve=Za(c),Ne=c.dom.offsetLeft>=g.dom.offsetLeft+Si(g)?Math.max(Za(g),ve):ve,Ue=parseInt(Qa(o,"margin-top"),10)||0,Je=parseInt(Qa(o,"margin-bottom"),10)||0,ht=Za(o)+Ue+Je-Ne;return K-ht},Hs=(o,c)=>{Ce(o).each(g=>zf.showTab(c,g.value))},Pa=(o,c)=>{Po(o,"height",c+"px"),Po(o,"flex-basis",c+"px")},oi=(o,c,g)=>{Pu(o,'[role="dialog"]').each(S=>{Ai(S,'[role="tablist"]').each(_=>{g.get().map(H=>(Po(c,"height","0"),Po(c,"flex-basis","0"),Math.min(H,Wo(S,c,_)))).each(H=>{Pa(c,H)})})})},Ua=o=>Ai(o,'[role="tabpanel"]'),gf=o=>{const c=gs();return{extraEvents:[Ca(_=>{const H=_.element;Ua(H).each(K=>{Po(K,"visibility","hidden"),_.getSystem().getByDom(K).toOptional().each(ve=>{const Ae=$u(o,K,ve);sh(Ae).fold(c.clear,c.set)}),oi(H,K,c),Zo(K,"visibility"),Hs(o,_),requestAnimationFrame(()=>{oi(H,K,c)})})}),qn(Qd(),_=>{const H=_.element;Ua(H).each(K=>{oi(H,K,c)})}),qn(kN,(_,H)=>{const K=_.element;Ua(K).each(ve=>{const Ae=Mh(es(ve));Po(ve,"visibility","hidden");const Ne=za(ve,"height").map(st=>parseInt(st,10));Zo(ve,"height"),Zo(ve,"flex-basis");const Ue=ve.dom.getBoundingClientRect().height;Ne.forall(st=>Ue>st)?(c.set(Ue),oi(K,ve,c)):Ne.each(st=>{Pa(ve,st)}),Zo(ve,"visibility"),Ae.each(cu)})})],selectFirst:!1}},Gh="send-data-to-section",_v="send-data-to-view",OP=(o,c,g)=>{const S=X({}),_=Ne=>{const Ue=Fr.getValue(Ne),Je=hi(Ue).getOr({}),st=S.get(),ht=Ta(st,Je);S.set(ht)},H=Ne=>{const Ue=S.get();Fr.setValue(Ne,Ue)},K=X(null),ve=ne(o.tabs,Ne=>({value:Ne.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[yi(g.shared.providers.translate(Ne.title))],view:()=>[A2.sketch(Ue=>({dom:{tag:"div",classes:["tox-form"]},components:ne(Ne.items,Je=>Wh(Ue,Je,c,g)),formBehaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(b3)}),Jo("TabView.form.events",[Ca(H),Sh(_)]),lu.config({channels:bt([{key:Gh,value:{onReceive:_}},{key:_v,value:{onReceive:H}}])})])}))]})),Ae=gf(ve);return zf.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(Ne,Ue,Je)=>{const st=Fr.getValue(Ue);vo(Ne,CN,{name:st,oldName:K.get()}),K.set(st)},tabs:ve,components:[zf.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Lo.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pr([Ga.config({})])}),zf.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:Ae.selectFirst,tabSectionBehaviours:pr([Jo("tabpanel",Ae.extraEvents),yo.config({mode:"acyclic"}),xs.config({find:Ne=>Ce(zf.getViewItems(Ne))}),v1(L.none(),Ne=>(Ne.getSystem().broadcastOn([Gh],{}),S.get()),(Ne,Ue)=>{S.set(Ue),Ne.getSystem().broadcastOn([_v],{})})])})},tC=(o,c,g,S,_)=>{const H=Ae=>{const Ne=Ae.body;switch(Ne.type){case"tabpanel":return[OP(Ne,Ae.initialData,S)];default:return[uc(Ne,Ae.initialData,S)]}},K=(Ae,Ne)=>L.some({isTabPanel:()=>Ne.body.type==="tabpanel"}),ve={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...g.map(Ae=>({id:Ae})).getOr({}),..._?ve:{}}},components:[],behaviours:pr([Ff.childAt(0),$s.config({channel:`${fp}-${c}`,updateState:K,renderComponents:H,initialData:o})])}},xP=(o,c,g,S,_)=>tC(o,c,L.some(g),S,_),j2=(o,c,g)=>{const S=tC(o,c,L.none(),g,!1);return Sl.parts.body(S)},SP=o=>{const c={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[vB(L.none(),{dom:{tag:"iframe",attributes:{src:o.url}},behaviours:pr([Ga.config({}),Mo.config({})])})]}],behaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(b3)})])};return Sl.parts.body(c)},q2=n2.deviceType.isTouch(),_1=(o,c)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,c]}),jh=(o,c)=>Sl.parts.close(Dl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":c.translate("Close")}},action:o,buttonBehaviours:pr([Ga.config({})])})),jm=()=>Sl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),K2=(o,c)=>Sl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Ov(`<p>${V_(c.translate(o))}</p>`)}]}]}),oO=o=>Sl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),nC=(o,c)=>[Um.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),Um.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:c})],qm=o=>{const c="tox-dialog",g=c+"-wrap",S=g+"__backdrop",_=c+"__disable-scroll";return Sl.sketch({lazySink:o.lazySink,onEscape:H=>(o.onEscape(H),L.some(!0)),useTabstopAt:H=>!b3(H),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[c].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Ov(`<div class="${g}"></div>`),components:[{dom:{tag:"div",classes:q2?[S,S+"--opaque"]:[S]}}]}},dragBlockClass:g,modalBehaviours:pr([Mo.config({}),Jo("dialog-events",o.dialogEvents.concat([xh(Do(),(H,K)=>{Xm.isBlocked(H)?M():yo.focusIn(H)}),qn(VO(),(H,K)=>{H.getSystem().broadcastOn([x3],{newFocus:K.event.newFocus})})])),Jo("scroll-lock",[Ca(()=>{ki(ya(),_)}),Sh(()=>{Xa(ya(),_)})]),...o.extraBehaviours]),eventOrder:{[Ii()]:["dialog-events"],[ef()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[kg()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},wP=o=>Dl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),title:o.translate("Close")}},buttonBehaviours:pr([Ga.config({})]),components:[Bh("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:c=>{ks(c,h1)}}),rC=(o,c,g,S)=>{const _=H=>[yi(S.translate(H.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...g.map(H=>({id:H})).getOr({})}},components:[],behaviours:pr([$s.config({channel:`${o4}-${c}`,initialData:o,renderComponents:_})])}},Ic=()=>({dom:Ov('<div class="tox-dialog__draghandle"></div>')}),sO=(o,c,g,S)=>Um.sketch({dom:Ov('<div class="tox-dialog__header"></div>'),components:[rC(o,c,L.some(g),S),Ic(),wP(S)],containerBehaviours:pr([M1.config({mode:"mouse",blockerClass:"blocker",getTarget:_=>Vd(_,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Az=(o,c,g)=>{const S=Sl.parts.title(rC(o,c,L.none(),g)),_=Sl.parts.draghandle(Ic()),H=Sl.parts.close(wP(g)),K=[S].concat(o.draggable?[_]:[]).concat([H]);return Um.sketch({dom:Ov('<div class="tox-dialog__header"></div>'),components:K})},TP=(o,c,g)=>Az({title:g.shared.providers.translate(o),draggable:g.dialog.isDraggableModal()},c,g.shared.providers),oC=(o,c,g,S)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":g.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${S.getOr(0)}px`,position:"absolute"}},behaviours:c,components:[{dom:Ov('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),hp=(o,c,g)=>({onClose:()=>g.closeWindow(),onBlock:S=>{const _=Ai(o().element,".tox-dialog__header").map(H=>Za(H));Sl.setBusy(o(),(H,K)=>oC(S.message,K,c,_))},onUnblock:()=>{Sl.setIdle(o())}}),J2="tox-dialog--fullscreen",Ln="tox-dialog--width-lg",In="tox-dialog--width-md",br=o=>{switch(o){case"large":return L.some(Ln);case"medium":return L.some(In);default:return L.none()}},hr=(o,c)=>{const g=zt.fromDom(c.element.dom);Ji(g,J2)||(tf(g,[Ln,In]),br(o).each(S=>ki(g,S)))},mo=(o,c)=>{const g=zt.fromDom(o.element.dom),S=y0(g),_=Ze(S,H=>H===Ln||H===In).or(br(c));iw(g,[J2,..._.toArray()])},bs=(o,c,g)=>oc(qm({...o,firstTabstop:1,lazySink:g.shared.getSink,extraBehaviours:[v3({}),...o.extraBehaviours],onEscape:S=>{ks(S,h1)},dialogEvents:c,eventOrder:{[Wl()]:[$s.name(),lu.name()],[ef()]:["scroll-lock",$s.name(),"messages","dialog-events","alloy.base.behaviour"],[kg()]:["alloy.base.behaviour","dialog-events","messages",$s.name(),"scroll-lock"]}})),ja=(o,c={})=>{const g=S=>{const _=ne(S.items,H=>{const K=Bt(c,H.name).getOr(X(!1));return{...H,storage:K}});return{...S,items:_}};return ne(o,S=>S.type==="menu"?g(S):S)},pf=o=>ke(o,(c,g)=>g.type==="menu"?ke(g.items,(_,H)=>(_[H.name]=H.storage,_),c):c,{}),fc=(o,c)=>[jS(Do(),bB),o(x2,(g,S,_,H)=>{Mh(es(H.element)).fold(M,M0),c.onClose(),S.onClose()}),o(h1,(g,S,_,H)=>{S.onCancel(g),ks(H,x2)}),qn(x6,(g,S)=>c.onUnblock()),qn(O6,(g,S)=>c.onBlock(S.event))],aO=(o,c)=>{const g=(_,H)=>qn(_,(K,ve)=>{S(K,(Ae,Ne)=>{H(o(),Ae,ve.event,K)})}),S=(_,H)=>{$s.getState(_).get().each(K=>{H(K,_)})};return[...fc(g,c),g(ap,(_,H,K)=>{H.onAction(_,{name:K.name})})]},ah=(o,c,g)=>{const S=(H,K)=>qn(H,(ve,Ae)=>{_(ve,(Ne,Ue)=>{K(o(),Ne,Ae.event,ve)})}),_=(H,K)=>{$s.getState(H).get().each(ve=>{K(ve.internalDialog,H)})};return[...fc(S,c),S(f3,(H,K)=>K.onSubmit(H)),S(df,(H,K,ve)=>{K.onChange(H,{name:ve.name})}),S(ap,(H,K,ve,Ae)=>{const Ne=()=>Ae.getSystem().isConnected()?yo.focusIn(Ae):void 0,Ue=ht=>Md(ht,"disabled")||Ri(ht,"aria-disabled").exists(At=>At==="true"),Je=es(Ae.element),st=Mh(Je);K.onAction(H,{name:ve.name,value:ve.value}),Mh(Je).fold(Ne,ht=>{Ue(ht)||st.exists(At=>rn(ht,At)&&Ue(At))?Ne():g().toOptional().filter(At=>!rn(At.element,ht)).each(Ne)})}),S(CN,(H,K,ve)=>{K.onTabChange(H,{newTabName:ve.name,oldTabName:ve.oldName})}),Sh(H=>{const K=o();Fr.setValue(H,K.getData())})]},Pz=(o,c)=>b4(o,o.type,c),Mz=(o,c,g)=>Ze(c,S=>S.name===g).bind(S=>S.memento.getOpt(o)),Ez=(o,c)=>{const g=c.map(ve=>ve.footerButtons).getOr([]),S=Oe(g,ve=>ve.align==="start"),_=(ve,Ae)=>Um.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${ve}`]},components:ne(Ae,Ne=>Ne.memento.asSpec())}),H=_("start",S.pass),K=_("end",S.fail);return[H,K]},rD=(o,c,g)=>{const S=(_,H)=>{const K=ne(H.buttons,Ae=>{const Ne=ia(Pz(Ae,g));return{name:Ae.name,align:Ae.align,memento:Ne}}),ve=Ae=>Mz(_,K,Ae);return L.some({lookupByName:ve,footerButtons:K})};return{dom:Ov('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pr([$s.config({channel:`${s4}-${c}`,initialData:o,updateState:S,renderComponents:Ez})])}},qne=(o,c,g)=>rD(o,c,g),ps=(o,c,g)=>Sl.parts.footer(rD(o,c,g)),Qn=(o,c)=>{if(o.getRoot().getSystem().isConnected()){const S=xs.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return A2.getField(S,c).orThunk(()=>o.getFooter().bind(K=>$s.getState(K).get()).bind(K=>K.lookupByName(c)))}else return L.none()},lo=(o,c)=>{const g=o.getRoot();return $s.getState(g).get().map(S=>aa(da("data",S.dataValidator,c))).getOr(c)},Eo=(o,c,g)=>{const S=At=>{const qt=o.getRoot();qt.getSystem().isConnected()&&At(qt)},ht={getData:()=>{const At=o.getRoot(),qt=At.getSystem().isConnected()?o.getFormWrapper():At,Dn=Fr.getValue(qt),mn=je(g,on=>on.get());return{...Dn,...mn}},setData:At=>{S(qt=>{const Dn=ht.getData(),mn=Ta(Dn,At),on=lo(o,mn),kn=o.getFormWrapper();Fr.setValue(kn,on),Ye(g,(Zn,mr)=>{vn(mn,mr)&&Zn.set(mn[mr])})})},setEnabled:(At,qt)=>{Qn(o,At).each(qt?Co.enable:Co.disable)},focus:At=>{Qn(o,At).each(Mo.focus)},block:At=>{if(!h(At))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");S(qt=>{vo(qt,O6,{message:At})})},unblock:()=>{S(At=>{ks(At,x6)})},showTab:At=>{S(qt=>{const Dn=o.getBody();$s.getState(Dn).get().exists(on=>on.isTabPanel())&&xs.getCurrent(Dn).each(on=>{zf.showTab(on,At)})})},redial:At=>{S(qt=>{const Dn=o.getId(),mn=c(At),on=ja(mn.internalDialog.buttons,g);qt.getSystem().broadcastOn([`${O3}-${Dn}`],mn),qt.getSystem().broadcastOn([`${o4}-${Dn}`],mn.internalDialog),qt.getSystem().broadcastOn([`${fp}-${Dn}`],mn.internalDialog),qt.getSystem().broadcastOn([`${s4}-${Dn}`],{...mn.internalDialog,buttons:on}),ht.setData(mn.initialData)})},close:()=>{S(At=>{ks(At,x2)})},toggleFullscreen:o.toggleFullscreen};return ht},Qi=(o,c,g)=>{const S=Kr("dialog"),_=o.internalDialog,H=TP(_.title,S,g),K=X(_.size),ve=br(K.get()).toArray(),Ae=(on,kn)=>(K.set(kn.internalDialog.size),hr(kn.internalDialog.size,on),L.some(kn)),Ne=j2({body:_.body,initialData:_.initialData},S,g),Ue=ja(_.buttons),Je=pf(Ue),st=it(Ue.length!==0,ps({buttons:Ue},S,g)),ht=ah(()=>mn,hp(()=>qt,g.shared.providers,c),g.shared.getSink),At={id:S,header:H,body:Ne,footer:st,extraClasses:ve,extraBehaviours:[$s.config({channel:`${O3}-${S}`,updateState:Ae,initialData:o})],extraStyles:{}},qt=bs(At,ht,g),Dn=(()=>{const on=()=>{const Zn=Sl.getBody(qt);return xs.getCurrent(Zn).getOr(Zn)},kn=()=>{mo(qt,K.get())};return{getId:F(S),getRoot:F(qt),getBody:()=>Sl.getBody(qt),getFooter:()=>Sl.getFooter(qt),getFormWrapper:on,toggleFullscreen:kn}})(),mn=Eo(Dn,c.redial,Je);return{dialog:qt,instanceApi:mn}},jc=(o,c,g,S=!1,_)=>{const H=Kr("dialog"),K=Kr("dialog-label"),ve=Kr("dialog-content"),Ae=o.internalDialog,Ne=X(Ae.size),Ue=br(Ne.get()).toArray(),Je=(Gn,Or)=>(Ne.set(Or.internalDialog.size),hr(Or.internalDialog.size,Gn),_(),L.some(Or)),st=ia(sO({title:Ae.title,draggable:!0},H,K,g.shared.providers)),ht=ia(xP({body:Ae.body,initialData:Ae.initialData},H,ve,g,S)),At=ja(Ae.buttons),qt=pf(At),Dn=it(At.length!==0,ia(qne({buttons:At},H,g))),mn=ah(()=>mr,{onBlock:Gn=>{Xm.block(kn,(Or,Mr)=>{const is=st.getOpt(kn).map(Gr=>Za(Gr.element));return oC(Gn.message,Mr,g.shared.providers,is)})},onUnblock:()=>{Xm.unblock(kn)},onClose:()=>c.closeWindow()},g.shared.getSink),kn=oc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...Ue],attributes:{role:"dialog","aria-labelledby":K}},eventOrder:{[Wl()]:[$s.name(),lu.name()],[Ii()]:["execute-on-form"],[ef()]:["reflecting","execute-on-form"]},behaviours:pr([yo.config({mode:"cyclic",onEscape:Gn=>(ks(Gn,x2),L.some(!0)),useTabstopAt:Gn=>!b3(Gn)&&(Oo(Gn)!=="button"||oa(Gn,"disabled")!=="disabled"),firstTabstop:1}),$s.config({channel:`${O3}-${H}`,updateState:Je,initialData:o}),Mo.config({}),Jo("execute-on-form",mn.concat([xh(Do(),(Gn,Or)=>{yo.focusIn(Gn)}),qn(VO(),(Gn,Or)=>{Gn.getSystem().broadcastOn([x3],{newFocus:Or.event.newFocus})})])),Xm.config({getRoot:()=>L.some(kn)}),Uo.config({}),v3({})]),components:[st.asSpec(),ht.asSpec(),...Dn.map(Gn=>Gn.asSpec()).toArray()]}),Zn=()=>{mo(kn,Ne.get())},mr=Eo({getId:F(H),getRoot:F(kn),getFooter:()=>Dn.map(Gn=>Gn.get(kn)),getBody:()=>ht.get(kn),getFormWrapper:()=>{const Gn=ht.get(kn);return xs.getCurrent(Gn).getOr(Gn)},toggleFullscreen:Zn},c.redial,qt);return{dialog:kn,instanceApi:mr}};var xd=tinymce.util.Tools.resolve("tinymce.util.URI");const Ll=o=>{const c=K=>{o.getSystem().isConnected()&&K(o)};return{block:K=>{if(!h(K))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(ve=>{vo(ve,O6,{message:K})})},unblock:()=>{c(K=>{ks(K,x6)})},close:()=>{c(K=>{ks(K,x2)})},sendMessage:K=>{c(ve=>{ve.getSystem().broadcastOn([q6],K)})}}},qh=["insertContent","setContent","execCommand","close","block","unblock"],CP=o=>u(o)&&qh.indexOf(o.mceAction)!==-1,Kne=o=>!CP(o)&&u(o)&&vn(o,"mceAction"),_z=(o,c,g)=>{switch(g.mceAction){case"insertContent":o.insertContent(g.content);break;case"setContent":o.setContent(g.content);break;case"execCommand":const S=b(g.ui)?g.ui:!1;o.execCommand(g.cmd,S,g.value);break;case"close":c.close();break;case"block":c.block(g.message);break;case"unblock":c.unblock();break}},Dce=(o,c,g,S)=>{const _=Kr("dialog"),H=TP(o.title,_,S),K=SP(o),ve=o.buttons.bind(kn=>kn.length===0?L.none():L.some(ps({buttons:kn},_,S))),Ae=aO(()=>on,hp(()=>mn,S.shared.providers,c)),Ne={...o.height.fold(()=>({}),kn=>({height:kn+"px","max-height":kn+"px"})),...o.width.fold(()=>({}),kn=>({width:kn+"px","max-width":kn+"px"}))},Ue=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],Je=new xd(o.url,{base_uri:new xd(window.location.href)}),st=`${Je.protocol}://${Je.host}${Je.port?":"+Je.port:""}`,ht=Em(),At=(kn,Zn)=>L.some(Zn),qt=[$s.config({channel:`${O3}-${_}`,updateState:At,initialData:o}),Jo("messages",[Ca(()=>{const kn=_c(zt.fromDom(window),"message",Zn=>{if(Je.isSameOrigin(new xd(Zn.raw.origin))){const mr=Zn.raw.data;CP(mr)?_z(g,on,mr):Kne(mr)&&o.onMessage(on,mr)}});ht.set(kn)}),Sh(ht.clear)]),lu.config({channels:{[q6]:{onReceive:(kn,Zn)=>{Ai(kn.element,"iframe").each(mr=>{const Gn=mr.dom.contentWindow;C(Gn)&&Gn.postMessage(Zn,st)})}}}})],mn=bs({id:_,header:H,body:K,footer:ve,extraClasses:Ue,extraBehaviours:qt,extraStyles:Ne},Ae,S),on=Ll(mn);return{dialog:mn,instanceApi:on}},rxe=o=>{const c=o.shared;return{open:(S,_)=>{const H=()=>{Sl.hide(Ne),_()},K=ia(b4({name:"close-alert",text:"OK",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"cancel",o)),ve=jm(),Ae=jh(H,c.providers),Ne=oc(qm({lazySink:()=>c.getSink(),header:_1(ve,Ae),body:K2(S,c.providers),footer:L.some(oO(nC([],[K.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[qn(h1,H)],eventOrder:{}}));Sl.show(Ne);const Ue=K.get(Ne);Mo.focus(Ue)}}},oxe=o=>{const c=o.shared;return{open:(S,_)=>{const H=st=>{Sl.hide(Ue),_(st)},K=ia(b4({name:"yes",text:"Yes",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"submit",o)),ve=b4({name:"no",text:"No",primary:!1,buttonType:L.some("secondary"),align:"end",enabled:!0,icon:L.none()},"cancel",o),Ae=jm(),Ne=jh(()=>H(!1),c.providers),Ue=oc(qm({lazySink:()=>c.getSink(),header:_1(Ae,Ne),body:K2(S,c.providers),footer:L.some(oO(nC([],[ve,K.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[qn(h1,()=>H(!1)),qn(f3,()=>H(!0))],eventOrder:{}}));Sl.show(Ue);const Je=K.get(Ue);Mo.focus(Je)}}},$ce=(o,c)=>aa(da("data",c,o)),Lce=o=>i3(o,".tox-alert-dialog")||i3(o,".tox-confirm-dialog"),sxe=(o,c,g)=>c&&g?[]:[Bi.config({contextual:{lazyContext:()=>L.some(ui(zt.fromDom(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:S=>d1(o,S.element).map(H=>({bounds:O2(H),optScrollEnv:L.some({currentScrollTop:H.element.dom.scrollTop,scrollElmTop:Cl(H.element).top})})).getOrThunk(()=>({bounds:Vl(),optScrollEnv:L.none()}))})],axe=o=>{const c=o.editor,g=UT(c),S=rxe(o.backstages.dialog),_=oxe(o.backstages.dialog),H=(At,qt,Dn)=>{if(!x(qt)){if(qt.inline==="toolbar")return Ne(At,o.backstages.popup.shared.anchors.inlineDialog(),Dn,qt);if(qt.inline==="bottom")return Ue(At,o.backstages.popup.shared.anchors.inlineBottomDialog(),Dn,qt);if(qt.inline==="cursor")return Ne(At,o.backstages.popup.shared.anchors.cursor(),Dn,qt)}return Ae(At,Dn)},K=(At,qt)=>ve(At,qt),ve=(At,qt)=>{const Dn=mn=>{const on=Dce(mn,{closeWindow:()=>{Sl.hide(on.dialog),qt(on.instanceApi)}},c,o.backstages.dialog);return Sl.show(on.dialog),on.instanceApi};return zn.openUrl(Dn,At)},Ae=(At,qt)=>{const Dn=(mn,on,kn)=>{const Zn=on,Gn=Qi({dataValidator:kn,initialData:Zn,internalDialog:mn},{redial:zn.redial,closeWindow:()=>{Sl.hide(Gn.dialog),qt(Gn.instanceApi)}},o.backstages.dialog);return Sl.show(Gn.dialog),Gn.instanceApi.setData(Zn),Gn.instanceApi};return zn.open(Dn,At)},Ne=(At,qt,Dn,mn)=>{const on=(kn,Zn,mr)=>{const Gn=$ce(Zn,mr),Or=gs(),Mr=o.backstages.popup.shared.header.isPositionedAtTop(),is={dataValidator:mr,initialData:Gn,internalDialog:kn},Gr=()=>Or.on(wo=>{ri.reposition(wo),(!g||!Mr)&&Bi.refresh(wo)}),Io=jc(is,{redial:zn.redial,closeWindow:()=>{Or.on(ri.hide),c.off("ResizeEditor",Gr),Or.clear(),Dn(Io.instanceApi)}},o.backstages.popup,mn.ariaAttrs,Gr),_o=oc(ri.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:mn.persistent?{event:"doNotDismissYet"}:{},...Mr?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pr([Jo("window-manager-inline-events",[qn(Ag(),(wo,Ns)=>{ks(Io.dialog,h1)})]),...sxe(c,g,Mr)]),isExtraPart:(wo,Ns)=>Lce(Ns)}));Or.set(_o);const na=()=>{const wo=c.inline?ya():zt.fromDom(c.getContainer()),Ns=ui(wo);return L.some(Ns)};return ri.showWithinBounds(_o,nf(Io.dialog),{anchor:qt},na),(!g||!Mr)&&(Bi.refresh(_o),c.on("ResizeEditor",Gr)),Io.instanceApi.setData(Gn),yo.focusIn(Io.dialog),Io.instanceApi};return zn.open(on,At)},Ue=(At,qt,Dn,mn)=>{const on=(kn,Zn,mr)=>{const Gn=$ce(Zn,mr),Or=gs(),Mr=o.backstages.popup.shared.header.isPositionedAtTop(),is={dataValidator:mr,initialData:Gn,internalDialog:kn},Gr=()=>Or.on(wo=>{ri.reposition(wo),Bi.refresh(wo)}),Io=jc(is,{redial:zn.redial,closeWindow:()=>{Or.on(ri.hide),c.off("ResizeEditor ScrollWindow ElementScroll",Gr),Or.clear(),Dn(Io.instanceApi)}},o.backstages.popup,mn.ariaAttrs,Gr),_o=oc(ri.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:mn.persistent?{event:"doNotDismissYet"}:{},...Mr?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pr([Jo("window-manager-inline-events",[qn(Ag(),(wo,Ns)=>{ks(Io.dialog,h1)})]),Bi.config({contextual:{lazyContext:()=>L.some(ui(zt.fromDom(c.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:wo=>d1(c,wo.element).map(Pr=>({bounds:O2(Pr),optScrollEnv:L.some({currentScrollTop:Pr.element.dom.scrollTop,scrollElmTop:Cl(Pr.element).top})})).getOrThunk(()=>({bounds:Vl(),optScrollEnv:L.none()}))})]),isExtraPart:(wo,Ns)=>Lce(Ns)}));Or.set(_o);const na=()=>o.backstages.popup.shared.getSink().toOptional().bind(wo=>{const Ns=d1(c,wo.element),Pr=15,oo=Ns.map(To=>O2(To)).getOr(Vl()),No=ui(zt.fromDom(c.getContentAreaContainer())),Qo=py(No,oo);return L.some(Ja(Qo.x,Qo.y,Qo.width,Qo.height-Pr))});return ri.showWithinBounds(_o,nf(Io.dialog),{anchor:qt},na),Bi.refresh(_o),c.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Gr),Io.instanceApi.setData(Gn),yo.focusIn(Io.dialog),Io.instanceApi};return zn.open(on,At)};return{open:H,openUrl:K,alert:(At,qt)=>{S.open(At,qt)},close:At=>{At.close()},confirm:(At,qt)=>{_.open(At,qt)}}},ixe=o=>{hL(o),SX(o),kte(o)};var lxe=()=>{Og.add("silver",o=>{ixe(o);let c=()=>Vl();const{dialogs:g,popups:S,renderUI:_}=Tne(o,{getPopupSinkBounds:()=>c()}),H=()=>{const Ae=_();return d1(o,S.getMothership().element).each(Ue=>{c=()=>O2(Ue)}),Ae};dG.register(o,S.backstage.shared);const K=axe({editor:o,backstages:{popup:S.backstage,dialog:g.backstage}}),ve=()=>Y_(o,{backstage:S.backstage},S.getMothership());return{renderUI:H,getWindowManagerImpl:F(K),getNotificationManagerImpl:ve}})};lxe()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=M=>{let I=M;return{get:()=>I,set:F=>{I=F}}};var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=M=>()=>M;var a=tinymce.util.Tools.resolve("tinymce.Env");const i=M=>M.dispatch("ResizeEditor"),d=M=>I=>I.options.get(M),f=M=>{const I=M.options.register;I("autoresize_overflow_padding",{processor:"number",default:1}),I("autoresize_bottom_margin",{processor:"number",default:50})},h=d("min_height"),u=d("max_height"),p=d("autoresize_overflow_padding"),v=d("autoresize_bottom_margin"),y=M=>M.plugins.fullscreen&&M.plugins.fullscreen.isFullscreen(),b=(M,I)=>{const V=M.getBody();V&&(V.style.overflowY=I?"":"hidden",I||(V.scrollTop=0))},x=(M,I,V,N)=>{var F;const z=parseInt((F=M.getStyle(I,V,N))!==null&&F!==void 0?F:"",10);return isNaN(z)?0:z},k=M=>{if((M==null?void 0:M.type.toLowerCase())==="setcontent"){const I=M;return I.selection===!0||I.paste===!0}else return!1},C=(M,I,V,N)=>{var F;const z=M.dom,U=M.getDoc();if(!U)return;if(y(M)){b(M,!0);return}const Q=U.documentElement,B=N?N():p(M),E=(F=h(M))!==null&&F!==void 0?F:M.getElement().offsetHeight;let W=E;const Y=x(z,Q,"margin-top",!0),ie=x(z,Q,"margin-bottom",!0);let L=Q.offsetHeight+Y+ie+B;L<0&&(L=0);const me=M.getContainer().offsetHeight,ae=M.getContentAreaContainer().offsetHeight,q=me-ae;L+q>E&&(W=L+q);const fe=u(M);if(fe&&W>fe?(W=fe,b(M,!0)):b(M,!1),W!==I.get()){const ee=W-I.get();if(z.setStyle(M.getContainer(),"height",W+"px"),I.set(W),i(M),a.browser.isSafari()&&(a.os.isMacOS()||a.os.isiOS())){const be=M.getWin();be.scrollTo(be.pageXOffset,be.pageYOffset)}M.hasFocus()&&k(V)&&M.selection.scrollIntoView(),(a.browser.isSafari()||a.browser.isChromium())&&ee<0&&C(M,I,V,N)}},w=(M,I)=>{let V=()=>v(M),N,F;M.on("init",z=>{N=0;const U=p(M),Q=M.dom;Q.setStyles(M.getDoc().documentElement,{height:"auto"}),a.browser.isEdge()||a.browser.isIE()?Q.setStyles(M.getBody(),{paddingLeft:U,paddingRight:U,"min-height":0}):Q.setStyles(M.getBody(),{paddingLeft:U,paddingRight:U}),C(M,I,z,V),N+=1}),M.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",z=>{if(N===1)F=M.getContainer().offsetHeight,C(M,I,z,V),N+=1;else if(N===2){const U=F<M.getContainer().offsetHeight;if(U){const Q=M.dom,B=M.getDoc();Q.setStyles(B.documentElement,{"min-height":0}),Q.setStyles(M.getBody(),{"min-height":"inherit"})}V=U?r(0):V,N+=1}else C(M,I,z,V)})},T=(M,I)=>{M.addCommand("mceAutoResize",()=>{C(M,I)})};var R=()=>{e.add("autoresize",M=>{if(f(M),M.options.isSet("resize")||M.options.set("resize",!1),!M.inline){const I=t(0);T(M,I),w(M,I)}})};R()})();var b$e=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],O$e=function(t){return b$e.map(function(e){return e.toLowerCase()}).indexOf(t.toLowerCase())!==-1},x$e=function(t,e,r){Object.keys(e).filter(O$e).forEach(function(a){var i=e[a];typeof i=="function"&&(a==="onInit"?i(t,r):r.on(a.substring(2),function(d){return i(d,r)}))})},S$e=function(t,e,r,a){var i=t.modelEvents?t.modelEvents:null,d=Array.isArray(i)?i.join(" "):i;Ho(a,function(f,h){r&&typeof f=="string"&&f!==h&&f!==r.getContent({format:t.outputFormat})&&r.setContent(f)}),r.on(d||"change input undo redo",function(){e.emit("update:modelValue",r.getContent({format:t.outputFormat}))})},w$e=function(t,e,r,a,i,d){a.setContent(d()),r.attrs["onUpdate:modelValue"]&&S$e(e,r,a,i),x$e(t,r.attrs,a)},Nme=0,ZOe=function(t){var e=Date.now(),r=Math.floor(Math.random()*1e9);return Nme++,t+"_"+r+Nme+String(e)},T$e=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},Bme=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},C$e=function(t,e){return Bme(t).concat(Bme(e))},k$e=function(t){return t==null},Qme=function(){return{listeners:[],scriptId:ZOe("tiny-script"),scriptLoaded:!1}},A$e=function(){var t=Qme(),e=function(i,d,f,h){var u=d.createElement("script");u.referrerPolicy="origin",u.type="application/javascript",u.id=i,u.src=f;var p=function(){u.removeEventListener("load",p),h()};u.addEventListener("load",p),d.head&&d.head.appendChild(u)},r=function(i,d,f){t.scriptLoaded?f():(t.listeners.push(f),i.getElementById(t.scriptId)||e(t.scriptId,i,d,function(){t.listeners.forEach(function(h){return h()}),t.scriptLoaded=!0}))},a=function(){t=Qme()};return{load:r,reinitialize:a}},P$e=A$e(),M$e=function(){return typeof window<"u"?window:global},mC=function(){var t=M$e();return t&&t.tinymce?t.tinymce:null},E$e={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},B1=globalThis&&globalThis.__assign||function(){return B1=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},B1.apply(this,arguments)},_$e=function(t,e,r,a){return t(a||"div",{id:e,ref:r})},R$e=function(t,e,r){return t("textarea",{id:e,visibility:"hidden",ref:r})},hoe={selector:void 0,target:void 0},D$e=R$({props:E$e,setup:function(t,e){var r=t.init?B1(B1({},t.init),hoe):B1({},hoe),a=sU(t),i=a.disabled,d=a.modelValue,f=a.tagName,h=Vo(null),u=null,p=t.id||ZOe("tiny-vue"),v=t.init&&t.init.inline||t.inline,y=!!e.attrs["onUpdate:modelValue"],b=!0,x=t.initialValue?t.initialValue:"",k="",C=function(R){return y?function(){return d!=null&&d.value?d.value:""}:function(){return R?x:k}},w=function(){var R=C(b),M=B1(B1({},r),{readonly:t.disabled,target:h.value,plugins:C$e(r.plugins,t.plugins),toolbar:t.toolbar||r.toolbar,inline:v,setup:function(I){u=I,I.on("init",function(V){return w$e(V,t,e,I,d,R)}),typeof r.setup=="function"&&r.setup(I)}});T$e(h.value)&&(h.value.style.visibility=""),mC().init(M),b=!1};Ho(i,function(R){var M;u!==null&&(typeof((M=u.mode)===null||M===void 0?void 0:M.set)=="function"?u.mode.set(R?"readonly":"design"):u.setMode(R?"readonly":"design"))}),Ho(f,function(R){var M;y||(k=u.getContent()),(M=mC())===null||M===void 0||M.remove(u),ec(function(){return w()})}),gg(function(){if(mC()!==null)w();else if(h.value&&h.value.ownerDocument){var R=t.cloudChannel?t.cloudChannel:"6",M=t.apiKey?t.apiKey:"no-api-key",I=k$e(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(M,"/tinymce/").concat(R,"/tinymce.min.js"):t.tinymceScriptSrc;P$e.load(h.value.ownerDocument,I,w)}}),im(function(){mC()!==null&&mC().remove(u)}),v||(Mae(function(){b||w()}),Eae(function(){var R;y||(k=u.getContent()),(R=mC())===null||R===void 0||R.remove(u)}));var T=function(R){var M;k=u.getContent(),(M=mC())===null||M===void 0||M.remove(u),r=B1(B1(B1({},r),R),hoe),ec(function(){return w()})};return e.expose({rerender:T,getEditor:function(){return u}}),function(){return v?_$e(hg,p,h,t.tagName):R$e(hg,p,h)}}});const $$e={components:{"tiny-editor":D$e},props:{cellData:{type:Object,required:!0}},data(){return this.$devMode?{init:{plugins:"autoresize",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl",branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }",autoresize_bottom_margin:10,min_height:100},items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}:{init:{plugins:"autoresize",toolbar:!1,branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }"},items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},methods:{saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)}}};const L$e=kd("span",{class:"py-0 px-2"},".doc",-1);function I$e(t,e,r,a,i,d){const f=q1("tiny-editor");return so(),La(Go,null,[lt(YC,{flat:"",color:"bluegrey"},{default:Yr(()=>[t.$devMode?(so(),Ts(cg,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:Yr(()=>[lt(Nv,{cols:11},{default:Yr(()=>[L$e]),_:1}),lt(Nv,{cols:1,class:"d-flex justify-end align-center py-0"},{default:Yr(()=>[lt(qa,{small:"",class:"mx-1",color:"primary",onClick:d.saveCell},{default:Yr(()=>[gi(" mdi-content-save ")]),_:1},8,["onClick"]),lt(qa,{small:"",class:"mx-1",color:"error",onClick:d.deleteCell},{default:Yr(()=>[gi(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):Nu("",!0),t.$devMode?(so(),Ts(f,{key:1,modelValue:r.cellData.code,"onUpdate:modelValue":e[0]||(e[0]=h=>r.cellData.code=h),init:t.init,onKeyUp:d.saveCell},null,8,["modelValue","init","onKeyUp"])):(so(),Ts(f,{key:2,modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=h=>r.cellData.code=h),init:t.init,disabled:!0},null,8,["modelValue","init"]))]),_:1}),t.$devMode?(so(),Ts(BS,{key:0,transition:"scale-transition"},{activator:Yr(({props:h})=>[lt(Nc,rs(h,{block:""}),{default:Yr(()=>[lt(cg,null,{default:Yr(()=>[lt(qa,{color:"primary"},{default:Yr(()=>[gi("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:Yr(()=>[lt(NS,null,{default:Yr(()=>[(so(!0),La(Go,null,Hf(t.items,(h,u)=>(so(),Ts(mg,{key:u},{default:Yr(()=>[lt(Nc,{block:"",onClick:p=>d.createCell(h.title)},{default:Yr(()=>[gi(yp(h.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):Nu("",!0)],64)}const N$e=ny($$e,[["render",I$e]]),B$e=36,Fme=1,Q$e=2,SD=3,moe=4,F$e=5,V$e=6,z$e=7,Z$e=8,H$e=9,U$e=10,W$e=11,Y$e=12,X$e=13,G$e=14,j$e=15,q$e=16,K$e=17,Vme=18,J$e=19,HOe=20,UOe=21,zme=22,e9e=23,t9e=24;function tae(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function n9e(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function pC(t,e,r){for(let a=!1;;){if(t.next<0)return;if(t.next==e&&!a){t.advance();return}a=r&&!a&&t.next==92,t.advance()}}function r9e(t){for(;;){if(t.next<0||t.peek(1)<0)return;if(t.next==36&&t.peek(1)==36){t.advance(2);return}t.advance()}}function o9e(t,e){let r="[{<(".indexOf(String.fromCharCode(e)),a=r<0?e:"]}>)".charCodeAt(r);for(;;){if(t.next<0)return;if(t.next==a&&t.peek(1)==39){t.advance(2);return}t.advance()}}function WOe(t,e){for(;!(t.next!=95&&!tae(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function s9e(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),pC(t,e,!1)}else WOe(t)}function Zme(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function Hme(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function Ume(t){for(;!(t.next<0||t.next==10);)t.advance()}function gC(t,e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)==t)return!0;return!1}const goe=` 	\r
`;function YOe(t,e,r){let a=Object.create(null);a.true=a.false=F$e,a.null=a.unknown=V$e;for(let i of t.split(" "))i&&(a[i]=HOe);for(let i of e.split(" "))i&&(a[i]=UOe);for(let i of(r||"").split(" "))i&&(a[i]=t9e);return a}const a9e="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",i9e="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",nae={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',words:YOe(i9e,a9e)};function l9e(t,e,r,a){let i={};for(let d in nae)i[d]=(t.hasOwnProperty(d)?t:nae)[d];return e&&(i.words=YOe(e,r||"",a)),i}function XOe(t){return new hh(e=>{var r;let{next:a}=e;if(e.advance(),gC(a,goe)){for(;gC(e.next,goe);)e.advance();e.acceptToken(B$e)}else if(a==36&&e.next==36&&t.doubleDollarQuotedStrings)r9e(e),e.acceptToken(SD);else if(a==39||a==34&&t.doubleQuotedStrings)pC(e,a,t.backslashEscapes),e.acceptToken(SD);else if(a==35&&t.hashComments||a==47&&e.next==47&&t.slashComments)Ume(e),e.acceptToken(Fme);else if(a==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))Ume(e),e.acceptToken(Fme);else if(a==47&&e.next==42){e.advance();for(let i=1;;){let d=e.next;if(e.next<0)break;if(e.advance(),d==42&&e.next==47){if(i--,e.advance(),!i)break}else d==47&&e.next==42&&(i++,e.advance())}e.acceptToken(Q$e)}else if((a==101||a==69)&&e.next==39)e.advance(),pC(e,39,!0);else if((a==110||a==78)&&e.next==39&&t.charSetCasts)e.advance(),pC(e,39,t.backslashEscapes),e.acceptToken(SD);else if(a==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),pC(e,39,t.backslashEscapes),e.acceptToken(SD);break}if(!tae(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(a==113||a==81)&&e.next==39&&e.peek(1)>0&&!gC(e.peek(1),goe)){let i=e.peek(1);e.advance(2),o9e(e,i),e.acceptToken(SD)}else if(a==40)e.acceptToken(z$e);else if(a==41)e.acceptToken(Z$e);else if(a==123)e.acceptToken(H$e);else if(a==125)e.acceptToken(U$e);else if(a==91)e.acceptToken(W$e);else if(a==93)e.acceptToken(Y$e);else if(a==59)e.acceptToken(X$e);else if(t.unquotedBitLiterals&&a==48&&e.next==98)e.advance(),Zme(e),e.acceptToken(zme);else if((a==98||a==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(pC(e,i,t.backslashEscapes),e.acceptToken(e9e)):(Zme(e,i),e.acceptToken(zme))}else if(a==48&&(e.next==120||e.next==88)||(a==120||a==88)&&e.next==39){let i=e.next==39;for(e.advance();n9e(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(moe)}else if(a==46&&e.next>=48&&e.next<=57)Hme(e,!0),e.acceptToken(moe);else if(a==46)e.acceptToken(G$e);else if(a>=48&&a<=57)Hme(e,!1),e.acceptToken(moe);else if(gC(a,t.operatorChars)){for(;gC(e.next,t.operatorChars);)e.advance();e.acceptToken(j$e)}else if(gC(a,t.specialVar))e.next==a&&e.advance(),s9e(e),e.acceptToken(K$e);else if(gC(a,t.identifierQuotes))pC(e,a,!1),e.acceptToken(J$e);else if(a==58||a==44)e.acceptToken(q$e);else if(tae(a)){let i=WOe(e,String.fromCharCode(a));e.acceptToken(e.next==46?Vme:(r=t.words[i.toLowerCase()])!==null&&r!==void 0?r:Vme)}})}const GOe=XOe(nae),c9e=AS.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:"⚠ LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,GOe],topRules:{Script:[0,25]},tokenPrec:0});function rae(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function A$(t,e){let r=t.sliceString(e.from,e.to),a=/^([`'"])(.*)\1$/.exec(r);return a?a[2]:r}function WH(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function u9e(t,e){if(e.name=="CompositeIdentifier"){let r=[];for(let a=e.firstChild;a;a=a.nextSibling)WH(a)&&r.push(A$(t,a));return r}return[A$(t,e)]}function Wme(t,e){for(let r=[];;){if(!e||e.name!=".")return r;let a=rae(e);if(!WH(a))return r;r.unshift(A$(t,a)),e=rae(a)}}function f9e(t,e){let r=rl(t).resolveInner(e,-1),a=h9e(t.doc,r);return r.name=="Identifier"||r.name=="QuotedIdentifier"||r.name=="Keyword"?{from:r.from,quoted:r.name=="QuotedIdentifier"?t.doc.sliceString(r.from,r.from+1):null,parents:Wme(t.doc,rae(r)),aliases:a}:r.name=="."?{from:e,quoted:null,parents:Wme(t.doc,r),aliases:a}:{from:e,quoted:null,parents:[],empty:!0,aliases:a}}const d9e=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function h9e(t,e){let r;for(let i=e;!r;i=i.parent){if(!i)return null;i.name=="Statement"&&(r=i)}let a=null;for(let i=r.firstChild,d=!1,f=null;i;i=i.nextSibling){let h=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,u=null;if(!d)d=h=="from";else if(h=="as"&&f&&WH(i.nextSibling))u=A$(t,i.nextSibling);else{if(h&&d9e.has(h))break;f&&WH(i)&&(u=A$(t,i))}u&&(a||(a=Object.create(null)),a[u]=u9e(t,f)),f=/Identifier$/.test(i.name)?i:null}return a}function m9e(t,e){return t?e.map(r=>Object.assign(Object.assign({},r),{label:t+r.label+t,apply:void 0})):e}const g9e=/^\w*$/,p9e=/^[`'"]?\w*[`'"]?$/;class xle{constructor(){this.list=[],this.children=void 0}child(e,r){let a=this.children||(this.children=Object.create(null)),i=a[e];return i||(e&&this.list.push(jOe(e,"type",r)),a[e]=new xle)}addCompletions(e){for(let r of e){let a=this.list.findIndex(i=>i.label==r.label);a>-1?this.list[a]=r:this.list.push(r)}}}function jOe(t,e,r){return/[^\w\xb5-\uffff]/.test(t)?{label:t,type:e,apply:r+t+r}:{label:t,type:e}}function v9e(t,e,r,a,i,d){var f;let h=new xle,u=((f=d==null?void 0:d.spec.identifierQuotes)===null||f===void 0?void 0:f[0])||'"',p=h.child(i||"",u);for(let v in t){let y=v.replace(/\\?\./g,x=>x=="."?"\0":x).split("\0"),b=y.length==1?p:h;for(let x of y)b=b.child(x.replace(/\\\./g,"."),u);for(let x of t[v])x&&b.list.push(typeof x=="string"?jOe(x,"property",u):x)}return e&&p.addCompletions(e),r&&h.addCompletions(r),h.addCompletions(p.list),a&&h.addCompletions(p.child(a,u).list),v=>{let{parents:y,from:b,quoted:x,empty:k,aliases:C}=f9e(v.state,v.pos);if(k&&!v.explicit)return null;C&&y.length==1&&(y=C[y[0]]||y);let w=h;for(let M of y){for(;!w.children||!w.children[M];)if(w==h)w=p;else if(w==p&&a)w=w.child(a,u);else return null;w=w.child(M,u)}let T=x&&v.state.sliceDoc(v.pos,v.pos+1)==x,R=w.list;return w==h&&C&&(R=R.concat(Object.keys(C).map(M=>({label:M,type:"constant"})))),{from:b,to:T?v.pos+1:void 0,options:m9e(x,R),validFor:x?p9e:g9e}}}function y9e(t,e){let r=Object.keys(t).map(a=>({label:e?a.toUpperCase():a,type:t[a]==UOe?"type":t[a]==HOe?"keyword":"variable",boost:-1}));return pie(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],SU(r))}let b9e=c9e.configure({props:[BC.add({Statement:QD()}),DS.add({Statement(t){return{from:t.firstChild.to,to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),RS({Keyword:Qt.keyword,Type:Qt.typeName,Builtin:Qt.standard(Qt.name),Bits:Qt.number,Bytes:Qt.string,Bool:Qt.bool,Null:Qt.null,Number:Qt.number,String:Qt.string,Identifier:Qt.name,QuotedIdentifier:Qt.special(Qt.string),SpecialVar:Qt.special(Qt.name),LineComment:Qt.lineComment,BlockComment:Qt.blockComment,Operator:Qt.operator,"Semi Punctuation":Qt.punctuation,"( )":Qt.paren,"{ }":Qt.brace,"[ ]":Qt.squareBracket})]});class Sle{constructor(e,r,a){this.dialect=e,this.language=r,this.spec=a}get extension(){return this.language.extension}static define(e){let r=l9e(e,e.keywords,e.types,e.builtin),a=CS.define({name:"sql",parser:b9e.configure({tokenizers:[{from:GOe,to:XOe(r)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Sle(r,a,e)}}function O9e(t,e=!1){return y9e(t.dialect.words,e)}function x9e(t,e=!1){return t.language.data.of({autocomplete:O9e(t,e)})}function S9e(t){return t.schema?v9e(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||wle):()=>null}function w9e(t){return t.schema?(t.dialect||wle).language.data.of({autocomplete:S9e(t)}):[]}function Yme(t={}){let e=t.dialect||wle;return new DC(e.language,[w9e(t),x9e(e,!!t.upperCaseKeywords)])}const wle=Sle.define({}),T9e={components:{codemirror:CU,"v-data-table":fle},computed:{extensions(){const t=()=>{this.runCode()},e=_S.of([{key:"Ctrl-Enter",run:()=>(t(),!0)}]);return this.$devMode?[Mp.highest(e),Yme(),cM,LC({override:[]})]:[Ia.readOnly.of(!0),Mp.highest(e),Yme(),cM,LC({override:[]})]}},data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},props:{cellData:{type:Object,required:!0}},setup(){const t=fs(null);return{view:t,handleReady:r=>{t.value=r.view}}},methods:{runCode(){this.$emit("runCode",this.cellData.id)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)},saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")}}},C9e=kd("span",{class:"py-0 px-2"},".sql",-1),k9e={key:4},A9e=kd("p",{class:"text-caption text-disabled text-right"}," CTRL+Enter to run",-1),P9e=[A9e],M9e={class:"text-p"};function E9e(t,e,r,a,i,d){const f=q1("codemirror");return so(),La(Go,null,[lt(YC,{flat:"",color:"bluegrey"},{default:Yr(()=>[t.$devMode?(so(),Ts(cg,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:Yr(()=>[lt(Nv,{cols:11},{default:Yr(()=>[C9e]),_:1}),lt(Nv,{cols:1,class:"d-flex justify-end align-center py-0"},{default:Yr(()=>[lt(qa,{small:"",class:"mx-1",color:"primary",onClick:d.runCode},{default:Yr(()=>[gi(" mdi-play ")]),_:1},8,["onClick"]),lt(qa,{small:"",class:"mx-1",color:"error",onClick:d.deleteCell},{default:Yr(()=>[gi(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):Nu("",!0),t.$devMode?(so(),Ts(Zv,{key:1,modelValue:r.cellData.variable_name,"onUpdate:modelValue":e[0]||(e[0]=h=>r.cellData.variable_name=h),label:"Enter SQL variable name",density:"compact"},null,8,["modelValue"])):Nu("",!0),t.$devMode?(so(),Ts(f,{key:2,modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=h=>r.cellData.code=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions,onKeyup:d.saveCell},null,8,["modelValue","extensions","onKeyup"])):(so(),Ts(Jye,{key:3},{default:Yr(()=>[lt(tbe,null,{default:Yr(()=>[lt(ile,{color:"bluegrey2"},{default:Yr(()=>[gi(" View Source Code ")]),_:1}),lt(ale,null,{default:Yr(()=>[t.$devMode?(so(),Ts(f,{key:0,modelValue:r.cellData.code,"onUpdate:modelValue":e[2]||(e[2]=h=>r.cellData.code=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions},null,8,["modelValue","extensions"])):Nu("",!0)]),_:1})]),_:1})]),_:1})),t.$devMode?(so(),La("div",k9e,P9e)):Nu("",!0),(so(!0),La(Go,null,Hf(r.cellData.components,h=>(so(),Ts(w$,{key:h.id},{default:Yr(()=>[(so(),Ts(sg(h.component),rs(h,{modelValue:h.value,"onUpdate:modelValue":u=>h.value=u},{[H1(h.triggerEvent)]:d.runCode}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1024))),128)),kd("div",M9e,yp(r.cellData.output),1)]),_:1}),t.$devMode?(so(),Ts(BS,{key:0,transition:"scale-transition"},{activator:Yr(({props:h})=>[lt(Nc,rs(h,{block:""}),{default:Yr(()=>[lt(cg,null,{default:Yr(()=>[lt(qa,{color:"primary"},{default:Yr(()=>[gi("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:Yr(()=>[lt(NS,null,{default:Yr(()=>[(so(!0),La(Go,null,Hf(i.items,(h,u)=>(so(),Ts(mg,{key:u},{default:Yr(()=>[lt(Nc,{block:"",onClick:p=>d.createCell(h.title)},{default:Yr(()=>[gi(yp(h.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):Nu("",!0)],64)}const _9e=ny(T9e,[["render",E9e]]),R9e={components:{codemirror:CU},data:()=>({updatingDependencies:!1}),props:{dependencies:{type:Object,required:!0}},computed:{extensions(){return[zOe(),cM,LC({override:[]})]}},methods:{async updateDependencies(){const t={dependencies:this.dependencies.value};await wD.post("api/dependency_update",t),this.updatingDependencies=!1}}},D9e=kd("span",{class:"text-h5"},"Add Dependencies",-1);function $9e(t,e,r,a,i,d){const f=q1("codemirror");return so(),Ts(s6e,{modelValue:t.updatingDependencies,"onUpdate:modelValue":e[2]||(e[2]=h=>t.updatingDependencies=h),persistent:"",width:"1024"},{activator:Yr(({props:h})=>[lt(Nc,rs({color:"primary"},h,{icon:"mdi-graph"}),null,16)]),default:Yr(()=>[lt(YC,null,{default:Yr(()=>[lt(Wye,null,{default:Yr(()=>[D9e]),_:1}),t.$devMode?(so(),Ts(f,{key:0,modelValue:r.dependencies.value,"onUpdate:modelValue":e[0]||(e[0]=h=>r.dependencies.value=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions},null,8,["modelValue","extensions"])):Nu("",!0),lt(Uye,null,{default:Yr(()=>[lt(dbe),lt(Nc,{color:"blue-darken-1",variant:"text",onClick:e[1]||(e[1]=h=>t.updatingDependencies=!1)},{default:Yr(()=>[gi(" Close ")]),_:1}),lt(Nc,{color:"blue-darken-1",variant:"text",onClick:d.updateDependencies},{default:Yr(()=>[gi(" Update ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const L9e=ny(R9e,[["render",$9e]]),I9e={components:{CodeComponent:x7e,MarkdownComponent:v$e,EditorComponent:N$e,SQLComponent:_9e,PackageComponent:L9e},data(){return{notebook:{},dependencies:{},completions:{},ws_url:"",notebook_socket:null,save_socket:null,run_socket:null,stop_socket:null,timer:0,timerInterval:null,isCodeRunning:!1,requestQueue:[],componentChangeQueue:[],menu_items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}],concatenatedCodeCache:{lastCellId:"",code:"",length:0}}},beforeMount(){window.addEventListener("beforeunload",this.clearState),window.addEventListener("unload",this.clearState)},beforeUnmount(){window.removeEventListener("beforeunload",this.clearState),window.removeEventListener("unload",this.clearState)},async mounted(){await this.get_ws_url(),await this.initializeNotebookSocket(),await this.initializeRunSocket(),await this.initializeStopSocket(),this.$devMode&&await this.initializeSaveSocket(),this.isCodeRunning=!0,this.startTimer(),this.notebook_socket.send("")},methods:{startTimer(){this.timer=0,this.timerInterval=setInterval(()=>{this.timer++},1)},stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)},async get_ws_url(){const t=await wD.get("ws_url");this.ws_url=t.data||"ws://localhost:1326/"},async runCode(t){if(!t)return;const e=[],r={};for(let i in this.notebook.cells){const d={id:i,code:this.notebook.cells[i].code,variable_name:this.notebook.cells[i].variable_name||"",cellType:this.notebook.cells[i].cellType};for(const f of this.notebook.cells[i].components)f.component==="v-data-table"?r[f.id]="":r[f.id]=f.value;e.push(d)}const a={originId:t,cells:e,components:r};if(this.isCodeRunning){const i=this.requestQueue.findIndex(d=>d.originId===t);i!==-1?this.requestQueue[i]=a:this.requestQueue.push(a);return}this.sendRunCodeRequest(a)},sendRunCodeRequest(t){this.isCodeRunning=!0,this.startTimer(),this.run_socket.send(JSON.stringify(t))},initializeNotebookSocket(){return this.notebook_socket=new WebSocket(this.ws_url+"ws/notebook"),this.notebook_socket.onmessage=t=>{const e=JSON.parse(t.data);if(e.cell_id)e.clear_output?this.notebook.cells[e.cell_id].output="":this.notebook.cells[e.cell_id].output=this.notebook.cells[e.cell_id].output.concat(e.output);else if(e.complete)this.isCodeRunning=!1,this.stopTimer();else{const r=JSON.parse(e);if(r.notebook){this.notebook=r.notebook;for(let a in this.notebook.cells)this.notebook.cells[a].cellType==="code"&&(this.completions[a]=[]);this.dependencies=r.dependencies}else this.notebook.cells[r.id].components=r.components,this.notebook.cells[r.id].layout=r.layout}},new Promise((t,e)=>{this.notebook_socket.onopen=()=>{console.log("Notebook socket connected"),t()},this.notebook_socket.onerror=r=>{console.error("Notebook socket connection error:",r),e(r)}})},initializeRunSocket(){return this.run_socket=this.$devMode?new WebSocket(this.ws_url+"ws/run_code"):new WebSocket(this.ws_url+"ws/component_run"),this.run_socket.onmessage=t=>{const e=JSON.parse(t.data);if(!this.$devMode&&e.refresh)this.notebookRefresh();else if(e.cell_id)e.clear_output?this.notebook.cells[e.cell_id].output="":this.notebook.cells[e.cell_id].output=this.notebook.cells[e.cell_id].output.concat(e.output);else if(e.complete){if(this.isCodeRunning=!1,this.stopTimer(),this.$devMode&&this.requestQueue.length>0){const r=this.requestQueue.shift()||{};this.sendRunCodeRequest(r)}else if(!this.$devMode&&this.componentChangeQueue.length>0){const r=this.componentChangeQueue.shift()||{},a={originId:r.originId,components:r.components,userId:r.userId};this.sendComponentRequest(a)}}else{const r=JSON.parse(e);this.notebook.cells[r.id].components=r.components,this.notebook.cells[r.id].layout=r.layout}},new Promise((t,e)=>{this.run_socket.onopen=()=>{console.log("Run socket connected"),t()},this.run_socket.onerror=r=>{console.error("Run socket connection error:",r),e(r)}})},initializeSaveSocket(){return this.save_socket=new WebSocket(this.ws_url+"ws/save_text"),this.save_socket.onmessage=t=>{try{const e=JSON.parse(t.data);this.completions[e.cell_id]=Array.isArray(e.completions)?e.completions:[]}catch(e){console.error("Error parsing server message:",e)}},new Promise((t,e)=>{this.save_socket.onopen=()=>{console.log("Save socket connected"),t()},this.save_socket.onerror=r=>{console.error("Save socket connection error:",r),e(r)}})},initializeStopSocket(){return this.stop_socket=new WebSocket(this.ws_url+"ws/stop_execution"),new Promise((t,e)=>{this.stop_socket.onopen=()=>{console.log("Stop socket connected"),t()},this.stop_socket.onerror=r=>{console.error("Stop socket connection error:",r),e(r)}})},async componentValueChange(t,e,r){const a={};for(let f in this.notebook.cells)for(const h of this.notebook.cells[f].components)a[h.id]=h.value;const i={originId:t,componentId:e,components:a,userId:this.notebook.userId};if(this.isCodeRunning){const f=this.componentChangeQueue.findIndex(h=>h.componentId===e);f!==-1?this.componentChangeQueue[f]=i:this.componentChangeQueue.push(i);return}const d={originId:i.originId,components:i.components,userId:i.userId};this.sendComponentRequest(d)},sendComponentRequest(t){this.isCodeRunning=!0,this.startTimer(),this.run_socket.send(JSON.stringify(t))},async notebookRefresh(){this.isCodeRunning=!0,this.startTimer(),this.notebook_socket.send("start")},navigateToApp(){window.open("https://zero-true.com/")},clearState:function(){const e={userId:this.notebook.userId};wD.post("api/clear_state",e)},async createCodeCell(t,e){const r={cellType:e.toLowerCase(),position_key:t},i=(await wD.post("api/create_cell",r)).data;let d={};t||(d[i.id]=i);for(let f in this.notebook.cells)d[f]=this.notebook.cells[f],t===f&&(d[i.id]=i);i.cellType==="code"&&(this.completions[i.id]=[]),this.notebook.cells=d},async deleteCell(t){const e={cellId:t};await wD.post("api/delete_cell",e),this.notebook.cells[t].cellType==="code"&&delete this.completions[t],delete this.notebook.cells[t]},async saveCell(t,e,r,a){if(this.notebook.cells[t].cellType==="code"&&this.concatenatedCodeCache.lastCellId!==t){let d="",f=0;for(let h in this.notebook.cells){if(h===t)break;this.notebook.cells[h].cellType==="code"&&(d+=this.notebook.cells[h].code+`
`,f+=this.notebook.cells[h].code.split(/\r\n|\r|\n/).length)}this.concatenatedCodeCache={lastCellId:t,code:d,length:f}}const i={id:t,text:e,cellType:this.notebook.cells[t].cellType,line:this.concatenatedCodeCache.length+r,column:a,code_w_context:this.concatenatedCodeCache.code+e};this.save_socket.send(JSON.stringify(i))},async stopCodeExecution(){this.$devMode?(this.requestQueue=[],this.stop_socket.send("")):(this.componentChangeQueue=[],this.stop_socket.send(this.notebook.userId)),this.isCodeRunning=!1,this.stopTimer()},getComponent(t){switch(t){case"code":return"CodeComponent";case"text":return"EditorComponent";case"markdown":return"MarkdownComponent";case"sql":return"SQLComponent";default:throw new Error(`Unknown component type: ${t}`)}}}};const N9e={key:0,class:"d-flex align-center"};function B9e(t,e,r,a,i,d){const f=q1("PackageComponent");return so(),Ts(FEe,{style:{"background-color":"#040607"}},{default:Yr(()=>[lt(t_e,{app:"",color:"bluegrey",id:"appBar"},{default:Yr(()=>[lt(Nc,{size:"x-large",variant:"text",onClick:d.navigateToApp,id:"Navbutton"},{default:Yr(()=>[lt(qa,{start:"",size:"x-large",icon:"custom:ZTIcon"}),gi(" Zero-True ")]),_:1},8,["onClick"]),lt(dbe),i.isCodeRunning?(so(),La("div",N9e,[lt(uye,{indeterminate:"",color:"white",size:"24",id:"codeRunProgress"}),lt(eM,{class:"ml-2",color:"white","text-color":"black",id:"timerChip"},{default:Yr(()=>[gi(yp(i.timer)+"ms ",1)]),_:1}),t.$devMode?(so(),Ts(eM,{key:0,class:"ml-2",color:"white","text-color":"black",id:"queueLenghtChiptDev"},{default:Yr(()=>[gi(" Queue Length: "+yp(i.requestQueue.length),1)]),_:1})):(so(),Ts(eM,{key:1,class:"ml-2",color:"white","text-color":"black",id:"queueLenghtChipApp"},{default:Yr(()=>[gi(" Queue Length: "+yp(i.componentChangeQueue.length),1)]),_:1})),lt(qa,{large:"",color:"error",onClick:e[0]||(e[0]=h=>d.stopCodeExecution()),id:"stopIcon"},{default:Yr(()=>[gi(" mdi-stop ")]),_:1})])):Nu("",!0),t.$devMode?(so(),Ts(f,{key:1,dependencies:i.dependencies},null,8,["dependencies"])):Nu("",!0)]),_:1}),lt(x6e,null,{default:Yr(()=>[lt(w$,null,{default:Yr(()=>[t.$devMode?(so(),Ts(BS,{key:0,transition:"scale-transition"},{activator:Yr(({props:h})=>[lt(Nc,rs(h,{block:""}),{default:Yr(()=>[lt(cg,null,{default:Yr(()=>[lt(qa,{color:"primary"},{default:Yr(()=>[gi("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:Yr(()=>[lt(NS,null,{default:Yr(()=>[(so(!0),La(Go,null,Hf(i.menu_items,(h,u)=>(so(),Ts(mg,{key:u},{default:Yr(()=>[lt(Nc,{block:"",onClick:p=>d.createCodeCell("",h.title)},{default:Yr(()=>[gi(yp(h.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):Nu("",!0)]),_:1}),(so(!0),La(Go,null,Hf(i.notebook.cells,h=>(so(),Ts(w$,null,{default:Yr(()=>[h.cellType==="code"?(so(),Ts(sg(d.getComponent(h.cellType)),{key:0,cellData:h,completions:i.completions[h.id],onRunCode:d.runCode,onSaveCell:d.saveCell,onComponentChange:d.componentValueChange,onDeleteCell:d.deleteCell,onCreateCell:d.createCodeCell},null,40,["cellData","completions","onRunCode","onSaveCell","onComponentChange","onDeleteCell","onCreateCell"])):(so(),Ts(sg(d.getComponent(h.cellType)),{key:1,cellData:h,onRunCode:d.runCode,onSaveCell:d.saveCell,onComponentChange:d.componentValueChange,onDeleteCell:d.deleteCell,onCreateCell:d.createCodeCell},null,40,["cellData","onRunCode","onSaveCell","onComponentChange","onDeleteCell","onCreateCell"]))]),_:2},1024))),256))]),_:1})]),_:1})}const Q9e=ny(I9e,[["render",B9e]]);const F9e="modulepreload",V9e=function(t,e){return new URL(t,e).href},Xme={},z9e=function(e,r,a){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(d=>{if(d=V9e(d,a),d in Xme)return;Xme[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!a)for(let v=i.length-1;v>=0;v--){const y=i[v];if(y.href===d&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":F9e,f||(p.as="script",p.crossOrigin=""),p.href=d,document.head.appendChild(p),f)return new Promise((v,y)=>{p.addEventListener("load",v),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>e()).catch(d=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d})};async function Z9e(){(await z9e(()=>import("./webfontloader-27259e55.js").then(e=>e.w),[],import.meta.url)).load({google:{families:["Pathway+Extreme:100,300,400,500,700,900&display=swap"]}})}const H9e={},U9e={id:"Capa_2","data-name":"Capa 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 92.58 61.58"},W9e=kd("g",{id:"Capa_1-2","data-name":"Capa 1"},[kd("g",null,[kd("path",{class:"cls-1",d:"m77.14,15.44L61.7,0h-30.82l30.82,30.82v30.76l15.44-15.32,15.44-15.44-15.44-15.38Z"}),kd("path",{class:"cls-1",d:"m15.44,46.14l15.44,15.44h30.82l-30.82-30.82V0l-15.44,15.32L0,30.76l15.44,15.38Z"})])],-1),Y9e=[W9e];function X9e(t,e){return so(),La("svg",U9e,Y9e)}const G9e=ny(H9e,[["render",X9e]]),oae={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function j9e(t,e){const r=[];let a=[];const i=qOe(t),d=KOe(t),f=(i.getDay()-oae[e.slice(-2).toUpperCase()]+7)%7,h=(d.getDay()-oae[e.slice(-2).toUpperCase()]+7)%7;for(let u=0;u<f;u++){const p=new Date(i);p.setDate(p.getDate()-(f-u)),a.push(p)}for(let u=1;u<=d.getDate();u++){const p=new Date(t.getFullYear(),t.getMonth(),u);a.push(p),a.length===7&&(r.push(a),a=[])}for(let u=1;u<7-h;u++){const p=new Date(d);p.setDate(p.getDate()+u),a.push(p)}return r.push(a),r}function qOe(t){return new Date(t.getFullYear(),t.getMonth(),1)}function KOe(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function q9e(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const K9e=/([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))/;function J9e(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(K9e.test(t))return q9e(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const Gme=new Date(2e3,0,2);function eLe(t){const e=oae[t.slice(-2).toUpperCase()];return uM(7).map(r=>{const a=new Date(Gme);return a.setDate(Gme.getDate()+e+r),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(a)})}function tLe(t,e,r){const a=new Date(t);let i={};switch(e){case"fullDateWithWeekday":i={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":i={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":i={};break;case"monthAndDate":i={month:"long",day:"numeric"};break;case"monthAndYear":i={month:"long",year:"numeric"};break;case"dayOfMonth":i={day:"numeric"};break;case"shortDate":i={year:"numeric"};break;default:i={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(r,i).format(a)}function nLe(t,e){const r=new Date(t);return r.setDate(r.getDate()+e),r}function rLe(t,e){const r=new Date(t);return r.setMonth(r.getMonth()+e),r}function oLe(t){return t.getFullYear()}function sLe(t){return t.getMonth()}function aLe(t){return new Date(t.getFullYear(),0,1)}function iLe(t){return new Date(t.getFullYear(),11,31)}function lLe(t,e){return sae(t,e[0])&&uLe(t,e[1])}function cLe(t){if(!t||t==null)return!1;const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function sae(t,e){return t.getTime()>e.getTime()}function uLe(t,e){return t.getTime()<e.getTime()}function jme(t,e){return t.getTime()===e.getTime()}function fLe(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function dLe(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function hLe(t,e,r){const a=new Date(t),i=new Date(e);return r==="month"?a.getMonth()-i.getMonth()+(a.getFullYear()-i.getFullYear())*12:Math.floor((a.getTime()-i.getTime())/(1e3*60*60*24))}function mLe(t,e){const r=new Date(t);return r.setFullYear(e),r}function gLe(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function pLe(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class vLe{constructor(e){this.locale=e.locale}date(e){return J9e(e)}toJsDate(e){return e}addDays(e,r){return nLe(e,r)}addMonths(e,r){return rLe(e,r)}getWeekArray(e){return j9e(e,this.locale)}startOfMonth(e){return qOe(e)}endOfMonth(e){return KOe(e)}format(e,r){return tLe(e,r,this.locale)}isEqual(e,r){return jme(e,r)}isValid(e){return cLe(e)}isWithinRange(e,r){return lLe(e,r)}isAfter(e,r){return sae(e,r)}isBefore(e,r){return!sae(e,r)&&!jme(e,r)}isSameDay(e,r){return fLe(e,r)}isSameMonth(e,r){return dLe(e,r)}setYear(e,r){return mLe(e,r)}getDiff(e,r,a){return hLe(e,r,a)}getWeekdays(){return eLe(this.locale)}getYear(e){return oLe(e)}getMonth(e){return sLe(e)}startOfDay(e){return gLe(e)}endOfDay(e){return pLe(e)}startOfYear(e){return aLe(e)}endOfYear(e){return iLe(e)}}const qme=Symbol.for("vuetify:date-adapter");function yLe(t){return Sp({adapter:vLe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t)}function JOe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...r}=t,a=Sp(e,r),{aliases:i={},components:d={},directives:f={}}=a,h=pEe(a.defaults),u=T8e(a.display,a.ssr),p=BEe(a.theme),v=c_e(a.icons),y=LEe(a.locale),b=yLe(a.date);return{install:k=>{for(const C in f)k.directive(C,f[C]);for(const C in d)k.component(C,d[C]);for(const C in i)k.component(C,AM({...i[C],name:C,aliasName:i[C].name}));if(p.install(k),k.provide(hM,h),k.provide(zse,u),k.provide($H,p),k.provide(Lse,v),k.provide(DH,y),k.provide(qme,b),Fl&&a.ssr)if(k.$nuxt)k.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:C}=k;k.mount=function(){const w=C(...arguments);return ec(()=>u.update()),k.mount=C,w}}Wv.reset(),k.mixin({computed:{$vuetify(){return tm({defaults:$P.call(this,hM),display:$P.call(this,zse),theme:$P.call(this,$H),icons:$P.call(this,Lse),locale:$P.call(this,DH),date:$P.call(this,qme)})}}})},defaults:h,display:u,theme:p,icons:v,locale:y,date:b}}const bLe="3.3.20";JOe.version=bLe;function $P(t){var a,i;const e=this.$,r=((a=e.parent)==null?void 0:a.provides)??((i=e.vnode.appContext)==null?void 0:i.provides);if(r&&t in r)return r[t]}const OLe={ZTIcon:G9e},xLe={component:t=>hg(t.tag,[hg(OLe[t.icon],{class:"v-icon__svg"})])},SLe=JOe({theme:{defaultTheme:"light",themes:{light:{dark:!0,colors:{primary:"#AE9FE8",secondary:"#424242",bluegrey:"#0E1B23",bluegrey2:"#1B2F3C",accent:"#FFDCA7",error:"#FF6F6F",info:"#4CBCFC",success:"#16B48E",warning:"#F49E6E"}}}},icons:{defaultSet:"mdi",sets:{mdi:aye,custom:xLe}}});function wLe(t){Z9e(),t.use(SLe)}const Tle=mTe(Q9e);wLe(Tle);Tle.config.globalProperties.$devMode=!0;Tle.mount("#app");export{pTe as g};
