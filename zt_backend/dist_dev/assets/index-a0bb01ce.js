var w2e=Object.defineProperty;var T2e=(t,e,r)=>e in t?w2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Bl=(t,e,r)=>(T2e(t,typeof e!="symbol"?e+"":e,r),r),C2e=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var xre=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};var Gz=(t,e,r)=>(C2e(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(i){if(i.ep)return;i.ep=!0;const d=r(i);fetch(i.href,d)}})();function Fge(t,e){return function(){return t.apply(e,arguments)}}const{toString:k2e}=Object.prototype,{getPrototypeOf:Mae}=Object,iU=(t=>e=>{const r=k2e.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),oy=t=>(t=t.toLowerCase(),e=>iU(e)===t),lU=t=>e=>typeof e===t,{isArray:AM}=Array,n$=lU("undefined");function A2e(t){return t!==null&&!n$(t)&&t.constructor!==null&&!n$(t.constructor)&&Tp(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Vge=oy("ArrayBuffer");function P2e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Vge(t.buffer),e}const M2e=lU("string"),Tp=lU("function"),zge=lU("number"),cU=t=>t!==null&&typeof t=="object",E2e=t=>t===!0||t===!1,IZ=t=>{if(iU(t)!=="object")return!1;const e=Mae(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_2e=oy("Date"),R2e=oy("File"),D2e=oy("Blob"),$2e=oy("FileList"),L2e=t=>cU(t)&&Tp(t.pipe),I2e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tp(t.append)&&((e=iU(t))==="formdata"||e==="object"&&Tp(t.toString)&&t.toString()==="[object FormData]"))},N2e=oy("URLSearchParams"),B2e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function z$(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),AM(t))for(a=0,i=t.length;a<i;a++)e.call(null,t[a],a,t);else{const d=r?Object.getOwnPropertyNames(t):Object.keys(t),f=d.length;let h;for(a=0;a<f;a++)h=d[a],e.call(null,t[h],h,t)}}function Zge(t,e){e=e.toLowerCase();const r=Object.keys(t);let a=r.length,i;for(;a-- >0;)if(i=r[a],e===i.toLowerCase())return i;return null}const Hge=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Uge=t=>!n$(t)&&t!==Hge;function $oe(){const{caseless:t}=Uge(this)&&this||{},e={},r=(a,i)=>{const d=t&&Zge(e,i)||i;IZ(e[d])&&IZ(a)?e[d]=$oe(e[d],a):IZ(a)?e[d]=$oe({},a):AM(a)?e[d]=a.slice():e[d]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&z$(arguments[a],r);return e}const Q2e=(t,e,r,{allOwnKeys:a}={})=>(z$(e,(i,d)=>{r&&Tp(i)?t[d]=Fge(i,r):t[d]=i},{allOwnKeys:a}),t),F2e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),V2e=(t,e,r,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},z2e=(t,e,r,a)=>{let i,d,f;const h={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),d=i.length;d-- >0;)f=i[d],(!a||a(f,t,e))&&!h[f]&&(e[f]=t[f],h[f]=!0);t=r!==!1&&Mae(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Z2e=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const a=t.indexOf(e,r);return a!==-1&&a===r},H2e=t=>{if(!t)return null;if(AM(t))return t;let e=t.length;if(!zge(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},U2e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Mae(Uint8Array)),W2e=(t,e)=>{const a=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=a.next())&&!i.done;){const d=i.value;e.call(t,d[0],d[1])}},Y2e=(t,e)=>{let r;const a=[];for(;(r=t.exec(e))!==null;)a.push(r);return a},X2e=oy("HTMLFormElement"),G2e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),Tue=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),j2e=oy("RegExp"),Wge=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),a={};z$(r,(i,d)=>{let f;(f=e(i,d,t))!==!1&&(a[d]=f||i)}),Object.defineProperties(t,a)},q2e=t=>{Wge(t,(e,r)=>{if(Tp(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(Tp(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},K2e=(t,e)=>{const r={},a=i=>{i.forEach(d=>{r[d]=!0})};return AM(t)?a(t):a(String(t).split(e)),r},J2e=()=>{},eSe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Sre="abcdefghijklmnopqrstuvwxyz",Cue="0123456789",Yge={DIGIT:Cue,ALPHA:Sre,ALPHA_DIGIT:Sre+Sre.toUpperCase()+Cue},tSe=(t=16,e=Yge.ALPHA_DIGIT)=>{let r="";const{length:a}=e;for(;t--;)r+=e[Math.random()*a|0];return r};function nSe(t){return!!(t&&Tp(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const rSe=t=>{const e=new Array(10),r=(a,i)=>{if(cU(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[i]=a;const d=AM(a)?[]:{};return z$(a,(f,h)=>{const c=r(f,i+1);!n$(c)&&(d[h]=c)}),e[i]=void 0,d}}return a};return r(t,0)},oSe=oy("AsyncFunction"),sSe=t=>t&&(cU(t)||Tp(t))&&Tp(t.then)&&Tp(t.catch),Nr={isArray:AM,isArrayBuffer:Vge,isBuffer:A2e,isFormData:I2e,isArrayBufferView:P2e,isString:M2e,isNumber:zge,isBoolean:E2e,isObject:cU,isPlainObject:IZ,isUndefined:n$,isDate:_2e,isFile:R2e,isBlob:D2e,isRegExp:j2e,isFunction:Tp,isStream:L2e,isURLSearchParams:N2e,isTypedArray:U2e,isFileList:$2e,forEach:z$,merge:$oe,extend:Q2e,trim:B2e,stripBOM:F2e,inherits:V2e,toFlatObject:z2e,kindOf:iU,kindOfTest:oy,endsWith:Z2e,toArray:H2e,forEachEntry:W2e,matchAll:Y2e,isHTMLForm:X2e,hasOwnProperty:Tue,hasOwnProp:Tue,reduceDescriptors:Wge,freezeMethods:q2e,toObjectSet:K2e,toCamelCase:G2e,noop:J2e,toFiniteNumber:eSe,findKey:Zge,global:Hge,isContextDefined:Uge,ALPHABET:Yge,generateString:tSe,isSpecCompliantForm:nSe,toJSONObject:rSe,isAsyncFn:oSe,isThenable:sSe};function ii(t,e,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i)}Nr.inherits(ii,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Nr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xge=ii.prototype,Gge={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Gge[t]={value:t}});Object.defineProperties(ii,Gge);Object.defineProperty(Xge,"isAxiosError",{value:!0});ii.from=(t,e,r,a,i,d)=>{const f=Object.create(Xge);return Nr.toFlatObject(t,f,function(c){return c!==Error.prototype},h=>h!=="isAxiosError"),ii.call(f,t.message,e,r,a,i),f.cause=t,f.name=t.name,d&&Object.assign(f,d),f};const aSe=null;function Loe(t){return Nr.isPlainObject(t)||Nr.isArray(t)}function jge(t){return Nr.endsWith(t,"[]")?t.slice(0,-2):t}function kue(t,e,r){return t?t.concat(e).map(function(i,d){return i=jge(i),!r&&d?"["+i+"]":i}).join(r?".":""):e}function iSe(t){return Nr.isArray(t)&&!t.some(Loe)}const lSe=Nr.toFlatObject(Nr,{},null,function(e){return/^is[A-Z]/.test(e)});function uU(t,e,r){if(!Nr.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Nr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,w){return!Nr.isUndefined(w[k])});const a=r.metaTokens,i=r.visitor||v,d=r.dots,f=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Nr.isSpecCompliantForm(e);if(!Nr.isFunction(i))throw new TypeError("visitor must be a function");function g(C){if(C===null)return"";if(Nr.isDate(C))return C.toISOString();if(!c&&Nr.isBlob(C))throw new ii("Blob is not supported. Use a Buffer instead.");return Nr.isArrayBuffer(C)||Nr.isTypedArray(C)?c&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function v(C,k,w){let T=C;if(C&&!w&&typeof C=="object"){if(Nr.endsWith(k,"{}"))k=a?k:k.slice(0,-2),C=JSON.stringify(C);else if(Nr.isArray(C)&&iSe(C)||(Nr.isFileList(C)||Nr.endsWith(k,"[]"))&&(T=Nr.toArray(C)))return k=jge(k),T.forEach(function(M,I){!(Nr.isUndefined(M)||M===null)&&e.append(f===!0?kue([k],I,d):f===null?k:k+"[]",g(M))}),!1}return Loe(C)?!0:(e.append(kue(w,k,d),g(C)),!1)}const y=[],b=Object.assign(lSe,{defaultVisitor:v,convertValue:g,isVisitable:Loe});function O(C,k){if(!Nr.isUndefined(C)){if(y.indexOf(C)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(C),Nr.forEach(C,function(T,R){(!(Nr.isUndefined(T)||T===null)&&i.call(e,T,Nr.isString(R)?R.trim():R,k,b))===!0&&O(T,k?k.concat(R):[R])}),y.pop()}}if(!Nr.isObject(t))throw new TypeError("data must be an object");return O(t),e}function Aue(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function Eae(t,e){this._pairs=[],t&&uU(t,this,e)}const qge=Eae.prototype;qge.append=function(e,r){this._pairs.push([e,r])};qge.toString=function(e){const r=e?function(a){return e.call(this,a,Aue)}:Aue;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function cSe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kge(t,e,r){if(!e)return t;const a=r&&r.encode||cSe,i=r&&r.serialize;let d;if(i?d=i(e,r):d=Nr.isURLSearchParams(e)?e.toString():new Eae(e,r).toString(a),d){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class uSe{constructor(){this.handlers=[]}use(e,r,a){return this.handlers.push({fulfilled:e,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Nr.forEach(this.handlers,function(a){a!==null&&e(a)})}}const Pue=uSe,Jge={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fSe=typeof URLSearchParams<"u"?URLSearchParams:Eae,dSe=typeof FormData<"u"?FormData:null,hSe=typeof Blob<"u"?Blob:null,mSe={isBrowser:!0,classes:{URLSearchParams:fSe,FormData:dSe,Blob:hSe},protocols:["http","https","file","blob","url","data"]},epe=typeof window<"u"&&typeof document<"u",gSe=(t=>epe&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),pSe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vSe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:epe,hasStandardBrowserEnv:gSe,hasStandardBrowserWebWorkerEnv:pSe},Symbol.toStringTag,{value:"Module"})),Y1={...vSe,...mSe};function ySe(t,e){return uU(t,new Y1.classes.URLSearchParams,Object.assign({visitor:function(r,a,i,d){return Y1.isNode&&Nr.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},e))}function bSe(t){return Nr.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function OSe(t){const e={},r=Object.keys(t);let a;const i=r.length;let d;for(a=0;a<i;a++)d=r[a],e[d]=t[d];return e}function tpe(t){function e(r,a,i,d){let f=r[d++];const h=Number.isFinite(+f),c=d>=r.length;return f=!f&&Nr.isArray(i)?i.length:f,c?(Nr.hasOwnProp(i,f)?i[f]=[i[f],a]:i[f]=a,!h):((!i[f]||!Nr.isObject(i[f]))&&(i[f]=[]),e(r,a,i[f],d)&&Nr.isArray(i[f])&&(i[f]=OSe(i[f])),!h)}if(Nr.isFormData(t)&&Nr.isFunction(t.entries)){const r={};return Nr.forEachEntry(t,(a,i)=>{e(bSe(a),i,r,0)}),r}return null}function xSe(t,e,r){if(Nr.isString(t))try{return(e||JSON.parse)(t),Nr.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const _ae={transitional:Jge,adapter:["xhr","http"],transformRequest:[function(e,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,d=Nr.isObject(e);if(d&&Nr.isHTMLForm(e)&&(e=new FormData(e)),Nr.isFormData(e))return i&&i?JSON.stringify(tpe(e)):e;if(Nr.isArrayBuffer(e)||Nr.isBuffer(e)||Nr.isStream(e)||Nr.isFile(e)||Nr.isBlob(e))return e;if(Nr.isArrayBufferView(e))return e.buffer;if(Nr.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ySe(e,this.formSerializer).toString();if((h=Nr.isFileList(e))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return uU(h?{"files[]":e}:e,c&&new c,this.formSerializer)}}return d||i?(r.setContentType("application/json",!1),xSe(e)):e}],transformResponse:[function(e){const r=this.transitional||_ae.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Nr.isString(e)&&(a&&!this.responseType||i)){const f=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(f)throw h.name==="SyntaxError"?ii.from(h,ii.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Y1.classes.FormData,Blob:Y1.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Nr.forEach(["delete","get","head","post","put","patch"],t=>{_ae.headers[t]={}});const Rae=_ae,SSe=Nr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wSe=t=>{const e={};let r,a,i;return t&&t.split(`
`).forEach(function(f){i=f.indexOf(":"),r=f.substring(0,i).trim().toLowerCase(),a=f.substring(i+1).trim(),!(!r||e[r]&&SSe[r])&&(r==="set-cookie"?e[r]?e[r].push(a):e[r]=[a]:e[r]=e[r]?e[r]+", "+a:a)}),e},Mue=Symbol("internals");function pD(t){return t&&String(t).trim().toLowerCase()}function NZ(t){return t===!1||t==null?t:Nr.isArray(t)?t.map(NZ):String(t)}function TSe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)e[a[1]]=a[2];return e}const CSe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wre(t,e,r,a,i){if(Nr.isFunction(a))return a.call(this,e,r);if(i&&(e=r),!!Nr.isString(e)){if(Nr.isString(a))return e.indexOf(a)!==-1;if(Nr.isRegExp(a))return a.test(e)}}function kSe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,a)=>r.toUpperCase()+a)}function ASe(t,e){const r=Nr.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(i,d,f){return this[a].call(this,e,i,d,f)},configurable:!0})})}class fU{constructor(e){e&&this.set(e)}set(e,r,a){const i=this;function d(h,c,g){const v=pD(c);if(!v)throw new Error("header name must be a non-empty string");const y=Nr.findKey(i,v);(!y||i[y]===void 0||g===!0||g===void 0&&i[y]!==!1)&&(i[y||c]=NZ(h))}const f=(h,c)=>Nr.forEach(h,(g,v)=>d(g,v,c));return Nr.isPlainObject(e)||e instanceof this.constructor?f(e,r):Nr.isString(e)&&(e=e.trim())&&!CSe(e)?f(wSe(e),r):e!=null&&d(r,e,a),this}get(e,r){if(e=pD(e),e){const a=Nr.findKey(this,e);if(a){const i=this[a];if(!r)return i;if(r===!0)return TSe(i);if(Nr.isFunction(r))return r.call(this,i,a);if(Nr.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=pD(e),e){const a=Nr.findKey(this,e);return!!(a&&this[a]!==void 0&&(!r||wre(this,this[a],a,r)))}return!1}delete(e,r){const a=this;let i=!1;function d(f){if(f=pD(f),f){const h=Nr.findKey(a,f);h&&(!r||wre(a,a[h],h,r))&&(delete a[h],i=!0)}}return Nr.isArray(e)?e.forEach(d):d(e),i}clear(e){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const d=r[a];(!e||wre(this,this[d],d,e,!0))&&(delete this[d],i=!0)}return i}normalize(e){const r=this,a={};return Nr.forEach(this,(i,d)=>{const f=Nr.findKey(a,d);if(f){r[f]=NZ(i),delete r[d];return}const h=e?kSe(d):String(d).trim();h!==d&&delete r[d],r[h]=NZ(i),a[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Nr.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=e&&Nr.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const a=new this(e);return r.forEach(i=>a.set(i)),a}static accessor(e){const a=(this[Mue]=this[Mue]={accessors:{}}).accessors,i=this.prototype;function d(f){const h=pD(f);a[h]||(ASe(i,f),a[h]=!0)}return Nr.isArray(e)?e.forEach(d):d(e),this}}fU.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Nr.reduceDescriptors(fU.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[r]=a}}});Nr.freezeMethods(fU);const pO=fU;function Tre(t,e){const r=this||Rae,a=e||r,i=pO.from(a.headers);let d=a.data;return Nr.forEach(t,function(h){d=h.call(r,d,i.normalize(),e?e.status:void 0)}),i.normalize(),d}function npe(t){return!!(t&&t.__CANCEL__)}function Z$(t,e,r){ii.call(this,t??"canceled",ii.ERR_CANCELED,e,r),this.name="CanceledError"}Nr.inherits(Z$,ii,{__CANCEL__:!0});function PSe(t,e,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):e(new ii("Request failed with status code "+r.status,[ii.ERR_BAD_REQUEST,ii.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const MSe=Y1.hasStandardBrowserEnv?{write(t,e,r,a,i,d){const f=[t+"="+encodeURIComponent(e)];Nr.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),Nr.isString(a)&&f.push("path="+a),Nr.isString(i)&&f.push("domain="+i),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ESe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _Se(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function rpe(t,e){return t&&!ESe(e)?_Se(t,e):e}const RSe=Y1.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let a;function i(d){let f=d;return e&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return a=i(window.location.href),function(f){const h=Nr.isString(f)?i(f):f;return h.protocol===a.protocol&&h.host===a.host}}():function(){return function(){return!0}}();function DSe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $Se(t,e){t=t||10;const r=new Array(t),a=new Array(t);let i=0,d=0,f;return e=e!==void 0?e:1e3,function(c){const g=Date.now(),v=a[d];f||(f=g),r[i]=c,a[i]=g;let y=d,b=0;for(;y!==i;)b+=r[y++],y=y%t;if(i=(i+1)%t,i===d&&(d=(d+1)%t),g-f<e)return;const O=v&&g-v;return O?Math.round(b*1e3/O):void 0}}function Eue(t,e){let r=0;const a=$Se(50,250);return i=>{const d=i.loaded,f=i.lengthComputable?i.total:void 0,h=d-r,c=a(h),g=d<=f;r=d;const v={loaded:d,total:f,progress:f?d/f:void 0,bytes:h,rate:c||void 0,estimated:c&&f&&g?(f-d)/c:void 0,event:i};v[e?"download":"upload"]=!0,t(v)}}const LSe=typeof XMLHttpRequest<"u",ISe=LSe&&function(t){return new Promise(function(r,a){let i=t.data;const d=pO.from(t.headers).normalize();let{responseType:f,withXSRFToken:h}=t,c;function g(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let v;if(Nr.isFormData(i)){if(Y1.hasStandardBrowserEnv||Y1.hasStandardBrowserWebWorkerEnv)d.setContentType(!1);else if((v=d.getContentType())!==!1){const[k,...w]=v?v.split(";").map(T=>T.trim()).filter(Boolean):[];d.setContentType([k||"multipart/form-data",...w].join("; "))}}let y=new XMLHttpRequest;if(t.auth){const k=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.set("Authorization","Basic "+btoa(k+":"+w))}const b=rpe(t.baseURL,t.url);y.open(t.method.toUpperCase(),Kge(b,t.params,t.paramsSerializer),!0),y.timeout=t.timeout;function O(){if(!y)return;const k=pO.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!f||f==="text"||f==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:k,config:t,request:y};PSe(function(M){r(M),g()},function(M){a(M),g()},T),y=null}if("onloadend"in y?y.onloadend=O:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(O)},y.onabort=function(){y&&(a(new ii("Request aborted",ii.ECONNABORTED,t,y)),y=null)},y.onerror=function(){a(new ii("Network Error",ii.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const T=t.transitional||Jge;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),a(new ii(w,T.clarifyTimeoutError?ii.ETIMEDOUT:ii.ECONNABORTED,t,y)),y=null},Y1.hasStandardBrowserEnv&&(h&&Nr.isFunction(h)&&(h=h(t)),h||h!==!1&&RSe(b))){const k=t.xsrfHeaderName&&t.xsrfCookieName&&MSe.read(t.xsrfCookieName);k&&d.set(t.xsrfHeaderName,k)}i===void 0&&d.setContentType(null),"setRequestHeader"in y&&Nr.forEach(d.toJSON(),function(w,T){y.setRequestHeader(T,w)}),Nr.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),f&&f!=="json"&&(y.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&y.addEventListener("progress",Eue(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",Eue(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=k=>{y&&(a(!k||k.type?new Z$(null,t,y):k),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const C=DSe(b);if(C&&Y1.protocols.indexOf(C)===-1){a(new ii("Unsupported protocol "+C+":",ii.ERR_BAD_REQUEST,t));return}y.send(i||null)})},Ioe={http:aSe,xhr:ISe};Nr.forEach(Ioe,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _ue=t=>`- ${t}`,NSe=t=>Nr.isFunction(t)||t===null||t===!1,ope={getAdapter:t=>{t=Nr.isArray(t)?t:[t];const{length:e}=t;let r,a;const i={};for(let d=0;d<e;d++){r=t[d];let f;if(a=r,!NSe(r)&&(a=Ioe[(f=String(r)).toLowerCase()],a===void 0))throw new ii(`Unknown adapter '${f}'`);if(a)break;i[f||"#"+d]=a}if(!a){const d=Object.entries(i).map(([h,c])=>`adapter ${h} `+(c===!1?"is not supported by the environment":"is not available in the build"));let f=e?d.length>1?`since :
`+d.map(_ue).join(`
`):" "+_ue(d[0]):"as no adapter specified";throw new ii("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:Ioe};function Cre(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Z$(null,t)}function Rue(t){return Cre(t),t.headers=pO.from(t.headers),t.data=Tre.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ope.getAdapter(t.adapter||Rae.adapter)(t).then(function(a){return Cre(t),a.data=Tre.call(t,t.transformResponse,a),a.headers=pO.from(a.headers),a},function(a){return npe(a)||(Cre(t),a&&a.response&&(a.response.data=Tre.call(t,t.transformResponse,a.response),a.response.headers=pO.from(a.response.headers))),Promise.reject(a)})}const Due=t=>t instanceof pO?t.toJSON():t;function lM(t,e){e=e||{};const r={};function a(g,v,y){return Nr.isPlainObject(g)&&Nr.isPlainObject(v)?Nr.merge.call({caseless:y},g,v):Nr.isPlainObject(v)?Nr.merge({},v):Nr.isArray(v)?v.slice():v}function i(g,v,y){if(Nr.isUndefined(v)){if(!Nr.isUndefined(g))return a(void 0,g,y)}else return a(g,v,y)}function d(g,v){if(!Nr.isUndefined(v))return a(void 0,v)}function f(g,v){if(Nr.isUndefined(v)){if(!Nr.isUndefined(g))return a(void 0,g)}else return a(void 0,v)}function h(g,v,y){if(y in e)return a(g,v);if(y in t)return a(void 0,g)}const c={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(g,v)=>i(Due(g),Due(v),!0)};return Nr.forEach(Object.keys(Object.assign({},t,e)),function(v){const y=c[v]||i,b=y(t[v],e[v],v);Nr.isUndefined(b)&&y!==h||(r[v]=b)}),r}const spe="1.6.2",Dae={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Dae[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const $ue={};Dae.transitional=function(e,r,a){function i(d,f){return"[Axios v"+spe+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,h)=>{if(e===!1)throw new ii(i(f," has been removed"+(r?" in "+r:"")),ii.ERR_DEPRECATED);return r&&!$ue[f]&&($ue[f]=!0,console.warn(i(f," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(d,f,h):!0}};function BSe(t,e,r){if(typeof t!="object")throw new ii("options must be an object",ii.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const d=a[i],f=e[d];if(f){const h=t[d],c=h===void 0||f(h,d,t);if(c!==!0)throw new ii("option "+d+" must be "+c,ii.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ii("Unknown option "+d,ii.ERR_BAD_OPTION)}}const Noe={assertOptions:BSe,validators:Dae},oS=Noe.validators;class aH{constructor(e){this.defaults=e,this.interceptors={request:new Pue,response:new Pue}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=lM(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:d}=r;a!==void 0&&Noe.assertOptions(a,{silentJSONParsing:oS.transitional(oS.boolean),forcedJSONParsing:oS.transitional(oS.boolean),clarifyTimeoutError:oS.transitional(oS.boolean)},!1),i!=null&&(Nr.isFunction(i)?r.paramsSerializer={serialize:i}:Noe.assertOptions(i,{encode:oS.function,serialize:oS.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=d&&Nr.merge(d.common,d[r.method]);d&&Nr.forEach(["delete","get","head","post","put","patch","common"],C=>{delete d[C]}),r.headers=pO.concat(f,d);const h=[];let c=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(c=c&&k.synchronous,h.unshift(k.fulfilled,k.rejected))});const g=[];this.interceptors.response.forEach(function(k){g.push(k.fulfilled,k.rejected)});let v,y=0,b;if(!c){const C=[Rue.bind(this),void 0];for(C.unshift.apply(C,h),C.push.apply(C,g),b=C.length,v=Promise.resolve(r);y<b;)v=v.then(C[y++],C[y++]);return v}b=h.length;let O=r;for(y=0;y<b;){const C=h[y++],k=h[y++];try{O=C(O)}catch(w){k.call(this,w);break}}try{v=Rue.call(this,O)}catch(C){return Promise.reject(C)}for(y=0,b=g.length;y<b;)v=v.then(g[y++],g[y++]);return v}getUri(e){e=lM(this.defaults,e);const r=rpe(e.baseURL,e.url);return Kge(r,e.params,e.paramsSerializer)}}Nr.forEach(["delete","get","head","options"],function(e){aH.prototype[e]=function(r,a){return this.request(lM(a||{},{method:e,url:r,data:(a||{}).data}))}});Nr.forEach(["post","put","patch"],function(e){function r(a){return function(d,f,h){return this.request(lM(h||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}aH.prototype[e]=r(),aH.prototype[e+"Form"]=r(!0)});const BZ=aH;class $ae{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(i=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](i);a._listeners=null}),this.promise.then=i=>{let d;const f=new Promise(h=>{a.subscribe(h),d=h}).then(i);return f.cancel=function(){a.unsubscribe(d)},f},e(function(d,f,h){a.reason||(a.reason=new Z$(d,f,h),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new $ae(function(i){e=i}),cancel:e}}}const QSe=$ae;function FSe(t){return function(r){return t.apply(null,r)}}function VSe(t){return Nr.isObject(t)&&t.isAxiosError===!0}const Boe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Boe).forEach(([t,e])=>{Boe[e]=t});const zSe=Boe;function ape(t){const e=new BZ(t),r=Fge(BZ.prototype.request,e);return Nr.extend(r,BZ.prototype,e,{allOwnKeys:!0}),Nr.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return ape(lM(t,i))},r}const bu=ape(Rae);bu.Axios=BZ;bu.CanceledError=Z$;bu.CancelToken=QSe;bu.isCancel=npe;bu.VERSION=spe;bu.toFormData=uU;bu.AxiosError=ii;bu.Cancel=bu.CanceledError;bu.all=function(e){return Promise.all(e)};bu.spread=FSe;bu.isAxiosError=VSe;bu.mergeConfig=lM;bu.AxiosHeaders=pO;bu.formToJSON=t=>tpe(Nr.isHTMLForm(t)?new FormData(t):t);bu.getAdapter=ope.getAdapter;bu.HttpStatusCode=zSe;bu.default=bu;const DD=bu;function Lae(t,e){const r=Object.create(null),a=t.split(",");for(let i=0;i<a.length;i++)r[a[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const Fl={},GP=[],Fv=()=>{},ZSe=()=>!1,HSe=/^on[^a-z]/,dU=t=>HSe.test(t),Iae=t=>t.startsWith("onUpdate:"),eu=Object.assign,Nae=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},USe=Object.prototype.hasOwnProperty,gi=(t,e)=>USe.call(t,e),Us=Array.isArray,jP=t=>hU(t)==="[object Map]",ipe=t=>hU(t)==="[object Set]",wa=t=>typeof t=="function",Qc=t=>typeof t=="string",Bae=t=>typeof t=="symbol",kl=t=>t!==null&&typeof t=="object",lpe=t=>kl(t)&&wa(t.then)&&wa(t.catch),cpe=Object.prototype.toString,hU=t=>cpe.call(t),WSe=t=>hU(t).slice(8,-1),upe=t=>hU(t)==="[object Object]",Qae=t=>Qc(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,QZ=Lae(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mU=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},YSe=/-(\w)/g,Ep=mU(t=>t.replace(YSe,(e,r)=>r?r.toUpperCase():"")),XSe=/\B([A-Z])/g,PM=mU(t=>t.replace(XSe,"-$1").toLowerCase()),CO=mU(t=>t.charAt(0).toUpperCase()+t.slice(1)),X1=mU(t=>t?`on${CO(t)}`:""),r$=(t,e)=>!Object.is(t,e),FZ=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},iH=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Qoe=t=>{const e=parseFloat(t);return isNaN(e)?t:e},GSe=t=>{const e=Qc(t)?Number(t):NaN;return isNaN(e)?t:e};let Lue;const Foe=()=>Lue||(Lue=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gU(t){if(Us(t)){const e={};for(let r=0;r<t.length;r++){const a=t[r],i=Qc(a)?JSe(a):gU(a);if(i)for(const d in i)e[d]=i[d]}return e}else{if(Qc(t))return t;if(kl(t))return t}}const jSe=/;(?![^(]*\))/g,qSe=/:([^]+)/,KSe=/\/\*[^]*?\*\//g;function JSe(t){const e={};return t.replace(KSe,"").split(jSe).forEach(r=>{if(r){const a=r.split(qSe);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function pU(t){let e="";if(Qc(t))e=t;else if(Us(t))for(let r=0;r<t.length;r++){const a=pU(t[r]);a&&(e+=a+" ")}else if(kl(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const ewe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",twe=Lae(ewe);function fpe(t){return!!t||t===""}const Cp=t=>Qc(t)?t:t==null?"":Us(t)||kl(t)&&(t.toString===cpe||!wa(t.toString))?JSON.stringify(t,dpe,2):String(t),dpe=(t,e)=>e&&e.__v_isRef?dpe(t,e.value):jP(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[a,i])=>(r[`${a} =>`]=i,r),{})}:ipe(e)?{[`Set(${e.size})`]:[...e.values()]}:kl(e)&&!Us(e)&&!upe(e)?String(e):e;let ig;class hpe{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ig,!e&&ig&&(this.index=(ig.scopes||(ig.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=ig;try{return ig=this,e()}finally{ig=r}}}on(){ig=this}off(){ig=this.parent}stop(e){if(this._active){let r,a;for(r=0,a=this.effects.length;r<a;r++)this.effects[r].stop();for(r=0,a=this.cleanups.length;r<a;r++)this.cleanups[r]();if(this.scopes)for(r=0,a=this.scopes.length;r<a;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Fae(t){return new hpe(t)}function nwe(t,e=ig){e&&e.active&&e.effects.push(t)}function rwe(){return ig}function cm(t){ig&&ig.cleanups.push(t)}const Vae=t=>{const e=new Set(t);return e.w=0,e.n=0,e},mpe=t=>(t.w&TS)>0,gpe=t=>(t.n&TS)>0,owe=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=TS},swe=t=>{const{deps:e}=t;if(e.length){let r=0;for(let a=0;a<e.length;a++){const i=e[a];mpe(i)&&!gpe(i)?i.delete(t):e[r++]=i,i.w&=~TS,i.n&=~TS}e.length=r}},lH=new WeakMap;let $D=0,TS=1;const Voe=30;let Bv;const D3=Symbol(""),zoe=Symbol("");class zae{constructor(e,r=null,a){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,nwe(this,a)}run(){if(!this.active)return this.fn();let e=Bv,r=bS;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Bv,Bv=this,bS=!0,TS=1<<++$D,$D<=Voe?owe(this):Iue(this),this.fn()}finally{$D<=Voe&&swe(this),TS=1<<--$D,Bv=this.parent,bS=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Bv===this?this.deferStop=!0:this.active&&(Iue(this),this.onStop&&this.onStop(),this.active=!1)}}function Iue(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let bS=!0;const ppe=[];function MM(){ppe.push(bS),bS=!1}function EM(){const t=ppe.pop();bS=t===void 0?!0:t}function um(t,e,r){if(bS&&Bv){let a=lH.get(t);a||lH.set(t,a=new Map);let i=a.get(r);i||a.set(r,i=Vae()),vpe(i)}}function vpe(t,e){let r=!1;$D<=Voe?gpe(t)||(t.n|=TS,r=!mpe(t)):r=!t.has(Bv),r&&(t.add(Bv),Bv.deps.push(t))}function yO(t,e,r,a,i,d){const f=lH.get(t);if(!f)return;let h=[];if(e==="clear")h=[...f.values()];else if(r==="length"&&Us(t)){const c=Number(a);f.forEach((g,v)=>{(v==="length"||v>=c)&&h.push(g)})}else switch(r!==void 0&&h.push(f.get(r)),e){case"add":Us(t)?Qae(r)&&h.push(f.get("length")):(h.push(f.get(D3)),jP(t)&&h.push(f.get(zoe)));break;case"delete":Us(t)||(h.push(f.get(D3)),jP(t)&&h.push(f.get(zoe)));break;case"set":jP(t)&&h.push(f.get(D3));break}if(h.length===1)h[0]&&Zoe(h[0]);else{const c=[];for(const g of h)g&&c.push(...g);Zoe(Vae(c))}}function Zoe(t,e){const r=Us(t)?t:[...t];for(const a of r)a.computed&&Nue(a);for(const a of r)a.computed||Nue(a)}function Nue(t,e){(t!==Bv||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function awe(t,e){var r;return(r=lH.get(t))==null?void 0:r.get(e)}const iwe=Lae("__proto__,__v_isRef,__isVue"),ype=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bae)),lwe=Zae(),cwe=Zae(!1,!0),uwe=Zae(!0),Bue=fwe();function fwe(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const a=va(this);for(let d=0,f=this.length;d<f;d++)um(a,"get",d+"");const i=a[e](...r);return i===-1||i===!1?a[e](...r.map(va)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){MM();const a=va(this)[e].apply(this,r);return EM(),a}}),t}function dwe(t){const e=va(this);return um(e,"has",t),e.hasOwnProperty(t)}function Zae(t=!1,e=!1){return function(a,i,d){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&d===(t?e?Pwe:wpe:e?Spe:xpe).get(a))return a;const f=Us(a);if(!t){if(f&&gi(Bue,i))return Reflect.get(Bue,i,d);if(i==="hasOwnProperty")return dwe}const h=Reflect.get(a,i,d);return(Bae(i)?ype.has(i):iwe(i))||(t||um(a,"get",i),e)?h:vc(h)?f&&Qae(i)?h:h.value:kl(h)?t?H$(h):dh(h):h}}const hwe=bpe(),mwe=bpe(!0);function bpe(t=!1){return function(r,a,i,d){let f=r[a];if(cM(f)&&vc(f)&&!vc(i))return!1;if(!t&&(!cH(i)&&!cM(i)&&(f=va(f),i=va(i)),!Us(r)&&vc(f)&&!vc(i)))return f.value=i,!0;const h=Us(r)&&Qae(a)?Number(a)<r.length:gi(r,a),c=Reflect.set(r,a,i,d);return r===va(d)&&(h?r$(i,f)&&yO(r,"set",a,i):yO(r,"add",a,i)),c}}function gwe(t,e){const r=gi(t,e);t[e];const a=Reflect.deleteProperty(t,e);return a&&r&&yO(t,"delete",e,void 0),a}function pwe(t,e){const r=Reflect.has(t,e);return(!Bae(e)||!ype.has(e))&&um(t,"has",e),r}function vwe(t){return um(t,"iterate",Us(t)?"length":D3),Reflect.ownKeys(t)}const Ope={get:lwe,set:hwe,deleteProperty:gwe,has:pwe,ownKeys:vwe},ywe={get:uwe,set(t,e){return!0},deleteProperty(t,e){return!0}},bwe=eu({},Ope,{get:cwe,set:mwe}),Hae=t=>t,vU=t=>Reflect.getPrototypeOf(t);function jz(t,e,r=!1,a=!1){t=t.__v_raw;const i=va(t),d=va(e);r||(e!==d&&um(i,"get",e),um(i,"get",d));const{has:f}=vU(i),h=a?Hae:r?Yae:o$;if(f.call(i,e))return h(t.get(e));if(f.call(i,d))return h(t.get(d));t!==i&&t.get(e)}function qz(t,e=!1){const r=this.__v_raw,a=va(r),i=va(t);return e||(t!==i&&um(a,"has",t),um(a,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function Kz(t,e=!1){return t=t.__v_raw,!e&&um(va(t),"iterate",D3),Reflect.get(t,"size",t)}function Que(t){t=va(t);const e=va(this);return vU(e).has.call(e,t)||(e.add(t),yO(e,"add",t,t)),this}function Fue(t,e){e=va(e);const r=va(this),{has:a,get:i}=vU(r);let d=a.call(r,t);d||(t=va(t),d=a.call(r,t));const f=i.call(r,t);return r.set(t,e),d?r$(e,f)&&yO(r,"set",t,e):yO(r,"add",t,e),this}function Vue(t){const e=va(this),{has:r,get:a}=vU(e);let i=r.call(e,t);i||(t=va(t),i=r.call(e,t)),a&&a.call(e,t);const d=e.delete(t);return i&&yO(e,"delete",t,void 0),d}function zue(){const t=va(this),e=t.size!==0,r=t.clear();return e&&yO(t,"clear",void 0,void 0),r}function Jz(t,e){return function(a,i){const d=this,f=d.__v_raw,h=va(f),c=e?Hae:t?Yae:o$;return!t&&um(h,"iterate",D3),f.forEach((g,v)=>a.call(i,c(g),c(v),d))}}function eZ(t,e,r){return function(...a){const i=this.__v_raw,d=va(i),f=jP(d),h=t==="entries"||t===Symbol.iterator&&f,c=t==="keys"&&f,g=i[t](...a),v=r?Hae:e?Yae:o$;return!e&&um(d,"iterate",c?zoe:D3),{next(){const{value:y,done:b}=g.next();return b?{value:y,done:b}:{value:h?[v(y[0]),v(y[1])]:v(y),done:b}},[Symbol.iterator](){return this}}}}function sS(t){return function(...e){return t==="delete"?!1:this}}function Owe(){const t={get(d){return jz(this,d)},get size(){return Kz(this)},has:qz,add:Que,set:Fue,delete:Vue,clear:zue,forEach:Jz(!1,!1)},e={get(d){return jz(this,d,!1,!0)},get size(){return Kz(this)},has:qz,add:Que,set:Fue,delete:Vue,clear:zue,forEach:Jz(!1,!0)},r={get(d){return jz(this,d,!0)},get size(){return Kz(this,!0)},has(d){return qz.call(this,d,!0)},add:sS("add"),set:sS("set"),delete:sS("delete"),clear:sS("clear"),forEach:Jz(!0,!1)},a={get(d){return jz(this,d,!0,!0)},get size(){return Kz(this,!0)},has(d){return qz.call(this,d,!0)},add:sS("add"),set:sS("set"),delete:sS("delete"),clear:sS("clear"),forEach:Jz(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{t[d]=eZ(d,!1,!1),r[d]=eZ(d,!0,!1),e[d]=eZ(d,!1,!0),a[d]=eZ(d,!0,!0)}),[t,r,e,a]}const[xwe,Swe,wwe,Twe]=Owe();function Uae(t,e){const r=e?t?Twe:wwe:t?Swe:xwe;return(a,i,d)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?a:Reflect.get(gi(r,i)&&i in a?r:a,i,d)}const Cwe={get:Uae(!1,!1)},kwe={get:Uae(!1,!0)},Awe={get:Uae(!0,!1)},xpe=new WeakMap,Spe=new WeakMap,wpe=new WeakMap,Pwe=new WeakMap;function Mwe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ewe(t){return t.__v_skip||!Object.isExtensible(t)?0:Mwe(WSe(t))}function dh(t){return cM(t)?t:Wae(t,!1,Ope,Cwe,xpe)}function Tpe(t){return Wae(t,!1,bwe,kwe,Spe)}function H$(t){return Wae(t,!0,ywe,Awe,wpe)}function Wae(t,e,r,a,i){if(!kl(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const d=i.get(t);if(d)return d;const f=Ewe(t);if(f===0)return t;const h=new Proxy(t,f===2?a:r);return i.set(t,h),h}function qP(t){return cM(t)?qP(t.__v_raw):!!(t&&t.__v_isReactive)}function cM(t){return!!(t&&t.__v_isReadonly)}function cH(t){return!!(t&&t.__v_isShallow)}function Cpe(t){return qP(t)||cM(t)}function va(t){const e=t&&t.__v_raw;return e?va(e):t}function kpe(t){return iH(t,"__v_skip",!0),t}const o$=t=>kl(t)?dh(t):t,Yae=t=>kl(t)?H$(t):t;function Ape(t){bS&&Bv&&(t=va(t),vpe(t.dep||(t.dep=Vae())))}function Ppe(t,e){t=va(t);const r=t.dep;r&&Zoe(r)}function vc(t){return!!(t&&t.__v_isRef===!0)}function Vo(t){return Mpe(t,!1)}function fs(t){return Mpe(t,!0)}function Mpe(t,e){return vc(t)?t:new _we(t,e)}class _we{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:va(e),this._value=r?e:o$(e)}get value(){return Ape(this),this._value}set value(e){const r=this.__v_isShallow||cH(e)||cM(e);e=r?e:va(e),r$(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:o$(e),Ppe(this))}}function Sf(t){return vc(t)?t.value:t}const Rwe={get:(t,e,r)=>Sf(Reflect.get(t,e,r)),set:(t,e,r,a)=>{const i=t[e];return vc(i)&&!vc(r)?(i.value=r,!0):Reflect.set(t,e,r,a)}};function Epe(t){return qP(t)?t:new Proxy(t,Rwe)}function yU(t){const e=Us(t)?new Array(t.length):{};for(const r in t)e[r]=_pe(t,r);return e}class Dwe{constructor(e,r,a){this._object=e,this._key=r,this._defaultValue=a,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return awe(va(this._object),this._key)}}class $we{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ns(t,e,r){return vc(t)?t:wa(t)?new $we(t):kl(t)&&arguments.length>1?_pe(t,e,r):Vo(t)}function _pe(t,e,r){const a=t[e];return vc(a)?a:new Dwe(t,e,r)}class Lwe{constructor(e,r,a,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new zae(e,()=>{this._dirty||(this._dirty=!0,Ppe(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=a}get value(){const e=va(this);return Ape(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Iwe(t,e,r=!1){let a,i;const d=wa(t);return d?(a=t,i=Fv):(a=t.get,i=t.set),new Lwe(a,i,d||!i,r)}function OS(t,e,r,a){let i;try{i=a?t(...a):t()}catch(d){bU(d,e,r)}return i}function kp(t,e,r,a){if(wa(t)){const d=OS(t,e,r,a);return d&&lpe(d)&&d.catch(f=>{bU(f,e,r)}),d}const i=[];for(let d=0;d<t.length;d++)i.push(kp(t[d],e,r,a));return i}function bU(t,e,r,a=!0){const i=e?e.vnode:null;if(e){let d=e.parent;const f=e.proxy,h=r;for(;d;){const g=d.ec;if(g){for(let v=0;v<g.length;v++)if(g[v](t,f,h)===!1)return}d=d.parent}const c=e.appContext.config.errorHandler;if(c){OS(c,null,10,[t,f,h]);return}}Nwe(t,r,i,a)}function Nwe(t,e,r,a=!0){console.error(t)}let s$=!1,Hoe=!1;const Cd=[];let H1=0;const KP=[];let mO=null,S3=0;const Rpe=Promise.resolve();let Xae=null;function Zl(t){const e=Xae||Rpe;return t?e.then(this?t.bind(this):t):e}function Bwe(t){let e=H1+1,r=Cd.length;for(;e<r;){const a=e+r>>>1;a$(Cd[a])<t?e=a+1:r=a}return e}function Gae(t){(!Cd.length||!Cd.includes(t,s$&&t.allowRecurse?H1+1:H1))&&(t.id==null?Cd.push(t):Cd.splice(Bwe(t.id),0,t),Dpe())}function Dpe(){!s$&&!Hoe&&(Hoe=!0,Xae=Rpe.then(Lpe))}function Qwe(t){const e=Cd.indexOf(t);e>H1&&Cd.splice(e,1)}function Fwe(t){Us(t)?KP.push(...t):(!mO||!mO.includes(t,t.allowRecurse?S3+1:S3))&&KP.push(t),Dpe()}function Zue(t,e=s$?H1+1:0){for(;e<Cd.length;e++){const r=Cd[e];r&&r.pre&&(Cd.splice(e,1),e--,r())}}function $pe(t){if(KP.length){const e=[...new Set(KP)];if(KP.length=0,mO){mO.push(...e);return}for(mO=e,mO.sort((r,a)=>a$(r)-a$(a)),S3=0;S3<mO.length;S3++)mO[S3]();mO=null,S3=0}}const a$=t=>t.id==null?1/0:t.id,Vwe=(t,e)=>{const r=a$(t)-a$(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Lpe(t){Hoe=!1,s$=!0,Cd.sort(Vwe);const e=Fv;try{for(H1=0;H1<Cd.length;H1++){const r=Cd[H1];r&&r.active!==!1&&OS(r,null,14)}}finally{H1=0,Cd.length=0,$pe(),s$=!1,Xae=null,(Cd.length||KP.length)&&Lpe()}}function zwe(t,e,...r){if(t.isUnmounted)return;const a=t.vnode.props||Fl;let i=r;const d=e.startsWith("update:"),f=d&&e.slice(7);if(f&&f in a){const v=`${f==="modelValue"?"model":f}Modifiers`,{number:y,trim:b}=a[v]||Fl;b&&(i=r.map(O=>Qc(O)?O.trim():O)),y&&(i=r.map(Qoe))}let h,c=a[h=X1(e)]||a[h=X1(Ep(e))];!c&&d&&(c=a[h=X1(PM(e))]),c&&kp(c,t,6,i);const g=a[h+"Once"];if(g){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,kp(g,t,6,i)}}function Ipe(t,e,r=!1){const a=e.emitsCache,i=a.get(t);if(i!==void 0)return i;const d=t.emits;let f={},h=!1;if(!wa(t)){const c=g=>{const v=Ipe(g,e,!0);v&&(h=!0,eu(f,v))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!d&&!h?(kl(t)&&a.set(t,null),null):(Us(d)?d.forEach(c=>f[c]=null):eu(f,d),kl(t)&&a.set(t,f),f)}function OU(t,e){return!t||!dU(e)?!1:(e=e.slice(2).replace(/Once$/,""),gi(t,e[0].toLowerCase()+e.slice(1))||gi(t,PM(e))||gi(t,e))}let mg=null,Npe=null;function uH(t){const e=mg;return mg=t,Npe=t&&t.type.__scopeId||null,e}function Vr(t,e=mg,r){if(!e||t._n)return t;const a=(...i)=>{a._d&&nfe(-1);const d=uH(e);let f;try{f=t(...i)}finally{uH(d),a._d&&nfe(1)}return f};return a._n=!0,a._c=!0,a._d=!0,a}function kre(t){const{type:e,vnode:r,proxy:a,withProxy:i,props:d,propsOptions:[f],slots:h,attrs:c,emit:g,render:v,renderCache:y,data:b,setupState:O,ctx:C,inheritAttrs:k}=t;let w,T;const R=uH(t);try{if(r.shapeFlag&4){const I=i||a;w=Z1(v.call(I,I,y,d,O,b,C)),T=c}else{const I=e;w=Z1(I.length>1?I(d,{attrs:c,slots:h,emit:g}):I(d,null)),T=e.props?c:Zwe(c)}}catch(I){HD.length=0,bU(I,t,1),w=it(zv)}let M=w;if(T&&k!==!1){const I=Object.keys(T),{shapeFlag:V}=M;I.length&&V&7&&(f&&I.some(Iae)&&(T=Hwe(T,f)),M=bO(M,T))}return r.dirs&&(M=bO(M),M.dirs=M.dirs?M.dirs.concat(r.dirs):r.dirs),r.transition&&(M.transition=r.transition),w=M,uH(R),w}const Zwe=t=>{let e;for(const r in t)(r==="class"||r==="style"||dU(r))&&((e||(e={}))[r]=t[r]);return e},Hwe=(t,e)=>{const r={};for(const a in t)(!Iae(a)||!(a.slice(9)in e))&&(r[a]=t[a]);return r};function Uwe(t,e,r){const{props:a,children:i,component:d}=t,{props:f,children:h,patchFlag:c}=e,g=d.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return a?Hue(a,f,g):!!f;if(c&8){const v=e.dynamicProps;for(let y=0;y<v.length;y++){const b=v[y];if(f[b]!==a[b]&&!OU(g,b))return!0}}}else return(i||h)&&(!h||!h.$stable)?!0:a===f?!1:a?f?Hue(a,f,g):!0:!!f;return!1}function Hue(t,e,r){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!0;for(let i=0;i<a.length;i++){const d=a[i];if(e[d]!==t[d]&&!OU(r,d))return!0}return!1}function Wwe({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Ywe=t=>t.__isSuspense;function Xwe(t,e){e&&e.pendingBranch?Us(t)?e.effects.push(...t):e.effects.push(t):Fwe(t)}function fm(t,e){return jae(t,null,e)}const tZ={};function zo(t,e,r){return jae(t,e,r)}function jae(t,e,{immediate:r,deep:a,flush:i,onTrack:d,onTrigger:f}=Fl){var h;const c=rwe()===((h=xf)==null?void 0:h.scope)?xf:null;let g,v=!1,y=!1;if(vc(t)?(g=()=>t.value,v=cH(t)):qP(t)?(g=()=>t,a=!0):Us(t)?(y=!0,v=t.some(I=>qP(I)||cH(I)),g=()=>t.map(I=>{if(vc(I))return I.value;if(qP(I))return P3(I);if(wa(I))return OS(I,c,2)})):wa(t)?e?g=()=>OS(t,c,2):g=()=>{if(!(c&&c.isUnmounted))return b&&b(),kp(t,c,3,[O])}:g=Fv,e&&a){const I=g;g=()=>P3(I())}let b,O=I=>{b=R.onStop=()=>{OS(I,c,4)}},C;if(u$)if(O=Fv,e?r&&kp(e,c,3,[g(),y?[]:void 0,O]):g(),i==="sync"){const I=BTe();C=I.__watcherHandles||(I.__watcherHandles=[])}else return Fv;let k=y?new Array(t.length).fill(tZ):tZ;const w=()=>{if(R.active)if(e){const I=R.run();(a||v||(y?I.some((V,N)=>r$(V,k[N])):r$(I,k)))&&(b&&b(),kp(e,c,3,[I,k===tZ?void 0:y&&k[0]===tZ?[]:k,O]),k=I)}else R.run()};w.allowRecurse=!!e;let T;i==="sync"?T=w:i==="post"?T=()=>rm(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),T=()=>Gae(w));const R=new zae(g,T);e?r?w():k=R.run():i==="post"?rm(R.run.bind(R),c&&c.suspense):R.run();const M=()=>{R.stop(),c&&c.scope&&Nae(c.scope.effects,R)};return C&&C.push(M),M}function Gwe(t,e,r){const a=this.proxy,i=Qc(t)?t.includes(".")?Bpe(a,t):()=>a[t]:t.bind(a,a);let d;wa(e)?d=e:(d=e.handler,r=e);const f=xf;uM(this);const h=jae(i,d.bind(a),r);return f?uM(f):$3(),h}function Bpe(t,e){const r=e.split(".");return()=>{let a=t;for(let i=0;i<r.length&&a;i++)a=a[r[i]];return a}}function P3(t,e){if(!kl(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),vc(t))P3(t.value,e);else if(Us(t))for(let r=0;r<t.length;r++)P3(t[r],e);else if(ipe(t)||jP(t))t.forEach(r=>{P3(r,e)});else if(upe(t))for(const r in t)P3(t[r],e);return t}function Fu(t,e){const r=mg;if(r===null)return t;const a=TU(r)||r.proxy,i=t.dirs||(t.dirs=[]);for(let d=0;d<e.length;d++){let[f,h,c,g=Fl]=e[d];f&&(wa(f)&&(f={mounted:f,updated:f}),f.deep&&P3(h),i.push({dir:f,instance:a,value:h,oldValue:void 0,arg:c,modifiers:g}))}return t}function h3(t,e,r,a){const i=t.dirs,d=e&&e.dirs;for(let f=0;f<i.length;f++){const h=i[f];d&&(h.oldValue=d[f].value);let c=h.dir[a];c&&(MM(),kp(c,r,8,[t.el,h,t,e]),EM())}}function Qpe(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vg(()=>{t.isMounted=!0}),dm(()=>{t.isUnmounting=!0}),t}const yp=[Function,Array],Fpe={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yp,onEnter:yp,onAfterEnter:yp,onEnterCancelled:yp,onBeforeLeave:yp,onLeave:yp,onAfterLeave:yp,onLeaveCancelled:yp,onBeforeAppear:yp,onAppear:yp,onAfterAppear:yp,onAppearCancelled:yp},jwe={name:"BaseTransition",props:Fpe,setup(t,{slots:e}){const r=iie(),a=Qpe();let i;return()=>{const d=e.default&&qae(e.default(),!0);if(!d||!d.length)return;let f=d[0];if(d.length>1){for(const k of d)if(k.type!==zv){f=k;break}}const h=va(t),{mode:c}=h;if(a.isLeaving)return Are(f);const g=Uue(f);if(!g)return Are(f);const v=i$(g,h,a,r);l$(g,v);const y=r.subTree,b=y&&Uue(y);let O=!1;const{getTransitionKey:C}=g.type;if(C){const k=C();i===void 0?i=k:k!==i&&(i=k,O=!0)}if(b&&b.type!==zv&&(!w3(g,b)||O)){const k=i$(b,h,a,r);if(l$(b,k),c==="out-in")return a.isLeaving=!0,k.afterLeave=()=>{a.isLeaving=!1,r.update.active!==!1&&r.update()},Are(f);c==="in-out"&&g.type!==zv&&(k.delayLeave=(w,T,R)=>{const M=Vpe(a,b);M[String(b.key)]=b,w._leaveCb=()=>{T(),w._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=R})}return f}}},qwe=jwe;function Vpe(t,e){const{leavingVNodes:r}=t;let a=r.get(e.type);return a||(a=Object.create(null),r.set(e.type,a)),a}function i$(t,e,r,a){const{appear:i,mode:d,persisted:f=!1,onBeforeEnter:h,onEnter:c,onAfterEnter:g,onEnterCancelled:v,onBeforeLeave:y,onLeave:b,onAfterLeave:O,onLeaveCancelled:C,onBeforeAppear:k,onAppear:w,onAfterAppear:T,onAppearCancelled:R}=e,M=String(t.key),I=Vpe(r,t),V=(z,U)=>{z&&kp(z,a,9,U)},N=(z,U)=>{const F=U[1];V(z,U),Us(z)?z.every(B=>B.length<=1)&&F():z.length<=1&&F()},Q={mode:d,persisted:f,beforeEnter(z){let U=h;if(!r.isMounted)if(i)U=k||h;else return;z._leaveCb&&z._leaveCb(!0);const F=I[M];F&&w3(t,F)&&F.el._leaveCb&&F.el._leaveCb(),V(U,[z])},enter(z){let U=c,F=g,B=v;if(!r.isMounted)if(i)U=w||c,F=T||g,B=R||v;else return;let E=!1;const W=z._enterCb=X=>{E||(E=!0,X?V(B,[z]):V(F,[z]),Q.delayedLeave&&Q.delayedLeave(),z._enterCb=void 0)};U?N(U,[z,W]):W()},leave(z,U){const F=String(t.key);if(z._enterCb&&z._enterCb(!0),r.isUnmounting)return U();V(y,[z]);let B=!1;const E=z._leaveCb=W=>{B||(B=!0,U(),W?V(C,[z]):V(O,[z]),z._leaveCb=void 0,I[F]===t&&delete I[F])};I[F]=t,b?N(b,[z,E]):E()},clone(z){return i$(z,e,r,a)}};return Q}function Are(t){if(xU(t))return t=bO(t),t.children=null,t}function Uue(t){return xU(t)?t.children?t.children[0]:void 0:t}function l$(t,e){t.shapeFlag&6&&t.component?l$(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function qae(t,e=!1,r){let a=[],i=0;for(let d=0;d<t.length;d++){let f=t[d];const h=r==null?f.key:String(r)+String(f.key!=null?f.key:d);f.type===Go?(f.patchFlag&128&&i++,a=a.concat(qae(f.children,e,h))):(e||f.type!==zv)&&a.push(h!=null?bO(f,{key:h}):f)}if(i>1)for(let d=0;d<a.length;d++)a[d].patchFlag=-2;return a}function Z3(t,e){return wa(t)?(()=>eu({name:t.name},e,{setup:t}))():t}const VZ=t=>!!t.type.__asyncLoader,xU=t=>t.type.__isKeepAlive;function Kae(t,e){zpe(t,"a",e)}function Jae(t,e){zpe(t,"da",e)}function zpe(t,e,r=xf){const a=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(SU(e,a,r),r){let i=r.parent;for(;i&&i.parent;)xU(i.parent.vnode)&&Kwe(a,e,r,i),i=i.parent}}function Kwe(t,e,r,a){const i=SU(e,t,a,!0);Hpe(()=>{Nae(a[e],i)},r)}function SU(t,e,r=xf,a=!1){if(r){const i=r[t]||(r[t]=[]),d=e.__weh||(e.__weh=(...f)=>{if(r.isUnmounted)return;MM(),uM(r);const h=kp(e,r,t,f);return $3(),EM(),h});return a?i.unshift(d):i.push(d),d}}const kO=t=>(e,r=xf)=>(!u$||t==="sp")&&SU(t,(...a)=>e(...a),r),eie=kO("bm"),vg=kO("m"),Jwe=kO("bu"),Zpe=kO("u"),dm=kO("bum"),Hpe=kO("um"),eTe=kO("sp"),tTe=kO("rtg"),nTe=kO("rtc");function rTe(t,e=xf){SU("ec",t,e)}const tie="components",oTe="directives";function Vv(t,e){return nie(tie,t,!0,e)||t}const Upe=Symbol.for("v-ndc");function ug(t){return Qc(t)?nie(tie,t,!1)||t:t||Upe}function Yv(t){return nie(oTe,t)}function nie(t,e,r=!0,a=!1){const i=mg||xf;if(i){const d=i.type;if(t===tie){const h=LTe(d,!1);if(h&&(h===e||h===Ep(e)||h===CO(Ep(e))))return d}const f=Wue(i[t]||d[t],e)||Wue(i.appContext[t],e);return!f&&a?d:f}}function Wue(t,e){return t&&(t[e]||t[Ep(e)]||t[CO(Ep(e))])}function Wf(t,e,r,a){let i;const d=r&&r[a];if(Us(t)||Qc(t)){i=new Array(t.length);for(let f=0,h=t.length;f<h;f++)i[f]=e(t[f],f,void 0,d&&d[f])}else if(typeof t=="number"){i=new Array(t);for(let f=0;f<t;f++)i[f]=e(f+1,f,void 0,d&&d[f])}else if(kl(t))if(t[Symbol.iterator])i=Array.from(t,(f,h)=>e(f,h,void 0,d&&d[h]));else{const f=Object.keys(t);i=new Array(f.length);for(let h=0,c=f.length;h<c;h++){const g=f[h];i[h]=e(t[g],g,h,d&&d[h])}}else i=[];return r&&(r[a]=i),i}const Uoe=t=>t?nve(t)?TU(t)||t.proxy:Uoe(t.parent):null,zD=eu(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Uoe(t.parent),$root:t=>Uoe(t.root),$emit:t=>t.emit,$options:t=>rie(t),$forceUpdate:t=>t.f||(t.f=()=>Gae(t.update)),$nextTick:t=>t.n||(t.n=Zl.bind(t.proxy)),$watch:t=>Gwe.bind(t)}),Pre=(t,e)=>t!==Fl&&!t.__isScriptSetup&&gi(t,e),sTe={get({_:t},e){const{ctx:r,setupState:a,data:i,props:d,accessCache:f,type:h,appContext:c}=t;let g;if(e[0]!=="$"){const O=f[e];if(O!==void 0)switch(O){case 1:return a[e];case 2:return i[e];case 4:return r[e];case 3:return d[e]}else{if(Pre(a,e))return f[e]=1,a[e];if(i!==Fl&&gi(i,e))return f[e]=2,i[e];if((g=t.propsOptions[0])&&gi(g,e))return f[e]=3,d[e];if(r!==Fl&&gi(r,e))return f[e]=4,r[e];Woe&&(f[e]=0)}}const v=zD[e];let y,b;if(v)return e==="$attrs"&&um(t,"get",e),v(t);if((y=h.__cssModules)&&(y=y[e]))return y;if(r!==Fl&&gi(r,e))return f[e]=4,r[e];if(b=c.config.globalProperties,gi(b,e))return b[e]},set({_:t},e,r){const{data:a,setupState:i,ctx:d}=t;return Pre(i,e)?(i[e]=r,!0):a!==Fl&&gi(a,e)?(a[e]=r,!0):gi(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(d[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:a,appContext:i,propsOptions:d}},f){let h;return!!r[f]||t!==Fl&&gi(t,f)||Pre(e,f)||(h=d[0])&&gi(h,f)||gi(a,f)||gi(zD,f)||gi(i.config.globalProperties,f)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:gi(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Yue(t){return Us(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Woe=!0;function aTe(t){const e=rie(t),r=t.proxy,a=t.ctx;Woe=!1,e.beforeCreate&&Xue(e.beforeCreate,t,"bc");const{data:i,computed:d,methods:f,watch:h,provide:c,inject:g,created:v,beforeMount:y,mounted:b,beforeUpdate:O,updated:C,activated:k,deactivated:w,beforeDestroy:T,beforeUnmount:R,destroyed:M,unmounted:I,render:V,renderTracked:N,renderTriggered:Q,errorCaptured:z,serverPrefetch:U,expose:F,inheritAttrs:B,components:E,directives:W,filters:X}=e;if(g&&iTe(g,a,null),f)for(const me in f){const ae=f[me];wa(ae)&&(a[me]=ae.bind(r))}if(i){const me=i.call(r,r);kl(me)&&(t.data=dh(me))}if(Woe=!0,d)for(const me in d){const ae=d[me],q=wa(ae)?ae.bind(r,r):wa(ae.get)?ae.get.bind(r,r):Fv,de=!wa(ae)&&wa(ae.set)?ae.set.bind(r):Fv,ee=en({get:q,set:de});Object.defineProperty(a,me,{enumerable:!0,configurable:!0,get:()=>ee.value,set:xe=>ee.value=xe})}if(h)for(const me in h)Wpe(h[me],a,r,me);if(c){const me=wa(c)?c.call(r):c;Reflect.ownKeys(me).forEach(ae=>{Cl(ae,me[ae])})}v&&Xue(v,t,"c");function L(me,ae){Us(ae)?ae.forEach(q=>me(q.bind(r))):ae&&me(ae.bind(r))}if(L(eie,y),L(vg,b),L(Jwe,O),L(Zpe,C),L(Kae,k),L(Jae,w),L(rTe,z),L(nTe,N),L(tTe,Q),L(dm,R),L(Hpe,I),L(eTe,U),Us(F))if(F.length){const me=t.exposed||(t.exposed={});F.forEach(ae=>{Object.defineProperty(me,ae,{get:()=>r[ae],set:q=>r[ae]=q})})}else t.exposed||(t.exposed={});V&&t.render===Fv&&(t.render=V),B!=null&&(t.inheritAttrs=B),E&&(t.components=E),W&&(t.directives=W)}function iTe(t,e,r=Fv){Us(t)&&(t=Yoe(t));for(const a in t){const i=t[a];let d;kl(i)?"default"in i?d=Ra(i.from||a,i.default,!0):d=Ra(i.from||a):d=Ra(i),vc(d)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>d.value,set:f=>d.value=f}):e[a]=d}}function Xue(t,e,r){kp(Us(t)?t.map(a=>a.bind(e.proxy)):t.bind(e.proxy),e,r)}function Wpe(t,e,r,a){const i=a.includes(".")?Bpe(r,a):()=>r[a];if(Qc(t)){const d=e[t];wa(d)&&zo(i,d)}else if(wa(t))zo(i,t.bind(r));else if(kl(t))if(Us(t))t.forEach(d=>Wpe(d,e,r,a));else{const d=wa(t.handler)?t.handler.bind(r):e[t.handler];wa(d)&&zo(i,d,t)}}function rie(t){const e=t.type,{mixins:r,extends:a}=e,{mixins:i,optionsCache:d,config:{optionMergeStrategies:f}}=t.appContext,h=d.get(e);let c;return h?c=h:!i.length&&!r&&!a?c=e:(c={},i.length&&i.forEach(g=>fH(c,g,f,!0)),fH(c,e,f)),kl(e)&&d.set(e,c),c}function fH(t,e,r,a=!1){const{mixins:i,extends:d}=e;d&&fH(t,d,r,!0),i&&i.forEach(f=>fH(t,f,r,!0));for(const f in e)if(!(a&&f==="expose")){const h=lTe[f]||r&&r[f];t[f]=h?h(t[f],e[f]):e[f]}return t}const lTe={data:Gue,props:jue,emits:jue,methods:LD,computed:LD,beforeCreate:uh,created:uh,beforeMount:uh,mounted:uh,beforeUpdate:uh,updated:uh,beforeDestroy:uh,beforeUnmount:uh,destroyed:uh,unmounted:uh,activated:uh,deactivated:uh,errorCaptured:uh,serverPrefetch:uh,components:LD,directives:LD,watch:uTe,provide:Gue,inject:cTe};function Gue(t,e){return e?t?function(){return eu(wa(t)?t.call(this,this):t,wa(e)?e.call(this,this):e)}:e:t}function cTe(t,e){return LD(Yoe(t),Yoe(e))}function Yoe(t){if(Us(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function uh(t,e){return t?[...new Set([].concat(t,e))]:e}function LD(t,e){return t?eu(Object.create(null),t,e):e}function jue(t,e){return t?Us(t)&&Us(e)?[...new Set([...t,...e])]:eu(Object.create(null),Yue(t),Yue(e??{})):e}function uTe(t,e){if(!t)return e;if(!e)return t;const r=eu(Object.create(null),t);for(const a in e)r[a]=uh(t[a],e[a]);return r}function Ype(){return{app:null,config:{isNativeTag:ZSe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fTe=0;function dTe(t,e){return function(a,i=null){wa(a)||(a=eu({},a)),i!=null&&!kl(i)&&(i=null);const d=Ype(),f=new Set;let h=!1;const c=d.app={_uid:fTe++,_component:a,_props:i,_container:null,_context:d,_instance:null,version:QTe,get config(){return d.config},set config(g){},use(g,...v){return f.has(g)||(g&&wa(g.install)?(f.add(g),g.install(c,...v)):wa(g)&&(f.add(g),g(c,...v))),c},mixin(g){return d.mixins.includes(g)||d.mixins.push(g),c},component(g,v){return v?(d.components[g]=v,c):d.components[g]},directive(g,v){return v?(d.directives[g]=v,c):d.directives[g]},mount(g,v,y){if(!h){const b=it(a,i);return b.appContext=d,v&&e?e(b,g):t(b,g,y),h=!0,c._container=g,g.__vue_app__=c,TU(b.component)||b.component.proxy}},unmount(){h&&(t(null,c._container),delete c._container.__vue_app__)},provide(g,v){return d.provides[g]=v,c},runWithContext(g){dH=c;try{return g()}finally{dH=null}}};return c}}let dH=null;function Cl(t,e){if(xf){let r=xf.provides;const a=xf.parent&&xf.parent.provides;a===r&&(r=xf.provides=Object.create(a)),r[t]=e}}function Ra(t,e,r=!1){const a=xf||mg;if(a||dH){const i=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:dH._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&wa(e)?e.call(a&&a.proxy):e}}function hTe(t,e,r,a=!1){const i={},d={};iH(d,wU,1),t.propsDefaults=Object.create(null),Xpe(t,e,i,d);for(const f in t.propsOptions[0])f in i||(i[f]=void 0);r?t.props=a?i:Tpe(i):t.type.props?t.props=i:t.props=d,t.attrs=d}function mTe(t,e,r,a){const{props:i,attrs:d,vnode:{patchFlag:f}}=t,h=va(i),[c]=t.propsOptions;let g=!1;if((a||f>0)&&!(f&16)){if(f&8){const v=t.vnode.dynamicProps;for(let y=0;y<v.length;y++){let b=v[y];if(OU(t.emitsOptions,b))continue;const O=e[b];if(c)if(gi(d,b))O!==d[b]&&(d[b]=O,g=!0);else{const C=Ep(b);i[C]=Xoe(c,h,C,O,t,!1)}else O!==d[b]&&(d[b]=O,g=!0)}}}else{Xpe(t,e,i,d)&&(g=!0);let v;for(const y in h)(!e||!gi(e,y)&&((v=PM(y))===y||!gi(e,v)))&&(c?r&&(r[y]!==void 0||r[v]!==void 0)&&(i[y]=Xoe(c,h,y,void 0,t,!0)):delete i[y]);if(d!==h)for(const y in d)(!e||!gi(e,y))&&(delete d[y],g=!0)}g&&yO(t,"set","$attrs")}function Xpe(t,e,r,a){const[i,d]=t.propsOptions;let f=!1,h;if(e)for(let c in e){if(QZ(c))continue;const g=e[c];let v;i&&gi(i,v=Ep(c))?!d||!d.includes(v)?r[v]=g:(h||(h={}))[v]=g:OU(t.emitsOptions,c)||(!(c in a)||g!==a[c])&&(a[c]=g,f=!0)}if(d){const c=va(r),g=h||Fl;for(let v=0;v<d.length;v++){const y=d[v];r[y]=Xoe(i,c,y,g[y],t,!gi(g,y))}}return f}function Xoe(t,e,r,a,i,d){const f=t[r];if(f!=null){const h=gi(f,"default");if(h&&a===void 0){const c=f.default;if(f.type!==Function&&!f.skipFactory&&wa(c)){const{propsDefaults:g}=i;r in g?a=g[r]:(uM(i),a=g[r]=c.call(null,e),$3())}else a=c}f[0]&&(d&&!h?a=!1:f[1]&&(a===""||a===PM(r))&&(a=!0))}return a}function Gpe(t,e,r=!1){const a=e.propsCache,i=a.get(t);if(i)return i;const d=t.props,f={},h=[];let c=!1;if(!wa(t)){const v=y=>{c=!0;const[b,O]=Gpe(y,e,!0);eu(f,b),O&&h.push(...O)};!r&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}if(!d&&!c)return kl(t)&&a.set(t,GP),GP;if(Us(d))for(let v=0;v<d.length;v++){const y=Ep(d[v]);que(y)&&(f[y]=Fl)}else if(d)for(const v in d){const y=Ep(v);if(que(y)){const b=d[v],O=f[y]=Us(b)||wa(b)?{type:b}:eu({},b);if(O){const C=efe(Boolean,O.type),k=efe(String,O.type);O[0]=C>-1,O[1]=k<0||C<k,(C>-1||gi(O,"default"))&&h.push(y)}}}const g=[f,h];return kl(t)&&a.set(t,g),g}function que(t){return t[0]!=="$"}function Kue(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Jue(t,e){return Kue(t)===Kue(e)}function efe(t,e){return Us(e)?e.findIndex(r=>Jue(r,t)):wa(e)&&Jue(e,t)?0:-1}const jpe=t=>t[0]==="_"||t==="$stable",oie=t=>Us(t)?t.map(Z1):[Z1(t)],gTe=(t,e,r)=>{if(e._n)return e;const a=Vr((...i)=>oie(e(...i)),r);return a._c=!1,a},qpe=(t,e,r)=>{const a=t._ctx;for(const i in t){if(jpe(i))continue;const d=t[i];if(wa(d))e[i]=gTe(i,d,a);else if(d!=null){const f=oie(d);e[i]=()=>f}}},Kpe=(t,e)=>{const r=oie(e);t.slots.default=()=>r},pTe=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=va(e),iH(e,"_",r)):qpe(e,t.slots={})}else t.slots={},e&&Kpe(t,e);iH(t.slots,wU,1)},vTe=(t,e,r)=>{const{vnode:a,slots:i}=t;let d=!0,f=Fl;if(a.shapeFlag&32){const h=e._;h?r&&h===1?d=!1:(eu(i,e),!r&&h===1&&delete i._):(d=!e.$stable,qpe(e,i)),f=e}else e&&(Kpe(t,e),f={default:1});if(d)for(const h in i)!jpe(h)&&!(h in f)&&delete i[h]};function Goe(t,e,r,a,i=!1){if(Us(t)){t.forEach((b,O)=>Goe(b,e&&(Us(e)?e[O]:e),r,a,i));return}if(VZ(a)&&!i)return;const d=a.shapeFlag&4?TU(a.component)||a.component.proxy:a.el,f=i?null:d,{i:h,r:c}=t,g=e&&e.r,v=h.refs===Fl?h.refs={}:h.refs,y=h.setupState;if(g!=null&&g!==c&&(Qc(g)?(v[g]=null,gi(y,g)&&(y[g]=null)):vc(g)&&(g.value=null)),wa(c))OS(c,h,12,[f,v]);else{const b=Qc(c),O=vc(c);if(b||O){const C=()=>{if(t.f){const k=b?gi(y,c)?y[c]:v[c]:c.value;i?Us(k)&&Nae(k,d):Us(k)?k.includes(d)||k.push(d):b?(v[c]=[d],gi(y,c)&&(y[c]=v[c])):(c.value=[d],t.k&&(v[t.k]=c.value))}else b?(v[c]=f,gi(y,c)&&(y[c]=f)):O&&(c.value=f,t.k&&(v[t.k]=f))};f?(C.id=-1,rm(C,r)):C()}}}const rm=Xwe;function yTe(t){return bTe(t)}function bTe(t,e){const r=Foe();r.__VUE__=!0;const{insert:a,remove:i,patchProp:d,createElement:f,createText:h,createComment:c,setText:g,setElementText:v,parentNode:y,nextSibling:b,setScopeId:O=Fv,insertStaticContent:C}=t,k=(Ce,De,Ve,_e=null,Ie=null,re=null,be=!1,te=null,se=!!De.dynamicChildren)=>{if(Ce===De)return;Ce&&!w3(Ce,De)&&(_e=le(Ce),xe(Ce,Ie,re,!0),Ce=null),De.patchFlag===-2&&(se=!1,De.dynamicChildren=null);const{type:fe,ref:oe,shapeFlag:Se}=De;switch(fe){case U$:w(Ce,De,Ve,_e);break;case zv:T(Ce,De,Ve,_e);break;case Mre:Ce==null&&R(De,Ve,_e,be);break;case Go:E(Ce,De,Ve,_e,Ie,re,be,te,se);break;default:Se&1?V(Ce,De,Ve,_e,Ie,re,be,te,se):Se&6?W(Ce,De,Ve,_e,Ie,re,be,te,se):(Se&64||Se&128)&&fe.process(Ce,De,Ve,_e,Ie,re,be,te,se,ve)}oe!=null&&Ie&&Goe(oe,Ce&&Ce.ref,re,De||Ce,!De)},w=(Ce,De,Ve,_e)=>{if(Ce==null)a(De.el=h(De.children),Ve,_e);else{const Ie=De.el=Ce.el;De.children!==Ce.children&&g(Ie,De.children)}},T=(Ce,De,Ve,_e)=>{Ce==null?a(De.el=c(De.children||""),Ve,_e):De.el=Ce.el},R=(Ce,De,Ve,_e)=>{[Ce.el,Ce.anchor]=C(Ce.children,De,Ve,_e,Ce.el,Ce.anchor)},M=({el:Ce,anchor:De},Ve,_e)=>{let Ie;for(;Ce&&Ce!==De;)Ie=b(Ce),a(Ce,Ve,_e),Ce=Ie;a(De,Ve,_e)},I=({el:Ce,anchor:De})=>{let Ve;for(;Ce&&Ce!==De;)Ve=b(Ce),i(Ce),Ce=Ve;i(De)},V=(Ce,De,Ve,_e,Ie,re,be,te,se)=>{be=be||De.type==="svg",Ce==null?N(De,Ve,_e,Ie,re,be,te,se):U(Ce,De,Ie,re,be,te,se)},N=(Ce,De,Ve,_e,Ie,re,be,te)=>{let se,fe;const{type:oe,props:Se,shapeFlag:ce,transition:ke,dirs:Qe}=Ce;if(se=Ce.el=f(Ce.type,re,Se&&Se.is,Se),ce&8?v(se,Ce.children):ce&16&&z(Ce.children,se,null,_e,Ie,re&&oe!=="foreignObject",be,te),Qe&&h3(Ce,null,_e,"created"),Q(se,Ce,Ce.scopeId,be,_e),Se){for(const Xe in Se)Xe!=="value"&&!QZ(Xe)&&d(se,Xe,null,Se[Xe],re,Ce.children,_e,Ie,ne);"value"in Se&&d(se,"value",null,Se.value),(fe=Se.onVnodeBeforeMount)&&N1(fe,_e,Ce)}Qe&&h3(Ce,null,_e,"beforeMount");const Ze=(!Ie||Ie&&!Ie.pendingBranch)&&ke&&!ke.persisted;Ze&&ke.beforeEnter(se),a(se,De,Ve),((fe=Se&&Se.onVnodeMounted)||Ze||Qe)&&rm(()=>{fe&&N1(fe,_e,Ce),Ze&&ke.enter(se),Qe&&h3(Ce,null,_e,"mounted")},Ie)},Q=(Ce,De,Ve,_e,Ie)=>{if(Ve&&O(Ce,Ve),_e)for(let re=0;re<_e.length;re++)O(Ce,_e[re]);if(Ie){let re=Ie.subTree;if(De===re){const be=Ie.vnode;Q(Ce,be,be.scopeId,be.slotScopeIds,Ie.parent)}}},z=(Ce,De,Ve,_e,Ie,re,be,te,se=0)=>{for(let fe=se;fe<Ce.length;fe++){const oe=Ce[fe]=te?uS(Ce[fe]):Z1(Ce[fe]);k(null,oe,De,Ve,_e,Ie,re,be,te)}},U=(Ce,De,Ve,_e,Ie,re,be)=>{const te=De.el=Ce.el;let{patchFlag:se,dynamicChildren:fe,dirs:oe}=De;se|=Ce.patchFlag&16;const Se=Ce.props||Fl,ce=De.props||Fl;let ke;Ve&&m3(Ve,!1),(ke=ce.onVnodeBeforeUpdate)&&N1(ke,Ve,De,Ce),oe&&h3(De,Ce,Ve,"beforeUpdate"),Ve&&m3(Ve,!0);const Qe=Ie&&De.type!=="foreignObject";if(fe?F(Ce.dynamicChildren,fe,te,Ve,_e,Qe,re):be||ae(Ce,De,te,null,Ve,_e,Qe,re,!1),se>0){if(se&16)B(te,De,Se,ce,Ve,_e,Ie);else if(se&2&&Se.class!==ce.class&&d(te,"class",null,ce.class,Ie),se&4&&d(te,"style",Se.style,ce.style,Ie),se&8){const Ze=De.dynamicProps;for(let Xe=0;Xe<Ze.length;Xe++){const ct=Ze[Xe],pt=Se[ct],Ye=ce[ct];(Ye!==pt||ct==="value")&&d(te,ct,pt,Ye,Ie,Ce.children,Ve,_e,ne)}}se&1&&Ce.children!==De.children&&v(te,De.children)}else!be&&fe==null&&B(te,De,Se,ce,Ve,_e,Ie);((ke=ce.onVnodeUpdated)||oe)&&rm(()=>{ke&&N1(ke,Ve,De,Ce),oe&&h3(De,Ce,Ve,"updated")},_e)},F=(Ce,De,Ve,_e,Ie,re,be)=>{for(let te=0;te<De.length;te++){const se=Ce[te],fe=De[te],oe=se.el&&(se.type===Go||!w3(se,fe)||se.shapeFlag&70)?y(se.el):Ve;k(se,fe,oe,null,_e,Ie,re,be,!0)}},B=(Ce,De,Ve,_e,Ie,re,be)=>{if(Ve!==_e){if(Ve!==Fl)for(const te in Ve)!QZ(te)&&!(te in _e)&&d(Ce,te,Ve[te],null,be,De.children,Ie,re,ne);for(const te in _e){if(QZ(te))continue;const se=_e[te],fe=Ve[te];se!==fe&&te!=="value"&&d(Ce,te,fe,se,be,De.children,Ie,re,ne)}"value"in _e&&d(Ce,"value",Ve.value,_e.value)}},E=(Ce,De,Ve,_e,Ie,re,be,te,se)=>{const fe=De.el=Ce?Ce.el:h(""),oe=De.anchor=Ce?Ce.anchor:h("");let{patchFlag:Se,dynamicChildren:ce,slotScopeIds:ke}=De;ke&&(te=te?te.concat(ke):ke),Ce==null?(a(fe,Ve,_e),a(oe,Ve,_e),z(De.children,Ve,oe,Ie,re,be,te,se)):Se>0&&Se&64&&ce&&Ce.dynamicChildren?(F(Ce.dynamicChildren,ce,Ve,Ie,re,be,te),(De.key!=null||Ie&&De===Ie.subTree)&&sie(Ce,De,!0)):ae(Ce,De,Ve,oe,Ie,re,be,te,se)},W=(Ce,De,Ve,_e,Ie,re,be,te,se)=>{De.slotScopeIds=te,Ce==null?De.shapeFlag&512?Ie.ctx.activate(De,Ve,_e,be,se):X(De,Ve,_e,Ie,re,be,se):ie(Ce,De,se)},X=(Ce,De,Ve,_e,Ie,re,be)=>{const te=Ce.component=ETe(Ce,_e,Ie);if(xU(Ce)&&(te.ctx.renderer=ve),_Te(te),te.asyncDep){if(Ie&&Ie.registerDep(te,L),!Ce.el){const se=te.subTree=it(zv);T(null,se,De,Ve)}return}L(te,Ce,De,Ve,Ie,re,be)},ie=(Ce,De,Ve)=>{const _e=De.component=Ce.component;if(Uwe(Ce,De,Ve))if(_e.asyncDep&&!_e.asyncResolved){me(_e,De,Ve);return}else _e.next=De,Qwe(_e.update),_e.update();else De.el=Ce.el,_e.vnode=De},L=(Ce,De,Ve,_e,Ie,re,be)=>{const te=()=>{if(Ce.isMounted){let{next:oe,bu:Se,u:ce,parent:ke,vnode:Qe}=Ce,Ze=oe,Xe;m3(Ce,!1),oe?(oe.el=Qe.el,me(Ce,oe,be)):oe=Qe,Se&&FZ(Se),(Xe=oe.props&&oe.props.onVnodeBeforeUpdate)&&N1(Xe,ke,oe,Qe),m3(Ce,!0);const ct=kre(Ce),pt=Ce.subTree;Ce.subTree=ct,k(pt,ct,y(pt.el),le(pt),Ce,Ie,re),oe.el=ct.el,Ze===null&&Wwe(Ce,ct.el),ce&&rm(ce,Ie),(Xe=oe.props&&oe.props.onVnodeUpdated)&&rm(()=>N1(Xe,ke,oe,Qe),Ie)}else{let oe;const{el:Se,props:ce}=De,{bm:ke,m:Qe,parent:Ze}=Ce,Xe=VZ(De);if(m3(Ce,!1),ke&&FZ(ke),!Xe&&(oe=ce&&ce.onVnodeBeforeMount)&&N1(oe,Ze,De),m3(Ce,!0),Se&&Le){const ct=()=>{Ce.subTree=kre(Ce),Le(Se,Ce.subTree,Ce,Ie,null)};Xe?De.type.__asyncLoader().then(()=>!Ce.isUnmounted&&ct()):ct()}else{const ct=Ce.subTree=kre(Ce);k(null,ct,Ve,_e,Ce,Ie,re),De.el=ct.el}if(Qe&&rm(Qe,Ie),!Xe&&(oe=ce&&ce.onVnodeMounted)){const ct=De;rm(()=>N1(oe,Ze,ct),Ie)}(De.shapeFlag&256||Ze&&VZ(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&Ce.a&&rm(Ce.a,Ie),Ce.isMounted=!0,De=Ve=_e=null}},se=Ce.effect=new zae(te,()=>Gae(fe),Ce.scope),fe=Ce.update=()=>se.run();fe.id=Ce.uid,m3(Ce,!0),fe()},me=(Ce,De,Ve)=>{De.component=Ce;const _e=Ce.vnode.props;Ce.vnode=De,Ce.next=null,mTe(Ce,De.props,_e,Ve),vTe(Ce,De.children,Ve),MM(),Zue(),EM()},ae=(Ce,De,Ve,_e,Ie,re,be,te,se=!1)=>{const fe=Ce&&Ce.children,oe=Ce?Ce.shapeFlag:0,Se=De.children,{patchFlag:ce,shapeFlag:ke}=De;if(ce>0){if(ce&128){de(fe,Se,Ve,_e,Ie,re,be,te,se);return}else if(ce&256){q(fe,Se,Ve,_e,Ie,re,be,te,se);return}}ke&8?(oe&16&&ne(fe,Ie,re),Se!==fe&&v(Ve,Se)):oe&16?ke&16?de(fe,Se,Ve,_e,Ie,re,be,te,se):ne(fe,Ie,re,!0):(oe&8&&v(Ve,""),ke&16&&z(Se,Ve,_e,Ie,re,be,te,se))},q=(Ce,De,Ve,_e,Ie,re,be,te,se)=>{Ce=Ce||GP,De=De||GP;const fe=Ce.length,oe=De.length,Se=Math.min(fe,oe);let ce;for(ce=0;ce<Se;ce++){const ke=De[ce]=se?uS(De[ce]):Z1(De[ce]);k(Ce[ce],ke,Ve,null,Ie,re,be,te,se)}fe>oe?ne(Ce,Ie,re,!0,!1,Se):z(De,Ve,_e,Ie,re,be,te,se,Se)},de=(Ce,De,Ve,_e,Ie,re,be,te,se)=>{let fe=0;const oe=De.length;let Se=Ce.length-1,ce=oe-1;for(;fe<=Se&&fe<=ce;){const ke=Ce[fe],Qe=De[fe]=se?uS(De[fe]):Z1(De[fe]);if(w3(ke,Qe))k(ke,Qe,Ve,null,Ie,re,be,te,se);else break;fe++}for(;fe<=Se&&fe<=ce;){const ke=Ce[Se],Qe=De[ce]=se?uS(De[ce]):Z1(De[ce]);if(w3(ke,Qe))k(ke,Qe,Ve,null,Ie,re,be,te,se);else break;Se--,ce--}if(fe>Se){if(fe<=ce){const ke=ce+1,Qe=ke<oe?De[ke].el:_e;for(;fe<=ce;)k(null,De[fe]=se?uS(De[fe]):Z1(De[fe]),Ve,Qe,Ie,re,be,te,se),fe++}}else if(fe>ce)for(;fe<=Se;)xe(Ce[fe],Ie,re,!0),fe++;else{const ke=fe,Qe=fe,Ze=new Map;for(fe=Qe;fe<=ce;fe++){const ft=De[fe]=se?uS(De[fe]):Z1(De[fe]);ft.key!=null&&Ze.set(ft.key,fe)}let Xe,ct=0;const pt=ce-Qe+1;let Ye=!1,je=0;const et=new Array(pt);for(fe=0;fe<pt;fe++)et[fe]=0;for(fe=ke;fe<=Se;fe++){const ft=Ce[fe];if(ct>=pt){xe(ft,Ie,re,!0);continue}let tt;if(ft.key!=null)tt=Ze.get(ft.key);else for(Xe=Qe;Xe<=ce;Xe++)if(et[Xe-Qe]===0&&w3(ft,De[Xe])){tt=Xe;break}tt===void 0?xe(ft,Ie,re,!0):(et[tt-Qe]=fe+1,tt>=je?je=tt:Ye=!0,k(ft,De[tt],Ve,null,Ie,re,be,te,se),ct++)}const yt=Ye?OTe(et):GP;for(Xe=yt.length-1,fe=pt-1;fe>=0;fe--){const ft=Qe+fe,tt=De[ft],wt=ft+1<oe?De[ft+1].el:_e;et[fe]===0?k(null,tt,Ve,wt,Ie,re,be,te,se):Ye&&(Xe<0||fe!==yt[Xe]?ee(tt,Ve,wt,2):Xe--)}}},ee=(Ce,De,Ve,_e,Ie=null)=>{const{el:re,type:be,transition:te,children:se,shapeFlag:fe}=Ce;if(fe&6){ee(Ce.component.subTree,De,Ve,_e);return}if(fe&128){Ce.suspense.move(De,Ve,_e);return}if(fe&64){be.move(Ce,De,Ve,ve);return}if(be===Go){a(re,De,Ve);for(let Se=0;Se<se.length;Se++)ee(se[Se],De,Ve,_e);a(Ce.anchor,De,Ve);return}if(be===Mre){M(Ce,De,Ve);return}if(_e!==2&&fe&1&&te)if(_e===0)te.beforeEnter(re),a(re,De,Ve),rm(()=>te.enter(re),Ie);else{const{leave:Se,delayLeave:ce,afterLeave:ke}=te,Qe=()=>a(re,De,Ve),Ze=()=>{Se(re,()=>{Qe(),ke&&ke()})};ce?ce(re,Qe,Ze):Ze()}else a(re,De,Ve)},xe=(Ce,De,Ve,_e=!1,Ie=!1)=>{const{type:re,props:be,ref:te,children:se,dynamicChildren:fe,shapeFlag:oe,patchFlag:Se,dirs:ce}=Ce;if(te!=null&&Goe(te,null,Ve,Ce,!0),oe&256){De.ctx.deactivate(Ce);return}const ke=oe&1&&ce,Qe=!VZ(Ce);let Ze;if(Qe&&(Ze=be&&be.onVnodeBeforeUnmount)&&N1(Ze,De,Ce),oe&6)pe(Ce.component,Ve,_e);else{if(oe&128){Ce.suspense.unmount(Ve,_e);return}ke&&h3(Ce,null,De,"beforeUnmount"),oe&64?Ce.type.remove(Ce,De,Ve,Ie,ve,_e):fe&&(re!==Go||Se>0&&Se&64)?ne(fe,De,Ve,!1,!0):(re===Go&&Se&384||!Ie&&oe&16)&&ne(se,De,Ve),_e&&we(Ce)}(Qe&&(Ze=be&&be.onVnodeUnmounted)||ke)&&rm(()=>{Ze&&N1(Ze,De,Ce),ke&&h3(Ce,null,De,"unmounted")},Ve)},we=Ce=>{const{type:De,el:Ve,anchor:_e,transition:Ie}=Ce;if(De===Go){Be(Ve,_e);return}if(De===Mre){I(Ce);return}const re=()=>{i(Ve),Ie&&!Ie.persisted&&Ie.afterLeave&&Ie.afterLeave()};if(Ce.shapeFlag&1&&Ie&&!Ie.persisted){const{leave:be,delayLeave:te}=Ie,se=()=>be(Ve,re);te?te(Ce.el,re,se):se()}else re()},Be=(Ce,De)=>{let Ve;for(;Ce!==De;)Ve=b(Ce),i(Ce),Ce=Ve;i(De)},pe=(Ce,De,Ve)=>{const{bum:_e,scope:Ie,update:re,subTree:be,um:te}=Ce;_e&&FZ(_e),Ie.stop(),re&&(re.active=!1,xe(be,Ce,De,Ve)),te&&rm(te,De),rm(()=>{Ce.isUnmounted=!0},De),De&&De.pendingBranch&&!De.isUnmounted&&Ce.asyncDep&&!Ce.asyncResolved&&Ce.suspenseId===De.pendingId&&(De.deps--,De.deps===0&&De.resolve())},ne=(Ce,De,Ve,_e=!1,Ie=!1,re=0)=>{for(let be=re;be<Ce.length;be++)xe(Ce[be],De,Ve,_e,Ie)},le=Ce=>Ce.shapeFlag&6?le(Ce.component.subTree):Ce.shapeFlag&128?Ce.suspense.next():b(Ce.anchor||Ce.el),Y=(Ce,De,Ve)=>{Ce==null?De._vnode&&xe(De._vnode,null,null,!0):k(De._vnode||null,Ce,De,null,null,null,Ve),Zue(),$pe(),De._vnode=Ce},ve={p:k,um:xe,m:ee,r:we,mt:X,mc:z,pc:ae,pbc:F,n:le,o:t};let Oe,Le;return e&&([Oe,Le]=e(ve)),{render:Y,hydrate:Oe,createApp:dTe(Y,Oe)}}function m3({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function sie(t,e,r=!1){const a=t.children,i=e.children;if(Us(a)&&Us(i))for(let d=0;d<a.length;d++){const f=a[d];let h=i[d];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=i[d]=uS(i[d]),h.el=f.el),r||sie(f,h)),h.type===U$&&(h.el=f.el)}}function OTe(t){const e=t.slice(),r=[0];let a,i,d,f,h;const c=t.length;for(a=0;a<c;a++){const g=t[a];if(g!==0){if(i=r[r.length-1],t[i]<g){e[a]=i,r.push(a);continue}for(d=0,f=r.length-1;d<f;)h=d+f>>1,t[r[h]]<g?d=h+1:f=h;g<t[r[d]]&&(d>0&&(e[a]=r[d-1]),r[d]=a)}}for(d=r.length,f=r[d-1];d-- >0;)r[d]=f,f=e[f];return r}const xTe=t=>t.__isTeleport,ZD=t=>t&&(t.disabled||t.disabled===""),tfe=t=>typeof SVGElement<"u"&&t instanceof SVGElement,joe=(t,e)=>{const r=t&&t.to;return Qc(r)?e?e(r):null:r},STe={__isTeleport:!0,process(t,e,r,a,i,d,f,h,c,g){const{mc:v,pc:y,pbc:b,o:{insert:O,querySelector:C,createText:k,createComment:w}}=g,T=ZD(e.props);let{shapeFlag:R,children:M,dynamicChildren:I}=e;if(t==null){const V=e.el=k(""),N=e.anchor=k("");O(V,r,a),O(N,r,a);const Q=e.target=joe(e.props,C),z=e.targetAnchor=k("");Q&&(O(z,Q),f=f||tfe(Q));const U=(F,B)=>{R&16&&v(M,F,B,i,d,f,h,c)};T?U(r,N):Q&&U(Q,z)}else{e.el=t.el;const V=e.anchor=t.anchor,N=e.target=t.target,Q=e.targetAnchor=t.targetAnchor,z=ZD(t.props),U=z?r:N,F=z?V:Q;if(f=f||tfe(N),I?(b(t.dynamicChildren,I,U,i,d,f,h),sie(t,e,!0)):c||y(t,e,U,F,i,d,f,h,!1),T)z||nZ(e,r,V,g,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=joe(e.props,C);B&&nZ(e,B,null,g,0)}else z&&nZ(e,N,Q,g,1)}Jpe(e)},remove(t,e,r,a,{um:i,o:{remove:d}},f){const{shapeFlag:h,children:c,anchor:g,targetAnchor:v,target:y,props:b}=t;if(y&&d(v),(f||!ZD(b))&&(d(g),h&16))for(let O=0;O<c.length;O++){const C=c[O];i(C,e,r,!0,!!C.dynamicChildren)}},move:nZ,hydrate:wTe};function nZ(t,e,r,{o:{insert:a},m:i},d=2){d===0&&a(t.targetAnchor,e,r);const{el:f,anchor:h,shapeFlag:c,children:g,props:v}=t,y=d===2;if(y&&a(f,e,r),(!y||ZD(v))&&c&16)for(let b=0;b<g.length;b++)i(g[b],e,r,2);y&&a(h,e,r)}function wTe(t,e,r,a,i,d,{o:{nextSibling:f,parentNode:h,querySelector:c}},g){const v=e.target=joe(e.props,c);if(v){const y=v._lpa||v.firstChild;if(e.shapeFlag&16)if(ZD(e.props))e.anchor=g(f(t),e,h(t),r,a,i,d),e.targetAnchor=y;else{e.anchor=f(t);let b=y;for(;b;)if(b=f(b),b&&b.nodeType===8&&b.data==="teleport anchor"){e.targetAnchor=b,v._lpa=e.targetAnchor&&f(e.targetAnchor);break}g(y,e,v,r,a,i,d)}Jpe(e)}return e.anchor&&f(e.anchor)}const TTe=STe;function Jpe(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Go=Symbol.for("v-fgt"),U$=Symbol.for("v-txt"),zv=Symbol.for("v-cmt"),Mre=Symbol.for("v-stc"),HD=[];let Qv=null;function to(t=!1){HD.push(Qv=t?null:[])}function CTe(){HD.pop(),Qv=HD[HD.length-1]||null}let c$=1;function nfe(t){c$+=t}function eve(t){return t.dynamicChildren=c$>0?Qv||GP:null,CTe(),c$>0&&Qv&&Qv.push(t),t}function Ia(t,e,r,a,i,d){return eve(Pd(t,e,r,a,i,d,!0))}function ys(t,e,r,a,i){return eve(it(t,e,r,a,i,!0))}function qoe(t){return t?t.__v_isVNode===!0:!1}function w3(t,e){return t.type===e.type&&t.key===e.key}const wU="__vInternal",tve=({key:t})=>t??null,zZ=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Qc(t)||vc(t)||wa(t)?{i:mg,r:t,k:e,f:!!r}:t:null);function Pd(t,e=null,r=null,a=0,i=null,d=t===Go?0:1,f=!1,h=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tve(e),ref:e&&zZ(e),scopeId:Npe,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:mg};return h?(aie(c,r),d&128&&t.normalize(c)):r&&(c.shapeFlag|=Qc(r)?8:16),c$>0&&!f&&Qv&&(c.patchFlag>0||d&6)&&c.patchFlag!==32&&Qv.push(c),c}const it=kTe;function kTe(t,e=null,r=null,a=0,i=null,d=!1){if((!t||t===Upe)&&(t=zv),qoe(t)){const h=bO(t,e,!0);return r&&aie(h,r),c$>0&&!d&&Qv&&(h.shapeFlag&6?Qv[Qv.indexOf(t)]=h:Qv.push(h)),h.patchFlag|=-2,h}if(ITe(t)&&(t=t.__vccOpts),e){e=ATe(e);let{class:h,style:c}=e;h&&!Qc(h)&&(e.class=pU(h)),kl(c)&&(Cpe(c)&&!Us(c)&&(c=eu({},c)),e.style=gU(c))}const f=Qc(t)?1:Ywe(t)?128:xTe(t)?64:kl(t)?4:wa(t)?2:0;return Pd(t,e,r,a,i,f,d,!0)}function ATe(t){return t?Cpe(t)||wU in t?eu({},t):t:null}function bO(t,e,r=!1){const{props:a,ref:i,patchFlag:d,children:f}=t,h=e?rs(a||{},e):a;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&tve(h),ref:e&&e.ref?r&&i?Us(i)?i.concat(zZ(e)):[i,zZ(e)]:zZ(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:f,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Go?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bO(t.ssContent),ssFallback:t.ssFallback&&bO(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ka(t=" ",e=0){return it(U$,null,t,e)}function yu(t="",e=!1){return e?(to(),ys(zv,null,t)):it(zv,null,t)}function Z1(t){return t==null||typeof t=="boolean"?it(zv):Us(t)?it(Go,null,t.slice()):typeof t=="object"?uS(t):it(U$,null,String(t))}function uS(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bO(t)}function aie(t,e){let r=0;const{shapeFlag:a}=t;if(e==null)e=null;else if(Us(e))r=16;else if(typeof e=="object")if(a&65){const i=e.default;i&&(i._c&&(i._d=!1),aie(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(wU in e)?e._ctx=mg:i===3&&mg&&(mg.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else wa(e)?(e={default:e,_ctx:mg},r=32):(e=String(e),a&64?(r=16,e=[Ka(e)]):r=8);t.children=e,t.shapeFlag|=r}function rs(...t){const e={};for(let r=0;r<t.length;r++){const a=t[r];for(const i in a)if(i==="class")e.class!==a.class&&(e.class=pU([e.class,a.class]));else if(i==="style")e.style=gU([e.style,a.style]);else if(dU(i)){const d=e[i],f=a[i];f&&d!==f&&!(Us(d)&&d.includes(f))&&(e[i]=d?[].concat(d,f):f)}else i!==""&&(e[i]=a[i])}return e}function N1(t,e,r,a=null){kp(t,e,7,[r,a])}const PTe=Ype();let MTe=0;function ETe(t,e,r){const a=t.type,i=(e?e.appContext:t.appContext)||PTe,d={uid:MTe++,vnode:t,type:a,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new hpe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gpe(a,i),emitsOptions:Ipe(a,i),emit:null,emitted:null,propsDefaults:Fl,inheritAttrs:a.inheritAttrs,ctx:Fl,data:Fl,props:Fl,attrs:Fl,slots:Fl,refs:Fl,setupState:Fl,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=e?e.root:d,d.emit=zwe.bind(null,d),t.ce&&t.ce(d),d}let xf=null;const iie=()=>xf||mg;let lie,NP,rfe="__VUE_INSTANCE_SETTERS__";(NP=Foe()[rfe])||(NP=Foe()[rfe]=[]),NP.push(t=>xf=t),lie=t=>{NP.length>1?NP.forEach(e=>e(t)):NP[0](t)};const uM=t=>{lie(t),t.scope.on()},$3=()=>{xf&&xf.scope.off(),lie(null)};function nve(t){return t.vnode.shapeFlag&4}let u$=!1;function _Te(t,e=!1){u$=e;const{props:r,children:a}=t.vnode,i=nve(t);hTe(t,r,i,e),pTe(t,a);const d=i?RTe(t,e):void 0;return u$=!1,d}function RTe(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=kpe(new Proxy(t.ctx,sTe));const{setup:a}=r;if(a){const i=t.setupContext=a.length>1?$Te(t):null;uM(t),MM();const d=OS(a,t,0,[t.props,i]);if(EM(),$3(),lpe(d)){if(d.then($3,$3),e)return d.then(f=>{ofe(t,f,e)}).catch(f=>{bU(f,t,0)});t.asyncDep=d}else ofe(t,d,e)}else rve(t,e)}function ofe(t,e,r){wa(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:kl(e)&&(t.setupState=Epe(e)),rve(t,r)}let sfe;function rve(t,e,r){const a=t.type;if(!t.render){if(!e&&sfe&&!a.render){const i=a.template||rie(t).template;if(i){const{isCustomElement:d,compilerOptions:f}=t.appContext.config,{delimiters:h,compilerOptions:c}=a,g=eu(eu({isCustomElement:d,delimiters:h},f),c);a.render=sfe(i,g)}}t.render=a.render||Fv}uM(t),MM(),aTe(t),EM(),$3()}function DTe(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return um(t,"get","$attrs"),e[r]}}))}function $Te(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return DTe(t)},slots:t.slots,emit:t.emit,expose:e}}function TU(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Epe(kpe(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in zD)return zD[r](t)},has(e,r){return r in e||r in zD}}))}function LTe(t,e=!0){return wa(t)?t.displayName||t.name:t.name||e&&t.__name}function ITe(t){return wa(t)&&"__vccOpts"in t}const en=(t,e)=>Iwe(t,e,u$);function ph(t,e,r){const a=arguments.length;return a===2?kl(e)&&!Us(e)?qoe(e)?it(t,null,[e]):it(t,e):it(t,null,e):(a>3?r=Array.prototype.slice.call(arguments,2):a===3&&qoe(r)&&(r=[r]),it(t,e,r))}const NTe=Symbol.for("v-scx"),BTe=()=>Ra(NTe),QTe="3.3.4",FTe="http://www.w3.org/2000/svg",T3=typeof document<"u"?document:null,afe=T3&&T3.createElement("template"),VTe={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,a)=>{const i=e?T3.createElementNS(FTe,t):T3.createElement(t,r?{is:r}:void 0);return t==="select"&&a&&a.multiple!=null&&i.setAttribute("multiple",a.multiple),i},createText:t=>T3.createTextNode(t),createComment:t=>T3.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>T3.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,a,i,d){const f=r?r.previousSibling:e.lastChild;if(i&&(i===d||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===d||!(i=i.nextSibling)););else{afe.innerHTML=a?`<svg>${t}</svg>`:t;const h=afe.content;if(a){const c=h.firstChild;for(;c.firstChild;)h.appendChild(c.firstChild);h.removeChild(c)}e.insertBefore(h,r)}return[f?f.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function zTe(t,e,r){const a=t._vtc;a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function ZTe(t,e,r){const a=t.style,i=Qc(r);if(r&&!i){if(e&&!Qc(e))for(const d in e)r[d]==null&&Koe(a,d,"");for(const d in r)Koe(a,d,r[d])}else{const d=a.display;i?e!==r&&(a.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(a.display=d)}}const ife=/\s*!important$/;function Koe(t,e,r){if(Us(r))r.forEach(a=>Koe(t,e,a));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const a=HTe(t,e);ife.test(r)?t.setProperty(PM(a),r.replace(ife,""),"important"):t[a]=r}}const lfe=["Webkit","Moz","ms"],Ere={};function HTe(t,e){const r=Ere[e];if(r)return r;let a=Ep(e);if(a!=="filter"&&a in t)return Ere[e]=a;a=CO(a);for(let i=0;i<lfe.length;i++){const d=lfe[i]+a;if(d in t)return Ere[e]=d}return e}const cfe="http://www.w3.org/1999/xlink";function UTe(t,e,r,a,i){if(a&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(cfe,e.slice(6,e.length)):t.setAttributeNS(cfe,e,r);else{const d=twe(e);r==null||d&&!fpe(r)?t.removeAttribute(e):t.setAttribute(e,d?"":r)}}function WTe(t,e,r,a,i,d,f){if(e==="innerHTML"||e==="textContent"){a&&f(a,i,d),t[e]=r??"";return}const h=t.tagName;if(e==="value"&&h!=="PROGRESS"&&!h.includes("-")){t._value=r;const g=h==="OPTION"?t.getAttribute("value"):t.value,v=r??"";g!==v&&(t.value=v),r==null&&t.removeAttribute(e);return}let c=!1;if(r===""||r==null){const g=typeof t[e];g==="boolean"?r=fpe(r):r==null&&g==="string"?(r="",c=!0):g==="number"&&(r=0,c=!0)}try{t[e]=r}catch{}c&&t.removeAttribute(e)}function VP(t,e,r,a){t.addEventListener(e,r,a)}function YTe(t,e,r,a){t.removeEventListener(e,r,a)}function XTe(t,e,r,a,i=null){const d=t._vei||(t._vei={}),f=d[e];if(a&&f)f.value=a;else{const[h,c]=GTe(e);if(a){const g=d[e]=KTe(a,i);VP(t,h,g,c)}else f&&(YTe(t,h,f,c),d[e]=void 0)}}const ufe=/(?:Once|Passive|Capture)$/;function GTe(t){let e;if(ufe.test(t)){e={};let a;for(;a=t.match(ufe);)t=t.slice(0,t.length-a[0].length),e[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):PM(t.slice(2)),e]}let _re=0;const jTe=Promise.resolve(),qTe=()=>_re||(jTe.then(()=>_re=0),_re=Date.now());function KTe(t,e){const r=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=r.attached)return;kp(JTe(a,r.value),e,5,[a])};return r.value=t,r.attached=qTe(),r}function JTe(t,e){if(Us(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(a=>i=>!i._stopped&&a&&a(i))}else return e}const ffe=/^on[a-z]/,eCe=(t,e,r,a,i=!1,d,f,h,c)=>{e==="class"?zTe(t,a,i):e==="style"?ZTe(t,r,a):dU(e)?Iae(e)||XTe(t,e,r,a,f):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tCe(t,e,a,i))?WTe(t,e,a,d,f,h,c):(e==="true-value"?t._trueValue=a:e==="false-value"&&(t._falseValue=a),UTe(t,e,a,i))};function tCe(t,e,r,a){return a?!!(e==="innerHTML"||e==="textContent"||e in t&&ffe.test(e)&&wa(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||ffe.test(e)&&Qc(r)?!1:e in t}const aS="transition",vD="animation",OO=(t,{slots:e})=>ph(qwe,sve(t),e);OO.displayName="Transition";const ove={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nCe=OO.props=eu({},Fpe,ove),g3=(t,e=[])=>{Us(t)?t.forEach(r=>r(...e)):t&&t(...e)},dfe=t=>t?Us(t)?t.some(e=>e.length>1):t.length>1:!1;function sve(t){const e={};for(const E in t)E in ove||(e[E]=t[E]);if(t.css===!1)return e;const{name:r="v",type:a,duration:i,enterFromClass:d=`${r}-enter-from`,enterActiveClass:f=`${r}-enter-active`,enterToClass:h=`${r}-enter-to`,appearFromClass:c=d,appearActiveClass:g=f,appearToClass:v=h,leaveFromClass:y=`${r}-leave-from`,leaveActiveClass:b=`${r}-leave-active`,leaveToClass:O=`${r}-leave-to`}=t,C=rCe(i),k=C&&C[0],w=C&&C[1],{onBeforeEnter:T,onEnter:R,onEnterCancelled:M,onLeave:I,onLeaveCancelled:V,onBeforeAppear:N=T,onAppear:Q=R,onAppearCancelled:z=M}=e,U=(E,W,X)=>{cS(E,W?v:h),cS(E,W?g:f),X&&X()},F=(E,W)=>{E._isLeaving=!1,cS(E,y),cS(E,O),cS(E,b),W&&W()},B=E=>(W,X)=>{const ie=E?Q:R,L=()=>U(W,E,X);g3(ie,[W,L]),hfe(()=>{cS(W,E?c:d),hO(W,E?v:h),dfe(ie)||mfe(W,a,k,L)})};return eu(e,{onBeforeEnter(E){g3(T,[E]),hO(E,d),hO(E,f)},onBeforeAppear(E){g3(N,[E]),hO(E,c),hO(E,g)},onEnter:B(!1),onAppear:B(!0),onLeave(E,W){E._isLeaving=!0;const X=()=>F(E,W);hO(E,y),ive(),hO(E,b),hfe(()=>{E._isLeaving&&(cS(E,y),hO(E,O),dfe(I)||mfe(E,a,w,X))}),g3(I,[E,X])},onEnterCancelled(E){U(E,!1),g3(M,[E])},onAppearCancelled(E){U(E,!0),g3(z,[E])},onLeaveCancelled(E){F(E),g3(V,[E])}})}function rCe(t){if(t==null)return null;if(kl(t))return[Rre(t.enter),Rre(t.leave)];{const e=Rre(t);return[e,e]}}function Rre(t){return GSe(t)}function hO(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function cS(t,e){e.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function hfe(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let oCe=0;function mfe(t,e,r,a){const i=t._endId=++oCe,d=()=>{i===t._endId&&a()};if(r)return setTimeout(d,r);const{type:f,timeout:h,propCount:c}=ave(t,e);if(!f)return a();const g=f+"end";let v=0;const y=()=>{t.removeEventListener(g,b),d()},b=O=>{O.target===t&&++v>=c&&y()};setTimeout(()=>{v<c&&y()},h+1),t.addEventListener(g,b)}function ave(t,e){const r=window.getComputedStyle(t),a=C=>(r[C]||"").split(", "),i=a(`${aS}Delay`),d=a(`${aS}Duration`),f=gfe(i,d),h=a(`${vD}Delay`),c=a(`${vD}Duration`),g=gfe(h,c);let v=null,y=0,b=0;e===aS?f>0&&(v=aS,y=f,b=d.length):e===vD?g>0&&(v=vD,y=g,b=c.length):(y=Math.max(f,g),v=y>0?f>g?aS:vD:null,b=v?v===aS?d.length:c.length:0);const O=v===aS&&/\b(transform|all)(,|$)/.test(a(`${aS}Property`).toString());return{type:v,timeout:y,propCount:b,hasTransform:O}}function gfe(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,a)=>pfe(r)+pfe(t[a])))}function pfe(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function ive(){return document.body.offsetHeight}const lve=new WeakMap,cve=new WeakMap,uve={name:"TransitionGroup",props:eu({},nCe,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=iie(),a=Qpe();let i,d;return Zpe(()=>{if(!i.length)return;const f=t.moveClass||`${t.name||"v"}-move`;if(!uCe(i[0].el,r.vnode.el,f))return;i.forEach(iCe),i.forEach(lCe);const h=i.filter(cCe);ive(),h.forEach(c=>{const g=c.el,v=g.style;hO(g,f),v.transform=v.webkitTransform=v.transitionDuration="";const y=g._moveCb=b=>{b&&b.target!==g||(!b||/transform$/.test(b.propertyName))&&(g.removeEventListener("transitionend",y),g._moveCb=null,cS(g,f))};g.addEventListener("transitionend",y)})}),()=>{const f=va(t),h=sve(f);let c=f.tag||Go;i=d,d=e.default?qae(e.default()):[];for(let g=0;g<d.length;g++){const v=d[g];v.key!=null&&l$(v,i$(v,h,a,r))}if(i)for(let g=0;g<i.length;g++){const v=i[g];l$(v,i$(v,h,a,r)),lve.set(v,v.el.getBoundingClientRect())}return it(c,null,d)}}},sCe=t=>delete t.mode;uve.props;const aCe=uve;function iCe(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function lCe(t){cve.set(t,t.el.getBoundingClientRect())}function cCe(t){const e=lve.get(t),r=cve.get(t),a=e.left-r.left,i=e.top-r.top;if(a||i){const d=t.el.style;return d.transform=d.webkitTransform=`translate(${a}px,${i}px)`,d.transitionDuration="0s",t}}function uCe(t,e,r){const a=t.cloneNode();t._vtc&&t._vtc.forEach(f=>{f.split(/\s+/).forEach(h=>h&&a.classList.remove(h))}),r.split(/\s+/).forEach(f=>f&&a.classList.add(f)),a.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(a);const{hasTransform:d}=ave(a);return i.removeChild(a),d}const vfe=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Us(e)?r=>FZ(e,r):e};function fCe(t){t.target.composing=!0}function yfe(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const dCe={created(t,{modifiers:{lazy:e,trim:r,number:a}},i){t._assign=vfe(i);const d=a||i.props&&i.props.type==="number";VP(t,e?"change":"input",f=>{if(f.target.composing)return;let h=t.value;r&&(h=h.trim()),d&&(h=Qoe(h)),t._assign(h)}),r&&VP(t,"change",()=>{t.value=t.value.trim()}),e||(VP(t,"compositionstart",fCe),VP(t,"compositionend",yfe),VP(t,"change",yfe))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:a,number:i}},d){if(t._assign=vfe(d),t.composing||document.activeElement===t&&t.type!=="range"&&(r||a&&t.value.trim()===e||(i||t.type==="number")&&Qoe(t.value)===e))return;const f=e??"";t.value!==f&&(t.value=f)}},hCe=["ctrl","shift","alt","meta"],mCe={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>hCe.some(r=>t[`${r}Key`]&&!e.includes(r))},bfe=(t,e)=>(r,...a)=>{for(let i=0;i<e.length;i++){const d=mCe[e[i]];if(d&&d(r,e))return}return t(r,...a)},LS={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):yD(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:a}){!e!=!r&&(a?e?(a.beforeEnter(t),yD(t,!0),a.enter(t)):a.leave(t,()=>{yD(t,!1)}):yD(t,e))},beforeUnmount(t,{value:e}){yD(t,e)}};function yD(t,e){t.style.display=e?t._vod:"none"}const gCe=eu({patchProp:eCe},VTe);let Ofe;function pCe(){return Ofe||(Ofe=yTe(gCe))}const vCe=(...t)=>{const e=pCe().createApp(...t),{mount:r}=e;return e.mount=a=>{const i=yCe(a);if(!i)return;const d=e._component;!wa(d)&&!d.render&&!d.template&&(d.template=i.innerHTML),i.innerHTML="";const f=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),f},e};function yCe(t){return Qc(t)?document.querySelector(t):t}function bCe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fve={exports:{}};(function(t,e){(function(a,i){t.exports=i()})(self,function(){return function(){var r={8847:function(f,h,c){var g=c(1828),v={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var y in v){var b=y.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(b,v[y])}},8222:function(f,h,c){f.exports=c(2887)},7206:function(f,h,c){f.exports=c(822)},9509:function(f,h,c){f.exports=c(2201)},9548:function(f,h,c){f.exports=c(8729)},1039:function(f,h,c){f.exports=c(4382)},4296:function(f,h,c){f.exports=c(3102)},2576:function(f,h,c){var g=c(9548);g.register([c(7206),c(4201),c(8222),c(1039),c(4296),c(6398),c(9509)]),f.exports=g},4201:function(f,h,c){f.exports=c(8810)},6398:function(f,h,c){f.exports=c(2275)},2884:function(f){f.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(f,h,c){var g=c(2884),v=c(1940),y=c(5555),b=c(4467).templatedArray;c(4695),f.exports=b("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:v({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",y.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",y.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",y.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",y.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:v({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(f,h,c){var g=c(1828),v=c(9298),y=c(2605).draw;f.exports=function(k){var w=k._fullLayout,T=g.filterVisible(w.annotations);if(T.length&&k._fullData.length)return g.syncOrAsync([y,b],k)};function b(C){var k=C._fullLayout;g.filterVisible(k.annotations).forEach(function(w){var T=v.getFromId(C,w.xref),R=v.getFromId(C,w.yref),M=v.getRefType(w.xref),I=v.getRefType(w.yref);w._extremes={},M==="range"&&O(w,T),I==="range"&&O(w,R)})}function O(C,k){var w=k._id,T=w.charAt(0),R=C[T],M=C["a"+T],I=C[T+"ref"],V=C["a"+T+"ref"],N=C["_"+T+"padplus"],Q=C["_"+T+"padminus"],z={x:1,y:-1}[T]*C[T+"shift"],U=3*C.arrowsize*C.arrowwidth||0,F=U+z,B=U-z,E=3*C.startarrowsize*C.arrowwidth||0,W=E+z,X=E-z,ie;if(V===I){var L=v.findExtremes(k,[k.r2c(R)],{ppadplus:F,ppadminus:B}),me=v.findExtremes(k,[k.r2c(M)],{ppadplus:Math.max(N,W),ppadminus:Math.max(Q,X)});ie={min:[L.min[0],me.min[0]],max:[L.max[0],me.max[0]]}}else W=M?W+M:W,X=M?X-M:X,ie=v.findExtremes(k,[k.r2c(R)],{ppadplus:Math.max(N,F,W),ppadminus:Math.max(Q,B,X)});C._extremes[w]=ie}},4317:function(f,h,c){var g=c(1828),v=c(3972),y=c(4467).arrayEditor;f.exports={hasClickToShow:b,onClick:O};function b(w,T){var R=C(w,T);return R.on.length>0||R.explicitOff.length>0}function O(w,T){var R=C(w,T),M=R.on,I=R.off.concat(R.explicitOff),V={},N=w._fullLayout.annotations,Q,z;if(M.length||I.length){for(Q=0;Q<M.length;Q++)z=y(w.layout,"annotations",N[M[Q]]),z.modifyItem("visible",!0),g.extendFlat(V,z.getUpdateObj());for(Q=0;Q<I.length;Q++)z=y(w.layout,"annotations",N[I[Q]]),z.modifyItem("visible",!1),g.extendFlat(V,z.getUpdateObj());return v.call("update",w,{},V)}}function C(w,T){var R=w._fullLayout.annotations,M=[],I=[],V=[],N=(T||[]).length,Q,z,U,F,B,E,W,X;for(Q=0;Q<R.length;Q++)if(U=R[Q],F=U.clicktoshow,F){for(z=0;z<N;z++)if(B=T[z],E=B.xaxis,W=B.yaxis,E._id===U.xref&&W._id===U.yref&&E.d2r(B.x)===k(U._xclick,E)&&W.d2r(B.y)===k(U._yclick,W)){U.visible?F==="onout"?X=I:X=V:X=M,X.push(Q);break}z===N&&U.visible&&F==="onout"&&I.push(Q)}return{on:M,off:I,explicitOff:V}}function k(w,T){return T.type==="log"?T.l2r(w):T.d2r(w)}},5625:function(f,h,c){var g=c(1828),v=c(7901);f.exports=function(b,O,C,k){k("opacity");var w=k("bgcolor"),T=k("bordercolor"),R=v.opacity(T);k("borderpad");var M=k("borderwidth"),I=k("showarrow");k("text",I?" ":C._dfltTitle.annotation),k("textangle"),g.coerceFont(k,"font",C.font),k("width"),k("align");var V=k("height");if(V&&k("valign"),I){var N=k("arrowside"),Q,z;N.indexOf("end")!==-1&&(Q=k("arrowhead"),z=k("arrowsize")),N.indexOf("start")!==-1&&(k("startarrowhead",Q),k("startarrowsize",z)),k("arrowcolor",R?O.bordercolor:v.defaultLine),k("arrowwidth",(R&&M||1)*2),k("standoff"),k("startstandoff")}var U=k("hovertext"),F=C.hoverlabel||{};if(U){var B=k("hoverlabel.bgcolor",F.bgcolor||(v.opacity(w)?v.rgb(w):v.defaultLine)),E=k("hoverlabel.bordercolor",F.bordercolor||v.contrast(B));g.coerceFont(k,"hoverlabel.font",{family:F.font.family,size:F.font.size,color:F.font.color||E})}k("captureevents",!!U)}},4128:function(f,h,c){var g=c(2770),v=c(8163);f.exports=function(b,O,C,k){O=O||{};var w=C==="log"&&O.type==="linear",T=C==="linear"&&O.type==="log";if(!(w||T))return;var R=b._fullLayout.annotations,M=O._id.charAt(0),I,V;function N(z){var U=I[z],F=null;w?F=v(U,O.range):F=Math.pow(10,U),g(F)||(F=null),k(V+z,F)}for(var Q=0;Q<R.length;Q++)I=R[Q],V="annotations["+Q+"].",I[M+"ref"]===O._id&&N(M),I["a"+M+"ref"]===O._id&&N("a"+M)}},4046:function(f,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(5625),O=c(215);f.exports=function(w,T){y(w,T,{name:"annotations",handleItemDefaults:C})};function C(k,w,T){function R(ae,q){return g.coerce(k,w,O,ae,q)}var M=R("visible"),I=R("clicktoshow");if(M||I){b(k,w,T,R);for(var V=w.showarrow,N=["x","y"],Q=[-10,-30],z={_fullLayout:T},U=0;U<2;U++){var F=N[U],B=v.coerceRef(k,w,z,F,"","paper");if(B!=="paper"){var E=v.getFromId(z,B);E._annIndices.push(w._index)}if(v.coercePosition(w,z,R,B,F,.5),V){var W="a"+F,X=v.coerceRef(k,w,z,W,"pixel",["pixel","paper"]);X!=="pixel"&&X!==B&&(X=w[W]="pixel");var ie=X==="pixel"?Q[U]:.4;v.coercePosition(w,z,R,X,W,ie)}R(F+"anchor"),R(F+"shift")}if(g.noneOrAll(k,w,["x","y"]),V&&g.noneOrAll(k,w,["ax","ay"]),I){var L=R("xclick"),me=R("yclick");w._xclick=L===void 0?w.x:v.cleanPosition(L,z,w.xref),w._yclick=me===void 0?w.y:v.cleanPosition(me,z,w.yref)}}}},2605:function(f,h,c){var g=c(9898),v=c(3972),y=c(4875),b=c(1828),O=b.strTranslate,C=c(9298),k=c(7901),w=c(1424),T=c(211),R=c(3893),M=c(6964),I=c(8569),V=c(4467).arrayEditor,N=c(3011);f.exports={draw:Q,drawOne:z,drawRaw:F};function Q(B){var E=B._fullLayout;E._infolayer.selectAll(".annotation").remove();for(var W=0;W<E.annotations.length;W++)E.annotations[W].visible&&z(B,W);return y.previousPromises(B)}function z(B,E){var W=B._fullLayout,X=W.annotations[E]||{},ie=C.getFromId(B,X.xref),L=C.getFromId(B,X.yref);ie&&ie.setScale(),L&&L.setScale(),F(B,X,E,!1,ie,L)}function U(B,E,W,X,ie){var L=ie[W],me=ie[W+"ref"],ae=W.indexOf("y")!==-1,q=C.getRefType(me)==="domain",de=ae?X.h:X.w;return B?q?L+(ae?-E:E)/B._length:B.p2r(B.r2p(L)+E):L+(ae?-E:E)/de}function F(B,E,W,X,ie,L){var me=B._fullLayout,ae=B._fullLayout._size,q=B._context.edits,de,ee;X?(de="annotation-"+X,ee=X+".annotations"):(de="annotation",ee="annotations");var xe=V(B.layout,ee,E),we=xe.modifyBase,Be=xe.modifyItem,pe=xe.getUpdateObj;me._infolayer.selectAll("."+de+'[data-index="'+W+'"]').remove();var ne="clip"+me._uid+"_ann"+W;if(!E._input||E.visible===!1){g.selectAll("#"+ne).remove();return}var le={x:{},y:{}},Y=+E.textangle||0,ve=me._infolayer.append("g").classed(de,!0).attr("data-index",String(W)).style("opacity",E.opacity),Oe=ve.append("g").classed("annotation-text-g",!0),Le=q[E.showarrow?"annotationTail":"annotationPosition"],Ce=E.captureevents||q.annotationText||Le;function De(Qe){var Ze={index:W,annotation:E._input,fullAnnotation:E,event:Qe};return X&&(Ze.subplotId=X),Ze}var Ve=Oe.append("g").style("pointer-events",Ce?"all":null).call(M,"pointer").on("click",function(){B._dragging=!1,B.emit("plotly_clickannotation",De(g.event))});E.hovertext&&Ve.on("mouseover",function(){var Qe=E.hoverlabel,Ze=Qe.font,Xe=this.getBoundingClientRect(),ct=B.getBoundingClientRect();T.loneHover({x0:Xe.left-ct.left,x1:Xe.right-ct.left,y:(Xe.top+Xe.bottom)/2-ct.top,text:E.hovertext,color:Qe.bgcolor,borderColor:Qe.bordercolor,fontFamily:Ze.family,fontSize:Ze.size,fontColor:Ze.color},{container:me._hoverlayer.node(),outerContainer:me._paper.node(),gd:B})}).on("mouseout",function(){T.loneUnhover(me._hoverlayer.node())});var _e=E.borderwidth,Ie=E.borderpad,re=_e+Ie,be=Ve.append("rect").attr("class","bg").style("stroke-width",_e+"px").call(k.stroke,E.bordercolor).call(k.fill,E.bgcolor),te=E.width||E.height,se=me._topclips.selectAll("#"+ne).data(te?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",ne).append("rect"),se.exit().remove();var fe=E.font,oe=me._meta?b.templateString(E.text,me._meta):E.text,Se=Ve.append("text").classed("annotation-text",!0).text(oe);function ce(Qe){return Qe.call(w.font,fe).attr({"text-anchor":{left:"start",right:"end"}[E.align]||"middle"}),R.convertToTspans(Qe,B,ke),Qe}function ke(){var Qe=Se.selectAll("a");if(Qe.size()===1&&Qe.text()===Se.text()){var Ze=Ve.insert("a",":first-child").attr({"xlink:xlink:href":Qe.attr("xlink:href"),"xlink:xlink:show":Qe.attr("xlink:show")}).style({cursor:"pointer"});Ze.node().appendChild(be.node())}var Xe=Ve.select(".annotation-text-math-group"),ct=!Xe.empty(),pt=w.bBox((ct?Xe:Se).node()),Ye=pt.width,je=pt.height,et=E.width||Ye,yt=E.height||je,ft=Math.round(et+2*re),tt=Math.round(yt+2*re);function wt(vr,Wn){return Wn==="auto"&&(vr<.3333333333333333?Wn="left":vr>.6666666666666666?Wn="right":Wn="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Wn]}for(var Xt=!1,Gt=["x","y"],Nt=0;Nt<Gt.length;Nt++){var Bt=Gt[Nt],vn=E[Bt+"ref"]||Bt,En=E["a"+Bt+"ref"],ln={x:ie,y:L}[Bt],Yn=(Y+(Bt==="x"?0:-90))*Math.PI/180,an=ft*Math.cos(Yn),wn=tt*Math.sin(Yn),Xn=Math.abs(an)+Math.abs(wn),Un=E[Bt+"anchor"],Sn=E[Bt+"shift"]*(Bt==="x"?1:-1),lt=le[Bt],ut,xt,gt,Dt,He,at=C.getRefType(vn);if(ln&&at!=="domain"){var dt=ln.r2fraction(E[Bt]);(dt<0||dt>1)&&(En===vn?(dt=ln.r2fraction(E["a"+Bt]),(dt<0||dt>1)&&(Xt=!0)):Xt=!0),ut=ln._offset+ln.r2p(E[Bt]),Dt=.5}else{var mt=at==="domain";Bt==="x"?(gt=E[Bt],ut=mt?ln._offset+ln._length*gt:ut=ae.l+ae.w*gt):(gt=1-E[Bt],ut=mt?ln._offset+ln._length*gt:ut=ae.t+ae.h*gt),Dt=E.showarrow?.5:gt}if(E.showarrow){lt.head=ut;var Tt=E["a"+Bt];if(He=an*wt(.5,E.xanchor)-wn*wt(.5,E.yanchor),En===vn){var Pt=C.getRefType(En);Pt==="domain"?(Bt==="y"&&(Tt=1-Tt),lt.tail=ln._offset+ln._length*Tt):Pt==="paper"?Bt==="y"?(Tt=1-Tt,lt.tail=ae.t+ae.h*Tt):lt.tail=ae.l+ae.w*Tt:lt.tail=ln._offset+ln.r2p(Tt),xt=He}else lt.tail=ut+Tt,xt=He+Tt;lt.text=lt.tail+He;var dn=me[Bt==="x"?"width":"height"];if(vn==="paper"&&(lt.head=b.constrain(lt.head,1,dn-1)),En==="pixel"){var rn=-Math.max(lt.tail-3,lt.text),Wt=Math.min(lt.tail+3,lt.text)-dn;rn>0?(lt.tail+=rn,lt.text+=rn):Wt>0&&(lt.tail-=Wt,lt.text-=Wt)}lt.tail+=Sn,lt.head+=Sn}else He=Xn*wt(Dt,Un),xt=He,lt.text=ut+He;lt.text+=Sn,He+=Sn,xt+=Sn,E["_"+Bt+"padplus"]=Xn/2+xt,E["_"+Bt+"padminus"]=Xn/2-xt,E["_"+Bt+"size"]=Xn,E["_"+Bt+"shift"]=He}if(Xt){Ve.remove();return}var Rt=0,fn=0;if(E.align!=="left"&&(Rt=(et-Ye)*(E.align==="center"?.5:1)),E.valign!=="top"&&(fn=(yt-je)*(E.valign==="middle"?.5:1)),ct)Xe.select("svg").attr({x:re+Rt-1,y:re+fn}).call(w.setClipUrl,te?ne:null,B);else{var Hn=re+fn-pt.top,nr=re+Rt-pt.left;Se.call(R.positionText,nr,Hn).call(w.setClipUrl,te?ne:null,B)}se.select("rect").call(w.setRect,re,re,et,yt),be.call(w.setRect,_e/2,_e/2,ft-_e,tt-_e),Ve.call(w.setTranslate,Math.round(le.x.text-ft/2),Math.round(le.y.text-tt/2)),Oe.attr({transform:"rotate("+Y+","+le.x.text+","+le.y.text+")"});var Er=function(vr,Wn){ve.selectAll(".annotation-arrow-g").remove();var Br=le.x.head,kr=le.y.head,or=le.x.tail+vr,jr=le.y.tail+Wn,_r=le.x.text+vr,Rn=le.y.text+Wn,xr=b.rotationXYMatrix(Y,_r,Rn),sr=b.apply2DTransform(xr),Sr=b.apply2DTransform2(xr),ao=+be.attr("width"),Oo=+be.attr("height"),wr=_r-.5*ao,Fe=wr+ao,Ee=Rn-.5*Oo,St=Ee+Oo,Ct=[[wr,Ee,wr,St],[wr,St,Fe,St],[Fe,St,Fe,Ee],[Fe,Ee,wr,Ee]].map(Sr);if(!Ct.reduce(function(pn,Jn){return pn^!!b.segmentsIntersect(Br,kr,Br+1e6,kr+1e6,Jn[0],Jn[1],Jn[2],Jn[3])},!1)){Ct.forEach(function(pn){var Jn=b.segmentsIntersect(or,jr,Br,kr,pn[0],pn[1],pn[2],pn[3]);Jn&&(or=Jn.x,jr=Jn.y)});var Lt=E.arrowwidth,Ft=E.arrowcolor,Ht=E.arrowside,$t=ve.append("g").style({opacity:k.opacity(Ft)}).classed("annotation-arrow-g",!0),Mt=$t.append("path").attr("d","M"+or+","+jr+"L"+Br+","+kr).style("stroke-width",Lt+"px").call(k.stroke,k.rgb(Ft));if(N(Mt,Ht,E),q.annotationPosition&&Mt.node().parentNode&&!X){var tn=Br,un=kr;if(E.standoff){var Jt=Math.sqrt(Math.pow(Br-or,2)+Math.pow(kr-jr,2));tn+=E.standoff*(or-Br)/Jt,un+=E.standoff*(jr-kr)/Jt}var on=$t.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(or-tn)+","+(jr-un),transform:O(tn,un)}).style("stroke-width",Lt+6+"px").call(k.stroke,"rgba(0,0,0,0)").call(k.fill,"rgba(0,0,0,0)"),Tn,On;I.init({element:on.node(),gd:B,prepFn:function(){var pn=w.getTranslate(Ve);Tn=pn.x,On=pn.y,ie&&ie.autorange&&we(ie._name+".autorange",!0),L&&L.autorange&&we(L._name+".autorange",!0)},moveFn:function(pn,Jn){var Fn=sr(Tn,On),Zr=Fn[0]+pn,dr=Fn[1]+Jn;Ve.call(w.setTranslate,Zr,dr),Be("x",U(ie,pn,"x",ae,E)),Be("y",U(L,Jn,"y",ae,E)),E.axref===E.xref&&Be("ax",U(ie,pn,"ax",ae,E)),E.ayref===E.yref&&Be("ay",U(L,Jn,"ay",ae,E)),$t.attr("transform",O(pn,Jn)),Oe.attr({transform:"rotate("+Y+","+Zr+","+dr+")"})},doneFn:function(){v.call("_guiRelayout",B,pe());var pn=document.querySelector(".js-notes-box-panel");pn&&pn.redraw(pn.selectedObj)}})}}};if(E.showarrow&&Er(0,0),Le){var zt;I.init({element:Ve.node(),gd:B,prepFn:function(){zt=Oe.attr("transform")},moveFn:function(vr,Wn){var Br="pointer";if(E.showarrow)E.axref===E.xref?Be("ax",U(ie,vr,"ax",ae,E)):Be("ax",E.ax+vr),E.ayref===E.yref?Be("ay",U(L,Wn,"ay",ae.w,E)):Be("ay",E.ay+Wn),Er(vr,Wn);else{if(X)return;var kr,or;if(ie)kr=U(ie,vr,"x",ae,E);else{var jr=E._xsize/ae.w,_r=E.x+(E._xshift-E.xshift)/ae.w-jr/2;kr=I.align(_r+vr/ae.w,jr,0,1,E.xanchor)}if(L)or=U(L,Wn,"y",ae,E);else{var Rn=E._ysize/ae.h,xr=E.y-(E._yshift+E.yshift)/ae.h-Rn/2;or=I.align(xr-Wn/ae.h,Rn,0,1,E.yanchor)}Be("x",kr),Be("y",or),(!ie||!L)&&(Br=I.getCursor(ie?.5:kr,L?.5:or,E.xanchor,E.yanchor))}Oe.attr({transform:O(vr,Wn)+zt}),M(Ve,Br)},clickFn:function(vr,Wn){E.captureevents&&B.emit("plotly_clickannotation",De(Wn))},doneFn:function(){M(Ve),v.call("_guiRelayout",B,pe());var vr=document.querySelector(".js-notes-box-panel");vr&&vr.redraw(vr.selectedObj)}})}}q.annotationText?Se.call(R.makeEditable,{delegate:Ve,gd:B}).call(ce).on("edit",function(Qe){E.text=Qe,this.call(ce),Be("text",Qe),ie&&ie.autorange&&we(ie._name+".autorange",!0),L&&L.autorange&&we(L._name+".autorange",!0),v.call("_guiRelayout",B,pe())}):Se.call(ce)}},3011:function(f,h,c){var g=c(9898),v=c(7901),y=c(2884),b=c(1828),O=b.strScale,C=b.strRotate,k=b.strTranslate;f.exports=function(T,R,M){var I=T.node(),V=y[M.arrowhead||0],N=y[M.startarrowhead||0],Q=(M.arrowwidth||1)*(M.arrowsize||1),z=(M.arrowwidth||1)*(M.startarrowsize||1),U=R.indexOf("start")>=0,F=R.indexOf("end")>=0,B=V.backoff*Q+M.standoff,E=N.backoff*z+M.startstandoff,W,X,ie,L;if(I.nodeName==="line"){W={x:+T.attr("x1"),y:+T.attr("y1")},X={x:+T.attr("x2"),y:+T.attr("y2")};var me=W.x-X.x,ae=W.y-X.y;if(ie=Math.atan2(ae,me),L=ie+Math.PI,B&&E&&B+E>Math.sqrt(me*me+ae*ae)){Oe();return}if(B){if(B*B>me*me+ae*ae){Oe();return}var q=B*Math.cos(ie),de=B*Math.sin(ie);X.x+=q,X.y+=de,T.attr({x2:X.x,y2:X.y})}if(E){if(E*E>me*me+ae*ae){Oe();return}var ee=E*Math.cos(ie),xe=E*Math.sin(ie);W.x-=ee,W.y-=xe,T.attr({x1:W.x,y1:W.y})}}else if(I.nodeName==="path"){var we=I.getTotalLength(),Be="";if(we<B+E){Oe();return}var pe=I.getPointAtLength(0),ne=I.getPointAtLength(.1);ie=Math.atan2(pe.y-ne.y,pe.x-ne.x),W=I.getPointAtLength(Math.min(E,we)),Be="0px,"+E+"px,";var le=I.getPointAtLength(we),Y=I.getPointAtLength(we-.1);L=Math.atan2(le.y-Y.y,le.x-Y.x),X=I.getPointAtLength(Math.max(0,we-B));var ve=Be?E+B:B;Be+=we-ve+"px,"+we+"px",T.style("stroke-dasharray",Be)}function Oe(){T.style("stroke-dasharray","0px,100px")}function Le(Ce,De,Ve,_e){Ce.path&&(Ce.noRotate&&(Ve=0),g.select(I.parentNode).append("path").attr({class:T.attr("class"),d:Ce.path,transform:k(De.x,De.y)+C(Ve*180/Math.PI)+O(_e)}).style({fill:v.rgb(M.arrowcolor),"stroke-width":0}))}U&&Le(N,W,ie,z),F&&Le(V,X,L,Q)}},2745:function(f,h,c){var g=c(2605),v=c(4317);f.exports={moduleType:"component",name:"annotations",layoutAttributes:c(215),supplyLayoutDefaults:c(4046),includeBasePlot:c(6325)("annotations"),calcAutorange:c(3749),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:v.hasClickToShow,onClick:v.onClick,convertCoords:c(4128)}},6997:function(f,h,c){var g=c(215),v=c(962).overrideAll,y=c(4467).templatedArray;f.exports=v(y("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},5485:function(f,h,c){var g=c(1828),v=c(9298);f.exports=function(O){for(var C=O.fullSceneLayout,k=C.annotations,w=0;w<k.length;w++)y(k[w],O);O.fullLayout._infolayer.selectAll(".annotation-"+O.id).remove()};function y(b,O){var C=O.fullSceneLayout,k=C.domain,w=O.fullLayout._size,T={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};b._xa={},g.extendFlat(b._xa,T),v.setConvert(b._xa),b._xa._offset=w.l+k.x[0]*w.w,b._xa.l2p=function(){return .5*(1+b._pdata[0]/b._pdata[3])*w.w*(k.x[1]-k.x[0])},b._ya={},g.extendFlat(b._ya,T),v.setConvert(b._ya),b._ya._offset=w.t+(1-k.y[1])*w.h,b._ya.l2p=function(){return .5*(1-b._pdata[1]/b._pdata[3])*w.h*(k.y[1]-k.y[0])}}},226:function(f,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(5625),O=c(6997);f.exports=function(w,T,R){y(w,T,{name:"annotations",handleItemDefaults:C,fullLayout:R.fullLayout})};function C(k,w,T,R){function M(N,Q){return g.coerce(k,w,O,N,Q)}function I(N){var Q=N+"axis",z={_fullLayout:{}};return z._fullLayout[Q]=T[Q],v.coercePosition(w,z,M,N,N,.5)}var V=M("visible");V&&(b(k,w,R.fullLayout,M),I("x"),I("y"),I("z"),g.noneOrAll(k,w,["x","y","z"]),w.xref="x",w.yref="y",w.zref="z",M("xanchor"),M("yanchor"),M("xshift"),M("yshift"),w.showarrow&&(w.axref="pixel",w.ayref="pixel",M("ax",-10),M("ay",-30),g.noneOrAll(k,w,["ax","ay"])))}},2188:function(f,h,c){var g=c(2605).drawRaw,v=c(3538),y=["x","y","z"];f.exports=function(O){for(var C=O.fullSceneLayout,k=O.dataScale,w=C.annotations,T=0;T<w.length;T++){for(var R=w[T],M=!1,I=0;I<3;I++){var V=y[I],N=R[V],Q=C[V+"axis"],z=Q.r2fraction(N);if(z<0||z>1){M=!0;break}}M?O.fullLayout._infolayer.select(".annotation-"+O.id+'[data-index="'+T+'"]').remove():(R._pdata=v(O.glplot.cameraParams,[C.xaxis.r2l(R.x)*k[0],C.yaxis.r2l(R.y)*k[1],C.zaxis.r2l(R.z)*k[2]]),g(O.graphDiv,R,T,O.id,R._xa,R._ya))}}},2468:function(f,h,c){var g=c(3972),v=c(1828);f.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:c(6997)}}},layoutAttributes:c(6997),handleDefaults:c(226),includeBasePlot:y,convert:c(5485),draw:c(2188)};function y(b,O){var C=g.subplotsRegistry.gl3d;if(C)for(var k=C.attrRegex,w=Object.keys(b),T=0;T<w.length;T++){var R=w[T];k.test(R)&&(b[R].annotations||[]).length&&(v.pushUnique(O._basePlotModules,C),v.pushUnique(O._subplots.gl3d,R))}}},7561:function(f,h,c){f.exports=c(3489),c(4338),c(3961),c(8751),c(6825),c(7715),c(9384),c(3805),c(8874),c(3290),c(9108),c(5422),c(4320),c(1320),c(1367),c(1457)},2201:function(f,h,c){var g=c(7561),v=c(1828),y=c(606),b=y.EPOCHJD,O=y.ONEDAY,C={valType:"enumerated",values:v.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},k=function(ie,L,me,ae){var q={};return q[me]=C,v.coerce(ie,L,q,me,ae)},w=function(ie,L,me,ae){for(var q=0;q<me.length;q++)k(ie,L,me[q]+"calendar",ae.calendar)},T={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},R={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},M={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},I="##",V={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:I,w:I,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function N(ie,L,me){for(var ae=Math.floor((L+.05)/O)+b,q=z(me).fromJD(ae),de=0,ee,xe,we,Be,pe;(de=ie.indexOf("%",de))!==-1;)ee=ie.charAt(de+1),ee==="0"||ee==="-"||ee==="_"?(we=3,xe=ie.charAt(de+2),ee==="_"&&(ee="-")):(xe=ee,ee="0",we=2),Be=V[xe],Be?(Be===I?pe=I:pe=q.formatDate(Be[ee]),ie=ie.substr(0,de)+pe+ie.substr(de+we),de+=pe.length):de+=we;return ie}var Q={};function z(ie){var L=Q[ie];return L||(L=Q[ie]=g.instance(ie),L)}function U(ie){return v.extendFlat({},C,{description:ie})}function F(ie){return"Sets the calendar system to use with `"+ie+"` date data."}var B={xcalendar:U(F("x"))},E=v.extendFlat({},B,{ycalendar:U(F("y"))}),W=v.extendFlat({},E,{zcalendar:U(F("z"))}),X=U(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));f.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:E,bar:E,box:E,heatmap:E,contour:E,histogram:E,histogram2d:E,histogram2dcontour:E,scatter3d:W,surface:W,mesh3d:W,scattergl:E,ohlc:B,candlestick:B},layout:{calendar:U(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:X},yaxis:{calendar:X},scene:{xaxis:{calendar:X},yaxis:{calendar:X},zaxis:{calendar:X}},polar:{radialaxis:{calendar:X}}},transforms:{filter:{valuecalendar:U(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:U(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:C,handleDefaults:k,handleTraceDefaults:w,CANONICAL_SUNDAY:R,CANONICAL_TICK:T,DFLTRANGE:M,getCal:z,worldCalFmt:N}},2399:function(f,h){h.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],h.defaultLine="#444",h.lightLine="#eee",h.background="#fff",h.borderLine="#BEC8D9",h.lightFraction=90.9090909090909},7901:function(f,h,c){var g=c(4267),v=c(2770),y=c(3627).isTypedArray,b=f.exports={},O=c(2399);b.defaults=O.defaults;var C=b.defaultLine=O.defaultLine;b.lightLine=O.lightLine;var k=b.background=O.background;b.tinyRGB=function(T){var R=T.toRgb();return"rgb("+Math.round(R.r)+", "+Math.round(R.g)+", "+Math.round(R.b)+")"},b.rgb=function(T){return b.tinyRGB(g(T))},b.opacity=function(T){return T?g(T).getAlpha():0},b.addOpacity=function(T,R){var M=g(T).toRgb();return"rgba("+Math.round(M.r)+", "+Math.round(M.g)+", "+Math.round(M.b)+", "+R+")"},b.combine=function(T,R){var M=g(T).toRgb();if(M.a===1)return g(T).toRgbString();var I=g(R||k).toRgb(),V=I.a===1?I:{r:255*(1-I.a)+I.r*I.a,g:255*(1-I.a)+I.g*I.a,b:255*(1-I.a)+I.b*I.a},N={r:V.r*(1-M.a)+M.r*M.a,g:V.g*(1-M.a)+M.g*M.a,b:V.b*(1-M.a)+M.b*M.a};return g(N).toRgbString()},b.contrast=function(T,R,M){var I=g(T);I.getAlpha()!==1&&(I=g(b.combine(T,k)));var V=I.isDark()?R?I.lighten(R):k:M?I.darken(M):C;return V.toString()},b.stroke=function(T,R){var M=g(R);T.style({stroke:b.tinyRGB(M),"stroke-opacity":M.getAlpha()})},b.fill=function(T,R){var M=g(R);T.style({fill:b.tinyRGB(M),"fill-opacity":M.getAlpha()})},b.clean=function(T){if(!(!T||typeof T!="object")){var R=Object.keys(T),M,I,V,N;for(M=0;M<R.length;M++)if(V=R[M],N=T[V],V.substr(V.length-5)==="color")if(Array.isArray(N))for(I=0;I<N.length;I++)N[I]=w(N[I]);else T[V]=w(N);else if(V.substr(V.length-10)==="colorscale"&&Array.isArray(N))for(I=0;I<N.length;I++)Array.isArray(N[I])&&(N[I][1]=w(N[I][1]));else if(Array.isArray(N)){var Q=N[0];if(!Array.isArray(Q)&&Q&&typeof Q=="object")for(I=0;I<N.length;I++)b.clean(N[I])}else N&&typeof N=="object"&&!y(N)&&b.clean(N)}};function w(T){if(v(T)||typeof T!="string")return T;var R=T.trim();if(R.substr(0,3)!=="rgb")return T;var M=R.match(/^rgba?\s*\(([^()]*)\)$/);if(!M)return T;var I=M[1].trim().split(/\s*[\s,]\s*/),V=R.charAt(3)==="a"&&I.length===4;if(!V&&I.length!==3)return T;for(var N=0;N<I.length;N++){if(!I[N].length||(I[N]=Number(I[N]),!(I[N]>=0)))return T;if(N===3)I[N]>1&&(I[N]=1);else if(I[N]>=1)return T}var Q=Math.round(I[0]*255)+", "+Math.round(I[1]*255)+", "+Math.round(I[2]*255);return V?"rgba("+Q+", "+I[3]+")":"rgb("+Q+")"}},3583:function(f,h,c){var g=c(3838),v=c(1940),y=c(1426).extendFlat,b=c(962).overrideAll;f.exports=b({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:y({},g.ticks,{dflt:""}),ticklabeloverflow:y({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:v({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:v({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:v({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(f){f.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(f,h,c){var g=c(1828),v=c(4467),y=c(6218),b=c(8701),O=c(6115),C=c(9426),k=c(3583);f.exports=function(T,R,M){var I=v.newContainer(R,"colorbar"),V=T.colorbar||{};function N(le,Y){return g.coerce(V,I,k,le,Y)}var Q=M.margin||{t:0,b:0,l:0,r:0},z=M.width-Q.l-Q.r,U=M.height-Q.t-Q.b,F=N("orientation"),B=F==="v",E=N("thicknessmode");N("thickness",E==="fraction"?30/(B?z:U):30);var W=N("lenmode");N("len",W==="fraction"?1:B?U:z);var X=N("yref"),ie=N("xref"),L=X==="paper",me=ie==="paper",ae,q,de,ee="left";B?(de="middle",ee=me?"left":"right",ae=me?1.02:1,q=.5):(de=L?"bottom":"top",ee="center",ae=.5,q=L?1.02:1),g.coerce(V,I,{x:{valType:"number",min:me?-2:0,max:me?3:1,dflt:ae}},"x"),g.coerce(V,I,{y:{valType:"number",min:L?-2:0,max:L?3:1,dflt:q}},"y"),N("xanchor",ee),N("xpad"),N("yanchor",de),N("ypad"),g.noneOrAll(V,I,["x","y"]),N("outlinecolor"),N("outlinewidth"),N("bordercolor"),N("borderwidth"),N("bgcolor");var xe=g.coerce(V,I,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:B?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");N("ticklabeloverflow",xe.indexOf("inside")!==-1?"hide past domain":"hide past div"),y(V,I,N,"linear");var we=M.font,Be={outerTicks:!1,font:we};xe.indexOf("inside")!==-1&&(Be.bgColor="black"),C(V,I,N,"linear",Be),O(V,I,N,"linear",Be),b(V,I,N,"linear",Be),N("title.text",M._dfltTitle.colorbar);var pe=I.showticklabels?I.tickfont:we,ne=g.extendFlat({},pe,{color:we.color,size:g.bigFont(pe.size)});g.coerceFont(N,"title.font",ne),N("title.side",B?"top":"right")}},8981:function(f,h,c){var g=c(9898),v=c(4267),y=c(4875),b=c(3972),O=c(9298),C=c(8569),k=c(1828),w=k.strTranslate,T=c(1426).extendFlat,R=c(6964),M=c(1424),I=c(7901),V=c(2998),N=c(3893),Q=c(2869).flipScale,z=c(1453),U=c(2830),F=c(3838),B=c(8783),E=B.LINE_SPACING,W=B.FROM_TL,X=B.FROM_BR,ie=c(939).cn;function L(xe){var we=xe._fullLayout,Be=we._infolayer.selectAll("g."+ie.colorbar).data(me(xe),function(pe){return pe._id});Be.enter().append("g").attr("class",function(pe){return pe._id}).classed(ie.colorbar,!0),Be.each(function(pe){var ne=g.select(this);k.ensureSingle(ne,"rect",ie.cbbg),k.ensureSingle(ne,"g",ie.cbfills),k.ensureSingle(ne,"g",ie.cblines),k.ensureSingle(ne,"g",ie.cbaxis,function(Y){Y.classed(ie.crisp,!0)}),k.ensureSingle(ne,"g",ie.cbtitleunshift,function(Y){Y.append("g").classed(ie.cbtitle,!0)}),k.ensureSingle(ne,"rect",ie.cboutline);var le=ae(ne,pe,xe);le&&le.then&&(xe._promises||[]).push(le),xe._context.edits.colorbarPosition&&q(ne,pe,xe)}),Be.exit().each(function(pe){y.autoMargin(xe,pe._id)}).remove(),Be.order()}function me(xe){var we=xe._fullLayout,Be=xe.calcdata,pe=[],ne,le,Y,ve;function Oe(fe){return T(fe,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Le(){typeof ve.calc=="function"?ve.calc(xe,Y,ne):(ne._fillgradient=le.reversescale?Q(le.colorscale):le.colorscale,ne._zrange=[le[ve.min],le[ve.max]])}for(var Ce=0;Ce<Be.length;Ce++){var De=Be[Ce];if(Y=De[0].trace,!!Y._module){var Ve=Y._module.colorbar;if(Y.visible===!0&&Ve)for(var _e=Array.isArray(Ve),Ie=_e?Ve:[Ve],re=0;re<Ie.length;re++){ve=Ie[re];var be=ve.container;le=be?Y[be]:Y,le&&le.showscale&&(ne=Oe(le.colorbar),ne._id="cb"+Y.uid+(_e&&be?"-"+be:""),ne._traceIndex=Y.index,ne._propPrefix=(be?be+".":"")+"colorbar.",ne._meta=Y._meta,Le(),pe.push(ne))}}}for(var te in we._colorAxes)if(le=we[te],le.showscale){var se=we._colorAxes[te];ne=Oe(le.colorbar),ne._id="cb"+te,ne._propPrefix=te+".colorbar.",ne._meta=we._meta,ve={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(Y=se[1],ve.calc=Y._module.colorbar.calc),Le(),pe.push(ne)}return pe}function ae(xe,we,Be){var pe=we.orientation==="v",ne=we.len,le=we.lenmode,Y=we.thickness,ve=we.thicknessmode,Oe=we.outlinewidth,Le=we.borderwidth,Ce=we.bgcolor,De=we.xanchor,Ve=we.yanchor,_e=we.xpad,Ie=we.ypad,re=we.x,be=pe?we.y:1-we.y,te=we.yref==="paper",se=we.xref==="paper",fe=Be._fullLayout,oe=fe._size,Se=we._fillcolor,ce=we._line,ke=we.title,Qe=ke.side,Ze=we._zrange||g.extent((typeof Se=="function"?Se:ce.color).domain()),Xe=typeof ce.color=="function"?ce.color:function(){return ce.color},ct=typeof Se=="function"?Se:function(){return Se},pt=we._levels,Ye=de(Be,we,Ze),je=Ye.fill,et=Ye.line,yt=Math.round(Y*(ve==="fraction"?pe?oe.w:oe.h:1)),ft=yt/(pe?oe.w:oe.h),tt=Math.round(ne*(le==="fraction"?pe?oe.h:oe.w:1)),wt=tt/(pe?oe.h:oe.w),Xt=se?oe.w:Be._fullLayout.width,Gt=te?oe.h:Be._fullLayout.height,Nt=Math.round(pe?re*Xt+_e:be*Gt+Ie),Bt={center:.5,right:1}[De]||0,vn={top:1,middle:.5}[Ve]||0,En=pe?re-Bt*ft:be-vn*ft,ln=pe?be-vn*wt:re-Bt*wt,Yn=Math.round(pe?Gt*(1-ln):Xt*ln);we._lenFrac=wt,we._thickFrac=ft,we._uFrac=En,we._vFrac=ln;var an=we._axis=ee(Be,we,Ze);an.position=ft+(pe?re+_e/oe.w:be+Ie/oe.h);var wn=["top","bottom"].indexOf(Qe)!==-1;if(pe&&wn&&(an.title.side=Qe,an.titlex=re+_e/oe.w,an.titley=ln+(ke.side==="top"?wt-Ie/oe.h:Ie/oe.h)),!pe&&!wn&&(an.title.side=Qe,an.titley=be+Ie/oe.h,an.titlex=ln+_e/oe.w),ce.color&&we.tickmode==="auto"){an.tickmode="linear",an.tick0=pt.start;var Xn=pt.size,Un=k.constrain(tt/50,4,15)+1,Sn=(Ze[1]-Ze[0])/((we.nticks||Un)*Xn);if(Sn>1){var lt=Math.pow(10,Math.floor(Math.log(Sn)/Math.LN10));Xn*=lt*k.roundUp(Sn/lt,[2,5,10]),(Math.abs(pt.start)/pt.size+1e-6)%1<2e-6&&(an.tick0=0)}an.dtick=Xn}an.domain=pe?[ln+Ie/oe.h,ln+wt-Ie/oe.h]:[ln+_e/oe.w,ln+wt-_e/oe.w],an.setScale(),xe.attr("transform",w(Math.round(oe.l),Math.round(oe.t)));var ut=xe.select("."+ie.cbtitleunshift).attr("transform",w(-Math.round(oe.l),-Math.round(oe.t))),xt=an.ticklabelposition,gt=an.title.font.size,Dt=xe.select("."+ie.cbaxis),He,at=0,dt=0;function mt(Wt,Rt){var fn={propContainer:an,propName:we._propPrefix+"title",traceIndex:we._traceIndex,_meta:we._meta,placeholder:fe._dfltTitle.colorbar,containerGroup:xe.select("."+ie.cbtitle)},Hn=Wt.charAt(0)==="h"?Wt.substr(1):"h"+Wt;xe.selectAll("."+Hn+",."+Hn+"-math-group").remove(),V.draw(Be,Wt,T(fn,Rt||{}))}function Tt(){if(pe&&wn||!pe&&!wn){var Wt,Rt;Qe==="top"&&(Wt=_e+oe.l+Xt*re,Rt=Ie+oe.t+Gt*(1-ln-wt)+3+gt*.75),Qe==="bottom"&&(Wt=_e+oe.l+Xt*re,Rt=Ie+oe.t+Gt*(1-ln)-3-gt*.25),Qe==="right"&&(Rt=Ie+oe.t+Gt*be+3+gt*.75,Wt=_e+oe.l+Xt*ln),mt(an._id+"title",{attributes:{x:Wt,y:Rt,"text-anchor":pe?"start":"middle"}})}}function Pt(){if(pe&&!wn||!pe&&wn){var Wt=an.position||0,Rt=an._offset+an._length/2,fn,Hn;if(Qe==="right")Hn=Rt,fn=oe.l+Xt*Wt+10+gt*(an.showticklabels?1:.5);else if(fn=Rt,Qe==="bottom"&&(Hn=oe.t+Gt*Wt+10+(xt.indexOf("inside")===-1?an.tickfont.size:0)+(an.ticks!=="intside"&&we.ticklen||0)),Qe==="top"){var nr=ke.text.split("<br>").length;Hn=oe.t+Gt*Wt+10-yt-E*gt*nr}mt((pe?"h":"v")+an._id+"title",{avoid:{selection:g.select(Be).selectAll("g."+an._id+"tick"),side:Qe,offsetTop:pe?0:oe.t,offsetLeft:pe?oe.l:0,maxShift:pe?fe.width:fe.height},attributes:{x:fn,y:Hn,"text-anchor":"middle"},transform:{rotate:pe?-90:0,offset:0}})}}function dn(){if(!pe&&!wn||pe&&wn){var Wt=xe.select("."+ie.cbtitle),Rt=Wt.select("text"),fn=[-Oe/2,Oe/2],Hn=Wt.select(".h"+an._id+"title-math-group").node(),nr=15.6;Rt.node()&&(nr=parseInt(Rt.node().style.fontSize,10)*E);var Er;if(Hn?(Er=M.bBox(Hn),dt=Er.width,at=Er.height,at>nr&&(fn[1]-=(at-nr)/2)):Rt.node()&&!Rt.classed(ie.jsPlaceholder)&&(Er=M.bBox(Rt.node()),dt=Er.width,at=Er.height),pe){if(at){if(at+=5,Qe==="top")an.domain[1]-=at/oe.h,fn[1]*=-1;else{an.domain[0]+=at/oe.h;var zt=N.lineCount(Rt);fn[1]+=(1-zt)*nr}Wt.attr("transform",w(fn[0],fn[1])),an.setScale()}}else dt&&(Qe==="right"&&(an.domain[0]+=(dt+gt/2)/oe.w),Wt.attr("transform",w(fn[0],fn[1])),an.setScale())}xe.selectAll("."+ie.cbfills+",."+ie.cblines).attr("transform",pe?w(0,Math.round(oe.h*(1-an.domain[1]))):w(Math.round(oe.w*an.domain[0]),0)),Dt.attr("transform",pe?w(0,Math.round(-oe.t)):w(Math.round(-oe.l),0));var vr=xe.select("."+ie.cbfills).selectAll("rect."+ie.cbfill).attr("style","").data(je);vr.enter().append("rect").classed(ie.cbfill,!0).attr("style",""),vr.exit().remove();var Wn=Ze.map(an.c2p).map(Math.round).sort(function(_r,Rn){return _r-Rn});vr.each(function(_r,Rn){var xr=[Rn===0?Ze[0]:(je[Rn]+je[Rn-1])/2,Rn===je.length-1?Ze[1]:(je[Rn]+je[Rn+1])/2].map(an.c2p).map(Math.round);pe&&(xr[1]=k.constrain(xr[1]+(xr[1]>xr[0])?1:-1,Wn[0],Wn[1]));var sr=g.select(this).attr(pe?"x":"y",Nt).attr(pe?"y":"x",g.min(xr)).attr(pe?"width":"height",Math.max(yt,2)).attr(pe?"height":"width",Math.max(g.max(xr)-g.min(xr),2));if(we._fillgradient)M.gradient(sr,Be,we._id,pe?"vertical":"horizontalreversed",we._fillgradient,"fill");else{var Sr=ct(_r).replace("e-","");sr.attr("fill",v(Sr).toHexString())}});var Br=xe.select("."+ie.cblines).selectAll("path."+ie.cbline).data(ce.color&&ce.width?et:[]);Br.enter().append("path").classed(ie.cbline,!0),Br.exit().remove(),Br.each(function(_r){var Rn=Nt,xr=Math.round(an.c2p(_r))+ce.width/2%1;g.select(this).attr("d","M"+(pe?Rn+","+xr:xr+","+Rn)+(pe?"h":"v")+yt).call(M.lineGroupStyle,ce.width,Xe(_r),ce.dash)}),Dt.selectAll("g."+an._id+"tick,path").remove();var kr=Nt+yt+(Oe||0)/2-(we.ticks==="outside"?1:0),or=O.calcTicks(an),jr=O.getTickSigns(an)[2];return O.drawTicks(Be,an,{vals:an.ticks==="inside"?O.clipEnds(an,or):or,layer:Dt,path:O.makeTickPath(an,kr,jr),transFn:O.makeTransTickFn(an)}),O.drawLabels(Be,an,{vals:or,layer:Dt,transFn:O.makeTransTickLabelFn(an),labelFns:O.makeLabelFns(an,kr)})}function rn(){var Wt,Rt=yt+Oe/2;xt.indexOf("inside")===-1&&(Wt=M.bBox(Dt.node()),Rt+=pe?Wt.width:Wt.height),He=ut.select("text");var fn=0,Hn=pe&&Qe==="top",nr=!pe&&Qe==="right",Er=0;if(He.node()&&!He.classed(ie.jsPlaceholder)){var zt,vr=ut.select(".h"+an._id+"title-math-group").node();vr&&(pe&&wn||!pe&&!wn)?(Wt=M.bBox(vr),fn=Wt.width,zt=Wt.height):(Wt=M.bBox(ut.node()),fn=Wt.right-oe.l-(pe?Nt:Yn),zt=Wt.bottom-oe.t-(pe?Yn:Nt),!pe&&Qe==="top"&&(Rt+=Wt.height,Er=Wt.height)),nr&&(He.attr("transform",w(fn/2+gt/2,0)),fn*=2),Rt=Math.max(Rt,pe?fn:zt)}var Wn=(pe?_e:Ie)*2+Rt+Le+Oe/2,Br=0;!pe&&ke.text&&Ve==="bottom"&&be<=0&&(Br=Wn/2,Wn+=Br,Er+=Br),fe._hColorbarMoveTitle=Br,fe._hColorbarMoveCBTitle=Er;var kr=Le+Oe,or=(pe?Nt:Yn)-kr/2-(pe?_e:0),jr=(pe?Yn:Nt)-(pe?tt:Ie+Er-Br);xe.select("."+ie.cbbg).attr("x",or).attr("y",jr).attr(pe?"width":"height",Math.max(Wn-Br,2)).attr(pe?"height":"width",Math.max(tt+kr,2)).call(I.fill,Ce).call(I.stroke,we.bordercolor).style("stroke-width",Le);var _r=nr?Math.max(fn-10,0):0;xe.selectAll("."+ie.cboutline).attr("x",(pe?Nt:Yn+_e)+_r).attr("y",(pe?Yn+Ie-tt:Nt)+(Hn?at:0)).attr(pe?"width":"height",Math.max(yt,2)).attr(pe?"height":"width",Math.max(tt-(pe?2*Ie+at:2*_e+_r),2)).call(I.stroke,we.outlinecolor).style({fill:"none","stroke-width":Oe});var Rn=pe?Bt*Wn:0,xr=pe?0:(1-vn)*Wn-Er;if(Rn=se?oe.l-Rn:-Rn,xr=te?oe.t-xr:-xr,xe.attr("transform",w(Rn,xr)),!pe&&(Le||v(Ce).getAlpha()&&!v.equals(fe.paper_bgcolor,Ce))){var sr=Dt.selectAll("text"),Sr=sr[0].length,ao=xe.select("."+ie.cbbg).node(),Oo=M.bBox(ao),wr=M.getTranslate(xe),Fe=2;sr.each(function(un,Jt){var on=0,Tn=Sr-1;if(Jt===on||Jt===Tn){var On=M.bBox(this),pn=M.getTranslate(this),Jn;if(Jt===Tn){var Fn=On.right+pn.x,Zr=Oo.right+wr.x+Yn-Le-Fe+re;Jn=Zr-Fn,Jn>0&&(Jn=0)}else if(Jt===on){var dr=On.left+pn.x,Ur=Oo.left+wr.x+Yn+Le+Fe;Jn=Ur-dr,Jn<0&&(Jn=0)}Jn&&(Sr<3?this.setAttribute("transform","translate("+Jn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ee={},St=W[De],Ct=X[De],Lt=W[Ve],Ft=X[Ve],Ht=Wn-yt;pe?(le==="pixels"?(Ee.y=be,Ee.t=tt*Lt,Ee.b=tt*Ft):(Ee.t=Ee.b=0,Ee.yt=be+ne*Lt,Ee.yb=be-ne*Ft),ve==="pixels"?(Ee.x=re,Ee.l=Wn*St,Ee.r=Wn*Ct):(Ee.l=Ht*St,Ee.r=Ht*Ct,Ee.xl=re-Y*St,Ee.xr=re+Y*Ct)):(le==="pixels"?(Ee.x=re,Ee.l=tt*St,Ee.r=tt*Ct):(Ee.l=Ee.r=0,Ee.xl=re+ne*St,Ee.xr=re-ne*Ct),ve==="pixels"?(Ee.y=1-be,Ee.t=Wn*Lt,Ee.b=Wn*Ft):(Ee.t=Ht*Lt,Ee.b=Ht*Ft,Ee.yt=be-Y*Lt,Ee.yb=be+Y*Ft));var $t=we.y<.5?"b":"t",Mt=we.x<.5?"l":"r";Be._fullLayout._reservedMargin[we._id]={};var tn={r:fe.width-or-Rn,l:or+Ee.r,b:fe.height-jr-xr,t:jr+Ee.b};se&&te?y.autoMargin(Be,we._id,Ee):se?Be._fullLayout._reservedMargin[we._id][$t]=tn[$t]:te||pe?Be._fullLayout._reservedMargin[we._id][Mt]=tn[Mt]:Be._fullLayout._reservedMargin[we._id][$t]=tn[$t]}return k.syncOrAsync([y.previousPromises,Tt,dn,Pt,y.previousPromises,rn],Be)}function q(xe,we,Be){var pe=we.orientation==="v",ne=Be._fullLayout,le=ne._size,Y,ve,Oe;C.init({element:xe.node(),gd:Be,prepFn:function(){Y=xe.attr("transform"),R(xe)},moveFn:function(Le,Ce){xe.attr("transform",Y+w(Le,Ce)),ve=C.align((pe?we._uFrac:we._vFrac)+Le/le.w,pe?we._thickFrac:we._lenFrac,0,1,we.xanchor),Oe=C.align((pe?we._vFrac:1-we._uFrac)-Ce/le.h,pe?we._lenFrac:we._thickFrac,0,1,we.yanchor);var De=C.getCursor(ve,Oe,we.xanchor,we.yanchor);R(xe,De)},doneFn:function(){if(R(xe),ve!==void 0&&Oe!==void 0){var Le={};Le[we._propPrefix+"x"]=ve,Le[we._propPrefix+"y"]=Oe,we._traceIndex!==void 0?b.call("_guiRestyle",Be,Le,we._traceIndex):b.call("_guiRelayout",Be,Le)}}})}function de(xe,we,Be){var pe=we._levels,ne=[],le=[],Y,ve,Oe=pe.end+pe.size/100,Le=pe.size,Ce=1.001*Be[0]-.001*Be[1],De=1.001*Be[1]-.001*Be[0];for(ve=0;ve<1e5&&(Y=pe.start+ve*Le,!(Le>0?Y>=Oe:Y<=Oe));ve++)Y>Ce&&Y<De&&ne.push(Y);if(we._fillgradient)le=[0];else if(typeof we._fillcolor=="function"){var Ve=we._filllevels;if(Ve)for(Oe=Ve.end+Ve.size/100,Le=Ve.size,ve=0;ve<1e5&&(Y=Ve.start+ve*Le,!(Le>0?Y>=Oe:Y<=Oe));ve++)Y>Be[0]&&Y<Be[1]&&le.push(Y);else le=ne.map(function(_e){return _e-pe.size/2}),le.push(le[le.length-1]+pe.size)}else we._fillcolor&&typeof we._fillcolor=="string"&&(le=[0]);return pe.size<0&&(ne.reverse(),le.reverse()),{line:ne,fill:le}}function ee(xe,we,Be){var pe=xe._fullLayout,ne=we.orientation==="v",le={type:"linear",range:Be,tickmode:we.tickmode,nticks:we.nticks,tick0:we.tick0,dtick:we.dtick,tickvals:we.tickvals,ticktext:we.ticktext,ticks:we.ticks,ticklen:we.ticklen,tickwidth:we.tickwidth,tickcolor:we.tickcolor,showticklabels:we.showticklabels,labelalias:we.labelalias,ticklabelposition:we.ticklabelposition,ticklabeloverflow:we.ticklabeloverflow,ticklabelstep:we.ticklabelstep,tickfont:we.tickfont,tickangle:we.tickangle,tickformat:we.tickformat,exponentformat:we.exponentformat,minexponent:we.minexponent,separatethousands:we.separatethousands,showexponent:we.showexponent,showtickprefix:we.showtickprefix,tickprefix:we.tickprefix,showticksuffix:we.showticksuffix,ticksuffix:we.ticksuffix,title:we.title,showline:!0,anchor:"free",side:ne?"right":"bottom",position:1},Y=ne?"y":"x",ve={type:"linear",_id:Y+we._id},Oe={letter:Y,font:pe.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:pe.calendar};function Le(Ce,De){return k.coerce(le,ve,F,Ce,De)}return z(le,ve,Le,Oe,pe),U(le,ve,Le,Oe),ve}f.exports={draw:L}},6228:function(f,h,c){var g=c(1828);f.exports=function(y){return g.isPlainObject(y.colorbar)}},2311:function(f,h,c){f.exports={moduleType:"component",name:"colorbar",attributes:c(3583),supplyDefaults:c(2499),draw:c(8981).draw,hasColorbar:c(6228)}},693:function(f,h,c){var g=c(3583),v=c(587).counter,y=c(8607),b=c(3282).scales;y(b),f.exports=function(C,k){C=C||"",k=k||{};var w=k.cLetter||"c";"onlyIfNumerical"in k&&k.onlyIfNumerical;var T="noScale"in k?k.noScale:C==="marker.line",R="showScaleDflt"in k?k.showScaleDflt:w==="z",M=typeof k.colorscaleDflt=="string"?b[k.colorscaleDflt]:null,I=k.editTypeOverride||"",V;"colorAttr"in k?(V=k.colorAttr,k.colorAttr):V={z:"z",c:"color"}[w];var N=w+"auto",Q=w+"min",z=w+"max",U=w+"mid",F={};F[Q]=F[z]=void 0;var B={};B[N]=!1;var E={};return V==="color"&&(E.color={valType:"color",arrayOk:!0,editType:I||"style"},k.anim&&(E.color.anim=!0)),E[N]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:F},E[Q]={valType:"number",dflt:null,editType:I||"plot",impliedEdits:B},E[z]={valType:"number",dflt:null,editType:I||"plot",impliedEdits:B},E[U]={valType:"number",dflt:null,editType:"calc",impliedEdits:F},E.colorscale={valType:"colorscale",editType:"calc",dflt:M,impliedEdits:{autocolorscale:!1}},E.autocolorscale={valType:"boolean",dflt:k.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},E.reversescale={valType:"boolean",dflt:!1,editType:"plot"},T||(E.showscale={valType:"boolean",dflt:R,editType:"calc"},E.colorbar=g),k.noColorAxis||(E.coloraxis={valType:"subplotid",regex:v("coloraxis"),dflt:null,editType:"calc"}),E}},8803:function(f,h,c){var g=c(2770),v=c(1828),y=c(2869).extractOpts;f.exports=function(O,C,k){var w=O._fullLayout,T=k.vals,R=k.containerStr,M=R?v.nestedProperty(C,R).get():C,I=y(M),V=I.auto!==!1,N=I.min,Q=I.max,z=I.mid,U=function(){return v.aggNums(Math.min,null,T)},F=function(){return v.aggNums(Math.max,null,T)};if(N===void 0?N=U():V&&(M._colorAx&&g(N)?N=Math.min(N,U()):N=U()),Q===void 0?Q=F():V&&(M._colorAx&&g(Q)?Q=Math.max(Q,F()):Q=F()),V&&z!==void 0&&(Q-z>z-N?N=z-(Q-z):Q-z<z-N&&(Q=z+(z-N))),N===Q&&(N-=.5,Q+=.5),I._sync("min",N),I._sync("max",Q),I.autocolorscale){var B;N*Q<0?B=w.colorscale.diverging:N>=0?B=w.colorscale.sequential:B=w.colorscale.sequentialminus,I._sync("colorscale",B)}}},3046:function(f,h,c){var g=c(1828),v=c(2869).hasColorscale,y=c(2869).extractOpts;f.exports=function(O,C){function k(N,Q){var z=N["_"+Q];z!==void 0&&(N[Q]=z)}function w(N,Q){var z=Q.container?g.nestedProperty(N,Q.container).get():N;if(z)if(z.coloraxis)z._colorAx=C[z.coloraxis];else{var U=y(z),F=U.auto;(F||U.min===void 0)&&k(z,Q.min),(F||U.max===void 0)&&k(z,Q.max),U.autocolorscale&&k(z,"colorscale")}}for(var T=0;T<O.length;T++){var R=O[T],M=R._module.colorbar;if(M)if(Array.isArray(M))for(var I=0;I<M.length;I++)w(R,M[I]);else w(R,M);v(R,"marker.line")&&w(R,{container:"marker.line",min:"cmin",max:"cmax"})}for(var V in C._colorAxes)w(C[V],{min:"cmin",max:"cmax"})}},1586:function(f,h,c){var g=c(2770),v=c(1828),y=c(6228),b=c(2499),O=c(3282).isValid,C=c(3972).traceIs;function k(w,T){var R=T.slice(0,T.length-1);return T?v.nestedProperty(w,R).get()||{}:w}f.exports=function w(T,R,M,I,V){var N=V.prefix,Q=V.cLetter,z="_module"in R,U=k(T,N),F=k(R,N),B=k(R._template||{},N)||{},E=function(){return delete T.coloraxis,delete R.coloraxis,w(T,R,M,I,V)};if(z){var W=M._colorAxes||{},X=I(N+"coloraxis");if(X){var ie=C(R,"contour")&&v.nestedProperty(R,"contours.coloring").get()||"heatmap",L=W[X];L?(L[2].push(E),L[0]!==ie&&(L[0]=!1,v.warn(["Ignoring coloraxis:",X,"setting","as it is linked to incompatible colorscales."].join(" ")))):W[X]=[ie,R,[E]];return}}var me=U[Q+"min"],ae=U[Q+"max"],q=g(me)&&g(ae)&&me<ae,de=I(N+Q+"auto",!q);de?I(N+Q+"mid"):(I(N+Q+"min"),I(N+Q+"max"));var ee=U.colorscale,xe=B.colorscale,we;if(ee!==void 0&&(we=!O(ee)),xe!==void 0&&(we=!O(xe)),I(N+"autocolorscale",we),I(N+"colorscale"),I(N+"reversescale"),N!=="marker.line."){var Be;N&&z&&(Be=y(U));var pe=I(N+"showscale",Be);pe&&(N&&B&&(F._template=B),b(U,F,M))}}},2869:function(f,h,c){var g=c(9898),v=c(4267),y=c(2770),b=c(1828),O=c(7901),C=c(3282).isValid;function k(z,U,F){var B=U?b.nestedProperty(z,U).get()||{}:z,E=B[F||"color"],W=!1;if(b.isArrayOrTypedArray(E)){for(var X=0;X<E.length;X++)if(y(E[X])){W=!0;break}}return b.isPlainObject(B)&&(W||B.showscale===!0||y(B.cmin)&&y(B.cmax)||C(B.colorscale)||b.isPlainObject(B.colorbar))}var w=["showscale","autocolorscale","colorscale","reversescale","colorbar"],T=["min","max","mid","auto"];function R(z){var U=z._colorAx,F=U||z,B={},E,W,X;for(W=0;W<w.length;W++)X=w[W],B[X]=F[X];if(U)for(E="c",W=0;W<T.length;W++)X=T[W],B[X]=F["c"+X];else{var ie;for(W=0;W<T.length;W++){if(X=T[W],ie="c"+X,ie in F){B[X]=F[ie];continue}ie="z"+X,ie in F&&(B[X]=F[ie])}E=ie.charAt(0)}return B._sync=function(L,me){var ae=T.indexOf(L)!==-1?E+L:L;F[ae]=F["_"+ae]=me},B}function M(z){for(var U=R(z),F=U.min,B=U.max,E=U.reversescale?I(U.colorscale):U.colorscale,W=E.length,X=new Array(W),ie=new Array(W),L=0;L<W;L++){var me=E[L];X[L]=F+me[0]*(B-F),ie[L]=me[1]}return{domain:X,range:ie}}function I(z){for(var U=z.length,F=new Array(U),B=U-1,E=0;B>=0;B--,E++){var W=z[B];F[E]=[1-W[0],W[1]]}return F}function V(z,U){U=U||{};for(var F=z.domain,B=z.range,E=B.length,W=new Array(E),X=0;X<E;X++){var ie=v(B[X]).toRgb();W[X]=[ie.r,ie.g,ie.b,ie.a]}var L=g.scale.linear().domain(F).range(W).clamp(!0),me=U.noNumericCheck,ae=U.returnArray,q;return me&&ae?q=L:me?q=function(de){return Q(L(de))}:ae?q=function(de){return y(de)?L(de):v(de).isValid()?de:O.defaultLine}:q=function(de){return y(de)?Q(L(de)):v(de).isValid()?de:O.defaultLine},q.domain=L.domain,q.range=function(){return B},q}function N(z,U){return V(M(z),U)}function Q(z){var U={r:z[0],g:z[1],b:z[2],a:z[3]};return v(U).toRgbString()}f.exports={hasColorscale:k,extractOpts:R,extractScale:M,flipScale:I,makeColorScaleFunc:V,makeColorScaleFuncFromTrace:N}},1081:function(f,h,c){var g=c(3282),v=c(2869);f.exports={moduleType:"component",name:"colorscale",attributes:c(693),layoutAttributes:c(2673),supplyLayoutDefaults:c(959),handleDefaults:c(1586),crossTraceDefaults:c(3046),calc:c(8803),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:v.hasColorscale,extractOpts:v.extractOpts,extractScale:v.extractScale,flipScale:v.flipScale,makeColorScaleFunc:v.makeColorScaleFunc,makeColorScaleFuncFromTrace:v.makeColorScaleFuncFromTrace}},2673:function(f,h,c){var g=c(1426).extendFlat,v=c(693),y=c(3282).scales;f.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:y.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:y.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:y.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},v("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(f,h,c){var g=c(1828),v=c(4467),y=c(2673),b=c(1586);f.exports=function(C,k){function w(z,U){return g.coerce(C,k,y,z,U)}w("colorscale.sequential"),w("colorscale.sequentialminus"),w("colorscale.diverging");var T=k._colorAxes,R,M;function I(z,U){return g.coerce(R,M,y.coloraxis,z,U)}for(var V in T){var N=T[V];if(N[0])R=C[V]||{},M=v.newContainer(k,V,"coloraxis"),M._name=V,b(R,M,k,I,{prefix:"",cLetter:"c"});else{for(var Q=0;Q<N[2].length;Q++)N[2][Q]();delete k._colorAxes[V]}}}},3282:function(f,h,c){var g=c(4267),v={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},y=v.RdBu;function b(k,w){if(w||(w=y),!k)return w;function T(){try{k=v[k]||JSON.parse(k)}catch{k=w}}return typeof k=="string"&&(T(),typeof k=="string"&&T()),O(k)?k:w}function O(k){var w=0;if(!Array.isArray(k)||k.length<2||!k[0]||!k[k.length-1]||+k[0][0]!=0||+k[k.length-1][0]!=1)return!1;for(var T=0;T<k.length;T++){var R=k[T];if(R.length!==2||+R[0]<w||!g(R[1]).isValid())return!1;w=+R[0]}return!0}function C(k){return v[k]!==void 0?!0:O(k)}f.exports={scales:v,defaultScale:y,get:b,isValid:C}},2807:function(f){f.exports=function(c,g,v,y,b){var O=(c-v)/(y-v),C=O+g/(y-v),k=(O+C)/2;return b==="left"||b==="bottom"?O:b==="center"||b==="middle"?k:b==="right"||b==="top"?C:O<.6666666666666666-k?O:C>1.3333333333333333-k?C:k}},461:function(f,h,c){var g=c(1828),v=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];f.exports=function(b,O,C,k){return C==="left"?b=0:C==="center"?b=1:C==="right"?b=2:b=g.constrain(Math.floor(b*3),0,2),k==="bottom"?O=0:k==="middle"?O=1:k==="top"?O=2:O=g.constrain(Math.floor(O*3),0,2),v[O][b]}},4505:function(f,h){h.selectMode=function(c){return c==="lasso"||c==="select"},h.drawMode=function(c){return c==="drawclosedpath"||c==="drawopenpath"||c==="drawline"||c==="drawrect"||c==="drawcircle"},h.openMode=function(c){return c==="drawline"||c==="drawopenpath"},h.rectMode=function(c){return c==="select"||c==="drawline"||c==="drawrect"||c==="drawcircle"},h.freeMode=function(c){return c==="lasso"||c==="drawclosedpath"||c==="drawopenpath"},h.selectingOrDrawing=function(c){return h.freeMode(c)||h.rectMode(c)}},8569:function(f,h,c){var g=c(8956),v=c(7035),y=c(8520),b=c(1828).removeElement,O=c(5555),C=f.exports={};C.align=c(2807),C.getCursor=c(461);var k=c(6041);C.unhover=k.wrapped,C.unhoverRaw=k.raw,C.init=function(M){var I=M.gd,V=1,N=I._context.doubleClickDelay,Q=M.element,z,U,F,B,E,W,X,ie;I._mouseDownTime||(I._mouseDownTime=0),Q.style.pointerEvents="all",Q.onmousedown=ae,y?(Q._ontouchstart&&Q.removeEventListener("touchstart",Q._ontouchstart),Q._ontouchstart=ae,Q.addEventListener("touchstart",ae,{passive:!1})):Q.ontouchstart=ae;function L(ee,xe,we){return Math.abs(ee)<we&&(ee=0),Math.abs(xe)<we&&(xe=0),[ee,xe]}var me=M.clampFn||L;function ae(ee){I._dragged=!1,I._dragging=!0;var xe=T(ee);z=xe[0],U=xe[1],X=ee.target,W=ee,ie=ee.buttons===2||ee.ctrlKey,typeof ee.clientX>"u"&&typeof ee.clientY>"u"&&(ee.clientX=z,ee.clientY=U),F=new Date().getTime(),F-I._mouseDownTime<N?V+=1:(V=1,I._mouseDownTime=F),M.prepFn&&M.prepFn(ee,z,U),v&&!ie?(E=w(),E.style.cursor=window.getComputedStyle(Q).cursor):v||(E=document,B=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(Q).cursor),document.addEventListener("mouseup",de),document.addEventListener("touchend",de),M.dragmode!==!1&&(ee.preventDefault(),document.addEventListener("mousemove",q),document.addEventListener("touchmove",q,{passive:!1}))}function q(ee){ee.preventDefault();var xe=T(ee),we=M.minDrag||O.MINDRAG,Be=me(xe[0]-z,xe[1]-U,we),pe=Be[0],ne=Be[1];(pe||ne)&&(I._dragged=!0,C.unhover(I,ee)),I._dragged&&M.moveFn&&!ie&&(I._dragdata={element:Q,dx:pe,dy:ne},M.moveFn(pe,ne))}function de(ee){if(delete I._dragdata,M.dragmode!==!1&&(ee.preventDefault(),document.removeEventListener("mousemove",q),document.removeEventListener("touchmove",q)),document.removeEventListener("mouseup",de),document.removeEventListener("touchend",de),v?b(E):B&&(E.documentElement.style.cursor=B,B=null),!I._dragging){I._dragged=!1;return}if(I._dragging=!1,new Date().getTime()-I._mouseDownTime>N&&(V=Math.max(V-1,1)),I._dragged)M.doneFn&&M.doneFn();else if(M.clickFn&&M.clickFn(V,W),!ie){var xe;try{xe=new MouseEvent("click",ee)}catch{var we=T(ee);xe=document.createEvent("MouseEvents"),xe.initMouseEvent("click",ee.bubbles,ee.cancelable,ee.view,ee.detail,ee.screenX,ee.screenY,we[0],we[1],ee.ctrlKey,ee.altKey,ee.shiftKey,ee.metaKey,ee.button,ee.relatedTarget)}X.dispatchEvent(xe)}I._dragging=!1,I._dragged=!1}};function w(){var R=document.createElement("div");R.className="dragcover";var M=R.style;return M.position="fixed",M.left=0,M.right=0,M.top=0,M.bottom=0,M.zIndex=999999999,M.background="none",document.body.appendChild(R),R}C.coverSlip=w;function T(R){return g(R.changedTouches?R.changedTouches[0]:R,document.body)}},6041:function(f,h,c){var g=c(1086),v=c(9990),y=c(4401).getGraphDiv,b=c(6675),O=f.exports={};O.wrapped=function(C,k,w){C=y(C),C._fullLayout&&v.clear(C._fullLayout._uid+b.HOVERID),O.raw(C,k,w)},O.raw=function(k,w){var T=k._fullLayout,R=k._hoverdata;w||(w={}),!(w.target&&!k._dragged&&g.triggerHandler(k,"plotly_beforehover",w)===!1)&&(T._hoverlayer.selectAll("g").remove(),T._hoverlayer.selectAll("line").remove(),T._hoverlayer.selectAll("circle").remove(),k._hoverdata=void 0,w.target&&R&&k.emit("plotly_unhover",{event:w,points:R}))}},9952:function(f,h){h.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},h.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(f,h,c){var g=c(9898),v=c(1828),y=v.numberFormat,b=c(2770),O=c(4267),C=c(3972),k=c(7901),w=c(1081),T=v.strTranslate,R=c(3893),M=c(7922),I=c(8783),V=I.LINE_SPACING,N=c(7822).DESELECTDIM,Q=c(4098),z=c(9984),U=c(3469).appendArrayPointValue,F=f.exports={};F.font=function(Ye,je,et,yt){v.isPlainObject(je)&&(yt=je.color,et=je.size,je=je.family),je&&Ye.style("font-family",je),et+1&&Ye.style("font-size",et+"px"),yt&&Ye.call(k.fill,yt)},F.setPosition=function(Ye,je,et){Ye.attr("x",je).attr("y",et)},F.setSize=function(Ye,je,et){Ye.attr("width",je).attr("height",et)},F.setRect=function(Ye,je,et,yt,ft){Ye.call(F.setPosition,je,et).call(F.setSize,yt,ft)},F.translatePoint=function(Ye,je,et,yt){var ft=et.c2p(Ye.x),tt=yt.c2p(Ye.y);if(b(ft)&&b(tt)&&je.node())je.node().nodeName==="text"?je.attr("x",ft).attr("y",tt):je.attr("transform",T(ft,tt));else return!1;return!0},F.translatePoints=function(Ye,je,et){Ye.each(function(yt){var ft=g.select(this);F.translatePoint(yt,ft,je,et)})},F.hideOutsideRangePoint=function(Ye,je,et,yt,ft,tt){je.attr("display",et.isPtWithinRange(Ye,ft)&&yt.isPtWithinRange(Ye,tt)?null:"none")},F.hideOutsideRangePoints=function(Ye,je){if(je._hasClipOnAxisFalse){var et=je.xaxis,yt=je.yaxis;Ye.each(function(ft){var tt=ft[0].trace,wt=tt.xcalendar,Xt=tt.ycalendar,Gt=C.traceIs(tt,"bar-like")?".bartext":".point,.textpoint";Ye.selectAll(Gt).each(function(Nt){F.hideOutsideRangePoint(Nt,g.select(this),et,yt,wt,Xt)})})}},F.crispRound=function(Ye,je,et){return!je||!b(je)?et||0:Ye._context.staticPlot?je:je<1?1:Math.round(je)},F.singleLineStyle=function(Ye,je,et,yt,ft){je.style("fill","none");var tt=(((Ye||[])[0]||{}).trace||{}).line||{},wt=et||tt.width||0,Xt=ft||tt.dash||"";k.stroke(je,yt||tt.color),F.dashLine(je,Xt,wt)},F.lineGroupStyle=function(Ye,je,et,yt){Ye.style("fill","none").each(function(ft){var tt=(((ft||[])[0]||{}).trace||{}).line||{},wt=je||tt.width||0,Xt=yt||tt.dash||"";g.select(this).call(k.stroke,et||tt.color).call(F.dashLine,Xt,wt)})},F.dashLine=function(Ye,je,et){et=+et||0,je=F.dashStyle(je,et),Ye.style({"stroke-dasharray":je,"stroke-width":et+"px"})},F.dashStyle=function(Ye,je){je=+je||1;var et=Math.max(je,3);return Ye==="solid"?Ye="":Ye==="dot"?Ye=et+"px,"+et+"px":Ye==="dash"?Ye=3*et+"px,"+3*et+"px":Ye==="longdash"?Ye=5*et+"px,"+5*et+"px":Ye==="dashdot"?Ye=3*et+"px,"+et+"px,"+et+"px,"+et+"px":Ye==="longdashdot"&&(Ye=5*et+"px,"+2*et+"px,"+et+"px,"+2*et+"px"),Ye};function B(Ye,je,et){var yt=je.fillpattern,ft=yt&&F.getPatternAttr(yt.shape,0,"");if(ft){var tt=F.getPatternAttr(yt.bgcolor,0,null),wt=F.getPatternAttr(yt.fgcolor,0,null),Xt=yt.fgopacity,Gt=F.getPatternAttr(yt.size,0,8),Nt=F.getPatternAttr(yt.solidity,0,.3),Bt=je.uid;F.pattern(Ye,"point",et,Bt,ft,Gt,Nt,void 0,yt.fillmode,tt,wt,Xt)}else je.fillcolor&&Ye.call(k.fill,je.fillcolor)}F.singleFillStyle=function(Ye,je){var et=g.select(Ye.node()),yt=et.data(),ft=((yt[0]||[])[0]||{}).trace||{};B(Ye,ft,je)},F.fillGroupStyle=function(Ye,je){Ye.style("stroke-width",0).each(function(et){var yt=g.select(this);et[0].trace&&B(yt,et[0].trace,je)})};var E=c(998);F.symbolNames=[],F.symbolFuncs=[],F.symbolBackOffs=[],F.symbolNeedLines={},F.symbolNoDot={},F.symbolNoFill={},F.symbolList=[],Object.keys(E).forEach(function(Ye){var je=E[Ye],et=je.n;F.symbolList.push(et,String(et),Ye,et+100,String(et+100),Ye+"-open"),F.symbolNames[et]=Ye,F.symbolFuncs[et]=je.f,F.symbolBackOffs[et]=je.backoff||0,je.needLine&&(F.symbolNeedLines[et]=!0),je.noDot?F.symbolNoDot[et]=!0:F.symbolList.push(et+200,String(et+200),Ye+"-dot",et+300,String(et+300),Ye+"-open-dot"),je.noFill&&(F.symbolNoFill[et]=!0)});var W=F.symbolNames.length,X="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";F.symbolNumber=function(Ye){if(b(Ye))Ye=+Ye;else if(typeof Ye=="string"){var je=0;Ye.indexOf("-open")>0&&(je=100,Ye=Ye.replace("-open","")),Ye.indexOf("-dot")>0&&(je+=200,Ye=Ye.replace("-dot","")),Ye=F.symbolNames.indexOf(Ye),Ye>=0&&(Ye+=je)}return Ye%100>=W||Ye>=400?0:Math.floor(Math.max(Ye,0))};function ie(Ye,je,et,yt){var ft=Ye%100;return F.symbolFuncs[ft](je,et,yt)+(Ye>=200?X:"")}var L={x1:1,x2:0,y1:0,y2:0},me={x1:0,x2:0,y1:1,y2:0},ae=y("~f"),q={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:L},horizontalreversed:{node:"linearGradient",attrs:L,reversed:!0},vertical:{node:"linearGradient",attrs:me},verticalreversed:{node:"linearGradient",attrs:me,reversed:!0}};F.gradient=function(Ye,je,et,yt,ft,tt){for(var wt=ft.length,Xt=q[yt],Gt=new Array(wt),Nt=0;Nt<wt;Nt++)Xt.reversed?Gt[wt-1-Nt]=[ae((1-ft[Nt][0])*100),ft[Nt][1]]:Gt[Nt]=[ae(ft[Nt][0]*100),ft[Nt][1]];var Bt=je._fullLayout,vn="g"+Bt._uid+"-"+et,En=Bt._defs.select(".gradients").selectAll("#"+vn).data([yt+Gt.join(";")],v.identity);En.exit().remove(),En.enter().append(Xt.node).each(function(){var ln=g.select(this);Xt.attrs&&ln.attr(Xt.attrs),ln.attr("id",vn);var Yn=ln.selectAll("stop").data(Gt);Yn.exit().remove(),Yn.enter().append("stop"),Yn.each(function(an){var wn=O(an[1]);g.select(this).attr({offset:an[0]+"%","stop-color":k.tinyRGB(wn),"stop-opacity":wn.getAlpha()})})}),Ye.style(tt,Ie(vn,je)).style(tt+"-opacity",null),Ye.classed("gradient_filled",!0)},F.pattern=function(Ye,je,et,yt,ft,tt,wt,Xt,Gt,Nt,Bt,vn){var En=je==="legend";Xt&&(Gt==="overlay"?(Nt=Xt,Bt=k.contrast(Nt)):(Nt=void 0,Bt=Xt));var ln=et._fullLayout,Yn="p"+ln._uid+"-"+yt,an,wn,Xn=function(Tt,Pt,dn,rn,Wt){return rn+(Wt-rn)*(Tt-Pt)/(dn-Pt)},Un,Sn,lt,ut,xt={},gt=O(Bt),Dt=k.tinyRGB(gt),He=gt.getAlpha(),at=vn*He;switch(ft){case"/":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M-"+an/4+","+wn/4+"l"+an/2+",-"+wn/2+"M0,"+wn+"L"+an+",0M"+an/4*3+","+wn/4*5+"l"+an/2+",-"+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"\\":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M"+an/4*3+",-"+wn/4+"l"+an/2+","+wn/2+"M0,0L"+an+","+wn+"M-"+an/4+","+wn/4*3+"l"+an/2+","+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"x":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M-"+an/4+","+wn/4+"l"+an/2+",-"+wn/2+"M0,"+wn+"L"+an+",0M"+an/4*3+","+wn/4*5+"l"+an/2+",-"+wn/2+"M"+an/4*3+",-"+wn/4+"l"+an/2+","+wn/2+"M0,0L"+an+","+wn+"M-"+an/4+","+wn/4*3+"l"+an/2+","+wn/2,Sn=tt-tt*Math.sqrt(1-wt),ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"|":an=tt,wn=tt,ut="path",Un="M"+an/2+",0L"+an/2+","+wn,Sn=wt*tt,ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"-":an=tt,wn=tt,ut="path",Un="M0,"+wn/2+"L"+an+","+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case"+":an=tt,wn=tt,ut="path",Un="M"+an/2+",0L"+an/2+","+wn+"M0,"+wn/2+"L"+an+","+wn/2,Sn=tt-tt*Math.sqrt(1-wt),ut="path",xt={d:Un,opacity:at,stroke:Dt,"stroke-width":Sn+"px"};break;case".":an=tt,wn=tt,wt<Math.PI/4?lt=Math.sqrt(wt*tt*tt/Math.PI):lt=Xn(wt,Math.PI/4,1,tt/2,tt/Math.sqrt(2)),ut="circle",xt={cx:an/2,cy:wn/2,r:lt,opacity:at,fill:Dt};break}var dt=[ft||"noSh",Nt||"noBg",Bt||"noFg",tt,wt].join(";"),mt=ln._defs.select(".patterns").selectAll("#"+Yn).data([dt],v.identity);mt.exit().remove(),mt.enter().append("pattern").each(function(){var Tt=g.select(this);if(Tt.attr({id:Yn,width:an+"px",height:wn+"px",patternUnits:"userSpaceOnUse",patternTransform:En?"scale(0.8)":""}),Nt){var Pt=O(Nt),dn=k.tinyRGB(Pt),rn=Pt.getAlpha(),Wt=Tt.selectAll("rect").data([0]);Wt.exit().remove(),Wt.enter().append("rect").attr({width:an+"px",height:wn+"px",fill:dn,"fill-opacity":rn})}var Rt=Tt.selectAll(ut).data([0]);Rt.exit().remove(),Rt.enter().append(ut).attr(xt)}),Ye.style("fill",Ie(Yn,et)).style("fill-opacity",null),Ye.classed("pattern_filled",!0)},F.initGradients=function(Ye){var je=Ye._fullLayout,et=v.ensureSingle(je._defs,"g","gradients");et.selectAll("linearGradient,radialGradient").remove(),g.select(Ye).selectAll(".gradient_filled").classed("gradient_filled",!1)},F.initPatterns=function(Ye){var je=Ye._fullLayout,et=v.ensureSingle(je._defs,"g","patterns");et.selectAll("pattern").remove(),g.select(Ye).selectAll(".pattern_filled").classed("pattern_filled",!1)},F.getPatternAttr=function(Ye,je,et){return Ye&&v.isArrayOrTypedArray(Ye)?je<Ye.length?Ye[je]:et:Ye},F.pointStyle=function(Ye,je,et,yt){if(Ye.size()){var ft=F.makePointStyleFns(je);Ye.each(function(tt){F.singlePointStyle(tt,g.select(this),je,ft,et,yt)})}},F.singlePointStyle=function(Ye,je,et,yt,ft,tt){var wt=et.marker,Xt=wt.line;if(tt&&tt.i>=0&&Ye.i===void 0&&(Ye.i=tt.i),je.style("opacity",yt.selectedOpacityFn?yt.selectedOpacityFn(Ye):Ye.mo===void 0?wt.opacity:Ye.mo),yt.ms2mrc){var Gt;Ye.ms==="various"||wt.size==="various"?Gt=3:Gt=yt.ms2mrc(Ye.ms),Ye.mrc=Gt,yt.selectedSizeFn&&(Gt=Ye.mrc=yt.selectedSizeFn(Ye));var Nt=F.symbolNumber(Ye.mx||wt.symbol)||0;Ye.om=Nt%200>=100;var Bt=pt(Ye,et),vn=te(Ye,et);je.attr("d",ie(Nt,Gt,Bt,vn))}var En=!1,ln,Yn,an;if(Ye.so)an=Xt.outlierwidth,Yn=Xt.outliercolor,ln=wt.outliercolor;else{var wn=(Xt||{}).width;an=(Ye.mlw+1||wn+1||(Ye.trace?(Ye.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ye?Yn=Ye.mlcc=yt.lineScale(Ye.mlc):v.isArrayOrTypedArray(Xt.color)?Yn=k.defaultLine:Yn=Xt.color,v.isArrayOrTypedArray(wt.color)&&(ln=k.defaultLine,En=!0),"mc"in Ye?ln=Ye.mcc=yt.markerScale(Ye.mc):ln=wt.color||wt.colors||"rgba(0,0,0,0)",yt.selectedColorFn&&(ln=yt.selectedColorFn(Ye))}if(Ye.om)je.call(k.stroke,ln).style({"stroke-width":(an||1)+"px",fill:"none"});else{je.style("stroke-width",(Ye.isBlank?0:an)+"px");var Xn=wt.gradient,Un=Ye.mgt;Un?En=!0:Un=Xn&&Xn.type,v.isArrayOrTypedArray(Un)&&(Un=Un[0],q[Un]||(Un=0));var Sn=wt.pattern,lt=Sn&&F.getPatternAttr(Sn.shape,Ye.i,"");if(Un&&Un!=="none"){var ut=Ye.mgc;ut?En=!0:ut=Xn.color;var xt=et.uid;En&&(xt+="-"+Ye.i),F.gradient(je,ft,xt,Un,[[0,ut],[1,ln]],"fill")}else if(lt){var gt=!1,Dt=Sn.fgcolor;!Dt&&tt&&tt.color&&(Dt=tt.color,gt=!0);var He=F.getPatternAttr(Dt,Ye.i,tt&&tt.color||null),at=F.getPatternAttr(Sn.bgcolor,Ye.i,null),dt=Sn.fgopacity,mt=F.getPatternAttr(Sn.size,Ye.i,8),Tt=F.getPatternAttr(Sn.solidity,Ye.i,.3);gt=gt||Ye.mcc||v.isArrayOrTypedArray(Sn.shape)||v.isArrayOrTypedArray(Sn.bgcolor)||v.isArrayOrTypedArray(Sn.fgcolor)||v.isArrayOrTypedArray(Sn.size)||v.isArrayOrTypedArray(Sn.solidity);var Pt=et.uid;gt&&(Pt+="-"+Ye.i),F.pattern(je,"point",ft,Pt,lt,mt,Tt,Ye.mcc,Sn.fillmode,at,He,dt)}else v.isArrayOrTypedArray(ln)?k.fill(je,ln[Ye.i]):k.fill(je,ln);an&&k.stroke(je,Yn)}},F.makePointStyleFns=function(Ye){var je={},et=Ye.marker;return je.markerScale=F.tryColorscale(et,""),je.lineScale=F.tryColorscale(et,"line"),C.traceIs(Ye,"symbols")&&(je.ms2mrc=Q.isBubble(Ye)?z(Ye):function(){return(et.size||6)/2}),Ye.selectedpoints&&v.extendFlat(je,F.makeSelectedPointStyleFns(Ye)),je},F.makeSelectedPointStyleFns=function(Ye){var je={},et=Ye.selected||{},yt=Ye.unselected||{},ft=Ye.marker||{},tt=et.marker||{},wt=yt.marker||{},Xt=ft.opacity,Gt=tt.opacity,Nt=wt.opacity,Bt=Gt!==void 0,vn=Nt!==void 0;(v.isArrayOrTypedArray(Xt)||Bt||vn)&&(je.selectedOpacityFn=function(lt){var ut=lt.mo===void 0?ft.opacity:lt.mo;return lt.selected?Bt?Gt:ut:vn?Nt:N*ut});var En=ft.color,ln=tt.color,Yn=wt.color;(ln||Yn)&&(je.selectedColorFn=function(lt){var ut=lt.mcc||En;return lt.selected?ln||ut:Yn||ut});var an=ft.size,wn=tt.size,Xn=wt.size,Un=wn!==void 0,Sn=Xn!==void 0;return C.traceIs(Ye,"symbols")&&(Un||Sn)&&(je.selectedSizeFn=function(lt){var ut=lt.mrc||an/2;return lt.selected?Un?wn/2:ut:Sn?Xn/2:ut}),je},F.makeSelectedTextStyleFns=function(Ye){var je={},et=Ye.selected||{},yt=Ye.unselected||{},ft=Ye.textfont||{},tt=et.textfont||{},wt=yt.textfont||{},Xt=ft.color,Gt=tt.color,Nt=wt.color;return je.selectedTextColorFn=function(Bt){var vn=Bt.tc||Xt;return Bt.selected?Gt||vn:Nt||(Gt?vn:k.addOpacity(vn,N))},je},F.selectedPointStyle=function(Ye,je){if(!(!Ye.size()||!je.selectedpoints)){var et=F.makeSelectedPointStyleFns(je),yt=je.marker||{},ft=[];et.selectedOpacityFn&&ft.push(function(tt,wt){tt.style("opacity",et.selectedOpacityFn(wt))}),et.selectedColorFn&&ft.push(function(tt,wt){k.fill(tt,et.selectedColorFn(wt))}),et.selectedSizeFn&&ft.push(function(tt,wt){var Xt=wt.mx||yt.symbol||0,Gt=et.selectedSizeFn(wt);tt.attr("d",ie(F.symbolNumber(Xt),Gt,pt(wt,je),te(wt,je))),wt.mrc2=Gt}),ft.length&&Ye.each(function(tt){for(var wt=g.select(this),Xt=0;Xt<ft.length;Xt++)ft[Xt](wt,tt)})}},F.tryColorscale=function(Ye,je){var et=je?v.nestedProperty(Ye,je).get():Ye;if(et){var yt=et.color;if((et.colorscale||et._colorAx)&&v.isArrayOrTypedArray(yt))return w.makeColorScaleFuncFromTrace(et)}return v.identity};var de={start:1,end:-1,middle:0,bottom:1,top:-1};function ee(Ye,je,et,yt,ft){var tt=g.select(Ye.node().parentNode),wt=je.indexOf("top")!==-1?"top":je.indexOf("bottom")!==-1?"bottom":"middle",Xt=je.indexOf("left")!==-1?"end":je.indexOf("right")!==-1?"start":"middle",Gt=yt?yt/.8+1:0,Nt=(R.lineCount(Ye)-1)*V+1,Bt=de[Xt]*Gt,vn=et*.75+de[wt]*Gt+(de[wt]-1)*Nt*et/2;Ye.attr("text-anchor",Xt),ft||tt.attr("transform",T(Bt,vn))}function xe(Ye,je){var et=Ye.ts||je.textfont.size;return b(et)&&et>0?et:0}F.textPointStyle=function(Ye,je,et){if(Ye.size()){var yt;if(je.selectedpoints){var ft=F.makeSelectedTextStyleFns(je);yt=ft.selectedTextColorFn}var tt=je.texttemplate,wt=et._fullLayout;Ye.each(function(Xt){var Gt=g.select(this),Nt=tt?v.extractOption(Xt,je,"txt","texttemplate"):v.extractOption(Xt,je,"tx","text");if(!Nt&&Nt!==0){Gt.remove();return}if(tt){var Bt=je._module.formatLabels,vn=Bt?Bt(Xt,je,wt):{},En={};U(En,je,Xt.i);var ln=je._meta||{};Nt=v.texttemplateString(Nt,vn,wt._d3locale,En,Xt,ln)}var Yn=Xt.tp||je.textposition,an=xe(Xt,je),wn=yt?yt(Xt):Xt.tc||je.textfont.color;Gt.call(F.font,Xt.tf||je.textfont.family,an,wn).text(Nt).call(R.convertToTspans,et).call(ee,Yn,an,Xt.mrc)})}},F.selectedTextStyle=function(Ye,je){if(!(!Ye.size()||!je.selectedpoints)){var et=F.makeSelectedTextStyleFns(je);Ye.each(function(yt){var ft=g.select(this),tt=et.selectedTextColorFn(yt),wt=yt.tp||je.textposition,Xt=xe(yt,je);k.fill(ft,tt);var Gt=C.traceIs(je,"bar-like");ee(ft,wt,Xt,yt.mrc2||yt.mrc,Gt)})}};var we=.5;F.smoothopen=function(Ye,je){if(Ye.length<3)return"M"+Ye.join("L");var et="M"+Ye[0],yt=[],ft;for(ft=1;ft<Ye.length-1;ft++)yt.push(ve(Ye[ft-1],Ye[ft],Ye[ft+1],je));for(et+="Q"+yt[0][0]+" "+Ye[1],ft=2;ft<Ye.length-1;ft++)et+="C"+yt[ft-2][1]+" "+yt[ft-1][0]+" "+Ye[ft];return et+="Q"+yt[Ye.length-3][1]+" "+Ye[Ye.length-1],et},F.smoothclosed=function(Ye,je){if(Ye.length<3)return"M"+Ye.join("L")+"Z";var et="M"+Ye[0],yt=Ye.length-1,ft=[ve(Ye[yt],Ye[0],Ye[1],je)],tt;for(tt=1;tt<yt;tt++)ft.push(ve(Ye[tt-1],Ye[tt],Ye[tt+1],je));for(ft.push(ve(Ye[yt-1],Ye[yt],Ye[0],je)),tt=1;tt<=yt;tt++)et+="C"+ft[tt-1][1]+" "+ft[tt][0]+" "+Ye[tt];return et+="C"+ft[yt][1]+" "+ft[0][0]+" "+Ye[0]+"Z",et};var Be,pe;function ne(Ye,je,et){return et&&(Ye=Ce(Ye)),je?Y(Ye[1]):le(Ye[0])}function le(Ye){var je=g.round(Ye,2);return Be=je,je}function Y(Ye){var je=g.round(Ye,2);return pe=je,je}function ve(Ye,je,et,yt){var ft=Ye[0]-je[0],tt=Ye[1]-je[1],wt=et[0]-je[0],Xt=et[1]-je[1],Gt=Math.pow(ft*ft+tt*tt,we/2),Nt=Math.pow(wt*wt+Xt*Xt,we/2),Bt=(Nt*Nt*ft-Gt*Gt*wt)*yt,vn=(Nt*Nt*tt-Gt*Gt*Xt)*yt,En=3*Nt*(Gt+Nt),ln=3*Gt*(Gt+Nt);return[[le(je[0]+(En&&Bt/En)),Y(je[1]+(En&&vn/En))],[le(je[0]-(ln&&Bt/ln)),Y(je[1]-(ln&&vn/ln))]]}var Oe={hv:function(Ye,je,et){return"H"+le(je[0])+"V"+ne(je,1,et)},vh:function(Ye,je,et){return"V"+Y(je[1])+"H"+ne(je,0,et)},hvh:function(Ye,je,et){return"H"+le((Ye[0]+je[0])/2)+"V"+Y(je[1])+"H"+ne(je,0,et)},vhv:function(Ye,je,et){return"V"+Y((Ye[1]+je[1])/2)+"H"+le(je[0])+"V"+ne(je,1,et)}},Le=function(Ye,je,et){return"L"+ne(je,0,et)+","+ne(je,1,et)};F.steps=function(Ye){var je=Oe[Ye]||Le;return function(et){for(var yt="M"+le(et[0][0])+","+Y(et[0][1]),ft=et.length,tt=1;tt<ft;tt++)yt+=je(et[tt-1],et[tt],tt===ft-1);return yt}};function Ce(Ye,je){var et=Ye.backoff,yt=Ye.trace,ft=Ye.d,tt=Ye.i;if(et&&yt&&yt.marker&&yt.marker.angle%360===0&&yt.line&&yt.line.shape!=="spline"){var wt=v.isArrayOrTypedArray(et),Xt=Ye,Gt=je?je[0]:Be||0,Nt=je?je[1]:pe||0,Bt=Xt[0],vn=Xt[1],En=Bt-Gt,ln=vn-Nt,Yn=Math.atan2(ln,En),an=wt?et[tt]:et;if(an==="auto"){var wn=Xt.i;yt.type==="scatter"&&wn--;var Xn=Xt.marker,Un=Xn.symbol;v.isArrayOrTypedArray(Un)&&(Un=Un[wn]);var Sn=Xn.size;v.isArrayOrTypedArray(Sn)&&(Sn=Sn[wn]),an=Xn?F.symbolBackOffs[F.symbolNumber(Un)]*Sn:0,an+=F.getMarkerStandoff(ft[wn],yt)||0}var lt=Bt-an*Math.cos(Yn),ut=vn-an*Math.sin(Yn);(lt<=Bt&&lt>=Gt||lt>=Bt&&lt<=Gt)&&(ut<=vn&&ut>=Nt||ut>=vn&&ut<=Nt)&&(Ye=[lt,ut])}return Ye}F.applyBackoff=Ce,F.makeTester=function(){var Ye=v.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(et){et.attr(M.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),je=v.ensureSingle(Ye,"path","js-reference-point",function(et){et.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});F.tester=Ye,F.testref=je},F.savedBBoxes={};var De=0,Ve=1e4;F.bBox=function(Ye,je,et){et||(et=_e(Ye));var yt;if(et){if(yt=F.savedBBoxes[et],yt)return v.extendFlat({},yt)}else if(Ye.childNodes.length===1){var ft=Ye.childNodes[0];if(et=_e(ft),et){var tt=+ft.getAttribute("x")||0,wt=+ft.getAttribute("y")||0,Xt=ft.getAttribute("transform");if(!Xt){var Gt=F.bBox(ft,!1,et);return tt&&(Gt.left+=tt,Gt.right+=tt),wt&&(Gt.top+=wt,Gt.bottom+=wt),Gt}if(et+="~"+tt+"~"+wt+"~"+Xt,yt=F.savedBBoxes[et],yt)return v.extendFlat({},yt)}}var Nt,Bt;je?Nt=Ye:(Bt=F.tester.node(),Nt=Ye.cloneNode(!0),Bt.appendChild(Nt)),g.select(Nt).attr("transform",null).call(R.positionText,0,0);var vn=Nt.getBoundingClientRect(),En=F.testref.node().getBoundingClientRect();je||Bt.removeChild(Nt);var ln={height:vn.height,width:vn.width,left:vn.left-En.left,top:vn.top-En.top,right:vn.right-En.left,bottom:vn.bottom-En.top};return De>=Ve&&(F.savedBBoxes={},De=0),et&&(F.savedBBoxes[et]=ln),De++,v.extendFlat({},ln)};function _e(Ye){var je=Ye.getAttribute("data-unformatted");if(je!==null)return je+Ye.getAttribute("data-math")+Ye.getAttribute("text-anchor")+Ye.getAttribute("style")}F.setClipUrl=function(Ye,je,et){Ye.attr("clip-path",Ie(je,et))};function Ie(Ye,je){if(!Ye)return null;var et=je._context,yt=et._exportedPlot?"":et._baseUrl||"";return yt?"url('"+yt+"#"+Ye+"')":"url(#"+Ye+")"}F.getTranslate=function(Ye){var je=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,et=Ye.attr?"attr":"getAttribute",yt=Ye[et]("transform")||"",ft=yt.replace(je,function(tt,wt,Xt){return[wt,Xt].join(" ")}).split(" ");return{x:+ft[0]||0,y:+ft[1]||0}},F.setTranslate=function(Ye,je,et){var yt=/(\btranslate\(.*?\);?)/,ft=Ye.attr?"attr":"getAttribute",tt=Ye.attr?"attr":"setAttribute",wt=Ye[ft]("transform")||"";return je=je||0,et=et||0,wt=wt.replace(yt,"").trim(),wt+=T(je,et),wt=wt.trim(),Ye[tt]("transform",wt),wt},F.getScale=function(Ye){var je=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,et=Ye.attr?"attr":"getAttribute",yt=Ye[et]("transform")||"",ft=yt.replace(je,function(tt,wt,Xt){return[wt,Xt].join(" ")}).split(" ");return{x:+ft[0]||1,y:+ft[1]||1}},F.setScale=function(Ye,je,et){var yt=/(\bscale\(.*?\);?)/,ft=Ye.attr?"attr":"getAttribute",tt=Ye.attr?"attr":"setAttribute",wt=Ye[ft]("transform")||"";return je=je||1,et=et||1,wt=wt.replace(yt,"").trim(),wt+="scale("+je+","+et+")",wt=wt.trim(),Ye[tt]("transform",wt),wt};var re=/\s*sc.*/;F.setPointGroupScale=function(Ye,je,et){if(je=je||1,et=et||1,!!Ye){var yt=je===1&&et===1?"":"scale("+je+","+et+")";Ye.each(function(){var ft=(this.getAttribute("transform")||"").replace(re,"");ft+=yt,ft=ft.trim(),this.setAttribute("transform",ft)})}};var be=/translate\([^)]*\)\s*$/;F.setTextPointsScale=function(Ye,je,et){Ye&&Ye.each(function(){var yt,ft=g.select(this),tt=ft.select("text");if(tt.node()){var wt=parseFloat(tt.attr("x")||0),Xt=parseFloat(tt.attr("y")||0),Gt=(ft.attr("transform")||"").match(be);je===1&&et===1?yt=[]:yt=[T(wt,Xt),"scale("+je+","+et+")",T(-wt,-Xt)],Gt&&yt.push(Gt),ft.attr("transform",yt.join(""))}})};function te(Ye,je){var et;return Ye&&(et=Ye.mf),et===void 0&&(et=je.marker&&je.marker.standoff||0),!je._geo&&!je._xA?-et:et}F.getMarkerStandoff=te;var se=Math.atan2,fe=Math.cos,oe=Math.sin;function Se(Ye,je){var et=je[0],yt=je[1];return[et*fe(Ye)-yt*oe(Ye),et*oe(Ye)+yt*fe(Ye)]}var ce,ke,Qe,Ze,Xe,ct;function pt(Ye,je){var et=Ye.ma;et===void 0&&(et=je.marker.angle||0);var yt,ft,tt=je.marker.angleref;if(tt==="previous"||tt==="north"){if(je._geo){var wt=je._geo.project(Ye.lonlat);yt=wt[0],ft=wt[1]}else{var Xt=je._xA,Gt=je._yA;if(Xt&&Gt)yt=Xt.c2p(Ye.x),ft=Gt.c2p(Ye.y);else return 90}if(je._geo){var Nt=Ye.lonlat[0],Bt=Ye.lonlat[1],vn=je._geo.project([Nt,Bt+1e-5]),En=je._geo.project([Nt+1e-5,Bt]),ln=se(En[1]-ft,En[0]-yt),Yn=se(vn[1]-ft,vn[0]-yt),an;if(tt==="north")an=et/180*Math.PI;else if(tt==="previous"){var wn=Nt/180*Math.PI,Xn=Bt/180*Math.PI,Un=ce/180*Math.PI,Sn=ke/180*Math.PI,lt=Un-wn,ut=fe(Sn)*oe(lt),xt=oe(Sn)*fe(Xn)-fe(Sn)*oe(Xn)*fe(lt);an=-se(ut,xt)-Math.PI,ce=Nt,ke=Bt}var gt=Se(ln,[fe(an),0]),Dt=Se(Yn,[oe(an),0]);et=se(gt[1]+Dt[1],gt[0]+Dt[0])/Math.PI*180,tt==="previous"&&!(ct===je.uid&&Ye.i===Xe+1)&&(et=null)}if(tt==="previous"&&!je._geo)if(ct===je.uid&&Ye.i===Xe+1&&b(yt)&&b(ft)){var He=yt-Qe,at=ft-Ze,dt=je.line&&je.line.shape||"",mt=dt.slice(dt.length-1);mt==="h"&&(at=0),mt==="v"&&(He=0),et+=se(at,He)/Math.PI*180+90}else et=null}return Qe=yt,Ze=ft,Xe=Ye.i,ct=je.uid,et}F.getMarkerAngle=pt},998:function(f,h,c){var g=c(5616),v=c(9898).round,y="M0,0Z",b=Math.sqrt(2),O=Math.sqrt(3),C=Math.PI,k=Math.cos,w=Math.sin;f.exports={circle:{n:0,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2),B="M"+F+",0A"+F+","+F+" 0 1,1 0,-"+F+"A"+F+","+F+" 0 0,1 "+F+",0Z";return U?N(z,U,B):B}},square:{n:1,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"H-"+F+"V-"+F+"H"+F+"Z")}},diamond:{n:2,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.3,2);return N(z,U,"M"+F+",0L0,"+F+"L-"+F+",0L0,-"+F+"Z")}},cross:{n:3,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.4,2),B=v(Q*1.2,2);return N(z,U,"M"+B+","+F+"H"+F+"V"+B+"H-"+F+"V"+F+"H-"+B+"V-"+F+"H-"+F+"V-"+B+"H"+F+"V-"+F+"H"+B+"Z")}},x:{n:4,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.8/b,2),B="l"+F+","+F,E="l"+F+",-"+F,W="l-"+F+",-"+F,X="l-"+F+","+F;return N(z,U,"M0,"+F+B+E+W+E+W+X+W+X+B+X+B+"Z")}},"triangle-up":{n:5,f:function(Q,z,U){if(T(z))return y;var F=v(Q*2/O,2),B=v(Q/2,2),E=v(Q,2);return N(z,U,"M-"+F+","+B+"H"+F+"L0,-"+E+"Z")}},"triangle-down":{n:6,f:function(Q,z,U){if(T(z))return y;var F=v(Q*2/O,2),B=v(Q/2,2),E=v(Q,2);return N(z,U,"M-"+F+",-"+B+"H"+F+"L0,"+E+"Z")}},"triangle-left":{n:7,f:function(Q,z,U){if(T(z))return y;var F=v(Q*2/O,2),B=v(Q/2,2),E=v(Q,2);return N(z,U,"M"+B+",-"+F+"V"+F+"L-"+E+",0Z")}},"triangle-right":{n:8,f:function(Q,z,U){if(T(z))return y;var F=v(Q*2/O,2),B=v(Q/2,2),E=v(Q,2);return N(z,U,"M-"+B+",-"+F+"V"+F+"L"+E+",0Z")}},"triangle-ne":{n:9,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.6,2),B=v(Q*1.2,2);return N(z,U,"M-"+B+",-"+F+"H"+F+"V"+B+"Z")}},"triangle-se":{n:10,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.6,2),B=v(Q*1.2,2);return N(z,U,"M"+F+",-"+B+"V"+F+"H-"+B+"Z")}},"triangle-sw":{n:11,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.6,2),B=v(Q*1.2,2);return N(z,U,"M"+B+","+F+"H-"+F+"V-"+B+"Z")}},"triangle-nw":{n:12,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.6,2),B=v(Q*1.2,2);return N(z,U,"M-"+F+","+B+"V-"+F+"H"+B+"Z")}},pentagon:{n:13,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.951,2),B=v(Q*.588,2),E=v(-Q,2),W=v(Q*-.309,2),X=v(Q*.809,2);return N(z,U,"M"+F+","+W+"L"+B+","+X+"H-"+B+"L-"+F+","+W+"L0,"+E+"Z")}},hexagon:{n:14,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2),B=v(Q/2,2),E=v(Q*O/2,2);return N(z,U,"M"+E+",-"+B+"V"+B+"L0,"+F+"L-"+E+","+B+"V-"+B+"L0,-"+F+"Z")}},hexagon2:{n:15,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2),B=v(Q/2,2),E=v(Q*O/2,2);return N(z,U,"M-"+B+","+E+"H"+B+"L"+F+",0L"+B+",-"+E+"H-"+B+"L-"+F+",0Z")}},octagon:{n:16,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.924,2),B=v(Q*.383,2);return N(z,U,"M-"+B+",-"+F+"H"+B+"L"+F+",-"+B+"V"+B+"L"+B+","+F+"H-"+B+"L-"+F+","+B+"V-"+B+"Z")}},star:{n:17,f:function(Q,z,U){if(T(z))return y;var F=Q*1.4,B=v(F*.225,2),E=v(F*.951,2),W=v(F*.363,2),X=v(F*.588,2),ie=v(-F,2),L=v(F*-.309,2),me=v(F*.118,2),ae=v(F*.809,2),q=v(F*.382,2);return N(z,U,"M"+B+","+L+"H"+E+"L"+W+","+me+"L"+X+","+ae+"L0,"+q+"L-"+X+","+ae+"L-"+W+","+me+"L-"+E+","+L+"H-"+B+"L0,"+ie+"Z")}},hexagram:{n:18,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.66,2),B=v(Q*.38,2),E=v(Q*.76,2);return N(z,U,"M-"+E+",0l-"+B+",-"+F+"h"+E+"l"+B+",-"+F+"l"+B+","+F+"h"+E+"l-"+B+","+F+"l"+B+","+F+"h-"+E+"l-"+B+","+F+"l-"+B+",-"+F+"h-"+E+"Z")}},"star-triangle-up":{n:19,f:function(Q,z,U){if(T(z))return y;var F=v(Q*O*.8,2),B=v(Q*.8,2),E=v(Q*1.6,2),W=v(Q*4,2),X="A "+W+","+W+" 0 0 1 ";return N(z,U,"M-"+F+","+B+X+F+","+B+X+"0,-"+E+X+"-"+F+","+B+"Z")}},"star-triangle-down":{n:20,f:function(Q,z,U){if(T(z))return y;var F=v(Q*O*.8,2),B=v(Q*.8,2),E=v(Q*1.6,2),W=v(Q*4,2),X="A "+W+","+W+" 0 0 1 ";return N(z,U,"M"+F+",-"+B+X+"-"+F+",-"+B+X+"0,"+E+X+F+",-"+B+"Z")}},"star-square":{n:21,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.1,2),B=v(Q*2,2),E="A "+B+","+B+" 0 0 1 ";return N(z,U,"M-"+F+",-"+F+E+"-"+F+","+F+E+F+","+F+E+F+",-"+F+E+"-"+F+",-"+F+"Z")}},"star-diamond":{n:22,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.4,2),B=v(Q*1.9,2),E="A "+B+","+B+" 0 0 1 ";return N(z,U,"M-"+F+",0"+E+"0,"+F+E+F+",0"+E+"0,-"+F+E+"-"+F+",0Z")}},"diamond-tall":{n:23,f:function(Q,z,U){if(T(z))return y;var F=v(Q*.7,2),B=v(Q*1.4,2);return N(z,U,"M0,"+B+"L"+F+",0L0,-"+B+"L-"+F+",0Z")}},"diamond-wide":{n:24,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.4,2),B=v(Q*.7,2);return N(z,U,"M0,"+B+"L"+F+",0L0,-"+B+"L-"+F+",0Z")}},hourglass:{n:25,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"H-"+F+"L"+F+",-"+F+"H-"+F+"Z")},noDot:!0},bowtie:{n:26,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"V-"+F+"L-"+F+","+F+"V-"+F+"Z")},noDot:!0},"circle-cross":{n:27,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M0,"+F+"V-"+F+"M"+F+",0H-"+F+"M"+F+",0A"+F+","+F+" 0 1,1 0,-"+F+"A"+F+","+F+" 0 0,1 "+F+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2),B=v(Q/b,2);return N(z,U,"M"+B+","+B+"L-"+B+",-"+B+"M"+B+",-"+B+"L-"+B+","+B+"M"+F+",0A"+F+","+F+" 0 1,1 0,-"+F+"A"+F+","+F+" 0 0,1 "+F+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M0,"+F+"V-"+F+"M"+F+",0H-"+F+"M"+F+","+F+"H-"+F+"V-"+F+"H"+F+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"L-"+F+",-"+F+"M"+F+",-"+F+"L-"+F+","+F+"M"+F+","+F+"H-"+F+"V-"+F+"H"+F+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.3,2);return N(z,U,"M"+F+",0L0,"+F+"L-"+F+",0L0,-"+F+"ZM0,-"+F+"V"+F+"M-"+F+",0H"+F)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.3,2),B=v(Q*.65,2);return N(z,U,"M"+F+",0L0,"+F+"L-"+F+",0L0,-"+F+"ZM-"+B+",-"+B+"L"+B+","+B+"M-"+B+","+B+"L"+B+",-"+B)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.4,2);return N(z,U,"M0,"+F+"V-"+F+"M"+F+",0H-"+F)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"L-"+F+",-"+F+"M"+F+",-"+F+"L-"+F+","+F)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.2,2),B=v(Q*.85,2);return N(z,U,"M0,"+F+"V-"+F+"M"+F+",0H-"+F+"M"+B+","+B+"L-"+B+",-"+B+"M"+B+",-"+B+"L-"+B+","+B)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(Q,z,U){if(T(z))return y;var F=v(Q/2,2),B=v(Q,2);return N(z,U,"M"+F+","+B+"V-"+B+"M"+(F-B)+",-"+B+"V"+B+"M"+B+","+F+"H-"+B+"M-"+B+","+(F-B)+"H"+B)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.2,2),B=v(Q*1.6,2),E=v(Q*.8,2);return N(z,U,"M-"+F+","+E+"L0,0M"+F+","+E+"L0,0M0,-"+B+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.2,2),B=v(Q*1.6,2),E=v(Q*.8,2);return N(z,U,"M-"+F+",-"+E+"L0,0M"+F+",-"+E+"L0,0M0,"+B+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.2,2),B=v(Q*1.6,2),E=v(Q*.8,2);return N(z,U,"M"+E+","+F+"L0,0M"+E+",-"+F+"L0,0M-"+B+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.2,2),B=v(Q*1.6,2),E=v(Q*.8,2);return N(z,U,"M-"+E+","+F+"L0,0M-"+E+",-"+F+"L0,0M"+B+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.4,2);return N(z,U,"M"+F+",0H-"+F)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(Q,z,U){if(T(z))return y;var F=v(Q*1.4,2);return N(z,U,"M0,"+F+"V-"+F)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M"+F+",-"+F+"L-"+F+","+F)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"L-"+F+",-"+F)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2),B=v(Q*2,2);return N(z,U,"M0,0L-"+F+","+B+"H"+F+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2),B=v(Q*2,2);return N(z,U,"M0,0L-"+F+",-"+B+"H"+F+"Z")},noDot:!0},"arrow-left":{n:47,f:function(Q,z,U){if(T(z))return y;var F=v(Q*2,2),B=v(Q,2);return N(z,U,"M0,0L"+F+",-"+B+"V"+B+"Z")},noDot:!0},"arrow-right":{n:48,f:function(Q,z,U){if(T(z))return y;var F=v(Q*2,2),B=v(Q,2);return N(z,U,"M0,0L-"+F+",-"+B+"V"+B+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2),B=v(Q*2,2);return N(z,U,"M-"+F+",0H"+F+"M0,0L-"+F+","+B+"H"+F+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(Q,z,U){if(T(z))return y;var F=v(Q,2),B=v(Q*2,2);return N(z,U,"M-"+F+",0H"+F+"M0,0L-"+F+",-"+B+"H"+F+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(Q,z,U){if(T(z))return y;var F=v(Q*2,2),B=v(Q,2);return N(z,U,"M0,-"+B+"V"+B+"M0,0L"+F+",-"+B+"V"+B+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(Q,z,U){if(T(z))return y;var F=v(Q*2,2),B=v(Q,2);return N(z,U,"M0,-"+B+"V"+B+"M0,0L-"+F+",-"+B+"V"+B+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(Q,z,U){if(T(z))return y;var F=C/2.5,B=2*Q*k(F),E=2*Q*w(F);return N(z,U,"M0,0L"+-B+","+E+"L"+B+","+E+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(Q,z,U){if(T(z))return y;var F=C/4,B=2*Q*k(F),E=2*Q*w(F);return N(z,U,"M0,0L"+-B+","+E+"A "+2*Q+","+2*Q+" 0 0 1 "+B+","+E+"Z")},backoff:.4,noDot:!0}};function T(Q){return Q===null}var R,M,I,V;function N(Q,z,U){if((!Q||Q%360===0)&&!z)return U;if(I===Q&&V===z&&R===U)return M;I=Q,V=z,R=U;function F(we,Be){var pe=k(we),ne=w(we),le=Be[0],Y=Be[1]+(z||0);return[le*pe-Y*ne,le*ne+Y*pe]}for(var B=Q/180*C,E=0,W=0,X=g(U),ie="",L=0;L<X.length;L++){var me=X[L],ae=me[0],q=E,de=W;if(ae==="M"||ae==="L")E=+me[1],W=+me[2];else if(ae==="m"||ae==="l")E+=+me[1],W+=+me[2];else if(ae==="H")E=+me[1];else if(ae==="h")E+=+me[1];else if(ae==="V")W=+me[1];else if(ae==="v")W+=+me[1];else if(ae==="A"){E=+me[1],W=+me[2];var ee=F(B,[+me[6],+me[7]]);me[6]=ee[0],me[7]=ee[1],me[3]=+me[3]+Q}(ae==="H"||ae==="V")&&(ae="L"),(ae==="h"||ae==="v")&&(ae="l"),(ae==="m"||ae==="l")&&(E-=q,W-=de);var xe=F(B,[E,W]);(ae==="H"||ae==="V")&&(ae="L"),(ae==="M"||ae==="L"||ae==="m"||ae==="l")&&(me[1]=xe[0],me[2]=xe[1]),me[0]=ae,ie+=me[0]+me.slice(1).join(",")}return M=ie,ie}},5673:function(f){f.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(f,h,c){var g=c(2770),v=c(3972),y=c(9298),b=c(1828),O=c(5827);f.exports=function(w){for(var T=w.calcdata,R=0;R<T.length;R++){var M=T[R],I=M[0].trace;if(I.visible===!0&&v.traceIs(I,"errorBarsOK")){var V=y.getFromId(w,I.xaxis),N=y.getFromId(w,I.yaxis);C(M,I,V,"x"),C(M,I,N,"y")}}};function C(k,w,T,R){var M=w["error_"+R]||{},I=M.visible&&["linear","log"].indexOf(T.type)!==-1,V=[];if(I){for(var N=O(M),Q=0;Q<k.length;Q++){var z=k[Q],U=z.i;if(U===void 0)U=Q;else if(U===null)continue;var F=z[R];if(g(T.c2l(F))){var B=N(F,U);if(g(B[0])&&g(B[1])){var E=z[R+"s"]=F-B[0],W=z[R+"h"]=F+B[1];V.push(E,W)}}}var X=T._id,ie=w._extremes[X],L=y.findExtremes(T,V,b.extendFlat({tozero:ie.opts.tozero},{padded:!0}));ie.min=ie.min.concat(L.min),ie.max=ie.max.concat(L.max)}}},5827:function(f){f.exports=function(g){var v=g.type,y=g.symmetric;if(v==="data"){var b=g.array||[];if(y)return function(T,R){var M=+b[R];return[M,M]};var O=g.arrayminus||[];return function(T,R){var M=+b[R],I=+O[R];return!isNaN(M)||!isNaN(I)?[I||0,M||0]:[NaN,NaN]}}else{var C=h(v,g.value),k=h(v,g.valueminus);return y||g.valueminus===void 0?function(T){var R=C(T);return[R,R]}:function(T){return[k(T),C(T)]}}};function h(c,g){if(c==="percent")return function(v){return Math.abs(v*g/100)};if(c==="constant")return function(){return Math.abs(g)};if(c==="sqrt")return function(v){return Math.sqrt(Math.abs(v))}}},7587:function(f,h,c){var g=c(2770),v=c(3972),y=c(1828),b=c(4467),O=c(5673);f.exports=function(C,k,w,T){var R="error_"+T.axis,M=b.newContainer(k,R),I=C[R]||{};function V(E,W){return y.coerce(I,M,O,E,W)}var N=I.array!==void 0||I.value!==void 0||I.type==="sqrt",Q=V("visible",N);if(Q!==!1){var z=V("type","array"in I?"data":"percent"),U=!0;z!=="sqrt"&&(U=V("symmetric",!((z==="data"?"arrayminus":"valueminus")in I))),z==="data"?(V("array"),V("traceref"),U||(V("arrayminus"),V("tracerefminus"))):(z==="percent"||z==="constant")&&(V("value"),U||V("valueminus"));var F="copy_"+T.inherit+"style";if(T.inherit){var B=k["error_"+T.inherit];(B||{}).visible&&V(F,!(I.color||g(I.thickness)||g(I.width)))}(!T.inherit||!M[F])&&(V("color",w),V("thickness"),V("width",v.traceIs(k,"gl3d")?0:4))}}},7369:function(f,h,c){var g=c(1828),v=c(962).overrideAll,y=c(5673),b={error_x:g.extendFlat({},y),error_y:g.extendFlat({},y)};delete b.error_x.copy_zstyle,delete b.error_y.copy_zstyle,delete b.error_y.copy_ystyle;var O={error_x:g.extendFlat({},y),error_y:g.extendFlat({},y),error_z:g.extendFlat({},y)};delete O.error_x.copy_ystyle,delete O.error_y.copy_ystyle,delete O.error_z.copy_ystyle,delete O.error_z.copy_zstyle,f.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:b,bar:b,histogram:b,scatter3d:v(O,"calc","nested"),scattergl:v(b,"calc","nested")}},supplyDefaults:c(7587),calc:c(4532),makeComputeError:c(5827),plot:c(9398),style:c(2662),hoverInfo:C};function C(k,w,T){(w.error_y||{}).visible&&(T.yerr=k.yh-k.y,w.error_y.symmetric||(T.yerrneg=k.y-k.ys)),(w.error_x||{}).visible&&(T.xerr=k.xh-k.x,w.error_x.symmetric||(T.xerrneg=k.x-k.xs))}},9398:function(f,h,c){var g=c(9898),v=c(2770),y=c(1424),b=c(4098);f.exports=function(k,w,T,R){var M,I=T.xaxis,V=T.yaxis,N=R&&R.duration>0,Q=k._context.staticPlot;w.each(function(z){var U=z[0].trace,F=U.error_x||{},B=U.error_y||{},E;U.ids&&(E=function(L){return L.id});var W=b.hasMarkers(U)&&U.marker.maxdisplayed>0;!B.visible&&!F.visible&&(z=[]);var X=g.select(this).selectAll("g.errorbar").data(z,E);if(X.exit().remove(),!!z.length){F.visible||X.selectAll("path.xerror").remove(),B.visible||X.selectAll("path.yerror").remove(),X.style("opacity",1);var ie=X.enter().append("g").classed("errorbar",!0);N&&ie.style("opacity",0).transition().duration(R.duration).style("opacity",1),y.setClipUrl(X,T.layerClipId,k),X.each(function(L){var me=g.select(this),ae=O(L,I,V);if(!(W&&!L.vis)){var q,de=me.select("path.yerror");if(B.visible&&v(ae.x)&&v(ae.yh)&&v(ae.ys)){var ee=B.width;q="M"+(ae.x-ee)+","+ae.yh+"h"+2*ee+"m-"+ee+",0V"+ae.ys,ae.noYS||(q+="m-"+ee+",0h"+2*ee),M=!de.size(),M?de=me.append("path").style("vector-effect",Q?"none":"non-scaling-stroke").classed("yerror",!0):N&&(de=de.transition().duration(R.duration).ease(R.easing)),de.attr("d",q)}else de.remove();var xe=me.select("path.xerror");if(F.visible&&v(ae.y)&&v(ae.xh)&&v(ae.xs)){var we=(F.copy_ystyle?B:F).width;q="M"+ae.xh+","+(ae.y-we)+"v"+2*we+"m0,-"+we+"H"+ae.xs,ae.noXS||(q+="m0,-"+we+"v"+2*we),M=!xe.size(),M?xe=me.append("path").style("vector-effect",Q?"none":"non-scaling-stroke").classed("xerror",!0):N&&(xe=xe.transition().duration(R.duration).ease(R.easing)),xe.attr("d",q)}else xe.remove()}})}})};function O(C,k,w){var T={x:k.c2p(C.x),y:w.c2p(C.y)};return C.yh!==void 0&&(T.yh=w.c2p(C.yh),T.ys=w.c2p(C.ys),v(T.ys)||(T.noYS=!0,T.ys=w.c2p(C.ys,!0))),C.xh!==void 0&&(T.xh=k.c2p(C.xh),T.xs=k.c2p(C.xs),v(T.xs)||(T.noXS=!0,T.xs=k.c2p(C.xs,!0))),T}},2662:function(f,h,c){var g=c(9898),v=c(7901);f.exports=function(b){b.each(function(O){var C=O[0].trace,k=C.error_y||{},w=C.error_x||{},T=g.select(this);T.selectAll("path.yerror").style("stroke-width",k.thickness+"px").call(v.stroke,k.color),w.copy_ystyle&&(w=k),T.selectAll("path.xerror").style("stroke-width",w.thickness+"px").call(v.stroke,w.color)})}},7914:function(f,h,c){var g=c(1940),v=c(528).hoverlabel,y=c(1426).extendFlat;f.exports={hoverlabel:{bgcolor:y({},v.bgcolor,{arrayOk:!0}),bordercolor:y({},v.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:y({},v.align,{arrayOk:!0}),namelength:y({},v.namelength,{arrayOk:!0}),editType:"none"}}},732:function(f,h,c){var g=c(1828),v=c(3972);f.exports=function(O){var C=O.calcdata,k=O._fullLayout;function w(V){return function(N){return g.coerceHoverinfo({hoverinfo:N},{_module:V._module},k)}}for(var T=0;T<C.length;T++){var R=C[T],M=R[0].trace;if(!v.traceIs(M,"pie-like")){var I=v.traceIs(M,"2dMap")?y:g.fillArray;I(M.hoverinfo,R,"hi",w(M)),M.hovertemplate&&I(M.hovertemplate,R,"ht"),M.hoverlabel&&(I(M.hoverlabel.bgcolor,R,"hbg"),I(M.hoverlabel.bordercolor,R,"hbc"),I(M.hoverlabel.font.size,R,"hts"),I(M.hoverlabel.font.color,R,"htc"),I(M.hoverlabel.font.family,R,"htf"),I(M.hoverlabel.namelength,R,"hnl"),I(M.hoverlabel.align,R,"hta"))}}};function y(b,O,C,k){k=k||g.identity,Array.isArray(b)&&(O[0][C]=k(b))}},5914:function(f,h,c){var g=c(3972),v=c(8335).hover;f.exports=function(b,O,C){var k=g.getComponentMethod("annotations","onClick")(b,b._hoverdata);C!==void 0&&v(b,O,C,!0);function w(){b.emit("plotly_click",{points:b._hoverdata,event:O})}b._hoverdata&&O&&O.target&&(k&&k.then?k.then(w):w(),O.stopImmediatePropagation&&O.stopImmediatePropagation())}},6675:function(f){f.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(f,h,c){var g=c(1828),v=c(7914),y=c(8048);f.exports=function(O,C,k,w){function T(M,I){return g.coerce(O,C,v,M,I)}var R=g.extendFlat({},w.hoverlabel);C.hovertemplate&&(R.namelength=-1),y(O,C,T,R)}},3469:function(f,h,c){var g=c(1828);h.getSubplot=function(k){return k.subplot||k.xaxis+k.yaxis||k.geo},h.isTraceInSubplots=function(k,w){if(k.type==="splom"){for(var T=k.xaxes||[],R=k.yaxes||[],M=0;M<T.length;M++)for(var I=0;I<R.length;I++)if(w.indexOf(T[M]+R[I])!==-1)return!0;return!1}return w.indexOf(h.getSubplot(k))!==-1},h.flat=function(k,w){for(var T=new Array(k.length),R=0;R<k.length;R++)T[R]=w;return T},h.p2c=function(k,w){for(var T=new Array(k.length),R=0;R<k.length;R++)T[R]=k[R].p2c(w);return T},h.getDistanceFunction=function(k,w,T,R){return k==="closest"?R||h.quadrature(w,T):k.charAt(0)==="x"?w:T},h.getClosest=function(k,w,T){if(T.index!==!1)T.index>=0&&T.index<k.length?T.distance=0:T.index=!1;else for(var R=0;R<k.length;R++){var M=w(k[R]);M<=T.distance&&(T.index=R,T.distance=M)}return T},h.inbox=function(k,w,T){return k*w<0||k===0?T:1/0},h.quadrature=function(k,w){return function(T){var R=k(T),M=w(T);return Math.sqrt(R*R+M*M)}},h.makeEventData=function(k,w,T){var R="index"in k?k.index:k.pointNumber,M={data:w._input,fullData:w,curveNumber:w.index,pointNumber:R};if(w._indexToPoints){var I=w._indexToPoints[R];I.length===1?M.pointIndex=I[0]:M.pointIndices=I}else M.pointIndex=R;return w._module.eventData?M=w._module.eventData(M,k,w,T,R):("xVal"in k?M.x=k.xVal:"x"in k&&(M.x=k.x),"yVal"in k?M.y=k.yVal:"y"in k&&(M.y=k.y),k.xa&&(M.xaxis=k.xa),k.ya&&(M.yaxis=k.ya),k.zLabelVal!==void 0&&(M.z=k.zLabelVal)),h.appendArrayPointValue(M,w,R),M},h.appendArrayPointValue=function(k,w,T){var R=w._arrayAttrs;if(R)for(var M=0;M<R.length;M++){var I=R[M],V=y(I);if(k[V]===void 0){var N=g.nestedProperty(w,I).get(),Q=b(N,T);Q!==void 0&&(k[V]=Q)}}},h.appendArrayMultiPointValues=function(k,w,T){var R=w._arrayAttrs;if(R)for(var M=0;M<R.length;M++){var I=R[M],V=y(I);if(k[V]===void 0){for(var N=g.nestedProperty(w,I).get(),Q=new Array(T.length),z=0;z<T.length;z++)Q[z]=b(N,T[z]);k[V]=Q}}};var v={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function y(k){return v[k]||k}function b(k,w){if(Array.isArray(w)){if(Array.isArray(k)&&Array.isArray(k[w[0]]))return k[w[0]][w[1]]}else return k[w]}var O={x:!0,y:!0},C={"x unified":!0,"y unified":!0};h.isUnifiedHover=function(k){return typeof k!="string"?!1:!!C[k]},h.isXYhover=function(k){return typeof k!="string"?!1:!!O[k]}},8335:function(f,h,c){var g=c(9898),v=c(2770),y=c(4267),b=c(1828),O=b.strTranslate,C=b.strRotate,k=c(1086),w=c(3893),T=c(9918),R=c(1424),M=c(7901),I=c(8569),V=c(9298),N=c(3972),Q=c(3469),z=c(6675),U=c(9017),F=c(3969),B=z.YANGLE,E=Math.PI*B/180,W=1/Math.sin(E),X=Math.cos(E),ie=Math.sin(E),L=z.HOVERARROWSIZE,me=z.HOVERTEXTPAD,ae={box:!0,ohlc:!0,violin:!0,candlestick:!0},q={scatter:!0,scattergl:!0,splom:!0};h.hover=function(se,fe,oe,Se){se=b.getGraphDiv(se);var ce=fe.target;b.throttle(se._fullLayout._uid+z.HOVERID,z.HOVERMINTIME,function(){de(se,fe,oe,Se,ce)})},h.loneHover=function(se,fe){var oe=!0;Array.isArray(se)||(oe=!1,se=[se]);var Se=fe.gd,ce=Ie(Se),ke=re(Se),Qe=se.map(function(ft){var tt=ft._x0||ft.x0||ft.x||0,wt=ft._x1||ft.x1||ft.x||0,Xt=ft._y0||ft.y0||ft.y||0,Gt=ft._y1||ft.y1||ft.y||0,Nt=ft.eventData;if(Nt){var Bt=Math.min(tt,wt),vn=Math.max(tt,wt),En=Math.min(Xt,Gt),ln=Math.max(Xt,Gt),Yn=ft.trace;if(N.traceIs(Yn,"gl3d")){var an=Se._fullLayout[Yn.scene]._scene.container,wn=an.offsetLeft,Xn=an.offsetTop;Bt+=wn,vn+=wn,En+=Xn,ln+=Xn}Nt.bbox={x0:Bt+ke,x1:vn+ke,y0:En+ce,y1:ln+ce},fe.inOut_bbox&&fe.inOut_bbox.push(Nt.bbox)}else Nt=!1;return{color:ft.color||M.defaultLine,x0:ft.x0||ft.x||0,x1:ft.x1||ft.x||0,y0:ft.y0||ft.y||0,y1:ft.y1||ft.y||0,xLabel:ft.xLabel,yLabel:ft.yLabel,zLabel:ft.zLabel,text:ft.text,name:ft.name,idealAlign:ft.idealAlign,borderColor:ft.borderColor,fontFamily:ft.fontFamily,fontSize:ft.fontSize,fontColor:ft.fontColor,nameLength:ft.nameLength,textAlign:ft.textAlign,trace:ft.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ft.hovertemplate||!1,hovertemplateLabels:ft.hovertemplateLabels||!1,eventData:Nt}}),Ze=!1,Xe=we(Qe,{gd:Se,hovermode:"closest",rotateLabels:Ze,bgColor:fe.bgColor||M.background,container:g.select(fe.container),outerContainer:fe.outerContainer||fe.container}),ct=Xe.hoverLabels,pt=5,Ye=0,je=0;ct.sort(function(ft,tt){return ft.y0-tt.y0}).each(function(ft,tt){var wt=ft.y0-ft.by/2;wt-pt<Ye?ft.offset=Ye-wt+pt:ft.offset=0,Ye=wt+ft.by+ft.offset,tt===fe.anchorIndex&&(je=ft.offset)}).each(function(ft){ft.offset-=je});var et=Se._fullLayout._invScaleX,yt=Se._fullLayout._invScaleY;return Y(ct,Ze,et,yt),oe?ct:ct.node()};function de(te,se,fe,oe,Se){fe||(fe="xy");var ce=Array.isArray(fe)?fe:[fe],ke=te._fullLayout,Qe=ke._plots||[],Ze=Qe[fe],Xe=ke._has("cartesian");if(Ze){var ct=Ze.overlays.map(function(ar){return ar.id});ce=ce.concat(ct)}for(var pt=ce.length,Ye=new Array(pt),je=new Array(pt),et=!1,yt=0;yt<pt;yt++){var ft=ce[yt];if(Qe[ft])et=!0,Ye[yt]=Qe[ft].xaxis,je[yt]=Qe[ft].yaxis;else if(ke[ft]&&ke[ft]._subplot){var tt=ke[ft]._subplot;Ye[yt]=tt.xaxis,je[yt]=tt.yaxis}else{b.warn("Unrecognized subplot: "+ft);return}}var wt=se.hovermode||ke.hovermode;if(wt&&!et&&(wt="closest"),["x","y","closest","x unified","y unified"].indexOf(wt)===-1||!te.calcdata||te.querySelector(".zoombox")||te._dragging)return I.unhoverRaw(te,se);var Xt=ke.hoverdistance;Xt===-1&&(Xt=1/0);var Gt=ke.spikedistance;Gt===-1&&(Gt=1/0);var Nt=[],Bt=[],vn,En,ln,Yn,an,wn,Xn,Un,Sn,lt,ut,xt,gt,Dt={hLinePoint:null,vLinePoint:null},He=!1;if(Array.isArray(se))for(wt="array",ln=0;ln<se.length;ln++)an=te.calcdata[se[ln].curveNumber||0],an&&(wn=an[0].trace,an[0].trace.hoverinfo!=="skip"&&(Bt.push(an),wn.orientation==="h"&&(He=!0)));else{for(Yn=0;Yn<te.calcdata.length;Yn++)an=te.calcdata[Yn],wn=an[0].trace,wn.hoverinfo!=="skip"&&Q.isTraceInSubplots(wn,ce)&&(Bt.push(an),wn.orientation==="h"&&(He=!0));var at=!Se,dt,mt;if(at)"xpx"in se?dt=se.xpx:dt=Ye[0]._length/2,"ypx"in se?mt=se.ypx:mt=je[0]._length/2;else{if(k.triggerHandler(te,"plotly_beforehover",se)===!1)return;var Tt=Se.getBoundingClientRect();dt=se.clientX-Tt.left,mt=se.clientY-Tt.top,ke._calcInverseTransform(te);var Pt=b.apply3DTransform(ke._invTransform)(dt,mt);if(dt=Pt[0],mt=Pt[1],dt<0||dt>Ye[0]._length||mt<0||mt>je[0]._length)return I.unhoverRaw(te,se)}if(se.pointerX=dt+Ye[0]._offset,se.pointerY=mt+je[0]._offset,"xval"in se?vn=Q.flat(ce,se.xval):vn=Q.p2c(Ye,dt),"yval"in se?En=Q.flat(ce,se.yval):En=Q.p2c(je,mt),!v(vn[0])||!v(En[0]))return b.warn("Fx.hover failed",se,te),I.unhoverRaw(te,se)}var dn=1/0;function rn(ar,ur){for(Yn=0;Yn<Bt.length;Yn++)if(an=Bt[Yn],!(!an||!an[0]||!an[0].trace)&&(wn=an[0].trace,!(wn.visible!==!0||wn._length===0)&&["carpet","contourcarpet"].indexOf(wn._module.name)===-1)){if(wn.type==="splom"?(Un=0,Xn=ce[Un]):(Xn=Q.getSubplot(wn),Un=ce.indexOf(Xn)),Sn=wt,Q.isUnifiedHover(Sn)&&(Sn=Sn.charAt(0)),xt={cd:an,trace:wn,xa:Ye[Un],ya:je[Un],maxHoverDistance:Xt,maxSpikeDistance:Gt,index:!1,distance:Math.min(dn,Xt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:M.defaultLine,name:wn.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ke[Xn]&&(xt.subplot=ke[Xn]._subplot),ke._splomScenes&&ke._splomScenes[wn.uid]&&(xt.scene=ke._splomScenes[wn.uid]),gt=Nt.length,Sn==="array"){var qr=se[Yn];"pointNumber"in qr?(xt.index=qr.pointNumber,Sn="closest"):(Sn="","xval"in qr&&(lt=qr.xval,Sn="x"),"yval"in qr&&(ut=qr.yval,Sn=Sn?"closest":"y"))}else ar!==void 0&&ur!==void 0?(lt=ar,ut=ur):(lt=vn[Un],ut=En[Un]);if(Xt!==0)if(wn._module&&wn._module.hoverPoints){var no=wn._module.hoverPoints(xt,lt,ut,Sn,{finiteRange:!0,hoverLayer:ke._hoverlayer});if(no)for(var ko,Es=0;Es<no.length;Es++)ko=no[Es],v(ko.x0)&&v(ko.y0)&&Nt.push(ve(ko,wt))}else b.log("Unrecognized trace type in hover:",wn);if(wt==="closest"&&Nt.length>gt&&(Nt.splice(0,gt),dn=Nt[0].distance),Xe&&Gt!==0&&Nt.length===0){xt.distance=Gt,xt.index=!1;var So=wn._module.hoverPoints(xt,lt,ut,"closest",{hoverLayer:ke._hoverlayer});if(So&&(So=So.filter(function(Ya){return Ya.spikeDistance<=Gt})),So&&So.length){var Ko,ds=So.filter(function(Ya){return Ya.xa.showspikes&&Ya.xa.spikesnap!=="hovered data"});if(ds.length){var qs=ds[0];v(qs.x0)&&v(qs.y0)&&(Ko=Rt(qs),(!Dt.vLinePoint||Dt.vLinePoint.spikeDistance>Ko.spikeDistance)&&(Dt.vLinePoint=Ko))}var es=So.filter(function(Ya){return Ya.ya.showspikes&&Ya.ya.spikesnap!=="hovered data"});if(es.length){var Xs=es[0];v(Xs.x0)&&v(Xs.y0)&&(Ko=Rt(Xs),(!Dt.hLinePoint||Dt.hLinePoint.spikeDistance>Ko.spikeDistance)&&(Dt.hLinePoint=Ko))}}}}}rn();function Wt(ar,ur,qr){for(var no=null,ko=1/0,Es,So=0;So<ar.length;So++)Es=ar[So].spikeDistance,qr&&So===0&&(Es=-1/0),Es<=ko&&Es<=ur&&(no=ar[So],ko=Es);return no}function Rt(ar){return ar?{xa:ar.xa,ya:ar.ya,x:ar.xSpike!==void 0?ar.xSpike:(ar.x0+ar.x1)/2,y:ar.ySpike!==void 0?ar.ySpike:(ar.y0+ar.y1)/2,distance:ar.distance,spikeDistance:ar.spikeDistance,curveNumber:ar.trace.index,color:ar.color,pointNumber:ar.index}:null}var fn={fullLayout:ke,container:ke._hoverlayer,event:se},Hn=te._spikepoints,nr={vLinePoint:Dt.vLinePoint,hLinePoint:Dt.hLinePoint};te._spikepoints=nr;var Er=function(){Nt.sort(function(ar,ur){return ar.distance-ur.distance}),Nt=Ve(Nt,wt)};Er();var zt=wt.charAt(0),vr=(zt==="x"||zt==="y")&&Nt[0]&&q[Nt[0].trace.type];if(Xe&&Gt!==0&&Nt.length!==0){var Wn=Nt.filter(function(ar){return ar.ya.showspikes}),Br=Wt(Wn,Gt,vr);Dt.hLinePoint=Rt(Br);var kr=Nt.filter(function(ar){return ar.xa.showspikes}),or=Wt(kr,Gt,vr);Dt.vLinePoint=Rt(or)}if(Nt.length===0){var jr=I.unhoverRaw(te,se);return Xe&&(Dt.hLinePoint!==null||Dt.vLinePoint!==null)&&Ce(Hn)&&Oe(te,Dt,fn),jr}if(Xe&&Ce(Hn)&&Oe(te,Dt,fn),Q.isXYhover(Sn)&&Nt[0].length!==0&&Nt[0].trace.type!=="splom"){var _r=Nt[0];ae[_r.trace.type]?Nt=Nt.filter(function(ar){return ar.trace.index===_r.trace.index}):Nt=[_r];var Rn=Nt.length,xr=_e("x",_r,ke),sr=_e("y",_r,ke);rn(xr,sr);var Sr=[],ao={},Oo=0,wr=function(ar){var ur=ae[ar.trace.type]?ee(ar):ar.trace.index;if(!ao[ur])Oo++,ao[ur]=Oo,Sr.push(ar);else{var qr=ao[ur]-1,no=Sr[qr];qr>0&&Math.abs(ar.distance)<Math.abs(no.distance)&&(Sr[qr]=ar)}},Fe;for(Fe=0;Fe<Rn;Fe++)wr(Nt[Fe]);for(Fe=Nt.length-1;Fe>Rn-1;Fe--)wr(Nt[Fe]);Nt=Sr,Er()}var Ee=te._hoverdata,St=[],Ct=Ie(te),Lt=re(te);for(ln=0;ln<Nt.length;ln++){var Ft=Nt[ln],Ht=Q.makeEventData(Ft,Ft.trace,Ft.cd);if(Ft.hovertemplate!==!1){var $t=!1;Ft.cd[Ft.index]&&Ft.cd[Ft.index].ht&&($t=Ft.cd[Ft.index].ht),Ft.hovertemplate=$t||Ft.trace.hovertemplate||!1}if(Ft.xa&&Ft.ya){var Mt=Ft.x0+Ft.xa._offset,tn=Ft.x1+Ft.xa._offset,un=Ft.y0+Ft.ya._offset,Jt=Ft.y1+Ft.ya._offset,on=Math.min(Mt,tn),Tn=Math.max(Mt,tn),On=Math.min(un,Jt),pn=Math.max(un,Jt);Ht.bbox={x0:on+Lt,x1:Tn+Lt,y0:On+Ct,y1:pn+Ct}}Ft.eventData=[Ht],St.push(Ht)}te._hoverdata=St;var Jn=wt==="y"&&(Bt.length>1||Nt.length>1)||wt==="closest"&&He&&Nt.length>1,Fn=M.combine(ke.plot_bgcolor||M.background,ke.paper_bgcolor),Zr=we(Nt,{gd:te,hovermode:wt,rotateLabels:Jn,bgColor:Fn,container:ke._hoverlayer,outerContainer:ke._paper.node(),commonLabelOpts:ke.hoverlabel,hoverdistance:ke.hoverdistance}),dr=Zr.hoverLabels;if(Q.isUnifiedHover(wt)||(pe(dr,Jn,ke,Zr.commonLabelBoundingBox),Y(dr,Jn,ke._invScaleX,ke._invScaleY)),Se&&Se.tagName){var Ur=N.getComponentMethod("annotations","hasClickToShow")(te,St);T(g.select(Se),Ur?"pointer":"")}!Se||oe||!Le(te,se,Ee)||(Ee&&te.emit("plotly_unhover",{event:se,points:Ee}),te.emit("plotly_hover",{event:se,points:te._hoverdata,xaxes:Ye,yaxes:je,xvals:vn,yvals:En}))}function ee(te){return[te.trace.index,te.index,te.x0,te.y0,te.name,te.attr,te.xa?te.xa._id:"",te.ya?te.ya._id:""].join(",")}var xe=/<extra>([\s\S]*)<\/extra>/;function we(te,se){var fe=se.gd,oe=fe._fullLayout,Se=se.hovermode,ce=se.rotateLabels,ke=se.bgColor,Qe=se.container,Ze=se.outerContainer,Xe=se.commonLabelOpts||{};if(te.length===0)return[[]];var ct=se.fontFamily||z.HOVERFONT,pt=se.fontSize||z.HOVERFONTSIZE,Ye=te[0],je=Ye.xa,et=Ye.ya,yt=Se.charAt(0),ft=yt+"Label",tt=Ye[ft];if(tt===void 0&&je.type==="multicategory")for(var wt=0;wt<te.length&&(tt=te[wt][ft],tt===void 0);wt++);var Xt=be(fe,Ze),Gt=Xt.top,Nt=Xt.width,Bt=Xt.height,vn=tt!==void 0&&Ye.distance<=se.hoverdistance&&(Se==="x"||Se==="y");if(vn){var En=!0,ln,Yn;for(ln=0;ln<te.length;ln++)if(En&&te[ln].zLabel===void 0&&(En=!1),Yn=te[ln].hoverinfo||te[ln].trace.hoverinfo,Yn){var an=Array.isArray(Yn)?Yn:Yn.split("+");if(an.indexOf("all")===-1&&an.indexOf(Se)===-1){vn=!1;break}}En&&(vn=!1)}var wn=Qe.selectAll("g.axistext").data(vn?[0]:[]);wn.enter().append("g").classed("axistext",!0),wn.exit().remove();var Xn={minX:0,maxX:0,minY:0,maxY:0};if(wn.each(function(){var Rn=g.select(this),xr=b.ensureSingle(Rn,"path","",function(On){On.style({"stroke-width":"1px"})}),sr=b.ensureSingle(Rn,"text","",function(On){On.attr("data-notex",1)}),Sr=Xe.bgcolor||M.defaultLine,ao=Xe.bordercolor||M.contrast(Sr),Oo=M.contrast(Sr),wr={family:Xe.font.family||ct,size:Xe.font.size||pt,color:Xe.font.color||Oo};xr.style({fill:Sr,stroke:ao}),sr.text(tt).call(R.font,wr).call(w.positionText,0,0).call(w.convertToTspans,fe),Rn.attr("transform","");var Fe=be(fe,sr.node()),Ee,St;if(Se==="x"){var Ct=je.side==="top"?"-":"";sr.attr("text-anchor","middle").call(w.positionText,0,je.side==="top"?Gt-Fe.bottom-L-me:Gt-Fe.top+L+me),Ee=je._offset+(Ye.x0+Ye.x1)/2,St=et._offset+(je.side==="top"?0:et._length);var Lt=Fe.width/2+me;Ee<Lt?(Ee=Lt,xr.attr("d","M-"+(Lt-L)+",0L-"+(Lt-L*2)+","+Ct+L+"H"+Lt+"v"+Ct+(me*2+Fe.height)+"H-"+Lt+"V"+Ct+L+"Z")):Ee>oe.width-Lt?(Ee=oe.width-Lt,xr.attr("d","M"+(Lt-L)+",0L"+Lt+","+Ct+L+"v"+Ct+(me*2+Fe.height)+"H-"+Lt+"V"+Ct+L+"H"+(Lt-L*2)+"Z")):xr.attr("d","M0,0L"+L+","+Ct+L+"H"+Lt+"v"+Ct+(me*2+Fe.height)+"H-"+Lt+"V"+Ct+L+"H-"+L+"Z"),Xn.minX=Ee-Lt,Xn.maxX=Ee+Lt,je.side==="top"?(Xn.minY=St-(me*2+Fe.height),Xn.maxY=St-me):(Xn.minY=St+me,Xn.maxY=St+(me*2+Fe.height))}else{var Ft,Ht,$t;et.side==="right"?(Ft="start",Ht=1,$t="",Ee=je._offset+je._length):(Ft="end",Ht=-1,$t="-",Ee=je._offset),St=et._offset+(Ye.y0+Ye.y1)/2,sr.attr("text-anchor",Ft),xr.attr("d","M0,0L"+$t+L+","+L+"V"+(me+Fe.height/2)+"h"+$t+(me*2+Fe.width)+"V-"+(me+Fe.height/2)+"H"+$t+L+"V-"+L+"Z"),Xn.minY=St-(me+Fe.height/2),Xn.maxY=St+(me+Fe.height/2),et.side==="right"?(Xn.minX=Ee+L,Xn.maxX=Ee+L+(me*2+Fe.width)):(Xn.minX=Ee-L-(me*2+Fe.width),Xn.maxX=Ee-L);var Mt=Fe.height/2,tn=Gt-Fe.top-Mt,un="clip"+oe._uid+"commonlabel"+et._id,Jt;if(Ee<Fe.width+2*me+L){Jt="M-"+(L+me)+"-"+Mt+"h-"+(Fe.width-me)+"V"+Mt+"h"+(Fe.width-me)+"Z";var on=Fe.width-Ee+me;w.positionText(sr,on,tn),Ft==="end"&&sr.selectAll("tspan").each(function(){var On=g.select(this),pn=R.tester.append("text").text(On.text()).call(R.font,wr),Jn=be(fe,pn.node());Math.round(Jn.width)<Math.round(Fe.width)&&On.attr("x",on-Jn.width),pn.remove()})}else w.positionText(sr,Ht*(me+L),tn),Jt=null;var Tn=oe._topclips.selectAll("#"+un).data(Jt?[0]:[]);Tn.enter().append("clipPath").attr("id",un).append("path"),Tn.exit().remove(),Tn.select("path").attr("d",Jt),R.setClipUrl(sr,Jt?un:null,fe)}Rn.attr("transform",O(Ee,St))}),Q.isUnifiedHover(Se)){Qe.selectAll("g.hovertext").remove();var Un=te.filter(function(Rn){return Rn.hoverinfo!=="none"});if(Un.length===0)return[];var Sn=oe.hoverlabel,lt=Sn.font,ut={showlegend:!0,legend:{title:{text:tt,font:lt},font:lt,bgcolor:Sn.bgcolor,bordercolor:Sn.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:oe.legend?oe.legend.traceorder:void 0,orientation:"v"}},xt={font:lt};U(ut,xt,fe._fullData);var gt=xt.legend;gt.entries=[];for(var Dt=0;Dt<Un.length;Dt++){var He=Un[Dt];if(He.hoverinfo!=="none"){var at=Be(He,!0,Se,oe,tt),dt=at[0],mt=at[1];He.name=mt,mt!==""?He.text=mt+" : "+dt:He.text=dt;var Tt=He.cd[He.index];Tt&&(Tt.mc&&(He.mc=Tt.mc),Tt.mcc&&(He.mc=Tt.mcc),Tt.mlc&&(He.mlc=Tt.mlc),Tt.mlcc&&(He.mlc=Tt.mlcc),Tt.mlw&&(He.mlw=Tt.mlw),Tt.mrc&&(He.mrc=Tt.mrc),Tt.dir&&(He.dir=Tt.dir)),He._distinct=!0,gt.entries.push([He])}}gt.entries.sort(function(Rn,xr){return Rn[0].trace.index-xr[0].trace.index}),gt.layer=Qe,gt._inHover=!0,gt._groupTitleFont=Sn.grouptitlefont,F(fe,gt);var Pt=Qe.select("g.legend"),dn=be(fe,Pt.node()),rn=dn.width+2*me,Wt=dn.height+2*me,Rt=Un[0],fn=(Rt.x0+Rt.x1)/2,Hn=(Rt.y0+Rt.y1)/2,nr=!(N.traceIs(Rt.trace,"bar-like")||N.traceIs(Rt.trace,"box-violin")),Er,zt;yt==="y"?nr?(zt=Hn-me,Er=Hn+me):(zt=Math.min.apply(null,Un.map(function(Rn){return Math.min(Rn.y0,Rn.y1)})),Er=Math.max.apply(null,Un.map(function(Rn){return Math.max(Rn.y0,Rn.y1)}))):zt=Er=b.mean(Un.map(function(Rn){return(Rn.y0+Rn.y1)/2}))-Wt/2;var vr,Wn;yt==="x"?nr?(vr=fn+me,Wn=fn-me):(vr=Math.max.apply(null,Un.map(function(Rn){return Math.max(Rn.x0,Rn.x1)})),Wn=Math.min.apply(null,Un.map(function(Rn){return Math.min(Rn.x0,Rn.x1)}))):vr=Wn=b.mean(Un.map(function(Rn){return(Rn.x0+Rn.x1)/2}))-rn/2;var Br=je._offset,kr=et._offset;Er+=kr,vr+=Br,Wn+=Br-rn,zt+=kr-Wt;var or,jr;return vr+rn<Nt&&vr>=0?or=vr:Wn+rn<Nt&&Wn>=0?or=Wn:Br+rn<Nt?or=Br:vr-fn<fn-Wn+rn?or=Nt-rn:or=0,or+=me,Er+Wt<Bt&&Er>=0?jr=Er:zt+Wt<Bt&&zt>=0?jr=zt:kr+Wt<Bt?jr=kr:Er-Hn<Hn-zt+Wt?jr=Bt-Wt:jr=0,jr+=me,Pt.attr("transform",O(or-1,jr-1)),Pt}var _r=Qe.selectAll("g.hovertext").data(te,function(Rn){return ee(Rn)});return _r.enter().append("g").classed("hovertext",!0).each(function(){var Rn=g.select(this);Rn.append("rect").call(M.fill,M.addOpacity(ke,.8)),Rn.append("text").classed("name",!0),Rn.append("path").style("stroke-width","1px"),Rn.append("text").classed("nums",!0).call(R.font,ct,pt)}),_r.exit().remove(),_r.each(function(Rn){var xr=g.select(this).attr("transform",""),sr=Rn.color;Array.isArray(sr)&&(sr=sr[Rn.eventData[0].pointNumber]);var Sr=Rn.bgcolor||sr,ao=M.combine(M.opacity(Sr)?Sr:M.defaultLine,ke),Oo=M.combine(M.opacity(sr)?sr:M.defaultLine,ke),wr=Rn.borderColor||M.contrast(ao),Fe=Be(Rn,vn,Se,oe,tt,xr),Ee=Fe[0],St=Fe[1],Ct=xr.select("text.nums").call(R.font,Rn.fontFamily||ct,Rn.fontSize||pt,Rn.fontColor||wr).text(Ee).attr("data-notex",1).call(w.positionText,0,0).call(w.convertToTspans,fe),Lt=xr.select("text.name"),Ft=0,Ht=0;if(St&&St!==Ee){Lt.call(R.font,Rn.fontFamily||ct,Rn.fontSize||pt,Oo).text(St).attr("data-notex",1).call(w.positionText,0,0).call(w.convertToTspans,fe);var $t=be(fe,Lt.node());Ft=$t.width+2*me,Ht=$t.height+2*me}else Lt.remove(),xr.select("rect").remove();xr.select("path").style({fill:ao,stroke:wr});var Mt=Rn.xa._offset+(Rn.x0+Rn.x1)/2,tn=Rn.ya._offset+(Rn.y0+Rn.y1)/2,un=Math.abs(Rn.x1-Rn.x0),Jt=Math.abs(Rn.y1-Rn.y0),on=be(fe,Ct.node()),Tn=on.width/oe._invScaleX,On=on.height/oe._invScaleY;Rn.ty0=(Gt-on.top)/oe._invScaleY,Rn.bx=Tn+2*me,Rn.by=Math.max(On+2*me,Ht),Rn.anchor="start",Rn.txwidth=Tn,Rn.tx2width=Ft,Rn.offset=0;var pn=(Tn+L+me+Ft)*oe._invScaleX,Jn,Fn;if(ce)Rn.pos=Mt,Jn=tn+Jt/2+pn<=Bt,Fn=tn-Jt/2-pn>=0,(Rn.idealAlign==="top"||!Jn)&&Fn?(tn-=Jt/2,Rn.anchor="end"):Jn?(tn+=Jt/2,Rn.anchor="start"):Rn.anchor="middle",Rn.crossPos=tn;else{if(Rn.pos=tn,Jn=Mt+un/2+pn<=Nt,Fn=Mt-un/2-pn>=0,(Rn.idealAlign==="left"||!Jn)&&Fn)Mt-=un/2,Rn.anchor="end";else if(Jn)Mt+=un/2,Rn.anchor="start";else{Rn.anchor="middle";var Zr=pn/2,dr=Mt+Zr-Nt,Ur=Mt-Zr;dr>0&&(Mt-=dr),Ur<0&&(Mt+=-Ur)}Rn.crossPos=Mt}Ct.attr("text-anchor",Rn.anchor),Ft&&Lt.attr("text-anchor",Rn.anchor),xr.attr("transform",O(Mt,tn)+(ce?C(B):""))}),{hoverLabels:_r,commonLabelBoundingBox:Xn}}function Be(te,se,fe,oe,Se,ce){var ke="",Qe="";te.nameOverride!==void 0&&(te.name=te.nameOverride),te.name&&(te.trace._meta&&(te.name=b.templateString(te.name,te.trace._meta)),ke=De(te.name,te.nameLength));var Ze=fe.charAt(0),Xe=Ze==="x"?"y":"x";te.zLabel!==void 0?(te.xLabel!==void 0&&(Qe+="x: "+te.xLabel+"<br>"),te.yLabel!==void 0&&(Qe+="y: "+te.yLabel+"<br>"),te.trace.type!=="choropleth"&&te.trace.type!=="choroplethmapbox"&&(Qe+=(Qe?"z: ":"")+te.zLabel)):se&&te[Ze+"Label"]===Se?Qe=te[Xe+"Label"]||"":te.xLabel===void 0?te.yLabel!==void 0&&te.trace.type!=="scattercarpet"&&(Qe=te.yLabel):te.yLabel===void 0?Qe=te.xLabel:Qe="("+te.xLabel+", "+te.yLabel+")",(te.text||te.text===0)&&!Array.isArray(te.text)&&(Qe+=(Qe?"<br>":"")+te.text),te.extraText!==void 0&&(Qe+=(Qe?"<br>":"")+te.extraText),ce&&Qe===""&&!te.hovertemplate&&(ke===""&&ce.remove(),Qe=ke);var ct=te.hovertemplate||!1;if(ct){var pt=te.hovertemplateLabels||te;te[Ze+"Label"]!==Se&&(pt[Ze+"other"]=pt[Ze+"Val"],pt[Ze+"otherLabel"]=pt[Ze+"Label"]),Qe=b.hovertemplateString(ct,pt,oe._d3locale,te.eventData[0]||{},te.trace._meta),Qe=Qe.replace(xe,function(Ye,je){return ke=De(je,te.nameLength),""})}return[Qe,ke]}function pe(te,se,fe,oe){var Se=se?"xa":"ya",ce=se?"ya":"xa",ke=0,Qe=1,Ze=te.size(),Xe=new Array(Ze),ct=0,pt=oe.minX,Ye=oe.maxX,je=oe.minY,et=oe.maxY,yt=function(lt){return lt*fe._invScaleX},ft=function(lt){return lt*fe._invScaleY};te.each(function(lt){var ut=lt[Se],xt=lt[ce],gt=ut._id.charAt(0)==="x",Dt=ut.range;ct===0&&Dt&&Dt[0]>Dt[1]!==gt&&(Qe=-1);var He=0,at=gt?fe.width:fe.height;if(fe.hovermode==="x"||fe.hovermode==="y"){var dt=ne(lt,se),mt=lt.anchor,Tt=mt==="end"?-1:1,Pt,dn;if(mt==="middle")Pt=lt.crossPos+(gt?ft(dt.y-lt.by/2):yt(lt.bx/2+lt.tx2width/2)),dn=Pt+(gt?ft(lt.by):yt(lt.bx));else if(gt)Pt=lt.crossPos+ft(L+dt.y)-ft(lt.by/2-L),dn=Pt+ft(lt.by);else{var rn=yt(Tt*L+dt.x),Wt=rn+yt(Tt*lt.bx);Pt=lt.crossPos+Math.min(rn,Wt),dn=lt.crossPos+Math.max(rn,Wt)}gt?je!==void 0&&et!==void 0&&Math.min(dn,et)-Math.max(Pt,je)>1&&(xt.side==="left"?(He=xt._mainLinePosition,at=fe.width):at=xt._mainLinePosition):pt!==void 0&&Ye!==void 0&&Math.min(dn,Ye)-Math.max(Pt,pt)>1&&(xt.side==="top"?(He=xt._mainLinePosition,at=fe.height):at=xt._mainLinePosition)}Xe[ct++]=[{datum:lt,traceIndex:lt.trace.index,dp:0,pos:lt.pos,posref:lt.posref,size:lt.by*(gt?W:1)/2,pmin:He,pmax:at}]}),Xe.sort(function(lt,ut){return lt[0].posref-ut[0].posref||Qe*(ut[0].traceIndex-lt[0].traceIndex)});var tt,wt,Xt,Gt,Nt,Bt,vn;function En(lt){var ut=lt[0],xt=lt[lt.length-1];if(wt=ut.pmin-ut.pos-ut.dp+ut.size,Xt=xt.pos+xt.dp+xt.size-ut.pmax,wt>.01){for(Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp+=wt;tt=!1}if(!(Xt<.01)){if(wt<-.01){for(Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp-=Xt;tt=!1}if(tt){var gt=0;for(Gt=0;Gt<lt.length;Gt++)Bt=lt[Gt],Bt.pos+Bt.dp+Bt.size>ut.pmax&&gt++;for(Gt=lt.length-1;Gt>=0&&!(gt<=0);Gt--)Bt=lt[Gt],Bt.pos>ut.pmax-1&&(Bt.del=!0,gt--);for(Gt=0;Gt<lt.length&&!(gt<=0);Gt++)if(Bt=lt[Gt],Bt.pos<ut.pmin+1)for(Bt.del=!0,gt--,Xt=Bt.size*2,Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp-=Xt;for(Gt=lt.length-1;Gt>=0&&!(gt<=0);Gt--)Bt=lt[Gt],Bt.pos+Bt.dp+Bt.size>ut.pmax&&(Bt.del=!0,gt--)}}}for(;!tt&&ke<=Ze;){for(ke++,tt=!0,Gt=0;Gt<Xe.length-1;){var ln=Xe[Gt],Yn=Xe[Gt+1],an=ln[ln.length-1],wn=Yn[0];if(wt=an.pos+an.dp+an.size-wn.pos-wn.dp+wn.size,wt>.01&&an.pmin===wn.pmin&&an.pmax===wn.pmax){for(Nt=Yn.length-1;Nt>=0;Nt--)Yn[Nt].dp+=wt;for(ln.push.apply(ln,Yn),Xe.splice(Gt+1,1),vn=0,Nt=ln.length-1;Nt>=0;Nt--)vn+=ln[Nt].dp;for(Xt=vn/ln.length,Nt=ln.length-1;Nt>=0;Nt--)ln[Nt].dp-=Xt;tt=!1}else Gt++}Xe.forEach(En)}for(Gt=Xe.length-1;Gt>=0;Gt--){var Xn=Xe[Gt];for(Nt=Xn.length-1;Nt>=0;Nt--){var Un=Xn[Nt],Sn=Un.datum;Sn.offset=Un.dp,Sn.del=Un.del}}}function ne(te,se){var fe=0,oe=te.offset;return se&&(oe*=-ie,fe=te.offset*X),{x:fe,y:oe}}function le(te){var se={start:1,end:-1,middle:0}[te.anchor],fe=se*(L+me),oe=fe+se*(te.txwidth+me),Se=te.anchor==="middle";return Se&&(fe-=te.tx2width/2,oe+=te.txwidth/2+me),{alignShift:se,textShiftX:fe,text2ShiftX:oe}}function Y(te,se,fe,oe){var Se=function(ke){return ke*fe},ce=function(ke){return ke*oe};te.each(function(ke){var Qe=g.select(this);if(ke.del)return Qe.remove();var Ze=Qe.select("text.nums"),Xe=ke.anchor,ct=Xe==="end"?-1:1,pt=le(ke),Ye=ne(ke,se),je=Ye.x,et=Ye.y,yt=Xe==="middle";Qe.select("path").attr("d",yt?"M-"+Se(ke.bx/2+ke.tx2width/2)+","+ce(et-ke.by/2)+"h"+Se(ke.bx)+"v"+ce(ke.by)+"h-"+Se(ke.bx)+"Z":"M0,0L"+Se(ct*L+je)+","+ce(L+et)+"v"+ce(ke.by/2-L)+"h"+Se(ct*ke.bx)+"v-"+ce(ke.by)+"H"+Se(ct*L+je)+"V"+ce(et-L)+"Z");var ft=je+pt.textShiftX,tt=et+ke.ty0-ke.by/2+me,wt=ke.textAlign||"auto";wt!=="auto"&&(wt==="left"&&Xe!=="start"?(Ze.attr("text-anchor","start"),ft=yt?-ke.bx/2-ke.tx2width/2+me:-ke.bx-me):wt==="right"&&Xe!=="end"&&(Ze.attr("text-anchor","end"),ft=yt?ke.bx/2-ke.tx2width/2-me:ke.bx+me)),Ze.call(w.positionText,Se(ft),ce(tt)),ke.tx2width&&(Qe.select("text.name").call(w.positionText,Se(pt.text2ShiftX+pt.alignShift*me+je),ce(et+ke.ty0-ke.by/2+me)),Qe.select("rect").call(R.setRect,Se(pt.text2ShiftX+(pt.alignShift-1)*ke.tx2width/2+je),ce(et-ke.by/2-1),Se(ke.tx2width),ce(ke.by+2)))})}function ve(te,se){var fe=te.index,oe=te.trace||{},Se=te.cd[0],ce=te.cd[fe]||{};function ke(Ye){return Ye||v(Ye)&&Ye===0}var Qe=Array.isArray(fe)?function(Ye,je){var et=b.castOption(Se,fe,Ye);return ke(et)?et:b.extractOption({},oe,"",je)}:function(Ye,je){return b.extractOption(ce,oe,Ye,je)};function Ze(Ye,je,et){var yt=Qe(je,et);ke(yt)&&(te[Ye]=yt)}if(Ze("hoverinfo","hi","hoverinfo"),Ze("bgcolor","hbg","hoverlabel.bgcolor"),Ze("borderColor","hbc","hoverlabel.bordercolor"),Ze("fontFamily","htf","hoverlabel.font.family"),Ze("fontSize","hts","hoverlabel.font.size"),Ze("fontColor","htc","hoverlabel.font.color"),Ze("nameLength","hnl","hoverlabel.namelength"),Ze("textAlign","hta","hoverlabel.align"),te.posref=se==="y"||se==="closest"&&oe.orientation==="h"?te.xa._offset+(te.x0+te.x1)/2:te.ya._offset+(te.y0+te.y1)/2,te.x0=b.constrain(te.x0,0,te.xa._length),te.x1=b.constrain(te.x1,0,te.xa._length),te.y0=b.constrain(te.y0,0,te.ya._length),te.y1=b.constrain(te.y1,0,te.ya._length),te.xLabelVal!==void 0&&(te.xLabel="xLabel"in te?te.xLabel:V.hoverLabelText(te.xa,te.xLabelVal,oe.xhoverformat),te.xVal=te.xa.c2d(te.xLabelVal)),te.yLabelVal!==void 0&&(te.yLabel="yLabel"in te?te.yLabel:V.hoverLabelText(te.ya,te.yLabelVal,oe.yhoverformat),te.yVal=te.ya.c2d(te.yLabelVal)),te.zLabelVal!==void 0&&te.zLabel===void 0&&(te.zLabel=String(te.zLabelVal)),!isNaN(te.xerr)&&!(te.xa.type==="log"&&te.xerr<=0)){var Xe=V.tickText(te.xa,te.xa.c2l(te.xerr),"hover").text;te.xerrneg!==void 0?te.xLabel+=" +"+Xe+" / -"+V.tickText(te.xa,te.xa.c2l(te.xerrneg),"hover").text:te.xLabel+="  "+Xe,se==="x"&&(te.distance+=1)}if(!isNaN(te.yerr)&&!(te.ya.type==="log"&&te.yerr<=0)){var ct=V.tickText(te.ya,te.ya.c2l(te.yerr),"hover").text;te.yerrneg!==void 0?te.yLabel+=" +"+ct+" / -"+V.tickText(te.ya,te.ya.c2l(te.yerrneg),"hover").text:te.yLabel+="  "+ct,se==="y"&&(te.distance+=1)}var pt=te.hoverinfo||te.trace.hoverinfo;return pt&&pt!=="all"&&(pt=Array.isArray(pt)?pt:pt.split("+"),pt.indexOf("x")===-1&&(te.xLabel=void 0),pt.indexOf("y")===-1&&(te.yLabel=void 0),pt.indexOf("z")===-1&&(te.zLabel=void 0),pt.indexOf("text")===-1&&(te.text=void 0),pt.indexOf("name")===-1&&(te.name=void 0)),te}function Oe(te,se,fe){var oe=fe.container,Se=fe.fullLayout,ce=Se._size,ke=fe.event,Qe=!!se.hLinePoint,Ze=!!se.vLinePoint,Xe,ct;if(oe.selectAll(".spikeline").remove(),!!(Ze||Qe)){var pt=M.combine(Se.plot_bgcolor,Se.paper_bgcolor);if(Qe){var Ye=se.hLinePoint,je,et;Xe=Ye&&Ye.xa,ct=Ye&&Ye.ya;var yt=ct.spikesnap;yt==="cursor"?(je=ke.pointerX,et=ke.pointerY):(je=Xe._offset+Ye.x,et=ct._offset+Ye.y);var ft=y.readability(Ye.color,pt)<1.5?M.contrast(pt):Ye.color,tt=ct.spikemode,wt=ct.spikethickness,Xt=ct.spikecolor||ft,Gt=V.getPxPosition(te,ct),Nt,Bt;if(tt.indexOf("toaxis")!==-1||tt.indexOf("across")!==-1){if(tt.indexOf("toaxis")!==-1&&(Nt=Gt,Bt=je),tt.indexOf("across")!==-1){var vn=ct._counterDomainMin,En=ct._counterDomainMax;ct.anchor==="free"&&(vn=Math.min(vn,ct.position),En=Math.max(En,ct.position)),Nt=ce.l+vn*ce.w,Bt=ce.l+En*ce.w}oe.insert("line",":first-child").attr({x1:Nt,x2:Bt,y1:et,y2:et,"stroke-width":wt,stroke:Xt,"stroke-dasharray":R.dashStyle(ct.spikedash,wt)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:Nt,x2:Bt,y1:et,y2:et,"stroke-width":wt+2,stroke:pt}).classed("spikeline",!0).classed("crisp",!0)}tt.indexOf("marker")!==-1&&oe.insert("circle",":first-child").attr({cx:Gt+(ct.side!=="right"?wt:-wt),cy:et,r:wt,fill:Xt}).classed("spikeline",!0)}if(Ze){var ln=se.vLinePoint,Yn,an;Xe=ln&&ln.xa,ct=ln&&ln.ya;var wn=Xe.spikesnap;wn==="cursor"?(Yn=ke.pointerX,an=ke.pointerY):(Yn=Xe._offset+ln.x,an=ct._offset+ln.y);var Xn=y.readability(ln.color,pt)<1.5?M.contrast(pt):ln.color,Un=Xe.spikemode,Sn=Xe.spikethickness,lt=Xe.spikecolor||Xn,ut=V.getPxPosition(te,Xe),xt,gt;if(Un.indexOf("toaxis")!==-1||Un.indexOf("across")!==-1){if(Un.indexOf("toaxis")!==-1&&(xt=ut,gt=an),Un.indexOf("across")!==-1){var Dt=Xe._counterDomainMin,He=Xe._counterDomainMax;Xe.anchor==="free"&&(Dt=Math.min(Dt,Xe.position),He=Math.max(He,Xe.position)),xt=ce.t+(1-He)*ce.h,gt=ce.t+(1-Dt)*ce.h}oe.insert("line",":first-child").attr({x1:Yn,x2:Yn,y1:xt,y2:gt,"stroke-width":Sn,stroke:lt,"stroke-dasharray":R.dashStyle(Xe.spikedash,Sn)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:Yn,x2:Yn,y1:xt,y2:gt,"stroke-width":Sn+2,stroke:pt}).classed("spikeline",!0).classed("crisp",!0)}Un.indexOf("marker")!==-1&&oe.insert("circle",":first-child").attr({cx:Yn,cy:ut-(Xe.side!=="top"?Sn:-Sn),r:Sn,fill:lt}).classed("spikeline",!0)}}}function Le(te,se,fe){if(!fe||fe.length!==te._hoverdata.length)return!0;for(var oe=fe.length-1;oe>=0;oe--){var Se=fe[oe],ce=te._hoverdata[oe];if(Se.curveNumber!==ce.curveNumber||String(Se.pointNumber)!==String(ce.pointNumber)||String(Se.pointNumbers)!==String(ce.pointNumbers))return!0}return!1}function Ce(te,se){return!se||se.vLinePoint!==te._spikepoints.vLinePoint||se.hLinePoint!==te._spikepoints.hLinePoint}function De(te,se){return w.plainText(te||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function Ve(te,se){for(var fe=se.charAt(0),oe=[],Se=[],ce=[],ke=0;ke<te.length;ke++){var Qe=te[ke];N.traceIs(Qe.trace,"bar-like")||N.traceIs(Qe.trace,"box-violin")?ce.push(Qe):Qe.trace[fe+"period"]?Se.push(Qe):oe.push(Qe)}return oe.concat(Se).concat(ce)}function _e(te,se,fe){var oe=se[te+"a"],Se=se[te+"Val"],ce=se.cd[0];if(oe.type==="category"||oe.type==="multicategory")Se=oe._categoriesMap[Se];else if(oe.type==="date"){var ke=se.trace[te+"periodalignment"];if(ke){var Qe=se.cd[se.index],Ze=Qe[te+"Start"];Ze===void 0&&(Ze=Qe[te]);var Xe=Qe[te+"End"];Xe===void 0&&(Xe=Qe[te]);var ct=Xe-Ze;ke==="end"?Se+=ct:ke==="middle"&&(Se+=ct/2)}Se=oe.d2c(Se)}return ce&&ce.t&&ce.t.posLetter===oe._id&&(fe.boxmode==="group"||fe.violinmode==="group")&&(Se+=ce.t.dPos),Se}function Ie(te){return te.offsetTop+te.clientTop}function re(te){return te.offsetLeft+te.clientLeft}function be(te,se){var fe=te._fullLayout,oe=se.getBoundingClientRect(),Se=oe.left,ce=oe.top,ke=Se+oe.width,Qe=ce+oe.height,Ze=b.apply3DTransform(fe._invTransform)(Se,ce),Xe=b.apply3DTransform(fe._invTransform)(ke,Qe),ct=Ze[0],pt=Ze[1],Ye=Xe[0],je=Xe[1];return{x:ct,y:pt,width:Ye-ct,height:je-pt,top:Math.min(pt,je),left:Math.min(ct,Ye),right:Math.max(ct,Ye),bottom:Math.max(pt,je)}}},8048:function(f,h,c){var g=c(1828),v=c(7901),y=c(3469).isUnifiedHover;f.exports=function(O,C,k,w){w=w||{};var T=C.legend;function R(M){w.font[M]||(w.font[M]=T?C.legend.font[M]:C.font[M])}C&&y(C.hovermode)&&(w.font||(w.font={}),R("size"),R("family"),R("color"),T?(w.bgcolor||(w.bgcolor=v.combine(C.legend.bgcolor,C.paper_bgcolor)),w.bordercolor||(w.bordercolor=C.legend.bordercolor)):w.bgcolor||(w.bgcolor=C.paper_bgcolor)),k("hoverlabel.bgcolor",w.bgcolor),k("hoverlabel.bordercolor",w.bordercolor),k("hoverlabel.namelength",w.namelength),g.coerceFont(k,"hoverlabel.font",w.font),k("hoverlabel.align",w.align)}},8212:function(f,h,c){var g=c(1828),v=c(528);f.exports=function(b,O){function C(k,w){return O[k]!==void 0?O[k]:g.coerce(b,O,v,k,w)}return C("clickmode"),C("hovermode")}},211:function(f,h,c){var g=c(9898),v=c(1828),y=c(8569),b=c(3469),O=c(528),C=c(8335);f.exports={moduleType:"component",name:"fx",constants:c(6675),schema:{layout:O},attributes:c(7914),layoutAttributes:O,supplyLayoutGlobalDefaults:c(2774),supplyDefaults:c(4268),supplyLayoutDefaults:c(4938),calc:c(732),getDistanceFunction:b.getDistanceFunction,getClosest:b.getClosest,inbox:b.inbox,quadrature:b.quadrature,appendArrayPointValue:b.appendArrayPointValue,castHoverOption:w,castHoverinfo:T,hover:C.hover,unhover:y.unhover,loneHover:C.loneHover,loneUnhover:k,click:c(5914)};function k(R){var M=v.isD3Selection(R)?R:g.select(R);M.selectAll("g.hovertext").remove(),M.selectAll(".spikeline").remove()}function w(R,M,I){return v.castOption(R,M,"hoverlabel."+I)}function T(R,M,I){function V(N){return v.coerceHoverinfo({hoverinfo:N},{_module:R._module},M)}return v.castOption(R,I,"hoverinfo",V)}},528:function(f,h,c){var g=c(6675),v=c(1940),y=v({editType:"none"});y.family.dflt=g.HOVERFONT,y.size.dflt=g.HOVERFONTSIZE,f.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:y,grouptitlefont:v({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(f,h,c){var g=c(1828),v=c(528),y=c(8212),b=c(8048);f.exports=function(C,k){function w(N,Q){return g.coerce(C,k,v,N,Q)}var T=y(C,k);T&&(w("hoverdistance"),w("spikedistance"));var R=w("dragmode");R==="select"&&w("selectdirection");var M=k._has("mapbox"),I=k._has("geo"),V=k._basePlotModules.length;k.dragmode==="zoom"&&((M||I)&&V===1||M&&I&&V===2)&&(k.dragmode="pan"),b(C,k,w),g.coerceFont(w,"hoverlabel.grouptitlefont",k.hoverlabel.font)}},2774:function(f,h,c){var g=c(1828),v=c(8048),y=c(528);f.exports=function(O,C){function k(w,T){return g.coerce(O,C,y,w,T)}v(O,C,k)}},3312:function(f,h,c){var g=c(1828),v=c(587).counter,y=c(7670).Y,b=c(5555).idRegex,O=c(4467),C={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[v("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:y({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function k(I,V,N){var Q=V[N+"axes"],z=Object.keys((I._splomAxes||{})[N]||{});if(Array.isArray(Q))return Q;if(z.length)return z}function w(I,V){var N=I.grid||{},Q=k(V,N,"x"),z=k(V,N,"y");if(!I.grid&&!Q&&!z)return;var U=Array.isArray(N.subplots)&&Array.isArray(N.subplots[0]),F=Array.isArray(Q),B=Array.isArray(z),E=F&&Q!==N.xaxes&&B&&z!==N.yaxes,W,X;U?(W=N.subplots.length,X=N.subplots[0].length):(B&&(W=z.length),F&&(X=Q.length));var ie=O.newContainer(V,"grid");function L(ne,le){return g.coerce(N,ie,C,ne,le)}var me=L("rows",W),ae=L("columns",X);if(!(me*ae>1)){delete V.grid;return}if(!U&&!F&&!B){var q=L("pattern")==="independent";q&&(U=!0)}ie._hasSubplotGrid=U;var de=L("roworder"),ee=de==="top to bottom",xe=U?.2:.1,we=U?.3:.1,Be,pe;E&&V._splomGridDflt&&(Be=V._splomGridDflt.xside,pe=V._splomGridDflt.yside),ie._domains={x:T("x",L,xe,Be,ae),y:T("y",L,we,pe,me,ee)}}function T(I,V,N,Q,z,U){var F=V(I+"gap",N),B=V("domain."+I);V(I+"side",Q);for(var E=new Array(z),W=B[0],X=(B[1]-W)/(z-F),ie=X*(1-F),L=0;L<z;L++){var me=W+X*L;E[U?z-1-L:L]=[me,me+ie]}return E}function R(I,V){var N=V.grid;if(!(!N||!N._domains)){var Q=I.grid||{},z=V._subplots,U=N._hasSubplotGrid,F=N.rows,B=N.columns,E=N.pattern==="independent",W,X,ie,L,me,ae,q,de=N._axisMap={};if(U){var ee=Q.subplots||[];ae=N.subplots=new Array(F);var xe=1;for(W=0;W<F;W++){var we=ae[W]=new Array(B),Be=ee[W]||[];for(X=0;X<B;X++)if(E?(me=xe===1?"xy":"x"+xe+"y"+xe,xe++):me=Be[X],we[X]="",z.cartesian.indexOf(me)!==-1){if(q=me.indexOf("y"),ie=me.slice(0,q),L=me.slice(q),de[ie]!==void 0&&de[ie]!==X||de[L]!==void 0&&de[L]!==W)continue;we[X]=me,de[ie]=X,de[L]=W}}}else{var pe=k(V,Q,"x"),ne=k(V,Q,"y");N.xaxes=M(pe,z.xaxis,B,de,"x"),N.yaxes=M(ne,z.yaxis,F,de,"y")}var le=N._anchors={},Y=N.roworder==="top to bottom";for(var ve in de){var Oe=ve.charAt(0),Le=N[Oe+"side"],Ce,De,Ve;if(Le.length<8)le[ve]="free";else if(Oe==="x"){if(Le.charAt(0)==="t"===Y?(Ce=0,De=1,Ve=F):(Ce=F-1,De=-1,Ve=-1),U){var _e=de[ve];for(W=Ce;W!==Ve;W+=De)if(me=ae[W][_e],!!me&&(q=me.indexOf("y"),me.slice(0,q)===ve)){le[ve]=me.slice(q);break}}else for(W=Ce;W!==Ve;W+=De)if(L=N.yaxes[W],z.cartesian.indexOf(ve+L)!==-1){le[ve]=L;break}}else if(Le.charAt(0)==="l"?(Ce=0,De=1,Ve=B):(Ce=B-1,De=-1,Ve=-1),U){var Ie=de[ve];for(W=Ce;W!==Ve;W+=De)if(me=ae[Ie][W],!!me&&(q=me.indexOf("y"),me.slice(q)===ve)){le[ve]=me.slice(0,q);break}}else for(W=Ce;W!==Ve;W+=De)if(ie=N.xaxes[W],z.cartesian.indexOf(ie+ve)!==-1){le[ve]=ie;break}}}}function M(I,V,N,Q,z){var U=new Array(N),F;function B(E,W){V.indexOf(W)!==-1&&Q[W]===void 0?(U[E]=W,Q[W]=E):U[E]=""}if(Array.isArray(I))for(F=0;F<N;F++)B(F,I[F]);else for(B(0,z),F=1;F<N;F++)B(F,z+(F+1));return U}f.exports={moduleType:"component",name:"grid",schema:{layout:{grid:C}},layoutAttributes:C,sizeDefaults:w,contentDefaults:R}},9819:function(f,h,c){var g=c(5555),v=c(4467).templatedArray;c(4695),f.exports=v("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(f,h,c){var g=c(2770),v=c(8163);f.exports=function(b,O,C,k){O=O||{};var w=C==="log"&&O.type==="linear",T=C==="linear"&&O.type==="log";if(w||T){for(var R=b._fullLayout.images,M=O._id.charAt(0),I,V,N=0;N<R.length;N++)if(I=R[N],V="images["+N+"].",I[M+"ref"]===O._id){var Q=I[M],z=I["size"+M],U=null,F=null;if(w){U=v(Q,O.range);var B=z/Math.pow(10,U)/2;F=2*Math.log(B+Math.sqrt(1+B*B))/Math.LN10}else U=Math.pow(10,Q),F=U*(Math.pow(10,z/2)-Math.pow(10,-z/2));g(U)?g(F)||(F=null):(U=null,F=null),k(V+M,U),k(V+"size"+M,F)}}}},1603:function(f,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(9819),O="images";f.exports=function(w,T){var R={name:O,handleItemDefaults:C};y(w,T,R)};function C(k,w,T){function R(B,E){return g.coerce(k,w,b,B,E)}var M=R("source"),I=R("visible",!!M);if(!I)return w;R("layer"),R("xanchor"),R("yanchor"),R("sizex"),R("sizey"),R("sizing"),R("opacity");for(var V={_fullLayout:T},N=["x","y"],Q=0;Q<2;Q++){var z=N[Q],U=v.coerceRef(k,w,V,z,"paper",void 0);if(U!=="paper"){var F=v.getFromId(V,U);F._imgIndices.push(w._index)}v.coercePosition(w,V,R,U,z,0)}return w}},750:function(f,h,c){var g=c(9898),v=c(1424),y=c(9298),b=c(1675),O=c(7922);f.exports=function(k){var w=k._fullLayout,T=[],R={},M=[],I,V;for(V=0;V<w.images.length;V++){var N=w.images[V];if(N.visible)if(N.layer==="below"&&N.xref!=="paper"&&N.yref!=="paper"){I=b.ref2id(N.xref)+b.ref2id(N.yref);var Q=w._plots[I];if(!Q){M.push(N);continue}Q.mainplot&&(I=Q.mainplot.id),R[I]||(R[I]=[]),R[I].push(N)}else N.layer==="above"?T.push(N):M.push(N)}var z={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function U(L){var me=g.select(this);if(this._imgSrc!==L.source)if(me.attr("xmlns",O.svg),L.source&&L.source.slice(0,5)==="data:")me.attr("xlink:href",L.source),this._imgSrc=L.source;else{var ae=new Promise((function(q){var de=new Image;this.img=de,de.setAttribute("crossOrigin","anonymous"),de.onerror=ee,de.onload=function(){var xe=document.createElement("canvas");xe.width=this.width,xe.height=this.height;var we=xe.getContext("2d",{willReadFrequently:!0});we.drawImage(this,0,0);var Be=xe.toDataURL("image/png");me.attr("xlink:href",Be),q()},me.on("error",ee),de.src=L.source,this._imgSrc=L.source;function ee(){me.remove(),q()}}).bind(this));k._promises.push(ae)}}function F(L){var me=g.select(this),ae=y.getFromId(k,L.xref),q=y.getFromId(k,L.yref),de=y.getRefType(L.xref)==="domain",ee=y.getRefType(L.yref)==="domain",xe=w._size,we,Be;ae!==void 0?we=typeof L.xref=="string"&&de?ae._length*L.sizex:Math.abs(ae.l2p(L.sizex)-ae.l2p(0)):we=L.sizex*xe.w,q!==void 0?Be=typeof L.yref=="string"&&ee?q._length*L.sizey:Math.abs(q.l2p(L.sizey)-q.l2p(0)):Be=L.sizey*xe.h;var pe=we*z.x[L.xanchor].offset,ne=Be*z.y[L.yanchor].offset,le=z.x[L.xanchor].sizing+z.y[L.yanchor].sizing,Y,ve;switch(ae!==void 0?Y=typeof L.xref=="string"&&de?ae._length*L.x+ae._offset:ae.r2p(L.x)+ae._offset:Y=L.x*xe.w+xe.l,Y+=pe,q!==void 0?ve=typeof L.yref=="string"&&ee?q._length*(1-L.y)+q._offset:q.r2p(L.y)+q._offset:ve=xe.h-L.y*xe.h+xe.t,ve+=ne,L.sizing){case"fill":le+=" slice";break;case"stretch":le="none";break}me.attr({x:Y,y:ve,width:we,height:Be,preserveAspectRatio:le,opacity:L.opacity});var Oe=ae&&y.getRefType(L.xref)!=="domain"?ae._id:"",Le=q&&y.getRefType(L.yref)!=="domain"?q._id:"",Ce=Oe+Le;v.setClipUrl(me,Ce?"clip"+w._uid+Ce:null,k)}var B=w._imageLowerLayer.selectAll("image").data(M),E=w._imageUpperLayer.selectAll("image").data(T);B.enter().append("image"),E.enter().append("image"),B.exit().remove(),E.exit().remove(),B.each(function(L){U.bind(this)(L),F.bind(this)(L)}),E.each(function(L){U.bind(this)(L),F.bind(this)(L)});var W=Object.keys(w._plots);for(V=0;V<W.length;V++){I=W[V];var X=w._plots[I];if(X.imagelayer){var ie=X.imagelayer.selectAll("image").data(R[I]||[]);ie.enter().append("image"),ie.exit().remove(),ie.each(function(L){U.bind(this)(L),F.bind(this)(L)})}}}},8804:function(f,h,c){f.exports={moduleType:"component",name:"images",layoutAttributes:c(9819),supplyLayoutDefaults:c(1603),includeBasePlot:c(6325)("images"),draw:c(750),convertCoords:c(5378)}},3030:function(f,h,c){var g=c(1940),v=c(2399);f.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(f){f.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(f,h,c){var g=c(3972),v=c(1828),y=c(4467),b=c(9012),O=c(3030),C=c(820),k=c(130);function w(T,R,M,I){var V=R[T]||{},N=y.newContainer(M,T);function Q(Ve,_e){return v.coerce(V,N,O,Ve,_e)}var z=v.coerceFont(Q,"font",M.font);Q("bgcolor",M.paper_bgcolor),Q("bordercolor");var U=Q("visible");if(U){for(var F,B=function(Ve,_e){var Ie=F._input,re=F;return v.coerce(Ie,re,b,Ve,_e)},E=M.font||{},W=v.coerceFont(Q,"grouptitlefont",v.extendFlat({},E,{size:Math.round(E.size*1.1)})),X=0,ie=!1,L="normal",me=(M.shapes||[]).filter(function(Ve){return Ve.showlegend}),ae=I.concat(me).filter(function(Ve){return T===(Ve.legend||"legend")}),q=0;q<ae.length;q++)if(F=ae[q],!!F.visible){var de=F._isShape;(F.showlegend||F._dfltShowLegend&&!(F._module&&F._module.attributes&&F._module.attributes.showlegend&&F._module.attributes.showlegend.dflt===!1))&&(X++,F.showlegend&&(ie=!0,(!de&&g.traceIs(F,"pie-like")||F._input.showlegend===!0)&&X++),v.coerceFont(B,"legendgrouptitle.font",W)),(!de&&g.traceIs(F,"bar")&&M.barmode==="stack"||["tonextx","tonexty"].indexOf(F.fill)!==-1)&&(L=k.isGrouped({traceorder:L})?"grouped+reversed":"reversed"),F.legendgroup!==void 0&&F.legendgroup!==""&&(L=k.isReversed({traceorder:L})?"reversed+grouped":"grouped")}var ee=v.coerce(R,M,C,"showlegend",ie&&X>(T==="legend"?1:0));if(ee===!1&&(M[T]=void 0),!(ee===!1&&!V.uirevision)&&(Q("uirevision",M.uirevision),ee!==!1)){Q("borderwidth");var xe=Q("orientation"),we=Q("yref"),Be=Q("xref"),pe=xe==="h",ne=we==="paper",le=Be==="paper",Y,ve,Oe,Le="left";pe?(Y=0,g.getComponentMethod("rangeslider","isVisible")(R.xaxis)?ne?(ve=1.1,Oe="bottom"):(ve=1,Oe="top"):ne?(ve=-.1,Oe="top"):(ve=0,Oe="bottom")):(ve=1,Oe="auto",le?Y=1.02:(Y=1,Le="right")),v.coerce(V,N,{x:{valType:"number",editType:"legend",min:le?-2:0,max:le?3:1,dflt:Y}},"x"),v.coerce(V,N,{y:{valType:"number",editType:"legend",min:ne?-2:0,max:ne?3:1,dflt:ve}},"y"),Q("traceorder",L),k.isGrouped(M[T])&&Q("tracegroupgap"),Q("entrywidth"),Q("entrywidthmode"),Q("itemsizing"),Q("itemwidth"),Q("itemclick"),Q("itemdoubleclick"),Q("groupclick"),Q("xanchor",Le),Q("yanchor",Oe),Q("valign"),v.noneOrAll(V,N,["x","y"]);var Ce=Q("title.text");if(Ce){Q("title.side",pe?"left":"top");var De=v.extendFlat({},z,{size:v.bigFont(z.size)});v.coerceFont(Q,"title.font",De)}}}}f.exports=function(R,M,I){var V,N=I.slice(),Q=M.shapes;if(Q)for(V=0;V<Q.length;V++){var z=Q[V];if(z.showlegend){var U={_input:z._input,visible:z.visible,showlegend:z.showlegend,legend:z.legend};N.push(U)}}var F=["legend"];for(V=0;V<N.length;V++)v.pushUnique(F,N[V].legend);for(M._legends=[],V=0;V<F.length;V++){var B=F[V];w(B,R,M,N),M[B]&&M[B].visible&&(M[B]._id=B),M._legends.push(B)}}},3969:function(f,h,c){var g=c(9898),v=c(1828),y=c(4875),b=c(3972),O=c(1086),C=c(8569),k=c(1424),w=c(7901),T=c(3893),R=c(5167),M=c(4928),I=c(8783),V=I.LINE_SPACING,N=I.FROM_TL,Q=I.FROM_BR,z=c(2424),U=c(3630),F=c(130),B=1,E=/^legend[0-9]*$/;f.exports=function(ve,Oe){if(Oe)X(ve,Oe);else{var Le=ve._fullLayout,Ce=Le._legends,De=Le._infolayer.selectAll('[class^="legend"]');De.each(function(){var re=g.select(this),be=re.attr("class"),te=be.split(" ")[0];te.match(E)&&Ce.indexOf(te)===-1&&re.remove()});for(var Ve=0;Ve<Ce.length;Ve++){var _e=Ce[Ve],Ie=ve._fullLayout[_e];X(ve,Ie)}}};function W(Y,ve,Oe){if(!(ve.title.side!=="top center"&&ve.title.side!=="top right")){var Le=ve.title.font,Ce=Le.size*V,De=0,Ve=Y.node(),_e=k.bBox(Ve).width;ve.title.side==="top center"?De=.5*(ve._width-2*Oe-2*M.titlePad-_e):ve.title.side==="top right"&&(De=ve._width-2*Oe-2*M.titlePad-_e),T.positionText(Y,Oe+M.titlePad+De,Oe+Ce)}}function X(Y,ve){var Oe=ve||{},Le=Y._fullLayout,Ce=le(Oe),De,Ve,_e=Oe._inHover;if(_e?(Ve=Oe.layer,De="hover"):(Ve=Le._infolayer,De=Ce),!!Ve){De+=Le._uid,Y._legendMouseDownTime||(Y._legendMouseDownTime=0);var Ie;if(_e){if(!Oe.entries)return;Ie=z(Oe.entries,Oe)}else{for(var re=(Y.calcdata||[]).slice(),be=Le.shapes,te=0;te<be.length;te++){var se=be[te];if(se.showlegend){var fe={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};re.push([{trace:fe}])}}Ie=Le.showlegend&&z(re,Oe,Le._legends.length>1)}var oe=Le.hiddenlabels||[];if(!_e&&(!Le.showlegend||!Ie.length))return Ve.selectAll("."+Ce).remove(),Le._topdefs.select("#"+De).remove(),y.autoMargin(Y,Ce);var Se=v.ensureSingle(Ve,"g",Ce,function(je){_e||je.attr("pointer-events","all")}),ce=v.ensureSingleById(Le._topdefs,"clipPath",De,function(je){je.append("rect")}),ke=v.ensureSingle(Se,"rect","bg",function(je){je.attr("shape-rendering","crispEdges")});ke.call(w.stroke,Oe.bordercolor).call(w.fill,Oe.bgcolor).style("stroke-width",Oe.borderwidth+"px");var Qe=v.ensureSingle(Se,"g","scrollbox"),Ze=Oe.title;Oe._titleWidth=0,Oe._titleHeight=0;var Xe;Ze.text?(Xe=v.ensureSingle(Qe,"text",Ce+"titletext"),Xe.attr("text-anchor","start").call(k.font,Ze.font).text(Ze.text),de(Xe,Qe,Y,Oe,B)):Qe.selectAll("."+Ce+"titletext").remove();var ct=v.ensureSingle(Se,"rect","scrollbar",function(je){je.attr(M.scrollBarEnterAttrs).call(w.fill,M.scrollBarColor)}),pt=Qe.selectAll("g.groups").data(Ie);pt.enter().append("g").attr("class","groups"),pt.exit().remove();var Ye=pt.selectAll("g.traces").data(v.identity);Ye.enter().append("g").attr("class","traces"),Ye.exit().remove(),Ye.style("opacity",function(je){var et=je[0].trace;return b.traceIs(et,"pie-like")?oe.indexOf(je[0].label)!==-1?.5:1:et.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(me,Y,Oe)}).call(U,Y,Oe).each(function(){_e||g.select(this).call(q,Y,Ce)}),v.syncOrAsync([y.previousPromises,function(){return we(Y,pt,Ye,Oe)},function(){var je=Le._size,et=Oe.borderwidth,yt=Oe.xref==="paper",ft=Oe.yref==="paper";if(Ze.text&&W(Xe,Oe,et),!_e){var tt,wt;yt?tt=je.l+je.w*Oe.x-N[pe(Oe)]*Oe._width:tt=Le.width*Oe.x-N[pe(Oe)]*Oe._width,ft?wt=je.t+je.h*(1-Oe.y)-N[ne(Oe)]*Oe._effHeight:wt=Le.height*(1-Oe.y)-N[ne(Oe)]*Oe._effHeight;var Xt=Be(Y,Ce,tt,wt);if(Xt)return;if(Le.margin.autoexpand){var Gt=tt,Nt=wt;tt=yt?v.constrain(tt,0,Le.width-Oe._width):Gt,wt=ft?v.constrain(wt,0,Le.height-Oe._effHeight):Nt,tt!==Gt&&v.log("Constrain "+Ce+".x to make legend fit inside graph"),wt!==Nt&&v.log("Constrain "+Ce+".y to make legend fit inside graph")}k.setTranslate(Se,tt,wt)}if(ct.on(".drag",null),Se.on("wheel",null),_e||Oe._height<=Oe._maxHeight||Y._context.staticPlot){var Bt=Oe._effHeight;_e&&(Bt=Oe._height),ke.attr({width:Oe._width-et,height:Bt-et,x:et/2,y:et/2}),k.setTranslate(Qe,0,0),ce.select("rect").attr({width:Oe._width-2*et,height:Bt-2*et,x:et,y:et}),k.setClipUrl(Qe,De,Y),k.setRect(ct,0,0,0,0),delete Oe._scrollY}else{var vn=Math.max(M.scrollBarMinHeight,Oe._effHeight*Oe._effHeight/Oe._height),En=Oe._effHeight-vn-2*M.scrollBarMargin,ln=Oe._height-Oe._effHeight,Yn=En/ln,an=Math.min(Oe._scrollY||0,ln);ke.attr({width:Oe._width-2*et+M.scrollBarWidth+M.scrollBarMargin,height:Oe._effHeight-et,x:et/2,y:et/2}),ce.select("rect").attr({width:Oe._width-2*et+M.scrollBarWidth+M.scrollBarMargin,height:Oe._effHeight-2*et,x:et,y:et+an}),k.setClipUrl(Qe,De,Y),gt(an,vn,Yn),Se.on("wheel",function(){an=v.constrain(Oe._scrollY+g.event.deltaY/En*ln,0,ln),gt(an,vn,Yn),an!==0&&an!==ln&&g.event.preventDefault()});var wn,Xn,Un,Sn=function(mt,Tt,Pt){var dn=(Pt-Tt)/Yn+mt;return v.constrain(dn,0,ln)},lt=function(mt,Tt,Pt){var dn=(Tt-Pt)/Yn+mt;return v.constrain(dn,0,ln)},ut=g.behavior.drag().on("dragstart",function(){var mt=g.event.sourceEvent;mt.type==="touchstart"?wn=mt.changedTouches[0].clientY:wn=mt.clientY,Un=an}).on("drag",function(){var mt=g.event.sourceEvent;mt.buttons===2||mt.ctrlKey||(mt.type==="touchmove"?Xn=mt.changedTouches[0].clientY:Xn=mt.clientY,an=Sn(Un,wn,Xn),gt(an,vn,Yn))});ct.call(ut);var xt=g.behavior.drag().on("dragstart",function(){var mt=g.event.sourceEvent;mt.type==="touchstart"&&(wn=mt.changedTouches[0].clientY,Un=an)}).on("drag",function(){var mt=g.event.sourceEvent;mt.type==="touchmove"&&(Xn=mt.changedTouches[0].clientY,an=lt(Un,wn,Xn),gt(an,vn,Yn))});Qe.call(xt)}function gt(mt,Tt,Pt){Oe._scrollY=Y._fullLayout[Ce]._scrollY=mt,k.setTranslate(Qe,0,-mt),k.setRect(ct,Oe._width,M.scrollBarMargin+mt*Pt,M.scrollBarWidth,Tt),ce.select("rect").attr("y",et+mt)}if(Y._context.edits.legendPosition){var Dt,He,at,dt;Se.classed("cursor-move",!0),C.init({element:Se.node(),gd:Y,prepFn:function(){var mt=k.getTranslate(Se);at=mt.x,dt=mt.y},moveFn:function(mt,Tt){var Pt=at+mt,dn=dt+Tt;k.setTranslate(Se,Pt,dn),Dt=C.align(Pt,Oe._width,je.l,je.l+je.w,Oe.xanchor),He=C.align(dn+Oe._height,-Oe._height,je.t+je.h,je.t,Oe.yanchor)},doneFn:function(){if(Dt!==void 0&&He!==void 0){var mt={};mt[Ce+".x"]=Dt,mt[Ce+".y"]=He,b.call("_guiRelayout",Y,mt)}},clickFn:function(mt,Tt){var Pt=Ve.selectAll("g.traces").filter(function(){var dn=this.getBoundingClientRect();return Tt.clientX>=dn.left&&Tt.clientX<=dn.right&&Tt.clientY>=dn.top&&Tt.clientY<=dn.bottom});Pt.size()>0&&L(Y,Se,Pt,mt,Tt)}})}}],Y)}}function ie(Y,ve,Oe){var Le=Y[0],Ce=Le.width,De=ve.entrywidthmode,Ve=Le.trace.legendwidth||ve.entrywidth;return De==="fraction"?ve._maxWidth*Ve:Oe+(Ve||Ce)}function L(Y,ve,Oe,Le,Ce){var De=Oe.data()[0][0].trace,Ve={event:Ce,node:Oe.node(),curveNumber:De.index,expandedIndex:De._expandedIndex,data:Y.data,layout:Y.layout,frames:Y._transitionData._frames,config:Y._context,fullData:Y._fullData,fullLayout:Y._fullLayout};De._group&&(Ve.group=De._group),b.traceIs(De,"pie-like")&&(Ve.label=Oe.datum()[0].label);var _e=O.triggerHandler(Y,"plotly_legendclick",Ve);if(Le===1){if(_e===!1)return;ve._clickTimeout=setTimeout(function(){Y._fullLayout&&R(Oe,Y,Le)},Y._context.doubleClickDelay)}else if(Le===2){ve._clickTimeout&&clearTimeout(ve._clickTimeout),Y._legendMouseDownTime=0;var Ie=O.triggerHandler(Y,"plotly_legenddoubleclick",Ve);Ie!==!1&&_e!==!1&&R(Oe,Y,Le)}}function me(Y,ve,Oe){var Le=le(Oe),Ce=Y.data()[0][0],De=Ce.trace,Ve=b.traceIs(De,"pie-like"),_e=!Oe._inHover&&ve._context.edits.legendText&&!Ve,Ie=Oe._maxNameLength,re,be;Ce.groupTitle?(re=Ce.groupTitle.text,be=Ce.groupTitle.font):(be=Oe.font,Oe.entries?re=Ce.text:(re=Ve?Ce.label:De.name,De._meta&&(re=v.templateString(re,De._meta))));var te=v.ensureSingle(Y,"text",Le+"text");te.attr("text-anchor","start").call(k.font,be).text(_e?ae(re,Ie):re);var se=Oe.itemwidth+M.itemGap*2;T.positionText(te,se,0),_e?te.call(T.makeEditable,{gd:ve,text:re}).call(de,Y,ve,Oe).on("edit",function(fe){this.text(ae(fe,Ie)).call(de,Y,ve,Oe);var oe=Ce.trace._fullInput||{},Se={};if(b.hasTransform(oe,"groupby")){var ce=b.getTransformIndices(oe,"groupby"),ke=ce[ce.length-1],Qe=v.keyedContainer(oe,"transforms["+ke+"].styles","target","value.name");Qe.set(Ce.trace._group,fe),Se=Qe.constructUpdate()}else Se.name=fe;return oe._isShape?b.call("_guiRelayout",ve,"shapes["+De.index+"].name",Se.name):b.call("_guiRestyle",ve,Se,De.index)}):de(te,Y,ve,Oe)}function ae(Y,ve){var Oe=Math.max(4,ve);if(Y&&Y.trim().length>=Oe/2)return Y;Y=Y||"";for(var Le=Oe-Y.length;Le>0;Le--)Y+=" ";return Y}function q(Y,ve,Oe){var Le=ve._context.doubleClickDelay,Ce,De=1,Ve=v.ensureSingle(Y,"rect",Oe+"toggle",function(_e){ve._context.staticPlot||_e.style("cursor","pointer").attr("pointer-events","all"),_e.call(w.fill,"rgba(0,0,0,0)")});ve._context.staticPlot||(Ve.on("mousedown",function(){Ce=new Date().getTime(),Ce-ve._legendMouseDownTime<Le?De+=1:(De=1,ve._legendMouseDownTime=Ce)}),Ve.on("mouseup",function(){if(!(ve._dragged||ve._editing)){var _e=ve._fullLayout[Oe];new Date().getTime()-ve._legendMouseDownTime>Le&&(De=Math.max(De-1,1)),L(ve,_e,Y,De,g.event)}}))}function de(Y,ve,Oe,Le,Ce){Le._inHover&&Y.attr("data-notex",!0),T.convertToTspans(Y,Oe,function(){ee(ve,Oe,Le,Ce)})}function ee(Y,ve,Oe,Le){var Ce=Y.data()[0][0];if(!Oe._inHover&&Ce&&!Ce.trace.showlegend){Y.remove();return}var De=Y.select("g[class*=math-group]"),Ve=De.node(),_e=le(Oe);Oe||(Oe=ve._fullLayout[_e]);var Ie=Oe.borderwidth,re;Le===B?re=Oe.title.font:Ce.groupTitle?re=Ce.groupTitle.font:re=Oe.font;var be=re.size*V,te,se;if(Ve){var fe=k.bBox(Ve);te=fe.height,se=fe.width,Le===B?k.setTranslate(De,Ie,Ie+te*.75):k.setTranslate(De,0,te*.25)}else{var oe="."+_e+(Le===B?"title":"")+"text",Se=Y.select(oe),ce=T.lineCount(Se),ke=Se.node();if(te=be*ce,se=ke?k.bBox(ke).width:0,Le===B)Oe.title.side==="left"&&(se+=M.itemGap*2),T.positionText(Se,Ie+M.titlePad,Ie+be);else{var Qe=M.itemGap*2+Oe.itemwidth;Ce.groupTitle&&(Qe=M.itemGap,se-=Oe.itemwidth),T.positionText(Se,Qe,-be*((ce-1)/2-.3))}}Le===B?(Oe._titleWidth=se,Oe._titleHeight=te):(Ce.lineHeight=be,Ce.height=Math.max(te,16)+3,Ce.width=se)}function xe(Y){var ve=0,Oe=0,Le=Y.title.side;return Le&&(Le.indexOf("left")!==-1&&(ve=Y._titleWidth),Le.indexOf("top")!==-1&&(Oe=Y._titleHeight)),[ve,Oe]}function we(Y,ve,Oe,Le){var Ce=Y._fullLayout,De=le(Le);Le||(Le=Ce[De]);var Ve=Ce._size,_e=F.isVertical(Le),Ie=F.isGrouped(Le),re=Le.entrywidthmode==="fraction",be=Le.borderwidth,te=2*be,se=M.itemGap,fe=Le.itemwidth+se*2,oe=2*(be+se),Se=ne(Le),ce=Le.y<0||Le.y===0&&Se==="top",ke=Le.y>1||Le.y===1&&Se==="bottom",Qe=Le.tracegroupgap,Ze={};Le._maxHeight=Math.max(ce||ke?Ce.height/2:Ve.h,30);var Xe=0;Le._width=0,Le._height=0;var ct=xe(Le);if(_e)Oe.each(function(Un){var Sn=Un[0].height;k.setTranslate(this,be+ct[0],be+ct[1]+Le._height+Sn/2+se),Le._height+=Sn,Le._width=Math.max(Le._width,Un[0].width)}),Xe=fe+Le._width,Le._width+=se+fe+te,Le._height+=oe,Ie&&(ve.each(function(Un,Sn){k.setTranslate(this,0,Sn*Le.tracegroupgap)}),Le._height+=(Le._lgroupsLength-1)*Le.tracegroupgap);else{var pt=pe(Le),Ye=Le.x<0||Le.x===0&&pt==="right",je=Le.x>1||Le.x===1&&pt==="left",et=ke||ce,yt=Ce.width/2;Le._maxWidth=Math.max(Ye?et&&pt==="left"?Ve.l+Ve.w:yt:je?et&&pt==="right"?Ve.r+Ve.w:yt:Ve.w,2*fe);var ft=0,tt=0;Oe.each(function(Un){var Sn=ie(Un,Le,fe);ft=Math.max(ft,Sn),tt+=Sn}),Xe=null;var wt=0;if(Ie){var Xt=0,Gt=0,Nt=0;ve.each(function(){var Un=0,Sn=0;g.select(this).selectAll("g.traces").each(function(ut){var xt=ie(ut,Le,fe),gt=ut[0].height;k.setTranslate(this,ct[0],ct[1]+be+se+gt/2+Sn),Sn+=gt,Un=Math.max(Un,xt),Ze[ut[0].trace.legendgroup]=Un});var lt=Un+se;Gt>0&&lt+be+Gt>Le._maxWidth?(wt=Math.max(wt,Gt),Gt=0,Nt+=Xt+Qe,Xt=Sn):Xt=Math.max(Xt,Sn),k.setTranslate(this,Gt,Nt),Gt+=lt}),Le._width=Math.max(wt,Gt)+be,Le._height=Nt+Xt+oe}else{var Bt=Oe.size(),vn=tt+te+(Bt-1)*se<Le._maxWidth,En=0,ln=0,Yn=0,an=0;Oe.each(function(Un){var Sn=Un[0].height,lt=ie(Un,Le,fe),ut=vn?lt:ft;re||(ut+=se),ut+be+ln-se>=Le._maxWidth&&(wt=Math.max(wt,an),ln=0,Yn+=En,Le._height+=En,En=0),k.setTranslate(this,ct[0]+be+ln,ct[1]+be+Yn+Sn/2+se),an=ln+lt+se,ln+=ut,En=Math.max(En,Sn)}),vn?(Le._width=ln+te,Le._height=En+oe):(Le._width=Math.max(wt,an)+te,Le._height+=En+oe)}}Le._width=Math.ceil(Math.max(Le._width+ct[0],Le._titleWidth+2*(be+M.titlePad))),Le._height=Math.ceil(Math.max(Le._height+ct[1],Le._titleHeight+2*(be+M.itemGap))),Le._effHeight=Math.min(Le._height,Le._maxHeight);var wn=Y._context.edits,Xn=wn.legendText||wn.legendPosition;Oe.each(function(Un){var Sn=g.select(this).select("."+De+"toggle"),lt=Un[0].height,ut=Un[0].trace.legendgroup,xt=ie(Un,Le,fe);Ie&&ut!==""&&(xt=Ze[ut]);var gt=Xn?fe:Xe||xt;!_e&&!re&&(gt+=se/2),k.setRect(Sn,0,-lt/2,gt,lt)})}function Be(Y,ve,Oe,Le){var Ce=Y._fullLayout,De=Ce[ve],Ve=pe(De),_e=ne(De),Ie=De.xref==="paper",re=De.yref==="paper";Y._fullLayout._reservedMargin[ve]={};var be=De.y<.5?"b":"t",te=De.x<.5?"l":"r",se={r:Ce.width-Oe,l:Oe+De._width,b:Ce.height-Le,t:Le+De._effHeight};if(Ie&&re)return y.autoMargin(Y,ve,{x:De.x,y:De.y,l:De._width*N[Ve],r:De._width*Q[Ve],b:De._effHeight*Q[_e],t:De._effHeight*N[_e]});Ie?Y._fullLayout._reservedMargin[ve][be]=se[be]:re||De.orientation==="v"?Y._fullLayout._reservedMargin[ve][te]=se[te]:Y._fullLayout._reservedMargin[ve][be]=se[be]}function pe(Y){return v.isRightAnchor(Y)?"right":v.isCenterAnchor(Y)?"center":"left"}function ne(Y){return v.isBottomAnchor(Y)?"bottom":v.isMiddleAnchor(Y)?"middle":"top"}function le(Y){return Y._id||"legend"}},2424:function(f,h,c){var g=c(3972),v=c(130);f.exports=function(b,O,C){var k=O._inHover,w=v.isGrouped(O),T=v.isReversed(O),R={},M=[],I=!1,V={},N=0,Q=0,z,U;function F(Y,ve,Oe){if(O.visible!==!1&&!(C&&Y!==O._id))if(ve===""||!v.isGrouped(O)){var Le="~~i"+N;M.push(Le),R[Le]=[Oe],N++}else M.indexOf(ve)===-1?(M.push(ve),I=!0,R[ve]=[Oe]):R[ve].push(Oe)}for(z=0;z<b.length;z++){var B=b[z],E=B[0],W=E.trace,X=W.legend,ie=W.legendgroup;if(!(!k&&(!W.visible||!W.showlegend)))if(g.traceIs(W,"pie-like"))for(V[ie]||(V[ie]={}),U=0;U<B.length;U++){var L=B[U].label;V[ie][L]||(F(X,ie,{label:L,color:B[U].color,i:B[U].i,trace:W,pts:B[U].pts}),V[ie][L]=!0,Q=Math.max(Q,(L||"").length))}else F(X,ie,E),Q=Math.max(Q,(W.name||"").length)}if(!M.length)return[];var me=!I||!w,ae=[];for(z=0;z<M.length;z++){var q=R[M[z]];me?ae.push(q[0]):ae.push(q)}for(me&&(ae=[ae]),z=0;z<ae.length;z++){var de=1/0;for(U=0;U<ae[z].length;U++){var ee=ae[z][U].trace.legendrank;de>ee&&(de=ee)}ae[z][0]._groupMinRank=de,ae[z][0]._preGroupSort=z}var xe=function(Y,ve){return Y[0]._groupMinRank-ve[0]._groupMinRank||Y[0]._preGroupSort-ve[0]._preGroupSort},we=function(Y,ve){return Y.trace.legendrank-ve.trace.legendrank||Y._preSort-ve._preSort};for(ae.forEach(function(Y,ve){Y[0]._preGroupSort=ve}),ae.sort(xe),z=0;z<ae.length;z++){ae[z].forEach(function(Y,ve){Y._preSort=ve}),ae[z].sort(we);var Be=ae[z][0].trace,pe=null;for(U=0;U<ae[z].length;U++){var ne=ae[z][U].trace.legendgrouptitle;if(ne&&ne.text){pe=ne,k&&(ne.font=O._groupTitleFont);break}}if(T&&ae[z].reverse(),pe){var le=!1;for(U=0;U<ae[z].length;U++)if(g.traceIs(ae[z][U].trace,"pie-like")){le=!0;break}ae[z].unshift({i:-1,groupTitle:pe,noClick:le,trace:{showlegend:Be.showlegend,legendgroup:Be.legendgroup,visible:O.groupclick==="toggleitem"?!0:Be.visible}})}for(U=0;U<ae[z].length;U++)ae[z][U]=[ae[z][U]]}return O._lgroupsLength=ae.length,O._maxNameLength=Q,ae}},5167:function(f,h,c){var g=c(3972),v=c(1828),y=v.pushUnique,b=!0;f.exports=function(C,k,w){var T=k._fullLayout;if(k._dragged||k._editing)return;var R=T.legend.itemclick,M=T.legend.itemdoubleclick,I=T.legend.groupclick;w===1&&R==="toggle"&&M==="toggleothers"&&b&&k.data&&k._context.showTips&&v.notifier(v._(k,"Double-click on legend to isolate one trace"),"long"),b=!1;var V;if(w===1?V=R:w===2&&(V=M),!V)return;var N=I==="togglegroup",Q=T.hiddenlabels?T.hiddenlabels.slice():[],z=C.data()[0][0];if(z.groupTitle&&z.noClick)return;var U=k._fullData,F=(T.shapes||[]).filter(function(yt){return yt.showlegend}),B=U.concat(F),E=z.trace;E._isShape&&(E=E._fullInput);var W=E.legendgroup,X,ie,L,me,ae,q,de={},ee=[],xe=[],we=[];function Be(yt,ft){var tt=ee.indexOf(yt),wt=de.visible;return wt||(wt=de.visible=[]),ee.indexOf(yt)===-1&&(ee.push(yt),tt=ee.length-1),wt[tt]=ft,tt}var pe=(T.shapes||[]).map(function(yt){return yt._input}),ne=!1;function le(yt,ft){pe[yt].visible=ft,ne=!0}function Y(yt,ft){if(!(z.groupTitle&&!N)){var tt=yt._fullInput||yt,wt=tt._isShape,Xt=tt.index;if(Xt===void 0&&(Xt=tt._index),g.hasTransform(tt,"groupby")){var Gt=xe[Xt];if(!Gt){var Nt=g.getTransformIndices(tt,"groupby"),Bt=Nt[Nt.length-1];Gt=v.keyedContainer(tt,"transforms["+Bt+"].styles","target","value.visible"),xe[Xt]=Gt}var vn=Gt.get(yt._group);vn===void 0&&(vn=!0),vn!==!1&&Gt.set(yt._group,ft),we[Xt]=Be(Xt,tt.visible!==!1)}else{var En=tt.visible===!1?!1:ft;wt?le(Xt,En):Be(Xt,En)}}}var ve=E.legend,Oe=E._fullInput,Le=Oe&&Oe._isShape;if(!Le&&g.traceIs(E,"pie-like")){var Ce=z.label,De=Q.indexOf(Ce);if(V==="toggle")De===-1?Q.push(Ce):Q.splice(De,1);else if(V==="toggleothers"){var Ve=De!==-1,_e=[];for(X=0;X<k.calcdata.length;X++){var Ie=k.calcdata[X];for(ie=0;ie<Ie.length;ie++){var re=Ie[ie],be=re.label;ve===Ie[0].trace.legend&&Ce!==be&&(Q.indexOf(be)===-1&&(Ve=!0),y(Q,be),_e.push(be))}}if(!Ve)for(var te=0;te<_e.length;te++){var se=Q.indexOf(_e[te]);se!==-1&&Q.splice(se,1)}}g.call("_guiRelayout",k,"hiddenlabels",Q)}else{var fe=W&&W.length,oe=[],Se;if(fe)for(X=0;X<B.length;X++)Se=B[X],Se.visible&&Se.legendgroup===W&&oe.push(X);if(V==="toggle"){var ce;switch(E.visible){case!0:ce="legendonly";break;case!1:ce=!1;break;case"legendonly":ce=!0;break}if(fe)if(N)for(X=0;X<B.length;X++){var ke=B[X];ke.visible!==!1&&ke.legendgroup===W&&Y(ke,ce)}else Y(E,ce);else Y(E,ce)}else if(V==="toggleothers"){var Qe,Ze,Xe,ct,pt,Ye=!0;for(X=0;X<B.length;X++)if(pt=B[X],Qe=pt===E,Xe=pt.showlegend!==!0,!(Qe||Xe)&&(Ze=fe&&pt.legendgroup===W,!Ze&&pt.legend===ve&&pt.visible===!0&&!g.traceIs(pt,"notLegendIsolatable"))){Ye=!1;break}for(X=0;X<B.length;X++)if(pt=B[X],!(pt.visible===!1||pt.legend!==ve)&&!g.traceIs(pt,"notLegendIsolatable"))switch(E.visible){case"legendonly":Y(pt,!0);break;case!0:ct=Ye?!0:"legendonly",Qe=pt===E,Xe=pt.showlegend!==!0&&!pt.legendgroup,Ze=Qe||fe&&pt.legendgroup===W,Y(pt,Ze||Xe?!0:ct);break}}for(X=0;X<xe.length;X++)if(L=xe[X],!!L){var je=L.constructUpdate(),et=Object.keys(je);for(ie=0;ie<et.length;ie++)me=et[ie],q=de[me]=de[me]||[],q[we[X]]=je[me]}for(ae=Object.keys(de),X=0;X<ae.length;X++)for(me=ae[X],ie=0;ie<ee.length;ie++)de[me].hasOwnProperty(ie)||(de[me][ie]=void 0);ne?g.call("_guiUpdate",k,de,{shapes:pe},ee):g.call("_guiRestyle",k,de,ee)}}},130:function(f,h){h.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},h.isVertical=function(g){return g.orientation!=="h"},h.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2199:function(f,h,c){f.exports={moduleType:"component",name:"legend",layoutAttributes:c(3030),supplyLayoutDefaults:c(9017),draw:c(3969),style:c(3630)}},3630:function(f,h,c){var g=c(9898),v=c(3972),y=c(1828),b=y.strTranslate,O=c(1424),C=c(7901),k=c(2869).extractOpts,w=c(4098),T=c(3463),R=c(3581).castOption,M=c(4928),I=12,V=5,N=2,Q=10,z=5;f.exports=function(W,X,ie){var L=X._fullLayout;ie||(ie=L.legend);var me=ie.itemsizing==="constant",ae=ie.itemwidth,q=(ae+M.itemGap*2)/2,de=b(q,0),ee=function(_e,Ie,re,be){var te;if(_e+1)te=_e;else if(Ie&&Ie.width>0)te=Ie.width;else return 0;return me?be:Math.min(te,re)};W.each(function(_e){var Ie=g.select(this),re=y.ensureSingle(Ie,"g","layers");re.style("opacity",_e[0].trace.opacity);var be=ie.valign,te=_e[0].lineHeight,se=_e[0].height;if(be==="middle"||!te||!se)re.attr("transform",null);else{var fe={top:1,bottom:-1}[be],oe=fe*(.5*(te-se+3));re.attr("transform",b(0,oe))}var Se=re.selectAll("g.legendfill").data([_e]);Se.enter().append("g").classed("legendfill",!0);var ce=re.selectAll("g.legendlines").data([_e]);ce.enter().append("g").classed("legendlines",!0);var ke=re.selectAll("g.legendsymbols").data([_e]);ke.enter().append("g").classed("legendsymbols",!0),ke.selectAll("g.legendpoints").data([_e]).enter().append("g").classed("legendpoints",!0)}).each(Ve).each(Be).each(ne).each(pe).each(Y).each(Ce).each(Le).each(xe).each(we).each(ve).each(Oe);function xe(_e){var Ie=F(_e),re=Ie.showFill,be=Ie.showLine,te=Ie.showGradientLine,se=Ie.showGradientFill,fe=Ie.anyFill,oe=Ie.anyLine,Se=_e[0],ce=Se.trace,ke,Qe,Ze=k(ce),Xe=Ze.colorscale,ct=Ze.reversescale,pt=function(wt){if(wt.size())if(re)O.fillGroupStyle(wt,X);else{var Xt="legendfill-"+ce.uid;O.gradient(wt,X,Xt,U(ct),Xe,"fill")}},Ye=function(wt){if(wt.size()){var Xt="legendline-"+ce.uid;O.lineGroupStyle(wt),O.gradient(wt,X,Xt,U(ct),Xe,"stroke")}},je=w.hasMarkers(ce)||!fe?"M5,0":oe?"M5,-2":"M5,-3",et=g.select(this),yt=et.select(".legendfill").selectAll("path").data(re||se?[_e]:[]);if(yt.enter().append("path").classed("js-fill",!0),yt.exit().remove(),yt.attr("d",je+"h"+ae+"v6h-"+ae+"z").call(pt),be||te){var ft=ee(void 0,ce.line,Q,V);Qe=y.minExtend(ce,{line:{width:ft}}),ke=[y.minExtend(Se,{trace:Qe})]}var tt=et.select(".legendlines").selectAll("path").data(be||te?[ke]:[]);tt.enter().append("path").classed("js-line",!0),tt.exit().remove(),tt.attr("d",je+(te?"l"+ae+",0.0001":"h"+ae)).call(be?O.lineGroupStyle:Ye)}function we(_e){var Ie=F(_e),re=Ie.anyFill,be=Ie.anyLine,te=Ie.showLine,se=Ie.showMarker,fe=_e[0],oe=fe.trace,Se=!se&&!be&&!re&&w.hasText(oe),ce,ke;function Qe(yt,ft,tt,wt){var Xt=y.nestedProperty(oe,yt).get(),Gt=y.isArrayOrTypedArray(Xt)&&ft?ft(Xt):Xt;if(me&&Gt&&wt!==void 0&&(Gt=wt),tt){if(Gt<tt[0])return tt[0];if(Gt>tt[1])return tt[1]}return Gt}function Ze(yt){return fe._distinct&&fe.index&&yt[fe.index]?yt[fe.index]:yt[0]}if(se||Se||te){var Xe={},ct={};if(se){Xe.mc=Qe("marker.color",Ze),Xe.mx=Qe("marker.symbol",Ze),Xe.mo=Qe("marker.opacity",y.mean,[.2,1]),Xe.mlc=Qe("marker.line.color",Ze),Xe.mlw=Qe("marker.line.width",y.mean,[0,5],N),ct.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var pt=Qe("marker.size",y.mean,[2,16],I);Xe.ms=pt,ct.marker.size=pt}te&&(ct.line={width:Qe("line.width",Ze,[0,10],V)}),Se&&(Xe.tx="Aa",Xe.tp=Qe("textposition",Ze),Xe.ts=10,Xe.tc=Qe("textfont.color",Ze),Xe.tf=Qe("textfont.family",Ze)),ce=[y.minExtend(fe,Xe)],ke=y.minExtend(oe,ct),ke.selectedpoints=null,ke.texttemplate=null}var Ye=g.select(this).select("g.legendpoints"),je=Ye.selectAll("path.scatterpts").data(se?ce:[]);je.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",de),je.exit().remove(),je.call(O.pointStyle,ke,X),se&&(ce[0].mrc=3);var et=Ye.selectAll("g.pointtext").data(Se?ce:[]);et.enter().append("g").classed("pointtext",!0).append("text").attr("transform",de),et.exit().remove(),et.selectAll("text").call(O.textPointStyle,ke,X)}function Be(_e){var Ie=_e[0].trace,re=Ie.type==="waterfall";if(_e[0]._distinct&&re){var be=_e[0].trace[_e[0].dir].marker;return _e[0].mc=be.color,_e[0].mlw=be.line.width,_e[0].mlc=be.line.color,le(_e,this,"waterfall")}var te=[];Ie.visible&&re&&(te=_e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(te);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",de).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(fe){var oe=g.select(this),Se=Ie[fe[0]].marker,ce=ee(void 0,Se.line,z,N);oe.attr("d",fe[1]).style("stroke-width",ce+"px").call(C.fill,Se.color),ce&&oe.call(C.stroke,Se.line.color)})}function pe(_e){le(_e,this)}function ne(_e){le(_e,this,"funnel")}function le(_e,Ie,re){var be=_e[0].trace,te=be.marker||{},se=te.line||{},fe=re?be.visible&&be.type===re:v.traceIs(be,"bar"),oe=g.select(Ie).select("g.legendpoints").selectAll("path.legend"+re).data(fe?[_e]:[]);oe.enter().append("path").classed("legend"+re,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",de),oe.exit().remove(),oe.each(function(Se){var ce=g.select(this),ke=Se[0],Qe=ee(ke.mlw,te.line,z,N);ce.style("stroke-width",Qe+"px");var Ze=ke.mcc;if(!ie._inHover&&"mc"in ke){var Xe=k(te),ct=Xe.mid;ct===void 0&&(ct=(Xe.max+Xe.min)/2),Ze=O.tryColorscale(te,"")(ct)}var pt=Ze||ke.mc||te.color,Ye=te.pattern,je=Ye&&O.getPatternAttr(Ye.shape,0,"");if(je){var et=O.getPatternAttr(Ye.bgcolor,0,null),yt=O.getPatternAttr(Ye.fgcolor,0,null),ft=Ye.fgopacity,tt=B(Ye.size,8,10),wt=B(Ye.solidity,.5,1),Xt="legend-"+be.uid;ce.call(O.pattern,"legend",X,Xt,je,tt,wt,Ze,Ye.fillmode,et,yt,ft)}else ce.call(C.fill,pt);Qe&&C.stroke(ce,ke.mlc||se.color)})}function Y(_e){var Ie=_e[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Ie.visible&&v.traceIs(Ie,"box-violin")?[_e]:[]);re.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",de),re.exit().remove(),re.each(function(){var be=g.select(this);if((Ie.boxpoints==="all"||Ie.points==="all")&&C.opacity(Ie.fillcolor)===0&&C.opacity((Ie.line||{}).color)===0){var te=y.minExtend(Ie,{marker:{size:me?I:y.constrain(Ie.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});re.call(O.pointStyle,te,X)}else{var se=ee(void 0,Ie.line,z,N);be.style("stroke-width",se+"px").call(C.fill,Ie.fillcolor),se&&C.stroke(be,Ie.line.color)}})}function ve(_e){var Ie=_e[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Ie.visible&&Ie.type==="candlestick"?[_e,_e]:[]);re.enter().append("path").classed("legendcandle",!0).attr("d",function(be,te){return te?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",de).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(be,te){var se=g.select(this),fe=Ie[te?"increasing":"decreasing"],oe=ee(void 0,fe.line,z,N);se.style("stroke-width",oe+"px").call(C.fill,fe.fillcolor),oe&&C.stroke(se,fe.line.color)})}function Oe(_e){var Ie=_e[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Ie.visible&&Ie.type==="ohlc"?[_e,_e]:[]);re.enter().append("path").classed("legendohlc",!0).attr("d",function(be,te){return te?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",de).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(be,te){var se=g.select(this),fe=Ie[te?"increasing":"decreasing"],oe=ee(void 0,fe.line,z,N);se.style("fill","none").call(O.dashLine,fe.line.dash,oe),oe&&C.stroke(se,fe.line.color)})}function Le(_e){De(_e,this,"pie")}function Ce(_e){De(_e,this,"funnelarea")}function De(_e,Ie,re){var be=_e[0],te=be.trace,se=re?te.visible&&te.type===re:v.traceIs(te,re),fe=g.select(Ie).select("g.legendpoints").selectAll("path.legend"+re).data(se?[_e]:[]);if(fe.enter().append("path").classed("legend"+re,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",de),fe.exit().remove(),fe.size()){var oe=te.marker||{},Se=ee(R(oe.line.width,be.pts),oe.line,z,N),ce="pieLike",ke=y.minExtend(te,{marker:{line:{width:Se}}},ce),Qe=y.minExtend(be,{trace:ke},ce);T(fe,Qe,ke,X)}}function Ve(_e){var Ie=_e[0].trace,re,be=[];if(Ie.visible)switch(Ie.type){case"histogram2d":case"heatmap":be=[["M-15,-2V4H15V-2Z"]],re=!0;break;case"choropleth":case"choroplethmapbox":be=[["M-6,-6V6H6V-6Z"]],re=!0;break;case"densitymapbox":be=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],re="radial";break;case"cone":be=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],re=!1;break;case"streamtube":be=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],re=!1;break;case"surface":be=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],re=!0;break;case"mesh3d":be=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!1;break;case"volume":be=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!0;break;case"isosurface":be=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],re=!1;break}var te=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(be);te.enter().append("path").classed("legend3dandfriends",!0).attr("transform",de).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(se,fe){var oe=g.select(this),Se=k(Ie),ce=Se.colorscale,ke=Se.reversescale,Qe=function(pt){if(pt.size()){var Ye="legendfill-"+Ie.uid;O.gradient(pt,X,Ye,U(ke,re==="radial"),ce,"fill")}},Ze;if(ce){if(!re){var ct=ce.length;Ze=fe===0?ce[ke?ct-1:0][1]:fe===1?ce[ke?0:ct-1][1]:ce[Math.floor((ct-1)/2)][1]}}else{var Xe=Ie.vertexcolor||Ie.facecolor||Ie.color;Ze=y.isArrayOrTypedArray(Xe)?Xe[fe]||Xe[0]:Xe}oe.attr("d",se[0]),Ze?oe.call(C.fill,Ze):oe.call(Qe)})}};function U(E,W){var X=W?"radial":"horizontal";return X+(E?"":"reversed")}function F(E){var W=E[0].trace,X=W.contours,ie=w.hasLines(W),L=w.hasMarkers(W),me=W.visible&&W.fill&&W.fill!=="none",ae=!1,q=!1;if(X){var de=X.coloring;de==="lines"?ae=!0:ie=de==="none"||de==="heatmap"||X.showlines,X.type==="constraint"?me=X._operation!=="=":(de==="fill"||de==="heatmap")&&(q=!0)}return{showMarker:L,showLine:ie,showFill:me,showGradientLine:ae,showGradientFill:q,anyLine:ie||ae,anyFill:me||q}}function B(E,W,X){return E&&y.isArrayOrTypedArray(E)?W:E>X?X:E}},2068:function(f,h,c){c(3348),f.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(f,h,c){var g=c(3972),v=c(4875),y=c(1675),b=c(4255),O=c(4031).eraseActiveShape,C=c(1828),k=C._,w=f.exports={};w.toImage={name:"toImage",title:function(E){var W=E._context.toImageButtonOptions||{},X=W.format||"png";return X==="png"?k(E,"Download plot as a png"):k(E,"Download plot")},icon:b.camera,click:function(E){var W=E._context.toImageButtonOptions,X={format:W.format||"png"};C.notifier(k(E,"Taking snapshot - this may take a few seconds"),"long"),X.format!=="svg"&&C.isIE()&&(C.notifier(k(E,"IE only supports svg.  Changing format to svg."),"long"),X.format="svg"),["filename","width","height","scale"].forEach(function(ie){ie in W&&(X[ie]=W[ie])}),g.call("downloadImage",E,X).then(function(ie){C.notifier(k(E,"Snapshot succeeded")+" - "+ie,"long")}).catch(function(){C.notifier(k(E,"Sorry, there was a problem downloading your snapshot!"),"long")})}},w.sendDataToCloud={name:"sendDataToCloud",title:function(E){return k(E,"Edit in Chart Studio")},icon:b.disk,click:function(E){v.sendDataToCloud(E)}},w.editInChartStudio={name:"editInChartStudio",title:function(E){return k(E,"Edit in Chart Studio")},icon:b.pencil,click:function(E){v.sendDataToCloud(E)}},w.zoom2d={name:"zoom2d",_cat:"zoom",title:function(E){return k(E,"Zoom")},attr:"dragmode",val:"zoom",icon:b.zoombox,click:T},w.pan2d={name:"pan2d",_cat:"pan",title:function(E){return k(E,"Pan")},attr:"dragmode",val:"pan",icon:b.pan,click:T},w.select2d={name:"select2d",_cat:"select",title:function(E){return k(E,"Box Select")},attr:"dragmode",val:"select",icon:b.selectbox,click:T},w.lasso2d={name:"lasso2d",_cat:"lasso",title:function(E){return k(E,"Lasso Select")},attr:"dragmode",val:"lasso",icon:b.lasso,click:T},w.drawclosedpath={name:"drawclosedpath",title:function(E){return k(E,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:b.drawclosedpath,click:T},w.drawopenpath={name:"drawopenpath",title:function(E){return k(E,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:b.drawopenpath,click:T},w.drawline={name:"drawline",title:function(E){return k(E,"Draw line")},attr:"dragmode",val:"drawline",icon:b.drawline,click:T},w.drawrect={name:"drawrect",title:function(E){return k(E,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:b.drawrect,click:T},w.drawcircle={name:"drawcircle",title:function(E){return k(E,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:b.drawcircle,click:T},w.eraseshape={name:"eraseshape",title:function(E){return k(E,"Erase active shape")},icon:b.eraseshape,click:O},w.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(E){return k(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:T},w.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(E){return k(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:T},w.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(E){return k(E,"Autoscale")},attr:"zoom",val:"auto",icon:b.autoscale,click:T},w.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(E){return k(E,"Reset axes")},attr:"zoom",val:"reset",icon:b.home,click:T},w.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(E){return k(E,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:T},w.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(E){return k(E,"Compare data on hover")},attr:"hovermode",val:function(E){return E._fullLayout._isHoriz?"y":"x"},icon:b.tooltip_compare,gravity:"ne",click:T};function T(E,W){var X=W.currentTarget,ie=X.getAttribute("data-attr"),L=X.getAttribute("data-val")||!0,me=E._fullLayout,ae={},q=y.list(E,null,!0),de=me._cartesianSpikesEnabled,ee,xe;if(ie==="zoom"){var we=L==="in"?.5:2,Be=(1+we)/2,pe=(1-we)/2,ne;for(xe=0;xe<q.length;xe++)if(ee=q[xe],!ee.fixedrange)if(ne=ee._name,L==="auto")ae[ne+".autorange"]=!0;else if(L==="reset")ee._rangeInitial0===void 0&&ee._rangeInitial1===void 0?ae[ne+".autorange"]=!0:ee._rangeInitial0===void 0?(ae[ne+".autorange"]=ee._autorangeInitial,ae[ne+".range"]=[null,ee._rangeInitial1]):ee._rangeInitial1===void 0?(ae[ne+".range"]=[ee._rangeInitial0,null],ae[ne+".autorange"]=ee._autorangeInitial):ae[ne+".range"]=[ee._rangeInitial0,ee._rangeInitial1],ee._showSpikeInitial!==void 0&&(ae[ne+".showspikes"]=ee._showSpikeInitial,de==="on"&&!ee._showSpikeInitial&&(de="off"));else{var le=[ee.r2l(ee.range[0]),ee.r2l(ee.range[1])],Y=[Be*le[0]+pe*le[1],Be*le[1]+pe*le[0]];ae[ne+".range[0]"]=ee.l2r(Y[0]),ae[ne+".range[1]"]=ee.l2r(Y[1])}}else ie==="hovermode"&&(L==="x"||L==="y")&&(L=me._isHoriz?"y":"x",X.setAttribute("data-val",L)),ae[ie]=L;me._cartesianSpikesEnabled=de,g.call("_guiRelayout",E,ae)}w.zoom3d={name:"zoom3d",_cat:"zoom",title:function(E){return k(E,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:b.zoombox,click:R},w.pan3d={name:"pan3d",_cat:"pan",title:function(E){return k(E,"Pan")},attr:"scene.dragmode",val:"pan",icon:b.pan,click:R},w.orbitRotation={name:"orbitRotation",title:function(E){return k(E,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:b["3d_rotate"],click:R},w.tableRotation={name:"tableRotation",title:function(E){return k(E,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:b["z-axis"],click:R};function R(E,W){for(var X=W.currentTarget,ie=X.getAttribute("data-attr"),L=X.getAttribute("data-val")||!0,me=E._fullLayout._subplots.gl3d||[],ae={},q=ie.split("."),de=0;de<me.length;de++)ae[me[de]+"."+q[1]]=L;var ee=L==="pan"?L:"zoom";ae.dragmode=ee,g.call("_guiRelayout",E,ae)}w.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(E){return k(E,"Reset camera to default")},attr:"resetDefault",icon:b.home,click:M},w.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(E){return k(E,"Reset camera to last save")},attr:"resetLastSave",icon:b.movie,click:M};function M(E,W){for(var X=W.currentTarget,ie=X.getAttribute("data-attr"),L=ie==="resetLastSave",me=ie==="resetDefault",ae=E._fullLayout,q=ae._subplots.gl3d||[],de={},ee=0;ee<q.length;ee++){var xe=q[ee],we=xe+".camera",Be=xe+".aspectratio",pe=xe+".aspectmode",ne=ae[xe]._scene,le;L?(de[we+".up"]=ne.viewInitial.up,de[we+".eye"]=ne.viewInitial.eye,de[we+".center"]=ne.viewInitial.center,le=!0):me&&(de[we+".up"]=null,de[we+".eye"]=null,de[we+".center"]=null,le=!0),le&&(de[Be+".x"]=ne.viewInitial.aspectratio.x,de[Be+".y"]=ne.viewInitial.aspectratio.y,de[Be+".z"]=ne.viewInitial.aspectratio.z,de[pe]=ne.viewInitial.aspectmode)}g.call("_guiRelayout",E,de)}w.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:V};function I(E,W){var X=W.currentTarget,ie=X._previousVal,L=E._fullLayout,me=L._subplots.gl3d||[],ae=["xaxis","yaxis","zaxis"],q={},de={};if(ie)de=ie,X._previousVal=null;else{for(var ee=0;ee<me.length;ee++){var xe=me[ee],we=L[xe],Be=xe+".hovermode";q[Be]=we.hovermode,de[Be]=!1;for(var pe=0;pe<3;pe++){var ne=ae[pe],le=xe+"."+ne+".showspikes";de[le]=!1,q[le]=we[ne].showspikes}}X._previousVal=q}return de}function V(E,W){var X=I(E,W);g.call("_guiRelayout",E,X)}w.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(E){return k(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:N},w.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(E){return k(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:N},w.resetGeo={name:"resetGeo",_cat:"reset",title:function(E){return k(E,"Reset")},attr:"reset",val:null,icon:b.autoscale,click:N},w.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:z};function N(E,W){for(var X=W.currentTarget,ie=X.getAttribute("data-attr"),L=X.getAttribute("data-val")||!0,me=E._fullLayout,ae=me._subplots.geo||[],q=0;q<ae.length;q++){var de=ae[q],ee=me[de];if(ie==="zoom"){var xe=ee.projection.scale,we=L==="in"?2*xe:.5*xe;g.call("_guiRelayout",E,de+".projection.scale",we)}}ie==="reset"&&B(E,"geo")}w.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:z},w.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:z};function Q(E){var W=E._fullLayout;return W.hovermode?!1:W._has("cartesian")?W._isHoriz?"y":"x":"closest"}function z(E){var W=Q(E);g.call("_guiRelayout",E,"hovermode",W)}w.resetViewSankey={name:"resetSankeyGroup",title:function(E){return k(E,"Reset view")},icon:b.home,click:function(E){for(var W={"node.groups":[],"node.x":[],"node.y":[]},X=0;X<E._fullData.length;X++){var ie=E._fullData[X]._viewInitial;W["node.groups"].push(ie.node.groups.slice()),W["node.x"].push(ie.node.x.slice()),W["node.y"].push(ie.node.y.slice())}g.call("restyle",E,W)}},w.toggleHover={name:"toggleHover",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:function(E,W){var X=I(E,W);X.hovermode=Q(E),g.call("_guiRelayout",E,X)}},w.resetViews={name:"resetViews",title:function(E){return k(E,"Reset views")},icon:b.home,click:function(E,W){var X=W.currentTarget;X.setAttribute("data-attr","zoom"),X.setAttribute("data-val","reset"),T(E,W),X.setAttribute("data-attr","resetLastSave"),M(E,W),B(E,"geo"),B(E,"mapbox")}},w.toggleSpikelines={name:"toggleSpikelines",title:function(E){return k(E,"Toggle Spike Lines")},icon:b.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(E){var W=E._fullLayout,X=W._cartesianSpikesEnabled;W._cartesianSpikesEnabled=X==="on"?"off":"on",g.call("_guiRelayout",E,U(E))}};function U(E){for(var W=E._fullLayout,X=W._cartesianSpikesEnabled==="on",ie=y.list(E,null,!0),L={},me=0;me<ie.length;me++){var ae=ie[me];L[ae._name+".showspikes"]=X?!0:ae._showSpikeInitial}return L}w.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(E){return k(E,"Reset view")},attr:"reset",icon:b.home,click:function(E){B(E,"mapbox")}},w.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(E){return k(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:F},w.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(E){return k(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:F};function F(E,W){for(var X=W.currentTarget,ie=X.getAttribute("data-val"),L=E._fullLayout,me=L._subplots.mapbox||[],ae=1.05,q={},de=0;de<me.length;de++){var ee=me[de],xe=L[ee].zoom,we=ie==="in"?ae*xe:xe/ae;q[ee+".zoom"]=we}g.call("_guiRelayout",E,q)}function B(E,W){for(var X=E._fullLayout,ie=X._subplots[W]||[],L={},me=0;me<ie.length;me++)for(var ae=ie[me],q=X[ae]._subplot,de=q.viewInitial,ee=Object.keys(de),xe=0;xe<ee.length;xe++){var we=ee[xe];L[ae+"."+we]=de[we]}g.call("_guiRelayout",E,L)}},3348:function(f,h,c){var g=c(6023),v=Object.keys(g),y=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],b=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(y),O=[],C=function(k){if(b.indexOf(k._cat||k.name)===-1){var w=k.name,T=(k._cat||k.name).toLowerCase();O.indexOf(w)===-1&&O.push(w),O.indexOf(T)===-1&&O.push(T)}};v.forEach(function(k){C(g[k])}),O.sort(),f.exports={DRAW_MODES:y,backButtons:b,foreButtons:O}},5750:function(f,h,c){var g=c(1828),v=c(7901),y=c(4467),b=c(2068);f.exports=function(C,k){var w=C.modebar||{},T=y.newContainer(k,"modebar");function R(I,V){return g.coerce(w,T,b,I,V)}R("orientation"),R("bgcolor",v.addOpacity(k.paper_bgcolor,.5));var M=v.contrast(v.rgb(k.modebar.bgcolor));R("color",v.addOpacity(M,.3)),R("activecolor",v.addOpacity(M,.7)),R("uirevision",k.uirevision),R("add"),R("remove")}},4168:function(f,h,c){f.exports={moduleType:"component",name:"modebar",layoutAttributes:c(2068),supplyLayoutDefaults:c(5750),manage:c(4192)}},4192:function(f,h,c){var g=c(1675),v=c(4098),y=c(3972),b=c(3469).isUnifiedHover,O=c(7676),C=c(6023),k=c(3348).DRAW_MODES,w=c(1828).extendDeep;f.exports=function(z){var U=z._fullLayout,F=z._context,B=U._modeBar;if(!F.displayModeBar&&!F.watermark){B&&(B.destroy(),delete U._modeBar);return}if(!Array.isArray(F.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(F.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var E=F.modeBarButtons,W;Array.isArray(E)&&E.length?W=N(E):!F.displayModeBar&&F.watermark?W=[]:W=T(z),B?B.update(z,W):U._modeBar=O(z,W)};function T(Q){var z=Q._fullLayout,U=Q._fullData,F=Q._context;function B(fe,oe){if(typeof oe=="string"){if(oe.toLowerCase()===fe.toLowerCase())return!0}else{var Se=oe.name,ce=oe._cat||oe.name;if(Se===fe||ce===fe.toLowerCase())return!0}return!1}var E=z.modebar.add;typeof E=="string"&&(E=[E]);var W=z.modebar.remove;typeof W=="string"&&(W=[W]);var X=F.modeBarButtonsToAdd.concat(E.filter(function(fe){for(var oe=0;oe<F.modeBarButtonsToRemove.length;oe++)if(B(fe,F.modeBarButtonsToRemove[oe]))return!1;return!0})),ie=F.modeBarButtonsToRemove.concat(W.filter(function(fe){for(var oe=0;oe<F.modeBarButtonsToAdd.length;oe++)if(B(fe,F.modeBarButtonsToAdd[oe]))return!1;return!0})),L=z._has("cartesian"),me=z._has("gl3d"),ae=z._has("geo"),q=z._has("pie"),de=z._has("funnelarea"),ee=z._has("gl2d"),xe=z._has("ternary"),we=z._has("mapbox"),Be=z._has("polar"),pe=z._has("smith"),ne=z._has("sankey"),le=R(z),Y=b(z.hovermode),ve=[];function Oe(fe){if(fe.length){for(var oe=[],Se=0;Se<fe.length;Se++){for(var ce=fe[Se],ke=C[ce],Qe=ke.name.toLowerCase(),Ze=(ke._cat||ke.name).toLowerCase(),Xe=!1,ct=0;ct<ie.length;ct++){var pt=ie[ct].toLowerCase();if(pt===Qe||pt===Ze){Xe=!0;break}}Xe||oe.push(C[ce])}ve.push(oe)}}var Le=["toImage"];F.showEditInChartStudio?Le.push("editInChartStudio"):F.showSendToCloud&&Le.push("sendDataToCloud"),Oe(Le);var Ce=[],De=[],Ve=[],_e=[];(L||ee||q||de||xe)+ae+me+we+Be+pe>1?(De=["toggleHover"],Ve=["resetViews"]):ae?(Ce=["zoomInGeo","zoomOutGeo"],De=["hoverClosestGeo"],Ve=["resetGeo"]):me?(De=["hoverClosest3d"],Ve=["resetCameraDefault3d","resetCameraLastSave3d"]):we?(Ce=["zoomInMapbox","zoomOutMapbox"],De=["toggleHover"],Ve=["resetViewMapbox"]):ee?De=["hoverClosestGl2d"]:q?De=["hoverClosestPie"]:ne?(De=["hoverClosestCartesian","hoverCompareCartesian"],Ve=["resetViewSankey"]):De=["toggleHover"],L&&(De=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(I(U)||Y)&&(De=[]),(L||ee)&&!le&&(Ce=["zoomIn2d","zoomOut2d","autoScale2d"],Ve[0]!=="resetViews"&&(Ve=["resetScale2d"])),me?_e=["zoom3d","pan3d","orbitRotation","tableRotation"]:(L||ee)&&!le||xe?_e=["zoom2d","pan2d"]:we||ae?_e=["pan2d"]:Be&&(_e=["zoom2d"]),M(U)&&_e.push("select2d","lasso2d");var Ie=[],re=function(fe){Ie.indexOf(fe)===-1&&De.indexOf(fe)!==-1&&Ie.push(fe)};if(Array.isArray(X)){for(var be=[],te=0;te<X.length;te++){var se=X[te];typeof se=="string"?(se=se.toLowerCase(),k.indexOf(se)!==-1?(z._has("mapbox")||z._has("cartesian"))&&_e.push(se):se==="togglespikelines"?re("toggleSpikelines"):se==="togglehover"?re("toggleHover"):se==="hovercompare"?re("hoverCompareCartesian"):se==="hoverclosest"?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):se==="v1hovermode"&&(re("toggleHover"),re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):be.push(se)}X=be}return Oe(_e),Oe(Ce.concat(Ve)),Oe(Ie),V(ve,X)}function R(Q){for(var z=g.list({_fullLayout:Q},null,!0),U=0;U<z.length;U++)if(!z[U].fixedrange)return!1;return!0}function M(Q){for(var z=!1,U=0;U<Q.length&&!z;U++){var F=Q[U];!F._module||!F._module.selectPoints||(y.traceIs(F,"scatter-like")?(v.hasMarkers(F)||v.hasText(F))&&(z=!0):y.traceIs(F,"box-violin")?(F.boxpoints==="all"||F.points==="all")&&(z=!0):z=!0)}return z}function I(Q){for(var z=0;z<Q.length;z++)if(!y.traceIs(Q[z],"noHover"))return!1;return!0}function V(Q,z){if(z.length)if(Array.isArray(z[0]))for(var U=0;U<z.length;U++)Q.push(z[U]);else Q.push(z);return Q}function N(Q){for(var z=w([],Q),U=0;U<z.length;U++)for(var F=z[U],B=0;B<F.length;B++){var E=F[B];if(typeof E=="string")if(C[E]!==void 0)z[U][B]=C[E];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return z}},7676:function(f,h,c){var g=c(9898),v=c(2770),y=c(1828),b=c(4255),O=c(1506).version,C=new DOMParser;function k(M){this.container=M.container,this.element=document.createElement("div"),this.update(M.graphInfo,M.buttons),this.container.appendChild(this.element)}var w=k.prototype;w.update=function(M,I){this.graphInfo=M;var V=this.graphInfo._context,N=this.graphInfo._fullLayout,Q="modebar-"+N._uid;this.element.setAttribute("id",Q),this._uid=Q,this.element.className="modebar",V.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),N.modebar.orientation==="v"&&(this.element.className+=" vertical",I=I.reverse());var z=N.modebar,U=V.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";y.deleteRelatedStyleRule(Q),y.addRelatedStyleRule(Q,U+"#"+Q+" .modebar-group","background-color: "+z.bgcolor),y.addRelatedStyleRule(Q,"#"+Q+" .modebar-btn .icon path","fill: "+z.color),y.addRelatedStyleRule(Q,"#"+Q+" .modebar-btn:hover .icon path","fill: "+z.activecolor),y.addRelatedStyleRule(Q,"#"+Q+" .modebar-btn.active .icon path","fill: "+z.activecolor);var F=!this.hasButtons(I),B=this.hasLogo!==V.displaylogo,E=this.locale!==V.locale;if(this.locale=V.locale,(F||B||E)&&(this.removeAllButtons(),this.updateButtons(I),V.watermark||V.displaylogo)){var W=this.getLogo();V.watermark&&(W.className=W.className+" watermark"),N.modebar.orientation==="v"?this.element.insertBefore(W,this.element.childNodes[0]):this.element.appendChild(W),this.hasLogo=!0}this.updateActiveButton()},w.updateButtons=function(M){var I=this;this.buttons=M,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(V){var N=I.createGroup();V.forEach(function(Q){var z=Q.name;if(!z)throw new Error("must provide button 'name' in button config");if(I.buttonsNames.indexOf(z)!==-1)throw new Error("button name '"+z+"' is taken");I.buttonsNames.push(z);var U=I.createButton(Q);I.buttonElements.push(U),N.appendChild(U)}),I.element.appendChild(N)})},w.createGroup=function(){var M=document.createElement("div");return M.className="modebar-group",M},w.createButton=function(M){var I=this,V=document.createElement("a");V.setAttribute("rel","tooltip"),V.className="modebar-btn";var N=M.title;N===void 0?N=M.name:typeof N=="function"&&(N=N(this.graphInfo)),(N||N===0)&&V.setAttribute("data-title",N),M.attr!==void 0&&V.setAttribute("data-attr",M.attr);var Q=M.val;Q!==void 0&&(typeof Q=="function"&&(Q=Q(this.graphInfo)),V.setAttribute("data-val",Q));var z=M.click;if(typeof z!="function")throw new Error("must provide button 'click' function in button config");V.addEventListener("click",function(F){M.click(I.graphInfo,F),I.updateActiveButton(F.currentTarget)}),V.setAttribute("data-toggle",M.toggle||!1),M.toggle&&g.select(V).classed("active",!0);var U=M.icon;return typeof U=="function"?V.appendChild(U()):V.appendChild(this.createIcon(U||b.question)),V.setAttribute("data-gravity",M.gravity||"n"),V},w.createIcon=function(M){var I=v(M.height)?Number(M.height):M.ascent-M.descent,V="http://www.w3.org/2000/svg",N;if(M.path){N=document.createElementNS(V,"svg"),N.setAttribute("viewBox",[0,0,M.width,I].join(" ")),N.setAttribute("class","icon");var Q=document.createElementNS(V,"path");Q.setAttribute("d",M.path),M.transform?Q.setAttribute("transform",M.transform):M.ascent!==void 0&&Q.setAttribute("transform","matrix(1 0 0 -1 0 "+M.ascent+")"),N.appendChild(Q)}if(M.svg){var z=C.parseFromString(M.svg,"application/xml");N=z.childNodes[0]}return N.setAttribute("height","1em"),N.setAttribute("width","1em"),N},w.updateActiveButton=function(M){var I=this.graphInfo._fullLayout,V=M!==void 0?M.getAttribute("data-attr"):null;this.buttonElements.forEach(function(N){var Q=N.getAttribute("data-val")||!0,z=N.getAttribute("data-attr"),U=N.getAttribute("data-toggle")==="true",F=g.select(N);if(U)z===V&&F.classed("active",!F.classed("active"));else{var B=z===null?z:y.nestedProperty(I,z).get();F.classed("active",B===Q)}})},w.hasButtons=function(M){var I=this.buttons;if(!I||M.length!==I.length)return!1;for(var V=0;V<M.length;++V){if(M[V].length!==I[V].length)return!1;for(var N=0;N<M[V].length;N++)if(M[V][N].name!==I[V][N].name)return!1}return!0};function T(M){return M+" (v"+O+")"}w.getLogo=function(){var M=this.createGroup(),I=document.createElement("a");return I.href="https://plotly.com/",I.target="_blank",I.setAttribute("data-title",T(y._(this.graphInfo,"Produced with Plotly.js"))),I.className="modebar-btn plotlyjsicon modebar-btn--logo",I.appendChild(this.createIcon(b.newplotlylogo)),M.appendChild(I),M},w.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},w.destroy=function(){y.removeElement(this.container.querySelector(".modebar")),y.deleteRelatedStyleRule(this._uid)};function R(M,I){var V=M._fullLayout,N=new k({graphInfo:M,container:V._modebardiv.node(),buttons:I});return V._privateplot&&g.select(N.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),N}f.exports=R},7113:function(f,h,c){var g=c(1940),v=c(2399),y=c(4467).templatedArray,b=y("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});f.exports={visible:{valType:"boolean",editType:"plot"},buttons:b,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:v.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(f){f.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(f,h,c){var g=c(1828),v=c(7901),y=c(4467),b=c(5501),O=c(7113),C=c(9573);f.exports=function(R,M,I,V,N){var Q=R.rangeselector||{},z=y.newContainer(M,"rangeselector");function U(X,ie){return g.coerce(Q,z,O,X,ie)}var F=b(Q,z,{name:"buttons",handleItemDefaults:k,calendar:N}),B=U("visible",F.length>0);if(B){var E=w(M,I,V);U("x",E[0]),U("y",E[1]),g.noneOrAll(R,M,["x","y"]),U("xanchor"),U("yanchor"),g.coerceFont(U,"font",I.font);var W=U("bgcolor");U("activecolor",v.contrast(W,C.lightAmount,C.darkAmount)),U("bordercolor"),U("borderwidth")}};function k(T,R,M,I){var V=I.calendar;function N(U,F){return g.coerce(T,R,O.buttons,U,F)}var Q=N("visible");if(Q){var z=N("step");z!=="all"&&(V&&V!=="gregorian"&&(z==="month"||z==="year")?R.stepmode="backward":N("stepmode"),N("count")),N("label")}}function w(T,R,M){for(var I=M.filter(function(z){return R[z].anchor===T._id}),V=0,N=0;N<I.length;N++){var Q=R[I[N]].domain;Q&&(V=Math.max(Q[1],V))}return[T.domain[0],V+C.yPad]}},1598:function(f,h,c){var g=c(9898),v=c(3972),y=c(4875),b=c(7901),O=c(1424),C=c(1828),k=C.strTranslate,w=c(3893),T=c(1675),R=c(8783),M=R.LINE_SPACING,I=R.FROM_TL,V=R.FROM_BR,N=c(9573),Q=c(7917);f.exports=function(me){var ae=me._fullLayout,q=ae._infolayer.selectAll(".rangeselector").data(z(me),U);q.enter().append("g").classed("rangeselector",!0),q.exit().remove(),q.style({cursor:"pointer","pointer-events":"all"}),q.each(function(de){var ee=g.select(this),xe=de,we=xe.rangeselector,Be=ee.selectAll("g.button").data(C.filterVisible(we.buttons));Be.enter().append("g").classed("button",!0),Be.exit().remove(),Be.each(function(pe){var ne=g.select(this),le=Q(xe,pe);pe._isActive=F(xe,pe,le),ne.call(B,we,pe),ne.call(W,we,pe,me),ne.on("click",function(){me._dragged||v.call("_guiRelayout",me,le)}),ne.on("mouseover",function(){pe._isHovered=!0,ne.call(B,we,pe)}),ne.on("mouseout",function(){pe._isHovered=!1,ne.call(B,we,pe)})}),ie(me,Be,we,xe._name,ee)})};function z(L){for(var me=T.list(L,"x",!0),ae=[],q=0;q<me.length;q++){var de=me[q];de.rangeselector&&de.rangeselector.visible&&ae.push(de)}return ae}function U(L){return L._id}function F(L,me,ae){if(me.step==="all")return L.autorange===!0;var q=Object.keys(ae);return L.range[0]===ae[q[0]]&&L.range[1]===ae[q[1]]}function B(L,me,ae){var q=C.ensureSingle(L,"rect","selector-rect",function(de){de.attr("shape-rendering","crispEdges")});q.attr({rx:N.rx,ry:N.ry}),q.call(b.stroke,me.bordercolor).call(b.fill,E(me,ae)).style("stroke-width",me.borderwidth+"px")}function E(L,me){return me._isActive||me._isHovered?L.activecolor:L.bgcolor}function W(L,me,ae,q){function de(xe){w.convertToTspans(xe,q)}var ee=C.ensureSingle(L,"text","selector-text",function(xe){xe.attr("text-anchor","middle")});ee.call(O.font,me.font).text(X(ae,q._fullLayout._meta)).call(de)}function X(L,me){return L.label?me?C.templateString(L.label,me):L.label:L.step==="all"?"all":L.count+L.step.charAt(0)}function ie(L,me,ae,q,de){var ee=0,xe=0,we=ae.borderwidth;me.each(function(){var ve=g.select(this),Oe=ve.select(".selector-text"),Le=ae.font.size*M,Ce=Math.max(Le*w.lineCount(Oe),16)+3;xe=Math.max(xe,Ce)}),me.each(function(){var ve=g.select(this),Oe=ve.select(".selector-rect"),Le=ve.select(".selector-text"),Ce=Le.node()&&O.bBox(Le.node()).width,De=ae.font.size*M,Ve=w.lineCount(Le),_e=Math.max(Ce+10,N.minButtonWidth);ve.attr("transform",k(we+ee,we)),Oe.attr({x:0,y:0,width:_e,height:xe}),w.positionText(Le,_e/2,xe/2-(Ve-1)*De/2+3),ee+=_e+5});var Be=L._fullLayout._size,pe=Be.l+Be.w*ae.x,ne=Be.t+Be.h*(1-ae.y),le="left";C.isRightAnchor(ae)&&(pe-=ee,le="right"),C.isCenterAnchor(ae)&&(pe-=ee/2,le="center");var Y="top";C.isBottomAnchor(ae)&&(ne-=xe,Y="bottom"),C.isMiddleAnchor(ae)&&(ne-=xe/2,Y="middle"),ee=Math.ceil(ee),xe=Math.ceil(xe),pe=Math.round(pe),ne=Math.round(ne),y.autoMargin(L,q+"-range-selector",{x:ae.x,y:ae.y,l:ee*I[le],r:ee*V[le],b:xe*V[Y],t:xe*I[Y]}),de.attr("transform",k(pe,ne))}},7917:function(f,h,c){var g=c(1041),v=c(1828).titleCase;f.exports=function(O,C){var k=O._name,w={};if(C.step==="all")w[k+".autorange"]=!0;else{var T=y(O,C);w[k+".range[0]"]=T[0],w[k+".range[1]"]=T[1]}return w};function y(b,O){var C=b.range,k=new Date(b.r2l(C[1])),w=O.step,T=g["utc"+v(w)],R=O.count,M;switch(O.stepmode){case"backward":M=b.l2r(+T.offset(k,-R));break;case"todate":var I=T.offset(k,-R);M=b.l2r(+T.ceil(I));break}var V=C[1];return[M,V]}},7218:function(f,h,c){f.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:c(7113)}}},layoutAttributes:c(7113),handleDefaults:c(8674),draw:c(1598)}},5148:function(f,h,c){var g=c(2399);f.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(f,h,c){var g=c(1675).list,v=c(1739).getAutoRange,y=c(3251);f.exports=function(O){for(var C=g(O,"x",!0),k=0;k<C.length;k++){var w=C[k],T=w[y.name];T&&T.visible&&T.autorange&&(T._input.autorange=!0,T._input.range=T.range=v(O,w))}}},3251:function(f){f.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(f,h,c){var g=c(1828),v=c(4467),y=c(1675),b=c(5148),O=c(7850);f.exports=function(k,w,T){var R=k[T],M=w[T];if(!(R.rangeslider||w._requestRangeslider[M._id]))return;g.isPlainObject(R.rangeslider)||(R.rangeslider={});var I=R.rangeslider,V=v.newContainer(M,"rangeslider");function N(q,de){return g.coerce(I,V,b,q,de)}var Q,z;function U(q,de){return g.coerce(Q,z,O,q,de)}var F=N("visible");if(F){N("bgcolor",w.plot_bgcolor),N("bordercolor"),N("borderwidth"),N("thickness"),N("autorange",!M.isValidRange(I.range)),N("range");var B=w._subplots;if(B)for(var E=B.cartesian.filter(function(q){return q.substr(0,q.indexOf("y"))===y.name2id(T)}).map(function(q){return q.substr(q.indexOf("y"),q.length)}),W=g.simpleMap(E,y.id2name),X=0;X<W.length;X++){var ie=W[X];Q=I[ie]||{},z=v.newContainer(V,ie,"yaxis");var L=w[ie],me;Q.range&&L.isValidRange(Q.range)&&(me="fixed");var ae=U("rangemode",me);ae!=="match"&&U("range",L.range.slice())}V._input=I}}},2413:function(f,h,c){var g=c(9898),v=c(3972),y=c(4875),b=c(1828),O=b.strTranslate,C=c(1424),k=c(7901),w=c(2998),T=c(3612),R=c(1675),M=c(8569),I=c(6964),V=c(3251);f.exports=function(L){for(var me=L._fullLayout,ae=me._rangeSliderData,q=0;q<ae.length;q++){var de=ae[q][V.name];de._clipId=de._id+"-"+me._uid}function ee(we){return we._name}var xe=me._infolayer.selectAll("g."+V.containerClassName).data(ae,ee);xe.exit().each(function(we){var Be=we[V.name];me._topdefs.select("#"+Be._clipId).remove()}).remove(),ae.length!==0&&(xe.enter().append("g").classed(V.containerClassName,!0).attr("pointer-events","all"),xe.each(function(we){var Be=g.select(this),pe=we[V.name],ne=me[R.id2name(we.anchor)],le=pe[R.id2name(we.anchor)];if(pe.range){var Y=b.simpleMap(pe.range,we.r2l),ve=b.simpleMap(we.range,we.r2l),Oe;ve[0]<ve[1]?Oe=[Math.min(Y[0],ve[0]),Math.max(Y[1],ve[1])]:Oe=[Math.max(Y[0],ve[0]),Math.min(Y[1],ve[1])],pe.range=pe._input.range=b.simpleMap(Oe,we.l2r)}we.cleanRange("rangeslider.range");var Le=me._size,Ce=we.domain;pe._width=Le.w*(Ce[1]-Ce[0]);var De=Math.round(Le.l+Le.w*Ce[0]),Ve=Math.round(Le.t+Le.h*(1-we._counterDomainMin)+(we.side==="bottom"?we._depth:0)+pe._offsetShift+V.extraPad);Be.attr("transform",O(De,Ve)),pe._rl=b.simpleMap(pe.range,we.r2l);var _e=pe._rl[0],Ie=pe._rl[1],re=Ie-_e;if(pe.p2d=function(Ze){return Ze/pe._width*re+_e},pe.d2p=function(Ze){return(Ze-_e)/re*pe._width},we.rangebreaks){var be=we.locateBreaks(_e,Ie);if(be.length){var te,se,fe=0;for(te=0;te<be.length;te++)se=be[te],fe+=se.max-se.min;var oe=pe._width/(Ie-_e-fe),Se=[-oe*_e];for(te=0;te<be.length;te++)se=be[te],Se.push(Se[Se.length-1]-oe*(se.max-se.min));for(pe.d2p=function(Ze){for(var Xe=Se[0],ct=0;ct<be.length;ct++){var pt=be[ct];if(Ze>=pt.max)Xe=Se[ct+1];else if(Ze<pt.min)break}return Xe+oe*Ze},te=0;te<be.length;te++)se=be[te],se.pmin=pe.d2p(se.min),se.pmax=pe.d2p(se.max);pe.p2d=function(Ze){for(var Xe=Se[0],ct=0;ct<be.length;ct++){var pt=be[ct];if(Ze>=pt.pmax)Xe=Se[ct+1];else if(Ze<pt.pmin)break}return(Ze-Xe)/oe}}}if(le.rangemode!=="match"){var ce=ne.r2l(le.range[0]),ke=ne.r2l(le.range[1]),Qe=ke-ce;pe.d2pOppAxis=function(Ze){return(Ze-ce)/Qe*pe._height}}Be.call(U,L,we,pe).call(F,L,we,pe).call(B,L,we,pe).call(W,L,we,pe,le).call(X,L,we,pe).call(ie,L,we,pe),N(Be,L,we,pe),z(Be,L,we,pe,ne,le),we.side==="bottom"&&w.draw(L,we._id+"title",{propContainer:we,propName:we._name+".title",placeholder:me._dfltTitle.x,attributes:{x:we._offset+we._length/2,y:Ve+pe._height+pe._offsetShift+10+1.5*we.title.font.size,"text-anchor":"middle"}})}))};function N(L,me,ae,q){if(me._context.staticPlot)return;var de=L.select("rect."+V.slideBoxClassName).node(),ee=L.select("rect."+V.grabAreaMinClassName).node(),xe=L.select("rect."+V.grabAreaMaxClassName).node();function we(){var Be=g.event,pe=Be.target,ne=Be.clientX||Be.touches[0].clientX,le=ne-L.node().getBoundingClientRect().left,Y=q.d2p(ae._rl[0]),ve=q.d2p(ae._rl[1]),Oe=M.coverSlip();this.addEventListener("touchmove",Le),this.addEventListener("touchend",Ce),Oe.addEventListener("mousemove",Le),Oe.addEventListener("mouseup",Ce);function Le(De){var Ve=De.clientX||De.touches[0].clientX,_e=+Ve-ne,Ie,re,be;switch(pe){case de:if(be="ew-resize",Y+_e>ae._length||ve+_e<0)return;Ie=Y+_e,re=ve+_e;break;case ee:if(be="col-resize",Y+_e>ae._length)return;Ie=Y+_e,re=ve;break;case xe:if(be="col-resize",ve+_e<0)return;Ie=Y,re=ve+_e;break;default:be="ew-resize",Ie=le,re=le+_e;break}if(re<Ie){var te=re;re=Ie,Ie=te}q._pixelMin=Ie,q._pixelMax=re,I(g.select(Oe),be),Q(L,me,ae,q)}function Ce(){Oe.removeEventListener("mousemove",Le),Oe.removeEventListener("mouseup",Ce),this.removeEventListener("touchmove",Le),this.removeEventListener("touchend",Ce),b.removeElement(Oe)}}L.on("mousedown",we),L.on("touchstart",we)}function Q(L,me,ae,q){function de(we){return ae.l2r(b.constrain(we,q._rl[0],q._rl[1]))}var ee=de(q.p2d(q._pixelMin)),xe=de(q.p2d(q._pixelMax));window.requestAnimationFrame(function(){v.call("_guiRelayout",me,ae._name+".range",[ee,xe])})}function z(L,me,ae,q,de,ee){var xe=V.handleWidth/2;function we(De){return b.constrain(De,0,q._width)}function Be(De){return b.constrain(De,0,q._height)}function pe(De){return b.constrain(De,-xe,q._width+xe)}var ne=we(q.d2p(ae._rl[0])),le=we(q.d2p(ae._rl[1]));if(L.select("rect."+V.slideBoxClassName).attr("x",ne).attr("width",le-ne),L.select("rect."+V.maskMinClassName).attr("width",ne),L.select("rect."+V.maskMaxClassName).attr("x",le).attr("width",q._width-le),ee.rangemode!=="match"){var Y=q._height-Be(q.d2pOppAxis(de._rl[1])),ve=q._height-Be(q.d2pOppAxis(de._rl[0]));L.select("rect."+V.maskMinOppAxisClassName).attr("x",ne).attr("height",Y).attr("width",le-ne),L.select("rect."+V.maskMaxOppAxisClassName).attr("x",ne).attr("y",ve).attr("height",q._height-ve).attr("width",le-ne),L.select("rect."+V.slideBoxClassName).attr("y",Y).attr("height",ve-Y)}var Oe=.5,Le=Math.round(pe(ne-xe))-Oe,Ce=Math.round(pe(le-xe))+Oe;L.select("g."+V.grabberMinClassName).attr("transform",O(Le,Oe)),L.select("g."+V.grabberMaxClassName).attr("transform",O(Ce,Oe))}function U(L,me,ae,q){var de=b.ensureSingle(L,"rect",V.bgClassName,function(Be){Be.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),ee=q.borderwidth%2===0?q.borderwidth:q.borderwidth-1,xe=-q._offsetShift,we=C.crispRound(me,q.borderwidth);de.attr({width:q._width+ee,height:q._height+ee,transform:O(xe,xe),"stroke-width":we}).call(k.stroke,q.bordercolor).call(k.fill,q.bgcolor)}function F(L,me,ae,q){var de=me._fullLayout,ee=b.ensureSingleById(de._topdefs,"clipPath",q._clipId,function(xe){xe.append("rect").attr({x:0,y:0})});ee.select("rect").attr({width:q._width,height:q._height})}function B(L,me,ae,q){var de=me.calcdata,ee=L.selectAll("g."+V.rangePlotClassName).data(ae._subplotsWith,b.identity);ee.enter().append("g").attr("class",function(we){return V.rangePlotClassName+" "+we}).call(C.setClipUrl,q._clipId,me),ee.order(),ee.exit().remove();var xe;ee.each(function(we,Be){var pe=g.select(this),ne=Be===0,le=R.getFromId(me,we,"y"),Y=le._name,ve=q[Y],Oe={data:[],layout:{xaxis:{type:ae.type,domain:[0,1],range:q.range.slice(),calendar:ae.calendar},width:q._width,height:q._height,margin:{t:0,b:0,l:0,r:0}},_context:me._context};ae.rangebreaks&&(Oe.layout.xaxis.rangebreaks=ae.rangebreaks),Oe.layout[Y]={type:le.type,domain:[0,1],range:ve.rangemode!=="match"?ve.range.slice():le.range.slice(),calendar:le.calendar},le.rangebreaks&&(Oe.layout[Y].rangebreaks=le.rangebreaks),y.supplyDefaults(Oe);var Le=Oe._fullLayout.xaxis,Ce=Oe._fullLayout[Y];Le.clearCalc(),Le.setScale(),Ce.clearCalc(),Ce.setScale();var De={id:we,plotgroup:pe,xaxis:Le,yaxis:Ce,isRangePlot:!0};ne?xe=De:(De.mainplot="xy",De.mainplotinfo=xe),T.rangePlot(me,De,E(de,we))})}function E(L,me){for(var ae=[],q=0;q<L.length;q++){var de=L[q],ee=de[0].trace;ee.xaxis+ee.yaxis===me&&ae.push(de)}return ae}function W(L,me,ae,q,de){var ee=b.ensureSingle(L,"rect",V.maskMinClassName,function(pe){pe.attr({x:0,y:0,"shape-rendering":"crispEdges"})});ee.attr("height",q._height).call(k.fill,V.maskColor);var xe=b.ensureSingle(L,"rect",V.maskMaxClassName,function(pe){pe.attr({y:0,"shape-rendering":"crispEdges"})});if(xe.attr("height",q._height).call(k.fill,V.maskColor),de.rangemode!=="match"){var we=b.ensureSingle(L,"rect",V.maskMinOppAxisClassName,function(pe){pe.attr({y:0,"shape-rendering":"crispEdges"})});we.attr("width",q._width).call(k.fill,V.maskOppAxisColor);var Be=b.ensureSingle(L,"rect",V.maskMaxOppAxisClassName,function(pe){pe.attr({y:0,"shape-rendering":"crispEdges"})});Be.attr("width",q._width).style("border-top",V.maskOppBorder).call(k.fill,V.maskOppAxisColor)}}function X(L,me,ae,q){if(!me._context.staticPlot){var de=b.ensureSingle(L,"rect",V.slideBoxClassName,function(ee){ee.attr({y:0,cursor:V.slideBoxCursor,"shape-rendering":"crispEdges"})});de.attr({height:q._height,fill:V.slideBoxFill})}}function ie(L,me,ae,q){var de=b.ensureSingle(L,"g",V.grabberMinClassName),ee=b.ensureSingle(L,"g",V.grabberMaxClassName),xe={x:0,width:V.handleWidth,rx:V.handleRadius,fill:k.background,stroke:k.defaultLine,"stroke-width":V.handleStrokeWidth,"shape-rendering":"crispEdges"},we={y:Math.round(q._height/4),height:Math.round(q._height/2)},Be=b.ensureSingle(de,"rect",V.handleMinClassName,function(ve){ve.attr(xe)});Be.attr(we);var pe=b.ensureSingle(ee,"rect",V.handleMaxClassName,function(ve){ve.attr(xe)});pe.attr(we);var ne={width:V.grabAreaWidth,x:0,y:0,fill:V.grabAreaFill,cursor:me._context.staticPlot?void 0:V.grabAreaCursor},le=b.ensureSingle(de,"rect",V.grabAreaMinClassName,function(ve){ve.attr(ne)});le.attr("height",q._height);var Y=b.ensureSingle(ee,"rect",V.grabAreaMaxClassName,function(ve){ve.attr(ne)});Y.attr("height",q._height)}},549:function(f,h,c){var g=c(1675),v=c(3893),y=c(3251),b=c(8783).LINE_SPACING,O=y.name;function C(k){var w=k&&k[O];return w&&w.visible}h.isVisible=C,h.makeData=function(k){var w=g.list({_fullLayout:k},"x",!0),T=k.margin,R=[];if(!k._has("gl2d"))for(var M=0;M<w.length;M++){var I=w[M];if(C(I)){R.push(I);var V=I[O];V._id=O+I._id,V._height=(k.height-T.b-T.t)*V.thickness,V._offsetShift=Math.floor(V.borderwidth/2)}}k._rangeSliderData=R},h.autoMarginOpts=function(k,w){var T=k._fullLayout,R=w[O],M=w._id.charAt(0),I=0,V=0;if(w.side==="bottom"&&(I=w._depth,w.title.text!==T._dfltTitle[M])){V=1.5*w.title.font.size+10+R._offsetShift;var N=(w.title.text.match(v.BR_TAG_ALL)||[]).length;V+=N*w.title.font.size*b}return{x:0,y:w._counterDomainMin,l:0,r:0,t:0,b:R._height+I+Math.max(T.margin.b,V),pad:y.extraPad+R._offsetShift*2}}},3137:function(f,h,c){var g=c(1828),v=c(5148),y=c(7850),b=c(549);f.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},v,{yaxis:y})}}},layoutAttributes:c(5148),handleDefaults:c(6377),calcAutorange:c(8443),draw:c(2413),isVisible:b.isVisible,makeData:b.makeData,autoMarginOpts:b.autoMarginOpts}},7850:function(f){f.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(f,h,c){var g=c(215),v=c(2196).line,y=c(9952).P,b=c(1426).extendFlat,O=c(962).overrideAll,C=c(4467).templatedArray;c(4695),f.exports=O(C("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:b({},g.xref,{}),yref:b({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:v.color,width:b({},v.width,{min:1,dflt:1}),dash:b({},y,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(f){f.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(f,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(8389),O=c(477);f.exports=function(w,T){y(w,T,{name:"selections",handleItemDefaults:C});for(var R=T.selections,M=0;M<R.length;M++){var I=R[M];I&&I.path===void 0&&(I.x0===void 0||I.x1===void 0||I.y0===void 0||I.y1===void 0)&&(T.selections[M]=null)}};function C(k,w,T){function R(ee,xe){return g.coerce(k,w,b,ee,xe)}var M=R("path"),I=M?"path":"rect",V=R("type",I),N=V!=="path";N&&delete w.path,R("opacity"),R("line.color"),R("line.width"),R("line.dash");for(var Q=["x","y"],z=0;z<2;z++){var U=Q[z],F={_fullLayout:T},B,E,W,X=v.coerceRef(k,w,F,U);if(B=v.getFromId(F,X),B._selectionIndices.push(w._index),W=O.rangeToShapePosition(B),E=O.shapePositionToRange(B),N){var ie=U+"0",L=U+"1",me=k[ie],ae=k[L];k[ie]=E(k[ie],!0),k[L]=E(k[L],!0),v.coercePosition(w,F,R,X,ie),v.coercePosition(w,F,R,X,L);var q=w[ie],de=w[L];q!==void 0&&de!==void 0&&(w[ie]=W(q),w[L]=W(de),k[ie]=me,k[L]=ae)}}N&&g.noneOrAll(k,w,["x0","x1","y0","y1"])}},2485:function(f,h,c){var g=c(165).readPaths,v=c(2359),y=c(1873).clearOutlineControllers,b=c(7901),O=c(1424),C=c(4467).arrayEditor,k=c(477),w=k.getPathString;f.exports={draw:T,drawOne:M,activateLastSelection:N};function T(z){var U=z._fullLayout;y(z),U._selectionLayer.selectAll("path").remove();for(var F in U._plots){var B=U._plots[F].selectionLayer;B&&B.selectAll("path").remove()}for(var E=0;E<U.selections.length;E++)M(z,E)}function R(z){return z._context.editSelection}function M(z,U){z._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+U+'"]').remove();var F=k.makeSelectionsOptionsAndPlotinfo(z,U),B=F.options,E=F.plotinfo;if(!B._input)return;W(z._fullLayout._selectionLayer);function W(X){var ie=w(z,B),L={"data-index":U,"fill-rule":"evenodd",d:ie},me=B.opacity,ae="rgba(0,0,0,0)",q=B.line.color||b.contrast(z._fullLayout.plot_bgcolor),de=B.line.width,ee=B.line.dash;de||(de=5,ee="solid");var xe=R(z)&&z._fullLayout._activeSelectionIndex===U;xe&&(ae=z._fullLayout.activeselection.fillcolor,me=z._fullLayout.activeselection.opacity);for(var we=[],Be=1;Be>=0;Be--){var pe=X.append("path").attr(L).style("opacity",Be?.1:me).call(b.stroke,q).call(b.fill,ae).call(O.dashLine,Be?"solid":ee,Be?4+de:de);if(I(pe,z,B),xe){var ne=C(z.layout,"selections",B);pe.style({cursor:"move"});var le={element:pe.node(),plotinfo:E,gd:z,editHelpers:ne,isActiveSelection:!0},Y=g(ie,z);v(Y,pe,le)}else pe.style("pointer-events",Be?"all":"none");we[Be]=pe}var ve=we[0],Oe=we[1];Oe.node().addEventListener("click",function(){return V(z,ve)})}}function I(z,U,F){var B=F.xref+F.yref;O.setClipUrl(z,"clip"+U._fullLayout._uid+B,U)}function V(z,U){if(R(z)){var F=U.node(),B=+F.getAttribute("data-index");if(B>=0){if(B===z._fullLayout._activeSelectionIndex){Q(z);return}z._fullLayout._activeSelectionIndex=B,z._fullLayout._deactivateSelection=Q,T(z)}}}function N(z){if(R(z)){var U=z._fullLayout.selections.length-1;z._fullLayout._activeSelectionIndex=U,z._fullLayout._deactivateSelection=Q,T(z)}}function Q(z){if(R(z)){var U=z._fullLayout._activeSelectionIndex;U>=0&&(y(z),delete z._fullLayout._activeSelectionIndex,T(z))}}},3777:function(f,h,c){var g=c(9952).P,v=c(1426).extendFlat;f.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:v({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(f){f.exports=function(c,g,v){v("newselection.mode");var y=v("newselection.line.width");y&&(v("newselection.line.color"),v("newselection.line.dash")),v("activeselection.fillcolor"),v("activeselection.opacity")}},5855:function(f,h,c){var g=c(4505),v=g.selectMode,y=c(1873),b=y.clearOutline,O=c(165),C=O.readPaths,k=O.writePaths,w=O.fixDatesForPaths;f.exports=function(R,M){if(R.length){var I=R[0][0];if(I){var V=I.getAttribute("d"),N=M.gd,Q=N._fullLayout.newselection,z=M.plotinfo,U=z.xaxis,F=z.yaxis,B=M.isActiveSelection,E=M.dragmode,W=(N.layout||{}).selections||[];if(!v(E)&&B!==void 0){var X=N._fullLayout._activeSelectionIndex;if(X<W.length)switch(N._fullLayout.selections[X].type){case"rect":E="select";break;case"path":E="lasso";break}}var ie=C(V,N,z,B),L={xref:U._id,yref:F._id,opacity:Q.opacity,line:{color:Q.line.color,width:Q.line.width,dash:Q.line.dash}},me;ie.length===1&&(me=ie[0]),me&&me.length===5&&E==="select"?(L.type="rect",L.x0=me[0][1],L.y0=me[0][2],L.x1=me[2][1],L.y1=me[2][2]):(L.type="path",U&&F&&w(ie,U,F),L.path=k(ie),me=null),b(N);for(var ae=M.editHelpers,q=(ae||{}).modifyItem,de=[],ee=0;ee<W.length;ee++){var xe=N._fullLayout.selections[ee];if(!xe){de[ee]=xe;continue}if(de[ee]=xe._input,B!==void 0&&ee===N._fullLayout._activeSelectionIndex){var we=L;switch(xe.type){case"rect":q("x0",we.x0),q("x1",we.x1),q("y0",we.y0),q("y1",we.y1);break;case"path":q("path",we.path);break}}}return B===void 0?(de.push(L),de):ae?ae.getUpdateObj():{}}}}},5549:function(f,h,c){var g=c(1828).strTranslate;function v(C,k){switch(C.type){case"log":return C.p2d(k);case"date":return C.p2r(k,0,C.calendar);default:return C.p2r(k)}}function y(C,k){switch(C.type){case"log":return C.d2p(k);case"date":return C.r2p(k,0,C.calendar);default:return C.r2p(k)}}function b(C){var k=C._id.charAt(0)==="y"?1:0;return function(w){return v(C,w[k])}}function O(C){return g(C.xaxis._offset,C.yaxis._offset)}f.exports={p2r:v,r2p:y,axValue:b,getTransform:O}},7322:function(f,h,c){var g=c(2485),v=c(3937);f.exports={moduleType:"component",name:"selections",layoutAttributes:c(8389),supplyLayoutDefaults:c(9402),supplyDrawNewSelectionDefaults:c(849),includeBasePlot:c(6325)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:v.reselect,prepSelect:v.prepSelect,clearOutline:v.clearOutline,clearSelectionsCache:v.clearSelectionsCache,selectOnClick:v.selectOnClick}},3937:function(f,h,c){var g=c(2142),v=c(8258),y=c(3972),b=c(1424).dashStyle,O=c(7901),C=c(211),k=c(3469).makeEventData,w=c(4505),T=w.freeMode,R=w.rectMode,M=w.drawMode,I=w.openMode,V=w.selectMode,N=c(477),Q=c(1459),z=c(2359),U=c(1873).clearOutline,F=c(165),B=F.handleEllipse,E=F.readPaths,W=c(551).newShapes,X=c(5855),ie=c(2485).activateLastSelection,L=c(1828),me=L.sorterAsc,ae=c(1082),q=c(9990),de=c(1675).getFromId,ee=c(3306),xe=c(1549).redrawReglTraces,we=c(4122),Be=we.MINSELECT,pe=ae.filter,ne=ae.tester,le=c(5549),Y=le.p2r,ve=le.axValue,Oe=le.getTransform;function Le(lt){return lt.subplot!==void 0}function Ce(lt,ut,xt,gt,Dt){var He=!Le(gt),at=T(Dt),dt=R(Dt),mt=I(Dt),Tt=M(Dt),Pt=V(Dt),dn=Dt==="drawline",rn=Dt==="drawcircle",Wt=dn||rn,Rt=gt.gd,fn=Rt._fullLayout,Hn=Pt&&fn.newselection.mode==="immediate"&&He,nr=fn._zoomlayer,Er=gt.element.getBoundingClientRect(),zt=gt.plotinfo,vr=Oe(zt),Wn=ut-Er.left,Br=xt-Er.top;fn._calcInverseTransform(Rt);var kr=L.apply3DTransform(fn._invTransform)(Wn,Br);Wn=kr[0],Br=kr[1];var or=fn._invScaleX,jr=fn._invScaleY,_r=Wn,Rn=Br,xr="M"+Wn+","+Br,sr=gt.xaxes[0],Sr=gt.yaxes[0],ao=sr._length,Oo=Sr._length,wr=lt.altKey&&!(M(Dt)&&mt),Fe,Ee,St,Ct,Lt,Ft,Ht;be(lt,Rt,gt),at&&(Fe=pe([[Wn,Br]],we.BENDPX));var $t=nr.selectAll("path.select-outline-"+zt.id).data([1]),Mt=Tt?fn.newshape:fn.newselection;Tt&&(gt.hasText=Mt.label.text||Mt.label.texttemplate);var tn=Tt&&!mt?Mt.fillcolor:"rgba(0,0,0,0)",un=Mt.line.color||(He?O.contrast(Rt._fullLayout.plot_bgcolor):"#7f7f7f");$t.enter().append("path").attr("class","select-outline select-outline-"+zt.id).style({opacity:Tt?Mt.opacity/2:1,"stroke-dasharray":b(Mt.line.dash,Mt.line.width),"stroke-width":Mt.line.width+"px","shape-rendering":"crispEdges"}).call(O.stroke,un).call(O.fill,tn).attr("fill-rule","evenodd").classed("cursor-move",!!Tt).attr("transform",vr).attr("d",xr+"Z");var Jt=nr.append("path").attr("class","zoombox-corners").style({fill:O.background,stroke:O.defaultLine,"stroke-width":1}).attr("transform",vr).attr("d","M0,0Z");if(Tt&&gt.hasText){var on=nr.select(".label-temp");on.empty()&&(on=nr.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Tn=fn._uid+we.SELECTID,On=[],pn=Se(Rt,gt.xaxes,gt.yaxes,gt.subplot);Hn&&!lt.shiftKey&&(gt._clearSubplotSelections=function(){if(He){var Fn=sr._id,Zr=Sr._id;Gt(Rt,Fn,Zr,pn);for(var dr=(Rt.layout||{}).selections||[],Ur=[],ar=!1,ur=0;ur<dr.length;ur++){var qr=fn.selections[ur];qr.xref!==Fn||qr.yref!==Zr?Ur.push(dr[ur]):ar=!0}ar&&(Rt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Rt,{selections:Ur}))}});var Jn=wn(gt);gt.moveFn=function(Fn,Zr){gt._clearSubplotSelections&&(gt._clearSubplotSelections(),gt._clearSubplotSelections=void 0),_r=Math.max(0,Math.min(ao,or*Fn+Wn)),Rn=Math.max(0,Math.min(Oo,jr*Zr+Br));var dr=Math.abs(_r-Wn),Ur=Math.abs(Rn-Br);if(dt){var ar,ur,qr;if(Pt){var no=fn.selectdirection;switch(no==="any"?Ur<Math.min(dr*.6,Be)?ar="h":dr<Math.min(Ur*.6,Be)?ar="v":ar="d":ar=no,ar){case"h":ur=rn?Oo/2:0,qr=Oo;break;case"v":ur=rn?ao/2:0,qr=ao;break}}if(Tt)switch(fn.newshape.drawdirection){case"vertical":ar="h",ur=rn?Oo/2:0,qr=Oo;break;case"horizontal":ar="v",ur=rn?ao/2:0,qr=ao;break;case"ortho":dr<Ur?(ar="h",ur=Br,qr=Rn):(ar="v",ur=Wn,qr=_r);break;default:ar="d"}ar==="h"?(Ct=Wt?B(rn,[_r,ur],[_r,qr]):[[Wn,ur],[Wn,qr],[_r,qr],[_r,ur]],Ct.xmin=Wt?_r:Math.min(Wn,_r),Ct.xmax=Wt?_r:Math.max(Wn,_r),Ct.ymin=Math.min(ur,qr),Ct.ymax=Math.max(ur,qr),Jt.attr("d","M"+Ct.xmin+","+(Br-Be)+"h-4v"+2*Be+"h4ZM"+(Ct.xmax-1)+","+(Br-Be)+"h4v"+2*Be+"h-4Z")):ar==="v"?(Ct=Wt?B(rn,[ur,Rn],[qr,Rn]):[[ur,Br],[ur,Rn],[qr,Rn],[qr,Br]],Ct.xmin=Math.min(ur,qr),Ct.xmax=Math.max(ur,qr),Ct.ymin=Wt?Rn:Math.min(Br,Rn),Ct.ymax=Wt?Rn:Math.max(Br,Rn),Jt.attr("d","M"+(Wn-Be)+","+Ct.ymin+"v-4h"+2*Be+"v4ZM"+(Wn-Be)+","+(Ct.ymax-1)+"v4h"+2*Be+"v-4Z")):ar==="d"&&(Ct=Wt?B(rn,[Wn,Br],[_r,Rn]):[[Wn,Br],[Wn,Rn],[_r,Rn],[_r,Br]],Ct.xmin=Math.min(Wn,_r),Ct.xmax=Math.max(Wn,_r),Ct.ymin=Math.min(Br,Rn),Ct.ymax=Math.max(Br,Rn),Jt.attr("d","M0,0Z"))}else at&&(Fe.addPt([_r,Rn]),Ct=Fe.filtered);if(gt.selectionDefs&&gt.selectionDefs.length?(St=je(gt.mergedPolygons,Ct,wr),Ct.subtract=wr,Ee=re(gt.selectionDefs.concat([Ct]))):(St=[Ct],Ee=ne(Ct)),z(yt(St,mt),$t,gt),Pt){var ko=tt(Rt,!1),Es=ko.eventData?ko.eventData.points.slice():[];ko=tt(Rt,!1,Ee,pn,gt),Ee=ko.selectionTesters,Ht=ko.eventData;var So;Fe?So=Fe.filtered:So=ln(St),q.throttle(Tn,we.SELECTDELAY,function(){On=ft(Ee,pn);for(var Ko=On.slice(),ds=0;ds<Es.length;ds++){for(var qs=Es[ds],es=!1,Xs=0;Xs<Ko.length;Xs++)if(Ko[Xs].curveNumber===qs.curveNumber&&Ko[Xs].pointNumber===qs.pointNumber){es=!0;break}es||Ko.push(qs)}Ko.length&&(Ht||(Ht={}),Ht.points=Ko),Jn(Ht,So),Xn(Rt,Ht)})}},gt.clickFn=function(Fn,Zr){if(Jt.remove(),Rt._fullLayout._activeShapeIndex>=0){Rt._fullLayout._deactivateShape(Rt);return}if(!Tt){var dr=fn.clickmode;q.done(Tn).then(function(){if(q.clear(Tn),Fn===2){for($t.remove(),Lt=0;Lt<pn.length;Lt++)Ft=pn[Lt],Ft._module.selectPoints(Ft,!1);if(pt(Rt,pn),fe(gt),Sn(Rt),pn.length){var Ur=pn[0].xaxis,ar=pn[0].yaxis;if(Ur&&ar){for(var ur=[],qr=Rt._fullLayout.selections,no=0;no<qr.length;no++){var ko=qr[no];ko&&(ko.xref!==Ur._id||ko.yref!==ar._id)&&ur.push(ko)}ur.length<qr.length&&(Rt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Rt,{selections:ur}))}}}else dr.indexOf("select")>-1&&De(Zr,Rt,gt.xaxes,gt.yaxes,gt.subplot,gt,$t),dr==="event"&&Un(Rt,void 0);C.click(Rt,Zr,zt.id)}).catch(L.error)}},gt.doneFn=function(){Jt.remove(),q.done(Tn).then(function(){q.clear(Tn),!Hn&&Ct&&gt.selectionDefs&&(Ct.subtract=wr,gt.selectionDefs.push(Ct),gt.mergedPolygons.length=0,[].push.apply(gt.mergedPolygons,St)),(Hn||Tt)&&fe(gt,Hn),gt.doneFnCompleted&&gt.doneFnCompleted(On),Pt&&Un(Rt,Ht)}).catch(L.error)}}function De(lt,ut,xt,gt,Dt,He,at){var dt=ut._hoverdata,mt=ut._fullLayout,Tt=mt.clickmode,Pt=Tt.indexOf("event")>-1,dn=[],rn,Wt,Rt,fn,Hn,nr,Er,zt,vr,Wn;if(ke(dt)){be(lt,ut,He),rn=Se(ut,xt,gt,Dt);var Br=Qe(dt,rn),kr=Br.pointNumbers.length>0;if(kr?Xe(rn,Br):ct(rn)&&(Er=Ze(Br))){for(at&&at.remove(),Wn=0;Wn<rn.length;Wn++)Wt=rn[Wn],Wt._module.selectPoints(Wt,!1);pt(ut,rn),fe(He),Pt&&Sn(ut)}else{zt=lt.shiftKey&&(Er!==void 0?Er:Ze(Br)),Rt=Ve(Br.pointNumber,Br.searchInfo,zt);var or=He.selectionDefs.concat([Rt]);for(fn=re(or),Wn=0;Wn<rn.length;Wn++)if(Hn=rn[Wn]._module.selectPoints(rn[Wn],fn),nr=et(Hn,rn[Wn]),dn.length)for(var jr=0;jr<nr.length;jr++)dn.push(nr[jr]);else dn=nr;if(vr={points:dn},pt(ut,rn,vr),Rt&&He&&He.selectionDefs.push(Rt),at){var _r=He.mergedPolygons,Rn=I(He.dragmode);z(yt(_r,Rn),at,He)}Pt&&Un(ut,vr)}}}function Ve(lt,ut,xt){return{pointNumber:lt,searchInfo:ut,subtract:!!xt}}function _e(lt){return"pointNumber"in lt&&"searchInfo"in lt}function Ie(lt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ut,xt,gt,Dt){var He=lt.searchInfo.cd[0].trace._expandedIndex,at=Dt.cd[0].trace._expandedIndex;return at===He&&gt===lt.pointNumber},isRect:!1,degenerate:!1,subtract:!!lt.subtract}}function re(lt){if(!lt.length)return;for(var ut=[],xt=_e(lt[0])?0:lt[0][0][0],gt=xt,Dt=_e(lt[0])?0:lt[0][0][1],He=Dt,at=0;at<lt.length;at++)if(_e(lt[at]))ut.push(Ie(lt[at]));else{var dt=ne(lt[at]);dt.subtract=!!lt[at].subtract,ut.push(dt),xt=Math.min(xt,dt.xmin),gt=Math.max(gt,dt.xmax),Dt=Math.min(Dt,dt.ymin),He=Math.max(He,dt.ymax)}function mt(Tt,Pt,dn,rn){for(var Wt=!1,Rt=0;Rt<ut.length;Rt++)ut[Rt].contains(Tt,Pt,dn,rn)&&(Wt=!ut[Rt].subtract);return Wt}return{xmin:xt,xmax:gt,ymin:Dt,ymax:He,pts:[],contains:mt,isRect:!1,degenerate:!1}}function be(lt,ut,xt){var gt=ut._fullLayout,Dt=xt.plotinfo,He=xt.dragmode,at=gt._lastSelectedSubplot&&gt._lastSelectedSubplot===Dt.id,dt=(lt.shiftKey||lt.altKey)&&!(M(He)&&I(He));at&&dt&&Dt.selection&&Dt.selection.selectionDefs&&!xt.selectionDefs?(xt.selectionDefs=Dt.selection.selectionDefs,xt.mergedPolygons=Dt.selection.mergedPolygons):(!dt||!Dt.selection)&&fe(xt),at||(U(ut),gt._lastSelectedSubplot=Dt.id)}function te(lt){return lt._fullLayout._activeShapeIndex>=0}function se(lt){return lt._fullLayout._activeSelectionIndex>=0}function fe(lt,ut){var xt=lt.dragmode,gt=lt.plotinfo,Dt=lt.gd;te(Dt)&&Dt._fullLayout._deactivateShape(Dt),se(Dt)&&Dt._fullLayout._deactivateSelection(Dt);var He=Dt._fullLayout,at=He._zoomlayer,dt=M(xt),mt=V(xt);if(dt||mt){var Tt=at.selectAll(".select-outline-"+gt.id);if(Tt&&Dt._fullLayout._outlining){var Pt;dt&&(Pt=W(Tt,lt)),Pt&&y.call("_guiRelayout",Dt,{shapes:Pt});var dn;mt&&!Le(lt)&&(dn=X(Tt,lt)),dn&&(Dt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Dt,{selections:dn}).then(function(){ut&&ie(Dt)})),Dt._fullLayout._outlining=!1}}gt.selection={},gt.selection.selectionDefs=lt.selectionDefs=[],gt.selection.mergedPolygons=lt.mergedPolygons=[]}function oe(lt){return lt._id}function Se(lt,ut,xt,gt){if(!lt.calcdata)return[];var Dt=[],He=ut.map(oe),at=xt.map(oe),dt,mt,Tt;for(Tt=0;Tt<lt.calcdata.length;Tt++)if(dt=lt.calcdata[Tt],mt=dt[0].trace,!(mt.visible!==!0||!mt._module||!mt._module.selectPoints))if(Le({subplot:gt})&&(mt.subplot===gt||mt.geo===gt))Dt.push(ce(mt._module,dt,ut[0],xt[0]));else if(mt.type==="splom"){if(mt._xaxes[He[0]]&&mt._yaxes[at[0]]){var Pt=ce(mt._module,dt,ut[0],xt[0]);Pt.scene=lt._fullLayout._splomScenes[mt.uid],Dt.push(Pt)}}else if(mt.type==="sankey"){var dn=ce(mt._module,dt,ut[0],xt[0]);Dt.push(dn)}else{if(He.indexOf(mt.xaxis)===-1||at.indexOf(mt.yaxis)===-1)continue;Dt.push(ce(mt._module,dt,de(lt,mt.xaxis),de(lt,mt.yaxis)))}return Dt}function ce(lt,ut,xt,gt){return{_module:lt,cd:ut,xaxis:xt,yaxis:gt}}function ke(lt){return lt&&Array.isArray(lt)&&lt[0].hoverOnBox!==!0}function Qe(lt,ut){var xt=lt[0],gt=-1,Dt=[],He,at;for(at=0;at<ut.length;at++)if(He=ut[at],xt.fullData._expandedIndex===He.cd[0].trace._expandedIndex){if(xt.hoverOnBox===!0)break;xt.pointNumber!==void 0?gt=xt.pointNumber:xt.binNumber!==void 0&&(gt=xt.binNumber,Dt=xt.pointNumbers);break}return{pointNumber:gt,pointNumbers:Dt,searchInfo:He}}function Ze(lt){var ut=lt.searchInfo.cd[0].trace,xt=lt.pointNumber,gt=lt.pointNumbers,Dt=gt.length>0,He=Dt?gt[0]:xt;return ut.selectedpoints?ut.selectedpoints.indexOf(He)>-1:!1}function Xe(lt,ut){var xt=[],gt,Dt,He,at;for(at=0;at<lt.length;at++)gt=lt[at],gt.cd[0].trace.selectedpoints&&gt.cd[0].trace.selectedpoints.length>0&&xt.push(gt);if(xt.length===1&&(He=xt[0]===ut.searchInfo,He&&(Dt=ut.searchInfo.cd[0].trace,Dt.selectedpoints.length===ut.pointNumbers.length))){for(at=0;at<ut.pointNumbers.length;at++)if(Dt.selectedpoints.indexOf(ut.pointNumbers[at])<0)return!1;return!0}return!1}function ct(lt){var ut=0,xt,gt,Dt;for(Dt=0;Dt<lt.length;Dt++)if(xt=lt[Dt],gt=xt.cd[0].trace,gt.selectedpoints&&(gt.selectedpoints.length>1||(ut+=gt.selectedpoints.length,ut>1)))return!1;return ut===1}function pt(lt,ut,xt){var gt;for(gt=0;gt<ut.length;gt++){var Dt=ut[gt].cd[0].trace._fullInput,He=lt._fullLayout._tracePreGUI[Dt.uid]||{};He.selectedpoints===void 0&&(He.selectedpoints=Dt._input.selectedpoints||null)}var at;if(xt){var dt=xt.points||[];for(gt=0;gt<ut.length;gt++)at=ut[gt].cd[0].trace,at._input.selectedpoints=at._fullInput.selectedpoints=[],at._fullInput!==at&&(at.selectedpoints=[]);for(var mt=0;mt<dt.length;mt++){var Tt=dt[mt],Pt=Tt.data,dn=Tt.fullData,rn=Tt.pointIndex,Wt=Tt.pointIndices;Wt?([].push.apply(Pt.selectedpoints,Wt),at._fullInput!==at&&[].push.apply(dn.selectedpoints,Wt)):(Pt.selectedpoints.push(rn),at._fullInput!==at&&dn.selectedpoints.push(rn))}}else for(gt=0;gt<ut.length;gt++)at=ut[gt].cd[0].trace,delete at.selectedpoints,delete at._input.selectedpoints,at._fullInput!==at&&delete at._fullInput.selectedpoints;Ye(lt,ut)}function Ye(lt,ut){for(var xt=!1,gt=0;gt<ut.length;gt++){var Dt=ut[gt],He=Dt.cd;y.traceIs(He[0].trace,"regl")&&(xt=!0);var at=Dt._module,dt=at.styleOnSelect||at.style;dt&&(dt(lt,He,He[0].node3),He[0].nodeRangePlot3&&dt(lt,He,He[0].nodeRangePlot3))}xt&&(ee(lt),xe(lt))}function je(lt,ut,xt){for(var gt=xt?g.difference:g.union,Dt=gt({regions:lt},{regions:[ut]}),He=Dt.regions.reverse(),at=0;at<He.length;at++){var dt=He[at];dt.subtract=vn(dt,He.slice(0,at))}return He}function et(lt,ut){if(Array.isArray(lt))for(var xt=ut.cd,gt=ut.cd[0].trace,Dt=0;Dt<lt.length;Dt++)lt[Dt]=k(lt[Dt],gt,xt);return lt}function yt(lt,ut){for(var xt=[],gt=0;gt<lt.length;gt++){xt[gt]=[];for(var Dt=0;Dt<lt[gt].length;Dt++){xt[gt][Dt]=[],xt[gt][Dt][0]=Dt?"L":"M";for(var He=0;He<lt[gt][Dt].length;He++)xt[gt][Dt].push(lt[gt][Dt][He])}ut||xt[gt].push(["Z",xt[gt][0][1],xt[gt][0][2]])}return xt}function ft(lt,ut){for(var xt=[],gt,Dt,He=0;He<ut.length;He++){var at=ut[He];Dt=at._module.selectPoints(at,lt),gt=et(Dt,at),xt=xt.concat(gt)}return xt}function tt(lt,ut,xt,gt,Dt){var He=!!gt,at,dt,mt;Dt&&(at=Dt.plotinfo,dt=Dt.xaxes[0]._id,mt=Dt.yaxes[0]._id);var Tt=[],Pt=[],dn=Bt(lt),rn=lt._fullLayout;if(at){var Wt=rn._zoomlayer,Rt=rn.dragmode,fn=M(Rt),Hn=V(Rt);if(fn||Hn){var nr=de(lt,dt,"x"),Er=de(lt,mt,"y");if(nr&&Er){var zt=Wt.selectAll(".select-outline-"+at.id);if(zt&&lt._fullLayout._outlining&&zt.length){for(var vr=zt[0][0],Wn=vr.getAttribute("d"),Br=E(Wn,lt,at),kr=[],or=0;or<Br.length;or++){for(var jr=Br[or],_r=[],Rn=0;Rn<jr.length;Rn++)_r.push([En(nr,jr[Rn][1]),En(Er,jr[Rn][2])]);_r.xref=dt,_r.yref=mt,_r.subtract=vn(_r,kr),kr.push(_r)}dn=dn.concat(kr)}}}}var xr=dt&&mt?[dt+mt]:rn._subplots.cartesian;wt(lt);for(var sr={},Sr=0;Sr<xr.length;Sr++){var ao=xr[Sr],Oo=ao.indexOf("y"),wr=ao.slice(0,Oo),Fe=ao.slice(Oo),Ee=dt&&mt?xt:void 0;if(Ee=Nt(dn,wr,Fe,Ee),Ee){var St=gt;if(!He){var Ct=de(lt,wr,"x"),Lt=de(lt,Fe,"y");St=Se(lt,[Ct],[Lt],ao);for(var Ft=0;Ft<St.length;Ft++){var Ht=St[Ft],$t=Ht.cd[0],Mt=$t.trace;if(Ht._module.name==="scattergl"&&!$t.t.xpx){var tn=Mt.x,un=Mt.y,Jt=Mt._length;$t.t.xpx=[],$t.t.ypx=[];for(var on=0;on<Jt;on++)$t.t.xpx[on]=Ct.c2p(tn[on]),$t.t.ypx[on]=Lt.c2p(un[on])}Ht._module.name==="splom"&&(sr[Mt.uid]||(sr[Mt.uid]=!0))}}var Tn=ft(Ee,St);Tt=Tt.concat(Tn),Pt=Pt.concat(St)}}var On={points:Tt};pt(lt,Pt,On);var pn=rn.clickmode,Jn=pn.indexOf("event")>-1&&ut;if(!at&&ut){var Fn=Bt(lt,!0);if(Fn.length){var Zr=Fn[0].xref,dr=Fn[0].yref;if(Zr&&dr){var Ur=ln(Fn),ar=an([de(lt,Zr,"x"),de(lt,dr,"y")]);ar(On,Ur)}}lt._fullLayout._noEmitSelectedAtStart?lt._fullLayout._noEmitSelectedAtStart=!1:Jn&&Un(lt,On),rn._reselect=!1}if(!at&&rn._deselect){var ur=rn._deselect;dt=ur.xref,mt=ur.yref,Xt(dt,mt,Pt)||Gt(lt,dt,mt,gt),Jn&&(On.points.length?Un(lt,On):Sn(lt)),rn._deselect=!1}return{eventData:On,selectionTesters:xt}}function wt(lt){var ut=lt.calcdata;if(ut)for(var xt=0;xt<ut.length;xt++){var gt=ut[xt][0],Dt=gt.trace,He=lt._fullLayout._splomScenes;if(He){var at=He[Dt.uid];at&&(at.selectBatch=[])}}}function Xt(lt,ut,xt){for(var gt=0;gt<xt.length;gt++){var Dt=xt[gt];if(Dt.xaxis&&Dt.xaxis._id===lt&&Dt.yaxis&&Dt.yaxis._id===ut)return!0}return!1}function Gt(lt,ut,xt,gt){gt=Se(lt,[de(lt,ut,"x")],[de(lt,xt,"y")],ut+xt);for(var Dt=0;Dt<gt.length;Dt++){var He=gt[Dt];He._module.selectPoints(He,!1)}pt(lt,gt)}function Nt(lt,ut,xt,gt){for(var Dt,He=0;He<lt.length;He++){var at=lt[He];if(!(ut!==at.xref||xt!==at.yref))if(Dt){var dt=!!at.subtract;Dt=je(Dt,at,dt),gt=re(Dt)}else Dt=[at],gt=ne(at)}return gt}function Bt(lt,ut){for(var xt=[],gt=lt._fullLayout,Dt=gt.selections,He=Dt.length,at=0;at<He;at++)if(!(ut&&at!==gt._activeSelectionIndex)){var dt=Dt[at];if(dt){var mt=dt.xref,Tt=dt.yref,Pt=de(lt,mt,"x"),dn=de(lt,Tt,"y"),rn,Wt,Rt,fn,Hn;if(dt.type==="rect"){Hn=[];var nr=En(Pt,dt.x0),Er=En(Pt,dt.x1),zt=En(dn,dt.y0),vr=En(dn,dt.y1);Hn=[[nr,zt],[nr,vr],[Er,vr],[Er,zt]],rn=Math.min(nr,Er),Wt=Math.max(nr,Er),Rt=Math.min(zt,vr),fn=Math.max(zt,vr),Hn.xmin=rn,Hn.xmax=Wt,Hn.ymin=Rt,Hn.ymax=fn,Hn.xref=mt,Hn.yref=Tt,Hn.subtract=!1,Hn.isRect=!0,xt.push(Hn)}else if(dt.type==="path")for(var Wn=dt.path.split("Z"),Br=[],kr=0;kr<Wn.length;kr++){var or=Wn[kr];if(or){or+="Z";var jr=N.extractPathCoords(or,Q.paramIsX,"raw"),_r=N.extractPathCoords(or,Q.paramIsY,"raw");rn=1/0,Wt=-1/0,Rt=1/0,fn=-1/0,Hn=[];for(var Rn=0;Rn<jr.length;Rn++){var xr=En(Pt,jr[Rn]),sr=En(dn,_r[Rn]);Hn.push([xr,sr]),rn=Math.min(xr,rn),Wt=Math.max(xr,Wt),Rt=Math.min(sr,Rt),fn=Math.max(sr,fn)}Hn.xmin=rn,Hn.xmax=Wt,Hn.ymin=Rt,Hn.ymax=fn,Hn.xref=mt,Hn.yref=Tt,Hn.subtract=vn(Hn,Br),Br.push(Hn),xt.push(Hn)}}}}return xt}function vn(lt,ut){for(var xt=!1,gt=0;gt<ut.length;gt++)for(var Dt=ut[gt],He=0;He<lt.length;He++)if(v(lt[He],Dt)){xt=!xt;break}return xt}function En(lt,ut){return lt.type==="date"&&(ut=ut.replace("_"," ")),lt.type==="log"?lt.c2p(ut):lt.r2p(ut,null,lt.calendar)}function ln(lt){for(var ut=lt.length,xt=[],gt=0;gt<ut;gt++){var Dt=lt[gt];xt=xt.concat(Dt),xt=xt.concat([Dt[0]])}return Yn(xt)}function Yn(lt){return lt.isRect=lt.length===5&&lt[0][0]===lt[4][0]&&lt[0][1]===lt[4][1]&&lt[0][0]===lt[1][0]&&lt[2][0]===lt[3][0]&&lt[0][1]===lt[3][1]&&lt[1][1]===lt[2][1]||lt[0][1]===lt[1][1]&&lt[2][1]===lt[3][1]&&lt[0][0]===lt[3][0]&&lt[1][0]===lt[2][0],lt.isRect&&(lt.xmin=Math.min(lt[0][0],lt[2][0]),lt.xmax=Math.max(lt[0][0],lt[2][0]),lt.ymin=Math.min(lt[0][1],lt[2][1]),lt.ymax=Math.max(lt[0][1],lt[2][1])),lt}function an(lt){return function(ut,xt){for(var gt,Dt,He=0;He<lt.length;He++){var at=lt[He],dt=at._id,mt=dt.charAt(0);if(xt.isRect){gt||(gt={});var Tt=xt[mt+"min"],Pt=xt[mt+"max"];Tt!==void 0&&Pt!==void 0&&(gt[dt]=[Y(at,Tt),Y(at,Pt)].sort(me))}else Dt||(Dt={}),Dt[dt]=xt.map(ve(at))}gt&&(ut.range=gt),Dt&&(ut.lassoPoints=Dt)}}function wn(lt){var ut=lt.plotinfo;return ut.fillRangeItems||an(lt.xaxes.concat(lt.yaxes))}function Xn(lt,ut){lt.emit("plotly_selecting",ut)}function Un(lt,ut){ut&&(ut.selections=(lt.layout||{}).selections||[]),lt.emit("plotly_selected",ut)}function Sn(lt){lt.emit("plotly_deselect",null)}f.exports={reselect:tt,prepSelect:Ce,clearOutline:U,clearSelectionsCache:fe,selectOnClick:De}},9827:function(f,h,c){var g=c(215),v=c(1940),y=c(2196).line,b=c(9952).P,O=c(1426).extendFlat,C=c(4467).templatedArray;c(4695);var k=c(9012),w=c(5386).R,T=c(7281);f.exports=C("shape",{visible:O({},k.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:O({},k.legend,{editType:"calc+arraydraw"}),legendgroup:O({},k.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:O({},k.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:v({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:O({},k.legendrank,{editType:"calc+arraydraw"}),legendwidth:O({},k.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:O({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:O({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:O({},y.color,{editType:"arraydraw"}),width:O({},y.width,{editType:"calc+arraydraw"}),dash:O({},b,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:w({},{keys:Object.keys(T)}),font:v({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(f,h,c){var g=c(1828),v=c(9298),y=c(1459),b=c(477);f.exports=function(R){var M=R._fullLayout,I=g.filterVisible(M.shapes);if(!(!I.length||!R._fullData.length))for(var V=0;V<I.length;V++){var N=I[V];N._extremes={};var Q,z,U=v.getRefType(N.xref),F=v.getRefType(N.yref);if(N.xref!=="paper"&&U!=="domain"){var B=N.xsizemode==="pixel"?N.xanchor:N.x0,E=N.xsizemode==="pixel"?N.xanchor:N.x1;Q=v.getFromId(R,N.xref),z=w(Q,B,E,N.path,y.paramIsX),z&&(N._extremes[Q._id]=v.findExtremes(Q,z,O(N)))}if(N.yref!=="paper"&&F!=="domain"){var W=N.ysizemode==="pixel"?N.yanchor:N.y0,X=N.ysizemode==="pixel"?N.yanchor:N.y1;Q=v.getFromId(R,N.yref),z=w(Q,W,X,N.path,y.paramIsY),z&&(N._extremes[Q._id]=v.findExtremes(Q,z,C(N)))}}};function O(T){return k(T.line.width,T.xsizemode,T.x0,T.x1,T.path,!1)}function C(T){return k(T.line.width,T.ysizemode,T.y0,T.y1,T.path,!0)}function k(T,R,M,I,V,N){var Q=T/2,z=N;if(R==="pixel"){var U=V?b.extractPathCoords(V,N?y.paramIsY:y.paramIsX):[M,I],F=g.aggNums(Math.max,null,U),B=g.aggNums(Math.min,null,U),E=B<0?Math.abs(B)+Q:Q,W=F>0?F+Q:Q;return{ppad:Q,ppadplus:z?E:W,ppadminus:z?W:E}}else return{ppad:Q}}function w(T,R,M,I,V){var N=T.type==="category"||T.type==="multicategory"?T.r2c:T.d2c;if(R!==void 0)return[N(R),N(M)];if(I){var Q=1/0,z=-1/0,U=I.match(y.segmentRE),F,B,E,W,X;for(T.type==="date"&&(N=b.decodeDate(N)),F=0;F<U.length;F++)B=U[F],E=V[B.charAt(0)].drawn,E!==void 0&&(W=U[F].substr(1).match(y.paramRE),!(!W||W.length<E)&&(X=N(W[E]),X<Q&&(Q=X),X>z&&(z=X)));if(z>=Q)return[Q,z]}}},1459:function(f){f.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(f,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(9827),O=c(477);f.exports=function(T,R){y(T,R,{name:"shapes",handleItemDefaults:k})};function C(w,T){return w?"bottom":T.indexOf("top")!==-1?"top":T.indexOf("bottom")!==-1?"bottom":"middle"}function k(w,T,R){function M(_e,Ie){return g.coerce(w,T,b,_e,Ie)}T._isShape=!0;var I=M("visible");if(I){var V=M("showlegend");V&&(M("legend"),M("legendwidth"),M("legendgroup"),M("legendgrouptitle.text"),g.coerceFont(M,"legendgrouptitle.font"),M("legendrank"));var N=M("path"),Q=N?"path":"rect",z=M("type",Q),U=z!=="path";U&&delete T.path,M("editable"),M("layer"),M("opacity"),M("fillcolor"),M("fillrule");var F=M("line.width");F&&(M("line.color"),M("line.dash"));for(var B=M("xsizemode"),E=M("ysizemode"),W=["x","y"],X=0;X<2;X++){var ie=W[X],L=ie+"anchor",me=ie==="x"?B:E,ae={_fullLayout:R},q,de,ee,xe=v.coerceRef(w,T,ae,ie,void 0,"paper"),we=v.getRefType(xe);if(we==="range"?(q=v.getFromId(ae,xe),q._shapeIndices.push(T._index),ee=O.rangeToShapePosition(q),de=O.shapePositionToRange(q)):de=ee=g.identity,U){var Be=.25,pe=.75,ne=ie+"0",le=ie+"1",Y=w[ne],ve=w[le];w[ne]=de(w[ne],!0),w[le]=de(w[le],!0),me==="pixel"?(M(ne,0),M(le,10)):(v.coercePosition(T,ae,M,xe,ne,Be),v.coercePosition(T,ae,M,xe,le,pe)),T[ne]=ee(T[ne]),T[le]=ee(T[le]),w[ne]=Y,w[le]=ve}if(me==="pixel"){var Oe=w[L];w[L]=de(w[L],!0),v.coercePosition(T,ae,M,xe,L,.25),T[L]=ee(T[L]),w[L]=Oe}}U&&g.noneOrAll(w,T,["x0","x1","y0","y1"]);var Le=z==="line",Ce,De;if(U&&(Ce=M("label.texttemplate")),Ce||(De=M("label.text")),De||Ce){M("label.textangle");var Ve=M("label.textposition",Le?"middle":"middle center");M("label.xanchor"),M("label.yanchor",C(Le,Ve)),M("label.padding"),g.coerceFont(M,"label.font",R.font)}}}},8100:function(f,h,c){var g=c(1828),v=c(9298),y=c(3893),b=c(1424),O=c(165).readPaths,C=c(477),k=C.getPathString,w=c(7281),T=c(8783).FROM_TL;f.exports=function(V,N,Q,z){if(z.selectAll(".shape-label").remove(),!!(Q.label.text||Q.label.texttemplate)){var U;if(Q.label.texttemplate){var F={};if(Q.type!=="path"){var B=v.getFromId(V,Q.xref),E=v.getFromId(V,Q.yref);for(var W in w){var X=w[W](Q,B,E);X!==void 0&&(F[W]=X)}}U=g.texttemplateStringForShapes(Q.label.texttemplate,{},V._fullLayout._d3locale,F)}else U=Q.label.text;var ie={"data-index":N},L=Q.label.font,me={"data-notex":1},ae=z.append("g").attr(ie).classed("shape-label",!0),q=ae.append("text").attr(me).classed("shape-label-text",!0).text(U),de,ee,xe,we;if(Q.path){var Be=k(V,Q),pe=O(Be,V);de=1/0,xe=1/0,ee=-1/0,we=-1/0;for(var ne=0;ne<pe.length;ne++)for(var le=0;le<pe[ne].length;le++)for(var Y=pe[ne][le],ve=1;ve<Y.length;ve+=2){var Oe=Y[ve],Le=Y[ve+1];de=Math.min(de,Oe),ee=Math.max(ee,Oe),xe=Math.min(xe,Le),we=Math.max(we,Le)}}else{var Ce=v.getFromId(V,Q.xref),De=v.getRefType(Q.xref),Ve=v.getFromId(V,Q.yref),_e=v.getRefType(Q.yref),Ie=C.getDataToPixel(V,Ce,!1,De),re=C.getDataToPixel(V,Ve,!0,_e);de=Ie(Q.x0),ee=Ie(Q.x1),xe=re(Q.y0),we=re(Q.y1)}var be=Q.label.textangle;be==="auto"&&(Q.type==="line"?be=R(de,xe,ee,we):be=0),q.call(function(ce){return ce.call(b.font,L).attr({}),y.convertToTspans(ce,V),ce});var te=b.bBox(q.node()),se=M(de,xe,ee,we,Q,be,te),fe=se.textx,oe=se.texty,Se=se.xanchor;q.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Se],y:oe,x:fe,transform:"rotate("+be+","+fe+","+oe+")"}).call(y.positionText,fe,oe)}};function R(I,V,N,Q){var z,U;return U=Math.abs(N-I),N>=I?z=V-Q:z=Q-V,-180/Math.PI*Math.atan2(z,U)}function M(I,V,N,Q,z,U,F){var B=z.label.textposition,E=z.label.textangle,W=z.label.padding,X=z.type,ie=Math.PI/180*U,L=Math.sin(ie),me=Math.cos(ie),ae=z.label.xanchor,q=z.label.yanchor,de,ee,xe,we;if(X==="line"){B==="start"?(de=I,ee=V):B==="end"?(de=N,ee=Q):(de=(I+N)/2,ee=(V+Q)/2),ae==="auto"&&(B==="start"?E==="auto"?N>I?ae="left":N<I?ae="right":ae="center":N>I?ae="right":N<I?ae="left":ae="center":B==="end"?E==="auto"?N>I?ae="right":N<I?ae="left":ae="center":N>I?ae="left":N<I?ae="right":ae="center":ae="center");var Be={left:1,center:0,right:-1},pe={bottom:-1,middle:0,top:1};if(E==="auto"){var ne=pe[q];xe=-W*L*ne,we=W*me*ne}else{var le=Be[ae],Y=pe[q];xe=W*le,we=W*Y}de=de+xe,ee=ee+we}else xe=W+3,B.indexOf("right")!==-1?(de=Math.max(I,N)-xe,ae==="auto"&&(ae="right")):B.indexOf("left")!==-1?(de=Math.min(I,N)+xe,ae==="auto"&&(ae="left")):(de=(I+N)/2,ae==="auto"&&(ae="center")),B.indexOf("top")!==-1?ee=Math.min(V,Q):B.indexOf("bottom")!==-1?ee=Math.max(V,Q):ee=(V+Q)/2,we=W,q==="bottom"?ee=ee-we:q==="top"&&(ee=ee+we);var ve=T[q],Oe=z.label.font.size,Le=F.height,Ce=(Le*ve-Oe)*L,De=-(Le*ve-Oe)*me;return{textx:de+Ce,texty:ee+De,xanchor:ae}}},2359:function(f,h,c){var g=c(1828),v=g.strTranslate,y=c(8569),b=c(4505),O=b.drawMode,C=b.selectMode,k=c(3972),w=c(7901),T=c(9995),R=T.i000,M=T.i090,I=T.i180,V=T.i270,N=c(1873),Q=N.clearOutlineControllers,z=c(165),U=z.pointsOnRectangle,F=z.pointsOnEllipse,B=z.writePaths,E=c(551).newShapes,W=c(551).createShapeObj,X=c(5855),ie=c(8100);f.exports=function q(de,ee,xe,we){we||(we=0);var Be=xe.gd;function pe(){q(de,ee,xe,we++),(F(de[0])||xe.hasText)&&ne({redrawing:!0})}function ne(je){var et={};xe.isActiveShape!==void 0&&(xe.isActiveShape=!1,et=E(ee,xe)),xe.isActiveSelection!==void 0&&(xe.isActiveSelection=!1,et=X(ee,xe),Be._fullLayout._reselect=!0),Object.keys(et).length&&k.call((je||{}).redrawing?"relayout":"_guiRelayout",Be,et)}var le=Be._fullLayout,Y=le._zoomlayer,ve=xe.dragmode,Oe=O(ve),Le=C(ve);(Oe||Le)&&(Be._fullLayout._outlining=!0),Q(Be),ee.attr("d",B(de));var Ce,De,Ve,_e,Ie;if(!we&&(xe.isActiveShape||xe.isActiveSelection)){Ie=L([],de);var re=Y.append("g").attr("class","outline-controllers");ke(re),Ye()}if(Oe&&xe.hasText){var be=Y.select(".label-temp"),te=W(ee,xe,xe.dragmode);ie(Be,"label-temp",te,be)}function se(je){Ve=+je.srcElement.getAttribute("data-i"),_e=+je.srcElement.getAttribute("data-j"),Ce[Ve][_e].moveFn=fe}function fe(je,et){if(de.length){var yt=Ie[Ve][_e][1],ft=Ie[Ve][_e][2],tt=de[Ve],wt=tt.length;if(U(tt)){var Xt=je,Gt=et;if(xe.isActiveSelection){var Nt=me(tt,_e);Nt[1]===tt[_e][1]?Gt=0:Xt=0}for(var Bt=0;Bt<wt;Bt++)if(Bt!==_e){var vn=tt[Bt];vn[1]===tt[_e][1]&&(vn[1]=yt+Xt),vn[2]===tt[_e][2]&&(vn[2]=ft+Gt)}if(tt[_e][1]=yt+Xt,tt[_e][2]=ft+Gt,!U(tt))for(var En=0;En<wt;En++)for(var ln=0;ln<tt[En].length;ln++)tt[En][ln]=Ie[Ve][En][ln]}else tt[_e][1]=yt+je,tt[_e][2]=ft+et;pe()}}function oe(){ne()}function Se(){if(de.length&&de[Ve]&&de[Ve].length){for(var je=[],et=0;et<de[Ve].length;et++)et!==_e&&je.push(de[Ve][et]);je.length>1&&!(je.length===2&&je[1][0]==="Z")&&(_e===0&&(je[0][0]="M"),de[Ve]=je,pe(),ne())}}function ce(je,et){if(je===2){Ve=+et.srcElement.getAttribute("data-i"),_e=+et.srcElement.getAttribute("data-j");var yt=de[Ve];!U(yt)&&!F(yt)&&Se()}}function ke(je){Ce=[];for(var et=0;et<de.length;et++){var yt=de[et],ft=U(yt),tt=!ft&&F(yt);Ce[et]=[];for(var wt=yt.length,Xt=0;Xt<wt;Xt++)if(yt[Xt][0]!=="Z"&&!(tt&&Xt!==R&&Xt!==M&&Xt!==I&&Xt!==V)){var Gt=ft&&xe.isActiveSelection,Nt;Gt&&(Nt=me(yt,Xt));var Bt=yt[Xt][1],vn=yt[Xt][2],En=je.append(Gt?"rect":"circle").attr("data-i",et).attr("data-j",Xt).style({fill:w.background,stroke:w.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Gt){var ln=Nt[1]-Bt,Yn=Nt[2]-vn,an=Yn?5:Math.max(Math.min(25,Math.abs(ln)-5),5),wn=ln?5:Math.max(Math.min(25,Math.abs(Yn)-5),5);En.classed(Yn?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",an).attr("height",wn).attr("x",Bt-an/2).attr("y",vn-wn/2).attr("transform",v(ln/2,Yn/2))}else En.classed("cursor-grab",!0).attr("r",5).attr("cx",Bt).attr("cy",vn);Ce[et][Xt]={element:En.node(),gd:Be,prepFn:se,doneFn:oe,clickFn:ce},y.init(Ce[et][Xt])}}}function Qe(je,et){if(de.length)for(var yt=0;yt<de.length;yt++)for(var ft=0;ft<de[yt].length;ft++)for(var tt=0;tt+2<de[yt][ft].length;tt+=2)de[yt][ft][tt+1]=Ie[yt][ft][tt+1]+je,de[yt][ft][tt+2]=Ie[yt][ft][tt+2]+et}function Ze(je,et){Qe(je,et),pe()}function Xe(je){Ve=+je.srcElement.getAttribute("data-i"),Ve||(Ve=0),De[Ve].moveFn=Ze}function ct(){ne()}function pt(je){je===2&&ae(Be)}function Ye(){if(De=[],!!de.length){var je=0;De[je]={element:ee[0][0],gd:Be,prepFn:Xe,doneFn:ct,clickFn:pt},y.init(De[je])}}};function L(q,de){for(var ee=0;ee<de.length;ee++){var xe=de[ee];q[ee]=[];for(var we=0;we<xe.length;we++){q[ee][we]=[];for(var Be=0;Be<xe[we].length;Be++)q[ee][we][Be]=xe[we][Be]}}return q}function me(q,de){var ee=q[de][1],xe=q[de][2],we=q.length,Be,pe,ne;return Be=(de+1)%we,pe=q[Be][1],ne=q[Be][2],pe===ee&&ne===xe&&(Be=(de+2)%we,pe=q[Be][1],ne=q[Be][2]),[Be,pe,ne]}function ae(q){if(C(q._fullLayout.dragmode)){Q(q);var de=q._fullLayout._activeSelectionIndex,ee=(q.layout||{}).selections||[];if(de<ee.length){for(var xe=[],we=0;we<ee.length;we++)we!==de&&xe.push(ee[we]);delete q._fullLayout._activeSelectionIndex;var Be=q._fullLayout.selections[de];q._fullLayout._deselect={xref:Be.xref,yref:Be.yref},k.call("_guiRelayout",q,{selections:xe})}}}},4031:function(f,h,c){var g=c(9898),v=c(3972),y=c(1828),b=c(9298),O=c(165).readPaths,C=c(2359),k=c(8100),w=c(1873).clearOutlineControllers,T=c(7901),R=c(1424),M=c(4467).arrayEditor,I=c(8569),V=c(6964),N=c(1459),Q=c(477),z=Q.getPathString;f.exports={draw:U,drawOne:E,eraseActiveShape:ae,drawLabel:k};function U(q){var de=q._fullLayout;de._shapeUpperLayer.selectAll("path").remove(),de._shapeLowerLayer.selectAll("path").remove(),de._shapeUpperLayer.selectAll("text").remove(),de._shapeLowerLayer.selectAll("text").remove();for(var ee in de._plots){var xe=de._plots[ee].shapelayer;xe&&(xe.selectAll("path").remove(),xe.selectAll("text").remove())}for(var we=0;we<de.shapes.length;we++)de.shapes[we].visible===!0&&E(q,we)}function F(q){return!!q._fullLayout._outlining}function B(q){return!q._context.edits.shapePosition}function E(q,de){q._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+de+'"]').remove();var ee=Q.makeShapesOptionsAndPlotinfo(q,de),xe=ee.options,we=ee.plotinfo;if(!xe._input||xe.visible!==!0)return;if(xe.layer!=="below")pe(q._fullLayout._shapeUpperLayer);else if(xe.xref==="paper"||xe.yref==="paper")pe(q._fullLayout._shapeLowerLayer);else if(we._hadPlotinfo){var Be=we.mainplotinfo||we;pe(Be.shapelayer)}else pe(q._fullLayout._shapeLowerLayer);function pe(ne){var le=z(q,xe),Y={"data-index":de,"fill-rule":xe.fillrule,d:le},ve=xe.opacity,Oe=xe.fillcolor,Le=xe.line.width?xe.line.color:"rgba(0,0,0,0)",Ce=xe.line.width,De=xe.line.dash;!Ce&&xe.editable===!0&&(Ce=5,De="solid");var Ve=le[le.length-1]!=="Z",_e=B(q)&&xe.editable&&q._fullLayout._activeShapeIndex===de;_e&&(Oe=Ve?"rgba(0,0,0,0)":q._fullLayout.activeshape.fillcolor,ve=q._fullLayout.activeshape.opacity);var Ie=ne.append("g").classed("shape-group",!0).attr({"data-index":de}),re=Ie.append("path").attr(Y).style("opacity",ve).call(T.stroke,Le).call(T.fill,Oe).call(R.dashLine,De,Ce);W(Ie,q,xe),k(q,de,xe,Ie);var be;if((_e||q._context.edits.shapePosition)&&(be=M(q.layout,"shapes",xe)),_e){re.style({cursor:"move"});var te={element:re.node(),plotinfo:we,gd:q,editHelpers:be,hasText:xe.label.text||xe.label.texttemplate,isActiveShape:!0},se=O(le,q);C(se,re,te)}else q._context.edits.shapePosition?X(q,re,xe,de,ne,be):xe.editable===!0&&re.style("pointer-events",Ve||T.opacity(Oe)*ve<=.5?"stroke":"all");re.node().addEventListener("click",function(){return L(q,re)})}}function W(q,de,ee){var xe=(ee.xref+ee.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");R.setClipUrl(q,xe?"clip"+de._fullLayout._uid+xe:null,de)}function X(q,de,ee,xe,we,Be){var pe=10,ne=10,le=ee.xsizemode==="pixel",Y=ee.ysizemode==="pixel",ve=ee.type==="line",Oe=ee.type==="path",Le=Be.modifyItem,Ce,De,Ve,_e,Ie,re,be,te,se,fe,oe,Se,ce,ke,Qe,Ze=g.select(de.node().parentNode),Xe=b.getFromId(q,ee.xref),ct=b.getRefType(ee.xref),pt=b.getFromId(q,ee.yref),Ye=b.getRefType(ee.yref),je=Q.getDataToPixel(q,Xe,!1,ct),et=Q.getDataToPixel(q,pt,!0,Ye),yt=Q.getPixelToData(q,Xe,!1,ct),ft=Q.getPixelToData(q,pt,!0,Ye),tt=Gt(),wt={element:tt.node(),gd:q,prepFn:vn,doneFn:En,clickFn:ln},Xt;I.init(wt),tt.node().onmousemove=Bt;function Gt(){return ve?Nt():de}function Nt(){var Sn=10,lt=Math.max(ee.line.width,Sn),ut=we.append("g").attr("data-index",xe).attr("drag-helper",!0);ut.append("path").attr("d",de.attr("d")).style({cursor:"move","stroke-width":lt,"stroke-opacity":"0"});var xt={"fill-opacity":"0"},gt=Math.max(lt/2,Sn);return ut.append("circle").attr({"data-line-point":"start-point",cx:le?je(ee.xanchor)+ee.x0:je(ee.x0),cy:Y?et(ee.yanchor)-ee.y0:et(ee.y0),r:gt}).style(xt).classed("cursor-grab",!0),ut.append("circle").attr({"data-line-point":"end-point",cx:le?je(ee.xanchor)+ee.x1:je(ee.x1),cy:Y?et(ee.yanchor)-ee.y1:et(ee.y1),r:gt}).style(xt).classed("cursor-grab",!0),ut}function Bt(Sn){if(F(q)){Xt=null;return}if(ve)Sn.target.tagName==="path"?Xt="move":Xt=Sn.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var lt=wt.element.getBoundingClientRect(),ut=lt.right-lt.left,xt=lt.bottom-lt.top,gt=Sn.clientX-lt.left,Dt=Sn.clientY-lt.top,He=!Oe&&ut>pe&&xt>ne&&!Sn.shiftKey?I.getCursor(gt/ut,1-Dt/xt):"move";V(de,He),Xt=He.split("-")[0]}}function vn(Sn){F(q)||(le&&(Ie=je(ee.xanchor)),Y&&(re=et(ee.yanchor)),ee.type==="path"?Qe=ee.path:(Ce=le?ee.x0:je(ee.x0),De=Y?ee.y0:et(ee.y0),Ve=le?ee.x1:je(ee.x1),_e=Y?ee.y1:et(ee.y1)),Ce<Ve?(se=Ce,ce="x0",fe=Ve,ke="x1"):(se=Ve,ce="x1",fe=Ce,ke="x0"),!Y&&De<_e||Y&&De>_e?(be=De,oe="y0",te=_e,Se="y1"):(be=_e,oe="y1",te=De,Se="y0"),Bt(Sn),wn(we,ee),Un(de,ee,q),wt.moveFn=Xt==="move"?Yn:an,wt.altKey=Sn.altKey)}function En(){F(q)||(V(de),Xn(we),W(de,q,ee),v.call("_guiRelayout",q,Be.getUpdateObj()))}function ln(){F(q)||Xn(we)}function Yn(Sn,lt){if(ee.type==="path"){var ut=function(Dt){return Dt},xt=ut,gt=ut;le?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(xt=function(He){return yt(je(He)+Sn)},Xe&&Xe.type==="date"&&(xt=Q.encodeDate(xt))),Y?Le("yanchor",ee.yanchor=ft(re+lt)):(gt=function(He){return ft(et(He)+lt)},pt&&pt.type==="date"&&(gt=Q.encodeDate(gt))),Le("path",ee.path=ie(Qe,xt,gt))}else le?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(Le("x0",ee.x0=yt(Ce+Sn)),Le("x1",ee.x1=yt(Ve+Sn))),Y?Le("yanchor",ee.yanchor=ft(re+lt)):(Le("y0",ee.y0=ft(De+lt)),Le("y1",ee.y1=ft(_e+lt)));de.attr("d",z(q,ee)),wn(we,ee),k(q,xe,ee,Ze)}function an(Sn,lt){if(Oe){var ut=function(nr){return nr},xt=ut,gt=ut;le?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(xt=function(Er){return yt(je(Er)+Sn)},Xe&&Xe.type==="date"&&(xt=Q.encodeDate(xt))),Y?Le("yanchor",ee.yanchor=ft(re+lt)):(gt=function(Er){return ft(et(Er)+lt)},pt&&pt.type==="date"&&(gt=Q.encodeDate(gt))),Le("path",ee.path=ie(Qe,xt,gt))}else if(ve){if(Xt==="resize-over-start-point"){var Dt=Ce+Sn,He=Y?De-lt:De+lt;Le("x0",ee.x0=le?Dt:yt(Dt)),Le("y0",ee.y0=Y?He:ft(He))}else if(Xt==="resize-over-end-point"){var at=Ve+Sn,dt=Y?_e-lt:_e+lt;Le("x1",ee.x1=le?at:yt(at)),Le("y1",ee.y1=Y?dt:ft(dt))}}else{var mt=function(nr){return Xt.indexOf(nr)!==-1},Tt=mt("n"),Pt=mt("s"),dn=mt("w"),rn=mt("e"),Wt=Tt?be+lt:be,Rt=Pt?te+lt:te,fn=dn?se+Sn:se,Hn=rn?fe+Sn:fe;Y&&(Tt&&(Wt=be-lt),Pt&&(Rt=te-lt)),(!Y&&Rt-Wt>ne||Y&&Wt-Rt>ne)&&(Le(oe,ee[oe]=Y?Wt:ft(Wt)),Le(Se,ee[Se]=Y?Rt:ft(Rt))),Hn-fn>pe&&(Le(ce,ee[ce]=le?fn:yt(fn)),Le(ke,ee[ke]=le?Hn:yt(Hn)))}de.attr("d",z(q,ee)),wn(we,ee),k(q,xe,ee,Ze)}function wn(Sn,lt){(le||Y)&&ut();function ut(){var xt=lt.type!=="path",gt=Sn.selectAll(".visual-cue").data([0]),Dt=1;gt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Dt}).classed("visual-cue",!0);var He=je(le?lt.xanchor:y.midRange(xt?[lt.x0,lt.x1]:Q.extractPathCoords(lt.path,N.paramIsX))),at=et(Y?lt.yanchor:y.midRange(xt?[lt.y0,lt.y1]:Q.extractPathCoords(lt.path,N.paramIsY)));if(He=Q.roundPositionForSharpStrokeRendering(He,Dt),at=Q.roundPositionForSharpStrokeRendering(at,Dt),le&&Y){var dt="M"+(He-1-Dt)+","+(at-1-Dt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";gt.attr("d",dt)}else if(le){var mt="M"+(He-1-Dt)+","+(at-9-Dt)+"v18 h2 v-18 Z";gt.attr("d",mt)}else{var Tt="M"+(He-9-Dt)+","+(at-1-Dt)+"h18 v2 h-18 Z";gt.attr("d",Tt)}}}function Xn(Sn){Sn.selectAll(".visual-cue").remove()}function Un(Sn,lt,ut){var xt=lt.xref,gt=lt.yref,Dt=b.getFromId(ut,xt),He=b.getFromId(ut,gt),at="";xt!=="paper"&&!Dt.autorange&&(at+=xt),gt!=="paper"&&!He.autorange&&(at+=gt),R.setClipUrl(Sn,at?"clip"+ut._fullLayout._uid+at:null,ut)}}function ie(q,de,ee){return q.replace(N.segmentRE,function(xe){var we=0,Be=xe.charAt(0),pe=N.paramIsX[Be],ne=N.paramIsY[Be],le=N.numParams[Be],Y=xe.substr(1).replace(N.paramRE,function(ve){return we>=le||(pe[we]?ve=de(ve):ne[we]&&(ve=ee(ve)),we++),ve});return Be+Y})}function L(q,de){if(B(q)){var ee=de.node(),xe=+ee.getAttribute("data-index");if(xe>=0){if(xe===q._fullLayout._activeShapeIndex){me(q);return}q._fullLayout._activeShapeIndex=xe,q._fullLayout._deactivateShape=me,U(q)}}}function me(q){if(B(q)){var de=q._fullLayout._activeShapeIndex;de>=0&&(w(q),delete q._fullLayout._activeShapeIndex,U(q))}}function ae(q){if(B(q)){w(q);var de=q._fullLayout._activeShapeIndex,ee=(q.layout||{}).shapes||[];if(de<ee.length){for(var xe=[],we=0;we<ee.length;we++)we!==de&&xe.push(ee[we]);return delete q._fullLayout._activeShapeIndex,v.call("_guiRelayout",q,{shapes:xe})}}}},9241:function(f,h,c){var g=c(962).overrideAll,v=c(9012),y=c(1940),b=c(9952).P,O=c(1426).extendFlat,C=c(5386).R,k=c(7281);f.exports=g({newshape:{visible:O({},v.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:O({},v.legend,{}),legendgroup:O({},v.legendgroup,{}),legendgrouptitle:{text:O({},v.legendgrouptitle.text,{}),font:y({})},legendrank:O({},v.legendrank,{}),legendwidth:O({},v.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:O({},b,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:O({},v.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:C({newshape:!0},{keys:Object.keys(k)}),font:y({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(f){var h=32;f.exports={CIRCLE_SIDES:h,i000:0,i090:h/4,i180:h/2,i270:h/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(f,h,c){var g=c(7901),v=c(1828);function y(b,O){return b?"bottom":O.indexOf("top")!==-1?"top":O.indexOf("bottom")!==-1?"bottom":"middle"}f.exports=function(O,C,k){k("newshape.visible"),k("newshape.name"),k("newshape.showlegend"),k("newshape.legend"),k("newshape.legendwidth"),k("newshape.legendgroup"),k("newshape.legendgrouptitle.text"),v.coerceFont(k,"newshape.legendgrouptitle.font"),k("newshape.legendrank"),k("newshape.drawdirection"),k("newshape.layer"),k("newshape.fillcolor"),k("newshape.fillrule"),k("newshape.opacity");var w=k("newshape.line.width");if(w){var T=(O||{}).plot_bgcolor||"#FFF";k("newshape.line.color",g.contrast(T)),k("newshape.line.dash")}var R=O.dragmode==="drawline",M=k("newshape.label.text"),I=k("newshape.label.texttemplate");if(M||I){k("newshape.label.textangle");var V=k("newshape.label.textposition",R?"middle":"middle center");k("newshape.label.xanchor"),k("newshape.label.yanchor",y(R,V)),k("newshape.label.padding"),v.coerceFont(k,"newshape.label.font",C.font)}k("activeshape.fillcolor"),k("activeshape.opacity")}},165:function(f,h,c){var g=c(5616),v=c(9995),y=v.CIRCLE_SIDES,b=v.SQRT2,O=c(5549),C=O.p2r,k=O.r2p,w=[0,3,4,5,6,1,2],T=[0,3,4,1,2];h.writePaths=function(I){var V=I.length;if(!V)return"M0,0Z";for(var N="",Q=0;Q<V;Q++)for(var z=I[Q].length,U=0;U<z;U++){var F=I[Q][U][0];if(F==="Z")N+="Z";else for(var B=I[Q][U].length,E=0;E<B;E++){var W=E;F==="Q"||F==="S"?W=T[E]:F==="C"&&(W=w[E]),N+=I[Q][U][W],E>0&&E<B-1&&(N+=",")}}return N},h.readPaths=function(I,V,N,Q){var z=g(I),U=[],F=-1,B=function(){F++,U[F]=[]},E,W=0,X=0,ie,L,me=function(){ie=W,L=X};me();for(var ae=0;ae<z.length;ae++){var q=[],de,ee,xe,we,Be=z[ae][0],pe=Be;switch(Be){case"M":B(),W=+z[ae][1],X=+z[ae][2],q.push([pe,W,X]),me();break;case"Q":case"S":de=+z[ae][1],xe=+z[ae][2],W=+z[ae][3],X=+z[ae][4],q.push([pe,W,X,de,xe]);break;case"C":de=+z[ae][1],xe=+z[ae][2],ee=+z[ae][3],we=+z[ae][4],W=+z[ae][5],X=+z[ae][6],q.push([pe,W,X,de,xe,ee,we]);break;case"T":case"L":W=+z[ae][1],X=+z[ae][2],q.push([pe,W,X]);break;case"H":pe="L",W=+z[ae][1],q.push([pe,W,X]);break;case"V":pe="L",X=+z[ae][1],q.push([pe,W,X]);break;case"A":pe="L";var ne=+z[ae][1],le=+z[ae][2];+z[ae][4]||(ne=-ne,le=-le);var Y=W-ne,ve=X;for(E=1;E<=y/2;E++){var Oe=2*Math.PI*E/y;q.push([pe,Y+ne*Math.cos(Oe),ve+le*Math.sin(Oe)])}break;case"Z":(W!==ie||X!==L)&&(W=ie,X=L,q.push([pe,W,X]));break}for(var Le=(N||{}).domain,Ce=V._fullLayout._size,De=N&&N.xsizemode==="pixel",Ve=N&&N.ysizemode==="pixel",_e=Q===!1,Ie=0;Ie<q.length;Ie++){for(E=0;E+2<7;E+=2){var re=q[Ie][E+1],be=q[Ie][E+2];re===void 0||be===void 0||(W=re,X=be,N&&(N.xaxis&&N.xaxis.p2r?(_e&&(re-=N.xaxis._offset),De?re=k(N.xaxis,N.xanchor)+re:re=C(N.xaxis,re)):(_e&&(re-=Ce.l),Le?re=Le.x[0]+re/Ce.w:re=re/Ce.w),N.yaxis&&N.yaxis.p2r?(_e&&(be-=N.yaxis._offset),Ve?be=k(N.yaxis,N.yanchor)-be:be=C(N.yaxis,be)):(_e&&(be-=Ce.t),Le?be=Le.y[1]-be/Ce.h:be=1-be/Ce.h)),q[Ie][E+1]=re,q[Ie][E+2]=be)}U[F].push(q[Ie].slice())}}return U};function R(I,V){return Math.abs(I-V)<=1e-6}function M(I,V){var N=V[1]-I[1],Q=V[2]-I[2];return Math.sqrt(N*N+Q*Q)}h.pointsOnRectangle=function(I){var V=I.length;if(V!==5)return!1;for(var N=1;N<3;N++){var Q=I[0][N]-I[1][N],z=I[3][N]-I[2][N];if(!R(Q,z))return!1;var U=I[0][N]-I[3][N],F=I[1][N]-I[2][N];if(!R(U,F))return!1}return!R(I[0][1],I[1][1])&&!R(I[0][1],I[3][1])?!1:!!(M(I[0],I[1])*M(I[0],I[3]))},h.pointsOnEllipse=function(I){var V=I.length;if(V!==y+1)return!1;V=y;for(var N=0;N<V;N++){var Q=(V*2-N)%V,z=(V/2+Q)%V,U=(V/2+N)%V;if(!R(M(I[N],I[U]),M(I[Q],I[z])))return!1}return!0},h.handleEllipse=function(I,V,N){if(!I)return[V,N];var Q=h.ellipseOver({x0:V[0],y0:V[1],x1:N[0],y1:N[1]}),z=(Q.x1+Q.x0)/2,U=(Q.y1+Q.y0)/2,F=(Q.x1-Q.x0)/2,B=(Q.y1-Q.y0)/2;F||(F=B=B/b),B||(B=F=F/b);for(var E=[],W=0;W<y;W++){var X=W*2*Math.PI/y;E.push([z+F*Math.cos(X),U+B*Math.sin(X)])}return E},h.ellipseOver=function(I){var V=I.x0,N=I.y0,Q=I.x1,z=I.y1,U=Q-V,F=z-N;V-=U,N-=F;var B=(V+Q)/2,E=(N+z)/2,W=b;return U*=W,F*=W,{x0:B-U,y0:E-F,x1:B+U,y1:E+F}},h.fixDatesForPaths=function(I,V,N){var Q=V.type==="date",z=N.type==="date";if(!Q&&!z)return I;for(var U=0;U<I.length;U++)for(var F=0;F<I[U].length;F++)for(var B=0;B+2<I[U][F].length;B+=2)Q&&(I[U][F][B+1]=I[U][F][B+1].replace(" ","_")),z&&(I[U][F][B+2]=I[U][F][B+2].replace(" ","_"));return I}},551:function(f,h,c){var g=c(4505),v=g.drawMode,y=g.openMode,b=c(9995),O=b.i000,C=b.i090,k=b.i180,w=b.i270,T=b.cos45,R=b.sin45,M=c(5549),I=M.p2r,V=M.r2p,N=c(1873),Q=N.clearOutline,z=c(165),U=z.readPaths,F=z.writePaths,B=z.ellipseOver,E=z.fixDatesForPaths;function W(ie,L){if(ie.length){var me=ie[0][0];if(me){var ae=L.gd,q=L.isActiveShape,de=L.dragmode,ee=(ae.layout||{}).shapes||[];if(!v(de)&&q!==void 0){var xe=ae._fullLayout._activeShapeIndex;if(xe<ee.length)switch(ae._fullLayout.shapes[xe].type){case"rect":de="drawrect";break;case"circle":de="drawcircle";break;case"line":de="drawline";break;case"path":var we=ee[xe].path||"";we[we.length-1]==="Z"?de="drawclosedpath":de="drawopenpath";break}}var Be=X(ie,L,de);Q(ae);for(var pe=L.editHelpers,ne=(pe||{}).modifyItem,le=[],Y=0;Y<ee.length;Y++){var ve=ae._fullLayout.shapes[Y];if(le[Y]=ve._input,q!==void 0&&Y===ae._fullLayout._activeShapeIndex){var Oe=Be;switch(ve.type){case"line":case"rect":case"circle":ne("x0",Oe.x0),ne("x1",Oe.x1),ne("y0",Oe.y0),ne("y1",Oe.y1);break;case"path":ne("path",Oe.path);break}}}return q===void 0?(le.push(Be),le):pe?pe.getUpdateObj():{}}}}function X(ie,L,me){var ae=ie[0][0],q=L.gd,de=ae.getAttribute("d"),ee=q._fullLayout.newshape,xe=L.plotinfo,we=L.isActiveShape,Be=xe.xaxis,pe=xe.yaxis,ne=!!xe.domain||!xe.xaxis,le=!!xe.domain||!xe.yaxis,Y=y(me),ve=U(de,q,xe,we),Oe={editable:!0,visible:ee.visible,name:ee.name,showlegend:ee.showlegend,legend:ee.legend,legendwidth:ee.legendwidth,legendgroup:ee.legendgroup,legendgrouptitle:{text:ee.legendgrouptitle.text,font:ee.legendgrouptitle.font},legendrank:ee.legendrank,label:ee.label,xref:ne?"paper":Be._id,yref:le?"paper":pe._id,layer:ee.layer,opacity:ee.opacity,line:{color:ee.line.color,width:ee.line.width,dash:ee.line.dash}};Y||(Oe.fillcolor=ee.fillcolor,Oe.fillrule=ee.fillrule);var Le;if(ve.length===1&&(Le=ve[0]),Le&&Le.length===5&&me==="drawrect")Oe.type="rect",Oe.x0=Le[0][1],Oe.y0=Le[0][2],Oe.x1=Le[2][1],Oe.y1=Le[2][2];else if(Le&&me==="drawline")Oe.type="line",Oe.x0=Le[0][1],Oe.y0=Le[0][2],Oe.x1=Le[1][1],Oe.y1=Le[1][2];else if(Le&&me==="drawcircle"){Oe.type="circle";var Ce=Le[O][1],De=Le[C][1],Ve=Le[k][1],_e=Le[w][1],Ie=Le[O][2],re=Le[C][2],be=Le[k][2],te=Le[w][2],se=xe.xaxis&&(xe.xaxis.type==="date"||xe.xaxis.type==="log"),fe=xe.yaxis&&(xe.yaxis.type==="date"||xe.yaxis.type==="log");se&&(Ce=V(xe.xaxis,Ce),De=V(xe.xaxis,De),Ve=V(xe.xaxis,Ve),_e=V(xe.xaxis,_e)),fe&&(Ie=V(xe.yaxis,Ie),re=V(xe.yaxis,re),be=V(xe.yaxis,be),te=V(xe.yaxis,te));var oe=(De+_e)/2,Se=(Ie+be)/2,ce=(_e-De+Ve-Ce)/2,ke=(te-re+be-Ie)/2,Qe=B({x0:oe,y0:Se,x1:oe+ce*T,y1:Se+ke*R});se&&(Qe.x0=I(xe.xaxis,Qe.x0),Qe.x1=I(xe.xaxis,Qe.x1)),fe&&(Qe.y0=I(xe.yaxis,Qe.y0),Qe.y1=I(xe.yaxis,Qe.y1)),Oe.x0=Qe.x0,Oe.y0=Qe.y0,Oe.x1=Qe.x1,Oe.y1=Qe.y1}else Oe.type="path",Be&&pe&&E(ve,Be,pe),Oe.path=F(ve),Le=null;return Oe}f.exports={newShapes:W,createShapeObj:X}},1873:function(f){function h(g){var v=g._fullLayout._zoomlayer;v&&v.selectAll(".outline-controllers").remove()}function c(g){var v=g._fullLayout._zoomlayer;v&&v.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}f.exports={clearOutlineControllers:h,clearOutline:c}},477:function(f,h,c){var g=c(1459),v=c(1828),y=c(9298);h.rangeToShapePosition=function(O){return O.type==="log"?O.r2d:function(C){return C}},h.shapePositionToRange=function(O){return O.type==="log"?O.d2r:function(C){return C}},h.decodeDate=function(O){return function(C){return C.replace&&(C=C.replace("_"," ")),O(C)}},h.encodeDate=function(O){return function(C){return O(C).replace(" ","_")}},h.extractPathCoords=function(O,C,k){var w=[],T=O.match(g.segmentRE);return T.forEach(function(R){var M=C[R.charAt(0)].drawn;if(M!==void 0){var I=R.substr(1).match(g.paramRE);if(!(!I||I.length<M)){var V=I[M],N=k?V:v.cleanNumber(V);w.push(N)}}}),w},h.getDataToPixel=function(O,C,k,w){var T=O._fullLayout._size,R;if(C)if(w==="domain")R=function(I){return C._length*(k?1-I:I)+C._offset};else{var M=h.shapePositionToRange(C);R=function(I){return C._offset+C.r2p(M(I,!0))},C.type==="date"&&(R=h.decodeDate(R))}else k?R=function(I){return T.t+T.h*(1-I)}:R=function(I){return T.l+T.w*I};return R},h.getPixelToData=function(O,C,k,w){var T=O._fullLayout._size,R;if(C)if(w==="domain")R=function(I){var V=(I-C._offset)/C._length;return k?1-V:V};else{var M=h.rangeToShapePosition(C);R=function(I){return M(C.p2r(I-C._offset))}}else k?R=function(I){return 1-(I-T.t)/T.h}:R=function(I){return(I-T.l)/T.w};return R},h.roundPositionForSharpStrokeRendering=function(O,C){var k=Math.round(C%2)===1,w=Math.round(O);return k?w+.5:w},h.makeShapesOptionsAndPlotinfo=function(O,C){var k=O._fullLayout.shapes[C]||{},w=O._fullLayout._plots[k.xref+k.yref],T=!!w;return T?w._hadPlotinfo=!0:(w={},k.xref&&k.xref!=="paper"&&(w.xaxis=O._fullLayout[k.xref+"axis"]),k.yref&&k.yref!=="paper"&&(w.yaxis=O._fullLayout[k.yref+"axis"])),w.xsizemode=k.xsizemode,w.ysizemode=k.ysizemode,w.xanchor=k.xanchor,w.yanchor=k.yanchor,{options:k,plotinfo:w}},h.makeSelectionsOptionsAndPlotinfo=function(O,C){var k=O._fullLayout.selections[C]||{},w=O._fullLayout._plots[k.xref+k.yref],T=!!w;return T?w._hadPlotinfo=!0:(w={},k.xref&&(w.xaxis=O._fullLayout[k.xref+"axis"]),k.yref&&(w.yaxis=O._fullLayout[k.yref+"axis"])),{options:k,plotinfo:w}},h.getPathString=function(O,C){var k=C.type,w=y.getRefType(C.xref),T=y.getRefType(C.yref),R=y.getFromId(O,C.xref),M=y.getFromId(O,C.yref),I=O._fullLayout._size,V,N,Q,z,U,F,B,E;if(R?w==="domain"?N=function(xe){return R._offset+R._length*xe}:(V=h.shapePositionToRange(R),N=function(xe){return R._offset+R.r2p(V(xe,!0))}):N=function(xe){return I.l+I.w*xe},M?T==="domain"?z=function(xe){return M._offset+M._length*(1-xe)}:(Q=h.shapePositionToRange(M),z=function(xe){return M._offset+M.r2p(Q(xe,!0))}):z=function(xe){return I.t+I.h*(1-xe)},k==="path")return R&&R.type==="date"&&(N=h.decodeDate(N)),M&&M.type==="date"&&(z=h.decodeDate(z)),b(C,N,z);if(C.xsizemode==="pixel"){var W=N(C.xanchor);U=W+C.x0,F=W+C.x1}else U=N(C.x0),F=N(C.x1);if(C.ysizemode==="pixel"){var X=z(C.yanchor);B=X-C.y0,E=X-C.y1}else B=z(C.y0),E=z(C.y1);if(k==="line")return"M"+U+","+B+"L"+F+","+E;if(k==="rect")return"M"+U+","+B+"H"+F+"V"+E+"H"+U+"Z";var ie=(U+F)/2,L=(B+E)/2,me=Math.abs(ie-U),ae=Math.abs(L-B),q="A"+me+","+ae,de=ie+me+","+L,ee=ie+","+(L-ae);return"M"+de+q+" 0 1,1 "+ee+q+" 0 0,1 "+de+"Z"};function b(O,C,k){var w=O.path,T=O.xsizemode,R=O.ysizemode,M=O.xanchor,I=O.yanchor;return w.replace(g.segmentRE,function(V){var N=0,Q=V.charAt(0),z=g.paramIsX[Q],U=g.paramIsY[Q],F=g.numParams[Q],B=V.substr(1).replace(g.paramRE,function(E){return z[N]?T==="pixel"?E=C(M)+Number(E):E=C(E):U[N]&&(R==="pixel"?E=k(I)-Number(E):E=k(E)),N++,N>F&&(E="X"),E});return N>F&&(B=B.replace(/[\s,]*X.*/,""),v.log("Ignoring extra params in segment "+V)),Q+B})}},9853:function(f,h,c){var g=c(4031);f.exports={moduleType:"component",name:"shapes",layoutAttributes:c(9827),supplyLayoutDefaults:c(4726),supplyDrawNewShapeDefaults:c(5547),includeBasePlot:c(6325)("shapes"),calcAutorange:c(5627),draw:g.draw,drawOne:g.drawOne}},7281:function(f){function h(V,N){return N?N.d2l(V):V}function c(V,N){return N?N.l2d(V):V}function g(V){return V.x0}function v(V){return V.x1}function y(V){return V.y0}function b(V){return V.y1}function O(V,N){return h(V.x1,N)-h(V.x0,N)}function C(V,N,Q){return h(V.y1,Q)-h(V.y0,Q)}function k(V,N){return Math.abs(O(V,N))}function w(V,N,Q){return Math.abs(C(V,N,Q))}function T(V,N,Q){return V.type!=="line"?void 0:Math.sqrt(Math.pow(O(V,N),2)+Math.pow(C(V,N,Q),2))}function R(V,N){return c((h(V.x1,N)+h(V.x0,N))/2,N)}function M(V,N,Q){return c((h(V.y1,Q)+h(V.y0,Q))/2,Q)}function I(V,N,Q){return V.type!=="line"?void 0:C(V,N,Q)/O(V,N)}f.exports={x0:g,x1:v,y0:y,y1:b,slope:I,dx:O,dy:C,width:k,height:w,length:T,xcenter:R,ycenter:M}},5067:function(f,h,c){var g=c(1940),v=c(5025),y=c(1426).extendDeepAll,b=c(962).overrideAll,O=c(5594),C=c(4467).templatedArray,k=c(8292),w=C("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});f.exports=b(C("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:w,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:y(v({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:O.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:k.gripBgActiveColor},bgcolor:{valType:"color",dflt:k.railBgColor},bordercolor:{valType:"color",dflt:k.railBorderColor},borderwidth:{valType:"number",min:0,dflt:k.railBorderWidth},ticklen:{valType:"number",min:0,dflt:k.tickLength},tickcolor:{valType:"color",dflt:k.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:k.minorTickLength}}),"arraydraw","from-root")},8292:function(f){f.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(f,h,c){var g=c(1828),v=c(5501),y=c(5067),b=c(8292),O=b.name,C=y.steps;f.exports=function(R,M){v(R,M,{name:O,handleItemDefaults:k})};function k(T,R,M){function I(E,W){return g.coerce(T,R,y,E,W)}for(var V=v(T,R,{name:"steps",handleItemDefaults:w}),N=0,Q=0;Q<V.length;Q++)V[Q].visible&&N++;var z;if(N<2?z=R.visible=!1:z=I("visible"),!!z){R._stepCount=N;var U=R._visibleSteps=g.filterVisible(V),F=I("active");(V[F]||{}).visible||(R.active=U[0]._index),I("x"),I("y"),g.noneOrAll(T,R,["x","y"]),I("xanchor"),I("yanchor"),I("len"),I("lenmode"),I("pad.t"),I("pad.r"),I("pad.b"),I("pad.l"),g.coerceFont(I,"font",M.font);var B=I("currentvalue.visible");B&&(I("currentvalue.xanchor"),I("currentvalue.prefix"),I("currentvalue.suffix"),I("currentvalue.offset"),g.coerceFont(I,"currentvalue.font",R.font)),I("transition.duration"),I("transition.easing"),I("bgcolor"),I("activebgcolor"),I("bordercolor"),I("borderwidth"),I("ticklen"),I("tickwidth"),I("tickcolor"),I("minorticklen")}}function w(T,R){function M(N,Q){return g.coerce(T,R,C,N,Q)}var I;if(T.method!=="skip"&&!Array.isArray(T.args)?I=R.visible=!1:I=M("visible"),I){M("method"),M("args");var V=M("label","step-"+R._index);M("value",V),M("execute")}}},4504:function(f,h,c){var g=c(9898),v=c(4875),y=c(7901),b=c(1424),O=c(1828),C=O.strTranslate,k=c(3893),w=c(4467).arrayEditor,T=c(8292),R=c(8783),M=R.LINE_SPACING,I=R.FROM_TL,V=R.FROM_BR;f.exports=function(ne){var le=ne._context.staticPlot,Y=ne._fullLayout,ve=Q(Y,ne),Oe=Y._infolayer.selectAll("g."+T.containerClassName).data(ve.length>0?[0]:[]);Oe.enter().append("g").classed(T.containerClassName,!0).style("cursor",le?null:"ew-resize");function Le(_e){_e._commandObserver&&(_e._commandObserver.remove(),delete _e._commandObserver),v.autoMargin(ne,N(_e))}if(Oe.exit().each(function(){g.select(this).selectAll("g."+T.groupClassName).each(Le)}).remove(),ve.length!==0){var Ce=Oe.selectAll("g."+T.groupClassName).data(ve,z);Ce.enter().append("g").classed(T.groupClassName,!0),Ce.exit().each(Le).remove();for(var De=0;De<ve.length;De++){var Ve=ve[De];U(ne,Ve)}Ce.each(function(_e){var Ie=g.select(this);q(_e),v.manageCommandObserver(ne,_e,_e._visibleSteps,function(re){var be=Ie.data()[0];be.active!==re.index&&(be._dragging||L(ne,Ie,be,re.index,!1,!0))}),F(ne,g.select(this),_e)})}};function N(pe){return T.autoMarginIdRoot+pe._index}function Q(pe,ne){for(var le=pe[T.name],Y=[],ve=0;ve<le.length;ve++){var Oe=le[ve];Oe.visible&&(Oe._gd=ne,Y.push(Oe))}return Y}function z(pe){return pe._index}function U(pe,ne){var le=b.tester.selectAll("g."+T.labelGroupClass).data(ne._visibleSteps);le.enter().append("g").classed(T.labelGroupClass,!0);var Y=0,ve=0;le.each(function(te){var se=g.select(this),fe=W(se,{step:te},ne),oe=fe.node();if(oe){var Se=b.bBox(oe);ve=Math.max(ve,Se.height),Y=Math.max(Y,Se.width)}}),le.remove();var Oe=ne._dims={};Oe.inputAreaWidth=Math.max(T.railWidth,T.gripHeight);var Le=pe._fullLayout._size;Oe.lx=Le.l+Le.w*ne.x,Oe.ly=Le.t+Le.h*(1-ne.y),ne.lenmode==="fraction"?Oe.outerLength=Math.round(Le.w*ne.len):Oe.outerLength=ne.len,Oe.inputAreaStart=0,Oe.inputAreaLength=Math.round(Oe.outerLength-ne.pad.l-ne.pad.r);var Ce=Oe.inputAreaLength-2*T.stepInset,De=Ce/(ne._stepCount-1),Ve=Y+T.labelPadding;if(Oe.labelStride=Math.max(1,Math.ceil(Ve/De)),Oe.labelHeight=ve,Oe.currentValueMaxWidth=0,Oe.currentValueHeight=0,Oe.currentValueTotalHeight=0,Oe.currentValueMaxLines=1,ne.currentvalue.visible){var _e=b.tester.append("g");le.each(function(te){var se=B(_e,ne,te.label),fe=se.node()&&b.bBox(se.node())||{width:0,height:0},oe=k.lineCount(se);Oe.currentValueMaxWidth=Math.max(Oe.currentValueMaxWidth,Math.ceil(fe.width)),Oe.currentValueHeight=Math.max(Oe.currentValueHeight,Math.ceil(fe.height)),Oe.currentValueMaxLines=Math.max(Oe.currentValueMaxLines,oe)}),Oe.currentValueTotalHeight=Oe.currentValueHeight+ne.currentvalue.offset,_e.remove()}Oe.height=Oe.currentValueTotalHeight+T.tickOffset+ne.ticklen+T.labelOffset+Oe.labelHeight+ne.pad.t+ne.pad.b;var Ie="left";O.isRightAnchor(ne)&&(Oe.lx-=Oe.outerLength,Ie="right"),O.isCenterAnchor(ne)&&(Oe.lx-=Oe.outerLength/2,Ie="center");var re="top";O.isBottomAnchor(ne)&&(Oe.ly-=Oe.height,re="bottom"),O.isMiddleAnchor(ne)&&(Oe.ly-=Oe.height/2,re="middle"),Oe.outerLength=Math.ceil(Oe.outerLength),Oe.height=Math.ceil(Oe.height),Oe.lx=Math.round(Oe.lx),Oe.ly=Math.round(Oe.ly);var be={y:ne.y,b:Oe.height*V[re],t:Oe.height*I[re]};ne.lenmode==="fraction"?(be.l=0,be.xl=ne.x-ne.len*I[Ie],be.r=0,be.xr=ne.x+ne.len*V[Ie]):(be.x=ne.x,be.l=Oe.outerLength*I[Ie],be.r=Oe.outerLength*V[Ie]),v.autoMargin(pe,N(ne),be)}function F(pe,ne,le){(le.steps[le.active]||{}).visible||(le.active=le._visibleSteps[0]._index),ne.call(B,le).call(Be,le).call(X,le).call(ae,le).call(we,pe,le).call(E,pe,le);var Y=le._dims;b.setTranslate(ne,Y.lx+le.pad.l,Y.ly+le.pad.t),ne.call(de,le,!1),ne.call(B,le)}function B(pe,ne,le){if(ne.currentvalue.visible){var Y=ne._dims,ve,Oe;switch(ne.currentvalue.xanchor){case"right":ve=Y.inputAreaLength-T.currentValueInset-Y.currentValueMaxWidth,Oe="left";break;case"center":ve=Y.inputAreaLength*.5,Oe="middle";break;default:ve=T.currentValueInset,Oe="left"}var Le=O.ensureSingle(pe,"text",T.labelClass,function(re){re.attr({"text-anchor":Oe,"data-notex":1})}),Ce=ne.currentvalue.prefix?ne.currentvalue.prefix:"";if(typeof le=="string")Ce+=le;else{var De=ne.steps[ne.active].label,Ve=ne._gd._fullLayout._meta;Ve&&(De=O.templateString(De,Ve)),Ce+=De}ne.currentvalue.suffix&&(Ce+=ne.currentvalue.suffix),Le.call(b.font,ne.currentvalue.font).text(Ce).call(k.convertToTspans,ne._gd);var _e=k.lineCount(Le),Ie=(Y.currentValueMaxLines+1-_e)*ne.currentvalue.font.size*M;return k.positionText(Le,ve,Ie),Le}}function E(pe,ne,le){var Y=O.ensureSingle(pe,"rect",T.gripRectClass,function(ve){ve.call(me,ne,pe,le).style("pointer-events","all")});Y.attr({width:T.gripWidth,height:T.gripHeight,rx:T.gripRadius,ry:T.gripRadius}).call(y.stroke,le.bordercolor).call(y.fill,le.bgcolor).style("stroke-width",le.borderwidth+"px")}function W(pe,ne,le){var Y=O.ensureSingle(pe,"text",T.labelClass,function(Le){Le.attr({"text-anchor":"middle","data-notex":1})}),ve=ne.step.label,Oe=le._gd._fullLayout._meta;return Oe&&(ve=O.templateString(ve,Oe)),Y.call(b.font,le.font).text(ve).call(k.convertToTspans,le._gd),Y}function X(pe,ne){var le=O.ensureSingle(pe,"g",T.labelsClass),Y=ne._dims,ve=le.selectAll("g."+T.labelGroupClass).data(Y.labelSteps);ve.enter().append("g").classed(T.labelGroupClass,!0),ve.exit().remove(),ve.each(function(Oe){var Le=g.select(this);Le.call(W,Oe,ne),b.setTranslate(Le,ee(ne,Oe.fraction),T.tickOffset+ne.ticklen+ne.font.size*M+T.labelOffset+Y.currentValueTotalHeight)})}function ie(pe,ne,le,Y,ve){var Oe=Math.round(Y*(le._stepCount-1)),Le=le._visibleSteps[Oe]._index;Le!==le.active&&L(pe,ne,le,Le,!0,ve)}function L(pe,ne,le,Y,ve,Oe){var Le=le.active;le.active=Y,w(pe.layout,T.name,le).applyUpdate("active",Y);var Ce=le.steps[le.active];ne.call(de,le,Oe),ne.call(B,le),pe.emit("plotly_sliderchange",{slider:le,step:le.steps[le.active],interaction:ve,previousActive:Le}),Ce&&Ce.method&&ve&&(ne._nextMethod?(ne._nextMethod.step=Ce,ne._nextMethod.doCallback=ve,ne._nextMethod.doTransition=Oe):(ne._nextMethod={step:Ce,doCallback:ve,doTransition:Oe},ne._nextMethodRaf=window.requestAnimationFrame(function(){var De=ne._nextMethod.step;De.method&&(De.execute&&v.executeAPICommand(pe,De.method,De.args),ne._nextMethod=null,ne._nextMethodRaf=null)})))}function me(pe,ne,le){if(ne._context.staticPlot)return;var Y=le.node(),ve=g.select(ne);function Oe(){return le.data()[0]}function Le(){var Ce=Oe();ne.emit("plotly_sliderstart",{slider:Ce});var De=le.select("."+T.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),De.call(y.fill,Ce.activebgcolor);var Ve=xe(Ce,g.mouse(Y)[0]);ie(ne,le,Ce,Ve,!0),Ce._dragging=!0;function _e(){var re=Oe(),be=xe(re,g.mouse(Y)[0]);ie(ne,le,re,be,!1)}ve.on("mousemove",_e),ve.on("touchmove",_e);function Ie(){var re=Oe();re._dragging=!1,De.call(y.fill,re.bgcolor),ve.on("mouseup",null),ve.on("mousemove",null),ve.on("touchend",null),ve.on("touchmove",null),ne.emit("plotly_sliderend",{slider:re,step:re.steps[re.active]})}ve.on("mouseup",Ie),ve.on("touchend",Ie)}pe.on("mousedown",Le),pe.on("touchstart",Le)}function ae(pe,ne){var le=pe.selectAll("rect."+T.tickRectClass).data(ne._visibleSteps),Y=ne._dims;le.enter().append("rect").classed(T.tickRectClass,!0),le.exit().remove(),le.attr({width:ne.tickwidth+"px","shape-rendering":"crispEdges"}),le.each(function(ve,Oe){var Le=Oe%Y.labelStride===0,Ce=g.select(this);Ce.attr({height:Le?ne.ticklen:ne.minorticklen}).call(y.fill,ne.tickcolor),b.setTranslate(Ce,ee(ne,Oe/(ne._stepCount-1))-.5*ne.tickwidth,(Le?T.tickOffset:T.minorTickOffset)+Y.currentValueTotalHeight)})}function q(pe){var ne=pe._dims;ne.labelSteps=[];for(var le=pe._stepCount,Y=0;Y<le;Y+=ne.labelStride)ne.labelSteps.push({fraction:Y/(le-1),step:pe._visibleSteps[Y]})}function de(pe,ne,le){for(var Y=pe.select("rect."+T.gripRectClass),ve=0,Oe=0;Oe<ne._stepCount;Oe++)if(ne._visibleSteps[Oe]._index===ne.active){ve=Oe;break}var Le=ee(ne,ve/(ne._stepCount-1));if(!ne._invokingCommand){var Ce=Y;le&&ne.transition.duration>0&&(Ce=Ce.transition().duration(ne.transition.duration).ease(ne.transition.easing)),Ce.attr("transform",C(Le-T.gripWidth*.5,ne._dims.currentValueTotalHeight))}}function ee(pe,ne){var le=pe._dims;return le.inputAreaStart+T.stepInset+(le.inputAreaLength-2*T.stepInset)*Math.min(1,Math.max(0,ne))}function xe(pe,ne){var le=pe._dims;return Math.min(1,Math.max(0,(ne-T.stepInset-le.inputAreaStart)/(le.inputAreaLength-2*T.stepInset-2*le.inputAreaStart)))}function we(pe,ne,le){var Y=le._dims,ve=O.ensureSingle(pe,"rect",T.railTouchRectClass,function(Oe){Oe.call(me,ne,pe,le).style("pointer-events","all")});ve.attr({width:Y.inputAreaLength,height:Math.max(Y.inputAreaWidth,T.tickOffset+le.ticklen+Y.labelHeight)}).call(y.fill,le.bgcolor).attr("opacity",0),b.setTranslate(ve,0,Y.currentValueTotalHeight)}function Be(pe,ne){var le=ne._dims,Y=le.inputAreaLength-T.railInset*2,ve=O.ensureSingle(pe,"rect",T.railRectClass);ve.attr({width:Y,height:T.railWidth,rx:T.railRadius,ry:T.railRadius,"shape-rendering":"crispEdges"}).call(y.stroke,ne.bordercolor).call(y.fill,ne.bgcolor).style("stroke-width",ne.borderwidth+"px"),b.setTranslate(ve,T.railInset,(le.inputAreaWidth-T.railWidth)*.5+le.currentValueTotalHeight)}},3243:function(f,h,c){var g=c(8292);f.exports={moduleType:"component",name:g.name,layoutAttributes:c(5067),supplyLayoutDefaults:c(2343),draw:c(4504)}},2998:function(f,h,c){var g=c(9898),v=c(2770),y=c(4875),b=c(3972),O=c(1828),C=O.strTranslate,k=c(1424),w=c(7901),T=c(3893),R=c(7822),M=c(8783).OPPOSITE_SIDE,I=/ [XY][0-9]* /;function V(N,Q,z){var U=z.propContainer,F=z.propName,B=z.placeholder,E=z.traceIndex,W=z.avoid||{},X=z.attributes,ie=z.transform,L=z.containerGroup,me=N._fullLayout,ae=1,q=!1,de=U.title,ee=(de&&de.text?de.text:"").trim(),xe=de&&de.font?de.font:{},we=xe.family,Be=xe.size,pe=xe.color,ne;F==="title.text"?ne="titleText":F.indexOf("axis")!==-1?ne="axisTitleText":F.indexOf("colorbar"!==-1)&&(ne="colorbarTitleText");var le=N._context.edits[ne];ee===""?ae=0:ee.replace(I," % ")===B.replace(I," % ")&&(ae=.2,q=!0,le||(ee="")),z._meta?ee=O.templateString(ee,z._meta):me._meta&&(ee=O.templateString(ee,me._meta));var Y=ee||le,ve;L||(L=O.ensureSingle(me._infolayer,"g","g-"+Q),ve=me._hColorbarMoveTitle);var Oe=L.selectAll("text").data(Y?[0]:[]);if(Oe.enter().append("text"),Oe.text(ee).attr("class",Q),Oe.exit().remove(),!Y)return L;function Le(_e){O.syncOrAsync([Ce,De],_e)}function Ce(_e){var Ie;return!ie&&ve&&(ie={}),ie?(Ie="",ie.rotate&&(Ie+="rotate("+[ie.rotate,X.x,X.y]+")"),(ie.offset||ve)&&(Ie+=C(0,(ie.offset||0)-(ve||0)))):Ie=null,_e.attr("transform",Ie),_e.style({"font-family":we,"font-size":g.round(Be,2)+"px",fill:w.rgb(pe),opacity:ae*w.opacity(pe),"font-weight":y.fontWeight}).attr(X).call(T.convertToTspans,N),y.previousPromises(N)}function De(_e){var Ie=g.select(_e.node().parentNode);if(W&&W.selection&&W.side&&ee){Ie.attr("transform",null);var re=M[W.side],be=W.side==="left"||W.side==="top"?-1:1,te=v(W.pad)?W.pad:2,se=k.bBox(Ie.node()),fe={t:0,b:0,l:0,r:0},oe=N._fullLayout._reservedMargin;for(var Se in oe)for(var ce in oe[Se]){var ke=oe[Se][ce];fe[ce]=Math.max(fe[ce],ke)}var Qe={left:fe.l,top:fe.t,right:me.width-fe.r,bottom:me.height-fe.b},Ze=W.maxShift||be*(Qe[W.side]-se[W.side]),Xe=0;if(Ze<0)Xe=Ze;else{var ct=W.offsetLeft||0,pt=W.offsetTop||0;se.left-=ct,se.right-=ct,se.top-=pt,se.bottom-=pt,W.selection.each(function(){var je=k.bBox(this);O.bBoxIntersect(se,je,te)&&(Xe=Math.max(Xe,be*(je[W.side]-se[re])+te))}),Xe=Math.min(Ze,Xe),U._titleScoot=Math.abs(Xe)}if(Xe>0||Ze<0){var Ye={left:[-Xe,0],right:[Xe,0],top:[0,-Xe],bottom:[0,Xe]}[W.side];Ie.attr("transform",C(Ye[0],Ye[1]))}}}Oe.call(Le);function Ve(){ae=0,q=!0,Oe.text(B).on("mouseover.opacity",function(){g.select(this).transition().duration(R.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(R.HIDE_PLACEHOLDER).style("opacity",0)})}return le&&(ee?Oe.on(".opacity",null):Ve(),Oe.call(T.makeEditable,{gd:N}).on("edit",function(_e){E!==void 0?b.call("_guiRestyle",N,F,_e,E):b.call("_guiRelayout",N,F,_e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Le)}).on("input",function(_e){this.text(_e||" ").call(T.positionText,X.x,X.y)})),Oe.classed("js-placeholder",q),L}f.exports={draw:V}},7163:function(f,h,c){var g=c(1940),v=c(2399),y=c(1426).extendFlat,b=c(962).overrideAll,O=c(5025),C=c(4467).templatedArray,k=C("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});f.exports=b(C("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:k,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:y(O({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:v.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(f){f.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},4897:function(f,h,c){var g=c(1828),v=c(5501),y=c(7163),b=c(5909),O=b.name,C=y.buttons;f.exports=function(R,M){var I={name:O,handleItemDefaults:k};v(R,M,I)};function k(T,R,M){function I(Q,z){return g.coerce(T,R,y,Q,z)}var V=v(T,R,{name:"buttons",handleItemDefaults:w}),N=I("visible",V.length>0);N&&(I("active"),I("direction"),I("type"),I("showactive"),I("x"),I("y"),g.noneOrAll(T,R,["x","y"]),I("xanchor"),I("yanchor"),I("pad.t"),I("pad.r"),I("pad.b"),I("pad.l"),g.coerceFont(I,"font",M.font),I("bgcolor",M.paper_bgcolor),I("bordercolor"),I("borderwidth"))}function w(T,R){function M(V,N){return g.coerce(T,R,C,V,N)}var I=M("visible",T.method==="skip"||Array.isArray(T.args));I&&(M("method"),M("args"),M("args2"),M("label"),M("execute"))}},3689:function(f,h,c){var g=c(9898),v=c(4875),y=c(7901),b=c(1424),O=c(1828),C=c(3893),k=c(4467).arrayEditor,w=c(8783).LINE_SPACING,T=c(5909),R=c(5849);f.exports=function(xe){var we=xe._fullLayout,Be=O.filterVisible(we[T.name]);function pe(De){v.autoMargin(xe,ae(De))}var ne=we._menulayer.selectAll("g."+T.containerClassName).data(Be.length>0?[0]:[]);if(ne.enter().append("g").classed(T.containerClassName,!0).style("cursor","pointer"),ne.exit().each(function(){g.select(this).selectAll("g."+T.headerGroupClassName).each(pe)}).remove(),Be.length!==0){var le=ne.selectAll("g."+T.headerGroupClassName).data(Be,M);le.enter().append("g").classed(T.headerGroupClassName,!0);for(var Y=O.ensureSingle(ne,"g",T.dropdownButtonGroupClassName,function(De){De.style("pointer-events","all")}),ve=0;ve<Be.length;ve++){var Oe=Be[ve];me(xe,Oe)}var Le="updatemenus"+we._uid,Ce=new R(xe,Y,Le);le.enter().size()&&(Y.node().parentNode.appendChild(Y.node()),Y.call(de)),le.exit().each(function(De){Y.call(de),pe(De)}).remove(),le.each(function(De){var Ve=g.select(this),_e=De.type==="dropdown"?Y:null;v.manageCommandObserver(xe,De,De.buttons,function(Ie){N(xe,De,De.buttons[Ie.index],Ve,_e,Ce,Ie.index,!0)}),De.type==="dropdown"?(Q(xe,Ve,Y,Ce,De),V(Y,De)&&z(xe,Ve,Y,Ce,De)):z(xe,Ve,null,null,De)})}};function M(ee){return ee._index}function I(ee){return+ee.attr(T.menuIndexAttrName)==-1}function V(ee,xe){return+ee.attr(T.menuIndexAttrName)===xe._index}function N(ee,xe,we,Be,pe,ne,le,Y){xe.active=le,k(ee.layout,T.name,xe).applyUpdate("active",le),xe.type==="buttons"?z(ee,Be,null,null,xe):xe.type==="dropdown"&&(pe.attr(T.menuIndexAttrName,"-1"),Q(ee,Be,pe,ne,xe),Y||z(ee,Be,pe,ne,xe))}function Q(ee,xe,we,Be,pe){var ne=O.ensureSingle(xe,"g",T.headerClassName,function(De){De.style("pointer-events","all")}),le=pe._dims,Y=pe.active,ve=pe.buttons[Y]||T.blankHeaderOpts,Oe={y:pe.pad.t,yPad:0,x:pe.pad.l,xPad:0,index:0},Le={width:le.headerWidth,height:le.headerHeight};ne.call(B,pe,ve,ee).call(q,pe,Oe,Le);var Ce=O.ensureSingle(xe,"text",T.headerArrowClassName,function(De){De.attr("text-anchor","end").call(b.font,pe.font).text(T.arrowSymbol[pe.direction])});Ce.attr({x:le.headerWidth-T.arrowOffsetX+pe.pad.l,y:le.headerHeight/2+T.textOffsetY+pe.pad.t}),ne.on("click",function(){we.call(de,String(V(we,pe)?-1:pe._index)),z(ee,xe,we,Be,pe)}),ne.on("mouseover",function(){ne.call(ie)}),ne.on("mouseout",function(){ne.call(L,pe)}),b.setTranslate(xe,le.lx,le.ly)}function z(ee,xe,we,Be,pe){we||(we=xe,we.attr("pointer-events","all"));var ne=!I(we)||pe.type==="buttons"?pe.buttons:[],le=pe.type==="dropdown"?T.dropdownButtonClassName:T.buttonClassName,Y=we.selectAll("g."+le).data(O.filterVisible(ne)),ve=Y.enter().append("g").classed(le,!0),Oe=Y.exit();pe.type==="dropdown"?(ve.attr("opacity","0").transition().attr("opacity","1"),Oe.transition().attr("opacity","0").remove()):Oe.remove();var Le=0,Ce=0,De=pe._dims,Ve=["up","down"].indexOf(pe.direction)!==-1;pe.type==="dropdown"&&(Ve?Ce=De.headerHeight+T.gapButtonHeader:Le=De.headerWidth+T.gapButtonHeader),pe.type==="dropdown"&&pe.direction==="up"&&(Ce=-T.gapButtonHeader+T.gapButton-De.openHeight),pe.type==="dropdown"&&pe.direction==="left"&&(Le=-T.gapButtonHeader+T.gapButton-De.openWidth);var _e={x:De.lx+Le+pe.pad.l,y:De.ly+Ce+pe.pad.t,yPad:T.gapButton,xPad:T.gapButton,index:0},Ie={l:_e.x+pe.borderwidth,t:_e.y+pe.borderwidth};Y.each(function(re,be){var te=g.select(this);te.call(B,pe,re,ee).call(q,pe,_e),te.on("click",function(){g.event.defaultPrevented||(re.execute&&(re.args2&&pe.active===be?(N(ee,pe,re,xe,we,Be,-1),v.executeAPICommand(ee,re.method,re.args2)):(N(ee,pe,re,xe,we,Be,be),v.executeAPICommand(ee,re.method,re.args))),ee.emit("plotly_buttonclicked",{menu:pe,button:re,active:pe.active}))}),te.on("mouseover",function(){te.call(ie)}),te.on("mouseout",function(){te.call(L,pe),Y.call(X,pe)})}),Y.call(X,pe),Ve?(Ie.w=Math.max(De.openWidth,De.headerWidth),Ie.h=_e.y-Ie.t):(Ie.w=_e.x-Ie.l,Ie.h=Math.max(De.openHeight,De.headerHeight)),Ie.direction=pe.direction,Be&&(Y.size()?U(ee,xe,we,Be,pe,Ie):F(Be))}function U(ee,xe,we,Be,pe,ne){var le=pe.direction,Y=le==="up"||le==="down",ve=pe._dims,Oe=pe.active,Le,Ce,De;if(Y)for(Ce=0,De=0;De<Oe;De++)Ce+=ve.heights[De]+T.gapButton;else for(Le=0,De=0;De<Oe;De++)Le+=ve.widths[De]+T.gapButton;Be.enable(ne,Le,Ce),Be.hbar&&Be.hbar.attr("opacity","0").transition().attr("opacity","1"),Be.vbar&&Be.vbar.attr("opacity","0").transition().attr("opacity","1")}function F(ee){var xe=!!ee.hbar,we=!!ee.vbar;xe&&ee.hbar.transition().attr("opacity","0").each("end",function(){xe=!1,we||ee.disable()}),we&&ee.vbar.transition().attr("opacity","0").each("end",function(){we=!1,xe||ee.disable()})}function B(ee,xe,we,Be){ee.call(E,xe).call(W,xe,we,Be)}function E(ee,xe){var we=O.ensureSingle(ee,"rect",T.itemRectClassName,function(Be){Be.attr({rx:T.rx,ry:T.ry,"shape-rendering":"crispEdges"})});we.call(y.stroke,xe.bordercolor).call(y.fill,xe.bgcolor).style("stroke-width",xe.borderwidth+"px")}function W(ee,xe,we,Be){var pe=O.ensureSingle(ee,"text",T.itemTextClassName,function(Y){Y.attr({"text-anchor":"start","data-notex":1})}),ne=we.label,le=Be._fullLayout._meta;le&&(ne=O.templateString(ne,le)),pe.call(b.font,xe.font).text(ne).call(C.convertToTspans,Be)}function X(ee,xe){var we=xe.active;ee.each(function(Be,pe){var ne=g.select(this);pe===we&&xe.showactive&&ne.select("rect."+T.itemRectClassName).call(y.fill,T.activeColor)})}function ie(ee){ee.select("rect."+T.itemRectClassName).call(y.fill,T.hoverColor)}function L(ee,xe){ee.select("rect."+T.itemRectClassName).call(y.fill,xe.bgcolor)}function me(ee,xe){var we=xe._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Be=b.tester.selectAll("g."+T.dropdownButtonClassName).data(O.filterVisible(xe.buttons));Be.enter().append("g").classed(T.dropdownButtonClassName,!0);var pe=["up","down"].indexOf(xe.direction)!==-1;Be.each(function(Le,Ce){var De=g.select(this);De.call(B,xe,Le,ee);var Ve=De.select("."+T.itemTextClassName),_e=Ve.node()&&b.bBox(Ve.node()).width,Ie=Math.max(_e+T.textPadX,T.minWidth),re=xe.font.size*w,be=C.lineCount(Ve),te=Math.max(re*be,T.minHeight)+T.textOffsetY;te=Math.ceil(te),Ie=Math.ceil(Ie),we.widths[Ce]=Ie,we.heights[Ce]=te,we.height1=Math.max(we.height1,te),we.width1=Math.max(we.width1,Ie),pe?(we.totalWidth=Math.max(we.totalWidth,Ie),we.openWidth=we.totalWidth,we.totalHeight+=te+T.gapButton,we.openHeight+=te+T.gapButton):(we.totalWidth+=Ie+T.gapButton,we.openWidth+=Ie+T.gapButton,we.totalHeight=Math.max(we.totalHeight,te),we.openHeight=we.totalHeight)}),pe?we.totalHeight-=T.gapButton:we.totalWidth-=T.gapButton,we.headerWidth=we.width1+T.arrowPadX,we.headerHeight=we.height1,xe.type==="dropdown"&&(pe?(we.width1+=T.arrowPadX,we.totalHeight=we.height1):we.totalWidth=we.width1,we.totalWidth+=T.arrowPadX),Be.remove();var ne=we.totalWidth+xe.pad.l+xe.pad.r,le=we.totalHeight+xe.pad.t+xe.pad.b,Y=ee._fullLayout._size;we.lx=Y.l+Y.w*xe.x,we.ly=Y.t+Y.h*(1-xe.y);var ve="left";O.isRightAnchor(xe)&&(we.lx-=ne,ve="right"),O.isCenterAnchor(xe)&&(we.lx-=ne/2,ve="center");var Oe="top";O.isBottomAnchor(xe)&&(we.ly-=le,Oe="bottom"),O.isMiddleAnchor(xe)&&(we.ly-=le/2,Oe="middle"),we.totalWidth=Math.ceil(we.totalWidth),we.totalHeight=Math.ceil(we.totalHeight),we.lx=Math.round(we.lx),we.ly=Math.round(we.ly),v.autoMargin(ee,ae(xe),{x:xe.x,y:xe.y,l:ne*({right:1,center:.5}[ve]||0),r:ne*({left:1,center:.5}[ve]||0),b:le*({top:1,middle:.5}[Oe]||0),t:le*({bottom:1,middle:.5}[Oe]||0)})}function ae(ee){return T.autoMarginIdRoot+ee._index}function q(ee,xe,we,Be){Be=Be||{};var pe=ee.select("."+T.itemRectClassName),ne=ee.select("."+T.itemTextClassName),le=xe.borderwidth,Y=we.index,ve=xe._dims;b.setTranslate(ee,le+we.x,le+we.y);var Oe=["up","down"].indexOf(xe.direction)!==-1,Le=Be.height||(Oe?ve.heights[Y]:ve.height1);pe.attr({x:0,y:0,width:Be.width||(Oe?ve.width1:ve.widths[Y]),height:Le});var Ce=xe.font.size*w,De=C.lineCount(ne),Ve=(De-1)*Ce/2;C.positionText(ne,T.textOffsetX,Le/2-Ve+T.textOffsetY),Oe?we.y+=ve.heights[Y]+we.yPad:we.x+=ve.widths[Y]+we.xPad,we.index++}function de(ee,xe){ee.attr(T.menuIndexAttrName,xe||"-1").selectAll("g."+T.dropdownButtonClassName).remove()}},763:function(f,h,c){var g=c(5909);f.exports={moduleType:"component",name:g.name,layoutAttributes:c(7163),supplyLayoutDefaults:c(4897),draw:c(3689)}},5849:function(f,h,c){f.exports=O;var g=c(9898),v=c(7901),y=c(1424),b=c(1828);function O(C,k,w){this.gd=C,this.container=k,this.id=w,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}O.barWidth=2,O.barLength=20,O.barRadius=2,O.barPad=1,O.barColor="#808BA4",O.prototype.enable=function(k,w,T){var R=this.gd._fullLayout,M=R.width,I=R.height;this.position=k;var V=this.position.l,N=this.position.w,Q=this.position.t,z=this.position.h,U=this.position.direction,F=U==="down",B=U==="left",E=U==="right",W=U==="up",X=N,ie=z,L,me,ae,q;!F&&!B&&!E&&!W&&(this.position.direction="down",F=!0);var de=F||W;de?(L=V,me=L+X,F?(ae=Q,q=Math.min(ae+ie,I),ie=q-ae):(q=Q+ie,ae=Math.max(q-ie,0),ie=q-ae)):(ae=Q,q=ae+ie,B?(me=V+X,L=Math.max(me-X,0),X=me-L):(L=V,me=Math.min(L+X,M),X=me-L)),this._box={l:L,t:ae,w:X,h:ie};var ee=N>X,xe=O.barLength+2*O.barPad,we=O.barWidth+2*O.barPad,Be=V,pe=Q+z;pe+we>I&&(pe=I-we);var ne=this.container.selectAll("rect.scrollbar-horizontal").data(ee?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-horizontal",!0).call(v.fill,O.barColor),ee?(this.hbar=ne.attr({rx:O.barRadius,ry:O.barRadius,x:Be,y:pe,width:xe,height:we}),this._hbarXMin=Be+xe/2,this._hbarTranslateMax=X-xe):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var le=z>ie,Y=O.barWidth+2*O.barPad,ve=O.barLength+2*O.barPad,Oe=V+N,Le=Q;Oe+Y>M&&(Oe=M-Y);var Ce=this.container.selectAll("rect.scrollbar-vertical").data(le?[0]:[]);Ce.exit().on(".drag",null).remove(),Ce.enter().append("rect").classed("scrollbar-vertical",!0).call(v.fill,O.barColor),le?(this.vbar=Ce.attr({rx:O.barRadius,ry:O.barRadius,x:Oe,y:Le,width:Y,height:ve}),this._vbarYMin=Le+ve/2,this._vbarTranslateMax=ie-ve):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var De=this.id,Ve=L-.5,_e=le?me+Y+.5:me+.5,Ie=ae-.5,re=ee?q+we+.5:q+.5,be=R._topdefs.selectAll("#"+De).data(ee||le?[0]:[]);if(be.exit().remove(),be.enter().append("clipPath").attr("id",De).append("rect"),ee||le?(this._clipRect=be.select("rect").attr({x:Math.floor(Ve),y:Math.floor(Ie),width:Math.ceil(_e)-Math.floor(Ve),height:Math.ceil(re)-Math.floor(Ie)}),this.container.call(y.setClipUrl,De,this.gd),this.bg.attr({x:V,y:Q,width:N,height:z})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(y.setClipUrl,null),delete this._clipRect),ee||le){var te=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(te);var se=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));ee&&this.hbar.on(".drag",null).call(se),le&&this.vbar.on(".drag",null).call(se)}this.setTranslate(w,T)},O.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(y.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},O.prototype._onBoxDrag=function(){var k=this.translateX,w=this.translateY;this.hbar&&(k-=g.event.dx),this.vbar&&(w-=g.event.dy),this.setTranslate(k,w)},O.prototype._onBoxWheel=function(){var k=this.translateX,w=this.translateY;this.hbar&&(k+=g.event.deltaY),this.vbar&&(w+=g.event.deltaY),this.setTranslate(k,w)},O.prototype._onBarDrag=function(){var k=this.translateX,w=this.translateY;if(this.hbar){var T=k+this._hbarXMin,R=T+this._hbarTranslateMax,M=b.constrain(g.event.x,T,R),I=(M-T)/(R-T),V=this.position.w-this._box.w;k=I*V}if(this.vbar){var N=w+this._vbarYMin,Q=N+this._vbarTranslateMax,z=b.constrain(g.event.y,N,Q),U=(z-N)/(Q-N),F=this.position.h-this._box.h;w=U*F}this.setTranslate(k,w)},O.prototype.setTranslate=function(k,w){var T=this.position.w-this._box.w,R=this.position.h-this._box.h;if(k=b.constrain(k||0,0,T),w=b.constrain(w||0,0,R),this.translateX=k,this.translateY=w,this.container.call(y.setTranslate,this._box.l-this.position.l-k,this._box.t-this.position.t-w),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+k-.5),y:Math.floor(this.position.t+w-.5)}),this.hbar){var M=k/T;this.hbar.call(y.setTranslate,k+M*this._hbarTranslateMax,w)}if(this.vbar){var I=w/R;this.vbar.call(y.setTranslate,k,w+I*this._vbarTranslateMax)}}},8783:function(f){f.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(f){f.exports={axisRefDescription:function(h,c,g){return["If set to a",h,"axis id (e.g. *"+h+"* or","*"+h+"2*), the `"+h+"` position refers to a",h,"coordinate. If set to *paper*, the `"+h+"`","position refers to the distance from the",c,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",c,"("+g+"). If set to a",h,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",c,"of the domain of that axis: e.g.,","*"+h+"2 domain* refers to the domain of the second",h," axis and a",h,"position of 0.5 refers to the","point between the",c,"and the",g,"of the domain of the","second",h,"axis."].join(" ")}}},1562:function(f){f.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(f){f.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(f){f.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(f){f.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},7922:function(f,h){h.xmlns="http://www.w3.org/2000/xmlns/",h.svg="http://www.w3.org/2000/svg",h.xlink="http://www.w3.org/1999/xlink",h.svgAttrs={xmlns:h.svg,"xmlns:xlink":h.xlink}},8729:function(f,h,c){h.version=c(1506).version,c(7417),c(8847);for(var g=c(3972),v=h.register=g.register,y=c(641),b=Object.keys(y),O=0;O<b.length;O++){var C=b[O];C.charAt(0)!=="_"&&(h[C]=y[C]),v({moduleType:"apiMethod",name:C,fn:y[C]})}v(c(7368)),v([c(2745),c(2468),c(7322),c(9853),c(8804),c(763),c(3243),c(3137),c(7218),c(3312),c(7369),c(1081),c(2311),c(2199),c(211),c(4168)]),v([c(2177),c(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(v(window.PlotlyLocales),delete window.PlotlyLocales),h.Icons=c(4255);var k=c(211),w=c(4875);h.Plots={resize:w.resize,graphJson:w.graphJson,sendDataToCloud:w.sendDataToCloud},h.Fx={hover:k.hover,unhover:k.unhover,loneHover:k.loneHover,loneUnhover:k.loneUnhover},h.Snapshot=c(4511),h.PlotSchema=c(6281)},4255:function(f){f.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(f,h){h.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},h.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},h.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},h.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},h.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},h.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},6348:function(f,h,c){var g=c(4872),v=g.mod,y=g.modHalf,b=Math.PI,O=2*b;function C(U){return U/180*b}function k(U){return U/b*180}function w(U){return Math.abs(U[1]-U[0])>O-1e-14}function T(U,F){return y(F-U,O)}function R(U,F){return Math.abs(T(U,F))}function M(U,F){if(w(F))return!0;var B,E;F[0]<F[1]?(B=F[0],E=F[1]):(B=F[1],E=F[0]),B=v(B,O),E=v(E,O),B>E&&(E+=O);var W=v(U,O),X=W+O;return W>=B&&W<=E||X>=B&&X<=E}function I(U,F,B,E){if(!M(F,E))return!1;var W,X;return B[0]<B[1]?(W=B[0],X=B[1]):(W=B[1],X=B[0]),U>=W&&U<=X}function V(U,F,B,E,W,X,ie){W=W||0,X=X||0;var L=w([B,E]),me,ae,q,de,ee;L?(me=0,ae=b,q=O):B<E?(me=B,q=E):(me=E,q=B),U<F?(de=U,ee=F):(de=F,ee=U);function xe(ne,le){return[ne*Math.cos(le)+W,X-ne*Math.sin(le)]}var we=Math.abs(q-me)<=b?0:1;function Be(ne,le,Y){return"A"+[ne,ne]+" "+[0,we,Y]+" "+xe(ne,le)}var pe;return L?de===null?pe="M"+xe(ee,me)+Be(ee,ae,0)+Be(ee,q,0)+"Z":pe="M"+xe(de,me)+Be(de,ae,0)+Be(de,q,0)+"ZM"+xe(ee,me)+Be(ee,ae,1)+Be(ee,q,1)+"Z":de===null?(pe="M"+xe(ee,me)+Be(ee,q,0),ie&&(pe+="L0,0Z")):pe="M"+xe(de,me)+"L"+xe(ee,me)+Be(ee,q,0)+"L"+xe(de,q)+Be(de,me,1)+"Z",pe}function N(U,F,B,E,W){return V(null,U,F,B,E,W,0)}function Q(U,F,B,E,W){return V(null,U,F,B,E,W,1)}function z(U,F,B,E,W,X){return V(U,F,B,E,W,X,1)}f.exports={deg2rad:C,rad2deg:k,angleDelta:T,angleDist:R,isFullCircle:w,isAngleInsideSector:M,isPtInsideSector:I,pathArc:N,pathSector:Q,pathAnnulus:z}},3627:function(f,h){var c=Array.isArray,g=ArrayBuffer,v=DataView;function y(k){return g.isView(k)&&!(k instanceof v)}h.isTypedArray=y;function b(k){return c(k)||y(k)}h.isArrayOrTypedArray=b;function O(k){return!b(k[0])}h.isArray1D=O,h.ensureArray=function(k,w){return c(k)||(k=[]),k.length=w,k},h.concat=function(){var k=[],w=!0,T=0,R,M,I,V,N,Q,z,U;for(I=0;I<arguments.length;I++)V=arguments[I],Q=V.length,Q&&(M?k.push(V):(M=V,N=Q),c(V)?R=!1:(w=!1,T?R!==V.constructor&&(R=!1):R=V.constructor),T+=Q);if(!T)return[];if(!k.length)return M;if(w)return M.concat.apply(M,k);if(R){for(z=new R(T),z.set(M),I=0;I<k.length;I++)V=k[I],z.set(V,N),N+=V.length;return z}for(z=new Array(T),U=0;U<M.length;U++)z[U]=M[U];for(I=0;I<k.length;I++){for(V=k[I],U=0;U<V.length;U++)z[N+U]=V[U];N+=U}return z},h.maxRowLength=function(k){return C(k,Math.max,0)},h.minRowLength=function(k){return C(k,Math.min,1/0)};function C(k,w,T){if(b(k))if(b(k[0])){for(var R=T,M=0;M<k.length;M++)R=w(R,k[M].length);return R}else return k.length;return 0}},5218:function(f,h,c){var g=c(2770),v=c(606).BADNUM,y=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;f.exports=function(O){return typeof O=="string"&&(O=O.replace(y,"")),g(O)?Number(O):v}},3306:function(f){f.exports=function(c){var g=c._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(v){v.regl&&v.regl.clear({color:!0,depth:!0})})}},6367:function(f){f.exports=function(c){c._responsiveChartHandler&&(window.removeEventListener("resize",c._responsiveChartHandler),delete c._responsiveChartHandler)}},6554:function(f,h,c){var g=c(2770),v=c(4267),y=c(9012),b=c(3282),O=c(7901),C=c(7822).DESELECTDIM,k=c(5487),w=c(587).counter,T=c(4872).modHalf,R=c(3627).isArrayOrTypedArray;h.valObjectMeta={data_array:{coerceFunction:function(I,V,N){R(I)?V.set(I):N!==void 0&&V.set(N)}},enumerated:{coerceFunction:function(I,V,N,Q){Q.coerceNumber&&(I=+I),Q.values.indexOf(I)===-1?V.set(N):V.set(I)},validateFunction:function(I,V){V.coerceNumber&&(I=+I);for(var N=V.values,Q=0;Q<N.length;Q++){var z=String(N[Q]);if(z.charAt(0)==="/"&&z.charAt(z.length-1)==="/"){var U=new RegExp(z.substr(1,z.length-2));if(U.test(I))return!0}else if(I===N[Q])return!0}return!1}},boolean:{coerceFunction:function(I,V,N){I===!0||I===!1?V.set(I):V.set(N)}},number:{coerceFunction:function(I,V,N,Q){!g(I)||Q.min!==void 0&&I<Q.min||Q.max!==void 0&&I>Q.max?V.set(N):V.set(+I)}},integer:{coerceFunction:function(I,V,N,Q){I%1||!g(I)||Q.min!==void 0&&I<Q.min||Q.max!==void 0&&I>Q.max?V.set(N):V.set(+I)}},string:{coerceFunction:function(I,V,N,Q){if(typeof I!="string"){var z=typeof I=="number";Q.strict===!0||!z?V.set(N):V.set(String(I))}else Q.noBlank&&!I?V.set(N):V.set(I)}},color:{coerceFunction:function(I,V,N){v(I).isValid()?V.set(I):V.set(N)}},colorlist:{coerceFunction:function(I,V,N){function Q(z){return v(z).isValid()}!Array.isArray(I)||!I.length?V.set(N):I.every(Q)?V.set(I):V.set(N)}},colorscale:{coerceFunction:function(I,V,N){V.set(b.get(I,N))}},angle:{coerceFunction:function(I,V,N){I==="auto"?V.set("auto"):g(I)?V.set(T(+I,360)):V.set(N)}},subplotid:{coerceFunction:function(I,V,N,Q){var z=Q.regex||w(N);if(typeof I=="string"&&z.test(I)){V.set(I);return}V.set(N)},validateFunction:function(I,V){var N=V.dflt;return I===N?!0:typeof I!="string"?!1:!!w(N).test(I)}},flaglist:{coerceFunction:function(I,V,N,Q){if((Q.extras||[]).indexOf(I)!==-1){V.set(I);return}if(typeof I!="string"){V.set(N);return}for(var z=I.split("+"),U=0;U<z.length;){var F=z[U];Q.flags.indexOf(F)===-1||z.indexOf(F)<U?z.splice(U,1):U++}z.length?V.set(z.join("+")):V.set(N)}},any:{coerceFunction:function(I,V,N){I===void 0?V.set(N):V.set(I)}},info_array:{coerceFunction:function(I,V,N,Q){function z(xe,we,Be){var pe,ne={set:function(le){pe=le}};return Be===void 0&&(Be=we.dflt),h.valObjectMeta[we.valType].coerceFunction(xe,ne,Be,we),pe}var U=Q.dimensions===2||Q.dimensions==="1-2"&&Array.isArray(I)&&Array.isArray(I[0]);if(!Array.isArray(I)){V.set(N);return}var F=Q.items,B=[],E=Array.isArray(F),W=E&&U&&Array.isArray(F[0]),X=U&&E&&!W,ie=E&&!X?F.length:I.length,L,me,ae,q,de,ee;if(N=Array.isArray(N)?N:[],U)for(L=0;L<ie;L++)for(B[L]=[],ae=Array.isArray(I[L])?I[L]:[],X?de=F.length:E?de=F[L].length:de=ae.length,me=0;me<de;me++)X?q=F[me]:E?q=F[L][me]:q=F,ee=z(ae[me],q,(N[L]||[])[me]),ee!==void 0&&(B[L][me]=ee);else for(L=0;L<ie;L++)ee=z(I[L],E?F[L]:F,N[L]),ee!==void 0&&(B[L]=ee);V.set(B)},validateFunction:function(I,V){if(!Array.isArray(I))return!1;var N=V.items,Q=Array.isArray(N),z=V.dimensions===2;if(!V.freeLength&&I.length!==N.length)return!1;for(var U=0;U<I.length;U++)if(z){if(!Array.isArray(I[U])||!V.freeLength&&I[U].length!==N[U].length)return!1;for(var F=0;F<I[U].length;F++)if(!M(I[U][F],Q?N[U][F]:N))return!1}else if(!M(I[U],Q?N[U]:N))return!1;return!0}}},h.coerce=function(I,V,N,Q,z){var U=k(N,Q).get(),F=k(I,Q),B=k(V,Q),E=F.get(),W=V._template;if(E===void 0&&W&&(E=k(W,Q).get(),W=0),z===void 0&&(z=U.dflt),U.arrayOk&&R(E))return B.set(E),E;var X=h.valObjectMeta[U.valType].coerceFunction;X(E,B,z,U);var ie=B.get();return W&&ie===z&&!M(E,U)&&(E=k(W,Q).get(),X(E,B,z,U),ie=B.get()),ie},h.coerce2=function(I,V,N,Q,z){var U=k(I,Q),F=h.coerce(I,V,N,Q,z),B=U.get();return B!=null?F:!1},h.coerceFont=function(I,V,N){var Q={};return N=N||{},Q.family=I(V+".family",N.family),Q.size=I(V+".size",N.size),Q.color=I(V+".color",N.color),Q},h.coercePattern=function(I,V,N,Q){var z=I(V+".shape");if(z){I(V+".solidity"),I(V+".size");var U=I(V+".fillmode"),F=U==="overlay";if(!Q){var B=I(V+".bgcolor",F?N:void 0);I(V+".fgcolor",F?O.contrast(B):N)}I(V+".fgopacity",F?.5:1)}},h.coerceHoverinfo=function(I,V,N){var Q=V._module.attributes,z=Q.hoverinfo?Q:y,U=z.hoverinfo,F;if(N._dataLength===1){var B=U.dflt==="all"?U.flags.slice():U.dflt.split("+");B.splice(B.indexOf("name"),1),F=B.join("+")}return h.coerce(I,V,z,"hoverinfo",F)},h.coerceSelectionMarkerOpacity=function(I,V){if(I.marker){var N=I.marker.opacity;if(N!==void 0){var Q,z;!R(N)&&!I.selected&&!I.unselected&&(Q=N,z=C*N),V("selected.marker.opacity",Q),V("unselected.marker.opacity",z)}}};function M(I,V){var N=h.valObjectMeta[V.valType];if(V.arrayOk&&R(I))return!0;if(N.validateFunction)return N.validateFunction(I,V);var Q={},z=Q,U={set:function(F){z=F}};return N.coerceFunction(I,U,Q,V),z!==Q}h.validate=M},1631:function(f,h,c){var g=c(4096).i$,v=c(2770),y=c(7769),b=c(4872).mod,O=c(606),C=O.BADNUM,k=O.ONEDAY,w=O.ONEHOUR,T=O.ONEMIN,R=O.ONESEC,M=O.EPOCHJD,I=c(3972),V=c(4096).g0,N=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Q=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,z=new Date().getFullYear()-70;function U(pe){return pe&&I.componentsRegistry.calendars&&typeof pe=="string"&&pe!=="gregorian"}h.dateTick0=function(pe,ne){var le=F(pe,!!ne);if(ne<2)return le;var Y=h.dateTime2ms(le,pe);return Y+=k*(ne-1),h.ms2DateTime(Y,0,pe)};function F(pe,ne){return U(pe)?ne?I.getComponentMethod("calendars","CANONICAL_SUNDAY")[pe]:I.getComponentMethod("calendars","CANONICAL_TICK")[pe]:ne?"2000-01-02":"2000-01-01"}h.dfltRange=function(pe){return U(pe)?I.getComponentMethod("calendars","DFLTRANGE")[pe]:["2000-01-01","2001-01-01"]},h.isJSDate=function(pe){return typeof pe=="object"&&pe!==null&&typeof pe.getTime=="function"};var B,E;h.dateTime2ms=function(pe,ne){if(h.isJSDate(pe)){var le=pe.getTimezoneOffset()*T,Y=(pe.getUTCMinutes()-pe.getMinutes())*T+(pe.getUTCSeconds()-pe.getSeconds())*R+(pe.getUTCMilliseconds()-pe.getMilliseconds());if(Y){var ve=3*T;le=le-ve/2+b(Y-le+ve/2,ve)}return pe=Number(pe)-le,pe>=B&&pe<=E?pe:C}if(typeof pe!="string"&&typeof pe!="number")return C;pe=String(pe);var Oe=U(ne),Le=pe.charAt(0);Oe&&(Le==="G"||Le==="g")&&(pe=pe.substr(1),ne="");var Ce=Oe&&ne.substr(0,7)==="chinese",De=pe.match(Ce?Q:N);if(!De)return C;var Ve=De[1],_e=De[3]||"1",Ie=Number(De[5]||1),re=Number(De[7]||0),be=Number(De[9]||0),te=Number(De[11]||0);if(Oe){if(Ve.length===2)return C;Ve=Number(Ve);var se;try{var fe=I.getComponentMethod("calendars","getCal")(ne);if(Ce){var oe=_e.charAt(_e.length-1)==="i";_e=parseInt(_e,10),se=fe.newDate(Ve,fe.toMonthIndex(Ve,_e,oe),Ie)}else se=fe.newDate(Ve,Number(_e),Ie)}catch{return C}return se?(se.toJD()-M)*k+re*w+be*T+te*R:C}Ve.length===2?Ve=(Number(Ve)+2e3-z)%100+z:Ve=Number(Ve),_e-=1;var Se=new Date(Date.UTC(2e3,_e,Ie,re,be));return Se.setUTCFullYear(Ve),Se.getUTCMonth()!==_e||Se.getUTCDate()!==Ie?C:Se.getTime()+te*R},B=h.MIN_MS=h.dateTime2ms("-9999"),E=h.MAX_MS=h.dateTime2ms("9999-12-31 23:59:59.9999"),h.isDateTime=function(pe,ne){return h.dateTime2ms(pe,ne)!==C};function W(pe,ne){return String(pe+Math.pow(10,ne)).substr(1)}var X=90*k,ie=3*w,L=5*T;h.ms2DateTime=function(pe,ne,le){if(typeof pe!="number"||!(pe>=B&&pe<=E))return C;ne||(ne=0);var Y=Math.floor(b(pe+.05,1)*10),ve=Math.round(pe-Y/10),Oe,Le,Ce,De,Ve,_e;if(U(le)){var Ie=Math.floor(ve/k)+M,re=Math.floor(b(pe,k));try{Oe=I.getComponentMethod("calendars","getCal")(le).fromJD(Ie).formatDate("yyyy-mm-dd")}catch{Oe=V("G%Y-%m-%d")(new Date(ve))}if(Oe.charAt(0)==="-")for(;Oe.length<11;)Oe="-0"+Oe.substr(1);else for(;Oe.length<10;)Oe="0"+Oe;Le=ne<X?Math.floor(re/w):0,Ce=ne<X?Math.floor(re%w/T):0,De=ne<ie?Math.floor(re%T/R):0,Ve=ne<L?re%R*10+Y:0}else _e=new Date(ve),Oe=V("%Y-%m-%d")(_e),Le=ne<X?_e.getUTCHours():0,Ce=ne<X?_e.getUTCMinutes():0,De=ne<ie?_e.getUTCSeconds():0,Ve=ne<L?_e.getUTCMilliseconds()*10+Y:0;return me(Oe,Le,Ce,De,Ve)},h.ms2DateTimeLocal=function(pe){if(!(pe>=B+k&&pe<=E-k))return C;var ne=Math.floor(b(pe+.05,1)*10),le=new Date(Math.round(pe-ne/10)),Y=g("%Y-%m-%d")(le),ve=le.getHours(),Oe=le.getMinutes(),Le=le.getSeconds(),Ce=le.getUTCMilliseconds()*10+ne;return me(Y,ve,Oe,Le,Ce)};function me(pe,ne,le,Y,ve){if((ne||le||Y||ve)&&(pe+=" "+W(ne,2)+":"+W(le,2),(Y||ve)&&(pe+=":"+W(Y,2),ve))){for(var Oe=4;ve%10===0;)Oe-=1,ve/=10;pe+="."+W(ve,Oe)}return pe}h.cleanDate=function(pe,ne,le){if(pe===C)return ne;if(h.isJSDate(pe)||typeof pe=="number"&&isFinite(pe)){if(U(le))return y.error("JS Dates and milliseconds are incompatible with world calendars",pe),ne;if(pe=h.ms2DateTimeLocal(+pe),!pe&&ne!==void 0)return ne}else if(!h.isDateTime(pe,le))return y.error("unrecognized date",pe),ne;return pe};var ae=/%\d?f/g,q=/%h/g,de={1:"1",2:"1",3:"2",4:"2"};function ee(pe,ne,le,Y){pe=pe.replace(ae,function(Oe){var Le=Math.min(+Oe.charAt(1)||6,6),Ce=(ne/1e3%1+2).toFixed(Le).substr(2).replace(/0+$/,"")||"0";return Ce});var ve=new Date(Math.floor(ne+.05));if(pe=pe.replace(q,function(){return de[le("%q")(ve)]}),U(Y))try{pe=I.getComponentMethod("calendars","worldCalFmt")(pe,ne,Y)}catch{return"Invalid"}return le(pe)(ve)}var xe=[59,59.9,59.99,59.999,59.9999];function we(pe,ne){var le=b(pe+.05,k),Y=W(Math.floor(le/w),2)+":"+W(b(Math.floor(le/T),60),2);if(ne!=="M"){v(ne)||(ne=0);var ve=Math.min(b(pe/R,60),xe[ne]),Oe=(100+ve).toFixed(ne).substr(1);ne>0&&(Oe=Oe.replace(/0+$/,"").replace(/[\.]$/,"")),Y+=":"+Oe}return Y}h.formatDate=function(pe,ne,le,Y,ve,Oe){if(ve=U(ve)&&ve,!ne)if(le==="y")ne=Oe.year;else if(le==="m")ne=Oe.month;else if(le==="d")ne=Oe.dayMonth+`
`+Oe.year;else return we(pe,le)+`
`+ee(Oe.dayMonthYear,pe,Y,ve);return ee(ne,pe,Y,ve)};var Be=3*k;h.incrementMonth=function(pe,ne,le){le=U(le)&&le;var Y=b(pe,k);if(pe=Math.round(pe-Y),le)try{var ve=Math.round(pe/k)+M,Oe=I.getComponentMethod("calendars","getCal")(le),Le=Oe.fromJD(ve);return ne%12?Oe.add(Le,ne,"m"):Oe.add(Le,ne/12,"y"),(Le.toJD()-M)*k+Y}catch{y.error("invalid ms "+pe+" in calendar "+le)}var Ce=new Date(pe+Be);return Ce.setUTCMonth(Ce.getUTCMonth()+ne)+Y-Be},h.findExactDates=function(pe,ne){for(var le=0,Y=0,ve=0,Oe=0,Le,Ce,De=U(ne)&&I.getComponentMethod("calendars","getCal")(ne),Ve=0;Ve<pe.length;Ve++){if(Ce=pe[Ve],!v(Ce)){Oe++;continue}if(!(Ce%k))if(De)try{Le=De.fromJD(Ce/k+M),Le.day()===1?Le.month()===1?le++:Y++:ve++}catch{}else Le=new Date(Ce),Le.getUTCDate()===1?Le.getUTCMonth()===0?le++:Y++:ve++}Y+=le,ve+=Y;var _e=pe.length-Oe;return{exactYears:le/_e,exactMonths:Y/_e,exactDays:ve/_e}}},4401:function(f,h,c){var g=c(9898),v=c(7769),y=c(5657),b=c(9576);function O(z){var U;if(typeof z=="string"){if(U=document.getElementById(z),U===null)throw new Error("No DOM element with id '"+z+"' exists on the page.");return U}else if(z==null)throw new Error("DOM element provided is null or undefined");return z}function C(z){var U=g.select(z);return U.node()instanceof HTMLElement&&U.size()&&U.classed("js-plotly-plot")}function k(z){var U=z&&z.parentNode;U&&U.removeChild(z)}function w(z,U){T("global",z,U)}function T(z,U,F){var B="plotly.js-style-"+z,E=document.getElementById(B);E||(E=document.createElement("style"),E.setAttribute("id",B),E.appendChild(document.createTextNode("")),document.head.appendChild(E));var W=E.sheet;W.insertRule?W.insertRule(U+"{"+F+"}",0):W.addRule?W.addRule(U,F,0):v.warn("addStyleRule failed")}function R(z){var U="plotly.js-style-"+z,F=document.getElementById(U);F&&k(F)}function M(z){var U=V(z),F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return U.forEach(function(B){var E=I(B);if(E){var W=y.convertCssMatrix(E);F=b.multiply(F,F,W)}}),F}function I(z){var U=window.getComputedStyle(z,null),F=U.getPropertyValue("-webkit-transform")||U.getPropertyValue("-moz-transform")||U.getPropertyValue("-ms-transform")||U.getPropertyValue("-o-transform")||U.getPropertyValue("transform");return F==="none"?null:F.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(B){return+B})}function V(z){for(var U=[];N(z);)U.push(z),z=z.parentNode;return U}function N(z){return z&&(z instanceof Element||z instanceof HTMLElement)}function Q(z,U){return z&&U&&z.top===U.top&&z.left===U.left&&z.right===U.right&&z.bottom===U.bottom}f.exports={getGraphDiv:O,isPlotDiv:C,removeElement:k,addStyleRule:w,addRelatedStyleRule:T,deleteRelatedStyleRule:R,getFullTransformMatrix:M,getElementTransformMatrix:I,getElementAndAncestors:V,equalDomRects:Q}},1086:function(f,h,c){var g=c(5398).EventEmitter,v={init:function(y){if(y._ev instanceof g)return y;var b=new g,O=new g;return y._ev=b,y._internalEv=O,y.on=b.on.bind(b),y.once=b.once.bind(b),y.removeListener=b.removeListener.bind(b),y.removeAllListeners=b.removeAllListeners.bind(b),y._internalOn=O.on.bind(O),y._internalOnce=O.once.bind(O),y._removeInternalListener=O.removeListener.bind(O),y._removeAllInternalListeners=O.removeAllListeners.bind(O),y.emit=function(C,k){typeof jQuery<"u"&&jQuery(y).trigger(C,k),b.emit(C,k),O.emit(C,k)},y},triggerHandler:function(y,b,O){var C,k;typeof jQuery<"u"&&(C=jQuery(y).triggerHandler(b,O));var w=y._ev;if(!w)return C;var T=w._events[b];if(!T)return C;function R(I){if(I.listener){if(w.removeListener(b,I.listener),!I.fired)return I.fired=!0,I.listener.apply(w,[O])}else return I.apply(w,[O])}T=Array.isArray(T)?T:[T];var M;for(M=0;M<T.length-1;M++)R(T[M]);return k=R(T[M]),C!==void 0?C:k},purge:function(y){return delete y._ev,delete y.on,delete y.once,delete y.removeListener,delete y.removeAllListeners,delete y.emit,delete y._ev,delete y._internalEv,delete y._internalOn,delete y._internalOnce,delete y._removeInternalListener,delete y._removeAllInternalListeners,y}};f.exports=v},1426:function(f,h,c){var g=c(1965),v=Array.isArray;function y(O,C){var k,w;for(k=0;k<O.length;k++){if(w=O[k],w!==null&&typeof w=="object")return!1;w!==void 0&&(C[k]=w)}return!0}h.extendFlat=function(){return b(arguments,!1,!1,!1)},h.extendDeep=function(){return b(arguments,!0,!1,!1)},h.extendDeepAll=function(){return b(arguments,!0,!0,!1)},h.extendDeepNoArrays=function(){return b(arguments,!0,!1,!0)};function b(O,C,k,w){var T=O[0],R=O.length,M,I,V,N,Q,z,U;if(R===2&&v(T)&&v(O[1])&&T.length===0){if(U=y(O[1],T),U)return T;T.splice(0,T.length)}for(var F=1;F<R;F++){M=O[F];for(I in M)V=T[I],N=M[I],w&&v(N)?T[I]=N:C&&N&&(g(N)||(Q=v(N)))?(Q?(Q=!1,z=V&&v(V)?V:[]):z=V&&g(V)?V:{},T[I]=b([z,N],C,k,w)):(typeof N<"u"||k)&&(T[I]=N)}return T}},5744:function(f){f.exports=function(c){for(var g={},v=[],y=0,b=0;b<c.length;b++){var O=c[b];g[O]!==1&&(g[O]=1,v[y++]=O)}return v}},6756:function(f){f.exports=function(y){for(var b=g(y)?c:h,O=[],C=0;C<y.length;C++){var k=y[C];b(k)&&O.push(k)}return O};function h(v){return v.visible===!0}function c(v){var y=v[0].trace;return y.visible===!0&&y._length!==0}function g(v){return Array.isArray(v)&&Array.isArray(v[0])&&v[0][0]&&v[0][0].trace}},7642:function(f,h,c){var g=c(4872).mod;h.segmentsIntersect=v;function v(k,w,T,R,M,I,V,N){var Q=T-k,z=M-k,U=V-M,F=R-w,B=I-w,E=N-I,W=Q*E-U*F;if(W===0)return null;var X=(z*E-U*B)/W,ie=(z*F-Q*B)/W;return ie<0||ie>1||X<0||X>1?null:{x:k+Q*X,y:w+F*X}}h.segmentDistance=function(w,T,R,M,I,V,N,Q){if(v(w,T,R,M,I,V,N,Q))return 0;var z=R-w,U=M-T,F=N-I,B=Q-V,E=z*z+U*U,W=F*F+B*B,X=Math.min(y(z,U,E,I-w,V-T),y(z,U,E,N-w,Q-T),y(F,B,W,w-I,T-V),y(F,B,W,R-I,M-V));return Math.sqrt(X)};function y(k,w,T,R,M){var I=R*k+M*w;if(I<0)return R*R+M*M;if(I>T){var V=R-k,N=M-w;return V*V+N*N}else{var Q=R*w-M*k;return Q*Q/T}}var b,O,C;h.getTextLocation=function(w,T,R,M){if((w!==O||M!==C)&&(b={},O=w,C=M),b[R])return b[R];var I=w.getPointAtLength(g(R-M/2,T)),V=w.getPointAtLength(g(R+M/2,T)),N=Math.atan((V.y-I.y)/(V.x-I.x)),Q=w.getPointAtLength(g(R,T)),z=(Q.x*4+I.x+V.x)/6,U=(Q.y*4+I.y+V.y)/6,F={x:z,y:U,theta:N};return b[R]=F,F},h.clearLocationCache=function(){O=null},h.getVisibleSegment=function(w,T,R){var M=T.left,I=T.right,V=T.top,N=T.bottom,Q=0,z=w.getTotalLength(),U=z,F,B;function E(X){var ie=w.getPointAtLength(X);X===0?F=ie:X===z&&(B=ie);var L=ie.x<M?M-ie.x:ie.x>I?ie.x-I:0,me=ie.y<V?V-ie.y:ie.y>N?ie.y-N:0;return Math.sqrt(L*L+me*me)}for(var W=E(Q);W;){if(Q+=W+R,Q>U)return;W=E(Q)}for(W=E(U);W;){if(U-=W+R,Q>U)return;W=E(U)}return{min:Q,max:U,len:U-Q,total:z,isClosed:Q===0&&U===z&&Math.abs(F.x-B.x)<.1&&Math.abs(F.y-B.y)<.1}},h.findPointOnPath=function(w,T,R,M){M=M||{};for(var I=M.pathLength||w.getTotalLength(),V=M.tolerance||.001,N=M.iterationLimit||30,Q=w.getPointAtLength(0)[R]>w.getPointAtLength(I)[R]?-1:1,z=0,U=0,F=I,B,E,W;z<N;){if(B=(U+F)/2,E=w.getPointAtLength(B),W=E[R]-T,Math.abs(W)<V)return E;Q*W>0?F=B:U=B,z++}return E}},3389:function(f){f.exports=function(c){return c}},9240:function(f){f.exports=function(c,g){if(!g)return c;var v=1/Math.abs(g),y=v>1?(v*c+v*g)/v:c+g,b=String(y).length;if(b>16){var O=String(g).length,C=String(c).length;if(b>=C+O){var k=parseFloat(y).toPrecision(12);k.indexOf("e+")===-1&&(y=+k)}}return y}},1828:function(f,h,c){var g=c(9898),v=c(4096).g0,y=c(721).WU,b=c(2770),O=c(606),C=O.FP_SAFE,k=-C,w=O.BADNUM,T=f.exports={};T.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var R={};T.warnBadFormat=function(te){var se=String(te);R[se]||(R[se]=1,T.warn('encountered bad format: "'+se+'"'))},T.noFormat=function(te){return String(te)},T.numberFormat=function(te){var se;try{se=y(T.adjustFormat(te))}catch{return T.warnBadFormat(te),T.noFormat}return se},T.nestedProperty=c(5487),T.keyedContainer=c(6636),T.relativeAttr=c(6962),T.isPlainObject=c(1965),T.toLogRange=c(8163),T.relinkPrivateKeys=c(1332);var M=c(3627);T.isTypedArray=M.isTypedArray,T.isArrayOrTypedArray=M.isArrayOrTypedArray,T.isArray1D=M.isArray1D,T.ensureArray=M.ensureArray,T.concat=M.concat,T.maxRowLength=M.maxRowLength,T.minRowLength=M.minRowLength;var I=c(4872);T.mod=I.mod,T.modHalf=I.modHalf;var V=c(6554);T.valObjectMeta=V.valObjectMeta,T.coerce=V.coerce,T.coerce2=V.coerce2,T.coerceFont=V.coerceFont,T.coercePattern=V.coercePattern,T.coerceHoverinfo=V.coerceHoverinfo,T.coerceSelectionMarkerOpacity=V.coerceSelectionMarkerOpacity,T.validate=V.validate;var N=c(1631);T.dateTime2ms=N.dateTime2ms,T.isDateTime=N.isDateTime,T.ms2DateTime=N.ms2DateTime,T.ms2DateTimeLocal=N.ms2DateTimeLocal,T.cleanDate=N.cleanDate,T.isJSDate=N.isJSDate,T.formatDate=N.formatDate,T.incrementMonth=N.incrementMonth,T.dateTick0=N.dateTick0,T.dfltRange=N.dfltRange,T.findExactDates=N.findExactDates,T.MIN_MS=N.MIN_MS,T.MAX_MS=N.MAX_MS;var Q=c(5888);T.findBin=Q.findBin,T.sorterAsc=Q.sorterAsc,T.sorterDes=Q.sorterDes,T.distinctVals=Q.distinctVals,T.roundUp=Q.roundUp,T.sort=Q.sort,T.findIndexOfMin=Q.findIndexOfMin,T.sortObjectKeys=c(8607);var z=c(38);T.aggNums=z.aggNums,T.len=z.len,T.mean=z.mean,T.median=z.median,T.midRange=z.midRange,T.variance=z.variance,T.stdev=z.stdev,T.interp=z.interp;var U=c(5657);T.init2dArray=U.init2dArray,T.transposeRagged=U.transposeRagged,T.dot=U.dot,T.translationMatrix=U.translationMatrix,T.rotationMatrix=U.rotationMatrix,T.rotationXYMatrix=U.rotationXYMatrix,T.apply3DTransform=U.apply3DTransform,T.apply2DTransform=U.apply2DTransform,T.apply2DTransform2=U.apply2DTransform2,T.convertCssMatrix=U.convertCssMatrix,T.inverseTransformMatrix=U.inverseTransformMatrix;var F=c(6348);T.deg2rad=F.deg2rad,T.rad2deg=F.rad2deg,T.angleDelta=F.angleDelta,T.angleDist=F.angleDist,T.isFullCircle=F.isFullCircle,T.isAngleInsideSector=F.isAngleInsideSector,T.isPtInsideSector=F.isPtInsideSector,T.pathArc=F.pathArc,T.pathSector=F.pathSector,T.pathAnnulus=F.pathAnnulus;var B=c(9863);T.isLeftAnchor=B.isLeftAnchor,T.isCenterAnchor=B.isCenterAnchor,T.isRightAnchor=B.isRightAnchor,T.isTopAnchor=B.isTopAnchor,T.isMiddleAnchor=B.isMiddleAnchor,T.isBottomAnchor=B.isBottomAnchor;var E=c(7642);T.segmentsIntersect=E.segmentsIntersect,T.segmentDistance=E.segmentDistance,T.getTextLocation=E.getTextLocation,T.clearLocationCache=E.clearLocationCache,T.getVisibleSegment=E.getVisibleSegment,T.findPointOnPath=E.findPointOnPath;var W=c(1426);T.extendFlat=W.extendFlat,T.extendDeep=W.extendDeep,T.extendDeepAll=W.extendDeepAll,T.extendDeepNoArrays=W.extendDeepNoArrays;var X=c(7769);T.log=X.log,T.warn=X.warn,T.error=X.error;var ie=c(587);T.counterRegex=ie.counter;var L=c(9990);T.throttle=L.throttle,T.throttleDone=L.done,T.clearThrottle=L.clear;var me=c(4401);T.getGraphDiv=me.getGraphDiv,T.isPlotDiv=me.isPlotDiv,T.removeElement=me.removeElement,T.addStyleRule=me.addStyleRule,T.addRelatedStyleRule=me.addRelatedStyleRule,T.deleteRelatedStyleRule=me.deleteRelatedStyleRule,T.getFullTransformMatrix=me.getFullTransformMatrix,T.getElementTransformMatrix=me.getElementTransformMatrix,T.getElementAndAncestors=me.getElementAndAncestors,T.equalDomRects=me.equalDomRects,T.clearResponsive=c(6367),T.preserveDrawingBuffer=c(5142),T.makeTraceGroups=c(7310),T._=c(5867),T.notifier=c(5046),T.filterUnique=c(5744),T.filterVisible=c(6756),T.pushUnique=c(5138),T.increment=c(9240),T.cleanNumber=c(5218),T.ensureNumber=function(se){return b(se)?(se=Number(se),se>C||se<k?w:se):w},T.isIndex=function(te,se){return se!==void 0&&te>=se?!1:b(te)&&te>=0&&te%1===0},T.noop=c(4213),T.identity=c(3389),T.repeat=function(te,se){for(var fe=new Array(se),oe=0;oe<se;oe++)fe[oe]=te;return fe},T.swapAttrs=function(te,se,fe,oe){fe||(fe="x"),oe||(oe="y");for(var Se=0;Se<se.length;Se++){var ce=se[Se],ke=T.nestedProperty(te,ce.replace("?",fe)),Qe=T.nestedProperty(te,ce.replace("?",oe)),Ze=ke.get();ke.set(Qe.get()),Qe.set(Ze)}},T.raiseToTop=function(se){se.parentNode.appendChild(se)},T.cancelTransition=function(te){return te.transition().duration(0)},T.constrain=function(te,se,fe){return se>fe?Math.max(fe,Math.min(se,te)):Math.max(se,Math.min(fe,te))},T.bBoxIntersect=function(te,se,fe){return fe=fe||0,te.left<=se.right+fe&&se.left<=te.right+fe&&te.top<=se.bottom+fe&&se.top<=te.bottom+fe},T.simpleMap=function(te,se,fe,oe,Se){for(var ce=te.length,ke=new Array(ce),Qe=0;Qe<ce;Qe++)ke[Qe]=se(te[Qe],fe,oe,Se);return ke},T.randstr=function te(se,fe,oe,Se){if(oe||(oe=16),fe===void 0&&(fe=24),fe<=0)return"0";var ce=Math.log(Math.pow(2,fe))/Math.log(oe),ke="",Qe,Ze,Xe;for(Qe=2;ce===1/0;Qe*=2)ce=Math.log(Math.pow(2,fe/Qe))/Math.log(oe)*Qe;var ct=ce-Math.floor(ce);for(Qe=0;Qe<Math.floor(ce);Qe++)Xe=Math.floor(Math.random()*oe).toString(oe),ke=Xe+ke;ct&&(Ze=Math.pow(oe,ct),Xe=Math.floor(Math.random()*Ze).toString(oe),ke=Xe+ke);var pt=parseInt(ke,oe);return se&&se[ke]||pt!==1/0&&pt>=Math.pow(2,fe)?Se>10?(T.warn("randstr failed uniqueness"),ke):te(se,fe,oe,(Se||0)+1):ke},T.OptionControl=function(te,se){te||(te={}),se||(se="opt");var fe={};return fe.optionList=[],fe._newoption=function(oe){oe[se]=te,fe[oe.name]=oe,fe.optionList.push(oe)},fe["_"+se]=te,fe},T.smooth=function(te,se){if(se=Math.round(se)||0,se<2)return te;var fe=te.length,oe=2*fe,Se=2*se-1,ce=new Array(Se),ke=new Array(fe),Qe,Ze,Xe,ct;for(Qe=0;Qe<Se;Qe++)ce[Qe]=(1-Math.cos(Math.PI*(Qe+1)/se))/(2*se);for(Qe=0;Qe<fe;Qe++){for(ct=0,Ze=0;Ze<Se;Ze++)Xe=Qe+Ze+1-se,Xe<-fe?Xe-=oe*Math.round(Xe/oe):Xe>=oe&&(Xe-=oe*Math.floor(Xe/oe)),Xe<0?Xe=-1-Xe:Xe>=fe&&(Xe=oe-1-Xe),ct+=te[Xe]*ce[Ze];ke[Qe]=ct}return ke},T.syncOrAsync=function(te,se,fe){var oe,Se;function ce(){return T.syncOrAsync(te,se,fe)}for(;te.length;)if(Se=te.splice(0,1)[0],oe=Se(se),oe&&oe.then)return oe.then(ce);return fe&&fe(se)},T.stripTrailingSlash=function(te){return te.substr(-1)==="/"?te.substr(0,te.length-1):te},T.noneOrAll=function(te,se,fe){if(te){var oe=!1,Se=!0,ce,ke;for(ce=0;ce<fe.length;ce++)ke=te[fe[ce]],ke!=null?oe=!0:Se=!1;if(oe&&!Se)for(ce=0;ce<fe.length;ce++)te[fe[ce]]=se[fe[ce]]}},T.mergeArray=function(te,se,fe,oe){var Se=typeof oe=="function";if(T.isArrayOrTypedArray(te))for(var ce=Math.min(te.length,se.length),ke=0;ke<ce;ke++){var Qe=te[ke];se[ke][fe]=Se?oe(Qe):Qe}},T.mergeArrayCastPositive=function(te,se,fe){return T.mergeArray(te,se,fe,function(oe){var Se=+oe;return isFinite(Se)&&Se>0?Se:0})},T.fillArray=function(te,se,fe,oe){if(oe=oe||T.identity,T.isArrayOrTypedArray(te))for(var Se=0;Se<se.length;Se++)se[Se][fe]=oe(te[Se])},T.castOption=function(te,se,fe,oe){oe=oe||T.identity;var Se=T.nestedProperty(te,fe).get();return T.isArrayOrTypedArray(Se)?Array.isArray(se)&&T.isArrayOrTypedArray(Se[se[0]])?oe(Se[se[0]][se[1]]):oe(Se[se]):Se},T.extractOption=function(te,se,fe,oe){if(fe in te)return te[fe];var Se=T.nestedProperty(se,oe).get();if(!Array.isArray(Se))return Se};function ae(te){var se={};for(var fe in te)for(var oe=te[fe],Se=0;Se<oe.length;Se++)se[oe[Se]]=+fe;return se}T.tagSelected=function(te,se,fe){var oe=se.selectedpoints,Se=se._indexToPoints,ce;Se&&(ce=ae(Se));function ke(pt){return pt!==void 0&&pt<te.length}for(var Qe=0;Qe<oe.length;Qe++){var Ze=oe[Qe];if(T.isIndex(Ze)||T.isArrayOrTypedArray(Ze)&&T.isIndex(Ze[0])&&T.isIndex(Ze[1])){var Xe=ce?ce[Ze]:Ze,ct=fe?fe[Xe]:Xe;ke(ct)&&(te[ct].selected=1)}}},T.selIndices2selPoints=function(te){var se=te.selectedpoints,fe=te._indexToPoints;if(fe){for(var oe=ae(fe),Se=[],ce=0;ce<se.length;ce++){var ke=se[ce];if(T.isIndex(ke)){var Qe=oe[ke];T.isIndex(Qe)&&Se.push(Qe)}}return Se}else return se},T.getTargetArray=function(te,se){var fe=se.target;if(typeof fe=="string"&&fe){var oe=T.nestedProperty(te,fe).get();return Array.isArray(oe)?oe:!1}else if(Array.isArray(fe))return fe;return!1};function q(te,se,fe){var oe={};typeof se!="object"&&(se={});var Se=fe==="pieLike"?-1:3,ce=Object.keys(te),ke,Qe,Ze;for(ke=0;ke<ce.length;ke++)Qe=ce[ke],Ze=te[Qe],!(Qe.charAt(0)==="_"||typeof Ze=="function")&&(Qe==="module"?oe[Qe]=Ze:Array.isArray(Ze)?Qe==="colorscale"||Se===-1?oe[Qe]=Ze.slice():oe[Qe]=Ze.slice(0,Se):T.isTypedArray(Ze)?Se===-1?oe[Qe]=Ze.subarray():oe[Qe]=Ze.subarray(0,Se):Ze&&typeof Ze=="object"?oe[Qe]=q(te[Qe],se[Qe],fe):oe[Qe]=Ze);for(ce=Object.keys(se),ke=0;ke<ce.length;ke++)Qe=ce[ke],Ze=se[Qe],(typeof Ze!="object"||!(Qe in oe)||typeof oe[Qe]!="object")&&(oe[Qe]=Ze);return oe}T.minExtend=q,T.titleCase=function(te){return te.charAt(0).toUpperCase()+te.substr(1)},T.containsAny=function(te,se){for(var fe=0;fe<se.length;fe++)if(te.indexOf(se[fe])!==-1)return!0;return!1},T.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var de=/Version\/[\d\.]+.*Safari/;T.isSafari=function(){return de.test(window.navigator.userAgent)};var ee=/iPad|iPhone|iPod/;T.isIOS=function(){return ee.test(window.navigator.userAgent)};var xe=/Firefox\/(\d+)\.\d+/;T.getFirefoxVersion=function(){var te=xe.exec(window.navigator.userAgent);if(te&&te.length===2){var se=parseInt(te[1]);if(!isNaN(se))return se}return null},T.isD3Selection=function(te){return te instanceof g.selection},T.ensureSingle=function(te,se,fe,oe){var Se=te.select(se+(fe?"."+fe:""));if(Se.size())return Se;var ce=te.append(se);return fe&&ce.classed(fe,!0),oe&&ce.call(oe),ce},T.ensureSingleById=function(te,se,fe,oe){var Se=te.select(se+"#"+fe);if(Se.size())return Se;var ce=te.append(se).attr("id",fe);return oe&&ce.call(oe),ce},T.objectFromPath=function(te,se){for(var fe=te.split("."),oe,Se=oe={},ce=0;ce<fe.length;ce++){var ke=fe[ce],Qe=null,Ze=fe[ce].match(/(.*)\[([0-9]+)\]/);Ze?(ke=Ze[1],Qe=Ze[2],oe=oe[ke]=[],ce===fe.length-1?oe[Qe]=se:oe[Qe]={},oe=oe[Qe]):(ce===fe.length-1?oe[ke]=se:oe[ke]={},oe=oe[ke])}return Se};var we=/^([^\[\.]+)\.(.+)?/,Be=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function pe(te){return te.slice(0,2)==="__"}T.expandObjectPaths=function(te){var se,fe,oe,Se,ce,ke,Qe;if(typeof te=="object"&&!Array.isArray(te)){for(fe in te)if(te.hasOwnProperty(fe))if(se=fe.match(we)){if(Se=te[fe],oe=se[1],pe(oe))continue;delete te[fe],te[oe]=T.extendDeepNoArrays(te[oe]||{},T.objectFromPath(fe,T.expandObjectPaths(Se))[oe])}else if(se=fe.match(Be)){if(Se=te[fe],oe=se[1],pe(oe))continue;if(ce=parseInt(se[2]),delete te[fe],te[oe]=te[oe]||[],se[3]===".")Qe=se[4],ke=te[oe][ce]=te[oe][ce]||{},T.extendDeepNoArrays(ke,T.objectFromPath(Qe,T.expandObjectPaths(Se)));else{if(pe(oe))continue;te[oe][ce]=T.expandObjectPaths(Se)}}else{if(pe(fe))continue;te[fe]=T.expandObjectPaths(te[fe])}}return te},T.numSeparate=function(te,se,fe){if(fe||(fe=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof te=="number"&&(te=String(te));var oe=/(\d+)(\d{3})/,Se=se.charAt(0),ce=se.charAt(1),ke=te.split("."),Qe=ke[0],Ze=ke.length>1?Se+ke[1]:"";if(ce&&(ke.length>1||Qe.length>4||fe))for(;oe.test(Qe);)Qe=Qe.replace(oe,"$1"+ce+"$2");return Qe+Ze},T.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ne=/^\w*$/;T.templateString=function(te,se){var fe={};return te.replace(T.TEMPLATE_STRING_REGEX,function(oe,Se){var ce;return ne.test(Se)?ce=se[Se]:(fe[Se]=fe[Se]||T.nestedProperty(se,Se).get,ce=fe[Se]()),T.isValidTextValue(ce)?ce:""})};var le={max:10,count:0,name:"hovertemplate"};T.hovertemplateString=function(){return De.apply(le,arguments)};var Y={max:10,count:0,name:"texttemplate"};T.texttemplateString=function(){return De.apply(Y,arguments)};var ve=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Oe(te){var se=te.match(ve);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:te,op:null,number:null}}var Le={max:10,count:0,name:"texttemplate",parseMultDiv:!0};T.texttemplateStringForShapes=function(){return De.apply(Le,arguments)};var Ce=/^[:|\|]/;function De(te,se,fe){var oe=this,Se=arguments;se||(se={});var ce={};return te.replace(T.TEMPLATE_STRING_REGEX,function(ke,Qe,Ze){var Xe=Qe==="xother"||Qe==="yother",ct=Qe==="_xother"||Qe==="_yother",pt=Qe==="_xother_"||Qe==="_yother_",Ye=Qe==="xother_"||Qe==="yother_",je=Xe||ct||Ye||pt,et=Qe;(ct||pt)&&(et=et.substring(1)),(Ye||pt)&&(et=et.substring(0,et.length-1));var yt=null,ft=null;if(oe.parseMultDiv){var tt=Oe(et);et=tt.key,yt=tt.op,ft=tt.number}var wt;if(je){if(wt=se[et],wt===void 0)return""}else{var Xt,Gt;for(Gt=3;Gt<Se.length;Gt++)if(Xt=Se[Gt],!!Xt){if(Xt.hasOwnProperty(et)){wt=Xt[et];break}if(ne.test(et)||(wt=T.nestedProperty(Xt,et).get(),wt=ce[et]||T.nestedProperty(Xt,et).get(),wt&&(ce[et]=wt)),wt!==void 0)break}}if(wt!==void 0&&(yt==="*"&&(wt*=ft),yt==="/"&&(wt/=ft)),wt===void 0&&oe)return oe.count<oe.max&&(T.warn("Variable '"+et+"' in "+oe.name+" could not be found!"),wt=ke),oe.count===oe.max&&T.warn("Too many "+oe.name+" warnings - additional warnings will be suppressed"),oe.count++,ke;if(Ze){var Nt;if(Ze[0]===":"&&(Nt=fe?fe.numberFormat:T.numberFormat,wt=Nt(Ze.replace(Ce,""))(wt)),Ze[0]==="|"){Nt=fe?fe.timeFormat:v;var Bt=T.dateTime2ms(wt);wt=T.formatDate(Bt,Ze.replace(Ce,""),!1,Nt)}}else{var vn=et+"Label";se.hasOwnProperty(vn)&&(wt=se[vn])}return je&&(wt="("+wt+")",(ct||pt)&&(wt=" "+wt),(Ye||pt)&&(wt=wt+" ")),wt})}var Ve=48,_e=57;T.subplotSort=function(te,se){for(var fe=Math.min(te.length,se.length)+1,oe=0,Se=0,ce=0;ce<fe;ce++){var ke=te.charCodeAt(ce)||0,Qe=se.charCodeAt(ce)||0,Ze=ke>=Ve&&ke<=_e,Xe=Qe>=Ve&&Qe<=_e;if(Ze&&(oe=10*oe+ke-Ve),Xe&&(Se=10*Se+Qe-Ve),!Ze||!Xe){if(oe!==Se)return oe-Se;if(ke!==Qe)return ke-Qe}}return Se-oe};var Ie=2e9;T.seedPseudoRandom=function(){Ie=2e9},T.pseudoRandom=function(){var te=Ie;return Ie=(69069*Ie+1)%4294967296,Math.abs(Ie-te)<429496729?T.pseudoRandom():Ie/4294967296},T.fillText=function(te,se,fe){var oe=Array.isArray(fe)?function(ke){fe.push(ke)}:function(ke){fe.text=ke},Se=T.extractOption(te,se,"htx","hovertext");if(T.isValidTextValue(Se))return oe(Se);var ce=T.extractOption(te,se,"tx","text");if(T.isValidTextValue(ce))return oe(ce)},T.isValidTextValue=function(te){return te||te===0},T.formatPercent=function(te,se){se=se||0;for(var fe=(Math.round(100*te*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",oe=0;oe<se;oe++)fe.indexOf(".")!==-1&&(fe=fe.replace("0%","%"),fe=fe.replace(".%","%"));return fe},T.isHidden=function(te){var se=window.getComputedStyle(te).display;return!se||se==="none"},T.strTranslate=function(te,se){return te||se?"translate("+te+","+se+")":""},T.strRotate=function(te){return te?"rotate("+te+")":""},T.strScale=function(te){return te!==1?"scale("+te+")":""},T.getTextTransform=function(te){var se=te.noCenter,fe=te.textX,oe=te.textY,Se=te.targetX,ce=te.targetY,ke=te.anchorX||0,Qe=te.anchorY||0,Ze=te.rotate,Xe=te.scale;return Xe?Xe>1&&(Xe=1):Xe=0,T.strTranslate(Se-Xe*(fe+ke),ce-Xe*(oe+Qe))+T.strScale(Xe)+(Ze?"rotate("+Ze+(se?"":" "+fe+" "+oe)+")":"")},T.setTransormAndDisplay=function(te,se){te.attr("transform",T.getTextTransform(se)),te.style("display",se.scale?null:"none")},T.ensureUniformFontSize=function(te,se){var fe=T.extendFlat({},se);return fe.size=Math.max(se.size,te._fullLayout.uniformtext.minsize||0),fe},T.join2=function(te,se,fe){var oe=te.length;return oe>1?te.slice(0,-1).join(se)+fe+te[oe-1]:te.join(se)},T.bigFont=function(te){return Math.round(1.2*te)};var re=T.getFirefoxVersion(),be=re!==null&&re<86;T.getPositionFromD3Event=function(){return be?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},1965:function(f){f.exports=function(c){return window&&window.process&&window.process.versions?Object.prototype.toString.call(c)==="[object Object]":Object.prototype.toString.call(c)==="[object Object]"&&Object.getPrototypeOf(c).hasOwnProperty("hasOwnProperty")}},6636:function(f,h,c){var g=c(5487),v=/^\w*$/,y=0,b=1,O=2,C=3,k=4;f.exports=function(T,R,M,I){M=M||"name",I=I||"value";var V,N,Q,z={};R&&R.length?(Q=g(T,R),N=Q.get()):N=T,R=R||"";var U={};if(N)for(V=0;V<N.length;V++)U[N[V][M]]=V;var F=v.test(I),B={set:function(E,W){var X=W===null?k:y;if(!N){if(!Q||X===k)return;N=[],Q.set(N)}var ie=U[E];if(ie===void 0){if(X===k)return;X=X|C,ie=N.length,U[E]=ie}else W!==(F?N[ie][I]:g(N[ie],I).get())&&(X=X|O);var L=N[ie]=N[ie]||{};return L[M]=E,F?L[I]=W:g(L,I).set(W),W!==null&&(X=X&~k),z[ie]=z[ie]|X,B},get:function(E){if(N){var W=U[E];if(W!==void 0)return F?N[W][I]:g(N[W],I).get()}},rename:function(E,W){var X=U[E];return X===void 0||(z[X]=z[X]|b,U[W]=X,delete U[E],N[X][M]=W),B},remove:function(E){var W=U[E];if(W===void 0)return B;var X=N[W];if(Object.keys(X).length>2)return z[W]=z[W]|O,B.set(E,null);if(F){for(V=W;V<N.length;V++)z[V]=z[V]|C;for(V=W;V<N.length;V++)U[N[V][M]]--;N.splice(W,1),delete U[E]}else g(X,I).set(null),z[W]=z[W]|O|k;return B},constructUpdate:function(){for(var E,W,X={},ie=Object.keys(z),L=0;L<ie.length;L++)W=ie[L],E=R+"["+W+"]",N[W]?(z[W]&b&&(X[E+"."+M]=N[W][M]),z[W]&O&&(F?X[E+"."+I]=z[W]&k?null:N[W][I]:X[E+"."+I]=z[W]&k?null:g(N[W],I).get())):X[E]=null;return X}};return B}},5867:function(f,h,c){var g=c(3972);f.exports=function(y,b){for(var O=y._context.locale,C=0;C<2;C++){for(var k=y._context.locales,w=0;w<2;w++){var T=(k[O]||{}).dictionary;if(T){var R=T[b];if(R)return R}k=g.localeRegistry}var M=O.split("-")[0];if(M===O)break;O=M}return b}},7769:function(f,h,c){var g=c(2075).dfltConfig,v=c(5046),y=f.exports={};y.log=function(){var b;if(g.logging>1){var O=["LOG:"];for(b=0;b<arguments.length;b++)O.push(arguments[b]);console.trace.apply(console,O)}if(g.notifyOnLogging>1){var C=[];for(b=0;b<arguments.length;b++)C.push(arguments[b]);v(C.join("<br>"),"long")}},y.warn=function(){var b;if(g.logging>0){var O=["WARN:"];for(b=0;b<arguments.length;b++)O.push(arguments[b]);console.trace.apply(console,O)}if(g.notifyOnLogging>0){var C=[];for(b=0;b<arguments.length;b++)C.push(arguments[b]);v(C.join("<br>"),"stick")}},y.error=function(){var b;if(g.logging>0){var O=["ERROR:"];for(b=0;b<arguments.length;b++)O.push(arguments[b]);console.error.apply(console,O)}if(g.notifyOnLogging>0){var C=[];for(b=0;b<arguments.length;b++)C.push(arguments[b]);v(C.join("<br>"),"stick")}}},7310:function(f,h,c){var g=c(9898);f.exports=function(y,b,O){var C=y.selectAll("g."+O.replace(/\s/g,".")).data(b,function(w){return w[0].trace.uid});C.exit().remove(),C.enter().append("g").attr("class",O),C.order();var k=y.classed("rangeplot")?"nodeRangePlot3":"node3";return C.each(function(w){w[0][k]=g.select(this)}),C}},5657:function(f,h,c){var g=c(9576);h.init2dArray=function(v,y){for(var b=new Array(v),O=0;O<v;O++)b[O]=new Array(y);return b},h.transposeRagged=function(v){var y=0,b=v.length,O,C;for(O=0;O<b;O++)y=Math.max(y,v[O].length);var k=new Array(y);for(O=0;O<y;O++)for(k[O]=new Array(b),C=0;C<b;C++)k[O][C]=v[C][O];return k},h.dot=function(v,y){if(!(v.length&&y.length)||v.length!==y.length)return null;var b=v.length,O,C;if(v[0].length)for(O=new Array(b),C=0;C<b;C++)O[C]=h.dot(v[C],y);else if(y[0].length){var k=h.transposeRagged(y);for(O=new Array(k.length),C=0;C<k.length;C++)O[C]=h.dot(v,k[C])}else for(O=0,C=0;C<b;C++)O+=v[C]*y[C];return O},h.translationMatrix=function(v,y){return[[1,0,v],[0,1,y],[0,0,1]]},h.rotationMatrix=function(v){var y=v*Math.PI/180;return[[Math.cos(y),-Math.sin(y),0],[Math.sin(y),Math.cos(y),0],[0,0,1]]},h.rotationXYMatrix=function(v,y,b){return h.dot(h.dot(h.translationMatrix(y,b),h.rotationMatrix(v)),h.translationMatrix(-y,-b))},h.apply3DTransform=function(v){return function(){var y=arguments,b=arguments.length===1?y[0]:[y[0],y[1],y[2]||0];return h.dot(v,[b[0],b[1],b[2],1]).slice(0,3)}},h.apply2DTransform=function(v){return function(){var y=arguments;y.length===3&&(y=y[0]);var b=arguments.length===1?y[0]:[y[0],y[1]];return h.dot(v,[b[0],b[1],1]).slice(0,2)}},h.apply2DTransform2=function(v){var y=h.apply2DTransform(v);return function(b){return y(b.slice(0,2)).concat(y(b.slice(2,4)))}},h.convertCssMatrix=function(v){if(v){var y=v.length;if(y===16)return v;if(y===6)return[v[0],v[1],0,0,v[2],v[3],0,0,0,0,1,0,v[4],v[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},h.inverseTransformMatrix=function(v){var y=[];return g.invert(y,v),[[y[0],y[1],y[2],y[3]],[y[4],y[5],y[6],y[7]],[y[8],y[9],y[10],y[11]],[y[12],y[13],y[14],y[15]]]}},4872:function(f){function h(g,v){var y=g%v;return y<0?y+v:y}function c(g,v){return Math.abs(g)>v/2?g-Math.round(g/v)*v:g}f.exports={mod:h,modHalf:c}},5487:function(f,h,c){var g=c(2770),v=c(3627).isArrayOrTypedArray;f.exports=function(I,V){if(g(V))V=String(V);else if(typeof V!="string"||V.substr(V.length-4)==="[-1]")throw"bad property string";var N=V.split("."),Q,z,U,F;for(F=0;F<N.length;F++)if(String(N[F]).slice(0,2)==="__")throw"bad property string";for(F=0;F<N.length;){if(Q=String(N[F]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),Q){if(Q[1])N[F]=Q[1];else if(F===0)N.splice(0,1);else throw"bad property string";for(z=Q[2].substr(1,Q[2].length-2).split("]["),U=0;U<z.length;U++)F++,N.splice(F,0,Number(z[U]))}F++}return typeof I!="object"?R(I,V,N):{set:C(I,N,V),get:y(I,N),astr:V,parts:N,obj:I}};function y(M,I){return function(){var V=M,N,Q,z,U,F;for(U=0;U<I.length-1;U++){if(N=I[U],N===-1){for(Q=!0,z=[],F=0;F<V.length;F++)z[F]=y(V[F],I.slice(U+1))(),z[F]!==z[0]&&(Q=!1);return Q?z[0]:z}if(typeof N=="number"&&!v(V)||(V=V[N],typeof V!="object"||V===null))return}if(!(typeof V!="object"||V===null)&&(z=V[I[U]],z!==null))return z}}var b=/(^|\.)args\[/;function O(M,I){return M===void 0||M===null&&!I.match(b)}function C(M,I,V){return function(N){var Q=M,z="",U=O(N,V),F,B;for(B=0;B<I.length-1;B++){if(F=I[B],typeof F=="number"&&!v(Q))throw"array index but container is not an array";if(F===-1){if(U=!w(Q,I.slice(B+1),N,V),U)break;return}if(!T(Q,F,I[B+1],U))break;if(Q=Q[F],typeof Q!="object"||Q===null)throw"container is not an object";z=k(z,F)}if(U){if(B===I.length-1&&(delete Q[I[B]],Array.isArray(Q)&&+I[B]===Q.length-1))for(;Q.length&&Q[Q.length-1]===void 0;)Q.pop()}else Q[I[B]]=N}}function k(M,I){var V=I;return g(I)?V="["+I+"]":M&&(V="."+I),M+V}function w(M,I,V,N){var Q=v(V),z=!0,U=V,F=N.replace("-1",0),B=Q?!1:O(V,F),E=I[0],W;for(W=0;W<M.length;W++)F=N.replace("-1",W),Q&&(U=V[W%V.length],B=O(U,F)),B&&(z=!1),T(M,W,E,B)&&C(M[W],I,N.replace("-1",W))(U);return z}function T(M,I,V,N){if(M[I]===void 0){if(N)return!1;typeof V=="number"?M[I]=[]:M[I]={}}return!0}function R(M,I,V){return{set:function(){throw"bad container"},get:function(){},astr:I,parts:V,obj:M}}},4213:function(f){f.exports=function(){}},5046:function(f,h,c){var g=c(9898),v=c(2770),y=[];f.exports=function(b,O){if(y.indexOf(b)!==-1)return;y.push(b);var C=1e3;v(O)?C=O:O==="long"&&(C=3e3);var k=g.select("body").selectAll(".plotly-notifier").data([0]);k.enter().append("div").classed("plotly-notifier",!0);var w=k.selectAll(".notifier-note").data(y);function T(R){R.duration(700).style("opacity",0).each("end",function(M){var I=y.indexOf(M);I!==-1&&y.splice(I,1),g.select(this).remove()})}w.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(R){var M=g.select(this);M.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){M.transition().call(T)});for(var I=M.append("p"),V=R.split(/<br\s*\/?>/g),N=0;N<V.length;N++)N&&I.append("br"),I.append("span").text(V[N]);O==="stick"?M.transition().duration(350).style("opacity",1):M.transition().duration(700).style("opacity",1).transition().delay(C).call(T)})}},9918:function(f,h,c){var g=c(6964),v="data-savedcursor",y="!!";f.exports=function(O,C){var k=O.attr(v);if(C){if(!k){for(var w=(O.attr("class")||"").split(" "),T=0;T<w.length;T++){var R=w[T];R.indexOf("cursor-")===0&&O.attr(v,R.substr(7)).classed(R,!1)}O.attr(v)||O.attr(v,y)}g(O,C)}else k&&(O.attr(v,null),k===y?g(O):g(O,k))}},1082:function(f,h,c){var g=c(5657).dot,v=c(606).BADNUM,y=f.exports={};y.tester=function(O){var C=O.slice(),k=C[0][0],w=k,T=C[0][1],R=T,M;for((C[C.length-1][0]!==C[0][0]||C[C.length-1][1]!==C[0][1])&&C.push(C[0]),M=1;M<C.length;M++)k=Math.min(k,C[M][0]),w=Math.max(w,C[M][0]),T=Math.min(T,C[M][1]),R=Math.max(R,C[M][1]);var I=!1,V;C.length===5&&(C[0][0]===C[1][0]?C[2][0]===C[3][0]&&C[0][1]===C[3][1]&&C[1][1]===C[2][1]&&(I=!0,V=function(F){return F[0]===C[0][0]}):C[0][1]===C[1][1]&&C[2][1]===C[3][1]&&C[0][0]===C[3][0]&&C[1][0]===C[2][0]&&(I=!0,V=function(F){return F[1]===C[0][1]}));function N(F,B){var E=F[0],W=F[1];return!(E===v||E<k||E>w||W===v||W<T||W>R||B&&V(F))}function Q(F,B){var E=F[0],W=F[1];if(E===v||E<k||E>w||W===v||W<T||W>R)return!1;var X=C.length,ie=C[0][0],L=C[0][1],me=0,ae,q,de,ee,xe;for(ae=1;ae<X;ae++)if(q=ie,de=L,ie=C[ae][0],L=C[ae][1],ee=Math.min(q,ie),!(E<ee||E>Math.max(q,ie)||W>Math.max(de,L)))if(W<Math.min(de,L))E!==ee&&me++;else{if(ie===q?xe=W:xe=de+(E-q)*(L-de)/(ie-q),W===xe)return!(ae===1&&B);W<=xe&&E!==ee&&me++}return me%2===1}var z=!0,U=C[0];for(M=1;M<C.length;M++)if(U[0]!==C[M][0]||U[1]!==C[M][1]){z=!1;break}return{xmin:k,xmax:w,ymin:T,ymax:R,pts:C,contains:I?N:Q,isRect:I,degenerate:z}},y.isSegmentBent=function(O,C,k,w){var T=O[C],R=[O[k][0]-T[0],O[k][1]-T[1]],M=g(R,R),I=Math.sqrt(M),V=[-R[1]/I,R[0]/I],N,Q,z;for(N=C+1;N<k;N++)if(Q=[O[N][0]-T[0],O[N][1]-T[1]],z=g(Q,R),z<0||z>M||Math.abs(g(Q,V))>w)return!0;return!1},y.filter=function(O,C){var k=[O[0]],w=0,T=0;function R(I){O.push(I);var V=k.length,N=w;k.splice(T+1);for(var Q=N+1;Q<O.length;Q++)(Q===O.length-1||y.isSegmentBent(O,N,Q+1,C))&&(k.push(O[Q]),k.length<V-2&&(w=Q,T=k.length-1),N=Q)}if(O.length>1){var M=O.pop();R(M)}return{addPt:R,raw:O,filtered:k}}},5142:function(f,h,c){var g=c(2770),v=c(5791);f.exports=function(O){var C;if(O&&O.hasOwnProperty("userAgent")?C=O.userAgent:C=y(),typeof C!="string")return!0;var k=v({ua:{headers:{"user-agent":C}},tablet:!0,featureDetect:!1});if(!k)for(var w=C.split(" "),T=1;T<w.length;T++){var R=w[T];if(R.indexOf("Safari")!==-1)for(var M=T-1;M>-1;M--){var I=w[M];if(I.substr(0,8)==="Version/"){var V=I.substr(8).split(".")[0];if(g(V)&&(V=+V),V>=13)return!0}}}return k};function y(){var b;return typeof navigator<"u"&&(b=navigator.userAgent),b&&b.headers&&typeof b.headers["user-agent"]=="string"&&(b=b.headers["user-agent"]),b}},5138:function(f){f.exports=function(c,g){if(g instanceof RegExp){for(var v=g.toString(),y=0;y<c.length;y++)if(c[y]instanceof RegExp&&c[y].toString()===v)return c;c.push(g)}else(g||g===0)&&c.indexOf(g)===-1&&c.push(g);return c}},847:function(f,h,c){var g=c(1828),v=c(2075).dfltConfig;function y(O,C){for(var k=[],w,T=0;T<C.length;T++)w=C[T],w===O?k[T]=w:typeof w=="object"?k[T]=Array.isArray(w)?g.extendDeep([],w):g.extendDeepAll({},w):k[T]=w;return k}var b={};b.add=function(O,C,k,w,T){var R,M;if(O.undoQueue=O.undoQueue||{index:0,queue:[],sequence:!1},M=O.undoQueue.index,O.autoplay){O.undoQueue.inSequence||(O.autoplay=!1);return}!O.undoQueue.sequence||O.undoQueue.beginSequence?(R={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},O.undoQueue.queue.splice(M,O.undoQueue.queue.length-M,R),O.undoQueue.index+=1):R=O.undoQueue.queue[M-1],O.undoQueue.beginSequence=!1,R&&(R.undo.calls.unshift(C),R.undo.args.unshift(k),R.redo.calls.push(w),R.redo.args.push(T)),O.undoQueue.queue.length>v.queueLength&&(O.undoQueue.queue.shift(),O.undoQueue.index--)},b.startSequence=function(O){O.undoQueue=O.undoQueue||{index:0,queue:[],sequence:!1},O.undoQueue.sequence=!0,O.undoQueue.beginSequence=!0},b.stopSequence=function(O){O.undoQueue=O.undoQueue||{index:0,queue:[],sequence:!1},O.undoQueue.sequence=!1,O.undoQueue.beginSequence=!1},b.undo=function(C){var k,w;if(!(C.undoQueue===void 0||isNaN(C.undoQueue.index)||C.undoQueue.index<=0)){for(C.undoQueue.index--,k=C.undoQueue.queue[C.undoQueue.index],C.undoQueue.inSequence=!0,w=0;w<k.undo.calls.length;w++)b.plotDo(C,k.undo.calls[w],k.undo.args[w]);C.undoQueue.inSequence=!1,C.autoplay=!1}},b.redo=function(C){var k,w;if(!(C.undoQueue===void 0||isNaN(C.undoQueue.index)||C.undoQueue.index>=C.undoQueue.queue.length)){for(k=C.undoQueue.queue[C.undoQueue.index],C.undoQueue.inSequence=!0,w=0;w<k.redo.calls.length;w++)b.plotDo(C,k.redo.calls[w],k.redo.args[w]);C.undoQueue.inSequence=!1,C.autoplay=!1,C.undoQueue.index++}},b.plotDo=function(O,C,k){O.autoplay=!0,k=y(O,k),C.apply(null,k)},f.exports=b},587:function(f,h){h.counter=function(c,g,v,y){var b=(g||"")+(v?"":"$"),O=y===!1?"":"^";return c==="xy"?new RegExp(O+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+b):new RegExp(O+c+"([2-9]|[1-9][0-9]+)?"+b)}},6962:function(f){var h=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,c=/^[^\.\[\]]+$/;f.exports=function(g,v){for(;v;){var y=g.match(h);if(y)g=y[1];else if(g.match(c))g="";else throw new Error("bad relativeAttr call:"+[g,v]);if(v.charAt(0)==="^")v=v.slice(1);else break}return g&&v.charAt(0)!=="["?g+"."+v:g+v}},1332:function(f,h,c){var g=c(3627).isArrayOrTypedArray,v=c(1965);f.exports=function y(b,O){for(var C in O){var k=O[C],w=b[C];if(w!==k)if(C.charAt(0)==="_"||typeof k=="function"){if(C in b)continue;b[C]=k}else if(g(k)&&g(w)&&v(k[0])){if(C==="customdata"||C==="ids")continue;for(var T=Math.min(k.length,w.length),R=0;R<T;R++)w[R]!==k[R]&&v(k[R])&&v(w[R])&&y(w[R],k[R])}else v(k)&&v(w)&&(y(w,k),Object.keys(w).length||delete b[C])}}},5888:function(f,h,c){var g=c(2770),v=c(7769),y=c(3389),b=c(606).BADNUM,O=1e-9;h.findBin=function(R,M,I){if(g(M.start))return I?Math.ceil((R-M.start)/M.size-O)-1:Math.floor((R-M.start)/M.size+O);var V=0,N=M.length,Q=0,z=N>1?(M[N-1]-M[0])/(N-1):1,U,F;for(z>=0?F=I?C:k:F=I?T:w,R+=z*O*(I?-1:1)*(z>=0?1:-1);V<N&&Q++<100;)U=Math.floor((V+N)/2),F(M[U],R)?V=U+1:N=U;return Q>90&&v.log("Long binary search..."),V-1};function C(R,M){return R<M}function k(R,M){return R<=M}function w(R,M){return R>M}function T(R,M){return R>=M}h.sorterAsc=function(R,M){return R-M},h.sorterDes=function(R,M){return M-R},h.distinctVals=function(R){var M=R.slice();M.sort(h.sorterAsc);var I;for(I=M.length-1;I>-1&&M[I]===b;I--);for(var V=M[I]-M[0]||1,N=V/(I||1)/1e4,Q=[],z,U=0;U<=I;U++){var F=M[U],B=F-z;z===void 0?(Q.push(F),z=F):B>N&&(V=Math.min(V,B),Q.push(F),z=F)}return{vals:Q,minDiff:V}},h.roundUp=function(R,M,I){for(var V=0,N=M.length-1,Q,z=0,U=I?0:1,F=I?1:0,B=I?Math.ceil:Math.floor;V<N&&z++<100;)Q=B((V+N)/2),M[Q]<=R?V=Q+U:N=Q-F;return M[V]},h.sort=function(R,M){for(var I=0,V=0,N=1;N<R.length;N++){var Q=M(R[N],R[N-1]);if(Q<0?I=1:Q>0&&(V=1),I&&V)return R.sort(M)}return V?R:R.reverse()},h.findIndexOfMin=function(R,M){M=M||y;for(var I=1/0,V,N=0;N<R.length;N++){var Q=M(R[N]);Q<I&&(I=Q,V=N)}return V}},6964:function(f){f.exports=function(c,g){(c.attr("class")||"").split(" ").forEach(function(v){v.indexOf("cursor-")===0&&c.classed(v,!1)}),g&&c.classed("cursor-"+g,!0)}},8607:function(f){f.exports=function(c){return Object.keys(c).sort()}},38:function(f,h,c){var g=c(2770),v=c(3627).isArrayOrTypedArray;h.aggNums=function(y,b,O,C){var k,w;if((!C||C>O.length)&&(C=O.length),g(b)||(b=!1),v(O[0])){for(w=new Array(C),k=0;k<C;k++)w[k]=h.aggNums(y,b,O[k]);O=w}for(k=0;k<C;k++)g(b)?g(O[k])&&(b=y(+b,+O[k])):b=O[k];return b},h.len=function(y){return h.aggNums(function(b){return b+1},0,y)},h.mean=function(y,b){return b||(b=h.len(y)),h.aggNums(function(O,C){return O+C},0,y)/b},h.midRange=function(y){if(!(y===void 0||y.length===0))return(h.aggNums(Math.max,null,y)+h.aggNums(Math.min,null,y))/2},h.variance=function(y,b,O){return b||(b=h.len(y)),g(O)||(O=h.mean(y,b)),h.aggNums(function(C,k){return C+Math.pow(k-O,2)},0,y)/b},h.stdev=function(y,b,O){return Math.sqrt(h.variance(y,b,O))},h.median=function(y){var b=y.slice().sort();return h.interp(b,.5)},h.interp=function(y,b){if(!g(b))throw"n should be a finite number";if(b=b*y.length-.5,b<0)return y[0];if(b>y.length-1)return y[y.length-1];var O=b%1;return O*y[Math.ceil(b)]+(1-O)*y[Math.floor(b)]}},3893:function(f,h,c){var g=c(9898),v=c(1828),y=v.strTranslate,b=c(7922),O=c(8783).LINE_SPACING,C=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;h.convertToTspans=function(le,Y,ve){var Oe=le.text(),Le=!le.attr("data-notex")&&Y&&Y._context.typesetMath&&typeof MathJax<"u"&&Oe.match(C),Ce=g.select(le.node().parentNode);if(Ce.empty())return;var De=le.attr("class")?le.attr("class").split(" ")[0]:"text";De+="-math",Ce.selectAll("svg."+De).remove(),Ce.selectAll("g."+De+"-group").remove(),le.style("display",null).attr({"data-unformatted":Oe,"data-math":"N"});function Ve(){Ce.empty()||(De=le.attr("class")+"-math",Ce.select("svg."+De).remove()),le.text("").style("white-space","pre");var _e=we(le.node(),Oe);_e&&le.style("pointer-events","all"),h.positionText(le),ve&&ve.call(le)}return Le?(Y&&Y._promises||[]).push(new Promise(function(_e){le.style("display","none");var Ie=parseInt(le.node().style.fontSize,10),re={fontSize:Ie};M(Le[2],re,function(be,te,se){Ce.selectAll("svg."+De).remove(),Ce.selectAll("g."+De+"-group").remove();var fe=be&&be.select("svg");if(!fe||!fe.node()){Ve(),_e();return}var oe=Ce.append("g").classed(De+"-group",!0).attr({"pointer-events":"none","data-unformatted":Oe,"data-math":"Y"});oe.node().appendChild(fe.node()),te&&te.node()&&fe.node().insertBefore(te.node().cloneNode(!0),fe.node().firstChild);var Se=se.width,ce=se.height;fe.attr({class:De,height:ce,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ke=le.node().style.fill||"black",Qe=fe.select("g");Qe.attr({fill:ke,stroke:ke});var Ze=Qe.node().getBoundingClientRect(),Xe=Ze.width,ct=Ze.height;(Xe>Se||ct>ce)&&(fe.style("overflow","hidden"),Ze=fe.node().getBoundingClientRect(),Xe=Ze.width,ct=Ze.height);var pt=+le.attr("x"),Ye=+le.attr("y"),je=Ie||le.node().getBoundingClientRect().height,et=-je/4;if(De[0]==="y")oe.attr({transform:"rotate("+[-90,pt,Ye]+")"+y(-Xe/2,et-ct/2)});else if(De[0]==="l")Ye=et-ct/2;else if(De[0]==="a"&&De.indexOf("atitle")!==0)pt=0,Ye=et;else{var yt=le.attr("text-anchor");pt=pt-Xe*(yt==="middle"?.5:yt==="end"?1:0),Ye=Ye+et-ct/2}fe.attr({x:pt,y:Ye}),ve&&ve.call(le,oe),_e(oe)})})):Ve(),le};var k=/(<|&lt;|&#60;)/g,w=/(>|&gt;|&#62;)/g;function T(le){return le.replace(k,"\\lt ").replace(w,"\\gt ")}var R=[["$","$"],["\\(","\\)"]];function M(le,Y,ve){var Oe=parseInt((MathJax.version||"").split(".")[0]);if(Oe!==2&&Oe!==3){v.warn("No MathJax version:",MathJax.version);return}var Le,Ce,De,Ve,_e=function(){return Ce=v.extendDeepAll({},MathJax.Hub.config),De=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:R},displayAlign:"left"})},Ie=function(){Ce=v.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=R},re=function(){if(Le=MathJax.Hub.config.menuSettings.renderer,Le!=="SVG")return MathJax.Hub.setRenderer("SVG")},be=function(){Le=MathJax.config.startup.output,Le!=="svg"&&(MathJax.config.startup.output="svg")},te=function(){var ke="math-output-"+v.randstr({},64);Ve=g.select("body").append("div").attr({id:ke}).style({visibility:"hidden",position:"absolute","font-size":Y.fontSize+"px"}).text(T(le));var Qe=Ve.node();return Oe===2?MathJax.Hub.Typeset(Qe):MathJax.typeset([Qe])},se=function(){var ke=Ve.select(Oe===2?".MathJax_SVG":".MathJax"),Qe=!ke.empty()&&Ve.select("svg").node();if(!Qe)v.log("There was an error in the tex syntax.",le),ve();else{var Ze=Qe.getBoundingClientRect(),Xe;Oe===2?Xe=g.select("body").select("#MathJax_SVG_glyphs"):Xe=ke.select("defs"),ve(ke,Xe,Ze)}Ve.remove()},fe=function(){if(Le!=="SVG")return MathJax.Hub.setRenderer(Le)},oe=function(){Le!=="svg"&&(MathJax.config.startup.output=Le)},Se=function(){return De!==void 0&&(MathJax.Hub.processSectionDelay=De),MathJax.Hub.Config(Ce)},ce=function(){MathJax.config=Ce};Oe===2?MathJax.Hub.Queue(_e,re,te,se,fe,Se):Oe===3&&(Ie(),be(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){te(),se(),oe(),ce()}))}var I={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},V={sub:"0.3em",sup:"-0.6em"},N={sub:"-0.21em",sup:"0.42em"},Q="",z=["http:","https:","mailto:","",void 0,":"],U=h.NEWLINES=/(\r\n?|\n)/g,F=/(<[^<>]*>)/,B=/<(\/?)([^ >]*)(\s+(.*))?>/i,E=/<br(\s+.*)?>/i;h.BR_TAG_ALL=/<br(\s+.*)?>/gi;var W=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,X=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,ie=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,L=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function me(le,Y){if(!le)return null;var ve=le.match(Y),Oe=ve&&(ve[3]||ve[4]);return Oe&&ee(Oe)}var ae=/(^|;)\s*color:/;h.plainText=function(le,Y){Y=Y||{};for(var ve=Y.len!==void 0&&Y.len!==-1?Y.len:1/0,Oe=Y.allowedTags!==void 0?Y.allowedTags:["br"],Le="...",Ce=Le.length,De=le.split(F),Ve=[],_e="",Ie=0,re=0;re<De.length;re++){var be=De[re],te=be.match(B),se=te&&te[2].toLowerCase();if(se)Oe.indexOf(se)!==-1&&(Ve.push(be),_e=se);else{var fe=be.length;if(Ie+fe<ve)Ve.push(be),Ie+=fe;else if(Ie<ve){var oe=ve-Ie;_e&&(_e!=="br"||oe<=Ce||fe<=Ce)&&Ve.pop(),ve>Ce?Ve.push(be.substr(0,oe-Ce)+Le):Ve.push(be.substr(0,oe));break}_e=""}}return Ve.join("")};var q={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},de=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function ee(le){return le.replace(de,function(Y,ve){var Oe;return ve.charAt(0)==="#"?Oe=xe(ve.charAt(1)==="x"?parseInt(ve.substr(2),16):parseInt(ve.substr(1),10)):Oe=q[ve],Oe||Y})}h.convertEntities=ee;function xe(le){if(!(le>1114111)){var Y=String.fromCodePoint;if(Y)return Y(le);var ve=String.fromCharCode;return le<=65535?ve(le):ve((le>>10)+55232,le%1024+56320)}}function we(le,Y){Y=Y.replace(U," ");var ve=!1,Oe=[],Le,Ce=-1;function De(){Ce++;var ct=document.createElementNS(b.svg,"tspan");g.select(ct).attr({class:"line",dy:Ce*O+"em"}),le.appendChild(ct),Le=ct;var pt=Oe;if(Oe=[{node:ct}],pt.length>1)for(var Ye=1;Ye<pt.length;Ye++)Ve(pt[Ye])}function Ve(ct){var pt=ct.type,Ye={},je;if(pt==="a"){je="a";var et=ct.target,yt=ct.href,ft=ct.popup;yt&&(Ye={"xlink:xlink:show":et==="_blank"||et.charAt(0)!=="_"?"new":"replace",target:et,"xlink:xlink:href":yt},ft&&(Ye.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ft+'");return false;'))}else je="tspan";ct.style&&(Ye.style=ct.style);var tt=document.createElementNS(b.svg,je);if(pt==="sup"||pt==="sub"){_e(Le,Q),Le.appendChild(tt);var wt=document.createElementNS(b.svg,"tspan");_e(wt,Q),g.select(wt).attr("dy",N[pt]),Ye.dy=V[pt],Le.appendChild(tt),Le.appendChild(wt)}else Le.appendChild(tt);g.select(tt).attr(Ye),Le=ct.node=tt,Oe.push(ct)}function _e(ct,pt){ct.appendChild(document.createTextNode(pt))}function Ie(ct){if(Oe.length===1){v.log("Ignoring unexpected end tag </"+ct+">.",Y);return}var pt=Oe.pop();ct!==pt.type&&v.log("Start tag <"+pt.type+"> doesnt match end tag <"+ct+">. Pretending it did match.",Y),Le=Oe[Oe.length-1].node}var re=E.test(Y);re?De():(Le=le,Oe=[{node:le}]);for(var be=Y.split(F),te=0;te<be.length;te++){var se=be[te],fe=se.match(B),oe=fe&&fe[2].toLowerCase(),Se=I[oe];if(oe==="br")De();else if(Se===void 0)_e(Le,ee(se));else if(fe[1])Ie(oe);else{var ce=fe[4],ke={type:oe},Qe=me(ce,W);if(Qe?(Qe=Qe.replace(ae,"$1 fill:"),Se&&(Qe+=";"+Se)):Se&&(Qe=Se),Qe&&(ke.style=Qe),oe==="a"){ve=!0;var Ze=me(ce,X);if(Ze){var Xe=Be(Ze);Xe&&(ke.href=Xe,ke.target=me(ce,ie)||"_blank",ke.popup=me(ce,L))}}Ve(ke)}}return ve}function Be(le){var Y=encodeURI(decodeURI(le)),ve=document.createElement("a"),Oe=document.createElement("a");ve.href=le,Oe.href=Y;var Le=ve.protocol,Ce=Oe.protocol;return z.indexOf(Le)!==-1&&z.indexOf(Ce)!==-1?Y:""}h.sanitizeHTML=function(Y){Y=Y.replace(U," ");for(var ve=document.createElement("p"),Oe=ve,Le=[],Ce=Y.split(F),De=0;De<Ce.length;De++){var Ve=Ce[De],_e=Ve.match(B),Ie=_e&&_e[2].toLowerCase();if(Ie in I)if(_e[1])Le.length&&(Oe=Le.pop());else{var re=_e[4],be=me(re,W),te=be?{style:be}:{};if(Ie==="a"){var se=me(re,X);if(se){var fe=Be(se);if(fe){te.href=fe;var oe=me(re,ie);oe&&(te.target=oe)}}}var Se=document.createElement(Ie);Oe.appendChild(Se),g.select(Se).attr(te),Oe=Se,Le.push(Se)}else Oe.appendChild(document.createTextNode(ee(Ve)))}var ce="innerHTML";return ve[ce]},h.lineCount=function(Y){return Y.selectAll("tspan.line").size()||1},h.positionText=function(Y,ve,Oe){return Y.each(function(){var Le=g.select(this);function Ce(_e,Ie){return Ie===void 0?(Ie=Le.attr(_e),Ie===null&&(Le.attr(_e,0),Ie=0)):Le.attr(_e,Ie),Ie}var De=Ce("x",ve),Ve=Ce("y",Oe);this.nodeName==="text"&&Le.selectAll("tspan.line").attr({x:De,y:Ve})})};function pe(le,Y,ve){var Oe=ve.horizontalAlign,Le=ve.verticalAlign||"top",Ce=le.node().getBoundingClientRect(),De=Y.node().getBoundingClientRect(),Ve,_e,Ie;return Le==="bottom"?_e=function(){return Ce.bottom-Ve.height}:Le==="middle"?_e=function(){return Ce.top+(Ce.height-Ve.height)/2}:_e=function(){return Ce.top},Oe==="right"?Ie=function(){return Ce.right-Ve.width}:Oe==="center"?Ie=function(){return Ce.left+(Ce.width-Ve.width)/2}:Ie=function(){return Ce.left},function(){Ve=this.node().getBoundingClientRect();var re=Ie()-De.left,be=_e()-De.top,te=ve.gd||{};if(ve.gd){te._fullLayout._calcInverseTransform(te);var se=v.apply3DTransform(te._fullLayout._invTransform)(re,be);re=se[0],be=se[1]}return this.style({top:be+"px",left:re+"px","z-index":1e3}),this}}var ne="1px ";h.makeTextShadow=function(le){var Y=ne,ve=ne,Oe=ne;return Y+ve+Oe+le+", -"+Y+"-"+ve+Oe+le+", "+Y+"-"+ve+Oe+le+", -"+Y+ve+Oe+le},h.makeEditable=function(le,Y){var ve=Y.gd,Oe=Y.delegate,Le=g.dispatch("edit","input","cancel"),Ce=Oe||le;if(le.style({"pointer-events":Oe?"none":"all"}),le.size()!==1)throw new Error("boo");function De(){_e(),le.style({opacity:0});var Ie=Ce.attr("class"),re;Ie?re="."+Ie.split(" ")[0]+"-math-group":re="[class*=-math-group]",re&&g.select(le.node().parentNode).select(re).style({opacity:0})}function Ve(Ie){var re=Ie.node(),be=document.createRange();be.selectNodeContents(re);var te=window.getSelection();te.removeAllRanges(),te.addRange(be),re.focus()}function _e(){var Ie=g.select(ve),re=Ie.select(".svg-container"),be=re.append("div"),te=le.node().style,se=parseFloat(te.fontSize||12),fe=Y.text;fe===void 0&&(fe=le.attr("data-unformatted")),be.classed("plugin-editable editable",!0).style({position:"absolute","font-family":te.fontFamily||"Arial","font-size":se,color:Y.fill||te.fill||"black",opacity:1,"background-color":Y.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(fe).call(pe(le,re,Y)).on("blur",function(){ve._editing=!1,le.text(this.textContent).style({opacity:1});var oe=g.select(this).attr("class"),Se;oe?Se="."+oe.split(" ")[0]+"-math-group":Se="[class*=-math-group]",Se&&g.select(le.node().parentNode).select(Se).style({opacity:0});var ce=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),Le.edit.call(le,ce)}).on("focus",function(){var oe=this;ve._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===oe)return!1;document.activeElement===be.node()&&be.node().blur()})}).on("keyup",function(){g.event.which===27?(ve._editing=!1,le.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Le.cancel.call(le,this.textContent)):(Le.input.call(le,this.textContent),g.select(this).call(pe(le,re,Y)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(Ve)}return Y.immediate?De():Ce.on("click",De),g.rebind(le,Le,"on")}},9990:function(f,h){var c={};h.throttle=function(y,b,O){var C=c[y],k=Date.now();if(!C){for(var w in c)c[w].ts<k-6e4&&delete c[w];C=c[y]={ts:0,timer:null}}g(C);function T(){O(),C.ts=Date.now(),C.onDone&&(C.onDone(),C.onDone=null)}if(k>C.ts+b){T();return}C.timer=setTimeout(function(){T(),C.timer=null},b)},h.done=function(v){var y=c[v];return!y||!y.timer?Promise.resolve():new Promise(function(b){var O=y.onDone;y.onDone=function(){O&&O(),b(),y.onDone=null}})},h.clear=function(v){if(v)g(c[v]),delete c[v];else for(var y in c)h.clear(y)};function g(v){v&&v.timer!==null&&(clearTimeout(v.timer),v.timer=null)}},8163:function(f,h,c){var g=c(2770);f.exports=function(y,b){if(y>0)return Math.log(y)/Math.LN10;var O=Math.log(Math.min(b[0],b[1]))/Math.LN10;return g(O)||(O=Math.log(Math.max(b[0],b[1]))/Math.LN10-6),O}},7815:function(f){f.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(f){f.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(f,h,c){var g=c(3972);f.exports=function(y){for(var b=g.layoutArrayContainers,O=g.layoutArrayRegexes,C=y.split("[")[0],k,w,T=0;T<O.length;T++)if(w=y.match(O[T]),w&&w.index===0){k=w[0];break}if(k||(k=b[b.indexOf(C)]),!k)return!1;var R=y.substr(k.length);return R?(w=R.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),w?{array:k,index:Number(w[1]),property:w[3]||""}:!1):{array:k,index:"",property:""}}},962:function(f,h,c){var g=c(1426).extendFlat,v=c(1965),y={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},b={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},O=y.flags.slice().concat(["fullReplot"]),C=b.flags.slice().concat("layoutReplot");f.exports={traces:y,layout:b,traceFlags:function(){return k(O)},layoutFlags:function(){return k(C)},update:function(R,M){var I=M.editType;if(I&&I!=="none")for(var V=I.split("+"),N=0;N<V.length;N++)R[V[N]]=!0},overrideAll:w};function k(R){for(var M={},I=0;I<R.length;I++)M[R[I]]=!1;return M}function w(R,M,I){var V=g({},R);for(var N in V){var Q=V[N];v(Q)&&(V[N]=T(Q,M,I,N))}return I==="from-root"&&(V.editType=M),V}function T(R,M,I,V){if(R.valType){var N=g({},R);if(N.editType=M,Array.isArray(R.items)){N.items=new Array(R.items.length);for(var Q=0;Q<R.items.length;Q++)N.items[Q]=T(R.items[Q],M)}return N}else return w(R,M,V.charAt(0)==="_"?"nested":"from-root")}},8377:function(f,h,c){var g=c(2770),v=c(7812),y=c(3972),b=c(1828),O=c(4875),C=c(1675),k=c(7901),w=C.cleanId,T=C.getFromTrace,R=y.traceIs;h.clearPromiseQueue=function(E){Array.isArray(E._promises)&&E._promises.length>0&&b.log("Clearing previous rejected promises from queue."),E._promises=[]},h.cleanLayout=function(E){var W,X;E||(E={}),E.xaxis1&&(E.xaxis||(E.xaxis=E.xaxis1),delete E.xaxis1),E.yaxis1&&(E.yaxis||(E.yaxis=E.yaxis1),delete E.yaxis1),E.scene1&&(E.scene||(E.scene=E.scene1),delete E.scene1);var ie=(O.subplotsRegistry.cartesian||{}).attrRegex,L=(O.subplotsRegistry.polar||{}).attrRegex,me=(O.subplotsRegistry.ternary||{}).attrRegex,ae=(O.subplotsRegistry.gl3d||{}).attrRegex,q=Object.keys(E);for(W=0;W<q.length;W++){var de=q[W];if(ie&&ie.test(de)){var ee=E[de];ee.anchor&&ee.anchor!=="free"&&(ee.anchor=w(ee.anchor)),ee.overlaying&&(ee.overlaying=w(ee.overlaying)),ee.type||(ee.isdate?ee.type="date":ee.islog?ee.type="log":ee.isdate===!1&&ee.islog===!1&&(ee.type="linear")),(ee.autorange==="withzero"||ee.autorange==="tozero")&&(ee.autorange=!0,ee.rangemode="tozero"),delete ee.islog,delete ee.isdate,delete ee.categories,z(ee,"domain")&&delete ee.domain,ee.autotick!==void 0&&(ee.tickmode===void 0&&(ee.tickmode=ee.autotick?"auto":"linear"),delete ee.autotick),I(ee)}else if(L&&L.test(de)){var xe=E[de];I(xe.radialaxis)}else if(me&&me.test(de)){var we=E[de];I(we.aaxis),I(we.baxis),I(we.caxis)}else if(ae&&ae.test(de)){var Be=E[de],pe=Be.cameraposition;if(Array.isArray(pe)&&pe[0].length===4){var ne=pe[0],le=pe[1],Y=pe[2],ve=v([],ne),Oe=[];for(X=0;X<3;++X)Oe[X]=le[X]+Y*ve[2+4*X];Be.camera={eye:{x:Oe[0],y:Oe[1],z:Oe[2]},center:{x:le[0],y:le[1],z:le[2]},up:{x:0,y:0,z:1}},delete Be.cameraposition}I(Be.xaxis),I(Be.yaxis),I(Be.zaxis)}}var Le=Array.isArray(E.annotations)?E.annotations.length:0;for(W=0;W<Le;W++){var Ce=E.annotations[W];b.isPlainObject(Ce)&&(Ce.ref&&(Ce.ref==="paper"?(Ce.xref="paper",Ce.yref="paper"):Ce.ref==="data"&&(Ce.xref="x",Ce.yref="y"),delete Ce.ref),M(Ce,"xref"),M(Ce,"yref"))}var De=Array.isArray(E.shapes)?E.shapes.length:0;for(W=0;W<De;W++){var Ve=E.shapes[W];b.isPlainObject(Ve)&&(M(Ve,"xref"),M(Ve,"yref"))}var _e=Array.isArray(E.images)?E.images.length:0;for(W=0;W<_e;W++){var Ie=E.images[W];b.isPlainObject(Ie)&&(M(Ie,"xref"),M(Ie,"yref"))}var re=E.legend;return re&&(re.x>3?(re.x=1.02,re.xanchor="left"):re.x<-2&&(re.x=-.02,re.xanchor="right"),re.y>3?(re.y=1.02,re.yanchor="bottom"):re.y<-2&&(re.y=-.02,re.yanchor="top")),I(E),E.dragmode==="rotate"&&(E.dragmode="orbit"),k.clean(E),E.template&&E.template.layout&&h.cleanLayout(E.template.layout),E};function M(E,W){var X=E[W],ie=W.charAt(0);X&&X!=="paper"&&(E[W]=w(X,ie,!0))}function I(E){E&&((typeof E.title=="string"||typeof E.title=="number")&&(E.title={text:E.title}),W("titlefont","font"),W("titleposition","position"),W("titleside","side"),W("titleoffset","offset"));function W(X,ie){var L=E[X],me=E.title&&E.title[ie];L&&!me&&(E.title||(E.title={}),E.title[ie]=E[X],delete E[X])}}h.cleanData=function(E){for(var W=0;W<E.length;W++){var X=E[W],ie;if(X.type==="histogramy"&&"xbins"in X&&!("ybins"in X)&&(X.ybins=X.xbins,delete X.xbins),X.error_y&&"opacity"in X.error_y){var L=k.defaults,me=X.error_y.color||(R(X,"bar")?k.defaultLine:L[W%L.length]);X.error_y.color=k.addOpacity(k.rgb(me),k.opacity(me)*X.error_y.opacity),delete X.error_y.opacity}if("bardir"in X&&(X.bardir==="h"&&(R(X,"bar")||X.type.substr(0,9)==="histogram")&&(X.orientation="h",h.swapXYData(X)),delete X.bardir),X.type==="histogramy"&&h.swapXYData(X),(X.type==="histogramx"||X.type==="histogramy")&&(X.type="histogram"),"scl"in X&&!("colorscale"in X)&&(X.colorscale=X.scl,delete X.scl),"reversescl"in X&&!("reversescale"in X)&&(X.reversescale=X.reversescl,delete X.reversescl),X.xaxis&&(X.xaxis=w(X.xaxis,"x")),X.yaxis&&(X.yaxis=w(X.yaxis,"y")),R(X,"gl3d")&&X.scene&&(X.scene=O.subplotsRegistry.gl3d.cleanId(X.scene)),!R(X,"pie-like")&&!R(X,"bar-like"))if(Array.isArray(X.textposition))for(ie=0;ie<X.textposition.length;ie++)X.textposition[ie]=Q(X.textposition[ie]);else X.textposition&&(X.textposition=Q(X.textposition));var ae=y.getModule(X);if(ae&&ae.colorbar){var q=ae.colorbar.container,de=q?X[q]:X;de&&de.colorscale&&(de.colorscale==="YIGnBu"&&(de.colorscale="YlGnBu"),de.colorscale==="YIOrRd"&&(de.colorscale="YlOrRd"))}if(X.type==="surface"&&b.isPlainObject(X.contours)){var ee=["x","y","z"];for(ie=0;ie<ee.length;ie++){var xe=X.contours[ee[ie]];b.isPlainObject(xe)&&(xe.highlightColor&&(xe.highlightcolor=xe.highlightColor,delete xe.highlightColor),xe.highlightWidth&&(xe.highlightwidth=xe.highlightWidth,delete xe.highlightWidth))}}if(X.type==="candlestick"||X.type==="ohlc"){var we=(X.increasing||{}).showlegend!==!1,Be=(X.decreasing||{}).showlegend!==!1,pe=V(X.increasing),ne=V(X.decreasing);if(pe!==!1&&ne!==!1){var le=N(pe,ne,we,Be);le&&(X.name=le)}else(pe||ne)&&!X.name&&(X.name=pe||ne)}if(Array.isArray(X.transforms)){var Y=X.transforms;for(ie=0;ie<Y.length;ie++){var ve=Y[ie];if(b.isPlainObject(ve))switch(ve.type){case"filter":ve.filtersrc&&(ve.target=ve.filtersrc,delete ve.filtersrc),ve.calendar&&(ve.valuecalendar||(ve.valuecalendar=ve.calendar),delete ve.calendar);break;case"groupby":if(ve.styles=ve.styles||ve.style,ve.styles&&!Array.isArray(ve.styles)){var Oe=ve.styles,Le=Object.keys(Oe);ve.styles=[];for(var Ce=0;Ce<Le.length;Ce++)ve.styles.push({target:Le[Ce],value:Oe[Le[Ce]]})}break}}}z(X,"line")&&delete X.line,"marker"in X&&(z(X.marker,"line")&&delete X.marker.line,z(X,"marker")&&delete X.marker),k.clean(X),X.autobinx&&(delete X.autobinx,delete X.xbins),X.autobiny&&(delete X.autobiny,delete X.ybins),I(X),X.colorbar&&I(X.colorbar),X.marker&&X.marker.colorbar&&I(X.marker.colorbar),X.line&&X.line.colorbar&&I(X.line.colorbar),X.aaxis&&I(X.aaxis),X.baxis&&I(X.baxis)}};function V(E){if(!b.isPlainObject(E))return!1;var W=E.name;return delete E.name,delete E.showlegend,(typeof W=="string"||typeof W=="number")&&String(W)}function N(E,W,X,ie){if(X&&!ie)return E;if(ie&&!X||!E.trim())return W;if(!W.trim())return E;var L=Math.min(E.length,W.length),me;for(me=0;me<L&&E.charAt(me)===W.charAt(me);me++);var ae=E.substr(0,me);return ae.trim()}function Q(E){var W="middle",X="center";return typeof E=="string"&&(E.indexOf("top")!==-1?W="top":E.indexOf("bottom")!==-1&&(W="bottom"),E.indexOf("left")!==-1?X="left":E.indexOf("right")!==-1&&(X="right")),W+" "+X}function z(E,W){return W in E&&typeof E[W]=="object"&&Object.keys(E[W]).length===0}h.swapXYData=function(E){var W;if(b.swapAttrs(E,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(E.z)&&Array.isArray(E.z[0])&&(E.transpose?delete E.transpose:E.transpose=!0),E.error_x&&E.error_y){var X=E.error_y,ie="copy_ystyle"in X?X.copy_ystyle:!(X.color||X.thickness||X.width);b.swapAttrs(E,["error_?.copy_ystyle"]),ie&&b.swapAttrs(E,["error_?.color","error_?.thickness","error_?.width"])}if(typeof E.hoverinfo=="string"){var L=E.hoverinfo.split("+");for(W=0;W<L.length;W++)L[W]==="x"?L[W]="y":L[W]==="y"&&(L[W]="x");E.hoverinfo=L.join("+")}},h.coerceTraceIndices=function(E,W){if(g(W))return[W];if(!Array.isArray(W)||!W.length)return E.data.map(function(L,me){return me});if(Array.isArray(W)){for(var X=[],ie=0;ie<W.length;ie++)b.isIndex(W[ie],E.data.length)?X.push(W[ie]):b.warn("trace index (",W[ie],") is not a number or is out of bounds");return X}return W},h.manageArrayContainers=function(E,W,X){var ie=E.obj,L=E.parts,me=L.length,ae=L[me-1],q=g(ae);if(q&&W===null){var de=L.slice(0,me-1).join("."),ee=b.nestedProperty(ie,de).get();ee.splice(ae,1)}else q&&E.get()===void 0&&E.get()===void 0&&(X[E.astr]=null),E.set(W)};var U=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function F(E){var W=E.search(U);if(W>0)return E.substr(0,W)}h.hasParent=function(E,W){for(var X=F(W);X;){if(X in E)return!0;X=F(X)}return!1};var B=["x","y","z"];h.clearAxisTypes=function(E,W,X){for(var ie=0;ie<W.length;ie++)for(var L=E._fullData[ie],me=0;me<3;me++){var ae=T(E,L,B[me]);if(ae&&ae.type!=="log"){var q=ae._name,de=ae._id.substr(1);if(de.substr(0,5)==="scene"){if(X[de]!==void 0)continue;q=de+"."+q}var ee=q+".type";X[q]===void 0&&X[ee]===void 0&&b.nestedProperty(E.layout,ee).set(null)}}}},641:function(f,h,c){var g=c(2391);h._doPlot=g._doPlot,h.newPlot=g.newPlot,h.restyle=g.restyle,h.relayout=g.relayout,h.redraw=g.redraw,h.update=g.update,h._guiRestyle=g._guiRestyle,h._guiRelayout=g._guiRelayout,h._guiUpdate=g._guiUpdate,h._storeDirectGUIEdit=g._storeDirectGUIEdit,h.react=g.react,h.extendTraces=g.extendTraces,h.prependTraces=g.prependTraces,h.addTraces=g.addTraces,h.deleteTraces=g.deleteTraces,h.moveTraces=g.moveTraces,h.purge=g.purge,h.addFrames=g.addFrames,h.deleteFrames=g.deleteFrames,h.animate=g.animate,h.setPlotConfig=g.setPlotConfig;var v=c(4401).getGraphDiv,y=c(4031).eraseActiveShape;h.deleteActiveShape=function(O){return y(v(O))},h.toImage=c(403),h.validate=c(4936),h.downloadImage=c(7239);var b=c(6318);h.makeTemplate=b.makeTemplate,h.validateTemplate=b.validateTemplate},6611:function(f,h,c){var g=c(1965),v=c(4213),y=c(7769),b=c(5888).sorterAsc,O=c(3972);h.containerArrayMatch=c(4458);var C=h.isAddVal=function(T){return T==="add"||g(T)},k=h.isRemoveVal=function(T){return T===null||T==="remove"};h.applyContainerArrayChanges=function(T,R,M,I,V){var N=R.astr,Q=O.getComponentMethod(N,"supplyLayoutDefaults"),z=O.getComponentMethod(N,"draw"),U=O.getComponentMethod(N,"drawOne"),F=I.replot||I.recalc||Q===v||z===v,B=T.layout,E=T._fullLayout;if(M[""]){Object.keys(M).length>1&&y.warn("Full array edits are incompatible with other edits",N);var W=M[""][""];if(k(W))R.set(null);else if(Array.isArray(W))R.set(W);else return y.warn("Unrecognized full array edit value",N,W),!0;return F?!1:(Q(B,E),z(T),!0)}var X=Object.keys(M).map(Number).sort(b),ie=R.get(),L=ie||[],me=V(E,N).get(),ae=[],q=-1,de=L.length,ee,xe,we,Be,pe,ne,le,Y;for(ee=0;ee<X.length;ee++){if(we=X[ee],Be=M[we],pe=Object.keys(Be),ne=Be[""],le=C(ne),we<0||we>L.length-(le?0:1)){y.warn("index out of range",N,we);continue}if(ne!==void 0)pe.length>1&&y.warn("Insertion & removal are incompatible with edits to the same index.",N,we),k(ne)?ae.push(we):le?(ne==="add"&&(ne={}),L.splice(we,0,ne),me&&me.splice(we,0,{})):y.warn("Unrecognized full object edit value",N,we,ne),q===-1&&(q=we);else for(xe=0;xe<pe.length;xe++)Y=N+"["+we+"].",V(L[we],pe[xe],Y).set(Be[pe[xe]])}for(ee=ae.length-1;ee>=0;ee--)L.splice(ae[ee],1),me&&me.splice(ae[ee],1);if(L.length?ie||R.set(L):R.set(null),F)return!1;if(Q(B,E),U!==v){var ve;if(q===-1)ve=X;else{for(de=Math.max(L.length,de),ve=[],ee=0;ee<X.length&&(we=X[ee],!(we>=q));ee++)ve.push(we);for(ee=q;ee<de;ee++)ve.push(ee)}for(ee=0;ee<ve.length;ee++)U(T,ve[ee])}else z(T);return!0}},2391:function(f,h,c){var g=c(9898),v=c(2770),y=c(7035),b=c(1828),O=b.nestedProperty,C=c(1086),k=c(847),w=c(3972),T=c(6281),R=c(4875),M=c(9298),I=c(3608),V=c(3838),N=c(1424),Q=c(7901),z=c(4305).initInteractions,U=c(7922),F=c(7322).clearOutline,B=c(2075).dfltConfig,E=c(6611),W=c(8377),X=c(1549),ie=c(962),L=c(5555).AX_NAME_PATTERN,me=0,ae=5;function q(He,at,dt,mt){var Tt;if(He=b.getGraphDiv(He),C.init(He),b.isPlainObject(at)){var Pt=at;at=Pt.data,dt=Pt.layout,mt=Pt.config,Tt=Pt.frames}var dn=C.triggerHandler(He,"plotly_beforeplot",[at,dt,mt]);if(dn===!1)return Promise.reject();!at&&!dt&&!b.isPlotDiv(He)&&b.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",He);function rn(){if(Tt)return h.addFrames(He,Tt)}Be(He,mt),dt||(dt={}),g.select(He).classed("js-plotly-plot",!0),N.makeTester(),Array.isArray(He._promises)||(He._promises=[]);var Wt=(He.data||[]).length===0&&Array.isArray(at);Array.isArray(at)&&(W.cleanData(at),Wt?He.data=at:He.data.push.apply(He.data,at),He.empty=!1),(!He.layout||Wt)&&(He.layout=W.cleanLayout(dt)),R.supplyDefaults(He);var Rt=He._fullLayout,fn=Rt._has("cartesian");Rt._replotting=!0,(Wt||Rt._shouldCreateBgLayer)&&(Dt(He),Rt._shouldCreateBgLayer&&delete Rt._shouldCreateBgLayer),N.initGradients(He),N.initPatterns(He),Wt&&M.saveShowSpikeInitial(He);var Hn=!He.calcdata||He.calcdata.length!==(He._fullData||[]).length;Hn&&R.doCalcdata(He);for(var nr=0;nr<He.calcdata.length;nr++)He.calcdata[nr][0].trace=He._fullData[nr];He._context.responsive?He._responsiveChartHandler||(He._responsiveChartHandler=function(){b.isHidden(He)||R.resize(He)},window.addEventListener("resize",He._responsiveChartHandler)):b.clearResponsive(He);var Er=b.extendFlat({},Rt._size),zt=0;function vr(){for(var sr=Rt._basePlotModules,Sr=0;Sr<sr.length;Sr++)sr[Sr].drawFramework&&sr[Sr].drawFramework(He);!Rt._glcanvas&&Rt._has("gl")&&(Rt._glcanvas=Rt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Fe){return Fe.key}),Rt._glcanvas.enter().append("canvas").attr("class",function(Fe){return"gl-canvas gl-canvas-"+Fe.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var ao=He._context.plotGlPixelRatio;if(Rt._glcanvas){Rt._glcanvas.attr("width",Rt.width*ao).attr("height",Rt.height*ao).style("width",Rt.width+"px").style("height",Rt.height+"px");var Oo=Rt._glcanvas.data()[0].regl;if(Oo&&(Math.floor(Rt.width*ao)!==Oo._gl.drawingBufferWidth||Math.floor(Rt.height*ao)!==Oo._gl.drawingBufferHeight)){var wr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(zt)b.error(wr);else return b.log(wr+" Clearing graph and plotting again."),R.cleanPlot([],{},He._fullData,Rt),R.supplyDefaults(He),Rt=He._fullLayout,R.doCalcdata(He),zt++,vr()}}return Rt.modebar.orientation==="h"?Rt._modebardiv.style("height",null).style("width","100%"):Rt._modebardiv.style("width",null).style("height",Rt.height+"px"),R.previousPromises(He)}function Wn(){if(R.clearAutoMarginIds(He),X.drawMarginPushers(He),M.allowAutoMargin(He),He._fullLayout.title.text&&He._fullLayout.title.automargin&&R.allowAutoMargin(He,"title.automargin"),Rt._has("pie"))for(var sr=He._fullData,Sr=0;Sr<sr.length;Sr++){var ao=sr[Sr];ao.type==="pie"&&ao.automargin&&R.allowAutoMargin(He,"pie."+ao.uid+".automargin")}return R.doAutoMargin(He),R.previousPromises(He)}function Br(){if(R.didMarginChange(Er,Rt._size))return b.syncOrAsync([Wn,X.layoutStyles],He)}function kr(){if(!Hn){or();return}return b.syncOrAsync([w.getComponentMethod("shapes","calcAutorange"),w.getComponentMethod("annotations","calcAutorange"),or],He)}function or(){He._transitioning||(X.doAutoRangeAndConstraints(He),Wt&&M.saveRangeInitial(He),w.getComponentMethod("rangeslider","calcAutorange")(He))}function jr(){return M.draw(He,Wt?"":"redraw")}var _r=[R.previousPromises,rn,vr,Wn,Br];fn&&_r.push(kr),_r.push(X.layoutStyles),fn&&_r.push(jr,function(Sr){Sr._fullLayout._insideTickLabelsAutorange&&Ze(Sr,Sr._fullLayout._insideTickLabelsAutorange).then(function(){Sr._fullLayout._insideTickLabelsAutorange=void 0})}),_r.push(X.drawData,X.finalDraw,z,R.addLinks,R.rehover,R.redrag,R.reselect,R.doAutoMargin,Rn,R.previousPromises);function Rn(sr){sr._fullLayout._insideTickLabelsAutorange&&Wt&&M.saveRangeInitial(sr,!0)}var xr=b.syncOrAsync(_r,He);return(!xr||!xr.then)&&(xr=Promise.resolve()),xr.then(function(){return de(He),He})}function de(He){var at=He._fullLayout;at._redrawFromAutoMarginCount?at._redrawFromAutoMarginCount--:He.emit("plotly_afterplot")}function ee(He){return b.extendFlat(B,He)}function xe(He,at){try{He._fullLayout._paper.style("background",at)}catch(dt){b.error(dt)}}function we(He,at){var dt=Q.combine(at,"white");xe(He,dt)}function Be(He,at){if(!He._context){He._context=b.extendDeep({},B);var dt=g.select("base");He._context._baseUrl=dt.size()&&dt.attr("href")?window.location.href.split("#")[0]:""}var mt=He._context,Tt,Pt,dn;if(at){for(Pt=Object.keys(at),Tt=0;Tt<Pt.length;Tt++)dn=Pt[Tt],!(dn==="editable"||dn==="edits")&&dn in mt&&(dn==="setBackground"&&at[dn]==="opaque"?mt[dn]=we:mt[dn]=at[dn]);at.plot3dPixelRatio&&!mt.plotGlPixelRatio&&(mt.plotGlPixelRatio=mt.plot3dPixelRatio);var rn=at.editable;if(rn!==void 0)for(mt.editable=rn,Pt=Object.keys(mt.edits),Tt=0;Tt<Pt.length;Tt++)mt.edits[Pt[Tt]]=rn;if(at.edits)for(Pt=Object.keys(at.edits),Tt=0;Tt<Pt.length;Tt++)dn=Pt[Tt],dn in mt.edits&&(mt.edits[dn]=at.edits[dn]);mt._exportedPlot=at._exportedPlot}mt.staticPlot&&(mt.editable=!1,mt.edits={},mt.autosizable=!1,mt.scrollZoom=!1,mt.doubleClick=!1,mt.showTips=!1,mt.showLink=!1,mt.displayModeBar=!1),mt.displayModeBar==="hover"&&!y&&(mt.displayModeBar=!0),(mt.setBackground==="transparent"||typeof mt.setBackground!="function")&&(mt.setBackground=xe),mt._hasZeroHeight=mt._hasZeroHeight||He.clientHeight===0,mt._hasZeroWidth=mt._hasZeroWidth||He.clientWidth===0;var Wt=mt.scrollZoom,Rt=mt._scrollZoom={};if(Wt===!0)Rt.cartesian=1,Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1;else if(typeof Wt=="string"){var fn=Wt.split("+");for(Tt=0;Tt<fn.length;Tt++)Rt[fn[Tt]]=1}else Wt!==!1&&(Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1)}function pe(He){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He);return W.cleanData(He.data),W.cleanLayout(He.layout),He.calcdata=void 0,h._doPlot(He).then(function(){return He.emit("plotly_redraw"),He})}function ne(He,at,dt,mt){return He=b.getGraphDiv(He),R.cleanPlot([],{},He._fullData||[],He._fullLayout||{}),R.purge(He),h._doPlot(He,at,dt,mt)}function le(He,at){var dt=at+1,mt=[],Tt,Pt;for(Tt=0;Tt<He.length;Tt++)Pt=He[Tt],Pt<0?mt.push(dt+Pt):mt.push(Pt);return mt}function Y(He,at,dt){var mt,Tt;for(mt=0;mt<at.length;mt++){if(Tt=at[mt],Tt!==parseInt(Tt,10))throw new Error("all values in "+dt+" must be integers");if(Tt>=He.data.length||Tt<-He.data.length)throw new Error(dt+" must be valid indices for gd.data.");if(at.indexOf(Tt,mt+1)>-1||Tt>=0&&at.indexOf(-He.data.length+Tt)>-1||Tt<0&&at.indexOf(He.data.length+Tt)>-1)throw new Error("each index in "+dt+" must be unique.")}}function ve(He,at,dt){if(!Array.isArray(He.data))throw new Error("gd.data must be an array.");if(typeof at>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(at)||(at=[at]),Y(He,at,"currentIndices"),typeof dt<"u"&&!Array.isArray(dt)&&(dt=[dt]),typeof dt<"u"&&Y(He,dt,"newIndices"),typeof dt<"u"&&at.length!==dt.length)throw new Error("current and new indices must be of equal length.")}function Oe(He,at,dt){var mt,Tt;if(!Array.isArray(He.data))throw new Error("gd.data must be an array.");if(typeof at>"u")throw new Error("traces must be defined.");for(Array.isArray(at)||(at=[at]),mt=0;mt<at.length;mt++)if(Tt=at[mt],typeof Tt!="object"||Array.isArray(Tt)||Tt===null)throw new Error("all values in traces array must be non-array objects");if(typeof dt<"u"&&!Array.isArray(dt)&&(dt=[dt]),typeof dt<"u"&&dt.length!==at.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Le(He,at,dt,mt){var Tt=b.isPlainObject(mt);if(!Array.isArray(He.data))throw new Error("gd.data must be an array");if(!b.isPlainObject(at))throw new Error("update must be a key:value object");if(typeof dt>"u")throw new Error("indices must be an integer or array of integers");Y(He,dt,"indices");for(var Pt in at){if(!Array.isArray(at[Pt])||at[Pt].length!==dt.length)throw new Error("attribute "+Pt+" must be an array of length equal to indices array length");if(Tt&&(!(Pt in mt)||!Array.isArray(mt[Pt])||mt[Pt].length!==at[Pt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function Ce(He,at,dt,mt){var Tt=b.isPlainObject(mt),Pt=[],dn,rn,Wt,Rt,fn;Array.isArray(dt)||(dt=[dt]),dt=le(dt,He.data.length-1);for(var Hn in at)for(var nr=0;nr<dt.length;nr++){if(dn=He.data[dt[nr]],Wt=O(dn,Hn),rn=Wt.get(),Rt=at[Hn][nr],!b.isArrayOrTypedArray(Rt))throw new Error("attribute: "+Hn+" index: "+nr+" must be an array");if(!b.isArrayOrTypedArray(rn))throw new Error("cannot extend missing or non-array attribute: "+Hn);if(rn.constructor!==Rt.constructor)throw new Error("cannot extend array with an array of a different type: "+Hn);fn=Tt?mt[Hn][nr]:mt,v(fn)||(fn=-1),Pt.push({prop:Wt,target:rn,insert:Rt,maxp:Math.floor(fn)})}return Pt}function De(He,at,dt,mt,Tt){Le(He,at,dt,mt);for(var Pt=Ce(He,at,dt,mt),dn={},rn={},Wt=0;Wt<Pt.length;Wt++){var Rt=Pt[Wt].prop,fn=Pt[Wt].maxp,Hn=Tt(Pt[Wt].target,Pt[Wt].insert,fn);Rt.set(Hn[0]),Array.isArray(dn[Rt.astr])||(dn[Rt.astr]=[]),dn[Rt.astr].push(Hn[1]),Array.isArray(rn[Rt.astr])||(rn[Rt.astr]=[]),rn[Rt.astr].push(Pt[Wt].target.length)}return{update:dn,maxPoints:rn}}function Ve(He,at){var dt=new He.constructor(He.length+at.length);return dt.set(He),dt.set(at,He.length),dt}function _e(He,at,dt,mt){He=b.getGraphDiv(He);function Tt(Wt,Rt,fn){var Hn,nr;if(b.isTypedArray(Wt))if(fn<0){var Er=new Wt.constructor(0),zt=Ve(Wt,Rt);fn<0?(Hn=zt,nr=Er):(Hn=Er,nr=zt)}else if(Hn=new Wt.constructor(fn),nr=new Wt.constructor(Wt.length+Rt.length-fn),fn===Rt.length)Hn.set(Rt),nr.set(Wt);else if(fn<Rt.length){var vr=Rt.length-fn;Hn.set(Rt.subarray(vr)),nr.set(Wt),nr.set(Rt.subarray(0,vr),Wt.length)}else{var Wn=fn-Rt.length,Br=Wt.length-Wn;Hn.set(Wt.subarray(Br)),Hn.set(Rt,Wn),nr.set(Wt.subarray(0,Br))}else Hn=Wt.concat(Rt),nr=fn>=0&&fn<Hn.length?Hn.splice(0,Hn.length-fn):[];return[Hn,nr]}var Pt=De(He,at,dt,mt,Tt),dn=h.redraw(He),rn=[He,Pt.update,dt,Pt.maxPoints];return k.add(He,h.prependTraces,rn,_e,arguments),dn}function Ie(He,at,dt,mt){He=b.getGraphDiv(He);function Tt(Wt,Rt,fn){var Hn,nr;if(b.isTypedArray(Wt))if(fn<=0){var Er=new Wt.constructor(0),zt=Ve(Rt,Wt);fn<0?(Hn=zt,nr=Er):(Hn=Er,nr=zt)}else if(Hn=new Wt.constructor(fn),nr=new Wt.constructor(Wt.length+Rt.length-fn),fn===Rt.length)Hn.set(Rt),nr.set(Wt);else if(fn<Rt.length){var vr=Rt.length-fn;Hn.set(Rt.subarray(0,vr)),nr.set(Rt.subarray(vr)),nr.set(Wt,vr)}else{var Wn=fn-Rt.length;Hn.set(Rt),Hn.set(Wt.subarray(0,Wn),Rt.length),nr.set(Wt.subarray(Wn))}else Hn=Rt.concat(Wt),nr=fn>=0&&fn<Hn.length?Hn.splice(fn,Hn.length):[];return[Hn,nr]}var Pt=De(He,at,dt,mt,Tt),dn=h.redraw(He),rn=[He,Pt.update,dt,Pt.maxPoints];return k.add(He,h.extendTraces,rn,Ie,arguments),dn}function re(He,at,dt){He=b.getGraphDiv(He);var mt=[],Tt=h.deleteTraces,Pt=re,dn=[He,mt],rn=[He,at],Wt,Rt;for(Oe(He,at,dt),Array.isArray(at)||(at=[at]),at=at.map(function(fn){return b.extendFlat({},fn)}),W.cleanData(at),Wt=0;Wt<at.length;Wt++)He.data.push(at[Wt]);for(Wt=0;Wt<at.length;Wt++)mt.push(-at.length+Wt);if(typeof dt>"u")return Rt=h.redraw(He),k.add(He,Tt,dn,Pt,rn),Rt;Array.isArray(dt)||(dt=[dt]);try{ve(He,mt,dt)}catch(fn){throw He.data.splice(He.data.length-at.length,at.length),fn}return k.startSequence(He),k.add(He,Tt,dn,Pt,rn),Rt=h.moveTraces(He,mt,dt),k.stopSequence(He),Rt}function be(He,at){He=b.getGraphDiv(He);var dt=[],mt=h.addTraces,Tt=be,Pt=[He,dt,at],dn=[He,at],rn,Wt;if(typeof at>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(at)||(at=[at]),Y(He,at,"indices"),at=le(at,He.data.length-1),at.sort(b.sorterDes),rn=0;rn<at.length;rn+=1)Wt=He.data.splice(at[rn],1)[0],dt.push(Wt);var Rt=h.redraw(He);return k.add(He,mt,Pt,Tt,dn),Rt}function te(He,at,dt){He=b.getGraphDiv(He);var mt=[],Tt=[],Pt=te,dn=te,rn=[He,dt,at],Wt=[He,at,dt],Rt;if(ve(He,at,dt),at=Array.isArray(at)?at:[at],typeof dt>"u")for(dt=[],Rt=0;Rt<at.length;Rt++)dt.push(-at.length+Rt);for(dt=Array.isArray(dt)?dt:[dt],at=le(at,He.data.length-1),dt=le(dt,He.data.length-1),Rt=0;Rt<He.data.length;Rt++)at.indexOf(Rt)===-1&&mt.push(He.data[Rt]);for(Rt=0;Rt<at.length;Rt++)Tt.push({newIndex:dt[Rt],trace:He.data[at[Rt]]});for(Tt.sort(function(Hn,nr){return Hn.newIndex-nr.newIndex}),Rt=0;Rt<Tt.length;Rt+=1)mt.splice(Tt[Rt].newIndex,0,Tt[Rt].trace);He.data=mt;var fn=h.redraw(He);return k.add(He,Pt,rn,dn,Wt),fn}function se(He,at,dt,mt){He=b.getGraphDiv(He),W.clearPromiseQueue(He);var Tt={};if(typeof at=="string")Tt[at]=dt;else if(b.isPlainObject(at))Tt=b.extendFlat({},at),mt===void 0&&(mt=dt);else return b.warn("Restyle fail.",at,dt,mt),Promise.reject();Object.keys(Tt).length&&(He.changed=!0);var Pt=W.coerceTraceIndices(He,mt),dn=ke(He,Tt,Pt),rn=dn.flags;rn.calc&&(He.calcdata=void 0),rn.clearAxisTypes&&W.clearAxisTypes(He,Pt,{});var Wt=[];rn.fullReplot?Wt.push(h._doPlot):(Wt.push(R.previousPromises),R.supplyDefaults(He),rn.markerSize&&(R.doCalcdata(He),ct(Wt)),rn.style&&Wt.push(X.doTraceStyle),rn.colorbars&&Wt.push(X.doColorBars),Wt.push(de)),Wt.push(R.rehover,R.redrag,R.reselect),k.add(He,se,[He,dn.undoit,dn.traces],se,[He,dn.redoit,dn.traces]);var Rt=b.syncOrAsync(Wt,He);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return He.emit("plotly_restyle",dn.eventData),He})}function fe(He){return He===void 0?null:He}function oe(He,at){return at?function(dt,mt,Tt){var Pt=O(dt,mt),dn=Pt.set;return Pt.set=function(rn){var Wt=(Tt||"")+mt;Se(Wt,Pt.get(),rn,He),dn(rn)},Pt}:O}function Se(He,at,dt,mt){if(Array.isArray(at)||Array.isArray(dt))for(var Tt=Array.isArray(at)?at:[],Pt=Array.isArray(dt)?dt:[],dn=Math.max(Tt.length,Pt.length),rn=0;rn<dn;rn++)Se(He+"["+rn+"]",Tt[rn],Pt[rn],mt);else if(b.isPlainObject(at)||b.isPlainObject(dt)){var Wt=b.isPlainObject(at)?at:{},Rt=b.isPlainObject(dt)?dt:{},fn=b.extendFlat({},Wt,Rt);for(var Hn in fn)Se(He+"."+Hn,Wt[Hn],Rt[Hn],mt)}else mt[He]===void 0&&(mt[He]=fe(at))}function ce(He,at,dt){for(var mt in dt){var Tt=O(He,mt);Se(mt,Tt.get(),dt[mt],at)}}function ke(He,at,dt){var mt=He._fullLayout,Tt=He._fullData,Pt=He.data,dn=mt._guiEditing,rn=oe(mt._preGUI,dn),Wt=b.extendDeepAll({},at),Rt;Qe(at);var fn=ie.traceFlags(),Hn={},nr={},Er;function zt(){return dt.map(function(){})}function vr(dr){var Ur=M.id2name(dr);Er.indexOf(Ur)===-1&&Er.push(Ur)}function Wn(dr){return"LAYOUT"+dr+".autorange"}function Br(dr){return"LAYOUT"+dr+".range"}function kr(dr){for(var Ur=dr;Ur<Tt.length;Ur++)if(Tt[Ur]._input===Pt[dr])return Tt[Ur]}function or(dr,Ur,ar){if(Array.isArray(dr)){dr.forEach(function(ko){or(ko,Ur,ar)});return}if(!(dr in at||W.hasParent(at,dr))){var ur;if(dr.substr(0,6)==="LAYOUT")ur=rn(He.layout,dr.replace("LAYOUT",""));else{var qr=dt[ar],no=mt._tracePreGUI[kr(qr)._fullInput.uid];ur=oe(no,dn)(Pt[qr],dr)}dr in nr||(nr[dr]=zt()),nr[dr][ar]===void 0&&(nr[dr][ar]=fe(ur.get())),Ur!==void 0&&ur.set(Ur)}}function jr(dr){return function(Ur){return Tt[Ur][dr]}}function _r(dr){return function(Ur,ar){return Ur===!1?Tt[dt[ar]][dr]:null}}for(var Rn in at){if(W.hasParent(at,Rn))throw new Error("cannot set "+Rn+" and a parent attribute simultaneously");var xr=at[Rn],sr,Sr,ao,Oo,wr,Fe;if((Rn==="autobinx"||Rn==="autobiny")&&(Rn=Rn.charAt(Rn.length-1)+"bins",Array.isArray(xr)?xr=xr.map(_r(Rn)):xr===!1?xr=dt.map(jr(Rn)):xr=null),Hn[Rn]=xr,Rn.substr(0,6)==="LAYOUT"){ao=rn(He.layout,Rn.replace("LAYOUT","")),nr[Rn]=[fe(ao.get())],ao.set(Array.isArray(xr)?xr[0]:xr),fn.calc=!0;continue}for(nr[Rn]=zt(),Rt=0;Rt<dt.length;Rt++){sr=Pt[dt[Rt]],Sr=kr(dt[Rt]);var Ee=mt._tracePreGUI[Sr._fullInput.uid];if(ao=oe(Ee,dn)(sr,Rn),Oo=ao.get(),wr=Array.isArray(xr)?xr[Rt%xr.length]:xr,wr!==void 0){var St=ao.parts[ao.parts.length-1],Ct=Rn.substr(0,Rn.length-St.length-1),Lt=Ct?Ct+".":"",Ft=Ct?O(Sr,Ct).get():Sr;if(Fe=T.getTraceValObject(Sr,ao.parts),Fe&&Fe.impliedEdits&&wr!==null)for(var Ht in Fe.impliedEdits)or(b.relativeAttr(Rn,Ht),Fe.impliedEdits[Ht],Rt);else if((St==="thicknessmode"||St==="lenmode")&&Oo!==wr&&(wr==="fraction"||wr==="pixels")&&Ft){var $t=mt._size,Mt=Ft.orient,tn=Mt==="top"||Mt==="bottom";if(St==="thicknessmode"){var un=tn?$t.h:$t.w;or(Lt+"thickness",Ft.thickness*(wr==="fraction"?1/un:un),Rt)}else{var Jt=tn?$t.w:$t.h;or(Lt+"len",Ft.len*(wr==="fraction"?1/Jt:Jt),Rt)}}else if(Rn==="type"&&(wr==="pie"!=(Oo==="pie")||wr==="funnelarea"!=(Oo==="funnelarea"))){var on="x",Tn="y";(wr==="bar"||Oo==="bar")&&sr.orientation==="h"&&(on="y",Tn="x"),b.swapAttrs(sr,["?","?src"],"labels",on),b.swapAttrs(sr,["d?","?0"],"label",on),b.swapAttrs(sr,["?","?src"],"values",Tn),Oo==="pie"||Oo==="funnelarea"?(O(sr,"marker.color").set(O(sr,"marker.colors").get()),mt._pielayer.selectAll("g.trace").remove()):w.traceIs(sr,"cartesian")&&O(sr,"marker.colors").set(O(sr,"marker.color").get())}nr[Rn][Rt]=fe(Oo);var On=["swapxy","swapxyaxes","orientation","orientationaxes"];if(On.indexOf(Rn)!==-1){if(Rn==="orientation"){ao.set(wr);var pn=sr.x&&!sr.y?"h":"v";if((ao.get()||pn)===Sr.orientation)continue}else Rn==="orientationaxes"&&(sr.orientation={v:"h",h:"v"}[Sr.orientation]);W.swapXYData(sr),fn.calc=fn.clearAxisTypes=!0}else R.dataArrayContainers.indexOf(ao.parts[0])!==-1?(W.manageArrayContainers(ao,wr,nr),fn.calc=!0):(Fe?Fe.arrayOk&&!w.traceIs(Sr,"regl")&&(b.isArrayOrTypedArray(wr)||b.isArrayOrTypedArray(Oo))?fn.calc=!0:ie.update(fn,Fe):fn.calc=!0,ao.set(wr))}}if(["swapxyaxes","orientationaxes"].indexOf(Rn)!==-1&&M.swap(He,dt),Rn==="orientationaxes"){var Jn=O(He.layout,"hovermode"),Fn=Jn.get();Fn==="x"?Jn.set("y"):Fn==="y"?Jn.set("x"):Fn==="x unified"?Jn.set("y unified"):Fn==="y unified"&&Jn.set("x unified")}if(["orientation","type"].indexOf(Rn)!==-1){for(Er=[],Rt=0;Rt<dt.length;Rt++){var Zr=Pt[dt[Rt]];w.traceIs(Zr,"cartesian")&&(vr(Zr.xaxis||"x"),vr(Zr.yaxis||"y"))}or(Er.map(Wn),!0,0),or(Er.map(Br),[0,1],0)}}return(fn.calc||fn.plot)&&(fn.fullReplot=!0),{flags:fn,undoit:nr,redoit:Hn,traces:dt,eventData:b.extendDeepNoArrays([],[Wt,dt])}}function Qe(He){var at=b.counterRegex("axis",".title",!1,!1),dt=/colorbar\.title$/,mt=Object.keys(He),Tt,Pt,dn;for(Tt=0;Tt<mt.length;Tt++)Pt=mt[Tt],dn=He[Pt],(Pt==="title"||at.test(Pt)||dt.test(Pt))&&(typeof dn=="string"||typeof dn=="number")?rn(Pt,Pt.replace("title","title.text")):Pt.indexOf("titlefont")>-1&&Pt.indexOf("grouptitlefont")===-1?rn(Pt,Pt.replace("titlefont","title.font")):Pt.indexOf("titleposition")>-1?rn(Pt,Pt.replace("titleposition","title.position")):Pt.indexOf("titleside")>-1?rn(Pt,Pt.replace("titleside","title.side")):Pt.indexOf("titleoffset")>-1&&rn(Pt,Pt.replace("titleoffset","title.offset"));function rn(Wt,Rt){He[Rt]=He[Wt],delete He[Wt]}}function Ze(He,at,dt){He=b.getGraphDiv(He),W.clearPromiseQueue(He);var mt={};if(typeof at=="string")mt[at]=dt;else if(b.isPlainObject(at))mt=b.extendFlat({},at);else return b.warn("Relayout fail.",at,dt),Promise.reject();Object.keys(mt).length&&(He.changed=!0);var Tt=et(He,mt),Pt=Tt.flags;Pt.calc&&(He.calcdata=void 0);var dn=[R.previousPromises];Pt.layoutReplot?dn.push(X.layoutReplot):Object.keys(mt).length&&(Xe(He,Pt,Tt)||R.supplyDefaults(He),Pt.legend&&dn.push(X.doLegend),Pt.layoutstyle&&dn.push(X.layoutStyles),Pt.axrange&&ct(dn,Tt.rangesAltered),Pt.ticks&&dn.push(X.doTicksRelayout),Pt.modebar&&dn.push(X.doModeBar),Pt.camera&&dn.push(X.doCamera),Pt.colorbars&&dn.push(X.doColorBars),dn.push(de)),dn.push(R.rehover,R.redrag,R.reselect),k.add(He,Ze,[He,Tt.undoit],Ze,[He,Tt.redoit]);var rn=b.syncOrAsync(dn,He);return(!rn||!rn.then)&&(rn=Promise.resolve(He)),rn.then(function(){return He.emit("plotly_relayout",Tt.eventData),He})}function Xe(He,at,dt){var mt=He._fullLayout;if(!at.axrange)return!1;for(var Tt in at)if(Tt!=="axrange"&&at[Tt])return!1;var Pt,dn,rn=function(Er,zt){return b.coerce(Pt,dn,V,Er,zt)},Wt={};for(var Rt in dt.rangesAltered){var fn=M.id2name(Rt);if(Pt=He.layout[fn],dn=mt[fn],I(Pt,dn,rn,Wt),dn._matchGroup){for(var Hn in dn._matchGroup)if(Hn!==Rt){var nr=mt[M.id2name(Hn)];nr.autorange=dn.autorange,nr.range=dn.range.slice(),nr._input.range=dn.range.slice()}}}return!0}function ct(He,at){var dt=at?function(mt){var Tt=[],Pt=!0;for(var dn in at){var rn=M.getFromId(mt,dn);if(Tt.push(dn),(rn.ticklabelposition||"").indexOf("inside")!==-1&&rn._anchorAxis&&Tt.push(rn._anchorAxis._id),rn._matchGroup)for(var Wt in rn._matchGroup)at[Wt]||Tt.push(Wt)}return M.draw(mt,Tt,{skipTitle:Pt})}:function(mt){return M.draw(mt,"redraw")};He.push(F,X.doAutoRangeAndConstraints,dt,X.drawData,X.finalDraw)}var pt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ye=/^[xyz]axis[0-9]*\.autorange$/,je=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function et(He,at){var dt=He.layout,mt=He._fullLayout,Tt=mt._guiEditing,Pt=oe(mt._preGUI,Tt),dn=Object.keys(at),rn=M.list(He),Wt=b.extendDeepAll({},at),Rt={},fn,Hn,nr;for(Qe(at),dn=Object.keys(at),Hn=0;Hn<dn.length;Hn++)if(dn[Hn].indexOf("allaxes")===0){for(nr=0;nr<rn.length;nr++){var Er=rn[nr]._id.substr(1),zt=Er.indexOf("scene")!==-1?Er+".":"",vr=dn[Hn].replace("allaxes",zt+rn[nr]._name);at[vr]||(at[vr]=at[dn[Hn]])}delete at[dn[Hn]]}var Wn=ie.layoutFlags(),Br={},kr={};function or(no,ko){if(Array.isArray(no)){no.forEach(function(So){or(So,ko)});return}if(!(no in at||W.hasParent(at,no))){var Es=Pt(dt,no);no in kr||(kr[no]=fe(Es.get())),ko!==void 0&&Es.set(ko)}}var jr={},_r;function Rn(no){var ko=M.name2id(no.split(".")[0]);return jr[ko]=1,ko}for(var xr in at){if(W.hasParent(at,xr))throw new Error("cannot set "+xr+" and a parent attribute simultaneously");for(var sr=Pt(dt,xr),Sr=at[xr],ao=sr.parts.length,Oo=ao-1;Oo>0&&typeof sr.parts[Oo]!="string";)Oo--;var wr=sr.parts[Oo],Fe=sr.parts[Oo-1]+"."+wr,Ee=sr.parts.slice(0,Oo).join("."),St=O(He.layout,Ee).get(),Ct=O(mt,Ee).get(),Lt=sr.get();if(Sr!==void 0){Br[xr]=Sr,kr[xr]=wr==="reverse"?Sr:fe(Lt);var Ft=T.getLayoutValObject(mt,sr.parts);if(Ft&&Ft.impliedEdits&&Sr!==null)for(var Ht in Ft.impliedEdits)or(b.relativeAttr(xr,Ht),Ft.impliedEdits[Ht]);if(["width","height"].indexOf(xr)!==-1)if(Sr){or("autosize",null);var $t=xr==="height"?"width":"height";or($t,mt[$t])}else mt[xr]=He._initialAutoSize[xr];else if(xr==="autosize")or("width",Sr?null:mt.width),or("height",Sr?null:mt.height);else if(Fe.match(pt))Rn(Fe),O(mt,Ee+"._inputRange").set(null);else if(Fe.match(Ye)){Rn(Fe),O(mt,Ee+"._inputRange").set(null);var Mt=O(mt,Ee).get();Mt._inputDomain&&(Mt._input.domain=Mt._inputDomain.slice())}else Fe.match(je)&&O(mt,Ee+"._inputDomain").set(null);if(wr==="type"){_r=St;var tn=Ct.type==="linear"&&Sr==="log",un=Ct.type==="log"&&Sr==="linear";if(tn||un){if(!_r||!_r.range)or(Ee+".autorange",!0);else if(Ct.autorange)tn&&(_r.range=_r.range[1]>_r.range[0]?[1,2]:[2,1]);else{var Jt=_r.range[0],on=_r.range[1];tn?(Jt<=0&&on<=0&&or(Ee+".autorange",!0),Jt<=0?Jt=on/1e6:on<=0&&(on=Jt/1e6),or(Ee+".range[0]",Math.log(Jt)/Math.LN10),or(Ee+".range[1]",Math.log(on)/Math.LN10)):(or(Ee+".range[0]",Math.pow(10,Jt)),or(Ee+".range[1]",Math.pow(10,on)))}Array.isArray(mt._subplots.polar)&&mt._subplots.polar.length&&mt[sr.parts[0]]&&sr.parts[1]==="radialaxis"&&delete mt[sr.parts[0]]._subplot.viewInitial["radialaxis.range"],w.getComponentMethod("annotations","convertCoords")(He,Ct,Sr,or),w.getComponentMethod("images","convertCoords")(He,Ct,Sr,or)}else or(Ee+".autorange",!0),or(Ee+".range",null);O(mt,Ee+"._inputRange").set(null)}else if(wr.match(L)){var Tn=O(mt,xr).get(),On=(Sr||{}).type;(!On||On==="-")&&(On="linear"),w.getComponentMethod("annotations","convertCoords")(He,Tn,On,or),w.getComponentMethod("images","convertCoords")(He,Tn,On,or)}var pn=E.containerArrayMatch(xr);if(pn){fn=pn.array,Hn=pn.index;var Jn=pn.property,Fn=Ft||{editType:"calc"};Hn!==""&&Jn===""&&(E.isAddVal(Sr)?kr[xr]=null:E.isRemoveVal(Sr)?kr[xr]=(O(dt,fn).get()||[])[Hn]:b.warn("unrecognized full object value",at)),ie.update(Wn,Fn),Rt[fn]||(Rt[fn]={});var Zr=Rt[fn][Hn];Zr||(Zr=Rt[fn][Hn]={}),Zr[Jn]=Sr,delete at[xr]}else wr==="reverse"?(St.range?St.range.reverse():(or(Ee+".autorange",!0),St.range=[1,0]),Ct.autorange?Wn.calc=!0:Wn.plot=!0):(xr==="dragmode"&&(Sr===!1&&Lt!==!1||Sr!==!1&&Lt===!1)||mt._has("scatter-like")&&mt._has("regl")&&xr==="dragmode"&&(Sr==="lasso"||Sr==="select")&&!(Lt==="lasso"||Lt==="select")||mt._has("gl2d")?Wn.plot=!0:Ft?ie.update(Wn,Ft):Wn.calc=!0,sr.set(Sr))}}for(fn in Rt){var dr=E.applyContainerArrayChanges(He,Pt(dt,fn),Rt[fn],Wn,Pt);dr||(Wn.plot=!0)}for(var Ur in jr){_r=M.getFromId(He,Ur);var ar=_r&&_r._constraintGroup;if(ar){Wn.calc=!0;for(var ur in ar)jr[ur]||(M.getFromId(He,ur)._constraintShrinkable=!0)}}(yt(He)||at.height||at.width)&&(Wn.plot=!0);var qr=mt.shapes;for(Hn=0;Hn<qr.length;Hn++)if(qr[Hn].showlegend){Wn.calc=!0;break}return(Wn.plot||Wn.calc)&&(Wn.layoutReplot=!0),{flags:Wn,rangesAltered:jr,undoit:kr,redoit:Br,eventData:Wt}}function yt(He){var at=He._fullLayout,dt=at.width,mt=at.height;return He.layout.autosize&&R.plotAutoSize(He,He.layout,at),at.width!==dt||at.height!==mt}function ft(He,at,dt,mt){He=b.getGraphDiv(He),W.clearPromiseQueue(He),b.isPlainObject(at)||(at={}),b.isPlainObject(dt)||(dt={}),Object.keys(at).length&&(He.changed=!0),Object.keys(dt).length&&(He.changed=!0);var Tt=W.coerceTraceIndices(He,mt),Pt=ke(He,b.extendFlat({},at),Tt),dn=Pt.flags,rn=et(He,b.extendFlat({},dt)),Wt=rn.flags;(dn.calc||Wt.calc)&&(He.calcdata=void 0),dn.clearAxisTypes&&W.clearAxisTypes(He,Tt,dt);var Rt=[];Wt.layoutReplot?Rt.push(X.layoutReplot):dn.fullReplot?Rt.push(h._doPlot):(Rt.push(R.previousPromises),Xe(He,Wt,rn)||R.supplyDefaults(He),dn.style&&Rt.push(X.doTraceStyle),(dn.colorbars||Wt.colorbars)&&Rt.push(X.doColorBars),Wt.legend&&Rt.push(X.doLegend),Wt.layoutstyle&&Rt.push(X.layoutStyles),Wt.axrange&&ct(Rt,rn.rangesAltered),Wt.ticks&&Rt.push(X.doTicksRelayout),Wt.modebar&&Rt.push(X.doModeBar),Wt.camera&&Rt.push(X.doCamera),Rt.push(de)),Rt.push(R.rehover,R.redrag,R.reselect),k.add(He,ft,[He,Pt.undoit,rn.undoit,Pt.traces],ft,[He,Pt.redoit,rn.redoit,Pt.traces]);var fn=b.syncOrAsync(Rt,He);return(!fn||!fn.then)&&(fn=Promise.resolve(He)),fn.then(function(){return He.emit("plotly_update",{data:Pt.eventData,layout:rn.eventData}),He})}function tt(He){return function(dt){dt._fullLayout._guiEditing=!0;var mt=He.apply(null,arguments);return dt._fullLayout._guiEditing=!1,mt}}var wt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Xt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Gt(He,at){for(var dt=0;dt<at.length;dt++){var mt=at[dt],Tt=He.match(mt.pattern);if(Tt){var Pt=Tt[1]||"";return{head:Pt,tail:He.substr(Pt.length+1),attr:mt.attr}}}}function Nt(He,at){var dt=O(at,He).get();if(dt!==void 0)return dt;var mt=He.split(".");for(mt.pop();mt.length>1;)if(mt.pop(),dt=O(at,mt.join(".")+".uirevision").get(),dt!==void 0)return dt;return at.uirevision}function Bt(He,at){for(var dt=0;dt<at.length;dt++)if(at[dt]._fullInput.uid===He)return dt;return-1}function vn(He,at,dt){for(var mt=0;mt<at.length;mt++)if(at[mt].uid===He)return mt;return!at[dt]||at[dt].uid?-1:dt}function En(He,at){var dt=b.isPlainObject(He),mt=Array.isArray(He);return dt||mt?(dt&&b.isPlainObject(at)||mt&&Array.isArray(at))&&JSON.stringify(He)===JSON.stringify(at):He===at}function ln(He,at,dt,mt){var Tt=mt._preGUI,Pt,dn,rn,Wt,Rt,fn,Hn,nr,Er,zt,vr=[],Wn={},Br={};for(Pt in Tt){if(Rt=Gt(Pt,wt),Rt){if(Er=Rt.head,zt=Rt.tail,dn=Rt.attr||Er+".uirevision",rn=O(mt,dn).get(),Wt=rn&&Nt(dn,at),Wt&&Wt===rn){if(fn=Tt[Pt],fn===null&&(fn=void 0),Hn=O(at,Pt),nr=Hn.get(),En(nr,fn)){nr===void 0&&zt==="autorange"&&vr.push(Er),Hn.set(fe(O(mt,Pt).get()));continue}else if(zt==="autorange"||zt.substr(0,6)==="range["){var kr=Tt[Er+".range[0]"],or=Tt[Er+".range[1]"],jr=Tt[Er+".autorange"];if(jr||jr===null&&kr===null&&or===null){if(!(Er in Wn)){var _r=O(at,Er).get();Wn[Er]=_r&&(_r.autorange||_r.autorange!==!1&&(!_r.range||_r.range.length!==2))}if(Wn[Er]){Hn.set(fe(O(mt,Pt).get()));continue}}}}}else b.warn("unrecognized GUI edit: "+Pt);delete Tt[Pt],Rt&&Rt.tail.substr(0,6)==="range["&&(Br[Rt.head]=1)}for(var Rn=0;Rn<vr.length;Rn++){var xr=vr[Rn];if(Br[xr]){var sr=O(at,xr).get();sr&&delete sr.autorange}}var Sr=mt._tracePreGUI;for(var ao in Sr){var Oo=Sr[ao],wr=null,Fe;for(Pt in Oo){if(!wr){var Ee=Bt(ao,dt);if(Ee<0){delete Sr[ao];break}var St=dt[Ee];Fe=St._fullInput;var Ct=vn(ao,He,Fe.index);if(Ct<0){delete Sr[ao];break}wr=He[Ct]}if(Rt=Gt(Pt,Xt),Rt){if(Rt.attr?(rn=O(mt,Rt.attr).get(),Wt=rn&&Nt(Rt.attr,at)):(rn=Fe.uirevision,Wt=wr.uirevision,Wt===void 0&&(Wt=at.uirevision)),Wt&&Wt===rn&&(fn=Oo[Pt],fn===null&&(fn=void 0),Hn=O(wr,Pt),nr=Hn.get(),En(nr,fn))){Hn.set(fe(O(Fe,Pt).get()));continue}}else b.warn("unrecognized GUI edit: "+Pt+" in trace uid "+ao);delete Oo[Pt]}}}function Yn(He,at,dt,mt){var Tt,Pt;function dn(){return h.addFrames(He,Tt)}He=b.getGraphDiv(He),W.clearPromiseQueue(He);var rn=He._fullData,Wt=He._fullLayout;if(!b.isPlotDiv(He)||!rn||!Wt)Pt=h.newPlot(He,at,dt,mt);else{if(b.isPlainObject(at)){var Rt=at;at=Rt.data,dt=Rt.layout,mt=Rt.config,Tt=Rt.frames}var fn=!1;if(mt){var Hn=b.extendDeep({},He._context);He._context=void 0,Be(He,mt),fn=Un(Hn,He._context)}He.data=at||[],W.cleanData(He.data),He.layout=dt||{},W.cleanLayout(He.layout),ln(He.data,He.layout,rn,Wt),R.supplyDefaults(He,{skipUpdateCalc:!0});var nr=He._fullData,Er=He._fullLayout,zt=Er.datarevision===void 0,vr=Er.transition,Wn=wn(He,Wt,Er,zt,vr),Br=Wn.newDataRevision,kr=an(He,rn,nr,zt,vr,Br);if(yt(He)&&(Wn.layoutReplot=!0),kr.calc||Wn.calc){He.calcdata=void 0;for(var or=Object.getOwnPropertyNames(Er),jr=0;jr<or.length;jr++){var _r=or[jr],Rn=_r.substring(0,5);if(Rn==="xaxis"||Rn==="yaxis"){var xr=Er[_r]._emptyCategories;xr&&xr()}}}else R.supplyDefaultsUpdateCalc(He.calcdata,nr);var sr=[];if(Tt&&(He._transitionData={},R.createTransitionData(He),sr.push(dn)),Er.transition&&!fn&&(kr.anim||Wn.anim))Wn.ticks&&sr.push(X.doTicksRelayout),R.doCalcdata(He),X.doAutoRangeAndConstraints(He),sr.push(function(){return R.transitionFromReact(He,kr,Wn,Wt)});else if(kr.fullReplot||Wn.layoutReplot||fn)He._fullLayout._skipDefaults=!0,sr.push(h._doPlot);else{for(var Sr in Wn.arrays){var ao=Wn.arrays[Sr];if(ao.length){var Oo=w.getComponentMethod(Sr,"drawOne");if(Oo!==b.noop)for(var wr=0;wr<ao.length;wr++)Oo(He,ao[wr]);else{var Fe=w.getComponentMethod(Sr,"draw");if(Fe===b.noop)throw new Error("cannot draw components: "+Sr);Fe(He)}}}sr.push(R.previousPromises),kr.style&&sr.push(X.doTraceStyle),(kr.colorbars||Wn.colorbars)&&sr.push(X.doColorBars),Wn.legend&&sr.push(X.doLegend),Wn.layoutstyle&&sr.push(X.layoutStyles),Wn.axrange&&ct(sr),Wn.ticks&&sr.push(X.doTicksRelayout),Wn.modebar&&sr.push(X.doModeBar),Wn.camera&&sr.push(X.doCamera),sr.push(de)}sr.push(R.rehover,R.redrag,R.reselect),Pt=b.syncOrAsync(sr,He),(!Pt||!Pt.then)&&(Pt=Promise.resolve(He))}return Pt.then(function(){return He.emit("plotly_react",{data:at,layout:dt}),He})}function an(He,at,dt,mt,Tt,Pt){var dn=at.length===dt.length;if(!Tt&&!dn)return{fullReplot:!0,calc:!0};var rn=ie.traceFlags();rn.arrays={},rn.nChanges=0,rn.nChangesAnim=0;var Wt,Rt;function fn(Er){var zt=T.getTraceValObject(Rt,Er);return!Rt._module.animatable&&zt.anim&&(zt.anim=!1),zt}var Hn={getValObject:fn,flags:rn,immutable:mt,transition:Tt,newDataRevision:Pt,gd:He},nr={};for(Wt=0;Wt<at.length;Wt++)if(dt[Wt]){if(Rt=dt[Wt]._fullInput,R.hasMakesDataTransform(Rt)&&(Rt=dt[Wt]),nr[Rt.uid])continue;nr[Rt.uid]=1,Xn(at[Wt]._fullInput,Rt,[],Hn)}return(rn.calc||rn.plot)&&(rn.fullReplot=!0),Tt&&rn.nChanges&&rn.nChangesAnim&&(rn.anim=rn.nChanges===rn.nChangesAnim&&dn?"all":"some"),rn}function wn(He,at,dt,mt,Tt){var Pt=ie.layoutFlags();Pt.arrays={},Pt.rangesAltered={},Pt.nChanges=0,Pt.nChangesAnim=0;function dn(Wt){return T.getLayoutValObject(dt,Wt)}var rn={getValObject:dn,flags:Pt,immutable:mt,transition:Tt,gd:He};return Xn(at,dt,[],rn),(Pt.plot||Pt.calc)&&(Pt.layoutReplot=!0),Tt&&Pt.nChanges&&Pt.nChangesAnim&&(Pt.anim=Pt.nChanges===Pt.nChangesAnim?"all":"some"),Pt}function Xn(He,at,dt,mt){var Tt,Pt,dn,rn=mt.getValObject,Wt=mt.flags,Rt=mt.immutable,fn=mt.inArray,Hn=mt.arrayIndex;function nr(){var Ee=Tt.editType;if(fn&&Ee.indexOf("arraydraw")!==-1){b.pushUnique(Wt.arrays[fn],Hn);return}ie.update(Wt,Tt),Ee!=="none"&&Wt.nChanges++,mt.transition&&Tt.anim&&Wt.nChangesAnim++,(pt.test(dn)||Ye.test(dn))&&(Wt.rangesAltered[dt[0]]=1),je.test(dn)&&O(at,"_inputDomain").set(null),Pt==="datarevision"&&(Wt.newDataRevision=1)}function Er(Ee){return Ee.valType==="data_array"||Ee.arrayOk}for(Pt in He){if(Wt.calc&&!mt.transition)return;var zt=He[Pt],vr=at[Pt],Wn=dt.concat(Pt);if(dn=Wn.join("."),!(Pt.charAt(0)==="_"||typeof zt=="function"||zt===vr)){if((Pt==="tick0"||Pt==="dtick")&&dt[0]!=="geo"){var Br=at.tickmode;if(Br==="auto"||Br==="array"||!Br)continue}if(!(Pt==="range"&&at.autorange)&&!((Pt==="zmin"||Pt==="zmax")&&at.type==="contourcarpet")&&(Tt=rn(Wn),!!Tt&&!(Tt._compareAsJSON&&JSON.stringify(zt)===JSON.stringify(vr)))){var kr=Tt.valType,or,jr=Er(Tt),_r=Array.isArray(zt),Rn=Array.isArray(vr);if(_r&&Rn){var xr="_input_"+Pt,sr=He[xr],Sr=at[xr];if(Array.isArray(sr)&&sr===Sr)continue}if(vr===void 0)jr&&_r?Wt.calc=!0:nr();else if(Tt._isLinkedToArray){var ao=[],Oo=!1;fn||(Wt.arrays[Pt]=ao);var wr=Math.min(zt.length,vr.length),Fe=Math.max(zt.length,vr.length);if(wr!==Fe)if(Tt.editType==="arraydraw")Oo=!0;else{nr();continue}for(or=0;or<wr;or++)Xn(zt[or],vr[or],Wn.concat(or),b.extendFlat({inArray:Pt,arrayIndex:or},mt));if(Oo)for(or=wr;or<Fe;or++)ao.push(or)}else!kr&&b.isPlainObject(zt)?Xn(zt,vr,Wn,mt):jr?_r&&Rn?(Rt&&(Wt.calc=!0),(Rt||mt.newDataRevision)&&nr()):_r!==Rn?Wt.calc=!0:nr():_r&&Rn?(zt.length!==vr.length||String(zt)!==String(vr))&&nr():nr()}}}for(Pt in at)if(!(Pt in He||Pt.charAt(0)==="_"||typeof at[Pt]=="function"))if(Tt=rn(dt.concat(Pt)),Er(Tt)&&Array.isArray(at[Pt])){Wt.calc=!0;return}else nr()}function Un(He,at){var dt;for(dt in He)if(dt.charAt(0)!=="_"){var mt=He[dt],Tt=at[dt];if(mt!==Tt)if(b.isPlainObject(mt)&&b.isPlainObject(Tt)){if(Un(mt,Tt))return!0}else if(Array.isArray(mt)&&Array.isArray(Tt)){if(mt.length!==Tt.length)return!0;for(var Pt=0;Pt<mt.length;Pt++)if(mt[Pt]!==Tt[Pt])if(b.isPlainObject(mt[Pt])&&b.isPlainObject(Tt[Pt])){if(Un(mt[Pt],Tt[Pt]))return!0}else return!0}else return!0}}function Sn(He,at,dt){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var mt=He._transitionData;mt._frameQueue||(mt._frameQueue=[]),dt=R.supplyAnimationDefaults(dt);var Tt=dt.transition,Pt=dt.frame;mt._frameWaitingCnt===void 0&&(mt._frameWaitingCnt=0);function dn(Rt){return Array.isArray(Tt)?Rt>=Tt.length?Tt[0]:Tt[Rt]:Tt}function rn(Rt){return Array.isArray(Pt)?Rt>=Pt.length?Pt[0]:Pt[Rt]:Pt}function Wt(Rt,fn){var Hn=0;return function(){if(Rt&&++Hn===fn)return Rt()}}return new Promise(function(Rt,fn){function Hn(){if(mt._frameQueue.length!==0){for(;mt._frameQueue.length;){var wr=mt._frameQueue.pop();wr.onInterrupt&&wr.onInterrupt()}He.emit("plotly_animationinterrupted",[])}}function nr(wr){if(wr.length!==0){for(var Fe=0;Fe<wr.length;Fe++){var Ee;wr[Fe].type==="byname"?Ee=R.computeFrame(He,wr[Fe].name):Ee=wr[Fe].data;var St=rn(Fe),Ct=dn(Fe);Ct.duration=Math.min(Ct.duration,St.duration);var Lt={frame:Ee,name:wr[Fe].name,frameOpts:St,transitionOpts:Ct};Fe===wr.length-1&&(Lt.onComplete=Wt(Rt,2),Lt.onInterrupt=fn),mt._frameQueue.push(Lt)}dt.mode==="immediate"&&(mt._lastFrameAt=-1/0),mt._animationRaf||vr()}}function Er(){He.emit("plotly_animated"),window.cancelAnimationFrame(mt._animationRaf),mt._animationRaf=null}function zt(){mt._currentFrame&&mt._currentFrame.onComplete&&mt._currentFrame.onComplete();var wr=mt._currentFrame=mt._frameQueue.shift();if(wr){var Fe=wr.name?wr.name.toString():null;He._fullLayout._currentFrame=Fe,mt._lastFrameAt=Date.now(),mt._timeToNext=wr.frameOpts.duration,R.transition(He,wr.frame.data,wr.frame.layout,W.coerceTraceIndices(He,wr.frame.traces),wr.frameOpts,wr.transitionOpts).then(function(){wr.onComplete&&wr.onComplete()}),He.emit("plotly_animatingframe",{name:Fe,frame:wr.frame,animation:{frame:wr.frameOpts,transition:wr.transitionOpts}})}else Er()}function vr(){He.emit("plotly_animating"),mt._lastFrameAt=-1/0,mt._timeToNext=0,mt._runningTransitions=0,mt._currentFrame=null;var wr=function(){mt._animationRaf=window.requestAnimationFrame(wr),Date.now()-mt._lastFrameAt>mt._timeToNext&&zt()};wr()}var Wn=0;function Br(wr){return Array.isArray(Tt)?Wn>=Tt.length?wr.transitionOpts=Tt[Wn]:wr.transitionOpts=Tt[0]:wr.transitionOpts=Tt,Wn++,wr}var kr,or,jr=[],_r=at==null,Rn=Array.isArray(at),xr=!_r&&!Rn&&b.isPlainObject(at);if(xr)jr.push({type:"object",data:Br(b.extendFlat({},at))});else if(_r||["string","number"].indexOf(typeof at)!==-1)for(kr=0;kr<mt._frames.length;kr++)or=mt._frames[kr],or&&(_r||String(or.group)===String(at))&&jr.push({type:"byname",name:String(or.name),data:Br({name:or.name})});else if(Rn)for(kr=0;kr<at.length;kr++){var sr=at[kr];["number","string"].indexOf(typeof sr)!==-1?(sr=String(sr),jr.push({type:"byname",name:sr,data:Br({name:sr})})):b.isPlainObject(sr)&&jr.push({type:"object",data:Br(b.extendFlat({},sr))})}for(kr=0;kr<jr.length;kr++)if(or=jr[kr],or.type==="byname"&&!mt._frameHash[or.data.name]){b.warn('animate failure: frame not found: "'+or.data.name+'"'),fn();return}["next","immediate"].indexOf(dt.mode)!==-1&&Hn(),dt.direction==="reverse"&&jr.reverse();var Sr=He._fullLayout._currentFrame;if(Sr&&dt.fromcurrent){var ao=-1;for(kr=0;kr<jr.length;kr++)if(or=jr[kr],or.type==="byname"&&or.name===Sr){ao=kr;break}if(ao>0&&ao<jr.length-1){var Oo=[];for(kr=0;kr<jr.length;kr++)or=jr[kr],(jr[kr].type!=="byname"||kr>ao)&&Oo.push(or);jr=Oo}}jr.length>0?nr(jr):(He.emit("plotly_animated"),Rt())})}function lt(He,at,dt){if(He=b.getGraphDiv(He),at==null)return Promise.resolve();if(!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var mt,Tt,Pt,dn,rn=He._transitionData._frames,Wt=He._transitionData._frameHash;if(!Array.isArray(at))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+at);var Rt=rn.length+at.length*2,fn=[],Hn={};for(mt=at.length-1;mt>=0;mt--)if(b.isPlainObject(at[mt])){var nr=at[mt].name,Er=(Wt[nr]||Hn[nr]||{}).name,zt=at[mt].name,vr=Wt[Er]||Hn[Er];Er&&zt&&typeof zt=="number"&&vr&&me<ae&&(me++,b.warn('addFrames: overwriting frame "'+(Wt[Er]||Hn[Er]).name+'" with a frame whose name of type "number" also equates to "'+Er+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),me===ae&&b.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Hn[nr]={name:nr},fn.push({frame:R.supplyFrameDefaults(at[mt]),index:dt&&dt[mt]!==void 0&&dt[mt]!==null?dt[mt]:Rt+mt})}fn.sort(function(xr,sr){return xr.index>sr.index?-1:xr.index<sr.index?1:0});var Wn=[],Br=[],kr=rn.length;for(mt=fn.length-1;mt>=0;mt--){if(Tt=fn[mt].frame,typeof Tt.name=="number"&&b.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Tt.name)for(;Wt[Tt.name="frame "+He._transitionData._counter++];);if(Wt[Tt.name]){for(Pt=0;Pt<rn.length&&(rn[Pt]||{}).name!==Tt.name;Pt++);Wn.push({type:"replace",index:Pt,value:Tt}),Br.unshift({type:"replace",index:Pt,value:rn[Pt]})}else dn=Math.max(0,Math.min(fn[mt].index,kr)),Wn.push({type:"insert",index:dn,value:Tt}),Br.unshift({type:"delete",index:dn}),kr++}var or=R.modifyFrames,jr=R.modifyFrames,_r=[He,Br],Rn=[He,Wn];return k&&k.add(He,or,_r,jr,Rn),R.modifyFrames(He,Wn)}function ut(He,at){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He);var dt,mt,Tt=He._transitionData._frames,Pt=[],dn=[];if(!at)for(at=[],dt=0;dt<Tt.length;dt++)at.push(dt);for(at=at.slice(),at.sort(),dt=at.length-1;dt>=0;dt--)mt=at[dt],Pt.push({type:"delete",index:mt}),dn.unshift({type:"insert",index:mt,value:Tt[mt]});var rn=R.modifyFrames,Wt=R.modifyFrames,Rt=[He,dn],fn=[He,Pt];return k&&k.add(He,rn,Rt,Wt,fn),R.modifyFrames(He,Pt)}function xt(He){He=b.getGraphDiv(He);var at=He._fullLayout||{},dt=He._fullData||[];return R.cleanPlot([],{},dt,at),R.purge(He),C.purge(He),at._container&&at._container.remove(),delete He._context,He}function gt(He){var at=He._fullLayout,dt=He.getBoundingClientRect();if(!b.equalDomRects(dt,at._lastBBox)){var mt=at._invTransform=b.inverseTransformMatrix(b.getFullTransformMatrix(He));at._invScaleX=Math.sqrt(mt[0][0]*mt[0][0]+mt[0][1]*mt[0][1]+mt[0][2]*mt[0][2]),at._invScaleY=Math.sqrt(mt[1][0]*mt[1][0]+mt[1][1]*mt[1][1]+mt[1][2]*mt[1][2]),at._lastBBox=dt}}function Dt(He){var at=g.select(He),dt=He._fullLayout;if(dt._calcInverseTransform=gt,dt._calcInverseTransform(He),dt._container=at.selectAll(".plot-container").data([0]),dt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),dt._paperdiv=dt._container.selectAll(".svg-container").data([0]),dt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),dt._glcontainer=dt._paperdiv.selectAll(".gl-container").data([{}]),dt._glcontainer.enter().append("div").classed("gl-container",!0),dt._paperdiv.selectAll(".main-svg").remove(),dt._paperdiv.select(".modebar-container").remove(),dt._paper=dt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),dt._toppaper=dt._paperdiv.append("svg").classed("main-svg",!0),dt._modebardiv=dt._paperdiv.append("div"),delete dt._modeBar,dt._hoverpaper=dt._paperdiv.append("svg").classed("main-svg",!0),!dt._uid){var mt={};g.selectAll("defs").each(function(){this.id&&(mt[this.id.split("-")[1]]=1)}),dt._uid=b.randstr(mt)}dt._paperdiv.selectAll(".main-svg").attr(U.svgAttrs),dt._defs=dt._paper.append("defs").attr("id","defs-"+dt._uid),dt._clips=dt._defs.append("g").classed("clips",!0),dt._topdefs=dt._toppaper.append("defs").attr("id","topdefs-"+dt._uid),dt._topclips=dt._topdefs.append("g").classed("clips",!0),dt._bgLayer=dt._paper.append("g").classed("bglayer",!0),dt._draggers=dt._paper.append("g").classed("draglayer",!0);var Tt=dt._paper.append("g").classed("layer-below",!0);dt._imageLowerLayer=Tt.append("g").classed("imagelayer",!0),dt._shapeLowerLayer=Tt.append("g").classed("shapelayer",!0),dt._cartesianlayer=dt._paper.append("g").classed("cartesianlayer",!0),dt._polarlayer=dt._paper.append("g").classed("polarlayer",!0),dt._smithlayer=dt._paper.append("g").classed("smithlayer",!0),dt._ternarylayer=dt._paper.append("g").classed("ternarylayer",!0),dt._geolayer=dt._paper.append("g").classed("geolayer",!0),dt._funnelarealayer=dt._paper.append("g").classed("funnelarealayer",!0),dt._pielayer=dt._paper.append("g").classed("pielayer",!0),dt._iciclelayer=dt._paper.append("g").classed("iciclelayer",!0),dt._treemaplayer=dt._paper.append("g").classed("treemaplayer",!0),dt._sunburstlayer=dt._paper.append("g").classed("sunburstlayer",!0),dt._indicatorlayer=dt._toppaper.append("g").classed("indicatorlayer",!0),dt._glimages=dt._paper.append("g").classed("glimages",!0);var Pt=dt._toppaper.append("g").classed("layer-above",!0);dt._imageUpperLayer=Pt.append("g").classed("imagelayer",!0),dt._shapeUpperLayer=Pt.append("g").classed("shapelayer",!0),dt._selectionLayer=dt._toppaper.append("g").classed("selectionlayer",!0),dt._infolayer=dt._toppaper.append("g").classed("infolayer",!0),dt._menulayer=dt._toppaper.append("g").classed("menulayer",!0),dt._zoomlayer=dt._toppaper.append("g").classed("zoomlayer",!0),dt._hoverlayer=dt._hoverpaper.append("g").classed("hoverlayer",!0),dt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),He.emit("plotly_framework")}h.animate=Sn,h.addFrames=lt,h.deleteFrames=ut,h.addTraces=re,h.deleteTraces=be,h.extendTraces=_e,h.moveTraces=te,h.prependTraces=Ie,h.newPlot=ne,h._doPlot=q,h.purge=xt,h.react=Yn,h.redraw=pe,h.relayout=Ze,h.restyle=se,h.setPlotConfig=ee,h.update=ft,h._guiRelayout=tt(Ze),h._guiRestyle=tt(se),h._guiUpdate=tt(ft),h._storeDirectGUIEdit=ce},2075:function(f){var h={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},c={};function g(v,y){for(var b in v){var O=v[b];O.valType?y[b]=O.dflt:(y[b]||(y[b]={}),g(O,y[b]))}}g(h,c),f.exports={configAttributes:h,dfltConfig:c}},6281:function(f,h,c){var g=c(3972),v=c(1828),y=c(9012),b=c(820),O=c(1391),C=c(5594),k=c(2075).configAttributes,w=c(962),T=v.extendDeepAll,R=v.isPlainObject,M=v.isArrayOrTypedArray,I=v.nestedProperty,V=v.valObjectMeta,N="_isSubplotObj",Q="_isLinkedToArray",z="_arrayAttrRegexps",U="_deprecated",F=[N,Q,z,U];h.IS_SUBPLOT_OBJ=N,h.IS_LINKED_TO_ARRAY=Q,h.DEPRECATED=U,h.UNDERSCORE_ATTRS=F,h.get=function(){var Be={};g.allTypes.forEach(function(ne){Be[ne]=X(ne)});var pe={};return Object.keys(g.transformsRegistry).forEach(function(ne){pe[ne]=L(ne)}),{defs:{valObjects:V,metaKeys:F.concat(["description","role","editType","impliedEdits"]),editType:{traces:w.traces,layout:w.layout},impliedEdits:{}},traces:Be,layout:ie(),transforms:pe,frames:me(),animation:ae(C),config:ae(k)}},h.crawl=function(Be,pe,ne,le){var Y=ne||0;le=le||"",Object.keys(Be).forEach(function(ve){var Oe=Be[ve];if(F.indexOf(ve)===-1){var Le=(le?le+".":"")+ve;pe(Oe,ve,Be,Y,Le),!h.isValObject(Oe)&&R(Oe)&&ve!=="impliedEdits"&&h.crawl(Oe,pe,Y+1,Le)}})},h.isValObject=function(Be){return Be&&Be.valType!==void 0},h.findArrayAttributes=function(Be){var pe=[],ne=[],le=[],Y,ve;function Oe(Ie,re,be,te){ne=ne.slice(0,te).concat([re]),le=le.slice(0,te).concat([Ie&&Ie._isLinkedToArray]);var se=Ie&&(Ie.valType==="data_array"||Ie.arrayOk===!0)&&!(ne[te-1]==="colorbar"&&(re==="ticktext"||re==="tickvals"));se&&Le(Y,0,"")}function Le(Ie,re,be){var te=Ie[ne[re]],se=be+ne[re];if(re===ne.length-1)M(te)&&pe.push(ve+se);else if(le[re]){if(Array.isArray(te))for(var fe=0;fe<te.length;fe++)R(te[fe])&&Le(te[fe],re+1,se+"["+fe+"].")}else R(te)&&Le(te,re+1,se+".")}Y=Be,ve="",h.crawl(y,Oe),Be._module&&Be._module.attributes&&h.crawl(Be._module.attributes,Oe);var Ce=Be.transforms;if(Ce)for(var De=0;De<Ce.length;De++){var Ve=Ce[De],_e=Ve._module;_e&&(ve="transforms["+De+"].",Y=Ve,h.crawl(_e.attributes,Oe))}return pe},h.getTraceValObject=function(Be,pe){var ne=pe[0],le=1,Y,ve;if(ne==="transforms"){if(pe.length===1)return y.transforms;var Oe=Be.transforms;if(!Array.isArray(Oe)||!Oe.length)return!1;var Le=pe[1];if(!W(Le)||Le>=Oe.length)return!1;Y=(g.transformsRegistry[Oe[Le].type]||{}).attributes,ve=Y&&Y[pe[2]],le=3}else{var Ce=Be._module;if(Ce||(Ce=(g.modules[Be.type||y.type.dflt]||{})._module),!Ce)return!1;if(Y=Ce.attributes,ve=Y&&Y[ne],!ve){var De=Ce.basePlotModule;De&&De.attributes&&(ve=De.attributes[ne])}ve||(ve=y[ne])}return E(ve,pe,le)},h.getLayoutValObject=function(Be,pe){var ne=B(Be,pe[0]);return E(ne,pe,1)};function B(Be,pe){var ne,le,Y,ve,Oe=Be._basePlotModules;if(Oe){var Le;for(ne=0;ne<Oe.length;ne++){if(Y=Oe[ne],Y.attrRegex&&Y.attrRegex.test(pe)){if(Y.layoutAttrOverrides)return Y.layoutAttrOverrides;!Le&&Y.layoutAttributes&&(Le=Y.layoutAttributes)}var Ce=Y.baseLayoutAttrOverrides;if(Ce&&pe in Ce)return Ce[pe]}if(Le)return Le}var De=Be._modules;if(De){for(ne=0;ne<De.length;ne++)if(ve=De[ne].layoutAttributes,ve&&pe in ve)return ve[pe]}for(le in g.componentsRegistry){if(Y=g.componentsRegistry[le],Y.name==="colorscale"&&pe.indexOf("coloraxis")===0)return Y.layoutAttributes[pe];if(!Y.schema&&pe===Y.name)return Y.layoutAttributes}return pe in b?b[pe]:!1}function E(Be,pe,ne){if(!Be)return!1;if(Be._isLinkedToArray){if(W(pe[ne]))ne++;else if(ne<pe.length)return!1}for(;ne<pe.length;ne++){var le=Be[pe[ne]];if(R(le))Be=le;else break;if(ne===pe.length-1)break;if(Be._isLinkedToArray){if(ne++,!W(pe[ne]))return!1}else if(Be.valType==="info_array"){ne++;var Y=pe[ne];if(!W(Y))return!1;var ve=Be.items;if(Array.isArray(ve)){if(Y>=ve.length)return!1;if(Be.dimensions===2){if(ne++,pe.length===ne)return Be;var Oe=pe[ne];if(!W(Oe))return!1;Be=ve[Y][Oe]}else Be=ve[Y]}else Be=ve}}return Be}function W(Be){return Be===Math.round(Be)&&Be>=0}function X(Be){var pe,ne;pe=g.modules[Be]._module,ne=pe.basePlotModule;var le={};le.type=null;var Y=T({},y),ve=T({},pe.attributes);h.crawl(ve,function(Ce,De,Ve,_e,Ie){I(Y,Ie).set(void 0),Ce===void 0&&I(ve,Ie).set(void 0)}),T(le,Y),g.traceIs(Be,"noOpacity")&&delete le.opacity,g.traceIs(Be,"showLegend")||(delete le.showlegend,delete le.legendgroup),g.traceIs(Be,"noHover")&&(delete le.hoverinfo,delete le.hoverlabel),pe.selectPoints||delete le.selectedpoints,T(le,ve),ne.attributes&&T(le,ne.attributes),le.type=Be;var Oe={meta:pe.meta||{},categories:pe.categories||{},animatable:!!pe.animatable,type:Be,attributes:ae(le)};if(pe.layoutAttributes){var Le={};T(Le,pe.layoutAttributes),Oe.layoutAttributes=ae(Le)}return pe.animatable||h.crawl(Oe,function(Ce){h.isValObject(Ce)&&"anim"in Ce&&delete Ce.anim}),Oe}function ie(){var Be={},pe,ne;T(Be,b);for(pe in g.subplotsRegistry)if(ne=g.subplotsRegistry[pe],!!ne.layoutAttributes)if(Array.isArray(ne.attr))for(var le=0;le<ne.attr.length;le++)xe(Be,ne,ne.attr[le]);else{var Y=ne.attr==="subplot"?ne.name:ne.attr;xe(Be,ne,Y)}for(pe in g.componentsRegistry){ne=g.componentsRegistry[pe];var ve=ne.schema;if(ve&&(ve.subplots||ve.layout)){var Oe=ve.subplots;if(Oe&&Oe.xaxis&&!Oe.yaxis)for(var Le in Oe.xaxis)delete Be.yaxis[Le];delete Be.xaxis.shift,delete Be.xaxis.autoshift}else ne.name==="colorscale"?T(Be,ne.layoutAttributes):ne.layoutAttributes&&we(Be,ne.layoutAttributes,ne.name)}return{layoutAttributes:ae(Be)}}function L(Be){var pe=g.transformsRegistry[Be],ne=T({},pe.attributes);return Object.keys(g.componentsRegistry).forEach(function(le){var Y=g.componentsRegistry[le];Y.schema&&Y.schema.transforms&&Y.schema.transforms[Be]&&Object.keys(Y.schema.transforms[Be]).forEach(function(ve){we(ne,Y.schema.transforms[Be][ve],ve)})}),{attributes:ae(ne)}}function me(){var Be={frames:T({},O)};return ae(Be),Be.frames}function ae(Be){return q(Be),de(Be),ee(Be),Be}function q(Be){function pe(le){return{valType:"string",editType:"none"}}function ne(le,Y,ve){h.isValObject(le)?(le.arrayOk===!0||le.valType==="data_array")&&(ve[Y+"src"]=pe()):R(le)&&(le.role="object")}h.crawl(Be,ne)}function de(Be){function pe(ne,le,Y){if(ne){var ve=ne[Q];ve&&(delete ne[Q],Y[le]={items:{}},Y[le].items[ve]=ne,Y[le].role="object")}}h.crawl(Be,pe)}function ee(Be){function pe(ne){for(var le in ne)if(R(ne[le]))pe(ne[le]);else if(Array.isArray(ne[le]))for(var Y=0;Y<ne[le].length;Y++)pe(ne[le][Y]);else ne[le]instanceof RegExp&&(ne[le]=ne[le].toString())}pe(Be)}function xe(Be,pe,ne){var le=I(Be,ne),Y=T({},pe.layoutAttributes);Y[N]=!0,le.set(Y)}function we(Be,pe,ne){var le=I(Be,ne);le.set(T(le.get()||{},pe))}},4467:function(f,h,c){var g=c(1828),v=c(9012),y="templateitemname",b={name:{valType:"string",editType:"none"}};b[y]={valType:"string",editType:"calc"},h.templatedArray=function(k,w){return w._isLinkedToArray=k,w.name=b.name,w[y]=b[y],w},h.traceTemplater=function(k){var w={},T,R;for(T in k)R=k[T],Array.isArray(R)&&R.length&&(w[T]=0);function M(I){T=g.coerce(I,{},v,"type");var V={type:T,_template:null};if(T in w){R=k[T];var N=w[T]%R.length;w[T]++,V._template=R[N]}return V}return{newTrace:M}},h.newContainer=function(k,w,T){var R=k._template,M=R&&(R[w]||T&&R[T]);g.isPlainObject(M)||(M=null);var I=k[w]={_template:M};return I},h.arrayTemplater=function(k,w,T){var R=k._template,M=R&&R[C(w)],I=R&&R[w];(!Array.isArray(I)||!I.length)&&(I=[]);var V={};function N(z){var U={name:z.name,_input:z},F=U[y]=z[y];if(!O(F))return U._template=M,U;for(var B=0;B<I.length;B++){var E=I[B];if(E.name===F)return V[F]=1,U._template=E,U}return U[T]=z[T]||!1,U._template=!1,U}function Q(){for(var z=[],U=0;U<I.length;U++){var F=I[U],B=F.name;if(O(B)&&!V[B]){var E={_template:F,name:B,_input:{_templateitemname:B}};E[y]=F[y],z.push(E),V[B]=1}}return z}return{newItem:N,defaultItems:Q}};function O(k){return k&&typeof k=="string"}function C(k){var w=k.length-1;return k.charAt(w)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+k),k.substr(0,k.length-1)+"defaults"}h.arrayDefaultKey=C,h.arrayEditor=function(k,w,T){var R=(g.nestedProperty(k,w).get()||[]).length,M=T._index,I=M>=R&&(T._input||{})._templateitemname;I&&(M=R);var V=w+"["+M+"]",N;function Q(){N={},I&&(N[V]={},N[V][y]=I)}Q();function z(E,W){N[E]=W}function U(E,W){I?g.nestedProperty(N[V],E).set(W):N[V+"."+E]=W}function F(){var E=N;return Q(),E}function B(E,W){E&&U(E,W);var X=F();for(var ie in X)g.nestedProperty(k,ie).set(X[ie])}return{modifyBase:z,modifyItem:U,getUpdateObj:F,applyUpdate:B}}},1549:function(f,h,c){var g=c(9898),v=c(3972),y=c(4875),b=c(1828),O=c(3893),C=c(3306),k=c(7901),w=c(1424),T=c(2998),R=c(4168),M=c(9298),I=c(8783),V=c(9082),N=V.enforce,Q=V.clean,z=c(1739).doAutoRange,U="start",F="middle",B="end";h.layoutStyles=function(ne){return b.syncOrAsync([y.doAutoMargin,W],ne)};function E(ne,le,Y){for(var ve=0;ve<Y.length;ve++){var Oe=Y[ve][0],Le=Y[ve][1];if(!(Oe[0]>=ne[1]||Oe[1]<=ne[0])&&Le[0]<le[1]&&Le[1]>le[0])return!0}return!1}function W(ne){var le=ne._fullLayout,Y=le._size,ve=Y.p,Oe=M.list(ne,"",!0),Le,Ce,De,Ve,_e,Ie;if(le._paperdiv.style({width:ne._context.responsive&&le.autosize&&!ne._context._hasZeroWidth&&!ne.layout.width?"100%":le.width+"px",height:ne._context.responsive&&le.autosize&&!ne._context._hasZeroHeight&&!ne.layout.height?"100%":le.height+"px"}).selectAll(".main-svg").call(w.setSize,le.width,le.height),ne._context.setBackground(ne,le.paper_bgcolor),h.drawMainTitle(ne),R.manage(ne),!le._has("cartesian"))return y.previousPromises(ne);function re(xt,gt,Dt){var He=xt._lw/2;if(xt._id.charAt(0)==="x"){if(gt){if(Dt==="top")return gt._offset-ve-He}else return Y.t+Y.h*(1-(xt.position||0))+He%1;return gt._offset+gt._length+ve+He}if(gt){if(Dt==="right")return gt._offset+gt._length+ve+He}else return Y.l+Y.w*(xt.position||0)+He%1;return gt._offset-ve-He}for(Le=0;Le<Oe.length;Le++){Ve=Oe[Le];var be=Ve._anchorAxis;Ve._linepositions={},Ve._lw=w.crispRound(ne,Ve.linewidth,1),Ve._mainLinePosition=re(Ve,be,Ve.side),Ve._mainMirrorPosition=Ve.mirror&&be?re(Ve,be,I.OPPOSITE_SIDE[Ve.side]):null}var te=[],se=[],fe=[],oe=k.opacity(le.paper_bgcolor)===1&&k.opacity(le.plot_bgcolor)===1&&le.paper_bgcolor===le.plot_bgcolor;for(Ce in le._plots)if(De=le._plots[Ce],De.mainplot)De.bg&&De.bg.remove(),De.bg=void 0;else{var Se=De.xaxis.domain,ce=De.yaxis.domain,ke=De.plotgroup;if(E(Se,ce,fe)){var Qe=ke.node(),Ze=De.bg=b.ensureSingle(ke,"rect","bg");Qe.insertBefore(Ze.node(),Qe.childNodes[0]),se.push(Ce)}else ke.select("rect.bg").remove(),fe.push([Se,ce]),oe||(te.push(Ce),se.push(Ce))}var Xe=le._bgLayer.selectAll(".bg").data(te);for(Xe.enter().append("rect").classed("bg",!0),Xe.exit().remove(),Xe.each(function(xt){le._plots[xt].bg=g.select(this)}),Le=0;Le<se.length;Le++)De=le._plots[se[Le]],_e=De.xaxis,Ie=De.yaxis,De.bg&&_e._offset!==void 0&&Ie._offset!==void 0&&De.bg.call(w.setRect,_e._offset-ve,Ie._offset-ve,_e._length+2*ve,Ie._length+2*ve).call(k.fill,le.plot_bgcolor).style("stroke-width",0);if(!le._hasOnlyLargeSploms)for(Ce in le._plots){De=le._plots[Ce],_e=De.xaxis,Ie=De.yaxis;var ct=De.clipId="clip"+le._uid+Ce+"plot",pt=b.ensureSingleById(le._clips,"clipPath",ct,function(xt){xt.classed("plotclip",!0).append("rect")});De.clipRect=pt.select("rect").attr({width:_e._length,height:Ie._length}),w.setTranslate(De.plot,_e._offset,Ie._offset);var Ye,je;De._hasClipOnAxisFalse?(Ye=null,je=ct):(Ye=ct,je=null),w.setClipUrl(De.plot,Ye,ne),De.layerClipId=je}var et,yt,ft,tt,wt,Xt,Gt,Nt,Bt,vn,En,ln,Yn;function an(xt){return"M"+et+","+xt+"H"+yt}function wn(xt){return"M"+_e._offset+","+xt+"h"+_e._length}function Xn(xt){return"M"+xt+","+Nt+"V"+Gt}function Un(xt){return Ie._shift!==void 0&&(xt+=Ie._shift),"M"+xt+","+Ie._offset+"v"+Ie._length}function Sn(xt,gt,Dt){if(!xt.showline||Ce!==xt._mainSubplot)return"";if(!xt._anchorAxis)return Dt(xt._mainLinePosition);var He=gt(xt._mainLinePosition);return xt.mirror&&(He+=gt(xt._mainMirrorPosition)),He}for(Ce in le._plots){De=le._plots[Ce],_e=De.xaxis,Ie=De.yaxis;var lt="M0,0";X(_e,Ce)&&(wt=L(_e,"left",Ie,Oe),et=_e._offset-(wt?ve+wt:0),Xt=L(_e,"right",Ie,Oe),yt=_e._offset+_e._length+(Xt?ve+Xt:0),ft=re(_e,Ie,"bottom"),tt=re(_e,Ie,"top"),Yn=!_e._anchorAxis||Ce!==_e._mainSubplot,Yn&&(_e.mirror==="allticks"||_e.mirror==="all")&&(_e._linepositions[Ce]=[ft,tt]),lt=Sn(_e,an,wn),Yn&&_e.showline&&(_e.mirror==="all"||_e.mirror==="allticks")&&(lt+=an(ft)+an(tt)),De.xlines.style("stroke-width",_e._lw+"px").call(k.stroke,_e.showline?_e.linecolor:"rgba(0,0,0,0)")),De.xlines.attr("d",lt);var ut="M0,0";X(Ie,Ce)&&(En=L(Ie,"bottom",_e,Oe),Gt=Ie._offset+Ie._length+(En?ve:0),ln=L(Ie,"top",_e,Oe),Nt=Ie._offset-(ln?ve:0),Bt=re(Ie,_e,"left"),vn=re(Ie,_e,"right"),Yn=!Ie._anchorAxis||Ce!==Ie._mainSubplot,Yn&&(Ie.mirror==="allticks"||Ie.mirror==="all")&&(Ie._linepositions[Ce]=[Bt,vn]),ut=Sn(Ie,Xn,Un),Yn&&Ie.showline&&(Ie.mirror==="all"||Ie.mirror==="allticks")&&(ut+=Xn(Bt)+Xn(vn)),De.ylines.style("stroke-width",Ie._lw+"px").call(k.stroke,Ie.showline?Ie.linecolor:"rgba(0,0,0,0)")),De.ylines.attr("d",ut)}return M.makeClipPaths(ne),y.previousPromises(ne)}function X(ne,le){return(ne.ticks||ne.showline)&&(le===ne._mainSubplot||ne.mirror==="all"||ne.mirror==="allticks")}function ie(ne,le,Y){if(!Y.showline||!Y._lw)return!1;if(Y.mirror==="all"||Y.mirror==="allticks")return!0;var ve=Y._anchorAxis;if(!ve)return!1;var Oe=I.FROM_BL[le];return Y.side===le?ve.domain[Oe]===ne.domain[Oe]:Y.mirror&&ve.domain[1-Oe]===ne.domain[1-Oe]}function L(ne,le,Y,ve){if(ie(ne,le,Y))return Y._lw;for(var Oe=0;Oe<ve.length;Oe++){var Le=ve[Oe];if(Le._mainAxis===Y._mainAxis&&ie(ne,le,Le))return Le._lw}return 0}h.drawMainTitle=function(ne){var le=ne._fullLayout.title,Y=ne._fullLayout,ve=Be(Y),Oe=pe(Y),Le=xe(Y,Oe),Ce=ee(Y,ve);if(T.draw(ne,"gtitle",{propContainer:Y,propName:"title.text",placeholder:Y._dfltTitle.plot,attributes:{x:Ce,y:Le,"text-anchor":ve,dy:Oe}}),le.text&&le.automargin){var De=g.selectAll(".gtitle"),Ve=w.bBox(De.node()).height,_e=q(ne,le,Ve);_e>0&&(de(ne,Le,_e,Ve),De.attr({x:Ce,y:Le,"text-anchor":ve,dy:we(le.yanchor)}).call(O.positionText,Ce,Le))}};function me(ne,le,Y,ve,Oe){var Le=le.yref==="paper"?ne._fullLayout._size.h:ne._fullLayout.height,Ce=b.isTopAnchor(le)?ve:ve-Oe,De=Y==="b"?Le-Ce:Ce;return b.isTopAnchor(le)&&Y==="t"||b.isBottomAnchor(le)&&Y==="b"?!1:De<Oe}function ae(ne,le,Y,ve,Oe){var Le=0;return Y==="middle"&&(Le+=Oe/2),ne==="t"?(Y==="top"&&(Le+=Oe),Le+=ve-le*ve):(Y==="bottom"&&(Le+=Oe),Le+=le*ve),Le}function q(ne,le,Y){var ve=le.y,Oe=le.yanchor,Le=ve>.5?"t":"b",Ce=ne._fullLayout.margin[Le],De=0;return le.yref==="paper"?De=Y+le.pad.t+le.pad.b:le.yref==="container"&&(De=ae(Le,ve,Oe,ne._fullLayout.height,Y)+le.pad.t+le.pad.b),De>Ce?De:0}function de(ne,le,Y,ve){var Oe="title.automargin",Le=ne._fullLayout.title,Ce=Le.y>.5?"t":"b",De={x:Le.x,y:Le.y,t:0,b:0},Ve={};Le.yref==="paper"&&me(ne,Le,Ce,le,ve)?De[Ce]=Y:Le.yref==="container"&&(Ve[Ce]=Y,ne._fullLayout._reservedMargin[Oe]=Ve),y.allowAutoMargin(ne,Oe),y.autoMargin(ne,Oe,De)}function ee(ne,le){var Y=ne.title,ve=ne._size,Oe=0;switch(le===U?Oe=Y.pad.l:le===B&&(Oe=-Y.pad.r),Y.xref){case"paper":return ve.l+ve.w*Y.x+Oe;case"container":default:return ne.width*Y.x+Oe}}function xe(ne,le){var Y=ne.title,ve=ne._size,Oe=0;if(le==="0em"||!le?Oe=-Y.pad.b:le===I.CAP_SHIFT+"em"&&(Oe=Y.pad.t),Y.y==="auto")return ve.t/2;switch(Y.yref){case"paper":return ve.t+ve.h-ve.h*Y.y+Oe;case"container":default:return ne.height-ne.height*Y.y+Oe}}function we(ne){return ne==="top"?I.CAP_SHIFT+.3+"em":ne==="bottom"?"-0.3em":I.MID_SHIFT+"em"}function Be(ne){var le=ne.title,Y=F;return b.isRightAnchor(le)?Y=B:b.isLeftAnchor(le)&&(Y=U),Y}function pe(ne){var le=ne.title,Y="0em";return b.isTopAnchor(le)?Y=I.CAP_SHIFT+"em":b.isMiddleAnchor(le)&&(Y=I.MID_SHIFT+"em"),Y}h.doTraceStyle=function(ne){var le=ne.calcdata,Y=[],ve;for(ve=0;ve<le.length;ve++){var Oe=le[ve],Le=Oe[0]||{},Ce=Le.trace||{},De=Ce._module||{},Ve=De.arraysToCalcdata;Ve&&Ve(Oe,Ce);var _e=De.editStyle;_e&&Y.push({fn:_e,cd0:Le})}if(Y.length){for(ve=0;ve<Y.length;ve++){var Ie=Y[ve];Ie.fn(ne,Ie.cd0)}C(ne),h.redrawReglTraces(ne)}return y.style(ne),v.getComponentMethod("legend","draw")(ne),y.previousPromises(ne)},h.doColorBars=function(ne){return v.getComponentMethod("colorbar","draw")(ne),y.previousPromises(ne)},h.layoutReplot=function(ne){var le=ne.layout;return ne.layout=void 0,v.call("_doPlot",ne,"",le)},h.doLegend=function(ne){return v.getComponentMethod("legend","draw")(ne),y.previousPromises(ne)},h.doTicksRelayout=function(ne){return M.draw(ne,"redraw"),ne._fullLayout._hasOnlyLargeSploms&&(v.subplotsRegistry.splom.updateGrid(ne),C(ne),h.redrawReglTraces(ne)),h.drawMainTitle(ne),y.previousPromises(ne)},h.doModeBar=function(ne){var le=ne._fullLayout;R.manage(ne);for(var Y=0;Y<le._basePlotModules.length;Y++){var ve=le._basePlotModules[Y].updateFx;ve&&ve(ne)}return y.previousPromises(ne)},h.doCamera=function(ne){for(var le=ne._fullLayout,Y=le._subplots.gl3d,ve=0;ve<Y.length;ve++){var Oe=le[Y[ve]],Le=Oe._scene;Le.setViewport(Oe)}},h.drawData=function(ne){var le=ne._fullLayout;C(ne);for(var Y=le._basePlotModules,ve=0;ve<Y.length;ve++)Y[ve].plot(ne);return h.redrawReglTraces(ne),y.style(ne),v.getComponentMethod("selections","draw")(ne),v.getComponentMethod("shapes","draw")(ne),v.getComponentMethod("annotations","draw")(ne),v.getComponentMethod("images","draw")(ne),le._replotting=!1,y.previousPromises(ne)},h.redrawReglTraces=function(ne){var le=ne._fullLayout;if(le._has("regl")){var Y=ne._fullData,ve=[],Oe=[],Le,Ce;for(le._hasOnlyLargeSploms&&le._splomGrid.draw(),Le=0;Le<Y.length;Le++){var De=Y[Le];De.visible===!0&&De._length!==0&&(De.type==="splom"?le._splomScenes[De.uid].draw():De.type==="scattergl"?b.pushUnique(ve,De.xaxis+De.yaxis):De.type==="scatterpolargl"&&b.pushUnique(Oe,De.subplot))}for(Le=0;Le<ve.length;Le++)Ce=le._plots[ve[Le]],Ce._scene&&Ce._scene.draw();for(Le=0;Le<Oe.length;Le++)Ce=le[Oe[Le]]._subplot,Ce._scene&&Ce._scene.draw()}},h.doAutoRangeAndConstraints=function(ne){for(var le=M.list(ne,"",!0),Y,ve={},Oe=0;Oe<le.length;Oe++)if(Y=le[Oe],!ve[Y._id]){ve[Y._id]=1,Q(ne,Y),z(ne,Y);var Le=Y._matchGroup;if(Le)for(var Ce in Le){var De=M.getFromId(ne,Ce);z(ne,De,Y.range),ve[Ce]=1}}N(ne)},h.finalDraw=function(ne){v.getComponentMethod("rangeslider","draw")(ne),v.getComponentMethod("rangeselector","draw")(ne)},h.drawMarginPushers=function(ne){v.getComponentMethod("legend","draw")(ne),v.getComponentMethod("rangeselector","draw")(ne),v.getComponentMethod("sliders","draw")(ne),v.getComponentMethod("updatemenus","draw")(ne),v.getComponentMethod("colorbar","draw")(ne)}},6318:function(f,h,c){var g=c(1828),v=g.isPlainObject,y=c(6281),b=c(4875),O=c(9012),C=c(4467),k=c(2075).dfltConfig;h.makeTemplate=function(z){z=g.isPlainObject(z)?z:g.getGraphDiv(z),z=g.extendDeep({_context:k},{data:z.data,layout:z.layout}),b.supplyDefaults(z);var U=z.data||[],F=z.layout||{};F._basePlotModules=z._fullLayout._basePlotModules,F._modules=z._fullLayout._modules;var B={data:{},layout:{}};U.forEach(function(ee){var xe={};R(ee,xe,I.bind(null,ee));var we=g.coerce(ee,{},O,"type"),Be=B.data[we];Be||(Be=B.data[we]=[]),Be.push(xe)}),R(F,B.layout,M.bind(null,F)),delete B.layout.template;var E=F.template;if(v(E)){var W=E.layout,X,ie,L,me,ae,q;v(W)&&w(W,B.layout);var de=E.data;if(v(de)){for(ie in B.data)if(L=de[ie],Array.isArray(L)){for(ae=B.data[ie],q=ae.length,me=L.length,X=0;X<q;X++)w(L[X%me],ae[X]);for(X=q;X<me;X++)ae.push(g.extendDeep({},L[X]))}for(ie in de)ie in B.data||(B.data[ie]=g.extendDeep([],de[ie]))}}return B};function w(z,U){z=g.extendDeep({},z);var F=Object.keys(z).sort(),B,E;function W(ae,q,de){if(v(q)&&v(ae))w(ae,q);else if(Array.isArray(q)&&Array.isArray(ae)){var ee=C.arrayTemplater({_template:z},de);for(E=0;E<q.length;E++){var xe=q[E],we=ee.newItem(xe)._template;we&&w(we,xe)}var Be=ee.defaultItems();for(E=0;E<Be.length;E++)q.push(Be[E]._template);for(E=0;E<q.length;E++)delete q[E].templateitemname}}for(B=0;B<F.length;B++){var X=F[B],ie=z[X];if(X in U?W(ie,U[X],X):U[X]=ie,T(X)===X)for(var L in U){var me=T(L);L!==me&&me===X&&!(L in z)&&W(ie,U[L],X)}}}function T(z){return z.replace(/[0-9]+$/,"")}function R(z,U,F,B,E){var W=E&&F(E);for(var X in z){var ie=z[X],L=V(z,X,B),me=V(z,X,E),ae=F(me);if(!ae){var q=T(X);q!==X&&(me=V(z,q,E),ae=F(me))}if(!(W&&W===ae)&&!(!ae||ae._noTemplating||ae.valType==="data_array"||ae.arrayOk&&Array.isArray(ie)))if(!ae.valType&&v(ie))R(ie,U,F,L,me);else if(ae._isLinkedToArray&&Array.isArray(ie))for(var de=!1,ee=0,xe={},we=0;we<ie.length;we++){var Be=ie[we];if(v(Be)){var pe=Be.name;if(pe)xe[pe]||(R(Be,U,F,V(ie,ee,L),V(ie,ee,me)),ee++,xe[pe]=1);else if(!de){var ne=C.arrayDefaultKey(X),le=V(z,ne,B),Y=V(ie,ee,L);R(Be,U,F,Y,V(ie,ee,me));var ve=g.nestedProperty(U,Y),Oe=g.nestedProperty(U,le);Oe.set(ve.get()),ve.set(null),de=!0}}}else{var Le=g.nestedProperty(U,L);Le.set(ie)}}}function M(z,U){return y.getLayoutValObject(z,g.nestedProperty({},U).parts)}function I(z,U){return y.getTraceValObject(z,g.nestedProperty({},U).parts)}function V(z,U,F){var B;return F?Array.isArray(z)?B=F+"["+U+"]":B=F+"."+U:B=U,B}h.validateTemplate=function(z,U){var F=g.extendDeep({},{_context:k,data:z.data,layout:z.layout}),B=F.layout||{};v(U)||(U=B.template||{});var E=U.layout,W=U.data,X=[];F.layout=B,F.layout.template=U,b.supplyDefaults(F);var ie=F._fullLayout,L=F._fullData,me={};function ae(le,Y){for(var ve in le)if(ve.charAt(0)!=="_"&&v(le[ve])){var Oe=T(ve),Le=[],Ce;for(Ce=0;Ce<Y.length;Ce++)Le.push(V(le,ve,Y[Ce])),Oe!==ve&&Le.push(V(le,Oe,Y[Ce]));for(Ce=0;Ce<Le.length;Ce++)me[Le[Ce]]=1;ae(le[ve],Le)}}function q(le,Y){for(var ve in le)if(ve.indexOf("defaults")===-1&&v(le[ve])){var Oe=V(le,ve,Y);me[Oe]?q(le[ve],Oe):X.push({code:"unused",path:Oe})}}if(v(E)?(ae(ie,["layout"]),q(E,"layout")):X.push({code:"layout"}),!v(W))X.push({code:"data"});else{for(var de={},ee,xe=0;xe<L.length;xe++){var we=L[xe];ee=we.type,de[ee]=(de[ee]||0)+1,we._fullInput._template||X.push({code:"missing",index:we._fullInput.index,traceType:ee})}for(ee in W){var Be=W[ee].length,pe=de[ee]||0;Be>pe?X.push({code:"unused",traceType:ee,templateCount:Be,dataCount:pe}):pe>Be&&X.push({code:"reused",traceType:ee,templateCount:Be,dataCount:pe})}}function ne(le,Y){for(var ve in le)if(ve.charAt(0)!=="_"){var Oe=le[ve],Le=V(le,ve,Y);v(Oe)?(Array.isArray(le)&&Oe._template===!1&&Oe.templateitemname&&X.push({code:"missing",path:Le,templateitemname:Oe.templateitemname}),ne(Oe,Le)):Array.isArray(Oe)&&N(Oe)&&ne(Oe,Le)}}if(ne({data:L,layout:ie},""),X.length)return X.map(Q)};function N(z){for(var U=0;U<z.length;U++)if(v(z[U]))return!0}function Q(z){var U;switch(z.code){case"data":U="The template has no key data.";break;case"layout":U="The template has no key layout.";break;case"missing":z.path?U="There are no templates for item "+z.path+" with name "+z.templateitemname:U="There are no templates for trace "+z.index+", of type "+z.traceType+".";break;case"unused":z.path?U="The template item at "+z.path+" was not used in constructing the plot.":z.dataCount?U="Some of the templates of type "+z.traceType+" were not used. The template has "+z.templateCount+" traces, the data only has "+z.dataCount+" of this type.":U="The template has "+z.templateCount+" traces of type "+z.traceType+" but there are none in the data.";break;case"reused":U="Some of the templates of type "+z.traceType+" were used more than once. The template has "+z.templateCount+" traces, the data has "+z.dataCount+" of this type.";break}return z.msg=U,z}},403:function(f,h,c){var g=c(2770),v=c(2391),y=c(4875),b=c(1828),O=c(5095),C=c(5900),k=c(942),w=c(1506).version,T={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function R(M,I){I=I||{};var V,N,Q,z;b.isPlainObject(M)?(V=M.data||[],N=M.layout||{},Q=M.config||{},z={}):(M=b.getGraphDiv(M),V=b.extendDeep([],M.data),N=b.extendDeep({},M.layout),Q=M._context,z=M._fullLayout||{});function U(pe){return!(pe in I)||b.validate(I[pe],T[pe])}if(!U("width")&&I.width!==null||!U("height")&&I.height!==null)throw new Error("Height and width should be pixel values.");if(!U("format"))throw new Error("Export format is not "+b.join2(T.format.values,", "," or ")+".");var F={};function B(pe,ne){return b.coerce(I,F,T,pe,ne)}var E=B("format"),W=B("width"),X=B("height"),ie=B("scale"),L=B("setBackground"),me=B("imageDataOnly"),ae=document.createElement("div");ae.style.position="absolute",ae.style.left="-5000px",document.body.appendChild(ae);var q=b.extendFlat({},N);W?q.width=W:I.width===null&&g(z.width)&&(q.width=z.width),X?q.height=X:I.height===null&&g(z.height)&&(q.height=z.height);var de=b.extendFlat({},Q,{_exportedPlot:!0,staticPlot:!0,setBackground:L}),ee=O.getRedrawFunc(ae);function xe(){return new Promise(function(pe){setTimeout(pe,O.getDelay(ae._fullLayout))})}function we(){return new Promise(function(pe,ne){var le=C(ae,E,ie),Y=ae._fullLayout.width,ve=ae._fullLayout.height;function Oe(){v.purge(ae),document.body.removeChild(ae)}if(E==="full-json"){var Le=y.graphJson(ae,!1,"keepdata","object",!0,!0);return Le.version=w,Le=JSON.stringify(Le),Oe(),pe(me?Le:O.encodeJSON(Le))}if(Oe(),E==="svg")return pe(me?le:O.encodeSVG(le));var Ce=document.createElement("canvas");Ce.id=b.randstr(),k({format:E,width:Y,height:ve,scale:ie,canvas:Ce,svg:le,promise:!0}).then(pe).catch(ne)})}function Be(pe){return me?pe.replace(O.IMAGE_URL_PREFIX,""):pe}return new Promise(function(pe,ne){v.newPlot(ae,V,q,de).then(ee).then(xe).then(we).then(function(le){pe(Be(le))}).catch(function(le){ne(le)})})}f.exports=R},4936:function(f,h,c){var g=c(1828),v=c(4875),y=c(6281),b=c(2075).dfltConfig,O=g.isPlainObject,C=Array.isArray,k=g.isArrayOrTypedArray;f.exports=function(B,E){B===void 0&&(B=[]),E===void 0&&(E={});var W=y.get(),X=[],ie={_context:g.extendFlat({},b)},L,me;C(B)?(ie.data=g.extendDeep([],B),L=B):(ie.data=[],L=[],X.push(I("array","data"))),O(E)?(ie.layout=g.extendDeep({},E),me=E):(ie.layout={},me={},arguments.length>1&&X.push(I("object","layout"))),v.supplyDefaults(ie);for(var ae=ie._fullData,q=L.length,de=0;de<q;de++){var ee=L[de],xe=["data",de];if(!O(ee)){X.push(I("object",xe));continue}var we=ae[de],Be=we.type,pe=W.traces[Be].attributes;pe.type={valType:"enumerated",values:[Be]},we.visible===!1&&ee.visible!==!1&&X.push(I("invisible",xe)),w(ee,we,pe,X,xe);var ne=ee.transforms,le=we.transforms;if(ne){C(ne)||X.push(I("array",xe,["transforms"])),xe.push("transforms");for(var Y=0;Y<ne.length;Y++){var ve=["transforms",Y],Oe=ne[Y].type;if(!O(ne[Y])){X.push(I("object",xe,ve));continue}var Le=W.transforms[Oe]?W.transforms[Oe].attributes:{};Le.type={valType:"enumerated",values:Object.keys(W.transforms)},w(ne[Y],le[Y],Le,X,xe,ve)}}}var Ce=ie._fullLayout,De=T(W,ae);return w(me,Ce,De,X,"layout"),X.length===0?void 0:X};function w(F,B,E,W,X,ie){ie=ie||[];for(var L=Object.keys(F),me=0;me<L.length;me++){var ae=L[me];if(ae!=="transforms"){var q=ie.slice();q.push(ae);var de=F[ae],ee=B[ae],xe=N(E,ae),we=(xe||{}).valType,Be=we==="info_array",pe=we==="colorscale",ne=(xe||{}).items;if(!V(E,ae))W.push(I("schema",X,q));else if(O(de)&&O(ee)&&we!=="any")w(de,ee,xe,W,X,q);else if(Be&&C(de)){de.length>ee.length&&W.push(I("unused",X,q.concat(ee.length)));var le=ee.length,Y=Array.isArray(ne);Y&&(le=Math.min(le,ne.length));var ve,Oe,Le,Ce,De;if(xe.dimensions===2)for(Oe=0;Oe<le;Oe++)if(C(de[Oe])){de[Oe].length>ee[Oe].length&&W.push(I("unused",X,q.concat(Oe,ee[Oe].length)));var Ve=ee[Oe].length;for(ve=0;ve<(Y?Math.min(Ve,ne[Oe].length):Ve);ve++)Le=Y?ne[Oe][ve]:ne,Ce=de[Oe][ve],De=ee[Oe][ve],g.validate(Ce,Le)?De!==Ce&&De!==+Ce&&W.push(I("dynamic",X,q.concat(Oe,ve),Ce,De)):W.push(I("value",X,q.concat(Oe,ve),Ce))}else W.push(I("array",X,q.concat(Oe),de[Oe]));else for(Oe=0;Oe<le;Oe++)Le=Y?ne[Oe]:ne,Ce=de[Oe],De=ee[Oe],g.validate(Ce,Le)?De!==Ce&&De!==+Ce&&W.push(I("dynamic",X,q.concat(Oe),Ce,De)):W.push(I("value",X,q.concat(Oe),Ce))}else if(xe.items&&!Be&&C(de)){var _e=ne[Object.keys(ne)[0]],Ie=[],re,be;for(re=0;re<ee.length;re++){var te=ee[re]._index||re;if(be=q.slice(),be.push(te),O(de[te])&&O(ee[re])){Ie.push(te);var se=de[te],fe=ee[re];O(se)&&se.visible!==!1&&fe.visible===!1?W.push(I("invisible",X,be)):w(se,fe,_e,W,X,be)}}for(re=0;re<de.length;re++)be=q.slice(),be.push(re),O(de[re])?Ie.indexOf(re)===-1&&W.push(I("unused",X,be)):W.push(I("object",X,be,de[re]))}else!O(de)&&O(ee)?W.push(I("object",X,q,de)):!k(de)&&k(ee)&&!Be&&!pe?W.push(I("array",X,q,de)):ae in B?g.validate(de,xe)?xe.valType==="enumerated"&&(xe.coerceNumber&&de!==+ee||de!==ee)&&W.push(I("dynamic",X,q,de,ee)):W.push(I("value",X,q,de)):W.push(I("unused",X,q,de))}}return W}function T(F,B){for(var E=F.layout.layoutAttributes,W=0;W<B.length;W++){var X=B[W],ie=F.traces[X.type],L=ie.layoutAttributes;L&&(X.subplot?g.extendFlat(E[ie.attributes.subplot.dflt],L):g.extendFlat(E,L))}return E}var R={object:function(F,B){var E;return F==="layout"&&B===""?E="The layout argument":F[0]==="data"&&B===""?E="Trace "+F[1]+" in the data argument":E=M(F)+"key "+B,E+" must be linked to an object container"},array:function(F,B){var E;return F==="data"?E="The data argument":E=M(F)+"key "+B,E+" must be linked to an array container"},schema:function(F,B){return M(F)+"key "+B+" is not part of the schema"},unused:function(F,B,E){var W=O(E)?"container":"key";return M(F)+W+" "+B+" did not get coerced"},dynamic:function(F,B,E,W){return[M(F)+"key",B,"(set to '"+E+"')","got reset to","'"+W+"'","during defaults."].join(" ")},invisible:function(F,B){return(B?M(F)+"item "+B:"Trace "+F[1])+" got defaulted to be not visible"},value:function(F,B,E){return[M(F)+"key "+B,"is set to an invalid value ("+E+")"].join(" ")}};function M(F){return C(F)?"In data trace "+F[1]+", ":"In "+F+", "}function I(F,B,E,W,X){E=E||"";var ie,L;C(B)?(ie=B[0],L=B[1]):(ie=B,L=null);var me=U(E),ae=R[F](B,me,W,X);return g.log(ae),{code:F,container:ie,trace:L,path:E,astr:me,msg:ae}}function V(F,B){var E=z(B),W=E.keyMinusId,X=E.id;return W in F&&F[W]._isSubplotObj&&X?!0:B in F}function N(F,B){if(B in F)return F[B];var E=z(B);return F[E.keyMinusId]}var Q=g.counterRegex("([a-z]+)");function z(F){var B=F.match(Q);return{keyMinusId:B&&B[1],id:B&&B[2]}}function U(F){if(!C(F))return String(F);for(var B="",E=0;E<F.length;E++){var W=F[E];typeof W=="number"?B=B.substr(0,B.length-1)+"["+W+"]":B+=W,E<F.length-1&&(B+=".")}return B}},5594:function(f){f.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(f,h,c){var g=c(1828),v=c(4467);f.exports=function(b,O,C){var k=C.name,w=C.inclusionAttr||"visible",T=O[k],R=g.isArrayOrTypedArray(b[k])?b[k]:[],M=O[k]=[],I=v.arrayTemplater(O,k,w),V,N;for(V=0;V<R.length;V++){var Q=R[V];g.isPlainObject(Q)?N=I.newItem(Q):(N=I.newItem({}),N[w]=!1),N._index=V,N[w]!==!1&&C.handleItemDefaults(Q,N,O,C),M.push(N)}var z=I.defaultItems();for(V=0;V<z.length;V++)N=z[V],N._index=M.length,C.handleItemDefaults({},N,O,C,{}),M.push(N);if(g.isArrayOrTypedArray(T)){var U=Math.min(T.length,M.length);for(V=0;V<U;V++)g.relinkPrivateKeys(M[V],T[V])}return M}},9012:function(f,h,c){var g=c(1940),v=c(7914);f.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:v.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(f,h,c){var g=c(2770),v=c(1828),y=v.dateTime2ms,b=v.incrementMonth,O=c(606),C=O.ONEAVGMONTH;f.exports=function(w,T,R,M){if(T.type!=="date")return{vals:M};var I=w[R+"periodalignment"];if(!I)return{vals:M};var V=w[R+"period"],N;if(g(V)){if(V=+V,V<=0)return{vals:M}}else if(typeof V=="string"&&V.charAt(0)==="M"){var Q=+V.substring(1);if(Q>0&&Math.round(Q)===Q)N=Q;else return{vals:M}}for(var z=T.calendar,U=I==="start",F=I==="end",B=w[R+"period0"],E=y(B,z)||0,W=[],X=[],ie=[],L=M.length,me=0;me<L;me++){var ae=M[me],q,de,ee;if(N){for(q=Math.round((ae-E)/(N*C)),ee=b(E,N*q,z);ee>ae;)ee=b(ee,-N,z);for(;ee<=ae;)ee=b(ee,N,z);de=b(ee,-N,z)}else{for(q=Math.round((ae-E)/V),ee=E+q*V;ee>ae;)ee-=V;for(;ee<=ae;)ee+=V;de=ee-V}W[me]=U?de:F?ee:(de+ee)/2,X[me]=de,ie[me]=ee}return{vals:W,starts:X,ends:ie}}},9502:function(f){f.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(f,h,c){var g=c(9898),v=c(2770),y=c(1828),b=c(606).FP_SAFE,O=c(3972),C=c(1424),k=c(1675),w=k.getFromId,T=k.isLinked;f.exports={applyAutorangeOptions:q,getAutoRange:R,makePadFn:I,doAutoRange:z,findExtremes:U,concatExtremes:Q};function R(de,ee){var xe,we,Be=[],pe=de._fullLayout,ne=I(pe,ee,0),le=I(pe,ee,1),Y=Q(de,ee),ve=Y.min,Oe=Y.max;if(ve.length===0||Oe.length===0)return y.simpleMap(ee.range,ee.r2l);var Le=ve[0].val,Ce=Oe[0].val;for(xe=1;xe<ve.length&&Le===Ce;xe++)Le=Math.min(Le,ve[xe].val);for(xe=1;xe<Oe.length&&Le===Ce;xe++)Ce=Math.max(Ce,Oe[xe].val);var De=ee.autorange,Ve=De==="reversed"||De==="min reversed"||De==="max reversed";if(!Ve&&ee.range){var _e=y.simpleMap(ee.range,ee.r2l);Ve=_e[1]<_e[0]}ee.autorange==="reversed"&&(ee.autorange=!0);var Ie=ee.rangemode,re=Ie==="tozero",be=Ie==="nonnegative",te=ee._length,se=te/10,fe=0,oe,Se,ce,ke,Qe,Ze;for(xe=0;xe<ve.length;xe++)for(oe=ve[xe],we=0;we<Oe.length;we++)Se=Oe[we],Ze=Se.val-oe.val-M(ee,oe.val,Se.val),Ze>0&&(Qe=te-ne(oe)-le(Se),Qe>se?Ze/Qe>fe&&(ce=oe,ke=Se,fe=Ze/Qe):Ze/te>fe&&(ce={val:oe.val,nopad:1},ke={val:Se.val,nopad:1},fe=Ze/te));function Xe(et,yt){return Math.max(et,le(yt))}if(Le===Ce){var ct=Le-1,pt=Le+1;if(re)if(Le===0)Be=[0,1];else{var Ye=(Le>0?Oe:ve).reduce(Xe,0),je=Le/(1-Math.min(.5,Ye/te));Be=Le>0?[0,je]:[je,0]}else be?Be=[Math.max(0,ct),Math.max(1,pt)]:Be=[ct,pt]}else re?(ce.val>=0&&(ce={val:0,nopad:1}),ke.val<=0&&(ke={val:0,nopad:1})):be&&(ce.val-fe*ne(ce)<0&&(ce={val:0,nopad:1}),ke.val<=0&&(ke={val:1,nopad:1})),fe=(ke.val-ce.val-M(ee,oe.val,Se.val))/(te-ne(ce)-le(ke)),Be=[ce.val-fe*ne(ce),ke.val+fe*le(ke)];return Be=q(Be,ee),ee.limitRange&&ee.limitRange(),Ve&&Be.reverse(),y.simpleMap(Be,ee.l2r||Number)}function M(de,ee,xe){var we=0;if(de.rangebreaks)for(var Be=de.locateBreaks(ee,xe),pe=0;pe<Be.length;pe++){var ne=Be[pe];we+=ne.max-ne.min}return we}function I(de,ee,xe){var we=.05*ee._length,Be=ee._anchorAxis||{};if((ee.ticklabelposition||"").indexOf("inside")!==-1||(Be.ticklabelposition||"").indexOf("inside")!==-1){var pe=ee.isReversed();if(!pe){var ne=y.simpleMap(ee.range,ee.r2l);pe=ne[1]<ne[0]}pe&&(xe=!xe)}var le=0;return T(de,ee._id)||(le=N(de,ee,xe)),we=Math.max(le,we),ee.constrain==="domain"&&ee._inputDomain&&(we*=(ee._inputDomain[1]-ee._inputDomain[0])/(ee.domain[1]-ee.domain[0])),function(ve){return ve.nopad?0:ve.pad+(ve.extrapad?we:le)}}var V=3;function N(de,ee,xe){var we=0,Be=ee._id.charAt(0)==="x";for(var pe in de._plots){var ne=de._plots[pe];if(!(ee._id!==ne.xaxis._id&&ee._id!==ne.yaxis._id)){var le=(Be?ne.yaxis:ne.xaxis)||{};if((le.ticklabelposition||"").indexOf("inside")!==-1&&(!xe&&(le.side==="left"||le.side==="bottom")||xe&&(le.side==="top"||le.side==="right"))){if(le._vals){var Y=y.deg2rad(le._tickAngles[le._id+"tick"]||0),ve=Math.abs(Math.cos(Y)),Oe=Math.abs(Math.sin(Y));if(!le._vals[0].bb){var Le=le._id+"tick",Ce=le._selections[Le];Ce.each(function(be){var te=g.select(this),se=te.select(".text-math-group");se.empty()&&(be.bb=C.bBox(te.node()))})}for(var De=0;De<le._vals.length;De++){var Ve=le._vals[De],_e=Ve.bb;if(_e){var Ie=2*V+_e.width,re=2*V+_e.height;we=Math.max(we,Be?Math.max(Ie*ve,re*Oe):Math.max(re*ve,Ie*Oe))}}}le.ticks==="inside"&&le.ticklabelposition==="inside"&&(we+=le.ticklen||0)}}}return we}function Q(de,ee,xe){var we=ee._id,Be=de._fullData,pe=de._fullLayout,ne=[],le=[],Y,ve,Oe;function Le(Ie,re){for(Y=0;Y<re.length;Y++){var be=Ie[re[Y]],te=(be._extremes||{})[we];if(be.visible===!0&&te){for(ve=0;ve<te.min.length;ve++)Oe=te.min[ve],F(ne,Oe.val,Oe.pad,{extrapad:Oe.extrapad});for(ve=0;ve<te.max.length;ve++)Oe=te.max[ve],B(le,Oe.val,Oe.pad,{extrapad:Oe.extrapad})}}}if(Le(Be,ee._traceIndices),Le(pe.annotations||[],ee._annIndices||[]),Le(pe.shapes||[],ee._shapeIndices||[]),ee._matchGroup&&!xe){for(var Ce in ee._matchGroup)if(Ce!==ee._id){var De=w(de,Ce),Ve=Q(de,De,!0),_e=ee._length/De._length;for(ve=0;ve<Ve.min.length;ve++)Oe=Ve.min[ve],F(ne,Oe.val,Oe.pad*_e,{extrapad:Oe.extrapad});for(ve=0;ve<Ve.max.length;ve++)Oe=Ve.max[ve],B(le,Oe.val,Oe.pad*_e,{extrapad:Oe.extrapad})}}return{min:ne,max:le}}function z(de,ee,xe){if(ee.setScale(),ee.autorange){ee.range=xe?xe.slice():R(de,ee),ee._r=ee.range.slice(),ee._rl=y.simpleMap(ee._r,ee.r2l);var we=ee._input,Be={};Be[ee._attr+".range"]=ee.range,Be[ee._attr+".autorange"]=ee.autorange,O.call("_storeDirectGUIEdit",de.layout,de._fullLayout._preGUI,Be),we.range=ee.range.slice(),we.autorange=ee.autorange}var pe=ee._anchorAxis;if(pe&&pe.rangeslider){var ne=pe.rangeslider[ee._name];ne&&ne.rangemode==="auto"&&(ne.range=R(de,ee)),pe._input.rangeslider[ee._name]=y.extendFlat({},ne)}}function U(de,ee,xe){xe||(xe={}),de._m||de.setScale();var we=[],Be=[],pe=ee.length,ne=xe.padded||!1,le=xe.tozero&&(de.type==="linear"||de.type==="-"),Y=de.type==="log",ve=!1,Oe=xe.vpadLinearized||!1,Le,Ce,De,Ve,_e,Ie,re,be,te;function se(Xe){if(Array.isArray(Xe))return ve=!0,function(pt){return Math.max(Number(Xe[pt]||0),0)};var ct=Math.max(Number(Xe||0),0);return function(){return ct}}var fe=se((de._m>0?xe.ppadplus:xe.ppadminus)||xe.ppad||0),oe=se((de._m>0?xe.ppadminus:xe.ppadplus)||xe.ppad||0),Se=se(xe.vpadplus||xe.vpad),ce=se(xe.vpadminus||xe.vpad);if(!ve){if(be=1/0,te=-1/0,Y)for(Le=0;Le<pe;Le++)Ce=ee[Le],Ce<be&&Ce>0&&(be=Ce),Ce>te&&Ce<b&&(te=Ce);else for(Le=0;Le<pe;Le++)Ce=ee[Le],Ce<be&&Ce>-b&&(be=Ce),Ce>te&&Ce<b&&(te=Ce);ee=[be,te],pe=2}var ke={tozero:le,extrapad:ne};function Qe(Xe){De=ee[Xe],v(De)&&(Ie=fe(Xe),re=oe(Xe),Oe?(Ve=de.c2l(De)-ce(Xe),_e=de.c2l(De)+Se(Xe)):(be=De-ce(Xe),te=De+Se(Xe),Y&&be<te/10&&(be=te/10),Ve=de.c2l(be),_e=de.c2l(te)),le&&(Ve=Math.min(0,Ve),_e=Math.max(0,_e)),W(Ve)&&F(we,Ve,re,ke),W(_e)&&B(Be,_e,Ie,ke))}var Ze=Math.min(6,pe);for(Le=0;Le<Ze;Le++)Qe(Le);for(Le=pe-1;Le>=Ze;Le--)Qe(Le);return{min:we,max:Be,opts:xe}}function F(de,ee,xe,we){E(de,ee,xe,we,X)}function B(de,ee,xe,we){E(de,ee,xe,we,ie)}function E(de,ee,xe,we,Be){for(var pe=we.tozero,ne=we.extrapad,le=!0,Y=0;Y<de.length&&le;Y++){var ve=de[Y];if(Be(ve.val,ee)&&ve.pad>=xe&&(ve.extrapad||!ne)){le=!1;break}else Be(ee,ve.val)&&ve.pad<=xe&&(ne||!ve.extrapad)&&(de.splice(Y,1),Y--)}if(le){var Oe=pe&&ee===0;de.push({val:ee,pad:Oe?0:xe,extrapad:Oe?!1:ne})}}function W(de){return v(de)&&Math.abs(de)<b}function X(de,ee){return de<=ee}function ie(de,ee){return de>=ee}function L(de,ee){var xe=ee.autorangeoptions;return xe&&xe.minallowed!==void 0&&ae(ee,xe.minallowed,xe.maxallowed)?xe.minallowed:xe&&xe.clipmin!==void 0&&ae(ee,xe.clipmin,xe.clipmax)?Math.max(de,ee.d2l(xe.clipmin)):de}function me(de,ee){var xe=ee.autorangeoptions;return xe&&xe.maxallowed!==void 0&&ae(ee,xe.minallowed,xe.maxallowed)?xe.maxallowed:xe&&xe.clipmax!==void 0&&ae(ee,xe.clipmin,xe.clipmax)?Math.min(de,ee.d2l(xe.clipmax)):de}function ae(de,ee,xe){return ee!==void 0&&xe!==void 0?(ee=de.d2l(ee),xe=de.d2l(xe),ee<xe):!0}function q(de,ee){if(!ee||!ee.autorangeoptions)return de;var xe=de[0],we=de[1],Be=ee.autorangeoptions.include;if(Be!==void 0){var pe=ee.d2l(xe),ne=ee.d2l(we);y.isArrayOrTypedArray(Be)||(Be=[Be]);for(var le=0;le<Be.length;le++){var Y=ee.d2l(Be[le]);pe>=Y&&(pe=Y,xe=Y),ne<=Y&&(ne=Y,we=Y)}}return xe=L(xe,ee),we=me(we,ee),[xe,we]}},3074:function(f){f.exports=function(c,g,v){var y,b;if(v){var O=g==="reversed"||g==="min reversed"||g==="max reversed";y=v[O?1:0],b=v[O?0:1]}var C=c("autorangeoptions.minallowed",b===null?y:void 0),k=c("autorangeoptions.maxallowed",y===null?b:void 0);C===void 0&&c("autorangeoptions.clipmin"),k===void 0&&c("autorangeoptions.clipmax"),c("autorangeoptions.include")}},9298:function(f,h,c){var g=c(9898),v=c(2770),y=c(4875),b=c(3972),O=c(1828),C=O.strTranslate,k=c(3893),w=c(2998),T=c(7901),R=c(1424),M=c(3838),I=c(6287),V=c(606),N=V.ONEMAXYEAR,Q=V.ONEAVGYEAR,z=V.ONEMINYEAR,U=V.ONEMAXQUARTER,F=V.ONEAVGQUARTER,B=V.ONEMINQUARTER,E=V.ONEMAXMONTH,W=V.ONEAVGMONTH,X=V.ONEMINMONTH,ie=V.ONEWEEK,L=V.ONEDAY,me=L/2,ae=V.ONEHOUR,q=V.ONEMIN,de=V.ONESEC,ee=V.MINUS_SIGN,xe=V.BADNUM,we={K:"zeroline"},Be={K:"gridline",L:"path"},pe={K:"minor-gridline",L:"path"},ne={K:"tick",L:"path"},le={K:"tick",L:"text"},Y={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ve=c(8783),Oe=ve.MID_SHIFT,Le=ve.CAP_SHIFT,Ce=ve.LINE_SPACING,De=ve.OPPOSITE_SIDE,Ve=3,_e=f.exports={};_e.setConvert=c(1994);var Ie=c(4322),re=c(1675),be=re.idSort,te=re.isLinked;_e.id2name=re.id2name,_e.name2id=re.name2id,_e.cleanId=re.cleanId,_e.list=re.list,_e.listIds=re.listIds,_e.getFromId=re.getFromId,_e.getFromTrace=re.getFromTrace;var se=c(1739);_e.getAutoRange=se.getAutoRange,_e.findExtremes=se.findExtremes;var fe=1e-4;function oe(Fe){var Ee=(Fe[1]-Fe[0])*fe;return[Fe[0]-Ee,Fe[1]+Ee]}_e.coerceRef=function(Fe,Ee,St,Ct,Lt,Ft){var Ht=Ct.charAt(Ct.length-1),$t=St._fullLayout._subplots[Ht+"axis"],Mt=Ct+"ref",tn={};return Lt||(Lt=$t[0]||(typeof Ft=="string"?Ft:Ft[0])),Ft||(Ft=Lt),$t=$t.concat($t.map(function(un){return un+" domain"})),tn[Mt]={valType:"enumerated",values:$t.concat(Ft?typeof Ft=="string"?[Ft]:Ft:[]),dflt:Lt},O.coerce(Fe,Ee,tn,Mt)},_e.getRefType=function(Fe){return Fe===void 0?Fe:Fe==="paper"?"paper":Fe==="pixel"?"pixel":/( domain)$/.test(Fe)?"domain":"range"},_e.coercePosition=function(Fe,Ee,St,Ct,Lt,Ft){var Ht,$t,Mt=_e.getRefType(Ct);if(Mt!=="range")Ht=O.ensureNumber,$t=St(Lt,Ft);else{var tn=_e.getFromId(Ee,Ct);Ft=tn.fraction2r(Ft),$t=St(Lt,Ft),Ht=tn.cleanPos}Fe[Lt]=Ht($t)},_e.cleanPosition=function(Fe,Ee,St){var Ct=St==="paper"||St==="pixel"?O.ensureNumber:_e.getFromId(Ee,St).cleanPos;return Ct(Fe)},_e.redrawComponents=function(Fe,Ee){Ee=Ee||_e.listIds(Fe);var St=Fe._fullLayout;function Ct(Lt,Ft,Ht,$t){for(var Mt=b.getComponentMethod(Lt,Ft),tn={},un=0;un<Ee.length;un++)for(var Jt=St[_e.id2name(Ee[un])],on=Jt[Ht],Tn=0;Tn<on.length;Tn++){var On=on[Tn];if(!tn[On]&&(Mt(Fe,On),tn[On]=1,$t))return}}Ct("annotations","drawOne","_annIndices"),Ct("shapes","drawOne","_shapeIndices"),Ct("images","draw","_imgIndices",!0),Ct("selections","drawOne","_selectionIndices")};var Se=_e.getDataConversions=function(Fe,Ee,St,Ct){var Lt,Ft=St==="x"||St==="y"||St==="z"?St:Ct;if(Array.isArray(Ft)){if(Lt={type:Ie(Ct,void 0,{autotypenumbers:Fe._fullLayout.autotypenumbers}),_categories:[]},_e.setConvert(Lt),Lt.type==="category")for(var Ht=0;Ht<Ct.length;Ht++)Lt.d2c(Ct[Ht])}else Lt=_e.getFromTrace(Fe,Ee,Ft);return Lt?{d2c:Lt.d2c,c2d:Lt.c2d}:Ft==="ids"?{d2c:ke,c2d:ke}:{d2c:ce,c2d:ce}};function ce(Fe){return+Fe}function ke(Fe){return String(Fe)}_e.getDataToCoordFunc=function(Fe,Ee,St,Ct){return Se(Fe,Ee,St,Ct).d2c},_e.counterLetter=function(Fe){var Ee=Fe.charAt(0);if(Ee==="x")return"y";if(Ee==="y")return"x"},_e.minDtick=function(Fe,Ee,St,Ct){["log","category","multicategory"].indexOf(Fe.type)!==-1||!Ct?Fe._minDtick=0:Fe._minDtick===void 0?(Fe._minDtick=Ee,Fe._forceTick0=St):Fe._minDtick&&((Fe._minDtick/Ee+1e-6)%1<2e-6&&((St-Fe._forceTick0)/Ee%1+1.000001)%1<2e-6?(Fe._minDtick=Ee,Fe._forceTick0=St):((Ee/Fe._minDtick+1e-6)%1>2e-6||((St-Fe._forceTick0)/Fe._minDtick%1+1.000001)%1>2e-6)&&(Fe._minDtick=0))},_e.saveRangeInitial=function(Fe,Ee){for(var St=_e.list(Fe,"",!0),Ct=!1,Lt=0;Lt<St.length;Lt++){var Ft=St[Lt],Ht=Ft._rangeInitial0===void 0&&Ft._rangeInitial1===void 0,$t=Ht||Ft.range[0]!==Ft._rangeInitial0||Ft.range[1]!==Ft._rangeInitial1,Mt=Ft.autorange;(Ht&&Mt!==!0||Ee&&$t)&&(Ft._rangeInitial0=Mt==="min"||Mt==="max reversed"?void 0:Ft.range[0],Ft._rangeInitial1=Mt==="max"||Mt==="min reversed"?void 0:Ft.range[1],Ft._autorangeInitial=Mt,Ct=!0)}return Ct},_e.saveShowSpikeInitial=function(Fe,Ee){for(var St=_e.list(Fe,"",!0),Ct=!1,Lt="on",Ft=0;Ft<St.length;Ft++){var Ht=St[Ft],$t=Ht._showSpikeInitial===void 0,Mt=$t||Ht.showspikes!==Ht._showspikes;($t||Ee&&Mt)&&(Ht._showSpikeInitial=Ht.showspikes,Ct=!0),Lt==="on"&&!Ht.showspikes&&(Lt="off")}return Fe._fullLayout._cartesianSpikesEnabled=Lt,Ct},_e.autoBin=function(Fe,Ee,St,Ct,Lt,Ft){var Ht=O.aggNums(Math.min,null,Fe),$t=O.aggNums(Math.max,null,Fe);if(Ee.type==="category"||Ee.type==="multicategory")return{start:Ht-.5,end:$t+.5,size:Math.max(1,Math.round(Ft)||1),_dataSpan:$t-Ht};Lt||(Lt=Ee.calendar);var Mt;if(Ee.type==="log"?Mt={type:"linear",range:[Ht,$t]}:Mt={type:Ee.type,range:O.simpleMap([Ht,$t],Ee.c2r,0,Lt),calendar:Lt},_e.setConvert(Mt),Ft=Ft&&I.dtick(Ft,Mt.type),Ft)Mt.dtick=Ft,Mt.tick0=I.tick0(void 0,Mt.type,Lt);else{var tn;if(St)tn=($t-Ht)/St;else{var un=O.distinctVals(Fe),Jt=Math.pow(10,Math.floor(Math.log(un.minDiff)/Math.LN10)),on=Jt*O.roundUp(un.minDiff/Jt,[.9,1.9,4.9,9.9],!0);tn=Math.max(on,2*O.stdev(Fe)/Math.pow(Fe.length,Ct?.25:.4)),v(tn)||(tn=1)}_e.autoTicks(Mt,tn)}var Tn=Mt.dtick,On=_e.tickIncrement(_e.tickFirst(Mt),Tn,"reverse",Lt),pn,Jn;if(typeof Tn=="number")On=Qe(On,Fe,Mt,Ht,$t),Jn=1+Math.floor(($t-On)/Tn),pn=On+Jn*Tn;else for(Mt.dtick.charAt(0)==="M"&&(On=Ze(On,Fe,Tn,Ht,Lt)),pn=On,Jn=0;pn<=$t;)pn=_e.tickIncrement(pn,Tn,!1,Lt),Jn++;return{start:Ee.c2r(On,0,Lt),end:Ee.c2r(pn,0,Lt),size:Tn,_dataSpan:$t-Ht}};function Qe(Fe,Ee,St,Ct,Lt){var Ft=0,Ht=0,$t=0,Mt=0;function tn(Tn){return(1+(Tn-Fe)*100/St.dtick)%100<2}for(var un=0;un<Ee.length;un++)Ee[un]%1===0?$t++:v(Ee[un])||Mt++,tn(Ee[un])&&Ft++,tn(Ee[un]+St.dtick/2)&&Ht++;var Jt=Ee.length-Mt;if($t===Jt&&St.type!=="date")St.dtick<1?Fe=Ct-.5*St.dtick:(Fe-=.5,Fe+St.dtick<Ct&&(Fe+=St.dtick));else if(Ht<Jt*.1&&(Ft>Jt*.3||tn(Ct)||tn(Lt))){var on=St.dtick/2;Fe+=Fe+on<Ct?on:-on}return Fe}function Ze(Fe,Ee,St,Ct,Lt){var Ft=O.findExactDates(Ee,Lt),Ht=.8;if(Ft.exactDays>Ht){var $t=Number(St.substr(1));Ft.exactYears>Ht&&$t%12===0?Fe=_e.tickIncrement(Fe,"M6","reverse")+L*1.5:Ft.exactMonths>Ht?Fe=_e.tickIncrement(Fe,"M1","reverse")+L*15.5:Fe-=me;var Mt=_e.tickIncrement(Fe,St);if(Mt<=Ct)return Mt}return Fe}_e.prepMinorTicks=function(Fe,Ee,St){if(!Ee.minor.dtick){delete Fe.dtick;var Ct=Ee.dtick&&v(Ee._tmin),Lt;if(Ct){var Ft=_e.tickIncrement(Ee._tmin,Ee.dtick,!0);Lt=[Ee._tmin,Ft*.99+Ee._tmin*.01]}else{var Ht=O.simpleMap(Ee.range,Ee.r2l);Lt=[Ht[0],.8*Ht[0]+.2*Ht[1]]}if(Fe.range=O.simpleMap(Lt,Ee.l2r),Fe._isMinor=!0,_e.prepTicks(Fe,St),Ct){var $t=v(Ee.dtick),Mt=v(Fe.dtick),tn=$t?Ee.dtick:+Ee.dtick.substring(1),un=Mt?Fe.dtick:+Fe.dtick.substring(1);$t&&Mt?Xe(tn,un)?tn===2*ie&&un===2*L&&(Fe.dtick=ie):tn===2*ie&&un===3*L?Fe.dtick=ie:tn===ie&&!(Ee._input.minor||{}).nticks?Fe.dtick=L:ct(tn/un,2.5)?Fe.dtick=tn/2:Fe.dtick=tn:String(Ee.dtick).charAt(0)==="M"?Mt?Fe.dtick="M1":Xe(tn,un)?tn>=12&&un===2&&(Fe.dtick="M3"):Fe.dtick=Ee.dtick:String(Fe.dtick).charAt(0)==="L"?String(Ee.dtick).charAt(0)==="L"?Xe(tn,un)||(Fe.dtick=ct(tn/un,2.5)?Ee.dtick/2:Ee.dtick):Fe.dtick="D1":Fe.dtick==="D2"&&+Ee.dtick>1&&(Fe.dtick=1)}Fe.range=Ee.range}Ee.minor._tick0Init===void 0&&(Fe.tick0=Ee.tick0)};function Xe(Fe,Ee){return Math.abs((Fe/Ee+.5)%1-.5)<.001}function ct(Fe,Ee){return Math.abs(Fe/Ee-1)<.001}_e.prepTicks=function(Fe,Ee){var St=O.simpleMap(Fe.range,Fe.r2l,void 0,void 0,Ee);if(Fe.tickmode==="auto"||!Fe.dtick){var Ct=Fe.nticks,Lt;Ct||(Fe.type==="category"||Fe.type==="multicategory"?(Lt=Fe.tickfont?O.bigFont(Fe.tickfont.size||12):15,Ct=Fe._length/Lt):(Lt=Fe._id.charAt(0)==="y"?40:80,Ct=O.constrain(Fe._length/Lt,4,9)+1),Fe._name==="radialaxis"&&(Ct*=2)),Fe.minor&&Fe.minor.tickmode!=="array"||Fe.tickmode==="array"&&(Ct*=100),Fe._roughDTick=Math.abs(St[1]-St[0])/Ct,_e.autoTicks(Fe,Fe._roughDTick),Fe._minDtick>0&&Fe.dtick<Fe._minDtick*2&&(Fe.dtick=Fe._minDtick,Fe.tick0=Fe.l2r(Fe._forceTick0))}Fe.ticklabelmode==="period"&&Ye(Fe),Fe.tick0||(Fe.tick0=Fe.type==="date"?"2000-01-01":0),Fe.type==="date"&&Fe.dtick<.1&&(Fe.dtick=.1),ln(Fe)};function pt(Fe){return+Fe.substring(1)}function Ye(Fe){var Ee;function St(){return!(v(Fe.dtick)||Fe.dtick.charAt(0)!=="M")}var Ct=St(),Lt=_e.getTickFormat(Fe);if(Lt){var Ft=Fe._dtickInit!==Fe.dtick;/%[fLQsSMX]/.test(Lt)||(/%[HI]/.test(Lt)?(Ee=ae,Ft&&!Ct&&Fe.dtick<ae&&(Fe.dtick=ae)):/%p/.test(Lt)?(Ee=me,Ft&&!Ct&&Fe.dtick<me&&(Fe.dtick=me)):/%[Aadejuwx]/.test(Lt)?(Ee=L,Ft&&!Ct&&Fe.dtick<L&&(Fe.dtick=L)):/%[UVW]/.test(Lt)?(Ee=ie,Ft&&!Ct&&Fe.dtick<ie&&(Fe.dtick=ie)):/%[Bbm]/.test(Lt)?(Ee=W,Ft&&(Ct?pt(Fe.dtick)<1:Fe.dtick<X)&&(Fe.dtick="M1")):/%[q]/.test(Lt)?(Ee=F,Ft&&(Ct?pt(Fe.dtick)<3:Fe.dtick<B)&&(Fe.dtick="M3")):/%[Yy]/.test(Lt)&&(Ee=Q,Ft&&(Ct?pt(Fe.dtick)<12:Fe.dtick<z)&&(Fe.dtick="M12")))}Ct=St(),Ct&&Fe.tick0===Fe._dowTick0&&(Fe.tick0=Fe._rawTick0),Fe._definedDelta=Ee}function je(Fe,Ee,St){for(var Ct=0;Ct<Fe.length;Ct++){var Lt=Fe[Ct].value,Ft=Ct,Ht=Ct+1;Ct<Fe.length-1?(Ft=Ct,Ht=Ct+1):Ct>0?(Ft=Ct-1,Ht=Ct):(Ft=Ct,Ht=Ct);var $t=Fe[Ft].value,Mt=Fe[Ht].value,tn=Math.abs(Mt-$t),un=St||tn,Jt=0;un>=z?tn>=z&&tn<=N?Jt=tn:Jt=Q:St===F&&un>=B?tn>=B&&tn<=U?Jt=tn:Jt=F:un>=X?tn>=X&&tn<=E?Jt=tn:Jt=W:St===ie&&un>=ie?Jt=ie:un>=L?Jt=L:St===me&&un>=me?Jt=me:St===ae&&un>=ae&&(Jt=ae);var on;Jt>=tn&&(Jt=tn,on=!0);var Tn=Lt+Jt;if(Ee.rangebreaks&&Jt>0){for(var On=84,pn=0,Jn=0;Jn<On;Jn++){var Fn=(Jn+.5)/On;Ee.maskBreaks(Lt*(1-Fn)+Fn*Tn)!==xe&&pn++}Jt*=pn/On,Jt||(Fe[Ct].drop=!0),on&&tn>ie&&(Jt=tn)}(Jt>0||Ct===0)&&(Fe[Ct].periodX=Lt+Jt/2)}}_e.calcTicks=function(Ee,St){for(var Ct=Ee.type,Lt=Ee.calendar,Ft=Ee.ticklabelstep,Ht=Ee.ticklabelmode==="period",$t=O.simpleMap(Ee.range,Ee.r2l,void 0,void 0,St),Mt=$t[1]<$t[0],tn=Math.min($t[0],$t[1]),un=Math.max($t[0],$t[1]),Jt=Math.max(1e3,Ee._length||0),on=[],Tn=[],On=[],pn=[],Jn=Ee.minor&&(Ee.minor.ticks||Ee.minor.showgrid),Fn=1;Fn>=(Jn?0:1);Fn--){var Zr=!Fn;Fn?(Ee._dtickInit=Ee.dtick,Ee._tick0Init=Ee.tick0):(Ee.minor._dtickInit=Ee.minor.dtick,Ee.minor._tick0Init=Ee.minor.tick0);var dr=Fn?Ee:O.extendFlat({},Ee,Ee.minor);if(Zr?_e.prepMinorTicks(dr,Ee,St):_e.prepTicks(dr,St),dr.tickmode==="array"){Fn?(On=[],on=ft(Ee)):(pn=[],Tn=ft(Ee));continue}if(dr.tickmode==="sync"){On=[],on=yt(Ee);continue}var Ur=oe($t),ar=Ur[0],ur=Ur[1],qr=v(dr.dtick),no=Ct==="log"&&!(qr||dr.dtick.charAt(0)==="L"),ko=_e.tickFirst(dr,St);if(Fn){if(Ee._tmin=ko,ko<ar!==Mt)break;(Ct==="category"||Ct==="multicategory")&&(ur=Mt?Math.max(-.5,ur):Math.min(Ee._categories.length-.5,ur))}var Es=null,So=ko,Ko;if(Fn){var ds;qr?ds=Ee.dtick:Ct==="date"?typeof Ee.dtick=="string"&&Ee.dtick.charAt(0)==="M"&&(ds=W*Ee.dtick.substring(1)):ds=Ee._roughDTick,Ko=Math.round((Ee.r2l(So)-Ee.r2l(Ee.tick0))/ds)-1}var qs=dr.dtick;for(dr.rangebreaks&&dr._tick0Init!==dr.tick0&&(So=sr(So,Ee),Mt||(So=_e.tickIncrement(So,qs,!Mt,Lt))),Fn&&Ht&&(So=_e.tickIncrement(So,qs,!Mt,Lt),Ko--);Mt?So>=ur:So<=ur;So=_e.tickIncrement(So,qs,Mt,Lt)){if(Fn&&Ko++,dr.rangebreaks&&!Mt){if(So<ar)continue;if(dr.maskBreaks(So)===xe&&sr(So,dr)>=un)break}if(On.length>Jt||So===Es)break;Es=So;var es={value:So};Fn?(no&&So!==(So|0)&&(es.simpleLabel=!0),Ft>1&&Ko%Ft&&(es.skipLabel=!0),On.push(es)):(es.minor=!0,pn.push(es))}}if(Jn){var Xs=Ee.minor.ticks==="inside"&&Ee.ticks==="outside"||Ee.minor.ticks==="outside"&&Ee.ticks==="inside";if(!Xs){for(var Ya=On.map(function(Po){return Po.value}),bc=[],li=0;li<pn.length;li++){var nu=pn[li],Ba=nu.value;if(Ya.indexOf(Ba)===-1){for(var Js=!1,ya=0;!Js&&ya<On.length;ya++)1e7+On[ya].value===1e7+Ba&&(Js=!0);Js||bc.push(nu)}}pn=bc}}Ht&&je(On,Ee,Ee._definedDelta);var ra;if(Ee.rangebreaks){var ru=Ee._id.charAt(0)==="y",Dr=1;Ee.tickmode==="auto"&&(Dr=Ee.tickfont?Ee.tickfont.size:12);var Oc=NaN;for(ra=On.length-1;ra>-1;ra--){if(On[ra].drop){On.splice(ra,1);continue}On[ra].value=sr(On[ra].value,Ee);var oa=Ee.c2p(On[ra].value);(ru?Oc>oa-Dr:Oc<oa+Dr)?On.splice(Mt?ra+1:ra,1):Oc=oa}}xr(Ee)&&Math.abs($t[1]-$t[0])===360&&On.pop(),Ee._tmax=(On[On.length-1]||{}).value,Ee._prevDateHead="",Ee._inCalcTicks=!0;var Ri,_d=function(Po){Po.text="",Ee._prevDateHead=Ri};On=On.concat(pn);var sa,xu;for(ra=0;ra<On.length;ra++){var Rd=On[ra].minor,Su=On[ra].value;Rd?Tn.push({x:Su,minor:!0}):(Ri=Ee._prevDateHead,sa=_e.tickText(Ee,Su,!1,On[ra].simpleLabel),xu=On[ra].periodX,xu!==void 0&&(sa.periodX=xu,(xu>un||xu<tn)&&(xu>un&&(sa.periodX=un),xu<tn&&(sa.periodX=tn),_d(sa))),On[ra].skipLabel&&_d(sa),on.push(sa))}return on=on.concat(Tn),Ee._inCalcTicks=!1,Ht&&on.length&&(on[0].noTick=!0),on};function et(Fe,Ee){return Fe.rangebreaks&&(Ee=Ee.filter(function(St){return Fe.maskBreaks(St.x)!==xe})),Ee}function yt(Fe){var Ee=Fe._mainAxis,St=[];if(Ee._vals){for(var Ct=0;Ct<Ee._vals.length;Ct++)if(!Ee._vals[Ct].noTick){var Lt=Ee.l2p(Ee._vals[Ct].x),Ft=Fe.p2l(Lt),Ht=_e.tickText(Fe,Ft);Ee._vals[Ct].minor&&(Ht.minor=!0,Ht.text=""),St.push(Ht)}}return St=et(Fe,St),St}function ft(Fe){var Ee=O.simpleMap(Fe.range,Fe.r2l),St=oe(Ee),Ct=Math.min(St[0],St[1]),Lt=Math.max(St[0],St[1]),Ft=Fe.type==="category"?Fe.d2l_noadd:Fe.d2l;Fe.type==="log"&&String(Fe.dtick).charAt(0)!=="L"&&(Fe.dtick="L"+Math.pow(10,Math.floor(Math.min(Fe.range[0],Fe.range[1]))-1));for(var Ht=[],$t=0;$t<=1;$t++)if(!($t&&!Fe.minor)){var Mt=$t?Fe.minor.tickvals:Fe.tickvals,tn=$t?[]:Fe.ticktext;if(Mt){Array.isArray(tn)||(tn=[]);for(var un=0;un<Mt.length;un++){var Jt=Ft(Mt[un]);if(Jt>Ct&&Jt<Lt){var on=tn[un]===void 0?_e.tickText(Fe,Jt):Yn(Fe,Jt,String(tn[un]));$t&&(on.minor=!0,on.text=""),Ht.push(on)}}}}return Ht=et(Fe,Ht),Ht}var tt=[2,5,10],wt=[1,2,3,6,12],Xt=[1,2,5,10,15,30],Gt=[1,2,3,7,14],Nt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Bt=[-.301,0,.301,.699,1],vn=[15,30,45,90,180];function En(Fe,Ee,St){return Ee*O.roundUp(Fe/Ee,St)}_e.autoTicks=function(Fe,Ee,St){var Ct;function Lt(Jt){return Math.pow(Jt,Math.floor(Math.log(Ee)/Math.LN10))}if(Fe.type==="date"){Fe.tick0=O.dateTick0(Fe.calendar,0);var Ft=2*Ee;if(Ft>Q)Ee/=Q,Ct=Lt(10),Fe.dtick="M"+12*En(Ee,Ct,tt);else if(Ft>W)Ee/=W,Fe.dtick="M"+En(Ee,1,wt);else if(Ft>L){if(Fe.dtick=En(Ee,L,Fe._hasDayOfWeekBreaks?[1,2,7,14]:Gt),!St){var Ht=_e.getTickFormat(Fe),$t=Fe.ticklabelmode==="period";$t&&(Fe._rawTick0=Fe.tick0),/%[uVW]/.test(Ht)?Fe.tick0=O.dateTick0(Fe.calendar,2):Fe.tick0=O.dateTick0(Fe.calendar,1),$t&&(Fe._dowTick0=Fe.tick0)}}else Ft>ae?Fe.dtick=En(Ee,ae,wt):Ft>q?Fe.dtick=En(Ee,q,Xt):Ft>de?Fe.dtick=En(Ee,de,Xt):(Ct=Lt(10),Fe.dtick=En(Ee,Ct,tt))}else if(Fe.type==="log"){Fe.tick0=0;var Mt=O.simpleMap(Fe.range,Fe.r2l);if(Fe._isMinor&&(Ee*=1.5),Ee>.7)Fe.dtick=Math.ceil(Ee);else if(Math.abs(Mt[1]-Mt[0])<1){var tn=1.5*Math.abs((Mt[1]-Mt[0])/Ee);Ee=Math.abs(Math.pow(10,Mt[1])-Math.pow(10,Mt[0]))/tn,Ct=Lt(10),Fe.dtick="L"+En(Ee,Ct,tt)}else Fe.dtick=Ee>.3?"D2":"D1"}else Fe.type==="category"||Fe.type==="multicategory"?(Fe.tick0=0,Fe.dtick=Math.ceil(Math.max(Ee,1))):xr(Fe)?(Fe.tick0=0,Ct=1,Fe.dtick=En(Ee,Ct,vn)):(Fe.tick0=0,Ct=Lt(10),Fe.dtick=En(Ee,Ct,tt));if(Fe.dtick===0&&(Fe.dtick=1),!v(Fe.dtick)&&typeof Fe.dtick!="string"){var un=Fe.dtick;throw Fe.dtick=1,"ax.dtick error: "+String(un)}};function ln(Fe){var Ee=Fe.dtick;if(Fe._tickexponent=0,!v(Ee)&&typeof Ee!="string"&&(Ee=1),(Fe.type==="category"||Fe.type==="multicategory")&&(Fe._tickround=null),Fe.type==="date"){var St=Fe.r2l(Fe.tick0),Ct=Fe.l2r(St).replace(/(^-|i)/g,""),Lt=Ct.length;if(String(Ee).charAt(0)==="M")Lt>10||Ct.substr(5)!=="01-01"?Fe._tickround="d":Fe._tickround=+Ee.substr(1)%12===0?"y":"m";else if(Ee>=L&&Lt<=10||Ee>=L*15)Fe._tickround="d";else if(Ee>=q&&Lt<=16||Ee>=ae)Fe._tickround="M";else if(Ee>=de&&Lt<=19||Ee>=q)Fe._tickround="S";else{var Ft=Fe.l2r(St+Ee).replace(/^-/,"").length;Fe._tickround=Math.max(Lt,Ft)-20,Fe._tickround<0&&(Fe._tickround=4)}}else if(v(Ee)||Ee.charAt(0)==="L"){var Ht=Fe.range.map(Fe.r2d||Number);v(Ee)||(Ee=Number(Ee.substr(1))),Fe._tickround=2-Math.floor(Math.log(Ee)/Math.LN10+.01);var $t=Math.max(Math.abs(Ht[0]),Math.abs(Ht[1])),Mt=Math.floor(Math.log($t)/Math.LN10+.01),tn=Fe.minexponent===void 0?3:Fe.minexponent;Math.abs(Mt)>tn&&(gt(Fe.exponentformat)&&!Dt(Mt)?Fe._tickexponent=3*Math.round((Mt-1)/3):Fe._tickexponent=Mt)}else Fe._tickround=null}_e.tickIncrement=function(Fe,Ee,St,Ct){var Lt=St?-1:1;if(v(Ee))return O.increment(Fe,Lt*Ee);var Ft=Ee.charAt(0),Ht=Lt*Number(Ee.substr(1));if(Ft==="M")return O.incrementMonth(Fe,Ht,Ct);if(Ft==="L")return Math.log(Math.pow(10,Fe)+Ht)/Math.LN10;if(Ft==="D"){var $t=Ee==="D2"?Bt:Nt,Mt=Fe+Lt*.01,tn=O.roundUp(O.mod(Mt,1),$t,St);return Math.floor(Mt)+Math.log(g.round(Math.pow(10,tn),1))/Math.LN10}throw"unrecognized dtick "+String(Ee)},_e.tickFirst=function(Fe,Ee){var St=Fe.r2l||Number,Ct=O.simpleMap(Fe.range,St,void 0,void 0,Ee),Lt=Ct[1]<Ct[0],Ft=Lt?Math.floor:Math.ceil,Ht=oe(Ct)[0],$t=Fe.dtick,Mt=St(Fe.tick0);if(v($t)){var tn=Ft((Ht-Mt)/$t)*$t+Mt;return(Fe.type==="category"||Fe.type==="multicategory")&&(tn=O.constrain(tn,0,Fe._categories.length-1)),tn}var un=$t.charAt(0),Jt=Number($t.substr(1));if(un==="M"){for(var on=0,Tn=Mt,On,pn,Jn;on<10;){if(On=_e.tickIncrement(Tn,$t,Lt,Fe.calendar),(On-Ht)*(Tn-Ht)<=0)return Lt?Math.min(Tn,On):Math.max(Tn,On);pn=(Ht-(Tn+On)/2)/(On-Tn),Jn=un+(Math.abs(Math.round(pn))||1)*Jt,Tn=_e.tickIncrement(Tn,Jn,pn<0?!Lt:Lt,Fe.calendar),on++}return O.error("tickFirst did not converge",Fe),Tn}else{if(un==="L")return Math.log(Ft((Math.pow(10,Ht)-Mt)/Jt)*Jt+Mt)/Math.LN10;if(un==="D"){var Fn=$t==="D2"?Bt:Nt,Zr=O.roundUp(O.mod(Ht,1),Fn,Lt);return Math.floor(Ht)+Math.log(g.round(Math.pow(10,Zr),1))/Math.LN10}else throw"unrecognized dtick "+String($t)}},_e.tickText=function(Fe,Ee,St,Ct){var Lt=Yn(Fe,Ee),Ft=Fe.tickmode==="array",Ht=St||Ft,$t=Fe.type,Mt=$t==="category"?Fe.d2l_noadd:Fe.d2l,tn;if(Ft&&Array.isArray(Fe.ticktext)){var un=O.simpleMap(Fe.range,Fe.r2l),Jt=(Math.abs(un[1]-un[0])-(Fe._lBreaks||0))/1e4;for(tn=0;tn<Fe.ticktext.length&&!(Math.abs(Ee-Mt(Fe.tickvals[tn]))<Jt);tn++);if(tn<Fe.ticktext.length)return Lt.text=String(Fe.ticktext[tn]),Lt}function on(Jn){if(Jn===void 0)return!0;if(St)return Jn==="none";var Fn={first:Fe._tmin,last:Fe._tmax}[Jn];return Jn!=="all"&&Ee!==Fn}var Tn=St?"never":Fe.exponentformat!=="none"&&on(Fe.showexponent)?"hide":"";if($t==="date"?an(Fe,Lt,St,Ht):$t==="log"?wn(Fe,Lt,St,Ht,Tn):$t==="category"?Xn(Fe,Lt):$t==="multicategory"?Un(Fe,Lt,St):xr(Fe)?lt(Fe,Lt,St,Ht,Tn):Sn(Fe,Lt,St,Ht,Tn),Ct||(Fe.tickprefix&&!on(Fe.showtickprefix)&&(Lt.text=Fe.tickprefix+Lt.text),Fe.ticksuffix&&!on(Fe.showticksuffix)&&(Lt.text+=Fe.ticksuffix)),Fe.labelalias&&Fe.labelalias.hasOwnProperty(Lt.text)){var On=Fe.labelalias[Lt.text];typeof On=="string"&&(Lt.text=On)}if(Fe.tickson==="boundaries"||Fe.showdividers){var pn=function(Jn){var Fn=Fe.l2p(Jn);return Fn>=0&&Fn<=Fe._length?Jn:null};Lt.xbnd=[pn(Lt.x-.5),pn(Lt.x+Fe.dtick-.5)]}return Lt},_e.hoverLabelText=function(Fe,Ee,St){St&&(Fe=O.extendFlat({},Fe,{hoverformat:St}));var Ct=Array.isArray(Ee)?Ee[0]:Ee,Lt=Array.isArray(Ee)?Ee[1]:void 0;if(Lt!==void 0&&Lt!==Ct)return _e.hoverLabelText(Fe,Ct,St)+" - "+_e.hoverLabelText(Fe,Lt,St);var Ft=Fe.type==="log"&&Ct<=0,Ht=_e.tickText(Fe,Fe.c2l(Ft?-Ct:Ct),"hover").text;return Ft?Ct===0?"0":ee+Ht:Ht};function Yn(Fe,Ee,St){var Ct=Fe.tickfont||{};return{x:Ee,dx:0,dy:0,text:St||"",fontSize:Ct.size,font:Ct.family,fontColor:Ct.color}}function an(Fe,Ee,St,Ct){var Lt=Fe._tickround,Ft=St&&Fe.hoverformat||_e.getTickFormat(Fe);Ct&&(v(Lt)?Lt=4:Lt={y:"m",m:"d",d:"M",M:"S",S:4}[Lt]);var Ht=O.formatDate(Ee.x,Ft,Lt,Fe._dateFormat,Fe.calendar,Fe._extraFormat),$t,Mt=Ht.indexOf(`
`);if(Mt!==-1&&($t=Ht.substr(Mt+1),Ht=Ht.substr(0,Mt)),Ct&&(Ht==="00:00:00"||Ht==="00:00"?(Ht=$t,$t=""):Ht.length===8&&(Ht=Ht.replace(/:00$/,""))),$t)if(St)Lt==="d"?Ht+=", "+$t:Ht=$t+(Ht?", "+Ht:"");else if(!Fe._inCalcTicks||Fe._prevDateHead!==$t)Fe._prevDateHead=$t,Ht+="<br>"+$t;else{var tn=Sr(Fe),un=Fe._trueSide||Fe.side;(!tn&&un==="top"||tn&&un==="bottom")&&(Ht+="<br> ")}Ee.text=Ht}function wn(Fe,Ee,St,Ct,Lt){var Ft=Fe.dtick,Ht=Ee.x,$t=Fe.tickformat,Mt=typeof Ft=="string"&&Ft.charAt(0);if(Lt==="never"&&(Lt=""),Ct&&Mt!=="L"&&(Ft="L3",Mt="L"),$t||Mt==="L")Ee.text=He(Math.pow(10,Ht),Fe,Lt,Ct);else if(v(Ft)||Mt==="D"&&O.mod(Ht+.01,1)<.1){var tn=Math.round(Ht),un=Math.abs(tn),Jt=Fe.exponentformat;Jt==="power"||gt(Jt)&&Dt(tn)?(tn===0?Ee.text=1:tn===1?Ee.text="10":Ee.text="10<sup>"+(tn>1?"":ee)+un+"</sup>",Ee.fontSize*=1.25):(Jt==="e"||Jt==="E")&&un>2?Ee.text="1"+Jt+(tn>0?"+":ee)+un:(Ee.text=He(Math.pow(10,Ht),Fe,"","fakehover"),Ft==="D1"&&Fe._id.charAt(0)==="y"&&(Ee.dy-=Ee.fontSize/6))}else if(Mt==="D")Ee.text=String(Math.round(Math.pow(10,O.mod(Ht,1)))),Ee.fontSize*=.75;else throw"unrecognized dtick "+String(Ft);if(Fe.dtick==="D1"){var on=String(Ee.text).charAt(0);(on==="0"||on==="1")&&(Fe._id.charAt(0)==="y"?Ee.dx-=Ee.fontSize/4:(Ee.dy+=Ee.fontSize/2,Ee.dx+=(Fe.range[1]>Fe.range[0]?1:-1)*Ee.fontSize*(Ht<0?.5:.25)))}}function Xn(Fe,Ee){var St=Fe._categories[Math.round(Ee.x)];St===void 0&&(St=""),Ee.text=String(St)}function Un(Fe,Ee,St){var Ct=Math.round(Ee.x),Lt=Fe._categories[Ct]||[],Ft=Lt[1]===void 0?"":String(Lt[1]),Ht=Lt[0]===void 0?"":String(Lt[0]);St?Ee.text=Ht+" - "+Ft:(Ee.text=Ft,Ee.text2=Ht)}function Sn(Fe,Ee,St,Ct,Lt){Lt==="never"?Lt="":Fe.showexponent==="all"&&Math.abs(Ee.x/Fe.dtick)<1e-6&&(Lt="hide"),Ee.text=He(Ee.x,Fe,Lt,Ct)}function lt(Fe,Ee,St,Ct,Lt){if(Fe.thetaunit==="radians"&&!St){var Ft=Ee.x/180;if(Ft===0)Ee.text="0";else{var Ht=ut(Ft);if(Ht[1]>=100)Ee.text=He(O.deg2rad(Ee.x),Fe,Lt,Ct);else{var $t=Ee.x<0;Ht[1]===1?Ht[0]===1?Ee.text="":Ee.text=Ht[0]+"":Ee.text=["<sup>",Ht[0],"</sup>","","<sub>",Ht[1],"</sub>",""].join(""),$t&&(Ee.text=ee+Ee.text)}}}else Ee.text=He(Ee.x,Fe,Lt,Ct)}function ut(Fe){function Ee($t,Mt){return Math.abs($t-Mt)<=1e-6}function St($t,Mt){return Ee(Mt,0)?$t:St(Mt,$t%Mt)}function Ct($t){for(var Mt=1;!Ee(Math.round($t*Mt)/Mt,$t);)Mt*=10;return Mt}var Lt=Ct(Fe),Ft=Fe*Lt,Ht=Math.abs(St(Ft,Lt));return[Math.round(Ft/Ht),Math.round(Lt/Ht)]}var xt=["f","p","n","","m","","k","M","G","T"];function gt(Fe){return Fe==="SI"||Fe==="B"}function Dt(Fe){return Fe>14||Fe<-15}function He(Fe,Ee,St,Ct){var Lt=Fe<0,Ft=Ee._tickround,Ht=St||Ee.exponentformat||"B",$t=Ee._tickexponent,Mt=_e.getTickFormat(Ee),tn=Ee.separatethousands;if(Ct){var un={exponentformat:Ht,minexponent:Ee.minexponent,dtick:Ee.showexponent==="none"?Ee.dtick:v(Fe)&&Math.abs(Fe)||1,range:Ee.showexponent==="none"?Ee.range.map(Ee.r2d):[0,Fe||1]};ln(un),Ft=(Number(un._tickround)||0)+4,$t=un._tickexponent,Ee.hoverformat&&(Mt=Ee.hoverformat)}if(Mt)return Ee._numFormat(Mt)(Fe).replace(/-/g,ee);var Jt=Math.pow(10,-Ft)/2;if(Ht==="none"&&($t=0),Fe=Math.abs(Fe),Fe<Jt)Fe="0",Lt=!1;else{if(Fe+=Jt,$t&&(Fe*=Math.pow(10,-$t),Ft+=$t),Ft===0)Fe=String(Math.floor(Fe));else if(Ft<0){Fe=String(Math.round(Fe)),Fe=Fe.substr(0,Fe.length+Ft);for(var on=Ft;on<0;on++)Fe+="0"}else{Fe=String(Fe);var Tn=Fe.indexOf(".")+1;Tn&&(Fe=Fe.substr(0,Tn+Ft).replace(/\.?0+$/,""))}Fe=O.numSeparate(Fe,Ee._separators,tn)}if($t&&Ht!=="hide"){gt(Ht)&&Dt($t)&&(Ht="power");var On;$t<0?On=ee+-$t:Ht!=="power"?On="+"+$t:On=String($t),Ht==="e"||Ht==="E"?Fe+=Ht+On:Ht==="power"?Fe+="10<sup>"+On+"</sup>":Ht==="B"&&$t===9?Fe+="B":gt(Ht)&&(Fe+=xt[$t/3+5])}return Lt?ee+Fe:Fe}_e.getTickFormat=function(Fe){var Ee;function St(Mt){return typeof Mt!="string"?Mt:Number(Mt.replace("M",""))*W}function Ct(Mt,tn){var un=["L","D"];if(typeof Mt==typeof tn){if(typeof Mt=="number")return Mt-tn;var Jt=un.indexOf(Mt.charAt(0)),on=un.indexOf(tn.charAt(0));return Jt===on?Number(Mt.replace(/(L|D)/g,""))-Number(tn.replace(/(L|D)/g,"")):Jt-on}else return typeof Mt=="number"?1:-1}function Lt(Mt,tn,un){var Jt=un||function(On){return On},on=tn[0],Tn=tn[1];return(!on&&typeof on!="number"||Jt(on)<=Jt(Mt))&&(!Tn&&typeof Tn!="number"||Jt(Tn)>=Jt(Mt))}function Ft(Mt,tn){var un=tn[0]===null,Jt=tn[1]===null,on=Ct(Mt,tn[0])>=0,Tn=Ct(Mt,tn[1])<=0;return(un||on)&&(Jt||Tn)}var Ht,$t;if(Fe.tickformatstops&&Fe.tickformatstops.length>0)switch(Fe.type){case"date":case"linear":{for(Ee=0;Ee<Fe.tickformatstops.length;Ee++)if($t=Fe.tickformatstops[Ee],$t.enabled&&Lt(Fe.dtick,$t.dtickrange,St)){Ht=$t;break}break}case"log":{for(Ee=0;Ee<Fe.tickformatstops.length;Ee++)if($t=Fe.tickformatstops[Ee],$t.enabled&&Ft(Fe.dtick,$t.dtickrange)){Ht=$t;break}break}}return Ht?Ht.value:Fe.tickformat},_e.getSubplots=function(Fe,Ee){var St=Fe._fullLayout._subplots,Ct=St.cartesian.concat(St.gl2d||[]),Lt=Ee?_e.findSubplotsWithAxis(Ct,Ee):Ct;return Lt.sort(function(Ft,Ht){var $t=Ft.substr(1).split("y"),Mt=Ht.substr(1).split("y");return $t[0]===Mt[0]?+$t[1]-+Mt[1]:+$t[0]-+Mt[0]}),Lt},_e.findSubplotsWithAxis=function(Fe,Ee){for(var St=new RegExp(Ee._id.charAt(0)==="x"?"^"+Ee._id+"y":Ee._id+"$"),Ct=[],Lt=0;Lt<Fe.length;Lt++){var Ft=Fe[Lt];St.test(Ft)&&Ct.push(Ft)}return Ct},_e.makeClipPaths=function(Fe){var Ee=Fe._fullLayout;if(!Ee._hasOnlyLargeSploms){var St={_offset:0,_length:Ee.width,_id:""},Ct={_offset:0,_length:Ee.height,_id:""},Lt=_e.list(Fe,"x",!0),Ft=_e.list(Fe,"y",!0),Ht=[],$t,Mt;for($t=0;$t<Lt.length;$t++)for(Ht.push({x:Lt[$t],y:Ct}),Mt=0;Mt<Ft.length;Mt++)$t===0&&Ht.push({x:St,y:Ft[Mt]}),Ht.push({x:Lt[$t],y:Ft[Mt]});var tn=Ee._clips.selectAll(".axesclip").data(Ht,function(un){return un.x._id+un.y._id});tn.enter().append("clipPath").classed("axesclip",!0).attr("id",function(un){return"clip"+Ee._uid+un.x._id+un.y._id}).append("rect"),tn.exit().remove(),tn.each(function(un){g.select(this).select("rect").attr({x:un.x._offset||0,y:un.y._offset||0,width:un.x._length||1,height:un.y._length||1})})}},_e.draw=function(Fe,Ee,St){var Ct=Fe._fullLayout;Ee==="redraw"&&Ct._paper.selectAll("g.subplot").each(function(Mt){var tn=Mt[0],un=Ct._plots[tn];if(un){var Jt=un.xaxis,on=un.yaxis;un.xaxislayer.selectAll("."+Jt._id+"tick").remove(),un.yaxislayer.selectAll("."+on._id+"tick").remove(),un.xaxislayer.selectAll("."+Jt._id+"tick2").remove(),un.yaxislayer.selectAll("."+on._id+"tick2").remove(),un.xaxislayer.selectAll("."+Jt._id+"divider").remove(),un.yaxislayer.selectAll("."+on._id+"divider").remove(),un.minorGridlayer&&un.minorGridlayer.selectAll("path").remove(),un.gridlayer&&un.gridlayer.selectAll("path").remove(),un.zerolinelayer&&un.zerolinelayer.selectAll("path").remove(),Ct._infolayer.select(".g-"+Jt._id+"title").remove(),Ct._infolayer.select(".g-"+on._id+"title").remove()}});var Lt=!Ee||Ee==="redraw"?_e.listIds(Fe):Ee,Ft=_e.list(Fe),Ht=Ft.filter(function(Mt){return Mt.autoshift}).map(function(Mt){return Mt.overlaying});Lt.map(function(Mt){var tn=_e.getFromId(Fe,Mt);if(tn.tickmode==="sync"&&tn.overlaying){var un=Lt.findIndex(function(Jt){return Jt===tn.overlaying});un>=0&&Lt.unshift(Lt.splice(un,1).shift())}});var $t={false:{left:0,right:0}};return O.syncOrAsync(Lt.map(function(Mt){return function(){if(Mt){var tn=_e.getFromId(Fe,Mt);St||(St={}),St.axShifts=$t,St.overlayingShiftedAx=Ht;var un=_e.drawOne(Fe,tn,St);return tn._shiftPusher&&Oo(tn,tn._fullDepth||0,$t,!0),tn._r=tn.range.slice(),tn._rl=O.simpleMap(tn._r,tn.r2l),un}}}))},_e.drawOne=function(Fe,Ee,St){St=St||{};var Ct=St.axShifts||{},Lt=St.overlayingShiftedAx||[],Ft,Ht,$t;Ee.setScale();var Mt=Fe._fullLayout,tn=Ee._id,un=tn.charAt(0),Jt=_e.counterLetter(tn),on=Mt._plots[Ee._mainSubplot];if(!on)return;if(Ee._shiftPusher=Ee.autoshift||Lt.indexOf(Ee._id)!==-1||Lt.indexOf(Ee.overlaying)!==-1,Ee._shiftPusher&Ee.anchor==="free"){var Tn=Ee.linewidth/2||0;Ee.ticks==="inside"&&(Tn+=Ee.ticklen),Oo(Ee,Tn,Ct,!0),Oo(Ee,Ee.shift||0,Ct,!1)}(St.skipTitle!==!0||Ee._shift===void 0)&&(Ee._shift=wr(Ee,Ct));var On=on[un+"axislayer"],pn=Ee._mainLinePosition,Jn=pn+=Ee._shift,Fn=Ee._mainMirrorPosition,Zr=Ee._vals=_e.calcTicks(Ee),dr=[Ee.mirror,Jn,Fn].join("_");for(Ft=0;Ft<Zr.length;Ft++)Zr[Ft].axInfo=dr;Ee._selections={},Ee._tickAngles&&(Ee._prevTickAngles=Ee._tickAngles),Ee._tickAngles={},Ee._depth=null;var Ur={};function ar(xi){var Za=tn+(xi||"tick");return Ur[Za]||(Ur[Za]=Pt(Ee,Za)),Ur[Za]}if(Ee.visible){var ur=_e.makeTransTickFn(Ee),qr=_e.makeTransTickLabelFn(Ee),no,ko,Es=Ee.ticks==="inside",So=Ee.ticks==="outside";if(Ee.tickson==="boundaries"){var Ko=dt(Ee,Zr);ko=_e.clipEnds(Ee,Ko),no=Es?ko:Ko}else ko=_e.clipEnds(Ee,Zr),no=Es&&Ee.ticklabelmode!=="period"?ko:Zr;var ds=Ee._gridVals=ko,qs=Tt(Ee,Zr);if(!Mt._hasOnlyLargeSploms){var es=Ee._subplotsWith,Xs={};for(Ft=0;Ft<es.length;Ft++){Ht=es[Ft],$t=Mt._plots[Ht];var Ya=$t[Jt+"axis"],bc=Ya._mainAxis._id;if(!Xs[bc]){Xs[bc]=1;var li=un==="x"?"M0,"+Ya._offset+"v"+Ya._length:"M"+Ya._offset+",0h"+Ya._length;_e.drawGrid(Fe,Ee,{vals:ds,counterAxis:Ya,layer:$t.gridlayer.select("."+tn),minorLayer:$t.minorGridlayer.select("."+tn),path:li,transFn:ur}),_e.drawZeroLine(Fe,Ee,{counterAxis:Ya,layer:$t.zerolinelayer,path:li,transFn:ur})}}}var nu,Ba=_e.getTickSigns(Ee),Js=_e.getTickSigns(Ee,"minor");if(Ee.ticks||Ee.minor&&Ee.minor.ticks){var ya=_e.makeTickPath(Ee,Jn,Ba[2]),ra=_e.makeTickPath(Ee,Jn,Js[2],{minor:!0}),ru,Dr,Oc,oa;if(Ee._anchorAxis&&Ee.mirror&&Ee.mirror!==!0?(ru=_e.makeTickPath(Ee,Fn,Ba[3]),Dr=_e.makeTickPath(Ee,Fn,Js[3],{minor:!0}),Oc=ya+ru,oa=ra+Dr):(ru="",Dr="",Oc=ya,oa=ra),Ee.showdividers&&So&&Ee.tickson==="boundaries"){var Ri={};for(Ft=0;Ft<qs.length;Ft++)Ri[qs[Ft].x]=1;nu=function(xi){return Ri[xi.x]?ru:Oc}}else nu=function(xi){return xi.minor?oa:Oc}}if(_e.drawTicks(Fe,Ee,{vals:no,layer:On,path:nu,transFn:ur}),Ee.mirror==="allticks"){var _d=Object.keys(Ee._linepositions||{});for(Ft=0;Ft<_d.length;Ft++){Ht=_d[Ft],$t=Mt._plots[Ht];var sa=Ee._linepositions[Ht]||[],xu=sa[0],Rd=sa[1],Su=sa[2],Po=_e.makeTickPath(Ee,xu,Su?Ba[0]:Js[0],{minor:Su})+_e.makeTickPath(Ee,Rd,Su?Ba[1]:Js[1],{minor:Su});_e.drawTicks(Fe,Ee,{vals:no,layer:$t[un+"axislayer"],path:Po,transFn:ur})}}var zi=[];if(zi.push(function(){return _e.drawLabels(Fe,Ee,{vals:Zr,layer:On,plotinfo:$t,transFn:qr,labelFns:_e.makeLabelFns(Ee,Jn)})}),Ee.type==="multicategory"){var fr={x:2,y:10}[un];zi.push(function(){var xi={x:"height",y:"width"}[un],Za=ar()[xi]+fr+(Ee._tickAngles[tn+"tick"]?Ee.tickfont.size*Ce:0);return _e.drawLabels(Fe,Ee,{vals:mt(Ee,Zr),layer:On,cls:tn+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ur,labelFns:_e.makeLabelFns(Ee,Jn+Za*Ba[4])})}),zi.push(function(){return Ee._depth=Ba[4]*(ar("tick2")[Ee.side]-Jn),Rt(Fe,Ee,{vals:qs,layer:On,path:_e.makeTickPath(Ee,Jn,Ba[4],{len:Ee._depth}),transFn:ur})})}else Ee.title.hasOwnProperty("standoff")&&zi.push(function(){Ee._depth=Ba[4]*(ar()[Ee.side]-Jn)});var Fa=b.getComponentMethod("rangeslider","isVisible")(Ee);return!St.skipTitle&&!(Fa&&Ee.side==="bottom")&&zi.push(function(){return Hn(Fe,Ee)}),zi.push(function(){var xi=Ee.side.charAt(0),Za=De[Ee.side].charAt(0),Va=_e.getPxPosition(Fe,Ee),bl=So?Ee.ticklen:0,Ho,ci,ei,qf;(Ee.automargin||Fa||Ee._shiftPusher)&&(Ee.type==="multicategory"?Ho=ar("tick2"):(Ho=ar(),un==="x"&&xi==="b"&&(Ee._depth=Math.max(Ho.width>0?Ho.bottom-Va:0,bl))));var Ha=0,zu=0;if(Ee._shiftPusher&&(Ha=Math.max(bl,Ho.height>0?xi==="l"?Va-Ho.left:Ho.right-Va:0),Ee.title.text!==Mt._dfltTitle[un]&&(zu=(Ee._titleStandoff||0)+(Ee._titleScoot||0),xi==="l"&&(zu+=fn(Ee))),Ee._fullDepth=Math.max(Ha,zu)),Ee.automargin){ci={x:0,y:0,r:0,l:0,t:0,b:0};var Zu=[0,1],Dd=typeof Ee._shift=="number"?Ee._shift:0;if(un==="x"){if(xi==="b"?ci[xi]=Ee._depth:(ci[xi]=Ee._depth=Math.max(Ho.width>0?Va-Ho.top:0,bl),Zu.reverse()),Ho.width>0){var Is=Ho.right-(Ee._offset+Ee._length);Is>0&&(ci.xr=1,ci.r=Is);var $d=Ee._offset-Ho.left;$d>0&&(ci.xl=0,ci.l=$d)}}else if(xi==="l"?(Ee._depth=Math.max(Ho.height>0?Va-Ho.left:0,bl),ci[xi]=Ee._depth-Dd):(Ee._depth=Math.max(Ho.height>0?Ho.right-Va:0,bl),ci[xi]=Ee._depth+Dd,Zu.reverse()),Ho.height>0){var Vc=Ho.bottom-(Ee._offset+Ee._length);Vc>0&&(ci.yb=0,ci.b=Vc);var Al=Ee._offset-Ho.top;Al>0&&(ci.yt=1,ci.t=Al)}ci[Jt]=Ee.anchor==="free"?Ee.position:Ee._anchorAxis.domain[Zu[0]],Ee.title.text!==Mt._dfltTitle[un]&&(ci[xi]+=fn(Ee)+(Ee.title.standoff||0)),Ee.mirror&&Ee.anchor!=="free"&&(ei={x:0,y:0,r:0,l:0,t:0,b:0},ei[Za]=Ee.linewidth,Ee.mirror&&Ee.mirror!==!0&&(ei[Za]+=bl),Ee.mirror===!0||Ee.mirror==="ticks"?ei[Jt]=Ee._anchorAxis.domain[Zu[1]]:(Ee.mirror==="all"||Ee.mirror==="allticks")&&(ei[Jt]=[Ee._counterDomainMin,Ee._counterDomainMax][Zu[1]]))}Fa&&(qf=b.getComponentMethod("rangeslider","autoMarginOpts")(Fe,Ee)),typeof Ee.automargin=="string"&&(at(ci,Ee.automargin),at(ei,Ee.automargin)),y.autoMargin(Fe,Wn(Ee),ci),y.autoMargin(Fe,Br(Ee),ei),y.autoMargin(Fe,kr(Ee),qf)}),O.syncOrAsync(zi)}};function at(Fe,Ee){if(Fe){var St=Object.keys(Y).reduce(function(Ct,Lt){return Ee.indexOf(Lt)!==-1&&Y[Lt].forEach(function(Ft){Ct[Ft]=1}),Ct},{});Object.keys(Fe).forEach(function(Ct){St[Ct]||(Ct.length===1?Fe[Ct]=0:delete Fe[Ct])})}}function dt(Fe,Ee){var St=[],Ct,Lt=function(Ft,Ht){var $t=Ft.xbnd[Ht];$t!==null&&St.push(O.extendFlat({},Ft,{x:$t}))};if(Ee.length){for(Ct=0;Ct<Ee.length;Ct++)Lt(Ee[Ct],0);Lt(Ee[Ct-1],1)}return St}function mt(Fe,Ee){for(var St=[],Ct={},Lt=0;Lt<Ee.length;Lt++){var Ft=Ee[Lt];Ct[Ft.text2]?Ct[Ft.text2].push(Ft.x):Ct[Ft.text2]=[Ft.x]}for(var Ht in Ct)St.push(Yn(Fe,O.interp(Ct[Ht],.5),Ht));return St}function Tt(Fe,Ee){var St=[],Ct,Lt,Ft=Ee.length&&Ee[Ee.length-1].x<Ee[0].x,Ht=function(Mt,tn){var un=Mt.xbnd[tn];un!==null&&St.push(O.extendFlat({},Mt,{x:un}))};if(Fe.showdividers&&Ee.length){for(Ct=0;Ct<Ee.length;Ct++){var $t=Ee[Ct];$t.text2!==Lt&&Ht($t,Ft?1:0),Lt=$t.text2}Ht(Ee[Ct-1],Ft?0:1)}return St}function Pt(Fe,Ee){var St,Ct,Lt,Ft;return Fe._selections[Ee].size()?(St=1/0,Ct=-1/0,Lt=1/0,Ft=-1/0,Fe._selections[Ee].each(function(){var Ht=vr(this),$t=R.bBox(Ht.node().parentNode);St=Math.min(St,$t.top),Ct=Math.max(Ct,$t.bottom),Lt=Math.min(Lt,$t.left),Ft=Math.max(Ft,$t.right)})):(St=0,Ct=0,Lt=0,Ft=0),{top:St,bottom:Ct,left:Lt,right:Ft,height:Ct-St,width:Ft-Lt}}_e.getTickSigns=function(Fe,Ee){var St=Fe._id.charAt(0),Ct={x:"top",y:"right"}[St],Lt=Fe.side===Ct?1:-1,Ft=[-1,1,Lt,-Lt],Ht=Ee?(Fe.minor||{}).ticks:Fe.ticks;return Ht!=="inside"==(St==="x")&&(Ft=Ft.map(function($t){return-$t})),Fe.side&&Ft.push({l:-1,t:-1,r:1,b:1}[Fe.side.charAt(0)]),Ft},_e.makeTransTickFn=function(Fe){return Fe._id.charAt(0)==="x"?function(Ee){return C(Fe._offset+Fe.l2p(Ee.x),0)}:function(Ee){return C(0,Fe._offset+Fe.l2p(Ee.x))}},_e.makeTransTickLabelFn=function(Fe){var Ee=rn(Fe),St=Ee[0],Ct=Ee[1];return Fe._id.charAt(0)==="x"?function(Lt){return C(St+Fe._offset+Fe.l2p(dn(Lt)),Ct)}:function(Lt){return C(Ct,St+Fe._offset+Fe.l2p(dn(Lt)))}};function dn(Fe){return Fe.periodX!==void 0?Fe.periodX:Fe.x}function rn(Fe){var Ee=Fe.ticklabelposition||"",St=function(Tn){return Ee.indexOf(Tn)!==-1},Ct=St("top"),Lt=St("left"),Ft=St("right"),Ht=St("bottom"),$t=St("inside"),Mt=Ht||Lt||Ct||Ft;if(!Mt&&!$t)return[0,0];var tn=Fe.side,un=Mt?(Fe.tickwidth||0)/2:0,Jt=Ve,on=Fe.tickfont?Fe.tickfont.size:12;return(Ht||Ct)&&(un+=on*Le,Jt+=(Fe.linewidth||0)/2),(Lt||Ft)&&(un+=(Fe.linewidth||0)/2,Jt+=Ve),$t&&tn==="top"&&(Jt-=on*(1-Le)),(Lt||Ct)&&(un=-un),(tn==="bottom"||tn==="right")&&(Jt=-Jt),[Mt?un:0,$t?Jt:0]}_e.makeTickPath=function(Fe,Ee,St,Ct){Ct||(Ct={});var Lt=Ct.minor;if(Lt&&!Fe.minor)return"";var Ft=Ct.len!==void 0?Ct.len:Lt?Fe.minor.ticklen:Fe.ticklen,Ht=Fe._id.charAt(0),$t=(Fe.linewidth||1)/2;return Ht==="x"?"M0,"+(Ee+$t*St)+"v"+Ft*St:"M"+(Ee+$t*St)+",0h"+Ft*St},_e.makeLabelFns=function(Fe,Ee,St){var Ct=Fe.ticklabelposition||"",Lt=function(Ko){return Ct.indexOf(Ko)!==-1},Ft=Lt("top"),Ht=Lt("left"),$t=Lt("right"),Mt=Lt("bottom"),tn=Mt||Ht||Ft||$t,un=Lt("inside"),Jt=Ct==="inside"&&Fe.ticks==="inside"||!un&&Fe.ticks==="outside"&&Fe.tickson!=="boundaries",on=0,Tn=0,On=Jt?Fe.ticklen:0;if(un?On*=-1:tn&&(On=0),Jt&&(on+=On,St)){var pn=O.deg2rad(St);on=On*Math.cos(pn)+1,Tn=On*Math.sin(pn)}Fe.showticklabels&&(Jt||Fe.showline)&&(on+=.2*Fe.tickfont.size),on+=(Fe.linewidth||1)/2*(un?-1:1);var Jn={labelStandoff:on,labelShift:Tn},Fn,Zr,dr,Ur,ar=0,ur=Fe.side,qr=Fe._id.charAt(0),no=Fe.tickangle,ko;if(qr==="x")ko=!un&&ur==="bottom"||un&&ur==="top",Ur=ko?1:-1,un&&(Ur*=-1),Fn=Tn*Ur,Zr=Ee+on*Ur,dr=ko?1:-.2,Math.abs(no)===90&&(un?dr+=Oe:no===-90&&ur==="bottom"?dr=Le:no===90&&ur==="top"?dr=Oe:dr=.5,ar=Oe/2*(no/90)),Jn.xFn=function(Ko){return Ko.dx+Fn+ar*Ko.fontSize},Jn.yFn=function(Ko){return Ko.dy+Zr+Ko.fontSize*dr},Jn.anchorFn=function(Ko,ds){if(tn){if(Ht)return"end";if($t)return"start"}return!v(ds)||ds===0||ds===180?"middle":ds*Ur<0!==un?"end":"start"},Jn.heightFn=function(Ko,ds,qs){return ds<-60||ds>60?-.5*qs:Fe.side==="top"!==un?-qs:0};else if(qr==="y"){if(ko=!un&&ur==="left"||un&&ur==="right",Ur=ko?1:-1,un&&(Ur*=-1),Fn=on,Zr=Tn*Ur,dr=0,!un&&Math.abs(no)===90&&(no===-90&&ur==="left"||no===90&&ur==="right"?dr=Le:dr=.5),un){var Es=v(no)?+no:0;if(Es!==0){var So=O.deg2rad(Es);ar=Math.abs(Math.sin(So))*Le*Ur,dr=0}}Jn.xFn=function(Ko){return Ko.dx+Ee-(Fn+Ko.fontSize*dr)*Ur+ar*Ko.fontSize},Jn.yFn=function(Ko){return Ko.dy+Zr+Ko.fontSize*Oe},Jn.anchorFn=function(Ko,ds){return v(ds)&&Math.abs(ds)===90?"middle":ko?"end":"start"},Jn.heightFn=function(Ko,ds,qs){return Fe.side==="right"&&(ds*=-1),ds<-30?-qs:ds<30?-.5*qs:0}}return Jn};function Wt(Fe){return[Fe.text,Fe.x,Fe.axInfo,Fe.font,Fe.fontSize,Fe.fontColor].join("_")}_e.drawTicks=function(Fe,Ee,St){St=St||{};var Ct=Ee._id+"tick",Lt=[].concat(Ee.minor&&Ee.minor.ticks?St.vals.filter(function(Ht){return Ht.minor&&!Ht.noTick}):[]).concat(Ee.ticks?St.vals.filter(function(Ht){return!Ht.minor&&!Ht.noTick}):[]),Ft=St.layer.selectAll("path."+Ct).data(Lt,Wt);Ft.exit().remove(),Ft.enter().append("path").classed(Ct,1).classed("ticks",1).classed("crisp",St.crisp!==!1).each(function(Ht){return T.stroke(g.select(this),Ht.minor?Ee.minor.tickcolor:Ee.tickcolor)}).style("stroke-width",function(Ht){return R.crispRound(Fe,Ht.minor?Ee.minor.tickwidth:Ee.tickwidth,1)+"px"}).attr("d",St.path).style("display",null),ao(Ee,[ne]),Ft.attr("transform",St.transFn)},_e.drawGrid=function(Fe,Ee,St){if(St=St||{},Ee.tickmode!=="sync"){var Ct=Ee._id+"grid",Lt=Ee.minor&&Ee.minor.showgrid,Ft=Lt?St.vals.filter(function(Fn){return Fn.minor}):[],Ht=Ee.showgrid?St.vals.filter(function(Fn){return!Fn.minor}):[],$t=St.counterAxis;if($t&&_e.shouldShowZeroLine(Fe,Ee,$t))for(var Mt=Ee.tickmode==="array",tn=0;tn<Ht.length;tn++){var un=Ht[tn].x;if(Mt?!un:Math.abs(un)<Ee.dtick/100)if(Ht=Ht.slice(0,tn).concat(Ht.slice(tn+1)),Mt)tn--;else break}Ee._gw=R.crispRound(Fe,Ee.gridwidth,1);for(var Jt=Lt?R.crispRound(Fe,Ee.minor.gridwidth,1):0,on=St.layer,Tn=St.minorLayer,On=1;On>=0;On--){var pn=On?on:Tn;if(pn){var Jn=pn.selectAll("path."+Ct).data(On?Ht:Ft,Wt);Jn.exit().remove(),Jn.enter().append("path").classed(Ct,1).classed("crisp",St.crisp!==!1),Jn.attr("transform",St.transFn).attr("d",St.path).each(function(Fn){return T.stroke(g.select(this),Fn.minor?Ee.minor.gridcolor:Ee.gridcolor||"#ddd")}).style("stroke-dasharray",function(Fn){return R.dashStyle(Fn.minor?Ee.minor.griddash:Ee.griddash,Fn.minor?Ee.minor.gridwidth:Ee.gridwidth)}).style("stroke-width",function(Fn){return(Fn.minor?Jt:Ee._gw)+"px"}).style("display",null),typeof St.path=="function"&&Jn.attr("d",St.path)}}ao(Ee,[Be,pe])}},_e.drawZeroLine=function(Fe,Ee,St){St=St||St;var Ct=Ee._id+"zl",Lt=_e.shouldShowZeroLine(Fe,Ee,St.counterAxis),Ft=St.layer.selectAll("path."+Ct).data(Lt?[{x:0,id:Ee._id}]:[]);Ft.exit().remove(),Ft.enter().append("path").classed(Ct,1).classed("zl",1).classed("crisp",St.crisp!==!1).each(function(){St.layer.selectAll("path").sort(function(Ht,$t){return be(Ht.id,$t.id)})}),Ft.attr("transform",St.transFn).attr("d",St.path).call(T.stroke,Ee.zerolinecolor||T.defaultLine).style("stroke-width",R.crispRound(Fe,Ee.zerolinewidth,Ee._gw||1)+"px").style("display",null),ao(Ee,[we])},_e.drawLabels=function(Fe,Ee,St){St=St||{};var Ct=Fe._fullLayout,Lt=Ee._id,Ft=Lt.charAt(0),Ht=St.cls||Lt+"tick",$t=St.vals.filter(function(Ur){return Ur.text}),Mt=St.labelFns,tn=St.secondary?0:Ee.tickangle,un=(Ee._prevTickAngles||{})[Ht],Jt=St.layer.selectAll("g."+Ht).data(Ee.showticklabels?$t:[],Wt),on=[];Jt.enter().append("g").classed(Ht,1).append("text").attr("text-anchor","middle").each(function(Ur){var ar=g.select(this),ur=Fe._promises.length;ar.call(k.positionText,Mt.xFn(Ur),Mt.yFn(Ur)).call(R.font,Ur.font,Ur.fontSize,Ur.fontColor).text(Ur.text).call(k.convertToTspans,Fe),Fe._promises[ur]?on.push(Fe._promises.pop().then(function(){Tn(ar,tn)})):Tn(ar,tn)}),ao(Ee,[le]),Jt.exit().remove(),St.repositionOnUpdate&&Jt.each(function(Ur){g.select(this).select("text").call(k.positionText,Mt.xFn(Ur),Mt.yFn(Ur))});function Tn(Ur,ar){Ur.each(function(ur){var qr=g.select(this),no=qr.select(".text-math-group"),ko=Mt.anchorFn(ur,ar),Es=St.transFn.call(qr.node(),ur)+(v(ar)&&+ar!=0?" rotate("+ar+","+Mt.xFn(ur)+","+(Mt.yFn(ur)-ur.fontSize/2)+")":""),So=k.lineCount(qr),Ko=Ce*ur.fontSize,ds=Mt.heightFn(ur,v(ar)?+ar:0,(So-1)*Ko);if(ds&&(Es+=C(0,ds)),no.empty()){var qs=qr.select("text");qs.attr({transform:Es,"text-anchor":ko}),qs.style("opacity",1),Ee._adjustTickLabelsOverflow&&Ee._adjustTickLabelsOverflow()}else{var es=R.bBox(no.node()).width,Xs=es*{end:-.5,start:.5}[ko];no.attr("transform",Es+C(Xs,0))}})}Ee._adjustTickLabelsOverflow=function(){var Ur=Ee.ticklabeloverflow;if(!(!Ur||Ur==="allow")){var ar=Ur.indexOf("hide")!==-1,ur=Ee._id.charAt(0)==="x",qr=0,no=ur?Fe._fullLayout.width:Fe._fullLayout.height;if(Ur.indexOf("domain")!==-1){var ko=O.simpleMap(Ee.range,Ee.r2l);qr=Ee.l2p(ko[0])+Ee._offset,no=Ee.l2p(ko[1])+Ee._offset}var Es=Math.min(qr,no),So=Math.max(qr,no),Ko=Ee.side,ds=1/0,qs=-1/0;Jt.each(function(bc){var li=g.select(this),nu=li.select(".text-math-group");if(nu.empty()){var Ba=R.bBox(li.node()),Js=0;ur?(Ba.right>So||Ba.left<Es)&&(Js=1):(Ba.bottom>So||Ba.top+(Ee.tickangle?0:bc.fontSize/4)<Es)&&(Js=1);var ya=li.select("text");Js?ar&&ya.style("opacity",0):(ya.style("opacity",1),Ko==="bottom"||Ko==="right"?ds=Math.min(ds,ur?Ba.top:Ba.left):ds=-1/0,Ko==="top"||Ko==="left"?qs=Math.max(qs,ur?Ba.bottom:Ba.right):qs=1/0)}});for(var es in Ct._plots){var Xs=Ct._plots[es];if(!(Ee._id!==Xs.xaxis._id&&Ee._id!==Xs.yaxis._id)){var Ya=ur?Xs.yaxis:Xs.xaxis;Ya&&(Ya["_visibleLabelMin_"+Ee._id]=ds,Ya["_visibleLabelMax_"+Ee._id]=qs)}}}},Ee._hideCounterAxisInsideTickLabels=function(Ur){var ar=Ee._id.charAt(0)==="x",ur=[];for(var qr in Ct._plots){var no=Ct._plots[qr];Ee._id!==no.xaxis._id&&Ee._id!==no.yaxis._id||ur.push(ar?no.yaxis:no.xaxis)}ur.forEach(function(ko,Es){ko&&Sr(ko)&&(Ur||[we,pe,Be,ne,le]).forEach(function(So){var Ko=So.K==="tick"&&So.L==="text"&&Ee.ticklabelmode==="period",ds=Ct._plots[Ee._mainSubplot],qs;So.K===we.K?qs=ds.zerolinelayer.selectAll("."+Ee._id+"zl"):So.K===pe.K?qs=ds.minorGridlayer.selectAll("."+Ee._id):So.K===Be.K?qs=ds.gridlayer.selectAll("."+Ee._id):qs=ds[Ee._id.charAt(0)+"axislayer"],qs.each(function(){var es=g.select(this);So.L&&(es=es.selectAll(So.L)),es.each(function(Xs){var Ya=Ee.l2p(Ko?dn(Xs):Xs.x)+Ee._offset,bc=g.select(this);Ya<Ee["_visibleLabelMax_"+ko._id]&&Ya>Ee["_visibleLabelMin_"+ko._id]?bc.style("display","none"):So.K==="tick"&&!Es&&bc.style("display",null)})})})})},Tn(Jt,un+1?un:tn);function On(){return on.length&&Promise.all(on)}var pn=null;function Jn(){if(Tn(Jt,tn),$t.length&&Ft==="x"&&!v(tn)&&(Ee.type!=="log"||String(Ee.dtick).charAt(0)!=="D")){pn=0;var Ur=0,ar=[],ur;if(Jt.each(function(Ba){Ur=Math.max(Ur,Ba.fontSize);var Js=Ee.l2p(Ba.x),ya=vr(this),ra=R.bBox(ya.node());ar.push({top:0,bottom:10,height:10,left:Js-ra.width/2,right:Js+ra.width/2+2,width:ra.width+2})}),(Ee.tickson==="boundaries"||Ee.showdividers)&&!St.secondary){var qr=2;for(Ee.ticks&&(qr+=Ee.tickwidth/2),ur=0;ur<ar.length;ur++){var no=$t[ur].xbnd,ko=ar[ur];if(no[0]!==null&&ko.left-Ee.l2p(no[0])<qr||no[1]!==null&&Ee.l2p(no[1])-ko.right<qr){pn=90;break}}}else{var Es=$t.length,So=Math.abs(($t[Es-1].x-$t[0].x)*Ee._m)/(Es-1),Ko=Ee.ticklabelposition||"",ds=function(Ba){return Ko.indexOf(Ba)!==-1},qs=ds("top"),es=ds("left"),Xs=ds("right"),Ya=ds("bottom"),bc=Ya||es||qs||Xs,li=bc?(Ee.tickwidth||0)+2*Ve:0,nu=So<Ur*2.5||Ee.type==="multicategory"||Ee._name==="realaxis";for(ur=0;ur<ar.length-1;ur++)if(O.bBoxIntersect(ar[ur],ar[ur+1],li)){pn=nu?90:30;break}}pn&&Tn(Jt,pn)}}Ee._selections&&(Ee._selections[Ht]=Jt);var Fn=[On];Ee.automargin&&Ct._redrawFromAutoMarginCount&&un===90?(pn=90,Fn.push(function(){Tn(Jt,un)})):Fn.push(Jn),Ee._tickAngles&&Fn.push(function(){Ee._tickAngles[Ht]=pn===null?v(tn)?tn:0:pn});var Zr=Ee._anchorAxis;Zr&&Zr.autorange&&Sr(Ee)&&!te(Ct,Ee._id)&&(Ct._insideTickLabelsAutorange||(Ct._insideTickLabelsAutorange={}),Ct._insideTickLabelsAutorange[Zr._name+".autorange"]=Zr.autorange,Fn.push(function(){Jt.each(function(ar,ur){var qr=vr(this),no=qr.select(".text-math-group");no.empty()&&(Ee._vals[ur].bb=R.bBox(qr.node()))})}));var dr=O.syncOrAsync(Fn);return dr&&dr.then&&Fe._promises.push(dr),dr};function Rt(Fe,Ee,St){var Ct=Ee._id+"divider",Lt=St.vals,Ft=St.layer.selectAll("path."+Ct).data(Lt,Wt);Ft.exit().remove(),Ft.enter().insert("path",":first-child").classed(Ct,1).classed("crisp",1).call(T.stroke,Ee.dividercolor).style("stroke-width",R.crispRound(Fe,Ee.dividerwidth,1)+"px"),Ft.attr("transform",St.transFn).attr("d",St.path)}_e.getPxPosition=function(Fe,Ee){var St=Fe._fullLayout._size,Ct=Ee._id.charAt(0),Lt=Ee.side,Ft;if(Ee.anchor!=="free"?Ft=Ee._anchorAxis:Ct==="x"?Ft={_offset:St.t+(1-(Ee.position||0))*St.h,_length:0}:Ct==="y"&&(Ft={_offset:St.l+(Ee.position||0)*St.w+Ee._shift,_length:0}),Lt==="top"||Lt==="left")return Ft._offset;if(Lt==="bottom"||Lt==="right")return Ft._offset+Ft._length};function fn(Fe){var Ee=Fe.title.font.size,St=(Fe.title.text.match(k.BR_TAG_ALL)||[]).length;return Fe.title.hasOwnProperty("standoff")?St?Ee*(Le+St*Ce):Ee*Le:St?Ee*(St+1)*Ce:Ee}function Hn(Fe,Ee){var St=Fe._fullLayout,Ct=Ee._id,Lt=Ct.charAt(0),Ft=Ee.title.font.size,Ht;if(Ee.title.hasOwnProperty("standoff"))Ht=Ee._depth+Ee.title.standoff+fn(Ee);else{var $t=Sr(Ee);if(Ee.type==="multicategory")Ht=Ee._depth;else{var Mt=1.5*Ft;$t&&(Mt=.5*Ft,Ee.ticks==="outside"&&(Mt+=Ee.ticklen)),Ht=10+Mt+(Ee.linewidth?Ee.linewidth-1:0)}$t||(Lt==="x"?Ht+=Ee.side==="top"?Ft*(Ee.showticklabels?1:0):Ft*(Ee.showticklabels?1.5:.5):Ht+=Ee.side==="right"?Ft*(Ee.showticklabels?1:.5):Ft*(Ee.showticklabels?.5:0))}var tn=_e.getPxPosition(Fe,Ee),un,Jt,on;Lt==="x"?(Jt=Ee._offset+Ee._length/2,on=Ee.side==="top"?tn-Ht:tn+Ht):(on=Ee._offset+Ee._length/2,Jt=Ee.side==="right"?tn+Ht:tn-Ht,un={rotate:"-90",offset:0});var Tn;if(Ee.type!=="multicategory"){var On=Ee._selections[Ee._id+"tick"];if(Tn={selection:On,side:Ee.side},On&&On.node()&&On.node().parentNode){var pn=R.getTranslate(On.node().parentNode);Tn.offsetLeft=pn.x,Tn.offsetTop=pn.y}Ee.title.hasOwnProperty("standoff")&&(Tn.pad=0)}return Ee._titleStandoff=Ht,w.draw(Fe,Ct+"title",{propContainer:Ee,propName:Ee._name+".title.text",placeholder:St._dfltTitle[Lt],avoid:Tn,transform:un,attributes:{x:Jt,y:on,"text-anchor":"middle"}})}_e.shouldShowZeroLine=function(Fe,Ee,St){var Ct=O.simpleMap(Ee.range,Ee.r2l);return Ct[0]*Ct[1]<=0&&Ee.zeroline&&(Ee.type==="linear"||Ee.type==="-")&&!(Ee.rangebreaks&&Ee.maskBreaks(0)===xe)&&(nr(Ee,0)||!Er(Fe,Ee,St,Ct)||zt(Fe,Ee))},_e.clipEnds=function(Fe,Ee){return Ee.filter(function(St){return nr(Fe,St.x)})};function nr(Fe,Ee){var St=Fe.l2p(Ee);return St>1&&St<Fe._length-1}function Er(Fe,Ee,St,Ct){var Lt=St._mainAxis;if(!Lt)return;var Ft=Fe._fullLayout,Ht=Ee._id.charAt(0),$t=_e.counterLetter(Ee._id),Mt=Ee._offset+(Math.abs(Ct[0])<Math.abs(Ct[1])==(Ht==="x")?0:Ee._length);function tn(On){if(!On.showline||!On.linewidth)return!1;var pn=Math.max((On.linewidth+Ee.zerolinewidth)/2,1);function Jn(dr){return typeof dr=="number"&&Math.abs(dr-Mt)<pn}if(Jn(On._mainLinePosition)||Jn(On._mainMirrorPosition))return!0;var Fn=On._linepositions||{};for(var Zr in Fn)if(Jn(Fn[Zr][0])||Jn(Fn[Zr][1]))return!0}var un=Ft._plots[St._mainSubplot];if(!(un.mainplotinfo||un).overlays.length)return tn(St);for(var Jt=_e.list(Fe,$t),on=0;on<Jt.length;on++){var Tn=Jt[on];if(Tn._mainAxis===Lt&&tn(Tn))return!0}}function zt(Fe,Ee){for(var St=Fe._fullData,Ct=Ee._mainSubplot,Lt=Ee._id.charAt(0),Ft=0;Ft<St.length;Ft++){var Ht=St[Ft];if(Ht.visible===!0&&Ht.xaxis+Ht.yaxis===Ct&&(b.traceIs(Ht,"bar-like")&&Ht.orientation==={x:"h",y:"v"}[Lt]||Ht.fill&&Ht.fill.charAt(Ht.fill.length-1)===Lt))return!0}return!1}function vr(Fe){var Ee=g.select(Fe),St=Ee.select(".text-math-group");return St.empty()?Ee.select("text"):St}_e.allowAutoMargin=function(Fe){for(var Ee=_e.list(Fe,"",!0),St=0;St<Ee.length;St++){var Ct=Ee[St];Ct.automargin&&(y.allowAutoMargin(Fe,Wn(Ct)),Ct.mirror&&y.allowAutoMargin(Fe,Br(Ct))),b.getComponentMethod("rangeslider","isVisible")(Ct)&&y.allowAutoMargin(Fe,kr(Ct))}};function Wn(Fe){return Fe._id+".automargin"}function Br(Fe){return Wn(Fe)+".mirror"}function kr(Fe){return Fe._id+".rangeslider"}_e.swap=function(Fe,Ee){for(var St=or(Fe,Ee),Ct=0;Ct<St.length;Ct++)_r(Fe,St[Ct].x,St[Ct].y)};function or(Fe,Ee){var St=[],Ct,Lt;for(Ct=0;Ct<Ee.length;Ct++){var Ft=[],Ht=Fe._fullData[Ee[Ct]].xaxis,$t=Fe._fullData[Ee[Ct]].yaxis;if(!(!Ht||!$t)){for(Lt=0;Lt<St.length;Lt++)(St[Lt].x.indexOf(Ht)!==-1||St[Lt].y.indexOf($t)!==-1)&&Ft.push(Lt);if(!Ft.length){St.push({x:[Ht],y:[$t]});continue}var Mt=St[Ft[0]],tn;if(Ft.length>1)for(Lt=1;Lt<Ft.length;Lt++)tn=St[Ft[Lt]],jr(Mt.x,tn.x),jr(Mt.y,tn.y);jr(Mt.x,[Ht]),jr(Mt.y,[$t])}}return St}function jr(Fe,Ee){for(var St=0;St<Ee.length;St++)Fe.indexOf(Ee[St])===-1&&Fe.push(Ee[St])}function _r(Fe,Ee,St){var Ct=[],Lt=[],Ft=Fe.layout,Ht,$t;for(Ht=0;Ht<Ee.length;Ht++)Ct.push(_e.getFromId(Fe,Ee[Ht]));for(Ht=0;Ht<St.length;Ht++)Lt.push(_e.getFromId(Fe,St[Ht]));var Mt=Object.keys(M),tn=["anchor","domain","overlaying","position","side","tickangle","editType"],un=["linear","log"];for(Ht=0;Ht<Mt.length;Ht++){var Jt=Mt[Ht],on=Ct[0][Jt],Tn=Lt[0][Jt],On=!0,pn=!1,Jn=!1;if(!(Jt.charAt(0)==="_"||typeof on=="function"||tn.indexOf(Jt)!==-1)){for($t=1;$t<Ct.length&&On;$t++){var Fn=Ct[$t][Jt];Jt==="type"&&un.indexOf(on)!==-1&&un.indexOf(Fn)!==-1&&on!==Fn?pn=!0:Fn!==on&&(On=!1)}for($t=1;$t<Lt.length&&On;$t++){var Zr=Lt[$t][Jt];Jt==="type"&&un.indexOf(Tn)!==-1&&un.indexOf(Zr)!==-1&&Tn!==Zr?Jn=!0:Lt[$t][Jt]!==Tn&&(On=!1)}On&&(pn&&(Ft[Ct[0]._name].type="linear"),Jn&&(Ft[Lt[0]._name].type="linear"),Rn(Ft,Jt,Ct,Lt,Fe._fullLayout._dfltTitle))}}for(Ht=0;Ht<Fe._fullLayout.annotations.length;Ht++){var dr=Fe._fullLayout.annotations[Ht];Ee.indexOf(dr.xref)!==-1&&St.indexOf(dr.yref)!==-1&&O.swapAttrs(Ft.annotations[Ht],["?"])}}function Rn(Fe,Ee,St,Ct,Lt){var Ft=O.nestedProperty,Ht=Ft(Fe[St[0]._name],Ee).get(),$t=Ft(Fe[Ct[0]._name],Ee).get(),Mt;for(Ee==="title"&&(Ht&&Ht.text===Lt.x&&(Ht.text=Lt.y),$t&&$t.text===Lt.y&&($t.text=Lt.x)),Mt=0;Mt<St.length;Mt++)Ft(Fe,St[Mt]._name+"."+Ee).set($t);for(Mt=0;Mt<Ct.length;Mt++)Ft(Fe,Ct[Mt]._name+"."+Ee).set(Ht)}function xr(Fe){return Fe._id==="angularaxis"}function sr(Fe,Ee){for(var St=Ee._rangebreaks.length,Ct=0;Ct<St;Ct++){var Lt=Ee._rangebreaks[Ct];if(Fe>=Lt.min&&Fe<Lt.max)return Lt.max}return Fe}function Sr(Fe){return(Fe.ticklabelposition||"").indexOf("inside")!==-1}function ao(Fe,Ee){Sr(Fe._anchorAxis||{})&&Fe._hideCounterAxisInsideTickLabels&&Fe._hideCounterAxisInsideTickLabels(Ee)}function Oo(Fe,Ee,St,Ct){var Lt=Fe.anchor!=="free"&&(Fe.overlaying===void 0||Fe.overlaying===!1)?Fe._id:Fe.overlaying,Ft;Ct?Ft=Fe.side==="right"?Ee:-Ee:Ft=Ee,Lt in St||(St[Lt]={}),Fe.side in St[Lt]||(St[Lt][Fe.side]=0),St[Lt][Fe.side]+=Ft}function wr(Fe,Ee){return Fe.autoshift?Ee[Fe.overlaying][Fe.side]:Fe.shift||0}},4322:function(f,h,c){var g=c(2770),v=c(1828),y=c(606).BADNUM,b=v.isArrayOrTypedArray,O=v.isDateTime,C=v.cleanNumber,k=Math.round;f.exports=function(Q,z,U){var F=Q,B=U.noMultiCategory;if(b(F)&&!F.length)return"-";if(!B&&V(F))return"multicategory";if(B&&Array.isArray(F[0])){for(var E=[],W=0;W<F.length;W++)if(b(F[W]))for(var X=0;X<F[W].length;X++)E.push(F[W][X]);F=E}if(R(F,z))return"date";var ie=U.autotypenumbers!=="strict";return I(F,ie)?"category":T(F,ie)?"linear":"-"};function w(N,Q){return Q?g(N):typeof N=="number"}function T(N,Q){for(var z=N.length,U=0;U<z;U++)if(w(N[U],Q))return!0;return!1}function R(N,Q){for(var z=N.length,U=M(z),F=0,B=0,E={},W=0;W<z;W+=U){var X=k(W),ie=N[X],L=String(ie);E[L]||(E[L]=1,O(ie,Q)&&F++,g(ie)&&B++)}return F>B*2}function M(N){return Math.max(1,(N-1)/1e3)}function I(N,Q){for(var z=N.length,U=M(z),F=0,B=0,E={},W=0;W<z;W+=U){var X=k(W),ie=N[X],L=String(ie);if(!E[L]){E[L]=1;var me=typeof ie;me==="boolean"?B++:(Q?C(ie)!==y:me==="number")?F++:me==="string"&&B++}}return B>F*2}function V(N){return b(N[0])&&b(N[1])}},1453:function(f,h,c){var g=c(2770),v=c(3972),y=c(1828),b=c(4467),O=c(5501),C=c(3838),k=c(6218),w=c(8701),T=c(6115),R=c(9426),M=c(5258),I=c(2128),V=c(3608),N=c(1994),Q=c(5555).WEEKDAY_PATTERN,z=c(5555).HOUR_PATTERN;f.exports=function(W,X,ie,L,me){var ae=L.letter,q=L.font||{},de=L.splomStash||{},ee=ie("visible",!L.visibleDflt),xe=X._template||{},we=X.type||xe.type||"-",Be;if(we==="date"){var pe=v.getComponentMethod("calendars","handleDefaults");pe(W,X,"calendar",L.calendar),L.noTicklabelmode||(Be=ie("ticklabelmode"))}var ne="";(!L.noTicklabelposition||we==="multicategory")&&(ne=y.coerce(W,X,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Be==="period"?["outside","inside"]:ae==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),L.noTicklabeloverflow||ie("ticklabeloverflow",ne.indexOf("inside")!==-1?"hide past domain":we==="category"||we==="multicategory"?"allow":"hide past div"),N(X,me),V(W,X,ie,L),M(W,X,ie,L),we!=="category"&&!L.noHover&&ie("hoverformat");var le=ie("color"),Y=le!==C.color.dflt?le:q.color,ve=de.label||me._dfltTitle[ae];if(R(W,X,ie,we,L),!ee)return X;ie("title.text",ve),y.coerceFont(ie,"title.font",{family:q.family,size:y.bigFont(q.size),color:Y}),k(W,X,ie,we);var Oe=L.hasMinor;if(Oe&&(b.newContainer(X,"minor"),k(W,X,ie,we,{isMinor:!0})),T(W,X,ie,we,L),w(W,X,ie,L),Oe){var Le=L.isMinor;L.isMinor=!0,w(W,X,ie,L),L.isMinor=Le}I(W,X,ie,{dfltColor:le,bgColor:L.bgColor,showGrid:L.showGrid,hasMinor:Oe,attributes:C}),Oe&&!X.minor.ticks&&!X.minor.showgrid&&delete X.minor,(X.showline||X.ticks)&&ie("mirror");var Ce=we==="multicategory";if(!L.noTickson&&(we==="category"||Ce)&&(X.ticks||X.showgrid)){var De;Ce&&(De="boundaries");var Ve=ie("tickson",De);Ve==="boundaries"&&delete X.ticklabelposition}if(Ce){var _e=ie("showdividers");_e&&(ie("dividercolor"),ie("dividerwidth"))}if(we==="date")if(O(W,X,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:U}),!X.rangebreaks.length)delete X.rangebreaks;else{for(var Ie=0;Ie<X.rangebreaks.length;Ie++)if(X.rangebreaks[Ie].pattern===Q){X._hasDayOfWeekBreaks=!0;break}if(N(X,me),me._has("scattergl")||me._has("splom"))for(var re=0;re<L.data.length;re++){var be=L.data[re];(be.type==="scattergl"||be.type==="splom")&&(be.visible=!1,y.warn(be.type+" traces do not work on axes with rangebreaks. Setting trace "+be.index+" to `visible: false`."))}}return X};function U(E,W,X){function ie(Be,pe){return y.coerce(E,W,C.rangebreaks,Be,pe)}var L=ie("enabled");if(L){var me=ie("bounds");if(me&&me.length>=2){var ae="",q,de;if(me.length===2){for(q=0;q<2;q++)if(de=B(me[q]),de){ae=Q;break}}var ee=ie("pattern",ae);if(ee===Q)for(q=0;q<2;q++)de=B(me[q]),de&&(W.bounds[q]=me[q]=de-1);if(ee)for(q=0;q<2;q++)switch(de=me[q],ee){case Q:if(!g(de)){W.enabled=!1;return}if(de=+de,de!==Math.floor(de)||de<0||de>=7){W.enabled=!1;return}W.bounds[q]=me[q]=de;break;case z:if(!g(de)){W.enabled=!1;return}if(de=+de,de<0||de>24){W.enabled=!1;return}W.bounds[q]=me[q]=de;break}if(X.autorange===!1){var xe=X.range;if(xe[0]<xe[1]){if(me[0]<xe[0]&&me[1]>xe[1]){W.enabled=!1;return}}else if(me[0]>xe[0]&&me[1]<xe[1]){W.enabled=!1;return}}}else{var we=ie("values");if(we&&we.length)ie("dvalue");else{W.enabled=!1;return}}}}var F={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function B(E){if(typeof E=="string")return F[E.substr(0,3).toLowerCase()]}},2663:function(f,h,c){var g=c(1562),v=g.FORMAT_LINK,y=g.DATE_FORMAT_LINK;function b(k,w){return{valType:"string",dflt:"",editType:"none",description:(w?O:C)("hover text",k)+["By default the values are formatted using "+(w?"generic number format":"`"+k+"axis.hoverformat`")+"."].join(" ")}}function O(k,w){return["Sets the "+k+" formatting rule"+(w?"for `"+w+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+v+"."].join(" ")}function C(k,w){return O(k,w)+[" And for dates see: "+y+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}f.exports={axisHoverFormat:b,descriptionOnlyNumbers:O,descriptionWithDates:C}},1675:function(f,h,c){var g=c(3972),v=c(5555);h.id2name=function(O){if(!(typeof O!="string"||!O.match(v.AX_ID_PATTERN))){var C=O.split(" ")[0].substr(1);return C==="1"&&(C=""),O.charAt(0)+"axis"+C}},h.name2id=function(O){if(O.match(v.AX_NAME_PATTERN)){var C=O.substr(5);return C==="1"&&(C=""),O.charAt(0)+C}},h.cleanId=function(O,C,k){var w=/( domain)$/.test(O);if(!(typeof O!="string"||!O.match(v.AX_ID_PATTERN))&&!(C&&O.charAt(0)!==C)&&!(w&&!k)){var T=O.split(" ")[0].substr(1).replace(/^0+/,"");return T==="1"&&(T=""),O.charAt(0)+T+(w&&k?" domain":"")}},h.list=function(b,O,C){var k=b._fullLayout;if(!k)return[];var w=h.listIds(b,O),T=new Array(w.length),R;for(R=0;R<w.length;R++){var M=w[R];T[R]=k[M.charAt(0)+"axis"+M.substr(1)]}if(!C){var I=k._subplots.gl3d||[];for(R=0;R<I.length;R++){var V=k[I[R]];O?T.push(V[O+"axis"]):T.push(V.xaxis,V.yaxis,V.zaxis)}}return T},h.listIds=function(b,O){var C=b._fullLayout;if(!C)return[];var k=C._subplots;return O?k[O+"axis"]:k.xaxis.concat(k.yaxis)},h.getFromId=function(b,O,C){var k=b._fullLayout;return O=O===void 0||typeof O!="string"?O:O.replace(" domain",""),C==="x"?O=O.replace(/y[0-9]*/,""):C==="y"&&(O=O.replace(/x[0-9]*/,"")),k[h.id2name(O)]},h.getFromTrace=function(b,O,C){var k=b._fullLayout,w=null;if(g.traceIs(O,"gl3d")){var T=O.scene;T.substr(0,5)==="scene"&&(w=k[T][C+"axis"])}else w=h.getFromId(b,O[C+"axis"]||C);return w},h.idSort=function(b,O){var C=b.charAt(0),k=O.charAt(0);return C!==k?C>k?1:-1:+(b.substr(1)||1)-+(O.substr(1)||1)},h.ref2id=function(b){return/^[xyz]/.test(b)?b.split(" ")[0]:!1};function y(b,O){if(O&&O.length){for(var C=0;C<O.length;C++)if(O[C][b])return!0}return!1}h.isLinked=function(b,O){return y(O,b._axisMatchGroups)||y(O,b._axisConstraintGroups)}},5258:function(f){function h(c,g){var v=g.dataAttr||c._id.charAt(0),y={},b,O,C;if(g.axData)b=g.axData;else for(b=[],O=0;O<g.data.length;O++){var k=g.data[O];k[v+"axis"]===c._id&&b.push(k)}for(O=0;O<b.length;O++){var w=b[O][v];for(C=0;C<w.length;C++){var T=w[C];T!=null&&(y[T]=1)}}return Object.keys(y)}f.exports=function(g,v,y,b){if(v.type==="category"){var O=g.categoryarray,C=Array.isArray(O)&&O.length>0,k;C&&(k="array");var w=y("categoryorder",k),T;w==="array"&&(T=y("categoryarray")),!C&&w==="array"&&(w=v.categoryorder="trace"),w==="trace"?v._initialCategories=[]:w==="array"?v._initialCategories=T.slice():(T=h(v,b).sort(),w==="category ascending"?v._initialCategories=T:w==="category descending"&&(v._initialCategories=T.reverse()))}}},6287:function(f,h,c){var g=c(2770),v=c(1828),y=c(606),b=y.ONEDAY,O=y.ONEWEEK;h.dtick=function(C,k){var w=k==="log",T=k==="date",R=k==="category",M=T?b:1;if(!C)return M;if(g(C))return C=Number(C),C<=0?M:R?Math.max(1,Math.round(C)):T?Math.max(.1,C):C;if(typeof C!="string"||!(T||w))return M;var I=C.charAt(0),V=C.substr(1);return V=g(V)?Number(V):0,V<=0||!(T&&I==="M"&&V===Math.round(V)||w&&I==="L"||w&&I==="D"&&(V===1||V===2))?M:C},h.tick0=function(C,k,w,T){if(k==="date")return v.cleanDate(C,v.dateTick0(w,T%O===0?1:0));if(!(T==="D1"||T==="D2"))return g(C)?Number(C):0}},5555:function(f,h,c){var g=c(587).counter;f.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(f,h,c){var g=c(1828),v=c(1739),y=c(1675).id2name,b=c(3838),O=c(2449),C=c(1994),k=c(606).ALMOST_EQUAL,w=c(8783).FROM_BL;h.handleDefaults=function(z,U,F){var B=F.axIds,E=F.axHasImage,W=U._axisConstraintGroups=[],X=U._axisMatchGroups=[],ie,L,me,ae,q,de,ee,xe;for(ie=0;ie<B.length;ie++)ae=y(B[ie]),q=z[ae],de=U[ae],T(q,de,{axIds:B,layoutOut:U,hasImage:E[ae]});function we(Ce,De){for(ie=0;ie<Ce.length;ie++){L=Ce[ie];for(me in L)U[y(me)][De]=L}}for(we(X,"_matchGroup"),ie=0;ie<W.length;ie++){L=W[ie];for(me in L)if(de=U[y(me)],de.fixedrange){for(var Be in L){var pe=y(Be);(z[pe]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+pe+" but was overridden because another axis in its constraint group has fixedrange true"),U[pe].fixedrange=!0}break}}for(ie=0;ie<W.length;){L=W[ie];for(me in L){de=U[y(me)],de._matchGroup&&Object.keys(de._matchGroup).length===Object.keys(L).length&&(W.splice(ie,1),ie--);break}ie++}we(W,"_constraintGroup");var ne=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],le=!1,Y=!1;function ve(){xe=de[ee],ee==="rangebreaks"&&(Y=de._hasDayOfWeekBreaks)}for(ie=0;ie<X.length;ie++){L=X[ie];for(var Oe=0;Oe<ne.length;Oe++){ee=ne[Oe],xe=null;var Le;for(me in L)if(ae=y(me),q=z[ae],de=U[ae],ee in de){if(!de.matches&&(Le=de,ee in q)){ve();break}xe===null&&ee in q&&ve()}if(ee==="range"&&xe&&q.range&&q.range.length===2&&q.range[0]!==null&&q.range[1]!==null&&(le=!0),ee==="autorange"&&xe===null&&le&&(xe=!1),xe===null&&ee in Le&&(xe=Le[ee]),xe!==null)for(me in L)de=U[y(me)],de[ee]=ee==="range"?xe.slice():xe,ee==="rangebreaks"&&(de._hasDayOfWeekBreaks=Y,C(de,U))}}};function T(z,U,F){var B=F.axIds,E=F.layoutOut,W=F.hasImage,X=E._axisConstraintGroups,ie=E._axisMatchGroups,L=U._id,me=L.charAt(0),ae=((E._splomAxes||{})[me]||{})[L]||{},q=U._id,de=q.charAt(0)==="x";U._matchGroup=null,U._constraintGroup=null;function ee(Ie,re){return g.coerce(z,U,b,Ie,re)}ee("constrain",W?"domain":"range"),g.coerce(z,U,{constraintoward:{valType:"enumerated",values:de?["left","center","right"]:["bottom","middle","top"],dflt:de?"center":"middle"}},"constraintoward");var xe=U.type,we,Be,pe=[];for(we=0;we<B.length;we++)if(Be=B[we],Be!==q){var ne=E[y(Be)];ne.type===xe&&pe.push(Be)}var le=M(X,q);if(le){var Y=[];for(we=0;we<pe.length;we++)Be=pe[we],le[Be]||Y.push(Be);pe=Y}var ve=pe.length,Oe,Le;ve&&(z.matches||ae.matches)&&(Oe=g.coerce(z,U,{matches:{valType:"enumerated",values:pe,dflt:pe.indexOf(ae.matches)!==-1?ae.matches:void 0}},"matches"));var Ce=W&&!de?U.anchor:void 0;if(ve&&!Oe&&(z.scaleanchor||Ce)&&(Le=g.coerce(z,U,{scaleanchor:{valType:"enumerated",values:pe.concat([!1])}},"scaleanchor",Ce)),Oe){U._matchGroup=I(ie,q,Oe,1);var De=E[y(Oe)],Ve=R(E,U)/R(E,De);de!==(Oe.charAt(0)==="x")&&(Ve=(de?"x":"y")+Ve),I(X,q,Oe,Ve)}else z.matches&&B.indexOf(z.matches)!==-1&&g.warn("ignored "+U._name+'.matches: "'+z.matches+'" to avoid an infinite loop');if(Le){var _e=ee("scaleratio");_e||(_e=U.scaleratio=1),I(X,q,Le,_e)}else z.scaleanchor&&B.indexOf(z.scaleanchor)!==-1&&g.warn("ignored "+U._name+'.scaleanchor: "'+z.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function R(z,U){var F=U.domain;return F||(F=z[y(U.overlaying)].domain),F[1]-F[0]}function M(z,U){for(var F=0;F<z.length;F++)if(z[F][U])return z[F];return null}function I(z,U,F,B){var E,W,X,ie,L,me=M(z,U);me===null?(me={},me[U]=1,L=z.length,z.push(me)):L=z.indexOf(me);var ae=Object.keys(me);for(E=0;E<z.length;E++)if(X=z[E],E!==L&&X[F]){var q=X[F];for(W=0;W<ae.length;W++)ie=ae[W],X[ie]=V(q,V(B,me[ie]));z.splice(L,1);return}if(B!==1)for(W=0;W<ae.length;W++){var de=ae[W];me[de]=V(B,me[de])}me[F]=1}function V(z,U){var F="",B="",E,W;typeof z=="string"&&(F=z.match(/^[xy]*/)[0],E=F.length,z=+z.substr(E)),typeof U=="string"&&(B=U.match(/^[xy]*/)[0],W=B.length,U=+U.substr(W));var X=z*U;return!E&&!W?X:!E||!W||F.charAt(0)===B.charAt(0)?F+B+z*U:E===W?X:(E>W?F.substr(W):B.substr(E))+X}function N(z,U){for(var F=U._size,B=F.h/F.w,E={},W=Object.keys(z),X=0;X<W.length;X++){var ie=W[X],L=z[ie];if(typeof L=="string"){var me=L.match(/^[xy]*/)[0],ae=me.length;L=+L.substr(ae);for(var q=me.charAt(0)==="y"?B:1/B,de=0;de<ae;de++)L*=q}E[ie]=L}return E}h.enforce=function(U){var F=U._fullLayout,B=F._axisConstraintGroups||[],E,W,X,ie,L,me,ae,q;for(E=0;E<B.length;E++){X=N(B[E],F);var de=Object.keys(X),ee=1/0,xe=0,we=1/0,Be={},pe={},ne=!1;for(W=0;W<de.length;W++)ie=de[W],pe[ie]=L=F[y(ie)],L._inputDomain?L.domain=L._inputDomain.slice():L._inputDomain=L.domain.slice(),L._inputRange||(L._inputRange=L.range.slice()),L.setScale(),Be[ie]=me=Math.abs(L._m)/X[ie],ee=Math.min(ee,me),(L.constrain==="domain"||!L._constraintShrinkable)&&(we=Math.min(we,me)),delete L._constraintShrinkable,xe=Math.max(xe,me),L.constrain==="domain"&&(ne=!0);if(!(ee>k*xe&&!ne)){for(W=0;W<de.length;W++)if(ie=de[W],me=Be[ie],L=pe[ie],ae=L.constrain,me!==we||ae==="domain")if(q=me/we,ae==="range")O(L,q);else{var le=L._inputDomain,Y=(L.domain[1]-L.domain[0])/(le[1]-le[0]),ve=(L.r2l(L.range[1])-L.r2l(L.range[0]))/(L.r2l(L._inputRange[1])-L.r2l(L._inputRange[0]));if(q/=Y,q*ve<1){L.domain=L._input.domain=le.slice(),O(L,q);continue}if(ve<1&&(L.range=L._input.range=L._inputRange.slice(),q*=ve),L.autorange){var Oe=L.r2l(L.range[0]),Le=L.r2l(L.range[1]),Ce=(Oe+Le)/2,De=Ce,Ve=Ce,_e=Math.abs(Le-Ce),Ie=Ce-_e*q*1.0001,re=Ce+_e*q*1.0001,be=v.makePadFn(F,L,0),te=v.makePadFn(F,L,1);Q(L,q);var se=Math.abs(L._m),fe=v.concatExtremes(U,L),oe=fe.min,Se=fe.max,ce,ke;for(ke=0;ke<oe.length;ke++)ce=oe[ke].val-be(oe[ke])/se,ce>Ie&&ce<De&&(De=ce);for(ke=0;ke<Se.length;ke++)ce=Se[ke].val+te(Se[ke])/se,ce<re&&ce>Ve&&(Ve=ce);var Qe=(Ve-De)/(2*_e);q/=Qe,De=L.l2r(De),Ve=L.l2r(Ve),L.range=L._input.range=Oe<Le?[De,Ve]:[Ve,De]}Q(L,q)}}}},h.getAxisGroup=function(U,F){for(var B=U._axisMatchGroups,E=0;E<B.length;E++){var W=B[E];if(W[F])return"g"+E}return F},h.clean=function(U,F){if(F._inputDomain){for(var B=!1,E=F._id,W=U._fullLayout._axisConstraintGroups,X=0;X<W.length;X++)if(W[X][E]){B=!0;break}(!B||F.constrain!=="domain")&&(F._input.domain=F.domain=F._inputDomain,delete F._inputDomain)}};function Q(z,U){var F=z._inputDomain,B=w[z.constraintoward],E=F[0]+(F[1]-F[0])*B;z.domain=z._input.domain=[E+(F[0]-E)/U,E+(F[1]-E)/U],z.setScale()}},9323:function(f,h,c){var g=c(9898),v=c(1828),y=v.numberFormat,b=c(4267),O=c(8520),C=c(3972),k=v.strTranslate,w=c(3893),T=c(7901),R=c(1424),M=c(211),I=c(9298),V=c(6964),N=c(8569),Q=c(4505),z=Q.selectingOrDrawing,U=Q.freeMode,F=c(8783).FROM_TL,B=c(3306),E=c(1549).redrawReglTraces,W=c(4875),X=c(1675).getFromId,ie=c(7322).prepSelect,L=c(7322).clearOutline,me=c(7322).selectOnClick,ae=c(2449),q=c(5555),de=q.MINDRAG,ee=q.MINZOOM,xe=!0;function we(ce,ke,Qe,Ze,Xe,ct,pt,Ye){var je=ce._fullLayout._zoomlayer,et=pt+Ye==="nsew",yt=(pt+Ye).length===1,ft,tt,wt,Xt,Gt,Nt,Bt,vn,En,ln,Yn,an,wn,Xn,Un,Sn,lt,ut,xt,gt,Dt,He,at;Qe+=ke.yaxis._shift;function dt(){if(ft=ke.xaxis,tt=ke.yaxis,En=ft._length,ln=tt._length,Bt=ft._offset,vn=tt._offset,wt={},wt[ft._id]=ft,Xt={},Xt[tt._id]=tt,pt&&Ye)for(var $t=ke.overlays,Mt=0;Mt<$t.length;Mt++){var tn=$t[Mt].xaxis;wt[tn._id]=tn;var un=$t[Mt].yaxis;Xt[un._id]=un}Gt=Se(wt),Nt=Se(Xt),wn=ne(Gt,Ye),Xn=ne(Nt,pt),Un=!Xn&&!wn,an=fe(ce,ce._fullLayout._axisMatchGroups,wt,Xt),Yn=fe(ce,ce._fullLayout._axisConstraintGroups,wt,Xt,an);var Jt=Yn.isSubplotConstrained||an.isSubplotConstrained;Sn=Ye||Jt,lt=pt||Jt;var on=ce._fullLayout;ut=on._has("scattergl"),xt=on._has("splom"),gt=on._has("svg")}dt();var mt=Le(Xn+wn,ce._fullLayout.dragmode,et),Tt=pe(ke,pt+Ye+"drag",mt,Qe,Ze,Xe,ct);if(Un&&!et)return Tt.onmousedown=null,Tt.style.pointerEvents="none",Tt;var Pt={element:Tt,gd:ce,plotinfo:ke};Pt.prepFn=function($t,Mt,tn){var un=Pt.dragmode,Jt=ce._fullLayout.dragmode;Jt!==un&&(Pt.dragmode=Jt),dt(),He=ce._fullLayout._invScaleX,at=ce._fullLayout._invScaleY,Un||(et?$t.shiftKey?Jt==="pan"?Jt="zoom":z(Jt)||(Jt="pan"):$t.ctrlKey&&(Jt="pan"):Jt="pan"),U(Jt)?Pt.minDrag=1:Pt.minDrag=void 0,z(Jt)?(Pt.xaxes=Gt,Pt.yaxes=Nt,ie($t,Mt,tn,Pt,Jt)):(Pt.clickFn=rn,z(un)&&dn(),Un||(Jt==="zoom"?(Pt.moveFn=or,Pt.doneFn=_r,Pt.minDrag=1,kr($t,Mt,tn)):Jt==="pan"&&(Pt.moveFn=Oo,Pt.doneFn=St))),ce._fullLayout._redrag=function(){var on=ce._dragdata;if(on&&on.element===Tt){var Tn=ce._fullLayout.dragmode;z(Tn)||(dt(),Ct([0,0,En,ln]),Pt.moveFn(on.dx,on.dy))}}};function dn(){Pt.plotinfo.selection=!1,L(ce)}function rn($t,Mt){var tn=Pt.gd;if(tn._fullLayout._activeShapeIndex>=0){tn._fullLayout._deactivateShape(tn);return}var un=tn._fullLayout.clickmode;if(Ie(tn),$t===2&&!yt&&Ee(),et)un.indexOf("select")>-1&&me(Mt,tn,Gt,Nt,ke.id,Pt),un.indexOf("event")>-1&&M.click(tn,Mt,ke.id);else if($t===1&&yt){var Jt=pt?tt:ft,on=pt==="s"||Ye==="w"?0:1,Tn=Jt._name+".range["+on+"]",On=le(Jt,on),pn="left",Jn="middle";if(Jt.fixedrange)return;pt?(Jn=pt==="n"?"top":"bottom",Jt.side==="right"&&(pn="right")):Ye==="e"&&(pn="right"),tn._context.showAxisRangeEntryBoxes&&g.select(Tt).call(w.makeEditable,{gd:tn,immediate:!0,background:tn._fullLayout.paper_bgcolor,text:String(On),fill:Jt.tickfont?Jt.tickfont.color:"#444",horizontalAlign:pn,verticalAlign:Jn}).on("edit",function(Fn){var Zr=Jt.d2r(Fn);Zr!==void 0&&C.call("_guiRelayout",tn,Tn,Zr)})}}N.init(Pt);var Wt,Rt,fn,Hn,nr,Er,zt,vr,Wn,Br;function kr($t,Mt,tn){var un=Tt.getBoundingClientRect();Wt=Mt-un.left,Rt=tn-un.top,ce._fullLayout._calcInverseTransform(ce);var Jt=v.apply3DTransform(ce._fullLayout._invTransform)(Wt,Rt);Wt=Jt[0],Rt=Jt[1],fn={l:Wt,r:Wt,w:0,t:Rt,b:Rt,h:0},Hn=ce._hmpixcount?ce._hmlumcount/ce._hmpixcount:b(ce._fullLayout.plot_bgcolor).getLuminance(),nr="M0,0H"+En+"V"+ln+"H0V0",Er=!1,zt="xy",Br=!1,vr=Ce(je,Hn,Bt,vn,nr),Wn=De(je,Bt,vn)}function or($t,Mt){if(ce._transitioningWithDuration)return!1;var tn=Math.max(0,Math.min(En,He*$t+Wt)),un=Math.max(0,Math.min(ln,at*Mt+Rt)),Jt=Math.abs(tn-Wt),on=Math.abs(un-Rt);fn.l=Math.min(Wt,tn),fn.r=Math.max(Wt,tn),fn.t=Math.min(Rt,un),fn.b=Math.max(Rt,un);function Tn(){zt="",fn.r=fn.l,fn.t=fn.b,Wn.attr("d","M0,0Z")}if(Yn.isSubplotConstrained)Jt>ee||on>ee?(zt="xy",Jt/En>on/ln?(on=Jt*ln/En,Rt>un?fn.t=Rt-on:fn.b=Rt+on):(Jt=on*En/ln,Wt>tn?fn.l=Wt-Jt:fn.r=Wt+Jt),Wn.attr("d",se(fn))):Tn();else if(an.isSubplotConstrained)if(Jt>ee||on>ee){zt="xy";var On=Math.min(fn.l/En,(ln-fn.b)/ln),pn=Math.max(fn.r/En,(ln-fn.t)/ln);fn.l=On*En,fn.r=pn*En,fn.b=(1-On)*ln,fn.t=(1-pn)*ln,Wn.attr("d",se(fn))}else Tn();else!Xn||on<Math.min(Math.max(Jt*.6,de),ee)?Jt<de||!wn?Tn():(fn.t=0,fn.b=ln,zt="x",Wn.attr("d",be(fn,Rt))):!wn||Jt<Math.min(on*.6,ee)?(fn.l=0,fn.r=En,zt="y",Wn.attr("d",te(fn,Wt))):(zt="xy",Wn.attr("d",se(fn)));fn.w=fn.r-fn.l,fn.h=fn.b-fn.t,zt&&(Br=!0),ce._dragged=Br,Ve(vr,Wn,fn,nr,Er,Hn),jr(),ce.emit("plotly_relayouting",Dt),Er=!0}function jr(){Dt={},(zt==="xy"||zt==="x")&&(Y(Gt,fn.l/En,fn.r/En,Dt,Yn.xaxes),wr("x",Dt)),(zt==="xy"||zt==="y")&&(Y(Nt,(ln-fn.b)/ln,(ln-fn.t)/ln,Dt,Yn.yaxes),wr("y",Dt))}function _r(){jr(),Ie(ce),St(),re(ce)}var Rn=[0,0,En,ln],xr=null,sr=q.REDRAWDELAY,Sr=ke.mainplot?ce._fullLayout._plots[ke.mainplot]:ke;function ao($t){if(!ce._context._scrollZoom.cartesian&&!ce._fullLayout._enablescrollzoom)return;if(dn(),ce._transitioningWithDuration){$t.preventDefault(),$t.stopPropagation();return}dt(),clearTimeout(xr);var Mt=-$t.deltaY;if(isFinite(Mt)||(Mt=$t.wheelDelta/10),!isFinite(Mt)){v.log("Did not find wheel motion attributes: ",$t);return}var tn=Math.exp(-Math.min(Math.max(Mt,-20),20)/200),un=Sr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Jt=($t.clientX-un.left)/un.width,on=(un.bottom-$t.clientY)/un.height,Tn;function On(pn,Jn,Fn){if(pn.fixedrange)return;var Zr=v.simpleMap(pn.range,pn.r2l),dr=Zr[0]+(Zr[1]-Zr[0])*Jn;function Ur(ar){return pn.l2r(dr+(ar-dr)*Fn)}pn.range=Zr.map(Ur)}if(Sn){for(Ye||(Jt=.5),Tn=0;Tn<Gt.length;Tn++)On(Gt[Tn],Jt,tn);wr("x"),Rn[2]*=tn,Rn[0]+=Rn[2]*Jt*(1/tn-1)}if(lt){for(pt||(on=.5),Tn=0;Tn<Nt.length;Tn++)On(Nt[Tn],on,tn);wr("y"),Rn[3]*=tn,Rn[1]+=Rn[3]*(1-on)*(1/tn-1)}Ct(Rn),Fe(),ce.emit("plotly_relayouting",Dt),xr=setTimeout(function(){ce._fullLayout&&(Rn=[0,0,En,ln],St())},sr),$t.preventDefault()}pt.length*Ye.length!==1&&oe(Tt,ao);function Oo($t,Mt){if($t=$t*He,Mt=Mt*at,ce._transitioningWithDuration)return;if(ce._fullLayout._replotting=!0,wn==="ew"||Xn==="ns"){var tn=wn?-$t:0,un=Xn?-Mt:0;if(an.isSubplotConstrained){if(wn&&Xn){var Jt=($t/En-Mt/ln)/2;$t=Jt*En,Mt=-Jt*ln,tn=-$t,un=-Mt}Xn?tn=-un*En/ln:un=-tn*ln/En}wn&&(ve(Gt,$t),wr("x")),Xn&&(ve(Nt,Mt),wr("y")),Ct([tn,un,En,ln]),Fe(),ce.emit("plotly_relayouting",Dt);return}function on(Ur,ar,ur){for(var qr=1-ar,no,ko,Es=0;Es<Ur.length;Es++){var So=Ur[Es];if(!So.fixedrange){no=So,ko=So._rl[qr]+(So._rl[ar]-So._rl[qr])/Oe(ur/So._length);var Ko=So.l2r(ko);Ko!==!1&&Ko!==void 0&&(So.range[ar]=Ko)}}return no._length*(no._rl[ar]-ko)/(no._rl[ar]-no._rl[qr])}var Tn=wn==="w"==(Xn==="n")?1:-1;if(wn&&Xn&&(Yn.isSubplotConstrained||an.isSubplotConstrained)){var On=($t/En+Tn*Mt/ln)/2;$t=On*En,Mt=Tn*On*ln}var pn,Jn;if(wn==="w"?$t=on(Gt,0,$t):wn==="e"?$t=on(Gt,1,-$t):wn||($t=0),Xn==="n"?Mt=on(Nt,1,Mt):Xn==="s"?Mt=on(Nt,0,-Mt):Xn||(Mt=0),pn=wn==="w"?$t:0,Jn=Xn==="n"?Mt:0,Yn.isSubplotConstrained&&!an.isSubplotConstrained||an.isSubplotConstrained&&wn&&Xn&&Tn>0){var Fn;if(an.isSubplotConstrained||!wn&&Xn.length===1){for(Fn=0;Fn<Gt.length;Fn++)Gt[Fn].range=Gt[Fn]._r.slice(),ae(Gt[Fn],1-Mt/ln);$t=Mt*En/ln,pn=$t/2}if(an.isSubplotConstrained||!Xn&&wn.length===1){for(Fn=0;Fn<Nt.length;Fn++)Nt[Fn].range=Nt[Fn]._r.slice(),ae(Nt[Fn],1-$t/En);Mt=$t*ln/En,Jn=Mt/2}}(!an.isSubplotConstrained||!Xn)&&wr("x"),(!an.isSubplotConstrained||!wn)&&wr("y");var Zr=En-$t,dr=ln-Mt;an.isSubplotConstrained&&!(wn&&Xn)&&(wn?(Jn=pn?0:$t*ln/En,dr=Zr*ln/En):(pn=Jn?0:Mt*En/ln,Zr=dr*En/ln)),Ct([pn,Jn,Zr,dr]),Fe(),ce.emit("plotly_relayouting",Dt)}function wr($t,Mt){for(var tn=an.isSubplotConstrained?{x:Nt,y:Gt}[$t]:an[$t+"axes"],un=an.isSubplotConstrained?{x:Gt,y:Nt}[$t]:[],Jt=0;Jt<tn.length;Jt++){var on=tn[Jt],Tn=on._id,On=an.xLinks[Tn]||an.yLinks[Tn],pn=un[0]||wt[On]||Xt[On];pn&&(Mt?(Mt[on._name+".range[0]"]=Mt[pn._name+".range[0]"],Mt[on._name+".range[1]"]=Mt[pn._name+".range[1]"]):on.range=pn.range.slice())}}function Fe(){var $t=[],Mt;function tn(Tn){for(Mt=0;Mt<Tn.length;Mt++)Tn[Mt].fixedrange||$t.push(Tn[Mt]._id)}function un(Tn,On){for(Mt=0;Mt<Tn.length;Mt++){var pn=Tn[Mt],Jn=pn[On];!pn.fixedrange&&Jn.tickmode==="sync"&&$t.push(Jn._id)}}for(Sn&&(tn(Gt),tn(Yn.xaxes),tn(an.xaxes),un(ke.overlays,"xaxis")),lt&&(tn(Nt),tn(Yn.yaxes),tn(an.yaxes),un(ke.overlays,"yaxis")),Dt={},Mt=0;Mt<$t.length;Mt++){var Jt=$t[Mt],on=X(ce,Jt);I.drawOne(ce,on,{skipTitle:!0}),Dt[on._name+".range[0]"]=on.range[0],Dt[on._name+".range[1]"]=on.range[1]}I.redrawComponents(ce,$t)}function Ee(){if(!ce._transitioningWithDuration){var $t=ce._context.doubleClick,Mt=[];wn&&(Mt=Mt.concat(Gt)),Xn&&(Mt=Mt.concat(Nt)),an.xaxes&&(Mt=Mt.concat(an.xaxes)),an.yaxes&&(Mt=Mt.concat(an.yaxes));var tn={},un,Jt;if($t==="reset+autosize")for($t="autosize",Jt=0;Jt<Mt.length;Jt++){un=Mt[Jt];var on=un._rangeInitial0,Tn=un._rangeInitial1,On=on!==void 0||Tn!==void 0;if(On&&(on!==void 0&&on!==un.range[0]||Tn!==void 0&&Tn!==un.range[1])||!On&&un.autorange!==!0){$t="reset";break}}if($t==="autosize")for(Jt=0;Jt<Mt.length;Jt++)un=Mt[Jt],un.fixedrange||(tn[un._name+".autorange"]=!0);else if($t==="reset"){for((wn||Yn.isSubplotConstrained)&&(Mt=Mt.concat(Yn.xaxes)),Xn&&!Yn.isSubplotConstrained&&(Mt=Mt.concat(Yn.yaxes)),Yn.isSubplotConstrained&&(wn?Xn||(Mt=Mt.concat(Nt)):Mt=Mt.concat(Gt)),Jt=0;Jt<Mt.length;Jt++)if(un=Mt[Jt],!un.fixedrange){var pn=un._name,Jn=un._autorangeInitial;un._rangeInitial0===void 0&&un._rangeInitial1===void 0?tn[pn+".autorange"]=!0:un._rangeInitial0===void 0?(tn[pn+".autorange"]=Jn,tn[pn+".range"]=[null,un._rangeInitial1]):un._rangeInitial1===void 0?(tn[pn+".range"]=[un._rangeInitial0,null],tn[pn+".autorange"]=Jn):tn[pn+".range"]=[un._rangeInitial0,un._rangeInitial1]}}ce.emit("plotly_doubleclick",null),C.call("_guiRelayout",ce,tn)}}function St(){Ct([0,0,En,ln]),v.syncOrAsync([W.previousPromises,function(){ce._fullLayout._replotting=!1,C.call("_guiRelayout",ce,Dt)}],ce)}function Ct($t){var Mt=ce._fullLayout,tn=Mt._plots,un=Mt._subplots.cartesian,Jt,on,Tn,On;if(xt&&C.subplotsRegistry.splom.drag(ce),ut){for(Jt=0;Jt<un.length;Jt++)if(on=tn[un[Jt]],Tn=on.xaxis,On=on.yaxis,on._scene){var pn=v.simpleMap(Tn.range,Tn.r2l),Jn=v.simpleMap(On.range,On.r2l);Tn.limitRange&&Tn.limitRange(),On.limitRange&&On.limitRange(),pn=Tn.range,Jn=On.range,on._scene.update({range:[pn[0],Jn[0],pn[1],Jn[1]]})}}if((xt||ut)&&(B(ce),E(ce)),gt){var Fn=$t[2]/ft._length,Zr=$t[3]/tt._length;for(Jt=0;Jt<un.length;Jt++){on=tn[un[Jt]],Tn=on.xaxis,On=on.yaxis;var dr=(Sn||an.isSubplotConstrained)&&!Tn.fixedrange&&wt[Tn._id],Ur=(lt||an.isSubplotConstrained)&&!On.fixedrange&&Xt[On._id],ar,ur,qr,no;if(dr?(ar=Fn,qr=Ye||an.isSubplotConstrained?$t[0]:Ht(Tn,ar)):an.xaHash[Tn._id]?(ar=Fn,qr=$t[0]*Tn._length/ft._length):an.yaHash[Tn._id]?(ar=Zr,qr=Xn==="ns"?-$t[1]*Tn._length/tt._length:Ht(Tn,ar,{n:"top",s:"bottom"}[Xn])):(ar=Lt(Tn,Fn,Zr),qr=Ft(Tn,ar)),ar>1&&(Tn.maxallowed!==void 0&&Sn===(Tn.range[0]<Tn.range[1]?"e":"w")||Tn.minallowed!==void 0&&Sn===(Tn.range[0]<Tn.range[1]?"w":"e"))&&(ar=1,qr=0),Ur?(ur=Zr,no=pt||an.isSubplotConstrained?$t[1]:Ht(On,ur)):an.yaHash[On._id]?(ur=Zr,no=$t[1]*On._length/tt._length):an.xaHash[On._id]?(ur=Fn,no=wn==="ew"?-$t[0]*On._length/ft._length:Ht(On,ur,{e:"right",w:"left"}[wn])):(ur=Lt(On,Fn,Zr),no=Ft(On,ur)),ur>1&&(On.maxallowed!==void 0&&lt===(On.range[0]<On.range[1]?"n":"s")||On.minallowed!==void 0&&lt===(On.range[0]<On.range[1]?"s":"n"))&&(ur=1,no=0),!(!ar&&!ur)){ar||(ar=1),ur||(ur=1);var ko=Tn._offset-qr/ar,Es=On._offset-no/ur;on.clipRect.call(R.setTranslate,qr,no).call(R.setScale,ar,ur),on.plot.call(R.setTranslate,ko,Es).call(R.setScale,1/ar,1/ur),(ar!==on.xScaleFactor||ur!==on.yScaleFactor)&&(R.setPointGroupScale(on.zoomScalePts,ar,ur),R.setTextPointsScale(on.zoomScaleTxt,ar,ur)),R.hideOutsideRangePoints(on.clipOnAxisFalseTraces,on),on.xScaleFactor=ar,on.yScaleFactor=ur}}}}function Lt($t,Mt,tn){return $t.fixedrange?0:Sn&&Yn.xaHash[$t._id]?Mt:lt&&(Yn.isSubplotConstrained?Yn.xaHash:Yn.yaHash)[$t._id]?tn:0}function Ft($t,Mt){return Mt?($t.range=$t._r.slice(),ae($t,Mt),Ht($t,Mt)):0}function Ht($t,Mt,tn){return $t._length*(1-Mt)*F[tn||$t.constraintoward||"middle"]}return Tt}function Be(ce,ke,Qe,Ze){var Xe=v.ensureSingle(ce.draglayer,ke,Qe,function(ct){ct.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ce.id)});return Xe.call(V,Ze),Xe.node()}function pe(ce,ke,Qe,Ze,Xe,ct,pt){var Ye=Be(ce,"rect",ke,Qe);return g.select(Ye).call(R.setRect,Ze,Xe,ct,pt),Ye}function ne(ce,ke){for(var Qe=0;Qe<ce.length;Qe++)if(!ce[Qe].fixedrange)return ke;return""}function le(ce,ke){var Qe=ce.range[ke],Ze=Math.abs(Qe-ce.range[1-ke]),Xe;return ce.type==="date"?Qe:ce.type==="log"?(Xe=Math.ceil(Math.max(0,-Math.log(Ze)/Math.LN10))+3,y("."+Xe+"g")(Math.pow(10,Qe))):(Xe=Math.floor(Math.log(Math.abs(Qe))/Math.LN10)-Math.floor(Math.log(Ze)/Math.LN10)+4,y("."+String(Xe)+"g")(Qe))}function Y(ce,ke,Qe,Ze,Xe){for(var ct=0;ct<ce.length;ct++){var pt=ce[ct];if(!pt.fixedrange)if(pt.rangebreaks){var Ye=pt._id.charAt(0)==="y",je=Ye?1-ke:ke,et=Ye?1-Qe:Qe;Ze[pt._name+".range[0]"]=pt.l2r(pt.p2l(je*pt._length)),Ze[pt._name+".range[1]"]=pt.l2r(pt.p2l(et*pt._length))}else{var yt=pt._rl[0],ft=pt._rl[1]-yt;Ze[pt._name+".range[0]"]=pt.l2r(yt+ft*ke),Ze[pt._name+".range[1]"]=pt.l2r(yt+ft*Qe)}}if(Xe&&Xe.length){var tt=(ke+(1-Qe))/2;Y(Xe,tt,1-tt,Ze,[])}}function ve(ce,ke){for(var Qe=0;Qe<ce.length;Qe++){var Ze=ce[Qe];if(!Ze.fixedrange){if(Ze.rangebreaks){var Xe=0,ct=Ze._length,pt=Ze.p2l(Xe+ke)-Ze.p2l(Xe),Ye=Ze.p2l(ct+ke)-Ze.p2l(ct),je=(pt+Ye)/2;Ze.range=[Ze.l2r(Ze._rl[0]-je),Ze.l2r(Ze._rl[1]-je)]}else Ze.range=[Ze.l2r(Ze._rl[0]-ke/Ze._m),Ze.l2r(Ze._rl[1]-ke/Ze._m)];Ze.limitRange&&Ze.limitRange()}}}function Oe(ce){return 1-(ce>=0?Math.min(ce,.9):1/(1/Math.max(ce,-.3)+3.222))}function Le(ce,ke,Qe){return ce?ce==="nsew"?Qe?"":ke==="pan"?"move":"crosshair":ce.toLowerCase()+"-resize":"pointer"}function Ce(ce,ke,Qe,Ze,Xe){return ce.append("path").attr("class","zoombox").style({fill:ke>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",k(Qe,Ze)).attr("d",Xe+"Z")}function De(ce,ke,Qe){return ce.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1,opacity:0}).attr("transform",k(ke,Qe)).attr("d","M0,0Z")}function Ve(ce,ke,Qe,Ze,Xe,ct){ce.attr("d",Ze+"M"+Qe.l+","+Qe.t+"v"+Qe.h+"h"+Qe.w+"v-"+Qe.h+"h-"+Qe.w+"Z"),_e(ce,ke,Xe,ct)}function _e(ce,ke,Qe,Ze){Qe||(ce.transition().style("fill",Ze>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ke.transition().style("opacity",1).duration(200))}function Ie(ce){g.select(ce).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function re(ce){xe&&ce.data&&ce._context.showTips&&(v.notifier(v._(ce,"Double-click to zoom back out"),"long"),xe=!1)}function be(ce,ke){return"M"+(ce.l-.5)+","+(ke-ee-.5)+"h-3v"+(2*ee+1)+"h3ZM"+(ce.r+.5)+","+(ke-ee-.5)+"h3v"+(2*ee+1)+"h-3Z"}function te(ce,ke){return"M"+(ke-ee-.5)+","+(ce.t-.5)+"v-3h"+(2*ee+1)+"v3ZM"+(ke-ee-.5)+","+(ce.b+.5)+"v3h"+(2*ee+1)+"v-3Z"}function se(ce){var ke=Math.floor(Math.min(ce.b-ce.t,ce.r-ce.l,ee)/2);return"M"+(ce.l-3.5)+","+(ce.t-.5+ke)+"h3v"+-ke+"h"+ke+"v-3h-"+(ke+3)+"ZM"+(ce.r+3.5)+","+(ce.t-.5+ke)+"h-3v"+-ke+"h"+-ke+"v-3h"+(ke+3)+"ZM"+(ce.r+3.5)+","+(ce.b+.5-ke)+"h-3v"+ke+"h"+-ke+"v3h"+(ke+3)+"ZM"+(ce.l-3.5)+","+(ce.b+.5-ke)+"h3v"+ke+"h"+ke+"v3h-"+(ke+3)+"Z"}function fe(ce,ke,Qe,Ze,Xe){for(var ct=!1,pt={},Ye={},je,et,yt,ft,tt=(Xe||{}).xaHash,wt=(Xe||{}).yaHash,Xt=0;Xt<ke.length;Xt++){var Gt=ke[Xt];for(je in Qe)if(Gt[je]){for(yt in Gt)!(Xe&&(tt[yt]||wt[yt]))&&!(yt.charAt(0)==="x"?Qe:Ze)[yt]&&(pt[yt]=je);for(et in Ze)!(Xe&&(tt[et]||wt[et]))&&Gt[et]&&(ct=!0)}for(et in Ze)if(Gt[et])for(ft in Gt)!(Xe&&(tt[ft]||wt[ft]))&&!(ft.charAt(0)==="x"?Qe:Ze)[ft]&&(Ye[ft]=et)}ct&&(v.extendFlat(pt,Ye),Ye={});var Nt={},Bt=[];for(yt in pt){var vn=X(ce,yt);Bt.push(vn),Nt[vn._id]=vn}var En={},ln=[];for(ft in Ye){var Yn=X(ce,ft);ln.push(Yn),En[Yn._id]=Yn}return{xaHash:Nt,yaHash:En,xaxes:Bt,yaxes:ln,xLinks:pt,yLinks:Ye,isSubplotConstrained:ct}}function oe(ce,ke){if(!O)ce.onwheel!==void 0?ce.onwheel=ke:ce.onmousewheel!==void 0?ce.onmousewheel=ke:ce.isAddedWheelEvent||(ce.isAddedWheelEvent=!0,ce.addEventListener("wheel",ke,{passive:!1}));else{var Qe=ce.onwheel!==void 0?"wheel":"mousewheel";ce._onwheel&&ce.removeEventListener(Qe,ce._onwheel),ce._onwheel=ke,ce.addEventListener(Qe,ke,{passive:!1})}}function Se(ce){var ke=[];for(var Qe in ce)ke.push(ce[Qe]);return ke}f.exports={makeDragBox:we,makeDragger:Be,makeRectDragger:pe,makeZoombox:Ce,makeCorners:De,updateZoombox:Ve,xyCorners:se,transitionZoombox:_e,removeZoombox:Ie,showDoubleClickNotifier:re,attachWheelEventHandler:oe}},4305:function(f,h,c){var g=c(9898),v=c(211),y=c(8569),b=c(6964),O=c(9323).makeDragBox,C=c(5555).DRAGGERSIZE;h.initInteractions=function(w){var T=w._fullLayout;if(w._context.staticPlot){g.select(w).selectAll(".drag").remove();return}if(!(!T._has("cartesian")&&!T._has("splom"))){var R=Object.keys(T._plots||{}).sort(function(I,V){if((T._plots[I].mainplot&&!0)===(T._plots[V].mainplot&&!0)){var N=I.split("y"),Q=V.split("y");return N[0]===Q[0]?Number(N[1]||1)-Number(Q[1]||1):Number(N[0]||1)-Number(Q[0]||1)}return T._plots[I].mainplot?1:-1});R.forEach(function(I){var V=T._plots[I],N=V.xaxis,Q=V.yaxis;if(!V.mainplot){var z=O(w,V,N._offset,Q._offset,N._length,Q._length,"ns","ew");z.onmousemove=function(B){w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===I&&w._fullLayout._plots[I]&&v.hover(w,B,I)},v.hover(w,B,I),w._fullLayout._lasthover=z,w._fullLayout._hoversubplot=I},z.onmouseout=function(B){w._dragging||(w._fullLayout._hoversubplot=null,y.unhover(w,B))},w._context.showAxisDragHandles&&(O(w,V,N._offset-C,Q._offset-C,C,C,"n","w"),O(w,V,N._offset+N._length,Q._offset-C,C,C,"n","e"),O(w,V,N._offset-C,Q._offset+Q._length,C,C,"s","w"),O(w,V,N._offset+N._length,Q._offset+Q._length,C,C,"s","e"))}if(w._context.showAxisDragHandles){if(I===N._mainSubplot){var U=N._mainLinePosition;N.side==="top"&&(U-=C),O(w,V,N._offset+N._length*.1,U,N._length*.8,C,"","ew"),O(w,V,N._offset,U,N._length*.1,C,"","w"),O(w,V,N._offset+N._length*.9,U,N._length*.1,C,"","e")}if(I===Q._mainSubplot){var F=Q._mainLinePosition;Q.side!=="right"&&(F-=C),O(w,V,F,Q._offset+Q._length*.1,C,Q._length*.8,"ns",""),O(w,V,F,Q._offset+Q._length*.9,C,Q._length*.1,"s",""),O(w,V,F,Q._offset,C,Q._length*.1,"n","")}}});var M=T._hoverlayer.node();M.onmousemove=function(I){I.target=w._fullLayout._lasthover,v.hover(w,I,T._hoversubplot)},M.onclick=function(I){I.target=w._fullLayout._lasthover,v.click(w,I)},M.onmousedown=function(I){w._fullLayout._lasthover.onmousedown(I)},h.updateFx(w)}},h.updateFx=function(k){var w=k._fullLayout,T=w.dragmode==="pan"?"move":"crosshair";b(w._draggers,T)}},6325:function(f,h,c){var g=c(3972),v=c(1828),y=c(1675);f.exports=function(O){return function(k,w){var T=k[O];if(Array.isArray(T))for(var R=g.subplotsRegistry.cartesian,M=R.idRegex,I=w._subplots,V=I.xaxis,N=I.yaxis,Q=I.cartesian,z=w._has("cartesian")||w._has("gl2d"),U=0;U<T.length;U++){var F=T[U];if(v.isPlainObject(F)){var B=y.cleanId(F.xref,"x",!1),E=y.cleanId(F.yref,"y",!1),W=M.x.test(B),X=M.y.test(E);if(W||X){z||v.pushUnique(w._basePlotModules,R);var ie=!1;W&&V.indexOf(B)===-1&&(V.push(B),ie=!0),X&&N.indexOf(E)===-1&&(N.push(E),ie=!0),ie&&W&&X&&Q.push(B+E)}}}}}},3612:function(f,h,c){var g=c(9898),v=c(3972),y=c(1828),b=c(4875),O=c(1424),C=c(7659).a0,k=c(1675),w=c(5555),T=c(7922),R=y.ensureSingle;function M(U,F,B){return y.ensureSingle(U,F,B,function(E){E.datum(B)})}h.name="cartesian",h.attr=["xaxis","yaxis"],h.idRoot=["x","y"],h.idRegex=w.idRegex,h.attrRegex=w.attrRegex,h.attributes=c(9502),h.layoutAttributes=c(3838),h.supplyLayoutDefaults=c(6763),h.transitionAxes=c(6847),h.finalizeSubplots=function(U,F){var B=F._subplots,E=B.xaxis,W=B.yaxis,X=B.cartesian,ie=X.concat(B.gl2d||[]),L={},me={},ae,q,de;for(ae=0;ae<ie.length;ae++){var ee=ie[ae].split("y");L[ee[0]]=1,me["y"+ee[1]]=1}for(ae=0;ae<E.length;ae++)q=E[ae],L[q]||(de=(U[k.id2name(q)]||{}).anchor,w.idRegex.y.test(de)||(de="y"),X.push(q+de),ie.push(q+de),me[de]||(me[de]=1,y.pushUnique(W,de)));for(ae=0;ae<W.length;ae++)de=W[ae],me[de]||(q=(U[k.id2name(de)]||{}).anchor,w.idRegex.x.test(q)||(q="x"),X.push(q+de),ie.push(q+de),L[q]||(L[q]=1,y.pushUnique(E,q)));if(!ie.length){q="",de="";for(var xe in U)if(w.attrRegex.test(xe)){var we=xe.charAt(0);we==="x"?(!q||+xe.substr(5)<+q.substr(5))&&(q=xe):(!de||+xe.substr(5)<+de.substr(5))&&(de=xe)}q=q?k.name2id(q):"x",de=de?k.name2id(de):"y",E.push(q),W.push(de),X.push(q+de)}},h.plot=function(U,F,B,E){var W=U._fullLayout,X=W._subplots.cartesian,ie=U.calcdata,L;if(!Array.isArray(F))for(F=[],L=0;L<ie.length;L++)F.push(L);for(L=0;L<X.length;L++){for(var me=X[L],ae=W._plots[me],q=[],de,ee=0;ee<ie.length;ee++){var xe=ie[ee],we=xe[0].trace;we.xaxis+we.yaxis===me&&((F.indexOf(we.index)!==-1||we.carpet)&&(de&&de[0].trace.xaxis+de[0].trace.yaxis===me&&["tonextx","tonexty","tonext"].indexOf(we.fill)!==-1&&q.indexOf(de)===-1&&q.push(de),q.push(xe)),de=xe)}I(U,ae,q,B,E)}};function I(U,F,B,E,W){for(var X=w.traceLayerClasses,ie=U._fullLayout,L=ie._modules,me,ae,q,de=[],ee=[],xe=0;xe<L.length;xe++){me=L[xe];var we=me.name,Be=v.modules[we].categories;if(Be.svg){var pe=me.layerName||we+"layer",ne=me.plot;ae=C(B,ne),q=ae[0],B=ae[1],q.length&&de.push({i:X.indexOf(pe),className:pe,plotMethod:ne,cdModule:q}),Be.zoomScale&&ee.push("."+pe)}}de.sort(function(ve,Oe){return ve.i-Oe.i});var le=F.plot.selectAll("g.mlayer").data(de,function(ve){return ve.className});if(le.enter().append("g").attr("class",function(ve){return ve.className}).classed("mlayer",!0).classed("rangeplot",F.isRangePlot),le.exit().remove(),le.order(),le.each(function(ve){var Oe=g.select(this),Le=ve.className;ve.plotMethod(U,F,ve.cdModule,Oe,E,W),w.clipOnAxisFalseQuery.indexOf("."+Le)===-1&&O.setClipUrl(Oe,F.layerClipId,U)}),ie._has("scattergl")&&(me=v.getModule("scattergl"),q=C(B,me)[0],me.plot(U,F,q)),!U._context.staticPlot&&(F._hasClipOnAxisFalse&&(F.clipOnAxisFalseTraces=F.plot.selectAll(w.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),ee.length)){var Y=F.plot.selectAll(ee.join(",")).selectAll(".trace");F.zoomScalePts=Y.selectAll("path.point"),F.zoomScaleTxt=Y.selectAll(".textpoint")}}h.clean=function(U,F,B,E){var W=E._plots||{},X=F._plots||{},ie=E._subplots||{},L,me,ae;if(E._hasOnlyLargeSploms&&!F._hasOnlyLargeSploms)for(ae in W)L=W[ae],L.plotgroup&&L.plotgroup.remove();var q=E._has&&E._has("gl"),de=F._has&&F._has("gl");if(q&&!de)for(ae in W)L=W[ae],L._scene&&L._scene.destroy();if(ie.xaxis&&ie.yaxis){var ee=k.listIds({_fullLayout:E});for(me=0;me<ee.length;me++){var xe=ee[me];F[k.id2name(xe)]||E._infolayer.selectAll(".g-"+xe+"title").remove()}}var we=E._has&&E._has("cartesian"),Be=F._has&&F._has("cartesian");if(we&&!Be)Q(E._cartesianlayer.selectAll(".subplot"),E),E._defs.selectAll(".axesclip").remove(),delete E._axisConstraintGroups,delete E._axisMatchGroups;else if(ie.cartesian)for(me=0;me<ie.cartesian.length;me++){var pe=ie.cartesian[me];if(!X[pe]){var ne="."+pe+",."+pe+"-x,."+pe+"-y";E._cartesianlayer.selectAll(ne).remove(),z(pe,E)}}},h.drawFramework=function(U){var F=U._fullLayout,B=V(U),E=F._cartesianlayer.selectAll(".subplot").data(B,String);E.enter().append("g").attr("class",function(W){return"subplot "+W[0]}),E.order(),E.exit().call(Q,F),E.each(function(W){var X=W[0],ie=F._plots[X];ie.plotgroup=g.select(this),N(U,ie),ie.draglayer=R(F._draggers,"g",X)})},h.rangePlot=function(U,F,B){N(U,F),I(U,F,B),b.style(U)};function V(U){var F=U._fullLayout,B=F._subplots.cartesian,E=B.length,W,X,ie,L,me,ae,q=[],de=[];for(W=0;W<E;W++){ie=B[W],L=F._plots[ie],me=L.xaxis,ae=L.yaxis;var ee=me._mainAxis,xe=ae._mainAxis,we=ee._id+xe._id,Be=F._plots[we];L.overlays=[],we!==ie&&Be?(L.mainplot=we,L.mainplotinfo=Be,de.push(ie)):(L.mainplot=void 0,L.mainplotinfo=void 0,q.push(ie))}for(W=0;W<de.length;W++)ie=de[W],L=F._plots[ie],L.mainplotinfo.overlays.push(L);var pe=q.concat(de),ne=new Array(E);for(W=0;W<E;W++){ie=pe[W],L=F._plots[ie],me=L.xaxis,ae=L.yaxis;var le=[ie,me.layer,ae.layer,me.overlaying||"",ae.overlaying||""];for(X=0;X<L.overlays.length;X++)le.push(L.overlays[X].id);ne[W]=le}return ne}function N(U,F){var B=F.plotgroup,E=F.id,W=w.layerValue2layerClass[F.xaxis.layer],X=w.layerValue2layerClass[F.yaxis.layer],ie=U._fullLayout._hasOnlyLargeSploms;if(F.mainplot){var me=F.mainplotinfo,ae=me.plotgroup,q=E+"-x",de=E+"-y";F.minorGridlayer=me.minorGridlayer,F.gridlayer=me.gridlayer,F.zerolinelayer=me.zerolinelayer,R(me.overlinesBelow,"path",q),R(me.overlinesBelow,"path",de),R(me.overaxesBelow,"g",q),R(me.overaxesBelow,"g",de),F.plot=R(me.overplot,"g",E),R(me.overlinesAbove,"path",q),R(me.overlinesAbove,"path",de),R(me.overaxesAbove,"g",q),R(me.overaxesAbove,"g",de),F.xlines=ae.select(".overlines-"+W).select("."+q),F.ylines=ae.select(".overlines-"+X).select("."+de),F.xaxislayer=ae.select(".overaxes-"+W).select("."+q),F.yaxislayer=ae.select(".overaxes-"+X).select("."+de)}else if(ie)F.xlines=R(B,"path","xlines-above"),F.ylines=R(B,"path","ylines-above"),F.xaxislayer=R(B,"g","xaxislayer-above"),F.yaxislayer=R(B,"g","yaxislayer-above");else{var L=R(B,"g","layer-subplot");F.shapelayer=R(L,"g","shapelayer"),F.imagelayer=R(L,"g","imagelayer"),F.minorGridlayer=R(B,"g","minor-gridlayer"),F.gridlayer=R(B,"g","gridlayer"),F.zerolinelayer=R(B,"g","zerolinelayer"),R(B,"path","xlines-below"),R(B,"path","ylines-below"),F.overlinesBelow=R(B,"g","overlines-below"),R(B,"g","xaxislayer-below"),R(B,"g","yaxislayer-below"),F.overaxesBelow=R(B,"g","overaxes-below"),F.plot=R(B,"g","plot"),F.overplot=R(B,"g","overplot"),F.xlines=R(B,"path","xlines-above"),F.ylines=R(B,"path","ylines-above"),F.overlinesAbove=R(B,"g","overlines-above"),R(B,"g","xaxislayer-above"),R(B,"g","yaxislayer-above"),F.overaxesAbove=R(B,"g","overaxes-above"),F.xlines=B.select(".xlines-"+W),F.ylines=B.select(".ylines-"+X),F.xaxislayer=B.select(".xaxislayer-"+W),F.yaxislayer=B.select(".yaxislayer-"+X)}ie||(M(F.minorGridlayer,"g",F.xaxis._id),M(F.minorGridlayer,"g",F.yaxis._id),F.minorGridlayer.selectAll("g").map(function(ee){return ee[0]}).sort(k.idSort),M(F.gridlayer,"g",F.xaxis._id),M(F.gridlayer,"g",F.yaxis._id),F.gridlayer.selectAll("g").map(function(ee){return ee[0]}).sort(k.idSort)),F.xlines.style("fill","none").classed("crisp",!0),F.ylines.style("fill","none").classed("crisp",!0)}function Q(U,F){if(U){var B={};U.each(function(me){var ae=me[0],q=g.select(this);q.remove(),z(ae,F),B[ae]=!0});for(var E in F._plots)for(var W=F._plots[E],X=W.overlays||[],ie=0;ie<X.length;ie++){var L=X[ie];B[L.id]&&L.plot.selectAll(".trace").remove()}}}function z(U,F){F._draggers.selectAll("g."+U).remove(),F._defs.select("#clip"+F._uid+U+"plot").remove()}h.toSVG=function(U){var F=U._fullLayout._glimages,B=g.select(U).selectAll(".svg-container"),E=B.filter(function(X,ie){return ie===B.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function W(){var X=this,ie=X.toDataURL("image/png"),L=F.append("svg:image");L.attr({xmlns:T.svg,"xlink:href":ie,preserveAspectRatio:"none",x:0,y:0,width:X.style.width,height:X.style.height})}E.each(W)},h.updateFx=c(4305).updateFx},3838:function(f,h,c){var g=c(1940),v=c(2399),y=c(9952).P,b=c(1426).extendFlat,O=c(4467).templatedArray,C=c(2663).descriptionWithDates,k=c(606).ONEDAY,w=c(5555),T=w.HOUR_PATTERN,R=w.WEEKDAY_PATTERN,M={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},I=b({},M,{values:M.values.slice().concat(["sync"])});function V(me){return{valType:"integer",min:0,dflt:me?5:0,editType:"ticks"}}var N={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},Q={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},z={valType:"data_array",editType:"ticks"},U={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function F(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=5),ae}function B(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=1),ae}var E={valType:"color",dflt:v.defaultLine,editType:"ticks"},W={valType:"color",dflt:v.lightLine,editType:"ticks"};function X(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=1),ae}var ie=b({},y,{editType:"ticks"}),L={valType:"boolean",editType:"ticks"};f.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:v.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[w.idRegex.x.toString(),w.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"calc"},rangebreaks:O("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[R,T,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:k},editType:"calc"}),tickmode:I,nticks:V(),tick0:N,dtick:Q,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:z,ticktext:{valType:"data_array",editType:"ticks"},ticks:U,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:F(),tickwidth:B(),tickcolor:E,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:b({},y,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:C("tick label")},tickformatstops:O("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:C("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:v.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:L,gridcolor:W,gridwidth:X(),griddash:ie,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"plot"},minor:{tickmode:M,nticks:V("minor"),tick0:N,dtick:Q,tickvals:z,ticks:U,ticklen:F("minor"),tickwidth:B("minor"),tickcolor:E,gridcolor:W,gridwidth:X("minor"),griddash:ie,showgrid:L,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},6763:function(f,h,c){var g=c(1828),v=c(7901),y=c(3469).isUnifiedHover,b=c(8212),O=c(4467),C=c(820),k=c(3838),w=c(951),T=c(1453),R=c(9082),M=c(2830),I=c(1675),V=I.id2name,N=I.name2id,Q=c(5555).AX_ID_PATTERN,z=c(3972),U=z.traceIs,F=z.getComponentMethod;function B(E,W,X){Array.isArray(E[W])?E[W].push(X):E[W]=[X]}f.exports=function(W,X,ie){var L=X.autotypenumbers,me={},ae={},q={},de={},ee={},xe={},we={},Be={},pe={},ne={},le,Y;for(le=0;le<ie.length;le++){var ve=ie[le];if(!(!U(ve,"cartesian")&&!U(ve,"gl2d"))){var Oe;if(ve.xaxis)Oe=V(ve.xaxis),B(me,Oe,ve);else if(ve.xaxes)for(Y=0;Y<ve.xaxes.length;Y++)B(me,V(ve.xaxes[Y]),ve);var Le;if(ve.yaxis)Le=V(ve.yaxis),B(me,Le,ve);else if(ve.yaxes)for(Y=0;Y<ve.yaxes.length;Y++)B(me,V(ve.yaxes[Y]),ve);if(ve.type==="funnel"?ve.orientation==="h"?(Oe&&(ae[Oe]=!0),Le&&(we[Le]=!0)):Le&&(q[Le]=!0):ve.type==="image"?(Le&&(Be[Le]=!0),Oe&&(Be[Oe]=!0)):(Le&&(ee[Le]=!0,xe[Le]=!0),(!U(ve,"carpet")||ve.type==="carpet"&&!ve._cheater)&&Oe&&(de[Oe]=!0)),ve.type==="carpet"&&ve._cheater&&Oe&&(ae[Oe]=!0),U(ve,"2dMap")&&(pe[Oe]=!0,pe[Le]=!0),U(ve,"oriented")){var Ce=ve.orientation==="h"?Le:Oe;ne[Ce]=!0}}}var De=X._subplots,Ve=De.xaxis,_e=De.yaxis,Ie=g.simpleMap(Ve,V),re=g.simpleMap(_e,V),be=Ie.concat(re),te=v.background;Ve.length&&_e.length&&(te=g.coerce(W,X,C,"plot_bgcolor"));var se=v.combine(te,X.paper_bgcolor),fe,oe,Se,ce,ke;function Qe(){var He=me[fe]||[];ke._traceIndices=He.map(function(at){return at._expandedIndex}),ke._annIndices=[],ke._shapeIndices=[],ke._selectionIndices=[],ke._imgIndices=[],ke._subplotsWith=[],ke._counterAxes=[],ke._name=ke._attr=fe,ke._id=oe}function Ze(He,at){return g.coerce(ce,ke,k,He,at)}function Xe(He,at){return g.coerce2(ce,ke,k,He,at)}function ct(He){return He==="x"?_e:Ve}function pt(He,at){for(var dt=He==="x"?Ie:re,mt=[],Tt=0;Tt<dt.length;Tt++){var Pt=dt[Tt];Pt!==at&&!(W[Pt]||{}).overlaying&&mt.push(N(Pt))}return mt}var Ye={x:ct("x"),y:ct("y")},je=Ye.x.concat(Ye.y),et={},yt=[];function ft(){var He=ce.matches;Q.test(He)&&je.indexOf(He)===-1&&(et[He]=ce.type,yt=Object.keys(et))}var tt=b(W,X),wt=y(tt);for(le=0;le<be.length;le++){fe=be[le],oe=N(fe),Se=fe.charAt(0),g.isPlainObject(W[fe])||(W[fe]={}),ce=W[fe],ke=O.newContainer(X,fe,Se+"axis"),Qe();var Xt=Se==="x"&&!de[fe]&&ae[fe]||Se==="y"&&!ee[fe]&&q[fe],Gt=Se==="y"&&(!xe[fe]&&we[fe]||Be[fe]),Nt={hasMinor:!0,letter:Se,font:X.font,outerTicks:pe[fe],showGrid:!ne[fe],data:me[fe]||[],bgColor:se,calendar:X.calendar,automargin:!0,visibleDflt:Xt,reverseDflt:Gt,autotypenumbersDflt:L,splomStash:((X._splomAxes||{})[Se]||{})[oe]};Ze("uirevision",X.uirevision),w(ce,ke,Ze,Nt),T(ce,ke,Ze,Nt,X);var Bt=wt&&Se===tt.charAt(0),vn=Xe("spikecolor",wt?ke.color:void 0),En=Xe("spikethickness",wt?1.5:void 0),ln=Xe("spikedash",wt?"dot":void 0),Yn=Xe("spikemode",wt?"across":void 0),an=Xe("spikesnap"),wn=Ze("showspikes",!!Bt||!!vn||!!En||!!ln||!!Yn||!!an);wn||(delete ke.spikecolor,delete ke.spikethickness,delete ke.spikedash,delete ke.spikemode,delete ke.spikesnap);var Xn=V(ce.overlaying),Un=[0,1];if(X[Xn]!==void 0){var Sn=V(X[Xn].anchor);X[Sn]!==void 0&&(Un=X[Sn].domain)}M(ce,ke,Ze,{letter:Se,counterAxes:Ye[Se],overlayableAxes:pt(Se,fe),grid:X.grid,overlayingDomain:Un}),Ze("title.standoff"),ft(),ke._input=ce}for(le=0;le<yt.length;){oe=yt[le++],fe=V(oe),Se=fe.charAt(0),g.isPlainObject(W[fe])||(W[fe]={}),ce=W[fe],ke=O.newContainer(X,fe,Se+"axis"),Qe();var lt={letter:Se,font:X.font,outerTicks:pe[fe],showGrid:!ne[fe],data:[],bgColor:se,calendar:X.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:L,splomStash:((X._splomAxes||{})[Se]||{})[oe]};Ze("uirevision",X.uirevision),ke.type=et[oe]||"linear",T(ce,ke,Ze,lt,X),M(ce,ke,Ze,{letter:Se,counterAxes:Ye[Se],overlayableAxes:pt(Se,fe),grid:X.grid}),Ze("fixedrange"),ft(),ke._input=ce}var ut=F("rangeslider","handleDefaults"),xt=F("rangeselector","handleDefaults");for(le=0;le<Ie.length;le++)fe=Ie[le],ce=W[fe],ke=X[fe],ut(W,X,fe),ke.type==="date"&&xt(ce,ke,X,re,ke.calendar),Ze("fixedrange");for(le=0;le<re.length;le++){fe=re[le],ce=W[fe],ke=X[fe];var gt=X[V(ke.anchor)],Dt=F("rangeslider","isVisible")(gt);Ze("fixedrange",Dt)}R.handleDefaults(W,X,{axIds:je.concat(yt).sort(I.idSort),axHasImage:Be})}},2128:function(f,h,c){var g=c(4267).mix,v=c(2399),y=c(1828);f.exports=function(O,C,k,w){w=w||{};var T=w.dfltColor;function R(q,de){return y.coerce2(O,C,w.attributes,q,de)}var M=R("linecolor",T),I=R("linewidth"),V=k("showline",w.showLine||!!M||!!I);V||(delete C.linecolor,delete C.linewidth);var N=g(T,w.bgColor,w.blend||v.lightFraction).toRgbString(),Q=R("gridcolor",N),z=R("gridwidth"),U=R("griddash"),F=k("showgrid",w.showGrid||!!Q||!!z||!!U);if(F||(delete C.gridcolor,delete C.gridwidth,delete C.griddash),w.hasMinor){var B=g(C.gridcolor,w.bgColor,67).toRgbString(),E=R("minor.gridcolor",B),W=R("minor.gridwidth",C.gridwidth||1),X=R("minor.griddash",C.griddash||"solid"),ie=k("minor.showgrid",!!E||!!W||!!X);ie||(delete C.minor.gridcolor,delete C.minor.gridwidth,delete C.minor.griddash)}if(!w.noZeroLine){var L=R("zerolinecolor",T),me=R("zerolinewidth"),ae=k("zeroline",w.showGrid||!!L||!!me);ae||(delete C.zerolinecolor,delete C.zerolinewidth)}}},2830:function(f,h,c){var g=c(2770),v=c(1828);f.exports=function(b,O,C,k){var w=k.counterAxes||[],T=k.overlayableAxes||[],R=k.letter,M=k.grid,I=k.overlayingDomain,V,N,Q,z,U,F;M&&(N=M._domains[R][M._axisMap[O._id]],V=M._anchors[O._id],N&&(Q=M[R+"side"].split(" ")[0],z=M.domain[R][Q==="right"||Q==="top"?1:0])),N=N||[0,1],V=V||(g(b.position)?"free":w[0]||"free"),Q=Q||(R==="x"?"bottom":"left"),z=z||0,U=0,F=!1;var B=v.coerce(b,O,{anchor:{valType:"enumerated",values:["free"].concat(w),dflt:V}},"anchor"),E=v.coerce(b,O,{side:{valType:"enumerated",values:R==="x"?["bottom","top"]:["left","right"],dflt:Q}},"side");if(B==="free"){if(R==="y"){var W=C("autoshift");W&&(z=E==="left"?I[0]:I[1],F=O.automargin?O.automargin:!0,U=E==="left"?-3:3),C("shift",U)}C("position",z)}C("automargin",F);var X=!1;if(T.length&&(X=v.coerce(b,O,{overlaying:{valType:"enumerated",values:[!1].concat(T),dflt:!1}},"overlaying")),!X){var ie=C("domain",N);ie[0]>ie[1]-.000244140625&&(O.domain=N),v.noneOrAll(b.domain,O.domain,N),O.tickmode==="sync"&&(O.tickmode="auto")}return C("layer"),O}},9426:function(f,h,c){var g=c(9652);f.exports=function(y,b,O,C,k){k||(k={});var w=k.tickSuffixDflt,T=g(y),R=O("tickprefix");R&&O("showtickprefix",T);var M=O("ticksuffix",w);M&&O("showticksuffix",T)}},3608:function(f,h,c){var g=c(3074);f.exports=function(y,b,O,C){var k=b._template||{},w=b.type||k.type||"-";O("minallowed"),O("maxallowed");var T=O("range"),R=b.getAutorangeDflt(T,C),M=O("autorange",R),I;T&&(T[0]===null&&T[1]===null||(T[0]===null||T[1]===null)&&(M==="reversed"||M===!0)||T[0]!==null&&(M==="min"||M==="max reversed")||T[1]!==null&&(M==="max"||M==="min reversed"))&&(T=void 0,delete b.range,b.autorange=!0,I=!0),I||(R=b.getAutorangeDflt(T,C),M=O("autorange",R)),M&&(g(O,M,T),(w==="linear"||w==="-")&&O("rangemode")),b.cleanRange()}},2449:function(f,h,c){var g=c(8783).FROM_BL;f.exports=function(y,b,O){O===void 0&&(O=g[y.constraintoward||"center"]);var C=[y.r2l(y.range[0]),y.r2l(y.range[1])],k=C[0]+(C[1]-C[0])*O;y.range=y._input.range=[y.l2r(k+(C[0]-k)*b),y.l2r(k+(C[1]-k)*b)],y.setScale()}},1994:function(f,h,c){var g=c(9898),v=c(4096).g0,y=c(1828),b=y.numberFormat,O=c(2770),C=y.cleanNumber,k=y.ms2DateTime,w=y.dateTime2ms,T=y.ensureNumber,R=y.isArrayOrTypedArray,M=c(606),I=M.FP_SAFE,V=M.BADNUM,N=M.LOG_CLIP,Q=M.ONEWEEK,z=M.ONEDAY,U=M.ONEHOUR,F=M.ONEMIN,B=M.ONESEC,E=c(1675),W=c(5555),X=W.HOUR_PATTERN,ie=W.WEEKDAY_PATTERN;function L(ae){return Math.pow(10,ae)}function me(ae){return ae!=null}f.exports=function(q,de){de=de||{};var ee=q._id||"x",xe=ee.charAt(0);function we(be,te){if(be>0)return Math.log(be)/Math.LN10;if(be<=0&&te&&q.range&&q.range.length===2){var se=q.range[0],fe=q.range[1];return .5*(se+fe-2*N*Math.abs(se-fe))}else return V}function Be(be,te,se,fe){if((fe||{}).msUTC&&O(be))return+be;var oe=w(be,se||q.calendar);if(oe===V)if(O(be)){be=+be;var Se=Math.floor(y.mod(be+.05,1)*10),ce=Math.round(be-Se/10);oe=w(new Date(ce))+Se/10}else return V;return oe}function pe(be,te,se){return k(be,te,se||q.calendar)}function ne(be){return q._categories[Math.round(be)]}function le(be){if(me(be)){if(q._categoriesMap===void 0&&(q._categoriesMap={}),q._categoriesMap[be]!==void 0)return q._categoriesMap[be];q._categories.push(typeof be=="number"?String(be):be);var te=q._categories.length-1;return q._categoriesMap[be]=te,te}return V}function Y(be,te){for(var se=new Array(te),fe=0;fe<te;fe++){var oe=(be[0]||[])[fe],Se=(be[1]||[])[fe];se[fe]=ve([oe,Se])}return se}function ve(be){if(q._categoriesMap)return q._categoriesMap[be]}function Oe(be){var te=ve(be);if(te!==void 0)return te;if(O(be))return+be}function Le(be){return O(be)?+be:ve(be)}function Ce(be,te,se){return g.round(se+te*be,2)}function De(be,te,se){return(be-se)/te}var Ve=function(te){return O(te)?Ce(te,q._m,q._b):V},_e=function(be){return De(be,q._m,q._b)};if(q.rangebreaks){var Ie=xe==="y";Ve=function(be){if(!O(be))return V;var te=q._rangebreaks.length;if(!te)return Ce(be,q._m,q._b);var se=Ie;q.range[0]>q.range[1]&&(se=!se);for(var fe=se?-1:1,oe=fe*be,Se=0,ce=0;ce<te;ce++){var ke=fe*q._rangebreaks[ce].min,Qe=fe*q._rangebreaks[ce].max;if(oe<ke)break;if(oe>Qe)Se=ce+1;else{Se=oe<(ke+Qe)/2?ce:ce+1;break}}var Ze=q._B[Se]||0;return isFinite(Ze)?Ce(be,q._m2,Ze):0},_e=function(be){var te=q._rangebreaks.length;if(!te)return De(be,q._m,q._b);for(var se=0,fe=0;fe<te&&!(be<q._rangebreaks[fe].pmin);fe++)be>q._rangebreaks[fe].pmax&&(se=fe+1);return De(be,q._m2,q._B[se])}}q.c2l=q.type==="log"?we:T,q.l2c=q.type==="log"?L:T,q.l2p=Ve,q.p2l=_e,q.c2p=q.type==="log"?function(be,te){return Ve(we(be,te))}:Ve,q.p2c=q.type==="log"?function(be){return L(_e(be))}:_e,["linear","-"].indexOf(q.type)!==-1?(q.d2r=q.r2d=q.d2c=q.r2c=q.d2l=q.r2l=C,q.c2d=q.c2r=q.l2d=q.l2r=T,q.d2p=q.r2p=function(be){return q.l2p(C(be))},q.p2d=q.p2r=_e,q.cleanPos=T):q.type==="log"?(q.d2r=q.d2l=function(be,te){return we(C(be),te)},q.r2d=q.r2c=function(be){return L(C(be))},q.d2c=q.r2l=C,q.c2d=q.l2r=T,q.c2r=we,q.l2d=L,q.d2p=function(be,te){return q.l2p(q.d2r(be,te))},q.p2d=function(be){return L(_e(be))},q.r2p=function(be){return q.l2p(C(be))},q.p2r=_e,q.cleanPos=T):q.type==="date"?(q.d2r=q.r2d=y.identity,q.d2c=q.r2c=q.d2l=q.r2l=Be,q.c2d=q.c2r=q.l2d=q.l2r=pe,q.d2p=q.r2p=function(be,te,se){return q.l2p(Be(be,0,se))},q.p2d=q.p2r=function(be,te,se){return pe(_e(be),te,se)},q.cleanPos=function(be){return y.cleanDate(be,V,q.calendar)}):q.type==="category"?(q.d2c=q.d2l=le,q.r2d=q.c2d=q.l2d=ne,q.d2r=q.d2l_noadd=Oe,q.r2c=function(be){var te=Le(be);return te!==void 0?te:q.fraction2r(.5)},q.l2r=q.c2r=T,q.r2l=Le,q.d2p=function(be){return q.l2p(q.r2c(be))},q.p2d=function(be){return ne(_e(be))},q.r2p=q.d2p,q.p2r=_e,q.cleanPos=function(be){return typeof be=="string"&&be!==""?be:T(be)}):q.type==="multicategory"&&(q.r2d=q.c2d=q.l2d=ne,q.d2r=q.d2l_noadd=Oe,q.r2c=function(be){var te=Oe(be);return te!==void 0?te:q.fraction2r(.5)},q.r2c_just_indices=ve,q.l2r=q.c2r=T,q.r2l=Oe,q.d2p=function(be){return q.l2p(q.r2c(be))},q.p2d=function(be){return ne(_e(be))},q.r2p=q.d2p,q.p2r=_e,q.cleanPos=function(be){return Array.isArray(be)||typeof be=="string"&&be!==""?be:T(be)},q.setupMultiCategory=function(be){var te=q._traceIndices,se,fe,oe=q._matchGroup;if(oe&&q._categories.length===0){for(var Se in oe)if(Se!==ee){var ce=de[E.id2name(Se)];te=te.concat(ce._traceIndices)}}var ke=[[0,{}],[0,{}]],Qe=[];for(se=0;se<te.length;se++){var Ze=be[te[se]];if(xe in Ze){var Xe=Ze[xe],ct=Ze._length||y.minRowLength(Xe);if(R(Xe[0])&&R(Xe[1]))for(fe=0;fe<ct;fe++){var pt=Xe[0][fe],Ye=Xe[1][fe];me(pt)&&me(Ye)&&(Qe.push([pt,Ye]),pt in ke[0][1]||(ke[0][1][pt]=ke[0][0]++),Ye in ke[1][1]||(ke[1][1][Ye]=ke[1][0]++))}}}for(Qe.sort(function(je,et){var yt=ke[0][1],ft=yt[je[0]]-yt[et[0]];if(ft)return ft;var tt=ke[1][1];return tt[je[1]]-tt[et[1]]}),se=0;se<Qe.length;se++)le(Qe[se])}),q.fraction2r=function(be){var te=q.r2l(q.range[0]),se=q.r2l(q.range[1]);return q.l2r(te+be*(se-te))},q.r2fraction=function(be){var te=q.r2l(q.range[0]),se=q.r2l(q.range[1]);return(q.r2l(be)-te)/(se-te)},q.limitRange=function(be){var te=q.minallowed,se=q.maxallowed;if(!(te===void 0&&se===void 0)){be||(be="range");var fe=y.nestedProperty(q,be).get(),oe=y.simpleMap(fe,q.r2l),Se=oe[1]<oe[0];Se&&oe.reverse();var ce=y.simpleMap([te,se],q.r2l);te!==void 0&&oe[0]<ce[0]&&(fe[Se?1:0]=te),se!==void 0&&oe[1]>ce[1]&&(fe[Se?0:1]=se)}},q.cleanRange=function(be,te){q._cleanRange(be,te),q.limitRange(be)},q._cleanRange=function(be,te){te||(te={}),be||(be="range");var se=y.nestedProperty(q,be).get(),fe,oe;if(q.type==="date"?oe=y.dfltRange(q.calendar):xe==="y"?oe=W.DFLTRANGEY:q._name==="realaxis"?oe=[0,1]:oe=te.dfltRange||W.DFLTRANGEX,oe=oe.slice(),(q.rangemode==="tozero"||q.rangemode==="nonnegative")&&(oe[0]=0),!se||se.length!==2){y.nestedProperty(q,be).set(oe);return}var Se=se[0]===null,ce=se[1]===null;for(q.type==="date"&&!q.autorange&&(se[0]=y.cleanDate(se[0],V,q.calendar),se[1]=y.cleanDate(se[1],V,q.calendar)),fe=0;fe<2;fe++)if(q.type==="date"){if(!y.isDateTime(se[fe],q.calendar)){q[be]=oe;break}if(q.r2l(se[0])===q.r2l(se[1])){var ke=y.constrain(q.r2l(se[0]),y.MIN_MS+1e3,y.MAX_MS-1e3);se[0]=q.l2r(ke-1e3),se[1]=q.l2r(ke+1e3);break}}else{if(!O(se[fe]))if(!(Se||ce)&&O(se[1-fe]))se[fe]=se[1-fe]*(fe?10:.1);else{q[be]=oe;break}if(se[fe]<-I?se[fe]=-I:se[fe]>I&&(se[fe]=I),se[0]===se[1]){var Qe=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=Qe,se[1]+=Qe}}},q.setScale=function(be){var te=de._size;if(q.overlaying){var se=E.getFromId({_fullLayout:de},q.overlaying);q.domain=se.domain}var fe=be&&q._r?"_r":"range",oe=q.calendar;q.cleanRange(fe);var Se=q.r2l(q[fe][0],oe),ce=q.r2l(q[fe][1],oe),ke=xe==="y";if(ke?(q._offset=te.t+(1-q.domain[1])*te.h,q._length=te.h*(q.domain[1]-q.domain[0]),q._m=q._length/(Se-ce),q._b=-q._m*ce):(q._offset=te.l+q.domain[0]*te.w,q._length=te.w*(q.domain[1]-q.domain[0]),q._m=q._length/(ce-Se),q._b=-q._m*Se),q._rangebreaks=[],q._lBreaks=0,q._m2=0,q._B=[],q.rangebreaks){var Qe,Ze;if(q._rangebreaks=q.locateBreaks(Math.min(Se,ce),Math.max(Se,ce)),q._rangebreaks.length){for(Qe=0;Qe<q._rangebreaks.length;Qe++)Ze=q._rangebreaks[Qe],q._lBreaks+=Math.abs(Ze.max-Ze.min);var Xe=ke;Se>ce&&(Xe=!Xe),Xe&&q._rangebreaks.reverse();var ct=Xe?-1:1;for(q._m2=ct*q._length/(Math.abs(ce-Se)-q._lBreaks),q._B.push(-q._m2*(ke?ce:Se)),Qe=0;Qe<q._rangebreaks.length;Qe++)Ze=q._rangebreaks[Qe],q._B.push(q._B[q._B.length-1]-ct*q._m2*(Ze.max-Ze.min));for(Qe=0;Qe<q._rangebreaks.length;Qe++)Ze=q._rangebreaks[Qe],Ze.pmin=Ve(Ze.min),Ze.pmax=Ve(Ze.max)}}if(!isFinite(q._m)||!isFinite(q._b)||q._length<0)throw de._replotting=!1,new Error("Something went wrong with axis scaling")},q.maskBreaks=function(be){var te=q.rangebreaks||[],se,fe,oe,Se,ce;te._cachedPatterns||(te._cachedPatterns=te.map(function(yt){return yt.enabled&&yt.bounds?y.simpleMap(yt.bounds,yt.pattern?C:q.d2c):null})),te._cachedValues||(te._cachedValues=te.map(function(yt){return yt.enabled&&yt.values?y.simpleMap(yt.values,q.d2c).sort(y.sorterAsc):null}));for(var ke=0;ke<te.length;ke++){var Qe=te[ke];if(Qe.enabled){if(Qe.bounds){var Ze=Qe.pattern;switch(se=te._cachedPatterns[ke],fe=se[0],oe=se[1],Ze){case ie:ce=new Date(be),Se=ce.getUTCDay(),fe>oe&&(oe+=7,Se<fe&&(Se+=7));break;case X:ce=new Date(be);var Xe=ce.getUTCHours(),ct=ce.getUTCMinutes(),pt=ce.getUTCSeconds(),Ye=ce.getUTCMilliseconds();Se=Xe+(ct/60+pt/3600+Ye/36e5),fe>oe&&(oe+=24,Se<fe&&(Se+=24));break;case"":Se=be;break}if(Se>=fe&&Se<oe)return V}else for(var je=te._cachedValues[ke],et=0;et<je.length;et++)if(fe=je[et],oe=fe+Qe.dvalue,be>=fe&&be<oe)return V}}return be},q.locateBreaks=function(be,te){var se,fe,oe,Se,ce=[];if(!q.rangebreaks)return ce;var ke=q.rangebreaks.slice().sort(function(tt,wt){return tt.pattern===ie&&wt.pattern===X?-1:wt.pattern===ie&&tt.pattern===X?1:0}),Qe=function(tt,wt){if(tt=y.constrain(tt,be,te),wt=y.constrain(wt,be,te),tt!==wt){for(var Xt=!0,Gt=0;Gt<ce.length;Gt++){var Nt=ce[Gt];tt<Nt.max&&wt>=Nt.min&&(tt<Nt.min&&(Nt.min=tt),wt>Nt.max&&(Nt.max=wt),Xt=!1)}Xt&&ce.push({min:tt,max:wt})}};for(se=0;se<ke.length;se++){var Ze=ke[se];if(Ze.enabled)if(Ze.bounds){var Xe=be,ct=te;Ze.pattern&&(Xe=Math.floor(Xe)),fe=y.simpleMap(Ze.bounds,Ze.pattern?C:q.r2l),oe=fe[0],Se=fe[1];var pt=new Date(Xe),Ye,je;switch(Ze.pattern){case ie:je=Q,Ye=((Se<oe?7:0)+(Se-oe))*z,Xe+=oe*z-(pt.getUTCDay()*z+pt.getUTCHours()*U+pt.getUTCMinutes()*F+pt.getUTCSeconds()*B+pt.getUTCMilliseconds());break;case X:je=z,Ye=((Se<oe?24:0)+(Se-oe))*U,Xe+=oe*U-(pt.getUTCHours()*U+pt.getUTCMinutes()*F+pt.getUTCSeconds()*B+pt.getUTCMilliseconds());break;default:Xe=Math.min(fe[0],fe[1]),ct=Math.max(fe[0],fe[1]),je=ct-Xe,Ye=je}for(var et=Xe;et<ct;et+=je)Qe(et,et+Ye)}else for(var yt=y.simpleMap(Ze.values,q.d2c),ft=0;ft<yt.length;ft++)oe=yt[ft],Se=oe+Ze.dvalue,Qe(oe,Se)}return ce.sort(function(tt,wt){return tt.min-wt.min}),ce},q.makeCalcdata=function(be,te,se){var fe,oe,Se,ce,ke=q.type,Qe=ke==="date"&&be[te+"calendar"];if(te in be){if(fe=be[te],ce=be._length||y.minRowLength(fe),y.isTypedArray(fe)&&(ke==="linear"||ke==="log")){if(ce===fe.length)return fe;if(fe.subarray)return fe.subarray(0,ce)}if(ke==="multicategory")return Y(fe,ce);for(oe=new Array(ce),Se=0;Se<ce;Se++)oe[Se]=q.d2c(fe[Se],0,Qe,se)}else{var Ze=te+"0"in be?q.d2c(be[te+"0"],0,Qe):0,Xe=be["d"+te]?Number(be["d"+te]):1;for(fe=be[{x:"y",y:"x"}[te]],ce=be._length||fe.length,oe=new Array(ce),Se=0;Se<ce;Se++)oe[Se]=Ze+Se*Xe}if(q.rangebreaks)for(Se=0;Se<ce;Se++)oe[Se]=q.maskBreaks(oe[Se]);return oe},q.isValidRange=function(be,te){return Array.isArray(be)&&be.length===2&&(te&&be[0]===null||O(q.r2l(be[0])))&&(te&&be[1]===null||O(q.r2l(be[1])))},q.getAutorangeDflt=function(be,te){var se=!q.isValidRange(be,"nullOk");return se&&te&&te.reverseDflt?se="reversed":be&&(be[0]===null&&be[1]===null?se=!0:be[0]===null&&be[1]!==null?se="min":be[0]!==null&&be[1]===null&&(se="max")),se},q.isReversed=function(){var be=q.autorange;return be==="reversed"||be==="min reversed"||be==="max reversed"},q.isPtWithinRange=function(be,te){var se=q.c2l(be[xe],null,te),fe=q.r2l(q.range[0]),oe=q.r2l(q.range[1]);return fe<oe?fe<=se&&se<=oe:oe<=se&&se<=fe},q._emptyCategories=function(){q._categories=[],q._categoriesMap={}},q.clearCalc=function(){var be=q._matchGroup;if(be){var te=null,se=null;for(var fe in be){var oe=de[E.id2name(fe)];if(oe._categories){te=oe._categories,se=oe._categoriesMap;break}}te&&se?(q._categories=te,q._categoriesMap=se):q._emptyCategories()}else q._emptyCategories();if(q._initialCategories)for(var Se=0;Se<q._initialCategories.length;Se++)le(q._initialCategories[Se])},q.sortByInitialCategories=function(){var be=[];if(q._emptyCategories(),q._initialCategories)for(var te=0;te<q._initialCategories.length;te++)le(q._initialCategories[te]);be=be.concat(q._traceIndices);var se=q._matchGroup;for(var fe in se)if(ee!==fe){var oe=de[E.id2name(fe)];oe._categories=q._categories,oe._categoriesMap=q._categoriesMap,be=be.concat(oe._traceIndices)}return be};var re=de._d3locale;q.type==="date"&&(q._dateFormat=re?re.timeFormat:v,q._extraFormat=de._extraFormat),q._separators=de.separators,q._numFormat=re?re.numberFormat:b,delete q._minDtick,delete q._forceTick0}},9652:function(f){f.exports=function(c){var g=["showexponent","showtickprefix","showticksuffix"],v=g.filter(function(b){return c[b]!==void 0}),y=function(b){return c[b]===c[v[0]]};if(v.every(y)||v.length===1)return c[v[0]]}},6115:function(f,h,c){var g=c(1828),v=c(7901).contrast,y=c(3838),b=c(9652),O=c(5501);f.exports=function(w,T,R,M,I){I||(I={});var V=R("labelalias");g.isPlainObject(V)||delete T.labelalias;var N=b(w),Q=R("showticklabels");if(Q){var z=I.font||{},U=T.color,F=T.ticklabelposition||"",B=F.indexOf("inside")!==-1?v(I.bgColor):U&&U!==y.color.dflt?U:z.color;if(g.coerceFont(R,"tickfont",{family:z.family,size:z.size,color:B}),!I.noTicklabelstep&&M!=="multicategory"&&M!=="log"&&R("ticklabelstep"),I.noAng||R("tickangle"),M!=="category"){var E=R("tickformat");O(w,T,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:C}),T.tickformatstops.length||delete T.tickformatstops,!I.noExp&&!E&&M!=="date"&&(R("showexponent",N),R("exponentformat"),R("minexponent"),R("separatethousands"))}}};function C(k,w){function T(M,I){return g.coerce(k,w,y.tickformatstops,M,I)}var R=T("enabled");R&&(T("dtickrange"),T("value"))}},8701:function(f,h,c){var g=c(1828),v=c(3838);f.exports=function(b,O,C,k){var w=k.isMinor,T=w?b.minor||{}:b,R=w?O.minor:O,M=w?v.minor:v,I=w?"minor.":"",V=g.coerce2(T,R,M,"ticklen",w?(O.ticklen||5)*.6:void 0),N=g.coerce2(T,R,M,"tickwidth",w?O.tickwidth||1:void 0),Q=g.coerce2(T,R,M,"tickcolor",(w?O.tickcolor:void 0)||R.color),z=C(I+"ticks",!w&&k.outerTicks||V||N||Q?"outside":"");z||(delete R.ticklen,delete R.tickwidth,delete R.tickcolor)}},6218:function(f,h,c){var g=c(6287),v=c(1828).isArrayOrTypedArray;f.exports=function(b,O,C,k,w){w||(w={});var T=w.isMinor,R=T?b.minor||{}:b,M=T?O.minor:O,I=T?"minor.":"";function V(W){var X=R[W];return X!==void 0?X:(M._template||{})[W]}var N=V("tick0"),Q=V("dtick"),z=V("tickvals"),U=v(z)?"array":Q?"linear":"auto",F=C(I+"tickmode",U);if(F==="auto"||F==="sync")C(I+"nticks");else if(F==="linear"){var B=M.dtick=g.dtick(Q,k);M.tick0=g.tick0(N,k,O.calendar,B)}else if(k!=="multicategory"){var E=C(I+"tickvals");E===void 0?M.tickmode="auto":T||C("ticktext")}}},6847:function(f,h,c){var g=c(9898),v=c(3972),y=c(1828),b=c(1424),O=c(9298);f.exports=function(k,w,T,R){var M=k._fullLayout;if(w.length===0){O.redrawComponents(k);return}function I(X){var ie=X.xaxis,L=X.yaxis;M._defs.select("#"+X.clipId+"> rect").call(b.setTranslate,0,0).call(b.setScale,1,1),X.plot.call(b.setTranslate,ie._offset,L._offset).call(b.setScale,1,1);var me=X.plot.selectAll(".scatterlayer .trace");me.selectAll(".point").call(b.setPointGroupScale,1,1),me.selectAll(".textpoint").call(b.setTextPointsScale,1,1),me.call(b.hideOutsideRangePoints,X)}function V(X,ie){var L=X.plotinfo,me=L.xaxis,ae=L.yaxis,q=me._length,de=ae._length,ee=!!X.xr1,xe=!!X.yr1,we=[];if(ee){var Be=y.simpleMap(X.xr0,me.r2l),pe=y.simpleMap(X.xr1,me.r2l),ne=Be[1]-Be[0],le=pe[1]-pe[0];we[0]=(Be[0]*(1-ie)+ie*pe[0]-Be[0])/(Be[1]-Be[0])*q,we[2]=q*(1-ie+ie*le/ne),me.range[0]=me.l2r(Be[0]*(1-ie)+ie*pe[0]),me.range[1]=me.l2r(Be[1]*(1-ie)+ie*pe[1])}else we[0]=0,we[2]=q;if(xe){var Y=y.simpleMap(X.yr0,ae.r2l),ve=y.simpleMap(X.yr1,ae.r2l),Oe=Y[1]-Y[0],Le=ve[1]-ve[0];we[1]=(Y[1]*(1-ie)+ie*ve[1]-Y[1])/(Y[0]-Y[1])*de,we[3]=de*(1-ie+ie*Le/Oe),ae.range[0]=me.l2r(Y[0]*(1-ie)+ie*ve[0]),ae.range[1]=ae.l2r(Y[1]*(1-ie)+ie*ve[1])}else we[1]=0,we[3]=de;O.drawOne(k,me,{skipTitle:!0}),O.drawOne(k,ae,{skipTitle:!0}),O.redrawComponents(k,[me._id,ae._id]);var Ce=ee?q/we[2]:1,De=xe?de/we[3]:1,Ve=ee?we[0]:0,_e=xe?we[1]:0,Ie=ee?we[0]/we[2]*q:0,re=xe?we[1]/we[3]*de:0,be=me._offset-Ie,te=ae._offset-re;L.clipRect.call(b.setTranslate,Ve,_e).call(b.setScale,1/Ce,1/De),L.plot.call(b.setTranslate,be,te).call(b.setScale,Ce,De),b.setPointGroupScale(L.zoomScalePts,1/Ce,1/De),b.setTextPointsScale(L.zoomScaleTxt,1/Ce,1/De)}var N;R&&(N=R());function Q(){for(var X={},ie=0;ie<w.length;ie++){var L=w[ie],me=L.plotinfo.xaxis,ae=L.plotinfo.yaxis;L.xr1&&(X[me._name+".range"]=L.xr1.slice()),L.yr1&&(X[ae._name+".range"]=L.yr1.slice())}return N&&N(),v.call("relayout",k,X).then(function(){for(var q=0;q<w.length;q++)I(w[q].plotinfo)})}function z(){for(var X={},ie=0;ie<w.length;ie++){var L=w[ie],me=L.plotinfo.xaxis,ae=L.plotinfo.yaxis;L.xr0&&(X[me._name+".range"]=L.xr0.slice()),L.yr0&&(X[ae._name+".range"]=L.yr0.slice())}return v.call("relayout",k,X).then(function(){for(var q=0;q<w.length;q++)I(w[q].plotinfo)})}var U,F,B,E=g.ease(T.easing);k._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(B),B=null,z()});function W(){F=Date.now();for(var X=Math.min(1,(F-U)/T.duration),ie=E(X),L=0;L<w.length;L++)V(w[L],ie);F-U>T.duration?(Q(),B=window.cancelAnimationFrame(W)):B=window.requestAnimationFrame(W)}return U=Date.now(),B=window.requestAnimationFrame(W),Promise.resolve()}},951:function(f,h,c){var g=c(3972).traceIs,v=c(4322);f.exports=function(w,T,R,M){R("autotypenumbers",M.autotypenumbersDflt);var I=R("type",(M.splomStash||{}).type);I==="-"&&(y(T,M.data),T.type==="-"?T.type="linear":w.type=T.type)};function y(k,w){if(k.type==="-"){var T=k._id,R=T.charAt(0),M;T.indexOf("scene")!==-1&&(T=R);var I=b(w,T,R);if(I){if(I.type==="histogram"&&R==={v:"y",h:"x"}[I.orientation||"v"]){k.type="linear";return}var V=R+"calendar",N=I[V],Q={noMultiCategory:!g(I,"cartesian")||g(I,"noMultiCategory")};if(I.type==="box"&&I._hasPreCompStats&&R==={h:"x",v:"y"}[I.orientation||"v"]&&(Q.noMultiCategory=!0),Q.autotypenumbers=k.autotypenumbers,C(I,R)){var z=O(I),U=[];for(M=0;M<w.length;M++){var F=w[M];!g(F,"box-violin")||(F[R+"axis"]||R)!==T||(F[z]!==void 0?U.push(F[z][0]):F.name!==void 0?U.push(F.name):U.push("text"),F[V]!==N&&(N=void 0))}k.type=v(U,N,Q)}else if(I.type==="splom"){var B=I.dimensions,E=B[I._axesDim[T]];E.visible&&(k.type=v(E.values,N,Q))}else k.type=v(I[R]||[I[R+"0"]],N,Q)}}}function b(k,w,T){for(var R=0;R<k.length;R++){var M=k[R];if(M.type==="splom"&&M._length>0&&(M["_"+T+"axes"]||{})[w])return M;if((M[T+"axis"]||T)===w){if(C(M,T))return M;if((M[T]||[]).length||M[T+"0"])return M}}}function O(k){return{v:"x",h:"y"}[k.orientation||"v"]}function C(k,w){var T=O(k),R=g(k,"box-violin"),M=g(k._fullInput||{},"candlestick");return R&&!M&&w===T&&k[T]===void 0&&k[T+"0"]===void 0}},1137:function(f,h,c){var g=c(3972),v=c(1828);h.manageCommandObserver=function(w,T,R,M){var I={},V=!0;T&&T._commandObserver&&(I=T._commandObserver),I.cache||(I.cache={}),I.lookupTable={};var N=h.hasSimpleAPICommandBindings(w,R,I.lookupTable);if(T&&T._commandObserver){if(N)return I;if(T._commandObserver.remove)return T._commandObserver.remove(),T._commandObserver=null,I}if(N){y(w,N,I.cache),I.check=function(){if(V){var F=y(w,N,I.cache);return F.changed&&M&&I.lookupTable[F.value]!==void 0&&(I.disable(),Promise.resolve(M({value:F.value,type:N.type,prop:N.prop,traces:N.traces,index:I.lookupTable[F.value]})).then(I.enable,I.enable)),F.changed}};for(var Q=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],z=0;z<Q.length;z++)w._internalOn(Q[z],I.check);I.remove=function(){for(var U=0;U<Q.length;U++)w._removeInternalListener(Q[U],I.check)}}else v.log("Unable to automatically bind plot updates to API command"),I.lookupTable={},I.remove=function(){};return I.disable=function(){V=!1},I.enable=function(){V=!0},T&&(T._commandObserver=I),I},h.hasSimpleAPICommandBindings=function(w,T,R){var M,I=T.length,V;for(M=0;M<I;M++){var N,Q=T[M],z=Q.method,U=Q.args;if(Array.isArray(U)||(U=[]),!z)return!1;var F=h.computeAPICommandBindings(w,z,U);if(F.length!==1)return!1;if(!V)V=F[0],Array.isArray(V.traces)&&V.traces.sort();else{if(N=F[0],N.type!==V.type||N.prop!==V.prop)return!1;if(Array.isArray(V.traces))if(Array.isArray(N.traces)){N.traces.sort();for(var B=0;B<V.traces.length;B++)if(V.traces[B]!==N.traces[B])return!1}else return!1;else if(N.prop!==V.prop)return!1}N=F[0];var E=N.value;if(Array.isArray(E))if(E.length===1)E=E[0];else return!1;R&&(R[E]=M)}return V};function y(w,T,R){var M,I,V,N=!1;if(T.type==="data")M=w._fullData[T.traces!==null?T.traces[0]:0];else if(T.type==="layout")M=w._fullLayout;else return!1;return I=v.nestedProperty(M,T.prop).get(),V=R[T.type]=R[T.type]||{},V.hasOwnProperty(T.prop)&&V[T.prop]!==I&&(N=!0),V[T.prop]=I,{changed:N,value:I}}h.executeAPICommand=function(w,T,R){if(T==="skip")return Promise.resolve();var M=g.apiMethodRegistry[T],I=[w];Array.isArray(R)||(R=[]);for(var V=0;V<R.length;V++)I.push(R[V]);return M.apply(null,I).catch(function(N){return v.warn("API call to Plotly."+T+" rejected.",N),Promise.reject(N)})},h.computeAPICommandBindings=function(w,T,R){var M;switch(Array.isArray(R)||(R=[]),T){case"restyle":M=C(w,R);break;case"relayout":M=O(w,R);break;case"update":M=C(w,[R[0],R[2]]).concat(O(w,[R[1]]));break;case"animate":M=b(w,R);break;default:M=[]}return M};function b(w,T){return Array.isArray(T[0])&&T[0].length===1&&["string","number"].indexOf(typeof T[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:T[0][0].toString()}]:[]}function O(w,T){var R=[],M=T[0],I={};if(typeof M=="string")I[M]=T[1];else if(v.isPlainObject(M))I=M;else return R;return k(I,function(V,N,Q){R.push({type:"layout",prop:V,value:Q})},"",0),R}function C(w,T){var R,M,I,V,N=[];if(M=T[0],I=T[1],R=T[2],V={},typeof M=="string")V[M]=I;else if(v.isPlainObject(M))V=M,R===void 0&&(R=I);else return N;return R===void 0&&(R=null),k(V,function(Q,z,U){var F,B;if(Array.isArray(U)){B=U.slice();var E=Math.min(B.length,w.data.length);R&&(E=Math.min(E,R.length)),F=[];for(var W=0;W<E;W++)F[W]=R?R[W]:W}else B=U,F=R?R.slice():null;if(F===null)Array.isArray(B)&&(B=B[0]);else if(Array.isArray(F)){if(!Array.isArray(B)){var X=B;B=[];for(var ie=0;ie<F.length;ie++)B[ie]=X}B.length=Math.min(F.length,B.length)}N.push({type:"data",prop:Q,traces:F,value:B})},"",0),N}function k(w,T,R,M){Object.keys(w).forEach(function(I){var V=w[I];if(I[0]!=="_"){var N=R+(M>0?".":"")+I;v.isPlainObject(V)?k(V,T,N,M+1):T(N,I,V)}})}},7670:function(f,h,c){var g=c(1426).extendFlat;h.Y=function(v,y){v=v||{},y=y||{};var b={valType:"info_array",editType:v.editType,items:[{valType:"number",min:0,max:1,editType:v.editType},{valType:"number",min:0,max:1,editType:v.editType}],dflt:[0,1]};v.name&&v.name+"",v.trace,y.description&&""+y.description;var O={x:g({},b,{}),y:g({},b,{}),editType:v.editType};return v.noGridCell||(O.row={valType:"integer",min:0,dflt:0,editType:v.editType},O.column={valType:"integer",min:0,dflt:0,editType:v.editType}),O},h.c=function(v,y,b,O){var C=O&&O.x||[0,1],k=O&&O.y||[0,1],w=y.grid;if(w){var T=b("domain.column");T!==void 0&&(T<w.columns?C=w._domains.x[T]:delete v.domain.column);var R=b("domain.row");R!==void 0&&(R<w.rows?k=w._domains.y[R]:delete v.domain.row)}var M=b("domain.x",C),I=b("domain.y",k);M[0]<M[1]||(v.domain.x=C.slice()),I[0]<I[1]||(v.domain.y=k.slice())}},1940:function(f){f.exports=function(h){var c=h.editType,g=h.colorEditType;g===void 0&&(g=c);var v={family:{valType:"string",noBlank:!0,strict:!0,editType:c},size:{valType:"number",min:1,editType:c},color:{valType:"color",editType:g},editType:c};return h.autoSize&&(v.size.dflt="auto"),h.autoColor&&(v.color.dflt="auto"),h.arrayOk&&(v.family.arrayOk=!0,v.size.arrayOk=!0,v.color.arrayOk=!0),v}},1391:function(f){f.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(f,h,c){var g=c(3972);c(5555).SUBPLOT_PATTERN,h.a0=function(v,y){var b=[],O=[],C;if(typeof y=="string"?C=g.getModule(y).plot:typeof y=="function"?C=y:C=y.plot,!C)return[b,v];for(var k=0;k<v.length;k++){var w=v[k],T=w[0].trace;T.visible!==!0||T._length===0||(T._module&&T._module.plot===C?b.push(w):O.push(w))}return[b,O]}},3538:function(f){function h(g,v){var y=[0,0,0,0],b,O;for(b=0;b<4;++b)for(O=0;O<4;++O)y[O]+=g[4*b+O]*v[b];return y}function c(g,v){var y=h(g.projection,h(g.view,h(g.model,[v[0],v[1],v[2],1])));return y}f.exports=c},820:function(f,h,c){var g=c(1940),v=c(5594),y=c(2399),b=c(9241),O=c(3777),C=c(5025),k=c(1426).extendFlat,w=g({editType:"calc"});w.family.dflt='"Open Sans", verdana, arial, sans-serif',w.size.dflt=12,w.color.dflt=y.defaultLine,f.exports={font:w,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:k(C({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:y.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:y.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:y.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:b.newshape,activeshape:b.activeshape,newselection:O.newselection,activeselection:O.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:k({},v.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},5025:function(f){f.exports=function(h){var c=h.editType;return{t:{valType:"number",dflt:0,editType:c},r:{valType:"number",dflt:0,editType:c},b:{valType:"number",dflt:0,editType:c},l:{valType:"number",dflt:0,editType:c},editType:c}}},4875:function(f,h,c){var g=c(9898),v=c(4096).Dq,y=c(721).FF,b=c(2770),O=c(3972),C=c(6281),k=c(4467),w=c(1828),T=c(7901),R=c(606).BADNUM,M=c(1675),I=c(1873).clearOutline,V=c(1479),N=c(5594),Q=c(1391),z=c(7659).a0,U=w.relinkPrivateKeys,F=w._,B=f.exports={};w.extendFlat(B,O),B.attributes=c(9012),B.attributes.type.values=B.allTypes,B.fontAttrs=c(1940),B.layoutAttributes=c(820),B.fontWeight="normal";var E=B.transformsRegistry,W=c(1137);B.executeAPICommand=W.executeAPICommand,B.computeAPICommandBindings=W.computeAPICommandBindings,B.manageCommandObserver=W.manageCommandObserver,B.hasSimpleAPICommandBindings=W.hasSimpleAPICommandBindings,B.redrawText=function(re){return re=w.getGraphDiv(re),new Promise(function(be){setTimeout(function(){re._fullLayout&&(O.getComponentMethod("annotations","draw")(re),O.getComponentMethod("legend","draw")(re),O.getComponentMethod("colorbar","draw")(re),be(B.previousPromises(re)))},300)})},B.resize=function(re){re=w.getGraphDiv(re);var be,te=new Promise(function(se,fe){(!re||w.isHidden(re))&&fe(new Error("Resize must be passed a displayed plot div element.")),re._redrawTimer&&clearTimeout(re._redrawTimer),re._resolveResize&&(be=re._resolveResize),re._resolveResize=se,re._redrawTimer=setTimeout(function(){if(!re.layout||re.layout.width&&re.layout.height||w.isHidden(re)){se(re);return}delete re.layout.width,delete re.layout.height;var oe=re.changed;re.autoplay=!0,O.call("relayout",re,{autosize:!0}).then(function(){re.changed=oe,re._resolveResize===se&&(delete re._resolveResize,se(re))})},100)});return be&&be(te),te},B.previousPromises=function(re){if((re._promises||[]).length)return Promise.all(re._promises).then(function(){re._promises=[]})},B.addLinks=function(re){if(!(!re._context.showLink&&!re._context.showSources)){var be=re._fullLayout,te=w.ensureSingle(be._paper,"text","js-plot-link-container",function(ke){ke.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:T.defaultLine,"pointer-events":"all"}).each(function(){var Qe=g.select(this);Qe.append("tspan").classed("js-link-to-tool",!0),Qe.append("tspan").classed("js-link-spacer",!0),Qe.append("tspan").classed("js-sourcelinks",!0)})}),se=te.node(),fe={y:be._paper.attr("height")-9};document.body.contains(se)&&se.getComputedTextLength()>=be.width-20?(fe["text-anchor"]="start",fe.x=5):(fe["text-anchor"]="end",fe.x=be._paper.attr("width")-7),te.attr(fe);var oe=te.select(".js-link-to-tool"),Se=te.select(".js-link-spacer"),ce=te.select(".js-sourcelinks");re._context.showSources&&re._context.showSources(re),re._context.showLink&&X(re,oe),Se.text(oe.text()&&ce.text()?" - ":"")}};function X(re,be){be.text("");var te=be.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(re._context.linkText+" "+String.fromCharCode(187));if(re._context.sendData)te.on("click",function(){B.sendDataToCloud(re)});else{var se=window.location.pathname.split("/"),fe=window.location.search;te.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+fe})}}B.sendDataToCloud=function(re){var be=(window.PLOTLYENV||{}).BASE_URL||re._context.plotlyServerURL;if(be){re.emit("plotly_beforeexport");var te=g.select(re).append("div").attr("id","hiddenform").style("display","none"),se=te.append("form").attr({action:be+"/external",method:"post",target:"_blank"}),fe=se.append("input").attr({type:"text",name:"data"});return fe.node().value=B.graphJson(re,!1,"keepdata"),se.node().submit(),te.remove(),re.emit("plotly_afterexport"),!1}};var ie=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];B.supplyDefaults=function(re,be){var te=be&&be.skipUpdateCalc,se=re._fullLayout||{};if(se._skipDefaults){delete se._skipDefaults;return}var fe=re._fullLayout={},oe=re.layout||{},Se=re._fullData||[],ce=re._fullData=[],ke=re.data||[],Qe=re.calcdata||[],Ze=re._context||{},Xe;re._transitionData||B.createTransitionData(re),fe._dfltTitle={plot:F(re,"Click to enter Plot title"),x:F(re,"Click to enter X axis title"),y:F(re,"Click to enter Y axis title"),colorbar:F(re,"Click to enter Colorscale title"),annotation:F(re,"new text")},fe._traceWord=F(re,"trace");var ct=q(re,ie);if(fe._mapboxAccessToken=Ze.mapboxAccessToken,se._initialAutoSizeIsDone){var pt=se.width,Ye=se.height;B.supplyLayoutGlobalDefaults(oe,fe,ct),oe.width||(fe.width=pt),oe.height||(fe.height=Ye),B.sanitizeMargins(fe)}else{B.supplyLayoutGlobalDefaults(oe,fe,ct);var je=!oe.width||!oe.height,et=fe.autosize,yt=Ze.autosizable,ft=je&&(et||yt);ft?B.plotAutoSize(re,oe,fe):je&&B.sanitizeMargins(fe),!et&&je&&(oe.width=fe.width,oe.height=fe.height)}fe._d3locale=de(ct,fe.separators),fe._extraFormat=q(re,L),fe._initialAutoSizeIsDone=!0,fe._dataLength=ke.length,fe._modules=[],fe._visibleModules=[],fe._basePlotModules=[];var tt=fe._subplots=ae(),wt=fe._splomAxes={x:{},y:{}},Xt=fe._splomSubplots={};fe._splomGridDflt={},fe._scatterStackOpts={},fe._firstScatter={},fe._alignmentOpts={},fe._colorAxes={},fe._requestRangeslider={},fe._traceUids=me(Se,ke),fe._globalTransforms=(re._context||{}).globalTransforms,B.supplyDataDefaults(ke,ce,oe,fe);var Gt=Object.keys(wt.x),Nt=Object.keys(wt.y);if(Gt.length>1&&Nt.length>1){for(O.getComponentMethod("grid","sizeDefaults")(oe,fe),Xe=0;Xe<Gt.length;Xe++)w.pushUnique(tt.xaxis,Gt[Xe]);for(Xe=0;Xe<Nt.length;Xe++)w.pushUnique(tt.yaxis,Nt[Xe]);for(var Bt in Xt)w.pushUnique(tt.cartesian,Bt)}if(fe._has=B._hasPlotType.bind(fe),Se.length===ce.length)for(Xe=0;Xe<ce.length;Xe++)U(ce[Xe],Se[Xe]);B.supplyLayoutModuleDefaults(oe,fe,ce,re._transitionData);var vn=fe._visibleModules,En=[];for(Xe=0;Xe<vn.length;Xe++){var ln=vn[Xe].crossTraceDefaults;ln&&w.pushUnique(En,ln)}for(Xe=0;Xe<En.length;Xe++)En[Xe](ce,fe);fe._hasOnlyLargeSploms=fe._basePlotModules.length===1&&fe._basePlotModules[0].name==="splom"&&Gt.length>15&&Nt.length>15&&fe.shapes.length===0&&fe.images.length===0,B.linkSubplots(ce,fe,Se,se),B.cleanPlot(ce,fe,Se,se);var Yn=!!(se._has&&se._has("gl2d")),an=!!(fe._has&&fe._has("gl2d")),wn=!!(se._has&&se._has("cartesian")),Xn=!!(fe._has&&fe._has("cartesian")),Un=wn||Yn,Sn=Xn||an;Un&&!Sn?se._bgLayer.remove():Sn&&!Un&&(fe._shouldCreateBgLayer=!0),se._zoomlayer&&!re._dragging&&I({_fullLayout:se}),ee(ce,fe),U(fe,se),O.getComponentMethod("colorscale","crossTraceDefaults")(ce,fe),fe._preGUI||(fe._preGUI={}),fe._tracePreGUI||(fe._tracePreGUI={});var lt=fe._tracePreGUI,ut={},xt;for(xt in lt)ut[xt]="old";for(Xe=0;Xe<ce.length;Xe++)xt=ce[Xe]._fullInput.uid,ut[xt]||(lt[xt]={}),ut[xt]="new";for(xt in ut)ut[xt]==="old"&&delete lt[xt];ne(fe),O.getComponentMethod("rangeslider","makeData")(fe),!te&&Qe.length===ce.length&&B.supplyDefaultsUpdateCalc(Qe,ce)},B.supplyDefaultsUpdateCalc=function(re,be){for(var te=0;te<be.length;te++){var se=be[te],fe=(re[te]||[])[0];if(fe&&fe.trace){var oe=fe.trace;if(oe._hasCalcTransform){var Se=oe._arrayAttrs,ce,ke,Qe;for(ce=0;ce<Se.length;ce++)ke=Se[ce],Qe=w.nestedProperty(oe,ke).get().slice(),w.nestedProperty(se,ke).set(Qe)}fe.trace=se}}};function me(re,be){var te=be.length,se=[],fe,oe;for(fe=0;fe<re.length;fe++){var Se=re[fe]._fullInput;Se!==oe&&se.push(Se),oe=Se}var ce=se.length,ke=new Array(te),Qe={};function Ze(pt,Ye){ke[Ye]=pt,Qe[pt]=1}function Xe(pt,Ye){if(pt&&typeof pt=="string"&&!Qe[pt])return Ze(pt,Ye),!0}for(fe=0;fe<te;fe++){var ct=be[fe].uid;typeof ct=="number"&&(ct=String(ct)),!Xe(ct,fe)&&(fe<ce&&Xe(se[fe].uid,fe)||Ze(w.randstr(Qe),fe))}return ke}function ae(){var re=O.collectableSubplotTypes,be={},te,se;if(!re){re=[];var fe=O.subplotsRegistry;for(var oe in fe){var Se=fe[oe],ce=Se.attr;if(ce&&(re.push(oe),Array.isArray(ce)))for(se=0;se<ce.length;se++)w.pushUnique(re,ce[se])}}for(te=0;te<re.length;te++)be[re[te]]=[];return be}function q(re,be){var te=re._context.locale;te||(te="en-US");var se=!1,fe={};function oe(Xe){for(var ct=!0,pt=0;pt<be.length;pt++){var Ye=be[pt];fe[Ye]||(Xe[Ye]?fe[Ye]=Xe[Ye]:ct=!1)}ct&&(se=!0)}for(var Se=0;Se<2;Se++){for(var ce=re._context.locales,ke=0;ke<2;ke++){var Qe=(ce[te]||{}).format;if(Qe&&(oe(Qe),se))break;ce=O.localeRegistry}var Ze=te.split("-")[0];if(se||Ze===te)break;te=Ze}return se||oe(O.localeRegistry.en.format),fe}function de(re,be){return re.decimal=be.charAt(0),re.thousands=be.charAt(1),{numberFormat:function(te){try{te=y(re).format(w.adjustFormat(te))}catch{return w.warnBadFormat(te),w.noFormat}return te},timeFormat:v(re).utcFormat}}function ee(re,be){var te,se=[];be.meta&&(te=be._meta={meta:be.meta,layout:{meta:be.meta}});for(var fe=0;fe<re.length;fe++){var oe=re[fe];oe.meta?se[oe.index]=oe._meta={meta:oe.meta}:be.meta&&(oe._meta={meta:be.meta}),be.meta&&(oe._meta.layout={meta:be.meta})}se.length&&(te||(te=be._meta={}),te.data=se)}B.createTransitionData=function(re){re._transitionData||(re._transitionData={}),re._transitionData._frames||(re._transitionData._frames=[]),re._transitionData._frameHash||(re._transitionData._frameHash={}),re._transitionData._counter||(re._transitionData._counter=0),re._transitionData._interruptCallbacks||(re._transitionData._interruptCallbacks=[])},B._hasPlotType=function(re){var be,te=this._basePlotModules||[];for(be=0;be<te.length;be++)if(te[be].name===re)return!0;var se=this._modules||[];for(be=0;be<se.length;be++){var fe=se[be].name;if(fe===re)return!0;var oe=O.modules[fe];if(oe&&oe.categories[re])return!0}return!1},B.cleanPlot=function(re,be,te,se){var fe,oe,Se=se._basePlotModules||[];for(fe=0;fe<Se.length;fe++){var ce=Se[fe];ce.clean&&ce.clean(re,be,te,se)}var ke=se._has&&se._has("gl"),Qe=be._has&&be._has("gl");ke&&!Qe&&se._glcontainer!==void 0&&(se._glcontainer.selectAll(".gl-canvas").remove(),se._glcontainer.selectAll(".no-webgl").remove(),se._glcanvas=null);var Ze=!!se._infolayer;e:for(fe=0;fe<te.length;fe++){var Xe=te[fe],ct=Xe.uid;for(oe=0;oe<re.length;oe++){var pt=re[oe];if(ct===pt.uid)continue e}Ze&&se._infolayer.select(".cb"+ct).remove()}},B.linkSubplots=function(re,be,te,se){var fe,oe,Se=se._plots||{},ce=be._plots={},ke=be._subplots,Qe={_fullData:re,_fullLayout:be},Ze=ke.cartesian.concat(ke.gl2d||[]);for(fe=0;fe<Ze.length;fe++){var Xe=Ze[fe],ct=Se[Xe],pt=M.getFromId(Qe,Xe,"x"),Ye=M.getFromId(Qe,Xe,"y"),je;for(ct?je=ce[Xe]=ct:(je=ce[Xe]={},je.id=Xe),pt._counterAxes.push(Ye._id),Ye._counterAxes.push(pt._id),pt._subplotsWith.push(Xe),Ye._subplotsWith.push(Xe),je.xaxis=pt,je.yaxis=Ye,je._hasClipOnAxisFalse=!1,oe=0;oe<re.length;oe++){var et=re[oe];if(et.xaxis===je.xaxis._id&&et.yaxis===je.yaxis._id&&et.cliponaxis===!1){je._hasClipOnAxisFalse=!0;break}}}var yt=M.list(Qe,null,!0),ft;for(fe=0;fe<yt.length;fe++){ft=yt[fe];var tt=null;ft.overlaying&&(tt=M.getFromId(Qe,ft.overlaying),tt&&tt.overlaying&&(ft.overlaying=!1,tt=null)),ft._mainAxis=tt||ft,tt&&(ft.domain=tt.domain.slice()),ft._anchorAxis=ft.anchor==="free"?null:M.getFromId(Qe,ft.anchor)}for(fe=0;fe<yt.length;fe++)if(ft=yt[fe],ft._counterAxes.sort(M.idSort),ft._subplotsWith.sort(w.subplotSort),ft._mainSubplot=xe(ft,be),ft._counterAxes.length&&(ft.spikemode&&ft.spikemode.indexOf("across")!==-1||ft.automargin&&ft.mirror&&ft.anchor!=="free"||O.getComponentMethod("rangeslider","isVisible")(ft))){var wt=1,Xt=0;for(oe=0;oe<ft._counterAxes.length;oe++){var Gt=M.getFromId(Qe,ft._counterAxes[oe]);wt=Math.min(wt,Gt.domain[0]),Xt=Math.max(Xt,Gt.domain[1])}wt<Xt&&(ft._counterDomainMin=wt,ft._counterDomainMax=Xt)}};function xe(re,be){var te={_fullLayout:be},se=re._id.charAt(0)==="x",fe=re._mainAxis._anchorAxis,oe="",Se="",ce="";if(fe&&(ce=fe._mainAxis._id,oe=se?re._id+ce:ce+re._id),!oe||!be._plots[oe]){oe="";for(var ke=re._counterAxes,Qe=0;Qe<ke.length;Qe++){var Ze=ke[Qe],Xe=se?re._id+Ze:Ze+re._id;Se||(Se=Xe);var ct=M.getFromId(te,Ze);if(ce&&ct.overlaying===ce){oe=Xe;break}}}return oe||Se}B.clearExpandedTraceDefaultColors=function(re){var be,te,se;function fe(Se,ce,ke,Qe){te[Qe]=ce,te.length=Qe+1,Se.valType==="color"&&Se.dflt===void 0&&be.push(te.join("."))}for(te=[],be=re._module._colorAttrs,be||(re._module._colorAttrs=be=[],C.crawl(re._module.attributes,fe)),se=0;se<be.length;se++){var oe=w.nestedProperty(re,"_input."+be[se]);oe.get()||w.nestedProperty(re,be[se]).set(null)}},B.supplyDataDefaults=function(re,be,te,se){var fe=se._modules,oe=se._visibleModules,Se=se._basePlotModules,ce=0,ke=0,Qe,Ze,Xe;se._transformModules=[];function ct(Nt){be.push(Nt);var Bt=Nt._module;Bt&&(w.pushUnique(fe,Bt),Nt.visible===!0&&w.pushUnique(oe,Bt),w.pushUnique(Se,Nt._module.basePlotModule),ce++,Nt._input.visible!==!1&&ke++)}var pt={},Ye=[],je=(te.template||{}).data||{},et=k.traceTemplater(je);for(Qe=0;Qe<re.length;Qe++){if(Xe=re[Qe],Ze=et.newTrace(Xe),Ze.uid=se._traceUids[Qe],B.supplyTraceDefaults(Xe,Ze,ke,se,Qe),Ze.index=Qe,Ze._input=Xe,Ze._expandedIndex=ce,Ze.transforms&&Ze.transforms.length)for(var yt=Xe.visible!==!1&&Ze.visible===!1,ft=Be(Ze,be,te,se),tt=0;tt<ft.length;tt++){var wt=ft[tt],Xt={_template:Ze._template,type:Ze.type,uid:Ze.uid+tt};yt&&wt.visible===!1&&delete wt.visible,B.supplyTraceDefaults(wt,Xt,ce,se,Qe),U(Xt,wt),Xt.index=Qe,Xt._input=Xe,Xt._fullInput=Ze,Xt._expandedIndex=ce,Xt._expandedInput=wt,ct(Xt)}else Ze._fullInput=Ze,Ze._expandedInput=Ze,ct(Ze);O.traceIs(Ze,"carpetAxis")&&(pt[Ze.carpet]=Ze),O.traceIs(Ze,"carpetDependent")&&Ye.push(Qe)}for(Qe=0;Qe<Ye.length;Qe++)if(Ze=be[Ye[Qe]],!!Ze.visible){var Gt=pt[Ze.carpet];if(Ze._carpet=Gt,!Gt||!Gt.visible){Ze.visible=!1;continue}Ze.xaxis=Gt.xaxis,Ze.yaxis=Gt.yaxis}},B.supplyAnimationDefaults=function(re){re=re||{};var be,te={};function se(fe,oe){return w.coerce(re||{},te,N,fe,oe)}if(se("mode"),se("direction"),se("fromcurrent"),Array.isArray(re.frame))for(te.frame=[],be=0;be<re.frame.length;be++)te.frame[be]=B.supplyAnimationFrameDefaults(re.frame[be]||{});else te.frame=B.supplyAnimationFrameDefaults(re.frame||{});if(Array.isArray(re.transition))for(te.transition=[],be=0;be<re.transition.length;be++)te.transition[be]=B.supplyAnimationTransitionDefaults(re.transition[be]||{});else te.transition=B.supplyAnimationTransitionDefaults(re.transition||{});return te},B.supplyAnimationFrameDefaults=function(re){var be={};function te(se,fe){return w.coerce(re||{},be,N.frame,se,fe)}return te("duration"),te("redraw"),be},B.supplyAnimationTransitionDefaults=function(re){var be={};function te(se,fe){return w.coerce(re||{},be,N.transition,se,fe)}return te("duration"),te("easing"),be},B.supplyFrameDefaults=function(re){var be={};function te(se,fe){return w.coerce(re,be,Q,se,fe)}return te("group"),te("name"),te("traces"),te("baseframe"),te("data"),te("layout"),be},B.supplyTraceDefaults=function(re,be,te,se,fe){var oe=se.colorway||T.defaults,Se=oe[te%oe.length],ce;function ke(ft,tt){return w.coerce(re,be,B.attributes,ft,tt)}var Qe=ke("visible");ke("type"),ke("name",se._traceWord+" "+fe),ke("uirevision",se.uirevision);var Ze=B.getModule(be);if(be._module=Ze,Ze){var Xe=Ze.basePlotModule,ct=Xe.attr,pt=Xe.attributes;if(ct&&pt){var Ye=se._subplots,je="";if(Qe||Xe.name!=="gl2d"){if(Array.isArray(ct))for(ce=0;ce<ct.length;ce++){var et=ct[ce],yt=w.coerce(re,be,pt,et);Ye[et]&&w.pushUnique(Ye[et],yt),je+=yt}else je=w.coerce(re,be,pt,ct);Ye[Xe.name]&&w.pushUnique(Ye[Xe.name],je)}}}return Qe&&(ke("customdata"),ke("ids"),ke("meta"),O.traceIs(be,"showLegend")?(w.coerce(re,be,Ze.attributes.showlegend?Ze.attributes:B.attributes,"showlegend"),ke("legend"),ke("legendwidth"),ke("legendgroup"),ke("legendgrouptitle.text"),ke("legendrank"),be._dfltShowLegend=!0):be._dfltShowLegend=!1,Ze&&Ze.supplyDefaults(re,be,Se,se),O.traceIs(be,"noOpacity")||ke("opacity"),O.traceIs(be,"notLegendIsolatable")&&(be.visible=!!be.visible),O.traceIs(be,"noHover")||(be.hovertemplate||w.coerceHoverinfo(re,be,se),be.type!=="parcats"&&O.getComponentMethod("fx","supplyDefaults")(re,be,Se,se)),Ze&&Ze.selectPoints&&ke("selectedpoints"),B.supplyTransformDefaults(re,be,se)),be};function we(re){var be=re.transforms;if(Array.isArray(be)&&be.length)for(var te=0;te<be.length;te++){var se=be[te],fe=se._module||E[se.type];if(fe&&fe.makesData)return!0}return!1}B.hasMakesDataTransform=we,B.supplyTransformDefaults=function(re,be,te){if(be._length||we(re)){var se=te._globalTransforms||[],fe=te._transformModules||[];if(!(!Array.isArray(re.transforms)&&se.length===0))for(var oe=re.transforms||[],Se=se.concat(oe),ce=be.transforms=[],ke=0;ke<Se.length;ke++){var Qe=Se[ke],Ze=Qe.type,Xe=E[Ze],ct,pt=!(Qe._module&&Qe._module===Xe),Ye=Xe&&typeof Xe.transform=="function";Xe||w.warn("Unrecognized transform type "+Ze+"."),Xe&&Xe.supplyDefaults&&(pt||Ye)?(ct=Xe.supplyDefaults(Qe,be,te,re),ct.type=Ze,ct._module=Xe,w.pushUnique(fe,Xe)):ct=w.extendFlat({},Qe),ce.push(ct)}}};function Be(re,be,te,se){for(var fe=re.transforms,oe=[re],Se=0;Se<fe.length;Se++){var ce=fe[Se],ke=E[ce.type];ke&&ke.transform&&(oe=ke.transform(oe,{transform:ce,fullTrace:re,fullData:be,layout:te,fullLayout:se,transformIndex:Se}))}return oe}B.supplyLayoutGlobalDefaults=function(re,be,te){function se(Xe,ct){return w.coerce(re,be,B.layoutAttributes,Xe,ct)}var fe=re.template;w.isPlainObject(fe)&&(be.template=fe,be._template=fe.layout,be._dataTemplate=fe.data),se("autotypenumbers");var oe=w.coerceFont(se,"font"),Se=oe.size;w.coerceFont(se,"title.font",w.extendFlat({},oe,{size:Math.round(Se*1.4)})),se("title.text",be._dfltTitle.plot),se("title.xref");var ce=se("title.yref");se("title.pad.t"),se("title.pad.r"),se("title.pad.b"),se("title.pad.l");var ke=se("title.automargin");se("title.x"),se("title.xanchor"),se("title.y"),se("title.yanchor"),ke&&(ce==="paper"&&(be.title.y!==0&&(be.title.y=1),be.title.yanchor==="auto"&&(be.title.yanchor=be.title.y===0?"top":"bottom")),ce==="container"&&(be.title.y==="auto"&&(be.title.y=1),be.title.yanchor==="auto"&&(be.title.yanchor=be.title.y<.5?"bottom":"top")));var Qe=se("uniformtext.mode");Qe&&se("uniformtext.minsize"),se("autosize",!(re.width&&re.height)),se("width"),se("height"),se("minreducedwidth"),se("minreducedheight"),se("margin.l"),se("margin.r"),se("margin.t"),se("margin.b"),se("margin.pad"),se("margin.autoexpand"),re.width&&re.height&&B.sanitizeMargins(be),O.getComponentMethod("grid","sizeDefaults")(re,be),se("paper_bgcolor"),se("separators",te.decimal+te.thousands),se("hidesources"),se("colorway"),se("datarevision");var Ze=se("uirevision");se("editrevision",Ze),se("selectionrevision",Ze),O.getComponentMethod("modebar","supplyLayoutDefaults")(re,be),O.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(re,be,se),O.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(re,be,se),se("meta"),w.isPlainObject(re.transition)&&(se("transition.duration"),se("transition.easing"),se("transition.ordering")),O.getComponentMethod("calendars","handleDefaults")(re,be,"calendar"),O.getComponentMethod("fx","supplyLayoutGlobalDefaults")(re,be,se),w.coerce(re,be,V,"scattermode")};function pe(re){return typeof re=="string"&&re.substr(re.length-2)==="px"&&parseFloat(re)}B.plotAutoSize=function(be,te,se){var fe=be._context||{},oe=fe.frameMargins,Se,ce,ke=w.isPlotDiv(be);if(ke&&be.emit("plotly_autosize"),fe.fillFrame)Se=window.innerWidth,ce=window.innerHeight,document.body.style.overflow="hidden";else{var Qe=ke?window.getComputedStyle(be):{};if(Se=pe(Qe.width)||pe(Qe.maxWidth)||se.width,ce=pe(Qe.height)||pe(Qe.maxHeight)||se.height,b(oe)&&oe>0){var Ze=1-2*oe;Se=Math.round(Ze*Se),ce=Math.round(Ze*ce)}}var Xe=B.layoutAttributes.width.min,ct=B.layoutAttributes.height.min;Se<Xe&&(Se=Xe),ce<ct&&(ce=ct);var pt=!te.width&&Math.abs(se.width-Se)>1,Ye=!te.height&&Math.abs(se.height-ce)>1;(Ye||pt)&&(pt&&(se.width=Se),Ye&&(se.height=ce)),be._initialAutoSize||(be._initialAutoSize={width:Se,height:ce}),B.sanitizeMargins(se)},B.supplyLayoutModuleDefaults=function(re,be,te,se){var fe=O.componentsRegistry,oe=be._basePlotModules,Se,ce,ke,Qe=O.subplotsRegistry.cartesian;for(Se in fe)ke=fe[Se],ke.includeBasePlot&&ke.includeBasePlot(re,be);oe.length||oe.push(Qe),be._has("cartesian")&&(O.getComponentMethod("grid","contentDefaults")(re,be),Qe.finalizeSubplots(re,be));for(var Ze in be._subplots)be._subplots[Ze].sort(w.subplotSort);for(ce=0;ce<oe.length;ce++)ke=oe[ce],ke.supplyLayoutDefaults&&ke.supplyLayoutDefaults(re,be,te);var Xe=be._modules;for(ce=0;ce<Xe.length;ce++)ke=Xe[ce],ke.supplyLayoutDefaults&&ke.supplyLayoutDefaults(re,be,te);var ct=be._transformModules;for(ce=0;ce<ct.length;ce++)ke=ct[ce],ke.supplyLayoutDefaults&&ke.supplyLayoutDefaults(re,be,te,se);for(Se in fe)ke=fe[Se],ke.supplyLayoutDefaults&&ke.supplyLayoutDefaults(re,be,te)},B.purge=function(re){var be=re._fullLayout||{};be._glcontainer!==void 0&&(be._glcontainer.selectAll(".gl-canvas").remove(),be._glcontainer.remove(),be._glcanvas=null),be._modeBar&&be._modeBar.destroy(),re._transitionData&&(re._transitionData._interruptCallbacks&&(re._transitionData._interruptCallbacks.length=0),re._transitionData._animationRaf&&window.cancelAnimationFrame(re._transitionData._animationRaf)),w.clearThrottle(),w.clearResponsive(re),delete re.data,delete re.layout,delete re._fullData,delete re._fullLayout,delete re.calcdata,delete re.empty,delete re.fid,delete re.undoqueue,delete re.undonum,delete re.autoplay,delete re.changed,delete re._promises,delete re._redrawTimer,delete re._hmlumcount,delete re._hmpixcount,delete re._transitionData,delete re._transitioning,delete re._initialAutoSize,delete re._transitioningWithDuration,delete re._dragging,delete re._dragged,delete re._dragdata,delete re._hoverdata,delete re._snapshotInProgress,delete re._editing,delete re._mouseDownTime,delete re._legendMouseDownTime,re.removeAllListeners&&re.removeAllListeners()},B.style=function(re){var be=re._fullLayout._visibleModules,te=[],se;for(se=0;se<be.length;se++){var fe=be[se];fe.style&&w.pushUnique(te,fe.style)}for(se=0;se<te.length;se++)te[se](re)},B.sanitizeMargins=function(re){if(!(!re||!re.margin)){var be=re.width,te=re.height,se=re.margin,fe=be-(se.l+se.r),oe=te-(se.t+se.b),Se;fe<0&&(Se=(be-1)/(se.l+se.r),se.l=Math.floor(Se*se.l),se.r=Math.floor(Se*se.r)),oe<0&&(Se=(te-1)/(se.t+se.b),se.t=Math.floor(Se*se.t),se.b=Math.floor(Se*se.b))}},B.clearAutoMarginIds=function(re){re._fullLayout._pushmarginIds={}},B.allowAutoMargin=function(re,be){re._fullLayout._pushmarginIds[be]=1};function ne(re){var be=re.margin;if(!re._size){var te=re._size={l:Math.round(be.l),r:Math.round(be.r),t:Math.round(be.t),b:Math.round(be.b),p:Math.round(be.pad)};te.w=Math.round(re.width)-te.l-te.r,te.h=Math.round(re.height)-te.t-te.b}re._pushmargin||(re._pushmargin={}),re._pushmarginIds||(re._pushmarginIds={}),re._reservedMargin||(re._reservedMargin={})}var le=2,Y=2;B.autoMargin=function(re,be,te){var se=re._fullLayout,fe=se.width,oe=se.height,Se=se.margin,ce=se.minreducedwidth,ke=se.minreducedheight,Qe=w.constrain(fe-Se.l-Se.r,le,ce),Ze=w.constrain(oe-Se.t-Se.b,Y,ke),Xe=Math.max(0,fe-Qe),ct=Math.max(0,oe-Ze),pt=se._pushmargin,Ye=se._pushmarginIds;if(Se.autoexpand!==!1){if(!te)delete pt[be],delete Ye[be];else{var je=te.pad;if(je===void 0&&(je=Math.min(12,Se.l,Se.r,Se.t,Se.b)),Xe){var et=(te.l+te.r)/Xe;et>1&&(te.l/=et,te.r/=et)}if(ct){var yt=(te.t+te.b)/ct;yt>1&&(te.t/=yt,te.b/=yt)}var ft=te.xl!==void 0?te.xl:te.x,tt=te.xr!==void 0?te.xr:te.x,wt=te.yt!==void 0?te.yt:te.y,Xt=te.yb!==void 0?te.yb:te.y;pt[be]={l:{val:ft,size:te.l+je},r:{val:tt,size:te.r+je},b:{val:Xt,size:te.b+je},t:{val:wt,size:te.t+je}},Ye[be]=1}if(!se._replotting)return B.doAutoMargin(re)}};function ve(re){if("_redrawFromAutoMarginCount"in re._fullLayout)return!1;var be=M.list(re,"",!0);for(var te in be)if(be[te].autoshift||be[te].shift)return!0;return!1}B.doAutoMargin=function(re){var be=re._fullLayout,te=be.width,se=be.height;be._size||(be._size={}),ne(be);var fe=be._size,oe=be.margin,Se={t:0,b:0,l:0,r:0},ce=w.extendFlat({},fe),ke=oe.l,Qe=oe.r,Ze=oe.t,Xe=oe.b,ct=be._pushmargin,pt=be._pushmarginIds,Ye=be.minreducedwidth,je=be.minreducedheight;if(oe.autoexpand!==!1){for(var et in ct)pt[et]||delete ct[et];var yt=re._fullLayout._reservedMargin;for(var ft in yt)for(var tt in yt[ft]){var wt=yt[ft][tt];Se[tt]=Math.max(Se[tt],wt)}ct.base={l:{val:0,size:ke},r:{val:1,size:Qe},t:{val:1,size:Ze},b:{val:0,size:Xe}};for(var Xt in Se){var Gt=0;for(var Nt in ct)Nt!=="base"&&b(ct[Nt][Xt].size)&&(Gt=ct[Nt][Xt].size>Gt?ct[Nt][Xt].size:Gt);var Bt=Math.max(0,oe[Xt]-Gt);Se[Xt]=Math.max(0,Se[Xt]-Bt)}for(var vn in ct){var En=ct[vn].l||{},ln=ct[vn].b||{},Yn=En.val,an=En.size,wn=ln.val,Xn=ln.size,Un=te-Se.r-Se.l,Sn=se-Se.t-Se.b;for(var lt in ct){if(b(an)&&ct[lt].r){var ut=ct[lt].r.val,xt=ct[lt].r.size;if(ut>Yn){var gt=(an*ut+(xt-Un)*Yn)/(ut-Yn),Dt=(xt*(1-Yn)+(an-Un)*(1-ut))/(ut-Yn);gt+Dt>ke+Qe&&(ke=gt,Qe=Dt)}}if(b(Xn)&&ct[lt].t){var He=ct[lt].t.val,at=ct[lt].t.size;if(He>wn){var dt=(Xn*He+(at-Sn)*wn)/(He-wn),mt=(at*(1-wn)+(Xn-Sn)*(1-He))/(He-wn);dt+mt>Xe+Ze&&(Xe=dt,Ze=mt)}}}}}var Tt=w.constrain(te-oe.l-oe.r,le,Ye),Pt=w.constrain(se-oe.t-oe.b,Y,je),dn=Math.max(0,te-Tt),rn=Math.max(0,se-Pt);if(dn){var Wt=(ke+Qe)/dn;Wt>1&&(ke/=Wt,Qe/=Wt)}if(rn){var Rt=(Xe+Ze)/rn;Rt>1&&(Xe/=Rt,Ze/=Rt)}if(fe.l=Math.round(ke)+Se.l,fe.r=Math.round(Qe)+Se.r,fe.t=Math.round(Ze)+Se.t,fe.b=Math.round(Xe)+Se.b,fe.p=Math.round(oe.pad),fe.w=Math.round(te)-fe.l-fe.r,fe.h=Math.round(se)-fe.t-fe.b,!be._replotting&&(B.didMarginChange(ce,fe)||ve(re))){"_redrawFromAutoMarginCount"in be?be._redrawFromAutoMarginCount++:be._redrawFromAutoMarginCount=1;var fn=3*(1+Object.keys(pt).length);if(be._redrawFromAutoMarginCount<fn)return O.call("_doPlot",re);be._size=ce,w.warn("Too many auto-margin redraws.")}Oe(re)};function Oe(re){var be=M.list(re,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(te){for(var se=0;se<be.length;se++){var fe=be[se][te];fe&&fe()}})}var Le=["l","r","t","b","p","w","h"];B.didMarginChange=function(re,be){for(var te=0;te<Le.length;te++){var se=Le[te],fe=re[se],oe=be[se];if(!b(fe)||Math.abs(oe-fe)>1)return!0}return!1},B.graphJson=function(re,be,te,se,fe,oe){(fe&&be&&!re._fullData||fe&&!be&&!re._fullLayout)&&B.supplyDefaults(re);var Se=fe?re._fullData:re.data,ce=fe?re._fullLayout:re.layout,ke=(re._transitionData||{})._frames;function Qe(ct,pt){if(typeof ct=="function")return pt?"_function_":null;if(w.isPlainObject(ct)){var Ye={},je;return Object.keys(ct).sort().forEach(function(et){if(["_","["].indexOf(et.charAt(0))===-1){if(typeof ct[et]=="function"){pt&&(Ye[et]="_function");return}if(te==="keepdata"){if(et.substr(et.length-3)==="src")return}else if(te==="keepstream"){if(je=ct[et+"src"],typeof je=="string"&&je.indexOf(":")>0&&!w.isPlainObject(ct.stream))return}else if(te!=="keepall"&&(je=ct[et+"src"],typeof je=="string"&&je.indexOf(":")>0))return;Ye[et]=Qe(ct[et],pt)}}),Ye}return Array.isArray(ct)?ct.map(function(et){return Qe(et,pt)}):w.isTypedArray(ct)?w.simpleMap(ct,w.identity):w.isJSDate(ct)?w.ms2DateTimeLocal(+ct):ct}var Ze={data:(Se||[]).map(function(ct){var pt=Qe(ct);return be&&delete pt.fit,pt})};if(!be&&(Ze.layout=Qe(ce),fe)){var Xe=ce._size;Ze.layout.computed={margin:{b:Xe.b,l:Xe.l,r:Xe.r,t:Xe.t}}}return ke&&(Ze.frames=Qe(ke)),oe&&(Ze.config=Qe(re._context,!0)),se==="object"?Ze:JSON.stringify(Ze)},B.modifyFrames=function(re,be){var te,se,fe,oe=re._transitionData._frames,Se=re._transitionData._frameHash;for(te=0;te<be.length;te++)switch(se=be[te],se.type){case"replace":fe=se.value;var ce=(oe[se.index]||{}).name,ke=fe.name;oe[se.index]=Se[ke]=fe,ke!==ce&&(delete Se[ce],Se[ke]=fe);break;case"insert":fe=se.value,Se[fe.name]=fe,oe.splice(se.index,0,fe);break;case"delete":fe=oe[se.index],delete Se[fe.name],oe.splice(se.index,1);break}return Promise.resolve()},B.computeFrame=function(re,be){var te=re._transitionData._frameHash,se,fe,oe,Se;if(!be)throw new Error("computeFrame must be given a string frame name");var ce=te[be.toString()];if(!ce)return!1;for(var ke=[ce],Qe=[ce.name];ce.baseframe&&(ce=te[ce.baseframe.toString()])&&Qe.indexOf(ce.name)===-1;)ke.push(ce),Qe.push(ce.name);for(var Ze={};ce=ke.pop();)if(ce.layout&&(Ze.layout=B.extendLayout(Ze.layout,ce.layout)),ce.data){if(Ze.data||(Ze.data=[]),fe=ce.traces,!fe)for(fe=[],se=0;se<ce.data.length;se++)fe[se]=se;for(Ze.traces||(Ze.traces=[]),se=0;se<ce.data.length;se++)oe=fe[se],oe!=null&&(Se=Ze.traces.indexOf(oe),Se===-1&&(Se=Ze.data.length,Ze.traces[Se]=oe),Ze.data[Se]=B.extendTrace(Ze.data[Se],ce.data[se]))}return Ze},B.recomputeFrameHash=function(re){for(var be=re._transitionData._frameHash={},te=re._transitionData._frames,se=0;se<te.length;se++){var fe=te[se];fe&&fe.name&&(be[fe.name]=fe)}},B.extendObjectWithContainers=function(re,be,te){var se,fe,oe,Se,ce,ke,Qe,Ze,Xe=w.extendDeepNoArrays({},be||{}),ct=w.expandObjectPaths(Xe),pt={};if(te&&te.length)for(oe=0;oe<te.length;oe++)se=w.nestedProperty(ct,te[oe]),fe=se.get(),fe===void 0?w.nestedProperty(pt,te[oe]).set(null):(se.set(null),w.nestedProperty(pt,te[oe]).set(fe));if(re=w.extendDeepNoArrays(re||{},ct),te&&te.length){for(oe=0;oe<te.length;oe++)if(ce=w.nestedProperty(pt,te[oe]),Qe=ce.get(),!!Qe){for(ke=w.nestedProperty(re,te[oe]),Ze=ke.get(),Array.isArray(Ze)||(Ze=[],ke.set(Ze)),Se=0;Se<Qe.length;Se++){var Ye=Qe[Se];Ye===null?Ze[Se]=null:Ze[Se]=B.extendObjectWithContainers(Ze[Se],Ye)}ke.set(Ze)}}return re},B.dataArrayContainers=["transforms","dimensions"],B.layoutArrayContainers=O.layoutArrayContainers,B.extendTrace=function(re,be){return B.extendObjectWithContainers(re,be,B.dataArrayContainers)},B.extendLayout=function(re,be){return B.extendObjectWithContainers(re,be,B.layoutArrayContainers)},B.transition=function(re,be,te,se,fe,oe){var Se={redraw:fe.redraw},ce={},ke=[];return Se.prepareFn=function(){for(var Qe=Array.isArray(be)?be.length:0,Ze=se.slice(0,Qe),Xe=0;Xe<Ze.length;Xe++){var ct=Ze[Xe],pt=re._fullData[ct],Ye=pt._module;if(Ye){if(Ye.animatable){var je=Ye.basePlotModule.name;ce[je]||(ce[je]=[]),ce[je].push(ct)}re.data[Ze[Xe]]=B.extendTrace(re.data[Ze[Xe]],be[Xe])}}var et=w.expandObjectPaths(w.extendDeepNoArrays({},te)),yt=/^[xy]axis[0-9]*$/;for(var ft in et)yt.test(ft)&&delete et[ft].range;B.extendLayout(re.layout,et),delete re.calcdata,B.supplyDefaults(re),B.doCalcdata(re);var tt=w.expandObjectPaths(te);if(tt){var wt=re._fullLayout._plots;for(var Xt in wt){var Gt=wt[Xt],Nt=Gt.xaxis,Bt=Gt.yaxis,vn=Nt.range.slice(),En=Bt.range.slice(),ln=null,Yn=null,an=null,wn=null;Array.isArray(tt[Nt._name+".range"])?ln=tt[Nt._name+".range"].slice():Array.isArray((tt[Nt._name]||{}).range)&&(ln=tt[Nt._name].range.slice()),Array.isArray(tt[Bt._name+".range"])?Yn=tt[Bt._name+".range"].slice():Array.isArray((tt[Bt._name]||{}).range)&&(Yn=tt[Bt._name].range.slice()),vn&&ln&&(Nt.r2l(vn[0])!==Nt.r2l(ln[0])||Nt.r2l(vn[1])!==Nt.r2l(ln[1]))&&(an={xr0:vn,xr1:ln}),En&&Yn&&(Bt.r2l(En[0])!==Bt.r2l(Yn[0])||Bt.r2l(En[1])!==Bt.r2l(Yn[1]))&&(wn={yr0:En,yr1:Yn}),(an||wn)&&ke.push(w.extendFlat({plotinfo:Gt},an,wn))}}return Promise.resolve()},Se.runFn=function(Qe){var Ze,Xe=re._fullLayout._basePlotModules,ct=ke.length,pt;if(te)for(pt=0;pt<Xe.length;pt++)Xe[pt].transitionAxes&&Xe[pt].transitionAxes(re,ke,oe,Qe);ct?(Ze=w.extendFlat({},oe),Ze.duration=0,delete ce.cartesian):Ze=oe;for(var Ye in ce){var je=ce[Ye],et=re._fullData[je[0]]._module;et.basePlotModule.plot(re,je,Ze,Qe)}},Ce(re,oe,Se)},B.transitionFromReact=function(re,be,te,se){var fe=re._fullLayout,oe=fe.transition,Se={},ce=[];return Se.prepareFn=function(){var ke=fe._plots;Se.redraw=!1,be.anim==="some"&&(Se.redraw=!0),te.anim==="some"&&(Se.redraw=!0);for(var Qe in ke){var Ze=ke[Qe],Xe=Ze.xaxis,ct=Ze.yaxis,pt=se[Xe._name].range.slice(),Ye=se[ct._name].range.slice(),je=Xe.range.slice(),et=ct.range.slice();Xe.setScale(),ct.setScale();var yt=null,ft=null;(Xe.r2l(pt[0])!==Xe.r2l(je[0])||Xe.r2l(pt[1])!==Xe.r2l(je[1]))&&(yt={xr0:pt,xr1:je}),(ct.r2l(Ye[0])!==ct.r2l(et[0])||ct.r2l(Ye[1])!==ct.r2l(et[1]))&&(ft={yr0:Ye,yr1:et}),(yt||ft)&&ce.push(w.extendFlat({plotinfo:Ze},yt,ft))}return Promise.resolve()},Se.runFn=function(ke){for(var Qe=re._fullData,Ze=re._fullLayout,Xe=Ze._basePlotModules,ct,pt,Ye,je=[],et=0;et<Qe.length;et++)je.push(et);function yt(){if(re._fullLayout)for(var tt=0;tt<Xe.length;tt++)Xe[tt].transitionAxes&&Xe[tt].transitionAxes(re,ce,ct,ke)}function ft(){if(re._fullLayout)for(var tt=0;tt<Xe.length;tt++)Xe[tt].plot(re,Ye,pt,ke)}ce.length&&be.anim?oe.ordering==="traces first"?(ct=w.extendFlat({},oe,{duration:0}),Ye=je,pt=oe,setTimeout(yt,oe.duration),ft()):(ct=oe,Ye=null,pt=w.extendFlat({},oe,{duration:0}),setTimeout(ft,ct.duration),yt()):ce.length?(ct=oe,yt()):be.anim&&(Ye=je,pt=oe,ft())},Ce(re,oe,Se)};function Ce(re,be,te){var se=!1;function fe(Xe){var ct=Promise.resolve();if(!Xe)return ct;for(;Xe.length;)ct=ct.then(Xe.shift());return ct}function oe(Xe){if(Xe)for(;Xe.length;)Xe.shift()}function Se(){return re.emit("plotly_transitioning",[]),new Promise(function(Xe){re._transitioning=!0,be.duration>0&&(re._transitioningWithDuration=!0),re._transitionData._interruptCallbacks.push(function(){se=!0}),te.redraw&&re._transitionData._interruptCallbacks.push(function(){return O.call("redraw",re)}),re._transitionData._interruptCallbacks.push(function(){re.emit("plotly_transitioninterrupted",[])});var ct=0,pt=0;function Ye(){return ct++,function(){pt++,!se&&pt===ct&&ce(Xe)}}te.runFn(Ye),setTimeout(Ye())})}function ce(Xe){if(re._transitionData)return oe(re._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(te.redraw)return O.call("redraw",re)}).then(function(){re._transitioning=!1,re._transitioningWithDuration=!1,re.emit("plotly_transitioned",[])}).then(Xe)}function ke(){if(re._transitionData)return re._transitioning=!1,fe(re._transitionData._interruptCallbacks)}var Qe=[B.previousPromises,ke,te.prepareFn,B.rehover,B.reselect,Se],Ze=w.syncOrAsync(Qe,re);return(!Ze||!Ze.then)&&(Ze=Promise.resolve()),Ze.then(function(){return re})}B.doCalcdata=function(re,be){var te=M.list(re),se=re._fullData,fe=re._fullLayout,oe,Se,ce,ke,Qe=new Array(se.length),Ze=(re.calcdata||[]).slice();for(re.calcdata=Qe,fe._numBoxes=0,fe._numViolins=0,fe._violinScaleGroupStats={},re._hmpixcount=0,re._hmlumcount=0,fe._piecolormap={},fe._sunburstcolormap={},fe._treemapcolormap={},fe._iciclecolormap={},fe._funnelareacolormap={},ce=0;ce<se.length;ce++)if(Array.isArray(be)&&be.indexOf(ce)===-1){Qe[ce]=Ze[ce];continue}for(ce=0;ce<se.length;ce++)oe=se[ce],oe._arrayAttrs=C.findArrayAttributes(oe),oe._extremes={};var Xe=fe._subplots.polar||[];for(ce=0;ce<Xe.length;ce++)te.push(fe[Xe[ce]].radialaxis,fe[Xe[ce]].angularaxis);for(var ct in fe._colorAxes){var pt=fe[ct];pt.cauto!==!1&&(delete pt.cmin,delete pt.cmax)}var Ye=!1;function je(ft){if(oe=se[ft],Se=oe._module,oe.visible===!0&&oe.transforms){if(Se&&Se.calc){var tt=Se.calc(re,oe);tt[0]&&tt[0].t&&tt[0].t._scene&&delete tt[0].t._scene.dirty}for(ke=0;ke<oe.transforms.length;ke++){var wt=oe.transforms[ke];Se=E[wt.type],Se&&Se.calcTransform&&(oe._hasCalcTransform=!0,Ye=!0,Se.calcTransform(re,oe,wt))}}}function et(ft,tt){if(oe=se[ft],Se=oe._module,!!Se.isContainer===tt){var wt=[];if(oe.visible===!0&&oe._length!==0){delete oe._indexToPoints;var Xt=oe.transforms||[];for(ke=Xt.length-1;ke>=0;ke--)if(Xt[ke].enabled){oe._indexToPoints=Xt[ke]._indexToPoints;break}Se&&Se.calc&&(wt=Se.calc(re,oe))}(!Array.isArray(wt)||!wt[0])&&(wt=[{x:R,y:R}]),wt[0].t||(wt[0].t={}),wt[0].trace=oe,Qe[ft]=wt}}for(_e(te,se,fe),ce=0;ce<se.length;ce++)et(ce,!0);for(ce=0;ce<se.length;ce++)je(ce);for(Ye&&_e(te,se,fe),ce=0;ce<se.length;ce++)et(ce,!0);for(ce=0;ce<se.length;ce++)et(ce,!1);Ie(re);var yt=Ve(te,re);if(yt.length){for(fe._numBoxes=0,fe._numViolins=0,ce=0;ce<yt.length;ce++)et(yt[ce],!0);for(ce=0;ce<yt.length;ce++)et(yt[ce],!1);Ie(re)}O.getComponentMethod("fx","calc")(re),O.getComponentMethod("errorbars","calc")(re)};var De=/(total|sum|min|max|mean|median) (ascending|descending)/;function Ve(re,be){var te=[],se,fe,oe,Se,ce;function ke(Un,Sn,lt){var ut=Sn._id.charAt(0);if(Un==="histogram2dcontour"){var xt=Sn._counterAxes[0],gt=M.getFromId(be,xt),Dt=ut==="x"||xt==="x"&&gt.type==="category",He=ut==="y"||xt==="y"&&gt.type==="category";return function(at,dt){return at===0||dt===0||Dt&&at===lt[dt].length-1||He&&dt===lt.length-1?-1:(ut==="y"?dt:at)-1}}else return function(at,dt){return ut==="y"?dt:at}}var Qe={min:function(Un){return w.aggNums(Math.min,null,Un)},max:function(Un){return w.aggNums(Math.max,null,Un)},sum:function(Un){return w.aggNums(function(Sn,lt){return Sn+lt},null,Un)},total:function(Un){return w.aggNums(function(Sn,lt){return Sn+lt},null,Un)},mean:function(Un){return w.mean(Un)},median:function(Un){return w.median(Un)}};for(se=0;se<re.length;se++){var Ze=re[se];if(Ze.type==="category"){var Xe=Ze.categoryorder.match(De);if(Xe){var ct=Xe[1],pt=Xe[2],Ye=Ze._id.charAt(0),je=Ye==="x",et=[];for(fe=0;fe<Ze._categories.length;fe++)et.push([Ze._categories[fe],[]]);for(fe=0;fe<Ze._traceIndices.length;fe++){var yt=Ze._traceIndices[fe],ft=be._fullData[yt];if(ft.visible===!0){var tt=ft.type;O.traceIs(ft,"histogram")&&(delete ft._xautoBinFinished,delete ft._yautoBinFinished);var wt=tt==="splom",Xt=tt==="scattergl",Gt=be.calcdata[yt];for(oe=0;oe<Gt.length;oe++){var Nt=Gt[oe],Bt,vn;if(wt){var En=ft._axesDim[Ze._id];if(!je){var ln=ft._diag[En][0];ln&&(Ze=be._fullLayout[M.id2name(ln)])}var Yn=Nt.trace.dimensions[En].values;for(Se=0;Se<Yn.length;Se++)for(Bt=Ze._categoriesMap[Yn[Se]],ce=0;ce<Nt.trace.dimensions.length;ce++)if(ce!==En){var an=Nt.trace.dimensions[ce];et[Bt][1].push(an.values[Se])}}else if(Xt){for(Se=0;Se<Nt.t.x.length;Se++)je?(Bt=Nt.t.x[Se],vn=Nt.t.y[Se]):(Bt=Nt.t.y[Se],vn=Nt.t.x[Se]),et[Bt][1].push(vn);Nt.t&&Nt.t._scene&&delete Nt.t._scene.dirty}else if(Nt.hasOwnProperty("z")){vn=Nt.z;var wn=ke(ft.type,Ze,vn);for(Se=0;Se<vn.length;Se++)for(ce=0;ce<vn[Se].length;ce++)Bt=wn(ce,Se),Bt+1&&et[Bt][1].push(vn[Se][ce])}else for(Bt=Nt.p,Bt===void 0&&(Bt=Nt[Ye]),vn=Nt.s,vn===void 0&&(vn=Nt.v),vn===void 0&&(vn=je?Nt.y:Nt.x),Array.isArray(vn)||(vn===void 0?vn=[]:vn=[vn]),Se=0;Se<vn.length;Se++)et[Bt][1].push(vn[Se])}}}Ze._categoriesValue=et;var Xn=[];for(fe=0;fe<et.length;fe++)Xn.push([et[fe][0],Qe[ct](et[fe][1])]);Xn.sort(function(Un,Sn){return Un[1]-Sn[1]}),Ze._categoriesAggregatedValue=Xn,Ze._initialCategories=Xn.map(function(Un){return Un[0]}),pt==="descending"&&Ze._initialCategories.reverse(),te=te.concat(Ze.sortByInitialCategories())}}}return te}function _e(re,be,te){var se={};function fe(ke){ke.clearCalc(),ke.type==="multicategory"&&ke.setupMultiCategory(be),se[ke._id]=1}w.simpleMap(re,fe);for(var oe=te._axisMatchGroups||[],Se=0;Se<oe.length;Se++)for(var ce in oe[Se])se[ce]||fe(te[M.id2name(ce)])}function Ie(re){var be=re._fullLayout,te=be._visibleModules,se={},fe,oe,Se;for(oe=0;oe<te.length;oe++){var ce=te[oe],ke=ce.crossTraceCalc;if(ke){var Qe=ce.basePlotModule.name;se[Qe]?w.pushUnique(se[Qe],ke):se[Qe]=[ke]}}for(Se in se){var Ze=se[Se],Xe=be._subplots[Se];if(Array.isArray(Xe))for(fe=0;fe<Xe.length;fe++){var ct=Xe[fe],pt=Se==="cartesian"?be._plots[ct]:be[ct];for(oe=0;oe<Ze.length;oe++)Ze[oe](re,pt,ct)}else for(oe=0;oe<Ze.length;oe++)Ze[oe](re)}}B.rehover=function(re){re._fullLayout._rehover&&re._fullLayout._rehover()},B.redrag=function(re){re._fullLayout._redrag&&re._fullLayout._redrag()},B.reselect=function(re){var be=re._fullLayout,te=(re.layout||{}).selections,se=be._previousSelections;be._previousSelections=te;var fe=be._reselect||JSON.stringify(te)!==JSON.stringify(se);O.getComponentMethod("selections","reselect")(re,fe)},B.generalUpdatePerTraceModule=function(re,be,te,se){var fe=be.traceHash,oe={},Se;for(Se=0;Se<te.length;Se++){var ce=te[Se],ke=ce[0].trace;ke.visible&&(oe[ke.type]=oe[ke.type]||[],oe[ke.type].push(ce))}for(var Qe in fe)if(!oe[Qe]){var Ze=fe[Qe][0],Xe=Ze[0].trace;Xe.visible=!1,oe[Qe]=[Ze]}for(var ct in oe){var pt=oe[ct],Ye=pt[0][0].trace._module;Ye.plot(re,be,w.filterVisible(pt),se)}be.traceHash=oe},B.plotBasePlot=function(re,be,te,se,fe){var oe=O.getModule(re),Se=z(be.calcdata,oe)[0];oe.plot(be,Se,se,fe)},B.cleanBasePlot=function(re,be,te,se,fe){var oe=fe._has&&fe._has(re),Se=te._has&&te._has(re);oe&&!Se&&fe["_"+re+"layer"].selectAll("g.trace").remove()}},5386:function(f,h,c){var g=c(1562);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function v(y){var b=y.description?" "+y.description:"",O=y.keys||[];if(O.length>0){for(var C=[],k=0;k<O.length;k++)C[k]="`"+O[k]+"`";b=b+"Finally, the template string has access to ",O.length===1?b=b+"variable "+C[0]:b=b+"variables "+C.slice(0,-1).join(", ")+" and "+C.slice(-1)+"."}return b}h.fF=function(y,b){y=y||{},b=b||{},v(b);var O={valType:"string",dflt:"",editType:y.editType||"none"};return y.arrayOk!==!1&&(O.arrayOk=!0),O},h.si=function(y,b){y=y||{},b=b||{},v(b);var O={valType:"string",dflt:"",editType:y.editType||"calc"};return y.arrayOk!==!1&&(O.arrayOk=!0),O},h.R=function(y,b){y=y||{},b=b||{},y.newshape,v(b);var O={valType:"string",dflt:"",editType:y.editType||"arraydraw"};return O}},3972:function(f,h,c){var g=c(7769),v=c(4213),y=c(5138),b=c(1965),O=c(4401).addStyleRule,C=c(1426),k=c(9012),w=c(820),T=C.extendFlat,R=C.extendDeepAll;h.modules={},h.allCategories={},h.allTypes=[],h.subplotsRegistry={},h.transformsRegistry={},h.componentsRegistry={},h.layoutArrayContainers=[],h.layoutArrayRegexes=[],h.traceLayoutAttributes={},h.localeRegistry={},h.apiMethodRegistry={},h.collectableSubplotTypes=null,h.register=function(X){if(h.collectableSubplotTypes=null,X)X&&!Array.isArray(X)&&(X=[X]);else throw new Error("No argument passed to Plotly.register.");for(var ie=0;ie<X.length;ie++){var L=X[ie];if(!L)throw new Error("Invalid module was attempted to be registered!");switch(L.moduleType){case"trace":M(L);break;case"transform":N(L);break;case"component":V(L);break;case"locale":Q(L);break;case"apiMethod":var me=L.name;h.apiMethodRegistry[me]=L.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},h.getModule=function(W){var X=h.modules[E(W)];return X?X._module:!1},h.traceIs=function(W,X){if(W=E(W),W==="various")return!1;var ie=h.modules[W];return ie||(W&&g.log("Unrecognized trace type "+W+"."),ie=h.modules[k.type.dflt]),!!ie.categories[X]},h.getTransformIndices=function(W,X){for(var ie=[],L=W.transforms||[],me=0;me<L.length;me++)L[me].type===X&&ie.push(me);return ie},h.hasTransform=function(W,X){for(var ie=W.transforms||[],L=0;L<ie.length;L++)if(ie[L].type===X)return!0;return!1},h.getComponentMethod=function(W,X){var ie=h.componentsRegistry[W];return ie&&ie[X]||v},h.call=function(){var W=arguments[0],X=[].slice.call(arguments,1);return h.apiMethodRegistry[W].apply(null,X)};function M(W){var X=W.name,ie=W.categories,L=W.meta;if(h.modules[X]){g.log("Type "+X+" already registered");return}h.subplotsRegistry[W.basePlotModule.name]||I(W.basePlotModule);for(var me={},ae=0;ae<ie.length;ae++)me[ie[ae]]=!0,h.allCategories[ie[ae]]=!0;h.modules[X]={_module:W,categories:me},L&&Object.keys(L).length&&(h.modules[X].meta=L),h.allTypes.push(X);for(var q in h.componentsRegistry)U(q,X);W.layoutAttributes&&T(h.traceLayoutAttributes,W.layoutAttributes);var de=W.basePlotModule,ee=de.name;if(ee==="mapbox"){var xe=de.constants.styleRules;for(var we in xe)O(".js-plotly-plot .plotly .mapboxgl-"+we,xe[we])}(ee==="geo"||ee==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function I(W){var X=W.name;if(h.subplotsRegistry[X]){g.log("Plot type "+X+" already registered.");return}z(W),h.subplotsRegistry[X]=W;for(var ie in h.componentsRegistry)B(ie,W.name)}function V(W){if(typeof W.name!="string")throw new Error("Component module *name* must be a string.");var X=W.name;h.componentsRegistry[X]=W,W.layoutAttributes&&(W.layoutAttributes._isLinkedToArray&&y(h.layoutArrayContainers,X),z(W));for(var ie in h.modules)U(X,ie);for(var L in h.subplotsRegistry)B(X,L);for(var me in h.transformsRegistry)F(X,me);W.schema&&W.schema.layout&&R(w,W.schema.layout)}function N(W){if(typeof W.name!="string")throw new Error("Transform module *name* must be a string.");var X="Transform module "+W.name,ie=typeof W.transform=="function",L=typeof W.calcTransform=="function";if(!ie&&!L)throw new Error(X+" is missing a *transform* or *calcTransform* method.");ie&&L&&g.log([X+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),b(W.attributes)||g.log(X+" registered without an *attributes* object."),typeof W.supplyDefaults!="function"&&g.log(X+" registered without a *supplyDefaults* method."),h.transformsRegistry[W.name]=W;for(var me in h.componentsRegistry)F(me,W.name)}function Q(W){var X=W.name,ie=X.split("-")[0],L=W.dictionary,me=W.format,ae=L&&Object.keys(L).length,q=me&&Object.keys(me).length,de=h.localeRegistry,ee=de[X];if(ee||(de[X]=ee={}),ie!==X){var xe=de[ie];xe||(de[ie]=xe={}),ae&&xe.dictionary===ee.dictionary&&(xe.dictionary=L),q&&xe.format===ee.format&&(xe.format=me)}ae&&(ee.dictionary=L),q&&(ee.format=me)}function z(W){if(W.layoutAttributes){var X=W.layoutAttributes._arrayAttrRegexps;if(X)for(var ie=0;ie<X.length;ie++)y(h.layoutArrayRegexes,X[ie])}}function U(W,X){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.traces)){var L=ie.traces[X];L&&R(h.modules[X]._module.attributes,L)}}function F(W,X){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.transforms)){var L=ie.transforms[X];L&&R(h.transformsRegistry[X].attributes,L)}}function B(W,X){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.subplots)){var L=h.subplotsRegistry[X],me=L.layoutAttributes,ae=L.attr==="subplot"?L.name:L.attr;Array.isArray(ae)&&(ae=ae[0]);var q=ie.subplots[ae];me&&q&&R(me,q)}}function E(W){return typeof W=="object"&&(W=W.type),W}},1914:function(f,h,c){var g=c(3972),v=c(1828),y=v.extendFlat,b=v.extendDeep;function O(k){var w;switch(k){case"themes__thumb":w={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":w={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:w={}}return w}function C(k){var w=["xaxis","yaxis","zaxis"];return w.indexOf(k.slice(0,5))>-1}f.exports=function(w,T){var R,M=w.data,I=w.layout,V=b([],M),N=b({},I,O(T.tileClass)),Q=w._context||{};if(T.width&&(N.width=T.width),T.height&&(N.height=T.height),T.tileClass==="thumbnail"||T.tileClass==="themes__thumb"){N.annotations=[];var z=Object.keys(N);for(R=0;R<z.length;R++)C(z[R])&&(N[z[R]].title={text:""});for(R=0;R<V.length;R++){var U=V[R];U.showscale=!1,U.marker&&(U.marker.showscale=!1),g.traceIs(U,"pie-like")&&(U.textposition="none")}}if(Array.isArray(T.annotations))for(R=0;R<T.annotations.length;R++)N.annotations.push(T.annotations[R]);var F=Object.keys(N).filter(function(ie){return ie.match(/^scene\d*$/)});if(F.length){var B={};for(T.tileClass==="thumbnail"&&(B={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),R=0;R<F.length;R++){var E=N[F[R]];E.xaxis||(E.xaxis={}),E.yaxis||(E.yaxis={}),E.zaxis||(E.zaxis={}),y(E.xaxis,B),y(E.yaxis,B),y(E.zaxis,B),E._scene=null}}var W=document.createElement("div");T.tileClass&&(W.className=T.tileClass);var X={gd:W,td:W,layout:N,data:V,config:{staticPlot:T.staticPlot===void 0?!0:T.staticPlot,plotGlPixelRatio:T.plotGlPixelRatio===void 0?2:T.plotGlPixelRatio,displaylogo:T.displaylogo||!1,showLink:T.showLink||!1,showTips:T.showTips||!1,mapboxAccessToken:Q.mapboxAccessToken}};return T.setBackground!=="transparent"&&(X.config.setBackground=T.setBackground||"opaque"),X.gd.defaultLayout=O(T.tileClass),X}},7239:function(f,h,c){var g=c(1828),v=c(403),y=c(2435),b=c(5095);function O(C,k){var w;return g.isPlainObject(C)||(w=g.getGraphDiv(C)),k=k||{},k.format=k.format||"png",k.width=k.width||null,k.height=k.height||null,k.imageDataOnly=!0,new Promise(function(T,R){w&&w._snapshotInProgress&&R(new Error("Snapshotting already in progress.")),g.isIE()&&k.format!=="svg"&&R(new Error(b.MSG_IE_BAD_FORMAT)),w&&(w._snapshotInProgress=!0);var M=v(C,k),I=k.filename||C.fn||"newplot";I+="."+k.format.replace("-","."),M.then(function(V){return w&&(w._snapshotInProgress=!1),y(V,I,k.format)}).then(function(V){T(V)}).catch(function(V){w&&(w._snapshotInProgress=!1),R(V)})})}f.exports=O},2435:function(f,h,c){var g=c(1828),v=c(5095);function y(b,O,C){var k=document.createElement("a"),w="download"in k,T=new Promise(function(R,M){var I,V;if(g.isIE())return I=v.createBlob(b,"svg"),window.navigator.msSaveBlob(I,O),I=null,R(O);if(w)return I=v.createBlob(b,C),V=v.createObjectURL(I),k.href=V,k.download=O,document.body.appendChild(k),k.click(),document.body.removeChild(k),v.revokeObjectURL(V),I=null,R(O);if(g.isSafari()){var N=C==="svg"?",":";base64,";return v.octetStream(N+encodeURIComponent(b)),R(O)}M(new Error("download error"))});return T}f.exports=y},5095:function(f,h,c){var g=c(3972);h.getDelay=function(b){return b._has&&(b._has("gl3d")||b._has("gl2d")||b._has("mapbox"))?500:0},h.getRedrawFunc=function(b){return function(){g.getComponentMethod("colorbar","draw")(b)}},h.encodeSVG=function(b){return"data:image/svg+xml,"+encodeURIComponent(b)},h.encodeJSON=function(b){return"data:application/json,"+encodeURIComponent(b)};var v=window.URL||window.webkitURL;h.createObjectURL=function(b){return v.createObjectURL(b)},h.revokeObjectURL=function(b){return v.revokeObjectURL(b)},h.createBlob=function(b,O){if(O==="svg")return new window.Blob([b],{type:"image/svg+xml;charset=utf-8"});if(O==="full-json")return new window.Blob([b],{type:"application/json;charset=utf-8"});var C=y(window.atob(b));return new window.Blob([C],{type:"image/"+O})},h.octetStream=function(b){document.location.href="data:application/octet-stream"+b};function y(b){for(var O=b.length,C=new ArrayBuffer(O),k=new Uint8Array(C),w=0;w<O;w++)k[w]=b.charCodeAt(w);return C}h.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,h.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(f,h,c){var g=c(5095),v={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:c(1914),toSVG:c(5900),svgToImg:c(942),toImage:c(6395),downloadImage:c(7239)};f.exports=v},942:function(f,h,c){var g=c(1828),v=c(5398).EventEmitter,y=c(5095);function b(O){var C=O.emitter||new v,k=new Promise(function(w,T){var R=window.Image,M=O.svg,I=O.format||"png";if(g.isIE()&&I!=="svg"){var V=new Error(y.MSG_IE_BAD_FORMAT);return T(V),O.promise?k:C.emit("error",V)}var N=O.canvas,Q=O.scale||1,z=O.width||300,U=O.height||150,F=Q*z,B=Q*U,E=N.getContext("2d",{willReadFrequently:!0}),W=new R,X,ie;I==="svg"||g.isSafari()?ie=y.encodeSVG(M):(X=y.createBlob(M,"svg"),ie=y.createObjectURL(X)),N.width=F,N.height=B,W.onload=function(){var L;switch(X=null,y.revokeObjectURL(ie),I!=="svg"&&E.drawImage(W,0,0,F,B),I){case"jpeg":L=N.toDataURL("image/jpeg");break;case"png":L=N.toDataURL("image/png");break;case"webp":L=N.toDataURL("image/webp");break;case"svg":L=ie;break;default:var me="Image format is not jpeg, png, svg or webp.";if(T(new Error(me)),!O.promise)return C.emit("error",me)}w(L),O.promise||C.emit("success",L)},W.onerror=function(L){if(X=null,y.revokeObjectURL(ie),T(L),!O.promise)return C.emit("error",L)},W.src=ie});return O.promise?k:C}f.exports=b},6395:function(f,h,c){var g=c(5398).EventEmitter,v=c(3972),y=c(1828),b=c(5095),O=c(1914),C=c(5900),k=c(942);function w(T,R){var M=new g,I=O(T,{format:"png"}),V=I.gd;V.style.position="absolute",V.style.left="-5000px",document.body.appendChild(V);function N(){var z=b.getDelay(V._fullLayout);setTimeout(function(){var U=C(V),F=document.createElement("canvas");F.id=y.randstr(),M=k({format:R.format,width:V._fullLayout.width,height:V._fullLayout.height,canvas:F,emitter:M,svg:U}),M.clean=function(){V&&document.body.removeChild(V)}},z)}var Q=b.getRedrawFunc(V);return v.call("_doPlot",V,I.data,I.layout,I.config).then(Q).then(N).catch(function(z){M.emit("error",z)}),M}f.exports=w},5900:function(f,h,c){var g=c(9898),v=c(1828),y=c(1424),b=c(7901),O=c(7922),C=/"/g,k="TOBESTRIPPED",w=new RegExp('("'+k+")|("+k+'")',"g");function T(M){var I=g.select("body").append("div").style({display:"none"}).html(""),V=M.replace(/(&[^;]*;)/gi,function(N){return N==="&lt;"?"&#60;":N==="&rt;"?"&#62;":N.indexOf("<")!==-1||N.indexOf(">")!==-1?"":I.html(N).text()});return I.remove(),V}function R(M){return M.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}f.exports=function(I,V,N){var Q=I._fullLayout,z=Q._paper,U=Q._toppaper,F=Q.width,B=Q.height,E;z.insert("rect",":first-child").call(y.setRect,0,0,F,B).call(b.fill,Q.paper_bgcolor);var W=Q._basePlotModules||[];for(E=0;E<W.length;E++){var X=W[E];X.toSVG&&X.toSVG(I)}if(U){var ie=U.node().childNodes,L=Array.prototype.slice.call(ie);for(E=0;E<L.length;E++){var me=L[E];me.childNodes.length&&z.node().appendChild(me)}}Q._draggers&&Q._draggers.remove(),z.node().style.background="",z.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var q=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){q.remove();return}else q.style({visibility:null,display:null});var de=this.style.fontFamily;de&&de.indexOf('"')!==-1&&q.style("font-family",de.replace(C,k))}),z.selectAll(".gradient_filled,.pattern_filled").each(function(){var q=g.select(this),de=this.style.fill;de&&de.indexOf("url(")!==-1&&q.style("fill",de.replace(C,k));var ee=this.style.stroke;ee&&ee.indexOf("url(")!==-1&&q.style("stroke",ee.replace(C,k))}),(V==="pdf"||V==="eps")&&z.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),z.node().setAttributeNS(O.xmlns,"xmlns",O.svg),z.node().setAttributeNS(O.xmlns,"xmlns:xlink",O.xlink),V==="svg"&&N&&(z.attr("width",N*F),z.attr("height",N*B),z.attr("viewBox","0 0 "+F+" "+B));var ae=new window.XMLSerializer().serializeToString(z.node());return ae=T(ae),ae=R(ae),ae=ae.replace(w,"'"),v.isIE()&&(ae=ae.replace(/"/gi,"'"),ae=ae.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),ae=ae.replace(/(\\')/gi,'"')),ae}},5341:function(f,h,c){var g=c(1828);f.exports=function(y,b){for(var O=0;O<y.length;O++)y[O].i=O;g.mergeArray(b.text,y,"tx"),g.mergeArray(b.hovertext,y,"htx");var C=b.marker;if(C){g.mergeArray(C.opacity,y,"mo",!0),g.mergeArray(C.color,y,"mc");var k=C.line;k&&(g.mergeArray(k.color,y,"mlc"),g.mergeArrayCastPositive(k.width,y,"mlw"))}}},1486:function(f,h,c){var g=c(2196),v=c(2663).axisHoverFormat,y=c(5386).fF,b=c(5386).si,O=c(693),C=c(1940),k=c(7313),w=c(9952).u,T=c(1426).extendFlat,R=C({editType:"calc",arrayOk:!0,colorEditType:"style"}),M=g.marker,I=M.line,V=T({},I.width,{dflt:0}),N=T({width:V,editType:"calc"},O("marker.line")),Q=T({line:N,editType:"calc"},O("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:w});f.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:v("x"),yhoverformat:v("y"),text:g.text,texttemplate:b({editType:"plot"},{keys:k.eventDataKeys}),hovertext:g.hovertext,hovertemplate:y({},{keys:k.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:T({},R,{}),insidetextfont:T({},R,{}),outsidetextfont:T({},R,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:T({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:Q,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(f,h,c){var g=c(9298),v=c(2973),y=c(2869).hasColorscale,b=c(8803),O=c(5341),C=c(6279);f.exports=function(w,T){var R=g.getFromId(w,T.xaxis||"x"),M=g.getFromId(w,T.yaxis||"y"),I,V,N,Q,z,U,F={msUTC:!!(T.base||T.base===0)};T.orientation==="h"?(I=R.makeCalcdata(T,"x",F),N=M.makeCalcdata(T,"y"),Q=v(T,M,"y",N),z=!!T.yperiodalignment,U="y"):(I=M.makeCalcdata(T,"y",F),N=R.makeCalcdata(T,"x"),Q=v(T,R,"x",N),z=!!T.xperiodalignment,U="x"),V=Q.vals;for(var B=Math.min(V.length,I.length),E=new Array(B),W=0;W<B;W++)E[W]={p:V[W],s:I[W]},z&&(E[W].orig_p=N[W],E[W][U+"End"]=Q.ends[W],E[W][U+"Start"]=Q.starts[W]),T.ids&&(E[W].id=String(T.ids[W]));return y(T,"marker")&&b(w,T,{vals:T.marker.color,containerStr:"marker",cLetter:"c"}),y(T,"marker.line")&&b(w,T,{vals:T.marker.line.color,containerStr:"marker.line",cLetter:"c"}),O(E,T),C(E,T),E}},7313:function(f){f.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(f,h,c){var g=c(2770),v=c(1828).isArrayOrTypedArray,y=c(606).BADNUM,b=c(3972),O=c(9298),C=c(9082).getAxisGroup,k=c(1546);function w(ae,q){for(var de=q.xaxis,ee=q.yaxis,xe=ae._fullLayout,we=ae._fullData,Be=ae.calcdata,pe=[],ne=[],le=0;le<we.length;le++){var Y=we[le];if(Y.visible===!0&&b.traceIs(Y,"bar")&&Y.xaxis===de._id&&Y.yaxis===ee._id&&(Y.orientation==="h"?pe.push(Be[le]):ne.push(Be[le]),Y._computePh))for(var ve=ae.calcdata[le],Oe=0;Oe<ve.length;Oe++)typeof ve[Oe].ph0=="function"&&(ve[Oe].ph0=ve[Oe].ph0()),typeof ve[Oe].ph1=="function"&&(ve[Oe].ph1=ve[Oe].ph1())}var Le={xCat:de.type==="category"||de.type==="multicategory",yCat:ee.type==="category"||ee.type==="multicategory",mode:xe.barmode,norm:xe.barnorm,gap:xe.bargap,groupgap:xe.bargroupgap};T(ae,de,ee,ne,Le),T(ae,ee,de,pe,Le)}function T(ae,q,de,ee,xe){if(ee.length){var we,Be,pe,ne,le;switch(R(de,ee),xe.mode){case"overlay":M(q,de,ee,xe);break;case"group":for(we=[],Be=[],pe=0;pe<ee.length;pe++)ne=ee[pe],le=ne[0].trace,le.offset===void 0?Be.push(ne):we.push(ne);Be.length&&I(ae,q,de,Be,xe),we.length&&M(q,de,we,xe);break;case"stack":case"relative":for(we=[],Be=[],pe=0;pe<ee.length;pe++)ne=ee[pe],le=ne[0].trace,le.base===void 0?Be.push(ne):we.push(ne);Be.length&&V(ae,q,de,Be,xe),we.length&&M(q,de,we,xe);break}L(ee,q)}}function R(ae,q){var de,ee;for(de=0;de<q.length;de++){var xe=q[de],we=xe[0].trace,Be=we.type==="funnel"?we._base:we.base,pe,ne=we.orientation==="h"?we.xcalendar:we.ycalendar,le=ae.type==="category"||ae.type==="multicategory"?function(){return null}:ae.d2c;if(v(Be)){for(ee=0;ee<Math.min(Be.length,xe.length);ee++)pe=le(Be[ee],0,ne),g(pe)?(xe[ee].b=+pe,xe[ee].hasB=1):xe[ee].b=0;for(;ee<xe.length;ee++)xe[ee].b=0}else{pe=le(Be,0,ne);var Y=g(pe);for(pe=Y?pe:0,ee=0;ee<xe.length;ee++)xe[ee].b=pe,Y&&(xe[ee].hasB=1)}}}function M(ae,q,de,ee){for(var xe=0;xe<de.length;xe++){var we=de[xe],Be=new k([we],{posAxis:ae,sepNegVal:!1,overlapNoMerge:!ee.norm});N(ae,Be,ee),ee.norm?(W(Be),ie(q,Be,ee)):B(q,Be)}}function I(ae,q,de,ee,xe){var we=new k(ee,{posAxis:q,sepNegVal:!1,overlapNoMerge:!xe.norm});Q(ae,q,we,xe),X(we,q),xe.norm?(W(we),ie(de,we,xe)):B(de,we)}function V(ae,q,de,ee,xe){var we=new k(ee,{posAxis:q,sepNegVal:xe.mode==="relative",overlapNoMerge:!(xe.norm||xe.mode==="stack"||xe.mode==="relative")});N(q,we,xe),E(de,we,xe);for(var Be=0;Be<ee.length;Be++)for(var pe=ee[Be],ne=0;ne<pe.length;ne++){var le=pe[ne];if(le.s!==y){var Y=le.b+le.s===we.get(le.p,le.s);Y&&(le._outmost=!0)}}xe.norm&&ie(de,we,xe)}function N(ae,q,de){for(var ee=q.minDiff,xe=q.traces,we=ee*(1-de.gap),Be=we,pe=Be*(1-(de.groupgap||0)),ne=-pe/2,le=0;le<xe.length;le++){var Y=xe[le],ve=Y[0].t;ve.barwidth=pe,ve.poffset=ne,ve.bargroupwidth=we,ve.bardelta=ee}q.binWidth=xe[0][0].t.barwidth/100,z(q),U(ae,q),F(ae,q)}function Q(ae,q,de,ee){for(var xe=ae._fullLayout,we=de.positions,Be=de.distinctPositions,pe=de.minDiff,ne=de.traces,le=ne.length,Y=we.length!==Be.length,ve=pe*(1-ee.gap),Oe=C(xe,q._id)+ne[0][0].trace.orientation,Le=xe._alignmentOpts[Oe]||{},Ce=0;Ce<le;Ce++){var De=ne[Ce],Ve=De[0].trace,_e=Le[Ve.alignmentgroup]||{},Ie=Object.keys(_e.offsetGroups||{}).length,re;Ie?re=ve/Ie:re=Y?ve/le:ve;var be=re*(1-(ee.groupgap||0)),te;Ie?te=((2*Ve._offsetIndex+1-Ie)*re-be)/2:te=Y?((2*Ce+1-le)*re-be)/2:-be/2;var se=De[0].t;se.barwidth=be,se.poffset=te,se.bargroupwidth=ve,se.bardelta=pe}de.binWidth=ne[0][0].t.barwidth/100,z(de),U(q,de),F(q,de,Y)}function z(ae){var q=ae.traces,de,ee;for(de=0;de<q.length;de++){var xe=q[de],we=xe[0],Be=we.trace,pe=we.t,ne=Be._offset||Be.offset,le=pe.poffset,Y;if(v(ne)){for(Y=Array.prototype.slice.call(ne,0,xe.length),ee=0;ee<Y.length;ee++)g(Y[ee])||(Y[ee]=le);for(ee=Y.length;ee<xe.length;ee++)Y.push(le);pe.poffset=Y}else ne!==void 0&&(pe.poffset=ne);var ve=Be._width||Be.width,Oe=pe.barwidth;if(v(ve)){var Le=Array.prototype.slice.call(ve,0,xe.length);for(ee=0;ee<Le.length;ee++)g(Le[ee])||(Le[ee]=Oe);for(ee=Le.length;ee<xe.length;ee++)Le.push(Oe);if(pe.barwidth=Le,ne===void 0){for(Y=[],ee=0;ee<xe.length;ee++)Y.push(le+(Oe-Le[ee])/2);pe.poffset=Y}}else ve!==void 0&&(pe.barwidth=ve,ne===void 0&&(pe.poffset=le+(Oe-ve)/2))}}function U(ae,q){for(var de=q.traces,ee=me(ae),xe=0;xe<de.length;xe++)for(var we=de[xe],Be=we[0].t,pe=Be.poffset,ne=Array.isArray(pe),le=Be.barwidth,Y=Array.isArray(le),ve=0;ve<we.length;ve++){var Oe=we[ve],Le=Oe.w=Y?le[ve]:le;Oe.p===void 0&&(Oe.p=Oe[ee],Oe["orig_"+ee]=Oe[ee]);var Ce=(ne?pe[ve]:pe)+Le/2;Oe[ee]=Oe.p+Ce}}function F(ae,q,de){var ee=q.traces,xe=q.minDiff,we=xe/2;O.minDtick(ae,q.minDiff,q.distinctPositions[0],de);for(var Be=0;Be<ee.length;Be++){var pe=ee[Be],ne=pe[0],le=ne.trace,Y=[],ve,Oe,Le,Ce;for(Ce=0;Ce<pe.length;Ce++)ve=pe[Ce],Oe=ve.p-we,Le=ve.p+we,Y.push(Oe,Le);if(le.width||le.offset){var De=ne.t,Ve=De.poffset,_e=De.barwidth,Ie=Array.isArray(Ve),re=Array.isArray(_e);for(Ce=0;Ce<pe.length;Ce++){ve=pe[Ce];var be=Ie?Ve[Ce]:Ve,te=re?_e[Ce]:_e;Oe=ve.p+be,Le=Oe+te,Y.push(Oe,Le)}}le._extremes[ae._id]=O.findExtremes(ae,Y,{padded:!1})}}function B(ae,q){for(var de=q.traces,ee=me(ae),xe=0;xe<de.length;xe++){for(var we=de[xe],Be=we[0].trace,pe=Be.type==="scatter",ne=Be.orientation==="v",le=[],Y=!1,ve=0;ve<we.length;ve++){var Oe=we[ve],Le=pe?0:Oe.b,Ce=pe?ne?Oe.y:Oe.x:Le+Oe.s;Oe[ee]=Ce,le.push(Ce),Oe.hasB&&le.push(Le),(!Oe.hasB||!Oe.b)&&(Y=!0)}Be._extremes[ae._id]=O.findExtremes(ae,le,{tozero:Y,padded:!0})}}function E(ae,q,de){var ee=me(ae),xe=q.traces,we,Be,pe,ne,le,Y;for(ne=0;ne<xe.length;ne++)if(we=xe[ne],Be=we[0].trace,Be.type==="funnel")for(le=0;le<we.length;le++)Y=we[le],Y.s!==y&&q.put(Y.p,-.5*Y.s);for(ne=0;ne<xe.length;ne++){we=xe[ne],Be=we[0].trace,pe=Be.type==="funnel";var ve=[];for(le=0;le<we.length;le++)if(Y=we[le],Y.s!==y){var Oe;pe?Oe=Y.s:Oe=Y.s+Y.b;var Le=q.put(Y.p,Oe),Ce=Le+Oe;Y.b=Le,Y[ee]=Ce,de.norm||(ve.push(Ce),Y.hasB&&ve.push(Le))}de.norm||(Be._extremes[ae._id]=O.findExtremes(ae,ve,{tozero:!0,padded:!0}))}}function W(ae){for(var q=ae.traces,de=0;de<q.length;de++)for(var ee=q[de],xe=0;xe<ee.length;xe++){var we=ee[xe];we.s!==y&&ae.put(we.p,we.b+we.s)}}function X(ae,q){for(var de=ae.traces,ee=0;ee<de.length;ee++){var xe=de[ee],we=xe[0].trace;if(we.base===void 0)for(var Be=new k([xe],{posAxis:q,sepNegVal:!0,overlapNoMerge:!0}),pe=0;pe<xe.length;pe++){var ne=xe[pe];if(ne.p!==y){var le=Be.put(ne.p,ne.b+ne.s);le&&(ne.b=le)}}}}function ie(ae,q,de){var ee=q.traces,xe=me(ae),we=de.norm==="fraction"?1:100,Be=we/1e9,pe=ae.l2c(ae.c2l(0)),ne=de.mode==="stack"?we:pe;function le(te){return g(ae.c2l(te))&&(te<pe-Be||te>ne+Be||!g(pe))}for(var Y=0;Y<ee.length;Y++){for(var ve=ee[Y],Oe=ve[0].trace,Le=[],Ce=!1,De=!1,Ve=0;Ve<ve.length;Ve++){var _e=ve[Ve];if(_e.s!==y){var Ie=Math.abs(we/q.get(_e.p,_e.s));_e.b*=Ie,_e.s*=Ie;var re=_e.b,be=re+_e.s;_e[xe]=be,Le.push(be),De=De||le(be),_e.hasB&&(Le.push(re),De=De||le(re)),(!_e.hasB||!_e.b)&&(Ce=!0)}}Oe._extremes[ae._id]=O.findExtremes(ae,Le,{tozero:Ce,padded:De})}}function L(ae,q){var de=me(q),ee={},xe,we,Be,pe=1/0,ne=-1/0;for(xe=0;xe<ae.length;xe++)for(Be=ae[xe],we=0;we<Be.length;we++){var le=Be[we].p;g(le)&&(pe=Math.min(pe,le),ne=Math.max(ne,le))}var Y=1e4/(ne-pe),ve=ee.round=function(Ie){return String(Math.round(Y*(Ie-pe)))};for(xe=0;xe<ae.length;xe++){Be=ae[xe],Be[0].t.extents=ee;var Oe=Be[0].t.poffset,Le=Array.isArray(Oe);for(we=0;we<Be.length;we++){var Ce=Be[we],De=Ce[de]-Ce.w/2;if(g(De)){var Ve=Ce[de]+Ce.w/2,_e=ve(Ce.p);ee[_e]?ee[_e]=[Math.min(De,ee[_e][0]),Math.max(Ve,ee[_e][1])]:ee[_e]=[De,Ve]}Ce.p0=Ce.p+(Le?Oe[we]:Oe),Ce.p1=Ce.p0+Ce.w,Ce.s0=Ce.b,Ce.s1=Ce.s0+Ce.s}}}function me(ae){return ae._id.charAt(0)}f.exports={crossTraceCalc:w,setGroupPositions:T}},769:function(f,h,c){var g=c(1828),v=c(7901),y=c(3972),b=c(7513),O=c(3927),C=c(8340),k=c(6125),w=c(1486),T=g.coerceFont;function R(V,N,Q,z){function U(X,ie){return g.coerce(V,N,w,X,ie)}var F=b(V,N,z,U);if(!F){N.visible=!1;return}O(V,N,z,U),U("xhoverformat"),U("yhoverformat"),U("orientation",N.x&&!N.y?"h":"v"),U("base"),U("offset"),U("width"),U("text"),U("hovertext"),U("hovertemplate");var B=U("textposition");I(V,N,z,U,B,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),C(V,N,U,Q,z);var E=(N.marker.line||{}).color,W=y.getComponentMethod("errorbars","supplyDefaults");W(V,N,E||v.defaultLine,{axis:"y"}),W(V,N,E||v.defaultLine,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(N,U)}function M(V,N){var Q,z;function U(B){return g.coerce(z._input,z,w,B)}if(N.barmode==="group")for(var F=0;F<V.length;F++)z=V[F],z.type==="bar"&&(Q=z._input,k(Q,z,N,U))}function I(V,N,Q,z,U,F){F=F||{};var B=F.moduleHasSelected!==!1,E=F.moduleHasUnselected!==!1,W=F.moduleHasConstrain!==!1,X=F.moduleHasCliponaxis!==!1,ie=F.moduleHasTextangle!==!1,L=F.moduleHasInsideanchor!==!1,me=!!F.hasPathbar,ae=Array.isArray(U)||U==="auto",q=ae||U==="inside",de=ae||U==="outside";if(q||de){var ee=T(z,"textfont",Q.font),xe=g.extendFlat({},ee),we=V.textfont&&V.textfont.color,Be=!we;if(Be&&delete xe.color,T(z,"insidetextfont",xe),me){var pe=g.extendFlat({},ee);Be&&delete pe.color,T(z,"pathbar.textfont",pe)}de&&T(z,"outsidetextfont",ee),B&&z("selected.textfont.color"),E&&z("unselected.textfont.color"),W&&z("constraintext"),X&&z("cliponaxis"),ie&&z("textangle"),z("texttemplate")}q&&L&&z("insidetextanchor")}f.exports={supplyDefaults:R,crossTraceDefaults:M,handleText:I}},8065:function(f){f.exports=function(c,g,v){return c.x="xVal"in g?g.xVal:g.x,c.y="yVal"in g?g.yVal:g.y,g.xa&&(c.xaxis=g.xa),g.ya&&(c.yaxis=g.ya),v.orientation==="h"?(c.label=c.y,c.value=c.x):(c.label=c.x,c.value=c.y),c}},9383:function(f,h,c){var g=c(2770),v=c(4267),y=c(1828).isArrayOrTypedArray;h.coerceString=function(b,O,C){if(typeof O=="string"){if(O||!b.noBlank)return O}else if((typeof O=="number"||O===!0)&&!b.strict)return String(O);return C!==void 0?C:b.dflt},h.coerceNumber=function(b,O,C){if(g(O)){O=+O;var k=b.min,w=b.max,T=k!==void 0&&O<k||w!==void 0&&O>w;if(!T)return O}return C!==void 0?C:b.dflt},h.coerceColor=function(b,O,C){return v(O).isValid()?O:C!==void 0?C:b.dflt},h.coerceEnumerated=function(b,O,C){return b.coerceNumber&&(O=+O),b.values.indexOf(O)!==-1?O:C!==void 0?C:b.dflt},h.getValue=function(b,O){var C;return Array.isArray(b)?O<b.length&&(C=b[O]):C=b,C},h.getLineWidth=function(b,O){var C=0<O.mlw?O.mlw:y(b.marker.line.width)?0:b.marker.line.width;return C}},5423:function(f,h,c){var g=c(211),v=c(3972),y=c(7901),b=c(1828).fillText,O=c(9383).getLineWidth,C=c(9298).hoverLabelText,k=c(606).BADNUM;function w(M,I,V,N,Q){var z=T(M,I,V,N,Q);if(z){var U=z.cd,F=U[0].trace,B=U[z.index];return z.color=R(F,B),v.getComponentMethod("errorbars","hoverInfo")(B,F,z),[z]}}function T(M,I,V,N,Q){var z=M.cd,U=z[0].trace,F=z[0].t,B=N==="closest",E=U.type==="waterfall",W=M.maxHoverDistance,X=M.maxSpikeDistance,ie,L,me,ae,q,de,ee;U.orientation==="h"?(ie=V,L=I,me="y",ae="x",q=Ve,de=Le):(ie=I,L=V,me="x",ae="y",de=Ve,q=Le);var xe=U[me+"period"],we=B||xe;function Be(ke){return ne(ke,-1)}function pe(ke){return ne(ke,1)}function ne(ke,Qe){var Ze=ke.w;return ke[me]+Qe*Ze/2}function le(ke){return ke[me+"End"]-ke[me+"Start"]}var Y=B?Be:xe?function(ke){return ke.p-le(ke)/2}:function(ke){return Math.min(Be(ke),ke.p-F.bardelta/2)},ve=B?pe:xe?function(ke){return ke.p+le(ke)/2}:function(ke){return Math.max(pe(ke),ke.p+F.bardelta/2)};function Oe(ke,Qe,Ze){return Q.finiteRange&&(Ze=0),g.inbox(ke-ie,Qe-ie,Ze+Math.min(1,Math.abs(Qe-ke)/ee)-1)}function Le(ke){return Oe(Y(ke),ve(ke),W)}function Ce(ke){return Oe(Be(ke),pe(ke),X)}function De(ke){var Qe=ke[ae];if(E){var Ze=Math.abs(ke.rawS)||0;L>0?Qe+=Ze:L<0&&(Qe-=Ze)}return Qe}function Ve(ke){var Qe=L,Ze=ke.b,Xe=De(ke);return g.inbox(Ze-Qe,Xe-Qe,W+(Xe-Qe)/(Xe-Ze)-1)}function _e(ke){var Qe=L,Ze=ke.b,Xe=De(ke);return g.inbox(Ze-Qe,Xe-Qe,X+(Xe-Qe)/(Xe-Ze)-1)}var Ie=M[me+"a"],re=M[ae+"a"];ee=Math.abs(Ie.r2c(Ie.range[1])-Ie.r2c(Ie.range[0]));function be(ke){return(q(ke)+de(ke))/2}var te=g.getDistanceFunction(N,q,de,be);if(g.getClosest(z,te,M),M.index!==!1&&z[M.index].p!==k){we||(Y=function(ke){return Math.min(Be(ke),ke.p-F.bargroupwidth/2)},ve=function(ke){return Math.max(pe(ke),ke.p+F.bargroupwidth/2)});var se=M.index,fe=z[se],oe=U.base?fe.b+fe.s:fe.s;M[ae+"0"]=M[ae+"1"]=re.c2p(fe[ae],!0),M[ae+"LabelVal"]=oe;var Se=F.extents[F.extents.round(fe.p)];M[me+"0"]=Ie.c2p(B?Y(fe):Se[0],!0),M[me+"1"]=Ie.c2p(B?ve(fe):Se[1],!0);var ce=fe.orig_p!==void 0;return M[me+"LabelVal"]=ce?fe.orig_p:fe.p,M.labelLabel=C(Ie,M[me+"LabelVal"],U[me+"hoverformat"]),M.valueLabel=C(re,M[ae+"LabelVal"],U[ae+"hoverformat"]),M.baseLabel=C(re,fe.b,U[ae+"hoverformat"]),M.spikeDistance=(_e(fe)+Ce(fe))/2,M[me+"Spike"]=Ie.c2p(fe.p,!0),b(fe,U,M),M.hovertemplate=U.hovertemplate,M}}function R(M,I){var V=I.mcc||M.marker.color,N=I.mlcc||M.marker.line.color,Q=O(M,I);if(y.opacity(V))return V;if(y.opacity(N)&&Q)return N}f.exports={hoverPoints:w,hoverOnBars:T,getTraceColor:R}},822:function(f,h,c){f.exports={attributes:c(1486),layoutAttributes:c(3641),supplyDefaults:c(769).supplyDefaults,crossTraceDefaults:c(769).crossTraceDefaults,supplyLayoutDefaults:c(3957),calc:c(2290),crossTraceCalc:c(1661).crossTraceCalc,colorbar:c(4898),arraysToCalcdata:c(5341),plot:c(7295).plot,style:c(6688).style,styleOnSelect:c(6688).styleOnSelect,hoverPoints:c(5423).hoverPoints,eventData:c(8065),selectPoints:c(1974),moduleType:"trace",name:"bar",basePlotModule:c(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(f){f.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(f,h,c){var g=c(3972),v=c(9298),y=c(1828),b=c(3641);f.exports=function(O,C,k){function w(F,B){return y.coerce(O,C,b,F,B)}for(var T=!1,R=!1,M=!1,I={},V=w("barmode"),N=0;N<k.length;N++){var Q=k[N];if(g.traceIs(Q,"bar")&&Q.visible)T=!0;else continue;if(V==="group"){var z=Q.xaxis+Q.yaxis;I[z]&&(M=!0),I[z]=!0}if(Q.visible&&Q.type==="histogram"){var U=v.getFromId({_fullLayout:C},Q[Q.orientation==="v"?"xaxis":"yaxis"]);U.type!=="category"&&(R=!0)}}if(!T){delete C.barmode;return}V!=="overlay"&&w("barnorm"),w("bargap",R&&!M?0:.2),w("bargroupgap")}},7295:function(f,h,c){var g=c(9898),v=c(2770),y=c(1828),b=c(3893),O=c(7901),C=c(1424),k=c(3972),w=c(9298).tickText,T=c(2597),R=T.recordMinTextSize,M=T.clearMinTextSize,I=c(6688),V=c(9383),N=c(7313),Q=c(1486),z=Q.text,U=Q.textposition,F=c(3469).appendArrayPointValue,B=N.TEXTPAD;function E(Y){return Y.id}function W(Y){if(Y.ids)return E}function X(Y,ve){return Y<ve?1:-1}function ie(Y,ve,Oe,Le){var Ce=[],De=[],Ve=Le?ve:Oe,_e=Le?Oe:ve;return Ce[0]=Ve.c2p(Y.s0,!0),De[0]=_e.c2p(Y.p0,!0),Ce[1]=Ve.c2p(Y.s1,!0),De[1]=_e.c2p(Y.p1,!0),Le?[Ce,De]:[De,Ce]}function L(Y,ve,Oe,Le){if(!ve.uniformtext.mode&&me(Oe)){var Ce;return Le&&(Ce=Le()),Y.transition().duration(Oe.duration).ease(Oe.easing).each("end",function(){Ce&&Ce()}).each("interrupt",function(){Ce&&Ce()})}else return Y}function me(Y){return Y&&Y.duration>0}function ae(Y,ve,Oe,Le,Ce,De){var Ve=ve.xaxis,_e=ve.yaxis,Ie=Y._fullLayout,re=Y._context.staticPlot;Ce||(Ce={mode:Ie.barmode,norm:Ie.barmode,gap:Ie.bargap,groupgap:Ie.bargroupgap},M("bar",Ie));var be=y.makeTraceGroups(Le,Oe,"trace bars").each(function(te){var se=g.select(this),fe=te[0].trace,oe=fe.type==="waterfall",Se=fe.type==="funnel",ce=fe.type==="bar",ke=ce||Se,Qe=0;oe&&fe.connector.visible&&fe.connector.mode==="between"&&(Qe=fe.connector.line.width/2);var Ze=fe.orientation==="h",Xe=me(Ce),ct=y.ensureSingle(se,"g","points"),pt=W(fe),Ye=ct.selectAll("g.point").data(y.identity,pt);Ye.enter().append("g").classed("point",!0),Ye.exit().remove(),Ye.each(function(et,yt){var ft=g.select(this),tt=ie(et,Ve,_e,Ze),wt=tt[0][0],Xt=tt[0][1],Gt=tt[1][0],Nt=tt[1][1],Bt=(Ze?Xt-wt:Nt-Gt)===0;Bt&&ke&&V.getLineWidth(fe,et)&&(Bt=!1),Bt||(Bt=!v(wt)||!v(Xt)||!v(Gt)||!v(Nt)),et.isBlank=Bt,Bt&&(Ze?Xt=wt:Nt=Gt),Qe&&!Bt&&(Ze?(wt-=X(wt,Xt)*Qe,Xt+=X(wt,Xt)*Qe):(Gt-=X(Gt,Nt)*Qe,Nt+=X(Gt,Nt)*Qe));var vn,En;if(fe.type==="waterfall"){if(!Bt){var ln=fe[et.dir].marker;vn=ln.line.width,En=ln.color}}else vn=V.getLineWidth(fe,et),En=et.mc||fe.marker.color;function Yn(lt){var ut=g.round(vn/2%1,2);return Ce.gap===0&&Ce.groupgap===0?g.round(Math.round(lt)-ut,2):lt}function an(lt,ut,xt){return xt&&lt===ut?lt:Math.abs(lt-ut)>=2?Yn(lt):lt>ut?Math.ceil(lt):Math.floor(lt)}if(!Y._context.staticPlot){var wn=O.opacity(En),Xn=wn<1||vn>.01?Yn:an;wt=Xn(wt,Xt,Ze),Xt=Xn(Xt,wt,Ze),Gt=Xn(Gt,Nt,!Ze),Nt=Xn(Nt,Gt,!Ze)}var Un=L(y.ensureSingle(ft,"path"),Ie,Ce,De);if(Un.style("vector-effect",re?"none":"non-scaling-stroke").attr("d",isNaN((Xt-wt)*(Nt-Gt))||Bt&&Y._context.staticPlot?"M0,0Z":"M"+wt+","+Gt+"V"+Nt+"H"+Xt+"V"+Gt+"Z").call(C.setClipUrl,ve.layerClipId,Y),!Ie.uniformtext.mode&&Xe){var Sn=C.makePointStyleFns(fe);C.singlePointStyle(et,Un,fe,Sn,Y)}q(Y,ve,ft,te,yt,wt,Xt,Gt,Nt,Ce,De),ve.layerClipId&&C.hideOutsideRangePoint(et,ft.select("text"),Ve,_e,fe.xcalendar,fe.ycalendar)});var je=fe.cliponaxis===!1;C.setClipUrl(se,je?null:ve.layerClipId,Y)});k.getComponentMethod("errorbars","plot")(Y,be,ve,Ce)}function q(Y,ve,Oe,Le,Ce,De,Ve,_e,Ie,re,be){var te=ve.xaxis,se=ve.yaxis,fe=Y._fullLayout,oe;function Se(lt,ut,xt){var gt=y.ensureSingle(lt,"text").text(ut).attr({class:"bartext bartext-"+oe,"text-anchor":"middle","data-notex":1}).call(C.font,xt).call(b.convertToTspans,Y);return gt}var ce=Le[0].trace,ke=ce.orientation==="h",Qe=Be(fe,Le,Ce,te,se);oe=pe(ce,Ce);var Ze=re.mode==="stack"||re.mode==="relative",Xe=Le[Ce],ct=!Ze||Xe._outmost;if(!Qe||oe==="none"||(Xe.isBlank||De===Ve||_e===Ie)&&(oe==="auto"||oe==="inside")){Oe.select("text").remove();return}var pt=fe.font,Ye=I.getBarColor(Le[Ce],ce),je=I.getInsideTextFont(ce,Ce,pt,Ye),et=I.getOutsideTextFont(ce,Ce,pt),yt=Oe.datum();ke?te.type==="log"&&yt.s0<=0&&(te.range[0]<te.range[1]?De=0:De=te._length):se.type==="log"&&yt.s0<=0&&(se.range[0]<se.range[1]?_e=se._length:_e=0);var ft=Math.abs(Ve-De)-2*B,tt=Math.abs(Ie-_e)-2*B,wt,Xt,Gt,Nt,Bt;if(oe==="outside"&&!ct&&!Xe.hasB&&(oe="inside"),oe==="auto")if(ct){oe="inside",Bt=y.ensureUniformFontSize(Y,je),wt=Se(Oe,Qe,Bt),Xt=C.bBox(wt.node()),Gt=Xt.width,Nt=Xt.height;var vn=Gt>0&&Nt>0,En=Gt<=ft&&Nt<=tt,ln=Gt<=tt&&Nt<=ft,Yn=ke?ft>=Gt*(tt/Nt):tt>=Nt*(ft/Gt);vn&&(En||ln||Yn)?oe="inside":(oe="outside",wt.remove(),wt=null)}else oe="inside";if(!wt){Bt=y.ensureUniformFontSize(Y,oe==="outside"?et:je),wt=Se(Oe,Qe,Bt);var an=wt.attr("transform");if(wt.attr("transform",""),Xt=C.bBox(wt.node()),Gt=Xt.width,Nt=Xt.height,wt.attr("transform",an),Gt<=0||Nt<=0){wt.remove();return}}var wn=ce.textangle,Xn,Un;oe==="outside"?(Un=ce.constraintext==="both"||ce.constraintext==="outside",Xn=we(De,Ve,_e,Ie,Xt,{isHorizontal:ke,constrained:Un,angle:wn})):(Un=ce.constraintext==="both"||ce.constraintext==="inside",Xn=xe(De,Ve,_e,Ie,Xt,{isHorizontal:ke,constrained:Un,angle:wn,anchor:ce.insidetextanchor})),Xn.fontSize=Bt.size,R(ce.type==="histogram"?"bar":ce.type,Xn,fe),Xe.transform=Xn;var Sn=L(wt,fe,re,be);y.setTransormAndDisplay(Sn,Xn)}function de(Y){return Y==="auto"?0:Y}function ee(Y,ve){var Oe=Math.PI/180*ve,Le=Math.abs(Math.sin(Oe)),Ce=Math.abs(Math.cos(Oe));return{x:Y.width*Ce+Y.height*Le,y:Y.width*Le+Y.height*Ce}}function xe(Y,ve,Oe,Le,Ce,De){var Ve=!!De.isHorizontal,_e=!!De.constrained,Ie=De.angle||0,re=De.anchor||"end",be=re==="end",te=re==="start",se=De.leftToRight||0,fe=(se+1)/2,oe=1-fe,Se=Ce.width,ce=Ce.height,ke=Math.abs(ve-Y),Qe=Math.abs(Le-Oe),Ze=ke>2*B&&Qe>2*B?B:0;ke-=2*Ze,Qe-=2*Ze;var Xe=de(Ie);Ie==="auto"&&!(Se<=ke&&ce<=Qe)&&(Se>ke||ce>Qe)&&(!(Se>Qe||ce>ke)||Se<ce!=ke<Qe)&&(Xe+=90);var ct=ee(Ce,Xe),pt=1;_e&&(pt=Math.min(1,ke/ct.x,Qe/ct.y));var Ye=Ce.left*oe+Ce.right*fe,je=(Ce.top+Ce.bottom)/2,et=(Y+B)*oe+(ve-B)*fe,yt=(Oe+Le)/2,ft=0,tt=0;if(te||be){var wt=(Ve?ct.x:ct.y)/2,Xt=Ve?X(Y,ve):X(Oe,Le);Ve?te?(et=Y+Xt*Ze,ft=-Xt*wt):(et=ve-Xt*Ze,ft=Xt*wt):te?(yt=Oe+Xt*Ze,tt=-Xt*wt):(yt=Le-Xt*Ze,tt=Xt*wt)}return{textX:Ye,textY:je,targetX:et,targetY:yt,anchorX:ft,anchorY:tt,scale:pt,rotate:Xe}}function we(Y,ve,Oe,Le,Ce,De){var Ve=!!De.isHorizontal,_e=!!De.constrained,Ie=De.angle||0,re=Ce.width,be=Ce.height,te=Math.abs(ve-Y),se=Math.abs(Le-Oe),fe;Ve?fe=se>2*B?B:0:fe=te>2*B?B:0;var oe=1;_e&&(oe=Ve?Math.min(1,se/be):Math.min(1,te/re));var Se=de(Ie),ce=ee(Ce,Se),ke=(Ve?ce.x:ce.y)/2,Qe=(Ce.left+Ce.right)/2,Ze=(Ce.top+Ce.bottom)/2,Xe=(Y+ve)/2,ct=(Oe+Le)/2,pt=0,Ye=0,je=Ve?X(ve,Y):X(Oe,Le);return Ve?(Xe=ve-je*fe,pt=je*ke):(ct=Le+je*fe,Ye=-je*ke),{textX:Qe,textY:Ze,targetX:Xe,targetY:ct,anchorX:pt,anchorY:Ye,scale:oe,rotate:Se}}function Be(Y,ve,Oe,Le,Ce){var De=ve[0].trace,Ve=De.texttemplate,_e;return Ve?_e=ne(Y,ve,Oe,Le,Ce):De.textinfo?_e=le(ve,Oe,Le,Ce):_e=V.getValue(De.text,Oe),V.coerceString(z,_e)}function pe(Y,ve){var Oe=V.getValue(Y.textposition,ve);return V.coerceEnumerated(U,Oe)}function ne(Y,ve,Oe,Le,Ce){var De=ve[0].trace,Ve=y.castOption(De,Oe,"texttemplate");if(!Ve)return"";var _e=De.type==="histogram",Ie=De.type==="waterfall",re=De.type==="funnel",be=De.orientation==="h",te,se,fe,oe;be?(te="y",se=Ce,fe="x",oe=Le):(te="x",se=Le,fe="y",oe=Ce);function Se(pt){return w(se,se.c2l(pt),!0).text}function ce(pt){return w(oe,oe.c2l(pt),!0).text}var ke=ve[Oe],Qe={};Qe.label=ke.p,Qe.labelLabel=Qe[te+"Label"]=Se(ke.p);var Ze=y.castOption(De,ke.i,"text");(Ze===0||Ze)&&(Qe.text=Ze),Qe.value=ke.s,Qe.valueLabel=Qe[fe+"Label"]=ce(ke.s);var Xe={};F(Xe,De,ke.i),(_e||Xe.x===void 0)&&(Xe.x=be?Qe.value:Qe.label),(_e||Xe.y===void 0)&&(Xe.y=be?Qe.label:Qe.value),(_e||Xe.xLabel===void 0)&&(Xe.xLabel=be?Qe.valueLabel:Qe.labelLabel),(_e||Xe.yLabel===void 0)&&(Xe.yLabel=be?Qe.labelLabel:Qe.valueLabel),Ie&&(Qe.delta=+ke.rawS||ke.s,Qe.deltaLabel=ce(Qe.delta),Qe.final=ke.v,Qe.finalLabel=ce(Qe.final),Qe.initial=Qe.final-Qe.delta,Qe.initialLabel=ce(Qe.initial)),re&&(Qe.value=ke.s,Qe.valueLabel=ce(Qe.value),Qe.percentInitial=ke.begR,Qe.percentInitialLabel=y.formatPercent(ke.begR),Qe.percentPrevious=ke.difR,Qe.percentPreviousLabel=y.formatPercent(ke.difR),Qe.percentTotal=ke.sumR,Qe.percenTotalLabel=y.formatPercent(ke.sumR));var ct=y.castOption(De,ke.i,"customdata");return ct&&(Qe.customdata=ct),y.texttemplateString(Ve,Qe,Y._d3locale,Xe,Qe,De._meta||{})}function le(Y,ve,Oe,Le){var Ce=Y[0].trace,De=Ce.orientation==="h",Ve=Ce.type==="waterfall",_e=Ce.type==="funnel";function Ie(ct){var pt=De?Le:Oe;return w(pt,ct,!0).text}function re(ct){var pt=De?Oe:Le;return w(pt,+ct,!0).text}var be=Ce.textinfo,te=Y[ve],se=be.split("+"),fe=[],oe,Se=function(ct){return se.indexOf(ct)!==-1};if(Se("label")&&fe.push(Ie(Y[ve].p)),Se("text")&&(oe=y.castOption(Ce,te.i,"text"),(oe===0||oe)&&fe.push(oe)),Ve){var ce=+te.rawS||te.s,ke=te.v,Qe=ke-ce;Se("initial")&&fe.push(re(Qe)),Se("delta")&&fe.push(re(ce)),Se("final")&&fe.push(re(ke))}if(_e){Se("value")&&fe.push(re(te.s));var Ze=0;Se("percent initial")&&Ze++,Se("percent previous")&&Ze++,Se("percent total")&&Ze++;var Xe=Ze>1;Se("percent initial")&&(oe=y.formatPercent(te.begR),Xe&&(oe+=" of initial"),fe.push(oe)),Se("percent previous")&&(oe=y.formatPercent(te.difR),Xe&&(oe+=" of previous"),fe.push(oe)),Se("percent total")&&(oe=y.formatPercent(te.sumR),Xe&&(oe+=" of total"),fe.push(oe))}return fe.join("<br>")}f.exports={plot:ae,toMoveInsideBar:xe}},1974:function(f){f.exports=function(g,v){var y=g.cd,b=g.xaxis,O=g.yaxis,C=y[0].trace,k=C.type==="funnel",w=C.orientation==="h",T=[],R;if(v===!1)for(R=0;R<y.length;R++)y[R].selected=0;else for(R=0;R<y.length;R++){var M=y[R],I="ct"in M?M.ct:h(M,b,O,w,k);v.contains(I,!1,R,g)?(T.push({pointNumber:R,x:b.c2d(M.x),y:O.c2d(M.y)}),M.selected=1):M.selected=0}return T};function h(c,g,v,y,b){var O=g.c2p(y?c.s0:c.p0,!0),C=g.c2p(y?c.s1:c.p1,!0),k=v.c2p(y?c.p0:c.s0,!0),w=v.c2p(y?c.p1:c.s1,!0);return b?[(O+C)/2,(k+w)/2]:y?[C,(k+w)/2]:[(O+C)/2,w]}},1546:function(f,h,c){f.exports=v;var g=c(1828).distinctVals;function v(y,b){this.traces=y,this.sepNegVal=b.sepNegVal,this.overlapNoMerge=b.overlapNoMerge;for(var O=1/0,C=b.posAxis._id.charAt(0),k=[],w=0;w<y.length;w++){for(var T=y[w],R=0;R<T.length;R++){var M=T[R],I=M.p;I===void 0&&(I=M[C]),I!==void 0&&k.push(I)}T[0]&&T[0].width1&&(O=Math.min(T[0].width1,O))}this.positions=k;var V=g(k);this.distinctPositions=V.vals,V.vals.length===1&&O!==1/0?this.minDiff=O:this.minDiff=Math.min(V.minDiff,O);var N=(b.posAxis||{}).type;(N==="category"||N==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}v.prototype.put=function(b,O){var C=this.getLabel(b,O),k=this.bins[C]||0;return this.bins[C]=k+O,k},v.prototype.get=function(b,O){var C=this.getLabel(b,O);return this.bins[C]||0},v.prototype.getLabel=function(b,O){var C=O<0&&this.sepNegVal?"v":"^",k=this.overlapNoMerge?b:Math.round(b/this.binWidth);return C+k}},6688:function(f,h,c){var g=c(9898),v=c(7901),y=c(1424),b=c(1828),O=c(3972),C=c(2597).resizeText,k=c(1486),w=k.textfont,T=k.insidetextfont,R=k.outsidetextfont,M=c(9383);function I(L){var me=g.select(L).selectAll("g.barlayer").selectAll("g.trace");C(L,me,"bar");var ae=me.size(),q=L._fullLayout;me.style("opacity",function(de){return de[0].trace.opacity}).each(function(de){(q.barmode==="stack"&&ae>1||q.bargap===0&&q.bargroupgap===0&&!de[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),me.selectAll("g.points").each(function(de){var ee=g.select(this),xe=de[0].trace;V(ee,xe,L)}),O.getComponentMethod("errorbars","style")(me)}function V(L,me,ae){y.pointStyle(L.selectAll("path"),me,ae),N(L,me,ae)}function N(L,me,ae){L.selectAll("text").each(function(q){var de=g.select(this),ee=b.ensureUniformFontSize(ae,F(de,q,me,ae));y.font(de,ee)})}function Q(L,me,ae){var q=me[0].trace;q.selectedpoints?z(ae,q,L):(V(ae,q,L),O.getComponentMethod("errorbars","style")(ae))}function z(L,me,ae){y.selectedPointStyle(L.selectAll("path"),me),U(L.selectAll("text"),me,ae)}function U(L,me,ae){L.each(function(q){var de=g.select(this),ee;if(q.selected){ee=b.ensureUniformFontSize(ae,F(de,q,me,ae));var xe=me.selected.textfont&&me.selected.textfont.color;xe&&(ee.color=xe),y.font(de,ee)}else y.selectedTextStyle(de,me)})}function F(L,me,ae,q){var de=q._fullLayout.font,ee=ae.textfont;if(L.classed("bartext-inside")){var xe=ie(me,ae);ee=E(ae,me.i,de,xe)}else L.classed("bartext-outside")&&(ee=W(ae,me.i,de));return ee}function B(L,me,ae){return X(w,L.textfont,me,ae)}function E(L,me,ae,q){var de=B(L,me,ae),ee=L._input.textfont===void 0||L._input.textfont.color===void 0||Array.isArray(L.textfont.color)&&L.textfont.color[me]===void 0;return ee&&(de={color:v.contrast(q),family:de.family,size:de.size}),X(T,L.insidetextfont,me,de)}function W(L,me,ae){var q=B(L,me,ae);return X(R,L.outsidetextfont,me,q)}function X(L,me,ae,q){me=me||{};var de=M.getValue(me.family,ae),ee=M.getValue(me.size,ae),xe=M.getValue(me.color,ae);return{family:M.coerceString(L.family,de,q.family),size:M.coerceNumber(L.size,ee,q.size),color:M.coerceColor(L.color,xe,q.color)}}function ie(L,me){return me.type==="waterfall"?me[L.dir].marker.color:L.mcc||L.mc||me.marker.color}f.exports={style:I,styleTextPoints:N,styleOnSelect:Q,getInsideTextFont:E,getOutsideTextFont:W,getBarColor:ie,resizeText:C}},8340:function(f,h,c){var g=c(7901),v=c(2869).hasColorscale,y=c(1586),b=c(1828).coercePattern;f.exports=function(C,k,w,T,R){var M=w("marker.color",T),I=v(C,"marker");I&&y(C,k,R,w,{prefix:"marker.",cLetter:"c"}),w("marker.line.color",g.defaultLine),v(C,"marker.line")&&y(C,k,R,w,{prefix:"marker.line.",cLetter:"c"}),w("marker.line.width"),w("marker.opacity"),b(w,"marker.pattern",M,I),w("selected.marker.color"),w("unselected.marker.color")}},2597:function(f,h,c){var g=c(9898),v=c(1828);function y(k,w,T){var R=k._fullLayout,M=R["_"+T+"Text_minsize"];if(M){var I=R.uniformtext.mode==="hide",V;switch(T){case"funnelarea":case"pie":case"sunburst":V="g.slice";break;case"treemap":case"icicle":V="g.slice, g.pathbar";break;default:V="g.points > g.point"}w.selectAll(V).each(function(N){var Q=N.transform;if(Q){Q.scale=I&&Q.hide?0:M/Q.fontSize;var z=g.select(this).select("text");v.setTransormAndDisplay(z,Q)}})}}function b(k,w,T){if(T.uniformtext.mode){var R=C(k),M=T.uniformtext.minsize,I=w.scale*w.fontSize;w.hide=I<M,T[R]=T[R]||1/0,w.hide||(T[R]=Math.min(T[R],Math.max(I,M)))}}function O(k,w){var T=C(k);w[T]=void 0}function C(k){return"_"+k+"Text_minsize"}f.exports={recordMinTextSize:b,clearMinTextSize:O,resizeText:y}},4e3:function(f,h,c){var g=c(9012),v=c(7670).Y,y=c(1940),b=c(2399),O=c(5386).fF,C=c(5386).si,k=c(1426).extendFlat,w=c(9952).u,T=y({editType:"plot",arrayOk:!0,colorEditType:"plot"});f.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:b.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:w,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:k({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:O({},{keys:["label","color","value","percent","text"]}),texttemplate:C({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:k({},T,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:k({},T,{}),outsidetextfont:k({},T,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:k({},T,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:v({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:k({},T,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(f,h,c){var g=c(4875);h.name="pie",h.plot=function(v,y,b,O){g.plotBasePlot(h.name,v,y,b,O)},h.clean=function(v,y,b,O){g.cleanBasePlot(h.name,v,y,b,O)}},2354:function(f,h,c){var g=c(2770),v=c(4267),y=c(7901),b={};function O(T,R){var M=[],I=T._fullLayout,V=I.hiddenlabels||[],N=R.labels,Q=R.marker.colors||[],z=R.values,U=R._length,F=R._hasValues&&U,B,E;if(R.dlabel)for(N=new Array(U),B=0;B<U;B++)N[B]=String(R.label0+B*R.dlabel);var W={},X=C(I["_"+R.type+"colormap"]),ie=0,L=!1;for(B=0;B<U;B++){var me,ae,q;if(F){if(me=z[B],!g(me))continue;me=+me}else me=1;ae=N[B],(ae===void 0||ae==="")&&(ae=B),ae=String(ae);var de=W[ae];de===void 0?(W[ae]=M.length,q=V.indexOf(ae)!==-1,q||(ie+=me),M.push({v:me,label:ae,color:X(Q[B],ae),i:B,pts:[B],hidden:q})):(L=!0,E=M[de],E.v+=me,E.pts.push(B),E.hidden||(ie+=me),E.color===!1&&Q[B]&&(E.color=X(Q[B],ae)))}M=M.filter(function(xe){return xe.v>=0});var ee=R.type==="funnelarea"?L:R.sort;return ee&&M.sort(function(xe,we){return we.v-xe.v}),M[0]&&(M[0].vTotal=ie),M}function C(T){return function(M,I){return!M||(M=v(M),!M.isValid())?!1:(M=y.addOpacity(M,M.getAlpha()),T[I]||(T[I]=M),M)}}function k(T,R){var M=(R||{}).type;M||(M="pie");var I=T._fullLayout,V=T.calcdata,N=I[M+"colorway"],Q=I["_"+M+"colormap"];I["extend"+M+"colors"]&&(N=w(N,b));for(var z=0,U=0;U<V.length;U++){var F=V[U],B=F[0].trace.type;if(B===M)for(var E=0;E<F.length;E++){var W=F[E];W.color===!1&&(Q[W.label]?W.color=Q[W.label]:(Q[W.label]=W.color=N[z%N.length],z++))}}}function w(T,R){var M,I=JSON.stringify(T),V=R[I];if(!V){for(V=T.slice(),M=0;M<T.length;M++)V.push(v(T[M]).lighten(20).toHexString());for(M=0;M<T.length;M++)V.push(v(T[M]).darken(20).toHexString());R[I]=V}return V}f.exports={calc:O,crossTraceCalc:k,makePullColorFn:C,generateExtendedColors:w}},7434:function(f,h,c){var g=c(2770),v=c(1828),y=c(4e3),b=c(7670).c,O=c(769).handleText,C=c(1828).coercePattern;function k(R,M){var I=Array.isArray(R),V=v.isArrayOrTypedArray(M),N=Math.min(I?R.length:1/0,V?M.length:1/0);if(isFinite(N)||(N=0),N&&V){for(var Q,z=0;z<N;z++){var U=M[z];if(g(U)&&U>0){Q=!0;break}}Q||(N=0)}return{hasLabels:I,hasValues:V,len:N}}function w(R,M,I,V,N){var Q=V("marker.line.width");Q&&V("marker.line.color",N?void 0:I.paper_bgcolor);var z=V("marker.colors");C(V,"marker.pattern",z),R.marker&&!M.marker.pattern.fgcolor&&(M.marker.pattern.fgcolor=R.marker.colors),M.marker.pattern.bgcolor||(M.marker.pattern.bgcolor=I.paper_bgcolor)}function T(R,M,I,V){function N(de,ee){return v.coerce(R,M,y,de,ee)}var Q=N("labels"),z=N("values"),U=k(Q,z),F=U.len;if(M._hasLabels=U.hasLabels,M._hasValues=U.hasValues,!M._hasLabels&&M._hasValues&&(N("label0"),N("dlabel")),!F){M.visible=!1;return}M._length=F,w(R,M,V,N,!0),N("scalegroup");var B=N("text"),E=N("texttemplate"),W;if(E||(W=N("textinfo",Array.isArray(B)?"text+percent":"percent")),N("hovertext"),N("hovertemplate"),E||W&&W!=="none"){var X=N("textposition");O(R,M,V,N,X,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var ie=Array.isArray(X)||X==="auto",L=ie||X==="outside";L&&N("automargin"),(X==="inside"||X==="auto"||Array.isArray(X))&&N("insidetextorientation")}b(M,V,N);var me=N("hole"),ae=N("title.text");if(ae){var q=N("title.position",me?"middle center":"top center");!me&&q==="middle center"&&(M.title.position="top center"),v.coerceFont(N,"title.font",V.font)}N("sort"),N("direction"),N("rotation"),N("pull")}f.exports={handleLabelsAndValues:k,handleMarkerDefaults:w,supplyDefaults:T}},7:function(f,h,c){var g=c(3469).appendArrayMultiPointValues;f.exports=function(y,b){var O={curveNumber:b.index,pointNumbers:y.pts,data:b._input,fullData:b,label:y.label,color:y.color,value:y.v,percent:y.percent,text:y.text,bbox:y.bbox,v:y.v};return y.pts.length===1&&(O.pointNumber=O.i=y.pts[0]),g(O,b,y.pts),b.type==="funnelarea"&&(delete O.v,delete O.i),O}},2209:function(f,h,c){var g=c(1424),v=c(7901);f.exports=function(b,O,C,k){var w=C.marker.pattern;w&&w.shape?g.pointStyle(b,C,k,O):v.fill(b,O.color)}},3581:function(f,h,c){var g=c(1828);function v(y){return y.indexOf("e")!==-1?y.replace(/[.]?0+e/,"e"):y.indexOf(".")!==-1?y.replace(/[.]?0+$/,""):y}h.formatPiePercent=function(b,O){var C=v((b*100).toPrecision(3));return g.numSeparate(C,O)+"%"},h.formatPieValue=function(b,O){var C=v(b.toPrecision(10));return g.numSeparate(C,O)},h.getFirstFilled=function(b,O){if(Array.isArray(b))for(var C=0;C<O.length;C++){var k=b[O[C]];if(k||k===0||k==="")return k}},h.castOption=function(b,O){if(Array.isArray(b))return h.getFirstFilled(b,O);if(b)return b},h.getRotationAngle=function(y){return(y==="auto"?0:y)*Math.PI/180}},8810:function(f,h,c){f.exports={attributes:c(4e3),supplyDefaults:c(7434).supplyDefaults,supplyLayoutDefaults:c(2097),layoutAttributes:c(7550),calc:c(2354).calc,crossTraceCalc:c(2354).crossTraceCalc,plot:c(4575).plot,style:c(8357),styleOne:c(3463),moduleType:"trace",name:"pie",basePlotModule:c(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(f){f.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(f,h,c){var g=c(1828),v=c(7550);f.exports=function(b,O){function C(k,w){return g.coerce(b,O,v,k,w)}C("hiddenlabels"),C("piecolorway",O.colorway),C("extendpiecolors")}},4575:function(f,h,c){var g=c(9898),v=c(4875),y=c(211),b=c(7901),O=c(1424),C=c(1828),k=C.strScale,w=C.strTranslate,T=c(3893),R=c(2597),M=R.recordMinTextSize,I=R.clearMinTextSize,V=c(7313).TEXTPAD,N=c(3581),Q=c(7),z=c(1828).isValidTextValue;function U(Ie,re){var be=Ie._context.staticPlot,te=Ie._fullLayout,se=te._size;I("pie",te),X(re,Ie),Oe(re,se);var fe=C.makeTraceGroups(te._pielayer,re,"trace").each(function(oe){var Se=g.select(this),ce=oe[0],ke=ce.trace;Ce(oe),Se.attr("stroke-linejoin","round"),Se.each(function(){var Qe=g.select(this).selectAll("g.slice").data(oe);Qe.enter().append("g").classed("slice",!0),Qe.exit().remove();var Ze=[[[],[]],[[],[]]],Xe=!1;Qe.each(function(tt,wt){if(tt.hidden){g.select(this).selectAll("path,g").remove();return}tt.pointNumber=tt.i,tt.curveNumber=ke.index,Ze[tt.pxmid[1]<0?0:1][tt.pxmid[0]<0?0:1].push(tt);var Xt=ce.cx,Gt=ce.cy,Nt=g.select(this),Bt=Nt.selectAll("path.surface").data([tt]);if(Bt.enter().append("path").classed("surface",!0).style({"pointer-events":be?"none":"all"}),Nt.call(B,Ie,oe),ke.pull){var vn=+N.castOption(ke.pull,tt.pts)||0;vn>0&&(Xt+=vn*tt.pxmid[0],Gt+=vn*tt.pxmid[1])}tt.cxFinal=Xt,tt.cyFinal=Gt;function En(Sn,lt,ut,xt){var gt=xt*(lt[0]-Sn[0]),Dt=xt*(lt[1]-Sn[1]);return"a"+xt*ce.r+","+xt*ce.r+" 0 "+tt.largeArc+(ut?" 1 ":" 0 ")+gt+","+Dt}var ln=ke.hole;if(tt.v===ce.vTotal){var Yn="M"+(Xt+tt.px0[0])+","+(Gt+tt.px0[1])+En(tt.px0,tt.pxmid,!0,1)+En(tt.pxmid,tt.px0,!0,1)+"Z";ln?Bt.attr("d","M"+(Xt+ln*tt.px0[0])+","+(Gt+ln*tt.px0[1])+En(tt.px0,tt.pxmid,!1,ln)+En(tt.pxmid,tt.px0,!1,ln)+"Z"+Yn):Bt.attr("d",Yn)}else{var an=En(tt.px0,tt.px1,!0,1);if(ln){var wn=1-ln;Bt.attr("d","M"+(Xt+ln*tt.px1[0])+","+(Gt+ln*tt.px1[1])+En(tt.px1,tt.px0,!1,ln)+"l"+wn*tt.px0[0]+","+wn*tt.px0[1]+an+"Z")}else Bt.attr("d","M"+Xt+","+Gt+"l"+tt.px0[0]+","+tt.px0[1]+an+"Z")}Ve(Ie,tt,ce);var Xn=N.castOption(ke.textposition,tt.pts),Un=Nt.selectAll("g.slicetext").data(tt.text&&Xn!=="none"?[0]:[]);Un.enter().append("g").classed("slicetext",!0),Un.exit().remove(),Un.each(function(){var Sn=C.ensureSingle(g.select(this),"text","",function(dt){dt.attr("data-notex",1)}),lt=C.ensureUniformFontSize(Ie,Xn==="outside"?E(ke,tt,te.font):W(ke,tt,te.font));Sn.text(tt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(O.font,lt).call(T.convertToTspans,Ie);var ut=O.bBox(Sn.node()),xt;if(Xn==="outside")xt=we(ut,tt);else if(xt=ie(ut,tt,ce),Xn==="auto"&&xt.scale<1){var gt=C.ensureUniformFontSize(Ie,ke.outsidetextfont);Sn.call(O.font,gt),ut=O.bBox(Sn.node()),xt=we(ut,tt)}var Dt=xt.textPosAngle,He=Dt===void 0?tt.pxmid:De(ce.r,Dt);if(xt.targetX=Xt+He[0]*xt.rCenter+(xt.x||0),xt.targetY=Gt+He[1]*xt.rCenter+(xt.y||0),_e(xt,ut),xt.outside){var at=xt.targetY;tt.yLabelMin=at-ut.height/2,tt.yLabelMid=at,tt.yLabelMax=at+ut.height/2,tt.labelExtraX=0,tt.labelExtraY=0,Xe=!0}xt.fontSize=lt.size,M(ke.type,xt,te),oe[wt].transform=xt,C.setTransormAndDisplay(Sn,xt)})});var ct=g.select(this).selectAll("g.titletext").data(ke.title.text?[0]:[]);if(ct.enter().append("g").classed("titletext",!0),ct.exit().remove(),ct.each(function(){var tt=C.ensureSingle(g.select(this),"text","",function(Gt){Gt.attr("data-notex",1)}),wt=ke.title.text;ke._meta&&(wt=C.templateString(wt,ke._meta)),tt.text(wt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(O.font,ke.title.font).call(T.convertToTspans,Ie);var Xt;ke.title.position==="middle center"?Xt=Be(ce):Xt=pe(ce,se),tt.attr("transform",w(Xt.x,Xt.y)+k(Math.min(1,Xt.scale))+w(Xt.tx,Xt.ty))}),Xe&&ve(Ze,ke),F(Qe,ke),Xe&&ke.automargin){var pt=O.bBox(Se.node()),Ye=ke.domain,je=se.w*(Ye.x[1]-Ye.x[0]),et=se.h*(Ye.y[1]-Ye.y[0]),yt=(.5*je-ce.r)/se.w,ft=(.5*et-ce.r)/se.h;v.autoMargin(Ie,"pie."+ke.uid+".automargin",{xl:Ye.x[0]-yt,xr:Ye.x[1]+yt,yb:Ye.y[0]-ft,yt:Ye.y[1]+ft,l:Math.max(ce.cx-ce.r-pt.left,0),r:Math.max(pt.right-(ce.cx+ce.r),0),b:Math.max(pt.bottom-(ce.cy+ce.r),0),t:Math.max(ce.cy-ce.r-pt.top,0),pad:5})}})});setTimeout(function(){fe.selectAll("tspan").each(function(){var oe=g.select(this);oe.attr("dy")&&oe.attr("dy",oe.attr("dy"))})},0)}function F(Ie,re){Ie.each(function(be){var te=g.select(this);if(!be.labelExtraX&&!be.labelExtraY){te.select("path.textline").remove();return}var se=te.select("g.slicetext text");be.transform.targetX+=be.labelExtraX,be.transform.targetY+=be.labelExtraY,C.setTransormAndDisplay(se,be.transform);var fe=be.cxFinal+be.pxmid[0],oe=be.cyFinal+be.pxmid[1],Se="M"+fe+","+oe,ce=(be.yLabelMax-be.yLabelMin)*(be.pxmid[0]<0?-1:1)/4;if(be.labelExtraX){var ke=be.labelExtraX*be.pxmid[1]/be.pxmid[0],Qe=be.yLabelMid+be.labelExtraY-(be.cyFinal+be.pxmid[1]);Math.abs(ke)>Math.abs(Qe)?Se+="l"+Qe*be.pxmid[0]/be.pxmid[1]+","+Qe+"H"+(fe+be.labelExtraX+ce):Se+="l"+be.labelExtraX+","+ke+"v"+(Qe-ke)+"h"+ce}else Se+="V"+(be.yLabelMid+be.labelExtraY)+"h"+ce;C.ensureSingle(te,"path","textline").call(b.stroke,re.outsidetextfont.color).attr({"stroke-width":Math.min(2,re.outsidetextfont.size/8),d:Se,fill:"none"})})}function B(Ie,re,be){var te=be[0],se=te.cx,fe=te.cy,oe=te.trace,Se=oe.type==="funnelarea";"_hasHoverLabel"in oe||(oe._hasHoverLabel=!1),"_hasHoverEvent"in oe||(oe._hasHoverEvent=!1),Ie.on("mouseover",function(ce){var ke=re._fullLayout,Qe=re._fullData[oe.index];if(!(re._dragging||ke.hovermode===!1)){var Ze=Qe.hoverinfo;if(Array.isArray(Ze)&&(Ze=y.castHoverinfo({hoverinfo:[N.castOption(Ze,ce.pts)],_module:oe._module},ke,0)),Ze==="all"&&(Ze="label+text+value+percent+name"),Qe.hovertemplate||Ze!=="none"&&Ze!=="skip"&&Ze){var Xe=ce.rInscribed||0,ct=se+ce.pxmid[0]*(1-Xe),pt=fe+ce.pxmid[1]*(1-Xe),Ye=ke.separators,je=[];if(Ze&&Ze.indexOf("label")!==-1&&je.push(ce.label),ce.text=N.castOption(Qe.hovertext||Qe.text,ce.pts),Ze&&Ze.indexOf("text")!==-1){var et=ce.text;C.isValidTextValue(et)&&je.push(et)}ce.value=ce.v,ce.valueLabel=N.formatPieValue(ce.v,Ye),Ze&&Ze.indexOf("value")!==-1&&je.push(ce.valueLabel),ce.percent=ce.v/te.vTotal,ce.percentLabel=N.formatPiePercent(ce.percent,Ye),Ze&&Ze.indexOf("percent")!==-1&&je.push(ce.percentLabel);var yt=Qe.hoverlabel,ft=yt.font,tt=[];y.loneHover({trace:oe,x0:ct-Xe*te.r,x1:ct+Xe*te.r,y:pt,_x0:Se?se+ce.TL[0]:ct-Xe*te.r,_x1:Se?se+ce.TR[0]:ct+Xe*te.r,_y0:Se?fe+ce.TL[1]:pt-Xe*te.r,_y1:Se?fe+ce.BL[1]:pt+Xe*te.r,text:je.join("<br>"),name:Qe.hovertemplate||Ze.indexOf("name")!==-1?Qe.name:void 0,idealAlign:ce.pxmid[0]<0?"left":"right",color:N.castOption(yt.bgcolor,ce.pts)||ce.color,borderColor:N.castOption(yt.bordercolor,ce.pts),fontFamily:N.castOption(ft.family,ce.pts),fontSize:N.castOption(ft.size,ce.pts),fontColor:N.castOption(ft.color,ce.pts),nameLength:N.castOption(yt.namelength,ce.pts),textAlign:N.castOption(yt.align,ce.pts),hovertemplate:N.castOption(Qe.hovertemplate,ce.pts),hovertemplateLabels:ce,eventData:[Q(ce,Qe)]},{container:ke._hoverlayer.node(),outerContainer:ke._paper.node(),gd:re,inOut_bbox:tt}),ce.bbox=tt[0],oe._hasHoverLabel=!0}oe._hasHoverEvent=!0,re.emit("plotly_hover",{points:[Q(ce,Qe)],event:g.event})}}),Ie.on("mouseout",function(ce){var ke=re._fullLayout,Qe=re._fullData[oe.index],Ze=g.select(this).datum();oe._hasHoverEvent&&(ce.originalEvent=g.event,re.emit("plotly_unhover",{points:[Q(Ze,Qe)],event:g.event}),oe._hasHoverEvent=!1),oe._hasHoverLabel&&(y.loneUnhover(ke._hoverlayer.node()),oe._hasHoverLabel=!1)}),Ie.on("click",function(ce){var ke=re._fullLayout,Qe=re._fullData[oe.index];re._dragging||ke.hovermode===!1||(re._hoverdata=[Q(ce,Qe)],y.click(re,g.event))})}function E(Ie,re,be){var te=N.castOption(Ie.outsidetextfont.color,re.pts)||N.castOption(Ie.textfont.color,re.pts)||be.color,se=N.castOption(Ie.outsidetextfont.family,re.pts)||N.castOption(Ie.textfont.family,re.pts)||be.family,fe=N.castOption(Ie.outsidetextfont.size,re.pts)||N.castOption(Ie.textfont.size,re.pts)||be.size;return{color:te,family:se,size:fe}}function W(Ie,re,be){var te=N.castOption(Ie.insidetextfont.color,re.pts);!te&&Ie._input.textfont&&(te=N.castOption(Ie._input.textfont.color,re.pts));var se=N.castOption(Ie.insidetextfont.family,re.pts)||N.castOption(Ie.textfont.family,re.pts)||be.family,fe=N.castOption(Ie.insidetextfont.size,re.pts)||N.castOption(Ie.textfont.size,re.pts)||be.size;return{color:te||b.contrast(re.color),family:se,size:fe}}function X(Ie,re){for(var be,te,se=0;se<Ie.length;se++)if(be=Ie[se][0],te=be.trace,te.title.text){var fe=te.title.text;te._meta&&(fe=C.templateString(fe,te._meta));var oe=O.tester.append("text").attr("data-notex",1).text(fe).call(O.font,te.title.font).call(T.convertToTspans,re),Se=O.bBox(oe.node(),!0);be.titleBox={width:Se.width,height:Se.height},oe.remove()}}function ie(Ie,re,be){var te=be.r||re.rpx1,se=re.rInscribed,fe=re.startangle===re.stopangle;if(fe)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var oe=re.ring,Se=oe===1&&Math.abs(re.startangle-re.stopangle)===Math.PI*2,ce=re.halfangle,ke=re.midangle,Qe=be.trace.insidetextorientation,Ze=Qe==="horizontal",Xe=Qe==="tangential",ct=Qe==="radial",pt=Qe==="auto",Ye=[],je;if(!pt){var et=function(Nt,Bt){if(L(re,Nt)){var vn=Math.abs(Nt-re.startangle),En=Math.abs(Nt-re.stopangle),ln=vn<En?vn:En;Bt==="tan"?je=ae(Ie,te,oe,ln,0):je=me(Ie,te,oe,ln,Math.PI/2),je.textPosAngle=Nt,Ye.push(je)}},yt;if(Ze||Xe){for(yt=4;yt>=-4;yt-=2)et(Math.PI*yt,"tan");for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+1),"tan")}if(Ze||ct){for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+1.5),"rad");for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+.5),"rad")}}if(Se||pt||Ze){var ft=Math.sqrt(Ie.width*Ie.width+Ie.height*Ie.height);if(je={scale:se*te*2/ft,rCenter:1-se,rotate:0},je.textPosAngle=(re.startangle+re.stopangle)/2,je.scale>=1)return je;Ye.push(je)}(pt||ct)&&(je=me(Ie,te,oe,ce,ke),je.textPosAngle=(re.startangle+re.stopangle)/2,Ye.push(je)),(pt||Xe)&&(je=ae(Ie,te,oe,ce,ke),je.textPosAngle=(re.startangle+re.stopangle)/2,Ye.push(je));for(var tt=0,wt=0,Xt=0;Xt<Ye.length;Xt++){var Gt=Ye[Xt].scale;if(wt<Gt&&(wt=Gt,tt=Xt),!pt&&wt>=1)break}return Ye[tt]}function L(Ie,re){var be=Ie.startangle,te=Ie.stopangle;return be>re&&re>te||be<re&&re<te}function me(Ie,re,be,te,se){re=Math.max(0,re-2*V);var fe=Ie.width/Ie.height,oe=ee(fe,te,re,be);return{scale:oe*2/Ie.height,rCenter:q(fe,oe/re),rotate:de(se)}}function ae(Ie,re,be,te,se){re=Math.max(0,re-2*V);var fe=Ie.height/Ie.width,oe=ee(fe,te,re,be);return{scale:oe*2/Ie.width,rCenter:q(fe,oe/re),rotate:de(se+Math.PI/2)}}function q(Ie,re){return Math.cos(re)-Ie*re}function de(Ie){return(180/Math.PI*Ie+720)%180-90}function ee(Ie,re,be,te){var se=Ie+1/(2*Math.tan(re));return be*Math.min(1/(Math.sqrt(se*se+.5)+se),te/(Math.sqrt(Ie*Ie+te/2)+Ie))}function xe(Ie,re){return Ie.v===re.vTotal&&!re.trace.hole?1:Math.min(1/(1+1/Math.sin(Ie.halfangle)),Ie.ring/2)}function we(Ie,re){var be=re.pxmid[0],te=re.pxmid[1],se=Ie.width/2,fe=Ie.height/2;return be<0&&(se*=-1),te<0&&(fe*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(fe)*(se>0?1:-1)/2,y:fe/(1+be*be/(te*te)),outside:!0}}function Be(Ie){var re=Math.sqrt(Ie.titleBox.width*Ie.titleBox.width+Ie.titleBox.height*Ie.titleBox.height);return{x:Ie.cx,y:Ie.cy,scale:Ie.trace.hole*Ie.r*2/re,tx:0,ty:-Ie.titleBox.height/2+Ie.trace.title.font.size}}function pe(Ie,re){var be=1,te=1,se,fe=Ie.trace,oe={x:Ie.cx,y:Ie.cy},Se={tx:0,ty:0};Se.ty+=fe.title.font.size,se=Y(fe),fe.title.position.indexOf("top")!==-1?(oe.y-=(1+se)*Ie.r,Se.ty-=Ie.titleBox.height):fe.title.position.indexOf("bottom")!==-1&&(oe.y+=(1+se)*Ie.r);var ce=ne(Ie.r,Ie.trace.aspectratio),ke=re.w*(fe.domain.x[1]-fe.domain.x[0])/2;return fe.title.position.indexOf("left")!==-1?(ke=ke+ce,oe.x-=(1+se)*ce,Se.tx+=Ie.titleBox.width/2):fe.title.position.indexOf("center")!==-1?ke*=2:fe.title.position.indexOf("right")!==-1&&(ke=ke+ce,oe.x+=(1+se)*ce,Se.tx-=Ie.titleBox.width/2),be=ke/Ie.titleBox.width,te=le(Ie,re)/Ie.titleBox.height,{x:oe.x,y:oe.y,scale:Math.min(be,te),tx:Se.tx,ty:Se.ty}}function ne(Ie,re){return Ie/(re===void 0?1:re)}function le(Ie,re){var be=Ie.trace,te=re.h*(be.domain.y[1]-be.domain.y[0]);return Math.min(Ie.titleBox.height,te/2)}function Y(Ie){var re=Ie.pull;if(!re)return 0;var be;if(Array.isArray(re))for(re=0,be=0;be<Ie.pull.length;be++)Ie.pull[be]>re&&(re=Ie.pull[be]);return re}function ve(Ie,re){var be,te,se,fe,oe,Se,ce,ke,Qe,Ze,Xe,ct,pt;function Ye(ft,tt){return ft.pxmid[1]-tt.pxmid[1]}function je(ft,tt){return tt.pxmid[1]-ft.pxmid[1]}function et(ft,tt){tt||(tt={});var wt=tt.labelExtraY+(te?tt.yLabelMax:tt.yLabelMin),Xt=te?ft.yLabelMin:ft.yLabelMax,Gt=te?ft.yLabelMax:ft.yLabelMin,Nt=ft.cyFinal+oe(ft.px0[1],ft.px1[1]),Bt=wt-Xt,vn,En,ln,Yn,an,wn;if(Bt*ce>0&&(ft.labelExtraY=Bt),!!Array.isArray(re.pull))for(En=0;En<Ze.length;En++)ln=Ze[En],!(ln===ft||(N.castOption(re.pull,ft.pts)||0)>=(N.castOption(re.pull,ln.pts)||0))&&((ft.pxmid[1]-ln.pxmid[1])*ce>0?(Yn=ln.cyFinal+oe(ln.px0[1],ln.px1[1]),Bt=Yn-Xt-ft.labelExtraY,Bt*ce>0&&(ft.labelExtraY+=Bt)):(Gt+ft.labelExtraY-Nt)*ce>0&&(vn=3*Se*Math.abs(En-Ze.indexOf(ft)),an=ln.cxFinal+fe(ln.px0[0],ln.px1[0]),wn=an+vn-(ft.cxFinal+ft.pxmid[0])-ft.labelExtraX,wn*Se>0&&(ft.labelExtraX+=wn)))}for(te=0;te<2;te++)for(se=te?Ye:je,oe=te?Math.max:Math.min,ce=te?1:-1,be=0;be<2;be++){for(fe=be?Math.max:Math.min,Se=be?1:-1,ke=Ie[te][be],ke.sort(se),Qe=Ie[1-te][be],Ze=Qe.concat(ke),ct=[],Xe=0;Xe<ke.length;Xe++)ke[Xe].yLabelMid!==void 0&&ct.push(ke[Xe]);for(pt=!1,Xe=0;te&&Xe<Qe.length;Xe++)if(Qe[Xe].yLabelMid!==void 0){pt=Qe[Xe];break}for(Xe=0;Xe<ct.length;Xe++){var yt=Xe&&ct[Xe-1];pt&&!Xe&&(yt=pt),et(ct[Xe],yt)}}}function Oe(Ie,re){for(var be=[],te=0;te<Ie.length;te++){var se=Ie[te][0],fe=se.trace,oe=fe.domain,Se=re.w*(oe.x[1]-oe.x[0]),ce=re.h*(oe.y[1]-oe.y[0]);fe.title.text&&fe.title.position!=="middle center"&&(ce-=le(se,re));var ke=Se/2,Qe=ce/2;fe.type==="funnelarea"&&!fe.scalegroup&&(Qe/=fe.aspectratio),se.r=Math.min(ke,Qe)/(1+Y(fe)),se.cx=re.l+re.w*(fe.domain.x[1]+fe.domain.x[0])/2,se.cy=re.t+re.h*(1-fe.domain.y[0])-ce/2,fe.title.text&&fe.title.position.indexOf("bottom")!==-1&&(se.cy-=le(se,re)),fe.scalegroup&&be.indexOf(fe.scalegroup)===-1&&be.push(fe.scalegroup)}Le(Ie,be)}function Le(Ie,re){for(var be,te,se,fe=0;fe<re.length;fe++){var oe=1/0,Se=re[fe];for(te=0;te<Ie.length;te++)if(be=Ie[te][0],se=be.trace,se.scalegroup===Se){var ce;if(se.type==="pie")ce=be.r*be.r;else if(se.type==="funnelarea"){var ke,Qe;se.aspectratio>1?(ke=be.r,Qe=ke/se.aspectratio):(Qe=be.r,ke=Qe*se.aspectratio),ke*=(1+se.baseratio)/2,ce=ke*Qe}oe=Math.min(oe,ce/be.vTotal)}for(te=0;te<Ie.length;te++)if(be=Ie[te][0],se=be.trace,se.scalegroup===Se){var Ze=oe*be.vTotal;se.type==="funnelarea"&&(Ze/=(1+se.baseratio)/2,Ze/=se.aspectratio),be.r=Math.sqrt(Ze)}}}function Ce(Ie){var re=Ie[0],be=re.r,te=re.trace,se=N.getRotationAngle(te.rotation),fe=2*Math.PI/re.vTotal,oe="px0",Se="px1",ce,ke,Qe;if(te.direction==="counterclockwise"){for(ce=0;ce<Ie.length&&Ie[ce].hidden;ce++);if(ce===Ie.length)return;se+=fe*Ie[ce].v,fe*=-1,oe="px1",Se="px0"}for(Qe=De(be,se),ce=0;ce<Ie.length;ce++)ke=Ie[ce],!ke.hidden&&(ke[oe]=Qe,ke.startangle=se,se+=fe*ke.v/2,ke.pxmid=De(be,se),ke.midangle=se,se+=fe*ke.v/2,Qe=De(be,se),ke.stopangle=se,ke[Se]=Qe,ke.largeArc=ke.v>re.vTotal/2?1:0,ke.halfangle=Math.PI*Math.min(ke.v/re.vTotal,.5),ke.ring=1-te.hole,ke.rInscribed=xe(ke,re))}function De(Ie,re){return[Ie*Math.sin(re),-Ie*Math.cos(re)]}function Ve(Ie,re,be){var te=Ie._fullLayout,se=be.trace,fe=se.texttemplate,oe=se.textinfo;if(!fe&&oe&&oe!=="none"){var Se=oe.split("+"),ce=function(tt){return Se.indexOf(tt)!==-1},ke=ce("label"),Qe=ce("text"),Ze=ce("value"),Xe=ce("percent"),ct=te.separators,pt;if(pt=ke?[re.label]:[],Qe){var Ye=N.getFirstFilled(se.text,re.pts);z(Ye)&&pt.push(Ye)}Ze&&pt.push(N.formatPieValue(re.v,ct)),Xe&&pt.push(N.formatPiePercent(re.v/be.vTotal,ct)),re.text=pt.join("<br>")}function je(tt){return{label:tt.label,value:tt.v,valueLabel:N.formatPieValue(tt.v,te.separators),percent:tt.v/be.vTotal,percentLabel:N.formatPiePercent(tt.v/be.vTotal,te.separators),color:tt.color,text:tt.text,customdata:C.castOption(se,tt.i,"customdata")}}if(fe){var et=C.castOption(se,re.i,"texttemplate");if(!et)re.text="";else{var yt=je(re),ft=N.getFirstFilled(se.text,re.pts);(z(ft)||ft==="")&&(yt.text=ft),re.text=C.texttemplateString(et,yt,Ie._fullLayout._d3locale,yt,se._meta||{})}}}function _e(Ie,re){var be=Ie.rotate*Math.PI/180,te=Math.cos(be),se=Math.sin(be),fe=(re.left+re.right)/2,oe=(re.top+re.bottom)/2;Ie.textX=fe*te-oe*se,Ie.textY=fe*se+oe*te,Ie.noCenter=!0}f.exports={plot:U,formatSliceLabel:Ve,transformInsideText:ie,determineInsideTextFont:W,positionTitleOutside:pe,prerenderTitles:X,layoutAreas:Oe,attachFxHandlers:B,computeTransform:_e}},8357:function(f,h,c){var g=c(9898),v=c(3463),y=c(2597).resizeText;f.exports=function(O){var C=O._fullLayout._pielayer.selectAll(".trace");y(O,C,"pie"),C.each(function(k){var w=k[0],T=w.trace,R=g.select(this);R.style({opacity:T.opacity}),R.selectAll("path.surface").each(function(M){g.select(this).call(v,M,T,O)})})}},3463:function(f,h,c){var g=c(7901),v=c(3581).castOption,y=c(2209);f.exports=function(O,C,k,w){var T=k.marker.line,R=v(T.color,C.pts)||g.defaultLine,M=v(T.width,C.pts)||0;O.call(y,C,k,w).style("stroke-width",M).call(g.stroke,R)}},5225:function(f,h,c){var g=c(1828);f.exports=function(y,b){for(var O=0;O<y.length;O++)y[O].i=O;g.mergeArray(b.text,y,"tx"),g.mergeArray(b.texttemplate,y,"txt"),g.mergeArray(b.hovertext,y,"htx"),g.mergeArray(b.customdata,y,"data"),g.mergeArray(b.textposition,y,"tp"),b.textfont&&(g.mergeArrayCastPositive(b.textfont.size,y,"ts"),g.mergeArray(b.textfont.color,y,"tc"),g.mergeArray(b.textfont.family,y,"tf"));var C=b.marker;if(C){g.mergeArrayCastPositive(C.size,y,"ms"),g.mergeArrayCastPositive(C.opacity,y,"mo"),g.mergeArray(C.symbol,y,"mx"),g.mergeArray(C.angle,y,"ma"),g.mergeArray(C.standoff,y,"mf"),g.mergeArray(C.color,y,"mc");var k=C.line;C.line&&(g.mergeArray(k.color,y,"mlc"),g.mergeArrayCastPositive(k.width,y,"mlw"));var w=C.gradient;w&&w.type!=="none"&&(g.mergeArray(w.type,y,"mgt"),g.mergeArray(w.color,y,"mgc"))}}},2196:function(f,h,c){var g=c(2663).axisHoverFormat,v=c(5386).si,y=c(5386).fF,b=c(693),O=c(1940),C=c(9952).P,k=c(9952).u,w=c(1424),T=c(7581),R=c(1426).extendFlat;function M(N){return{valType:"any",dflt:0,editType:"calc"}}function I(N){return{valType:"any",editType:"calc"}}function V(N){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}f.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:M(),yperiod:M(),xperiod0:I(),yperiod0:I(),xperiodalignment:V(),yperiodalignment:V(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:v({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:y({},{keys:T.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:R({},C,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:k,marker:R({symbol:{valType:"enumerated",values:w.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:R({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},b("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},b("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:O({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(f,h,c){var g=c(2770),v=c(1828),y=c(9298),b=c(2973),O=c(606).BADNUM,C=c(4098),k=c(6922),w=c(5225),T=c(6279);function R(z,U){var F=z._fullLayout,B=U._xA=y.getFromId(z,U.xaxis||"x","x"),E=U._yA=y.getFromId(z,U.yaxis||"y","y"),W=B.makeCalcdata(U,"x"),X=E.makeCalcdata(U,"y"),ie=b(U,B,"x",W),L=b(U,E,"y",X),me=ie.vals,ae=L.vals,q=U._length,de=new Array(q),ee=U.ids,xe=Q(U,F,B,E),we=!1,Be,pe,ne,le,Y,ve;V(F,U);var Oe="x",Le="y",Ce;if(xe)v.pushUnique(xe.traceIndices,U._expandedIndex),Be=xe.orientation==="v",Be?(Le="s",Ce="x"):(Oe="s",Ce="y"),Y=xe.stackgaps==="interpolate";else{var De=I(U,q);M(z,U,B,E,me,ae,De)}var Ve=!!U.xperiodalignment,_e=!!U.yperiodalignment;for(pe=0;pe<q;pe++){var Ie=de[pe]={},re=g(me[pe]),be=g(ae[pe]);re&&be?(Ie[Oe]=me[pe],Ie[Le]=ae[pe],Ve&&(Ie.orig_x=W[pe],Ie.xEnd=ie.ends[pe],Ie.xStart=ie.starts[pe]),_e&&(Ie.orig_y=X[pe],Ie.yEnd=L.ends[pe],Ie.yStart=L.starts[pe])):xe&&(Be?re:be)?(Ie[Ce]=Be?me[pe]:ae[pe],Ie.gap=!0,Y?(Ie.s=O,we=!0):Ie.s=0):Ie[Oe]=Ie[Le]=O,ee&&(Ie.id=String(ee[pe]))}if(w(de,U),k(z,U),T(de,U),xe){for(pe=0;pe<de.length;)de[pe][Ce]===O?de.splice(pe,1):pe++;if(v.sort(de,function(oe,Se){return oe[Ce]-Se[Ce]||oe.i-Se.i}),we){for(pe=0;pe<de.length-1&&de[pe].gap;)pe++;for(ve=de[pe].s,ve||(ve=de[pe].s=0),ne=0;ne<pe;ne++)de[ne].s=ve;for(le=de.length-1;le>pe&&de[le].gap;)le--;for(ve=de[le].s,ne=de.length-1;ne>le;ne--)de[ne].s=ve;for(;pe<le;)if(pe++,de[pe].gap){for(ne=pe+1;de[ne].gap;)ne++;for(var te=de[pe-1][Ce],se=de[pe-1].s,fe=(de[ne].s-se)/(de[ne][Ce]-te);pe<ne;)de[pe].s=se+(de[pe][Ce]-te)*fe,pe++}}}return de}function M(z,U,F,B,E,W,X){var ie=U._length,L=z._fullLayout,me=F._id,ae=B._id,q=L._firstScatter[N(U)]===U.uid,de=(Q(U,L,F,B)||{}).orientation,ee=U.fill;F._minDtick=0,B._minDtick=0;var xe={padded:!0},we={padded:!0};X&&(xe.ppad=we.ppad=X);var Be=ie<2||E[0]!==E[ie-1]||W[0]!==W[ie-1];Be&&(ee==="tozerox"||ee==="tonextx"&&(q||de==="h"))?xe.tozero=!0:!(U.error_y||{}).visible&&(ee==="tonexty"||ee==="tozeroy"||!C.hasMarkers(U)&&!C.hasText(U))&&(xe.padded=!1,xe.ppad=0),Be&&(ee==="tozeroy"||ee==="tonexty"&&(q||de==="v"))?we.tozero=!0:(ee==="tonextx"||ee==="tozerox")&&(we.padded=!1),me&&(U._extremes[me]=y.findExtremes(F,E,xe)),ae&&(U._extremes[ae]=y.findExtremes(B,W,we))}function I(z,U){if(C.hasMarkers(z)){var F=z.marker,B=1.6*(z.marker.sizeref||1),E;if(z.marker.sizemode==="area"?E=function(me){return Math.max(Math.sqrt((me||0)/B),3)}:E=function(me){return Math.max((me||0)/B,3)},v.isArrayOrTypedArray(F.size)){var W={type:"linear"};y.setConvert(W);for(var X=W.makeCalcdata(z.marker,"size"),ie=new Array(U),L=0;L<U;L++)ie[L]=E(X[L]);return ie}else return E(F.size)}}function V(z,U){var F=N(U),B=z._firstScatter;B[F]||(B[F]=U.uid)}function N(z){var U=z.stackgroup;return z.xaxis+z.yaxis+z.type+(U?"-"+U:"")}function Q(z,U,F,B){var E=z.stackgroup;if(E){var W=U._scatterStackOpts[F._id+B._id][E],X=W.orientation==="v"?B:F;if(X.type==="linear"||X.type==="log")return W}}f.exports={calc:R,calcMarkerSize:I,calcAxisExpansion:M,setFirstScatter:V,getStackOpts:Q}},6279:function(f,h,c){var g=c(1828);f.exports=function(y,b){g.isArrayOrTypedArray(b.selectedpoints)&&g.tagSelected(y,b)}},6922:function(f,h,c){var g=c(2869).hasColorscale,v=c(8803),y=c(4098);f.exports=function(O,C){y.hasLines(C)&&g(C,"line")&&v(O,C,{vals:C.line.color,containerStr:"line",cLetter:"c"}),y.hasMarkers(C)&&(g(C,"marker")&&v(O,C,{vals:C.marker.color,containerStr:"marker",cLetter:"c"}),g(C,"marker.line")&&v(O,C,{vals:C.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(f){f.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(f,h,c){var g=c(7761),v=c(1661).setGroupPositions;function y(C,k){for(var w=k.xaxis,T=k.yaxis,R=C._fullLayout,M=C._fullData,I=C.calcdata,V=[],N=[],Q=0;Q<M.length;Q++){var z=M[Q];z.visible===!0&&z.type==="scatter"&&z.xaxis===w._id&&z.yaxis===T._id&&(z.orientation==="h"?V.push(I[Q]):z.orientation==="v"&&N.push(I[Q]))}var U={mode:R.scattermode,gap:R.scattergap};v(C,w,T,N,U),v(C,T,w,V,U)}f.exports=function(k,w){k._fullLayout.scattermode==="group"&&y(k,w);var T=w.xaxis,R=w.yaxis,M=T._id+R._id,I=k._fullLayout._scatterStackOpts[M];if(I){var V=k.calcdata,N,Q,z,U,F,B,E,W,X,ie,L,me,ae,q,de;for(var ee in I){ie=I[ee];var xe=ie.traceIndices;if(xe.length){for(L=ie.stackgaps==="interpolate",me=ie.groupnorm,ie.orientation==="v"?(ae="x",q="y"):(ae="y",q="x"),de=new Array(xe.length),N=0;N<de.length;N++)de[N]=!1;B=V[xe[0]];var we=new Array(B.length);for(N=0;N<B.length;N++)we[N]=B[N][ae];for(N=1;N<xe.length;N++){for(F=V[xe[N]],Q=z=0;Q<F.length;Q++){for(E=F[Q][ae];E>we[z]&&z<we.length;z++)b(F,Q,we[z],N,de,L,ae),Q++;if(E!==we[z]){for(U=0;U<N;U++)b(V[xe[U]],z,E,U,de,L,ae);we.splice(z,0,E)}z++}for(;z<we.length;z++)b(F,Q,we[z],N,de,L,ae),Q++}var Be=we.length;for(Q=0;Q<B.length;Q++){for(W=B[Q][q]=B[Q].s,N=1;N<xe.length;N++)F=V[xe[N]],F[0].trace._rawLength=F[0].trace._length,F[0].trace._length=Be,W+=F[Q].s,F[Q][q]=W;if(me)for(X=(me==="fraction"?W:W/100)||1,N=0;N<xe.length;N++){var pe=V[xe[N]][Q];pe[q]/=X,pe.sNorm=pe.s/X}}for(N=0;N<xe.length;N++){F=V[xe[N]];var ne=F[0].trace,le=g.calcMarkerSize(ne,ne._rawLength),Y=Array.isArray(le);if(le&&de[N]||Y){var ve=le;for(le=new Array(Be),Q=0;Q<Be;Q++)le[Q]=F[Q].gap?0:Y?ve[F[Q].i]:ve}var Oe=new Array(Be),Le=new Array(Be);for(Q=0;Q<Be;Q++)Oe[Q]=F[Q].x,Le[Q]=F[Q].y;g.calcAxisExpansion(k,ne,T,R,Oe,Le,le),F[0].t.orientation=ie.orientation}}}}};function b(C,k,w,T,R,M,I){R[T]=!0;var V={i:null,gap:!0,s:0};if(V[I]=w,C.splice(k,0,V),k&&w===C[k-1][I]){var N=C[k-1];V.s=N.s,V.i=N.i,V.gap=N.gap}else M&&(V.s=O(C,k,w,I));k||(C[0].t=C[1].t,C[0].trace=C[1].trace,delete C[1].t,delete C[1].trace)}function O(C,k,w,T){var R=C[k-1],M=C[k+1];return M?R?R.s+(M.s-R.s)*(w-R[T])/(M[T]-R[T]):M.s:R.s}},462:function(f,h,c){var g=c(1828),v=c(6125),y=c(2196);f.exports=function(O,C){var k,w,T;function R(Q){return g.coerce(w._input,w,y,Q)}if(C.scattermode==="group")for(T=0;T<O.length;T++)w=O[T],w.type==="scatter"&&(k=w._input,v(k,w,C,R));for(T=0;T<O.length;T++){var M=O[T];if(M.type==="scatter"){var I=M.fill;if(!(I==="none"||I==="toself")&&(M.opacity=void 0,I==="tonexty"||I==="tonextx"))for(var V=T-1;V>=0;V--){var N=O[V];if(N.type==="scatter"&&N.xaxis===M.xaxis&&N.yaxis===M.yaxis){N.opacity=void 0;break}}}}}},7438:function(f,h,c){var g=c(1828),v=c(3972),y=c(2196),b=c(7581),O=c(4098),C=c(7513),k=c(3927),w=c(565),T=c(9508),R=c(1058),M=c(4039),I=c(2410),V=c(8908),N=c(1828).coercePattern;f.exports=function(z,U,F,B){function E(de,ee){return g.coerce(z,U,y,de,ee)}var W=C(z,U,B,E);if(W||(U.visible=!1),!!U.visible){k(z,U,B,E),E("xhoverformat"),E("yhoverformat");var X=w(z,U,B,E);B.scattermode==="group"&&U.orientation===void 0&&E("orientation","v");var ie=!X&&W<b.PTS_LINESONLY?"lines+markers":"lines";E("text"),E("hovertext"),E("mode",ie),O.hasLines(U)&&(R(z,U,F,B,E,{backoff:!0}),M(z,U,E),E("connectgaps"),E("line.simplify")),O.hasMarkers(U)&&T(z,U,F,B,E,{gradient:!0}),O.hasText(U)&&(E("texttemplate"),I(z,U,B,E));var L=[];(O.hasMarkers(U)||O.hasText(U))&&(E("cliponaxis"),E("marker.maxdisplayed"),L.push("points")),E("fill",X?X.fillDflt:"none"),U.fill!=="none"&&(V(z,U,F,E),O.hasLines(U)||M(z,U,E),N(E,"fillpattern",U.fillcolor,!1));var me=(U.line||{}).color,ae=(U.marker||{}).color;(U.fill==="tonext"||U.fill==="toself")&&L.push("fills"),E("hoveron",L.join("+")||"points"),U.hoveron!=="fills"&&E("hovertemplate");var q=v.getComponentMethod("errorbars","supplyDefaults");q(z,U,me||ae||F,{axis:"y"}),q(z,U,me||ae||F,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(U,E)}}},8908:function(f,h,c){var g=c(7901),v=c(1828).isArrayOrTypedArray;f.exports=function(b,O,C,k){var w=!1;if(O.marker){var T=O.marker.color,R=(O.marker.line||{}).color;T&&!v(T)?w=T:R&&!v(R)&&(w=R)}k("fillcolor",g.addOpacity((O.line||{}).color||w||C,.5))}},8225:function(f,h,c){var g=c(9298);f.exports=function(y,b,O){var C={},k={_fullLayout:O},w=g.getFromTrace(k,b,"x"),T=g.getFromTrace(k,b,"y"),R=y.orig_x;R===void 0&&(R=y.x);var M=y.orig_y;return M===void 0&&(M=y.y),C.xLabel=g.tickText(w,w.c2l(R),!0).text,C.yLabel=g.tickText(T,T.c2l(M),!0).text,C}},4603:function(f,h,c){var g=c(7901),v=c(4098);f.exports=function(b,O){var C,k;if(b.mode==="lines")return C=b.line.color,C&&g.opacity(C)?C:b.fillcolor;if(b.mode==="none")return b.fill?b.fillcolor:"";var w=O.mcc||(b.marker||{}).color,T=O.mlcc||((b.marker||{}).line||{}).color;return k=w&&g.opacity(w)?w:T&&g.opacity(T)&&(O.mlw||((b.marker||{}).line||{}).width)?T:"",k?g.opacity(k)<.3?g.addOpacity(k,.3):k:(C=(b.line||{}).color,C&&g.opacity(C)&&v.hasLines(b)&&b.line.width?C:b.fillcolor)}},6125:function(f,h,c){var g=c(9082).getAxisGroup;f.exports=function(y,b,O,C){var k=b.orientation,w=b[{v:"x",h:"y"}[k]+"axis"],T=g(O,w)+k,R=O._alignmentOpts||{},M=C("alignmentgroup"),I=R[T];I||(I=R[T]={});var V=I[M];V?V.traces.push(b):V=I[M]={traces:[b],alignmentIndex:Object.keys(I).length,offsetGroups:{}};var N=C("offsetgroup"),Q=V.offsetGroups,z=Q[N];N&&(z||(z=Q[N]={offsetIndex:Object.keys(Q).length}),b._offsetIndex=z.offsetIndex)}},3720:function(f,h,c){var g=c(1828),v=c(211),y=c(3972),b=c(4603),O=c(7901),C=g.fillText;f.exports=function(w,T,R,M){var I=w.cd,V=I[0].trace,N=w.xa,Q=w.ya,z=N.c2p(T),U=Q.c2p(R),F=[z,U],B=V.hoveron||"",E=V.mode.indexOf("markers")!==-1?3:.5,W=!!V.xperiodalignment,X=!!V.yperiodalignment;if(B.indexOf("points")!==-1){var ie=function(ke){if(W){var Qe=N.c2p(ke.xStart),Ze=N.c2p(ke.xEnd);return z>=Math.min(Qe,Ze)&&z<=Math.max(Qe,Ze)?0:1/0}var Xe=Math.max(3,ke.mrc||0),ct=1-1/Xe,pt=Math.abs(N.c2p(ke.x)-z);return pt<Xe?ct*pt/Xe:pt-Xe+ct},L=function(ke){if(X){var Qe=Q.c2p(ke.yStart),Ze=Q.c2p(ke.yEnd);return U>=Math.min(Qe,Ze)&&U<=Math.max(Qe,Ze)?0:1/0}var Xe=Math.max(3,ke.mrc||0),ct=1-1/Xe,pt=Math.abs(Q.c2p(ke.y)-U);return pt<Xe?ct*pt/Xe:pt-Xe+ct},me=function(ke){var Qe=Math.max(E,ke.mrc||0),Ze=N.c2p(ke.x)-z,Xe=Q.c2p(ke.y)-U;return Math.max(Math.sqrt(Ze*Ze+Xe*Xe)-Qe,1-E/Qe)},ae=v.getDistanceFunction(M,ie,L,me);if(v.getClosest(I,ae,w),w.index!==!1){var q=I[w.index],de=N.c2p(q.x,!0),ee=Q.c2p(q.y,!0),xe=q.mrc||1;w.index=q.i;var we=I[0].t.orientation,Be=we&&(q.sNorm||q.s),pe=we==="h"?Be:q.orig_x!==void 0?q.orig_x:q.x,ne=we==="v"?Be:q.orig_y!==void 0?q.orig_y:q.y;return g.extendFlat(w,{color:b(V,q),x0:de-xe,x1:de+xe,xLabelVal:pe,y0:ee-xe,y1:ee+xe,yLabelVal:ne,spikeDistance:me(q),hovertemplate:V.hovertemplate}),C(q,V,w),y.getComponentMethod("errorbars","hoverInfo")(q,V,w),[w]}}if(B.indexOf("fills")!==-1&&V._polygons){var le=V._polygons,Y=[],ve=!1,Oe=1/0,Le=-1/0,Ce=1/0,De=-1/0,Ve,_e,Ie,re,be,te,se,fe,oe;for(Ve=0;Ve<le.length;Ve++)Ie=le[Ve],Ie.contains(F)&&(ve=!ve,Y.push(Ie),Ce=Math.min(Ce,Ie.ymin),De=Math.max(De,Ie.ymax));if(ve){Ce=Math.max(Ce,0),De=Math.min(De,Q._length);var Se=(Ce+De)/2;for(Ve=0;Ve<Y.length;Ve++)for(re=Y[Ve].pts,_e=1;_e<re.length;_e++)fe=re[_e-1][1],oe=re[_e][1],fe>Se!=oe>=Se&&(te=re[_e-1][0],se=re[_e][0],oe-fe&&(be=te+(se-te)*(Se-fe)/(oe-fe),Oe=Math.min(Oe,be),Le=Math.max(Le,be)));Oe=Math.max(Oe,0),Le=Math.min(Le,N._length);var ce=O.defaultLine;return O.opacity(V.fillcolor)?ce=V.fillcolor:O.opacity((V.line||{}).color)&&(ce=V.line.color),g.extendFlat(w,{distance:w.maxHoverDistance,x0:Oe,x1:Le,y0:Se,y1:Se,color:ce,hovertemplate:!1}),delete w.index,V.text&&!Array.isArray(V.text)?w.text=String(V.text):w.text=V.name,[w]}}}},7368:function(f,h,c){var g=c(4098);f.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:c(2196),layoutAttributes:c(1479),supplyDefaults:c(7438),crossTraceDefaults:c(462),supplyLayoutDefaults:c(9334),calc:c(7761).calc,crossTraceCalc:c(2626),arraysToCalcdata:c(5225),plot:c(7399),colorbar:c(4898),formatLabels:c(8225),style:c(6296).style,styleOnSelect:c(6296).styleOnSelect,hoverPoints:c(3720),selectPoints:c(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:c(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(f){f.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(f,h,c){var g=c(1828),v=c(1479);f.exports=function(y,b){function O(k,w){return g.coerce(y,b,v,k,w)}var C=b.barmode==="group";b.scattermode==="group"&&O("scattergap",C?b.bargap:.2)}},1058:function(f,h,c){var g=c(1828).isArrayOrTypedArray,v=c(2869).hasColorscale,y=c(1586);f.exports=function(O,C,k,w,T,R){R||(R={});var M=(O.marker||{}).color;if(T("line.color",k),v(O,"line"))y(O,C,w,T,{prefix:"line.",cLetter:"c"});else{var I=(g(M)?!1:M)||k;T("line.color",I)}T("line.width"),R.noDash||T("line.dash"),R.backoff&&T("line.backoff")}},4621:function(f,h,c){var g=c(1424),v=c(606),y=v.BADNUM,b=v.LOG_CLIP,O=b+.5,C=b-.5,k=c(1828),w=k.segmentsIntersect,T=k.constrain,R=c(7581);f.exports=function(I,V){var N=V.trace||{},Q=V.xaxis,z=V.yaxis,U=Q.type==="log",F=z.type==="log",B=Q._length,E=z._length,W=V.backoff,X=N.marker,ie=V.connectGaps,L=V.baseTolerance,me=V.shape,ae=me==="linear",q=N.fill&&N.fill!=="none",de=[],ee=R.minTolerance,xe=I.length,we=new Array(xe),Be=0,pe,ne,le,Y,ve,Oe,Le,Ce,De,Ve,_e,Ie,re,be,te,se;function fe(Tt){var Pt=I[Tt];if(!Pt)return!1;var dn=V.linearized?Q.l2p(Pt.x):Q.c2p(Pt.x),rn=V.linearized?z.l2p(Pt.y):z.c2p(Pt.y);if(dn===y){if(U&&(dn=Q.c2p(Pt.x,!0)),dn===y)return!1;F&&rn===y&&(dn*=Math.abs(Q._m*E*(Q._m>0?O:C)/(z._m*B*(z._m>0?O:C)))),dn*=1e3}if(rn===y){if(F&&(rn=z.c2p(Pt.y,!0)),rn===y)return!1;rn*=1e3}return[dn,rn]}function oe(Tt,Pt,dn,rn){var Wt=dn-Tt,Rt=rn-Pt,fn=.5-Tt,Hn=.5-Pt,nr=Wt*Wt+Rt*Rt,Er=Wt*fn+Rt*Hn;if(Er>0&&Er<nr){var zt=fn*Rt-Hn*Wt;if(zt*zt<nr)return!0}}var Se,ce;function ke(Tt,Pt){var dn=Tt[0]/B,rn=Tt[1]/E,Wt=Math.max(0,-dn,dn-1,-rn,rn-1);return Wt&&Se!==void 0&&oe(dn,rn,Se,ce)&&(Wt=0),Wt&&Pt&&oe(dn,rn,Pt[0]/B,Pt[1]/E)&&(Wt=0),(1+R.toleranceGrowth*Wt)*L}function Qe(Tt,Pt){var dn=Tt[0]-Pt[0],rn=Tt[1]-Pt[1];return Math.sqrt(dn*dn+rn*rn)}var Ze=R.maxScreensAway,Xe=-B*Ze,ct=B*(1+Ze),pt=-E*Ze,Ye=E*(1+Ze),je=[[Xe,pt,ct,pt],[ct,pt,ct,Ye],[ct,Ye,Xe,Ye],[Xe,Ye,Xe,pt]],et,yt,ft,tt,wt,Xt;function Gt(Tt,Pt){for(var dn=[],rn=0,Wt=0;Wt<4;Wt++){var Rt=je[Wt],fn=w(Tt[0],Tt[1],Pt[0],Pt[1],Rt[0],Rt[1],Rt[2],Rt[3]);fn&&(!rn||Math.abs(fn.x-dn[0][0])>1||Math.abs(fn.y-dn[0][1])>1)&&(fn=[fn.x,fn.y],rn&&Qe(fn,Tt)<Qe(dn[0],Tt)?dn.unshift(fn):dn.push(fn),rn++)}return dn}function Nt(Tt){if(Tt[0]<Xe||Tt[0]>ct||Tt[1]<pt||Tt[1]>Ye)return[T(Tt[0],Xe,ct),T(Tt[1],pt,Ye)]}function Bt(Tt,Pt){if(Tt[0]===Pt[0]&&(Tt[0]===Xe||Tt[0]===ct)||Tt[1]===Pt[1]&&(Tt[1]===pt||Tt[1]===Ye))return!0}function vn(Tt,Pt){var dn=[],rn=Nt(Tt),Wt=Nt(Pt);return rn&&Wt&&Bt(rn,Wt)||(rn&&dn.push(rn),Wt&&dn.push(Wt)),dn}function En(Tt,Pt,dn){return function(rn,Wt){var Rt=Nt(rn),fn=Nt(Wt),Hn=[];if(Rt&&fn&&Bt(Rt,fn))return Hn;Rt&&Hn.push(Rt),fn&&Hn.push(fn);var nr=2*k.constrain((rn[Tt]+Wt[Tt])/2,Pt,dn)-((Rt||rn)[Tt]+(fn||Wt)[Tt]);if(nr){var Er;Rt&&fn?Er=nr>0==Rt[Tt]>fn[Tt]?Rt:fn:Er=Rt||fn,Er[Tt]+=nr}return Hn}}var ln;me==="linear"||me==="spline"?ln=Gt:me==="hv"||me==="vh"?ln=vn:me==="hvh"?ln=En(0,Xe,ct):me==="vhv"&&(ln=En(1,pt,Ye));function Yn(Tt,Pt){var dn=Pt[0]-Tt[0],rn=(Pt[1]-Tt[1])/dn,Wt=(Tt[1]*Pt[0]-Pt[1]*Tt[0])/dn;return Wt>0?[rn>0?Xe:ct,Ye]:[rn>0?ct:Xe,pt]}function an(Tt){var Pt=Tt[0],dn=Tt[1],rn=Pt===we[Be-1][0],Wt=dn===we[Be-1][1];if(!(rn&&Wt))if(Be>1){var Rt=Pt===we[Be-2][0],fn=dn===we[Be-2][1];rn&&(Pt===Xe||Pt===ct)&&Rt?fn?Be--:we[Be-1]=Tt:Wt&&(dn===pt||dn===Ye)&&fn?Rt?Be--:we[Be-1]=Tt:we[Be++]=Tt}else we[Be++]=Tt}function wn(Tt){we[Be-1][0]!==Tt[0]&&we[Be-1][1]!==Tt[1]&&an([ft,tt]),an(Tt),wt=null,ft=tt=0}var Xn=k.isArrayOrTypedArray(X);function Un(Tt){if(Tt&&W&&(Tt.i=pe,Tt.d=I,Tt.trace=N,Tt.marker=Xn?X[Tt.i]:X,Tt.backoff=W),Se=Tt[0]/B,ce=Tt[1]/E,et=Tt[0]<Xe?Xe:Tt[0]>ct?ct:0,yt=Tt[1]<pt?pt:Tt[1]>Ye?Ye:0,et||yt){if(!Be)we[Be++]=[et||Tt[0],yt||Tt[1]];else if(wt){var Pt=ln(wt,Tt);Pt.length>1&&(wn(Pt[0]),we[Be++]=Pt[1])}else Xt=ln(we[Be-1],Tt)[0],we[Be++]=Xt;var dn=we[Be-1];et&&yt&&(dn[0]!==et||dn[1]!==yt)?(wt&&(ft!==et&&tt!==yt?an(ft&&tt?Yn(wt,Tt):[ft||et,tt||yt]):ft&&tt&&an([ft,tt])),an([et,yt])):ft-et&&tt-yt&&an([et||ft,yt||tt]),wt=Tt,ft=et,tt=yt}else wt&&wn(ln(wt,Tt)[0]),we[Be++]=Tt}for(pe=0;pe<xe;pe++)if(ne=fe(pe),!!ne){for(Be=0,wt=null,Un(ne),pe++;pe<xe;pe++){if(Y=fe(pe),!Y){if(ie)continue;break}if(!ae||!V.simplify){Un(Y);continue}var Sn=fe(pe+1);if(Ve=Qe(Y,ne),!(!(q&&(Be===0||Be===xe-1))&&Ve<ke(Y,Sn)*ee)){for(Ce=[(Y[0]-ne[0])/Ve,(Y[1]-ne[1])/Ve],ve=ne,_e=Ve,Ie=be=te=0,Le=!1,le=Y,pe++;pe<I.length;pe++){if(Oe=Sn,Sn=fe(pe+1),!Oe){if(ie)continue;break}if(De=[Oe[0]-ne[0],Oe[1]-ne[1]],se=De[0]*Ce[1]-De[1]*Ce[0],be=Math.min(be,se),te=Math.max(te,se),te-be>ke(Oe,Sn))break;le=Oe,re=De[0]*Ce[0]+De[1]*Ce[1],re>_e?(_e=re,Y=Oe,Le=!1):re<Ie&&(Ie=re,ve=Oe,Le=!0)}if(Le?(Un(Y),le!==ve&&Un(ve)):(ve!==ne&&Un(ve),le!==Y&&Un(Y)),Un(le),pe>=I.length||!Oe)break;Un(Oe),ne=Oe}}wt&&an([ft||wt[0],tt||wt[1]]),de.push(we.slice(0,Be))}var lt=me.slice(me.length-1);if(W&&lt!=="h"&&lt!=="v"){for(var ut=!1,xt=-1,gt=[],Dt=0;Dt<de.length;Dt++)for(var He=0;He<de[Dt].length-1;He++){var at=de[Dt][He],dt=de[Dt][He+1],mt=g.applyBackoff(dt,at);(mt[0]!==dt[0]||mt[1]!==dt[1])&&(ut=!0),gt[xt+1]||(xt++,gt[xt]=[at,[mt[0],mt[1]]])}return ut?gt:de}return de}},4039:function(f){f.exports=function(c,g,v){var y=v("line.shape");y==="spline"&&v("line.smoothing")}},8687:function(f){var h={tonextx:1,tonexty:1,tonext:1};f.exports=function(g,v,y){var b,O,C,k,w,T={},R=!1,M=-1,I=0,V=-1;for(O=0;O<y.length;O++)b=y[O][0].trace,C=b.stackgroup||"",C?C in T?w=T[C]:(w=T[C]=I,I++):b.fill in h&&V>=0?w=V:(w=V=I,I++),w<M&&(R=!0),b._groupIndex=M=w;var N=y.slice();R&&N.sort(function(z,U){var F=z[0].trace,B=U[0].trace;return F._groupIndex-B._groupIndex||F.index-B.index});var Q={};for(O=0;O<N.length;O++)b=N[O][0].trace,C=b.stackgroup||"",b.visible===!0?(b._nexttrace=null,b.fill in h&&(k=Q[C],b._prevtrace=k||null,k&&(k._nexttrace=b)),b._ownfill=b.fill&&(b.fill.substr(0,6)==="tozero"||b.fill==="toself"||b.fill.substr(0,2)==="to"&&!b._prevtrace),Q[C]=b):b._prevtrace=b._nexttrace=b._ownfill=null;return N}},9984:function(f,h,c){var g=c(2770);f.exports=function(y,b){b||(b=2);var O=y.marker,C=O.sizeref||1,k=O.sizemin||0,w=O.sizemode==="area"?function(T){return Math.sqrt(T/C)}:function(T){return T/C};return function(T){var R=w(T/b);return g(R)&&R>0?Math.max(R,k):0}}},4898:function(f){f.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(f,h,c){var g=c(7901),v=c(2869).hasColorscale,y=c(1586),b=c(4098);f.exports=function(C,k,w,T,R,M){var I=b.isBubble(C),V=(C.line||{}).color,N;if(M=M||{},V&&(w=V),R("marker.symbol"),R("marker.opacity",I?.7:1),R("marker.size"),M.noAngle||(R("marker.angle"),M.noAngleRef||R("marker.angleref"),M.noStandOff||R("marker.standoff")),R("marker.color",w),v(C,"marker")&&y(C,k,T,R,{prefix:"marker.",cLetter:"c"}),M.noSelect||(R("selected.marker.color"),R("unselected.marker.color"),R("selected.marker.size"),R("unselected.marker.size")),M.noLine||(V&&!Array.isArray(V)&&k.marker.color!==V?N=V:I?N=g.background:N=g.defaultLine,R("marker.line.color",N),v(C,"marker.line")&&y(C,k,T,R,{prefix:"marker.line.",cLetter:"c"}),R("marker.line.width",I?1:0)),I&&(R("marker.sizeref"),R("marker.sizemin"),R("marker.sizemode")),M.gradient){var Q=R("marker.gradient.type");Q!=="none"&&R("marker.gradient.color")}}},3927:function(f,h,c){var g=c(1828).dateTick0,v=c(606),y=v.ONEWEEK;function b(O,C){return O%y===0?g(C,1):g(C,0)}f.exports=function(C,k,w,T,R){if(R||(R={x:!0,y:!0}),R.x){var M=T("xperiod");M&&(T("xperiod0",b(M,k.xcalendar)),T("xperiodalignment"))}if(R.y){var I=T("yperiod");I&&(T("yperiod0",b(I,k.ycalendar)),T("yperiodalignment"))}}},7399:function(f,h,c){var g=c(9898),v=c(3972),y=c(1828),b=y.ensureSingle,O=y.identity,C=c(1424),k=c(4098),w=c(4621),T=c(8687),R=c(1082).tester;f.exports=function(Q,z,U,F,B,E){var W,X,ie=!B,L=!!B&&B.duration>0,me=T(Q,z,U);if(W=F.selectAll("g.trace").data(me,function(q){return q[0].trace.uid}),W.enter().append("g").attr("class",function(q){return"trace scatter trace"+q[0].trace.uid}).style("stroke-miterlimit",2),W.order(),M(Q,W,z),L){E&&(X=E());var ae=g.transition().duration(B.duration).ease(B.easing).each("end",function(){X&&X()}).each("interrupt",function(){X&&X()});ae.each(function(){F.selectAll("g.trace").each(function(q,de){I(Q,de,z,q,me,this,B)})})}else W.each(function(q,de){I(Q,de,z,q,me,this,B)});ie&&W.exit().remove(),F.selectAll("path:not([d])").remove()};function M(N,Q,z){Q.each(function(U){var F=b(g.select(this),"g","fills");C.setClipUrl(F,z.layerClipId,N);var B=U[0].trace,E=[];B._ownfill&&E.push("_ownFill"),B._nexttrace&&E.push("_nextFill");var W=F.selectAll("g").data(E,O);W.enter().append("g"),W.exit().each(function(X){B[X]=null}).remove(),W.order().each(function(X){B[X]=b(g.select(this),"path","js-fill")})})}function I(N,Q,z,U,F,B,E){var W=N._context.staticPlot,X;V(N,Q,z,U,F);var ie=!!E&&E.duration>0;function L(tt){return ie?tt.transition():tt}var me=z.xaxis,ae=z.yaxis,q=U[0].trace,de=q.line,ee=g.select(B),xe=b(ee,"g","errorbars"),we=b(ee,"g","lines"),Be=b(ee,"g","points"),pe=b(ee,"g","text");if(v.getComponentMethod("errorbars","plot")(N,xe,z,E),q.visible!==!0)return;L(ee).style("opacity",q.opacity);var ne,le,Y=q.fill.charAt(q.fill.length-1);Y!=="x"&&Y!=="y"&&(Y=""),U[0][z.isRangePlot?"nodeRangePlot3":"node3"]=ee;var ve="",Oe=[],Le=q._prevtrace;Le&&(ve=Le._prevRevpath||"",le=Le._nextFill,Oe=Le._polygons);var Ce,De,Ve="",_e="",Ie,re,be,te,se,fe,oe,Se=[],ce=y.noop;if(ne=q._ownFill,k.hasLines(q)||q.fill!=="none"){for(le&&le.datum(U),["hv","vh","hvh","vhv"].indexOf(de.shape)!==-1?(Ie=C.steps(de.shape),re=C.steps(de.shape.split("").reverse().join(""))):de.shape==="spline"?Ie=re=function(tt){var wt=tt[tt.length-1];return tt.length>1&&tt[0][0]===wt[0]&&tt[0][1]===wt[1]?C.smoothclosed(tt.slice(1),de.smoothing):C.smoothopen(tt,de.smoothing)}:Ie=re=function(tt){return"M"+tt.join("L")},be=function(tt){return re(tt.reverse())},Se=w(U,{xaxis:me,yaxis:ae,trace:q,connectGaps:q.connectgaps,baseTolerance:Math.max(de.width||1,3)/4,shape:de.shape,backoff:de.backoff,simplify:de.simplify,fill:q.fill}),oe=q._polygons=new Array(Se.length),X=0;X<Se.length;X++)q._polygons[X]=R(Se[X]);Se.length&&(te=Se[0][0],se=Se[Se.length-1],fe=se[se.length-1]),ce=function(tt){return function(wt){if(Ce=Ie(wt),De=be(wt),Ve?Y?(Ve+="L"+Ce.substr(1),_e=De+("L"+_e.substr(1))):(Ve+="Z"+Ce,_e=De+"Z"+_e):(Ve=Ce,_e=De),k.hasLines(q)){var Xt=g.select(this);if(Xt.datum(U),tt)L(Xt.style("opacity",0).attr("d",Ce).call(C.lineGroupStyle)).style("opacity",1);else{var Gt=L(Xt);Gt.attr("d",Ce),C.singleLineStyle(U,Gt)}}}}}var ke=we.selectAll(".js-line").data(Se);L(ke.exit()).style("opacity",0).remove(),ke.each(ce(!1)),ke.enter().append("path").classed("js-line",!0).style("vector-effect",W?"none":"non-scaling-stroke").call(C.lineGroupStyle).each(ce(!0)),C.setClipUrl(ke,z.layerClipId,N);function Qe(tt){L(tt).attr("d","M0,0Z")}Se.length?(ne?(ne.datum(U),te&&fe&&(Y?(Y==="y"?te[1]=fe[1]=ae.c2p(0,!0):Y==="x"&&(te[0]=fe[0]=me.c2p(0,!0)),L(ne).attr("d","M"+fe+"L"+te+"L"+Ve.substr(1)).call(C.singleFillStyle,N)):L(ne).attr("d",Ve+"Z").call(C.singleFillStyle,N))):le&&(q.fill.substr(0,6)==="tonext"&&Ve&&ve?(q.fill==="tonext"?L(le).attr("d",Ve+"Z"+ve+"Z").call(C.singleFillStyle,N):L(le).attr("d",Ve+"L"+ve.substr(1)+"Z").call(C.singleFillStyle,N),q._polygons=q._polygons.concat(Oe)):(Qe(le),q._polygons=null)),q._prevRevpath=_e,q._prevPolygons=oe):(ne?Qe(ne):le&&Qe(le),q._polygons=q._prevRevpath=q._prevPolygons=null);function Ze(tt){return tt.filter(function(wt){return!wt.gap&&wt.vis})}function Xe(tt){return tt.filter(function(wt){return wt.vis})}function ct(tt){return tt.filter(function(wt){return!wt.gap})}function pt(tt){return tt.id}function Ye(tt){if(tt.ids)return pt}function je(){return!1}function et(tt,wt,Xt){var Gt,Nt,Bt,vn=Xt[0].trace,En=k.hasMarkers(vn),ln=k.hasText(vn),Yn=Ye(vn),an=je,wn=je;if(En||ln){var Xn=O,Un=vn.stackgroup,Sn=Un&&N._fullLayout._scatterStackOpts[me._id+ae._id][Un].stackgaps==="infer zero";vn.marker.maxdisplayed||vn._needsCull?Xn=Sn?Xe:Ze:Un&&!Sn&&(Xn=ct),En&&(an=Xn),ln&&(wn=Xn)}Nt=tt.selectAll("path.point"),Gt=Nt.data(an,Yn);var lt=Gt.enter().append("path").classed("point",!0);ie&&lt.call(C.pointStyle,vn,N).call(C.translatePoints,me,ae).style("opacity",0).transition().style("opacity",1),Gt.order();var ut;En&&(ut=C.makePointStyleFns(vn)),Gt.each(function(xt){var gt=g.select(this),Dt=L(gt);Bt=C.translatePoint(xt,Dt,me,ae),Bt?(C.singlePointStyle(xt,Dt,vn,ut,N),z.layerClipId&&C.hideOutsideRangePoint(xt,Dt,me,ae,vn.xcalendar,vn.ycalendar),vn.customdata&&gt.classed("plotly-customdata",xt.data!==null&&xt.data!==void 0)):Dt.remove()}),ie?Gt.exit().transition().style("opacity",0).remove():Gt.exit().remove(),Nt=wt.selectAll("g"),Gt=Nt.data(wn,Yn),Gt.enter().append("g").classed("textpoint",!0).append("text"),Gt.order(),Gt.each(function(xt){var gt=g.select(this),Dt=L(gt.select("text"));Bt=C.translatePoint(xt,Dt,me,ae),Bt?z.layerClipId&&C.hideOutsideRangePoint(xt,gt,me,ae,vn.xcalendar,vn.ycalendar):gt.remove()}),Gt.selectAll("text").call(C.textPointStyle,vn,N).each(function(xt){var gt=me.c2p(xt.x),Dt=ae.c2p(xt.y);g.select(this).selectAll("tspan.line").each(function(){L(g.select(this)).attr({x:gt,y:Dt})})}),Gt.exit().remove()}Be.datum(U),pe.datum(U),et(Be,pe,U);var yt=q.cliponaxis===!1,ft=yt?null:z.layerClipId;C.setClipUrl(Be,ft,N),C.setClipUrl(pe,ft,N)}function V(N,Q,z,U,F){var B=z.xaxis,E=z.yaxis,W=g.extent(y.simpleMap(B.range,B.r2c)),X=g.extent(y.simpleMap(E.range,E.r2c)),ie=U[0].trace;if(k.hasMarkers(ie)){var L=ie.marker.maxdisplayed;if(L!==0){var me=U.filter(function(ee){return ee.x>=W[0]&&ee.x<=W[1]&&ee.y>=X[0]&&ee.y<=X[1]}),ae=Math.ceil(me.length/L),q=0;F.forEach(function(ee,xe){var we=ee[0].trace;k.hasMarkers(we)&&we.marker.maxdisplayed>0&&xe<Q&&q++});var de=Math.round(q*ae/3+Math.floor(q/3)*ae/7.1);U.forEach(function(ee){delete ee.vis}),me.forEach(function(ee,xe){Math.round((xe+de)%ae)===0&&(ee.vis=!0)})}}}},8002:function(f,h,c){var g=c(4098);f.exports=function(y,b){var O=y.cd,C=y.xaxis,k=y.yaxis,w=[],T=O[0].trace,R,M,I,V,N=!g.hasMarkers(T)&&!g.hasText(T);if(N)return[];if(b===!1)for(R=0;R<O.length;R++)O[R].selected=0;else for(R=0;R<O.length;R++)M=O[R],I=C.c2p(M.x),V=k.c2p(M.y),M.i!==null&&b.contains([I,V],!1,R,y)?(w.push({pointNumber:M.i,x:C.c2d(M.x),y:k.c2d(M.y)}),M.selected=1):M.selected=0;return w}},565:function(f){var h=["orientation","groupnorm","stackgaps"];f.exports=function(g,v,y,b){var O=y._scatterStackOpts,C=b("stackgroup");if(C){var k=v.xaxis+v.yaxis,w=O[k];w||(w=O[k]={});var T=w[C],R=!1;T?T.traces.push(v):(T=w[C]={traceIndices:[],traces:[v]},R=!0);for(var M={orientation:v.x&&!v.y?"h":"v"},I=0;I<h.length;I++){var V=h[I],N=V+"Found";if(!T[N]){var Q=g[V]!==void 0,z=V==="orientation";if((Q||R)&&(T[V]=b(V,M[V]),z&&(T.fillDflt=T[V]==="h"?"tonextx":"tonexty"),Q&&(T[N]=!0,!R&&(delete T.traces[0][V],z))))for(var U=0;U<T.traces.length-1;U++){var F=T.traces[U];F._input.fill!==F.fill&&(F.fill=T.fillDflt)}}}return T}}},6296:function(f,h,c){var g=c(9898),v=c(1424),y=c(3972);function b(w){var T=g.select(w).selectAll("g.trace.scatter");T.style("opacity",function(R){return R[0].trace.opacity}),T.selectAll("g.points").each(function(R){var M=g.select(this),I=R.trace||R[0].trace;O(M,I,w)}),T.selectAll("g.text").each(function(R){var M=g.select(this),I=R.trace||R[0].trace;C(M,I,w)}),T.selectAll("g.trace path.js-line").call(v.lineGroupStyle),T.selectAll("g.trace path.js-fill").call(v.fillGroupStyle,w),y.getComponentMethod("errorbars","style")(T)}function O(w,T,R){v.pointStyle(w.selectAll("path.point"),T,R)}function C(w,T,R){v.textPointStyle(w.selectAll("text"),T,R)}function k(w,T,R){var M=T[0].trace;M.selectedpoints?(v.selectedPointStyle(R.selectAll("path.point"),M),v.selectedTextStyle(R.selectAll("text"),M)):(O(R,M,w),C(R,M,w))}f.exports={style:b,stylePoints:O,styleText:C,styleOnSelect:k}},4098:function(f,h,c){var g=c(1828);f.exports={hasLines:function(v){return v.visible&&v.mode&&v.mode.indexOf("lines")!==-1},hasMarkers:function(v){return v.visible&&(v.mode&&v.mode.indexOf("markers")!==-1||v.type==="splom")},hasText:function(v){return v.visible&&v.mode&&v.mode.indexOf("text")!==-1},isBubble:function(v){return g.isPlainObject(v.marker)&&g.isArrayOrTypedArray(v.marker.size)}}},2410:function(f,h,c){var g=c(1828);f.exports=function(v,y,b,O,C){C=C||{},O("textposition"),g.coerceFont(O,"textfont",C.font||b.font),C.noSelect||(O("selected.textfont.color"),O("unselected.textfont.color"))}},7513:function(f,h,c){var g=c(1828),v=c(3972);f.exports=function(b,O,C,k){var w=k("x"),T=k("y"),R,M=v.getComponentMethod("calendars","handleTraceDefaults");if(M(b,O,["x","y"],C),w){var I=g.minRowLength(w);T?R=Math.min(I,g.minRowLength(T)):(R=I,k("y0"),k("dy"))}else{if(!T)return 0;R=g.minRowLength(T),k("x0"),k("dx")}return O._length=R,R}},2887:function(f,h,c){var g=c(9298),v=c(1828),y=c(6281),b=c(9344).p,O=c(606).BADNUM;h.moduleType="transform",h.name="aggregate";var C=h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},k=C.aggregations;h.supplyDefaults=function(V,N){var Q={},z;function U(ee,xe){return v.coerce(V,Q,C,ee,xe)}var F=U("enabled");if(!F)return Q;var B=y.findArrayAttributes(N),E={};for(z=0;z<B.length;z++)E[B[z]]=1;var W=U("groups");if(!Array.isArray(W)){if(!E[W])return Q.enabled=!1,Q;E[W]=0}var X=V.aggregations||[],ie=Q.aggregations=new Array(X.length),L;function me(ee,xe){return v.coerce(X[z],L,k,ee,xe)}for(z=0;z<X.length;z++){L={_index:z};var ae=me("target"),q=me("func"),de=me("enabled");de&&ae&&(E[ae]||q==="count"&&E[ae]===void 0)?(q==="stddev"&&me("funcmode"),E[ae]=0,ie[z]=L):ie[z]={enabled:!1,_index:z}}for(z=0;z<B.length;z++)E[B[z]]&&ie.push({target:B[z],func:k.func.dflt,enabled:!0,_index:-1});return Q},h.calcTransform=function(V,N,Q){if(Q.enabled){var z=Q.groups,U=v.getTargetArray(N,{target:z});if(U){var F,B,E,W,X={},ie={},L=[],me=b(N.transforms,Q),ae=U.length;for(N._length&&(ae=Math.min(ae,N._length)),F=0;F<ae;F++)B=U[F],E=X[B],E===void 0?(X[B]=L.length,W=[F],L.push(W),ie[X[B]]=me(F)):(L[E].push(F),ie[X[B]]=(ie[X[B]]||[]).concat(me(F)));Q._indexToPoints=ie;var q=Q.aggregations;for(F=0;F<q.length;F++)w(V,N,L,q[F]);typeof z=="string"&&w(V,N,L,{target:z,func:"first",enabled:!0}),N._length=L.length}}};function w(V,N,Q,z){if(z.enabled){for(var U=z.target,F=v.nestedProperty(N,U),B=F.get(),E=g.getDataConversions(V,N,U,B),W=T(z,E),X=new Array(Q.length),ie=0;ie<Q.length;ie++)X[ie]=W(B,Q[ie]);F.set(X),z.func==="count"&&v.pushUnique(N._arrayAttrs,U)}}function T(V,N){var Q=V.func,z=N.d2c,U=N.c2d;switch(Q){case"count":return R;case"first":return M;case"last":return I;case"sum":return function(F,B){for(var E=0,W=0;W<B.length;W++){var X=z(F[B[W]]);X!==O&&(E+=X)}return U(E)};case"avg":return function(F,B){for(var E=0,W=0,X=0;X<B.length;X++){var ie=z(F[B[X]]);ie!==O&&(E+=ie,W++)}return W?U(E/W):O};case"min":return function(F,B){for(var E=1/0,W=0;W<B.length;W++){var X=z(F[B[W]]);X!==O&&(E=Math.min(E,X))}return E===1/0?O:U(E)};case"max":return function(F,B){for(var E=-1/0,W=0;W<B.length;W++){var X=z(F[B[W]]);X!==O&&(E=Math.max(E,X))}return E===-1/0?O:U(E)};case"range":return function(F,B){for(var E=1/0,W=-1/0,X=0;X<B.length;X++){var ie=z(F[B[X]]);ie!==O&&(E=Math.min(E,ie),W=Math.max(W,ie))}return W===-1/0||E===1/0?O:U(W-E)};case"change":return function(F,B){var E=z(F[B[0]]),W=z(F[B[B.length-1]]);return E===O||W===O?O:U(W-E)};case"median":return function(F,B){for(var E=[],W=0;W<B.length;W++){var X=z(F[B[W]]);X!==O&&E.push(X)}if(!E.length)return O;E.sort(v.sorterAsc);var ie=(E.length-1)/2;return U((E[Math.floor(ie)]+E[Math.ceil(ie)])/2)};case"mode":return function(F,B){for(var E={},W=0,X=O,ie=0;ie<B.length;ie++){var L=z(F[B[ie]]);if(L!==O){var me=E[L]=(E[L]||0)+1;me>W&&(W=me,X=L)}}return W?U(X):O};case"rms":return function(F,B){for(var E=0,W=0,X=0;X<B.length;X++){var ie=z(F[B[X]]);ie!==O&&(E+=ie*ie,W++)}return W?U(Math.sqrt(E/W)):O};case"stddev":return function(F,B){var E=0,W=0,X=1,ie=O,L;for(L=0;L<B.length&&ie===O;L++)ie=z(F[B[L]]);if(ie===O)return O;for(;L<B.length;L++){var me=z(F[B[L]]);if(me!==O){var ae=me-ie;E+=ae,W+=ae*ae,X++}}var q=V.funcmode==="sample"?X-1:X;return q?Math.sqrt((W-E*E/X)/q):0}}}function R(V,N){return N.length}function M(V,N){return V[N[0]]}function I(V,N){return V[N[N.length-1]]}},4382:function(f,h,c){var g=c(1828),v=c(3972),y=c(9298),b=c(9344).p,O=c(4808),C=O.COMPARISON_OPS,k=O.INTERVAL_OPS,w=O.SET_OPS;h.moduleType="transform",h.name="filter",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(C).concat(k).concat(w),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},h.supplyDefaults=function(R){var M={};function I(z,U){return g.coerce(R,M,h.attributes,z,U)}var V=I("enabled");if(V){var N=I("target");if(g.isArrayOrTypedArray(N)&&N.length===0)return M.enabled=!1,M;I("preservegaps"),I("operation"),I("value");var Q=v.getComponentMethod("calendars","handleDefaults");Q(R,M,"valuecalendar",null),Q(R,M,"targetcalendar",null)}return M},h.calcTransform=function(R,M,I){if(!I.enabled)return;var V=g.getTargetArray(M,I);if(!V)return;var N=I.target,Q=V.length;M._length&&(Q=Math.min(Q,M._length));var z=I.targetcalendar,U=M._arrayAttrs,F=I.preservegaps;if(typeof N=="string"){var B=g.nestedProperty(M,N+"calendar").get();B&&(z=B)}var E=y.getDataToCoordFunc(R,M,N,V),W=T(I,E,z),X={},ie={},L=0;function me(we,Be){for(var pe=0;pe<U.length;pe++){var ne=g.nestedProperty(M,U[pe]);we(ne,Be)}}var ae,q;F?(ae=function(we){X[we.astr]=g.extendDeep([],we.get()),we.set(new Array(Q))},q=function(we,Be){var pe=X[we.astr][Be];we.get()[Be]=pe}):(ae=function(we){X[we.astr]=g.extendDeep([],we.get()),we.set([])},q=function(we,Be){var pe=X[we.astr][Be];we.get().push(pe)}),me(ae);for(var de=b(M.transforms,I),ee=0;ee<Q;ee++){var xe=W(V[ee]);xe?(me(q,ee),ie[L++]=de(ee)):F&&L++}I._indexToPoints=ie,M._length=L};function T(R,M,I){var V=R.operation,N=R.value,Q=Array.isArray(N);function z(E){return E.indexOf(V)!==-1}var U=function(E){return M(E,0,R.valuecalendar)},F=function(E){return M(E,0,I)},B;switch(z(C)?B=U(Q?N[0]:N):z(k)?B=Q?[U(N[0]),U(N[1])]:[U(N),U(N)]:z(w)&&(B=Q?N.map(U):[U(N)]),V){case"=":return function(E){return F(E)===B};case"!=":return function(E){return F(E)!==B};case"<":return function(E){return F(E)<B};case"<=":return function(E){return F(E)<=B};case">":return function(E){return F(E)>B};case">=":return function(E){return F(E)>=B};case"[]":return function(E){var W=F(E);return W>=B[0]&&W<=B[1]};case"()":return function(E){var W=F(E);return W>B[0]&&W<B[1]};case"[)":return function(E){var W=F(E);return W>=B[0]&&W<B[1]};case"(]":return function(E){var W=F(E);return W>B[0]&&W<=B[1]};case"][":return function(E){var W=F(E);return W<=B[0]||W>=B[1]};case")(":return function(E){var W=F(E);return W<B[0]||W>B[1]};case"](":return function(E){var W=F(E);return W<=B[0]||W>B[1]};case")[":return function(E){var W=F(E);return W<B[0]||W>=B[1]};case"{}":return function(E){return B.indexOf(F(E))!==-1};case"}{":return function(E){return B.indexOf(F(E))===-1}}}},3102:function(f,h,c){var g=c(1828),v=c(6281),y=c(4875),b=c(9344).p;h.moduleType="transform",h.name="groupby",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},h.supplyDefaults=function(C,k,w){var T,R={};function M(U,F){return g.coerce(C,R,h.attributes,U,F)}var I=M("enabled");if(!I)return R;M("groups"),M("nameformat",w._dataLength>1?"%{group} (%{trace})":"%{group}");var V=C.styles,N=R.styles=[];if(V)for(T=0;T<V.length;T++){var Q=N[T]={};g.coerce(V[T],N[T],h.attributes.styles,"target");var z=g.coerce(V[T],N[T],h.attributes.styles,"value");g.isPlainObject(z)?Q.value=g.extendDeep({},z):z&&delete Q.value}return R},h.transform=function(C,k){var w,T,R,M=[];for(T=0;T<C.length;T++)for(w=O(C[T],k),R=0;R<w.length;R++)M.push(w[R]);return M};function O(C,k){var w,T,R,M,I,V,N,Q,z,U,F=k.transform,B=k.transformIndex,E=C.transforms[B].groups,W=b(C.transforms,F);if(!g.isArrayOrTypedArray(E)||E.length===0)return[C];var X=g.filterUnique(E),ie=new Array(X.length),L=E.length,me=v.findArrayAttributes(C),ae=F.styles||[],q={};for(w=0;w<ae.length;w++)q[ae[w].target]=ae[w].value;F.styles&&(U=g.keyedContainer(F,"styles","target","value.name"));var de={},ee={};for(w=0;w<X.length;w++){V=X[w],de[V]=w,ee[V]=0,N=ie[w]=g.extendDeepNoArrays({},C),N._group=V,N.transforms[B]._indexToPoints={};var xe=null;for(U&&(xe=U.get(V)),xe||xe===""?N.name=xe:N.name=g.templateString(F.nameformat,{trace:C.name,group:V}),Q=N.transforms,N.transforms=[],T=0;T<Q.length;T++)N.transforms[T]=g.extendDeepNoArrays({},Q[T]);for(T=0;T<me.length;T++)g.nestedProperty(N,me[T]).set([])}for(R=0;R<me.length;R++){for(M=me[R],T=0,z=[];T<X.length;T++)z[T]=g.nestedProperty(ie[T],M).get();for(I=g.nestedProperty(C,M).get(),T=0;T<L;T++)z[de[E[T]]].push(I[T])}for(T=0;T<L;T++){N=ie[de[E[T]]];var we=N.transforms[B]._indexToPoints;we[ee[E[T]]]=W(T),ee[E[T]]++}for(w=0;w<X.length;w++)V=X[w],N=ie[w],y.clearExpandedTraceDefaultColors(N),N=g.extendDeepNoArrays(N,q[V]||{});return ie}},9344:function(f,h){h.p=function(c,g){for(var v,y,b=0;b<c.length&&(v=c[b],v!==g);b++)!v._indexToPoints||v.enabled===!1||(y=v._indexToPoints);var O=y?function(C){return y[C]}:function(C){return[C]};return O}},2275:function(f,h,c){var g=c(1828),v=c(9298),y=c(9344).p,b=c(606).BADNUM;h.moduleType="transform",h.name="sort",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},h.supplyDefaults=function(k){var w={};function T(M,I){return g.coerce(k,w,h.attributes,M,I)}var R=T("enabled");return R&&(T("target"),T("order")),w},h.calcTransform=function(k,w,T){if(T.enabled){var R=g.getTargetArray(w,T);if(R){var M=T.target,I=R.length;w._length&&(I=Math.min(I,w._length));var V=w._arrayAttrs,N=v.getDataToCoordFunc(k,w,M,R),Q=O(T,R,N,I),z=y(w.transforms,T),U={},F,B;for(F=0;F<V.length;F++){var E=g.nestedProperty(w,V[F]),W=E.get(),X=new Array(I);for(B=0;B<I;B++)X[B]=W[Q[B]];E.set(X)}for(B=0;B<I;B++)U[B]=z(Q[B]);T._indexToPoints=U,w._length=I}}};function O(k,w,T,R){var M=new Array(R),I=new Array(R),V;for(V=0;V<R;V++)M[V]={v:w[V],i:V};for(M.sort(C(k,T)),V=0;V<R;V++)I[V]=M[V].i;return I}function C(k,w){switch(k.order){case"ascending":return function(T,R){var M=w(T.v),I=w(R.v);return M===b?1:I===b?-1:M-I};case"descending":return function(T,R){var M=w(T.v),I=w(R.v);return M===b?1:I===b?-1:I-M}}}},1506:function(f,h){h.version="2.26.2"},5791:function(f){f.exports=v,f.exports.isMobile=v,f.exports.default=v;var h=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,c=/CrOS/,g=/android|ipad|playbook|silk/i;function v(y){y||(y={});var b=y.ua;if(!b&&typeof navigator<"u"&&(b=navigator.userAgent),b&&b.headers&&typeof b.headers["user-agent"]=="string"&&(b=b.headers["user-agent"]),typeof b!="string")return!1;var O=h.test(b)&&!c.test(b)||!!y.tablet&&g.test(b);return!O&&y.tablet&&y.featureDetect&&navigator&&navigator.maxTouchPoints>1&&b.indexOf("Macintosh")!==-1&&b.indexOf("Safari")!==-1&&(O=!0),O}},9898:function(f,h,c){var g,v;(function(){var y={version:"3.8.0"},b=[].slice,O=function(D){return b.call(D)},C=self.document;function k(D){return D&&(D.ownerDocument||D.document||D).documentElement}function w(D){return D&&(D.ownerDocument&&D.ownerDocument.defaultView||D.document&&D||D.defaultView)}if(C)try{O(C.documentElement.childNodes)[0].nodeType}catch{O=function(G){for(var he=G.length,Te=new Array(he);he--;)Te[he]=G[he];return Te}}if(Date.now||(Date.now=function(){return+new Date}),C)try{C.createElement("DIV").style.setProperty("opacity",0,"")}catch{var T=this.Element.prototype,R=T.setAttribute,M=T.setAttributeNS,I=this.CSSStyleDeclaration.prototype,V=I.setProperty;T.setAttribute=function(G,he){R.call(this,G,he+"")},T.setAttributeNS=function(G,he,Te){M.call(this,G,he,Te+"")},I.setProperty=function(G,he,Te){V.call(this,G,he+"",Te)}}y.ascending=N;function N(D,G){return D<G?-1:D>G?1:D>=G?0:NaN}y.descending=function(D,G){return G<D?-1:G>D?1:G>=D?0:NaN},y.min=function(D,G){var he=-1,Te=D.length,Pe,$e;if(arguments.length===1){for(;++he<Te;)if(($e=D[he])!=null&&$e>=$e){Pe=$e;break}for(;++he<Te;)($e=D[he])!=null&&Pe>$e&&(Pe=$e)}else{for(;++he<Te;)if(($e=G.call(D,D[he],he))!=null&&$e>=$e){Pe=$e;break}for(;++he<Te;)($e=G.call(D,D[he],he))!=null&&Pe>$e&&(Pe=$e)}return Pe},y.max=function(D,G){var he=-1,Te=D.length,Pe,$e;if(arguments.length===1){for(;++he<Te;)if(($e=D[he])!=null&&$e>=$e){Pe=$e;break}for(;++he<Te;)($e=D[he])!=null&&$e>Pe&&(Pe=$e)}else{for(;++he<Te;)if(($e=G.call(D,D[he],he))!=null&&$e>=$e){Pe=$e;break}for(;++he<Te;)($e=G.call(D,D[he],he))!=null&&$e>Pe&&(Pe=$e)}return Pe},y.extent=function(D,G){var he=-1,Te=D.length,Pe,$e,Ke;if(arguments.length===1){for(;++he<Te;)if(($e=D[he])!=null&&$e>=$e){Pe=Ke=$e;break}for(;++he<Te;)($e=D[he])!=null&&(Pe>$e&&(Pe=$e),Ke<$e&&(Ke=$e))}else{for(;++he<Te;)if(($e=G.call(D,D[he],he))!=null&&$e>=$e){Pe=Ke=$e;break}for(;++he<Te;)($e=G.call(D,D[he],he))!=null&&(Pe>$e&&(Pe=$e),Ke<$e&&(Ke=$e))}return[Pe,Ke]};function Q(D){return D===null?NaN:+D}function z(D){return!isNaN(D)}y.sum=function(D,G){var he=0,Te=D.length,Pe,$e=-1;if(arguments.length===1)for(;++$e<Te;)z(Pe=+D[$e])&&(he+=Pe);else for(;++$e<Te;)z(Pe=+G.call(D,D[$e],$e))&&(he+=Pe);return he},y.mean=function(D,G){var he=0,Te=D.length,Pe,$e=-1,Ke=Te;if(arguments.length===1)for(;++$e<Te;)z(Pe=Q(D[$e]))?he+=Pe:--Ke;else for(;++$e<Te;)z(Pe=Q(G.call(D,D[$e],$e)))?he+=Pe:--Ke;if(Ke)return he/Ke},y.quantile=function(D,G){var he=(D.length-1)*G+1,Te=Math.floor(he),Pe=+D[Te-1],$e=he-Te;return $e?Pe+$e*(D[Te]-Pe):Pe},y.median=function(D,G){var he=[],Te=D.length,Pe,$e=-1;if(arguments.length===1)for(;++$e<Te;)z(Pe=Q(D[$e]))&&he.push(Pe);else for(;++$e<Te;)z(Pe=Q(G.call(D,D[$e],$e)))&&he.push(Pe);if(he.length)return y.quantile(he.sort(N),.5)},y.variance=function(D,G){var he=D.length,Te=0,Pe,$e,Ke=0,We=-1,rt=0;if(arguments.length===1)for(;++We<he;)z(Pe=Q(D[We]))&&($e=Pe-Te,Te+=$e/++rt,Ke+=$e*(Pe-Te));else for(;++We<he;)z(Pe=Q(G.call(D,D[We],We)))&&($e=Pe-Te,Te+=$e/++rt,Ke+=$e*(Pe-Te));if(rt>1)return Ke/(rt-1)},y.deviation=function(){var D=y.variance.apply(this,arguments);return D&&Math.sqrt(D)};function U(D){return{left:function(G,he,Te,Pe){for(arguments.length<3&&(Te=0),arguments.length<4&&(Pe=G.length);Te<Pe;){var $e=Te+Pe>>>1;D(G[$e],he)<0?Te=$e+1:Pe=$e}return Te},right:function(G,he,Te,Pe){for(arguments.length<3&&(Te=0),arguments.length<4&&(Pe=G.length);Te<Pe;){var $e=Te+Pe>>>1;D(G[$e],he)>0?Pe=$e:Te=$e+1}return Te}}}var F=U(N);y.bisectLeft=F.left,y.bisect=y.bisectRight=F.right,y.bisector=function(D){return U(D.length===1?function(G,he){return N(D(G),he)}:D)},y.shuffle=function(D,G,he){(Te=arguments.length)<3&&(he=D.length,Te<2&&(G=0));for(var Te=he-G,Pe,$e;Te;)$e=Math.random()*Te--|0,Pe=D[Te+G],D[Te+G]=D[$e+G],D[$e+G]=Pe;return D},y.permute=function(D,G){for(var he=G.length,Te=new Array(he);he--;)Te[he]=D[G[he]];return Te},y.pairs=function(D){for(var G=0,he=D.length-1,Te=D[0],Pe=new Array(he<0?0:he);G<he;)Pe[G]=[Te,Te=D[++G]];return Pe},y.transpose=function(D){if(!($e=D.length))return[];for(var G=-1,he=y.min(D,B),Te=new Array(he);++G<he;)for(var Pe=-1,$e,Ke=Te[G]=new Array($e);++Pe<$e;)Ke[Pe]=D[Pe][G];return Te};function B(D){return D.length}y.zip=function(){return y.transpose(arguments)},y.keys=function(D){var G=[];for(var he in D)G.push(he);return G},y.values=function(D){var G=[];for(var he in D)G.push(D[he]);return G},y.entries=function(D){var G=[];for(var he in D)G.push({key:he,value:D[he]});return G},y.merge=function(D){for(var G=D.length,he,Te=-1,Pe=0,$e,Ke;++Te<G;)Pe+=D[Te].length;for($e=new Array(Pe);--G>=0;)for(Ke=D[G],he=Ke.length;--he>=0;)$e[--Pe]=Ke[he];return $e};var E=Math.abs;y.range=function(D,G,he){if(arguments.length<3&&(he=1,arguments.length<2&&(G=D,D=0)),(G-D)/he===1/0)throw new Error("infinite range");var Te=[],Pe=W(E(he)),$e=-1,Ke;if(D*=Pe,G*=Pe,he*=Pe,he<0)for(;(Ke=D+he*++$e)>G;)Te.push(Ke/Pe);else for(;(Ke=D+he*++$e)<G;)Te.push(Ke/Pe);return Te};function W(D){for(var G=1;D*G%1;)G*=10;return G}function X(D,G){for(var he in G)Object.defineProperty(D.prototype,he,{value:G[he],enumerable:!1})}y.map=function(D,G){var he=new ie;if(D instanceof ie)D.forEach(function(We,rt){he.set(We,rt)});else if(Array.isArray(D)){var Te=-1,Pe=D.length,$e;if(arguments.length===1)for(;++Te<Pe;)he.set(Te,D[Te]);else for(;++Te<Pe;)he.set(G.call(D,$e=D[Te],Te),$e)}else for(var Ke in D)he.set(Ke,D[Ke]);return he};function ie(){this._=Object.create(null)}var L="__proto__",me="\0";X(ie,{has:de,get:function(D){return this._[ae(D)]},set:function(D,G){return this._[ae(D)]=G},remove:ee,keys:xe,values:function(){var D=[];for(var G in this._)D.push(this._[G]);return D},entries:function(){var D=[];for(var G in this._)D.push({key:q(G),value:this._[G]});return D},size:we,empty:Be,forEach:function(D){for(var G in this._)D.call(this,q(G),this._[G])}});function ae(D){return(D+="")===L||D[0]===me?me+D:D}function q(D){return(D+="")[0]===me?D.slice(1):D}function de(D){return ae(D)in this._}function ee(D){return(D=ae(D))in this._&&delete this._[D]}function xe(){var D=[];for(var G in this._)D.push(q(G));return D}function we(){var D=0;for(var G in this._)++D;return D}function Be(){for(var D in this._)return!1;return!0}y.nest=function(){var D={},G=[],he=[],Te,Pe;function $e(We,rt,vt){if(vt>=G.length)return Pe?Pe.call(D,rt):Te?rt.sort(Te):rt;for(var bt=-1,Zt=rt.length,Ut=G[vt++],gn,An,jt,nn=new ie,hn;++bt<Zt;)(hn=nn.get(gn=Ut(An=rt[bt])))?hn.push(An):nn.set(gn,[An]);return We?(An=We(),jt=function(_n,Pn){An.set(_n,$e(We,Pn,vt))}):(An={},jt=function(_n,Pn){An[_n]=$e(We,Pn,vt)}),nn.forEach(jt),An}function Ke(We,rt){if(rt>=G.length)return We;var vt=[],bt=he[rt++];return We.forEach(function(Zt,Ut){vt.push({key:Zt,values:Ke(Ut,rt)})}),bt?vt.sort(function(Zt,Ut){return bt(Zt.key,Ut.key)}):vt}return D.map=function(We,rt){return $e(rt,We,0)},D.entries=function(We){return Ke($e(y.map,We,0),0)},D.key=function(We){return G.push(We),D},D.sortKeys=function(We){return he[G.length-1]=We,D},D.sortValues=function(We){return Te=We,D},D.rollup=function(We){return Pe=We,D},D},y.set=function(D){var G=new pe;if(D)for(var he=0,Te=D.length;he<Te;++he)G.add(D[he]);return G};function pe(){this._=Object.create(null)}X(pe,{has:de,add:function(D){return this._[ae(D+="")]=!0,D},remove:ee,values:xe,size:we,empty:Be,forEach:function(D){for(var G in this._)D.call(this,q(G))}}),y.behavior={};function ne(D){return D}y.rebind=function(D,G){for(var he=1,Te=arguments.length,Pe;++he<Te;)D[Pe=arguments[he]]=le(D,G,G[Pe]);return D};function le(D,G,he){return function(){var Te=he.apply(G,arguments);return Te===G?D:Te}}function Y(D,G){if(G in D)return G;G=G.charAt(0).toUpperCase()+G.slice(1);for(var he=0,Te=ve.length;he<Te;++he){var Pe=ve[he]+G;if(Pe in D)return Pe}}var ve=["webkit","ms","moz","Moz","o","O"];function Oe(){}y.dispatch=function(){for(var D=new Le,G=-1,he=arguments.length;++G<he;)D[arguments[G]]=Ce(D);return D};function Le(){}Le.prototype.on=function(D,G){var he=D.indexOf("."),Te="";if(he>=0&&(Te=D.slice(he+1),D=D.slice(0,he)),D)return arguments.length<2?this[D].on(Te):this[D].on(Te,G);if(arguments.length===2){if(G==null)for(D in this)this.hasOwnProperty(D)&&this[D].on(Te,null);return this}};function Ce(D){var G=[],he=new ie;function Te(){for(var Pe=G,$e=-1,Ke=Pe.length,We;++$e<Ke;)(We=Pe[$e].on)&&We.apply(this,arguments);return D}return Te.on=function(Pe,$e){var Ke=he.get(Pe),We;return arguments.length<2?Ke&&Ke.on:(Ke&&(Ke.on=null,G=G.slice(0,We=G.indexOf(Ke)).concat(G.slice(We+1)),he.remove(Pe)),$e&&G.push(he.set(Pe,{on:$e})),D)},Te}y.event=null;function De(){y.event.preventDefault()}function Ve(){for(var D=y.event,G;G=D.sourceEvent;)D=G;return D}function _e(D){for(var G=new Le,he=0,Te=arguments.length;++he<Te;)G[arguments[he]]=Ce(G);return G.of=function(Pe,$e){return function(Ke){try{var We=Ke.sourceEvent=y.event;Ke.target=D,y.event=Ke,G[Ke.type].apply(Pe,$e)}finally{y.event=We}}},G}y.requote=function(D){return D.replace(Ie,"\\$&")};var Ie=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,re={}.__proto__?function(D,G){D.__proto__=G}:function(D,G){for(var he in G)D[he]=G[he]};function be(D){return re(D,oe),D}var te=function(D,G){return G.querySelector(D)},se=function(D,G){return G.querySelectorAll(D)},fe=function(D,G){var he=D.matches||D[Y(D,"matchesSelector")];return fe=function(Te,Pe){return he.call(Te,Pe)},fe(D,G)};typeof Sizzle=="function"&&(te=function(D,G){return Sizzle(D,G)[0]||null},se=Sizzle,fe=Sizzle.matchesSelector),y.selection=function(){return y.select(C.documentElement)};var oe=y.selection.prototype=[];oe.select=function(D){var G=[],he,Te,Pe,$e;D=Se(D);for(var Ke=-1,We=this.length;++Ke<We;){G.push(he=[]),he.parentNode=(Pe=this[Ke]).parentNode;for(var rt=-1,vt=Pe.length;++rt<vt;)($e=Pe[rt])?(he.push(Te=D.call($e,$e.__data__,rt,Ke)),Te&&"__data__"in $e&&(Te.__data__=$e.__data__)):he.push(null)}return be(G)};function Se(D){return typeof D=="function"?D:function(){return te(D,this)}}oe.selectAll=function(D){var G=[],he,Te;D=ce(D);for(var Pe=-1,$e=this.length;++Pe<$e;)for(var Ke=this[Pe],We=-1,rt=Ke.length;++We<rt;)(Te=Ke[We])&&(G.push(he=O(D.call(Te,Te.__data__,We,Pe))),he.parentNode=Te);return be(G)};function ce(D){return typeof D=="function"?D:function(){return se(D,this)}}var ke="http://www.w3.org/1999/xhtml",Qe={svg:"http://www.w3.org/2000/svg",xhtml:ke,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};y.ns={prefix:Qe,qualify:function(D){var G=D.indexOf(":"),he=D;return G>=0&&(he=D.slice(0,G))!=="xmlns"&&(D=D.slice(G+1)),Qe.hasOwnProperty(he)?{space:Qe[he],local:D}:D}},oe.attr=function(D,G){if(arguments.length<2){if(typeof D=="string"){var he=this.node();return D=y.ns.qualify(D),D.local?he.getAttributeNS(D.space,D.local):he.getAttribute(D)}for(G in D)this.each(Ze(G,D[G]));return this}return this.each(Ze(D,G))};function Ze(D,G){D=y.ns.qualify(D);function he(){this.removeAttribute(D)}function Te(){this.removeAttributeNS(D.space,D.local)}function Pe(){this.setAttribute(D,G)}function $e(){this.setAttributeNS(D.space,D.local,G)}function Ke(){var rt=G.apply(this,arguments);rt==null?this.removeAttribute(D):this.setAttribute(D,rt)}function We(){var rt=G.apply(this,arguments);rt==null?this.removeAttributeNS(D.space,D.local):this.setAttributeNS(D.space,D.local,rt)}return G==null?D.local?Te:he:typeof G=="function"?D.local?We:Ke:D.local?$e:Pe}function Xe(D){return D.trim().replace(/\s+/g," ")}oe.classed=function(D,G){if(arguments.length<2){if(typeof D=="string"){var he=this.node(),Te=(D=pt(D)).length,Pe=-1;if(G=he.classList){for(;++Pe<Te;)if(!G.contains(D[Pe]))return!1}else for(G=he.getAttribute("class");++Pe<Te;)if(!ct(D[Pe]).test(G))return!1;return!0}for(G in D)this.each(Ye(G,D[G]));return this}return this.each(Ye(D,G))};function ct(D){return new RegExp("(?:^|\\s+)"+y.requote(D)+"(?:\\s+|$)","g")}function pt(D){return(D+"").trim().split(/^|\s+/)}function Ye(D,G){D=pt(D).map(je);var he=D.length;function Te(){for(var $e=-1;++$e<he;)D[$e](this,G)}function Pe(){for(var $e=-1,Ke=G.apply(this,arguments);++$e<he;)D[$e](this,Ke)}return typeof G=="function"?Pe:Te}function je(D){var G=ct(D);return function(he,Te){if(Pe=he.classList)return Te?Pe.add(D):Pe.remove(D);var Pe=he.getAttribute("class")||"";Te?(G.lastIndex=0,G.test(Pe)||he.setAttribute("class",Xe(Pe+" "+D))):he.setAttribute("class",Xe(Pe.replace(G," ")))}}oe.style=function(D,G,he){var Te=arguments.length;if(Te<3){if(typeof D!="string"){Te<2&&(G="");for(he in D)this.each(et(he,D[he],G));return this}if(Te<2){var Pe=this.node();return w(Pe).getComputedStyle(Pe,null).getPropertyValue(D)}he=""}return this.each(et(D,G,he))};function et(D,G,he){function Te(){this.style.removeProperty(D)}function Pe(){this.style.setProperty(D,G,he)}function $e(){var Ke=G.apply(this,arguments);Ke==null?this.style.removeProperty(D):this.style.setProperty(D,Ke,he)}return G==null?Te:typeof G=="function"?$e:Pe}oe.property=function(D,G){if(arguments.length<2){if(typeof D=="string")return this.node()[D];for(G in D)this.each(yt(G,D[G]));return this}return this.each(yt(D,G))};function yt(D,G){function he(){delete this[D]}function Te(){this[D]=G}function Pe(){var $e=G.apply(this,arguments);$e==null?delete this[D]:this[D]=$e}return G==null?he:typeof G=="function"?Pe:Te}oe.text=function(D){return arguments.length?this.each(typeof D=="function"?function(){var G=D.apply(this,arguments);this.textContent=G??""}:D==null?function(){this.textContent=""}:function(){this.textContent=D}):this.node().textContent},oe.html=function(D){return arguments.length?this.each(typeof D=="function"?function(){var G=D.apply(this,arguments);this.innerHTML=G??""}:D==null?function(){this.innerHTML=""}:function(){this.innerHTML=D}):this.node().innerHTML},oe.append=function(D){return D=ft(D),this.select(function(){return this.appendChild(D.apply(this,arguments))})};function ft(D){function G(){var Te=this.ownerDocument,Pe=this.namespaceURI;return Pe===ke&&Te.documentElement.namespaceURI===ke?Te.createElement(D):Te.createElementNS(Pe,D)}function he(){return this.ownerDocument.createElementNS(D.space,D.local)}return typeof D=="function"?D:(D=y.ns.qualify(D)).local?he:G}oe.insert=function(D,G){return D=ft(D),G=Se(G),this.select(function(){return this.insertBefore(D.apply(this,arguments),G.apply(this,arguments)||null)})},oe.remove=function(){return this.each(tt)};function tt(){var D=this.parentNode;D&&D.removeChild(this)}oe.data=function(D,G){var he=-1,Te=this.length,Pe,$e;if(!arguments.length){for(D=new Array(Te=(Pe=this[0]).length);++he<Te;)($e=Pe[he])&&(D[he]=$e.__data__);return D}function Ke(bt,Zt){var Ut,gn=bt.length,An=Zt.length,jt=Math.min(gn,An),nn=new Array(An),hn=new Array(An),_n=new Array(gn),Pn,yn;if(G){var cr=new ie,Hr=new Array(gn),Jr;for(Ut=-1;++Ut<gn;)(Pn=bt[Ut])&&(cr.has(Jr=G.call(Pn,Pn.__data__,Ut))?_n[Ut]=Pn:cr.set(Jr,Pn),Hr[Ut]=Jr);for(Ut=-1;++Ut<An;)(Pn=cr.get(Jr=G.call(Zt,yn=Zt[Ut],Ut)))?Pn!==!0&&(nn[Ut]=Pn,Pn.__data__=yn):hn[Ut]=wt(yn),cr.set(Jr,!0);for(Ut=-1;++Ut<gn;)Ut in Hr&&cr.get(Hr[Ut])!==!0&&(_n[Ut]=bt[Ut])}else{for(Ut=-1;++Ut<jt;)Pn=bt[Ut],yn=Zt[Ut],Pn?(Pn.__data__=yn,nn[Ut]=Pn):hn[Ut]=wt(yn);for(;Ut<An;++Ut)hn[Ut]=wt(Zt[Ut]);for(;Ut<gn;++Ut)_n[Ut]=bt[Ut]}hn.update=nn,hn.parentNode=nn.parentNode=_n.parentNode=bt.parentNode,We.push(hn),rt.push(nn),vt.push(_n)}var We=Bt([]),rt=be([]),vt=be([]);if(typeof D=="function")for(;++he<Te;)Ke(Pe=this[he],D.call(Pe,Pe.parentNode.__data__,he));else for(;++he<Te;)Ke(Pe=this[he],D);return rt.enter=function(){return We},rt.exit=function(){return vt},rt};function wt(D){return{__data__:D}}oe.datum=function(D){return arguments.length?this.property("__data__",D):this.property("__data__")},oe.filter=function(D){var G=[],he,Te,Pe;typeof D!="function"&&(D=Xt(D));for(var $e=0,Ke=this.length;$e<Ke;$e++){G.push(he=[]),he.parentNode=(Te=this[$e]).parentNode;for(var We=0,rt=Te.length;We<rt;We++)(Pe=Te[We])&&D.call(Pe,Pe.__data__,We,$e)&&he.push(Pe)}return be(G)};function Xt(D){return function(){return fe(this,D)}}oe.order=function(){for(var D=-1,G=this.length;++D<G;)for(var he=this[D],Te=he.length-1,Pe=he[Te],$e;--Te>=0;)($e=he[Te])&&(Pe&&Pe!==$e.nextSibling&&Pe.parentNode.insertBefore($e,Pe),Pe=$e);return this},oe.sort=function(D){D=Gt.apply(this,arguments);for(var G=-1,he=this.length;++G<he;)this[G].sort(D);return this.order()};function Gt(D){return arguments.length||(D=N),function(G,he){return G&&he?D(G.__data__,he.__data__):!G-!he}}oe.each=function(D){return Nt(this,function(G,he,Te){D.call(G,G.__data__,he,Te)})};function Nt(D,G){for(var he=0,Te=D.length;he<Te;he++)for(var Pe=D[he],$e=0,Ke=Pe.length,We;$e<Ke;$e++)(We=Pe[$e])&&G(We,$e,he);return D}oe.call=function(D){var G=O(arguments);return D.apply(G[0]=this,G),this},oe.empty=function(){return!this.node()},oe.node=function(){for(var D=0,G=this.length;D<G;D++)for(var he=this[D],Te=0,Pe=he.length;Te<Pe;Te++){var $e=he[Te];if($e)return $e}return null},oe.size=function(){var D=0;return Nt(this,function(){++D}),D};function Bt(D){return re(D,vn),D}var vn=[];y.selection.enter=Bt,y.selection.enter.prototype=vn,vn.append=oe.append,vn.empty=oe.empty,vn.node=oe.node,vn.call=oe.call,vn.size=oe.size,vn.select=function(D){for(var G=[],he,Te,Pe,$e,Ke,We=-1,rt=this.length;++We<rt;){Pe=($e=this[We]).update,G.push(he=[]),he.parentNode=$e.parentNode;for(var vt=-1,bt=$e.length;++vt<bt;)(Ke=$e[vt])?(he.push(Pe[vt]=Te=D.call($e.parentNode,Ke.__data__,vt,We)),Te.__data__=Ke.__data__):he.push(null)}return be(G)},vn.insert=function(D,G){return arguments.length<2&&(G=En(this)),oe.insert.call(this,D,G)};function En(D){var G,he;return function(Te,Pe,$e){var Ke=D[$e].update,We=Ke.length,rt;for($e!=he&&(he=$e,G=0),Pe>=G&&(G=Pe+1);!(rt=Ke[G])&&++G<We;);return rt}}y.select=function(D){var G;return typeof D=="string"?(G=[te(D,C)],G.parentNode=C.documentElement):(G=[D],G.parentNode=k(D)),be([G])},y.selectAll=function(D){var G;return typeof D=="string"?(G=O(se(D,C)),G.parentNode=C.documentElement):(G=O(D),G.parentNode=null),be([G])},oe.on=function(D,G,he){var Te=arguments.length;if(Te<3){if(typeof D!="string"){Te<2&&(G=!1);for(he in D)this.each(ln(he,D[he],G));return this}if(Te<2)return(Te=this.node()["__on"+D])&&Te._;he=!1}return this.each(ln(D,G,he))};function ln(D,G,he){var Te="__on"+D,Pe=D.indexOf("."),$e=an;Pe>0&&(D=D.slice(0,Pe));var Ke=Yn.get(D);Ke&&(D=Ke,$e=wn);function We(){var bt=this[Te];bt&&(this.removeEventListener(D,bt,bt.$),delete this[Te])}function rt(){var bt=$e(G,O(arguments));We.call(this),this.addEventListener(D,this[Te]=bt,bt.$=he),bt._=G}function vt(){var bt=new RegExp("^__on([^.]+)"+y.requote(D)+"$"),Zt;for(var Ut in this)if(Zt=Ut.match(bt)){var gn=this[Ut];this.removeEventListener(Zt[1],gn,gn.$),delete this[Ut]}}return Pe?G?rt:We:G?Oe:vt}var Yn=y.map({mouseenter:"mouseover",mouseleave:"mouseout"});C&&Yn.forEach(function(D){"on"+D in C&&Yn.remove(D)});function an(D,G){return function(he){var Te=y.event;y.event=he,G[0]=this.__data__;try{D.apply(this,G)}finally{y.event=Te}}}function wn(D,G){var he=an(D,G);return function(Te){var Pe=this,$e=Te.relatedTarget;(!$e||$e!==Pe&&!($e.compareDocumentPosition(Pe)&8))&&he.call(Pe,Te)}}var Xn,Un=0;function Sn(D){var G=".dragsuppress-"+ ++Un,he="click"+G,Te=y.select(w(D)).on("touchmove"+G,De).on("dragstart"+G,De).on("selectstart"+G,De);if(Xn==null&&(Xn="onselectstart"in D?!1:Y(D.style,"userSelect")),Xn){var Pe=k(D).style,$e=Pe[Xn];Pe[Xn]="none"}return function(Ke){if(Te.on(G,null),Xn&&(Pe[Xn]=$e),Ke){var We=function(){Te.on(he,null)};Te.on(he,function(){De(),We()},!0),setTimeout(We,0)}}}y.mouse=function(D){return ut(D,Ve())};var lt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ut(D,G){G.changedTouches&&(G=G.changedTouches[0]);var he=D.ownerSVGElement||D;if(he.createSVGPoint){var Te=he.createSVGPoint();if(lt<0){var Pe=w(D);if(Pe.scrollX||Pe.scrollY){he=y.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var $e=he[0][0].getScreenCTM();lt=!($e.f||$e.e),he.remove()}}return lt?(Te.x=G.pageX,Te.y=G.pageY):(Te.x=G.clientX,Te.y=G.clientY),Te=Te.matrixTransform(D.getScreenCTM().inverse()),[Te.x,Te.y]}var Ke=D.getBoundingClientRect();return[G.clientX-Ke.left-D.clientLeft,G.clientY-Ke.top-D.clientTop]}y.touch=function(D,G,he){if(arguments.length<3&&(he=G,G=Ve().changedTouches),G){for(var Te=0,Pe=G.length,$e;Te<Pe;++Te)if(($e=G[Te]).identifier===he)return ut(D,$e)}},y.behavior.drag=function(){var D=_e(Pe,"drag","dragstart","dragend"),G=null,he=$e(Oe,y.mouse,w,"mousemove","mouseup"),Te=$e(xt,y.touch,ne,"touchmove","touchend");function Pe(){this.on("mousedown.drag",he).on("touchstart.drag",Te)}function $e(Ke,We,rt,vt,bt){return function(){var Zt=this,Ut=y.event.target.correspondingElement||y.event.target,gn=Zt.parentNode,An=D.of(Zt,arguments),jt=0,nn=Ke(),hn=".drag"+(nn==null?"":"-"+nn),_n,Pn=y.select(rt(Ut)).on(vt+hn,Hr).on(bt+hn,Jr),yn=Sn(Ut),cr=We(gn,nn);G?(_n=G.apply(Zt,arguments),_n=[_n.x-cr[0],_n.y-cr[1]]):_n=[0,0],An({type:"dragstart"});function Hr(){var Ar=We(gn,nn),ro,fo;Ar&&(ro=Ar[0]-cr[0],fo=Ar[1]-cr[1],jt|=ro|fo,cr=Ar,An({type:"drag",x:Ar[0]+_n[0],y:Ar[1]+_n[1],dx:ro,dy:fo}))}function Jr(){We(gn,nn)&&(Pn.on(vt+hn,null).on(bt+hn,null),yn(jt),An({type:"dragend"}))}}}return Pe.origin=function(Ke){return arguments.length?(G=Ke,Pe):G},y.rebind(Pe,D,"on")};function xt(){return y.event.changedTouches[0].identifier}y.touches=function(D,G){return arguments.length<2&&(G=Ve().touches),G?O(G).map(function(he){var Te=ut(D,he);return Te.identifier=he.identifier,Te}):[]};var gt=1e-6,Dt=gt*gt,He=Math.PI,at=2*He,dt=at-gt,mt=He/2,Tt=He/180,Pt=180/He;function dn(D,G,he){return(G[0]-D[0])*(he[1]-D[1])-(G[1]-D[1])*(he[0]-D[0])}function rn(D){return D>1?mt:D<-1?-mt:Math.asin(D)}function Wt(D){return((D=Math.exp(D))-1/D)/2}function Rt(D){return((D=Math.exp(D))+1/D)/2}function fn(D){return((D=Math.exp(2*D))-1)/(D+1)}var Hn=Math.SQRT2,nr=2,Er=4;y.interpolateZoom=function(D,G){var he=D[0],Te=D[1],Pe=D[2],$e=G[0],Ke=G[1],We=G[2],rt=$e-he,vt=Ke-Te,bt=rt*rt+vt*vt,Zt,Ut;if(bt<Dt)Ut=Math.log(We/Pe)/Hn,Zt=function(_n){return[he+_n*rt,Te+_n*vt,Pe*Math.exp(Hn*_n*Ut)]};else{var gn=Math.sqrt(bt),An=(We*We-Pe*Pe+Er*bt)/(2*Pe*nr*gn),jt=(We*We-Pe*Pe-Er*bt)/(2*We*nr*gn),nn=Math.log(Math.sqrt(An*An+1)-An),hn=Math.log(Math.sqrt(jt*jt+1)-jt);Ut=(hn-nn)/Hn,Zt=function(_n){var Pn=_n*Ut,yn=Rt(nn),cr=Pe/(nr*gn)*(yn*fn(Hn*Pn+nn)-Wt(nn));return[he+cr*rt,Te+cr*vt,Pe*yn/Rt(Hn*Pn+nn)]}}return Zt.duration=Ut*1e3,Zt},y.behavior.zoom=function(){var D={x:0,y:0,k:1},G,he,Te,Pe=[960,500],$e=zt,Ke=250,We=0,rt="mousedown.zoom",vt="mousemove.zoom",bt="mouseup.zoom",Zt,Ut="touchstart.zoom",gn,An=_e(Pn,"zoomstart","zoom","zoomend"),jt,nn,hn,_n;Wn||(Wn="onwheel"in C?(vr=function(){return-y.event.deltaY*(y.event.deltaMode?120:1)},"wheel"):"onmousewheel"in C?(vr=function(){return y.event.wheelDelta},"mousewheel"):(vr=function(){return-y.event.detail},"MozMousePixelScroll"));function Pn(Lr){Lr.on(rt,go).on(Wn+".zoom",ri).on("dblclick.zoom",ba).on(Ut,js)}Pn.event=function(Lr){Lr.each(function(){var Do=An.of(this,arguments),ms=D;Nd?y.select(this).transition().each("start.zoom",function(){D=this.__chart__||{x:0,y:0,k:1},fo(Do)}).tween("zoom:zoom",function(){var _s=Pe[0],Qa=Pe[1],hi=he?he[0]:_s/2,Yi=he?he[1]:Qa/2,$i=y.interpolateZoom([(hi-D.x)/D.k,(Yi-D.y)/D.k,_s/D.k],[(hi-ms.x)/ms.k,(Yi-ms.y)/ms.k,_s/ms.k]);return function(Wc){var Ji=$i(Wc),Pc=_s/Ji[2];this.__chart__=D={x:hi-Ji[0]*Pc,y:Yi-Ji[1]*Pc,k:Pc},ts(Do)}}).each("interrupt.zoom",function(){xo(Do)}).each("end.zoom",function(){xo(Do)}):(this.__chart__=D,fo(Do),ts(Do),xo(Do))})},Pn.translate=function(Lr){return arguments.length?(D={x:+Lr[0],y:+Lr[1],k:D.k},ro(),Pn):[D.x,D.y]},Pn.scale=function(Lr){return arguments.length?(D={x:D.x,y:D.y,k:null},Hr(+Lr),ro(),Pn):D.k},Pn.scaleExtent=function(Lr){return arguments.length?($e=Lr==null?zt:[+Lr[0],+Lr[1]],Pn):$e},Pn.center=function(Lr){return arguments.length?(Te=Lr&&[+Lr[0],+Lr[1]],Pn):Te},Pn.size=function(Lr){return arguments.length?(Pe=Lr&&[+Lr[0],+Lr[1]],Pn):Pe},Pn.duration=function(Lr){return arguments.length?(Ke=+Lr,Pn):Ke},Pn.x=function(Lr){return arguments.length?(nn=Lr,jt=Lr.copy(),D={x:0,y:0,k:1},Pn):nn},Pn.y=function(Lr){return arguments.length?(_n=Lr,hn=Lr.copy(),D={x:0,y:0,k:1},Pn):_n};function yn(Lr){return[(Lr[0]-D.x)/D.k,(Lr[1]-D.y)/D.k]}function cr(Lr){return[Lr[0]*D.k+D.x,Lr[1]*D.k+D.y]}function Hr(Lr){D.k=Math.max($e[0],Math.min($e[1],Lr))}function Jr(Lr,Do){Do=cr(Do),D.x+=Lr[0]-Do[0],D.y+=Lr[1]-Do[1]}function Ar(Lr,Do,ms,_s){Lr.__chart__={x:D.x,y:D.y,k:D.k},Hr(Math.pow(2,_s)),Jr(he=Do,ms),Lr=y.select(Lr),Ke>0&&(Lr=Lr.transition().duration(Ke)),Lr.call(Pn.event)}function ro(){nn&&nn.domain(jt.range().map(function(Lr){return(Lr-D.x)/D.k}).map(jt.invert)),_n&&_n.domain(hn.range().map(function(Lr){return(Lr-D.y)/D.k}).map(hn.invert))}function fo(Lr){We++||Lr({type:"zoomstart"})}function ts(Lr){ro(),Lr({type:"zoom",scale:D.k,translate:[D.x,D.y]})}function xo(Lr){--We||(Lr({type:"zoomend"}),he=null)}function go(){var Lr=this,Do=An.of(Lr,arguments),ms=0,_s=y.select(w(Lr)).on(vt,Yi).on(bt,$i),Qa=yn(y.mouse(Lr)),hi=Sn(Lr);ac.call(Lr),fo(Do);function Yi(){ms=1,Jr(y.mouse(Lr),Qa),ts(Do)}function $i(){_s.on(vt,null).on(bt,null),hi(ms),xo(Do)}}function js(){var Lr=this,Do=An.of(Lr,arguments),ms={},_s=0,Qa,hi=".zoom-"+y.event.changedTouches[0].identifier,Yi="touchmove"+hi,$i="touchend"+hi,Wc=[],Ji=y.select(Lr),Pc=Sn(Lr);ea(),fo(Do),Ji.on(rt,null).on(Ut,ea);function Yl(){var Xl=y.touches(Lr);return Qa=D.k,Xl.forEach(function(Li){Li.identifier in ms&&(ms[Li.identifier]=yn(Li))}),Xl}function ea(){var Xl=y.event.target;y.select(Xl).on(Yi,Ju).on($i,Lf),Wc.push(Xl);for(var Li=y.event.changedTouches,Gl=0,Ii=Li.length;Gl<Ii;++Gl)ms[Li[Gl].identifier]=null;var ta=Yl(),Mc=Date.now();if(ta.length===1){if(Mc-gn<500){var Qd=ta[0];Ar(Lr,Qd,ms[Qd.identifier],Math.floor(Math.log(D.k)/Math.LN2)+1),De()}gn=Mc}else if(ta.length>1){var Qd=ta[0],ef=ta[1],Cm=Qd[0]-ef[0],Fd=Qd[1]-ef[1];_s=Cm*Cm+Fd*Fd}}function Ju(){var Xl=y.touches(Lr),Li,Gl,Ii,ta;ac.call(Lr);for(var Mc=0,Qd=Xl.length;Mc<Qd;++Mc,ta=null)if(Ii=Xl[Mc],ta=ms[Ii.identifier]){if(Gl)break;Li=Ii,Gl=ta}if(ta){var ef=(ef=Ii[0]-Li[0])*ef+(ef=Ii[1]-Li[1])*ef,Cm=_s&&Math.sqrt(ef/_s);Li=[(Li[0]+Ii[0])/2,(Li[1]+Ii[1])/2],Gl=[(Gl[0]+ta[0])/2,(Gl[1]+ta[1])/2],Hr(Cm*Qa)}gn=null,Jr(Li,Gl),ts(Do)}function Lf(){if(y.event.touches.length){for(var Xl=y.event.changedTouches,Li=0,Gl=Xl.length;Li<Gl;++Li)delete ms[Xl[Li].identifier];for(var Ii in ms)return void Yl()}y.selectAll(Wc).on(hi,null),Ji.on(rt,go).on(Ut,js),Pc(),xo(Do)}}function ri(){var Lr=An.of(this,arguments);Zt?clearTimeout(Zt):(ac.call(this),G=yn(he=Te||y.mouse(this)),fo(Lr)),Zt=setTimeout(function(){Zt=null,xo(Lr)},50),De(),Hr(Math.pow(2,vr()*.002)*D.k),Jr(he,G),ts(Lr)}function ba(){var Lr=y.mouse(this),Do=Math.log(D.k)/Math.LN2;Ar(this,Lr,yn(Lr),y.event.shiftKey?Math.ceil(Do)-1:Math.floor(Do)+1)}return y.rebind(Pn,An,"on")};var zt=[0,1/0],vr,Wn;y.color=Br;function Br(){}Br.prototype.toString=function(){return this.rgb()+""},y.hsl=kr;function kr(D,G,he){return this instanceof kr?(this.h=+D,this.s=+G,void(this.l=+he)):arguments.length<2?D instanceof kr?new kr(D.h,D.s,D.l):Jt(""+D,on,kr):new kr(D,G,he)}var or=kr.prototype=new Br;or.brighter=function(D){return D=Math.pow(.7,arguments.length?D:1),new kr(this.h,this.s,this.l/D)},or.darker=function(D){return D=Math.pow(.7,arguments.length?D:1),new kr(this.h,this.s,D*this.l)},or.rgb=function(){return jr(this.h,this.s,this.l)};function jr(D,G,he){var Te,Pe;D=isNaN(D)?0:(D%=360)<0?D+360:D,G=isNaN(G)||G<0?0:G>1?1:G,he=he<0?0:he>1?1:he,Pe=he<=.5?he*(1+G):he+G-he*G,Te=2*he-Pe;function $e(We){return We>360?We-=360:We<0&&(We+=360),We<60?Te+(Pe-Te)*We/60:We<180?Pe:We<240?Te+(Pe-Te)*(240-We)/60:Te}function Ke(We){return Math.round($e(We)*255)}return new Ht(Ke(D+120),Ke(D),Ke(D-120))}y.hcl=_r;function _r(D,G,he){return this instanceof _r?(this.h=+D,this.c=+G,void(this.l=+he)):arguments.length<2?D instanceof _r?new _r(D.h,D.c,D.l):D instanceof sr?St(D.l,D.a,D.b):St((D=Tn((D=y.rgb(D)).r,D.g,D.b)).l,D.a,D.b):new _r(D,G,he)}var Rn=_r.prototype=new Br;Rn.brighter=function(D){return new _r(this.h,this.c,Math.min(100,this.l+Sr*(arguments.length?D:1)))},Rn.darker=function(D){return new _r(this.h,this.c,Math.max(0,this.l-Sr*(arguments.length?D:1)))},Rn.rgb=function(){return xr(this.h,this.c,this.l).rgb()};function xr(D,G,he){return isNaN(D)&&(D=0),isNaN(G)&&(G=0),new sr(he,Math.cos(D*=Tt)*G,Math.sin(D)*G)}y.lab=sr;function sr(D,G,he){return this instanceof sr?(this.l=+D,this.a=+G,void(this.b=+he)):arguments.length<2?D instanceof sr?new sr(D.l,D.a,D.b):D instanceof _r?xr(D.h,D.c,D.l):Tn((D=Ht(D)).r,D.g,D.b):new sr(D,G,he)}var Sr=18,ao=.95047,Oo=1,wr=1.08883,Fe=sr.prototype=new Br;Fe.brighter=function(D){return new sr(Math.min(100,this.l+Sr*(arguments.length?D:1)),this.a,this.b)},Fe.darker=function(D){return new sr(Math.max(0,this.l-Sr*(arguments.length?D:1)),this.a,this.b)},Fe.rgb=function(){return Ee(this.l,this.a,this.b)};function Ee(D,G,he){var Te=(D+16)/116,Pe=Te+G/500,$e=Te-he/200;return Pe=Ct(Pe)*ao,Te=Ct(Te)*Oo,$e=Ct($e)*wr,new Ht(Ft(3.2404542*Pe-1.5371385*Te-.4985314*$e),Ft(-.969266*Pe+1.8760108*Te+.041556*$e),Ft(.0556434*Pe-.2040259*Te+1.0572252*$e))}function St(D,G,he){return D>0?new _r(Math.atan2(he,G)*Pt,Math.sqrt(G*G+he*he),D):new _r(NaN,NaN,D)}function Ct(D){return D>.206893034?D*D*D:(D-.13793103448275862)/7.787037}function Lt(D){return D>.008856?Math.pow(D,.3333333333333333):7.787037*D+.13793103448275862}function Ft(D){return Math.round(255*(D<=.00304?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055))}y.rgb=Ht;function Ht(D,G,he){return this instanceof Ht?(this.r=~~D,this.g=~~G,void(this.b=~~he)):arguments.length<2?D instanceof Ht?new Ht(D.r,D.g,D.b):Jt(""+D,Ht,jr):new Ht(D,G,he)}function $t(D){return new Ht(D>>16,D>>8&255,D&255)}function Mt(D){return $t(D)+""}var tn=Ht.prototype=new Br;tn.brighter=function(D){D=Math.pow(.7,arguments.length?D:1);var G=this.r,he=this.g,Te=this.b,Pe=30;return!G&&!he&&!Te?new Ht(Pe,Pe,Pe):(G&&G<Pe&&(G=Pe),he&&he<Pe&&(he=Pe),Te&&Te<Pe&&(Te=Pe),new Ht(Math.min(255,G/D),Math.min(255,he/D),Math.min(255,Te/D)))},tn.darker=function(D){return D=Math.pow(.7,arguments.length?D:1),new Ht(D*this.r,D*this.g,D*this.b)},tn.hsl=function(){return on(this.r,this.g,this.b)},tn.toString=function(){return"#"+un(this.r)+un(this.g)+un(this.b)};function un(D){return D<16?"0"+Math.max(0,D).toString(16):Math.min(255,D).toString(16)}function Jt(D,G,he){var Te=0,Pe=0,$e=0,Ke,We,rt;if(Ke=/([a-z]+)\((.*)\)/.exec(D=D.toLowerCase()),Ke)switch(We=Ke[2].split(","),Ke[1]){case"hsl":return he(parseFloat(We[0]),parseFloat(We[1])/100,parseFloat(We[2])/100);case"rgb":return G(pn(We[0]),pn(We[1]),pn(We[2]))}return(rt=Jn.get(D))?G(rt.r,rt.g,rt.b):(D!=null&&D.charAt(0)==="#"&&!isNaN(rt=parseInt(D.slice(1),16))&&(D.length===4?(Te=(rt&3840)>>4,Te=Te>>4|Te,Pe=rt&240,Pe=Pe>>4|Pe,$e=rt&15,$e=$e<<4|$e):D.length===7&&(Te=(rt&16711680)>>16,Pe=(rt&65280)>>8,$e=rt&255)),G(Te,Pe,$e))}function on(D,G,he){var Te=Math.min(D/=255,G/=255,he/=255),Pe=Math.max(D,G,he),$e=Pe-Te,Ke,We,rt=(Pe+Te)/2;return $e?(We=rt<.5?$e/(Pe+Te):$e/(2-Pe-Te),D==Pe?Ke=(G-he)/$e+(G<he?6:0):G==Pe?Ke=(he-D)/$e+2:Ke=(D-G)/$e+4,Ke*=60):(Ke=NaN,We=rt>0&&rt<1?0:Ke),new kr(Ke,We,rt)}function Tn(D,G,he){D=On(D),G=On(G),he=On(he);var Te=Lt((.4124564*D+.3575761*G+.1804375*he)/ao),Pe=Lt((.2126729*D+.7151522*G+.072175*he)/Oo),$e=Lt((.0193339*D+.119192*G+.9503041*he)/wr);return sr(116*Pe-16,500*(Te-Pe),200*(Pe-$e))}function On(D){return(D/=255)<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function pn(D){var G=parseFloat(D);return D.charAt(D.length-1)==="%"?Math.round(G*2.55):G}var Jn=y.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jn.forEach(function(D,G){Jn.set(D,$t(G))});function Fn(D){return typeof D=="function"?D:function(){return D}}y.functor=Fn,y.xhr=Zr(ne);function Zr(D){return function(G,he,Te){return arguments.length===2&&typeof he=="function"&&(Te=he,he=null),dr(G,he,D,Te)}}function dr(D,G,he,Te){var Pe={},$e=y.dispatch("beforesend","progress","load","error"),Ke={},We=new XMLHttpRequest,rt=null;self.XDomainRequest&&!("withCredentials"in We)&&/^(http(s)?:)?\/\//.test(D)&&(We=new XDomainRequest),"onload"in We?We.onload=We.onerror=vt:We.onreadystatechange=function(){We.readyState>3&&vt()};function vt(){var bt=We.status,Zt;if(!bt&&ar(We)||bt>=200&&bt<300||bt===304){try{Zt=he.call(Pe,We)}catch(Ut){$e.error.call(Pe,Ut);return}$e.load.call(Pe,Zt)}else $e.error.call(Pe,We)}return We.onprogress=function(bt){var Zt=y.event;y.event=bt;try{$e.progress.call(Pe,We)}finally{y.event=Zt}},Pe.header=function(bt,Zt){return bt=(bt+"").toLowerCase(),arguments.length<2?Ke[bt]:(Zt==null?delete Ke[bt]:Ke[bt]=Zt+"",Pe)},Pe.mimeType=function(bt){return arguments.length?(G=bt==null?null:bt+"",Pe):G},Pe.responseType=function(bt){return arguments.length?(rt=bt,Pe):rt},Pe.response=function(bt){return he=bt,Pe},["get","post"].forEach(function(bt){Pe[bt]=function(){return Pe.send.apply(Pe,[bt].concat(O(arguments)))}}),Pe.send=function(bt,Zt,Ut){if(arguments.length===2&&typeof Zt=="function"&&(Ut=Zt,Zt=null),We.open(bt,D,!0),G!=null&&!("accept"in Ke)&&(Ke.accept=G+",*/*"),We.setRequestHeader)for(var gn in Ke)We.setRequestHeader(gn,Ke[gn]);return G!=null&&We.overrideMimeType&&We.overrideMimeType(G),rt!=null&&(We.responseType=rt),Ut!=null&&Pe.on("error",Ut).on("load",function(An){Ut(null,An)}),$e.beforesend.call(Pe,We),We.send(Zt??null),Pe},Pe.abort=function(){return We.abort(),Pe},y.rebind(Pe,$e,"on"),Te==null?Pe:Pe.get(Ur(Te))}function Ur(D){return D.length===1?function(G,he){D(G==null?he:null)}:D}function ar(D){var G=D.responseType;return G&&G!=="text"?D.response:D.responseText}y.dsv=function(D,G){var he=new RegExp('["'+D+`
]`),Te=D.charCodeAt(0);function Pe(vt,bt,Zt){arguments.length<3&&(Zt=bt,bt=null);var Ut=dr(vt,G,bt==null?$e:Ke(bt),Zt);return Ut.row=function(gn){return arguments.length?Ut.response((bt=gn)==null?$e:Ke(gn)):bt},Ut}function $e(vt){return Pe.parse(vt.responseText)}function Ke(vt){return function(bt){return Pe.parse(bt.responseText,vt)}}Pe.parse=function(vt,bt){var Zt;return Pe.parseRows(vt,function(Ut,gn){if(Zt)return Zt(Ut,gn-1);var An=function(jt){for(var nn={},hn=Ut.length,_n=0;_n<hn;++_n)nn[Ut[_n]]=jt[_n];return nn};Zt=bt?function(jt,nn){return bt(An(jt),nn)}:An})},Pe.parseRows=function(vt,bt){var Zt={},Ut={},gn=[],An=vt.length,jt=0,nn=0,hn,_n;function Pn(){if(jt>=An)return Ut;if(_n)return _n=!1,Zt;var cr=jt;if(vt.charCodeAt(cr)===34){for(var Hr=cr;Hr++<An;)if(vt.charCodeAt(Hr)===34){if(vt.charCodeAt(Hr+1)!==34)break;++Hr}jt=Hr+2;var Jr=vt.charCodeAt(Hr+1);return Jr===13?(_n=!0,vt.charCodeAt(Hr+2)===10&&++jt):Jr===10&&(_n=!0),vt.slice(cr+1,Hr).replace(/""/g,'"')}for(;jt<An;){var Jr=vt.charCodeAt(jt++),Ar=1;if(Jr===10)_n=!0;else if(Jr===13)_n=!0,vt.charCodeAt(jt)===10&&(++jt,++Ar);else if(Jr!==Te)continue;return vt.slice(cr,jt-Ar)}return vt.slice(cr)}for(;(hn=Pn())!==Ut;){for(var yn=[];hn!==Zt&&hn!==Ut;)yn.push(hn),hn=Pn();bt&&(yn=bt(yn,nn++))==null||gn.push(yn)}return gn},Pe.format=function(vt){if(Array.isArray(vt[0]))return Pe.formatRows(vt);var bt=new pe,Zt=[];return vt.forEach(function(Ut){for(var gn in Ut)bt.has(gn)||Zt.push(bt.add(gn))}),[Zt.map(rt).join(D)].concat(vt.map(function(Ut){return Zt.map(function(gn){return rt(Ut[gn])}).join(D)})).join(`
`)},Pe.formatRows=function(vt){return vt.map(We).join(`
`)};function We(vt){return vt.map(rt).join(D)}function rt(vt){return he.test(vt)?'"'+vt.replace(/\"/g,'""')+'"':vt}return Pe},y.csv=y.dsv(",","text/csv"),y.tsv=y.dsv("	","text/tab-separated-values");var ur,qr,no,ko,Es=this[Y(this,"requestAnimationFrame")]||function(D){setTimeout(D,17)};y.timer=function(){So.apply(this,arguments)};function So(D,G,he){var Te=arguments.length;Te<2&&(G=0),Te<3&&(he=Date.now());var Pe=he+G,$e={c:D,t:Pe,n:null};return qr?qr.n=$e:ur=$e,qr=$e,no||(ko=clearTimeout(ko),no=1,Es(Ko)),$e}function Ko(){var D=ds(),G=qs()-D;G>24?(isFinite(G)&&(clearTimeout(ko),ko=setTimeout(Ko,G)),no=0):(no=1,Es(Ko))}y.timer.flush=function(){ds(),qs()};function ds(){for(var D=Date.now(),G=ur;G;)D>=G.t&&G.c(D-G.t)&&(G.c=null),G=G.n;return D}function qs(){for(var D,G=ur,he=1/0;G;)G.c?(G.t<he&&(he=G.t),G=(D=G).n):G=D?D.n=G.n:ur=G.n;return qr=D,he}y.round=function(D,G){return G?Math.round(D*(G=Math.pow(10,G)))/G:Math.round(D)},y.geom={};function es(D){return D[0]}function Xs(D){return D[1]}y.geom.hull=function(D){var G=es,he=Xs;if(arguments.length)return Te(D);function Te(Pe){if(Pe.length<3)return[];var $e=Fn(G),Ke=Fn(he),We,rt=Pe.length,vt=[],bt=[];for(We=0;We<rt;We++)vt.push([+$e.call(this,Pe[We],We),+Ke.call(this,Pe[We],We),We]);for(vt.sort(bc),We=0;We<rt;We++)bt.push([vt[We][0],-vt[We][1]]);var Zt=Ya(vt),Ut=Ya(bt),gn=Ut[0]===Zt[0],An=Ut[Ut.length-1]===Zt[Zt.length-1],jt=[];for(We=Zt.length-1;We>=0;--We)jt.push(Pe[vt[Zt[We]][2]]);for(We=+gn;We<Ut.length-An;++We)jt.push(Pe[vt[Ut[We]][2]]);return jt}return Te.x=function(Pe){return arguments.length?(G=Pe,Te):G},Te.y=function(Pe){return arguments.length?(he=Pe,Te):he},Te};function Ya(D){for(var G=D.length,he=[0,1],Te=2,Pe=2;Pe<G;Pe++){for(;Te>1&&dn(D[he[Te-2]],D[he[Te-1]],D[Pe])<=0;)--Te;he[Te++]=Pe}return he.slice(0,Te)}function bc(D,G){return D[0]-G[0]||D[1]-G[1]}y.geom.polygon=function(D){return re(D,li),D};var li=y.geom.polygon.prototype=[];li.area=function(){for(var D=-1,G=this.length,he,Te=this[G-1],Pe=0;++D<G;)he=Te,Te=this[D],Pe+=he[1]*Te[0]-he[0]*Te[1];return Pe*.5},li.centroid=function(D){var G=-1,he=this.length,Te=0,Pe=0,$e,Ke=this[he-1],We;for(arguments.length||(D=-1/(6*this.area()));++G<he;)$e=Ke,Ke=this[G],We=$e[0]*Ke[1]-Ke[0]*$e[1],Te+=($e[0]+Ke[0])*We,Pe+=($e[1]+Ke[1])*We;return[Te*D,Pe*D]},li.clip=function(D){for(var G,he=Js(D),Te=-1,Pe=this.length-Js(this),$e,Ke,We=this[Pe-1],rt,vt,bt;++Te<Pe;){for(G=D.slice(),D.length=0,rt=this[Te],vt=G[(Ke=G.length-he)-1],$e=-1;++$e<Ke;)bt=G[$e],nu(bt,We,rt)?(nu(vt,We,rt)||D.push(Ba(vt,bt,We,rt)),D.push(bt)):nu(vt,We,rt)&&D.push(Ba(vt,bt,We,rt)),vt=bt;he&&D.push(D[0]),We=rt}return D};function nu(D,G,he){return(he[0]-G[0])*(D[1]-G[1])<(he[1]-G[1])*(D[0]-G[0])}function Ba(D,G,he,Te){var Pe=D[0],$e=he[0],Ke=G[0]-Pe,We=Te[0]-$e,rt=D[1],vt=he[1],bt=G[1]-rt,Zt=Te[1]-vt,Ut=(We*(rt-vt)-Zt*(Pe-$e))/(Zt*Ke-We*bt);return[Pe+Ut*Ke,rt+Ut*bt]}function Js(D){var G=D[0],he=D[D.length-1];return!(G[0]-he[0]||G[1]-he[1])}var ya,ra,ru,Dr=[],Oc,oa,Ri=[];function _d(){$d(this),this.edge=this.site=this.circle=null}function sa(D){var G=Dr.pop()||new _d;return G.site=D,G}function xu(D){bl(D),ru.remove(D),Dr.push(D),$d(D)}function Rd(D){var G=D.circle,he=G.x,Te=G.cy,Pe={x:he,y:Te},$e=D.P,Ke=D.N,We=[D];xu(D);for(var rt=$e;rt.circle&&E(he-rt.circle.x)<gt&&E(Te-rt.circle.cy)<gt;)$e=rt.P,We.unshift(rt),xu(rt),rt=$e;We.unshift(rt),bl(rt);for(var vt=Ke;vt.circle&&E(he-vt.circle.x)<gt&&E(Te-vt.circle.cy)<gt;)Ke=vt.N,We.push(vt),xu(vt),vt=Ke;We.push(vt),bl(vt);var bt=We.length,Zt;for(Zt=1;Zt<bt;++Zt)vt=We[Zt],rt=We[Zt-1],Zu(vt.edge,rt.site,vt.site,Pe);rt=We[0],vt=We[bt-1],vt.edge=Ha(rt.site,vt.site,null,Pe),Va(rt),Va(vt)}function Su(D){for(var G=D.x,he=D.y,Te,Pe,$e,Ke,We=ru._;We;)if($e=Po(We,he)-G,$e>gt)We=We.L;else if(Ke=G-zi(We,he),Ke>gt){if(!We.R){Te=We;break}We=We.R}else{$e>-gt?(Te=We.P,Pe=We):Ke>-gt?(Te=We,Pe=We.N):Te=Pe=We;break}var rt=sa(D);if(ru.insert(Te,rt),!(!Te&&!Pe)){if(Te===Pe){bl(Te),Pe=sa(Te.site),ru.insert(rt,Pe),rt.edge=Pe.edge=Ha(Te.site,rt.site),Va(Te),Va(Pe);return}if(!Pe){rt.edge=Ha(Te.site,rt.site);return}bl(Te),bl(Pe);var vt=Te.site,bt=vt.x,Zt=vt.y,Ut=D.x-bt,gn=D.y-Zt,An=Pe.site,jt=An.x-bt,nn=An.y-Zt,hn=2*(Ut*nn-gn*jt),_n=Ut*Ut+gn*gn,Pn=jt*jt+nn*nn,yn={x:(nn*_n-gn*Pn)/hn+bt,y:(Ut*Pn-jt*_n)/hn+Zt};Zu(Pe.edge,vt,An,yn),rt.edge=Ha(vt,D,null,yn),Pe.edge=Ha(D,An,null,yn),Va(Te),Va(Pe)}}function Po(D,G){var he=D.site,Te=he.x,Pe=he.y,$e=Pe-G;if(!$e)return Te;var Ke=D.P;if(!Ke)return-1/0;he=Ke.site;var We=he.x,rt=he.y,vt=rt-G;if(!vt)return We;var bt=We-Te,Zt=1/$e-1/vt,Ut=bt/vt;return Zt?(-Ut+Math.sqrt(Ut*Ut-2*Zt*(bt*bt/(-2*vt)-rt+vt/2+Pe-$e/2)))/Zt+Te:(Te+We)/2}function zi(D,G){var he=D.N;if(he)return Po(he,G);var Te=D.site;return Te.y===G?Te.x:1/0}function fr(D){this.site=D,this.edges=[]}fr.prototype.prepare=function(){for(var D=this.edges,G=D.length,he;G--;)he=D[G].edge,(!he.b||!he.a)&&D.splice(G,1);return D.sort(xi),D.length};function Fa(D){for(var G=D[0][0],he=D[1][0],Te=D[0][1],Pe=D[1][1],$e,Ke,We,rt,vt=ra,bt=vt.length,Zt,Ut,gn,An,jt,nn;bt--;)if(Zt=vt[bt],!(!Zt||!Zt.prepare()))for(gn=Zt.edges,An=gn.length,Ut=0;Ut<An;)nn=gn[Ut].end(),We=nn.x,rt=nn.y,jt=gn[++Ut%An].start(),$e=jt.x,Ke=jt.y,(E(We-$e)>gt||E(rt-Ke)>gt)&&(gn.splice(Ut,0,new Dd(zu(Zt.site,nn,E(We-G)<gt&&Pe-rt>gt?{x:G,y:E($e-G)<gt?Ke:Pe}:E(rt-Pe)<gt&&he-We>gt?{x:E(Ke-Pe)<gt?$e:he,y:Pe}:E(We-he)<gt&&rt-Te>gt?{x:he,y:E($e-he)<gt?Ke:Te}:E(rt-Te)<gt&&We-G>gt?{x:E(Ke-Te)<gt?$e:G,y:Te}:null),Zt.site,null)),++An)}function xi(D,G){return G.angle-D.angle}function Za(){$d(this),this.x=this.y=this.arc=this.site=this.cy=null}function Va(D){var G=D.P,he=D.N;if(!(!G||!he)){var Te=G.site,Pe=D.site,$e=he.site;if(Te!==$e){var Ke=Pe.x,We=Pe.y,rt=Te.x-Ke,vt=Te.y-We,bt=$e.x-Ke,nn=$e.y-We,Zt=2*(rt*nn-vt*bt);if(!(Zt>=-Dt)){var Ut=rt*rt+vt*vt,gn=bt*bt+nn*nn,An=(nn*Ut-vt*gn)/Zt,jt=(rt*gn-bt*Ut)/Zt,nn=jt+We,hn=Ri.pop()||new Za;hn.arc=D,hn.site=Pe,hn.x=An+Ke,hn.y=nn+Math.sqrt(An*An+jt*jt),hn.cy=nn,D.circle=hn;for(var _n=null,Pn=oa._;Pn;)if(hn.y<Pn.y||hn.y===Pn.y&&hn.x<=Pn.x)if(Pn.L)Pn=Pn.L;else{_n=Pn.P;break}else if(Pn.R)Pn=Pn.R;else{_n=Pn;break}oa.insert(_n,hn),_n||(Oc=hn)}}}}function bl(D){var G=D.circle;G&&(G.P||(Oc=G.N),oa.remove(G),Ri.push(G),$d(G),D.circle=null)}function Ho(D,G,he,Te){return function(Pe){var $e=Pe.a,Ke=Pe.b,We=$e.x,rt=$e.y,vt=Ke.x,bt=Ke.y,Zt=0,Ut=1,gn=vt-We,An=bt-rt,jt;if(jt=D-We,!(!gn&&jt>0)){if(jt/=gn,gn<0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}else if(gn>0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}if(jt=he-We,!(!gn&&jt<0)){if(jt/=gn,gn<0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}else if(gn>0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}if(jt=G-rt,!(!An&&jt>0)){if(jt/=An,An<0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}else if(An>0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}if(jt=Te-rt,!(!An&&jt<0)){if(jt/=An,An<0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}else if(An>0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}return Zt>0&&(Pe.a={x:We+Zt*gn,y:rt+Zt*An}),Ut<1&&(Pe.b={x:We+Ut*gn,y:rt+Ut*An}),Pe}}}}}}function ci(D){for(var G=ya,he=Ho(D[0][0],D[0][1],D[1][0],D[1][1]),Te=G.length,Pe;Te--;)Pe=G[Te],(!ei(Pe,D)||!he(Pe)||E(Pe.a.x-Pe.b.x)<gt&&E(Pe.a.y-Pe.b.y)<gt)&&(Pe.a=Pe.b=null,G.splice(Te,1))}function ei(D,G){var he=D.b;if(he)return!0;var Te=D.a,Pe=G[0][0],$e=G[1][0],Ke=G[0][1],We=G[1][1],rt=D.l,vt=D.r,bt=rt.x,Zt=rt.y,Ut=vt.x,gn=vt.y,An=(bt+Ut)/2,jt=(Zt+gn)/2,nn,hn;if(gn===Zt){if(An<Pe||An>=$e)return;if(bt>Ut){if(!Te)Te={x:An,y:Ke};else if(Te.y>=We)return;he={x:An,y:We}}else{if(!Te)Te={x:An,y:We};else if(Te.y<Ke)return;he={x:An,y:Ke}}}else if(nn=(bt-Ut)/(gn-Zt),hn=jt-nn*An,nn<-1||nn>1)if(bt>Ut){if(!Te)Te={x:(Ke-hn)/nn,y:Ke};else if(Te.y>=We)return;he={x:(We-hn)/nn,y:We}}else{if(!Te)Te={x:(We-hn)/nn,y:We};else if(Te.y<Ke)return;he={x:(Ke-hn)/nn,y:Ke}}else if(Zt<gn){if(!Te)Te={x:Pe,y:nn*Pe+hn};else if(Te.x>=$e)return;he={x:$e,y:nn*$e+hn}}else{if(!Te)Te={x:$e,y:nn*$e+hn};else if(Te.x<Pe)return;he={x:Pe,y:nn*Pe+hn}}return D.a=Te,D.b=he,!0}function qf(D,G){this.l=D,this.r=G,this.a=this.b=null}function Ha(D,G,he,Te){var Pe=new qf(D,G);return ya.push(Pe),he&&Zu(Pe,D,G,he),Te&&Zu(Pe,G,D,Te),ra[D.i].edges.push(new Dd(Pe,D,G)),ra[G.i].edges.push(new Dd(Pe,G,D)),Pe}function zu(D,G,he){var Te=new qf(D,null);return Te.a=G,Te.b=he,ya.push(Te),Te}function Zu(D,G,he,Te){!D.a&&!D.b?(D.a=Te,D.l=G,D.r=he):D.l===he?D.b=Te:D.a=Te}function Dd(D,G,he){var Te=D.a,Pe=D.b;this.edge=D,this.site=G,this.angle=he?Math.atan2(he.y-G.y,he.x-G.x):D.l===G?Math.atan2(Pe.x-Te.x,Te.y-Pe.y):Math.atan2(Te.x-Pe.x,Pe.y-Te.y)}Dd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Is(){this._=null}function $d(D){D.U=D.C=D.L=D.R=D.P=D.N=null}Is.prototype={insert:function(D,G){var he,Te,Pe;if(D){if(G.P=D,G.N=D.N,D.N&&(D.N.P=G),D.N=G,D.R){for(D=D.R;D.L;)D=D.L;D.L=G}else D.R=G;he=D}else this._?(D=yh(this._),G.P=null,G.N=D,D.P=D.L=G,he=D):(G.P=G.N=null,this._=G,he=null);for(G.L=G.R=null,G.U=he,G.C=!0,D=G;he&&he.C;)Te=he.U,he===Te.L?(Pe=Te.R,Pe&&Pe.C?(he.C=Pe.C=!1,Te.C=!0,D=Te):(D===he.R&&(Vc(this,he),D=he,he=D.U),he.C=!1,Te.C=!0,Al(this,Te))):(Pe=Te.L,Pe&&Pe.C?(he.C=Pe.C=!1,Te.C=!0,D=Te):(D===he.L&&(Al(this,he),D=he,he=D.U),he.C=!1,Te.C=!0,Vc(this,Te))),he=D.U;this._.C=!1},remove:function(D){D.N&&(D.N.P=D.P),D.P&&(D.P.N=D.N),D.N=D.P=null;var G=D.U,he,Te=D.L,Pe=D.R,$e,Ke;if(Te?Pe?$e=yh(Pe):$e=Te:$e=Pe,G?G.L===D?G.L=$e:G.R=$e:this._=$e,Te&&Pe?(Ke=$e.C,$e.C=D.C,$e.L=Te,Te.U=$e,$e!==Pe?(G=$e.U,$e.U=D.U,D=$e.R,G.L=D,$e.R=Pe,Pe.U=$e):($e.U=G,G=$e,D=$e.R)):(Ke=D.C,D=$e),D&&(D.U=G),!Ke){if(D&&D.C){D.C=!1;return}do{if(D===this._)break;if(D===G.L){if(he=G.R,he.C&&(he.C=!1,G.C=!0,Vc(this,G),he=G.R),he.L&&he.L.C||he.R&&he.R.C){(!he.R||!he.R.C)&&(he.L.C=!1,he.C=!0,Al(this,he),he=G.R),he.C=G.C,G.C=he.R.C=!1,Vc(this,G),D=this._;break}}else if(he=G.L,he.C&&(he.C=!1,G.C=!0,Al(this,G),he=G.L),he.L&&he.L.C||he.R&&he.R.C){(!he.L||!he.L.C)&&(he.R.C=!1,he.C=!0,Vc(this,he),he=G.L),he.C=G.C,G.C=he.L.C=!1,Al(this,G),D=this._;break}he.C=!0,D=G,G=G.U}while(!D.C);D&&(D.C=!1)}}};function Vc(D,G){var he=G,Te=G.R,Pe=he.U;Pe?Pe.L===he?Pe.L=Te:Pe.R=Te:D._=Te,Te.U=Pe,he.U=Te,he.R=Te.L,he.R&&(he.R.U=he),Te.L=he}function Al(D,G){var he=G,Te=G.L,Pe=he.U;Pe?Pe.L===he?Pe.L=Te:Pe.R=Te:D._=Te,Te.U=Pe,he.U=Te,he.L=Te.R,he.L&&(he.L.U=he),Te.R=he}function yh(D){for(;D.L;)D=D.L;return D}function hm(D,G){var he=D.sort(Vs).pop(),Te,Pe,$e;for(ya=[],ra=new Array(D.length),ru=new Is,oa=new Is;;)if($e=Oc,he&&(!$e||he.y<$e.y||he.y===$e.y&&he.x<$e.x))(he.x!==Te||he.y!==Pe)&&(ra[he.i]=new fr(he),Su(he),Te=he.x,Pe=he.y),he=D.pop();else if($e)Rd($e.arc);else break;G&&(ci(G),Fa(G));var Ke={cells:ra,edges:ya};return ru=oa=ya=ra=null,Ke}function Vs(D,G){return G.y-D.y||G.x-D.x}y.geom.voronoi=function(D){var G=es,he=Xs,Te=G,Pe=he,$e=Si;if(D)return Ke(D);function Ke(rt){var vt=new Array(rt.length),bt=$e[0][0],Zt=$e[0][1],Ut=$e[1][0],gn=$e[1][1];return hm(We(rt),$e).cells.forEach(function(An,jt){var nn=An.edges,hn=An.site,_n=vt[jt]=nn.length?nn.map(function(Pn){var yn=Pn.start();return[yn.x,yn.y]}):hn.x>=bt&&hn.x<=Ut&&hn.y>=Zt&&hn.y<=gn?[[bt,gn],[Ut,gn],[Ut,Zt],[bt,Zt]]:[];_n.point=rt[jt]}),vt}function We(rt){return rt.map(function(vt,bt){return{x:Math.round(Te(vt,bt)/gt)*gt,y:Math.round(Pe(vt,bt)/gt)*gt,i:bt}})}return Ke.links=function(rt){return hm(We(rt)).edges.filter(function(vt){return vt.l&&vt.r}).map(function(vt){return{source:rt[vt.l.i],target:rt[vt.r.i]}})},Ke.triangles=function(rt){var vt=[];return hm(We(rt)).cells.forEach(function(bt,Zt){for(var Ut=bt.site,gn=bt.edges.sort(xi),An=-1,jt=gn.length,nn,hn=gn[jt-1].edge,_n=hn.l===Ut?hn.r:hn.l;++An<jt;)nn=_n,hn=gn[An].edge,_n=hn.l===Ut?hn.r:hn.l,Zt<nn.i&&Zt<_n.i&&kf(Ut,nn,_n)<0&&vt.push([rt[Zt],rt[nn.i],rt[_n.i]])}),vt},Ke.x=function(rt){return arguments.length?(Te=Fn(G=rt),Ke):G},Ke.y=function(rt){return arguments.length?(Pe=Fn(he=rt),Ke):he},Ke.clipExtent=function(rt){return arguments.length?($e=rt??Si,Ke):$e===Si?null:$e},Ke.size=function(rt){return arguments.length?Ke.clipExtent(rt&&[[0,0],rt]):$e===Si?null:$e&&$e[1]},Ke};var Si=[[-1e6,-1e6],[1e6,1e6]];function kf(D,G,he){return(D.x-he.x)*(G.y-D.y)-(D.x-G.x)*(he.y-D.y)}y.geom.delaunay=function(D){return y.geom.voronoi().triangles(D)},y.geom.quadtree=function(D,G,he,Te,Pe){var $e=es,Ke=Xs,We;if(We=arguments.length)return $e=HS,Ke=Xa,We===3&&(Pe=he,Te=G,he=G=0),rt(D);function rt(vt){var bt,Zt=Fn($e),Ut=Fn(Ke),gn,An,jt,nn,hn,_n,Pn,yn;if(G!=null)hn=G,_n=he,Pn=Te,yn=Pe;else if(Pn=yn=-(hn=_n=1/0),gn=[],An=[],nn=vt.length,We)for(jt=0;jt<nn;++jt)bt=vt[jt],bt.x<hn&&(hn=bt.x),bt.y<_n&&(_n=bt.y),bt.x>Pn&&(Pn=bt.x),bt.y>yn&&(yn=bt.y),gn.push(bt.x),An.push(bt.y);else for(jt=0;jt<nn;++jt){var cr=+Zt(bt=vt[jt],jt),Hr=+Ut(bt,jt);cr<hn&&(hn=cr),Hr<_n&&(_n=Hr),cr>Pn&&(Pn=cr),Hr>yn&&(yn=Hr),gn.push(cr),An.push(Hr)}var Jr=Pn-hn,Ar=yn-_n;Jr>Ar?yn=_n+Jr:Pn=hn+Ar;function ro(xo,go,js,ri,ba,Lr,Do,ms){if(!(isNaN(js)||isNaN(ri)))if(xo.leaf){var _s=xo.x,Qa=xo.y;if(_s!=null)if(E(_s-js)+E(Qa-ri)<.01)fo(xo,go,js,ri,ba,Lr,Do,ms);else{var hi=xo.point;xo.x=xo.y=xo.point=null,fo(xo,hi,_s,Qa,ba,Lr,Do,ms),fo(xo,go,js,ri,ba,Lr,Do,ms)}else xo.x=js,xo.y=ri,xo.point=go}else fo(xo,go,js,ri,ba,Lr,Do,ms)}function fo(xo,go,js,ri,ba,Lr,Do,ms){var _s=(ba+Do)*.5,Qa=(Lr+ms)*.5,hi=js>=_s,Yi=ri>=Qa,$i=Yi<<1|hi;xo.leaf=!1,xo=xo.nodes[$i]||(xo.nodes[$i]=Pl()),hi?ba=_s:Do=_s,Yi?Lr=Qa:ms=Qa,ro(xo,go,js,ri,ba,Lr,Do,ms)}var ts=Pl();if(ts.add=function(xo){ro(ts,xo,+Zt(xo,++jt),+Ut(xo,jt),hn,_n,Pn,yn)},ts.visit=function(xo){Zi(xo,ts,hn,_n,Pn,yn)},ts.find=function(xo){return _O(ts,xo[0],xo[1],hn,_n,Pn,yn)},jt=-1,G==null){for(;++jt<nn;)ro(ts,vt[jt],gn[jt],An[jt],hn,_n,Pn,yn);--jt}else vt.forEach(ts.add);return gn=An=vt=bt=null,ts}return rt.x=function(vt){return arguments.length?($e=vt,rt):$e},rt.y=function(vt){return arguments.length?(Ke=vt,rt):Ke},rt.extent=function(vt){return arguments.length?(vt==null?G=he=Te=Pe=null:(G=+vt[0][0],he=+vt[0][1],Te=+vt[1][0],Pe=+vt[1][1]),rt):G==null?null:[[G,he],[Te,Pe]]},rt.size=function(vt){return arguments.length?(vt==null?G=he=Te=Pe=null:(G=he=0,Te=+vt[0],Pe=+vt[1]),rt):G==null?null:[Te-G,Pe-he]},rt};function HS(D){return D.x}function Xa(D){return D.y}function Pl(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Zi(D,G,he,Te,Pe,$e){if(!D(G,he,Te,Pe,$e)){var Ke=(he+Pe)*.5,We=(Te+$e)*.5,rt=G.nodes;rt[0]&&Zi(D,rt[0],he,Te,Ke,We),rt[1]&&Zi(D,rt[1],Ke,Te,Pe,We),rt[2]&&Zi(D,rt[2],he,We,Ke,$e),rt[3]&&Zi(D,rt[3],Ke,We,Pe,$e)}}function _O(D,G,he,Te,Pe,$e,Ke){var We=1/0,rt;return function vt(bt,Zt,Ut,gn,An){if(!(Zt>$e||Ut>Ke||gn<Te||An<Pe)){if(jt=bt.point){var jt,nn=G-bt.x,hn=he-bt.y,_n=nn*nn+hn*hn;if(_n<We){var Pn=Math.sqrt(We=_n);Te=G-Pn,Pe=he-Pn,$e=G+Pn,Ke=he+Pn,rt=jt}}for(var yn=bt.nodes,cr=(Zt+gn)*.5,Hr=(Ut+An)*.5,Jr=G>=cr,Ar=he>=Hr,ro=Ar<<1|Jr,fo=ro+4;ro<fo;++ro)if(bt=yn[ro&3])switch(ro&3){case 0:vt(bt,Zt,Ut,cr,Hr);break;case 1:vt(bt,cr,Ut,gn,Hr);break;case 2:vt(bt,Zt,Hr,cr,An);break;case 3:vt(bt,cr,Hr,gn,An);break}}}(D,Te,Pe,$e,Ke),rt}y.interpolateRgb=Fp;function Fp(D,G){D=y.rgb(D),G=y.rgb(G);var he=D.r,Te=D.g,Pe=D.b,$e=G.r-he,Ke=G.g-Te,We=G.b-Pe;return function(rt){return"#"+un(Math.round(he+$e*rt))+un(Math.round(Te+Ke*rt))+un(Math.round(Pe+We*rt))}}y.interpolateObject=wu;function wu(D,G){var he={},Te={},Pe;for(Pe in D)Pe in G?he[Pe]=xc(D[Pe],G[Pe]):Te[Pe]=D[Pe];for(Pe in G)Pe in D||(Te[Pe]=G[Pe]);return function($e){for(Pe in he)Te[Pe]=he[Pe]($e);return Te}}y.interpolateNumber=Hu;function Hu(D,G){return D=+D,G=+G,function(he){return D*(1-he)+G*he}}y.interpolateString=Da;function Da(D,G){var he=Tu.lastIndex=Ml.lastIndex=0,Te,Pe,$e,Ke=-1,We=[],rt=[];for(D=D+"",G=G+"";(Te=Tu.exec(D))&&(Pe=Ml.exec(G));)($e=Pe.index)>he&&($e=G.slice(he,$e),We[Ke]?We[Ke]+=$e:We[++Ke]=$e),(Te=Te[0])===(Pe=Pe[0])?We[Ke]?We[Ke]+=Pe:We[++Ke]=Pe:(We[++Ke]=null,rt.push({i:Ke,x:Hu(Te,Pe)})),he=Ml.lastIndex;return he<G.length&&($e=G.slice(he),We[Ke]?We[Ke]+=$e:We[++Ke]=$e),We.length<2?rt[0]?(G=rt[0].x,function(vt){return G(vt)+""}):function(){return G}:(G=rt.length,function(vt){for(var bt=0,Zt;bt<G;++bt)We[(Zt=rt[bt]).i]=Zt.x(vt);return We.join("")})}var Tu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ml=new RegExp(Tu.source,"g");y.interpolate=xc;function xc(D,G){for(var he=y.interpolators.length,Te;--he>=0&&!(Te=y.interpolators[he](D,G)););return Te}y.interpolators=[function(D,G){var he=typeof G;return(he==="string"?Jn.has(G.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(G)?Fp:Da:G instanceof Br?Fp:Array.isArray(G)?Af:he==="object"&&isNaN(G)?wu:Hu)(D,G)}],y.interpolateArray=Af;function Af(D,G){var he=[],Te=[],Pe=D.length,$e=G.length,Ke=Math.min(D.length,G.length),We;for(We=0;We<Ke;++We)he.push(xc(D[We],G[We]));for(;We<Pe;++We)Te[We]=D[We];for(;We<$e;++We)Te[We]=G[We];return function(rt){for(We=0;We<Ke;++We)Te[We]=he[We](rt);return Te}}var ui=function(){return ne},Pf=y.map({linear:ui,poly:Jv,quad:function(){return Mf},cubic:function(){return Zp},sin:function(){return fy},exp:function(){return mm},circle:function(){return dy},elastic:gm,back:RO,bounce:function(){return bh}}),Vp=y.map({in:ne,out:uy,"in-out":Kv,"out-in":function(D){return Kv(uy(D))}});y.ease=function(D){var G=D.indexOf("-"),he=G>=0?D.slice(0,G):D,Te=G>=0?D.slice(G+1):"in";return he=Pf.get(he)||ui,Te=Vp.get(Te)||ne,zp(Te(he.apply(null,b.call(arguments,1))))};function zp(D){return function(G){return G<=0?0:G>=1?1:D(G)}}function uy(D){return function(G){return 1-D(1-G)}}function Kv(D){return function(G){return .5*(G<.5?D(2*G):2-D(2-2*G))}}function Mf(D){return D*D}function Zp(D){return D*D*D}function Sc(D){if(D<=0)return 0;if(D>=1)return 1;var G=D*D,he=G*D;return 4*(D<.5?he:3*(D-G)+he-.75)}function Jv(D){return function(G){return Math.pow(G,D)}}function fy(D){return 1-Math.cos(D*mt)}function mm(D){return Math.pow(2,10*(D-1))}function dy(D){return 1-Math.sqrt(1-D*D)}function gm(D,G){var he;return arguments.length<2&&(G=.45),arguments.length?he=G/at*Math.asin(1/D):(D=1,he=G/4),function(Te){return 1+D*Math.pow(2,-10*Te)*Math.sin((Te-he)*at/G)}}function RO(D){return D||(D=1.70158),function(G){return G*G*((D+1)*G-D)}}function bh(D){return D<.36363636363636365?7.5625*D*D:D<.7272727272727273?7.5625*(D-=.5454545454545454)*D+.75:D<.9090909090909091?7.5625*(D-=.8181818181818182)*D+.9375:7.5625*(D-=.9545454545454546)*D+.984375}y.interpolateHcl=DO;function DO(D,G){D=y.hcl(D),G=y.hcl(G);var he=D.h,Te=D.c,Pe=D.l,$e=G.h-he,Ke=G.c-Te,We=G.l-Pe;return isNaN(Ke)&&(Ke=0,Te=isNaN(Te)?G.c:Te),isNaN($e)?($e=0,he=isNaN(he)?G.h:he):$e>180?$e-=360:$e<-180&&($e+=360),function(rt){return xr(he+$e*rt,Te+Ke*rt,Pe+We*rt)+""}}y.interpolateHsl=$O;function $O(D,G){D=y.hsl(D),G=y.hsl(G);var he=D.h,Te=D.s,Pe=D.l,$e=G.h-he,Ke=G.s-Te,We=G.l-Pe;return isNaN(Ke)&&(Ke=0,Te=isNaN(Te)?G.s:Te),isNaN($e)?($e=0,he=isNaN(he)?G.h:he):$e>180?$e-=360:$e<-180&&($e+=360),function(rt){return jr(he+$e*rt,Te+Ke*rt,Pe+We*rt)+""}}y.interpolateLab=LO;function LO(D,G){D=y.lab(D),G=y.lab(G);var he=D.l,Te=D.a,Pe=D.b,$e=G.l-he,Ke=G.a-Te,We=G.b-Pe;return function(rt){return Ee(he+$e*rt,Te+Ke*rt,Pe+We*rt)+""}}y.interpolateRound=pm;function pm(D,G){return G-=D,function(he){return Math.round(D+G*he)}}y.transform=function(D){var G=C.createElementNS(y.ns.prefix.svg,"g");return(y.transform=function(he){if(he!=null){G.setAttribute("transform",he);var Te=G.transform.baseVal.consolidate()}return new hy(Te?Te.matrix:e0)})(D)};function hy(D){var G=[D.a,D.b],he=[D.c,D.d],Te=vm(G),Pe=Yt(G,he),$e=vm(Uu(he,G,-Pe))||0;G[0]*he[1]<he[0]*G[1]&&(G[0]*=-1,G[1]*=-1,Te*=-1,Pe*=-1),this.rotate=(Te?Math.atan2(G[1],G[0]):Math.atan2(-he[0],he[1]))*Pt,this.translate=[D.e,D.f],this.scale=[Te,$e],this.skew=$e?Math.atan2(Pe,$e)*Pt:0}hy.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Yt(D,G){return D[0]*G[0]+D[1]*G[1]}function vm(D){var G=Math.sqrt(Yt(D,D));return G&&(D[0]/=G,D[1]/=G),G}function Uu(D,G,he){return D[0]+=he*G[0],D[1]+=he*G[1],D}var e0={a:1,b:0,c:0,d:1,e:0,f:0};y.interpolateTransform=Jf;function Hp(D){return D.length?D.pop()+",":""}function US(D,G,he,Te){if(D[0]!==G[0]||D[1]!==G[1]){var Pe=he.push("translate(",null,",",null,")");Te.push({i:Pe-4,x:Hu(D[0],G[0])},{i:Pe-2,x:Hu(D[1],G[1])})}else(G[0]||G[1])&&he.push("translate("+G+")")}function Gs(D,G,he,Te){D!==G?(D-G>180?G+=360:G-D>180&&(D+=360),Te.push({i:he.push(Hp(he)+"rotate(",null,")")-2,x:Hu(D,G)})):G&&he.push(Hp(he)+"rotate("+G+")")}function oc(D,G,he,Te){D!==G?Te.push({i:he.push(Hp(he)+"skewX(",null,")")-2,x:Hu(D,G)}):G&&he.push(Hp(he)+"skewX("+G+")")}function Kf(D,G,he,Te){if(D[0]!==G[0]||D[1]!==G[1]){var Pe=he.push(Hp(he)+"scale(",null,",",null,")");Te.push({i:Pe-4,x:Hu(D[0],G[0])},{i:Pe-2,x:Hu(D[1],G[1])})}else(G[0]!==1||G[1]!==1)&&he.push(Hp(he)+"scale("+G+")")}function Jf(D,G){var he=[],Te=[];return D=y.transform(D),G=y.transform(G),US(D.translate,G.translate,he,Te),Gs(D.rotate,G.rotate,he,Te),oc(D.skew,G.skew,he,Te),Kf(D.scale,G.scale,he,Te),D=G=null,function(Pe){for(var $e=-1,Ke=Te.length,We;++$e<Ke;)he[(We=Te[$e]).i]=We.x(Pe);return he.join("")}}function my(D,G){return G=(G-=D=+D)||1/G,function(he){return(he-D)/G}}function bg(D,G){return G=(G-=D=+D)||1/G,function(he){return Math.max(0,Math.min(1,(he-D)/G))}}y.layout={},y.layout.bundle=function(){return function(D){for(var G=[],he=-1,Te=D.length;++he<Te;)G.push(ou(D[he]));return G}};function ou(D){for(var G=D.source,he=D.target,Te=gy(G,he),Pe=[G];G!==Te;)G=G.parent,Pe.push(G);for(var $e=Pe.length;he!==Te;)Pe.splice($e,0,he),he=he.parent;return Pe}function Og(D){for(var G=[],he=D.parent;he!=null;)G.push(D),D=he,he=he.parent;return G.push(D),G}function gy(D,G){if(D===G)return D;for(var he=Og(D),Te=Og(G),Pe=he.pop(),$e=Te.pop(),Ke=null;Pe===$e;)Ke=Pe,Pe=he.pop(),$e=Te.pop();return Ke}y.layout.chord=function(){var D={},G,he,Te,Pe,$e=0,Ke,We,rt;function vt(){var Zt={},Ut=[],gn=y.range(Pe),An=[],jt,nn,hn,_n,Pn;for(G=[],he=[],jt=0,_n=-1;++_n<Pe;){for(nn=0,Pn=-1;++Pn<Pe;)nn+=Te[_n][Pn];Ut.push(nn),An.push(y.range(Pe)),jt+=nn}for(Ke&&gn.sort(function(ts,xo){return Ke(Ut[ts],Ut[xo])}),We&&An.forEach(function(ts,xo){ts.sort(function(go,js){return We(Te[xo][go],Te[xo][js])})}),jt=(at-$e*Pe)/jt,nn=0,_n=-1;++_n<Pe;){for(hn=nn,Pn=-1;++Pn<Pe;){var yn=gn[_n],cr=An[yn][Pn],Hr=Te[yn][cr],Jr=nn,Ar=nn+=Hr*jt;Zt[yn+"-"+cr]={index:yn,subindex:cr,startAngle:Jr,endAngle:Ar,value:Hr}}he[yn]={index:yn,startAngle:hn,endAngle:nn,value:Ut[yn]},nn+=$e}for(_n=-1;++_n<Pe;)for(Pn=_n-1;++Pn<Pe;){var ro=Zt[_n+"-"+Pn],fo=Zt[Pn+"-"+_n];(ro.value||fo.value)&&G.push(ro.value<fo.value?{source:fo,target:ro}:{source:ro,target:fo})}rt&&bt()}function bt(){G.sort(function(Zt,Ut){return rt((Zt.source.value+Zt.target.value)/2,(Ut.source.value+Ut.target.value)/2)})}return D.matrix=function(Zt){return arguments.length?(Pe=(Te=Zt)&&Te.length,G=he=null,D):Te},D.padding=function(Zt){return arguments.length?($e=Zt,G=he=null,D):$e},D.sortGroups=function(Zt){return arguments.length?(Ke=Zt,G=he=null,D):Ke},D.sortSubgroups=function(Zt){return arguments.length?(We=Zt,G=null,D):We},D.sortChords=function(Zt){return arguments.length?(rt=Zt,G&&bt(),D):rt},D.chords=function(){return G||vt(),G},D.groups=function(){return he||vt(),he},D},y.layout.force=function(){var D={},G=y.dispatch("start","tick","end"),he,Te=[1,1],Pe,$e,Ke=.9,We=sl,rt=Oh,vt=-30,bt=xg,Zt=.1,Ut=.64,gn=[],An=[],jt,nn,hn;function _n(yn){return function(cr,Hr,Jr,Ar){if(cr.point!==yn){var ro=cr.cx-yn.x,fo=cr.cy-yn.y,ts=Ar-Hr,xo=ro*ro+fo*fo;if(ts*ts/Ut<xo){if(xo<bt){var go=cr.charge/xo;yn.px-=ro*go,yn.py-=fo*go}return!0}if(cr.point&&xo&&xo<bt){var go=cr.pointCharge/xo;yn.px-=ro*go,yn.py-=fo*go}}return!cr.charge}}D.tick=function(){if(($e*=.99)<.005)return he=null,G.end({type:"end",alpha:$e=0}),!0;var yn=gn.length,cr=An.length,Hr,Jr,Ar,ro,fo,ts,xo,go,js;for(Jr=0;Jr<cr;++Jr)Ar=An[Jr],ro=Ar.source,fo=Ar.target,go=fo.x-ro.x,js=fo.y-ro.y,(ts=go*go+js*js)&&(ts=$e*nn[Jr]*((ts=Math.sqrt(ts))-jt[Jr])/ts,go*=ts,js*=ts,fo.x-=go*(xo=ro.weight+fo.weight?ro.weight/(ro.weight+fo.weight):.5),fo.y-=js*xo,ro.x+=go*(xo=1-xo),ro.y+=js*xo);if((xo=$e*Zt)&&(go=Te[0]/2,js=Te[1]/2,Jr=-1,xo))for(;++Jr<yn;)Ar=gn[Jr],Ar.x+=(go-Ar.x)*xo,Ar.y+=(js-Ar.y)*xo;if(vt)for(zc(Hr=y.geom.quadtree(gn),$e,hn),Jr=-1;++Jr<yn;)(Ar=gn[Jr]).fixed||Hr.visit(_n(Ar));for(Jr=-1;++Jr<yn;)Ar=gn[Jr],Ar.fixed?(Ar.x=Ar.px,Ar.y=Ar.py):(Ar.x-=(Ar.px-(Ar.px=Ar.x))*Ke,Ar.y-=(Ar.py-(Ar.py=Ar.y))*Ke);G.tick({type:"tick",alpha:$e})},D.nodes=function(yn){return arguments.length?(gn=yn,D):gn},D.links=function(yn){return arguments.length?(An=yn,D):An},D.size=function(yn){return arguments.length?(Te=yn,D):Te},D.linkDistance=function(yn){return arguments.length?(We=typeof yn=="function"?yn:+yn,D):We},D.distance=D.linkDistance,D.linkStrength=function(yn){return arguments.length?(rt=typeof yn=="function"?yn:+yn,D):rt},D.friction=function(yn){return arguments.length?(Ke=+yn,D):Ke},D.charge=function(yn){return arguments.length?(vt=typeof yn=="function"?yn:+yn,D):vt},D.chargeDistance=function(yn){return arguments.length?(bt=yn*yn,D):Math.sqrt(bt)},D.gravity=function(yn){return arguments.length?(Zt=+yn,D):Zt},D.theta=function(yn){return arguments.length?(Ut=yn*yn,D):Math.sqrt(Ut)},D.alpha=function(yn){return arguments.length?(yn=+yn,$e?yn>0?$e=yn:(he.c=null,he.t=NaN,he=null,G.end({type:"end",alpha:$e=0})):yn>0&&(G.start({type:"start",alpha:$e=yn}),he=So(D.tick)),D):$e},D.start=function(){var yn,cr=gn.length,Hr=An.length,Jr=Te[0],Ar=Te[1],ro,fo;for(yn=0;yn<cr;++yn)(fo=gn[yn]).index=yn,fo.weight=0;for(yn=0;yn<Hr;++yn)fo=An[yn],typeof fo.source=="number"&&(fo.source=gn[fo.source]),typeof fo.target=="number"&&(fo.target=gn[fo.target]),++fo.source.weight,++fo.target.weight;for(yn=0;yn<cr;++yn)fo=gn[yn],isNaN(fo.x)&&(fo.x=ts("x",Jr)),isNaN(fo.y)&&(fo.y=ts("y",Ar)),isNaN(fo.px)&&(fo.px=fo.x),isNaN(fo.py)&&(fo.py=fo.y);if(jt=[],typeof We=="function")for(yn=0;yn<Hr;++yn)jt[yn]=+We.call(this,An[yn],yn);else for(yn=0;yn<Hr;++yn)jt[yn]=We;if(nn=[],typeof rt=="function")for(yn=0;yn<Hr;++yn)nn[yn]=+rt.call(this,An[yn],yn);else for(yn=0;yn<Hr;++yn)nn[yn]=rt;if(hn=[],typeof vt=="function")for(yn=0;yn<cr;++yn)hn[yn]=+vt.call(this,gn[yn],yn);else for(yn=0;yn<cr;++yn)hn[yn]=vt;function ts(xo,go){if(!ro){for(ro=new Array(cr),ba=0;ba<cr;++ba)ro[ba]=[];for(ba=0;ba<Hr;++ba){var js=An[ba];ro[js.source.index].push(js.target),ro[js.target.index].push(js.source)}}for(var ri=ro[yn],ba=-1,Lr=ri.length,Do;++ba<Lr;)if(!isNaN(Do=ri[ba][xo]))return Do;return Math.random()*go}return D.resume()},D.resume=function(){return D.alpha(.1)},D.stop=function(){return D.alpha(0)},D.drag=function(){if(Pe||(Pe=y.behavior.drag().origin(ne).on("dragstart.force",IO).on("drag.force",Pn).on("dragend.force",Wu)),!arguments.length)return Pe;this.on("mouseover.force",Up).on("mouseout.force",py).call(Pe)};function Pn(yn){yn.px=y.event.x,yn.py=y.event.y,D.resume()}return y.rebind(D,G,"on")};function IO(D){D.fixed|=2}function Wu(D){D.fixed&=-7}function Up(D){D.fixed|=4,D.px=D.x,D.py=D.y}function py(D){D.fixed&=-5}function zc(D,G,he){var Te=0,Pe=0;if(D.charge=0,!D.leaf)for(var $e=D.nodes,Ke=$e.length,We=-1,rt;++We<Ke;)rt=$e[We],rt!=null&&(zc(rt,G,he),D.charge+=rt.charge,Te+=rt.charge*rt.cx,Pe+=rt.charge*rt.cy);if(D.point){D.leaf||(D.point.x+=Math.random()-.5,D.point.y+=Math.random()-.5);var vt=G*he[D.point.index];D.charge+=D.pointCharge=vt,Te+=vt*D.point.x,Pe+=vt*D.point.y}D.cx=Te/D.charge,D.cy=Pe/D.charge}var sl=20,Oh=1,xg=1/0;y.layout.hierarchy=function(){var D=vy,G=NO,he=Wp;function Te(Pe){var $e=[Pe],Ke=[],We;for(Pe.depth=0;(We=$e.pop())!=null;)if(Ke.push(We),(vt=G.call(Te,We,We.depth))&&(rt=vt.length)){for(var rt,vt,bt;--rt>=0;)$e.push(bt=vt[rt]),bt.parent=We,bt.depth=We.depth+1;he&&(We.value=0),We.children=vt}else he&&(We.value=+he.call(Te,We,We.depth)||0),delete We.children;return Yu(Pe,function(Zt){var Ut,gn;D&&(Ut=Zt.children)&&Ut.sort(D),he&&(gn=Zt.parent)&&(gn.value+=Zt.value)}),Ke}return Te.sort=function(Pe){return arguments.length?(D=Pe,Te):D},Te.children=function(Pe){return arguments.length?(G=Pe,Te):G},Te.value=function(Pe){return arguments.length?(he=Pe,Te):he},Te.revalue=function(Pe){return he&&(El(Pe,function($e){$e.children&&($e.value=0)}),Yu(Pe,function($e){var Ke;$e.children||($e.value=+he.call(Te,$e,$e.depth)||0),(Ke=$e.parent)&&(Ke.value+=$e.value)})),Pe},Te};function wc(D,G){return y.rebind(D,G,"sort","children","value"),D.nodes=D,D.links=t0,D}function El(D,G){for(var he=[D];(D=he.pop())!=null;)if(G(D),(Pe=D.children)&&(Te=Pe.length))for(var Te,Pe;--Te>=0;)he.push(Pe[Te])}function Yu(D,G){for(var he=[D],Te=[];(D=he.pop())!=null;)if(Te.push(D),(Ke=D.children)&&($e=Ke.length))for(var Pe=-1,$e,Ke;++Pe<$e;)he.push(Ke[Pe]);for(;(D=Te.pop())!=null;)G(D)}function NO(D){return D.children}function Wp(D){return D.value}function vy(D,G){return G.value-D.value}function t0(D){return y.merge(D.map(function(G){return(G.children||[]).map(function(he){return{source:G,target:he}})}))}y.layout.partition=function(){var D=y.layout.hierarchy(),G=[1,1];function he($e,Ke,We,rt){var vt=$e.children;if($e.x=Ke,$e.y=$e.depth*rt,$e.dx=We,$e.dy=rt,vt&&(Zt=vt.length)){var bt=-1,Zt,Ut,gn;for(We=$e.value?We/$e.value:0;++bt<Zt;)he(Ut=vt[bt],Ke,gn=Ut.value*We,rt),Ke+=gn}}function Te($e){var Ke=$e.children,We=0;if(Ke&&(vt=Ke.length))for(var rt=-1,vt;++rt<vt;)We=Math.max(We,Te(Ke[rt]));return 1+We}function Pe($e,Ke){var We=D.call(this,$e,Ke);return he(We[0],0,G[0],G[1]/Te(We[0])),We}return Pe.size=function($e){return arguments.length?(G=$e,Pe):G},wc(Pe,D)},y.layout.pie=function(){var D=Number,G=Ef,he=0,Te=at,Pe=0;function $e(Ke){var We=Ke.length,rt=Ke.map(function(_n,Pn){return+D.call($e,_n,Pn)}),vt=+(typeof he=="function"?he.apply(this,arguments):he),bt=(typeof Te=="function"?Te.apply(this,arguments):Te)-vt,Zt=Math.min(Math.abs(bt)/We,+(typeof Pe=="function"?Pe.apply(this,arguments):Pe)),Ut=Zt*(bt<0?-1:1),gn=y.sum(rt),An=gn?(bt-We*Ut)/gn:0,jt=y.range(We),nn=[],hn;return G!=null&&jt.sort(G===Ef?function(_n,Pn){return rt[Pn]-rt[_n]}:function(_n,Pn){return G(Ke[_n],Ke[Pn])}),jt.forEach(function(_n){nn[_n]={data:Ke[_n],value:hn=rt[_n],startAngle:vt,endAngle:vt+=hn*An+Ut,padAngle:Zt}}),nn}return $e.value=function(Ke){return arguments.length?(D=Ke,$e):D},$e.sort=function(Ke){return arguments.length?(G=Ke,$e):G},$e.startAngle=function(Ke){return arguments.length?(he=Ke,$e):he},$e.endAngle=function(Ke){return arguments.length?(Te=Ke,$e):Te},$e.padAngle=function(Ke){return arguments.length?(Pe=Ke,$e):Pe},$e};var Ef={};y.layout.stack=function(){var D=ne,G=n0,he=xh,Te=nk,Pe=BO,$e=tk;function Ke(We,rt){if(!(An=We.length))return We;var vt=We.map(function(_n,Pn){return D.call(Ke,_n,Pn)}),bt=vt.map(function(_n){return _n.map(function(Pn,yn){return[Pe.call(Ke,Pn,yn),$e.call(Ke,Pn,yn)]})}),Zt=G.call(Ke,bt,rt);vt=y.permute(vt,Zt),bt=y.permute(bt,Zt);var Ut=he.call(Ke,bt,rt),gn=vt[0].length,An,jt,nn,hn;for(nn=0;nn<gn;++nn)for(Te.call(Ke,vt[0][nn],hn=Ut[nn],bt[0][nn][1]),jt=1;jt<An;++jt)Te.call(Ke,vt[jt][nn],hn+=bt[jt-1][nn][1],bt[jt][nn][1]);return We}return Ke.values=function(We){return arguments.length?(D=We,Ke):D},Ke.order=function(We){return arguments.length?(G=typeof We=="function"?We:WS.get(We)||n0,Ke):G},Ke.offset=function(We){return arguments.length?(he=typeof We=="function"?We:Yp.get(We)||xh,Ke):he},Ke.x=function(We){return arguments.length?(Pe=We,Ke):Pe},Ke.y=function(We){return arguments.length?($e=We,Ke):$e},Ke.out=function(We){return arguments.length?(Te=We,Ke):Te},Ke};function BO(D){return D.x}function tk(D){return D.y}function nk(D,G,he){D.y0=G,D.y=he}var WS=y.map({"inside-out":function(D){var G=D.length,he,Te,Pe=D.map(ti),$e=D.map(fi),Ke=y.range(G).sort(function(Zt,Ut){return Pe[Zt]-Pe[Ut]}),We=0,rt=0,vt=[],bt=[];for(he=0;he<G;++he)Te=Ke[he],We<rt?(We+=$e[Te],vt.push(Te)):(rt+=$e[Te],bt.push(Te));return bt.reverse().concat(vt)},reverse:function(D){return y.range(D.length).reverse()},default:n0}),Yp=y.map({silhouette:function(D){var G=D.length,he=D[0].length,Te=[],Pe=0,$e,Ke,We,rt=[];for(Ke=0;Ke<he;++Ke){for($e=0,We=0;$e<G;$e++)We+=D[$e][Ke][1];We>Pe&&(Pe=We),Te.push(We)}for(Ke=0;Ke<he;++Ke)rt[Ke]=(Pe-Te[Ke])/2;return rt},wiggle:function(D){var G=D.length,he=D[0],Te=he.length,Pe,$e,Ke,We,rt,vt,bt,Zt,Ut,gn=[];for(gn[0]=Zt=Ut=0,$e=1;$e<Te;++$e){for(Pe=0,We=0;Pe<G;++Pe)We+=D[Pe][$e][1];for(Pe=0,rt=0,bt=he[$e][0]-he[$e-1][0];Pe<G;++Pe){for(Ke=0,vt=(D[Pe][$e][1]-D[Pe][$e-1][1])/(2*bt);Ke<Pe;++Ke)vt+=(D[Ke][$e][1]-D[Ke][$e-1][1])/bt;rt+=vt*D[Pe][$e][1]}gn[$e]=Zt-=We?rt/We*bt:0,Zt<Ut&&(Ut=Zt)}for($e=0;$e<Te;++$e)gn[$e]-=Ut;return gn},expand:function(D){var G=D.length,he=D[0].length,Te=1/G,Pe,$e,Ke,We=[];for($e=0;$e<he;++$e){for(Pe=0,Ke=0;Pe<G;Pe++)Ke+=D[Pe][$e][1];if(Ke)for(Pe=0;Pe<G;Pe++)D[Pe][$e][1]/=Ke;else for(Pe=0;Pe<G;Pe++)D[Pe][$e][1]=Te}for($e=0;$e<he;++$e)We[$e]=0;return We},zero:xh});function n0(D){return y.range(D.length)}function xh(D){for(var G=-1,he=D[0].length,Te=[];++G<he;)Te[G]=0;return Te}function ti(D){for(var G=1,he=0,Te=D[0][1],Pe,$e=D.length;G<$e;++G)(Pe=D[G][1])>Te&&(he=G,Te=Pe);return he}function fi(D){return D.reduce(Cu,0)}function Cu(D,G){return D+G[1]}y.layout.histogram=function(){var D=!0,G=Number,he=Hl,Te=yy;function Pe($e,Ut){for(var We=[],rt=$e.map(G,this),vt=he.call(this,rt,Ut),bt=Te.call(this,vt,rt,Ut),Zt,Ut=-1,gn=rt.length,An=bt.length-1,jt=D?1:1/gn,nn;++Ut<An;)Zt=We[Ut]=[],Zt.dx=bt[Ut+1]-(Zt.x=bt[Ut]),Zt.y=0;if(An>0)for(Ut=-1;++Ut<gn;)nn=rt[Ut],nn>=vt[0]&&nn<=vt[1]&&(Zt=We[y.bisect(bt,nn,1,An)-1],Zt.y+=jt,Zt.push($e[Ut]));return We}return Pe.value=function($e){return arguments.length?(G=$e,Pe):G},Pe.range=function($e){return arguments.length?(he=Fn($e),Pe):he},Pe.bins=function($e){return arguments.length?(Te=typeof $e=="number"?function(Ke){return QO(Ke,$e)}:Fn($e),Pe):Te},Pe.frequency=function($e){return arguments.length?(D=!!$e,Pe):D},Pe};function yy(D,G){return QO(D,Math.ceil(Math.log(G.length)/Math.LN2+1))}function QO(D,G){for(var he=-1,Te=+D[0],Pe=(D[1]-Te)/G,$e=[];++he<=G;)$e[he]=Pe*he+Te;return $e}function Hl(D){return[y.min(D),y.max(D)]}y.layout.pack=function(){var D=y.layout.hierarchy().sort(Sg),G=0,he=[1,1],Te;function Pe($e,Ke){var We=D.call(this,$e,Ke),rt=We[0],vt=he[0],bt=he[1],Zt=Te==null?Math.sqrt:typeof Te=="function"?Te:function(){return Te};if(rt.x=rt.y=0,Yu(rt,function(gn){gn.r=+Zt(gn.value)}),Yu(rt,jo),G){var Ut=G*(Te?1:Math.max(2*rt.r/vt,2*rt.r/bt))/2;Yu(rt,function(gn){gn.r+=Ut}),Yu(rt,jo),Yu(rt,function(gn){gn.r-=Ut})}return ym(rt,vt/2,bt/2,Te?1:1/Math.max(2*rt.r/vt,2*rt.r/bt)),We}return Pe.size=function($e){return arguments.length?(he=$e,Pe):he},Pe.radius=function($e){return arguments.length?(Te=$e==null||typeof $e=="function"?$e:+$e,Pe):Te},Pe.padding=function($e){return arguments.length?(G=+$e,Pe):G},wc(Pe,D)};function Sg(D,G){return D.value-G.value}function Tc(D,G){var he=D._pack_next;D._pack_next=G,G._pack_prev=D,G._pack_next=he,he._pack_prev=G}function _f(D,G){D._pack_next=G,G._pack_prev=D}function by(D,G){var he=G.x-D.x,Te=G.y-D.y,Pe=D.r+G.r;return .999*Pe*Pe>he*he+Te*Te}function jo(D){if(!(G=D.children)||!(Ut=G.length))return;var G,he=1/0,Te=-1/0,Pe=1/0,$e=-1/0,Ke,We,rt,vt,bt,Zt,Ut;function gn(yn){he=Math.min(yn.x-yn.r,he),Te=Math.max(yn.x+yn.r,Te),Pe=Math.min(yn.y-yn.r,Pe),$e=Math.max(yn.y+yn.r,$e)}if(G.forEach(Zc),Ke=G[0],Ke.x=-Ke.r,Ke.y=0,gn(Ke),Ut>1&&(We=G[1],We.x=We.r,We.y=0,gn(We),Ut>2))for(rt=G[2],Oy(Ke,We,rt),gn(rt),Tc(Ke,rt),Ke._pack_prev=rt,Tc(rt,We),We=Ke._pack_next,vt=3;vt<Ut;vt++){Oy(Ke,We,rt=G[vt]);var An=0,jt=1,nn=1;for(bt=We._pack_next;bt!==We;bt=bt._pack_next,jt++)if(by(bt,rt)){An=1;break}if(An==1)for(Zt=Ke._pack_prev;Zt!==bt._pack_prev&&!by(Zt,rt);Zt=Zt._pack_prev,nn++);An?(jt<nn||jt==nn&&We.r<Ke.r?_f(Ke,We=bt):_f(Ke=Zt,We),vt--):(Tc(Ke,rt),We=rt,gn(rt))}var hn=(he+Te)/2,_n=(Pe+$e)/2,Pn=0;for(vt=0;vt<Ut;vt++)rt=G[vt],rt.x-=hn,rt.y-=_n,Pn=Math.max(Pn,rt.r+Math.sqrt(rt.x*rt.x+rt.y*rt.y));D.r=Pn,G.forEach(Sh)}function Zc(D){D._pack_next=D._pack_prev=D}function Sh(D){delete D._pack_next,delete D._pack_prev}function ym(D,G,he,Te){var Pe=D.children;if(D.x=G+=Te*D.x,D.y=he+=Te*D.y,D.r*=Te,Pe)for(var $e=-1,Ke=Pe.length;++$e<Ke;)ym(Pe[$e],G,he,Te)}function Oy(D,G,he){var Te=D.r+he.r,Pe=G.x-D.x,$e=G.y-D.y;if(Te&&(Pe||$e)){var Ke=G.r+he.r,We=Pe*Pe+$e*$e;Ke*=Ke,Te*=Te;var rt=.5+(Te-Ke)/(2*We),vt=Math.sqrt(Math.max(0,2*Ke*(Te+We)-(Te-=We)*Te-Ke*Ke))/(2*We);he.x=D.x+rt*Pe+vt*$e,he.y=D.y+rt*$e-vt*Pe}else he.x=D.x+Te,he.y=D.y}y.layout.tree=function(){var D=y.layout.hierarchy().sort(null).value(null),G=xy,he=[1,1],Te=null;function Pe(bt,Zt){var Ut=D.call(this,bt,Zt),gn=Ut[0],An=$e(gn);if(Yu(An,Ke),An.parent.m=-An.z,El(An,We),Te)El(gn,vt);else{var jt=gn,nn=gn,hn=gn;El(gn,function(cr){cr.x<jt.x&&(jt=cr),cr.x>nn.x&&(nn=cr),cr.depth>hn.depth&&(hn=cr)});var _n=G(jt,nn)/2-jt.x,Pn=he[0]/(nn.x+G(nn,jt)/2+_n),yn=he[1]/(hn.depth||1);El(gn,function(cr){cr.x=(cr.x+_n)*Pn,cr.y=cr.depth*yn})}return Ut}function $e(bt){for(var Zt={A:null,children:[bt]},Ut=[Zt],gn;(gn=Ut.pop())!=null;)for(var An=gn.children,jt,nn=0,hn=An.length;nn<hn;++nn)Ut.push((An[nn]=jt={_:An[nn],parent:gn,children:(jt=An[nn].children)&&jt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:nn}).a=jt);return Zt.children[0]}function Ke(bt){var Zt=bt.children,Ut=bt.parent.children,gn=bt.i?Ut[bt.i-1]:null;if(Zt.length){Hi(bt);var An=(Zt[0].z+Zt[Zt.length-1].z)/2;gn?(bt.z=gn.z+G(bt._,gn._),bt.m=bt.z-An):bt.z=An}else gn&&(bt.z=gn.z+G(bt._,gn._));bt.parent.A=rt(bt,gn,bt.parent.A||Ut[0])}function We(bt){bt._.x=bt.z+bt.parent.m,bt.m+=bt.parent.m}function rt(bt,Zt,Ut){if(Zt){for(var gn=bt,An=bt,jt=Zt,nn=gn.parent.children[0],hn=gn.m,_n=An.m,Pn=jt.m,yn=nn.m,cr;jt=wi(jt),gn=sc(gn),jt&&gn;)nn=sc(nn),An=wi(An),An.a=bt,cr=jt.z+Pn-gn.z-hn+G(jt._,gn._),cr>0&&(su(Sy(jt,bt,Ut),bt,cr),hn+=cr,_n+=cr),Pn+=jt.m,hn+=gn.m,yn+=nn.m,_n+=An.m;jt&&!wi(An)&&(An.t=jt,An.m+=Pn-_n),gn&&!sc(nn)&&(nn.t=gn,nn.m+=hn-yn,Ut=bt)}return Ut}function vt(bt){bt.x*=he[0],bt.y=bt.depth*he[1]}return Pe.separation=function(bt){return arguments.length?(G=bt,Pe):G},Pe.size=function(bt){return arguments.length?(Te=(he=bt)==null?vt:null,Pe):Te?null:he},Pe.nodeSize=function(bt){return arguments.length?(Te=(he=bt)==null?null:vt,Pe):Te?he:null},wc(Pe,D)};function xy(D,G){return D.parent==G.parent?1:2}function sc(D){var G=D.children;return G.length?G[0]:D.t}function wi(D){var G=D.children,he;return(he=G.length)?G[he-1]:D.t}function su(D,G,he){var Te=he/(G.i-D.i);G.c-=Te,G.s+=he,D.c+=Te,G.z+=he,G.m+=he}function Hi(D){for(var G=0,he=0,Te=D.children,Pe=Te.length,$e;--Pe>=0;)$e=Te[Pe],$e.z+=G,$e.m+=G,G+=$e.s+(he+=$e.c)}function Sy(D,G,he){return D.a.parent===G.parent?D.a:he}y.layout.cluster=function(){var D=y.layout.hierarchy().sort(null).value(null),G=xy,he=[1,1],Te=!1;function Pe($e,Ke){var We=D.call(this,$e,Ke),rt=We[0],vt,bt=0;Yu(rt,function(jt){var nn=jt.children;nn&&nn.length?(jt.x=Ti(nn),jt.y=r0(nn)):(jt.x=vt?bt+=G(jt,vt):0,jt.y=0,vt=jt)});var Zt=Ui(rt),Ut=Xu(rt),gn=Zt.x-G(Zt,Ut)/2,An=Ut.x+G(Ut,Zt)/2;return Yu(rt,Te?function(jt){jt.x=(jt.x-rt.x)*he[0],jt.y=(rt.y-jt.y)*he[1]}:function(jt){jt.x=(jt.x-gn)/(An-gn)*he[0],jt.y=(1-(rt.y?jt.y/rt.y:1))*he[1]}),We}return Pe.separation=function($e){return arguments.length?(G=$e,Pe):G},Pe.size=function($e){return arguments.length?(Te=(he=$e)==null,Pe):Te?null:he},Pe.nodeSize=function($e){return arguments.length?(Te=(he=$e)!=null,Pe):Te?he:null},wc(Pe,D)};function r0(D){return 1+y.max(D,function(G){return G.y})}function Ti(D){return D.reduce(function(G,he){return G+he.x},0)/D.length}function Ui(D){var G=D.children;return G&&G.length?Ui(G[0]):D}function Xu(D){var G=D.children,he;return G&&(he=G.length)?Xu(G[he-1]):D}y.layout.treemap=function(){var D=y.layout.hierarchy(),G=Math.round,he=[1,1],Te=null,Pe=bm,$e=!1,Ke,We="squarify",rt=.5*(1+Math.sqrt(5));function vt(jt,nn){for(var hn=-1,_n=jt.length,Pn,yn;++hn<_n;)yn=(Pn=jt[hn]).value*(nn<0?0:nn),Pn.area=isNaN(yn)||yn<=0?0:yn}function bt(jt){var nn=jt.children;if(nn&&nn.length){var hn=Pe(jt),_n=[],Pn=nn.slice(),yn,cr=1/0,Hr,Jr=We==="slice"?hn.dx:We==="dice"?hn.dy:We==="slice-dice"?jt.depth&1?hn.dy:hn.dx:Math.min(hn.dx,hn.dy),Ar;for(vt(Pn,hn.dx*hn.dy/jt.value),_n.area=0;(Ar=Pn.length)>0;)_n.push(yn=Pn[Ar-1]),_n.area+=yn.area,We!=="squarify"||(Hr=Ut(_n,Jr))<=cr?(Pn.pop(),cr=Hr):(_n.area-=_n.pop().area,gn(_n,Jr,hn,!1),Jr=Math.min(hn.dx,hn.dy),_n.length=_n.area=0,cr=1/0);_n.length&&(gn(_n,Jr,hn,!0),_n.length=_n.area=0),nn.forEach(bt)}}function Zt(jt){var nn=jt.children;if(nn&&nn.length){var hn=Pe(jt),_n=nn.slice(),Pn,yn=[];for(vt(_n,hn.dx*hn.dy/jt.value),yn.area=0;Pn=_n.pop();)yn.push(Pn),yn.area+=Pn.area,Pn.z!=null&&(gn(yn,Pn.z?hn.dx:hn.dy,hn,!_n.length),yn.length=yn.area=0);nn.forEach(Zt)}}function Ut(jt,nn){for(var hn=jt.area,_n,Pn=0,yn=1/0,cr=-1,Hr=jt.length;++cr<Hr;)(_n=jt[cr].area)&&(_n<yn&&(yn=_n),_n>Pn&&(Pn=_n));return hn*=hn,nn*=nn,hn?Math.max(nn*Pn*rt/hn,hn/(nn*yn*rt)):1/0}function gn(jt,nn,hn,_n){var Pn=-1,yn=jt.length,cr=hn.x,Hr=hn.y,Jr=nn?G(jt.area/nn):0,Ar;if(nn==hn.dx){for((_n||Jr>hn.dy)&&(Jr=hn.dy);++Pn<yn;)Ar=jt[Pn],Ar.x=cr,Ar.y=Hr,Ar.dy=Jr,cr+=Ar.dx=Math.min(hn.x+hn.dx-cr,Jr?G(Ar.area/Jr):0);Ar.z=!0,Ar.dx+=hn.x+hn.dx-cr,hn.y+=Jr,hn.dy-=Jr}else{for((_n||Jr>hn.dx)&&(Jr=hn.dx);++Pn<yn;)Ar=jt[Pn],Ar.x=cr,Ar.y=Hr,Ar.dx=Jr,Hr+=Ar.dy=Math.min(hn.y+hn.dy-Hr,Jr?G(Ar.area/Jr):0);Ar.z=!1,Ar.dy+=hn.y+hn.dy-Hr,hn.x+=Jr,hn.dx-=Jr}}function An(jt){var nn=Ke||D(jt),hn=nn[0];return hn.x=hn.y=0,hn.value?(hn.dx=he[0],hn.dy=he[1]):hn.dx=hn.dy=0,Ke&&D.revalue(hn),vt([hn],hn.dx*hn.dy/hn.value),(Ke?Zt:bt)(hn),$e&&(Ke=nn),nn}return An.size=function(jt){return arguments.length?(he=jt,An):he},An.padding=function(jt){if(!arguments.length)return Te;function nn(Pn){var yn=jt.call(An,Pn,Pn.depth);return yn==null?bm(Pn):Ci(Pn,typeof yn=="number"?[yn,yn,yn,yn]:yn)}function hn(Pn){return Ci(Pn,jt)}var _n;return Pe=(Te=jt)==null?bm:(_n=typeof jt)=="function"?nn:(_n==="number"&&(jt=[jt,jt,jt,jt]),hn),An},An.round=function(jt){return arguments.length?(G=jt?Math.round:Number,An):G!=Number},An.sticky=function(jt){return arguments.length?($e=jt,Ke=null,An):$e},An.ratio=function(jt){return arguments.length?(rt=jt,An):rt},An.mode=function(jt){return arguments.length?(We=jt+"",An):We},wc(An,D)};function bm(D){return{x:D.x,y:D.y,dx:D.dx,dy:D.dy}}function Ci(D,G){var he=D.x+G[3],Te=D.y+G[0],Pe=D.dx-G[1]-G[3],$e=D.dy-G[0]-G[2];return Pe<0&&(he+=Pe/2,Pe=0),$e<0&&(Te+=$e/2,$e=0),{x:he,y:Te,dx:Pe,dy:$e}}y.random={normal:function(D,G){var he=arguments.length;return he<2&&(G=1),he<1&&(D=0),function(){var Te,Pe,$e;do Te=Math.random()*2-1,Pe=Math.random()*2-1,$e=Te*Te+Pe*Pe;while(!$e||$e>1);return D+G*Te*Math.sqrt(-2*Math.log($e)/$e)}},logNormal:function(){var D=y.random.normal.apply(y,arguments);return function(){return Math.exp(D())}},bates:function(D){var G=y.random.irwinHall(D);return function(){return G()/D}},irwinHall:function(D){return function(){for(var G=0,he=0;he<D;he++)G+=Math.random();return G}}},y.scale={};function wg(D){var G=D[0],he=D[D.length-1];return G<he?[G,he]:[he,G]}function Xp(D){return D.rangeExtent?D.rangeExtent():wg(D.range())}function Ta(D,G,he,Te){var Pe=he(D[0],D[1]),$e=Te(G[0],G[1]);return function(Ke){return $e(Pe(Ke))}}function wh(D,G){var he=0,Te=D.length-1,Pe=D[he],$e=D[Te],Ke;return $e<Pe&&(Ke=he,he=Te,Te=Ke,Ke=Pe,Pe=$e,$e=Ke),D[he]=G.floor(Pe),D[Te]=G.ceil($e),D}function Ks(D){return D?{floor:function(G){return Math.floor(G/D)*D},ceil:function(G){return Math.ceil(G/D)*D}}:Rf}var Rf={floor:ne,ceil:ne};function wy(D,G,he,Te){var Pe=[],$e=[],Ke=0,We=Math.min(D.length,G.length)-1;for(D[We]<D[0]&&(D=D.slice().reverse(),G=G.slice().reverse());++Ke<=We;)Pe.push(he(D[Ke-1],D[Ke])),$e.push(Te(G[Ke-1],G[Ke]));return function(rt){var vt=y.bisect(D,rt,1,We)-1;return $e[vt](Pe[vt](rt))}}y.scale.linear=function(){return Gp([0,1],[0,1],xc,!1)};function Gp(D,G,he,Te){var Pe,$e;function Ke(){var rt=Math.min(D.length,G.length)>2?wy:Ta,vt=Te?bg:my;return Pe=rt(D,G,vt,he),$e=rt(G,D,vt,xc),We}function We(rt){return Pe(rt)}return We.invert=function(rt){return $e(rt)},We.domain=function(rt){return arguments.length?(D=rt.map(Number),Ke()):D},We.range=function(rt){return arguments.length?(G=rt,Ke()):G},We.rangeRound=function(rt){return We.range(rt).interpolate(pm)},We.clamp=function(rt){return arguments.length?(Te=rt,Ke()):Te},We.interpolate=function(rt){return arguments.length?(he=rt,Ke()):he},We.ticks=function(rt){return jp(D,rt)},We.tickFormat=function(rt,vt){return d3_scale_linearTickFormat(D,rt,vt)},We.nice=function(rt){return Om(D,rt),Ke()},We.copy=function(){return Gp(D,G,he,Te)},Ke()}function hs(D,G){return y.rebind(D,G,"range","rangeRound","interpolate","clamp")}function Om(D,G){return wh(D,Ks(o0(D,G)[2])),wh(D,Ks(o0(D,G)[2])),D}function o0(D,G){G==null&&(G=10);var he=wg(D),Te=he[1]-he[0],Pe=Math.pow(10,Math.floor(Math.log(Te/G)/Math.LN10)),$e=G/Te*Pe;return $e<=.15?Pe*=10:$e<=.35?Pe*=5:$e<=.75&&(Pe*=2),he[0]=Math.ceil(he[0]/Pe)*Pe,he[1]=Math.floor(he[1]/Pe)*Pe+Pe*.5,he[2]=Pe,he}function jp(D,G){return y.range.apply(y,o0(D,G))}y.scale.log=function(){return YS(y.scale.linear().domain([0,1]),10,!0,[1,10])};function YS(D,G,he,Te){function Pe(We){return(he?Math.log(We<0?0:We):-Math.log(We>0?0:-We))/Math.log(G)}function $e(We){return he?Math.pow(G,We):-Math.pow(G,-We)}function Ke(We){return D(Pe(We))}return Ke.invert=function(We){return $e(D.invert(We))},Ke.domain=function(We){return arguments.length?(he=We[0]>=0,D.domain((Te=We.map(Number)).map(Pe)),Ke):Te},Ke.base=function(We){return arguments.length?(G=+We,D.domain(Te.map(Pe)),Ke):G},Ke.nice=function(){var We=wh(Te.map(Pe),he?Math:XS);return D.domain(We),Te=We.map($e),Ke},Ke.ticks=function(){var We=wg(Te),rt=[],vt=We[0],bt=We[1],Zt=Math.floor(Pe(vt)),Ut=Math.ceil(Pe(bt)),gn=G%1?2:G;if(isFinite(Ut-Zt)){if(he){for(;Zt<Ut;Zt++)for(var An=1;An<gn;An++)rt.push($e(Zt)*An);rt.push($e(Zt))}else for(rt.push($e(Zt));Zt++<Ut;)for(var An=gn-1;An>0;An--)rt.push($e(Zt)*An);for(Zt=0;rt[Zt]<vt;Zt++);for(Ut=rt.length;rt[Ut-1]>bt;Ut--);rt=rt.slice(Zt,Ut)}return rt},Ke.copy=function(){return YS(D.copy(),G,he,Te)},hs(Ke,D)}var XS={floor:function(D){return-Math.ceil(-D)},ceil:function(D){return-Math.floor(-D)}};y.scale.pow=function(){return Ty(y.scale.linear(),1,[0,1])};function Ty(D,G,he){var Te=xm(G),Pe=xm(1/G);function $e(Ke){return D(Te(Ke))}return $e.invert=function(Ke){return Pe(D.invert(Ke))},$e.domain=function(Ke){return arguments.length?(D.domain((he=Ke.map(Number)).map(Te)),$e):he},$e.ticks=function(Ke){return jp(he,Ke)},$e.tickFormat=function(Ke,We){return d3_scale_linearTickFormat(he,Ke,We)},$e.nice=function(Ke){return $e.domain(Om(he,Ke))},$e.exponent=function(Ke){return arguments.length?(Te=xm(G=Ke),Pe=xm(1/G),D.domain(he.map(Te)),$e):G},$e.copy=function(){return Ty(D.copy(),G,he)},hs($e,D)}function xm(D){return function(G){return G<0?-Math.pow(-G,D):Math.pow(G,D)}}y.scale.sqrt=function(){return y.scale.pow().exponent(.5)},y.scale.ordinal=function(){return s0([],{t:"range",a:[[]]})};function s0(D,G){var he,Te,Pe;function $e(We){return Te[((he.get(We)||(G.t==="range"?he.set(We,D.push(We)):NaN))-1)%Te.length]}function Ke(We,rt){return y.range(D.length).map(function(vt){return We+rt*vt})}return $e.domain=function(We){if(!arguments.length)return D;D=[],he=new ie;for(var rt=-1,vt=We.length,bt;++rt<vt;)he.has(bt=We[rt])||he.set(bt,D.push(bt));return $e[G.t].apply($e,G.a)},$e.range=function(We){return arguments.length?(Te=We,Pe=0,G={t:"range",a:arguments},$e):Te},$e.rangePoints=function(We,rt){arguments.length<2&&(rt=0);var vt=We[0],bt=We[1],Zt=D.length<2?(vt=(vt+bt)/2,0):(bt-vt)/(D.length-1+rt);return Te=Ke(vt+Zt*rt/2,Zt),Pe=0,G={t:"rangePoints",a:arguments},$e},$e.rangeRoundPoints=function(We,rt){arguments.length<2&&(rt=0);var vt=We[0],bt=We[1],Zt=D.length<2?(vt=bt=Math.round((vt+bt)/2),0):(bt-vt)/(D.length-1+rt)|0;return Te=Ke(vt+Math.round(Zt*rt/2+(bt-vt-(D.length-1+rt)*Zt)/2),Zt),Pe=0,G={t:"rangeRoundPoints",a:arguments},$e},$e.rangeBands=function(We,rt,vt){arguments.length<2&&(rt=0),arguments.length<3&&(vt=rt);var bt=We[1]<We[0],Zt=We[bt-0],Ut=We[1-bt],gn=(Ut-Zt)/(D.length-rt+2*vt);return Te=Ke(Zt+gn*vt,gn),bt&&Te.reverse(),Pe=gn*(1-rt),G={t:"rangeBands",a:arguments},$e},$e.rangeRoundBands=function(We,rt,vt){arguments.length<2&&(rt=0),arguments.length<3&&(vt=rt);var bt=We[1]<We[0],Zt=We[bt-0],Ut=We[1-bt],gn=Math.floor((Ut-Zt)/(D.length-rt+2*vt));return Te=Ke(Zt+Math.round((Ut-Zt-(D.length-rt)*gn)/2),gn),bt&&Te.reverse(),Pe=Math.round(gn*(1-rt)),G={t:"rangeRoundBands",a:arguments},$e},$e.rangeBand=function(){return Pe},$e.rangeExtent=function(){return wg(G.a[0])},$e.copy=function(){return s0(D,G)},$e.domain(D)}y.scale.category10=function(){return y.scale.ordinal().range(Sm)},y.scale.category20=function(){return y.scale.ordinal().range(Tg)},y.scale.category20b=function(){return y.scale.ordinal().range(FO)},y.scale.category20c=function(){return y.scale.ordinal().range(Gu)};var Sm=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),Tg=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),FO=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Gu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);y.scale.quantile=function(){return VO([],[])};function VO(D,G){var he;function Te(){var $e=0,Ke=G.length;for(he=[];++$e<Ke;)he[$e-1]=y.quantile(D,$e/Ke);return Pe}function Pe($e){if(!isNaN($e=+$e))return G[y.bisect(he,$e)]}return Pe.domain=function($e){return arguments.length?(D=$e.map(Q).filter(z).sort(N),Te()):D},Pe.range=function($e){return arguments.length?(G=$e,Te()):G},Pe.quantiles=function(){return he},Pe.invertExtent=function($e){return $e=G.indexOf($e),$e<0?[NaN,NaN]:[$e>0?he[$e-1]:D[0],$e<he.length?he[$e]:D[D.length-1]]},Pe.copy=function(){return VO(D,G)},Te()}y.scale.quantize=function(){return wm(0,1,[0,1])};function wm(D,G,he){var Te,Pe;function $e(We){return he[Math.max(0,Math.min(Pe,Math.floor(Te*(We-D))))]}function Ke(){return Te=he.length/(G-D),Pe=he.length-1,$e}return $e.domain=function(We){return arguments.length?(D=+We[0],G=+We[We.length-1],Ke()):[D,G]},$e.range=function(We){return arguments.length?(he=We,Ke()):he},$e.invertExtent=function(We){return We=he.indexOf(We),We=We<0?NaN:We/Te+D,[We,We+1/Te]},$e.copy=function(){return wm(D,G,he)},Ke()}y.scale.threshold=function(){return ku([.5],[0,1])};function ku(D,G){function he(Te){if(Te<=Te)return G[y.bisect(D,Te)]}return he.domain=function(Te){return arguments.length?(D=Te,he):D},he.range=function(Te){return arguments.length?(G=Te,he):G},he.invertExtent=function(Te){return Te=G.indexOf(Te),[D[Te-1],D[Te]]},he.copy=function(){return ku(D,G)},he}y.scale.identity=function(){return a0([0,1])};function a0(D){function G(he){return+he}return G.invert=G,G.domain=G.range=function(he){return arguments.length?(D=he.map(G),G):D},G.ticks=function(he){return jp(D,he)},G.tickFormat=function(he,Te){return d3_scale_linearTickFormat(D,he,Te)},G.copy=function(){return a0(D)},G}y.svg={};function Cy(){return 0}y.svg.arc=function(){var D=ky,G=Ay,he=Cy,Te=Cg,Pe=Py,$e=i0,Ke=al;function We(){var vt=Math.max(0,+D.apply(this,arguments)),bt=Math.max(0,+G.apply(this,arguments)),Zt=Pe.apply(this,arguments)-mt,Ut=$e.apply(this,arguments)-mt,gn=Math.abs(Ut-Zt),An=Zt>Ut?0:1;if(bt<vt&&(jt=bt,bt=vt,vt=jt),gn>=dt)return rt(bt,An)+(vt?rt(vt,1-An):"")+"Z";var jt,nn,hn,_n,Pn=0,yn=0,cr,Hr,Jr,Ar,ro,fo,ts,xo,go=[];if((_n=(+Ke.apply(this,arguments)||0)/2)&&(hn=Te===Cg?Math.sqrt(vt*vt+bt*bt):+Te.apply(this,arguments),An||(yn*=-1),bt&&(yn=rn(hn/bt*Math.sin(_n))),vt&&(Pn=rn(hn/vt*Math.sin(_n)))),bt){cr=bt*Math.cos(Zt+yn),Hr=bt*Math.sin(Zt+yn),Jr=bt*Math.cos(Ut-yn),Ar=bt*Math.sin(Ut-yn);var js=Math.abs(Ut-Zt-2*yn)<=He?0:1;if(yn&&qp(cr,Hr,Jr,Ar)===An^js){var ri=(Zt+Ut)/2;cr=bt*Math.cos(ri),Hr=bt*Math.sin(ri),Jr=Ar=null}}else cr=Hr=0;if(vt){ro=vt*Math.cos(Ut-Pn),fo=vt*Math.sin(Ut-Pn),ts=vt*Math.cos(Zt+Pn),xo=vt*Math.sin(Zt+Pn);var ba=Math.abs(Zt-Ut+2*Pn)<=He?0:1;if(Pn&&qp(ro,fo,ts,xo)===1-An^ba){var Lr=(Zt+Ut)/2;ro=vt*Math.cos(Lr),fo=vt*Math.sin(Lr),ts=xo=null}}else ro=fo=0;if(gn>gt&&(jt=Math.min(Math.abs(bt-vt)/2,+he.apply(this,arguments)))>.001){nn=vt<bt^An?0:1;var Do=jt,ms=jt;if(gn<He){var _s=ts==null?[ro,fo]:Jr==null?[cr,Hr]:Ba([cr,Hr],[ts,xo],[Jr,Ar],[ro,fo]),Qa=cr-_s[0],hi=Hr-_s[1],Yi=Jr-_s[0],$i=Ar-_s[1],Wc=1/Math.sin(Math.acos((Qa*Yi+hi*$i)/(Math.sqrt(Qa*Qa+hi*hi)*Math.sqrt(Yi*Yi+$i*$i)))/2),Ji=Math.sqrt(_s[0]*_s[0]+_s[1]*_s[1]);ms=Math.min(jt,(vt-Ji)/(Wc-1)),Do=Math.min(jt,(bt-Ji)/(Wc+1))}if(Jr!=null){var Pc=ca(ts==null?[ro,fo]:[ts,xo],[cr,Hr],bt,Do,An),Yl=ca([Jr,Ar],[ro,fo],bt,Do,An);jt===Do?go.push("M",Pc[0],"A",Do,",",Do," 0 0,",nn," ",Pc[1],"A",bt,",",bt," 0 ",1-An^qp(Pc[1][0],Pc[1][1],Yl[1][0],Yl[1][1]),",",An," ",Yl[1],"A",Do,",",Do," 0 0,",nn," ",Yl[0]):go.push("M",Pc[0],"A",Do,",",Do," 0 1,",nn," ",Yl[0])}else go.push("M",cr,",",Hr);if(ts!=null){var ea=ca([cr,Hr],[ts,xo],vt,-ms,An),Ju=ca([ro,fo],Jr==null?[cr,Hr]:[Jr,Ar],vt,-ms,An);jt===ms?go.push("L",Ju[0],"A",ms,",",ms," 0 0,",nn," ",Ju[1],"A",vt,",",vt," 0 ",An^qp(Ju[1][0],Ju[1][1],ea[1][0],ea[1][1]),",",1-An," ",ea[1],"A",ms,",",ms," 0 0,",nn," ",ea[0]):go.push("L",Ju[0],"A",ms,",",ms," 0 0,",nn," ",ea[0])}else go.push("L",ro,",",fo)}else go.push("M",cr,",",Hr),Jr!=null&&go.push("A",bt,",",bt," 0 ",js,",",An," ",Jr,",",Ar),go.push("L",ro,",",fo),ts!=null&&go.push("A",vt,",",vt," 0 ",ba,",",1-An," ",ts,",",xo);return go.push("Z"),go.join("")}function rt(vt,bt){return"M0,"+vt+"A"+vt+","+vt+" 0 1,"+bt+" 0,"+-vt+"A"+vt+","+vt+" 0 1,"+bt+" 0,"+vt}return We.innerRadius=function(vt){return arguments.length?(D=Fn(vt),We):D},We.outerRadius=function(vt){return arguments.length?(G=Fn(vt),We):G},We.cornerRadius=function(vt){return arguments.length?(he=Fn(vt),We):he},We.padRadius=function(vt){return arguments.length?(Te=vt==Cg?Cg:Fn(vt),We):Te},We.startAngle=function(vt){return arguments.length?(Pe=Fn(vt),We):Pe},We.endAngle=function(vt){return arguments.length?($e=Fn(vt),We):$e},We.padAngle=function(vt){return arguments.length?(Ke=Fn(vt),We):Ke},We.centroid=function(){var vt=(+D.apply(this,arguments)+ +G.apply(this,arguments))/2,bt=(+Pe.apply(this,arguments)+ +$e.apply(this,arguments))/2-mt;return[Math.cos(bt)*vt,Math.sin(bt)*vt]},We};var Cg="auto";function ky(D){return D.innerRadius}function Ay(D){return D.outerRadius}function Py(D){return D.startAngle}function i0(D){return D.endAngle}function al(D){return D&&D.padAngle}function qp(D,G,he,Te){return(D-he)*G-(G-Te)*D>0?0:1}function ca(D,G,he,Te,Pe){var $e=D[0]-G[0],Ke=D[1]-G[1],We=(Pe?Te:-Te)/Math.sqrt($e*$e+Ke*Ke),rt=We*Ke,vt=-We*$e,bt=D[0]+rt,Zt=D[1]+vt,Ut=G[0]+rt,gn=G[1]+vt,An=(bt+Ut)/2,jt=(Zt+gn)/2,nn=Ut-bt,hn=gn-Zt,_n=nn*nn+hn*hn,Pn=he-Te,yn=bt*gn-Ut*Zt,cr=(hn<0?-1:1)*Math.sqrt(Math.max(0,Pn*Pn*_n-yn*yn)),Hr=(yn*hn-nn*cr)/_n,Jr=(-yn*nn-hn*cr)/_n,Ar=(yn*hn+nn*cr)/_n,ro=(-yn*nn+hn*cr)/_n,fo=Hr-An,ts=Jr-jt,xo=Ar-An,go=ro-jt;return fo*fo+ts*ts>xo*xo+go*go&&(Hr=Ar,Jr=ro),[[Hr-rt,Jr-vt],[Hr*he/Pn,Jr*he/Pn]]}function uo(){return!0}function ju(D){var G=es,he=Xs,Te=uo,Pe=Ul,$e=Pe.key,Ke=.7;function We(rt){var vt=[],bt=[],Zt=-1,Ut=rt.length,gn,An=Fn(G),jt=Fn(he);function nn(){vt.push("M",Pe(D(bt),Ke))}for(;++Zt<Ut;)Te.call(this,gn=rt[Zt],Zt)?bt.push([+An.call(this,gn,Zt),+jt.call(this,gn,Zt)]):bt.length&&(nn(),bt=[]);return bt.length&&nn(),vt.length?vt.join(""):null}return We.x=function(rt){return arguments.length?(G=rt,We):G},We.y=function(rt){return arguments.length?(he=rt,We):he},We.defined=function(rt){return arguments.length?(Te=rt,We):Te},We.interpolate=function(rt){return arguments.length?(typeof rt=="function"?$e=Pe=rt:$e=(Pe=Xr.get(rt)||Ul).key,We):$e},We.tension=function(rt){return arguments.length?(Ke=rt,We):Ke},We}y.svg.line=function(){return ju(ne)};var Xr=y.map({linear:Ul,"linear-closed":GS,step:Ld,"step-before":vi,"step-after":Id,basis:My,"basis-open":l0,"basis-closed":lr,bundle:zO,cardinal:Df,"cardinal-open":Kp,"cardinal-closed":il,monotone:Jp});Xr.forEach(function(D,G){G.key=D,G.closed=/-closed$/.test(D)});function Ul(D){return D.length>1?D.join("L"):D+"Z"}function GS(D){return D.join("L")+"Z"}function Ld(D){for(var G=0,he=D.length,Te=D[0],Pe=[Te[0],",",Te[1]];++G<he;)Pe.push("H",(Te[0]+(Te=D[G])[0])/2,"V",Te[1]);return he>1&&Pe.push("H",Te[0]),Pe.join("")}function vi(D){for(var G=0,he=D.length,Te=D[0],Pe=[Te[0],",",Te[1]];++G<he;)Pe.push("V",(Te=D[G])[1],"H",Te[0]);return Pe.join("")}function Id(D){for(var G=0,he=D.length,Te=D[0],Pe=[Te[0],",",Te[1]];++G<he;)Pe.push("H",(Te=D[G])[0],"V",Te[1]);return Pe.join("")}function Kp(D,G){return D.length<4?Ul(D):D[1]+Tm(D.slice(1,-1),qu(D,G))}function il(D,G){return D.length<3?GS(D):D[0]+Tm((D.push(D[0]),D),qu([D[D.length-2]].concat(D,[D[1]]),G))}function Df(D,G){return D.length<3?Ul(D):D[0]+Tm(D,qu(D,G))}function Tm(D,G){if(G.length<1||D.length!=G.length&&D.length!=G.length+2)return Ul(D);var he=D.length!=G.length,Te="",Pe=D[0],$e=D[1],Ke=G[0],We=Ke,rt=1;if(he&&(Te+="Q"+($e[0]-Ke[0]*2/3)+","+($e[1]-Ke[1]*2/3)+","+$e[0]+","+$e[1],Pe=D[1],rt=2),G.length>1){We=G[1],$e=D[rt],rt++,Te+="C"+(Pe[0]+Ke[0])+","+(Pe[1]+Ke[1])+","+($e[0]-We[0])+","+($e[1]-We[1])+","+$e[0]+","+$e[1];for(var vt=2;vt<G.length;vt++,rt++)$e=D[rt],We=G[vt],Te+="S"+($e[0]-We[0])+","+($e[1]-We[1])+","+$e[0]+","+$e[1]}if(he){var bt=D[rt];Te+="Q"+($e[0]+We[0]*2/3)+","+($e[1]+We[1]*2/3)+","+bt[0]+","+bt[1]}return Te}function qu(D,G){for(var he=[],Te=(1-G)/2,Pe,$e=D[0],Ke=D[1],We=1,rt=D.length;++We<rt;)Pe=$e,$e=Ke,Ke=D[We],he.push([Te*(Ke[0]-Pe[0]),Te*(Ke[1]-Pe[1])]);return he}function My(D){if(D.length<3)return Ul(D);var G=1,he=D.length,Te=D[0],Pe=Te[0],$e=Te[1],Ke=[Pe,Pe,Pe,(Te=D[1])[0]],We=[$e,$e,$e,Te[1]],rt=[Pe,",",$e,"L",_l(da,Ke),",",_l(da,We)];for(D.push(D[he-1]);++G<=he;)Te=D[G],Ke.shift(),Ke.push(Te[0]),We.shift(),We.push(Te[1]),aa(rt,Ke,We);return D.pop(),rt.push("L",Te),rt.join("")}function l0(D){if(D.length<4)return Ul(D);for(var G=[],he=-1,Te=D.length,Pe,$e=[0],Ke=[0];++he<3;)Pe=D[he],$e.push(Pe[0]),Ke.push(Pe[1]);for(G.push(_l(da,$e)+","+_l(da,Ke)),--he;++he<Te;)Pe=D[he],$e.shift(),$e.push(Pe[0]),Ke.shift(),Ke.push(Pe[1]),aa(G,$e,Ke);return G.join("")}function lr(D){for(var G,he=-1,Te=D.length,Pe=Te+4,$e,Ke=[],We=[];++he<4;)$e=D[he%Te],Ke.push($e[0]),We.push($e[1]);for(G=[_l(da,Ke),",",_l(da,We)],--he;++he<Pe;)$e=D[he%Te],Ke.shift(),Ke.push($e[0]),We.shift(),We.push($e[1]),aa(G,Ke,We);return G.join("")}function zO(D,G){var he=D.length-1;if(he)for(var Te=D[0][0],Pe=D[0][1],$e=D[he][0]-Te,Ke=D[he][1]-Pe,We=-1,rt,vt;++We<=he;)rt=D[We],vt=We/he,rt[0]=G*rt[0]+(1-G)*(Te+vt*$e),rt[1]=G*rt[1]+(1-G)*(Pe+vt*Ke);return My(D)}function _l(D,G){return D[0]*G[0]+D[1]*G[1]+D[2]*G[2]+D[3]*G[3]}var ed=[0,2/3,1/3,0],kg=[0,1/3,2/3,0],da=[0,1/6,2/3,1/6];function aa(D,G,he){D.push("C",_l(ed,G),",",_l(ed,he),",",_l(kg,G),",",_l(kg,he),",",_l(da,G),",",_l(da,he))}function Rl(D,G){return(G[1]-D[1])/(G[0]-D[0])}function Wl(D){for(var G=0,he=D.length-1,Te=[],Pe=D[0],$e=D[1],Ke=Te[0]=Rl(Pe,$e);++G<he;)Te[G]=(Ke+(Ke=Rl(Pe=$e,$e=D[G+1])))/2;return Te[G]=Ke,Te}function xs(D){for(var G=[],he,Te,Pe,$e,Ke=Wl(D),We=-1,rt=D.length-1;++We<rt;)he=Rl(D[We],D[We+1]),E(he)<gt?Ke[We]=Ke[We+1]=0:(Te=Ke[We]/he,Pe=Ke[We+1]/he,$e=Te*Te+Pe*Pe,$e>9&&($e=he*3/Math.sqrt($e),Ke[We]=$e*Te,Ke[We+1]=$e*Pe));for(We=-1;++We<=rt;)$e=(D[Math.min(rt,We+1)][0]-D[Math.max(0,We-1)][0])/(6*(1+Ke[We]*Ke[We])),G.push([$e||0,Ke[We]*$e||0]);return G}function Jp(D){return D.length<3?Ul(D):D[0]+Tm(D,xs(D))}y.svg.line.radial=function(){var D=ju(ll);return D.radius=D.x,delete D.x,D.angle=D.y,delete D.y,D};function ll(D){for(var G,he=-1,Te=D.length,Pe,$e;++he<Te;)G=D[he],Pe=G[0],$e=G[1]-mt,G[0]=Pe*Math.cos($e),G[1]=Pe*Math.sin($e);return D}function ni(D){var G=es,he=es,Te=0,Pe=Xs,$e=uo,Ke=Ul,We=Ke.key,rt=Ke,vt="L",bt=.7;function Zt(Ut){var gn=[],An=[],jt=[],nn=-1,hn=Ut.length,_n,Pn=Fn(G),yn=Fn(Te),cr=G===he?function(){return Jr}:Fn(he),Hr=Te===Pe?function(){return Ar}:Fn(Pe),Jr,Ar;function ro(){gn.push("M",Ke(D(jt),bt),vt,rt(D(An.reverse()),bt),"Z")}for(;++nn<hn;)$e.call(this,_n=Ut[nn],nn)?(An.push([Jr=+Pn.call(this,_n,nn),Ar=+yn.call(this,_n,nn)]),jt.push([+cr.call(this,_n,nn),+Hr.call(this,_n,nn)])):An.length&&(ro(),An=[],jt=[]);return An.length&&ro(),gn.length?gn.join(""):null}return Zt.x=function(Ut){return arguments.length?(G=he=Ut,Zt):he},Zt.x0=function(Ut){return arguments.length?(G=Ut,Zt):G},Zt.x1=function(Ut){return arguments.length?(he=Ut,Zt):he},Zt.y=function(Ut){return arguments.length?(Te=Pe=Ut,Zt):Pe},Zt.y0=function(Ut){return arguments.length?(Te=Ut,Zt):Te},Zt.y1=function(Ut){return arguments.length?(Pe=Ut,Zt):Pe},Zt.defined=function(Ut){return arguments.length?($e=Ut,Zt):$e},Zt.interpolate=function(Ut){return arguments.length?(typeof Ut=="function"?We=Ke=Ut:We=(Ke=Xr.get(Ut)||Ul).key,rt=Ke.reverse||Ke,vt=Ke.closed?"M":"L",Zt):We},Zt.tension=function(Ut){return arguments.length?(bt=Ut,Zt):bt},Zt}vi.reverse=Id,Id.reverse=vi,y.svg.area=function(){return ni(ne)},y.svg.area.radial=function(){var D=ni(ll);return D.radius=D.x,delete D.x,D.innerRadius=D.x0,delete D.x0,D.outerRadius=D.x1,delete D.x1,D.angle=D.y,delete D.y,D.startAngle=D.y0,delete D.y0,D.endAngle=D.y1,delete D.y1,D};function ev(D){return D.source}function er(D){return D.target}y.svg.chord=function(){var D=ev,G=er,he=Hc,Te=Py,Pe=i0;function $e(bt,Zt){var Ut=Ke(this,D,bt,Zt),gn=Ke(this,G,bt,Zt);return"M"+Ut.p0+rt(Ut.r,Ut.p1,Ut.a1-Ut.a0)+(We(Ut,gn)?vt(Ut.r,Ut.p1,Ut.r,Ut.p0):vt(Ut.r,Ut.p1,gn.r,gn.p0)+rt(gn.r,gn.p1,gn.a1-gn.a0)+vt(gn.r,gn.p1,Ut.r,Ut.p0))+"Z"}function Ke(bt,Zt,Ut,gn){var An=Zt.call(bt,Ut,gn),jt=he.call(bt,An,gn),nn=Te.call(bt,An,gn)-mt,hn=Pe.call(bt,An,gn)-mt;return{r:jt,a0:nn,a1:hn,p0:[jt*Math.cos(nn),jt*Math.sin(nn)],p1:[jt*Math.cos(hn),jt*Math.sin(hn)]}}function We(bt,Zt){return bt.a0==Zt.a0&&bt.a1==Zt.a1}function rt(bt,Zt,Ut){return"A"+bt+","+bt+" 0 "+ +(Ut>He)+",1 "+Zt}function vt(bt,Zt,Ut,gn){return"Q 0,0 "+gn}return $e.radius=function(bt){return arguments.length?(he=Fn(bt),$e):he},$e.source=function(bt){return arguments.length?(D=Fn(bt),$e):D},$e.target=function(bt){return arguments.length?(G=Fn(bt),$e):G},$e.startAngle=function(bt){return arguments.length?(Te=Fn(bt),$e):Te},$e.endAngle=function(bt){return arguments.length?(Pe=Fn(bt),$e):Pe},$e};function Hc(D){return D.radius}y.svg.diagonal=function(){var D=ev,G=er,he=Ag;function Te(Pe,$e){var Ke=D.call(this,Pe,$e),We=G.call(this,Pe,$e),rt=(Ke.y+We.y)/2,vt=[Ke,{x:Ke.x,y:rt},{x:We.x,y:rt},We];return vt=vt.map(he),"M"+vt[0]+"C"+vt[1]+" "+vt[2]+" "+vt[3]}return Te.source=function(Pe){return arguments.length?(D=Fn(Pe),Te):D},Te.target=function(Pe){return arguments.length?(G=Fn(Pe),Te):G},Te.projection=function(Pe){return arguments.length?(he=Pe,Te):he},Te};function Ag(D){return[D.x,D.y]}y.svg.diagonal.radial=function(){var D=y.svg.diagonal(),G=Ag,he=D.projection;return D.projection=function(Te){return arguments.length?he(zs(G=Te)):G},D};function zs(D){return function(){var G=D.apply(this,arguments),he=G[0],Te=G[1]-mt;return[he*Math.cos(Te),he*Math.sin(Te)]}}y.svg.symbol=function(){var D=jS,G=$f;function he(Te,Pe){return(c0.get(D.call(this,Te,Pe))||Ku)(G.call(this,Te,Pe))}return he.type=function(Te){return arguments.length?(D=Fn(Te),he):D},he.size=function(Te){return arguments.length?(G=Fn(Te),he):G},he};function $f(){return 64}function jS(){return"circle"}function Ku(D){var G=Math.sqrt(D/He);return"M0,"+G+"A"+G+","+G+" 0 1,1 0,"+-G+"A"+G+","+G+" 0 1,1 0,"+G+"Z"}var c0=y.map({circle:Ku,cross:function(D){var G=Math.sqrt(D/5)/2;return"M"+-3*G+","+-G+"H"+-G+"V"+-3*G+"H"+G+"V"+-G+"H"+3*G+"V"+G+"H"+G+"V"+3*G+"H"+-G+"V"+G+"H"+-3*G+"Z"},diamond:function(D){var G=Math.sqrt(D/(2*u0)),he=G*u0;return"M0,"+-G+"L"+he+",0 0,"+G+" "+-he+",0Z"},square:function(D){var G=Math.sqrt(D)/2;return"M"+-G+","+-G+"L"+G+","+-G+" "+G+","+G+" "+-G+","+G+"Z"},"triangle-down":function(D){var G=Math.sqrt(D/au),he=G*au/2;return"M0,"+he+"L"+G+","+-he+" "+-G+","+-he+"Z"},"triangle-up":function(D){var G=Math.sqrt(D/au),he=G*au/2;return"M0,"+-he+"L"+G+","+he+" "+-G+","+he+"Z"}});y.svg.symbolTypes=c0.keys();var au=Math.sqrt(3),u0=Math.tan(30*Tt);oe.transition=function(D){for(var G=Nd||++cl,he=nd(D),Te=[],Pe,$e,Ke=td||{time:Date.now(),ease:Sc,delay:0,duration:250},We=-1,rt=this.length;++We<rt;){Te.push(Pe=[]);for(var vt=this[We],bt=-1,Zt=vt.length;++bt<Zt;)($e=vt[bt])&&Mn($e,bt,he,G,Ke),Pe.push($e)}return iu(Te,he,G)},oe.interrupt=function(D){return this.each(D==null?ac:Ws(nd(D)))};var ac=Ws(nd());function Ws(D){return function(){var G,he,Te;(G=this[D])&&(Te=G[he=G.active])&&(Te.timer.c=null,Te.timer.t=NaN,--G.count?delete G[he]:delete this[D],G.active+=.5,Te.event&&Te.event.interrupt.call(this,this.__data__,Te.index))}}function iu(D,G,he){return re(D,di),D.namespace=G,D.id=he,D}var di=[],cl=0,Nd,td;di.call=oe.call,di.empty=oe.empty,di.node=oe.node,di.size=oe.size,y.transition=function(D,G){return D&&D.transition?Nd?D.transition(G):D:y.selection().transition(D)},y.transition.prototype=di,di.select=function(D){var G=this.id,he=this.namespace,Te=[],Pe,$e,Ke;D=Se(D);for(var We=-1,rt=this.length;++We<rt;){Te.push(Pe=[]);for(var vt=this[We],bt=-1,Zt=vt.length;++bt<Zt;)(Ke=vt[bt])&&($e=D.call(Ke,Ke.__data__,bt,We))?("__data__"in Ke&&($e.__data__=Ke.__data__),Mn($e,bt,he,G,Ke[he][G]),Pe.push($e)):Pe.push(null)}return iu(Te,he,G)},di.selectAll=function(D){var G=this.id,he=this.namespace,Te=[],Pe,$e,Ke,We,rt;D=ce(D);for(var vt=-1,bt=this.length;++vt<bt;)for(var Zt=this[vt],Ut=-1,gn=Zt.length;++Ut<gn;)if(Ke=Zt[Ut]){rt=Ke[he][G],$e=D.call(Ke,Ke.__data__,Ut,vt),Te.push(Pe=[]);for(var An=-1,jt=$e.length;++An<jt;)(We=$e[An])&&Mn(We,An,he,G,rt),Pe.push(We)}return iu(Te,he,G)},di.filter=function(D){var G=[],he,Te,Pe;typeof D!="function"&&(D=Xt(D));for(var $e=0,Ke=this.length;$e<Ke;$e++){G.push(he=[]);for(var Te=this[$e],We=0,rt=Te.length;We<rt;We++)(Pe=Te[We])&&D.call(Pe,Pe.__data__,We,$e)&&he.push(Pe)}return iu(G,this.namespace,this.id)},di.tween=function(D,G){var he=this.id,Te=this.namespace;return arguments.length<2?this.node()[Te][he].tween.get(D):Nt(this,G==null?function(Pe){Pe[Te][he].tween.remove(D)}:function(Pe){Pe[Te][he].tween.set(D,G)})};function Bd(D,G,he,Te){var Pe=D.id,$e=D.namespace;return Nt(D,typeof he=="function"?function(Ke,We,rt){Ke[$e][Pe].tween.set(G,Te(he.call(Ke,Ke.__data__,We,rt)))}:(he=Te(he),function(Ke){Ke[$e][Pe].tween.set(G,he)}))}di.attr=function(D,G){if(arguments.length<2){for(G in D)this.attr(G,D[G]);return this}var he=D=="transform"?Jf:xc,Te=y.ns.qualify(D);function Pe(){this.removeAttribute(Te)}function $e(){this.removeAttributeNS(Te.space,Te.local)}function Ke(rt){return rt==null?Pe:(rt+="",function(){var vt=this.getAttribute(Te),bt;return vt!==rt&&(bt=he(vt,rt),function(Zt){this.setAttribute(Te,bt(Zt))})})}function We(rt){return rt==null?$e:(rt+="",function(){var vt=this.getAttributeNS(Te.space,Te.local),bt;return vt!==rt&&(bt=he(vt,rt),function(Zt){this.setAttributeNS(Te.space,Te.local,bt(Zt))})})}return Bd(this,"attr."+D,G,Te.local?We:Ke)},di.attrTween=function(D,G){var he=y.ns.qualify(D);function Te($e,Ke){var We=G.call(this,$e,Ke,this.getAttribute(he));return We&&function(rt){this.setAttribute(he,We(rt))}}function Pe($e,Ke){var We=G.call(this,$e,Ke,this.getAttributeNS(he.space,he.local));return We&&function(rt){this.setAttributeNS(he.space,he.local,We(rt))}}return this.tween("attr."+D,he.local?Pe:Te)},di.style=function(D,G,he){var Te=arguments.length;if(Te<3){if(typeof D!="string"){Te<2&&(G="");for(he in D)this.style(he,D[he],G);return this}he=""}function Pe(){this.style.removeProperty(D)}function $e(Ke){return Ke==null?Pe:(Ke+="",function(){var We=w(this).getComputedStyle(this,null).getPropertyValue(D),rt;return We!==Ke&&(rt=xc(We,Ke),function(vt){this.style.setProperty(D,rt(vt),he)})})}return Bd(this,"style."+D,G,$e)},di.styleTween=function(D,G,he){arguments.length<3&&(he="");function Te(Pe,$e){var Ke=G.call(this,Pe,$e,w(this).getComputedStyle(this,null).getPropertyValue(D));return Ke&&function(We){this.style.setProperty(D,Ke(We),he)}}return this.tween("style."+D,Te)},di.text=function(D){return Bd(this,"text",D,Cc)};function Cc(D){return D==null&&(D=""),function(){this.textContent=D}}di.remove=function(){var D=this.namespace;return this.each("end.transition",function(){var G;this[D].count<2&&(G=this.parentNode)&&G.removeChild(this)})},di.ease=function(D){var G=this.id,he=this.namespace;return arguments.length<1?this.node()[he][G].ease:(typeof D!="function"&&(D=y.ease.apply(y,arguments)),Nt(this,function(Te){Te[he][G].ease=D}))},di.delay=function(D){var G=this.id,he=this.namespace;return arguments.length<1?this.node()[he][G].delay:Nt(this,typeof D=="function"?function(Te,Pe,$e){Te[he][G].delay=+D.call(Te,Te.__data__,Pe,$e)}:(D=+D,function(Te){Te[he][G].delay=D}))},di.duration=function(D){var G=this.id,he=this.namespace;return arguments.length<1?this.node()[he][G].duration:Nt(this,typeof D=="function"?function(Te,Pe,$e){Te[he][G].duration=Math.max(1,D.call(Te,Te.__data__,Pe,$e))}:(D=Math.max(1,D),function(Te){Te[he][G].duration=D}))},di.each=function(D,G){var he=this.id,Te=this.namespace;if(arguments.length<2){var Pe=td,$e=Nd;try{Nd=he,Nt(this,function(Ke,We,rt){td=Ke[Te][he],D.call(Ke,Ke.__data__,We,rt)})}finally{td=Pe,Nd=$e}}else Nt(this,function(Ke){var We=Ke[Te][he];(We.event||(We.event=y.dispatch("start","end","interrupt"))).on(D,G)});return this},di.transition=function(){for(var D=this.id,G=++cl,he=this.namespace,Te=[],Pe,$e,Ke,We,rt=0,vt=this.length;rt<vt;rt++){Te.push(Pe=[]);for(var $e=this[rt],bt=0,Zt=$e.length;bt<Zt;bt++)(Ke=$e[bt])&&(We=Ke[he][D],Mn(Ke,bt,he,G,{time:We.time,ease:We.ease,delay:We.delay+We.duration,duration:We.duration})),Pe.push(Ke)}return iu(Te,he,G)};function nd(D){return D==null?"__transition__":"__transition_"+D+"__"}function Mn(D,G,he,Te,Pe){var $e=D[he]||(D[he]={active:0,count:0}),Ke=$e[Te],We,rt,vt,bt,Zt;function Ut(jt){var nn=Ke.delay;if(rt.t=nn+We,nn<=jt)return gn(jt-nn);rt.c=gn}function gn(jt){var nn=$e.active,hn=$e[nn];hn&&(hn.timer.c=null,hn.timer.t=NaN,--$e.count,delete $e[nn],hn.event&&hn.event.interrupt.call(D,D.__data__,hn.index));for(var _n in $e)if(+_n<Te){var Pn=$e[_n];Pn.timer.c=null,Pn.timer.t=NaN,--$e.count,delete $e[_n]}rt.c=An,So(function(){return rt.c&&An(jt||1)&&(rt.c=null,rt.t=NaN),1},0,We),$e.active=Te,Ke.event&&Ke.event.start.call(D,D.__data__,G),Zt=[],Ke.tween.forEach(function(yn,cr){(cr=cr.call(D,D.__data__,G))&&Zt.push(cr)}),bt=Ke.ease,vt=Ke.duration}function An(jt){for(var nn=jt/vt,hn=bt(nn),_n=Zt.length;_n>0;)Zt[--_n].call(D,hn);if(nn>=1)return Ke.event&&Ke.event.end.call(D,D.__data__,G),--$e.count?delete $e[Te]:delete D[he],1}Ke||(We=Pe.time,rt=So(Ut,0,We),Ke=$e[Te]={tween:new ie,time:We,timer:rt,delay:Pe.delay,duration:Pe.duration,ease:Pe.ease,index:G},Pe=null,++$e.count)}y.svg.axis=function(){var D=y.scale.linear(),G=kc,he=6,Te=6,Pe=3,$e=[10],Ke=null,We;function rt(vt){vt.each(function(){var bt=y.select(this),Zt=this.__chart__||D,Ut=this.__chart__=D.copy(),gn=Ke??(Ut.ticks?Ut.ticks.apply(Ut,$e):Ut.domain()),An=We??(Ut.tickFormat?Ut.tickFormat.apply(Ut,$e):ne),jt=bt.selectAll(".tick").data(gn,Ut),nn=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",gt),hn=y.transition(jt.exit()).style("opacity",gt).remove(),_n=y.transition(jt.order()).style("opacity",1),Pn=Math.max(he,0)+Pe,yn,cr=Xp(Ut),Hr=bt.selectAll(".domain").data([0]),Jr=(Hr.enter().append("path").attr("class","domain"),y.transition(Hr));nn.append("line"),nn.append("text");var Ar=nn.select("line"),ro=_n.select("line"),fo=jt.select("text").text(An),ts=nn.select("text"),xo=_n.select("text"),go=G==="top"||G==="left"?-1:1,js,ri,ba,Lr;if(G==="bottom"||G==="top"?(yn=od,js="x",ba="y",ri="x2",Lr="y2",fo.attr("dy",go<0?"0em":".71em").style("text-anchor","middle"),Jr.attr("d","M"+cr[0]+","+go*Te+"V0H"+cr[1]+"V"+go*Te)):(yn=Uc,js="y",ba="x",ri="y2",Lr="x2",fo.attr("dy",".32em").style("text-anchor",go<0?"end":"start"),Jr.attr("d","M"+go*Te+","+cr[0]+"H0V"+cr[1]+"H"+go*Te)),Ar.attr(Lr,go*he),ts.attr(ba,go*Pn),ro.attr(ri,0).attr(Lr,go*he),xo.attr(js,0).attr(ba,go*Pn),Ut.rangeBand){var Do=Ut,ms=Do.rangeBand()/2;Zt=Ut=function(_s){return Do(_s)+ms}}else Zt.rangeBand?Zt=Ut:hn.call(yn,Ut,Zt);nn.call(yn,Zt,Ut),_n.call(yn,Ut,Ut)})}return rt.scale=function(vt){return arguments.length?(D=vt,rt):D},rt.orient=function(vt){return arguments.length?(G=vt in rd?vt+"":kc,rt):G},rt.ticks=function(){return arguments.length?($e=O(arguments),rt):$e},rt.tickValues=function(vt){return arguments.length?(Ke=vt,rt):Ke},rt.tickFormat=function(vt){return arguments.length?(We=vt,rt):We},rt.tickSize=function(vt){var bt=arguments.length;return bt?(he=+vt,Te=+arguments[bt-1],rt):he},rt.innerTickSize=function(vt){return arguments.length?(he=+vt,rt):he},rt.outerTickSize=function(vt){return arguments.length?(Te=+vt,rt):Te},rt.tickPadding=function(vt){return arguments.length?(Pe=+vt,rt):Pe},rt.tickSubdivide=function(){return arguments.length&&rt},rt};var kc="bottom",rd={top:1,right:1,bottom:1,left:1};function od(D,G,he){D.attr("transform",function(Te){var Pe=G(Te);return"translate("+(isFinite(Pe)?Pe:he(Te))+",0)"})}function Uc(D,G,he){D.attr("transform",function(Te){var Pe=G(Te);return"translate(0,"+(isFinite(Pe)?Pe:he(Te))+")"})}y.svg.brush=function(){var D=_e(bt,"brushstart","brush","brushend"),G=null,he=null,Te=[0,0],Pe=[0,0],$e,Ke,We=!0,rt=!0,vt=Di[0];function bt(jt){jt.each(function(){var nn=y.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",An).on("touchstart.brush",An),hn=nn.selectAll(".background").data([0]);hn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),nn.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var _n=nn.selectAll(".resize").data(vt,ne);_n.exit().remove(),_n.enter().append("g").attr("class",function(Hr){return"resize "+Hr}).style("cursor",function(Hr){return Wi[Hr]}).append("rect").attr("x",function(Hr){return/[ew]$/.test(Hr)?-3:null}).attr("y",function(Hr){return/^[ns]/.test(Hr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),_n.style("display",bt.empty()?"none":null);var Pn=y.transition(nn),yn=y.transition(hn),cr;G&&(cr=Xp(G),yn.attr("x",cr[0]).attr("width",cr[1]-cr[0]),Ut(Pn)),he&&(cr=Xp(he),yn.attr("y",cr[0]).attr("height",cr[1]-cr[0]),gn(Pn)),Zt(Pn)})}bt.event=function(jt){jt.each(function(){var nn=D.of(this,arguments),hn={x:Te,y:Pe,i:$e,j:Ke},_n=this.__chart__||hn;this.__chart__=hn,Nd?y.select(this).transition().each("start.brush",function(){$e=_n.i,Ke=_n.j,Te=_n.x,Pe=_n.y,nn({type:"brushstart"})}).tween("brush:brush",function(){var Pn=Af(Te,hn.x),yn=Af(Pe,hn.y);return $e=Ke=null,function(cr){Te=hn.x=Pn(cr),Pe=hn.y=yn(cr),nn({type:"brush",mode:"resize"})}}).each("end.brush",function(){$e=hn.i,Ke=hn.j,nn({type:"brush",mode:"resize"}),nn({type:"brushend"})}):(nn({type:"brushstart"}),nn({type:"brush",mode:"resize"}),nn({type:"brushend"}))})};function Zt(jt){jt.selectAll(".resize").attr("transform",function(nn){return"translate("+Te[+/e$/.test(nn)]+","+Pe[+/^s/.test(nn)]+")"})}function Ut(jt){jt.select(".extent").attr("x",Te[0]),jt.selectAll(".extent,.n>rect,.s>rect").attr("width",Te[1]-Te[0])}function gn(jt){jt.select(".extent").attr("y",Pe[0]),jt.selectAll(".extent,.e>rect,.w>rect").attr("height",Pe[1]-Pe[0])}function An(){var jt=this,nn=y.select(y.event.target),hn=D.of(jt,arguments),_n=y.select(jt),Pn=nn.datum(),yn=!/^(n|s)$/.test(Pn)&&G,cr=!/^(e|w)$/.test(Pn)&&he,Hr=nn.classed("extent"),Jr=Sn(jt),Ar,ro=y.mouse(jt),fo,ts=y.select(w(jt)).on("keydown.brush",js).on("keyup.brush",ri);if(y.event.changedTouches?ts.on("touchmove.brush",ba).on("touchend.brush",Do):ts.on("mousemove.brush",ba).on("mouseup.brush",Do),_n.interrupt().selectAll("*").interrupt(),Hr)ro[0]=Te[0]-ro[0],ro[1]=Pe[0]-ro[1];else if(Pn){var xo=+/w$/.test(Pn),go=+/^n/.test(Pn);fo=[Te[1-xo]-ro[0],Pe[1-go]-ro[1]],ro[0]=Te[xo],ro[1]=Pe[go]}else y.event.altKey&&(Ar=ro.slice());_n.style("pointer-events","none").selectAll(".resize").style("display",null),y.select("body").style("cursor",nn.style("cursor")),hn({type:"brushstart"}),ba();function js(){y.event.keyCode==32&&(Hr||(Ar=null,ro[0]-=Te[1],ro[1]-=Pe[1],Hr=2),De())}function ri(){y.event.keyCode==32&&Hr==2&&(ro[0]+=Te[1],ro[1]+=Pe[1],Hr=0,De())}function ba(){var ms=y.mouse(jt),_s=!1;fo&&(ms[0]+=fo[0],ms[1]+=fo[1]),Hr||(y.event.altKey?(Ar||(Ar=[(Te[0]+Te[1])/2,(Pe[0]+Pe[1])/2]),ro[0]=Te[+(ms[0]<Ar[0])],ro[1]=Pe[+(ms[1]<Ar[1])]):Ar=null),yn&&Lr(ms,G,0)&&(Ut(_n),_s=!0),cr&&Lr(ms,he,1)&&(gn(_n),_s=!0),_s&&(Zt(_n),hn({type:"brush",mode:Hr?"move":"resize"}))}function Lr(ms,_s,Qa){var hi=Xp(_s),Yi=hi[0],$i=hi[1],Wc=ro[Qa],Ji=Qa?Pe:Te,Pc=Ji[1]-Ji[0],Yl,ea;if(Hr&&(Yi-=Wc,$i-=Pc+Wc),Yl=(Qa?rt:We)?Math.max(Yi,Math.min($i,ms[Qa])):ms[Qa],Hr?ea=(Yl+=Wc)+Pc:(Ar&&(Wc=Math.max(Yi,Math.min($i,2*Ar[Qa]-Yl))),Wc<Yl?(ea=Yl,Yl=Wc):ea=Wc),Ji[0]!=Yl||Ji[1]!=ea)return Qa?Ke=null:$e=null,Ji[0]=Yl,Ji[1]=ea,!0}function Do(){ba(),_n.style("pointer-events","all").selectAll(".resize").style("display",bt.empty()?"none":null),y.select("body").style("cursor",null),ts.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Jr(),hn({type:"brushend"})}}return bt.x=function(jt){return arguments.length?(G=jt,vt=Di[!G<<1|!he],bt):G},bt.y=function(jt){return arguments.length?(he=jt,vt=Di[!G<<1|!he],bt):he},bt.clamp=function(jt){return arguments.length?(G&&he?(We=!!jt[0],rt=!!jt[1]):G?We=!!jt:he&&(rt=!!jt),bt):G&&he?[We,rt]:G?We:he?rt:null},bt.extent=function(jt){var nn,hn,_n,Pn,yn;return arguments.length?(G&&(nn=jt[0],hn=jt[1],he&&(nn=nn[0],hn=hn[0]),$e=[nn,hn],G.invert&&(nn=G(nn),hn=G(hn)),hn<nn&&(yn=nn,nn=hn,hn=yn),(nn!=Te[0]||hn!=Te[1])&&(Te=[nn,hn])),he&&(_n=jt[0],Pn=jt[1],G&&(_n=_n[1],Pn=Pn[1]),Ke=[_n,Pn],he.invert&&(_n=he(_n),Pn=he(Pn)),Pn<_n&&(yn=_n,_n=Pn,Pn=yn),(_n!=Pe[0]||Pn!=Pe[1])&&(Pe=[_n,Pn])),bt):(G&&($e?(nn=$e[0],hn=$e[1]):(nn=Te[0],hn=Te[1],G.invert&&(nn=G.invert(nn),hn=G.invert(hn)),hn<nn&&(yn=nn,nn=hn,hn=yn))),he&&(Ke?(_n=Ke[0],Pn=Ke[1]):(_n=Pe[0],Pn=Pe[1],he.invert&&(_n=he.invert(_n),Pn=he.invert(Pn)),Pn<_n&&(yn=_n,_n=Pn,Pn=yn))),G&&he?[[nn,_n],[hn,Pn]]:G?[nn,hn]:he&&[_n,Pn])},bt.clear=function(){return bt.empty()||(Te=[0,0],Pe=[0,0],$e=Ke=null),bt},bt.empty=function(){return!!G&&Te[0]==Te[1]||!!he&&Pe[0]==Pe[1]},y.rebind(bt,D,"on")};var Wi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Di=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];y.text=Zr(function(D){return D.responseText}),y.json=function(D,G){return dr(D,"application/json",rk,G)};function rk(D){return JSON.parse(D.responseText)}y.html=function(D,G){return dr(D,"text/html",Ac,G)};function Ac(D){var G=C.createRange();return G.selectNode(C.body),G.createContextualFragment(D.responseText)}y.xml=Zr(function(D){return D.responseXML}),g=y,v=typeof g=="function"?g.call(h,c,h,f):g,v!==void 0&&(f.exports=v)}).apply(self)},721:function(f,h,c){c.d(h,{WU:function(){return B},FF:function(){return U}});function g(W){return Math.abs(W=Math.round(W))>=1e21?W.toLocaleString("en").replace(/,/g,""):W.toString(10)}function v(W,X){if((ie=(W=X?W.toExponential(X-1):W.toExponential()).indexOf("e"))<0)return null;var ie,L=W.slice(0,ie);return[L.length>1?L[0]+L.slice(2):L,+W.slice(ie+1)]}function y(W){return W=v(Math.abs(W)),W?W[1]:NaN}function b(W,X){return function(ie,L){for(var me=ie.length,ae=[],q=0,de=W[0],ee=0;me>0&&de>0&&(ee+de+1>L&&(de=Math.max(1,L-ee)),ae.push(ie.substring(me-=de,me+de)),!((ee+=de+1)>L));)de=W[q=(q+1)%W.length];return ae.reverse().join(X)}}function O(W){return function(X){return X.replace(/[0-9]/g,function(ie){return W[+ie]})}}var C=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k(W){if(!(X=C.exec(W)))throw new Error("invalid format: "+W);var X;return new w({fill:X[1],align:X[2],sign:X[3],symbol:X[4],zero:X[5],width:X[6],comma:X[7],precision:X[8]&&X[8].slice(1),trim:X[9],type:X[10]})}k.prototype=w.prototype;function w(W){this.fill=W.fill===void 0?" ":W.fill+"",this.align=W.align===void 0?">":W.align+"",this.sign=W.sign===void 0?"-":W.sign+"",this.symbol=W.symbol===void 0?"":W.symbol+"",this.zero=!!W.zero,this.width=W.width===void 0?void 0:+W.width,this.comma=!!W.comma,this.precision=W.precision===void 0?void 0:+W.precision,this.trim=!!W.trim,this.type=W.type===void 0?"":W.type+""}w.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T(W){e:for(var X=W.length,ie=1,L=-1,me;ie<X;++ie)switch(W[ie]){case".":L=me=ie;break;case"0":L===0&&(L=ie),me=ie;break;default:if(!+W[ie])break e;L>0&&(L=0);break}return L>0?W.slice(0,L)+W.slice(me+1):W}var R;function M(W,X){var ie=v(W,X);if(!ie)return W+"";var L=ie[0],me=ie[1],ae=me-(R=Math.max(-8,Math.min(8,Math.floor(me/3)))*3)+1,q=L.length;return ae===q?L:ae>q?L+new Array(ae-q+1).join("0"):ae>0?L.slice(0,ae)+"."+L.slice(ae):"0."+new Array(1-ae).join("0")+v(W,Math.max(0,X+ae-1))[0]}function I(W,X){var ie=v(W,X);if(!ie)return W+"";var L=ie[0],me=ie[1];return me<0?"0."+new Array(-me).join("0")+L:L.length>me+1?L.slice(0,me+1)+"."+L.slice(me+1):L+new Array(me-L.length+2).join("0")}var V={"%":function(W,X){return(W*100).toFixed(X)},b:function(W){return Math.round(W).toString(2)},c:function(W){return W+""},d:g,e:function(W,X){return W.toExponential(X)},f:function(W,X){return W.toFixed(X)},g:function(W,X){return W.toPrecision(X)},o:function(W){return Math.round(W).toString(8)},p:function(W,X){return I(W*100,X)},r:I,s:M,X:function(W){return Math.round(W).toString(16).toUpperCase()},x:function(W){return Math.round(W).toString(16)}};function N(W){return W}var Q=Array.prototype.map,z=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function U(W){var X=W.grouping===void 0||W.thousands===void 0?N:b(Q.call(W.grouping,Number),W.thousands+""),ie=W.currency===void 0?"":W.currency[0]+"",L=W.currency===void 0?"":W.currency[1]+"",me=W.decimal===void 0?".":W.decimal+"",ae=W.numerals===void 0?N:O(Q.call(W.numerals,String)),q=W.percent===void 0?"%":W.percent+"",de=W.minus===void 0?"-":W.minus+"",ee=W.nan===void 0?"NaN":W.nan+"";function xe(Be){Be=k(Be);var pe=Be.fill,ne=Be.align,le=Be.sign,Y=Be.symbol,ve=Be.zero,Oe=Be.width,Le=Be.comma,Ce=Be.precision,De=Be.trim,Ve=Be.type;Ve==="n"?(Le=!0,Ve="g"):V[Ve]||(Ce===void 0&&(Ce=12),De=!0,Ve="g"),(ve||pe==="0"&&ne==="=")&&(ve=!0,pe="0",ne="=");var _e=Y==="$"?ie:Y==="#"&&/[boxX]/.test(Ve)?"0"+Ve.toLowerCase():"",Ie=Y==="$"?L:/[%p]/.test(Ve)?q:"",re=V[Ve],be=/[defgprs%]/.test(Ve);Ce=Ce===void 0?6:/[gprs]/.test(Ve)?Math.max(1,Math.min(21,Ce)):Math.max(0,Math.min(20,Ce));function te(se){var fe=_e,oe=Ie,Se,ce,ke;if(Ve==="c")oe=re(se)+oe,se="";else{se=+se;var Qe=se<0||1/se<0;if(se=isNaN(se)?ee:re(Math.abs(se),Ce),De&&(se=T(se)),Qe&&+se==0&&le!=="+"&&(Qe=!1),fe=(Qe?le==="("?le:de:le==="-"||le==="("?"":le)+fe,oe=(Ve==="s"?z[8+R/3]:"")+oe+(Qe&&le==="("?")":""),be){for(Se=-1,ce=se.length;++Se<ce;)if(ke=se.charCodeAt(Se),48>ke||ke>57){oe=(ke===46?me+se.slice(Se+1):se.slice(Se))+oe,se=se.slice(0,Se);break}}}Le&&!ve&&(se=X(se,1/0));var Ze=fe.length+se.length+oe.length,Xe=Ze<Oe?new Array(Oe-Ze+1).join(pe):"";switch(Le&&ve&&(se=X(Xe+se,Xe.length?Oe-oe.length:1/0),Xe=""),ne){case"<":se=fe+se+oe+Xe;break;case"=":se=fe+Xe+se+oe;break;case"^":se=Xe.slice(0,Ze=Xe.length>>1)+fe+se+oe+Xe.slice(Ze);break;default:se=Xe+fe+se+oe;break}return ae(se)}return te.toString=function(){return Be+""},te}function we(Be,pe){var ne=xe((Be=k(Be),Be.type="f",Be)),le=Math.max(-8,Math.min(8,Math.floor(y(pe)/3)))*3,Y=Math.pow(10,-le),ve=z[8+le/3];return function(Oe){return ne(Y*Oe)+ve}}return{format:xe,formatPrefix:we}}var F,B;E({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function E(W){return F=U(W),B=F.format,F.formatPrefix,F}},4096:function(f,h,c){c.d(h,{i$:function(){return Un},Dq:function(){return R},g0:function(){return Sn}});var g=c(8176),v=c(8480),y=c(9879),b=c(2301),O=c(4823),C=c(9791);function k(ut){if(0<=ut.y&&ut.y<100){var xt=new Date(-1,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L);return xt.setFullYear(ut.y),xt}return new Date(ut.y,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L)}function w(ut){if(0<=ut.y&&ut.y<100){var xt=new Date(Date.UTC(-1,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L));return xt.setUTCFullYear(ut.y),xt}return new Date(Date.UTC(ut.y,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L))}function T(ut,xt,gt){return{y:ut,m:xt,d:gt,H:0,M:0,S:0,L:0}}function R(ut){var xt=ut.dateTime,gt=ut.date,Dt=ut.time,He=ut.periods,at=ut.days,dt=ut.shortDays,mt=ut.months,Tt=ut.shortMonths,Pt=U(He),dn=F(He),rn=U(at),Wt=F(at),Rt=U(dt),fn=F(dt),Hn=U(mt),nr=F(mt),Er=U(Tt),zt=F(Tt),vr={a:Fe,A:Ee,b:St,B:Ct,c:null,d:Le,e:Le,f:Ie,H:Ce,I:De,j:Ve,L:_e,m:re,M:be,p:Lt,q:Ft,Q:an,s:wn,S:te,u:se,U:fe,V:oe,w:Se,W:ce,x:null,X:null,y:ke,Y:Qe,Z:Ze,"%":Yn},Wn={a:Ht,A:$t,b:Mt,B:tn,c:null,d:Xe,e:Xe,f:et,H:ct,I:pt,j:Ye,L:je,m:yt,M:ft,p:un,q:Jt,Q:an,s:wn,S:tt,u:wt,U:Xt,V:Gt,w:Nt,W:Bt,x:null,X:null,y:vn,Y:En,Z:ln,"%":Yn},Br={a:Rn,A:xr,b:sr,B:Sr,c:ao,d:ee,e:ee,f:le,H:we,I:we,j:xe,L:ne,m:de,M:Be,p:_r,q,Q:ve,s:Oe,S:pe,u:E,U:W,V:X,w:B,W:ie,x:Oo,X:wr,y:me,Y:L,Z:ae,"%":Y};vr.x=kr(gt,vr),vr.X=kr(Dt,vr),vr.c=kr(xt,vr),Wn.x=kr(gt,Wn),Wn.X=kr(Dt,Wn),Wn.c=kr(xt,Wn);function kr(on,Tn){return function(On){var pn=[],Jn=-1,Fn=0,Zr=on.length,dr,Ur,ar;for(On instanceof Date||(On=new Date(+On));++Jn<Zr;)on.charCodeAt(Jn)===37&&(pn.push(on.slice(Fn,Jn)),(Ur=M[dr=on.charAt(++Jn)])!=null?dr=on.charAt(++Jn):Ur=dr==="e"?" ":"0",(ar=Tn[dr])&&(dr=ar(On,Ur)),pn.push(dr),Fn=Jn+1);return pn.push(on.slice(Fn,Jn)),pn.join("")}}function or(on,Tn){return function(On){var pn=T(1900,void 0,1),Jn=jr(pn,on,On+="",0),Fn,Zr;if(Jn!=On.length)return null;if("Q"in pn)return new Date(pn.Q);if("s"in pn)return new Date(pn.s*1e3+("L"in pn?pn.L:0));if(Tn&&!("Z"in pn)&&(pn.Z=0),"p"in pn&&(pn.H=pn.H%12+pn.p*12),pn.m===void 0&&(pn.m="q"in pn?pn.q:0),"V"in pn){if(pn.V<1||pn.V>53)return null;"w"in pn||(pn.w=1),"Z"in pn?(Fn=w(T(pn.y,0,1)),Zr=Fn.getUTCDay(),Fn=Zr>4||Zr===0?g.l6.ceil(Fn):(0,g.l6)(Fn),Fn=v.Z.offset(Fn,(pn.V-1)*7),pn.y=Fn.getUTCFullYear(),pn.m=Fn.getUTCMonth(),pn.d=Fn.getUTCDate()+(pn.w+6)%7):(Fn=k(T(pn.y,0,1)),Zr=Fn.getDay(),Fn=Zr>4||Zr===0?y.wA.ceil(Fn):(0,y.wA)(Fn),Fn=b.Z.offset(Fn,(pn.V-1)*7),pn.y=Fn.getFullYear(),pn.m=Fn.getMonth(),pn.d=Fn.getDate()+(pn.w+6)%7)}else("W"in pn||"U"in pn)&&("w"in pn||(pn.w="u"in pn?pn.u%7:"W"in pn?1:0),Zr="Z"in pn?w(T(pn.y,0,1)).getUTCDay():k(T(pn.y,0,1)).getDay(),pn.m=0,pn.d="W"in pn?(pn.w+6)%7+pn.W*7-(Zr+5)%7:pn.w+pn.U*7-(Zr+6)%7);return"Z"in pn?(pn.H+=pn.Z/100|0,pn.M+=pn.Z%100,w(pn)):k(pn)}}function jr(on,Tn,On,pn){for(var Jn=0,Fn=Tn.length,Zr=On.length,dr,Ur;Jn<Fn;){if(pn>=Zr)return-1;if(dr=Tn.charCodeAt(Jn++),dr===37){if(dr=Tn.charAt(Jn++),Ur=Br[dr in M?Tn.charAt(Jn++):dr],!Ur||(pn=Ur(on,On,pn))<0)return-1}else if(dr!=On.charCodeAt(pn++))return-1}return pn}function _r(on,Tn,On){var pn=Pt.exec(Tn.slice(On));return pn?(on.p=dn[pn[0].toLowerCase()],On+pn[0].length):-1}function Rn(on,Tn,On){var pn=Rt.exec(Tn.slice(On));return pn?(on.w=fn[pn[0].toLowerCase()],On+pn[0].length):-1}function xr(on,Tn,On){var pn=rn.exec(Tn.slice(On));return pn?(on.w=Wt[pn[0].toLowerCase()],On+pn[0].length):-1}function sr(on,Tn,On){var pn=Er.exec(Tn.slice(On));return pn?(on.m=zt[pn[0].toLowerCase()],On+pn[0].length):-1}function Sr(on,Tn,On){var pn=Hn.exec(Tn.slice(On));return pn?(on.m=nr[pn[0].toLowerCase()],On+pn[0].length):-1}function ao(on,Tn,On){return jr(on,xt,Tn,On)}function Oo(on,Tn,On){return jr(on,gt,Tn,On)}function wr(on,Tn,On){return jr(on,Dt,Tn,On)}function Fe(on){return dt[on.getDay()]}function Ee(on){return at[on.getDay()]}function St(on){return Tt[on.getMonth()]}function Ct(on){return mt[on.getMonth()]}function Lt(on){return He[+(on.getHours()>=12)]}function Ft(on){return 1+~~(on.getMonth()/3)}function Ht(on){return dt[on.getUTCDay()]}function $t(on){return at[on.getUTCDay()]}function Mt(on){return Tt[on.getUTCMonth()]}function tn(on){return mt[on.getUTCMonth()]}function un(on){return He[+(on.getUTCHours()>=12)]}function Jt(on){return 1+~~(on.getUTCMonth()/3)}return{format:function(on){var Tn=kr(on+="",vr);return Tn.toString=function(){return on},Tn},parse:function(on){var Tn=or(on+="",!1);return Tn.toString=function(){return on},Tn},utcFormat:function(on){var Tn=kr(on+="",Wn);return Tn.toString=function(){return on},Tn},utcParse:function(on){var Tn=or(on+="",!0);return Tn.toString=function(){return on},Tn}}}var M={"-":"",_:" ",0:"0"},I=/^\s*\d+/,V=/^%/,N=/[\\^$*+?|[\]().{}]/g;function Q(ut,xt,gt){var Dt=ut<0?"-":"",He=(Dt?-ut:ut)+"",at=He.length;return Dt+(at<gt?new Array(gt-at+1).join(xt)+He:He)}function z(ut){return ut.replace(N,"\\$&")}function U(ut){return new RegExp("^(?:"+ut.map(z).join("|")+")","i")}function F(ut){for(var xt={},gt=-1,Dt=ut.length;++gt<Dt;)xt[ut[gt].toLowerCase()]=gt;return xt}function B(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.w=+Dt[0],gt+Dt[0].length):-1}function E(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.u=+Dt[0],gt+Dt[0].length):-1}function W(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.U=+Dt[0],gt+Dt[0].length):-1}function X(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.V=+Dt[0],gt+Dt[0].length):-1}function ie(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.W=+Dt[0],gt+Dt[0].length):-1}function L(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+4));return Dt?(ut.y=+Dt[0],gt+Dt[0].length):-1}function me(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.y=+Dt[0]+(+Dt[0]>68?1900:2e3),gt+Dt[0].length):-1}function ae(ut,xt,gt){var Dt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(xt.slice(gt,gt+6));return Dt?(ut.Z=Dt[1]?0:-(Dt[2]+(Dt[3]||"00")),gt+Dt[0].length):-1}function q(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.q=Dt[0]*3-3,gt+Dt[0].length):-1}function de(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.m=Dt[0]-1,gt+Dt[0].length):-1}function ee(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.d=+Dt[0],gt+Dt[0].length):-1}function xe(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+3));return Dt?(ut.m=0,ut.d=+Dt[0],gt+Dt[0].length):-1}function we(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.H=+Dt[0],gt+Dt[0].length):-1}function Be(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.M=+Dt[0],gt+Dt[0].length):-1}function pe(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.S=+Dt[0],gt+Dt[0].length):-1}function ne(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+3));return Dt?(ut.L=+Dt[0],gt+Dt[0].length):-1}function le(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+6));return Dt?(ut.L=Math.floor(Dt[0]/1e3),gt+Dt[0].length):-1}function Y(ut,xt,gt){var Dt=V.exec(xt.slice(gt,gt+1));return Dt?gt+Dt[0].length:-1}function ve(ut,xt,gt){var Dt=I.exec(xt.slice(gt));return Dt?(ut.Q=+Dt[0],gt+Dt[0].length):-1}function Oe(ut,xt,gt){var Dt=I.exec(xt.slice(gt));return Dt?(ut.s=+Dt[0],gt+Dt[0].length):-1}function Le(ut,xt){return Q(ut.getDate(),xt,2)}function Ce(ut,xt){return Q(ut.getHours(),xt,2)}function De(ut,xt){return Q(ut.getHours()%12||12,xt,2)}function Ve(ut,xt){return Q(1+b.Z.count((0,O.Z)(ut),ut),xt,3)}function _e(ut,xt){return Q(ut.getMilliseconds(),xt,3)}function Ie(ut,xt){return _e(ut,xt)+"000"}function re(ut,xt){return Q(ut.getMonth()+1,xt,2)}function be(ut,xt){return Q(ut.getMinutes(),xt,2)}function te(ut,xt){return Q(ut.getSeconds(),xt,2)}function se(ut){var xt=ut.getDay();return xt===0?7:xt}function fe(ut,xt){return Q(y.OM.count((0,O.Z)(ut)-1,ut),xt,2)}function oe(ut,xt){var gt=ut.getDay();return ut=gt>=4||gt===0?(0,y.bL)(ut):y.bL.ceil(ut),Q(y.bL.count((0,O.Z)(ut),ut)+((0,O.Z)(ut).getDay()===4),xt,2)}function Se(ut){return ut.getDay()}function ce(ut,xt){return Q(y.wA.count((0,O.Z)(ut)-1,ut),xt,2)}function ke(ut,xt){return Q(ut.getFullYear()%100,xt,2)}function Qe(ut,xt){return Q(ut.getFullYear()%1e4,xt,4)}function Ze(ut){var xt=ut.getTimezoneOffset();return(xt>0?"-":(xt*=-1,"+"))+Q(xt/60|0,"0",2)+Q(xt%60,"0",2)}function Xe(ut,xt){return Q(ut.getUTCDate(),xt,2)}function ct(ut,xt){return Q(ut.getUTCHours(),xt,2)}function pt(ut,xt){return Q(ut.getUTCHours()%12||12,xt,2)}function Ye(ut,xt){return Q(1+v.Z.count((0,C.Z)(ut),ut),xt,3)}function je(ut,xt){return Q(ut.getUTCMilliseconds(),xt,3)}function et(ut,xt){return je(ut,xt)+"000"}function yt(ut,xt){return Q(ut.getUTCMonth()+1,xt,2)}function ft(ut,xt){return Q(ut.getUTCMinutes(),xt,2)}function tt(ut,xt){return Q(ut.getUTCSeconds(),xt,2)}function wt(ut){var xt=ut.getUTCDay();return xt===0?7:xt}function Xt(ut,xt){return Q(g.Ox.count((0,C.Z)(ut)-1,ut),xt,2)}function Gt(ut,xt){var gt=ut.getUTCDay();return ut=gt>=4||gt===0?(0,g.hB)(ut):g.hB.ceil(ut),Q(g.hB.count((0,C.Z)(ut),ut)+((0,C.Z)(ut).getUTCDay()===4),xt,2)}function Nt(ut){return ut.getUTCDay()}function Bt(ut,xt){return Q(g.l6.count((0,C.Z)(ut)-1,ut),xt,2)}function vn(ut,xt){return Q(ut.getUTCFullYear()%100,xt,2)}function En(ut,xt){return Q(ut.getUTCFullYear()%1e4,xt,4)}function ln(){return"+0000"}function Yn(){return"%"}function an(ut){return+ut}function wn(ut){return Math.floor(+ut/1e3)}var Xn,Un,Sn;lt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lt(ut){return Xn=R(ut),Un=Xn.format,Xn.parse,Sn=Xn.utcFormat,Xn.utcParse,Xn}},2301:function(f,h,c){c.d(h,{a:function(){return b}});var g=c(52),v=c(4263),y=(0,g.Z)(function(O){O.setHours(0,0,0,0)},function(O,C){O.setDate(O.getDate()+C)},function(O,C){return(C-O-(C.getTimezoneOffset()-O.getTimezoneOffset())*v.yB)/v.UD},function(O){return O.getDate()-1});h.Z=y;var b=y.range},4263:function(f,h,c){c.d(h,{UD:function(){return b},Y2:function(){return y},Ym:function(){return g},iM:function(){return O},yB:function(){return v}});var g=1e3,v=6e4,y=36e5,b=864e5,O=6048e5},1041:function(f,h,c){c.r(h),c.d(h,{timeDay:function(){return Q.Z},timeDays:function(){return Q.a},timeFriday:function(){return z.mC},timeFridays:function(){return z.b$},timeHour:function(){return V},timeHours:function(){return N},timeInterval:function(){return g.Z},timeMillisecond:function(){return y},timeMilliseconds:function(){return b},timeMinute:function(){return R},timeMinutes:function(){return M},timeMonday:function(){return z.wA},timeMondays:function(){return z.bJ},timeMonth:function(){return F},timeMonths:function(){return B},timeSaturday:function(){return z.EY},timeSaturdays:function(){return z.Ff},timeSecond:function(){return k},timeSeconds:function(){return w},timeSunday:function(){return z.OM},timeSundays:function(){return z.vm},timeThursday:function(){return z.bL},timeThursdays:function(){return z.$t},timeTuesday:function(){return z.sy},timeTuesdays:function(){return z.aU},timeWednesday:function(){return z.zg},timeWednesdays:function(){return z.Ld},timeWeek:function(){return z.OM},timeWeeks:function(){return z.vm},timeYear:function(){return E.Z},timeYears:function(){return E.g},utcDay:function(){return q.Z},utcDays:function(){return q.y},utcFriday:function(){return de.QQ},utcFridays:function(){return de.fz},utcHour:function(){return me},utcHours:function(){return ae},utcMillisecond:function(){return y},utcMilliseconds:function(){return b},utcMinute:function(){return X},utcMinutes:function(){return ie},utcMonday:function(){return de.l6},utcMondays:function(){return de.$3},utcMonth:function(){return xe},utcMonths:function(){return we},utcSaturday:function(){return de.g4},utcSaturdays:function(){return de.Q_},utcSecond:function(){return k},utcSeconds:function(){return w},utcSunday:function(){return de.Ox},utcSundays:function(){return de.SU},utcThursday:function(){return de.hB},utcThursdays:function(){return de.xj},utcTuesday:function(){return de.J1},utcTuesdays:function(){return de.DK},utcWednesday:function(){return de.b3},utcWednesdays:function(){return de.uy},utcWeek:function(){return de.Ox},utcWeeks:function(){return de.SU},utcYear:function(){return Be.Z},utcYears:function(){return Be.D}});var g=c(52),v=(0,g.Z)(function(){},function(pe,ne){pe.setTime(+pe+ne)},function(pe,ne){return ne-pe});v.every=function(pe){return pe=Math.floor(pe),!isFinite(pe)||!(pe>0)?null:pe>1?(0,g.Z)(function(ne){ne.setTime(Math.floor(ne/pe)*pe)},function(ne,le){ne.setTime(+ne+le*pe)},function(ne,le){return(le-ne)/pe}):v};var y=v,b=v.range,O=c(4263),C=(0,g.Z)(function(pe){pe.setTime(pe-pe.getMilliseconds())},function(pe,ne){pe.setTime(+pe+ne*O.Ym)},function(pe,ne){return(ne-pe)/O.Ym},function(pe){return pe.getUTCSeconds()}),k=C,w=C.range,T=(0,g.Z)(function(pe){pe.setTime(pe-pe.getMilliseconds()-pe.getSeconds()*O.Ym)},function(pe,ne){pe.setTime(+pe+ne*O.yB)},function(pe,ne){return(ne-pe)/O.yB},function(pe){return pe.getMinutes()}),R=T,M=T.range,I=(0,g.Z)(function(pe){pe.setTime(pe-pe.getMilliseconds()-pe.getSeconds()*O.Ym-pe.getMinutes()*O.yB)},function(pe,ne){pe.setTime(+pe+ne*O.Y2)},function(pe,ne){return(ne-pe)/O.Y2},function(pe){return pe.getHours()}),V=I,N=I.range,Q=c(2301),z=c(9879),U=(0,g.Z)(function(pe){pe.setDate(1),pe.setHours(0,0,0,0)},function(pe,ne){pe.setMonth(pe.getMonth()+ne)},function(pe,ne){return ne.getMonth()-pe.getMonth()+(ne.getFullYear()-pe.getFullYear())*12},function(pe){return pe.getMonth()}),F=U,B=U.range,E=c(4823),W=(0,g.Z)(function(pe){pe.setUTCSeconds(0,0)},function(pe,ne){pe.setTime(+pe+ne*O.yB)},function(pe,ne){return(ne-pe)/O.yB},function(pe){return pe.getUTCMinutes()}),X=W,ie=W.range,L=(0,g.Z)(function(pe){pe.setUTCMinutes(0,0,0)},function(pe,ne){pe.setTime(+pe+ne*O.Y2)},function(pe,ne){return(ne-pe)/O.Y2},function(pe){return pe.getUTCHours()}),me=L,ae=L.range,q=c(8480),de=c(8176),ee=(0,g.Z)(function(pe){pe.setUTCDate(1),pe.setUTCHours(0,0,0,0)},function(pe,ne){pe.setUTCMonth(pe.getUTCMonth()+ne)},function(pe,ne){return ne.getUTCMonth()-pe.getUTCMonth()+(ne.getUTCFullYear()-pe.getUTCFullYear())*12},function(pe){return pe.getUTCMonth()}),xe=ee,we=ee.range,Be=c(9791)},52:function(f,h,c){c.d(h,{Z:function(){return y}});var g=new Date,v=new Date;function y(b,O,C,k){function w(T){return b(T=arguments.length===0?new Date:new Date(+T)),T}return w.floor=function(T){return b(T=new Date(+T)),T},w.ceil=function(T){return b(T=new Date(T-1)),O(T,1),b(T),T},w.round=function(T){var R=w(T),M=w.ceil(T);return T-R<M-T?R:M},w.offset=function(T,R){return O(T=new Date(+T),R==null?1:Math.floor(R)),T},w.range=function(T,R,M){var I=[],V;if(T=w.ceil(T),M=M==null?1:Math.floor(M),!(T<R)||!(M>0))return I;do I.push(V=new Date(+T)),O(T,M),b(T);while(V<T&&T<R);return I},w.filter=function(T){return y(function(R){if(R>=R)for(;b(R),!T(R);)R.setTime(R-1)},function(R,M){if(R>=R)if(M<0)for(;++M<=0;)for(;O(R,-1),!T(R););else for(;--M>=0;)for(;O(R,1),!T(R););})},C&&(w.count=function(T,R){return g.setTime(+T),v.setTime(+R),b(g),b(v),Math.floor(C(g,v))},w.every=function(T){return T=Math.floor(T),!isFinite(T)||!(T>0)?null:T>1?w.filter(k?function(R){return k(R)%T===0}:function(R){return w.count(0,R)%T===0}):w}),w}},8480:function(f,h,c){c.d(h,{y:function(){return b}});var g=c(52),v=c(4263),y=(0,g.Z)(function(O){O.setUTCHours(0,0,0,0)},function(O,C){O.setUTCDate(O.getUTCDate()+C)},function(O,C){return(C-O)/v.UD},function(O){return O.getUTCDate()-1});h.Z=y;var b=y.range},8176:function(f,h,c){c.d(h,{$3:function(){return I},DK:function(){return V},J1:function(){return C},Ox:function(){return b},QQ:function(){return T},Q_:function(){return U},SU:function(){return M},b3:function(){return k},fz:function(){return z},g4:function(){return R},hB:function(){return w},l6:function(){return O},uy:function(){return N},xj:function(){return Q}});var g=c(52),v=c(4263);function y(F){return(0,g.Z)(function(B){B.setUTCDate(B.getUTCDate()-(B.getUTCDay()+7-F)%7),B.setUTCHours(0,0,0,0)},function(B,E){B.setUTCDate(B.getUTCDate()+E*7)},function(B,E){return(E-B)/v.iM})}var b=y(0),O=y(1),C=y(2),k=y(3),w=y(4),T=y(5),R=y(6),M=b.range,I=O.range,V=C.range,N=k.range,Q=w.range,z=T.range,U=R.range},9791:function(f,h,c){c.d(h,{D:function(){return y}});var g=c(52),v=(0,g.Z)(function(b){b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,O){b.setUTCFullYear(b.getUTCFullYear()+O)},function(b,O){return O.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});v.every=function(b){return!isFinite(b=Math.floor(b))||!(b>0)?null:(0,g.Z)(function(O){O.setUTCFullYear(Math.floor(O.getUTCFullYear()/b)*b),O.setUTCMonth(0,1),O.setUTCHours(0,0,0,0)},function(O,C){O.setUTCFullYear(O.getUTCFullYear()+C*b)})},h.Z=v;var y=v.range},9879:function(f,h,c){c.d(h,{$t:function(){return Q},EY:function(){return R},Ff:function(){return U},Ld:function(){return N},OM:function(){return b},aU:function(){return V},b$:function(){return z},bJ:function(){return I},bL:function(){return w},mC:function(){return T},sy:function(){return C},vm:function(){return M},wA:function(){return O},zg:function(){return k}});var g=c(52),v=c(4263);function y(F){return(0,g.Z)(function(B){B.setDate(B.getDate()-(B.getDay()+7-F)%7),B.setHours(0,0,0,0)},function(B,E){B.setDate(B.getDate()+E*7)},function(B,E){return(E-B-(E.getTimezoneOffset()-B.getTimezoneOffset())*v.yB)/v.iM})}var b=y(0),O=y(1),C=y(2),k=y(3),w=y(4),T=y(5),R=y(6),M=b.range,I=O.range,V=C.range,N=k.range,Q=w.range,z=T.range,U=R.range},4823:function(f,h,c){c.d(h,{g:function(){return y}});var g=c(52),v=(0,g.Z)(function(b){b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,O){b.setFullYear(b.getFullYear()+O)},function(b,O){return O.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});v.every=function(b){return!isFinite(b=Math.floor(b))||!(b>0)?null:(0,g.Z)(function(O){O.setFullYear(Math.floor(O.getFullYear()/b)*b),O.setMonth(0,1),O.setHours(0,0,0,0)},function(O,C){O.setFullYear(O.getFullYear()+C*b)})},h.Z=v;var y=v.range},5398:function(f){var h=typeof Reflect=="object"?Reflect:null,c=h&&typeof h.apply=="function"?h.apply:function(E,W,X){return Function.prototype.apply.call(E,W,X)},g;h&&typeof h.ownKeys=="function"?g=h.ownKeys:Object.getOwnPropertySymbols?g=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:g=function(E){return Object.getOwnPropertyNames(E)};function v(B){console&&console.warn&&console.warn(B)}var y=Number.isNaN||function(E){return E!==E};function b(){b.init.call(this)}f.exports=b,f.exports.once=z,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var O=10;function C(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return O},set:function(B){if(typeof B!="number"||B<0||y(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");O=B}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||y(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function k(B){return B._maxListeners===void 0?b.defaultMaxListeners:B._maxListeners}b.prototype.getMaxListeners=function(){return k(this)},b.prototype.emit=function(E){for(var W=[],X=1;X<arguments.length;X++)W.push(arguments[X]);var ie=E==="error",L=this._events;if(L!==void 0)ie=ie&&L.error===void 0;else if(!ie)return!1;if(ie){var me;if(W.length>0&&(me=W[0]),me instanceof Error)throw me;var ae=new Error("Unhandled error."+(me?" ("+me.message+")":""));throw ae.context=me,ae}var q=L[E];if(q===void 0)return!1;if(typeof q=="function")c(q,this,W);else for(var de=q.length,ee=V(q,de),X=0;X<de;++X)c(ee[X],this,W);return!0};function w(B,E,W,X){var ie,L,me;if(C(W),L=B._events,L===void 0?(L=B._events=Object.create(null),B._eventsCount=0):(L.newListener!==void 0&&(B.emit("newListener",E,W.listener?W.listener:W),L=B._events),me=L[E]),me===void 0)me=L[E]=W,++B._eventsCount;else if(typeof me=="function"?me=L[E]=X?[W,me]:[me,W]:X?me.unshift(W):me.push(W),ie=k(B),ie>0&&me.length>ie&&!me.warned){me.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+me.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=B,ae.type=E,ae.count=me.length,v(ae)}return B}b.prototype.addListener=function(E,W){return w(this,E,W,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(E,W){return w(this,E,W,!0)};function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R(B,E,W){var X={fired:!1,wrapFn:void 0,target:B,type:E,listener:W},ie=T.bind(X);return ie.listener=W,X.wrapFn=ie,ie}b.prototype.once=function(E,W){return C(W),this.on(E,R(this,E,W)),this},b.prototype.prependOnceListener=function(E,W){return C(W),this.prependListener(E,R(this,E,W)),this},b.prototype.removeListener=function(E,W){var X,ie,L,me,ae;if(C(W),ie=this._events,ie===void 0)return this;if(X=ie[E],X===void 0)return this;if(X===W||X.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete ie[E],ie.removeListener&&this.emit("removeListener",E,X.listener||W));else if(typeof X!="function"){for(L=-1,me=X.length-1;me>=0;me--)if(X[me]===W||X[me].listener===W){ae=X[me].listener,L=me;break}if(L<0)return this;L===0?X.shift():N(X,L),X.length===1&&(ie[E]=X[0]),ie.removeListener!==void 0&&this.emit("removeListener",E,ae||W)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(E){var W,X,ie;if(X=this._events,X===void 0)return this;if(X.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):X[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete X[E]),this;if(arguments.length===0){var L=Object.keys(X),me;for(ie=0;ie<L.length;++ie)me=L[ie],me!=="removeListener"&&this.removeAllListeners(me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=X[E],typeof W=="function")this.removeListener(E,W);else if(W!==void 0)for(ie=W.length-1;ie>=0;ie--)this.removeListener(E,W[ie]);return this};function M(B,E,W){var X=B._events;if(X===void 0)return[];var ie=X[E];return ie===void 0?[]:typeof ie=="function"?W?[ie.listener||ie]:[ie]:W?Q(ie):V(ie,ie.length)}b.prototype.listeners=function(E){return M(this,E,!0)},b.prototype.rawListeners=function(E){return M(this,E,!1)},b.listenerCount=function(B,E){return typeof B.listenerCount=="function"?B.listenerCount(E):I.call(B,E)},b.prototype.listenerCount=I;function I(B){var E=this._events;if(E!==void 0){var W=E[B];if(typeof W=="function")return 1;if(W!==void 0)return W.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function V(B,E){for(var W=new Array(E),X=0;X<E;++X)W[X]=B[X];return W}function N(B,E){for(;E+1<B.length;E++)B[E]=B[E+1];B.pop()}function Q(B){for(var E=new Array(B.length),W=0;W<E.length;++W)E[W]=B[W].listener||B[W];return E}function z(B,E){return new Promise(function(W,X){function ie(me){B.removeListener(E,L),X(me)}function L(){typeof B.removeListener=="function"&&B.removeListener("error",ie),W([].slice.call(arguments))}F(B,E,L,{once:!0}),E!=="error"&&U(B,ie,{once:!0})})}function U(B,E,W){typeof B.on=="function"&&F(B,"error",E,W)}function F(B,E,W,X){if(typeof B.on=="function")X.once?B.once(E,W):B.on(E,W);else if(typeof B.addEventListener=="function")B.addEventListener(E,function ie(L){X.once&&B.removeEventListener(E,ie),W(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}},2770:function(f,h,c){var g=c(8546);f.exports=function(v){var y=typeof v;if(y==="string"){var b=v;if(v=+v,v===0&&g(b))return!1}else if(y!=="number")return!1;return v-v<1}},5400:function(f){f.exports=h;function h(c,g){var v=g[0],y=g[1],b=g[2],O=g[3],C=g[4],k=g[5],w=g[6],T=g[7],R=g[8],M=g[9],I=g[10],V=g[11],N=g[12],Q=g[13],z=g[14],U=g[15];return c[0]=k*(I*U-V*z)-M*(w*U-T*z)+Q*(w*V-T*I),c[1]=-(y*(I*U-V*z)-M*(b*U-O*z)+Q*(b*V-O*I)),c[2]=y*(w*U-T*z)-k*(b*U-O*z)+Q*(b*T-O*w),c[3]=-(y*(w*V-T*I)-k*(b*V-O*I)+M*(b*T-O*w)),c[4]=-(C*(I*U-V*z)-R*(w*U-T*z)+N*(w*V-T*I)),c[5]=v*(I*U-V*z)-R*(b*U-O*z)+N*(b*V-O*I),c[6]=-(v*(w*U-T*z)-C*(b*U-O*z)+N*(b*T-O*w)),c[7]=v*(w*V-T*I)-C*(b*V-O*I)+R*(b*T-O*w),c[8]=C*(M*U-V*Q)-R*(k*U-T*Q)+N*(k*V-T*M),c[9]=-(v*(M*U-V*Q)-R*(y*U-O*Q)+N*(y*V-O*M)),c[10]=v*(k*U-T*Q)-C*(y*U-O*Q)+N*(y*T-O*k),c[11]=-(v*(k*V-T*M)-C*(y*V-O*M)+R*(y*T-O*k)),c[12]=-(C*(M*z-I*Q)-R*(k*z-w*Q)+N*(k*I-w*M)),c[13]=v*(M*z-I*Q)-R*(y*z-b*Q)+N*(y*I-b*M),c[14]=-(v*(k*z-w*Q)-C*(y*z-b*Q)+N*(y*w-b*k)),c[15]=v*(k*I-w*M)-C*(y*I-b*M)+R*(y*w-b*k),c}},2331:function(f){f.exports=h;function h(c){var g=new Float32Array(16);return g[0]=c[0],g[1]=c[1],g[2]=c[2],g[3]=c[3],g[4]=c[4],g[5]=c[5],g[6]=c[6],g[7]=c[7],g[8]=c[8],g[9]=c[9],g[10]=c[10],g[11]=c[11],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15],g}},1042:function(f){f.exports=h;function h(c,g){return c[0]=g[0],c[1]=g[1],c[2]=g[2],c[3]=g[3],c[4]=g[4],c[5]=g[5],c[6]=g[6],c[7]=g[7],c[8]=g[8],c[9]=g[9],c[10]=g[10],c[11]=g[11],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15],c}},1902:function(f){f.exports=h;function h(){var c=new Float32Array(16);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},9887:function(f){f.exports=h;function h(c){var g=c[0],v=c[1],y=c[2],b=c[3],O=c[4],C=c[5],k=c[6],w=c[7],T=c[8],R=c[9],M=c[10],I=c[11],V=c[12],N=c[13],Q=c[14],z=c[15],U=g*C-v*O,F=g*k-y*O,B=g*w-b*O,E=v*k-y*C,W=v*w-b*C,X=y*w-b*k,ie=T*N-R*V,L=T*Q-M*V,me=T*z-I*V,ae=R*Q-M*N,q=R*z-I*N,de=M*z-I*Q;return U*de-F*q+B*ae+E*me-W*L+X*ie}},7812:function(f){f.exports=h;function h(c,g){var v=g[0],y=g[1],b=g[2],O=g[3],C=v+v,k=y+y,w=b+b,T=v*C,R=y*C,M=y*k,I=b*C,V=b*k,N=b*w,Q=O*C,z=O*k,U=O*w;return c[0]=1-M-N,c[1]=R+U,c[2]=I-z,c[3]=0,c[4]=R-U,c[5]=1-T-N,c[6]=V+Q,c[7]=0,c[8]=I+z,c[9]=V-Q,c[10]=1-T-M,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},4045:function(f){f.exports=h;function h(c,g,v){var y,b,O,C=v[0],k=v[1],w=v[2],T=Math.sqrt(C*C+k*k+w*w);return Math.abs(T)<1e-6?null:(T=1/T,C*=T,k*=T,w*=T,y=Math.sin(g),b=Math.cos(g),O=1-b,c[0]=C*C*O+b,c[1]=k*C*O+w*y,c[2]=w*C*O-k*y,c[3]=0,c[4]=C*k*O-w*y,c[5]=k*k*O+b,c[6]=w*k*O+C*y,c[7]=0,c[8]=C*w*O+k*y,c[9]=k*w*O-C*y,c[10]=w*w*O+b,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c)}},5973:function(f){f.exports=h;function h(c,g,v){var y=g[0],b=g[1],O=g[2],C=g[3],k=y+y,w=b+b,T=O+O,R=y*k,M=y*w,I=y*T,V=b*w,N=b*T,Q=O*T,z=C*k,U=C*w,F=C*T;return c[0]=1-(V+Q),c[1]=M+F,c[2]=I-U,c[3]=0,c[4]=M-F,c[5]=1-(R+Q),c[6]=N+z,c[7]=0,c[8]=I+U,c[9]=N-z,c[10]=1-(R+V),c[11]=0,c[12]=v[0],c[13]=v[1],c[14]=v[2],c[15]=1,c}},1472:function(f){f.exports=h;function h(c,g){return c[0]=g[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=g[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=g[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},4669:function(f){f.exports=h;function h(c,g){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=g[0],c[13]=g[1],c[14]=g[2],c[15]=1,c}},5262:function(f){f.exports=h;function h(c,g){var v=Math.sin(g),y=Math.cos(g);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=y,c[6]=v,c[7]=0,c[8]=0,c[9]=-v,c[10]=y,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},331:function(f){f.exports=h;function h(c,g){var v=Math.sin(g),y=Math.cos(g);return c[0]=y,c[1]=0,c[2]=-v,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=v,c[9]=0,c[10]=y,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},1049:function(f){f.exports=h;function h(c,g){var v=Math.sin(g),y=Math.cos(g);return c[0]=y,c[1]=v,c[2]=0,c[3]=0,c[4]=-v,c[5]=y,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},5195:function(f){f.exports=h;function h(c,g,v,y,b,O,C){var k=1/(v-g),w=1/(b-y),T=1/(O-C);return c[0]=O*2*k,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=O*2*w,c[6]=0,c[7]=0,c[8]=(v+g)*k,c[9]=(b+y)*w,c[10]=(C+O)*T,c[11]=-1,c[12]=0,c[13]=0,c[14]=C*O*2*T,c[15]=0,c}},1551:function(f){f.exports=h;function h(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},9576:function(f,h,c){f.exports={create:c(1902),clone:c(2331),copy:c(1042),identity:c(1551),transpose:c(8654),invert:c(5874),adjoint:c(5400),determinant:c(9887),multiply:c(1362),translate:c(1283),scale:c(789),rotate:c(5074),rotateX:c(5545),rotateY:c(4918),rotateZ:c(5692),fromRotation:c(4045),fromRotationTranslation:c(5973),fromScaling:c(1472),fromTranslation:c(4669),fromXRotation:c(5262),fromYRotation:c(331),fromZRotation:c(1049),fromQuat:c(7812),frustum:c(5195),perspective:c(7864),perspectiveFromFieldOfView:c(5279),ortho:c(378),lookAt:c(5551),str:c(6726)}},5874:function(f){f.exports=h;function h(c,g){var v=g[0],y=g[1],b=g[2],O=g[3],C=g[4],k=g[5],w=g[6],T=g[7],R=g[8],M=g[9],I=g[10],V=g[11],N=g[12],Q=g[13],z=g[14],U=g[15],F=v*k-y*C,B=v*w-b*C,E=v*T-O*C,W=y*w-b*k,X=y*T-O*k,ie=b*T-O*w,L=R*Q-M*N,me=R*z-I*N,ae=R*U-V*N,q=M*z-I*Q,de=M*U-V*Q,ee=I*U-V*z,xe=F*ee-B*de+E*q+W*ae-X*me+ie*L;return xe?(xe=1/xe,c[0]=(k*ee-w*de+T*q)*xe,c[1]=(b*de-y*ee-O*q)*xe,c[2]=(Q*ie-z*X+U*W)*xe,c[3]=(I*X-M*ie-V*W)*xe,c[4]=(w*ae-C*ee-T*me)*xe,c[5]=(v*ee-b*ae+O*me)*xe,c[6]=(z*E-N*ie-U*B)*xe,c[7]=(R*ie-I*E+V*B)*xe,c[8]=(C*de-k*ae+T*L)*xe,c[9]=(y*ae-v*de-O*L)*xe,c[10]=(N*X-Q*E+U*F)*xe,c[11]=(M*E-R*X-V*F)*xe,c[12]=(k*me-C*q-w*L)*xe,c[13]=(v*q-y*me+b*L)*xe,c[14]=(Q*B-N*W-z*F)*xe,c[15]=(R*W-M*B+I*F)*xe,c):null}},5551:function(f,h,c){var g=c(1551);f.exports=v;function v(y,b,O,C){var k,w,T,R,M,I,V,N,Q,z,U=b[0],F=b[1],B=b[2],E=C[0],W=C[1],X=C[2],ie=O[0],L=O[1],me=O[2];return Math.abs(U-ie)<1e-6&&Math.abs(F-L)<1e-6&&Math.abs(B-me)<1e-6?g(y):(V=U-ie,N=F-L,Q=B-me,z=1/Math.sqrt(V*V+N*N+Q*Q),V*=z,N*=z,Q*=z,k=W*Q-X*N,w=X*V-E*Q,T=E*N-W*V,z=Math.sqrt(k*k+w*w+T*T),z?(z=1/z,k*=z,w*=z,T*=z):(k=0,w=0,T=0),R=N*T-Q*w,M=Q*k-V*T,I=V*w-N*k,z=Math.sqrt(R*R+M*M+I*I),z?(z=1/z,R*=z,M*=z,I*=z):(R=0,M=0,I=0),y[0]=k,y[1]=R,y[2]=V,y[3]=0,y[4]=w,y[5]=M,y[6]=N,y[7]=0,y[8]=T,y[9]=I,y[10]=Q,y[11]=0,y[12]=-(k*U+w*F+T*B),y[13]=-(R*U+M*F+I*B),y[14]=-(V*U+N*F+Q*B),y[15]=1,y)}},1362:function(f){f.exports=h;function h(c,g,v){var y=g[0],b=g[1],O=g[2],C=g[3],k=g[4],w=g[5],T=g[6],R=g[7],M=g[8],I=g[9],V=g[10],N=g[11],Q=g[12],z=g[13],U=g[14],F=g[15],B=v[0],E=v[1],W=v[2],X=v[3];return c[0]=B*y+E*k+W*M+X*Q,c[1]=B*b+E*w+W*I+X*z,c[2]=B*O+E*T+W*V+X*U,c[3]=B*C+E*R+W*N+X*F,B=v[4],E=v[5],W=v[6],X=v[7],c[4]=B*y+E*k+W*M+X*Q,c[5]=B*b+E*w+W*I+X*z,c[6]=B*O+E*T+W*V+X*U,c[7]=B*C+E*R+W*N+X*F,B=v[8],E=v[9],W=v[10],X=v[11],c[8]=B*y+E*k+W*M+X*Q,c[9]=B*b+E*w+W*I+X*z,c[10]=B*O+E*T+W*V+X*U,c[11]=B*C+E*R+W*N+X*F,B=v[12],E=v[13],W=v[14],X=v[15],c[12]=B*y+E*k+W*M+X*Q,c[13]=B*b+E*w+W*I+X*z,c[14]=B*O+E*T+W*V+X*U,c[15]=B*C+E*R+W*N+X*F,c}},378:function(f){f.exports=h;function h(c,g,v,y,b,O,C){var k=1/(g-v),w=1/(y-b),T=1/(O-C);return c[0]=-2*k,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*w,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*T,c[11]=0,c[12]=(g+v)*k,c[13]=(b+y)*w,c[14]=(C+O)*T,c[15]=1,c}},7864:function(f){f.exports=h;function h(c,g,v,y,b){var O=1/Math.tan(g/2),C=1/(y-b);return c[0]=O/v,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=O,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=(b+y)*C,c[11]=-1,c[12]=0,c[13]=0,c[14]=2*b*y*C,c[15]=0,c}},5279:function(f){f.exports=h;function h(c,g,v,y){var b=Math.tan(g.upDegrees*Math.PI/180),O=Math.tan(g.downDegrees*Math.PI/180),C=Math.tan(g.leftDegrees*Math.PI/180),k=Math.tan(g.rightDegrees*Math.PI/180),w=2/(C+k),T=2/(b+O);return c[0]=w,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=T,c[6]=0,c[7]=0,c[8]=-((C-k)*w*.5),c[9]=(b-O)*T*.5,c[10]=y/(v-y),c[11]=-1,c[12]=0,c[13]=0,c[14]=y*v/(v-y),c[15]=0,c}},5074:function(f){f.exports=h;function h(c,g,v,y){var b=y[0],O=y[1],C=y[2],k=Math.sqrt(b*b+O*O+C*C),w,T,R,M,I,V,N,Q,z,U,F,B,E,W,X,ie,L,me,ae,q,de,ee,xe,we;return Math.abs(k)<1e-6?null:(k=1/k,b*=k,O*=k,C*=k,w=Math.sin(v),T=Math.cos(v),R=1-T,M=g[0],I=g[1],V=g[2],N=g[3],Q=g[4],z=g[5],U=g[6],F=g[7],B=g[8],E=g[9],W=g[10],X=g[11],ie=b*b*R+T,L=O*b*R+C*w,me=C*b*R-O*w,ae=b*O*R-C*w,q=O*O*R+T,de=C*O*R+b*w,ee=b*C*R+O*w,xe=O*C*R-b*w,we=C*C*R+T,c[0]=M*ie+Q*L+B*me,c[1]=I*ie+z*L+E*me,c[2]=V*ie+U*L+W*me,c[3]=N*ie+F*L+X*me,c[4]=M*ae+Q*q+B*de,c[5]=I*ae+z*q+E*de,c[6]=V*ae+U*q+W*de,c[7]=N*ae+F*q+X*de,c[8]=M*ee+Q*xe+B*we,c[9]=I*ee+z*xe+E*we,c[10]=V*ee+U*xe+W*we,c[11]=N*ee+F*xe+X*we,g!==c&&(c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15]),c)}},5545:function(f){f.exports=h;function h(c,g,v){var y=Math.sin(v),b=Math.cos(v),O=g[4],C=g[5],k=g[6],w=g[7],T=g[8],R=g[9],M=g[10],I=g[11];return g!==c&&(c[0]=g[0],c[1]=g[1],c[2]=g[2],c[3]=g[3],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15]),c[4]=O*b+T*y,c[5]=C*b+R*y,c[6]=k*b+M*y,c[7]=w*b+I*y,c[8]=T*b-O*y,c[9]=R*b-C*y,c[10]=M*b-k*y,c[11]=I*b-w*y,c}},4918:function(f){f.exports=h;function h(c,g,v){var y=Math.sin(v),b=Math.cos(v),O=g[0],C=g[1],k=g[2],w=g[3],T=g[8],R=g[9],M=g[10],I=g[11];return g!==c&&(c[4]=g[4],c[5]=g[5],c[6]=g[6],c[7]=g[7],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15]),c[0]=O*b-T*y,c[1]=C*b-R*y,c[2]=k*b-M*y,c[3]=w*b-I*y,c[8]=O*y+T*b,c[9]=C*y+R*b,c[10]=k*y+M*b,c[11]=w*y+I*b,c}},5692:function(f){f.exports=h;function h(c,g,v){var y=Math.sin(v),b=Math.cos(v),O=g[0],C=g[1],k=g[2],w=g[3],T=g[4],R=g[5],M=g[6],I=g[7];return g!==c&&(c[8]=g[8],c[9]=g[9],c[10]=g[10],c[11]=g[11],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15]),c[0]=O*b+T*y,c[1]=C*b+R*y,c[2]=k*b+M*y,c[3]=w*b+I*y,c[4]=T*b-O*y,c[5]=R*b-C*y,c[6]=M*b-k*y,c[7]=I*b-w*y,c}},789:function(f){f.exports=h;function h(c,g,v){var y=v[0],b=v[1],O=v[2];return c[0]=g[0]*y,c[1]=g[1]*y,c[2]=g[2]*y,c[3]=g[3]*y,c[4]=g[4]*b,c[5]=g[5]*b,c[6]=g[6]*b,c[7]=g[7]*b,c[8]=g[8]*O,c[9]=g[9]*O,c[10]=g[10]*O,c[11]=g[11]*O,c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15],c}},6726:function(f){f.exports=h;function h(c){return"mat4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+", "+c[9]+", "+c[10]+", "+c[11]+", "+c[12]+", "+c[13]+", "+c[14]+", "+c[15]+")"}},1283:function(f){f.exports=h;function h(c,g,v){var y=v[0],b=v[1],O=v[2],C,k,w,T,R,M,I,V,N,Q,z,U;return g===c?(c[12]=g[0]*y+g[4]*b+g[8]*O+g[12],c[13]=g[1]*y+g[5]*b+g[9]*O+g[13],c[14]=g[2]*y+g[6]*b+g[10]*O+g[14],c[15]=g[3]*y+g[7]*b+g[11]*O+g[15]):(C=g[0],k=g[1],w=g[2],T=g[3],R=g[4],M=g[5],I=g[6],V=g[7],N=g[8],Q=g[9],z=g[10],U=g[11],c[0]=C,c[1]=k,c[2]=w,c[3]=T,c[4]=R,c[5]=M,c[6]=I,c[7]=V,c[8]=N,c[9]=Q,c[10]=z,c[11]=U,c[12]=C*y+R*b+N*O+g[12],c[13]=k*y+M*b+Q*O+g[13],c[14]=w*y+I*b+z*O+g[14],c[15]=T*y+V*b+U*O+g[15]),c}},8654:function(f){f.exports=h;function h(c,g){if(c===g){var v=g[1],y=g[2],b=g[3],O=g[6],C=g[7],k=g[11];c[1]=g[4],c[2]=g[8],c[3]=g[12],c[4]=v,c[6]=g[9],c[7]=g[13],c[8]=y,c[9]=O,c[11]=g[14],c[12]=b,c[13]=C,c[14]=k}else c[0]=g[0],c[1]=g[4],c[2]=g[8],c[3]=g[12],c[4]=g[1],c[5]=g[5],c[6]=g[9],c[7]=g[13],c[8]=g[2],c[9]=g[6],c[10]=g[10],c[11]=g[14],c[12]=g[3],c[13]=g[7],c[14]=g[11],c[15]=g[15];return c}},7035:function(f,h,c){var g=c(4404),v;typeof c.g.matchMedia=="function"?v=!c.g.matchMedia("(hover: none)").matches:v=g,f.exports=v},8520:function(f,h,c){var g=c(4404);function v(){var y=!1;try{var b=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch{y=!1}return y}f.exports=g&&v()},4404:function(f){f.exports=!0},8546:function(f){f.exports=function(h){for(var c=h.length,g,v=0;v<c;v++)if(g=h.charCodeAt(v),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},8956:function(f){var h={left:0,top:0};f.exports=c;function c(v,y,b){y=y||v.currentTarget||v.srcElement,Array.isArray(b)||(b=[0,0]);var O=v.clientX||0,C=v.clientY||0,k=g(y);return b[0]=O-k.left,b[1]=C-k.top,b}function g(v){return v===window||v===document||v===document.body?h:v.getBoundingClientRect()}},7417:function(f,h,c){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(y,b,O){b[y]=b[y]||O(),f.exports?f.exports=b[y]:(g=(function(){return b[y]}).call(h,c,h,f),g!==void 0&&(f.exports=g))})("Promise",typeof c.g<"u"?c.g:this,function(){var y,b,O,C=Object.prototype.toString,k=typeof setImmediate<"u"?function(E){return setImmediate(E)}:setTimeout;try{Object.defineProperty({},"x",{}),y=function(E,W,X,ie){return Object.defineProperty(E,W,{value:X,writable:!0,configurable:ie!==!1})}}catch{y=function(W,X,ie){return W[X]=ie,W}}O=function(){var E,W,X;function ie(L,me){this.fn=L,this.self=me,this.next=void 0}return{add:function(me,ae){X=new ie(me,ae),W?W.next=X:E=X,W=X,X=void 0},drain:function(){var me=E;for(E=W=b=void 0;me;)me.fn.call(me.self),me=me.next}}}();function w(B,E){O.add(B,E),b||(b=k(O.drain))}function T(B){var E,W=typeof B;return B!=null&&(W=="object"||W=="function")&&(E=B.then),typeof E=="function"?E:!1}function R(){for(var B=0;B<this.chain.length;B++)M(this,this.state===1?this.chain[B].success:this.chain[B].failure,this.chain[B]);this.chain.length=0}function M(B,E,W){var X,ie;try{E===!1?W.reject(B.msg):(E===!0?X=B.msg:X=E.call(void 0,B.msg),X===W.promise?W.reject(TypeError("Promise-chain cycle")):(ie=T(X))?ie.call(X,W.resolve,W.reject):W.resolve(X))}catch(L){W.reject(L)}}function I(B){var E,W=this;if(!W.triggered){W.triggered=!0,W.def&&(W=W.def);try{(E=T(B))?w(function(){var X=new Q(W);try{E.call(B,function(){I.apply(X,arguments)},function(){V.apply(X,arguments)})}catch(ie){V.call(X,ie)}}):(W.msg=B,W.state=1,W.chain.length>0&&w(R,W))}catch(X){V.call(new Q(W),X)}}}function V(B){var E=this;E.triggered||(E.triggered=!0,E.def&&(E=E.def),E.msg=B,E.state=2,E.chain.length>0&&w(R,E))}function N(B,E,W,X){for(var ie=0;ie<E.length;ie++)(function(me){B.resolve(E[me]).then(function(q){W(me,q)},X)})(ie)}function Q(B){this.def=B,this.triggered=!1}function z(B){this.promise=B,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function U(B){if(typeof B!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var E=new z(this);this.then=function(X,ie){var L={success:typeof X=="function"?X:!0,failure:typeof ie=="function"?ie:!1};return L.promise=new this.constructor(function(ae,q){if(typeof ae!="function"||typeof q!="function")throw TypeError("Not a function");L.resolve=ae,L.reject=q}),E.chain.push(L),E.state!==0&&w(R,E),L.promise},this.catch=function(X){return this.then(void 0,X)};try{B.call(void 0,function(X){I.call(E,X)},function(X){V.call(E,X)})}catch(W){V.call(E,W)}}var F=y({},"constructor",U,!1);return U.prototype=F,y(F,"__NPO__",0,!1),y(U,"resolve",function(E){var W=this;return E&&typeof E=="object"&&E.__NPO__===1?E:new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");ie(E)})}),y(U,"reject",function(E){return new this(function(X,ie){if(typeof X!="function"||typeof ie!="function")throw TypeError("Not a function");ie(E)})}),y(U,"all",function(E){var W=this;return C.call(E)!="[object Array]"?W.reject(TypeError("Not an array")):E.length===0?W.resolve([]):new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");var me=E.length,ae=Array(me),q=0;N(W,E,function(ee,xe){ae[ee]=xe,++q===me&&ie(ae)},L)})}),y(U,"race",function(E){var W=this;return C.call(E)!="[object Array]"?W.reject(TypeError("Not an array")):new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");N(W,E,function(ae,q){ie(q)},L)})}),U})},6131:function(f){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function v(b){if(b==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}function y(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de",Object.getOwnPropertyNames(b)[0]==="5")return!1;for(var O={},C=0;C<10;C++)O["_"+String.fromCharCode(C)]=C;var k=Object.getOwnPropertyNames(O).map(function(T){return O[T]});if(k.join("")!=="0123456789")return!1;var w={};return"abcdefghijklmnopqrst".split("").forEach(function(T){w[T]=T}),Object.keys(Object.assign({},w)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}f.exports=y()?Object.assign:function(b,O){for(var C,k=v(b),w,T=1;T<arguments.length;T++){C=Object(arguments[T]);for(var R in C)c.call(C,R)&&(k[R]=C[R]);if(h){w=h(C);for(var M=0;M<w.length;M++)g.call(C,w[M])&&(k[w[M]]=C[w[M]])}}return k}},5616:function(f){f.exports=g;var h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(b){var O=[];return b.replace(c,function(C,k,w){var T=k.toLowerCase();for(w=y(w),T=="m"&&w.length>2&&(O.push([k].concat(w.splice(0,2))),T="l",k=k=="m"?"l":"L");;){if(w.length==h[T])return w.unshift(k),O.push(w);if(w.length<h[T])throw new Error("malformed path data");O.push([k].concat(w.splice(0,h[T])))}}),O}var v=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function y(b){var O=b.match(v);return O?O.map(Number):[]}},8258:function(f){f.exports=function(c,g,v,y){var b=c[0],O=c[1],C=!1;v===void 0&&(v=0),y===void 0&&(y=g.length);for(var k=y-v,w=0,T=k-1;w<k;T=w++){var R=g[w+v][0],M=g[w+v][1],I=g[T+v][0],V=g[T+v][1],N=M>O!=V>O&&b<(I-R)*(O-M)/(V-M)+R;N&&(C=!C)}return C}},2142:function(f,h,c){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=c(9444),v=c(9023),y=c(7263),b=c(1328),O=c(5968),C=c(670),k=!1,w=v(),T;T={buildLog:function(M){return M===!0?k=g():M===!1&&(k=!1),k===!1?!1:k.list},epsilon:function(M){return w.epsilon(M)},segments:function(M){var I=y(!0,w,k);return M.regions.forEach(I.addRegion),{segments:I.calculate(M.inverted),inverted:M.inverted}},combine:function(M,I){var V=y(!1,w,k);return{combined:V.calculate(M.segments,M.inverted,I.segments,I.inverted),inverted1:M.inverted,inverted2:I.inverted}},selectUnion:function(M){return{segments:O.union(M.combined,k),inverted:M.inverted1||M.inverted2}},selectIntersect:function(M){return{segments:O.intersect(M.combined,k),inverted:M.inverted1&&M.inverted2}},selectDifference:function(M){return{segments:O.difference(M.combined,k),inverted:M.inverted1&&!M.inverted2}},selectDifferenceRev:function(M){return{segments:O.differenceRev(M.combined,k),inverted:!M.inverted1&&M.inverted2}},selectXor:function(M){return{segments:O.xor(M.combined,k),inverted:M.inverted1!==M.inverted2}},polygon:function(M){return{regions:b(M.segments,w,k),inverted:M.inverted}},polygonFromGeoJSON:function(M){return C.toPolygon(T,M)},polygonToGeoJSON:function(M){return C.fromPolygon(T,w,M)},union:function(M,I){return R(M,I,T.selectUnion)},intersect:function(M,I){return R(M,I,T.selectIntersect)},difference:function(M,I){return R(M,I,T.selectDifference)},differenceRev:function(M,I){return R(M,I,T.selectDifferenceRev)},xor:function(M,I){return R(M,I,T.selectXor)}};function R(M,I,V){var N=T.segments(M),Q=T.segments(I),z=T.combine(N,Q),U=V(z);return T.polygon(U)}typeof window=="object"&&(window.PolyBool=T),f.exports=T},9444:function(f){function h(){var c,g=0,v=!1;function y(b,O){return c.list.push({type:b,data:O?JSON.parse(JSON.stringify(O)):void 0}),c}return c={list:[],segmentId:function(){return g++},checkIntersection:function(b,O){return y("check",{seg1:b,seg2:O})},segmentChop:function(b,O){return y("div_seg",{seg:b,pt:O}),y("chop",{seg:b,pt:O})},statusRemove:function(b){return y("pop_seg",{seg:b})},segmentUpdate:function(b){return y("seg_update",{seg:b})},segmentNew:function(b,O){return y("new_seg",{seg:b,primary:O})},segmentRemove:function(b){return y("rem_seg",{seg:b})},tempStatus:function(b,O,C){return y("temp_status",{seg:b,above:O,below:C})},rewind:function(b){return y("rewind",{seg:b})},status:function(b,O,C){return y("status",{seg:b,above:O,below:C})},vert:function(b){return b===v?c:(v=b,y("vert",{x:b}))},log:function(b){return typeof b!="string"&&(b=JSON.stringify(b,!1,"  ")),y("log",{txt:b})},reset:function(){return y("reset")},selected:function(b){return y("selected",{segs:b})},chainStart:function(b){return y("chain_start",{seg:b})},chainRemoveHead:function(b,O){return y("chain_rem_head",{index:b,pt:O})},chainRemoveTail:function(b,O){return y("chain_rem_tail",{index:b,pt:O})},chainNew:function(b,O){return y("chain_new",{pt1:b,pt2:O})},chainMatch:function(b){return y("chain_match",{index:b})},chainClose:function(b){return y("chain_close",{index:b})},chainAddHead:function(b,O){return y("chain_add_head",{index:b,pt:O})},chainAddTail:function(b,O){return y("chain_add_tail",{index:b,pt:O})},chainConnect:function(b,O){return y("chain_con",{index1:b,index2:O})},chainReverse:function(b){return y("chain_rev",{index:b})},chainJoin:function(b,O){return y("chain_join",{index1:b,index2:O})},done:function(){return y("done")}},c}f.exports=h},9023:function(f){function h(c){typeof c!="number"&&(c=1e-10);var g={epsilon:function(v){return typeof v=="number"&&(c=v),c},pointAboveOrOnLine:function(v,y,b){var O=y[0],C=y[1],k=b[0],w=b[1],T=v[0],R=v[1];return(k-O)*(R-C)-(w-C)*(T-O)>=-c},pointBetween:function(v,y,b){var O=v[1]-y[1],C=b[0]-y[0],k=v[0]-y[0],w=b[1]-y[1],T=k*C+O*w;if(T<c)return!1;var R=C*C+w*w;return!(T-R>-c)},pointsSameX:function(v,y){return Math.abs(v[0]-y[0])<c},pointsSameY:function(v,y){return Math.abs(v[1]-y[1])<c},pointsSame:function(v,y){return g.pointsSameX(v,y)&&g.pointsSameY(v,y)},pointsCompare:function(v,y){return g.pointsSameX(v,y)?g.pointsSameY(v,y)?0:v[1]<y[1]?-1:1:v[0]<y[0]?-1:1},pointsCollinear:function(v,y,b){var O=v[0]-y[0],C=v[1]-y[1],k=y[0]-b[0],w=y[1]-b[1];return Math.abs(O*w-k*C)<c},linesIntersect:function(v,y,b,O){var C=y[0]-v[0],k=y[1]-v[1],w=O[0]-b[0],T=O[1]-b[1],R=C*T-k*w;if(Math.abs(R)<c)return!1;var M=v[0]-b[0],I=v[1]-b[1],V=(w*I-T*M)/R,N=(C*I-k*M)/R,Q={alongA:0,alongB:0,pt:[v[0]+V*C,v[1]+V*k]};return V<=-c?Q.alongA=-2:V<c?Q.alongA=-1:V-1<=-c?Q.alongA=0:V-1<c?Q.alongA=1:Q.alongA=2,N<=-c?Q.alongB=-2:N<c?Q.alongB=-1:N-1<=-c?Q.alongB=0:N-1<c?Q.alongB=1:Q.alongB=2,Q},pointInsideRegion:function(v,y){for(var b=v[0],O=v[1],C=y[y.length-1][0],k=y[y.length-1][1],w=!1,T=0;T<y.length;T++){var R=y[T][0],M=y[T][1];M-O>c!=k-O>c&&(C-R)*(O-M)/(k-M)+R-b>c&&(w=!w),C=R,k=M}return w}};return g}f.exports=h},670:function(f){var h={toPolygon:function(c,g){function v(O){if(O.length<=0)return c.segments({inverted:!1,regions:[]});function C(T){var R=T.slice(0,T.length-1);return c.segments({inverted:!1,regions:[R]})}for(var k=C(O[0]),w=1;w<O.length;w++)k=c.selectDifference(c.combine(k,C(O[w])));return k}if(g.type==="Polygon")return c.polygon(v(g.coordinates));if(g.type==="MultiPolygon"){for(var y=c.segments({inverted:!1,regions:[]}),b=0;b<g.coordinates.length;b++)y=c.selectUnion(c.combine(y,v(g.coordinates[b])));return c.polygon(y)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(c,g,v){v=c.polygon(c.segments(v));function y(V,N){return g.pointInsideRegion([(V[0][0]+V[1][0])*.5,(V[0][1]+V[1][1])*.5],N)}function b(V){return{region:V,children:[]}}var O=b(null);function C(V,N){for(var Q=0;Q<V.children.length;Q++){var z=V.children[Q];if(y(N,z.region)){C(z,N);return}}for(var U=b(N),Q=0;Q<V.children.length;Q++){var z=V.children[Q];y(z.region,N)&&(U.children.push(z),V.children.splice(Q,1),Q--)}V.children.push(U)}for(var k=0;k<v.regions.length;k++){var w=v.regions[k];w.length<3||C(O,w)}function T(V,N){for(var Q=0,z=V[V.length-1][0],U=V[V.length-1][1],F=[],B=0;B<V.length;B++){var E=V[B][0],W=V[B][1];F.push([E,W]),Q+=W*z-E*U,z=E,U=W}var X=Q<0;return X!==N&&F.reverse(),F.push([F[0][0],F[0][1]]),F}var R=[];function M(V){var N=[T(V.region,!1)];R.push(N);for(var Q=0;Q<V.children.length;Q++)N.push(I(V.children[Q]))}function I(V){for(var N=0;N<V.children.length;N++)M(V.children[N]);return T(V.region,!0)}for(var k=0;k<O.children.length;k++)M(O.children[k]);return R.length<=0?{type:"Polygon",coordinates:[]}:R.length==1?{type:"Polygon",coordinates:R[0]}:{type:"MultiPolygon",coordinates:R}}};f.exports=h},7263:function(f,h,c){var g=c(6859);function v(y,b,O){function C(U,F){return{id:O?O.segmentId():-1,start:U,end:F,myFill:{above:null,below:null},otherFill:null}}function k(U,F,B){return{id:O?O.segmentId():-1,start:U,end:F,myFill:{above:B.myFill.above,below:B.myFill.below},otherFill:null}}var w=g.create();function T(U,F,B,E,W,X){var ie=b.pointsCompare(F,W);return ie!==0?ie:b.pointsSame(B,X)?0:U!==E?U?1:-1:b.pointAboveOrOnLine(B,E?W:X,E?X:W)?1:-1}function R(U,F){w.insertBefore(U,function(B){var E=T(U.isStart,U.pt,F,B.isStart,B.pt,B.other.pt);return E<0})}function M(U,F){var B=g.node({isStart:!0,pt:U.start,seg:U,primary:F,other:null,status:null});return R(B,U.end),B}function I(U,F,B){var E=g.node({isStart:!1,pt:F.end,seg:F,primary:B,other:U,status:null});U.other=E,R(E,U.pt)}function V(U,F){var B=M(U,F);return I(B,U,F),B}function N(U,F){O&&O.segmentChop(U.seg,F),U.other.remove(),U.seg.end=F,U.other.pt=F,R(U.other,U.pt)}function Q(U,F){var B=k(F,U.seg.end,U.seg);return N(U,F),V(B,U.primary)}function z(U,F){var B=g.create();function E(pe,ne){var le=pe.seg.start,Y=pe.seg.end,ve=ne.seg.start,Oe=ne.seg.end;return b.pointsCollinear(le,ve,Oe)?b.pointsCollinear(Y,ve,Oe)||b.pointAboveOrOnLine(Y,ve,Oe)?1:-1:b.pointAboveOrOnLine(le,ve,Oe)?1:-1}function W(pe){return B.findTransition(function(ne){var le=E(pe,ne.ev);return le>0})}function X(pe,ne){var le=pe.seg,Y=ne.seg,ve=le.start,Oe=le.end,Le=Y.start,Ce=Y.end;O&&O.checkIntersection(le,Y);var De=b.linesIntersect(ve,Oe,Le,Ce);if(De===!1){if(!b.pointsCollinear(ve,Oe,Le)||b.pointsSame(ve,Ce)||b.pointsSame(Oe,Le))return!1;var Ve=b.pointsSame(ve,Le),_e=b.pointsSame(Oe,Ce);if(Ve&&_e)return ne;var Ie=!Ve&&b.pointBetween(ve,Le,Ce),re=!_e&&b.pointBetween(Oe,Le,Ce);if(Ve)return re?Q(ne,Oe):Q(pe,Ce),ne;Ie&&(_e||(re?Q(ne,Oe):Q(pe,Ce)),Q(ne,ve))}else De.alongA===0&&(De.alongB===-1?Q(pe,Le):De.alongB===0?Q(pe,De.pt):De.alongB===1&&Q(pe,Ce)),De.alongB===0&&(De.alongA===-1?Q(ne,ve):De.alongA===0?Q(ne,De.pt):De.alongA===1&&Q(ne,Oe));return!1}for(var ie=[];!w.isEmpty();){var L=w.getHead();if(O&&O.vert(L.pt[0]),L.isStart){let pe=function(){if(ae){var ne=X(L,ae);if(ne)return ne}return q?X(L,q):!1};O&&O.segmentNew(L.seg,L.primary);var me=W(L),ae=me.before?me.before.ev:null,q=me.after?me.after.ev:null;O&&O.tempStatus(L.seg,ae?ae.seg:!1,q?q.seg:!1);var de=pe();if(de){if(y){var ee;L.seg.myFill.below===null?ee=!0:ee=L.seg.myFill.above!==L.seg.myFill.below,ee&&(de.seg.myFill.above=!de.seg.myFill.above)}else de.seg.otherFill=L.seg.myFill;O&&O.segmentUpdate(de.seg),L.other.remove(),L.remove()}if(w.getHead()!==L){O&&O.rewind(L.seg);continue}if(y){var ee;L.seg.myFill.below===null?ee=!0:ee=L.seg.myFill.above!==L.seg.myFill.below,q?L.seg.myFill.below=q.seg.myFill.above:L.seg.myFill.below=U,ee?L.seg.myFill.above=!L.seg.myFill.below:L.seg.myFill.above=L.seg.myFill.below}else if(L.seg.otherFill===null){var xe;q?L.primary===q.primary?xe=q.seg.otherFill.above:xe=q.seg.myFill.above:xe=L.primary?F:U,L.seg.otherFill={above:xe,below:xe}}O&&O.status(L.seg,ae?ae.seg:!1,q?q.seg:!1),L.other.status=me.insert(g.node({ev:L}))}else{var we=L.status;if(we===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(B.exists(we.prev)&&B.exists(we.next)&&X(we.prev.ev,we.next.ev),O&&O.statusRemove(we.ev.seg),we.remove(),!L.primary){var Be=L.seg.myFill;L.seg.myFill=L.seg.otherFill,L.seg.otherFill=Be}ie.push(L.seg)}w.getHead().remove()}return O&&O.done(),ie}return y?{addRegion:function(U){for(var F,B=U[U.length-1],E=0;E<U.length;E++){F=B,B=U[E];var W=b.pointsCompare(F,B);W!==0&&V(C(W<0?F:B,W<0?B:F),!0)}},calculate:function(U){return z(U,!1)}}:{calculate:function(U,F,B,E){return U.forEach(function(W){V(k(W.start,W.end,W),!0)}),B.forEach(function(W){V(k(W.start,W.end,W),!1)}),z(F,E)}}}f.exports=v},6859:function(f){var h={create:function(){var c={root:{root:!0,next:null},exists:function(g){return!(g===null||g===c.root)},isEmpty:function(){return c.root.next===null},getHead:function(){return c.root.next},insertBefore:function(g,v){for(var y=c.root,b=c.root.next;b!==null;){if(v(b)){g.prev=b.prev,g.next=b,b.prev.next=g,b.prev=g;return}y=b,b=b.next}y.next=g,g.prev=y,g.next=null},findTransition:function(g){for(var v=c.root,y=c.root.next;y!==null&&!g(y);)v=y,y=y.next;return{before:v===c.root?null:v,after:y,insert:function(b){return b.prev=v,b.next=y,v.next=b,y!==null&&(y.prev=b),b}}}};return c},node:function(c){return c.prev=null,c.next=null,c.remove=function(){c.prev.next=c.next,c.next&&(c.next.prev=c.prev),c.prev=null,c.next=null},c}};f.exports=h},1328:function(f){function h(c,g,v){var y=[],b=[];return c.forEach(function(O){var C=O.start,k=O.end;if(g.pointsSame(C,k)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}v&&v.chainStart(O);var w={index:0,matches_head:!1,matches_pt1:!1},T={index:0,matches_head:!1,matches_pt1:!1},R=w;function M(de,ee,xe){return R.index=de,R.matches_head=ee,R.matches_pt1=xe,R===w?(R=T,!1):(R=null,!0)}for(var I=0;I<y.length;I++){var V=y[I],N=V[0];V[1];var Q=V[V.length-1];if(V[V.length-2],g.pointsSame(N,C)){if(M(I,!0,!0))break}else if(g.pointsSame(N,k)){if(M(I,!0,!1))break}else if(g.pointsSame(Q,C)){if(M(I,!1,!0))break}else if(g.pointsSame(Q,k)&&M(I,!1,!1))break}if(R===w){y.push([C,k]),v&&v.chainNew(C,k);return}if(R===T){v&&v.chainMatch(w.index);var z=w.index,U=w.matches_pt1?k:C,F=w.matches_head,V=y[z],B=F?V[0]:V[V.length-1],E=F?V[1]:V[V.length-2],W=F?V[V.length-1]:V[0],X=F?V[V.length-2]:V[1];if(g.pointsCollinear(E,B,U)&&(F?(v&&v.chainRemoveHead(w.index,U),V.shift()):(v&&v.chainRemoveTail(w.index,U),V.pop()),B=E),g.pointsSame(W,U)){y.splice(z,1),g.pointsCollinear(X,W,B)&&(F?(v&&v.chainRemoveTail(w.index,B),V.pop()):(v&&v.chainRemoveHead(w.index,B),V.shift())),v&&v.chainClose(w.index),b.push(V);return}F?(v&&v.chainAddHead(w.index,U),V.unshift(U)):(v&&v.chainAddTail(w.index,U),V.push(U));return}function ie(de){v&&v.chainReverse(de),y[de].reverse()}function L(de,ee){var xe=y[de],we=y[ee],Be=xe[xe.length-1],pe=xe[xe.length-2],ne=we[0],le=we[1];g.pointsCollinear(pe,Be,ne)&&(v&&v.chainRemoveTail(de,Be),xe.pop(),Be=pe),g.pointsCollinear(Be,ne,le)&&(v&&v.chainRemoveHead(ee,ne),we.shift()),v&&v.chainJoin(de,ee),y[de]=xe.concat(we),y.splice(ee,1)}var me=w.index,ae=T.index;v&&v.chainConnect(me,ae);var q=y[me].length<y[ae].length;w.matches_head?T.matches_head?q?(ie(me),L(me,ae)):(ie(ae),L(ae,me)):L(ae,me):T.matches_head?L(me,ae):q?(ie(me),L(ae,me)):(ie(ae),L(me,ae))}),b}f.exports=h},5968:function(f){function h(g,v,y){var b=[];return g.forEach(function(O){var C=(O.myFill.above?8:0)+(O.myFill.below?4:0)+(O.otherFill&&O.otherFill.above?2:0)+(O.otherFill&&O.otherFill.below?1:0);v[C]!==0&&b.push({id:y?y.segmentId():-1,start:O.start,end:O.end,myFill:{above:v[C]===1,below:v[C]===2},otherFill:null})}),y&&y.selected(b),b}var c={union:function(g,v){return h(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],v)},intersect:function(g,v){return h(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],v)},difference:function(g,v){return h(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],v)},differenceRev:function(g,v){return h(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],v)},xor:function(g,v){return h(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],v)}};f.exports=c},4267:function(f,h,c){var g;(function(v){var y=/^\s+/,b=/\s+$/,O=0,C=v.round,k=v.min,w=v.max,T=v.random;function R(oe,Se){if(oe=oe||"",Se=Se||{},oe instanceof R)return oe;if(!(this instanceof R))return new R(oe,Se);var ce=M(oe);this._originalInput=oe,this._r=ce.r,this._g=ce.g,this._b=ce.b,this._a=ce.a,this._roundA=C(100*this._a)/100,this._format=Se.format||ce.format,this._gradientType=Se.gradientType,this._r<1&&(this._r=C(this._r)),this._g<1&&(this._g=C(this._g)),this._b<1&&(this._b=C(this._b)),this._ok=ce.ok,this._tc_id=O++}R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var oe=this.toRgb();return(oe.r*299+oe.g*587+oe.b*114)/1e3},getLuminance:function(){var oe=this.toRgb(),Se,ce,ke,Qe,Ze,Xe;return Se=oe.r/255,ce=oe.g/255,ke=oe.b/255,Se<=.03928?Qe=Se/12.92:Qe=v.pow((Se+.055)/1.055,2.4),ce<=.03928?Ze=ce/12.92:Ze=v.pow((ce+.055)/1.055,2.4),ke<=.03928?Xe=ke/12.92:Xe=v.pow((ke+.055)/1.055,2.4),.2126*Qe+.7152*Ze+.0722*Xe},setAlpha:function(oe){return this._a=Y(oe),this._roundA=C(100*this._a)/100,this},toHsv:function(){var oe=Q(this._r,this._g,this._b);return{h:oe.h*360,s:oe.s,v:oe.v,a:this._a}},toHsvString:function(){var oe=Q(this._r,this._g,this._b),Se=C(oe.h*360),ce=C(oe.s*100),ke=C(oe.v*100);return this._a==1?"hsv("+Se+", "+ce+"%, "+ke+"%)":"hsva("+Se+", "+ce+"%, "+ke+"%, "+this._roundA+")"},toHsl:function(){var oe=V(this._r,this._g,this._b);return{h:oe.h*360,s:oe.s,l:oe.l,a:this._a}},toHslString:function(){var oe=V(this._r,this._g,this._b),Se=C(oe.h*360),ce=C(oe.s*100),ke=C(oe.l*100);return this._a==1?"hsl("+Se+", "+ce+"%, "+ke+"%)":"hsla("+Se+", "+ce+"%, "+ke+"%, "+this._roundA+")"},toHex:function(oe){return U(this._r,this._g,this._b,oe)},toHexString:function(oe){return"#"+this.toHex(oe)},toHex8:function(oe){return F(this._r,this._g,this._b,this._a,oe)},toHex8String:function(oe){return"#"+this.toHex8(oe)},toRgb:function(){return{r:C(this._r),g:C(this._g),b:C(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+C(this._r)+", "+C(this._g)+", "+C(this._b)+")":"rgba("+C(this._r)+", "+C(this._g)+", "+C(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:C(ve(this._r,255)*100)+"%",g:C(ve(this._g,255)*100)+"%",b:C(ve(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+C(ve(this._r,255)*100)+"%, "+C(ve(this._g,255)*100)+"%, "+C(ve(this._b,255)*100)+"%)":"rgba("+C(ve(this._r,255)*100)+"%, "+C(ve(this._g,255)*100)+"%, "+C(ve(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ne[U(this._r,this._g,this._b,!0)]||!1},toFilter:function(oe){var Se="#"+B(this._r,this._g,this._b,this._a),ce=Se,ke=this._gradientType?"GradientType = 1, ":"";if(oe){var Qe=R(oe);ce="#"+B(Qe._r,Qe._g,Qe._b,Qe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ke+"startColorstr="+Se+",endColorstr="+ce+")"},toString:function(oe){var Se=!!oe;oe=oe||this._format;var ce=!1,ke=this._a<1&&this._a>=0,Qe=!Se&&ke&&(oe==="hex"||oe==="hex6"||oe==="hex3"||oe==="hex4"||oe==="hex8"||oe==="name");return Qe?oe==="name"&&this._a===0?this.toName():this.toRgbString():(oe==="rgb"&&(ce=this.toRgbString()),oe==="prgb"&&(ce=this.toPercentageRgbString()),(oe==="hex"||oe==="hex6")&&(ce=this.toHexString()),oe==="hex3"&&(ce=this.toHexString(!0)),oe==="hex4"&&(ce=this.toHex8String(!0)),oe==="hex8"&&(ce=this.toHex8String()),oe==="name"&&(ce=this.toName()),oe==="hsl"&&(ce=this.toHslString()),oe==="hsv"&&(ce=this.toHsvString()),ce||this.toHexString())},clone:function(){return R(this.toString())},_applyModification:function(oe,Se){var ce=oe.apply(null,[this].concat([].slice.call(Se)));return this._r=ce._r,this._g=ce._g,this._b=ce._b,this.setAlpha(ce._a),this},lighten:function(){return this._applyModification(ie,arguments)},brighten:function(){return this._applyModification(L,arguments)},darken:function(){return this._applyModification(me,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(W,arguments)},greyscale:function(){return this._applyModification(X,arguments)},spin:function(){return this._applyModification(ae,arguments)},_applyCombination:function(oe,Se){return oe.apply(null,[this].concat([].slice.call(Se)))},analogous:function(){return this._applyCombination(we,arguments)},complement:function(){return this._applyCombination(q,arguments)},monochromatic:function(){return this._applyCombination(Be,arguments)},splitcomplement:function(){return this._applyCombination(xe,arguments)},triad:function(){return this._applyCombination(de,arguments)},tetrad:function(){return this._applyCombination(ee,arguments)}},R.fromRatio=function(oe,Se){if(typeof oe=="object"){var ce={};for(var ke in oe)oe.hasOwnProperty(ke)&&(ke==="a"?ce[ke]=oe[ke]:ce[ke]=_e(oe[ke]));oe=ce}return R(oe,Se)};function M(oe){var Se={r:0,g:0,b:0},ce=1,ke=null,Qe=null,Ze=null,Xe=!1,ct=!1;return typeof oe=="string"&&(oe=se(oe)),typeof oe=="object"&&(te(oe.r)&&te(oe.g)&&te(oe.b)?(Se=I(oe.r,oe.g,oe.b),Xe=!0,ct=String(oe.r).substr(-1)==="%"?"prgb":"rgb"):te(oe.h)&&te(oe.s)&&te(oe.v)?(ke=_e(oe.s),Qe=_e(oe.v),Se=z(oe.h,ke,Qe),Xe=!0,ct="hsv"):te(oe.h)&&te(oe.s)&&te(oe.l)&&(ke=_e(oe.s),Ze=_e(oe.l),Se=N(oe.h,ke,Ze),Xe=!0,ct="hsl"),oe.hasOwnProperty("a")&&(ce=oe.a)),ce=Y(ce),{ok:Xe,format:oe.format||ct,r:k(255,w(Se.r,0)),g:k(255,w(Se.g,0)),b:k(255,w(Se.b,0)),a:ce}}function I(oe,Se,ce){return{r:ve(oe,255)*255,g:ve(Se,255)*255,b:ve(ce,255)*255}}function V(oe,Se,ce){oe=ve(oe,255),Se=ve(Se,255),ce=ve(ce,255);var ke=w(oe,Se,ce),Qe=k(oe,Se,ce),Ze,Xe,ct=(ke+Qe)/2;if(ke==Qe)Ze=Xe=0;else{var pt=ke-Qe;switch(Xe=ct>.5?pt/(2-ke-Qe):pt/(ke+Qe),ke){case oe:Ze=(Se-ce)/pt+(Se<ce?6:0);break;case Se:Ze=(ce-oe)/pt+2;break;case ce:Ze=(oe-Se)/pt+4;break}Ze/=6}return{h:Ze,s:Xe,l:ct}}function N(oe,Se,ce){var ke,Qe,Ze;oe=ve(oe,360),Se=ve(Se,100),ce=ve(ce,100);function Xe(Ye,je,et){return et<0&&(et+=1),et>1&&(et-=1),et<.16666666666666666?Ye+(je-Ye)*6*et:et<.5?je:et<.6666666666666666?Ye+(je-Ye)*(.6666666666666666-et)*6:Ye}if(Se===0)ke=Qe=Ze=ce;else{var ct=ce<.5?ce*(1+Se):ce+Se-ce*Se,pt=2*ce-ct;ke=Xe(pt,ct,oe+.3333333333333333),Qe=Xe(pt,ct,oe),Ze=Xe(pt,ct,oe-.3333333333333333)}return{r:ke*255,g:Qe*255,b:Ze*255}}function Q(oe,Se,ce){oe=ve(oe,255),Se=ve(Se,255),ce=ve(ce,255);var ke=w(oe,Se,ce),Qe=k(oe,Se,ce),Ze,Xe,ct=ke,pt=ke-Qe;if(Xe=ke===0?0:pt/ke,ke==Qe)Ze=0;else{switch(ke){case oe:Ze=(Se-ce)/pt+(Se<ce?6:0);break;case Se:Ze=(ce-oe)/pt+2;break;case ce:Ze=(oe-Se)/pt+4;break}Ze/=6}return{h:Ze,s:Xe,v:ct}}function z(oe,Se,ce){oe=ve(oe,360)*6,Se=ve(Se,100),ce=ve(ce,100);var ke=v.floor(oe),Qe=oe-ke,Ze=ce*(1-Se),Xe=ce*(1-Qe*Se),ct=ce*(1-(1-Qe)*Se),pt=ke%6,Ye=[ce,Xe,Ze,Ze,ct,ce][pt],je=[ct,ce,ce,Xe,Ze,Ze][pt],et=[Ze,Ze,ct,ce,ce,Xe][pt];return{r:Ye*255,g:je*255,b:et*255}}function U(oe,Se,ce,ke){var Qe=[Ve(C(oe).toString(16)),Ve(C(Se).toString(16)),Ve(C(ce).toString(16))];return ke&&Qe[0].charAt(0)==Qe[0].charAt(1)&&Qe[1].charAt(0)==Qe[1].charAt(1)&&Qe[2].charAt(0)==Qe[2].charAt(1)?Qe[0].charAt(0)+Qe[1].charAt(0)+Qe[2].charAt(0):Qe.join("")}function F(oe,Se,ce,ke,Qe){var Ze=[Ve(C(oe).toString(16)),Ve(C(Se).toString(16)),Ve(C(ce).toString(16)),Ve(Ie(ke))];return Qe&&Ze[0].charAt(0)==Ze[0].charAt(1)&&Ze[1].charAt(0)==Ze[1].charAt(1)&&Ze[2].charAt(0)==Ze[2].charAt(1)&&Ze[3].charAt(0)==Ze[3].charAt(1)?Ze[0].charAt(0)+Ze[1].charAt(0)+Ze[2].charAt(0)+Ze[3].charAt(0):Ze.join("")}function B(oe,Se,ce,ke){var Qe=[Ve(Ie(ke)),Ve(C(oe).toString(16)),Ve(C(Se).toString(16)),Ve(C(ce).toString(16))];return Qe.join("")}R.equals=function(oe,Se){return!oe||!Se?!1:R(oe).toRgbString()==R(Se).toRgbString()},R.random=function(){return R.fromRatio({r:T(),g:T(),b:T()})};function E(oe,Se){Se=Se===0?0:Se||10;var ce=R(oe).toHsl();return ce.s-=Se/100,ce.s=Oe(ce.s),R(ce)}function W(oe,Se){Se=Se===0?0:Se||10;var ce=R(oe).toHsl();return ce.s+=Se/100,ce.s=Oe(ce.s),R(ce)}function X(oe){return R(oe).desaturate(100)}function ie(oe,Se){Se=Se===0?0:Se||10;var ce=R(oe).toHsl();return ce.l+=Se/100,ce.l=Oe(ce.l),R(ce)}function L(oe,Se){Se=Se===0?0:Se||10;var ce=R(oe).toRgb();return ce.r=w(0,k(255,ce.r-C(255*-(Se/100)))),ce.g=w(0,k(255,ce.g-C(255*-(Se/100)))),ce.b=w(0,k(255,ce.b-C(255*-(Se/100)))),R(ce)}function me(oe,Se){Se=Se===0?0:Se||10;var ce=R(oe).toHsl();return ce.l-=Se/100,ce.l=Oe(ce.l),R(ce)}function ae(oe,Se){var ce=R(oe).toHsl(),ke=(ce.h+Se)%360;return ce.h=ke<0?360+ke:ke,R(ce)}function q(oe){var Se=R(oe).toHsl();return Se.h=(Se.h+180)%360,R(Se)}function de(oe){var Se=R(oe).toHsl(),ce=Se.h;return[R(oe),R({h:(ce+120)%360,s:Se.s,l:Se.l}),R({h:(ce+240)%360,s:Se.s,l:Se.l})]}function ee(oe){var Se=R(oe).toHsl(),ce=Se.h;return[R(oe),R({h:(ce+90)%360,s:Se.s,l:Se.l}),R({h:(ce+180)%360,s:Se.s,l:Se.l}),R({h:(ce+270)%360,s:Se.s,l:Se.l})]}function xe(oe){var Se=R(oe).toHsl(),ce=Se.h;return[R(oe),R({h:(ce+72)%360,s:Se.s,l:Se.l}),R({h:(ce+216)%360,s:Se.s,l:Se.l})]}function we(oe,Se,ce){Se=Se||6,ce=ce||30;var ke=R(oe).toHsl(),Qe=360/ce,Ze=[R(oe)];for(ke.h=(ke.h-(Qe*Se>>1)+720)%360;--Se;)ke.h=(ke.h+Qe)%360,Ze.push(R(ke));return Ze}function Be(oe,Se){Se=Se||6;for(var ce=R(oe).toHsv(),ke=ce.h,Qe=ce.s,Ze=ce.v,Xe=[],ct=1/Se;Se--;)Xe.push(R({h:ke,s:Qe,v:Ze})),Ze=(Ze+ct)%1;return Xe}R.mix=function(oe,Se,ce){ce=ce===0?0:ce||50;var ke=R(oe).toRgb(),Qe=R(Se).toRgb(),Ze=ce/100,Xe={r:(Qe.r-ke.r)*Ze+ke.r,g:(Qe.g-ke.g)*Ze+ke.g,b:(Qe.b-ke.b)*Ze+ke.b,a:(Qe.a-ke.a)*Ze+ke.a};return R(Xe)},R.readability=function(oe,Se){var ce=R(oe),ke=R(Se);return(v.max(ce.getLuminance(),ke.getLuminance())+.05)/(v.min(ce.getLuminance(),ke.getLuminance())+.05)},R.isReadable=function(oe,Se,ce){var ke=R.readability(oe,Se),Qe,Ze;switch(Ze=!1,Qe=fe(ce),Qe.level+Qe.size){case"AAsmall":case"AAAlarge":Ze=ke>=4.5;break;case"AAlarge":Ze=ke>=3;break;case"AAAsmall":Ze=ke>=7;break}return Ze},R.mostReadable=function(oe,Se,ce){var ke=null,Qe=0,Ze,Xe,ct,pt;ce=ce||{},Xe=ce.includeFallbackColors,ct=ce.level,pt=ce.size;for(var Ye=0;Ye<Se.length;Ye++)Ze=R.readability(oe,Se[Ye]),Ze>Qe&&(Qe=Ze,ke=R(Se[Ye]));return R.isReadable(oe,ke,{level:ct,size:pt})||!Xe?ke:(ce.includeFallbackColors=!1,R.mostReadable(oe,["#fff","#000"],ce))};var pe=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ne=R.hexNames=le(pe);function le(oe){var Se={};for(var ce in oe)oe.hasOwnProperty(ce)&&(Se[oe[ce]]=ce);return Se}function Y(oe){return oe=parseFloat(oe),(isNaN(oe)||oe<0||oe>1)&&(oe=1),oe}function ve(oe,Se){Ce(oe)&&(oe="100%");var ce=De(oe);return oe=k(Se,w(0,parseFloat(oe))),ce&&(oe=parseInt(oe*Se,10)/100),v.abs(oe-Se)<1e-6?1:oe%Se/parseFloat(Se)}function Oe(oe){return k(1,w(0,oe))}function Le(oe){return parseInt(oe,16)}function Ce(oe){return typeof oe=="string"&&oe.indexOf(".")!=-1&&parseFloat(oe)===1}function De(oe){return typeof oe=="string"&&oe.indexOf("%")!=-1}function Ve(oe){return oe.length==1?"0"+oe:""+oe}function _e(oe){return oe<=1&&(oe=oe*100+"%"),oe}function Ie(oe){return v.round(parseFloat(oe)*255).toString(16)}function re(oe){return Le(oe)/255}var be=function(){var oe="[-\\+]?\\d+%?",Se="[-\\+]?\\d*\\.\\d+%?",ce="(?:"+Se+")|(?:"+oe+")",ke="[\\s|\\(]+("+ce+")[,|\\s]+("+ce+")[,|\\s]+("+ce+")\\s*\\)?",Qe="[\\s|\\(]+("+ce+")[,|\\s]+("+ce+")[,|\\s]+("+ce+")[,|\\s]+("+ce+")\\s*\\)?";return{CSS_UNIT:new RegExp(ce),rgb:new RegExp("rgb"+ke),rgba:new RegExp("rgba"+Qe),hsl:new RegExp("hsl"+ke),hsla:new RegExp("hsla"+Qe),hsv:new RegExp("hsv"+ke),hsva:new RegExp("hsva"+Qe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function te(oe){return!!be.CSS_UNIT.exec(oe)}function se(oe){oe=oe.replace(y,"").replace(b,"").toLowerCase();var Se=!1;if(pe[oe])oe=pe[oe],Se=!0;else if(oe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ce;return(ce=be.rgb.exec(oe))?{r:ce[1],g:ce[2],b:ce[3]}:(ce=be.rgba.exec(oe))?{r:ce[1],g:ce[2],b:ce[3],a:ce[4]}:(ce=be.hsl.exec(oe))?{h:ce[1],s:ce[2],l:ce[3]}:(ce=be.hsla.exec(oe))?{h:ce[1],s:ce[2],l:ce[3],a:ce[4]}:(ce=be.hsv.exec(oe))?{h:ce[1],s:ce[2],v:ce[3]}:(ce=be.hsva.exec(oe))?{h:ce[1],s:ce[2],v:ce[3],a:ce[4]}:(ce=be.hex8.exec(oe))?{r:Le(ce[1]),g:Le(ce[2]),b:Le(ce[3]),a:re(ce[4]),format:Se?"name":"hex8"}:(ce=be.hex6.exec(oe))?{r:Le(ce[1]),g:Le(ce[2]),b:Le(ce[3]),format:Se?"name":"hex"}:(ce=be.hex4.exec(oe))?{r:Le(ce[1]+""+ce[1]),g:Le(ce[2]+""+ce[2]),b:Le(ce[3]+""+ce[3]),a:re(ce[4]+""+ce[4]),format:Se?"name":"hex8"}:(ce=be.hex3.exec(oe))?{r:Le(ce[1]+""+ce[1]),g:Le(ce[2]+""+ce[2]),b:Le(ce[3]+""+ce[3]),format:Se?"name":"hex"}:!1}function fe(oe){var Se,ce;return oe=oe||{level:"AA",size:"small"},Se=(oe.level||"AA").toUpperCase(),ce=(oe.size||"small").toLowerCase(),Se!=="AA"&&Se!=="AAA"&&(Se="AA"),ce!=="small"&&ce!=="large"&&(ce="small"),{level:Se,size:ce}}f.exports?f.exports=R:(g=(function(){return R}).call(h,c,h,f),g!==void 0&&(f.exports=g))})(Math)},3961:function(f,h,c){var g=c(3489),v=c(6131),y=g.instance();function b(V){this.local=this.regionalOptions[V||""]||this.regionalOptions[""]}b.prototype=new g.baseCalendar,v(b.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(V,N){if(typeof V=="string"){var Q=V.match(C);return Q?Q[0]:""}var z=this._validateYear(V),U=V.month(),F=""+this.toChineseMonth(z,U);return N&&F.length<2&&(F="0"+F),this.isIntercalaryMonth(z,U)&&(F+="i"),F},monthNames:function(V){if(typeof V=="string"){var N=V.match(k);return N?N[0]:""}var Q=this._validateYear(V),z=V.month(),U=this.toChineseMonth(Q,z),F=["","","","","","","","","","","",""][U-1];return this.isIntercalaryMonth(Q,z)&&(F=""+F),F},monthNamesShort:function(V){if(typeof V=="string"){var N=V.match(w);return N?N[0]:""}var Q=this._validateYear(V),z=V.month(),U=this.toChineseMonth(Q,z),F=["","","","","","","","","","","",""][U-1];return this.isIntercalaryMonth(Q,z)&&(F=""+F),F},parseMonth:function(V,N){V=this._validateYear(V);var Q=parseInt(N),z;if(isNaN(Q))N[0]===""&&(z=!0,N=N.substring(1)),N[N.length-1]===""&&(N=N.substring(0,N.length-1)),Q=1+["","","","","","","","","","","",""].indexOf(N);else{var U=N[N.length-1];z=U==="i"||U==="I"}var F=this.toMonthIndex(V,Q,z);return F},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(V,N){if(V.year&&(V=V.year()),typeof V!="number"||V<1888||V>2111)throw N.replace(/\{0\}/,this.local.name);return V},toMonthIndex:function(V,N,Q){var z=this.intercalaryMonth(V),U=Q&&N!==z;if(U||N<1||N>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var F;return z?!Q&&N<=z?F=N-1:F=N:F=N-1,F},toChineseMonth:function(V,N){V.year&&(V=V.year(),N=V.month());var Q=this.intercalaryMonth(V),z=Q?12:11;if(N<0||N>z)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var U;return Q?N<Q?U=N+1:U=N:U=N+1,U},intercalaryMonth:function(V){V=this._validateYear(V);var N=T[V-T[0]],Q=N>>13;return Q},isIntercalaryMonth:function(V,N){V.year&&(V=V.year(),N=V.month());var Q=this.intercalaryMonth(V);return!!Q&&Q===N},leapYear:function(V){return this.intercalaryMonth(V)!==0},weekOfYear:function(V,N,Q){var z=this._validateYear(V,g.local.invalidyear),U=R[z-R[0]],F=U>>9&4095,B=U>>5&15,E=U&31,W;W=y.newDate(F,B,E),W.add(4-(W.dayOfWeek()||7),"d");var X=this.toJD(V,N,Q)-W.toJD();return 1+Math.floor(X/7)},monthsInYear:function(V){return this.leapYear(V)?13:12},daysInMonth:function(V,N){V.year&&(N=V.month(),V=V.year()),V=this._validateYear(V);var Q=T[V-T[0]],z=Q>>13,U=z?12:11;if(N>U)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var F=Q&1<<12-N?30:29;return F},weekDay:function(V,N,Q){return(this.dayOfWeek(V,N,Q)||7)<6},toJD:function(V,N,Q){var z=this._validate(V,F,Q,g.local.invalidDate);V=this._validateYear(z.year()),N=z.month(),Q=z.day();var U=this.isIntercalaryMonth(V,N),F=this.toChineseMonth(V,N),B=I(V,F,Q,U);return y.toJD(B.year,B.month,B.day)},fromJD:function(V){var N=y.fromJD(V),Q=M(N.year(),N.month(),N.day()),z=this.toMonthIndex(Q.year,Q.month,Q.isIntercalary);return this.newDate(Q.year,z,Q.day)},fromString:function(V){var N=V.match(O),Q=this._validateYear(+N[1]),z=+N[2],U=!!N[3],F=this.toMonthIndex(Q,z,U),B=+N[4];return this.newDate(Q,F,B)},add:function(V,N,Q){var z=V.year(),U=V.month(),F=this.isIntercalaryMonth(z,U),B=this.toChineseMonth(z,U),E=Object.getPrototypeOf(b.prototype).add.call(this,V,N,Q);if(Q==="y"){var W=E.year(),X=E.month(),ie=this.isIntercalaryMonth(W,B),L=F&&ie?this.toMonthIndex(W,B,!0):this.toMonthIndex(W,B,!1);L!==X&&E.month(L)}return E}});var O=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,C=/^\d?\d[iI]?/m,k=/^??[]?/m,w=/^??[]?/m;g.calendars.chinese=b;var T=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],R=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function M(V,N,Q,z){var U,F;if(typeof V=="object")U=V,F=N||{};else{var B=typeof V=="number"&&V>=1888&&V<=2111;if(!B)throw new Error("Solar year outside range 1888-2111");var E=typeof N=="number"&&N>=1&&N<=12;if(!E)throw new Error("Solar month outside range 1 - 12");var W=typeof Q=="number"&&Q>=1&&Q<=31;if(!W)throw new Error("Solar day outside range 1 - 31");U={year:V,month:N,day:Q},F=z||{}}var X=R[U.year-R[0]],ie=U.year<<9|U.month<<5|U.day;F.year=ie>=X?U.year:U.year-1,X=R[F.year-R[0]];var L=X>>9&4095,me=X>>5&15,ae=X&31,q,de=new Date(L,me-1,ae),ee=new Date(U.year,U.month-1,U.day);q=Math.round((ee-de)/864e5);var xe=T[F.year-T[0]],we;for(we=0;we<13;we++){var Be=xe&1<<12-we?30:29;if(q<Be)break;q-=Be}var pe=xe>>13;return!pe||we<pe?(F.isIntercalary=!1,F.month=1+we):we===pe?(F.isIntercalary=!0,F.month=we):(F.isIntercalary=!1,F.month=we),F.day=1+q,F}function I(V,N,Q,z,U){var F,B;if(typeof V=="object")B=V,F=N||{};else{var E=typeof V=="number"&&V>=1888&&V<=2111;if(!E)throw new Error("Lunar year outside range 1888-2111");var W=typeof N=="number"&&N>=1&&N<=12;if(!W)throw new Error("Lunar month outside range 1 - 12");var X=typeof Q=="number"&&Q>=1&&Q<=30;if(!X)throw new Error("Lunar day outside range 1 - 30");var ie;typeof z=="object"?(ie=!1,F=z):(ie=!!z,F=U||{}),B={year:V,month:N,day:Q,isIntercalary:ie}}var L;L=B.day-1;var me=T[B.year-T[0]],ae=me>>13,q;ae&&(B.month>ae||B.isIntercalary)?q=B.month:q=B.month-1;for(var de=0;de<q;de++){var ee=me&1<<12-de?30:29;L+=ee}var xe=R[B.year-R[0]],we=xe>>9&4095,Be=xe>>5&15,pe=xe&31,ne=new Date(we,Be-1,pe+L);return F.year=ne.getFullYear(),F.month=1+ne.getMonth(),F.day=ne.getDate(),F}},8751:function(f,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var O=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear),C=O.year()+(O.year()<0?1:0);return C%4===3||C%4===-1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(b,O,C){var k=this.newDate(b,O,C);return k.add(-k.dayOfWeek(),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInMonth:function(b,O){var C=this._validate(b,O,this.minDay,g.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(C.month()===13&&this.leapYear(C.year())?1:0)},weekDay:function(b,O,C){return(this.dayOfWeek(b,O,C)||7)<6},toJD:function(b,O,C){var k=this._validate(b,O,C,g.local.invalidDate);return b=k.year(),b<0&&b++,k.day()+(k.month()-1)*30+(b-1)*365+Math.floor(b/4)+this.jdEpoch-1},fromJD:function(b){var O=Math.floor(b)+.5-this.jdEpoch,C=Math.floor((O-Math.floor((O+366)/1461))/365)+1;C<=0&&C--,O=Math.floor(b)+.5-this.newDate(C,1,1).toJD();var k=Math.floor(O/30)+1,w=O-(k-1)*30+1;return this.newDate(C,k,w)}}),g.calendars.coptic=y},6825:function(f,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(O){return this._validate(O,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(O){return this._validate(O,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(O){return this._validate(O,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(O,C,k){var w=this.newDate(O,C,k);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/8)+1},daysInMonth:function(O,C){var k=this._validate(O,C,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(O,C,k){var w=this._validate(O,C,k,g.local.invalidDate);return(w.day()+1)%8},weekDay:function(O,C,k){var w=this.dayOfWeek(O,C,k);return w>=2&&w<=6},extraInfo:function(O,C,k){var w=this._validate(O,C,k,g.local.invalidDate);return{century:b[Math.floor((w.year()-1)/100)+1]||""}},toJD:function(O,C,k){var w=this._validate(O,C,k,g.local.invalidDate);return O=w.year()+(w.year()<0?1:0),C=w.month(),k=w.day(),k+(C>1?16:0)+(C>2?(C-2)*32:0)+(O-1)*400+this.jdEpoch-1},fromJD:function(O){O=Math.floor(O+.5)-Math.floor(this.jdEpoch)-1;var C=Math.floor(O/400)+1;O-=(C-1)*400,O+=O>15?16:0;var k=Math.floor(O/32)+1,w=O-(k-1)*32+1;return this.newDate(C<=0?C-1:C,k,w)}});var b={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=y},7715:function(f,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var O=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear),C=O.year()+(O.year()<0?1:0);return C%4===3||C%4===-1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(b,O,C){var k=this.newDate(b,O,C);return k.add(-k.dayOfWeek(),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInMonth:function(b,O){var C=this._validate(b,O,this.minDay,g.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(C.month()===13&&this.leapYear(C.year())?1:0)},weekDay:function(b,O,C){return(this.dayOfWeek(b,O,C)||7)<6},toJD:function(b,O,C){var k=this._validate(b,O,C,g.local.invalidDate);return b=k.year(),b<0&&b++,k.day()+(k.month()-1)*30+(b-1)*365+Math.floor(b/4)+this.jdEpoch-1},fromJD:function(b){var O=Math.floor(b)+.5-this.jdEpoch,C=Math.floor((O-Math.floor((O+366)/1461))/365)+1;C<=0&&C--,O=Math.floor(b)+.5-this.newDate(C,1,1).toJD();var k=Math.floor(O/30)+1,w=O-(k-1)*30+1;return this.newDate(C,k,w)}}),g.calendars.ethiopian=y},9384:function(f,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(O){var C=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(C.year())},_leapYear:function(O){return O=O<0?O+1:O,b(O*7+1,19)<7},monthsInYear:function(O){return this._validate(O,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(O.year?O.year():O)?13:12},weekOfYear:function(O,C,k){var w=this.newDate(O,C,k);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInYear:function(O){var C=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear);return O=C.year(),this.toJD(O===-1?1:O+1,7,1)-this.toJD(O,7,1)},daysInMonth:function(O,C){return O.year&&(C=O.month(),O=O.year()),this._validate(O,C,this.minDay,g.local.invalidMonth),C===12&&this.leapYear(O)||C===8&&b(this.daysInYear(O),10)===5?30:C===9&&b(this.daysInYear(O),10)===3?29:this.daysPerMonth[C-1]},weekDay:function(O,C,k){return this.dayOfWeek(O,C,k)!==6},extraInfo:function(O,C,k){var w=this._validate(O,C,k,g.local.invalidDate);return{yearType:(this.leapYear(w)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(w)%10-3]}},toJD:function(O,C,k){var w=this._validate(O,C,k,g.local.invalidDate);O=w.year(),C=w.month(),k=w.day();var T=O<=0?O+1:O,R=this.jdEpoch+this._delay1(T)+this._delay2(T)+k+1;if(C<7){for(var M=7;M<=this.monthsInYear(O);M++)R+=this.daysInMonth(O,M);for(var M=1;M<C;M++)R+=this.daysInMonth(O,M)}else for(var M=7;M<C;M++)R+=this.daysInMonth(O,M);return R},_delay1:function(O){var C=Math.floor((235*O-234)/19),k=12084+13753*C,w=C*29+Math.floor(k/25920);return b(3*(w+1),7)<3&&w++,w},_delay2:function(O){var C=this._delay1(O-1),k=this._delay1(O),w=this._delay1(O+1);return w-k===356?2:k-C===382?1:0},fromJD:function(O){O=Math.floor(O)+.5;for(var C=Math.floor((O-this.jdEpoch)*98496/35975351)-1;O>=this.toJD(C===-1?1:C+1,7,1);)C++;for(var k=O<this.toJD(C,1,1)?7:1;O>this.toJD(C,k,this.daysInMonth(C,k));)k++;var w=O-this.toJD(C,k,1)+1;return this.newDate(C,k,w)}});function b(O,C){return O-C*Math.floor(O/C)}g.calendars.hebrew=y},3805:function(f,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var O=this._validate(b,this.minMonth,this.minDay,g.local.invalidYear);return(O.year()*11+14)%30<11},weekOfYear:function(b,O,C){var k=this.newDate(b,O,C);return k.add(-k.dayOfWeek(),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInYear:function(b){return this.leapYear(b)?355:354},daysInMonth:function(b,O){var C=this._validate(b,O,this.minDay,g.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(C.month()===12&&this.leapYear(C.year())?1:0)},weekDay:function(b,O,C){return this.dayOfWeek(b,O,C)!==5},toJD:function(b,O,C){var k=this._validate(b,O,C,g.local.invalidDate);return b=k.year(),O=k.month(),C=k.day(),b=b<=0?b+1:b,C+Math.ceil(29.5*(O-1))+(b-1)*354+Math.floor((3+11*b)/30)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b)+.5;var O=Math.floor((30*(b-this.jdEpoch)+10646)/10631);O=O<=0?O-1:O;var C=Math.min(12,Math.ceil((b-29-this.toJD(O,1,1))/29.5)+1),k=b-this.toJD(O,C,1)+1;return this.newDate(O,C,k)}}),g.calendars.islamic=y},8874:function(f,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var O=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear),C=O.year()<0?O.year()+1:O.year();return C%4===0},weekOfYear:function(b,O,C){var k=this.newDate(b,O,C);return k.add(4-(k.dayOfWeek()||7),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInMonth:function(b,O){var C=this._validate(b,O,this.minDay,g.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(C.month()===2&&this.leapYear(C.year())?1:0)},weekDay:function(b,O,C){return(this.dayOfWeek(b,O,C)||7)<6},toJD:function(b,O,C){var k=this._validate(b,O,C,g.local.invalidDate);return b=k.year(),O=k.month(),C=k.day(),b<0&&b++,O<=2&&(b--,O+=12),Math.floor(365.25*(b+4716))+Math.floor(30.6001*(O+1))+C-1524.5},fromJD:function(b){var O=Math.floor(b+.5),C=O+1524,k=Math.floor((C-122.1)/365.25),w=Math.floor(365.25*k),T=Math.floor((C-w)/30.6001),R=T-Math.floor(T<14?1:13),M=k-Math.floor(R>2?4716:4715),I=C-w-Math.floor(30.6001*T);return M<=0&&M--,this.newDate(M,R,I)}}),g.calendars.julian=y},3290:function(f,h,c){var g=c(3489),v=c(6131);function y(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(C){var k=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);C=k.year();var w=Math.floor(C/400);C=C%400,C+=C<0?400:0;var T=Math.floor(C/20);return w+"."+T+"."+C%20},forYear:function(C){if(C=C.split("."),C.length<3)throw"Invalid Mayan year";for(var k=0,w=0;w<C.length;w++){var T=parseInt(C[w],10);if(Math.abs(T)>19||w>0&&T<0)throw"Invalid Mayan year";k=k*20+T}return k},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(C,k,w){return this._validate(C,k,w,g.local.invalidDate),0},daysInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(C,k){return this._validate(C,k,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(C,k,w){var T=this._validate(C,k,w,g.local.invalidDate);return T.day()},weekDay:function(C,k,w){return this._validate(C,k,w,g.local.invalidDate),!0},extraInfo:function(C,k,w){var T=this._validate(C,k,w,g.local.invalidDate),R=T.toJD(),M=this._toHaab(R),I=this._toTzolkin(R);return{haabMonthName:this.local.haabMonths[M[0]-1],haabMonth:M[0],haabDay:M[1],tzolkinDayName:this.local.tzolkinMonths[I[0]-1],tzolkinDay:I[0],tzolkinTrecena:I[1]}},_toHaab:function(C){C-=this.jdEpoch;var k=b(C+8+(18-1)*20,365);return[Math.floor(k/20)+1,b(k,20)]},_toTzolkin:function(C){return C-=this.jdEpoch,[O(C+20,20),O(C+4,13)]},toJD:function(C,k,w){var T=this._validate(C,k,w,g.local.invalidDate);return T.day()+T.month()*20+T.year()*360+this.jdEpoch},fromJD:function(C){C=Math.floor(C)+.5-this.jdEpoch;var k=Math.floor(C/360);C=C%360,C+=C<0?360:0;var w=Math.floor(C/20),T=C%20;return this.newDate(k,w,T)}});function b(C,k){return C-k*Math.floor(C/k)}function O(C,k){return b(C-1,k)+1}g.calendars.mayan=y},9108:function(f,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar;var b=g.instance("gregorian");v(y.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(O){var C=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return b.leapYear(C.year()+(C.year()<1?1:0)+1469)},weekOfYear:function(O,C,k){var w=this.newDate(O,C,k);return w.add(1-(w.dayOfWeek()||7),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(O,C){var k=this._validate(O,C,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===12&&this.leapYear(k.year())?1:0)},weekDay:function(O,C,k){return(this.dayOfWeek(O,C,k)||7)<6},toJD:function(T,C,k){var w=this._validate(T,C,k,g.local.invalidMonth),T=w.year();T<0&&T++;for(var R=w.day(),M=1;M<w.month();M++)R+=this.daysPerMonth[M-1];return R+b.toJD(T+1468,3,13)},fromJD:function(O){O=Math.floor(O+.5);for(var C=Math.floor((O-(this.jdEpoch-1))/366);O>=this.toJD(C+1,1,1);)C++;for(var k=O-Math.floor(this.toJD(C,1,1)+.5)+1,w=1;k>this.daysInMonth(C,w);)k-=this.daysInMonth(C,w),w++;return this.newDate(C,w,k)}}),g.calendars.nanakshahi=y},5422:function(f,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(b){return this.daysInYear(b)!==this.daysPerYear},weekOfYear:function(b,O,C){var k=this.newDate(b,O,C);return k.add(-k.dayOfWeek(),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInYear:function(b){var O=this._validate(b,this.minMonth,this.minDay,g.local.invalidYear);if(b=O.year(),typeof this.NEPALI_CALENDAR_DATA[b]>"u")return this.daysPerYear;for(var C=0,k=this.minMonth;k<=12;k++)C+=this.NEPALI_CALENDAR_DATA[b][k];return C},daysInMonth:function(b,O){return b.year&&(O=b.month(),b=b.year()),this._validate(b,O,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[b]>"u"?this.daysPerMonth[O-1]:this.NEPALI_CALENDAR_DATA[b][O]},weekDay:function(b,O,C){return this.dayOfWeek(b,O,C)!==6},toJD:function(b,O,C){var k=this._validate(b,O,C,g.local.invalidDate);b=k.year(),O=k.month(),C=k.day();var w=g.instance(),T=0,R=O,M=b;this._createMissingCalendarData(b);var I=b-(R>9||R===9&&C>=this.NEPALI_CALENDAR_DATA[M][0]?56:57);for(O!==9&&(T=C,R--);R!==9;)R<=0&&(R=12,M--),T+=this.NEPALI_CALENDAR_DATA[M][R],R--;return O===9?(T+=C-this.NEPALI_CALENDAR_DATA[M][0],T<0&&(T+=w.daysInYear(I))):T+=this.NEPALI_CALENDAR_DATA[M][9]-this.NEPALI_CALENDAR_DATA[M][0],w.newDate(I,1,1).add(T,"d").toJD()},fromJD:function(b){var O=g.instance(),C=O.fromJD(b),k=C.year(),w=C.dayOfYear(),T=k+56;this._createMissingCalendarData(T);for(var R=9,M=this.NEPALI_CALENDAR_DATA[T][0],I=this.NEPALI_CALENDAR_DATA[T][R]-M+1;w>I;)R++,R>12&&(R=1,T++),I+=this.NEPALI_CALENDAR_DATA[T][R];var V=this.NEPALI_CALENDAR_DATA[T][R]-(I-w);return this.newDate(T,R,V)},_createMissingCalendarData:function(b){var O=this.daysPerMonth.slice(0);O.unshift(17);for(var C=b-1;C<b+2;C++)typeof this.NEPALI_CALENDAR_DATA[C]>"u"&&(this.NEPALI_CALENDAR_DATA[C]=O)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=y},4320:function(f,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(O){var C=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear);return((C.year()-(C.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(O,C,k){var w=this.newDate(O,C,k);return w.add(-((w.dayOfWeek()+1)%7),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(O,C){var k=this._validate(O,C,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===12&&this.leapYear(k.year())?1:0)},weekDay:function(O,C,k){return this.dayOfWeek(O,C,k)!==5},toJD:function(O,C,k){var w=this._validate(O,C,k,g.local.invalidDate);O=w.year(),C=w.month(),k=w.day();var T=O-(O>=0?474:473),R=474+b(T,2820);return k+(C<=7?(C-1)*31:(C-1)*30+6)+Math.floor((R*682-110)/2816)+(R-1)*365+Math.floor(T/2820)*1029983+this.jdEpoch-1},fromJD:function(O){O=Math.floor(O)+.5;var C=O-this.toJD(475,1,1),k=Math.floor(C/1029983),w=b(C,1029983),T=2820;if(w!==1029982){var R=Math.floor(w/366),M=b(w,366);T=Math.floor((2134*R+2816*M+2815)/1028522)+R+1}var I=T+2820*k+474;I=I<=0?I-1:I;var V=O-this.toJD(I,1,1)+1,N=V<=186?Math.ceil(V/31):Math.ceil((V-6)/30),Q=O-this.toJD(I,N,1)+1;return this.newDate(I,N,Q)}});function b(O,C){return O-C*Math.floor(O/C)}g.calendars.persian=y,g.calendars.jalali=y},1320:function(f,h,c){var g=c(3489),v=c(6131),y=g.instance();function b(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}b.prototype=new g.baseCalendar,v(b.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(k){var C=this._validate(k,this.minMonth,this.minDay,g.local.invalidYear),k=this._t2gYear(C.year());return y.leapYear(k)},weekOfYear:function(T,C,k){var w=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),T=this._t2gYear(w.year());return y.weekOfYear(T,w.month(),w.day())},daysInMonth:function(O,C){var k=this._validate(O,C,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===2&&this.leapYear(k.year())?1:0)},weekDay:function(O,C,k){return(this.dayOfWeek(O,C,k)||7)<6},toJD:function(T,C,k){var w=this._validate(T,C,k,g.local.invalidDate),T=this._t2gYear(w.year());return y.toJD(T,w.month(),w.day())},fromJD:function(O){var C=y.fromJD(O),k=this._g2tYear(C.year());return this.newDate(k,C.month(),C.day())},_t2gYear:function(O){return O+this.yearsOffset+(O>=-this.yearsOffset&&O<=-1?1:0)},_g2tYear:function(O){return O-this.yearsOffset-(O>=1&&O<=this.yearsOffset?1:0)}}),g.calendars.taiwan=b},1367:function(f,h,c){var g=c(3489),v=c(6131),y=g.instance();function b(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}b.prototype=new g.baseCalendar,v(b.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var C=this._validate(k,this.minMonth,this.minDay,g.local.invalidYear),k=this._t2gYear(C.year());return y.leapYear(k)},weekOfYear:function(T,C,k){var w=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),T=this._t2gYear(w.year());return y.weekOfYear(T,w.month(),w.day())},daysInMonth:function(O,C){var k=this._validate(O,C,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===2&&this.leapYear(k.year())?1:0)},weekDay:function(O,C,k){return(this.dayOfWeek(O,C,k)||7)<6},toJD:function(T,C,k){var w=this._validate(T,C,k,g.local.invalidDate),T=this._t2gYear(w.year());return y.toJD(T,w.month(),w.day())},fromJD:function(O){var C=y.fromJD(O),k=this._g2tYear(C.year());return this.newDate(k,C.month(),C.day())},_t2gYear:function(O){return O-this.yearsOffset-(O>=1&&O<=this.yearsOffset?1:0)},_g2tYear:function(O){return O+this.yearsOffset+(O>=-this.yearsOffset&&O<=-1?1:0)}}),g.calendars.thai=b},1457:function(f,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(O){var C=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(C.year())===355},weekOfYear:function(O,C,k){var w=this.newDate(O,C,k);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInYear:function(O){for(var C=0,k=1;k<=12;k++)C+=this.daysInMonth(O,k);return C},daysInMonth:function(O,C){for(var k=this._validate(O,C,this.minDay,g.local.invalidMonth),w=k.toJD()-24e5+.5,T=0,R=0;R<b.length;R++){if(b[R]>w)return b[T]-b[T-1];T++}return 30},weekDay:function(O,C,k){return this.dayOfWeek(O,C,k)!==5},toJD:function(O,C,k){var w=this._validate(O,C,k,g.local.invalidDate),T=12*(w.year()-1)+w.month()-15292,R=w.day()+b[T-1]-1;return R+24e5-.5},fromJD:function(O){for(var C=O-24e5+.5,k=0,w=0;w<b.length&&!(b[w]>C);w++)k++;var T=k+15292,R=Math.floor((T-1)/12),M=R+1,I=T-12*R,V=C-b[k-1]+1;return this.newDate(M,I,V)},isValid:function(O,C,k){var w=g.baseCalendar.prototype.isValid.apply(this,arguments);return w&&(O=O.year!=null?O.year:O,w=O>=1276&&O<=1500),w},_validate:function(O,C,k,w){var T=g.baseCalendar.prototype._validate.apply(this,arguments);if(T.year<1276||T.year>1500)throw w.replace(/\{0\}/,this.local.name);return T}}),g.calendars.ummalqura=y;var b=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(f,h,c){var g=c(6131);function v(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(v.prototype,{instance:function(w,T){w=(w||"gregorian").toLowerCase(),T=T||"";var R=this._localCals[w+"-"+T];if(!R&&this.calendars[w]&&(R=new this.calendars[w](T),this._localCals[w+"-"+T]=R),!R)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,w);return R},newDate:function(w,T,R,M,I){return M=(w!=null&&w.year?w.calendar():typeof M=="string"?this.instance(M,I):M)||this.instance(),M.newDate(w,T,R)},substituteDigits:function(w){return function(T){return(T+"").replace(/[0-9]/g,function(R){return w[R]})}},substituteChineseDigits:function(w,T){return function(R){for(var M="",I=0;R>0;){var V=R%10;M=(V===0?"":w[V]+T[I])+M,I++,R=Math.floor(R/10)}return M.indexOf(w[1]+T[1])===0&&(M=M.substr(1)),M||w[0]}}});function y(w,T,R,M){if(this._calendar=w,this._year=T,this._month=R,this._day=M,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(k.local.invalidDate||k.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function b(w,T){return w=""+w,"000000".substring(0,T-w.length)+w}g(y.prototype,{newDate:function(w,T,R){return this._calendar.newDate(w??this,T,R)},year:function(w){return arguments.length===0?this._year:this.set(w,"y")},month:function(w){return arguments.length===0?this._month:this.set(w,"m")},day:function(w){return arguments.length===0?this._day:this.set(w,"d")},date:function(w,T,R){if(!this._calendar.isValid(w,T,R))throw(k.local.invalidDate||k.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=w,this._month=T,this._day=R,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(w,T){return this._calendar.add(this,w,T)},set:function(w,T){return this._calendar.set(this,w,T)},compareTo:function(w){if(this._calendar.name!==w._calendar.name)throw(k.local.differentCalendars||k.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,w._calendar.local.name);var T=this._year!==w._year?this._year-w._year:this._month!==w._month?this.monthOfYear()-w.monthOfYear():this._day-w._day;return T===0?0:T<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(w){return this._calendar.fromJD(w)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(w){return this._calendar.fromJSDate(w)},toString:function(){return(this.year()<0?"-":"")+b(Math.abs(this.year()),4)+"-"+b(this.month(),2)+"-"+b(this.day(),2)}});function O(){this.shortYearCutoff="+10"}g(O.prototype,{_validateLevel:0,newDate:function(w,T,R){return w==null?this.today():(w.year&&(this._validate(w,T,R,k.local.invalidDate||k.regionalOptions[""].invalidDate),R=w.day(),T=w.month(),w=w.year()),new y(this,w,T,R))},today:function(){return this.fromJSDate(new Date)},epoch:function(w){var T=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear);return T.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(w){var T=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear);return(T.year()<0?"-":"")+b(Math.abs(T.year()),4)},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear),12},monthOfYear:function(w,T){var R=this._validate(w,T,this.minDay,k.local.invalidMonth||k.regionalOptions[""].invalidMonth);return(R.month()+this.monthsInYear(R)-this.firstMonth)%this.monthsInYear(R)+this.minMonth},fromMonthOfYear:function(w,T){var R=(T+this.firstMonth-2*this.minMonth)%this.monthsInYear(w)+this.minMonth;return this._validate(w,R,this.minDay,k.local.invalidMonth||k.regionalOptions[""].invalidMonth),R},daysInYear:function(w){var T=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear);return this.leapYear(T)?366:365},dayOfYear:function(w,T,R){var M=this._validate(w,T,R,k.local.invalidDate||k.regionalOptions[""].invalidDate);return M.toJD()-this.newDate(M.year(),this.fromMonthOfYear(M.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(w,T,R){var M=this._validate(w,T,R,k.local.invalidDate||k.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(M))+2)%this.daysInWeek()},extraInfo:function(w,T,R){return this._validate(w,T,R,k.local.invalidDate||k.regionalOptions[""].invalidDate),{}},add:function(w,T,R){return this._validate(w,this.minMonth,this.minDay,k.local.invalidDate||k.regionalOptions[""].invalidDate),this._correctAdd(w,this._add(w,T,R),T,R)},_add:function(w,T,R){if(this._validateLevel++,R==="d"||R==="w"){var M=w.toJD()+T*(R==="w"?this.daysInWeek():1),I=w.calendar().fromJD(M);return this._validateLevel--,[I.year(),I.month(),I.day()]}try{var V=w.year()+(R==="y"?T:0),N=w.monthOfYear()+(R==="m"?T:0),I=w.day(),Q=function(F){for(;N<F.minMonth;)V--,N+=F.monthsInYear(V);for(var B=F.monthsInYear(V);N>B-1+F.minMonth;)V++,N-=B,B=F.monthsInYear(V)};R==="y"?(w.month()!==this.fromMonthOfYear(V,N)&&(N=this.newDate(V,w.month(),this.minDay).monthOfYear()),N=Math.min(N,this.monthsInYear(V)),I=Math.min(I,this.daysInMonth(V,this.fromMonthOfYear(V,N)))):R==="m"&&(Q(this),I=Math.min(I,this.daysInMonth(V,this.fromMonthOfYear(V,N))));var z=[V,this.fromMonthOfYear(V,N),I];return this._validateLevel--,z}catch(U){throw this._validateLevel--,U}},_correctAdd:function(w,T,R,M){if(!this.hasYearZero&&(M==="y"||M==="m")&&(T[0]===0||w.year()>0!=T[0]>0)){var I={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[M],V=R<0?-1:1;T=this._add(w,R*I[0]+V*I[1],I[2])}return w.date(T[0],T[1],T[2])},set:function(w,T,R){this._validate(w,this.minMonth,this.minDay,k.local.invalidDate||k.regionalOptions[""].invalidDate);var M=R==="y"?T:w.year(),I=R==="m"?T:w.month(),V=R==="d"?T:w.day();return(R==="y"||R==="m")&&(V=Math.min(V,this.daysInMonth(M,I))),w.date(M,I,V)},isValid:function(w,T,R){this._validateLevel++;var M=this.hasYearZero||w!==0;if(M){var I=this.newDate(w,T,this.minDay);M=T>=this.minMonth&&T-this.minMonth<this.monthsInYear(I)&&R>=this.minDay&&R-this.minDay<this.daysInMonth(I)}return this._validateLevel--,M},toJSDate:function(w,T,R){var M=this._validate(w,T,R,k.local.invalidDate||k.regionalOptions[""].invalidDate);return k.instance().fromJD(this.toJD(M)).toJSDate()},fromJSDate:function(w){return this.fromJD(k.instance().fromJSDate(w).toJD())},_validate:function(w,T,R,M){if(w.year){if(this._validateLevel===0&&this.name!==w.calendar().name)throw(k.local.differentCalendars||k.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,w.calendar().local.name);return w}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(w,T,R))throw M.replace(/\{0\}/,this.local.name);var I=this.newDate(w,T,R);return this._validateLevel--,I}catch(V){throw this._validateLevel--,V}}});function C(w){this.local=this.regionalOptions[w]||this.regionalOptions[""]}C.prototype=new O,g(C.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(R){var T=this._validate(R,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear),R=T.year()+(T.year()<0?1:0);return R%4===0&&(R%100!==0||R%400===0)},weekOfYear:function(w,T,R){var M=this.newDate(w,T,R);return M.add(4-(M.dayOfWeek()||7),"d"),Math.floor((M.dayOfYear()-1)/7)+1},daysInMonth:function(w,T){var R=this._validate(w,T,this.minDay,k.local.invalidMonth||k.regionalOptions[""].invalidMonth);return this.daysPerMonth[R.month()-1]+(R.month()===2&&this.leapYear(R.year())?1:0)},weekDay:function(w,T,R){return(this.dayOfWeek(w,T,R)||7)<6},toJD:function(w,T,R){var M=this._validate(w,T,R,k.local.invalidDate||k.regionalOptions[""].invalidDate);w=M.year(),T=M.month(),R=M.day(),w<0&&w++,T<3&&(T+=12,w--);var I=Math.floor(w/100),V=2-I+Math.floor(I/4);return Math.floor(365.25*(w+4716))+Math.floor(30.6001*(T+1))+R+V-1524.5},fromJD:function(w){var T=Math.floor(w+.5),R=Math.floor((T-186721625e-2)/36524.25);R=T+1+R-Math.floor(R/4);var M=R+1524,I=Math.floor((M-122.1)/365.25),V=Math.floor(365.25*I),N=Math.floor((M-V)/30.6001),Q=M-V-Math.floor(N*30.6001),z=N-(N>13.5?13:1),U=I-(z>2.5?4716:4715);return U<=0&&U--,this.newDate(U,z,Q)},toJSDate:function(w,T,R){var M=this._validate(w,T,R,k.local.invalidDate||k.regionalOptions[""].invalidDate),I=new Date(M.year(),M.month()-1,M.day());return I.setHours(0),I.setMinutes(0),I.setSeconds(0),I.setMilliseconds(0),I.setHours(I.getHours()>12?I.getHours()+2:0),I},fromJSDate:function(w){return this.newDate(w.getFullYear(),w.getMonth()+1,w.getDate())}});var k=f.exports=new v;k.cdate=y,k.baseCalendar=O,k.calendars.gregorian=C},4338:function(f,h,c){var g=c(6131),v=c(3489);g(v.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),v.local=v.regionalOptions[""],g(v.cdate.prototype,{formatDate:function(y,b){return typeof y!="string"&&(b=y,y=""),this._calendar.formatDate(y||"",this,b)}}),g(v.baseCalendar.prototype,{UNIX_EPOCH:v.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:v.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(y,b,O){if(typeof y!="string"&&(O=b,b=y,y=""),!b)return"";if(b.calendar()!==this)throw v.local.invalidFormat||v.regionalOptions[""].invalidFormat;y=y||this.local.dateFormat,O=O||{};var C=O.dayNamesShort||this.local.dayNamesShort,k=O.dayNames||this.local.dayNames,w=O.monthNumbers||this.local.monthNumbers,T=O.monthNamesShort||this.local.monthNamesShort,R=O.monthNames||this.local.monthNames;O.calculateWeek||this.local.calculateWeek;for(var M=function(X,ie){for(var L=1;W+L<y.length&&y.charAt(W+L)===X;)L++;return W+=L-1,Math.floor(L/(ie||1))>1},I=function(X,ie,L,me){var ae=""+ie;if(M(X,me))for(;ae.length<L;)ae="0"+ae;return ae},V=function(X,ie,L,me){return M(X)?me[ie]:L[ie]},N=this,Q=function(X){return typeof w=="function"?w.call(N,X,M("m")):F(I("m",X.month(),2))},z=function(X,ie){return ie?typeof R=="function"?R.call(N,X):R[X.month()-N.minMonth]:typeof T=="function"?T.call(N,X):T[X.month()-N.minMonth]},U=this.local.digits,F=function(X){return O.localNumbers&&U?U(X):X},B="",E=!1,W=0;W<y.length;W++)if(E)y.charAt(W)==="'"&&!M("'")?E=!1:B+=y.charAt(W);else switch(y.charAt(W)){case"d":B+=F(I("d",b.day(),2));break;case"D":B+=V("D",b.dayOfWeek(),C,k);break;case"o":B+=I("o",b.dayOfYear(),3);break;case"w":B+=I("w",b.weekOfYear(),2);break;case"m":B+=Q(b);break;case"M":B+=z(b,M("M"));break;case"y":B+=M("y",2)?b.year():(b.year()%100<10?"0":"")+b.year()%100;break;case"Y":M("Y",2),B+=b.formatYear();break;case"J":B+=b.toJD();break;case"@":B+=(b.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":B+=(b.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":M("'")?B+="'":E=!0;break;default:B+=y.charAt(W)}return B},parseDate:function(y,b,O){if(b==null)throw v.local.invalidArguments||v.regionalOptions[""].invalidArguments;if(b=typeof b=="object"?b.toString():b+"",b==="")return null;y=y||this.local.dateFormat,O=O||{};var C=O.shortYearCutoff||this.shortYearCutoff;C=typeof C!="string"?C:this.today().year()%100+parseInt(C,10);for(var k=O.dayNamesShort||this.local.dayNamesShort,w=O.dayNames||this.local.dayNames,T=O.parseMonth||this.local.parseMonth,R=O.monthNumbers||this.local.monthNumbers,M=O.monthNamesShort||this.local.monthNamesShort,I=O.monthNames||this.local.monthNames,V=-1,N=-1,Q=-1,z=-1,U=-1,F=!1,B=!1,E=function(we,Be){for(var pe=1;de+pe<y.length&&y.charAt(de+pe)===we;)pe++;return de+=pe-1,Math.floor(pe/(Be||1))>1},W=function(we,Be){var pe=E(we,Be),ne=[2,3,pe?4:2,pe?4:2,10,11,20]["oyYJ@!".indexOf(we)+1],le=new RegExp("^-?\\d{1,"+ne+"}"),Y=b.substring(q).match(le);if(!Y)throw(v.local.missingNumberAt||v.regionalOptions[""].missingNumberAt).replace(/\{0\}/,q);return q+=Y[0].length,parseInt(Y[0],10)},X=this,ie=function(){if(typeof R=="function"){E("m");var we=R.call(X,b.substring(q));return q+=we.length,we}return W("m")},L=function(we,Be,pe,ne){for(var le=E(we,ne)?pe:Be,Y=0;Y<le.length;Y++)if(b.substr(q,le[Y].length).toLowerCase()===le[Y].toLowerCase())return q+=le[Y].length,Y+X.minMonth;throw(v.local.unknownNameAt||v.regionalOptions[""].unknownNameAt).replace(/\{0\}/,q)},me=function(){if(typeof I=="function"){var we=E("M")?I.call(X,b.substring(q)):M.call(X,b.substring(q));return q+=we.length,we}return L("M",M,I)},ae=function(){if(b.charAt(q)!==y.charAt(de))throw(v.local.unexpectedLiteralAt||v.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,q);q++},q=0,de=0;de<y.length;de++)if(B)y.charAt(de)==="'"&&!E("'")?B=!1:ae();else switch(y.charAt(de)){case"d":z=W("d");break;case"D":L("D",k,w);break;case"o":U=W("o");break;case"w":W("w");break;case"m":Q=ie();break;case"M":Q=me();break;case"y":var ee=de;F=!E("y",2),de=ee,N=W("y",2);break;case"Y":N=W("Y",2);break;case"J":V=W("J")+.5,b.charAt(q)==="."&&(q++,W("J"));break;case"@":V=W("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":V=W("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":q=b.length;break;case"'":E("'")?ae():B=!0;break;default:ae()}if(q<b.length)throw v.local.unexpectedText||v.regionalOptions[""].unexpectedText;if(N===-1?N=this.today().year():N<100&&F&&(N+=C===-1?1900:this.today().year()-this.today().year()%100-(N<=C?0:100)),typeof Q=="string"&&(Q=T.call(this,N,Q)),U>-1){Q=1,z=U;for(var xe=this.daysInMonth(N,Q);z>xe;xe=this.daysInMonth(N,Q))Q++,z-=xe}return V>-1?this.fromJD(V):this.newDate(N,Q,z)},determineDate:function(y,b,O,C,k){O&&typeof O!="object"&&(k=C,C=O,O=null),typeof C!="string"&&(k=C,C="");var w=this,T=function(R){try{return w.parseDate(C,R,k)}catch{}R=R.toLowerCase();for(var M=(R.match(/^c/)&&O?O.newDate():null)||w.today(),I=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,V=I.exec(R);V;)M.add(parseInt(V[1],10),V[2]||"d"),V=I.exec(R);return M};return b=b?b.newDate():null,y=y==null?b:typeof y=="string"?T(y):typeof y=="number"?isNaN(y)||y===1/0||y===-1/0?b:w.today().add(y,"d"):w.newDate(y),y}})}},a={};function i(f){var h=a[f];if(h!==void 0)return h.exports;var c=a[f]={exports:{}};return r[f].call(c.exports,c,c.exports,i),c.exports}(function(){i.d=function(f,h){for(var c in h)i.o(h,c)&&!i.o(f,c)&&Object.defineProperty(f,c,{enumerable:!0,get:h[c]})}})(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)}}(),function(){i.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})}}();var d=i(2576);return d}()})})(fve);var OCe=fve.exports;const Dre=bCe(OCe),xCe=Z3({props:{figure:{type:Object,required:!0},layout:{type:Object,required:!0},id:{type:String,required:!0}},setup(t){vg(()=>{Dre.newPlot(t.id,t.figure.data,t.layout)}),zo(()=>t.figure,(e,r)=>{e!==r&&Dre.newPlot(t.id,e.data,t.layout)},{deep:!0}),zo(()=>t.layout,(e,r)=>{e!==r&&Dre.newPlot(t.id,t.figure.data,e)},{deep:!0})}}),Xv=(t,e)=>{const r=t.__vccOpts||t;for(const[a,i]of e)r[a]=i;return r},SCe=["id"];function wCe(t,e,r,a,i,d){return to(),Ia("div",{id:t.id,style:{height:"100%",width:"100%"}},null,8,SCe)}const dve=Xv(xCe,[["render",wCe]]);class Oi{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,a){let i=[];return this.decompose(0,e,i,2),a.length&&a.decompose(0,a.length,i,3),this.decompose(r,this.length,i,1),U1.from(i,this.length-(r-e)+a.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){let a=[];return this.decompose(e,r,a,0),U1.from(a,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),a=this.length-this.scanIdentical(e,-1),i=new UD(this),d=new UD(e);for(let f=r,h=r;;){if(i.next(f),d.next(f),f=0,i.lineBreak!=d.lineBreak||i.done!=d.done||i.value!=d.value)return!1;if(h+=i.value.length,i.done||h>=a)return!0}}iter(e=1){return new UD(this,e)}iterRange(e,r=this.length){return new hve(this,e,r)}iterLines(e,r){let a;if(e==null)a=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;a=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new mve(a)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Oi.empty:e.length<=32?new Kc(e):U1.from(Kc.split(e,[]))}}class Kc extends Oi{constructor(e,r=TCe(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,a,i){for(let d=0;;d++){let f=this.text[d],h=i+f.length;if((r?a:h)>=e)return new CCe(i,h,a,f);i=h+1,a++}}decompose(e,r,a,i){let d=e<=0&&r>=this.length?this:new Kc(xfe(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let f=a.pop(),h=ZZ(d.text,f.text.slice(),0,d.length);if(h.length<=32)a.push(new Kc(h,f.length+d.length));else{let c=h.length>>1;a.push(new Kc(h.slice(0,c)),new Kc(h.slice(c)))}}else a.push(d)}replace(e,r,a){if(!(a instanceof Kc))return super.replace(e,r,a);let i=ZZ(this.text,ZZ(a.text,xfe(this.text,0,e)),r),d=this.length+a.length-(r-e);return i.length<=32?new Kc(i,d):U1.from(Kc.split(i,[]),d)}sliceString(e,r=this.length,a=`
`){let i="";for(let d=0,f=0;d<=r&&f<this.text.length;f++){let h=this.text[f],c=d+h.length;d>e&&f&&(i+=a),e<c&&r>d&&(i+=h.slice(Math.max(0,e-d),r-d)),d=c+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let a=[],i=-1;for(let d of e)a.push(d),i+=d.length+1,a.length==32&&(r.push(new Kc(a,i)),a=[],i=-1);return i>-1&&r.push(new Kc(a,i)),r}}class U1 extends Oi{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let a of e)this.lines+=a.lines}lineInner(e,r,a,i){for(let d=0;;d++){let f=this.children[d],h=i+f.length,c=a+f.lines-1;if((r?c:h)>=e)return f.lineInner(e,r,a,i);i=h+1,a=c+1}}decompose(e,r,a,i){for(let d=0,f=0;f<=r&&d<this.children.length;d++){let h=this.children[d],c=f+h.length;if(e<=c&&r>=f){let g=i&((f<=e?1:0)|(c>=r?2:0));f>=e&&c<=r&&!g?a.push(h):h.decompose(e-f,r-f,a,g)}f=c+1}}replace(e,r,a){if(a.lines<this.lines)for(let i=0,d=0;i<this.children.length;i++){let f=this.children[i],h=d+f.length;if(e>=d&&r<=h){let c=f.replace(e-d,r-d,a),g=this.lines-f.lines+c.lines;if(c.lines<g>>5-1&&c.lines>g>>5+1){let v=this.children.slice();return v[i]=c,new U1(v,this.length-(r-e)+a.length)}return super.replace(d,h,c)}d=h+1}return super.replace(e,r,a)}sliceString(e,r=this.length,a=`
`){let i="";for(let d=0,f=0;d<this.children.length&&f<=r;d++){let h=this.children[d],c=f+h.length;f>e&&d&&(i+=a),e<c&&r>f&&(i+=h.sliceString(e-f,r-f,a)),f=c+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof U1))return 0;let a=0,[i,d,f,h]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,d+=r){if(i==f||d==h)return a;let c=this.children[i],g=e.children[d];if(c!=g)return a+c.scanIdentical(g,r);a+=c.length+1}}static from(e,r=e.reduce((a,i)=>a+i.length+1,-1)){let a=0;for(let O of e)a+=O.lines;if(a<32){let O=[];for(let C of e)C.flatten(O);return new Kc(O,r)}let i=Math.max(32,a>>5),d=i<<1,f=i>>1,h=[],c=0,g=-1,v=[];function y(O){let C;if(O.lines>d&&O instanceof U1)for(let k of O.children)y(k);else O.lines>f&&(c>f||!c)?(b(),h.push(O)):O instanceof Kc&&c&&(C=v[v.length-1])instanceof Kc&&O.lines+C.lines<=32?(c+=O.lines,g+=O.length+1,v[v.length-1]=new Kc(C.text.concat(O.text),C.length+1+O.length)):(c+O.lines>i&&b(),c+=O.lines,g+=O.length+1,v.push(O))}function b(){c!=0&&(h.push(v.length==1?v[0]:U1.from(v,g)),g=-1,c=v.length=0)}for(let O of e)y(O);return b(),h.length==1?h[0]:new U1(h,r)}}Oi.empty=new Kc([""],0);function TCe(t){let e=-1;for(let r of t)e+=r.length+1;return e}function ZZ(t,e,r=0,a=1e9){for(let i=0,d=0,f=!0;d<t.length&&i<=a;d++){let h=t[d],c=i+h.length;c>=r&&(c>a&&(h=h.slice(0,a-i)),i<r&&(h=h.slice(r-i)),f?(e[e.length-1]+=h,f=!1):e.push(h)),i=c+1}return e}function xfe(t,e,r){return ZZ(t,[""],e,r)}class UD{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof Kc?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let a=this.nodes.length-1,i=this.nodes[a],d=this.offsets[a],f=d>>1,h=i instanceof Kc?i.text.length:i.children.length;if(f==(r>0?h:0)){if(a==0)return this.done=!0,this.value="",this;r>0&&this.offsets[a-1]++,this.nodes.pop(),this.offsets.pop()}else if((d&1)==(r>0?0:1)){if(this.offsets[a]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Kc){let c=i.text[f+(r<0?-1:0)];if(this.offsets[a]+=r,c.length>Math.max(0,e))return this.value=e==0?c:r>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[f+(r<0?-1:0)];e>c.length?(e-=c.length,this.offsets[a]+=r):(r<0&&this.offsets[a]--,this.nodes.push(c),this.offsets.push(r>0?1:(c instanceof Kc?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class hve{constructor(e,r,a){this.value="",this.done=!1,this.cursor=new UD(e,r>a?-1:1),this.pos=r>a?e.length:0,this.from=Math.min(r,a),this.to=Math.max(r,a)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let a=r<0?this.pos-this.from:this.to-this.pos;e>a&&(e=a),a-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=a?i:r<0?i.slice(i.length-a):i.slice(0,a),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class mve{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:a,value:i}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):a?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Oi.prototype[Symbol.iterator]=function(){return this.iter()},UD.prototype[Symbol.iterator]=hve.prototype[Symbol.iterator]=mve.prototype[Symbol.iterator]=function(){return this});let CCe=class{constructor(e,r,a,i){this.from=e,this.to=r,this.number=a,this.text=i}get length(){return this.to-this.from}},JP="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<JP.length;t++)JP[t]+=JP[t-1];function kCe(t){for(let e=1;e<JP.length;e+=2)if(JP[e]>t)return JP[e-1]<=t;return!1}function Sfe(t){return t>=127462&&t<=127487}const wfe=8205;function jf(t,e,r=!0,a=!0){return(r?gve:ACe)(t,e,a)}function gve(t,e,r){if(e==t.length)return e;e&&pve(t.charCodeAt(e))&&vve(t.charCodeAt(e-1))&&e--;let a=Yf(t,e);for(e+=bp(a);e<t.length;){let i=Yf(t,e);if(a==wfe||i==wfe||r&&kCe(i))e+=bp(i),a=i;else if(Sfe(i)){let d=0,f=e-2;for(;f>=0&&Sfe(Yf(t,f));)d++,f-=2;if(d%2==0)break;e+=2}else break}return e}function ACe(t,e,r){for(;e>0;){let a=gve(t,e-2,r);if(a<e)return a;e--}return 0}function pve(t){return t>=56320&&t<57344}function vve(t){return t>=55296&&t<56320}function Yf(t,e){let r=t.charCodeAt(e);if(!vve(r)||e+1==t.length)return r;let a=t.charCodeAt(e+1);return pve(a)?(r-55296<<10)+(a-56320)+65536:r}function cie(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function bp(t){return t<65536?1:2}const Joe=/\r\n?|\n/;var Gf=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Gf||(Gf={}));class ty{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let a=this.sections[r+1];e+=a<0?this.sections[r]:a}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,a=0,i=0;r<this.sections.length;){let d=this.sections[r++],f=this.sections[r++];f<0?(e(a,i,d),i+=d):i+=f,a+=d}}iterChangedRanges(e,r=!1){ese(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let a=this.sections[r++],i=this.sections[r++];i<0?e.push(a,i):e.push(i,a)}return new ty(e)}composeDesc(e){return this.empty?e:e.empty?this:yve(this,e)}mapDesc(e,r=!1){return e.empty?this:tse(this,e,r)}mapPos(e,r=-1,a=Gf.Simple){let i=0,d=0;for(let f=0;f<this.sections.length;){let h=this.sections[f++],c=this.sections[f++],g=i+h;if(c<0){if(g>e)return d+(e-i);d+=h}else{if(a!=Gf.Simple&&g>=e&&(a==Gf.TrackDel&&i<e&&g>e||a==Gf.TrackBefore&&i<e||a==Gf.TrackAfter&&g>e))return null;if(g>e||g==e&&r<0&&!h)return e==i||r<0?d:d+c;d+=c}i=g}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return d}touchesRange(e,r=e){for(let a=0,i=0;a<this.sections.length&&i<=r;){let d=this.sections[a++],f=this.sections[a++],h=i+d;if(f>=0&&i<=r&&h>=e)return i<e&&h>r?"cover":!0;i=h}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let a=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+a+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ty(e)}static create(e){return new ty(e)}}class Bu extends ty{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return ese(this,(r,a,i,d,f)=>e=e.replace(i,i+(a-r),f),!1),e}mapDesc(e,r=!1){return tse(this,e,r,!0)}invert(e){let r=this.sections.slice(),a=[];for(let i=0,d=0;i<r.length;i+=2){let f=r[i],h=r[i+1];if(h>=0){r[i]=h,r[i+1]=f;let c=i>>1;for(;a.length<c;)a.push(Oi.empty);a.push(f?e.slice(d,d+f):Oi.empty)}d+=f}return new Bu(r,a)}compose(e){return this.empty?e:e.empty?this:yve(this,e,!0)}map(e,r=!1){return e.empty?this:tse(this,e,r,!0)}iterChanges(e,r=!1){ese(this,e,r)}get desc(){return ty.create(this.sections)}filter(e){let r=[],a=[],i=[],d=new f$(this);e:for(let f=0,h=0;;){let c=f==e.length?1e9:e[f++];for(;h<c||h==c&&d.len==0;){if(d.done)break e;let v=Math.min(d.len,c-h);Td(i,v,-1);let y=d.ins==-1?-1:d.off==0?d.ins:0;Td(r,v,y),y>0&&gS(a,r,d.text),d.forward(v),h+=v}let g=e[f++];for(;h<g;){if(d.done)break e;let v=Math.min(d.len,g-h);Td(r,v,-1),Td(i,v,d.ins==-1?-1:d.off==0?d.ins:0),d.forward(v),h+=v}}return{changes:new Bu(r,a),filtered:ty.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let a=this.sections[r],i=this.sections[r+1];i<0?e.push(a):i==0?e.push([a]):e.push([a].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,a){let i=[],d=[],f=0,h=null;function c(v=!1){if(!v&&!i.length)return;f<r&&Td(i,r-f,-1);let y=new Bu(i,d);h=h?h.compose(y.map(h)):y,i=[],d=[],f=0}function g(v){if(Array.isArray(v))for(let y of v)g(y);else if(v instanceof Bu){if(v.length!=r)throw new RangeError(`Mismatched change set length (got ${v.length}, expected ${r})`);c(),h=h?h.compose(v.map(h)):v}else{let{from:y,to:b=y,insert:O}=v;if(y>b||y<0||b>r)throw new RangeError(`Invalid change range ${y} to ${b} (in doc of length ${r})`);let C=O?typeof O=="string"?Oi.of(O.split(a||Joe)):O:Oi.empty,k=C.length;if(y==b&&k==0)return;y<f&&c(),y>f&&Td(i,y-f,-1),Td(i,b-y,k),gS(d,i,C),f=b}}return g(e),c(!h),h}static empty(e){return new Bu(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],a=[];for(let i=0;i<e.length;i++){let d=e[i];if(typeof d=="number")r.push(d,-1);else{if(!Array.isArray(d)||typeof d[0]!="number"||d.some((f,h)=>h&&typeof f!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(d.length==1)r.push(d[0],0);else{for(;a.length<i;)a.push(Oi.empty);a[i]=Oi.of(d.slice(1)),r.push(d[0],a[i].length)}}}return new Bu(r,a)}static createSet(e,r){return new Bu(e,r)}}function Td(t,e,r,a=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=r:a?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function gS(t,e,r){if(r.length==0)return;let a=e.length-2>>1;if(a<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<a;)t.push(Oi.empty);t.push(r)}}function ese(t,e,r){let a=t.inserted;for(let i=0,d=0,f=0;f<t.sections.length;){let h=t.sections[f++],c=t.sections[f++];if(c<0)i+=h,d+=h;else{let g=i,v=d,y=Oi.empty;for(;g+=h,v+=c,c&&a&&(y=y.append(a[f-2>>1])),!(r||f==t.sections.length||t.sections[f+1]<0);)h=t.sections[f++],c=t.sections[f++];e(i,g,d,v,y),i=g,d=v}}}function tse(t,e,r,a=!1){let i=[],d=a?[]:null,f=new f$(t),h=new f$(e);for(let c=-1;;)if(f.ins==-1&&h.ins==-1){let g=Math.min(f.len,h.len);Td(i,g,-1),f.forward(g),h.forward(g)}else if(h.ins>=0&&(f.ins<0||c==f.i||f.off==0&&(h.len<f.len||h.len==f.len&&!r))){let g=h.len;for(Td(i,h.ins,-1);g;){let v=Math.min(f.len,g);f.ins>=0&&c<f.i&&f.len<=v&&(Td(i,0,f.ins),d&&gS(d,i,f.text),c=f.i),f.forward(v),g-=v}h.next()}else if(f.ins>=0){let g=0,v=f.len;for(;v;)if(h.ins==-1){let y=Math.min(v,h.len);g+=y,v-=y,h.forward(y)}else if(h.ins==0&&h.len<v)v-=h.len,h.next();else break;Td(i,g,c<f.i?f.ins:0),d&&c<f.i&&gS(d,i,f.text),c=f.i,f.forward(f.len-v)}else{if(f.done&&h.done)return d?Bu.createSet(i,d):ty.create(i);throw new Error("Mismatched change set lengths")}}function yve(t,e,r=!1){let a=[],i=r?[]:null,d=new f$(t),f=new f$(e);for(let h=!1;;){if(d.done&&f.done)return i?Bu.createSet(a,i):ty.create(a);if(d.ins==0)Td(a,d.len,0,h),d.next();else if(f.len==0&&!f.done)Td(a,0,f.ins,h),i&&gS(i,a,f.text),f.next();else{if(d.done||f.done)throw new Error("Mismatched change set lengths");{let c=Math.min(d.len2,f.len),g=a.length;if(d.ins==-1){let v=f.ins==-1?-1:f.off?0:f.ins;Td(a,c,v,h),i&&v&&gS(i,a,f.text)}else f.ins==-1?(Td(a,d.off?0:d.len,c,h),i&&gS(i,a,d.textBit(c))):(Td(a,d.off?0:d.len,f.off?0:f.ins,h),i&&!f.off&&gS(i,a,f.text));h=(d.ins>c||f.ins>=0&&f.len>c)&&(h||a.length>g),d.forward2(c),f.forward(c)}}}}class f${constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Oi.empty:e[r]}textBit(e){let{inserted:r}=this.set,a=this.i-2>>1;return a>=r.length&&!e?Oi.empty:r[a].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class M3{constructor(e,r,a){this.from=e,this.to=r,this.flags=a}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let a,i;return this.empty?a=i=e.mapPos(this.from,r):(a=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),a==this.from&&i==this.to?this:new M3(a,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return Tr.range(e,r);let a=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return Tr.range(this.anchor,a)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Tr.range(e.anchor,e.head)}static create(e,r,a){return new M3(e,r,a)}}class Tr{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:Tr.create(this.ranges.map(a=>a.map(e,r)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Tr([this.main],0)}addRange(e,r=!0){return Tr.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let a=this.ranges.slice();return a[r]=e,Tr.create(a,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Tr(e.ranges.map(r=>M3.fromJSON(r)),e.main)}static single(e,r=e){return new Tr([Tr.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let a=0,i=0;i<e.length;i++){let d=e[i];if(d.empty?d.from<=a:d.from<a)return Tr.normalized(e.slice(),r);a=d.to}return new Tr(e,r)}static cursor(e,r=0,a,i){return M3.create(e,e,(r==0?0:r<0?8:16)|(a==null?7:Math.min(6,a))|(i??16777215)<<6)}static range(e,r,a,i){let d=(a??16777215)<<6|(i==null?7:Math.min(6,i));return r<e?M3.create(r,e,48|d):M3.create(e,r,(r>e?8:0)|d)}static normalized(e,r=0){let a=e[r];e.sort((i,d)=>i.from-d.from),r=e.indexOf(a);for(let i=1;i<e.length;i++){let d=e[i],f=e[i-1];if(d.empty?d.from<=f.to:d.from<f.to){let h=f.from,c=Math.max(d.to,f.to);i<=r&&r--,e.splice(--i,2,d.anchor>d.head?Tr.range(c,h):Tr.range(h,c))}}return new Tr(e,r)}}function bve(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let uie=0;class ss{constructor(e,r,a,i,d){this.combine=e,this.compareInput=r,this.compare=a,this.isStatic=i,this.id=uie++,this.default=e([]),this.extensions=typeof d=="function"?d(this):d}get reader(){return this}static define(e={}){return new ss(e.combine||(r=>r),e.compareInput||((r,a)=>r===a),e.compare||(e.combine?(r,a)=>r===a:fie),!!e.static,e.enables)}of(e){return new HZ([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new HZ(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new HZ(e,this,2,r)}from(e,r){return r||(r=a=>a),this.compute([e],a=>r(a.field(e)))}}function fie(t,e){return t==e||t.length==e.length&&t.every((r,a)=>r===e[a])}class HZ{constructor(e,r,a,i){this.dependencies=e,this.facet=r,this.type=a,this.value=i,this.id=uie++}dynamicSlot(e){var r;let a=this.value,i=this.facet.compareInput,d=this.id,f=e[d]>>1,h=this.type==2,c=!1,g=!1,v=[];for(let y of this.dependencies)y=="doc"?c=!0:y=="selection"?g=!0:((r=e[y.id])!==null&&r!==void 0?r:1)&1||v.push(e[y.id]);return{create(y){return y.values[f]=a(y),1},update(y,b){if(c&&b.docChanged||g&&(b.docChanged||b.selection)||nse(y,v)){let O=a(y);if(h?!Tfe(O,y.values[f],i):!i(O,y.values[f]))return y.values[f]=O,1}return 0},reconfigure:(y,b)=>{let O,C=b.config.address[d];if(C!=null){let k=mH(b,C);if(this.dependencies.every(w=>w instanceof ss?b.facet(w)===y.facet(w):w instanceof wf?b.field(w,!1)==y.field(w,!1):!0)||(h?Tfe(O=a(y),k,i):i(O=a(y),k)))return y.values[f]=k,0}else O=a(y);return y.values[f]=O,1}}}}function Tfe(t,e,r){if(t.length!=e.length)return!1;for(let a=0;a<t.length;a++)if(!r(t[a],e[a]))return!1;return!0}function nse(t,e){let r=!1;for(let a of e)WD(t,a)&1&&(r=!0);return r}function PCe(t,e,r){let a=r.map(c=>t[c.id]),i=r.map(c=>c.type),d=a.filter(c=>!(c&1)),f=t[e.id]>>1;function h(c){let g=[];for(let v=0;v<a.length;v++){let y=mH(c,a[v]);if(i[v]==2)for(let b of y)g.push(b);else g.push(y)}return e.combine(g)}return{create(c){for(let g of a)WD(c,g);return c.values[f]=h(c),1},update(c,g){if(!nse(c,d))return 0;let v=h(c);return e.compare(v,c.values[f])?0:(c.values[f]=v,1)},reconfigure(c,g){let v=nse(c,a),y=g.config.facets[e.id],b=g.facet(e);if(y&&!v&&fie(r,y))return c.values[f]=b,0;let O=h(c);return e.compare(O,b)?(c.values[f]=b,0):(c.values[f]=O,1)}}}const Cfe=ss.define({static:!0});class wf{constructor(e,r,a,i,d){this.id=e,this.createF=r,this.updateF=a,this.compareF=i,this.spec=d,this.provides=void 0}static define(e){let r=new wf(uie++,e.create,e.update,e.compare||((a,i)=>a===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(Cfe).find(a=>a.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:a=>(a.values[r]=this.create(a),1),update:(a,i)=>{let d=a.values[r],f=this.updateF(d,i);return this.compareF(d,f)?0:(a.values[r]=f,1)},reconfigure:(a,i)=>i.config.address[this.id]!=null?(a.values[r]=i.field(this),0):(a.values[r]=this.create(a),1)}}init(e){return[this,Cfe.of({field:this,create:e})]}get extension(){return this}}const C3={lowest:4,low:3,default:2,high:1,highest:0};function bD(t){return e=>new Ove(e,t)}const _p={highest:bD(C3.highest),high:bD(C3.high),default:bD(C3.default),low:bD(C3.low),lowest:bD(C3.lowest)};class Ove{constructor(e,r){this.inner=e,this.prec=r}}class W${of(e){return new rse(this,e)}reconfigure(e){return W$.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class rse{constructor(e,r){this.compartment=e,this.inner=r}}class hH{constructor(e,r,a,i,d,f){for(this.base=e,this.compartments=r,this.dynamicSlots=a,this.address=i,this.staticValues=d,this.facets=f,this.statusTemplate=[];this.statusTemplate.length<a.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,a){let i=[],d=Object.create(null),f=new Map;for(let b of MCe(e,r,f))b instanceof wf?i.push(b):(d[b.facet.id]||(d[b.facet.id]=[])).push(b);let h=Object.create(null),c=[],g=[];for(let b of i)h[b.id]=g.length<<1,g.push(O=>b.slot(O));let v=a==null?void 0:a.config.facets;for(let b in d){let O=d[b],C=O[0].facet,k=v&&v[b]||[];if(O.every(w=>w.type==0))if(h[C.id]=c.length<<1|1,fie(k,O))c.push(a.facet(C));else{let w=C.combine(O.map(T=>T.value));c.push(a&&C.compare(w,a.facet(C))?a.facet(C):w)}else{for(let w of O)w.type==0?(h[w.id]=c.length<<1|1,c.push(w.value)):(h[w.id]=g.length<<1,g.push(T=>w.dynamicSlot(T)));h[C.id]=g.length<<1,g.push(w=>PCe(w,C,O))}}let y=g.map(b=>b(h));return new hH(e,f,y,h,c,d)}}function MCe(t,e,r){let a=[[],[],[],[],[]],i=new Map;function d(f,h){let c=i.get(f);if(c!=null){if(c<=h)return;let g=a[c].indexOf(f);g>-1&&a[c].splice(g,1),f instanceof rse&&r.delete(f.compartment)}if(i.set(f,h),Array.isArray(f))for(let g of f)d(g,h);else if(f instanceof rse){if(r.has(f.compartment))throw new RangeError("Duplicate use of compartment in extensions");let g=e.get(f.compartment)||f.inner;r.set(f.compartment,g),d(g,h)}else if(f instanceof Ove)d(f.inner,f.prec);else if(f instanceof wf)a[h].push(f),f.provides&&d(f.provides,h);else if(f instanceof HZ)a[h].push(f),f.facet.extensions&&d(f.facet.extensions,C3.default);else{let g=f.extension;if(!g)throw new Error(`Unrecognized extension value in extension set (${f}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);d(g,h)}}return d(t,C3.default),a.reduce((f,h)=>f.concat(h))}function WD(t,e){if(e&1)return 2;let r=e>>1,a=t.status[r];if(a==4)throw new Error("Cyclic dependency between fields and/or facets");if(a&2)return a;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function mH(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const xve=ss.define(),ose=ss.define({combine:t=>t.some(e=>e),static:!0}),Sve=ss.define({combine:t=>t.length?t[0]:void 0,static:!0}),wve=ss.define(),Tve=ss.define(),Cve=ss.define(),kve=ss.define({combine:t=>t.length?t[0]:!1});class AO{constructor(e,r){this.type=e,this.value=r}static define(){return new ECe}}class ECe{of(e){return new AO(this,e)}}class _Ce{constructor(e){this.map=e}of(e){return new pa(this,e)}}class pa{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new pa(this.type,r)}is(e){return this.type==e}static define(e={}){return new _Ce(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let a=[];for(let i of e){let d=i.map(r);d&&a.push(d)}return a}}pa.reconfigure=pa.define();pa.appendConfig=pa.define();class Qu{constructor(e,r,a,i,d,f){this.startState=e,this.changes=r,this.selection=a,this.effects=i,this.annotations=d,this.scrollIntoView=f,this._doc=null,this._state=null,a&&bve(a,r.newLength),d.some(h=>h.type==Qu.time)||(this.annotations=d.concat(Qu.time.of(Date.now())))}static create(e,r,a,i,d,f){return new Qu(e,r,a,i,d,f)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Qu.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Qu.time=AO.define();Qu.userEvent=AO.define();Qu.addToHistory=AO.define();Qu.remote=AO.define();function RCe(t,e){let r=[];for(let a=0,i=0;;){let d,f;if(a<t.length&&(i==e.length||e[i]>=t[a]))d=t[a++],f=t[a++];else if(i<e.length)d=e[i++],f=e[i++];else return r;!r.length||r[r.length-1]<d?r.push(d,f):r[r.length-1]<f&&(r[r.length-1]=f)}}function Ave(t,e,r){var a;let i,d,f;return r?(i=e.changes,d=Bu.empty(e.changes.length),f=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),d=t.changes.mapDesc(e.changes,!0),f=t.changes.compose(i)),{changes:f,selection:e.selection?e.selection.map(d):(a=t.selection)===null||a===void 0?void 0:a.map(i),effects:pa.mapEffects(t.effects,i).concat(pa.mapEffects(e.effects,d)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function sse(t,e,r){let a=e.selection,i=eM(e.annotations);return e.userEvent&&(i=i.concat(Qu.userEvent.of(e.userEvent))),{changes:e.changes instanceof Bu?e.changes:Bu.of(e.changes||[],r,t.facet(Sve)),selection:a&&(a instanceof Tr?a:Tr.single(a.anchor,a.head)),effects:eM(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Pve(t,e,r){let a=sse(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let d=1;d<e.length;d++){e[d].filter===!1&&(r=!1);let f=!!e[d].sequential;a=Ave(a,sse(t,e[d],f?a.changes.newLength:t.doc.length),f)}let i=Qu.create(t,a.changes,a.selection,a.effects,a.annotations,a.scrollIntoView);return $Ce(r?DCe(i):i)}function DCe(t){let e=t.startState,r=!0;for(let i of e.facet(wve)){let d=i(t);if(d===!1){r=!1;break}Array.isArray(d)&&(r=r===!0?d:RCe(r,d))}if(r!==!0){let i,d;if(r===!1)d=t.changes.invertedDesc,i=Bu.empty(e.doc.length);else{let f=t.changes.filter(r);i=f.changes,d=f.filtered.mapDesc(f.changes).invertedDesc}t=Qu.create(e,i,t.selection&&t.selection.map(d),pa.mapEffects(t.effects,d),t.annotations,t.scrollIntoView)}let a=e.facet(Tve);for(let i=a.length-1;i>=0;i--){let d=a[i](t);d instanceof Qu?t=d:Array.isArray(d)&&d.length==1&&d[0]instanceof Qu?t=d[0]:t=Pve(e,eM(d),!1)}return t}function $Ce(t){let e=t.startState,r=e.facet(Cve),a=t;for(let i=r.length-1;i>=0;i--){let d=r[i](t);d&&Object.keys(d).length&&(a=Ave(a,sse(e,d,t.changes.newLength),!0))}return a==t?t:Qu.create(e,t.changes,t.selection,a.effects,a.annotations,a.scrollIntoView)}const LCe=[];function eM(t){return t==null?LCe:Array.isArray(t)?t:[t]}var nc=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(nc||(nc={}));const ICe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ase;try{ase=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function NCe(t){if(ase)return ase.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||ICe.test(r)))return!0}return!1}function BCe(t){return e=>{if(!/\S/.test(e))return nc.Space;if(NCe(e))return nc.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return nc.Word;return nc.Other}}class Na{constructor(e,r,a,i,d,f){this.config=e,this.doc=r,this.selection=a,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=d,f&&(f._state=this);for(let h=0;h<this.config.dynamicSlots.length;h++)WD(this,h<<1);this.computeSlot=null}field(e,r=!0){let a=this.config.address[e.id];if(a==null){if(r)throw new RangeError("Field is not present in this state");return}return WD(this,a),mH(this,a)}update(...e){return Pve(this,e,!0)}applyTransaction(e){let r=this.config,{base:a,compartments:i}=r;for(let h of e.effects)h.is(W$.reconfigure)?(r&&(i=new Map,r.compartments.forEach((c,g)=>i.set(g,c)),r=null),i.set(h.value.compartment,h.value.extension)):h.is(pa.reconfigure)?(r=null,a=h.value):h.is(pa.appendConfig)&&(r=null,a=eM(a).concat(h.value));let d;r?d=e.startState.values.slice():(r=hH.resolve(a,i,this),d=new Na(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(c,g)=>g.reconfigure(c,this),null).values);let f=e.startState.facet(ose)?e.newSelection:e.newSelection.asSingle();new Na(r,e.newDoc,f,d,(h,c)=>c.update(h,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:Tr.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,a=e(r.ranges[0]),i=this.changes(a.changes),d=[a.range],f=eM(a.effects);for(let h=1;h<r.ranges.length;h++){let c=e(r.ranges[h]),g=this.changes(c.changes),v=g.map(i);for(let b=0;b<h;b++)d[b]=d[b].map(v);let y=i.mapDesc(g,!0);d.push(c.range.map(y)),i=i.compose(v),f=pa.mapEffects(f,v).concat(pa.mapEffects(eM(c.effects),y))}return{changes:i,selection:Tr.create(d,r.mainIndex),effects:f}}changes(e=[]){return e instanceof Bu?e:Bu.of(e,this.doc.length,this.facet(Na.lineSeparator))}toText(e){return Oi.of(e.split(this.facet(Na.lineSeparator)||Joe))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(WD(this,r),mH(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let a in e){let i=e[a];i instanceof wf&&this.config.address[i.id]!=null&&(r[a]=i.spec.toJSON(this.field(e[a]),this))}return r}static fromJSON(e,r={},a){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(a){for(let d in a)if(Object.prototype.hasOwnProperty.call(e,d)){let f=a[d],h=e[d];i.push(f.init(c=>f.spec.fromJSON(h,c)))}}return Na.create({doc:e.doc,selection:Tr.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=hH.resolve(e.extensions||[],new Map),a=e.doc instanceof Oi?e.doc:Oi.of((e.doc||"").split(r.staticFacet(Na.lineSeparator)||Joe)),i=e.selection?e.selection instanceof Tr?e.selection:Tr.single(e.selection.anchor,e.selection.head):Tr.single(0);return bve(i,a.length),r.staticFacet(ose)||(i=i.asSingle()),new Na(r,a,i,r.dynamicSlots.map(()=>null),(d,f)=>f.create(d),null)}get tabSize(){return this.facet(Na.tabSize)}get lineBreak(){return this.facet(Na.lineSeparator)||`
`}get readOnly(){return this.facet(kve)}phrase(e,...r){for(let a of this.facet(Na.phrases))if(Object.prototype.hasOwnProperty.call(a,e)){e=a[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(a,i)=>{if(i=="$")return"$";let d=+(i||1);return!d||d>r.length?a:r[d-1]})),e}languageDataAt(e,r,a=-1){let i=[];for(let d of this.facet(xve))for(let f of d(this,r,a))Object.prototype.hasOwnProperty.call(f,e)&&i.push(f[e]);return i}charCategorizer(e){return BCe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:a,length:i}=this.doc.lineAt(e),d=this.charCategorizer(e),f=e-a,h=e-a;for(;f>0;){let c=jf(r,f,!1);if(d(r.slice(c,f))!=nc.Word)break;f=c}for(;h<i;){let c=jf(r,h);if(d(r.slice(h,c))!=nc.Word)break;h=c}return f==h?null:Tr.range(f+a,h+a)}}Na.allowMultipleSelections=ose;Na.tabSize=ss.define({combine:t=>t.length?t[0]:4});Na.lineSeparator=Sve;Na.readOnly=kve;Na.phrases=ss.define({compare(t,e){let r=Object.keys(t),a=Object.keys(e);return r.length==a.length&&r.every(i=>t[i]==e[i])}});Na.languageData=xve;Na.changeFilter=wve;Na.transactionFilter=Tve;Na.transactionExtender=Cve;W$.reconfigure=pa.define();function sy(t,e,r={}){let a={};for(let i of t)for(let d of Object.keys(i)){let f=i[d],h=a[d];if(h===void 0)a[d]=f;else if(!(h===f||f===void 0))if(Object.hasOwnProperty.call(r,d))a[d]=r[d](h,f);else throw new Error("Config merge conflict for field "+d)}for(let i in e)a[i]===void 0&&(a[i]=e[i]);return a}class I3{eq(e){return this==e}range(e,r=e){return ise.create(e,r,this)}}I3.prototype.startSide=I3.prototype.endSide=0;I3.prototype.point=!1;I3.prototype.mapMode=Gf.TrackDel;let ise=class Mve{constructor(e,r,a){this.from=e,this.to=r,this.value=a}static create(e,r,a){return new Mve(e,r,a)}};function lse(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class die{constructor(e,r,a,i){this.from=e,this.to=r,this.value=a,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,a,i=0){let d=a?this.to:this.from;for(let f=i,h=d.length;;){if(f==h)return f;let c=f+h>>1,g=d[c]-e||(a?this.value[c].endSide:this.value[c].startSide)-r;if(c==f)return g>=0?f:h;g>=0?h=c:f=c+1}}between(e,r,a,i){for(let d=this.findIndex(r,-1e9,!0),f=this.findIndex(a,1e9,!1,d);d<f;d++)if(i(this.from[d]+e,this.to[d]+e,this.value[d])===!1)return!1}map(e,r){let a=[],i=[],d=[],f=-1,h=-1;for(let c=0;c<this.value.length;c++){let g=this.value[c],v=this.from[c]+e,y=this.to[c]+e,b,O;if(v==y){let C=r.mapPos(v,g.startSide,g.mapMode);if(C==null||(b=O=C,g.startSide!=g.endSide&&(O=r.mapPos(v,g.endSide),O<b)))continue}else if(b=r.mapPos(v,g.startSide),O=r.mapPos(y,g.endSide),b>O||b==O&&g.startSide>0&&g.endSide<=0)continue;(O-b||g.endSide-g.startSide)<0||(f<0&&(f=b),g.point&&(h=Math.max(h,O-b)),a.push(g),i.push(b-f),d.push(O-f))}return{mapped:a.length?new die(i,d,a,h):null,pos:f}}}class qi{constructor(e,r,a,i){this.chunkPos=e,this.chunk=r,this.nextLayer=a,this.maxPoint=i}static create(e,r,a,i){return new qi(e,r,a,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:a=!1,filterFrom:i=0,filterTo:d=this.length}=e,f=e.filter;if(r.length==0&&!f)return this;if(a&&(r=r.slice().sort(lse)),this.isEmpty)return r.length?qi.of(r):this;let h=new Eve(this,null,-1).goto(0),c=0,g=[],v=new CS;for(;h.value||c<r.length;)if(c<r.length&&(h.from-r[c].from||h.startSide-r[c].value.startSide)>=0){let y=r[c++];v.addInner(y.from,y.to,y.value)||g.push(y)}else h.rangeIndex==1&&h.chunkIndex<this.chunk.length&&(c==r.length||this.chunkEnd(h.chunkIndex)<r[c].from)&&(!f||i>this.chunkEnd(h.chunkIndex)||d<this.chunkPos[h.chunkIndex])&&v.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!f||i>h.to||d<h.from||f(h.from,h.to,h.value))&&(v.addInner(h.from,h.to,h.value)||g.push(ise.create(h.from,h.to,h.value))),h.next());return v.finishInner(this.nextLayer.isEmpty&&!g.length?qi.empty:this.nextLayer.update({add:g,filter:f,filterFrom:i,filterTo:d}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],a=[],i=-1;for(let f=0;f<this.chunk.length;f++){let h=this.chunkPos[f],c=this.chunk[f],g=e.touchesRange(h,h+c.length);if(g===!1)i=Math.max(i,c.maxPoint),r.push(c),a.push(e.mapPos(h));else if(g===!0){let{mapped:v,pos:y}=c.map(h,e);v&&(i=Math.max(i,v.maxPoint),r.push(v),a.push(y))}}let d=this.nextLayer.map(e);return r.length==0?d:new qi(a,r,d||qi.empty,i)}between(e,r,a){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let d=this.chunkPos[i],f=this.chunk[i];if(r>=d&&e<=d+f.length&&f.between(d,e-d,r-d,a)===!1)return}this.nextLayer.between(e,r,a)}}iter(e=0){return d$.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return d$.from(e).goto(r)}static compare(e,r,a,i,d=-1){let f=e.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=d),h=r.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=d),c=kfe(f,h,a),g=new OD(f,c,d),v=new OD(h,c,d);a.iterGaps((y,b,O)=>Afe(g,y,v,b,O,i)),a.empty&&a.length==0&&Afe(g,0,v,0,0,i)}static eq(e,r,a=0,i){i==null&&(i=1e9-1);let d=e.filter(v=>!v.isEmpty&&r.indexOf(v)<0),f=r.filter(v=>!v.isEmpty&&e.indexOf(v)<0);if(d.length!=f.length)return!1;if(!d.length)return!0;let h=kfe(d,f),c=new OD(d,h,0).goto(a),g=new OD(f,h,0).goto(a);for(;;){if(c.to!=g.to||!cse(c.active,g.active)||c.point&&(!g.point||!c.point.eq(g.point)))return!1;if(c.to>i)return!0;c.next(),g.next()}}static spans(e,r,a,i,d=-1){let f=new OD(e,null,d).goto(r),h=r,c=f.openStart;for(;;){let g=Math.min(f.to,a);if(f.point){let v=f.activeForPoint(f.to),y=f.pointFrom<r?v.length+1:Math.min(v.length,c);i.point(h,g,f.point,v,y,f.pointRank),c=Math.min(f.openEnd(g),v.length)}else g>h&&(i.span(h,g,f.active,c),c=f.openEnd(g));if(f.to>a)return c+(f.point&&f.to>a?1:0);h=f.to,f.next()}}static of(e,r=!1){let a=new CS;for(let i of e instanceof ise?[e]:r?QCe(e):e)a.add(i.from,i.to,i.value);return a.finish()}}qi.empty=new qi([],[],null,-1);function QCe(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let a=t[r];if(lse(e,a)>0)return t.slice().sort(lse);e=a}return t}qi.empty.nextLayer=qi.empty;class CS{finishChunk(e){this.chunks.push(new die(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,a){this.addInner(e,r,a)||(this.nextLayer||(this.nextLayer=new CS)).add(e,r,a)}addInner(e,r,a){let i=e-this.lastTo||a.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||a.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=a,this.lastFrom=e,this.lastTo=r,this.value.push(a),a.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let a=r.value.length-1;return this.last=r.value[a],this.lastFrom=r.from[a]+e,this.lastTo=r.to[a]+e,!0}finish(){return this.finishInner(qi.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=qi.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function kfe(t,e,r){let a=new Map;for(let d of t)for(let f=0;f<d.chunk.length;f++)d.chunk[f].maxPoint<=0&&a.set(d.chunk[f],d.chunkPos[f]);let i=new Set;for(let d of e)for(let f=0;f<d.chunk.length;f++){let h=a.get(d.chunk[f]);h!=null&&(r?r.mapPos(h):h)==d.chunkPos[f]&&!(r!=null&&r.touchesRange(h,h+d.chunk[f].length))&&i.add(d.chunk[f])}return i}class Eve{constructor(e,r,a,i=0){this.layer=e,this.skip=r,this.minPoint=a,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,a){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,a=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!a||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],a=e+r.from[this.rangeIndex];if(this.from=a,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class d${constructor(e){this.heap=e}static from(e,r=null,a=-1){let i=[];for(let d=0;d<e.length;d++)for(let f=e[d];!f.isEmpty;f=f.nextLayer)f.maxPoint>=a&&i.push(new Eve(f,r,a,d));return i.length==1?i[0]:new d$(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let a of this.heap)a.goto(e,r);for(let a=this.heap.length>>1;a>=0;a--)$re(this.heap,a);return this.next(),this}forward(e,r){for(let a of this.heap)a.forward(e,r);for(let a=this.heap.length>>1;a>=0;a--)$re(this.heap,a);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),$re(this.heap,0)}}}function $re(t,e){for(let r=t[e];;){let a=(e<<1)+1;if(a>=t.length)break;let i=t[a];if(a+1<t.length&&i.compare(t[a+1])>=0&&(i=t[a+1],a++),r.compare(i)<0)break;t[a]=r,t[e]=i,e=a}}class OD{constructor(e,r,a){this.minPoint=a,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=d$.from(e,r,a)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){rZ(this.active,e),rZ(this.activeTo,e),rZ(this.activeRank,e),this.minActive=Pfe(this.active,this.activeTo)}addActive(e){let r=0,{value:a,to:i,rank:d}=this.cursor;for(;r<this.activeRank.length&&this.activeRank[r]<=d;)r++;oZ(this.active,r,a),oZ(this.activeTo,r,i),oZ(this.activeRank,r,d),e&&oZ(e,r,this.cursor.from),this.minActive=Pfe(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let a=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),a&&rZ(a,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let d=this.cursor.value;if(!d.point)this.addActive(a),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=d,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=d.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(a){this.openStart=0;for(let i=a.length-1;i>=0&&a[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let a=this.active.length-1;a>=0&&!(this.activeRank[a]<this.pointRank);a--)(this.activeTo[a]>e||this.activeTo[a]==e&&this.active[a].endSide>=this.point.endSide)&&r.push(this.active[a]);return r.reverse()}openEnd(e){let r=0;for(let a=this.activeTo.length-1;a>=0&&this.activeTo[a]>e;a--)r++;return r}}function Afe(t,e,r,a,i,d){t.goto(e),r.goto(a);let f=a+i,h=a,c=a-e;for(;;){let g=t.to+c-r.to||t.endSide-r.endSide,v=g<0?t.to+c:r.to,y=Math.min(v,f);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&cse(t.activeForPoint(t.to),r.activeForPoint(r.to))||d.comparePoint(h,y,t.point,r.point):y>h&&!cse(t.active,r.active)&&d.compareRange(h,y,t.active,r.active),v>f)break;h=v,g<=0&&t.next(),g>=0&&r.next()}}function cse(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function rZ(t,e){for(let r=e,a=t.length-1;r<a;r++)t[r]=t[r+1];t.pop()}function oZ(t,e,r){for(let a=t.length-1;a>=e;a--)t[a+1]=t[a];t[e]=r}function Pfe(t,e){let r=-1,a=1e9;for(let i=0;i<e.length;i++)(e[i]-a||t[i].endSide-t[r].endSide)<0&&(r=i,a=e[i]);return r}function Zv(t,e,r=t.length){let a=0;for(let i=0;i<r;)t.charCodeAt(i)==9?(a+=e-a%e,i++):(a++,i=jf(t,i));return a}function use(t,e,r,a){for(let i=0,d=0;;){if(d>=e)return i;if(i==t.length)break;d+=t.charCodeAt(i)==9?r-d%r:1,i=jf(t,i)}return a===!0?-1:t.length}const fse="",Mfe=typeof Symbol>"u"?"__"+fse:Symbol.for(fse),dse=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Efe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class kS{constructor(e,r){this.rules=[];let{finish:a}=r||{};function i(f){return/^@/.test(f)?[f]:f.split(/,\s*/)}function d(f,h,c,g){let v=[],y=/^@(\w+)\b/.exec(f[0]),b=y&&y[1]=="keyframes";if(y&&h==null)return c.push(f[0]+";");for(let O in h){let C=h[O];if(/&/.test(O))d(O.split(/,\s*/).map(k=>f.map(w=>k.replace(/&/,w))).reduce((k,w)=>k.concat(w)),C,c);else if(C&&typeof C=="object"){if(!y)throw new RangeError("The value of a property ("+O+") should be a primitive value.");d(i(O),C,v,b)}else C!=null&&v.push(O.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+C+";")}(v.length||b)&&c.push((a&&!y&&!g?f.map(a):f).join(", ")+" {"+v.join(" ")+"}")}for(let f in e)d(i(f),e[f],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Efe[Mfe]||1;return Efe[Mfe]=e+1,fse+e.toString(36)}static mount(e,r,a){let i=e[dse],d=a&&a.nonce;i?d&&i.setNonce(d):i=new FCe(e,d),i.mount(Array.isArray(r)?r:[r])}}let _fe=new Map;class FCe{constructor(e,r){let a=e.ownerDocument||e,i=a.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let d=_fe.get(a);if(d)return e.adoptedStyleSheets=[d.sheet,...e.adoptedStyleSheets],e[dse]=d;this.sheet=new i.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],_fe.set(a,this)}else{this.styleTag=a.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);let d=e.head||e;d.insertBefore(this.styleTag,d.firstChild)}this.modules=[],e[dse]=this}mount(e){let r=this.sheet,a=0,i=0;for(let d=0;d<e.length;d++){let f=e[d],h=this.modules.indexOf(f);if(h<i&&h>-1&&(this.modules.splice(h,1),i--,h=-1),h==-1){if(this.modules.splice(i++,0,f),r)for(let c=0;c<f.rules.length;c++)r.insertRule(f.rules[c],a++)}else{for(;i<h;)a+=this.modules[i++].rules.length;a+=f.rules.length,i++}}if(!r){let d="";for(let f=0;f<this.modules.length;f++)d+=this.modules[f].getRules()+`
`;this.styleTag.textContent=d}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var AS={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h$={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},VCe=typeof navigator<"u"&&/Mac/.test(navigator.platform),zCe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xf=0;Xf<10;Xf++)AS[48+Xf]=AS[96+Xf]=String(Xf);for(var Xf=1;Xf<=24;Xf++)AS[Xf+111]="F"+Xf;for(var Xf=65;Xf<=90;Xf++)AS[Xf]=String.fromCharCode(Xf+32),h$[Xf]=String.fromCharCode(Xf);for(var Lre in AS)h$.hasOwnProperty(Lre)||(h$[Lre]=AS[Lre]);function ZCe(t){var e=VCe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||zCe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?h$:AS)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function gH(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function hse(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function HCe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function UZ(t,e){if(!e.anchorNode)return!1;try{return hse(t,e.anchorNode)}catch{return!1}}function fM(t){return t.nodeType==3?N3(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function pH(t,e,r,a){return r?Rfe(t,e,r,a,-1)||Rfe(t,e,r,a,1):!1}function m$(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Rfe(t,e,r,a,i){for(;;){if(t==r&&e==a)return!0;if(e==(i<0?0:xO(t))){if(t.nodeName=="DIV")return!1;let d=t.parentNode;if(!d||d.nodeType!=1)return!1;e=m$(t)+(i<0?0:1),t=d}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?xO(t):0}else return!1}}function xO(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function CU(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function UCe(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function WCe(t,e,r,a,i,d,f,h){let c=t.ownerDocument,g=c.defaultView||window;for(let v=t,y=!1;v&&!y;)if(v.nodeType==1){let b,O=v==c.body,C=1,k=1;if(O)b=UCe(g);else{if(/^(fixed|sticky)$/.test(getComputedStyle(v).position)&&(y=!0),v.scrollHeight<=v.clientHeight&&v.scrollWidth<=v.clientWidth){v=v.assignedSlot||v.parentNode;continue}let R=v.getBoundingClientRect();C=R.width/v.offsetWidth,k=R.height/v.offsetHeight,b={left:R.left,right:R.left+v.clientWidth*C,top:R.top,bottom:R.top+v.clientHeight*k}}let w=0,T=0;if(i=="nearest")e.top<b.top?(T=-(b.top-e.top+f),r>0&&e.bottom>b.bottom+T&&(T=e.bottom-b.bottom+T+f)):e.bottom>b.bottom&&(T=e.bottom-b.bottom+f,r<0&&e.top-T<b.top&&(T=-(b.top+T-e.top+f)));else{let R=e.bottom-e.top,M=b.bottom-b.top;T=(i=="center"&&R<=M?e.top+R/2-M/2:i=="start"||i=="center"&&r<0?e.top-f:e.bottom-M+f)-b.top}if(a=="nearest"?e.left<b.left?(w=-(b.left-e.left+d),r>0&&e.right>b.right+w&&(w=e.right-b.right+w+d)):e.right>b.right&&(w=e.right-b.right+d,r<0&&e.left<b.left+w&&(w=-(b.left+w-e.left+d))):w=(a=="center"?e.left+(e.right-e.left)/2-(b.right-b.left)/2:a=="start"==h?e.left-d:e.right-(b.right-b.left)+d)-b.left,w||T)if(O)g.scrollBy(w,T);else{let R=0,M=0;if(T){let I=v.scrollTop;v.scrollTop+=T/k,M=(v.scrollTop-I)*k}if(w){let I=v.scrollLeft;v.scrollLeft+=w/C,R=(v.scrollLeft-I)*C}e={left:e.left-R,top:e.top-M,right:e.right-R,bottom:e.bottom-M},R&&Math.abs(R-w)<1&&(a="nearest"),M&&Math.abs(M-T)<1&&(i="nearest")}if(O)break;v=v.assignedSlot||v.parentNode}else if(v.nodeType==11)v=v.host;else break}function YCe(t){let e=t.ownerDocument;for(let r=t.parentNode;r&&r!=e.body;)if(r.nodeType==1){if(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)return r;r=r.assignedSlot||r.parentNode}else if(r.nodeType==11)r=r.host;else break;return null}class XCe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:a}=e;this.set(r,Math.min(e.anchorOffset,r?xO(r):0),a,Math.min(e.focusOffset,a?xO(a):0))}set(e,r,a,i){this.anchorNode=e,this.anchorOffset=r,this.focusNode=a,this.focusOffset=i}}let BP=null;function _ve(t){if(t.setActive)return t.setActive();if(BP)return t.focus(BP);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(BP==null?{get preventScroll(){return BP={preventScroll:!0},!0}}:void 0),!BP){BP=!1;for(let r=0;r<e.length;){let a=e[r++],i=e[r++],d=e[r++];a.scrollTop!=i&&(a.scrollTop=i),a.scrollLeft!=d&&(a.scrollLeft=d)}}}let Dfe;function N3(t,e,r=e){let a=Dfe||(Dfe=document.createRange());return a.setEnd(t,r),a.setStart(t,e),a}function tM(t,e,r){let a={key:e,code:e,keyCode:r,which:r,cancelable:!0},i=new KeyboardEvent("keydown",a);i.synthetic=!0,t.dispatchEvent(i);let d=new KeyboardEvent("keyup",a);return d.synthetic=!0,t.dispatchEvent(d),i.defaultPrevented||d.defaultPrevented}function GCe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Rve(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function jCe(t,e){let r=e.focusNode,a=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=a)return!1;for(a=Math.min(a,xO(r));;)if(a){if(r.nodeType!=1)return!1;let i=r.childNodes[a-1];i.contentEditable=="false"?a--:(r=i,a=xO(r))}else{if(r==t)return!0;a=m$(r),r=r.parentNode}}function Dve(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class kd{constructor(e,r,a=!0){this.node=e,this.offset=r,this.precise=a}static before(e,r){return new kd(e.parentNode,m$(e),r)}static after(e,r){return new kd(e.parentNode,m$(e)+1,r)}}const hie=[];class Vl{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let a of this.children){if(a==e)return r;r+=a.length+a.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let a=this.dom,i=null,d;for(let f of this.children){if(f.flags&7){if(!f.dom&&(d=i?i.nextSibling:a.firstChild)){let h=Vl.get(d);(!h||!h.parent&&h.canReuseDOM(f))&&f.reuseDOM(d)}f.sync(e,r),f.flags&=-8}if(d=i?i.nextSibling:a.firstChild,r&&!r.written&&r.node==a&&d!=f.dom&&(r.written=!0),f.dom.parentNode==a)for(;d&&d!=f.dom;)d=$fe(d);else a.insertBefore(f.dom,d);i=f.dom}for(d=i?i.nextSibling:a.firstChild,d&&r&&r.node==a&&(r.written=!0);d;)d=$fe(d)}else if(this.flags&1)for(let a of this.children)a.flags&7&&(a.sync(e,r),a.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let a;if(e==this.dom)a=this.dom.childNodes[r];else{let i=xO(e)==0?0:r==0?-1:1;for(;;){let d=e.parentNode;if(d==this.dom)break;i==0&&d.firstChild!=d.lastChild&&(e==d.firstChild?i=-1:i=1),e=d}i<0?a=e:a=e.nextSibling}if(a==this.dom.firstChild)return 0;for(;a&&!Vl.get(a);)a=a.nextSibling;if(!a)return this.length;for(let i=0,d=0;;i++){let f=this.children[i];if(f.dom==a)return d;d+=f.length+f.breakAfter}}domBoundsAround(e,r,a=0){let i=-1,d=-1,f=-1,h=-1;for(let c=0,g=a,v=a;c<this.children.length;c++){let y=this.children[c],b=g+y.length;if(g<e&&b>r)return y.domBoundsAround(e,r,g);if(b>=e&&i==-1&&(i=c,d=g),g>r&&y.dom.parentNode==this.dom){f=c,h=v;break}v=b,g=b+y.breakAfter}return{from:d,to:h<0?a+this.length:h,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:f<this.children.length&&f>=0?this.children[f].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,a=hie){this.markDirty();for(let i=e;i<r;i++){let d=this.children[i];d.parent==this&&a.indexOf(d)<0&&d.destroy()}this.children.splice(e,r-e,...a);for(let i=0;i<a.length;i++)a[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new $ve(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,a,i,d,f){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.destroy();this.parent=null}}Vl.prototype.breakAfter=0;function $fe(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class $ve{constructor(e,r,a){this.children=e,this.pos=r,this.i=a,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let a=this.children[--this.i];this.pos-=a.length+a.breakAfter}}}function Lve(t,e,r,a,i,d,f,h,c){let{children:g}=t,v=g.length?g[e]:null,y=d.length?d[d.length-1]:null,b=y?y.breakAfter:f;if(!(e==a&&v&&!f&&!b&&d.length<2&&v.merge(r,i,d.length?y:null,r==0,h,c))){if(a<g.length){let O=g[a];O&&(i<O.length||O.breakAfter&&(y!=null&&y.breakAfter))?(e==a&&(O=O.split(i),i=0),!b&&y&&O.merge(0,i,y,!0,0,c)?d[d.length-1]=O:((i||O.children.length&&!O.children[0].length)&&O.merge(0,i,null,!1,0,c),d.push(O))):O!=null&&O.breakAfter&&(y?y.breakAfter=1:f=1),a++}for(v&&(v.breakAfter=f,r>0&&(!f&&d.length&&v.merge(r,v.length,d[0],!1,h,0)?v.breakAfter=d.shift().breakAfter:(r<v.length||v.children.length&&v.children[v.children.length-1].length==0)&&v.merge(r,v.length,null,!1,h,0),e++));e<a&&d.length;)if(g[a-1].become(d[d.length-1]))a--,d.pop(),c=d.length?0:h;else if(g[e].become(d[0]))e++,d.shift(),h=d.length?0:c;else break;!d.length&&e&&a<g.length&&!g[e-1].breakAfter&&g[a].merge(0,0,g[e-1],!1,h,c)&&e--,(e<a||d.length)&&t.replaceChildren(e,a,d)}}function Ive(t,e,r,a,i,d){let f=t.childCursor(),{i:h,off:c}=f.findPos(r,1),{i:g,off:v}=f.findPos(e,-1),y=e-r;for(let b of a)y+=b.length;t.length+=y,Lve(t,g,v,h,c,a,0,i,d)}let dg=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},mse=typeof document<"u"?document:{documentElement:{style:{}}};const gse=/Edge\/(\d+)/.exec(dg.userAgent),Nve=/MSIE \d/.test(dg.userAgent),pse=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(dg.userAgent),kU=!!(Nve||pse||gse),Lfe=!kU&&/gecko\/(\d+)/i.test(dg.userAgent),Ire=!kU&&/Chrome\/(\d+)/.exec(dg.userAgent),Ife="webkitFontSmoothing"in mse.documentElement.style,Bve=!kU&&/Apple Computer/.test(dg.vendor),Nfe=Bve&&(/Mobile\/\w+/.test(dg.userAgent)||dg.maxTouchPoints>2);var us={mac:Nfe||/Mac/.test(dg.platform),windows:/Win/.test(dg.platform),linux:/Linux|X11/.test(dg.platform),ie:kU,ie_version:Nve?mse.documentMode||6:pse?+pse[1]:gse?+gse[1]:0,gecko:Lfe,gecko_version:Lfe?+(/Firefox\/(\d+)/.exec(dg.userAgent)||[0,0])[1]:0,chrome:!!Ire,chrome_version:Ire?+Ire[1]:0,ios:Nfe,android:/Android\b/.test(dg.userAgent),webkit:Ife,safari:Bve,webkit_version:Ife?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:mse.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const qCe=256;class SO extends Vl{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,a){return this.flags&8||a&&(!(a instanceof SO)||this.length-(r-e)+a.length>qCe||a.flags&8)?!1:(this.text=this.text.slice(0,e)+(a?a.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new SO(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new kd(this.dom,e)}domBoundsAround(e,r,a){return{from:a,to:a+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return KCe(this.dom,e,r)}}class wO extends Vl{constructor(e,r=[],a=0){super(),this.mark=e,this.children=r,this.length=a;for(let i of r)i.setParent(this)}setAttrs(e){if(Rve(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,a,i,d,f){return a&&(!(a instanceof wO&&a.mark.eq(this.mark))||e&&d<=0||r<this.length&&f<=0)?!1:(Ive(this,e,r,a?a.children:[],d-1,f-1),this.markDirty(),!0)}split(e){let r=[],a=0,i=-1,d=0;for(let h of this.children){let c=a+h.length;c>e&&r.push(a<e?h.split(e-a):h),i<0&&a>=e&&(i=d),a=c,d++}let f=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new wO(this.mark,r,f)}domAtPos(e){return Qve(this,e)}coordsAt(e,r){return Vve(this,e,r)}}function KCe(t,e,r){let a=t.nodeValue.length;e>a&&(e=a);let i=e,d=e,f=0;e==0&&r<0||e==a&&r>=0?us.chrome||us.gecko||(e?(i--,f=1):d<a&&(d++,f=-1)):r<0?i--:d<a&&d++;let h=N3(t,i,d).getClientRects();if(!h.length)return null;let c=h[(f?f<0:r>=0)?0:h.length-1];return us.safari&&!f&&c.width==0&&(c=Array.prototype.find.call(h,g=>g.width)||c),f?CU(c,f<0):c||null}class pS extends Vl{static create(e,r,a){return new pS(e,r,a)}constructor(e,r,a){super(),this.widget=e,this.length=r,this.side=a,this.prevWidget=null}split(e){let r=pS.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,r,a,i,d,f){return a&&(!(a instanceof pS)||!this.widget.compare(a.widget)||e>0&&d<=0||r<this.length&&f<=0)?!1:(this.length=e+(a?a.length:0)+(this.length-r),!0)}become(e){return e instanceof pS&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Oi.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,a=r&&r.state.doc,i=this.posAtStart;return a?a.slice(i,i+this.length):Oi.empty}domAtPos(e){return(this.length?e==0:this.side>0)?kd.before(this.dom):kd.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let a=this.widget.coordsAt(this.dom,e,r);if(a)return a;let i=this.dom.getClientRects(),d=null;if(!i.length)return null;let f=this.side?this.side<0:e>0;for(let h=f?i.length-1:0;d=i[h],!(e>0?h==0:h==i.length-1||d.top<d.bottom);h+=f?-1:1);return CU(d,!f)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class dM extends Vl{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof dM&&e.side==this.side}split(){return new dM(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?kd.before(this.dom):kd.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Oi.empty}get isHidden(){return!0}}SO.prototype.children=pS.prototype.children=dM.prototype.children=hie;function Qve(t,e){let r=t.dom,{children:a}=t,i=0;for(let d=0;i<a.length;i++){let f=a[i],h=d+f.length;if(!(h==d&&f.getSide()<=0)){if(e>d&&e<h&&f.dom.parentNode==r)return f.domAtPos(e-d);if(e<=d)break;d=h}}for(let d=i;d>0;d--){let f=a[d-1];if(f.dom.parentNode==r)return f.domAtPos(f.length)}for(let d=i;d<a.length;d++){let f=a[d];if(f.dom.parentNode==r)return f.domAtPos(0)}return new kd(r,0)}function Fve(t,e,r){let a,{children:i}=t;r>0&&e instanceof wO&&i.length&&(a=i[i.length-1])instanceof wO&&a.mark.eq(e.mark)?Fve(a,e.children[0],r-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Vve(t,e,r){let a=null,i=-1,d=null,f=-1;function h(g,v){for(let y=0,b=0;y<g.children.length&&b<=v;y++){let O=g.children[y],C=b+O.length;C>=v&&(O.children.length?h(O,v-b):(!d||d.isHidden&&r>0)&&(C>v||b==C&&O.getSide()>0)?(d=O,f=v-b):(b<v||b==C&&O.getSide()<0&&!O.isHidden)&&(a=O,i=v-b)),b=C}}h(t,e);let c=(r<0?a:d)||a||d;return c?c.coordsAt(Math.max(0,c==a?i:f),r):JCe(t)}function JCe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=fM(e);return r[r.length-1]||null}function vse(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const Bfe=Object.create(null);function mie(t,e,r){if(t==e)return!0;t||(t=Bfe),e||(e=Bfe);let a=Object.keys(t),i=Object.keys(e);if(a.length-(r&&a.indexOf(r)>-1?1:0)!=i.length-(r&&i.indexOf(r)>-1?1:0))return!1;for(let d of a)if(d!=r&&(i.indexOf(d)==-1||t[d]!==e[d]))return!1;return!0}function yse(t,e,r){let a=!1;if(e)for(let i in e)r&&i in r||(a=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(r)for(let i in r)e&&e[i]==r[i]||(a=!0,i=="style"?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return a}function e3e(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let a=t.attributes[r];e[a.name]=a.value}return e}class Nu extends Vl{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,a,i,d,f){if(a){if(!(a instanceof Nu))return!1;this.dom||a.transferDOM(this)}return i&&this.setDeco(a?a.attrs:null),Ive(this,e,r,a?a.children:[],d,f),!0}split(e){let r=new Nu;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:a,off:i}=this.childPos(e);i&&(r.append(this.children[a].split(i),0),this.children[a].merge(i,this.children[a].length,null,!1,0,0),a++);for(let d=a;d<this.children.length;d++)r.append(this.children[d],0);for(;a>0&&this.children[a-1].length==0;)this.children[--a].destroy();return this.children.length=a,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){mie(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){Fve(this,e,r)}addLineDeco(e){let r=e.spec.attributes,a=e.spec.class;r&&(this.attrs=vse(r,this.attrs||{})),a&&(this.attrs=vse({class:a},this.attrs||{}))}domAtPos(e){return Qve(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var a;this.dom?this.flags&4&&(Rve(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(yse(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let i=this.dom.lastChild;for(;i&&Vl.get(i)instanceof wO;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((a=Vl.get(i))===null||a===void 0?void 0:a.isEditable)==!1&&(!us.ios||!this.children.some(d=>d instanceof SO))){let d=document.createElement("BR");d.cmIgnore=!0,this.dom.appendChild(d)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let a of this.children){if(!(a instanceof SO)||/[^ -~]/.test(a.text))return null;let i=fM(a.dom);if(i.length!=1)return null;e+=i[0].width,r=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let a=Vve(this,e,r);if(!this.children.length&&a&&this.parent){let{heightOracle:i}=this.parent.view.viewState,d=a.bottom-a.top;if(Math.abs(d-i.lineHeight)<2&&i.textHeight<d){let f=(d-i.textHeight)/2;return{top:a.top+f,bottom:a.bottom-f,left:a.left,right:a.left}}}return a}become(e){return!1}covers(){return!0}static find(e,r){for(let a=0,i=0;a<e.children.length;a++){let d=e.children[a],f=i+d.length;if(f>=r){if(d instanceof Nu)return d;if(f>r)break}i=f+d.breakAfter}return null}}class xS extends Vl{constructor(e,r,a){super(),this.widget=e,this.length=r,this.deco=a,this.breakAfter=0,this.prevWidget=null}merge(e,r,a,i,d,f){return a&&(!(a instanceof xS)||!this.widget.compare(a.widget)||e>0&&d<=0||r<this.length&&f<=0)?!1:(this.length=e+(a?a.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?kd.before(this.dom):kd.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let a=new xS(this.widget,r,this.deco);return a.breakAfter=this.breakAfter,a}get children(){return hie}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Oi.empty}domBoundsAround(){return null}become(e){return e instanceof xS&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){return this.widget.coordsAt(this.dom,e,r)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:a}=this.deco;return r==a?!1:e<0?r<0:a>0}}class ay{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,a){return null}get isHidden(){return!1}destroy(e){}}var hh=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(hh||(hh={}));class Bs extends I3{constructor(e,r,a,i){super(),this.startSide=e,this.endSide=r,this.widget=a,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Y$(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),a=!!e.block;return r+=a&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new PS(e,r,r,a,e.widget||null,!1)}static replace(e){let r=!!e.block,a,i;if(e.isBlockGap)a=-5e8,i=4e8;else{let{start:d,end:f}=zve(e,r);a=(d?r?-3e8:-1:5e8)-1,i=(f?r?2e8:1:-6e8)+1}return new PS(e,a,i,r,e.widget||null,!0)}static line(e){return new X$(e)}static set(e,r=!1){return qi.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Bs.none=qi.empty;class Y$ extends Bs{constructor(e){let{start:r,end:a}=zve(e);super(r?-1:5e8,a?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,a;return this==e||e instanceof Y$&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((a=e.attrs)===null||a===void 0?void 0:a.class))&&mie(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}Y$.prototype.point=!1;class X$ extends Bs{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof X$&&this.spec.class==e.spec.class&&mie(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}X$.prototype.mapMode=Gf.TrackBefore;X$.prototype.point=!0;class PS extends Bs{constructor(e,r,a,i,d,f){super(r,a,d,e),this.block=i,this.isReplace=f,this.mapMode=i?r<=0?Gf.TrackBefore:Gf.TrackAfter:Gf.TrackDel}get type(){return this.startSide!=this.endSide?hh.WidgetRange:this.startSide<=0?hh.WidgetBefore:hh.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PS&&t3e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}PS.prototype.point=!0;function zve(t,e=!1){let{inclusiveStart:r,inclusiveEnd:a}=t;return r==null&&(r=t.inclusive),a==null&&(a=t.inclusive),{start:r??e,end:a??e}}function t3e(t,e){return t==e||!!(t&&e&&t.compare(e))}function bse(t,e,r,a=0){let i=r.length-1;i>=0&&r[i]+a>=t?r[i]=Math.max(r[i],e):r.push(t,e)}class YD{constructor(e,r,a,i){this.doc=e,this.pos=r,this.end=a,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof xS&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Nu),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(sZ(new dM(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof xS)&&this.getLine()}buildText(e,r,a){for(;e>0;){if(this.textOff==this.text.length){let{value:d,lineBreak:f,done:h}=this.cursor.next(this.skip);if(this.skip=0,h)throw new Error("Ran out of text content when drawing inline views");if(f){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=d,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-a)),this.getLine().append(sZ(new SO(this.text.slice(this.textOff,this.textOff+i)),r),a),this.atCursorPos=!0,this.textOff+=i,e-=i,a=0}}span(e,r,a,i){this.buildText(r-e,a,i),this.pos=r,this.openStart<0&&(this.openStart=i)}point(e,r,a,i,d,f){if(this.disallowBlockEffectsFor[f]&&a instanceof PS){if(a.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let h=r-e;if(a instanceof PS)if(a.block)a.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new xS(a.widget||new Qfe("div"),h,a));else{let c=pS.create(a.widget||new Qfe("span"),h,h?0:a.startSide),g=this.atCursorPos&&!c.isEditable&&d<=i.length&&(e<r||a.startSide>0),v=!c.isEditable&&(e<r||d>i.length||a.startSide<=0),y=this.getLine();this.pendingBuffer==2&&!g&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),g&&(y.append(sZ(new dM(1),i),d),d=i.length+Math.max(0,d-i.length)),y.append(sZ(c,i),d),this.atCursorPos=v,this.pendingBuffer=v?e<r||d>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(a);h&&(this.textOff+h<=this.text.length?this.textOff+=h:(this.skip+=h-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=d)}static build(e,r,a,i,d){let f=new YD(e,r,a,d);return f.openEnd=qi.spans(i,r,a,f),f.openStart<0&&(f.openStart=f.openEnd),f.finish(f.openEnd),f}}function sZ(t,e){for(let r of e)t=new wO(r,[t],t.length);return t}class Qfe extends ay{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Zve=ss.define(),Hve=ss.define(),Uve=ss.define(),Wve=ss.define(),Ose=ss.define(),Yve=ss.define(),Xve=ss.define(),Gve=ss.define({combine:t=>t.some(e=>e)}),jve=ss.define({combine:t=>t.some(e=>e)});class nM{constructor(e,r="nearest",a="nearest",i=5,d=5,f=!1){this.range=e,this.y=r,this.x=a,this.yMargin=i,this.xMargin=d,this.isSnapshot=f}map(e){return e.empty?this:new nM(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new nM(Tr.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const aZ=pa.define({map:(t,e)=>t.map(e)});function Ap(t,e,r){let a=t.facet(Wve);a.length?a[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const AU=ss.define({combine:t=>t.length?t[0]:!0});let n3e=0;const ID=ss.define();class tu{constructor(e,r,a,i,d){this.id=e,this.create=r,this.domEventHandlers=a,this.domEventObservers=i,this.extension=d(this)}static define(e,r){const{eventHandlers:a,eventObservers:i,provide:d,decorations:f}=r||{};return new tu(n3e++,e,a,i,h=>{let c=[ID.of(h)];return f&&c.push(g$.of(g=>{let v=g.plugin(h);return v?f(v):Bs.none})),d&&c.push(d(h)),c})}static fromClass(e,r){return tu.define(a=>new e(a),r)}}class Nre{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(a){if(Ap(r.state,a,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){Ap(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(a){Ap(e.state,a,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const qve=ss.define(),gie=ss.define(),g$=ss.define(),pie=ss.define(),Kve=ss.define();function Ffe(t,e,r){let a=t.state.facet(Kve);if(!a.length)return a;let i=a.map(f=>f instanceof Function?f(t):f),d=[];return qi.spans(i,e,r,{point(){},span(f,h,c,g){let v=d;for(let y=c.length-1;y>=0;y--,g--){let b=c[y].spec.bidiIsolate,O;if(b!=null)if(g>0&&v.length&&(O=v[v.length-1]).to==f&&O.direction==b)O.to=h,v=O.inner;else{let C={from:f,to:h,direction:b,inner:[]};v.push(C),v=C.inner}}}}),d}const Jve=ss.define();function e0e(t){let e=0,r=0,a=0,i=0;for(let d of t.state.facet(Jve)){let f=d(t);f&&(f.left!=null&&(e=Math.max(e,f.left)),f.right!=null&&(r=Math.max(r,f.right)),f.top!=null&&(a=Math.max(a,f.top)),f.bottom!=null&&(i=Math.max(i,f.bottom)))}return{left:e,right:r,top:a,bottom:i}}const ND=ss.define();class Pp{constructor(e,r,a,i){this.fromA=e,this.toA=r,this.fromB=a,this.toB=i}join(e){return new Pp(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,a=this;for(;r>0;r--){let i=e[r-1];if(!(i.fromA>a.toA)){if(i.toA<a.fromA)break;a=a.join(i),e.splice(r-1,1)}}return e.splice(r,0,a),e}static extendWithRanges(e,r){if(r.length==0)return e;let a=[];for(let i=0,d=0,f=0,h=0;;i++){let c=i==e.length?null:e[i],g=f-h,v=c?c.fromB:1e9;for(;d<r.length&&r[d]<v;){let y=r[d],b=r[d+1],O=Math.max(h,y),C=Math.min(v,b);if(O<=C&&new Pp(O+g,C+g,O,C).addToSet(a),b>v)break;d+=2}if(!c)return a;new Pp(c.fromA,c.toA,c.fromB,c.toB).addToSet(a),f=c.toA,h=c.toB}}}class vH{constructor(e,r,a){this.view=e,this.state=r,this.transactions=a,this.flags=0,this.startState=e.state,this.changes=Bu.empty(this.startState.doc.length);for(let d of a)this.changes=this.changes.compose(d.changes);let i=[];this.changes.iterChangedRanges((d,f,h,c)=>i.push(new Pp(d,f,h,c))),this.changedRanges=i}static create(e,r,a){return new vH(e,r,a)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var yc=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(yc||(yc={}));const p$=yc.LTR,t0e=yc.RTL;function n0e(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const r3e=n0e("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),o3e=n0e("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),xse=Object.create(null),B1=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);xse[e]=r,xse[r]=-e}function s3e(t){return t<=247?r3e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?o3e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const a3e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class vS{get dir(){return this.level%2?t0e:p$}constructor(e,r,a){this.from=e,this.to=r,this.level=a}side(e,r){return this.dir==r==e?this.to:this.from}static find(e,r,a,i){let d=-1;for(let f=0;f<e.length;f++){let h=e[f];if(h.from<=r&&h.to>=r){if(h.level==a)return f;(d<0||(i!=0?i<0?h.from<r:h.to>r:e[d].level>h.level))&&(d=f)}}if(d<0)throw new RangeError("Index out of range");return d}}function r0e(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let a=t[r],i=e[r];if(a.from!=i.from||a.to!=i.to||a.direction!=i.direction||!r0e(a.inner,i.inner))return!1}return!0}const vl=[];function i3e(t,e,r,a,i){for(let d=0;d<=a.length;d++){let f=d?a[d-1].to:e,h=d<a.length?a[d].from:r,c=d?256:i;for(let g=f,v=c,y=c;g<h;g++){let b=s3e(t.charCodeAt(g));b==512?b=v:b==8&&y==4&&(b=16),vl[g]=b==4?2:b,b&7&&(y=b),v=b}for(let g=f,v=c,y=c;g<h;g++){let b=vl[g];if(b==128)g<h-1&&v==vl[g+1]&&v&24?b=vl[g]=v:vl[g]=256;else if(b==64){let O=g+1;for(;O<h&&vl[O]==64;)O++;let C=g&&v==8||O<r&&vl[O]==8?y==1?1:8:256;for(let k=g;k<O;k++)vl[k]=C;g=O-1}else b==8&&y==1&&(vl[g]=1);v=b,b&7&&(y=b)}}}function l3e(t,e,r,a,i){let d=i==1?2:1;for(let f=0,h=0,c=0;f<=a.length;f++){let g=f?a[f-1].to:e,v=f<a.length?a[f].from:r;for(let y=g,b,O,C;y<v;y++)if(O=xse[b=t.charCodeAt(y)])if(O<0){for(let k=h-3;k>=0;k-=3)if(B1[k+1]==-O){let w=B1[k+2],T=w&2?i:w&4?w&1?d:i:0;T&&(vl[y]=vl[B1[k]]=T),h=k;break}}else{if(B1.length==189)break;B1[h++]=y,B1[h++]=b,B1[h++]=c}else if((C=vl[y])==2||C==1){let k=C==i;c=k?0:1;for(let w=h-3;w>=0;w-=3){let T=B1[w+2];if(T&2)break;if(k)B1[w+2]|=2;else{if(T&4)break;B1[w+2]|=4}}}}}function c3e(t,e,r,a){for(let i=0,d=a;i<=r.length;i++){let f=i?r[i-1].to:t,h=i<r.length?r[i].from:e;for(let c=f;c<h;){let g=vl[c];if(g==256){let v=c+1;for(;;)if(v==h){if(i==r.length)break;v=r[i++].to,h=i<r.length?r[i].from:e}else if(vl[v]==256)v++;else break;let y=d==1,b=(v<e?vl[v]:a)==1,O=y==b?y?1:2:a;for(let C=v,k=i,w=k?r[k-1].to:t;C>c;)C==w&&(C=r[--k].from,w=k?r[k-1].to:t),vl[--C]=O;c=v}else d=g,c++}}}function Sse(t,e,r,a,i,d,f){let h=a%2?2:1;if(a%2==i%2)for(let c=e,g=0;c<r;){let v=!0,y=!1;if(g==d.length||c<d[g].from){let k=vl[c];k!=h&&(v=!1,y=k==16)}let b=!v&&h==1?[]:null,O=v?a:a+1,C=c;e:for(;;)if(g<d.length&&C==d[g].from){if(y)break e;let k=d[g];if(!v)for(let w=k.to,T=g+1;;){if(w==r)break e;if(T<d.length&&d[T].from==w)w=d[T++].to;else{if(vl[w]==h)break e;break}}if(g++,b)b.push(k);else{k.from>c&&f.push(new vS(c,k.from,O));let w=k.direction==p$!=!(O%2);wse(t,w?a+1:a,i,k.inner,k.from,k.to,f),c=k.to}C=k.to}else{if(C==r||(v?vl[C]!=h:vl[C]==h))break;C++}b?Sse(t,c,C,a+1,i,b,f):c<C&&f.push(new vS(c,C,O)),c=C}else for(let c=r,g=d.length;c>e;){let v=!0,y=!1;if(!g||c>d[g-1].to){let k=vl[c-1];k!=h&&(v=!1,y=k==16)}let b=!v&&h==1?[]:null,O=v?a:a+1,C=c;e:for(;;)if(g&&C==d[g-1].to){if(y)break e;let k=d[--g];if(!v)for(let w=k.from,T=g;;){if(w==e)break e;if(T&&d[T-1].to==w)w=d[--T].from;else{if(vl[w-1]==h)break e;break}}if(b)b.push(k);else{k.to<c&&f.push(new vS(k.to,c,O));let w=k.direction==p$!=!(O%2);wse(t,w?a+1:a,i,k.inner,k.from,k.to,f),c=k.from}C=k.from}else{if(C==e||(v?vl[C-1]!=h:vl[C-1]==h))break;C--}b?Sse(t,C,c,a+1,i,b,f):C<c&&f.push(new vS(C,c,O)),c=C}}function wse(t,e,r,a,i,d,f){let h=e%2?2:1;i3e(t,i,d,a,h),l3e(t,i,d,a,h),c3e(i,d,a,h),Sse(t,i,d,e,r,a,f)}function u3e(t,e,r){if(!t)return[new vS(0,0,e==t0e?1:0)];if(e==p$&&!r.length&&!a3e.test(t))return o0e(t.length);if(r.length)for(;t.length>vl.length;)vl[vl.length]=256;let a=[],i=e==p$?0:1;return wse(t,i,i,r,0,t.length,a),a}function o0e(t){return[new vS(0,t,0)]}let s0e="";function f3e(t,e,r,a,i){var d;let f=a.head-t.from,h=-1;if(f==0){if(!i||!t.length)return null;e[0].level!=r&&(f=e[0].side(!1,r),h=0)}else if(f==t.length){if(i)return null;let b=e[e.length-1];b.level!=r&&(f=b.side(!0,r),h=e.length-1)}h<0&&(h=vS.find(e,f,(d=a.bidiLevel)!==null&&d!==void 0?d:-1,a.assoc));let c=e[h];f==c.side(i,r)&&(c=e[h+=i?1:-1],f=c.side(!i,r));let g=i==(c.dir==r),v=jf(t.text,f,g);if(s0e=t.text.slice(Math.min(f,v),Math.max(f,v)),v!=c.side(i,r))return Tr.cursor(v+t.from,g?-1:1,c.level);let y=h==(i?e.length-1:0)?null:e[h+(i?1:-1)];return!y&&c.level!=r?Tr.cursor(i?t.to:t.from,i?-1:1,r):y&&y.level<c.level?Tr.cursor(y.side(!i,r)+t.from,i?1:-1,y.level):Tr.cursor(v+t.from,i?-1:1,c.level)}class Vfe extends Vl{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Nu],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Pp(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let a=e.changedRanges;this.minWidth>0&&a.length&&(a.every(({fromA:g,toA:v})=>v<this.minWidthFrom||g>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?i=this.domChanged.newSel.head:!y3e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let d=i>-1?h3e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:g,to:v}=this.hasComposition;a=new Pp(g,v,e.changes.mapPos(g,-1),e.changes.mapPos(v,1)).addToSet(a.slice())}this.hasComposition=d?{from:d.range.fromB,to:d.range.toB}:null,(us.ie||us.chrome)&&!d&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let f=this.decorations,h=this.updateDeco(),c=p3e(f,h,e.changes);return a=Pp.extendWithRanges(a,c),!(this.flags&7)&&a.length==0?!1:(this.updateInner(a,e.startState.doc.length,d),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,a){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,a);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let f=us.chrome||us.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,f),this.flags&=-8,f&&(f.written||i.selectionRange.focusNode!=f.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(f=>f.flags&=-9);let d=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let f of this.children)f instanceof xS&&f.widget instanceof zfe&&d.push(f.dom);i.updateGaps(d)}updateChildren(e,r,a){let i=a?a.range.addToSet(e.slice()):e,d=this.childCursor(r);for(let f=i.length-1;;f--){let h=f>=0?i[f]:null;if(!h)break;let{fromA:c,toA:g,fromB:v,toB:y}=h,b,O,C,k;if(a&&a.range.fromB<y&&a.range.toB>v){let I=YD.build(this.view.state.doc,v,a.range.fromB,this.decorations,this.dynamicDecorationMap),V=YD.build(this.view.state.doc,a.range.toB,y,this.decorations,this.dynamicDecorationMap);O=I.breakAtStart,C=I.openStart,k=V.openEnd;let N=this.compositionView(a);V.breakAtStart?N.breakAfter=1:V.content.length&&N.merge(N.length,N.length,V.content[0],!1,V.openStart,0)&&(N.breakAfter=V.content[0].breakAfter,V.content.shift()),I.content.length&&N.merge(0,0,I.content[I.content.length-1],!0,0,I.openEnd)&&I.content.pop(),b=I.content.concat(N).concat(V.content)}else({content:b,breakAtStart:O,openStart:C,openEnd:k}=YD.build(this.view.state.doc,v,y,this.decorations,this.dynamicDecorationMap));let{i:w,off:T}=d.findPos(g,1),{i:R,off:M}=d.findPos(c,-1);Lve(this,R,M,w,T,b,O,C,k)}a&&this.fixCompositionDOM(a)}compositionView(e){let r=new SO(e.text.nodeValue);r.flags|=8;for(let{deco:i}of e.marks)r=new wO(i,[r],r.length);let a=new Nu;return a.append(r,0),a}fixCompositionDOM(e){let r=(d,f)=>{f.flags|=8|(f.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(f);let h=Vl.get(d);h&&h!=f&&(h.dom=null),f.setDOM(d)},a=this.childPos(e.range.fromB,1),i=this.children[a.i];r(e.line,i);for(let d=e.marks.length-1;d>=-1;d--)a=i.childPos(a.off,1),i=i.children[a.i],r(d>=0?e.marks[d].node:e.text,i)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let a=this.view.root.activeElement,i=a==this.dom,d=!i&&UZ(this.dom,this.view.observer.selectionRange)&&!(a&&this.dom.contains(a));if(!(i||r||d))return;let f=this.forceSelection;this.forceSelection=!1;let h=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(h.anchor)),g=h.empty?c:this.moveToLine(this.domAtPos(h.head));if(us.gecko&&h.empty&&!this.hasComposition&&d3e(c)){let y=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(y,c.node.childNodes[c.offset]||null)),c=g=new kd(y,0),f=!0}let v=this.view.observer.selectionRange;(f||!v.focusNode||!pH(c.node,c.offset,v.anchorNode,v.anchorOffset)||!pH(g.node,g.offset,v.focusNode,v.focusOffset))&&(this.view.observer.ignore(()=>{us.android&&us.chrome&&this.dom.contains(v.focusNode)&&v3e(v.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let y=gH(this.view.root);if(y)if(h.empty){if(us.gecko){let b=m3e(c.node,c.offset);if(b&&b!=3){let O=i0e(c.node,c.offset,b==1?1:-1);O&&(c=new kd(O.node,O.offset))}}y.collapse(c.node,c.offset),h.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=h.bidiLevel)}else if(y.extend){y.collapse(c.node,c.offset);try{y.extend(g.node,g.offset)}catch{}}else{let b=document.createRange();h.anchor>h.head&&([c,g]=[g,c]),b.setEnd(g.node,g.offset),b.setStart(c.node,c.offset),y.removeAllRanges(),y.addRange(b)}d&&this.view.root.activeElement==this.dom&&(this.dom.blur(),a&&a.focus())}),this.view.observer.setSelectionRange(c,g)),this.impreciseAnchor=c.precise?null:new kd(v.anchorNode,v.anchorOffset),this.impreciseHead=g.precise?null:new kd(v.focusNode,v.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,a=gH(e.root),{anchorNode:i,anchorOffset:d}=e.observer.selectionRange;if(!a||!r.empty||!r.assoc||!a.modify)return;let f=Nu.find(this,r.head);if(!f)return;let h=f.posAtStart;if(r.head==h||r.head==h+f.length)return;let c=this.coordsAt(r.head,-1),g=this.coordsAt(r.head,1);if(!c||!g||c.bottom>g.top)return;let v=this.domAtPos(r.head+r.assoc);a.collapse(v.node,v.offset),a.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let y=e.observer.selectionRange;e.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=r.from&&a.collapse(i,d)}moveToLine(e){let r=this.dom,a;if(e.node!=r)return e;for(let i=e.offset;!a&&i<r.childNodes.length;i++){let d=Vl.get(r.childNodes[i]);d instanceof Nu&&(a=d.domAtPos(0))}for(let i=e.offset-1;!a&&i>=0;i--){let d=Vl.get(r.childNodes[i]);d instanceof Nu&&(a=d.domAtPos(d.length))}return a?new kd(a.node,a.offset,!0):e}nearest(e){for(let r=e;r;){let a=Vl.get(r);if(a&&a.rootView==this)return a;r=r.parentNode}return null}posFromDOM(e,r){let a=this.nearest(e);if(!a)throw new RangeError("Trying to find position for a DOM position outside of the document");return a.localPosFromDOM(e,r)+a.posAtStart}domAtPos(e){let{i:r,off:a}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let i=this.children[r];if(a<i.length||i instanceof Nu)break;r++,a=0}return this.children[r].domAtPos(a)}coordsAt(e,r){let a=null,i=0;for(let d=this.length,f=this.children.length-1;f>=0;f--){let h=this.children[f],c=d-h.breakAfter,g=c-h.length;if(c<e)break;g<=e&&(g<e||h.covers(-1))&&(c>e||h.covers(1))&&(!a||h instanceof Nu&&!(a instanceof Nu&&r>=0))&&(a=h,i=g),d=g}return a?a.coordsAt(e-i,r):null}coordsForChar(e){let{i:r,off:a}=this.childPos(e,1),i=this.children[r];if(!(i instanceof Nu))return null;for(;i.children.length;){let{i:h,off:c}=i.childPos(a,1);for(;;h++){if(h==i.children.length)return null;if((i=i.children[h]).length)break}a=c}if(!(i instanceof SO))return null;let d=jf(i.text,a);if(d==a)return null;let f=N3(i.dom,a,d).getClientRects();for(let h=0;h<f.length;h++){let c=f[h];if(h==f.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let r=[],{from:a,to:i}=e,d=this.view.contentDOM.clientWidth,f=d>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,h=-1,c=this.view.textDirection==yc.LTR;for(let g=0,v=0;v<this.children.length;v++){let y=this.children[v],b=g+y.length;if(b>i)break;if(g>=a){let O=y.dom.getBoundingClientRect();if(r.push(O.height),f){let C=y.dom.lastChild,k=C?fM(C):[];if(k.length){let w=k[k.length-1],T=c?w.right-O.left:O.right-w.left;T>h&&(h=T,this.minWidth=d,this.minWidthFrom=g,this.minWidthTo=b)}}}g=b+y.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?yc.RTL:yc.LTR}measureTextSize(){for(let d of this.children)if(d instanceof Nu){let f=d.measureTextSize();if(f)return f}let e=document.createElement("div"),r,a,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let d=fM(e.firstChild)[0];r=e.getBoundingClientRect().height,a=d?d.width/27:7,i=d?d.height:r,e.remove()}),{lineHeight:r,charWidth:a,textHeight:i}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new $ve(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let a=0,i=0;;i++){let d=i==r.viewports.length?null:r.viewports[i],f=d?d.from-1:this.length;if(f>a){let h=(r.lineBlockAt(f).bottom-r.lineBlockAt(a).top)/this.view.scaleY;e.push(Bs.replace({widget:new zfe(h),block:!0,inclusive:!0,isBlockGap:!0}).range(a,f))}if(!d)break;a=d.to+1}return Bs.set(e)}updateDeco(){let e=this.view.state.facet(g$).map((r,a)=>(this.dynamicDecorationMap[a]=typeof r=="function")?r(this.view):r);for(let r=e.length;r<e.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let g=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=g.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:r}=e,a=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),i;if(!a)return;!r.empty&&(i=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(a={left:Math.min(a.left,i.left),top:Math.min(a.top,i.top),right:Math.max(a.right,i.right),bottom:Math.max(a.bottom,i.bottom)});let d=e0e(this.view),f={left:a.left-d.left,top:a.top-d.top,right:a.right+d.right,bottom:a.bottom+d.bottom},{offsetWidth:h,offsetHeight:c}=this.view.scrollDOM;WCe(this.view.scrollDOM,f,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,h),-h),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==yc.LTR)}}function d3e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class zfe extends ay{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function a0e(t,e){let r=t.observer.selectionRange,a=r.focusNode&&i0e(r.focusNode,r.focusOffset,0);if(!a)return null;let i=e-a.offset;return{from:i,to:i+a.node.nodeValue.length,node:a.node}}function h3e(t,e,r){let a=a0e(t,r);if(!a)return null;let{node:i,from:d,to:f}=a,h=i.nodeValue;if(/[\n\r]/.test(h)||t.state.doc.sliceString(a.from,a.to)!=h)return null;let c=e.invertedDesc,g=new Pp(c.mapPos(d),c.mapPos(f),d,f),v=[];for(let y=i.parentNode;;y=y.parentNode){let b=Vl.get(y);if(b instanceof wO)v.push({node:y,deco:b.mark});else{if(b instanceof Nu||y.nodeName=="DIV"&&y.parentNode==t.contentDOM)return{range:g,text:i,marks:v,line:y};if(y!=t.contentDOM)v.push({node:y,deco:new Y$({inclusive:!0,attributes:e3e(y),tagName:y.tagName.toLowerCase()})});else return null}}}function i0e(t,e,r){if(r<=0)for(let a=t,i=e;;){if(a.nodeType==3)return{node:a,offset:i};if(a.nodeType==1&&i>0)a=a.childNodes[i-1],i=xO(a);else break}if(r>=0)for(let a=t,i=e;;){if(a.nodeType==3)return{node:a,offset:i};if(a.nodeType==1&&i<a.childNodes.length&&r>=0)a=a.childNodes[i],i=0;else break}return null}function m3e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let g3e=class{constructor(){this.changes=[]}compareRange(e,r){bse(e,r,this.changes)}comparePoint(e,r){bse(e,r,this.changes)}};function p3e(t,e,r){let a=new g3e;return qi.compare(t,e,r,a),a.changes}function v3e(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function y3e(t,e){let r=!1;return e&&t.iterChangedRanges((a,i)=>{a<e.to&&i>e.from&&(r=!0)}),r}function b3e(t,e,r=1){let a=t.charCategorizer(e),i=t.doc.lineAt(e),d=e-i.from;if(i.length==0)return Tr.cursor(e);d==0?r=1:d==i.length&&(r=-1);let f=d,h=d;r<0?f=jf(i.text,d,!1):h=jf(i.text,d);let c=a(i.text.slice(f,h));for(;f>0;){let g=jf(i.text,f,!1);if(a(i.text.slice(g,f))!=c)break;f=g}for(;h<i.length;){let g=jf(i.text,h);if(a(i.text.slice(h,g))!=c)break;h=g}return Tr.range(f+i.from,h+i.from)}function O3e(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function x3e(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Bre(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Zfe(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Hfe(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Tse(t,e,r){let a,i,d,f,h=!1,c,g,v,y;for(let C=t.firstChild;C;C=C.nextSibling){let k=fM(C);for(let w=0;w<k.length;w++){let T=k[w];i&&Bre(i,T)&&(T=Zfe(Hfe(T,i.bottom),i.top));let R=O3e(e,T),M=x3e(r,T);if(R==0&&M==0)return C.nodeType==3?Ufe(C,e,r):Tse(C,e,r);if(!a||f>M||f==M&&d>R){a=C,i=T,d=R,f=M;let I=M?r<T.top?-1:1:R?e<T.left?-1:1:0;h=!I||(I>0?w<k.length-1:w>0)}R==0?r>T.bottom&&(!v||v.bottom<T.bottom)?(c=C,v=T):r<T.top&&(!y||y.top>T.top)&&(g=C,y=T):v&&Bre(v,T)?v=Hfe(v,T.bottom):y&&Bre(y,T)&&(y=Zfe(y,T.top))}}if(v&&v.bottom>=r?(a=c,i=v):y&&y.top<=r&&(a=g,i=y),!a)return{node:t,offset:0};let b=Math.max(i.left,Math.min(i.right,e));if(a.nodeType==3)return Ufe(a,b,r);if(h&&a.contentEditable!="false")return Tse(a,b,r);let O=Array.prototype.indexOf.call(t.childNodes,a)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:O}}function Ufe(t,e,r){let a=t.nodeValue.length,i=-1,d=1e9,f=0;for(let h=0;h<a;h++){let c=N3(t,h,h+1).getClientRects();for(let g=0;g<c.length;g++){let v=c[g];if(v.top==v.bottom)continue;f||(f=e-v.left);let y=(v.top>r?v.top-r:r-v.bottom)-1;if(v.left-1<=e&&v.right+1>=e&&y<d){let b=e>=(v.left+v.right)/2,O=b;if((us.chrome||us.gecko)&&N3(t,h).getBoundingClientRect().left==v.right&&(O=!b),y<=0)return{node:t,offset:h+(O?1:0)};i=h+(O?1:0),d=y}}}return{node:t,offset:i>-1?i:f>0?t.nodeValue.length:0}}function l0e(t,e,r,a=-1){var i,d;let f=t.contentDOM.getBoundingClientRect(),h=f.top+t.viewState.paddingTop,c,{docHeight:g}=t.viewState,{x:v,y}=e,b=y-h;if(b<0)return 0;if(b>g)return t.state.doc.length;for(let I=t.viewState.heightOracle.textHeight/2,V=!1;c=t.elementAtHeight(b),c.type!=hh.Text;)for(;b=a>0?c.bottom+I:c.top-I,!(b>=0&&b<=g);){if(V)return r?null:0;V=!0,a=-a}y=h+b;let O=c.from;if(O<t.viewport.from)return t.viewport.from==0?0:r?null:Wfe(t,f,c,v,y);if(O>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:Wfe(t,f,c,v,y);let C=t.dom.ownerDocument,k=t.root.elementFromPoint?t.root:C,w=k.elementFromPoint(v,y);w&&!t.contentDOM.contains(w)&&(w=null),w||(v=Math.max(f.left+1,Math.min(f.right-1,v)),w=k.elementFromPoint(v,y),w&&!t.contentDOM.contains(w)&&(w=null));let T,R=-1;if(w&&((i=t.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(C.caretPositionFromPoint){let I=C.caretPositionFromPoint(v,y);I&&({offsetNode:T,offset:R}=I)}else if(C.caretRangeFromPoint){let I=C.caretRangeFromPoint(v,y);I&&({startContainer:T,startOffset:R}=I,(!t.contentDOM.contains(T)||us.safari&&S3e(T,R,v)||us.chrome&&w3e(T,R,v))&&(T=void 0))}}if(!T||!t.docView.dom.contains(T)){let I=Nu.find(t.docView,O);if(!I)return b>c.top+c.height/2?c.to:c.from;({node:T,offset:R}=Tse(I.dom,v,y))}let M=t.docView.nearest(T);if(!M)return null;if(M.isWidget&&((d=M.dom)===null||d===void 0?void 0:d.nodeType)==1){let I=M.dom.getBoundingClientRect();return e.y<I.top||e.y<=I.bottom&&e.x<=(I.left+I.right)/2?M.posAtStart:M.posAtEnd}else return M.localPosFromDOM(T,R)+M.posAtStart}function Wfe(t,e,r,a,i){let d=Math.round((a-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let h=t.viewState.heightOracle.textHeight,c=Math.floor((i-r.top-(t.defaultLineHeight-h)*.5)/h);d+=c*t.viewState.heightOracle.lineLength}let f=t.state.sliceDoc(r.from,r.to);return r.from+use(f,d,t.state.tabSize)}function S3e(t,e,r){let a;if(t.nodeType!=3||e!=(a=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return N3(t,a-1,a).getBoundingClientRect().left>r}function w3e(t,e,r){if(e!=0)return!1;for(let i=t;;){let d=i.parentNode;if(!d||d.nodeType!=1||d.firstChild!=i)return!1;if(d.classList.contains("cm-line"))break;i=d}let a=t.nodeType==1?t.getBoundingClientRect():N3(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-a.left>5}function Cse(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let a of r.type)if(a.to>e||a.to==e&&(a.to==r.to||a.type==hh.Text))return a}return r}function T3e(t,e,r,a){let i=Cse(t,e.head),d=!a||i.type!=hh.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(d){let f=t.dom.getBoundingClientRect(),h=t.textDirectionAt(i.from),c=t.posAtCoords({x:r==(h==yc.LTR)?f.right-1:f.left+1,y:(d.top+d.bottom)/2});if(c!=null)return Tr.cursor(c,r?-1:1)}return Tr.cursor(r?i.to:i.from,r?-1:1)}function Yfe(t,e,r,a){let i=t.state.doc.lineAt(e.head),d=t.bidiSpans(i),f=t.textDirectionAt(i.from);for(let h=e,c=null;;){let g=f3e(i,d,f,h,r),v=s0e;if(!g){if(i.number==(r?t.state.doc.lines:1))return h;v=`
`,i=t.state.doc.line(i.number+(r?1:-1)),d=t.bidiSpans(i),g=Tr.cursor(r?i.from:i.to)}if(c){if(!c(v))return h}else{if(!a)return g;c=a(v)}h=g}}function C3e(t,e,r){let a=t.state.charCategorizer(e),i=a(r);return d=>{let f=a(d);return i==nc.Space&&(i=f),i==f}}function k3e(t,e,r,a){let i=e.head,d=r?1:-1;if(i==(r?t.state.doc.length:0))return Tr.cursor(i,e.assoc);let f=e.goalColumn,h,c=t.contentDOM.getBoundingClientRect(),g=t.coordsAtPos(i,e.assoc||-1),v=t.documentTop;if(g)f==null&&(f=g.left-c.left),h=d<0?g.top:g.bottom;else{let O=t.viewState.lineBlockAt(i);f==null&&(f=Math.min(c.right-c.left,t.defaultCharacterWidth*(i-O.from))),h=(d<0?O.top:O.bottom)+v}let y=c.left+f,b=a??t.viewState.heightOracle.textHeight>>1;for(let O=0;;O+=10){let C=h+(b+O)*d,k=l0e(t,{x:y,y:C},!1,d);if(C<c.top||C>c.bottom||(d<0?k<i:k>i)){let w=t.docView.coordsForChar(k),T=!w||C<w.top?-1:1;return Tr.cursor(k,T,void 0,f)}}}function WZ(t,e,r){for(;;){let a=0;for(let i of t)i.between(e-1,e+1,(d,f,h)=>{if(e>d&&e<f){let c=a||r||(e-d<f-e?-1:1);e=c<0?d:f,a=c}});if(!a)return e}}function Qre(t,e,r){let a=WZ(t.state.facet(pie).map(i=>i(t)),r.from,e.head>r.from?-1:1);return a==r.from?r:Tr.cursor(a,a<r.from?1:-1)}class A3e{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,us.safari&&e.contentDOM.addEventListener("input",()=>null),us.gecko&&Z3e(e.contentDOM.ownerDocument)}handleEvent(e){!L3e(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,r){let a=this.handlers[e];if(a){for(let i of a.observers)i(this.view,r);for(let i of a.handlers){if(r.defaultPrevented)break;if(i(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=P3e(e),a=this.handlers,i=this.view.contentDOM;for(let d in r)if(d!="scroll"){let f=!r[d].handlers.length,h=a[d];h&&f!=!h.handlers.length&&(i.removeEventListener(d,this.handleEvent),h=null),h||i.addEventListener(d,this.handleEvent,{passive:f})}for(let d in a)d!="scroll"&&!r[d]&&i.removeEventListener(d,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&u0e.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),us.android&&us.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return us.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=c0e.find(a=>a.keyCode==e.keyCode))&&!e.ctrlKey||M3e.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,tM(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:us.safari&&!us.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Xfe(t,e){return(r,a)=>{try{return e.call(t,a,r)}catch(i){Ap(r.state,i)}}}function P3e(t){let e=Object.create(null);function r(a){return e[a]||(e[a]={observers:[],handlers:[]})}for(let a of t){let i=a.spec;if(i&&i.domEventHandlers)for(let d in i.domEventHandlers){let f=i.domEventHandlers[d];f&&r(d).handlers.push(Xfe(a.value,f))}if(i&&i.domEventObservers)for(let d in i.domEventObservers){let f=i.domEventObservers[d];f&&r(d).observers.push(Xfe(a.value,f))}}for(let a in Hv)r(a).handlers.push(Hv[a]);for(let a in Uv)r(a).observers.push(Uv[a]);return e}const c0e=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],M3e="dthko",u0e=[16,17,18,20,91,92,224,225],iZ=6;function lZ(t){return Math.max(0,t)*.7+8}function E3e(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class _3e{constructor(e,r,a,i){this.view=e,this.startEvent=r,this.style=a,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParent=YCe(e.contentDOM),this.atoms=e.state.facet(pie).map(f=>f(e));let d=e.contentDOM.ownerDocument;d.addEventListener("mousemove",this.move=this.move.bind(this)),d.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Na.allowMultipleSelections)&&R3e(e,r),this.dragging=$3e(e,r)&&m0e(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var r;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&E3e(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let a=0,i=0,d=((r=this.scrollParent)===null||r===void 0?void 0:r.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},f=e0e(this.view);e.clientX-f.left<=d.left+iZ?a=-lZ(d.left-e.clientX):e.clientX+f.right>=d.right-iZ&&(a=lZ(e.clientX-d.right)),e.clientY-f.top<=d.top+iZ?i=-lZ(d.top-e.clientY):e.clientY+f.bottom>=d.bottom-iZ&&(i=lZ(e.clientY-d.bottom)),this.setScrollSpeed(a,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let a=0;a<e.ranges.length;a++){let i=e.ranges[a],d=null;if(i.empty){let f=WZ(this.atoms,i.from,0);f!=i.from&&(d=Tr.cursor(f,-1))}else{let f=WZ(this.atoms,i.from,-1),h=WZ(this.atoms,i.to,1);(f!=i.from||h!=i.to)&&(d=Tr.range(i.from==i.anchor?f:h,i.from==i.head?f:h))}d&&(r||(r=e.ranges.slice()),r[a]=d)}return r?Tr.create(r,e.mainIndex):e}select(e){let{view:r}=this,a=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!a.eq(r.state.selection)||a.main.assoc!=r.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:a,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function R3e(t,e){let r=t.state.facet(Zve);return r.length?r[0](e):us.mac?e.metaKey:e.ctrlKey}function D3e(t,e){let r=t.state.facet(Hve);return r.length?r[0](e):us.mac?!e.altKey:!e.ctrlKey}function $3e(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let a=gH(t.root);if(!a||a.rangeCount==0)return!0;let i=a.getRangeAt(0).getClientRects();for(let d=0;d<i.length;d++){let f=i[d];if(f.left<=e.clientX&&f.right>=e.clientX&&f.top<=e.clientY&&f.bottom>=e.clientY)return!0}return!1}function L3e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,a;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(a=Vl.get(r))&&a.ignoreEvent(e))return!1;return!0}const Hv=Object.create(null),Uv=Object.create(null),f0e=us.ie&&us.ie_version<15||us.ios&&us.webkit_version<604;function I3e(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),d0e(t,r.value)},50)}function d0e(t,e){let{state:r}=t,a,i=1,d=r.toText(e),f=d.lines==r.selection.ranges.length;if(kse!=null&&r.selection.ranges.every(c=>c.empty)&&kse==d.toString()){let c=-1;a=r.changeByRange(g=>{let v=r.doc.lineAt(g.from);if(v.from==c)return{range:g};c=v.from;let y=r.toText((f?d.line(i++).text:e)+r.lineBreak);return{changes:{from:v.from,insert:y},range:Tr.cursor(g.from+y.length)}})}else f?a=r.changeByRange(c=>{let g=d.line(i++);return{changes:{from:c.from,to:c.to,insert:g.text},range:Tr.cursor(c.from+g.length)}}):a=r.replaceSelection(d);t.dispatch(a,{userEvent:"input.paste",scrollIntoView:!0})}Uv.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Hv.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1);Uv.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Uv.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Hv.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let a of t.state.facet(Uve))if(r=a(t,e),r)break;if(!r&&e.button==0&&(r=Q3e(t,e)),r){let a=!t.hasFocus;t.inputState.startMouseSelection(new _3e(t,e,r,a)),a&&t.observer.ignore(()=>_ve(t.contentDOM));let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Gfe(t,e,r,a){if(a==1)return Tr.cursor(e,r);if(a==2)return b3e(t.state,e,r);{let i=Nu.find(t.docView,e),d=t.state.doc.lineAt(i?i.posAtEnd:e),f=i?i.posAtStart:d.from,h=i?i.posAtEnd:d.to;return h<t.state.doc.length&&h==d.to&&h++,Tr.range(f,h)}}let h0e=(t,e)=>t>=e.top&&t<=e.bottom,jfe=(t,e,r)=>h0e(e,r)&&t>=r.left&&t<=r.right;function N3e(t,e,r,a){let i=Nu.find(t.docView,e);if(!i)return 1;let d=e-i.posAtStart;if(d==0)return 1;if(d==i.length)return-1;let f=i.coordsAt(d,-1);if(f&&jfe(r,a,f))return-1;let h=i.coordsAt(d,1);return h&&jfe(r,a,h)?1:f&&h0e(a,f)?-1:1}function qfe(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:N3e(t,r,e.clientX,e.clientY)}}const B3e=us.ie&&us.ie_version<=11;let Kfe=null,Jfe=0,ede=0;function m0e(t){if(!B3e)return t.detail;let e=Kfe,r=ede;return Kfe=t,ede=Date.now(),Jfe=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Jfe+1)%3:1}function Q3e(t,e){let r=qfe(t,e),a=m0e(e),i=t.state.selection;return{update(d){d.docChanged&&(r.pos=d.changes.mapPos(r.pos),i=i.map(d.changes))},get(d,f,h){let c=qfe(t,d),g,v=Gfe(t,c.pos,c.bias,a);if(r.pos!=c.pos&&!f){let y=Gfe(t,r.pos,r.bias,a),b=Math.min(y.from,v.from),O=Math.max(y.to,v.to);v=b<v.from?Tr.range(b,O):Tr.range(O,b)}return f?i.replaceRange(i.main.extend(v.from,v.to)):h&&a==1&&i.ranges.length>1&&(g=F3e(i,c.pos))?g:h?i.addRange(v):Tr.create([v])}}}function F3e(t,e){for(let r=0;r<t.ranges.length;r++){let{from:a,to:i}=t.ranges[r];if(a<=e&&i>=e)return Tr.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}Hv.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let d=i.posAtStart,f=d+i.length;(d>=r.to||f<=r.from)&&(r=Tr.range(d,f))}}let{inputState:a}=t;return a.mouseSelection&&(a.mouseSelection.dragging=!0),a.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(r.from,r.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Hv.dragend=t=>(t.inputState.draggedContent=null,!1);function tde(t,e,r,a){if(!r)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:d}=t.inputState,f=a&&d&&D3e(t,e)?{from:d.from,to:d.to}:null,h={from:i,insert:r},c=t.state.changes(f?[f,h]:h);t.focus(),t.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:f?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Hv.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let a=Array(r.length),i=0,d=()=>{++i==r.length&&tde(t,e,a.filter(f=>f!=null).join(t.state.lineBreak),!1)};for(let f=0;f<r.length;f++){let h=new FileReader;h.onerror=d,h.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(h.result)||(a[f]=h.result),d()},h.readAsText(r[f])}return!0}else{let a=e.dataTransfer.getData("Text");if(a)return tde(t,e,a,!0),!0}return!1};Hv.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=f0e?null:e.clipboardData;return r?(d0e(t,r.getData("text/plain")||r.getData("text/uri-text")),!0):(I3e(t),!1)};function V3e(t,e){let r=t.dom.parentNode;if(!r)return;let a=r.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.value=e,a.focus(),a.selectionEnd=e.length,a.selectionStart=0,setTimeout(()=>{a.remove(),t.focus()},50)}function z3e(t){let e=[],r=[],a=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),r.push(i));if(!e.length){let i=-1;for(let{from:d}of t.selection.ranges){let f=t.doc.lineAt(d);f.number>i&&(e.push(f.text),r.push({from:f.from,to:Math.min(t.doc.length,f.to+1)})),i=f.number}a=!0}return{text:e.join(t.lineBreak),ranges:r,linewise:a}}let kse=null;Hv.copy=Hv.cut=(t,e)=>{let{text:r,ranges:a,linewise:i}=z3e(t.state);if(!r&&!i)return!1;kse=i?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:a,scrollIntoView:!0,userEvent:"delete.cut"});let d=f0e?null:e.clipboardData;return d?(d.clearData(),d.setData("text/plain",r),!0):(V3e(t,r),!1)};const g0e=AO.define();function p0e(t,e){let r=[];for(let a of t.facet(Xve)){let i=a(t,e);i&&r.push(i)}return r?t.update({effects:r,annotations:g0e.of(!0)}):null}function v0e(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=p0e(t.state,e);r?t.dispatch(r):t.update([])}},10)}Uv.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),v0e(t)};Uv.blur=t=>{t.observer.clearSelectionRange(),v0e(t)};Uv.compositionstart=Uv.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Uv.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,us.chrome&&us.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};Uv.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Hv.beforeinput=(t,e)=>{var r;let a;if(us.chrome&&us.android&&(a=c0e.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var d;(((d=window.visualViewport)===null||d===void 0?void 0:d.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return!1};const nde=new Set;function Z3e(t){nde.has(t)||(nde.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const rde=["pre-wrap","normal","pre-line","break-spaces"];class H3e{constructor(e){this.lineWrapping=e,this.doc=Oi.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,r){let a=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(a+=Math.max(0,Math.ceil((r-e-a*this.lineLength*.5)/this.lineLength))),this.lineHeight*a}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return rde.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let a=0;a<e.length;a++){let i=e[a];i<0?a++:this.heightSamples[Math.floor(i*10)]||(r=!0,this.heightSamples[Math.floor(i*10)]=!0)}return r}refresh(e,r,a,i,d,f){let h=rde.indexOf(e)>-1,c=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=h;if(this.lineWrapping=h,this.lineHeight=r,this.charWidth=a,this.textHeight=i,this.lineLength=d,c){this.heightSamples={};for(let g=0;g<f.length;g++){let v=f[g];v<0?g++:this.heightSamples[Math.floor(v*10)]=!0}}return c}}class U3e{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class W1{constructor(e,r,a,i,d){this.from=e,this.length=r,this.top=a,this.height=i,this._content=d}get type(){return typeof this._content=="number"?hh.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PS?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new W1(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var Ql=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ql||(Ql={}));const YZ=.001;class mh{constructor(e,r,a=2){this.length=e,this.height=r,this.flags=a}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,r){this.height!=r&&(Math.abs(this.height-r)>YZ&&(e.heightChanged=!0),this.height=r)}replace(e,r,a){return mh.of(a)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,a,i){let d=this,f=a.doc;for(let h=i.length-1;h>=0;h--){let{fromA:c,toA:g,fromB:v,toB:y}=i[h],b=d.lineAt(c,Ql.ByPosNoHeight,a.setDoc(r),0,0),O=b.to>=g?b:d.lineAt(g,Ql.ByPosNoHeight,a,0,0);for(y+=O.to-g,g=O.to;h>0&&b.from<=i[h-1].toA;)c=i[h-1].fromA,v=i[h-1].fromB,h--,c<b.from&&(b=d.lineAt(c,Ql.ByPosNoHeight,a,0,0));v+=b.from-c,c=b.from;let C=vie.build(a.setDoc(f),e,v,y);d=d.replace(c,g,C)}return d.updateHeight(a,0)}static empty(){return new lg(0,0)}static of(e){if(e.length==1)return e[0];let r=0,a=e.length,i=0,d=0;for(;;)if(r==a)if(i>d*2){let h=e[r-1];h.break?e.splice(--r,1,h.left,null,h.right):e.splice(--r,1,h.left,h.right),a+=1+h.break,i-=h.size}else if(d>i*2){let h=e[a];h.break?e.splice(a,1,h.left,null,h.right):e.splice(a,1,h.left,h.right),a+=2+h.break,d-=h.size}else break;else if(i<d){let h=e[r++];h&&(i+=h.size)}else{let h=e[--a];h&&(d+=h.size)}let f=0;return e[r-1]==null?(f=1,r--):e[r]==null&&(f=1,a++),new W3e(mh.of(e.slice(0,r)),f,mh.of(e.slice(a)))}}mh.prototype.size=1;class y0e extends mh{constructor(e,r,a){super(e,r),this.deco=a}blockAt(e,r,a,i){return new W1(i,this.length,a,this.height,this.deco||0)}lineAt(e,r,a,i,d){return this.blockAt(0,a,i,d)}forEachLine(e,r,a,i,d,f){e<=d+this.length&&r>=d&&f(this.blockAt(0,a,i,d))}updateHeight(e,r=0,a=!1,i){return i&&i.from<=r&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class lg extends y0e{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,a,i){return new W1(i,this.length,a,this.height,this.breaks)}replace(e,r,a){let i=a[0];return a.length==1&&(i instanceof lg||i instanceof Uf&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Uf?i=new lg(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):mh.of(a)}updateHeight(e,r=0,a=!1,i){return i&&i.from<=r&&i.more?this.setHeight(e,i.heights[i.index++]):(a||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Uf extends mh{constructor(e){super(e,0)}heightMetrics(e,r){let a=e.doc.lineAt(r).number,i=e.doc.lineAt(r+this.length).number,d=i-a+1,f,h=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*d);f=c/d,this.length>d+1&&(h=(this.height-c)/(this.length-d-1))}else f=this.height/d;return{firstLine:a,lastLine:i,perLine:f,perChar:h}}blockAt(e,r,a,i){let{firstLine:d,lastLine:f,perLine:h,perChar:c}=this.heightMetrics(r,i);if(r.lineWrapping){let g=i+Math.round(Math.max(0,Math.min(1,(e-a)/this.height))*this.length),v=r.doc.lineAt(g),y=h+v.length*c,b=Math.max(a,e-y/2);return new W1(v.from,v.length,b,y,0)}else{let g=Math.max(0,Math.min(f-d,Math.floor((e-a)/h))),{from:v,length:y}=r.doc.line(d+g);return new W1(v,y,a+h*g,h,0)}}lineAt(e,r,a,i,d){if(r==Ql.ByHeight)return this.blockAt(e,a,i,d);if(r==Ql.ByPosNoHeight){let{from:O,to:C}=a.doc.lineAt(e);return new W1(O,C-O,0,0,0)}let{firstLine:f,perLine:h,perChar:c}=this.heightMetrics(a,d),g=a.doc.lineAt(e),v=h+g.length*c,y=g.number-f,b=i+h*y+c*(g.from-d-y);return new W1(g.from,g.length,Math.max(i,Math.min(b,i+this.height-v)),v,0)}forEachLine(e,r,a,i,d,f){e=Math.max(e,d),r=Math.min(r,d+this.length);let{firstLine:h,perLine:c,perChar:g}=this.heightMetrics(a,d);for(let v=e,y=i;v<=r;){let b=a.doc.lineAt(v);if(v==e){let C=b.number-h;y+=c*C+g*(e-d-C)}let O=c+g*b.length;f(new W1(b.from,b.length,y,O,0)),y+=O,v=b.to+1}}replace(e,r,a){let i=this.length-r;if(i>0){let d=a[a.length-1];d instanceof Uf?a[a.length-1]=new Uf(d.length+i):a.push(null,new Uf(i-1))}if(e>0){let d=a[0];d instanceof Uf?a[0]=new Uf(e+d.length):a.unshift(new Uf(e-1),null)}return mh.of(a)}decomposeLeft(e,r){r.push(new Uf(e-1),null)}decomposeRight(e,r){r.push(null,new Uf(this.length-e-1))}updateHeight(e,r=0,a=!1,i){let d=r+this.length;if(i&&i.from<=r+this.length&&i.more){let f=[],h=Math.max(r,i.from),c=-1;for(i.from>r&&f.push(new Uf(i.from-r-1).updateHeight(e,r));h<=d&&i.more;){let v=e.doc.lineAt(h).length;f.length&&f.push(null);let y=i.heights[i.index++];c==-1?c=y:Math.abs(y-c)>=YZ&&(c=-2);let b=new lg(v,y);b.outdated=!1,f.push(b),h+=v+1}h<=d&&f.push(null,new Uf(d-h).updateHeight(e,h));let g=mh.of(f);return(c<0||Math.abs(g.height-this.height)>=YZ||Math.abs(c-this.heightMetrics(e,r).perLine)>=YZ)&&(e.heightChanged=!0),g}else(a||this.outdated)&&(this.setHeight(e,e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class W3e extends mh{constructor(e,r,a){super(e.length+r+a.length,e.height+a.height,r|(e.outdated||a.outdated?2:0)),this.left=e,this.right=a,this.size=e.size+a.size}get break(){return this.flags&1}blockAt(e,r,a,i){let d=a+this.left.height;return e<d?this.left.blockAt(e,r,a,i):this.right.blockAt(e,r,d,i+this.left.length+this.break)}lineAt(e,r,a,i,d){let f=i+this.left.height,h=d+this.left.length+this.break,c=r==Ql.ByHeight?e<f:e<h,g=c?this.left.lineAt(e,r,a,i,d):this.right.lineAt(e,r,a,f,h);if(this.break||(c?g.to<h:g.from>h))return g;let v=r==Ql.ByPosNoHeight?Ql.ByPosNoHeight:Ql.ByPos;return c?g.join(this.right.lineAt(h,v,a,f,h)):this.left.lineAt(h,v,a,i,d).join(g)}forEachLine(e,r,a,i,d,f){let h=i+this.left.height,c=d+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,r,a,i,d,f),r>=c&&this.right.forEachLine(e,r,a,h,c,f);else{let g=this.lineAt(c,Ql.ByPos,a,i,d);e<g.from&&this.left.forEachLine(e,g.from-1,a,i,d,f),g.to>=e&&g.from<=r&&f(g),r>g.to&&this.right.forEachLine(g.to+1,r,a,h,c,f)}}replace(e,r,a){let i=this.left.length+this.break;if(r<i)return this.balanced(this.left.replace(e,r,a),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,r-i,a));let d=[];e>0&&this.decomposeLeft(e,d);let f=d.length;for(let h of a)d.push(h);if(e>0&&ode(d,f-1),r<this.length){let h=d.length;this.decomposeRight(r,d),ode(d,h)}return mh.of(d)}decomposeLeft(e,r){let a=this.left.length;if(e<=a)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(a++,e>=a&&r.push(null)),e>a&&this.right.decomposeLeft(e-a,r)}decomposeRight(e,r){let a=this.left.length,i=a+this.break;if(e>=i)return this.right.decomposeRight(e-i,r);e<a&&this.left.decomposeRight(e,r),this.break&&e<i&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?mh.of(this.break?[e,null,r]:[e,r]):(this.left=e,this.right=r,this.height=e.height+r.height,this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,a=!1,i){let{left:d,right:f}=this,h=r+d.length+this.break,c=null;return i&&i.from<=r+d.length&&i.more?c=d=d.updateHeight(e,r,a,i):d.updateHeight(e,r,a),i&&i.from<=h+f.length&&i.more?c=f=f.updateHeight(e,h,a,i):f.updateHeight(e,h,a),c?this.balanced(d,f):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ode(t,e){let r,a;t[e]==null&&(r=t[e-1])instanceof Uf&&(a=t[e+1])instanceof Uf&&t.splice(e-1,3,new Uf(r.length+1+a.length))}const Y3e=5;class vie{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let a=Math.min(r,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof lg?i.length+=a-this.pos:(a>this.pos||!this.isCovered)&&this.nodes.push(new lg(a-this.pos,-1)),this.writtenTo=a,r>a&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,a){if(e<r||a.heightRelevant){let i=a.widget?a.widget.estimatedHeight:0,d=a.widget?a.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let f=r-e;a.block?this.addBlock(new y0e(f,i,a)):(f||d||i>=Y3e)&&this.addLineDeco(i,d,f)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new lg(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let a=new Uf(r-e);return this.oracle.doc.lineAt(e).to==r&&(a.flags|=4),a}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof lg)return e;let r=new lg(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,a){let i=this.ensureLine();i.length+=a,i.collapsed+=a,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=r,this.writtenTo=this.pos=this.pos+a}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof lg)&&!this.isCovered?this.nodes.push(new lg(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let a=e;for(let i of this.nodes)i instanceof lg&&i.updateHeight(this.oracle,a),a+=i?i.length:1;return this.nodes}static build(e,r,a,i){let d=new vie(a,e);return qi.spans(r,a,i,d,0),d.finish(a)}}function X3e(t,e,r){let a=new G3e;return qi.compare(t,e,r,a,0),a.changes}class G3e{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,a,i){(e<r||a&&a.heightRelevant||i&&i.heightRelevant)&&bse(e,r,this.changes,5)}}function j3e(t,e){let r=t.getBoundingClientRect(),a=t.ownerDocument,i=a.defaultView||window,d=Math.max(0,r.left),f=Math.min(i.innerWidth,r.right),h=Math.max(0,r.top),c=Math.min(i.innerHeight,r.bottom);for(let g=t.parentNode;g&&g!=a.body;)if(g.nodeType==1){let v=g,y=window.getComputedStyle(v);if((v.scrollHeight>v.clientHeight||v.scrollWidth>v.clientWidth)&&y.overflow!="visible"){let b=v.getBoundingClientRect();d=Math.max(d,b.left),f=Math.min(f,b.right),h=Math.max(h,b.top),c=g==t.parentNode?b.bottom:Math.min(c,b.bottom)}g=y.position=="absolute"||y.position=="fixed"?v.offsetParent:v.parentNode}else if(g.nodeType==11)g=g.host;else break;return{left:d-r.left,right:Math.max(d,f)-r.left,top:h-(r.top+e),bottom:Math.max(h,c)-(r.top+e)}}function q3e(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class Fre{constructor(e,r,a){this.from=e,this.to=r,this.size=a}static same(e,r){if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){let i=e[a],d=r[a];if(i.from!=d.from||i.to!=d.to||i.size!=d.size)return!1}return!0}draw(e,r){return Bs.replace({widget:new K3e(this.size*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class K3e extends ay{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class sde{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ade,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=yc.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(gie).some(a=>typeof a!="function"&&a.class=="cm-lineWrapping");this.heightOracle=new H3e(r),this.stateDeco=e.facet(g$).filter(a=>typeof a!="function"),this.heightMap=mh.empty().applyChanges(this.stateDeco,Oi.empty,this.heightOracle.setDoc(e.doc),[new Pp(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Bs.set(this.lineGaps.map(a=>a.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let a=0;a<=1;a++){let i=a?r.head:r.anchor;if(!e.some(({from:d,to:f})=>i>=d&&i<=f)){let{from:d,to:f}=this.lineBlockAt(i);e.push(new cZ(d,f))}}this.viewports=e.sort((a,i)=>a.from-i.from),this.scaler=this.heightMap.height<=7e6?ade:new tke(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:BD(e,this.scaler))})}update(e,r=null){this.state=e.state;let a=this.stateDeco;this.stateDeco=this.state.facet(g$).filter(v=>typeof v!="function");let i=e.changedRanges,d=Pp.extendWithRanges(i,X3e(a,this.stateDeco,e?e.changes:Bu.empty(this.state.doc.length))),f=this.heightMap.height,h=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),d),this.heightMap.height!=f&&(e.flags|=2),h?(this.scrollAnchorPos=e.changes.mapPos(h.from,-1),this.scrollAnchorHeight=h.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=d.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<c.from||r.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,r));let g=!e.changes.empty||e.flags&2||c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,this.updateForViewport(),g&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(jve)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,a=window.getComputedStyle(r),i=this.heightOracle,d=a.whiteSpace;this.defaultTextDirection=a.direction=="rtl"?yc.RTL:yc.LTR;let f=this.heightOracle.mustRefreshForWrapping(d),h=r.getBoundingClientRect(),c=f||this.mustMeasureContent||this.contentDOMHeight!=h.height;this.contentDOMHeight=h.height,this.mustMeasureContent=!1;let g=0,v=0;if(h.width&&h.height){let I=h.width/r.offsetWidth,V=h.height/r.offsetHeight;(I>.995&&I<1.005||!isFinite(I)||Math.abs(h.width-r.offsetWidth)<1)&&(I=1),(V>.995&&V<1.005||!isFinite(V)||Math.abs(h.height-r.offsetHeight)<1)&&(V=1),(this.scaleX!=I||this.scaleY!=V)&&(this.scaleX=I,this.scaleY=V,g|=8,f=c=!0)}let y=(parseInt(a.paddingTop)||0)*this.scaleY,b=(parseInt(a.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=b)&&(this.paddingTop=y,this.paddingBottom=b,g|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,g|=8);let O=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=O&&(this.scrollAnchorHeight=-1,this.scrollTop=O),this.scrolledToBottom=Dve(e.scrollDOM);let C=(this.printing?q3e:j3e)(r,this.paddingTop),k=C.top-this.pixelViewport.top,w=C.bottom-this.pixelViewport.bottom;this.pixelViewport=C;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(c=!0)),!this.inView&&!this.scrollTarget)return 0;let R=h.width;if((this.contentDOMWidth!=R||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=h.width,this.editorHeight=e.scrollDOM.clientHeight,g|=8),c){let I=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(I)&&(f=!0),f||i.lineWrapping&&Math.abs(R-this.contentDOMWidth)>i.charWidth){let{lineHeight:V,charWidth:N,textHeight:Q}=e.docView.measureTextSize();f=V>0&&i.refresh(d,V,N,Q,R/N,I),f&&(e.docView.minWidth=0,g|=8)}k>0&&w>0?v=Math.max(k,w):k<0&&w<0&&(v=Math.min(k,w)),i.heightChanged=!1;for(let V of this.viewports){let N=V.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(V);this.heightMap=(f?mh.empty().applyChanges(this.stateDeco,Oi.empty,this.heightOracle,[new Pp(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,f,new U3e(V.from,N))}i.heightChanged&&(g|=2)}let M=!this.viewportIsAppropriate(this.viewport,v)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return M&&(this.viewport=this.getViewport(v,this.scrollTarget)),this.updateForViewport(),(g&2||M)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(f?[]:this.lineGaps,e)),g|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),g}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let a=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,d=this.heightOracle,{visibleTop:f,visibleBottom:h}=this,c=new cZ(i.lineAt(f-a*1e3,Ql.ByHeight,d,0,0).from,i.lineAt(h+(1-a)*1e3,Ql.ByHeight,d,0,0).to);if(r){let{head:g}=r.range;if(g<c.from||g>c.to){let v=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=i.lineAt(g,Ql.ByPos,d,0,0),b;r.y=="center"?b=(y.top+y.bottom)/2-v/2:r.y=="start"||r.y=="nearest"&&g<c.from?b=y.top:b=y.bottom-v,c=new cZ(i.lineAt(b-1e3/2,Ql.ByHeight,d,0,0).from,i.lineAt(b+v+1e3/2,Ql.ByHeight,d,0,0).to)}}return c}mapViewport(e,r){let a=r.mapPos(e.from,-1),i=r.mapPos(e.to,1);return new cZ(this.heightMap.lineAt(a,Ql.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ql.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},a=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Ql.ByPos,this.heightOracle,0,0),{bottom:d}=this.heightMap.lineAt(r,Ql.ByPos,this.heightOracle,0,0),{visibleTop:f,visibleBottom:h}=this;return(e==0||i<=f-Math.max(10,Math.min(-a,250)))&&(r==this.state.doc.length||d>=h+Math.max(10,Math.min(a,250)))&&i>f-2*1e3&&d<h+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let a=[];for(let i of e)r.touchesRange(i.from,i.to)||a.push(new Fre(r.mapPos(i.from),r.mapPos(i.to),i.size));return a}ensureLineGaps(e,r){let a=this.heightOracle.lineWrapping,i=a?1e4:2e3,d=i>>1,f=i<<1;if(this.defaultTextDirection!=yc.LTR&&!a)return[];let h=[],c=(g,v,y,b)=>{if(v-g<d)return;let O=this.state.selection.main,C=[O.from];O.empty||C.push(O.to);for(let w of C)if(w>g&&w<v){c(g,w-10,y,b),c(w+10,v,y,b);return}let k=eke(e,w=>w.from>=y.from&&w.to<=y.to&&Math.abs(w.from-g)<d&&Math.abs(w.to-v)<d&&!C.some(T=>w.from<T&&w.to>T));if(!k){if(v<y.to&&r&&a&&r.visibleRanges.some(w=>w.from<=v&&w.to>=v)){let w=r.moveToLineBoundary(Tr.cursor(v),!1,!0).head;w>g&&(v=w)}k=new Fre(g,v,this.gapSize(y,g,v,b))}h.push(k)};for(let g of this.viewportLines){if(g.length<f)continue;let v=J3e(g.from,g.to,this.stateDeco);if(v.total<f)continue;let y=this.scrollTarget?this.scrollTarget.range.head:null,b,O;if(a){let C=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,k,w;if(y!=null){let T=fZ(v,y),R=((this.visibleBottom-this.visibleTop)/2+C)/g.height;k=T-R,w=T+R}else k=(this.visibleTop-g.top-C)/g.height,w=(this.visibleBottom-g.top+C)/g.height;b=uZ(v,k),O=uZ(v,w)}else{let C=v.total*this.heightOracle.charWidth,k=i*this.heightOracle.charWidth,w,T;if(y!=null){let R=fZ(v,y),M=((this.pixelViewport.right-this.pixelViewport.left)/2+k)/C;w=R-M,T=R+M}else w=(this.pixelViewport.left-k)/C,T=(this.pixelViewport.right+k)/C;b=uZ(v,w),O=uZ(v,T)}b>g.from&&c(g.from,b,g,v),O<g.to&&c(O,g.to,g,v)}return h}gapSize(e,r,a,i){let d=fZ(i,a)-fZ(i,r);return this.heightOracle.lineWrapping?e.height*d:i.total*this.heightOracle.charWidth*d}updateLineGaps(e){Fre.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Bs.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let r=[];qi.spans(e,this.viewport.from,this.viewport.to,{span(i,d){r.push({from:i,to:d})},point(){}},20);let a=r.length!=this.visibleRanges.length||this.visibleRanges.some((i,d)=>i.from!=r[d].from||i.to!=r[d].to);return this.visibleRanges=r,a?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||BD(this.heightMap.lineAt(e,Ql.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return BD(this.heightMap.lineAt(this.scaler.fromDOM(e),Ql.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return BD(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class cZ{constructor(e,r){this.from=e,this.to=r}}function J3e(t,e,r){let a=[],i=t,d=0;return qi.spans(r,t,e,{span(){},point(f,h){f>i&&(a.push({from:i,to:f}),d+=f-i),i=h}},20),i<e&&(a.push({from:i,to:e}),d+=e-i),{total:d,ranges:a}}function uZ({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let a=Math.floor(t*r);for(let i=0;;i++){let{from:d,to:f}=e[i],h=f-d;if(a<=h)return d+a;a-=h}}function fZ(t,e){let r=0;for(let{from:a,to:i}of t.ranges){if(e<=i){r+=e-a;break}r+=i-a}return r/t.total}function eke(t,e){for(let r of t)if(e(r))return r}const ade={toDOM(t){return t},fromDOM(t){return t},scale:1};class tke{constructor(e,r,a){let i=0,d=0,f=0;this.viewports=a.map(({from:h,to:c})=>{let g=r.lineAt(h,Ql.ByPos,e,0,0).top,v=r.lineAt(c,Ql.ByPos,e,0,0).bottom;return i+=v-g,{from:h,to:c,top:g,bottom:v,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(r.height-i);for(let h of this.viewports)h.domTop=f+(h.top-d)*this.scale,f=h.domBottom=h.domTop+(h.bottom-h.top),d=h.bottom}toDOM(e){for(let r=0,a=0,i=0;;r++){let d=r<this.viewports.length?this.viewports[r]:null;if(!d||e<d.top)return i+(e-a)*this.scale;if(e<=d.bottom)return d.domTop+(e-d.top);a=d.bottom,i=d.domBottom}}fromDOM(e){for(let r=0,a=0,i=0;;r++){let d=r<this.viewports.length?this.viewports[r]:null;if(!d||e<d.domTop)return a+(e-i)/this.scale;if(e<=d.domBottom)return d.top+(e-d.domTop);a=d.bottom,i=d.domBottom}}}function BD(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),a=e.toDOM(t.bottom);return new W1(t.from,t.length,r,a-r,Array.isArray(t._content)?t._content.map(i=>BD(i,e)):t._content)}const dZ=ss.define({combine:t=>t.join(" ")}),Ase=ss.define({combine:t=>t.indexOf(!0)>-1}),Pse=kS.newName(),b0e=kS.newName(),O0e=kS.newName(),x0e={"&light":"."+b0e,"&dark":"."+O0e};function Mse(t,e,r){return new kS(e,{finish(a){return/&/.test(a)?a.replace(/&\w*/,i=>{if(i=="&")return t;if(!r||!r[i])throw new RangeError(`Unsupported selector: ${i}`);return r[i]}):t+" "+a}})}const nke=Mse("."+Pse,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},x0e),QD="";class rke{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Na.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=QD}readRange(e,r){if(!e)return this;let a=e.parentNode;for(let i=e;;){this.findPointBefore(a,i);let d=this.text.length;this.readNode(i);let f=i.nextSibling;if(f==r)break;let h=Vl.get(i),c=Vl.get(f);(h&&c?h.breakAfter:(h?h.breakAfter:ide(i))||ide(f)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>d)&&this.lineBreak(),i=f}return this.findPointBefore(a,r),this}readTextNode(e){let r=e.nodeValue;for(let a of this.points)a.node==e&&(a.pos=this.text.length+Math.min(a.offset,r.length));for(let a=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let d=-1,f=1,h;if(this.lineSeparator?(d=r.indexOf(this.lineSeparator,a),f=this.lineSeparator.length):(h=i.exec(r))&&(d=h.index,f=h[0].length),this.append(r.slice(a,d<0?r.length:d)),d<0)break;if(this.lineBreak(),f>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=f-1);a=d+f}}readNode(e){if(e.cmIgnore)return;let r=Vl.get(e),a=r&&r.overrideDOMText;if(a!=null){this.findPointInside(e,a.length);for(let i=a.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let a of this.points)a.node==e&&e.childNodes[a.offset]==r&&(a.pos=this.text.length)}findPointInside(e,r){for(let a of this.points)(e.nodeType==3?a.node==e:e.contains(a.node))&&(a.pos=this.text.length+(oke(e,a.node,a.offset)?r:0))}}function oke(t,e,r){for(;;){if(!e||r<xO(e))return!1;if(e==t)return!0;r=m$(e)+1,e=e.parentNode}}function ide(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class lde{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class ske{constructor(e,r,a,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:d,impreciseAnchor:f}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,a,0))){let h=d||f?[]:lke(e),c=new rke(h,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=cke(h,this.bounds.from)}else{let h=e.observer.selectionRange,c=d&&d.node==h.focusNode&&d.offset==h.focusOffset||!hse(e.contentDOM,h.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(h.focusNode,h.focusOffset),g=f&&f.node==h.anchorNode&&f.offset==h.anchorOffset||!hse(e.contentDOM,h.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(h.anchorNode,h.anchorOffset);this.newSel=Tr.single(g,c)}}}function S0e(t,e){let r,{newSel:a}=e,i=t.state.selection.main,d=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:f,to:h}=e.bounds,c=i.from,g=null;(d===8||us.android&&e.text.length<h-f)&&(c=i.to,g="end");let v=ike(t.state.doc.sliceString(f,h,QD),e.text,c-f,g);v&&(us.chrome&&d==13&&v.toB==v.from+2&&e.text.slice(v.from,v.toB)==QD+QD&&v.toB--,r={from:f+v.from,to:f+v.toA,insert:Oi.of(e.text.slice(v.from,v.toB).split(QD))})}else a&&(!t.hasFocus&&t.state.facet(AU)||a.main.eq(i))&&(a=null);if(!r&&!a)return!1;if(!r&&e.typeOver&&!i.empty&&a&&a.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:(us.mac||us.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(a&&r.insert.length==2&&(a=Tr.single(a.main.anchor-1,a.main.head-1)),r={from:i.from,to:i.to,insert:Oi.of([" "])}):us.chrome&&r&&r.from==r.to&&r.from==i.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(a&&(a=Tr.single(a.main.anchor-1,a.main.head-1)),r={from:i.from,to:i.to,insert:Oi.of([" "])}),r){if(us.ios&&t.inputState.flushIOSKey()||us.android&&(r.from==i.from&&r.to==i.to&&r.insert.length==1&&r.insert.lines==2&&tM(t.contentDOM,"Enter",13)||(r.from==i.from-1&&r.to==i.to&&r.insert.length==0||d==8&&r.insert.length<r.to-r.from&&r.to>i.head)&&tM(t.contentDOM,"Backspace",8)||r.from==i.from&&r.to==i.to+1&&r.insert.length==0&&tM(t.contentDOM,"Delete",46)))return!0;let f=r.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let h,c=()=>h||(h=ake(t,r,a));return t.state.facet(Yve).some(g=>g(t,r.from,r.to,f,c))||t.dispatch(c()),!0}else if(a&&!a.main.eq(i)){let f=!1,h="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(f=!0),h=t.inputState.lastSelectionOrigin),t.dispatch({selection:a,scrollIntoView:f,userEvent:h}),!0}else return!1}function ake(t,e,r){let a,i=t.state,d=i.selection.main;if(e.from>=d.from&&e.to<=d.to&&e.to-e.from>=(d.to-d.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let h=d.from<e.from?i.sliceDoc(d.from,e.from):"",c=d.to>e.to?i.sliceDoc(e.to,d.to):"";a=i.replaceSelection(t.state.toText(h+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let h=i.changes(e),c=r&&r.main.to<=h.newLength?r.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=d.to&&e.to>=d.to-10){let g=t.state.sliceDoc(e.from,e.to),v,y=r&&a0e(t,r.main.head);if(y){let C=e.insert.length-(e.to-e.from);v={from:y.from,to:y.to-C}}else v=t.state.doc.lineAt(d.head);let b=d.to-e.to,O=d.to-d.from;a=i.changeByRange(C=>{if(C.from==d.from&&C.to==d.to)return{changes:h,range:c||C.map(h)};let k=C.to-b,w=k-g.length;if(C.to-C.from!=O||t.state.sliceDoc(w,k)!=g||C.to>=v.from&&C.from<=v.to)return{range:C};let T=i.changes({from:w,to:k,insert:e.insert}),R=C.to-d.to;return{changes:T,range:c?Tr.range(Math.max(0,c.anchor+R),Math.max(0,c.head+R)):C.map(T)}})}else a={changes:h,selection:c&&i.selection.replaceRange(c)}}let f="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,f+=".compose",t.inputState.compositionFirstChange&&(f+=".start",t.inputState.compositionFirstChange=!1)),i.update(a,{userEvent:f,scrollIntoView:!0})}function ike(t,e,r,a){let i=Math.min(t.length,e.length),d=0;for(;d<i&&t.charCodeAt(d)==e.charCodeAt(d);)d++;if(d==i&&t.length==e.length)return null;let f=t.length,h=e.length;for(;f>0&&h>0&&t.charCodeAt(f-1)==e.charCodeAt(h-1);)f--,h--;if(a=="end"){let c=Math.max(0,d-Math.min(f,h));r-=f+c-d}if(f<d&&t.length<e.length){let c=r<=d&&r>=f?d-r:0;d-=c,h=d+(h-f),f=d}else if(h<d){let c=r<=d&&r>=h?d-r:0;d-=c,f=d+(f-h),h=d}return{from:d,toA:f,toB:h}}function lke(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:a,focusNode:i,focusOffset:d}=t.observer.selectionRange;return r&&(e.push(new lde(r,a)),(i!=r||d!=a)&&e.push(new lde(i,d))),e}function cke(t,e){if(t.length==0)return null;let r=t[0].pos,a=t.length==2?t[1].pos:r;return r>-1&&a>-1?Tr.single(r+e,a+e):null}const uke={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Vre=us.ie&&us.ie_version<=11;class fke{constructor(e){this.view=e,this.active=!1,this.selectionRange=new XCe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let a of r)this.queue.push(a);(us.ie&&us.ie_version<=11||us.ios&&e.composing)&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),Vre&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,a)=>r!=e[a]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:a}=this,i=this.selectionRange;if(a.state.facet(AU)?a.root.activeElement!=this.dom:!UZ(a.dom,i))return;let d=i.anchorNode&&a.docView.nearest(i.anchorNode);if(d&&d.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(us.ie&&us.ie_version<=11||us.android&&us.chrome)&&!a.state.selection.main.empty&&i.focusNode&&pH(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=us.safari&&e.root.nodeType==11&&HCe(this.dom.ownerDocument)==this.dom&&dke(this.view)||gH(e.root);if(!r||this.selectionRange.eq(r))return!1;let a=UZ(this.dom,r);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&jCe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let a=this.dom;a;)if(a.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==a?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);for(let a of this.scrollTargets=r)a.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,uke),Vre&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Vre&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var a;if(!this.delayedAndroidKey){let i=()=>{let d=this.delayedAndroidKey;d&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=d.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&d.force&&tM(this.dom,d.key,d.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((a=this.delayedAndroidKey)===null||a===void 0)&&a.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,a=-1,i=!1;for(let d of e){let f=this.readMutation(d);f&&(f.typeOver&&(i=!0),r==-1?{from:r,to:a}=f:(r=Math.min(f.from,r),a=Math.max(f.to,a)))}return{from:r,to:a,typeOver:i}}readChange(){let{from:e,to:r,typeOver:a}=this.processRecords(),i=this.selectionChanged&&UZ(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let d=new ske(this.view,e,r,a);return this.view.docView.domChanged={newSel:d.newSel?d.newSel.main:null},d}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let a=this.view.state,i=S0e(this.view,r);return this.view.state==a&&this.view.update([]),i}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let a=cde(r,e.previousSibling||e.target.previousSibling,-1),i=cde(r,e.nextSibling||e.target.nextSibling,1);return{from:a?r.posAfter(a):r.posAtStart,to:i?r.posBefore(i):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,r,a;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(a=this.resizeScroll)===null||a===void 0||a.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function cde(t,e,r){for(;e;){let a=Vl.get(e);if(a&&a.parent==t)return a;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function dke(t){let e=null;function r(c){c.preventDefault(),c.stopImmediatePropagation(),e=c.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),!e)return null;let a=e.startContainer,i=e.startOffset,d=e.endContainer,f=e.endOffset,h=t.docView.domAtPos(t.state.selection.main.anchor);return pH(h.node,h.offset,d,f)&&([a,i,d,f]=[d,f,a,i]),{anchorNode:a,anchorOffset:i,focusNode:d,focusOffset:f}}class Xo{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(a=>a.forEach(i=>r(i,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||GCe(e.parent)||document,this.viewState=new sde(e.state||Na.create(e)),e.scrollTo&&e.scrollTo.is(aZ)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ID).map(a=>new Nre(a));for(let a of this.plugins)a.update(this);this.observer=new fke(this),this.inputState=new A3e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Vfe(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let r=e.length==1&&e[0]instanceof Qu?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,a=!1,i,d=this.state;for(let b of e){if(b.startState!=d)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");d=b.state}if(this.destroyed){this.viewState.state=d;return}let f=this.hasFocus,h=0,c=null;e.some(b=>b.annotation(g0e))?(this.inputState.notifiedFocused=f,h=1):f!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=f,c=p0e(d,f),c||(h=1));let g=this.observer.delayedAndroidKey,v=null;if(g?(this.observer.clearDelayedAndroidKey(),v=this.observer.readChange(),(v&&!this.state.doc.eq(d.doc)||!this.state.selection.eq(d.selection))&&(v=null)):this.observer.clear(),d.facet(Na.phrases)!=this.state.facet(Na.phrases))return this.setState(d);i=vH.create(this,d,e),i.flags|=h;let y=this.viewState.scrollTarget;try{this.updateState=2;for(let b of e){if(y&&(y=y.map(b.changes)),b.scrollIntoView){let{main:O}=b.state.selection;y=new nM(O.empty?O:Tr.cursor(O.head,O.head>O.anchor?-1:1))}for(let O of b.effects)O.is(aZ)&&(y=O.value.clip(this.state))}this.viewState.update(i,y),this.bidiCache=yH.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),r=this.docView.update(i),this.state.facet(ND)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(dZ)!=i.state.facet(dZ)&&(this.viewState.mustMeasureContent=!0),(r||a||y||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let b of this.state.facet(Ose))try{b(i)}catch(O){Ap(this.state,O,"update listener")}(c||v)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),v&&!S0e(this,v)&&g.force&&tM(this.contentDOM,g.key,g.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);this.viewState=new sde(e),this.plugins=e.facet(ID).map(a=>new Nre(a)),this.pluginMap.clear();for(let a of this.plugins)a.update(this);this.docView.destroy(),this.docView=new Vfe(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(ID),a=e.state.facet(ID);if(r!=a){let i=[];for(let d of a){let f=r.indexOf(d);if(f<0)i.push(new Nre(d));else{let h=this.plugins[f];h.mustUpdate=e,i.push(h)}}for(let d of this.plugins)d.mustUpdate!=e&&d.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);r!=a&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,a=this.scrollDOM,i=a.scrollTop*this.scaleY,{scrollAnchorPos:d,scrollAnchorHeight:f}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(f=-1),this.viewState.scrollAnchorHeight=-1;try{for(let h=0;;h++){if(f<0)if(Dve(a))d=-1,f=this.viewState.heightMap.height;else{let O=this.viewState.scrollAnchorAt(i);d=O.from,f=O.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(h>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let g=[];c&4||([this.measureRequests,g]=[g,this.measureRequests]);let v=g.map(O=>{try{return O.read(this)}catch(C){return Ap(this.state,C),ude}}),y=vH.create(this,this.state,[]),b=!1;y.flags|=c,r?r.flags|=c:r=y,this.updateState=2,y.empty||(this.updatePlugins(y),this.inputState.update(y),this.updateAttrs(),b=this.docView.update(y));for(let O=0;O<g.length;O++)if(v[O]!=ude)try{let C=g[O];C.write&&C.write(v[O],this)}catch(C){Ap(this.state,C)}if(b&&this.docView.updateSelection(!0),!y.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let C=(d<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(d).top)-f;if(C>1||C<-1){i=i+C,a.scrollTop=i/this.scaleY,f=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let h of this.state.facet(Ose))h(r)}get themeClasses(){return Pse+" "+(this.state.facet(Ase)?O0e:b0e)+" "+this.state.facet(dZ)}updateAttrs(){let e=fde(this,qve,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(AU)?"true":"false",class:"cm-content",style:`${us.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),fde(this,gie,r);let a=this.observer.ignore(()=>{let i=yse(this.contentDOM,this.contentAttrs,r),d=yse(this.dom,this.editorAttrs,e);return i||d});return this.editorAttrs=e,this.contentAttrs=r,a}showAnnouncements(e){let r=!0;for(let a of e)for(let i of a.effects)if(i.is(Xo.announce)){r&&(this.announceDOM.textContent=""),r=!1;let d=this.announceDOM.appendChild(document.createElement("div"));d.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(ND);let e=this.state.facet(Xo.cspNonce);kS.mount(this.root,this.styleModules.concat(nke).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(a=>a.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,a){return Qre(this,e,Yfe(this,e,r,a))}moveByGroup(e,r){return Qre(this,e,Yfe(this,e,r,a=>C3e(this,e.head,a)))}moveToLineBoundary(e,r,a=!0){return T3e(this,e,r,a)}moveVertically(e,r,a){return Qre(this,e,k3e(this,e,r,a))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),l0e(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let a=this.docView.coordsAt(e,r);if(!a||a.left==a.right)return a;let i=this.state.doc.lineAt(e),d=this.bidiSpans(i),f=d[vS.find(d,e-i.from,-1,r)];return CU(a,f.dir==yc.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Gve)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>hke)return o0e(e.length);let r=this.textDirectionAt(e.from),a;for(let d of this.bidiCache)if(d.from==e.from&&d.dir==r&&(d.fresh||r0e(d.isolates,a=Ffe(this,e.from,e.to))))return d.order;a||(a=Ffe(this,e.from,e.to));let i=u3e(e.text,r,a);return this.bidiCache.push(new yH(e.from,e.to,r,a,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||us.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{_ve(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return aZ.of(new nM(typeof e=="number"?Tr.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,a=this.viewState.scrollAnchorAt(e);return aZ.of(new nM(Tr.cursor(a.from),"start","start",a.top-e,r,!0))}static domEventHandlers(e){return tu.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return tu.define(()=>({}),{eventObservers:e})}static theme(e,r){let a=kS.newName(),i=[dZ.of(a),ND.of(Mse(`.${a}`,e))];return r&&r.dark&&i.push(Ase.of(!0)),i}static baseTheme(e){return _p.lowest(ND.of(Mse("."+Pse,e,x0e)))}static findFromDOM(e){var r;let a=e.querySelector(".cm-content"),i=a&&Vl.get(a)||Vl.get(e);return((r=i==null?void 0:i.rootView)===null||r===void 0?void 0:r.view)||null}}Xo.styleModule=ND;Xo.inputHandler=Yve;Xo.focusChangeEffect=Xve;Xo.perLineTextDirection=Gve;Xo.exceptionSink=Wve;Xo.updateListener=Ose;Xo.editable=AU;Xo.mouseSelectionStyle=Uve;Xo.dragMovesSelection=Hve;Xo.clickAddsSelectionRange=Zve;Xo.decorations=g$;Xo.atomicRanges=pie;Xo.bidiIsolatedRanges=Kve;Xo.scrollMargins=Jve;Xo.darkTheme=Ase;Xo.cspNonce=ss.define({combine:t=>t.length?t[0]:""});Xo.contentAttributes=gie;Xo.editorAttributes=qve;Xo.lineWrapping=Xo.contentAttributes.of({class:"cm-lineWrapping"});Xo.announce=pa.define();const hke=4096,ude={};class yH{constructor(e,r,a,i,d,f){this.from=e,this.to=r,this.dir=a,this.isolates=i,this.fresh=d,this.order=f}static update(e,r){if(r.empty&&!e.some(d=>d.fresh))return e;let a=[],i=e.length?e[e.length-1].dir:yc.LTR;for(let d=Math.max(0,e.length-10);d<e.length;d++){let f=e[d];f.dir==i&&!r.touchesRange(f.from,f.to)&&a.push(new yH(r.mapPos(f.from,1),r.mapPos(f.to,-1),f.dir,f.isolates,!1,f.order))}return a}}function fde(t,e,r){for(let a=t.state.facet(e),i=a.length-1;i>=0;i--){let d=a[i],f=typeof d=="function"?d(t):d;f&&vse(f,r)}return r}const mke=us.mac?"mac":us.windows?"win":us.linux?"linux":"key";function gke(t,e){const r=t.split(/-(?!$)/);let a=r[r.length-1];a=="Space"&&(a=" ");let i,d,f,h;for(let c=0;c<r.length-1;++c){const g=r[c];if(/^(cmd|meta|m)$/i.test(g))h=!0;else if(/^a(lt)?$/i.test(g))i=!0;else if(/^(c|ctrl|control)$/i.test(g))d=!0;else if(/^s(hift)?$/i.test(g))f=!0;else if(/^mod$/i.test(g))e=="mac"?h=!0:d=!0;else throw new Error("Unrecognized modifier name: "+g)}return i&&(a="Alt-"+a),d&&(a="Ctrl-"+a),h&&(a="Meta-"+a),f&&(a="Shift-"+a),a}function hZ(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const pke=_p.default(Xo.domEventHandlers({keydown(t,e){return T0e(w0e(e.state),t,e,"editor")}})),IS=ss.define({enables:pke}),dde=new WeakMap;function w0e(t){let e=t.facet(IS),r=dde.get(e);return r||dde.set(e,r=bke(e.reduce((a,i)=>a.concat(i),[]))),r}function vke(t,e,r){return T0e(w0e(t.state),e,t,r)}let mS=null;const yke=4e3;function bke(t,e=mke){let r=Object.create(null),a=Object.create(null),i=(f,h)=>{let c=a[f];if(c==null)a[f]=h;else if(c!=h)throw new Error("Key binding "+f+" is used both as a regular binding and as a multi-stroke prefix")},d=(f,h,c,g,v)=>{var y,b;let O=r[f]||(r[f]=Object.create(null)),C=h.split(/ (?!$)/).map(T=>gke(T,e));for(let T=1;T<C.length;T++){let R=C.slice(0,T).join(" ");i(R,!0),O[R]||(O[R]={preventDefault:!0,stopPropagation:!1,run:[M=>{let I=mS={view:M,prefix:R,scope:f};return setTimeout(()=>{mS==I&&(mS=null)},yke),!0}]})}let k=C.join(" ");i(k,!1);let w=O[k]||(O[k]={preventDefault:!1,stopPropagation:!1,run:((b=(y=O._any)===null||y===void 0?void 0:y.run)===null||b===void 0?void 0:b.slice())||[]});c&&w.run.push(c),g&&(w.preventDefault=!0),v&&(w.stopPropagation=!0)};for(let f of t){let h=f.scope?f.scope.split(" "):["editor"];if(f.any)for(let g of h){let v=r[g]||(r[g]=Object.create(null));v._any||(v._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let y in v)v[y].run.push(f.any)}let c=f[e]||f.key;if(c)for(let g of h)d(g,c,f.run,f.preventDefault,f.stopPropagation),f.shift&&d(g,"Shift-"+c,f.shift,f.preventDefault,f.stopPropagation)}return r}function T0e(t,e,r,a){let i=ZCe(e),d=Yf(i,0),f=bp(d)==i.length&&i!=" ",h="",c=!1,g=!1,v=!1;mS&&mS.view==r&&mS.scope==a&&(h=mS.prefix+" ",u0e.indexOf(e.keyCode)<0&&(g=!0,mS=null));let y=new Set,b=w=>{if(w){for(let T of w.run)if(!y.has(T)&&(y.add(T),T(r,e)))return w.stopPropagation&&(v=!0),!0;w.preventDefault&&(w.stopPropagation&&(v=!0),g=!0)}return!1},O=t[a],C,k;return O&&(b(O[h+hZ(i,e,!f)])?c=!0:f&&(e.altKey||e.metaKey||e.ctrlKey)&&!(us.windows&&e.ctrlKey&&e.altKey)&&(C=AS[e.keyCode])&&C!=i?(b(O[h+hZ(C,e,!0)])||e.shiftKey&&(k=h$[e.keyCode])!=i&&k!=C&&b(O[h+hZ(k,e,!1)]))&&(c=!0):f&&e.shiftKey&&b(O[h+hZ(i,e,!0)])&&(c=!0),!c&&b(O._any)&&(c=!0)),g&&(c=!0),c&&v&&e.stopPropagation(),c}class G${constructor(e,r,a,i,d){this.className=e,this.left=r,this.top=a,this.width=i,this.height=d}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,a){if(a.empty){let i=e.coordsAtPos(a.head,a.assoc||1);if(!i)return[];let d=C0e(e);return[new G$(r,i.left-d.left,i.top-d.top,null,i.bottom-i.top)]}else return Oke(e,r,a)}}function C0e(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==yc.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function hde(t,e,r){let a=Tr.cursor(e);return{from:Math.max(r.from,t.moveToLineBoundary(a,!1,!0).from),to:Math.min(r.to,t.moveToLineBoundary(a,!0,!0).from),type:hh.Text}}function Oke(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let a=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),d=t.textDirection==yc.LTR,f=t.contentDOM,h=f.getBoundingClientRect(),c=C0e(t),g=f.querySelector(".cm-line"),v=g&&window.getComputedStyle(g),y=h.left+(v?parseInt(v.paddingLeft)+Math.min(0,parseInt(v.textIndent)):0),b=h.right-(v?parseInt(v.paddingRight):0),O=Cse(t,a),C=Cse(t,i),k=O.type==hh.Text?O:null,w=C.type==hh.Text?C:null;if(k&&(t.lineWrapping||O.widgetLineBreaks)&&(k=hde(t,a,k)),w&&(t.lineWrapping||C.widgetLineBreaks)&&(w=hde(t,i,w)),k&&w&&k.from==w.from)return R(M(r.from,r.to,k));{let V=k?M(r.from,null,k):I(O,!1),N=w?M(null,r.to,w):I(C,!0),Q=[];return(k||O).to<(w||C).from-(k&&w?1:0)||O.widgetLineBreaks>1&&V.bottom+t.defaultLineHeight/2<N.top?Q.push(T(y,V.bottom,b,N.top)):V.bottom<N.top&&t.elementAtHeight((V.bottom+N.top)/2).type==hh.Text&&(V.bottom=N.top=(V.bottom+N.top)/2),R(V).concat(Q).concat(R(N))}function T(V,N,Q,z){return new G$(e,V-c.left,N-c.top-.01,Q-V,z-N+.01)}function R({top:V,bottom:N,horizontal:Q}){let z=[];for(let U=0;U<Q.length;U+=2)z.push(T(Q[U],V,Q[U+1],N));return z}function M(V,N,Q){let z=1e9,U=-1e9,F=[];function B(X,ie,L,me,ae){let q=t.coordsAtPos(X,X==Q.to?-2:2),de=t.coordsAtPos(L,L==Q.from?2:-2);!q||!de||(z=Math.min(q.top,de.top,z),U=Math.max(q.bottom,de.bottom,U),ae==yc.LTR?F.push(d&&ie?y:q.left,d&&me?b:de.right):F.push(!d&&me?y:de.left,!d&&ie?b:q.right))}let E=V??Q.from,W=N??Q.to;for(let X of t.visibleRanges)if(X.to>E&&X.from<W)for(let ie=Math.max(X.from,E),L=Math.min(X.to,W);;){let me=t.state.doc.lineAt(ie);for(let ae of t.bidiSpans(me)){let q=ae.from+me.from,de=ae.to+me.from;if(q>=L)break;de>ie&&B(Math.max(q,ie),V==null&&q<=E,Math.min(de,L),N==null&&de>=W,ae.dir)}if(ie=me.to+1,ie>=L)break}return F.length==0&&B(E,V==null,W,N==null,t.textDirection),{top:z,bottom:U,horizontal:F}}function I(V,N){let Q=h.top+(N?V.top:V.bottom);return{top:Q,bottom:Q,horizontal:[]}}}function xke(t,e){return t.constructor==e.constructor&&t.eq(e)}class Ske{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(XZ)!=e.state.facet(XZ)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let r=0,a=e.facet(XZ);for(;r<a.length&&a[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,a)=>!xke(r,this.drawn[a]))){let r=this.dom.firstChild,a=0;for(let i of e)i.update&&r&&i.constructor&&this.drawn[a].constructor&&i.update(r,this.drawn[a])?(r=r.nextSibling,a++):this.dom.insertBefore(i.draw(),r);for(;r;){let i=r.nextSibling;r.remove(),r=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const XZ=ss.define();function k0e(t){return[tu.define(e=>new Ske(e,t)),XZ.of(t)]}const A0e=!us.ios,v$=ss.define({combine(t){return sy(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function wke(t={}){return[v$.of(t),Tke,Cke,kke,jve.of(!0)]}function P0e(t){return t.startState.facet(v$)!=t.state.facet(v$)}const Tke=k0e({above:!0,markers(t){let{state:e}=t,r=e.facet(v$),a=[];for(let i of e.selection.ranges){let d=i==e.selection.main;if(i.empty?!d||A0e:r.drawRangeCursor){let f=d?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",h=i.empty?i:Tr.cursor(i.head,i.head>i.anchor?-1:1);for(let c of G$.forRange(t,f,h))a.push(c)}}return a},update(t,e){t.transactions.some(a=>a.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=P0e(t);return r&&mde(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){mde(e.state,t)},class:"cm-cursorLayer"});function mde(t,e){e.style.animationDuration=t.facet(v$).cursorBlinkRate+"ms"}const Cke=k0e({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:G$.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||P0e(t)},class:"cm-selectionLayer"}),Ese={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};A0e&&(Ese[".cm-line"].caretColor="transparent !important",Ese[".cm-content"]={caretColor:"transparent !important"});const kke=_p.highest(Xo.theme(Ese)),M0e=pa.define({map(t,e){return t==null?null:e.mapPos(t)}}),FD=wf.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,a)=>a.is(M0e)?a.value:r,t)}}),Ake=tu.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(FD);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(FD)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(FD),r=e!=null&&t.coordsAtPos(e);if(!r)return null;let a=t.scrollDOM.getBoundingClientRect();return{left:r.left-a.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-a.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(FD)!=t&&this.view.dispatch({effects:M0e.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Pke(){return[FD,Ake]}function gde(t,e,r,a,i){e.lastIndex=0;for(let d=t.iterRange(r,a),f=r,h;!d.next().done;f+=d.value.length)if(!d.lineBreak)for(;h=e.exec(d.value);)i(f+h.index,h)}function Mke(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let a=[];for(let{from:i,to:d}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),d=Math.min(t.state.doc.lineAt(d).to,d+e),a.length&&a[a.length-1].to>=i?a[a.length-1].to=d:a.push({from:i,to:d});return a}class Eke{constructor(e){const{regexp:r,decoration:a,decorate:i,boundary:d,maxLength:f=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,i)this.addMatch=(h,c,g,v)=>i(v,g,g+h[0].length,h,c);else if(typeof a=="function")this.addMatch=(h,c,g,v)=>{let y=a(h,c,g);y&&v(g,g+h[0].length,y)};else if(a)this.addMatch=(h,c,g,v)=>v(g,g+h[0].length,a);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=d,this.maxLength=f}createDeco(e){let r=new CS,a=r.add.bind(r);for(let{from:i,to:d}of Mke(e,this.maxLength))gde(e.state.doc,this.regexp,i,d,(f,h)=>this.addMatch(h,e,f,a));return r.finish()}updateDeco(e,r){let a=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((d,f,h,c)=>{c>e.view.viewport.from&&h<e.view.viewport.to&&(a=Math.min(h,a),i=Math.max(c,i))}),e.viewportChanged||i-a>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,r.map(e.changes),a,i):r}updateRange(e,r,a,i){for(let d of e.visibleRanges){let f=Math.max(d.from,a),h=Math.min(d.to,i);if(h>f){let c=e.state.doc.lineAt(f),g=c.to<h?e.state.doc.lineAt(h):c,v=Math.max(d.from,c.from),y=Math.min(d.to,g.to);if(this.boundary){for(;f>c.from;f--)if(this.boundary.test(c.text[f-1-c.from])){v=f;break}for(;h<g.to;h++)if(this.boundary.test(g.text[h-g.from])){y=h;break}}let b=[],O,C=(k,w,T)=>b.push(T.range(k,w));if(c==g)for(this.regexp.lastIndex=v-c.from;(O=this.regexp.exec(c.text))&&O.index<y-c.from;)this.addMatch(O,e,O.index+c.from,C);else gde(e.state.doc,this.regexp,v,y,(k,w)=>this.addMatch(w,e,k,C));r=r.update({filterFrom:v,filterTo:y,filter:(k,w)=>k<v||w>y,add:b})}}return r}}const _se=/x/.unicode!=null?"gu":"g",_ke=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,_se),Rke={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let zre=null;function Dke(){var t;if(zre==null&&typeof document<"u"&&document.body){let e=document.body.style;zre=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return zre||!1}const GZ=ss.define({combine(t){let e=sy(t,{render:null,specialChars:_ke,addSpecialChars:null});return(e.replaceTabs=!Dke())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,_se)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,_se)),e}});function $ke(t={}){return[GZ.of(t),Lke()]}let pde=null;function Lke(){return pde||(pde=tu.fromClass(class{constructor(t){this.view=t,this.decorations=Bs.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(GZ)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Eke({regexp:t.specialChars,decoration:(e,r,a)=>{let{doc:i}=r.state,d=Yf(e[0],0);if(d==9){let f=i.lineAt(a),h=r.state.tabSize,c=Zv(f.text,h,a-f.from);return Bs.replace({widget:new Qke((h-c%h)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[d]||(this.decorationCache[d]=Bs.replace({widget:new Bke(t,d)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(GZ);t.startState.facet(GZ)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const Ike="";function Nke(t){return t>=32?Ike:t==10?"":String.fromCharCode(9216+t)}class Bke extends ay{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=Nke(this.code),a=e.state.phrase("Control character")+" "+(Rke[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,a,r);if(i)return i;let d=document.createElement("span");return d.textContent=r,d.title=a,d.setAttribute("aria-label",a),d.className="cm-specialChar",d}ignoreEvent(){return!1}}class Qke extends ay{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Fke(){return zke}const Vke=Bs.line({class:"cm-activeLine"}),zke=tu.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let a of t.state.selection.ranges){let i=t.lineBlockAt(a.head);i.from>e&&(r.push(Vke.range(i.from)),e=i.from)}return Bs.set(r)}},{decorations:t=>t.decorations});class Zke extends ay{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let r=e.firstChild?fM(e.firstChild):[];if(!r.length)return null;let a=window.getComputedStyle(e.parentNode),i=CU(r[0],a.direction!="rtl"),d=parseInt(a.lineHeight);return i.bottom-i.top>d*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+d}:i}ignoreEvent(){return!1}}function Hke(t){return tu.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Bs.set([Bs.widget({widget:new Zke(t),side:1}).range(0)]):Bs.none}get decorations(){return this.view.state.doc.length?Bs.none:this.placeholder}},{decorations:e=>e.decorations})}const Rse=2e3;function Uke(t,e,r){let a=Math.min(e.line,r.line),i=Math.max(e.line,r.line),d=[];if(e.off>Rse||r.off>Rse||e.col<0||r.col<0){let f=Math.min(e.off,r.off),h=Math.max(e.off,r.off);for(let c=a;c<=i;c++){let g=t.doc.line(c);g.length<=h&&d.push(Tr.range(g.from+f,g.to+h))}}else{let f=Math.min(e.col,r.col),h=Math.max(e.col,r.col);for(let c=a;c<=i;c++){let g=t.doc.line(c),v=use(g.text,f,t.tabSize,!0);if(v<0)d.push(Tr.cursor(g.to));else{let y=use(g.text,h,t.tabSize);d.push(Tr.range(g.from+v,g.from+y))}}}return d}function Wke(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function vde(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),a=t.state.doc.lineAt(r),i=r-a.from,d=i>Rse?-1:i==a.length?Wke(t,e.clientX):Zv(a.text,t.state.tabSize,r-a.from);return{line:a.number,col:d,off:i}}function Yke(t,e){let r=vde(t,e),a=t.state.selection;return r?{update(i){if(i.docChanged){let d=i.changes.mapPos(i.startState.doc.line(r.line).from),f=i.state.doc.lineAt(d);r={line:f.number,col:r.col,off:Math.min(r.off,f.length)},a=a.map(i.changes)}},get(i,d,f){let h=vde(t,i);if(!h)return a;let c=Uke(t.state,r,h);return c.length?f?Tr.create(c.concat(a.ranges)):Tr.create(c):a}}:null}function Xke(t){let e=(t==null?void 0:t.eventFilter)||(r=>r.altKey&&r.button==0);return Xo.mouseSelectionStyle.of((r,a)=>e(a)?Yke(r,a):null)}const Gke={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},jke={style:"cursor: crosshair"};function qke(t={}){let[e,r]=Gke[t.key||"Alt"],a=tu.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||r(i))},keyup(i){(i.keyCode==e||!r(i))&&this.set(!1)},mousemove(i){this.set(r(i))}}});return[a,Xo.contentAttributes.of(i=>{var d;return!((d=i.plugin(a))===null||d===void 0)&&d.isDown?jke:null})]}const xD="-10000px";class E0e{constructor(e,r,a){this.facet=r,this.createTooltipView=a,this.input=e.state.facet(r),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(a)}update(e,r){var a;let i=e.state.facet(this.facet),d=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let f=[],h=r?[]:null;for(let c=0;c<d.length;c++){let g=d[c],v=-1;if(g){for(let y=0;y<this.tooltips.length;y++){let b=this.tooltips[y];b&&b.create==g.create&&(v=y)}if(v<0)f[c]=this.createTooltipView(g),h&&(h[c]=!!g.above);else{let y=f[c]=this.tooltipViews[v];h&&(h[c]=r[v]),y.update&&y.update(e)}}}for(let c of this.tooltipViews)f.indexOf(c)<0&&(c.dom.remove(),(a=c.destroy)===null||a===void 0||a.call(c));return r&&(h.forEach((c,g)=>r[g]=c),r.length=h.length),this.input=i,this.tooltips=d,this.tooltipViews=f,!0}}function Kke(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Zre=ss.define({combine:t=>{var e,r,a;return{position:us.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(i=>i.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((a=t.find(i=>i.tooltipSpace))===null||a===void 0?void 0:a.tooltipSpace)||Kke}}}),yde=new WeakMap,yie=tu.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Zre);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new E0e(t,bie,r=>this.createTooltip(r)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,a=t.state.facet(Zre);if(a.position!=this.position&&!this.madeAbsolute){this.position=a.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;r=!0}if(a.parent!=this.parent){this.parent&&this.container.remove(),this.parent=a.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",e.dom.appendChild(r)}return e.dom.style.position=this.position,e.dom.style.top=xD,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,r=1,a=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(us.gecko)a=i.offsetParent!=this.container.ownerDocument.body;else if(this.view.scaleX!=1||this.view.scaleY!=1)a=!0;else if(i.style.top==xD&&i.style.left=="0px"){let d=i.getBoundingClientRect();a=Math.abs(d.top+1e4)>1||Math.abs(d.left)>1}}if(a||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,r=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:r}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,d)=>{let f=this.manager.tooltipViews[d];return f.getCoords?f.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(Zre).tooltipSpace(this.view),scaleX:e,scaleY:r,makeAbsolute:a}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let h of this.manager.tooltipViews)h.dom.style.position="absolute"}let{editor:r,space:a,scaleX:i,scaleY:d}=t,f=[];for(let h=0;h<this.manager.tooltips.length;h++){let c=this.manager.tooltips[h],g=this.manager.tooltipViews[h],{dom:v}=g,y=t.pos[h],b=t.size[h];if(!y||y.bottom<=Math.max(r.top,a.top)||y.top>=Math.min(r.bottom,a.bottom)||y.right<Math.max(r.left,a.left)-.1||y.left>Math.min(r.right,a.right)+.1){v.style.top=xD;continue}let O=c.arrow?g.dom.querySelector(".cm-tooltip-arrow"):null,C=O?7:0,k=b.right-b.left,w=(e=yde.get(g))!==null&&e!==void 0?e:b.bottom-b.top,T=g.offset||eAe,R=this.view.textDirection==yc.LTR,M=b.width>a.right-a.left?R?a.left:a.right-b.width:R?Math.min(y.left-(O?14:0)+T.x,a.right-k):Math.max(a.left,y.left-k+(O?14:0)-T.x),I=this.above[h];!c.strictSide&&(I?y.top-(b.bottom-b.top)-T.y<a.top:y.bottom+(b.bottom-b.top)+T.y>a.bottom)&&I==a.bottom-y.bottom>y.top-a.top&&(I=this.above[h]=!I);let V=(I?y.top-a.top:a.bottom-y.bottom)-C;if(V<w&&g.resize!==!1){if(V<this.view.defaultLineHeight){v.style.top=xD;continue}yde.set(g,w),v.style.height=(w=V)/d+"px"}else v.style.height&&(v.style.height="");let N=I?y.top-w-C-T.y:y.bottom+C+T.y,Q=M+k;if(g.overlap!==!0)for(let z of f)z.left<Q&&z.right>M&&z.top<N+w&&z.bottom>N&&(N=I?z.top-w-2-C:z.bottom+C+2);if(this.position=="absolute"?(v.style.top=(N-t.parent.top)/d+"px",v.style.left=(M-t.parent.left)/i+"px"):(v.style.top=N/d+"px",v.style.left=M/i+"px"),O){let z=y.left+(R?T.x:-T.x)-(M+14-7);O.style.left=z/i+"px"}g.overlap!==!0&&f.push({left:M,top:N,right:Q,bottom:N+w}),v.classList.toggle("cm-tooltip-above",I),v.classList.toggle("cm-tooltip-below",!I),g.positioned&&g.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=xD}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Jke=Xo.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),eAe={x:0,y:0},bie=ss.define({enables:[yie,Jke]}),bH=ss.define();class PU{static create(e){return new PU(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new E0e(e,bH,r=>this.createHostedView(r))}createHostedView(e){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(r.dom),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let a of this.manager.tooltipViews){let i=a[e];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const tAe=bie.compute([bH],t=>{let e=t.facet(bH).filter(r=>r);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var a;return(a=r.end)!==null&&a!==void 0?a:r.pos})),create:PU.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class nAe{constructor(e,r,a,i,d){this.view=e,this.source=r,this.field=a,this.setHover=i,this.hoverTime=d,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,a=e.docView.nearest(r.target);if(!a)return;let i,d=1;if(a instanceof pS)i=a.posAtStart;else{if(i=e.posAtCoords(r),i==null)return;let h=e.coordsAtPos(i);if(!h||r.y<h.top||r.y>h.bottom||r.x<h.left-e.defaultCharacterWidth||r.x>h.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(v=>v.from<=i&&v.to>=i),g=c&&c.dir==yc.RTL?-1:1;d=r.x<h.left?-g:g}let f=this.source(e,i,d);if(f!=null&&f.then){let h=this.pending={pos:i};f.then(c=>{this.pending==h&&(this.pending=null,c&&e.dispatch({effects:this.setHover.of(c)}))},c=>Ap(e.state,c,"hover tooltip"))}else f&&e.dispatch({effects:this.setHover.of(f)})}get tooltip(){let e=this.view.plugin(yie),r=e?e.manager.tooltips.findIndex(a=>a.create==PU.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:i}=this;if(a&&i&&!rAe(i.dom,e)||this.pending){let{pos:d}=a||this.pending,f=(r=a==null?void 0:a.end)!==null&&r!==void 0?r:d;(d==f?this.view.posAtCoords(this.lastMove)!=d:!oAe(this.view,d,f,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r){let{tooltip:a}=this;a&&a.dom.contains(e.relatedTarget)?this.watchTooltipLeave(a.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let r=a=>{e.removeEventListener("mouseleave",r),this.active&&!this.view.dom.contains(a.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const mZ=4;function rAe(t,e){let r=t.getBoundingClientRect();return e.clientX>=r.left-mZ&&e.clientX<=r.right+mZ&&e.clientY>=r.top-mZ&&e.clientY<=r.bottom+mZ}function oAe(t,e,r,a,i,d){let f=t.scrollDOM.getBoundingClientRect(),h=t.documentTop+t.documentPadding.top+t.contentHeight;if(f.left>a||f.right<a||f.top>i||Math.min(f.bottom,h)<i)return!1;let c=t.posAtCoords({x:a,y:i},!1);return c>=e&&c<=r}function sAe(t,e={}){let r=pa.define(),a=wf.define({create(){return null},update(i,d){if(i&&(e.hideOnChange&&(d.docChanged||d.selection)||e.hideOn&&e.hideOn(d,i)))return null;if(i&&d.docChanged){let f=d.changes.mapPos(i.pos,-1,Gf.TrackDel);if(f==null)return null;let h=Object.assign(Object.create(null),i);h.pos=f,i.end!=null&&(h.end=d.changes.mapPos(i.end)),i=h}for(let f of d.effects)f.is(r)&&(i=f.value),f.is(aAe)&&(i=null);return i},provide:i=>bH.from(i)});return[a,tu.define(i=>new nAe(i,t,a,r,e.hoverTime||300)),tAe]}function _0e(t,e){let r=t.plugin(yie);if(!r)return null;let a=r.manager.tooltips.indexOf(e);return a<0?null:r.manager.tooltipViews[a]}const aAe=pa.define(),bde=ss.define({combine(t){let e,r;for(let a of t)e=e||a.topContainer,r=r||a.bottomContainer;return{topContainer:e,bottomContainer:r}}});function y$(t,e){let r=t.plugin(R0e),a=r?r.specs.indexOf(e):-1;return a>-1?r.panels[a]:null}const R0e=tu.fromClass(class{constructor(t){this.input=t.state.facet(b$),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(bde);this.top=new gZ(t,!0,e.topContainer),this.bottom=new gZ(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(bde);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new gZ(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new gZ(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(b$);if(r!=this.input){let a=r.filter(c=>c),i=[],d=[],f=[],h=[];for(let c of a){let g=this.specs.indexOf(c),v;g<0?(v=c(t.view),h.push(v)):(v=this.panels[g],v.update&&v.update(t)),i.push(v),(v.top?d:f).push(v)}this.specs=a,this.panels=i,this.top.sync(d),this.bottom.sync(f);for(let c of h)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let a of this.panels)a.update&&a.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Xo.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class gZ{constructor(e,r,a){this.view=e,this.top=r,this.container=a,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=Ode(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=Ode(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Ode(t){let e=t.nextSibling;return t.remove(),e}const b$=ss.define({enables:R0e});class TO extends I3{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}TO.prototype.elementClass="";TO.prototype.toDOM=void 0;TO.prototype.mapMode=Gf.TrackBefore;TO.prototype.startSide=TO.prototype.endSide=-1;TO.prototype.point=!0;const jZ=ss.define(),iAe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>qi.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},XD=ss.define();function lAe(t){return[D0e(),XD.of(Object.assign(Object.assign({},iAe),t))]}const Dse=ss.define({combine:t=>t.some(e=>e)});function D0e(t){let e=[cAe];return t&&t.fixed===!1&&e.push(Dse.of(!0)),e}const cAe=tu.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(XD).map(e=>new Sde(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Dse),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,a=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(a<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Dse)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=qi.iter(this.view.state.facet(jZ),this.view.viewport.from),a=[],i=this.gutters.map(d=>new uAe(d,this.view.viewport,-this.view.documentPadding.top));for(let d of this.view.viewportLineBlocks)if(a.length&&(a=[]),Array.isArray(d.type)){let f=!0;for(let h of d.type)if(h.type==hh.Text&&f){$se(r,a,h.from);for(let c of i)c.line(this.view,h,a);f=!1}else if(h.widget)for(let c of i)c.widget(this.view,h)}else if(d.type==hh.Text){$se(r,a,d.from);for(let f of i)f.line(this.view,d,a)}else if(d.widget)for(let f of i)f.widget(this.view,d);for(let d of i)d.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(XD),r=t.state.facet(XD),a=t.docChanged||t.heightChanged||t.viewportChanged||!qi.eq(t.startState.facet(jZ),t.state.facet(jZ),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let i of this.gutters)i.update(t)&&(a=!0);else{a=!0;let i=[];for(let d of r){let f=e.indexOf(d);f<0?i.push(new Sde(this.view,d)):(this.gutters[f].update(t),i.push(this.gutters[f]))}for(let d of this.gutters)d.dom.remove(),i.indexOf(d)<0&&d.destroy();for(let d of i)this.dom.appendChild(d.dom);this.gutters=i}return a}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Xo.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==yc.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function xde(t){return Array.isArray(t)?t:[t]}function $se(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class uAe{constructor(e,r,a){this.gutter=e,this.height=a,this.i=0,this.cursor=qi.iter(e.markers,r.from)}addElement(e,r,a){let{gutter:i}=this,d=(r.top-this.height)/e.scaleY,f=r.height/e.scaleY;if(this.i==i.elements.length){let h=new $0e(e,f,d,a);i.elements.push(h),i.dom.appendChild(h.dom)}else i.elements[this.i].update(e,f,d,a);this.height=r.bottom,this.i++}line(e,r,a){let i=[];$se(this.cursor,i,r.from),a.length&&(i=i.concat(a));let d=this.gutter.config.lineMarker(e,r,i);d&&i.unshift(d);let f=this.gutter;i.length==0&&!f.config.renderEmptyElements||this.addElement(e,r,i)}widget(e,r){let a=this.gutter.config.widgetMarker(e,r.widget,r);a&&this.addElement(e,r,[a])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class Sde{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let a in r.domEventHandlers)this.dom.addEventListener(a,i=>{let d=i.target,f;if(d!=this.dom&&this.dom.contains(d)){for(;d.parentNode!=this.dom;)d=d.parentNode;let c=d.getBoundingClientRect();f=(c.top+c.bottom)/2}else f=i.clientY;let h=e.lineBlockAtHeight(f-e.documentTop);r.domEventHandlers[a](e,h,i)&&i.preventDefault()});this.markers=xde(r.markers(e)),r.initialSpacer&&(this.spacer=new $0e(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=xde(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let a=e.view.viewport;return!qi.eq(this.markers,r,a.from,a.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class $0e{constructor(e,r,a,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,a,i)}update(e,r,a,i){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=a&&(this.dom.style.marginTop=(this.above=a)?a+"px":""),fAe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,r){let a="cm-gutterElement",i=this.dom.firstChild;for(let d=0,f=0;;){let h=f,c=d<r.length?r[d++]:null,g=!1;if(c){let v=c.elementClass;v&&(a+=" "+v);for(let y=f;y<this.markers.length;y++)if(this.markers[y].compare(c)){h=y,g=!0;break}}else h=this.markers.length;for(;f<h;){let v=this.markers[f++];if(v.toDOM){v.destroy(i);let y=i.nextSibling;i.remove(),i=y}}if(!c)break;c.toDOM&&(g?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),g&&f++}this.dom.className=a,this.markers=r}destroy(){this.setMarkers(null,[])}}function fAe(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const dAe=ss.define(),WP=ss.define({combine(t){return sy(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let a=Object.assign({},e);for(let i in r){let d=a[i],f=r[i];a[i]=d?(h,c,g)=>d(h,c,g)||f(h,c,g):f}return a}})}});class Hre extends TO{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ure(t,e){return t.state.facet(WP).formatNumber(e,t.state)}const hAe=XD.compute([WP],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(dAe)},lineMarker(e,r,a){return a.some(i=>i.toDOM)?null:new Hre(Ure(e,e.state.doc.lineAt(r.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(WP)!=e.state.facet(WP),initialSpacer(e){return new Hre(Ure(e,wde(e.state.doc.lines)))},updateSpacer(e,r){let a=Ure(r.view,wde(r.view.state.doc.lines));return a==e.number?e:new Hre(a)},domEventHandlers:t.facet(WP).domEventHandlers}));function mAe(t={}){return[WP.of(t),D0e(),hAe]}function wde(t){let e=9;for(;e<t;)e=e*10+9;return e}const gAe=new class extends TO{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},pAe=jZ.compute(["selection"],t=>{let e=[],r=-1;for(let a of t.selection.ranges){let i=t.doc.lineAt(a.head).from;i>r&&(r=i,e.push(gAe.range(i)))}return qi.of(e)});function vAe(){return pAe}const L0e=1024;let yAe=0,Op=class{constructor(e,r){this.from=e,this.to=r}};class ua{constructor(e={}){this.id=yAe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Vu.match(e)),r=>{let a=e(r);return a===void 0?null:[this,a]}}}ua.closedBy=new ua({deserialize:t=>t.split(" ")});ua.openedBy=new ua({deserialize:t=>t.split(" ")});ua.group=new ua({deserialize:t=>t.split(" ")});ua.contextHash=new ua({perNode:!0});ua.lookAhead=new ua({perNode:!0});ua.mounted=new ua({perNode:!0});class O${constructor(e,r,a){this.tree=e,this.overlay=r,this.parser=a}static get(e){return e&&e.props&&e.props[ua.mounted.id]}}const bAe=Object.create(null);class Vu{constructor(e,r,a,i=0){this.name=e,this.props=r,this.id=a,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):bAe,a=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Vu(e.name||"",r,e.id,a);if(e.props){for(let d of e.props)if(Array.isArray(d)||(d=d(i)),d){if(d[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[d[0].id]=d[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(ua.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let a in e)for(let i of a.split(" "))r[i]=e[a];return a=>{for(let i=a.prop(ua.group),d=-1;d<(i?i.length:0);d++){let f=r[d<0?a.name:i[d]];if(f)return f}}}}Vu.none=new Vu("",Object.create(null),0,8);class j${constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let a of this.types){let i=null;for(let d of e){let f=d(a);f&&(i||(i=Object.assign({},a.props)),i[f[0].id]=f[1])}r.push(i?new Vu(a.name,i,a.id,a.flags):a)}return new j$(r)}}const pZ=new WeakMap,Tde=new WeakMap;var yl;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(yl||(yl={}));class Fi{constructor(e,r,a,i,d){if(this.type=e,this.children=r,this.positions=a,this.length=i,this.props=null,d&&d.length){this.props=Object.create(null);for(let[f,h]of d)this.props[typeof f=="number"?f:f.id]=h}}toString(){let e=O$.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let a of this.children){let i=a.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new OH(this.topNode,e)}cursorAt(e,r=0,a=0){let i=pZ.get(this)||this.topNode,d=new OH(i);return d.moveTo(e,r),pZ.set(this,d._tree),d}get topNode(){return new Md(this,0,0,null)}resolve(e,r=0){let a=x$(pZ.get(this)||this.topNode,e,r,!1);return pZ.set(this,a),a}resolveInner(e,r=0){let a=x$(Tde.get(this)||this.topNode,e,r,!0);return Tde.set(this,a),a}resolveStack(e,r=0){return SAe(this,e,r)}iterate(e){let{enter:r,leave:a,from:i=0,to:d=this.length}=e,f=e.mode||0,h=(f&yl.IncludeAnonymous)>0;for(let c=this.cursor(f|yl.IncludeAnonymous);;){let g=!1;if(c.from<=d&&c.to>=i&&(!h&&c.type.isAnonymous||r(c)!==!1)){if(c.firstChild())continue;g=!0}for(;g&&a&&(h||!c.type.isAnonymous)&&a(c),!c.nextSibling();){if(!c.parent())return;g=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:Sie(Vu.none,this.children,this.positions,0,this.children.length,0,this.length,(r,a,i)=>new Fi(this.type,r,a,i,this.propValues),e.makeTree||((r,a,i)=>new Fi(Vu.none,r,a,i)))}static build(e){return wAe(e)}}Fi.empty=new Fi(Vu.none,[],[],0);class Oie{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Oie(this.buffer,this.index)}}class MS{constructor(e,r,a){this.buffer=e,this.length=r,this.set=a}get type(){return Vu.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],a=this.buffer[e+3],i=this.set.types[r],d=i.name;if(/\W/.test(d)&&!i.isError&&(d=JSON.stringify(d)),e+=4,a==e)return d;let f=[];for(;e<a;)f.push(this.childString(e)),e=this.buffer[e+3];return d+"("+f.join(",")+")"}findChild(e,r,a,i,d){let{buffer:f}=this,h=-1;for(let c=e;c!=r&&!(I0e(d,i,f[c+1],f[c+2])&&(h=c,a>0));c=f[c+3]);return h}slice(e,r,a){let i=this.buffer,d=new Uint16Array(r-e),f=0;for(let h=e,c=0;h<r;){d[c++]=i[h++],d[c++]=i[h++]-a;let g=d[c++]=i[h++]-a;d[c++]=i[h++]-e,f=Math.max(f,g)}return new MS(d,f,this.set)}}function I0e(t,e,r,a){switch(t){case-2:return r<e;case-1:return a>=e&&r<e;case 0:return r<e&&a>e;case 1:return r<=e&&a>e;case 2:return a>e;case 4:return!0}}function x$(t,e,r,a){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let f=!a&&t instanceof Md&&t.index<0?null:t.parent;if(!f)return t;t=f}let d=a?0:yl.IgnoreOverlays;if(a)for(let f=t,h=f.parent;h;f=h,h=f.parent)f instanceof Md&&f.index<0&&((i=h.enter(e,r,d))===null||i===void 0?void 0:i.from)!=f.from&&(t=h);for(;;){let f=t.enter(e,r,d);if(!f)return t;t=f}}class N0e{cursor(e=0){return new OH(this,e)}getChild(e,r=null,a=null){let i=Cde(this,e,r,a);return i.length?i[0]:null}getChildren(e,r=null,a=null){return Cde(this,e,r,a)}resolve(e,r=0){return x$(this,e,r,!1)}resolveInner(e,r=0){return x$(this,e,r,!0)}matchContext(e){return Lse(this,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),a=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(a=r,r=i.prevSibling):r=i}return a}get node(){return this}get next(){return this.parent}}class Md extends N0e{constructor(e,r,a,i){super(),this._tree=e,this.from=r,this.index=a,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,a,i,d=0){for(let f=this;;){for(let{children:h,positions:c}=f._tree,g=r>0?h.length:-1;e!=g;e+=r){let v=h[e],y=c[e]+f.from;if(I0e(i,a,y,y+v.length)){if(v instanceof MS){if(d&yl.ExcludeBuffers)continue;let b=v.findChild(0,v.buffer.length,r,a-y,i);if(b>-1)return new G1(new OAe(f,v,e,y),null,b)}else if(d&yl.IncludeAnonymous||!v.type.isAnonymous||xie(v)){let b;if(!(d&yl.IgnoreMounts)&&(b=O$.get(v))&&!b.overlay)return new Md(b.tree,y,e,f);let O=new Md(v,y,e,f);return d&yl.IncludeAnonymous||!O.type.isAnonymous?O:O.nextChild(r<0?v.children.length-1:0,r,a,i)}}}if(d&yl.IncludeAnonymous||!f.type.isAnonymous||(f.index>=0?e=f.index+r:e=r<0?-1:f._parent._tree.children.length,f=f._parent,!f))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,a=0){let i;if(!(a&yl.IgnoreOverlays)&&(i=O$.get(this._tree))&&i.overlay){let d=e-this.from;for(let{from:f,to:h}of i.overlay)if((r>0?f<=d:f<d)&&(r<0?h>=d:h>d))return new Md(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,a)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Cde(t,e,r,a){let i=t.cursor(),d=[];if(!i.firstChild())return d;if(r!=null){for(;!i.type.is(r);)if(!i.nextSibling())return d}for(;;){if(a!=null&&i.type.is(a))return d;if(i.type.is(e)&&d.push(i.node),!i.nextSibling())return a==null?d:[]}}function Lse(t,e,r=e.length-1){for(let a=t.parent;r>=0;a=a.parent){if(!a)return!1;if(!a.type.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}class OAe{constructor(e,r,a,i){this.parent=e,this.buffer=r,this.index=a,this.start=i}}class G1 extends N0e{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,a){super(),this.context=e,this._parent=r,this.index=a,this.type=e.buffer.set.types[e.buffer.buffer[a]]}child(e,r,a){let{buffer:i}=this.context,d=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,a);return d<0?null:new G1(this.context,this,d)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,a=0){if(a&yl.ExcludeBuffers)return null;let{buffer:i}=this.context,d=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return d<0?null:new G1(this.context,this,d)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new G1(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new G1(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:a}=this.context,i=this.index+4,d=a.buffer[this.index+3];if(d>i){let f=a.buffer[this.index+1];e.push(a.slice(i,d,f)),r.push(0)}return new Fi(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function B0e(t){if(!t.length)return null;let e=0,r=t[0];for(let d=1;d<t.length;d++){let f=t[d];(f.from>r.from||f.to<r.to)&&(r=f,e=d)}let a=r instanceof Md&&r.index<0?null:r.parent,i=t.slice();return a?i[e]=a:i.splice(e,1),new xAe(i,r)}class xAe{constructor(e,r){this.heads=e,this.node=r}get next(){return B0e(this.heads)}}function SAe(t,e,r){let a=t.resolveInner(e,r),i=null;for(let d=a instanceof Md?a:a.context.parent;d;d=d.parent)if(d.index<0){let f=d.parent;(i||(i=[a])).push(f.resolve(e,r)),d=f}else{let f=O$.get(d.tree);if(f&&f.overlay&&f.overlay[0].from<=e&&f.overlay[f.overlay.length-1].to>=e){let h=new Md(f.tree,f.overlay[0].from+d.from,-1,d);(i||(i=[a])).push(x$(h,e,r,!1))}}return i?B0e(i):a}class OH{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Md)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let a=e._parent;a;a=a._parent)this.stack.unshift(a.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:a,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=a+i.buffer[e+1],this.to=a+i.buffer[e+2],!0}yield(e){return e?e instanceof Md?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,a){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,a,this.mode));let{buffer:i}=this.buffer,d=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,a);return d<0?!1:(this.stack.push(this.index),this.yieldBuf(d))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,a=this.mode){return this.buffer?a&yl.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,a))}parent(){if(!this.buffer)return this.yieldNode(this.mode&yl.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&yl.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,a=this.stack.length-1;if(e<0){let i=a<0?0:this.stack[a]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(a<0?r.buffer.length:r.buffer[this.stack[a]+3]))return this.yieldBuf(i)}return a<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,a,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let d=0;d<this.index;d++)if(i.buffer.buffer[d+3]<this.index)return!1;({index:r,parent:a}=i)}else({index:r,_parent:a}=this._tree);for(;a;{index:r,_parent:a}=a)if(r>-1)for(let d=r+e,f=e<0?-1:a._tree.children.length;d!=f;d+=e){let h=a._tree.children[d];if(this.mode&yl.IncludeAnonymous||h instanceof MS||!h.type.isAnonymous||xie(h))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,a=0;if(e&&e.context==this.buffer)e:for(let i=this.index,d=this.stack.length;d>=0;){for(let f=e;f;f=f._parent)if(f.index==i){if(i==this.index)return f;r=f,a=d+1;break e}i=this.stack[--d]}for(let i=a;i<this.stack.length;i++)r=new G1(this.buffer,r,this.stack[i]);return this.bufferNode=new G1(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let a=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){a++;continue}this.type.isAnonymous||(i=!0)}for(;i&&r&&r(this),i=this.type.isAnonymous,!this.nextSibling();){if(!a)return;this.parent(),a--,i=!0}}}matchContext(e){if(!this.buffer)return Lse(this.node,e);let{buffer:r}=this.buffer,{types:a}=r.set;for(let i=e.length-1,d=this.stack.length-1;i>=0;d--){if(d<0)return Lse(this.node,e,i);let f=a[r.buffer[this.stack[d]]];if(!f.isAnonymous){if(e[i]&&e[i]!=f.name)return!1;i--}}return!0}}function xie(t){return t.children.some(e=>e instanceof MS||!e.type.isAnonymous||xie(e))}function wAe(t){var e;let{buffer:r,nodeSet:a,maxBufferLength:i=L0e,reused:d=[],minRepeatType:f=a.types.length}=t,h=Array.isArray(r)?new Oie(r,r.length):r,c=a.types,g=0,v=0;function y(V,N,Q,z,U,F){let{id:B,start:E,end:W,size:X}=h,ie=v;for(;X<0;)if(h.next(),X==-1){let de=d[B];Q.push(de),z.push(E-V);return}else if(X==-3){g=B;return}else if(X==-4){v=B;return}else throw new RangeError(`Unrecognized record size: ${X}`);let L=c[B],me,ae,q=E-V;if(W-E<=i&&(ae=w(h.pos-N,U))){let de=new Uint16Array(ae.size-ae.skip),ee=h.pos-ae.size,xe=de.length;for(;h.pos>ee;)xe=T(ae.start,de,xe);me=new MS(de,W-ae.start,a),q=ae.start-V}else{let de=h.pos-X;h.next();let ee=[],xe=[],we=B>=f?B:-1,Be=0,pe=W;for(;h.pos>de;)we>=0&&h.id==we&&h.size>=0?(h.end<=pe-i&&(C(ee,xe,E,Be,h.end,pe,we,ie),Be=ee.length,pe=h.end),h.next()):F>2500?b(E,de,ee,xe):y(E,de,ee,xe,we,F+1);if(we>=0&&Be>0&&Be<ee.length&&C(ee,xe,E,Be,E,pe,we,ie),ee.reverse(),xe.reverse(),we>-1&&Be>0){let ne=O(L);me=Sie(L,ee,xe,0,ee.length,0,W-E,ne,ne)}else me=k(L,ee,xe,W-E,ie-W)}Q.push(me),z.push(q)}function b(V,N,Q,z){let U=[],F=0,B=-1;for(;h.pos>N;){let{id:E,start:W,end:X,size:ie}=h;if(ie>4)h.next();else{if(B>-1&&W<B)break;B<0&&(B=X-i),U.push(E,W,X),F++,h.next()}}if(F){let E=new Uint16Array(F*4),W=U[U.length-2];for(let X=U.length-3,ie=0;X>=0;X-=3)E[ie++]=U[X],E[ie++]=U[X+1]-W,E[ie++]=U[X+2]-W,E[ie++]=ie;Q.push(new MS(E,U[2]-W,a)),z.push(W-V)}}function O(V){return(N,Q,z)=>{let U=0,F=N.length-1,B,E;if(F>=0&&(B=N[F])instanceof Fi){if(!F&&B.type==V&&B.length==z)return B;(E=B.prop(ua.lookAhead))&&(U=Q[F]+B.length+E)}return k(V,N,Q,z,U)}}function C(V,N,Q,z,U,F,B,E){let W=[],X=[];for(;V.length>z;)W.push(V.pop()),X.push(N.pop()+Q-U);V.push(k(a.types[B],W,X,F-U,E-F)),N.push(U-Q)}function k(V,N,Q,z,U=0,F){if(g){let B=[ua.contextHash,g];F=F?[B].concat(F):[B]}if(U>25){let B=[ua.lookAhead,U];F=F?[B].concat(F):[B]}return new Fi(V,N,Q,z,F)}function w(V,N){let Q=h.fork(),z=0,U=0,F=0,B=Q.end-i,E={size:0,start:0,skip:0};e:for(let W=Q.pos-V;Q.pos>W;){let X=Q.size;if(Q.id==N&&X>=0){E.size=z,E.start=U,E.skip=F,F+=4,z+=4,Q.next();continue}let ie=Q.pos-X;if(X<0||ie<W||Q.start<B)break;let L=Q.id>=f?4:0,me=Q.start;for(Q.next();Q.pos>ie;){if(Q.size<0)if(Q.size==-3)L+=4;else break e;else Q.id>=f&&(L+=4);Q.next()}U=me,z+=X,F+=L}return(N<0||z==V)&&(E.size=z,E.start=U,E.skip=F),E.size>4?E:void 0}function T(V,N,Q){let{id:z,start:U,end:F,size:B}=h;if(h.next(),B>=0&&z<f){let E=Q;if(B>4){let W=h.pos-(B-4);for(;h.pos>W;)Q=T(V,N,Q)}N[--Q]=E,N[--Q]=F-V,N[--Q]=U-V,N[--Q]=z}else B==-3?g=z:B==-4&&(v=z);return Q}let R=[],M=[];for(;h.pos>0;)y(t.start||0,t.bufferStart||0,R,M,-1,0);let I=(e=t.length)!==null&&e!==void 0?e:R.length?M[0]+R[0].length:0;return new Fi(c[t.topID],R.reverse(),M.reverse(),I)}const kde=new WeakMap;function qZ(t,e){if(!t.isAnonymous||e instanceof MS||e.type!=t)return 1;let r=kde.get(e);if(r==null){r=1;for(let a of e.children){if(a.type!=t||!(a instanceof Fi)){r=1;break}r+=qZ(t,a)}kde.set(e,r)}return r}function Sie(t,e,r,a,i,d,f,h,c){let g=0;for(let C=a;C<i;C++)g+=qZ(t,e[C]);let v=Math.ceil(g*1.5/8),y=[],b=[];function O(C,k,w,T,R){for(let M=w;M<T;){let I=M,V=k[M],N=qZ(t,C[M]);for(M++;M<T;M++){let Q=qZ(t,C[M]);if(N+Q>=v)break;N+=Q}if(M==I+1){if(N>v){let Q=C[I];O(Q.children,Q.positions,0,Q.children.length,k[I]+R);continue}y.push(C[I])}else{let Q=k[M-1]+C[M-1].length-V;y.push(Sie(t,C,k,I,M,V,Q,null,c))}b.push(V+R-d)}}return O(e,r,a,i,0),(h||c)(y,b,f)}class wie{constructor(){this.map=new WeakMap}setBuffer(e,r,a){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(r,a)}getBuffer(e,r){let a=this.map.get(e);return a&&a.get(r)}set(e,r){e instanceof G1?this.setBuffer(e.context.buffer,e.index,r):e instanceof Md&&this.map.set(e.tree,r)}get(e){return e instanceof G1?this.getBuffer(e.context.buffer,e.index):e instanceof Md?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class vO{constructor(e,r,a,i,d=!1,f=!1){this.from=e,this.to=r,this.tree=a,this.offset=i,this.open=(d?1:0)|(f?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],a=!1){let i=[new vO(0,e.length,e,0,!1,a)];for(let d of r)d.to>e.length&&i.push(d);return i}static applyChanges(e,r,a=128){if(!r.length)return e;let i=[],d=1,f=e.length?e[0]:null;for(let h=0,c=0,g=0;;h++){let v=h<r.length?r[h]:null,y=v?v.fromA:1e9;if(y-c>=a)for(;f&&f.from<y;){let b=f;if(c>=b.from||y<=b.to||g){let O=Math.max(b.from,c)-g,C=Math.min(b.to,y)-g;b=O>=C?null:new vO(O,C,b.tree,b.offset+g,h>0,!!v)}if(b&&i.push(b),f.to>y)break;f=d<e.length?e[d++]:null}if(!v)break;c=v.toA,g=v.toA-v.toB}return i}}class Tie{startParse(e,r,a){return typeof e=="string"&&(e=new TAe(e)),a=a?a.length?a.map(i=>new Op(i.from,i.to)):[new Op(0,0)]:[new Op(0,e.length)],this.createParse(e,r||[],a)}parse(e,r,a){let i=this.startParse(e,r,a);for(;;){let d=i.advance();if(d)return d}}}class TAe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}function Q0e(t){return(e,r,a,i)=>new kAe(e,t,r,a,i)}class Ade{constructor(e,r,a,i,d){this.parser=e,this.parse=r,this.overlay=a,this.target=i,this.from=d}}function Pde(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class CAe{constructor(e,r,a,i,d,f,h){this.parser=e,this.predicate=r,this.mounts=a,this.index=i,this.start=d,this.target=f,this.prev=h,this.depth=0,this.ranges=[]}}const Ise=new ua({perNode:!0});class kAe{constructor(e,r,a,i,d){this.nest=r,this.input=a,this.fragments=i,this.ranges=d,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let a=this.baseParse.advance();if(!a)return null;if(this.baseParse=null,this.baseTree=a,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let a=this.baseTree;return this.stoppedAt!=null&&(a=new Fi(a.type,a.children,a.positions,a.length,a.propValues.concat([[Ise,this.stoppedAt]]))),a}let e=this.inner[this.innerDone],r=e.parse.advance();if(r){this.innerDone++;let a=Object.assign(Object.create(null),e.target.props);a[ua.mounted.id]=new O$(r,e.overlay,e.parser),e.target.props=a}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].from<e&&(e=Math.min(e,this.inner[r].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].parse.stopAt(e)}startInner(){let e=new MAe(this.fragments),r=null,a=null,i=new OH(new Md(this.baseTree,this.ranges[0].from,0,null),yl.IncludeAnonymous|yl.IgnoreMounts);e:for(let d,f;;){let h=!0,c;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)h=!1;else if(e.hasNode(i)){if(r){let g=r.mounts.find(v=>v.frag.from<=i.from&&v.frag.to>=i.to&&v.mount.overlay);if(g)for(let v of g.mount.overlay){let y=v.from+g.pos,b=v.to+g.pos;y>=i.from&&b<=i.to&&!r.ranges.some(O=>O.from<b&&O.to>y)&&r.ranges.push({from:y,to:b})}}h=!1}else if(a&&(f=AAe(a.ranges,i.from,i.to)))h=f!=2;else if(!i.type.isAnonymous&&(d=this.nest(i,this.input))&&(i.from<i.to||!d.overlay)){i.tree||PAe(i);let g=e.findMounts(i.from,d.parser);if(typeof d.overlay=="function")r=new CAe(d.parser,d.overlay,g,this.inner.length,i.from,i.tree,r);else{let v=_de(this.ranges,d.overlay||(i.from<i.to?[new Op(i.from,i.to)]:[]));v.length&&Pde(v),(v.length||!d.overlay)&&this.inner.push(new Ade(d.parser,v.length?d.parser.startParse(this.input,Rde(g,v),v):d.parser.startParse(""),d.overlay?d.overlay.map(y=>new Op(y.from-i.from,y.to-i.from)):null,i.tree,v.length?v[0].from:i.from)),d.overlay?v.length&&(a={ranges:v,depth:0,prev:a}):h=!1}}else r&&(c=r.predicate(i))&&(c===!0&&(c=new Op(i.from,i.to)),c.from<c.to&&r.ranges.push(c));if(h&&i.firstChild())r&&r.depth++,a&&a.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(r&&!--r.depth){let g=_de(this.ranges,r.ranges);g.length&&(Pde(g),this.inner.splice(r.index,0,new Ade(r.parser,r.parser.startParse(this.input,Rde(r.mounts,g),g),r.ranges.map(v=>new Op(v.from-r.start,v.to-r.start)),r.target,g[0].from))),r=r.prev}a&&!--a.depth&&(a=a.prev)}}}}function AAe(t,e,r){for(let a of t){if(a.from>=r)break;if(a.to>e)return a.from<=e&&a.to>=r?2:1}return 0}function Mde(t,e,r,a,i,d){if(e<r){let f=t.buffer[e+1];a.push(t.slice(e,r,f)),i.push(f-d)}}function PAe(t){let{node:e}=t,r=[];do r.push(t.index),t.parent();while(!t.tree);let a=0,i=t.tree,d=0;for(;d=i.positions[a]+t.from,!(d<=e.from&&d+i.children[a].length>=e.to);a++);let f=i.children[a],h=f.buffer,c=[a];function g(v,y,b,O,C,k){let w=r[k],T=[],R=[];Mde(f,v,w,T,R,O);let M=h[w+1],I=h[w+2];c.push(T.length);let V=k?g(w+4,h[w+3],f.set.types[h[w]],M,I-M,k-1):e.toTree();return T.push(V),R.push(M-O),Mde(f,h[w+3],y,T,R,O),new Fi(b,T,R,C)}i.children[a]=g(0,h.length,Vu.none,0,f.length,r.length-1);for(let v of c){let y=t.tree.children[v],b=t.tree.positions[v];t.yield(new Md(y,b+t.from,v,t._tree))}}class Ede{constructor(e,r){this.offset=r,this.done=!1,this.cursor=e.cursor(yl.IncludeAnonymous|yl.IgnoreMounts)}moveTo(e){let{cursor:r}=this,a=e-this.offset;for(;!this.done&&r.from<a;)r.to>=e&&r.enter(a,1,yl.IgnoreOverlays|yl.ExcludeBuffers)||r.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let r=this.cursor.tree;;){if(r==e.tree)return!0;if(r.children.length&&r.positions[0]==0&&r.children[0]instanceof Fi)r=r.children[0];else break}return!1}}let MAe=class{constructor(e){var r;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let a=this.curFrag=e[0];this.curTo=(r=a.tree.prop(Ise))!==null&&r!==void 0?r:a.to,this.inner=new Ede(a.tree,-a.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let r=this.curFrag=this.fragments[this.fragI];this.curTo=(e=r.tree.prop(Ise))!==null&&e!==void 0?e:r.to,this.inner=new Ede(r.tree,-r.offset)}}findMounts(e,r){var a;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let d=this.inner.cursor.node;d;d=d.parent){let f=(a=d.tree)===null||a===void 0?void 0:a.prop(ua.mounted);if(f&&f.parser==r)for(let h=this.fragI;h<this.fragments.length;h++){let c=this.fragments[h];if(c.from>=d.to)break;c.tree==this.curFrag.tree&&i.push({frag:c,pos:d.from-c.offset,mount:f})}}}return i}};function _de(t,e){let r=null,a=e;for(let i=1,d=0;i<t.length;i++){let f=t[i-1].to,h=t[i].from;for(;d<a.length;d++){let c=a[d];if(c.from>=h)break;c.to<=f||(r||(a=r=e.slice()),c.from<f?(r[d]=new Op(c.from,f),c.to>h&&r.splice(d+1,0,new Op(h,c.to))):c.to>h?r[d--]=new Op(h,c.to):r.splice(d--,1))}}return a}function EAe(t,e,r,a){let i=0,d=0,f=!1,h=!1,c=-1e9,g=[];for(;;){let v=i==t.length?1e9:f?t[i].to:t[i].from,y=d==e.length?1e9:h?e[d].to:e[d].from;if(f!=h){let b=Math.max(c,r),O=Math.min(v,y,a);b<O&&g.push(new Op(b,O))}if(c=Math.min(v,y),c==1e9)break;v==c&&(f?(f=!1,i++):f=!0),y==c&&(h?(h=!1,d++):h=!0)}return g}function Rde(t,e){let r=[];for(let{pos:a,mount:i,frag:d}of t){let f=a+(i.overlay?i.overlay[0].from:0),h=f+i.tree.length,c=Math.max(d.from,f),g=Math.min(d.to,h);if(i.overlay){let v=i.overlay.map(b=>new Op(b.from+a,b.to+a)),y=EAe(e,v,c,g);for(let b=0,O=c;;b++){let C=b==y.length,k=C?g:y[b].from;if(k>O&&r.push(new vO(O,k,i.tree,-f,d.from>=O||d.openStart,d.to<=k||d.openEnd)),C)break;O=y[b].to}}else r.push(new vO(c,g,i.tree,-f,d.from>=f||d.openStart,d.to<=h||d.openEnd))}return r}let _Ae=0;class Iv{constructor(e,r,a){this.set=e,this.base=r,this.modified=a,this.id=_Ae++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let r=new Iv([],null,[]);if(r.set.push(r),e)for(let a of e.set)r.set.push(a);return r}static defineModifier(){let e=new xH;return r=>r.modified.indexOf(e)>-1?r:xH.get(r.base||r,r.modified.concat(e).sort((a,i)=>a.id-i.id))}}let RAe=0;class xH{constructor(){this.instances=[],this.id=RAe++}static get(e,r){if(!r.length)return e;let a=r[0].instances.find(h=>h.base==e&&DAe(r,h.modified));if(a)return a;let i=[],d=new Iv(i,e,r);for(let h of r)h.instances.push(d);let f=$Ae(r);for(let h of e.set)if(!h.modified.length)for(let c of f)i.push(xH.get(h,c));return d}}function DAe(t,e){return t.length==e.length&&t.every((r,a)=>r==e[a])}function $Ae(t){let e=[[]];for(let r=0;r<t.length;r++)for(let a=0,i=e.length;a<i;a++)e.push(e[a].concat(t[r]));return e.sort((r,a)=>a.length-r.length)}function NS(t){let e=Object.create(null);for(let r in t){let a=t[r];Array.isArray(a)||(a=[a]);for(let i of r.split(" "))if(i){let d=[],f=2,h=i;for(let y=0;;){if(h=="..."&&y>0&&y+3==i.length){f=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(h);if(!b)throw new RangeError("Invalid path: "+i);if(d.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),y+=b[0].length,y==i.length)break;let O=i[y++];if(y==i.length&&O=="!"){f=0;break}if(O!="/")throw new RangeError("Invalid path: "+i);h=i.slice(y)}let c=d.length-1,g=d[c];if(!g)throw new RangeError("Invalid path: "+i);let v=new SH(a,f,c>0?d.slice(0,c):null);e[g]=v.sort(e[g])}}return F0e.add(e)}const F0e=new ua;class SH{constructor(e,r,a,i){this.tags=e,this.mode=r,this.context=a,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}SH.empty=new SH([],2,null);function V0e(t,e){let r=Object.create(null);for(let d of t)if(!Array.isArray(d.tag))r[d.tag.id]=d.class;else for(let f of d.tag)r[f.id]=d.class;let{scope:a,all:i=null}=e||{};return{style:d=>{let f=i;for(let h of d)for(let c of h.set){let g=r[c.id];if(g){f=f?f+" "+g:g;break}}return f},scope:a}}function LAe(t,e){let r=null;for(let a of t){let i=a.style(e);i&&(r=r?r+" "+i:i)}return r}function IAe(t,e,r,a=0,i=t.length){let d=new NAe(a,Array.isArray(e)?e:[e],r);d.highlightRange(t.cursor(),a,i,"",d.highlighters),d.flush(i)}class NAe{constructor(e,r,a){this.at=e,this.highlighters=r,this.span=a,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,a,i,d){let{type:f,from:h,to:c}=e;if(h>=a||c<=r)return;f.isTop&&(d=this.highlighters.filter(O=>!O.scope||O.scope(f)));let g=i,v=BAe(e)||SH.empty,y=LAe(d,v.tags);if(y&&(g&&(g+=" "),g+=y,v.mode==1&&(i+=(i?" ":"")+y)),this.startSpan(Math.max(r,h),g),v.opaque)return;let b=e.tree&&e.tree.prop(ua.mounted);if(b&&b.overlay){let O=e.node.enter(b.overlay[0].from+h,1),C=this.highlighters.filter(w=>!w.scope||w.scope(b.tree.type)),k=e.firstChild();for(let w=0,T=h;;w++){let R=w<b.overlay.length?b.overlay[w]:null,M=R?R.from+h:c,I=Math.max(r,T),V=Math.min(a,M);if(I<V&&k)for(;e.from<V&&(this.highlightRange(e,I,V,i,d),this.startSpan(Math.min(V,e.to),g),!(e.to>=M||!e.nextSibling())););if(!R||M>a)break;T=R.to+h,T>r&&(this.highlightRange(O.cursor(),Math.max(r,R.from+h),Math.min(a,T),"",C),this.startSpan(Math.min(a,T),g))}k&&e.parent()}else if(e.firstChild()){b&&(i="");do if(!(e.to<=r)){if(e.from>=a)break;this.highlightRange(e,r,a,i,d),this.startSpan(Math.min(a,e.to),g)}while(e.nextSibling());e.parent()}}}function BAe(t){let e=t.type.prop(F0e);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Ao=Iv.define,vZ=Ao(),fS=Ao(),Dde=Ao(fS),$de=Ao(fS),dS=Ao(),yZ=Ao(dS),Wre=Ao(dS),V1=Ao(),p3=Ao(V1),Q1=Ao(),F1=Ao(),Nse=Ao(),SD=Ao(Nse),bZ=Ao(),Qt={comment:vZ,lineComment:Ao(vZ),blockComment:Ao(vZ),docComment:Ao(vZ),name:fS,variableName:Ao(fS),typeName:Dde,tagName:Ao(Dde),propertyName:$de,attributeName:Ao($de),className:Ao(fS),labelName:Ao(fS),namespace:Ao(fS),macroName:Ao(fS),literal:dS,string:yZ,docString:Ao(yZ),character:Ao(yZ),attributeValue:Ao(yZ),number:Wre,integer:Ao(Wre),float:Ao(Wre),bool:Ao(dS),regexp:Ao(dS),escape:Ao(dS),color:Ao(dS),url:Ao(dS),keyword:Q1,self:Ao(Q1),null:Ao(Q1),atom:Ao(Q1),unit:Ao(Q1),modifier:Ao(Q1),operatorKeyword:Ao(Q1),controlKeyword:Ao(Q1),definitionKeyword:Ao(Q1),moduleKeyword:Ao(Q1),operator:F1,derefOperator:Ao(F1),arithmeticOperator:Ao(F1),logicOperator:Ao(F1),bitwiseOperator:Ao(F1),compareOperator:Ao(F1),updateOperator:Ao(F1),definitionOperator:Ao(F1),typeOperator:Ao(F1),controlOperator:Ao(F1),punctuation:Nse,separator:Ao(Nse),bracket:SD,angleBracket:Ao(SD),squareBracket:Ao(SD),paren:Ao(SD),brace:Ao(SD),content:V1,heading:p3,heading1:Ao(p3),heading2:Ao(p3),heading3:Ao(p3),heading4:Ao(p3),heading5:Ao(p3),heading6:Ao(p3),contentSeparator:Ao(V1),list:Ao(V1),quote:Ao(V1),emphasis:Ao(V1),strong:Ao(V1),link:Ao(V1),monospace:Ao(V1),strikethrough:Ao(V1),inserted:Ao(),deleted:Ao(),changed:Ao(),invalid:Ao(),meta:bZ,documentMeta:Ao(bZ),annotation:Ao(bZ),processingInstruction:Ao(bZ),definition:Iv.defineModifier(),constant:Iv.defineModifier(),function:Iv.defineModifier(),standard:Iv.defineModifier(),local:Iv.defineModifier(),special:Iv.defineModifier()};V0e([{tag:Qt.link,class:"tok-link"},{tag:Qt.heading,class:"tok-heading"},{tag:Qt.emphasis,class:"tok-emphasis"},{tag:Qt.strong,class:"tok-strong"},{tag:Qt.keyword,class:"tok-keyword"},{tag:Qt.atom,class:"tok-atom"},{tag:Qt.bool,class:"tok-bool"},{tag:Qt.url,class:"tok-url"},{tag:Qt.labelName,class:"tok-labelName"},{tag:Qt.inserted,class:"tok-inserted"},{tag:Qt.deleted,class:"tok-deleted"},{tag:Qt.literal,class:"tok-literal"},{tag:Qt.string,class:"tok-string"},{tag:Qt.number,class:"tok-number"},{tag:[Qt.regexp,Qt.escape,Qt.special(Qt.string)],class:"tok-string2"},{tag:Qt.variableName,class:"tok-variableName"},{tag:Qt.local(Qt.variableName),class:"tok-variableName tok-local"},{tag:Qt.definition(Qt.variableName),class:"tok-variableName tok-definition"},{tag:Qt.special(Qt.variableName),class:"tok-variableName2"},{tag:Qt.definition(Qt.propertyName),class:"tok-propertyName tok-definition"},{tag:Qt.typeName,class:"tok-typeName"},{tag:Qt.namespace,class:"tok-namespace"},{tag:Qt.className,class:"tok-className"},{tag:Qt.macroName,class:"tok-macroName"},{tag:Qt.propertyName,class:"tok-propertyName"},{tag:Qt.operator,class:"tok-operator"},{tag:Qt.comment,class:"tok-comment"},{tag:Qt.meta,class:"tok-meta"},{tag:Qt.invalid,class:"tok-invalid"},{tag:Qt.punctuation,class:"tok-punctuation"}]);var Yre;const E3=new ua;function Cie(t){return ss.define({combine:t?e=>e.concat(t):void 0})}const kie=new ua;class xp{constructor(e,r,a=[],i=""){this.data=e,this.name=i,Na.prototype.hasOwnProperty("tree")||Object.defineProperty(Na.prototype,"tree",{get(){return ol(this)}}),this.parser=r,this.extension=[_S.of(this),Na.languageData.of((d,f,h)=>{let c=Lde(d,f,h),g=c.type.prop(E3);if(!g)return[];let v=d.facet(g),y=c.type.prop(kie);if(y){let b=c.resolve(f-c.from,h);for(let O of y)if(O.test(b,d)){let C=d.facet(O.facet);return O.type=="replace"?C:C.concat(v)}}return v})].concat(a)}isActiveAt(e,r,a=-1){return Lde(e,r,a).type.prop(E3)==this.data}findRegions(e){let r=e.facet(_S);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let a=[],i=(d,f)=>{if(d.prop(E3)==this.data){a.push({from:f,to:f+d.length});return}let h=d.prop(ua.mounted);if(h){if(h.tree.prop(E3)==this.data){if(h.overlay)for(let c of h.overlay)a.push({from:c.from+f,to:c.to+f});else a.push({from:f,to:f+d.length});return}else if(h.overlay){let c=a.length;if(i(h.tree,h.overlay[0].from+f),a.length>c)return}}for(let c=0;c<d.children.length;c++){let g=d.children[c];g instanceof Fi&&i(g,d.positions[c]+f)}};return i(ol(e),0),a}get allowsNesting(){return!0}}xp.setState=pa.define();function Lde(t,e,r){let a=t.facet(_S),i=ol(t).topNode;if(!a||a.allowsNesting)for(let d=i;d;d=d.enter(e,r,yl.ExcludeBuffers))d.type.isTop&&(i=d);return i}class ES extends xp{constructor(e,r,a){super(e,r,[],a),this.parser=r}static define(e){let r=Cie(e.languageData);return new ES(r,e.parser.configure({props:[E3.add(a=>a.isTop?r:void 0)]}),e.name)}configure(e,r){return new ES(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ol(t){let e=t.field(xp.state,!1);return e?e.tree:Fi.empty}class QAe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let a=this.cursorPos-this.string.length;return e<a||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-a,r-a)}}let wD=null;class S${constructor(e,r,a=[],i,d,f,h,c){this.parser=e,this.state=r,this.fragments=a,this.tree=i,this.treeLen=d,this.viewport=f,this.skipped=h,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,r,a){return new S$(e,r,[],Fi.empty,0,a,[],null)}startParse(){return this.parser.startParse(new QAe(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Fi.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var a;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(vO.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(a=this.parse.stoppedAt)!==null&&a!==void 0?a:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(vO.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=wD;wD=this;try{return e()}finally{wD=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=Ide(e,r.from,r.to);return e}changes(e,r){let{fragments:a,tree:i,treeLen:d,viewport:f,skipped:h}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((g,v,y,b)=>c.push({fromA:g,toA:v,fromB:y,toB:b})),a=vO.applyChanges(a,c),i=Fi.empty,d=0,f={from:e.mapPos(f.from,-1),to:e.mapPos(f.to,1)},this.skipped.length){h=[];for(let g of this.skipped){let v=e.mapPos(g.from,1),y=e.mapPos(g.to,-1);v<y&&h.push({from:v,to:y})}}}return new S$(this.parser,r,a,i,d,f,h,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let a=0;a<this.skipped.length;a++){let{from:i,to:d}=this.skipped[a];i<e.to&&d>e.from&&(this.fragments=Ide(this.fragments,i,d),this.skipped.splice(a--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends Tie{createParse(r,a,i){let d=i[0].from,f=i[i.length-1].to;return{parsedPos:d,advance(){let c=wD;if(c){for(let g of i)c.tempSkipped.push(g);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=f,new Fi(Vu.none,[],[],f-d)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return wD}}function Ide(t,e,r){return vO.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class hM{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),a=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,a)||r.takeTree(),new hM(r)}static init(e){let r=Math.min(3e3,e.doc.length),a=S$.create(e.facet(_S).parser,e,{from:0,to:r});return a.work(20,r)||a.takeTree(),new hM(a)}}xp.state=wf.define({create:hM.init,update(t,e){for(let r of e.effects)if(r.is(xp.setState))return r.value;return e.startState.facet(_S)!=e.state.facet(_S)?hM.init(e.state):t.apply(e)}});let z0e=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(z0e=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const Xre=typeof navigator<"u"&&(!((Yre=navigator.scheduling)===null||Yre===void 0)&&Yre.isInputPending)?()=>navigator.scheduling.isInputPending():null,FAe=tu.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(xp.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(xp.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=z0e(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:a,viewport:{to:i}}=this.view,d=a.field(xp.state);if(d.tree==d.context.tree&&d.context.isDone(i+1e5))return;let f=Date.now()+Math.min(this.chunkBudget,100,e&&!Xre?Math.max(25,e.timeRemaining()-5):1e9),h=d.context.treeLen<i&&a.doc.length>i+1e3,c=d.context.work(()=>Xre&&Xre()||Date.now()>f,i+(h?0:1e5));this.chunkBudget-=Date.now()-r,(c||this.chunkBudget<=0)&&(d.context.takeTree(),this.view.dispatch({effects:xp.setState.of(new hM(d.context))})),this.chunkBudget>0&&!(c&&!h)&&this.scheduleWork(),this.checkAsyncSchedule(d.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>Ap(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),_S=ss.define({combine(t){return t.length?t[0]:null},enables:t=>[xp.state,FAe,Xo.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class B3{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}class wH{constructor(e,r,a,i,d,f=void 0){this.name=e,this.alias=r,this.extensions=a,this.filename=i,this.loadFunc=d,this.support=f,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:r,support:a}=e;if(!r){if(!a)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");r=()=>Promise.resolve(a)}return new wH(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,r,a)}static matchFilename(e,r){for(let i of e)if(i.filename&&i.filename.test(r))return i;let a=/\.([^.]+)$/.exec(r);if(a){for(let i of e)if(i.extensions.indexOf(a[1])>-1)return i}return null}static matchLanguageName(e,r,a=!0){r=r.toLowerCase();for(let i of e)if(i.alias.some(d=>d==r))return i;if(a)for(let i of e)for(let d of i.alias){let f=r.indexOf(d);if(f>-1&&(d.length>2||!/\w/.test(r[f-1])&&!/\w/.test(r[f+d.length])))return i}return null}}const VAe=ss.define(),_M=ss.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function TH(t){let e=t.facet(_M);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function w$(t,e){let r="",a=t.tabSize,i=t.facet(_M)[0];if(i=="	"){for(;e>=a;)r+="	",e-=a;i=" "}for(let d=0;d<e;d++)r+=i;return r}function Aie(t,e){t instanceof Na&&(t=new MU(t));for(let a of t.state.facet(VAe)){let i=a(t,e);if(i!==void 0)return i}let r=ol(t.state);return r.length>=e?zAe(t,r,e):null}class MU{constructor(e,r={}){this.state=e,this.options=r,this.unit=TH(e)}lineAt(e,r=1){let a=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:d}=this.options;return i!=null&&i>=a.from&&i<=a.to?d&&i==e?{text:"",from:e}:(r<0?i<e:i<=e)?{text:a.text.slice(i-a.from),from:i}:{text:a.text.slice(0,i-a.from),from:a.from}:a}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:a,from:i}=this.lineAt(e,r);return a.slice(e-i,Math.min(a.length,e+100-i))}column(e,r=1){let{text:a,from:i}=this.lineAt(e,r),d=this.countColumn(a,e-i),f=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return f>-1&&(d+=f-this.countColumn(a,a.search(/\S|$/))),d}countColumn(e,r=e.length){return Zv(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:a,from:i}=this.lineAt(e,r),d=this.options.overrideIndentation;if(d){let f=d(i);if(f>-1)return f}return this.countColumn(a,a.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const H3=new ua;function zAe(t,e,r){let a=e.resolveStack(r),i=a.node.enterUnfinishedNodesBefore(r);if(i!=a.node){let d=[];for(let f=i;f!=a.node;f=f.parent)d.push(f);for(let f=d.length-1;f>=0;f--)a={node:d[f],next:a}}return Z0e(a,t,r)}function Z0e(t,e,r){for(let a=t;a;a=a.next){let i=HAe(a.node);if(i)return i(Pie.create(e,r,a))}return 0}function ZAe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function HAe(t){let e=t.type.prop(H3);if(e)return e;let r=t.firstChild,a;if(r&&(a=r.type.prop(ua.closedBy))){let i=t.lastChild,d=i&&a.indexOf(i.name)>-1;return f=>H0e(f,!0,1,void 0,d&&!ZAe(f)?i.from:void 0)}return t.parent==null?UAe:null}function UAe(){return 0}class Pie extends MU{constructor(e,r,a){super(e.state,e.options),this.base=e,this.pos=r,this.context=a}get node(){return this.context.node}static create(e,r,a){return new Pie(e,r,a)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let a=e.resolve(r.from);for(;a.parent&&a.parent.from==a.from;)a=a.parent;if(WAe(a,e))break;r=this.state.doc.lineAt(a.from)}return this.lineIndent(r.from)}continue(){return Z0e(this.context.next,this.base,this.pos)}}function WAe(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function YAe(t){let e=t.node,r=e.childAfter(e.from),a=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,d=t.state.doc.lineAt(r.from),f=i==null||i<=d.from?d.to:Math.min(d.to,i);for(let h=r.to;;){let c=e.childAfter(h);if(!c||c==a)return null;if(!c.type.isSkipped)return c.from<f?r:null;h=c.to}}function KZ({closing:t,align:e=!0,units:r=1}){return a=>H0e(a,e,r,t)}function H0e(t,e,r,a,i){let d=t.textAfter,f=d.match(/^\s*/)[0].length,h=a&&d.slice(f,f+a.length)==a||i==t.pos+f,c=e?YAe(t):null;return c?h?t.column(c.from):t.column(c.to):t.baseIndent+(h?0:t.unit*r)}const XAe=t=>t.baseIndent;function GD({except:t,units:e=1}={}){return r=>{let a=t&&t.test(r.textAfter);return r.baseIndent+(a?0:e*r.unit)}}const GAe=200;function jAe(){return Na.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:a}=t.newSelection.main,i=r.lineAt(a);if(a>i.from+GAe)return t;let d=r.sliceString(i.from,a);if(!e.some(g=>g.test(d)))return t;let{state:f}=t,h=-1,c=[];for(let{head:g}of f.selection.ranges){let v=f.doc.lineAt(g);if(v.from==h)continue;h=v.from;let y=Aie(f,v.from);if(y==null)continue;let b=/^\s*/.exec(v.text)[0],O=w$(f,y);b!=O&&c.push({from:v.from,to:v.from+b.length,insert:O})}return c.length?[t,{changes:c,sequential:!0}]:t})}const U0e=ss.define(),BS=new ua;function Mie(t){let e=t.firstChild,r=t.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?t.to:r.from}:null}function qAe(t,e,r){let a=ol(t);if(a.length<r)return null;let i=a.resolveStack(r,1),d=null;for(let f=i;f;f=f.next){let h=f.node;if(h.to<=r||h.from>r)continue;if(d&&h.from<e)break;let c=h.type.prop(BS);if(c&&(h.to<a.length-50||a.length==t.doc.length||!KAe(h))){let g=c(h,t);g&&g.from<=r&&g.from>=e&&g.to>r&&(d=g)}}return d}function KAe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function CH(t,e,r){for(let a of t.facet(U0e)){let i=a(t,e,r);if(i)return i}return qAe(t,e,r)}function W0e(t,e){let r=e.mapPos(t.from,1),a=e.mapPos(t.to,-1);return r>=a?void 0:{from:r,to:a}}const EU=pa.define({map:W0e}),q$=pa.define({map:W0e});function Y0e(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(a=>a.from<=r&&a.to>=r)||e.push(t.lineBlockAt(r));return e}const Q3=wf.define({create(){return Bs.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)if(r.is(EU)&&!JAe(t,r.value.from,r.value.to)){let{preparePlaceholder:a}=e.state.facet(Eie),i=a?Bs.replace({widget:new a5e(a(e.state,r.value))}):Nde;t=t.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(q$)&&(t=t.update({filter:(a,i)=>r.value.from!=a||r.value.to!=i,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:a}=e.selection.main;t.between(a,a,(i,d)=>{i<a&&d>a&&(r=!0)}),r&&(t=t.update({filterFrom:a,filterTo:a,filter:(i,d)=>d<=a||i>=a}))}return t},provide:t=>Xo.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(a,i)=>{r.push(a,i)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let a=t[r++],i=t[r++];if(typeof a!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(Nde.range(a,i))}return Bs.set(e,!0)}});function kH(t,e,r){var a;let i=null;return(a=t.field(Q3,!1))===null||a===void 0||a.between(e,r,(d,f)=>{(!i||i.from>d)&&(i={from:d,to:f})}),i}function JAe(t,e,r){let a=!1;return t.between(e,e,(i,d)=>{i==e&&d==r&&(a=!0)}),a}function X0e(t,e){return t.field(Q3,!1)?e:e.concat(pa.appendConfig.of(j0e()))}const e5e=t=>{for(let e of Y0e(t)){let r=CH(t.state,e.from,e.to);if(r)return t.dispatch({effects:X0e(t.state,[EU.of(r),G0e(t,r)])}),!0}return!1},t5e=t=>{if(!t.state.field(Q3,!1))return!1;let e=[];for(let r of Y0e(t)){let a=kH(t.state,r.from,r.to);a&&e.push(q$.of(a),G0e(t,a,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function G0e(t,e,r=!0){let a=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Xo.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${a} ${t.state.phrase("to")} ${i}.`)}const n5e=t=>{let{state:e}=t,r=[];for(let a=0;a<e.doc.length;){let i=t.lineBlockAt(a),d=CH(e,i.from,i.to);d&&r.push(EU.of(d)),a=(d?t.lineBlockAt(d.to):i).to+1}return r.length&&t.dispatch({effects:X0e(t.state,r)}),!!r.length},r5e=t=>{let e=t.state.field(Q3,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(a,i)=>{r.push(q$.of({from:a,to:i}))}),t.dispatch({effects:r}),!0},o5e=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e5e},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t5e},{key:"Ctrl-Alt-[",run:n5e},{key:"Ctrl-Alt-]",run:r5e}],s5e={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Eie=ss.define({combine(t){return sy(t,s5e)}});function j0e(t){let e=[Q3,c5e];return t&&e.push(Eie.of(t)),e}function q0e(t,e){let{state:r}=t,a=r.facet(Eie),i=f=>{let h=t.lineBlockAt(t.posAtDOM(f.target)),c=kH(t.state,h.from,h.to);c&&t.dispatch({effects:q$.of(c)}),f.preventDefault()};if(a.placeholderDOM)return a.placeholderDOM(t,i,e);let d=document.createElement("span");return d.textContent=a.placeholderText,d.setAttribute("aria-label",r.phrase("folded code")),d.title=r.phrase("unfold"),d.className="cm-foldPlaceholder",d.onclick=i,d}const Nde=Bs.replace({widget:new class extends ay{toDOM(t){return q0e(t,null)}}});class a5e extends ay{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return q0e(e,this.value)}}const i5e={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Gre extends TO{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function l5e(t={}){let e=Object.assign(Object.assign({},i5e),t),r=new Gre(e,!0),a=new Gre(e,!1),i=tu.fromClass(class{constructor(f){this.from=f.viewport.from,this.markers=this.buildMarkers(f)}update(f){(f.docChanged||f.viewportChanged||f.startState.facet(_S)!=f.state.facet(_S)||f.startState.field(Q3,!1)!=f.state.field(Q3,!1)||ol(f.startState)!=ol(f.state)||e.foldingChanged(f))&&(this.markers=this.buildMarkers(f.view))}buildMarkers(f){let h=new CS;for(let c of f.viewportLineBlocks){let g=kH(f.state,c.from,c.to)?a:CH(f.state,c.from,c.to)?r:null;g&&h.add(c.from,c.from,g)}return h.finish()}}),{domEventHandlers:d}=e;return[i,lAe({class:"cm-foldGutter",markers(f){var h;return((h=f.plugin(i))===null||h===void 0?void 0:h.markers)||qi.empty},initialSpacer(){return new Gre(e,!1)},domEventHandlers:Object.assign(Object.assign({},d),{click:(f,h,c)=>{if(d.click&&d.click(f,h,c))return!0;let g=kH(f.state,h.from,h.to);if(g)return f.dispatch({effects:q$.of(g)}),!0;let v=CH(f.state,h.from,h.to);return v?(f.dispatch({effects:EU.of(v)}),!0):!1}})}),j0e()]}const c5e=Xo.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class K${constructor(e,r){this.specs=e;let a;function i(h){let c=kS.newName();return(a||(a=Object.create(null)))["."+c]=h,c}const d=typeof r.all=="string"?r.all:r.all?i(r.all):void 0,f=r.scope;this.scope=f instanceof xp?h=>h.prop(E3)==f.data:f?h=>h==f:void 0,this.style=V0e(e.map(h=>({tag:h.tag,class:h.class||i(Object.assign({},h,{tag:null}))})),{all:d}).style,this.module=a?new kS(a):null,this.themeType=r.themeType}static define(e,r){return new K$(e,r||{})}}const Bse=ss.define(),K0e=ss.define({combine(t){return t.length?[t[0]]:null}});function jre(t){let e=t.facet(Bse);return e.length?e:t.facet(K0e)}function J0e(t,e){let r=[f5e],a;return t instanceof K$&&(t.module&&r.push(Xo.styleModule.of(t.module)),a=t.themeType),e!=null&&e.fallback?r.push(K0e.of(t)):a?r.push(Bse.computeN([Xo.darkTheme],i=>i.facet(Xo.darkTheme)==(a=="dark")?[t]:[])):r.push(Bse.of(t)),r}class u5e{constructor(e){this.markCache=Object.create(null),this.tree=ol(e.state),this.decorations=this.buildDeco(e,jre(e.state))}update(e){let r=ol(e.state),a=jre(e.state),i=a!=jre(e.startState);r.length<e.view.viewport.to&&!i&&r.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(r!=this.tree||e.viewportChanged||i)&&(this.tree=r,this.decorations=this.buildDeco(e.view,a))}buildDeco(e,r){if(!r||!this.tree.length)return Bs.none;let a=new CS;for(let{from:i,to:d}of e.visibleRanges)IAe(this.tree,r,(f,h,c)=>{a.add(f,h,this.markCache[c]||(this.markCache[c]=Bs.mark({class:c})))},i,d);return a.finish()}}const f5e=_p.high(tu.fromClass(u5e,{decorations:t=>t.decorations})),d5e=K$.define([{tag:Qt.meta,color:"#404740"},{tag:Qt.link,textDecoration:"underline"},{tag:Qt.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Qt.emphasis,fontStyle:"italic"},{tag:Qt.strong,fontWeight:"bold"},{tag:Qt.strikethrough,textDecoration:"line-through"},{tag:Qt.keyword,color:"#708"},{tag:[Qt.atom,Qt.bool,Qt.url,Qt.contentSeparator,Qt.labelName],color:"#219"},{tag:[Qt.literal,Qt.inserted],color:"#164"},{tag:[Qt.string,Qt.deleted],color:"#a11"},{tag:[Qt.regexp,Qt.escape,Qt.special(Qt.string)],color:"#e40"},{tag:Qt.definition(Qt.variableName),color:"#00f"},{tag:Qt.local(Qt.variableName),color:"#30a"},{tag:[Qt.typeName,Qt.namespace],color:"#085"},{tag:Qt.className,color:"#167"},{tag:[Qt.special(Qt.variableName),Qt.macroName],color:"#256"},{tag:Qt.definition(Qt.propertyName),color:"#00c"},{tag:Qt.comment,color:"#940"},{tag:Qt.invalid,color:"#f00"}]),h5e=Xo.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),e1e=1e4,t1e="()[]{}",n1e=ss.define({combine(t){return sy(t,{afterCursor:!0,brackets:t1e,maxScanDistance:e1e,renderMatch:p5e})}}),m5e=Bs.mark({class:"cm-matchingBracket"}),g5e=Bs.mark({class:"cm-nonmatchingBracket"});function p5e(t){let e=[],r=t.matched?m5e:g5e;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const v5e=wf.define({create(){return Bs.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],a=e.state.facet(n1e);for(let i of e.state.selection.ranges){if(!i.empty)continue;let d=j1(e.state,i.head,-1,a)||i.head>0&&j1(e.state,i.head-1,1,a)||a.afterCursor&&(j1(e.state,i.head,1,a)||i.head<e.state.doc.length&&j1(e.state,i.head+1,-1,a));d&&(r=r.concat(a.renderMatch(d,e.state)))}return Bs.set(r,!0)},provide:t=>Xo.decorations.from(t)}),y5e=[v5e,h5e];function b5e(t={}){return[n1e.of(t),y5e]}const r1e=new ua;function Qse(t,e,r){let a=t.prop(e<0?ua.openedBy:ua.closedBy);if(a)return a;if(t.name.length==1){let i=r.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[r[i+e]]}return null}function Fse(t){let e=t.type.prop(r1e);return e?e(t.node):t}function j1(t,e,r,a={}){let i=a.maxScanDistance||e1e,d=a.brackets||t1e,f=ol(t),h=f.resolveInner(e,r);for(let c=h;c;c=c.parent){let g=Qse(c.type,r,d);if(g&&c.from<c.to){let v=Fse(c);if(v&&(r>0?e>=v.from&&e<v.to:e>v.from&&e<=v.to))return O5e(t,e,r,c,v,g,d)}}return x5e(t,e,r,f,h.type,i,d)}function O5e(t,e,r,a,i,d,f){let h=a.parent,c={from:i.from,to:i.to},g=0,v=h==null?void 0:h.cursor();if(v&&(r<0?v.childBefore(a.from):v.childAfter(a.to)))do if(r<0?v.to<=a.from:v.from>=a.to){if(g==0&&d.indexOf(v.type.name)>-1&&v.from<v.to){let y=Fse(v);return{start:c,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}else if(Qse(v.type,r,f))g++;else if(Qse(v.type,-r,f)){if(g==0){let y=Fse(v);return{start:c,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}g--}}while(r<0?v.prevSibling():v.nextSibling());return{start:c,matched:!1}}function x5e(t,e,r,a,i,d,f){let h=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),c=f.indexOf(h);if(c<0||c%2==0!=r>0)return null;let g={from:r<0?e-1:e,to:r>0?e+1:e},v=t.doc.iterRange(e,r>0?t.doc.length:0),y=0;for(let b=0;!v.next().done&&b<=d;){let O=v.value;r<0&&(b+=O.length);let C=e+b*r;for(let k=r>0?0:O.length-1,w=r>0?O.length:-1;k!=w;k+=r){let T=f.indexOf(O[k]);if(!(T<0||a.resolveInner(C+k,1).type!=i))if(T%2==0==r>0)y++;else{if(y==1)return{start:g,end:{from:C+k,to:C+k+1},matched:T>>1==c>>1};y--}}r>0&&(b+=O.length)}return v.done?{start:g,matched:!1}:null}const S5e=Object.create(null),Bde=[Vu.none],Qde=[],Fde=Object.create(null),w5e=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])w5e[t]=T5e(S5e,e);function qre(t,e){Qde.indexOf(t)>-1||(Qde.push(t),console.warn(e))}function T5e(t,e){let r=[];for(let h of e.split(" ")){let c=[];for(let g of h.split(".")){let v=t[g]||Qt[g];v?typeof v=="function"?c.length?c=c.map(v):qre(g,`Modifier ${g} used at start of tag`):c.length?qre(g,`Tag ${g} used as modifier`):c=Array.isArray(v)?v:[v]:qre(g,`Unknown highlighting tag ${g}`)}for(let g of c)r.push(g)}if(!r.length)return 0;let a=e.replace(/ /g,"_"),i=a+" "+r.map(h=>h.id),d=Fde[i];if(d)return d.id;let f=Fde[i]=Vu.define({id:Bde.length,name:a,props:[NS({[a]:r})]});return Bde.push(f),f.id}const C5e=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),a=Rie(t.state,r.from);return a.line?k5e(t):a.block?P5e(t):!1};function _ie(t,e){return({state:r,dispatch:a})=>{if(r.readOnly)return!1;let i=t(e,r);return i?(a(r.update(i)),!0):!1}}const k5e=_ie(_5e,0),A5e=_ie(o1e,0),P5e=_ie((t,e)=>o1e(t,e,E5e(e)),0);function Rie(t,e){let r=t.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const TD=50;function M5e(t,{open:e,close:r},a,i){let d=t.sliceDoc(a-TD,a),f=t.sliceDoc(i,i+TD),h=/\s*$/.exec(d)[0].length,c=/^\s*/.exec(f)[0].length,g=d.length-h;if(d.slice(g-e.length,g)==e&&f.slice(c,c+r.length)==r)return{open:{pos:a-h,margin:h&&1},close:{pos:i+c,margin:c&&1}};let v,y;i-a<=2*TD?v=y=t.sliceDoc(a,i):(v=t.sliceDoc(a,a+TD),y=t.sliceDoc(i-TD,i));let b=/^\s*/.exec(v)[0].length,O=/\s*$/.exec(y)[0].length,C=y.length-O-r.length;return v.slice(b,b+e.length)==e&&y.slice(C,C+r.length)==r?{open:{pos:a+b+e.length,margin:/\s/.test(v.charAt(b+e.length))?1:0},close:{pos:i-O-r.length,margin:/\s/.test(y.charAt(C-1))?1:0}}:null}function E5e(t){let e=[];for(let r of t.selection.ranges){let a=t.doc.lineAt(r.from),i=r.to<=a.to?a:t.doc.lineAt(r.to),d=e.length-1;d>=0&&e[d].to>a.from?e[d].to=i.to:e.push({from:a.from+/^\s*/.exec(a.text)[0].length,to:i.to})}return e}function o1e(t,e,r=e.selection.ranges){let a=r.map(d=>Rie(e,d.from).block);if(!a.every(d=>d))return null;let i=r.map((d,f)=>M5e(e,a[f],d.from,d.to));if(t!=2&&!i.every(d=>d))return{changes:e.changes(r.map((d,f)=>i[f]?[]:[{from:d.from,insert:a[f].open+" "},{from:d.to,insert:" "+a[f].close}]))};if(t!=1&&i.some(d=>d)){let d=[];for(let f=0,h;f<i.length;f++)if(h=i[f]){let c=a[f],{open:g,close:v}=h;d.push({from:g.pos-c.open.length,to:g.pos+g.margin},{from:v.pos-v.margin,to:v.pos+c.close.length})}return{changes:d}}return null}function _5e(t,e,r=e.selection.ranges){let a=[],i=-1;for(let{from:d,to:f}of r){let h=a.length,c=1e9,g=Rie(e,d).line;if(g){for(let v=d;v<=f;){let y=e.doc.lineAt(v);if(y.from>i&&(d==f||f>y.from)){i=y.from;let b=/^\s*/.exec(y.text)[0].length,O=b==y.length,C=y.text.slice(b,b+g.length)==g?b:-1;b<y.text.length&&b<c&&(c=b),a.push({line:y,comment:C,token:g,indent:b,empty:O,single:!1})}v=y.to+1}if(c<1e9)for(let v=h;v<a.length;v++)a[v].indent<a[v].line.text.length&&(a[v].indent=c);a.length==h+1&&(a[h].single=!0)}}if(t!=2&&a.some(d=>d.comment<0&&(!d.empty||d.single))){let d=[];for(let{line:h,token:c,indent:g,empty:v,single:y}of a)(y||!v)&&d.push({from:h.from+g,insert:c+" "});let f=e.changes(d);return{changes:f,selection:e.selection.map(f,1)}}else if(t!=1&&a.some(d=>d.comment>=0)){let d=[];for(let{line:f,comment:h,token:c}of a)if(h>=0){let g=f.from+h,v=g+c.length;f.text[v-f.from]==" "&&v++,d.push({from:g,to:v})}return{changes:d}}return null}const Vse=AO.define(),R5e=AO.define(),D5e=ss.define(),s1e=ss.define({combine(t){return sy(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(a,i)=>e(a,i)||r(a,i)})}}),a1e=wf.define({create(){return q1.empty},update(t,e){let r=e.state.facet(s1e),a=e.annotation(Vse);if(a){let c=im.fromTransaction(e,a.selection),g=a.side,v=g==0?t.undone:t.done;return c?v=AH(v,v.length,r.minDepth,c):v=c1e(v,e.startState.selection),new q1(g==0?a.rest:v,g==0?v:a.rest)}let i=e.annotation(R5e);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Qu.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let d=im.fromTransaction(e),f=e.annotation(Qu.time),h=e.annotation(Qu.userEvent);return d?t=t.addChanges(d,f,h,r,e):e.selection&&(t=t.addSelection(e.startState.selection,f,h,r.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new q1(t.done.map(im.fromJSON),t.undone.map(im.fromJSON))}});function $5e(t={}){return[a1e,s1e.of(t),Xo.domEventHandlers({beforeinput(e,r){let a=e.inputType=="historyUndo"?i1e:e.inputType=="historyRedo"?zse:null;return a?(e.preventDefault(),a(r)):!1}})]}function _U(t,e){return function({state:r,dispatch:a}){if(!e&&r.readOnly)return!1;let i=r.field(a1e,!1);if(!i)return!1;let d=i.pop(t,r,e);return d?(a(d),!0):!1}}const i1e=_U(0,!1),zse=_U(1,!1),L5e=_U(0,!0),I5e=_U(1,!0);class im{constructor(e,r,a,i,d){this.changes=e,this.effects=r,this.mapped=a,this.startSelection=i,this.selectionsAfter=d}setSelAfter(e){return new im(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,a;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(a=this.startSelection)===null||a===void 0?void 0:a.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new im(e.changes&&Bu.fromJSON(e.changes),[],e.mapped&&ty.fromJSON(e.mapped),e.startSelection&&Tr.fromJSON(e.startSelection),e.selectionsAfter.map(Tr.fromJSON))}static fromTransaction(e,r){let a=Sp;for(let i of e.startState.facet(D5e)){let d=i(e);d.length&&(a=a.concat(d))}return!a.length&&e.changes.empty?null:new im(e.changes.invert(e.startState.doc),a,void 0,r||e.startState.selection,Sp)}static selection(e){return new im(void 0,Sp,void 0,void 0,e)}}function AH(t,e,r,a){let i=e+1>r+20?e-r-1:0,d=t.slice(i,e);return d.push(a),d}function N5e(t,e){let r=[],a=!1;return t.iterChangedRanges((i,d)=>r.push(i,d)),e.iterChangedRanges((i,d,f,h)=>{for(let c=0;c<r.length;){let g=r[c++],v=r[c++];h>=g&&f<=v&&(a=!0)}}),a}function B5e(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,a)=>r.empty!=e.ranges[a].empty).length===0}function l1e(t,e){return t.length?e.length?t.concat(e):t:e}const Sp=[],Q5e=200;function c1e(t,e){if(t.length){let r=t[t.length-1],a=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-Q5e));return a.length&&a[a.length-1].eq(e)?t:(a.push(e),AH(t,t.length-1,1e9,r.setSelAfter(a)))}else return[im.selection([e])]}function F5e(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function Kre(t,e){if(!t.length)return t;let r=t.length,a=Sp;for(;r;){let i=V5e(t[r-1],e,a);if(i.changes&&!i.changes.empty||i.effects.length){let d=t.slice(0,r);return d[r-1]=i,d}else e=i.mapped,r--,a=i.selectionsAfter}return a.length?[im.selection(a)]:Sp}function V5e(t,e,r){let a=l1e(t.selectionsAfter.length?t.selectionsAfter.map(h=>h.map(e)):Sp,r);if(!t.changes)return im.selection(a);let i=t.changes.map(e),d=e.mapDesc(t.changes,!0),f=t.mapped?t.mapped.composeDesc(d):d;return new im(i,pa.mapEffects(t.effects,e),f,t.startSelection.map(d),a)}const z5e=/^(input\.type|delete)($|\.)/;class q1{constructor(e,r,a=0,i=void 0){this.done=e,this.undone=r,this.prevTime=a,this.prevUserEvent=i}isolate(){return this.prevTime?new q1(this.done,this.undone):this}addChanges(e,r,a,i,d){let f=this.done,h=f[f.length-1];return h&&h.changes&&!h.changes.empty&&e.changes&&(!a||z5e.test(a))&&(!h.selectionsAfter.length&&r-this.prevTime<i.newGroupDelay&&i.joinToEvent(d,N5e(h.changes,e.changes))||a=="input.type.compose")?f=AH(f,f.length-1,i.minDepth,new im(e.changes.compose(h.changes),l1e(e.effects,h.effects),h.mapped,h.startSelection,Sp)):f=AH(f,f.length,i.minDepth,e),new q1(f,Sp,r,a)}addSelection(e,r,a,i){let d=this.done.length?this.done[this.done.length-1].selectionsAfter:Sp;return d.length>0&&r-this.prevTime<i&&a==this.prevUserEvent&&a&&/^select($|\.)/.test(a)&&B5e(d[d.length-1],e)?this:new q1(c1e(this.done,e),this.undone,r,a)}addMapping(e){return new q1(Kre(this.done,e),Kre(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,a){let i=e==0?this.done:this.undone;if(i.length==0)return null;let d=i[i.length-1],f=d.selectionsAfter[0]||r.selection;if(a&&d.selectionsAfter.length)return r.update({selection:d.selectionsAfter[d.selectionsAfter.length-1],annotations:Vse.of({side:e,rest:F5e(i),selection:f}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(d.changes){let h=i.length==1?Sp:i.slice(0,i.length-1);return d.mapped&&(h=Kre(h,d.mapped)),r.update({changes:d.changes,selection:d.startSelection,effects:d.effects,annotations:Vse.of({side:e,rest:h,selection:f}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}q1.empty=new q1(Sp,Sp);const Z5e=[{key:"Mod-z",run:i1e,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:zse,preventDefault:!0},{linux:"Ctrl-Shift-z",run:zse,preventDefault:!0},{key:"Mod-u",run:L5e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:I5e,preventDefault:!0}];function RM(t,e){return Tr.create(t.ranges.map(e),t.mainIndex)}function iy(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Gv({state:t,dispatch:e},r){let a=RM(t.selection,r);return a.eq(t.selection)?!1:(e(iy(t,a)),!0)}function RU(t,e){return Tr.cursor(e?t.to:t.from)}function u1e(t,e){return Gv(t,r=>r.empty?t.moveByChar(r,e):RU(r,e))}function Ed(t){return t.textDirectionAt(t.state.selection.main.head)==yc.LTR}const f1e=t=>u1e(t,!Ed(t)),d1e=t=>u1e(t,Ed(t));function h1e(t,e){return Gv(t,r=>r.empty?t.moveByGroup(r,e):RU(r,e))}const H5e=t=>h1e(t,!Ed(t)),U5e=t=>h1e(t,Ed(t));function W5e(t,e,r){if(e.type.prop(r))return!0;let a=e.to-e.from;return a&&(a>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function DU(t,e,r){let a=ol(t).resolveInner(e.head),i=r?ua.closedBy:ua.openedBy;for(let c=e.head;;){let g=r?a.childAfter(c):a.childBefore(c);if(!g)break;W5e(t,g,i)?a=g:c=r?g.to:g.from}let d=a.type.prop(i),f,h;return d&&(f=r?j1(t,a.from,1):j1(t,a.to,-1))&&f.matched?h=r?f.end.to:f.end.from:h=r?a.to:a.from,Tr.cursor(h,r?-1:1)}const Y5e=t=>Gv(t,e=>DU(t.state,e,!Ed(t))),X5e=t=>Gv(t,e=>DU(t.state,e,Ed(t)));function m1e(t,e){return Gv(t,r=>{if(!r.empty)return RU(r,e);let a=t.moveVertically(r,e);return a.head!=r.head?a:t.moveToLineBoundary(r,e)})}const g1e=t=>m1e(t,!1),p1e=t=>m1e(t,!0);function v1e(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,a=0,i;if(e){for(let d of t.state.facet(Xo.scrollMargins)){let f=d(t);f!=null&&f.top&&(r=Math.max(f==null?void 0:f.top,r)),f!=null&&f.bottom&&(a=Math.max(f==null?void 0:f.bottom,a))}i=t.scrollDOM.clientHeight-r-a}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:a,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function y1e(t,e){let r=v1e(t),{state:a}=t,i=RM(a.selection,f=>f.empty?t.moveVertically(f,e,r.height):RU(f,e));if(i.eq(a.selection))return!1;let d;if(r.selfScroll){let f=t.coordsAtPos(a.selection.main.head),h=t.scrollDOM.getBoundingClientRect(),c=h.top+r.marginTop,g=h.bottom-r.marginBottom;f&&f.top>c&&f.bottom<g&&(d=Xo.scrollIntoView(i.main.head,{y:"start",yMargin:f.top-c}))}return t.dispatch(iy(a,i),{effects:d}),!0}const Vde=t=>y1e(t,!1),Zse=t=>y1e(t,!0);function QS(t,e,r){let a=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?a.to:a.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==a.from&&a.length){let d=/^\s*/.exec(t.state.sliceDoc(a.from,Math.min(a.from+100,a.to)))[0].length;d&&e.head!=a.from+d&&(i=Tr.cursor(a.from+d))}return i}const G5e=t=>Gv(t,e=>QS(t,e,!0)),j5e=t=>Gv(t,e=>QS(t,e,!1)),q5e=t=>Gv(t,e=>QS(t,e,!Ed(t))),K5e=t=>Gv(t,e=>QS(t,e,Ed(t))),J5e=t=>Gv(t,e=>Tr.cursor(t.lineBlockAt(e.head).from,1)),e4e=t=>Gv(t,e=>Tr.cursor(t.lineBlockAt(e.head).to,-1));function t4e(t,e,r){let a=!1,i=RM(t.selection,d=>{let f=j1(t,d.head,-1)||j1(t,d.head,1)||d.head>0&&j1(t,d.head-1,1)||d.head<t.doc.length&&j1(t,d.head+1,-1);if(!f||!f.end)return d;a=!0;let h=f.start.from==d.head?f.end.to:f.end.from;return r?Tr.range(d.anchor,h):Tr.cursor(h)});return a?(e(iy(t,i)),!0):!1}const n4e=({state:t,dispatch:e})=>t4e(t,e,!1);function Lp(t,e){let r=RM(t.state.selection,a=>{let i=e(a);return Tr.range(a.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(iy(t.state,r)),!0)}function b1e(t,e){return Lp(t,r=>t.moveByChar(r,e))}const O1e=t=>b1e(t,!Ed(t)),x1e=t=>b1e(t,Ed(t));function S1e(t,e){return Lp(t,r=>t.moveByGroup(r,e))}const r4e=t=>S1e(t,!Ed(t)),o4e=t=>S1e(t,Ed(t)),s4e=t=>Lp(t,e=>DU(t.state,e,!Ed(t))),a4e=t=>Lp(t,e=>DU(t.state,e,Ed(t)));function w1e(t,e){return Lp(t,r=>t.moveVertically(r,e))}const T1e=t=>w1e(t,!1),C1e=t=>w1e(t,!0);function k1e(t,e){return Lp(t,r=>t.moveVertically(r,e,v1e(t).height))}const zde=t=>k1e(t,!1),Zde=t=>k1e(t,!0),i4e=t=>Lp(t,e=>QS(t,e,!0)),l4e=t=>Lp(t,e=>QS(t,e,!1)),c4e=t=>Lp(t,e=>QS(t,e,!Ed(t))),u4e=t=>Lp(t,e=>QS(t,e,Ed(t))),f4e=t=>Lp(t,e=>Tr.cursor(t.lineBlockAt(e.head).from)),d4e=t=>Lp(t,e=>Tr.cursor(t.lineBlockAt(e.head).to)),Hde=({state:t,dispatch:e})=>(e(iy(t,{anchor:0})),!0),Ude=({state:t,dispatch:e})=>(e(iy(t,{anchor:t.doc.length})),!0),Wde=({state:t,dispatch:e})=>(e(iy(t,{anchor:t.selection.main.anchor,head:0})),!0),Yde=({state:t,dispatch:e})=>(e(iy(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),h4e=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),m4e=({state:t,dispatch:e})=>{let r=$U(t).map(({from:a,to:i})=>Tr.range(a,Math.min(i+1,t.doc.length)));return e(t.update({selection:Tr.create(r),userEvent:"select"})),!0},g4e=({state:t,dispatch:e})=>{let r=RM(t.selection,a=>{var i;let d=ol(t).resolveStack(a.from,1);for(let f=d;f;f=f.next){let{node:h}=f;if((h.from<a.from&&h.to>=a.to||h.to>a.to&&h.from<=a.from)&&(!((i=h.parent)===null||i===void 0)&&i.parent))return Tr.range(h.to,h.from)}return a});return e(iy(t,r)),!0},p4e=({state:t,dispatch:e})=>{let r=t.selection,a=null;return r.ranges.length>1?a=Tr.create([r.main]):r.main.empty||(a=Tr.create([Tr.cursor(r.main.head)])),a?(e(iy(t,a)),!0):!1};function J$(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:a}=t,i=a.changeByRange(d=>{let{from:f,to:h}=d;if(f==h){let c=e(d);c<f?(r="delete.backward",c=OZ(t,c,!1)):c>f&&(r="delete.forward",c=OZ(t,c,!0)),f=Math.min(f,c),h=Math.max(h,c)}else f=OZ(t,f,!1),h=OZ(t,h,!0);return f==h?{range:d}:{changes:{from:f,to:h},range:Tr.cursor(f,f<d.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(a.update(i,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?Xo.announce.of(a.phrase("Selection deleted")):void 0})),!0)}function OZ(t,e,r){if(t instanceof Xo)for(let a of t.state.facet(Xo.atomicRanges).map(i=>i(t)))a.between(e,e,(i,d)=>{i<e&&d>e&&(e=r?d:i)});return e}const A1e=(t,e)=>J$(t,r=>{let a=r.from,{state:i}=t,d=i.doc.lineAt(a),f,h;if(!e&&a>d.from&&a<d.from+200&&!/[^ \t]/.test(f=d.text.slice(0,a-d.from))){if(f[f.length-1]=="	")return a-1;let c=Zv(f,i.tabSize),g=c%TH(i)||TH(i);for(let v=0;v<g&&f[f.length-1-v]==" ";v++)a--;h=a}else h=jf(d.text,a-d.from,e,e)+d.from,h==a&&d.number!=(e?i.doc.lines:1)?h+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(d.text.slice(h-d.from,a-d.from))&&(h=jf(d.text,h-d.from,!1,!1)+d.from);return h}),Hse=t=>A1e(t,!1),P1e=t=>A1e(t,!0),M1e=(t,e)=>J$(t,r=>{let a=r.head,{state:i}=t,d=i.doc.lineAt(a),f=i.charCategorizer(a);for(let h=null;;){if(a==(e?d.to:d.from)){a==r.head&&d.number!=(e?i.doc.lines:1)&&(a+=e?1:-1);break}let c=jf(d.text,a-d.from,e)+d.from,g=d.text.slice(Math.min(a,c)-d.from,Math.max(a,c)-d.from),v=f(g);if(h!=null&&v!=h)break;(g!=" "||a!=r.head)&&(h=v),a=c}return a}),E1e=t=>M1e(t,!1),v4e=t=>M1e(t,!0),y4e=t=>J$(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),b4e=t=>J$(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),O4e=t=>J$(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),x4e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:Oi.of(["",""])},range:Tr.cursor(a.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},S4e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(a=>{if(!a.empty||a.from==0||a.from==t.doc.length)return{range:a};let i=a.from,d=t.doc.lineAt(i),f=i==d.from?i-1:jf(d.text,i-d.from,!1)+d.from,h=i==d.to?i+1:jf(d.text,i-d.from,!0)+d.from;return{changes:{from:f,to:h,insert:t.doc.slice(i,h).append(t.doc.slice(f,i))},range:Tr.cursor(h)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function $U(t){let e=[],r=-1;for(let a of t.selection.ranges){let i=t.doc.lineAt(a.from),d=t.doc.lineAt(a.to);if(!a.empty&&a.to==d.from&&(d=t.doc.lineAt(a.to-1)),r>=i.number){let f=e[e.length-1];f.to=d.to,f.ranges.push(a)}else e.push({from:i.from,to:d.to,ranges:[a]});r=d.number+1}return e}function _1e(t,e,r){if(t.readOnly)return!1;let a=[],i=[];for(let d of $U(t)){if(r?d.to==t.doc.length:d.from==0)continue;let f=t.doc.lineAt(r?d.to+1:d.from-1),h=f.length+1;if(r){a.push({from:d.to,to:f.to},{from:d.from,insert:f.text+t.lineBreak});for(let c of d.ranges)i.push(Tr.range(Math.min(t.doc.length,c.anchor+h),Math.min(t.doc.length,c.head+h)))}else{a.push({from:f.from,to:d.from},{from:d.to,insert:t.lineBreak+f.text});for(let c of d.ranges)i.push(Tr.range(c.anchor-h,c.head-h))}}return a.length?(e(t.update({changes:a,scrollIntoView:!0,selection:Tr.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const w4e=({state:t,dispatch:e})=>_1e(t,e,!1),T4e=({state:t,dispatch:e})=>_1e(t,e,!0);function R1e(t,e,r){if(t.readOnly)return!1;let a=[];for(let i of $U(t))r?a.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):a.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:a,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const C4e=({state:t,dispatch:e})=>R1e(t,e,!1),k4e=({state:t,dispatch:e})=>R1e(t,e,!0),A4e=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes($U(e).map(({from:i,to:d})=>(i>0?i--:d<e.doc.length&&d++,{from:i,to:d}))),a=RM(e.selection,i=>t.moveVertically(i,!0)).map(r);return t.dispatch({changes:r,selection:a,scrollIntoView:!0,userEvent:"delete.line"}),!0};function P4e(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=ol(t).resolveInner(e),a=r.childBefore(e),i=r.childAfter(e),d;return a&&i&&a.to<=e&&i.from>=e&&(d=a.type.prop(ua.closedBy))&&d.indexOf(i.name)>-1&&t.doc.lineAt(a.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(a.to,i.from))?{from:a.to,to:i.from}:null}const M4e=D1e(!1),E4e=D1e(!0);function D1e(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let a=e.changeByRange(i=>{let{from:d,to:f}=i,h=e.doc.lineAt(d),c=!t&&d==f&&P4e(e,d);t&&(d=f=(f<=h.to?h:e.doc.lineAt(f)).to);let g=new MU(e,{simulateBreak:d,simulateDoubleBreak:!!c}),v=Aie(g,d);for(v==null&&(v=Zv(/^\s*/.exec(e.doc.lineAt(d).text)[0],e.tabSize));f<h.to&&/\s/.test(h.text[f-h.from]);)f++;c?{from:d,to:f}=c:d>h.from&&d<h.from+100&&!/\S/.test(h.text.slice(0,d))&&(d=h.from);let y=["",w$(e,v)];return c&&y.push(w$(e,g.lineIndent(h.from,-1))),{changes:{from:d,to:f,insert:Oi.of(y)},range:Tr.cursor(d+1+y[1].length)}});return r(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0}}function Die(t,e){let r=-1;return t.changeByRange(a=>{let i=[];for(let f=a.from;f<=a.to;){let h=t.doc.lineAt(f);h.number>r&&(a.empty||a.to>h.from)&&(e(h,i,a),r=h.number),f=h.to+1}let d=t.changes(i);return{changes:i,range:Tr.range(d.mapPos(a.anchor,1),d.mapPos(a.head,1))}})}const _4e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),a=new MU(t,{overrideIndentation:d=>{let f=r[d];return f??-1}}),i=Die(t,(d,f,h)=>{let c=Aie(a,d.from);if(c==null)return;/\S/.test(d.text)||(c=0);let g=/^\s*/.exec(d.text)[0],v=w$(t,c);(g!=v||h.from<d.from+g.length)&&(r[d.from]=c,f.push({from:d.from,to:d.from+g.length,insert:v}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},$1e=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Die(t,(r,a)=>{a.push({from:r.from,insert:t.facet(_M)})}),{userEvent:"input.indent"})),!0),L1e=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Die(t,(r,a)=>{let i=/^\s*/.exec(r.text)[0];if(!i)return;let d=Zv(i,t.tabSize),f=0,h=w$(t,Math.max(0,d-TH(t)));for(;f<i.length&&f<h.length&&i.charCodeAt(f)==h.charCodeAt(f);)f++;a.push({from:r.from+f,to:r.from+i.length,insert:h.slice(f)})}),{userEvent:"delete.dedent"})),!0),R4e=[{key:"Ctrl-b",run:f1e,shift:O1e,preventDefault:!0},{key:"Ctrl-f",run:d1e,shift:x1e},{key:"Ctrl-p",run:g1e,shift:T1e},{key:"Ctrl-n",run:p1e,shift:C1e},{key:"Ctrl-a",run:J5e,shift:f4e},{key:"Ctrl-e",run:e4e,shift:d4e},{key:"Ctrl-d",run:P1e},{key:"Ctrl-h",run:Hse},{key:"Ctrl-k",run:y4e},{key:"Ctrl-Alt-h",run:E1e},{key:"Ctrl-o",run:x4e},{key:"Ctrl-t",run:S4e},{key:"Ctrl-v",run:Zse}],D4e=[{key:"ArrowLeft",run:f1e,shift:O1e,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:H5e,shift:r4e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:q5e,shift:c4e,preventDefault:!0},{key:"ArrowRight",run:d1e,shift:x1e,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:U5e,shift:o4e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:K5e,shift:u4e,preventDefault:!0},{key:"ArrowUp",run:g1e,shift:T1e,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Hde,shift:Wde},{mac:"Ctrl-ArrowUp",run:Vde,shift:zde},{key:"ArrowDown",run:p1e,shift:C1e,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ude,shift:Yde},{mac:"Ctrl-ArrowDown",run:Zse,shift:Zde},{key:"PageUp",run:Vde,shift:zde},{key:"PageDown",run:Zse,shift:Zde},{key:"Home",run:j5e,shift:l4e,preventDefault:!0},{key:"Mod-Home",run:Hde,shift:Wde},{key:"End",run:G5e,shift:i4e,preventDefault:!0},{key:"Mod-End",run:Ude,shift:Yde},{key:"Enter",run:M4e},{key:"Mod-a",run:h4e},{key:"Backspace",run:Hse,shift:Hse},{key:"Delete",run:P1e},{key:"Mod-Backspace",mac:"Alt-Backspace",run:E1e},{key:"Mod-Delete",mac:"Alt-Delete",run:v4e},{mac:"Mod-Backspace",run:b4e},{mac:"Mod-Delete",run:O4e}].concat(R4e.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),$4e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Y5e,shift:s4e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:X5e,shift:a4e},{key:"Alt-ArrowUp",run:w4e},{key:"Shift-Alt-ArrowUp",run:C4e},{key:"Alt-ArrowDown",run:T4e},{key:"Shift-Alt-ArrowDown",run:k4e},{key:"Escape",run:p4e},{key:"Mod-Enter",run:E4e},{key:"Alt-l",mac:"Ctrl-l",run:m4e},{key:"Mod-i",run:g4e,preventDefault:!0},{key:"Mod-[",run:L1e},{key:"Mod-]",run:$1e},{key:"Mod-Alt-\\",run:_4e},{key:"Shift-Mod-k",run:A4e},{key:"Shift-Mod-\\",run:n4e},{key:"Mod-/",run:C5e},{key:"Alt-A",run:A5e}].concat(D4e),L4e={key:"Tab",run:$1e,shift:L1e};function Tl(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var i=r[a];typeof i=="string"?t.setAttribute(a,i):i!=null&&(t[a]=i)}e++}for(;e<arguments.length;e++)I1e(t,arguments[e]);return t}function I1e(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)I1e(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}const Xde=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class mM{constructor(e,r,a=0,i=e.length,d,f){this.test=f,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(a,i),this.bufferStart=a,this.normalize=d?h=>d(Xde(h)):Xde,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Yf(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=cie(e),a=this.bufferStart+this.bufferPos;this.bufferPos+=bp(e);let i=this.normalize(r);for(let d=0,f=a;;d++){let h=i.charCodeAt(d),c=this.match(h,f);if(d==i.length-1){if(c)return this.value=c,this;break}f==a&&d<r.length&&r.charCodeAt(d)==h&&f++}}}match(e,r){let a=null;for(let i=0;i<this.matches.length;i+=2){let d=this.matches[i],f=!1;this.query.charCodeAt(d)==e&&(d==this.query.length-1?a={from:this.matches[i+1],to:r+1}:(this.matches[i]++,f=!0)),f||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:r,to:r+1}:this.matches.push(1,r)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(mM.prototype[Symbol.iterator]=function(){return this});const N1e={from:-1,to:-1,match:/.*/.exec("")},$ie="gm"+(/x/.unicode==null?"":"u");class B1e{constructor(e,r,a,i=0,d=e.length){if(this.text=e,this.to=d,this.curLine="",this.done=!1,this.value=N1e,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new Q1e(e,r,a,i,d);this.re=new RegExp(r,$ie+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.iter=e.iter();let f=e.lineAt(i);this.curLineStart=f.from,this.matchPos=PH(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let a=this.curLineStart+r.index,i=a+r[0].length;if(this.matchPos=PH(this.text,i+(a==i?1:0)),a==this.curLineStart+this.curLine.length&&this.nextLine(),(a<i||a>this.value.to)&&(!this.test||this.test(a,i,r)))return this.value={from:a,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Jre=new WeakMap;class rM{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,a){let i=Jre.get(e);if(!i||i.from>=a||i.to<=r){let h=new rM(r,e.sliceString(r,a));return Jre.set(e,h),h}if(i.from==r&&i.to==a)return i;let{text:d,from:f}=i;return f>r&&(d=e.sliceString(r,f)+d,f=r),i.to<a&&(d+=e.sliceString(i.to,a)),Jre.set(e,new rM(f,d)),new rM(r,d.slice(r-f,a-f))}}class Q1e{constructor(e,r,a,i,d){this.text=e,this.to=d,this.done=!1,this.value=N1e,this.matchPos=PH(e,i),this.re=new RegExp(r,$ie+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.flat=rM.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let a=this.flat.from+r.index,i=a+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(a,i,r)))return this.value={from:a,to:i,match:r},this.matchPos=PH(this.text,i+(a==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=rM.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(B1e.prototype[Symbol.iterator]=Q1e.prototype[Symbol.iterator]=function(){return this});function I4e(t){try{return new RegExp(t,$ie),!0}catch{return!1}}function PH(t,e){if(e>=t.length)return e;let r=t.lineAt(e),a;for(;e<r.to&&(a=r.text.charCodeAt(e-r.from))>=56320&&a<57344;)e++;return e}function Use(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=Tl("input",{class:"cm-textfield",name:"line",value:e}),a=Tl("form",{class:"cm-gotoLine",onkeydown:d=>{d.keyCode==27?(d.preventDefault(),t.dispatch({effects:MH.of(!1)}),t.focus()):d.keyCode==13&&(d.preventDefault(),i())},onsubmit:d=>{d.preventDefault(),i()}},Tl("label",t.state.phrase("Go to line"),": ",r)," ",Tl("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let d=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!d)return;let{state:f}=t,h=f.doc.lineAt(f.selection.main.head),[,c,g,v,y]=d,b=v?+v.slice(1):0,O=g?+g:h.number;if(g&&y){let w=O/100;c&&(w=w*(c=="-"?-1:1)+h.number/f.doc.lines),O=Math.round(f.doc.lines*w)}else g&&c&&(O=O*(c=="-"?-1:1)+h.number);let C=f.doc.line(Math.max(1,Math.min(f.doc.lines,O))),k=Tr.cursor(C.from+Math.max(0,Math.min(b,C.length)));t.dispatch({effects:[MH.of(!1),Xo.scrollIntoView(k.from,{y:"center"})],selection:k}),t.focus()}return{dom:a}}const MH=pa.define(),Gde=wf.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(MH)&&(t=r.value);return t},provide:t=>b$.from(t,e=>e?Use:null)}),N4e=t=>{let e=y$(t,Use);if(!e){let r=[MH.of(!0)];t.state.field(Gde,!1)==null&&r.push(pa.appendConfig.of([Gde,B4e])),t.dispatch({effects:r}),e=y$(t,Use)}return e&&e.dom.querySelector("input").select(),!0},B4e=Xo.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Q4e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},F1e=ss.define({combine(t){return sy(t,Q4e,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function F4e(t){let e=[U4e,H4e];return t&&e.push(F1e.of(t)),e}const V4e=Bs.mark({class:"cm-selectionMatch"}),z4e=Bs.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function jde(t,e,r,a){return(r==0||t(e.sliceDoc(r-1,r))!=nc.Word)&&(a==e.doc.length||t(e.sliceDoc(a,a+1))!=nc.Word)}function Z4e(t,e,r,a){return t(e.sliceDoc(r,r+1))==nc.Word&&t(e.sliceDoc(a-1,a))==nc.Word}const H4e=tu.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(F1e),{state:r}=t,a=r.selection;if(a.ranges.length>1)return Bs.none;let i=a.main,d,f=null;if(i.empty){if(!e.highlightWordAroundCursor)return Bs.none;let c=r.wordAt(i.head);if(!c)return Bs.none;f=r.charCategorizer(i.head),d=r.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<e.minSelectionLength||c>200)return Bs.none;if(e.wholeWords){if(d=r.sliceDoc(i.from,i.to),f=r.charCategorizer(i.head),!(jde(f,r,i.from,i.to)&&Z4e(f,r,i.from,i.to)))return Bs.none}else if(d=r.sliceDoc(i.from,i.to).trim(),!d)return Bs.none}let h=[];for(let c of t.visibleRanges){let g=new mM(r.doc,d,c.from,c.to);for(;!g.next().done;){let{from:v,to:y}=g.value;if((!f||jde(f,r,v,y))&&(i.empty&&v<=i.from&&y>=i.to?h.push(z4e.range(v,y)):(v>=i.to||y<=i.from)&&h.push(V4e.range(v,y)),h.length>e.maxMatches))return Bs.none}}return Bs.set(h)}},{decorations:t=>t.decorations}),U4e=Xo.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),W4e=({state:t,dispatch:e})=>{let{selection:r}=t,a=Tr.create(r.ranges.map(i=>t.wordAt(i.head)||Tr.cursor(i.head)),r.mainIndex);return a.eq(r)?!1:(e(t.update({selection:a})),!0)};function Y4e(t,e){let{main:r,ranges:a}=t.selection,i=t.wordAt(r.head),d=i&&i.from==r.from&&i.to==r.to;for(let f=!1,h=new mM(t.doc,e,a[a.length-1].to);;)if(h.next(),h.done){if(f)return null;h=new mM(t.doc,e,0,Math.max(0,a[a.length-1].from-1)),f=!0}else{if(f&&a.some(c=>c.from==h.value.from))continue;if(d){let c=t.wordAt(h.value.from);if(!c||c.from!=h.value.from||c.to!=h.value.to)continue}return h.value}}const X4e=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(d=>d.from===d.to))return W4e({state:t,dispatch:e});let a=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(d=>t.sliceDoc(d.from,d.to)!=a))return!1;let i=Y4e(t,a);return i?(e(t.update({selection:t.selection.addRange(Tr.range(i.from,i.to),!1),effects:Xo.scrollIntoView(i.to)})),!0):!1},DM=ss.define({combine(t){return sy(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new aPe(e),scrollToMatch:e=>Xo.scrollIntoView(e)})}});class V1e{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||I4e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,a)=>a=="n"?`
`:a=="r"?"\r":a=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new K4e(this):new j4e(this)}getCursor(e,r=0,a){let i=e.doc?e:Na.create({doc:e});return a==null&&(a=i.doc.length),this.regexp?ZP(this,i,r,a):zP(this,i,r,a)}}class z1e{constructor(e){this.spec=e}}function zP(t,e,r,a){return new mM(e.doc,t.unquoted,r,a,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?G4e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function G4e(t,e){return(r,a,i,d)=>((d>r||d+i.length<a)&&(d=Math.max(0,r-2),i=t.sliceString(d,Math.min(t.length,a+2))),(e(EH(i,r-d))!=nc.Word||e(_H(i,r-d))!=nc.Word)&&(e(_H(i,a-d))!=nc.Word||e(EH(i,a-d))!=nc.Word))}class j4e extends z1e{constructor(e){super(e)}nextMatch(e,r,a){let i=zP(this.spec,e,a,e.doc.length).nextOverlapping();return i.done&&(i=zP(this.spec,e,0,r).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,r,a){for(let i=a;;){let d=Math.max(r,i-1e4-this.spec.unquoted.length),f=zP(this.spec,e,d,i),h=null;for(;!f.nextOverlapping().done;)h=f.value;if(h)return h;if(d==r)return null;i-=1e4}}prevMatch(e,r,a){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,a,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let a=zP(this.spec,e,0,e.doc.length),i=[];for(;!a.next().done;){if(i.length>=r)return null;i.push(a.value)}return i}highlight(e,r,a,i){let d=zP(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(a+this.spec.unquoted.length,e.doc.length));for(;!d.next().done;)i(d.value.from,d.value.to)}}function ZP(t,e,r,a){return new B1e(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?q4e(e.charCategorizer(e.selection.main.head)):void 0},r,a)}function EH(t,e){return t.slice(jf(t,e,!1),e)}function _H(t,e){return t.slice(e,jf(t,e))}function q4e(t){return(e,r,a)=>!a[0].length||(t(EH(a.input,a.index))!=nc.Word||t(_H(a.input,a.index))!=nc.Word)&&(t(_H(a.input,a.index+a[0].length))!=nc.Word||t(EH(a.input,a.index+a[0].length))!=nc.Word)}class K4e extends z1e{nextMatch(e,r,a){let i=ZP(this.spec,e,a,e.doc.length).next();return i.done&&(i=ZP(this.spec,e,0,r).next()),i.done?null:i.value}prevMatchInRange(e,r,a){for(let i=1;;i++){let d=Math.max(r,a-i*1e4),f=ZP(this.spec,e,d,a),h=null;for(;!f.next().done;)h=f.value;if(h&&(d==r||h.from>d+10))return h;if(d==r)return null}}prevMatch(e,r,a){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,a,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(r,a)=>a=="$"?"$":a=="&"?e.match[0]:a!="0"&&+a<e.match.length?e.match[a]:r)}matchAll(e,r){let a=ZP(this.spec,e,0,e.doc.length),i=[];for(;!a.next().done;){if(i.length>=r)return null;i.push(a.value)}return i}highlight(e,r,a,i){let d=ZP(this.spec,e,Math.max(0,r-250),Math.min(a+250,e.doc.length));for(;!d.next().done;)i(d.value.from,d.value.to)}}const T$=pa.define(),Lie=pa.define(),SS=wf.define({create(t){return new eoe(Wse(t).create(),null)},update(t,e){for(let r of e.effects)r.is(T$)?t=new eoe(r.value.create(),t.panel):r.is(Lie)&&(t=new eoe(t.query,r.value?Iie:null));return t},provide:t=>b$.from(t,e=>e.panel)});class eoe{constructor(e,r){this.query=e,this.panel=r}}const J4e=Bs.mark({class:"cm-searchMatch"}),ePe=Bs.mark({class:"cm-searchMatch cm-searchMatch-selected"}),tPe=tu.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(SS))}update(t){let e=t.state.field(SS);(e!=t.startState.field(SS)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Bs.none;let{view:r}=this,a=new CS;for(let i=0,d=r.visibleRanges,f=d.length;i<f;i++){let{from:h,to:c}=d[i];for(;i<f-1&&c>d[i+1].from-2*250;)c=d[++i].to;t.highlight(r.state,h,c,(g,v)=>{let y=r.state.selection.ranges.some(b=>b.from==g&&b.to==v);a.add(g,v,y?ePe:J4e)})}return a.finish()}},{decorations:t=>t.decorations});function e9(t){return e=>{let r=e.state.field(SS,!1);return r&&r.query.spec.valid?t(e,r):U1e(e)}}const RH=e9((t,{query:e})=>{let{to:r}=t.state.selection.main,a=e.nextMatch(t.state,r,r);if(!a)return!1;let i=Tr.single(a.from,a.to),d=t.state.facet(DM);return t.dispatch({selection:i,effects:[Nie(t,a),d.scrollToMatch(i.main,t)],userEvent:"select.search"}),H1e(t),!0}),DH=e9((t,{query:e})=>{let{state:r}=t,{from:a}=r.selection.main,i=e.prevMatch(r,a,a);if(!i)return!1;let d=Tr.single(i.from,i.to),f=t.state.facet(DM);return t.dispatch({selection:d,effects:[Nie(t,i),f.scrollToMatch(d.main,t)],userEvent:"select.search"}),H1e(t),!0}),nPe=e9((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:Tr.create(r.map(a=>Tr.range(a.from,a.to))),userEvent:"select.search.matches"}),!0)}),rPe=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:a,to:i}=r.main,d=[],f=0;for(let h=new mM(t.doc,t.sliceDoc(a,i));!h.next().done;){if(d.length>1e3)return!1;h.value.from==a&&(f=d.length),d.push(Tr.range(h.value.from,h.value.to))}return e(t.update({selection:Tr.create(d,f),userEvent:"select.search.matches"})),!0},qde=e9((t,{query:e})=>{let{state:r}=t,{from:a,to:i}=r.selection.main;if(r.readOnly)return!1;let d=e.nextMatch(r,a,a);if(!d)return!1;let f=[],h,c,g=[];if(d.from==a&&d.to==i&&(c=r.toText(e.getReplacement(d)),f.push({from:d.from,to:d.to,insert:c}),d=e.nextMatch(r,d.from,d.to),g.push(Xo.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(a).number)+"."))),d){let v=f.length==0||f[0].from>=d.to?0:d.to-d.from-c.length;h=Tr.single(d.from-v,d.to-v),g.push(Nie(t,d)),g.push(r.facet(DM).scrollToMatch(h.main,t))}return t.dispatch({changes:f,selection:h,effects:g,userEvent:"input.replace"}),!0}),oPe=e9((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(i=>{let{from:d,to:f}=i;return{from:d,to:f,insert:e.getReplacement(i)}});if(!r.length)return!1;let a=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:Xo.announce.of(a),userEvent:"input.replace.all"}),!0});function Iie(t){return t.state.facet(DM).createPanel(t)}function Wse(t,e){var r,a,i,d,f;let h=t.selection.main,c=h.empty||h.to>h.from+100?"":t.sliceDoc(h.from,h.to);if(e&&!c)return e;let g=t.facet(DM);return new V1e({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:g.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(a=e==null?void 0:e.caseSensitive)!==null&&a!==void 0?a:g.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:g.literal,regexp:(d=e==null?void 0:e.regexp)!==null&&d!==void 0?d:g.regexp,wholeWord:(f=e==null?void 0:e.wholeWord)!==null&&f!==void 0?f:g.wholeWord})}function Z1e(t){let e=y$(t,Iie);return e&&e.dom.querySelector("[main-field]")}function H1e(t){let e=Z1e(t);e&&e==t.root.activeElement&&e.select()}const U1e=t=>{let e=t.state.field(SS,!1);if(e&&e.panel){let r=Z1e(t);if(r&&r!=t.root.activeElement){let a=Wse(t.state,e.query.spec);a.valid&&t.dispatch({effects:T$.of(a)}),r.focus(),r.select()}}else t.dispatch({effects:[Lie.of(!0),e?T$.of(Wse(t.state,e.query.spec)):pa.appendConfig.of(lPe)]});return!0},W1e=t=>{let e=t.state.field(SS,!1);if(!e||!e.panel)return!1;let r=y$(t,Iie);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Lie.of(!1)}),!0},sPe=[{key:"Mod-f",run:U1e,scope:"editor search-panel"},{key:"F3",run:RH,shift:DH,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:RH,shift:DH,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:W1e,scope:"editor search-panel"},{key:"Mod-Shift-l",run:rPe},{key:"Mod-Alt-g",run:N4e},{key:"Mod-d",run:X4e,preventDefault:!0}];class aPe{constructor(e){this.view=e;let r=this.query=e.state.field(SS).query.spec;this.commit=this.commit.bind(this),this.searchField=Tl("input",{value:r.search,placeholder:og(e,"Find"),"aria-label":og(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Tl("input",{value:r.replace,placeholder:og(e,"Replace"),"aria-label":og(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Tl("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=Tl("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=Tl("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function a(i,d,f){return Tl("button",{class:"cm-button",name:i,onclick:d,type:"button"},f)}this.dom=Tl("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,a("next",()=>RH(e),[og(e,"next")]),a("prev",()=>DH(e),[og(e,"previous")]),a("select",()=>nPe(e),[og(e,"all")]),Tl("label",null,[this.caseField,og(e,"match case")]),Tl("label",null,[this.reField,og(e,"regexp")]),Tl("label",null,[this.wordField,og(e,"by word")]),...e.state.readOnly?[]:[Tl("br"),this.replaceField,a("replace",()=>qde(e),[og(e,"replace")]),a("replaceAll",()=>oPe(e),[og(e,"replace all")])],Tl("button",{name:"close",onclick:()=>W1e(e),"aria-label":og(e,"close"),type:"button"},[""])])}commit(){let e=new V1e({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:T$.of(e)}))}keydown(e){vke(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?DH:RH)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),qde(this.view))}update(e){for(let r of e.transactions)for(let a of r.effects)a.is(T$)&&!a.value.eq(this.query)&&this.setQuery(a.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(DM).top}}function og(t,e){return t.state.phrase(e)}const xZ=30,SZ=/[\s\.,:;?!]/;function Nie(t,{from:e,to:r}){let a=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,d=Math.max(a.from,e-xZ),f=Math.min(i,r+xZ),h=t.state.sliceDoc(d,f);if(d!=a.from){for(let c=0;c<xZ;c++)if(!SZ.test(h[c+1])&&SZ.test(h[c])){h=h.slice(c);break}}if(f!=i){for(let c=h.length-1;c>h.length-xZ;c--)if(!SZ.test(h[c-1])&&SZ.test(h[c])){h=h.slice(0,c);break}}return Xo.announce.of(`${t.state.phrase("current match")}. ${h} ${t.state.phrase("on line")} ${a.number}.`)}const iPe=Xo.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),lPe=[SS,_p.low(tPe),iPe];class Bie{constructor(e,r,a){this.state=e,this.pos=r,this.explicit=a,this.abortListeners=[]}tokenBefore(e){let r=ol(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),a=Math.max(r.from,this.pos-250),i=r.text.slice(a-r.from,this.pos-r.from),d=i.search(Y1e(e,!1));return d<0?null:{from:a+d,to:this.pos,text:i.slice(d)}}get aborted(){return this.abortListeners==null}addEventListener(e,r){e=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function Kde(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function cPe(t){let e=Object.create(null),r=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let d=1;d<i.length;d++)r[i[d]]=!0}let a=Kde(e)+Kde(r)+"*$";return[new RegExp("^"+a),new RegExp(a)]}function LU(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[r,a]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:cPe(e);return i=>{let d=i.matchBefore(a);return d||i.explicit?{from:d?d.from:i.pos,options:e,validFor:r}:null}}function Qie(t,e){return r=>{for(let a=ol(r.state).resolveInner(r.pos,-1);a;a=a.parent){if(t.indexOf(a.name)>-1)return null;if(a.type.isTop)break}return e(r)}}class Jde{constructor(e,r,a,i){this.completion=e,this.source=r,this.match=a,this.score=i}}function wS(t){return t.selection.main.from}function Y1e(t,e){var r;let{source:a}=t,i=e&&a[0]!="^",d=a[a.length-1]!="$";return!i&&!d?t:new RegExp(`${i?"^":""}(?:${a})${d?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const X1e=AO.define();function uPe(t,e,r,a){let{main:i}=t.selection,d=r-i.from,f=a-i.from;return Object.assign(Object.assign({},t.changeByRange(h=>h!=i&&r!=a&&t.sliceDoc(h.from+d,h.from+f)!=t.sliceDoc(r,a)?{range:h}:{changes:{from:h.from+d,to:a==i.from?h.to:h.from+f,insert:e},range:Tr.cursor(h.from+d+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const ehe=new WeakMap;function fPe(t){if(!Array.isArray(t))return t;let e=ehe.get(t);return e||ehe.set(t,e=LU(t)),e}const Fie=pa.define(),C$=pa.define();class dPe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let a=Yf(e,r),i=bp(a);this.chars.push(a);let d=e.slice(r,r+i),f=d.toUpperCase();this.folded.push(Yf(f==d?d.toLowerCase():f,0)),r+=i}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:r,folded:a,any:i,precise:d,byWord:f}=this;if(r.length==1){let R=Yf(e,0),M=bp(R),I=M==e.length?0:-100;if(R!=r[0])if(R==a[0])I+=-200;else return!1;return this.ret(I,[0,M])}let h=e.indexOf(this.pattern);if(h==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=r.length,g=0;if(h<0){for(let R=0,M=Math.min(e.length,200);R<M&&g<c;){let I=Yf(e,R);(I==r[g]||I==a[g])&&(i[g++]=R),R+=bp(I)}if(g<c)return!1}let v=0,y=0,b=!1,O=0,C=-1,k=-1,w=/[a-z]/.test(e),T=!0;for(let R=0,M=Math.min(e.length,200),I=0;R<M&&y<c;){let V=Yf(e,R);h<0&&(v<c&&V==r[v]&&(d[v++]=R),O<c&&(V==r[O]||V==a[O]?(O==0&&(C=R),k=R+1,O++):O=0));let N,Q=V<255?V>=48&&V<=57||V>=97&&V<=122?2:V>=65&&V<=90?1:0:(N=cie(V))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!R||Q==1&&w||I==0&&Q!=0)&&(r[y]==V||a[y]==V&&(b=!0)?f[y++]=R:f.length&&(T=!1)),I=Q,R+=bp(V)}return y==c&&f[0]==0&&T?this.result(-100+(b?-200:0),f,e):O==c&&C==0?this.ret(-200-e.length+(k==e.length?0:-100),[0,k]):h>-1?this.ret(-700-e.length,[h,h+this.pattern.length]):O==c?this.ret(-200+-700-e.length,[C,k]):y==c?this.result(-100+(b?-200:0)+-700+(T?0:-1100),f,e):r.length==2?!1:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,r,a){let i=[],d=0;for(let f of r){let h=f+(this.astral?bp(Yf(a,f)):1);d&&i[d-1]==f?i[d-1]=h:(i[d++]=f,i[d++]=h)}return this.ret(e-a.length,i)}}const Ad=ss.define({combine(t){return sy(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:hPe,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>a=>the(e(a),r(a)),optionClass:(e,r)=>a=>the(e(a),r(a)),addToOptions:(e,r)=>e.concat(r)})}});function the(t,e){return t?e?t+" "+e:t:e}function hPe(t,e,r,a,i,d){let f=t.textDirection==yc.RTL,h=f,c=!1,g="top",v,y,b=e.left-i.left,O=i.right-e.right,C=a.right-a.left,k=a.bottom-a.top;if(h&&b<Math.min(C,O)?h=!1:!h&&O<Math.min(C,b)&&(h=!0),C<=(h?b:O))v=Math.max(i.top,Math.min(r.top,i.bottom-k))-e.top,y=Math.min(400,h?b:O);else{c=!0,y=Math.min(400,(f?e.right:i.right-e.left)-30);let R=i.bottom-e.bottom;R>=k||R>e.top?v=r.bottom-e.top:(g="bottom",v=e.bottom-r.top)}let w=(e.bottom-e.top)/d.offsetHeight,T=(e.right-e.left)/d.offsetWidth;return{style:`${g}: ${v/w}px; max-width: ${y/T}px`,class:"cm-completionInfo-"+(c?f?"left-narrow":"right-narrow":h?"left":"right")}}function mPe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let a=document.createElement("div");return a.classList.add("cm-completionIcon"),r.type&&a.classList.add(...r.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),a.setAttribute("aria-hidden","true"),a},position:20}),e.push({render(r,a,i,d){let f=document.createElement("span");f.className="cm-completionLabel";let h=r.displayLabel||r.label,c=0;for(let g=0;g<d.length;){let v=d[g++],y=d[g++];v>c&&f.appendChild(document.createTextNode(h.slice(c,v)));let b=f.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(h.slice(v,y))),b.className="cm-completionMatchedText",c=y}return c<h.length&&f.appendChild(document.createTextNode(h.slice(c))),f},position:50},{render(r){if(!r.detail)return null;let a=document.createElement("span");return a.className="cm-completionDetail",a.textContent=r.detail,a},position:80}),e.sort((r,a)=>r.position-a.position).map(r=>r.render)}function toe(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}let a=Math.floor((t-e)/r);return{from:t-(a+1)*r,to:t-a*r}}class gPe{constructor(e,r,a){this.view=e,this.stateField=r,this.applyCompletion=a,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:d,selected:f}=i.open,h=e.state.facet(Ad);this.optionContent=mPe(h),this.optionClass=h.optionClass,this.tooltipClass=h.tooltipClass,this.range=toe(d.length,f,h.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:g}=e.state.field(r).open;for(let v=c.target,y;v&&v!=this.dom;v=v.parentNode)if(v.nodeName=="LI"&&(y=/-(\d+)$/.exec(v.id))&&+y[1]<g.length){this.applyCompletion(e,g[+y[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let g=e.state.field(this.stateField,!1);g&&g.tooltip&&e.state.facet(Ad).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:C$.of(null)})}),this.showOptions(d,i.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let a=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),a!=i){let{options:d,selected:f,disabled:h}=a.open;(!i.open||i.open.options!=d)&&(this.range=toe(d.length,f,e.state.facet(Ad).maxRenderedOptions),this.showOptions(d,a.id)),this.updateSel(),h!=((r=i.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!h)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let a of this.currentClass.split(" "))a&&this.dom.classList.remove(a);for(let a of r.split(" "))a&&this.dom.classList.add(a);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=toe(r.options.length,r.selected,this.view.state.facet(Ad).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:a}=r.options[r.selected],{info:i}=a;if(!i)return;let d=typeof i=="string"?document.createTextNode(i):i(a);if(!d)return;"then"in d?d.then(f=>{f&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(f,a)}).catch(f=>Ap(this.view.state,f,"completion info")):this.addInfoPane(d,a)}}addInfoPane(e,r){this.destroyInfo();let a=this.info=document.createElement("div");if(a.className="cm-tooltip cm-completionInfo",e.nodeType!=null)a.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:d}=e;a.appendChild(i),this.infoDestroy=d||null}this.dom.appendChild(a),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let a=this.list.firstChild,i=this.range.from;a;a=a.nextSibling,i++)a.nodeName!="LI"||!a.id?i--:i==e?a.hasAttribute("aria-selected")||(a.setAttribute("aria-selected","true"),r=a):a.hasAttribute("aria-selected")&&a.removeAttribute("aria-selected");return r&&vPe(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),a=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),d=this.space;if(!d){let f=this.dom.ownerDocument.defaultView||window;d={left:0,top:0,right:f.innerWidth,bottom:f.innerHeight}}return i.top>Math.min(d.bottom,r.bottom)-10||i.bottom<Math.max(d.top,r.top)+10?null:this.view.state.facet(Ad).positionInfo(this.view,r,i,a,d,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,a){const i=document.createElement("ul");i.id=r,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let d=null;for(let f=a.from;f<a.to;f++){let{completion:h,match:c}=e[f],{section:g}=h;if(g){let b=typeof g=="string"?g:g.name;if(b!=d&&(f>a.from||a.from==0))if(d=b,typeof g!="string"&&g.header)i.appendChild(g.header(g));else{let O=i.appendChild(document.createElement("completion-section"));O.textContent=b}}const v=i.appendChild(document.createElement("li"));v.id=r+"-"+f,v.setAttribute("role","option");let y=this.optionClass(h);y&&(v.className=y);for(let b of this.optionContent){let O=b(h,this.view.state,this.view,c);O&&v.appendChild(O)}}return a.from&&i.classList.add("cm-completionListIncompleteTop"),a.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function pPe(t,e){return r=>new gPe(r,t,e)}function vPe(t,e){let r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=r.height/t.offsetHeight;a.top<r.top?t.scrollTop-=(r.top-a.top)/i:a.bottom>r.bottom&&(t.scrollTop+=(a.bottom-r.bottom)/i)}function nhe(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function yPe(t,e){let r=[],a=null,i=c=>{r.push(c);let{section:g}=c.completion;if(g){a||(a=[]);let v=typeof g=="string"?g:g.name;a.some(y=>y.name==v)||a.push(typeof g=="string"?{name:v}:g)}};for(let c of t)if(c.hasResult()){let g=c.result.getMatch;if(c.result.filter===!1)for(let v of c.result.options)i(new Jde(v,c.source,g?g(v):[],1e9-r.length));else{let v=new dPe(e.sliceDoc(c.from,c.to));for(let y of c.result.options)if(v.match(y.label)){let b=y.displayLabel?g?g(y,v.matched):[]:v.matched;i(new Jde(y,c.source,b,v.score+(y.boost||0)))}}}if(a){let c=Object.create(null),g=0,v=(y,b)=>{var O,C;return((O=y.rank)!==null&&O!==void 0?O:1e9)-((C=b.rank)!==null&&C!==void 0?C:1e9)||(y.name<b.name?-1:1)};for(let y of a.sort(v))g-=1e5,c[y.name]=g;for(let y of r){let{section:b}=y.completion;b&&(y.score+=c[typeof b=="string"?b:b.name])}}let d=[],f=null,h=e.facet(Ad).compareCompletions;for(let c of r.sort((g,v)=>v.score-g.score||h(g.completion,v.completion))){let g=c.completion;!f||f.label!=g.label||f.detail!=g.detail||f.type!=null&&g.type!=null&&f.type!=g.type||f.apply!=g.apply||f.boost!=g.boost?d.push(c):nhe(c.completion)>nhe(f)&&(d[d.length-1]=c),f=c.completion}return d}class YP{constructor(e,r,a,i,d,f){this.options=e,this.attrs=r,this.tooltip=a,this.timestamp=i,this.selected=d,this.disabled=f}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new YP(this.options,rhe(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,a,i,d){let f=yPe(e,r);if(!f.length)return i&&e.some(c=>c.state==1)?new YP(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let h=r.facet(Ad).selectOnOpen?0:-1;if(i&&i.selected!=h&&i.selected!=-1){let c=i.options[i.selected].completion;for(let g=0;g<f.length;g++)if(f[g].completion==c){h=g;break}}return new YP(f,rhe(a,h),{pos:e.reduce((c,g)=>g.hasResult()?Math.min(c,g.from):c,1e8),create:wPe,above:d.aboveCursor},i?i.timestamp:Date.now(),h,!1)}map(e){return new YP(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class $H{constructor(e,r,a){this.active=e,this.id=r,this.open=a}static start(){return new $H(xPe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,a=r.facet(Ad),d=(a.override||r.languageDataAt("autocomplete",wS(r)).map(fPe)).map(h=>(this.active.find(g=>g.source==h)||new om(h,this.active.some(g=>g.state!=0)?1:0)).update(e,a));d.length==this.active.length&&d.every((h,c)=>h==this.active[c])&&(d=this.active);let f=this.open;f&&e.docChanged&&(f=f.map(e.changes)),e.selection||d.some(h=>h.hasResult()&&e.changes.touchesRange(h.from,h.to))||!bPe(d,this.active)?f=YP.build(d,r,this.id,f,a):f&&f.disabled&&!d.some(h=>h.state==1)&&(f=null),!f&&d.every(h=>h.state!=1)&&d.some(h=>h.hasResult())&&(d=d.map(h=>h.hasResult()?new om(h.source,0):h));for(let h of e.effects)h.is(j1e)&&(f=f&&f.setSelected(h.value,this.id));return d==this.active&&f==this.open?this:new $H(d,this.id,f)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:OPe}}function bPe(t,e){if(t==e)return!0;for(let r=0,a=0;;){for(;r<t.length&&!t[r].hasResult;)r++;for(;a<e.length&&!e[a].hasResult;)a++;let i=r==t.length,d=a==e.length;if(i||d)return i==d;if(t[r++].result!=e[a++].result)return!1}}const OPe={"aria-autocomplete":"list"};function rhe(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const xPe=[];function Yse(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class om{constructor(e,r,a=-1){this.source=e,this.state=r,this.explicitPos=a}hasResult(){return!1}update(e,r){let a=Yse(e),i=this;a?i=i.handleUserEvent(e,a,r):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new om(i.source,0));for(let d of e.effects)if(d.is(Fie))i=new om(i.source,1,d.value?wS(e.state):-1);else if(d.is(C$))i=new om(i.source,0);else if(d.is(G1e))for(let f of d.value)f.source==i.source&&(i=f);return i}handleUserEvent(e,r,a){return r=="delete"||!a.activateOnTyping?this.map(e.changes):new om(this.source,1)}handleChange(e){return e.changes.touchesRange(wS(e.startState))?new om(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new om(this.source,this.state,e.mapPos(this.explicitPos))}}class oM extends om{constructor(e,r,a,i,d){super(e,2,r),this.result=a,this.from=i,this.to=d}hasResult(){return!0}handleUserEvent(e,r,a){var i;let d=e.changes.mapPos(this.from),f=e.changes.mapPos(this.to,1),h=wS(e.state);if((this.explicitPos<0?h<=d:h<this.from)||h>f||r=="delete"&&wS(e.startState)==this.from)return new om(this.source,r=="input"&&a.activateOnTyping?1:0);let c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),g;return SPe(this.result.validFor,e.state,d,f)?new oM(this.source,c,this.result,d,f):this.result.update&&(g=this.result.update(this.result,d,f,new Bie(e.state,h,c>=0)))?new oM(this.source,c,g,g.from,(i=g.to)!==null&&i!==void 0?i:wS(e.state)):new om(this.source,1,c)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new om(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new oM(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function SPe(t,e,r,a){if(!t)return!1;let i=e.sliceDoc(r,a);return typeof t=="function"?t(i,r,a,e):Y1e(t,!0).test(i)}const G1e=pa.define({map(t,e){return t.map(r=>r.map(e))}}),j1e=pa.define(),fg=wf.define({create(){return $H.start()},update(t,e){return t.update(e)},provide:t=>[bie.from(t,e=>e.tooltip),Xo.contentAttributes.from(t,e=>e.attrs)]});function q1e(t,e){const r=e.completion.apply||e.completion.label;let a=t.state.field(fg).active.find(i=>i.source==e.source);return a instanceof oM?(typeof r=="string"?t.dispatch(Object.assign(Object.assign({},uPe(t.state,r,a.from,a.to)),{annotations:X1e.of(e.completion)})):r(t,e.completion,a.from,a.to),!0):!1}const wPe=pPe(fg,q1e);function wZ(t,e="option"){return r=>{let a=r.state.field(fg,!1);if(!a||!a.open||a.open.disabled||Date.now()-a.open.timestamp<r.state.facet(Ad).interactionDelay)return!1;let i=1,d;e=="page"&&(d=_0e(r,a.open.tooltip))&&(i=Math.max(2,Math.floor(d.dom.offsetHeight/d.dom.querySelector("li").offsetHeight)-1));let{length:f}=a.open.options,h=a.open.selected>-1?a.open.selected+i*(t?1:-1):t?0:f-1;return h<0?h=e=="page"?0:f-1:h>=f&&(h=e=="page"?f-1:0),r.dispatch({effects:j1e.of(h)}),!0}}const TPe=t=>{let e=t.state.field(fg,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Ad).interactionDelay?!1:q1e(t,e.open.options[e.open.selected])},CPe=t=>t.state.field(fg,!1)?(t.dispatch({effects:Fie.of(!0)}),!0):!1,kPe=t=>{let e=t.state.field(fg,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:C$.of(null)}),!0)};class APe{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const PPe=50,MPe=1e3,EPe=tu.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(fg).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(fg);if(!t.selectionSet&&!t.docChanged&&t.startState.field(fg)==e)return;let r=t.transactions.some(a=>(a.selection||a.docChanged)&&!Yse(a));for(let a=0;a<this.running.length;a++){let i=this.running[a];if(r||i.updates.length+t.transactions.length>PPe&&Date.now()-i.time>MPe){for(let d of i.context.abortListeners)try{d()}catch(f){Ap(this.view.state,f)}i.context.abortListeners=null,this.running.splice(a--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(a=>a.state==1&&!this.running.some(i=>i.active.source==a.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let a of t.transactions)Yse(a)=="input"?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(fg);for(let r of e.active)r.state==1&&!this.running.some(a=>a.active.source==r.source)&&this.startQuery(r)}startQuery(t){let{state:e}=this.view,r=wS(e),a=new Bie(e,r,t.explicitPos==r),i=new APe(t,a);this.running.push(i),Promise.resolve(t.source(a)).then(d=>{i.context.aborted||(i.done=d||null,this.scheduleAccept())},d=>{this.view.dispatch({effects:C$.of(null)}),Ap(this.view.state,d)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ad).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(Ad);for(let a=0;a<this.running.length;a++){let i=this.running[a];if(i.done===void 0)continue;if(this.running.splice(a--,1),i.done){let f=new oM(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:wS(i.updates.length?i.updates[0].startState:this.view.state));for(let h of i.updates)f=f.update(h,r);if(f.hasResult()){e.push(f);continue}}let d=this.view.state.field(fg).active.find(f=>f.source==i.active.source);if(d&&d.state==1)if(i.done==null){let f=new om(i.active.source,0);for(let h of i.updates)f=f.update(h,r);f.state!=1&&e.push(f)}else this.startQuery(d)}e.length&&this.view.dispatch({effects:G1e.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(fg,!1);if(e&&e.tooltip&&this.view.state.facet(Ad).closeOnBlur){let r=e.open&&_0e(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:C$.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Fie.of(!1)}),20),this.composing=0}}}),K1e=Xo.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class _Pe{constructor(e,r,a,i){this.field=e,this.line=r,this.from=a,this.to=i}}class Vie{constructor(e,r,a){this.field=e,this.from=r,this.to=a}map(e){let r=e.mapPos(this.from,-1,Gf.TrackDel),a=e.mapPos(this.to,1,Gf.TrackDel);return r==null||a==null?null:new Vie(this.field,r,a)}}class zie{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let a=[],i=[r],d=e.doc.lineAt(r),f=/^\s*/.exec(d.text)[0];for(let c of this.lines){if(a.length){let g=f,v=/^\t*/.exec(c)[0].length;for(let y=0;y<v;y++)g+=e.facet(_M);i.push(r+g.length-v),c=g+c.slice(v)}a.push(c),r+=c.length+1}let h=this.fieldPositions.map(c=>new Vie(c.field,i[c.line]+c.from,i[c.line]+c.to));return{text:a,ranges:h}}static parse(e){let r=[],a=[],i=[],d;for(let f of e.split(/\r\n?|\n/)){for(;d=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(f);){let h=d[1]?+d[1]:null,c=d[2]||d[3]||"",g=-1;for(let v=0;v<r.length;v++)(h!=null?r[v].seq==h:c&&r[v].name==c)&&(g=v);if(g<0){let v=0;for(;v<r.length&&(h==null||r[v].seq!=null&&r[v].seq<h);)v++;r.splice(v,0,{seq:h,name:c}),g=v;for(let y of i)y.field>=g&&y.field++}i.push(new _Pe(g,a.length,d.index,d.index+c.length)),f=f.slice(0,d.index)+c+f.slice(d.index+d[0].length)}for(let h;h=/\\([{}])/.exec(f);){f=f.slice(0,h.index)+h[1]+f.slice(h.index+h[0].length);for(let c of i)c.line==a.length&&c.from>h.index&&(c.from--,c.to--)}a.push(f)}return new zie(a,i)}}let RPe=Bs.widget({widget:new class extends ay{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),DPe=Bs.mark({class:"cm-snippetField"});class $M{constructor(e,r){this.ranges=e,this.active=r,this.deco=Bs.set(e.map(a=>(a.from==a.to?RPe:DPe).range(a.from,a.to)))}map(e){let r=[];for(let a of this.ranges){let i=a.map(e);if(!i)return null;r.push(i)}return new $M(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(a=>a.field==this.active&&a.from<=r.from&&a.to>=r.to))}}const t9=pa.define({map(t,e){return t&&t.map(e)}}),$Pe=pa.define(),k$=wf.define({create(){return null},update(t,e){for(let r of e.effects){if(r.is(t9))return r.value;if(r.is($Pe)&&t)return new $M(t.ranges,r.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Xo.decorations.from(t,e=>e?e.deco:Bs.none)});function Zie(t,e){return Tr.create(t.filter(r=>r.field==e).map(r=>Tr.range(r.from,r.to)))}function LPe(t){let e=zie.parse(t);return(r,a,i,d)=>{let{text:f,ranges:h}=e.instantiate(r.state,i),c={changes:{from:i,to:d,insert:Oi.of(f)},scrollIntoView:!0,annotations:a?X1e.of(a):void 0};if(h.length&&(c.selection=Zie(h,0)),h.length>1){let g=new $M(h,0),v=c.effects=[t9.of(g)];r.state.field(k$,!1)===void 0&&v.push(pa.appendConfig.of([k$,FPe,VPe,K1e]))}r.dispatch(r.state.update(c))}}function J1e(t){return({state:e,dispatch:r})=>{let a=e.field(k$,!1);if(!a||t<0&&a.active==0)return!1;let i=a.active+t,d=t>0&&!a.ranges.some(f=>f.field==i+t);return r(e.update({selection:Zie(a.ranges,i),effects:t9.of(d?null:new $M(a.ranges,i)),scrollIntoView:!0})),!0}}const IPe=({state:t,dispatch:e})=>t.field(k$,!1)?(e(t.update({effects:t9.of(null)})),!0):!1,NPe=J1e(1),BPe=J1e(-1),QPe=[{key:"Tab",run:NPe,shift:BPe},{key:"Escape",run:IPe}],ohe=ss.define({combine(t){return t.length?t[0]:QPe}}),FPe=_p.highest(IS.compute([ohe],t=>t.facet(ohe)));function pc(t,e){return Object.assign(Object.assign({},e),{apply:LPe(t)})}const VPe=Xo.domEventHandlers({mousedown(t,e){let r=e.state.field(k$,!1),a;if(!r||(a=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=r.ranges.find(d=>d.from<=a&&d.to>=a);return!i||i.field==r.active?!1:(e.dispatch({selection:Zie(r.ranges,i.field),effects:t9.of(r.ranges.some(d=>d.field>i.field)?new $M(r.ranges,i.field):null),scrollIntoView:!0}),!0)}}),A$={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},_3=pa.define({map(t,e){let r=e.mapPos(t,-1,Gf.TrackAfter);return r??void 0}}),Hie=new class extends I3{};Hie.startSide=1;Hie.endSide=-1;const eye=wf.define({create(){return qi.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:a=>a>=r.from&&a<=r.to})}for(let r of e.effects)r.is(_3)&&(t=t.update({add:[Hie.range(r.value,r.value+1)]}));return t}});function zPe(){return[HPe,eye]}const noe="()[]{}<>";function tye(t){for(let e=0;e<noe.length;e+=2)if(noe.charCodeAt(e)==t)return noe.charAt(e+1);return cie(t<128?t:t+1)}function nye(t,e){return t.languageDataAt("closeBrackets",e)[0]||A$}const ZPe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),HPe=Xo.inputHandler.of((t,e,r,a)=>{if((ZPe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(a.length>2||a.length==2&&bp(Yf(a,0))==1||e!=i.from||r!=i.to)return!1;let d=YPe(t.state,a);return d?(t.dispatch(d),!0):!1}),UPe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let a=nye(t,t.selection.main.head).brackets||A$.brackets,i=null,d=t.changeByRange(f=>{if(f.empty){let h=XPe(t.doc,f.head);for(let c of a)if(c==h&&IU(t.doc,f.head)==tye(Yf(c,0)))return{changes:{from:f.head-c.length,to:f.head+c.length},range:Tr.cursor(f.head-c.length)}}return{range:i=f}});return i||e(t.update(d,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},WPe=[{key:"Backspace",run:UPe}];function YPe(t,e){let r=nye(t,t.selection.main.head),a=r.brackets||A$.brackets;for(let i of a){let d=tye(Yf(i,0));if(e==i)return d==i?qPe(t,i,a.indexOf(i+i+i)>-1,r):GPe(t,i,d,r.before||A$.before);if(e==d&&rye(t,t.selection.main.from))return jPe(t,i,d)}return null}function rye(t,e){let r=!1;return t.field(eye).between(0,t.doc.length,a=>{a==e&&(r=!0)}),r}function IU(t,e){let r=t.sliceString(e,e+2);return r.slice(0,bp(Yf(r,0)))}function XPe(t,e){let r=t.sliceString(e-2,e);return bp(Yf(r,0))==r.length?r:r.slice(1)}function GPe(t,e,r,a){let i=null,d=t.changeByRange(f=>{if(!f.empty)return{changes:[{insert:e,from:f.from},{insert:r,from:f.to}],effects:_3.of(f.to+e.length),range:Tr.range(f.anchor+e.length,f.head+e.length)};let h=IU(t.doc,f.head);return!h||/\s/.test(h)||a.indexOf(h)>-1?{changes:{insert:e+r,from:f.head},effects:_3.of(f.head+e.length),range:Tr.cursor(f.head+e.length)}:{range:i=f}});return i?null:t.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function jPe(t,e,r){let a=null,i=t.changeByRange(d=>d.empty&&IU(t.doc,d.head)==r?{changes:{from:d.head,to:d.head+r.length,insert:r},range:Tr.cursor(d.head+r.length)}:a={range:d});return a?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function qPe(t,e,r,a){let i=a.stringPrefixes||A$.stringPrefixes,d=null,f=t.changeByRange(h=>{if(!h.empty)return{changes:[{insert:e,from:h.from},{insert:e,from:h.to}],effects:_3.of(h.to+e.length),range:Tr.range(h.anchor+e.length,h.head+e.length)};let c=h.head,g=IU(t.doc,c),v;if(g==e){if(she(t,c))return{changes:{insert:e+e,from:c},effects:_3.of(c+e.length),range:Tr.cursor(c+e.length)};if(rye(t,c)){let b=r&&t.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+b.length,insert:b},range:Tr.cursor(c+b.length)}}}else{if(r&&t.sliceDoc(c-2*e.length,c)==e+e&&(v=ahe(t,c-2*e.length,i))>-1&&she(t,v))return{changes:{insert:e+e+e+e,from:c},effects:_3.of(c+e.length),range:Tr.cursor(c+e.length)};if(t.charCategorizer(c)(g)!=nc.Word&&ahe(t,c,i)>-1&&!KPe(t,c,e,i))return{changes:{insert:e+e,from:c},effects:_3.of(c+e.length),range:Tr.cursor(c+e.length)}}return{range:d=h}});return d?null:t.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function she(t,e){let r=ol(t).resolveInner(e+1);return r.parent&&r.from==e}function KPe(t,e,r,a){let i=ol(t).resolveInner(e,-1),d=a.reduce((f,h)=>Math.max(f,h.length),0);for(let f=0;f<5;f++){let h=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+d)),c=h.indexOf(r);if(!c||c>-1&&a.indexOf(h.slice(0,c))>-1){let v=i.firstChild;for(;v&&v.from==i.from&&v.to-v.from>r.length+c;){if(t.sliceDoc(v.to-r.length,v.to)==r)return!1;v=v.firstChild}return!0}let g=i.to==e&&i.parent;if(!g)break;i=g}return!1}function ahe(t,e,r){let a=t.charCategorizer(e);if(a(t.sliceDoc(e-1,e))!=nc.Word)return e;for(let i of r){let d=e-i.length;if(t.sliceDoc(d,e)==i&&a(t.sliceDoc(d-1,d))!=nc.Word)return d}return-1}function F3(t={}){return[fg,Ad.of(t),EPe,JPe,K1e]}const oye=[{key:"Ctrl-Space",run:CPe},{key:"Escape",run:kPe},{key:"ArrowDown",run:wZ(!0)},{key:"ArrowUp",run:wZ(!1)},{key:"PageDown",run:wZ(!0,"page")},{key:"PageUp",run:wZ(!1,"page")},{key:"Enter",run:TPe}],JPe=_p.highest(IS.computeN([Ad],t=>t.facet(Ad).defaultKeymap?[oye]:[]));class eMe{constructor(e,r,a){this.from=e,this.to=r,this.diagnostic=a}}class k3{constructor(e,r,a){this.diagnostics=e,this.panel=r,this.selected=a}static init(e,r,a){let i=e,d=a.facet(iye).markerFilter;d&&(i=d(i));let f=Bs.set(i.map(h=>h.from==h.to||h.from==h.to-1&&a.doc.lineAt(h.from).to==h.from?Bs.widget({widget:new cMe(h),diagnostic:h}).range(h.from):Bs.mark({attributes:{class:"cm-lintRange cm-lintRange-"+h.severity+(h.markClass?" "+h.markClass:"")},diagnostic:h}).range(h.from,h.to)),!0);return new k3(f,r,gM(f))}}function gM(t,e=null,r=0){let a=null;return t.between(r,1e9,(i,d,{spec:f})=>{if(!(e&&f.diagnostic!=e))return a=new eMe(i,d,f.diagnostic),!1}),a}function tMe(t,e){let r=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(a=>a.is(sye))||t.changes.touchesRange(r.from,r.to))}function nMe(t,e){return t.field(gg,!1)?e:e.concat(pa.appendConfig.of(dMe))}const sye=pa.define(),Uie=pa.define(),aye=pa.define(),gg=wf.define({create(){return new k3(Bs.none,null,null)},update(t,e){if(e.docChanged){let r=t.diagnostics.map(e.changes),a=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);a=gM(r,t.selected.diagnostic,i)||gM(r,null,i)}t=new k3(r,t.panel,a)}for(let r of e.effects)r.is(sye)?t=k3.init(r.value,t.panel,e.state):r.is(Uie)?t=new k3(t.diagnostics,r.value?NU.open:null,t.selected):r.is(aye)&&(t=new k3(t.diagnostics,t.panel,r.value));return t},provide:t=>[b$.from(t,e=>e.panel),Xo.decorations.from(t,e=>e.diagnostics)]}),rMe=Bs.mark({class:"cm-lintRange cm-lintRange-active"});function oMe(t,e,r){let{diagnostics:a}=t.state.field(gg),i=[],d=2e8,f=0;a.between(e-(r<0?1:0),e+(r>0?1:0),(c,g,{spec:v})=>{e>=c&&e<=g&&(c==g||(e>c||r>0)&&(e<g||r<0))&&(i.push(v.diagnostic),d=Math.min(c,d),f=Math.max(g,f))});let h=t.state.facet(iye).tooltipFilter;return h&&(i=h(i)),i.length?{pos:d,end:f,above:t.state.doc.lineAt(d).to<f,create(){return{dom:sMe(t,i)}}}:null}function sMe(t,e){return Tl("ul",{class:"cm-tooltip-lint"},e.map(r=>cye(t,r,!1)))}const aMe=t=>{let e=t.state.field(gg,!1);(!e||!e.panel)&&t.dispatch({effects:nMe(t.state,[Uie.of(!0)])});let r=y$(t,NU.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},ihe=t=>{let e=t.state.field(gg,!1);return!e||!e.panel?!1:(t.dispatch({effects:Uie.of(!1)}),!0)},iMe=t=>{let e=t.state.field(gg,!1);if(!e)return!1;let r=t.state.selection.main,a=e.diagnostics.iter(r.to+1);return!a.value&&(a=e.diagnostics.iter(0),!a.value||a.from==r.from&&a.to==r.to)?!1:(t.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0}),!0)},lMe=[{key:"Mod-Shift-m",run:aMe,preventDefault:!0},{key:"F8",run:iMe}],iye=ss.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},sy(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,r)=>e?r?a=>e(a)||r(a):e:r}))}});function lye(t){let e=[];if(t)e:for(let{name:r}of t){for(let a=0;a<r.length;a++){let i=r[a];if(/[a-zA-Z]/.test(i)&&!e.some(d=>d.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function cye(t,e,r){var a;let i=r?lye(e.actions):[];return Tl("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Tl("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(a=e.actions)===null||a===void 0?void 0:a.map((d,f)=>{let h=!1,c=b=>{if(b.preventDefault(),h)return;h=!0;let O=gM(t.state.field(gg).diagnostics,e);O&&d.apply(t,O.from,O.to)},{name:g}=d,v=i[f]?g.indexOf(i[f]):-1,y=v<0?g:[g.slice(0,v),Tl("u",g.slice(v,v+1)),g.slice(v+1)];return Tl("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${g}${v<0?"":` (access key "${i[f]})"`}.`},y)}),e.source&&Tl("div",{class:"cm-diagnosticSource"},e.source))}class cMe extends ay{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Tl("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class lhe{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=cye(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class NU{constructor(e){this.view=e,this.items=[];let r=i=>{if(i.keyCode==27)ihe(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:d}=this.items[this.selectedIndex],f=lye(d.actions);for(let h=0;h<f.length;h++)if(f[h].toUpperCase().charCodeAt(0)==i.keyCode){let c=gM(this.view.state.field(gg).diagnostics,d);c&&d.actions[h].apply(e,c.from,c.to)}}else return;i.preventDefault()},a=i=>{for(let d=0;d<this.items.length;d++)this.items[d].dom.contains(i.target)&&this.moveSelection(d)};this.list=Tl("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:a}),this.dom=Tl("div",{class:"cm-panel-lint"},this.list,Tl("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>ihe(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(gg).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(gg),a=0,i=!1,d=null;for(e.between(0,this.view.state.doc.length,(f,h,{spec:c})=>{let g=-1,v;for(let y=a;y<this.items.length;y++)if(this.items[y].diagnostic==c.diagnostic){g=y;break}g<0?(v=new lhe(this.view,c.diagnostic),this.items.splice(a,0,v),i=!0):(v=this.items[g],g>a&&(this.items.splice(a,g-a),i=!0)),r&&v.diagnostic==r.diagnostic?v.dom.hasAttribute("aria-selected")||(v.dom.setAttribute("aria-selected","true"),d=v):v.dom.hasAttribute("aria-selected")&&v.dom.removeAttribute("aria-selected"),a++});a<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new lhe(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),d?(this.list.setAttribute("aria-activedescendant",d.id),this.view.requestMeasure({key:this,read:()=>({sel:d.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:f,panel:h})=>{let c=h.height/this.list.offsetHeight;f.top<h.top?this.list.scrollTop-=(h.top-f.top)/c:f.bottom>h.bottom&&(this.list.scrollTop+=(f.bottom-h.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function r(){let a=e;e=a.nextSibling,a.remove()}for(let a of this.items)if(a.dom.parentNode==this.list){for(;e!=a.dom;)r();e=a.dom.nextSibling}else this.list.insertBefore(a.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(gg),a=gM(r.diagnostics,this.items[e].diagnostic);a&&this.view.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:aye.of(a)})}static open(e){return new NU(e)}}function uMe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function TZ(t){return uMe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const fMe=Xo.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:TZ("#d11")},".cm-lintRange-warning":{backgroundImage:TZ("orange")},".cm-lintRange-info":{backgroundImage:TZ("#999")},".cm-lintRange-hint":{backgroundImage:TZ("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),dMe=[gg,Xo.decorations.compute([gg],t=>{let{selected:e,panel:r}=t.field(gg);return!e||!r||e.from==e.to?Bs.none:Bs.set([rMe.range(e.from,e.to)])}),sAe(oMe,{hideOn:tMe}),fMe],hMe=(()=>[mAe(),vAe(),$ke(),$5e(),l5e(),wke(),Pke(),Na.allowMultipleSelections.of(!0),jAe(),J0e(d5e,{fallback:!0}),b5e(),zPe(),F3(),Xke(),qke(),Fke(),F4e(),IS.of([...WPe,...$4e,...sPe,...Z5e,...o5e,...oye,...lMe])])();/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var mMe=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[hMe]}),gMe=Symbol("vue-codemirror-global-config"),fh,pMe=function(t){var e=t.onUpdate,r=t.onChange,a=t.onFocus,i=t.onBlur,d=function(f,h){var c={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&h.indexOf(g)<0&&(c[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var v=0;for(g=Object.getOwnPropertySymbols(f);v<g.length;v++)h.indexOf(g[v])<0&&Object.prototype.propertyIsEnumerable.call(f,g[v])&&(c[g[v]]=f[g[v]])}return c}(t,["onUpdate","onChange","onFocus","onBlur"]);return Na.create({doc:d.doc,selection:d.selection,extensions:(Array.isArray(d.extensions)?d.extensions:[d.extensions]).concat([Xo.updateListener.of(function(f){e(f),f.docChanged&&r(f.state.doc.toString(),f),f.focusChanged&&(f.view.hasFocus?a(f):i(f))})])})},HP=function(t){var e=new W$;return{compartment:e,run:function(r){e.get(t.state)?t.dispatch({effects:e.reconfigure(r)}):t.dispatch({effects:pa.appendConfig.of(e.of(r))})}}},che=function(t,e){var r=HP(t),a=r.compartment,i=r.run;return function(d){var f=a.get(t.state);i(d??f!==e?e:[])}},CZ={type:Boolean,default:void 0},vMe={autofocus:CZ,disabled:CZ,indentWithTab:CZ,tabSize:Number,placeholder:String,style:Object,autoDestroy:CZ,phrases:Object,root:Object,extensions:Array,selection:Object},yMe={modelValue:{type:String,default:""}},bMe=Object.assign(Object.assign({},vMe),yMe);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(fh||(fh={}));var A3={};A3[fh.Change]=function(t,e){return!0},A3[fh.Update]=function(t){return!0},A3[fh.Focus]=function(t){return!0},A3[fh.Blur]=function(t){return!0},A3[fh.Ready]=function(t){return!0};var uye={};uye[fh.ModelUpdate]=A3[fh.Change];var OMe=Object.assign(Object.assign({},A3),uye),xMe=Z3({name:"VueCodemirror",props:Object.assign({},bMe),emits:Object.assign({},OMe),setup:function(t,e){var r=fs(),a=fs(),i=fs(),d=Object.assign(Object.assign({},mMe),Ra(gMe,{})),f=en(function(){var h={};return Object.keys(va(t)).forEach(function(c){var g;c!=="modelValue"&&(h[c]=(g=t[c])!==null&&g!==void 0?g:d[c])}),h});return vg(function(){var h;a.value=pMe({doc:t.modelValue,selection:f.value.selection,extensions:(h=d.extensions)!==null&&h!==void 0?h:[],onFocus:function(g){return e.emit(fh.Focus,g)},onBlur:function(g){return e.emit(fh.Blur,g)},onUpdate:function(g){return e.emit(fh.Update,g)},onChange:function(g,v){g!==t.modelValue&&(e.emit(fh.Change,g,v),e.emit(fh.ModelUpdate,g,v))}}),i.value=function(g){return new Xo(Object.assign({},g))}({state:a.value,parent:r.value,root:f.value.root});var c=function(g){var v=function(){return g.state.doc.toString()},y=HP(g).run,b=che(g,[Xo.editable.of(!1),Na.readOnly.of(!0)]),O=che(g,IS.of([L4e])),C=HP(g).run,k=HP(g).run,w=HP(g).run,T=HP(g).run;return{focus:function(){return g.focus()},getDoc:v,setDoc:function(R){R!==v()&&g.dispatch({changes:{from:0,to:g.state.doc.length,insert:R}})},reExtensions:y,toggleDisabled:b,toggleIndentWithTab:O,setTabSize:function(R){C([Na.tabSize.of(R),_M.of(" ".repeat(R))])},setPhrases:function(R){k([Na.phrases.of(R)])},setPlaceholder:function(R){w(Hke(R))},setStyle:function(R){R===void 0&&(R={}),T(Xo.theme({"&":Object.assign({},R)}))}}}(i.value);zo(function(){return t.modelValue},function(g){g!==c.getDoc()&&c.setDoc(g)}),zo(function(){return t.extensions},function(g){return c.reExtensions(g||[])},{immediate:!0}),zo(function(){return f.value.disabled},function(g){return c.toggleDisabled(g)},{immediate:!0}),zo(function(){return f.value.indentWithTab},function(g){return c.toggleIndentWithTab(g)},{immediate:!0}),zo(function(){return f.value.tabSize},function(g){return c.setTabSize(g)},{immediate:!0}),zo(function(){return f.value.phrases},function(g){return c.setPhrases(g||{})},{immediate:!0}),zo(function(){return f.value.placeholder},function(g){return c.setPlaceholder(g)},{immediate:!0}),zo(function(){return f.value.style},function(g){return c.setStyle(g)},{immediate:!0}),f.value.autofocus&&c.focus(),e.emit(fh.Ready,{state:a.value,view:i.value,container:r.value})}),dm(function(){f.value.autoDestroy&&i.value&&function(h){h.destroy()}(i.value)}),function(){return ph("div",{class:"v-codemirror",style:{display:"contents"},ref:r})}}}),BU=xMe;class LH{constructor(e,r,a,i,d,f,h,c,g,v=0,y){this.p=e,this.stack=r,this.state=a,this.reducePos=i,this.pos=d,this.score=f,this.buffer=h,this.bufferBase=c,this.curContext=g,this.lookAhead=v,this.parent=y}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,a=0){let i=e.parser.context;return new LH(e,[],r,a,a,0,[],0,i?new uhe(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let a=e>>19,i=e&65535,{parser:d}=this.p,f=d.dynamicPrecedence(i);if(f&&(this.score+=f),a==0){this.pushState(d.getGoto(this.state,i,!0),this.reducePos),i<d.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let h=this.stack.length-(a-1)*3-(e&262144?6:0),c=h?this.stack[h-2]:this.p.ranges[0].from,g=this.reducePos-c;g>=2e3&&!(!((r=this.p.parser.nodeSet.types[i])===null||r===void 0)&&r.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=g):this.p.lastBigReductionSize<g&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=g));let v=h?this.stack[h-1]:0,y=this.bufferBase+this.buffer.length-v;if(i<d.minRepeatTerm||e&131072){let b=d.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,b,y+4,!0)}if(e&262144)this.state=this.stack[h];else{let b=this.stack[h-3];this.state=d.getGoto(b,i,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,r,a,i=4,d=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let f=this,h=this.buffer.length;if(h==0&&f.parent&&(h=f.bufferBase-f.parent.bufferBase,f=f.parent),h>0&&f.buffer[h-4]==0&&f.buffer[h-1]>-1){if(r==a)return;if(f.buffer[h-2]>=r){f.buffer[h-2]=a;return}}}if(!d||this.pos==a)this.buffer.push(e,r,a,i);else{let f=this.buffer.length;if(f>0&&this.buffer[f-4]!=0)for(;f>0&&this.buffer[f-2]>a;)this.buffer[f]=this.buffer[f-4],this.buffer[f+1]=this.buffer[f-3],this.buffer[f+2]=this.buffer[f-2],this.buffer[f+3]=this.buffer[f-1],f-=4,i>4&&(i-=4);this.buffer[f]=e,this.buffer[f+1]=r,this.buffer[f+2]=a,this.buffer[f+3]=i}}shift(e,r,a,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(r,a),r<=this.p.parser.maxNode&&this.buffer.push(r,a,i,4);else{let d=e,{parser:f}=this.p;(i>this.pos||r<=f.maxNode)&&(this.pos=i,f.stateFlag(d,1)||(this.reducePos=i)),this.pushState(d,a),this.shiftContext(r,a),r<=f.maxNode&&this.buffer.push(r,a,i,4)}}apply(e,r,a,i){e&65536?this.reduce(e):this.shift(e,r,a,i)}useNode(e,r){let a=this.p.reused.length-1;(a<0||this.p.reused[a]!=e)&&(this.p.reused.push(e),a++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(r,i),this.buffer.push(a,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let a=e.buffer.slice(r),i=e.bufferBase+r;for(;e&&i==e.bufferBase;)e=e.parent;return new LH(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,a,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let a=e<=this.p.parser.maxNode;a&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,a?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new SMe(this);;){let a=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(a==0)return!1;if(!(a&65536))return!0;r.reduce(a)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let d=0,f;d<r.length;d+=2)(f=r[d+1])!=this.state&&this.p.parser.hasAction(f,e)&&i.push(r[d],f);if(this.stack.length<120)for(let d=0;i.length<8&&d<r.length;d+=2){let f=r[d+1];i.some((h,c)=>c&1&&h==f)||i.push(r[d],f)}r=i}let a=[];for(let i=0;i<r.length&&a.length<4;i+=2){let d=r[i+1];if(d==this.state)continue;let f=this.split();f.pushState(d,this.pos),f.storeNode(0,f.pos,f.pos,4,!0),f.shiftContext(r[i],this.pos),f.reducePos=this.pos,f.score-=200,a.push(f)}return a}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let a=r>>19,i=r&65535,d=this.stack.length-a*3;if(d<0||e.getGoto(this.stack[d],i,!1)<0){let f=this.findForcedReduction();if(f==null)return!1;r=f}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],a=(i,d)=>{if(!r.includes(i))return r.push(i),e.allActions(i,f=>{if(!(f&393216))if(f&65536){let h=(f>>19)-d;if(h>1){let c=f&65535,g=this.stack.length-h*3;if(g>=0&&e.getGoto(this.stack[g],c,!1)>=0)return h<<19|65536|c}}else{let h=a(f,d+1);if(h!=null)return h}})};return a(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new uhe(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class uhe{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class SMe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,a=e>>19;a==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(a-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=i}}class IH{constructor(e,r,a){this.stack=e,this.pos=r,this.index=a,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new IH(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new IH(this.stack,this.pos,this.index)}}function VD(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let a=0,i=0;a<t.length;){let d=0;for(;;){let f=t.charCodeAt(a++),h=!1;if(f==126){d=65535;break}f>=92&&f--,f>=34&&f--;let c=f-32;if(c>=46&&(c-=46,h=!0),d+=c,h)break;d*=46}r?r[i++]=d:r=new e(d)}return r}class JZ{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const fhe=new JZ;class wMe{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=fhe,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let a=this.range,i=this.rangeIndex,d=this.pos+e;for(;d<a.from;){if(!i)return null;let f=this.ranges[--i];d-=a.from-f.to,a=f}for(;r<0?d>a.to:d>=a.to;){if(i==this.ranges.length-1)return null;let f=this.ranges[++i];d+=f.from-a.to,a=f}return d}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,a,i;if(r>=0&&r<this.chunk.length)a=this.pos+e,i=this.chunk.charCodeAt(r);else{let d=this.resolveOffset(e,1);if(d==null)return-1;if(a=d,a>=this.chunk2Pos&&a<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(a-this.chunk2Pos);else{let f=this.rangeIndex,h=this.range;for(;h.to<=a;)h=this.ranges[++f];this.chunk2=this.input.chunk(this.chunk2Pos=a),a+this.chunk2.length>h.to&&(this.chunk2=this.chunk2.slice(0,h.to-a)),i=this.chunk2.charCodeAt(0)}}return a>=this.token.lookAhead&&(this.token.lookAhead=a+1),i}acceptToken(e,r=0){let a=r?this.resolveOffset(r,-1):this.pos;if(a==null||a<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=a}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=fhe,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let a="";for(let i of this.ranges){if(i.from>=r)break;i.to>e&&(a+=this.input.read(Math.max(i.from,e),Math.min(i.to,r)))}return a}}class sM{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:a}=r.p;fye(this.data,e,r,this.id,a.data,a.tokenPrecTable)}}sM.prototype.contextual=sM.prototype.fallback=sM.prototype.extend=!1;class NH{constructor(e,r,a){this.precTable=r,this.elseToken=a,this.data=typeof e=="string"?VD(e):e}token(e,r){let a=e.pos,i=0;for(;;){let d=e.next<0,f=e.resolveOffset(1,1);if(fye(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(d||i++,f==null)break;e.reset(f,e.token)}i&&(e.reset(a,e.token),e.acceptToken(this.elseToken,i))}}NH.prototype.contextual=sM.prototype.fallback=sM.prototype.extend=!1;class vh{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function fye(t,e,r,a,i,d){let f=0,h=1<<a,{dialect:c}=r.p.parser;e:for(;h&t[f];){let g=t[f+1];for(let O=f+3;O<g;O+=2)if((t[O+1]&h)>0){let C=t[O];if(c.allows(C)&&(e.token.value==-1||e.token.value==C||TMe(C,e.token.value,i,d))){e.acceptToken(C);break}}let v=e.next,y=0,b=t[f+2];if(e.next<0&&b>y&&t[g+b*3-3]==65535){f=t[g+b*3-1];continue e}for(;y<b;){let O=y+b>>1,C=g+O+(O<<1),k=t[C],w=t[C+1]||65536;if(v<k)b=O;else if(v>=w)y=O+1;else{f=t[C+2],e.advance();continue e}}break}}function dhe(t,e,r){for(let a=e,i;(i=t[a])!=65535;a++)if(i==r)return a-e;return-1}function TMe(t,e,r,a){let i=dhe(r,a,e);return i<0||dhe(r,a,t)<i}const sg=typeof process<"u"&&{}&&/\bparse\b/.test({}.LOG);let roe=null;function hhe(t,e,r){let a=t.cursor(yl.IncludeAnonymous);for(a.moveTo(e);;)if(!(r<0?a.childBefore(e):a.childAfter(e)))for(;;){if((r<0?a.to<e:a.from>e)&&!a.type.isError)return r<0?Math.max(0,Math.min(a.to-1,e-25)):Math.min(t.length,Math.max(a.from+1,e+25));if(r<0?a.prevSibling():a.nextSibling())break;if(!a.parent())return r<0?0:t.length}}let CMe=class{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?hhe(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?hhe(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let a=this.trees[r],i=this.index[r];if(i==a.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let d=a.children[i],f=this.start[r]+a.positions[i];if(f>e)return this.nextStart=f,null;if(d instanceof Fi){if(f==e){if(f<this.safeFrom)return null;let h=f+d.length;if(h<=this.safeTo){let c=d.prop(ua.lookAhead);if(!c||h+c<this.fragment.to)return d}}this.index[r]++,f+d.length>=Math.max(this.safeFrom,e)&&(this.trees.push(d),this.start.push(f),this.index.push(0))}else this.index[r]++,this.nextStart=f+d.length}}};class kMe{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(a=>new JZ)}getActions(e){let r=0,a=null,{parser:i}=e.p,{tokenizers:d}=i,f=i.stateSlot(e.state,3),h=e.curContext?e.curContext.hash:0,c=0;for(let g=0;g<d.length;g++){if(!(1<<g&f))continue;let v=d[g],y=this.tokens[g];if(!(a&&!v.fallback)&&((v.contextual||y.start!=e.pos||y.mask!=f||y.context!=h)&&(this.updateCachedToken(y,v,e),y.mask=f,y.context=h),y.lookAhead>y.end+25&&(c=Math.max(y.lookAhead,c)),y.value!=0)){let b=r;if(y.extended>-1&&(r=this.addActions(e,y.extended,y.end,r)),r=this.addActions(e,y.value,y.end,r),!v.extend&&(a=y,r>b))break}}for(;this.actions.length>r;)this.actions.pop();return c&&e.setLookAhead(c),!a&&e.pos==this.stream.end&&(a=new JZ,a.value=e.p.parser.eofTerm,a.start=a.end=e.pos,r=this.addActions(e,a.value,a.end,r)),this.mainToken=a,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new JZ,{pos:a,p:i}=e;return r.start=a,r.end=Math.min(a+1,i.stream.end),r.value=a==i.stream.end?i.parser.eofTerm:0,r}updateCachedToken(e,r,a){let i=this.stream.clipPos(a.pos);if(r.token(this.stream.reset(i,e),a),e.value>-1){let{parser:d}=a.p;for(let f=0;f<d.specialized.length;f++)if(d.specialized[f]==e.value){let h=d.specializers[f](this.stream.read(e.start,e.end),a);if(h>=0&&a.p.parser.dialect.allows(h>>1)){h&1?e.extended=h>>1:e.value=h>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,r,a,i){for(let d=0;d<i;d+=3)if(this.actions[d]==e)return i;return this.actions[i++]=e,this.actions[i++]=r,this.actions[i++]=a,i}addActions(e,r,a,i){let{state:d}=e,{parser:f}=e.p,{data:h}=f;for(let c=0;c<2;c++)for(let g=f.stateSlot(d,c?2:1);;g+=3){if(h[g]==65535)if(h[g+1]==1)g=gO(h,g+2);else{i==0&&h[g+1]==2&&(i=this.putAction(gO(h,g+2),r,a,i));break}h[g]==r&&(i=this.putAction(gO(h,g+1),r,a,i))}return i}}class AMe{constructor(e,r,a,i){this.parser=e,this.input=r,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new wMe(r,i),this.tokens=new kMe(e,this.stream),this.topTerm=e.top[1];let{from:d}=i[0];this.stacks=[LH.start(this,e.top[0],d)],this.fragments=a.length&&this.stream.end-d>e.bufferLength*4?new CMe(a,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,a=this.stacks=[],i,d;if(this.bigReductionCount>300&&e.length==1){let[f]=e;for(;f.forceReduce()&&f.stack.length&&f.stack[f.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let f=0;f<e.length;f++){let h=e[f];for(;;){if(this.tokens.mainToken=null,h.pos>r)a.push(h);else{if(this.advanceStack(h,a,e))continue;{i||(i=[],d=[]),i.push(h);let c=this.tokens.getMainToken(h);d.push(c.value,c.end)}}break}}if(!a.length){let f=i&&MMe(i);if(f)return sg&&console.log("Finish with "+this.stackID(f)),this.stackToTree(f);if(this.parser.strict)throw sg&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let f=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,d,a);if(f)return sg&&console.log("Force-finish "+this.stackID(f)),this.stackToTree(f.forceAll())}if(this.recovering){let f=this.recovering==1?1:this.recovering*3;if(a.length>f)for(a.sort((h,c)=>c.score-h.score);a.length>f;)a.pop();a.some(h=>h.reducePos>r)&&this.recovering--}else if(a.length>1){e:for(let f=0;f<a.length-1;f++){let h=a[f];for(let c=f+1;c<a.length;c++){let g=a[c];if(h.sameState(g)||h.buffer.length>500&&g.buffer.length>500)if((h.score-g.score||h.buffer.length-g.buffer.length)>0)a.splice(c--,1);else{a.splice(f--,1);continue e}}}a.length>12&&a.splice(12,a.length-12)}this.minStackPos=a[0].pos;for(let f=1;f<a.length;f++)a[f].pos<this.minStackPos&&(this.minStackPos=a[f].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,a){let i=e.pos,{parser:d}=this,f=sg?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let g=e.curContext&&e.curContext.tracker.strict,v=g?e.curContext.hash:0;for(let y=this.fragments.nodeAt(i);y;){let b=this.parser.nodeSet.types[y.type.id]==y.type?d.getGoto(e.state,y.type.id):-1;if(b>-1&&y.length&&(!g||(y.prop(ua.contextHash)||0)==v))return e.useNode(y,b),sg&&console.log(f+this.stackID(e)+` (via reuse of ${d.getName(y.type.id)})`),!0;if(!(y instanceof Fi)||y.children.length==0||y.positions[0]>0)break;let O=y.children[0];if(O instanceof Fi&&y.positions[0]==0)y=O;else break}}let h=d.stateSlot(e.state,4);if(h>0)return e.reduce(h),sg&&console.log(f+this.stackID(e)+` (via always-reduce ${d.getName(h&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let g=0;g<c.length;){let v=c[g++],y=c[g++],b=c[g++],O=g==c.length||!a,C=O?e:e.split(),k=this.tokens.mainToken;if(C.apply(v,y,k?k.start:C.pos,b),sg&&console.log(f+this.stackID(C)+` (via ${v&65536?`reduce of ${d.getName(v&65535)}`:"shift"} for ${d.getName(y)} @ ${i}${C==e?"":", split"})`),O)return!0;C.pos>i?r.push(C):a.push(C)}return!1}advanceFully(e,r){let a=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>a)return mhe(e,r),!0}}runRecovery(e,r,a){let i=null,d=!1;for(let f=0;f<e.length;f++){let h=e[f],c=r[f<<1],g=r[(f<<1)+1],v=sg?this.stackID(h)+" -> ":"";if(h.deadEnd&&(d||(d=!0,h.restart(),sg&&console.log(v+this.stackID(h)+" (restarted)"),this.advanceFully(h,a))))continue;let y=h.split(),b=v;for(let O=0;y.forceReduce()&&O<10&&(sg&&console.log(b+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,a));O++)sg&&(b=this.stackID(y)+" -> ");for(let O of h.recoverByInsert(c))sg&&console.log(v+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,a);this.stream.end>h.pos?(g==h.pos&&(g++,c=0),h.recoverByDelete(c,g),sg&&console.log(v+this.stackID(h)+` (via recover-delete ${this.parser.getName(c)})`),mhe(h,a)):(!i||i.score<h.score)&&(i=h)}return i}stackToTree(e){return e.close(),Fi.build({buffer:IH.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(roe||(roe=new WeakMap)).get(e);return r||roe.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function mhe(t,e){for(let r=0;r<e.length;r++){let a=e[r];if(a.pos==t.pos&&a.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class PMe{constructor(e,r,a){this.source=e,this.flags=r,this.disabled=a}allows(e){return!this.disabled||this.disabled[e]==0}}const ooe=t=>t;class Wie{constructor(e){this.start=e.start,this.shift=e.shift||ooe,this.reduce=e.reduce||ooe,this.reuse=e.reuse||ooe,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class RS extends Tie{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let h=0;h<e.repeatNodeCount;h++)r.push("");let a=Object.keys(e.topRules).map(h=>e.topRules[h][1]),i=[];for(let h=0;h<r.length;h++)i.push([]);function d(h,c,g){i[h].push([c,c.deserialize(String(g))])}if(e.nodeProps)for(let h of e.nodeProps){let c=h[0];typeof c=="string"&&(c=ua[c]);for(let g=1;g<h.length;){let v=h[g++];if(v>=0)d(v,c,h[g++]);else{let y=h[g+-v];for(let b=-v;b>0;b--)d(h[g++],c,y);g++}}}this.nodeSet=new j$(r.map((h,c)=>Vu.define({name:c>=this.minRepeatTerm?void 0:h,id:c,props:i[c],top:a.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=L0e;let f=VD(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let h=0;h<this.specializerSpecs.length;h++)this.specialized[h]=this.specializerSpecs[h].term;this.specializers=this.specializerSpecs.map(ghe),this.states=VD(e.states,Uint32Array),this.data=VD(e.stateData),this.goto=VD(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(h=>typeof h=="number"?new sM(f,h):h),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,a){let i=new AMe(this,e,r,a);for(let d of this.wrappers)i=d(i,e,r,a);return i}getGoto(e,r,a=!1){let i=this.goto;if(r>=i[0])return-1;for(let d=i[r+1];;){let f=i[d++],h=f&1,c=i[d++];if(h&&a)return c;for(let g=d+(f>>1);d<g;d++)if(i[d]==e)return c;if(h)return-1}}hasAction(e,r){let a=this.data;for(let i=0;i<2;i++)for(let d=this.stateSlot(e,i?2:1),f;;d+=3){if((f=a[d])==65535)if(a[d+1]==1)f=a[d=gO(a,d+2)];else{if(a[d+1]==2)return gO(a,d+2);break}if(f==r||f==0)return gO(a,d+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,a=>a==r?!0:null)}allActions(e,r){let a=this.stateSlot(e,4),i=a?r(a):void 0;for(let d=this.stateSlot(e,1);i==null;d+=3){if(this.data[d]==65535)if(this.data[d+1]==1)d=gO(this.data,d+2);else break;i=r(gO(this.data,d+1))}return i}nextStates(e){let r=[];for(let a=this.stateSlot(e,1);;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=gO(this.data,a+2);else break;if(!(this.data[a+2]&1)){let i=this.data[a+1];r.some((d,f)=>f&1&&d==i)||r.push(this.data[a],i)}}return r}configure(e){let r=Object.assign(Object.create(RS.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let a=this.topRules[e.top];if(!a)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=a}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(a=>{let i=e.tokenizers.find(d=>d.from==a);return i?i.to:a})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((a,i)=>{let d=e.specializers.find(h=>h.from==a.external);if(!d)return a;let f=Object.assign(Object.assign({},a),{external:d.to});return r.specializers[i]=ghe(f),f})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),a=r.map(()=>!1);if(e)for(let d of e.split(" ")){let f=r.indexOf(d);f>=0&&(a[f]=!0)}let i=null;for(let d=0;d<r.length;d++)if(!a[d])for(let f=this.dialects[r[d]],h;(h=this.data[f++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[h]=1;return new PMe(e,a,i)}static deserialize(e){return new RS(e)}}function gO(t,e){return t[e]|t[e+1]<<16}function MMe(t){let e=null;for(let r of t){let a=r.p.stoppedAt;(r.pos==r.p.stream.end||a!=null&&r.pos>a)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function ghe(t){if(t.external){let e=t.extend?1:0;return(r,a)=>t.external(r,a)<<1|e}return t.get}const EMe=1,dye=201,hye=202,_Me=203,phe=204,RMe=205,DMe=206,$Me=207,LMe=2,IMe=208,NMe=209,BMe=3,QMe=210,FMe=211,VMe=4,zMe=212,ZMe=213,HMe=5,UMe=214,WMe=26,YMe=27,XMe=51,GMe=52,jMe=57,qMe=58,KMe=59,JMe=61,eEe=62,tEe=63,nEe=64,rEe=65,oEe=67,sEe=251,aEe=74,iEe=270,lEe=115,cEe=133,uEe=154,fEe=155,dEe=158,P$=10,M$=13,Yie=32,QU=9,Xie=35,hEe=40,mEe=46,vhe=123,mye=39,gye=34,gEe=92,pEe=new Set([YMe,XMe,GMe,iEe,oEe,cEe,qMe,KMe,sEe,nEe,rEe,aEe,eEe,tEe,uEe,fEe,dEe,lEe]);function soe(t){return t==P$||t==M$}const vEe=new vh((t,e)=>{let r;if(t.next<0)t.acceptToken(DMe);else if(e.context.depth<0)soe(t.next)&&t.acceptToken(RMe,1);else if(((r=t.peek(-1))<0||soe(r))&&e.canShift(phe)){let a=0;for(;t.next==Yie||t.next==QU;)t.advance(),a++;(t.next==P$||t.next==M$||t.next==Xie)&&t.acceptToken(phe,-a)}else soe(t.next)&&t.acceptToken(_Me,1)},{contextual:!0}),yEe=new vh((t,e)=>{let r=e.context.depth;if(r<0)return;let a=t.peek(-1);if(a==P$||a==M$){let i=0,d=0;for(;;){if(t.next==Yie)i++;else if(t.next==QU)i+=8-i%8;else break;t.advance(),d++}i!=r&&t.next!=P$&&t.next!=M$&&t.next!=Xie&&(i<r?t.acceptToken(hye,-d):t.acceptToken(dye))}});function Xse(t,e){this.parent=t,this.depth=e,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)}const bEe=new Xse(null,0);function OEe(t){let e=0;for(let r=0;r<t.length;r++)e+=t.charCodeAt(r)==QU?8-e%8:1;return e}const xEe=new Wie({start:bEe,reduce(t,e){return t.depth<0&&pEe.has(e)?t.parent:t},shift(t,e,r,a){return e==dye?new Xse(t,OEe(a.read(a.pos,r.pos))):e==hye?t.parent:e==WMe||e==jMe||e==JMe?new Xse(t,-1):t},hash(t){return t.hash}}),SEe=new vh(t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let r=t.peek(e);if(!(r==Yie||r==QU)){r!=hEe&&r!=mEe&&r!=P$&&r!=M$&&r!=Xie&&t.acceptToken(EMe);return}}});function FU(t,e,r,a,i){return new vh(d=>{let f=d.pos;for(;!(d.next<0);)if(d.next==vhe)if(d.peek(1)==vhe)d.advance(2);else{if(d.pos==f){d.acceptToken(a,1);return}break}else if(d.next==gEe)d.advance(),d.next>=0&&d.advance();else if(d.next==t&&(e==1||d.peek(1)==t&&d.peek(2)==t)){if(d.pos==f){d.acceptToken(i,e);return}break}else d.advance();d.pos>f&&d.acceptToken(r)})}const wEe=FU(mye,1,$Me,LMe,IMe),TEe=FU(gye,1,NMe,BMe,QMe),CEe=FU(mye,3,FMe,VMe,zMe),kEe=FU(gye,3,ZMe,HMe,UMe),AEe=NS({'async "*" "**" FormatConversion FormatSpec':Qt.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":Qt.controlKeyword,"in not and or is del":Qt.operatorKeyword,"from def class global nonlocal lambda":Qt.definitionKeyword,import:Qt.moduleKeyword,"with as print":Qt.keyword,Boolean:Qt.bool,None:Qt.null,VariableName:Qt.variableName,"CallExpression/VariableName":Qt.function(Qt.variableName),"FunctionDefinition/VariableName":Qt.function(Qt.definition(Qt.variableName)),"ClassDefinition/VariableName":Qt.definition(Qt.className),PropertyName:Qt.propertyName,"CallExpression/MemberExpression/PropertyName":Qt.function(Qt.propertyName),Comment:Qt.lineComment,Number:Qt.number,String:Qt.string,FormatString:Qt.special(Qt.string),UpdateOp:Qt.updateOperator,"ArithOp!":Qt.arithmeticOperator,BitOp:Qt.bitwiseOperator,CompareOp:Qt.compareOperator,AssignOp:Qt.definitionOperator,Ellipsis:Qt.punctuation,At:Qt.meta,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace,".":Qt.derefOperator,", ;":Qt.separator}),PEe={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:168,True:170,False:170,del:184,pass:188,break:192,continue:196,return:200,raise:208,import:212,as:214,global:218,nonlocal:220,assert:224,type:229,elif:242,while:246,try:252,except:254,finally:256,with:260,def:264,class:274,match:285,case:291},MEe=RS.deserialize({version:14,states:"#&jO`Q#yOOP$bOSOOO%kQ&nO'#HcOOQS'#Cq'#CqOOQS'#Cr'#CrO'ZQ#xO'#CpO(|Q&nO'#HbOOQS'#Hc'#HcOOQS'#DW'#DWOOQS'#Hb'#HbO)jQ#xO'#DaO)}Q#xO'#DhO*_Q#xO'#DlOOQS'#Dw'#DwO*rO,UO'#DwO*zO7[O'#DwO+SOWO'#DxO+_O`O'#DxO+jOpO'#DxO+uO!bO'#DxO-wQ&nO'#HSOOQS'#HS'#HSO'ZQ#xO'#HRO/ZQ&nO'#HROOQS'#Ee'#EeO/rQ#xO'#EfOOQS'#HQ'#HQO/|Q#xO'#HPOOQV'#HP'#HPO0XQ#xO'#F]OOQS'#Ge'#GeO0^Q#xO'#F[OOQV'#IY'#IYOOQV'#HO'#HOOOQV'#Ft'#FtQ`Q#yOOO'ZQ#xO'#CsO0lQ#xO'#DPO0sQ#xO'#DTO1RQ#xO'#HgO1cQ&nO'#EYO'ZQ#xO'#EZOOQS'#E]'#E]OOQS'#E_'#E_OOQS'#Ea'#EaO1wQ#xO'#EcO2_Q#xO'#EgO0XQ#xO'#EiO2rQ&nO'#EiO0XQ#xO'#ElO/rQ#xO'#EoO0XQ#xO'#EqO/rQ#xO'#EwO/rQ#xO'#EzO2}Q#xO'#E|O3UQ#xO'#FRO3aQ#xO'#E}O/rQ#xO'#FRO0XQ#xO'#FTO0XQ#xO'#FYO3fQ#xO'#F_P3mO#xO'#G}POOO)CBq)CBqOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO3xQ#xO'#DqOOQS,5:[,5:[O4]Q#xO'#HqOOQS,5:_,5:_O4jQMlO,5:_O4oQ&nO,59[O0lQ#xO,59dO0lQ#xO,59dO0lQ#xO,59dO7_Q#xO,59dO7dQ#xO,59dO7kQ#xO,59lO7rQ#xO'#HbO8xQ#xO'#HaOOQS'#Ha'#HaOOQS'#D^'#D^O9aQ#xO,59cO'ZQ#xO,59cO9oQ#xO,59cOOQS,59{,59{O9tQ#xO,5:TO'ZQ#xO,5:TOOQS,5:S,5:SO:SQ#xO,5:SO:XQ#xO,5:ZO'ZQ#xO,5:ZO'ZQ#xO,5:XOOQS,5:W,5:WO:jQ#xO,5:WO:oQ#xO,5:YOOOO'#F|'#F|O:tO,UO,5:cOOQS,5:c,5:cOOOO'#F}'#F}O:|O7[O,5:cO;UQ#xO'#DyOOOW'#GO'#GOO;fOWO,5:dOOQS,5:d,5:dO;UQ#xO'#D}OOO`'#GR'#GRO;qO`O,5:dO;UQ#xO'#EOOOOp'#GS'#GSO;|OpO,5:dO;UQ#xO'#EPOOO!b'#GT'#GTO<XO!bO,5:dOOQS'#GU'#GUO<dQ&nO,5:lO?UQ&nO,5=mO?oQ!LUO,5=mO@`Q&nO,5=mOOQS,5;Q,5;QO@wQ#yO'#G_OBZQ#xO,5;aOOQV,5=k,5=kOBfQ&nO'#ITOB}Q#xO,5;wOOQS-E:c-E:cOOQV,5;v,5;vO3[Q#xO'#FTOOQV-E9r-E9rOCVQ&nO,59_OE^Q&nO,59kOEwQ#xO'#HdOFSQ#xO'#HdO0XQ#xO'#HdOF_Q#xO'#DVOFgQ#xO,59oOFlQ#xO'#HhO'ZQ#xO'#HhO/rQ#xO,5>ROOQS,5>R,5>RO/rQ#xO'#EUOOQS'#EV'#EVOGZQ#xO'#GWOGkQ#xO,59OOGkQ#xO,59OO)pQ#xO,5:rOGyQ&nO'#HjOOQS,5:u,5:uOOQS,5:},5:}OH^Q#xO,5;ROHoQ#xO,5;TOOQS'#GZ'#GZOH}Q&nO,5;TOI]Q#xO,5;TOIbQ#xO'#IWOOQS,5;W,5;WOIpQ#xO'#ISOOQS,5;Z,5;ZOJRQ#xO,5;]O3aQ#xO,5;cO3aQ#xO,5;fOJZQ&nO'#IZO'ZQ#xO'#IZOJeQ#xO,5;hO2}Q#xO,5;hO/rQ#xO,5;mO0XQ#xO,5;oOJjQ#yO'#ExOKvQ#{O,5;iO! [Q#xO'#I[O3aQ#xO,5;mO! gQ#xO,5;oO! oQ#xO,5;tO! zQ&nO,5;yO'ZQ#xO,5;yPOOO,5=i,5=iP!!ROSO,5=iP!!WO#xO,5=iO!${Q&nO1G.lO!%SQ&nO1G.lO!'sQ&nO1G.lO!'}Q&nO1G.lO!*hQ&nO1G.lO!*{Q&nO1G.lO!+`Q#xO'#HpO!+nQ&nO'#HSO/rQ#xO'#HpO!+xQ#xO'#HoOOQS,5:],5:]O!,QQ#xO,5:]O!,VQ#xO'#HrO!,bQ#xO'#HrO!,uQ#xO,5>]OOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-uQ&nO1G/OO!-|Q&nO1G/OO0lQ#xO1G/OO!.iQ#xO1G/WOOQS'#D]'#D]O/rQ#xO,59vOOQS1G.}1G.}O!.pQ#xO1G/gO!/QQ#xO1G/gO!/YQ#xO1G/hO'ZQ#xO'#HiO!/_Q#xO'#HiO!/dQ&nO1G.}O!/tQ#xO,59kO!0zQ#xO,5>XO!1[Q#xO,5>XO!1dQ#xO1G/oO!1iQ&nO1G/oOOQS1G/n1G/nO!1yQ#xO,5>SO!2pQ#xO,5>SO/rQ#xO1G/sO!3_Q#xO1G/uO!3dQ&nO1G/uO!3tQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E9z-E9zOOQS1G/}1G/}OOOO-E9{-E9{O!4UQ#xO'#H|O/rQ#xO'#H|O!4dQ#xO,5:eOOOW-E9|-E9|OOQS1G0O1G0OO!4oQ#xO,5:iOOO`-E:P-E:PO!4zQ#xO,5:jOOOp-E:Q-E:QO!5VQ#xO,5:kOOO!b-E:R-E:ROOQS-E:S-E:SO!5bQ!LUO1G3XO!6RQ&nO1G3XO'ZQ#xO,5<qOOQS,5<q,5<qOOQS-E:T-E:TOOQS,5<y,5<yOOQS-E:]-E:]OOQV1G0{1G0{O0XQ#xO'#GYO!6jQ&nO,5>oOOQS1G1c1G1cO!7RQ#xO1G1cOOQS'#DX'#DXO/rQ#xO,5>OOOQS,5>O,5>OO!7WQ#xO'#FuO!7cQ#xO,59qO!7kQ#xO1G/ZO!7uQ&nO,5>SOOQS1G3m1G3mOOQS,5:p,5:pO!8fQ#xO'#HROOQS,5<r,5<rOOQS-E:U-E:UO!8wQ#xO1G.jOOQS1G0^1G0^O!9VQ#xO,5>UO!9gQ#xO,5>UO/rQ#xO1G0mO/rQ#xO1G0mO0XQ#xO1G0oOOQS-E:X-E:XO!9xQ#xO1G0oO!:TQ#xO1G0oO!:YQ#xO,5>rO!:hQ#xO,5>rO!:vQ#xO,5>nO!;^Q#xO,5>nO!;oQ#xO'#EsO/rQ#xO1G0wO!;zQ#xO1G0wO!<PQ#{O1G0}O!?bQ#{O1G1QO!BpQ#xO,5>uO!BzQ#xO,5>uO!CSQ&nO,5>uO/rQ#xO1G1SO!C^Q#xO1G1SO3aQ#xO1G1XO! gQ#xO1G1ZOOQV,5;d,5;dO!CcQ#zO,5;dO!ChQ#{O1G1TO!F|Q#xO'#GbO3aQ#xO1G1TO3aQ#xO1G1TO!G^Q#xO,5>vO!GkQ#xO,5>vO0XQ#xO,5>vOOQV1G1X1G1XO!GsQ#xO'#FVO!HUQMlO1G1ZO!H^Q#xO1G1ZOOQV1G1`1G1`O3aQ#xO1G1`O!HcQ#xO1G1`O!HkQ#xO'#FaOOQV1G1e1G1eO! zQ&nO1G1ePOOO1G3T1G3TP!HpOSO1G3TOOQS,5>[,5>[OOQS'#Dr'#DrO/rQ#xO,5>[O!HuQ#xO,5>ZO!IYQ#xO,5>ZOOQS1G/w1G/wO!IbQ#xO,5>^O!IrQ#xO,5>^O!IzQ#xO,5>^O!J_Q#xO,5>^O!JoQ#xO,5>^OOQS1G3w1G3wOOQS7+$j7+$jO!7kQ#xO7+$rO!LbQ#xO1G/OO!LiQ#xO1G/OOOQS1G/b1G/bOOQS,5<c,5<cO'ZQ#xO,5<cOOQS7+%R7+%RO!LpQ#xO7+%ROOQS-E9u-E9uOOQS7+%S7+%SO!MQQ#xO,5>TO'ZQ#xO,5>TOOQS7+$i7+$iO!MVQ#xO7+%RO!M_Q#xO7+%SO!MdQ#xO1G3sOOQS7+%Z7+%ZO!MtQ#xO1G3sO!M|Q#xO7+%ZOOQS,5<b,5<bO'ZQ#xO,5<bO!NRQ#xO1G3nOOQS-E9t-E9tO!NxQ#xO7+%_OOQS7+%a7+%aO# WQ#xO1G3nO# uQ#xO7+%aO# zQ#xO1G3tO#![Q#xO1G3tO#!dQ#xO7+%_O#!iQ#xO,5>hO##PQ#xO,5>hO##PQ#xO,5>hO##_O$ISO'#D{O##jO#tO'#H}OOOW1G0P1G0PO##oQ#xO1G0POOO`1G0T1G0TO##wQ#xO1G0TOOOp1G0U1G0UO#$PQ#xO1G0UOOO!b1G0V1G0VO#$XQ#xO1G0VO#$aQ!LUO7+(sO#%QQ&nO1G2]P#%kQ#xO'#GVOOQS,5<t,5<tOOQS-E:W-E:WOOQS7+&}7+&}OOQS1G3j1G3jOOQS,5<a,5<aOOQS-E9s-E9sOOQS7+$u7+$uO#%xQ#xO,5=mO#&cQ#xO,5=mO#&tQ&nO,5<dO#'XQ#xO1G3pOOQS-E9v-E9vOOQS7+&X7+&XO#'iQ#xO7+&XOOQS7+&Z7+&ZO#'wQ#xO'#IVO0XQ#xO'#IUO#(]Q#xO7+&ZOOQS,5<w,5<wO#(hQ#xO1G4^OOQS-E:Z-E:ZOOQS,5<s,5<sO#(vQ#xO1G4YOOQS-E:V-E:VO0XQ#xO'#EtO#)^Q#xO'#EtO#)iQ#xO'#IXO#)qQ#xO,5;_OOQS7+&c7+&cO/rQ#xO7+&cO#)vQ#{O7+&iO!GPQ#xO'#G`O3aQ#xO7+&iO3aQ#xO7+&lO#-XQ&nO,5<{O'ZQ#xO,5<{O#-cQ#xO1G4aOOQS-E:_-E:_O#-mQ#xO1G4aO3aQ#xO7+&nO/rQ#xO7+&nOOQV7+&s7+&sO!HUQMlO7+&uO!H^Q#xO7+&uO`Q#yO1G1OOOQV-E:`-E:`O3aQ#xO7+&oO3aQ#xO7+&oOOQV,5<|,5<|O#-uQ#xO,5<|O!GPQ#xO,5<|OOQV7+&o7+&oO#.QQ#{O7+&oO#1`Q#xO,5<}O#1kQ#xO1G4bOOQS-E:a-E:aO#1xQ#xO1G4bO#2QQ#xO'#I^O#2`Q#xO'#I^O0XQ#xO'#I^OOQS'#I^'#I^O#2kQ#xO'#I]OOQS,5;q,5;qO#2sQ#xO,5;qO/rQ#xO'#FXOOQV7+&u7+&uO3aQ#xO7+&uOOQV7+&z7+&zO3aQ#xO7+&zO#2xQ#zO,5;{OOQV7+'P7+'PPOOO7+(o7+(oO#2}Q#xO1G3vOOQS,5<f,5<fO#3]Q#xO1G3uOOQS-E9x-E9xO#3pQ#xO,5<gO#3{Q#xO,5<gO#4`Q#xO1G3xOOQS-E9y-E9yO#4pQ#xO1G3xO#4xQ#xO1G3xO#5YQ#xO1G3xO#4pQ#xO1G3xOOQS<<H^<<H^O#5eQ&nO1G1}OOQS<<Hm<<HmP#5rQ#xO'#FwO7kQ#xO1G3oO#6PQ#xO1G3oO#6UQ#xO<<HmOOQS<<Hn<<HnO#6fQ#xO7+)_OOQS<<Hu<<HuO#6vQ&nO1G1|P#7gQ#xO'#FvO#7tQ#xO7+)`O#8UQ#xO7+)`O#8^Q#xO<<HyO#8cQ#xO7+)YOOQS<<H{<<H{O#9YQ#xO,5<eO'ZQ#xO,5<eOOQS-E9w-E9wOOQS<<Hy<<HyOOQS,5<k,5<kO/rQ#xO,5<kO#9_Q#xO1G4SOOQS-E9}-E9}O#9uQ#xO1G4SO;UQ#xO'#D|OOOO'#GQ'#GQO#:TO$ISO,5:gOOO#l,5>i,5>iOOOW7+%k7+%kOOO`7+%o7+%oOOOp7+%p7+%pOOO!b7+%q7+%qO#:`Q#xO1G3XO#:yQ#xO1G3XP'ZQ#xO'#FxO/rQ#xO<<IsO#;[Q#xO,5>qO#;mQ#xO,5>qO0XQ#xO,5>qO#<OQ#xO,5>pOOQS<<Iu<<IuP0XQ#xO'#G]P/rQ#xO'#GXOOQS,5;`,5;`O#<TQ#xO,5>sO#<cQ#xO,5>sOOQS1G0y1G0yOOQS<<I}<<I}OOQV-E:^-E:^O3aQ#xO<<JTOOQV,5<z,5<zO3aQ#xO,5<zOOQV<<JT<<JTOOQV<<JW<<JWO#<kQ&nO1G2gP#<uQ#xO'#GaO#<|Q#xO7+){O#=WQ#{O<<JYO3aQ#xO<<JYOOQV<<Ja<<JaO3aQ#xO<<JaO!HUQMlO<<JaO#@fQ#{O7+&jOOQV<<JZ<<JZO#@pQ#{O<<JZOOQV1G2h1G2hO0XQ#xO1G2hO#DOQ#xO1G2hO3aQ#xO<<JZO0XQ#xO1G2iP/rQ#xO'#GcO#DZQ#xO7+)|O#DhQ#xO7+)|OOQS'#FW'#FWO/rQ#xO,5>xO#DpQ#xO,5>xOOQS,5>x,5>xO#D{Q#xO,5>wO#E^Q#xO,5>wOOQS1G1]1G1]OOQS,5;s,5;sOOQV<<Jf<<JfO#EfQ#xO1G1gOOQS7+)b7+)bP#EkQ#xO'#FzO#E{Q#xO1G2RO#F`Q#xO1G2RO#FpQ#xO1G2RP#F{Q#xO'#F{O#GYQ#xO7+)dO#GjQ#xO7+)dO#GjQ#xO7+)dO#GrQ#xO7+)dO#HSQ#xO7+)ZO7kQ#xO7+)ZOOQSAN>XAN>XO#HmQ#xO<<LzOOQSAN>eAN>eO/rQ#xO1G2PO#H}Q&nO1G2PP#IXQ#xO'#FyOOQS1G2V1G2VP#IfQ#xO'#GPO#IsQ#xO7+)nO#JZQ#xO,5:hOOOO-E:O-E:OO#JfQ#xO7+(sOOQSAN?_AN?_O#KPQ#xO,5<vO#KeQ#xO1G4]OOQS-E:Y-E:YO#KvQ#xO1G4]OOQS1G4[1G4[OOQS,5<x,5<xO#LXQ#xO1G4_OOQS-E:[-E:[OOQVAN?oAN?oOOQV1G2f1G2fO3aQ#xOAN?tO#LgQ#{OAN?tOOQVAN?{AN?{O3aQ#xOAN?{OOQV<<JU<<JUO3aQ#xOAN?uO3aQ#xO7+(SOOQV7+(S7+(SO0XQ#xO7+(SOOQVAN?uAN?uOOQS7+(T7+(TO$ uQ#xO<<MhOOQS1G4d1G4dO/rQ#xO1G4dOOQS,5=O,5=OO$!SQ#xO1G4cOOQS-E:b-E:bOOQU'#Gf'#GfO$!eQ#zO7+'RO$!pQ#xO'#FbO$#hQ#xO7+'mO$#xQ#xO7+'mOOQS7+'m7+'mO$$TQ#xO<<MOO$$eQ#xO<<MOO$$eQ#xO<<MOO$$mQ#xO'#HkOOQS<<Lu<<LuO$$wQ#xO<<LuOOQS7+'k7+'kOOOO1G0S1G0SO$%bQ#xO1G0SO0XQ#xO1G2bP0XQ#xO'#G[O$%jQ#xO7+)wO$%{Q#xO7+)wP!;oQ#xO'#G^OOQVG25`G25`O3aQ#xOG25`OOQVG25gG25gOOQVG25aG25aOOQV<<Kn<<KnO3aQ#xO<<KnOOQS7+*O7+*OP$&^Q#xO'#GdOOQU-E:d-E:dOOQV<<Jm<<JmO$'QQ&nO'#FdOOQS'#Ff'#FfO$'bQ#xO'#FeO$(SQ#xO'#FeOOQS'#Fe'#FeO$(XQ#xO'#I`O$!pQ#xO'#FlO$!pQ#xO'#FlO$(pQ#xO'#FmO$!pQ#xO'#FnO$(wQ#xO'#IaOOQS'#Ia'#IaO$)fQ#xO,5;|OOQS<<KX<<KXO$)nQ#xO<<KXO$*OQ#xOANBjO$*`Q#xOANBjO$*hQ#xO'#HlOOQS'#Hl'#HlO0sQ#xO'#DeO$+RQ#xO,5>VOOQSANBaANBaOOOO7+%n7+%nOOQS7+'|7+'|O$+jQ#xO<<McOOQVLD*zLD*zOOQVANAYANAYO4jQMlO'#GhO$+{Q&nO,5<VO$!pQ#xO'#FpOOQS,5<Z,5<ZOOQS'#Fg'#FgO$,mQ#xO,5<PO$,rQ#xO,5<POOQS'#Fj'#FjO$!pQ#xO'#GgO$-dQ#xO,5<TO$.OQ#xO,5>zO$.`Q#xO,5>zO0XQ#xO,5<SO$.qQ#xO,5<WO$.vQ#xO,5<WO$!pQ#xO'#IbO$.{Q#xO'#IbO$/QQ#xO,5<XOOQS,5<Y,5<YO'ZQ#xO'#FsOOQU1G1h1G1hO3aQ#xO1G1hOOQSAN@sAN@sO$/VQ#xOG28UO$/gQ#xO,5:POOQS1G3q1G3qOOQS,5=S,5=SOOQS-E:f-E:fO$/lQ&nO'#FdO$/sQ#xO'#IcO$0RQ#xO'#IcO$0ZQ#xO,5<[OOQS1G1k1G1kO$0`Q#xO1G1kO$0eQ#xO,5=ROOQS-E:e-E:eO$1PQ#xO,5=VO$1hQ#xO1G4fOOQS-E:i-E:iOOQS1G1n1G1nOOQS1G1r1G1rO$1xQ#xO,5>|O$!pQ#xO,5>|OOQS1G1s1G1sO$2WQ&nO,5<_OOQU7+'S7+'SO$$mQ#xO1G/kO$!pQ#xO,5<]O$2_Q#xO,5>}O$2fQ#xO,5>}OOQS1G1v1G1vOOQS7+'V7+'VP$!pQ#xO'#GkO$2nQ#xO1G4hO$2xQ#xO1G4hO$3QQ#xO1G4hOOQS7+%V7+%VO$3`Q#xO1G1wO$3nQ&nO'#FdO$3uQ#xO,5=UOOQS,5=U,5=UO$4TQ#xO1G4iOOQS-E:h-E:hO$!pQ#xO,5=TO$4[Q#xO,5=TO$4aQ#xO7+*SOOQS-E:g-E:gO$4kQ#xO7+*SO$!pQ#xO,5<^P$!pQ#xO'#GjO$4sQ#xO1G2oO$!pQ#xO1G2oP$5RQ#xO'#GiO$5YQ#xO<<MnO$5dQ#xO1G1xO$5rQ#xO7+(ZO7kQ#xO'#DPO7kQ#xO,59dO7kQ#xO,59dO7kQ#xO,59dO$6QQ&nO,5=mO7kQ#xO1G/OO/rQ#xO1G/ZO/rQ#xO7+$rP$6eQ#xO'#GVO'ZQ#xO'#HRO$6rQ#xO,59dO$6wQ#xO,59dO$7OQ#xO,59oO$7TQ#xO1G/WO0sQ#xO'#DTO7kQ#xO,59l",stateData:"$7f~O%pOS%eOSUOS%dPQ~OPiOXfOhtOjYOquOu!UOxvO!RwO!S!QO!V!XO!W!WO!ZZO!_[O!jeO!ueO!veO!weO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#o!VO#r!YO#v!ZO#x![O#}!]O$QmO$S!^O%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O%d!_O~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%w!aO%x!bO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fO~Om&VXn&VXo&VXp&VXq&VXr&VXu&VX|&VX}&VX!{&VX#j&VX%c&VX%f&VX&X&VXi&VX!V&VX!W&VX&Y&VX!Y&VX!^&VX!S&VX#_&VXv&VX!n&VX~P$gOhtOjYO!ZZO!_[O!jeO!ueO!veO!weO%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O|&UX}&UX#j&UX%c&UX%f&UX&X&UX~Om!uOn!vOo!tOp!tOq!wOr!xOu!yO!{&UX~P(hOX#POi#ROq0zOx1YO!RwO~P'ZOX#TOq0zOx1YO!Y#UO~P'ZOX#XOc#YOq0zOx1YO!^#ZO~P'ZO&j#^O&k#`O~O&m#aO&n#`O~OQ#cO%g#dO%h#fO~OR#gO%i#hO%j#fO~OS#jO%k#kO%l#fO~OT#mO%m#nO%n#fO~OX%vXa%vXc%vXj%vXm%vXn%vXo%vXp%vXq%vXr%vXu%vX|%vX!Z%vX!h%vX%w%vX%x%vX%y%vX%z%vX%{%vX%|%vX%}%vX&O%vX&P%vX&Q%vXi%vX!V%vX!W%vX~O&h]O&i^O&l_O&o`O&saO&tbO&ucO}%vX!{%vX#j%vX%c%vX%f%vX&X%vX&Y%vX!Y%vX!^%vX!S%vX#_%vXv%vX!n%vX~P,QO|#sO}%uX!{%uX#j%uX%c%uX%f%uX&X%uX~Oq0zOx1YO~P'ZO#j#vO%c#xO%f#xO~O&SWO~O!V#}O#x![O#}!]O$QmO~OquO~P'ZOX$SOc$TO&SWO}yP~OX$XOq0zOx1YO!S$YO~P'ZO}$[O!{$aO&X$]O#j!|X%c!|X%f!|X~OX$XOq0zOx1YO#j#VX%c#VX%f#VX~P'ZOq0zOx1YO#j#ZX%c#ZX%f#ZX~P'ZO!h$gO!u$gO&SWO~OX$rO~P'ZO!W$tO#v$uO#x$vO~O}$wO~OX%OO~P'ZOU%QO%c%PO%p%RO~OX%[Oc%[Oi%^Oq0zOx1YO~P'ZOq0zOx1YO}%aO~P'ZO&g%cO~Oc!gOj!nO!Z!pO!h!rOXdaadamdandaodapdaqdardauda|da}da!{da#jda%cda%fda%wda%xda%yda%zda%{da%|da%}da&Oda&Pda&Qda&Xdaida!Vda!Wda&Yda!Yda!^da!Sda#_davda!nda~Op%hO~Oq%hO~P'ZOq0zO~P'ZOm0|On0}Oo0{Op0{Oq1UOr1VOu1ZOi&UX!V&UX!W&UX&Y&UX!Y&UX!^&UX!S&UX#_&UX!n&UX~P(hO&Y%jOi&TX|&TX!V&TX!W&TX!Y&TX}&TX~Oi%lO|%mO!V%qO!W%pO~Oi%lO~O|%tO!V%qO!W%pO!Y&aX~O!Y%xO~O|%yO}%{O!V%qO!W%pO!^&[X~O!^&PO~O!^&QO~O&j#^O&k&SO~O&m#aO&n&SO~OX&VOq0zOx1YO!RwO~P'ZOQ#cO%g#dO%h&YO~OR#gO%i#hO%j&YO~OS#jO%k#kO%l&YO~OT#mO%m#nO%n&YO~OX!taa!tac!taj!tam!tan!tao!tap!taq!tar!tau!ta|!ta}!ta!Z!ta!h!ta!{!ta#j!ta%c!ta%f!ta%w!ta%x!ta%y!ta%z!ta%{!ta%|!ta%}!ta&O!ta&P!ta&Q!ta&X!tai!ta!V!ta!W!ta&Y!ta!Y!ta!^!ta!S!ta#_!tav!ta!n!ta~P#yO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P$gOX&dOquOxvO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P'ZO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#j%RX%c%RX%f%RX~P'ZO#j#vO%c&iO%f&iO~O!h&jOj&wX%c&wX#_&wX#j&wX%f&wX#^&wX~Oj!nO%c&lO~Omgangaogapgaqgargauga|ga}ga!{ga#jga%cga%fga&Xgaiga!Vga!Wga&Yga!Yga!^ga!Sga#_gavga!nga~P$gOusa|sa}sa#jsa%csa%fsa&Xsa~Om!uOn!vOo!tOp!tOq!wOr!xO!{sa~PDuO&X&nO|&WX}&WX~O&SWO|&WX}&WX~O|&qO}yX~O}&sO~O|%yO#j&[X%c&[X%f&[Xi&[X}&[X!^&[X!n&[X&X&[X~OX1TOq0zOx1YO!RwO~P'ZO&X$]O#jWa%cWa%fWa~O|&|O#j&^X%c&^X%f&^Xp&^X~P$gO|'PO!S'OO#j#Za%c#Za%f#Za~O#_'QO#j#]a%c#]a%f#]a~O!h$gO!u$gO#^'SO&SWO~O#^'SO~O|'UO#j&zX%c&zX%f&zX~O|'WO#j&vX%c&vX%f&vX}&vX~O!Z'YO&X'ZO~O|'_Op&}X~P$gOp'bO~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO%c'gO~P'ZOv'kO#s'iO#t'jOP#qaX#qah#qaj#qaq#qau#qax#qa!R#qa!S#qa!V#qa!W#qa!Z#qa!_#qa!j#qa!u#qa!v#qa!w#qa#O#qa#Q#qa#S#qa#U#qa#W#qa#[#qa#^#qa#a#qa#b#qa#d#qa#f#qa#o#qa#r#qa#v#qa#x#qa#}#qa$Q#qa$S#qa%`#qa%|#qa%}#qa&R#qa&S#qa&h#qa&i#qa&l#qa&o#qa&s#qa&t#qa&u#qa%b#qa%f#qa~O|'lO#_'nO}'OX~Oj'pO!Z'YO~Oj!nO}$wO!Z'YO~O}'vO~P$gO%c'yO~OU'zO%c'yO~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%x!bO~P!!`O%xYi~P!!`OX!fOa!fOc!gOj!nO!Z!pO!h!rO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%z!dO%{!dO~P!%ZO%zYi%{Yi~P!%ZOc!gOj!nO!Z!pO!h!rOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi%zYi%{Yi%|Yi%}Yi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~OX!fOa!fO&O!fO&P!fO&Q!fO~P!(XOXYiaYi&OYi&PYi&QYi~P!(XO!V%qO!W%pOi&dX|&dX~O&X'|O&Y'|O~P,QO|(OOi&cX~Oi(QO~O|(RO}(TO!Y&fX~Oq0zOx1YO|(RO}(UO!Y&fX~P'ZO!Y(WO~Oo!tOp!tOq!wOr!xOmliuli|li}li!{li#jli%cli%fli&Xli~On!vO~P!,zOnli~P!,zOm0|On0}Oo0{Op0{Oq1UOr1VO~Ov(YO~P!.TOX(_Oi(`Oq0zOx1YO~P'ZOi(`O|(aO~Oi(cO~O!W(eO~Oi(fO|(aO!V%qO!W%pO~P$gOm0|On0}Oo0{Op0{Oq1UOr1VOisa!Vsa!Wsa&Ysa!Ysa!^sa!Ssa#_savsa!nsa~PDuOX(_Oq0zOx1YO!Y&aa~P'ZO|(iO!Y&aa~O!Y(jO~O|(iO!V%qO!W%pO!Y&aa~P$gOX(nOq0zOx1YO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~P'ZO|(oO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~O!^(rO~O|(oO!V%qO!W%pO!^&[a~P$gO|(uO!V%qO!W%pO!^&ba~P$gO|(xO}&pX!^&pX!n&pX~O}({O!^(}O!n)OO~O}({O!^)PO!n)QO~O}({O!^)RO!n)SO~O}({O!^)TO!n)UO~OX&dOquOxvO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~P'ZO|)VO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~O!h&jOj&wa%c&wa#_&wa#j&wa%f&wa#^&wa~O%c)[O~OX$SOc$TO&SWO~O|&qO}ya~OquOxvO~P'ZO|(oO#j&[a%c&[a%f&[ai&[a}&[a!^&[a!n&[a&X&[a~P$gO|)aO#j%uX%c%uX%f%uX&X%uX~O&X$]O#jWi%cWi%fWi~O#j&^a%c&^a%f&^ap&^a~P'ZO|)dO#j&^a%c&^a%f&^ap&^a~OX)hOj)jO&SWO~O#^)kO~O&SWO#j&za%c&za%f&za~O|)mO#j&za%c&za%f&za~Oq0zOx1YO#j&va%c&va%f&va}&va~P'ZO|)pO#j&va%c&va%f&va}&va~OX)rOc)rO&SWO~O&X)wO~Ov)zO#m)yOP#kiX#kih#kij#kiq#kiu#kix#ki!R#ki!S#ki!V#ki!W#ki!Z#ki!_#ki!j#ki!u#ki!v#ki!w#ki#O#ki#Q#ki#S#ki#U#ki#W#ki#[#ki#^#ki#a#ki#b#ki#d#ki#f#ki#o#ki#r#ki#v#ki#x#ki#}#ki$Q#ki$S#ki%`#ki%|#ki%}#ki&R#ki&S#ki&h#ki&i#ki&l#ki&o#ki&s#ki&t#ki&u#ki%b#ki%f#ki~Ov){OP#niX#nih#nij#niq#niu#nix#ni!R#ni!S#ni!V#ni!W#ni!Z#ni!_#ni!j#ni!u#ni!v#ni!w#ni#O#ni#Q#ni#S#ni#U#ni#W#ni#[#ni#^#ni#a#ni#b#ni#d#ni#f#ni#o#ni#r#ni#v#ni#x#ni#}#ni$Q#ni$S#ni%`#ni%|#ni%}#ni&R#ni&S#ni&h#ni&i#ni&l#ni&o#ni&s#ni&t#ni&u#ni%b#ni%f#ni~OX)}Op&}a~P'ZO|*OOp&}a~O|*OOp&}a~P$gOp*SO~O%a*WO~Ov*ZO#s'iO#t*YOP#qiX#qih#qij#qiq#qiu#qix#qi!R#qi!S#qi!V#qi!W#qi!Z#qi!_#qi!j#qi!u#qi!v#qi!w#qi#O#qi#Q#qi#S#qi#U#qi#W#qi#[#qi#^#qi#a#qi#b#qi#d#qi#f#qi#o#qi#r#qi#v#qi#x#qi#}#qi$Q#qi$S#qi%`#qi%|#qi%}#qi&R#qi&S#qi&h#qi&i#qi&l#qi&o#qi&s#qi&t#qi&u#qi%b#qi%f#qi~OX*^Oq0zOx1YO}$wO~P'ZOq0zOx1YO}'Oa~P'ZO|*bO}'Oa~OX*fOc*gOi*jO&O*hO&SWO~O}$wO'R*lO~Oj'pO~Oj!nO}$wO~O%c*qO~O%c*sO~OX%[Oc%[Oq0zOx1YOi&ca~P'ZO|*vOi&ca~Oq0zOx1YO}*yO!Y&fa~P'ZO|*zO!Y&fa~Oq0zOx1YO|*zO}*}O!Y&fa~P'ZOq0zOx1YO|*zO!Y&fa~P'ZO|*zO}*}O!Y&fa~Oo0{Op0{Oq1UOr1VOilimliuli|li!Vli!Wli&Yli!Yli}li!^li#jli%cli%fli!Sli#_livli!nli&Xli~On0}O~P!JzOnli~P!JzOX(_Oi+SOq0zOx1YO~P'ZOp+UO~Oi+SO|+WO~Oi+XO~OX(_Oq0zOx1YO!Y&ai~P'ZO|+YO!Y&ai~O!Y+ZO~OX(nOq0zOx1YO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~P'ZO|+^O!V%qO!W%pO!^&bi~O|+aO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~O!^+bO~Oc+dOq0zOx1YO!^&bi~P'ZO|+^O!^&bi~O!^+fO~OX+hOq0zOx1YO}&pa!^&pa!n&pa~P'ZO|+iO}&pa!^&pa!n&pa~O!_+lO&r+mO!^!oX~O!^+oO~O}({O!^+pO~O}({O!^+qO~O}({O!^+rO~O}({O!^+sO~OX&dOquOxvO}%uq!{%uq#j%uq%c%uq%f%uq&X%uq~P'ZO|$yi}$yi!{$yi#j$yi%c$yi%f$yi&X$yi~P$gOX&dOquOxvO~P'ZOX&dOq0zOx1YO#j%ua%c%ua%f%ua&X%ua~P'ZO|+tO#j%ua%c%ua%f%ua&X%ua~O|$la#j$la%c$la%f$lap$la~P$gO#j&^i%c&^i%f&^ip&^i~P'ZO|+wO#j#Zq%c#Zq%f#Zq~O|+xO#_+zO#j&yX%c&yX%f&yXi&yX~OX+|Oj)jO&SWO~O&SWO#j&zi%c&zi%f&zi~Oq0zOx1YO#j&vi%c&vi%f&vi}&vi~P'ZO}$[O|#hX!Y#hX~O|,QO!Y&{X~O!Y,SO~Ov,VO#m)yOP#kqX#kqh#kqj#kqq#kqu#kqx#kq!R#kq!S#kq!V#kq!W#kq!Z#kq!_#kq!j#kq!u#kq!v#kq!w#kq#O#kq#Q#kq#S#kq#U#kq#W#kq#[#kq#^#kq#a#kq#b#kq#d#kq#f#kq#o#kq#r#kq#v#kq#x#kq#}#kq$Q#kq$S#kq%`#kq%|#kq%}#kq&R#kq&S#kq&h#kq&i#kq&l#kq&o#kq&s#kq&t#kq&u#kq%b#kq%f#kq~Op%Ta|%Ta~P$gOX)}Op&}i~P'ZO|,^Op&}i~O|,hO}$wO#_,hO~O#t,jOP#qqX#qqh#qqj#qqq#qqu#qqx#qq!R#qq!S#qq!V#qq!W#qq!Z#qq!_#qq!j#qq!u#qq!v#qq!w#qq#O#qq#Q#qq#S#qq#U#qq#W#qq#[#qq#^#qq#a#qq#b#qq#d#qq#f#qq#o#qq#r#qq#v#qq#x#qq#}#qq$Q#qq$S#qq%`#qq%|#qq%}#qq&R#qq&S#qq&h#qq&i#qq&l#qq&o#qq&s#qq&t#qq&u#qq%b#qq%f#qq~O#_,kO|%Va}%Va~Oq0zOx1YO}'Oi~P'ZO|,mO}'Oi~O}$[O&X,oOi'QX|'QX~O&SWOi'QX|'QX~O|,sOi'PX~Oi,uO~O%a,xO~O!V%qO!W%pOi&di|&di~OX%[Oc%[Oq0zOx1YOi&ci~P'ZO},{O|$oa!Y$oa~Oq0zOx1YO},|O|$oa!Y$oa~P'ZOq0zOx1YO}*yO!Y&fi~P'ZO|-PO!Y&fi~Oq0zOx1YO|-PO!Y&fi~P'ZO|-PO}-SO!Y&fi~Oi$ki|$ki!Y$ki~P$gOX(_Oq0zOx1YO~P'ZOp-UO~OX(_Oi-VOq0zOx1YO~P'ZOX(_Oq0zOx1YO!Y&aq~P'ZO|$ji!^$ji#j$ji%c$ji%f$jii$ji}$ji!n$ji&X$ji~P$gOX(nOq0zOx1YO~P'ZOc+dOq0zOx1YO!^&bq~P'ZO|-WO!^&bq~O!^-XO~OX(nOq0zOx1YO!^&[q#j&[q%c&[q%f&[qi&[q}&[q!n&[q&X&[q~P'ZO}-YO~OX+hOq0zOx1YO}&pi!^&pi!n&pi~P'ZO|-_O}&pi!^&pi!n&pi~O!_+lO&r+mO!^!oa~OX&dOq0zOx1YO#j%ui%c%ui%f%ui&X%ui~P'ZO|-bO#j%ui%c%ui%f%ui&X%ui~O&SWO#j&ya%c&ya%f&yai&ya~O|-eO#j&ya%c&ya%f&yai&ya~Oi-hO~OX)rOc)rO&SWO!Y&{a~O|-jO!Y&{a~Op%Ti|%Ti~P$gOX)}O~P'ZOX)}Op&}q~P'ZOv-nOP#pyX#pyh#pyj#pyq#pyu#pyx#py!R#py!S#py!V#py!W#py!Z#py!_#py!j#py!u#py!v#py!w#py#O#py#Q#py#S#py#U#py#W#py#[#py#^#py#a#py#b#py#d#py#f#py#o#py#r#py#v#py#x#py#}#py$Q#py$S#py%`#py%|#py%}#py&R#py&S#py&h#py&i#py&l#py&o#py&s#py&t#py&u#py%b#py%f#py~O%b-rO%f-rO~P`O#t-sOP#qyX#qyh#qyj#qyq#qyu#qyx#qy!R#qy!S#qy!V#qy!W#qy!Z#qy!_#qy!j#qy!u#qy!v#qy!w#qy#O#qy#Q#qy#S#qy#U#qy#W#qy#[#qy#^#qy#a#qy#b#qy#d#qy#f#qy#o#qy#r#qy#v#qy#x#qy#}#qy$Q#qy$S#qy%`#qy%|#qy%}#qy&R#qy&S#qy&h#qy&i#qy&l#qy&o#qy&s#qy&t#qy&u#qy%b#qy%f#qy~O|-vO}$wO#_-vO~Oq0zOx1YO}'Oq~P'ZO|-yO}'Oq~O&X,oOi'Qa|'Qa~OX*fOc*gO&O*hO&SWOi'Pa~O|-}Oi'Pa~O$V.RO~OX%[Oc%[Oq0zOx1YO~P'ZOq0zOx1YO}.SO|$oi!Y$oi~P'ZOq0zOx1YO|$oi!Y$oi~P'ZO}.SO|$oi!Y$oi~Oq0zOx1YO}*yO~P'ZOq0zOx1YO}*yO!Y&fq~P'ZO|.VO!Y&fq~Oq0zOx1YO|.VO!Y&fq~P'ZOu.YO!V%qO!W%pOi&]q!Y&]q!^&]q|&]q~P!.TOc+dOq0zOx1YO!^&by~P'ZO|$mi!^$mi~P$gOc+dOq0zOx1YO~P'ZOX+hOq0zOx1YO~P'ZOX+hOq0zOx1YO}&pq!^&pq!n&pq~P'ZO}({O!^.^O!n._O~OX&dOq0zOx1YO#j%uq%c%uq%f%uq&X%uq~P'ZO#_.`O|%Oa#j%Oa%c%Oa%f%Oai%Oa~O&SWO#j&yi%c&yi%f&yii&yi~O|.bO#j&yi%c&yi%f&yii&yi~OX)rOc)rO&SWO!Y&{i~Ov.fOP#p!RX#p!Rh#p!Rj#p!Rq#p!Ru#p!Rx#p!R!R#p!R!S#p!R!V#p!R!W#p!R!Z#p!R!_#p!R!j#p!R!u#p!R!v#p!R!w#p!R#O#p!R#Q#p!R#S#p!R#U#p!R#W#p!R#[#p!R#^#p!R#a#p!R#b#p!R#d#p!R#f#p!R#o#p!R#r#p!R#v#p!R#x#p!R#}#p!R$Q#p!R$S#p!R%`#p!R%|#p!R%}#p!R&R#p!R&S#p!R&h#p!R&i#p!R&l#p!R&o#p!R&s#p!R&t#p!R&u#p!R%b#p!R%f#p!R~Oq0zOx1YO}'Oy~P'ZOX*fOc*gO&O*hO&SWOi'Pi~O$V.RO%b.nO%f.nO~OX.xOj.vO!Z.uO!_.wO!j.qO!v.sO!w.sO%}.pO&SWO&h]O&i^O&l_O~Oq0zOx1YO|$oq!Y$oq~P'ZO}.}O|$oq!Y$oq~Oq0zOx1YO}*yO!Y&fy~P'ZO|/OO!Y&fy~Oq0zOx/SO~P'ZOu.YO!V%qO!W%pOi&]y!Y&]y!^&]y|&]y~P!.TO}({O!^/VO~O&SWO#j&yq%c&yq%f&yqi&yq~O|/XO#j&yq%c&yq%f&yqi&yq~OX*fOc*gO&O*hO&SWO~Oj/^O!h/[O|$WX#_$WX%w$WXi$WX~Ou$WX}$WX!Y$WX!^$WX~P$&lO%|/`O%}/`Ou$XX|$XX}$XX#_$XX%w$XX!Y$XXi$XX!^$XX~O!j/bO~O|/fO#_/hO%w/cOu'SX}'SX!Y'SXi'SX~Oc/kO~P$!|Oj/^Ou'TX|'TX}'TX#_'TX%w'TX!Y'TXi'TX!^'TX~Ou/oO}$wO~Oq0zOx1YO|$oy!Y$oy~P'ZOq0zOx1YO}*yO!Y&f!R~P'ZO|/sO!Y&f!R~Oi&`Xu&`X!V&`X!W&`X!Y&`X!^&`X|&`X~P!.TOu.YO!V%qO!W%pOi&_a!Y&_a!^&_a|&_a~O&SWO#j&yy%c&yy%f&yyi&yy~O!h/[Oj$_au$_a|$_a}$_a#_$_a%w$_a!Y$_ai$_a!^$_a~O!j/|O~O%|/`O%}/`Ou$Xa|$Xa}$Xa#_$Xa%w$Xa!Y$Xai$Xa!^$Xa~O%w/cOu$]a|$]a}$]a#_$]a!Y$]ai$]a!^$]a~Ou'Sa}'Sa!Y'Sai'Sa~P$!pO|0ROu'Sa}'Sa!Y'Sai'Sa~O!Y0UO~Oi0UO~O}0WO~O!^0XO~Oq0zOx1YO}*yO!Y&f!Z~P'ZO}0[O~O&X0]O~P$&lO|0^O#_/hO%w/cOi'VX~O|0^Oi'VX~Oi0`O~O!j0aO~O#_/hOu%Za|%Za}%Za%w%Za!Y%Zai%Za!^%Za~O#_/hO%w/cOu%_a|%_a}%_a!Y%_ai%_a~Ou'Si}'Si!Y'Sii'Si~P$!pO|0cO#_/hO%w/cO!^'Ua~O}$ga~P$gOi'Va~P$!pO|0kOi'Va~Oc0mO!^'Ui~P$!|O|0oO!^'Ui~O|0oO#_/hO%w/cO!^'Ui~O#_/hO%w/cOi$ei|$ei~O&X0rO~P$&lO#_/hO%w/cOi%^a|%^a~Oi'Vi~P$!pO}0uO~Oc0mO!^'Uq~P$!|O|0wO!^'Uq~O#_/hO%w/cO|%]i!^%]i~Oc0mO~P$!|Oc0mO!^'Uy~P$!|O#_/hO%w/cOi$fi|$fi~O#_/hO%w/cO|%]q!^%]q~O|+tO#j%ua%c%ua%f%ua&X%ua~P$gOX&dOq0zOx1YO~P'ZOp1PO~Oq1PO~P'ZO}1QO~Ov1RO~P!.TO&i&l&t&u&h&o&s&S&h~",goto:"!?b'WPPPPPPPP'XP'a*|+f,P,k-W-tP.cP'a/S/S'aPPP'a2oPPPPPP2o5fPP5fP7y8S>fPP>i?Z?^PP'a'aPP?vPP'a'aPP'a'a'a'a'a?z@t'aP@wP@}EXHxPH|IYI^IbIf'aPPPIjIs'XP'X'XP'XP'XP'XP'XP'X'X'XP'XPP'XPP'XP'XPIyJVJ_PJfJlPJfPJfJfPPPJfPLzPMTM_MeLzPJfMnPJfPMuM{PNPNe! S! mNPNP! s!!QNPNPNPNP!!f!!l!!o!!t!!w!#R!#X!#e!#w!#}!$X!$_!${!%R!%X!%_!%i!%o!%u!%{!&R!&X!&k!&u!&{!'R!'X!'c!'i!'o!'u!'{!(V!(]!(g!(m!(v!(|!)]!)e!)o!)vPPPPPPPPPPPPPPPPP!)|!*P!*V!*`!*j!*uPPPPPPPPPPPP!/l!1Q!5T!8hPP!8p!9S!9]!:U!9{!:_!:e!:h!:k!:n!:v!;gPPPPPPPPP!;j!;yPPPP!<i!<u!=R!=X!=b!=e!=h!=n!=t!=z!=}P!>V!>`!?[!?_]jOs#v$w*W,d(TeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z}!hQ#r$P$b$q$}%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!P!iQ#r$P$b$q$}%S%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!R!jQ#r$P$b$q$}%S%T%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!T!kQ#r$P$b$q$}%S%T%U%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!V!lQ#r$P$b$q$}%S%T%U%V%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!X!mQ#r$P$b$q$}%S%T%U%V%W%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!]!mQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O(TTOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z&iVOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1Z%sXOYZ[isw}!O!S!U!V!Z!n!p#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$VvQ/t/SR1W1Y'zeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZW#ym!P!Q$hW$Rv&q/S1YQ$j!RQ$n!TQ${![Q$|!]W%Z!n(O*v,zS&p$S$TQ'e$vQ)Y&jQ)h'QU)i'S)j)kU)l'U)m+}W)s'Y,Q-j.dQ*d'nW*e'p,s-}.lQ,P)rS,r*f*gY-d+x-e.a.b/XQ-g+zQ-t,hQ-x,kQ.j-vl.o.R.u.v.x/d/f/k0R0W0]0b0m0r0uQ/W.`Q/l.wQ/x/^Q0T/hU0h0^0k0sX0n0c0o0v0wR&o$R!_!|YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sR%k!{Q#QYQ&W#cQ&Z#gQ&]#jQ&_#mQ&x$^Q&{$aR-`+lT/R.Y0[![!oQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OQ&m#zQ't$|R*p'uR'}%ZQ%d!rR/v/[(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZS#pd#q!P.s.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0w(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZT#pd#qT#d`#ee(|&W&Z&]&_)O)Q)S)U-`._T+m({+nT#ha#iT#kb#lT#nc#oQ$`xQ,P)sR,q*eX$^x$_$`&zQ'[$nQ'r${Q'u$|R*V'eQ)t'YV-i,Q-j.dZlOs$w*W,dXpOs*W,dQ$x!YQ']$oQ'^$pQ'o$zQ's$|Q*T'dQ*['iQ*_'jQ*`'kQ*m'qS*o't'uQ,W)yQ,Y)zQ,Z){Q,_*RS,a*U*nQ,e*YQ,f*ZS,g*]*^Q,w*pQ-l,VQ-m,XQ-o,`S-p,b,cQ-u,iQ-w,jQ.e-nQ.g-qQ.h-sQ.i-tQ/Y.fQ/Z.jQ/p.{R0Z/qWpOs*W,dR#|oQ'q${S*U'e'rR,c*VQ,p*eR-{,qQ*n'qQ,b*UR-q,cZnOos*W,dQ'w$}R*r'xT.P,x.Qu.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0ut.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uQ/l.wX0n0c0o0v0w!P.r.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0wQ/a.qR/}/bg/d.t/e/y0Q0V0e0g0i0t0x0yu.y.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uX/_.o.y/x0hR/z/^V0j0^0k0sR/q.{QsOS$Os,dR,d*WQ&r$UR)_&rS%z#W$WS(p%z(sT(s%}&tQ%n#OQ%u#SW(b%n%u(g(kQ(g%rR(k%wQ&}$bR)e&}Q(v&OQ+_(qT+e(v+_Q(P%]R*w(PS(S%`%aY*{(S*|-Q.W/PU*|(T(U(VU-Q*}+O+PS.W-R-SR/P.XQ#_^R&R#_Q#b_R&T#bQ#e`R&X#eQ(y&US+j(y+kR+k(zQ+n({R-a+nQ#iaR&[#iQ#lbR&^#lQ#ocR&`#oQ#qdR&a#qQ#tgQ&c#rW&f#t&c)b+uQ)b&wR+u1OQ$_xS&y$_&zR&z$`Q'X$lR)q'XQ&k#yR)Z&kQ$h!QR'R$hQ+y)iS-f+y.cR.c-gQ'V$jR)n'VQ,R)tR-k,RQ#wkR&h#wQ)x']R,U)xQ'`$qS*P'`*QR*Q'aQ'h$xR*X'hQ'm$yS*c'm,nR,n*dQ,t*iR.O,tWoOs*W,dR#{oQ.Q,xR.m.Qd/e.t/y0Q0V0e0g0i0t0x0yR0P/eU/].o/x0hR/w/]Q0d0VS0p0d0qR0q0eS0_/y/zR0l0_Q/g.tR0S/gR!`PXrOs*W,dWqOs*W,dR'f$wYkOs$w*W,dR&g#v[xOs#v$w*W,dR&x$^&hQOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1ZQ!sTQ#rfQ$PtU$by%p(eS$q!W$tQ$}!^Q%S!hQ%T!iQ%U!jQ%V!kQ%W!lQ%X!mQ%r#PQ%w#TQ%}#XQ&O#YQ&t$XQ'a$rQ'x%OQ)W&dU)c&|)d+vW)|'_*O,],^Q+R(_Q+[(nQ,[)}Q-Z+dQ0Y/oR1O1TQ#OYQ#SZQ$o!UQ$p!VQ%`!pQ(V%a^(^%m%t(a(i+T+W+Y^*x(R*z-O-P.V/O/sQ+O(TQ+P(UQ,X)yQ,}*yQ-R*}Q.T,{Q.U,|Q.X-SQ.|.SR/r.}[gOs#v$w*W,d!^!{YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sQ#W[Q#uiS$Ww}Q$e!OW$l!S$a'b*SS$y!Z$uW%Y!n(O*v,zY&U#c#g#j#m+l`&e#s&b)V)X)a+t-b1SQ&u$YQ&v$[Q&w$^Q'{%[Q(]%kW(m%y(o+]+aQ(q%{Q(z&VQ)]&oS)`&s1QQ)f'OQ)g'PU)o'W)p,OQ)v'ZQ*]'iY*a'l*b,l,m-yQ*t'}S+Q(Y1RW+c(u+^-W-[W+g(x+i-^-_Q,T)wQ,i*^Q,v*lQ-]+hQ-c+wQ-z,pQ.]-YR.k-{hUOs#s#v$w&b&s(Y)V)X*W,d%Y!zYZ[iw}!O!S!U!V!Z!n!p#c#g#j#m$Y$[$^$a$u%[%a%k%m%t%y%{&V&o'O'P'W'Z'b'i'l'}(O(R(T(U(a(i(o(u(x)a)p)w)y*S*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$QuW%e!t!x0{1VQ%f!uQ%g!vQ%i!yQ%s0zS(X%h1PQ(Z0|Q([0}Q-T+UQ.[-US/Q.Y0[R1X1ZU$Uv/S1YR)^&q[hOs#v$w*W,da!}Y#c#g#j#m$^$a+lQ#][Q$ZwR$d}Q%o#OQ%v#SQ%|#WQ'{%YQ(h%rQ(l%wQ(t%}Q(w&OQ+`(qQ,y*tQ.Z-TQ/U.[R/u/TQ$cyQ(d%pR+V(eQ/T.YR0f0[R#VZR#[[R%_!nQ%]!nV*u(O*v,z!]!qQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OR%b!pQ&W#cQ&Z#gQ&]#jQ&_#mR-`+lQ(}&WQ)P&ZQ)R&]Q)T&_Q+p)OQ+q)QQ+r)SQ+s)UQ.^-`R/V._Q$m!SQ&{$aQ*R'bR,`*SQ#zmQ$f!PQ$i!QR'T$hQ)h'SR+|)kQ)h'SQ+{)jR+|)kR$k!RR)u'YXqOs*W,dQ$s!WR'c$tQ$z!ZR'd$uR*k'pQ*i'pV-|,s-}.lQ.{.RQ/i.uR/j.vU.t.R.u.vQ/n.xQ/y/^Q0O/dU0Q/f0R0bQ0V/kQ0e0WQ0g0]U0i0^0k0sQ0t0mQ0x0rR0y0uR/m.wR/{/^",nodeNames:" print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec FormatReplacement FormatReplacement FormatReplacement FormatReplacement ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:283,context:xEe,nodeProps:[["group",-15,8,88,90,91,93,95,97,99,101,102,103,105,108,111,113,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,82,83,84,85,"Expression",-10,117,119,122,124,125,129,131,136,138,141,"Statement",-9,146,147,150,151,153,154,155,156,157,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[AEe],skippedNodes:[0,6],repeatNodeCount:38,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&r!b&jSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&r!b&jSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&r!b&jSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&r!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&r!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&r!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&r!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&r!b&mWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&r!b&mWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&r!b&mWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&r!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&r!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&r!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&r!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&jSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&jSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&mWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&mWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&r!b&jS&mW%p!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&r!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!nR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&r!b&jS&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&r!b&jS&hsOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&r!b&mW&hsOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&r!b&hsOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&r!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&hsOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&r!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&jS&hsOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&r!b&jS&hsOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&nW&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&r!b&jS&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&r!b&jSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&r!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&r!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&jSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&r!b&mWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&r!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&mWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&r!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&jS&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_&PQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]!{r&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_%yQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&r!b&jS&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&r!b&jS&hsOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&r!b&hsOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&r!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&hsOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&r!b&mW&hsOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&r!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&mW&hsOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&r!b&mW&hsOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&kS&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&r!b&jS&mWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_%|s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`%}s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]'R`&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!us&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&r!b&jS&mWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja&OR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_&QQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_%zQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&Xs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_%{Q&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ$QP&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&r!b&jS&mW&g`&SsOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&r!b&jS&hsOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&r!b&mW&hsOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&r!b&jS&ssOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&r!b&jSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&r!b&jS&usOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&r!b&mW&osOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&r!b&mWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&r!b&mW&tsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%xQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%wR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]&Rq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[SEe,yEe,vEe,wEe,TEe,CEe,kEe,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:234,get:t=>PEe[t]||-1}],tokenPrec:7372}),yhe=new wie,pye=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function kZ(t){return(e,r,a)=>{if(a)return!1;let i=e.node.getChild("VariableName");return i&&r(i,t),!0}}const EEe={FunctionDefinition:kZ("function"),ClassDefinition:kZ("class"),ForStatement(t,e,r){if(r){for(let a=t.node.firstChild;a;a=a.nextSibling)if(a.name=="VariableName")e(a,"variable");else if(a.name=="in")break}},ImportStatement(t,e){var r,a;let{node:i}=t,d=((r=i.firstChild)===null||r===void 0?void 0:r.name)=="from";for(let f=i.getChild("import");f;f=f.nextSibling)f.name=="VariableName"&&((a=f.nextSibling)===null||a===void 0?void 0:a.name)!="as"&&e(f,d?"variable":"namespace")},AssignStatement(t,e){for(let r=t.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name==":"||r.name=="AssignOp")break},ParamList(t,e){for(let r=null,a=t.node.firstChild;a;a=a.nextSibling)a.name=="VariableName"&&(!r||!/\*|AssignOp/.test(r.name))&&e(a,"variable"),r=a},CapturePattern:kZ("variable"),AsPattern:kZ("variable"),__proto__:null};function vye(t,e){let r=yhe.get(e);if(r)return r;let a=[],i=!0;function d(f,h){let c=t.sliceString(f.from,f.to);a.push({label:c,type:h})}return e.cursor(yl.IncludeAnonymous).iterate(f=>{if(f.name){let h=EEe[f.name];if(h&&h(f,d,i)||!i&&pye.has(f.name))return!1;i=!1}else if(f.to-f.from>8192){for(let h of vye(t,f.node))a.push(h);return!1}}),yhe.set(e,a),a}const bhe=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,yye=["String","FormatString","Comment","PropertyName"];function _Ee(t){let e=ol(t.state).resolveInner(t.pos,-1);if(yye.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&bhe.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let a=[];for(let i=e;i;i=i.parent)pye.has(i.name)&&(a=a.concat(vye(t.state.doc,i)));return{options:a,from:r?e.from:t.pos,validFor:bhe}}const REe=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(t=>({label:t,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(t=>({label:t,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(t=>({label:t,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(t=>({label:t,type:"function"}))),DEe=[pc("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),pc("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),pc("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),pc("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),pc(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),pc("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),pc("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),pc("import ${module}",{label:"import",detail:"statement",type:"keyword"}),pc("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],$Ee=Qie(yye,LU(REe.concat(DEe)));function Ohe(t,e){let r=t.baseIndentFor(e),a=t.lineAt(t.pos,-1),i=a.from+a.text.length;return/^\s*($|#)/.test(a.text)&&t.node.to<i+100&&!/\S/.test(t.state.sliceDoc(i,t.node.to))&&t.lineIndent(t.pos,-1)<=r||/^\s*(else:|elif |except |finally:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>r?null:r+t.unit}const aoe=ES.define({name:"python",parser:MEe.configure({props:[H3.add({Body:t=>{var e;return(e=Ohe(t,t.node))!==null&&e!==void 0?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except |finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":KZ({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":KZ({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":KZ({closing:"]"}),"String FormatString":()=>null,Script:t=>{if(t.pos+/\s*/.exec(t.textAfter)[0].length>=t.node.to){let e=null;for(let r=t.node,a=r.to;r=r.lastChild,!(!r||r.to!=a);)r.type.name=="Body"&&(e=r);if(e){let r=Ohe(t,e);if(r!=null)return r}}return t.continue()}}),BS.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Mie,Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function xhe(){return new B3(aoe,[aoe.data.of({autocomplete:_Ee}),aoe.data.of({autocomplete:$Ee})])}const LEe="#e5c07b",She="#e06c75",IEe="#56b6c2",NEe="#ffffff",eH="#abb2bf",Gse="#7d8799",BEe="#61afef",QEe="#98c379",whe="#d19a66",FEe="#c678dd",VEe="#21252b",The="#2c313a",Che="#282c34",ioe="#353a42",zEe="#3E4451",khe="#528bff",ZEe=Xo.theme({"&":{color:eH,backgroundColor:Che},".cm-content":{caretColor:khe},".cm-cursor, .cm-dropCursor":{borderLeftColor:khe},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:zEe},".cm-panels":{backgroundColor:VEe,color:eH},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Che,color:Gse,border:"none"},".cm-activeLineGutter":{backgroundColor:The},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ioe},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ioe,borderBottomColor:ioe},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:The,color:eH}}},{dark:!0}),HEe=K$.define([{tag:Qt.keyword,color:FEe},{tag:[Qt.name,Qt.deleted,Qt.character,Qt.propertyName,Qt.macroName],color:She},{tag:[Qt.function(Qt.variableName),Qt.labelName],color:BEe},{tag:[Qt.color,Qt.constant(Qt.name),Qt.standard(Qt.name)],color:whe},{tag:[Qt.definition(Qt.name),Qt.separator],color:eH},{tag:[Qt.typeName,Qt.className,Qt.number,Qt.changed,Qt.annotation,Qt.modifier,Qt.self,Qt.namespace],color:LEe},{tag:[Qt.operator,Qt.operatorKeyword,Qt.url,Qt.escape,Qt.regexp,Qt.link,Qt.special(Qt.string)],color:IEe},{tag:[Qt.meta,Qt.comment],color:Gse},{tag:Qt.strong,fontWeight:"bold"},{tag:Qt.emphasis,fontStyle:"italic"},{tag:Qt.strikethrough,textDecoration:"line-through"},{tag:Qt.link,color:Gse,textDecoration:"underline"},{tag:Qt.heading,fontWeight:"bold",color:She},{tag:[Qt.atom,Qt.bool,Qt.special(Qt.variableName)],color:whe},{tag:[Qt.processingInstruction,Qt.string,Qt.inserted],color:QEe},{tag:Qt.invalid,color:NEe}]),pM=[ZEe,J0e(HEe)];function zr(t,e){return r=>Object.keys(t).reduce((a,i)=>{const f=typeof t[i]=="object"&&t[i]!=null&&!Array.isArray(t[i])?t[i]:{type:t[i]};return r&&i in r?a[i]={...f,default:r[i]}:a[i]=f,e&&!a[i].source&&(a[i].source=e),a},{})}const fa=zr({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),zl=typeof window<"u",Gie=zl&&"IntersectionObserver"in window,UEe=zl&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function bye(t,e,r){const a=e.length-1;if(a<0)return t===void 0?r:t;for(let i=0;i<a;i++){if(t==null)return r;t=t[e[i]]}return t==null||t[e[a]]===void 0?r:t[e[a]]}function U3(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const r=Object.keys(t);return r.length!==Object.keys(e).length?!1:r.every(a=>U3(t[a],e[a]))}function V3(t,e,r){return t==null||!e||typeof e!="string"?r:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),bye(t,e.split("."),r))}function sm(t,e,r){if(e===!0)return t===void 0?r:t;if(e==null||typeof e=="boolean")return r;if(t!==Object(t)){if(typeof e!="function")return r;const i=e(t,r);return typeof i>"u"?r:i}if(typeof e=="string")return V3(t,e,r);if(Array.isArray(e))return bye(t,e,r);if(typeof e!="function")return r;const a=e(t,r);return typeof a>"u"?r:a}function vM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(r,a)=>e+a)}function cs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function jse(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function qse(t){return t&&"$el"in t?t.$el:t}const Ahe=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),WEe=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function loe(t,e){return e.every(r=>t.hasOwnProperty(r))}function yM(t,e,r){const a=Object.create(null),i=Object.create(null);for(const d in t)e.some(f=>f instanceof RegExp?f.test(d):f===d)&&!(r!=null&&r.some(f=>f===d))?a[d]=t[d]:i[d]=t[d];return[a,i]}function LM(t,e){const r={...t};return e.forEach(a=>delete r[a]),r}const Oye=/^on[^a-z]/,jie=t=>Oye.test(t),YEe=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function qie(t){const[e,r]=yM(t,[Oye]),a=LM(e,YEe),[i,d]=yM(r,["class","style","id",/^data-/]);return Object.assign(i,e),Object.assign(d,a),[i,d]}function gh(t){return t==null?[]:Array.isArray(t)?t:[t]}function Mp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(r,t))}function Phe(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function Mhe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+r.repeat(Math.max(0,e-t.length))}function XEe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let a=0;for(;a<t.length;)r.push(t.substr(a,e)),a+=e;return r}function wp(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const a={};for(const i in t)a[i]=t[i];for(const i in e){const d=t[i],f=e[i];if(jse(d)&&jse(f)){a[i]=wp(d,f,r);continue}if(Array.isArray(d)&&Array.isArray(f)&&r){a[i]=r(d,f);continue}a[i]=f}return a}function xye(t){return t.map(e=>e.type===Go?xye(e.children):e).flat()}function L3(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(L3.cache.has(t))return L3.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return L3.cache.set(t,e),e}L3.cache=new Map;function jD(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(r=>jD(t,r)).flat(1);if(Array.isArray(e.children))return e.children.map(r=>jD(t,r)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return jD(t,e.component.subTree).flat(1)}return[]}function Kie(t){const e=dh({}),r=en(t);return fm(()=>{for(const a in r.value)e[a]=r.value[a]},{flush:"sync"}),yU(e)}function BH(t,e){return t.includes(e)}function Sye(t){return t[2].toLowerCase()+t.slice(3)}const ny=()=>[Function,Array];function Ehe(t,e){return e="on"+CO(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function wye(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];if(Array.isArray(t))for(const i of t)i(...r);else typeof t=="function"&&t(...r)}function QH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(a=>`${a}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(r)]}function Tye(t,e,r){let a,i=t.indexOf(document.activeElement);const d=e==="next"?1:-1;do i+=d,a=t[i];while((!a||a.offsetParent==null||!((r==null?void 0:r(a))??!0))&&i<t.length&&i>=0);return a}function FH(t,e){var a,i,d,f;const r=QH(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((a=r[0])==null||a.focus());else if(e==="first")(i=r[0])==null||i.focus();else if(e==="last")(d=r.at(-1))==null||d.focus();else if(typeof e=="number")(f=r[e])==null||f.focus();else{const h=Tye(r,e);h?h.focus():FH(t,e==="next"?"first":"last")}}function AZ(t){return t==null||typeof t=="string"&&t.trim()===""}function Cye(){}function bM(t,e){if(!(zl&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}const kye=["top","bottom"],GEe=["start","end","left","right"];function Kse(t,e){let[r,a]=t.split(" ");return a||(a=BH(kye,r)?"start":BH(GEe,r)?"top":"center"),{side:_he(r,e),align:_he(a,e)}}function _he(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function coe(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function uoe(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Rhe(t){return{side:t.align,align:t.side}}function Dhe(t){return BH(kye,t.side)?"y":"x"}class aM{constructor(e){let{x:r,y:a,width:i,height:d}=e;this.x=r,this.y=a,this.width=i,this.height=d}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function $he(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function Jie(t){const e=t.getBoundingClientRect(),r=getComputedStyle(t),a=r.transform;if(a){let i,d,f,h,c;if(a.startsWith("matrix3d("))i=a.slice(9,-1).split(/, /),d=+i[0],f=+i[5],h=+i[12],c=+i[13];else if(a.startsWith("matrix("))i=a.slice(7,-1).split(/, /),d=+i[0],f=+i[3],h=+i[4],c=+i[5];else return new aM(e);const g=r.transformOrigin,v=e.x-h-(1-d)*parseFloat(g),y=e.y-c-(1-f)*parseFloat(g.slice(g.indexOf(" ")+1)),b=d?e.width/d:t.offsetWidth+1,O=f?e.height/f:t.offsetHeight+1;return new aM({x:v,y,width:b,height:O})}else return new aM(e)}function XP(t,e,r){if(typeof t.animate>"u")return{finished:Promise.resolve()};let a;try{a=t.animate(e,r)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(i=>{a.onfinish=()=>{i(a)}})),a}const tH=new WeakMap;function jEe(t,e){Object.keys(e).forEach(r=>{if(jie(r)){const a=Sye(r),i=tH.get(t);if(e[r]==null)i==null||i.forEach(d=>{const[f,h]=d;f===a&&(t.removeEventListener(a,h),i.delete(d))});else if(!i||![...i].some(d=>d[0]===a&&d[1]===e[r])){t.addEventListener(a,e[r]);const d=i||new Set;d.add([a,e[r]]),tH.has(t)||tH.set(t,d)}}else e[r]==null?t.removeAttribute(r):t.setAttribute(r,e[r])})}function qEe(t,e){Object.keys(e).forEach(r=>{if(jie(r)){const a=Sye(r),i=tH.get(t);i==null||i.forEach(d=>{const[f,h]=d;f===a&&(t.removeEventListener(a,h),i.delete(d))})}else t.removeAttribute(r)})}const QP=2.4,Lhe=.2126729,Ihe=.7151522,Nhe=.072175,KEe=.55,JEe=.58,e_e=.57,t_e=.62,PZ=.03,Bhe=1.45,n_e=5e-4,r_e=1.25,o_e=1.25,Qhe=.078,Fhe=12.82051282051282,MZ=.06,Vhe=.001;function zhe(t,e){const r=(t.r/255)**QP,a=(t.g/255)**QP,i=(t.b/255)**QP,d=(e.r/255)**QP,f=(e.g/255)**QP,h=(e.b/255)**QP;let c=r*Lhe+a*Ihe+i*Nhe,g=d*Lhe+f*Ihe+h*Nhe;if(c<=PZ&&(c+=(PZ-c)**Bhe),g<=PZ&&(g+=(PZ-g)**Bhe),Math.abs(g-c)<n_e)return 0;let v;if(g>c){const y=(g**KEe-c**JEe)*r_e;v=y<Vhe?0:y<Qhe?y-y*Fhe*MZ:y-MZ}else{const y=(g**t_e-c**e_e)*o_e;v=y>-Vhe?0:y>-Qhe?y-y*Fhe*MZ:y+MZ}return v*100}function s_e(t,e){e=Array.isArray(e)?e.slice(0,-1).map(r=>`'${r}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const VH=.20689655172413793,a_e=t=>t>VH**3?Math.cbrt(t):t/(3*VH**2)+4/29,i_e=t=>t>VH?t**3:3*VH**2*(t-4/29);function Aye(t){const e=a_e,r=e(t[1]);return[116*r-16,500*(e(t[0]/.95047)-r),200*(r-e(t[2]/1.08883))]}function Pye(t){const e=i_e,r=(t[0]+16)/116;return[e(r+t[1]/500)*.95047,e(r),e(r-t[2]/200)*1.08883]}const l_e=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],c_e=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,u_e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],f_e=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function Mye(t){const e=Array(3),r=c_e,a=l_e;for(let i=0;i<3;++i)e[i]=Math.round(Mp(r(a[i][0]*t[0]+a[i][1]*t[1]+a[i][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function ele(t){let{r:e,g:r,b:a}=t;const i=[0,0,0],d=f_e,f=u_e;e=d(e/255),r=d(r/255),a=d(a/255);for(let h=0;h<3;++h)i[h]=f[h][0]*e+f[h][1]*r+f[h][2]*a;return i}function Zhe(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}const Hhe=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,d_e={rgb:(t,e,r,a)=>({r:t,g:e,b:r,a}),rgba:(t,e,r,a)=>({r:t,g:e,b:r,a}),hsl:(t,e,r,a)=>Uhe({h:t,s:e,l:r,a}),hsla:(t,e,r,a)=>Uhe({h:t,s:e,l:r,a}),hsv:(t,e,r,a)=>E$({h:t,s:e,v:r,a}),hsva:(t,e,r,a)=>E$({h:t,s:e,v:r,a})};function K1(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&Hhe.test(t)){const{groups:e}=t.match(Hhe),{fn:r,values:a}=e,i=a.split(/,\s*/).map(d=>d.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(r)?parseFloat(d)/100:parseFloat(d));return d_e[r](...i)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(r=>r+r).join(""):[6,8].includes(e.length),m_e(e)}else if(typeof t=="object"){if(loe(t,["r","g","b"]))return t;if(loe(t,["h","s","l"]))return E$(Eye(t));if(loe(t,["h","s","v"]))return E$(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function E$(t){const{h:e,s:r,v:a,a:i}=t,d=h=>{const c=(h+e/60)%6;return a-a*r*Math.max(Math.min(c,4-c,1),0)},f=[d(5),d(3),d(1)].map(h=>Math.round(h*255));return{r:f[0],g:f[1],b:f[2],a:i}}function Uhe(t){return E$(Eye(t))}function Eye(t){const{h:e,s:r,l:a,a:i}=t,d=a+r*Math.min(a,1-a),f=d===0?0:2-2*a/d;return{h:e,s:f,v:d,a:i}}function EZ(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function h_e(t){let{r:e,g:r,b:a,a:i}=t;return`#${[EZ(e),EZ(r),EZ(a),i!==void 0?EZ(Math.round(i*255)):""].join("")}`}function m_e(t){t=g_e(t);let[e,r,a,i]=XEe(t,2).map(d=>parseInt(d,16));return i=i===void 0?i:i/255,{r:e,g:r,b:a,a:i}}function g_e(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=Mhe(Mhe(t,6),8,"F")),t}function p_e(t,e){const r=Aye(ele(t));return r[0]=r[0]+e*10,Mye(Pye(r))}function v_e(t,e){const r=Aye(ele(t));return r[0]=r[0]-e*10,Mye(Pye(r))}function y_e(t){const e=K1(t);return ele(e)[1]}function _ye(t){const e=Math.abs(zhe(K1(0),K1(t)));return Math.abs(zhe(K1(16777215),K1(t)))>Math.min(e,50)?"#fff":"#000"}const OM=Symbol.for("vuetify:defaults");function b_e(t){return Vo(t)}function tle(){const t=Ra(OM);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function ly(t,e){const r=tle(),a=Vo(t),i=en(()=>{if(Sf(e==null?void 0:e.disabled))return r.value;const f=Sf(e==null?void 0:e.scoped),h=Sf(e==null?void 0:e.reset),c=Sf(e==null?void 0:e.root);if(a.value==null&&!(f||h||c))return r.value;let g=wp(a.value,{prev:r.value});if(f)return g;if(h||c){const v=Number(h||1/0);for(let y=0;y<=v&&!(!g||!("prev"in g));y++)g=g.prev;return g&&typeof c=="string"&&c in g&&(g=wp(wp(g,{prev:g}),g[c])),g}return g.prev?wp(g.prev,g):g});return Cl(OM,i),i}function O_e(t,e){var r,a;return typeof((r=t.props)==null?void 0:r[e])<"u"||typeof((a=t.props)==null?void 0:a[L3(e)])<"u"}function x_e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tle();const a=Tf("useDefaults");if(e=e??a.type.name??a.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const i=en(()=>{var c;return(c=r.value)==null?void 0:c[t._as??e]}),d=new Proxy(t,{get(c,g){var y,b,O,C;const v=Reflect.get(c,g);return g==="class"||g==="style"?[(y=i.value)==null?void 0:y[g],v].filter(k=>k!=null):typeof g=="string"&&!O_e(a.vnode,g)?((b=i.value)==null?void 0:b[g])??((C=(O=r.value)==null?void 0:O.global)==null?void 0:C[g])??v:v}}),f=fs();fm(()=>{if(i.value){const c=Object.entries(i.value).filter(g=>{let[v]=g;return v.startsWith(v[0].toUpperCase())});f.value=c.length?Object.fromEntries(c):void 0}else f.value=void 0});function h(){const c=k_e(OM,a);Cl(OM,en(()=>f.value?wp((c==null?void 0:c.value)??{},f.value):c==null?void 0:c.value))}return{props:d,provideSubDefaults:h}}function IM(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=zr(t.props??{},t.name)();const e=Object.keys(t.props);t.filterProps=function(a){return yM(a,e,["class","style"])},t.props._as=String,t.setup=function(a,i){const d=tle();if(!d.value)return t._setup(a,i);const{props:f,provideSubDefaults:h}=x_e(a,a._as??t.name,d),c=t._setup(f,i);return h(),c}}return t}function qo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?IM:Z3)(e)}function S_e(t,e){return e.props=t,e}function NM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return qo()({name:r??CO(Ep(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...fa()},setup(a,i){let{slots:d}=i;return()=>{var f;return ph(a.tag,{class:[t,a.class],style:a.style},(f=d.default)==null?void 0:f.call(d))}}})}function Rye(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const zH="cubic-bezier(0.4, 0, 0.2, 1)",w_e="cubic-bezier(0.0, 0, 0.2, 1)",T_e="cubic-bezier(0.4, 0, 1, 1)";function Tf(t,e){const r=iie();if(!r)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return r}function PO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Tf(t).type;return L3((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let Dye=0,nH=new WeakMap;function jv(){const t=Tf("getUid");if(nH.has(t))return nH.get(t);{const e=Dye++;return nH.set(t,e),e}}jv.reset=()=>{Dye=0,nH=new WeakMap};function $ye(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?C_e(t):nle(t))return t;t=t.parentElement}return document.scrollingElement}function ZH(t,e){const r=[];if(e&&t&&!e.contains(t))return r;for(;t&&(nle(t)&&r.push(t),t!==e);)t=t.parentElement;return r}function nle(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function C_e(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function k_e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tf("injectSelf");const{provides:r}=e;if(r&&t in r)return r[t]}function A_e(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function Cs(t){const e=Tf("useRender");e.render=t}function VU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=Vo(),a=Vo();if(zl){const i=new ResizeObserver(d=>{t==null||t(d,i),d.length&&(e==="content"?a.value=d[0].contentRect:a.value=d[0].target.getBoundingClientRect())});dm(()=>{i.disconnect()}),zo(r,(d,f)=>{f&&(i.unobserve(qse(f)),a.value=void 0),d&&i.observe(qse(d))},{flush:"post"})}return{resizeRef:r,contentRect:H$(a)}}const HH=Symbol.for("vuetify:layout"),Lye=Symbol.for("vuetify:layout-item"),Whe=1e3,P_e=zr({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),M_e=zr({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function E_e(){const t=Ra(HH);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function __e(t){const e=Ra(HH);if(!e)throw new Error("[Vuetify] Could not find injected layout");const r=t.id??`layout-item-${jv()}`,a=Tf("useLayoutItem");Cl(Lye,{id:r});const i=fs(!1);Jae(()=>i.value=!0),Kae(()=>i.value=!1);const{layoutItemStyles:d,layoutItemScrimStyles:f}=e.register(a,{...t,active:en(()=>i.value?!1:t.active.value),id:r});return dm(()=>e.unregister(r)),{layoutItemStyles:d,layoutRect:e.layoutRect,layoutItemScrimStyles:f}}const R_e=(t,e,r,a)=>{let i={top:0,left:0,right:0,bottom:0};const d=[{id:"",layer:{...i}}];for(const f of t){const h=e.get(f),c=r.get(f),g=a.get(f);if(!h||!c||!g)continue;const v={...i,[h.value]:parseInt(i[h.value],10)+(g.value?parseInt(c.value,10):0)};d.push({id:f,layer:v}),i=v}return d};function D_e(t){const e=Ra(HH,null),r=en(()=>e?e.rootZIndex.value-100:Whe),a=Vo([]),i=dh(new Map),d=dh(new Map),f=dh(new Map),h=dh(new Map),c=dh(new Map),{resizeRef:g,contentRect:v}=VU(),y=en(()=>{const N=new Map,Q=t.overlaps??[];for(const z of Q.filter(U=>U.includes(":"))){const[U,F]=z.split(":");if(!a.value.includes(U)||!a.value.includes(F))continue;const B=i.get(U),E=i.get(F),W=d.get(U),X=d.get(F);!B||!E||!W||!X||(N.set(F,{position:B.value,amount:parseInt(W.value,10)}),N.set(U,{position:E.value,amount:-parseInt(X.value,10)}))}return N}),b=en(()=>{const N=[...new Set([...f.values()].map(z=>z.value))].sort((z,U)=>z-U),Q=[];for(const z of N){const U=a.value.filter(F=>{var B;return((B=f.get(F))==null?void 0:B.value)===z});Q.push(...U)}return R_e(Q,i,d,h)}),O=en(()=>!Array.from(c.values()).some(N=>N.value)),C=en(()=>b.value[b.value.length-1].layer),k=en(()=>({"--v-layout-left":cs(C.value.left),"--v-layout-right":cs(C.value.right),"--v-layout-top":cs(C.value.top),"--v-layout-bottom":cs(C.value.bottom),...O.value?void 0:{transition:"none"}})),w=en(()=>b.value.slice(1).map((N,Q)=>{let{id:z}=N;const{layer:U}=b.value[Q],F=d.get(z),B=i.get(z);return{id:z,...U,size:Number(F.value),position:B.value}})),T=N=>w.value.find(Q=>Q.id===N),R=Tf("createLayout"),M=fs(!1);vg(()=>{M.value=!0}),Cl(HH,{register:(N,Q)=>{let{id:z,order:U,position:F,layoutSize:B,elementSize:E,active:W,disableTransitions:X,absolute:ie}=Q;f.set(z,U),i.set(z,F),d.set(z,B),h.set(z,W),X&&c.set(z,X);const me=jD(Lye,R==null?void 0:R.vnode).indexOf(N);me>-1?a.value.splice(me,0,z):a.value.push(z);const ae=en(()=>w.value.findIndex(xe=>xe.id===z)),q=en(()=>r.value+b.value.length*2-ae.value*2),de=en(()=>{const xe=F.value==="left"||F.value==="right",we=F.value==="right",Be=F.value==="bottom",pe={[F.value]:0,zIndex:q.value,transform:`translate${xe?"X":"Y"}(${(W.value?0:-110)*(we||Be?-1:1)}%)`,position:ie.value||r.value!==Whe?"absolute":"fixed",...O.value?void 0:{transition:"none"}};if(!M.value)return pe;const ne=w.value[ae.value];if(!ne)throw new Error(`[Vuetify] Could not find layout item "${z}"`);const le=y.value.get(z);return le&&(ne[le.position]+=le.amount),{...pe,height:xe?`calc(100% - ${ne.top}px - ${ne.bottom}px)`:E.value?`${E.value}px`:void 0,left:we?void 0:`${ne.left}px`,right:we?`${ne.right}px`:void 0,top:F.value!=="bottom"?`${ne.top}px`:void 0,bottom:F.value!=="top"?`${ne.bottom}px`:void 0,width:xe?E.value?`${E.value}px`:void 0:`calc(100% - ${ne.left}px - ${ne.right}px)`}}),ee=en(()=>({zIndex:q.value-1}));return{layoutItemStyles:de,layoutItemScrimStyles:ee,zIndex:q}},unregister:N=>{f.delete(N),i.delete(N),d.delete(N),h.delete(N),c.delete(N),a.value=a.value.filter(Q=>Q!==N)},mainRect:C,mainStyles:k,getLayoutItem:T,items:w,layoutRect:v,rootZIndex:r});const I=en(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),V=en(()=>({zIndex:e?r.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:I,layoutStyles:V,getLayoutItem:T,items:w,layoutRect:v,layoutRef:g}}const $_e={badge:"Badge",open:"Open",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{ok:"OK",cancel:"Cancel",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},L_e={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function DS(t,e){let r;function a(){r=Fae(),r.run(()=>e.length?e(()=>{r==null||r.stop(),a()}):e())}zo(t,i=>{i&&!r?a():i||(r==null||r.stop(),r=void 0)},{immediate:!0}),cm(()=>{r==null||r.stop()})}function pi(t,e,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:y=>y,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:y=>y;const d=Tf("useProxiedModel"),f=Vo(t[e]!==void 0?t[e]:r),h=L3(e),g=en(h!==e?()=>{var y,b,O,C;return t[e],!!(((y=d.vnode.props)!=null&&y.hasOwnProperty(e)||(b=d.vnode.props)!=null&&b.hasOwnProperty(h))&&((O=d.vnode.props)!=null&&O.hasOwnProperty(`onUpdate:${e}`)||(C=d.vnode.props)!=null&&C.hasOwnProperty(`onUpdate:${h}`)))}:()=>{var y,b;return t[e],!!((y=d.vnode.props)!=null&&y.hasOwnProperty(e)&&((b=d.vnode.props)!=null&&b.hasOwnProperty(`onUpdate:${e}`)))});DS(()=>!g.value,()=>{zo(()=>t[e],y=>{f.value=y})});const v=en({get(){const y=t[e];return a(g.value?y:f.value)},set(y){const b=i(y),O=va(g.value?t[e]:f.value);O===b||a(O)===y||(f.value=b,d==null||d.emit(`update:${e}`,b))}});return Object.defineProperty(v,"externalValue",{get:()=>g.value?t[e]:f.value}),v}const Yhe="$vuetify.",Xhe=(t,e)=>t.replace(/\{(\d+)\}/g,(r,a)=>String(e[+a])),Iye=(t,e,r)=>function(a){for(var i=arguments.length,d=new Array(i>1?i-1:0),f=1;f<i;f++)d[f-1]=arguments[f];if(!a.startsWith(Yhe))return Xhe(a,d);const h=a.replace(Yhe,""),c=t.value&&r.value[t.value],g=e.value&&r.value[e.value];let v=V3(c,h,null);return v||(`${a}${t.value}`,v=V3(g,h,null)),v||(v=a),typeof v!="string"&&(v=a),Xhe(v,d)};function Nye(t,e){return(r,a)=>new Intl.NumberFormat([t.value,e.value],a).format(r)}function foe(t,e,r){const a=pi(t,e,t[e]??r.value);return a.value=t[e]??r.value,zo(r,i=>{t[e]==null&&(a.value=r.value)}),a}function Bye(t){return e=>{const r=foe(e,"locale",t.current),a=foe(e,"fallback",t.fallback),i=foe(e,"messages",t.messages);return{name:"vuetify",current:r,fallback:a,messages:i,t:Iye(r,a,i),n:Nye(r,a),provide:Bye({current:r,fallback:a,messages:i})}}}function I_e(t){const e=fs((t==null?void 0:t.locale)??"en"),r=fs((t==null?void 0:t.fallback)??"en"),a=Vo({en:$_e,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:r,messages:a,t:Iye(e,r,a),n:Nye(e,r),provide:Bye({current:e,fallback:r,messages:a})}}const UH=Symbol.for("vuetify:locale");function N_e(t){return t.name!=null}function B_e(t){const e=t!=null&&t.adapter&&N_e(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:I_e(t),r=Q_e(e,t);return{...e,...r}}function FS(){const t=Ra(UH);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Q_e(t,e){const r=Vo((e==null?void 0:e.rtl)??L_e),a=en(()=>r.value[t.current.value]??!1);return{isRtl:a,rtl:r,rtlClasses:en(()=>`v-locale--is-${a.value?"rtl":"ltr"}`)}}function Ip(){const t=Ra(UH);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const WH=Symbol.for("vuetify:theme"),Ou=zr({theme:String},"theme"),CD={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function F_e(){var r,a;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CD;if(!t)return{...CD,isDisabled:!0};const e={};for(const[i,d]of Object.entries(t.themes??{})){const f=d.dark||i==="dark"?(r=CD.themes)==null?void 0:r.dark:(a=CD.themes)==null?void 0:a.light;e[i]=wp(f,d)}return wp(CD,{...t,themes:e})}function V_e(t){const e=F_e(t),r=Vo(e.defaultTheme),a=Vo(e.themes),i=en(()=>{const v={};for(const[y,b]of Object.entries(a.value)){const O=v[y]={...b,colors:{...b.colors}};if(e.variations)for(const C of e.variations.colors){const k=O.colors[C];if(k)for(const w of["lighten","darken"]){const T=w==="lighten"?p_e:v_e;for(const R of vM(e.variations[w],1))O.colors[`${C}-${w}-${R}`]=h_e(T(K1(k),R))}}for(const C of Object.keys(O.colors)){if(/^on-[a-z]/.test(C)||O.colors[`on-${C}`])continue;const k=`on-${C}`,w=K1(O.colors[C]);O.colors[k]=_ye(w)}}return v}),d=en(()=>i.value[r.value]),f=en(()=>{const v=[];d.value.dark&&v3(v,":root",["color-scheme: dark"]),v3(v,":root",Ghe(d.value));for(const[C,k]of Object.entries(i.value))v3(v,`.v-theme--${C}`,[`color-scheme: ${k.dark?"dark":"normal"}`,...Ghe(k)]);const y=[],b=[],O=new Set(Object.values(i.value).flatMap(C=>Object.keys(C.colors)));for(const C of O)/^on-[a-z]/.test(C)?v3(b,`.${C}`,[`color: rgb(var(--v-theme-${C})) !important`]):(v3(y,`.bg-${C}`,[`--v-theme-overlay-multiplier: var(--v-theme-${C}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${C})) !important`,`color: rgb(var(--v-theme-on-${C})) !important`]),v3(b,`.text-${C}`,[`color: rgb(var(--v-theme-${C})) !important`]),v3(b,`.border-${C}`,[`--v-border-color: var(--v-theme-${C})`]));return v.push(...y,...b),v.map((C,k)=>k===0?C:`    ${C}`).join("")});function h(){return{style:[{children:f.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function c(v){if(e.isDisabled)return;const y=v._context.provides.usehead;if(y)if(y.push){const b=y.push(h);zl&&zo(f,()=>{b.patch(h)})}else zl?(y.addHeadObjs(en(h)),fm(()=>y.updateDOM())):y.addHeadObjs(h());else{let O=function(){if(typeof document<"u"&&!b){const C=document.createElement("style");C.type="text/css",C.id="vuetify-theme-stylesheet",e.cspNonce&&C.setAttribute("nonce",e.cspNonce),b=C,document.head.appendChild(b)}b&&(b.innerHTML=f.value)},b=zl?document.getElementById("vuetify-theme-stylesheet"):null;zl?zo(f,O,{immediate:!0}):O()}}const g=en(()=>e.isDisabled?void 0:`v-theme--${r.value}`);return{install:c,isDisabled:e.isDisabled,name:r,themes:a,current:d,computedThemes:i,themeClasses:g,styles:f,global:{name:r,current:d}}}function Cf(t){Tf("provideTheme");const e=Ra(WH,null);if(!e)throw new Error("Could not find Vuetify theme injection");const r=en(()=>t.theme??e.name.value),a=en(()=>e.themes.value[r.value]),i=en(()=>e.isDisabled?void 0:`v-theme--${r.value}`),d={...e,name:r,current:a,themeClasses:i};return Cl(WH,d),d}function v3(t,e,r){t.push(`${e} {
`,...r.map(a=>`  ${a};
`),`}
`)}function Ghe(t){const e=t.dark?2:1,r=t.dark?1:2,a=[];for(const[i,d]of Object.entries(t.colors)){const f=K1(d);a.push(`--v-theme-${i}: ${f.r},${f.g},${f.b}`),i.startsWith("on-")||a.push(`--v-theme-${i}-overlay-multiplier: ${y_e(d)>.18?e:r}`)}for(const[i,d]of Object.entries(t.variables)){const f=typeof d=="string"&&d.startsWith("#")?K1(d):void 0,h=f?`${f.r}, ${f.g}, ${f.b}`:void 0;a.push(`--v-${i}: ${h??d}`)}return a}const z_e=zr({...fa(),...P_e({fullHeight:!0}),...Ou()},"VApp"),Z_e=qo()({name:"VApp",props:z_e(),setup(t,e){let{slots:r}=e;const a=Cf(t),{layoutClasses:i,getLayoutItem:d,items:f,layoutRef:h}=D_e(t),{rtlClasses:c}=Ip();return Cs(()=>{var g;return it("div",{ref:h,class:["v-application",a.themeClasses.value,i.value,c.value,t.class],style:[t.style]},[it("div",{class:"v-application__wrap"},[(g=r.default)==null?void 0:g.call(r)])])}),{getLayoutItem:d,items:f,theme:a}}});const Fc=zr({tag:{type:String,default:"div"}},"tag"),H_e=zr({text:String,...fa(),...Fc()},"VToolbarTitle"),U_e=qo()({name:"VToolbarTitle",props:H_e(),setup(t,e){let{slots:r}=e;return Cs(()=>{const a=!!(r.default||r.text||t.text);return it(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var i;return[a&&it("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():t.text,(i=r.default)==null?void 0:i.call(r)])]}})}),{}}}),W_e=zr({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function yg(t,e,r){return qo()({name:t,props:W_e({mode:r,origin:e}),setup(a,i){let{slots:d}=i;const f={onBeforeEnter(h){a.origin&&(h.style.transformOrigin=a.origin)},onLeave(h){if(a.leaveAbsolute){const{offsetTop:c,offsetLeft:g,offsetWidth:v,offsetHeight:y}=h;h._transitionInitialStyles={position:h.style.position,top:h.style.top,left:h.style.left,width:h.style.width,height:h.style.height},h.style.position="absolute",h.style.top=`${c}px`,h.style.left=`${g}px`,h.style.width=`${v}px`,h.style.height=`${y}px`}a.hideOnLeave&&h.style.setProperty("display","none","important")},onAfterLeave(h){if(a.leaveAbsolute&&(h!=null&&h._transitionInitialStyles)){const{position:c,top:g,left:v,width:y,height:b}=h._transitionInitialStyles;delete h._transitionInitialStyles,h.style.position=c||"",h.style.top=g||"",h.style.left=v||"",h.style.width=y||"",h.style.height=b||""}}};return()=>{const h=a.group?aCe:OO;return ph(h,{name:a.disabled?"":t,css:!a.disabled,...a.group?void 0:{mode:a.mode},...a.disabled?{}:f},d.default)}}})}function Qye(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return qo()({name:t,props:{mode:{type:String,default:r},disabled:Boolean},setup(a,i){let{slots:d}=i;return()=>ph(OO,{name:a.disabled?"":t,css:!a.disabled,...a.disabled?{}:e},d.default)}})}function Fye(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",a=Ep(`offset-${r}`);return{onBeforeEnter(f){f._parent=f.parentNode,f._initialStyle={transition:f.style.transition,overflow:f.style.overflow,[r]:f.style[r]}},onEnter(f){const h=f._initialStyle;f.style.setProperty("transition","none","important"),f.style.overflow="hidden";const c=`${f[a]}px`;f.style[r]="0",f.offsetHeight,f.style.transition=h.transition,t&&f._parent&&f._parent.classList.add(t),requestAnimationFrame(()=>{f.style[r]=c})},onAfterEnter:d,onEnterCancelled:d,onLeave(f){f._initialStyle={transition:"",overflow:f.style.overflow,[r]:f.style[r]},f.style.overflow="hidden",f.style[r]=`${f[a]}px`,f.offsetHeight,requestAnimationFrame(()=>f.style[r]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(f){t&&f._parent&&f._parent.classList.remove(t),d(f)}function d(f){const h=f._initialStyle[r];f.style.overflow=f._initialStyle.overflow,h!=null&&(f.style[r]=h),delete f._initialStyle}}const Y_e=zr({target:Object},"v-dialog-transition"),rle=qo()({name:"VDialogTransition",props:Y_e(),setup(t,e){let{slots:r}=e;const a={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,d){var b;await new Promise(O=>requestAnimationFrame(O)),await new Promise(O=>requestAnimationFrame(O)),i.style.visibility="";const{x:f,y:h,sx:c,sy:g,speed:v}=qhe(t.target,i),y=XP(i,[{transform:`translate(${f}px, ${h}px) scale(${c}, ${g})`,opacity:0},{}],{duration:225*v,easing:w_e});(b=jhe(i))==null||b.forEach(O=>{XP(O,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*v,easing:zH})}),y.finished.then(()=>d())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,d){var b;await new Promise(O=>requestAnimationFrame(O));const{x:f,y:h,sx:c,sy:g,speed:v}=qhe(t.target,i);XP(i,[{},{transform:`translate(${f}px, ${h}px) scale(${c}, ${g})`,opacity:0}],{duration:125*v,easing:T_e}).finished.then(()=>d()),(b=jhe(i))==null||b.forEach(O=>{XP(O,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*v,easing:zH})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>t.target?it(OO,rs({name:"dialog-transition"},a,{css:!1}),r):it(OO,{name:"dialog-transition"},r)}});function jhe(t){var r;const e=(r=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:r.children;return e&&[...e]}function qhe(t,e){const r=t.getBoundingClientRect(),a=Jie(e),[i,d]=getComputedStyle(e).transformOrigin.split(" ").map(T=>parseFloat(T)),[f,h]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=r.left+r.width/2;f==="left"||h==="left"?c-=r.width/2:(f==="right"||h==="right")&&(c+=r.width/2);let g=r.top+r.height/2;f==="top"||h==="top"?g-=r.height/2:(f==="bottom"||h==="bottom")&&(g+=r.height/2);const v=r.width/a.width,y=r.height/a.height,b=Math.max(1,v,y),O=v/b||0,C=y/b||0,k=a.width*a.height/(window.innerWidth*window.innerHeight),w=k>.12?Math.min(1.5,(k-.12)*10+1):1;return{x:c-(i+a.left),y:g-(d+a.top),sx:O,sy:C,speed:w}}yg("fab-transition","center center","out-in");yg("dialog-bottom-transition");yg("dialog-top-transition");yg("fade-transition");const X_e=yg("scale-transition");yg("scroll-x-transition");yg("scroll-x-reverse-transition");yg("scroll-y-transition");yg("scroll-y-reverse-transition");yg("slide-x-transition");yg("slide-x-reverse-transition");const Vye=yg("slide-y-transition");yg("slide-y-reverse-transition");const ole=Qye("expand-transition",Fye()),zye=Qye("expand-x-transition",Fye("",!0)),G_e=zr({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Jc=qo(!1)({name:"VDefaultsProvider",props:G_e(),setup(t,e){let{slots:r}=e;const{defaults:a,disabled:i,reset:d,root:f,scoped:h}=yU(t);return ly(a,{reset:d,root:f,scoped:h,disabled:i}),()=>{var c;return(c=r.default)==null?void 0:c.call(r)}}});const W3=zr({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Y3(t){return{dimensionStyles:en(()=>({height:cs(t.height),maxHeight:cs(t.maxHeight),maxWidth:cs(t.maxWidth),minHeight:cs(t.minHeight),minWidth:cs(t.minWidth),width:cs(t.width)}))}}function j_e(t){return{aspectStyles:en(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const Zye=zr({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...fa(),...W3()},"VResponsive"),Khe=qo()({name:"VResponsive",props:Zye(),setup(t,e){let{slots:r}=e;const{aspectStyles:a}=j_e(t),{dimensionStyles:i}=Y3(t);return Cs(()=>{var d;return it("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[i.value,t.style]},[it("div",{class:"v-responsive__sizer",style:a.value},null),(d=r.additional)==null?void 0:d.call(r),r.default&&it("div",{class:["v-responsive__content",t.contentClass]},[r.default()])])}),{}}}),X3=zr({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),yS=(t,e)=>{let{slots:r}=e;const{transition:a,disabled:i,...d}=t,{component:f=OO,...h}=typeof a=="object"?a:{};return ph(f,rs(typeof a=="string"?{name:i?"":a}:h,d,{disabled:i}),r)};function q_e(t,e){if(!Gie)return;const r=e.modifiers||{},a=e.value,{handler:i,options:d}=typeof a=="object"?a:{handler:a,options:{}},f=new IntersectionObserver(function(){var y;let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;const g=(y=t._observe)==null?void 0:y[e.instance.$.uid];if(!g)return;const v=h.some(b=>b.isIntersecting);i&&(!r.quiet||g.init)&&(!r.once||v||g.init)&&i(v,h,c),v&&r.once?Hye(t,e):g.init=!0},d);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:f},f.observe(t)}function Hye(t,e){var a;const r=(a=t._observe)==null?void 0:a[e.instance.$.uid];r&&(r.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const K_e={mounted:q_e,unmounted:Hye},sle=K_e,J_e=zr({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...Zye(),...fa(),...X3()},"VImg"),n9=qo()({name:"VImg",directives:{intersect:sle},props:J_e(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:r,slots:a}=e;const i=fs(""),d=Vo(),f=fs(t.eager?"loading":"idle"),h=fs(),c=fs(),g=en(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),v=en(()=>g.value.aspect||h.value/c.value||0);zo(()=>t.src,()=>{y(f.value!=="idle")}),zo(v,(z,U)=>{!z&&U&&d.value&&w(d.value)}),eie(()=>y());function y(z){if(!(t.eager&&z)&&!(Gie&&!z&&!t.eager)){if(f.value="loading",g.value.lazySrc){const U=new Image;U.src=g.value.lazySrc,w(U,null)}g.value.src&&Zl(()=>{var U,F;if(r("loadstart",((U=d.value)==null?void 0:U.currentSrc)||g.value.src),(F=d.value)!=null&&F.complete){if(d.value.naturalWidth||O(),f.value==="error")return;v.value||w(d.value,null),b()}else v.value||w(d.value),C()})}}function b(){var z;C(),f.value="loaded",r("load",((z=d.value)==null?void 0:z.currentSrc)||g.value.src)}function O(){var z;f.value="error",r("error",((z=d.value)==null?void 0:z.currentSrc)||g.value.src)}function C(){const z=d.value;z&&(i.value=z.currentSrc||z.src)}let k=-1;function w(z){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const F=()=>{clearTimeout(k);const{naturalHeight:B,naturalWidth:E}=z;B||E?(h.value=E,c.value=B):!z.complete&&f.value==="loading"&&U!=null?k=window.setTimeout(F,U):(z.currentSrc.endsWith(".svg")||z.currentSrc.startsWith("data:image/svg+xml"))&&(h.value=1,c.value=1)};F()}const T=en(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),R=()=>{var F;if(!g.value.src||f.value==="idle")return null;const z=it("img",{class:["v-img__img",T.value],src:g.value.src,srcset:g.value.srcset,alt:t.alt,sizes:t.sizes,ref:d,onLoad:b,onError:O},null),U=(F=a.sources)==null?void 0:F.call(a);return it(yS,{transition:t.transition,appear:!0},{default:()=>[Fu(U?it("picture",{class:"v-img__picture"},[U,z]):z,[[LS,f.value==="loaded"]])]})},M=()=>it(yS,{transition:t.transition},{default:()=>[g.value.lazySrc&&f.value!=="loaded"&&it("img",{class:["v-img__img","v-img__img--preload",T.value],src:g.value.lazySrc,alt:t.alt},null)]}),I=()=>a.placeholder?it(yS,{transition:t.transition,appear:!0},{default:()=>[(f.value==="loading"||f.value==="error"&&!a.error)&&it("div",{class:"v-img__placeholder"},[a.placeholder()])]}):null,V=()=>a.error?it(yS,{transition:t.transition,appear:!0},{default:()=>[f.value==="error"&&it("div",{class:"v-img__error"},[a.error()])]}):null,N=()=>t.gradient?it("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,Q=fs(!1);{const z=zo(v,U=>{U&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Q.value=!0})}),z())})}return Cs(()=>{const[z]=Khe.filterProps(t);return Fu(it(Khe,rs({class:["v-img",{"v-img--booting":!Q.value},t.class],style:[{width:cs(t.width==="auto"?h.value:t.width)},t.style]},z,{aspectRatio:v.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>it(Go,null,[it(R,null,null),it(M,null,null),it(N,null,null),it(I,null,null),it(V,null,null)]),default:a.default}),[[Yv("intersect"),{handler:y,options:t.options},null,{once:!0}]])}),{currentSrc:i,image:d,state:f,naturalWidth:h,naturalHeight:c}}}),G3=zr({border:[Boolean,Number,String]},"border");function j3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO();return{borderClasses:en(()=>{const a=vc(t)?t.value:t.border,i=[];if(a===!0||a==="")i.push(`${e}--border`);else if(typeof a=="string"||a===0)for(const d of String(a).split(" "))i.push(`border-${d}`);return i})}}function ale(t){return Kie(()=>{const e=[],r={};if(t.value.background)if(Zhe(t.value.background)){if(r.backgroundColor=t.value.background,!t.value.text){const a=K1(t.value.background);if(a.a==null||a.a===1){const i=_ye(a);r.color=i,r.caretColor=i}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(Zhe(t.value.text)?(r.color=t.value.text,r.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:r}})}function Rp(t,e){const r=en(()=>({text:vc(t)?t.value:e?t[e]:null})),{colorClasses:a,colorStyles:i}=ale(r);return{textColorClasses:a,textColorStyles:i}}function Dp(t,e){const r=en(()=>({background:vc(t)?t.value:e?t[e]:null})),{colorClasses:a,colorStyles:i}=ale(r);return{backgroundColorClasses:a,backgroundColorStyles:i}}const MO=zr({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function EO(t){return{elevationClasses:en(()=>{const r=vc(t)?t.value:t.elevation,a=[];return r==null||a.push(`elevation-${r}`),a})}}const Np=zr({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Bp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO();return{roundedClasses:en(()=>{const a=vc(t)?t.value:t.rounded,i=[];if(a===!0||a==="")i.push(`${e}--rounded`);else if(typeof a=="string"||a===0)for(const d of String(a).split(" "))i.push(`rounded-${d}`);return i})}}const eRe=[null,"prominent","default","comfortable","compact"],Uye=zr({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>eRe.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...G3(),...fa(),...MO(),...Np(),...Fc({tag:"header"}),...Ou()},"VToolbar"),Jhe=qo()({name:"VToolbar",props:Uye(),setup(t,e){var O;let{slots:r}=e;const{backgroundColorClasses:a,backgroundColorStyles:i}=Dp(ns(t,"color")),{borderClasses:d}=j3(t),{elevationClasses:f}=EO(t),{roundedClasses:h}=Bp(t),{themeClasses:c}=Cf(t),{rtlClasses:g}=Ip(),v=fs(!!(t.extended||(O=r.extension)!=null&&O.call(r))),y=en(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),b=en(()=>v.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return ly({VBtn:{variant:"text"}}),Cs(()=>{var T;const C=!!(t.title||r.title),k=!!(r.image||t.image),w=(T=r.extension)==null?void 0:T.call(r);return v.value=!!(t.extended||w),it(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},a.value,d.value,f.value,h.value,c.value,g.value,t.class],style:[i.value,t.style]},{default:()=>[k&&it("div",{key:"image",class:"v-toolbar__image"},[r.image?it(Jc,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},r.image):it(n9,{key:"image-img",cover:!0,src:t.image},null)]),it(Jc,{defaults:{VTabs:{height:cs(y.value)}}},{default:()=>{var R,M,I;return[it("div",{class:"v-toolbar__content",style:{height:cs(y.value)}},[r.prepend&&it("div",{class:"v-toolbar__prepend"},[(R=r.prepend)==null?void 0:R.call(r)]),C&&it(U_e,{key:"title",text:t.title},{text:r.title}),(M=r.default)==null?void 0:M.call(r),r.append&&it("div",{class:"v-toolbar__append"},[(I=r.append)==null?void 0:I.call(r)])])]}}),it(Jc,{defaults:{VTabs:{height:cs(b.value)}}},{default:()=>[it(ole,null,{default:()=>[v.value&&it("div",{class:"v-toolbar__extension",style:{height:cs(b.value)}},[w])]})]})]})}),{contentHeight:y,extensionHeight:b}}}),tRe=zr({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function nRe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:r}=e;let a=0;const i=Vo(null),d=fs(0),f=fs(0),h=fs(0),c=fs(!1),g=fs(!1),v=en(()=>Number(t.scrollThreshold)),y=en(()=>Mp((v.value-d.value)/v.value||0)),b=()=>{const O=i.value;!O||r&&!r.value||(a=d.value,d.value="window"in O?O.pageYOffset:O.scrollTop,g.value=d.value<a,h.value=Math.abs(d.value-v.value))};return zo(g,()=>{f.value=f.value||d.value}),zo(c,()=>{f.value=0}),vg(()=>{zo(()=>t.scrollTarget,O=>{var k;const C=O?document.querySelector(O):window;C&&C!==i.value&&((k=i.value)==null||k.removeEventListener("scroll",b),i.value=C,i.value.addEventListener("scroll",b,{passive:!0}))},{immediate:!0})}),dm(()=>{var O;(O=i.value)==null||O.removeEventListener("scroll",b)}),r&&zo(r,b,{immediate:!0}),{scrollThreshold:v,currentScroll:d,currentThreshold:h,isScrollActive:c,scrollRatio:y,isScrollingUp:g,savedScroll:f}}function ile(){const t=fs(!1);return vg(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:en(()=>t.value?void 0:{transition:"none !important"}),isBooted:H$(t)}}const rRe=zr({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...Uye(),...M_e(),...tRe(),height:{type:[Number,String],default:64}},"VAppBar"),oRe=qo()({name:"VAppBar",props:rRe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=Vo(),i=pi(t,"modelValue"),d=en(()=>{var R;const T=new Set(((R=t.scrollBehavior)==null?void 0:R.split(" "))??[]);return{hide:T.has("hide"),inverted:T.has("inverted"),collapse:T.has("collapse"),elevate:T.has("elevate"),fadeImage:T.has("fade-image")}}),f=en(()=>{const T=d.value;return T.hide||T.inverted||T.collapse||T.elevate||T.fadeImage||!i.value}),{currentScroll:h,scrollThreshold:c,isScrollingUp:g,scrollRatio:v}=nRe(t,{canScroll:f}),y=en(()=>t.collapse||d.value.collapse&&(d.value.inverted?v.value>0:v.value===0)),b=en(()=>t.flat||d.value.elevate&&(d.value.inverted?h.value>0:h.value===0)),O=en(()=>d.value.fadeImage?d.value.inverted?1-v.value:v.value:void 0),C=en(()=>{var M,I;if(d.value.hide&&d.value.inverted)return 0;const T=((M=a.value)==null?void 0:M.contentHeight)??0,R=((I=a.value)==null?void 0:I.extensionHeight)??0;return T+R});DS(en(()=>!!t.scrollBehavior),()=>{fm(()=>{d.value.hide?d.value.inverted?i.value=h.value>c.value:i.value=g.value||h.value<c.value:i.value=!0})});const{ssrBootStyles:k}=ile(),{layoutItemStyles:w}=__e({id:t.name,order:en(()=>parseInt(t.order,10)),position:ns(t,"location"),layoutSize:C,elementSize:fs(void 0),active:i,absolute:ns(t,"absolute")});return Cs(()=>{const[T]=Jhe.filterProps(t);return it(Jhe,rs({ref:a,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...w.value,"--v-toolbar-image-opacity":O.value,height:void 0,...k.value},t.style]},T,{collapse:y.value,flat:b.value}),r)}),{}}});const sRe=[null,"default","comfortable","compact"],qv=zr({density:{type:String,default:"default",validator:t=>sRe.includes(t)}},"density");function cy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO();return{densityClasses:en(()=>`${e}--density-${t.density}`)}}const aRe=["elevated","flat","tonal","outlined","text","plain"];function r9(t,e){return it(Go,null,[t&&it("span",{key:"overlay",class:`${e}__overlay`},null),it("span",{key:"underlay",class:`${e}__underlay`},null)])}const VS=zr({color:String,variant:{type:String,default:"elevated",validator:t=>aRe.includes(t)}},"variant");function o9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO();const r=en(()=>{const{variant:d}=Sf(t);return`${e}--variant-${d}`}),{colorClasses:a,colorStyles:i}=ale(en(()=>{const{variant:d,color:f}=Sf(t);return{[["elevated","flat"].includes(d)?"background":"text"]:f}}));return{colorClasses:a,colorStyles:i,variantClasses:r}}const Wye=zr({divided:Boolean,...G3(),...fa(),...qv(),...MO(),...Np(),...Fc(),...Ou(),...VS()},"VBtnGroup"),Jse=qo()({name:"VBtnGroup",props:Wye(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=Cf(t),{densityClasses:i}=cy(t),{borderClasses:d}=j3(t),{elevationClasses:f}=EO(t),{roundedClasses:h}=Bp(t);ly({VBtn:{height:"auto",color:ns(t,"color"),density:ns(t,"density"),flat:!0,variant:ns(t,"variant")}}),Cs(()=>it(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},a.value,d.value,i.value,f.value,h.value,t.class],style:t.style},r))}}),lle=zr({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),cle=zr({value:null,disabled:Boolean,selectedClass:String},"group-item");function ule(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const a=Tf("useGroupItem");if(!a)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=jv();Cl(Symbol.for(`${e.description}:id`),i);const d=Ra(e,null);if(!d){if(!r)return d;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const f=ns(t,"value"),h=en(()=>!!(d.disabled.value||t.disabled));d.register({id:i,value:f,disabled:h},a),dm(()=>{d.unregister(i)});const c=en(()=>d.isSelected(i)),g=en(()=>c.value&&[d.selectedClass.value,t.selectedClass]);return zo(c,v=>{a.emit("group:selected",{value:v})}),{id:i,isSelected:c,toggle:()=>d.select(i,!c.value),select:v=>d.select(i,v),selectedClass:g,value:f,disabled:h,group:d}}function fle(t,e){let r=!1;const a=dh([]),i=pi(t,"modelValue",[],b=>b==null?[]:Yye(a,gh(b)),b=>{const O=lRe(a,b);return t.multiple?O:O[0]}),d=Tf("useGroup");function f(b,O){const C=b,k=Symbol.for(`${e.description}:id`),T=jD(k,d==null?void 0:d.vnode).indexOf(O);T>-1?a.splice(T,0,C):a.push(C)}function h(b){if(r)return;c();const O=a.findIndex(C=>C.id===b);a.splice(O,1)}function c(){const b=a.find(O=>!O.disabled);b&&t.mandatory==="force"&&!i.value.length&&(i.value=[b.id])}vg(()=>{c()}),dm(()=>{r=!0});function g(b,O){const C=a.find(k=>k.id===b);if(!(O&&(C!=null&&C.disabled)))if(t.multiple){const k=i.value.slice(),w=k.findIndex(R=>R===b),T=~w;if(O=O??!T,T&&t.mandatory&&k.length<=1||!T&&t.max!=null&&k.length+1>t.max)return;w<0&&O?k.push(b):w>=0&&!O&&k.splice(w,1),i.value=k}else{const k=i.value.includes(b);if(t.mandatory&&k)return;i.value=O??!k?[b]:[]}}function v(b){if(t.multiple,i.value.length){const O=i.value[0],C=a.findIndex(T=>T.id===O);let k=(C+b)%a.length,w=a[k];for(;w.disabled&&k!==C;)k=(k+b)%a.length,w=a[k];if(w.disabled)return;i.value=[a[k].id]}else{const O=a.find(C=>!C.disabled);O&&(i.value=[O.id])}}const y={register:f,unregister:h,selected:i,select:g,disabled:ns(t,"disabled"),prev:()=>v(a.length-1),next:()=>v(1),isSelected:b=>i.value.includes(b),selectedClass:en(()=>t.selectedClass),items:en(()=>a),getItemIndex:b=>iRe(a,b)};return Cl(e,y),y}function iRe(t,e){const r=Yye(t,[e]);return r.length?t.findIndex(a=>a.id===r[0]):-1}function Yye(t,e){const r=[];return e.forEach(a=>{const i=t.find(f=>U3(a,f.value)),d=t[a];(i==null?void 0:i.value)!=null?r.push(i.id):d!=null&&r.push(d.id)}),r}function lRe(t,e){const r=[];return e.forEach(a=>{const i=t.findIndex(d=>d.id===a);if(~i){const d=t[i];r.push(d.value!=null?d.value:i)}}),r}const Xye=Symbol.for("vuetify:v-btn-toggle"),cRe=zr({...Wye(),...lle()},"VBtnToggle");qo()({name:"VBtnToggle",props:cRe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{isSelected:a,next:i,prev:d,select:f,selected:h}=fle(t,Xye);return Cs(()=>{const[c]=Jse.filterProps(t);return it(Jse,rs({class:["v-btn-toggle",t.class]},c,{style:t.style}),{default:()=>{var g;return[(g=r.default)==null?void 0:g.call(r,{isSelected:a,next:i,prev:d,select:f,selected:h})]}})}),{next:i,prev:d,select:f}}});const uRe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar"},Gye={component:t=>ph(qye,{...t,class:"mdi"})},_i=[String,Function,Object,Array],eae=Symbol.for("vuetify:icons"),zU=zr({icon:{type:_i},tag:{type:String,required:!0}},"icon"),eme=qo()({name:"VComponentIcon",props:zU(),setup(t,e){let{slots:r}=e;return()=>{const a=t.icon;return it(t.tag,null,{default:()=>{var i;return[t.icon?it(a,null,null):(i=r.default)==null?void 0:i.call(r)]}})}}}),jye=IM({name:"VSvgIcon",inheritAttrs:!1,props:zU(),setup(t,e){let{attrs:r}=e;return()=>it(t.tag,rs(r,{style:null}),{default:()=>[it("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(a=>Array.isArray(a)?it("path",{d:a[0],"fill-opacity":a[1]},null):it("path",{d:a},null)):it("path",{d:t.icon},null)])]})}});IM({name:"VLigatureIcon",props:zU(),setup(t){return()=>it(t.tag,null,{default:()=>[t.icon]})}});const qye=IM({name:"VClassIcon",props:zU(),setup(t){return()=>it(t.tag,{class:t.icon},null)}}),fRe={svg:{component:jye},class:{component:qye}};function dRe(t){return wp({defaultSet:"mdi",sets:{...fRe,mdi:Gye},aliases:{...uRe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},t)}const hRe=t=>{const e=Ra(eae);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:en(()=>{var c;const a=Sf(t);if(!a)return{component:eme};let i=a;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$")&&(i=(c=e.aliases)==null?void 0:c[i.slice(1)])),!i)throw new Error(`Could not find aliased icon "${a}"`);if(Array.isArray(i))return{component:jye,icon:i};if(typeof i!="string")return{component:eme,icon:i};const d=Object.keys(e.sets).find(g=>typeof i=="string"&&i.startsWith(`${g}:`)),f=d?i.slice(d.length+1):i;return{component:e.sets[d??e.defaultSet].component,icon:f}})}},mRe=["x-small","small","default","large","x-large"],s9=zr({size:{type:[String,Number],default:"default"}},"size");function a9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO();return Kie(()=>{let r,a;return BH(mRe,t.size)?r=`${e}--size-${t.size}`:t.size&&(a={width:cs(t.size),height:cs(t.size)}),{sizeClasses:r,sizeStyles:a}})}const gRe=zr({color:String,start:Boolean,end:Boolean,icon:_i,...fa(),...s9(),...Fc({tag:"i"}),...Ou()},"VIcon"),Ja=qo()({name:"VIcon",props:gRe(),setup(t,e){let{attrs:r,slots:a}=e;const i=Vo(),{themeClasses:d}=Cf(t),{iconData:f}=hRe(en(()=>i.value||t.icon)),{sizeClasses:h}=a9(t),{textColorClasses:c,textColorStyles:g}=Rp(ns(t,"color"));return Cs(()=>{var y,b;const v=(y=a.default)==null?void 0:y.call(a);return v&&(i.value=(b=xye(v).filter(O=>O.type===U$&&O.children&&typeof O.children=="string")[0])==null?void 0:b.children),it(f.value.component,{tag:t.tag,icon:f.value.icon,class:["v-icon","notranslate",d.value,h.value,c.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[h.value?void 0:{fontSize:cs(t.size),height:cs(t.size),width:cs(t.size)},g.value,t.style],role:r.onClick?"button":void 0,"aria-hidden":!r.onClick},{default:()=>[v]})}),{}}});function Kye(t,e){const r=Vo(),a=fs(!1);if(Gie){const i=new IntersectionObserver(d=>{t==null||t(d,i),a.value=!!d.find(f=>f.isIntersecting)},e);dm(()=>{i.disconnect()}),zo(r,(d,f)=>{f&&(i.unobserve(f),a.value=!1),d&&i.observe(d)},{flush:"post"})}return{intersectionRef:r,isIntersecting:a}}const pRe=zr({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...fa(),...s9(),...Fc({tag:"div"}),...Ou()},"VProgressCircular"),Jye=qo()({name:"VProgressCircular",props:pRe(),setup(t,e){let{slots:r}=e;const a=20,i=2*Math.PI*a,d=Vo(),{themeClasses:f}=Cf(t),{sizeClasses:h,sizeStyles:c}=a9(t),{textColorClasses:g,textColorStyles:v}=Rp(ns(t,"color")),{textColorClasses:y,textColorStyles:b}=Rp(ns(t,"bgColor")),{intersectionRef:O,isIntersecting:C}=Kye(),{resizeRef:k,contentRect:w}=VU(),T=en(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),R=en(()=>Number(t.width)),M=en(()=>c.value?Number(t.size):w.value?w.value.width:Math.max(R.value,32)),I=en(()=>a/(1-R.value/M.value)*2),V=en(()=>R.value/M.value*I.value),N=en(()=>cs((100-T.value)/100*i));return fm(()=>{O.value=d.value,k.value=d.value}),Cs(()=>it(t.tag,{ref:d,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":C.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},f.value,h.value,g.value,t.class],style:[c.value,v.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:T.value},{default:()=>[it("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${I.value} ${I.value}`},[it("circle",{class:["v-progress-circular__underlay",y.value],style:b.value,fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":V.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),it("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":V.value,"stroke-dasharray":i,"stroke-dashoffset":N.value},null)]),r.default&&it("div",{class:"v-progress-circular__content"},[r.default({value:T.value})])]})),{}}});const tme={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},dle=zr({location:String},"location");function hle(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:a}=Ip();return{locationStyles:en(()=>{if(!t.location)return{};const{side:d,align:f}=Kse(t.location.split(" ").length>1?t.location:`${t.location} center`,a.value);function h(g){return r?r(g):0}const c={};return d!=="center"&&(e?c[tme[d]]=`calc(100% - ${h(d)}px)`:c[d]=0),f!=="center"?e?c[tme[f]]=`calc(100% - ${h(f)}px)`:c[f]=0:(d==="center"?c.top=c.left="50%":c[{top:"left",bottom:"left",left:"top",right:"top"}[d]]="50%",c.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[d]),c})}}const vRe=zr({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...fa(),...dle({location:"top"}),...Np(),...Fc(),...Ou()},"VProgressLinear"),yRe=qo()({name:"VProgressLinear",props:vRe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"modelValue"),{isRtl:i,rtlClasses:d}=Ip(),{themeClasses:f}=Cf(t),{locationStyles:h}=hle(t),{textColorClasses:c,textColorStyles:g}=Rp(t,"color"),{backgroundColorClasses:v,backgroundColorStyles:y}=Dp(en(()=>t.bgColor||t.color)),{backgroundColorClasses:b,backgroundColorStyles:O}=Dp(t,"color"),{roundedClasses:C}=Bp(t),{intersectionRef:k,isIntersecting:w}=Kye(),T=en(()=>parseInt(t.max,10)),R=en(()=>parseInt(t.height,10)),M=en(()=>parseFloat(t.bufferValue)/T.value*100),I=en(()=>parseFloat(a.value)/T.value*100),V=en(()=>i.value!==t.reverse),N=en(()=>t.indeterminate?"fade-transition":"slide-x-transition"),Q=en(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function z(U){if(!k.value)return;const{left:F,right:B,width:E}=k.value.getBoundingClientRect(),W=V.value?E-U.clientX+(B-E):U.clientX-F;a.value=Math.round(W/E*T.value)}return Cs(()=>it(t.tag,{ref:k,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&w.value,"v-progress-linear--reverse":V.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},C.value,f.value,d.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?cs(R.value):0,"--v-progress-linear-height":cs(R.value),...h.value},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:I.value,onClick:t.clickable&&z},{default:()=>[t.stream&&it("div",{key:"stream",class:["v-progress-linear__stream",c.value],style:{...g.value,[V.value?"left":"right"]:cs(-R.value),borderTop:`${cs(R.value/2)} dotted`,opacity:Q.value,top:`calc(50% - ${cs(R.value/4)})`,width:cs(100-M.value,"%"),"--v-progress-linear-stream-to":cs(R.value*(V.value?1:-1))}},null),it("div",{class:["v-progress-linear__background",v.value],style:[y.value,{opacity:Q.value,width:cs(t.stream?M.value:100,"%")}]},null),it(OO,{name:N.value},{default:()=>[t.indeterminate?it("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(U=>it("div",{key:U,class:["v-progress-linear__indeterminate",U,b.value],style:O.value},null))]):it("div",{class:["v-progress-linear__determinate",b.value],style:[O.value,{width:cs(I.value,"%")}]},null)]}),r.default&&it("div",{class:"v-progress-linear__content"},[r.default({value:I.value,buffer:M.value})])]})),{}}}),ZU=zr({loading:[Boolean,String]},"loader");function HU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO();return{loaderClasses:en(()=>({[`${e}--loading`]:t.loading}))}}function mle(t,e){var a;let{slots:r}=e;return it("div",{class:`${t.name}__loader`},[((a=r.default)==null?void 0:a.call(r,{color:t.color,isActive:t.active}))||it(yRe,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const bRe=["static","relative","fixed","absolute","sticky"],ebe=zr({position:{type:String,validator:t=>bRe.includes(t)}},"position");function tbe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO();return{positionClasses:en(()=>t.position?`${e}--${t.position}`:void 0)}}function ORe(){var t,e;return(e=(t=Tf("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function UU(t,e){const r=ug("RouterLink"),a=en(()=>!!(t.href||t.to)),i=en(()=>(a==null?void 0:a.value)||Ehe(e,"click")||Ehe(t,"click"));if(typeof r=="string")return{isLink:a,isClickable:i,href:ns(t,"href")};const d=t.to?r.useLink(t):void 0;return{isLink:a,isClickable:i,route:d==null?void 0:d.route,navigate:d==null?void 0:d.navigate,isActive:d&&en(()=>{var f,h;return t.exact?(f=d.isExactActive)==null?void 0:f.value:(h=d.isActive)==null?void 0:h.value}),href:en(()=>t.to?d==null?void 0:d.route.value.href:t.href)}}const WU=zr({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let doe=!1;function xRe(t,e){let r=!1,a,i;zl&&(Zl(()=>{window.addEventListener("popstate",d),a=t==null?void 0:t.beforeEach((f,h,c)=>{doe?r?e(c):c():setTimeout(()=>r?e(c):c()),doe=!0}),i=t==null?void 0:t.afterEach(()=>{doe=!1})}),cm(()=>{window.removeEventListener("popstate",d),a==null||a(),i==null||i()}));function d(f){var h;(h=f.state)!=null&&h.replaced||(r=!0,setTimeout(()=>r=!1))}}function SRe(t,e){zo(()=>{var r;return(r=t.isActive)==null?void 0:r.value},r=>{t.isLink.value&&r&&e&&Zl(()=>{e(!0)})},{immediate:!0})}const tae=Symbol("rippleStop"),wRe=80;function nme(t,e){t.style.transform=e,t.style.webkitTransform=e}function nae(t){return t.constructor.name==="TouchEvent"}function nbe(t){return t.constructor.name==="KeyboardEvent"}const TRe=function(t,e){var y;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=0,i=0;if(!nbe(t)){const b=e.getBoundingClientRect(),O=nae(t)?t.touches[t.touches.length-1]:t;a=O.clientX-b.left,i=O.clientY-b.top}let d=0,f=.3;(y=e._ripple)!=null&&y.circle?(f=.15,d=e.clientWidth/2,d=r.center?d:d+Math.sqrt((a-d)**2+(i-d)**2)/4):d=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const h=`${(e.clientWidth-d*2)/2}px`,c=`${(e.clientHeight-d*2)/2}px`,g=r.center?h:`${a-d}px`,v=r.center?c:`${i-d}px`;return{radius:d,scale:f,x:g,y:v,centerX:h,centerY:c}},YH={show(t,e){var O;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((O=e==null?void 0:e._ripple)!=null&&O.enabled))return;const a=document.createElement("span"),i=document.createElement("span");a.appendChild(i),a.className="v-ripple__container",r.class&&(a.className+=` ${r.class}`);const{radius:d,scale:f,x:h,y:c,centerX:g,centerY:v}=TRe(t,e,r),y=`${d*2}px`;i.className="v-ripple__animation",i.style.width=y,i.style.height=y,e.appendChild(a);const b=window.getComputedStyle(e);b&&b.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),nme(i,`translate(${h}, ${c}) scale3d(${f},${f},${f})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),nme(i,`translate(${g}, ${v}) scale3d(1,1,1)`)},0)},hide(t){var d;if(!((d=t==null?void 0:t._ripple)!=null&&d.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const r=e[e.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const a=performance.now()-Number(r.dataset.activated),i=Math.max(250-a,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{var h;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((h=r.parentNode)==null?void 0:h.parentNode)===t&&t.removeChild(r.parentNode)},300)},i)}};function rbe(t){return typeof t>"u"||!!t}function _$(t){const e={},r=t.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||t[tae])){if(t[tae]=!0,nae(t))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(e.center=r._ripple.centered||nbe(t),r._ripple.class&&(e.class=r._ripple.class),nae(t)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{YH.show(t,r,e)},r._ripple.showTimer=window.setTimeout(()=>{var a;(a=r==null?void 0:r._ripple)!=null&&a.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},wRe)}else YH.show(t,r,e)}}function rme(t){t[tae]=!0}function hg(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{hg(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),YH.hide(e)}}function obe(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let R$=!1;function sbe(t){!R$&&(t.keyCode===Ahe.enter||t.keyCode===Ahe.space)&&(R$=!0,_$(t))}function abe(t){R$=!1,hg(t)}function ibe(t){R$&&(R$=!1,hg(t))}function lbe(t,e,r){const{value:a,modifiers:i}=e,d=rbe(a);if(d||YH.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=d,t._ripple.centered=i.center,t._ripple.circle=i.circle,jse(a)&&a.class&&(t._ripple.class=a.class),d&&!r){if(i.stop){t.addEventListener("touchstart",rme,{passive:!0}),t.addEventListener("mousedown",rme);return}t.addEventListener("touchstart",_$,{passive:!0}),t.addEventListener("touchend",hg,{passive:!0}),t.addEventListener("touchmove",obe,{passive:!0}),t.addEventListener("touchcancel",hg),t.addEventListener("mousedown",_$),t.addEventListener("mouseup",hg),t.addEventListener("mouseleave",hg),t.addEventListener("keydown",sbe),t.addEventListener("keyup",abe),t.addEventListener("blur",ibe),t.addEventListener("dragstart",hg,{passive:!0})}else!d&&r&&cbe(t)}function cbe(t){t.removeEventListener("mousedown",_$),t.removeEventListener("touchstart",_$),t.removeEventListener("touchend",hg),t.removeEventListener("touchmove",obe),t.removeEventListener("touchcancel",hg),t.removeEventListener("mouseup",hg),t.removeEventListener("mouseleave",hg),t.removeEventListener("keydown",sbe),t.removeEventListener("keyup",abe),t.removeEventListener("dragstart",hg),t.removeEventListener("blur",ibe)}function CRe(t,e){lbe(t,e,!1)}function kRe(t){delete t._ripple,cbe(t)}function ARe(t,e){if(e.value===e.oldValue)return;const r=rbe(e.oldValue);lbe(t,e,r)}const q3={mounted:CRe,unmounted:kRe,updated:ARe},PRe=zr({active:{type:Boolean,default:void 0},symbol:{type:null,default:Xye},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:_i,appendIcon:_i,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...G3(),...fa(),...qv(),...W3(),...MO(),...cle(),...ZU(),...dle(),...ebe(),...Np(),...WU(),...s9(),...Fc({tag:"button"}),...Ou(),...VS({variant:"elevated"})},"VBtn"),rc=qo()({name:"VBtn",directives:{Ripple:q3},props:PRe(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:r,slots:a}=e;const{themeClasses:i}=Cf(t),{borderClasses:d}=j3(t),{colorClasses:f,colorStyles:h,variantClasses:c}=o9(t),{densityClasses:g}=cy(t),{dimensionStyles:v}=Y3(t),{elevationClasses:y}=EO(t),{loaderClasses:b}=HU(t),{locationStyles:O}=hle(t),{positionClasses:C}=tbe(t),{roundedClasses:k}=Bp(t),{sizeClasses:w,sizeStyles:T}=a9(t),R=ule(t,t.symbol,!1),M=UU(t,r),I=en(()=>{var U;return t.active!==void 0?t.active:M.isLink.value?(U=M.isActive)==null?void 0:U.value:R==null?void 0:R.isSelected.value}),V=en(()=>(R==null?void 0:R.disabled.value)||t.disabled),N=en(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),Q=en(()=>{if(t.value!==void 0)return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function z(U){var F;V.value||M.isLink.value&&(U.metaKey||U.ctrlKey||U.shiftKey||U.button!==0||r.target==="_blank")||((F=M.navigate)==null||F.call(M,U),R==null||R.toggle())}return SRe(M,R==null?void 0:R.select),Cs(()=>{var X,ie;const U=M.isLink.value?"a":t.tag,F=!!(t.prependIcon||a.prepend),B=!!(t.appendIcon||a.append),E=!!(t.icon&&t.icon!==!0),W=(R==null?void 0:R.isSelected.value)&&(!M.isLink.value||((X=M.isActive)==null?void 0:X.value))||!R||((ie=M.isActive)==null?void 0:ie.value);return Fu(it(U,{type:U==="a"?void 0:"button",class:["v-btn",R==null?void 0:R.selectedClass.value,{"v-btn--active":I.value,"v-btn--block":t.block,"v-btn--disabled":V.value,"v-btn--elevated":N.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},i.value,d.value,W?f.value:void 0,g.value,y.value,b.value,C.value,k.value,w.value,c.value,t.class],style:[W?h.value:void 0,v.value,O.value,T.value,t.style],disabled:V.value||void 0,href:M.href.value,onClick:z,value:Q.value},{default:()=>{var L;return[r9(!0,"v-btn"),!t.icon&&F&&it("span",{key:"prepend",class:"v-btn__prepend"},[a.prepend?it(Jc,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},a.prepend):it(Ja,{key:"prepend-icon",icon:t.prependIcon},null)]),it("span",{class:"v-btn__content","data-no-activator":""},[!a.default&&E?it(Ja,{key:"content-icon",icon:t.icon},null):it(Jc,{key:"content-defaults",disabled:!E,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var me;return[((me=a.default)==null?void 0:me.call(a))??t.text]}})]),!t.icon&&B&&it("span",{key:"append",class:"v-btn__append"},[a.append?it(Jc,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},a.append):it(Ja,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&it("span",{key:"loader",class:"v-btn__loader"},[((L=a.loader)==null?void 0:L.call(a))??it(Jye,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Yv("ripple"),!V.value&&t.ripple,null]])}),{}}});const MRe=zr({text:String,clickable:Boolean,...fa(),...Ou()},"VLabel"),YU=qo()({name:"VLabel",props:MRe(),setup(t,e){let{slots:r}=e;return Cs(()=>{var a;return it("label",{class:["v-label",{"v-label--clickable":t.clickable},t.class],style:t.style},[t.text,(a=r.default)==null?void 0:a.call(r)])}),{}}});const ube=Symbol.for("vuetify:selection-control-group"),fbe=zr({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:_i,trueIcon:_i,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:U3},...fa(),...qv(),...Ou()},"SelectionControlGroup"),ERe=zr({...fbe({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");qo()({name:"VSelectionControlGroup",props:ERe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"modelValue"),i=jv(),d=en(()=>t.id||`v-selection-control-group-${i}`),f=en(()=>t.name||d.value),h=new Set;return Cl(ube,{modelValue:a,forceUpdate:()=>{h.forEach(c=>c())},onForceUpdate:c=>{h.add(c),cm(()=>{h.delete(c)})}}),ly({[t.defaultsTarget]:{color:ns(t,"color"),disabled:ns(t,"disabled"),density:ns(t,"density"),error:ns(t,"error"),inline:ns(t,"inline"),modelValue:a,multiple:en(()=>!!t.multiple||t.multiple==null&&Array.isArray(a.value)),name:f,falseIcon:ns(t,"falseIcon"),trueIcon:ns(t,"trueIcon"),readonly:ns(t,"readonly"),ripple:ns(t,"ripple"),type:ns(t,"type"),valueComparator:ns(t,"valueComparator")}}),Cs(()=>{var c;return it("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(c=r.default)==null?void 0:c.call(r)])}),{}}});const dbe=zr({label:String,trueValue:null,falseValue:null,value:null,...fa(),...fbe()},"VSelectionControl");function _Re(t){const e=Ra(ube,void 0),{densityClasses:r}=cy(t),a=pi(t,"modelValue"),i=en(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),d=en(()=>t.falseValue!==void 0?t.falseValue:!1),f=en(()=>!!t.multiple||t.multiple==null&&Array.isArray(a.value)),h=en({get(){const O=e?e.modelValue.value:a.value;return f.value?O.some(C=>t.valueComparator(C,i.value)):t.valueComparator(O,i.value)},set(O){if(t.readonly)return;const C=O?i.value:d.value;let k=C;f.value&&(k=O?[...gh(a.value),C]:gh(a.value).filter(w=>!t.valueComparator(w,i.value))),e?e.modelValue.value=k:a.value=k}}),{textColorClasses:c,textColorStyles:g}=Rp(en(()=>h.value&&!t.error&&!t.disabled?t.color:void 0)),{backgroundColorClasses:v,backgroundColorStyles:y}=Dp(en(()=>h.value&&!t.error&&!t.disabled?t.color:void 0)),b=en(()=>h.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:r,trueValue:i,falseValue:d,model:h,textColorClasses:c,textColorStyles:g,backgroundColorClasses:v,backgroundColorStyles:y,icon:b}}const ome=qo()({name:"VSelectionControl",directives:{Ripple:q3},inheritAttrs:!1,props:dbe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:a}=e;const{group:i,densityClasses:d,icon:f,model:h,textColorClasses:c,textColorStyles:g,backgroundColorClasses:v,backgroundColorStyles:y,trueValue:b}=_Re(t),O=jv(),C=en(()=>t.id||`input-${O}`),k=fs(!1),w=fs(!1),T=Vo();i==null||i.onForceUpdate(()=>{T.value&&(T.value.checked=h.value)});function R(V){k.value=!0,bM(V.target,":focus-visible")!==!1&&(w.value=!0)}function M(){k.value=!1,w.value=!1}function I(V){t.readonly&&i&&Zl(()=>i.forceUpdate()),h.value=V.target.checked}return Cs(()=>{var U,F;const V=a.label?a.label({label:t.label,props:{for:C.value}}):t.label,[N,Q]=qie(r),z=it("input",rs({ref:T,checked:h.value,disabled:!!(t.readonly||t.disabled),id:C.value,onBlur:M,onFocus:R,onInput:I,"aria-disabled":!!(t.readonly||t.disabled),type:t.type,value:b.value,name:t.name,"aria-checked":t.type==="checkbox"?h.value:void 0},Q),null);return it("div",rs({class:["v-selection-control",{"v-selection-control--dirty":h.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":k.value,"v-selection-control--focus-visible":w.value,"v-selection-control--inline":t.inline},d.value,t.class]},N,{style:t.style}),[it("div",{class:["v-selection-control__wrapper",c.value],style:g.value},[(U=a.default)==null?void 0:U.call(a,{backgroundColorClasses:v,backgroundColorStyles:y}),Fu(it("div",{class:["v-selection-control__input"]},[((F=a.input)==null?void 0:F.call(a,{model:h,textColorClasses:c,textColorStyles:g,backgroundColorClasses:v,backgroundColorStyles:y,inputNode:z,icon:f.value,props:{onFocus:R,onBlur:M,id:C.value}}))??it(Go,null,[f.value&&it(Ja,{key:"icon",icon:f.value},null),z])]),[[Yv("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),V&&it(YU,{for:C.value,clickable:!0,onClick:B=>B.stopPropagation()},{default:()=>[V]})])}),{isFocused:k,input:T}}}),RRe=zr({indeterminate:Boolean,indeterminateIcon:{type:_i,default:"$checkboxIndeterminate"},...dbe({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),BM=qo()({name:"VCheckboxBtn",props:RRe(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"indeterminate"),i=pi(t,"modelValue");function d(c){a.value&&(a.value=!1)}const f=en(()=>a.value?t.indeterminateIcon:t.falseIcon),h=en(()=>a.value?t.indeterminateIcon:t.trueIcon);return Cs(()=>{const c=LM(ome.filterProps(t)[0],["modelValue"]);return it(ome,rs(c,{modelValue:i.value,"onUpdate:modelValue":[g=>i.value=g,d],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:f.value,trueIcon:h.value,"aria-checked":a.value?"mixed":void 0}),r)}),{}}});function hbe(t){const{t:e}=FS();function r(a){let{name:i}=a;const d={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],f=t[`onClick:${i}`],h=f&&d?e(`$vuetify.input.${d}`,t.label??""):void 0;return it(Ja,{icon:t[`${i}Icon`],"aria-label":h,onClick:f},null)}return{InputIcon:r}}const DRe=zr({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...fa(),...X3({transition:{component:Vye,leaveAbsolute:!0,group:!0}})},"VMessages"),$Re=qo()({name:"VMessages",props:DRe(),setup(t,e){let{slots:r}=e;const a=en(()=>gh(t.messages)),{textColorClasses:i,textColorStyles:d}=Rp(en(()=>t.color));return Cs(()=>it(yS,{transition:t.transition,tag:"div",class:["v-messages",i.value,t.class],style:[d.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&a.value.map((f,h)=>it("div",{class:"v-messages__message",key:`${h}-${a.value}`},[r.message?r.message({message:f}):f]))]})),{}}}),XU=zr({focused:Boolean,"onUpdate:focused":ny()},"focus");function i9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO();const r=pi(t,"focused"),a=en(()=>({[`${e}--focused`]:r.value}));function i(){r.value=!0}function d(){r.value=!1}return{focusClasses:a,isFocused:r,focus:i,blur:d}}const LRe=Symbol.for("vuetify:form");function GU(){return Ra(LRe,null)}const IRe=zr({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...XU()},"validation");function NRe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PO(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jv();const a=pi(t,"modelValue"),i=en(()=>t.validationValue===void 0?a.value:t.validationValue),d=GU(),f=Vo([]),h=fs(!0),c=en(()=>!!(gh(a.value===""?null:a.value).length||gh(i.value===""?null:i.value).length)),g=en(()=>!!(t.disabled??(d==null?void 0:d.isDisabled.value))),v=en(()=>!!(t.readonly??(d==null?void 0:d.isReadonly.value))),y=en(()=>{var I;return(I=t.errorMessages)!=null&&I.length?gh(t.errorMessages).slice(0,Math.max(0,+t.maxErrors)):f.value}),b=en(()=>{let I=(t.validateOn??(d==null?void 0:d.validateOn.value))||"input";I==="lazy"&&(I="input lazy");const V=new Set((I==null?void 0:I.split(" "))??[]);return{blur:V.has("blur")||V.has("input"),input:V.has("input"),submit:V.has("submit"),lazy:V.has("lazy")}}),O=en(()=>{var I;return t.error||(I=t.errorMessages)!=null&&I.length?!1:t.rules.length?h.value?f.value.length||b.value.lazy?null:!0:!f.value.length:!0}),C=fs(!1),k=en(()=>({[`${e}--error`]:O.value===!1,[`${e}--dirty`]:c.value,[`${e}--disabled`]:g.value,[`${e}--readonly`]:v.value})),w=en(()=>t.name??Sf(r));eie(()=>{d==null||d.register({id:w.value,validate:M,reset:T,resetValidation:R})}),dm(()=>{d==null||d.unregister(w.value)}),vg(async()=>{b.value.lazy||await M(!0),d==null||d.update(w.value,O.value,y.value)}),DS(()=>b.value.input,()=>{zo(i,()=>{if(i.value!=null)M();else if(t.focused){const I=zo(()=>t.focused,V=>{V||M(),I()})}})}),DS(()=>b.value.blur,()=>{zo(()=>t.focused,I=>{I||M()})}),zo(O,()=>{d==null||d.update(w.value,O.value,y.value)});function T(){a.value=null,Zl(R)}function R(){h.value=!0,b.value.lazy?f.value=[]:M(!0)}async function M(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const V=[];C.value=!0;for(const N of t.rules){if(V.length>=+(t.maxErrors??1))break;const z=await(typeof N=="function"?N:()=>N)(i.value);if(z!==!0){if(z!==!1&&typeof z!="string"){console.warn(`${z} is not a valid value. Rule functions must return boolean true or a string.`);continue}V.push(z||"")}}return f.value=V,C.value=!1,h.value=I,f.value}return{errorMessages:y,isDirty:c,isDisabled:g,isReadonly:v,isPristine:h,isValid:O,isValidating:C,reset:T,resetValidation:R,validate:M,validationClasses:k}}const l9=zr({id:String,appendIcon:_i,centerAffix:{type:Boolean,default:!0},prependIcon:_i,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":ny(),"onClick:append":ny(),...fa(),...qv(),...IRe()},"VInput"),$S=qo()({name:"VInput",props:{...l9()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:a,emit:i}=e;const{densityClasses:d}=cy(t),{rtlClasses:f}=Ip(),{InputIcon:h}=hbe(t),c=jv(),g=en(()=>t.id||`input-${c}`),v=en(()=>`${g.value}-messages`),{errorMessages:y,isDirty:b,isDisabled:O,isReadonly:C,isPristine:k,isValid:w,isValidating:T,reset:R,resetValidation:M,validate:I,validationClasses:V}=NRe(t,"v-input",g),N=en(()=>({id:g,messagesId:v,isDirty:b,isDisabled:O,isReadonly:C,isPristine:k,isValid:w,isValidating:T,reset:R,resetValidation:M,validate:I})),Q=en(()=>{var z;return(z=t.errorMessages)!=null&&z.length||!k.value&&y.value.length?y.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return Cs(()=>{var E,W,X,ie;const z=!!(a.prepend||t.prependIcon),U=!!(a.append||t.appendIcon),F=Q.value.length>0,B=!t.hideDetails||t.hideDetails==="auto"&&(F||!!a.details);return it("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix},d.value,f.value,V.value,t.class],style:t.style},[z&&it("div",{key:"prepend",class:"v-input__prepend"},[(E=a.prepend)==null?void 0:E.call(a,N.value),t.prependIcon&&it(h,{key:"prepend-icon",name:"prepend"},null)]),a.default&&it("div",{class:"v-input__control"},[(W=a.default)==null?void 0:W.call(a,N.value)]),U&&it("div",{key:"append",class:"v-input__append"},[t.appendIcon&&it(h,{key:"append-icon",name:"append"},null),(X=a.append)==null?void 0:X.call(a,N.value)]),B&&it("div",{class:"v-input__details"},[it($Re,{id:v.value,active:F,messages:Q.value},{message:a.message}),(ie=a.details)==null?void 0:ie.call(a,N.value)])])}),{reset:R,resetValidation:M,validate:I}}});const BRe=zr({start:Boolean,end:Boolean,icon:_i,image:String,...fa(),...qv(),...Np(),...s9(),...Fc(),...Ou(),...VS({variant:"flat"})},"VAvatar"),xM=qo()({name:"VAvatar",props:BRe(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=Cf(t),{colorClasses:i,colorStyles:d,variantClasses:f}=o9(t),{densityClasses:h}=cy(t),{roundedClasses:c}=Bp(t),{sizeClasses:g,sizeStyles:v}=a9(t);return Cs(()=>it(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},a.value,i.value,h.value,c.value,g.value,f.value,t.class],style:[d.value,v.value,t.style]},{default:()=>{var y;return[t.image?it(n9,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?it(Ja,{key:"icon",icon:t.icon},null):(y=r.default)==null?void 0:y.call(r),r9(!1,"v-avatar")]}})),{}}});const mbe=Symbol.for("vuetify:v-chip-group"),QRe=zr({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:U3},...fa(),...lle({selectedClass:"v-chip--selected"}),...Fc(),...Ou(),...VS({variant:"tonal"})},"VChipGroup");qo()({name:"VChipGroup",props:QRe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{themeClasses:a}=Cf(t),{isSelected:i,select:d,next:f,prev:h,selected:c}=fle(t,mbe);return ly({VChip:{color:ns(t,"color"),disabled:ns(t,"disabled"),filter:ns(t,"filter"),variant:ns(t,"variant")}}),Cs(()=>it(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},a.value,t.class],style:t.style},{default:()=>{var g;return[(g=r.default)==null?void 0:g.call(r,{isSelected:i,select:d,next:f,prev:h,selected:c.value})]}})),{}}});const FRe=zr({activeClass:String,appendAvatar:String,appendIcon:_i,closable:Boolean,closeIcon:{type:_i,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:_i,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ny(),onClickOnce:ny(),...G3(),...fa(),...qv(),...MO(),...cle(),...Np(),...WU(),...s9(),...Fc({tag:"span"}),...Ou(),...VS({variant:"tonal"})},"VChip"),iM=qo()({name:"VChip",directives:{Ripple:q3},props:FRe(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{t:d}=FS(),{borderClasses:f}=j3(t),{colorClasses:h,colorStyles:c,variantClasses:g}=o9(t),{densityClasses:v}=cy(t),{elevationClasses:y}=EO(t),{roundedClasses:b}=Bp(t),{sizeClasses:O}=a9(t),{themeClasses:C}=Cf(t),k=pi(t,"modelValue"),w=ule(t,mbe,!1),T=UU(t,r),R=en(()=>t.link!==!1&&T.isLink.value),M=en(()=>!t.disabled&&t.link!==!1&&(!!w||t.link||T.isClickable.value)),I=en(()=>({"aria-label":d(t.closeLabel),onClick(Q){Q.stopPropagation(),k.value=!1,a("click:close",Q)}}));function V(Q){var z;a("click",Q),M.value&&((z=T.navigate)==null||z.call(T,Q),w==null||w.toggle())}function N(Q){(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),V(Q))}return()=>{const Q=T.isLink.value?"a":t.tag,z=!!(t.appendIcon||t.appendAvatar),U=!!(z||i.append),F=!!(i.close||t.closable),B=!!(i.filter||t.filter)&&w,E=!!(t.prependIcon||t.prependAvatar),W=!!(E||i.prepend),X=!w||w.isSelected.value;return k.value&&Fu(it(Q,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":M.value,"v-chip--filter":B,"v-chip--pill":t.pill},C.value,f.value,X?h.value:void 0,v.value,y.value,b.value,O.value,g.value,w==null?void 0:w.selectedClass.value,t.class],style:[X?c.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:T.href.value,tabindex:M.value?0:void 0,onClick:V,onKeydown:M.value&&!R.value&&N},{default:()=>{var ie;return[r9(M.value,"v-chip"),B&&it(zye,{key:"filter"},{default:()=>[Fu(it("div",{class:"v-chip__filter"},[i.filter?it(Jc,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},i.filter):it(Ja,{key:"filter-icon",icon:t.filterIcon},null)]),[[LS,w.isSelected.value]])]}),W&&it("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?it(Jc,{key:"prepend-defaults",disabled:!E,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},i.prepend):it(Go,null,[t.prependIcon&&it(Ja,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&it(xM,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),it("div",{class:"v-chip__content"},[((ie=i.default)==null?void 0:ie.call(i,{isSelected:w==null?void 0:w.isSelected.value,selectedClass:w==null?void 0:w.selectedClass.value,select:w==null?void 0:w.select,toggle:w==null?void 0:w.toggle,value:w==null?void 0:w.value.value,disabled:t.disabled}))??t.text]),U&&it("div",{key:"append",class:"v-chip__append"},[i.append?it(Jc,{key:"append-defaults",disabled:!z,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},i.append):it(Go,null,[t.appendIcon&&it(Ja,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&it(xM,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),F&&it("div",rs({key:"close",class:"v-chip__close"},I.value),[i.close?it(Jc,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},i.close):it(Ja,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Yv("ripple"),M.value&&t.ripple,null]])}}});const rae=Symbol.for("vuetify:list");function gbe(){const t=Ra(rae,{hasPrepend:fs(!1),updateHasPrepend:()=>null}),e={hasPrepend:fs(!1),updateHasPrepend:r=>{r&&(e.hasPrepend.value=r)}};return Cl(rae,e),t}function pbe(){return Ra(rae,null)}const VRe={open:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(r){const d=new Set;d.add(e);let f=i.get(e);for(;f!=null;)d.add(f),f=i.get(f);return d}else return a.delete(e),a},select:()=>null},vbe={open:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(r){let d=i.get(e);for(a.add(e);d!=null&&d!==e;)a.add(d),d=i.get(d);return a}else a.delete(e);return a},select:()=>null},zRe={open:vbe.open,select:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(!r)return a;const d=[];let f=i.get(e);for(;f!=null;)d.push(f),f=i.get(f);return new Set(d)}},gle=t=>{const e={select:r=>{let{id:a,value:i,selected:d}=r;if(a=va(a),t&&!i){const f=Array.from(d.entries()).reduce((h,c)=>{let[g,v]=c;return v==="on"?[...h,g]:h},[]);if(f.length===1&&f[0]===a)return d}return d.set(a,i?"on":"off"),d},in:(r,a,i)=>{let d=new Map;for(const f of r||[])d=e.select({id:f,value:!0,selected:new Map(d),children:a,parents:i});return d},out:r=>{const a=[];for(const[i,d]of r.entries())d==="on"&&a.push(i);return a}};return e},ybe=t=>{const e=gle(t);return{select:a=>{let{selected:i,id:d,...f}=a;d=va(d);const h=i.has(d)?new Map([[d,i.get(d)]]):new Map;return e.select({...f,id:d,selected:h})},in:(a,i,d)=>{let f=new Map;return a!=null&&a.length&&(f=e.in(a.slice(0,1),i,d)),f},out:(a,i,d)=>e.out(a,i,d)}},ZRe=t=>{const e=gle(t);return{select:a=>{let{id:i,selected:d,children:f,...h}=a;return i=va(i),f.has(i)?d:e.select({id:i,selected:d,children:f,...h})},in:e.in,out:e.out}},HRe=t=>{const e=ybe(t);return{select:a=>{let{id:i,selected:d,children:f,...h}=a;return i=va(i),f.has(i)?d:e.select({id:i,selected:d,children:f,...h})},in:e.in,out:e.out}},URe=t=>{const e={select:r=>{let{id:a,value:i,selected:d,children:f,parents:h}=r;a=va(a);const c=new Map(d),g=[a];for(;g.length;){const y=g.shift();d.set(y,i?"on":"off"),f.has(y)&&g.push(...f.get(y))}let v=h.get(a);for(;v;){const y=f.get(v),b=y.every(C=>d.get(C)==="on"),O=y.every(C=>!d.has(C)||d.get(C)==="off");d.set(v,b?"on":O?"off":"indeterminate"),v=h.get(v)}return t&&!i&&Array.from(d.entries()).reduce((b,O)=>{let[C,k]=O;return k==="on"?[...b,C]:b},[]).length===0?c:d},in:(r,a,i)=>{let d=new Map;for(const f of r||[])d=e.select({id:f,value:!0,selected:new Map(d),children:a,parents:i});return d},out:(r,a)=>{const i=[];for(const[d,f]of r.entries())f==="on"&&!a.has(d)&&i.push(d);return i}};return e},D$=Symbol.for("vuetify:nested"),bbe={id:fs(),root:{register:()=>null,unregister:()=>null,parents:Vo(new Map),children:Vo(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:Vo(new Set),selected:Vo(new Map),selectedValues:Vo([])}},WRe=zr({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),YRe=t=>{let e=!1;const r=Vo(new Map),a=Vo(new Map),i=pi(t,"opened",t.opened,y=>new Set(y),y=>[...y.values()]),d=en(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return HRe(t.mandatory);case"leaf":return ZRe(t.mandatory);case"independent":return gle(t.mandatory);case"single-independent":return ybe(t.mandatory);case"classic":default:return URe(t.mandatory)}}),f=en(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return zRe;case"single":return VRe;case"multiple":default:return vbe}}),h=pi(t,"selected",t.selected,y=>d.value.in(y,r.value,a.value),y=>d.value.out(y,r.value,a.value));dm(()=>{e=!0});function c(y){const b=[];let O=y;for(;O!=null;)b.unshift(O),O=a.value.get(O);return b}const g=Tf("nested"),v={id:fs(),root:{opened:i,selected:h,selectedValues:en(()=>{const y=[];for(const[b,O]of h.value.entries())O==="on"&&y.push(b);return y}),register:(y,b,O)=>{b&&y!==b&&a.value.set(y,b),O&&r.value.set(y,[]),b!=null&&r.value.set(b,[...r.value.get(b)||[],y])},unregister:y=>{if(e)return;r.value.delete(y);const b=a.value.get(y);if(b){const O=r.value.get(b)??[];r.value.set(b,O.filter(C=>C!==y))}a.value.delete(y),i.value.delete(y)},open:(y,b,O)=>{g.emit("click:open",{id:y,value:b,path:c(y),event:O});const C=f.value.open({id:y,value:b,opened:new Set(i.value),children:r.value,parents:a.value,event:O});C&&(i.value=C)},openOnSelect:(y,b,O)=>{const C=f.value.select({id:y,value:b,selected:new Map(h.value),opened:new Set(i.value),children:r.value,parents:a.value,event:O});C&&(i.value=C)},select:(y,b,O)=>{g.emit("click:select",{id:y,value:b,path:c(y),event:O});const C=d.value.select({id:y,value:b,selected:new Map(h.value),children:r.value,parents:a.value,event:O});C&&(h.value=C),v.root.openOnSelect(y,b,O)},children:r,parents:a}};return Cl(D$,v),v.root},Obe=(t,e)=>{const r=Ra(D$,bbe),a=Symbol(jv()),i=en(()=>t.value!==void 0?t.value:a),d={...r,id:i,open:(f,h)=>r.root.open(i.value,f,h),openOnSelect:(f,h)=>r.root.openOnSelect(i.value,f,h),isOpen:en(()=>r.root.opened.value.has(i.value)),parent:en(()=>r.root.parents.value.get(i.value)),select:(f,h)=>r.root.select(i.value,f,h),isSelected:en(()=>r.root.selected.value.get(va(i.value))==="on"),isIndeterminate:en(()=>r.root.selected.value.get(i.value)==="indeterminate"),isLeaf:en(()=>!r.root.children.value.get(i.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(i.value,r.id.value,e),dm(()=>{!r.isGroupActivator&&r.root.unregister(i.value)}),e&&Cl(D$,d),d},XRe=()=>{const t=Ra(D$,bbe);Cl(D$,{...t,isGroupActivator:!0})},GRe=IM({name:"VListGroupActivator",setup(t,e){let{slots:r}=e;return XRe(),()=>{var a;return(a=r.default)==null?void 0:a.call(r)}}}),jRe=zr({activeColor:String,baseColor:String,color:String,collapseIcon:{type:_i,default:"$collapse"},expandIcon:{type:_i,default:"$expand"},prependIcon:_i,appendIcon:_i,fluid:Boolean,subgroup:Boolean,title:String,value:null,...fa(),...Fc()},"VListGroup"),sme=qo()({name:"VListGroup",props:jRe(),setup(t,e){let{slots:r}=e;const{isOpen:a,open:i,id:d}=Obe(ns(t,"value"),!0),f=en(()=>`v-list-group--id-${String(d.value)}`),h=pbe(),{isBooted:c}=ile();function g(O){i(!a.value,O)}const v=en(()=>({onClick:g,class:"v-list-group__header",id:f.value})),y=en(()=>a.value?t.collapseIcon:t.expandIcon),b=en(()=>({VListItem:{active:a.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&y.value,appendIcon:t.appendIcon||!t.subgroup&&y.value,title:t.title,value:t.value}}));return Cs(()=>it(t.tag,{class:["v-list-group",{"v-list-group--prepend":h==null?void 0:h.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":a.value},t.class],style:t.style},{default:()=>[r.activator&&it(Jc,{defaults:b.value},{default:()=>[it(GRe,null,{default:()=>[r.activator({props:v.value,isOpen:a.value})]})]}),it(yS,{transition:{component:ole},disabled:!c.value},{default:()=>{var O;return[Fu(it("div",{class:"v-list-group__items",role:"group","aria-labelledby":f.value},[(O=r.default)==null?void 0:O.call(r)]),[[LS,a.value]])]}})]})),{}}});const qRe=NM("v-list-item-subtitle"),KRe=NM("v-list-item-title"),JRe=zr({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:_i,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:_i,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:ny(),onClickOnce:ny(),...G3(),...fa(),...qv(),...W3(),...MO(),...Np(),...WU(),...Fc(),...Ou(),...VS({variant:"text"})},"VListItem"),pg=qo()({name:"VListItem",directives:{Ripple:q3},props:JRe(),emits:{click:t=>!0},setup(t,e){let{attrs:r,slots:a,emit:i}=e;const d=UU(t,r),f=en(()=>t.value===void 0?d.href.value:t.value),{select:h,isSelected:c,isIndeterminate:g,isGroupActivator:v,root:y,parent:b,openOnSelect:O}=Obe(f,!1),C=pbe(),k=en(()=>{var ae;return t.active!==!1&&(t.active||((ae=d.isActive)==null?void 0:ae.value)||c.value)}),w=en(()=>t.link!==!1&&d.isLink.value),T=en(()=>!t.disabled&&t.link!==!1&&(t.link||d.isClickable.value||t.value!=null&&!!C)),R=en(()=>t.rounded||t.nav),M=en(()=>t.color??t.activeColor),I=en(()=>({color:k.value?M.value??t.baseColor:t.baseColor,variant:t.variant}));zo(()=>{var ae;return(ae=d.isActive)==null?void 0:ae.value},ae=>{ae&&b.value!=null&&y.open(b.value,!0),ae&&O(ae)},{immediate:!0});const{themeClasses:V}=Cf(t),{borderClasses:N}=j3(t),{colorClasses:Q,colorStyles:z,variantClasses:U}=o9(I),{densityClasses:F}=cy(t),{dimensionStyles:B}=Y3(t),{elevationClasses:E}=EO(t),{roundedClasses:W}=Bp(R),X=en(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),ie=en(()=>({isActive:k.value,select:h,isSelected:c.value,isIndeterminate:g.value}));function L(ae){var q;i("click",ae),!(v||!T.value)&&((q=d.navigate)==null||q.call(d,ae),t.value!=null&&h(!c.value,ae))}function me(ae){(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),L(ae))}return Cs(()=>{const ae=w.value?"a":t.tag,q=a.title||t.title,de=a.subtitle||t.subtitle,ee=!!(t.appendAvatar||t.appendIcon),xe=!!(ee||a.append),we=!!(t.prependAvatar||t.prependIcon),Be=!!(we||a.prepend);return C==null||C.updateHasPrepend(Be),t.activeColor&&s_e("active-color",["color","base-color"]),Fu(it(ae,{class:["v-list-item",{"v-list-item--active":k.value,"v-list-item--disabled":t.disabled,"v-list-item--link":T.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Be&&(C==null?void 0:C.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&k.value},V.value,N.value,Q.value,F.value,E.value,X.value,W.value,U.value,t.class],style:[z.value,B.value,t.style],href:d.href.value,tabindex:T.value?C?-2:0:void 0,onClick:L,onKeydown:T.value&&!w.value&&me},{default:()=>{var pe;return[r9(T.value||k.value,"v-list-item"),Be&&it("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?it(Jc,{key:"prepend-defaults",disabled:!we,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ne;return[(ne=a.prepend)==null?void 0:ne.call(a,ie.value)]}}):it(Go,null,[t.prependAvatar&&it(xM,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&it(Ja,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),it("div",{class:"v-list-item__spacer"},null)]),it("div",{class:"v-list-item__content","data-no-activator":""},[q&&it(KRe,{key:"title"},{default:()=>{var ne;return[((ne=a.title)==null?void 0:ne.call(a,{title:t.title}))??t.title]}}),de&&it(qRe,{key:"subtitle"},{default:()=>{var ne;return[((ne=a.subtitle)==null?void 0:ne.call(a,{subtitle:t.subtitle}))??t.subtitle]}}),(pe=a.default)==null?void 0:pe.call(a,ie.value)]),xe&&it("div",{key:"append",class:"v-list-item__append"},[a.append?it(Jc,{key:"append-defaults",disabled:!ee,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ne;return[(ne=a.append)==null?void 0:ne.call(a,ie.value)]}}):it(Go,null,[t.appendIcon&&it(Ja,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&it(xM,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),it("div",{class:"v-list-item__spacer"},null)])]}}),[[Yv("ripple"),T.value&&t.ripple]])}),{}}}),e8e=zr({color:String,inset:Boolean,sticky:Boolean,title:String,...fa(),...Fc()},"VListSubheader"),t8e=qo()({name:"VListSubheader",props:e8e(),setup(t,e){let{slots:r}=e;const{textColorClasses:a,textColorStyles:i}=Rp(ns(t,"color"));return Cs(()=>{const d=!!(r.default||t.title);return it(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},a.value,t.class],style:[{textColorStyles:i},t.style]},{default:()=>{var f;return[d&&it("div",{class:"v-list-subheader__text"},[((f=r.default)==null?void 0:f.call(r))??t.title])]}})}),{}}});const n8e=zr({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...fa(),...Ou()},"VDivider"),r8e=qo()({name:"VDivider",props:n8e(),setup(t,e){let{attrs:r}=e;const{themeClasses:a}=Cf(t),{textColorClasses:i,textColorStyles:d}=Rp(ns(t,"color")),f=en(()=>{const h={};return t.length&&(h[t.vertical?"maxHeight":"maxWidth"]=cs(t.length)),t.thickness&&(h[t.vertical?"borderRightWidth":"borderTopWidth"]=cs(t.thickness)),h});return Cs(()=>it("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},a.value,i.value,t.class],style:[f.value,d.value,t.style],"aria-orientation":!r.role||r.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}}),o8e=zr({items:Array,returnObject:Boolean},"VListChildren"),xbe=qo()({name:"VListChildren",props:o8e(),setup(t,e){let{slots:r}=e;return gbe(),()=>{var a,i;return((a=r.default)==null?void 0:a.call(r))??((i=t.items)==null?void 0:i.map(d=>{var O,C;let{children:f,props:h,type:c,raw:g}=d;if(c==="divider")return((O=r.divider)==null?void 0:O.call(r,{props:h}))??it(r8e,h,null);if(c==="subheader")return((C=r.subheader)==null?void 0:C.call(r,{props:h}))??it(t8e,h,null);const v={subtitle:r.subtitle?k=>{var w;return(w=r.subtitle)==null?void 0:w.call(r,{...k,item:g})}:void 0,prepend:r.prepend?k=>{var w;return(w=r.prepend)==null?void 0:w.call(r,{...k,item:g})}:void 0,append:r.append?k=>{var w;return(w=r.append)==null?void 0:w.call(r,{...k,item:g})}:void 0,title:r.title?k=>{var w;return(w=r.title)==null?void 0:w.call(r,{...k,item:g})}:void 0},[y,b]=sme.filterProps(h);return f?it(sme,rs({value:h==null?void 0:h.value},y),{activator:k=>{let{props:w}=k;const T={...h,...w,value:t.returnObject?g:h.value};return r.header?r.header({props:T}):it(pg,T,v)},default:()=>it(xbe,{items:f},r)}):r.item?r.item({props:h}):it(pg,rs(h,{value:t.returnObject?g:h.value}),v)}))}}}),Sbe=zr({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:U3}},"list-items");function R3(t,e){const r=sm(e,t.itemTitle,e),a=sm(e,t.itemValue,r),i=sm(e,t.itemChildren),d=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?yM(e,["children"])[1]:e:void 0:sm(e,t.itemProps),f={title:r,value:a,...d};return{title:String(f.title??""),value:f.value,props:f,children:Array.isArray(i)?wbe(t,i):void 0,raw:e}}function wbe(t,e){const r=[];for(const a of e)r.push(R3(t,a));return r}function ple(t){const e=en(()=>wbe(t,t.items)),r=en(()=>e.value.some(d=>d.value===null));function a(d){return r.value||(d=d.filter(f=>f!==null)),d.map(f=>t.returnObject&&typeof f=="string"?R3(t,f):e.value.find(h=>t.valueComparator(f,h.value))||R3(t,f))}function i(d){return t.returnObject?d.map(f=>{let{raw:h}=f;return h}):d.map(f=>{let{value:h}=f;return h})}return{items:e,transformIn:a,transformOut:i}}function s8e(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function a8e(t,e){const r=sm(e,t.itemType,"item"),a=s8e(e)?e:sm(e,t.itemTitle),i=sm(e,t.itemValue,void 0),d=sm(e,t.itemChildren),f=t.itemProps===!0?yM(e,["children"])[1]:sm(e,t.itemProps),h={title:a,value:i,...f};return{type:r,title:h.title,value:h.value,props:h,children:r==="item"&&d?Tbe(t,d):void 0,raw:e}}function Tbe(t,e){const r=[];for(const a of e)r.push(a8e(t,a));return r}function i8e(t){return{items:en(()=>Tbe(t,t.items))}}const l8e=zr({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...WRe({selectStrategy:"single-leaf",openStrategy:"list"}),...G3(),...fa(),...qv(),...W3(),...MO(),itemType:{type:String,default:"type"},...Sbe(),...Np(),...Fc(),...Ou(),...VS({variant:"text"})},"VList"),zS=qo()({name:"VList",props:l8e(),emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:r}=e;const{items:a}=i8e(t),{themeClasses:i}=Cf(t),{backgroundColorClasses:d,backgroundColorStyles:f}=Dp(ns(t,"bgColor")),{borderClasses:h}=j3(t),{densityClasses:c}=cy(t),{dimensionStyles:g}=Y3(t),{elevationClasses:v}=EO(t),{roundedClasses:y}=Bp(t),{open:b,select:O}=YRe(t),C=en(()=>t.lines?`v-list--${t.lines}-line`:void 0),k=ns(t,"activeColor"),w=ns(t,"baseColor"),T=ns(t,"color");gbe(),ly({VListGroup:{activeColor:k,baseColor:w,color:T},VListItem:{activeClass:ns(t,"activeClass"),activeColor:k,baseColor:w,color:T,density:ns(t,"density"),disabled:ns(t,"disabled"),lines:ns(t,"lines"),nav:ns(t,"nav"),variant:ns(t,"variant")}});const R=fs(!1),M=Vo();function I(U){R.value=!0}function V(U){R.value=!1}function N(U){var F;!R.value&&!(U.relatedTarget&&((F=M.value)!=null&&F.contains(U.relatedTarget)))&&z()}function Q(U){if(M.value){if(U.key==="ArrowDown")z("next");else if(U.key==="ArrowUp")z("prev");else if(U.key==="Home")z("first");else if(U.key==="End")z("last");else return;U.preventDefault()}}function z(U){if(M.value)return FH(M.value,U)}return Cs(()=>it(t.tag,{ref:M,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},i.value,d.value,h.value,c.value,v.value,C.value,y.value,t.class],style:[f.value,g.value,t.style],tabindex:t.disabled||R.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:I,onFocusout:V,onFocus:N,onKeydown:Q},{default:()=>[it(xbe,{items:a.value,returnObject:t.returnObject},r)]})),{open:b,select:O,focus:z}}});function hoe(t,e){return{x:t.x+e.x,y:t.y+e.y}}function c8e(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ame(t,e){if(t.side==="top"||t.side==="bottom"){const{side:r,align:a}=t,i=a==="left"?0:a==="center"?e.width/2:a==="right"?e.width:a,d=r==="top"?0:r==="bottom"?e.height:r;return hoe({x:i,y:d},e)}else if(t.side==="left"||t.side==="right"){const{side:r,align:a}=t,i=r==="left"?0:r==="right"?e.width:r,d=a==="top"?0:a==="center"?e.height/2:a==="bottom"?e.height:a;return hoe({x:i,y:d},e)}return hoe({x:e.width/2,y:e.height/2},e)}const Cbe={static:d8e,connected:m8e},u8e=zr({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in Cbe},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function f8e(t,e){const r=Vo({}),a=Vo();zl&&(DS(()=>!!(e.isActive.value&&t.locationStrategy),d=>{var f,h;zo(()=>t.locationStrategy,d),cm(()=>{a.value=void 0}),typeof t.locationStrategy=="function"?a.value=(f=t.locationStrategy(e,t,r))==null?void 0:f.updateLocation:a.value=(h=Cbe[t.locationStrategy](e,t,r))==null?void 0:h.updateLocation}),window.addEventListener("resize",i,{passive:!0}),cm(()=>{window.removeEventListener("resize",i),a.value=void 0}));function i(d){var f;(f=a.value)==null||f.call(a,d)}return{contentStyles:r,updateLocation:a}}function d8e(){}function h8e(t,e){e?t.style.removeProperty("left"):t.style.removeProperty("right");const r=Jie(t);return e?r.x+=parseFloat(t.style.right||0):r.x-=parseFloat(t.style.left||0),r.y-=parseFloat(t.style.top||0),r}function m8e(t,e,r){A_e(t.activatorEl.value)&&Object.assign(r.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:d}=Kie(()=>{const C=Kse(e.location,t.isRtl.value),k=e.origin==="overlap"?C:e.origin==="auto"?coe(C):Kse(e.origin,t.isRtl.value);return C.side===k.side&&C.align===uoe(k).align?{preferredAnchor:Rhe(C),preferredOrigin:Rhe(k)}:{preferredAnchor:C,preferredOrigin:k}}),[f,h,c,g]=["minWidth","minHeight","maxWidth","maxHeight"].map(C=>en(()=>{const k=parseFloat(e[C]);return isNaN(k)?1/0:k})),v=en(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const C=e.offset.split(" ").map(parseFloat);return C.length<2&&C.push(0),C}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let y=!1;const b=new ResizeObserver(()=>{y&&O()});zo([t.activatorEl,t.contentEl],(C,k)=>{let[w,T]=C,[R,M]=k;R&&b.unobserve(R),w&&b.observe(w),M&&b.unobserve(M),T&&b.observe(T)},{immediate:!0}),cm(()=>{b.disconnect()});function O(){if(y=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>y=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const C=t.activatorEl.value.getBoundingClientRect(),k=h8e(t.contentEl.value,t.isRtl.value),w=ZH(t.contentEl.value),T=12;w.length||(w.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(k.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),k.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const R=w.reduce((B,E)=>{const W=E.getBoundingClientRect(),X=new aM({x:E===document.documentElement?0:W.x,y:E===document.documentElement?0:W.y,width:E.clientWidth,height:E.clientHeight});return B?new aM({x:Math.max(B.left,X.left),y:Math.max(B.top,X.top),width:Math.min(B.right,X.right)-Math.max(B.left,X.left),height:Math.min(B.bottom,X.bottom)-Math.max(B.top,X.top)}):X},void 0);R.x+=T,R.y+=T,R.width-=T*2,R.height-=T*2;let M={anchor:i.value,origin:d.value};function I(B){const E=new aM(k),W=ame(B.anchor,C),X=ame(B.origin,E);let{x:ie,y:L}=c8e(W,X);switch(B.anchor.side){case"top":L-=v.value[0];break;case"bottom":L+=v.value[0];break;case"left":ie-=v.value[0];break;case"right":ie+=v.value[0];break}switch(B.anchor.align){case"top":L-=v.value[1];break;case"bottom":L+=v.value[1];break;case"left":ie-=v.value[1];break;case"right":ie+=v.value[1];break}return E.x+=ie,E.y+=L,E.width=Math.min(E.width,c.value),E.height=Math.min(E.height,g.value),{overflows:$he(E,R),x:ie,y:L}}let V=0,N=0;const Q={x:0,y:0},z={x:!1,y:!1};let U=-1;for(;!(U++>10);){const{x:B,y:E,overflows:W}=I(M);V+=B,N+=E,k.x+=B,k.y+=E;{const X=Dhe(M.anchor),ie=W.x.before||W.x.after,L=W.y.before||W.y.after;let me=!1;if(["x","y"].forEach(ae=>{if(ae==="x"&&ie&&!z.x||ae==="y"&&L&&!z.y){const q={anchor:{...M.anchor},origin:{...M.origin}},de=ae==="x"?X==="y"?uoe:coe:X==="y"?coe:uoe;q.anchor=de(q.anchor),q.origin=de(q.origin);const{overflows:ee}=I(q);(ee[ae].before<=W[ae].before&&ee[ae].after<=W[ae].after||ee[ae].before+ee[ae].after<(W[ae].before+W[ae].after)/2)&&(M=q,me=z[ae]=!0)}}),me)continue}W.x.before&&(V+=W.x.before,k.x+=W.x.before),W.x.after&&(V-=W.x.after,k.x-=W.x.after),W.y.before&&(N+=W.y.before,k.y+=W.y.before),W.y.after&&(N-=W.y.after,k.y-=W.y.after);{const X=$he(k,R);Q.x=R.width-X.x.before-X.x.after,Q.y=R.height-X.y.before-X.y.after,V+=X.x.before,k.x+=X.x.before,N+=X.y.before,k.y+=X.y.before}break}const F=Dhe(M.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${M.anchor.side} ${M.anchor.align}`,transformOrigin:`${M.origin.side} ${M.origin.align}`,top:cs(moe(N)),left:t.isRtl.value?void 0:cs(moe(V)),right:t.isRtl.value?cs(moe(-V)):void 0,minWidth:cs(F==="y"?Math.min(f.value,C.width):f.value),maxWidth:cs(ime(Mp(Q.x,f.value===1/0?0:f.value,c.value))),maxHeight:cs(ime(Mp(Q.y,h.value===1/0?0:h.value,g.value)))}),{available:Q,contentBox:k}}return zo(()=>[i.value,d.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>O()),Zl(()=>{const C=O();if(!C)return;const{available:k,contentBox:w}=C;w.height>k.y&&requestAnimationFrame(()=>{O(),requestAnimationFrame(()=>{O()})})}),{updateLocation:O}}function moe(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function ime(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let oae=!0;const XH=[];function g8e(t){!oae||XH.length?(XH.push(t),sae()):(oae=!1,t(),sae())}let lme=-1;function sae(){cancelAnimationFrame(lme),lme=requestAnimationFrame(()=>{const t=XH.shift();t&&t(),XH.length?sae():oae=!0})}const rH={none:null,close:y8e,block:b8e,reposition:O8e},p8e=zr({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in rH}},"VOverlay-scroll-strategies");function v8e(t,e){if(!zl)return;let r;fm(async()=>{r==null||r.stop(),e.isActive.value&&t.scrollStrategy&&(r=Fae(),await Zl(),r.active&&r.run(()=>{var a;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,r):(a=rH[t.scrollStrategy])==null||a.call(rH,e,t,r)}))}),cm(()=>{r==null||r.stop()})}function y8e(t){function e(r){t.isActive.value=!1}kbe(t.activatorEl.value??t.contentEl.value,e)}function b8e(t,e){var f;const r=(f=t.root.value)==null?void 0:f.offsetParent,a=[...new Set([...ZH(t.activatorEl.value,e.contained?r:void 0),...ZH(t.contentEl.value,e.contained?r:void 0)])].filter(h=>!h.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,d=(h=>nle(h)&&h)(r||document.documentElement);d&&t.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((h,c)=>{h.style.setProperty("--v-body-scroll-x",cs(-h.scrollLeft)),h.style.setProperty("--v-body-scroll-y",cs(-h.scrollTop)),h!==document.documentElement&&h.style.setProperty("--v-scrollbar-offset",cs(i)),h.classList.add("v-overlay-scroll-blocked")}),cm(()=>{a.forEach((h,c)=>{const g=parseFloat(h.style.getPropertyValue("--v-body-scroll-x")),v=parseFloat(h.style.getPropertyValue("--v-body-scroll-y"));h.style.removeProperty("--v-body-scroll-x"),h.style.removeProperty("--v-body-scroll-y"),h.style.removeProperty("--v-scrollbar-offset"),h.classList.remove("v-overlay-scroll-blocked"),h.scrollLeft=-g,h.scrollTop=-v}),d&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function O8e(t,e,r){let a=!1,i=-1,d=-1;function f(h){g8e(()=>{var v,y;const c=performance.now();(y=(v=t.updateLocation).value)==null||y.call(v,h),a=(performance.now()-c)/(1e3/60)>2})}d=(typeof requestIdleCallback>"u"?h=>h():requestIdleCallback)(()=>{r.run(()=>{kbe(t.activatorEl.value??t.contentEl.value,h=>{a?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{f(h)})})):f(h)})})}),cm(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(d),cancelAnimationFrame(i)})}function kbe(t,e){const r=[document,...ZH(t)];r.forEach(a=>{a.addEventListener("scroll",e,{passive:!0})}),cm(()=>{r.forEach(a=>{a.removeEventListener("scroll",e)})})}const aae=Symbol.for("vuetify:v-menu"),x8e=zr({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function S8e(t,e){const r={},a=i=>()=>{if(!zl)return Promise.resolve(!0);const d=i==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(f=>{const h=parseInt(t[i]??0,10);r[i]=window.setTimeout(()=>{e==null||e(d),f(d)},h)})};return{runCloseDelay:a("closeDelay"),runOpenDelay:a("openDelay")}}const w8e=zr({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...x8e()},"VOverlay-activator");function T8e(t,e){let{isActive:r,isTop:a}=e;const i=Vo();let d=!1,f=!1,h=!0;const c=en(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),g=en(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!c.value),{runOpenDelay:v,runCloseDelay:y}=S8e(t,M=>{M===(t.openOnHover&&d||c.value&&f)&&!(t.openOnHover&&r.value&&!a.value)&&(r.value!==M&&(h=!0),r.value=M)}),b={onClick:M=>{M.stopPropagation(),i.value=M.currentTarget||M.target,r.value=!r.value},onMouseenter:M=>{var I;(I=M.sourceCapabilities)!=null&&I.firesTouchEvents||(d=!0,i.value=M.currentTarget||M.target,v())},onMouseleave:M=>{d=!1,y()},onFocus:M=>{bM(M.target,":focus-visible")!==!1&&(f=!0,M.stopPropagation(),i.value=M.currentTarget||M.target,v())},onBlur:M=>{f=!1,M.stopPropagation(),y()}},O=en(()=>{const M={};return g.value&&(M.onClick=b.onClick),t.openOnHover&&(M.onMouseenter=b.onMouseenter,M.onMouseleave=b.onMouseleave),c.value&&(M.onFocus=b.onFocus,M.onBlur=b.onBlur),M}),C=en(()=>{const M={};if(t.openOnHover&&(M.onMouseenter=()=>{d=!0,v()},M.onMouseleave=()=>{d=!1,y()}),c.value&&(M.onFocusin=()=>{f=!0,v()},M.onFocusout=()=>{f=!1,y()}),t.closeOnContentClick){const I=Ra(aae,null);M.onClick=()=>{r.value=!1,I==null||I.closeParents()}}return M}),k=en(()=>{const M={};return t.openOnHover&&(M.onMouseenter=()=>{h&&(d=!0,h=!1,v())},M.onMouseleave=()=>{d=!1,y()}),M});zo(a,M=>{M&&(t.openOnHover&&!d&&(!c.value||!f)||c.value&&!f&&(!t.openOnHover||!d))&&(r.value=!1)});const w=Vo();fm(()=>{w.value&&Zl(()=>{i.value=qse(w.value)})});const T=Tf("useActivator");let R;return zo(()=>!!t.activator,M=>{M&&zl?(R=Fae(),R.run(()=>{C8e(t,T,{activatorEl:i,activatorEvents:O})})):R&&R.stop()},{flush:"post",immediate:!0}),cm(()=>{R==null||R.stop()}),{activatorEl:i,activatorRef:w,activatorEvents:O,contentEvents:C,scrimEvents:k}}function C8e(t,e,r){let{activatorEl:a,activatorEvents:i}=r;zo(()=>t.activator,(c,g)=>{if(g&&c!==g){const v=h(g);v&&f(v)}c&&Zl(()=>d())},{immediate:!0}),zo(()=>t.activatorProps,()=>{d()}),cm(()=>{f()});function d(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h(),g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;c&&jEe(c,rs(i.value,g))}function f(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h(),g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;c&&qEe(c,rs(i.value,g))}function h(){var v,y;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,g;if(c)if(c==="parent"){let b=(y=(v=e==null?void 0:e.proxy)==null?void 0:v.$el)==null?void 0:y.parentNode;for(;b!=null&&b.hasAttribute("data-no-activator");)b=b.parentNode;g=b}else typeof c=="string"?g=document.querySelector(c):"$el"in c?g=c.$el:g=c;return a.value=(g==null?void 0:g.nodeType)===Node.ELEMENT_NODE?g:null,a.value}}const jU=["sm","md","lg","xl","xxl"],iae=Symbol.for("vuetify:display"),cme={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},k8e=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cme;return wp(cme,t)};function ume(t){return zl&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function fme(t){return zl&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function dme(t){const e=zl&&!t?window.navigator.userAgent:"ssr";function r(C){return!!e.match(C)}const a=r(/android/i),i=r(/iphone|ipad|ipod/i),d=r(/cordova/i),f=r(/electron/i),h=r(/chrome/i),c=r(/edge/i),g=r(/firefox/i),v=r(/opera/i),y=r(/win/i),b=r(/mac/i),O=r(/linux/i);return{android:a,ios:i,cordova:d,electron:f,chrome:h,edge:c,firefox:g,opera:v,win:y,mac:b,linux:O,touch:UEe,ssr:e==="ssr"}}function A8e(t,e){const{thresholds:r,mobileBreakpoint:a}=k8e(t),i=fs(fme(e)),d=fs(dme(e)),f=dh({}),h=fs(ume(e));function c(){i.value=fme(),h.value=ume()}function g(){c(),d.value=dme()}return fm(()=>{const v=h.value<r.sm,y=h.value<r.md&&!v,b=h.value<r.lg&&!(y||v),O=h.value<r.xl&&!(b||y||v),C=h.value<r.xxl&&!(O||b||y||v),k=h.value>=r.xxl,w=v?"xs":y?"sm":b?"md":O?"lg":C?"xl":"xxl",T=typeof a=="number"?a:r[a],R=h.value<T;f.xs=v,f.sm=y,f.md=b,f.lg=O,f.xl=C,f.xxl=k,f.smAndUp=!v,f.mdAndUp=!(v||y),f.lgAndUp=!(v||y||b),f.xlAndUp=!(v||y||b||O),f.smAndDown=!(b||O||C||k),f.mdAndDown=!(O||C||k),f.lgAndDown=!(C||k),f.xlAndDown=!k,f.name=w,f.height=i.value,f.width=h.value,f.mobile=R,f.mobileBreakpoint=a,f.platform=d.value,f.thresholds=r}),zl&&window.addEventListener("resize",c,{passive:!0}),{...yU(f),update:g,ssr:!!e}}function Abe(){const t=Ra(iae);if(!t)throw new Error("Could not find Vuetify display injection");return t}function P8e(){if(!zl)return fs(!1);const{ssr:t}=Abe();if(t){const e=fs(!1);return vg(()=>{e.value=!0}),e}else return fs(!0)}const vle=zr({eager:Boolean},"lazy");function Pbe(t,e){const r=fs(!1),a=en(()=>r.value||t.eager||e.value);zo(e,()=>r.value=!0);function i(){t.eager||(r.value=!1)}return{isBooted:r,hasContent:a,onAfterLeave:i}}function yle(){const e=Tf("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const hme=Symbol.for("vuetify:stack"),kD=dh([]);function M8e(t,e,r){const a=Tf("useStack"),i=!r,d=Ra(hme,void 0),f=dh({activeChildren:new Set});Cl(hme,f);const h=fs(+e.value);DS(t,()=>{var y;const v=(y=kD.at(-1))==null?void 0:y[1];h.value=v?v+10:+e.value,i&&kD.push([a.uid,h.value]),d==null||d.activeChildren.add(a.uid),cm(()=>{if(i){const b=va(kD).findIndex(O=>O[0]===a.uid);kD.splice(b,1)}d==null||d.activeChildren.delete(a.uid)})});const c=fs(!0);i&&fm(()=>{var y;const v=((y=kD.at(-1))==null?void 0:y[0])===a.uid;setTimeout(()=>c.value=v)});const g=en(()=>!f.activeChildren.size);return{globalTop:H$(c),localTop:g,stackStyles:en(()=>({zIndex:h.value}))}}function E8e(t){return{teleportTarget:en(()=>{const r=t.value;if(r===!0||!zl)return;const a=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(a==null)return;let i=a.querySelector(":scope > .v-overlay-container");return i||(i=document.createElement("div"),i.className="v-overlay-container",a.appendChild(i)),i})}}function _8e(){return!0}function Mbe(t,e,r){if(!t||Ebe(t,r)===!1)return!1;const a=Rye(e);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===t.target)return!1;const i=(typeof r.value=="object"&&r.value.include||(()=>[]))();return i.push(e),!i.some(d=>d==null?void 0:d.contains(t.target))}function Ebe(t,e){return(typeof e.value=="object"&&e.value.closeConditional||_8e)(t)}function R8e(t,e,r){const a=typeof r.value=="function"?r.value:r.value.handler;e._clickOutside.lastMousedownWasOutside&&Mbe(t,e,r)&&setTimeout(()=>{Ebe(t,r)&&a&&a(t)},0)}function mme(t,e){const r=Rye(t);e(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&e(r)}const D8e={mounted(t,e){const r=i=>R8e(i,t,e),a=i=>{t._clickOutside.lastMousedownWasOutside=Mbe(i,t,e)};mme(t,i=>{i.addEventListener("click",r,!0),i.addEventListener("mousedown",a,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:r,onMousedown:a}},unmounted(t,e){t._clickOutside&&(mme(t,r=>{var d;if(!r||!((d=t._clickOutside)!=null&&d[e.instance.$.uid]))return;const{onClick:a,onMousedown:i}=t._clickOutside[e.instance.$.uid];r.removeEventListener("click",a,!0),r.removeEventListener("mousedown",i,!0)}),delete t._clickOutside[e.instance.$.uid])}};function $8e(t){const{modelValue:e,color:r,...a}=t;return it(OO,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&it("div",rs({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},a),null)]})}const ble=zr({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...w8e(),...fa(),...W3(),...vle(),...u8e(),...p8e(),...Ou(),...X3()},"VOverlay"),GH=qo()({name:"VOverlay",directives:{ClickOutside:D8e},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...ble()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:r,attrs:a,emit:i}=e;const d=pi(t,"modelValue"),f=en({get:()=>d.value,set:q=>{q&&t.disabled||(d.value=q)}}),{teleportTarget:h}=E8e(en(()=>t.attach||t.contained)),{themeClasses:c}=Cf(t),{rtlClasses:g,isRtl:v}=Ip(),{hasContent:y,onAfterLeave:b}=Pbe(t,f),O=Dp(en(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:C,localTop:k,stackStyles:w}=M8e(f,ns(t,"zIndex"),t._disableGlobalStack),{activatorEl:T,activatorRef:R,activatorEvents:M,contentEvents:I,scrimEvents:V}=T8e(t,{isActive:f,isTop:k}),{dimensionStyles:N}=Y3(t),Q=P8e(),{scopeId:z}=yle();zo(()=>t.disabled,q=>{q&&(f.value=!1)});const U=Vo(),F=Vo(),{contentStyles:B,updateLocation:E}=f8e(t,{isRtl:v,contentEl:F,activatorEl:T,isActive:f});v8e(t,{root:U,contentEl:F,activatorEl:T,isActive:f,updateLocation:E});function W(q){i("click:outside",q),t.persistent?ae():f.value=!1}function X(){return f.value&&C.value}zl&&zo(f,q=>{q?window.addEventListener("keydown",ie):window.removeEventListener("keydown",ie)},{immediate:!0});function ie(q){var de,ee;q.key==="Escape"&&C.value&&(t.persistent?ae():(f.value=!1,(de=F.value)!=null&&de.contains(document.activeElement)&&((ee=T.value)==null||ee.focus())))}const L=ORe();DS(()=>t.closeOnBack,()=>{xRe(L,q=>{C.value&&f.value?(q(!1),t.persistent?ae():f.value=!1):q()})});const me=Vo();zo(()=>f.value&&(t.absolute||t.contained)&&h.value==null,q=>{if(q){const de=$ye(U.value);de&&de!==document.scrollingElement&&(me.value=de.scrollTop)}});function ae(){t.noClickAnimation||F.value&&XP(F.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:zH})}return Cs(()=>{var q;return it(Go,null,[(q=r.activator)==null?void 0:q.call(r,{isActive:f.value,props:rs({ref:R},M.value,t.activatorProps)}),Q.value&&y.value&&it(TTe,{disabled:!h.value,to:h.value},{default:()=>[it("div",rs({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":f.value,"v-overlay--contained":t.contained},c.value,g.value,t.class],style:[w.value,{top:cs(me.value)},t.style],ref:U},z,a),[it($8e,rs({color:O,modelValue:f.value&&!!t.scrim},V.value),null),it(yS,{appear:!0,persisted:!0,transition:t.transition,target:T.value,onAfterLeave:()=>{b(),i("afterLeave")}},{default:()=>{var de;return[Fu(it("div",rs({ref:F,class:["v-overlay__content",t.contentClass],style:[N.value,B.value]},I.value,t.contentProps),[(de=r.default)==null?void 0:de.call(r,{isActive:f})]),[[LS,f.value],[Yv("click-outside"),{handler:W,closeConditional:X,include:()=>[T.value]}]])]}})])]})])}),{activatorEl:T,animateClick:ae,contentEl:F,globalTop:C,localTop:k,updateLocation:E}}}),goe=Symbol("Forwarded refs");function poe(t,e){let r=t;for(;r;){const a=Reflect.getOwnPropertyDescriptor(r,e);if(a)return a;r=Object.getPrototypeOf(r)}}function K3(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return t[goe]=r,new Proxy(t,{get(i,d){if(Reflect.has(i,d))return Reflect.get(i,d);if(!(typeof d=="symbol"||d.startsWith("$")||d.startsWith("__"))){for(const f of r)if(f.value&&Reflect.has(f.value,d)){const h=Reflect.get(f.value,d);return typeof h=="function"?h.bind(f.value):h}}},has(i,d){if(Reflect.has(i,d))return!0;if(typeof d=="symbol"||d.startsWith("$")||d.startsWith("__"))return!1;for(const f of r)if(f.value&&Reflect.has(f.value,d))return!0;return!1},set(i,d,f){if(Reflect.has(i,d))return Reflect.set(i,d,f);if(typeof d=="symbol"||d.startsWith("$")||d.startsWith("__"))return!1;for(const h of r)if(h.value&&Reflect.has(h.value,d))return Reflect.set(h.value,d,f);return!1},getOwnPropertyDescriptor(i,d){var h;const f=Reflect.getOwnPropertyDescriptor(i,d);if(f)return f;if(!(typeof d=="symbol"||d.startsWith("$")||d.startsWith("__"))){for(const c of r){if(!c.value)continue;const g=poe(c.value,d)??("_"in c.value?poe((h=c.value._)==null?void 0:h.setupState,d):void 0);if(g)return g}for(const c of r){const g=c.value&&c.value[goe];if(!g)continue;const v=g.slice();for(;v.length;){const y=v.shift(),b=poe(y.value,d);if(b)return b;const O=y.value&&y.value[goe];O&&v.push(...O)}}}}})}const L8e=zr({id:String,...LM(ble({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:rle}}),["absolute"])},"VMenu"),ZS=qo()({name:"VMenu",props:L8e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"modelValue"),{scopeId:i}=yle(),d=jv(),f=en(()=>t.id||`v-menu-${d}`),h=Vo(),c=Ra(aae,null),g=fs(0);Cl(aae,{register(){++g.value},unregister(){--g.value},closeParents(){setTimeout(()=>{g.value||(a.value=!1,c==null||c.closeParents())},40)}});async function v(k){var R,M,I;const w=k.relatedTarget,T=k.target;await Zl(),a.value&&w!==T&&((R=h.value)!=null&&R.contentEl)&&((M=h.value)!=null&&M.globalTop)&&![document,h.value.contentEl].includes(T)&&!h.value.contentEl.contains(T)&&((I=QH(h.value.contentEl)[0])==null||I.focus())}zo(a,k=>{k?(c==null||c.register(),document.addEventListener("focusin",v,{once:!0})):(c==null||c.unregister(),document.removeEventListener("focusin",v))});function y(){c==null||c.closeParents()}function b(k){var w,T,R;t.disabled||k.key==="Tab"&&(Tye(QH((w=h.value)==null?void 0:w.contentEl,!1),k.shiftKey?"prev":"next",I=>I.tabIndex>=0)||(a.value=!1,(R=(T=h.value)==null?void 0:T.activatorEl)==null||R.focus()))}function O(k){var T;if(t.disabled)return;const w=(T=h.value)==null?void 0:T.contentEl;w&&a.value?k.key==="ArrowDown"?(k.preventDefault(),FH(w,"next")):k.key==="ArrowUp"&&(k.preventDefault(),FH(w,"prev")):["ArrowDown","ArrowUp"].includes(k.key)&&(a.value=!0,k.preventDefault(),setTimeout(()=>setTimeout(()=>O(k))))}const C=en(()=>rs({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":f.value,onKeydown:O},t.activatorProps));return Cs(()=>{const[k]=GH.filterProps(t);return it(GH,rs({ref:h,class:["v-menu",t.class],style:t.style},k,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,absolute:!0,activatorProps:C.value,"onClick:outside":y,onKeydown:b},i),{activator:r.activator,default:function(){for(var w=arguments.length,T=new Array(w),R=0;R<w;R++)T[R]=arguments[R];return it(Jc,{root:"VMenu"},{default:()=>{var M;return[(M=r.default)==null?void 0:M.call(r,...T)]}})}})}),K3({id:f,openChildren:g},h)}});const I8e=zr({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...fa(),...X3({transition:{component:Vye}})},"VCounter"),_be=qo()({name:"VCounter",functional:!0,props:I8e(),setup(t,e){let{slots:r}=e;const a=en(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return Cs(()=>it(yS,{transition:t.transition},{default:()=>[Fu(it("div",{class:["v-counter",t.class],style:t.style},[r.default?r.default({counter:a.value,max:t.max,value:t.value}):a.value]),[[LS,t.active]])]})),{}}});const N8e=zr({floating:Boolean,...fa()},"VFieldLabel"),_Z=qo()({name:"VFieldLabel",props:N8e(),setup(t,e){let{slots:r}=e;return Cs(()=>it(YU,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},r)),{}}}),B8e=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ole=zr({appendInnerIcon:_i,bgColor:String,clearable:Boolean,clearIcon:{type:_i,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:_i,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>B8e.includes(t)},"onClick:clear":ny(),"onClick:appendInner":ny(),"onClick:prependInner":ny(),...fa(),...ZU(),...Np(),...Ou()},"VField"),xle=qo()({name:"VField",inheritAttrs:!1,props:{id:String,...XU(),...Ole()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{themeClasses:d}=Cf(t),{loaderClasses:f}=HU(t),{focusClasses:h,isFocused:c,focus:g,blur:v}=i9(t),{InputIcon:y}=hbe(t),{roundedClasses:b}=Bp(t),{rtlClasses:O}=Ip(),C=en(()=>t.dirty||t.active),k=en(()=>!t.singleLine&&!!(t.label||i.label)),w=jv(),T=en(()=>t.id||`input-${w}`),R=en(()=>`${T.value}-messages`),M=Vo(),I=Vo(),V=Vo(),N=en(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:Q,backgroundColorStyles:z}=Dp(ns(t,"bgColor")),{textColorClasses:U,textColorStyles:F}=Rp(en(()=>t.error||t.disabled?void 0:C.value&&c.value?t.color:t.baseColor));zo(C,W=>{if(k.value){const X=M.value.$el,ie=I.value.$el;requestAnimationFrame(()=>{const L=Jie(X),me=ie.getBoundingClientRect(),ae=me.x-L.x,q=me.y-L.y-(L.height/2-me.height/2),de=me.width/.75,ee=Math.abs(de-L.width)>1?{maxWidth:cs(de)}:void 0,xe=getComputedStyle(X),we=getComputedStyle(ie),Be=parseFloat(xe.transitionDuration)*1e3||150,pe=parseFloat(we.getPropertyValue("--v-field-label-scale")),ne=we.getPropertyValue("color");X.style.visibility="visible",ie.style.visibility="hidden",XP(X,{transform:`translate(${ae}px, ${q}px) scale(${pe})`,color:ne,...ee},{duration:Be,easing:zH,direction:W?"normal":"reverse"}).finished.then(()=>{X.style.removeProperty("visibility"),ie.style.removeProperty("visibility")})})}},{flush:"post"});const B=en(()=>({isActive:C,isFocused:c,controlRef:V,blur:v,focus:g}));function E(W){W.target!==document.activeElement&&W.preventDefault()}return Cs(()=>{var ae,q,de;const W=t.variant==="outlined",X=i["prepend-inner"]||t.prependInnerIcon,ie=!!(t.clearable||i.clear),L=!!(i["append-inner"]||t.appendInnerIcon||ie),me=i.label?i.label({...B.value,label:t.label,props:{for:T.value}}):t.label;return it("div",rs({class:["v-field",{"v-field--active":C.value,"v-field--appended":L,"v-field--center-affix":t.centerAffix??!N.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":X,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!me,[`v-field--variant-${t.variant}`]:!0},d.value,Q.value,h.value,f.value,b.value,O.value,t.class],style:[z.value,t.style],onClick:E},r),[it("div",{class:"v-field__overlay"},null),it(mle,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:i.loader}),X&&it("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&it(y,{key:"prepend-icon",name:"prependInner"},null),(ae=i["prepend-inner"])==null?void 0:ae.call(i,B.value)]),it("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&k.value&&it(_Z,{key:"floating-label",ref:I,class:[U.value],floating:!0,for:T.value,style:F.value},{default:()=>[me]}),it(_Z,{ref:M,for:T.value},{default:()=>[me]}),(q=i.default)==null?void 0:q.call(i,{...B.value,props:{id:T.value,class:"v-field__input","aria-describedby":R.value},focus:g,blur:v})]),ie&&it(zye,{key:"clear"},{default:()=>[Fu(it("div",{class:"v-field__clearable",onMousedown:ee=>{ee.preventDefault(),ee.stopPropagation()}},[i.clear?i.clear():it(y,{name:"clear"},null)]),[[LS,t.dirty]])]}),L&&it("div",{key:"append",class:"v-field__append-inner"},[(de=i["append-inner"])==null?void 0:de.call(i,B.value),t.appendInnerIcon&&it(y,{key:"append-icon",name:"appendInner"},null)]),it("div",{class:["v-field__outline",U.value],style:F.value},[W&&it(Go,null,[it("div",{class:"v-field__outline__start"},null),k.value&&it("div",{class:"v-field__outline__notch"},[it(_Z,{ref:I,floating:!0,for:T.value},{default:()=>[me]})]),it("div",{class:"v-field__outline__end"},null)]),N.value&&k.value&&it(_Z,{ref:I,floating:!0,for:T.value},{default:()=>[me]})])])}),{controlRef:V}}});function Rbe(t){const e=Object.keys(xle.props).filter(r=>!jie(r)&&r!=="class"&&r!=="style");return yM(t,e)}const Q8e=["color","file","time","date","datetime-local","week","month"],qU=zr({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...l9(),...Ole()},"VTextField"),$p=qo()({name:"VTextField",directives:{Intersect:sle},inheritAttrs:!1,props:qU(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const d=pi(t,"modelValue"),{isFocused:f,focus:h,blur:c}=i9(t),g=en(()=>typeof t.counterValue=="function"?t.counterValue(d.value):typeof t.counterValue=="number"?t.counterValue:(d.value??"").toString().length),v=en(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),y=en(()=>["plain","underlined"].includes(t.variant));function b(N,Q){var z,U;!t.autofocus||!N||(U=(z=Q[0].target)==null?void 0:z.focus)==null||U.call(z)}const O=Vo(),C=Vo(),k=Vo(),w=en(()=>Q8e.includes(t.type)||t.persistentPlaceholder||f.value||t.active);function T(){var N;k.value!==document.activeElement&&((N=k.value)==null||N.focus()),f.value||h()}function R(N){a("mousedown:control",N),N.target!==k.value&&(T(),N.preventDefault())}function M(N){T(),a("click:control",N)}function I(N){N.stopPropagation(),T(),Zl(()=>{d.value=null,wye(t["onClick:clear"],N)})}function V(N){var z;const Q=N.target;if(d.value=Q.value,(z=t.modelModifiers)!=null&&z.trim&&["text","search","password","tel","url"].includes(t.type)){const U=[Q.selectionStart,Q.selectionEnd];Zl(()=>{Q.selectionStart=U[0],Q.selectionEnd=U[1]})}}return Cs(()=>{const N=!!(i.counter||t.counter!==!1&&t.counter!=null),Q=!!(N||i.details),[z,U]=qie(r),[{modelValue:F,...B}]=$S.filterProps(t),[E]=Rbe(t);return it($S,rs({ref:O,modelValue:d.value,"onUpdate:modelValue":W=>d.value=W,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(t.variant)},t.class],style:t.style},z,B,{centerAffix:!y.value,focused:f.value}),{...i,default:W=>{let{id:X,isDisabled:ie,isDirty:L,isReadonly:me,isValid:ae}=W;return it(xle,rs({ref:C,onMousedown:R,onClick:M,"onClick:clear":I,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},E,{id:X.value,active:w.value||L.value,dirty:L.value||t.dirty,disabled:ie.value,focused:f.value,error:ae.value===!1}),{...i,default:q=>{let{props:{class:de,...ee}}=q;const xe=Fu(it("input",rs({ref:k,value:d.value,onInput:V,autofocus:t.autofocus,readonly:me.value,disabled:ie.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:T,onBlur:c},ee,U),null),[[Yv("intersect"),{handler:b},null,{once:!0}]]);return it(Go,null,[t.prefix&&it("span",{class:"v-text-field__prefix"},[it("span",{class:"v-text-field__prefix__text"},[t.prefix])]),i.default?it("div",{class:de,"data-no-activator":""},[i.default(),xe]):bO(xe,{class:de}),t.suffix&&it("span",{class:"v-text-field__suffix"},[it("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:Q?W=>{var X;return it(Go,null,[(X=i.details)==null?void 0:X.call(i,W),N&&it(Go,null,[it("span",null,null),it(_be,{active:t.persistentCounter||f.value,value:g.value,max:v.value},i.counter)])])}:void 0})}),K3({},O,C,k)}});const F8e=zr({renderless:Boolean,...fa()},"VVirtualScrollItem"),V8e=qo()({name:"VVirtualScrollItem",inheritAttrs:!1,props:F8e(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{resizeRef:d,contentRect:f}=VU(void 0,"border");zo(()=>{var h;return(h=f.value)==null?void 0:h.height},h=>{h!=null&&a("update:height",h)}),Cs(()=>{var h,c;return t.renderless?it(Go,null,[(h=i.default)==null?void 0:h.call(i,{itemRef:d})]):it("div",rs({ref:d,class:["v-virtual-scroll__item",t.class],style:t.style},r),[(c=i.default)==null?void 0:c.call(i)])})}}),gme=-1,pme=1,z8e=zr({itemHeight:{type:[Number,String],default:48}},"virtual");function Z8e(t,e,r){const a=fs(0),i=fs(t.itemHeight),d=en({get:()=>parseInt(i.value??0,10),set(Q){i.value=Q}}),f=Vo(),{resizeRef:h,contentRect:c}=VU();fm(()=>{h.value=f.value});const g=Abe(),v=new Map;let y=Array.from({length:e.value.length});const b=en(()=>{const Q=(!c.value||f.value===document.documentElement?g.height.value:c.value.height)-((r==null?void 0:r.value)??0);return Math.ceil(Q/d.value*1.7+1)});function O(Q,z){d.value=Math.max(d.value,z),y[Q]=z,v.set(e.value[Q],z)}function C(Q){return y.slice(0,Q).reduce((z,U)=>z+(U||d.value),0)}function k(Q){const z=e.value.length;let U=0,F=0;for(;F<Q&&U<z;)F+=y[U++]||d.value;return U-1}let w=0;function T(){if(!f.value||!c.value)return;const Q=c.value.height-56,z=f.value.scrollTop,U=z<w?gme:pme,F=k(z+Q/2),B=Math.round(b.value/3),E=F-B,W=a.value+B*2-1;U===gme&&F<=W?a.value=Mp(E,0,e.value.length):U===pme&&F>=W&&(a.value=Mp(E,0,e.value.length-b.value)),w=z}function R(Q){if(!f.value)return;const z=C(Q);f.value.scrollTop=z}const M=en(()=>Math.min(e.value.length,a.value+b.value)),I=en(()=>e.value.slice(a.value,M.value).map((Q,z)=>({raw:Q,index:z+a.value}))),V=en(()=>C(a.value)),N=en(()=>C(e.value.length)-C(M.value));return zo(()=>e.value.length,()=>{y=vM(e.value.length).map(()=>d.value),v.forEach((Q,z)=>{const U=e.value.indexOf(z);U===-1?v.delete(z):y[U]=Q})}),{containerRef:f,computedItems:I,itemHeight:d,paddingTop:V,paddingBottom:N,scrollToIndex:R,handleScroll:T,handleItemResize:O}}const H8e=zr({items:{type:Array,default:()=>[]},renderless:Boolean,...z8e(),...fa(),...W3()},"VVirtualScroll"),Sle=qo()({name:"VVirtualScroll",props:H8e(),setup(t,e){let{slots:r}=e;const a=Tf("VVirtualScroll"),{dimensionStyles:i}=Y3(t),{containerRef:d,handleScroll:f,handleItemResize:h,scrollToIndex:c,paddingTop:g,paddingBottom:v,computedItems:y}=Z8e(t,ns(t,"items"));return DS(()=>t.renderless,()=>{vg(()=>{var b;d.value=$ye(a.vnode.el,!0),(b=d.value)==null||b.addEventListener("scroll",f)}),cm(()=>{var b;(b=d.value)==null||b.removeEventListener("scroll",f)})}),Cs(()=>{const b=y.value.map(O=>it(V8e,{key:O.index,renderless:t.renderless,"onUpdate:height":C=>h(O.index,C)},{default:C=>{var k;return(k=r.default)==null?void 0:k.call(r,{item:O.raw,index:O.index,...C})}}));return t.renderless?it(Go,null,[it("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:cs(g.value)}},null),b,it("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:cs(v.value)}},null)]):it("div",{ref:d,class:["v-virtual-scroll",t.class],onScroll:f,style:[i.value,t.style]},[it("div",{class:"v-virtual-scroll__container",style:{paddingTop:cs(g.value),paddingBottom:cs(v.value)}},[b])])}),{scrollToIndex:c}}});function wle(t,e){const r=fs(!1);let a;function i(h){cancelAnimationFrame(a),r.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{r.value=!1})})}async function d(){await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>{if(r.value){const c=zo(r,()=>{c(),h()})}else h()})}async function f(h){var v,y;if(h.key==="Tab"&&((v=e.value)==null||v.focus()),!["PageDown","PageUp","Home","End"].includes(h.key))return;const c=(y=t.value)==null?void 0:y.$el;if(!c)return;(h.key==="Home"||h.key==="End")&&c.scrollTo({top:h.key==="Home"?0:c.scrollHeight,behavior:"smooth"}),await d();const g=c.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(h.key==="PageDown"||h.key==="Home"){const b=c.getBoundingClientRect().top;for(const O of g)if(O.getBoundingClientRect().top>=b){O.focus();break}}else{const b=c.getBoundingClientRect().bottom;for(const O of[...g].reverse())if(O.getBoundingClientRect().bottom<=b){O.focus();break}}}return{onListScroll:i,onListKeydown:f}}const Tle=zr({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:_i,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Sbe({itemChildren:!1})},"Select"),U8e=zr({...Tle(),...LM(qU({modelValue:null,role:"button"}),["validationValue","dirty","appendInnerIcon"]),...X3({transition:{component:rle}})},"VSelect"),Cle=qo()({name:"VSelect",props:U8e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:r}=e;const{t:a}=FS(),i=Vo(),d=Vo(),f=Vo(),h=pi(t,"menu"),c=en({get:()=>h.value,set:L=>{var me;h.value&&!L&&((me=d.value)!=null&&me.openChildren)||(h.value=L)}}),{items:g,transformIn:v,transformOut:y}=ple(t),b=pi(t,"modelValue",[],L=>v(L===null?[null]:gh(L)),L=>{const me=y(L);return t.multiple?me:me[0]??null}),O=GU(),C=en(()=>b.value.map(L=>L.value)),k=fs(!1),w=en(()=>c.value?t.closeText:t.openText);let T="",R;const M=en(()=>t.hideSelected?g.value.filter(L=>!b.value.some(me=>me===L)):g.value),I=en(()=>t.hideNoData&&!g.value.length||t.readonly||(O==null?void 0:O.isReadonly.value)),V=Vo(),{onListScroll:N,onListKeydown:Q}=wle(V,i);function z(L){t.openOnClear&&(c.value=!0)}function U(){I.value||(c.value=!c.value)}function F(L){var ee,xe;if(!L.key||t.readonly||O!=null&&O.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(L.key)&&L.preventDefault(),["Enter","ArrowDown"," "].includes(L.key)&&(c.value=!0),["Escape","Tab"].includes(L.key)&&(c.value=!1),L.key==="Home"?(ee=V.value)==null||ee.focus("first"):L.key==="End"&&((xe=V.value)==null||xe.focus("last"));const me=1e3;function ae(we){const Be=we.key.length===1,pe=!we.ctrlKey&&!we.metaKey&&!we.altKey;return Be&&pe}if(t.multiple||!ae(L))return;const q=performance.now();q-R>me&&(T=""),T+=L.key.toLowerCase(),R=q;const de=g.value.find(we=>we.title.toLowerCase().startsWith(T));de!==void 0&&(b.value=[de])}function B(L){if(t.multiple){const me=b.value.findIndex(ae=>t.valueComparator(ae.value,L.value));if(me===-1)b.value=[...b.value,L];else{const ae=[...b.value];ae.splice(me,1),b.value=ae}}else b.value=[L],c.value=!1}function E(L){var me;(me=V.value)!=null&&me.$el.contains(L.relatedTarget)||(c.value=!1)}function W(){var L;k.value&&((L=i.value)==null||L.focus())}function X(L){k.value=!0}function ie(L){if(L==null)b.value=[];else if(bM(i.value,":autofill")||bM(i.value,":-webkit-autofill")){const me=g.value.find(ae=>ae.title===L);me&&B(me)}else i.value&&(i.value.value="")}return zo(c,()=>{if(!t.hideSelected&&c.value&&b.value.length){const L=M.value.findIndex(me=>b.value.some(ae=>t.valueComparator(ae.value,me.value)));zl&&window.requestAnimationFrame(()=>{var me;L>=0&&((me=f.value)==null||me.scrollToIndex(L))})}}),Cs(()=>{const L=!!(t.chips||r.chip),me=!!(!t.hideNoData||M.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),ae=b.value.length>0,[q]=$p.filterProps(t),de=ae||!k.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return it($p,rs({ref:i},q,{modelValue:b.value.map(ee=>ee.props.value).join(", "),"onUpdate:modelValue":ie,focused:k.value,"onUpdate:focused":ee=>k.value=ee,validationValue:b.externalValue,counterValue:b.value.length,dirty:ae,class:["v-select",{"v-select--active-menu":c.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":b.value.length,"v-select--selection-slot":!!r.selection},t.class],style:t.style,inputmode:"none",placeholder:de,"onClick:clear":z,"onMousedown:control":U,onBlur:E,onKeydown:F,"aria-label":a(w.value),title:a(w.value)}),{...r,default:()=>it(Go,null,[it(ZS,rs({ref:d,modelValue:c.value,"onUpdate:modelValue":ee=>c.value=ee,activator:"parent",contentClass:"v-select__content",disabled:I.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:W},t.menuProps),{default:()=>[me&&it(zS,{ref:V,selected:C.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ee=>ee.preventDefault(),onKeydown:Q,onFocusin:X,onScrollPassive:N,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var ee,xe,we;return[(ee=r["prepend-item"])==null?void 0:ee.call(r),!M.value.length&&!t.hideNoData&&(((xe=r["no-data"])==null?void 0:xe.call(r))??it(pg,{title:a(t.noDataText)},null)),it(Sle,{ref:f,renderless:!0,items:M.value},{default:Be=>{var ve;let{item:pe,index:ne,itemRef:le}=Be;const Y=rs(pe.props,{ref:le,key:ne,onClick:()=>B(pe)});return((ve=r.item)==null?void 0:ve.call(r,{item:pe,index:ne,props:Y}))??it(pg,Y,{prepend:Oe=>{let{isSelected:Le}=Oe;return it(Go,null,[t.multiple&&!t.hideSelected?it(BM,{key:pe.value,modelValue:Le,ripple:!1,tabindex:"-1"},null):void 0,pe.props.prependIcon&&it(Ja,{icon:pe.props.prependIcon},null)])}})}}),(we=r["append-item"])==null?void 0:we.call(r)]}})]}),b.value.map((ee,xe)=>{var pe;function we(ne){ne.stopPropagation(),ne.preventDefault(),B(ee)}const Be={"onClick:close":we,onMousedown(ne){ne.preventDefault(),ne.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return it("div",{key:ee.value,class:"v-select__selection"},[L?r.chip?it(Jc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ee.title}}},{default:()=>{var ne;return[(ne=r.chip)==null?void 0:ne.call(r,{item:ee,index:xe,props:Be})]}}):it(iM,rs({key:"chip",closable:t.closableChips,size:"small",text:ee.title,disabled:ee.props.disabled},Be),null):((pe=r.selection)==null?void 0:pe.call(r,{item:ee,index:xe}))??it("span",{class:"v-select__selection-text"},[ee.title,t.multiple&&xe<b.value.length-1&&it("span",{class:"v-select__selection-comma"},[Ka(",")])])])})]),"append-inner":function(){var Be;for(var ee=arguments.length,xe=new Array(ee),we=0;we<ee;we++)xe[we]=arguments[we];return it(Go,null,[(Be=r["append-inner"])==null?void 0:Be.call(r,...xe),t.menuIcon?it(Ja,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),K3({isFocused:k,menu:c,select:B},i)}}),W8e=(t,e,r)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),kle=zr({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Y8e(t,e,r){var h;const a=[],i=(r==null?void 0:r.default)??W8e,d=r!=null&&r.filterKeys?gh(r.filterKeys):!1,f=Object.keys((r==null?void 0:r.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return a;e:for(let c=0;c<t.length;c++){const[g,v=g]=gh(t[c]),y={},b={};let O=-1;if(e&&!(r!=null&&r.noFilter)){if(typeof g=="object"){const w=d||Object.keys(v);for(const T of w){const R=sm(v,T,v),M=(h=r==null?void 0:r.customKeyFilter)==null?void 0:h[T];if(O=M?M(R,e,g):i(R,e,g),O!==-1&&O!==!1)M?y[T]=O:b[T]=O;else if((r==null?void 0:r.filterMode)==="every")continue e}}else O=i(g,e,g),O!==-1&&O!==!1&&(b.title=O);const C=Object.keys(b).length,k=Object.keys(y).length;if(!C&&!k||(r==null?void 0:r.filterMode)==="union"&&k!==f&&!C||(r==null?void 0:r.filterMode)==="intersection"&&(k!==f||!C))continue}a.push({index:c,matches:{...b,...y}})}return a}function Ale(t,e,r,a){const i=Vo([]),d=Vo(new Map),f=en(()=>a!=null&&a.transform?Sf(e).map(c=>[c,a.transform(c)]):Sf(e));fm(()=>{const c=typeof r=="function"?r():Sf(r),g=typeof c!="string"&&typeof c!="number"?"":String(c),v=Y8e(f.value,g,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),y=Sf(e),b=[],O=new Map;v.forEach(C=>{let{index:k,matches:w}=C;const T=y[k];b.push(T),O.set(T.value,w)}),i.value=b,d.value=O});function h(c){return d.value.get(c.value)}return{filteredItems:i,filteredMatches:d,getMatches:h}}function X8e(t,e,r){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?it(Go,null,[it("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),it("span",{class:"v-autocomplete__mask"},[t.substr(e,r)]),it("span",{class:"v-autocomplete__unmask"},[t.substr(e+r)])]):t}const G8e=zr({autoSelectFirst:{type:[Boolean,String]},search:String,...kle({filterKeys:["title"]}),...Tle(),...LM(qU({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...X3({transition:!1})},"VAutocomplete"),Dbe=qo()({name:"VAutocomplete",props:G8e(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:r}=e;const{t:a}=FS(),i=Vo(),d=fs(!1),f=fs(!0),h=fs(!1),c=Vo(),g=Vo(),v=pi(t,"menu"),y=en({get:()=>v.value,set:Y=>{var ve;v.value&&!Y&&((ve=c.value)!=null&&ve.openChildren)||(v.value=Y)}}),b=fs(-1),O=en(()=>{var Y;return(Y=i.value)==null?void 0:Y.color}),C=en(()=>y.value?t.closeText:t.openText),{items:k,transformIn:w,transformOut:T}=ple(t),{textColorClasses:R,textColorStyles:M}=Rp(O),I=pi(t,"search",""),V=pi(t,"modelValue",[],Y=>w(Y===null?[null]:gh(Y)),Y=>{const ve=T(Y);return t.multiple?ve:ve[0]??null}),N=GU(),{filteredItems:Q,getMatches:z}=Ale(t,k,()=>f.value?"":I.value),U=en(()=>t.hideSelected?Q.value.filter(Y=>!V.value.some(ve=>ve.value===Y.value)):Q.value),F=en(()=>V.value.map(Y=>Y.props.value)),B=en(()=>{var ve;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&I.value===((ve=U.value[0])==null?void 0:ve.title))&&U.value.length>0&&!f.value&&!h.value}),E=en(()=>t.hideNoData&&!k.value.length||t.readonly||(N==null?void 0:N.isReadonly.value)),W=Vo(),{onListScroll:X,onListKeydown:ie}=wle(W,i);function L(Y){t.openOnClear&&(y.value=!0),I.value=""}function me(){E.value||(y.value=!0)}function ae(Y){E.value||(d.value&&(Y.preventDefault(),Y.stopPropagation()),y.value=!y.value)}function q(Y){var Le,Ce,De;if(t.readonly||N!=null&&N.isReadonly.value)return;const ve=i.value.selectionStart,Oe=V.value.length;if((b.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Y.key))&&Y.preventDefault(),["Enter","ArrowDown"].includes(Y.key)&&(y.value=!0),["Escape"].includes(Y.key)&&(y.value=!1),B.value&&["Enter","Tab"].includes(Y.key)&&le(U.value[0]),Y.key==="ArrowDown"&&B.value&&((Le=W.value)==null||Le.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(Y.key)){if(b.value<0){Y.key==="Backspace"&&!I.value&&(b.value=Oe-1);return}const Ve=b.value,_e=V.value[b.value];_e&&!_e.props.disabled&&le(_e),b.value=Ve>=Oe-1?Oe-2:Ve}if(Y.key==="ArrowLeft"){if(b.value<0&&ve>0)return;const Ve=b.value>-1?b.value-1:Oe-1;V.value[Ve]?b.value=Ve:(b.value=-1,i.value.setSelectionRange((Ce=I.value)==null?void 0:Ce.length,(De=I.value)==null?void 0:De.length))}if(Y.key==="ArrowRight"){if(b.value<0)return;const Ve=b.value+1;V.value[Ve]?b.value=Ve:(b.value=-1,i.value.setSelectionRange(0,0))}}}function de(Y){I.value=Y.target.value}function ee(Y){if(bM(i.value,":autofill")||bM(i.value,":-webkit-autofill")){const ve=k.value.find(Oe=>Oe.title===Y.target.value);ve&&le(ve)}}function xe(){var Y;d.value&&(f.value=!0,(Y=i.value)==null||Y.focus())}function we(Y){d.value=!0,setTimeout(()=>{h.value=!0})}function Be(Y){h.value=!1}function pe(Y){(Y==null||Y===""&&!t.multiple)&&(V.value=[])}const ne=fs(!1);function le(Y){if(t.multiple){const ve=V.value.findIndex(Oe=>t.valueComparator(Oe.value,Y.value));if(ve===-1)V.value=[...V.value,Y];else{const Oe=[...V.value];Oe.splice(ve,1),V.value=Oe}}else V.value=[Y],ne.value=!0,I.value=Y.title,y.value=!1,f.value=!0,Zl(()=>ne.value=!1)}return zo(d,(Y,ve)=>{var Oe;Y!==ve&&(Y?(ne.value=!0,I.value=t.multiple?"":String(((Oe=V.value.at(-1))==null?void 0:Oe.props.title)??""),f.value=!0,Zl(()=>ne.value=!1)):(!t.multiple&&!I.value?V.value=[]:B.value&&!h.value&&!V.value.some(Le=>{let{value:Ce}=Le;return Ce===U.value[0].value})&&le(U.value[0]),y.value=!1,I.value="",b.value=-1))}),zo(I,Y=>{!d.value||ne.value||(Y&&(y.value=!0),f.value=!Y)}),zo(y,()=>{if(!t.hideSelected&&y.value&&V.value.length){const Y=U.value.findIndex(ve=>V.value.some(Oe=>ve.value===Oe.value));zl&&window.requestAnimationFrame(()=>{var ve;Y>=0&&((ve=g.value)==null||ve.scrollToIndex(Y))})}}),Cs(()=>{const Y=!!(t.chips||r.chip),ve=!!(!t.hideNoData||U.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),Oe=V.value.length>0,[Le]=$p.filterProps(t);return it($p,rs({ref:i},Le,{modelValue:I.value,"onUpdate:modelValue":pe,focused:d.value,"onUpdate:focused":Ce=>d.value=Ce,validationValue:V.externalValue,counterValue:V.value.length,dirty:Oe,onInput:de,onChange:ee,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":y.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!r.selection,"v-autocomplete--selecting-index":b.value>-1},t.class],style:t.style,readonly:t.readonly,placeholder:Oe?void 0:t.placeholder,"onClick:clear":L,"onMousedown:control":me,onKeydown:q}),{...r,default:()=>it(Go,null,[it(ZS,rs({ref:c,modelValue:y.value,"onUpdate:modelValue":Ce=>y.value=Ce,activator:"parent",contentClass:"v-autocomplete__content",disabled:E.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:xe},t.menuProps),{default:()=>[ve&&it(zS,{ref:W,selected:F.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Ce=>Ce.preventDefault(),onKeydown:ie,onFocusin:we,onFocusout:Be,onScrollPassive:X,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var Ce,De,Ve;return[(Ce=r["prepend-item"])==null?void 0:Ce.call(r),!U.value.length&&!t.hideNoData&&(((De=r["no-data"])==null?void 0:De.call(r))??it(pg,{title:a(t.noDataText)},null)),it(Sle,{ref:g,renderless:!0,items:U.value},{default:_e=>{var se;let{item:Ie,index:re,itemRef:be}=_e;const te=rs(Ie.props,{ref:be,key:re,active:B.value&&re===0?!0:void 0,onClick:()=>le(Ie)});return((se=r.item)==null?void 0:se.call(r,{item:Ie,index:re,props:te}))??it(pg,te,{prepend:fe=>{let{isSelected:oe}=fe;return it(Go,null,[t.multiple&&!t.hideSelected?it(BM,{key:Ie.value,modelValue:oe,ripple:!1,tabindex:"-1"},null):void 0,Ie.props.prependIcon&&it(Ja,{icon:Ie.props.prependIcon},null)])},title:()=>{var fe,oe;return f.value?Ie.title:X8e(Ie.title,(fe=z(Ie))==null?void 0:fe.title,((oe=I.value)==null?void 0:oe.length)??0)}})}}),(Ve=r["append-item"])==null?void 0:Ve.call(r)]}})]}),V.value.map((Ce,De)=>{var Ie;function Ve(re){re.stopPropagation(),re.preventDefault(),le(Ce)}const _e={"onClick:close":Ve,onMousedown(re){re.preventDefault(),re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return it("div",{key:Ce.value,class:["v-autocomplete__selection",De===b.value&&["v-autocomplete__selection--selected",R.value]],style:De===b.value?M.value:{}},[Y?r.chip?it(Jc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Ce.title}}},{default:()=>{var re;return[(re=r.chip)==null?void 0:re.call(r,{item:Ce,index:De,props:_e})]}}):it(iM,rs({key:"chip",closable:t.closableChips,size:"small",text:Ce.title,disabled:Ce.props.disabled},_e),null):((Ie=r.selection)==null?void 0:Ie.call(r,{item:Ce,index:De}))??it("span",{class:"v-autocomplete__selection-text"},[Ce.title,t.multiple&&De<V.value.length-1&&it("span",{class:"v-autocomplete__selection-comma"},[Ka(",")])])])})]),"append-inner":function(){var _e;for(var Ce=arguments.length,De=new Array(Ce),Ve=0;Ve<Ce;Ve++)De[Ve]=arguments[Ve];return it(Go,null,[(_e=r["append-inner"])==null?void 0:_e.call(r,...De),t.menuIcon?it(Ja,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:ae,onClick:Cye,"aria-label":a(C.value),title:a(C.value)},null):void 0])}})}),K3({isFocused:d,isPristine:f,menu:y,search:I,filteredItems:Q,select:le},i)}});const $be=qo()({name:"VCardActions",props:fa(),setup(t,e){let{slots:r}=e;return ly({VBtn:{variant:"text"}}),Cs(()=>{var a;return it("div",{class:["v-card-actions",t.class],style:t.style},[(a=r.default)==null?void 0:a.call(r)])}),{}}}),j8e=NM("v-card-subtitle"),Lbe=NM("v-card-title"),q8e=zr({appendAvatar:String,appendIcon:_i,prependAvatar:String,prependIcon:_i,subtitle:String,title:String,...fa(),...qv()},"VCardItem"),K8e=qo()({name:"VCardItem",props:q8e(),setup(t,e){let{slots:r}=e;return Cs(()=>{var g;const a=!!(t.prependAvatar||t.prependIcon),i=!!(a||r.prepend),d=!!(t.appendAvatar||t.appendIcon),f=!!(d||r.append),h=!!(t.title||r.title),c=!!(t.subtitle||r.subtitle);return it("div",{class:["v-card-item",t.class],style:t.style},[i&&it("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?it(Jc,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},r.prepend):a&&it(xM,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),it("div",{class:"v-card-item__content"},[h&&it(Lbe,{key:"title"},{default:()=>{var v;return[((v=r.title)==null?void 0:v.call(r))??t.title]}}),c&&it(j8e,{key:"subtitle"},{default:()=>{var v;return[((v=r.subtitle)==null?void 0:v.call(r))??t.subtitle]}}),(g=r.default)==null?void 0:g.call(r)]),f&&it("div",{key:"append",class:"v-card-item__append"},[r.append?it(Jc,{key:"append-defaults",disabled:!d,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},r.append):d&&it(xM,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),J8e=NM("v-card-text"),e6e=zr({appendAvatar:String,appendIcon:_i,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:_i,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...G3(),...fa(),...qv(),...W3(),...MO(),...ZU(),...dle(),...ebe(),...Np(),...WU(),...Fc(),...Ou(),...VS({variant:"elevated"})},"VCard"),J3=qo()({name:"VCard",directives:{Ripple:q3},props:e6e(),setup(t,e){let{attrs:r,slots:a}=e;const{themeClasses:i}=Cf(t),{borderClasses:d}=j3(t),{colorClasses:f,colorStyles:h,variantClasses:c}=o9(t),{densityClasses:g}=cy(t),{dimensionStyles:v}=Y3(t),{elevationClasses:y}=EO(t),{loaderClasses:b}=HU(t),{locationStyles:O}=hle(t),{positionClasses:C}=tbe(t),{roundedClasses:k}=Bp(t),w=UU(t,r),T=en(()=>t.link!==!1&&w.isLink.value),R=en(()=>!t.disabled&&t.link!==!1&&(t.link||w.isClickable.value));return Cs(()=>{const M=T.value?"a":t.tag,I=!!(a.title||t.title),V=!!(a.subtitle||t.subtitle),N=I||V,Q=!!(a.append||t.appendAvatar||t.appendIcon),z=!!(a.prepend||t.prependAvatar||t.prependIcon),U=!!(a.image||t.image),F=N||z||Q,B=!!(a.text||t.text);return Fu(it(M,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":R.value},i.value,d.value,f.value,g.value,y.value,b.value,C.value,k.value,c.value,t.class],style:[h.value,v.value,O.value,t.style],href:w.href.value,onClick:R.value&&w.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var E;return[U&&it("div",{key:"image",class:"v-card__image"},[a.image?it(Jc,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},a.image):it(n9,{key:"image-img",cover:!0,src:t.image},null)]),it(mle,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:a.loader}),F&&it(K8e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),B&&it(J8e,{key:"text"},{default:()=>{var W;return[((W=a.text)==null?void 0:W.call(a))??t.text]}}),(E=a.default)==null?void 0:E.call(a),a.actions&&it($be,null,{default:a.actions}),r9(R.value,"v-card")]}}),[[Yv("ripple"),R.value&&t.ripple]])}),{}}});const Ple=Symbol.for("vuetify:v-slider");function lae(t,e,r){const a=r==="vertical",i=e.getBoundingClientRect(),d="touches"in t?t.touches[0]:t;return a?d.clientY-(i.top+i.height/2):d.clientX-(i.left+i.width/2)}function t6e(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const Ibe=zr({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...Np(),...MO({elevation:2})},"Slider"),Nbe=t=>{const e=en(()=>parseFloat(t.min)),r=en(()=>parseFloat(t.max)),a=en(()=>+t.step>0?parseFloat(t.step):0),i=en(()=>Math.max(Phe(a.value),Phe(e.value)));function d(f){if(f=parseFloat(f),a.value<=0)return f;const h=Mp(f,e.value,r.value),c=e.value%a.value,g=Math.round((h-c)/a.value)*a.value+c;return parseFloat(Math.min(g,r.value).toFixed(i.value))}return{min:e,max:r,step:a,decimals:i,roundValue:d}},Bbe=t=>{let{props:e,steps:r,onSliderStart:a,onSliderMove:i,onSliderEnd:d,getActiveThumb:f}=t;const{isRtl:h}=Ip(),c=ns(e,"reverse"),g=en(()=>e.direction==="vertical"),v=en(()=>g.value!==c.value),{min:y,max:b,step:O,decimals:C,roundValue:k}=r,w=en(()=>parseInt(e.thumbSize,10)),T=en(()=>parseInt(e.tickSize,10)),R=en(()=>parseInt(e.trackSize,10)),M=en(()=>(b.value-y.value)/O.value),I=ns(e,"disabled"),V=en(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),N=en(()=>e.error||e.disabled?void 0:e.trackColor??e.color),Q=en(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),z=fs(!1),U=fs(0),F=Vo(),B=Vo();function E(ne){var _e;const le=e.direction==="vertical",Y=le?"top":"left",ve=le?"height":"width",Oe=le?"clientY":"clientX",{[Y]:Le,[ve]:Ce}=(_e=F.value)==null?void 0:_e.$el.getBoundingClientRect(),De=t6e(ne,Oe);let Ve=Math.min(Math.max((De-Le-U.value)/Ce,0),1)||0;return(le?v.value:v.value!==h.value)&&(Ve=1-Ve),k(y.value+Ve*(b.value-y.value))}const W=ne=>{d({value:E(ne)}),z.value=!1,U.value=0},X=ne=>{B.value=f(ne),B.value&&(B.value.focus(),z.value=!0,B.value.contains(ne.target)?U.value=lae(ne,B.value,e.direction):(U.value=0,i({value:E(ne)})),a({value:E(ne)}))},ie={passive:!0,capture:!0};function L(ne){i({value:E(ne)})}function me(ne){ne.stopPropagation(),ne.preventDefault(),W(ne),window.removeEventListener("mousemove",L,ie),window.removeEventListener("mouseup",me)}function ae(ne){var le;W(ne),window.removeEventListener("touchmove",L,ie),(le=ne.target)==null||le.removeEventListener("touchend",ae)}function q(ne){var le;X(ne),window.addEventListener("touchmove",L,ie),(le=ne.target)==null||le.addEventListener("touchend",ae,{passive:!1})}function de(ne){ne.preventDefault(),X(ne),window.addEventListener("mousemove",L,ie),window.addEventListener("mouseup",me,{passive:!1})}const ee=ne=>{const le=(ne-y.value)/(b.value-y.value)*100;return Mp(isNaN(le)?0:le,0,100)},xe=ns(e,"showTicks"),we=en(()=>xe.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(ne=>({value:ne,position:ee(ne),label:ne.toString()})):Object.keys(e.ticks).map(ne=>({value:parseFloat(ne),position:ee(parseFloat(ne)),label:e.ticks[ne]})):M.value!==1/0?vM(M.value+1).map(ne=>{const le=y.value+ne*O.value;return{value:le,position:ee(le)}}):[]:[]),Be=en(()=>we.value.some(ne=>{let{label:le}=ne;return!!le})),pe={activeThumbRef:B,color:ns(e,"color"),decimals:C,disabled:I,direction:ns(e,"direction"),elevation:ns(e,"elevation"),hasLabels:Be,isReversed:c,indexFromEnd:v,min:y,max:b,mousePressed:z,numTicks:M,onSliderMousedown:de,onSliderTouchstart:q,parsedTicks:we,parseMouseMove:E,position:ee,readonly:ns(e,"readonly"),rounded:ns(e,"rounded"),roundValue:k,showTicks:xe,startOffset:U,step:O,thumbSize:w,thumbColor:V,thumbLabel:ns(e,"thumbLabel"),ticks:ns(e,"ticks"),tickSize:T,trackColor:N,trackContainerRef:F,trackFillColor:Q,trackSize:R,vertical:g};return Cl(Ple,pe),pe},n6e=zr({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...fa()},"VSliderThumb"),cae=qo()({name:"VSliderThumb",directives:{Ripple:q3},props:n6e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=Ra(Ple),{isRtl:d,rtlClasses:f}=Ip();if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:h,step:c,disabled:g,thumbSize:v,thumbLabel:y,direction:b,isReversed:O,vertical:C,readonly:k,elevation:w,mousePressed:T,decimals:R,indexFromEnd:M}=i,{textColorClasses:I,textColorStyles:V}=Rp(h),{pageup:N,pagedown:Q,end:z,home:U,left:F,right:B,down:E,up:W}=WEe,X=[N,Q,z,U,F,B,E,W],ie=en(()=>c.value?[1,2,3]:[1,5,10]);function L(ae,q){if(!X.includes(ae.key))return;ae.preventDefault();const de=c.value||.1,ee=(t.max-t.min)/de;if([F,B,E,W].includes(ae.key)){const we=(C.value?[d.value?F:B,O.value?E:W]:M.value!==d.value?[F,W]:[B,W]).includes(ae.key)?1:-1,Be=ae.shiftKey?2:ae.ctrlKey?1:0;q=q+we*de*ie.value[Be]}else if(ae.key===U)q=t.min;else if(ae.key===z)q=t.max;else{const xe=ae.key===Q?1:-1;q=q-xe*de*(ee>100?ee/10:10)}return Math.max(t.min,Math.min(t.max,q))}function me(ae){const q=L(ae,t.modelValue);q!=null&&a("update:modelValue",q)}return Cs(()=>{const ae=cs(M.value?100-t.position:t.position,"%"),{elevationClasses:q}=EO(en(()=>g.value?void 0:w.value));return it("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&T.value},t.class,f.value],style:[{"--v-slider-thumb-position":ae,"--v-slider-thumb-size":cs(v.value)},t.style],role:"slider",tabindex:g.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!k.value,"aria-orientation":b.value,onKeydown:k.value?void 0:me},[it("div",{class:["v-slider-thumb__surface",I.value,q.value],style:{...V.value}},null),Fu(it("div",{class:["v-slider-thumb__ripple",I.value],style:V.value},null),[[Yv("ripple"),t.ripple,null,{circle:!0,center:!0}]]),it(X_e,{origin:"bottom center"},{default:()=>{var de;return[Fu(it("div",{class:"v-slider-thumb__label-container"},[it("div",{class:["v-slider-thumb__label"]},[it("div",null,[((de=r["thumb-label"])==null?void 0:de.call(r,{modelValue:t.modelValue}))??t.modelValue.toFixed(c.value?R.value:1)])])]),[[LS,y.value&&t.focused||y.value==="always"]])]}})])}),{}}});const r6e=zr({start:{type:Number,required:!0},stop:{type:Number,required:!0},...fa()},"VSliderTrack"),Qbe=qo()({name:"VSliderTrack",props:r6e(),emits:{},setup(t,e){let{slots:r}=e;const a=Ra(Ple);if(!a)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,parsedTicks:d,rounded:f,showTicks:h,tickSize:c,trackColor:g,trackFillColor:v,trackSize:y,vertical:b,min:O,max:C,indexFromEnd:k}=a,{roundedClasses:w}=Bp(f),{backgroundColorClasses:T,backgroundColorStyles:R}=Dp(v),{backgroundColorClasses:M,backgroundColorStyles:I}=Dp(g),V=en(()=>`inset-${b.value?"block":"inline"}-${k.value?"end":"start"}`),N=en(()=>b.value?"height":"width"),Q=en(()=>({[V.value]:"0%",[N.value]:"100%"})),z=en(()=>t.stop-t.start),U=en(()=>({[V.value]:cs(t.start,"%"),[N.value]:cs(z.value,"%")})),F=en(()=>h.value?(b.value?d.value.slice().reverse():d.value).map((E,W)=>{var ie;const X=E.value!==O.value&&E.value!==C.value?cs(E.position,"%"):void 0;return it("div",{key:E.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":E.position>=t.start&&E.position<=t.stop,"v-slider-track__tick--first":E.value===O.value,"v-slider-track__tick--last":E.value===C.value}],style:{[V.value]:X}},[(E.label||r["tick-label"])&&it("div",{class:"v-slider-track__tick-label"},[((ie=r["tick-label"])==null?void 0:ie.call(r,{tick:E,index:W}))??E.label])])}):[]);return Cs(()=>it("div",{class:["v-slider-track",w.value,t.class],style:[{"--v-slider-track-size":cs(y.value),"--v-slider-tick-size":cs(c.value)},t.style]},[it("div",{class:["v-slider-track__background",M.value,{"v-slider-track__background--opacity":!!i.value||!v.value}],style:{...Q.value,...I.value}},null),it("div",{class:["v-slider-track__fill",T.value],style:{...U.value,...R.value}},null),h.value&&it("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":h.value==="always"}]},[F.value])])),{}}}),o6e=zr({...XU(),...Ibe(),...l9(),modelValue:{type:[Number,String],default:0}},"VSlider"),Fbe=qo()({name:"VSlider",props:o6e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=Vo(),{rtlClasses:d}=Ip(),f=Nbe(t),h=pi(t,"modelValue",void 0,N=>f.roundValue(N??f.min.value)),{min:c,max:g,mousePressed:v,roundValue:y,onSliderMousedown:b,onSliderTouchstart:O,trackContainerRef:C,position:k,hasLabels:w,readonly:T}=Bbe({props:t,steps:f,onSliderStart:()=>{a("start",h.value)},onSliderEnd:N=>{let{value:Q}=N;const z=y(Q);h.value=z,a("end",z)},onSliderMove:N=>{let{value:Q}=N;return h.value=y(Q)},getActiveThumb:()=>{var N;return(N=i.value)==null?void 0:N.$el}}),{isFocused:R,focus:M,blur:I}=i9(t),V=en(()=>k(h.value));return Cs(()=>{const[N,Q]=$S.filterProps(t),z=!!(t.label||r.label||r.prepend);return it($S,rs({class:["v-slider",{"v-slider--has-labels":!!r["tick-label"]||w.value,"v-slider--focused":R.value,"v-slider--pressed":v.value,"v-slider--disabled":t.disabled},d.value,t.class],style:t.style},N,{focused:R.value}),{...r,prepend:z?U=>{var F,B;return it(Go,null,[((F=r.label)==null?void 0:F.call(r,U))??(t.label?it(YU,{id:U.id.value,class:"v-slider__label",text:t.label},null):void 0),(B=r.prepend)==null?void 0:B.call(r,U)])}:void 0,default:U=>{let{id:F,messagesId:B}=U;return it("div",{class:"v-slider__container",onMousedown:T.value?void 0:b,onTouchstartPassive:T.value?void 0:O},[it("input",{id:F.value,name:t.name||F.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:h.value},null),it(Qbe,{ref:C,start:0,stop:V.value},{"tick-label":r["tick-label"]}),it(cae,{ref:i,"aria-describedby":B.value,focused:R.value,min:c.value,max:g.value,modelValue:h.value,"onUpdate:modelValue":E=>h.value=E,position:V.value,elevation:t.elevation,onFocus:M,onBlur:I},{"thumb-label":r["thumb-label"]})])}})}),{}}});function s6e(t,e,r){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?it(Go,null,[it("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),it("span",{class:"v-combobox__mask"},[t.substr(e,r)]),it("span",{class:"v-combobox__unmask"},[t.substr(e+r)])]):t}const a6e=zr({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...kle({filterKeys:["title"]}),...Tle({hideNoData:!0,returnObject:!0}),...LM(qU({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...X3({transition:!1})},"VCombobox"),Vbe=qo()({name:"VCombobox",props:a6e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var Y;let{emit:r,slots:a}=e;const{t:i}=FS(),d=Vo(),f=fs(!1),h=fs(!0),c=fs(!1),g=Vo(),v=Vo(),y=pi(t,"menu"),b=en({get:()=>y.value,set:ve=>{var Oe;y.value&&!ve&&((Oe=g.value)!=null&&Oe.openChildren)||(y.value=ve)}}),O=fs(-1);let C=!1;const k=en(()=>{var ve;return(ve=d.value)==null?void 0:ve.color}),w=en(()=>b.value?t.closeText:t.openText),{items:T,transformIn:R,transformOut:M}=ple(t),{textColorClasses:I,textColorStyles:V}=Rp(k),N=pi(t,"modelValue",[],ve=>R(gh(ve)),ve=>{const Oe=M(ve);return t.multiple?Oe:Oe[0]??null}),Q=GU(),z=fs(t.multiple?"":((Y=N.value[0])==null?void 0:Y.title)??""),U=en({get:()=>z.value,set:ve=>{var Oe;if(z.value=ve,t.multiple||(N.value=[R3(t,ve)]),ve&&t.multiple&&((Oe=t.delimiters)!=null&&Oe.length)){const Le=ve.split(new RegExp(`(?:${t.delimiters.join("|")})+`));Le.length>1&&(Le.forEach(Ce=>{Ce=Ce.trim(),Ce&&Be(R3(t,Ce))}),z.value="")}ve||(O.value=-1),h.value=!ve}});zo(z,ve=>{C?Zl(()=>C=!1):f.value&&!b.value&&(b.value=!0),r("update:search",ve)}),zo(N,ve=>{var Oe;t.multiple||(z.value=((Oe=ve[0])==null?void 0:Oe.title)??"")});const{filteredItems:F,getMatches:B}=Ale(t,T,()=>h.value?"":U.value),E=en(()=>t.hideSelected?F.value.filter(ve=>!N.value.some(Oe=>Oe.value===ve.value)):F.value),W=en(()=>N.value.map(ve=>ve.value)),X=en(()=>{var Oe;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&U.value===((Oe=E.value[0])==null?void 0:Oe.title))&&E.value.length>0&&!h.value&&!c.value}),ie=en(()=>t.hideNoData&&!T.value.length||t.readonly||(Q==null?void 0:Q.isReadonly.value)),L=Vo(),{onListScroll:me,onListKeydown:ae}=wle(L,d);function q(ve){C=!0,t.openOnClear&&(b.value=!0)}function de(){ie.value||(b.value=!0)}function ee(ve){ie.value||(f.value&&(ve.preventDefault(),ve.stopPropagation()),b.value=!b.value)}function xe(ve){var Ce;if(t.readonly||Q!=null&&Q.isReadonly.value)return;const Oe=d.value.selectionStart,Le=N.value.length;if((O.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ve.key))&&ve.preventDefault(),["Enter","ArrowDown"].includes(ve.key)&&(b.value=!0),["Escape"].includes(ve.key)&&(b.value=!1),["Enter","Escape","Tab"].includes(ve.key)&&(X.value&&["Enter","Tab"].includes(ve.key)&&Be(F.value[0]),h.value=!0),ve.key==="ArrowDown"&&X.value&&((Ce=L.value)==null||Ce.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(ve.key)){if(O.value<0){ve.key==="Backspace"&&!U.value&&(O.value=Le-1);return}const De=O.value,Ve=N.value[O.value];Ve&&!Ve.props.disabled&&Be(Ve),O.value=De>=Le-1?Le-2:De}if(ve.key==="ArrowLeft"){if(O.value<0&&Oe>0)return;const De=O.value>-1?O.value-1:Le-1;N.value[De]?O.value=De:(O.value=-1,d.value.setSelectionRange(U.value.length,U.value.length))}if(ve.key==="ArrowRight"){if(O.value<0)return;const De=O.value+1;N.value[De]?O.value=De:(O.value=-1,d.value.setSelectionRange(0,0))}ve.key==="Enter"&&U.value&&(Be(R3(t,U.value)),U.value="")}}function we(){var ve;f.value&&(h.value=!0,(ve=d.value)==null||ve.focus())}function Be(ve){if(t.multiple){const Oe=N.value.findIndex(Le=>t.valueComparator(Le.value,ve.value));if(Oe===-1)N.value=[...N.value,ve];else{const Le=[...N.value];Le.splice(Oe,1),N.value=Le}U.value=""}else N.value=[ve],z.value=ve.title,Zl(()=>{b.value=!1,h.value=!0})}function pe(ve){f.value=!0,setTimeout(()=>{c.value=!0})}function ne(ve){c.value=!1}function le(ve){(ve==null||ve===""&&!t.multiple)&&(N.value=[])}return zo(F,ve=>{!ve.length&&t.hideNoData&&(b.value=!1)}),zo(f,(ve,Oe)=>{ve||ve===Oe||(O.value=-1,b.value=!1,X.value&&!c.value&&!N.value.some(Le=>{let{value:Ce}=Le;return Ce===E.value[0].value})?Be(E.value[0]):t.multiple&&U.value&&(N.value=[...N.value,R3(t,U.value)],U.value=""))}),zo(b,()=>{if(!t.hideSelected&&b.value&&N.value.length){const ve=E.value.findIndex(Oe=>N.value.some(Le=>t.valueComparator(Le.value,Oe.value)));zl&&window.requestAnimationFrame(()=>{var Oe;ve>=0&&((Oe=v.value)==null||Oe.scrollToIndex(ve))})}}),Cs(()=>{const ve=!!(t.chips||a.chip),Oe=!!(!t.hideNoData||E.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),Le=N.value.length>0,[Ce]=$p.filterProps(t);return it($p,rs({ref:d},Ce,{modelValue:U.value,"onUpdate:modelValue":[De=>U.value=De,le],focused:f.value,"onUpdate:focused":De=>f.value=De,validationValue:N.externalValue,counterValue:t.multiple?N.value.length:U.value.length,dirty:Le,class:["v-combobox",{"v-combobox--active-menu":b.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!a.selection,"v-combobox--selecting-index":O.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:t.readonly,placeholder:Le?void 0:t.placeholder,"onClick:clear":q,"onMousedown:control":de,onKeydown:xe}),{...a,default:()=>it(Go,null,[it(ZS,rs({ref:g,modelValue:b.value,"onUpdate:modelValue":De=>b.value=De,activator:"parent",contentClass:"v-combobox__content",disabled:ie.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:we},t.menuProps),{default:()=>[Oe&&it(zS,{ref:L,selected:W.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:De=>De.preventDefault(),onKeydown:ae,onFocusin:pe,onFocusout:ne,onScrollPassive:me,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var De,Ve,_e;return[(De=a["prepend-item"])==null?void 0:De.call(a),!E.value.length&&!t.hideNoData&&(((Ve=a["no-data"])==null?void 0:Ve.call(a))??it(pg,{title:i(t.noDataText)},null)),it(Sle,{ref:v,renderless:!0,items:E.value},{default:Ie=>{var fe;let{item:re,index:be,itemRef:te}=Ie;const se=rs(re.props,{ref:te,key:be,active:X.value&&be===0?!0:void 0,onClick:()=>Be(re)});return((fe=a.item)==null?void 0:fe.call(a,{item:re,index:be,props:se}))??it(pg,se,{prepend:oe=>{let{isSelected:Se}=oe;return it(Go,null,[t.multiple&&!t.hideSelected?it(BM,{key:re.value,modelValue:Se,ripple:!1,tabindex:"-1"},null):void 0,re.props.prependIcon&&it(Ja,{icon:re.props.prependIcon},null)])},title:()=>{var oe,Se;return h.value?re.title:s6e(re.title,(oe=B(re))==null?void 0:oe.title,((Se=U.value)==null?void 0:Se.length)??0)}})}}),(_e=a["append-item"])==null?void 0:_e.call(a)]}})]}),N.value.map((De,Ve)=>{var re;function _e(be){be.stopPropagation(),be.preventDefault(),Be(De)}const Ie={"onClick:close":_e,onMousedown(be){be.preventDefault(),be.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return it("div",{key:De.value,class:["v-combobox__selection",Ve===O.value&&["v-combobox__selection--selected",I.value]],style:Ve===O.value?V.value:{}},[ve?a.chip?it(Jc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:De.title}}},{default:()=>{var be;return[(be=a.chip)==null?void 0:be.call(a,{item:De,index:Ve,props:Ie})]}}):it(iM,rs({key:"chip",closable:t.closableChips,size:"small",text:De.title,disabled:De.props.disabled},Ie),null):((re=a.selection)==null?void 0:re.call(a,{item:De,index:Ve}))??it("span",{class:"v-combobox__selection-text"},[De.title,t.multiple&&Ve<N.value.length-1&&it("span",{class:"v-combobox__selection-comma"},[Ka(",")])])])})]),"append-inner":function(){var Ie;for(var De=arguments.length,Ve=new Array(De),_e=0;_e<De;_e++)Ve[_e]=arguments[_e];return it(Go,null,[(Ie=a["append-inner"])==null?void 0:Ie.call(a,...Ve),(!t.hideNoData||t.items.length)&&t.menuIcon?it(Ja,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:ee,onClick:Cye,"aria-label":i(w.value),title:i(w.value)},null):void 0])}})}),K3({isFocused:f,isPristine:h,menu:b,search:U,selectionIndex:O,filteredItems:F,select:Be},d)}});const i6e=zr({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ble({origin:"center center",scrollStrategy:"block",transition:{component:rle},zIndex:2400})},"VDialog"),l6e=qo()({name:"VDialog",props:i6e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=pi(t,"modelValue"),{scopeId:i}=yle(),d=Vo();function f(c){var y,b;const g=c.relatedTarget,v=c.target;if(g!==v&&((y=d.value)!=null&&y.contentEl)&&((b=d.value)!=null&&b.globalTop)&&![document,d.value.contentEl].includes(v)&&!d.value.contentEl.contains(v)){const O=QH(d.value.contentEl);if(!O.length)return;const C=O[0],k=O[O.length-1];g===C?k.focus():C.focus()}}zl&&zo(()=>a.value&&t.retainFocus,c=>{c?document.addEventListener("focusin",f):document.removeEventListener("focusin",f)},{immediate:!0}),zo(a,async c=>{var g,v;await Zl(),c?(g=d.value.contentEl)==null||g.focus({preventScroll:!0}):(v=d.value.activatorEl)==null||v.focus({preventScroll:!0})});const h=en(()=>rs({"aria-haspopup":"dialog","aria-expanded":String(a.value)},t.activatorProps));return Cs(()=>{const[c]=GH.filterProps(t);return it(GH,rs({ref:d,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},c,{modelValue:a.value,"onUpdate:modelValue":g=>a.value=g,"aria-modal":"true",activatorProps:h.value,role:"dialog"},i),{activator:r.activator,default:function(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];return it(Jc,{root:"VDialog"},{default:()=>{var b;return[(b=r.default)==null?void 0:b.call(r,...v)]}})}})}),K3({},d)}});const $$=Symbol.for("vuetify:v-expansion-panel"),c6e=["default","accordion","inset","popout"],u6e=zr({color:String,variant:{type:String,default:"default",validator:t=>c6e.includes(t)},readonly:Boolean,...fa(),...lle(),...Fc(),...Ou()},"VExpansionPanels"),zbe=qo()({name:"VExpansionPanels",props:u6e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;fle(t,$$);const{themeClasses:a}=Cf(t),i=en(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return ly({VExpansionPanel:{color:ns(t,"color")},VExpansionPanelTitle:{readonly:ns(t,"readonly")}}),Cs(()=>it(t.tag,{class:["v-expansion-panels",a.value,i.value,t.class],style:t.style},r)),{}}}),f6e=zr({...fa(),...vle()},"VExpansionPanelText"),Mle=qo()({name:"VExpansionPanelText",props:f6e(),setup(t,e){let{slots:r}=e;const a=Ra($$);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:d}=Pbe(t,a.isSelected);return Cs(()=>it(ole,{onAfterLeave:d},{default:()=>{var f;return[Fu(it("div",{class:["v-expansion-panel-text",t.class],style:t.style},[r.default&&i.value&&it("div",{class:"v-expansion-panel-text__wrapper"},[(f=r.default)==null?void 0:f.call(r)])]),[[LS,a.isSelected.value]])]}})),{}}}),Zbe=zr({color:String,expandIcon:{type:_i,default:"$expand"},collapseIcon:{type:_i,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...fa()},"VExpansionPanelTitle"),Ele=qo()({name:"VExpansionPanelTitle",directives:{Ripple:q3},props:Zbe(),setup(t,e){let{slots:r}=e;const a=Ra($$);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:d}=Dp(t,"color"),f=en(()=>({collapseIcon:t.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly}));return Cs(()=>{var h;return Fu(it("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value},i.value,t.class],style:[d.value,t.style],type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:t.readonly?void 0:a.toggle},[it("span",{class:"v-expansion-panel-title__overlay"},null),(h=r.default)==null?void 0:h.call(r,f.value),!t.hideActions&&it("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(f.value):it(Ja,{icon:a.isSelected.value?t.collapseIcon:t.expandIcon},null)])]),[[Yv("ripple"),t.ripple]])}),{}}}),d6e=zr({title:String,text:String,bgColor:String,...fa(),...MO(),...cle(),...vle(),...Np(),...Fc(),...Zbe()},"VExpansionPanel"),Hbe=qo()({name:"VExpansionPanel",props:d6e(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:r}=e;const a=ule(t,$$),{backgroundColorClasses:i,backgroundColorStyles:d}=Dp(t,"bgColor"),{elevationClasses:f}=EO(t),{roundedClasses:h}=Bp(t),c=en(()=>(a==null?void 0:a.disabled.value)||t.disabled),g=en(()=>a.group.items.value.reduce((b,O,C)=>(a.group.selected.value.includes(O.id)&&b.push(C),b),[])),v=en(()=>{const b=a.group.items.value.findIndex(O=>O.id===a.id);return!a.isSelected.value&&g.value.some(O=>O-b===1)}),y=en(()=>{const b=a.group.items.value.findIndex(O=>O.id===a.id);return!a.isSelected.value&&g.value.some(O=>O-b===-1)});return Cl($$,a),ly({VExpansionPanelText:{eager:ns(t,"eager")}}),Cs(()=>{const b=!!(r.text||t.text),O=!!(r.title||t.title);return it(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":y.value,"v-expansion-panel--disabled":c.value},h.value,i.value,t.class],style:[d.value,t.style]},{default:()=>{var C;return[it("div",{class:["v-expansion-panel__shadow",...f.value]},null),O&&it(Ele,{key:"title",collapseIcon:t.collapseIcon,color:t.color,expandIcon:t.expandIcon,hideActions:t.hideActions,ripple:t.ripple},{default:()=>[r.title?r.title():t.title]}),b&&it(Mle,{key:"text"},{default:()=>[r.text?r.text():t.text]}),(C=r.default)==null?void 0:C.call(r)]}})}),{}}});const h6e=zr({fluid:{type:Boolean,default:!1},...fa(),...Fc()},"VContainer"),L$=qo()({name:"VContainer",props:h6e(),setup(t,e){let{slots:r}=e;const{rtlClasses:a}=Ip();return Cs(()=>it(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},a.value,t.class],style:t.style},r)),{}}}),Ube=(()=>jU.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),Wbe=(()=>jU.reduce((t,e)=>{const r="offset"+CO(e);return t[r]={type:[String,Number],default:null},t},{}))(),Ybe=(()=>jU.reduce((t,e)=>{const r="order"+CO(e);return t[r]={type:[String,Number],default:null},t},{}))(),vme={col:Object.keys(Ube),offset:Object.keys(Wbe),order:Object.keys(Ybe)};function m6e(t,e,r){let a=t;if(!(r==null||r===!1)){if(e){const i=e.replace(t,"");a+=`-${i}`}return t==="col"&&(a="v-"+a),t==="col"&&(r===""||r===!0)||(a+=`-${r}`),a.toLowerCase()}}const g6e=["auto","start","end","center","baseline","stretch"],p6e=zr({cols:{type:[Boolean,String,Number],default:!1},...Ube,offset:{type:[String,Number],default:null},...Wbe,order:{type:[String,Number],default:null},...Ybe,alignSelf:{type:String,default:null,validator:t=>g6e.includes(t)},...fa(),...Fc()},"VCol"),lm=qo()({name:"VCol",props:p6e(),setup(t,e){let{slots:r}=e;const a=en(()=>{const i=[];let d;for(d in vme)vme[d].forEach(h=>{const c=t[h],g=m6e(d,h,c);g&&i.push(g)});const f=i.some(h=>h.startsWith("v-col-"));return i.push({"v-col":!f||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),i});return()=>{var i;return ph(t.tag,{class:[a.value,t.class],style:t.style},(i=r.default)==null?void 0:i.call(r))}}}),_le=["start","end","center"],Xbe=["space-between","space-around","space-evenly"];function Rle(t,e){return jU.reduce((r,a)=>{const i=t+CO(a);return r[i]=e(),r},{})}const v6e=[..._le,"baseline","stretch"],Gbe=t=>v6e.includes(t),jbe=Rle("align",()=>({type:String,default:null,validator:Gbe})),y6e=[..._le,...Xbe],qbe=t=>y6e.includes(t),Kbe=Rle("justify",()=>({type:String,default:null,validator:qbe})),b6e=[..._le,...Xbe,"stretch"],Jbe=t=>b6e.includes(t),eOe=Rle("alignContent",()=>({type:String,default:null,validator:Jbe})),yme={align:Object.keys(jbe),justify:Object.keys(Kbe),alignContent:Object.keys(eOe)},O6e={align:"align",justify:"justify",alignContent:"align-content"};function x6e(t,e,r){let a=O6e[t];if(r!=null){if(e){const i=e.replace(t,"");a+=`-${i}`}return a+=`-${r}`,a.toLowerCase()}}const S6e=zr({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Gbe},...jbe,justify:{type:String,default:null,validator:qbe},...Kbe,alignContent:{type:String,default:null,validator:Jbe},...eOe,...fa(),...Fc()},"VRow"),am=qo()({name:"VRow",props:S6e(),setup(t,e){let{slots:r}=e;const a=en(()=>{const i=[];let d;for(d in yme)yme[d].forEach(f=>{const h=t[f],c=x6e(d,f,h);c&&i.push(c)});return i.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),i});return()=>{var i;return ph(t.tag,{class:["v-row",a.value,t.class],style:t.style},(i=r.default)==null?void 0:i.call(r))}}}),w6e=NM("v-spacer","div","VSpacer");const T6e=zr({scrollable:Boolean,...fa(),...Fc({tag:"main"})},"VMain"),tOe=qo()({name:"VMain",props:T6e(),setup(t,e){let{slots:r}=e;const{mainStyles:a}=E_e(),{ssrBootStyles:i}=ile();return Cs(()=>it(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[a.value,i.value,t.style]},{default:()=>{var d,f;return[t.scrollable?it("div",{class:"v-main__scroller"},[(d=r.default)==null?void 0:d.call(r)]):(f=r.default)==null?void 0:f.call(r)]}})),{}}}),C6e=zr({...XU(),...l9(),...Ibe(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),nOe=qo()({name:"VRangeSlider",props:C6e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=Vo(),d=Vo(),f=Vo(),{rtlClasses:h}=Ip();function c(U){if(!i.value||!d.value)return;const F=lae(U,i.value.$el,t.direction),B=lae(U,d.value.$el,t.direction),E=Math.abs(F),W=Math.abs(B);return E<W||E===W&&F<0?i.value.$el:d.value.$el}const g=Nbe(t),v=pi(t,"modelValue",void 0,U=>U!=null&&U.length?U.map(F=>g.roundValue(F)):[0,0]),{activeThumbRef:y,hasLabels:b,max:O,min:C,mousePressed:k,onSliderMousedown:w,onSliderTouchstart:T,position:R,trackContainerRef:M}=Bbe({props:t,steps:g,onSliderStart:()=>{a("start",v.value)},onSliderEnd:U=>{var E;let{value:F}=U;const B=y.value===((E=i.value)==null?void 0:E.$el)?[F,v.value[1]]:[v.value[0],F];!t.strict&&B[0]<B[1]&&(v.value=B),a("end",v.value)},onSliderMove:U=>{var W,X,ie,L;let{value:F}=U;const[B,E]=v.value;!t.strict&&B===E&&B!==C.value&&(y.value=F>B?(W=d.value)==null?void 0:W.$el:(X=i.value)==null?void 0:X.$el,(ie=y.value)==null||ie.focus()),y.value===((L=i.value)==null?void 0:L.$el)?v.value=[Math.min(F,E),E]:v.value=[B,Math.max(B,F)]},getActiveThumb:c}),{isFocused:I,focus:V,blur:N}=i9(t),Q=en(()=>R(v.value[0])),z=en(()=>R(v.value[1]));return Cs(()=>{const[U,F]=$S.filterProps(t),B=!!(t.label||r.label||r.prepend);return it($S,rs({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!r["tick-label"]||b.value,"v-slider--focused":I.value,"v-slider--pressed":k.value,"v-slider--disabled":t.disabled},h.value,t.class],style:t.style,ref:f},U,{focused:I.value}),{...r,prepend:B?E=>{var W,X;return it(Go,null,[((W=r.label)==null?void 0:W.call(r,E))??(t.label?it(YU,{class:"v-slider__label",text:t.label},null):void 0),(X=r.prepend)==null?void 0:X.call(r,E)])}:void 0,default:E=>{var ie,L;let{id:W,messagesId:X}=E;return it("div",{class:"v-slider__container",onMousedown:w,onTouchstartPassive:T},[it("input",{id:`${W.value}_start`,name:t.name||W.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:v.value[0]},null),it("input",{id:`${W.value}_stop`,name:t.name||W.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:v.value[1]},null),it(Qbe,{ref:M,start:Q.value,stop:z.value},{"tick-label":r["tick-label"]}),it(cae,{ref:i,"aria-describedby":X.value,focused:I&&y.value===((ie=i.value)==null?void 0:ie.$el),modelValue:v.value[0],"onUpdate:modelValue":me=>v.value=[me,v.value[1]],onFocus:me=>{var ae,q,de,ee;V(),y.value=(ae=i.value)==null?void 0:ae.$el,v.value[0]===v.value[1]&&v.value[1]===C.value&&me.relatedTarget!==((q=d.value)==null?void 0:q.$el)&&((de=i.value)==null||de.$el.blur(),(ee=d.value)==null||ee.$el.focus())},onBlur:()=>{N(),y.value=void 0},min:C.value,max:v.value[1],position:Q.value},{"thumb-label":r["thumb-label"]}),it(cae,{ref:d,"aria-describedby":X.value,focused:I&&y.value===((L=d.value)==null?void 0:L.$el),modelValue:v.value[1],"onUpdate:modelValue":me=>v.value=[v.value[0],me],onFocus:me=>{var ae,q,de,ee;V(),y.value=(ae=d.value)==null?void 0:ae.$el,v.value[0]===v.value[1]&&v.value[0]===O.value&&me.relatedTarget!==((q=i.value)==null?void 0:q.$el)&&((de=d.value)==null||de.$el.blur(),(ee=i.value)==null||ee.$el.focus())},onBlur:()=>{N(),y.value=void 0},min:v.value[0],max:O.value,position:z.value},{"thumb-label":r["thumb-label"]})])}})}),{}}});const rOe=zr({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...fa(),...qv(),...Fc(),...Ou()},"VTable"),bme=qo()({name:"VTable",props:rOe(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=Cf(t),{densityClasses:i}=cy(t);return Cs(()=>it(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":t.hover},a.value,i.value,t.class],style:t.style},{default:()=>{var d,f,h;return[(d=r.top)==null?void 0:d.call(r),r.default?it("div",{class:"v-table__wrapper",style:{height:cs(t.height)}},[it("table",null,[r.default()])]):(f=r.wrapper)==null?void 0:f.call(r),(h=r.bottom)==null?void 0:h.call(r)]}})),{}}});const k6e=zr({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...l9(),...Ole()},"VTextarea"),oOe=qo()({name:"VTextarea",directives:{Intersect:sle},inheritAttrs:!1,props:k6e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const d=pi(t,"modelValue"),{isFocused:f,focus:h,blur:c}=i9(t),g=en(()=>typeof t.counterValue=="function"?t.counterValue(d.value):(d.value||"").toString().length),v=en(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function y(B,E){var W,X;!t.autofocus||!B||(X=(W=E[0].target)==null?void 0:W.focus)==null||X.call(W)}const b=Vo(),O=Vo(),C=fs(""),k=Vo(),w=en(()=>t.persistentPlaceholder||f.value||t.active);function T(){var B;k.value!==document.activeElement&&((B=k.value)==null||B.focus()),f.value||h()}function R(B){T(),a("click:control",B)}function M(B){a("mousedown:control",B)}function I(B){B.stopPropagation(),T(),Zl(()=>{d.value="",wye(t["onClick:clear"],B)})}function V(B){var W;const E=B.target;if(d.value=E.value,(W=t.modelModifiers)!=null&&W.trim){const X=[E.selectionStart,E.selectionEnd];Zl(()=>{E.selectionStart=X[0],E.selectionEnd=X[1]})}}const N=Vo(),Q=Vo(+t.rows),z=en(()=>["plain","underlined"].includes(t.variant));fm(()=>{t.autoGrow||(Q.value=+t.rows)});function U(){t.autoGrow&&Zl(()=>{if(!N.value||!O.value)return;const B=getComputedStyle(N.value),E=getComputedStyle(O.value.$el),W=parseFloat(B.getPropertyValue("--v-field-padding-top"))+parseFloat(B.getPropertyValue("--v-input-padding-top"))+parseFloat(B.getPropertyValue("--v-field-padding-bottom")),X=N.value.scrollHeight,ie=parseFloat(B.lineHeight),L=Math.max(parseFloat(t.rows)*ie+W,parseFloat(E.getPropertyValue("--v-input-control-height"))),me=parseFloat(t.maxRows)*ie+W||1/0,ae=Mp(X??0,L,me);Q.value=Math.floor((ae-W)/ie),C.value=cs(ae)})}vg(U),zo(d,U),zo(()=>t.rows,U),zo(()=>t.maxRows,U),zo(()=>t.density,U);let F;return zo(N,B=>{B?(F=new ResizeObserver(U),F.observe(N.value)):F==null||F.disconnect()}),dm(()=>{F==null||F.disconnect()}),Cs(()=>{const B=!!(i.counter||t.counter||t.counterValue),E=!!(B||i.details),[W,X]=qie(r),[{modelValue:ie,...L}]=$S.filterProps(t),[me]=Rbe(t);return it($S,rs({ref:b,modelValue:d.value,"onUpdate:modelValue":ae=>d.value=ae,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--plain-underlined":z.value},t.class],style:t.style},W,L,{centerAffix:Q.value===1&&!z.value,focused:f.value}),{...i,default:ae=>{let{isDisabled:q,isDirty:de,isReadonly:ee,isValid:xe}=ae;return it(xle,rs({ref:O,style:{"--v-textarea-control-height":C.value},onClick:R,onMousedown:M,"onClick:clear":I,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},me,{active:w.value||de.value,centerAffix:Q.value===1&&!z.value,dirty:de.value||t.dirty,disabled:q.value,focused:f.value,error:xe.value===!1}),{...i,default:we=>{let{props:{class:Be,...pe}}=we;return it(Go,null,[t.prefix&&it("span",{class:"v-text-field__prefix"},[t.prefix]),Fu(it("textarea",rs({ref:k,class:Be,value:d.value,onInput:V,autofocus:t.autofocus,readonly:ee.value,disabled:q.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:T,onBlur:c},pe,X),null),[[Yv("intersect"),{handler:y},null,{once:!0}]]),t.autoGrow&&Fu(it("textarea",{class:[Be,"v-textarea__sizer"],id:`${pe.id}-sizer`,"onUpdate:modelValue":ne=>d.value=ne,ref:N,readonly:!0,"aria-hidden":"true"},null),[[dCe,d.value]]),t.suffix&&it("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:E?ae=>{var q;return it(Go,null,[(q=i.details)==null?void 0:q.call(i,ae),B&&it(Go,null,[it("span",null,null),it(_be,{active:t.persistentCounter||f.value,value:g.value,max:v.value},i.counter)])])}:void 0})}),K3({},b,O,k)}});const A6e=zr({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),sOe=Symbol.for("vuetify:data-table-pagination");function P6e(t){const e=pi(t,"page",void 0,a=>+(a??1)),r=pi(t,"itemsPerPage",void 0,a=>+(a??10));return{page:e,itemsPerPage:r}}function M6e(t){const{page:e,itemsPerPage:r,itemsLength:a}=t,i=en(()=>r.value===-1?0:r.value*(e.value-1)),d=en(()=>r.value===-1?a.value:Math.min(a.value,i.value+r.value)),f=en(()=>r.value===-1||a.value===0?1:Math.ceil(a.value/r.value));fm(()=>{e.value>f.value&&(e.value=f.value)});function h(b){r.value=b,e.value=1}function c(){e.value=Mp(e.value+1,1,f.value)}function g(){e.value=Mp(e.value-1,1,f.value)}function v(b){e.value=Mp(b,1,f.value)}const y={page:e,itemsPerPage:r,startIndex:i,stopIndex:d,pageCount:f,itemsLength:a,nextPage:c,prevPage:g,setPage:v,setItemsPerPage:h};return Cl(sOe,y),y}function E6e(){const t=Ra(sOe);if(!t)throw new Error("Missing pagination!");return t}function _6e(t){const{items:e,startIndex:r,stopIndex:a,itemsPerPage:i}=t;return{paginatedItems:en(()=>i.value<=0?e.value:e.value.slice(r.value,a.value))}}const aOe=zr({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ome=qo()({name:"VDataTableFooter",props:aOe(),setup(t,e){let{slots:r}=e;const{t:a}=FS(),{page:i,pageCount:d,startIndex:f,stopIndex:h,itemsLength:c,itemsPerPage:g,setItemsPerPage:v}=E6e(),y=en(()=>t.itemsPerPageOptions.map(b=>({...b,title:a(b.title)})));return()=>{var b;return it("div",{class:"v-data-table-footer"},[(b=r.prepend)==null?void 0:b.call(r),it("div",{class:"v-data-table-footer__items-per-page"},[it("span",null,[a(t.itemsPerPageText)]),it(Cle,{items:y.value,modelValue:g.value,"onUpdate:modelValue":O=>v(Number(O)),density:"compact",variant:"outlined","hide-details":!0},null)]),it("div",{class:"v-data-table-footer__info"},[it("div",null,[a(t.pageText,c.value?f.value+1:0,h.value,c.value)])]),it("div",{class:"v-data-table-footer__pagination"},[it(rc,{icon:t.firstIcon,variant:"plain",onClick:()=>i.value=1,disabled:i.value===1,"aria-label":a(t.firstPageLabel)},null),it(rc,{icon:t.prevIcon,variant:"plain",onClick:()=>i.value=Math.max(1,i.value-1),disabled:i.value===1,"aria-label":a(t.prevPageLabel)},null),t.showCurrentPage&&it("span",{key:"page",class:"v-data-table-footer__page"},[i.value]),it(rc,{icon:t.nextIcon,variant:"plain",onClick:()=>i.value=Math.min(d.value,i.value+1),disabled:i.value===d.value,"aria-label":a(t.nextPageLabel)},null),it(rc,{icon:t.lastIcon,variant:"plain",onClick:()=>i.value=d.value,disabled:i.value===d.value,"aria-label":a(t.lastPageLabel)},null)])])}}}),Dle=S_e({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(t,e)=>{let{slots:r,attrs:a}=e;const i=t.tag??"td";return it(i,rs({class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding},`v-data-table-column--align-${t.align}`],style:{height:cs(t.height),width:cs(t.width),left:cs(t.fixedOffset||null)}},a),{default:()=>{var d;return[(d=r.default)==null?void 0:d.call(r)]}})}),R6e=zr({headers:{type:Array,default:()=>[]}},"DataTable-header"),iOe=Symbol.for("vuetify:data-table-headers");function D6e(t,e){const r=Vo([]),a=Vo([]);fm(()=>{var O,C,k;const d=t.headers.length?Array.isArray(t.headers[0])?t.headers:[t.headers]:[],f=d.flatMap((w,T)=>w.map(R=>({column:R,row:T}))),h=d.length,c={title:"",sortable:!1},g={...c,width:48};if((O=e==null?void 0:e.groupBy)!=null&&O.value.length){const w=f.findIndex(T=>{let{column:R}=T;return R.key==="data-table-group"});w<0?f.unshift({column:{...c,key:"data-table-group",title:"Group",rowspan:h},row:0}):f.splice(w,1,{column:{...c,...f[w].column},row:f[w].row})}if((C=e==null?void 0:e.showSelect)!=null&&C.value){const w=f.findIndex(T=>{let{column:R}=T;return R.key==="data-table-select"});w<0?f.unshift({column:{...g,key:"data-table-select",rowspan:h},row:0}):f.splice(w,1,{column:{...g,...f[w].column},row:f[w].row})}if((k=e==null?void 0:e.showExpand)!=null&&k.value){const w=f.findIndex(T=>{let{column:R}=T;return R.key==="data-table-expand"});w<0?f.push({column:{...g,key:"data-table-expand",rowspan:h},row:0}):f.splice(w,1,{column:{...g,...f[w].column},row:f[w].row})}const v=vM(h).map(()=>[]),y=vM(h).fill(0);f.forEach(w=>{let{column:T,row:R}=w;const M=T.key??(typeof T.value=="string"?T.value:null),I=T.value??T.key??null;for(let V=R;V<=R+(T.rowspan??1)-1;V++)v[V].push({...T,key:M,value:I,fixedOffset:y[V],sortable:T.sortable??M!=null}),y[V]+=Number(T.width??0)}),v.forEach(w=>{for(let T=w.length;T--;T>=0)if(w[T].fixed){w[T].lastFixed=!0;return}});const b=new Set;r.value=v.map(w=>{const T=[];for(const R of w)b.has(R.key)||(b.add(R.key),T.push(R));return T}),a.value=v.at(-1)??[]});const i={headers:r,columns:a};return Cl(iOe,i),i}function KU(){const t=Ra(iOe);if(!t)throw new Error("Missing headers!");return t}const $6e={showSelectAll:!1,allSelected:()=>[],select:t=>{var a;let{items:e,value:r}=t;return new Set(r?[(a=e[0])==null?void 0:a.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},lOe={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:r,selected:a}=t;for(const i of e)r?a.add(i.value):a.delete(i.value);return a},selectAll:t=>{let{value:e,currentPage:r,selected:a}=t;return lOe.select({items:r,value:e,selected:a})}},cOe={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:r,selected:a}=t;for(const i of e)r?a.add(i.value):a.delete(i.value);return a},selectAll:t=>{let{value:e,allItems:r,selected:a}=t;return cOe.select({items:r,value:e,selected:a})}},L6e=zr({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:U3}},"DataTable-select"),uOe=Symbol.for("vuetify:data-table-selection");function I6e(t,e){let{allItems:r,currentPage:a}=e;const i=pi(t,"modelValue",t.modelValue,w=>new Set(gh(w).map(T=>{var R;return((R=r.value.find(M=>t.valueComparator(T,M.value)))==null?void 0:R.value)??T})),w=>[...w.values()]),d=en(()=>r.value.filter(w=>w.selectable)),f=en(()=>a.value.filter(w=>w.selectable)),h=en(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return $6e;case"all":return cOe;case"page":default:return lOe}});function c(w){return gh(w).every(T=>i.value.has(T.value))}function g(w){return gh(w).some(T=>i.value.has(T.value))}function v(w,T){const R=h.value.select({items:w,value:T,selected:new Set(i.value)});i.value=R}function y(w){v([w],!c([w]))}function b(w){const T=h.value.selectAll({value:w,allItems:d.value,currentPage:f.value,selected:new Set(i.value)});i.value=T}const O=en(()=>i.value.size>0),C=en(()=>{const w=h.value.allSelected({allItems:d.value,currentPage:f.value});return!!w.length&&c(w)}),k={toggleSelect:y,select:v,selectAll:b,isSelected:c,isSomeSelected:g,someSelected:O,allSelected:C,showSelectAll:h.value.showSelectAll};return Cl(uOe,k),k}function JU(){const t=Ra(uOe);if(!t)throw new Error("Missing selection!");return t}const N6e=zr({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),fOe=Symbol.for("vuetify:data-table-sort");function B6e(t){const e=pi(t,"sortBy"),r=ns(t,"mustSort"),a=ns(t,"multiSort");return{sortBy:e,mustSort:r,multiSort:a}}function Q6e(t){const{sortBy:e,mustSort:r,multiSort:a,page:i}=t,d=c=>{if(c.key==null)return;let g=e.value.map(y=>({...y}))??[];const v=g.find(y=>y.key===c.key);v?v.order==="desc"?r.value?v.order="asc":g=g.filter(y=>y.key!==c.key):v.order="desc":a.value?g=[...g,{key:c.key,order:"asc"}]:g=[{key:c.key,order:"asc"}],e.value=g,i&&(i.value=1)};function f(c){return!!e.value.find(g=>g.key===c.key)}const h={sortBy:e,toggleSort:d,isSorted:f};return Cl(fOe,h),h}function F6e(){const t=Ra(fOe);if(!t)throw new Error("Missing sort!");return t}function V6e(t,e,r){const a=FS();return{sortedItems:en(()=>r.value.length?z6e(e.value,r.value,a.current.value,t.customKeySort):e.value)}}function z6e(t,e,r,a){const i=new Intl.Collator(r,{sensitivity:"accent",usage:"sort"});return[...t].sort((d,f)=>{for(let h=0;h<e.length;h++){const c=e[h].key,g=e[h].order??"asc";if(g===!1)continue;let v=V3(d.raw,c),y=V3(f.raw,c);if(g==="desc"&&([v,y]=[y,v]),a!=null&&a[c]){const b=a[c](v,y);if(!b)continue;return b}if(v instanceof Date&&y instanceof Date)return v.getTime()-y.getTime();if([v,y]=[v,y].map(b=>b!=null?b.toString().toLocaleLowerCase():b),v!==y)return AZ(v)&&AZ(y)?0:AZ(v)?-1:AZ(y)?1:!isNaN(v)&&!isNaN(y)?Number(v)-Number(y):i.compare(v,y)}return 0})}const dOe=zr({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:_i,default:"$sortAsc"},sortDescIcon:{type:_i,default:"$sortDesc"},...ZU()},"VDataTableHeaders"),xme=qo()({name:"VDataTableHeaders",props:dOe(),setup(t,e){let{slots:r,emit:a}=e;const{toggleSort:i,sortBy:d,isSorted:f}=F6e(),{someSelected:h,allSelected:c,selectAll:g,showSelectAll:v}=JU(),{columns:y,headers:b}=KU(),{loaderClasses:O}=HU(t),C=(I,V)=>{if(!(!t.sticky&&!I.fixed))return{position:"sticky",zIndex:I.fixed?4:t.sticky?3:void 0,left:I.fixed?cs(I.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${V})`:void 0}};function k(I){const V=d.value.find(N=>N.key===I.key);return V?V.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:w,backgroundColorStyles:T}=Dp(t,"color"),R=en(()=>({headers:b.value,columns:y.value,toggleSort:i,isSorted:f,sortBy:d.value,someSelected:h.value,allSelected:c.value,selectAll:g,getSortIcon:k,getFixedStyles:C})),M=I=>{let{column:V,x:N,y:Q}=I;const z=V.key==="data-table-select"||V.key==="data-table-expand";return it(Dle,{tag:"th",align:V.align,class:["v-data-table__th",{"v-data-table__th--sortable":V.sortable,"v-data-table__th--sorted":f(V)},O.value],style:{width:cs(V.width),minWidth:cs(V.width),...C(V,Q)},colspan:V.colspan,rowspan:V.rowspan,onClick:V.sortable?()=>i(V):void 0,lastFixed:V.lastFixed,noPadding:z},{default:()=>{var B;const U=`column.${V.key}`,F={column:V,selectAll:g,isSorted:f,toggleSort:i,sortBy:d.value,someSelected:h.value,allSelected:c.value,getSortIcon:k};return r[U]?r[U](F):V.key==="data-table-select"?((B=r["column.data-table-select"])==null?void 0:B.call(r,F))??(v&&it(BM,{modelValue:c.value,indeterminate:h.value&&!c.value,"onUpdate:modelValue":g},null)):it("div",{class:"v-data-table-header__content"},[it("span",null,[V.title]),V.sortable&&it(Ja,{key:"icon",class:"v-data-table-header__sort-icon",icon:k(V)},null),t.multiSort&&f(V)&&it("div",{key:"badge",class:["v-data-table-header__sort-badge",...w.value],style:T.value},[d.value.findIndex(E=>E.key===V.key)+1])])}})};Cs(()=>it(Go,null,[r.headers?r.headers(R.value):b.value.map((I,V)=>it("tr",null,[I.map((N,Q)=>it(M,{column:N,x:Q,y:V},null))])),t.loading&&it("tr",{class:"v-data-table-progress"},[it("th",{colspan:y.value.length},[it(mle,{name:"v-data-table-progress",active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:r.loader})])])]))}}),Z6e=zr({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),hOe=Symbol.for("vuetify:data-table-group");function H6e(t){return{groupBy:pi(t,"groupBy")}}function U6e(t){const{groupBy:e,sortBy:r}=t,a=Vo(new Set),i=en(()=>e.value.map(g=>({...g,order:g.order??!1})).concat(r.value));function d(g){return a.value.has(g.id)}function f(g){const v=new Set(a.value);d(g)?v.delete(g.id):v.add(g.id),a.value=v}function h(g){function v(y){const b=[];for(const O of y.items)"type"in O&&O.type==="group"?b.push(...v(O)):b.push(O);return b}return v({type:"group",items:g,id:"dummy",key:"dummy",value:"dummy",depth:0})}const c={sortByWithGroups:i,toggleGroup:f,opened:a,groupBy:e,extractRows:h,isGroupOpen:d};return Cl(hOe,c),c}function mOe(){const t=Ra(hOe);if(!t)throw new Error("Missing group!");return t}function W6e(t,e){if(!t.length)return[];const r=new Map;for(const a of t){const i=V3(a.raw,e);r.has(i)||r.set(i,[]),r.get(i).push(a)}return r}function gOe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const i=W6e(t,e[0]),d=[],f=e.slice(1);return i.forEach((h,c)=>{const g=e[0],v=`${a}_${g}_${c}`;d.push({depth:r,id:v,key:g,value:c,items:f.length?gOe(h,f,r+1,v):h,type:"group"})}),d}function pOe(t,e){const r=[];for(const a of t)"type"in a&&a.type==="group"?(a.value!=null&&r.push(a),(e.has(a.id)||a.value==null)&&r.push(...pOe(a.items,e))):r.push(a);return r}function Y6e(t,e,r){return{flatItems:en(()=>{if(!e.value.length)return t.value;const i=gOe(t.value,e.value.map(d=>d.key));return pOe(i,r.value)})}}const X6e=zr({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),G6e=qo()({name:"VDataTableGroupHeaderRow",props:X6e(),setup(t,e){let{slots:r}=e;const{isGroupOpen:a,toggleGroup:i,extractRows:d}=mOe(),{isSelected:f,isSomeSelected:h,select:c}=JU(),{columns:g}=KU(),v=en(()=>d([t.item]));return()=>it("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[g.value.map(y=>{var b,O;if(y.key==="data-table-group"){const C=a(t.item)?"$expand":"$next",k=()=>i(t.item);return((b=r["data-table-group"])==null?void 0:b.call(r,{item:t.item,count:v.value.length,props:{icon:C,onClick:k}}))??it(Dle,{class:"v-data-table-group-header-row__column"},{default:()=>[it(rc,{size:"small",variant:"text",icon:C,onClick:k},null),it("span",null,[t.item.value]),it("span",null,[Ka("("),v.value.length,Ka(")")])]})}if(y.key==="data-table-select"){const C=f(v.value),k=h(v.value)&&!C,w=T=>c(v.value,T);return((O=r["data-table-select"])==null?void 0:O.call(r,{props:{modelValue:C,indeterminate:k,"onUpdate:modelValue":w}}))??it("td",null,[it(BM,{modelValue:C,indeterminate:k,"onUpdate:modelValue":w},null)])}return it("td",null,null)})])}}),j6e=zr({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),vOe=Symbol.for("vuetify:datatable:expanded");function q6e(t){const e=ns(t,"expandOnClick"),r=pi(t,"expanded",t.expanded,h=>new Set(h),h=>[...h.values()]);function a(h,c){const g=new Set(r.value);c?g.add(h.value):g.delete(h.value),r.value=g}function i(h){return r.value.has(h.value)}function d(h){a(h,!i(h))}const f={expand:a,expanded:r,expandOnClick:e,isExpanded:i,toggleExpand:d};return Cl(vOe,f),f}function yOe(){const t=Ra(vOe);if(!t)throw new Error("foo");return t}const K6e=zr({index:Number,item:Object,onClick:Function},"VDataTableRow"),J6e=qo()({name:"VDataTableRow",props:K6e(),setup(t,e){let{slots:r}=e;const{isSelected:a,toggleSelect:i}=JU(),{isExpanded:d,toggleExpand:f}=yOe(),{columns:h}=KU();Cs(()=>it("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!t.onClick}],onClick:t.onClick},[t.item&&h.value.map((c,g)=>it(Dle,{align:c.align,fixed:c.fixed,fixedOffset:c.fixedOffset,lastFixed:c.lastFixed,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",width:c.width},{default:()=>{var O,C;const v=t.item,y=`item.${c.key}`,b={index:t.index,item:v.raw,internalItem:v,value:V3(v.columns,c.key),column:c,isSelected:a,toggleSelect:i,isExpanded:d,toggleExpand:f};return r[y]?r[y](b):c.key==="data-table-select"?((O=r["item.data-table-select"])==null?void 0:O.call(r,b))??it(BM,{disabled:!v.selectable,modelValue:a([v]),onClick:bfe(()=>i(v),["stop"])},null):c.key==="data-table-expand"?((C=r["item.data-table-expand"])==null?void 0:C.call(r,b))??it(rc,{icon:d(v)?"$collapse":"$expand",size:"small",variant:"text",onClick:bfe(()=>f(v),["stop"])},null):Cp(b.value)}}))]))}}),bOe=zr({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Sme=qo()({name:"VDataTableRows",props:bOe(),setup(t,e){let{emit:r,slots:a}=e;const{columns:i}=KU(),{expandOnClick:d,toggleExpand:f,isExpanded:h}=yOe(),{isSelected:c,toggleSelect:g}=JU(),{toggleGroup:v,isGroupOpen:y}=mOe(),{t:b}=FS();return Cs(()=>{var O,C;return t.loading?it("tr",{class:"v-data-table-rows-loading",key:"loading"},[it("td",{colspan:i.value.length},[((O=a.loading)==null?void 0:O.call(a))??b(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?it("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[it("td",{colspan:i.value.length},[((C=a["no-data"])==null?void 0:C.call(a))??b(t.noDataText)])]):it(Go,null,[t.items.map((k,w)=>{var M;if(k.type==="group")return a["group-header"]?a["group-header"]({index:w,item:k,columns:i.value,isExpanded:h,toggleExpand:f,isSelected:c,toggleSelect:g,toggleGroup:v,isGroupOpen:y}):it(G6e,{key:`group-header_${k.id}`,item:k},a);const T={index:w,item:k.raw,internalItem:k,columns:i.value,isExpanded:h,toggleExpand:f,isSelected:c,toggleSelect:g},R={...T,props:{key:`item_${k.key??k.index}`,onClick:d.value||t["onClick:row"]?I=>{var V;d.value&&f(k),(V=t["onClick:row"])==null||V.call(t,I,{item:k.raw,internalItem:k})}:void 0,index:w,item:k}};return it(Go,null,[a.item?a.item(R):it(J6e,R.props,a),h(k)&&((M=a["expanded-row"])==null?void 0:M.call(a,T))])})])}),{}}}),e7e=zr({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function t7e(t,e,r,a){const i=t.returnObject?e:sm(e,t.itemValue),d=sm(e,t.itemSelectable,!0),f=a.reduce((h,c)=>(c.key!=null&&(h[c.key]=sm(e,c.value)),h),{});return{type:"item",key:t.returnObject?sm(e,t.itemValue):i,index:r,value:i,selectable:d,columns:f,raw:e}}function n7e(t,e,r){return e.map((a,i)=>t7e(t,a,i,r))}function r7e(t,e){return{items:en(()=>n7e(t,t.items,e.value))}}function o7e(t){let{page:e,itemsPerPage:r,sortBy:a,groupBy:i,search:d}=t;const f=Tf("VDataTable"),h=en(()=>({page:e.value,itemsPerPage:r.value,sortBy:a.value,groupBy:i.value,search:d.value}));zo(()=>d==null?void 0:d.value,()=>{e.value=1});let c=null;zo(h,()=>{U3(c,h.value)||(f.emit("update:options",h.value),c=h.value)},{deep:!0,immediate:!0})}const s7e=zr({...bOe(),width:[String,Number],search:String,...j6e(),...Z6e(),...R6e(),...e7e(),...L6e(),...N6e(),...dOe(),...rOe()},"DataTable"),a7e=zr({...A6e(),...s7e(),...kle(),...aOe()},"VDataTable"),$le=qo()({name:"VDataTable",props:a7e(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{emit:r,slots:a}=e;const{groupBy:i}=H6e(t),{sortBy:d,multiSort:f,mustSort:h}=B6e(t),{page:c,itemsPerPage:g}=P6e(t),{columns:v,headers:y}=D6e(t,{groupBy:i,showSelect:ns(t,"showSelect"),showExpand:ns(t,"showExpand")}),{items:b}=r7e(t,v),O=ns(t,"search"),{filteredItems:C}=Ale(t,b,O,{transform:we=>we.columns}),{toggleSort:k}=Q6e({sortBy:d,multiSort:f,mustSort:h,page:c}),{sortByWithGroups:w,opened:T,extractRows:R,isGroupOpen:M,toggleGroup:I}=U6e({groupBy:i,sortBy:d}),{sortedItems:V}=V6e(t,C,w),{flatItems:N}=Y6e(V,i,T),Q=en(()=>N.value.length),{startIndex:z,stopIndex:U,pageCount:F,setItemsPerPage:B}=M6e({page:c,itemsPerPage:g,itemsLength:Q}),{paginatedItems:E}=_6e({items:N,startIndex:z,stopIndex:U,itemsPerPage:g}),W=en(()=>R(E.value)),{isSelected:X,select:ie,selectAll:L,toggleSelect:me,someSelected:ae,allSelected:q}=I6e(t,{allItems:b,currentPage:W}),{isExpanded:de,toggleExpand:ee}=q6e(t);o7e({page:c,itemsPerPage:g,sortBy:d,groupBy:i,search:O}),ly({VDataTableRows:{hideNoData:ns(t,"hideNoData"),noDataText:ns(t,"noDataText"),loading:ns(t,"loading"),loadingText:ns(t,"loadingText")}});const xe=en(()=>({page:c.value,itemsPerPage:g.value,sortBy:d.value,pageCount:F.value,toggleSort:k,setItemsPerPage:B,someSelected:ae.value,allSelected:q.value,isSelected:X,select:ie,selectAll:L,toggleSelect:me,isExpanded:de,toggleExpand:ee,isGroupOpen:M,toggleGroup:I,items:W.value,groupedItems:E.value,columns:v.value,headers:y.value}));return Cs(()=>{const[we]=Ome.filterProps(t),[Be]=xme.filterProps(t),[pe]=Sme.filterProps(t),[ne]=bme.filterProps(t);return it(bme,rs({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},ne),{top:()=>{var le;return(le=a.top)==null?void 0:le.call(a,xe.value)},default:()=>{var le,Y,ve,Oe;return a.default?a.default(xe.value):it(Go,null,[(le=a.colgroup)==null?void 0:le.call(a,xe.value),it("thead",null,[it(xme,Be,a)]),(Y=a.thead)==null?void 0:Y.call(a,xe.value),it("tbody",null,[a.body?a.body(xe.value):it(Sme,rs(pe,{items:E.value}),a)]),(ve=a.tbody)==null?void 0:ve.call(a,xe.value),(Oe=a.tfoot)==null?void 0:Oe.call(a,xe.value)])},bottom:()=>a.bottom?a.bottom(xe.value):it(Go,null,[it(Ome,we,{prepend:a["footer.prepend"]})])})}),{}}}),i7e=Z3({props:{text:{type:String,required:!0},type:{type:String,required:!0},color:{type:String}}});function l7e(t,e,r,a,i,d){return to(),Ia("div",{class:pU(t.type),style:gU({color:t.color})},Cp(t.text),7)}const OOe=Xv(i7e,[["render",l7e]]),c7e={emits:["runCode"],components:{"v-slider":Fbe,"v-text-field":$p,"v-number-field":$p,"v-textarea":oOe,"v-range-slider":nOe,"v-select":Cle,"v-combobox":Vbe,"v-btn":rc,"v-img":n9,"v-data-table":$le,"v-autocomplete":Dbe,"v-card":J3,"v-text":OOe,"plotly-plot":dve},props:{rowData:{type:Object},columnData:{type:Object},components:{type:Object,required:!0}},methods:{findComponentById(t){const e=this.components.find(r=>r.id===t);return e?[e]:[]},cardComponents(t){const e=[];for(const r in t.cardChildren)e.push.apply(e,this.findComponentById(t.cardChildren[r]));return e},runCode(t,e,r){this.$emit("runCode",t,e,r)},componentWidth(t){return t.width?t.width:!1},componentBind(t){if(t.component&&t.component==="v-autocomplete"){const{value:e,...r}=t;return r}return t},clickedButton(t){t.component==="v-btn"&&(t.value=!0)}}},u7e={key:0},f7e={key:1},d7e={key:1},h7e={key:0},m7e={key:1};function g7e(t,e,r,a,i,d){const f=Vv("plotly-plot"),h=Vv("layout-component",!0);return to(),Ia(Go,null,[r.rowData?(to(),ys(am,{key:0},{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(r.rowData.components,(c,g)=>(to(),ys(lm,{key:g,cols:d.componentWidth(c)},{default:Vr(()=>[typeof c=="string"?(to(),Ia("div",u7e,[(to(!0),Ia(Go,null,Wf(d.findComponentById(c),v=>(to(),Ia("div",null,[v.component==="plotly-plot"?(to(),ys(f,{key:0,id:v.id,figure:v.figure,layout:v.layout},null,8,["id","figure","layout"])):v.component==="v-card"?(to(),ys(ug(v.component),rs({key:1},d.componentBind(v),{position:"relative",onRunCode:d.runCode}),{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(d.cardComponents(v),y=>(to(),Ia("div",null,[y.component==="plotly-plot"?(to(),ys(f,{key:0,id:y.id,figure:y.figure,layout:y.layout},null,8,["id","figure","layout"])):(to(),ys(ug(y.component),rs({key:1},d.componentBind(y),{modelValue:y.value,"onUpdate:modelValue":b=>y.value=b,onClick:b=>d.clickedButton(y)},{[X1(y.triggerEvent)]:b=>d.runCode(!0,y.id,y.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040,["onRunCode"])):(to(),ys(ug(v.component),rs({key:2},d.componentBind(v),{modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,onClick:y=>d.clickedButton(v)},{[X1(v.triggerEvent)]:y=>d.runCode(!0,v.id,v.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))])):(to(),Ia("div",f7e,[it(h,{"column-data":c,components:r.components,onRunCode:d.runCode},null,8,["column-data","components","onRunCode"])]))]),_:2},1032,["cols"]))),128))]),_:1})):yu("",!0),r.columnData?(to(),Ia("div",d7e,[(to(!0),Ia(Go,null,Wf(r.columnData.components,(c,g)=>(to(),Ia("div",{key:g},[typeof c=="string"?(to(),Ia("div",h7e,[(to(!0),Ia(Go,null,Wf(d.findComponentById(c),v=>(to(),Ia("div",null,[v.component==="plotly-plot"?(to(),ys(f,{key:0,id:v.id,figure:v.figure,layout:v.layout},null,8,["id","figure","layout"])):v.component==="v-card"?(to(),ys(ug(v.component),rs({key:1},d.componentBind(v),{position:"relative"}),{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(d.cardComponents(v),y=>(to(),Ia("div",null,[y.component==="plotly-plot"?(to(),ys(f,{key:0,id:y.id,figure:y.figure,layout:y.layout},null,8,["id","figure","layout"])):(to(),ys(ug(y.component),rs({key:1},d.componentBind(y),{modelValue:y.value,"onUpdate:modelValue":b=>y.value=b,onClick:b=>d.clickedButton(y)},{[X1(y.triggerEvent)]:b=>d.runCode(!0,y.id,y.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040)):(to(),ys(ug(v.component),rs({key:2},d.componentBind(v),{modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,onClick:y=>d.clickedButton(v)},{[X1(v.triggerEvent)]:y=>d.runCode(!0,v.id,v.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))])):(to(),Ia("div",m7e,[it(h,{"row-data":c,components:r.components,onRunCode:d.runCode},null,8,["row-data","components","onRunCode"])]))]))),128))])):yu("",!0)],64)}const p7e=Xv(c7e,[["render",g7e]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const UP=typeof window<"u";function v7e(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ji=Object.assign;function voe(t,e){const r={};for(const a in e){const i=e[a];r[a]=Wv(i)?i.map(t):t(i)}return r}const qD=()=>{},Wv=Array.isArray,y7e=/\/$/,b7e=t=>t.replace(y7e,"");function yoe(t,e,r="/"){let a,i={},d="",f="";const h=e.indexOf("#");let c=e.indexOf("?");return h<c&&h>=0&&(c=-1),c>-1&&(a=e.slice(0,c),d=e.slice(c+1,h>-1?h:e.length),i=t(d)),h>-1&&(a=a||e.slice(0,h),f=e.slice(h,e.length)),a=w7e(a??e,r),{fullPath:a+(d&&"?")+d+f,path:a,query:i,hash:f}}function O7e(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function wme(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function x7e(t,e,r){const a=e.matched.length-1,i=r.matched.length-1;return a>-1&&a===i&&SM(e.matched[a],r.matched[i])&&xOe(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function SM(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function xOe(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!S7e(t[r],e[r]))return!1;return!0}function S7e(t,e){return Wv(t)?Tme(t,e):Wv(e)?Tme(e,t):t===e}function Tme(t,e){return Wv(e)?t.length===e.length&&t.every((r,a)=>r===e[a]):t.length===1&&t[0]===e}function w7e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),a=t.split("/"),i=a[a.length-1];(i===".."||i===".")&&a.push("");let d=r.length-1,f,h;for(f=0;f<a.length;f++)if(h=a[f],h!==".")if(h==="..")d>1&&d--;else break;return r.slice(0,d).join("/")+"/"+a.slice(f-(f===a.length?1:0)).join("/")}var I$;(function(t){t.pop="pop",t.push="push"})(I$||(I$={}));var KD;(function(t){t.back="back",t.forward="forward",t.unknown=""})(KD||(KD={}));function T7e(t){if(!t)if(UP){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),b7e(t)}const C7e=/^[^#]+#/;function k7e(t,e){return t.replace(C7e,"#")+e}function A7e(t,e){const r=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:e.behavior,left:a.left-r.left-(e.left||0),top:a.top-r.top-(e.top||0)}}const eW=()=>({left:window.pageXOffset,top:window.pageYOffset});function P7e(t){let e;if("el"in t){const r=t.el,a=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?a?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=A7e(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Cme(t,e){return(history.state?history.state.position-e:-1)+t}const uae=new Map;function M7e(t,e){uae.set(t,e)}function E7e(t){const e=uae.get(t);return uae.delete(t),e}let _7e=()=>location.protocol+"//"+location.host;function SOe(t,e){const{pathname:r,search:a,hash:i}=e,d=t.indexOf("#");if(d>-1){let h=i.includes(t.slice(d))?t.slice(d).length:1,c=i.slice(h);return c[0]!=="/"&&(c="/"+c),wme(c,"")}return wme(r,t)+a+i}function R7e(t,e,r,a){let i=[],d=[],f=null;const h=({state:b})=>{const O=SOe(t,location),C=r.value,k=e.value;let w=0;if(b){if(r.value=O,e.value=b,f&&f===C){f=null;return}w=k?b.position-k.position:0}else a(O);i.forEach(T=>{T(r.value,C,{delta:w,type:I$.pop,direction:w?w>0?KD.forward:KD.back:KD.unknown})})};function c(){f=r.value}function g(b){i.push(b);const O=()=>{const C=i.indexOf(b);C>-1&&i.splice(C,1)};return d.push(O),O}function v(){const{history:b}=window;b.state&&b.replaceState(ji({},b.state,{scroll:eW()}),"")}function y(){for(const b of d)b();d=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:c,listen:g,destroy:y}}function kme(t,e,r,a=!1,i=!1){return{back:t,current:e,forward:r,replaced:a,position:window.history.length,scroll:i?eW():null}}function D7e(t){const{history:e,location:r}=window,a={value:SOe(t,r)},i={value:e.state};i.value||d(a.value,{back:null,current:a.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function d(c,g,v){const y=t.indexOf("#"),b=y>-1?(r.host&&document.querySelector("base")?t:t.slice(y))+c:_7e()+t+c;try{e[v?"replaceState":"pushState"](g,"",b),i.value=g}catch(O){console.error(O),r[v?"replace":"assign"](b)}}function f(c,g){const v=ji({},e.state,kme(i.value.back,c,i.value.forward,!0),g,{position:i.value.position});d(c,v,!0),a.value=c}function h(c,g){const v=ji({},i.value,e.state,{forward:c,scroll:eW()});d(v.current,v,!0);const y=ji({},kme(a.value,c,null),{position:v.position+1},g);d(c,y,!1),a.value=c}return{location:a,state:i,push:h,replace:f}}function $7e(t){t=T7e(t);const e=D7e(t),r=R7e(t,e.state,e.location,e.replace);function a(d,f=!0){f||r.pauseListeners(),history.go(d)}const i=ji({location:"",base:t,go:a,createHref:k7e.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function L7e(t){return typeof t=="string"||t&&typeof t=="object"}function wOe(t){return typeof t=="string"||typeof t=="symbol"}const iS={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},TOe=Symbol("");var Ame;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ame||(Ame={}));function wM(t,e){return ji(new Error,{type:t,[TOe]:!0},e)}function dO(t,e){return t instanceof Error&&TOe in t&&(e==null||!!(t.type&e))}const Pme="[^/]+?",I7e={sensitive:!1,strict:!1,start:!0,end:!0},N7e=/[.+*?^${}()[\]/\\]/g;function B7e(t,e){const r=ji({},I7e,e),a=[];let i=r.start?"^":"";const d=[];for(const g of t){const v=g.length?[]:[90];r.strict&&!g.length&&(i+="/");for(let y=0;y<g.length;y++){const b=g[y];let O=40+(r.sensitive?.25:0);if(b.type===0)y||(i+="/"),i+=b.value.replace(N7e,"\\$&"),O+=40;else if(b.type===1){const{value:C,repeatable:k,optional:w,regexp:T}=b;d.push({name:C,repeatable:k,optional:w});const R=T||Pme;if(R!==Pme){O+=10;try{new RegExp(`(${R})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${C}" (${R}): `+I.message)}}let M=k?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;y||(M=w&&g.length<2?`(?:/${M})`:"/"+M),w&&(M+="?"),i+=M,O+=20,w&&(O+=-8),k&&(O+=-20),R===".*"&&(O+=-50)}v.push(O)}a.push(v)}if(r.strict&&r.end){const g=a.length-1;a[g][a[g].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const f=new RegExp(i,r.sensitive?"":"i");function h(g){const v=g.match(f),y={};if(!v)return null;for(let b=1;b<v.length;b++){const O=v[b]||"",C=d[b-1];y[C.name]=O&&C.repeatable?O.split("/"):O}return y}function c(g){let v="",y=!1;for(const b of t){(!y||!v.endsWith("/"))&&(v+="/"),y=!1;for(const O of b)if(O.type===0)v+=O.value;else if(O.type===1){const{value:C,repeatable:k,optional:w}=O,T=C in g?g[C]:"";if(Wv(T)&&!k)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const R=Wv(T)?T.join("/"):T;if(!R)if(w)b.length<2&&(v.endsWith("/")?v=v.slice(0,-1):y=!0);else throw new Error(`Missing required param "${C}"`);v+=R}}return v||"/"}return{re:f,score:a,keys:d,parse:h,stringify:c}}function Q7e(t,e){let r=0;for(;r<t.length&&r<e.length;){const a=e[r]-t[r];if(a)return a;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function F7e(t,e){let r=0;const a=t.score,i=e.score;for(;r<a.length&&r<i.length;){const d=Q7e(a[r],i[r]);if(d)return d;r++}if(Math.abs(i.length-a.length)===1){if(Mme(a))return 1;if(Mme(i))return-1}return i.length-a.length}function Mme(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const V7e={type:0,value:""},z7e=/[a-zA-Z0-9_]/;function Z7e(t){if(!t)return[[]];if(t==="/")return[[V7e]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(O){throw new Error(`ERR (${r})/"${g}": ${O}`)}let r=0,a=r;const i=[];let d;function f(){d&&i.push(d),d=[]}let h=0,c,g="",v="";function y(){g&&(r===0?d.push({type:0,value:g}):r===1||r===2||r===3?(d.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:g,regexp:v,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),g="")}function b(){g+=c}for(;h<t.length;){if(c=t[h++],c==="\\"&&r!==2){a=r,r=4;continue}switch(r){case 0:c==="/"?(g&&y(),f()):c===":"?(y(),r=1):b();break;case 4:b(),r=a;break;case 1:c==="("?r=2:z7e.test(c)?b():(y(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&h--);break;case 2:c===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+c:r=3:v+=c;break;case 3:y(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&h--,v="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${g}"`),y(),f(),i}function H7e(t,e,r){const a=B7e(Z7e(t.path),r),i=ji(a,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function U7e(t,e){const r=[],a=new Map;e=Rme({strict:!1,end:!0,sensitive:!1},e);function i(v){return a.get(v)}function d(v,y,b){const O=!b,C=W7e(v);C.aliasOf=b&&b.record;const k=Rme(e,v),w=[C];if("alias"in v){const M=typeof v.alias=="string"?[v.alias]:v.alias;for(const I of M)w.push(ji({},C,{components:b?b.record.components:C.components,path:I,aliasOf:b?b.record:C}))}let T,R;for(const M of w){const{path:I}=M;if(y&&I[0]!=="/"){const V=y.record.path,N=V[V.length-1]==="/"?"":"/";M.path=y.record.path+(I&&N+I)}if(T=H7e(M,y,k),b?b.alias.push(T):(R=R||T,R!==T&&R.alias.push(T),O&&v.name&&!_me(T)&&f(v.name)),C.children){const V=C.children;for(let N=0;N<V.length;N++)d(V[N],T,b&&b.children[N])}b=b||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&c(T)}return R?()=>{f(R)}:qD}function f(v){if(wOe(v)){const y=a.get(v);y&&(a.delete(v),r.splice(r.indexOf(y),1),y.children.forEach(f),y.alias.forEach(f))}else{const y=r.indexOf(v);y>-1&&(r.splice(y,1),v.record.name&&a.delete(v.record.name),v.children.forEach(f),v.alias.forEach(f))}}function h(){return r}function c(v){let y=0;for(;y<r.length&&F7e(v,r[y])>=0&&(v.record.path!==r[y].record.path||!COe(v,r[y]));)y++;r.splice(y,0,v),v.record.name&&!_me(v)&&a.set(v.record.name,v)}function g(v,y){let b,O={},C,k;if("name"in v&&v.name){if(b=a.get(v.name),!b)throw wM(1,{location:v});k=b.record.name,O=ji(Eme(y.params,b.keys.filter(R=>!R.optional).map(R=>R.name)),v.params&&Eme(v.params,b.keys.map(R=>R.name))),C=b.stringify(O)}else if("path"in v)C=v.path,b=r.find(R=>R.re.test(C)),b&&(O=b.parse(C),k=b.record.name);else{if(b=y.name?a.get(y.name):r.find(R=>R.re.test(y.path)),!b)throw wM(1,{location:v,currentLocation:y});k=b.record.name,O=ji({},y.params,v.params),C=b.stringify(O)}const w=[];let T=b;for(;T;)w.unshift(T.record),T=T.parent;return{name:k,path:C,params:O,matched:w,meta:X7e(w)}}return t.forEach(v=>d(v)),{addRoute:d,resolve:g,removeRoute:f,getRoutes:h,getRecordMatcher:i}}function Eme(t,e){const r={};for(const a of e)a in t&&(r[a]=t[a]);return r}function W7e(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Y7e(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Y7e(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const a in t.components)e[a]=typeof r=="object"?r[a]:r;return e}function _me(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function X7e(t){return t.reduce((e,r)=>ji(e,r.meta),{})}function Rme(t,e){const r={};for(const a in t)r[a]=a in e?e[a]:t[a];return r}function COe(t,e){return e.children.some(r=>r===t||COe(t,r))}const kOe=/#/g,G7e=/&/g,j7e=/\//g,q7e=/=/g,K7e=/\?/g,AOe=/\+/g,J7e=/%5B/g,eDe=/%5D/g,POe=/%5E/g,tDe=/%60/g,MOe=/%7B/g,nDe=/%7C/g,EOe=/%7D/g,rDe=/%20/g;function Lle(t){return encodeURI(""+t).replace(nDe,"|").replace(J7e,"[").replace(eDe,"]")}function oDe(t){return Lle(t).replace(MOe,"{").replace(EOe,"}").replace(POe,"^")}function fae(t){return Lle(t).replace(AOe,"%2B").replace(rDe,"+").replace(kOe,"%23").replace(G7e,"%26").replace(tDe,"`").replace(MOe,"{").replace(EOe,"}").replace(POe,"^")}function sDe(t){return fae(t).replace(q7e,"%3D")}function aDe(t){return Lle(t).replace(kOe,"%23").replace(K7e,"%3F")}function iDe(t){return t==null?"":aDe(t).replace(j7e,"%2F")}function jH(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function lDe(t){const e={};if(t===""||t==="?")return e;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<a.length;++i){const d=a[i].replace(AOe," "),f=d.indexOf("="),h=jH(f<0?d:d.slice(0,f)),c=f<0?null:jH(d.slice(f+1));if(h in e){let g=e[h];Wv(g)||(g=e[h]=[g]),g.push(c)}else e[h]=c}return e}function Dme(t){let e="";for(let r in t){const a=t[r];if(r=sDe(r),a==null){a!==void 0&&(e+=(e.length?"&":"")+r);continue}(Wv(a)?a.map(d=>d&&fae(d)):[a&&fae(a)]).forEach(d=>{d!==void 0&&(e+=(e.length?"&":"")+r,d!=null&&(e+="="+d))})}return e}function cDe(t){const e={};for(const r in t){const a=t[r];a!==void 0&&(e[r]=Wv(a)?a.map(i=>i==null?null:""+i):a==null?a:""+a)}return e}const uDe=Symbol(""),$me=Symbol(""),Ile=Symbol(""),Nle=Symbol(""),dae=Symbol("");function AD(){let t=[];function e(a){return t.push(a),()=>{const i=t.indexOf(a);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function hS(t,e,r,a,i){const d=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((f,h)=>{const c=y=>{y===!1?h(wM(4,{from:r,to:e})):y instanceof Error?h(y):L7e(y)?h(wM(2,{from:e,to:y})):(d&&a.enterCallbacks[i]===d&&typeof y=="function"&&d.push(y),f())},g=t.call(a&&a.instances[i],e,r,c);let v=Promise.resolve(g);t.length<3&&(v=v.then(c)),v.catch(y=>h(y))})}function boe(t,e,r,a){const i=[];for(const d of t)for(const f in d.components){let h=d.components[f];if(!(e!=="beforeRouteEnter"&&!d.instances[f]))if(fDe(h)){const g=(h.__vccOpts||h)[e];g&&i.push(hS(g,r,a,d,f))}else{let c=h();i.push(()=>c.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${f}" at "${d.path}"`));const v=v7e(g)?g.default:g;d.components[f]=v;const b=(v.__vccOpts||v)[e];return b&&hS(b,r,a,d,f)()}))}}return i}function fDe(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Lme(t){const e=Ra(Ile),r=Ra(Nle),a=en(()=>e.resolve(Sf(t.to))),i=en(()=>{const{matched:c}=a.value,{length:g}=c,v=c[g-1],y=r.matched;if(!v||!y.length)return-1;const b=y.findIndex(SM.bind(null,v));if(b>-1)return b;const O=Ime(c[g-2]);return g>1&&Ime(v)===O&&y[y.length-1].path!==O?y.findIndex(SM.bind(null,c[g-2])):b}),d=en(()=>i.value>-1&&gDe(r.params,a.value.params)),f=en(()=>i.value>-1&&i.value===r.matched.length-1&&xOe(r.params,a.value.params));function h(c={}){return mDe(c)?e[Sf(t.replace)?"replace":"push"](Sf(t.to)).catch(qD):Promise.resolve()}return{route:a,href:en(()=>a.value.href),isActive:d,isExactActive:f,navigate:h}}const dDe=Z3({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Lme,setup(t,{slots:e}){const r=dh(Lme(t)),{options:a}=Ra(Ile),i=en(()=>({[Nme(t.activeClass,a.linkActiveClass,"router-link-active")]:r.isActive,[Nme(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const d=e.default&&e.default(r);return t.custom?d:ph("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},d)}}}),hDe=dDe;function mDe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gDe(t,e){for(const r in e){const a=e[r],i=t[r];if(typeof a=="string"){if(a!==i)return!1}else if(!Wv(i)||i.length!==a.length||a.some((d,f)=>d!==i[f]))return!1}return!0}function Ime(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Nme=(t,e,r)=>t??e??r,pDe=Z3({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const a=Ra(dae),i=en(()=>t.route||a.value),d=Ra($me,0),f=en(()=>{let g=Sf(d);const{matched:v}=i.value;let y;for(;(y=v[g])&&!y.components;)g++;return g}),h=en(()=>i.value.matched[f.value]);Cl($me,en(()=>f.value+1)),Cl(uDe,h),Cl(dae,i);const c=Vo();return zo(()=>[c.value,h.value,t.name],([g,v,y],[b,O,C])=>{v&&(v.instances[y]=g,O&&O!==v&&g&&g===b&&(v.leaveGuards.size||(v.leaveGuards=O.leaveGuards),v.updateGuards.size||(v.updateGuards=O.updateGuards))),g&&v&&(!O||!SM(v,O)||!b)&&(v.enterCallbacks[y]||[]).forEach(k=>k(g))},{flush:"post"}),()=>{const g=i.value,v=t.name,y=h.value,b=y&&y.components[v];if(!b)return Bme(r.default,{Component:b,route:g});const O=y.props[v],C=O?O===!0?g.params:typeof O=="function"?O(g):O:null,w=ph(b,ji({},C,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(y.instances[v]=null)},ref:c}));return Bme(r.default,{Component:w,route:g})||w}}});function Bme(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const vDe=pDe;function yDe(t){const e=U7e(t.routes,t),r=t.parseQuery||lDe,a=t.stringifyQuery||Dme,i=t.history,d=AD(),f=AD(),h=AD(),c=fs(iS);let g=iS;UP&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=voe.bind(null,le=>""+le),y=voe.bind(null,iDe),b=voe.bind(null,jH);function O(le,Y){let ve,Oe;return wOe(le)?(ve=e.getRecordMatcher(le),Oe=Y):Oe=le,e.addRoute(Oe,ve)}function C(le){const Y=e.getRecordMatcher(le);Y&&e.removeRoute(Y)}function k(){return e.getRoutes().map(le=>le.record)}function w(le){return!!e.getRecordMatcher(le)}function T(le,Y){if(Y=ji({},Y||c.value),typeof le=="string"){const Ve=yoe(r,le,Y.path),_e=e.resolve({path:Ve.path},Y),Ie=i.createHref(Ve.fullPath);return ji(Ve,_e,{params:b(_e.params),hash:jH(Ve.hash),redirectedFrom:void 0,href:Ie})}let ve;if("path"in le)ve=ji({},le,{path:yoe(r,le.path,Y.path).path});else{const Ve=ji({},le.params);for(const _e in Ve)Ve[_e]==null&&delete Ve[_e];ve=ji({},le,{params:y(Ve)}),Y.params=y(Y.params)}const Oe=e.resolve(ve,Y),Le=le.hash||"";Oe.params=v(b(Oe.params));const Ce=O7e(a,ji({},le,{hash:oDe(Le),path:Oe.path})),De=i.createHref(Ce);return ji({fullPath:Ce,hash:Le,query:a===Dme?cDe(le.query):le.query||{}},Oe,{redirectedFrom:void 0,href:De})}function R(le){return typeof le=="string"?yoe(r,le,c.value.path):ji({},le)}function M(le,Y){if(g!==le)return wM(8,{from:Y,to:le})}function I(le){return Q(le)}function V(le){return I(ji(R(le),{replace:!0}))}function N(le){const Y=le.matched[le.matched.length-1];if(Y&&Y.redirect){const{redirect:ve}=Y;let Oe=typeof ve=="function"?ve(le):ve;return typeof Oe=="string"&&(Oe=Oe.includes("?")||Oe.includes("#")?Oe=R(Oe):{path:Oe},Oe.params={}),ji({query:le.query,hash:le.hash,params:"path"in Oe?{}:le.params},Oe)}}function Q(le,Y){const ve=g=T(le),Oe=c.value,Le=le.state,Ce=le.force,De=le.replace===!0,Ve=N(ve);if(Ve)return Q(ji(R(Ve),{state:typeof Ve=="object"?ji({},Le,Ve.state):Le,force:Ce,replace:De}),Y||ve);const _e=ve;_e.redirectedFrom=Y;let Ie;return!Ce&&x7e(a,Oe,ve)&&(Ie=wM(16,{to:_e,from:Oe}),ee(Oe,Oe,!0,!1)),(Ie?Promise.resolve(Ie):F(_e,Oe)).catch(re=>dO(re)?dO(re,2)?re:de(re):ae(re,_e,Oe)).then(re=>{if(re){if(dO(re,2))return Q(ji({replace:De},R(re.to),{state:typeof re.to=="object"?ji({},Le,re.to.state):Le,force:Ce}),Y||_e)}else re=E(_e,Oe,!0,De,Le);return B(_e,Oe,re),re})}function z(le,Y){const ve=M(le,Y);return ve?Promise.reject(ve):Promise.resolve()}function U(le){const Y=Be.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(le):le()}function F(le,Y){let ve;const[Oe,Le,Ce]=bDe(le,Y);ve=boe(Oe.reverse(),"beforeRouteLeave",le,Y);for(const Ve of Oe)Ve.leaveGuards.forEach(_e=>{ve.push(hS(_e,le,Y))});const De=z.bind(null,le,Y);return ve.push(De),ne(ve).then(()=>{ve=[];for(const Ve of d.list())ve.push(hS(Ve,le,Y));return ve.push(De),ne(ve)}).then(()=>{ve=boe(Le,"beforeRouteUpdate",le,Y);for(const Ve of Le)Ve.updateGuards.forEach(_e=>{ve.push(hS(_e,le,Y))});return ve.push(De),ne(ve)}).then(()=>{ve=[];for(const Ve of Ce)if(Ve.beforeEnter)if(Wv(Ve.beforeEnter))for(const _e of Ve.beforeEnter)ve.push(hS(_e,le,Y));else ve.push(hS(Ve.beforeEnter,le,Y));return ve.push(De),ne(ve)}).then(()=>(le.matched.forEach(Ve=>Ve.enterCallbacks={}),ve=boe(Ce,"beforeRouteEnter",le,Y),ve.push(De),ne(ve))).then(()=>{ve=[];for(const Ve of f.list())ve.push(hS(Ve,le,Y));return ve.push(De),ne(ve)}).catch(Ve=>dO(Ve,8)?Ve:Promise.reject(Ve))}function B(le,Y,ve){h.list().forEach(Oe=>U(()=>Oe(le,Y,ve)))}function E(le,Y,ve,Oe,Le){const Ce=M(le,Y);if(Ce)return Ce;const De=Y===iS,Ve=UP?history.state:{};ve&&(Oe||De?i.replace(le.fullPath,ji({scroll:De&&Ve&&Ve.scroll},Le)):i.push(le.fullPath,Le)),c.value=le,ee(le,Y,ve,De),de()}let W;function X(){W||(W=i.listen((le,Y,ve)=>{if(!pe.listening)return;const Oe=T(le),Le=N(Oe);if(Le){Q(ji(Le,{replace:!0}),Oe).catch(qD);return}g=Oe;const Ce=c.value;UP&&M7e(Cme(Ce.fullPath,ve.delta),eW()),F(Oe,Ce).catch(De=>dO(De,12)?De:dO(De,2)?(Q(De.to,Oe).then(Ve=>{dO(Ve,20)&&!ve.delta&&ve.type===I$.pop&&i.go(-1,!1)}).catch(qD),Promise.reject()):(ve.delta&&i.go(-ve.delta,!1),ae(De,Oe,Ce))).then(De=>{De=De||E(Oe,Ce,!1),De&&(ve.delta&&!dO(De,8)?i.go(-ve.delta,!1):ve.type===I$.pop&&dO(De,20)&&i.go(-1,!1)),B(Oe,Ce,De)}).catch(qD)}))}let ie=AD(),L=AD(),me;function ae(le,Y,ve){de(le);const Oe=L.list();return Oe.length?Oe.forEach(Le=>Le(le,Y,ve)):console.error(le),Promise.reject(le)}function q(){return me&&c.value!==iS?Promise.resolve():new Promise((le,Y)=>{ie.add([le,Y])})}function de(le){return me||(me=!le,X(),ie.list().forEach(([Y,ve])=>le?ve(le):Y()),ie.reset()),le}function ee(le,Y,ve,Oe){const{scrollBehavior:Le}=t;if(!UP||!Le)return Promise.resolve();const Ce=!ve&&E7e(Cme(le.fullPath,0))||(Oe||!ve)&&history.state&&history.state.scroll||null;return Zl().then(()=>Le(le,Y,Ce)).then(De=>De&&P7e(De)).catch(De=>ae(De,le,Y))}const xe=le=>i.go(le);let we;const Be=new Set,pe={currentRoute:c,listening:!0,addRoute:O,removeRoute:C,hasRoute:w,getRoutes:k,resolve:T,options:t,push:I,replace:V,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:d.add,beforeResolve:f.add,afterEach:h.add,onError:L.add,isReady:q,install(le){const Y=this;le.component("RouterLink",hDe),le.component("RouterView",vDe),le.config.globalProperties.$router=Y,Object.defineProperty(le.config.globalProperties,"$route",{enumerable:!0,get:()=>Sf(c)}),UP&&!we&&c.value===iS&&(we=!0,I(i.location).catch(Le=>{}));const ve={};for(const Le in iS)Object.defineProperty(ve,Le,{get:()=>c.value[Le],enumerable:!0});le.provide(Ile,Y),le.provide(Nle,Tpe(ve)),le.provide(dae,c);const Oe=le.unmount;Be.add(le),le.unmount=function(){Be.delete(le),Be.size<1&&(g=iS,W&&W(),W=null,c.value=iS,we=!1,me=!1),Oe()}}};function ne(le){return le.reduce((Y,ve)=>Y.then(()=>U(ve)),Promise.resolve())}return pe}function bDe(t,e){const r=[],a=[],i=[],d=Math.max(e.matched.length,t.matched.length);for(let f=0;f<d;f++){const h=e.matched[f];h&&(t.matched.find(g=>SM(g,h))?a.push(h):r.push(h));const c=t.matched[f];c&&(e.matched.find(g=>SM(g,c))||i.push(c))}return[r,a,i]}function tW(){return Ra(Nle)}const ODe={components:{codemirror:BU,"v-slider":Fbe,"v-text-field":$p,"v-number-field":$p,"v-textarea":oOe,"v-range-slider":nOe,"v-select":Cle,"v-combobox":Vbe,"v-btn":rc,"v-img":n9,"v-data-table":$le,"v-autocomplete":Dbe,"v-card":J3,"v-text":OOe,"plotly-plot":dve,"layout-component":p7e},props:{cellData:{type:Object,required:!0},completions:{type:Object,required:!0}},data(){return{isAppRoute:!1,isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},setup(){const t=fs(null);return{view:t,handleReady:r=>{t.value=r.view}}},computed:{extensions(){const t=()=>{this.runCode(!1,"","")},e=IS.of([{key:"Ctrl-Enter",run:()=>(this.$devMode&&t(),!0)}]),r=async a=>{const i=a.matchBefore(/\w*/);return{from:i?i.from:a.pos,options:this.completions.map(f=>({label:f.label,type:f.type,apply:(h,c,g,v)=>{const y=c.label;h.dispatch({changes:{from:g,to:v??a.pos,insert:y}})}}))}};return this.$devMode?[_p.highest(e),xhe(),pM,F3({override:[r]})]:[Na.readOnly.of(!0),_p.highest(e),xhe(),pM,F3({override:[r]})]},columns(){var t;return((t=this.cellData.layout)==null?void 0:t.columns)||[]},unplacedComponents(){var a,i;const t=d=>{let f=[];for(const h of d)for(const c of(h==null?void 0:h.components)??[])typeof c=="string"?f.push(c):c&&c.components&&(f=f.concat(t([c])));return f},e=d=>{let f=[];for(const h of d)h.component==="v-card"&&f.push.apply(f,Object.values(h.cardChildren));return f},r=t(((a=this.cellData.layout)==null?void 0:a.rows)??[]).concat(t(((i=this.cellData.layout)==null?void 0:i.columns)??[])).concat(e(this.cellData.components));return this.cellData.components.filter(d=>!r.includes(d.id))}},mounted(){this.checkRoute()},methods:{checkRoute(){tW().path==="/app"&&(this.isAppRoute=!0)},runCode(t,e,r){!this.$devMode&&t?this.$emit("componentChange",this.cellData.id,e,r):this.$emit("runCode",this.cellData.id,e)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},componentBind(t){if(t.component&&t.component==="v-autocomplete"){const{value:e,...r}=t;return this.convertUnderscoresToHyphens(r)}return this.convertUnderscoresToHyphens(t)},convertUnderscoresToHyphens(t){return Object.entries(t).reduce((e,[r,a])=>{const i=r.replace(/_/g,"-");return e[i]=a,e},{})},clickedButton(t){t.component==="v-btn"&&(t.value=!0)},findComponentById(t){return this.cellData.components.find(r=>r.id===t)},cardComponents(t){const e=[];for(const r in t.cardChildren)e.push(this.findComponentById(t.cardChildren[r]));return e},createCell(t){this.$emit("createCell",this.cellData.id,t)},saveCell(){var a,i,d,f;if(!this.$devMode||!((a=this.view)!=null&&a.hasFocus))return;const t=(i=this.view)==null?void 0:i.state.selection.main.head,e=(d=this.view)==null?void 0:d.state.doc.lineAt(t).number,r=t-((f=this.view)==null?void 0:f.state.doc.line(e).from);this.$emit("saveCell",this.cellData.id,this.cellData.code,e,r)}}};const xDe=Pd("span",{class:"py-0 px-2"},".py",-1),SDe={key:3},wDe=Pd("p",{class:"text-caption text-disabled text-right"}," CTRL+Enter to run",-1),TDe=[wDe],CDe=["id"];function kDe(t,e,r,a,i,d){const f=Vv("codemirror"),h=Vv("layout-component"),c=Vv("plotly-plot");return to(),Ia(Go,null,[it(J3,{flat:"",color:"bluegrey",id:"codeCard"+r.cellData.id},{default:Vr(()=>[t.$devMode&&!i.isAppRoute?(to(),ys(am,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:Vr(()=>[it(lm,{cols:11},{default:Vr(()=>[xDe]),_:1}),it(lm,{cols:1,class:"d-flex justify-end align-center py-0"},{default:Vr(()=>[it(Ja,{small:"",class:"mx-1",color:"primary",onClick:e[0]||(e[0]=g=>d.runCode(!1,"","")),id:"runCode"+r.cellData.id},{default:Vr(()=>[Ka(" mdi-play ")]),_:1},8,["id"]),it(Ja,{small:"",class:"mx-1",color:"error",onClick:d.deleteCell,id:"deleteCell"+r.cellData.id},{default:Vr(()=>[Ka(" mdi-delete ")]),_:1},8,["onClick","id"])]),_:1})]),_:1})):yu("",!0),t.$devMode&&!i.isAppRoute?(to(),ys(f,{key:1,modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=g=>r.cellData.code=g),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions,onReady:a.handleReady,onKeyup:d.saveCell,code:r.cellData.code,id:"codeMirrorDev"+r.cellData.id},null,8,["modelValue","extensions","onReady","onKeyup","code","id"])):(to(),ys(zbe,{key:2},{default:Vr(()=>[it(Hbe,null,{default:Vr(()=>[it(Ele,{color:"bluegrey2"},{default:Vr(()=>[Ka(" View Source Code ")]),_:1}),it(Mle,null,{default:Vr(()=>[it(f,{modelValue:r.cellData.code,"onUpdate:modelValue":e[2]||(e[2]=g=>r.cellData.code=g),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions,id:"codeMirrorApp"+r.cellData.id},null,8,["modelValue","extensions","id"])]),_:1})]),_:1})]),_:1})),t.$devMode&&!i.isAppRoute?(to(),Ia("div",SDe,TDe)):yu("",!0),it(L$,{id:"outputContainer_"+r.cellData.id},{default:Vr(()=>{var g;return[(to(!0),Ia(Go,null,Wf((g=r.cellData.layout)==null?void 0:g.rows,(v,y)=>(to(),ys(h,{key:y,"row-data":v,components:r.cellData.components,onRunCode:d.runCode},null,8,["row-data","components","onRunCode"]))),128)),it(am,null,{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(d.columns,(v,y)=>(to(),ys(lm,{cols:v.width},{default:Vr(()=>[(to(),ys(h,{key:y,"column-data":v,components:r.cellData.components,onRunCode:d.runCode},null,8,["column-data","components","onRunCode"]))]),_:2},1032,["cols"]))),256))]),_:1}),it(am,{id:"unplacedComponents"+r.cellData.id},{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(d.unplacedComponents,v=>(to(),ys(L$,{class:"pa-1",key:v.id},{default:Vr(()=>[v.component==="plotly-plot"?(to(),ys(c,{key:0,id:v.id,figure:v.figure,layout:v.layout},null,8,["id","figure","layout"])):v.component==="v-card"?(to(),ys(ug(v.component),rs({key:1},d.componentBind(v),{position:"relative",onRunCode:d.runCode}),{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(d.cardComponents(v),y=>(to(),Ia("div",null,[y.component==="plotly-plot"?(to(),ys(c,{key:0,id:v.id,figure:y.figure,layout:y.layout},null,8,["id","figure","layout"])):(to(),ys(ug(y.component),rs({key:1},d.componentBind(y),{modelValue:y.value,"onUpdate:modelValue":b=>y.value=b,onClick:b=>d.clickedButton(y)},{[X1(y.triggerEvent)]:b=>d.runCode(!0,y.id,y.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040,["onRunCode"])):(to(),ys(ug(v.component),rs({key:2},d.componentBind(v),{modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,onClick:y=>d.clickedButton(v)},{[X1(v.triggerEvent)]:y=>d.runCode(!0,v.id,v.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]),_:2},1024))),128))]),_:1},8,["id"]),it(am,null,{default:Vr(()=>[it(lm,null,{default:Vr(()=>[Pd("pre",{class:"text-p",id:"cellOutput"+r.cellData.id},Cp(r.cellData.output),9,CDe)]),_:1})]),_:1})]}),_:1},8,["id"])]),_:1},8,["id"]),t.$devMode&&!i.isAppRoute?(to(),ys(ZS,{key:0,transition:"scale-transition"},{activator:Vr(({props:g})=>[it(rc,rs(g,{block:""}),{default:Vr(()=>[it(am,null,{default:Vr(()=>[it(Ja,{color:"primary",id:"addCell"+r.cellData.id},{default:Vr(()=>[Ka("mdi-plus")]),_:1},8,["id"])]),_:1})]),_:2},1040)]),default:Vr(()=>[it(zS,null,{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(i.items,(g,v)=>(to(),ys(pg,{key:v},{default:Vr(()=>[it(rc,{id:"addCell_"+g.title+"_"+r.cellData.id,block:"",onClick:y=>d.createCell(g.title)},{default:Vr(()=>[Ka(Cp(g.title),1)]),_:2},1032,["id","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):yu("",!0)],64)}const _Oe=Xv(ODe,[["render",kDe]]);function Ble(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ek=Ble();function ROe(t){ek=t}const DOe=/[&<>"']/,ADe=new RegExp(DOe.source,"g"),$Oe=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,PDe=new RegExp($Oe.source,"g"),MDe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qme=t=>MDe[t];function cg(t,e){if(e){if(DOe.test(t))return t.replace(ADe,Qme)}else if($Oe.test(t))return t.replace(PDe,Qme);return t}const EDe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function _De(t){return t.replace(EDe,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const RDe=/(^|[^\[])\^/g;function Vi(t,e){t=typeof t=="string"?t:t.source,e=e||"";const r={replace:(a,i)=>(i=typeof i=="object"&&"source"in i?i.source:i,i=i.replace(RDe,"$1"),t=t.replace(a,i),r),getRegex:()=>new RegExp(t,e)};return r}function Fme(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const qH={exec:()=>null};function Vme(t,e){const r=t.replace(/\|/g,(d,f,h)=>{let c=!1,g=f;for(;--g>=0&&h[g]==="\\";)c=!c;return c?"|":" |"}),a=r.split(/ \|/);let i=0;if(a[0].trim()||a.shift(),a.length>0&&!a[a.length-1].trim()&&a.pop(),e)if(a.length>e)a.splice(e);else for(;a.length<e;)a.push("");for(;i<a.length;i++)a[i]=a[i].trim().replace(/\\\|/g,"|");return a}function RZ(t,e,r){const a=t.length;if(a===0)return"";let i=0;for(;i<a;){const d=t.charAt(a-i-1);if(d===e&&!r)i++;else if(d!==e&&r)i++;else break}return t.slice(0,a-i)}function DDe(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let a=0;a<t.length;a++)if(t[a]==="\\")a++;else if(t[a]===e[0])r++;else if(t[a]===e[1]&&(r--,r<0))return a;return-1}function zme(t,e,r,a){const i=e.href,d=e.title?cg(e.title):null,f=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){a.state.inLink=!0;const h={type:"link",raw:r,href:i,title:d,text:f,tokens:a.inlineTokens(f)};return a.state.inLink=!1,h}return{type:"image",raw:r,href:i,title:d,text:cg(f)}}function $De(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const a=r[1];return e.split(`
`).map(i=>{const d=i.match(/^\s+/);if(d===null)return i;const[f]=d;return f.length>=a.length?i.slice(a.length):i}).join(`
`)}class KH{constructor(e){Bl(this,"options");Bl(this,"rules");Bl(this,"lexer");this.options=e||ek}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const a=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?a:RZ(a,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const a=r[0],i=$De(a,r[3]||"");return{type:"code",raw:a,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:i}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let a=r[2].trim();if(/#$/.test(a)){const i=RZ(a,"#");(this.options.pedantic||!i||/ $/.test(i))&&(a=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:a,tokens:this.lexer.inline(a)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:r[0]}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){const a=RZ(r[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const d=this.lexer.blockTokens(a);return this.lexer.state.top=i,{type:"blockquote",raw:r[0],tokens:d,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let a=r[1].trim();const i=a.length>1,d={type:"list",raw:"",ordered:i,start:i?+a.slice(0,-1):"",loose:!1,items:[]};a=i?`\\d{1,9}\\${a.slice(-1)}`:`\\${a}`,this.options.pedantic&&(a=i?a:"[*+-]");const f=new RegExp(`^( {0,3}${a})((?:[	 ][^\\n]*)?(?:\\n|$))`);let h="",c="",g=!1;for(;e;){let v=!1;if(!(r=f.exec(e))||this.rules.block.hr.test(e))break;h=r[0],e=e.substring(h.length);let y=r[2].split(`
`,1)[0].replace(/^\t+/,T=>" ".repeat(3*T.length)),b=e.split(`
`,1)[0],O=0;this.options.pedantic?(O=2,c=y.trimStart()):(O=r[2].search(/[^ ]/),O=O>4?1:O,c=y.slice(O),O+=r[1].length);let C=!1;if(!y&&/^ *$/.test(b)&&(h+=b+`
`,e=e.substring(b.length+1),v=!0),!v){const T=new RegExp(`^ {0,${Math.min(3,O-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),R=new RegExp(`^ {0,${Math.min(3,O-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),M=new RegExp(`^ {0,${Math.min(3,O-1)}}(?:\`\`\`|~~~)`),I=new RegExp(`^ {0,${Math.min(3,O-1)}}#`);for(;e;){const V=e.split(`
`,1)[0];if(b=V,this.options.pedantic&&(b=b.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),M.test(b)||I.test(b)||T.test(b)||R.test(e))break;if(b.search(/[^ ]/)>=O||!b.trim())c+=`
`+b.slice(O);else{if(C||y.search(/[^ ]/)>=4||M.test(y)||I.test(y)||R.test(y))break;c+=`
`+b}!C&&!b.trim()&&(C=!0),h+=V+`
`,e=e.substring(V.length+1),y=b.slice(O)}}d.loose||(g?d.loose=!0:/\n *\n *$/.test(h)&&(g=!0));let k=null,w;this.options.gfm&&(k=/^\[[ xX]\] /.exec(c),k&&(w=k[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),d.items.push({type:"list_item",raw:h,task:!!k,checked:w,loose:!1,text:c,tokens:[]}),d.raw+=h}d.items[d.items.length-1].raw=h.trimEnd(),d.items[d.items.length-1].text=c.trimEnd(),d.raw=d.raw.trimEnd();for(let v=0;v<d.items.length;v++)if(this.lexer.state.top=!1,d.items[v].tokens=this.lexer.blockTokens(d.items[v].text,[]),!d.loose){const y=d.items[v].tokens.filter(O=>O.type==="space"),b=y.length>0&&y.some(O=>/\n.*\n/.test(O.raw));d.loose=b}if(d.loose)for(let v=0;v<d.items.length;v++)d.items[v].loose=!0;return d}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const a=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",d=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:a,raw:r[0],href:i,title:d}}}table(e){const r=this.rules.block.table.exec(e);if(r){if(!/[:|]/.test(r[2]))return;const a={type:"table",raw:r[0],header:Vme(r[1]).map(i=>({text:i,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(a.header.length===a.align.length){let i=a.align.length,d,f,h,c;for(d=0;d<i;d++){const g=a.align[d];g&&(/^ *-+: *$/.test(g)?a.align[d]="right":/^ *:-+: *$/.test(g)?a.align[d]="center":/^ *:-+ *$/.test(g)?a.align[d]="left":a.align[d]=null)}for(i=a.rows.length,d=0;d<i;d++)a.rows[d]=Vme(a.rows[d],a.header.length).map(g=>({text:g,tokens:[]}));for(i=a.header.length,f=0;f<i;f++)a.header[f].tokens=this.lexer.inline(a.header[f].text);for(i=a.rows.length,f=0;f<i;f++)for(c=a.rows[f],h=0;h<c.length;h++)c[h].tokens=this.lexer.inline(c[h].text);return a}}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const a=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:a,tokens:this.lexer.inline(a)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:cg(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const a=r[2].trim();if(!this.options.pedantic&&/^</.test(a)){if(!/>$/.test(a))return;const f=RZ(a.slice(0,-1),"\\");if((a.length-f.length)%2===0)return}else{const f=DDe(r[2],"()");if(f>-1){const c=(r[0].indexOf("!")===0?5:4)+r[1].length+f;r[2]=r[2].substring(0,f),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let i=r[2],d="";if(this.options.pedantic){const f=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);f&&(i=f[1],d=f[3])}else d=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(a)?i=i.slice(1):i=i.slice(1,-1)),zme(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:d&&d.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(e,r){let a;if((a=this.rules.inline.reflink.exec(e))||(a=this.rules.inline.nolink.exec(e))){let i=(a[2]||a[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i){const d=a[0].charAt(0);return{type:"text",raw:d,text:d}}return zme(a,i,a[0],this.lexer)}}emStrong(e,r,a=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&a.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!a||this.rules.inline.punctuation.exec(a)){const f=[...i[0]].length-1;let h,c,g=f,v=0;const y=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,r=r.slice(-1*e.length+f);(i=y.exec(r))!=null;){if(h=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!h)continue;if(c=[...h].length,i[3]||i[4]){g+=c;continue}else if((i[5]||i[6])&&f%3&&!((f+c)%3)){v+=c;continue}if(g-=c,g>0)continue;c=Math.min(c,c+g+v);const b=[...i[0]][0].length,O=e.slice(0,f+i.index+b+c);if(Math.min(f,c)%2){const k=O.slice(1,-1);return{type:"em",raw:O,text:k,tokens:this.lexer.inlineTokens(k)}}const C=O.slice(2,-2);return{type:"strong",raw:O,text:C,tokens:this.lexer.inlineTokens(C)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let a=r[2].replace(/\n/g," ");const i=/[^ ]/.test(a),d=/^ /.test(a)&&/ $/.test(a);return i&&d&&(a=a.substring(1,a.length-1)),a=cg(a,!0),{type:"codespan",raw:r[0],text:a}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let a,i;return r[2]==="@"?(a=cg(r[1]),i="mailto:"+a):(a=cg(r[1]),i=a),{type:"link",raw:r[0],text:a,href:i,tokens:[{type:"text",raw:a,text:a}]}}}url(e){let r;if(r=this.rules.inline.url.exec(e)){let a,i;if(r[2]==="@")a=cg(r[0]),i="mailto:"+a;else{let d;do d=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(d!==r[0]);a=cg(r[0]),r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:a,href:i,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let a;return this.lexer.state.inRawBlock?a=r[0]:a=cg(r[0]),{type:"text",raw:r[0],text:a}}}}const Ms={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qH,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ms._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ms._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ms.def=Vi(Ms.def).replace("label",Ms._label).replace("title",Ms._title).getRegex();Ms.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ms.listItemStart=Vi(/^( *)(bull) */).replace("bull",Ms.bullet).getRegex();Ms.list=Vi(Ms.list).replace(/bull/g,Ms.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ms.def.source+")").getRegex();Ms._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Ms._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ms.html=Vi(Ms.html,"i").replace("comment",Ms._comment).replace("tag",Ms._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ms.lheading=Vi(Ms.lheading).replace(/bull/g,Ms.bullet).getRegex();Ms.paragraph=Vi(Ms._paragraph).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex();Ms.blockquote=Vi(Ms.blockquote).replace("paragraph",Ms.paragraph).getRegex();Ms.normal={...Ms};Ms.gfm={...Ms.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Ms.gfm.table=Vi(Ms.gfm.table).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex();Ms.gfm.paragraph=Vi(Ms._paragraph).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ms.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex();Ms.pedantic={...Ms.normal,html:Vi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ms._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qH,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Vi(Ms.normal._paragraph).replace("hr",Ms.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ms.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Zo={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qH,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qH,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Zo._punctuation="\\p{P}$+<=>`^|~";Zo.punctuation=Vi(Zo.punctuation,"u").replace(/punctuation/g,Zo._punctuation).getRegex();Zo.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Zo.anyPunctuation=/\\[punct]/g;Zo._escapes=/\\([punct])/g;Zo._comment=Vi(Ms._comment).replace("(?:-->|$)","-->").getRegex();Zo.emStrong.lDelim=Vi(Zo.emStrong.lDelim,"u").replace(/punct/g,Zo._punctuation).getRegex();Zo.emStrong.rDelimAst=Vi(Zo.emStrong.rDelimAst,"gu").replace(/punct/g,Zo._punctuation).getRegex();Zo.emStrong.rDelimUnd=Vi(Zo.emStrong.rDelimUnd,"gu").replace(/punct/g,Zo._punctuation).getRegex();Zo.anyPunctuation=Vi(Zo.anyPunctuation,"gu").replace(/punct/g,Zo._punctuation).getRegex();Zo._escapes=Vi(Zo._escapes,"gu").replace(/punct/g,Zo._punctuation).getRegex();Zo._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Zo._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Zo.autolink=Vi(Zo.autolink).replace("scheme",Zo._scheme).replace("email",Zo._email).getRegex();Zo._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Zo.tag=Vi(Zo.tag).replace("comment",Zo._comment).replace("attribute",Zo._attribute).getRegex();Zo._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Zo._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Zo._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Zo.link=Vi(Zo.link).replace("label",Zo._label).replace("href",Zo._href).replace("title",Zo._title).getRegex();Zo.reflink=Vi(Zo.reflink).replace("label",Zo._label).replace("ref",Ms._label).getRegex();Zo.nolink=Vi(Zo.nolink).replace("ref",Ms._label).getRegex();Zo.reflinkSearch=Vi(Zo.reflinkSearch,"g").replace("reflink",Zo.reflink).replace("nolink",Zo.nolink).getRegex();Zo.normal={...Zo};Zo.pedantic={...Zo.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Vi(/^!?\[(label)\]\((.*?)\)/).replace("label",Zo._label).getRegex(),reflink:Vi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zo._label).getRegex()};Zo.gfm={...Zo.normal,escape:Vi(Zo.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Zo.gfm.url=Vi(Zo.gfm.url,"i").replace("email",Zo.gfm._extended_email).getRegex();Zo.breaks={...Zo.gfm,br:Vi(Zo.br).replace("{2,}","*").getRegex(),text:Vi(Zo.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class J1{constructor(e){Bl(this,"tokens");Bl(this,"options");Bl(this,"state");Bl(this,"tokenizer");Bl(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ek,this.options.tokenizer=this.options.tokenizer||new KH,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Ms.normal,inline:Zo.normal};this.options.pedantic?(r.block=Ms.pedantic,r.inline=Zo.pedantic):this.options.gfm&&(r.block=Ms.gfm,this.options.breaks?r.inline=Zo.breaks:r.inline=Zo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ms,inline:Zo}}static lex(e,r){return new J1(r).lex(e)}static lexInline(e,r){return new J1(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(e,r=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(h,c,g)=>c+"    ".repeat(g.length));let a,i,d,f;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(h=>(a=h.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))){if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length),a.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+a.raw,i.text+=`
`+a.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),r.push(a);continue}if(d=e,this.options.extensions&&this.options.extensions.startBlock){let h=1/0;const c=e.slice(1);let g;this.options.extensions.startBlock.forEach(v=>{g=v.call({lexer:this},c),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(d=e.substring(0,h+1))}if(this.state.top&&(a=this.tokenizer.paragraph(d))){i=r[r.length-1],f&&i.type==="paragraph"?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a),f=d.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let a,i,d,f=e,h,c,g;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(h=this.tokenizer.rules.inline.reflinkSearch.exec(f))!=null;)v.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(f=f.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(h=this.tokenizer.rules.inline.blockSkip.exec(f))!=null;)f=f.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(h=this.tokenizer.rules.inline.anyPunctuation.exec(f))!=null;)f=f.slice(0,h.index)+"++"+f.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(g=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(a=v.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))){if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&a.type==="text"&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length),i=r[r.length-1],i&&a.type==="text"&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(a=this.tokenizer.emStrong(e,f,g)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),r.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),r.push(a);continue}if(d=e,this.options.extensions&&this.options.extensions.startInline){let v=1/0;const y=e.slice(1);let b;this.options.extensions.startInline.forEach(O=>{b=O.call({lexer:this},y),typeof b=="number"&&b>=0&&(v=Math.min(v,b))}),v<1/0&&v>=0&&(d=e.substring(0,v+1))}if(a=this.tokenizer.inlineText(d)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(g=a.raw.slice(-1)),c=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return r}}class JH{constructor(e){Bl(this,"options");this.options=e||ek}code(e,r,a){var d;const i=(d=(r||"").match(/^\S*/))==null?void 0:d[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+cg(i)+'">'+(a?e:cg(e,!0))+`</code></pre>
`:"<pre><code>"+(a?e:cg(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,r){return e}heading(e,r,a){return`<h${r}>${e}</h${r}>
`}hr(){return`<hr>
`}list(e,r,a){const i=r?"ol":"ul",d=r&&a!==1?' start="'+a+'"':"";return"<"+i+d+`>
`+e+"</"+i+`>
`}listitem(e,r,a){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,r){const a=r.header?"th":"td";return(r.align?`<${a} align="${r.align}">`:`<${a}>`)+e+`</${a}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,r,a){const i=Fme(e);if(i===null)return a;e=i;let d='<a href="'+e+'"';return r&&(d+=' title="'+r+'"'),d+=">"+a+"</a>",d}image(e,r,a){const i=Fme(e);if(i===null)return a;e=i;let d=`<img src="${e}" alt="${a}"`;return r&&(d+=` title="${r}"`),d+=">",d}text(e){return e}}class Qle{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,r,a){return""+a}image(e,r,a){return""+a}br(){return""}}class ey{constructor(e){Bl(this,"options");Bl(this,"renderer");Bl(this,"textRenderer");this.options=e||ek,this.options.renderer=this.options.renderer||new JH,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Qle}static parse(e,r){return new ey(r).parse(e)}static parseInline(e,r){return new ey(r).parseInline(e)}parse(e,r=!0){let a="";for(let i=0;i<e.length;i++){const d=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]){const f=d,h=this.options.extensions.renderers[f.type].call({parser:this},f);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){a+=h||"";continue}}switch(d.type){case"space":continue;case"hr":{a+=this.renderer.hr();continue}case"heading":{const f=d;a+=this.renderer.heading(this.parseInline(f.tokens),f.depth,_De(this.parseInline(f.tokens,this.textRenderer)));continue}case"code":{const f=d;a+=this.renderer.code(f.text,f.lang,!!f.escaped);continue}case"table":{const f=d;let h="",c="";for(let v=0;v<f.header.length;v++)c+=this.renderer.tablecell(this.parseInline(f.header[v].tokens),{header:!0,align:f.align[v]});h+=this.renderer.tablerow(c);let g="";for(let v=0;v<f.rows.length;v++){const y=f.rows[v];c="";for(let b=0;b<y.length;b++)c+=this.renderer.tablecell(this.parseInline(y[b].tokens),{header:!1,align:f.align[b]});g+=this.renderer.tablerow(c)}a+=this.renderer.table(h,g);continue}case"blockquote":{const f=d,h=this.parse(f.tokens);a+=this.renderer.blockquote(h);continue}case"list":{const f=d,h=f.ordered,c=f.start,g=f.loose;let v="";for(let y=0;y<f.items.length;y++){const b=f.items[y],O=b.checked,C=b.task;let k="";if(b.task){const w=this.renderer.checkbox(!!O);g?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=w+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=w+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:w+" "}):k+=w+" "}k+=this.parse(b.tokens,g),v+=this.renderer.listitem(k,C,!!O)}a+=this.renderer.list(v,h,c);continue}case"html":{const f=d;a+=this.renderer.html(f.text,f.block);continue}case"paragraph":{const f=d;a+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{let f=d,h=f.tokens?this.parseInline(f.tokens):f.text;for(;i+1<e.length&&e[i+1].type==="text";)f=e[++i],h+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);a+=r?this.renderer.paragraph(h):h;continue}default:{const f='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return a}parseInline(e,r){r=r||this.renderer;let a="";for(let i=0;i<e.length;i++){const d=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]){const f=this.options.extensions.renderers[d.type].call({parser:this},d);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(d.type)){a+=f||"";continue}}switch(d.type){case"escape":{const f=d;a+=r.text(f.text);break}case"html":{const f=d;a+=r.html(f.text);break}case"link":{const f=d;a+=r.link(f.href,f.title,this.parseInline(f.tokens,r));break}case"image":{const f=d;a+=r.image(f.href,f.title,f.text);break}case"strong":{const f=d;a+=r.strong(this.parseInline(f.tokens,r));break}case"em":{const f=d;a+=r.em(this.parseInline(f.tokens,r));break}case"codespan":{const f=d;a+=r.codespan(f.text);break}case"br":{a+=r.br();break}case"del":{const f=d;a+=r.del(this.parseInline(f.tokens,r));break}case"text":{const f=d;a+=r.text(f.text);break}default:{const f='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return a}}class JD{constructor(e){Bl(this,"options");this.options=e||ek}preprocess(e){return e}postprocess(e){return e}}Bl(JD,"passThroughHooks",new Set(["preprocess","postprocess"]));var V$,hae,aU,LOe;class LDe{constructor(...e){xre(this,V$);xre(this,aU);Bl(this,"defaults",Ble());Bl(this,"options",this.setOptions);Bl(this,"parse",Gz(this,V$,hae).call(this,J1.lex,ey.parse));Bl(this,"parseInline",Gz(this,V$,hae).call(this,J1.lexInline,ey.parseInline));Bl(this,"Parser",ey);Bl(this,"Renderer",JH);Bl(this,"TextRenderer",Qle);Bl(this,"Lexer",J1);Bl(this,"Tokenizer",KH);Bl(this,"Hooks",JD);this.use(...e)}walkTokens(e,r){var i,d;let a=[];for(const f of e)switch(a=a.concat(r.call(this,f)),f.type){case"table":{const h=f;for(const c of h.header)a=a.concat(this.walkTokens(c.tokens,r));for(const c of h.rows)for(const g of c)a=a.concat(this.walkTokens(g.tokens,r));break}case"list":{const h=f;a=a.concat(this.walkTokens(h.items,r));break}default:{const h=f;(d=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&d[h.type]?this.defaults.extensions.childTokens[h.type].forEach(c=>{a=a.concat(this.walkTokens(h[c],r))}):h.tokens&&(a=a.concat(this.walkTokens(h.tokens,r)))}}return a}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(a=>{const i={...a};if(i.async=this.defaults.async||i.async||!1,a.extensions&&(a.extensions.forEach(d=>{if(!d.name)throw new Error("extension name required");if("renderer"in d){const f=r.renderers[d.name];f?r.renderers[d.name]=function(...h){let c=d.renderer.apply(this,h);return c===!1&&(c=f.apply(this,h)),c}:r.renderers[d.name]=d.renderer}if("tokenizer"in d){if(!d.level||d.level!=="block"&&d.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const f=r[d.level];f?f.unshift(d.tokenizer):r[d.level]=[d.tokenizer],d.start&&(d.level==="block"?r.startBlock?r.startBlock.push(d.start):r.startBlock=[d.start]:d.level==="inline"&&(r.startInline?r.startInline.push(d.start):r.startInline=[d.start]))}"childTokens"in d&&d.childTokens&&(r.childTokens[d.name]=d.childTokens)}),i.extensions=r),a.renderer){const d=this.defaults.renderer||new JH(this.defaults);for(const f in a.renderer){const h=a.renderer[f],c=f,g=d[c];d[c]=(...v)=>{let y=h.apply(d,v);return y===!1&&(y=g.apply(d,v)),y||""}}i.renderer=d}if(a.tokenizer){const d=this.defaults.tokenizer||new KH(this.defaults);for(const f in a.tokenizer){const h=a.tokenizer[f],c=f,g=d[c];d[c]=(...v)=>{let y=h.apply(d,v);return y===!1&&(y=g.apply(d,v)),y}}i.tokenizer=d}if(a.hooks){const d=this.defaults.hooks||new JD;for(const f in a.hooks){const h=a.hooks[f],c=f,g=d[c];JD.passThroughHooks.has(f)?d[c]=v=>{if(this.defaults.async)return Promise.resolve(h.call(d,v)).then(b=>g.call(d,b));const y=h.call(d,v);return g.call(d,y)}:d[c]=(...v)=>{let y=h.apply(d,v);return y===!1&&(y=g.apply(d,v)),y}}i.hooks=d}if(a.walkTokens){const d=this.defaults.walkTokens,f=a.walkTokens;i.walkTokens=function(h){let c=[];return c.push(f.call(this,h)),d&&(c=c.concat(d.call(this,h))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return J1.lex(e,r??this.defaults)}parser(e,r){return ey.parse(e,r??this.defaults)}}V$=new WeakSet,hae=function(e,r){return(a,i)=>{const d={...i},f={...this.defaults,...d};this.defaults.async===!0&&d.async===!1&&(f.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),f.async=!0);const h=Gz(this,aU,LOe).call(this,!!f.silent,!!f.async);if(typeof a>"u"||a===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof a!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected"));if(f.hooks&&(f.hooks.options=f),f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(a):a).then(c=>e(c,f)).then(c=>f.walkTokens?Promise.all(this.walkTokens(c,f.walkTokens)).then(()=>c):c).then(c=>r(c,f)).then(c=>f.hooks?f.hooks.postprocess(c):c).catch(h);try{f.hooks&&(a=f.hooks.preprocess(a));const c=e(a,f);f.walkTokens&&this.walkTokens(c,f.walkTokens);let g=r(c,f);return f.hooks&&(g=f.hooks.postprocess(g)),g}catch(c){return h(c)}}},aU=new WeakSet,LOe=function(e,r){return a=>{if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+cg(a.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(a);throw a}};const z3=new LDe;function Ki(t,e){return z3.parse(t,e)}Ki.options=Ki.setOptions=function(t){return z3.setOptions(t),Ki.defaults=z3.defaults,ROe(Ki.defaults),Ki};Ki.getDefaults=Ble;Ki.defaults=ek;Ki.use=function(...t){return z3.use(...t),Ki.defaults=z3.defaults,ROe(Ki.defaults),Ki};Ki.walkTokens=function(t,e){return z3.walkTokens(t,e)};Ki.parseInline=z3.parseInline;Ki.Parser=ey;Ki.parser=ey.parse;Ki.Renderer=JH;Ki.TextRenderer=Qle;Ki.Lexer=J1;Ki.lexer=J1.lex;Ki.Tokenizer=KH;Ki.Hooks=JD;Ki.parse=Ki;Ki.options;Ki.setOptions;Ki.use;Ki.walkTokens;Ki.parseInline;ey.parse;J1.lex;class eU{static create(e,r,a,i,d){let f=i+(i<<8)+e+(r<<4)|0;return new eU(e,r,a,f,d,[],[])}constructor(e,r,a,i,d,f,h){this.type=e,this.value=r,this.from=a,this.hash=i,this.end=d,this.children=f,this.positions=h,this.hashProp=[[ua.contextHash,i]]}addChild(e,r){e.prop(ua.contextHash)!=this.hash&&(e=new Fi(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(r)}toTree(e,r=this.end){let a=this.children.length-1;return a>=0&&(r=Math.max(r,this.positions[a]+this.children[a].length+this.from)),new Fi(e.types[this.type],this.children,this.positions,r-this.from).balance({makeTree:(i,d,f)=>new Fi(Vu.none,i,d,f,this.hashProp)})}}var bo;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.URL=33]="URL",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel"})(bo||(bo={}));class IDe{constructor(e,r){this.start=e,this.content=r,this.marks=[],this.parsers=[]}}class NDe{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return e$(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,r=0,a=0){for(let i=r;i<e;i++)a+=this.text.charCodeAt(i)==9?4-a%4:1;return a}findColumn(e){let r=0;for(let a=0;r<this.text.length&&a<e;r++)a+=this.text.charCodeAt(r)==9?4-a%4:1;return r}scrub(){if(!this.baseIndent)return this.text;let e="";for(let r=0;r<this.basePos;r++)e+=" ";return e+this.text.slice(this.basePos)}}function Zme(t,e,r){if(r.pos==r.text.length||t!=e.block&&r.indent>=e.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let a=(t.type==bo.OrderedList?zle:Vle)(r,e,!1);return a>0&&(t.type!=bo.BulletList||Fle(r,e,!1)<0)&&r.text.charCodeAt(r.pos+a-1)==t.value}const IOe={[bo.Blockquote](t,e,r){return r.next!=62?!1:(r.markers.push(Ei(bo.QuoteMark,e.lineStart+r.pos,e.lineStart+r.pos+1)),r.moveBase(r.pos+(Qp(r.text.charCodeAt(r.pos+1))?2:1)),t.end=e.lineStart+r.text.length,!0)},[bo.ListItem](t,e,r){return r.indent<r.baseIndent+t.value&&r.next>-1?!1:(r.moveBaseColumn(r.baseIndent+t.value),!0)},[bo.OrderedList]:Zme,[bo.BulletList]:Zme,[bo.Document](){return!0}};function Qp(t){return t==32||t==9||t==10||t==13}function e$(t,e=0){for(;e<t.length&&Qp(t.charCodeAt(e));)e++;return e}function Hme(t,e,r){for(;e>r&&Qp(t.charCodeAt(e-1));)e--;return e}function NOe(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let r=e;r<t.text.length;r++)if(t.text.charCodeAt(r)==96)return-1}return e}function BOe(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function Fle(t,e,r){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let a=1;for(let i=t.pos+1;i<t.text.length;i++){let d=t.text.charCodeAt(i);if(d==t.next)a++;else if(!Qp(d))return-1}return r&&t.next==45&&VOe(t)>-1&&t.depth==e.stack.length||a<3?-1:1}function QOe(t,e){for(let r=t.stack.length-1;r>=0;r--)if(t.stack[r].type==e)return!0;return!1}function Vle(t,e,r){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||Qp(t.text.charCodeAt(t.pos+1)))&&(!r||QOe(e,bo.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function zle(t,e,r){let a=t.pos,i=t.next;for(;i>=48&&i<=57;){a++;if(a==t.text.length)return-1;i=t.text.charCodeAt(a)}return a==t.pos||a>t.pos+9||i!=46&&i!=41||a<t.text.length-1&&!Qp(t.text.charCodeAt(a+1))||r&&!QOe(e,bo.OrderedList)&&(t.skipSpace(a+1)==t.text.length||a>t.pos+1||t.next!=49)?-1:a+1-t.pos}function FOe(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let r=e-t.pos;return r>6?-1:r}function VOe(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let r=e;for(;e<t.text.length&&Qp(t.text.charCodeAt(e));)e++;return e==t.text.length?r:-1}const mae=/^[ \t]*$/,zOe=/-->/,ZOe=/\?>/,gae=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,zOe],[/^\s*<\?/,ZOe],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,mae],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,mae]];function HOe(t,e,r){if(t.next!=60)return-1;let a=t.text.slice(t.pos);for(let i=0,d=gae.length-(r?1:0);i<d;i++)if(gae[i][0].test(a))return i;return-1}function Ume(t,e){let r=t.countIndent(e,t.pos,t.indent),a=t.countIndent(t.skipSpace(e),e,r);return a>=r+5?r+1:a}function y3(t,e,r){let a=t.length-1;a>=0&&t[a].to==e&&t[a].type==bo.CodeText?t[a].to=r:t.push(Ei(bo.CodeText,e,r))}const DZ={LinkReference:void 0,IndentedCode(t,e){let r=e.baseIndent+4;if(e.indent<r)return!1;let a=e.findColumn(r),i=t.lineStart+a,d=t.lineStart+e.text.length,f=[],h=[];for(y3(f,i,d);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){y3(h,t.lineStart-1,t.lineStart);for(let c of e.markers)h.push(c)}else{if(e.indent<r)break;{if(h.length){for(let g of h)g.type==bo.CodeText?y3(f,g.from,g.to):f.push(g);h=[]}y3(f,t.lineStart-1,t.lineStart);for(let g of e.markers)f.push(g);d=t.lineStart+e.text.length;let c=t.lineStart+e.findColumn(e.baseIndent+4);c<d&&y3(f,c,d)}}return h.length&&(h=h.filter(c=>c.type!=bo.CodeText),h.length&&(e.markers=h.concat(e.markers))),t.addNode(t.buffer.writeElements(f,-i).finish(bo.CodeBlock,d-i),i),!0},FencedCode(t,e){let r=NOe(e);if(r<0)return!1;let a=t.lineStart+e.pos,i=e.next,d=r-e.pos,f=e.skipSpace(r),h=Hme(e.text,e.text.length,f),c=[Ei(bo.CodeMark,a,a+d)];f<h&&c.push(Ei(bo.CodeInfo,t.lineStart+f,t.lineStart+h));for(let g=!0;t.nextLine()&&e.depth>=t.stack.length;g=!1){let v=e.pos;if(e.indent-e.baseIndent<4)for(;v<e.text.length&&e.text.charCodeAt(v)==i;)v++;if(v-e.pos>=d&&e.skipSpace(v)==e.text.length){for(let y of e.markers)c.push(y);c.push(Ei(bo.CodeMark,t.lineStart+e.pos,t.lineStart+v)),t.nextLine();break}else{g||y3(c,t.lineStart-1,t.lineStart);for(let O of e.markers)c.push(O);let y=t.lineStart+e.basePos,b=t.lineStart+e.text.length;y<b&&y3(c,y,b)}}return t.addNode(t.buffer.writeElements(c,-a).finish(bo.FencedCode,t.prevLineEnd()-a),a),!0},Blockquote(t,e){let r=BOe(e);return r<0?!1:(t.startContext(bo.Blockquote,e.pos),t.addNode(bo.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+r),null)},HorizontalRule(t,e){if(Fle(e,t,!1)<0)return!1;let r=t.lineStart+e.pos;return t.nextLine(),t.addNode(bo.HorizontalRule,r),!0},BulletList(t,e){let r=Vle(e,t,!1);if(r<0)return!1;t.block.type!=bo.BulletList&&t.startContext(bo.BulletList,e.basePos,e.next);let a=Ume(e,e.pos+1);return t.startContext(bo.ListItem,e.basePos,a-e.baseIndent),t.addNode(bo.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+r),e.moveBaseColumn(a),null},OrderedList(t,e){let r=zle(e,t,!1);if(r<0)return!1;t.block.type!=bo.OrderedList&&t.startContext(bo.OrderedList,e.basePos,e.text.charCodeAt(e.pos+r-1));let a=Ume(e,e.pos+r);return t.startContext(bo.ListItem,e.basePos,a-e.baseIndent),t.addNode(bo.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+r),e.moveBaseColumn(a),null},ATXHeading(t,e){let r=FOe(e);if(r<0)return!1;let a=e.pos,i=t.lineStart+a,d=Hme(e.text,e.text.length,a),f=d;for(;f>a&&e.text.charCodeAt(f-1)==e.next;)f--;(f==d||f==a||!Qp(e.text.charCodeAt(f-1)))&&(f=e.text.length);let h=t.buffer.write(bo.HeaderMark,0,r).writeElements(t.parser.parseInline(e.text.slice(a+r+1,f),i+r+1),-i);f<e.text.length&&h.write(bo.HeaderMark,f-a,d-a);let c=h.finish(bo.ATXHeading1-1+r,e.text.length-a);return t.nextLine(),t.addNode(c,i),!0},HTMLBlock(t,e){let r=HOe(e,t,!1);if(r<0)return!1;let a=t.lineStart+e.pos,i=gae[r][1],d=[],f=i!=mae;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){f=!1;break}for(let g of e.markers)d.push(g)}f&&t.nextLine();let h=i==zOe?bo.CommentBlock:i==ZOe?bo.ProcessingInstructionBlock:bo.HTMLBlock,c=t.prevLineEnd();return t.addNode(t.buffer.writeElements(d,-a).finish(h,c-a),a),!0},SetextHeading:void 0};class BDe{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,r,a){if(this.stage==-1)return!1;let i=a.content+`
`+r.scrub(),d=this.advance(i);return d>-1&&d<i.length?this.complete(e,a,d):!1}finish(e,r){return(this.stage==2||this.stage==3)&&e$(r.content,this.pos)==r.content.length?this.complete(e,r,r.content.length):!1}complete(e,r,a){return e.addLeafElement(r,Ei(bo.LinkReference,this.start,this.start+a,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(JOe(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Ei(bo.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(qOe(e,e$(e,this.pos),this.start)))return-1}else if(this.stage==2){let r=e$(e,this.pos),a=0;if(r>this.pos){let i=KOe(e,r,this.start);if(i){let d=Ooe(e,i.to-this.start);d>0&&(this.nextStage(i),a=d)}}return a||(a=Ooe(e,this.pos)),a>0&&a<e.length?a:-1}else return Ooe(e,this.pos)}}}function Ooe(t,e){for(;e<t.length;e++){let r=t.charCodeAt(e);if(r==10)break;if(!Qp(r))return-1}return e}class QDe{nextLine(e,r,a){let i=r.depth<e.stack.length?-1:VOe(r),d=r.next;if(i<0)return!1;let f=Ei(bo.HeaderMark,e.lineStart+r.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(a,Ei(d==61?bo.SetextHeading1:bo.SetextHeading2,a.start,e.prevLineEnd(),[...e.parser.parseInline(a.content,a.start),f])),!0}finish(){return!1}}const FDe={LinkReference(t,e){return e.content.charCodeAt(0)==91?new BDe(e):null},SetextHeading(){return new QDe}},VDe=[(t,e)=>FOe(e)>=0,(t,e)=>NOe(e)>=0,(t,e)=>BOe(e)>=0,(t,e)=>Vle(e,t,!0)>=0,(t,e)=>zle(e,t,!0)>=0,(t,e)=>Fle(e,t,!0)>=0,(t,e)=>HOe(e,t,!0)>=0],zDe={text:"",end:0};class ZDe{constructor(e,r,a,i){this.parser=e,this.input=r,this.ranges=i,this.line=new NDe,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=eU.create(bo.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=a.length?new YDe(a,r):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(;e.depth<this.stack.length;)this.finishContext();for(let a of e.markers)this.addNode(a.type,a.from,a.to);if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let a of this.parser.blockParsers)if(a){let i=a(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let r=new IDe(this.lineStart+e.pos,e.text.slice(e.pos));for(let a of this.parser.leafBlockParsers)if(a){let i=a(this,r);i&&r.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let a of this.parser.endLeafBlock)if(a(this,e,r))break e}for(let a of r.parsers)if(a.nextLine(this,e,r))return null;r.content+=`
`+e.scrub();for(let a of e.markers)r.marks.push(a)}return this.finishLeaf(r),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let r=this.fragments.takeNodes(this);return r?(this.absoluteLineStart+=r,this.lineStart=exe(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let r=zDe;if(r.end=e,e>=this.to)r.text="";else if(r.text=this.lineChunkAt(e),r.end+=r.text.length,this.ranges.length>1){let a=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<r.end;){i++;let d=this.ranges[i].from,f=this.lineChunkAt(d);r.end=d+f.length,r.text=r.text.slice(0,this.ranges[i-1].to-a)+f,a=r.end-r.text.length}}return r}readLine(){let{line:e}=this,{text:r,end:a}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=a,e.reset(r);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],d=this.parser.skipContextMarkup[i.type];if(!d)throw new Error("Unhandled block context "+bo[i.type]);if(!d(i,this,e))break;e.forward()}}lineChunkAt(e){let r=this.input.chunk(e),a;if(this.input.lineChunks)a=r==`
`?"":r;else{let i=r.indexOf(`
`);a=i<0?r:r.slice(0,i)}return e+a.length>this.to?a.slice(0,this.to-e):a}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,r,a=0){this.block=eU.create(e,a,this.lineStart+r,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,r,a=0){this.startContext(this.parser.getNodeType(e),r,a)}addNode(e,r,a){typeof e=="number"&&(e=new Fi(this.parser.nodeSet.types[e],TM,TM,(a??this.prevLineEnd())-r)),this.block.addChild(e,r-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,r){this.addNode(this.buffer.writeElements(vae(r.children,e.marks),-r.from).finish(r.type,r.to-r.from),r.from)}finishContext(){let e=this.stack.pop(),r=this.stack[this.stack.length-1];r.addChild(e.toTree(this.parser.nodeSet),e.from-r.from),this.block=r}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?UOe(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let a of e.parsers)if(a.finish(this,e))return;let r=vae(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(r,-e.start).finish(bo.Paragraph,e.content.length),e.start)}elt(e,r,a,i){return typeof e=="string"?Ei(this.parser.getNodeType(e),r,a,i):new XOe(e,r)}get buffer(){return new YOe(this.parser.nodeSet)}}function UOe(t,e,r,a,i){let d=t[e].to,f=[],h=[],c=r.from+a;function g(v,y){for(;y?v>=d:v>d;){let b=t[e+1].from-d;a+=b,v+=b,e++,d=t[e].to}}for(let v=r.firstChild;v;v=v.nextSibling){g(v.from+a,!0);let y=v.from+a,b,O=i.get(v.tree);O?b=O:v.to+a>d?(b=UOe(t,e,v,a,i),g(v.to+a,!1)):b=v.toTree(),f.push(b),h.push(y-c)}return g(r.to+a,!1),new Fi(r.type,f,h,r.to+a-c,r.tree?r.tree.propValues:void 0)}class nW extends Tie{constructor(e,r,a,i,d,f,h,c,g){super(),this.nodeSet=e,this.blockParsers=r,this.leafBlockParsers=a,this.blockNames=i,this.endLeafBlock=d,this.skipContextMarkup=f,this.inlineParsers=h,this.inlineNames=c,this.wrappers=g,this.nodeTypes=Object.create(null);for(let v of e.types)this.nodeTypes[v.name]=v.id}createParse(e,r,a){let i=new ZDe(this,e,r,a);for(let d of this.wrappers)i=d(i,e,r,a);return i}configure(e){let r=pae(e);if(!r)return this;let{nodeSet:a,skipContextMarkup:i}=this,d=this.blockParsers.slice(),f=this.leafBlockParsers.slice(),h=this.blockNames.slice(),c=this.inlineParsers.slice(),g=this.inlineNames.slice(),v=this.endLeafBlock.slice(),y=this.wrappers;if(PD(r.defineNodes)){i=Object.assign({},i);let b=a.types.slice(),O;for(let C of r.defineNodes){let{name:k,block:w,composite:T,style:R}=typeof C=="string"?{name:C}:C;if(b.some(V=>V.name==k))continue;T&&(i[b.length]=(V,N,Q)=>T(N,Q,V.value));let M=b.length,I=T?["Block","BlockContext"]:w?M>=bo.ATXHeading1&&M<=bo.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;b.push(Vu.define({id:M,name:k,props:I&&[[ua.group,I]]})),R&&(O||(O={}),Array.isArray(R)||R instanceof Iv?O[k]=R:Object.assign(O,R))}a=new j$(b),O&&(a=a.extend(NS(O)))}if(PD(r.props)&&(a=a.extend(...r.props)),PD(r.remove))for(let b of r.remove){let O=this.blockNames.indexOf(b),C=this.inlineNames.indexOf(b);O>-1&&(d[O]=f[O]=void 0),C>-1&&(c[C]=void 0)}if(PD(r.parseBlock))for(let b of r.parseBlock){let O=h.indexOf(b.name);if(O>-1)d[O]=b.parse,f[O]=b.leaf;else{let C=b.before?$Z(h,b.before):b.after?$Z(h,b.after)+1:h.length-1;d.splice(C,0,b.parse),f.splice(C,0,b.leaf),h.splice(C,0,b.name)}b.endLeaf&&v.push(b.endLeaf)}if(PD(r.parseInline))for(let b of r.parseInline){let O=g.indexOf(b.name);if(O>-1)c[O]=b.parse;else{let C=b.before?$Z(g,b.before):b.after?$Z(g,b.after)+1:g.length-1;c.splice(C,0,b.parse),g.splice(C,0,b.name)}}return r.wrap&&(y=y.concat(r.wrap)),new nW(a,d,f,h,v,i,c,g,y)}getNodeType(e){let r=this.nodeTypes[e];if(r==null)throw new RangeError(`Unknown node type '${e}'`);return r}parseInline(e,r){let a=new UDe(this,e,r);e:for(let i=r;i<a.end;){let d=a.char(i);for(let f of this.inlineParsers)if(f){let h=f(a,d,i);if(h>=0){i=h;continue e}}i++}return a.resolveMarkers(0)}}function PD(t){return t!=null&&t.length>0}function pae(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=pae(t[0]);if(t.length==1)return e;let r=pae(t.slice(1));if(!r||!e)return e||r;let a=(f,h)=>(f||TM).concat(h||TM),i=e.wrap,d=r.wrap;return{props:a(e.props,r.props),defineNodes:a(e.defineNodes,r.defineNodes),parseBlock:a(e.parseBlock,r.parseBlock),parseInline:a(e.parseInline,r.parseInline),remove:a(e.remove,r.remove),wrap:i?d?(f,h,c,g)=>i(d(f,h,c,g),h,c,g):i:d}}function $Z(t,e){let r=t.indexOf(e);if(r<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return r}let WOe=[Vu.none];for(let t=1,e;e=bo[t];t++)WOe[t]=Vu.define({id:t,name:e,props:t>=bo.Escape?[]:[[ua.group,t in IOe?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const TM=[];let YOe=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,r,a,i=0){return this.content.push(e,r,a,4+i*4),this}writeElements(e,r=0){for(let a of e)a.writeTo(this,r);return this}finish(e,r){return Fi.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:r})}},N$=class{constructor(e,r,a,i=TM){this.type=e,this.from=r,this.to=a,this.children=i}writeTo(e,r){let a=e.content.length;e.writeElements(this.children,r),e.content.push(this.type,this.from+r,this.to+r,e.content.length+4-a)}toTree(e){return new YOe(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class XOe{constructor(e,r){this.tree=e,this.from=r}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return TM}writeTo(e,r){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+r,this.to+r,-1)}toTree(){return this.tree}}function Ei(t,e,r,a){return new N$(t,e,r,a)}const GOe={resolve:"Emphasis",mark:"EmphasisMark"},jOe={resolve:"Emphasis",mark:"EmphasisMark"},MD={},Wme={};class Nv{constructor(e,r,a,i){this.type=e,this.from=r,this.to=a,this.side=i}}const Yme="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let B$=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{B$=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const xoe={Escape(t,e,r){if(e!=92||r==t.end-1)return-1;let a=t.char(r+1);for(let i=0;i<Yme.length;i++)if(Yme.charCodeAt(i)==a)return t.append(Ei(bo.Escape,r,r+2));return-1},Entity(t,e,r){if(e!=38)return-1;let a=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(r+1,r+31));return a?t.append(Ei(bo.Entity,r,r+1+a[0].length)):-1},InlineCode(t,e,r){if(e!=96||r&&t.char(r-1)==96)return-1;let a=r+1;for(;a<t.end&&t.char(a)==96;)a++;let i=a-r,d=0;for(;a<t.end;a++)if(t.char(a)==96){if(d++,d==i&&t.char(a+1)!=96)return t.append(Ei(bo.InlineCode,r,a+1,[Ei(bo.CodeMark,r,r+i),Ei(bo.CodeMark,a+1-i,a+1)]))}else d=0;return-1},HTMLTag(t,e,r){if(e!=60||r==t.end-1)return-1;let a=t.slice(r+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(a);if(i)return t.append(Ei(bo.URL,r,r+1+i[0].length));let d=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(a);if(d)return t.append(Ei(bo.Comment,r,r+1+d[0].length));let f=/^\?[^]*?\?>/.exec(a);if(f)return t.append(Ei(bo.ProcessingInstruction,r,r+1+f[0].length));let h=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(a);return h?t.append(Ei(bo.HTMLTag,r,r+1+h[0].length)):-1},Emphasis(t,e,r){if(e!=95&&e!=42)return-1;let a=r+1;for(;t.char(a)==e;)a++;let i=t.slice(r-1,r),d=t.slice(a,a+1),f=B$.test(i),h=B$.test(d),c=/\s|^$/.test(i),g=/\s|^$/.test(d),v=!g&&(!h||c||f),y=!c&&(!f||g||h),b=v&&(e==42||!y||f),O=y&&(e==42||!v||h);return t.append(new Nv(e==95?GOe:jOe,r,a,(b?1:0)|(O?2:0)))},HardBreak(t,e,r){if(e==92&&t.char(r+1)==10)return t.append(Ei(bo.HardBreak,r,r+2));if(e==32){let a=r+1;for(;t.char(a)==32;)a++;if(t.char(a)==10&&a>=r+2)return t.append(Ei(bo.HardBreak,r,a+1))}return-1},Link(t,e,r){return e==91?t.append(new Nv(MD,r,r+1,1)):-1},Image(t,e,r){return e==33&&t.char(r+1)==91?t.append(new Nv(Wme,r,r+2,1)):-1},LinkEnd(t,e,r){if(e!=93)return-1;for(let a=t.parts.length-1;a>=0;a--){let i=t.parts[a];if(i instanceof Nv&&(i.type==MD||i.type==Wme)){if(!i.side||t.skipSpace(i.to)==r&&!/[(\[]/.test(t.slice(r+1,r+2)))return t.parts[a]=null,-1;let d=t.takeContent(a),f=t.parts[a]=HDe(t,d,i.type==MD?bo.Link:bo.Image,i.from,r+1);if(i.type==MD)for(let h=0;h<a;h++){let c=t.parts[h];c instanceof Nv&&c.type==MD&&(c.side=0)}return f.to}}return-1}};function HDe(t,e,r,a,i){let{text:d}=t,f=t.char(i),h=i;if(e.unshift(Ei(bo.LinkMark,a,a+(r==bo.Image?2:1))),e.push(Ei(bo.LinkMark,i-1,i)),f==40){let c=t.skipSpace(i+1),g=qOe(d,c-t.offset,t.offset),v;g&&(c=t.skipSpace(g.to),v=KOe(d,c-t.offset,t.offset),v&&(c=t.skipSpace(v.to))),t.char(c)==41&&(e.push(Ei(bo.LinkMark,i,i+1)),h=c+1,g&&e.push(g),v&&e.push(v),e.push(Ei(bo.LinkMark,c,h)))}else if(f==91){let c=JOe(d,i-t.offset,t.offset,!1);c&&(e.push(c),h=c.to)}return Ei(r,a,h,e)}function qOe(t,e,r){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let d=t.charCodeAt(i);if(d==62)return Ei(bo.URL,e+r,i+1+r);if(d==60||d==10)return!1}return null}else{let i=0,d=e;for(let f=!1;d<t.length;d++){let h=t.charCodeAt(d);if(Qp(h))break;if(f)f=!1;else if(h==40)i++;else if(h==41){if(!i)break;i--}else h==92&&(f=!0)}return d>e?Ei(bo.URL,e+r,d+r):d==t.length?null:!1}}function KOe(t,e,r){let a=t.charCodeAt(e);if(a!=39&&a!=34&&a!=40)return!1;let i=a==40?41:a;for(let d=e+1,f=!1;d<t.length;d++){let h=t.charCodeAt(d);if(f)f=!1;else{if(h==i)return Ei(bo.LinkTitle,e+r,d+1+r);h==92&&(f=!0)}}return null}function JOe(t,e,r,a){for(let i=!1,d=e+1,f=Math.min(t.length,d+999);d<f;d++){let h=t.charCodeAt(d);if(i)i=!1;else{if(h==93)return a?!1:Ei(bo.LinkLabel,e+r,d+1+r);if(a&&!Qp(h)&&(a=!1),h==91)return!1;h==92&&(i=!0)}}return null}class UDe{constructor(e,r,a){this.parser=e,this.text=r,this.offset=a,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,r){return this.text.slice(e-this.offset,r-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,r,a,i,d){return this.append(new Nv(e,r,a,(i?1:0)|(d?2:0)))}addElement(e){return this.append(e)}resolveMarkers(e){for(let a=e;a<this.parts.length;a++){let i=this.parts[a];if(!(i instanceof Nv&&i.type.resolve&&i.side&2))continue;let d=i.type==GOe||i.type==jOe,f=i.to-i.from,h,c=a-1;for(;c>=e;c--){let k=this.parts[c];if(k instanceof Nv&&k.side&1&&k.type==i.type&&!(d&&(i.side&1||k.side&2)&&(k.to-k.from+f)%3==0&&((k.to-k.from)%3||f%3))){h=k;break}}if(!h)continue;let g=i.type.resolve,v=[],y=h.from,b=i.to;if(d){let k=Math.min(2,h.to-h.from,f);y=h.to-k,b=i.from+k,g=k==1?"Emphasis":"StrongEmphasis"}h.type.mark&&v.push(this.elt(h.type.mark,y,h.to));for(let k=c+1;k<a;k++)this.parts[k]instanceof N$&&v.push(this.parts[k]),this.parts[k]=null;i.type.mark&&v.push(this.elt(i.type.mark,i.from,b));let O=this.elt(g,y,b,v);this.parts[c]=d&&h.from!=y?new Nv(h.type,h.from,y,h.side):null,(this.parts[a]=d&&i.to!=b?new Nv(i.type,b,i.to,i.side):null)?this.parts.splice(a,0,O):this.parts[a]=O}let r=[];for(let a=e;a<this.parts.length;a++){let i=this.parts[a];i instanceof N$&&r.push(i)}return r}findOpeningDelimiter(e){for(let r=this.parts.length-1;r>=0;r--){let a=this.parts[r];if(a instanceof Nv&&a.type==e)return r}return null}takeContent(e){let r=this.resolveMarkers(e);return this.parts.length=e,r}skipSpace(e){return e$(this.text,e-this.offset)+this.offset}elt(e,r,a,i){return typeof e=="string"?Ei(this.parser.getNodeType(e),r,a,i):new XOe(e,r)}}function vae(t,e){if(!e.length)return t;if(!t.length)return e;let r=t.slice(),a=0;for(let i of e){for(;a<r.length&&r[a].to<i.to;)a++;if(a<r.length&&r[a].from<i.from){let d=r[a];d instanceof N$&&(r[a]=new N$(d.type,d.from,d.to,vae(d.children,[i])))}else r.splice(a++,0,i)}return r}const WDe=[bo.CodeBlock,bo.ListItem,bo.OrderedList,bo.BulletList];class YDe{constructor(e,r){this.fragments=e,this.input=r,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,r){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let d=this.fragment.to;for(;d>0&&this.input.read(d-1,d)!=`
`;)d--;this.fragmentEnd=d?d-1:0}let a=this.cursor;a||(a=this.cursor=this.fragment.tree.cursor(),a.firstChild());let i=e+this.fragment.offset;for(;a.to<=i;)if(!a.parent())return!1;for(;;){if(a.from>=i)return this.fragment.from<=r;if(!a.childAfter(i))return!1}}matches(e){let r=this.cursor.tree;return r&&r.prop(ua.contextHash)==e}takeNodes(e){let r=this.cursor,a=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),d=e.absoluteLineStart,f=d,h=e.block.children.length,c=f,g=h;for(;;){if(r.to-a>i){if(r.type.isAnonymous&&r.firstChild())continue;break}let v=exe(r.from-a,e.ranges);if(r.to-a<=e.ranges[e.rangeI].to)e.addNode(r.tree,v);else{let y=new Fi(e.parser.nodeSet.types[bo.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(y,r.tree),e.addNode(y,v)}if(r.type.is("Block")&&(WDe.indexOf(r.type.id)<0?(f=r.to-a,h=e.block.children.length):(f=c,h=g,c=r.to-a,g=e.block.children.length)),!r.nextSibling())break}for(;e.block.children.length>h;)e.block.children.pop(),e.block.positions.pop();return f-d}}function exe(t,e){let r=t;for(let a=1;a<e.length;a++){let i=e[a-1].to,d=e[a].from;i<t&&(r-=d-i)}return r}const XDe=NS({"Blockquote/...":Qt.quote,HorizontalRule:Qt.contentSeparator,"ATXHeading1/... SetextHeading1/...":Qt.heading1,"ATXHeading2/... SetextHeading2/...":Qt.heading2,"ATXHeading3/...":Qt.heading3,"ATXHeading4/...":Qt.heading4,"ATXHeading5/...":Qt.heading5,"ATXHeading6/...":Qt.heading6,"Comment CommentBlock":Qt.comment,Escape:Qt.escape,Entity:Qt.character,"Emphasis/...":Qt.emphasis,"StrongEmphasis/...":Qt.strong,"Link/... Image/...":Qt.link,"OrderedList/... BulletList/...":Qt.list,"BlockQuote/...":Qt.quote,"InlineCode CodeText":Qt.monospace,URL:Qt.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Qt.processingInstruction,"CodeInfo LinkLabel":Qt.labelName,LinkTitle:Qt.string,Paragraph:Qt.content}),GDe=new nW(new j$(WOe).extend(XDe),Object.keys(DZ).map(t=>DZ[t]),Object.keys(DZ).map(t=>FDe[t]),Object.keys(DZ),VDe,IOe,Object.keys(xoe).map(t=>xoe[t]),Object.keys(xoe),[]);function jDe(t,e,r){let a=[];for(let i=t.firstChild,d=e;;i=i.nextSibling){let f=i?i.from:r;if(f>d&&a.push({from:d,to:f}),!i)break;d=i.to}return a}function qDe(t){let{codeParser:e,htmlParser:r}=t;return{wrap:Q0e((i,d)=>{let f=i.type.id;if(e&&(f==bo.CodeBlock||f==bo.FencedCode)){let h="";if(f==bo.FencedCode){let g=i.node.getChild(bo.CodeInfo);g&&(h=d.read(g.from,g.to))}let c=e(h);if(c)return{parser:c,overlay:g=>g.type.id==bo.CodeText}}else if(r&&(f==bo.HTMLBlock||f==bo.HTMLTag))return{parser:r,overlay:jDe(i.node,i.from,i.to)};return null})}}const KDe={resolve:"Strikethrough",mark:"StrikethroughMark"},JDe={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Qt.strikethrough}},{name:"StrikethroughMark",style:Qt.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,r){if(e!=126||t.char(r+1)!=126||t.char(r+2)==126)return-1;let a=t.slice(r-1,r),i=t.slice(r+2,r+3),d=/\s|^$/.test(a),f=/\s|^$/.test(i),h=B$.test(a),c=B$.test(i);return t.addDelimiter(KDe,r,r+2,!f&&(!c||d||h),!d&&(!h||f||c))},after:"Emphasis"}]};function t$(t,e,r=0,a,i=0){let d=0,f=!0,h=-1,c=-1,g=!1,v=()=>{a.push(t.elt("TableCell",i+h,i+c,t.parser.parseInline(e.slice(h,c),i+h)))};for(let y=r;y<e.length;y++){let b=e.charCodeAt(y);b==124&&!g?((!f||h>-1)&&d++,f=!1,a&&(h>-1&&v(),a.push(t.elt("TableDelimiter",y+i,y+i+1))),h=c=-1):(g||b!=32&&b!=9)&&(h<0&&(h=y),c=y+1),g=!g&&b==92}return h>-1&&(d++,a&&v()),d}function Xme(t,e){for(let r=e;r<t.length;r++){let a=t.charCodeAt(r);if(a==124)return!0;a==92&&r++}return!1}const txe=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class Gme{constructor(){this.rows=null}nextLine(e,r,a){if(this.rows==null){this.rows=!1;let i;if((r.next==45||r.next==58||r.next==124)&&txe.test(i=r.text.slice(r.pos))){let d=[];t$(e,a.content,0,d,a.start)==t$(e,i,r.pos)&&(this.rows=[e.elt("TableHeader",a.start,a.start+a.content.length,d),e.elt("TableDelimiter",e.lineStart+r.pos,e.lineStart+r.text.length)])}}else if(this.rows){let i=[];t$(e,r.text,r.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+r.pos,e.lineStart+r.text.length,i))}return!1}finish(e,r){return this.rows?(e.addLeafElement(r,e.elt("Table",r.start,r.start+r.content.length,this.rows)),!0):!1}}const e$e={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Qt.heading}},"TableRow",{name:"TableCell",style:Qt.content},{name:"TableDelimiter",style:Qt.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return Xme(e.content,0)?new Gme:null},endLeaf(t,e,r){if(r.parsers.some(i=>i instanceof Gme)||!Xme(e.text,e.basePos))return!1;let a=t.scanLine(t.absoluteLineEnd+1).text;return txe.test(a)&&t$(t,e.text,e.basePos)==t$(t,a,e.basePos)},before:"SetextHeading"}]};class t$e{nextLine(){return!1}finish(e,r){return e.addLeafElement(r,e.elt("Task",r.start,r.start+r.content.length,[e.elt("TaskMarker",r.start,r.start+3),...e.parser.parseInline(r.content.slice(3),r.start+3)])),!0}}const n$e={defineNodes:[{name:"Task",block:!0,style:Qt.list},{name:"TaskMarker",style:Qt.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new t$e:null},after:"SetextHeading"}]},jme=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,qme=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,r$e=/[\w-]+\.[\w-]+($|\/)/,Kme=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,Jme=/\/[a-zA-Z\d@.]+/gy;function ege(t,e,r,a){let i=0;for(let d=e;d<r;d++)t[d]==a&&i++;return i}function o$e(t,e){qme.lastIndex=e;let r=qme.exec(t);if(!r||r$e.exec(r[0])[0].indexOf("_")>-1)return-1;let a=e+r[0].length;for(;;){let i=t[a-1],d;if(/[?!.,:*_~]/.test(i)||i==")"&&ege(t,e,a,")")>ege(t,e,a,"("))a--;else if(i==";"&&(d=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,a))))a=e+d.index;else break}return a}function tge(t,e){Kme.lastIndex=e;let r=Kme.exec(t);if(!r)return-1;let a=r[0][r[0].length-1];return a=="_"||a=="-"?-1:e+r[0].length-(a=="."?1:0)}const s$e={parseInline:[{name:"Autolink",parse(t,e,r){let a=r-t.offset;jme.lastIndex=a;let i=jme.exec(t.text),d=-1;return!i||(i[1]||i[2]?d=o$e(t.text,a+i[0].length):i[3]?d=tge(t.text,a):(d=tge(t.text,a+i[0].length),d>-1&&i[0]=="xmpp:"&&(Jme.lastIndex=d,i=Jme.exec(t.text),i&&(d=i.index+i[0].length))),d<0)?-1:(t.addElement(t.elt("URL",r,d+t.offset)),d+t.offset)}}]},a$e=[e$e,n$e,JDe,s$e];function nxe(t,e,r){return(a,i,d)=>{if(i!=t||a.char(d+1)==t)return-1;let f=[a.elt(r,d,d+1)];for(let h=d+1;h<a.end;h++){let c=a.char(h);if(c==t)return a.addElement(a.elt(e,d,h+1,f.concat(a.elt(r,h,h+1))));if(c==92&&f.push(a.elt("Escape",h,h+++2)),Qp(c))break}return-1}}const i$e={defineNodes:[{name:"Superscript",style:Qt.special(Qt.content)},{name:"SuperscriptMark",style:Qt.processingInstruction}],parseInline:[{name:"Superscript",parse:nxe(94,"Superscript","SuperscriptMark")}]},l$e={defineNodes:[{name:"Subscript",style:Qt.special(Qt.content)},{name:"SubscriptMark",style:Qt.processingInstruction}],parseInline:[{name:"Subscript",parse:nxe(126,"Subscript","SubscriptMark")}]},c$e={defineNodes:[{name:"Emoji",style:Qt.character}],parseInline:[{name:"Emoji",parse(t,e,r){let a;return e!=58||!(a=/^[a-zA-Z_0-9]+:/.exec(t.slice(r+1,t.end)))?-1:t.addElement(t.elt("Emoji",r,r+1+a[0].length))}}]},u$e=54,f$e=1,d$e=55,h$e=2,m$e=56,g$e=3,nge=4,p$e=5,tU=6,rxe=7,oxe=8,sxe=9,axe=10,v$e=11,y$e=12,b$e=13,Soe=57,O$e=14,rge=58,ixe=20,x$e=22,lxe=23,S$e=24,yae=26,cxe=27,w$e=28,T$e=31,C$e=34,k$e=36,A$e=37,P$e=0,M$e=1,E$e={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},_$e={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},oge={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function R$e(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function uxe(t){return t==9||t==10||t==13||t==32}let sge=null,age=null,ige=0;function bae(t,e){let r=t.pos+e;if(ige==r&&age==t)return sge;let a=t.peek(e);for(;uxe(a);)a=t.peek(++e);let i="";for(;R$e(a);)i+=String.fromCharCode(a),a=t.peek(++e);return age=t,ige=r,sge=i?i.toLowerCase():a==D$e||a==$$e?void 0:null}const fxe=60,nU=62,Zle=47,D$e=63,$$e=33,L$e=45;function lge(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let r=0;r<t.length;r++)this.hash+=(this.hash<<4)+t.charCodeAt(r)+(t.charCodeAt(r)<<8)}const I$e=[tU,axe,rxe,oxe,sxe],N$e=new Wie({start:null,shift(t,e,r,a){return I$e.indexOf(e)>-1?new lge(bae(a,1)||"",t):t},reduce(t,e){return e==ixe&&t?t.parent:t},reuse(t,e,r,a){let i=e.type.id;return i==tU||i==k$e?new lge(bae(a,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),B$e=new vh((t,e)=>{if(t.next!=fxe){t.next<0&&e.context&&t.acceptToken(Soe);return}t.advance();let r=t.next==Zle;r&&t.advance();let a=bae(t,0);if(a===void 0)return;if(!a)return t.acceptToken(r?O$e:tU);let i=e.context?e.context.name:null;if(r){if(a==i)return t.acceptToken(v$e);if(i&&_$e[i])return t.acceptToken(Soe,-2);if(e.dialectEnabled(P$e))return t.acceptToken(y$e);for(let d=e.context;d;d=d.parent)if(d.name==a)return;t.acceptToken(b$e)}else{if(a=="script")return t.acceptToken(rxe);if(a=="style")return t.acceptToken(oxe);if(a=="textarea")return t.acceptToken(sxe);if(E$e.hasOwnProperty(a))return t.acceptToken(axe);i&&oge[i]&&oge[i][a]?t.acceptToken(Soe,-1):t.acceptToken(tU)}},{contextual:!0}),Q$e=new vh(t=>{for(let e=0,r=0;;r++){if(t.next<0){r&&t.acceptToken(rge);break}if(t.next==L$e)e++;else if(t.next==nU&&e>=2){r>=3&&t.acceptToken(rge,-2);break}else e=0;t.advance()}});function F$e(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const V$e=new vh((t,e)=>{if(t.next==Zle&&t.peek(1)==nU){let r=e.dialectEnabled(M$e)||F$e(e.context);t.acceptToken(r?p$e:nge,2)}else t.next==nU&&t.acceptToken(nge,1)});function Hle(t,e,r){let a=2+t.length;return new vh(i=>{for(let d=0,f=0,h=0;;h++){if(i.next<0){h&&i.acceptToken(e);break}if(d==0&&i.next==fxe||d==1&&i.next==Zle||d>=2&&d<a&&i.next==t.charCodeAt(d-2))d++,f++;else if((d==2||d==a)&&uxe(i.next))f++;else if(d==a&&i.next==nU){h>f?i.acceptToken(e,-f):i.acceptToken(r,-(f-2));break}else if((i.next==10||i.next==13)&&h){i.acceptToken(e,1);break}else d=f=0;i.advance()}})}const z$e=Hle("script",u$e,f$e),Z$e=Hle("style",d$e,h$e),H$e=Hle("textarea",m$e,g$e),U$e=NS({"Text RawText":Qt.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Qt.angleBracket,TagName:Qt.tagName,"MismatchedCloseTag/TagName":[Qt.tagName,Qt.invalid],AttributeName:Qt.attributeName,"AttributeValue UnquotedAttributeValue":Qt.attributeValue,Is:Qt.definitionOperator,"EntityReference CharacterReference":Qt.character,Comment:Qt.blockComment,ProcessingInst:Qt.processingInstruction,DoctypeDecl:Qt.documentMeta}),W$e=RS.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:N$e,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[U$e],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[z$e,Z$e,H$e,V$e,B$e,Q$e,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function dxe(t,e){let r=Object.create(null);for(let a of t.getChildren(lxe)){let i=a.getChild(S$e),d=a.getChild(yae)||a.getChild(cxe);i&&(r[e.read(i.from,i.to)]=d?d.type.id==yae?e.read(d.from+1,d.to-1):e.read(d.from,d.to):"")}return r}function cge(t,e){let r=t.getChild(x$e);return r?e.read(r.from,r.to):" "}function woe(t,e,r){let a;for(let i of r)if(!i.attrs||i.attrs(a||(a=dxe(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function hxe(t=[],e=[]){let r=[],a=[],i=[],d=[];for(let h of t)(h.tag=="script"?r:h.tag=="style"?a:h.tag=="textarea"?i:d).push(h);let f=e.length?Object.create(null):null;for(let h of e)(f[h.name]||(f[h.name]=[])).push(h);return Q0e((h,c)=>{let g=h.type.id;if(g==w$e)return woe(h,c,r);if(g==T$e)return woe(h,c,a);if(g==C$e)return woe(h,c,i);if(g==ixe&&d.length){let v=h.node,y=v.firstChild,b=y&&cge(y,c),O;if(b){for(let C of d)if(C.tag==b&&(!C.attrs||C.attrs(O||(O=dxe(v,c))))){let k=v.lastChild,w=k.type.id==A$e?k.from:v.to;if(w>y.to)return{parser:C.parser,overlay:[{from:y.to,to:w}]}}}}if(f&&g==lxe){let v=h.node,y;if(y=v.firstChild){let b=f[c.read(y.from,y.to)];if(b)for(let O of b){if(O.tagName&&O.tagName!=cge(v.parent,c))continue;let C=v.lastChild;if(C.type.id==yae){let k=C.from+1,w=C.lastChild,T=C.to-(w&&w.isError?0:1);if(T>k)return{parser:O.parser,overlay:[{from:k,to:T}]}}else if(C.type.id==cxe)return{parser:O.parser,overlay:[{from:C.from,to:C.to}]}}}}return null})}const Y$e=96,uge=1,X$e=97,G$e=98,fge=2,mxe=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],j$e=58,q$e=40,gxe=95,K$e=91,oH=45,J$e=46,e9e=35,t9e=37,n9e=38,r9e=92,o9e=10;function rU(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function s9e(t){return t>=48&&t<=57}const a9e=new vh((t,e)=>{for(let r=!1,a=0,i=0;;i++){let{next:d}=t;if(rU(d)||d==oH||d==gxe||r&&s9e(d))!r&&(d!=oH||i>0)&&(r=!0),a===i&&d==oH&&a++,t.advance();else if(d==r9e&&t.peek(1)!=o9e)t.advance(),t.next>-1&&t.advance(),r=!0;else{r&&t.acceptToken(d==q$e?X$e:a==2&&e.canShift(fge)?fge:G$e);break}}}),i9e=new vh(t=>{if(mxe.includes(t.peek(-1))){let{next:e}=t;(rU(e)||e==gxe||e==e9e||e==J$e||e==K$e||e==j$e||e==oH||e==n9e)&&t.acceptToken(Y$e)}}),l9e=new vh(t=>{if(!mxe.includes(t.peek(-1))){let{next:e}=t;if(e==t9e&&(t.advance(),t.acceptToken(uge)),rU(e)){do t.advance();while(rU(t.next));t.acceptToken(uge)}}}),c9e=NS({"AtKeyword import charset namespace keyframes media supports":Qt.definitionKeyword,"from to selector":Qt.keyword,NamespaceName:Qt.namespace,KeyframeName:Qt.labelName,KeyframeRangeName:Qt.operatorKeyword,TagName:Qt.tagName,ClassName:Qt.className,PseudoClassName:Qt.constant(Qt.className),IdName:Qt.labelName,"FeatureName PropertyName":Qt.propertyName,AttributeName:Qt.attributeName,NumberLiteral:Qt.number,KeywordQuery:Qt.keyword,UnaryQueryOp:Qt.operatorKeyword,"CallTag ValueName":Qt.atom,VariableName:Qt.variableName,Callee:Qt.operatorKeyword,Unit:Qt.unit,"UniversalSelector NestingSelector":Qt.definitionOperator,MatchOp:Qt.compareOperator,"ChildOp SiblingOp, LogicOp":Qt.logicOperator,BinOp:Qt.arithmeticOperator,Important:Qt.modifier,Comment:Qt.blockComment,ColorLiteral:Qt.color,"ParenthesizedContent StringLiteral":Qt.string,":":Qt.punctuation,"PseudoOp #":Qt.derefOperator,"; ,":Qt.separator,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace}),u9e={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},f9e={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},d9e={__proto__:null,not:128,only:128},h9e=RS.deserialize({version:14,states:"9bQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DPO$vQ[O'#DTOOQP'#Ej'#EjO${QdO'#DeO%gQ[O'#DrO${QdO'#DtO%xQ[O'#DvO&TQ[O'#DyO&]Q[O'#EPO&kQ[O'#EROOQS'#Ei'#EiOOQS'#EU'#EUQYQ[OOO&rQXO'#CdO'gQWO'#DaO'lQWO'#EpO'wQ[O'#EpQOQWOOP(RO#tO'#C_POOO)C@X)C@XOOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(^Q[O'#EXO(xQWO,58{O)QQ[O,59SO$qQ[O,59kO$vQ[O,59oO(^Q[O,59sO(^Q[O,59uO(^Q[O,59vO)]Q[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)dQWO,59SO)iQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)nQ`O,59oOOQS'#Cp'#CpO${QdO'#CqO)vQvO'#CsO+TQtO,5:POOQO'#Cx'#CxO)iQWO'#CwO+iQWO'#CyOOQS'#Em'#EmOOQO'#Dh'#DhO+nQ[O'#DoO+|QWO'#EqO&]Q[O'#DmO,[QWO'#DpOOQO'#Er'#ErO({QWO,5:^O,aQpO,5:`OOQS'#Dx'#DxO,iQWO,5:bO,nQ[O,5:bOOQO'#D{'#D{O,vQWO,5:eO,{QWO,5:kO-TQWO,5:mOOQS-E8S-E8SO${QdO,59{O-]Q[O'#EZO-jQWO,5;[O-jQWO,5;[POOO'#ET'#ETP-uO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.lQXO,5:sOOQO-E8V-E8VOOQS1G.g1G.gOOQP1G.n1G.nO)dQWO1G.nO)iQWO1G.nOOQP1G/V1G/VO.yQ`O1G/ZO/dQXO1G/_O/zQXO1G/aO0bQXO1G/bO0xQWO,59zO0}Q[O'#DOO1UQdO'#CoOOQP1G/Z1G/ZO${QdO1G/ZO1]QpO,59]OOQS,59_,59_O${QdO,59aO1eQWO1G/kOOQS,59c,59cO1jQ!bO,59eO1rQWO'#DhO1}QWO,5:TO2SQWO,5:ZO&]Q[O,5:VO&]Q[O'#E[O2[QWO,5;]O2gQWO,5:XO(^Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2xQWO1G/|O2}QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO3YQtO1G/gOOQO,5:u,5:uO3pQ[O,5:uOOQO-E8X-E8XO3}QWO1G0vPOOO-E8R-E8RPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$u7+$uO${QdO7+$uOOQS1G/f1G/fO4YQXO'#EoO4aQWO,59jO4fQtO'#EVO5ZQdO'#ElO5eQWO,59ZO5jQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5rQWO1G/PO${QdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5wQWO,5:vOOQO-E8Y-E8YO6VQXO1G/vOOQS7+%h7+%hO6^QYO'#CsOOQO'#EO'#EOO6iQ`O'#D}OOQO'#D}'#D}O6tQWO'#E]O6|QdO,5:hOOQS,5:h,5:hO7XQtO'#EYO${QdO'#EYO8VQdO7+%ROOQO7+%R7+%ROOQO1G0a1G0aO8jQpO<<HaO8rQWO,5;ZOOQP1G/U1G/UOOQS-E8T-E8TO${QdO'#EWO8zQWO,5;WOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO9SQdO7+%ZOOQO7+%b7+%bOOQO,5:i,5:iO3QQdO'#E^O6tQWO,5:wOOQS,5:w,5:wOOQS-E8Z-E8ZOOQS1G0S1G0SO9ZQtO,5:tOOQS-E8W-E8WOOQO<<Hm<<HmOOQPAN={AN={O:XQdO,5:rOOQO-E8U-E8UOOQO<<Hu<<HuOOQO,5:x,5:xOOQO-E8[-E8[OOQS1G0c1G0c",stateData:":k~O#WOS#XQQ~OUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#URO#_TO~OQfOUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#UeO#_TO~O#R#dP~P!ZO#XjO~O#UlO~O]qO^qOpoOtrOxsO|tO!PvO#SuO#_nO~O!RwO~P#pO`}O#TzO#UyO~O#U!OO~O#U!QO~OQ!ZOb!TOf!ZOh!ZOn!YO#T!WO#U!SO#b!UO~Ob!]O!b!_O!e!`O#U![O!R#eP~Oh!eOn!YO#U!dO~Oh!gO#U!gO~Ob!]O!b!_O!e!`O#U![O~O!W#eP~P%gO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#SWX#_WX~O]!lO~O!W!mO#R#dX!Q#dX~O#R#dX!Q#dX~P!ZO#Y!pO#Z!pO#[!rO~OUYOXYO]VO^VOtWOxXO#URO#_TO~OpoO!RwO~O`!yO#TzO#UyO~O!Q#dP~P!ZOb#QO~Ob#RO~Ov#SOz#TO~OP#VObgXjgX!WgX!bgX!egX#UgXagXQgXfgXhgXngXpgX!VgX#RgX#TgX#bgXvgX!QgX~Ob!]Oj#WO!b!_O!e!`O#U![O!W#eP~Ob#ZO~Ob!]O!b!_O!e!`O#U#[O~Op#`O!`#_O!R#eX!W#eX~Ob#cO~Oj#WO!W#eO~O!W#fO~Oh#gOn!YO~O!R#hO~O!RwO!`#_O~O!RwO!W#kO~O!W!}X#R!}X!Q!}X~P!ZO!W!mO#R#da!Q#da~O#Y!pO#Z!pO#[#rO~O]qO^qOtrOxsO|tO!PvO#SuO#_nO~Op!{a!R!{aa!{a~P.QOv#tOz#uO~O]qO^qOtrOxsO#_nO~Op{i|{i!P{i!R{i#S{ia{i~P/ROp}i|}i!P}i!R}i#S}ia}i~P/ROp!Oi|!Oi!P!Oi!R!Oi#S!Oia!Oi~P/RO!Q#vO~Oa#cP~P(^Oa#`P~P${Oa#}Oj#WO~O!W$PO~Oh$QOo$QO~O]!^Xa![X!`![X~O]$RO~Oa$SO!`#_O~Op#`O!R#ea!W#ea~O!`#_Op!aa!R!aa!W!aaa!aa~O!W$XO~O!Q$`O#U$ZO#b$YO~Oj#WOp$bO!V$dO!W!Ti#R!Ti!Q!Ti~P${O!W!}a#R!}a!Q!}a~P!ZO!W!mO#R#di!Q#di~Oa#cX~P#pOa$hO~Oj#WOQ!yXa!yXb!yXf!yXh!yXn!yXp!yX#T!yX#U!yX#b!yX~Op$jOa#`X~P${Oa$lO~Oj#WOv$mO~Oa$nO~O!`#_Op#Oa!R#Oa!W#Oa~Oa$pO~P.QOP#VOpgX!RgX~O#b$YOp!qX!R!qX~Op$rO!RwO~O!Q$vO#U$ZO#b$YO~Oj#WOQ!|Xb!|Xf!|Xh!|Xn!|Xp!|X!V!|X!W!|X#R!|X#T!|X#U!|X#b!|X!Q!|X~Op$bO!V$yO!W!Tq#R!Tq!Q!Tq~P${Oj#WOv$zO~OpoOa#ca~Op$jOa#`a~Oa$}O~P${Oj#WOQ!|ab!|af!|ah!|an!|ap!|a!V!|a!W!|a#R!|a#T!|a#U!|a#b!|a!Q!|a~Oa!zap!za~P${O#Wo#X#bj!P#b~",goto:"-Y#gPPP#hP#kP#t$TP#t$d#tPP$jPPP$p$y$yP%]P$yP$y%w&ZPPP&s&y#tP'PP#tP'VP#tP#t#tPPP']'r(PPP#kPP(W(W(b(WP(WP(W(WP#kP#kP#kP(e#kP(h(k(n(u#kP#kP(z)Q)a)o)u*P*V*a*g*mPPPPPPPPPP*s*|P+i+lP,b,e,k,tRkQ_bOPdhw!m#nkYOPdhotuvw!m#Q#c#nkSOPdhotuvw!m#Q#c#nQmTR!snQ{VR!wqQ!w}Q#Y!XR#s!yq!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${U$]#h$_$rR$q$[q!XZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${Q!e^R#g!fQ|VR!xqQ!w|R#s!xQ!PWR!zrQ!RXR!{sQxUQ!vpQ#d!bQ#j!iQ#k!jQ$t$^R%Q$sSgPwQ!ohQ#m!mR$e#nZfPhw!m#na!a[`a!V!]!_#_#`R#]!]R!f^R!h_R#i!hS$^#h$_R%O$rV$[#h$_$rQ!qjR#q!qQdOShPwU!kdh#nR#n!mQ#z#RU$i#z$o${Q$o$RR${$jQ$k#zR$|$kQpUS!up$gR$g#wQ$c#lR$x$cQ!ngS#o!n#pR#p!oQ#a!^R$V#aQ$_#hR$u$_Q$s$^R%P$s_cOPdhw!m#n^UOPdhw!m#nQ!toQ!|tQ!}uQ#OvQ#w#QR$W#cR#{#RQ!VZQ!c]Q#U!TQ#l!l[#y#R#z$R$j$o${Q#|#TQ$O#WS$a#l$cQ$f#uR$w$bR#x#QQiPR#PwQ!b[Q!jaR#X!VU!^[a!VQ!i`Q#^!]Q#b!_Q$T#_R$U#`",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:114,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[c9e],skippedNodes:[0,3,85],repeatNodeCount:10,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#W~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#W~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!V[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYtQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QSzSo`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!PQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#b[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#b[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSp^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#_QOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#X~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!W^Oy%^z;'S%^;'S;=`%o<%lO%^dCoSzSOy%^z;'S%^;'S;=`%o<%lO%^bDQU|QOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS|Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!YQo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bFfSxQOy%^z;'S%^;'S;=`%o<%lO%^lFwSv[Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!`Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!RUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!Q^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!PQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[i9e,l9e,a9e,1,2,3,4,new NH("m~RRYZ[z{a~~g~aO#Z~~dP!P!Qg~lO#[~~",28,102)],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:97,get:t=>u9e[t]||-1},{term:56,get:t=>f9e[t]||-1},{term:98,get:t=>d9e[t]||-1}],tokenPrec:1169});let Toe=null;function Coe(){if(!Toe&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],r=new Set;for(let a in t)a!="cssText"&&a!="cssFloat"&&typeof t[a]=="string"&&(/[A-Z]/.test(a)&&(a=a.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),r.has(a)||(e.push(a),r.add(a)));Toe=e.sort().map(a=>({type:"property",label:a}))}return Toe||[]}const dge=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),hge=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),m9e=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),lS=/^(\w[\w-]*|-\w[\w-]*|)$/,g9e=/^-(-[\w-]*)?$/;function p9e(t,e){var r;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let a=(r=t.parent)===null||r===void 0?void 0:r.firstChild;return(a==null?void 0:a.name)!="Callee"?!1:e.sliceString(a.from,a.to)=="var"}const mge=new wie,v9e=["Declaration"];function y9e(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function pxe(t,e,r){if(e.to-e.from>4096){let a=mge.get(e);if(a)return a;let i=[],d=new Set,f=e.cursor(yl.IncludeAnonymous);if(f.firstChild())do for(let h of pxe(t,f.node,r))d.has(h.label)||(d.add(h.label),i.push(h));while(f.nextSibling());return mge.set(e,i),i}else{let a=[],i=new Set;return e.cursor().iterate(d=>{var f;if(r(d)&&d.matchContext(v9e)&&((f=d.node.nextSibling)===null||f===void 0?void 0:f.name)==":"){let h=t.sliceString(d.from,d.to);i.has(h)||(i.add(h),a.push({label:h,type:"variable"}))}}),a}}const b9e=t=>e=>{let{state:r,pos:a}=e,i=ol(r).resolveInner(a,-1),d=i.type.isError&&i.from==i.to-1&&r.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(d||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:Coe(),validFor:lS};if(i.name=="ValueName")return{from:i.from,options:hge,validFor:lS};if(i.name=="PseudoClassName")return{from:i.from,options:dge,validFor:lS};if(t(i)||(e.explicit||d)&&p9e(i,r.doc))return{from:t(i)||d?i.from:a,options:pxe(r.doc,y9e(i),t),validFor:g9e};if(i.name=="TagName"){for(let{parent:c}=i;c;c=c.parent)if(c.name=="Block")return{from:i.from,options:Coe(),validFor:lS};return{from:i.from,options:m9e,validFor:lS}}if(!e.explicit)return null;let f=i.resolve(a),h=f.childBefore(a);return h&&h.name==":"&&f.name=="PseudoClassSelector"?{from:a,options:dge,validFor:lS}:h&&h.name==":"&&f.name=="Declaration"||f.name=="ArgList"?{from:a,options:hge,validFor:lS}:f.name=="Block"||f.name=="Styles"?{from:a,options:Coe(),validFor:lS}:null},O9e=b9e(t=>t.name=="VariableName"),oU=ES.define({name:"css",parser:h9e.configure({props:[H3.add({Declaration:GD()}),BS.add({"Block KeyframeList":Mie})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function x9e(){return new B3(oU,oU.data.of({autocomplete:O9e}))}const S9e=304,gge=1,w9e=2,T9e=305,C9e=307,k9e=308,A9e=3,P9e=4,M9e=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],vxe=125,E9e=59,pge=47,_9e=42,R9e=43,D9e=45,$9e=new Wie({start:!1,shift(t,e){return e==A9e||e==P9e||e==C9e?t:e==k9e},strict:!1}),L9e=new vh((t,e)=>{let{next:r}=t;(r==vxe||r==-1||e.context)&&t.acceptToken(T9e)},{contextual:!0,fallback:!0}),I9e=new vh((t,e)=>{let{next:r}=t,a;M9e.indexOf(r)>-1||r==pge&&((a=t.peek(1))==pge||a==_9e)||r!=vxe&&r!=E9e&&r!=-1&&!e.context&&t.acceptToken(S9e)},{contextual:!0}),N9e=new vh((t,e)=>{let{next:r}=t;if((r==R9e||r==D9e)&&(t.advance(),r==t.next)){t.advance();let a=!e.context&&e.canShift(gge);t.acceptToken(a?gge:w9e)}},{contextual:!0}),B9e=NS({"get set async static":Qt.modifier,"for while do if else switch try catch finally return throw break continue default case":Qt.controlKeyword,"in of await yield void typeof delete instanceof":Qt.operatorKeyword,"let var const using function class extends":Qt.definitionKeyword,"import export from":Qt.moduleKeyword,"with debugger as new":Qt.keyword,TemplateString:Qt.special(Qt.string),super:Qt.atom,BooleanLiteral:Qt.bool,this:Qt.self,null:Qt.null,Star:Qt.modifier,VariableName:Qt.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Qt.function(Qt.variableName),VariableDefinition:Qt.definition(Qt.variableName),Label:Qt.labelName,PropertyName:Qt.propertyName,PrivatePropertyName:Qt.special(Qt.propertyName),"CallExpression/MemberExpression/PropertyName":Qt.function(Qt.propertyName),"FunctionDeclaration/VariableDefinition":Qt.function(Qt.definition(Qt.variableName)),"ClassDeclaration/VariableDefinition":Qt.definition(Qt.className),PropertyDefinition:Qt.definition(Qt.propertyName),PrivatePropertyDefinition:Qt.definition(Qt.special(Qt.propertyName)),UpdateOp:Qt.updateOperator,"LineComment Hashbang":Qt.lineComment,BlockComment:Qt.blockComment,Number:Qt.number,String:Qt.string,Escape:Qt.escape,ArithOp:Qt.arithmeticOperator,LogicOp:Qt.logicOperator,BitOp:Qt.bitwiseOperator,CompareOp:Qt.compareOperator,RegExp:Qt.regexp,Equals:Qt.definitionOperator,Arrow:Qt.function(Qt.punctuation),": Spread":Qt.punctuation,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace,"InterpolationStart InterpolationEnd":Qt.special(Qt.brace),".":Qt.derefOperator,", ;":Qt.separator,"@":Qt.meta,TypeName:Qt.typeName,TypeDefinition:Qt.definition(Qt.typeName),"type enum interface implements namespace module declare":Qt.definitionKeyword,"abstract global Privacy readonly override":Qt.modifier,"is keyof unique infer":Qt.operatorKeyword,JSXAttributeValue:Qt.attributeValue,JSXText:Qt.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Qt.angleBracket,"JSXIdentifier JSXNameSpacedName":Qt.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Qt.attributeName,"JSXBuiltin/JSXIdentifier":Qt.standard(Qt.tagName)}),Q9e={__proto__:null,export:16,as:21,from:29,default:32,async:37,function:38,extends:48,this:52,true:60,false:60,null:72,void:76,typeof:80,super:98,new:132,delete:148,yield:157,await:161,class:166,public:223,private:223,protected:223,readonly:225,instanceof:244,satisfies:247,in:248,const:250,import:282,keyof:337,unique:341,infer:347,is:383,abstract:403,implements:405,type:407,let:410,var:412,using:415,interface:421,enum:425,namespace:431,module:433,declare:437,global:441,for:460,of:469,while:472,with:476,do:480,if:484,else:486,switch:490,case:496,try:502,catch:506,finally:510,return:514,throw:518,break:522,continue:526,debugger:530},F9e={__proto__:null,async:119,get:121,set:123,declare:183,public:185,private:185,protected:185,static:187,abstract:189,override:191,readonly:197,accessor:199,new:387},V9e={__proto__:null,"<":139},z9e=RS.deserialize({version:14,states:"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AfQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AnQSO,5=sO!AsQSO,5=sO!AxQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BWQWO,5=`O!B`Q,UO,5=aO!BkQSO,5=cO!BpQ`O,5=fO!BxQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!B}QSO'#HRO9{Q,UO'#HTO!CSQSO'#HTOOQQ,5=i,5=iO!CXQSO'#HUO!CjQSO'#CmO!CoQSO,58}O!CyQSO,58}O!FOQUO,58}OOQQ,58},58}O!F`Q(C[O,58}O%[QUO,58}O!HkQUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!IRQSO,5=uO`QUO,5={O`QUO,5=}O!IWQSO,5>PO`QUO,5>RO!I]QSO,5>UO!IbQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!MlQSO,5>fOOQQ,5>h,5>hO!MlQSO,5>hOOQQ,5>j,5>jO!MqQWO'#DYO%[QUO'#JiO!N`QWO'#JiO!N}QWO'#DhO# `QWO'#DhO##qQUO'#DhO##xQSO'#JhO#$QQSO,5:RO#$VQSO'#EnO#$eQSO'#JvO#$mQSO,5;XO#$rQWO'#DhO#%PQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#%WQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%`QSO,5@TO#%eQ!LQO,5:pOOQO-E<_-E<_O#&kQ(C`O,5:{OChQWO,5:oO#&uQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#'SQ(C[O,5:{O#'_Q(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'mQ(C[O,5:{POOO'#IU'#IUP#(RO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(^Q`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(cQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(mQUO'#I[OOQO-E<Y-E<YO#(zQSO,5@RO#)SQbO,5@RO#)ZQSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)cQSO'#IbOOQO-E<`-E<`O#)ZQSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)wQ(C[O,5@^O#*YQ(C[O,5@^O#*aQSO,5@]O9TQSO,5@]O#*iQSO,5@]O#*wQSO'#IeO#*aQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+iQSO,5:tO#+qQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#,PQ(CjO1G0oO#-UQ(ChO,5;POOQ(CY'#GQ'#GQO#-rQ(CjO'#J`O!$ZQUO1G0oO#/zQ,UO'#JjO#0UQSO,5:]O#0ZQbO'#JkO%[QUO'#JkO#0eQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0jQSO1G0xO#3RQ(CjO1G0yO#3YQ(CjO1G0yO#5sQ(CjO1G0yO#5zQ(CjO1G0yO#8UQ(CjO1G0yO#8lQ(CjO1G0yO#;fQ(CjO1G0yO#;mQ(CjO1G0yO#>WQ(CjO1G0yO#>_Q(CjO1G0yO#@VQ(CjO1G0yO#CVQ$IUO'#CgO#ETQ$IUO1G1[O#E[Q$IUO'#JfO!,YQSO1G1bO#ElQ(CjO,5?SOOQ(CW-E<f-E<fO#F`Q(CjO1G0yOOQ(CY1G0y1G0yO#HkQ(CjO1G1_O#I_Q#tO,5<SO#IgQ#tO,5<TO#IoQ#tO'#FkO#JWQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#J]Q#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JnQ$IUO'#JeO#JxQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#J}QWO'#JyOOQ(CY,5<`,5<`O#KVQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#K[O07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KgQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KnQ`O'#CpO#LRQ`O,5<mO#LYQSO'#J}O9ZQSO'#J}O#LhQSO,5<oO!'vQ,UO,5<nO#LmQSO'#GTO#LxQSO,5<nO#L}Q`O'#GQO#M[Q`O'#KOO#MfQSO'#KOO!&^Q,UO'#KOO#MkQSO,5<rO#MpQWO'#G]O!3{QWO'#G]O#NRQSO'#G_O#NWQSO'#GaO!2|QSO'#GdO#N]Q(C[O'#IlO#NhQWO,5<vOOQ(CY,5<v,5<vO#NoQWO'#G]O#N}QWO'#G^O$ VQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ [QSO'#ImO$ gQSO,5?xO$ oQSO,59^O$!`Q,UO,59oOOQ(CY,59o,59oO$#RQ,UO,5<eO$#tQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$$OQSO,5<pO$$TQ,UO,5<uO$$eQSO'#JqO!$ZQUO1G1|O$$jQSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$oQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&tQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'eQSO1G2rO$'pQ,UO'#EeOOQ(CW,5?v,5?vO$'zQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(]QSO1G0oO$(bQSO'#CgO$(mQSO'#KWO$(uQSO,5=tO$(zQSO'#KWO$)PQSO'#KWO$)_QSO'#IuO$)mQSO,5@qO$)uQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)|QSO1G3_O$*RQSO1G3_OOQQ1G3_1G3_O!BkQSO1G2}O!&^Q,UO1G2zO$*WQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$*]QSO1G2{O$*eQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BpQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*mQ,UO,5=mO9ZQSO,5=mO#NWQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*{QSO'#KUO$+WQSO,5=pOOQQ1G.i1G.iO$+]Q(C[O1G.iO@[QSO1G.iO$+hQSO1G.iO9eQ(C[O1G.iO$-mQbO,5@sO$-}QSO,5@sO9TQSO,5@sO$.YQUO,5=wO$.aQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.fQUO1G3mO$2jQUO'#HlOOQQ1G3p1G3pO$2wQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$3PQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$7WQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$7]Q$IUO,5:SOOQO,5;Y,5;YO$7gQWO'#I]O$7}QSO,5@SOOQ(CY1G/m1G/mO$8VQWO'#IcO$8aQSO,5@bOOQ(CW1G0s1G0sO# `QWO,5:SOOQO'#I`'#I`O$8iQWO,5:nOOQ(CY,5:n,5:nO#%ZQSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8pQ(C[O1G0gO$8{Q(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$9ZQ(C[O1G0gOOQO1G0Z1G0ZO$9oQ(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9yQ`O,5<dO$:RQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$:]QSO1G5mO$:eQSO1G5zO$:mQbO1G5{O9TQSO,5>|O$:wQ(CjO1G5xO%[QUO1G5xO$;XQ(C[O1G5xO$;jQSO1G5wO$;jQSO1G5wO9TQSO1G5wO$;rQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$<WQSO,5?PO$$eQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<fQSO7+(^O$<qQ,UO7+(^O$=PQ(CjO,59oO$?XQ(CjO,5<eO$AdQ(CjO,5<gO$CoQ(CjO,5<uOOQ(CY7+&Z7+&ZO$FQQ(CjO7+&ZO$FtQ,UO'#I^O$GOQSO,5@UOOQ(CY1G/w1G/wO$GWQUO'#I_O$GeQSO,5@VO$GmQbO,5@VOOQ(CY1G/|1G/|O$GwQSO7+&dOOQ(CY7+&d7+&dO$G|Q$IUO,5:cO%[QUO7+&vO$HWQ$IUO,5:ZO$HeQ$IUO,5:gO$HoQ$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HyQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$IUQSO1G1xOOQ(CY1G1z1G1zO$IZQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IbQ(CjO7+'gOOQ(CY,5?U,5?UO$JUQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JtQ,UO1G2lO$KgQ,UO1G2nO$KqQ`O1G2pOOQ(CY1G2X1G2XO$KxQSO'#IiO$LWQSO,5@iO$LWQSO,5@iO$L`QSO,5@iO$LkQSO,5@iOOQO1G2Z1G2ZO$LyQ,UO1G2YO!'vQ,UO1G2YO$MZQMhO'#IkO$MkQSO,5@jO!&^Q,UO,5@jO$MsQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$eQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$M}QSO,5<yOOQ(CW,5<{,5<{O$$eQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$NVQSO,5<xO#NRQSO,5<yO!3{QWO,5<xO$NbQ,UO1G5eO$NlQ,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NyQSO1G2TO!'vQ,UO1G2[O% OQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% rQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% wQ`O'#KPO#%ZQSO7+(^O%!RQbO7+(^O$<iQSO7+(^O%!YQ(ChO'#CgO%!mQ(ChO,5<|O%#_QSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#dQSO'#ItO%#{QSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#{QSO,5@rO%$TQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%$YQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%$_Q(ChO7+(fO!&^Q,UO7+(fO%$iQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$pQSO'#KTO%${QSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%&[QWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&cQSO1G3XO%&nQ,UO1G3XO9eQ(C[O1G3ZO#NWQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&|QSO'#IsO%'bQSO,5@pO%'jQWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'uQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'zQ(C[O1G6_O%(UQUO1G3cO%(]QSO1G3cO%(bQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%(iQUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(vQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%({QWO1G5oO%)aQ$IUO1G0tO%)kQSO1G0tOOQO1G/n1G/nO%)vQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#%ZQSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9oQ(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%*QQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%*]Q(C[O7+&RO%*kQ(CjO7++dO%[QUO7++dO%*{QSO7++cO%*{QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%+TQSO1G4kOOQO7+%z7+%zO#%ZQSO<<KxO%!RQbO<<KxO%+cQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+kQSO<<KxO%+vQ(CjO1G2lO%.RQ(CjO1G2nO%0^Q(CjO1G2YO%2oQ,UO,5>xOOQO-E<[-E<[O%2yQbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%3TQSO1G5qOOQ(CY<<JO<<JOO%3]Q$IUO1G0oO%5gQ$IUO1G0yO%5nQ$IUO1G0yO%7rQ$IUO1G0yO%7yQ$IUO1G0yO%9nQ$IUO1G0yO%:UQ$IUO1G0yO%<iQ$IUO1G0yO%<pQ$IUO1G0yO%>tQ$IUO1G0yO%>{Q$IUO1G0yO%@sQ$IUO1G0yO%AWQ(CjO<<JbO%B]Q$IUO1G0yO%DRQ$IUO'#J`O%FUQ$IUO1G1_O%FcQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FmQSO1G1pO%FrQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%F|QSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%G[QSO1G6TO%G[QSO1G6TO%GdQSO1G6TO%GoQ,UO7+'tO%HPQ`O,5?VO%HZQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%H`Q`O1G6UO%HjQSO1G6UOOQ(CW1G2d1G2dO$$eQSO1G2dOOQ(CW1G2c1G2cO%HrQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%HwQSO1G2eO%IPQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%I[QSO1G/]OOQ(CY7+'o7+'oO%IaQ,UO7+'vO%IqQ(CjO<<KSOOQ(CY<<KS<<KSO%JeQSO1G0tO!&^Q,UO'#InO%JjQSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JrQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%KfQSO,5?`O%KkQSO,5?`OOQO-E<r-E<rO%KyQSO1G6^O%KyQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%LRQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%$_Q(ChO<<LQOOQQ<<LR<<LRO%$iQ`O<<LRO%LWQWO'#IpO%LcQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%LkQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%LuQWO,5=nOOQQ,5=n,5=nO%L|QWO'#EaO%MbQSO7+(sO%MgQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%MoQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#NWQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MzQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%NVQSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%N_QSO7++yO%NdQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%NiQSO7+(}O%NnQUO7+(}O%NuQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NzQSO,5>XOOQQ,5>Z,5>ZO& PQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO& UQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9oQ(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO& `Q(C[O<<ImO& kQ(CjO<= OO& {QSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO&!TQSOANAdO!&^Q,UOANAdO#%ZQSOANAdO%!RQbOANAdO%[QUOANAdO&!]Q(CjO7+'tO&$nQ(CjO7+'vO&'PQbO1G4eO&'ZQ$IUO7+&ZO&'hQ$IUO,59oO&)kQ$IUO,5<eO&+nQ$IUO,5<gO&-qQ$IUO,5<uO&/gQ$IUO7+'gO&/tQ$IUO7+'hO&0RQSO,5<XOOQO7+'[7+'[O&0WQ,UO<<KvOOQO1G4o1G4oO&0_QSO1G4oO&0jQSO1G4oO&0xQSO7++oO&0xQSO7++oO!&^Q,UO1G4qO&1QQ`O1G4qO&1[QSO7++pOOQ(CW7+(O7+(OO$$eQSO7+(PO&1dQ`O7+(POOQ(CW7+'}7+'}O$$eQSO7+(OO&1kQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&1pQ,UO<<NkOOQ(CY7+$w7+$wO&1zQ`O,5?YOOQO-E<l-E<lO&2UQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&2fQSO1G4zO&2kQSO7++xO&2kQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&2sQSO,5?[OOQO-E<n-E<nO&3OQ$IUO1G6ZO&5`QbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%LkQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%MbQSO<<L_O&5jQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#NWQSO<<LaO9OQSO<<LaO&5rQWO1G4yO&5}QSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&6VQSO<= eO&6[QSO<= fOOQQ<<Li<<LiO&6aQSO<<LiO&6fQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&6mQSO<<IzO&6xQ$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9oQ(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#%ZQSOG27OO&7SQSOG27OO%!RQbOG27OO&7[Q$IUO<<JbO&7iQ$IUO1G2YO&9_Q$IUO1G2lO&;bQ$IUO1G2nO&=eQ$IUO<<KSO&=rQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&>PQSO7+*ZO&>[QSO<= ZO&>dQ`O7+*]OOQ(CW<<Kk<<KkO$$eQSO<<KkOOQ(CW<<Kj<<KjO&>nQ`O<<KkO$$eQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&>uQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>}QSO7++uO%MbQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&?VQSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#NWQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&?_QSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9oQ(CjOG24sO#%ZQSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&?dQSOLD,jO&?lQ$IUO7+'tO&AbQ$IUO7+'vO&CWQ,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$eQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&ChQ$IUO7+*bOOQQG27eG27eO%MbQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&CrQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#%ZQSO!$(!UO!&^Q,UO!$(!UO&C|Q(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%MbQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#%ZQSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&F_Q$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&HTQbO'#JeO!*SQUO'#DoO&H[QUO'#D{O&HcQbO'#CgO&JyQbO'#CgO!*SQUO'#D}O&KZQUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&M^QSO,5<dO&MfQ,UO,5;_O&NyQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&MfQ,UO'#FyO!&^Q,UO'#F{O&MfQ,UO'#F{O!&^Q,UO'#GZO&MfQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&KZQUO1G0oO' QQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&MfQ,UO,5=QO!&^Q,UO,5=SO&MfQ,UO,5=SO!&^Q,UO,5<nO&MfQ,UO,5<nO&KZQUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&MfQ,UO1G2YO!&^Q,UO1G2[O&MfQ,UO1G2[O&KZQUO7+'hO&KZQUO7+&ZO!&^Q,UOANAbO&MfQ,UOANAbO' [QSO'#EiO' aQSO'#EiO' iQSO'#FXO' nQSO'#EsO' sQSO'#JuO'!OQSO'#JsO'!ZQSO,5;TO'!`Q,UO,5<aO'!gQSO'#GSO'!lQSO'#GSO'!qQSO,5<bO'!yQSO,5;TO'#RQ$IUO1G1[O'#YQSO,5<nO'#_QSO,5<nO'#dQSO,5<pO'#iQSO,5<pO'#nQSO1G1|O'#sQSO1G0oO'#xQ,UO<<KvO'$PQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KqQ`O1G2pO$KqQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U",stateData:"'%Y~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O`+eO%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O`,TO'v#mO'xTO'{UO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!DRO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!FkO!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# qO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# `O!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)wO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,sO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0oO#h$OO~P#0oOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3aOl$QO~P#3aOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#6ROY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#6ROP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#9SO(k#|O~P#9SOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;tO(l#}O~P#;tOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>fOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#APOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#C^O#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,sO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#C^O!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,sO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,sO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ tOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!jOz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#]O#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$zOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O`0gO'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+sO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#C^Om!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ tO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!jO#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#]O#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,sO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#C^O#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,sO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,sOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$J]Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$KOO(d$ZO~P#,sO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,sO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,sO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O`4`O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,sO!Y$|O~P#,sO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%%QOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O`5TO'v#mO'xTO'{UO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#C^O#Y5lO!W#bi!X#bi~O!W![i!X![i~P#C^O_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$J]O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$KOO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,sOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#C^OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%3jO#h9zO~P%3jOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5uOl9|O~P%5uOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%8QOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%8QOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:lO(k#|O~P%:lOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<wO(l#}O~P%<wOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%?SO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%AzO!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#C^O#z!oi!X!oi~P$$zO!X6`O~O!W'[a!X'[a~P#C^O!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,sO!b6gO~O!W/_O!T(ri~P#,sO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O`6zO'v+bO'xTO'{UO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%%QOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#C^O_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,sO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,sO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#C^Oz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%AzO#z$iq!W$iq!X$iq~P#C^O#z$jq!W$jq!X$jq~P#C^O!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,sO!W/_O!T(rq~O!T8_O~P#,sO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,sO_%Uq!Y%Uq'm%Uq!W%Uq~P#,sOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#C^OPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&3YO!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#C^O!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#C^OP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%AzOz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#C^O#z#]y!W#]y!X#]y~P#C^O!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,sO!T9VO~P#,sO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%AzOP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%AzOe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#C^O!W#b!Z!X#b!Z~P#C^O#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,sOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%AzOp(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&3YOPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&HpOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&MfO!XZX!XdX~P&HpO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#C^O#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~",goto:"$'X)OPPPP)PPP)SP)eP*t.xPPPP5`PP5vP;r>yP?^P?^PPP?^PAOP?^P?^P?^PASPPAXPArPFjPPPFnPPPPFnIoPPPIuJpPFnPMOPPPP! ^FnPPPFnPFnP!#lFnP!'Q!(S!(]P!)P!)T!)PPPPPP!,`!(SPP!,|!-vP!0jFnFn!0o!3y!8`!8`!<UPPP!<]FnPPPPPPPPPPP!?jP!@{PPFn!BYPFnPFnFnFnFnPFn!ClPP!FtP!IxP!I|!JW!J[!J[P!FqP!J`!J`P!MdP!MhFnFn!Mn#!q?^P?^P?^?^P##|?^?^#%x?^#(X?^#)}?^?^#*l#,j#,j#,n#,v#,j#-OP#,jP?^#-h?^#.q?^?^5`PPP#/}PPP#0h#0hP#0hP#1O#0hPP#1UP#0{P#0{#1i#0{#2T#2Z5])S#2^)SP#2e#2e#2eP)SP)SP)SP)SPP)SP#2k#2nP#2n)SP#2rP#2uP)SP)SP)SP)SP)SP)S)SPP#2{#3R#3^#3d#3j#3p#3v#4U#4[#4b#4l#4r#4|#5]#5c#6T#6g#6m#6s#7R#7h#8y#9X#9_#9e#9k#9q#9{#:R#:X#:c#:u#:{PPPPPPPPPP#;RPPPPPPP#;v#>}P#@^#@e#@mPPPP#D{#Gr#NZ#N^#Na$ Y$ ]$ `$ g$ oPP$ u$ y$!q$#p$#t$$YPP$$^$$d$$hP$$k$$o$$r$%h$&P$&h$&l$&o$&r$&x$&{$'P$'TR!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ,T&^Q/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5T1VQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j",nodeNames:" ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:367,context:$9e,nodeProps:[["group",-26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,"Statement",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,"Expression",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,"Type",-3,85,97,103,"ClassItem"],["openedBy",32,"InterpolationStart",51,"[",55,"{",70,"(",144,"JSXStartTag",156,"JSXStartTag JSXStartCloseTag"],["closedBy",34,"InterpolationEnd",45,"]",56,"}",71,")",145,"JSXSelfCloseEndTag JSXEndTag",161,"JSXEndTag"]],propSources:[B9e],skippedNodes:[0,3,4,270],repeatNodeCount:33,tokenData:"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[I9e,N9e,2,3,4,5,6,7,8,9,10,11,12,13,L9e,new NH("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~",141,328),new NH("j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~",25,310)],topRules:{Script:[0,5],SingleExpression:[1,268],SingleClassItem:[2,269]},dialects:{jsx:12842,ts:12844},dynamicPrecedences:{67:1,77:1,79:1,164:1,192:1},specialized:[{term:314,get:t=>Q9e[t]||-1},{term:330,get:t=>F9e[t]||-1},{term:68,get:t=>V9e[t]||-1}],tokenPrec:12868}),yxe=[pc("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),pc("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),pc("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),pc("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),pc("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),pc(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),pc("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),pc(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),pc(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),pc('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),pc('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Z9e=yxe.concat([pc("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),pc("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),pc("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),vge=new wie,bxe=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function ED(t){return(e,r)=>{let a=e.node.getChild("VariableDefinition");return a&&r(a,t),!0}}const H9e=["FunctionDeclaration"],U9e={FunctionDeclaration:ED("function"),ClassDeclaration:ED("class"),ClassExpression:()=>!0,EnumDeclaration:ED("constant"),TypeAliasDeclaration:ED("type"),NamespaceDeclaration:ED("namespace"),VariableDefinition(t,e){t.matchContext(H9e)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function Oxe(t,e){let r=vge.get(e);if(r)return r;let a=[],i=!0;function d(f,h){let c=t.sliceString(f.from,f.to);a.push({label:c,type:h})}return e.cursor(yl.IncludeAnonymous).iterate(f=>{if(i)i=!1;else if(f.name){let h=U9e[f.name];if(h&&h(f,d)||bxe.has(f.name))return!1}else if(f.to-f.from>8192){for(let h of Oxe(t,f.node))a.push(h);return!1}}),vge.set(e,a),a}const yge=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,xxe=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function W9e(t){let e=ol(t.state).resolveInner(t.pos,-1);if(xxe.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&yge.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let a=[];for(let i=e;i;i=i.parent)bxe.has(i.name)&&(a=a.concat(Oxe(t.state.doc,i)));return{options:a,from:r?e.from:t.pos,validFor:yge}}const ry=ES.define({name:"javascript",parser:z9e.configure({props:[H3.add({IfStatement:GD({except:/^\s*({|else\b)/}),TryStatement:GD({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:XAe,SwitchBody:t=>{let e=t.textAfter,r=/^\s*\}/.test(e),a=/^\s*(case|default)\b/.test(e);return t.baseIndent+(r?0:a?1:2)*t.unit},Block:KZ({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":GD({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),BS.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Mie,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Sxe={test:t=>/^JSX/.test(t.name),facet:Cie({commentTokens:{block:{open:"{/*",close:"*/}"}}})},wxe=ry.configure({dialect:"ts"},"typescript"),Txe=ry.configure({dialect:"jsx",props:[kie.add(t=>t.isTop?[Sxe]:void 0)]}),Cxe=ry.configure({dialect:"jsx ts",props:[kie.add(t=>t.isTop?[Sxe]:void 0)]},"typescript");let kxe=t=>({label:t,type:"keyword"});const Axe="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kxe),Y9e=Axe.concat(["declare","implements","private","protected","public"].map(kxe));function X9e(t={}){let e=t.jsx?t.typescript?Cxe:Txe:t.typescript?wxe:ry,r=t.typescript?Z9e.concat(Y9e):yxe.concat(Axe);return new B3(e,[ry.data.of({autocomplete:Qie(xxe,LU(r))}),ry.data.of({autocomplete:W9e}),t.jsx?q9e:[]])}function G9e(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function bge(t,e,r=t.length){for(let a=e==null?void 0:e.firstChild;a;a=a.nextSibling)if(a.name=="JSXIdentifier"||a.name=="JSXBuiltin"||a.name=="JSXNamespacedName"||a.name=="JSXMemberExpression")return t.sliceString(a.from,Math.min(a.to,r));return""}const j9e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),q9e=Xo.inputHandler.of((t,e,r,a,i)=>{if((j9e?t.composing:t.compositionStarted)||t.state.readOnly||e!=r||a!=">"&&a!="/"||!ry.isActiveAt(t.state,e,-1))return!1;let d=i(),{state:f}=d,h=f.changeByRange(c=>{var g;let{head:v}=c,y=ol(f).resolveInner(v-1,-1),b;if(y.name=="JSXStartTag"&&(y=y.parent),!(f.doc.sliceString(v-1,v)!=a||y.name=="JSXAttributeValue"&&y.to>v)){if(a==">"&&y.name=="JSXFragmentTag")return{range:c,changes:{from:v,insert:"</>"}};if(a=="/"&&y.name=="JSXStartCloseTag"){let O=y.parent,C=O.parent;if(C&&O.from==v-2&&((b=bge(f.doc,C.firstChild,v))||((g=C.firstChild)===null||g===void 0?void 0:g.name)=="JSXFragmentTag")){let k=`${b}>`;return{range:Tr.cursor(v+k.length,-1),changes:{from:v,insert:k}}}}else if(a==">"){let O=G9e(y);if(O&&!/^\/?>|^<\//.test(f.doc.sliceString(v,v+2))&&(b=bge(f.doc,O,v)))return{range:c,changes:{from:v,insert:`</${b}>`}}}}return{range:c}});return h.changes.empty?!1:(t.dispatch([d,f.update(h,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),_D=["_blank","_self","_top","_parent"],koe=["ascii","utf-8","utf-16","latin1","latin1"],Aoe=["get","post","put","delete"],Poe=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],ag=["true","false"],vs={},K9e={a:{attrs:{href:null,ping:null,type:null,media:null,target:_D,hreflang:null}},abbr:vs,address:vs,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:vs,aside:vs,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:vs,base:{attrs:{href:null,target:_D}},bdi:vs,bdo:vs,blockquote:{attrs:{cite:null}},body:vs,br:vs,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Poe,formmethod:Aoe,formnovalidate:["novalidate"],formtarget:_D,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:vs,center:vs,cite:vs,code:vs,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:vs,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:vs,div:vs,dl:vs,dt:vs,em:vs,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:vs,figure:vs,footer:vs,form:{attrs:{action:null,name:null,"accept-charset":koe,autocomplete:["on","off"],enctype:Poe,method:Aoe,novalidate:["novalidate"],target:_D}},h1:vs,h2:vs,h3:vs,h4:vs,h5:vs,h6:vs,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:vs,hgroup:vs,hr:vs,html:{attrs:{manifest:null}},i:vs,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Poe,formmethod:Aoe,formnovalidate:["novalidate"],formtarget:_D,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:vs,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:vs,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:vs,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:koe,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:vs,noscript:vs,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:vs,param:{attrs:{name:null,value:null}},pre:vs,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:vs,rt:vs,ruby:vs,samp:vs,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:koe}},section:vs,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:vs,source:{attrs:{src:null,type:null,media:null}},span:vs,strong:vs,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:vs,summary:vs,sup:vs,table:vs,tbody:vs,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:vs,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:vs,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:vs,time:{attrs:{datetime:null}},title:vs,tr:vs,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:vs,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:vs},Pxe={accesskey:null,class:null,contenteditable:ag,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:ag,autocorrect:ag,autocapitalize:ag,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":ag,"aria-autocomplete":["inline","list","both","none"],"aria-busy":ag,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":ag,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":ag,"aria-hidden":ag,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":ag,"aria-multiselectable":ag,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":ag,"aria-relevant":null,"aria-required":ag,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Mxe="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of Mxe)Pxe[t]=null;class Q${constructor(e,r){this.tags=Object.assign(Object.assign({},K9e),e),this.globalAttrs=Object.assign(Object.assign({},Pxe),r),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Q$.default=new Q$;function CM(t,e,r=t.length){if(!e)return"";let a=e.firstChild,i=a&&a.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,r)):""}function kM(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function Exe(t,e,r){let a=r.tags[CM(t,kM(e))];return(a==null?void 0:a.children)||r.allTags}function Ule(t,e){let r=[];for(let a=kM(e);a&&!a.type.isTop;a=kM(a.parent)){let i=CM(t,a);if(i&&a.lastChild.name=="CloseTag")break;i&&r.indexOf(i)<0&&(e.name=="EndTag"||e.from>=a.firstChild.to)&&r.push(i)}return r}const _xe=/^[:\-\.\w\u00b7-\uffff]*$/;function Oge(t,e,r,a,i){let d=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",f=kM(r,!0);return{from:a,to:i,options:Exe(t.doc,f,e).map(h=>({label:h,type:"type"})).concat(Ule(t.doc,r).map((h,c)=>({label:"/"+h,apply:"/"+h+d,type:"type",boost:99-c}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function xge(t,e,r,a){let i=/\s*>/.test(t.sliceDoc(a,a+5))?"":">";return{from:r,to:a,options:Ule(t.doc,e).map((d,f)=>({label:d,apply:d+i,type:"type",boost:99-f})),validFor:_xe}}function J9e(t,e,r,a){let i=[],d=0;for(let f of Exe(t.doc,r,e))i.push({label:"<"+f,type:"type"});for(let f of Ule(t.doc,r))i.push({label:"</"+f+">",type:"type",boost:99-d++});return{from:a,to:a,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function eLe(t,e,r,a,i){let d=kM(r),f=d?e.tags[CM(t.doc,d)]:null,h=f&&f.attrs?Object.keys(f.attrs):[],c=f&&f.globalAttrs===!1?h:h.length?h.concat(e.globalAttrNames):e.globalAttrNames;return{from:a,to:i,options:c.map(g=>({label:g,type:"property"})),validFor:_xe}}function tLe(t,e,r,a,i){var d;let f=(d=r.parent)===null||d===void 0?void 0:d.getChild("AttributeName"),h=[],c;if(f){let g=t.sliceDoc(f.from,f.to),v=e.globalAttrs[g];if(!v){let y=kM(r),b=y?e.tags[CM(t.doc,y)]:null;v=(b==null?void 0:b.attrs)&&b.attrs[g]}if(v){let y=t.sliceDoc(a,i).toLowerCase(),b='"',O='"';/^['"]/.test(y)?(c=y[0]=='"'?/^[^"]*$/:/^[^']*$/,b="",O=t.sliceDoc(i,i+1)==y[0]?"":y[0],y=y.slice(1),a++):c=/^[^\s<>='"]*$/;for(let C of v)h.push({label:C,apply:b+C+O,type:"constant"})}}return{from:a,to:i,options:h,validFor:c}}function Rxe(t,e){let{state:r,pos:a}=e,i=ol(r).resolveInner(a,-1),d=i.resolve(a);for(let f=a,h;d==i&&(h=i.childBefore(f));){let c=h.lastChild;if(!c||!c.type.isError||c.from<c.to)break;d=i=h,f=c.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?xge(r,i,i.from,a):Oge(r,t,i,i.from,a):i.name=="StartTag"?Oge(r,t,i,a,a):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?xge(r,i,a,a):e.explicit&&(i.name=="OpenTag"||i.name=="SelfClosingTag")||i.name=="AttributeName"?eLe(r,t,i,i.name=="AttributeName"?i.from:a,a):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?tLe(r,t,i,i.name=="Is"?a:i.from,a):e.explicit&&(d.name=="Element"||d.name=="Text"||d.name=="Document")?J9e(r,t,i,a):null}function nLe(t){return Rxe(Q$.default,t)}function rLe(t){let{extraTags:e,extraGlobalAttributes:r}=t,a=r||e?new Q$(e,r):Q$.default;return i=>Rxe(a,i)}const oLe=ry.parser.configure({top:"SingleExpression"}),Dxe=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:wxe.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:Txe.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:Cxe.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:oLe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:ry.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:oU.parser}],$xe=[{name:"style",parser:oU.parser.configure({top:"Styles"})}].concat(Mxe.map(t=>({name:t,parser:ry.parser}))),Lxe=ES.define({name:"html",parser:W$e.configure({props:[H3.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,r;for(let a=t.node;;){let i=a.lastChild;if(!i||i.name!="Element"||i.to!=a.to)break;e=a=i}return e&&!((r=e.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),BS.add({Element(t){let e=t.firstChild,r=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:r.name=="CloseTag"?r.from:t.to}}}),r1e.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),sH=Lxe.configure({wrap:hxe(Dxe,$xe)});function sLe(t={}){let e="",r;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(r=hxe((t.nestedLanguages||[]).concat(Dxe),(t.nestedAttributes||[]).concat($xe)));let a=r?Lxe.configure({wrap:r,dialect:e}):e?sH.configure({dialect:e}):sH;return new B3(a,[sH.data.of({autocomplete:rLe(t)}),t.autoCloseTags!==!1?aLe:[],X9e().support,x9e().support])}const Sge=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),aLe=Xo.inputHandler.of((t,e,r,a,i)=>{if(t.composing||t.state.readOnly||e!=r||a!=">"&&a!="/"||!sH.isActiveAt(t.state,e,-1))return!1;let d=i(),{state:f}=d,h=f.changeByRange(c=>{var g,v,y;let b=f.doc.sliceString(c.from-1,c.to)==a,{head:O}=c,C=ol(f).resolveInner(O-1,-1),k;if((C.name=="TagName"||C.name=="StartTag")&&(C=C.parent),b&&a==">"&&C.name=="OpenTag"){if(((v=(g=C.parent)===null||g===void 0?void 0:g.lastChild)===null||v===void 0?void 0:v.name)!="CloseTag"&&(k=CM(f.doc,C.parent,O))&&!Sge.has(k)){let w=O+(f.doc.sliceString(O,O+1)===">"?1:0),T=`</${k}>`;return{range:c,changes:{from:O,to:w,insert:T}}}}else if(b&&a=="/"&&C.name=="IncompleteCloseTag"){let w=C.parent;if(C.from==O-2&&((y=w.lastChild)===null||y===void 0?void 0:y.name)!="CloseTag"&&(k=CM(f.doc,w,O))&&!Sge.has(k)){let T=O+(f.doc.sliceString(O,O+1)===">"?1:0),R=`${k}>`;return{range:Tr.cursor(O+R.length,-1),changes:{from:O,to:T,insert:R}}}}return{range:c}});return h.changes.empty?!1:(t.dispatch([d,f.update(h,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Ixe=Cie({commentTokens:{block:{open:"<!--",close:"-->"}}}),Nxe=new ua,Bxe=GDe.configure({props:[BS.add(t=>!t.is("Block")||t.is("Document")||Oae(t)!=null?void 0:(e,r)=>({from:r.doc.lineAt(e.from).to,to:e.to})),Nxe.add(Oae),H3.add({Document:()=>null}),E3.add({Document:Ixe})]});function Oae(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function iLe(t,e){let r=t;for(;;){let a=r.nextSibling,i;if(!a||(i=Oae(a.type))!=null&&i<=e)break;r=a}return r.to}const lLe=U0e.of((t,e,r)=>{for(let a=ol(t).resolveInner(r,-1);a&&!(a.from<e);a=a.parent){let i=a.type.prop(Nxe);if(i==null)continue;let d=iLe(a,i);if(d>r)return{from:r,to:d}}return null});function Wle(t){return new xp(Ixe,t,[lLe],"markdown")}const cLe=Wle(Bxe),uLe=Bxe.configure([a$e,l$e,i$e,c$e,{props:[BS.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),Qxe=Wle(uLe);function fLe(t,e){return r=>{if(r&&t){let a=null;if(r=/\S*/.exec(r)[0],typeof t=="function"?a=t(r):a=wH.matchLanguageName(t,r,!0),a instanceof wH)return a.support?a.support.language.parser:S$.getSkippingParser(a.load());if(a)return a.parser}return e?e.parser:null}}class LZ{constructor(e,r,a,i,d,f,h){this.node=e,this.from=r,this.to=a,this.spaceBefore=i,this.spaceAfter=d,this.type=f,this.item=h}blank(e,r=!0){let a=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;a.length<e;)a+=" ";return a}else{for(let i=this.to-this.from-a.length-this.spaceAfter.length;i>0;i--)a+=" ";return a+(r?this.spaceAfter:"")}}marker(e,r){let a=this.node.name=="OrderedList"?String(+Vxe(this.item,e)[2]+r):"";return this.spaceBefore+a+this.type+this.spaceAfter}}function Fxe(t,e){let r=[];for(let i=t;i&&i.name!="Document";i=i.parent)(i.name=="ListItem"||i.name=="Blockquote"||i.name=="FencedCode")&&r.push(i);let a=[];for(let i=r.length-1;i>=0;i--){let d=r[i],f,h=e.lineAt(d.from),c=d.from-h.from;if(d.name=="FencedCode")a.push(new LZ(d,c,c,"","","",null));else if(d.name=="Blockquote"&&(f=/^ *>( ?)/.exec(h.text.slice(c))))a.push(new LZ(d,c,c+f[0].length,"",f[1],">",null));else if(d.name=="ListItem"&&d.parent.name=="OrderedList"&&(f=/^( *)\d+([.)])( *)/.exec(h.text.slice(c)))){let g=f[3],v=f[0].length;g.length>=4&&(g=g.slice(0,g.length-4),v-=4),a.push(new LZ(d.parent,c,c+v,f[1],g,f[2],d))}else if(d.name=="ListItem"&&d.parent.name=="BulletList"&&(f=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(h.text.slice(c)))){let g=f[4],v=f[0].length;g.length>4&&(g=g.slice(0,g.length-4),v-=4);let y=f[2];f[3]&&(y+=f[3].replace(/[xX]/," ")),a.push(new LZ(d.parent,c,c+v,f[1],g,y,d))}}return a}function Vxe(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function Moe(t,e,r,a=0){for(let i=-1,d=t;;){if(d.name=="ListItem"){let h=Vxe(d,e),c=+h[2];if(i>=0){if(c!=i+1)return;r.push({from:d.from+h[1].length,to:d.from+h[0].length,insert:String(i+2+a)})}i=c}let f=d.nextSibling;if(!f)break;d=f}}function xae(t,e){let r=/^[ \t]*/.exec(t)[0].length;if(!r||e.facet(_M)!="	")return t;let a=Zv(t,4,r),i="";for(let d=a;d>0;)d>=4?(i+="	",d-=4):(i+=" ",d--);return i+t.slice(r)}const dLe=({state:t,dispatch:e})=>{let r=ol(t),{doc:a}=t,i=null,d=t.changeByRange(f=>{if(!f.empty||!Qxe.isActiveAt(t,f.from))return i={range:f};let h=f.from,c=a.lineAt(h),g=Fxe(r.resolveInner(h,-1),a);for(;g.length&&g[g.length-1].from>h-c.from;)g.pop();if(!g.length)return i={range:f};let v=g[g.length-1];if(v.to-v.spaceAfter.length>h-c.from)return i={range:f};let y=h>=v.to-v.spaceAfter.length&&!/\S/.test(c.text.slice(v.to));if(v.item&&y)if(v.node.firstChild.to>=h||c.from>0&&!/[^\s>]/.test(a.lineAt(c.from-1).text)){let w=g.length>1?g[g.length-2]:null,T,R="";w&&w.item?(T=c.from+w.from,R=w.marker(a,1)):T=c.from+(w?w.to:0);let M=[{from:T,to:h,insert:R}];return v.node.name=="OrderedList"&&Moe(v.item,a,M,-2),w&&w.node.name=="OrderedList"&&Moe(w.item,a,M),{range:Tr.cursor(T+R.length),changes:M}}else{let w="";for(let T=0,R=g.length-2;T<=R;T++)w+=g[T].blank(T<R?Zv(c.text,4,g[T+1].from)-w.length:null,T<R);return w=xae(w,t),{range:Tr.cursor(h+w.length+1),changes:{from:c.from,insert:w+t.lineBreak}}}if(v.node.name=="Blockquote"&&y&&c.from){let w=a.lineAt(c.from-1),T=/>\s*$/.exec(w.text);if(T&&T.index==v.from){let R=t.changes([{from:w.from+T.index,to:w.to},{from:c.from+v.from,to:c.to}]);return{range:f.map(R),changes:R}}}let b=[];v.node.name=="OrderedList"&&Moe(v.item,a,b);let O=v.item&&v.item.from<c.from,C="";if(!O||/^[\s\d.)\-+*>]*/.exec(c.text)[0].length>=v.to)for(let w=0,T=g.length-1;w<=T;w++)C+=w==T&&!O?g[w].marker(a,1):g[w].blank(w<T?Zv(c.text,4,g[w+1].from)-C.length:null);let k=h;for(;k>c.from&&/\s/.test(c.text.charAt(k-c.from-1));)k--;return C=xae(C,t),b.push({from:k,to:h,insert:t.lineBreak+C}),{range:Tr.cursor(k+C.length+1),changes:b}});return i?!1:(e(t.update(d,{scrollIntoView:!0,userEvent:"input"})),!0)};function wge(t){return t.name=="QuoteMark"||t.name=="ListMark"}function hLe(t,e){let r=t.resolveInner(e,-1),a=e;wge(r)&&(a=r.from,r=r.parent);for(let i;i=r.childBefore(a);)if(wge(i))a=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")r=i.lastChild,a=r.to;else break;return r}const mLe=({state:t,dispatch:e})=>{let r=ol(t),a=null,i=t.changeByRange(d=>{let f=d.from,{doc:h}=t;if(d.empty&&Qxe.isActiveAt(t,d.from)){let c=h.lineAt(f),g=Fxe(hLe(r,f),h);if(g.length){let v=g[g.length-1],y=v.to-v.spaceAfter.length+(v.spaceAfter?1:0);if(f-c.from>y&&!/\S/.test(c.text.slice(y,f-c.from)))return{range:Tr.cursor(c.from+y),changes:{from:c.from+y,to:f}};if(f-c.from==y&&(!v.item||c.from<=v.item.from||!/\S/.test(c.text.slice(0,v.to)))){let b=c.from+v.from;if(v.item&&v.node.from<v.item.from&&/\S/.test(c.text.slice(v.from,v.to))){let O=v.blank(Zv(c.text,4,v.to)-Zv(c.text,4,v.from));return b==c.from&&(O=xae(O,t)),{range:Tr.cursor(b+O.length),changes:{from:b,to:c.from+v.to,insert:O}}}if(b<f)return{range:Tr.cursor(b),changes:{from:b,to:f}}}}}return a={range:d}});return a?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},gLe=[{key:"Enter",run:dLe},{key:"Backspace",run:mLe}],Sae=sLe({matchClosingTags:!1});function zxe(t={}){let{codeLanguages:e,defaultCodeLanguage:r,addKeymap:a=!0,base:{parser:i}=cLe,completeHTMLTags:d=!0}=t;if(!(i instanceof nW))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let f=t.extensions?[t.extensions]:[],h=[Sae.support],c;r instanceof B3?(h.push(r.support),c=r.language):r&&(c=r);let g=e||c?fLe(e,c):void 0;f.push(qDe({codeParser:g,htmlParser:Sae.language.parser})),a&&h.push(_p.high(IS.of(gLe)));let v=Wle(i.configure(f));return d&&h.push(v.data.of({autocomplete:pLe})),new B3(v,h)}function pLe(t){let{state:e,pos:r}=t,a=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(r-25,r));if(!a)return null;let i=ol(e).resolveInner(r,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:r-a[0].length,to:r,options:vLe(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let Eoe=null;function vLe(){if(Eoe)return Eoe;let t=nLe(new Bie(Na.create({extensions:Sae}),0,!0));return Eoe=t?t.options:[]}const yLe={components:{codemirror:BU},computed:{extensions(){return[zxe(),pM,F3({override:[]})]},compiledMarkdown(){return Ki.parse(this.cellData.code)}},data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},props:{cellData:{type:Object,required:!0}},methods:{saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)}}};const bLe=Pd("span",{class:"py-0 px-2"},".md",-1),OLe=["innerHTML"];function xLe(t,e,r,a,i,d){const f=Vv("codemirror");return to(),Ia(Go,null,[it(J3,{flat:"",color:"bluegrey"},{default:Vr(()=>[t.$devMode?(to(),ys(am,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:Vr(()=>[it(lm,{cols:11},{default:Vr(()=>[bLe]),_:1}),it(lm,{cols:1,class:"d-flex justify-end align-center py-0"},{default:Vr(()=>[it(Ja,{small:"",class:"mx-1",color:"primary",onClick:d.saveCell},{default:Vr(()=>[Ka(" mdi-content-save ")]),_:1},8,["onClick"]),it(Ja,{small:"",class:"mx-1",color:"error",onClick:d.deleteCell},{default:Vr(()=>[Ka(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):yu("",!0),t.$devMode?(to(),ys(f,{key:1,modelValue:r.cellData.code,"onUpdate:modelValue":e[0]||(e[0]=h=>r.cellData.code=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions,onKeyup:d.saveCell},null,8,["modelValue","extensions","onKeyup"])):yu("",!0),Pd("div",{class:"markdown-content",innerHTML:d.compiledMarkdown},null,8,OLe)]),_:1}),t.$devMode?(to(),ys(ZS,{key:0,transition:"scale-transition"},{activator:Vr(({props:h})=>[it(rc,rs(h,{block:""}),{default:Vr(()=>[it(am,null,{default:Vr(()=>[it(Ja,{color:"primary"},{default:Vr(()=>[Ka("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:Vr(()=>[it(zS,null,{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(i.items,(h,c)=>(to(),ys(pg,{key:c},{default:Vr(()=>[it(rc,{block:"",onClick:g=>d.createCell(h.title)},{default:Vr(()=>[Ka(Cp(h.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):yu("",!0)],64)}const Zxe=Xv(yLe,[["render",xLe]]);var SLe={exports:{}};(function(t){(function(){var e=function(n){if(n===null)return"null";if(n===void 0)return"undefined";var s=typeof n;return s==="object"&&(Array.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="String")?"string":s},r=function(n){return["undefined","boolean","number","string","function","xml","null"].indexOf(n)!==-1},a=function(n,s){var l=Array.prototype.slice.call(n);return l.sort(s)},i=function(n,s){return d(function(l,m){return n.eq(s(l),s(m))})},d=function(n){return{eq:n}},f=d(function(n,s){return n===s}),h=f,c=function(n){return d(function(s,l){if(s.length!==l.length)return!1;for(var m=s.length,x=0;x<m;x++)if(!n.eq(s[x],l[x]))return!1;return!0})},g=function(n,s){return i(c(n),function(l){return a(l,s)})},v=function(n){return d(function(s,l){var m=Object.keys(s),x=Object.keys(l);if(!g(h).eq(m,x))return!1;for(var P=m.length,Z=0;Z<P;Z++){var J=m[Z];if(!n.eq(s[J],l[J]))return!1}return!0})},y=d(function(n,s){if(n===s)return!0;var l=e(n),m=e(s);return l!==m?!1:r(l)?n===s:l==="array"?c(y).eq(n,s):l==="object"?v(y).eq(n,s):!1});const b=Object.getPrototypeOf,O=(n,s,l)=>{var m;return l(n,s.prototype)?!0:((m=n.constructor)===null||m===void 0?void 0:m.name)===s.name},C=n=>{const s=typeof n;return n===null?"null":s==="object"&&Array.isArray(n)?"array":s==="object"&&O(n,String,(l,m)=>m.isPrototypeOf(l))?"string":s},k=n=>s=>C(s)===n,w=n=>s=>typeof s===n,T=n=>s=>n===s,R=(n,s)=>I(n)&&O(n,s,(l,m)=>b(l)===m),M=k("string"),I=k("object"),V=n=>R(n,Object),N=k("array"),Q=T(null),z=w("boolean"),U=T(void 0),F=n=>n==null,B=n=>!F(n),E=w("function"),W=w("number"),X=(n,s)=>{if(N(n)){for(let l=0,m=n.length;l<m;++l)if(!s(n[l]))return!1;return!0}return!1},ie=()=>{},L=(n,s)=>(...l)=>n(s.apply(null,l)),me=(n,s)=>l=>n(s(l)),ae=n=>()=>n,q=n=>n,de=(n,s)=>n===s;function ee(n,...s){return(...l)=>{const m=s.concat(l);return n.apply(null,m)}}const xe=n=>s=>!n(s),we=n=>()=>{throw new Error(n)},Be=n=>n(),pe=n=>{n()},ne=ae(!1),le=ae(!0);class Y{constructor(s,l){this.tag=s,this.value=l}static some(s){return new Y(!0,s)}static none(){return Y.singletonNone}fold(s,l){return this.tag?l(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?Y.some(s(this.value)):Y.none()}bind(s){return this.tag?s(this.value):Y.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:Y.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return B(s)?Y.some(s):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Y.singletonNone=new Y(!1);const ve=Array.prototype.slice,Oe=Array.prototype.indexOf,Le=Array.prototype.push,Ce=(n,s)=>Oe.call(n,s),De=(n,s)=>{const l=Ce(n,s);return l===-1?Y.none():Y.some(l)},Ve=(n,s)=>Ce(n,s)>-1,_e=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const x=n[l];if(s(x,l))return!0}return!1},Ie=(n,s)=>{const l=n.length,m=new Array(l);for(let x=0;x<l;x++){const P=n[x];m[x]=s(P,x)}return m},re=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const x=n[l];s(x,l)}},be=(n,s)=>{for(let l=n.length-1;l>=0;l--){const m=n[l];s(m,l)}},te=(n,s)=>{const l=[],m=[];for(let x=0,P=n.length;x<P;x++){const Z=n[x];(s(Z,x)?l:m).push(Z)}return{pass:l,fail:m}},se=(n,s)=>{const l=[];for(let m=0,x=n.length;m<x;m++){const P=n[m];s(P,m)&&l.push(P)}return l},fe=(n,s,l)=>(be(n,(m,x)=>{l=s(l,m,x)}),l),oe=(n,s,l)=>(re(n,(m,x)=>{l=s(l,m,x)}),l),Se=(n,s,l)=>{for(let m=0,x=n.length;m<x;m++){const P=n[m];if(s(P,m))return Y.some(P);if(l(P,m))break}return Y.none()},ce=(n,s)=>Se(n,s,ne),ke=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const x=n[l];if(s(x,l))return Y.some(l)}return Y.none()},Qe=n=>{const s=[];for(let l=0,m=n.length;l<m;++l){if(!N(n[l]))throw new Error("Arr.flatten item "+l+" was not an array, input: "+n);Le.apply(s,n[l])}return s},Ze=(n,s)=>Qe(Ie(n,s)),Xe=(n,s)=>{for(let l=0,m=n.length;l<m;++l){const x=n[l];if(s(x,l)!==!0)return!1}return!0},ct=n=>{const s=ve.call(n,0);return s.reverse(),s},pt=(n,s)=>se(n,l=>!Ve(s,l)),Ye=(n,s)=>{const l={};for(let m=0,x=n.length;m<x;m++){const P=n[m];l[String(P)]=s(P,m)}return l},je=(n,s)=>{const l=ve.call(n,0);return l.sort(s),l},et=(n,s)=>s>=0&&s<n.length?Y.some(n[s]):Y.none(),yt=n=>et(n,0),ft=n=>et(n,n.length-1),tt=E(Array.from)?Array.from:n=>ve.call(n),wt=(n,s)=>{for(let l=0;l<n.length;l++){const m=s(n[l],l);if(m.isSome())return m}return Y.none()},Xt=(n,s)=>{const l=[],m=E(s)?x=>_e(l,P=>s(P,x)):x=>Ve(l,x);for(let x=0,P=n.length;x<P;x++){const Z=n[x];m(Z)||l.push(Z)}return l},Gt=Object.keys,Nt=Object.hasOwnProperty,Bt=(n,s)=>{const l=Gt(n);for(let m=0,x=l.length;m<x;m++){const P=l[m],Z=n[P];s(Z,P)}},vn=(n,s)=>En(n,(l,m)=>({k:m,v:s(l,m)})),En=(n,s)=>{const l={};return Bt(n,(m,x)=>{const P=s(m,x);l[P.k]=P.v}),l},ln=n=>(s,l)=>{n[l]=s},Yn=(n,s,l,m)=>{Bt(n,(x,P)=>{(s(x,P)?l:m)(x,P)})},an=(n,s)=>{const l={},m={};return Yn(n,s,ln(l),ln(m)),{t:l,f:m}},wn=(n,s)=>{const l={};return Yn(n,s,ln(l),ie),l},Xn=(n,s)=>{const l=[];return Bt(n,(m,x)=>{l.push(s(m,x))}),l},Un=n=>Xn(n,q),Sn=(n,s)=>lt(n,s)?Y.from(n[s]):Y.none(),lt=(n,s)=>Nt.call(n,s),ut=(n,s)=>lt(n,s)&&n[s]!==void 0&&n[s]!==null,xt=(n,s,l=y)=>v(l).eq(n,s),gt=n=>{const s={};return re(n,l=>{s[l]={}}),Gt(s)},Dt=n=>n.length!==void 0,He=Array.isArray,at=n=>{if(He(n))return n;{const s=[];for(let l=0,m=n.length;l<m;l++)s[l]=n[l];return s}},dt=(n,s,l)=>{if(!n)return!1;if(l=l||n,Dt(n)){for(let m=0,x=n.length;m<x;m++)if(s.call(l,n[m],m,n)===!1)return!1}else for(const m in n)if(lt(n,m)&&s.call(l,n[m],m,n)===!1)return!1;return!0},mt=(n,s)=>{const l=[];return dt(n,(m,x)=>{l.push(s(m,x,n))}),l},Tt=(n,s)=>{const l=[];return dt(n,(m,x)=>{(!s||s(m,x,n))&&l.push(m)}),l},Pt=(n,s)=>{if(n){for(let l=0,m=n.length;l<m;l++)if(n[l]===s)return l}return-1},dn=(n,s,l,m)=>{let x=U(l)?n[0]:l;for(let P=0;P<n.length;P++)x=s.call(m,x,n[P],P);return x},rn=(n,s,l)=>{for(let m=0,x=n.length;m<x;m++)if(s.call(l,n[m],m,n))return m;return-1},Wt=n=>n[n.length-1],Rt=n=>{let s=!1,l;return(...m)=>(s||(s=!0,l=n.apply(null,m)),l)},fn=(n,s,l,m)=>{const x=n.isiOS()&&/ipad/i.test(l)===!0,P=n.isiOS()&&!x,Z=n.isiOS()||n.isAndroid(),J=Z||m("(pointer:coarse)"),ge=x||!P&&Z&&m("(min-device-width:768px)"),Re=P||Z&&!ge,Ge=s.isSafari()&&n.isiOS()&&/safari/i.test(l)===!1,qe=!Re&&!ge&&!Ge;return{isiPad:ae(x),isiPhone:ae(P),isTablet:ae(ge),isPhone:ae(Re),isTouch:ae(J),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:ae(Ge),isDesktop:ae(qe)}},Hn=(n,s)=>{for(let l=0;l<n.length;l++){const m=n[l];if(m.test(s))return m}},nr=(n,s)=>{const l=Hn(n,s);if(!l)return{major:0,minor:0};const m=x=>Number(s.replace(l,"$"+x));return vr(m(1),m(2))},Er=(n,s)=>{const l=String(s).toLowerCase();return n.length===0?zt():nr(n,l)},zt=()=>vr(0,0),vr=(n,s)=>({major:n,minor:s}),Wn={nu:vr,detect:Er,unknown:zt},Br=(n,s)=>wt(s.brands,l=>{const m=l.brand.toLowerCase();return ce(n,x=>{var P;return m===((P=x.brand)===null||P===void 0?void 0:P.toLowerCase())}).map(x=>({current:x.name,version:Wn.nu(parseInt(l.version,10),0)}))}),kr=(n,s)=>{const l=String(s).toLowerCase();return ce(n,m=>m.search(l))},or=(n,s)=>kr(n,s).map(l=>{const m=Wn.detect(l.versionRegexes,s);return{current:l.name,version:m}}),jr=(n,s)=>kr(n,s).map(l=>{const m=Wn.detect(l.versionRegexes,s);return{current:l.name,version:m}}),_r=(n,s)=>n.substring(s),Rn=(n,s,l)=>s===""||n.length>=s.length&&n.substr(l,l+s.length)===s,xr=(n,s)=>Sr(n,s)?_r(n,s.length):n,sr=(n,s,l=0,m)=>{const x=n.indexOf(s,l);return x!==-1?U(m)?!0:x+s.length<=m:!1},Sr=(n,s)=>Rn(n,s,0),ao=(n,s)=>Rn(n,s,n.length-s.length),Oo=n=>s=>s.replace(n,""),wr=Oo(/^\s+|\s+$/g),Fe=Oo(/^\s+/g),Ee=Oo(/\s+$/g),St=n=>n.length>0,Ct=n=>!St(n),Lt=(n,s)=>s<=0?"":new Array(s+1).join(n),Ft=(n,s=10)=>{const l=parseInt(n,s);return isNaN(l)?Y.none():Y.some(l)},Ht=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$t=n=>s=>sr(s,n),Mt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>sr(n,"edge/")&&sr(n,"chrome")&&sr(n,"safari")&&sr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ht],search:n=>sr(n,"chrome")&&!sr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>sr(n,"msie")||sr(n,"trident")},{name:"Opera",versionRegexes:[Ht,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$t("firefox")},{name:"Safari",versionRegexes:[Ht,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(sr(n,"safari")||sr(n,"mobile/"))&&sr(n,"applewebkit")}],tn=[{name:"Windows",search:$t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>sr(n,"iphone")||sr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$t("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$t("linux"),versionRegexes:[]},{name:"Solaris",search:$t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$t("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$t("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],un={browsers:ae(Mt),oses:ae(tn)},Jt="Edge",on="Chromium",Tn="IE",On="Opera",pn="Firefox",Jn="Safari",Fn=()=>Zr({current:void 0,version:Wn.unknown()}),Zr=n=>{const s=n.current,l=n.version,m=x=>()=>s===x;return{current:s,version:l,isEdge:m(Jt),isChromium:m(on),isIE:m(Tn),isOpera:m(On),isFirefox:m(pn),isSafari:m(Jn)}},dr={unknown:Fn,nu:Zr,edge:ae(Jt),chromium:ae(on),ie:ae(Tn),opera:ae(On),firefox:ae(pn),safari:ae(Jn)},Ur="Windows",ar="iOS",ur="Android",qr="Linux",no="macOS",ko="Solaris",Es="FreeBSD",So="ChromeOS",Ko=()=>ds({current:void 0,version:Wn.unknown()}),ds=n=>{const s=n.current,l=n.version,m=x=>()=>s===x;return{current:s,version:l,isWindows:m(Ur),isiOS:m(ar),isAndroid:m(ur),isMacOS:m(no),isLinux:m(qr),isSolaris:m(ko),isFreeBSD:m(Es),isChromeOS:m(So)}},qs={unknown:Ko,nu:ds,windows:ae(Ur),ios:ae(ar),android:ae(ur),linux:ae(qr),macos:ae(no),solaris:ae(ko),freebsd:ae(Es),chromeos:ae(So)},Xs={detect:(n,s,l)=>{const m=un.browsers(),x=un.oses(),P=s.bind(ge=>Br(m,ge)).orThunk(()=>or(m,n)).fold(dr.unknown,dr.nu),Z=jr(x,n).fold(qs.unknown,qs.nu),J=fn(Z,P,n,l);return{browser:P,os:Z,deviceType:J}}},Ya=n=>window.matchMedia(n).matches;let bc=Rt(()=>Xs.detect(navigator.userAgent,Y.from(navigator.userAgentData),Ya));const li=()=>bc(),nu=navigator.userAgent,Ba=li(),Js=Ba.browser,ya=Ba.os,ra=Ba.deviceType,ru=nu.indexOf("Windows Phone")!==-1,Dr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Js.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Js.isIE(),windowsPhone:ru,browser:{current:Js.current,version:Js.version,isChromium:Js.isChromium,isEdge:Js.isEdge,isFirefox:Js.isFirefox,isIE:Js.isIE,isOpera:Js.isOpera,isSafari:Js.isSafari},os:{current:ya.current,version:ya.version,isAndroid:ya.isAndroid,isChromeOS:ya.isChromeOS,isFreeBSD:ya.isFreeBSD,isiOS:ya.isiOS,isLinux:ya.isLinux,isMacOS:ya.isMacOS,isSolaris:ya.isSolaris,isWindows:ya.isWindows},deviceType:{isDesktop:ra.isDesktop,isiPad:ra.isiPad,isiPhone:ra.isiPhone,isPhone:ra.isPhone,isTablet:ra.isTablet,isTouch:ra.isTouch,isWebView:ra.isWebView}},Oc=/^\s*|\s*$/g,oa=n=>F(n)?"":(""+n).replace(Oc,""),Ri=(n,s)=>s?s==="array"&&He(n)?!0:typeof n===s:n!==void 0,_d=(n,s,l={})=>{const m=M(n)?n.split(s||","):n||[];let x=m.length;for(;x--;)l[m[x]]={};return l},sa=lt,xu=(n,...s)=>{for(let l=0;l<s.length;l++){const m=s[l];for(const x in m)if(lt(m,x)){const P=m[x];P!==void 0&&(n[x]=P)}}return n},Rd=function(n,s,l,m){m=m||this,n&&(l&&(n=n[l]),dt(n,(x,P)=>s.call(m,x,P,l)===!1?!1:(Rd(x,s,l,m),!0)))},fr={trim:oa,isArray:He,is:Ri,toArray:at,makeMap:_d,each:dt,map:mt,grep:Tt,inArray:Pt,hasOwn:sa,extend:xu,walk:Rd,resolve:(n,s=window)=>{const l=n.split(".");for(let m=0,x=l.length;m<x&&(s=s[l[m]],!!s);m++);return s},explode:(n,s)=>N(n)?n:n===""?[]:mt(n.split(s||","),oa),_addCacheSuffix:n=>{const s=Dr.cacheSuffix;return s&&(n+=(n.indexOf("?")===-1?"?":"&")+s),n}},Fa=(n,s,l=de)=>n.exists(m=>l(m,s)),xi=(n,s,l=de)=>Va(n,s,l).getOr(n.isNone()&&s.isNone()),Za=n=>{const s=[],l=m=>{s.push(m)};for(let m=0;m<n.length;m++)n[m].each(l);return s},Va=(n,s,l)=>n.isSome()&&s.isSome()?Y.some(l(n.getOrDie(),s.getOrDie())):Y.none(),bl=(n,s,l,m)=>n.isSome()&&s.isSome()&&l.isSome()?Y.some(m(n.getOrDie(),s.getOrDie(),l.getOrDie())):Y.none(),Ho=(n,s)=>n?Y.some(s):Y.none(),ci=typeof window<"u"?window:Function("return this;")(),ei=(n,s)=>{let l=s??ci;for(let m=0;m<n.length&&l!==void 0&&l!==null;++m)l=l[n[m]];return l},qf=(n,s)=>{const l=n.split(".");return ei(l,s)},Ha=(n,s)=>qf(n,s),zu=(n,s)=>{const l=Ha(n,s);if(l==null)throw new Error(n+" not available on this browser");return l},Zu=Object.getPrototypeOf,Dd=n=>zu("HTMLElement",n),Is=n=>{const s=qf("ownerDocument.defaultView",n);return I(n)&&(Dd(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(Zu(n).constructor.name))},$d=8,Vc=9,Al=11,yh=1,hm=3,Vs=n=>n.dom.nodeName.toLowerCase(),Si=n=>n.dom.nodeType,kf=n=>s=>Si(s)===n,HS=n=>Si(n)===$d||Vs(n)==="#comment",Xa=n=>Pl(n)&&Is(n.dom),Pl=kf(yh),Zi=kf(hm),_O=kf(Vc),Fp=kf(Al),wu=n=>s=>Pl(s)&&Vs(s)===n,Hu=(n,s,l)=>{if(M(l)||z(l)||W(l))n.setAttribute(s,l+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",l,":: Element ",n),new Error("Attribute value was not simple")},Da=(n,s,l)=>{Hu(n.dom,s,l)},Tu=(n,s)=>{const l=n.dom;Bt(s,(m,x)=>{Hu(l,x,m)})},Ml=(n,s)=>{const l=n.dom.getAttribute(s);return l===null?void 0:l},xc=(n,s)=>Y.from(Ml(n,s)),Af=(n,s)=>{const l=n.dom;return l&&l.hasAttribute?l.hasAttribute(s):!1},ui=(n,s)=>{n.dom.removeAttribute(s)},Pf=n=>{const s=n.dom.attributes;return s==null||s.length===0},Vp=n=>oe(n.dom.attributes,(s,l)=>(s[l.name]=l.value,s),{}),zp=(n,s)=>{const l=Ml(n,s);return l===void 0||l===""?[]:l.split(" ")},uy=(n,s,l)=>{const x=zp(n,s).concat([l]);return Da(n,s,x.join(" ")),!0},Kv=(n,s,l)=>{const m=se(zp(n,s),x=>x!==l);return m.length>0?Da(n,s,m.join(" ")):ui(n,s),!1},Mf=n=>n.dom.classList!==void 0,Zp=n=>zp(n,"class"),Sc=(n,s)=>uy(n,"class",s),Jv=(n,s)=>Kv(n,"class",s),fy=(n,s)=>Ve(Zp(n),s)?Jv(n,s):Sc(n,s),mm=(n,s)=>{Mf(n)?n.dom.classList.add(s):Sc(n,s)},dy=n=>{(Mf(n)?n.dom.classList:Zp(n)).length===0&&ui(n,"class")},gm=(n,s)=>{Mf(n)?n.dom.classList.remove(s):Jv(n,s),dy(n)},RO=(n,s)=>{const l=Mf(n)?n.dom.classList.toggle(s):fy(n,s);return dy(n),l},bh=(n,s)=>Mf(n)&&n.dom.classList.contains(s),DO=(n,s)=>{const m=(s||document).createElement("div");if(m.innerHTML=n,!m.hasChildNodes()||m.childNodes.length>1){const x="HTML does not have a single root node";throw console.error(x,n),new Error(x)}return pm(m.childNodes[0])},$O=(n,s)=>{const m=(s||document).createElement(n);return pm(m)},LO=(n,s)=>{const m=(s||document).createTextNode(n);return pm(m)},pm=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},Yt={fromHtml:DO,fromTag:$O,fromText:LO,fromDom:pm,fromPoint:(n,s,l)=>Y.from(n.dom.elementFromPoint(s,l)).map(pm)},vm=(n,s)=>{const l=[],m=P=>(l.push(P),s(P));let x=s(n);do x=x.bind(m);while(x.isSome());return l},Uu=(n,s)=>{const l=n.dom;if(l.nodeType!==yh)return!1;{const m=l;if(m.matches!==void 0)return m.matches(s);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(s);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(s);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},e0=n=>n.nodeType!==yh&&n.nodeType!==Vc&&n.nodeType!==Al||n.childElementCount===0,Hp=(n,s)=>{const l=s===void 0?document:s.dom;return e0(l)?[]:Ie(l.querySelectorAll(n),Yt.fromDom)},US=(n,s)=>{const l=s===void 0?document:s.dom;return e0(l)?Y.none():Y.from(l.querySelector(n)).map(Yt.fromDom)},Gs=(n,s)=>n.dom===s.dom,oc=(n,s)=>{const l=n.dom,m=s.dom;return l===m?!1:l.contains(m)},Kf=n=>Yt.fromDom(n.dom.ownerDocument),Jf=n=>_O(n)?n:Kf(n),my=n=>Yt.fromDom(Jf(n).dom.documentElement),bg=n=>Yt.fromDom(Jf(n).dom.defaultView),ou=n=>Y.from(n.dom.parentNode).map(Yt.fromDom),Og=n=>Y.from(n.dom.parentElement).map(Yt.fromDom),gy=(n,s)=>{const l=E(s)?s:ne;let m=n.dom;const x=[];for(;m.parentNode!==null&&m.parentNode!==void 0;){const P=m.parentNode,Z=Yt.fromDom(P);if(x.push(Z),l(Z)===!0)break;m=P}return x},IO=n=>{const s=l=>se(l,m=>!Gs(n,m));return ou(n).map(sl).map(s).getOr([])},Wu=n=>Y.from(n.dom.previousSibling).map(Yt.fromDom),Up=n=>Y.from(n.dom.nextSibling).map(Yt.fromDom),py=n=>ct(vm(n,Wu)),zc=n=>vm(n,Up),sl=n=>Ie(n.dom.childNodes,Yt.fromDom),Oh=(n,s)=>{const l=n.dom.childNodes;return Y.from(l[s]).map(Yt.fromDom)},xg=n=>Oh(n,0),wc=n=>Oh(n,n.dom.childNodes.length-1),El=n=>n.dom.childNodes.length,Yu=n=>n.dom.hasChildNodes(),NO=n=>{const s=n.dom.head;if(s==null)throw new Error("Head is not available yet");return Yt.fromDom(s)},Wp=n=>Fp(n)&&B(n.dom.host),vy=E(Element.prototype.attachShadow)&&E(Node.prototype.getRootNode),t0=ae(vy),Ef=vy?n=>Yt.fromDom(n.dom.getRootNode()):Jf,BO=n=>Wp(n)?n:NO(Jf(n)),tk=n=>Wp(n)?n:Yt.fromDom(Jf(n).dom.body),nk=n=>{const s=Ef(n);return Wp(s)?Y.some(s):Y.none()},WS=n=>Yt.fromDom(n.dom.host),Yp=n=>{if(t0()&&B(n.target)){const s=Yt.fromDom(n.target);if(Pl(s)&&n0(s)&&n.composed&&n.composedPath){const l=n.composedPath();if(l)return yt(l)}}return Y.from(n.target)},n0=n=>B(n.dom.shadowRoot),xh=n=>{const s=Zi(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const l=s.ownerDocument;return nk(Yt.fromDom(s)).fold(()=>l.body.contains(s),me(xh,WS))};var ti=(n,s,l,m,x)=>n(l,m)?Y.some(l):E(x)&&x(l)?Y.none():s(l,m,x);const fi=(n,s,l)=>{let m=n.dom;const x=E(l)?l:ne;for(;m.parentNode;){m=m.parentNode;const P=Yt.fromDom(m);if(s(P))return Y.some(P);if(x(P))break}return Y.none()},Cu=(n,s,l)=>ti((x,P)=>P(x),fi,n,s,l),yy=(n,s)=>{const l=n.dom;return l.parentNode?QO(Yt.fromDom(l.parentNode),m=>!Gs(n,m)&&s(m)):Y.none()},QO=(n,s)=>{const l=x=>s(Yt.fromDom(x));return ce(n.dom.childNodes,l).map(Yt.fromDom)},Hl=(n,s)=>{const l=m=>{for(let x=0;x<m.childNodes.length;x++){const P=Yt.fromDom(m.childNodes[x]);if(s(P))return Y.some(P);const Z=l(m.childNodes[x]);if(Z.isSome())return Z}return Y.none()};return l(n.dom)},Sg=(n,s,l)=>fi(n,m=>Uu(m,s),l),Tc=(n,s)=>US(s,n),_f=(n,s,l)=>ti((x,P)=>Uu(x,P),Sg,n,s,l),by=n=>_f(n,"[contenteditable]"),jo=(n,s=!1)=>xh(n)?n.dom.isContentEditable:by(n).fold(ae(s),l=>Zc(l)==="true"),Zc=n=>n.dom.contentEditable,Sh=n=>n.style!==void 0&&E(n.style.getPropertyValue),ym=(n,s,l)=>{if(!M(l))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",l,":: Element ",n),new Error("CSS value must be a string: "+l);Sh(n)&&n.style.setProperty(s,l)},Oy=(n,s)=>{Sh(n)&&n.style.removeProperty(s)},xy=(n,s,l)=>{const m=n.dom;ym(m,s,l)},sc=(n,s)=>{const l=n.dom;Bt(s,(m,x)=>{ym(l,x,m)})},wi=(n,s)=>{const l=n.dom,x=window.getComputedStyle(l).getPropertyValue(s);return x===""&&!xh(n)?su(l,s):x},su=(n,s)=>Sh(n)?n.style.getPropertyValue(s):"",Hi=(n,s)=>{const l=n.dom,m=su(l,s);return Y.from(m).filter(x=>x.length>0)},Sy=n=>{const s={},l=n.dom;if(Sh(l))for(let m=0;m<l.style.length;m++){const x=l.style.item(m);s[x]=l.style[x]}return s},r0=(n,s)=>{const l=n.dom;Oy(l,s),Fa(xc(n,"style").map(wr),"")&&ui(n,"style")},Ti=n=>n.dom.offsetWidth,Ui=(n,s)=>{ou(n).each(m=>{m.dom.insertBefore(s.dom,n.dom)})},Xu=(n,s)=>{Up(n).fold(()=>{ou(n).each(x=>{Ci(x,s)})},m=>{Ui(m,s)})},bm=(n,s)=>{xg(n).fold(()=>{Ci(n,s)},m=>{n.dom.insertBefore(s.dom,m.dom)})},Ci=(n,s)=>{n.dom.appendChild(s.dom)},wg=(n,s)=>{Ui(n,s),Ci(s,n)},Xp=(n,s)=>{re(s,(l,m)=>{const x=m===0?n:s[m-1];Xu(x,l)})},Ta=(n,s)=>{re(s,l=>{Ci(n,l)})},wh=n=>{n.dom.textContent="",re(sl(n),s=>{Ks(s)})},Ks=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Rf=n=>{const s=sl(n);s.length>0&&Xp(n,s),Ks(n)},wy=(n,s)=>{const m=(s||document).createElement("div");return m.innerHTML=n,sl(Yt.fromDom(m))},Gp=n=>Ie(n,Yt.fromDom),hs=n=>n.dom.innerHTML,Om=(n,s)=>{const m=Kf(n).dom,x=Yt.fromDom(m.createDocumentFragment()),P=wy(s,m);Ta(x,P),wh(n),Ci(n,x)},o0=n=>{const s=Yt.fromTag("div"),l=Yt.fromDom(n.dom.cloneNode(!0));return Ci(s,l),hs(s)},jp=(n,s,l,m,x,P,Z)=>({target:n,x:s,y:l,stop:m,prevent:x,kill:P,raw:Z}),YS=n=>{const s=Yt.fromDom(Yp(n).getOr(n.target)),l=()=>n.stopPropagation(),m=()=>n.preventDefault(),x=L(m,l);return jp(s,n.clientX,n.clientY,l,m,x,n)},XS=(n,s)=>l=>{n(l)&&s(YS(l))},Ty=(n,s,l,m,x)=>{const P=XS(l,m);return n.dom.addEventListener(s,P,x),{unbind:ee(s0,n,s,P,x)}},xm=(n,s,l,m)=>Ty(n,s,l,m,!1),s0=(n,s,l,m)=>{n.dom.removeEventListener(s,l,m)},Sm=(n,s)=>({left:n,top:s,translate:(m,x)=>Sm(n+m,s+x)}),Tg=Sm,FO=n=>{const s=n.getBoundingClientRect();return Tg(s.left,s.top)},Gu=(n,s)=>n!==void 0?n:s!==void 0?s:0,VO=n=>{const s=n.dom.ownerDocument,l=s.body,m=s.defaultView,x=s.documentElement;if(l===n.dom)return Tg(l.offsetLeft,l.offsetTop);const P=Gu(m==null?void 0:m.pageYOffset,x.scrollTop),Z=Gu(m==null?void 0:m.pageXOffset,x.scrollLeft),J=Gu(x.clientTop,l.clientTop),ge=Gu(x.clientLeft,l.clientLeft);return wm(n).translate(Z-ge,P-J)},wm=n=>{const s=n.dom,m=s.ownerDocument.body;return m===s?Tg(m.offsetLeft,m.offsetTop):xh(n)?FO(s):Tg(0,0)},ku=n=>{const s=n!==void 0?n.dom:document,l=s.body.scrollLeft||s.documentElement.scrollLeft,m=s.body.scrollTop||s.documentElement.scrollTop;return Tg(l,m)},a0=(n,s,l)=>{const x=(l!==void 0?l.dom:document).defaultView;x&&x.scrollTo(n,s)},Cy=(n,s)=>{li().browser.isSafari()&&E(n.dom.scrollIntoViewIfNeeded)?n.dom.scrollIntoViewIfNeeded(!1):n.dom.scrollIntoView(s)},Cg=n=>{const s=n===void 0?window:n;return li().browser.isFirefox()?Y.none():Y.from(s.visualViewport)},ky=(n,s,l,m)=>({x:n,y:s,width:l,height:m,right:n+l,bottom:s+m}),Ay=n=>{const s=n===void 0?window:n,l=s.document,m=ku(Yt.fromDom(l));return Cg(s).fold(()=>{const x=s.document.documentElement,P=x.clientWidth,Z=x.clientHeight;return ky(m.left,m.top,P,Z)},x=>ky(Math.max(x.pageLeft,m.left),Math.max(x.pageTop,m.top),x.width,x.height))},Py=(n,s)=>se(sl(n),s),i0=(n,s)=>{let l=[];return re(sl(n),m=>{s(m)&&(l=l.concat([m])),l=l.concat(i0(m,s))}),l},al=(n,s)=>Hp(s,n),qp=(n,s,l)=>Sg(n,s,l).isSome();class ca{constructor(s,l){this.node=s,this.rootNode=l,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(s){return this.node=this.findSibling(this.node,"firstChild","nextSibling",s),this.node}prev(s){return this.node=this.findSibling(this.node,"lastChild","previousSibling",s),this.node}prev2(s){return this.node=this.findPreviousNode(this.node,s),this.node}findSibling(s,l,m,x){if(s){if(!x&&s[l])return s[l];if(s!==this.rootNode){let P=s[m];if(P)return P;for(let Z=s.parentNode;Z&&Z!==this.rootNode;Z=Z.parentNode)if(P=Z[m],P)return P}}}findPreviousNode(s,l){if(s){const m=s.previousSibling;if(this.rootNode&&m===this.rootNode)return;if(m){if(!l){for(let P=m.lastChild;P;P=P.lastChild)if(!P.lastChild)return P}return m}const x=s.parentNode;if(x&&x!==this.rootNode)return x}}}const uo=n=>s=>!!s&&s.nodeType===n,ju=n=>!!n&&!Object.getPrototypeOf(n),Xr=uo(1),Ul=n=>Xr(n)&&Xa(Yt.fromDom(n)),GS=n=>Xr(n)&&n.namespaceURI==="http://www.w3.org/2000/svg",Ld=n=>{const s=n.toLowerCase();return l=>B(l)&&l.nodeName.toLowerCase()===s},vi=n=>{const s=n.map(l=>l.toLowerCase());return l=>{if(l&&l.nodeName){const m=l.nodeName.toLowerCase();return Ve(s,m)}return!1}},Id=(n,s)=>{const l=s.toLowerCase().split(" ");return m=>{if(Xr(m)){const x=m.ownerDocument.defaultView;if(x)for(let P=0;P<l.length;P++){const Z=x.getComputedStyle(m,null);if((Z?Z.getPropertyValue(n):null)===l[P])return!0}}return!1}},Kp=n=>s=>Xr(s)&&s.hasAttribute(n),il=(n,s)=>l=>Xr(l)&&l.getAttribute(n)===s,Df=n=>Xr(n)&&n.hasAttribute("data-mce-bogus"),Tm=n=>Xr(n)&&n.getAttribute("data-mce-bogus")==="all",qu=n=>Xr(n)&&n.tagName==="TABLE",My=n=>s=>!!(Ul(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),l0=vi(["textarea","input"]),lr=uo(3),zO=uo(4),_l=uo(7),ed=uo(8),kg=uo(9),da=uo(11),aa=Ld("br"),Rl=Ld("img"),Wl=My("true"),xs=My("false"),Jp=vi(["td","th"]),ll=vi(["td","th","caption"]),ni=vi(["video","audio","object","embed"]),ev=Ld("li"),er=Ld("details"),Hc=Ld("summary"),Ag="\uFEFF",zs="",$f=n=>n===Ag,jS=n=>n.replace(/\uFEFF/g,""),c0=((n,s)=>{const l=P=>{if(!n(P))throw new Error("Can only get "+s+" value of a "+s+" node");return m(P).getOr("")},m=P=>n(P)?Y.from(P.dom.nodeValue):Y.none();return{get:l,getOption:m,set:(P,Z)=>{if(!n(P))throw new Error("Can only set raw "+s+" value of a "+s+" node");P.dom.nodeValue=Z}}})(Zi,"text"),au=n=>c0.get(n),u0=n=>c0.getOption(n),ac=(n,s)=>c0.set(n,s),Ws=["td","th"],iu=["thead","tbody","tfoot"],di=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],cl=["li","dd","dt"],Nd=["ul","ol","dl"],td=["pre","script","textarea","style"],Bd=n=>{let s;return l=>(s=s||Ye(n,le),lt(s,Vs(l)))},Cc=n=>Vs(n)==="table",nd=n=>Pl(n)&&Vs(n)==="br",Mn=Bd(di),kc=Bd(Nd),rd=Bd(cl),od=Bd(iu),Uc=Bd(Ws),Wi=Bd(td),Di=n=>{const s=[];let l=n.dom;for(;l;)s.push(Yt.fromDom(l)),l=l.lastChild;return s},rk=n=>{const s=al(n,"br"),l=se(Di(n).slice(-1),nd);s.length===l.length&&re(l,Ks)},Ac=()=>{const n=Yt.fromTag("br");return Da(n,"data-mce-bogus","1"),n},D=n=>{wh(n),Ci(n,Ac())},G=(n,s)=>{wc(n).each(l=>{Wu(l).each(m=>{s.isBlock(Vs(n))&&nd(l)&&s.isBlock(Vs(m))&&Ks(l)})})},he=Ag,Te=$f,Pe=jS,$e=n=>n.insertContent(he,{preserve_zwsp:!0}),Ke=Xr,We=lr,rt=n=>(We(n)&&(n=n.parentNode),Ke(n)&&n.hasAttribute("data-mce-caret")),vt=n=>We(n)&&Te(n.data),bt=n=>rt(n)||vt(n),Zt=n=>n.firstChild!==n.lastChild||!aa(n.firstChild),Ut=(n,s)=>{var l;const x=((l=n.ownerDocument)!==null&&l!==void 0?l:document).createTextNode(he),P=n.parentNode;if(s){const Z=n.previousSibling;if(We(Z)){if(bt(Z))return Z;if(hn(Z))return Z.splitText(Z.data.length-1)}P==null||P.insertBefore(x,n)}else{const Z=n.nextSibling;if(We(Z)){if(bt(Z))return Z;if(nn(Z))return Z.splitText(1),Z}n.nextSibling?P==null||P.insertBefore(x,n.nextSibling):P==null||P.appendChild(x)}return x},gn=n=>{const s=n.container();return lr(s)?s.data.charAt(n.offset())===he||n.isAtStart()&&vt(s.previousSibling):!1},An=n=>{const s=n.container();return lr(s)?s.data.charAt(n.offset()-1)===he||n.isAtEnd()&&vt(s.nextSibling):!1},jt=(n,s,l)=>{var m;const P=((m=s.ownerDocument)!==null&&m!==void 0?m:document).createElement(n);P.setAttribute("data-mce-caret",l?"before":"after"),P.setAttribute("data-mce-bogus","all"),P.appendChild(Ac().dom);const Z=s.parentNode;return l?Z==null||Z.insertBefore(P,s):s.nextSibling?Z==null||Z.insertBefore(P,s.nextSibling):Z==null||Z.appendChild(P),P},nn=n=>We(n)&&n.data[0]===he,hn=n=>We(n)&&n.data[n.data.length-1]===he,_n=n=>{var s;const l=n.getElementsByTagName("br"),m=l[l.length-1];Df(m)&&((s=m.parentNode)===null||s===void 0||s.removeChild(m))},Pn=n=>n&&n.hasAttribute("data-mce-caret")?(_n(n),n.removeAttribute("data-mce-caret"),n.removeAttribute("data-mce-bogus"),n.removeAttribute("style"),n.removeAttribute("data-mce-style"),n.removeAttribute("_moz_abspos"),n):null,yn=n=>rt(n.startContainer),cr=Wl,Hr=xs,Jr=aa,Ar=lr,ro=vi(["script","style","textarea"]),fo=vi(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ts=vi(["table"]),xo=bt,go=n=>xo(n)?!1:Ar(n)?!ro(n.parentNode):fo(n)||Jr(n)||ts(n)||ri(n),js=n=>Xr(n)&&n.getAttribute("unselectable")==="true",ri=n=>!js(n)&&Hr(n),ba=(n,s)=>{for(let l=n.parentNode;l&&l!==s;l=l.parentNode){if(ri(l))return!1;if(cr(l))return!0}return!0},Lr=n=>ri(n)?!oe(tt(n.getElementsByTagName("*")),(s,l)=>s||cr(l),!1):!1,Do=n=>fo(n)||Lr(n),ms=(n,s)=>go(n)&&ba(n,s),_s=/^[ \t\r\n]*$/,Qa=n=>_s.test(n),hi=n=>{for(const s of n)if(!$f(s))return!1;return!0},Yi=n=>" \f	\v".indexOf(n)!==-1,$i=n=>n===`
`||n==="\r",Wc=(n,s)=>s<n.length&&s>=0?$i(n[s]):!1,Ji=(n,s=4,l=!0,m=!0)=>{const x=Lt(" ",s),P=n.replace(/\t/g,x);return oe(P,(J,ge)=>Yi(ge)||ge===zs?J.pcIsSpace||J.str===""&&l||J.str.length===P.length-1&&m||Wc(P,J.str.length+1)?{pcIsSpace:!1,str:J.str+zs}:{pcIsSpace:!0,str:J.str+" "}:{pcIsSpace:$i(ge),str:J.str+ge},{pcIsSpace:!1,str:""}).str},Pc=(n,s)=>{const l=Yt.fromDom(s),m=Yt.fromDom(n);return qp(m,"pre,code",ee(Gs,l))},Yl=(n,s)=>lr(n)&&Qa(n.data)&&!Pc(n,s),ea=n=>Xr(n)&&n.nodeName==="A"&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id")),Ju=(n,s)=>go(n)&&!Yl(n,s)||ea(n)||Lf(n),Lf=Kp("data-mce-bookmark"),Xl=Kp("data-mce-bogus"),Li=il("data-mce-bogus","all"),Gl=n=>Og(Yt.fromDom(n)).exists(s=>!jo(s)),Ii=(n,s)=>{let l=0;if(Ju(n,n))return!1;{let m=n.firstChild;if(!m)return!0;const x=new ca(m,n);do{if(s){if(Li(m)){m=x.next(!0);continue}if(Xl(m)){m=x.next();continue}}if(Wl(m)&&Gl(m))return!1;if(aa(m)){l++,m=x.next();continue}if(Ju(m,n))return!1;m=x.next()}while(m);return l<=1}},ta=(n,s=!0)=>Ii(n.dom,s),Mc=n=>n.toLowerCase()==="svg",Qd=n=>Mc(n.nodeName),ef=n=>(n==null?void 0:n.nodeName)==="svg"?"svg":"html",Cm=["svg"],Fd=()=>{let n=[];const s=()=>n[n.length-1];return{track:P=>{Qd(P)&&n.push(P);let Z=s();return Z&&!Z.contains(P)&&(n.pop(),Z=s()),ef(Z)},current:()=>ef(s()),reset:()=>{n=[]}}},Ey="data-mce-block",ZO=n=>se(Gt(n),s=>!/[A-Z]/.test(s)),Th=n=>Ie(ZO(n),s=>`${s}:`+Ie(Cm,l=>`not(${l} ${s})`).join(":")).join(","),Vd=(n,s)=>B(s.querySelector(n))?(s.setAttribute(Ey,"true"),s.getAttribute("data-mce-selected")==="inline-boundary"&&s.removeAttribute("data-mce-selected"),!0):(s.removeAttribute(Ey),!1),tf=(n,s)=>{const l=Th(n.getTransparentElements()),m=Th(n.getBlockElements());return se(s.querySelectorAll(l),x=>Vd(m,x))},Pg=(n,s)=>{var l;const m=s?"lastChild":"firstChild";for(let x=n[m];x;x=x[m])if(ta(Yt.fromDom(x))){(l=x.parentNode)===null||l===void 0||l.removeChild(x);return}},Mg=(n,s)=>{const l=document.createRange(),m=n.parentNode;if(m){l.setStartBefore(n),l.setEndBefore(s);const x=l.extractContents();Pg(x,!0),l.setStartAfter(s),l.setEndAfter(n);const P=l.extractContents();Pg(P,!1),ta(Yt.fromDom(x))||m.insertBefore(x,n),ta(Yt.fromDom(s))||m.insertBefore(s,n),ta(Yt.fromDom(P))||m.insertBefore(P,n),m.removeChild(n)}},ok=(n,s,l)=>{const m=n.getBlockElements(),x=Yt.fromDom(s),P=J=>Vs(J)in m,Z=J=>Gs(J,x);re(Gp(l),J=>{fi(J,P,Z).each(ge=>{const Re=Py(J,Ge=>P(Ge)&&!n.isValidChild(Vs(ge),Vs(Ge)));if(Re.length>0){const Ge=Og(ge);re(Re,qe=>{fi(qe,P,Z).each(ot=>{Mg(ot.dom,qe.dom)})}),Ge.each(qe=>tf(n,qe.dom))}})})},HO=(n,s,l)=>{re([...l,...ks(n,s)?[s]:[]],m=>re(al(Yt.fromDom(m),m.nodeName.toLowerCase()),x=>{vo(n,x.dom)&&Rf(x)}))},_y=(n,s)=>{const l=tf(n,s);ok(n,s,l),HO(n,s,l)},UO=(n,s)=>{if(Dy(n,s)){const l=Th(n.getBlockElements());Vd(l,s)}},sk=(n,s,l)=>{const m=P=>Gs(P,Yt.fromDom(s)),x=gy(Yt.fromDom(l),m);et(x,x.length-2).filter(Pl).fold(()=>_y(n,s),P=>_y(n,P.dom))},WO=n=>n.hasAttribute(Ey),Ry=(n,s)=>lt(n.getTransparentElements(),s),Dy=(n,s)=>Xr(s)&&Ry(n,s.nodeName),ks=(n,s)=>Dy(n,s)&&WO(s),vo=(n,s)=>Dy(n,s)&&!WO(s),km=(n,s)=>s.type===1&&Ry(n,s.name)&&M(s.attr(Ey)),YO=li().browser,$y=n=>ce(n,Pl),QM=n=>YO.isFirefox()&&Vs(n)==="table"?$y(sl(n)).filter(s=>Vs(s)==="caption").bind(s=>$y(zc(s)).map(l=>{const m=l.dom.offsetTop,x=s.dom.offsetTop,P=s.dom.offsetHeight;return m<=x?-P:0})).getOr(0):0,qS=(n,s)=>n.children&&Ve(n.children,s),Ea=(n,s,l)=>{let m=0,x=0;const P=n.ownerDocument;if(l=l||n,s){if(l===n&&s.getBoundingClientRect&&wi(Yt.fromDom(n),"position")==="static"){const J=s.getBoundingClientRect();return m=J.left+(P.documentElement.scrollLeft||n.scrollLeft)-P.documentElement.clientLeft,x=J.top+(P.documentElement.scrollTop||n.scrollTop)-P.documentElement.clientTop,{x:m,y:x}}let Z=s;for(;Z&&Z!==l&&Z.nodeType&&!qS(Z,l);){const J=Z;m+=J.offsetLeft||0,x+=J.offsetTop||0,Z=J.offsetParent}for(Z=s.parentNode;Z&&Z!==l&&Z.nodeType&&!qS(Z,l);)m-=Z.scrollLeft||0,x-=Z.scrollTop||0,Z=Z.parentNode;x+=QM(Yt.fromDom(s))}return{x:m,y:x}},KS=(n,s={})=>{let l=0;const m={},x=Yt.fromDom(n),P=Jf(x),Z=cn=>{s.referrerPolicy=cn},J=cn=>{s.contentCssCors=cn},ge=cn=>{Ci(BO(x),cn)},Re=cn=>{const xn=BO(x);Tc(xn,"#"+cn).each(Ks)},Ge=cn=>Sn(m,cn).getOrThunk(()=>({id:"mce-u"+l++,passed:[],failed:[],count:0})),qe=cn=>new Promise((xn,bn)=>{let $n;const rr=fr._addCacheSuffix(cn),gr=Ge(rr);m[rr]=gr,gr.count++;const Qr=(eo,po)=>{re(eo,pe),gr.status=po,gr.passed=[],gr.failed=[],$n&&($n.onload=null,$n.onerror=null,$n=null)},zn=()=>Qr(gr.passed,2),Bn=()=>Qr(gr.failed,3);if(xn&&gr.passed.push(xn),bn&&gr.failed.push(bn),gr.status===1)return;if(gr.status===2){zn();return}if(gr.status===3){Bn();return}gr.status=1;const tr=Yt.fromTag("link",P.dom);Tu(tr,{rel:"stylesheet",type:"text/css",id:gr.id}),s.contentCssCors&&Da(tr,"crossOrigin","anonymous"),s.referrerPolicy&&Da(tr,"referrerpolicy",s.referrerPolicy),$n=tr.dom,$n.onload=zn,$n.onerror=Bn,ge(tr),Da(tr,"href",rr)}),ot=(cn,xn)=>{const bn=Ge(cn);m[cn]=bn,bn.count++;const $n=Yt.fromTag("style",P.dom);Tu($n,{rel:"stylesheet",type:"text/css",id:bn.id}),$n.dom.innerHTML=xn,ge($n)},Et=cn=>Promise.allSettled(Ie(cn,bn=>qe(bn).then(ae(bn)))).then(bn=>{const $n=te(bn,rr=>rr.status==="fulfilled");return $n.fail.length>0?Promise.reject(Ie($n.fail,rr=>rr.reason)):Ie($n.pass,rr=>rr.value)}),Vt=cn=>{const xn=fr._addCacheSuffix(cn);Sn(m,xn).each(bn=>{--bn.count===0&&(delete m[xn],Re(bn.id))})};return{load:qe,loadRawCss:ot,loadAll:Et,unload:Vt,unloadRawCss:cn=>{Sn(m,cn).each(xn=>{--xn.count===0&&(delete m[cn],Re(xn.id))})},unloadAll:cn=>{re(cn,xn=>{Vt(xn)})},_setReferrerPolicy:Z,_setContentCssCors:J}},ew=(()=>{const n=new WeakMap;return{forElement:(l,m)=>{const P=Ef(l).dom;return Y.from(n.get(P)).getOrThunk(()=>{const Z=KS(P,m);return n.set(P,Z),Z})}}})(),qn=n=>n.nodeName.toLowerCase()==="span",XO=(n,s,l)=>B(n)&&(Ju(n,s)||l.isInline(n.nodeName.toLowerCase())),FM=(n,s,l)=>{const m=new ca(n,s).prev(!1),x=new ca(n,s).next(!1),P=U(m)||XO(m,s,l),Z=U(x)||XO(x,s,l);return P&&Z},Ly=n=>qn(n)&&n.getAttribute("data-mce-type")==="bookmark",VM=(n,s,l)=>lr(n)&&n.data.length>0&&FM(n,s,l),f0=n=>Xr(n)?n.childNodes.length>0:!1,tw=n=>da(n)||kg(n),Am=(n,s,l,m)=>{var x;const P=m||s;if(Xr(s)&&Ly(s))return s;const Z=s.childNodes;for(let J=Z.length-1;J>=0;J--)Am(n,Z[J],l,P);if(Xr(s)){const J=s.childNodes;J.length===1&&Ly(J[0])&&((x=s.parentNode)===null||x===void 0||x.insertBefore(J[0],s))}return!tw(s)&&!Ju(s,P)&&!f0(s)&&!VM(s,P,l)&&n.remove(s),s},zM=fr.makeMap,Ch=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ca=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kh=/[<>&\"\']/g,nw=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,sd={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Pm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},rw={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},tv=n=>{const s=Yt.fromTag("div").dom;return s.innerHTML=n,s.textContent||s.innerText||n},ak=(n,s)=>{const l={};if(n){const m=n.split(",");s=s||10;for(let x=0;x<m.length;x+=2){const P=String.fromCharCode(parseInt(m[x],s));if(!Pm[P]){const Z="&"+m[x+1]+";";l[P]=Z,l[Z]=P}}return l}else return},GO=ak("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ow=(n,s)=>n.replace(s?Ch:Ca,l=>Pm[l]||l),ZM=n=>(""+n).replace(kh,s=>Pm[s]||s),sw=(n,s)=>n.replace(s?Ch:Ca,l=>l.length>1?"&#"+((l.charCodeAt(0)-55296)*1024+(l.charCodeAt(1)-56320)+65536)+";":Pm[l]||"&#"+l.charCodeAt(0)+";"),Ah=(n,s,l)=>{const m=l||GO;return n.replace(s?Ch:Ca,x=>Pm[x]||m[x]||x)},Eg={encodeRaw:ow,encodeAllRaw:ZM,encodeNumeric:sw,encodeNamed:Ah,getEncodeFunc:(n,s)=>{const l=ak(s)||GO,m=(Z,J)=>Z.replace(J?Ch:Ca,ge=>Pm[ge]!==void 0?Pm[ge]:l[ge]!==void 0?l[ge]:ge.length>1?"&#"+((ge.charCodeAt(0)-55296)*1024+(ge.charCodeAt(1)-56320)+65536)+";":"&#"+ge.charCodeAt(0)+";"),x=(Z,J)=>Ah(Z,J,l),P=zM(n.replace(/\+/g,","));return P.named&&P.numeric?m:P.named?s?x:Ah:P.numeric?sw:ow},decode:n=>n.replace(nw,(s,l)=>l?(l.charAt(0).toLowerCase()==="x"?l=parseInt(l.substr(1),16):l=parseInt(l,10),l>65535?(l-=65536,String.fromCharCode(55296+(l>>10),56320+(l&1023))):sd[l]||String.fromCharCode(l)):rw[s]||GO[s]||tv(s))},jl=(n,s)=>(n=fr.trim(n),n?n.split(s||" "):[]),Kr=n=>new RegExp("^"+n.replace(/([?+*])/g,".$1")+"$"),HM=n=>{const s=/^(~)?(.+)$/;return Ze(jl(n,","),l=>{const m=s.exec(l);if(m){const x=m[1]==="~",P=x?"span":"div",Z=m[2];return[{inline:x,cloneName:P,name:Z}]}else return[]})},iw=n=>{let s,l,m;if(s="id accesskey class dir lang style tabindex title role",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",m="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",n!=="html4"){const P="a ins del canvas map";s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure main header footer hgroup section nav "+P,m+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}n!=="html5-strict"&&(s+=" xml:lang",m=[m,"acronym applet basefont big font strike tt"].join(" "),l=[l,"center dir isindex noframes"].join(" "));const x=[l,m].join(" ");return{globalAttributes:s,blockContent:l,phrasingContent:m,flowContent:x}},UM=n=>{const{globalAttributes:s,phrasingContent:l,flowContent:m}=iw(n),x={},P=(ge,Re,Ge)=>{x[ge]={attributes:Ye(Re,ae({})),attributesOrder:Re,children:Ye(Ge,ae({}))}},Z=(ge,Re="",Ge="")=>{const qe=jl(Ge),ot=jl(ge);let Et=ot.length;const Vt=jl([s,Re].join(" "));for(;Et--;)P(ot[Et],Vt.slice(),qe)},J=(ge,Re)=>{const Ge=jl(ge),qe=jl(Re);let ot=Ge.length;for(;ot--;){const Et=x[Ge[ot]];for(let Vt=0,kt=qe.length;Vt<kt;Vt++)Et.attributes[qe[Vt]]={},Et.attributesOrder.push(qe[Vt])}};return n!=="html5-strict"&&(re(jl("acronym applet basefont big font strike tt"),Ge=>{Z(Ge,"",l)}),re(jl("center dir isindex noframes"),Ge=>{Z(Ge,"",m)})),Z("html","manifest","head body"),Z("head","","base command link meta noscript script style title"),Z("title hr noscript br"),Z("base","href target"),Z("link","href rel media hreflang type sizes hreflang"),Z("meta","name http-equiv content charset"),Z("style","media type scoped"),Z("script","src async defer type charset"),Z("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",m),Z("dd div","",m),Z("address dt caption","",n==="html4"?l:m),Z("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),Z("blockquote","cite",m),Z("ol","reversed start type","li"),Z("ul","","li"),Z("li","value",m),Z("dl","","dt dd"),Z("a","href target rel media hreflang type",n==="html4"?l:m),Z("q","cite",l),Z("ins del","cite datetime",m),Z("img","src sizes srcset alt usemap ismap width height"),Z("iframe","src name width height",m),Z("embed","src type width height"),Z("object","data type typemustmatch name usemap form width height",[m,"param"].join(" ")),Z("param","name value"),Z("map","name",[m,"area"].join(" ")),Z("area","alt coords shape href target rel media hreflang type"),Z("table","border","caption colgroup thead tfoot tbody tr"+(n==="html4"?" col":"")),Z("colgroup","span","col"),Z("col","span"),Z("tbody thead tfoot","","tr"),Z("tr","","td th"),Z("td","colspan rowspan headers",m),Z("th","colspan rowspan headers scope abbr",m),Z("form","accept-charset action autocomplete enctype method name novalidate target",m),Z("fieldset","disabled form name",[m,"legend"].join(" ")),Z("label","form for",l),Z("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Z("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",n==="html4"?m:l),Z("select","disabled form multiple name required size","option optgroup"),Z("optgroup","disabled label","option"),Z("option","disabled label selected value"),Z("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Z("menu","type label",[m,"li"].join(" ")),Z("noscript","",m),n!=="html4"&&(Z("wbr"),Z("ruby","",[l,"rt rp"].join(" ")),Z("figcaption","",m),Z("mark rt rp bdi","",l),Z("summary","",[l,"h1 h2 h3 h4 h5 h6"].join(" ")),Z("canvas","width height",m),Z("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[m,"track source"].join(" ")),Z("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[m,"track source"].join(" ")),Z("picture","","img source"),Z("source","src srcset type media sizes"),Z("track","kind src srclang label default"),Z("datalist","",[l,"option"].join(" ")),Z("article section nav aside main header footer","",m),Z("hgroup","","h1 h2 h3 h4 h5 h6"),Z("figure","",[m,"figcaption"].join(" ")),Z("time","datetime",l),Z("dialog","open",m),Z("command","type label icon disabled checked radiogroup command"),Z("output","for form name",l),Z("progress","value max",l),Z("meter","value min max low high optimum",l),Z("details","open",[m,"summary"].join(" ")),Z("keygen","autofocus challenge disabled form keytype name"),P("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),n!=="html5-strict"&&(J("script","language xml:space"),J("style","xml:space"),J("object","declare classid code codebase codetype archive standby align border hspace vspace"),J("embed","align name hspace vspace"),J("param","valuetype type"),J("a","charset name rev shape coords"),J("br","clear"),J("applet","codebase archive code object alt name width height align hspace vspace"),J("img","name longdesc align border hspace vspace"),J("iframe","longdesc frameborder marginwidth marginheight scrolling align"),J("font basefont","size color face"),J("input","usemap align"),J("select"),J("textarea"),J("h1 h2 h3 h4 h5 h6 div p legend caption","align"),J("ul","type compact"),J("li","type"),J("ol dl menu dir","compact"),J("pre","width xml:space"),J("hr","align noshade size width"),J("isindex","prompt"),J("table","summary width frame rules cellspacing cellpadding align bgcolor"),J("col","width align char charoff valign"),J("colgroup","width align char charoff valign"),J("thead","align char charoff valign"),J("tr","align char charoff valign bgcolor"),J("th","axis align char charoff valign nowrap bgcolor width height"),J("form","accept"),J("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),J("tfoot","align char charoff valign"),J("tbody","align char charoff valign"),J("area","nohref"),J("body","background bgcolor text link vlink alink")),n!=="html4"&&(J("input button select textarea","autofocus"),J("input textarea","placeholder"),J("a","download"),J("link script img","crossorigin"),J("img","loading"),J("iframe","sandbox seamless allow allowfullscreen loading")),n!=="html4"&&re([x.video,x.audio],ge=>{delete ge.children.audio,delete ge.children.video}),re(jl("a form meter progress dfn"),ge=>{x[ge]&&delete x[ge].children[ge]}),delete x.caption.children.table,delete x.script,x},ik=n=>n==="-"?"remove":"add",nv=n=>{const s=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ze(jl(n,","),l=>{const m=s.exec(l);if(m){const x=m[1],P=x?ik(x):"replace",Z=m[2],J=jl(m[3],"|");return[{operation:P,name:Z,validChildren:J}]}else return[]})},d0=(n,s)=>{const l=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,m=/[*?+]/,{attributes:x,attributesOrder:P}=s;return re(jl(n,"|"),Z=>{const J=l.exec(Z);if(J){const ge={},Re=J[1],Ge=J[2].replace(/[\\:]:/g,":"),qe=J[3],ot=J[4];if(Re==="!"&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(Ge),ge.required=!0),Re==="-"){delete x[Ge],P.splice(fr.inArray(P,Ge),1);return}if(qe&&(qe==="="?(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:Ge,value:ot}),ge.defaultValue=ot):qe==="~"?(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:Ge,value:ot}),ge.forcedValue=ot):qe==="<"&&(ge.validValues=fr.makeMap(ot,"?"))),m.test(Ge)){const Et=ge;s.attributePatterns=s.attributePatterns||[],Et.pattern=Kr(Ge),s.attributePatterns.push(Et)}else x[Ge]||P.push(Ge),x[Ge]=ge}})},Iy=(n,s)=>{Bt(n.attributes,(l,m)=>{s.attributes[m]=l}),s.attributesOrder.push(...n.attributesOrder)},h0=(n,s)=>{const l=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ze(jl(s,","),m=>{const x=l.exec(m);if(x){const P=x[1],Z=x[2],J=x[3],ge=x[4],Re=x[5],Ge={attributes:{},attributesOrder:[]};if(n.each(qe=>Iy(qe,Ge)),P==="#"?Ge.paddEmpty=!0:P==="-"&&(Ge.removeEmpty=!0),ge==="!"&&(Ge.removeEmptyAttrs=!0),Re&&d0(Re,Ge),J&&(Ge.outputName=Z),Z==="@")if(n.isNone())n=Y.some(Ge);else return[];return[J?{name:Z,element:Ge,aliasName:J}:{name:Z,element:Ge}]}else return[]})},jO={},Mm=fr.makeMap,zd=fr.each,Ny=fr.extend,If=fr.explode,qO=(n,s={})=>{const l=Mm(n," ",Mm(n.toUpperCase()," "));return Ny(l,s)},lk=n=>qO("td th li dt dd figcaption caption details summary",n.getTextBlockElements()),m0=(n,s)=>{if(n){const l={};return M(n)&&(n={"*":n}),zd(n,(m,x)=>{l[x]=l[x.toUpperCase()]=s==="map"?Mm(m,/[, ]/):If(m,/[, ]/)}),l}else return},Em=(n={})=>{var s;const l={},m={};let x=[];const P={},Z={},J=(Wo,Hs,Pa)=>{const ai=n[Wo];if(ai)return Mm(ai,/[, ]/,Mm(ai.toUpperCase(),/[, ]/));{let Wa=jO[Wo];return Wa||(Wa=qO(Hs,Pa),jO[Wo]=Wa),Wa}},ge=(s=n.schema)!==null&&s!==void 0?s:"html5",Re=UM(ge);n.verify_html===!1&&(n.valid_elements="*[*]");const Ge=m0(n.valid_styles),qe=m0(n.invalid_styles,"map"),ot=m0(n.valid_classes,"map"),Et=J("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Vt=J("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),kt=J("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),It=J("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),cn="td th iframe video audio object script code",xn=J("non_empty_elements",cn+" pre svg",kt),bn=J("move_caret_before_on_enter_elements",cn+" table",kt),$n="h1 h2 h3 h4 h5 h6",rr=J("text_block_elements",$n+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),gr=J("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",rr),Qr=J("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),zn=J("transparent_elements","a ins del canvas map"),Bn=J("wrap_block_elements","pre "+$n);zd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Wo=>{Z[Wo]=new RegExp("</"+Wo+"[^>]*>","gi")});const tr=Wo=>{const Hs=Y.from(l["@"]),Pa=/[*?+]/;re(h0(Hs,Wo??""),({name:ai,element:Wa,aliasName:pf})=>{if(pf&&(l[pf]=Wa),Pa.test(ai)){const Jh=Wa;Jh.pattern=Kr(ai),x.push(Jh)}else l[ai]=Wa})},eo=Wo=>{x=[],re(Gt(l),Hs=>{delete l[Hs]}),tr(Wo)},po=Wo=>{delete jO.text_block_elements,delete jO.block_elements,re(HM(Wo??""),({inline:Hs,name:Pa,cloneName:ai})=>{if(m[Pa]=m[ai],P[Pa]=ai,xn[Pa.toUpperCase()]={},xn[Pa]={},Hs||(gr[Pa.toUpperCase()]={},gr[Pa]={}),!l[Pa]){let Wa=l[ai];Wa=Ny({},Wa),delete Wa.removeEmptyAttrs,delete Wa.removeEmpty,l[Pa]=Wa}Bt(m,(Wa,pf)=>{Wa[ai]&&(m[pf]=Wa=Ny({},m[pf]),Wa[Pa]=Wa[ai])})})},ls=Wo=>{re(nv(Wo??""),({operation:Hs,name:Pa,validChildren:ai})=>{const Wa=Hs==="replace"?{"#comment":{}}:m[Pa];re(ai,pf=>{Hs==="remove"?delete Wa[pf]:Wa[pf]={}}),m[Pa]=Wa})},bs=Wo=>{const Hs=l[Wo];if(Hs)return Hs;let Pa=x.length;for(;Pa--;){const ai=x[Pa];if(ai.pattern.test(Wo))return ai}};n.valid_elements?(eo(n.valid_elements),zd(Re,(Wo,Hs)=>{m[Hs]=Wo.children})):(zd(Re,(Wo,Hs)=>{l[Hs]={attributes:Wo.attributes,attributesOrder:Wo.attributesOrder},m[Hs]=Wo.children}),zd(jl("strong/b em/i"),Wo=>{const Hs=jl(Wo,"/");l[Hs[1]].outputName=Hs[0]}),zd(Qr,(Wo,Hs)=>{l[Hs]&&(n.padd_empty_block_inline_children&&(l[Hs].paddInEmptyBlock=!0),l[Hs].removeEmpty=!0)}),zd(jl("ol ul blockquote a table tbody"),Wo=>{l[Wo]&&(l[Wo].removeEmpty=!0)}),zd(jl("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Wo=>{l[Wo]&&(l[Wo].paddEmpty=!0)}),zd(jl("span"),Wo=>{l[Wo].removeEmptyAttrs=!0})),delete l.svg,po(n.custom_elements),ls(n.valid_children),tr(n.extended_valid_elements),ls("+ol[ul|ol],+ul[ul|ol]"),zd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Wo,Hs)=>{l[Hs]&&(l[Hs].parentsRequired=jl(Wo))}),n.invalid_elements&&zd(If(n.invalid_elements),Wo=>{l[Wo]&&delete l[Wo]}),bs("span")||tr("span[!data-mce-type|*]");const ma=ae(Ge),$s=ae(qe),mi=ae(ot),hc=ae(It),ga=ae(gr),Cr=ae(rr),co=ae(Qr),Zs=ae(Object.seal(kt)),ws=ae(Vt),oo=ae(xn),Lo=ae(bn),yr=ae(Et),Bo=ae(zn),Ls=ae(Bn),Aa=ae(Object.seal(Z)),Sa=(Wo,Hs)=>{const Pa=m[Wo.toLowerCase()];return!!(Pa&&Pa[Hs.toLowerCase()])},Il=(Wo,Hs)=>{const Pa=bs(Wo);if(Pa)if(Hs){if(Pa.attributes[Hs])return!0;const ai=Pa.attributePatterns;if(ai){let Wa=ai.length;for(;Wa--;)if(ai[Wa].pattern.test(Hs))return!0}}else return!0;return!1},Kh=Wo=>lt(ga(),Wo),Hf=Wo=>Il(Wo)&&!Kh(Wo),Iu=Wo=>lt(Ls(),Wo)||Hf(Wo),ih=ae(P);return{type:ge,children:m,elements:l,getValidStyles:ma,getValidClasses:mi,getBlockElements:ga,getInvalidStyles:$s,getVoidElements:Zs,getTextBlockElements:Cr,getTextInlineElements:co,getBoolAttrs:hc,getElementRule:bs,getSelfClosingElements:ws,getNonEmptyElements:oo,getMoveCaretBeforeOnEnterElements:Lo,getWhitespaceElements:yr,getTransparentElements:Bo,getSpecialElements:Aa,isValidChild:Sa,isValid:Il,isBlock:Kh,isInline:Hf,isWrapper:Iu,getCustomElements:ih,addValidElements:tr,setValidElements:eo,addCustomElements:po,addValidChildren:ls}},WM=n=>({value:g0(n)}),g0=n=>xr(n,"#").toUpperCase(),rv=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},ad=n=>{const s=rv(n.red)+rv(n.green)+rv(n.blue);return WM(s)},Au=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,YM=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ck=(n,s,l,m)=>({red:n,green:s,blue:l,alpha:m}),uk=(n,s,l,m)=>{const x=parseInt(n,10),P=parseInt(s,10),Z=parseInt(l,10),J=parseFloat(m);return ck(x,P,Z,J)},lw=n=>{if(n==="transparent")return Y.some(ck(0,0,0,0));const s=Au.exec(n);if(s!==null)return Y.some(uk(s[1],s[2],s[3],"1"));const l=YM.exec(n);return l!==null?Y.some(uk(l[1],l[2],l[3],l[4])):Y.none()},Pu=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,p0=n=>lw(n).map(ad).map(s=>"#"+s.value).getOr(n),KO=(n={},s)=>{const l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,m=/\s*([^:]+):\s*([^;]+);?/g,x=/\s+$/,P={};let Z,J;const ge=Ag;s&&(Z=s.getValidStyles(),J=s.getInvalidStyles());const Re=(`\\" \\' \\; \\: ; : `+ge).split(" ");for(let qe=0;qe<Re.length;qe++)P[Re[qe]]=ge+qe,P[ge+qe]=Re[qe];const Ge={parse:qe=>{const ot={};let Et=!1;const Vt=n.url_converter,kt=n.url_converter_scope||Ge,It=(zn,Bn,tr)=>{const eo=ot[zn+"-top"+Bn];if(!eo)return;const po=ot[zn+"-right"+Bn];if(!po)return;const ls=ot[zn+"-bottom"+Bn];if(!ls)return;const bs=ot[zn+"-left"+Bn];if(!bs)return;const ma=[eo,po,ls,bs];let $s=ma.length-1;for(;$s--&&ma[$s]===ma[$s+1];);$s>-1&&tr||(ot[zn+Bn]=$s===-1?ma[0]:ma.join(" "),delete ot[zn+"-top"+Bn],delete ot[zn+"-right"+Bn],delete ot[zn+"-bottom"+Bn],delete ot[zn+"-left"+Bn])},cn=zn=>{const Bn=ot[zn];if(!Bn)return;const tr=Bn.indexOf(",")>-1?[Bn]:Bn.split(" ");let eo=tr.length;for(;eo--;)if(tr[eo]!==tr[0])return!1;return ot[zn]=tr[0],!0},xn=(zn,Bn,tr,eo)=>{cn(Bn)&&cn(tr)&&cn(eo)&&(ot[zn]=ot[Bn]+" "+ot[tr]+" "+ot[eo],delete ot[Bn],delete ot[tr],delete ot[eo])},bn=zn=>(Et=!0,P[zn]),$n=(zn,Bn)=>(Et&&(zn=zn.replace(/\uFEFF[0-9]/g,tr=>P[tr])),Bn||(zn=zn.replace(/\\([\'\";:])/g,"$1")),zn),rr=zn=>String.fromCharCode(parseInt(zn.slice(1),16)),gr=zn=>zn.replace(/\\[0-9a-f]+/gi,rr),Qr=(zn,Bn,tr,eo,po,ls)=>{if(po=po||ls,po)return po=$n(po),"'"+po.replace(/\'/g,"\\'")+"'";if(Bn=$n(Bn||tr||eo||""),!n.allow_script_urls){const bs=Bn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(bs)||!n.allow_svg_data_urls&&/^data:image\/svg/i.test(bs))return""}return Vt&&(Bn=Vt.call(kt,Bn,"style")),"url('"+Bn.replace(/\'/g,"\\'")+"')"};if(qe){qe=qe.replace(/[\u0000-\u001F]/g,""),qe=qe.replace(/\\[\"\';:\uFEFF]/g,bn).replace(/\"[^\"]+\"|\'[^\']+\'/g,Bn=>Bn.replace(/[;:]/g,bn));let zn;for(;zn=m.exec(qe);){m.lastIndex=zn.index+zn[0].length;let Bn=zn[1].replace(x,"").toLowerCase(),tr=zn[2].replace(x,"");if(Bn&&tr){if(Bn=gr(Bn),tr=gr(tr),Bn.indexOf(ge)!==-1||Bn.indexOf('"')!==-1||!n.allow_script_urls&&(Bn==="behavior"||/expression\s*\(|\/\*|\*\//.test(tr)))continue;Bn==="font-weight"&&tr==="700"?tr="bold":(Bn==="color"||Bn==="background-color")&&(tr=tr.toLowerCase()),M(n.force_hex_color)&&n.force_hex_color!=="off"&&lw(tr).each(eo=>{(n.force_hex_color==="always"||eo.alpha===1)&&(tr=p0(Pu(eo)))}),tr=tr.replace(l,Qr),ot[Bn]=Et?$n(tr,!0):tr}}It("border","",!0),It("border","-width"),It("border","-color"),It("border","-style"),It("padding",""),It("margin",""),xn("border","border-width","border-style","border-color"),ot.border==="medium none"&&delete ot.border,ot["border-image"]==="none"&&delete ot["border-image"]}return ot},serialize:(qe,ot)=>{let Et="";const Vt=(It,cn)=>{const xn=cn[It];if(xn)for(let bn=0,$n=xn.length;bn<$n;bn++){const rr=xn[bn],gr=qe[rr];gr&&(Et+=(Et.length>0?" ":"")+rr+": "+gr+";")}},kt=(It,cn)=>{if(!J||!cn)return!0;let xn=J["*"];return xn&&xn[It]?!1:(xn=J[cn],!(xn&&xn[It]))};return ot&&Z?(Vt("*",Z),Vt(ot,Z)):Bt(qe,(It,cn)=>{It&&kt(cn,ot)&&(Et+=(Et.length>0?" ":"")+cn+": "+It+";")}),Et}};return Ge},JO={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},XM=n=>n instanceof Event||E(n.initEvent),fk=n=>n.isDefaultPrevented===le||n.isDefaultPrevented===ne,cw=n=>F(n.preventDefault)||XM(n),v0=(n,s)=>{const l=s??{};for(const m in n)lt(JO,m)||(l[m]=n[m]);return B(n.composedPath)&&(l.composedPath=()=>n.composedPath()),B(n.getModifierState)&&(l.getModifierState=m=>n.getModifierState(m)),B(n.getTargetRanges)&&(l.getTargetRanges=()=>n.getTargetRanges()),l},y0=(n,s,l,m)=>{var x;const P=v0(s,m);return P.type=n,F(P.target)&&(P.target=(x=P.srcElement)!==null&&x!==void 0?x:l),cw(s)&&(P.preventDefault=()=>{P.defaultPrevented=!0,P.isDefaultPrevented=le,E(s.preventDefault)&&s.preventDefault()},P.stopPropagation=()=>{P.cancelBubble=!0,P.isPropagationStopped=le,E(s.stopPropagation)&&s.stopPropagation()},P.stopImmediatePropagation=()=>{P.isImmediatePropagationStopped=le,P.stopPropagation()},fk(P)||(P.isDefaultPrevented=P.defaultPrevented===!0?le:ne,P.isPropagationStopped=P.cancelBubble===!0?le:ne,P.isImmediatePropagationStopped=ne)),P},ex="mce-data-",GM=/^(?:mouse|contextmenu)|click/,tx=(n,s,l,m)=>{n.addEventListener(s,l,m||!1)},b0=(n,s,l,m)=>{n.removeEventListener(s,l,m||!1)},jM=n=>B(n)&&GM.test(n.type),By=(n,s)=>{const l=y0(n.type,n,document,s);if(jM(n)&&U(n.pageX)&&!U(n.clientX)){const m=l.target.ownerDocument||document,x=m.documentElement,P=m.body,Z=l;Z.pageX=n.clientX+(x&&x.scrollLeft||P&&P.scrollLeft||0)-(x&&x.clientLeft||P&&P.clientLeft||0),Z.pageY=n.clientY+(x&&x.scrollTop||P&&P.scrollTop||0)-(x&&x.clientTop||P&&P.clientTop||0)}return l},uw=(n,s,l)=>{const m=n.document,x={type:"ready"};if(l.domLoaded){s(x);return}const P=()=>m.readyState==="complete"||m.readyState==="interactive"&&m.body,Z=()=>{b0(n,"DOMContentLoaded",Z),b0(n,"load",Z),l.domLoaded||(l.domLoaded=!0,s(x)),n=null};P()?Z():tx(n,"DOMContentLoaded",Z),l.domLoaded||tx(n,"load",Z)};class Mu{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=ex+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(s,l,m,x){const P=this;let Z;const J=window,ge=ot=>{P.executeHandlers(By(ot||J.event),Re)};if(!s||lr(s)||ed(s))return m;let Re;s[P.expando]?Re=s[P.expando]:(Re=P.count++,s[P.expando]=Re,P.events[Re]={}),x=x||s;const Ge=l.split(" ");let qe=Ge.length;for(;qe--;){let ot=Ge[qe],Et=ge,Vt=!1,kt=!1;if(ot==="DOMContentLoaded"&&(ot="ready"),P.domLoaded&&ot==="ready"&&s.readyState==="complete"){m.call(x,By({type:ot}));continue}!P.hasFocusIn&&(ot==="focusin"||ot==="focusout")&&(Vt=!0,kt=ot==="focusin"?"focus":"blur",Et=It=>{const cn=By(It||J.event);cn.type=cn.type==="focus"?"focusin":"focusout",P.executeHandlers(cn,Re)}),Z=P.events[Re][ot],Z?ot==="ready"&&P.domLoaded?m(By({type:ot})):Z.push({func:m,scope:x}):(P.events[Re][ot]=Z=[{func:m,scope:x}],Z.fakeName=kt,Z.capture=Vt,Z.nativeHandler=Et,ot==="ready"?uw(s,Et,P):tx(s,kt||ot,Et,Vt))}return s=Z=null,m}unbind(s,l,m){if(!s||lr(s)||ed(s))return this;const x=s[this.expando];if(x){let P=this.events[x];if(l){const Z=l.split(" ");let J=Z.length;for(;J--;){const ge=Z[J],Re=P[ge];if(Re){if(m){let Ge=Re.length;for(;Ge--;)if(Re[Ge].func===m){const qe=Re.nativeHandler,ot=Re.fakeName,Et=Re.capture,Vt=Re.slice(0,Ge).concat(Re.slice(Ge+1));Vt.nativeHandler=qe,Vt.fakeName=ot,Vt.capture=Et,P[ge]=Vt}}(!m||Re.length===0)&&(delete P[ge],b0(s,Re.fakeName||ge,Re.nativeHandler,Re.capture))}}}else Bt(P,(Z,J)=>{b0(s,Z.fakeName||J,Z.nativeHandler,Z.capture)}),P={};for(const Z in P)if(lt(P,Z))return this;delete this.events[x];try{delete s[this.expando]}catch{s[this.expando]=null}}return this}fire(s,l,m){return this.dispatch(s,l,m)}dispatch(s,l,m){if(!s||lr(s)||ed(s))return this;const x=By({type:l,target:s},m);do{const P=s[this.expando];P&&this.executeHandlers(x,P),s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow}while(s&&!x.isPropagationStopped());return this}clean(s){if(!s||lr(s)||ed(s))return this;if(s[this.expando]&&this.unbind(s),s.getElementsByTagName||(s=s.document),s&&s.getElementsByTagName){this.unbind(s);const l=s.getElementsByTagName("*");let m=l.length;for(;m--;)s=l[m],s[this.expando]&&this.unbind(s)}return this}destroy(){this.events={}}cancel(s){return s&&(s.preventDefault(),s.stopImmediatePropagation()),!1}executeHandlers(s,l){const m=this.events[l],x=m&&m[s.type];if(x)for(let P=0,Z=x.length;P<Z;P++){const J=x[P];if(J&&J.func.call(J.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped())return}}}Mu.Event=new Mu;const nx=fr.each,dk=fr.grep,rx="data-mce-style",u9=fr.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),ox=(n,s,l)=>{F(l)||l===""?ui(n,s):Da(n,s,l)},_g=n=>n.replace(/[A-Z]/g,s=>"-"+s.toLowerCase()),Ph=(n,s)=>{let l=0;if(n)for(let m=n.nodeType,x=n.previousSibling;x;x=x.previousSibling){const P=x.nodeType;s&&lr(x)&&(P===m||!x.data.length)||(l++,m=P)}return l},fw=(n,s)=>{const l=Ml(s,"style"),m=n.serialize(n.parse(l),Vs(s));ox(s,rx,m)},O0=(n,s)=>W(n)?lt(u9,s)?n+"":n+"px":n,sx=(n,s,l)=>{const m=_g(s);F(l)||l===""?r0(n,m):xy(n,m,O0(l,m))},hk=(n,s,l)=>{const m=s.keep_values,x={set:(Z,J,ge)=>{const Re=Yt.fromDom(Z);E(s.url_converter)&&B(J)&&(J=s.url_converter.call(s.url_converter_scope||l(),String(J),ge,Z));const Ge="data-mce-"+ge;ox(Re,Ge,J),ox(Re,ge,J)},get:(Z,J)=>{const ge=Yt.fromDom(Z);return Ml(ge,"data-mce-"+J)||Ml(ge,J)}},P={style:{set:(Z,J)=>{const ge=Yt.fromDom(Z);m&&ox(ge,rx,J),ui(ge,"style"),M(J)&&sc(ge,n.parse(J))},get:Z=>{const J=Yt.fromDom(Z),ge=Ml(J,rx)||Ml(J,"style");return n.serialize(n.parse(ge),Vs(J))}}};return m&&(P.href=P.src=x),P},$a=(n,s={})=>{const l={},m=window,x={};let P=0;const Z=!0,J=!0,ge=ew.forElement(Yt.fromDom(n),{contentCssCors:s.contentCssCors,referrerPolicy:s.referrerPolicy}),Re=[],Ge=s.schema?s.schema:Em({}),qe=KO({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope,force_hex_color:s.force_hex_color},s.schema),ot=s.ownEvents?new Mu:Mu.Event,Et=Ge.getBlockElements(),Vt=Ln=>M(Ln)?lt(Et,Ln):Xr(Ln)&&(lt(Et,Ln.nodeName)||ks(Ge,Ln)),kt=Ln=>Ln&&n&&M(Ln)?n.getElementById(Ln):Ln,It=Ln=>{const In=kt(Ln);return B(In)?Yt.fromDom(In):null},cn=(Ln,In,br="")=>{let hr;const mo=It(Ln);if(B(mo)&&Pl(mo)){const Os=nS[In];Os&&Os.get?hr=Os.get(mo.dom,In):hr=Ml(mo,In)}return B(hr)?hr:br},xn=Ln=>{const In=kt(Ln);return F(In)?[]:In.attributes},bn=(Ln,In,br)=>{co(Ln,hr=>{if(Xr(hr)){const mo=Yt.fromDom(hr),Os=br===""?null:br,qa=Ml(mo,In),vf=nS[In];vf&&vf.set?vf.set(mo.dom,Os,In):ox(mo,In,Os),qa!==Os&&s.onSetAttrib&&s.onSetAttrib({attrElm:mo.dom,attrName:In,attrValue:Os})}})},$n=(Ln,In)=>Ln.cloneNode(In),rr=()=>s.root_element||n.body,gr=Ln=>{const In=Ay(Ln);return{x:In.x,y:In.y,w:In.width,h:In.height}},Qr=(Ln,In)=>Ea(n.body,kt(Ln),In),zn=(Ln,In,br)=>{co(Ln,hr=>{const mo=Yt.fromDom(hr);sx(mo,In,br),s.update_styles&&fw(qe,mo)})},Bn=(Ln,In)=>{co(Ln,br=>{const hr=Yt.fromDom(br);Bt(In,(mo,Os)=>{sx(hr,Os,mo)}),s.update_styles&&fw(qe,hr)})},tr=(Ln,In,br)=>{const hr=kt(Ln);if(!(F(hr)||!Ul(hr)&&!GS(hr)))return br?wi(Yt.fromDom(hr),_g(In)):(In=In.replace(/-(\D)/g,(mo,Os)=>Os.toUpperCase()),In==="float"&&(In="cssFloat"),hr.style?hr.style[In]:void 0)},eo=Ln=>{const In=kt(Ln);if(!In)return{w:0,h:0};let br=tr(In,"width"),hr=tr(In,"height");return(!br||br.indexOf("px")===-1)&&(br="0"),(!hr||hr.indexOf("px")===-1)&&(hr="0"),{w:parseInt(br,10)||In.offsetWidth||In.clientWidth,h:parseInt(hr,10)||In.offsetHeight||In.clientHeight}},po=Ln=>{const In=kt(Ln),br=Qr(In),hr=eo(In);return{x:br.x,y:br.y,w:hr.w,h:hr.h}},ls=(Ln,In)=>{if(!Ln)return!1;const br=N(Ln)?Ln:[Ln];return _e(br,hr=>Uu(Yt.fromDom(hr),In))},bs=(Ln,In,br,hr)=>{const mo=[];let Os=kt(Ln);hr=hr===void 0;const qa=br||(rr().nodeName!=="BODY"?rr().parentNode:null);if(M(In))if(In==="*")In=Xr;else{const vf=In;In=mc=>ls(mc,vf)}for(;Os&&!(Os===qa||F(Os.nodeType)||kg(Os)||da(Os));){if(!In||In(Os))if(hr)mo.push(Os);else return[Os];Os=Os.parentNode}return hr?mo:null},ma=(Ln,In,br)=>{const hr=bs(Ln,In,br,!1);return hr&&hr.length>0?hr[0]:null},$s=(Ln,In,br)=>{let hr=In;if(Ln){M(In)&&(hr=mo=>ls(mo,In));for(let mo=Ln[br];mo;mo=mo[br])if(E(hr)&&hr(mo))return mo}return null},mi=(Ln,In)=>$s(Ln,In,"nextSibling"),hc=(Ln,In)=>$s(Ln,In,"previousSibling"),ga=Ln=>E(Ln.querySelectorAll),Cr=(Ln,In)=>{var br,hr;const mo=(hr=(br=kt(In))!==null&&br!==void 0?br:s.root_element)!==null&&hr!==void 0?hr:n;return ga(mo)?tt(mo.querySelectorAll(Ln)):[]},co=function(Ln,In,br){const hr=br??this;if(N(Ln)){const mo=[];return nx(Ln,(Os,qa)=>{const vf=kt(Os);vf&&mo.push(In.call(hr,vf,qa))}),mo}else{const mo=kt(Ln);return mo?In.call(hr,mo):!1}},Zs=(Ln,In)=>{co(Ln,br=>{Bt(In,(hr,mo)=>{bn(br,mo,hr)})})},ws=(Ln,In)=>{co(Ln,br=>{const hr=Yt.fromDom(br);Om(hr,In)})},oo=(Ln,In,br,hr,mo)=>co(Ln,Os=>{const qa=M(In)?n.createElement(In):In;return B(br)&&Zs(qa,br),hr&&(!M(hr)&&hr.nodeType?qa.appendChild(hr):M(hr)&&ws(qa,hr)),mo?qa:Os.appendChild(qa)}),Lo=(Ln,In,br)=>oo(n.createElement(Ln),Ln,In,br,!0),yr=Eg.decode,Bo=Eg.encodeAllRaw,Ls=(Ln,In,br="")=>{let hr="<"+Ln;for(const mo in In)ut(In,mo)&&(hr+=" "+mo+'="'+Bo(In[mo])+'"');return Ct(br)&&lt(Ge.getVoidElements(),Ln)?hr+" />":hr+">"+br+"</"+Ln+">"},Aa=Ln=>{const In=n.createElement("div"),br=n.createDocumentFragment();br.appendChild(In),Ln&&(In.innerHTML=Ln);let hr;for(;hr=In.firstChild;)br.appendChild(hr);return br.removeChild(In),br},Sa=(Ln,In)=>co(Ln,br=>{const hr=Yt.fromDom(br);return In&&re(sl(hr),mo=>{Zi(mo)&&mo.dom.length===0?Ks(mo):Ui(hr,mo)}),Ks(hr),hr.dom}),Il=Ln=>co(Ln,In=>{const br=In.attributes;for(let hr=br.length-1;hr>=0;hr--)In.removeAttributeNode(br.item(hr))}),Kh=Ln=>qe.parse(Ln),Hf=(Ln,In)=>qe.serialize(Ln,In),Iu=Ln=>{if(gp!==$a.DOM&&n===document){if(l[Ln])return;l[Ln]=!0}let In=n.getElementById("mceDefaultStyles");if(!In){In=n.createElement("style"),In.id="mceDefaultStyles",In.type="text/css";const br=n.head;br.firstChild?br.insertBefore(In,br.firstChild):br.appendChild(In)}In.styleSheet?In.styleSheet.cssText+=Ln:In.appendChild(n.createTextNode(Ln))},ih=Ln=>{Ln||(Ln=""),re(Ln.split(","),In=>{x[In]=!0,ge.load(In).catch(ie)})},Wo=(Ln,In,br)=>{co(Ln,hr=>{if(Xr(hr)){const mo=Yt.fromDom(hr),Os=In.split(" ");re(Os,qa=>{B(br)?(br?mm:gm)(mo,qa):RO(mo,qa)})}})},Hs=(Ln,In)=>{Wo(Ln,In,!0)},Pa=(Ln,In)=>{Wo(Ln,In,!1)},ai=(Ln,In)=>{const br=It(Ln),hr=In.split(" ");return B(br)&&Xe(hr,mo=>bh(br,mo))},Wa=Ln=>{co(Ln,In=>r0(Yt.fromDom(In),"display"))},pf=Ln=>{co(Ln,In=>xy(Yt.fromDom(In),"display","none"))},Jh=Ln=>{const In=It(Ln);return B(In)&&Fa(Hi(In,"display"),"none")},$v=Ln=>(Ln||"mce_")+P++,kP=Ln=>{const In=It(Ln);return B(In)?Xr(In.dom)?In.dom.outerHTML:o0(In):""},a3=(Ln,In)=>{co(Ln,br=>{Xr(br)&&(br.outerHTML=In)})},AP=(Ln,In)=>{const br=kt(In);return co(Ln,hr=>{const mo=br==null?void 0:br.parentNode,Os=br==null?void 0:br.nextSibling;return mo&&(Os?mo.insertBefore(hr,Os):mo.appendChild(hr)),hr})},J2=(Ln,In,br)=>co(In,hr=>{var mo;const Os=N(In)?Ln.cloneNode(!0):Ln;return br&&nx(dk(hr.childNodes),qa=>{Os.appendChild(qa)}),(mo=hr.parentNode)===null||mo===void 0||mo.replaceChild(Os,hr),hr}),PP=(Ln,In)=>{if(Ln.nodeName!==In.toUpperCase()){const br=Lo(In);return nx(xn(Ln),hr=>{bn(br,hr.nodeName,cn(Ln,hr.nodeName))}),J2(br,Ln,!0),br}else return Ln},eS=(Ln,In)=>{let br=Ln;for(;br;){let hr=In;for(;hr&&br!==hr;)hr=hr.parentNode;if(br===hr)break;br=br.parentNode}return!br&&Ln.ownerDocument?Ln.ownerDocument.documentElement:br},L1=Ln=>{if(Xr(Ln)){const In=Ln.nodeName.toLowerCase()==="a"&&!cn(Ln,"href")&&cn(Ln,"id");if(cn(Ln,"name")||cn(Ln,"data-mce-bookmark")||In)return!0}return!1},em=(Ln,In,br)=>{let hr=0;if(L1(Ln))return!1;const mo=Ln.firstChild;if(mo){const Os=new ca(mo,Ln),qa=Ge?Ge.getWhitespaceElements():{},vf=In||(Ge?Ge.getNonEmptyElements():null);let mc=mo;do{if(Xr(mc)){const lO=mc.getAttribute("data-mce-bogus");if(lO){mc=Os.next(lO==="all");continue}const lh=mc.nodeName.toLowerCase();if(vf&&vf[lh]){if(lh==="br"){hr++,mc=Os.next();continue}return!1}if(L1(mc))return!1}if(ed(mc)||lr(mc)&&!Qa(mc.data)&&(!(br!=null&&br.includeZwsp)||!hi(mc.data))||lr(mc)&&mc.parentNode&&qa[mc.parentNode.nodeName]&&Qa(mc.data))return!1;mc=Os.next()}while(mc)}return hr<=1},tg=()=>n.createRange(),tS=(Ln,In,br)=>{let hr=tg(),mo,Os;if(Ln&&In&&Ln.parentNode&&In.parentNode){const qa=Ln.parentNode;return hr.setStart(qa,Ph(Ln)),hr.setEnd(In.parentNode,Ph(In)),mo=hr.extractContents(),hr=tg(),hr.setStart(In.parentNode,Ph(In)+1),hr.setEnd(qa,Ph(Ln)+1),Os=hr.extractContents(),qa.insertBefore(Am(gp,mo,Ge),Ln),br?qa.insertBefore(br,Ln):qa.insertBefore(In,Ln),qa.insertBefore(Am(gp,Os,Ge),Ln),Sa(Ln),br||In}else return},aO=(Ln,In,br,hr)=>{if(N(Ln)){let mo=Ln.length;const Os=[];for(;mo--;)Os[mo]=aO(Ln[mo],In,br,hr);return Os}else return s.collect&&(Ln===n||Ln===m)&&Re.push([Ln,In,br,hr]),ot.bind(Ln,In,br,hr||gp)},i3=(Ln,In,br)=>{if(N(Ln)){let hr=Ln.length;const mo=[];for(;hr--;)mo[hr]=i3(Ln[hr],In,br);return mo}else{if(Re.length>0&&(Ln===n||Ln===m)){let hr=Re.length;for(;hr--;){const[mo,Os,qa]=Re[hr];Ln===mo&&(!In||In===Os)&&(!br||br===qa)&&ot.unbind(mo,Os,qa)}}return ot.unbind(Ln,In,br)}},ng=(Ln,In,br)=>ot.dispatch(Ln,In,br),MP=(Ln,In,br)=>ot.dispatch(Ln,In,br),l3=Ln=>{if(Ln&&Ul(Ln)){const In=Ln.getAttribute("data-mce-contenteditable");return In&&In!=="inherit"?In:Ln.contentEditable!=="inherit"?Ln.contentEditable:null}else return null},gp={doc:n,settings:s,win:m,files:x,stdMode:Z,boxModel:J,styleSheetLoader:ge,boundEvents:Re,styles:qe,schema:Ge,events:ot,isBlock:Vt,root:null,clone:$n,getRoot:rr,getViewPort:gr,getRect:po,getSize:eo,getParent:ma,getParents:bs,get:kt,getNext:mi,getPrev:hc,select:Cr,is:ls,add:oo,create:Lo,createHTML:Ls,createFragment:Aa,remove:Sa,setStyle:zn,getStyle:tr,setStyles:Bn,removeAllAttribs:Il,setAttrib:bn,setAttribs:Zs,getAttrib:cn,getPos:Qr,parseStyle:Kh,serializeStyle:Hf,addStyle:Iu,loadCSS:ih,addClass:Hs,removeClass:Pa,hasClass:ai,toggleClass:Wo,show:Wa,hide:pf,isHidden:Jh,uniqueId:$v,setHTML:ws,getOuterHTML:kP,setOuterHTML:a3,decode:yr,encode:Bo,insertAfter:AP,replace:J2,rename:PP,findCommonAncestor:eS,run:co,getAttribs:xn,isEmpty:em,createRng:tg,nodeIndex:Ph,split:tS,bind:aO,unbind:i3,fire:MP,dispatch:ng,getContentEditable:l3,getContentEditableParent:Ln=>{const In=rr();let br=null;for(let hr=Ln;hr&&hr!==In&&(br=l3(hr),br===null);hr=hr.parentNode);return br},isEditable:Ln=>{if(B(Ln)){const In=Xr(Ln)?Ln:Ln.parentElement;return B(In)&&Ul(In)&&jo(Yt.fromDom(In))}else return!1},destroy:()=>{if(Re.length>0){let Ln=Re.length;for(;Ln--;){const[In,br,hr]=Re[Ln];ot.unbind(In,br,hr)}}Bt(x,(Ln,In)=>{ge.unload(In),delete x[In]})},isChildOf:(Ln,In)=>Ln===In||In.contains(Ln),dumpRng:Ln=>"startContainer: "+Ln.startContainer.nodeName+", startOffset: "+Ln.startOffset+", endContainer: "+Ln.endContainer.nodeName+", endOffset: "+Ln.endOffset},nS=hk(qe,s,ae(gp));return gp};$a.DOM=$a(document),$a.nodeIndex=Ph;const qM=$a.DOM,ki=0,mk=1,Ga=2,x0=3;class el{constructor(s={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=s}_setReferrerPolicy(s){this.settings.referrerPolicy=s}loadScript(s){return new Promise((l,m)=>{const x=qM;let P;const Z=()=>{x.remove(Re),P&&(P.onerror=P.onload=P=null)},J=()=>{Z(),l()},ge=()=>{Z(),m("Failed to load script: "+s)},Re=x.uniqueId();P=document.createElement("script"),P.id=Re,P.type="text/javascript",P.src=fr._addCacheSuffix(s),this.settings.referrerPolicy&&x.setAttrib(P,"referrerpolicy",this.settings.referrerPolicy),P.onload=J,P.onerror=ge,(document.getElementsByTagName("head")[0]||document.body).appendChild(P)})}isDone(s){return this.states[s]===Ga}markDone(s){this.states[s]=Ga}add(s){const l=this;return l.queue.push(s),l.states[s]===void 0&&(l.states[s]=ki),new Promise((x,P)=>{l.scriptLoadedCallbacks[s]||(l.scriptLoadedCallbacks[s]=[]),l.scriptLoadedCallbacks[s].push({resolve:x,reject:P})})}load(s){return this.add(s)}remove(s){delete this.states[s],delete this.scriptLoadedCallbacks[s]}loadQueue(){const s=this.queue;return this.queue=[],this.loadScripts(s)}loadScripts(s){const l=this,m=(ge,Re)=>{Sn(l.scriptLoadedCallbacks,Re).each(Ge=>{re(Ge,qe=>qe[ge](Re))}),delete l.scriptLoadedCallbacks[Re]},x=ge=>{const Re=se(ge,Ge=>Ge.status==="rejected");return Re.length>0?Promise.reject(Ze(Re,({reason:Ge})=>N(Ge)?Ge:[Ge])):Promise.resolve()},P=ge=>Promise.allSettled(Ie(ge,Re=>l.states[Re]===Ga?(m("resolve",Re),Promise.resolve()):l.states[Re]===x0?(m("reject",Re),Promise.reject(Re)):(l.states[Re]=mk,l.loadScript(Re).then(()=>{l.states[Re]=Ga,m("resolve",Re);const Ge=l.queue;return Ge.length>0?(l.queue=[],P(Ge).then(x)):Promise.resolve()},()=>(l.states[Re]=x0,m("reject",Re),Promise.reject(Re)))))),Z=ge=>(l.loading=!0,P(ge).then(Re=>{l.loading=!1;const Ge=l.queueLoadedCallbacks.shift();return Y.from(Ge).each(pe),x(Re)})),J=gt(s);return l.loading?new Promise((ge,Re)=>{l.queueLoadedCallbacks.push(()=>{Z(J).then(ge,Re)})}):Z(J)}}el.ScriptLoader=new el;const oi=n=>{let s=n;return{get:()=>s,set:x=>{s=x}}},nf=(n,s)=>{const l=n.indexOf(s);return l!==-1&&n.indexOf(s,l+1)>l},dw=n=>I(n)&&lt(n,"raw"),ql=n=>N(n)&&n.length>1,Qy={},S0=oi("en"),Mh=()=>Sn(Qy,S0.get()),id={getData:()=>vn(Qy,n=>({...n})),setCode:n=>{n&&S0.set(n)},getCode:()=>S0.get(),add:(n,s)=>{let l=Qy[n];l||(Qy[n]=l={});const m=Ie(Gt(s),x=>x.toLowerCase());Bt(s,(x,P)=>{const Z=P.toLowerCase();Z!==P&&nf(m,Z)?(lt(s,Z)||(l[Z]=x),l[P]=x):l[Z]=x})},translate:n=>{const s=Mh().getOr({}),l=Z=>E(Z)?Object.prototype.toString.call(Z):m(Z)?"":""+Z,m=Z=>Z===""||Z===null||Z===void 0,x=Z=>{const J=l(Z);return lt(s,J)?l(s[J]):Sn(s,J.toLowerCase()).map(l).getOr(J)},P=Z=>Z.replace(/{context:\w+}$/,"");if(m(n))return"";if(dw(n))return l(n.raw);if(ql(n)){const Z=n.slice(1),J=x(n[0]).replace(/\{([0-9]+)\}/g,(ge,Re)=>lt(Z,Re)?l(Z[Re]):ge);return P(J)}return P(x(n))},isRtl:()=>Mh().bind(n=>Sn(n,"_dir")).exists(n=>n==="rtl"),hasCode:n=>lt(Qy,n)},Ec=()=>{const n=[],s={},l={},m=[],x=(kt,It)=>{const cn=se(m,xn=>xn.name===kt&&xn.state===It);re(cn,xn=>xn.resolve())},P=kt=>lt(s,kt),Z=kt=>lt(l,kt),J=kt=>{if(l[kt])return l[kt].instance},ge=(kt,It)=>{const cn=id.getCode(),xn=","+(It||"")+",";!cn||It&&xn.indexOf(","+cn+",")===-1||el.ScriptLoader.add(s[kt]+"/langs/"+cn+".js")},Re=(kt,It)=>{Ec.languageLoad!==!1&&(P(kt)?ge(kt,It):Vt(kt,"loaded").then(()=>ge(kt,It)))},Ge=(kt,It)=>(n.push(It),l[kt]={instance:It},x(kt,"added"),It),qe=kt=>{delete s[kt],delete l[kt]},ot=(kt,It)=>M(It)?M(kt)?{prefix:"",resource:It,suffix:""}:{prefix:kt.prefix,resource:It,suffix:kt.suffix}:It,Et=(kt,It)=>{if(s[kt])return Promise.resolve();let cn=M(It)?It:It.prefix+It.resource+It.suffix;cn.indexOf("/")!==0&&cn.indexOf("://")===-1&&(cn=Ec.baseURL+"/"+cn),s[kt]=cn.substring(0,cn.lastIndexOf("/"));const xn=()=>(x(kt,"loaded"),Promise.resolve());return l[kt]?xn():el.ScriptLoader.add(cn).then(xn)},Vt=(kt,It="added")=>It==="added"&&Z(kt)||It==="loaded"&&P(kt)?Promise.resolve():new Promise(cn=>{m.push({name:kt,state:It,resolve:cn})});return{items:n,urls:s,lookup:l,get:J,requireLangPack:Re,add:Ge,remove:qe,createUrl:ot,load:Et,waitFor:Vt}};Ec.languageLoad=!0,Ec.baseURL="",Ec.PluginManager=Ec(),Ec.ThemeManager=Ec(),Ec.ModelManager=Ec();const JM=n=>{const s=oi(Y.none()),l=()=>s.get().each(n);return{clear:()=>{l(),s.set(Y.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:J=>{l(),s.set(Y.some(J))}}},eE=n=>{const s=oi(Y.none()),l=()=>s.get().each(J=>clearInterval(J));return{clear:()=>{l(),s.set(Y.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:J=>{l(),s.set(Y.some(setInterval(J,n)))}}},Dg=()=>{const n=JM(ie);return{...n,on:l=>n.get().each(l)}},Fy=(n,s)=>{let l=null;return{cancel:()=>{Q(l)||(clearTimeout(l),l=null)},throttle:(...P)=>{Q(l)&&(l=setTimeout(()=>{l=null,n.apply(null,P)},s))}}},ax=(n,s)=>{let l=null;const m=()=>{Q(l)||(clearTimeout(l),l=null)};return{cancel:m,throttle:(...P)=>{m(),l=setTimeout(()=>{l=null,n.apply(null,P)},s)}}},ix=ae("mce-annotation"),Eh=ae("data-mce-annotation"),T0=ae("data-mce-annotation-uid"),C0=ae("data-mce-annotation-active"),k0=ae("data-mce-annotation-classes"),ov=ae("data-mce-annotation-attrs"),pk=n=>s=>Gs(s,n),yi=(n,s)=>{const l=n.selection.getRng(),m=Yt.fromDom(l.startContainer),x=Yt.fromDom(n.getBody()),P=s.fold(()=>"."+ix(),ge=>`[${Eh()}="${ge}"]`),Z=Oh(m,l.startOffset).getOr(m);return _f(Z,P,pk(x)).bind(ge=>xc(ge,`${T0()}`).bind(Re=>xc(ge,`${Eh()}`).map(Ge=>{const qe=yk(n,Re);return{uid:Re,name:Ge,elements:qe}})))},vk=n=>Pl(n)&&bh(n,ix()),A0=(n,s)=>Af(n,"data-mce-bogus")||qp(n,'[data-mce-bogus="all"]',pk(s)),yk=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=al(l,`[${T0()}="${s}"]`);return se(m,x=>!A0(x,l))},lx=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=al(l,`[${Eh()}="${s}"]`),x={};return re(m,P=>{if(!A0(P,l)){const Z=Ml(P,T0()),J=Sn(x,Z).getOr([]);x[Z]=J.concat([P])}}),x},ic=(n,s)=>{const l=oi({}),m=()=>({listeners:[],previous:Dg()}),x=(qe,ot)=>{P(qe,Et=>(ot(Et),Et))},P=(qe,ot)=>{const Et=l.get(),Vt=Sn(Et,qe).getOrThunk(m),kt=ot(Vt);Et[qe]=kt,l.set(Et)},Z=(qe,ot,Et)=>{x(qe,Vt=>{re(Vt.listeners,kt=>kt(!0,qe,{uid:ot,nodes:Ie(Et,It=>It.dom)}))})},J=qe=>{x(qe,ot=>{re(ot.listeners,Et=>Et(!1,qe))})},ge=(qe,ot)=>{re(yk(n,qe),Et=>{ot?Da(Et,C0(),"true"):ui(Et,C0())})},Re=ax(()=>{const qe=je(s.getNames());re(qe,ot=>{P(ot,Et=>{const Vt=Et.previous.get();return yi(n,Y.some(ot)).fold(()=>{Vt.each(kt=>{J(ot),Et.previous.clear(),ge(kt,!1)})},({uid:kt,name:It,elements:cn})=>{Fa(Vt,kt)||(Vt.each(xn=>ge(xn,!1)),Z(It,kt,cn),Et.previous.set(kt),ge(kt,!0))}),{previous:Et.previous,listeners:Et.listeners}})})},30);return n.on("remove",()=>{Re.cancel()}),n.on("NodeChange",()=>{Re.throttle()}),{addListener:(qe,ot)=>{P(qe,Et=>({previous:Et.previous,listeners:Et.listeners.concat([ot])}))}}},rf=(n,s)=>{const l=Eh(),m=P=>Y.from(P.attr(l)).bind(s.lookup),x=P=>{var Z,J;P.attr(T0(),null),P.attr(Eh(),null),P.attr(C0(),null);const ge=Y.from(P.attr(ov())).map(ot=>ot.split(",")).getOr([]),Re=Y.from(P.attr(k0())).map(ot=>ot.split(",")).getOr([]);re(ge,ot=>P.attr(ot,null));const Ge=(J=(Z=P.attr("class"))===null||Z===void 0?void 0:Z.split(" "))!==null&&J!==void 0?J:[],qe=pt(Ge,[ix()].concat(Re));P.attr("class",qe.length>0?qe.join(" "):null),P.attr(k0(),null),P.attr(ov(),null)};n.serializer.addTempAttr(C0()),n.serializer.addAttributeFilter(l,P=>{for(const Z of P)m(Z).each(J=>{J.persistent===!1&&(Z.name==="span"?Z.unwrap():x(Z))})})},bk=()=>{const n={};return{register:(x,P)=>{n[x]={name:x,settings:P}},lookup:x=>Sn(n,x).map(P=>P.settings),getNames:()=>Gt(n)}};let cx=0;const sv=n=>{const l=new Date().getTime(),m=Math.floor(Math.random()*1e9);return cx++,n+"_"+m+cx+String(l)},tE=(n,s)=>{re(s,l=>{mm(n,l)})},Ok=(n,s)=>{re(s,l=>{gm(n,l)})},hw=(n,s)=>Yt.fromDom(n.dom.cloneNode(s)),Eu=n=>hw(n,!1),ux=n=>hw(n,!0),Ai=(n,s)=>{const l=Yt.fromTag(s),m=Vp(n);return Tu(l,m),l},Zd=(n,s)=>{const l=Ai(n,s);Xu(n,l);const m=sl(n);return Ta(l,m),Ks(n),l},P0=(n,s,l=ne)=>{const m=new ca(n,s),x=P=>{let Z;do Z=m[P]();while(Z&&!lr(Z)&&!l(Z));return Y.from(Z).filter(lr)};return{current:()=>Y.from(m.current()).filter(lr),next:()=>x("next"),prev:()=>x("prev"),prev2:()=>x("prev2")}},$g=(n,s)=>{const l=s||(Z=>n.isBlock(Z)||aa(Z)||xs(Z)),m=(Z,J,ge,Re)=>{if(lr(Z)){const Ge=Re(Z,J,Z.data);if(Ge!==-1)return Y.some({container:Z,offset:Ge})}return ge().bind(Ge=>m(Ge.container,Ge.offset,ge,Re))};return{backwards:(Z,J,ge,Re)=>{const Ge=P0(Z,Re??n.getRoot(),l);return m(Z,J,()=>Ge.prev().map(qe=>({container:qe,offset:qe.length})),ge).getOrNull()},forwards:(Z,J,ge,Re)=>{const Ge=P0(Z,Re??n.getRoot(),l);return m(Z,J,()=>Ge.next().map(qe=>({container:qe,offset:0})),ge).getOrNull()}}},av=Math.round,iv=n=>n?{left:av(n.left),top:av(n.top),bottom:av(n.bottom),right:av(n.right),width:av(n.width),height:av(n.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Rm=(n,s)=>(n=iv(n),s||(n.left=n.left+n.width),n.right=n.left,n.width=0,n),xk=(n,s)=>n.left===s.left&&n.top===s.top&&n.bottom===s.bottom&&n.right===s.right,lv=(n,s,l)=>n>=0&&n<=Math.min(s.height,l.height)/2,Lg=(n,s)=>{const l=Math.min(s.height/2,n.height/2);return n.bottom-l<s.top?!0:n.top>s.bottom?!1:lv(s.top-n.bottom,n,s)},cv=(n,s)=>n.top>s.bottom?!0:n.bottom<s.top?!1:lv(s.bottom-n.top,n,s),Sk=(n,s,l)=>s>=n.left&&s<=n.right&&l>=n.top&&l<=n.bottom,nE=n=>oe(n,(s,l)=>s.fold(()=>Y.some(l),m=>{const x=Math.min(l.left,m.left),P=Math.min(l.top,m.top),Z=Math.max(l.right,m.right),J=Math.max(l.bottom,m.bottom);return Y.some({top:P,right:Z,bottom:J,left:x,width:Z-x,height:J-P})}),Y.none()),mw=(n,s,l)=>{const m=Math.max(Math.min(s,n.left+n.width),n.left),x=Math.max(Math.min(l,n.top+n.height),n.top);return Math.sqrt((s-m)*(s-m)+(l-x)*(l-x))},rE=(n,s)=>Math.max(0,Math.min(n.bottom,s.bottom)-Math.max(n.top,s.top)),fx=(n,s,l)=>Math.min(Math.max(n,s),l),gw=n=>{const s=n.startContainer,l=n.startOffset;return s===n.endContainer&&s.hasChildNodes()&&n.endOffset===l+1?s.childNodes[l]:null},_u=(n,s)=>{if(Xr(n)&&n.hasChildNodes()){const l=n.childNodes,m=fx(s,0,l.length-1);return l[m]}else return n},wk=(n,s)=>{if(!(s<0&&Xr(n)&&n.hasChildNodes()))return _u(n,s)},M0=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Tk=n=>M(n)&&n.charCodeAt(0)>=768&&M0.test(n),oE=(...n)=>s=>{for(let l=0;l<n.length;l++)if(n[l](s))return!0;return!1},Vy=(...n)=>s=>{for(let l=0;l<n.length;l++)if(!n[l](s))return!1;return!0},Ig=Xr,dx=go,Rs=Id("display","block table"),Ru=Id("float","left right"),Hd=Vy(Ig,dx,xe(Ru)),pw=xe(Id("white-space","pre pre-line pre-wrap")),ha=lr,zy=aa,vw=$a.nodeIndex,ul=wk,_h=n=>n?n.createRange():$a.DOM.createRng(),Ng=n=>M(n)&&/[\r\n\t ]/.test(n),yw=n=>!!n.setStart&&!!n.setEnd,hx=n=>{const s=n.startContainer,l=n.startOffset;if(Ng(n.toString())&&pw(s.parentNode)&&lr(s)){const m=s.data;if(Ng(m[l-1])||Ng(m[l+1]))return!0}return!1},Zy=n=>{const s=n.ownerDocument,l=_h(s),m=s.createTextNode(zs),x=n.parentNode;x.insertBefore(m,n),l.setStart(m,0),l.setEnd(m,1);const P=iv(l.getBoundingClientRect());return x.removeChild(m),P},bw=n=>{const s=n.startContainer,l=n.endContainer,m=n.startOffset,x=n.endOffset;if(s===l&&lr(l)&&m===0&&x===1){const P=n.cloneRange();return P.setEndAfter(l),Rh(P)}else return null},mx=n=>n.left===0&&n.right===0&&n.top===0&&n.bottom===0,Rh=n=>{var s;let l;const m=n.getClientRects();return m.length>0?l=iv(m[0]):l=iv(n.getBoundingClientRect()),!yw(n)&&zy(n)&&mx(l)?Zy(n):mx(l)&&yw(n)&&(s=bw(n))!==null&&s!==void 0?s:l},Dm=(n,s)=>{const l=Rm(n,s);return l.width=1,l.right=l.left+1,l},sE=n=>{const s=[],l=Z=>{Z.height!==0&&(s.length>0&&xk(Z,s[s.length-1])||s.push(Z))},m=(Z,J)=>{const ge=_h(Z.ownerDocument);if(J<Z.data.length){if(Tk(Z.data[J]))return;if(Tk(Z.data[J-1])&&(ge.setStart(Z,J),ge.setEnd(Z,J+1),!hx(ge))){l(Dm(Rh(ge),!1));return}}J>0&&(ge.setStart(Z,J-1),ge.setEnd(Z,J),hx(ge)||l(Dm(Rh(ge),!1))),J<Z.data.length&&(ge.setStart(Z,J),ge.setEnd(Z,J+1),hx(ge)||l(Dm(Rh(ge),!0)))},x=n.container(),P=n.offset();if(ha(x))return m(x,P),s;if(Ig(x))if(n.isAtEnd()){const Z=ul(x,P);ha(Z)&&m(Z,Z.data.length),Hd(Z)&&!zy(Z)&&l(Dm(Rh(Z),!1))}else{const Z=ul(x,P);if(ha(Z)&&m(Z,0),Hd(Z)&&n.isAtEnd())return l(Dm(Rh(Z),!1)),s;const J=ul(n.container(),n.offset()-1);Hd(J)&&!zy(J)&&(Rs(J)||Rs(Z)||!Hd(Z))&&l(Dm(Rh(J),!1)),Hd(Z)&&l(Dm(Rh(Z),!0))}return s},Nn=(n,s,l)=>{const m=()=>(ha(n),s===0),x=()=>ha(n)?s>=n.data.length:s>=n.childNodes.length,P=()=>{const Ge=_h(n.ownerDocument);return Ge.setStart(n,s),Ge.setEnd(n,s),Ge},Z=()=>(l||(l=sE(Nn(n,s))),l),J=()=>Z().length>0,ge=Ge=>Ge&&n===Ge.container()&&s===Ge.offset(),Re=Ge=>ul(n,Ge?s-1:s);return{container:ae(n),offset:ae(s),toRange:P,getClientRects:Z,isVisible:J,isAtStart:m,isAtEnd:x,isEqual:ge,getNode:Re}};Nn.fromRangeStart=n=>Nn(n.startContainer,n.startOffset),Nn.fromRangeEnd=n=>Nn(n.endContainer,n.endOffset),Nn.after=n=>Nn(n.parentNode,vw(n)+1),Nn.before=n=>Nn(n.parentNode,vw(n)),Nn.isAbove=(n,s)=>Va(yt(s.getClientRects()),ft(n.getClientRects()),Lg).getOr(!1),Nn.isBelow=(n,s)=>Va(ft(s.getClientRects()),yt(n.getClientRects()),cv).getOr(!1),Nn.isAtStart=n=>n?n.isAtStart():!1,Nn.isAtEnd=n=>n?n.isAtEnd():!1,Nn.isTextPosition=n=>n?lr(n.container()):!1,Nn.isElementPosition=n=>!Nn.isTextPosition(n);const Hy=(n,s)=>{lr(s)&&s.data.length===0&&n.remove(s)},E0=(n,s,l)=>{s.insertNode(l),Hy(n,l.previousSibling),Hy(n,l.nextSibling)},of=(n,s,l)=>{const m=Y.from(l.firstChild),x=Y.from(l.lastChild);s.insertNode(l),m.each(P=>Hy(n,P.previousSibling)),x.each(P=>Hy(n,P.nextSibling))},Ow=(n,s,l)=>{da(l)?of(n,s,l):E0(n,s,l)},Ua=lr,gx=Df,$m=$a.nodeIndex,xw=n=>{const s=n.parentNode;return gx(s)?xw(s):s},px=n=>n?dn(n.childNodes,(s,l)=>(gx(l)&&l.nodeName!=="BR"?s=s.concat(px(l)):s.push(l),s),[]):[],Sw=(n,s)=>{let l=n;for(;(l=l.previousSibling)&&Ua(l);)s+=l.data.length;return s},Uy=n=>s=>n===s,_0=n=>{let s,l;s=px(xw(n)),l=rn(s,Uy(n),n),s=s.slice(0,l+1);const m=dn(s,(x,P,Z)=>(Ua(P)&&Ua(s[Z-1])&&x++,x),0);return s=Tt(s,vi([n.nodeName])),l=rn(s,Uy(n),n),l-m},ww=n=>(Ua(n)?"text()":n.nodeName.toLowerCase())+"["+_0(n)+"]",aE=(n,s,l)=>{const m=[];for(let x=s.parentNode;x&&x!==n&&!(l&&l(x));x=x.parentNode)m.push(x);return m},Yc=(n,s)=>{let l=[],m=s.container(),x=s.offset(),P;if(Ua(m))P=Sw(m,x);else{const J=m.childNodes;x>=J.length?(P="after",x=J.length-1):P="before",m=J[x]}l.push(ww(m));let Z=aE(n,m);return Z=Tt(Z,xe(Df)),l=l.concat(mt(Z,J=>ww(J))),l.reverse().join("/")+","+P},fl=(n,s,l)=>{let m=px(n);return m=Tt(m,(x,P)=>!Ua(x)||!Ua(m[P-1])),m=Tt(m,vi([s])),m[l]},Kl=(n,s)=>{let l=n,m=0;for(;Ua(l);){const x=l.data.length;if(s>=m&&s<=m+x){n=l,s=s-m;break}if(!Ua(l.nextSibling)){n=l,s=x;break}m+=x,l=l.nextSibling}return Ua(n)&&s>n.data.length&&(s=n.data.length),Nn(n,s)},Xc=(n,s)=>{if(!s)return null;const l=s.split(","),m=l[0].split("/"),x=l.length>1?l[1]:"before",P=dn(m,(Z,J)=>{const ge=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(J);return ge?(ge[1]==="text()"&&(ge[1]="#text"),fl(Z,ge[1],parseInt(ge[2],10))):null},n);if(!P)return null;if(!Ua(P)&&P.parentNode){let Z;return x==="after"?Z=$m(P)+1:Z=$m(P),Nn(P.parentNode,Z)}return Kl(P,parseInt(x,10))},lc=xs,_c=(n,s,l)=>{let m=n(s.data.slice(0,l)).length;for(let x=s.previousSibling;x&&lr(x);x=x.previousSibling)m+=n(x.data).length;return m},dl=(n,s,l,m,x)=>{const P=x?m.startContainer:m.endContainer;let Z=x?m.startOffset:m.endOffset;const J=[],ge=n.getRoot();if(lr(P))J.push(l?_c(s,P,Z):Z);else{let Re=0;const Ge=P.childNodes;Z>=Ge.length&&Ge.length&&(Re=1,Z=Math.max(0,Ge.length-1)),J.push(n.nodeIndex(Ge[Z],l)+Re)}for(let Re=P;Re&&Re!==ge;Re=Re.parentNode)J.push(n.nodeIndex(Re,l));return J},Tw=(n,s,l,m)=>{const x=s.dom,P=dl(x,n,l,m,!0),Z=s.isForward(),J=yn(m)?{isFakeCaret:!0}:{};if(s.isCollapsed())return{start:P,forward:Z,...J};{const ge=dl(x,n,l,m,!1);return{start:P,end:ge,forward:Z,...J}}},Wy=(n,s,l)=>{let m=0;return fr.each(n.select(s),x=>{if(x.getAttribute("data-mce-bogus")!=="all"){if(x===l)return!1;m++;return}}),m},Cw=(n,s)=>{let l=s?n.startContainer:n.endContainer,m=s?n.startOffset:n.endOffset;if(Xr(l)&&l.nodeName==="TR"){const x=l.childNodes;l=x[Math.min(s?m:m-1,x.length-1)],l&&(m=s?0:l.childNodes.length,s?n.setStart(l,m):n.setEnd(l,m))}},Yy=n=>(Cw(n,!0),Cw(n,!1),n),kw=(n,s)=>{if(Xr(n)&&(n=_u(n,s),lc(n)))return n;if(bt(n)){lr(n)&&rt(n)&&(n=n.parentNode);let l=n.previousSibling;if(lc(l)||(l=n.nextSibling,lc(l)))return l}},Ck=n=>kw(n.startContainer,n.startOffset)||kw(n.endContainer,n.endOffset),vx=(n,s,l)=>{const m=l.getNode(),x=l.getRng();if(m.nodeName==="IMG"||lc(m)){const Z=m.nodeName;return{name:Z,index:Wy(l.dom,Z,m)}}const P=Ck(x);if(P){const Z=P.tagName;return{name:Z,index:Wy(l.dom,Z,P)}}return Tw(n,l,s,x)},Aw=n=>{const s=n.getRng();return{start:Yc(n.dom.getRoot(),Nn.fromRangeStart(s)),end:Yc(n.dom.getRoot(),Nn.fromRangeEnd(s)),forward:n.isForward()}},iE=n=>({rng:n.getRng(),forward:n.isForward()}),lE=(n,s,l)=>{const m={"data-mce-type":"bookmark",id:s,style:"overflow:hidden;line-height:0px"};return l?n.create("span",m,"&#xFEFF;"):n.create("span",m)},kk=(n,s)=>{const l=n.dom;let m=n.getRng();const x=l.uniqueId(),P=n.isCollapsed(),Z=n.getNode(),J=Z.nodeName,ge=n.isForward();if(J==="IMG")return{name:J,index:Wy(l,J,Z)};const Re=Yy(m.cloneRange());if(!P){Re.collapse(!1);const qe=lE(l,x+"_end",s);Ow(l,Re,qe)}m=Yy(m),m.collapse(!0);const Ge=lE(l,x+"_start",s);return Ow(l,m,Ge),n.moveToBookmark({id:x,keep:!0,forward:ge}),{id:x,forward:ge}},cE=(n,s,l=!1)=>s===2?vx(Pe,l,n):s===3?Aw(n):s?iE(n):kk(n,!1),R0=ee(vx,q,!0),yx=n=>{const s=P=>P(n),l=ae(n),m=()=>x,x={tag:!0,inner:n,fold:(P,Z)=>Z(n),isValue:le,isError:ne,map:P=>lu.value(P(n)),mapError:m,bind:s,exists:s,forall:s,getOr:l,or:m,getOrThunk:l,orThunk:m,getOrDie:l,each:P=>{P(n)},toOptional:()=>Y.some(n)};return x},Ak=n=>{const s=()=>l,l={tag:!1,inner:n,fold:(m,x)=>m(n),isValue:ne,isError:le,map:s,mapError:m=>lu.error(m(n)),bind:s,exists:ne,forall:le,getOr:q,or:q,getOrThunk:Be,orThunk:Be,getOrDie:we(String(n)),each:ie,toOptional:Y.none};return l},lu={value:yx,error:Ak,fromOption:(n,s)=>n.fold(()=>Ak(s),yx)},Ud={generate:n=>{if(!N(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],l={};return re(n,(m,x)=>{const P=Gt(m);if(P.length!==1)throw new Error("one and only one name per case");const Z=P[0],J=m[Z];if(l[Z]!==void 0)throw new Error("duplicate key detected:"+Z);if(Z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!N(J))throw new Error("case arguments must be an array");s.push(Z),l[Z]=(...ge)=>{const Re=ge.length;if(Re!==J.length)throw new Error("Wrong number of arguments to case "+Z+". Expected "+J.length+" ("+J+"), got "+Re);return{fold:(...qe)=>{if(qe.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+qe.length);return qe[x].apply(null,ge)},match:qe=>{const ot=Gt(qe);if(s.length!==ot.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+ot.join(","));if(!Xe(s,Vt=>Ve(ot,Vt)))throw new Error("Not all branches were specified when using match. Specified: "+ot.join(", ")+`
Required: `+s.join(", "));return qe[Z].apply(null,ge)},log:qe=>{console.log(qe,{constructors:s,constructor:Z,params:ge})}}}}),l}};Ud.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const pr=n=>{const s=[],l=[];return re(n,m=>{m.fold(x=>{s.push(x)},x=>{l.push(x)})}),{errors:s,values:l}},Pw=n=>n.type==="inline-command"||n.type==="inline-format",hl=n=>n.type==="block-command"||n.type==="block-format",Pk=n=>{const s=m=>lu.error({message:m,pattern:n}),l=(m,x,P)=>{if(n.format!==void 0){let Z;if(N(n.format)){if(!Xe(n.format,M))return s(m+" pattern has non-string items in the `format` array");Z=n.format}else if(M(n.format))Z=[n.format];else return s(m+" pattern has non-string `format` parameter");return lu.value(x(Z))}else return n.cmd!==void 0?M(n.cmd)?lu.value(P(n.cmd,n.value)):s(m+" pattern has non-string `cmd` parameter"):s(m+" pattern is missing both `format` and `cmd` parameters")};if(!I(n))return s("Raw pattern is not an object");if(!M(n.start))return s("Raw pattern is missing `start` parameter");if(n.end!==void 0){if(!M(n.end))return s("Inline pattern has non-string `end` parameter");if(n.start.length===0&&n.end.length===0)return s("Inline pattern has empty `start` and `end` parameters");let m=n.start,x=n.end;return x.length===0&&(x=m,m=""),l("Inline",P=>({type:"inline-format",start:m,end:x,format:P}),(P,Z)=>({type:"inline-command",start:m,end:x,cmd:P,value:Z}))}else return n.replacement!==void 0?M(n.replacement)?n.start.length===0?s("Replacement pattern has empty `start` parameter"):lu.value({type:"inline-command",start:"",end:n.start,cmd:"mceInsertContent",value:n.replacement}):s("Replacement pattern has non-string `replacement` parameter"):n.start.length===0?s("Block pattern has empty `start` parameter"):l("Block",m=>({type:"block-format",start:n.start,format:m[0]}),(m,x)=>({type:"block-command",start:n.start,cmd:m,value:x}))},bx=n=>se(n,hl),Mw=n=>se(n,Pw),cu=(n,s)=>({inlinePatterns:Mw(n),blockPatterns:bx(n),dynamicPatternsLookup:s}),uE=n=>{const s=pr(Ie(n,Pk));return re(s.errors,l=>console.error(l.message,l.pattern)),s.values},Mk=n=>s=>{const l=n(s);return uE(l)},uu=li().deviceType,D0=uu.isTouch(),Xy=$a.DOM,Dh=n=>{const s=n.indexOf("=")>0?n.split(/[;,](?![^=;,]*(?:[;,]|$))/):n.split(",");return oe(s,(l,m)=>{const x=m.split("="),P=x[0],Z=x.length>1?x[1]:P;return l[wr(P)]=wr(Z),l},{})},ld=n=>R(n,RegExp),Wr=n=>s=>s.options.get(n),sf=n=>M(n)||I(n),Ek=(n,s="")=>l=>{const m=M(l);if(m)if(l.indexOf("=")!==-1){const x=Dh(l);return{value:Sn(x,n.id).getOr(s),valid:m}}else return{value:l,valid:m};else return{valid:!1,message:"Must be a string."}},_k=n=>{const s=n.options.register;s("id",{processor:"string",default:n.id}),s("selector",{processor:"string"}),s("target",{processor:"object"}),s("suffix",{processor:"string"}),s("cache_suffix",{processor:"string"}),s("base_url",{processor:"string"}),s("referrer_policy",{processor:"string",default:""}),s("language_load",{processor:"boolean",default:!0}),s("inline",{processor:"boolean",default:!1}),s("iframe_attrs",{processor:"object",default:{}}),s("doctype",{processor:"string",default:"<!DOCTYPE html>"}),s("document_base_url",{processor:"string",default:n.documentBaseUrl}),s("body_id",{processor:Ek(n,"tinymce"),default:"tinymce"}),s("body_class",{processor:Ek(n),default:""}),s("content_security_policy",{processor:"string",default:""}),s("br_in_pre",{processor:"boolean",default:!0}),s("forced_root_block",{processor:l=>{const m=M(l)&&St(l);return m?{value:l,valid:m}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),s("forced_root_block_attrs",{processor:"object",default:{}}),s("newline_behavior",{processor:l=>{const m=Ve(["block","linebreak","invert","default"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),s("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),s("no_newline_selector",{processor:"string",default:""}),s("keep_styles",{processor:"boolean",default:!0}),s("end_container_on_empty_block",{processor:l=>z(l)?{valid:!0,value:l}:M(l)?{valid:!0,value:l}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),s("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),s("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),s("font_size_classes",{processor:"string",default:""}),s("automatic_uploads",{processor:"boolean",default:!0}),s("images_reuse_filename",{processor:"boolean",default:!1}),s("images_replace_blob_uris",{processor:"boolean",default:!0}),s("icons",{processor:"string",default:""}),s("icons_url",{processor:"string",default:""}),s("images_upload_url",{processor:"string",default:""}),s("images_upload_base_path",{processor:"string",default:""}),s("images_upload_credentials",{processor:"boolean",default:!1}),s("images_upload_handler",{processor:"function"}),s("language",{processor:"string",default:"en"}),s("language_url",{processor:"string",default:""}),s("entity_encoding",{processor:"string",default:"named"}),s("indent",{processor:"boolean",default:!0}),s("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_use_margin",{processor:"boolean",default:!1}),s("indentation",{processor:"string",default:"40px"}),s("content_css",{processor:l=>{const m=l===!1||M(l)||X(l,M);return m?M(l)?{value:Ie(l.split(","),wr),valid:m}:N(l)?{value:l,valid:m}:l===!1?{value:[],valid:m}:{value:l,valid:m}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Vw(n)?[]:["default"]}),s("content_style",{processor:"string"}),s("content_css_cors",{processor:"boolean",default:!1}),s("font_css",{processor:l=>{const m=M(l)||X(l,M);return m?{value:N(l)?l:Ie(l.split(","),wr),valid:m}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),s("inline_boundaries",{processor:"boolean",default:!0}),s("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),s("object_resizing",{processor:l=>{const m=z(l)||M(l);return m?l===!1||uu.isiPhone()||uu.isiPad()?{value:"",valid:m}:{value:l===!0?"table,img,figure.image,div,video,iframe":l,valid:m}:{valid:!1,message:"Must be boolean or a string"}},default:!D0}),s("resize_img_proportional",{processor:"boolean",default:!0}),s("event_root",{processor:"object"}),s("service_message",{processor:"string"}),s("theme",{processor:l=>l===!1||M(l)||E(l),default:"silver"}),s("theme_url",{processor:"string"}),s("formats",{processor:"object"}),s("format_empty_lines",{processor:"boolean",default:!1}),s("format_noneditable_selector",{processor:"string",default:""}),s("preview_styles",{processor:l=>{const m=l===!1||M(l);return m?{value:l===!1?"":l,valid:m}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),s("custom_ui_selector",{processor:"string",default:""}),s("hidden_input",{processor:"boolean",default:!0}),s("submit_patch",{processor:"boolean",default:!0}),s("encoding",{processor:"string"}),s("add_form_submit_trigger",{processor:"boolean",default:!0}),s("add_unload_trigger",{processor:"boolean",default:!0}),s("custom_undo_redo_levels",{processor:"number",default:0}),s("disable_nodechange",{processor:"boolean",default:!1}),s("readonly",{processor:"boolean",default:!1}),s("editable_root",{processor:"boolean",default:!0}),s("plugins",{processor:"string[]",default:[]}),s("external_plugins",{processor:"object"}),s("forced_plugins",{processor:"string[]"}),s("model",{processor:"string",default:n.hasPlugin("rtc")?"plugin":"dom"}),s("model_url",{processor:"string"}),s("block_unsupported_drop",{processor:"boolean",default:!0}),s("visual",{processor:"boolean",default:!0}),s("visual_table_class",{processor:"string",default:"mce-item-table"}),s("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),s("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),s("setup",{processor:"function"}),s("init_instance_callback",{processor:"function"}),s("url_converter",{processor:"function",default:n.convertURL}),s("url_converter_scope",{processor:"object",default:n}),s("urlconverter_callback",{processor:"function"}),s("allow_conditional_comments",{processor:"boolean",default:!1}),s("allow_html_data_urls",{processor:"boolean",default:!1}),s("allow_svg_data_urls",{processor:"boolean"}),s("allow_html_in_named_anchor",{processor:"boolean",default:!1}),s("allow_script_urls",{processor:"boolean",default:!1}),s("allow_unsafe_link_target",{processor:"boolean",default:!1}),s("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),s("fix_list_elements",{processor:"boolean",default:!1}),s("preserve_cdata",{processor:"boolean",default:!1}),s("remove_trailing_brs",{processor:"boolean",default:!0}),s("pad_empty_with_br",{processor:"boolean",default:!1}),s("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),s("element_format",{processor:"string",default:"html"}),s("entities",{processor:"string"}),s("schema",{processor:"string",default:"html5"}),s("convert_urls",{processor:"boolean",default:!0}),s("relative_urls",{processor:"boolean",default:!0}),s("remove_script_host",{processor:"boolean",default:!0}),s("custom_elements",{processor:"string"}),s("extended_valid_elements",{processor:"string"}),s("invalid_elements",{processor:"string"}),s("invalid_styles",{processor:sf}),s("valid_children",{processor:"string"}),s("valid_classes",{processor:sf}),s("valid_elements",{processor:"string"}),s("valid_styles",{processor:sf}),s("verify_html",{processor:"boolean",default:!0}),s("auto_focus",{processor:l=>M(l)||l===!0}),s("browser_spellcheck",{processor:"boolean",default:!1}),s("protect",{processor:"array"}),s("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),s("deprecation_warnings",{processor:"boolean",default:!0}),s("a11y_advanced_options",{processor:"boolean",default:!1}),s("api_key",{processor:"string"}),s("paste_block_drop",{processor:"boolean",default:!1}),s("paste_data_images",{processor:"boolean",default:!0}),s("paste_preprocess",{processor:"function"}),s("paste_postprocess",{processor:"function"}),s("paste_webkit_styles",{processor:"string",default:"none"}),s("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),s("paste_merge_formats",{processor:"boolean",default:!0}),s("smart_paste",{processor:"boolean",default:!0}),s("paste_as_text",{processor:"boolean",default:!1}),s("paste_tab_spaces",{processor:"number",default:4}),s("text_patterns",{processor:l=>X(l,I)||l===!1?{value:uE(l===!1?[]:l),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),s("text_patterns_lookup",{processor:l=>E(l)?{value:Mk(l),valid:!0}:{valid:!1,message:"Must be a single function"},default:l=>[]}),s("noneditable_class",{processor:"string",default:"mceNonEditable"}),s("editable_class",{processor:"string",default:"mceEditable"}),s("noneditable_regexp",{processor:l=>X(l,ld)?{value:l,valid:!0}:ld(l)?{value:[l],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),s("table_tab_navigation",{processor:"boolean",default:!0}),s("highlight_on_focus",{processor:"boolean",default:!1}),s("xss_sanitization",{processor:"boolean",default:!0}),s("details_initial_state",{processor:l=>{const m=Ve(["inherited","collapsed","expanded"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),s("details_serialized_state",{processor:l=>{const m=Ve(["inherited","collapsed","expanded"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),s("init_content_sync",{processor:"boolean",default:!1}),s("newdocument_content",{processor:"string",default:""}),s("force_hex_color",{processor:l=>{const m=["always","rgb_only","off"],x=Ve(m,l);return x?{value:l,valid:x}:{valid:!1,message:`Must be one of: ${m.join(", ")}.`}},default:"off"}),s("sandbox_iframes",{processor:"boolean",default:!1}),s("convert_unsafe_embeds",{processor:"boolean",default:!1}),n.on("ScriptsLoaded",()=>{s("directionality",{processor:"string",default:id.isRtl()?"rtl":void 0}),s("placeholder",{processor:"string",default:Xy.getAttrib(n.getElement(),"placeholder")})})},Ew=Wr("iframe_attrs"),Rk=Wr("doctype"),_w=Wr("document_base_url"),Rw=Wr("body_id"),fE=Wr("body_class"),Dw=Wr("content_security_policy"),dE=Wr("br_in_pre"),Rc=Wr("forced_root_block"),Gy=Wr("forced_root_block_attrs"),hE=Wr("newline_behavior"),mE=Wr("br_newline_selector"),$w=Wr("no_newline_selector"),gE=Wr("keep_styles"),Dk=Wr("end_container_on_empty_block"),$k=Wr("automatic_uploads"),jy=Wr("images_reuse_filename"),Lk=Wr("images_replace_blob_uris"),Lw=Wr("icons"),uv=Wr("icons_url"),pE=Wr("images_upload_url"),vE=Wr("images_upload_base_path"),Iw=Wr("images_upload_credentials"),yE=Wr("images_upload_handler"),Lm=Wr("content_css_cors"),gs=Wr("referrer_policy"),Nw=Wr("language"),Dc=Wr("language_url"),Ox=Wr("indent_use_margin"),Bw=Wr("indentation"),Qw=Wr("content_css"),xx=Wr("content_style"),Ik=Wr("font_css"),bE=Wr("directionality"),OE=Wr("inline_boundaries_selector"),$0=Wr("object_resizing"),Nk=Wr("resize_img_proportional"),g9=Wr("placeholder"),Bg=Wr("event_root"),xE=Wr("service_message"),L0=Wr("theme"),SE=Wr("theme_url"),Fw=Wr("model"),Bk=Wr("model_url"),fv=Wr("inline_boundaries"),wE=Wr("formats"),Qk=Wr("preview_styles"),Fk=Wr("format_empty_lines"),I0=Wr("format_noneditable_selector"),Vk=Wr("custom_ui_selector"),Vw=Wr("inline"),TE=Wr("hidden_input"),zk=Wr("submit_patch"),$h=Wr("add_form_submit_trigger"),qy=Wr("add_unload_trigger"),Ky=Wr("custom_undo_redo_levels"),Sx=Wr("disable_nodechange"),Jy=Wr("readonly"),Nf=Wr("editable_root"),N0=Wr("content_css_cors"),eb=Wr("plugins"),Qg=Wr("external_plugins"),wx=Wr("block_unsupported_drop"),CE=Wr("visual"),kE=Wr("visual_table_class"),Zk=Wr("visual_anchor_class"),AE=Wr("iframe_aria_text"),zw=Wr("setup"),PE=Wr("init_instance_callback"),ME=Wr("urlconverter_callback"),Hk=Wr("auto_focus"),EE=Wr("browser_spellcheck"),Uk=Wr("protect"),_E=Wr("paste_block_drop"),Tx=Wr("paste_data_images"),RE=Wr("paste_preprocess"),Wk=Wr("paste_postprocess"),B0=Wr("newdocument_content"),Zw=Wr("paste_webkit_styles"),Hw=Wr("paste_remove_styles_if_webkit"),Uw=Wr("paste_merge_formats"),Yk=Wr("smart_paste"),Ww=Wr("paste_as_text"),DE=Wr("paste_tab_spaces"),Cx=Wr("allow_html_data_urls"),kx=Wr("text_patterns"),$E=Wr("text_patterns_lookup"),Yw=Wr("noneditable_class"),Xk=Wr("editable_class"),LE=Wr("noneditable_regexp"),Xw=Wr("preserve_cdata"),IE=Wr("highlight_on_focus"),Q0=Wr("xss_sanitization"),NE=Wr("init_content_sync"),Gw=n=>n.options.isSet("text_patterns_lookup"),BE=n=>fr.explode(n.options.get("font_size_style_values")),QE=n=>fr.explode(n.options.get("font_size_classes")),FE=n=>n.options.get("encoding")==="xml",Gk=n=>fr.explode(n.options.get("images_file_types")),VE=Wr("table_tab_navigation"),Dl=Wr("details_initial_state"),p9=Wr("details_serialized_state"),F0=Wr("force_hex_color"),Ax=Wr("sandbox_iframes"),jk=Xr,jw=lr,qk=n=>{const s=n.parentNode;s&&s.removeChild(n)},Kk=n=>{const s=Pe(n);return{count:n.length-s.length,text:s}},dv=n=>{let s;for(;(s=n.data.lastIndexOf(he))!==-1;)n.deleteData(s,1)},tb=(n,s)=>(ml(n),s),zE=(n,s)=>{const l=Kk(n.data.substr(0,s.offset())),m=Kk(n.data.substr(s.offset()));return(l.text+m.text).length>0?(dv(n),Nn(n,s.offset()-l.count)):s},ZE=(n,s)=>{const l=s.container(),m=De(tt(l.childNodes),n).map(x=>x<s.offset()?Nn(l,s.offset()-1):s).getOr(s);return ml(n),m},nb=(n,s)=>jw(n)&&s.container()===n?zE(n,s):tb(n,s),qw=(n,s)=>s.container()===n.parentNode?ZE(n,s):tb(n,s),Jk=(n,s)=>Nn.isTextPosition(s)?nb(n,s):qw(n,s),ml=n=>{jk(n)&&bt(n)&&(Zt(n)?n.removeAttribute("data-mce-caret"):qk(n)),jw(n)&&(dv(n),n.data.length===0&&qk(n))},eA=xs,Kw=ni,v9=Jp,V0="*[contentEditable=false],video,audio,embed,object",HE=(n,s,l)=>{const m=Rm(s.getBoundingClientRect(),l);let x,P;if(n.tagName==="BODY"){const J=n.ownerDocument.documentElement;x=n.scrollLeft||J.scrollLeft,P=n.scrollTop||J.scrollTop}else{const J=n.getBoundingClientRect();x=n.scrollLeft-J.left,P=n.scrollTop-J.top}m.left+=x,m.right+=x,m.top+=P,m.bottom+=P,m.width=1;let Z=s.offsetWidth-s.clientWidth;return Z>0&&(l&&(Z*=-1),m.left+=Z,m.right+=Z),m},tA=n=>{var s,l;const m=al(Yt.fromDom(n),V0);for(let x=0;x<m.length;x++){const P=m[x].dom;let Z=P.previousSibling;if(hn(Z)){const J=Z.data;J.length===1?(s=Z.parentNode)===null||s===void 0||s.removeChild(Z):Z.deleteData(J.length-1,1)}Z=P.nextSibling,nn(Z)&&(Z.data.length===1?(l=Z.parentNode)===null||l===void 0||l.removeChild(Z):Z.deleteData(0,1))}},Jw=(n,s,l,m)=>{const x=Dg();let P,Z;const J=Rc(n),ge=n.dom,Re=(kt,It)=>{let cn;if(Ge(),v9(It))return null;if(l(It)){const xn=jt(J,It,kt),bn=HE(s,It,kt);ge.setStyle(xn,"top",bn.top),Z=xn;const $n=ge.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});ge.setStyles($n,{...bn}),ge.add(s,$n),x.set({caret:$n,element:It,before:kt}),kt&&ge.addClass($n,"mce-visual-caret-before"),qe(),cn=It.ownerDocument.createRange(),cn.setStart(xn,0),cn.setEnd(xn,0)}else return Z=Ut(It,kt),cn=It.ownerDocument.createRange(),Px(Z.nextSibling)?(cn.setStart(Z,0),cn.setEnd(Z,0)):(cn.setStart(Z,1),cn.setEnd(Z,1)),cn;return cn},Ge=()=>{tA(s),Z&&(ml(Z),Z=null),x.on(kt=>{ge.remove(kt.caret),x.clear()}),P&&(clearInterval(P),P=void 0)},qe=()=>{P=setInterval(()=>{x.on(kt=>{m()?ge.toggleClass(kt.caret,"mce-visual-caret-hidden"):ge.addClass(kt.caret,"mce-visual-caret-hidden")})},500)};return{show:Re,hide:Ge,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{x.on(kt=>{const It=HE(s,kt.element,kt.before);ge.setStyles(kt.caret,{...It})})},destroy:()=>clearInterval(P)}},rb=()=>Dr.browser.isFirefox(),Px=n=>eA(n)||Kw(n),z0=n=>(Px(n)||qu(n)&&rb())&&Og(Yt.fromDom(n)).exists(jo),UE=Wl,Fg=xs,nA=ni,Vg=Id("display","block table table-cell table-caption list-item"),zg=bt,eT=rt,rA=Xr,y9=lr,tT=go,Zg=n=>n>0,Lh=n=>n<0,ob=(n,s)=>{let l;for(;l=n(s);)if(!eT(l))return l;return null},Z0=(n,s,l,m,x)=>{const P=new ca(n,m),Z=Fg(n)||eT(n);let J;if(Lh(s)){if(Z&&(J=ob(P.prev.bind(P),!0),l(J)))return J;for(;J=ob(P.prev.bind(P),x);)if(l(J))return J}if(Zg(s)){if(Z&&(J=ob(P.next.bind(P),!0),l(J)))return J;for(;J=ob(P.next.bind(P),x);)if(l(J))return J}return null},nT=(n,s)=>{const l=x=>UE(x.dom),m=x=>x.dom===s;return fi(Yt.fromDom(n),l,m).map(x=>x.dom).getOr(s)},Im=(n,s)=>{for(;n&&n!==s;){if(Vg(n))return n;n=n.parentNode}return null},Wd=(n,s,l)=>Im(n.container(),l)===Im(s.container(),l),sb=(n,s)=>{if(!s)return Y.none();const l=s.container(),m=s.offset();return rA(l)?Y.from(l.childNodes[m+n]):Y.none()},Mx=(n,s)=>{var l;const x=((l=s.ownerDocument)!==null&&l!==void 0?l:document).createRange();return n?(x.setStartBefore(s),x.setEndBefore(s)):(x.setStartAfter(s),x.setEndAfter(s)),x},ab=(n,s,l)=>Im(s,n)===Im(l,n),rT=(n,s,l)=>{const m=n?"previousSibling":"nextSibling";let x=l;for(;x&&x!==s;){let P=x[m];if(P&&zg(P)&&(P=P[m]),Fg(P)||nA(P)){if(ab(s,P,x))return P;break}if(tT(P))break;x=x.parentNode}return null},H0=ee(Mx,!0),ib=ee(Mx,!1),oT=(n,s,l)=>{let m;const x=ee(rT,!0,s),P=ee(rT,!1,s),Z=l.startContainer,J=l.startOffset;if(rt(Z)){const ge=y9(Z)?Z.parentNode:Z,Re=ge.getAttribute("data-mce-caret");if(Re==="before"&&(m=ge.nextSibling,z0(m)))return H0(m);if(Re==="after"&&(m=ge.previousSibling,z0(m)))return ib(m)}if(!l.collapsed)return l;if(lr(Z)){if(zg(Z)){if(n===1){if(m=P(Z),m)return H0(m);if(m=x(Z),m)return ib(m)}if(n===-1){if(m=x(Z),m)return ib(m);if(m=P(Z),m)return H0(m)}return l}if(hn(Z)&&J>=Z.data.length-1)return n===1&&(m=P(Z),m)?H0(m):l;if(nn(Z)&&J<=1)return n===-1&&(m=x(Z),m)?ib(m):l;if(J===Z.data.length)return m=P(Z),m?H0(m):l;if(J===0)return m=x(Z),m?ib(m):l}return l},oA=(n,s)=>sb(n?0:-1,s).filter(Fg),Hg=(n,s,l)=>{const m=oT(n,s,l);return n===-1?Nn.fromRangeStart(m):Nn.fromRangeEnd(m)},Ex=n=>Y.from(n.getNode()).map(Yt.fromDom),WE=n=>Y.from(n.getNode(!0)).map(Yt.fromDom),sA=(n,s)=>{let l=s;for(;l=n(l);)if(l.isVisible())return l;return l},sT=(n,s)=>{const l=Wd(n,s);return!l&&aa(n.getNode())?!0:l};var Pi;(function(n){n[n.Backwards=-1]="Backwards",n[n.Forwards=1]="Forwards"})(Pi||(Pi={}));const b9=xs,Nm=lr,aA=Xr,_x=aa,Ug=go,cc=Do,U0=ms,lb=(n,s)=>{const l=[];let m=n;for(;m&&m!==s;)l.push(m),m=m.parentNode;return l},W0=(n,s)=>n.hasChildNodes()&&s<n.childNodes.length?n.childNodes[s]:null,aT=(n,s)=>{if(Zg(n)){if(Ug(s.previousSibling)&&!Nm(s.previousSibling))return Nn.before(s);if(Nm(s))return Nn(s,0)}if(Lh(n)){if(Ug(s.nextSibling)&&!Nm(s.nextSibling))return Nn.after(s);if(Nm(s))return Nn(s,s.data.length)}return Lh(n)?_x(s)?Nn.before(s):Nn.after(s):Nn.before(s)},Y0=(n,s)=>{const l=s.nextSibling;return l&&Ug(l)?Nm(l)?Nn(l,0):Nn.before(l):hv(Pi.Forwards,Nn.after(s),n)},hv=(n,s,l)=>{let m,x,P,Z;if(!aA(l)||!s)return null;if(s.isEqual(Nn.after(l))&&l.lastChild){if(Z=Nn.after(l.lastChild),Lh(n)&&Ug(l.lastChild)&&aA(l.lastChild))return _x(l.lastChild)?Nn.before(l.lastChild):Z}else Z=s;const J=Z.container();let ge=Z.offset();if(Nm(J)){if(Lh(n)&&ge>0)return Nn(J,--ge);if(Zg(n)&&ge<J.length)return Nn(J,++ge);m=J}else{if(Lh(n)&&ge>0&&(x=W0(J,ge-1),Ug(x)))return!cc(x)&&(P=Z0(x,n,U0,x),P)?Nm(P)?Nn(P,P.data.length):Nn.after(P):Nm(x)?Nn(x,x.data.length):Nn.before(x);if(Zg(n)&&ge<J.childNodes.length&&(x=W0(J,ge),Ug(x)))return _x(x)?Y0(l,x):!cc(x)&&(P=Z0(x,n,U0,x),P)?Nm(P)?Nn(P,0):Nn.before(P):Nm(x)?Nn(x,0):Nn.after(x);m=x||Z.getNode()}if(m&&(Zg(n)&&Z.isAtEnd()||Lh(n)&&Z.isAtStart())&&(m=Z0(m,n,le,l,!0),U0(m,l)))return aT(n,m);x=m&&Z0(m,n,U0,l);const Re=Wt(se(lb(J,l),b9));return Re&&(!x||!Re.contains(x))?(Zg(n)?Z=Nn.after(Re):Z=Nn.before(Re),Z):x?aT(n,x):null},Yd=n=>({next:s=>hv(Pi.Forwards,s,n),prev:s=>hv(Pi.Backwards,s,n)}),YE=(n,s,l)=>{const m=n?Nn.before(l):Nn.after(l);return $l(n,s,m)},XE=n=>aa(n)?Nn.before(n):Nn.after(n),Wg=n=>Nn.isTextPosition(n)?n.offset()===0:go(n.getNode()),X0=n=>{if(Nn.isTextPosition(n)){const s=n.container();return n.offset()===s.data.length}else return go(n.getNode(!0))},Rx=(n,s)=>!Nn.isTextPosition(n)&&!Nn.isTextPosition(s)&&n.getNode()===s.getNode(!0),Ih=n=>!Nn.isTextPosition(n)&&aa(n.getNode()),iT=(n,s,l)=>n?!Rx(s,l)&&!Ih(s)&&X0(s)&&Wg(l):!Rx(l,s)&&Wg(s)&&X0(l),$l=(n,s,l)=>{const m=Yd(s);return Y.from(n?m.next(l):m.prev(l))},Bm=(n,s,l)=>$l(n,s,l).bind(m=>Wd(l,m,s)&&iT(n,l,m)?$l(n,s,m):Y.some(m)),cd=(n,s,l,m)=>Bm(n,s,l).bind(x=>m(x)?cd(n,s,x,m):Y.some(x)),G0=(n,s)=>{const l=n?s.firstChild:s.lastChild;return lr(l)?Y.some(Nn(l,n?0:l.data.length)):l?go(l)?Y.some(n?Nn.before(l):XE(l)):YE(n,s,l):Y.none()},$c=ee($l,!0),fu=ee($l,!1),Gc=ee(G0,!0),ud=ee(G0,!1),Dx="_mce_caret",af=n=>Xr(n)&&n.id===Dx,mv=(n,s)=>{let l=s;for(;l&&l!==n;){if(af(l))return l;l=l.parentNode}return null},lT=n=>M(n.start),GE=n=>lt(n,"rng"),iA=n=>lt(n,"id"),cb=n=>lt(n,"name"),lA=n=>fr.isArray(n.start),ub=n=>!cb(n)&&z(n.forward)?n.forward:!0,$x=(n,s)=>(Xr(s)&&n.isBlock(s)&&!s.innerHTML&&(s.innerHTML='<br data-mce-bogus="1" />'),s),jE=(n,s)=>{const l=Y.from(Xc(n.getRoot(),s.start)),m=Y.from(Xc(n.getRoot(),s.end));return Va(l,m,(x,P)=>{const Z=n.createRng();return Z.setStart(x.container(),x.offset()),Z.setEnd(P.container(),P.offset()),{range:Z,forward:ub(s)}})},cA=(n,s)=>{var l;const x=((l=n.ownerDocument)!==null&&l!==void 0?l:document).createTextNode(he);n.appendChild(x),s.setStart(x,0),s.setEnd(x,0)},qE=n=>!n.hasChildNodes(),O9=(n,s)=>ud(n).fold(ne,l=>(s.setStart(l.container(),l.offset()),s.setEnd(l.container(),l.offset()),!0)),uA=(n,s,l)=>qE(s)&&mv(n,s)?(cA(s,l),!0):!1,As=(n,s,l,m)=>{const x=l[s?"start":"end"],P=n.getRoot();if(x){let Z=P,J=x[0];for(let ge=x.length-1;Z&&ge>=1;ge--){const Re=Z.childNodes;if(uA(P,Z,m))return!0;if(x[ge]>Re.length-1)return uA(P,Z,m)?!0:O9(Z,m);Z=Re[x[ge]]}lr(Z)&&(J=Math.min(x[0],Z.data.length)),Xr(Z)&&(J=Math.min(x[0],Z.childNodes.length)),s?m.setStart(Z,J):m.setEnd(Z,J)}return!0},Xd=n=>lr(n)&&n.data.length>0,gv=(n,s,l)=>{const m=n.get(l.id+"_"+s),x=m==null?void 0:m.parentNode,P=l.keep;if(m&&x){let Z,J;if(s==="start"?P?m.hasChildNodes()?(Z=m.firstChild,J=1):Xd(m.nextSibling)?(Z=m.nextSibling,J=0):Xd(m.previousSibling)?(Z=m.previousSibling,J=m.previousSibling.data.length):(Z=x,J=n.nodeIndex(m)+1):(Z=x,J=n.nodeIndex(m)):P?m.hasChildNodes()?(Z=m.firstChild,J=1):Xd(m.previousSibling)?(Z=m.previousSibling,J=m.previousSibling.data.length):(Z=x,J=n.nodeIndex(m)):(Z=x,J=n.nodeIndex(m)),!P){const ge=m.previousSibling,Re=m.nextSibling;fr.each(fr.grep(m.childNodes),qe=>{lr(qe)&&(qe.data=qe.data.replace(/\uFEFF/g,""))});let Ge;for(;Ge=n.get(l.id+"_"+s);)n.remove(Ge,!0);if(lr(Re)&&lr(ge)&&!Dr.browser.isOpera()){const qe=ge.data.length;ge.appendData(Re.data),n.remove(Re),Z=ge,J=qe}}return Y.some(Nn(Z,J))}else return Y.none()},cT=(n,s)=>{const l=n.createRng();return As(n,!0,s,l)&&As(n,!1,s,l)?Y.some({range:l,forward:ub(s)}):Y.none()},fA=(n,s)=>{const l=gv(n,"start",s),m=gv(n,"end",s);return Va(l,m.or(l),(x,P)=>{const Z=n.createRng();return Z.setStart($x(n,x.container()),x.offset()),Z.setEnd($x(n,P.container()),P.offset()),{range:Z,forward:ub(s)}})},fb=(n,s)=>Y.from(n.select(s.name)[s.index]).map(l=>{const m=n.createRng();return m.selectNode(l),{range:m,forward:!0}}),KE=(n,s)=>{const l=n.dom;if(s){if(lA(s))return cT(l,s);if(lT(s))return jE(l,s);if(iA(s))return fA(l,s);if(cb(s))return fb(l,s);if(GE(s))return Y.some({range:s.rng,forward:ub(s)})}return Y.none()},j0=(n,s,l)=>cE(n,s,l),Lx=(n,s)=>{KE(n,s).each(({range:l,forward:m})=>{n.setRng(l,m)})},lf=n=>Xr(n)&&n.tagName==="SPAN"&&n.getAttribute("data-mce-type")==="bookmark",Ix=(n=>s=>n===s)(zs),q0=n=>n!==""&&` \f
\r	\v`.indexOf(n)!==-1,Yg=n=>!q0(n)&&!Ix(n)&&!$f(n),Nx=n=>{const s=[];if(n)for(let l=0;l<n.rangeCount;l++)s.push(n.getRangeAt(l));return s},Bx=n=>Ze(n,s=>{const l=gw(s);return l?[Yt.fromDom(l)]:[]}),pv=n=>Nx(n).length>1,JE=n=>se(Bx(n),Uc),dA=n=>al(n,"td[data-mce-selected],th[data-mce-selected]"),e_=(n,s)=>{const l=dA(s);return l.length>0?l:JE(n)},K0=n=>e_(Nx(n.selection.getSel()),Yt.fromDom(n.getBody())),Qm=(n,s)=>Sg(n,"table",s),t_=n=>{const s=n.startContainer,l=n.startOffset;return lr(s)?l===0?Y.some(Yt.fromDom(s)):Y.none():Y.from(s.childNodes[l]).map(Yt.fromDom)},n_=n=>{const s=n.endContainer,l=n.endOffset;return lr(s)?l===s.data.length?Y.some(Yt.fromDom(s)):Y.none():Y.from(s.childNodes[l-1]).map(Yt.fromDom)},hA=n=>xg(n).fold(ae([n]),s=>[n].concat(hA(s))),uT=n=>wc(n).fold(ae([n]),s=>Vs(s)==="br"?Wu(s).map(l=>[n].concat(uT(l))).getOr([]):[n].concat(uT(s))),fT=(n,s)=>Va(t_(s),n_(s),(l,m)=>{const x=ce(hA(n),ee(Gs,l)),P=ce(uT(n),ee(Gs,m));return x.isSome()&&P.isSome()}).getOr(!1),dT=(n,s,l,m)=>{const x=l,P=new ca(l,x),Z=wn(n.schema.getMoveCaretBeforeOnEnterElements(),(ge,Re)=>!Ve(["td","th","table"],Re.toLowerCase()));let J=l;do{if(lr(J)&&fr.trim(J.data).length!==0){m?s.setStart(J,0):s.setEnd(J,J.data.length);return}if(Z[J.nodeName]){m?s.setStartBefore(J):J.nodeName==="BR"?s.setEndBefore(J):s.setEndAfter(J);return}}while(J=m?P.next():P.prev());x.nodeName==="BODY"&&(m?s.setStart(x,0):s.setEnd(x,x.childNodes.length))},Qx=n=>{const s=n.selection.getSel();return B(s)&&s.rangeCount>0},Xg=(n,s)=>{const l=K0(n);l.length>0?re(l,m=>{const x=m.dom,P=n.dom.createRng();P.setStartBefore(x),P.setEndAfter(x),s(P,!0)}):s(n.selection.getRng(),!1)},mA=(n,s,l)=>{const m=kk(n,s);l(m),n.moveToBookmark(m)},db=n=>W(n==null?void 0:n.nodeType),hT=n=>Xr(n)&&!lf(n)&&!af(n)&&!Df(n),r_=(n,s)=>{if(hT(s)&&!/^(TD|TH)$/.test(s.nodeName)){const l=n.getAttrib(s,"data-mce-selected"),m=parseInt(l,10);return!isNaN(m)&&m>0}else return!1},hb=(n,s,l)=>{const{selection:m,dom:x}=n,P=m.getNode(),Z=xs(P);mA(m,!0,()=>{s()}),Z&&xs(P)&&x.isChildOf(P,n.getBody())?n.selection.select(P):l(m.getStart())&&o_(x,m)},o_=(n,s)=>{var l,m;const x=s.getRng(),{startContainer:P,startOffset:Z}=x,J=s.getNode();if(!r_(n,J)&&Xr(P)){const ge=P.childNodes,Re=n.getRoot();let Ge;if(Z<ge.length){const qe=ge[Z];Ge=new ca(qe,(l=n.getParent(qe,n.isBlock))!==null&&l!==void 0?l:Re)}else{const qe=ge[ge.length-1];Ge=new ca(qe,(m=n.getParent(qe,n.isBlock))!==null&&m!==void 0?m:Re),Ge.next(!0)}for(let qe=Ge.current();qe;qe=Ge.next()){if(n.getContentEditable(qe)==="false")return;if(lr(qe)&&!Ni(qe)){x.setStart(qe,0),s.setRng(x);return}}}},Fr=(n,s,l)=>{if(n){const m=s?"nextSibling":"previousSibling";for(n=l?n:n[m];n;n=n[m])if(Xr(n)||!Ni(n))return n}},tl=(n,s)=>!!n.getTextBlockElements()[s.nodeName.toLowerCase()]||ks(n,s),Fm=(n,s,l)=>n.schema.isValidChild(s,l),Ni=(n,s=!1)=>{if(B(n)&&lr(n)){const l=s?n.data.replace(/ /g,""):n.data;return Qa(l)}else return!1},Bf=n=>B(n)&&lr(n)&&n.length===0,Fx=(n,s)=>{const l="[data-mce-cef-wrappable]",m=I0(n),x=Ct(m)?l:`${l},${m}`;return Uu(Yt.fromDom(s),x)},mb=(n,s)=>{const l=n.dom;return hT(s)&&l.getContentEditable(s)==="false"&&Fx(n,s)&&l.select('[contenteditable="true"]',s).length===0},Gd=(n,s)=>E(n)?n(s):(B(s)&&(n=n.replace(/%(\w+)/g,(l,m)=>s[m]||l)),n),Vx=(n,s)=>(n=n||"",s=s||"",n=""+(n.nodeName||n),s=""+(s.nodeName||s),n.toLowerCase()===s.toLowerCase()),zx=(n,s)=>{if(F(n))return null;{let l=String(n);return(s==="color"||s==="backgroundColor")&&(l=p0(l)),s==="fontWeight"&&n===700&&(l="bold"),s==="fontFamily"&&(l=l.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),l}},J0=(n,s,l)=>{const m=n.getStyle(s,l);return zx(m,l)},gA=(n,s)=>{let l;return n.getParent(s,m=>Xr(m)?(l=n.getStyle(m,"text-decoration"),!!l&&l!=="none"):!1),l},gb=(n,s,l)=>n.getParents(s,l,n.getRoot()),mT=(n,s,l)=>{const m=n.formatter.get(s);return B(m)&&_e(m,l)},gT=(n,s)=>mT(n,s,m=>{const x=P=>E(P)||P.length>1&&P.charAt(0)==="%";return _e(["styles","attributes"],P=>Sn(m,P).exists(Z=>{const J=N(Z)?Z:Un(Z);return _e(J,x)}))}),s_=(n,s,l)=>{const m=["inline","block","selector","attributes","styles","classes"],x=P=>wn(P,(Z,J)=>_e(m,ge=>ge===J));return mT(n,s,P=>{const Z=x(P);return mT(n,l,J=>{const ge=x(J);return xt(Z,ge)})})},jd=n=>ut(n,"block"),Zx=n=>jd(n)&&n.wrapper===!0,e1=n=>jd(n)&&n.wrapper!==!0,Jl=n=>ut(n,"selector"),Xi=n=>ut(n,"inline"),Hx=n=>Jl(n)&&Xi(n)&&Fa(Sn(n,"mixed"),!0),pb=n=>Jl(n)&&n.expand!==!1&&!Xi(n),Ux=n=>{const s=[];let l=n;for(;l;){if(lr(l)&&l.data!==he||l.childNodes.length>1)return[];Xr(l)&&s.push(l),l=l.firstChild}return s},vb=n=>Ux(n).length>0,yb=n=>af(n.dom)&&vb(n.dom),t1=lf,pA=gb,bb=Ni,vA=tl,yA=n=>aa(n)&&n.getAttribute("data-mce-bogus")&&!n.nextSibling,bA=(n,s)=>{let l=s;for(;l;){if(Xr(l)&&n.getContentEditable(l))return n.getContentEditable(l)==="false"?l:s;l=l.parentNode}return s},Qf=(n,s,l,m)=>{const x=s.data;if(n){for(let P=l;P>0;P--)if(m(x.charAt(P-1)))return P}else for(let P=l;P<x.length;P++)if(m(x.charAt(P)))return P;return-1},uc=(n,s,l)=>Qf(n,s,l,m=>Ix(m)||q0(m)),fd=(n,s,l)=>Qf(n,s,l,Yg),du=(n,s,l,m,x,P)=>{let Z;const J=n.getParent(l,n.isBlock)||s,ge=(Ge,qe,ot)=>{const Et=$g(n),Vt=x?Et.backwards:Et.forwards;return Y.from(Vt(Ge,qe,(kt,It)=>t1(kt.parentNode)?-1:(Z=kt,ot(x,kt,It)),J))};return ge(l,m,uc).bind(Ge=>P?ge(Ge.container,Ge.offset+(x?-1:0),fd):Y.some(Ge)).orThunk(()=>Z?Y.some({container:Z,offset:x?0:Z.length}):Y.none())},Ob=(n,s,l,m,x)=>{const P=m[x];lr(m)&&Ct(m.data)&&P&&(m=P);const Z=pA(n,m);for(let J=0;J<Z.length;J++)for(let ge=0;ge<s.length;ge++){const Re=s[ge];if(!(B(Re.collapsed)&&Re.collapsed!==l.collapsed)&&Jl(Re)&&n.is(Z[J],Re.selector))return Z[J]}return m},Wx=(n,s,l,m)=>{var x;let P=l;const Z=n.getRoot(),J=s[0];if(jd(J)&&(P=J.wrapper?null:n.getParent(l,J.block,Z)),!P){const ge=(x=n.getParent(l,"LI,TD,TH,SUMMARY"))!==null&&x!==void 0?x:Z;P=n.getParent(lr(l)?l.parentNode:l,Re=>Re!==Z&&vA(n.schema,Re),ge)}if(P&&jd(J)&&J.wrapper&&(P=pA(n,P,"ul,ol").reverse()[0]||P),!P)for(P=l;P&&P[m]&&!n.isBlock(P[m])&&(P=P[m],!Vx(P,"br")););return P||l},OA=(n,s,l,m)=>{const x=l.parentNode;return B(l[m])?!1:x===s||F(x)||n.isBlock(x)?!0:OA(n,s,x,m)},xb=(n,s,l,m,x)=>{let P=l;const Z=x?"previousSibling":"nextSibling",J=n.getRoot();if(lr(l)&&!bb(l)&&(x?m>0:m<l.data.length))return l;for(;P;){if(!s[0].block_expand&&n.isBlock(P))return P;for(let ge=P[Z];ge;ge=ge[Z]){const Re=lr(ge)&&!OA(n,J,ge,Z);if(!t1(ge)&&!yA(ge)&&!bb(ge,Re))return P}if(P===J||P.parentNode===J){l=P;break}P=P.parentNode}return l},a_=n=>t1(n.parentNode)||t1(n),Vm=(n,s,l,m=!1)=>{let{startContainer:x,startOffset:P,endContainer:Z,endOffset:J}=s;const ge=l[0];return Xr(x)&&x.hasChildNodes()&&(x=_u(x,P),lr(x)&&(P=0)),Xr(Z)&&Z.hasChildNodes()&&(Z=_u(Z,s.collapsed?J:J-1),lr(Z)&&(J=Z.data.length)),x=bA(n,x),Z=bA(n,Z),a_(x)&&(x=t1(x)?x:x.parentNode,s.collapsed?x=x.previousSibling||x:x=x.nextSibling||x,lr(x)&&(P=s.collapsed?x.length:0)),a_(Z)&&(Z=t1(Z)?Z:Z.parentNode,s.collapsed?Z=Z.nextSibling||Z:Z=Z.previousSibling||Z,lr(Z)&&(J=s.collapsed?0:Z.length)),s.collapsed&&(du(n,n.getRoot(),x,P,!0,m).each(({container:qe,offset:ot})=>{x=qe,P=ot}),du(n,n.getRoot(),Z,J,!1,m).each(({container:qe,offset:ot})=>{Z=qe,J=ot})),(Xi(ge)||ge.block_expand)&&((!Xi(ge)||!lr(x)||P===0)&&(x=xb(n,l,x,P,!0)),(!Xi(ge)||!lr(Z)||J===Z.data.length)&&(Z=xb(n,l,Z,J,!1))),pb(ge)&&(x=Ob(n,l,s,x,"previousSibling"),Z=Ob(n,l,s,Z,"nextSibling")),(jd(ge)||Jl(ge))&&(x=Wx(n,l,x,"previousSibling"),Z=Wx(n,l,Z,"nextSibling"),jd(ge)&&(n.isBlock(x)||(x=xb(n,l,x,P,!0)),n.isBlock(Z)||(Z=xb(n,l,Z,J,!1)))),Xr(x)&&x.parentNode&&(P=n.nodeIndex(x),x=x.parentNode),Xr(Z)&&Z.parentNode&&(J=n.nodeIndex(Z)+1,Z=Z.parentNode),{startContainer:x,startOffset:P,endContainer:Z,endOffset:J}},Sb=(n,s,l)=>{var m;const x=s.startOffset,P=_u(s.startContainer,x),Z=s.endOffset,J=_u(s.endContainer,Z-1),ge=It=>{const cn=It[0];lr(cn)&&cn===P&&x>=cn.data.length&&It.splice(0,1);const xn=It[It.length-1];return Z===0&&It.length>0&&xn===J&&lr(xn)&&It.splice(It.length-1,1),It},Re=(It,cn,xn)=>{const bn=[];for(;It&&It!==xn;It=It[cn])bn.push(It);return bn},Ge=(It,cn)=>n.getParent(It,xn=>xn.parentNode===cn,cn),qe=(It,cn,xn)=>{const bn=xn?"nextSibling":"previousSibling";for(let $n=It,rr=$n.parentNode;$n&&$n!==cn;$n=rr){rr=$n.parentNode;const gr=Re($n===It?$n:$n[bn],bn);gr.length&&(xn||gr.reverse(),l(ge(gr)))}};if(P===J)return l(ge([P]));const ot=(m=n.findCommonAncestor(P,J))!==null&&m!==void 0?m:n.getRoot();if(n.isChildOf(P,J))return qe(P,ot,!0);if(n.isChildOf(J,P))return qe(J,ot);const Et=Ge(P,ot)||P,Vt=Ge(J,ot)||J;qe(P,Et,!0);const kt=Re(Et===P?Et:Et.nextSibling,"nextSibling",Vt===J?Vt.nextSibling:Vt);kt.length&&l(ge(kt)),qe(J,Vt)},pT=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],xA=n=>Zi(n)&&au(n)===he,SA=(n,s,l,m)=>ou(s).fold(()=>"skipping",x=>m==="br"||xA(s)?"valid":vk(s)?"existing":af(s.dom)?"caret":_e(pT,P=>Uu(s,P))?"valid-block":!Fm(n,l,m)||!Fm(n,Vs(x),l)?"invalid-child":"valid"),vT=(n,s)=>{const l=Vm(n.dom,s,[{inline:"span"}]);s.setStart(l.startContainer,l.startOffset),s.setEnd(l.endContainer,l.endOffset),n.selection.setRng(s)},Yx=(n,s,l,m,x,P)=>{const{uid:Z=s,...J}=l;mm(n,ix()),Da(n,`${T0()}`,Z),Da(n,`${Eh()}`,m);const{attributes:ge={},classes:Re=[]}=x(Z,J);if(Tu(n,ge),tE(n,Re),P){Re.length>0&&Da(n,`${k0()}`,Re.join(","));const Ge=Gt(ge);Ge.length>0&&Da(n,`${ov()}`,Ge.join(","))}},ka=n=>{gm(n,ix()),ui(n,`${T0()}`),ui(n,`${Eh()}`),ui(n,`${C0()}`);const s=xc(n,`${ov()}`).map(m=>m.split(",")).getOr([]),l=xc(n,`${k0()}`).map(m=>m.split(",")).getOr([]);re(s,m=>ui(n,m)),Ok(n,l),ui(n,`${k0()}`),ui(n,`${ov()}`)},zm=(n,s,l,m,x)=>{const P=Yt.fromTag("span",n);return Yx(P,s,l,m,x,!1),P},wA=(n,s,l,m,x,P)=>{const Z=[],J=zm(n.getDoc(),l,P,m,x),ge=Dg(),Re=()=>{ge.clear()},Ge=()=>ge.get().getOrThunk(()=>{const Vt=Eu(J);return Z.push(Vt),ge.set(Vt),Vt}),qe=Vt=>{re(Vt,ot)},ot=Vt=>{switch(SA(n,Vt,"span",Vs(Vt))){case"invalid-child":{Re();const It=sl(Vt);qe(It),Re();break}case"valid-block":{Re(),Yx(Vt,l,P,m,x,!0);break}case"valid":{const It=Ge();wg(Vt,It);break}}},Et=Vt=>{const kt=Ie(Vt,Yt.fromDom);qe(kt)};return Sb(n.dom,s,Vt=>{Re(),Et(Vt)}),Z},yT=(n,s,l,m)=>{n.undoManager.transact(()=>{const x=n.selection,P=x.getRng(),Z=K0(n).length>0,J=sv("mce-annotation");if(P.collapsed&&!Z&&vT(n,P),x.getRng().collapsed&&!Z){const ge=zm(n.getDoc(),J,m,s,l.decorate);Om(ge,zs),x.getRng().insertNode(ge.dom),x.select(ge.dom)}else mA(x,!1,()=>{Xg(n,ge=>{wA(n,ge,J,s,l.decorate,m)})})})},bT=n=>{const s=bk();rf(n,s);const l=ic(n,s),m=wu("span"),x=P=>{re(P,Z=>{m(Z)?Rf(Z):ka(Z)})};return{register:(P,Z)=>{s.register(P,Z)},annotate:(P,Z)=>{s.lookup(P).each(J=>{yT(n,P,J,Z)})},annotationChanged:(P,Z)=>{l.addListener(P,Z)},remove:P=>{yi(n,Y.some(P)).each(({elements:Z})=>{const J=n.selection.getBookmark();x(Z),n.selection.moveToBookmark(J)})},removeAll:P=>{const Z=n.selection.getBookmark();Bt(lx(n,P),(J,ge)=>{x(J)}),n.selection.moveToBookmark(Z)},getAll:P=>{const Z=lx(n,P);return vn(Z,J=>Ie(J,ge=>ge.dom))}}},vv=n=>({getBookmark:ee(j0,n),moveToBookmark:ee(Lx,n)});vv.isBookmarkNode=lf;const OT=(n,s,l)=>l.collapsed?!1:_e(l.getClientRects(),m=>Sk(m,n,s)),xT=(n,s)=>n.dispatch("PreProcess",s),i_=(n,s)=>n.dispatch("PostProcess",s),n1=n=>{n.dispatch("remove")},r1=n=>{n.dispatch("detach")},ST=(n,s)=>{n.dispatch("SwitchMode",{mode:s})},wT=(n,s,l,m,x)=>{n.dispatch("ObjectResizeStart",{target:s,width:l,height:m,origin:x})},dd=(n,s,l,m,x)=>{n.dispatch("ObjectResized",{target:s,width:l,height:m,origin:x})},Gg=n=>{n.dispatch("PreInit")},l_=n=>{n.dispatch("PostRender")},wb=n=>{n.dispatch("Init")},c_=(n,s)=>{n.dispatch("PlaceholderToggle",{state:s})},Du=(n,s,l)=>{n.dispatch(s,l)},fc=(n,s,l,m)=>{n.dispatch("FormatApply",{format:s,node:l,vars:m})},yv=(n,s,l,m)=>{n.dispatch("FormatRemove",{format:s,node:l,vars:m})},x9=(n,s)=>n.dispatch("BeforeSetContent",s),TA=(n,s)=>n.dispatch("SetContent",s),u_=(n,s)=>n.dispatch("BeforeGetContent",s),Ss=(n,s)=>n.dispatch("GetContent",s),TT=(n,s)=>{n.dispatch("AutocompleterStart",s)},CA=(n,s)=>{n.dispatch("AutocompleterUpdate",s)},CT=n=>{n.dispatch("AutocompleterEnd")},f_=(n,s,l)=>n.dispatch("PastePreProcess",{content:s,internal:l}),d_=(n,s,l)=>n.dispatch("PastePostProcess",{node:s,internal:l}),kA=(n,s)=>n.dispatch("PastePlainTextToggle",{state:s}),h_=(n,s)=>n.dispatch("EditableRootStateChange",{state:s}),Yr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:n=>n.shiftKey||n.ctrlKey||n.altKey||Yr.metaKeyPressed(n),metaKeyPressed:n=>Dr.os.isMacOS()||Dr.os.isiOS()?n.metaKey:n.ctrlKey&&!n.altKey},jg="data-mce-selected",AA="table,img,figure.image,hr,video,span.mce-preview-object,details",Tb=Math.abs,Cb=Math.round,m_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},S9=n=>n.type==="longpress"||n.type.indexOf("touch")===0,w9=(n,s)=>{const l=s.dom,m=s.getDoc(),x=document,P=s.getBody();let Z,J,ge,Re,Ge,qe,ot,Et,Vt,kt,It,cn,xn,bn,$n,rr,gr;const Qr=yr=>B(yr)&&(Rl(yr)||l.is(yr,"figure.image")),zn=yr=>ni(yr)||l.hasClass(yr,"mce-preview-object"),Bn=(yr,Bo)=>{if(S9(yr)){const Ls=yr.touches[0];return Qr(yr.target)&&!OT(Ls.clientX,Ls.clientY,Bo)}else return Qr(yr.target)&&!OT(yr.clientX,yr.clientY,Bo)},tr=yr=>{const Bo=yr.target;Bn(yr,s.selection.getRng())&&!yr.isDefaultPrevented()&&s.selection.select(Bo)},eo=yr=>l.hasClass(yr,"mce-preview-object")&&B(yr.firstElementChild)?[yr,yr.firstElementChild]:l.is(yr,"figure.image")?[yr.querySelector("img")]:[yr],po=yr=>{const Bo=$0(s);return!Bo||yr.getAttribute("data-mce-resize")==="false"||yr===s.getBody()?!1:l.hasClass(yr,"mce-preview-object")&&B(yr.firstElementChild)?Uu(Yt.fromDom(yr.firstElementChild),Bo):Uu(Yt.fromDom(yr),Bo)},ls=yr=>zn(yr)?l.create("img",{src:Dr.transparentSrc}):yr.cloneNode(!0),bs=(yr,Bo,Ls)=>{if(B(Ls)){const Aa=eo(yr);re(Aa,Sa=>{Sa.style[Bo]||!s.schema.isValid(Sa.nodeName.toLowerCase(),Bo)?l.setStyle(Sa,Bo,Ls):l.setAttrib(Sa,Bo,""+Ls)})}},ma=(yr,Bo,Ls)=>{bs(yr,"width",Bo),bs(yr,"height",Ls)},$s=yr=>{let Bo,Ls,Aa,Sa,Il;Bo=yr.screenX-qe,Ls=yr.screenY-ot,bn=Bo*Re[2]+kt,$n=Ls*Re[3]+It,bn=bn<5?5:bn,$n=$n<5?5:$n,(Qr(Z)||zn(Z))&&Nk(s)!==!1?Aa=!Yr.modifierPressed(yr):Aa=Yr.modifierPressed(yr),Aa&&(Tb(Bo)>Tb(Ls)?($n=Cb(bn*cn),bn=Cb($n/cn)):(bn=Cb($n/cn),$n=Cb(bn*cn))),ma(J,bn,$n),Sa=Re.startPos.x+Bo,Il=Re.startPos.y+Ls,Sa=Sa>0?Sa:0,Il=Il>0?Il:0,l.setStyles(ge,{left:Sa,top:Il,display:"block"}),ge.innerHTML=bn+" &times; "+$n,Re[2]<0&&J.clientWidth<=bn&&l.setStyle(J,"left",Et+(kt-bn)),Re[3]<0&&J.clientHeight<=$n&&l.setStyle(J,"top",Vt+(It-$n)),Bo=P.scrollWidth-rr,Ls=P.scrollHeight-gr,Bo+Ls!==0&&l.setStyles(ge,{left:Sa-Bo,top:Il-Ls}),xn||(wT(s,Z,kt,It,"corner-"+Re.name),xn=!0)},mi=()=>{const yr=xn;xn=!1,yr&&(bs(Z,"width",bn),bs(Z,"height",$n)),l.unbind(m,"mousemove",$s),l.unbind(m,"mouseup",mi),x!==m&&(l.unbind(x,"mousemove",$s),l.unbind(x,"mouseup",mi)),l.remove(J),l.remove(ge),l.remove(Ge),hc(Z),yr&&(dd(s,Z,bn,$n,"corner-"+Re.name),l.setAttrib(Z,"style",l.getAttrib(Z,"style"))),s.nodeChanged()},hc=yr=>{ws();const Bo=l.getPos(yr,P),Ls=Bo.x,Aa=Bo.y,Sa=yr.getBoundingClientRect(),Il=Sa.width||Sa.right-Sa.left,Kh=Sa.height||Sa.bottom-Sa.top;Z!==yr&&(Cr(),Z=yr,bn=$n=0);const Hf=s.dispatch("ObjectSelected",{target:yr});po(yr)&&!Hf.isDefaultPrevented()?Bt(m_,(Iu,ih)=>{const Wo=Pa=>{const ai=eo(Z)[0];qe=Pa.screenX,ot=Pa.screenY,kt=ai.clientWidth,It=ai.clientHeight,cn=It/kt,Re=Iu,Re.name=ih,Re.startPos={x:Il*Iu[0]+Ls,y:Kh*Iu[1]+Aa},rr=P.scrollWidth,gr=P.scrollHeight,Ge=l.add(P,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),l.setStyles(Ge,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),J=ls(Z),l.addClass(J,"mce-clonedresizable"),l.setAttrib(J,"data-mce-bogus","all"),J.contentEditable="false",l.setStyles(J,{left:Ls,top:Aa,margin:0}),ma(J,Il,Kh),J.removeAttribute(jg),P.appendChild(J),l.bind(m,"mousemove",$s),l.bind(m,"mouseup",mi),x!==m&&(l.bind(x,"mousemove",$s),l.bind(x,"mouseup",mi)),ge=l.add(P,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},kt+" &times; "+It)};let Hs=l.get("mceResizeHandle"+ih);Hs&&l.remove(Hs),Hs=l.add(P,"div",{id:"mceResizeHandle"+ih,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ih+"-resize; margin:0; padding:0"}),l.bind(Hs,"mousedown",Pa=>{Pa.stopImmediatePropagation(),Pa.preventDefault(),Wo(Pa)}),Iu.elm=Hs,l.setStyles(Hs,{left:Il*Iu[0]+Ls-Hs.offsetWidth/2,top:Kh*Iu[1]+Aa-Hs.offsetHeight/2})}):Cr(!1)},ga=Fy(hc,0),Cr=(yr=!0)=>{ga.cancel(),ws(),Z&&yr&&Z.removeAttribute(jg),Bt(m_,(Bo,Ls)=>{const Aa=l.get("mceResizeHandle"+Ls);Aa&&(l.unbind(Aa),l.remove(Aa))})},co=(yr,Bo)=>l.isChildOf(yr,Bo),Zs=yr=>{if(xn||s.removed||s.composing)return;const Bo=yr.type==="mousedown"?yr.target:n.getNode(),Ls=_f(Yt.fromDom(Bo),AA).map(Sa=>Sa.dom).filter(Sa=>l.isEditable(Sa.parentElement)||Sa.nodeName==="IMG"&&l.isEditable(Sa)).getOrUndefined(),Aa=B(Ls)?l.getAttrib(Ls,jg,"1"):"1";if(re(l.select(`img[${jg}],hr[${jg}]`),Sa=>{Sa.removeAttribute(jg)}),B(Ls)&&co(Ls,P)&&s.hasFocus()){oo();const Sa=n.getStart(!0);if(co(Sa,Ls)&&co(n.getEnd(!0),Ls)){l.setAttrib(Ls,jg,Aa),ga.throttle(Ls);return}}Cr()},ws=()=>{Bt(m_,yr=>{yr.elm&&(l.unbind(yr.elm),delete yr.elm)})},oo=()=>{try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return s.on("init",()=>{oo(),s.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Zs),s.on("keyup compositionend",yr=>{Z&&Z.nodeName==="TABLE"&&Zs(yr)}),s.on("hide blur",Cr),s.on("contextmenu longpress",tr,!0)}),s.on("remove",ws),{isResizable:po,showResizeRect:hc,hideResizeRect:Cr,updateResizeRect:Zs,destroy:()=>{ga.cancel(),Z=J=Ge=null}}},oW=(n,s)=>{s.fold(l=>{n.setStartBefore(l.dom)},(l,m)=>{n.setStart(l.dom,m)},l=>{n.setStartAfter(l.dom)})},g_=(n,s)=>{s.fold(l=>{n.setEndBefore(l.dom)},(l,m)=>{n.setEnd(l.dom,m)},l=>{n.setEndAfter(l.dom)})},PA=(n,s,l)=>{const m=n.document.createRange();return oW(m,s),g_(m,l),m},Co=(n,s,l,m,x)=>{const P=n.document.createRange();return P.setStart(s.dom,l),P.setEnd(m.dom,x),P},Zm=Ud.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),MA=(n,s,l)=>s(Yt.fromDom(l.startContainer),l.startOffset,Yt.fromDom(l.endContainer),l.endOffset),p_=(n,s)=>s.match({domRange:l=>({ltr:ae(l),rtl:Y.none}),relative:(l,m)=>({ltr:Rt(()=>PA(n,l,m)),rtl:Rt(()=>Y.some(PA(n,m,l)))}),exact:(l,m,x,P)=>({ltr:Rt(()=>Co(n,l,m,x,P)),rtl:Rt(()=>Y.some(Co(n,x,P,l,m)))})}),kb=(n,s)=>{const l=s.ltr();return l.collapsed?s.rtl().filter(x=>x.collapsed===!1).map(x=>Zm.rtl(Yt.fromDom(x.endContainer),x.endOffset,Yt.fromDom(x.startContainer),x.startOffset)).getOrThunk(()=>MA(n,Zm.ltr,l)):MA(n,Zm.ltr,l)},v_=(n,s)=>{const l=p_(n,s);return kb(n,l)};Zm.ltr,Zm.rtl;const kT={create:(n,s,l,m)=>({start:n,soffset:s,finish:l,foffset:m})},_A=(n,s,l)=>{var m,x;return Y.from((x=(m=n.dom).caretPositionFromPoint)===null||x===void 0?void 0:x.call(m,s,l)).bind(P=>{if(P.offsetNode===null)return Y.none();const Z=n.dom.createRange();return Z.setStart(P.offsetNode,P.offset),Z.collapse(),Y.some(Z)})},Xx=(n,s,l)=>{var m,x;return Y.from((x=(m=n.dom).caretRangeFromPoint)===null||x===void 0?void 0:x.call(m,s,l))},y_=(()=>document.caretPositionFromPoint?_A:document.caretRangeFromPoint?Xx:Y.none)(),b_=(n,s,l)=>{const m=Yt.fromDom(n.document);return y_(m,s,l).map(x=>kT.create(Yt.fromDom(x.startContainer),x.startOffset,Yt.fromDom(x.endContainer),x.endOffset))},o1=Ud.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),AT=(n,s,l,m)=>n.fold(s,l,m),RA=n=>n.fold(q,q,q),O_=o1.before,x_=o1.on,Gx=o1.after,Nh={before:O_,on:x_,after:Gx,cata:AT,getStart:RA},jx=Ud.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ys=n=>jx.exact(n.start,n.soffset,n.finish,n.foffset),S_=n=>n.match({domRange:s=>Yt.fromDom(s.startContainer),relative:(s,l)=>Nh.getStart(s),exact:(s,l,m,x)=>s}),Hm=jx.domRange,Bh=jx.relative,qx=jx.exact,cf=n=>{const s=S_(n);return bg(s)},Kx=kT.create,Um={domRange:Hm,relative:Bh,exact:qx,exactFromRange:Ys,getWin:cf,range:Kx},s1=(n,s)=>{const l=Vs(n);return l==="input"?Nh.after(n):Ve(["br","img"],l)?s===0?Nh.before(n):Nh.after(n):Nh.on(n,s)},Ab=(n,s)=>{const l=n.fold(Nh.before,s1,Nh.after),m=s.fold(Nh.before,s1,Nh.after);return Um.relative(l,m)},PT=(n,s,l,m)=>{const x=s1(n,s),P=s1(l,m);return Um.relative(x,P)},w_=n=>n.match({domRange:s=>{const l=Yt.fromDom(s.startContainer),m=Yt.fromDom(s.endContainer);return PT(l,s.startOffset,m,s.endOffset)},relative:Ab,exact:PT}),MT=(n,s)=>{const m=(s||document).createDocumentFragment();return re(n,x=>{m.appendChild(x.dom)}),Yt.fromDom(m)},T_=n=>{const s=Um.getWin(n).dom,l=(x,P,Z,J)=>Co(s,x,P,Z,J),m=w_(n);return v_(s,m).match({ltr:l,rtl:l})},Ps=(n,s,l)=>b_(n,s,l),uf=(n,s,l)=>{const m=bg(Yt.fromDom(l));return Ps(m.dom,n,s).map(x=>{const P=l.createRange();return P.setStart(x.start.dom,x.soffset),P.setEnd(x.finish.dom,x.foffset),P}).getOrUndefined()},qg=(n,s)=>B(n)&&B(s)&&n.startContainer===s.startContainer&&n.startOffset===s.startOffset&&n.endContainer===s.endContainer&&n.endOffset===s.endOffset,C_=(n,s,l)=>{let m=n;for(;m&&m!==s;){if(l(m))return m;m=m.parentNode}return null},a1=(n,s,l)=>C_(n,s,l)!==null,Qs=(n,s,l)=>a1(n,s,m=>m.nodeName===l),k_=(n,s)=>bt(n)&&!a1(n,s,af),ET=(n,s,l)=>{const m=s.parentNode;if(m){const x=new ca(s,n.getParent(m,n.isBlock)||n.getRoot());let P;for(;P=x[l?"prev":"next"]();)if(aa(P))return!0}return!1},A=(n,s)=>{var l;return((l=n.previousSibling)===null||l===void 0?void 0:l.nodeName)===s},$=(n,s)=>{let l=s;for(;l&&l!==n;){if(xs(l))return!0;l=l.parentNode}return!1},j=(n,s,l,m,x)=>{const P=n.getRoot(),Z=n.schema.getNonEmptyElements(),J=x.parentNode;let ge,Re;if(!J)return Y.none();const Ge=n.getParent(J,n.isBlock)||P;if(m&&aa(x)&&s&&n.isEmpty(Ge))return Y.some(Nn(J,n.nodeIndex(x)));const qe=new ca(x,Ge);for(;Re=qe[m?"prev":"next"]();){if(n.getContentEditableParent(Re)==="false"||k_(Re,P))return Y.none();if(lr(Re)&&Re.data.length>0)return Qs(Re,P,"A")?Y.none():Y.some(Nn(Re,m?Re.data.length:0));if(n.isBlock(Re)||Z[Re.nodeName.toLowerCase()])return Y.none();ge=Re}return ed(ge)?Y.none():l&&ge?Y.some(Nn(ge,0)):Y.none()},ue=(n,s,l,m)=>{const x=n.getRoot();let P,Z=!1,J=l?m.startContainer:m.endContainer,ge=l?m.startOffset:m.endOffset;const Re=Xr(J)&&ge===J.childNodes.length,Ge=n.schema.getNonEmptyElements();let qe=l;if(bt(J))return Y.none();if(Xr(J)&&ge>J.childNodes.length-1&&(qe=!1),kg(J)&&(J=x,ge=0),J===x){if(qe&&(P=J.childNodes[ge>0?ge-1:0],P&&(bt(P)||Ge[P.nodeName]||qu(P))))return Y.none();if(J.hasChildNodes()){if(ge=Math.min(!qe&&ge>0?ge-1:ge,J.childNodes.length-1),J=J.childNodes[ge],ge=lr(J)&&Re?J.data.length:0,!s&&J===x.lastChild&&qu(J)||$(x,J)||bt(J)||er(J))return Y.none();if(J.hasChildNodes()&&!qu(J)){P=J;const ot=new ca(J,x);do{if(xs(P)||bt(P)){Z=!1;break}if(lr(P)&&P.data.length>0){ge=qe?0:P.data.length,J=P,Z=!0;break}if(Ge[P.nodeName.toLowerCase()]&&!ll(P)){ge=n.nodeIndex(P),J=P.parentNode,qe||ge++,Z=!0;break}}while(P=qe?ot.next():ot.prev())}}}return s&&(lr(J)&&ge===0&&j(n,Re,s,!0,J).each(ot=>{J=ot.container(),ge=ot.offset(),Z=!0}),Xr(J)&&(P=J.childNodes[ge],P||(P=J.childNodes[ge-1]),P&&aa(P)&&!A(P,"A")&&!ET(n,P,!1)&&!ET(n,P,!0)&&j(n,Re,s,!0,P).each(ot=>{J=ot.container(),ge=ot.offset(),Z=!0}))),qe&&!s&&lr(J)&&ge===J.data.length&&j(n,Re,s,!1,J).each(ot=>{J=ot.container(),ge=ot.offset(),Z=!0}),Z&&J?Y.some(Nn(J,ge)):Y.none()},Me=(n,s)=>{const l=s.collapsed,m=s.cloneRange(),x=Nn.fromRangeStart(s);return ue(n,l,!0,m).each(P=>{(!l||!Nn.isAbove(x,P))&&m.setStart(P.container(),P.offset())}),l||ue(n,l,!1,m).each(P=>{m.setEnd(P.container(),P.offset())}),l&&m.collapse(!0),qg(s,m)?Y.none():Y.some(m)},ze=(n,s)=>n.splitText(s),nt=n=>{let s=n.startContainer,l=n.startOffset,m=n.endContainer,x=n.endOffset;if(s===m&&lr(s)){if(l>0&&l<s.data.length)if(m=ze(s,l),s=m.previousSibling,x>l){x=x-l;const P=ze(m,x).previousSibling;s=m=P,x=P.data.length,l=0}else x=0}else if(lr(s)&&l>0&&l<s.data.length&&(s=ze(s,l),l=0),lr(m)&&x>0&&x<m.data.length){const P=ze(m,x).previousSibling;m=P,x=P.data.length}return{startContainer:s,startOffset:l,endContainer:m,endOffset:x}},Ot=n=>({walk:(P,Z)=>Sb(n,P,Z),split:nt,expand:(P,Z={type:"word"})=>{if(Z.type==="word"){const J=Vm(n,P,[{inline:"span"}]),ge=n.createRng();return ge.setStart(J.startContainer,J.startOffset),ge.setEnd(J.endContainer,J.endOffset),ge}return P},normalize:P=>Me(n,P).fold(ne,Z=>(P.setStart(Z.startContainer,Z.startOffset),P.setEnd(Z.endContainer,Z.endOffset),!0))});Ot.compareRanges=qg,Ot.getCaretRangeFromPoint=uf,Ot.getSelectedNode=gw,Ot.getNode=_u;const Kt=((n,s)=>{const l=(J,ge)=>{if(!W(ge)&&!ge.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+ge);const Re=J.dom;Sh(Re)&&(Re.style[n]=ge+"px")},m=J=>{const ge=s(J);if(ge<=0||ge===null){const Re=wi(J,n);return parseFloat(Re)||0}return ge},x=m,P=(J,ge)=>oe(ge,(Re,Ge)=>{const qe=wi(J,Ge),ot=qe===void 0?0:parseInt(qe,10);return isNaN(ot)?Re:Re+ot},0);return{set:l,get:m,getOuter:x,aggregate:P,max:(J,ge,Re)=>{const Ge=P(J,Re);return ge>Ge?ge-Ge:0}}})("height",n=>{const s=n.dom;return xh(n)?s.getBoundingClientRect().height:s.offsetHeight}),Cn=n=>Kt.get(n),ir=()=>Yt.fromDom(document),$r=(n,s)=>n.view(s).fold(ae([]),m=>{const x=n.owner(m),P=$r(n,x);return[m].concat(P)}),Rr=(n,s)=>{const l=s.owner(n);return $r(s,l)};var jn=Object.freeze({__proto__:null,view:n=>{var s;return(n.dom===document?Y.none():Y.from((s=n.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Yt.fromDom)},owner:n=>Jf(n)});const io=n=>{const s=ir(),l=ku(s),m=Rr(n,jn),x=wm(n),P=fe(m,(Z,J)=>{const ge=wm(J);return{left:Z.left+ge.left,top:Z.top+ge.top}},{left:0,top:0});return Tg(P.left+x.left+l.left,P.top+x.top+l.top)},$o=n=>Vs(n)==="textarea",os=(n,s)=>n.dispatch("ScrollIntoView",s).isDefaultPrevented(),za=(n,s)=>{n.dispatch("AfterScrollIntoView",s)},gl=(n,s)=>{const l=sl(n);if(l.length===0||$o(n))return{element:n,offset:s};if(s<l.length&&!$o(l[s]))return{element:l[s],offset:0};{const m=l[l.length-1];return $o(m)?{element:n,offset:s}:Vs(m)==="img"?{element:m,offset:1}:Zi(m)?{element:m,offset:au(m).length}:{element:m,offset:sl(m).length}}},bi=(n,s)=>{const l=VO(n),m=Cn(n);return{element:n,bottom:l.top+m,height:m,pos:l,cleanup:s}},hu=(n,s)=>{const l=gl(n,s),m=Yt.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+he+"</span>");return Ui(l.element,m),bi(m,()=>Ks(m))},bv=n=>bi(Yt.fromDom(n),ie),Ov=(n,s,l,m)=>{Lc(n,(x,P)=>Jx(n,s,l,m),l)},_T=(n,s,l,m,x)=>{const P={elm:m.element.dom,alignToTop:x};if(os(n,P))return;const Z=ku(s).top;l(n,s,Z,m,x),za(n,P)},Jx=(n,s,l,m)=>{const x=Yt.fromDom(n.getBody()),P=Yt.fromDom(n.getDoc());Ti(x);const Z=hu(Yt.fromDom(l.startContainer),l.startOffset);_T(n,P,s,Z,m),Z.cleanup()},Oa=(n,s,l,m)=>{const x=Yt.fromDom(n.getDoc());_T(n,x,l,bv(s),m)},Lc=(n,s,l)=>{const m=l.startContainer,x=l.startOffset,P=l.endContainer,Z=l.endOffset;s(Yt.fromDom(m),Yt.fromDom(P));const J=n.dom.createRng();J.setStart(m,x),J.setEnd(P,Z),n.selection.setRng(l)},ec=(n,s,l,m,x)=>{const P=s.pos;if(m)a0(P.left,P.top,x);else{const Z=P.top-l+s.height;a0(-n.getBody().getBoundingClientRect().left,Z,x)}},ff=(n,s,l,m,x,P)=>{const Z=m+l,J=x.pos.top,ge=x.bottom,Re=ge-J>=m;J<l?ec(n,x,m,P!==!1,s):J>Z?ec(n,x,m,Re?P!==!1:P===!0,s):ge>Z&&!Re&&ec(n,x,m,P===!0,s)},$u=(n,s,l,m,x)=>{const P=bg(s).dom.innerHeight;ff(n,s,l,P,m,x)},Kg=(n,s,l,m,x)=>{const P=bg(s).dom.innerHeight;ff(n,s,l,P,m,x);const Z=io(m.element),J=Ay(window);Z.top<J.y?Cy(m.element,x!==!1):Z.top>J.bottom&&Cy(m.element,x===!0)},jc=(n,s,l)=>Ov(n,$u,s,l),RT=(n,s,l)=>Oa(n,s,$u,l),Pb=(n,s,l)=>Ov(n,Kg,s,l),Qh=(n,s,l)=>Oa(n,s,Kg,l),dc=(n,s,l)=>{(n.inline?RT:Qh)(n,s,l)},Mb=(n,s,l)=>{(n.inline?jc:Pb)(n,s,l)},DA=(n,s=!1)=>n.dom.focus({preventScroll:s}),$A=n=>{const s=Ef(n).dom;return n.dom===s.activeElement},i1=(n=ir())=>Y.from(n.dom.activeElement).map(Yt.fromDom),LA=n=>i1(Ef(n)).filter(s=>n.dom.contains(s.dom)),e2=(n,s)=>{const l=Zi(s)?au(s).length:sl(s).length+1;return n>l?l:n<0?0:n},IA=n=>Um.range(n.start,e2(n.soffset,n.start),n.finish,e2(n.foffset,n.finish)),xv=(n,s)=>!ju(s.dom)&&(oc(n,s)||Gs(n,s)),T9=n=>s=>xv(n,s.start)&&xv(n,s.finish),sW=n=>n.inline||Dr.browser.isFirefox(),aW=n=>Um.range(Yt.fromDom(n.startContainer),n.startOffset,Yt.fromDom(n.endContainer),n.endOffset),iW=n=>{const s=n.getSelection();return(!s||s.rangeCount===0?Y.none():Y.from(s.getRangeAt(0))).map(aW)},lW=n=>{const s=bg(n);return iW(s.dom).filter(T9(n))},C9=(n,s)=>Y.from(s).filter(T9(n)).map(IA),k9=n=>{const s=document.createRange();try{return s.setStart(n.start.dom,n.soffset),s.setEnd(n.finish.dom,n.foffset),Y.some(s)}catch{return Y.none()}},t2=n=>{const s=sW(n)?lW(Yt.fromDom(n.getBody())):Y.none();n.bookmark=s.isSome()?s:n.bookmark},A_=n=>(n.bookmark?n.bookmark:Y.none()).bind(l=>C9(Yt.fromDom(n.getBody()),l)).bind(k9),cW=n=>{A_(n).each(s=>n.selection.setRng(s))},P9={isEditorUIElement:n=>{const s=n.className.toString();return s.indexOf("tox-")!==-1||s.indexOf("mce-")!==-1}},M9=(n,s)=>(W(s)||(s=0),setTimeout(n,s)),E9=(n,s)=>(W(s)||(s=0),setInterval(n,s)),hd={setEditorTimeout:(n,s,l)=>M9(()=>{n.removed||s()},l),setEditorInterval:(n,s,l)=>{const m=E9(()=>{n.removed?clearInterval(m):s()},l);return m}},uW=n=>n.type==="nodechange"&&n.selectionChange,fW=(n,s)=>{const l=()=>{s.throttle()};$a.DOM.bind(document,"mouseup",l),n.on("remove",()=>{$a.DOM.unbind(document,"mouseup",l)})},dW=(n,s)=>{n.on("mouseup touchend",l=>{s.throttle()})},hW=(n,s)=>{dW(n,s),n.on("keyup NodeChange AfterSetSelectionRange",l=>{uW(l)||t2(n)})},NA=n=>{const s=Fy(()=>{t2(n)},0);n.on("init",()=>{n.inline&&fW(n,s),hW(n,s)}),n.on("remove",()=>{s.cancel()})};let Eb;const BA=$a.DOM,_9=n=>Xr(n)&&P9.isEditorUIElement(n),QA=n=>{const s=n.classList;return s!==void 0?s.contains("tox-edit-area")||s.contains("tox-edit-area__iframe")||s.contains("mce-content-body"):!1},FA=(n,s)=>{const l=Vk(n);return BA.getParent(s,x=>_9(x)||(l?n.dom.is(x,l):!1))!==null},P_=n=>{try{const s=Ef(Yt.fromDom(n.getElement()));return i1(s).fold(()=>document.body,l=>l.dom)}catch{return document.body}},mW=(n,s)=>{const l=s.editor;NA(l);const m=(x,P)=>{if(IE(x)&&x.inline!==!0){const Z=Yt.fromDom(x.getContainer());P(Z,"tox-edit-focus")}};l.on("focusin",()=>{const x=n.focusedEditor;QA(P_(l))&&m(l,mm),x!==l&&(x&&x.dispatch("blur",{focusedEditor:l}),n.setActive(l),n.focusedEditor=l,l.dispatch("focus",{blurredEditor:x}),l.focus(!0))}),l.on("focusout",()=>{hd.setEditorTimeout(l,()=>{const x=n.focusedEditor;(!QA(P_(l))||x!==l)&&m(l,gm),!FA(l,P_(l))&&x===l&&(l.dispatch("blur",{focusedEditor:null}),n.focusedEditor=null)})}),Eb||(Eb=x=>{const P=n.activeEditor;P&&Yp(x).each(Z=>{const J=Z;J.ownerDocument===document&&J!==document.body&&!FA(P,J)&&n.focusedEditor===P&&(P.dispatch("blur",{focusedEditor:null}),n.focusedEditor=null)})},BA.bind(document,"focusin",Eb))},gW=(n,s)=>{n.focusedEditor===s.editor&&(n.focusedEditor=null),!n.activeEditor&&Eb&&(BA.unbind(document,"focusin",Eb),Eb=null)},pW=n=>{n.on("AddEditor",ee(mW,n)),n.on("RemoveEditor",ee(gW,n))},vW=(n,s)=>n.dom.getParent(s,l=>n.dom.getContentEditable(l)==="true"),yW=n=>n.collapsed?Y.from(_u(n.startContainer,n.startOffset)).map(Yt.fromDom):Y.none(),bW=(n,s)=>yW(s).bind(l=>od(l)?Y.some(l):oc(n,l)?Y.none():Y.some(n)),R9=(n,s)=>{bW(Yt.fromDom(n.getBody()),s).bind(l=>Gc(l.dom)).fold(()=>{n.selection.normalize()},l=>n.selection.setRng(l.toRange()))},M_=n=>{if(n.setActive)try{n.setActive()}catch{n.focus()}else n.focus()},OW=n=>$A(n)||LA(n).isSome(),xW=n=>B(n.iframeElement)&&$A(Yt.fromDom(n.iframeElement)),VA=n=>{const s=n.getBody();return s&&OW(Yt.fromDom(s))},D9=n=>{const s=Ef(Yt.fromDom(n.getElement()));return i1(s).filter(l=>!QA(l.dom)&&FA(n,l.dom)).isSome()},l1=n=>n.inline?VA(n):xW(n),$9=n=>l1(n)||D9(n),SW=n=>{const s=n.selection,l=n.getBody();let m=s.getRng();n.quirks.refreshContentEditable(),B(n.bookmark)&&!l1(n)&&A_(n).each(P=>{n.selection.setRng(P),m=P});const x=vW(n,s.getNode());if(x&&n.dom.isChildOf(x,l)){M_(x),R9(n,m),E_(n);return}n.inline||(Dr.browser.isOpera()||M_(l),n.getWin().focus()),(Dr.browser.isFirefox()||n.inline)&&(M_(l),R9(n,m)),E_(n)},E_=n=>n.editorManager.setActive(n),wW=(n,s)=>{n.removed||(s?E_(n):SW(n))},L9=(n,s)=>s.collapsed?n.isEditable(s.startContainer):n.isEditable(s.startContainer)&&n.isEditable(s.endContainer),I9=(n,s,l,m,x)=>{const P=l?s.startContainer:s.endContainer,Z=l?s.startOffset:s.endOffset;return Y.from(P).map(Yt.fromDom).map(J=>!m||!s.collapsed?Oh(J,x(J,Z)).getOr(J):J).bind(J=>Pl(J)?Y.some(J):ou(J).filter(Pl)).map(J=>J.dom).getOr(n)},__=(n,s,l=!1)=>I9(n,s,!0,l,(m,x)=>Math.min(El(m),x)),N9=(n,s,l=!1)=>I9(n,s,!1,l,(m,x)=>x>0?x-1:x),R_=(n,s)=>{const l=n;for(;n&&lr(n)&&n.length===0;)n=s?n.nextSibling:n.previousSibling;return n||l},B9=(n,s)=>{if(!s)return n;let l=s.startContainer,m=s.endContainer;const x=s.startOffset,P=s.endOffset;let Z=s.commonAncestorContainer;s.collapsed||(l===m&&P-x<2&&l.hasChildNodes()&&(Z=l.childNodes[x]),lr(l)&&lr(m)&&(l.length===x?l=R_(l.nextSibling,!0):l=l.parentNode,P===0?m=R_(m.previousSibling,!1):m=m.parentNode,l&&l===m&&(Z=l)));const J=lr(Z)?Z.parentNode:Z;return Ul(J)?J:n},TW=(n,s,l,m)=>{const x=[],P=n.getRoot(),Z=n.getParent(l||__(P,s,s.collapsed),n.isBlock),J=n.getParent(m||N9(P,s,s.collapsed),n.isBlock);if(Z&&Z!==P&&x.push(Z),Z&&J&&Z!==J){let ge;const Re=new ca(Z,P);for(;(ge=Re.next())&&ge!==J;)n.isBlock(ge)&&x.push(ge)}return J&&Z!==J&&J!==P&&x.push(J),x},CW=(n,s,l)=>Y.from(s).bind(m=>Y.from(m.parentNode).map(x=>{const P=n.nodeIndex(m),Z=n.createRng();return Z.setStart(x,P),Z.setEnd(x,P+1),l&&(dT(n,Z,m,!0),dT(n,Z,m,!1)),Z})),D_=(n,s)=>Ie(s,l=>{const m=n.dispatch("GetSelectionRange",{range:l});return m.range!==l?m.range:l}),kW=n=>Vs(n)==="img"?1:u0(n).fold(()=>sl(n).length,s=>s.length),AW=n=>u0(n).filter(s=>s.trim().length!==0||s.indexOf(zs)>-1).isSome(),PW=n=>Xa(n)&&Ml(n,"contenteditable")==="false",MW=["img","br"],Q9=n=>AW(n)||Ve(MW,Vs(n))||PW(n),EW=n=>Hl(n,Q9),_W=n=>RW(n,Q9),RW=(n,s)=>{const l=m=>{const x=sl(m);for(let P=x.length-1;P>=0;P--){const Z=x[P];if(s(Z))return Y.some(Z);const J=l(Z);if(J.isSome())return J}return Y.none()};return l(n)},F9="[data-mce-autocompleter]",DW=(n,s)=>{if(V9(Yt.fromDom(n.getBody())).isNone()){const l=Yt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',n.getDoc());Ci(l,Yt.fromDom(s.extractContents())),s.insertNode(l.dom),ou(l).each(m=>m.dom.normalize()),_W(l).map(m=>{n.selection.setCursorLocation(m.dom,kW(m))})}},$W=n=>_f(n,F9),V9=n=>Tc(n,F9),LW=(n,s)=>V9(s).each(l=>{const m=n.selection.getBookmark();Rf(l),n.selection.moveToBookmark(m)}),IW={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},zA=(n,s,l)=>{const m=l?"lastChild":"firstChild",x=l?"prev":"next";if(n[m])return n[m];if(n!==s){let P=n[x];if(P)return P;for(let Z=n.parent;Z&&Z!==s;Z=Z.parent)if(P=Z[x],P)return P}},NW=n=>{var s;const l=(s=n.value)!==null&&s!==void 0?s:"";if(!Qa(l))return!1;const m=n.parent;return!(m&&(m.name!=="span"||m.attr("style"))&&/^[ ]+$/.test(l))},yo=n=>{const s=n.name==="a"&&!n.attr("href")&&n.attr("id");return n.attr("name")||n.attr("id")&&!n.firstChild||n.attr("data-mce-bookmark")||s};class mu{static create(s,l){const m=new mu(s,IW[s]||1);return l&&Bt(l,(x,P)=>{m.attr(P,x)}),m}constructor(s,l){this.name=s,this.type=l,l===1&&(this.attributes=[],this.attributes.map={})}replace(s){const l=this;return s.parent&&s.remove(),l.insert(s,l),l.remove(),l}attr(s,l){const m=this;if(!M(s))return B(s)&&Bt(s,(P,Z)=>{m.attr(Z,P)}),m;const x=m.attributes;if(x){if(l!==void 0){if(l===null){if(s in x.map){delete x.map[s];let P=x.length;for(;P--;)if(x[P].name===s)return x.splice(P,1),m}return m}if(s in x.map){let P=x.length;for(;P--;)if(x[P].name===s){x[P].value=l;break}}else x.push({name:s,value:l});return x.map[s]=l,m}return x.map[s]}}clone(){const s=this,l=new mu(s.name,s.type),m=s.attributes;if(m){const x=[];x.map={};for(let P=0,Z=m.length;P<Z;P++){const J=m[P];J.name!=="id"&&(x[x.length]={name:J.name,value:J.value},x.map[J.name]=J.value)}l.attributes=x}return l.value=s.value,l}wrap(s){const l=this;return l.parent&&(l.parent.insert(s,l),s.append(l)),l}unwrap(){const s=this;for(let l=s.firstChild;l;){const m=l.next;s.insert(l,s,!0),l=m}s.remove()}remove(){const s=this,l=s.parent,m=s.next,x=s.prev;return l&&(l.firstChild===s?(l.firstChild=m,m&&(m.prev=null)):x&&(x.next=m),l.lastChild===s?(l.lastChild=x,x&&(x.next=null)):m&&(m.prev=x),s.parent=s.next=s.prev=null),s}append(s){const l=this;s.parent&&s.remove();const m=l.lastChild;return m?(m.next=s,s.prev=m,l.lastChild=s):l.lastChild=l.firstChild=s,s.parent=l,s}insert(s,l,m){s.parent&&s.remove();const x=l.parent||this;return m?(l===x.firstChild?x.firstChild=s:l.prev&&(l.prev.next=s),s.prev=l.prev,s.next=l,l.prev=s):(l===x.lastChild?x.lastChild=s:l.next&&(l.next.prev=s),s.next=l.next,s.prev=l,l.next=s),s.parent=x,s}getAll(s){const l=this,m=[];for(let x=l.firstChild;x;x=zA(x,l))x.name===s&&m.push(x);return m}children(){const s=this,l=[];for(let m=s.firstChild;m;m=m.next)l.push(m);return l}empty(){const s=this;if(s.firstChild){const l=[];for(let x=s.firstChild;x;x=zA(x,s))l.push(x);let m=l.length;for(;m--;){const x=l[m];x.parent=x.firstChild=x.lastChild=x.next=x.prev=null}}return s.firstChild=s.lastChild=null,s}isEmpty(s,l={},m){var x;const P=this;let Z=P.firstChild;if(yo(P))return!1;if(Z)do{if(Z.type===1){if(Z.attr("data-mce-bogus"))continue;if(s[Z.name]||yo(Z))return!1}if(Z.type===8||Z.type===3&&!NW(Z)||Z.type===3&&Z.parent&&l[Z.parent.name]&&Qa((x=Z.value)!==null&&x!==void 0?x:"")||m&&m(Z))return!1}while(Z=zA(Z,P));return!0}walk(s){return zA(this,null,s)}}const z9=fr.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Z9=n=>M(n.nodeValue)&&n.nodeValue.includes(he),ZA=n=>`${n.length===0?"":`${Ie(n,s=>`[${s}]`).join(",")},`}[data-mce-bogus="all"]`,BW=(n,s)=>s.querySelectorAll(ZA(n)),H9=n=>document.createTreeWalker(n,NodeFilter.SHOW_COMMENT,s=>Z9(s)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),U9=n=>document.createTreeWalker(n,NodeFilter.SHOW_TEXT,s=>{if(Z9(s)){const l=s.parentNode;return l&&lt(z9,l.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),QW=n=>H9(n).nextNode()!==null,FW=n=>U9(n).nextNode()!==null,HA=(n,s)=>s.querySelector(ZA(n))!==null,W9=(n,s)=>{re(BW(n,s),l=>{const m=Yt.fromDom(l);Ml(m,"data-mce-bogus")==="all"?Ks(m):re(n,x=>{Af(m,x)&&ui(m,x)})})},VW=n=>{let s=n.nextNode();for(;s!==null;)s.nodeValue=null,s=n.nextNode()},zW=L(VW,H9),Uo=L(VW,U9),Y9=(n,s)=>{const l=[{condition:ee(HA,s),action:ee(W9,s)},{condition:QW,action:zW},{condition:FW,action:Uo}];let m=n,x=!1;return re(l,({condition:P,action:Z})=>{P(m)&&(x||(m=n.cloneNode(!0),x=!0),Z(m))}),m},Jo=n=>{const s=al(n,"[data-mce-bogus]");re(s,l=>{Ml(l,"data-mce-bogus")==="all"?Ks(l):nd(l)?(Ui(l,Yt.fromText(Ag)),Ks(l)):Rf(l)})},$_=n=>{const s=al(n,"input");re(s,l=>{ui(l,"name")})},qle=(n,s)=>{const l=Rc(n),m=new RegExp(`^(<${l}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${l}>[\r
]*|<br \\/>[\r
]*)$`);return s.replace(m,"")},Kle=(n,s)=>{const l=n.getDoc(),m=Ef(Yt.fromDom(n.getBody())),x=Yt.fromTag("div",l);Da(x,"data-mce-bogus","all"),sc(x,{position:"fixed",left:"-9999999px",top:"0"}),Om(x,s.innerHTML),Jo(x),$_(x);const P=tk(m);Ci(P,x);const Z=Pe(x.dom.innerText);return Ks(x),Z},ZW=(n,s,l)=>{let m;return s.format==="raw"?m=fr.trim(Pe(Y9(l,n.serializer.getTempAttrs()).innerHTML)):s.format==="text"?m=Kle(n,l):s.format==="tree"?m=n.serializer.serialize(l,s):m=qle(n,n.serializer.serialize(l,s)),s.format!=="text"&&!Wi(Yt.fromDom(l))&&M(m)?fr.trim(m):m},Jle=(n,s)=>Y.from(n.getBody()).fold(ae(s.format==="tree"?new mu("body",11):""),l=>ZW(n,s,l)),HW=fr.makeMap,X9=n=>{const s=[];n=n||{};const l=n.indent,m=HW(n.indent_before||""),x=HW(n.indent_after||""),P=Eg.getEncodeFunc(n.entity_encoding||"raw",n.entities),Z=n.element_format!=="xhtml";return{start:(J,ge,Re)=>{if(l&&m[J]&&s.length>0){const Ge=s[s.length-1];Ge.length>0&&Ge!==`
`&&s.push(`
`)}if(s.push("<",J),ge)for(let Ge=0,qe=ge.length;Ge<qe;Ge++){const ot=ge[Ge];s.push(" ",ot.name,'="',P(ot.value,!0),'"')}if(!Re||Z?s[s.length]=">":s[s.length]=" />",Re&&l&&x[J]&&s.length>0){const Ge=s[s.length-1];Ge.length>0&&Ge!==`
`&&s.push(`
`)}},end:J=>{let ge;s.push("</",J,">"),l&&x[J]&&s.length>0&&(ge=s[s.length-1],ge.length>0&&ge!==`
`&&s.push(`
`))},text:(J,ge)=>{J.length>0&&(s[s.length]=ge?J:P(J))},cdata:J=>{s.push("<![CDATA[",J,"]]>")},comment:J=>{s.push("<!--",J,"-->")},pi:(J,ge)=>{ge?s.push("<?",J," ",P(ge),"?>"):s.push("<?",J,"?>"),l&&s.push(`
`)},doctype:J=>{s.push("<!DOCTYPE",J,">",l?`
`:"")},reset:()=>{s.length=0},getContent:()=>s.join("").replace(/\n$/,"")}},c1=(n={},s=Em())=>{const l=X9(n);return n.validate="validate"in n?n.validate:!0,{serialize:x=>{const P=n.validate,Z={3:ge=>{var Re;l.text((Re=ge.value)!==null&&Re!==void 0?Re:"",ge.raw)},8:ge=>{var Re;l.comment((Re=ge.value)!==null&&Re!==void 0?Re:"")},7:ge=>{l.pi(ge.name,ge.value)},10:ge=>{var Re;l.doctype((Re=ge.value)!==null&&Re!==void 0?Re:"")},4:ge=>{var Re;l.cdata((Re=ge.value)!==null&&Re!==void 0?Re:"")},11:ge=>{let Re=ge;if(Re=Re.firstChild)do J(Re);while(Re=Re.next)}};l.reset();const J=ge=>{var Re;const Ge=Z[ge.type];if(Ge)Ge(ge);else{const qe=ge.name,ot=qe in s.getVoidElements();let Et=ge.attributes;if(P&&Et&&Et.length>1){const Vt=[];Vt.map={};const kt=s.getElementRule(ge.name);if(kt){for(let It=0,cn=kt.attributesOrder.length;It<cn;It++){const xn=kt.attributesOrder[It];if(xn in Et.map){const bn=Et.map[xn];Vt.map[xn]=bn,Vt.push({name:xn,value:bn})}}for(let It=0,cn=Et.length;It<cn;It++){const xn=Et[It].name;if(!(xn in Vt.map)){const bn=Et.map[xn];Vt.map[xn]=bn,Vt.push({name:xn,value:bn})}}Et=Vt}}if(l.start(qe,Et,ot),Mc(qe))M(ge.value)&&l.text(ge.value,!0),l.end(qe);else if(!ot){let Vt=ge.firstChild;if(Vt){(qe==="pre"||qe==="textarea")&&Vt.type===3&&((Re=Vt.value)===null||Re===void 0?void 0:Re[0])===`
`&&l.text(`
`,!0);do J(Vt);while(Vt=Vt.next)}l.end(qe)}}};return x.type===1&&!n.inner?J(x):x.type===3?Z[3](x):Z[11](x),l.getContent()}}},Mo=new Set;re(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],s=>{Mo.add(s)});const G9=["font","text-decoration","text-emphasis"],L_=(n,s)=>Gt(n.parseStyle(n.getAttrib(s,"style"))),UW=n=>Mo.has(n),DT=(n,s)=>Xe(L_(n,s),l=>!UW(l)),j9=n=>se(n,s=>_e(G9,l=>Sr(s,l))),WW=(n,s,l)=>{const m=L_(n,s),x=L_(n,l),P=Z=>{var J,ge;const Re=(J=n.getStyle(s,Z))!==null&&J!==void 0?J:"",Ge=(ge=n.getStyle(l,Z))!==null&&ge!==void 0?ge:"";return St(Re)&&St(Ge)&&Re!==Ge};return _e(m,Z=>{const J=ge=>_e(ge,Re=>Re===Z);if(!J(x)&&J(G9)){const ge=j9(x);return _e(ge,P)}else return P(Z)})},q9=(n,s,l)=>Y.from(l.container()).filter(lr).exists(m=>{const x=n?0:-1;return s(m.data.charAt(l.offset()+x))}),I_=ee(q9,!0,q0),UA=ee(q9,!1,q0),YW=n=>{const s=n.container();return lr(s)&&(s.data.length===0||Te(s.data)&&vv.isBookmarkNode(s.parentNode))},_b=(n,s)=>l=>sb(n?0:-1,l).filter(s).isSome(),XW=n=>Rl(n)&&wi(Yt.fromDom(n),"display")==="block",K9=n=>xs(n)&&!Tm(n),GW=_b(!0,XW),jW=_b(!1,XW),$T=_b(!0,ni),n2=_b(!1,ni),J9=_b(!0,qu),as=_b(!1,qu),Sv=_b(!0,K9),Wm=_b(!1,K9),eL=n=>n.slice(0,-1),tL=(n,s,l)=>oc(s,n)?eL(gy(n,m=>l(m)||Gs(m,s))):[],N_=(n,s)=>tL(n,s,ne),Jg=(n,s)=>[n].concat(N_(n,s)),WA=(n,s,l)=>cd(n,s,l,YW),qW=n=>s=>n.isBlock(Vs(s)),B_=(n,s,l)=>ce(Jg(Yt.fromDom(s.container()),n),qW(l)),nL=(n,s,l,m)=>WA(n,s.dom,l).forall(x=>B_(s,l,m).fold(()=>!Wd(x,l,s.dom),P=>!Wd(x,l,s.dom)&&oc(P,Yt.fromDom(x.container())))),rL=(n,s,l,m)=>B_(s,l,m).fold(()=>WA(n,s.dom,l).forall(x=>!Wd(x,l,s.dom)),x=>WA(n,x.dom,l).isNone()),Q_=ee(rL,!1),oL=ee(rL,!0),KW=ee(nL,!1),JW=ee(nL,!0),eY=n=>Ex(n).exists(nd),YA=(n,s,l,m)=>{const x=se(Jg(Yt.fromDom(l.container()),s),Z=>m.isBlock(Vs(Z))),P=yt(x).getOr(s);return $l(n,P.dom,l).filter(eY)},LT=(n,s,l)=>Ex(s).exists(nd)||YA(!0,n,s,l).isSome(),IT=(n,s,l)=>WE(s).exists(nd)||YA(!1,n,s,l).isSome(),tY=ee(YA,!1),nY=ee(YA,!0),sL=n=>Nn.isTextPosition(n)&&!n.isAtStart()&&!n.isAtEnd(),aL=(n,s,l)=>{const m=se(Jg(Yt.fromDom(s.container()),n),x=>l.isBlock(Vs(x)));return yt(m).getOr(n)},iL=(n,s,l)=>sL(s)?UA(s):UA(s)||fu(aL(n,s,l).dom,s).exists(UA),lL=(n,s,l)=>sL(s)?I_(s):I_(s)||$c(aL(n,s,l).dom,s).exists(I_),rY=n=>Ve(["pre","pre-wrap"],n),F_=n=>Ex(n).bind(s=>Cu(s,Pl)).exists(s=>rY(wi(s,"white-space"))),cL=(n,s)=>fu(n.dom,s).isNone(),oY=(n,s)=>$c(n.dom,s).isNone(),sY=(n,s,l)=>cL(n,s)||oY(n,s)||Q_(n,s,l)||oL(n,s,l)||IT(n,s,l)||LT(n,s,l),Rb=n=>B(n)&&xs(n)&&Vg(n),uL=(n,s)=>l=>Rb(new ca(l,n)[s]()),fL=(n,s)=>{const l=$c(n.dom,s).getOr(s),m=uL(n.dom,"next");return s.isAtEnd()&&(m(s.container())||m(l.container()))},aY=(n,s)=>{const l=fu(n.dom,s).getOr(s),m=uL(n.dom,"prev");return s.isAtStart()&&(m(s.container())||m(l.container()))},dL=(n,s,l)=>F_(s)?!1:sY(n,s,l)||iL(n,s,l)||lL(n,s,l),r2=(n,s,l)=>F_(s)?!1:Q_(n,s,l)||KW(n,s,l)||IT(n,s,l)||iL(n,s,l)||aY(n,s),hL=n=>{const s=n.container(),l=n.offset();return lr(s)&&l<s.data.length?Nn(s,l+1):n},o2=(n,s,l)=>F_(s)?!1:oL(n,s,l)||JW(n,s,l)||LT(n,s,l)||lL(n,s,l)||fL(n,s),XA=(n,s,l)=>r2(n,s,l)||o2(n,hL(s),l),gu=(n,s)=>Ix(n.charAt(s)),mL=(n,s)=>q0(n.charAt(s)),iY=n=>{const s=n.container();return lr(s)&&sr(s.data,zs)},lY=n=>{const s=n.split("");return Ie(s,(l,m)=>Ix(l)&&m>0&&m<s.length-1&&Yg(s[m-1])&&Yg(s[m+1])?" ":l).join("")},gL=(n,s,l,m)=>{const x=s.data,P=Nn(s,0);return!l&&gu(x,0)&&!XA(n,P,m)?(s.data=" "+x.slice(1),!0):l&&mL(x,0)&&r2(n,P,m)?(s.data=zs+x.slice(1),!0):!1},cY=n=>{const s=n.data,l=lY(s);return l!==s?(n.data=l,!0):!1},u1=(n,s,l,m)=>{const x=s.data,P=Nn(s,x.length-1);return!l&&gu(x,x.length-1)&&!XA(n,P,m)?(s.data=x.slice(0,-1)+" ",!0):l&&mL(x,x.length-1)&&o2(n,P,m)?(s.data=x.slice(0,-1)+zs,!0):!1},uY=(n,s,l)=>{const m=s.container();if(!lr(m))return Y.none();if(iY(s)){const x=gL(n,m,!1,l)||cY(m)||u1(n,m,!1,l);return Ho(x,s)}else if(XA(n,s,l)){const x=gL(n,m,!0,l)||u1(n,m,!0,l);return Ho(x,s)}else return Y.none()},fY=n=>{const s=Yt.fromDom(n.getBody());n.selection.isCollapsed()&&uY(s,Nn.fromRangeStart(n.selection.getRng()),n.schema).each(l=>{n.selection.setRng(l.toRange())})},si=(n,s,l,m)=>{if(l===0)return;const x=Yt.fromDom(n),P=fi(x,Re=>m.isBlock(Vs(Re))).getOr(x),Z=n.data.slice(s,s+l),J=s+l>=n.data.length&&o2(P,Nn(n,n.data.length),m),ge=s===0&&r2(P,Nn(n,0),m);n.replaceData(s,l,Ji(Z,4,ge,J))},Db=(n,s,l)=>{const m=n.data.slice(s),x=m.length-Fe(m).length;si(n,s,x,l)},pL=(n,s,l)=>{const m=n.data.slice(0,s),x=m.length-Ee(m).length;si(n,s-x,x,l)},Ll=(n,s,l,m,x=!0)=>{const P=Ee(n.data).length,Z=x?n:s,J=x?s:n;return x?Z.appendData(J.data):Z.insertData(0,J.data),Ks(Yt.fromDom(J)),m&&Db(Z,P,l),Z},dY=(n,s)=>{const l=n.container(),m=n.offset();return!Nn.isTextPosition(n)&&l===s.parentNode&&m>Nn.before(s).offset()},hY=(n,s)=>dY(s,n)?Nn(s.container(),s.offset()-1):s,wv=n=>lr(n)?Nn(n,0):Nn.before(n),ia=n=>lr(n)?Nn(n,n.data.length):Nn.after(n),V_=n=>go(n.previousSibling)?Y.some(ia(n.previousSibling)):n.previousSibling?ud(n.previousSibling):Y.none(),z_=n=>go(n.nextSibling)?Y.some(wv(n.nextSibling)):n.nextSibling?Gc(n.nextSibling):Y.none(),mY=(n,s)=>Y.from(s.previousSibling?s.previousSibling:s.parentNode).bind(l=>fu(n,Nn.before(l))).orThunk(()=>$c(n,Nn.after(s))),gY=(n,s)=>$c(n,Nn.after(s)).orThunk(()=>fu(n,Nn.before(s))),pY=(n,s)=>V_(s).orThunk(()=>z_(s)).orThunk(()=>mY(n,s)),Ff=(n,s)=>z_(s).orThunk(()=>V_(s)).orThunk(()=>gY(n,s)),Ym=(n,s,l)=>n?Ff(s,l):pY(s,l),vY=(n,s,l)=>Ym(n,s,l).map(ee(hY,l)),GA=(n,s,l)=>{l.fold(()=>{n.focus()},m=>{n.selection.setRng(m.toRange(),s)})},Z_=n=>s=>s.dom===n,yY=(n,s)=>s&&lt(n.schema.getBlockElements(),Vs(s)),bY=(n,s)=>{if(ta(n)){const l=Yt.fromHtml('<br data-mce-bogus="1">');return s?re(sl(n),m=>{yb(m)||Ks(m)}):wh(n),Ci(n,l),Y.some(Nn.before(l.dom))}else return Y.none()},NT=(n,s,l,m)=>{const x=Wu(n).filter(Zi),P=Up(n).filter(Zi);return Ks(n),bl(x,P,s,(Z,J,ge)=>{const Re=Z.dom,Ge=J.dom,qe=Re.data.length;return Ll(Re,Ge,l,m),ge.container()===Ge?Nn(Re,qe):ge}).orThunk(()=>(m&&(x.each(Z=>pL(Z.dom,Z.dom.length,l)),P.each(Z=>Db(Z.dom,0,l))),s))},jA=(n,s)=>lt(n.schema.getTextInlineElements(),Vs(s)),Tv=(n,s,l,m=!0,x=!1)=>{const P=vY(s,n.getBody(),l.dom),Z=fi(l,ee(yY,n),Z_(n.getBody())),J=NT(l,P,n.schema,jA(n,l));n.dom.isEmpty(n.getBody())?(n.setContent(""),n.selection.setCursorLocation()):Z.bind(ge=>bY(ge,x)).fold(()=>{m&&GA(n,s,J)},ge=>{m&&GA(n,s,Y.some(ge))})},OY=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Xm=n=>OY.test(n),$b=(n,s)=>Uu(Yt.fromDom(s),OE(n))&&!ks(n.schema,s)&&n.dom.isEditable(s),vL=n=>{var s;return $a.DOM.getStyle(n,"direction",!0)==="rtl"||Xm((s=n.textContent)!==null&&s!==void 0?s:"")},qd=(n,s,l)=>se($a.DOM.getParents(l.container(),"*",s),n),Fh=(n,s,l)=>{const m=qd(n,s,l);return Y.from(m[m.length-1])},Vh=(n,s,l)=>{const m=Im(s,n),x=Im(l,n);return B(m)&&m===x},xY=n=>gn(n)||An(n),Ds=(n,s)=>{const l=s.container(),m=s.offset();return n?vt(l)?lr(l.nextSibling)?Nn(l.nextSibling,0):Nn.after(l):gn(s)?Nn(l,m+1):s:vt(l)?lr(l.previousSibling)?Nn(l.previousSibling,l.previousSibling.data.length):Nn.before(l):An(s)?Nn(l,m-1):s},Lb=ee(Ds,!0),BT=ee(Ds,!1),H_=(n,s)=>{const l=m=>m.stopImmediatePropagation();n.on("beforeinput input",l,!0),n.getDoc().execCommand(s),n.off("beforeinput input",l)},U_=n=>{n.execCommand("delete")},QT=n=>H_(n,"Delete"),SY=n=>H_(n,"ForwardDelete"),W_=n=>s=>Fa(ou(s),n,Gs),wY=n=>Mn(n)||rd(n),FT=(n,s)=>oc(n,s)?Cu(s,wY,W_(n)):Y.none(),qA=(n,s=!0)=>{n.dom.isEmpty(n.getBody())&&n.setContent("",{no_selection:!s})},KA=(n,s,l)=>Va(Gc(l),ud(l),(m,x)=>{const P=Ds(!0,m),Z=Ds(!1,x),J=Ds(!1,s);return n?$c(l,J).exists(ge=>ge.isEqual(Z)&&s.isEqual(P)):fu(l,J).exists(ge=>ge.isEqual(P)&&s.isEqual(Z))}).getOr(!0),Y_=n=>(HS(n)?Wu(n):wc(n)).bind(Y_).orThunk(()=>Y.some(n)),VT=(n,s,l,m=!0)=>{var x;s.deleteContents();const P=Y_(l).getOr(l),Z=Yt.fromDom((x=n.dom.getParent(P.dom,n.dom.isBlock))!==null&&x!==void 0?x:l.dom);if(Z.dom===n.getBody()?qA(n,m):ta(Z)&&(D(Z),m&&n.selection.setCursorLocation(Z.dom,0)),!Gs(l,Z)){const J=Fa(ou(Z),l)?[]:IO(Z);re(J.concat(sl(l)),ge=>{!Gs(ge,Z)&&!oc(ge,Z)&&ta(ge)&&Ks(ge)})}},TY=(n,s,l)=>fi(n,s,l).isSome(),CY=(n,s)=>yy(n,s).isSome(),yL=(n,s)=>Hl(n,s).isSome(),kY=n=>s=>Gs(n,s),X_=n=>al(n,"td,th"),G_=(n,s)=>Qm(Yt.fromDom(n),s),AY=n=>Va(n.startTable,n.endTable,(s,l)=>{const m=yL(s,P=>Gs(P,l)),x=yL(l,P=>Gs(P,s));return!m&&!x?n:{...n,startTable:m?Y.none():n.startTable,endTable:x?Y.none():n.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(n),PY=n=>AY(n),bL=(n,s)=>{const l=G_(n.startContainer,s),m=G_(n.endContainer,s),x=l.isSome(),P=m.isSome(),Z=Va(l,m,Gs).getOr(!1);return PY({startTable:l,endTable:m,isStartInTable:x,isEndInTable:P,isSameTable:Z,isMultiTable:!Z&&x&&P})},JA=(n,s)=>({start:n,end:s}),MY=(n,s,l)=>({rng:n,table:s,cells:l}),zT=Ud.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ZT=(n,s)=>_f(Yt.fromDom(n),"td,th",s),OL=n=>!Gs(n.start,n.end),j_=(n,s)=>Qm(n.start,s).bind(l=>Qm(n.end,s).bind(m=>Ho(Gs(l,m),l))),md=(n,s)=>!OL(n)&&j_(n,s).exists(l=>{const m=l.dom.rows;return m.length===1&&m[0].cells.length===1}),EY=(n,s)=>{const l=ZT(n.startContainer,s),m=ZT(n.endContainer,s);return Va(l,m,JA)},xL=n=>s=>Qm(s,n).bind(l=>ft(X_(l)).map(m=>JA(s,m))),q_=n=>s=>Qm(s,n).bind(l=>yt(X_(l)).map(m=>JA(m,s))),HT=n=>s=>j_(s,n).map(l=>MY(s,l,X_(l))),K_=(n,s,l,m)=>{if(l.collapsed||!n.forall(OL))return Y.none();if(s.isSameTable){const x=n.bind(HT(m));return Y.some({start:x,end:x})}else{const x=ZT(l.startContainer,m),P=ZT(l.endContainer,m),Z=x.bind(xL(m)).bind(HT(m)),J=P.bind(q_(m)).bind(HT(m));return Y.some({start:Z,end:J})}},J_=(n,s)=>ke(n,l=>Gs(l,s)),eR=n=>Va(J_(n.cells,n.rng.start),J_(n.cells,n.rng.end),(s,l)=>n.cells.slice(s,l+1)),_Y=(n,s,l)=>n.exists(m=>md(m,l)&&fT(m.start,s)),e5=(n,s)=>{const{startTable:l,endTable:m}=s,x=n.cloneRange();return l.each(P=>x.setStartAfter(P.dom)),m.each(P=>x.setEndBefore(P.dom)),x},SL=(n,s,l,m)=>K_(n,s,l,m).bind(({start:x,end:P})=>x.or(P)).bind(x=>{const{isSameTable:P}=s,Z=eR(x).getOr([]);if(P&&x.cells.length===Z.length)return Y.some(zT.fullTable(x.table));if(Z.length>0){if(P)return Y.some(zT.partialTable(Z,Y.none()));{const J=e5(l,s);return Y.some(zT.partialTable(Z,Y.some({...s,rng:J})))}}else return Y.none()}),zh=(n,s,l,m)=>K_(n,s,l,m).bind(({start:x,end:P})=>{const Z=x.bind(eR).getOr([]),J=P.bind(eR).getOr([]);if(Z.length>0&&J.length>0){const ge=e5(l,s);return Y.some(zT.multiTable(Z,J,ge))}else return Y.none()}),RY=(n,s)=>{const l=kY(n),m=EY(s,l),x=bL(s,l);return _Y(m,s,l)?m.map(P=>zT.singleCellTable(s,P.start)):x.isMultiTable?zh(m,x,s,l):SL(m,x,s,l)},wL=n=>re(n,s=>{ui(s,"contenteditable"),D(s)}),ece=(n,s)=>Y.from(n.dom.getParent(s,n.dom.isBlock)).map(Yt.fromDom),tR=(n,s,l)=>{l.each(m=>{s?Ks(m):(D(m),n.selection.setCursorLocation(m.dom,0))})},nR=(n,s,l,m)=>{const x=l.cloneRange();m?(x.setStart(l.startContainer,l.startOffset),x.setEndAfter(s.dom.lastChild)):(x.setStartBefore(s.dom.firstChild),x.setEnd(l.endContainer,l.endOffset)),Vf(n,x,s,!1).each(P=>P())},Ib=n=>{const s=K0(n),l=Yt.fromDom(n.selection.getNode());Jp(l.dom)&&ta(l)?n.selection.setCursorLocation(l.dom,0):n.selection.collapse(!0),s.length>1&&_e(s,m=>Gs(m,l))&&Da(l,"data-mce-selected","1")},TL=(n,s,l)=>Y.some(()=>{const m=n.selection.getRng(),x=l.bind(({rng:P,isStartInTable:Z})=>{const J=ece(n,Z?P.endContainer:P.startContainer);P.deleteContents(),tR(n,Z,J.filter(ta));const ge=Z?s[0]:s[s.length-1];return nR(n,ge,m,Z),ta(ge)?Y.none():Y.some(Z?s.slice(1):s.slice(0,-1))}).getOr(s);wL(x),Ib(n)}),s2=(n,s,l,m)=>Y.some(()=>{const x=n.selection.getRng(),P=s[0],Z=l[l.length-1];nR(n,P,x,!0),nR(n,Z,x,!1);const J=ta(P)?s:s.slice(1),ge=ta(Z)?l:l.slice(0,-1);wL(J.concat(ge)),m.deleteContents(),Ib(n)}),Vf=(n,s,l,m=!0)=>Y.some(()=>{VT(n,s,l,m)}),UT=(n,s)=>Y.some(()=>Tv(n,!1,s)),_a=(n,s,l)=>RY(s,l).bind(m=>m.fold(ee(Vf,n),ee(UT,n),ee(TL,n),ee(s2,n))),WT=(n,s)=>a2(n,s),CL=(n,s,l,m)=>YT(s,m).fold(()=>_a(n,s,l),x=>WT(n,x)),kL=(n,s,l)=>{const m=Yt.fromDom(n.getBody()),x=n.selection.getRng();return l.length!==0?TL(n,l,Y.none()):CL(n,m,x,s)},t5=(n,s)=>ce(Jg(s,n),Uc),YT=(n,s)=>ce(Jg(s,n),wu("caption")),rR=(n,s,l,m,x)=>Bm(l,n.getBody(),x).bind(P=>t5(s,Yt.fromDom(P.getNode())).bind(Z=>Gs(Z,m)?Y.none():Y.some(ie))),a2=(n,s)=>Y.some(()=>{D(s),n.selection.setCursorLocation(s.dom,0)}),n5=(n,s,l,m)=>Gc(n.dom).bind(x=>ud(n.dom).map(P=>s?l.isEqual(x)&&m.isEqual(P):l.isEqual(P)&&m.isEqual(x))).getOr(!0),oR=(n,s)=>a2(n,s),AL=(n,s,l)=>YT(n,Yt.fromDom(l.getNode())).fold(()=>Y.some(ie),m=>Ho(!Gs(m,s),ie)),PL=(n,s,l,m,x)=>Bm(l,n.getBody(),x).fold(()=>Y.some(ie),P=>n5(m,l,x,P)?oR(n,m):AL(s,m,P)),ML=(n,s,l,m)=>{const x=Nn.fromRangeStart(n.selection.getRng());return t5(l,m).bind(P=>ta(P)?a2(n,P):rR(n,l,s,P,x))},EL=(n,s,l,m)=>{const x=Nn.fromRangeStart(n.selection.getRng());return ta(m)?a2(n,m):PL(n,l,s,m,x)},sR=(n,s)=>n?J9(s):as(s),i2=(n,s)=>{const l=Nn.fromRangeStart(n.selection.getRng());return sR(s,l)||$l(s,n.getBody(),l).exists(m=>sR(s,m))},_L=(n,s,l)=>{const m=Yt.fromDom(n.getBody());return YT(m,l).fold(()=>ML(n,s,m,l).orThunk(()=>Ho(i2(n,s),ie)),x=>EL(n,s,m,x))},XT=(n,s)=>{const l=Yt.fromDom(n.selection.getStart(!0)),m=K0(n);return n.selection.isCollapsed()&&m.length===0?_L(n,s,l):kL(n,l,m)},Nb=(n,s)=>{let l=s;for(;l&&l!==n;){if(Wl(l)||xs(l))return l;l=l.parentNode}return null},DY=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],RL=fr.each,r5=n=>{const s=n.dom,l=new Set(n.serializer.getTempAttrs()),m=(P,Z)=>{if(P.nodeName!==Z.nodeName||P.nodeType!==Z.nodeType)return!1;const J=Re=>{const Ge={};return RL(s.getAttribs(Re),qe=>{const ot=qe.nodeName.toLowerCase();ot!=="style"&&!x(ot)&&(Ge[ot]=s.getAttrib(Re,ot))}),Ge},ge=(Re,Ge)=>{for(const qe in Re)if(lt(Re,qe)){const ot=Ge[qe];if(U(ot)||Re[qe]!==ot)return!1;delete Ge[qe]}for(const qe in Ge)if(lt(Ge,qe))return!1;return!0};return Xr(P)&&Xr(Z)&&(!ge(J(P),J(Z))||!ge(s.parseStyle(s.getAttrib(P,"style")),s.parseStyle(s.getAttrib(Z,"style"))))?!1:!lf(P)&&!lf(Z)},x=P=>_e(DY,Z=>Sr(P,Z))||l.has(P);return{compare:m,isAttributeInternal:x}},aR=n=>["h1","h2","h3","h4","h5","h6"].includes(n.name),o5=n=>n.name==="summary",DL=(n,s)=>{let l=n;for(;l=l.walk();)s(l)},iR=(n,s,l,m)=>{const x=l.name;for(let P=0,Z=n.length;P<Z;P++){const J=n[P];if(J.name===x){const ge=m.nodes[x];ge?ge.nodes.push(l):m.nodes[x]={filter:J,nodes:[l]}}}if(l.attributes)for(let P=0,Z=s.length;P<Z;P++){const J=s[P],ge=J.name;if(ge in l.attributes.map){const Re=m.attributes[ge];Re?Re.nodes.push(l):m.attributes[ge]={filter:J,nodes:[l]}}}},$L=(n,s,l)=>{const m={nodes:{},attributes:{}};return l.firstChild&&DL(l,x=>{iR(n,s,x,m)}),m},lR=(n,s)=>{const l=(m,x)=>{Bt(m,P=>{const Z=tt(P.nodes);re(P.filter.callbacks,J=>{for(let ge=Z.length-1;ge>=0;ge--){const Re=Z[ge];(!(x?Re.attr(P.filter.name)!==void 0:Re.name===P.filter.name)||F(Re.parent))&&Z.splice(ge,1)}Z.length>0&&J(Z,P.filter.name,s)})})};l(n.nodes,!1),l(n.attributes,!0)},cR=(n,s,l,m={})=>{const x=$L(n,s,l);lR(x,m)},s5=(n,s,l,m)=>{if((n.pad_empty_with_br||s.insert)&&l(m)){const P=new mu("br",1);s.insert&&P.attr("data-mce-bogus","1"),m.empty().append(P)}else m.empty().append(new mu("#text",3)).value=zs},LL=n=>{var s;return uR(n,"#text")&&((s=n==null?void 0:n.firstChild)===null||s===void 0?void 0:s.value)===zs},uR=(n,s)=>{const l=n==null?void 0:n.firstChild;return B(l)&&l===n.lastChild&&l.name===s},IL=(n,s)=>{const l=n.getElementRule(s.name);return(l==null?void 0:l.paddEmpty)===!0},l2=(n,s,l,m)=>m.isEmpty(s,l,x=>IL(n,x)),fR=(n,s)=>B(n)&&(s(n)||n.name==="br"),NL=n=>{let s;for(let l=n;l;l=l.parent){const m=l.attr("contenteditable");if(m==="false")break;m==="true"&&(s=l)}return Y.from(s)},a5=(n,s,l=n.parent)=>{if(s.getSpecialElements()[n.name])n.empty().remove();else{const m=n.children();for(const x of m)l&&!s.isValidChild(l.name,x.name)&&a5(x,s,l);n.unwrap()}},i5=(n,s,l,m=ie)=>{const x=s.getTextBlockElements(),P=s.getNonEmptyElements(),Z=s.getWhitespaceElements(),J=fr.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),ge=new Set,Re=Ge=>Ge!==l&&!J[Ge.name];for(let Ge=0;Ge<n.length;Ge++){const qe=n[Ge];let ot,Et,Vt;if(!qe.parent||ge.has(qe))continue;if(x[qe.name]&&qe.parent.name==="li"){let It=qe.next;for(;It&&x[It.name];){It.name="li",ge.add(It),qe.parent.insert(It,qe.parent);It=It.next}qe.unwrap();continue}const kt=[qe];for(ot=qe.parent;ot&&!s.isValidChild(ot.name,qe.name)&&Re(ot);ot=ot.parent)kt.push(ot);if(ot&&kt.length>1)if(l5(s,qe,ot))a5(qe,s);else{kt.reverse(),Et=kt[0].clone(),m(Et);let It=Et;for(let cn=0;cn<kt.length-1;cn++){s.isValidChild(It.name,kt[cn].name)&&cn>0?(Vt=kt[cn].clone(),m(Vt),It.append(Vt)):Vt=It;for(let xn=kt[cn].firstChild;xn&&xn!==kt[cn+1];){const bn=xn.next;Vt.append(xn),xn=bn}It=Vt}l2(s,P,Z,Et)?ot.insert(qe,kt[0],!0):(ot.insert(Et,kt[0],!0),ot.insert(qe,Et)),ot=kt[0],(l2(s,P,Z,ot)||uR(ot,"br"))&&ot.empty().remove()}else if(qe.parent){if(qe.name==="li"){let It=qe.prev;if(It&&(It.name==="ul"||It.name==="ol")){It.append(qe);continue}if(It=qe.next,It&&(It.name==="ul"||It.name==="ol")&&It.firstChild){It.insert(qe,It.firstChild,!0);continue}const cn=new mu("ul",1);m(cn),qe.wrap(cn);continue}if(s.isValidChild(qe.parent.name,"div")&&s.isValidChild("div",qe.name)){const It=new mu("div",1);m(It),qe.wrap(It)}else a5(qe,s)}}},BL=(n,s)=>{let l=n;for(;l;){if(l.name===s)return!0;l=l.parent}return!1},l5=(n,s,l=s.parent)=>l?n.children[s.name]&&!n.isValidChild(l.name,s.name)||s.name==="a"&&BL(l,"a")?!0:o5(l)&&aR(s)?!((l==null?void 0:l.firstChild)===s&&(l==null?void 0:l.lastChild)===s):!1:!1,QL=(n,s,l,m)=>{const x=document.createRange();return x.setStart(n,s),x.setEnd(l,m),x},dR=n=>{const s=Nn.fromRangeStart(n),l=Nn.fromRangeEnd(n),m=n.commonAncestorContainer;return $l(!1,m,l).map(x=>!Wd(s,l,m)&&Wd(s,x,m)?QL(s.container(),s.offset(),x.container(),x.offset()):n).getOr(n)},c2=n=>n.collapsed?n:dR(n),c5=n=>B(n.firstChild)&&n.firstChild===n.lastChild,hR=n=>n.name==="br"||n.value===zs,FL=(n,s)=>n.getBlockElements()[s.name]&&c5(s)&&hR(s.firstChild),u5=(n,s)=>{const l=n.getNonEmptyElements();return B(s)&&(s.isEmpty(l)||FL(n,s))},mR=(n,s)=>{let l=s.firstChild,m=s.lastChild;return l&&l.name==="meta"&&(l=l.next),m&&m.attr("id")==="mce_marker"&&(m=m.prev),u5(n,m)&&(m=m==null?void 0:m.prev),!l||l!==m?!1:l.name==="ul"||l.name==="ol"},GT=n=>{var s,l;const m=n.firstChild,x=n.lastChild;return m&&m.nodeName==="META"&&((s=m.parentNode)===null||s===void 0||s.removeChild(m)),x&&x.id==="mce_marker"&&((l=x.parentNode)===null||l===void 0||l.removeChild(x)),n},gR=(n,s,l)=>{const m=s.serialize(l),x=n.createFragment(m);return GT(x)},VL=n=>{var s;return se((s=n==null?void 0:n.childNodes)!==null&&s!==void 0?s:[],l=>l.nodeName==="LI")},u2=n=>n.data===zs||aa(n),pR=n=>B(n==null?void 0:n.firstChild)&&n.firstChild===n.lastChild&&u2(n.firstChild),vR=n=>!n.firstChild||pR(n),jT=n=>n.length>0&&vR(n[n.length-1])?n.slice(0,-1):n,ep=(n,s)=>{const l=n.getParent(s,n.isBlock);return l&&l.nodeName==="LI"?l:null},zL=(n,s)=>!!ep(n,s),$Y=(n,s)=>{const l=s.cloneRange(),m=s.cloneRange();return l.setStartBefore(n),m.setEndAfter(n),[l.cloneContents(),m.cloneContents()]},ZL=(n,s)=>{const l=Nn.before(n),x=Yd(s).next(l);return x?x.toRange():null},yR=(n,s)=>{const l=Nn.after(n),x=Yd(s).prev(l);return x?x.toRange():null},LY=(n,s,l,m)=>{const x=$Y(n,m),P=n.parentNode;return P&&(P.insertBefore(x[0],n),fr.each(s,Z=>{P.insertBefore(Z,n)}),P.insertBefore(x[1],n),P.removeChild(n)),yR(s[s.length-1],l)},tce=(n,s,l)=>{const m=n.parentNode;return m&&fr.each(s,x=>{m.insertBefore(x,n)}),ZL(n,l)},IY=(n,s,l,m)=>(m.insertAfter(s.reverse(),n),yR(s[0],l)),bR=(n,s,l,m)=>{const x=gR(s,n,m),P=ep(s,l.startContainer),Z=jT(VL(x.firstChild)),J=1,ge=2,Re=s.getRoot(),Ge=qe=>{const ot=Nn.fromRangeStart(l),Et=Yd(s.getRoot()),Vt=qe===J?Et.prev(ot):Et.next(ot),kt=Vt==null?void 0:Vt.getNode();return kt?ep(s,kt)!==P:!0};return P?Ge(J)?tce(P,Z,Re):Ge(ge)?IY(P,Z,Re,s):LY(P,Z,Re,l):null},Gm=["pre"],OR=(n,s,l,m)=>{var x;const P=s.firstChild,Z=s.lastChild,J=Z.attr("data-mce-type")==="bookmark"?Z.prev:Z,ge=P===J,Re=Ve(Gm,P.name);if(ge&&Re){const Ge=P.attr("contenteditable")!=="false",qe=((x=n.getParent(l,n.isBlock))===null||x===void 0?void 0:x.nodeName.toLowerCase())===P.name,ot=Y.from(Nb(m,l)).forall(Wl);return Ge&&qe&&ot}else return!1},f2=Jp,xR=(n,s,l)=>{if(B(l)){const m=n.getParent(s.endContainer,f2);return l===m&&fT(Yt.fromDom(l),s)}else return!1},NY=(n,s,l)=>{var m;if(l.getAttribute("data-mce-bogus")==="all")(m=l.parentNode)===null||m===void 0||m.insertBefore(n.dom.createFragment(s),l);else{const x=l.firstChild,P=l.lastChild;!x||x===P&&x.nodeName==="BR"?n.dom.setHTML(l,s):n.selection.setContent(s,{no_events:!0})}},HL=(n,s,l)=>{Y.from(n.getParent(s,"td,th")).map(Yt.fromDom).each(m=>G(m,l))},BY=(n,s)=>{const l=n.schema.getTextInlineElements(),m=n.dom;if(s){const x=n.getBody(),P=r5(n);fr.each(m.select("*[data-mce-fragment]"),Z=>{if(B(l[Z.nodeName.toLowerCase()])&&DT(m,Z)){for(let ge=Z.parentElement;B(ge)&&ge!==x&&!WW(m,Z,ge);ge=ge.parentElement)if(P.compare(ge,Z)){m.remove(Z,!0);break}}})}},UL=n=>{let s=n;for(;s=s.walk();)s.type===1&&s.attr("data-mce-fragment","1")},SR=n=>{fr.each(n.getElementsByTagName("*"),s=>{s.removeAttribute("data-mce-fragment")})},QY=n=>!!n.getAttribute("data-mce-fragment"),WL=(n,s)=>B(s)&&!n.schema.getVoidElements()[s.nodeName],FY=(n,s)=>{var l,m,x;let P;const Z=n.dom,J=n.selection;if(!s)return;J.scrollIntoView(s);const ge=Nb(n.getBody(),s);if(ge&&Z.getContentEditable(ge)==="false"){Z.remove(s),J.select(ge);return}let Re=Z.createRng();const Ge=s.previousSibling;if(lr(Ge)){Re.setStart(Ge,(m=(l=Ge.nodeValue)===null||l===void 0?void 0:l.length)!==null&&m!==void 0?m:0);const Et=s.nextSibling;lr(Et)&&(Ge.appendData(Et.data),(x=Et.parentNode)===null||x===void 0||x.removeChild(Et))}else Re.setStartBefore(s),Re.setEndBefore(s);const qe=Et=>{let Vt=Nn.fromRangeStart(Et);return Vt=Yd(n.getBody()).next(Vt),Vt==null?void 0:Vt.toRange()},ot=Z.getParent(s,Z.isBlock);if(Z.remove(s),ot&&Z.isEmpty(ot)){const Et=f2(ot);wh(Yt.fromDom(ot)),Re.setStart(ot,0),Re.setEnd(ot,0),!Et&&!QY(ot)&&(P=qe(Re))?(Re=P,Z.remove(ot)):Z.add(ot,Z.create("br",Et?{}:{"data-mce-bogus":"1"}))}J.setRng(Re)},qT=n=>{const s=n.dom,l=c2(n.selection.getRng());n.selection.setRng(l);const m=s.getParent(l.startContainer,f2);xR(s,l,m)?Vf(n,l,Yt.fromDom(m)):l.startContainer===l.endContainer&&l.endOffset-l.startOffset===1&&lr(l.startContainer.childNodes[l.startOffset])?l.deleteContents():n.getDoc().execCommand("Delete",!1)},YL=n=>{for(let s=n;s;s=s.walk())if(s.attr("id")==="mce_marker")return Y.some(s);return Y.none()},VY=(n,s,l)=>{var m;return _e(l.children(),aR)&&((m=n.getParent(s,n.isBlock))===null||m===void 0?void 0:m.nodeName)==="SUMMARY"},XL=(n,s,l)=>{var m,x;const P=n.selection,Z=n.dom,J=n.parser,ge=l.merge,Re=c1({validate:!0},n.schema),Ge='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';l.preserve_zwsp||(s=Pe(s)),s.indexOf("{$caret}")===-1&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,Ge);let qe=P.getRng();const ot=qe.startContainer,Et=n.getBody();ot===Et&&P.isCollapsed()&&Z.isBlock(Et.firstChild)&&WL(n,Et.firstChild)&&Z.isEmpty(Et.firstChild)&&(qe=Z.createRng(),qe.setStart(Et.firstChild,0),qe.setEnd(Et.firstChild,0),P.setRng(qe)),P.isCollapsed()||qT(n);const Vt=P.getNode(),kt={context:Vt.nodeName.toLowerCase(),data:l.data,insert:!0},It=J.parse(s,kt);if(l.paste===!0&&mR(n.schema,It)&&zL(Z,Vt))return qe=bR(Re,Z,P.getRng(),It),qe&&P.setRng(qe),s;l.paste===!0&&OR(Z,It,Vt,n.getBody())&&((m=It.firstChild)===null||m===void 0||m.unwrap()),UL(It);let cn=It.lastChild;if(cn&&cn.attr("id")==="mce_marker"){const xn=cn;for(cn=cn.prev;cn;cn=cn.walk(!0))if(cn.type===3||!Z.isBlock(cn.name)){cn.parent&&n.schema.isValidChild(cn.parent.name,"span")&&cn.parent.insert(xn,cn,cn.name==="br");break}}if(n._selectionOverrides.showBlockCaretContainer(Vt),!kt.invalid&&!VY(Z,Vt,It))s=Re.serialize(It),NY(n,s,Vt);else{n.selection.setContent(Ge);let xn=P.getNode(),bn;const $n=n.getBody();for(kg(xn)?xn=bn=$n:bn=xn;bn&&bn!==$n;)xn=bn,bn=bn.parentNode;s=xn===$n?$n.innerHTML:Z.getOuterHTML(xn);const rr=J.parse(s),gr=YL(rr),Qr=gr.bind(NL).getOr(rr);gr.each(eo=>eo.replace(It));const zn=It.children(),Bn=(x=It.parent)!==null&&x!==void 0?x:rr;It.unwrap();const tr=se(zn,eo=>l5(n.schema,eo,Bn));i5(tr,n.schema,Qr),cR(J.getNodeFilters(),J.getAttributeFilters(),rr),s=Re.serialize(rr),xn===$n?Z.setHTML($n,s):Z.setOuterHTML(xn,s)}return BY(n,ge),FY(n,Z.get("mce_marker")),SR(n.getBody()),HL(Z,P.getStart(),n.schema),sk(n.schema,n.getBody(),P.getStart()),s},f5=n=>n instanceof mu,zY=n=>{l1(n)&&Gc(n.getBody()).each(s=>{const l=s.getNode(),m=qu(l)?Gc(l).getOr(s):s;n.selection.setRng(m.toRange())})},wR=(n,s,l)=>{n.dom.setHTML(n.getBody(),s),l!==!0&&zY(n)},ZY=(n,s,l,m)=>{if(l=Pe(l),l.length===0||/^\s+$/.test(l)){const x='<br data-mce-bogus="1">';s.nodeName==="TABLE"?l="<tr><td>"+x+"</td></tr>":/^(UL|OL)$/.test(s.nodeName)&&(l="<li>"+x+"</li>");const P=Rc(n);return n.schema.isValidChild(s.nodeName.toLowerCase(),P.toLowerCase())?(l=x,l=n.dom.createHTML(P,Gy(n),l)):l||(l=x),wR(n,l,m.no_selection),{content:l,html:l}}else{m.format!=="raw"&&(l=c1({validate:!1},n.schema).serialize(n.parser.parse(l,{isRootContent:!0,insert:!0})));const x=Wi(Yt.fromDom(s))?l:fr.trim(l);return wR(n,x,m.no_selection),{content:x,html:x}}},HY=(n,s,l,m)=>{cR(n.parser.getNodeFilters(),n.parser.getAttributeFilters(),l);const x=c1({validate:!1},n.schema).serialize(l),P=Pe(Wi(Yt.fromDom(s))?x:fr.trim(x));return wR(n,P,m.no_selection),{content:l,html:P}},GL=(n,s,l)=>Y.from(n.getBody()).map(m=>f5(s)?HY(n,m,s,l):ZY(n,m,s,l)).getOr({content:s,html:f5(l.content)?"":l.content}),jL=n=>E(n)?n:ne,TR=(n,s,l)=>{let m=n.dom;const x=jL(l);for(;m.parentNode;){m=m.parentNode;const P=Yt.fromDom(m),Z=s(P);if(Z.isSome())return Z;if(x(P))break}return Y.none()},Cv=(n,s,l)=>{const m=s(n),x=jL(l);return m.orThunk(()=>x(n)?Y.none():TR(n,s,x))},CR=Vx,qL=(n,s,l)=>{const m=n.formatter.get(l);if(m)for(let x=0;x<m.length;x++){const P=m[x];if(Jl(P)&&P.inherit===!1&&n.dom.is(s,P.selector))return!0}return!1},d2=(n,s,l,m,x)=>{const P=n.dom.getRoot();if(s===P)return!1;const Z=n.dom.getParent(s,J=>qL(n,J,l)?!0:J.parentNode===P||!!tp(n,J,l,m,!0));return!!tp(n,Z,l,m,x)},KT=(n,s,l)=>Xi(l)&&CR(s,l.inline)||jd(l)&&CR(s,l.block)?!0:Jl(l)?Xr(s)&&n.is(s,l.selector):!1,kR=(n,s,l,m,x,P)=>{const Z=l[m],J=m==="attributes";if(E(l.onmatch))return l.onmatch(s,l,m);if(Z){if(Dt(Z)){for(let ge=0;ge<Z.length;ge++)if(J?n.getAttrib(s,Z[ge]):J0(n,s,Z[ge]))return!0}else for(const ge in Z)if(lt(Z,ge)){const Re=J?n.getAttrib(s,ge):J0(n,s,ge),Ge=Gd(Z[ge],P),qe=F(Re)||Ct(Re);if(qe&&F(Ge))continue;if(x&&qe&&!l.exact||(!x||l.exact)&&!CR(Re,zx(Ge,ge)))return!1}}return!0},tp=(n,s,l,m,x)=>{const P=n.formatter.get(l),Z=n.dom;if(P&&Xr(s))for(let J=0;J<P.length;J++){const ge=P[J];if(KT(n.dom,s,ge)&&kR(Z,s,ge,"attributes",x,m)&&kR(Z,s,ge,"styles",x,m)){const Re=ge.classes;if(Re){for(let Ge=0;Ge<Re.length;Ge++)if(!n.dom.hasClass(s,Gd(Re[Ge],m)))return}return ge}}},d5=(n,s,l,m,x)=>{if(m)return d2(n,m,s,l,x);if(m=n.selection.getNode(),d2(n,m,s,l,x))return!0;const P=n.selection.getStart();return!!(P!==m&&d2(n,P,s,l,x))},UY=(n,s,l)=>{const m=[],x={},P=n.selection.getStart();return n.dom.getParent(P,Z=>{for(let J=0;J<s.length;J++){const ge=s[J];!x[ge]&&tp(n,Z,ge,l)&&(x[ge]=!0,m.push(ge))}},n.dom.getRoot()),m},Bb=(n,s)=>{const l=x=>Gs(x,Yt.fromDom(n.getBody())),m=(x,P)=>tp(n,x.dom,P)?Y.some(P):Y.none();return Y.from(n.selection.getStart(!0)).bind(x=>Cv(Yt.fromDom(x),P=>wt(s,Z=>m(P,Z)),l)).getOrNull()},KL=(n,s)=>{const l=n.formatter.get(s),m=n.dom;if(l&&n.selection.isEditable()){const x=n.selection.getStart(),P=gb(m,x);for(let Z=l.length-1;Z>=0;Z--){const J=l[Z];if(!Jl(J))return!0;for(let ge=P.length-1;ge>=0;ge--)if(m.is(P[ge],J.selector))return!0}}return!1},JL=(n,s,l)=>oe(l,(m,x)=>{const P=gT(n,x);return n.formatter.matchNode(s,x,{},P)?m.concat([x]):m},[]),h2=he,h5=(n,s)=>n.importNode(s,!0),AR=n=>{if(n){const s=new ca(n,n);for(let l=s.current();l;l=s.next())if(lr(l))return l}return null},PR=n=>{const s=Yt.fromTag("span");return Tu(s,{id:Dx,"data-mce-bogus":"1","data-mce-type":"format-caret"}),n&&Ci(s,Yt.fromText(h2)),s},eI=n=>{const s=AR(n);return s&&s.data.charAt(0)===h2&&s.deleteData(0,1),s},MR=(n,s,l)=>{const m=n.dom,x=n.selection;if(vb(s))Tv(n,!1,Yt.fromDom(s),l,!0);else{const P=x.getRng(),Z=m.getParent(s,m.isBlock),J=P.startContainer,ge=P.startOffset,Re=P.endContainer,Ge=P.endOffset,qe=eI(s);m.remove(s,!0),J===qe&&ge>0&&P.setStart(qe,ge-1),Re===qe&&Ge>0&&P.setEnd(qe,Ge-1),Z&&m.isEmpty(Z)&&D(Yt.fromDom(Z)),x.setRng(P)}},ER=(n,s,l)=>{const m=n.dom,x=n.selection;if(s)MR(n,s,l);else if(s=mv(n.getBody(),x.getStart()),!s)for(;s=m.get(Dx);)MR(n,s,l)},m5=(n,s,l)=>{var m,x;const P=n.dom,Z=P.getParent(l,ee(tl,n.schema));Z&&P.isEmpty(Z)?(m=l.parentNode)===null||m===void 0||m.replaceChild(s,l):(rk(Yt.fromDom(l)),P.isEmpty(l)?(x=l.parentNode)===null||x===void 0||x.replaceChild(s,l):P.insertAfter(s,l))},_R=(n,s)=>(n.appendChild(s),s),g5=(n,s)=>{var l;const m=fe(n,(P,Z)=>_R(P,Z.cloneNode(!1)),s),x=(l=m.ownerDocument)!==null&&l!==void 0?l:document;return _R(m,x.createTextNode(h2))},WY=(n,s,l,m,x,P)=>{const Z=n.formatter,J=n.dom,ge=se(Gt(Z.get()),qe=>qe!==m&&!sr(qe,"removeformat")),Re=JL(n,l,ge);if(se(Re,qe=>!s_(n,qe,m)).length>0){const qe=l.cloneNode(!1);return J.add(s,qe),Z.remove(m,x,qe,P),J.remove(qe),Y.some(qe)}else return Y.none()},YY=(n,s,l)=>{let m;const x=n.selection,P=n.formatter.get(s);if(!P)return;const Z=x.getRng();let J=Z.startOffset;const Re=Z.startContainer.nodeValue;m=mv(n.getBody(),x.getStart());const Ge=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Re&&J>0&&J<Re.length&&Ge.test(Re.charAt(J))&&Ge.test(Re.charAt(J-1))){const qe=x.getBookmark();Z.collapse(!0);let ot=Vm(n.dom,Z,P);ot=nt(ot),n.formatter.apply(s,l,ot),x.moveToBookmark(qe)}else{let qe=m?AR(m):null;(!m||(qe==null?void 0:qe.data)!==h2)&&(m=h5(n.getDoc(),PR(!0).dom),qe=m.firstChild,Z.insertNode(m),J=1),n.formatter.apply(s,l,m),x.setCursorLocation(qe,J)}},tI=(n,s,l,m)=>{const x=n.dom,P=n.selection;let Z=!1;const J=n.formatter.get(s);if(!J)return;const ge=P.getRng(),Re=ge.startContainer,Ge=ge.startOffset;let qe=Re;lr(Re)&&(Ge!==Re.data.length&&(Z=!0),qe=qe.parentNode);const ot=[];let Et;for(;qe;){if(tp(n,qe,s,l,m)){Et=qe;break}qe.nextSibling&&(Z=!0),ot.push(qe),qe=qe.parentNode}if(Et)if(Z){const Vt=P.getBookmark();ge.collapse(!0);let kt=Vm(x,ge,J,!0);kt=nt(kt),n.formatter.remove(s,l,kt,m),P.moveToBookmark(Vt)}else{const Vt=mv(n.getBody(),Et),kt=B(Vt)?x.getParents(Et.parentNode,le,Vt):[],It=PR(!1).dom;m5(n,It,Vt??Et);const cn=WY(n,It,Et,s,l,m),xn=g5([...ot,...cn.toArray(),...kt],It);Vt&&MR(n,Vt,B(Vt)),P.setCursorLocation(xn,1),x.isEmpty(Et)&&x.remove(Et)}},RR=(n,s,l)=>{const m=n.selection,x=n.getBody();ER(n,null,l),(s===8||s===46)&&m.isCollapsed()&&m.getStart().innerHTML===h2&&ER(n,mv(x,m.getStart()),!0),(s===37||s===39)&&ER(n,mv(x,m.getStart()),!0)},nI=n=>lr(n)&&ao(n.data,zs),XY=n=>{n.on("mouseup keydown",s=>{RR(n,s.keyCode,nI(n.selection.getRng().endContainer))})},rI=n=>{const s=PR(!1),l=g5(n,s.dom);return{caretContainer:s,caretPosition:Nn(l,0)}},oI=(n,s)=>{const{caretContainer:l,caretPosition:m}=rI(s);return Ui(Yt.fromDom(n),l),Ks(Yt.fromDom(n)),m},p5=(n,s)=>{const{caretContainer:l,caretPosition:m}=rI(s);return n.insertNode(l.dom),m},np=(n,s)=>{if(af(s.dom))return!1;const l=n.schema.getTextInlineElements();return lt(l,Vs(s))&&!af(s.dom)&&!Df(s.dom)},JT={},v5=vi(["pre"]),Gi=(n,s)=>{JT[n]||(JT[n]=[]),JT[n].push(s)},DR=(n,s)=>{lt(JT,n)&&re(JT[n],l=>{l(s)})};Gi("pre",n=>{const s=n.selection.getRng(),l=x=>P=>{const Z=P.previousSibling;return v5(Z)&&Ve(x,Z)},m=(x,P)=>{const Z=Yt.fromDom(P),J=Jf(Z).dom;Ks(Z),Ta(Yt.fromDom(x),[Yt.fromTag("br",J),Yt.fromTag("br",J),...sl(Z)])};if(!s.collapsed){const x=n.selection.getSelectedBlocks(),P=se(se(x,v5),l(x));re(P,Z=>{m(Z.previousSibling,Z)})}});const y5=["fontWeight","fontStyle","color","fontSize","fontFamily"],kv=n=>I(n.styles)&&_e(Gt(n.styles),s=>Ve(y5,s)),sI=n=>ce(n,s=>Xi(s)&&s.inline==="span"&&kv(s)),$R=(n,s)=>{const l=n.get(s);return N(l)?sI(l):Y.none()},m2=(n,s)=>fu(s,Nn.fromRangeStart(n)).isNone(),aI=(n,s)=>$c(s,Nn.fromRangeEnd(n)).exists(l=>!aa(l.getNode())||$c(s,l).isSome())===!1,iI=n=>s=>ev(s)&&n.isEditable(s),g2=n=>{const s=n.getSelectedBlocks(),l=n.getRng();if(n.isCollapsed())return[];if(s.length===1)return m2(l,s[0])&&aI(l,s[0])?s:[];{const m=yt(s).filter(Z=>m2(l,Z)).toArray(),x=ft(s).filter(Z=>aI(l,Z)).toArray(),P=s.slice(1,-1);return m.concat(P).concat(x)}},GY=n=>se(g2(n),iI(n.dom)),f1=n=>se(n.getSelectedBlocks(),iI(n.dom)),LR=fr.each,rp=n=>Xr(n)&&!lf(n)&&!af(n)&&!Df(n),gd=(n,s)=>{for(let l=n;l;l=l[s]){if(lr(l)&&St(l.data))return n;if(Xr(l)&&!lf(l))return l}return n},eC=(n,s,l)=>{const m=r5(n),x=Ul(s)&&n.dom.isEditable(s),P=Ul(l)&&n.dom.isEditable(l);if(x&&P){const Z=gd(s,"previousSibling"),J=gd(l,"nextSibling");if(m.compare(Z,J)){for(let ge=Z.nextSibling;ge&&ge!==J;){const Re=ge;ge=ge.nextSibling,Z.appendChild(Re)}return n.dom.remove(J),fr.each(fr.grep(J.childNodes),ge=>{Z.appendChild(ge)}),Z}}return l},b5=(n,s,l,m)=>{var x;if(m&&s.merge_siblings!==!1){const P=(x=eC(n,Fr(m),m))!==null&&x!==void 0?x:m;eC(n,P,Fr(P,!0))}},jY=(n,s,l)=>{if(s.clear_child_styles){const m=s.links?"*:not(a)":"*";LR(n.select(m,l),x=>{rp(x)&&n.isEditable(x)&&LR(s.styles,(P,Z)=>{n.setStyle(x,Z,"")})})}},IR=(n,s,l)=>{LR(n.childNodes,m=>{rp(m)&&(s(m)&&l(m),m.hasChildNodes()&&IR(m,s,l))})},O5=(n,s)=>{s.nodeName==="SPAN"&&n.getAttribs(s).length===0&&n.remove(s,!0)},lI=(n,s)=>l=>!!(l&&J0(n,l,s)),Kd=(n,s,l)=>m=>{n.setStyle(m,s,l),m.getAttribute("style")===""&&m.removeAttribute("style"),O5(n,m)},op=Ud.generate([{keep:[]},{rename:["name"]},{removed:[]}]),cI=/^(src|href|style)$/,tC=fr.each,p2=Vx,Qb=n=>/^(TR|TH|TD)$/.test(n.nodeName),x5=(n,s,l)=>n.isChildOf(s,l)&&s!==l&&!n.isBlock(l),uI=(n,s,l)=>{let m=s[l?"startContainer":"endContainer"],x=s[l?"startOffset":"endOffset"];if(Xr(m)){const P=m.childNodes.length-1;!l&&x&&x--,m=m.childNodes[x>P?P:x]}return lr(m)&&l&&x>=m.data.length&&(m=new ca(m,n.getBody()).next()||m),lr(m)&&!l&&x===0&&(m=new ca(m,n.getBody()).prev()||m),m},NR=(n,s)=>{const l=s?"firstChild":"lastChild",m=n[l];return Qb(n)&&m?n.nodeName==="TR"&&m[l]||m:n},BR=(n,s,l,m)=>{var x;const P=n.create(l,m);return(x=s.parentNode)===null||x===void 0||x.insertBefore(P,s),P.appendChild(s),P},fI=(n,s,l,m,x)=>{const P=Yt.fromDom(s),Z=Yt.fromDom(n.create(m,x)),J=l?zc(P):py(P);return Ta(Z,J),l?(Ui(P,Z),bm(Z,P)):(Xu(P,Z),Ci(Z,P)),Z.dom},qY=(n,s)=>s.links&&n.nodeName==="A",dI=(n,s,l)=>{const m=s.parentNode;let x;const P=n.dom,Z=Rc(n);jd(l)&&m===P.getRoot()&&(!l.list_block||!p2(s,l.list_block))&&re(tt(s.childNodes),J=>{Fm(n,Z,J.nodeName.toLowerCase())?x?x.appendChild(J):(x=BR(P,J,Z),P.setAttribs(x,Gy(n))):x=null}),!(Hx(l)&&!p2(l.inline,s))&&P.remove(s,!0)},v2=(n,s,l)=>W(n)?{name:s,value:null}:{name:n,value:Gd(s,l)},hI=(n,s)=>{n.getAttrib(s,"style")===""&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style"))},QR=(n,s,l,m,x)=>{let P=!1;tC(l.styles,(Z,J)=>{const{name:ge,value:Re}=v2(J,Z,m),Ge=zx(Re,ge);(l.remove_similar||Q(Re)||!Xr(x)||p2(J0(n,x,ge),Ge))&&n.setStyle(s,ge,""),P=!0}),P&&hI(n,s)},FR=(n,s,l)=>{s==="removeformat"?re(f1(n.selection),m=>{re(y5,x=>n.dom.setStyle(m,x,"")),hI(n.dom,m)}):$R(n.formatter,s).each(m=>{re(f1(n.selection),x=>QR(n.dom,x,m,l,null))})},mI=(n,s,l,m,x)=>{const P=n.dom,Z=r5(n),J=n.schema;if(Xi(s)&&Ry(J,s.inline)&&ks(J,m)&&m.parentElement===n.getBody())return dI(n,m,s),op.removed();if(!s.ceFalseOverride&&m&&P.getContentEditableParent(m)==="false"||m&&!KT(P,m,s)&&!qY(m,s))return op.keep();const ge=m,Re=s.preserve_attributes;if(Xi(s)&&s.remove==="all"&&N(Re)){const Ge=se(P.getAttribs(ge),qe=>Ve(Re,qe.name.toLowerCase()));if(P.removeAllAttribs(ge),re(Ge,qe=>P.setAttrib(ge,qe.name,qe.value)),Ge.length>0)return op.rename("span")}if(s.remove!=="all"){QR(P,ge,s,l,x),tC(s.attributes,(qe,ot)=>{const{name:Et,value:Vt}=v2(ot,qe,l);if(s.remove_similar||Q(Vt)||!Xr(x)||p2(P.getAttrib(x,Et),Vt)){if(Et==="class"){const kt=P.getAttrib(ge,Et);if(kt){let It="";if(re(kt.split(/\s+/),cn=>{/mce\-\w+/.test(cn)&&(It+=(It?" ":"")+cn)}),It){P.setAttrib(ge,Et,It);return}}}if(cI.test(Et)&&ge.removeAttribute("data-mce-"+Et),Et==="style"&&vi(["li"])(ge)&&P.getStyle(ge,"list-style-type")==="none"){ge.removeAttribute(Et),P.setStyle(ge,"list-style-type","none");return}Et==="class"&&ge.removeAttribute("className"),ge.removeAttribute(Et)}}),tC(s.classes,qe=>{qe=Gd(qe,l),(!Xr(x)||P.hasClass(x,qe))&&P.removeClass(ge,qe)});const Ge=P.getAttribs(ge);for(let qe=0;qe<Ge.length;qe++){const ot=Ge[qe].nodeName;if(!Z.isAttributeInternal(ot))return op.keep()}}return s.remove!=="none"?(dI(n,ge,s),op.removed()):op.keep()},gI=(n,s,l,m,x)=>{let P;return s.parentNode&&re(gb(n.dom,s.parentNode).reverse(),Z=>{if(!P&&Xr(Z)&&Z.id!=="_start"&&Z.id!=="_end"){const J=tp(n,Z,l,m,x);J&&J.split!==!1&&(P=Z)}}),P},pI=(n,s,l,m)=>mI(n,s,l,m,m).fold(ae(m),x=>(n.dom.createFragment().appendChild(m),n.dom.rename(m,x)),ae(null)),KY=(n,s,l,m,x,P,Z,J)=>{var ge,Re;let Ge,qe;const ot=n.dom;if(l){const Et=l.parentNode;for(let Vt=m.parentNode;Vt&&Vt!==Et;Vt=Vt.parentNode){let kt=ot.clone(Vt,!1);for(let It=0;It<s.length&&(kt=pI(n,s[It],J,kt),kt!==null);It++);kt&&(Ge&&kt.appendChild(Ge),qe||(qe=kt),Ge=kt)}P&&(!Z.mixed||!ot.isBlock(l))&&(m=(ge=ot.split(l,m))!==null&&ge!==void 0?ge:m),Ge&&qe&&((Re=x.parentNode)===null||Re===void 0||Re.insertBefore(Ge,x),qe.appendChild(x),Xi(Z)&&b5(n,Z,J,Ge))}return m},JY=(n,s,l,m,x)=>{const P=n.formatter.get(s),Z=P[0],J=n.dom,ge=n.selection,Re=kt=>{const It=gI(n,kt,s,l,x);return KY(n,P,It,kt,kt,!0,Z,l)},Ge=kt=>lf(kt)&&Xr(kt)&&(kt.id==="_start"||kt.id==="_end"),qe=kt=>_e(P,It=>nC(n,It,l,kt,kt)),ot=kt=>{const It=tt(kt.childNodes),xn=qe(kt)||_e(P,rr=>KT(J,kt,rr)),bn=kt.parentNode;if(!xn&&B(bn)&&pb(Z)&&qe(bn),Z.deep&&It.length)for(let rr=0;rr<It.length;rr++)ot(It[rr]);re(["underline","line-through","overline"],rr=>{Xr(kt)&&n.dom.getStyle(kt,"text-decoration")===rr&&kt.parentNode&&gA(J,kt.parentNode)===rr&&nC(n,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:rr}},void 0,kt)})},Et=kt=>{const It=J.get(kt?"_start":"_end");if(It){let cn=It[kt?"firstChild":"lastChild"];return Ge(cn)&&(cn=cn[kt?"firstChild":"lastChild"]),lr(cn)&&cn.data.length===0&&(cn=kt?It.previousSibling||It.nextSibling:It.nextSibling||It.previousSibling),J.remove(It,!0),cn}else return null},Vt=kt=>{let It,cn,xn=Vm(J,kt,P,kt.collapsed);if(Z.split){if(xn=nt(xn),It=uI(n,xn,!0),cn=uI(n,xn),It!==cn){if(It=NR(It,!0),cn=NR(cn,!1),x5(J,It,cn)){const $n=Y.from(It.firstChild).getOr(It);Re(fI(J,$n,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Et(!0);return}if(x5(J,cn,It)){const $n=Y.from(cn.lastChild).getOr(cn);Re(fI(J,$n,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Et(!1);return}It=BR(J,It,"span",{id:"_start","data-mce-type":"bookmark"}),cn=BR(J,cn,"span",{id:"_end","data-mce-type":"bookmark"});const bn=J.createRng();bn.setStartAfter(It),bn.setEndBefore(cn),Sb(J,bn,$n=>{re($n,rr=>{!lf(rr)&&!lf(rr.parentNode)&&Re(rr)})}),Re(It),Re(cn),It=Et(!0),cn=Et()}else It=cn=Re(It);xn.startContainer=It.parentNode?It.parentNode:It,xn.startOffset=J.nodeIndex(It),xn.endContainer=cn.parentNode?cn.parentNode:cn,xn.endOffset=J.nodeIndex(cn)+1}Sb(J,xn,bn=>{re(bn,ot)})};if(m){if(db(m)){const kt=J.createRng();kt.setStartBefore(m),kt.setEndAfter(m),Vt(kt)}else Vt(m);yv(n,s,m,l);return}!ge.isCollapsed()||!Xi(Z)||K0(n).length?(hb(n,()=>Xg(n,Vt),kt=>Xi(Z)&&d5(n,s,l,kt)),n.nodeChanged()):tI(n,s,l,x),FR(n,s,l),yv(n,s,m,l)},vI=(n,s,l,m,x)=>{(m||n.selection.isEditable())&&JY(n,s,l,m,x)},nC=(n,s,l,m,x)=>mI(n,s,l,m,x).fold(ne,P=>(n.dom.rename(m,P),!0),le),yI=fr.each,eX=(n,s,l,m)=>{const x=P=>{if(Ul(P)&&Xr(P.parentNode)&&n.isEditable(P)){const Z=gA(n,P.parentNode);n.getStyle(P,"color")&&Z?n.setStyle(P,"text-decoration",Z):n.getStyle(P,"text-decoration")===Z&&n.setStyle(P,"text-decoration",null)}};s.styles&&(s.styles.color||s.styles.textDecoration)&&(fr.walk(m,x,"childNodes"),x(m))},tX=(n,s,l,m)=>{if(s.styles&&s.styles.backgroundColor){const x=lI(n,"fontSize");IR(m,P=>x(P)&&n.isEditable(P),Kd(n,"backgroundColor",Gd(s.styles.backgroundColor,l)))}},nX=(n,s,l,m)=>{if(Xi(s)&&(s.inline==="sub"||s.inline==="sup")){const x=lI(n,"fontSize");IR(m,Z=>x(Z)&&n.isEditable(Z),Kd(n,"fontSize",""));const P=se(n.select(s.inline==="sup"?"sub":"sup",m),n.isEditable);n.remove(P,!0)}},rX=(n,s,l,m)=>{yI(s,x=>{Xi(x)&&yI(n.dom.select(x.inline,m),P=>{rp(P)&&nC(n,x,l,P,x.exact?P:null)}),jY(n.dom,x,m)})},oX=(n,s,l,m,x)=>{const P=x.parentNode;tp(n,P,l,m)&&nC(n,s,m,x)||s.merge_with_parents&&P&&n.dom.getParent(P,Z=>tp(n,Z,l,m)?(nC(n,s,m,x),!0):!1)},S5=fr.each,sX=(n,s,l,m)=>{if(Fk(n)&&Xi(s)&&l.parentNode){const x=lk(n.schema),P=CY(Yt.fromDom(l),Z=>af(Z.dom));return ut(x,m)&&ta(Yt.fromDom(l.parentNode),!1)&&!P}else return!1},bI=(n,s,l,m)=>{if(S5(l.styles,(x,P)=>{n.setStyle(s,P,Gd(x,m))}),l.styles){const x=n.getAttrib(s,"style");x&&n.setAttrib(s,"data-mce-style",x)}},OI=(n,s,l,m)=>{const x=n.formatter.get(s),P=x[0],Z=!m&&n.selection.isCollapsed(),J=n.dom,ge=n.selection,Re=(Vt,kt=P)=>{E(kt.onformat)&&kt.onformat(Vt,kt,l,m),bI(J,Vt,kt,l),S5(kt.attributes,(It,cn)=>{J.setAttrib(Vt,cn,Gd(It,l))}),S5(kt.classes,It=>{const cn=Gd(It,l);J.hasClass(Vt,cn)||J.addClass(Vt,cn)})},Ge=(Vt,kt)=>{let It=!1;return S5(Vt,cn=>Jl(cn)?J.getContentEditable(kt)==="false"&&!cn.ceFalseOverride||B(cn.collapsed)&&cn.collapsed!==Z?!0:J.is(kt,cn.selector)&&!af(kt)?(Re(kt,cn),It=!0,!1):!0:!1),It},qe=Vt=>{if(M(Vt)){const kt=J.create(Vt);return Re(kt),kt}else return null},ot=(Vt,kt,It)=>{const cn=[];let xn=!0;const bn=P.inline||P.block,$n=qe(bn),rr=zn=>Zx(P)&&tp(n,zn,s,l),gr=(zn,Bn,tr)=>{const eo=e1(P)&&tl(n.schema,zn)&&Fm(n,Bn,bn);return tr&&eo},Qr=(zn,Bn,tr,eo)=>{const po=zn.nodeName.toLowerCase(),ls=Fm(n,bn,po)&&Fm(n,Bn,bn),bs=!It&&lr(zn)&&Te(zn.data),ma=af(zn),$s=!Xi(P)||!Vt.isBlock(zn);return(tr||eo)&&ls&&!bs&&!ma&&$s};Sb(Vt,kt,zn=>{let Bn;const tr=eo=>{let po=!1,ls=xn,bs=!1;const ma=eo.parentNode,$s=ma.nodeName.toLowerCase(),mi=Vt.getContentEditable(eo);B(mi)&&(ls=xn,xn=mi==="true",po=!0,bs=mb(n,eo));const hc=xn&&!po;if(aa(eo)&&!sX(n,P,eo,$s)){Bn=null,jd(P)&&Vt.remove(eo);return}if(rr(eo)){Bn=null;return}if(gr(eo,$s,hc)){const ga=Vt.rename(eo,bn);Re(ga),cn.push(ga),Bn=null;return}if(Jl(P)){let ga=Ge(x,eo);if(!ga&&B(ma)&&pb(P)&&(ga=Ge(x,ma)),!Xi(P)||ga){Bn=null;return}}B($n)&&Qr(eo,$s,hc,bs)?(Bn||(Bn=Vt.clone($n,!1),ma.insertBefore(Bn,eo),cn.push(Bn)),bs&&po&&(xn=ls),Bn.appendChild(eo)):(Bn=null,re(tt(eo.childNodes),tr),po&&(xn=ls),Bn=null)};re(zn,tr)}),P.links===!0&&re(cn,zn=>{const Bn=tr=>{tr.nodeName==="A"&&Re(tr,P),re(tt(tr.childNodes),Bn)};Bn(zn)}),re(cn,zn=>{const Bn=po=>{let ls=0;return re(po.childNodes,bs=>{!Bf(bs)&&!lf(bs)&&ls++}),ls},tr=po=>ce(po.childNodes,hT).filter(bs=>Vt.getContentEditable(bs)!=="false"&&KT(Vt,bs,P)).map(bs=>{const ma=Vt.clone(bs,!1);return Re(ma),Vt.replace(ma,po,!0),Vt.remove(bs,!0),ma}).getOr(po),eo=Bn(zn);if((cn.length>1||!Vt.isBlock(zn))&&eo===0){Vt.remove(zn,!0);return}(Xi(P)||jd(P)&&P.wrapper)&&(!P.exact&&eo===1&&(zn=tr(zn)),rX(n,x,l,zn),oX(n,P,s,l,zn),tX(Vt,P,l,zn),eX(Vt,P,l,zn),nX(Vt,P,l,zn),b5(n,P,l,zn))})},Et=db(m)?m:ge.getNode();if(J.getContentEditable(Et)==="false"&&!mb(n,Et)){m=Et,Ge(x,m),fc(n,s,m,l);return}if(P){if(m)if(db(m)){if(!Ge(x,m)){const Vt=J.createRng();Vt.setStartBefore(m),Vt.setEndAfter(m),ot(J,Vm(J,Vt,x),!0)}}else ot(J,m,!0);else!Z||!Xi(P)||K0(n).length?(ge.setRng(c2(ge.getRng())),hb(n,()=>{Xg(n,(Vt,kt)=>{const It=kt?Vt:Vm(J,Vt,x);ot(J,It,!1)})},le),n.nodeChanged()):YY(n,s,l),$R(n.formatter,s).each(Vt=>{re(GY(n.selection),kt=>bI(J,kt,Vt,l))});DR(s,n)}fc(n,s,m,l)},xI=(n,s,l,m)=>{(m||n.selection.isEditable())&&OI(n,s,l,m)},Fb=n=>lt(n,"vars"),aX=(n,s)=>{n.set({}),s.on("NodeChange",l=>{VR(s,l.element,n.get())}),s.on("FormatApply FormatRemove",l=>{const m=Y.from(l.node).map(x=>db(x)?x:x.startContainer).bind(x=>Xr(x)?Y.some(x):Y.from(x.parentElement)).getOrThunk(()=>SI(s));VR(s,m,n.get())})},SI=n=>n.selection.getStart(),wI=(n,s,l,m,x)=>Se(s,J=>{const ge=n.formatter.matchNode(J,l,x??{},m);return!U(ge)},J=>qL(n,J,l)?!0:m?!1:B(n.formatter.matchNode(J,l,x,!0))),TI=(n,s)=>{const l=s??SI(n);return se(gb(n.dom,l),m=>Xr(m)&&!Df(m))},VR=(n,s,l)=>{const m=TI(n,s);Bt(l,(x,P)=>{const Z=J=>{const ge=wI(n,m,P,J.similar,Fb(J)?J.vars:void 0),Re=ge.isSome();if(J.state.get()!==Re){J.state.set(Re);const Ge=ge.getOr(s);Fb(J)?J.callback(Re,{node:Ge,format:P,parents:m}):re(J.callbacks,qe=>qe(Re,{node:Ge,format:P,parents:m}))}};re([x.withSimilar,x.withoutSimilar],Z),re(x.withVars,Z)})},iX=(n,s,l,m,x,P)=>{const Z=s.get();re(l.split(","),J=>{const ge=Sn(Z,J).getOrThunk(()=>{const Ge={withSimilar:{state:oi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:oi(!1),similar:!1,callbacks:[]},withVars:[]};return Z[J]=Ge,Ge}),Re=()=>{const Ge=TI(n);return wI(n,Ge,J,x,P).isSome()};if(U(P)){const Ge=x?ge.withSimilar:ge.withoutSimilar;Ge.callbacks.push(m),Ge.callbacks.length===1&&Ge.state.set(Re())}else ge.withVars.push({state:oi(Re()),similar:x,vars:P,callback:m})}),s.set(Z)},lX=(n,s,l)=>{const m=n.get();re(s.split(","),x=>Sn(m,x).each(P=>{m[x]={withSimilar:{...P.withSimilar,callbacks:se(P.withSimilar.callbacks,Z=>Z!==l)},withoutSimilar:{...P.withoutSimilar,callbacks:se(P.withoutSimilar.callbacks,Z=>Z!==l)},withVars:se(P.withVars,Z=>Z.callback!==l)}})),n.set(m)},cX=(n,s,l,m,x,P)=>(iX(n,s,l,m,x,P),{unbind:()=>lX(s,l,m)}),uX=(n,s,l,m)=>{const x=n.formatter.get(s);x&&(d5(n,s,l,m)&&(!("toggle"in x[0])||x[0].toggle)?vI(n,s,l,m):xI(n,s,l,m))},CI=fr.explode,kI=()=>{const n={};return{addFilter:(x,P)=>{re(CI(x),Z=>{lt(n,Z)||(n[Z]={name:Z,callbacks:[]}),n[Z].callbacks.push(P)})},getFilters:()=>Un(n),removeFilter:(x,P)=>{re(CI(x),Z=>{if(lt(n,Z))if(B(P)){const J=n[Z],ge=se(J.callbacks,Re=>Re!==P);ge.length>0?J.callbacks=ge:delete n[Z]}else delete n[Z]})}}},fX=(n,s)=>{re(s,l=>{n.attr(l,null)})},dX=(n,s,l)=>{n.addNodeFilter("font",m=>{re(m,x=>{const P=s.parse(x.attr("style")),Z=x.attr("color"),J=x.attr("face"),ge=x.attr("size");Z&&(P.color=Z),J&&(P["font-family"]=J),ge&&Ft(ge).each(Re=>{P["font-size"]=l[Re-1]}),x.name="span",x.attr("style",s.serialize(P)),fX(x,["color","face","size"])})})},hX=(n,s,l)=>{n.addNodeFilter("strike",m=>{const x=s.type!=="html4";re(m,P=>{if(x)P.name="s";else{const Z=l.parse(P.attr("style"));Z["text-decoration"]="line-through",P.name="span",P.attr("style",l.serialize(Z))}})})},mX=(n,s,l)=>{var m;const x=KO();s.convert_fonts_to_spans&&dX(n,x,fr.explode((m=s.font_size_legacy_values)!==null&&m!==void 0?m:"")),hX(n,l,x)},zR=(n,s,l)=>{s.inline_styles&&mX(n,s,l)},ZR=(n,s,l)=>{s.addNodeFilter("br",(m,x,P)=>{const Z=fr.extend({},l.getBlockElements()),J=l.getNonEmptyElements(),ge=l.getWhitespaceElements();Z.body=1;const Re=Ge=>Ge.name in Z||km(l,Ge);for(let Ge=0,qe=m.length;Ge<qe;Ge++){let ot=m[Ge],Et=ot.parent;if(Et&&Re(Et)&&ot===Et.lastChild){let Vt=ot.prev;for(;Vt;){const kt=Vt.name;if(kt!=="span"||Vt.attr("data-mce-type")!=="bookmark"){kt==="br"&&(ot=null);break}Vt=Vt.prev}if(ot&&(ot.remove(),l2(l,J,ge,Et))){const kt=l.getElementRule(Et.name);kt&&(kt.removeEmpty?Et.remove():kt.paddEmpty&&s5(n,P,Re,Et))}}else{let Vt=ot;for(;Et&&Et.firstChild===Vt&&Et.lastChild===Vt&&(Vt=Et,!Z[Et.name]);)Et=Et.parent;if(Vt===Et){const kt=new mu("#text",3);kt.value=zs,ot.replace(kt)}}}})},nce=n=>fetch(n).then(s=>s.ok?s.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${n} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),rC=n=>{const s=/([a-z0-9+\/=\s]+)/i.exec(n);return s?s[1]:""},w5=n=>{const[s,...l]=n.split(","),m=l.join(","),x=/data:([^/]+\/[^;]+)(;.+)?/.exec(s);if(x){const P=x[2]===";base64",Z=P?rC(m):decodeURIComponent(m);return Y.some({type:x[1],data:Z,base64Encoded:P})}else return Y.none()},y2=(n,s,l=!0)=>{let m=s;if(l)try{m=atob(s)}catch{return Y.none()}const x=new Uint8Array(m.length);for(let P=0;P<x.length;P++)x[P]=m.charCodeAt(P);return Y.some(new Blob([x],{type:n}))},oC=n=>new Promise((s,l)=>{w5(n).bind(({type:m,data:x,base64Encoded:P})=>y2(m,x,P)).fold(()=>l("Invalid data URI"),s)}),AI=n=>Sr(n,"blob:")?nce(n):Sr(n,"data:")?oC(n):Promise.reject("Unknown URI format"),gX=n=>new Promise((s,l)=>{const m=new FileReader;m.onloadend=()=>{s(m.result)},m.onerror=()=>{var x;l((x=m.error)===null||x===void 0?void 0:x.message)},m.readAsDataURL(n)});let pX=0;const rce=n=>(n||"blobid")+pX++,PI=(n,s,l)=>w5(n).bind(({data:m,type:x,base64Encoded:P})=>{if(s&&!P)return Y.none();{const Z=P?m:btoa(m);return l(Z,x)}}),MI=(n,s,l)=>{const m=n.create(rce(),s,l);return n.add(m),m},vX=(n,s,l=!1)=>PI(s,l,(m,x)=>Y.from(n.getByData(m,x)).orThunk(()=>y2(x,m).map(P=>MI(n,P,m)))),yX=(n,s)=>{const l=()=>Promise.reject("Invalid data URI");if(Sr(s,"blob:")){const m=n.getByUri(s);return B(m)?Promise.resolve(m):AI(s).then(x=>gX(x).then(P=>PI(P,!1,Z=>Y.some(MI(n,x,Z))).getOrThunk(l)))}else return Sr(s,"data:")?vX(n,s).fold(l,m=>Promise.resolve(m)):Promise.reject("Unknown image data format")},EI=n=>B(n.attr("data-mce-bogus")),bX=n=>n.attr("src")===Dr.transparentSrc||B(n.attr("data-mce-placeholder")),_I=(n,s)=>{const{blob_cache:l}=s;if(l){const m=x=>{const P=x.attr("src");bX(x)||EI(x)||F(P)||vX(l,P,!0).each(Z=>{x.attr("src",Z.blobUri())})};n.addAttributeFilter("src",x=>re(x,m))}},HR=(n,s)=>Sr(n,`${s}/`),T5=(n,s,l,m,x)=>{let P;U(n)?P="iframe":HR(n,"image")?P="img":HR(n,"video")?P="video":HR(n,"audio")?P="audio":P="iframe";const Z=new mu(P,1);return Z.attr(P==="audio"?{src:s}:{src:s,width:l,height:m}),(P==="audio"||P==="video")&&Z.attr("controls",""),P==="iframe"&&x&&Z.attr("sandbox",""),Z},RI=(n,s)=>{const l=n.schema;s.remove_trailing_brs&&ZR(s,n,l),n.addAttributeFilter("href",x=>{let P=x.length;const Z=ge=>ge.split(" ").filter(Ge=>Ge.length>0).concat(["noopener"]).sort().join(" "),J=ge=>{const Re=ge?fr.trim(ge):"";return/\b(noopener)\b/g.test(Re)?Re:Z(Re)};if(!s.allow_unsafe_link_target)for(;P--;){const ge=x[P];ge.name==="a"&&ge.attr("target")==="_blank"&&ge.attr("rel",J(ge.attr("rel")))}}),s.allow_html_in_named_anchor||n.addAttributeFilter("id,name",x=>{let P=x.length,Z,J,ge,Re;for(;P--;)if(Re=x[P],Re.name==="a"&&Re.firstChild&&!Re.attr("href"))for(ge=Re.parent,Z=Re.lastChild;Z&&ge;)J=Z.prev,ge.insert(Z,Re),Z=J}),s.fix_list_elements&&n.addNodeFilter("ul,ol",x=>{let P=x.length,Z,J;for(;P--;)if(Z=x[P],J=Z.parent,J&&(J.name==="ul"||J.name==="ol"))if(Z.prev&&Z.prev.name==="li")Z.prev.append(Z);else{const ge=new mu("li",1);ge.attr("style","list-style-type: none"),Z.wrap(ge)}});const m=l.getValidClasses();s.validate&&m&&n.addAttributeFilter("class",x=>{var P;let Z=x.length;for(;Z--;){const J=x[Z],ge=(P=J.attr("class"))!==null&&P!==void 0?P:"",Re=fr.explode(ge," ");let Ge="";for(let qe=0;qe<Re.length;qe++){const ot=Re[qe];let Et=!1,Vt=m["*"];Vt&&Vt[ot]&&(Et=!0),Vt=m[J.name],!Et&&Vt&&Vt[ot]&&(Et=!0),Et&&(Ge&&(Ge+=" "),Ge+=ot)}Ge.length||(Ge=null),J.attr("class",Ge)}}),_I(n,s),s.convert_unsafe_embeds&&n.addNodeFilter("object,embed",x=>re(x,P=>{P.replace(T5(P.attr("type"),P.name==="object"?P.attr("data"):P.attr("src"),P.attr("width"),P.attr("height"),s.sandbox_iframes))})),s.sandbox_iframes&&n.addNodeFilter("iframe",x=>re(x,P=>P.attr("sandbox","")))},{entries:pl,setPrototypeOf:OX,isFrozen:oce,getPrototypeOf:sce,getOwnPropertyDescriptor:ace}=Object;let{freeze:nl,seal:pd,create:d1}=Object,{apply:sp,construct:UR}=typeof Reflect<"u"&&Reflect;sp||(sp=function(s,l,m){return s.apply(l,m)}),nl||(nl=function(s){return s}),pd||(pd=function(s){return s}),UR||(UR=function(s,l){return new s(...l)});const xX=Hh(Array.prototype.forEach),b2=Hh(Array.prototype.pop),ap=Hh(Array.prototype.push),Av=Hh(String.prototype.toLowerCase),C5=Hh(String.prototype.toString),WR=Hh(String.prototype.match),Zh=Hh(String.prototype.replace),DI=Hh(String.prototype.indexOf),SX=Hh(String.prototype.trim),Jd=Hh(RegExp.prototype.test),O2=wX(TypeError);function Hh(n){return function(s){for(var l=arguments.length,m=new Array(l>1?l-1:0),x=1;x<l;x++)m[x-1]=arguments[x];return sp(n,s,m)}}function wX(n){return function(){for(var s=arguments.length,l=new Array(s),m=0;m<s;m++)l[m]=arguments[m];return UR(n,l)}}function xa(n,s,l){var m;l=(m=l)!==null&&m!==void 0?m:Av,OX&&OX(n,null);let x=s.length;for(;x--;){let P=s[x];if(typeof P=="string"){const Z=l(P);Z!==P&&(oce(s)||(s[x]=Z),P=Z)}n[P]=!0}return n}function x2(n){const s=d1(null);for(const[l,m]of pl(n))s[l]=m;return s}function k5(n,s){for(;n!==null;){const m=ace(n,s);if(m){if(m.get)return Hh(m.get);if(typeof m.value=="function")return Hh(m.value)}n=sce(n)}function l(m){return console.warn("fallback value for",m),null}return l}const YR=nl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),XR=nl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vb=nl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$I=nl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),GR=nl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),LI=nl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),II=nl(["#text"]),jR=nl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),qR=nl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),NI=nl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sC=nl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),BI=pd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),QI=pd(/<%[\w\W]*|[\w\W]*%>/gm),FI=pd(/\${[\w\W]*}/gm),VI=pd(/^data-[\-\w.\u00B7-\uFFFF]/),zI=pd(/^aria-[\-\w]+$/),ZI=pd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),TX=pd(/^(?:\w+script|data):/i),CX=pd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),A5=pd(/^html$/i);var S2=Object.freeze({__proto__:null,MUSTACHE_EXPR:BI,ERB_EXPR:QI,TMPLIT_EXPR:FI,DATA_ATTR:VI,ARIA_ATTR:zI,IS_ALLOWED_URI:ZI,IS_SCRIPT_OR_DATA:TX,ATTR_WHITESPACE:CX,DOCTYPE_NAME:A5});const HI=()=>typeof window>"u"?null:window,UI=function(s,l){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let m=null;const x="data-tt-policy-suffix";l&&l.hasAttribute(x)&&(m=l.getAttribute(x));const P="dompurify"+(m?"#"+m:"");try{return s.createPolicy(P,{createHTML(Z){return Z},createScriptURL(Z){return Z}})}catch{return console.warn("TrustedTypes policy "+P+" could not be created."),null}};function aC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:HI();const s=ps=>aC(ps);if(s.version="3.0.5",s.removed=[],!n||!n.document||n.document.nodeType!==9)return s.isSupported=!1,s;const l=n.document,m=l.currentScript;let{document:x}=n;const{DocumentFragment:P,HTMLTemplateElement:Z,Node:J,Element:ge,NodeFilter:Re,NamedNodeMap:Ge=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:qe,DOMParser:ot,trustedTypes:Et}=n,Vt=ge.prototype,kt=k5(Vt,"cloneNode"),It=k5(Vt,"nextSibling"),cn=k5(Vt,"childNodes"),xn=k5(Vt,"parentNode");if(typeof Z=="function"){const ps=x.createElement("template");ps.content&&ps.content.ownerDocument&&(x=ps.content.ownerDocument)}let bn,$n="";const{implementation:rr,createNodeIterator:gr,createDocumentFragment:Qr,getElementsByTagName:zn}=x,{importNode:Bn}=l;let tr={};s.isSupported=typeof pl=="function"&&typeof xn=="function"&&rr&&rr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:eo,ERB_EXPR:po,TMPLIT_EXPR:ls,DATA_ATTR:bs,ARIA_ATTR:ma,IS_SCRIPT_OR_DATA:$s,ATTR_WHITESPACE:mi}=S2;let{IS_ALLOWED_URI:hc}=S2,ga=null;const Cr=xa({},[...YR,...XR,...Vb,...GR,...II]);let co=null;const Zs=xa({},[...jR,...qR,...NI,...sC]);let ws=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oo=null,Lo=null,yr=!0,Bo=!0,Ls=!1,Aa=!0,Sa=!1,Il=!1,Kh=!1,Hf=!1,Iu=!1,ih=!1,Wo=!1,Hs=!0,Pa=!1;const ai="user-content-";let Wa=!0,pf=!1,Jh={},$v=null;const kP=xa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let a3=null;const AP=xa({},["audio","video","img","source","image","track"]);let J2=null;const PP=xa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eS="http://www.w3.org/1998/Math/MathML",L1="http://www.w3.org/2000/svg",em="http://www.w3.org/1999/xhtml";let tg=em,tS=!1,aO=null;const i3=xa({},[eS,L1,em],C5);let ng;const MP=["application/xhtml+xml","text/html"],l3="text/html";let Bc,iO=null;const Qz=x.createElement("form"),EP=function(Qn){return Qn instanceof RegExp||Qn instanceof Function},c3=function(Qn){if(!(iO&&iO===Qn)){if((!Qn||typeof Qn!="object")&&(Qn={}),Qn=x2(Qn),ng=MP.indexOf(Qn.PARSER_MEDIA_TYPE)===-1?ng=l3:ng=Qn.PARSER_MEDIA_TYPE,Bc=ng==="application/xhtml+xml"?C5:Av,ga="ALLOWED_TAGS"in Qn?xa({},Qn.ALLOWED_TAGS,Bc):Cr,co="ALLOWED_ATTR"in Qn?xa({},Qn.ALLOWED_ATTR,Bc):Zs,aO="ALLOWED_NAMESPACES"in Qn?xa({},Qn.ALLOWED_NAMESPACES,C5):i3,J2="ADD_URI_SAFE_ATTR"in Qn?xa(x2(PP),Qn.ADD_URI_SAFE_ATTR,Bc):PP,a3="ADD_DATA_URI_TAGS"in Qn?xa(x2(AP),Qn.ADD_DATA_URI_TAGS,Bc):AP,$v="FORBID_CONTENTS"in Qn?xa({},Qn.FORBID_CONTENTS,Bc):kP,oo="FORBID_TAGS"in Qn?xa({},Qn.FORBID_TAGS,Bc):{},Lo="FORBID_ATTR"in Qn?xa({},Qn.FORBID_ATTR,Bc):{},Jh="USE_PROFILES"in Qn?Qn.USE_PROFILES:!1,yr=Qn.ALLOW_ARIA_ATTR!==!1,Bo=Qn.ALLOW_DATA_ATTR!==!1,Ls=Qn.ALLOW_UNKNOWN_PROTOCOLS||!1,Aa=Qn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Sa=Qn.SAFE_FOR_TEMPLATES||!1,Il=Qn.WHOLE_DOCUMENT||!1,Iu=Qn.RETURN_DOM||!1,ih=Qn.RETURN_DOM_FRAGMENT||!1,Wo=Qn.RETURN_TRUSTED_TYPE||!1,Hf=Qn.FORCE_BODY||!1,Hs=Qn.SANITIZE_DOM!==!1,Pa=Qn.SANITIZE_NAMED_PROPS||!1,Wa=Qn.KEEP_CONTENT!==!1,pf=Qn.IN_PLACE||!1,hc=Qn.ALLOWED_URI_REGEXP||ZI,tg=Qn.NAMESPACE||em,ws=Qn.CUSTOM_ELEMENT_HANDLING||{},Qn.CUSTOM_ELEMENT_HANDLING&&EP(Qn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ws.tagNameCheck=Qn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Qn.CUSTOM_ELEMENT_HANDLING&&EP(Qn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ws.attributeNameCheck=Qn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Qn.CUSTOM_ELEMENT_HANDLING&&typeof Qn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ws.allowCustomizedBuiltInElements=Qn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Sa&&(Bo=!1),ih&&(Iu=!0),Jh&&(ga=xa({},[...II]),co=[],Jh.html===!0&&(xa(ga,YR),xa(co,jR)),Jh.svg===!0&&(xa(ga,XR),xa(co,qR),xa(co,sC)),Jh.svgFilters===!0&&(xa(ga,Vb),xa(co,qR),xa(co,sC)),Jh.mathMl===!0&&(xa(ga,GR),xa(co,NI),xa(co,sC))),Qn.ADD_TAGS&&(ga===Cr&&(ga=x2(ga)),xa(ga,Qn.ADD_TAGS,Bc)),Qn.ADD_ATTR&&(co===Zs&&(co=x2(co)),xa(co,Qn.ADD_ATTR,Bc)),Qn.ADD_URI_SAFE_ATTR&&xa(J2,Qn.ADD_URI_SAFE_ATTR,Bc),Qn.FORBID_CONTENTS&&($v===kP&&($v=x2($v)),xa($v,Qn.FORBID_CONTENTS,Bc)),Wa&&(ga["#text"]=!0),Il&&xa(ga,["html","head","body"]),ga.table&&(xa(ga,["tbody"]),delete oo.tbody),Qn.TRUSTED_TYPES_POLICY){if(typeof Qn.TRUSTED_TYPES_POLICY.createHTML!="function")throw O2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Qn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw O2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');bn=Qn.TRUSTED_TYPES_POLICY,$n=bn.createHTML("")}else bn===void 0&&(bn=UI(Et,m)),bn!==null&&typeof $n=="string"&&($n=bn.createHTML(""));nl&&nl(Qn),iO=Qn}},gp=xa({},["mi","mo","mn","ms","mtext"]),nS=xa({},["foreignobject","desc","title","annotation-xml"]),Ln=xa({},["title","style","font","a","script"]),In=xa({},XR);xa(In,Vb),xa(In,$I);const br=xa({},GR);xa(br,LI);const hr=function(Qn){let lo=xn(Qn);(!lo||!lo.tagName)&&(lo={namespaceURI:tg,tagName:"template"});const Eo=Av(Qn.tagName),Qi=Av(lo.tagName);return aO[Qn.namespaceURI]?Qn.namespaceURI===L1?lo.namespaceURI===em?Eo==="svg":lo.namespaceURI===eS?Eo==="svg"&&(Qi==="annotation-xml"||gp[Qi]):!!In[Eo]:Qn.namespaceURI===eS?lo.namespaceURI===em?Eo==="math":lo.namespaceURI===L1?Eo==="math"&&nS[Qi]:!!br[Eo]:Qn.namespaceURI===em?lo.namespaceURI===L1&&!nS[Qi]||lo.namespaceURI===eS&&!gp[Qi]?!1:!br[Eo]&&(Ln[Eo]||!In[Eo]):!!(ng==="application/xhtml+xml"&&aO[Qn.namespaceURI]):!1},mo=function(Qn){ap(s.removed,{element:Qn});try{Qn.parentNode.removeChild(Qn)}catch{Qn.remove()}},Os=function(Qn,lo){try{ap(s.removed,{attribute:lo.getAttributeNode(Qn),from:lo})}catch{ap(s.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Qn),Qn==="is"&&!co[Qn])if(Iu||ih)try{mo(lo)}catch{}else try{lo.setAttribute(Qn,"")}catch{}},qa=function(Qn){let lo,Eo;if(Hf)Qn="<remove></remove>"+Qn;else{const wd=WR(Qn,/^[\r\n\t ]+/);Eo=wd&&wd[0]}ng==="application/xhtml+xml"&&tg===em&&(Qn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Qn+"</body></html>");const Qi=bn?bn.createHTML(Qn):Qn;if(tg===em)try{lo=new ot().parseFromString(Qi,ng)}catch{}if(!lo||!lo.documentElement){lo=rr.createDocument(tg,"template",null);try{lo.documentElement.innerHTML=tS?$n:Qi}catch{}}const qc=lo.body||lo.documentElement;return Qn&&Eo&&qc.insertBefore(x.createTextNode(Eo),qc.childNodes[0]||null),tg===em?zn.call(lo,Il?"html":"body")[0]:Il?lo.documentElement:qc},vf=function(Qn){return gr.call(Qn.ownerDocument||Qn,Qn,Re.SHOW_ELEMENT|Re.SHOW_COMMENT|Re.SHOW_TEXT,null,!1)},mc=function(Qn){return Qn instanceof qe&&(typeof Qn.nodeName!="string"||typeof Qn.textContent!="string"||typeof Qn.removeChild!="function"||!(Qn.attributes instanceof Ge)||typeof Qn.removeAttribute!="function"||typeof Qn.setAttribute!="function"||typeof Qn.namespaceURI!="string"||typeof Qn.insertBefore!="function"||typeof Qn.hasChildNodes!="function")},lO=function(Qn){return typeof J=="object"?Qn instanceof J:Qn&&typeof Qn=="object"&&typeof Qn.nodeType=="number"&&typeof Qn.nodeName=="string"},lh=function(Qn,lo,Eo){tr[Qn]&&xX(tr[Qn],Qi=>{Qi.call(s,lo,Eo,iO)})},Fz=function(Qn){let lo;if(lh("beforeSanitizeElements",Qn,null),mc(Qn))return mo(Qn),!0;const Eo=Bc(Qn.nodeName);if(lh("uponSanitizeElement",Qn,{tagName:Eo,allowedTags:ga}),Qn.hasChildNodes()&&!lO(Qn.firstElementChild)&&(!lO(Qn.content)||!lO(Qn.content.firstElementChild))&&Jd(/<[/\w]/g,Qn.innerHTML)&&Jd(/<[/\w]/g,Qn.textContent))return mo(Qn),!0;if(!ga[Eo]||oo[Eo]){if(!oo[Eo]&&zz(Eo)&&(ws.tagNameCheck instanceof RegExp&&Jd(ws.tagNameCheck,Eo)||ws.tagNameCheck instanceof Function&&ws.tagNameCheck(Eo)))return!1;if(Wa&&!$v[Eo]){const Qi=xn(Qn)||Qn.parentNode,qc=cn(Qn)||Qn.childNodes;if(qc&&Qi){const wd=qc.length;for(let Nl=wd-1;Nl>=0;--Nl)Qi.insertBefore(kt(qc[Nl],!0),It(Qn))}}return mo(Qn),!0}return Qn instanceof ge&&!hr(Qn)||(Eo==="noscript"||Eo==="noembed"||Eo==="noframes")&&Jd(/<\/no(script|embed|frames)/i,Qn.innerHTML)?(mo(Qn),!0):(Sa&&Qn.nodeType===3&&(lo=Qn.textContent,lo=Zh(lo,eo," "),lo=Zh(lo,po," "),lo=Zh(lo,ls," "),Qn.textContent!==lo&&(ap(s.removed,{element:Qn.cloneNode()}),Qn.textContent=lo)),lh("afterSanitizeElements",Qn,null),!1)},Vz=function(Qn,lo,Eo){if(Hs&&(lo==="id"||lo==="name")&&(Eo in x||Eo in Qz))return!1;if(!(Bo&&!Lo[lo]&&Jd(bs,lo))){if(!(yr&&Jd(ma,lo))){if(!co[lo]||Lo[lo]){if(!(zz(Qn)&&(ws.tagNameCheck instanceof RegExp&&Jd(ws.tagNameCheck,Qn)||ws.tagNameCheck instanceof Function&&ws.tagNameCheck(Qn))&&(ws.attributeNameCheck instanceof RegExp&&Jd(ws.attributeNameCheck,lo)||ws.attributeNameCheck instanceof Function&&ws.attributeNameCheck(lo))||lo==="is"&&ws.allowCustomizedBuiltInElements&&(ws.tagNameCheck instanceof RegExp&&Jd(ws.tagNameCheck,Eo)||ws.tagNameCheck instanceof Function&&ws.tagNameCheck(Eo))))return!1}else if(!J2[lo]){if(!Jd(hc,Zh(Eo,mi,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Qn!=="script"&&DI(Eo,"data:")===0&&a3[Qn])){if(!(Ls&&!Jd($s,Zh(Eo,mi,"")))){if(Eo)return!1}}}}}}return!0},zz=function(Qn){return Qn.indexOf("-")>0},dD=function(Qn){let lo,Eo,Qi,qc;lh("beforeSanitizeAttributes",Qn,null);const{attributes:wd}=Qn;if(!wd)return;const Nl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:co};for(qc=wd.length;qc--;){lo=wd[qc];const{name:tm,namespaceURI:_P}=lo;Eo=tm==="value"?lo.value:SX(lo.value);const hre=Eo;if(Qi=Bc(tm),Nl.attrName=Qi,Nl.attrValue=Eo,Nl.keepAttr=!0,Nl.forceKeepAttr=void 0,lh("uponSanitizeAttribute",Qn,Nl),Eo=Nl.attrValue,Nl.forceKeepAttr)continue;if(!Nl.keepAttr){Os(tm,Qn);continue}if(!Aa&&Jd(/\/>/i,Eo)){Os(tm,Qn);continue}Sa&&(Eo=Zh(Eo,eo," "),Eo=Zh(Eo,po," "),Eo=Zh(Eo,ls," "));const Zz=Bc(Qn.nodeName);if(!Vz(Zz,Qi,Eo)){Os(tm,Qn);continue}if(Pa&&(Qi==="id"||Qi==="name")&&(Os(tm,Qn),Eo=ai+Eo),bn&&typeof Et=="object"&&typeof Et.getAttributeType=="function"&&!_P)switch(Et.getAttributeType(Zz,Qi)){case"TrustedHTML":{Eo=bn.createHTML(Eo);break}case"TrustedScriptURL":{Eo=bn.createScriptURL(Eo);break}}if(Eo!==hre)try{_P?Qn.setAttributeNS(_P,tm,Eo):Qn.setAttribute(tm,Eo)}catch{Os(tm,Qn)}}lh("afterSanitizeAttributes",Qn,null)},dre=function ps(Qn){let lo;const Eo=vf(Qn);for(lh("beforeSanitizeShadowDOM",Qn,null);lo=Eo.nextNode();)lh("uponSanitizeShadowNode",lo,null),!Fz(lo)&&(lo.content instanceof P&&ps(lo.content),dD(lo));lh("afterSanitizeShadowDOM",Qn,null)};return s.sanitize=function(ps){let Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lo,Eo,Qi,qc;if(tS=!ps,tS&&(ps="<!-->"),typeof ps!="string"&&!lO(ps))if(typeof ps.toString=="function"){if(ps=ps.toString(),typeof ps!="string")throw O2("dirty is not a string, aborting")}else throw O2("toString is not a function");if(!s.isSupported)return ps;if(Kh||c3(Qn),s.removed=[],typeof ps=="string"&&(pf=!1),pf){if(ps.nodeName){const tm=Bc(ps.nodeName);if(!ga[tm]||oo[tm])throw O2("root node is forbidden and cannot be sanitized in-place")}}else if(ps instanceof J)lo=qa("<!---->"),Eo=lo.ownerDocument.importNode(ps,!0),Eo.nodeType===1&&Eo.nodeName==="BODY"||Eo.nodeName==="HTML"?lo=Eo:lo.appendChild(Eo);else{if(!Iu&&!Sa&&!Il&&ps.indexOf("<")===-1)return bn&&Wo?bn.createHTML(ps):ps;if(lo=qa(ps),!lo)return Iu?null:Wo?$n:""}lo&&Hf&&mo(lo.firstChild);const wd=vf(pf?ps:lo);for(;Qi=wd.nextNode();)Fz(Qi)||(Qi.content instanceof P&&dre(Qi.content),dD(Qi));if(pf)return ps;if(Iu){if(ih)for(qc=Qr.call(lo.ownerDocument);lo.firstChild;)qc.appendChild(lo.firstChild);else qc=lo;return(co.shadowroot||co.shadowrootmode)&&(qc=Bn.call(l,qc,!0)),qc}let Nl=Il?lo.outerHTML:lo.innerHTML;return Il&&ga["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&Jd(A5,lo.ownerDocument.doctype.name)&&(Nl="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+Nl),Sa&&(Nl=Zh(Nl,eo," "),Nl=Zh(Nl,po," "),Nl=Zh(Nl,ls," ")),bn&&Wo?bn.createHTML(Nl):Nl},s.setConfig=function(ps){c3(ps),Kh=!0},s.clearConfig=function(){iO=null,Kh=!1},s.isValidAttribute=function(ps,Qn,lo){iO||c3({});const Eo=Bc(ps),Qi=Bc(Qn);return Vz(Eo,Qi,lo)},s.addHook=function(ps,Qn){typeof Qn=="function"&&(tr[ps]=tr[ps]||[],ap(tr[ps],Qn))},s.removeHook=function(ps){if(tr[ps])return b2(tr[ps])},s.removeHooks=function(ps){tr[ps]&&(tr[ps]=[])},s.removeAllHooks=function(){tr={}},s}var WI=aC();const YI=fr.each,h1=fr.trim,KR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],XI={ftp:21,http:80,https:443,mailto:25},iC=["img","video"],GI=(n,s)=>B(n)?!n:B(s)?!Ve(iC,s):!0,JR=n=>{try{return decodeURIComponent(n)}catch{return unescape(n)}},e8=(n,s,l)=>{const m=JR(s).replace(/\s/g,"");return n.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(m)?!0:n.allow_html_data_urls?!1:/^data:image\//i.test(m)?GI(n.allow_svg_data_urls,l)&&/^data:image\/svg\+xml/i.test(m):/^data:/i.test(m)};class eh{static parseDataUri(s){let l;const m=decodeURIComponent(s).split(","),x=/data:([^;]+)/.exec(m[0]);return x&&(l=x[1]),{type:l,data:m[1]}}static isDomSafe(s,l,m={}){if(m.allow_script_urls)return!0;{const x=Eg.decode(s).replace(/[\s\u0000-\u001F]+/g,"");return!e8(m,x,l)}}static getDocumentBaseUrl(s){var l;let m;return s.protocol.indexOf("http")!==0&&s.protocol!=="file:"?m=(l=s.href)!==null&&l!==void 0?l:"":m=s.protocol+"//"+s.host+s.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/")),m}constructor(s,l={}){this.path="",this.directory="",s=h1(s),this.settings=l;const m=l.base_uri,x=this;if(/^([\w\-]+):([^\/]{2})/i.test(s)||/^\s*#/.test(s)){x.source=s;return}const P=s.indexOf("//")===0;if(s.indexOf("/")===0&&!P&&(s=(m&&m.protocol||"http")+"://mce_host"+s),!/^[\w\-]*:?\/\//.test(s)){const J=m?m.path:new eh(document.location.href).directory;if((m==null?void 0:m.protocol)==="")s="//mce_host"+x.toAbsPath(J,s);else{const ge=/([^#?]*)([#?]?.*)/.exec(s);ge&&(s=(m&&m.protocol||"http")+"://mce_host"+x.toAbsPath(J,ge[1])+ge[2])}}s=s.replace(/@@/g,"(mce_at)");const Z=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(s);Z&&YI(KR,(J,ge)=>{let Re=Z[ge];Re&&(Re=Re.replace(/\(mce_at\)/g,"@@")),x[J]=Re}),m&&(x.protocol||(x.protocol=m.protocol),x.userInfo||(x.userInfo=m.userInfo),!x.port&&x.host==="mce_host"&&(x.port=m.port),(!x.host||x.host==="mce_host")&&(x.host=m.host),x.source=""),P&&(x.protocol="")}setPath(s){const l=/^(.*?)\/?(\w+)?$/.exec(s);l&&(this.path=l[0],this.directory=l[1],this.file=l[2]),this.source="",this.getURI()}toRelative(s){if(s==="./")return s;const l=new eh(s,{base_uri:this});if(l.host!=="mce_host"&&this.host!==l.host&&l.host||this.port!==l.port||this.protocol!==l.protocol&&l.protocol!=="")return l.getURI();const m=this.getURI(),x=l.getURI();if(m===x||m.charAt(m.length-1)==="/"&&m.substr(0,m.length-1)===x)return m;let P=this.toRelPath(this.path,l.path);return l.query&&(P+="?"+l.query),l.anchor&&(P+="#"+l.anchor),P}toAbsolute(s,l){const m=new eh(s,{base_uri:this});return m.getURI(l&&this.isSameOrigin(m))}isSameOrigin(s){if(this.host==s.host&&this.protocol==s.protocol){if(this.port==s.port)return!0;const l=this.protocol?XI[this.protocol]:null;if(l&&(this.port||l)==(s.port||l))return!0}return!1}toRelPath(s,l){let m=0,x="",P,Z;const J=s.substring(0,s.lastIndexOf("/")).split("/"),ge=l.split("/");if(J.length>=ge.length){for(P=0,Z=J.length;P<Z;P++)if(P>=ge.length||J[P]!==ge[P]){m=P+1;break}}if(J.length<ge.length){for(P=0,Z=ge.length;P<Z;P++)if(P>=J.length||J[P]!==ge[P]){m=P+1;break}}if(m===1)return l;for(P=0,Z=J.length-(m-1);P<Z;P++)x+="../";for(P=m-1,Z=ge.length;P<Z;P++)P!==m-1?x+="/"+ge[P]:x+=ge[P];return x}toAbsPath(s,l){let m=0;const x=/\/$/.test(l)?"/":"",P=s.split("/"),Z=l.split("/"),J=[];YI(P,qe=>{qe&&J.push(qe)});const ge=[];for(let qe=Z.length-1;qe>=0;qe--)if(!(Z[qe].length===0||Z[qe]===".")){if(Z[qe]===".."){m++;continue}if(m>0){m--;continue}ge.push(Z[qe])}const Re=J.length-m;let Ge;return Re<=0?Ge=ct(ge).join("/"):Ge=J.slice(0,Re).join("/")+"/"+ct(ge).join("/"),Ge.indexOf("/")!==0&&(Ge="/"+Ge),x&&Ge.lastIndexOf("/")!==Ge.length-1&&(Ge+=x),Ge}getURI(s=!1){let l;return(!this.source||s)&&(l="",s||(this.protocol?l+=this.protocol+"://":l+="//",this.userInfo&&(l+=this.userInfo+"@"),this.host&&(l+=this.host),this.port&&(l+=":"+this.port)),this.path&&(l+=this.path),this.query&&(l+="?"+this.query),this.anchor&&(l+="#"+this.anchor),this.source=l),this.source}}const kX=fr.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),t8="data-mce-type";let jI=0;const P5=(n,s,l,m,x)=>{var P,Z,J,ge;const Re=s.validate,Ge=l.getSpecialElements();n.nodeType===$d&&!s.allow_conditional_comments&&/^\[if/i.test((P=n.nodeValue)!==null&&P!==void 0?P:"")&&(n.nodeValue=" "+n.nodeValue);const qe=(Z=x==null?void 0:x.tagName)!==null&&Z!==void 0?Z:n.nodeName.toLowerCase();if(m!=="html"&&l.isValid(m)){B(x)&&(x.allowedTags[qe]=!0);return}if(n.nodeType!==yh||qe==="body")return;const ot=Yt.fromDom(n),Et=Af(ot,t8),Vt=Ml(ot,"data-mce-bogus");if(!Et&&M(Vt)){Vt==="all"?Ks(ot):Rf(ot);return}const kt=l.getElementRule(qe);if(Re&&!kt){lt(Ge,qe)?Ks(ot):Rf(ot);return}else B(x)&&(x.allowedTags[qe]=!0);if(Re&&kt&&!Et){if(re((J=kt.attributesForced)!==null&&J!==void 0?J:[],It=>{Da(ot,It.name,It.value==="{$uid}"?`mce_${jI++}`:It.value)}),re((ge=kt.attributesDefault)!==null&&ge!==void 0?ge:[],It=>{Af(ot,It.name)||Da(ot,It.name,It.value==="{$uid}"?`mce_${jI++}`:It.value)}),kt.attributesRequired&&!_e(kt.attributesRequired,It=>Af(ot,It))){Rf(ot);return}if(kt.removeEmptyAttrs&&Pf(ot)){Rf(ot);return}kt.outputName&&kt.outputName!==qe&&Zd(ot,kt.outputName)}},AX=(n,s,l,m,x)=>{const P=n.tagName.toLowerCase(),{attrName:Z,attrValue:J}=x;x.keepAttr=n8(s,l,m,P,Z,J),x.keepAttr?(x.allowedAttributes[Z]=!0,KI(Z,l)&&(x.attrValue=Z),s.allow_svg_data_urls&&Sr(J,"data:image/svg+xml")&&(x.forceKeepAttr=!0)):qI(n,Z)&&(x.forceKeepAttr=!0)},n8=(n,s,l,m,x,P)=>l!=="html"&&!Mc(m)?!0:!(x in kX&&e8(n,P,m))&&(!n.validate||s.isValid(m,x)||Sr(x,"data-")||Sr(x,"aria-")),qI=(n,s)=>n.hasAttribute(t8)&&(s==="id"||s==="class"||s==="style"),KI=(n,s)=>n in s.getBoolAttrs(),PX=(n,s,l,m)=>{const{attributes:x}=n;for(let P=x.length-1;P>=0;P--){const Z=x[P],J=Z.name,ge=Z.value;!n8(s,l,m,n.tagName.toLowerCase(),J,ge)&&!qI(n,J)?n.removeAttribute(J):KI(J,l)&&n.setAttribute(J,J)}},MX=(n,s,l)=>{const m=WI();return m.addHook("uponSanitizeElement",(x,P)=>{P5(x,n,s,l.track(x),P)}),m.addHook("uponSanitizeAttribute",(x,P)=>{AX(x,n,s,l.current(),P)}),m},EX=(n,s)=>{const m={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return m.PARSER_MEDIA_TYPE=s,n.allow_script_urls?m.ALLOWED_URI_REGEXP=/.*/:n.allow_html_data_urls&&(m.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),m},_X=n=>{const s=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(m=>`xlink:${m}`),l={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:s};return WI().sanitize(n,l),n.innerHTML},RX=(n,s)=>{const l=Fd();if(n.sanitize){const m=MX(n,s,l);return{sanitizeHtmlElement:(P,Z)=>{m.sanitize(P,EX(n,Z)),m.removed=[],l.reset()},sanitizeNamespaceElement:_X}}else return{sanitizeHtmlElement:(P,Z)=>{const J=document.createNodeIterator(P,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let ge;for(;ge=J.nextNode();){const Re=l.track(ge);P5(ge,n,s,Re),Xr(ge)&&PX(ge,n,s,Re)}l.reset()},sanitizeNamespaceElement:ie}},JI=fr.makeMap,eN=fr.extend,lC=(n,s,l,m)=>{const x=n.name,P=x in l&&x!=="title"&&x!=="textarea",Z=s.childNodes;for(let J=0,ge=Z.length;J<ge;J++){const Re=Z[J],Ge=new mu(Re.nodeName.toLowerCase(),Re.nodeType);if(Xr(Re)){const qe=Re.attributes;for(let ot=0,Et=qe.length;ot<Et;ot++){const Vt=qe[ot];Ge.attr(Vt.name,Vt.value)}Mc(Ge.name)&&(m(Re),Ge.value=Re.innerHTML)}else lr(Re)?(Ge.value=Re.data,P&&(Ge.raw=!0)):(ed(Re)||zO(Re)||_l(Re))&&(Ge.value=Re.data);Mc(Ge.name)||lC(Ge,Re,l,m),n.append(Ge)}},pu=(n,s,l)=>{const m=[];for(let x=n,P=x;x;P=x,x=x.walk()){const Z=x;re(s,J=>J(Z)),F(Z.parent)&&Z!==n?x=P:m.push(Z)}for(let x=m.length-1;x>=0;x--){const P=m[x];re(l,Z=>Z(P))}},DX=(n,s,l,m)=>{const x=l.validate,P=s.getNonEmptyElements(),Z=s.getWhitespaceElements(),J=eN(JI("script,style,head,html,body,title,meta,param"),s.getBlockElements()),ge=lk(s),Re=/[ \t\r\n]+/g,Ge=/^[ \t\r\n]+/,qe=/[ \t\r\n]+$/,ot=xn=>{let bn=xn.parent;for(;B(bn);){if(bn.name in Z)return!0;bn=bn.parent}return!1},Et=xn=>{let bn=xn;for(;B(bn);){if(bn.name in ge)return l2(s,P,Z,bn);bn=bn.parent}return!1},Vt=xn=>xn.name in J||km(s,xn)||Mc(xn.name)&&xn.parent===n,kt=(xn,bn)=>{const $n=bn?xn.prev:xn.next;return B($n)||F(xn.parent)?!1:Vt(xn.parent)&&(xn.parent!==n||m.isRootContent===!0)};return[xn=>{var bn;if(xn.type===3&&!ot(xn)){let $n=(bn=xn.value)!==null&&bn!==void 0?bn:"";$n=$n.replace(Re," "),(fR(xn.prev,Vt)||kt(xn,!0))&&($n=$n.replace(Ge,"")),$n.length===0?xn.remove():xn.value=$n}},xn=>{var bn;if(xn.type===1){const $n=s.getElementRule(xn.name);if(x&&$n){const rr=l2(s,P,Z,xn);$n.paddInEmptyBlock&&rr&&Et(xn)?s5(l,m,Vt,xn):$n.removeEmpty&&rr?Vt(xn)?xn.remove():xn.unwrap():$n.paddEmpty&&(rr||LL(xn))&&s5(l,m,Vt,xn)}}else if(xn.type===3&&!ot(xn)){let $n=(bn=xn.value)!==null&&bn!==void 0?bn:"";(xn.next&&Vt(xn.next)||kt(xn,!1))&&($n=$n.replace(qe,"")),$n.length===0?xn.remove():xn.value=$n}}]},M5=(n,s)=>{var l;const m=(l=s.forced_root_block)!==null&&l!==void 0?l:n.forced_root_block;return m===!1?"":m===!0?"p":m},Uh=(n={},s=Em())=>{const l=kI(),m=kI(),x={validate:!0,root_name:"body",sanitize:!0,...n},P=new DOMParser,Z=RX(x,s),J=(bn,$n,rr="html")=>{const gr=rr==="xhtml"?"application/xhtml+xml":"text/html",Qr=lt(s.getSpecialElements(),$n.toLowerCase()),zn=Qr?`<${$n}>${bn}</${$n}>`:bn,Bn=rr==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${zn}</body></html>`:`<body>${zn}</body>`,tr=P.parseFromString(Bn,gr).body;return Z.sanitizeHtmlElement(tr,gr),Qr?tr.firstChild:tr},ge=l.addFilter,Re=l.getFilters,Ge=l.removeFilter,qe=m.addFilter,ot=m.getFilters,Et=m.removeFilter,Vt=(bn,$n)=>{l5(s,bn)&&$n.push(bn)},kt=(bn,$n)=>{const rr=M($n.attr(t8)),gr=$n.type===1&&!lt(bn,$n.name)&&!km(s,$n)&&!Mc($n.name);return $n.type===3||gr&&!rr},It=(bn,$n)=>{const rr=eN(JI("script,style,head,html,body,title,meta,param"),s.getBlockElements()),gr=/^[ \t\r\n]+/,Qr=/[ \t\r\n]+$/;let zn=bn.firstChild,Bn=null;const tr=eo=>{var po,ls;eo&&(zn=eo.firstChild,zn&&zn.type===3&&(zn.value=(po=zn.value)===null||po===void 0?void 0:po.replace(gr,"")),zn=eo.lastChild,zn&&zn.type===3&&(zn.value=(ls=zn.value)===null||ls===void 0?void 0:ls.replace(Qr,"")))};if(s.isValidChild(bn.name,$n.toLowerCase())){for(;zn;){const eo=zn.next;kt(rr,zn)?(Bn||(Bn=new mu($n,1),Bn.attr(x.forced_root_block_attrs),bn.insert(Bn,zn)),Bn.append(zn)):(tr(Bn),Bn=null),zn=eo}tr(Bn)}},xn={schema:s,addAttributeFilter:qe,getAttributeFilters:ot,removeAttributeFilter:Et,addNodeFilter:ge,getNodeFilters:Re,removeNodeFilter:Ge,parse:(bn,$n={})=>{var rr;const gr=x.validate,Qr=(rr=$n.context)!==null&&rr!==void 0?rr:x.root_name,zn=J(bn,Qr,$n.format);_y(s,zn);const Bn=new mu(Qr,11);lC(Bn,zn,s.getSpecialElements(),Z.sanitizeNamespaceElement),zn.innerHTML="";const[tr,eo]=DX(Bn,s,x,$n),po=[],ls=gr?mi=>Vt(mi,po):ie,bs={nodes:{},attributes:{}},ma=mi=>iR(Re(),ot(),mi,bs);if(pu(Bn,[tr,ma],[eo,ls]),po.reverse(),gr&&po.length>0)if($n.context){const{pass:mi,fail:hc}=te(po,ga=>ga.parent===Bn);i5(hc,s,Bn,ma),$n.invalid=mi.length>0}else i5(po,s,Bn,ma);const $s=M5(x,$n);return $s&&(Bn.name==="body"||$n.isRootContent)&&It(Bn,$s),$n.invalid||lR(bs,$n),Bn}};return RI(xn,x),zR(xn,x,s),xn},tN=n=>f5(n)?c1({validate:!1}).serialize(n):n,df=(n,s,l)=>{const m=tN(n),x=s(m);if(x.isDefaultPrevented())return x;if(f5(n))if(x.content!==m){const P=Uh({validate:!1,forced_root_block:!1,...l}).parse(x.content,{context:n.name});return{...x,content:P}}else return{...x,content:n};else return x},m1=(n,s)=>{if(s.no_events)return lu.value(s);{const l=u_(n,s);return l.isDefaultPrevented()?lu.error(Ss(n,{content:"",...l}).content):lu.value(l)}},r8=(n,s,l)=>l.no_events?s:df(s,x=>Ss(n,{...l,content:x}),{sanitize:Q0(n),sandbox_iframes:Ax(n)}).content,o8=(n,s)=>{if(s.no_events)return lu.value(s);{const l=df(s.content,m=>x9(n,{...s,content:m}),{sanitize:Q0(n),sandbox_iframes:Ax(n)});return l.isDefaultPrevented()?(TA(n,l),lu.error(void 0)):lu.value(l)}},E5=(n,s,l)=>{l.no_events||TA(n,{...l,content:s})},s8=(n,s,l)=>({element:n,width:s,rows:l}),a8=(n,s)=>({element:n,cells:s}),cC=(n,s)=>({x:n,y:s}),_5=(n,s)=>xc(n,s).bind(Ft).getOr(1),$X=(n,s,l,m,x)=>{const P=_5(x,"rowspan"),Z=_5(x,"colspan"),J=n.rows;for(let ge=l;ge<l+P;ge++){J[ge]||(J[ge]=a8(ux(m),[]));for(let Re=s;Re<s+Z;Re++){const Ge=J[ge].cells;Ge[Re]=ge===l&&Re===s?x:Eu(x)}}},nN=(n,s,l)=>{const m=n.rows;return!!(m[l]?m[l].cells:[])[s]},LX=(n,s,l)=>{for(;nN(n,s,l);)s++;return s},R5=n=>oe(n,(s,l)=>l.cells.length>s?l.cells.length:s,0),D5=(n,s)=>{const l=n.rows;for(let m=0;m<l.length;m++){const x=l[m].cells;for(let P=0;P<x.length;P++)if(Gs(x[P],s))return Y.some(cC(P,m))}return Y.none()},rN=(n,s,l,m,x)=>{const P=[],Z=n.rows;for(let J=l;J<=x;J++){const ge=Z[J].cells,Re=s<m?ge.slice(s,m+1):ge.slice(m,s+1);P.push(a8(Z[J].element,Re))}return P},IX=(n,s,l)=>{const m=s.x,x=s.y,P=l.x,Z=l.y,J=x<Z?rN(n,m,x,P,Z):rN(n,m,Z,P,x);return s8(n.element,R5(J),J)},ip=(n,s)=>{const l=Eu(n.element),m=Yt.fromTag("tbody");return Ta(m,s),Ci(l,m),l},i8=n=>Ie(n.rows,s=>{const l=Ie(s.cells,x=>{const P=ux(x);return ui(P,"colspan"),ui(P,"rowspan"),P}),m=Eu(s.element);return Ta(m,l),m}),NX=n=>{const s=s8(Eu(n),0,[]);return re(al(n,"tr"),(l,m)=>{re(al(l,"td,th"),(x,P)=>{$X(s,LX(s,P,m),m,l,x)})}),s8(s.element,R5(s.rows),s.rows)},$5=n=>ip(n,i8(n)),l8=(n,s,l)=>D5(n,s).bind(m=>D5(n,l).map(x=>IX(n,m,x))),oN=n=>ce(n,s=>Vs(s)==="ul"||Vs(s)==="ol"),sN=(n,s)=>ce(n,l=>Vs(l)==="li"&&fT(l,s)).fold(ae([]),l=>oN(n).map(m=>{const x=Yt.fromTag(Vs(m)),P=wn(Sy(m),(Z,J)=>Sr(J,"list-style"));return sc(x,P),[Yt.fromTag("li"),x]}).getOr([])),aN=(n,s)=>{const l=oe(s,(m,x)=>(Ci(x,m),x),n);return s.length>0?MT([l]):l},BX=n=>rd(n)?ou(n).filter(kc).fold(ae([]),s=>[n,s]):kc(n)?[n]:[],QX=(n,s,l)=>{const m=Yt.fromDom(s.commonAncestorContainer),x=Jg(m,n),P=se(x,ge=>l.isWrapper(Vs(ge))),Z=sN(x,s),J=P.concat(Z.length?Z:BX(m));return Ie(J,Eu)},iN=()=>MT([]),FX=(n,s,l)=>aN(Yt.fromDom(s.cloneContents()),QX(n,s,l)),VX=(n,s)=>Sg(s,"table",ee(Gs,n)),lN=(n,s)=>VX(n,s[0]).bind(l=>{const m=s[0],x=s[s.length-1],P=NX(l);return l8(P,m,x).map(Z=>MT([$5(Z)]))}).getOrThunk(iN),zX=(n,s,l)=>s.length>0&&s[0].collapsed?iN():FX(n,s[0],l),ZX=(n,s,l)=>{const m=e_(s,n);return m.length>0?lN(n,m):zX(n,s,l)},L5=(n,s)=>s>=0&&s<n.length&&q0(n.charAt(s)),c8=n=>Pe(n.innerText),u8=n=>n.map(s=>s.nodeName).getOr("div").toLowerCase(),f8=n=>Y.from(n.selection.getRng()).map(s=>{var l;const m=Y.from(n.dom.getParent(s.commonAncestorContainer,n.dom.isBlock)),x=n.getBody(),P=u8(m),Z=Yt.fromDom(s.cloneContents());Jo(Z),$_(Z);const J=n.dom.add(x,P,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},Z.dom),ge=c8(J),Re=Pe((l=J.textContent)!==null&&l!==void 0?l:"");if(n.dom.remove(J),L5(Re,0)||L5(Re,Re.length-1)){const Ge=m.getOr(x),qe=c8(Ge),ot=qe.indexOf(ge);if(ot===-1)return ge;{const Et=L5(qe,ot-1),Vt=L5(qe,ot+ge.length);return(Et?" ":"")+ge+(Vt?" ":"")}}else return ge}).getOr(""),cN=(n,s)=>{const l=n.selection.getRng(),m=n.dom.create("body"),x=n.selection.getSel(),P=D_(n,Nx(x)),Z=s.contextual?ZX(Yt.fromDom(n.getBody()),P,n.schema).dom:l.cloneContents();return Z&&m.appendChild(Z),n.selection.serializer.serialize(m,s)},d8=(n,s)=>{if(s.format==="text")return f8(n);{const l=cN(n,s);return s.format==="tree"?l:n.selection.isCollapsed()?"":l}},uN=(n,s)=>({...n,format:s,get:!0,selection:!0,getInner:!0}),fN=(n,s,l={})=>{const m=uN(l,s);return m1(n,m).fold(q,x=>{const P=d8(n,x);return r8(n,P,x)})},uC=0,h8=1,m8=2,dN=(n,s)=>{const l=n.length+s.length+2,m=new Array(l),x=new Array(l),P=(Ge,qe,ot)=>({start:Ge,end:qe,diag:ot}),Z=(Ge,qe,ot,Et,Vt)=>{const kt=ge(Ge,qe,ot,Et);if(kt===null||kt.start===qe&&kt.diag===qe-Et||kt.end===Ge&&kt.diag===Ge-ot){let It=Ge,cn=ot;for(;It<qe||cn<Et;)It<qe&&cn<Et&&n[It]===s[cn]?(Vt.push([uC,n[It]]),++It,++cn):qe-Ge>Et-ot?(Vt.push([m8,n[It]]),++It):(Vt.push([h8,s[cn]]),++cn)}else{Z(Ge,kt.start,ot,kt.start-kt.diag,Vt);for(let It=kt.start;It<kt.end;++It)Vt.push([uC,n[It]]);Z(kt.end,qe,kt.end-kt.diag,Et,Vt)}},J=(Ge,qe,ot,Et)=>{let Vt=Ge;for(;Vt-qe<Et&&Vt<ot&&n[Vt]===s[Vt-qe];)++Vt;return P(Ge,Vt,qe)},ge=(Ge,qe,ot,Et)=>{const Vt=qe-Ge,kt=Et-ot;if(Vt===0||kt===0)return null;const It=Vt-kt,cn=kt+Vt,xn=(cn%2===0?cn:cn+1)/2;m[1+xn]=Ge,x[1+xn]=qe+1;let bn,$n,rr,gr,Qr;for(bn=0;bn<=xn;++bn){for($n=-bn;$n<=bn;$n+=2){for(rr=$n+xn,$n===-bn||$n!==bn&&m[rr-1]<m[rr+1]?m[rr]=m[rr+1]:m[rr]=m[rr-1]+1,gr=m[rr],Qr=gr-Ge+ot-$n;gr<qe&&Qr<Et&&n[gr]===s[Qr];)m[rr]=++gr,++Qr;if(It%2!==0&&It-bn<=$n&&$n<=It+bn&&x[rr-It]<=m[rr])return J(x[rr-It],$n+Ge-ot,qe,Et)}for($n=It-bn;$n<=It+bn;$n+=2){for(rr=$n+xn-It,$n===It-bn||$n!==It+bn&&x[rr+1]<=x[rr-1]?x[rr]=x[rr+1]-1:x[rr]=x[rr-1],gr=x[rr]-1,Qr=gr-Ge+ot-$n;gr>=Ge&&Qr>=ot&&n[gr]===s[Qr];)x[rr]=gr--,Qr--;if(It%2===0&&-bn<=$n&&$n<=bn&&x[rr]<=m[rr+It])return J(x[rr],$n+Ge-ot,qe,Et)}}return null},Re=[];return Z(0,n.length,0,s.length,Re),Re},g8=n=>Xr(n)?n.outerHTML:lr(n)?Eg.encodeRaw(n.data,!1):ed(n)?"<!--"+n.data+"-->":"",p8=n=>{let s;const l=document.createElement("div"),m=document.createDocumentFragment();for(n&&(l.innerHTML=n);s=l.firstChild;)m.appendChild(s);return m},HX=(n,s,l)=>{const m=p8(s);if(n.hasChildNodes()&&l<n.childNodes.length){const x=n.childNodes[l];n.insertBefore(m,x)}else n.appendChild(m)},I5=(n,s)=>{if(n.hasChildNodes()&&s<n.childNodes.length){const l=n.childNodes[s];n.removeChild(l)}},UX=(n,s)=>{let l=0;re(n,m=>{m[0]===uC?l++:m[0]===h8?(HX(s,m[1],l),l++):m[0]===m8&&I5(s,l)})},WX=(n,s)=>se(Ie(tt(n.childNodes),s?L(Pe,g8):g8),l=>l.length>0),YX=(n,s)=>{const l=Ie(tt(s.childNodes),g8);return UX(dN(l,n),s),s},hN=Rt(()=>document.implementation.createHTMLDocument("undo")),mN=n=>n.querySelector("iframe")!==null,XX=n=>({type:"fragmented",fragments:n,content:"",bookmark:null,beforeBookmark:null}),GX=n=>({type:"complete",fragments:null,content:n,bookmark:null,beforeBookmark:null}),N5=n=>{const s=n.serializer.getTempAttrs(),l=Y9(n.getBody(),s);return mN(l)?XX(WX(l,!0)):GX(Pe(l.innerHTML))},v8=(n,s,l)=>{const m=l?s.beforeBookmark:s.bookmark;s.type==="fragmented"?YX(s.fragments,n.getBody()):n.setContent(s.content,{format:"raw",no_selection:B(m)&&lA(m)?!m.isFakeCaret:!0}),m&&(n.selection.moveToBookmark(m),n.selection.scrollIntoView())},y8=n=>n.type==="fragmented"?n.fragments.join(""):n.content,b8=n=>{const s=Yt.fromTag("body",hN());return Om(s,y8(n)),re(al(s,"*[data-mce-bogus]"),Rf),hs(s)},ice=(n,s)=>y8(n)===y8(s),jX=(n,s)=>b8(n)===b8(s),O8=(n,s)=>!n||!s?!1:ice(n,s)?!0:jX(n,s),x8=n=>n.get()===0,B5=(n,s,l)=>{x8(l)&&(n.typing=s)},gN=(n,s)=>{n.typing&&(B5(n,!1,s),n.add())},qX=n=>{n.typing&&(n.typing=!1,n.add())},KX=(n,s,l)=>{x8(s)&&l.set(R0(n.selection))},pN=(n,s,l,m,x,P,Z)=>{const J=N5(n),ge=fr.extend(P||{},J);if(!x8(m)||n.removed)return null;const Re=s.data[l.get()];if(n.dispatch("BeforeAddUndo",{level:ge,lastLevel:Re,originalEvent:Z}).isDefaultPrevented()||Re&&O8(Re,ge))return null;s.data[l.get()]&&x.get().each(ot=>{s.data[l.get()].beforeBookmark=ot});const Ge=Ky(n);if(Ge&&s.data.length>Ge){for(let ot=0;ot<s.data.length-1;ot++)s.data[ot]=s.data[ot+1];s.data.length--,l.set(s.data.length)}ge.bookmark=R0(n.selection),l.get()<s.data.length-1&&(s.data.length=l.get()+1),s.data.push(ge),l.set(s.data.length-1);const qe={level:ge,lastLevel:Re,originalEvent:Z};return l.get()>0?(n.setDirty(!0),n.dispatch("AddUndo",qe),n.dispatch("change",qe)):n.dispatch("AddUndo",qe),ge},JX=(n,s,l)=>{s.data=[],l.set(0),s.typing=!1,n.dispatch("ClearUndos")},eG=(n,s,l,m,x)=>{if(s.transact(m)){const P=s.data[l.get()].bookmark,Z=s.data[l.get()-1];v8(n,Z,!0),s.transact(x)&&(s.data[l.get()-1].beforeBookmark=P)}},tG=(n,s,l)=>{let m;return s.get()<l.length-1&&(s.set(s.get()+1),m=l[s.get()],v8(n,m,!1),n.setDirty(!0),n.dispatch("Redo",{level:m})),m},nG=(n,s,l,m)=>{let x;return s.typing&&(s.add(),s.typing=!1,B5(s,!1,l)),m.get()>0&&(m.set(m.get()-1),x=s.data[m.get()],v8(n,x,!0),n.setDirty(!0),n.dispatch("Undo",{level:x})),x},rG=n=>{n.clear(),n.add()},lce=(n,s,l)=>l.get()>0||s.typing&&s.data[0]&&!O8(N5(n),s.data[0]),cce=(n,s)=>s.get()<n.data.length-1&&!n.typing,oG=(n,s,l)=>(gN(n,s),n.beforeChange(),n.ignore(l),n.add()),sG=(n,s)=>{try{n.set(n.get()+1),s()}finally{n.set(n.get()-1)}},uce=(n,s)=>{const l=n.dom,m=B(s)?s:n.getBody();re(l.select("table,a",m),x=>{switch(x.nodeName){case"TABLE":const P=kE(n),Z=l.getAttrib(x,"border");(!Z||Z==="0")&&n.hasVisual?l.addClass(x,P):l.removeClass(x,P);break;case"A":if(!l.getAttrib(x,"href")){const J=l.getAttrib(x,"name")||x.id,ge=Zk(n);J&&n.hasVisual?l.addClass(x,ge):l.removeClass(x,ge)}break}}),n.dispatch("VisualAid",{element:s,hasVisual:n.hasVisual})},vN=n=>({init:{bindEvents:ie},undoManager:{beforeChange:(s,l)=>KX(n,s,l),add:(s,l,m,x,P,Z)=>pN(n,s,l,m,x,P,Z),undo:(s,l,m)=>nG(n,s,l,m),redo:(s,l)=>tG(n,s,l),clear:(s,l)=>JX(n,s,l),reset:s=>rG(s),hasUndo:(s,l)=>lce(n,s,l),hasRedo:(s,l)=>cce(s,l),transact:(s,l,m)=>oG(s,l,m),ignore:(s,l)=>sG(s,l),extra:(s,l,m,x)=>eG(n,s,l,m,x)},formatter:{match:(s,l,m,x)=>d5(n,s,l,m,x),matchAll:(s,l)=>UY(n,s,l),matchNode:(s,l,m,x)=>tp(n,s,l,m,x),canApply:s=>KL(n,s),closest:s=>Bb(n,s),apply:(s,l,m)=>xI(n,s,l,m),remove:(s,l,m,x)=>vI(n,s,l,m,x),toggle:(s,l,m)=>uX(n,s,l,m),formatChanged:(s,l,m,x,P)=>cX(n,s,l,m,x,P)},editor:{getContent:s=>Jle(n,s),setContent:(s,l)=>GL(n,s,l),insertContent:(s,l)=>XL(n,s,l),addVisual:s=>uce(n,s)},selection:{getContent:(s,l)=>fN(n,s,l)},autocompleter:{addDecoration:s=>DW(n,s),removeDecoration:()=>LW(n,Yt.fromDom(n.getBody()))},raw:{getModel:()=>Y.none()}}),Mi=n=>{const s=Re=>I(Re)?Re:{},{init:l,undoManager:m,formatter:x,editor:P,selection:Z,autocompleter:J,raw:ge}=n;return{init:{bindEvents:l.bindEvents},undoManager:{beforeChange:m.beforeChange,add:m.add,undo:m.undo,redo:m.redo,clear:m.clear,reset:m.reset,hasUndo:m.hasUndo,hasRedo:m.hasRedo,transact:(Re,Ge,qe)=>m.transact(qe),ignore:(Re,Ge)=>m.ignore(Ge),extra:(Re,Ge,qe,ot)=>m.extra(qe,ot)},formatter:{match:(Re,Ge,qe,ot)=>x.match(Re,s(Ge),ot),matchAll:x.matchAll,matchNode:x.matchNode,canApply:Re=>x.canApply(Re),closest:Re=>x.closest(Re),apply:(Re,Ge,qe)=>x.apply(Re,s(Ge)),remove:(Re,Ge,qe,ot)=>x.remove(Re,s(Ge)),toggle:(Re,Ge,qe)=>x.toggle(Re,s(Ge)),formatChanged:(Re,Ge,qe,ot,Et)=>x.formatChanged(Ge,qe,ot,Et)},editor:{getContent:Re=>P.getContent(Re),setContent:(Re,Ge)=>({content:P.setContent(Re,Ge),html:""}),insertContent:(Re,Ge)=>(P.insertContent(Re),""),addVisual:P.addVisual},selection:{getContent:(Re,Ge)=>Z.getContent(Ge)},autocompleter:{addDecoration:J.addDecoration,removeDecoration:J.removeDecoration},raw:{getModel:()=>Y.some(ge.getRawModel())}}},S8=()=>{const n=ae(null),s=ae("");return{init:{bindEvents:ie},undoManager:{beforeChange:ie,add:n,undo:n,redo:n,clear:ie,reset:ie,hasUndo:ne,hasRedo:ne,transact:n,ignore:ie,extra:ie},formatter:{match:ne,matchAll:ae([]),matchNode:ae(void 0),canApply:ne,closest:s,apply:ie,remove:ie,toggle:ie,formatChanged:ae({unbind:ie})},editor:{getContent:s,setContent:ae({content:"",html:""}),insertContent:ae(""),addVisual:ie},selection:{getContent:s},autocompleter:{addDecoration:ie,removeDecoration:ie},raw:{getModel:ae(Y.none())}}},Pv=n=>lt(n.plugins,"rtc"),aG=n=>Sn(n.plugins,"rtc").bind(s=>Y.from(s.setup)),iG=n=>{const s=n;return aG(n).fold(()=>(s.rtcInstance=vN(n),Y.none()),l=>(s.rtcInstance=S8(),Y.some(()=>l().then(m=>(s.rtcInstance=Mi(m),m.rtc.isRemote)))))},g1=n=>n.rtcInstance?n.rtcInstance:vN(n),Ol=n=>{const s=n.rtcInstance;if(s)return s;throw new Error("Failed to get RTC instance not yet initialized.")},fce=(n,s,l)=>{Ol(n).undoManager.beforeChange(s,l)},Ic=(n,s,l,m,x,P,Z)=>Ol(n).undoManager.add(s,l,m,x,P,Z),yN=(n,s,l,m)=>Ol(n).undoManager.undo(s,l,m),bN=(n,s,l)=>Ol(n).undoManager.redo(s,l),ON=(n,s,l)=>{Ol(n).undoManager.clear(s,l)},lG=(n,s)=>{Ol(n).undoManager.reset(s)},cG=(n,s,l)=>Ol(n).undoManager.hasUndo(s,l),Q5=(n,s,l)=>Ol(n).undoManager.hasRedo(s,l),uG=(n,s,l,m)=>Ol(n).undoManager.transact(s,l,m),w8=(n,s,l)=>{Ol(n).undoManager.ignore(s,l)},fG=(n,s,l,m,x)=>{Ol(n).undoManager.extra(s,l,m,x)},xN=(n,s,l,m,x)=>Ol(n).formatter.match(s,l,m,x),SN=(n,s,l)=>Ol(n).formatter.matchAll(s,l),T8=(n,s,l,m,x)=>Ol(n).formatter.matchNode(s,l,m,x),wN=(n,s)=>Ol(n).formatter.canApply(s),C8=(n,s)=>Ol(n).formatter.closest(s),dG=(n,s,l,m)=>{Ol(n).formatter.apply(s,l,m)},hG=(n,s,l,m,x)=>{Ol(n).formatter.remove(s,l,m,x)},mG=(n,s,l,m)=>{Ol(n).formatter.toggle(s,l,m)},th=(n,s,l,m,x,P)=>Ol(n).formatter.formatChanged(s,l,m,x,P),gG=(n,s)=>g1(n).editor.getContent(s),pG=(n,s,l)=>g1(n).editor.setContent(s,l),vG=(n,s,l)=>g1(n).editor.insertContent(s,l),yG=(n,s,l)=>Ol(n).selection.getContent(s,l),bG=(n,s)=>Ol(n).editor.addVisual(s),k8=n=>Ol(n).init.bindEvents(),OG=(n,s)=>Ol(n).autocompleter.addDecoration(s),xG=n=>Ol(n).autocompleter.removeDecoration(),SG=(n,s={})=>{const l=s.format?s.format:"html";return yG(n,l,s)},fC=n=>n.dom.length===0?(Ks(n),Y.none()):Y.some(n),wG=(n,s)=>n.filter(l=>vv.isBookmarkNode(l.dom)).bind(s?Up:Wu),TG=(n,s,l,m,x)=>{const P=n.dom,Z=s.dom,J=m?P.length:Z.length;m?(Ll(P,Z,x,!1,!m),l.setStart(Z,J)):(Ll(Z,P,x,!1,!m),l.setEnd(Z,J))},TN=(n,s,l)=>{ou(n).each(m=>{const x=n.dom;s&&r2(m,Nn(x,0),l)?Db(x,0,l):!s&&o2(m,Nn(x,x.length),l)&&pL(x,x.length,l)})},F5=(n,s,l,m,x)=>{n.bind(P=>((m?pL:Db)(P.dom,m?P.dom.length:0,x),s.filter(Zi).map(J=>TG(P,J,l,m,x)))).orThunk(()=>wG(s,m).or(s).filter(Zi).map(Z=>TN(Z,m,x)))},CG=(n,s,l)=>{const m=Y.from(s.firstChild).map(Yt.fromDom),x=Y.from(s.lastChild).map(Yt.fromDom);n.deleteContents(),n.insertNode(s);const P=m.bind(Wu).filter(Zi).bind(fC),Z=x.bind(Up).filter(Zi).bind(fC);F5(P,m,n,!0,l),F5(Z,x,n,!1,l),n.collapse(!1)},kG=(n,s)=>({format:"html",...n,set:!0,selection:!0,content:s}),dce=(n,s)=>{if(s.format!=="raw"){const l=n.selection.getRng(),m=n.dom.getParent(l.commonAncestorContainer,n.dom.isBlock),x=m?{context:m.nodeName.toLowerCase()}:{},P=n.parser.parse(s.content,{forced_root_block:!1,...x,...s});return c1({validate:!1},n.schema).serialize(P)}else return s.content},AG=(n,s,l={})=>{const m=kG(l,s);o8(n,m).each(x=>{const P=dce(n,x),Z=n.selection.getRng();CG(Z,Z.createContextualFragment(P),n.schema),n.selection.setRng(Z),Mb(n,Z),E5(n,P,x)})},CN=(n,s,l)=>{if(lt(n,s)){const m=se(n[s],x=>x!==l);m.length===0?delete n[s]:n[s]=m}};var kN=(n,s)=>{let l,m;const x=(J,ge)=>ce(ge,Re=>n.is(Re,J)),P=J=>n.getParents(J,void 0,n.getRoot()),Z=()=>{l={},m={},s.on("NodeChange",J=>{const ge=J.element,Re=P(ge),Ge={};Bt(l,(qe,ot)=>{x(ot,Re).each(Et=>{m[ot]||(re(qe,Vt=>{Vt(!0,{node:Et,selector:ot,parents:Re})}),m[ot]=qe),Ge[ot]=qe})}),Bt(m,(qe,ot)=>{Ge[ot]||(delete m[ot],re(qe,Et=>{Et(!1,{node:ge,selector:ot,parents:Re})}))})})};return{selectorChangedWithUnbind:(J,ge)=>(l||Z(),l[J]||(l[J]=[]),l[J].push(ge),x(J,P(s.selection.getStart())).each(()=>{m[J]=l[J]}),{unbind:()=>{CN(l,J,ge),CN(m,J,ge)}})}};const A8=n=>!!(n&&n.ownerDocument)&&oc(Yt.fromDom(n.ownerDocument),Yt.fromDom(n)),PG=n=>n?A8(n.startContainer)&&A8(n.endContainer):!1,p1=(n,s,l,m)=>{let x,P;const{selectorChangedWithUnbind:Z}=kN(n,m),J=(Cr,co)=>{const Zs=n.createRng();B(Cr)&&B(co)?(Zs.setStart(Cr,co),Zs.setEnd(Cr,co),$n(Zs),cn(!1)):(dT(n,Zs,m.getBody(),!0),$n(Zs))},ge=Cr=>SG(m,Cr),Re=(Cr,co)=>AG(m,Cr,co),Ge=Cr=>__(m.getBody(),bn(),Cr),qe=Cr=>N9(m.getBody(),bn(),Cr),ot=(Cr,co)=>hc.getBookmark(Cr,co),Et=Cr=>hc.moveToBookmark(Cr),Vt=(Cr,co)=>(CW(n,Cr,co).each($n),Cr),kt=()=>{const Cr=bn(),co=xn();return!Cr||Cr.item?!1:Cr.compareEndPoints?Cr.compareEndPoints("StartToEnd",Cr)===0:!co||Cr.collapsed},It=()=>{const Cr=bn(),co=m.getBody().querySelectorAll('[data-mce-selected="1"]');return co.length>0?Xe(co,Zs=>n.isEditable(Zs.parentElement)):L9(n,Cr)},cn=Cr=>{const co=bn();co.collapse(!!Cr),$n(co)},xn=()=>s.getSelection?s.getSelection():s.document.selection,bn=()=>{let Cr;const co=(ws,oo,Lo)=>{try{return oo.compareBoundaryPoints(ws,Lo)}catch{return-1}},Zs=s.document;if(B(m.bookmark)&&!l1(m)){const ws=A_(m);if(ws.isSome())return ws.map(oo=>D_(m,[oo])[0]).getOr(Zs.createRange())}try{const ws=xn();ws&&!ju(ws.anchorNode)&&(ws.rangeCount>0?Cr=ws.getRangeAt(0):Cr=Zs.createRange(),Cr=D_(m,[Cr])[0])}catch{}if(Cr||(Cr=Zs.createRange()),kg(Cr.startContainer)&&Cr.collapsed){const ws=n.getRoot();Cr.setStart(ws,0),Cr.setEnd(ws,0)}return x&&P&&(co(Cr.START_TO_START,Cr,x)===0&&co(Cr.END_TO_END,Cr,x)===0?Cr=P:(x=null,P=null)),Cr},$n=(Cr,co)=>{if(!PG(Cr))return;const Zs=xn();if(Cr=m.dispatch("SetSelectionRange",{range:Cr,forward:co}).range,Zs){P=Cr;try{Zs.removeAllRanges(),Zs.addRange(Cr)}catch{}co===!1&&Zs.extend&&(Zs.collapse(Cr.endContainer,Cr.endOffset),Zs.extend(Cr.startContainer,Cr.startOffset)),x=Zs.rangeCount>0?Zs.getRangeAt(0):null}if(!Cr.collapsed&&Cr.startContainer===Cr.endContainer&&(Zs!=null&&Zs.setBaseAndExtent)&&Cr.endOffset-Cr.startOffset<2&&Cr.startContainer.hasChildNodes()){const oo=Cr.startContainer.childNodes[Cr.startOffset];oo&&oo.nodeName==="IMG"&&(Zs.setBaseAndExtent(Cr.startContainer,Cr.startOffset,Cr.endContainer,Cr.endOffset),(Zs.anchorNode!==Cr.startContainer||Zs.focusNode!==Cr.endContainer)&&Zs.setBaseAndExtent(oo,0,oo,1))}m.dispatch("AfterSetSelectionRange",{range:Cr,forward:co})},rr=Cr=>(Re(n.getOuterHTML(Cr)),Cr),gr=()=>B9(m.getBody(),bn()),Qr=(Cr,co)=>TW(n,bn(),Cr,co),zn=()=>{const Cr=xn(),co=Cr==null?void 0:Cr.anchorNode,Zs=Cr==null?void 0:Cr.focusNode;if(!Cr||!co||!Zs||ju(co)||ju(Zs))return!0;const ws=n.createRng(),oo=n.createRng();try{ws.setStart(co,Cr.anchorOffset),ws.collapse(!0),oo.setStart(Zs,Cr.focusOffset),oo.collapse(!0)}catch{return!0}return ws.compareBoundaryPoints(ws.START_TO_START,oo)<=0},mi={dom:n,win:s,serializer:l,editor:m,expand:(Cr={type:"word"})=>$n(Ot(n).expand(bn(),Cr)),collapse:cn,setCursorLocation:J,getContent:ge,setContent:Re,getBookmark:ot,moveToBookmark:Et,select:Vt,isCollapsed:kt,isEditable:It,isForward:zn,setNode:rr,getNode:gr,getSel:xn,setRng:$n,getRng:bn,getStart:Ge,getEnd:qe,getSelectedBlocks:Qr,normalize:()=>{const Cr=bn(),co=xn();if(!pv(co)&&Qx(m)){const Zs=Me(n,Cr);return Zs.each(ws=>{$n(ws,zn())}),Zs.getOr(Cr)}return Cr},selectorChanged:(Cr,co)=>(Z(Cr,co),mi),selectorChangedWithUnbind:Z,getScrollContainer:()=>{let Cr,co=n.getRoot();for(;co&&co.nodeName!=="BODY";){if(co.scrollHeight>co.clientHeight){Cr=co;break}co=co.parentNode}return Cr},scrollIntoView:(Cr,co)=>{B(Cr)?dc(m,Cr,co):Mb(m,bn(),co)},placeCaretAt:(Cr,co)=>$n(uf(Cr,co,m.getDoc())),getBoundingClientRect:()=>{const Cr=bn();return Cr.collapsed?Nn.fromRangeStart(Cr).getClientRects()[0]:Cr.getBoundingClientRect()},destroy:()=>{s=x=P=null,ga.destroy()}},hc=vv(mi),ga=w9(mi,m);return mi.bookmarkManager=hc,mi.controlSelection=ga,mi},w2=(n,s,l)=>{n.addAttributeFilter("data-mce-tabindex",(m,x)=>{let P=m.length;for(;P--;){const Z=m[P];Z.attr("tabindex",Z.attr("data-mce-tabindex")),Z.attr(x,null)}}),n.addAttributeFilter("src,href,style",(m,x)=>{const P="data-mce-"+x,Z=s.url_converter,J=s.url_converter_scope;let ge=m.length;for(;ge--;){const Re=m[ge];let Ge=Re.attr(P);Ge!==void 0?(Re.attr(x,Ge.length>0?Ge:null),Re.attr(P,null)):(Ge=Re.attr(x),x==="style"?Ge=l.serializeStyle(l.parseStyle(Ge),Re.name):Z&&(Ge=Z.call(J,Ge,x,Re.name)),Re.attr(x,Ge.length>0?Ge:null))}}),n.addAttributeFilter("class",m=>{let x=m.length;for(;x--;){const P=m[x];let Z=P.attr("class");Z&&(Z=Z.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),P.attr("class",Z.length>0?Z:null))}}),n.addAttributeFilter("data-mce-type",(m,x,P)=>{let Z=m.length;for(;Z--;){const J=m[Z];J.attr("data-mce-type")==="bookmark"&&!P.cleanup&&(Y.from(J.firstChild).exists(Re=>{var Ge;return!Te((Ge=Re.value)!==null&&Ge!==void 0?Ge:"")})?J.unwrap():J.remove())}}),n.addNodeFilter("noscript",m=>{var x;let P=m.length;for(;P--;){const Z=m[P].firstChild;Z&&(Z.value=Eg.decode((x=Z.value)!==null&&x!==void 0?x:""))}}),n.addNodeFilter("script,style",(m,x)=>{var P;const Z=ge=>ge.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let J=m.length;for(;J--;){const ge=m[J],Re=ge.firstChild,Ge=(P=Re==null?void 0:Re.value)!==null&&P!==void 0?P:"";if(x==="script"){const qe=ge.attr("type");qe&&ge.attr("type",qe==="mce-no/type"?null:qe.replace(/^mce\-/,"")),s.element_format==="xhtml"&&Re&&Ge.length>0&&(Re.value=`// <![CDATA[
`+Z(Ge)+`
// ]]>`)}else s.element_format==="xhtml"&&Re&&Ge.length>0&&(Re.value=`<!--
`+Z(Ge)+`
-->`)}}),n.addNodeFilter("#comment",m=>{let x=m.length;for(;x--;){const P=m[x],Z=P.value;s.preserve_cdata&&(Z==null?void 0:Z.indexOf("[CDATA["))===0?(P.name="#cdata",P.type=4,P.value=l.decode(Z.replace(/^\[CDATA\[|\]\]$/g,""))):(Z==null?void 0:Z.indexOf("mce:protected "))===0&&(P.name="#text",P.type=3,P.raw=!0,P.value=unescape(Z).substr(14))}}),n.addNodeFilter("xml:namespace,input",(m,x)=>{let P=m.length;for(;P--;){const Z=m[P];Z.type===7?Z.remove():Z.type===1&&x==="input"&&!Z.attr("type")&&Z.attr("type","text")}}),n.addAttributeFilter("data-mce-type",m=>{re(m,x=>{x.attr("data-mce-type")==="format-caret"&&(x.isEmpty(n.schema.getNonEmptyElements())?x.remove():x.unwrap())})}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(m,x)=>{let P=m.length;for(;P--;)m[P].attr(x,null)}),s.remove_trailing_brs&&ZR(s,n,n.schema)},dC=n=>{const s=m=>(m==null?void 0:m.name)==="br",l=n.lastChild;if(s(l)){const m=l.prev;s(m)&&(l.remove(),m.remove())}},AN=(n,s,l)=>{let m;const x=n.dom;let P=s.cloneNode(!0);const Z=document.implementation;if(Z.createHTMLDocument){const J=Z.createHTMLDocument("");fr.each(P.nodeName==="BODY"?P.childNodes:[P],ge=>{J.body.appendChild(J.importNode(ge,!0))}),P.nodeName!=="BODY"?P=J.body.firstChild:P=J.body,m=x.doc,x.doc=J}return xT(n,{...l,node:P}),m&&(x.doc=m),P},PN=(n,s)=>B(n)&&n.hasEventListeners("PreProcess")&&!s.no_events,MG=(n,s,l)=>PN(n,l)?AN(n,s,l):s,MN=(n,s,l)=>{fr.inArray(s,l)===-1&&(n.addAttributeFilter(l,(m,x)=>{let P=m.length;for(;P--;)m[P].attr(x,null)}),s.push(l))},EG=(n,s,l)=>!s.no_events&&n?i_(n,{...s,content:l}).content:l,_G=(n,s,l)=>{const m=Pe(l.getInner?s.innerHTML:n.getOuterHTML(s));return l.selection||Wi(Yt.fromDom(s))?m:fr.trim(m)},RG=(n,s,l)=>{const m=l.selection?{forced_root_block:!1,...l}:l,x=n.parse(s,m);return dC(x),x},DG=(n,s,l)=>c1(n,s).serialize(l),EN=(n,s,l,m,x)=>{const P=DG(s,l,m);return EG(n,x,P)},$G=(n,s)=>{const l=["data-mce-selected"],m={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...n},x=s&&s.dom?s.dom:$a.DOM,P=s&&s.schema?s.schema:Em(m),Z=Uh(m,P);w2(Z,m,x);const J=(ge,Re={})=>{const Ge={format:"html",...Re},qe=MG(s,ge,Ge),ot=_G(x,qe,Ge),Et=RG(Z,ot,Ge);return Ge.format==="tree"?Et:EN(s,m,P,Et,Ge)};return{schema:P,addNodeFilter:Z.addNodeFilter,addAttributeFilter:Z.addAttributeFilter,serialize:J,addRules:P.addValidElements,setRules:P.setValidElements,addTempAttr:ee(MN,Z,l),getTempAttrs:ae(l),getNodeFilters:Z.getNodeFilters,getAttributeFilters:Z.getAttributeFilters,removeNodeFilter:Z.removeNodeFilter,removeAttributeFilter:Z.removeAttributeFilter}},_N=(n,s)=>{const l=$G(n,s);return{schema:l.schema,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:l.serialize,addRules:l.addRules,setRules:l.setRules,addTempAttr:l.addTempAttr,getTempAttrs:l.getTempAttrs,getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters,removeNodeFilter:l.removeNodeFilter,removeAttributeFilter:l.removeAttributeFilter}},hC="html",RN=(n,s)=>({...n,format:s,get:!0,getInner:!0}),DN=(n,s={})=>{const l=s.format?s.format:hC,m=RN(s,l);return m1(n,m).fold(q,x=>{const P=gG(n,x);return r8(n,P,x)})},LG="html",IG=(n,s)=>({format:LG,...n,set:!0,content:s}),P8=(n,s,l={})=>{const m=IG(l,s);return o8(n,m).map(x=>{const P=pG(n,x.content,x);return E5(n,P.html,x),P.content}).getOr(s)},$N="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),NG="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),BG="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),LN=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],IN=(n,s)=>{const l=se(s,m=>lt(n,m));return je(l)},hce=n=>{const s=IN(n,$N),l=n.forced_root_block;return(l===!1||l==="")&&s.push("forced_root_block (false only)"),je(s)},jm=n=>IN(n,NG),V5=(n,s)=>{const l=fr.makeMap(n.plugins," "),x=se(s,P=>lt(l,P));return je(x)},QG=n=>V5(n,BG),FG=n=>V5(n,LN.map(s=>s.name)),VG=(n,s)=>{const l=hce(n),m=QG(s),x=m.length>0,P=l.length>0,Z=s.theme==="mobile";if(x||P||Z){const J=`
- `,ge=Z?`

Themes:${J}mobile`:"",Re=x?`

Plugins:${J}${m.join(J)}`:"",Ge=P?`

Options:${J}${l.join(J)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+ge+Re+Ge)}},zG=n=>ce(LN,s=>s.name===n).fold(()=>n,s=>s.replacedWith?`${n}, replaced by ${s.replacedWith}`:n),la=(n,s)=>{const l=jm(n),m=FG(s),x=m.length>0,P=l.length>0;if(x||P){const Z=`
- `,J=x?`

Plugins:${Z}${m.map(zG).join(Z)}`:"",ge=P?`

Options:${Z}${l.join(Z)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+J+ge)}},mce=(n,s)=>{VG(n,s),la(n,s)},z5=$a.DOM,ZG=n=>{z5.setStyle(n.id,"display",n.orgDisplay)},ja=n=>Y.from(n).each(s=>s.destroy()),HG=n=>{const s=n;s.contentAreaContainer=s.formElement=s.container=s.editorContainer=null,s.bodyElement=s.contentDocument=s.contentWindow=null,s.iframeElement=s.targetElm=null;const l=n.selection;if(l){const m=l.dom;s.selection=l.win=l.dom=m.doc=null}},mC=n=>{const s=n.formElement;s&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,delete s._mceOldSubmit),z5.unbind(s,"submit reset",n.formEventDelegate))},UG=n=>{if(!n.removed){const{_selectionOverrides:s,editorUpload:l}=n,m=n.getBody(),x=n.getElement();m&&n.save({is_removing:!0}),n.removed=!0,n.unbindAllNativeEvents(),n.hasHiddenInput&&B(x==null?void 0:x.nextSibling)&&z5.remove(x.nextSibling),n1(n),n.editorManager.remove(n),!n.inline&&m&&ZG(n),r1(n),z5.remove(n.getContainer()),ja(s),ja(l),n.destroy()}},WG=(n,s)=>{const{selection:l,dom:m}=n;if(!n.destroyed){if(!s&&!n.removed){n.remove();return}s||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),ja(l),ja(m)),mC(n),HG(n),n.destroyed=!0}},gC=(()=>{const n={};return{add:(x,P)=>{n[x]=P},get:x=>n[x]?n[x]:{icons:{}},has:x=>lt(n,x)}})(),nh=Ec.ModelManager,hf=(n,s)=>s.dom[n],T2=(n,s)=>parseInt(wi(s,n),10),v1=ee(hf,"clientWidth"),lp=ee(hf,"clientHeight"),pC=ee(T2,"margin-top"),M8=ee(T2,"margin-left"),E8=n=>n.dom.getBoundingClientRect(),NN=(n,s,l)=>{const m=v1(n),x=lp(n);return s>=0&&l>=0&&s<=m&&l<=x},BN=(n,s,l,m)=>{const x=E8(s),P=n?x.left+s.dom.clientLeft+M8(s):0,Z=n?x.top+s.dom.clientTop+pC(s):0,J=l-P,ge=m-Z;return{x:J,y:ge}},YG=(n,s,l)=>{const m=Yt.fromDom(n.getBody()),x=n.inline?m:my(m),P=BN(n.inline,x,s,l);return NN(x,P.x,P.y)},XG=n=>Y.from(n).map(Yt.fromDom),QN=n=>{const s=n.inline?n.getBody():n.getContentAreaContainer();return XG(s).map(xh).getOr(!1)};var FN=()=>{const n=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:n,close:n,getArgs:n}};const _8=n=>{const s=[],l=()=>{const ot=n.theme;return ot&&ot.getNotificationManagerImpl?ot.getNotificationManagerImpl():FN()},m=()=>Y.from(s[0]),x=(ot,Et)=>ot.type===Et.type&&ot.text===Et.text&&!ot.progressBar&&!ot.timeout&&!Et.progressBar&&!Et.timeout,P=()=>{re(s,ot=>{ot.reposition()})},Z=ot=>{s.push(ot)},J=ot=>{ke(s,Et=>Et===ot).each(Et=>{s.splice(Et,1)})},ge=(ot,Et=!0)=>n.removed||!QN(n)?{}:(Et&&n.dispatch("BeforeOpenNotification",{notification:ot}),ce(s,Vt=>x(l().getArgs(Vt),ot)).getOrThunk(()=>{n.editorManager.setActive(n);const Vt=l().open(ot,()=>{J(Vt),P(),$9(n)&&m().fold(()=>n.focus(),kt=>DA(Yt.fromDom(kt.getEl())))});return Z(Vt),P(),n.dispatch("OpenNotification",{notification:{...Vt}}),Vt})),Re=()=>{m().each(ot=>{l().close(ot),J(ot),P()})},Ge=ae(s);return(ot=>{ot.on("SkinLoaded",()=>{const Et=xE(ot);Et&&ge({text:Et,type:"warning",timeout:0},!1),P()}),ot.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(P)}),ot.on("remove",()=>{re(s.slice(),Et=>{l().close(Et)})})})(n),{open:ge,close:Re,getNotifications:Ge}},zb=Ec.PluginManager,Mv=Ec.ThemeManager;var pce=()=>{const n=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:n,openUrl:n,alert:n,confirm:n,close:n}};const VN=n=>{let s=[];const l=()=>{const kt=n.theme;return kt&&kt.getWindowManagerImpl?kt.getWindowManagerImpl():pce()},m=(kt,It)=>(...cn)=>It?It.apply(kt,cn):void 0,x=kt=>{n.dispatch("OpenWindow",{dialog:kt})},P=kt=>{n.dispatch("CloseWindow",{dialog:kt})},Z=kt=>{s.push(kt),x(kt)},J=kt=>{P(kt),s=se(s,It=>It!==kt),s.length===0&&n.focus()},ge=()=>Y.from(s[s.length-1]),Re=kt=>{n.editorManager.setActive(n),t2(n),n.ui.show();const It=kt();return Z(It),It},Ge=(kt,It)=>Re(()=>l().open(kt,It,J)),qe=kt=>Re(()=>l().openUrl(kt,J)),ot=(kt,It,cn)=>{const xn=l();xn.alert(kt,m(cn||xn,It))},Et=(kt,It,cn)=>{const xn=l();xn.confirm(kt,m(cn||xn,It))},Vt=()=>{ge().each(kt=>{l().close(kt),J(kt)})};return n.on("remove",()=>{re(s,kt=>{l().close(kt)})}),{open:Ge,openUrl:qe,alert:ot,confirm:Et,close:Vt}},GG=(n,s)=>{n.notificationManager.open({type:"error",text:s})},Z5=(n,s)=>{n._skinLoaded?GG(n,s):n.on("SkinLoaded",()=>{GG(n,s)})},jG=(n,s)=>{Z5(n,id.translate(["Failed to upload image: {0}",s]))},vd=(n,s,l)=>{Du(n,s,{message:l}),console.error(l)},H5=(n,s,l)=>l?`Failed to load ${n}: ${l} from url ${s}`:`Failed to load ${n} url: ${s}`,vce=(n,s,l)=>{vd(n,"PluginLoadError",H5("plugin",s,l))},qG=(n,s,l)=>{vd(n,"IconsLoadError",H5("icons",s,l))},vC=(n,s,l)=>{vd(n,"LanguageLoadError",H5("language",s,l))},KG=(n,s,l)=>{vd(n,"ThemeLoadError",H5("theme",s,l))},zN=(n,s,l)=>{vd(n,"ModelLoadError",H5("model",s,l))},ZN=(n,s,l)=>{const m=id.translate(["Failed to initialize plugin: {0}",s]);Du(n,"PluginLoadError",{message:m}),yC(m,l),Z5(n,m)},yC=(n,...s)=>{const l=window.console;l&&(l.error?l.error(n,...s):l.log(n,...s))},JG=n=>/^[a-z0-9\-]+$/i.test(n),R8=n=>"content/"+n+"/content.css",y1=n=>tinymce.Resource.has(R8(n)),ej=n=>HN(n,Qw(n)),tj=n=>HN(n,Ik(n)),HN=(n,s)=>{const l=n.editorManager.baseURL+"/skins/content",x=`content${n.editorManager.suffix}.css`;return Ie(s,P=>y1(P)?P:JG(P)&&!n.inline?`${l}/${P}/${x}`:n.documentBaseURI.toAbsolute(P))},nj=n=>{n.contentCSS=n.contentCSS.concat(ej(n),tj(n))},rj=n=>n?tt(n.getElementsByTagName("img")):[],oj=(n,s)=>{const l={};return{findAll:(x,P=le)=>{const Z=se(rj(x),ge=>{const Re=ge.src;return ge.hasAttribute("data-mce-bogus")||ge.hasAttribute("data-mce-placeholder")||!Re||Re===Dr.transparentSrc?!1:Sr(Re,"blob:")?!n.isUploaded(Re)&&P(ge):Sr(Re,"data:")?P(ge):!1}),J=Ie(Z,ge=>{const Re=ge.src;if(lt(l,Re))return l[Re].then(Ge=>M(Ge)?Ge:{image:ge,blobInfo:Ge.blobInfo});{const Ge=yX(s,Re).then(qe=>(delete l[Re],{image:ge,blobInfo:qe})).catch(qe=>(delete l[Re],qe));return l[Re]=Ge,Ge}});return Promise.all(J)}}},UN=()=>{let l={};const m=(ot,Et)=>({status:ot,resultUri:Et}),x=ot=>ot in l;return{hasBlobUri:x,getResultUri:ot=>{const Et=l[ot];return Et?Et.resultUri:null},isPending:ot=>x(ot)?l[ot].status===1:!1,isUploaded:ot=>x(ot)?l[ot].status===2:!1,markPending:ot=>{l[ot]=m(1,null)},markUploaded:(ot,Et)=>{l[ot]=m(2,Et)},removeFailed:ot=>{delete l[ot]},destroy:()=>{l={}}}};let sj=0;const aj=()=>{const n=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+n()+n()+n()},ij=n=>n+sj+++aj(),lj=()=>{let n=[];const s=qe=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[qe.toLowerCase()]||"dat",l=(qe,ot,Et,Vt,kt)=>{if(M(qe))return m({id:qe,name:Vt,filename:kt,blob:ot,base64:Et});if(I(qe))return m(qe);throw new Error("Unknown input type")},m=qe=>{if(!qe.blob||!qe.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ot=qe.id||ij("blobid"),Et=qe.name||ot,Vt=qe.blob;return{id:ae(ot),name:ae(Et),filename:ae(qe.filename||Et+"."+s(Vt.type)),blob:ae(Vt),base64:ae(qe.base64),blobUri:ae(qe.blobUri||URL.createObjectURL(Vt)),uri:ae(qe.uri)}},x=qe=>{Z(qe.id())||n.push(qe)},P=qe=>ce(n,qe).getOrUndefined(),Z=qe=>P(ot=>ot.id()===qe);return{create:l,add:x,get:Z,getByUri:qe=>P(ot=>ot.blobUri()===qe),getByData:(qe,ot)=>P(Et=>Et.base64()===qe&&Et.blob().type===ot),findFirst:P,removeByUri:qe=>{n=se(n,ot=>ot.blobUri()===qe?(URL.revokeObjectURL(ot.blobUri()),!1):!0)},destroy:()=>{re(n,qe=>{URL.revokeObjectURL(qe.blobUri())}),n=[]}}},yce=(n,s)=>{const l={},m=(kt,It)=>kt?kt.replace(/\/$/,"")+"/"+It.replace(/^\//,""):It,x=(kt,It)=>new Promise((cn,xn)=>{const bn=new XMLHttpRequest;bn.open("POST",s.url),bn.withCredentials=s.credentials,bn.upload.onprogress=rr=>{It(rr.loaded/rr.total*100)},bn.onerror=()=>{xn("Image upload failed due to a XHR Transport error. Code: "+bn.status)},bn.onload=()=>{if(bn.status<200||bn.status>=300){xn("HTTP Error: "+bn.status);return}const rr=JSON.parse(bn.responseText);if(!rr||!M(rr.location)){xn("Invalid JSON: "+bn.responseText);return}cn(m(s.basePath,rr.location))};const $n=new FormData;$n.append("file",kt.blob(),kt.filename()),bn.send($n)}),P=E(s.handler)?s.handler:x,Z=()=>new Promise(kt=>{kt([])}),J=(kt,It)=>({url:It,blobInfo:kt,status:!0}),ge=(kt,It)=>({url:"",blobInfo:kt,status:!1,error:It}),Re=(kt,It)=>{fr.each(l[kt],cn=>{cn(It)}),delete l[kt]},Ge=(kt,It,cn)=>(n.markPending(kt.blobUri()),new Promise(xn=>{let bn,$n;try{const rr=()=>{bn&&(bn.close(),$n=ie)},gr=zn=>{rr(),n.markUploaded(kt.blobUri(),zn),Re(kt.blobUri(),J(kt,zn)),xn(J(kt,zn))},Qr=zn=>{rr(),n.removeFailed(kt.blobUri()),Re(kt.blobUri(),ge(kt,zn)),xn(ge(kt,zn))};$n=zn=>{zn<0||zn>100||Y.from(bn).orThunk(()=>Y.from(cn).map(Be)).each(Bn=>{bn=Bn,Bn.progressBar.value(zn)})},It(kt,$n).then(gr,zn=>{Qr(M(zn)?{message:zn}:zn)})}catch(rr){xn(ge(kt,rr))}})),qe=kt=>kt===x,ot=kt=>{const It=kt.blobUri();return new Promise(cn=>{l[It]=l[It]||[],l[It].push(cn)})},Et=(kt,It)=>(kt=fr.grep(kt,cn=>!n.isUploaded(cn.blobUri())),Promise.all(fr.map(kt,cn=>n.isPending(cn.blobUri())?ot(cn):Ge(cn,P,It))));return{upload:(kt,It)=>!s.url&&qe(P)?Z():Et(kt,It)}},C2=n=>()=>n.notificationManager.open({text:n.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),WN=(n,s)=>yce(s,{url:pE(n),basePath:vE(n),credentials:Iw(n),handler:yE(n)}),D8=n=>{const s=UN(),l=WN(n,s);return{upload:(m,x=!0)=>l.upload(m,x?C2(n):void 0)}},cj=(n,s)=>n.dom.isEmpty(s.dom)&&B(n.schema.getTextBlockElements()[Vs(s)]),uj=n=>s=>{cj(n,s)&&Ci(s,Yt.fromHtml('<br data-mce-bogus="1" />'))},fj=n=>{const s=lj();let l,m;const x=UN(),P=[],Z=bn=>$n=>n.selection?bn($n):[],J=bn=>bn+(bn.indexOf("?")===-1?"?":"&")+new Date().getTime(),ge=(bn,$n,rr)=>{let gr=0;do gr=bn.indexOf($n,gr),gr!==-1&&(bn=bn.substring(0,gr)+rr+bn.substr(gr+$n.length),gr+=rr.length-$n.length+1);while(gr!==-1);return bn},Re=(bn,$n,rr)=>{const gr=`src="${rr}"${rr===Dr.transparentSrc?' data-mce-placeholder="1"':""}`;return bn=ge(bn,`src="${$n}"`,gr),bn=ge(bn,'data-mce-src="'+$n+'"','data-mce-src="'+rr+'"'),bn},Ge=(bn,$n)=>{re(n.undoManager.data,rr=>{rr.type==="fragmented"?rr.fragments=Ie(rr.fragments,gr=>Re(gr,bn,$n)):rr.content=Re(rr.content,bn,$n)})},qe=(bn,$n)=>{const rr=n.convertURL($n,"src");Ge(bn.src,$n),Tu(Yt.fromDom(bn),{src:jy(n)?J($n):$n,"data-mce-src":rr})},ot=()=>(l||(l=WN(n,x)),It().then(Z(bn=>{const $n=Ie(bn,rr=>rr.blobInfo);return l.upload($n,C2(n)).then(Z(rr=>{const gr=[];let Qr=!1;const zn=Ie(rr,(Bn,tr)=>{const{blobInfo:eo,image:po}=bn[tr];let ls=!1;return Bn.status&&Lk(n)?(Bn.url&&!sr(po.src,Bn.url)&&(Qr=!0),s.removeByUri(po.src),Pv(n)||qe(po,Bn.url)):Bn.error&&(Bn.error.remove&&(Ge(po.src,Dr.transparentSrc),gr.push(po),ls=!0),jG(n,Bn.error.message)),{element:po,status:Bn.status,uploadUri:Bn.url,blobInfo:eo,removed:ls}});return gr.length>0&&!Pv(n)?n.undoManager.transact(()=>{re(Gp(gr),Bn=>{const tr=ou(Bn);Ks(Bn),tr.each(uj(n)),s.removeByUri(Bn.dom.src)})}):Qr&&n.undoManager.dispatchChange(),zn}))}))),Et=()=>$k(n)?ot():Promise.resolve([]),Vt=bn=>Xe(P,$n=>$n(bn)),kt=bn=>{P.push(bn)},It=()=>(m||(m=oj(x,s)),m.findAll(n.getBody(),Vt).then(Z(bn=>{const $n=se(bn,rr=>M(rr)?(Z5(n,rr),!1):rr.uriType!=="blob");return Pv(n)||re($n,rr=>{Ge(rr.image.src,rr.blobInfo.blobUri()),rr.image.src=rr.blobInfo.blobUri(),rr.image.removeAttribute("data-mce-src")}),$n}))),cn=()=>{s.destroy(),x.destroy(),m=l=null},xn=bn=>bn.replace(/src="(blob:[^"]+)"/g,($n,rr)=>{const gr=x.getResultUri(rr);if(gr)return'src="'+gr+'"';let Qr=s.getByUri(rr);return Qr||(Qr=oe(n.editorManager.get(),(zn,Bn)=>zn||Bn.editorUpload&&Bn.editorUpload.blobCache.getByUri(rr),void 0)),Qr?'src="data:'+Qr.blob().type+";base64,"+Qr.base64()+'"':$n});return n.on("SetContent",()=>{$k(n)?Et():It()}),n.on("RawSaveContent",bn=>{bn.content=xn(bn.content)}),n.on("GetContent",bn=>{bn.source_view||bn.format==="raw"||bn.format==="tree"||(bn.content=xn(bn.content))}),n.on("PostRender",()=>{n.parser.addNodeFilter("img",bn=>{re(bn,$n=>{const rr=$n.attr("src");if(!rr||s.getByUri(rr))return;const gr=x.getResultUri(rr);gr&&$n.attr("src",gr)})})}),{blobCache:s,addFilter:kt,uploadImages:ot,uploadImagesAuto:Et,scanForImages:It,destroy:cn}},dj=n=>{const s=n.dom,l=n.schema.type,m={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:x=>{s.setStyle(x,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:x=>{s.setStyle(x,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const x={inline:"span",styles:{textDecoration:"line-through"},exact:!0},P={inline:"strike",remove:"all",preserve_attributes:["class","style"]},Z={inline:"s",remove:"all",preserve_attributes:["class","style"]};return l!=="html4"?[Z,x,P]:[x,Z,P]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(x,P,Z)=>Xr(x)&&x.hasAttribute("href"),onformat:(x,P,Z)=>{fr.each(Z,(J,ge)=>{s.setAttrib(x,ge,J)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":x=>{var P;return(P=x==null?void 0:x.customValue)!==null&&P!==void 0?P:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return fr.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),x=>{m[x]={block:x,remove:"all"}}),m},b1={remove_similar:!0,inherit:!1},Wh={selector:"td,th",...b1},U5={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Wh},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Wh},tablecellbordercolor:{styles:{borderColor:"%value"},...Wh},tablecellclass:{classes:["%value"],...Wh},tableclass:{selector:"table",classes:["%value"],...b1},tablecellborderstyle:{styles:{borderStyle:"%value"},...Wh},tablecellborderwidth:{styles:{borderWidth:"%value"},...Wh}},W5=ae(U5),Zb=n=>{const s={},l=Z=>B(Z)?s[Z]:s,m=Z=>lt(s,Z),x=(Z,J)=>{Z&&(M(Z)?(N(J)||(J=[J]),re(J,ge=>{U(ge.deep)&&(ge.deep=!Jl(ge)),U(ge.split)&&(ge.split=!Jl(ge)||Xi(ge)),U(ge.remove)&&Jl(ge)&&!Xi(ge)&&(ge.remove="none"),Jl(ge)&&Xi(ge)&&(ge.mixed=!0,ge.block_expand=!0),M(ge.classes)&&(ge.classes=ge.classes.split(/\s+/))}),s[Z]=J):Bt(Z,(ge,Re)=>{x(Re,ge)}))},P=Z=>(Z&&s[Z]&&delete s[Z],s);return x(dj(n)),x(W5()),x(wE(n)),{get:l,has:m,register:x,unregister:P}},cp=fr.each,mf=$a.DOM,k2=n=>B(n)&&I(n),$8=(n,s)=>{const l=s&&s.schema||Em({}),m=(ge,Re)=>{Re.classes.length>0&&mf.addClass(ge,Re.classes.join(" ")),mf.setAttribs(ge,Re.attrs)},x=ge=>{const Re=M(ge)?{name:ge,classes:[],attrs:{}}:ge,Ge=mf.create(Re.name);return m(Ge,Re),Ge},P=(ge,Re)=>{const Ge=l.getElementRule(ge.nodeName.toLowerCase()),qe=Ge==null?void 0:Ge.parentsRequired;return qe&&qe.length?Re&&Ve(qe,Re)?Re:qe[0]:!1},Z=(ge,Re,Ge)=>{let qe;const ot=Re[0],Et=k2(ot)?ot.name:void 0,Vt=P(ge,Et);if(Vt)Et===Vt?(qe=ot,Re=Re.slice(1)):qe=Vt;else if(ot)qe=ot,Re=Re.slice(1);else if(!Ge)return ge;const kt=qe?x(qe):mf.create("div");kt.appendChild(ge),Ge&&fr.each(Ge,cn=>{const xn=x(cn);kt.insertBefore(xn,ge)});const It=k2(qe)?qe.siblings:void 0;return Z(kt,Re,It)},J=mf.create("div");if(n.length>0){const ge=n[0],Re=x(ge),Ge=k2(ge)?ge.siblings:void 0;J.appendChild(Z(Re,n.slice(1),Ge))}return J},L8=n=>{n=fr.trim(n);let s="div";const l={name:s,classes:[],attrs:{},selector:n};return n!=="*"&&(s=n.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(m,x,P,Z,J)=>{switch(x){case"#":l.attrs.id=P;break;case".":l.classes.push(P);break;case":":fr.inArray("checked disabled enabled read-only required".split(" "),P)!==-1&&(l.attrs[P]=P);break}if(Z==="["){const ge=J.match(/([\w\-]+)(?:\=\"([^\"]+))?/);ge&&(l.attrs[ge[1]]=ge[2])}return""})),l.name=s||"div",l},I8=n=>M(n)?(n=n.split(/\s*,\s*/)[0],n=n.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),fr.map(n.split(/(?:>|\s+(?![^\[\]]+\]))/),s=>{const l=fr.map(s.split(/(?:~\+|~|\+)/),L8),m=l.pop();return l.length&&(m.siblings=l),m}).reverse()):[],YN=(n,s)=>{let l="",m=Qk(n);if(m==="")return"";const x=ot=>M(ot)?ot.replace(/%(\w+)/g,""):"",P=(ot,Et)=>mf.getStyle(Et??n.getBody(),ot,!0);if(M(s)){const ot=n.formatter.get(s);if(!ot)return"";s=ot[0]}if("preview"in s){const ot=s.preview;if(ot===!1)return"";m=ot||m}let Z=s.block||s.inline||"span",J;const ge=I8(s.selector);ge.length>0?(ge[0].name||(ge[0].name=Z),Z=s.selector,J=$8(ge,n)):J=$8([Z],n);const Re=mf.select(Z,J)[0]||J.firstChild;cp(s.styles,(ot,Et)=>{const Vt=x(ot);Vt&&mf.setStyle(Re,Et,Vt)}),cp(s.attributes,(ot,Et)=>{const Vt=x(ot);Vt&&mf.setAttrib(Re,Et,Vt)}),cp(s.classes,ot=>{const Et=x(ot);mf.hasClass(Re,Et)||mf.addClass(Re,Et)}),n.dispatch("PreviewFormats"),mf.setStyles(J,{position:"absolute",left:-65535}),n.getBody().appendChild(J);const Ge=P("fontSize"),qe=/px$/.test(Ge)?parseInt(Ge,10):0;return cp(m.split(" "),ot=>{let Et=P(ot,Re);if(!(ot==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Et)&&(Et=P(ot),p0(Et).toLowerCase()==="#ffffff"))&&!(ot==="color"&&p0(Et).toLowerCase()==="#000000")){if(ot==="font-size"&&/em|%$/.test(Et)){if(qe===0)return;Et=parseFloat(Et)/(/%$/.test(Et)?100:1)*qe+"px"}ot==="border"&&Et&&(l+="padding:0 2px;"),l+=ot+":"+Et+";"}}),n.dispatch("AfterPreviewFormats"),mf.remove(J),l},XN=n=>{n.addShortcut("meta+b","","Bold"),n.addShortcut("meta+i","","Italic"),n.addShortcut("meta+u","","Underline");for(let s=1;s<=6;s++)n.addShortcut("access+"+s,"",["FormatBlock",!1,"h"+s]);n.addShortcut("access+7","",["FormatBlock",!1,"p"]),n.addShortcut("access+8","",["FormatBlock",!1,"div"]),n.addShortcut("access+9","",["FormatBlock",!1,"address"])},Hb=n=>{const s=Zb(n),l=oi({});return XN(n),XY(n),Pv(n)||aX(l,n),{get:s.get,has:s.has,register:s.register,unregister:s.unregister,apply:(m,x,P)=>{dG(n,m,x,P)},remove:(m,x,P,Z)=>{hG(n,m,x,P,Z)},toggle:(m,x,P)=>{mG(n,m,x,P)},match:(m,x,P,Z)=>xN(n,m,x,P,Z),closest:m=>C8(n,m),matchAll:(m,x)=>SN(n,m,x),matchNode:(m,x,P,Z)=>T8(n,m,x,P,Z),canApply:m=>wN(n,m),formatChanged:(m,x,P,Z)=>th(n,l,m,x,P,Z),getCssText:ee(YN,n)}},N8=n=>{switch(n.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},GN=(n,s,l)=>{const m=oi(!1),x=ge=>{B5(s,!1,l),s.add({},ge)};n.on("init",()=>{s.add()}),n.on("BeforeExecCommand",ge=>{const Re=ge.command;N8(Re)||(gN(s,l),s.beforeChange())}),n.on("ExecCommand",ge=>{const Re=ge.command;N8(Re)||x(ge)}),n.on("ObjectResizeStart cut",()=>{s.beforeChange()}),n.on("SaveContent ObjectResized blur",x),n.on("dragend",x),n.on("keyup",ge=>{const Re=ge.keyCode;if(ge.isDefaultPrevented())return;const Ge=Dr.os.isMacOS()&&ge.key==="Meta";(Re>=33&&Re<=36||Re>=37&&Re<=40||Re===45||ge.ctrlKey||Ge)&&(x(),n.nodeChanged()),(Re===46||Re===8)&&n.nodeChanged(),m.get()&&s.typing&&!O8(N5(n),s.data[0])&&(n.isDirty()||n.setDirty(!0),n.dispatch("TypingUndo"),m.set(!1),n.nodeChanged())}),n.on("keydown",ge=>{const Re=ge.keyCode;if(ge.isDefaultPrevented())return;if(Re>=33&&Re<=36||Re>=37&&Re<=40||Re===45){s.typing&&x(ge);return}const Ge=ge.ctrlKey&&!ge.altKey||ge.metaKey;if((Re<16||Re>20)&&Re!==224&&Re!==91&&!s.typing&&!Ge){s.beforeChange(),B5(s,!0,l),s.add({},ge),m.set(!0);return}(Dr.os.isMacOS()?ge.metaKey:ge.ctrlKey&&!ge.altKey)&&s.beforeChange()}),n.on("mousedown",ge=>{s.typing&&x(ge)});const P=ge=>ge.inputType==="insertReplacementText",Z=ge=>ge.inputType==="insertText"&&ge.data===null,J=ge=>ge.inputType==="insertFromPaste"||ge.inputType==="insertFromDrop";n.on("input",ge=>{ge.inputType&&(P(ge)||Z(ge)||J(ge))&&x(ge)}),n.on("AddUndo Undo Redo ClearUndos",ge=>{ge.isDefaultPrevented()||n.nodeChanged()})},jN=n=>{n.addShortcut("meta+z","","Undo"),n.addShortcut("meta+y,meta+shift+z","","Redo")},bC=n=>{const s=Dg(),l=oi(0),m=oi(0),x={data:[],typing:!1,beforeChange:()=>{fce(n,l,s)},add:(P,Z)=>Ic(n,x,m,l,s,P,Z),dispatchChange:()=>{n.setDirty(!0);const P=N5(n);P.bookmark=R0(n.selection),n.dispatch("change",{level:P,lastLevel:et(x.data,m.get()).getOrUndefined()})},undo:()=>yN(n,x,l,m),redo:()=>bN(n,m,x.data),clear:()=>{ON(n,x,m)},reset:()=>{lG(n,x)},hasUndo:()=>cG(n,x,m),hasRedo:()=>Q5(n,x,m),transact:P=>uG(n,x,l,P),ignore:P=>{w8(n,l,P)},extra:(P,Z)=>{fG(n,x,m,P,Z)}};return Pv(n)||GN(n,x,l),jN(n),x},qN=[9,27,Yr.HOME,Yr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Yr.DOWN,Yr.UP,Yr.LEFT,Yr.RIGHT].concat(Dr.browser.isFirefox()?[224]:[]),B8="data-mce-placeholder",Q8=n=>n.type==="keydown"||n.type==="keyup",F8=n=>{const s=n.keyCode;return s===Yr.BACKSPACE||s===Yr.DELETE},Ev=n=>{if(Q8(n)){const s=n.keyCode;return!F8(n)&&(Yr.metaKeyPressed(n)||n.altKey||s>=112&&s<=123||Ve(qN,s))}else return!1},O1=n=>Q8(n)&&!(F8(n)||n.type==="keyup"&&n.keyCode===229),Yh=(n,s,l)=>{if(ta(Yt.fromDom(s),!1)){const m=s.firstElementChild;return m?n.getStyle(s.firstElementChild,"padding-left")||n.getStyle(s.firstElementChild,"padding-right")?!1:l===m.nodeName.toLowerCase():!0}else return!1},hj=n=>{var s;const l=n.dom,m=Rc(n),x=(s=g9(n))!==null&&s!==void 0?s:"",P=(Z,J)=>{if(Ev(Z))return;const ge=n.getBody(),Re=O1(Z)?!1:Yh(l,ge,m);(l.getAttrib(ge,B8)!==""!==Re||J)&&(l.setAttrib(ge,B8,Re?x:null),l.setAttrib(ge,"aria-placeholder",Re?x:null),c_(n,Re),n.on(Re?"keydown":"keyup",P),n.off(Re?"keyup":"keydown",P))};St(x)&&n.on("init",Z=>{P(Z,!0),n.on("change SetContent ExecCommand",P),n.on("paste",J=>hd.setEditorTimeout(n,()=>P(J)))})},mj=(n,s)=>({block:n,position:s}),gj=(n,s)=>({from:n,to:s}),V8=(n,s)=>{const l=Yt.fromDom(n),m=Yt.fromDom(s.container());return FT(l,m).map(x=>mj(x,s))},pj=n=>!Gs(n.from.block,n.to.block),KN=(n,s)=>Cu(s,x=>Uc(x)||Wl(x.dom),x=>Gs(x,n)).filter(Pl).getOr(n),vj=(n,s)=>{const l=Yt.fromDom(n);return Gs(KN(l,s.from.block),KN(l,s.to.block))},yj=n=>xs(n.from.block.dom)===!1&&xs(n.to.block.dom)===!1,bj=n=>{const s=l=>Mn(l)||WO(l.dom);return s(n.from.block)&&s(n.to.block)},Oj=(n,s,l)=>aa(l.position.getNode())&&!ta(l.block)?G0(!1,l.block.dom).bind(m=>m.isEqual(l.position)?$l(s,n,m).bind(x=>V8(n,x)):Y.some(l)).getOr(l):l,xj=(n,s,l)=>{const m=V8(n,Nn.fromRangeStart(l)),x=m.bind(P=>$l(s,n,P.position).bind(Z=>V8(n,Z).map(J=>Oj(n,s,J))));return Va(m,x,gj).filter(P=>pj(P)&&vj(n,P)&&yj(P)&&bj(P))},Sj=(n,s,l)=>l.collapsed?xj(n,s,l):Y.none(),z8=(n,s)=>{const l=sl(n);return ke(l,m=>s.isBlock(Vs(m))).fold(ae(l),m=>l.slice(0,m))},Y5=(n,s)=>{const l=z8(n,s);return re(l,Ks),l},Z8=(n,s)=>{const l=Jg(s,n);return ce(l.reverse(),m=>ta(m)).each(Ks)},wj=n=>se(py(n),s=>!ta(s)).length===0,Tj=(n,s,l,m,x)=>{if(ta(l))return D(l),Gc(l.dom);wj(x)&&ta(s)&&Ui(x,Yt.fromTag("br"));const P=fu(l.dom,Nn.before(x.dom));return re(Y5(s,m),Z=>{Ui(x,Z)}),Z8(n,s),P},JN=(n,s)=>n.isInline(Vs(s)),eB=(n,s,l,m)=>{if(ta(l)){if(ta(s)){const Z=fe((J=>{const ge=(Re,Ge)=>xg(Re).fold(()=>Ge,qe=>JN(m,qe)?ge(qe,Ge.concat(Eu(qe))):Ge);return ge(J,[])})(l),(J,ge)=>(wg(J,ge),ge),Ac());wh(s),Ci(s,Z)}return Ks(l),Gc(s.dom)}const x=ud(l.dom);return re(Y5(s,m),P=>{Ci(l,P)}),Z8(n,s),x},H8=(n,s)=>{const l=Jg(s,n);return Y.from(l[l.length-1])},tB=(n,s)=>oc(s,n)?H8(s,n):Y.none(),U8=(n,s)=>{G0(n,s.dom).bind(l=>Y.from(l.getNode())).map(Yt.fromDom).filter(nd).each(Ks)},X5=(n,s,l,m)=>(U8(!0,s),U8(!1,l),tB(s,l).fold(ee(eB,n,s,l,m),ee(Tj,n,s,l,m))),nB=(n,s,l,m,x)=>s?X5(n,m,l,x):X5(n,l,m,x),W8=(n,s)=>{const l=Yt.fromDom(n.getBody());return Sj(l.dom,s,n.selection.getRng()).map(x=>()=>{nB(l,s,x.from.block,x.to.block,n.schema).each(P=>{n.selection.setRng(P.toRange())})})},up=(n,s,l)=>{const m=s.getRng();return Va(FT(n,Yt.fromDom(m.startContainer)),FT(n,Yt.fromDom(m.endContainer)),(x,P)=>Gs(x,P)?Y.none():Y.some(()=>{m.deleteContents(),nB(n,!0,x,P,l).each(Z=>{s.setRng(Z.toRange())})})).getOr(Y.none())},rh=(n,s)=>{const l=Yt.fromDom(s),m=ee(Gs,n);return fi(l,Uc,m).isSome()},G5=(n,s)=>rh(n,s.startContainer)||rh(n,s.endContainer),rB=(n,s)=>{const l=fu(n.dom,Nn.fromRangeStart(s)).isNone(),m=$c(n.dom,Nn.fromRangeEnd(s)).isNone();return!G5(n,s)&&l&&m},j5=n=>Y.some(()=>{n.setContent(""),n.selection.setCursorLocation()}),oB=n=>{const s=Yt.fromDom(n.getBody()),l=n.selection.getRng();return rB(s,l)?j5(n):up(s,n.selection,n.schema)},q5=(n,s)=>n.selection.isCollapsed()?Y.none():oB(n),fp=(n,s,l,m,x)=>Y.from(s._selectionOverrides.showCaret(n,l,m,x)),sB=n=>{const s=n.ownerDocument.createRange();return s.selectNode(n),s},A2=(n,s)=>n.dispatch("BeforeObjectSelected",{target:s}).isDefaultPrevented()?Y.none():Y.some(sB(s)),aB=(n,s,l)=>{const m=oT(1,n.getBody(),s),x=Nn.fromRangeStart(m),P=x.getNode();if(Px(P))return fp(1,n,P,!x.isAtEnd(),!1);const Z=x.getNode(!0);if(Px(Z))return fp(1,n,Z,!1,!1);const J=Nb(n.dom.getRoot(),x.getNode());return Px(J)?fp(1,n,J,!1,l):Y.none()},P2=(n,s,l)=>s.collapsed?aB(n,s,l).getOr(s):s,Y8=n=>Sv(n)||$T(n),Cj=n=>Wm(n)||n2(n),kj=(n,s)=>{lr(s)&&s.data.length===0&&n.remove(s)},iB=(n,s,l,m,x,P)=>{fp(m,n,P.getNode(!x),x,!0).each(Z=>{if(s.collapsed){const J=s.cloneRange();x?J.setEnd(Z.startContainer,Z.startOffset):J.setStart(Z.endContainer,Z.endOffset),J.deleteContents()}else s.deleteContents();n.selection.setRng(Z)}),kj(n.dom,l)},Aj=(n,s)=>{const l=n.selection.getRng();if(!lr(l.commonAncestorContainer))return Y.none();const m=s?Pi.Forwards:Pi.Backwards,x=Yd(n.getBody()),P=ee(sA,s?x.next:x.prev),Z=s?Y8:Cj,J=Hg(m,n.getBody(),l),ge=P(J),Re=ge&&Ds(s,ge);if(!Re||!sT(J,Re))return Y.none();if(Z(Re))return Y.some(()=>iB(n,l,J.getNode(),m,s,Re));const Ge=P(Re);return Ge&&Z(Ge)&&sT(Re,Ge)?Y.some(()=>iB(n,l,J.getNode(),m,s,Ge)):Y.none()},K5=(n,s)=>Aj(n,s),X8=(n,s)=>{const l=n.getBody();return s?Gc(l).filter(Sv):ud(l).filter(Wm)},G8=n=>{const s=n.selection.getRng();return!s.collapsed&&(X8(n,!0).exists(l=>l.isEqual(Nn.fromRangeStart(s)))||X8(n,!1).exists(l=>l.isEqual(Nn.fromRangeEnd(s))))},j8=n=>B(n)&&(Uc(Yt.fromDom(n))||rd(Yt.fromDom(n))),yd=Ud.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Pj=(n,s)=>{const l=s.getNode(!n),m=n?"after":"before";return Xr(l)&&l.getAttribute("data-mce-caret")===m},Mj=(n,s,l,m,x)=>{const P=Z=>x.isInline(Z.nodeName.toLowerCase())&&!Wd(l,m,n);return oA(!s,l).fold(()=>oA(s,m).fold(ne,P),P)},lB=(n,s,l,m)=>{const x=m.getNode(!s);return FT(Yt.fromDom(n),Yt.fromDom(l.getNode())).map(P=>ta(P)?yd.remove(P.dom):yd.moveToElement(x)).orThunk(()=>Y.some(yd.moveToElement(x)))},cB=(n,s,l,m)=>$l(s,n,l).bind(x=>j8(x.getNode())||Mj(n,s,l,x,m)?Y.none():s&&xs(x.getNode())||!s&&xs(x.getNode(!0))?lB(n,s,l,x):s&&Wm(l)||!s&&Sv(l)?Y.some(yd.moveToPosition(x)):Y.none()),Ej=(n,s)=>F(s)?Y.none():n&&xs(s.nextSibling)?Y.some(yd.moveToElement(s.nextSibling)):!n&&xs(s.previousSibling)?Y.some(yd.moveToElement(s.previousSibling)):Y.none(),_j=(n,s,l)=>l.fold(m=>Y.some(yd.remove(m)),m=>Y.some(yd.moveToElement(m)),m=>Wd(s,m,n)?Y.none():Y.some(yd.moveToPosition(m))),J5=(n,s,l,m)=>Pj(s,l)?Ej(s,l.getNode(!s)).orThunk(()=>cB(n,s,l,m)):cB(n,s,l,m).bind(x=>_j(n,l,x)),q8=(n,s,l,m)=>{const x=oT(s?1:-1,n,l),P=Nn.fromRangeStart(x),Z=Yt.fromDom(n);return!s&&Wm(P)?Y.some(yd.remove(P.getNode(!0))):s&&Sv(P)?Y.some(yd.remove(P.getNode())):!s&&Sv(P)&&IT(Z,P,m)?tY(Z,P,m).map(J=>yd.remove(J.getNode())):s&&Wm(P)&&LT(Z,P,m)?nY(Z,P,m).map(J=>yd.remove(J.getNode())):J5(n,s,P,m)},Rj=(n,s)=>l=>(n._selectionOverrides.hideFakeCaret(),Tv(n,s,Yt.fromDom(l)),!0),Dj=(n,s)=>l=>{const m=s?Nn.before(l):Nn.after(l);return n.selection.setRng(m.toRange()),!0},$j=n=>s=>(n.selection.setRng(s.toRange()),!0),uB=(n,s)=>Y.from(Nb(n.getBody(),s)),fB=(n,s)=>{const l=n.selection.getNode();return uB(n,l).filter(xs).fold(()=>q8(n.getBody(),s,n.selection.getRng(),n.schema).map(m=>()=>m.fold(Rj(n,s),Dj(n,s),$j(n))),()=>Y.some(ie))},Lj=n=>{re(al(n,".mce-offscreen-selection"),Ks)},Ij=(n,s)=>{const l=n.selection.getNode();return xs(l)&&!Jp(l)?uB(n,l.parentNode).filter(xs).fold(()=>Y.some(()=>{Lj(Yt.fromDom(n.getBody())),Tv(n,s,Yt.fromDom(n.selection.getNode())),qA(n)}),()=>Y.some(ie)):G8(n)?Y.some(()=>{VT(n,n.selection.getRng(),Yt.fromDom(n.getBody()))}):Y.none()},e4=n=>{const s=n.dom,l=n.selection,m=Nb(n.getBody(),l.getNode());if(Wl(m)&&s.isBlock(m)&&s.isEmpty(m)){const x=s.create("br",{"data-mce-bogus":"1"});s.setHTML(m,""),m.appendChild(x),l.setRng(Nn.before(x).toRange())}return!0},K8=(n,s)=>n.selection.isCollapsed()?fB(n,s):Ij(n,s),Nj=(n,s)=>{const l=Nn.fromRangeStart(n.selection.getRng());return $l(s,n.getBody(),l).filter(m=>s?GW(m):jW(m)).bind(m=>sb(s?0:-1,m)).map(m=>()=>n.selection.select(m))},J8=(n,s)=>n.selection.isCollapsed()?Nj(n,s):Y.none(),M2=lr,dB=n=>M2(n)&&n.data[0]===he,hB=n=>M2(n)&&n.data[n.data.length-1]===he,mB=n=>{var s;return((s=n.ownerDocument)!==null&&s!==void 0?s:document).createTextNode(he)},t4=n=>{var s;if(M2(n.previousSibling))return hB(n.previousSibling)||n.previousSibling.appendData(he),n.previousSibling;if(M2(n))return dB(n)||n.insertData(0,he),n;{const l=mB(n);return(s=n.parentNode)===null||s===void 0||s.insertBefore(l,n),l}},n4=n=>{var s,l;if(M2(n.nextSibling))return dB(n.nextSibling)||n.nextSibling.insertData(0,he),n.nextSibling;if(M2(n))return hB(n)||n.appendData(he),n;{const m=mB(n);return n.nextSibling?(s=n.parentNode)===null||s===void 0||s.insertBefore(m,n.nextSibling):(l=n.parentNode)===null||l===void 0||l.appendChild(m),m}},r4=(n,s)=>n?t4(s):n4(s),Bj=ee(r4,!0),o4=ee(r4,!1),gB=(n,s)=>lr(n.container())?r4(s,n.container()):r4(s,n.getNode()),pB=(n,s)=>{const l=s.get();return l&&n.container()===l&&vt(l)},e6=(n,s)=>s.fold(l=>{ml(n.get());const m=Bj(l);return n.set(m),Y.some(Nn(m,m.length-1))},l=>Gc(l).map(m=>{if(pB(m,n)){const x=n.get();return Nn(x,1)}else{ml(n.get());const x=gB(m,!0);return n.set(x),Nn(x,1)}}),l=>ud(l).map(m=>{if(pB(m,n)){const x=n.get();return Nn(x,x.length-1)}else{ml(n.get());const x=gB(m,!1);return n.set(x),Nn(x,x.length-1)}}),l=>{ml(n.get());const m=o4(l);return n.set(m),Y.some(Nn(m,1))}),vB=(n,s)=>{for(let l=0;l<n.length;l++){const m=n[l].apply(null,s);if(m.isSome())return m}return Y.none()},Lu=Ud.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),yB=(n,s)=>{const l=Im(s,n);return l||n},Qj=(n,s,l)=>{const m=Lb(l),x=yB(s,m.container());return Fh(n,x,m).fold(()=>$c(x,m).bind(ee(Fh,n,x)).map(P=>Lu.before(P)),Y.none)},Fj=(n,s)=>mv(n,s)===null,bB=(n,s,l)=>Fh(n,s,l).filter(ee(Fj,s)),Vj=(n,s,l)=>{const m=BT(l);return bB(n,s,m).bind(x=>fu(x,m).isNone()?Y.some(Lu.start(x)):Y.none())},zj=(n,s,l)=>{const m=Lb(l);return bB(n,s,m).bind(x=>$c(x,m).isNone()?Y.some(Lu.end(x)):Y.none())},bce=(n,s,l)=>{const m=BT(l),x=yB(s,m.container());return Fh(n,x,m).fold(()=>fu(x,m).bind(ee(Fh,n,x)).map(P=>Lu.after(P)),Y.none)},oh=n=>!vL(s4(n)),Xh=(n,s,l)=>vB([Qj,Vj,zj,bce],[n,s,l]).filter(oh),s4=n=>n.fold(q,q,q,q),t6=n=>n.fold(ae("before"),ae("start"),ae("end"),ae("after")),a4=n=>n.fold(Lu.before,Lu.before,Lu.after,Lu.after),i4=n=>n.fold(Lu.start,Lu.start,Lu.end,Lu.end),Zj=(n,s)=>t6(n)===t6(s)&&s4(n)===s4(s),OB=(n,s,l,m,x,P)=>Va(Fh(s,l,m),Fh(s,l,x),(Z,J)=>Z!==J&&Vh(l,Z,J)?Lu.after(n?Z:J):P).getOr(P),Hj=(n,s)=>n.fold(le,l=>!Zj(l,s)),Uj=(n,s,l,m,x)=>{const P=Ds(n,x);return $l(n,l,P).map(ee(Ds,n)).fold(()=>m.map(a4),ge=>Xh(s,l,ge).map(ee(OB,n,s,l,P,ge)).filter(ee(Hj,m))).filter(oh)},Wj=(n,s)=>n?s.fold(L(Y.some,Lu.start),Y.none,L(Y.some,Lu.after),Y.none):s.fold(Y.none,L(Y.some,Lu.before),Y.none,L(Y.some,Lu.end)),E2=(n,s,l,m)=>{const x=Ds(n,m),P=Xh(s,l,x);return Xh(s,l,x).bind(ee(Wj,n)).orThunk(()=>Uj(n,s,l,P,m))},xB=n=>E(n.selection.getSel().modify),n6=(n,s,l)=>{const m=n?1:-1;return s.setRng(Nn(l.container(),l.offset()+m).toRange()),s.getSel().modify("move",n?"forward":"backward","word"),!0},SB=(n,s)=>{const l=s.selection.getRng(),m=n?Nn.fromRangeEnd(l):Nn.fromRangeStart(l);return xB(s)?n&&gn(m)?n6(!0,s.selection,m):!n&&An(m)?n6(!1,s.selection,m):!1:!1};var Gh;(function(n){n[n.Br=0]="Br",n[n.Block=1]="Block",n[n.Wrap=2]="Wrap",n[n.Eol=3]="Eol"})(Gh||(Gh={}));const l4=(n,s)=>n===Pi.Backwards?ct(s):s,Yj=(n,s,l)=>n===Pi.Forwards?s.next(l):s.prev(l),Xj=(n,s,l,m)=>aa(m.getNode(s===Pi.Forwards))?Gh.Br:Wd(l,m)===!1?Gh.Block:Gh.Wrap,Gj=(n,s,l,m)=>{const x=Yd(l);let P=m;const Z=[];for(;P;){const J=Yj(s,x,P);if(!J)break;if(aa(J.getNode(!1)))return s===Pi.Forwards?{positions:l4(s,Z).concat([J]),breakType:Gh.Br,breakAt:Y.some(J)}:{positions:l4(s,Z),breakType:Gh.Br,breakAt:Y.some(J)};if(!J.isVisible()){P=J;continue}if(n(P,J)){const ge=Xj(l,s,P,J);return{positions:l4(s,Z),breakType:ge,breakAt:Y.some(J)}}Z.push(J),P=J}return{positions:l4(s,Z),breakType:Gh.Eol,breakAt:Y.none()}},jj=(n,s,l,m)=>s(l,m).breakAt.map(x=>{const P=s(l,x).positions;return n===Pi.Backwards?P.concat(x):[x].concat(P)}).getOr([]),wB=(n,s)=>oe(n,(l,m)=>l.fold(()=>Y.some(m),x=>Va(yt(x.getClientRects()),yt(m.getClientRects()),(P,Z)=>{const J=Math.abs(s-P.left);return Math.abs(s-Z.left)<=J?m:x}).or(l)),Y.none()),zf=(n,s)=>yt(s.getClientRects()).bind(l=>wB(n,l.left)),OC=ee(Gj,Nn.isAbove,-1),xC=ee(Gj,Nn.isBelow,1),x1=ee(jj,-1,OC),r6=ee(jj,1,xC),TB=(n,s)=>OC(n,s).breakAt.isNone(),SC=(n,s)=>xC(n,s).breakAt.isNone(),qj=n=>Gc(n).map(s=>[s].concat(xC(n,s).positions)).getOr([]),Kj=n=>ud(n).map(s=>OC(n,s).positions.concat(s)).getOr([]),Jj=(n,s)=>zf(x1(n,s),s),eq=(n,s)=>zf(r6(n,s),s),tq=xs,CB=(n,s)=>Math.abs(n.left-s),dp=(n,s)=>Math.abs(n.right-s),nq=n=>ut(n,"node"),kB=(n,s)=>dn(n,(l,m)=>{const x=Math.min(CB(l,s),dp(l,s)),P=Math.min(CB(m,s),dp(m,s));return P===x&&nq(m)&&tq(m.node)||P<x?m:l}),rq=n=>{const s=l=>Ie(l,m=>{const x=iv(m);return x.node=n,x});if(Xr(n))return s(n.getClientRects());if(lr(n)){const l=n.ownerDocument.createRange();return l.setStart(n,0),l.setEnd(n,n.data.length),s(l.getClientRects())}else return[]},AB=n=>Ze(n,rq);var wC;(function(n){n[n.Up=-1]="Up",n[n.Down=1]="Down"})(wC||(wC={}));const o6=(n,s,l,m)=>{let x=m;for(;x=Z0(x,n,ms,s);)if(l(x))return},c4=(n,s,l,m,x,P)=>{let Z=0;const J=[],ge=qe=>{let ot=AB([qe]);n===-1&&(ot=ot.reverse());for(let Et=0;Et<ot.length;Et++){const Vt=ot[Et];if(!l(Vt,Re)){if(J.length>0&&s(Vt,Wt(J))&&Z++,Vt.line=Z,x(Vt))return!0;J.push(Vt)}}return!1},Re=Wt(P.getClientRects());if(!Re)return J;const Ge=P.getNode();return Ge&&(ge(Ge),o6(n,m,ge,Ge)),J},s6=(n,s)=>s.line>n,PB=(n,s)=>s.line===n,MB=ee(c4,wC.Up,Lg,cv),EB=ee(c4,wC.Down,cv,Lg),_B=n=>Wt(n.getClientRects()),TC=(n,s,l,m)=>{const x=Yd(s);let P,Z,J,ge;const Re=[];let Ge=0;n===1?(P=x.next,Z=cv,J=Lg,ge=Nn.after(m)):(P=x.prev,Z=Lg,J=cv,ge=Nn.before(m));const qe=_B(ge);do{if(!ge.isVisible())continue;const ot=_B(ge);if(J(ot,qe))continue;Re.length>0&&Z(ot,Wt(Re))&&Ge++;const Et=iv(ot);if(Et.position=ge,Et.line=Ge,l(Et))return Re;Re.push(Et)}while(ge=P(ge));return Re},CC=n=>s=>s6(n,s),u4=n=>s=>PB(n,s),hp=(n,s)=>{n.selection.setRng(s),Mb(n,n.selection.getRng())},f4=(n,s,l)=>Y.some(P2(n,s,l)),a6=(n,s,l,m,x,P)=>{const Z=s===Pi.Forwards,J=Yd(n.getBody()),ge=ee(sA,Z?J.next:J.prev),Re=Z?m:x;if(!l.collapsed){const Vt=gw(l);if(P(Vt))return fp(s,n,Vt,s===Pi.Backwards,!1);if(G8(n)){const kt=l.cloneRange();return kt.collapse(s===Pi.Backwards),Y.from(kt)}}const Ge=Hg(s,n.getBody(),l);if(Re(Ge))return A2(n,Ge.getNode(!Z));let qe=ge(Ge);const ot=yn(l);if(qe)qe=Ds(Z,qe);else return ot?Y.some(l):Y.none();if(Re(qe))return fp(s,n,qe.getNode(!Z),Z,!1);const Et=ge(qe);return Et&&Re(Et)&&sT(qe,Et)?fp(s,n,Et.getNode(!Z),Z,!1):ot?f4(n,qe.toRange(),!1):Y.none()},kC=(n,s,l,m,x,P)=>{const Z=Hg(s,n.getBody(),l),J=Wt(Z.getClientRects()),ge=s===wC.Down,Re=n.getBody();if(!J)return Y.none();if(G8(n)){const It=ge?Nn.fromRangeEnd(l):Nn.fromRangeStart(l);return(ge?eq:Jj)(Re,It).orThunk(()=>Y.from(It)).map(xn=>xn.toRange())}const qe=(ge?EB:MB)(Re,CC(1),Z),ot=se(qe,u4(1)),Et=J.left,Vt=kB(ot,Et);if(Vt&&P(Vt.node)){const It=Math.abs(Et-Vt.left),cn=Math.abs(Et-Vt.right);return fp(s,n,Vt.node,It<cn,!1)}let kt;if(m(Z)?kt=Z.getNode():x(Z)?kt=Z.getNode(!0):kt=gw(l),kt){const It=TC(s,Re,CC(1),kt);let cn=kB(se(It,u4(1)),Et);if(cn||(cn=Wt(se(It,u4(0))),cn))return f4(n,cn.position.toRange(),!1)}return ot.length===0?AC(n,ge).filter(ge?x:m).map(It=>P2(n,It.toRange(),!1)):Y.none()},AC=(n,s)=>{const l=n.selection.getRng(),m=s?Nn.fromRangeEnd(l):Nn.fromRangeStart(l),x=nT(m.container(),n.getBody());if(s){const P=xC(x,m);return ft(P.positions)}else{const P=OC(x,m);return yt(P.positions)}},_2=(n,s,l)=>AC(n,s).filter(l).exists(m=>(n.selection.setRng(m.toRange()),!0)),d4=(n,s)=>{const l=n.dom.createRng();l.setStart(s.container(),s.offset()),l.setEnd(s.container(),s.offset()),n.selection.setRng(l)},i6=(n,s)=>{n?s.setAttribute("data-mce-selected","inline-boundary"):s.removeAttribute("data-mce-selected")},RB=(n,s,l)=>e6(s,l).map(m=>(d4(n,m),l)),oq=(n,s,l)=>{const m=Nn.fromRangeStart(n);if(n.collapsed)return m;{const x=Nn.fromRangeEnd(n);return l?fu(s,x).getOr(x):$c(s,m).getOr(m)}},DB=(n,s,l)=>{const m=n.getBody(),x=oq(n.selection.getRng(),m,l),P=ee($b,n);return E2(l,P,m,x).bind(J=>RB(n,s,J))},sq=(n,s,l)=>{const m=Ie(al(Yt.fromDom(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),Z=>Z.dom),x=se(m,n),P=se(l,n);re(pt(x,P),ee(i6,!1)),re(pt(P,x),ee(i6,!0))},$B=(n,s)=>{const l=s.get();if(n.selection.isCollapsed()&&!n.composing&&l){const m=Nn.fromRangeStart(n.selection.getRng());Nn.isTextPosition(m)&&!xY(m)&&(d4(n,Jk(l,m)),s.set(null))}},Oce=(n,s,l,m)=>{if(s.selection.isCollapsed()){const x=se(m,n);re(x,P=>{const Z=Nn.fromRangeStart(s.selection.getRng());Xh(n,s.getBody(),Z).bind(J=>RB(s,l,J))})}},LB=(n,s,l)=>fv(n)?DB(n,s,l).isSome():!1,IB=(n,s,l)=>fv(s)?SB(n,s):!1,aq=n=>{const s=oi(null),l=ee($b,n);return n.on("NodeChange",m=>{fv(n)&&(sq(l,n.dom,m.parents),$B(n,s),Oce(l,n,s,m.parents))}),s},iq=ee(IB,!0),lq=ee(IB,!1),h4=(n,s,l)=>{if(fv(n)){const m=AC(n,s).getOrThunk(()=>{const x=n.selection.getRng();return s?Nn.fromRangeEnd(x):Nn.fromRangeStart(x)});return Xh(ee($b,n),n.getBody(),m).exists(x=>{const P=a4(x);return e6(l,P).exists(Z=>(d4(n,Z),!0))})}else return!1},cq=(n,s)=>{const l=document.createRange();return l.setStart(n.container(),n.offset()),l.setEnd(s.container(),s.offset()),l},uq=n=>Va(Gc(n),ud(n),(s,l)=>{const m=Ds(!0,s),x=Ds(!1,l);return $c(n,m).forall(P=>P.isEqual(x))}).getOr(!0),l6=(n,s)=>l=>e6(s,l).map(m=>()=>d4(n,m)),NB=(n,s,l,m)=>{const x=n.getBody(),P=ee($b,n);n.undoManager.ignore(()=>{n.selection.setRng(cq(l,m)),QT(n),Xh(P,x,Nn.fromRangeStart(n.selection.getRng())).map(i4).bind(l6(n,s)).each(pe)}),n.nodeChanged()},Ub=(n,s)=>{const l=Im(s,n);return l||n},BB=(n,s,l,m)=>{const x=Ub(n.getBody(),m.container()),P=ee($b,n),Z=Xh(P,x,m);return Z.bind(ge=>l?ge.fold(ae(Y.some(i4(ge))),Y.none,ae(Y.some(a4(ge))),Y.none):ge.fold(Y.none,ae(Y.some(a4(ge))),Y.none,ae(Y.some(i4(ge))))).map(l6(n,s)).getOrThunk(()=>{const ge=Bm(l,x,m),Re=ge.bind(Ge=>Xh(P,x,Ge));return Va(Z,Re,()=>Fh(P,x,m).bind(Ge=>uq(Ge)?Y.some(()=>{Tv(n,l,Yt.fromDom(Ge))}):Y.none())).getOrThunk(()=>Re.bind(()=>ge.map(Ge=>()=>{l?NB(n,s,m,Ge):NB(n,s,Ge,m)})))})},PC=(n,s,l)=>{if(n.selection.isCollapsed()&&fv(n)){const m=Nn.fromRangeStart(n.selection.getRng());return BB(n,s,l,m)}return Y.none()},QB=n=>El(n)>1,m4=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=Yt.fromDom(n.selection.getStart()),x=Jg(m,l);return ke(x,s).fold(ae(x),P=>x.slice(0,P))},S1=n=>El(n)===1,FB=n=>m4(n,s=>n.schema.isBlock(Vs(s))||QB(s)),sh=n=>m4(n,s=>n.schema.isBlock(Vs(s))),w1=(n,s)=>{const l=ee(np,n);return Ze(s,m=>l(m)?[m.dom]:[])},g4=n=>{const s=sh(n);return w1(n,s)},fq=(n,s,l,m)=>{const x=w1(s,m);if(x.length===0)Tv(s,n,l);else{const P=oI(l.dom,x);s.selection.setRng(P.toRange())}},VB=(n,s)=>{const l=se(FB(n),S1);return ft(l).bind(m=>{const x=Nn.fromRangeStart(n.selection.getRng());return KA(s,x,m.dom)&&!yb(m)?Y.some(()=>fq(s,n,m,l)):Y.none()})},dq=(n,s)=>{const l=s.parentElement;return aa(s)&&!Q(l)&&n.dom.isEmpty(l)},hq=n=>yb(Yt.fromDom(n)),zB=(n,s)=>{const l=n.selection.getStart(),m=dq(n,l)||hq(l)?oI(l,s):p5(n.selection.getRng(),s);n.selection.setRng(m.toRange())},mq=(n,s)=>{const l=pt(s,g4(n));l.length>0&&zB(n,l)},ZB=n=>lr(n.startContainer),HB=n=>n.startOffset===0&&ZB(n),gq=(n,s)=>{const l=s.startContainer.parentElement;return!Q(l)&&np(n,Yt.fromDom(l))},pq=n=>{const s=n.startContainer.parentNode,l=n.endContainer.parentNode;return!Q(s)&&!Q(l)&&s.isEqualNode(l)},R2=n=>{const s=n.endContainer;return n.endOffset===(lr(s)?s.length:s.childNodes.length)},c6=n=>pq(n)&&R2(n),UB=n=>!n.endContainer.isEqualNode(n.commonAncestorContainer),WB=n=>c6(n)||UB(n),u6=n=>{const s=n.selection.getRng();return HB(s)&&gq(n,s)&&WB(s)},vq=n=>{if(u6(n)){const s=g4(n);return Y.some(()=>{QT(n),mq(n,s)})}else return Y.none()},f6=(n,s)=>n.selection.isCollapsed()?VB(n,s):vq(n),yq=(n,s)=>TY(n,l=>af(l.dom),l=>s.isBlock(Vs(l))),bq=n=>yq(Yt.fromDom(n.selection.getStart()),n.schema),Oq=n=>{const s=n.selection.getRng();return s.collapsed&&(ZB(s)||n.dom.isEmpty(s.startContainer))&&!bq(n)},MC=n=>(Oq(n)&&zB(n,[]),!0),d6=(n,s,l)=>B(l)?Y.some(()=>{n._selectionOverrides.hideFakeCaret(),Tv(n,s,Yt.fromDom(l))}):Y.none(),YB=(n,s)=>{const l=s?$T:n2,m=s?Pi.Forwards:Pi.Backwards,x=Hg(m,n.getBody(),n.selection.getRng());return l(x)?d6(n,s,x.getNode(!s)):Y.from(Ds(s,x)).filter(P=>l(P)&&sT(x,P)).bind(P=>d6(n,s,P.getNode(!s)))},xq=(n,s)=>{const l=n.selection.getNode();return ni(l)?d6(n,s,l):Y.none()},h6=(n,s)=>n.selection.isCollapsed()?YB(n,s):xq(n,s),bd=n=>Cu(n,s=>Wl(s.dom)||xs(s.dom)).exists(s=>Wl(s.dom)),m6=n=>Ft(n??"").getOr(0),p4=(n,s)=>{const l=n||Cc(s)?"margin":"padding",m=wi(s,"direction")==="rtl"?"-right":"-left";return l+m},XB=(n,s,l,m,x,P)=>{const Z=p4(l,Yt.fromDom(P)),J=m6(n.getStyle(P,Z));if(s==="outdent"){const ge=Math.max(0,J-m);n.setStyle(P,Z,ge?ge+x:"")}else{const ge=J+m+x;n.setStyle(P,Z,ge)}},g6=(n,s)=>Xe(s,l=>{const m=p4(Ox(n),l),x=Hi(l,m).map(m6).getOr(0);return n.dom.getContentEditable(l.dom)!=="false"&&x>0}),GB=n=>{const s=qB(n);return!n.mode.isReadOnly()&&(s.length>1||g6(n,s))},jB=n=>kc(n)||rd(n),Sq=n=>ou(n).exists(jB),qB=n=>se(Gp(n.selection.getSelectedBlocks()),s=>!jB(s)&&!Sq(s)&&bd(s)),KB=(n,s)=>{var l,m;const{dom:x}=n,P=Bw(n),Z=(m=(l=/[a-z%]+$/i.exec(P))===null||l===void 0?void 0:l[0])!==null&&m!==void 0?m:"px",J=m6(P),ge=Ox(n);re(qB(n),Re=>{XB(x,s,ge,J,Z,Re.dom)})},JB=n=>KB(n,"indent"),eQ=n=>KB(n,"outdent"),tQ=n=>{if(n.selection.isCollapsed()&&GB(n)){const s=n.dom,l=n.selection.getRng(),m=Nn.fromRangeStart(l),x=s.getParent(l.startContainer,s.isBlock);if(x!==null&&Q_(Yt.fromDom(x),m,n.schema))return Y.some(()=>eQ(n))}return Y.none()},D2=(n,s,l)=>wt([tQ,K8,K5,(m,x)=>PC(m,s,x),W8,XT,J8,h6,q5,f6],m=>m(n,l)).filter(m=>n.selection.isEditable()),_v=(n,s)=>{D2(n,s,!1).fold(()=>{n.selection.isEditable()&&(QT(n),qA(n))},pe)},Wb=(n,s)=>{D2(n,s,!0).fold(()=>{n.selection.isEditable()&&SY(n)},pe)},v4=(n,s)=>{n.addCommand("delete",()=>{_v(n,s)}),n.addCommand("forwardDelete",()=>{Wb(n,s)})},y4=5,p6=400,v6=n=>n.touches===void 0||n.touches.length!==1?Y.none():Y.some(n.touches[0]),wq=(n,s)=>{const l=Math.abs(n.clientX-s.x),m=Math.abs(n.clientY-s.y);return l>y4||m>y4},nQ=n=>{const s=Dg(),l=oi(!1),m=ax(x=>{n.dispatch("longpress",{...x,type:"longpress"}),l.set(!0)},p6);n.on("touchstart",x=>{v6(x).each(P=>{m.cancel();const Z={x:P.clientX,y:P.clientY,target:x.target};m.throttle(x),l.set(!1),s.set(Z)})},!0),n.on("touchmove",x=>{m.cancel(),v6(x).each(P=>{s.on(Z=>{wq(P,Z)&&(s.clear(),l.set(!1),n.dispatch("longpresscancel"))})})},!0),n.on("touchend touchcancel",x=>{m.cancel(),x.type!=="touchcancel"&&s.get().filter(P=>P.target.isEqualNode(x.target)).each(()=>{l.get()?x.preventDefault():n.dispatch("tap",{...x,type:"tap"})})},!0)},b4=(n,s)=>lt(n,s.nodeName),Tq=(n,s)=>lr(s)?!0:Xr(s)?!b4(n.getBlockElements(),s)&&!lf(s)&&!ks(n,s)&&!Qd(s):!1,Cq=(n,s,l)=>_e(N_(Yt.fromDom(l),Yt.fromDom(s)),m=>b4(n,m.dom)),kq=(n,s)=>{if(lr(s)){if(s.data.length===0)return!0;if(/^\s+$/.test(s.data))return!s.nextSibling||b4(n,s.nextSibling)||Qd(s.nextSibling)}return!1},rQ=n=>n.dom.create(Rc(n),Gy(n)),Aq=n=>{const s=n.dom,l=n.selection,m=n.schema,x=m.getBlockElements(),P=l.getStart(),Z=n.getBody();let J,ge,Re=!1;const Ge=Rc(n);if(!P||!Xr(P))return;const qe=Z.nodeName.toLowerCase();if(!m.isValidChild(qe,Ge.toLowerCase())||Cq(x,Z,P))return;const ot=l.getRng(),{startContainer:Et,startOffset:Vt,endContainer:kt,endOffset:It}=ot,cn=l1(n);let xn=Z.firstChild;for(;xn;)if(Xr(xn)&&UO(m,xn),Tq(m,xn)){if(kq(x,xn)){ge=xn,xn=xn.nextSibling,s.remove(ge);continue}J||(J=rQ(n),Z.insertBefore(J,xn),Re=!0),ge=xn,xn=xn.nextSibling,J.appendChild(ge)}else J=null,xn=xn.nextSibling;Re&&cn&&(ot.setStart(Et,Vt),ot.setEnd(kt,It),l.setRng(ot),n.nodeChanged())},oQ=(n,s,l)=>{const m=Yt.fromDom(rQ(n)),x=Ac();Ci(m,x),l(s,m);const P=document.createRange();return P.setStartBefore(x.dom),P.setEndBefore(x.dom),P},sQ=n=>{n.on("NodeChange",ee(Aq,n))},y6=n=>s=>(" "+s.attr("class")+" ").indexOf(n)!==-1,xce=(n,s,l)=>function(m){const x=arguments,P=x[x.length-2],Z=P>0?s.charAt(P-1):"";if(Z==='"')return m;if(Z===">"){const J=s.lastIndexOf("<",P);if(J!==-1&&s.substring(J,P).indexOf('contenteditable="false"')!==-1)return m}return'<span class="'+l+'" data-mce-content="'+n.dom.encode(x[0])+'">'+n.dom.encode(typeof x[1]=="string"?x[1]:x[0])+"</span>"},Sce=(n,s,l)=>{let m=s.length,x=l.content;if(l.format!=="raw"){for(;m--;)x=x.replace(s[m],xce(n,x,Yw(n)));l.content=x}},wce=n=>{const s="contenteditable",l=" "+fr.trim(Xk(n))+" ",m=" "+fr.trim(Yw(n))+" ",x=y6(l),P=y6(m),Z=LE(n);Z.length>0&&n.on("BeforeSetContent",J=>{Sce(n,Z,J)}),n.parser.addAttributeFilter("class",J=>{let ge=J.length;for(;ge--;){const Re=J[ge];x(Re)?Re.attr(s,"true"):P(Re)&&Re.attr(s,"false")}}),n.serializer.addAttributeFilter(s,J=>{let ge=J.length;for(;ge--;){const Re=J[ge];!x(Re)&&!P(Re)||(Z.length>0&&Re.attr("data-mce-content")?(Re.name="#text",Re.type=3,Re.raw=!0,Re.value=Re.attr("data-mce-content")):Re.attr(s,null))}})},Pq=n=>Tc(Yt.fromDom(n.getBody()),"*[data-mce-caret]").map(s=>s.dom).getOrNull(),Mq=(n,s)=>{s.hasAttribute("data-mce-caret")&&(Pn(s),n.selection.setRng(n.selection.getRng()),n.selection.scrollIntoView(s))},Tce=(n,s)=>{const l=Pq(n);if(l){if(s.type==="compositionstart"){s.preventDefault(),s.stopPropagation(),Mq(n,l);return}Zt(l)&&(Mq(n,l),n.undoManager.add())}},Eq=n=>{n.on("keyup compositionstart",ee(Tce,n))},aQ=xs,Cce=(n,s,l)=>a6(s,n,l,Sv,Wm,aQ),_q=(n,s,l)=>kC(s,n,l,P=>Sv(P)||J9(P),P=>Wm(P)||as(P),aQ),Zf=n=>{const s=n.dom.create(Rc(n));return s.innerHTML='<br data-mce-bogus="1">',s},b6=(n,s,l)=>{const m=Yd(n.getBody()),x=ee(sA,s===1?m.next:m.prev);if(l.collapsed){const P=n.dom.getParent(l.startContainer,"PRE");if(!P)return;if(!x(Nn.fromRangeStart(l))){const J=Yt.fromDom(Zf(n));s===1?Xu(Yt.fromDom(P),J):Ui(Yt.fromDom(P),J),n.selection.select(J.dom,!0),n.selection.collapse()}}},EC=(n,s)=>{const l=s?Pi.Forwards:Pi.Backwards,m=n.selection.getRng();return Cce(l,n,m).orThunk(()=>(b6(n,l,m),Y.none()))},Rq=(n,s)=>{const l=s?1:-1,m=n.selection.getRng();return _q(l,n,m).orThunk(()=>(b6(n,l,m),Y.none()))},iQ=(n,s)=>{const l=s?n.getEnd(!0):n.getStart(!0);return vL(l)?!s:s},O6=(n,s)=>EC(n,iQ(n.selection,s)).exists(l=>(hp(n,l),!0)),O4=(n,s)=>Rq(n,s).exists(l=>(hp(n,l),!0)),lQ=(n,s)=>_2(n,s,s?Wm:Sv),x4=(n,s)=>X8(n,!s).map(l=>{const m=l.toRange(),x=n.selection.getRng();return s?m.setStart(x.startContainer,x.startOffset):m.setEnd(x.endContainer,x.endOffset),m}).exists(l=>(hp(n,l),!0)),cQ=n=>Ve(["figcaption"],Vs(n)),Dq=(n,s,l)=>{const m=ee(Gs,s);return Cu(Yt.fromDom(n.container()),x=>l.isBlock(Vs(x)),m).filter(cQ)},$q=(n,s,l)=>s?SC(n.dom,l):TB(n.dom,l),Lq=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=Nn.fromRangeStart(n.selection.getRng());return Dq(m,l,n.schema).exists(()=>{if($q(l,s,m)){const P=oQ(n,l,s?Ci:bm);return n.selection.setRng(P),!0}else return!1})},S4=(n,s)=>n.selection.isCollapsed()?Lq(n,s):!1,Iq=(n,s,l)=>{const m=n.selection.getRng(),x=Nn.fromRangeStart(m);return n.getBody().firstChild===s&&TB(l,x)?(n.execCommand("InsertNewBlockBefore"),!0):!1},Nq=(n,s)=>{const l=n.selection.getRng(),m=Nn.fromRangeStart(l);return n.getBody().lastChild===s&&SC(s,m)?(n.execCommand("InsertNewBlockAfter"),!0):!1},kce=(n,s)=>s?Y.from(n.dom.getParent(n.selection.getNode(),"details")).map(l=>Nq(n,l)).getOr(!1):Y.from(n.dom.getParent(n.selection.getNode(),"summary")).bind(l=>Y.from(n.dom.getParent(l,"details")).map(m=>Iq(n,m,l))).getOr(!1),uQ=(n,s)=>kce(n,s),x6={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Ace=n=>Ie(n,s=>({...x6,...s})),Bq=n=>Ie(n,s=>({...x6,...s})),fQ=(n,s)=>s.keyCode===n.keyCode&&s.shiftKey===n.shiftKey&&s.altKey===n.altKey&&s.ctrlKey===n.ctrlKey&&s.metaKey===n.metaKey,Qq=(n,s)=>Ze(Ace(n),l=>fQ(l,s)?[l]:[]),S6=(n,s)=>Ze(Bq(n),l=>fQ(l,s)?[l]:[]),Ro=(n,...s)=>()=>n.apply(null,s),$2=(n,s)=>ce(Qq(n,s),l=>l.action()),w6=(n,s)=>wt(S6(n,s),l=>l.action()),dQ=(n,s)=>{const l=s?Pi.Forwards:Pi.Backwards,m=n.selection.getRng();return a6(n,l,m,$T,n2,ni).exists(x=>(hp(n,x),!0))},hQ=(n,s)=>{const l=s?1:-1,m=n.selection.getRng();return kC(n,l,m,$T,n2,ni).exists(x=>(hp(n,x),!0))},w4=(n,s)=>_2(n,s,s?n2:$T),mQ=Ud.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),_C={...mQ,none:n=>mQ.none(n)},Fq=(n,s)=>ah(n,s,le),ah=(n,s,l)=>Ze(sl(n),m=>Uu(m,s)?l(m)?[m]:[]:ah(m,s,l)),gQ=(n,s,l=ne)=>{if(l(s))return Y.none();if(Ve(n,Vs(s)))return Y.some(s);const m=x=>Uu(x,"table")||l(x);return Sg(s,n.join(","),m)},pQ=(n,s)=>gQ(["td","th"],n,s),Mce=n=>Fq(n,"th,td"),Vq=(n,s)=>_f(n,"table",s),vQ=(n,s,l,m,x=le)=>{const P=m===1;if(!P&&l<=0)return _C.first(n[0]);if(P&&l>=n.length-1)return _C.last(n[n.length-1]);{const Z=l+m,J=n[Z];return x(J)?_C.middle(s,J):vQ(n,s,Z,m,x)}},zq=(n,s)=>Vq(n,s).bind(l=>{const m=Mce(l);return ke(m,P=>Gs(n,P)).map(P=>({index:P,all:m}))}),Zq=(n,s,l)=>zq(n,l).fold(()=>_C.none(n),x=>vQ(x.all,n,x.index,1,s)),T4=(n,s,l)=>zq(n,l).fold(()=>_C.none(),x=>vQ(x.all,n,x.index,-1,s)),Hq=(n,s)=>({left:n.left-s,top:n.top-s,right:n.right+s*2,bottom:n.bottom+s*2,width:n.width+s,height:n.height+s}),T6=(n,s)=>Ze(s,l=>{const m=Hq(iv(l.getBoundingClientRect()),-1);return[{x:m.left,y:n(m),cell:l},{x:m.right,y:n(m),cell:l}]}),yQ=(n,s,l)=>oe(n,(m,x)=>m.fold(()=>Y.some(x),P=>{const Z=Math.sqrt(Math.abs(P.x-s)+Math.abs(P.y-l)),J=Math.sqrt(Math.abs(x.x-s)+Math.abs(x.y-l));return Y.some(J<Z?x:P)}),Y.none()),C6=(n,s,l,m,x)=>{const P=al(Yt.fromDom(l),"td,th,caption").map(J=>J.dom),Z=se(T6(n,P),J=>s(J,x));return yQ(Z,m,x).map(J=>J.cell)},bQ=n=>n.bottom,Uq=n=>n.top,Wq=(n,s)=>n.y<s,Yq=(n,s)=>n.y>s,Xq=ee(C6,bQ,Wq),C4=ee(C6,Uq,Yq),Gq=(n,s)=>yt(s.getClientRects()).bind(l=>Xq(n,l.left,l.top)).bind(l=>zf(Kj(l),s)),jq=(n,s)=>ft(s.getClientRects()).bind(l=>C4(n,l.left,l.top)).bind(l=>zf(qj(l),s)),qq=(n,s,l)=>l.breakAt.exists(m=>n(s,m).breakAt.isSome()),k6=n=>n.breakType===Gh.Wrap&&n.positions.length===0,Kq=n=>n.breakType===Gh.Br&&n.positions.length===1,OQ=(n,s,l)=>{const m=n(s,l);return k6(m)||!aa(l.getNode())&&Kq(m)?!qq(n,s,m):m.breakAt.isNone()},xQ=ee(OQ,OC),Jq=ee(OQ,xC),eK=(n,s,l)=>{const m=Nn.fromRangeStart(s);return G0(!n,l).exists(x=>x.isEqual(m))},tK=(n,s,l,m)=>{const x=n.selection.getRng(),P=s?1:-1;return rb()&&eK(s,x,l)?(fp(P,n,l,!s,!1).each(Z=>{hp(n,Z)}),!0):!1},nK=(n,s,l)=>Gq(s,l).orThunk(()=>yt(l.getClientRects()).bind(m=>wB(x1(n,Nn.before(s)),m.left))).getOr(Nn.before(s)),rK=(n,s,l)=>jq(s,l).orThunk(()=>yt(l.getClientRects()).bind(m=>wB(r6(n,Nn.after(s)),m.left))).getOr(Nn.after(s)),SQ=(n,s)=>{const l=s.getNode(n);return qu(l)?Y.some(l):Y.none()},A6=(n,s,l)=>{s.undoManager.transact(()=>{const m=n?Xu:Ui,x=oQ(s,Yt.fromDom(l),m);hp(s,x)})},wQ=(n,s,l)=>{const m=SQ(!!s,l),x=s===!1;m.fold(()=>hp(n,l.toRange()),P=>G0(x,n.getBody()).filter(Z=>Z.isEqual(l)).fold(()=>hp(n,l.toRange()),Z=>A6(s,n,P)))},TQ=(n,s,l,m)=>{const x=n.selection.getRng(),P=Nn.fromRangeStart(x),Z=n.getBody();if(!s&&xQ(m,P)){const J=nK(Z,l,P);return wQ(n,s,J),!0}else if(s&&Jq(m,P)){const J=rK(Z,l,P);return wQ(n,s,J),!0}else return!1},CQ=(n,s,l)=>Y.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(m=>Y.from(n.dom.getParent(m,"table")).map(x=>l(n,s,x,m))).getOr(!1),kQ=(n,s)=>CQ(n,s,tK),P6=(n,s)=>CQ(n,s,TQ),oK=n=>{const s=Um.exact(n,0,n,0);return T_(s)},AQ=(n,s,l)=>l.fold(Y.none,Y.none,(m,x)=>EW(x).map(P=>oK(P)),m=>(n.execCommand("mceTableInsertRowAfter"),PQ(n,s,m))),PQ=(n,s,l)=>AQ(n,s,Zq(l,jo)),xl=(n,s,l)=>AQ(n,s,T4(l,jo)),MQ=(n,s)=>{const l=["table","li","dl"],m=Yt.fromDom(n.getBody()),x=J=>{const ge=Vs(J);return Gs(J,m)||Ve(l,ge)},P=n.selection.getRng(),Z=Yt.fromDom(s?P.endContainer:P.startContainer);return pQ(Z,x).map(J=>(Vq(J,x).each(Ge=>{n.model.table.clearSelectedCells(Ge.dom)}),n.selection.collapse(!s),(s?PQ:xl)(n,x,J).each(Ge=>{n.selection.setRng(Ge)}),!0)).getOr(!1)},sK=(n,s,l)=>{const m=Dr.os.isMacOS()||Dr.os.isiOS();$2([{keyCode:Yr.RIGHT,action:Ro(O6,n,!0)},{keyCode:Yr.LEFT,action:Ro(O6,n,!1)},{keyCode:Yr.UP,action:Ro(O4,n,!1)},{keyCode:Yr.DOWN,action:Ro(O4,n,!0)},...m?[{keyCode:Yr.UP,action:Ro(x4,n,!1),metaKey:!0,shiftKey:!0},{keyCode:Yr.DOWN,action:Ro(x4,n,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Yr.RIGHT,action:Ro(kQ,n,!0)},{keyCode:Yr.LEFT,action:Ro(kQ,n,!1)},{keyCode:Yr.UP,action:Ro(P6,n,!1)},{keyCode:Yr.DOWN,action:Ro(P6,n,!0)},{keyCode:Yr.UP,action:Ro(P6,n,!1)},{keyCode:Yr.UP,action:Ro(uQ,n,!1)},{keyCode:Yr.DOWN,action:Ro(uQ,n,!0)},{keyCode:Yr.RIGHT,action:Ro(dQ,n,!0)},{keyCode:Yr.LEFT,action:Ro(dQ,n,!1)},{keyCode:Yr.UP,action:Ro(hQ,n,!1)},{keyCode:Yr.DOWN,action:Ro(hQ,n,!0)},{keyCode:Yr.RIGHT,action:Ro(LB,n,s,!0)},{keyCode:Yr.LEFT,action:Ro(LB,n,s,!1)},{keyCode:Yr.RIGHT,ctrlKey:!m,altKey:m,action:Ro(iq,n,s)},{keyCode:Yr.LEFT,ctrlKey:!m,altKey:m,action:Ro(lq,n,s)},{keyCode:Yr.UP,action:Ro(S4,n,!1)},{keyCode:Yr.DOWN,action:Ro(S4,n,!0)}],l).each(x=>{l.preventDefault()})},aK=(n,s)=>{n.on("keydown",l=>{l.isDefaultPrevented()||sK(n,s,l)})},jh=(n,s)=>({container:n,offset:s}),L2=$a.DOM,RC=n=>s=>n===s?-1:0,T1=n=>s=>n.isBlock(s)||Ve(["BR","IMG","HR","INPUT"],s.nodeName)||n.getContentEditable(s)==="false",DC=(n,s,l)=>{if(lr(n)&&s>=0)return Y.some(jh(n,s));{const m=$g(L2);return Y.from(m.backwards(n,s,RC(n),l)).map(x=>jh(x.container,x.container.data.length))}},EQ=(n,s,l)=>{if(lr(n)&&s>=n.length)return Y.some(jh(n,s));{const m=$g(L2);return Y.from(m.forwards(n,s,RC(n),l)).map(x=>jh(x.container,0))}},$C=(n,s,l)=>{if(!lr(n))return Y.none();const m=n.data;if(s>=0&&s<=m.length)return Y.some(jh(n,s));{const x=$g(L2);return Y.from(x.backwards(n,s,RC(n),l)).bind(P=>{const Z=P.container.data;return $C(P.container,s+Z.length,l)})}},k4=(n,s,l)=>{if(!lr(n))return Y.none();const m=n.data;if(s<=m.length)return Y.some(jh(n,s));{const x=$g(L2);return Y.from(x.forwards(n,s,RC(n),l)).bind(P=>k4(P.container,s-m.length,l))}},LC=(n,s,l,m,x)=>{const P=$g(n,T1(n));return Y.from(P.backwards(s,l,m,x))},_Q=n=>n.collapsed&&lr(n.startContainer),IC=n=>Pe(n.toString().replace(/\u00A0/g," ")),NC=n=>n!==""&&` \f
\r	\v`.indexOf(n)!==-1,Yb=(n,s)=>n.substring(s.length),BC=(n,s,l)=>{let m;const x=l.charAt(0);for(m=s-1;m>=0;m--){const P=n.charAt(m);if(NC(P))return Y.none();if(x===P&&sr(n,l,m,s))break}return Y.some(m)},qh=(n,s,l,m=0)=>{if(!_Q(s))return Y.none();const x={text:"",offset:0},P=(J,ge,Re)=>(x.text=Re+x.text,x.offset+=ge,BC(x.text,x.offset,l).getOr(ge)),Z=n.getParent(s.startContainer,n.isBlock)||n.getRoot();return LC(n,s.startContainer,s.startOffset,P,Z).bind(J=>{const ge=s.cloneRange();if(ge.setStart(J.container,J.offset),ge.setEnd(s.endContainer,s.endOffset),ge.collapsed)return Y.none();const Re=IC(ge);return Re.lastIndexOf(l)!==0||Yb(Re,l).length<m?Y.none():Y.some({text:Yb(Re,l),range:ge,trigger:l})})},I2=(n,s,l,m=0)=>$W(Yt.fromDom(s.startContainer)).fold(()=>qh(n,s,l,m),x=>{const P=n.createRng();P.selectNode(x.dom);const Z=IC(P);return Y.some({range:P,text:Yb(Z,l),trigger:l})}),RQ=n=>n.nodeType===hm,DQ=n=>n.nodeType===yh,$Q=n=>{if(RQ(n))return jh(n,n.data.length);{const s=n.childNodes;return s.length>0?$Q(s[s.length-1]):jh(n,s.length)}},M6=(n,s)=>{const l=n.childNodes;return l.length>0&&s<l.length?M6(l[s],0):l.length>0&&DQ(n)&&l.length===s?$Q(l[l.length-1]):jh(n,s)},iK=(n,s)=>{var l;const m=(l=n.getParent(s.container,n.isBlock))!==null&&l!==void 0?l:n.getRoot();return LC(n,s.container,s.offset,(x,P)=>P===0?-1:P,m).filter(x=>{const P=x.container.data.charAt(x.offset-1);return!NC(P)}).isSome()},lK=n=>s=>{const l=M6(s.startContainer,s.startOffset);return!iK(n,l)},QC=(n,s,l)=>wt(l.triggers,m=>I2(n,s,m)),cK=(n,s)=>{const l=s(),m=n.selection.getRng();return QC(n.dom,m,l).bind(x=>LQ(n,s,x))},LQ=(n,s,l,m={})=>{var x;const P=s(),J=(x=n.selection.getRng().startContainer.nodeValue)!==null&&x!==void 0?x:"",ge=se(P.lookupByTrigger(l.trigger),Ge=>l.text.length>=Ge.minChars&&Ge.matches.getOrThunk(()=>lK(n.dom))(l.range,J,l.text));if(ge.length===0)return Y.none();const Re=Promise.all(Ie(ge,Ge=>Ge.fetch(l.text,Ge.maxResults,m).then(ot=>({matchText:l.text,items:ot,columns:Ge.columns,onAction:Ge.onAction,highlightOn:Ge.highlightOn}))));return Y.some({lookupData:Re,context:l})};var qm;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(qm||(qm={}));const E6=(n,s,l)=>n.stype===qm.Error?s(n.serror):l(n.svalue),uK=n=>{const s=[],l=[];return re(n,m=>{E6(m,x=>l.push(x),x=>s.push(x))}),{values:s,errors:l}},fK=(n,s)=>n.stype===qm.Error?{stype:qm.Error,serror:s(n.serror)}:n,dK=(n,s)=>n.stype===qm.Value?{stype:qm.Value,svalue:s(n.svalue)}:n,hK=(n,s)=>n.stype===qm.Value?s(n.svalue):n,mK=(n,s)=>n.stype===qm.Error?s(n.serror):n,IQ=n=>({stype:qm.Value,svalue:n}),NQ=n=>({stype:qm.Error,serror:n}),Nc={fromResult:n=>n.fold(NQ,IQ),toResult:n=>E6(n,lu.error,lu.value),svalue:IQ,partition:uK,serror:NQ,bind:hK,bindError:mK,map:dK,mapError:fK,fold:E6},A4=n=>I(n)&&Gt(n).length>100?" removed due to size":JSON.stringify(n,null,2),BQ=n=>{const s=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:ae("... (only showing first ten failures)")}]):n;return Ie(s,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())},FC=(n,s)=>Nc.serror([{path:n,getErrorInfo:s}]),gK=(n,s,l)=>FC(n,()=>'Could not find valid *required* value for "'+s+'" in '+A4(l)),pK=(n,s)=>FC(n,()=>'Choice schema did not contain choice key: "'+s+'"'),vK=(n,s,l)=>FC(n,()=>'The chosen schema: "'+l+'" did not exist in branches: '+A4(s)),yK=(n,s)=>FC(n,ae(s)),QQ=(n,s,l,m)=>Sn(l,m).fold(()=>vK(n,l,m),P=>P.extract(n.concat(["branch: "+m]),s)),bK=(n,s)=>({extract:(x,P)=>Sn(P,n).fold(()=>pK(x,n),J=>QQ(x,P,s,J)),toString:()=>"chooseOn("+n+"). Possible values: "+Gt(s)}),FQ=(n,s)=>s,OK=(n,s)=>V(n)&&V(s)?VC(n,s):s,_6=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const l={};for(let m=0;m<s.length;m++){const x=s[m];for(const P in x)lt(x,P)&&(l[P]=n(l[P],x[P]))}return l},VC=_6(OK),xK=_6(FQ),VQ=()=>({tag:"required",process:{}}),SK=n=>({tag:"defaultedThunk",process:n}),R6=n=>SK(ae(n)),wK=()=>({tag:"option",process:{}}),TK=(n,s)=>n.length>0?Nc.svalue(VC(s,xK.apply(void 0,n))):Nc.svalue(s),D6=n=>L(Nc.serror,Qe)(n),zQ={consolidateObj:(n,s)=>{const l=Nc.partition(n);return l.errors.length>0?D6(l.errors):TK(l.values,s)},consolidateArr:n=>{const s=Nc.partition(n);return s.errors.length>0?D6(s.errors):Nc.svalue(s.values)}},CK=(n,s,l,m)=>({tag:"field",key:n,newKey:s,presence:l,prop:m}),kK=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),ZQ=(n,s,l)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return l(n.newKey,n.instantiator)}},P4=n=>{const s=(m,x)=>Nc.bindError(n(x),P=>yK(m,P)),l=ae("val");return{extract:s,toString:l}},HQ=P4(Nc.svalue),AK=(n,s,l,m)=>Sn(s,l).fold(()=>gK(n,l,s),m),UQ=(n,s,l,m)=>{const x=Sn(n,s).getOrThunk(()=>l(n));return m(x)},PK=(n,s,l)=>l(Sn(n,s)),MK=(n,s,l,m)=>{const x=Sn(n,s).map(P=>P===!0?l(n):P);return m(x)},EK=(n,s,l,m,x)=>{const P=J=>x.extract(s.concat([m]),J),Z=J=>J.fold(()=>Nc.svalue(Y.none()),ge=>{const Re=x.extract(s.concat([m]),ge);return Nc.map(Re,Y.some)});switch(n.tag){case"required":return AK(s,l,m,P);case"defaultedThunk":return UQ(l,m,n.process,P);case"option":return PK(l,m,Z);case"defaultedOptionThunk":return MK(l,m,n.process,Z);case"mergeWithThunk":return UQ(l,m,ae({}),J=>{const ge=VC(n.process(l),J);return P(ge)})}},_K=(n,s,l)=>{const m={},x=[];for(const P of l)ZQ(P,(Z,J,ge,Re)=>{const Ge=EK(ge,n,s,Z,Re);Nc.fold(Ge,qe=>{x.push(...qe)},qe=>{m[J]=qe})},(Z,J)=>{m[Z]=J(s)});return x.length>0?Nc.serror(x):Nc.svalue(m)},$6=n=>({extract:(m,x)=>_K(m,x,n),toString:()=>`obj{
`+Ie(n,x=>ZQ(x,(P,Z,J,ge)=>P+" -> "+ge.toString(),(P,Z)=>"state("+P+")")).join(`
`)+"}"}),WQ=n=>({extract:(m,x)=>{const P=Ie(x,(Z,J)=>n.extract(m.concat(["["+J+"]"]),Z));return zQ.consolidateArr(P)},toString:()=>"array("+n.toString()+")"}),$ce=n=>P4(s=>n(s).fold(Nc.serror,Nc.svalue)),RK=(n,s,l)=>{const m=s.extract([n],l);return Nc.mapError(m,x=>({input:l,errors:x}))},M4=(n,s,l)=>Nc.toResult(RK(n,s,l)),YQ=n=>`Errors: 
`+BQ(n.errors).join(`
`)+`

Input object: `+A4(n.input),L6=(n,s)=>bK(n,vn(s,$6)),DK=ae(HQ),zC=(n,s)=>P4(l=>{const m=typeof l;return n(l)?Nc.svalue(l):Nc.serror(`Expected type: ${s} but got: ${m}`)}),XQ=zC(W,"number"),E4=zC(M,"string"),$K=zC(z,"boolean"),I6=zC(E,"function"),N2=CK,GQ=kK,N6=n=>$ce(s=>Ve(n,s)?lu.value(s):lu.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),jQ=(n,s)=>N2(n,n,VQ(),s),qQ=n=>jQ(n,E4),KQ=n=>jQ(n,I6),JQ=(n,s)=>N2(n,n,VQ(),WQ(s)),B6=(n,s)=>N2(n,n,wK(),s),_4=n=>B6(n,E4),LK=n=>B6(n,I6),IK=(n,s)=>N2(n,n,R6(s),DK()),B2=(n,s,l)=>N2(n,n,R6(s),l),Sl=(n,s)=>B2(n,s,XQ),mp=(n,s)=>B2(n,s,E4),eF=(n,s,l)=>B2(n,s,N6(l)),tF=(n,s)=>B2(n,s,$K),Q6=(n,s)=>B2(n,s,I6),NK=(n,s,l)=>B2(n,s,WQ(l)),BK=qQ("type"),QK=KQ("fetch"),R4=KQ("onAction"),Q2=Q6("onSetup",()=>ie),Lce=_4("text"),FK=_4("icon"),VK=_4("tooltip"),Km=_4("label"),zK=tF("active",!1),ZK=tF("enabled",!0),F6=tF("primary",!1),HK=n=>IK("columns",n),Xb=n=>mp("type",n),nF=$6([BK,qQ("trigger"),Sl("minChars",1),HK(1),Sl("maxResults",10),LK("matches"),QK,R4,NK("highlightOn",[],E4)]),UK=n=>M4("Autocompleter",nF,{trigger:n.ch,...n}),V6=[ZK,VK,FK,Lce,Q2],rF=[zK].concat(V6),oF=[Q6("predicate",ne),eF("scope","node",["node","editor"]),eF("position","selection",["node","selection","line"])],sF=V6.concat([Xb("contextformbutton"),F6,R4,GQ("original",q)]),z6=rF.concat([Xb("contextformbutton"),F6,R4,GQ("original",q)]),Z6=V6.concat([Xb("contextformbutton")]),H6=rF.concat([Xb("contextformtogglebutton")]),WK=L6("type",{contextformbutton:sF,contextformtogglebutton:z6});$6([Xb("contextform"),Q6("initValue",ae("")),Km,JQ("commands",WK),B6("launch",L6("type",{contextformbutton:Z6,contextformtogglebutton:H6}))].concat(oF));const YK=n=>{const s=n.ui.registry.getAll().popups,l=vn(s,Z=>UK(Z).fold(J=>{throw new Error(YQ(J))},q)),m=gt(Xn(l,Z=>Z.trigger)),x=Un(l);return{dataset:l,triggers:m,lookupByTrigger:Z=>se(x,J=>J.trigger===Z)}},XK=(n,s)=>{const l=ax(s.load,50);n.on("keypress compositionend",m=>{m.which!==27&&l.throttle()}),n.on("keydown",m=>{const x=m.which;x===8?l.throttle():x===27&&s.cancelIfNecessary()}),n.on("remove",l.cancel)},GK=n=>{const s=Dg(),l=oi(!1),m=s.isSet,x=()=>{m()&&(xG(n),CT(n),l.set(!1),s.clear())},P=Re=>{m()||(OG(n,Re.range),s.set({trigger:Re.trigger,matchLength:Re.text.length}))},Z=Rt(()=>YK(n)),J=Re=>s.get().map(Ge=>I2(n.dom,n.selection.getRng(),Ge.trigger).bind(qe=>LQ(n,Z,qe,Re))).getOrThunk(()=>cK(n,Z)),ge=Re=>{J(Re).fold(x,Ge=>{P(Ge.context),Ge.lookupData.then(qe=>{s.get().map(ot=>{const Et=Ge.context;ot.trigger===Et.trigger&&(Et.text.length-ot.matchLength>=10?x():(s.set({...ot,matchLength:Et.text.length}),l.get()?CA(n,{lookupData:qe}):(l.set(!0),TT(n,{lookupData:qe}))))})})})};n.addCommand("mceAutocompleterReload",(Re,Ge)=>{const qe=I(Ge)?Ge.fetchOptions:{};ge(qe)}),n.addCommand("mceAutocompleterClose",x),XK(n,{cancelIfNecessary:x,load:ge})},iF=li().browser.isSafari(),lF=n=>D(Yt.fromDom(n)),U6=(n,s)=>{var l;return n.startOffset===0&&n.endOffset===((l=s.textContent)===null||l===void 0?void 0:l.length)},D4=(n,s)=>Y.from(n.getParent(s.container(),"details")),$4=(n,s)=>D4(n,s).isSome(),jK=(n,s)=>{const l=Y.from(n.getParent(s.startContainer,"details")),m=Y.from(n.getParent(s.endContainer,"details"));if(l.isSome()||m.isSome()){const x=l.bind(P=>Y.from(n.select("summary",P)[0]));return Y.some({startSummary:x,startDetails:l,endDetails:m})}else return Y.none()},qK=(n,s)=>Gc(s).exists(l=>l.isEqual(n)),KK=(n,s)=>ud(s).exists(l=>aa(l.getNode())&&fu(s,l).exists(m=>m.isEqual(n))||l.isEqual(n)),JK=(n,s)=>s.startSummary.exists(l=>qK(n,l)),eJ=(n,s)=>s.startSummary.exists(l=>KK(n,l)),cF=(n,s)=>s.startDetails.exists(l=>fu(l,n).forall(m=>s.startSummary.exists(x=>!x.contains(n.container())&&x.contains(m.container())))),W6=(n,s,l)=>l.startDetails.exists(m=>$c(n,s).forall(x=>!m.contains(x.container()))),Y6=(n,s)=>{const l=s.getNode();U(l)||n.selection.setCursorLocation(l,s.offset())},X6=(n,s,l)=>{const m=n.dom.getParent(s.container(),"details");if(m&&!m.open){const x=n.dom.select("summary",m)[0];x&&(l?Gc(x):ud(x)).each(Z=>Y6(n,Z))}else Y6(n,s)},tJ=(n,s)=>{const l=ge=>ge.contains(n.startContainer),m=ge=>ge.contains(n.endContainer),x=s.startSummary.exists(l),P=s.startSummary.exists(m),Z=s.startDetails.forall(ge=>s.endDetails.forall(Re=>ge!==Re));return(x||P)&&!(x&&P)||Z},uF=(n,s,l)=>{const{dom:m,selection:x}=n,P=n.getBody();if(l==="character"){const Z=Nn.fromRangeStart(x.getRng()),J=m.getParent(Z.container(),m.isBlock),ge=D4(m,Z),Re=J&&m.isEmpty(J),Ge=Q(J==null?void 0:J.previousSibling),qe=Q(J==null?void 0:J.nextSibling);return Re&&(s?qe:Ge)&&Bm(!s,P,Z).exists(Vt=>$4(m,Vt)&&!xi(ge,D4(m,Vt)))?!0:Bm(s,P,Z).fold(ne,ot=>{const Et=D4(m,ot);if($4(m,ot)&&!xi(ge,Et)){if(s||X6(n,ot,!1),J&&Re){if(s&&Ge)return!0;if(!s&&qe)return!0;X6(n,ot,s),n.dom.remove(J)}return!0}else return!1})}else return!1},nJ=(n,s,l,m)=>{const P=n.selection.getRng(),Z=Nn.fromRangeStart(P),J=n.getBody();return m==="selection"?tJ(P,s):l?eJ(Z,s)||W6(J,Z,s):JK(Z,s)||cF(Z,s)},L4=(n,s,l)=>jK(n.dom,n.selection.getRng()).fold(()=>uF(n,s,l),m=>nJ(n,m,s,l)||uF(n,s,l)),fF=(n,s,l)=>{const m=n.selection,x=m.getNode(),P=m.getRng(),Z=Nn.fromRangeStart(P);return Hc(x)?(l==="selection"&&U6(P,x)||KA(s,Z,x)?lF(x):n.undoManager.transact(()=>{const J=m.getSel();let{anchorNode:ge,anchorOffset:Re,focusNode:Ge,focusOffset:qe}=J??{};const ot=()=>{B(ge)&&B(Re)&&B(Ge)&&B(qe)&&(J==null||J.setBaseAndExtent(ge,Re,Ge,qe))},Et=()=>{ge=J==null?void 0:J.anchorNode,Re=J==null?void 0:J.anchorOffset,Ge=J==null?void 0:J.focusNode,qe=J==null?void 0:J.focusOffset},Vt=(It,cn)=>{re(It.childNodes,xn=>{db(xn)&&cn.appendChild(xn)})},kt=n.dom.create("span",{"data-mce-bogus":"1"});Vt(x,kt),x.appendChild(kt),ot(),(l==="word"||l==="line")&&(J==null||J.modify("extend",s?"right":"left",l)),!m.isCollapsed()&&U6(m.getRng(),kt)?lF(x):(n.execCommand(s?"ForwardDelete":"Delete"),Et(),Vt(kt,x),ot()),n.dom.remove(kt)}),!0):!1},C1=(n,s,l)=>L4(n,s,l)||iF&&fF(n,s,l)?Y.some(ie):Y.none(),dF=n=>(s,l,m={})=>{const x=s.getBody(),P={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:x,currentTarget:x,eventPhase:Event.AT_TARGET,originalTarget:x,explicitOriginalTarget:x,isTrusted:!1,srcElement:x,cancelable:!1,preventDefault:ie,inputType:l},Z=v0(new InputEvent(n));return s.dispatch(n,{...Z,...P,...m})},ZC=dF("input"),G6=dF("beforeinput"),rJ=li(),oJ=rJ.os,hF=oJ.isMacOS()||oJ.isiOS(),sJ=rJ.browser.isFirefox(),aJ=(n,s,l)=>{const m=l.keyCode===Yr.BACKSPACE?"deleteContentBackward":"deleteContentForward",x=n.selection.isCollapsed(),P=x?"character":"selection",Z=J=>x?J?"word":"line":"selection";w6([{keyCode:Yr.BACKSPACE,action:Ro(tQ,n)},{keyCode:Yr.BACKSPACE,action:Ro(K8,n,!1)},{keyCode:Yr.DELETE,action:Ro(K8,n,!0)},{keyCode:Yr.BACKSPACE,action:Ro(K5,n,!1)},{keyCode:Yr.DELETE,action:Ro(K5,n,!0)},{keyCode:Yr.BACKSPACE,action:Ro(PC,n,s,!1)},{keyCode:Yr.DELETE,action:Ro(PC,n,s,!0)},{keyCode:Yr.BACKSPACE,action:Ro(XT,n,!1)},{keyCode:Yr.DELETE,action:Ro(XT,n,!0)},{keyCode:Yr.BACKSPACE,action:Ro(C1,n,!1,P)},{keyCode:Yr.DELETE,action:Ro(C1,n,!0,P)},...hF?[{keyCode:Yr.BACKSPACE,altKey:!0,action:Ro(C1,n,!1,Z(!0))},{keyCode:Yr.DELETE,altKey:!0,action:Ro(C1,n,!0,Z(!0))},{keyCode:Yr.BACKSPACE,metaKey:!0,action:Ro(C1,n,!1,Z(!1))}]:[{keyCode:Yr.BACKSPACE,ctrlKey:!0,action:Ro(C1,n,!1,Z(!0))},{keyCode:Yr.DELETE,ctrlKey:!0,action:Ro(C1,n,!0,Z(!0))}],{keyCode:Yr.BACKSPACE,action:Ro(J8,n,!1)},{keyCode:Yr.DELETE,action:Ro(J8,n,!0)},{keyCode:Yr.BACKSPACE,action:Ro(h6,n,!1)},{keyCode:Yr.DELETE,action:Ro(h6,n,!0)},{keyCode:Yr.BACKSPACE,action:Ro(q5,n,!1)},{keyCode:Yr.DELETE,action:Ro(q5,n,!0)},{keyCode:Yr.BACKSPACE,action:Ro(W8,n,!1)},{keyCode:Yr.DELETE,action:Ro(W8,n,!0)},{keyCode:Yr.BACKSPACE,action:Ro(f6,n,!1)},{keyCode:Yr.DELETE,action:Ro(f6,n,!0)}],l).filter(J=>n.selection.isEditable()).each(J=>{l.preventDefault(),G6(n,m).isDefaultPrevented()||(J(),ZC(n,m))})},Ice=(n,s,l)=>$2([{keyCode:Yr.BACKSPACE,action:Ro(e4,n)},{keyCode:Yr.DELETE,action:Ro(e4,n)},...hF?[{keyCode:Yr.BACKSPACE,altKey:!0,action:Ro(MC,n)},{keyCode:Yr.DELETE,altKey:!0,action:Ro(MC,n)},...l?[{keyCode:sJ?224:91,action:Ro(MC,n)}]:[]]:[{keyCode:Yr.BACKSPACE,ctrlKey:!0,action:Ro(MC,n)},{keyCode:Yr.DELETE,ctrlKey:!0,action:Ro(MC,n)}]],s),iJ=(n,s)=>{let l=!1;n.on("keydown",m=>{l=m.keyCode===Yr.BACKSPACE,m.isDefaultPrevented()||aJ(n,s,m)}),n.on("keyup",m=>{m.isDefaultPrevented()||Ice(n,m,l),l=!1})},Bi=n=>{for(;n;){if(Xr(n)||lr(n)&&n.data&&/[\r\n\s]/.test(n.data))return n;n=n.nextSibling}return null},k1=(n,s)=>{const l=n.dom,m=n.schema.getMoveCaretBeforeOnEnterElements();if(!s)return;if(/^(LI|DT|DD)$/.test(s.nodeName)){const P=Bi(s.firstChild);P&&/^(UL|OL|DL)$/.test(P.nodeName)&&s.insertBefore(l.doc.createTextNode(zs),s.firstChild)}const x=l.createRng();if(s.normalize(),s.hasChildNodes()){const P=new ca(s,s);let Z=s,J;for(;J=P.current();){if(lr(J)){x.setStart(J,0),x.setEnd(J,0);break}if(m[J.nodeName.toLowerCase()]){x.setStartBefore(J),x.setEndBefore(J);break}Z=J,J=P.next()}J||(x.setStart(Z,0),x.setEnd(Z,0))}else aa(s)?s.nextSibling&&l.isBlock(s.nextSibling)?(x.setStartBefore(s),x.setEndBefore(s)):(x.setStartAfter(s),x.setEndAfter(s)):(x.setStart(s,0),x.setEnd(s,0));n.selection.setRng(x),Mb(n,x)},Od=(n,s)=>{const l=n.getRoot();let m,x=s;for(;x!==l&&x&&n.getContentEditable(x)!=="false";){if(n.getContentEditable(x)==="true"){m=x;break}x=x.parentNode}return x!==l?m:l},I4=n=>Y.from(n.dom.getParent(n.selection.getStart(!0),n.dom.isBlock)),mF=n=>I4(n).fold(ae(""),s=>s.nodeName.toUpperCase()),lJ=n=>I4(n).filter(s=>rd(Yt.fromDom(s))).isSome(),F2=n=>{n.innerHTML='<br data-mce-bogus="1">'},j6=(n,s,l)=>{const m=n.dom;Y.from(l.style).map(m.parseStyle).each(ge=>{const Ge={...Sy(Yt.fromDom(s)),...ge};m.setStyles(s,Ge)});const x=Y.from(l.class).map(ge=>ge.split(/\s+/)),P=Y.from(s.className).map(ge=>se(ge.split(/\s+/),Re=>Re!==""));Va(x,P,(ge,Re)=>{const Ge=se(Re,ot=>!Ve(ge,ot)),qe=[...ge,...Ge];m.setAttrib(s,"class",qe.join(" "))});const Z=["style","class"],J=wn(l,(ge,Re)=>!Ve(Z,Re));m.setAttribs(s,J)},V2=(n,s)=>{if(Rc(n).toLowerCase()===s.tagName.toLowerCase()){const m=Gy(n);j6(n,s,m)}},q6=(n,s,l,m,x=!0,P,Z)=>{const J=n.dom,ge=n.schema,Re=Rc(n),Ge=l?l.nodeName.toUpperCase():"";let qe=s;const ot=ge.getTextInlineElements();let Et;P||Ge==="TABLE"||Ge==="HR"?Et=J.create(P||Re,Z||{}):Et=l.cloneNode(!1);let Vt=Et;if(!x)J.setAttrib(Et,"style",null),J.setAttrib(Et,"class",null);else do if(ot[qe.nodeName]){if(af(qe)||lf(qe))continue;const kt=qe.cloneNode(!1);J.setAttrib(kt,"id",""),Et.hasChildNodes()?(kt.appendChild(Et.firstChild),Et.appendChild(kt)):(Vt=kt,Et.appendChild(kt))}while((qe=qe.parentNode)&&qe!==m);return V2(n,Et),F2(Vt),Et},cJ=(n,s)=>n.dom.getParent(s,er),uJ=(n,s,l)=>{let m=s;for(;m&&m!==n&&Q(m.nextSibling);){const x=m.parentElement;if(!x||!l(x))return er(x);m=x}return!1},fJ=(n,s,l)=>!s&&l.nodeName.toLowerCase()===Rc(n)&&n.dom.isEmpty(l)&&uJ(n.getBody(),l,m=>lt(n.schema.getTextBlockElements(),m.nodeName.toLowerCase())),dJ=(n,s,l)=>{var m,x,P;const Z=s(Rc(n)),J=cJ(n,l);J&&(n.dom.insertAfter(Z,J),k1(n,Z),((P=(x=(m=l.parentElement)===null||m===void 0?void 0:m.childNodes)===null||x===void 0?void 0:x.length)!==null&&P!==void 0?P:0)>1&&n.dom.remove(l))},hJ=(n,s)=>n.firstChild&&n.firstChild.nodeName===s,gF=n=>{var s;return((s=n.parentNode)===null||s===void 0?void 0:s.firstChild)===n},pF=(n,s)=>{const l=n==null?void 0:n.parentNode;return B(l)&&l.nodeName===s},vF=n=>B(n)&&/^(OL|UL|LI)$/.test(n.nodeName),K6=n=>B(n)&&/^(LI|DT|DD)$/.test(n.nodeName),mJ=n=>vF(n)&&vF(n.parentNode),N4=n=>{const s=n.parentNode;return K6(s)?s:n},HC=(n,s,l)=>{let m=n[l?"firstChild":"lastChild"];for(;m&&!Xr(m);)m=m[l?"nextSibling":"previousSibling"];return m===s},J6=n=>oe(Xn(Sy(Yt.fromDom(n)),(s,l)=>`${l}: ${s};`),(s,l)=>s+l,""),gJ=(n,s,l,m,x)=>{const P=n.dom,Z=n.selection.getRng(),J=l.parentNode;if(l===n.getBody()||!J)return;mJ(l)&&(x="LI");const ge=K6(m)?J6(m):void 0;let Re=K6(m)&&ge?s(x,{style:J6(m)}):s(x);if(HC(l,m,!0)&&HC(l,m,!1))if(pF(l,"LI")){const Ge=N4(l);P.insertAfter(Re,Ge),gF(l)?P.remove(Ge):P.remove(l)}else P.replace(Re,l);else if(HC(l,m,!0))pF(l,"LI")?(P.insertAfter(Re,N4(l)),Re.appendChild(P.doc.createTextNode(" ")),Re.appendChild(l)):J.insertBefore(Re,l),P.remove(m);else if(HC(l,m,!1))P.insertAfter(Re,N4(l)),P.remove(m);else{l=N4(l);const Ge=Z.cloneRange();Ge.setStartAfter(m),Ge.setEndAfter(l);const qe=Ge.extractContents();if(x==="LI"&&hJ(qe,"LI")){const ot=se(Ie(Re.children,Yt.fromDom),xe(wu("br")));Re=qe.firstChild,P.insertAfter(qe,l),re(ot,Et=>bm(Yt.fromDom(Re),Et)),ge&&Re.setAttribute("style",ge)}else P.insertAfter(qe,l),P.insertAfter(Re,l);P.remove(m)}k1(n,Re)},pJ=n=>{re(i0(Yt.fromDom(n),Zi),s=>{const l=s.dom;l.nodeValue=Pe(l.data)})},Nce=(n,s)=>{const l=n.dom.getParent(s,"ol,ul,dl");return l!==null&&n.dom.getContentEditableParent(l)==="false"},e7=(n,s)=>s&&s.nodeName==="A"&&n.isEmpty(s),t7=(n,s)=>n.nodeName===s||n.previousSibling&&n.previousSibling.nodeName===s,n7=(n,s)=>B(s)&&n.isBlock(s)&&!/^(TD|TH|CAPTION|FORM)$/.test(s.nodeName)&&!/^(fixed|absolute)/i.test(s.style.position)&&n.isEditable(s.parentNode)&&n.getContentEditable(s)!=="false",vJ=(n,s,l)=>{var m;const x=[];if(!l)return;let P=l;for(;P=P.firstChild;){if(n.isBlock(P))return;Xr(P)&&!s[P.nodeName.toLowerCase()]&&x.push(P)}let Z=x.length;for(;Z--;)P=x[Z],(!P.hasChildNodes()||P.firstChild===P.lastChild&&((m=P.firstChild)===null||m===void 0?void 0:m.nodeValue)===""||e7(n,P))&&n.remove(P)},B4=(n,s,l)=>lr(s)?n?l===1&&s.data.charAt(l-1)===he?0:l:l===s.data.length-1&&s.data.charAt(l)===he?s.data.length:l:l,yJ=n=>{const s=n.cloneRange();return s.setStart(n.startContainer,B4(!0,n.startContainer,n.startOffset)),s.setEnd(n.endContainer,B4(!1,n.endContainer,n.endOffset)),s},yF=n=>{let s=n;do lr(s)&&(s.data=s.data.replace(/^[\r\n]+/,"")),s=s.firstChild;while(s)},bJ=(n,s,l,m,x)=>{var P,Z;const J=n.dom,ge=(P=Od(J,m))!==null&&P!==void 0?P:J.getRoot();let Re=J.getParent(m,J.isBlock);if(!Re||!n7(J,Re)){if(Re=Re||ge,!Re.hasChildNodes()){const Et=J.create(s);return V2(n,Et),Re.appendChild(Et),l.setStart(Et,0),l.setEnd(Et,0),Et}let Ge=m;for(;Ge&&Ge.parentNode!==Re;)Ge=Ge.parentNode;let qe;for(;Ge&&!J.isBlock(Ge);)qe=Ge,Ge=Ge.previousSibling;const ot=(Z=qe==null?void 0:qe.parentElement)===null||Z===void 0?void 0:Z.nodeName;if(qe&&ot&&n.schema.isValidChild(ot,s.toLowerCase())){const Et=qe.parentNode,Vt=J.create(s);for(V2(n,Vt),Et.insertBefore(Vt,qe),Ge=qe;Ge&&!J.isBlock(Ge);){const kt=Ge.nextSibling;Vt.appendChild(Ge),Ge=kt}l.setStart(m,x),l.setEnd(m,x)}}return m},OJ=(n,s)=>{s.normalize();const l=s.lastChild;(!l||Xr(l)&&/^(left|right)$/gi.test(n.getStyle(l,"float",!0)))&&n.add(s,"br")},Bce=(n,s)=>{const l=Dk(n);return F(s)?!1:M(l)?Ve(fr.explode(l),s.nodeName.toLowerCase()):l},bF={insert:(n,s)=>{let l,m,x,P,Z=!1;const J=n.dom,ge=n.schema,Re=ge.getNonEmptyElements(),Ge=n.selection.getRng(),qe=Rc(n),ot=Yt.fromDom(Ge.startContainer),Et=Oh(ot,Ge.startOffset),Vt=Et.exists(tr=>Xa(tr)&&!jo(tr)),kt=Ge.collapsed&&Vt,It=(tr,eo)=>q6(n,l,gr,rr,gE(n),tr,eo),cn=tr=>{const eo=B4(tr,l,m);if(lr(l)&&(tr?eo>0:eo<l.data.length))return!1;if(l.parentNode===gr&&Z&&!tr||tr&&Xr(l)&&l===gr.firstChild)return!0;if(t7(l,"TABLE")||t7(l,"HR"))return Z&&!tr||!Z&&tr;const po=new ca(l,gr);lr(l)&&(tr&&eo===0?po.prev():!tr&&eo===l.data.length&&po.next());let ls;for(;ls=po.current();){if(Xr(ls)){if(!ls.getAttribute("data-mce-bogus")){const bs=ls.nodeName.toLowerCase();if(Re[bs]&&bs!=="br")return!1}}else if(lr(ls)&&!Qa(ls.data))return!1;tr?po.prev():po.next()}return!0},xn=()=>{let tr;return/^(H[1-6]|PRE|FIGURE)$/.test(x)&&Qr!=="HGROUP"?tr=It(qe):tr=It(),Bce(n,P)&&n7(J,P)&&J.isEmpty(gr,void 0,{includeZwsp:!0})?tr=J.split(P,gr):J.insertAfter(tr,gr),k1(n,tr),tr};Me(J,Ge).each(tr=>{Ge.setStart(tr.startContainer,tr.startOffset),Ge.setEnd(tr.endContainer,tr.endOffset)}),l=Ge.startContainer,m=Ge.startOffset;const bn=!!(s&&s.shiftKey),$n=!!(s&&s.ctrlKey);Xr(l)&&l.hasChildNodes()&&!kt&&(Z=m>l.childNodes.length-1,l=l.childNodes[Math.min(m,l.childNodes.length-1)]||l,Z&&lr(l)?m=l.data.length:m=0);const rr=Od(J,l);if(!rr||Nce(n,l))return;bn||(l=bJ(n,qe,Ge,l,m));let gr=J.getParent(l,J.isBlock)||J.getRoot();P=B(gr==null?void 0:gr.parentNode)?J.getParent(gr.parentNode,J.isBlock):null,x=gr?gr.nodeName.toUpperCase():"";const Qr=P?P.nodeName.toUpperCase():"";if(Qr==="LI"&&!$n){const tr=P;gr=tr,P=tr.parentNode,x=Qr}if(Xr(P)&&fJ(n,bn,gr))return dJ(n,It,gr);if(/^(LI|DT|DD)$/.test(x)&&Xr(P)&&J.isEmpty(gr)){gJ(n,It,P,gr,qe);return}if(!kt&&(gr===n.getBody()||!n7(J,gr)))return;const zn=gr.parentNode;let Bn;if(kt)Bn=It(qe),Et.fold(()=>{Ci(ot,Yt.fromDom(Bn))},tr=>{Ui(tr,Yt.fromDom(Bn))}),n.selection.setCursorLocation(Bn,0);else if(rt(gr))Bn=Pn(gr),J.isEmpty(gr)&&F2(gr),V2(n,Bn),k1(n,Bn);else if(cn(!1))Bn=xn();else if(cn(!0)&&zn){Bn=zn.insertBefore(It(),gr);const tr=Yu(Yt.fromDom(Ge.startContainer))&&Ge.collapsed;k1(n,t7(gr,"HR")||tr?Bn:gr)}else{const tr=yJ(Ge).cloneRange();tr.setEndAfter(gr);const eo=tr.extractContents();pJ(eo),yF(eo),Bn=eo.firstChild,J.insertAfter(eo,gr),vJ(J,Re,Bn),OJ(J,gr),J.isEmpty(gr)&&F2(gr),Bn.normalize(),J.isEmpty(Bn)?(J.remove(Bn),xn()):(V2(n,Bn),k1(n,Bn))}J.setAttrib(Bn,"id",""),n.dispatch("NewBlock",{newBlock:Bn})},fakeEventName:"insertParagraph"},xJ=(n,s,l)=>{const m=new ca(s,l);let x;const P=n.getNonEmptyElements();for(;x=m.next();)if(P[x.nodeName.toLowerCase()]||lr(x)&&x.length>0)return!0;return!1},OF=(n,s,l)=>{const m=n.dom.createRng();l?(m.setStartBefore(s),m.setEndBefore(s)):(m.setStartAfter(s),m.setEndAfter(s)),n.selection.setRng(m),Mb(n,m)},SJ=(n,s)=>{const l=n.selection,m=n.dom,x=l.getRng();let P,Z=!1;Me(m,x).each(Et=>{x.setStart(Et.startContainer,Et.startOffset),x.setEnd(Et.endContainer,Et.endOffset)});let J=x.startOffset,ge=x.startContainer;if(Xr(ge)&&ge.hasChildNodes()){const Et=J>ge.childNodes.length-1;ge=ge.childNodes[Math.min(J,ge.childNodes.length-1)]||ge,Et&&lr(ge)?J=ge.data.length:J=0}let Re=m.getParent(ge,m.isBlock);const Ge=Re&&Re.parentNode?m.getParent(Re.parentNode,m.isBlock):null,qe=Ge?Ge.nodeName.toUpperCase():"",ot=!!(s&&s.ctrlKey);qe==="LI"&&!ot&&(Re=Ge),lr(ge)&&J>=ge.data.length&&(xJ(n.schema,ge,Re||m.getRoot())||(P=m.create("br"),x.insertNode(P),x.setStartAfter(P),x.setEndAfter(P),Z=!0)),P=m.create("br"),Ow(m,x,P),OF(n,P,Z),n.undoManager.add()},wJ=(n,s)=>{const l=Yt.fromTag("br");Ui(Yt.fromDom(s),l),n.undoManager.add()},TJ=(n,s)=>{CJ(n.getBody(),s)||Xu(Yt.fromDom(s),Yt.fromTag("br"));const l=Yt.fromTag("br");Xu(Yt.fromDom(s),l),OF(n,l.dom,!1),n.undoManager.add()},Q4=n=>aa(n.getNode()),CJ=(n,s)=>Q4(Nn.after(s))?!0:$c(n,Nn.after(s)).map(l=>aa(l.getNode())).getOr(!1),xF=n=>n&&n.nodeName==="A"&&"href"in n,r7=n=>n.fold(ne,xF,xF,ne),o7=n=>{const s=ee($b,n),l=Nn.fromRangeStart(n.selection.getRng());return Xh(s,n.getBody(),l).filter(r7)},kJ=(n,s)=>{s.fold(ie,ee(wJ,n),ee(TJ,n),ie)},AJ={insert:(n,s)=>{const l=o7(n);l.isSome()?l.each(ee(kJ,n)):SJ(n,s)},fakeEventName:"insertLineBreak"},SF=(n,s)=>I4(n).filter(l=>s.length>0&&Uu(Yt.fromDom(l),s)).isSome(),PJ=n=>SF(n,mE(n)),Fce=n=>SF(n,$w(n)),xd=Ud.generate([{br:[]},{block:[]},{none:[]}]),Jm=(n,s)=>Fce(n),wF=n=>(s,l)=>lJ(s)===n,s7=(n,s)=>(l,m)=>mF(l)===n.toUpperCase()===s,MJ=n=>{const s=Od(n.dom,n.selection.getStart());return F(s)},UC=n=>s7("pre",n),EJ=()=>s7("summary",!0),F4=n=>(s,l)=>dE(s)===n,_J=(n,s)=>PJ(n),V4=(n,s)=>s,RJ=n=>{const s=Rc(n),l=Od(n.dom,n.selection.getStart());return B(l)&&n.schema.isValidChild(l.nodeName,s)},a7=n=>{const s=n.selection.getRng(),l=Yt.fromDom(s.startContainer),x=Oh(l,s.startOffset).map(P=>Xa(P)&&!jo(P));return s.collapsed&&x.getOr(!0)},Sd=(n,s)=>(l,m)=>oe(n,(P,Z)=>P&&Z(l,m),!0)?Y.some(s):Y.none(),z4=(n,s)=>vB([Sd([Jm],xd.none()),Sd([UC(!0),MJ],xd.none()),Sd([EJ()],xd.br()),Sd([UC(!0),F4(!1),V4],xd.br()),Sd([UC(!0),F4(!1)],xd.block()),Sd([UC(!0),F4(!0),V4],xd.block()),Sd([UC(!0),F4(!0)],xd.br()),Sd([wF(!0),V4],xd.br()),Sd([wF(!0)],xd.block()),Sd([_J],xd.br()),Sd([V4],xd.br()),Sd([RJ],xd.block()),Sd([a7],xd.block())],[n,!!(s&&s.shiftKey)]).getOr(xd.none()),Z4=(n,s,l)=>{s.selection.isCollapsed()||U_(s),!(B(l)&&G6(s,n.fakeEventName).isDefaultPrevented())&&(n.insert(s,l),B(l)&&ZC(s,n.fakeEventName))},TF=(n,s)=>{const l=()=>Z4(AJ,n,s),m=()=>Z4(bF,n,s),x=z4(n,s);switch(hE(n)){case"linebreak":x.fold(l,l,ie);break;case"block":x.fold(m,m,ie);break;case"invert":x.fold(m,l,ie);break;default:x.fold(l,m,ie);break}},CF=li(),DJ=CF.os.isiOS()&&CF.browser.isSafari(),kF=(n,s)=>{s.isDefaultPrevented()||(s.preventDefault(),qX(n.undoManager),n.undoManager.transact(()=>{TF(n,s)}))},AF=n=>{if(!n.collapsed)return!1;const s=n.startContainer;if(lr(s)){const l=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,m=s.data.charAt(n.startOffset-1);return l.test(m)}else return!1},$J=n=>{let s=Y.none();const l=x=>{s=Y.some(x.selection.getBookmark()),x.undoManager.add()},m=(x,P)=>{x.undoManager.undo(),s.fold(ie,Z=>x.selection.moveToBookmark(Z)),kF(x,P),s=Y.none()};n.on("keydown",x=>{x.keyCode===Yr.ENTER&&(DJ&&AF(n.selection.getRng())?l(n):kF(n,x))}),n.on("keyup",x=>{x.keyCode===Yr.ENTER&&s.each(()=>m(n,x))})},PF=(n,s,l)=>{const m=Dr.os.isMacOS()||Dr.os.isiOS();$2([{keyCode:Yr.END,action:Ro(lQ,n,!0)},{keyCode:Yr.HOME,action:Ro(lQ,n,!1)},...m?[]:[{keyCode:Yr.HOME,action:Ro(x4,n,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Yr.END,action:Ro(x4,n,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Yr.END,action:Ro(w4,n,!0)},{keyCode:Yr.HOME,action:Ro(w4,n,!1)},{keyCode:Yr.END,action:Ro(h4,n,!0,s)},{keyCode:Yr.HOME,action:Ro(h4,n,!1,s)}],l).each(x=>{l.preventDefault()})},MF=(n,s)=>{n.on("keydown",l=>{l.isDefaultPrevented()||PF(n,s,l)})},LJ=n=>{n.on("input",s=>{s.isComposing||fY(n)})},IJ=li(),i7=(n,s,l)=>{$2([{keyCode:Yr.PAGE_UP,action:Ro(h4,n,!1,s)},{keyCode:Yr.PAGE_DOWN,action:Ro(h4,n,!0,s)}],l)},EF=n=>n.stopImmediatePropagation(),_F=n=>n.keyCode===Yr.PAGE_UP||n.keyCode===Yr.PAGE_DOWN,WC=(n,s,l)=>{l&&!n.get()?s.on("NodeChange",EF,!0):!l&&n.get()&&s.off("NodeChange",EF),n.set(l)},NJ=(n,s)=>{if(IJ.os.isMacOS())return;const l=oi(!1);n.on("keydown",m=>{_F(m)&&WC(l,n,!0)}),n.on("keyup",m=>{m.isDefaultPrevented()||i7(n,s,m),_F(m)&&l.get()&&(WC(l,n,!1),n.nodeChanged())})},l7=n=>{n.on("beforeinput",s=>{(!n.selection.isEditable()||_e(s.getTargetRanges(),l=>!L9(n.dom,l)))&&s.preventDefault()})},H4=(n,s)=>{const l=s.container(),m=s.offset();return lr(l)?(l.insertData(m,n),Y.some(Nn(l,m+n.length))):Ex(s).map(x=>{const P=Yt.fromText(n);return s.isAtEnd()?Xu(x,P):Ui(x,P),Nn(P.dom,n.length)})},c7=ee(H4,zs),RF=ee(H4," "),Vce=(n,s,l)=>dL(n,s,l)?c7(s):RF(s),A1=n=>s=>s.fold(l=>fu(n.dom,Nn.before(l)),l=>Gc(l),l=>ud(l),l=>$c(n.dom,Nn.after(l))),BJ=(n,s,l)=>m=>dL(n,m,l)?c7(s):RF(s),DF=n=>s=>{n.selection.setRng(s.toRange()),n.nodeChanged()},QJ=(n,s)=>n.isEditable(n.getParent(s,"summary")),U4=n=>{const s=Nn.fromRangeStart(n.selection.getRng()),l=Yt.fromDom(n.getBody());if(n.selection.isCollapsed()){const m=ee($b,n),x=Nn.fromRangeStart(n.selection.getRng());return Xh(m,n.getBody(),x).bind(A1(l)).map(P=>()=>BJ(l,s,n.schema)(P).each(DF(n)))}else return Y.none()},$F=n=>{const s=()=>{const l=Yt.fromDom(n.getBody());n.selection.isCollapsed()||n.getDoc().execCommand("Delete");const m=Nn.fromRangeStart(n.selection.getRng());Vce(l,m,n.schema).each(DF(n))};return Ho(Dr.browser.isFirefox()&&n.selection.isEditable()&&QJ(n.dom,n.selection.getRng().startContainer),s)},LF=(n,s)=>{w6([{keyCode:Yr.SPACEBAR,action:Ro(U4,n)},{keyCode:Yr.SPACEBAR,action:Ro($F,n)}],s).each(l=>{s.preventDefault(),G6(n,"insertText",{data:" "}).isDefaultPrevented()||(l(),ZC(n,"insertText",{data:" "}))})},FJ=n=>{n.on("keydown",s=>{s.isDefaultPrevented()||LF(n,s)})},IF=n=>VE(n)?[{keyCode:Yr.TAB,action:Ro(MQ,n,!0)},{keyCode:Yr.TAB,shiftKey:!0,action:Ro(MQ,n,!1)}]:[],VJ=(n,s)=>{$2([...IF(n)],s).each(l=>{s.preventDefault()})},zJ=n=>{n.on("keydown",s=>{s.isDefaultPrevented()||VJ(n,s)})},ZJ=n=>{if(n.addShortcut("Meta+P","","mcePrint"),GK(n),Pv(n))return oi(null);{const s=aq(n);return l7(n),Eq(n),aK(n,s),iJ(n,s),$J(n),FJ(n),LJ(n),zJ(n),MF(n,s),NJ(n,s),s}};class NF{constructor(s){this.lastPath=[],this.editor=s;let l;const m=this;"onselectionchange"in s.getDoc()||s.on("NodeChange click mouseup keyup focus",x=>{const P=s.selection.getRng(),Z={startContainer:P.startContainer,startOffset:P.startOffset,endContainer:P.endContainer,endOffset:P.endOffset};(x.type==="nodechange"||!qg(Z,l))&&s.dispatch("SelectionChange"),l=Z}),s.on("contextmenu",()=>{s.dispatch("SelectionChange")}),s.on("SelectionChange",()=>{const x=s.selection.getStart(!0);x&&Qx(s)&&!m.isSameElementPath(x)&&s.dom.isChildOf(x,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("mouseup",x=>{!x.isDefaultPrevented()&&Qx(s)&&(s.selection.getNode().nodeName==="IMG"?hd.setEditorTimeout(s,()=>{s.nodeChanged()}):s.nodeChanged())})}nodeChanged(s={}){const l=this.editor.selection;let m;if(this.editor.initialized&&l&&!Sx(this.editor)&&!this.editor.mode.isReadOnly()){const x=this.editor.getBody();m=l.getStart(!0)||x,(m.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(m,x))&&(m=x);const P=[];this.editor.dom.getParent(m,Z=>Z===x?!0:(P.push(Z),!1)),this.editor.dispatch("NodeChange",{...s,element:m,parents:P})}}isSameElementPath(s){let l;const m=this.editor,x=ct(m.dom.getParents(s,le,m.getBody()));if(x.length===this.lastPath.length){for(l=x.length;l>=0&&x[l]===this.lastPath[l];l--);if(l===-1)return this.lastPath=x,!0}return this.lastPath=x,!1}}const W4=sv("image"),HJ=n=>{const s=n;return Y.from(s[W4])},u7=(n,s)=>{const l=n;l[W4]=s},Y4=sv("event"),X4=n=>{const s=n;return Y.from(s[Y4])},YC=n=>s=>{const l=s;l[Y4]=n},BF=(n,s)=>YC(s)(n),QF=YC(0),UJ=YC(2),G4=YC(1),YJ=(n=>s=>{const l=s;return Y.from(l[Y4]).exists(m=>m===n)})(0),XJ=()=>Object.freeze({length:0,item:n=>null}),j4=sv("mode"),GJ=n=>{const s=n;return Y.from(s[j4])},q4=n=>s=>{const l=s;l[j4]=n},FF=(n,s)=>q4(s)(n),VF=q4(0),f7=q4(2),zF=q4(1),ZF=n=>s=>{const l=s;return Y.from(l[j4]).exists(m=>m===n)},Gb=ZF(0),HF=ZF(1),jJ=(n,s)=>({...s,get length(){return s.length},add:(l,m)=>{if(Gb(n))if(M(l)){if(!U(m))return s.add(l,m)}else return s.add(l);return null},remove:l=>{Gb(n)&&s.remove(l)},clear:()=>{Gb(n)&&s.clear()}}),qJ=["none","copy","link","move"],KJ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],d7=()=>{const n=new window.DataTransfer;let s="move",l="all";const m={get dropEffect(){return s},set dropEffect(x){Ve(qJ,x)&&(s=x)},get effectAllowed(){return l},set effectAllowed(x){YJ(m)&&Ve(KJ,x)&&(l=x)},get items(){return jJ(m,n.items)},get files(){return HF(m)?XJ():n.files},get types(){return n.types},setDragImage:(x,P,Z)=>{Gb(m)&&(u7(m,{image:x,x:P,y:Z}),n.setDragImage(x,P,Z))},getData:x=>HF(m)?"":n.getData(x),setData:(x,P)=>{Gb(m)&&n.setData(x,P)},clearData:x=>{Gb(m)&&n.clearData(x)}};return VF(m),m},z2=n=>{const s=d7(),l=GJ(n);return f7(n),QF(s),s.dropEffect=n.dropEffect,s.effectAllowed=n.effectAllowed,HJ(n).each(m=>s.setDragImage(m.image,m.x,m.y)),re(n.types,m=>{m!=="Files"&&s.setData(m,n.getData(m))}),re(n.files,m=>s.items.add(m)),X4(n).each(m=>{BF(s,m)}),l.each(m=>{FF(n,m),FF(s,m)}),s},JJ=n=>{const s=n.getData("text/html");return s===""?Y.none():Y.some(s)},UF=(n,s)=>n.setData("text/html",s),h7="x-tinymce/html",K4=ae(h7),m7="<!-- "+h7+" -->",eee=n=>m7+n,WF=n=>n.replace(m7,""),YF=n=>n.indexOf(m7)!==-1,tee=n=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(n),zce=(n,s)=>{let l="<"+n;const m=Xn(s,(x,P)=>P+'="'+Eg.encodeAllRaw(x)+'"');return m.length&&(l+=" "+m.join(" ")),l+">"},J4=(n,s,l)=>{const m=n.split(/\n\n/),x=zce(s,l),P="</"+s+">",Z=Ie(m,ge=>ge.split(/\n/).join("<br />")),J=ge=>x+ge+P;return Z.length===1?Z[0]:Ie(Z,J).join("")},XF="%MCEPASTEBIN%",nee=(n,s)=>{const{dom:l,selection:m}=n,x=n.getBody();s.set(m.getRng());const P=l.add(n.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},XF);Dr.browser.isFirefox()&&l.setStyle(P,"left",l.getStyle(x,"direction",!0)==="rtl"?65535:-65535),l.bind(P,"beforedeactivate focusin focusout",Z=>{Z.stopPropagation()}),P.focus(),m.select(P,!0)},ree=(n,s)=>{const l=n.dom;if(g7(n)){let m;const x=s.get();for(;m=g7(n);)l.remove(m),l.unbind(m);x&&n.selection.setRng(x)}s.set(null)},g7=n=>n.dom.get("mcepastebin"),oee=n=>B(n)&&n.id==="mcepastebin",see=n=>{const s=n.dom,l=(Z,J)=>{Z.appendChild(J),s.remove(J,!0)},[m,...x]=se(n.getBody().childNodes,oee);re(x,Z=>{l(m,Z)});const P=s.select("div[id=mcepastebin]",m);for(let Z=P.length-1;Z>=0;Z--){const J=s.create("div");m.insertBefore(J,P[Z]),l(J,P[Z])}return m?m.innerHTML:""},GF=n=>n===XF,aee=n=>{const s=oi(null);return{create:()=>nee(n,s),remove:()=>ree(n,s),getEl:()=>g7(n),getHtml:()=>see(n),getLastRng:s.get}},jF=(n,s)=>(fr.each(s,l=>{R(l,RegExp)?n=n.replace(l,""):n=n.replace(l[0],l[1])}),n),iee=n=>{const s=Em(),l=Uh({},s);let m="";const x=s.getVoidElements(),P=fr.makeMap("script noscript style textarea video audio iframe object"," "),Z=s.getBlockElements(),J=ge=>{const Re=ge.name,Ge=ge;if(Re==="br"){m+=`
`;return}if(Re!=="wbr"){if(x[Re]&&(m+=" "),P[Re]){m+=" ";return}if(ge.type===3&&(m+=ge.value),!(ge.name in s.getVoidElements())){let qe=ge.firstChild;if(qe)do J(qe);while(qe=qe.next)}Z[Re]&&Ge.next&&(m+=`
`,Re==="p"&&(m+=`
`))}};return n=jF(n,[/<!\[[^\]]+\]>/g]),J(l.parse(n)),m},qF=n=>(n=jF(n,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(l,m,x)=>!m&&!x?" ":zs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),n),lee=n=>{let s=0;return()=>n+s++},cee=n=>{const s=n.toLowerCase(),l={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return fr.hasOwn(l,s)?"image/"+l[s]:"image/"+s},La=(n,s)=>{const l=Uh({sanitize:Q0(n),sandbox_iframes:Ax(n)},n.schema);l.addNodeFilter("meta",x=>{fr.each(x,P=>{P.remove()})});const m=l.parse(s,{forced_root_block:!1,isRootContent:!0});return c1({validate:!0},n.schema).serialize(m)},KF=(n,s)=>({content:n,cancelled:s}),JF=(n,s,l)=>{const m=n.dom.create("div",{style:"display:none"},s),x=d_(n,m,l);return KF(x.node.innerHTML,x.isDefaultPrevented())},uee=(n,s,l)=>{const m=f_(n,s,l),x=La(n,m.content);return n.hasEventListeners("PastePostProcess")&&!m.isDefaultPrevented()?JF(n,x,l):KF(x,m.isDefaultPrevented())},p7=(n,s,l)=>uee(n,s,l),eP=(n,s)=>(n.insertContent(s,{merge:Uw(n),paste:!0}),!0),v7=n=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(n),fee=(n,s)=>v7(s)&&_e(Gk(n),l=>ao(s.toLowerCase(),`.${l.toLowerCase()}`)),eV=(n,s,l)=>(n.undoManager.extra(()=>{l(n,s)},()=>{n.insertContent('<img src="'+s+'">')}),!0),y7=(n,s,l)=>(n.undoManager.extra(()=>{l(n,s)},()=>{n.execCommand("mceInsertLink",!1,s)}),!0),dee=(n,s,l)=>!n.selection.isCollapsed()&&v7(s)?y7(n,s,l):!1,hee=(n,s,l)=>fee(n,s)?eV(n,s,l):!1,mee=(n,s)=>{fr.each([dee,hee,eP],l=>!l(n,s,eP))},tV=(n,s,l)=>{l||!Yk(n)?eP(n,s):mee(n,s)},gee=lee("mceclip"),pee=n=>{const s=d7();return UF(s,n),f7(s),s},jb=(n,s,l,m,x)=>{const P=p7(n,s,l);if(!P.cancelled){const Z=P.content,J=()=>tV(n,Z,m);x?G6(n,"insertFromPaste",{dataTransfer:pee(Z)}).isDefaultPrevented()||(J(),ZC(n,"insertFromPaste")):J()}},tP=(n,s,l,m)=>{const x=l||YF(s);jb(n,WF(s),x,!1,m)},P1=(n,s,l)=>{const m=n.dom.encode(s).replace(/\r\n/g,`
`),x=Ji(m,DE(n)),P=J4(x,Rc(n),Gy(n));jb(n,P,!1,!0,l)},Z2=n=>{const s={};if(n&&n.types)for(let l=0;l<n.types.length;l++){const m=n.types[l];try{s[m]=n.getData(m)}catch{s[m]=""}}return s},M1=(n,s)=>s in n&&n[s].length>0,nV=n=>M1(n,"text/html")||M1(n,"text/plain"),H2=(n,s)=>{const l=s.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return B(l)?n.dom.encode(l[1]):void 0},vee=(n,s,l,m)=>{const x=gee(),P=jy(n)&&B(l.name),Z=P?H2(n,l.name):x,J=P?l.name:void 0,ge=s.create(x,l,m,Z,J);return s.add(ge),ge},b7=(n,s)=>{w5(s.uri).each(({data:l,type:m,base64Encoded:x})=>{const P=x?l:btoa(l),Z=s.file,J=n.editorUpload.blobCache,ge=J.getByData(P,m),Re=ge??vee(n,J,Z,P);tP(n,`<img src="${Re.blobUri()}">`,!1,!0)})},O7=n=>n.type==="paste",rV=n=>Promise.all(Ie(n,s=>gX(s).then(l=>({file:s,uri:l})))),x7=n=>{const s=Gk(n);return l=>Sr(l.type,"image/")&&_e(s,m=>cee(m)===l.type)},oV=(n,s)=>{const l=s.items?Ze(tt(s.items),x=>x.kind==="file"?[x.getAsFile()]:[]):[],m=s.files?tt(s.files):[];return se(l.length>0?l:m,x7(n))},sV=(n,s,l)=>{const m=O7(s)?s.clipboardData:s.dataTransfer;if(Tx(n)&&m){const x=oV(n,m);if(x.length>0)return s.preventDefault(),rV(x).then(P=>{l&&n.selection.setRng(l),re(P,Z=>{b7(n,Z)})}),!0}return!1},yee=n=>{var s,l;return Dr.os.isAndroid()&&((l=(s=n.clipboardData)===null||s===void 0?void 0:s.items)===null||l===void 0?void 0:l.length)===0},aV=n=>Yr.metaKeyPressed(n)&&n.keyCode===86||n.shiftKey&&n.keyCode===45,XC=(n,s,l,m,x)=>{let P=qF(l);const Z=M1(s,K4())||YF(l),J=!Z&&tee(P),ge=v7(P);(GF(P)||!P.length||J&&!ge)&&(m=!0),(m||ge)&&(M1(s,"text/plain")&&J?P=s["text/plain"]:P=iee(P)),!GF(P)&&(m?P1(n,P,x):tP(n,P,Z,x))},S7=(n,s,l)=>{let m;const x=()=>s.getLastRng()||n.selection.getRng();n.on("keydown",P=>{aV(P)&&!P.isDefaultPrevented()&&(m=P.shiftKey&&P.keyCode===86)}),n.on("paste",P=>{if(P.isDefaultPrevented()||yee(P))return;const Z=l.get()==="text"||m;m=!1;const J=Z2(P.clipboardData);!nV(J)&&sV(n,P,x())||(M1(J,"text/html")?(P.preventDefault(),XC(n,J,J["text/html"],Z,!0)):M1(J,"text/plain")&&M1(J,"text/uri-list")?(P.preventDefault(),XC(n,J,J["text/plain"],Z,!0)):(s.create(),hd.setEditorTimeout(n,()=>{const ge=s.getHtml();s.remove(),XC(n,J,ge,Z,!1)},0)))})},iV=n=>{const s=x=>Sr(x,"webkit-fake-url"),l=x=>Sr(x,"data:"),m=x=>{var P;return((P=x.data)===null||P===void 0?void 0:P.paste)===!0};n.parser.addNodeFilter("img",(x,P,Z)=>{if(!Tx(n)&&m(Z))for(const J of x){const ge=J.attr("src");M(ge)&&!J.attr("data-mce-object")&&ge!==Dr.transparentSrc&&(s(ge)||!Cx(n)&&l(ge))&&J.remove()}})},bee=(n,s,l)=>{S7(n,s,l),iV(n)},Oee=(n,s)=>{s.get()==="text"?(s.set("html"),kA(n,!1)):(s.set("text"),kA(n,!0)),n.focus()},w7=(n,s)=>{n.addCommand("mceTogglePlainTextPaste",()=>{Oee(n,s)}),n.addCommand("mceInsertClipboardContent",(l,m)=>{m.html&&tP(n,m.html,m.internal,!1),m.text&&P1(n,m.text,!1)})},T7=(n,s,l)=>{if(n)try{return n.clearData(),n.setData("text/html",s),n.setData("text/plain",l),n.setData(K4(),s),!0}catch{return!1}else return!1},lV=(n,s,l,m)=>{T7(n.clipboardData,s.html,s.text)?(n.preventDefault(),m()):l(s.html,m)},C7=n=>(s,l)=>{const{dom:m,selection:x}=n,P=m.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Z=m.create("div",{contenteditable:"true"},s);m.setStyles(P,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),P.appendChild(Z),m.add(n.getBody(),P);const J=x.getRng();Z.focus();const ge=m.createRng();ge.selectNodeContents(Z),x.setRng(ge),hd.setEditorTimeout(n,()=>{x.setRng(J),m.remove(P),l()},0)},k7=n=>({html:eee(n.selection.getContent({contextual:!0})),text:n.selection.getContent({format:"text"})}),xee=n=>!!n.dom.getParent(n.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",n.getBody()),A7=n=>!n.selection.isCollapsed()||xee(n),See=n=>s=>{!s.isDefaultPrevented()&&A7(n)&&n.selection.isEditable()&&lV(s,k7(n),C7(n),()=>{if(Dr.browser.isChromium()||Dr.browser.isFirefox()){const l=n.selection.getRng();hd.setEditorTimeout(n,()=>{n.selection.setRng(l),n.execCommand("Delete")},0)}else n.execCommand("Delete")})},wee=n=>s=>{!s.isDefaultPrevented()&&A7(n)&&lV(s,k7(n),C7(n),ie)},Tee=n=>{n.on("cut",See(n)),n.on("copy",wee(n))},cV=(n,s)=>{var l,m;return Ot.getCaretRangeFromPoint((l=s.clientX)!==null&&l!==void 0?l:0,(m=s.clientY)!==null&&m!==void 0?m:0,n.getDoc())},Cee=n=>{const s=n["text/plain"];return s?s.indexOf("file://")===0:!1},GC=(n,s)=>{n.focus(),s&&n.selection.setRng(s)},kee=n=>_e(n.files,s=>/^image\//.test(s.type)),uV=(n,s,l,m)=>{const x=n.getParent(l,Z=>ks(s,Z));if(!Q(n.getParent(l,"summary")))return!0;if(x&&lt(m,"text/html")){const Z=new DOMParser().parseFromString(m["text/html"],"text/html").body;return!Q(Z.querySelector(x.nodeName.toLowerCase()))}else return!1},Aee=n=>{n.on("input",s=>{const l=m=>Q(m.querySelector("summary"));if(s.inputType==="deleteByDrag"){const m=se(n.dom.select("details"),l);re(m,x=>{aa(x.firstChild)&&x.firstChild.remove();const P=n.dom.create("summary");P.appendChild(Ac().dom),x.prepend(P)})}})},P7=(n,s)=>{_E(n)&&n.on("dragend dragover draggesture dragdrop drop drag",l=>{l.preventDefault(),l.stopPropagation()}),Tx(n)||n.on("drop",l=>{const m=l.dataTransfer;m&&kee(m)&&l.preventDefault()}),n.on("drop",l=>{if(l.isDefaultPrevented())return;const m=cV(n,l);if(F(m))return;const x=Z2(l.dataTransfer),P=M1(x,K4());if((!nV(x)||Cee(x))&&sV(n,l,m))return;const Z=x[K4()],J=Z||x["text/html"]||x["text/plain"],ge=uV(n.dom,n.schema,m.startContainer,x),Re=s.get();Re&&!ge||J&&(l.preventDefault(),hd.setEditorTimeout(n,()=>{n.undoManager.transact(()=>{(Z||Re&&ge)&&n.execCommand("Delete"),GC(n,m);const Ge=qF(J);x["text/html"]?tP(n,Ge,P,!0):P1(n,Ge,!0)})}))}),n.on("dragstart",l=>{s.set(!0)}),n.on("dragover dragend",l=>{Tx(n)&&!s.get()&&(l.preventDefault(),GC(n,cV(n,l))),l.type==="dragend"&&s.set(!1)}),Aee(n)},fV=n=>{const s=x=>P=>{x(n,P)},l=RE(n);E(l)&&n.on("PastePreProcess",s(l));const m=Wk(n);E(m)&&n.on("PastePostProcess",s(m))},Pee=(n,s)=>{n.on("PastePreProcess",l=>{l.content=s(n,l.content,l.internal)})},Mee=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,dV=n=>fr.trim(n).replace(Mee,p0).toLowerCase(),Eee=(n,s,l)=>{const m=Zw(n);if(l||m==="all"||!Hw(n))return s;const x=m?m.split(/[, ]/):[];if(x&&m!=="none"){const P=n.dom,Z=n.selection.getNode();s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(J,ge,Re,Ge)=>{const qe=P.parseStyle(P.decode(Re)),ot={};for(let Vt=0;Vt<x.length;Vt++){const kt=qe[x[Vt]];let It=kt,cn=P.getStyle(Z,x[Vt],!0);/color/.test(x[Vt])&&(It=dV(It),cn=dV(cn)),cn!==It&&(ot[x[Vt]]=kt)}const Et=P.serializeStyle(ot,"span");return Et?ge+' style="'+Et+'"'+Ge:ge+Ge})}else s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return s=s.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(P,Z,J,ge)=>Z+' style="'+J+'"'+ge),s},_ee=n=>{(Dr.browser.isChromium()||Dr.browser.isSafari())&&Pee(n,Eee)},hV=n=>{const s=oi(!1),l=oi(Ww(n)?"text":"html"),m=aee(n);_ee(n),w7(n,l),fV(n),n.on("PreInit",()=>{Tee(n),P7(n,s),bee(n,m,l)})},Ree=n=>{n.on("click",s=>{n.dom.getParent(s.target,"details")&&s.preventDefault()})},Dee=n=>{n.parser.addNodeFilter("details",s=>{const l=Dl(n);re(s,m=>{l==="expanded"?m.attr("open","open"):l==="collapsed"&&m.attr("open",null)})}),n.serializer.addNodeFilter("details",s=>{const l=p9(n);re(s,m=>{l==="expanded"?m.attr("open","open"):l==="collapsed"&&m.attr("open",null)})})},$ee=n=>{Ree(n),Dee(n)},Lee=aa,mV=lr,Iee=n=>xs(n.dom),Nee=n=>Wl(n.dom),nP=n=>s=>Gs(Yt.fromDom(n),s),gV=(n,s,l)=>Cu(Yt.fromDom(n),m=>Nee(m)||l.isBlock(Vs(m)),nP(s)).getOr(Yt.fromDom(s)).dom,pV=(n,s)=>Cu(Yt.fromDom(n),Iee,nP(s)),vV=(n,s,l)=>{const m=new ca(n,s),x=l?m.next.bind(m):m.prev.bind(m);let P=n;for(let Z=l?n:x();Z&&!Lee(Z);Z=x())go(Z)&&(P=Z);return P},Bee=(n,s,l)=>{const x=Nn.fromRangeStart(n).getNode(),P=gV(x,s,l),Z=vV(x,P,!1),J=vV(x,P,!0),ge=document.createRange();return pV(Z,P).fold(()=>{mV(Z)?ge.setStart(Z,0):ge.setStartBefore(Z)},Re=>ge.setStartBefore(Re.dom)),pV(J,P).fold(()=>{mV(J)?ge.setEnd(J,J.data.length):ge.setEndAfter(J)},Re=>ge.setEndAfter(Re.dom)),ge},Qee=n=>{const s=Bee(n.selection.getRng(),n.getBody(),n.schema);n.selection.setRng(c2(s))},Fee=n=>{n.on("mousedown",s=>{s.detail>=3&&(s.preventDefault(),Qee(n))})};var U2;(function(n){n.Before="before",n.After="after"})(U2||(U2={}));const Vee=(n,s)=>Math.abs(n.left-s),rP=(n,s)=>Math.abs(n.right-s),yV=(n,s)=>n>=s.top&&n<=s.bottom,zee=(n,s)=>n.top<s.bottom&&n.bottom>s.top,bV=(n,s)=>{const l=rE(n,s)/Math.min(n.height,s.height);return zee(n,s)&&l>.5},OV=(n,s)=>{const l=se(n,m=>yV(s,m));return nE(l).fold(()=>[[],n],m=>{const{pass:x,fail:P}=te(n,Z=>bV(Z,m));return[x,P]})},M7=(n,s)=>({node:n.node,position:Vee(n,s)<rP(n,s)?U2.Before:U2.After}),Zee=(n,s,l)=>s>n.left&&s<n.right?0:Math.min(Math.abs(n.left-s),Math.abs(n.right-s)),oP=(n,s,l)=>{const m=Ge=>go(Ge.node)?Y.some(Ge):Xr(Ge.node)?oP(tt(Ge.node.childNodes),s,l):Y.none(),x=(Ge,qe)=>{if(Ge.length>=2){const ot=m(Ge[0]).getOr(Ge[0]),Et=m(Ge[1]).getOr(Ge[1]);if(Math.abs(qe(ot,s,l)-qe(Et,s,l))<2){if(lr(ot.node))return Y.some(ot);if(lr(Et.node))return Y.some(Et)}}return Y.none()},P=(Ge,qe)=>{const ot=je(Ge,(Et,Vt)=>qe(Et,s,l)-qe(Vt,s,l));return x(ot,qe).orThunk(()=>wt(ot,m))},[Z,J]=OV(AB(n),l),{pass:ge,fail:Re}=te(J,Ge=>Ge.top<l);return P(Z,Zee).orThunk(()=>P(Re,mw)).orThunk(()=>P(ge,mw))},Hee=(n,s,l,m)=>{const x=(P,Z)=>{const J=Re=>Xr(Re)&&Re.classList.contains("mce-drag-container"),ge=se(P.dom.childNodes,xe(J));return Z.fold(()=>oP(ge,l,m),Re=>{const Ge=se(ge,qe=>qe!==Re.dom);return oP(Ge,l,m)}).orThunk(()=>(Gs(P,n)?Y.none():Og(P)).bind(Ge=>x(Ge,Y.some(P))))};return x(s,Y.none())},xV=(n,s,l)=>{const m=Yt.fromDom(n),x=Jf(m),Z=Yt.fromPoint(x,s,l).filter(J=>oc(m,J)).getOr(m);return Hee(m,Z,s,l)},SV=(n,s,l)=>xV(n,s,l).filter(m=>z0(m.node)).map(m=>M7(m,s)),E7=n=>{var s,l;const m=n.getBoundingClientRect(),x=n.ownerDocument,P=x.documentElement,Z=x.defaultView;return{top:m.top+((s=Z==null?void 0:Z.scrollY)!==null&&s!==void 0?s:0)-P.clientTop,left:m.left+((l=Z==null?void 0:Z.scrollX)!==null&&l!==void 0?l:0)-P.clientLeft}},Uee=n=>n.inline?E7(n.getBody()):{left:0,top:0},Wee=n=>{const s=n.getBody();return n.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}},Yee=n=>{const s=n.getBody(),l=n.getDoc().documentElement,m={left:s.scrollLeft,top:s.scrollTop},x={left:s.scrollLeft||l.scrollLeft,top:s.scrollTop||l.scrollTop};return n.inline?m:x},jC=(n,s)=>{if(s.target.ownerDocument!==n.getDoc()){const l=E7(n.getContentAreaContainer()),m=Yee(n);return{left:s.pageX-l.left+m.left,top:s.pageY-l.top+m.top}}return{left:s.pageX,top:s.pageY}},Xee=(n,s,l)=>({pageX:l.left-n.left+s.left,pageY:l.top-n.top+s.top}),Gee=(n,s)=>Xee(Uee(n),Wee(n),jC(n,s)),_7=n=>({target:n,srcElement:n}),jee=(n,s,l,m)=>({...s,dataTransfer:m,type:n,..._7(l)}),qee=(n,s,l)=>{const m=we("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:n,composedPath:m,initEvent:m,preventDefault:ie,stopImmediatePropagation:ie,stopPropagation:ie,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:m,initMouseEvent:m,getModifierState:m,dataTransfer:l,..._7(s)}},Kee=(n,s)=>{const l=z2(n);return s==="dragstart"?(QF(l),VF(l)):s==="drop"?(UJ(l),f7(l)):(G4(l),zF(l)),l},Jee=(n,s,l,m)=>{const x=Kee(l,n);return U(m)?qee(n,s,x):jee(n,m,s,x)},sP=32,aP=100,qC=8,KC=16,wV=xs,ete=oE(wV,Wl),tte=(n,s,l)=>wV(l)&&l!==s&&n.isEditable(l.parentElement),Zce=(n,s,l)=>F(s)||s===l||n.dom.isChildOf(s,l)?!1:n.dom.isEditable(s),nte=(n,s,l,m)=>{const x=n.dom,P=s.cloneNode(!0);x.setStyles(P,{width:l,height:m}),x.setAttrib(P,"data-mce-selected",null);const Z=x.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return x.setStyles(Z,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:l,height:m}),x.setStyles(P,{margin:0,boxSizing:"border-box"}),Z.appendChild(P),Z},R7=(n,s)=>{n.parentNode!==s&&s.appendChild(n)},W2=(n,s)=>l=>()=>{const m=n==="left"?l.scrollX:l.scrollY;l.scroll({[n]:m+s,behavior:"smooth"})},JC=W2("left",-sP),TV=W2("left",sP),CV=W2("top",-sP),D7=W2("top",sP),rte=(n,s,l,m,x,P,Z,J,ge,Re,Ge,qe)=>{let ot=0,Et=0;n.style.left=s.pageX+"px",n.style.top=s.pageY+"px",s.pageX+l>x&&(ot=s.pageX+l-x),s.pageY+m>P&&(Et=s.pageY+m-P),n.style.width=l-ot+"px",n.style.height=m-Et+"px";const Vt=ge.clientHeight,kt=ge.clientWidth,It=Z+ge.getBoundingClientRect().top,cn=J+ge.getBoundingClientRect().left;Ge.on(xn=>{xn.intervalId.clear(),xn.dragging&&qe&&(Z+qC>=Vt?xn.intervalId.set(D7(Re)):Z-qC<=0?xn.intervalId.set(CV(Re)):J+qC>=kt?xn.intervalId.set(TV(Re)):J-qC<=0?xn.intervalId.set(JC(Re)):It+KC>=window.innerHeight?xn.intervalId.set(D7(window)):It-KC<=0?xn.intervalId.set(CV(window)):cn+KC>=window.innerWidth?xn.intervalId.set(TV(window)):cn-KC<=0&&xn.intervalId.set(JC(window)))})},iP=n=>{n&&n.parentNode&&n.parentNode.removeChild(n)},kV=(n,s)=>{const l=n.getParent(s.parentNode,n.isBlock);iP(s),l&&l!==n.getRoot()&&n.isEmpty(l)&&D(Yt.fromDom(l))},ote=n=>n.button===0,ste=(n,s)=>({pageX:s.pageX-n.relX,pageY:s.pageY+5}),AV=(n,s)=>l=>{if(ote(l)){const m=ce(s.dom.getParents(l.target),ete).getOr(null);if(B(m)&&tte(s.dom,s.getBody(),m)){const x=s.dom.getPos(m),P=s.getBody(),Z=s.getDoc().documentElement;n.set({element:m,dataTransfer:d7(),dragging:!1,screenX:l.screenX,screenY:l.screenY,maxX:(s.inline?P.scrollWidth:Z.offsetWidth)-2,maxY:(s.inline?P.scrollHeight:Z.offsetHeight)-2,relX:l.pageX-x.x,relY:l.pageY-x.y,width:m.offsetWidth,height:m.offsetHeight,ghost:nte(s,m,m.offsetWidth,m.offsetHeight),intervalId:eE(aP)})}}},ate=(n,s,l)=>{n._selectionOverrides.hideFakeCaret(),SV(n.getBody(),s,l).fold(()=>n.selection.placeCaretAt(s,l),m=>{const x=n._selectionOverrides.showCaret(1,m.node,m.position===U2.Before,!1);x?n.selection.setRng(x):n.selection.placeCaretAt(s,l)})},lP=(n,s,l,m,x)=>{s==="dragstart"&&UF(m,n.dom.getOuterHTML(l));const P=Jee(s,l,m,x);return n.dispatch(s,P)},ite=(n,s)=>{const l=Fy((x,P)=>ate(s,x,P),0);s.on("remove",l.cancel);const m=n;return x=>n.on(P=>{const Z=Math.max(Math.abs(x.screenX-P.screenX),Math.abs(x.screenY-P.screenY));if(!P.dragging&&Z>10){const J=lP(s,"dragstart",P.element,P.dataTransfer,x);if(B(J.dataTransfer)&&(P.dataTransfer=J.dataTransfer),J.isDefaultPrevented())return;P.dragging=!0,s.focus()}if(P.dragging){const J=x.currentTarget===s.getDoc().documentElement,ge=ste(P,Gee(s,x));R7(P.ghost,s.getBody()),rte(P.ghost,ge,P.width,P.height,P.maxX,P.maxY,x.clientY,x.clientX,s.getContentAreaContainer(),s.getWin(),m,J),l.throttle(x.clientX,x.clientY)}})},lte=n=>{const s=n.getSel();if(B(s)){const m=s.getRangeAt(0).startContainer;return lr(m)?m.parentNode:m}else return null},cte=(n,s)=>l=>{n.on(m=>{var x;if(m.intervalId.clear(),m.dragging){if(Zce(s,lte(s.selection),m.element)){const P=(x=s.getDoc().elementFromPoint(l.clientX,l.clientY))!==null&&x!==void 0?x:s.getBody();lP(s,"drop",P,m.dataTransfer,l).isDefaultPrevented()||s.undoManager.transact(()=>{kV(s.dom,m.element),JJ(m.dataTransfer).each(J=>s.insertContent(J)),s._selectionOverrides.hideFakeCaret()})}lP(s,"dragend",s.getBody(),m.dataTransfer,l)}}),L7(n)},$7=(n,s,l)=>{n.on(m=>{m.intervalId.clear(),m.dragging&&l.fold(()=>lP(s,"dragend",m.element,m.dataTransfer),x=>lP(s,"dragend",m.element,m.dataTransfer,x))}),L7(n)},ute=(n,s)=>l=>$7(n,s,Y.some(l)),L7=n=>{n.on(s=>{s.intervalId.clear(),iP(s.ghost)}),n.clear()},fte=n=>{const s=Dg(),l=$a.DOM,m=document,x=AV(s,n),P=ite(s,n),Z=cte(s,n),J=ute(s,n);n.on("mousedown",x),n.on("mousemove",P),n.on("mouseup",Z),l.bind(m,"mousemove",P),l.bind(m,"mouseup",J),n.on("remove",()=>{l.unbind(m,"mousemove",P),l.unbind(m,"mouseup",J)}),n.on("keydown",ge=>{ge.keyCode===Yr.ESC&&$7(s,n,Y.none())})},dte=n=>{const s=x=>{if(!x.isDefaultPrevented()){const P=x.dataTransfer;P&&(Ve(P.types,"Files")||P.files.length>0)&&(x.preventDefault(),x.type==="drop"&&Z5(n,"Dropped file type is not supported"))}},l=x=>{FA(n,x.target)&&s(x)},m=()=>{const x=$a.DOM,P=n.dom,Z=document,J=n.inline?n.getBody():n.getDoc(),ge=["drop","dragover"];re(ge,Re=>{x.bind(Z,Re,l),P.bind(J,Re,s)}),n.on("remove",()=>{re(ge,Re=>{x.unbind(Z,Re,l),P.unbind(J,Re,s)})})};n.on("init",()=>{hd.setEditorTimeout(n,m,0)})},hte=n=>{fte(n),wx(n)&&dte(n)},mte=n=>{const s=Fy(()=>{if(!n.removed&&n.getBody().contains(document.activeElement)){const l=n.selection.getRng();if(l.collapsed){const m=P2(n,l,!1);n.selection.setRng(m)}}},0);n.on("focus",()=>{s.throttle()}),n.on("blur",()=>{s.cancel()})},gte=n=>{n.on("init",()=>{n.on("focusin",s=>{const l=s.target;if(ni(l)){const m=Nb(n.getBody(),l),x=xs(m)?m:l;n.selection.getNode()!==x&&A2(n,x).each(P=>n.selection.setRng(P))}})})},Y2=xs,pte=(n,s)=>Nb(n.getBody(),s),vte=n=>{const s=n.selection,l=n.dom,m=n.getBody(),x=Jw(n,m,l.isBlock,()=>l1(n)),P="sel-"+l.uniqueId(),Z="data-mce-selected";let J;const ge=Qr=>B(Qr)&&l.hasClass(Qr,"mce-offscreen-selection"),Re=Qr=>Qr!==m&&(Y2(Qr)||ni(Qr))&&l.isChildOf(Qr,m)&&l.isEditable(Qr.parentNode),Ge=Qr=>{Qr&&s.setRng(Qr)},qe=(Qr,zn,Bn,tr=!0)=>n.dispatch("ShowCaret",{target:zn,direction:Qr,before:Bn}).isDefaultPrevented()?null:(tr&&s.scrollIntoView(zn,Qr===-1),x.show(Bn,zn)),ot=Qr=>{Qr.hasAttribute("data-mce-caret")&&(Pn(Qr),s.scrollIntoView(Qr))},Et=()=>{n.on("click",zn=>{l.isEditable(zn.target)||(zn.preventDefault(),n.focus())}),n.on("blur NewBlock",$n),n.on("ResizeWindow FullscreenStateChanged",x.reposition),n.on("tap",zn=>{const Bn=zn.target,tr=pte(n,Bn);Y2(tr)?(zn.preventDefault(),A2(n,tr).each(bn)):Re(Bn)&&A2(n,Bn).each(bn)},!0),n.on("mousedown",zn=>{const Bn=zn.target;if(Bn!==m&&Bn.nodeName!=="HTML"&&!l.isChildOf(Bn,m)||!YG(n,zn.clientX,zn.clientY))return;$n(),gr();const tr=pte(n,Bn);Y2(tr)?(zn.preventDefault(),A2(n,tr).each(bn)):SV(m,zn.clientX,zn.clientY).each(eo=>{zn.preventDefault();const po=qe(1,eo.node,eo.position===U2.Before,!1);Ge(po),Ul(tr)?tr.focus():n.getBody().focus()})}),n.on("keypress",zn=>{Yr.modifierPressed(zn)||Y2(s.getNode())&&zn.preventDefault()}),n.on("GetSelectionRange",zn=>{let Bn=zn.range;if(J){if(!J.parentNode){J=null;return}Bn=Bn.cloneRange(),Bn.selectNode(J),zn.range=Bn}}),n.on("SetSelectionRange",zn=>{zn.range=It(zn.range);const Bn=bn(zn.range,zn.forward);Bn&&(zn.range=Bn)});const Qr=zn=>Xr(zn)&&zn.id==="mcepastebin";n.on("AfterSetSelectionRange",zn=>{const Bn=zn.range,tr=Bn.startContainer.parentElement;!kt(Bn)&&!Qr(tr)&&gr(),ge(tr)||$n()}),hte(n),mte(n),gte(n)},Vt=Qr=>bt(Qr)||nn(Qr)||hn(Qr),kt=Qr=>Vt(Qr.startContainer)||Vt(Qr.endContainer),It=Qr=>{const zn=n.schema.getVoidElements(),Bn=l.createRng(),tr=Qr.startContainer,eo=Qr.startOffset,po=Qr.endContainer,ls=Qr.endOffset;return lt(zn,tr.nodeName.toLowerCase())?eo===0?Bn.setStartBefore(tr):Bn.setStartAfter(tr):Bn.setStart(tr,eo),lt(zn,po.nodeName.toLowerCase())?ls===0?Bn.setEndBefore(po):Bn.setEndAfter(po):Bn.setEnd(po,ls),Bn},cn=(Qr,zn)=>{const Bn=Yt.fromDom(n.getBody()),tr=n.getDoc(),eo=Tc(Bn,"#"+P).getOrThunk(()=>{const bs=Yt.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',tr);return Da(bs,"id",P),Ci(Bn,bs),bs}),po=l.createRng();wh(eo),Ta(eo,[Yt.fromText(zs,tr),Yt.fromDom(zn),Yt.fromText(zs,tr)]),po.setStart(eo.dom.firstChild,1),po.setEnd(eo.dom.lastChild,0),sc(eo,{top:l.getPos(Qr,n.getBody()).y+"px"}),DA(eo);const ls=s.getSel();return ls&&(ls.removeAllRanges(),ls.addRange(po)),po},xn=Qr=>{const zn=Qr.cloneNode(!0),Bn=n.dispatch("ObjectSelected",{target:Qr,targetClone:zn});if(Bn.isDefaultPrevented())return null;const tr=cn(Qr,Bn.targetClone),eo=Yt.fromDom(Qr);return re(al(Yt.fromDom(n.getBody()),`*[${Z}]`),po=>{Gs(eo,po)||ui(po,Z)}),l.getAttrib(Qr,Z)||Qr.setAttribute(Z,"1"),J=Qr,gr(),tr},bn=(Qr,zn)=>{if(!Qr)return null;if(Qr.collapsed){if(!kt(Qr)){const po=zn?1:-1,ls=Hg(po,m,Qr),bs=ls.getNode(!zn);if(B(bs)){if(z0(bs))return qe(po,bs,zn?!ls.isAtEnd():!1,!1);if(vt(bs)&&xs(bs.nextSibling)){const $s=l.createRng();return $s.setStart(bs,0),$s.setEnd(bs,0),$s}}const ma=ls.getNode(zn);if(B(ma)){if(z0(ma))return qe(po,ma,zn?!1:!ls.isAtEnd(),!1);if(vt(ma)&&xs(ma.previousSibling)){const $s=l.createRng();return $s.setStart(ma,1),$s.setEnd(ma,1),$s}}}return null}let Bn=Qr.startContainer,tr=Qr.startOffset;const eo=Qr.endOffset;if(lr(Bn)&&tr===0&&Y2(Bn.parentNode)&&(Bn=Bn.parentNode,tr=l.nodeIndex(Bn),Bn=Bn.parentNode),!Xr(Bn))return null;if(eo===tr+1&&Bn===Qr.endContainer){const po=Bn.childNodes[tr];if(Re(po))return xn(po)}return null},$n=()=>{J&&J.removeAttribute(Z),Tc(Yt.fromDom(n.getBody()),"#"+P).each(Ks),J=null},rr=()=>{x.destroy(),J=null},gr=()=>{x.hide()};return Pv(n)||Et(),{showCaret:qe,showBlockCaretContainer:ot,hideFakeCaret:gr,destroy:rr}},PV=(n,s)=>{let l=s;for(let m=n.previousSibling;lr(m);m=m.previousSibling)l+=m.data.length;return l},MV=(n,s,l,m,x)=>{if(lr(l)&&(m<0||m>l.data.length))return[];const P=x&&lr(l)?[PV(l,m)]:[m];let Z=l;for(;Z!==s&&Z.parentNode;)P.push(n.nodeIndex(Z,x)),Z=Z.parentNode;return Z===s?P.reverse():[]},e3=(n,s,l,m,x,P,Z=!1)=>{const J=MV(n,s,l,m,Z),ge=MV(n,s,x,P,Z);return{start:J,end:ge}},EV=(n,s)=>{const l=s.slice(),m=l.pop();return W(m)?oe(l,(P,Z)=>P.bind(J=>Y.from(J.childNodes[Z])),Y.some(n)).bind(P=>lr(P)&&(m<0||m>P.data.length)?Y.none():Y.some({node:P,offset:m})):Y.none()},_V=(n,s)=>EV(n,s.start).bind(({node:l,offset:m})=>EV(n,s.end).map(({node:x,offset:P})=>{const Z=document.createRange();return Z.setStart(l,m),Z.setEnd(x,P),Z})),yte=(n,s,l,m=!1)=>e3(n,s,l.startContainer,l.startOffset,l.endContainer,l.endOffset,m),qb=(n,s,l)=>{if(s&&n.isEmpty(s)&&!l(s)){const m=s.parentNode;n.remove(s,lr(s.firstChild)&&Qa(s.firstChild.data)),qb(n,m,l)}},Kb=(n,s,l,m=!0)=>{const x=s.startContainer.parentNode,P=s.endContainer.parentNode;s.deleteContents(),m&&!l(s.startContainer)&&(lr(s.startContainer)&&s.startContainer.data.length===0&&n.remove(s.startContainer),lr(s.endContainer)&&s.endContainer.data.length===0&&n.remove(s.endContainer),qb(n,x,l),x!==P&&qb(n,P,l))},cP=(n,s)=>Y.from(n.dom.getParent(s.startContainer,n.dom.isBlock)),I7=(n,s,l)=>{const m=n.dynamicPatternsLookup({text:l,block:s});return{...n,blockPatterns:bx(m).concat(n.blockPatterns),inlinePatterns:Mw(m).concat(n.inlinePatterns)}},RV=(n,s,l,m)=>{const x=n.createRng();return x.setStart(s,0),x.setEnd(l,m),x.toString()},bte=n=>/^\s[^\s]/.test(n),N7=(n,s,l)=>{EQ(s,0,s).each(x=>{const P=x.container;k4(P,l.start.length,s).each(ge=>{const Re=n.createRng();Re.setStart(P,0),Re.setEnd(ge.container,ge.offset),Kb(n,Re,Ge=>Ge===s)});const Z=Yt.fromDom(P),J=au(Z);bte(J)&&ac(Z,J.slice(1))})},Ote=(n,s)=>{const l=n.dom,m=s.pattern,x=_V(l.getRoot(),s.range).getOrDie("Unable to resolve path range"),P=(Z,J)=>{const ge=J.get(Z);return N(ge)&&yt(ge).exists(Re=>lt(Re,"block"))};return cP(n,x).each(Z=>{m.type==="block-format"?P(m.format,n.formatter)&&n.undoManager.transact(()=>{N7(n.dom,Z,m),n.formatter.apply(m.format)}):m.type==="block-command"&&n.undoManager.transact(()=>{N7(n.dom,Z,m),n.execCommand(m.cmd,!1,m.value)})}),!0},xte=n=>je(n,(s,l)=>l.start.length-s.start.length),Ste=(n,s)=>{const l=xte(n),m=s.replace(zs," ");return ce(l,x=>s.indexOf(x.start)===0||m.indexOf(x.start)===0)},B7=(n,s,l,m)=>{var x;const P=n.dom,Z=Rc(n);if(!P.is(s,Z))return[];const J=(x=s.textContent)!==null&&x!==void 0?x:"";return Ste(l.blockPatterns,J).map(ge=>fr.trim(J).length===ge.start.length?[]:[{pattern:ge,range:e3(P,P.getRoot(),s,0,s,0,m)}]).getOr([])},wte=(n,s)=>{if(s.length===0)return;const l=n.selection.getBookmark();re(s,m=>Ote(n,m)),n.selection.moveToBookmark(l)},DV=(n,s)=>n.create("span",{"data-mce-type":"bookmark",id:s}),uP=(n,s)=>{const l=n.createRng();return l.setStartAfter(s.start),l.setEndBefore(s.end),l},$V=(n,s,l)=>{const m=_V(n.getRoot(),l).getOrDie("Unable to resolve path range"),x=m.startContainer,P=m.endContainer,Z=m.endOffset===0?P:P.splitText(m.endOffset),J=m.startOffset===0?x:x.splitText(m.startOffset),ge=J.parentNode,Re=Z.parentNode;return{prefix:s,end:Re.insertBefore(DV(n,s+"-end"),Z),start:ge.insertBefore(DV(n,s+"-start"),J)}},LV=(n,s,l)=>{qb(n,n.get(s.prefix+"-end"),l),qb(n,n.get(s.prefix+"-start"),l)},Q7=n=>n.start.length===0,IV=n=>(s,l)=>{const x=s.data.substring(0,l),P=x.lastIndexOf(n.charAt(n.length-1)),Z=x.lastIndexOf(n);return Z!==-1?Z+n.length:P!==-1?P+1:-1},F7=(n,s,l,m)=>{const x=s.start;return LC(n,m.container,m.offset,IV(x),l).bind(Z=>{var J,ge;const Re=(ge=(J=l.textContent)===null||J===void 0?void 0:J.indexOf(x))!==null&&ge!==void 0?ge:-1;if(Re!==-1&&Z.offset>=Re+x.length){const qe=n.createRng();return qe.setStart(Z.container,Z.offset-x.length),qe.setEnd(Z.container,Z.offset),Y.some(qe)}else{const qe=Z.offset-x.length;return $C(Z.container,qe,l).map(ot=>{const Et=n.createRng();return Et.setStart(ot.container,ot.offset),Et.setEnd(Z.container,Z.offset),Et}).filter(ot=>ot.toString()===x).orThunk(()=>F7(n,s,l,jh(Z.container,0)))}})},V7=(n,s,l,m,x,P=!1)=>{if(s.start.length===0&&!P){const Z=n.createRng();return Z.setStart(l,m),Z.setEnd(l,m),Y.some(Z)}return DC(l,m,x).bind(Z=>F7(n,s,x,Z).bind(ge=>{var Re;if(P){if(ge.endContainer===Z.container&&ge.endOffset===Z.offset)return Y.none();if(Z.offset===0&&((Re=ge.endContainer.textContent)===null||Re===void 0?void 0:Re.length)===ge.endOffset)return Y.none()}return Y.some(ge)}))},z7=(n,s,l,m)=>{const x=n.dom,P=x.getRoot(),Z=l.pattern,J=l.position.container,ge=l.position.offset;return $C(J,ge-l.pattern.end.length,s).bind(Re=>{const Ge=e3(x,P,Re.container,Re.offset,J,ge,m);if(Q7(Z))return Y.some({matches:[{pattern:Z,startRng:Ge,endRng:Ge}],position:Re});{const qe=fP(n,l.remainingPatterns,Re.container,Re.offset,s,m),ot=qe.getOr({matches:[],position:Re}),Et=ot.position;return V7(x,Z,Et.container,Et.offset,s,qe.isNone()).map(kt=>{const It=yte(x,P,kt,m);return{matches:ot.matches.concat([{pattern:Z,startRng:It,endRng:Ge}]),position:jh(kt.startContainer,kt.startOffset)}})}})},fP=(n,s,l,m,x,P)=>{const Z=n.dom;return DC(l,m,Z.getRoot()).bind(J=>{const ge=RV(Z,x,l,m);for(let Re=0;Re<s.length;Re++){const Ge=s[Re];if(!ao(ge,Ge.end))continue;const qe=s.slice();qe.splice(Re,1);const ot=z7(n,x,{pattern:Ge,remainingPatterns:qe,position:J},P);if(ot.isNone()&&m>0)return fP(n,s,l,m-1,x,P);if(ot.isSome())return ot}return Y.none()})},dP=(n,s,l)=>{n.selection.setRng(l),s.type==="inline-format"?re(s.format,m=>{n.formatter.apply(m)}):n.execCommand(s.cmd,!1,s.value)},Tte=(n,s,l,m)=>{const x=uP(n.dom,l);Kb(n.dom,x,m),dP(n,s,x)},Cte=(n,s,l,m,x)=>{const P=n.dom,Z=uP(P,m),J=uP(P,l);Kb(P,J,x),Kb(P,Z,x);const ge={prefix:l.prefix,start:l.end,end:m.start},Re=uP(P,ge);dP(n,s,Re)},NV=(n,s)=>{const l=sv("mce_textpattern"),m=fe(s,(x,P)=>{const Z=$V(n,l+`_end${x.length}`,P.endRng);return x.concat([{...P,endMarker:Z}])},[]);return fe(m,(x,P)=>{const Z=m.length-x.length-1,J=Q7(P.pattern)?P.endMarker:$V(n,l+`_start${Z}`,P.startRng);return x.concat([{...P,startMarker:J}])},[])},kte=n=>je(n,(s,l)=>l.end.length-s.end.length),Ate=(n,s)=>{const l=Xe(n,m=>_e(s,x=>m.pattern.start===x.pattern.start&&m.pattern.end===x.pattern.end));return n.length===s.length?l?n:s:n.length>s.length?n:s},BV=(n,s,l,m,x,P)=>{const Z=fP(n,x.inlinePatterns,l,m,s,P).fold(()=>[],ge=>ge.matches),J=fP(n,kte(x.inlinePatterns),l,m,s,P).fold(()=>[],ge=>ge.matches);return Ate(Z,J)},QV=(n,s)=>{if(s.length===0)return;const l=n.dom,m=n.selection.getBookmark(),x=NV(l,s);re(x,P=>{const Z=l.getParent(P.startMarker.start,l.isBlock),J=ge=>ge===Z;Q7(P.pattern)?Tte(n,P.pattern,P.endMarker,J):Cte(n,P.pattern,P.startMarker,P.endMarker,J),LV(l,P.endMarker,J),LV(l,P.startMarker,J)}),n.selection.moveToBookmark(m)},Pte=(n,s)=>{const l=n.selection.getRng();return cP(n,l).map(m=>{var x;const P=Math.max(0,l.startOffset),Z=I7(s,m,(x=m.textContent)!==null&&x!==void 0?x:""),J=BV(n,m,l.startContainer,P,Z,!0),ge=B7(n,m,Z,!0);return ge.length>0||J.length>0?(n.undoManager.add(),n.undoManager.extra(()=>{n.execCommand("mceInsertNewLine")},()=>{$e(n),QV(n,J),wte(n,ge);const Re=n.selection.getRng(),Ge=DC(Re.startContainer,Re.startOffset,n.dom.getRoot());n.execCommand("mceInsertNewLine"),Ge.each(qe=>{const ot=qe.container;ot.data.charAt(qe.offset-1)===Ag&&(ot.deleteData(qe.offset-1,1),qb(n.dom,ot.parentNode,Et=>Et===n.dom.getRoot()))})}),!0):!1}).getOr(!1)},Mte=(n,s)=>{const l=n.selection.getRng();cP(n,l).map(m=>{const x=Math.max(0,l.startOffset-1),P=RV(n.dom,m,l.startContainer,x),Z=I7(s,m,P),J=BV(n,m,l.startContainer,x,Z,!1);J.length>0&&n.undoManager.transact(()=>{QV(n,J)})})},FV=(n,s,l)=>{for(let m=0;m<n.length;m++)if(l(n[m],s))return!0;return!1},VV=(n,s)=>FV(n,s,(l,m)=>l===m.keyCode&&!Yr.modifierPressed(m)),Ete=(n,s)=>FV(n,s,(l,m)=>l.charCodeAt(0)===m.charCode),Z7=n=>{const s=[",",".",";",":","!","?"],l=[32],m=()=>cu(kx(n),$E(n)),x=()=>Gw(n);n.on("keydown",Z=>{if(Z.keyCode===13&&!Yr.modifierPressed(Z)&&n.selection.isCollapsed()){const J=m();(J.inlinePatterns.length>0||J.blockPatterns.length>0||x())&&Pte(n,J)&&Z.preventDefault()}},!0);const P=()=>{if(n.selection.isCollapsed()){const Z=m();(Z.inlinePatterns.length>0||x())&&Mte(n,Z)}};n.on("keyup",Z=>{VV(l,Z)&&P()}),n.on("keypress",Z=>{Ete(s,Z)&&hd.setEditorTimeout(n,P)})},_te=n=>{Z7(n)},Rte=n=>{const s=fr.each,l=Yr.BACKSPACE,m=Yr.DELETE,x=n.dom,P=n.selection,Z=n.parser,J=Dr.browser,ge=J.isFirefox(),Re=J.isChromium()||J.isSafari(),Ge=Dr.deviceType.isiPhone()||Dr.deviceType.isiPad(),qe=Dr.os.isMacOS()||Dr.os.isiOS(),ot=(oo,Lo)=>{try{n.getDoc().execCommand(oo,!1,String(Lo))}catch{}},Et=oo=>oo.isDefaultPrevented(),Vt=()=>{const oo=yr=>{const Bo=x.create("body"),Ls=yr.cloneContents();return Bo.appendChild(Ls),P.serializer.serialize(Bo,{format:"html"})},Lo=yr=>{const Bo=oo(yr),Ls=x.createRng();Ls.selectNode(n.getBody());const Aa=oo(Ls);return Bo===Aa};n.on("keydown",yr=>{const Bo=yr.keyCode;if(!Et(yr)&&(Bo===m||Bo===l)&&n.selection.isEditable()){const Ls=n.selection.isCollapsed(),Aa=n.getBody();if(Ls&&!ta(Yt.fromDom(Aa))||!Ls&&!Lo(n.selection.getRng()))return;yr.preventDefault(),n.setContent(""),Aa.firstChild&&x.isBlock(Aa.firstChild)?n.selection.setCursorLocation(Aa.firstChild,0):n.selection.setCursorLocation(Aa,0),n.nodeChanged()}})},kt=()=>{n.shortcuts.add("meta+a",null,"SelectAll")},It=()=>{n.inline||x.bind(n.getDoc(),"mousedown mouseup",oo=>{let Lo;if(oo.target===n.getDoc().documentElement)if(Lo=P.getRng(),n.getBody().focus(),oo.type==="mousedown"){if(bt(Lo.startContainer))return;P.placeCaretAt(oo.clientX,oo.clientY)}else P.setRng(Lo)})},cn=()=>{n.on("keydown",oo=>{if(!Et(oo)&&oo.keyCode===l){if(!n.getBody().getElementsByTagName("hr").length)return;if(P.isCollapsed()&&P.getRng().startOffset===0){const Lo=P.getNode(),yr=Lo.previousSibling;if(Lo.nodeName==="HR"){x.remove(Lo),oo.preventDefault();return}yr&&yr.nodeName&&yr.nodeName.toLowerCase()==="hr"&&(x.remove(yr),oo.preventDefault())}}})},xn=()=>{Range.prototype.getClientRects||n.on("mousedown",oo=>{if(!Et(oo)&&oo.target.nodeName==="HTML"){const Lo=n.getBody();Lo.blur(),hd.setEditorTimeout(n,()=>{Lo.focus()})}})},bn=()=>{const oo=Zk(n);n.on("click",Lo=>{const yr=Lo.target;/^(IMG|HR)$/.test(yr.nodeName)&&x.isEditable(yr)&&(Lo.preventDefault(),n.selection.select(yr),n.nodeChanged()),yr.nodeName==="A"&&x.hasClass(yr,oo)&&yr.childNodes.length===0&&x.isEditable(yr.parentNode)&&(Lo.preventDefault(),P.select(yr))})},$n=()=>{const oo=()=>{const yr=x.getAttribs(P.getStart().cloneNode(!1));return()=>{const Bo=P.getStart();Bo!==n.getBody()&&(x.setAttrib(Bo,"style",null),s(yr,Ls=>{Bo.setAttributeNode(Ls.cloneNode(!0))}))}},Lo=()=>!P.isCollapsed()&&x.getParent(P.getStart(),x.isBlock)!==x.getParent(P.getEnd(),x.isBlock);n.on("keypress",yr=>{let Bo;return!Et(yr)&&(yr.keyCode===8||yr.keyCode===46)&&Lo()?(Bo=oo(),n.getDoc().execCommand("delete",!1),Bo(),yr.preventDefault(),!1):!0}),x.bind(n.getDoc(),"cut",yr=>{if(!Et(yr)&&Lo()){const Bo=oo();hd.setEditorTimeout(n,()=>{Bo()})}})},rr=()=>{n.on("keydown",oo=>{if(!Et(oo)&&oo.keyCode===l&&P.isCollapsed()&&P.getRng().startOffset===0){const Lo=P.getNode().previousSibling;if(Lo&&Lo.nodeName&&Lo.nodeName.toLowerCase()==="table")return oo.preventDefault(),!1}return!0})},gr=()=>{n.on("keydown",oo=>{if(Et(oo)||oo.keyCode!==Yr.BACKSPACE)return;let Lo=P.getRng();const yr=Lo.startContainer,Bo=Lo.startOffset,Ls=x.getRoot();let Aa=yr;if(!(!Lo.collapsed||Bo!==0)){for(;Aa.parentNode&&Aa.parentNode.firstChild===Aa&&Aa.parentNode!==Ls;)Aa=Aa.parentNode;Aa.nodeName==="BLOCKQUOTE"&&(n.formatter.toggle("blockquote",void 0,Aa),Lo=x.createRng(),Lo.setStart(yr,0),Lo.setEnd(yr,0),P.setRng(Lo))}})},Qr=()=>{const oo=()=>{ot("StyleWithCSS",!1),ot("enableInlineTableEditing",!1),$0(n)||ot("enableObjectResizing",!1)};Jy(n)||n.on("BeforeExecCommand mousedown",oo)},zn=()=>{const oo=()=>{s(x.select("a:not([data-mce-block])"),Lo=>{var yr;let Bo=Lo.parentNode;const Ls=x.getRoot();if((Bo==null?void 0:Bo.lastChild)===Lo){for(;Bo&&!x.isBlock(Bo);){if(((yr=Bo.parentNode)===null||yr===void 0?void 0:yr.lastChild)!==Bo||Bo===Ls)return;Bo=Bo.parentNode}x.add(Bo,"br",{"data-mce-bogus":1})}})};n.on("SetContent ExecCommand",Lo=>{(Lo.type==="setcontent"||Lo.command==="mceInsertLink")&&oo()})},Bn=()=>{n.on("init",()=>{ot("DefaultParagraphSeparator",Rc(n))})},tr=oo=>{const Lo=oo.getBody(),yr=oo.selection.getRng();return yr.startContainer===yr.endContainer&&yr.startContainer===Lo&&yr.startOffset===0&&yr.endOffset===Lo.childNodes.length},eo=()=>{n.on("keyup focusin mouseup",oo=>{!Yr.modifierPressed(oo)&&!tr(n)&&P.normalize()},!0)},po=()=>{n.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ls=()=>{n.inline||n.on("keydown",()=>{document.activeElement===document.body&&n.getWin().focus()})},bs=()=>{n.inline||(n.contentStyles.push("body {min-height: 150px}"),n.on("click",oo=>{let Lo;oo.target.nodeName==="HTML"&&(Lo=n.selection.getRng(),n.getBody().focus(),n.selection.setRng(Lo),n.selection.normalize(),n.nodeChanged())}))},ma=()=>{qe&&n.on("keydown",oo=>{Yr.metaKeyPressed(oo)&&!oo.shiftKey&&(oo.keyCode===37||oo.keyCode===39)&&(oo.preventDefault(),n.selection.getSel().modify("move",oo.keyCode===37?"backward":"forward","lineboundary"))})},$s=()=>{n.on("click",oo=>{let Lo=oo.target;do if(Lo.tagName==="A"){oo.preventDefault();return}while(Lo=Lo.parentNode)}),n.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},mi=()=>{n.on("init",()=>{n.dom.bind(n.getBody(),"submit",oo=>{oo.preventDefault()})})},hc=()=>{Z.addNodeFilter("br",oo=>{let Lo=oo.length;for(;Lo--;)oo[Lo].attr("class")==="Apple-interchange-newline"&&oo[Lo].remove()})},ga=ie,Cr=()=>{if(!ge||n.removed)return!1;const oo=n.selection.getSel();return!oo||!oo.rangeCount||oo.rangeCount===0},co=()=>{Re&&(It(),bn(),mi(),kt(),Ge&&(ls(),bs(),$s())),ge&&(xn(),Qr(),po(),ma())},Zs=()=>{n.on("drop",oo=>{var Lo;const yr=(Lo=oo.dataTransfer)===null||Lo===void 0?void 0:Lo.getData("text/html");M(yr)&&/^<img[^>]*>$/.test(yr)&&n.dispatch("dragend",new window.DragEvent("dragend",oo))})},ws=()=>{gr(),Vt(),Dr.windowsPhone||eo(),Re&&(It(),bn(),Bn(),mi(),rr(),hc(),Ge?(ls(),bs(),$s()):kt()),ge&&(cn(),xn(),$n(),Qr(),zn(),po(),ma(),rr(),Zs())};return Pv(n)?co():ws(),{refreshContentEditable:ga,isHidden:Cr}},H7=$a.DOM,Dte=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=BO(Ef(l)),x=Yt.fromTag("style");Da(x,"type","text/css"),Ci(x,Yt.fromText(s)),Ci(m,x),n.on("remove",()=>{Ks(x)})},$te=n=>n.inline?n.getElement().nodeName.toLowerCase():void 0,U7=n=>wn(n,s=>U(s)===!1),t3=n=>{const s=n.options.get,l=n.editorUpload.blobCache;return U7({allow_conditional_comments:s("allow_conditional_comments"),allow_html_data_urls:s("allow_html_data_urls"),allow_svg_data_urls:s("allow_svg_data_urls"),allow_html_in_named_anchor:s("allow_html_in_named_anchor"),allow_script_urls:s("allow_script_urls"),allow_unsafe_link_target:s("allow_unsafe_link_target"),convert_unsafe_embeds:s("convert_unsafe_embeds"),convert_fonts_to_spans:s("convert_fonts_to_spans"),fix_list_elements:s("fix_list_elements"),font_size_legacy_values:s("font_size_legacy_values"),forced_root_block:s("forced_root_block"),forced_root_block_attrs:s("forced_root_block_attrs"),preserve_cdata:s("preserve_cdata"),inline_styles:s("inline_styles"),root_name:$te(n),sandbox_iframes:s("sandbox_iframes"),sanitize:s("xss_sanitization"),validate:!0,blob_cache:l,document:n.getDoc()})},zV=n=>{const s=n.options.get;return U7({custom_elements:s("custom_elements"),extended_valid_elements:s("extended_valid_elements"),invalid_elements:s("invalid_elements"),invalid_styles:s("invalid_styles"),schema:s("schema"),valid_children:s("valid_children"),valid_classes:s("valid_classes"),valid_elements:s("valid_elements"),valid_styles:s("valid_styles"),verify_html:s("verify_html"),padd_empty_block_inline_children:s("format_empty_lines")})},Lte=n=>{const s=n.options.get;return{...t3(n),...zV(n),...U7({remove_trailing_brs:s("remove_trailing_brs"),pad_empty_with_br:s("pad_empty_with_br"),url_converter:s("url_converter"),url_converter_scope:s("url_converter_scope"),element_format:s("element_format"),entities:s("entities"),entity_encoding:s("entity_encoding"),indent:s("indent"),indent_after:s("indent_after"),indent_before:s("indent_before")})}},Ite=n=>{const s=Uh(t3(n),n.schema);return s.addAttributeFilter("src,href,style,tabindex",(l,m)=>{const x=n.dom,P="data-mce-"+m;let Z=l.length;for(;Z--;){const J=l[Z];let ge=J.attr(m);if(ge&&!J.attr(P)){if(ge.indexOf("data:")===0||ge.indexOf("blob:")===0)continue;m==="style"?(ge=x.serializeStyle(x.parseStyle(ge),J.name),ge.length||(ge=null),J.attr(P,ge),J.attr(m,ge)):m==="tabindex"?(J.attr(P,ge),J.attr(m,null)):J.attr(P,n.convertURL(ge,m,J.name))}}}),s.addNodeFilter("script",l=>{let m=l.length;for(;m--;){const x=l[m],P=x.attr("type")||"no/type";P.indexOf("mce-")!==0&&x.attr("type","mce-"+P)}}),Xw(n)&&s.addNodeFilter("#cdata",l=>{var m;let x=l.length;for(;x--;){const P=l[x];P.type=8,P.name="#comment",P.value="[CDATA["+n.dom.encode((m=P.value)!==null&&m!==void 0?m:"")+"]]"}}),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",l=>{let m=l.length;const x=n.schema.getNonEmptyElements();for(;m--;){const P=l[m];P.isEmpty(x)&&P.getAll("br").length===0&&P.append(new mu("br",1))}}),s},Nte=n=>{const s=Hk(n);s&&hd.setEditorTimeout(n,()=>{let l;s===!0?l=n:l=n.editorManager.get(s),l&&!l.destroyed&&(l.focus(),l.selection.scrollIntoView())},100)},Bte=n=>{const s=n.dom.getRoot();!n.inline&&(!Qx(n)||n.selection.getStart(!0)===s)&&Gc(s).each(l=>{const m=l.getNode(),x=qu(m)?Gc(m).getOr(l):l;n.selection.setRng(x.toRange())})},Qte=n=>{n.bindPendingEventDelegates(),n.initialized=!0,wb(n),n.focus(!0),Bte(n),n.nodeChanged({initial:!0});const s=PE(n);E(s)&&s.call(n,n),Nte(n)},W7=n=>n.inline?n.ui.styleSheetLoader:n.dom.styleSheetLoader,Fte=(n,s,l)=>{const{pass:m,fail:x}=te(s,J=>tinymce.Resource.has(R8(J))),Z=[...m.map(J=>{const ge=tinymce.Resource.get(R8(J));return M(ge)?Promise.resolve(W7(n).loadRawCss(J,ge)):Promise.resolve()}),W7(n).loadAll(x)];return n.inline?Z:Z.concat([n.ui.styleSheetLoader.loadAll(l)])},ZV=n=>{const s=W7(n),l=Ik(n),m=n.contentCSS,x=()=>{s.unloadAll(m),n.inline||n.ui.styleSheetLoader.unloadAll(l)},P=()=>{n.removed?x():n.on("remove",x)};if(n.contentStyles.length>0){let ge="";fr.each(n.contentStyles,Re=>{ge+=Re+`\r
`}),n.dom.addStyle(ge)}const Z=Promise.all(Fte(n,m,l)).then(P).catch(P),J=xx(n);return J&&Dte(n,J),Z},HV=n=>{const s=n.getDoc(),l=n.getBody();Gg(n),EE(n)||(s.body.spellcheck=!1,H7.setAttrib(l,"spellcheck","false")),n.quirks=Rte(n),l_(n);const m=bE(n);m!==void 0&&(l.dir=m);const x=Uk(n);x&&n.on("BeforeSetContent",P=>{fr.each(x,Z=>{P.content=P.content.replace(Z,J=>"<!--mce:protected "+escape(J)+"-->")})}),n.on("SetContent",()=>{n.addVisual(n.getBody())}),n.on("compositionstart compositionend",P=>{n.composing=P.type==="compositionstart"})},Vte=n=>{Pv(n)||n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"})},hP=n=>{n.removed!==!0&&(Vte(n),Qte(n))},zte=n=>{let s=!1;const l=setTimeout(()=>{s||n.setProgressState(!0)},500);return()=>{clearTimeout(l),s=!0,n.setProgressState(!1)}},UV=n=>{const s=n.getElement();let l=n.getDoc();n.inline&&(H7.addClass(s,"mce-content-body"),n.contentDocument=l=document,n.contentWindow=window,n.bodyElement=s,n.contentAreaContainer=s);const m=n.getBody();m.disabled=!0,n.readonly=Jy(n),n._editableRoot=Nf(n),!n.readonly&&n.hasEditableRoot()&&(n.inline&&H7.getStyle(m,"position",!0)==="static"&&(m.style.position="relative"),m.contentEditable="true"),m.disabled=!1,n.editorUpload=fj(n),n.schema=Em(zV(n)),n.dom=$a(l,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,update_styles:!0,root_element:n.inline?n.getBody():null,collect:n.inline,schema:n.schema,contentCssCors:Lm(n),referrerPolicy:gs(n),onSetAttrib:Z=>{n.dispatch("SetAttrib",Z)},force_hex_color:F0(n)}),n.parser=Ite(n),n.serializer=_N(Lte(n),n),n.selection=p1(n.dom,n.getWin(),n.serializer,n),n.annotator=bT(n),n.formatter=Hb(n),n.undoManager=bC(n),n._nodeChangeDispatcher=new NF(n),n._selectionOverrides=vte(n),nQ(n),$ee(n),wce(n),Pv(n)||(Fee(n),_te(n));const x=ZJ(n);v4(n,x),sQ(n),hj(n),hV(n);const P=iG(n);HV(n),P.fold(()=>{const Z=zte(n);ZV(n).then(()=>{hP(n),Z()})},Z=>{n.setProgressState(!0),ZV(n).then(()=>{Z().then(J=>{n.setProgressState(!1),hP(n),k8(n)},J=>{n.notificationManager.open({type:"error",text:String(J)}),hP(n),k8(n)})})})},WV=le,n3=(n,s,l)=>xm(n,s,WV,l),Y7=$a.DOM,YV=(n,s,l,m)=>{const x=Yt.fromTag("iframe");return m.each(P=>Da(x,"tabindex",P)),Tu(x,l),Tu(x,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:s}),mm(x,"tox-edit-area__iframe"),x},Zte=n=>{let s=Rk(n)+"<html><head>";_w(n)!==n.documentBaseUrl&&(s+='<base href="'+n.documentBaseURI.getURI()+'" />'),s+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const l=Rw(n),m=fE(n),x=n.translate(AE(n));return Dw(n)&&(s+='<meta http-equiv="Content-Security-Policy" content="'+Dw(n)+'" />'),s+=`</head><body id="${l}" class="mce-content-body ${m}" data-id="${n.id}" aria-label="${x}"><br></body></html>`,s},Hte=(n,s)=>{const l=n.translate("Rich Text Area"),m=xc(Yt.fromDom(n.getElement()),"tabindex").bind(Ft),x=YV(n.id,l,Ew(n),m).dom;x.onload=()=>{x.onload=null,n.dispatch("load")},n.contentAreaContainer=s.iframeContainer,n.iframeElement=x,n.iframeHTML=Zte(n),Y7.add(s.iframeContainer,x)},Ute=n=>{const s=n.iframeElement,l=()=>{n.contentDocument=s.contentDocument,UV(n)};if(NE(n)||Dr.browser.isFirefox()){const m=n.getDoc();m.open(),m.write(n.iframeHTML),m.close(),l()}else{const m=n3(Yt.fromDom(s),"load",()=>{m.unbind(),l()});s.srcdoc=n.iframeHTML}},Wte=(n,s)=>{Hte(n,s),s.editorContainer&&(s.editorContainer.style.display=n.orgDisplay,n.hidden=Y7.isHidden(s.editorContainer)),n.getElement().style.display="none",Y7.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,Ute(n)},X7=$a.DOM,Yte=(n,s,l)=>{const m=zb.get(l),x=zb.urls[l]||n.documentBaseUrl.replace(/\/$/,"");if(l=fr.trim(l),m&&fr.inArray(s,l)===-1){if(n.plugins[l])return;try{const P=m(n,x)||{};n.plugins[l]=P,E(P.init)&&(P.init(n,x),s.push(l))}catch(P){ZN(n,l,P)}}},XV=n=>n.replace(/^\-/,""),Xte=n=>{const s=[];re(eb(n),l=>{Yte(n,s,XV(l))})},Gte=n=>{const s=fr.trim(Lw(n)),l=n.ui.registry.getAll().icons,m={...gC.get("default").icons,...gC.get(s).icons};Bt(m,(x,P)=>{lt(l,P)||n.ui.registry.addIcon(P,x)})},jte=n=>{const s=L0(n);if(M(s)){const l=Mv.get(s);n.theme=l(n,Mv.urls[s])||{},E(n.theme.init)&&n.theme.init(n,Mv.urls[s]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}},qte=n=>{const s=Fw(n),l=nh.get(s);n.model=l(n,nh.urls[s])},Kte=n=>{const s=n.theme.renderUI;return s?s():jV(n)},Jte=n=>{const s=n.getElement(),m=L0(n)(n,s);return m.editorContainer.nodeType&&(m.editorContainer.id=m.editorContainer.id||n.id+"_parent"),m.iframeContainer&&m.iframeContainer.nodeType&&(m.iframeContainer.id=m.iframeContainer.id||n.id+"_iframecontainer"),m.height=m.iframeHeight?m.iframeHeight:s.offsetHeight,m},GV=(n,s)=>({editorContainer:n,iframeContainer:s,api:{}}),ene=n=>{const s=X7.create("div");return X7.insertAfter(s,n),GV(s,s)},jV=n=>{const s=n.getElement();return n.inline?GV(null):ene(s)},qV=n=>{const s=n.getElement();return n.orgDisplay=s.style.display,M(L0(n))?Kte(n):E(L0(n))?Jte(n):jV(n)},G7=(n,s)=>{const l={show:Y.from(s.show).getOr(ie),hide:Y.from(s.hide).getOr(ie),isEnabled:Y.from(s.isEnabled).getOr(le),setEnabled:m=>{n.mode.isReadOnly()||Y.from(s.setEnabled).each(x=>x(m))}};n.ui={...n.ui,...l}},KV=async n=>{n.dispatch("ScriptsLoaded"),Gte(n),jte(n),qte(n),Xte(n);const s=await qV(n);G7(n,Y.from(s.api).getOr({})),n.editorContainer=s.editorContainer,nj(n),n.inline?UV(n):Wte(n,{editorContainer:s.editorContainer,iframeContainer:s.iframeContainer})},E1=$a.DOM,JV=n=>n.charAt(0)==="-",tne=(n,s)=>{const l=Nw(s),m=Dc(s);if(!id.hasCode(l)&&l!=="en"){const x=St(m)?m:`${s.editorManager.baseURL}/langs/${l}.js`;n.add(x).catch(()=>{vC(s,x,l)})}},nne=(n,s)=>{const l=L0(n);if(M(l)&&!JV(l)&&!lt(Mv.urls,l)){const m=SE(n),x=m?n.documentBaseURI.toAbsolute(m):`themes/${l}/theme${s}.js`;Mv.load(l,x).catch(()=>{KG(n,x,l)})}},ez=(n,s)=>{const l=Fw(n);if(l!=="plugin"&&!lt(nh.urls,l)){const m=Bk(n),x=M(m)?n.documentBaseURI.toAbsolute(m):`models/${l}/model${s}.js`;nh.load(l,x).catch(()=>{zN(n,x,l)})}},tz=n=>Y.from(uv(n)).filter(St).map(s=>({url:s,name:Y.none()})),nz=(n,s,l)=>Y.from(s).filter(m=>St(m)&&!gC.has(m)).map(m=>({url:`${n.editorManager.baseURL}/icons/${m}/icons${l}.js`,name:Y.some(m)})),rne=(n,s,l)=>{const m=nz(s,"default",l),x=tz(s).orThunk(()=>nz(s,Lw(s),""));re(Za([m,x]),P=>{n.add(P.url).catch(()=>{qG(s,P.url,P.name.getOrUndefined())})})},j7=(n,s)=>{const l=(m,x)=>{zb.load(m,x).catch(()=>{vce(n,x,m)})};Bt(Qg(n),(m,x)=>{l(x,m),n.options.set("plugins",eb(n).concat(x))}),re(eb(n),m=>{m=fr.trim(m),m&&!zb.urls[m]&&!JV(m)&&l(m,`plugins/${m}/plugin${s}.js`)})},mP=n=>{const s=L0(n);return!M(s)||B(Mv.get(s))},gP=n=>{const s=Fw(n);return B(nh.get(s))},Rv=(n,s)=>{const l=el.ScriptLoader,m=()=>{!n.removed&&mP(n)&&gP(n)&&KV(n)};nne(n,s),ez(n,s),tne(l,n),rne(l,n,s),j7(n,s),l.loadQueue().then(m,m)},pP=(n,s)=>ew.forElement(n,{contentCssCors:N0(s),referrerPolicy:gs(s)}),X2=n=>{const s=n.id;id.setCode(Nw(n));const l=()=>{E1.unbind(window,"ready",l),n.render()};if(!Mu.Event.domLoaded){E1.bind(window,"ready",l);return}if(!n.getElement())return;const m=Yt.fromDom(n.getElement()),x=Vp(m);n.on("remove",()=>{be(m.dom.attributes,Z=>ui(m,Z.name)),Tu(m,x)}),n.ui.styleSheetLoader=pP(m,n),Vw(n)?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");const P=n.getElement().form||E1.getParent(s,"form");P&&(n.formElement=P,TE(n)&&!l0(n.getElement())&&(E1.insertAfter(E1.create("input",{type:"hidden",name:s}),s),n.hasHiddenInput=!0),n.formEventDelegate=Z=>{n.dispatch(Z.type,Z)},E1.bind(P,"submit reset",n.formEventDelegate),n.on("reset",()=>{n.resetContent()}),zk(n)&&!P.submit.nodeType&&!P.submit.length&&!P._mceOldSubmit&&(P._mceOldSubmit=P.submit,P.submit=()=>(n.editorManager.triggerSave(),n.setDirty(!1),P._mceOldSubmit(P)))),n.windowManager=VN(n),n.notificationManager=_8(n),FE(n)&&n.on("GetContent",Z=>{Z.save&&(Z.content=E1.encode(Z.content))}),$h(n)&&n.on("submit",()=>{n.initialized&&n.save()}),qy(n)&&(n._beforeUnload=()=>{n.initialized&&!n.destroyed&&!n.isHidden()&&n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),Rv(n,n.suffix)},rz=(n,s)=>{n._editableRoot!==s&&(n._editableRoot=s,n.readonly||(n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged()),h_(n,s))},one=n=>n._editableRoot,sne=(n,s)=>({sections:ae(n),options:ae(s)}),q7=li().deviceType,oz=q7.isPhone(),K7=q7.isTablet(),_1=n=>{if(F(n))return[];{const s=N(n)?n:n.split(/[ ,]/),l=Ie(s,wr);return se(l,St)}},R1=(n,s)=>{const l=an(s,(m,x)=>Ve(n,x));return sne(l.t,l.f)},Jb=(n,s,l={})=>{const m=n.sections(),x=Sn(m,s).getOr({});return fr.extend({},l,x)},vP=(n,s)=>lt(n.sections(),s),ane=(n,s)=>vP(n,s)?n.sections()[s]:{},ine=(n,s)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Sn(n,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...s?{menubar:!1}:{}}),lne=(n,s)=>{var l;const m=(l=s.external_plugins)!==null&&l!==void 0?l:{};return n&&n.external_plugins?fr.extend({},n.external_plugins,m):m},cne=(n,s)=>[..._1(n),..._1(s)],une=(n,s,l,m)=>n&&vP(s,"mobile")?m:l,fne=(n,s,l,m)=>{const x=_1(l.forced_plugins),P=_1(m.plugins),Z=ane(s,"mobile"),J=Z.plugins?_1(Z.plugins):P,ge=une(n,s,P,J),Re=cne(x,ge);return fr.extend(m,{forced_plugins:x,plugins:Re})},sz=(n,s)=>n&&vP(s,"mobile"),dne=(n,s,l,m,x)=>{var P;const Z=n?{mobile:ine((P=x.mobile)!==null&&P!==void 0?P:{},s)}:{},J=R1(["mobile"],VC(Z,x)),ge=fr.extend(l,m,J.options(),sz(n,J)?Jb(J,"mobile"):{},{external_plugins:lne(m,J.options())});return fne(n,J,m,ge)},hne=(n,s)=>dne(oz||K7,oz,s,n,s),mne=(n,s)=>bG(n,s),Hce=n=>{const s=(m,x)=>{n.formatter.toggle(m,x),n.nodeChanged()},l=m=>()=>{re("left,center,right,justify".split(","),x=>{m!==x&&n.formatter.remove("align"+x)}),m!=="none"&&s("align"+m)};n.editorCommands.addCommands({JustifyLeft:l("left"),JustifyCenter:l("center"),JustifyRight:l("right"),JustifyFull:l("justify"),JustifyNone:l("none")})},gne=n=>{const s=l=>()=>{const m=n.selection,x=m.isCollapsed()?[n.dom.getParent(m.getNode(),n.dom.isBlock)]:m.getSelectedBlocks();return _e(x,P=>B(n.formatter.matchNode(P,l)))};n.editorCommands.addCommands({JustifyLeft:s("alignleft"),JustifyCenter:s("aligncenter"),JustifyRight:s("alignright"),JustifyFull:s("alignjustify")},"state")},J7=n=>{Hce(n),gne(n)},pne=n=>{n.editorCommands.addCommands({"Cut,Copy,Paste":s=>{const l=n.getDoc();let m;try{l.execCommand(s)}catch{m=!0}if(s==="paste"&&!l.queryCommandEnabled(s)&&(m=!0),m||!l.queryCommandSupported(s)){let x=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Dr.os.isMacOS()||Dr.os.isiOS())&&(x=x.replace(/Ctrl\+/g,"+")),n.notificationManager.open({text:x,type:"error"})}}})},vne=(n,s,l,m)=>{const x=Yt.fromDom(n.getRoot());return r2(x,Nn.fromRangeStart(s),m)?l=l.replace(/^ /,"&nbsp;"):l=l.replace(/^&nbsp;/," "),o2(x,Nn.fromRangeEnd(s),m)?l=l.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):l=l.replace(/&nbsp;(<br( \/)?>)?$/," "),l},az=n=>{if(typeof n!="string"){const s=fr.extend({paste:n.paste,data:{paste:n.paste}},n);return{content:n.content,details:s}}return{content:n,details:{}}},yne=(n,s)=>{const l=n.selection,m=n.dom;return/^ | $/.test(s)?vne(m,l.getRng(),s,n.schema):s},r3=(n,s)=>{if(n.selection.isEditable()){const{content:l,details:m}=az(s);o8(n,{...m,content:yne(n,l),format:"html",set:!1,selection:!0}).each(x=>{const P=vG(n,x.content,m);E5(n,P,x),n.addVisual()})}},bne=n=>{n.editorCommands.addCommands({mceCleanup:()=>{const s=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(s)},insertImage:(s,l,m)=>{r3(n,n.dom.createHTML("img",{src:m}))},insertHorizontalRule:()=>{n.execCommand("mceInsertContent",!1,"<hr>")},insertText:(s,l,m)=>{r3(n,n.dom.encode(m))},insertHTML:(s,l,m)=>{r3(n,m)},mceInsertContent:(s,l,m)=>{r3(n,m)},mceSetContent:(s,l,m)=>{n.setContent(m)},mceReplaceContent:(s,l,m)=>{n.execCommand("mceInsertContent",!1,m.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceNewDocument:()=>{n.setContent(B0(n))}})},eD={"font-size":"size","font-family":"face"},One=wu("font"),xne=(n,s,l)=>{const m=P=>Hi(P,n).orThunk(()=>One(P)?Sn(eD,n).bind(Z=>xc(P,Z)):Y.none()),x=P=>Gs(Yt.fromDom(s),P);return Cv(Yt.fromDom(l),P=>m(P),x)},Sne=n=>n.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),wne=(n,s)=>Y.from($a.DOM.getStyle(s,n,!0)),tD=n=>(s,l)=>Y.from(l).map(Yt.fromDom).filter(Pl).bind(m=>xne(n,s,m.dom).or(wne(n,m.dom))).getOr(""),nD=tD("font-size"),iz=L(Sne,tD("font-family")),rD=n=>Gc(n.getBody()).bind(s=>{const l=s.container();return Y.from(lr(l)?l.parentNode:l)}),Tne=n=>Y.from(n.selection.getRng()).bind(s=>{const l=n.getBody();return s.startContainer===l&&s.startOffset===0?Y.none():Y.from(n.selection.getStart(!0))}),Uce=(n,s)=>Tne(n).orThunk(ee(rD,n)).map(Yt.fromDom).filter(Pl).bind(s),lz=(n,s)=>Uce(n,me(Y.some,s)),cz=(n,s)=>{if(/^[0-9.]+$/.test(s)){const l=parseInt(s,10);if(l>=1&&l<=7){const m=BE(n),x=QE(n);return x.length>0?x[l-1]||s:m[l-1]||s}else return s}else return s},uz=n=>{const s=n.split(/\s*,\s*/);return Ie(s,l=>l.indexOf(" ")!==-1&&!(Sr(l,'"')||Sr(l,"'"))?`'${l}'`:l).join(",")},Cne=(n,s)=>{const l=cz(n,s);n.formatter.toggle("fontname",{value:uz(l)}),n.nodeChanged()},kne=n=>lz(n,s=>iz(n.getBody(),s.dom)).getOr(""),Ane=(n,s)=>{n.formatter.toggle("fontsize",{value:cz(n,s)}),n.nodeChanged()},Wce=n=>lz(n,s=>nD(n.getBody(),s.dom)).getOr(""),Yce=n=>lz(n,s=>{const l=Yt.fromDom(n.getBody()),m=Cv(s,P=>Hi(P,"line-height"),ee(Gs,l)),x=()=>{const P=parseFloat(wi(s,"line-height")),Z=parseFloat(wi(s,"font-size"));return String(P/Z)};return m.getOrThunk(x)}).getOr(""),fz=(n,s)=>{n.formatter.toggle("lineheight",{value:String(s)}),n.nodeChanged()},dz=n=>{const s=(l,m)=>{n.formatter.toggle(l,m),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":l=>{s(l)},"ForeColor,HiliteColor":(l,m,x)=>{s(l,{value:x})},BackColor:(l,m,x)=>{s("hilitecolor",{value:x})},FontName:(l,m,x)=>{Cne(n,x)},FontSize:(l,m,x)=>{Ane(n,x)},LineHeight:(l,m,x)=>{fz(n,x)},Lang:(l,m,x)=>{var P;s(l,{value:x.code,customValue:(P=x.customCode)!==null&&P!==void 0?P:null})},RemoveFormat:l=>{n.formatter.remove(l)},mceBlockQuote:()=>{s("blockquote")},FormatBlock:(l,m,x)=>{s(M(x)?x:"p")},mceToggleFormat:(l,m,x)=>{s(x)}})},Pne=n=>{const s=l=>n.formatter.match(l);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":l=>s(l),mceBlockQuote:()=>s("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>kne(n)),n.editorCommands.addQueryValueHandler("FontSize",()=>Wce(n)),n.editorCommands.addQueryValueHandler("LineHeight",()=>Yce(n))},Mne=n=>{dz(n),Pne(n)},Ene=n=>{n.editorCommands.addCommands({mceAddUndoLevel:()=>{n.undoManager.add()},mceEndUndoLevel:()=>{n.undoManager.add()},Undo:()=>{n.undoManager.undo()},Redo:()=>{n.undoManager.redo()}})},Xce=n=>{n.editorCommands.addCommands({Indent:()=>{JB(n)},Outdent:()=>{eQ(n)}}),n.editorCommands.addCommands({Outdent:()=>GB(n)},"state")},Gce=n=>{const s=(l,m,x)=>{const P=M(x)?{href:x}:x,Z=n.dom.getParent(n.selection.getNode(),"a");I(P)&&M(P.href)&&(P.href=P.href.replace(/ /g,"%20"),(!Z||!P.href)&&n.formatter.remove("link"),P.href&&n.formatter.apply("link",P,Z))};n.editorCommands.addCommands({unlink:()=>{if(n.selection.isEditable()){if(n.selection.isCollapsed()){const l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")}},mceInsertLink:s,createLink:s})},jce=n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{n.getDoc().execCommand(s);const l=n.dom.getParent(n.selection.getNode(),"ol,ul");if(l){const m=l.parentNode;if(m&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(m.nodeName)){const x=n.selection.getBookmark();n.dom.split(m,l),n.selection.moveToBookmark(x)}}}})},_ne=n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{const l=n.dom.getParent(n.selection.getNode(),"ul,ol");return l&&(s==="insertunorderedlist"&&l.tagName==="UL"||s==="insertorderedlist"&&l.tagName==="OL")}},"state")},qce=n=>{jce(n),_ne(n)},Rne=(n,s,l,m)=>{const x=n.dom,P=J=>x.isBlock(J)&&J.parentElement===l,Z=P(s)?s:x.getParent(m,P,l);return Y.from(Z).map(Yt.fromDom)},D1=(n,s)=>{const l=n.dom,m=n.selection.getRng(),x=s?n.selection.getStart():n.selection.getEnd(),P=s?m.startContainer:m.endContainer,Z=Od(l,P);if(!Z||!Z.isContentEditable)return;const J=s?Ui:Xu,ge=Rc(n);Rne(n,x,Z,P).each(Re=>{const Ge=q6(n,P,Re.dom,Z,!1,ge);J(Re,Yt.fromDom(Ge)),n.selection.setCursorLocation(Ge,0),n.dispatch("NewBlock",{newBlock:Ge}),ZC(n,"insertParagraph")})},oD=n=>D1(n,!0),yP=n=>D1(n,!1),hz=n=>{n.editorCommands.addCommands({InsertNewBlockBefore:()=>{oD(n)},InsertNewBlockAfter:()=>{yP(n)}})},mz=n=>{n.editorCommands.addCommands({insertParagraph:()=>{Z4(bF,n)},mceInsertNewLine:(s,l,m)=>{TF(n,m)},InsertLineBreak:(s,l,m)=>{Z4(AJ,n)}})},gz=n=>{n.editorCommands.addCommands({mceSelectNodeDepth:(s,l,m)=>{let x=0;n.dom.getParent(n.selection.getNode(),P=>Xr(P)&&x++===m?(n.selection.select(P),!1):!0,n.getBody())},mceSelectNode:(s,l,m)=>{n.selection.select(m)},selectAll:()=>{const s=n.dom.getParent(n.selection.getStart(),Wl);if(s){const l=n.dom.createRng();l.selectNodeContents(s),n.selection.setRng(l)}}})},Dne=n=>{n.editorCommands.addCommands({mceRemoveNode:(s,l,m)=>{const x=m??n.selection.getNode();if(x!==n.getBody()){const P=n.selection.getBookmark();n.dom.remove(x,!0),n.selection.moveToBookmark(P)}},mcePrint:()=>{n.getWin().print()},mceFocus:(s,l,m)=>{wW(n,m===!0)},mceToggleVisualAid:()=>{n.hasVisual=!n.hasVisual,n.addVisual()}})},$ne=n=>{J7(n),pne(n),Ene(n),gz(n),bne(n),Gce(n),Xce(n),hz(n),mz(n),qce(n),Mne(n),Dne(n)},Lne=["toggleview"],pz=n=>Ve(Lne,n.toLowerCase());class Dv{constructor(s){this.commands={state:{},exec:{},value:{}},this.editor=s}execCommand(s,l=!1,m,x){const P=this.editor,Z=s.toLowerCase(),J=x==null?void 0:x.skip_focus;if(P.removed||(Z!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(Z)&&!J?P.focus():cW(P)),P.dispatch("BeforeExecCommand",{command:s,ui:l,value:m}).isDefaultPrevented()))return!1;const Re=this.commands.exec[Z];return E(Re)?(Re(Z,l,m),P.dispatch("ExecCommand",{command:s,ui:l,value:m}),!0):!1}queryCommandState(s){if(!pz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const l=s.toLowerCase(),m=this.commands.state[l];return E(m)?m(l):!1}queryCommandValue(s){if(!pz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const l=s.toLowerCase(),m=this.commands.value[l];return E(m)?m(l):""}addCommands(s,l="exec"){const m=this.commands;Bt(s,(x,P)=>{re(P.toLowerCase().split(","),Z=>{m[l][Z]=x})})}addCommand(s,l,m){const x=s.toLowerCase();this.commands.exec[x]=(P,Z,J)=>l.call(m??this.editor,Z,J)}queryCommandSupported(s){const l=s.toLowerCase();return!!this.commands.exec[l]}addQueryStateHandler(s,l,m){this.commands.state[s.toLowerCase()]=()=>l.call(m??this.editor)}addQueryValueHandler(s,l,m){this.commands.value[s.toLowerCase()]=()=>l.call(m??this.editor)}}const eO="data-mce-contenteditable",vz=(n,s,l)=>{bh(n,s)&&!l?gm(n,s):l&&mm(n,s)},sD=(n,s,l)=>{try{n.getDoc().execCommand(s,!1,String(l))}catch{}},tO=(n,s)=>{n.dom.contentEditable=s?"true":"false"},Ine=n=>{re(al(n,'*[contenteditable="true"]'),s=>{Da(s,eO,"true"),tO(s,!1)})},Nne=n=>{re(al(n,`*[${eO}="true"]`),s=>{ui(s,eO),tO(s,!0)})},Bne=n=>{Y.from(n.selection.getNode()).each(s=>{s.removeAttribute("data-mce-selected")})},yz=n=>{n.selection.setRng(n.selection.getRng())},Qne=(n,s)=>{const l=Yt.fromDom(n.getBody());vz(l,"mce-content-readonly",s),s?(n.selection.controlSelection.hideResizeRect(),n._selectionOverrides.hideFakeCaret(),Bne(n),n.readonly=!0,tO(l,!1),Ine(l)):(n.readonly=!1,n.hasEditableRoot()&&tO(l,!0),Nne(l),sD(n,"StyleWithCSS",!1),sD(n,"enableInlineTableEditing",!1),sD(n,"enableObjectResizing",!1),$9(n)&&n.focus(),yz(n),n.nodeChanged())},nO=n=>n.readonly,bz=n=>{n.parser.addAttributeFilter("contenteditable",s=>{nO(n)&&re(s,l=>{l.attr(eO,l.attr("contenteditable")),l.attr("contenteditable","false")})}),n.serializer.addAttributeFilter(eO,s=>{nO(n)&&re(s,l=>{l.attr("contenteditable",l.attr(eO))})}),n.serializer.addTempAttr(eO)},aD=n=>{n.serializer?bz(n):n.on("PreInit",()=>{bz(n)})},Fne=n=>n.type==="click",Vne=["copy"],wl=n=>Ve(Vne,n.type),zne=(n,s)=>_f(s,"a",m=>Gs(m,Yt.fromDom(n.getBody()))).bind(m=>xc(m,"href")),Zne=(n,s)=>{if(Fne(s)&&!Yr.metaKeyPressed(s)){const l=Yt.fromDom(s.target);zne(n,l).each(m=>{if(s.preventDefault(),/^#/.test(m)){const x=n.dom.select(`${m},[name="${xr(m,"#")}"]`);x.length&&n.selection.scrollIntoView(x[0],!0)}else window.open(m,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else wl(s)&&n.dispatch(s.type,s)},iD=n=>{n.on("ShowCaret",s=>{nO(n)&&s.preventDefault()}),n.on("ObjectSelected",s=>{nO(n)&&s.preventDefault()})},Oz=fr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class o3{static isNative(s){return!!Oz[s.toLowerCase()]}constructor(s){this.bindings={},this.settings=s||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ne}fire(s,l){return this.dispatch(s,l)}dispatch(s,l){const m=s.toLowerCase(),x=y0(m,l??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(x);const P=this.bindings[m];if(P)for(let Z=0,J=P.length;Z<J;Z++){const ge=P[Z];if(!ge.removed){if(ge.once&&this.off(m,ge.func),x.isImmediatePropagationStopped())return x;if(ge.func.call(this.scope,x)===!1)return x.preventDefault(),x}}return x}on(s,l,m,x){if(l===!1&&(l=ne),l){const P={func:l,removed:!1};x&&fr.extend(P,x);const Z=s.toLowerCase().split(" ");let J=Z.length;for(;J--;){const ge=Z[J];let Re=this.bindings[ge];Re||(Re=[],this.toggleEvent(ge,!0)),m?Re=[P,...Re]:Re=[...Re,P],this.bindings[ge]=Re}}return this}off(s,l){if(s){const m=s.toLowerCase().split(" ");let x=m.length;for(;x--;){const P=m[x];let Z=this.bindings[P];if(!P)return Bt(this.bindings,(J,ge)=>{this.toggleEvent(ge,!1),delete this.bindings[ge]}),this;if(Z){if(!l)Z.length=0;else{const J=te(Z,ge=>ge.func===l);Z=J.fail,this.bindings[P]=Z,re(J.pass,ge=>{ge.removed=!0})}Z.length||(this.toggleEvent(s,!1),delete this.bindings[P])}}}else Bt(this.bindings,(m,x)=>{this.toggleEvent(x,!1)}),this.bindings={};return this}once(s,l,m){return this.on(s,l,m,{once:!0})}has(s){s=s.toLowerCase();const l=this.bindings[s];return!(!l||l.length===0)}}const s3=n=>(n._eventDispatcher||(n._eventDispatcher=new o3({scope:n,toggleEvent:(s,l)=>{o3.isNative(s)&&n.toggleNativeEvent&&n.toggleNativeEvent(s,l)}})),n._eventDispatcher),lD={fire(n,s,l){return this.dispatch(n,s,l)},dispatch(n,s,l){const m=this;if(m.removed&&n!=="remove"&&n!=="detach")return y0(n.toLowerCase(),s??{},m);const x=s3(m).dispatch(n,s);if(l!==!1&&m.parent){let P=m.parent();for(;P&&!x.isPropagationStopped();)P.dispatch(n,x,!1),P=P.parent?P.parent():void 0}return x},on(n,s,l){return s3(this).on(n,s,l)},off(n,s){return s3(this).off(n,s)},once(n,s){return s3(this).once(n,s)},hasEventListeners(n){return s3(this).has(n)}},bP=$a.DOM;let rO;const OP=(n,s)=>{if(s==="selectionchange")return n.getDoc();if(!n.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(s))return n.getDoc().documentElement;const l=Bg(n);return l?(n.eventRoot||(n.eventRoot=bP.select(l)[0]),n.eventRoot):n.getBody()},Hne=n=>!n.hidden&&!nO(n),xz=(n,s,l)=>{Hne(n)?n.dispatch(s,l):nO(n)&&Zne(n,l)},Sz=(n,s)=>{if(n.delegates||(n.delegates={}),n.delegates[s]||n.removed)return;const l=OP(n,s);if(Bg(n)){if(rO||(rO={},n.editorManager.on("removeEditor",()=>{n.editorManager.activeEditor||rO&&(Bt(rO,(x,P)=>{n.dom.unbind(OP(n,P))}),rO=null)})),rO[s])return;const m=x=>{const P=x.target,Z=n.editorManager.get();let J=Z.length;for(;J--;){const ge=Z[J].getBody();(ge===P||bP.isChildOf(P,ge))&&xz(Z[J],s,x)}};rO[s]=m,bP.bind(l,s,m)}else{const m=x=>{xz(n,s,x)};bP.bind(l,s,m),n.delegates[s]=m}},oO={...lD,bindPendingEventDelegates(){const n=this;fr.each(n._pendingNativeEvents,s=>{Sz(n,s)})},toggleNativeEvent(n,s){const l=this;n==="focus"||n==="blur"||l.removed||(s?l.initialized?Sz(l,n):l._pendingNativeEvents?l._pendingNativeEvents.push(n):l._pendingNativeEvents=[n]:l.initialized&&l.delegates&&(l.dom.unbind(OP(l,n),n,l.delegates[n]),delete l.delegates[n]))},unbindAllNativeEvents(){const n=this,s=n.getBody(),l=n.dom;n.delegates&&(Bt(n.delegates,(m,x)=>{n.dom.unbind(OP(n,x),x,m)}),delete n.delegates),!n.inline&&s&&l&&(s.onload=null,l.unbind(n.getWin()),l.unbind(n.getDoc())),l&&(l.unbind(s),l.unbind(n.getContainer()))}},eg=n=>M(n)?{value:n.split(/[ ,]/),valid:!0}:X(n,M)?{value:n,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Une=n=>{const s=(()=>{switch(n){case"array":return N;case"boolean":return z;case"function":return E;case"number":return W;case"object":return I;case"string":return M;case"string[]":return eg;case"object[]":return l=>X(l,I);case"regexp":return l=>R(l,RegExp);default:return le}})();return l=>cD(l,s,`The value must be a ${n}.`)},Wne=n=>M(n.processor),wz=(n,s)=>{const l=Ct(s.message)?"":`. ${s.message}`;return n+l},Tz=n=>n.valid,cD=(n,s,l="")=>{const m=s(n);return z(m)?m?{value:n,valid:!0}:{valid:!1,message:l}:m},Yne=(n,s,l)=>{if(!U(s)){const m=cD(s,l);if(Tz(m))return m.value;console.error(wz(`Invalid default value passed for the "${n}" option`,m))}},Xne=(n,s)=>{const l={},m={},x=(qe,ot,Et)=>{const Vt=cD(ot,Et);return Tz(Vt)?(m[qe]=Vt.value,!0):(console.warn(wz(`Invalid value passed for the ${qe} option`,Vt)),!1)},P=(qe,ot)=>{const Et=Wne(ot)?Une(ot.processor):ot.processor,Vt=Yne(qe,ot.default,Et);l[qe]={...ot,default:Vt,processor:Et},Sn(m,qe).orThunk(()=>Sn(s,qe)).each(It=>x(qe,It,Et))},Z=qe=>lt(l,qe);return{register:P,isRegistered:Z,get:qe=>Sn(m,qe).orThunk(()=>Sn(l,qe).map(ot=>ot.default)).getOrUndefined(),set:(qe,ot)=>{if(Z(qe)){const Et=l[qe];return Et.immutable?(console.error(`"${qe}" is an immutable option and cannot be updated`),!1):x(qe,ot,Et.processor)}else return console.warn(`"${qe}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:qe=>{const ot=Z(qe);return ot&&delete m[qe],ot},isSet:qe=>lt(m,qe)}},Gne=["design","readonly"],Cz=(n,s,l,m)=>{const x=l[s.get()],P=l[m];try{P.activate()}catch(Z){console.error(`problem while activating editor mode ${m}:`,Z);return}x.deactivate(),x.editorReadOnly!==P.editorReadOnly&&Qne(n,P.editorReadOnly),s.set(m),ST(n,m)},Kce=(n,s,l,m)=>{if(m!==l.get()){if(!lt(s,m))throw new Error(`Editor mode '${m}' is invalid`);n.initialized?Cz(n,l,s,m):n.on("init",()=>Cz(n,l,s,m))}},jne=(n,s,l)=>{if(Ve(Gne,s))throw new Error(`Cannot override default mode ${s}`);return{...n,[s]:{...l,deactivate:()=>{try{l.deactivate()}catch(m){console.error(`problem while deactivating editor mode ${s}:`,m)}}}}},qne=n=>{const s=oi("design"),l=oi({design:{activate:ie,deactivate:ie,editorReadOnly:!1},readonly:{activate:ie,deactivate:ie,editorReadOnly:!0}});return aD(n),iD(n),{isReadOnly:()=>nO(n),set:m=>Kce(n,l.get(),s,m),get:()=>s.get(),register:(m,x)=>{l.set(jne(l.get(),m,x))}}},uD=fr.each,fD=fr.explode,Kne={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},kz=fr.makeMap("alt,ctrl,shift,meta,access"),Jce=n=>n in kz,Jne=n=>{const s={},l=Dr.os.isMacOS()||Dr.os.isiOS();uD(fD(n.toLowerCase(),"+"),P=>{Jce(P)?s[P]=!0:/^[0-9]{2,}$/.test(P)?s.keyCode=parseInt(P,10):(s.charCode=P.charCodeAt(0),s.keyCode=Kne[P]||P.toUpperCase().charCodeAt(0))});const m=[s.keyCode];let x;for(x in kz)s[x]?m.push(x):s[x]=!1;return s.id=m.join(","),s.access&&(s.alt=!0,l?s.ctrl=!0:s.shift=!0),s.meta&&(l?s.meta=!0:(s.ctrl=!0,s.meta=!1)),s};class Az{constructor(s){this.shortcuts={},this.pendingPatterns=[],this.editor=s;const l=this;s.on("keyup keypress keydown",m=>{(l.hasModifier(m)||l.isFunctionKey(m))&&!m.isDefaultPrevented()&&(uD(l.shortcuts,x=>{l.matchShortcut(m,x)&&(l.pendingPatterns=x.subpatterns.slice(0),m.type==="keydown"&&l.executeShortcutAction(x))}),l.matchShortcut(m,l.pendingPatterns[0])&&(l.pendingPatterns.length===1&&m.type==="keydown"&&l.executeShortcutAction(l.pendingPatterns[0]),l.pendingPatterns.shift()))})}add(s,l,m,x){const P=this,Z=P.normalizeCommandFunc(m);return uD(fD(fr.trim(s)),J=>{const ge=P.createShortcut(J,l,Z,x);P.shortcuts[ge.id]=ge}),!0}remove(s){const l=this.createShortcut(s);return this.shortcuts[l.id]?(delete this.shortcuts[l.id],!0):!1}normalizeCommandFunc(s){const l=this,m=s;return typeof m=="string"?()=>{l.editor.execCommand(m,!1,null)}:fr.isArray(m)?()=>{l.editor.execCommand(m[0],m[1],m[2])}:m}createShortcut(s,l,m,x){const P=fr.map(fD(s,">"),Jne);return P[P.length-1]=fr.extend(P[P.length-1],{func:m,scope:x||this.editor}),fr.extend(P[0],{desc:this.editor.translate(l),subpatterns:P.slice(1)})}hasModifier(s){return s.altKey||s.ctrlKey||s.metaKey}isFunctionKey(s){return s.type==="keydown"&&s.keyCode>=112&&s.keyCode<=123}matchShortcut(s,l){return!l||l.ctrl!==s.ctrlKey||l.meta!==s.metaKey||l.alt!==s.altKey||l.shift!==s.shiftKey?!1:s.keyCode===l.keyCode||s.charCode&&s.charCode===l.charCode?(s.preventDefault(),!0):!1}executeShortcutAction(s){return s.func?s.func.call(s.scope):null}}const ere=()=>{const n={},s={},l={},m={},x={},P={},Z={},J={},ge=(Ge,qe)=>(ot,Et)=>{Ge[ot.toLowerCase()]={...Et,type:qe}},Re=(Ge,qe)=>m[Ge.toLowerCase()]=qe;return{addButton:ge(n,"button"),addGroupToolbarButton:ge(n,"grouptoolbarbutton"),addToggleButton:ge(n,"togglebutton"),addMenuButton:ge(n,"menubutton"),addSplitButton:ge(n,"splitbutton"),addMenuItem:ge(s,"menuitem"),addNestedMenuItem:ge(s,"nestedmenuitem"),addToggleMenuItem:ge(s,"togglemenuitem"),addAutocompleter:ge(l,"autocompleter"),addContextMenu:ge(x,"contextmenu"),addContextToolbar:ge(P,"contexttoolbar"),addContextForm:ge(P,"contextform"),addSidebar:ge(Z,"sidebar"),addView:ge(J,"views"),addIcon:Re,getAll:()=>({buttons:n,menuItems:s,icons:m,popups:l,contextMenus:x,contextToolbars:P,sidebars:Z,views:J})}},tre=()=>{const n=ere();return{addAutocompleter:n.addAutocompleter,addButton:n.addButton,addContextForm:n.addContextForm,addContextMenu:n.addContextMenu,addContextToolbar:n.addContextToolbar,addIcon:n.addIcon,addMenuButton:n.addMenuButton,addMenuItem:n.addMenuItem,addNestedMenuItem:n.addNestedMenuItem,addSidebar:n.addSidebar,addSplitButton:n.addSplitButton,addToggleButton:n.addToggleButton,addGroupToolbarButton:n.addGroupToolbarButton,addToggleMenuItem:n.addToggleMenuItem,addView:n.addView,getAll:n.getAll}},sO=$a.DOM,Pz=fr.extend,nre=fr.each;class xP{constructor(s,l,m){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=m,this.documentBaseUrl=m.documentBaseURL,Pz(this,oO);const x=this;this.id=s,this.hidden=!1;const P=hne(m.defaultOptions,l);this.options=Xne(x,P),_k(x);const Z=this.options.get;Z("deprecation_warnings")&&mce(l,P);const J=Z("suffix");J&&(m.suffix=J),this.suffix=m.suffix;const ge=Z("base_url");ge&&m._setBaseUrl(ge),this.baseUri=m.baseURI;const Re=gs(x);Re&&(el.ScriptLoader._setReferrerPolicy(Re),$a.DOM.styleSheetLoader._setReferrerPolicy(Re));const Ge=N0(x);B(Ge)&&$a.DOM.styleSheetLoader._setContentCssCors(Ge),Ec.languageLoad=Z("language_load"),Ec.baseURL=m.baseURL,this.setDirty(!1),this.documentBaseURI=new eh(_w(x),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Vw(x),this.hasVisual=CE(x),this.shortcuts=new Az(this),this.editorCommands=new Dv(this),$ne(this);const qe=Z("cache_suffix");qe&&(Dr.cacheSuffix=qe.replace(/^[\?\&]+/,"")),this.ui={registry:tre(),styleSheetLoader:void 0,show:ie,hide:ie,setEnabled:ie,isEnabled:le},this.mode=qne(x),m.dispatch("SetupEditor",{editor:this});const ot=zw(x);E(ot)&&ot.call(x,x)}render(){X2(this)}focus(s){this.execCommand("mceFocus",!1,s)}hasFocus(){return l1(this)}translate(s){return id.translate(s)}getParam(s,l,m){const x=this.options;return x.isRegistered(s)||(B(m)?x.register(s,{processor:m,default:l}):x.register(s,{processor:le,default:l})),!x.isSet(s)&&!U(l)?l:x.get(s)}hasPlugin(s,l){return Ve(eb(this),s)?l?zb.get(s)!==void 0:!0:!1}nodeChanged(s){this._nodeChangeDispatcher.nodeChanged(s)}addCommand(s,l,m){this.editorCommands.addCommand(s,l,m)}addQueryStateHandler(s,l,m){this.editorCommands.addQueryStateHandler(s,l,m)}addQueryValueHandler(s,l,m){this.editorCommands.addQueryValueHandler(s,l,m)}addShortcut(s,l,m,x){this.shortcuts.add(s,l,m,x)}execCommand(s,l,m,x){return this.editorCommands.execCommand(s,l,m,x)}queryCommandState(s){return this.editorCommands.queryCommandState(s)}queryCommandValue(s){return this.editorCommands.queryCommandValue(s)}queryCommandSupported(s){return this.editorCommands.queryCommandSupported(s)}show(){const s=this;s.hidden&&(s.hidden=!1,s.inline?s.getBody().contentEditable="true":(sO.show(s.getContainer()),sO.hide(s.id)),s.load(),s.dispatch("show"))}hide(){const s=this;s.hidden||(s.save(),s.inline?(s.getBody().contentEditable="false",s===s.editorManager.focusedEditor&&(s.editorManager.focusedEditor=null)):(sO.hide(s.getContainer()),sO.setStyle(s.id,"display",s.orgDisplay)),s.hidden=!0,s.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(s,l){this.dispatch("ProgressState",{state:s,time:l})}load(s={}){const l=this,m=l.getElement();if(l.removed)return"";if(m){const x={...s,load:!0},P=l0(m)?m.value:m.innerHTML,Z=l.setContent(P,x);return x.no_events||l.dispatch("LoadContent",{...x,element:m}),Z}else return""}save(s={}){const l=this;let m=l.getElement();if(!m||!l.initialized||l.removed)return"";const x={...s,save:!0,element:m};let P=l.getContent(x);const Z={...x,content:P};if(Z.no_events||l.dispatch("SaveContent",Z),Z.format==="raw"&&l.dispatch("RawSaveContent",Z),P=Z.content,l0(m))m.value=P;else{(s.is_removing||!l.inline)&&(m.innerHTML=P);const J=sO.getParent(l.id,"form");J&&nre(J.elements,ge=>ge.name===l.id?(ge.value=P,!1):!0)}return Z.element=x.element=m=null,Z.set_dirty!==!1&&l.setDirty(!1),P}setContent(s,l){return P8(this,s,l)}getContent(s){return DN(this,s)}insertContent(s,l){l&&(s=Pz({content:s},l)),this.execCommand("mceInsertContent",!1,s)}resetContent(s){s===void 0?P8(this,this.startContent,{format:"raw"}):P8(this,s),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(s){const l=!this.isNotDirty;this.isNotDirty=!s,s&&s!==l&&this.dispatch("dirty")}getContainer(){const s=this;return s.container||(s.container=s.editorContainer||sO.get(s.id+"_parent")),s.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=sO.get(this.id)),this.targetElm}getWin(){const s=this;if(!s.contentWindow){const l=s.iframeElement;l&&(s.contentWindow=l.contentWindow)}return s.contentWindow}getDoc(){const s=this;if(!s.contentDocument){const l=s.getWin();l&&(s.contentDocument=l.document)}return s.contentDocument}getBody(){var s,l;const m=this.getDoc();return(l=(s=this.bodyElement)!==null&&s!==void 0?s:m==null?void 0:m.body)!==null&&l!==void 0?l:null}convertURL(s,l,m){const x=this,P=x.options.get,Z=ME(x);if(E(Z))return Z.call(x,s,m,!0,l);if(!P("convert_urls")||m==="link"||I(m)&&m.nodeName==="LINK"||s.indexOf("file:")===0||s.length===0)return s;const J=new eh(s);return J.protocol!=="http"&&J.protocol!=="https"&&J.protocol!==""?s:P("relative_urls")?x.documentBaseURI.toRelative(s):(s=x.documentBaseURI.toAbsolute(s,P("remove_script_host")),s)}addVisual(s){mne(this,s)}setEditableRoot(s){rz(this,s)}hasEditableRoot(){return one(this)}remove(){UG(this)}destroy(s){WG(this,s)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const G2=$a.DOM,SP=fr.each;let Mz=!1,wP,gf=[];const TP=n=>{const s=n.type;SP($1.get(),l=>{switch(s){case"scroll":l.dispatch("ScrollWindow",n);break;case"resize":l.dispatch("ResizeWindow",n);break}})},Ez=n=>{if(n!==Mz){const s=$a.DOM;n?(s.bind(window,"resize",TP),s.bind(window,"scroll",TP)):(s.unbind(window,"resize",TP),s.unbind(window,"scroll",TP)),Mz=n}},_z=n=>{const s=gf;return gf=se(gf,l=>n!==l),$1.activeEditor===n&&($1.activeEditor=gf.length>0?gf[0]:null),$1.focusedEditor===n&&($1.focusedEditor=null),s.length!==gf.length},Rz=n=>{n&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(_z(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)},rre=document.compatMode!=="CSS1Compat",$1={...lD,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.0",releaseDate:"2023-11-22",i18n:id,activeEditor:null,focusedEditor:null,setup(){const n=this;let s="",l="",m=eh.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/"));const x=window.tinymce||window.tinyMCEPreInit;if(x)s=x.base||x.baseURL,l=x.suffix;else{const P=document.getElementsByTagName("script");for(let Z=0;Z<P.length;Z++){const J=P[Z].src||"";if(J==="")continue;const ge=J.substring(J.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(J)){ge.indexOf(".min")!==-1&&(l=".min"),s=J.substring(0,J.lastIndexOf("/"));break}}if(!s&&document.currentScript){const Z=document.currentScript.src;Z.indexOf(".min")!==-1&&(l=".min"),s=Z.substring(0,Z.lastIndexOf("/"))}}n.baseURL=new eh(m).toAbsolute(s),n.documentBaseURL=m,n.baseURI=new eh(n.baseURL),n.suffix=l,pW(n)},overrideDefaults(n){const s=n.base_url;s&&this._setBaseUrl(s);const l=n.suffix;l&&(this.suffix=l),this.defaultOptions=n;const m=n.plugin_base_urls;m!==void 0&&Bt(m,(x,P)=>{Ec.PluginManager.urls[P]=x})},init(n){const s=this;let l;const m=fr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),x=(Ge,qe)=>Ge.inline&&qe.tagName.toLowerCase()in m,P=Ge=>{let qe=Ge.id;return qe||(qe=Sn(Ge,"name").filter(ot=>!G2.get(ot)).getOrThunk(G2.uniqueId),Ge.setAttribute("id",qe)),qe},Z=Ge=>{const qe=n[Ge];if(qe)return qe.apply(s,[])},J=Ge=>Dr.browser.isIE()||Dr.browser.isEdge()?(yC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):rre?(yC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):M(Ge.selector)?G2.select(Ge.selector):B(Ge.target)?[Ge.target]:[];let ge=Ge=>{l=Ge};const Re=()=>{let Ge=0;const qe=[];let ot;const Et=(Vt,kt,It)=>{const cn=new xP(Vt,kt,s);qe.push(cn),cn.on("init",()=>{++Ge===ot.length&&ge(qe)}),cn.targetElm=cn.targetElm||It,cn.render()};G2.unbind(window,"ready",Re),Z("onpageload"),ot=Xt(J(n)),fr.each(ot,Vt=>{Rz(s.get(Vt.id))}),ot=fr.grep(ot,Vt=>!s.get(Vt.id)),ot.length===0?ge([]):SP(ot,Vt=>{x(n,Vt)?yC("Could not initialize inline editor on invalid inline target element",Vt):Et(P(Vt),n,Vt)})};return G2.bind(window,"ready",Re),new Promise(Ge=>{l?Ge(l):ge=qe=>{Ge(qe)}})},get(n){return arguments.length===0?gf.slice(0):M(n)?ce(gf,s=>s.id===n).getOr(null):W(n)&&gf[n]?gf[n]:null},add(n){const s=this,l=s.get(n.id);return l===n||(l===null&&gf.push(n),Ez(!0),s.activeEditor=n,s.dispatch("AddEditor",{editor:n}),wP||(wP=m=>{const x=s.dispatch("BeforeUnload");if(x.returnValue)return m.preventDefault(),m.returnValue=x.returnValue,x.returnValue},window.addEventListener("beforeunload",wP))),n},createEditor(n,s){return this.add(new xP(n,s,this))},remove(n){const s=this;let l;if(!n){for(let m=gf.length-1;m>=0;m--)s.remove(gf[m]);return}if(M(n)){SP(G2.select(n),m=>{l=s.get(m.id),l&&s.remove(l)});return}return l=n,Q(s.get(l.id))?null:(_z(l)&&s.dispatch("RemoveEditor",{editor:l}),gf.length===0&&window.removeEventListener("beforeunload",wP),l.remove(),Ez(gf.length>0),l)},execCommand(n,s,l){var m;const x=this,P=I(l)?(m=l.id)!==null&&m!==void 0?m:l.index:l;switch(n){case"mceAddEditor":{if(!x.get(P)){const Z=l.options;new xP(P,Z,x).render()}return!0}case"mceRemoveEditor":{const Z=x.get(P);return Z&&Z.remove(),!0}case"mceToggleEditor":{const Z=x.get(P);return Z?(Z.isHidden()?Z.show():Z.hide(),!0):(x.execCommand("mceAddEditor",!1,l),!0)}}return x.activeEditor?x.activeEditor.execCommand(n,s,l):!1},triggerSave:()=>{SP(gf,n=>{n.save()})},addI18n:(n,s)=>{id.add(n,s)},translate:n=>id.translate(n),setActive(n){const s=this.activeEditor;this.activeEditor!==n&&(s&&s.dispatch("deactivate",{relatedTarget:n}),n.dispatch("activate",{relatedTarget:s})),this.activeEditor=n},_setBaseUrl(n){this.baseURL=new eh(this.documentBaseURL).toAbsolute(n.replace(/\/+$/,"")),this.baseURI=new eh(this.baseURL)}};$1.setup();const ore=(()=>{const n=Dg(),s=P=>({items:P,types:Gt(P),getType:Z=>Sn(P,Z).getOrUndefined()}),l=P=>{n.set(P)},m=()=>n.get().getOrUndefined(),x=n.clear;return{FakeClipboardItem:s,write:l,read:m,clear:x}})(),Dz=Math.min,j2=Math.max,CP=Math.round,$z=(n,s,l)=>{let m=s.x,x=s.y;const P=n.w,Z=n.h,J=s.w,ge=s.h,Re=(l||"").split("");return Re[0]==="b"&&(x+=ge),Re[1]==="r"&&(m+=J),Re[0]==="c"&&(x+=CP(ge/2)),Re[1]==="c"&&(m+=CP(J/2)),Re[3]==="b"&&(x-=Z),Re[4]==="r"&&(m-=P),Re[3]==="c"&&(x-=CP(Z/2)),Re[4]==="c"&&(m-=CP(P/2)),q2(m,x,P,Z)},Lz=(n,s,l,m)=>{for(let x=0;x<m.length;x++){const P=$z(n,s,m[x]);if(P.x>=l.x&&P.x+P.w<=l.w+l.x&&P.y>=l.y&&P.y+P.h<=l.h+l.y)return m[x]}return null},sre=(n,s,l)=>q2(n.x-s,n.y-l,n.w+s*2,n.h+l*2),are=(n,s)=>{const l=j2(n.x,s.x),m=j2(n.y,s.y),x=Dz(n.x+n.w,s.x+s.w),P=Dz(n.y+n.h,s.y+s.h);return x-l<0||P-m<0?null:q2(l,m,x-l,P-m)},ire=(n,s,l)=>{let m=n.x,x=n.y,P=n.x+n.w,Z=n.y+n.h;const J=s.x+s.w,ge=s.y+s.h,Re=j2(0,s.x-m),Ge=j2(0,s.y-x),qe=j2(0,P-J),ot=j2(0,Z-ge);return m+=Re,x+=Ge,l&&(P+=Re,Z+=Ge,m-=qe,x-=ot),P-=qe,Z-=ot,q2(m,x,P-m,Z-x)},q2=(n,s,l,m)=>({x:n,y:s,w:l,h:m}),lre={inflate:sre,relativePosition:$z,findBestRelativePosition:Lz,intersect:are,clamp:ire,create:q2,fromClientRect:n=>q2(n.left,n.top,n.width,n.height)},cre=(n,s,l=1e3)=>{let m=!1,x=null;const P=Re=>(...Ge)=>{m||(m=!0,x!==null&&(clearTimeout(x),x=null),Re.apply(null,Ge))},Z=P(n),J=P(s);return{start:(...Re)=>{!m&&x===null&&(x=setTimeout(()=>J.apply(null,Re),l))},resolve:Z,reject:J}},Iz=(()=>{const n={},s={},l={};return{load:(ge,Re)=>{const Ge=`Script at URL "${Re}" failed to load`,qe=`Script at URL "${Re}" did not call \`tinymce.Resource.add('${ge}', data)\` within 1 second`;if(n[ge]!==void 0)return n[ge];{const ot=new Promise((Et,Vt)=>{const kt=cre(Et,Vt);s[ge]=kt.resolve,el.ScriptLoader.loadScript(Re).then(()=>kt.start(qe),()=>kt.reject(Ge))});return n[ge]=ot,ot}},add:(ge,Re)=>{s[ge]!==void 0&&(s[ge](Re),delete s[ge]),n[ge]=Promise.resolve(Re),l[ge]=Re},has:ge=>ge in l,get:ge=>l[ge],unload:ge=>{delete n[ge]}}})(),rue=()=>(()=>{let n={},s=[];const l={getItem:m=>{const x=n[m];return x||null},setItem:(m,x)=>{s.push(m),n[m]=String(x)},key:m=>s[m],removeItem:m=>{s=s.filter(x=>x===m),delete n[m]},clear:()=>{s=[],n={}},length:0};return Object.defineProperty(l,"length",{get:()=>s.length,configurable:!1,enumerable:!1}),l})();let K2;try{const n="__storage_test__";K2=window.localStorage,K2.setItem(n,n),K2.removeItem(n)}catch{K2=rue()}var ure=K2;const Nz={geom:{Rect:lre},util:{Delay:hd,Tools:fr,VK:Yr,URI:eh,EventDispatcher:o3,Observable:lD,I18n:id,LocalStorage:ure,ImageUploader:D8},dom:{EventUtils:Mu,TreeWalker:ca,TextSeeker:$g,DOMUtils:$a,ScriptLoader:el,RangeUtils:Ot,Serializer:_N,StyleSheetLoader:KS,ControlSelection:w9,BookmarkManager:vv,Selection:p1,Event:Mu.Event},html:{Styles:KO,Entities:Eg,Node:mu,Schema:Em,DomParser:Uh,Writer:X9,Serializer:c1},Env:Dr,AddOnManager:Ec,Annotator:bT,Formatter:Hb,UndoManager:bC,EditorCommands:Dv,WindowManager:VN,NotificationManager:_8,EditorObservable:oO,Shortcuts:Az,Editor:xP,FocusManager:P9,EditorManager:$1,DOM:$a.DOM,ScriptLoader:el.ScriptLoader,PluginManager:zb,ThemeManager:Mv,ModelManager:nh,IconManager:gC,Resource:Iz,FakeClipboard:ore,trim:fr.trim,isArray:fr.isArray,is:fr.is,toArray:fr.toArray,makeMap:fr.makeMap,each:fr.each,map:fr.map,grep:fr.grep,inArray:fr.inArray,extend:fr.extend,walk:fr.walk,resolve:fr.resolve,explode:fr.explode,_addCacheSuffix:fr._addCacheSuffix},Bz=fr.extend($1,Nz),fre=n=>{try{t.exports=n}catch{}};(n=>{window.tinymce=n,window.tinyMCE=n})(Bz),fre(Bz)})()})(SLe);(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const e=(A,$,j)=>{var ue;return j(A,$.prototype)?!0:((ue=A.constructor)===null||ue===void 0?void 0:ue.name)===$.name},r=A=>{const $=typeof A;return A===null?"null":$==="object"&&Array.isArray(A)?"array":$==="object"&&e(A,String,(j,ue)=>ue.isPrototypeOf(j))?"string":$},a=A=>$=>r($)===A,i=A=>$=>typeof $===A,d=A=>$=>A===$,f=a("string"),h=a("object"),c=a("array"),g=d(null),v=i("boolean"),y=d(void 0),b=A=>A==null,O=A=>!b(A),C=i("function"),k=i("number"),w=()=>{},T=(A,$)=>(...j)=>A($.apply(null,j)),R=(A,$)=>j=>A($(j)),M=A=>()=>A,I=A=>A,V=(A,$)=>A===$;function N(A,...$){return(...j)=>{const ue=$.concat(j);return A.apply(null,ue)}}const Q=A=>$=>!A($),z=A=>()=>{throw new Error(A)},U=A=>A(),F=M(!1),B=M(!0);class E{constructor($,j){this.tag=$,this.value=j}static some($){return new E(!0,$)}static none(){return E.singletonNone}fold($,j){return this.tag?j(this.value):$()}isSome(){return this.tag}isNone(){return!this.tag}map($){return this.tag?E.some($(this.value)):E.none()}bind($){return this.tag?$(this.value):E.none()}exists($){return this.tag&&$(this.value)}forall($){return!this.tag||$(this.value)}filter($){return!this.tag||$(this.value)?this:E.none()}getOr($){return this.tag?this.value:$}or($){return this.tag?this:$}getOrThunk($){return this.tag?this.value:$()}orThunk($){return this.tag?this:$()}getOrDie($){if(this.tag)return this.value;throw new Error($??"Called getOrDie on None")}static from($){return O($)?E.some($):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($){this.tag&&$(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const W=Array.prototype.slice,X=Array.prototype.indexOf,ie=Array.prototype.push,L=(A,$)=>X.call(A,$),me=(A,$)=>L(A,$)>-1,ae=(A,$)=>{for(let j=0,ue=A.length;j<ue;j++){const Me=A[j];if($(Me,j))return!0}return!1},q=(A,$)=>{const j=[];for(let ue=0;ue<A;ue++)j.push($(ue));return j},de=(A,$)=>{const j=A.length,ue=new Array(j);for(let Me=0;Me<j;Me++){const ze=A[Me];ue[Me]=$(ze,Me)}return ue},ee=(A,$)=>{for(let j=0,ue=A.length;j<ue;j++){const Me=A[j];$(Me,j)}},xe=(A,$)=>{for(let j=A.length-1;j>=0;j--){const ue=A[j];$(ue,j)}},we=(A,$)=>{const j=[],ue=[];for(let Me=0,ze=A.length;Me<ze;Me++){const nt=A[Me];($(nt,Me)?j:ue).push(nt)}return{pass:j,fail:ue}},Be=(A,$)=>{const j=[];for(let ue=0,Me=A.length;ue<Me;ue++){const ze=A[ue];$(ze,ue)&&j.push(ze)}return j},pe=(A,$,j)=>(xe(A,(ue,Me)=>{j=$(j,ue,Me)}),j),ne=(A,$,j)=>(ee(A,(ue,Me)=>{j=$(j,ue,Me)}),j),le=(A,$,j)=>{for(let ue=0,Me=A.length;ue<Me;ue++){const ze=A[ue];if($(ze,ue))return E.some(ze);if(j(ze,ue))break}return E.none()},Y=(A,$)=>le(A,$,F),ve=(A,$)=>{for(let j=0,ue=A.length;j<ue;j++){const Me=A[j];if($(Me,j))return E.some(j)}return E.none()},Oe=A=>{const $=[];for(let j=0,ue=A.length;j<ue;++j){if(!c(A[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+A);ie.apply($,A[j])}return $},Le=(A,$)=>Oe(de(A,$)),Ce=(A,$)=>{for(let j=0,ue=A.length;j<ue;++j){const Me=A[j];if($(Me,j)!==!0)return!1}return!0},De=A=>{const $=W.call(A,0);return $.reverse(),$},Ve=(A,$)=>{const j={};for(let ue=0,Me=A.length;ue<Me;ue++){const ze=A[ue];j[String(ze)]=$(ze,ue)}return j},_e=(A,$)=>{const j=W.call(A,0);return j.sort($),j},Ie=(A,$)=>$>=0&&$<A.length?E.some(A[$]):E.none(),re=A=>Ie(A,0),be=A=>Ie(A,A.length-1),te=(A,$)=>{for(let j=0;j<A.length;j++){const ue=$(A[j],j);if(ue.isSome())return ue}return E.none()},se=Object.keys,fe=Object.hasOwnProperty,oe=(A,$)=>{const j=se(A);for(let ue=0,Me=j.length;ue<Me;ue++){const ze=j[ue],nt=A[ze];$(nt,ze)}},Se=(A,$)=>ce(A,(j,ue)=>({k:ue,v:$(j,ue)})),ce=(A,$)=>{const j={};return oe(A,(ue,Me)=>{const ze=$(ue,Me);j[ze.k]=ze.v}),j},ke=A=>($,j)=>{A[j]=$},Qe=(A,$,j,ue)=>{oe(A,(Me,ze)=>{($(Me,ze)?j:ue)(Me,ze)})},Ze=(A,$)=>{const j={};return Qe(A,$,ke(j),w),j},Xe=(A,$)=>{const j=[];return oe(A,(ue,Me)=>{j.push($(ue,Me))}),j},ct=A=>Xe(A,I),pt=(A,$)=>Ye(A,$)?E.from(A[$]):E.none(),Ye=(A,$)=>fe.call(A,$),je=(A,$)=>Ye(A,$)&&A[$]!==void 0&&A[$]!==null,et=A=>{for(const $ in A)if(fe.call(A,$))return!1;return!0},yt=typeof window<"u"?window:Function("return this;")(),ft=(A,$)=>{let j=$??yt;for(let ue=0;ue<A.length&&j!==void 0&&j!==null;++ue)j=j[A[ue]];return j},tt=(A,$)=>{const j=A.split(".");return ft(j,$)},wt=(A,$)=>tt(A,$),Xt=(A,$)=>{const j=wt(A,$);if(j==null)throw new Error(A+" not available on this browser");return j},Gt=Object.getPrototypeOf,Nt=A=>Xt("HTMLElement",A),Bt=A=>{const $=tt("ownerDocument.defaultView",A);return h(A)&&(Nt($).prototype.isPrototypeOf(A)||/^HTML\w*Element$/.test(Gt(A).constructor.name))},vn=8,En=9,ln=11,Yn=1,an=3,wn=A=>A.dom.nodeName.toLowerCase(),Xn=A=>A.dom.nodeType,Un=A=>$=>Xn($)===A,Sn=A=>Xn(A)===vn||wn(A)==="#comment",lt=A=>ut(A)&&Bt(A.dom),ut=Un(Yn),xt=Un(an),gt=Un(En),Dt=Un(ln),He=A=>$=>ut($)&&wn($)===A,at=(A,$,j)=>{if(f(j)||v(j)||k(j))A.setAttribute($,j+"");else throw console.error("Invalid call to Attribute.set. Key ",$,":: Value ",j,":: Element ",A),new Error("Attribute value was not simple")},dt=(A,$,j)=>{at(A.dom,$,j)},mt=(A,$)=>{const j=A.dom;oe($,(ue,Me)=>{at(j,Me,ue)})},Tt=(A,$)=>{oe($,(j,ue)=>{j.fold(()=>{rn(A,ue)},Me=>{at(A.dom,ue,Me)})})},Pt=(A,$)=>{const j=A.dom.getAttribute($);return j===null?void 0:j},dn=(A,$)=>E.from(Pt(A,$)),rn=(A,$)=>{A.dom.removeAttribute($)},Wt=A=>ne(A.dom.attributes,($,j)=>($[j.name]=j.value,$),{}),Rt=(A,$)=>{const ue=($||document).createElement("div");if(ue.innerHTML=A,!ue.hasChildNodes()||ue.childNodes.length>1){const Me="HTML does not have a single root node";throw console.error(Me,A),new Error(Me)}return nr(ue.childNodes[0])},fn=(A,$)=>{const ue=($||document).createElement(A);return nr(ue)},Hn=(A,$)=>{const ue=($||document).createTextNode(A);return nr(ue)},nr=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},zt={fromHtml:Rt,fromTag:fn,fromText:Hn,fromDom:nr,fromPoint:(A,$,j)=>E.from(A.dom.elementFromPoint($,j)).map(nr)},vr=(A,$)=>{const j=A.dom;if(j.nodeType!==Yn)return!1;{const ue=j;if(ue.matches!==void 0)return ue.matches($);if(ue.msMatchesSelector!==void 0)return ue.msMatchesSelector($);if(ue.webkitMatchesSelector!==void 0)return ue.webkitMatchesSelector($);if(ue.mozMatchesSelector!==void 0)return ue.mozMatchesSelector($);throw new Error("Browser lacks native selectors")}},Wn=A=>A.nodeType!==Yn&&A.nodeType!==En&&A.nodeType!==ln||A.childElementCount===0,Br=(A,$)=>{const j=$===void 0?document:$.dom;return Wn(j)?[]:de(j.querySelectorAll(A),zt.fromDom)},kr=(A,$)=>{const j=$===void 0?document:$.dom;return Wn(j)?E.none():E.from(j.querySelector(A)).map(zt.fromDom)},or=(A,$)=>A.dom===$.dom,jr=(A,$)=>{const j=A.dom,ue=$.dom;return j===ue?!1:j.contains(ue)},_r=vr,Rn=A=>zt.fromDom(A.dom.ownerDocument),xr=A=>gt(A)?A:Rn(A),sr=A=>zt.fromDom(xr(A).dom.documentElement),Sr=A=>zt.fromDom(xr(A).dom.defaultView),ao=A=>E.from(A.dom.parentNode).map(zt.fromDom),Oo=A=>E.from(A.dom.parentElement).map(zt.fromDom),wr=(A,$)=>{const j=C($)?$:F;let ue=A.dom;const Me=[];for(;ue.parentNode!==null&&ue.parentNode!==void 0;){const ze=ue.parentNode,nt=zt.fromDom(ze);if(Me.push(nt),j(nt)===!0)break;ue=ze}return Me},Fe=A=>E.from(A.dom.previousSibling).map(zt.fromDom),Ee=A=>E.from(A.dom.nextSibling).map(zt.fromDom),St=A=>de(A.dom.childNodes,zt.fromDom),Ct=(A,$)=>{const j=A.dom.childNodes;return E.from(j[$]).map(zt.fromDom)},Lt=A=>Ct(A,0),Ft=(A,$)=>{ao(A).each(ue=>{ue.dom.insertBefore($.dom,A.dom)})},Ht=(A,$)=>{Ee(A).fold(()=>{ao(A).each(Me=>{Mt(Me,$)})},ue=>{Ft(ue,$)})},$t=(A,$)=>{Lt(A).fold(()=>{Mt(A,$)},ue=>{A.dom.insertBefore($.dom,ue.dom)})},Mt=(A,$)=>{A.dom.appendChild($.dom)},tn=(A,$,j)=>{Ct(A,j).fold(()=>{Mt(A,$)},ue=>{Ft(ue,$)})},un=(A,$)=>{Ft(A,$),Mt($,A)},Jt=(A,$)=>{ee($,(j,ue)=>{const Me=ue===0?A:$[ue-1];Ht(Me,j)})},on=(A,$)=>{ee($,j=>{Mt(A,j)})},Tn=A=>{A.dom.textContent="",ee(St(A),$=>{On($)})},On=A=>{const $=A.dom;$.parentNode!==null&&$.parentNode.removeChild($)},pn=A=>{const $=St(A);$.length>0&&Jt(A,$),On(A)},Jn=(A,$)=>zt.fromDom(A.dom.cloneNode($)),Fn=A=>Jn(A,!1),Zr=A=>Jn(A,!0),dr=(A,$)=>{const j=zt.fromTag($),ue=Wt(A);return mt(j,ue),j},Ur=(A,$)=>{const j=dr(A,$),ue=St(Zr(A));return on(j,ue),j},ar=(A,$)=>{const j=dr(A,$);Ht(A,j);const ue=St(A);return on(j,ue),On(A),j},ur=["tfoot","thead","tbody","colgroup"],qr=A=>me(ur,A),no=(A,$)=>({rows:A,columns:$}),ko=(A,$)=>({row:A,column:$}),Es=(A,$,j)=>({element:A,rowspan:$,colspan:j}),So=(A,$,j,ue)=>({element:A,rowspan:$,colspan:j,isNew:ue}),Ko=(A,$,j,ue,Me,ze)=>({element:A,rowspan:$,colspan:j,row:ue,column:Me,isLocked:ze}),ds=(A,$,j)=>({element:A,cells:$,section:j}),qs=(A,$,j,ue)=>({element:A,cells:$,section:j,isNew:ue}),es=(A,$,j)=>({element:A,isNew:$,isLocked:j}),Xs=(A,$,j,ue)=>({element:A,cells:$,section:j,isNew:ue}),Ya=(A,$,j,ue)=>({startRow:A,startCol:$,finishRow:j,finishCol:ue}),bc=(A,$,j)=>({element:A,colspan:$,column:j}),li=(A,$)=>({element:A,columns:$}),nu=A=>Dt(A)&&O(A.dom.host),Ba=C(Element.prototype.attachShadow)&&C(Node.prototype.getRootNode),Js=M(Ba),ya=Ba?A=>zt.fromDom(A.dom.getRootNode()):xr,ra=A=>{const $=ya(A);return nu($)?E.some($):E.none()},ru=A=>zt.fromDom(A.dom.host),Dr=A=>{if(Js()&&O(A.target)){const $=zt.fromDom(A.target);if(ut($)&&Oc($)&&A.composed&&A.composedPath){const j=A.composedPath();if(j)return re(j)}}return E.from(A.target)},Oc=A=>O(A.dom.shadowRoot),oa=A=>{const $=xt(A)?A.dom.parentNode:A.dom;if($==null||$.ownerDocument===null)return!1;const j=$.ownerDocument;return ra(zt.fromDom($)).fold(()=>j.body.contains($),R(oa,ru))},Ri=()=>_d(zt.fromDom(document)),_d=A=>{const $=A.dom.body;if($==null)throw new Error("Body is not available yet");return zt.fromDom($)},sa=(A,$,j)=>Be(wr(A,j),$),xu=(A,$)=>Be(St(A),$),Rd=(A,$)=>{let j=[];return ee(St(A),ue=>{$(ue)&&(j=j.concat([ue])),j=j.concat(Rd(ue,$))}),j},Su=(A,$,j)=>sa(A,ue=>vr(ue,$),j),Po=(A,$)=>xu(A,j=>vr(j,$)),zi=(A,$)=>Br($,A);var fr=(A,$,j,ue,Me)=>A(j,ue)?E.some(j):C(Me)&&Me(j)?E.none():$(j,ue,Me);const Fa=(A,$,j)=>{let ue=A.dom;const Me=C(j)?j:F;for(;ue.parentNode;){ue=ue.parentNode;const ze=zt.fromDom(ue);if($(ze))return E.some(ze);if(Me(ze))break}return E.none()},xi=(A,$,j)=>fr((Me,ze)=>ze(Me),Fa,A,$,j),Za=(A,$)=>{const j=Me=>$(zt.fromDom(Me));return Y(A.dom.childNodes,j).map(zt.fromDom)},Va=(A,$)=>{const j=ue=>{for(let Me=0;Me<ue.childNodes.length;Me++){const ze=zt.fromDom(ue.childNodes[Me]);if($(ze))return E.some(ze);const nt=j(ue.childNodes[Me]);if(nt.isSome())return nt}return E.none()};return j(A.dom)},bl=(A,$,j)=>Fa(A,ue=>vr(ue,$),j),Ho=(A,$)=>Za(A,j=>vr(j,$)),ci=(A,$)=>kr($,A),ei=(A,$,j)=>fr((Me,ze)=>vr(Me,ze),bl,A,$,j),qf=(A,$,j=V)=>A.exists(ue=>j(ue,$)),Ha=A=>{const $=[],j=ue=>{$.push(ue)};for(let ue=0;ue<A.length;ue++)A[ue].each(j);return $},zu=(A,$)=>A!=null?$(A):E.none(),Zu=(A,$)=>A?E.some($):E.none(),Dd=(A,$,j)=>$===""||A.length>=$.length&&A.substr(j,j+$.length)===$,Is=(A,$,j=0,ue)=>{const Me=A.indexOf($,j);return Me!==-1?y(ue)?!0:Me+$.length<=ue:!1},$d=(A,$)=>Dd(A,$,0),Vc=(A,$)=>Dd(A,$,A.length-$.length),yh=(A=>$=>$.replace(A,""))(/^\s+|\s+$/g),hm=A=>A.length>0,Vs=A=>{const $=parseFloat(A);return isNaN($)?E.none():E.some($)},Si=A=>A.style!==void 0&&C(A.style.getPropertyValue),kf=(A,$,j)=>{if(!f(j))throw console.error("Invalid call to CSS.set. Property ",$,":: Value ",j,":: Element ",A),new Error("CSS value must be a string: "+j);Si(A)&&A.style.setProperty($,j)},HS=(A,$)=>{Si(A)&&A.style.removeProperty($)},Xa=(A,$,j)=>{const ue=A.dom;kf(ue,$,j)},Pl=(A,$)=>{const j=A.dom;oe($,(ue,Me)=>{kf(j,Me,ue)})},Zi=(A,$)=>{const j=A.dom,Me=window.getComputedStyle(j).getPropertyValue($);return Me===""&&!oa(A)?_O(j,$):Me},_O=(A,$)=>Si(A)?A.style.getPropertyValue($):"",Fp=(A,$)=>{const j=A.dom,ue=_O(j,$);return E.from(ue).filter(Me=>Me.length>0)},wu=(A,$)=>{const j=A.dom;HS(j,$),qf(dn(A,"style").map(yh),"")&&rn(A,"style")},Hu=(A,$)=>{const j=A.dom,ue=$.dom;Si(j)&&Si(ue)&&(ue.style.cssText=j.style.cssText)},Da=(A,$,j=0)=>dn(A,$).map(ue=>parseInt(ue,10)).getOr(j),Tu=(A,$)=>Da(A,$,1),Ml=A=>He("col")(A)?Da(A,"span",1)>1:Tu(A,"colspan")>1,xc=A=>Tu(A,"rowspan")>1,Af=(A,$)=>parseInt(Zi(A,$),10),ui=M(10),Pf=M(10),Vp=(A,$)=>zp(A,$,B),zp=(A,$,j)=>Le(St(A),ue=>vr(ue,$)?j(ue)?[ue]:[]:zp(ue,$,j)),uy=(A,$,j=F)=>{if(j($))return E.none();if(me(A,wn($)))return E.some($);const ue=Me=>vr(Me,"table")||j(Me);return bl($,A.join(","),ue)},Kv=(A,$)=>uy(["td","th"],A,$),Mf=A=>Vp(A,"th,td"),Zp=A=>vr(A,"colgroup")?Po(A,"col"):Le(fy(A),$=>Po($,"col")),Sc=(A,$)=>ei(A,"table",$),Jv=A=>Vp(A,"tr"),fy=A=>Sc(A).fold(M([]),$=>Po($,"colgroup")),mm=(A,$)=>de(A,j=>{if(wn(j)==="colgroup"){const ue=de(Zp(j),Me=>{const ze=Da(Me,"span",1);return Es(Me,1,ze)});return ds(j,ue,"colgroup")}else{const ue=de(Mf(j),Me=>{const ze=Da(Me,"rowspan",1),nt=Da(Me,"colspan",1);return Es(Me,ze,nt)});return ds(j,ue,$(j))}}),dy=A=>ao(A).map($=>{const j=wn($);return qr(j)?j:"tbody"}).getOr("tbody"),gm=A=>{const $=Jv(A),ue=[...fy(A),...$];return mm(ue,dy)},RO=(A,$)=>mm(A,()=>$),bh=A=>{let $=!1,j;return(...ue)=>($||($=!0,j=A.apply(null,ue)),j)},DO=(A,$,j,ue)=>{const Me=A.isiOS()&&/ipad/i.test(j)===!0,ze=A.isiOS()&&!Me,nt=A.isiOS()||A.isAndroid(),Ot=nt||ue("(pointer:coarse)"),_t=Me||!ze&&nt&&ue("(min-device-width:768px)"),Kt=ze||nt&&!_t,Cn=$.isSafari()&&A.isiOS()&&/safari/i.test(j)===!1,ir=!Kt&&!_t&&!Cn;return{isiPad:M(Me),isiPhone:M(ze),isTablet:M(_t),isPhone:M(Kt),isTouch:M(Ot),isAndroid:A.isAndroid,isiOS:A.isiOS,isWebView:M(Cn),isDesktop:M(ir)}},$O=(A,$)=>{for(let j=0;j<A.length;j++){const ue=A[j];if(ue.test($))return ue}},LO=(A,$)=>{const j=$O(A,$);if(!j)return{major:0,minor:0};const ue=Me=>Number($.replace(j,"$"+Me));return Yt(ue(1),ue(2))},pm=(A,$)=>{const j=String($).toLowerCase();return A.length===0?hy():LO(A,j)},hy=()=>Yt(0,0),Yt=(A,$)=>({major:A,minor:$}),vm={nu:Yt,detect:pm,unknown:hy},Uu=(A,$)=>te($.brands,j=>{const ue=j.brand.toLowerCase();return Y(A,Me=>{var ze;return ue===((ze=Me.brand)===null||ze===void 0?void 0:ze.toLowerCase())}).map(Me=>({current:Me.name,version:vm.nu(parseInt(j.version,10),0)}))}),e0=(A,$)=>{const j=String($).toLowerCase();return Y(A,ue=>ue.search(j))},Hp=(A,$)=>e0(A,$).map(j=>{const ue=vm.detect(j.versionRegexes,$);return{current:j.name,version:ue}}),US=(A,$)=>e0(A,$).map(j=>{const ue=vm.detect(j.versionRegexes,$);return{current:j.name,version:ue}}),Gs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oc=A=>$=>Is($,A),Kf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:A=>Is(A,"edge/")&&Is(A,"chrome")&&Is(A,"safari")&&Is(A,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Gs],search:A=>Is(A,"chrome")&&!Is(A,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:A=>Is(A,"msie")||Is(A,"trident")},{name:"Opera",versionRegexes:[Gs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oc("firefox")},{name:"Safari",versionRegexes:[Gs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:A=>(Is(A,"safari")||Is(A,"mobile/"))&&Is(A,"applewebkit")}],Jf=[{name:"Windows",search:oc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:A=>Is(A,"iphone")||Is(A,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:oc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oc("linux"),versionRegexes:[]},{name:"Solaris",search:oc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],my={browsers:M(Kf),oses:M(Jf)},bg="Edge",ou="Chromium",Og="IE",gy="Opera",IO="Firefox",Wu="Safari",Up=()=>py({current:void 0,version:vm.unknown()}),py=A=>{const $=A.current,j=A.version,ue=Me=>()=>$===Me;return{current:$,version:j,isEdge:ue(bg),isChromium:ue(ou),isIE:ue(Og),isOpera:ue(gy),isFirefox:ue(IO),isSafari:ue(Wu)}},zc={unknown:Up,nu:py,edge:M(bg),chromium:M(ou),ie:M(Og),opera:M(gy),firefox:M(IO),safari:M(Wu)},sl="Windows",Oh="iOS",xg="Android",wc="Linux",El="macOS",Yu="Solaris",NO="FreeBSD",Wp="ChromeOS",vy=()=>t0({current:void 0,version:vm.unknown()}),t0=A=>{const $=A.current,j=A.version,ue=Me=>()=>$===Me;return{current:$,version:j,isWindows:ue(sl),isiOS:ue(Oh),isAndroid:ue(xg),isMacOS:ue(El),isLinux:ue(wc),isSolaris:ue(Yu),isFreeBSD:ue(NO),isChromeOS:ue(Wp)}},Ef={unknown:vy,nu:t0,windows:M(sl),ios:M(Oh),android:M(xg),linux:M(wc),macos:M(El),solaris:M(Yu),freebsd:M(NO),chromeos:M(Wp)},tk={detect:(A,$,j)=>{const ue=my.browsers(),Me=my.oses(),ze=$.bind(_t=>Uu(ue,_t)).orThunk(()=>Hp(ue,A)).fold(zc.unknown,zc.nu),nt=US(Me,A).fold(Ef.unknown,Ef.nu),Ot=DO(nt,ze,A,j);return{browser:ze,os:nt,deviceType:Ot}}},nk=A=>window.matchMedia(A).matches;let WS=bh(()=>tk.detect(navigator.userAgent,E.from(navigator.userAgentData),nk));const Yp=()=>WS(),n0=(A,$)=>{const j=(Ot,_t)=>{if(!k(_t)&&!_t.match(/^[0-9]+$/))throw new Error(A+".set accepts only positive integer values. Value was "+_t);const Kt=Ot.dom;Si(Kt)&&(Kt.style[A]=_t+"px")},ue=Ot=>{const _t=$(Ot);if(_t<=0||_t===null){const Kt=Zi(Ot,A);return parseFloat(Kt)||0}return _t},Me=ue,ze=(Ot,_t)=>ne(_t,(Kt,Cn)=>{const ir=Zi(Ot,Cn),$r=ir===void 0?0:parseInt(ir,10);return isNaN($r)?Kt:Kt+$r},0);return{set:j,get:ue,getOuter:Me,aggregate:ze,max:(Ot,_t,Kt)=>{const Cn=ze(Ot,Kt);return _t>Cn?_t-Cn:0}}},xh=(A,$)=>Vs(A).getOr($),ti=(A,$,j)=>xh(Zi(A,$),j),fi=(A,$,j,ue)=>{const Me=ti(A,`padding-${j}`,0),ze=ti(A,`padding-${ue}`,0),nt=ti(A,`border-${j}-width`,0),Ot=ti(A,`border-${ue}-width`,0);return $-Me-ze-nt-Ot},Cu=(A,$)=>{const j=A.dom,ue=j.getBoundingClientRect().width||j.offsetWidth;return $==="border-box"?ue:fi(A,ue,"left","right")},yy=A=>ti(A,"height",A.dom.offsetHeight),QO=A=>ti(A,"width",A.dom.offsetWidth),Hl=A=>Cu(A,"content-box"),Sg=n0("width",A=>A.dom.offsetWidth),Tc=A=>Sg.get(A),_f=A=>Sg.getOuter(A),by=Hl,jo=QO,Zc=(A,$,j)=>{const ue=A.cells,Me=ue.slice(0,$),ze=ue.slice($),nt=Me.concat(j).concat(ze);return Oy(A,nt)},Sh=(A,$,j)=>Zc(A,$,[j]),ym=(A,$,j)=>{const ue=A.cells;ue[$]=j},Oy=(A,$)=>Xs(A.element,$,A.section,A.isNew),xy=(A,$)=>{const j=A.cells,ue=de(j,$);return Xs(A.element,ue,A.section,A.isNew)},sc=(A,$)=>A.cells[$],wi=(A,$)=>sc(A,$).element,su=A=>A.cells.length,Hi=A=>{const $=we(A,j=>j.section==="colgroup");return{rows:$.fail,cols:$.pass}},Sy=(A,$,j)=>{const ue=de(A.cells,j);return Xs($(A.element),ue,A.section,!0)},r0="data-snooker-locked-cols",Ti=A=>dn(A,r0).bind($=>E.from($.match(/\d+/g))).map($=>Ve($,B)),Ui=A=>{const $=ne(Hi(A).rows,(ue,Me)=>(ee(Me.cells,(ze,nt)=>{ze.isLocked&&(ue[nt]=!0)}),ue),{}),j=Xe($,(ue,Me)=>parseInt(Me,10));return _e(j)},Xu=(A,$)=>A+","+$,bm=(A,$,j)=>E.from(A.access[Xu($,j)]),Ci=(A,$,j)=>{const ue=wg(A,Me=>j($,Me.element));return ue.length>0?E.some(ue[0]):E.none()},wg=(A,$)=>{const j=Le(A.all,ue=>ue.cells);return Be(j,$)},Xp=A=>{const $={};let j=0;return ee(A.cells,ue=>{const Me=ue.colspan;q(Me,ze=>{const nt=j+ze;$[nt]=bc(ue.element,Me,nt)}),j+=Me}),$},Ta=A=>{const $={},j=[],Me=re(A).map(Rr=>Rr.element).bind(Sc).bind(Ti).getOr({});let ze=0,nt=0,Ot=0;const{pass:_t,fail:Kt}=we(A,Rr=>Rr.section==="colgroup");ee(Kt,Rr=>{const Kn=[];ee(Rr.cells,Ir=>{let jn=0;for(;$[Xu(Ot,jn)]!==void 0;)jn++;const io=je(Me,jn.toString()),$o=Ko(Ir.element,Ir.rowspan,Ir.colspan,Ot,jn,io);for(let os=0;os<Ir.colspan;os++)for(let za=0;za<Ir.rowspan;za++){const gl=Ot+za,bi=jn+os,hu=Xu(gl,bi);$[hu]=$o,nt=Math.max(nt,bi+1)}Kn.push($o)}),ze++,j.push(ds(Rr.element,Kn,Rr.section)),Ot++});const{columns:Cn,colgroups:ir}=be(_t).map(Rr=>{const Kn=Xp(Rr);return{colgroups:[li(Rr.element,ct(Kn))],columns:Kn}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:no(ze,nt),access:$,all:j,columns:Cn,colgroups:ir}},hs={fromTable:A=>{const $=gm(A);return Ta($)},generate:Ta,getAt:bm,findItem:Ci,filterItems:wg,justCells:A=>Le(A.all,$=>$.cells),justColumns:A=>ct(A.columns),hasColumns:A=>se(A.columns).length>0,getColumnAt:(A,$)=>E.from(A.columns[$])},Om=(A,$=B)=>{const j=A.grid,ue=q(j.columns,I),Me=q(j.rows,I);return de(ue,ze=>o0(()=>Le(Me,Kt=>hs.getAt(A,Kt,ze).filter(Cn=>Cn.column===ze).toArray()),Kt=>Kt.colspan===1&&$(Kt.element),()=>hs.getAt(A,0,ze)))},o0=(A,$,j)=>{const ue=A();return Y(ue,$).orThunk(()=>E.from(ue[0]).orThunk(j)).map(nt=>nt.element)},jp=A=>{const $=A.grid,j=q($.rows,I),ue=q($.columns,I);return de(j,Me=>o0(()=>Le(ue,_t=>hs.getAt(A,Me,_t).filter(Kt=>Kt.row===Me).fold(M([]),Kt=>[Kt])),_t=>_t.rowspan===1,()=>hs.getAt(A,Me,0)))},YS=(A,$)=>{if($<0||$>=A.length-1)return E.none();const j=A[$].fold(()=>{const Me=De(A.slice(0,$));return te(Me,(ze,nt)=>ze.map(Ot=>({value:Ot,delta:nt+1})))},Me=>E.some({value:Me,delta:0})),ue=A[$+1].fold(()=>{const Me=A.slice($+1);return te(Me,(ze,nt)=>ze.map(Ot=>({value:Ot,delta:nt+1})))},Me=>E.some({value:Me,delta:1}));return j.bind(Me=>ue.map(ze=>{const nt=ze.delta+Me.delta;return Math.abs(ze.value-Me.value)/nt}))},XS=(A,$)=>j=>Ty(j)==="rtl"?$:A,Ty=A=>Zi(A,"direction")==="rtl"?"rtl":"ltr",xm=n0("height",A=>{const $=A.dom;return oa(A)?$.getBoundingClientRect().height:$.offsetHeight}),s0=A=>xm.get(A),Sm=A=>xm.getOuter(A),Tg=yy,FO=(A,$)=>({left:A,top:$,translate:(ue,Me)=>FO(A+ue,$+Me)}),Gu=FO,VO=A=>{const $=A.getBoundingClientRect();return Gu($.left,$.top)},wm=(A,$)=>A!==void 0?A:$!==void 0?$:0,ku=A=>{const $=A.dom.ownerDocument,j=$.body,ue=$.defaultView,Me=$.documentElement;if(j===A.dom)return Gu(j.offsetLeft,j.offsetTop);const ze=wm(ue==null?void 0:ue.pageYOffset,Me.scrollTop),nt=wm(ue==null?void 0:ue.pageXOffset,Me.scrollLeft),Ot=wm(Me.clientTop,j.clientTop),_t=wm(Me.clientLeft,j.clientLeft);return a0(A).translate(nt-_t,ze-Ot)},a0=A=>{const $=A.dom,ue=$.ownerDocument.body;return ue===$?Gu(ue.offsetLeft,ue.offsetTop):oa(A)?VO($):Gu(0,0)},Cy=(A,$)=>({row:A,y:$}),Cg=(A,$)=>({col:A,x:$}),ky=A=>ku(A).left+_f(A),Ay=A=>ku(A).left,Py=(A,$)=>Cg(A,Ay($)),i0=(A,$)=>Cg(A,ky($)),al=A=>ku(A).top,qp=(A,$)=>Cy(A,al($)),ca=(A,$)=>Cy(A,al($)+Sm($)),uo=(A,$,j)=>{if(j.length===0)return[];const ue=de(j.slice(1),(ze,nt)=>ze.map(Ot=>A(nt,Ot))),Me=j[j.length-1].map(ze=>$(j.length-1,ze));return ue.concat([Me])},ju=A=>-A,Xr={delta:I,positions:A=>uo(qp,ca,A),edge:al},Ld=XS({delta:I,edge:Ay,positions:A=>uo(Py,i0,A)},{delta:ju,edge:ky,positions:A=>uo(i0,Py,A)}),vi={delta:(A,$)=>Ld($).delta(A,$),positions:(A,$)=>Ld($).positions(A,$),edge:A=>Ld(A).edge(A)},Id={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Kp=(()=>{const A="[0-9]+",j="[eE]"+("[+-]?"+A),ue="\\.",Me=Ot=>`(?:${Ot})?`,nt=`[+-]?(?:${["Infinity",A+ue+Me(A)+Me(j),ue+A+Me(j),A+Me(j)].join("|")})`;return new RegExp(`^(${nt})(.*)$`)})(),il=(A,$)=>ae($,j=>ae(Id[j],ue=>A===ue)),Df=(A,$)=>E.from(Kp.exec(A)).bind(ue=>{const Me=Number(ue[1]),ze=ue[2];return il(ze,$)?E.some({value:Me,unit:ze}):E.none()}),Tm=/(\d+(\.\d+)?)%/,qu=/(\d+(\.\d+)?)px|em/,My=He("col"),l0=(A,$,j)=>{const ue=Oo(A).getOrThunk(()=>_d(Rn(A)));return $(A)/j(ue)*100},lr=(A,$)=>{Xa(A,"width",$+"px")},zO=(A,$)=>{Xa(A,"width",$+"%")},_l=(A,$)=>{Xa(A,"height",$+"px")},ed=A=>Tg(A)+"px",kg=(A,$,j,ue)=>{const Me=Sc(A).map(ze=>{const nt=j(ze);return Math.floor($/100*nt)}).getOr($);return ue(A,Me),Me},da=(A,$,j,ue)=>{const Me=parseFloat(A);return Vc(A,"%")&&wn($)!=="table"?kg($,Me,j,ue):Me},aa=A=>{const $=ed(A);return $?da($,A,s0,_l):s0(A)},Rl=(A,$,j)=>{const ue=j(A),Me=Tu(A,$);return ue/Me},Wl=(A,$)=>Fp(A,$).orThunk(()=>dn(A,$).map(j=>j+"px")),xs=A=>Wl(A,"width"),Jp=A=>Wl(A,"height"),ll=A=>l0(A,Tc,by),ni=A=>My(A)?Tc(A):jo(A),ev=A=>Rl(A,"rowspan",aa),er=A=>xs(A).bind(j=>Df(j,["fixed","relative","empty"])),Hc=(A,$,j)=>{Xa(A,"width",$+j)},Ag=A=>Tc(A)+"px",zs=A=>l0(A,Tc,by)+"%",$f=A=>xs(A).exists($=>Tm.test($)),jS=A=>xs(A).exists($=>qu.test($)),Ku=A=>xs(A).isNone(),c0=M(Tm),au=He("col"),u0=A=>xs(A).getOrThunk(()=>ni(A)+"px"),ac=A=>Jp(A).getOrThunk(()=>ev(A)+"px"),Ws=A=>de(hs.justColumns(A),$=>E.from($.element)),iu=A=>{const $=Yp().browser,j=$.isChromium()||$.isFirefox();return au(A)?j:!0},di=(A,$,j,ue,Me,ze)=>A.filter(ue).fold(()=>ze(YS(j,$)),nt=>Me(nt)),cl=(A,$,j,ue)=>{const Me=Om(A),ze=hs.hasColumns(A)?Ws(A):Me,nt=[E.some(vi.edge($))].concat(de(vi.positions(Me,$),_t=>_t.map(Kt=>Kt.x))),Ot=Q(Ml);return de(ze,(_t,Kt)=>di(_t,Kt,nt,Ot,Cn=>{if(iu(Cn))return j(Cn);{const ir=zu(Me[Kt],I);return di(ir,Kt,nt,Ot,$r=>ue(E.some(Tc($r))),ue)}},ue))},Nd=A=>A.map($=>$+"px").getOr(""),td=(A,$)=>cl(A,$,u0,Nd),Bd=(A,$,j)=>cl(A,$,ll,ue=>ue.fold(()=>j.minCellWidth(),Me=>Me/j.pixelWidth()*100)),Cc=(A,$,j)=>cl(A,$,ni,ue=>ue.getOrThunk(j.minCellWidth)),nd=(A,$,j,ue,Me)=>{const ze=jp(A),nt=[E.some(j.edge($))].concat(de(j.positions(ze,$),Ot=>Ot.map(_t=>_t.y)));return de(ze,(Ot,_t)=>di(Ot,_t,nt,Q(xc),ue,Me))},Mn=(A,$,j)=>nd(A,$,j,ev,ue=>ue.getOrThunk(Pf)),kc=(A,$,j)=>nd(A,$,j,ac,Nd),rd=(A,$)=>()=>oa(A)?$(A):parseFloat(Fp(A,"width").getOr("0")),od=A=>{const $=rd(A,Tc),j=M(0);return{width:$,pixelWidth:$,getWidths:(Me,ze)=>Cc(Me,A,ze),getCellDelta:j,singleColumnWidth:M([0]),minCellWidth:j,setElementWidth:w,adjustTableWidth:w,isRelative:!0,label:"none"}},Uc=A=>{const $=rd(A,_t=>parseFloat(zs(_t))),j=rd(A,Tc);return{width:$,pixelWidth:j,getWidths:(_t,Kt)=>Bd(_t,A,Kt),getCellDelta:_t=>_t/j()*100,singleColumnWidth:(_t,Kt)=>[100-_t],minCellWidth:()=>ui()/j()*100,setElementWidth:zO,adjustTableWidth:_t=>{const Kt=$(),Cn=_t/100*Kt,ir=Kt+Cn;zO(A,ir)},isRelative:!0,label:"percent"}},Wi=A=>{const $=rd(A,Tc);return{width:$,pixelWidth:$,getWidths:(nt,Ot)=>Cc(nt,A,Ot),getCellDelta:I,singleColumnWidth:(nt,Ot)=>[Math.max(ui(),nt+Ot)-nt],minCellWidth:ui,setElementWidth:lr,adjustTableWidth:nt=>{const Ot=$()+nt;lr(A,Ot)},isRelative:!1,label:"pixel"}},Di=(A,$)=>c0().exec($)!==null?Uc(A):Wi(A),Ac={getTableSize:A=>xs(A).fold(()=>od(A),j=>Di(A,j)),pixelSize:Wi,percentageSize:Uc,noneSize:od},D=(A,$,j,ue,Me,ze)=>({minRow:A,minCol:$,maxRow:j,maxCol:ue,allCells:Me,selectedCells:ze}),G=(A,$)=>{const j=A.grid.columns;let Me=A.grid.rows,ze=j,nt=0,Ot=0;const _t=[],Kt=[];return oe(A.access,Cn=>{if(_t.push(Cn),$(Cn)){Kt.push(Cn);const ir=Cn.row,$r=ir+Cn.rowspan-1,Rr=Cn.column,Kn=Rr+Cn.colspan-1;ir<Me?Me=ir:$r>nt&&(nt=$r),Rr<ze?ze=Rr:Kn>Ot&&(Ot=Kn)}}),D(Me,ze,nt,Ot,_t,Kt)},he=(A,$,j)=>{const ue=A[j].element,Me=zt.fromTag("td");Mt(Me,zt.fromTag("br")),($?Mt:$t)(ue,Me)},Te=(A,$,j,ue)=>{const Me=Be(A,Ot=>Ot.section!=="colgroup"),ze=$.grid.columns,nt=$.grid.rows;for(let Ot=0;Ot<nt;Ot++){let _t=!1;for(let Kt=0;Kt<ze;Kt++)Ot<j.minRow||Ot>j.maxRow||Kt<j.minCol||Kt>j.maxCol||(hs.getAt($,Ot,Kt).filter(ue).isNone()?he(Me,_t,Ot):_t=!0)}},Pe=(A,$,j,ue)=>{oe(j.columns,nt=>{(nt.column<$.minCol||nt.column>$.maxCol)&&On(nt.element)});const Me=Be(Vp(A,"tr"),nt=>nt.dom.childElementCount===0);ee(Me,On),($.minCol===$.maxCol||$.minRow===$.maxRow)&&ee(Vp(A,"th,td"),nt=>{rn(nt,"rowspan"),rn(nt,"colspan")}),rn(A,r0),rn(A,"data-snooker-col-series"),Ac.getTableSize(A).adjustTableWidth(ue)},$e=(A,$,j,ue)=>{if(ue.minCol===0&&$.grid.columns===ue.maxCol+1)return 0;const Me=Cc($,A,j),ze=ne(Me,(Kt,Cn)=>Kt+Cn,0),_t=ne(Me.slice(ue.minCol,ue.maxCol+1),(Kt,Cn)=>Kt+Cn,0)/ze*j.pixelWidth()-j.pixelWidth();return j.getCellDelta(_t)},Ke=(A,$)=>{const j=$r=>vr($r.element,$),ue=Zr(A),Me=gm(ue),ze=Ac.getTableSize(A),nt=hs.generate(Me),Ot=G(nt,j),_t="th:not("+$+"),td:not("+$+")",Kt=zp(ue,"th,td",$r=>vr($r,_t));ee(Kt,On),Te(Me,nt,Ot,j);const Cn=hs.fromTable(A),ir=$e(A,Cn,ze,Ot);return Pe(ue,Ot,nt,ir),ue},We="",vt=((A,$)=>{const j=ze=>{if(!A(ze))throw new Error("Can only get "+$+" value of a "+$+" node");return ue(ze).getOr("")},ue=ze=>A(ze)?E.from(ze.dom.nodeValue):E.none();return{get:j,getOption:ue,set:(ze,nt)=>{if(!A(ze))throw new Error("Can only set raw "+$+" value of a "+$+" node");ze.dom.nodeValue=nt}}})(xt,"text"),bt=A=>vt.get(A),Zt=A=>vt.getOption(A),Ut=(A,$)=>vt.set(A,$),gn=A=>wn(A)==="img"?1:Zt(A).fold(()=>St(A).length,$=>$.length),An=A=>Zt(A).filter($=>$.trim().length!==0||$.indexOf(We)>-1).isSome(),jt=A=>lt(A)&&Pt(A,"contenteditable")==="false",nn=["img","br"],hn=A=>An(A)||me(nn,wn(A))||jt(A),_n=A=>Va(A,hn),Pn=A=>yn(A,hn),yn=(A,$)=>{const j=ue=>{const Me=St(ue);for(let ze=Me.length-1;ze>=0;ze--){const nt=Me[ze];if($(nt))return E.some(nt);const Ot=j(nt);if(Ot.isSome())return Ot}return E.none()};return j(A)},cr={scope:["row","col"]},Hr=A=>()=>{const $=zt.fromTag("td",A.dom);return Mt($,zt.fromTag("br",A.dom)),$},Jr=A=>()=>zt.fromTag("col",A.dom),Ar=A=>()=>zt.fromTag("colgroup",A.dom),ro=A=>()=>zt.fromTag("tr",A.dom),fo=(A,$,j)=>{const ue=Ur(A,$);return oe(j,(Me,ze)=>{Me===null?rn(ue,ze):dt(ue,ze,Me)}),ue},ts=A=>A,xo=(A,$,j)=>_n(A).map(Me=>{const ze=j.join(","),nt=Su(Me,ze,Ot=>or(Ot,A));return pe(nt,(Ot,_t)=>{const Kt=Fn(_t);return Mt(Ot,Kt),Kt},$)}).getOr($),go=(A,$)=>{oe(cr,(j,ue)=>dn(A,ue).filter(Me=>me(j,Me)).each(Me=>dt($,ue,Me)))},js=(A,$,j)=>{const ue=(nt,Ot)=>{Hu(nt.element,Ot),wu(Ot,"height"),nt.colspan!==1&&wu(Ot,"width")},Me=nt=>{const Ot=zt.fromTag(wn(nt.element),$.dom),_t=j.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Kt=_t.length>0?xo(nt.element,Ot,_t):Ot;return Mt(Kt,zt.fromTag("br")),ue(nt,Ot),go(nt.element,Ot),A(nt.element,Ot),Ot};return{col:nt=>{const Ot=zt.fromTag(wn(nt.element),$.dom);return ue(nt,Ot),A(nt.element,Ot),Ot},colgroup:Ar($),row:ro($),cell:Me,replace:fo,colGap:Jr($),gap:Hr($)}},ri=A=>({col:Jr(A),colgroup:Ar(A),row:ro(A),cell:Hr(A),replace:ts,colGap:Jr(A),gap:Hr(A)}),ba=(A,$)=>{const ue=($||document).createElement("div");return ue.innerHTML=A,St(zt.fromDom(ue))},Lr=A=>de(A,zt.fromDom),Do=A=>$=>$.options.get(A),ms="100%",_s=A=>{var $;const j=A.dom,ue=($=j.getParent(A.selection.getStart(),j.isBlock))!==null&&$!==void 0?$:A.getBody();return by(zt.fromDom(ue))+"px"},Qa=(A,$)=>Li(A)||!Ii(A)?$:Xl(A)?{...$,width:_s(A)}:{...$,width:ms},hi=(A,$)=>Li(A)||Ii(A)?$:Xl(A)?{...$,width:_s(A)}:{...$,width:ms},Yi=A=>{const $=A.options.register;$("table_clone_elements",{processor:"string[]"}),$("table_use_colgroups",{processor:"boolean",default:!0}),$("table_header_type",{processor:j=>{const ue=me(["section","cells","sectionCells","auto"],j);return ue?{value:j,valid:ue}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),$("table_sizing_mode",{processor:"string",default:"auto"}),$("table_default_attributes",{processor:"object",default:{border:"1"}}),$("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),$("table_column_resizing",{processor:j=>{const ue=me(["preservetable","resizetable"],j);return ue?{value:j,valid:ue}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),$("table_resize_bars",{processor:"boolean",default:!0}),$("table_style_by_css",{processor:"boolean",default:!0}),$("table_merge_content_on_paste",{processor:"boolean",default:!0})},$i=A=>E.from(A.options.get("table_clone_elements")),Wc=A=>{const $=A.options.get("object_resizing");return me($.split(","),"table")},Ji=Do("table_header_type"),Pc=Do("table_column_resizing"),Yl=A=>Pc(A)==="preservetable",ea=A=>Pc(A)==="resizetable",Ju=Do("table_sizing_mode"),Lf=A=>Ju(A)==="relative",Xl=A=>Ju(A)==="fixed",Li=A=>Ju(A)==="responsive",Gl=Do("table_resize_bars"),Ii=Do("table_style_by_css"),ta=Do("table_merge_content_on_paste"),Mc=A=>{const $=A.options,j=$.get("table_default_attributes");return $.isSet("table_default_attributes")?j:hi(A,j)},Qd=A=>{const $=A.options,j=$.get("table_default_styles");return $.isSet("table_default_styles")?j:Qa(A,j)},ef=Do("table_use_colgroups"),Cm=A=>ei(A,"[contenteditable]"),Fd=(A,$=!1)=>oa(A)?A.dom.isContentEditable:Cm(A).fold(M($),j=>Ey(j)==="true"),Ey=A=>A.dom.contentEditable,ZO=A=>zt.fromDom(A.getBody()),Th=A=>$=>or($,ZO(A)),Vd=A=>{rn(A,"data-mce-style");const $=j=>rn(j,"data-mce-style");ee(Mf(A),$),ee(Zp(A),$),ee(Jv(A),$)},tf=A=>zt.fromDom(A.selection.getStart()),Pg=A=>A.getBoundingClientRect().width,Mg=A=>A.getBoundingClientRect().height,ok=(A,$)=>{const j=A.dom.getStyle($,"width")||A.dom.getAttrib($,"width");return E.from(j).filter(hm)},HO=A=>/^(\d+(\.\d+)?)%$/.test(A),_y=A=>/^(\d+(\.\d+)?)px$/.test(A),UO=A=>xi(A,He("table")).exists(Fd),sk=(A,$)=>{const j=$.column,ue=$.column+$.colspan-1,Me=$.row,ze=$.row+$.rowspan-1;return j<=A.finishCol&&ue>=A.startCol&&Me<=A.finishRow&&ze>=A.startRow},WO=(A,$)=>$.column>=A.startCol&&$.column+$.colspan-1<=A.finishCol&&$.row>=A.startRow&&$.row+$.rowspan-1<=A.finishRow,Ry=(A,$)=>{let j=!0;const ue=N(WO,$);for(let Me=$.startRow;Me<=$.finishRow;Me++)for(let ze=$.startCol;ze<=$.finishCol;ze++)j=j&&hs.getAt(A,Me,ze).exists(ue);return j?E.some($):E.none()},Dy=(A,$)=>Ya(Math.min(A.row,$.row),Math.min(A.column,$.column),Math.max(A.row+A.rowspan-1,$.row+$.rowspan-1),Math.max(A.column+A.colspan-1,$.column+$.colspan-1)),ks=(A,$,j)=>{const ue=hs.findItem(A,$,or),Me=hs.findItem(A,j,or);return ue.bind(ze=>Me.map(nt=>Dy(ze,nt)))},vo=(A,$,j)=>ks(A,$,j).bind(ue=>Ry(A,ue)),km=(A,$,j,ue)=>hs.findItem(A,$,or).bind(Me=>{const ze=j>0?Me.row+Me.rowspan-1:Me.row,nt=ue>0?Me.column+Me.colspan-1:Me.column;return hs.getAt(A,ze+j,nt+ue).map(_t=>_t.element)}),YO=(A,$,j)=>ks(A,$,j).map(ue=>{const Me=hs.filterItems(A,N(sk,ue));return de(Me,ze=>ze.element)}),$y=(A,$)=>{const j=(ue,Me)=>jr(Me,ue);return hs.findItem(A,$,j).map(ue=>ue.element)},QM=(A,$,j)=>Sc(A).bind(ue=>{const Me=JS(ue);return km(Me,A,$,j)}),qS=(A,$,j)=>{const ue=JS(A);return YO(ue,$,j)},Ea=(A,$,j,ue,Me)=>{const ze=JS(A),nt=or(A,j)?E.some($):$y(ze,$),Ot=or(A,Me)?E.some(ue):$y(ze,ue);return nt.bind(_t=>Ot.bind(Kt=>YO(ze,_t,Kt)))},KS=(A,$,j)=>{const ue=JS(A);return vo(ue,$,j)},JS=hs.fromTable;var ew=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qn=()=>{const A=Kt=>zt.fromDom(Kt.dom.cloneNode(!1)),$=Kt=>xr(Kt).dom,j=Kt=>ut(Kt)?wn(Kt)==="body"?!0:me(ew,wn(Kt)):!1,ue=Kt=>ut(Kt)?me(["br","img","hr","input"],wn(Kt)):!1,Me=Kt=>ut(Kt)&&Pt(Kt,"contenteditable")==="false",ze=(Kt,Cn)=>Kt.dom.compareDocumentPosition(Cn.dom),nt=(Kt,Cn)=>{const ir=Wt(Kt);mt(Cn,ir)},Ot=Kt=>{const Cn=wn(Kt);return me(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Cn)},_t=Kt=>ut(Kt)?dn(Kt,"lang"):E.none();return{up:M({selector:bl,closest:ei,predicate:Fa,all:wr}),down:M({selector:zi,predicate:Rd}),styles:M({get:Zi,getRaw:Fp,set:Xa,remove:wu}),attrs:M({get:Pt,set:dt,remove:rn,copyTo:nt}),insert:M({before:Ft,after:Ht,afterAll:Jt,append:Mt,appendAll:on,prepend:$t,wrap:un}),remove:M({unwrap:pn,remove:On}),create:M({nu:zt.fromTag,clone:A,text:zt.fromText}),query:M({comparePosition:ze,prevSibling:Fe,nextSibling:Ee}),property:M({children:St,name:wn,parent:ao,document:$,isText:xt,isComment:Sn,isElement:ut,isSpecial:Ot,getLanguage:_t,getText:bt,setText:Ut,isBoundary:j,isEmptyTag:ue,isNonEditable:Me}),eq:or,is:_r}};const XO=(A,$,j,ue)=>{const Me=j[0],ze=j.slice(1);return ue(A,$,Me,ze)},FM=(A,$,j)=>j.length>0?XO(A,$,j,Ly):E.none(),Ly=(A,$,j,ue)=>{const Me=$(A,j);return pe(ue,(ze,nt)=>{const Ot=$(A,nt);return VM(A,ze,Ot)},Me)},VM=(A,$,j)=>$.bind(ue=>j.filter(N(A.eq,ue))),f0=(A,$)=>N(A.eq,$),tw=(A,$,j,ue=F)=>{const Me=[$].concat(A.up().all($)),ze=[j].concat(A.up().all(j)),nt=Cn=>ve(Cn,ue).fold(()=>Cn,$r=>Cn.slice(0,$r+1)),Ot=nt(Me),_t=nt(ze),Kt=Y(Ot,Cn=>ae(_t,f0(A,Cn)));return{firstpath:Ot,secondpath:_t,shared:Kt}},Am=FM,zM=tw,Ch=qn(),Ca=(A,$)=>Am(Ch,(j,ue)=>A(ue),$),kh=(A,$,j)=>zM(Ch,A,$,j),nw=A=>bl(A,"table"),sd=(A,$,j)=>{const ue=Me=>ze=>j!==void 0&&j(ze)||or(ze,Me);return or(A,$)?E.some({boxes:E.some([A]),start:A,finish:$}):nw(A).bind(Me=>nw($).bind(ze=>{if(or(Me,ze))return E.some({boxes:qS(Me,A,$),start:A,finish:$});if(jr(Me,ze)){const nt=Su($,"td,th",ue(Me)),Ot=nt.length>0?nt[nt.length-1]:$;return E.some({boxes:Ea(Me,A,Me,$,ze),start:A,finish:Ot})}else if(jr(ze,Me)){const nt=Su(A,"td,th",ue(ze)),Ot=nt.length>0?nt[nt.length-1]:A;return E.some({boxes:Ea(ze,A,Me,$,ze),start:A,finish:Ot})}else return kh(A,$).shared.bind(nt=>ei(nt,"table",j).bind(Ot=>{const _t=Su($,"td,th",ue(Ot)),Kt=_t.length>0?_t[_t.length-1]:$,Cn=Su(A,"td,th",ue(Ot)),ir=Cn.length>0?Cn[Cn.length-1]:A;return E.some({boxes:Ea(Ot,A,Me,$,ze),start:ir,finish:Kt})}))}))},Pm=(A,$)=>{const j=zi(A,$);return j.length>0?E.some(j):E.none()},rw=(A,$)=>Y(A,j=>vr(j,$)),tv=(A,$,j)=>ci(A,$).bind(ue=>ci(A,j).bind(Me=>Ca(nw,[ue,Me]).map(ze=>({first:ue,last:Me,table:ze})))),ak=(A,$)=>bl(A,"table").bind(j=>ci(j,$).bind(ue=>sd(ue,A).bind(Me=>Me.boxes.map(ze=>({boxes:ze,start:Me.start,finish:Me.finish}))))),GO=(A,$,j,ue,Me)=>rw(A,Me).bind(ze=>QM(ze,$,j).bind(nt=>ak(nt,ue))),ow=(A,$)=>Pm(A,$),ZM=(A,$,j)=>tv(A,$,j).bind(ue=>{const Me=_t=>or(A,_t),ze="thead,tfoot,tbody,table",nt=bl(ue.first,ze,Me),Ot=bl(ue.last,ze,Me);return nt.bind(_t=>Ot.bind(Kt=>or(_t,Kt)?KS(ue.table,ue.first,ue.last):E.none()))}),sw=I,Ah=A=>{const $=(ue,Me)=>dn(ue,Me).exists(ze=>parseInt(ze,10)>1),j=ue=>$(ue,"rowspan")||$(ue,"colspan");return A.length>0&&Ce(A,j)?E.some(A):E.none()},c9=(A,$,j)=>$.length<=1?E.none():ZM(A,j.firstSelectedSelector,j.lastSelectedSelector).map(ue=>({bounds:ue,cells:$})),aw="data-mce-selected",Eg="td["+aw+"],th["+aw+"]",jl="["+aw+"]",Kr="data-mce-first-selected",HM="td["+Kr+"],th["+Kr+"]",iw="data-mce-last-selected",UM="td["+iw+"],th["+iw+"]",ik=jl,nv={selected:aw,selectedSelector:Eg,firstSelected:Kr,firstSelectedSelector:HM,lastSelected:iw,lastSelectedSelector:UM},d0=(A,$,j)=>({element:j,mergable:c9($,A,nv),unmergable:Ah(A),selection:sw(A)}),Iy=(A,$,j)=>({element:A,clipboard:$,generators:j}),h0=(A,$,j,ue)=>({selection:sw(A),clipboard:j,generators:ue}),jO=A=>Sc(A).bind($=>ow($,nv.firstSelectedSelector)).fold(M(A),$=>$[0]),Mm=A=>($,j)=>{const ue=wn($),Me=ue==="col"||ue==="colgroup"?jO($):$;return ei(Me,A,j)},zd=Mm("th,td,caption"),Ny=Mm("th,td"),If=A=>Lr(A.model.table.getSelectedCells()),qO=A=>Be(If(A),$=>vr($,nv.selectedSelector)),lk=A=>Sc(A[0]).map($=>{const j=Ke($,ik);return Vd(j),[j]}),m0=(A,$)=>de($,j=>A.selection.serializer.serialize(j.dom,{})).join(""),Em=A=>de(A,$=>$.dom.innerText).join(""),WM=(A,$)=>{A.on("BeforeGetContent",j=>{const ue=Me=>{j.preventDefault(),lk(Me).each(ze=>{j.content=j.format==="text"?Em(ze):m0(A,ze)})};if(j.selection===!0){const Me=qO(A);Me.length>=1&&ue(Me)}}),A.on("BeforeSetContent",j=>{if(j.selection===!0&&j.paste===!0){const ue=If(A);re(ue).each(Me=>{Sc(Me).each(ze=>{const nt=Be(ba(j.content),_t=>wn(_t)!=="meta"),Ot=He("table");if(ta(A)&&nt.length===1&&Ot(nt[0])){j.preventDefault();const _t=zt.fromDom(A.getDoc()),Kt=ri(_t),Cn=Iy(Me,nt[0],Kt);$.pasteCells(ze,Cn).each(()=>{A.focus()})}})})}})},g0=(A,$)=>({element:A,offset:$}),rv=(A,$,j)=>A.property().isText($)&&A.property().getText($).trim().length===0||A.property().isComment($)?j($).bind(ue=>rv(A,ue,j).orThunk(()=>E.some(ue))):E.none(),ad=(A,$)=>A.property().isText($)?A.property().getText($).length:A.property().children($).length,Au=(A,$)=>{const j=rv(A,$,A.query().prevSibling).getOr($);if(A.property().isText(j))return g0(j,ad(A,j));const ue=A.property().children(j);return ue.length>0?Au(A,ue[ue.length-1]):g0(j,ad(A,j))},YM=Au,ck=qn(),uk=A=>YM(ck,A),lw=(A,$)=>{Ml(A)||er(A).each(ue=>{const Me=ue.value/2;Hc(A,Me,ue.unit),Hc($,Me,ue.unit)})},Pu=A=>de(A,M(0)),p0=(A,$,j,ue,Me)=>Me(A.slice(0,$)).concat(ue).concat(Me(A.slice(j))),KO=A=>($,j,ue,Me)=>{if(A(ue)){const ze=Math.max(Me,$[j]-Math.abs(ue)),nt=Math.abs(ze-$[j]);return ue>=0?nt:-nt}else return ue},JO=KO(A=>A<0),XM=KO(B),fk=()=>{const A=(Ot,_t,Kt,Cn,ir)=>{const $r=JO(Ot,_t,Cn,ir);return p0(Ot,_t,Kt+1,[$r,0],Pu)},$=(Ot,_t,Kt,Cn)=>{const ir=(100+Kt)/100,$r=Math.max(Cn,(Ot[_t]+Kt)/ir);return de(Ot,(Rr,Kn)=>(Kn===_t?$r:Rr/ir)-Rr)},j=(Ot,_t,Kt,Cn,ir,$r)=>$r?$(Ot,_t,Cn,ir):A(Ot,_t,Kt,Cn,ir);return{resizeTable:(Ot,_t)=>Ot(_t),clampTableDelta:JO,calcLeftEdgeDeltas:j,calcMiddleDeltas:(Ot,_t,Kt,Cn,ir,$r,Rr)=>j(Ot,Kt,Cn,ir,$r,Rr),calcRightEdgeDeltas:(Ot,_t,Kt,Cn,ir,$r)=>{if($r)return $(Ot,Kt,Cn,ir);{const Rr=JO(Ot,Kt,Cn,ir);return Pu(Ot.slice(0,Kt)).concat([Rr])}},calcRedestributedWidths:(Ot,_t,Kt,Cn)=>{if(Cn){const $r=(_t+Kt)/_t,Rr=de(Ot,Kn=>Kn/$r);return{delta:$r*100-100,newSizes:Rr}}else return{delta:Kt,newSizes:Ot}}}},cw=()=>{const A=(nt,Ot,_t,Kt,Cn)=>{const ir=Kt>=0?_t:Ot,$r=XM(nt,ir,Kt,Cn);return p0(nt,Ot,_t+1,[$r,-$r],Pu)};return{resizeTable:(nt,Ot,_t)=>{_t&&nt(Ot)},clampTableDelta:(nt,Ot,_t,Kt,Cn)=>{if(Cn){if(_t>=0)return _t;{const ir=ne(nt,($r,Rr)=>$r+Rr-Kt,0);return Math.max(-ir,_t)}}else return JO(nt,Ot,_t,Kt)},calcLeftEdgeDeltas:A,calcMiddleDeltas:(nt,Ot,_t,Kt,Cn,ir)=>A(nt,_t,Kt,Cn,ir),calcRightEdgeDeltas:(nt,Ot,_t,Kt,Cn,ir)=>{if(ir)return Pu(nt);{const $r=Kt/nt.length;return de(nt,M($r))}},calcRedestributedWidths:(nt,Ot,_t,Kt)=>({delta:0,newSizes:nt})}},v0=A=>hs.fromTable(A).grid,y0=He("th"),ex=A=>Ce(A,$=>y0($.element)),GM=(A,$)=>A&&$?"sectionCells":A?"section":"cells",tx=A=>{const $=A.section==="thead",j=qf(b0(A.cells),"th");return A.section==="tfoot"?{type:"footer"}:$||j?{type:"header",subType:GM($,j)}:{type:"body"}},b0=A=>{const $=Be(A,j=>y0(j.element));return $.length===0?E.some("td"):$.length===A.length?E.some("th"):E.none()},jM=A=>{const $=de(A,Me=>tx(Me).type),j=me($,"header"),ue=me($,"footer");if(!j&&!ue)return E.some("body");{const Me=me($,"body");return j&&!Me&&!ue?E.some("header"):!j&&!Me&&ue?E.some("footer"):E.none()}},By=A=>te(A.all,$=>{const j=tx($);return j.type==="header"?E.from(j.subType):E.none()}),uw=(A,$,j)=>es(j(A.element,$),!0,A.isLocked),Mu=(A,$)=>A.section!==$?Xs(A.element,A.cells,$,A.isNew):A,nx=()=>({transformRow:Mu,transformCell:(A,$,j)=>{const ue=j(A.element,$),Me=wn(ue)!=="td"?ar(ue,"td"):ue;return es(Me,A.isNew,A.isLocked)}}),dk=()=>({transformRow:Mu,transformCell:uw}),rx=()=>({transformRow:(A,$)=>Mu(A,$==="thead"?"tbody":$),transformCell:uw}),_g={getTableSectionType:(A,$)=>{const j=hs.fromTable(A);switch(By(j).getOr($)){case"section":return nx();case"sectionCells":return dk();case"cells":return rx()}},section:nx,sectionCells:dk,cells:rx,fallback:()=>({transformRow:I,transformCell:uw})},Ph=(A,$,j,ue)=>{j===ue?rn(A,$):dt(A,$,j)},fw=(A,$,j)=>{be(Po(A,$)).fold(()=>$t(A,j),ue=>Ht(ue,j))},O0=(A,$)=>{const j=Ho(A,$).getOrThunk(()=>{const ue=zt.fromTag($,Rn(A).dom);return $==="thead"?fw(A,"caption,colgroup",ue):$==="colgroup"?fw(A,"caption",ue):Mt(A,ue),ue});return Tn(j),j},sx=(A,$)=>{const j=[],ue=[],Me=Rr=>de(Rr,Kn=>{Kn.isNew&&j.push(Kn.element);const Ir=Kn.element;return Tn(Ir),ee(Kn.cells,jn=>{jn.isNew&&ue.push(jn.element),Ph(jn.element,"colspan",jn.colspan,1),Ph(jn.element,"rowspan",jn.rowspan,1),Mt(Ir,jn.element)}),Ir}),ze=Rr=>Le(Rr,Kn=>de(Kn.cells,Ir=>(Ph(Ir.element,"span",Ir.colspan,1),Ir.element))),nt=(Rr,Kn)=>{const Ir=O0(A,Kn),io=(Kn==="colgroup"?ze:Me)(Rr);on(Ir,io)},Ot=Rr=>{Ho(A,Rr).each(On)},_t=(Rr,Kn)=>{Rr.length>0?nt(Rr,Kn):Ot(Kn)},Kt=[],Cn=[],ir=[],$r=[];return ee($,Rr=>{switch(Rr.section){case"thead":Kt.push(Rr);break;case"tbody":Cn.push(Rr);break;case"tfoot":ir.push(Rr);break;case"colgroup":$r.push(Rr);break}}),_t($r,"colgroup"),_t(Kt,"thead"),_t(Cn,"tbody"),_t(ir,"tfoot"),{newRows:j,newCells:ue}},hk=A=>de(A,$=>{const j=Fn($.element);return ee($.cells,ue=>{const Me=Zr(ue.element);Ph(Me,"colspan",ue.colspan,1),Ph(Me,"rowspan",ue.rowspan,1),Mt(j,Me)}),j}),$a=(A,$)=>de(A,j=>sc(j,$)),qM=(A,$)=>A[$],ki=(A,$)=>{if(A.length===0)return 0;const j=A[0];return ve(A,Me=>!$(j.element,Me.element)).getOr(A.length)},mk=(A,$,j,ue)=>{const Me=qM(A,$),ze=Me.section==="colgroup",nt=ki(Me.cells.slice(j),ue),Ot=ze?1:ki($a(A.slice($),j),ue);return{colspan:nt,rowspan:Ot}},Ga=(A,$)=>{const j=de(A,Me=>de(Me.cells,F)),ue=(Me,ze,nt,Ot)=>{for(let _t=Me;_t<Me+nt;_t++)for(let Kt=ze;Kt<ze+Ot;Kt++)j[_t][Kt]=!0};return de(A,(Me,ze)=>{const nt=Le(Me.cells,(Ot,_t)=>{if(j[ze][_t]===!1){const Kt=mk(A,ze,_t,$);return ue(ze,_t,Kt.rowspan,Kt.colspan),[So(Ot.element,Kt.rowspan,Kt.colspan,Ot.isNew)]}else return[]});return qs(Me.element,nt,Me.section,Me.isNew)})},x0=(A,$,j)=>{const ue=[];ee(A.colgroups,Me=>{const ze=[];for(let nt=0;nt<A.grid.columns;nt++){const Ot=hs.getColumnAt(A,nt).map(_t=>es(_t.element,j,!1)).getOrThunk(()=>es($.colGap(),!0,!1));ze.push(Ot)}ue.push(Xs(Me.element,ze,"colgroup",j))});for(let Me=0;Me<A.grid.rows;Me++){const ze=[];for(let _t=0;_t<A.grid.columns;_t++){const Kt=hs.getAt(A,Me,_t).map(Cn=>es(Cn.element,j,Cn.isLocked)).getOrThunk(()=>es($.gap(),!0,!1));ze.push(Kt)}const nt=A.all[Me],Ot=Xs(nt.element,ze,nt.section,j);ue.push(Ot)}return ue},el=(A,$)=>x0(A,$,!1),oi=A=>Ga(A,or),nf=(A,$)=>te(A.all,j=>Y(j.cells,ue=>or($,ue.element))),dw=(A,$,j)=>{const ue=de($.selection,ze=>Kv(ze).bind(nt=>nf(A,nt)).filter(j)),Me=Ha(ue);return Zu(Me.length>0,Me)},ql=(A,$,j,ue,Me)=>(ze,nt,Ot,_t)=>{const Kt=hs.fromTable(ze),Cn=E.from(_t==null?void 0:_t.section).getOrThunk(_g.fallback);return $(Kt,nt).map($r=>{const Rr=el(Kt,Ot),Kn=A(Rr,$r,or,Me(Ot),Cn),Ir=Ui(Kn.grid),jn=oi(Kn.grid);return{info:$r,grid:jn,cursor:Kn.cursor,lockedColumns:Ir}}).bind($r=>{const Rr=sx(ze,$r.grid),Kn=E.from(_t==null?void 0:_t.sizing).getOrThunk(()=>Ac.getTableSize(ze)),Ir=E.from(_t==null?void 0:_t.resize).getOrThunk(cw);return j(ze,$r.grid,$r.info,{sizing:Kn,resize:Ir,section:Cn}),ue(ze),rn(ze,r0),$r.lockedColumns.length>0&&dt(ze,r0,$r.lockedColumns.join(",")),E.some({cursor:$r.cursor,newRows:Rr.newRows,newCells:Rr.newCells})})},Qy=(A,$)=>Kv($.element).bind(j=>nf(A,j).map(ue=>({...ue,generators:$.generators,clipboard:$.clipboard}))),S0=(A,$)=>dw(A,$,B).map(j=>({cells:j,generators:$.generators,clipboard:$.clipboard})),Mh=(A,$)=>$.mergable,w0=(A,$)=>$.unmergable,Rg=(A,$)=>dw(A,$,B),_m=(A,$)=>dw(A,$,j=>!j.isLocked),KM=(A,$)=>nf(A,$).exists(j=>!j.isLocked),gk=(A,$)=>Ce($,j=>KM(A,j)),f9=(A,$)=>Mh(A,$).filter(j=>gk(A,j.cells)),d9=(A,$)=>w0(A,$).filter(j=>gk(A,j)),id=(A,$,j,ue)=>{const Me=Hi(A).rows;if(Me.length===0)return A;for(let ze=$.startRow;ze<=$.finishRow;ze++)for(let nt=$.startCol;nt<=$.finishCol;nt++){const Ot=Me[ze],_t=sc(Ot,nt).isLocked;ym(Ot,nt,es(ue(),!1,_t))}return A},Ec=(A,$,j,ue)=>{const Me=Hi(A).rows;let ze=!0;for(let nt=0;nt<Me.length;nt++)for(let Ot=0;Ot<su(Me[0]);Ot++){const _t=Me[nt],Kt=sc(_t,Ot),Cn=Kt.element,ir=j(Cn,$);ir&&!ze?ym(_t,Ot,es(ue(),!0,Kt.isLocked)):ir&&(ze=!1)}return A},JM=(A,$)=>ne(A,(j,ue)=>ae(j,Me=>$(Me.element,ue.element))?j:j.concat([ue]),[]),eE=(A,$,j,ue)=>($>0&&$<A[0].cells.length&&ee(A,Me=>{const ze=Me.cells[$-1];let nt=0;const Ot=ue();for(;Me.cells.length>$+nt&&j(ze.element,Me.cells[$+nt].element);)ym(Me,$+nt,es(Ot,!0,Me.cells[$+nt].isLocked)),nt++}),A),Dg=(A,$,j,ue)=>{const Me=Hi(A).rows;if($>0&&$<Me.length){const ze=Me[$-1].cells,nt=JM(ze,j);ee(nt,Ot=>{let _t=E.none();for(let Kt=$;Kt<Me.length;Kt++)for(let Cn=0;Cn<su(Me[0]);Cn++){const ir=Me[Kt],$r=sc(ir,Cn);j($r.element,Ot.element)&&(_t.isNone()&&(_t=E.some(ue())),_t.each(Kn=>{ym(ir,Cn,es(Kn,!0,$r.isLocked))}))}})}return A},Fy=A=>{const $=ze=>ze(A),j=M(A),ue=()=>Me,Me={tag:!0,inner:A,fold:(ze,nt)=>nt(A),isValue:B,isError:F,map:ze=>Eh.value(ze(A)),mapError:ue,bind:$,exists:$,forall:$,getOr:j,or:ue,getOrThunk:j,orThunk:ue,getOrDie:j,each:ze=>{ze(A)},toOptional:()=>E.some(A)};return Me},ax=A=>{const $=()=>j,j={tag:!1,inner:A,fold:(ue,Me)=>ue(A),isValue:F,isError:B,map:$,mapError:ue=>Eh.error(ue(A)),bind:$,exists:F,forall:B,getOr:I,or:I,getOrThunk:U,orThunk:U,getOrDie:z(String(A)),each:w,toOptional:E.none};return j},Eh={value:Fy,error:ax,fromOption:(A,$)=>A.fold(()=>ax($),Fy)},T0=(A,$,j)=>{if(A.row>=$.length||A.column>su($[0]))return Eh.error("invalid start address out of table bounds, row: "+A.row+", column: "+A.column);const ue=$.slice(A.row),Me=ue[0].cells.slice(A.column),ze=su(j[0]),nt=j.length;return Eh.value({rowDelta:ue.length-nt,colDelta:Me.length-ze})},C0=(A,$)=>{const j=su(A[0]),ue=su($[0]);return{rowDelta:0,colDelta:j-ue}},k0=(A,$)=>{const j=A.length,ue=$.length;return{rowDelta:j-ue,colDelta:0}},ov=(A,$,j,ue)=>{const Me=$.section==="colgroup"?j.col:j.cell;return q(A,ze=>es(Me(),!0,ue(ze)))},pk=(A,$,j,ue)=>{const Me=A[A.length-1];return A.concat(q($,()=>{const ze=Me.section==="colgroup"?j.colgroup:j.row,nt=Sy(Me,ze,I),Ot=ov(nt.cells.length,nt,j,_t=>Ye(ue,_t.toString()));return Oy(nt,Ot)}))},yi=(A,$,j,ue)=>de(A,Me=>{const ze=ov($,Me,j,F);return Zc(Me,ue,ze)}),vk=(A,$,j)=>de(A,ue=>ne(j,(Me,ze)=>{const nt=ov(1,ue,$,B)[0];return Sh(Me,ze,nt)},ue)),A0=(A,$,j)=>{const ue=$.colDelta<0?yi:I,Me=$.rowDelta<0?pk:I,ze=Ui(A),nt=su(A[0]),Ot=ae(ze,Cn=>Cn===nt-1),_t=ue(A,Math.abs($.colDelta),j,Ot?nt-1:nt),Kt=Ui(_t);return Me(_t,Math.abs($.rowDelta),j,Ve(Kt,B))},yk=(A,$,j,ue)=>{const Me=sc(A[$],j),ze=N(ue,Me.element),nt=A[$];return A.length>1&&su(nt)>1&&(j>0&&ze(wi(nt,j-1))||j<nt.cells.length-1&&ze(wi(nt,j+1))||$>0&&ze(wi(A[$-1],j))||$<A.length-1&&ze(wi(A[$+1],j)))},lx=(A,$,j,ue,Me,ze)=>{const nt=A.row,Ot=A.column,_t=j.length,Kt=su(j[0]),Cn=nt+_t,ir=Ot+Kt+ze.length,$r=Ve(ze,B);for(let Rr=nt;Rr<Cn;Rr++){let Kn=0;for(let Ir=Ot;Ir<ir;Ir++){if($r[Ir]){Kn++;continue}yk($,Rr,Ir,Me)&&Ec($,wi($[Rr],Ir),Me,ue.cell);const jn=Ir-Ot-Kn,io=sc(j[Rr-nt],jn),$o=io.element,os=ue.replace($o);ym($[Rr],Ir,es(os,!0,io.isLocked))}}return $},ic=(A,$,j)=>{const ue=su($[0]),Me=Hi($).cols.length+A.row,ze=q(ue-A.column,Ot=>Ot+A.column),nt=Y(ze,Ot=>Ce(j,_t=>_t!==Ot)).getOr(ue-1);return{row:Me,column:nt}},rf=(A,$,j)=>Be(j,ue=>ue>=A.column&&ue<=su($[0])+A.column),bk=(A,$,j,ue,Me)=>{const ze=Ui($),nt=ic(A,$,ze),Ot=Hi(j).rows,_t=rf(nt,Ot,ze);return T0(nt,$,Ot).map(Cn=>{const ir={...Cn,colDelta:Cn.colDelta-_t.length},$r=A0($,ir,ue),Rr=Ui($r),Kn=rf(nt,Ot,Rr);return lx(nt,$r,Ot,ue,Me,Kn)})},cx=(A,$,j,ue,Me)=>{eE($,A,Me,ue.cell);const ze=k0(j,$),nt=A0(j,ze,ue),Ot=k0($,nt),_t=A0($,Ot,ue);return de(_t,(Kt,Cn)=>Zc(Kt,A,nt[Cn].cells))},sv=(A,$,j,ue,Me)=>{Dg($,A,Me,ue.cell);const ze=Ui($),nt=C0($,j),Ot={...nt,colDelta:nt.colDelta-ze.length},_t=A0($,Ot,ue),{cols:Kt,rows:Cn}=Hi(_t),ir=Ui(_t),$r=C0(j,$),Rr={...$r,colDelta:$r.colDelta+ir.length},Kn=vk(j,ue,ir),Ir=A0(Kn,Rr,ue);return[...Kt,...Cn.slice(0,A),...Ir,...Cn.slice(A,Cn.length)]},tE=(A,$,j,ue)=>Sy(A,Me=>ue(Me,j),$),Ok=(A,$,j,ue,Me)=>{const{rows:ze,cols:nt}=Hi(A),Ot=ze.slice(0,$),_t=ze.slice($),Kt=tE(ze[j],(Cn,ir)=>$>0&&$<ze.length&&ue(wi(ze[$-1],ir),wi(ze[$],ir))?sc(ze[$],ir):es(Me(Cn.element,ue),!0,Cn.isLocked),ue,Me);return[...nt,...Ot,Kt,..._t]},hw=(A,$,j,ue,Me,ze,nt)=>{if(j==="colgroup"||!ue){const Ot=sc(A,Me);return es(nt(Ot.element,ze),!0,!1)}else return sc(A,$)},Eu=(A,$,j,ue,Me)=>de(A,ze=>{const nt=$>0&&$<su(ze)&&ue(wi(ze,$-1),wi(ze,$)),Ot=hw(ze,$,ze.section,nt,j,ue,Me);return Sh(ze,$,Ot)}),ux=(A,$)=>Le(A,j=>{const ue=j.cells,Me=pe($,(ze,nt)=>nt>=0&&nt<ze.length?ze.slice(0,nt).concat(ze.slice(nt+1)):ze,ue);return Me.length>0?[Xs(j.element,Me,j.section,j.isNew)]:[]}),Ai=(A,$,j)=>{const{rows:ue,cols:Me}=Hi(A);return[...Me,...ue.slice(0,$),...ue.slice(j+1)]},Zd=(A,$,j,ue)=>wi(A[$],j)!==void 0&&$>0&&ue(wi(A[$-1],j),wi(A[$],j)),P0=(A,$,j)=>$>0&&j(wi(A,$-1),wi(A,$)),$g=(A,$,j,ue)=>Zd(A,$,j,ue)||P0(A[$],j,ue),av=(A,$)=>Ce($,I)&&ex(A.cells)?B:(ue,Me,ze)=>!(wn(ue.element)==="th"&&$[ze]),iv=(A,$)=>Ce($,I)&&ex(A)?B:(ue,Me,ze)=>!(wn(ue.element)==="th"&&$[Me]),Rm=(A,$,j,ue)=>{const Me=nt=>nt==="row"?xc($):Ml($),ze=nt=>Me(nt)?`${nt}group`:nt;return A?y0($)?ze(j):null:ue&&y0($)?ze(j==="row"?"col":"row"):null},xk=(A,$)=>(j,ue,Me)=>E.some(Rm(A,j.element,"col",$[Me])),lv=(A,$)=>(j,ue)=>E.some(Rm(A,j.element,"row",$[ue])),Lg=(A,$,j)=>es(j(A.element,$),!0,A.isLocked),cv=(A,$,j,ue,Me,ze,nt)=>{const Ot=_t=>ae($,Kt=>j(_t.element,Kt.element));return de(A,(_t,Kt)=>xy(_t,(Cn,ir)=>{if(Ot(Cn)){const $r=nt(Cn,Kt,ir)?Me(Cn,j,ue):Cn;return ze($r,Kt,ir).each(Rr=>{Tt($r.element,{scope:E.from(Rr)})}),$r}else return Cn}))},Sk=(A,$,j)=>Le(A,(ue,Me)=>$g(A,Me,$,j)?[]:[sc(ue,$)]),nE=(A,$,j)=>{const ue=A[$];return Le(ue.cells,(Me,ze)=>$g(A,$,ze,j)?[]:[Me])},mw=(A,$,j,ue,Me)=>{const ze=Hi(A).rows,nt=Le($,Cn=>Sk(ze,Cn,ue)),Ot=de(ze,Cn=>ex(Cn.cells)),_t=iv(nt,Ot),Kt=lv(j,Ot);return cv(A,nt,ue,Me,Lg,Kt,_t)},rE=(A,$,j,ue,Me,ze,nt)=>{const{cols:Ot,rows:_t}=Hi(A),Kt=_t[$[0]],Cn=Le($,jn=>nE(_t,jn,Me)),ir=de(Kt.cells,(jn,io)=>ex(Sk(_t,io,Me))),$r=[..._t];ee($,jn=>{$r[jn]=nt.transformRow(_t[jn],j)});const Rr=[...Ot,...$r],Kn=av(Kt,ir),Ir=xk(ue,ir);return cv(Rr,Cn,Me,ze,nt.transformCell,Ir,Kn)},fx=(A,$,j,ue)=>{const Me=Hi(A).rows,ze=de($,nt=>sc(Me[nt.row],nt.column));return cv(A,ze,j,ue,Lg,E.none,B)},_u={generate:A=>{if(!c(A))throw new Error("cases must be an array");if(A.length===0)throw new Error("there must be at least one case");const $=[],j={};return ee(A,(ue,Me)=>{const ze=se(ue);if(ze.length!==1)throw new Error("one and only one name per case");const nt=ze[0],Ot=ue[nt];if(j[nt]!==void 0)throw new Error("duplicate key detected:"+nt);if(nt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!c(Ot))throw new Error("case arguments must be an array");$.push(nt),j[nt]=(..._t)=>{const Kt=_t.length;if(Kt!==Ot.length)throw new Error("Wrong number of arguments to case "+nt+". Expected "+Ot.length+" ("+Ot+"), got "+Kt);return{fold:(...ir)=>{if(ir.length!==A.length)throw new Error("Wrong number of arguments to fold. Expected "+A.length+", got "+ir.length);return ir[Me].apply(null,_t)},match:ir=>{const $r=se(ir);if($.length!==$r.length)throw new Error("Wrong number of arguments to match. Expected: "+$.join(",")+`
Actual: `+$r.join(","));if(!Ce($,Kn=>me($r,Kn)))throw new Error("Not all branches were specified when using match. Specified: "+$r.join(", ")+`
Required: `+$.join(", "));return ir[nt].apply(null,_t)},log:ir=>{console.log(ir,{constructors:$,constructor:nt,params:_t})}}}}),j}},M0={..._u.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Tk=(A,$)=>A.length===0?M0.none():A.length===1?M0.only(0):$===0?M0.left(0,1):$===A.length-1?M0.right($-1,$):$>0&&$<A.length-1?M0.middle($-1,$,$+1):M0.none(),oE=(A,$,j,ue,Me)=>{const ze=A.slice(0),nt=Tk(A,$),Ot=M(de(ze,M(0))),_t=$r=>ue.singleColumnWidth(ze[$r],j),Kt=($r,Rr)=>Me.calcLeftEdgeDeltas(ze,$r,Rr,j,ue.minCellWidth(),ue.isRelative),Cn=($r,Rr,Kn)=>Me.calcMiddleDeltas(ze,$r,Rr,Kn,j,ue.minCellWidth(),ue.isRelative),ir=($r,Rr)=>Me.calcRightEdgeDeltas(ze,$r,Rr,j,ue.minCellWidth(),ue.isRelative);return nt.fold(Ot,_t,Kt,Cn,ir)},Vy=(A,$,j)=>{let ue=0;for(let Me=A;Me<$;Me++)ue+=j[Me]!==void 0?j[Me]:0;return ue},Ig=(A,$)=>{const j=hs.justCells(A);return de(j,ue=>{const Me=Vy(ue.column,ue.column+ue.colspan,$);return{element:ue.element,width:Me,colspan:ue.colspan}})},dx=(A,$)=>{const j=hs.justColumns(A);return de(j,(ue,Me)=>({element:ue.element,width:$[Me],colspan:ue.colspan}))},Rs=(A,$)=>{const j=hs.justCells(A);return de(j,ue=>{const Me=Vy(ue.row,ue.row+ue.rowspan,$);return{element:ue.element,height:Me,rowspan:ue.rowspan}})},Ru=(A,$)=>de(A.all,(j,ue)=>({element:j.element,height:$[ue]})),Hd=A=>pe(A,($,j)=>$+j,0),pw=(A,$)=>hs.hasColumns(A)?dx(A,$):Ig(A,$),ha=(A,$,j)=>{const ue=pw(A,$);ee(ue,Me=>{j.setElementWidth(Me.element,Me.width)})},zy=(A,$,j,ue,Me)=>{const ze=hs.fromTable(A),nt=Me.getCellDelta($),Ot=Me.getWidths(ze,Me),_t=j===ze.grid.columns-1,Kt=ue.clampTableDelta(Ot,j,nt,Me.minCellWidth(),_t),Cn=oE(Ot,j,Kt,Me,ue),ir=de(Cn,($r,Rr)=>$r+Ot[Rr]);ha(ze,ir,Me),ue.resizeTable(Me.adjustTableWidth,Kt,_t)},vw=(A,$,j,ue)=>{const Me=hs.fromTable(A),ze=Mn(Me,A,ue),nt=de(ze,(Cn,ir)=>j===ir?Math.max($+Cn,Pf()):Cn),Ot=Rs(Me,nt),_t=Ru(Me,nt);ee(_t,Cn=>{_l(Cn.element,Cn.height)}),ee(Ot,Cn=>{_l(Cn.element,Cn.height)});const Kt=Hd(nt);_l(A,Kt)},ul=(A,$,j,ue,Me)=>{const ze=hs.generate($),nt=ue.getWidths(ze,ue),Ot=ue.pixelWidth(),{newSizes:_t,delta:Kt}=Me.calcRedestributedWidths(nt,Ot,j.pixelDelta,ue.isRelative);ha(ze,_t,ue),ue.adjustTableWidth(Kt)},_h=(A,$,j,ue)=>{const Me=hs.generate($),ze=ue.getWidths(Me,ue);ha(Me,ze,ue)},Ng=A=>ne(A,(j,ue)=>ae(j,ze=>ze.column===ue.column)?j:j.concat([ue]),[]).sort((j,ue)=>j.column-ue.column),yw=He("col"),hx=He("colgroup"),Zy=A=>wn(A)==="tr"||hx(A),bw=A=>{const $=Da(A,"colspan",1),j=Da(A,"rowspan",1);return{element:A,colspan:$,rowspan:j}},mx=(A,$=bw)=>{const j=Ot=>yw(Ot.element)?A.col(Ot):A.cell(Ot),ue=Ot=>hx(Ot.element)?A.colgroup(Ot):A.row(Ot),Me=Ot=>{if(Zy(Ot))return ue({element:Ot});{const _t=Ot,Kt=j($(_t));return ze=E.some({item:_t,replacement:Kt}),Kt}};let ze=E.none();return{getOrInit:(Ot,_t)=>ze.fold(()=>Me(Ot),Kt=>_t(Ot,Kt.item)?Kt.replacement:Me(Ot))}},Rh=A=>$=>{const j=[],ue=(nt,Ot)=>Y(j,_t=>Ot(_t.item,nt)),Me=nt=>{const Ot=A==="td"?{scope:null}:{},_t=$.replace(nt,A,Ot);return j.push({item:nt,sub:_t}),_t};return{replaceOrInit:(nt,Ot)=>{if(Zy(nt)||yw(nt))return nt;{const _t=nt;return ue(_t,Ot).fold(()=>Me(_t),Kt=>Ot(nt,Kt.item)?Kt.sub:Me(_t))}}}},Dm=A=>dn(A,"scope").map($=>$.substr(0,3)),Nn={modification:mx,transform:Rh,merging:A=>({unmerge:ue=>{const Me=Dm(ue);return Me.each(ze=>dt(ue,"scope",ze)),()=>{const ze=A.cell({element:ue,colspan:1,rowspan:1});return wu(ze,"width"),wu(ue,"width"),Me.each(nt=>dt(ze,"scope",nt)),ze}},merge:ue=>{const Me=()=>{const ze=Ha(de(ue,Dm));if(ze.length===0)return E.none();{const nt=ze[0],Ot=["row","col"];return ae(ze,Kt=>Kt!==nt&&me(Ot,Kt))?E.none():E.from(nt)}};return wu(ue[0],"width"),Me().fold(()=>rn(ue[0],"scope"),ze=>dt(ue[0],"scope",ze+"group")),M(ue[0])}})},Hy=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],E0=(A,$)=>{const j=A.property().name($);return me(["ol","ul"],j)},of=(A,$)=>{const j=A.property().name($);return me(Hy,j)},Ow=(A,$)=>me(["br","img","hr","input"],A.property().name($)),Ua=qn(),gx=A=>of(Ua,A),$m=A=>E0(Ua,A),xw=A=>Ow(Ua,A),px=A=>{const $=He("br"),j=_t=>Ce(_t,Kt=>$(Kt)||xt(Kt)&&bt(Kt).trim().length===0),ue=_t=>wn(_t)==="li"||Fa(_t,$m).isSome(),Me=_t=>Ee(_t).map(Kt=>gx(Kt)?!0:xw(Kt)?wn(Kt)!=="img":!1).getOr(!1),ze=_t=>Pn(_t).bind(Kt=>{const Cn=Me(Kt);return ao(Kt).map(ir=>Cn===!0||ue(ir)||$(Kt)||gx(ir)&&!or(_t,ir)?[]:[zt.fromTag("br")])}).getOr([]),Ot=(()=>{const _t=Le(A,Kt=>{const Cn=St(Kt);return j(Cn)?[]:Cn.concat(ze(Kt))});return _t.length===0?[zt.fromTag("br")]:_t})();Tn(A[0]),on(A[0],Ot)},Sw=A=>Fd(A,!0),Uy=A=>{Mf(A).length===0&&On(A)},_0=(A,$)=>({grid:A,cursor:$}),ww=A=>te(A,$=>te($.cells,j=>{const ue=j.element;return Zu(Sw(ue),ue)})),aE=(A,$,j)=>{var ue,Me;const ze=Hi(A).rows;return E.from((Me=(ue=ze[$])===null||ue===void 0?void 0:ue.cells[j])===null||Me===void 0?void 0:Me.element).filter(Sw).orThunk(()=>ww(ze))},Yc=(A,$,j)=>{const ue=aE(A,$,j);return _0(A,ue)},fl=A=>ne(A,(j,ue)=>ae(j,ze=>ze.row===ue.row)?j:j.concat([ue]),[]).sort((j,ue)=>j.row-ue.row),Kl=(A,$,j,ue)=>{const Me=$[0].row,ze=fl($),nt=pe(ze,(Ot,_t)=>({grid:Ok(Ot.grid,Me,_t.row+Ot.delta,j,ue.getOrInit),delta:Ot.delta+1}),{grid:A,delta:0}).grid;return Yc(nt,Me,$[0].column)},Xc=(A,$,j,ue)=>{const Me=fl($),ze=Me[Me.length-1],nt=ze.row+ze.rowspan,Ot=pe(Me,(_t,Kt)=>Ok(_t,nt,Kt.row,j,ue.getOrInit),A);return Yc(Ot,nt,$[0].column)},lc=(A,$,j,ue)=>{const Me=$.details,ze=Ng(Me),nt=ze[0].column,Ot=pe(ze,(_t,Kt)=>({grid:Eu(_t.grid,nt,Kt.column+_t.delta,j,ue.getOrInit),delta:_t.delta+1}),{grid:A,delta:0}).grid;return Yc(Ot,Me[0].row,nt)},_c=(A,$,j,ue)=>{const Me=$.details,ze=Me[Me.length-1],nt=ze.column+ze.colspan,Ot=Ng(Me),_t=pe(Ot,(Kt,Cn)=>Eu(Kt,nt,Cn.column,j,ue.getOrInit),A);return Yc(_t,Me[0].row,nt)},dl=(A,$,j,ue)=>{const Me=Ng($),ze=de(Me,Ot=>Ot.column),nt=mw(A,ze,!0,j,ue.replaceOrInit);return Yc(nt,$[0].row,$[0].column)},Tw=(A,$,j,ue)=>{const Me=fx(A,$,j,ue.replaceOrInit);return Yc(Me,$[0].row,$[0].column)},Wy=(A,$,j,ue)=>{const Me=Ng($),ze=de(Me,Ot=>Ot.column),nt=mw(A,ze,!1,j,ue.replaceOrInit);return Yc(nt,$[0].row,$[0].column)},Cw=(A,$,j,ue)=>{const Me=fx(A,$,j,ue.replaceOrInit);return Yc(Me,$[0].row,$[0].column)},Yy=(A,$)=>(j,ue,Me,ze,nt)=>{const Ot=fl(ue),_t=de(Ot,Cn=>Cn.row),Kt=rE(j,_t,A,$,Me,ze.replaceOrInit,nt);return Yc(Kt,ue[0].row,ue[0].column)},kw=Yy("thead",!0),Ck=Yy("tbody",!1),vx=Yy("tfoot",!1),Aw=(A,$,j,ue)=>{const Me=Ng($.details),ze=ux(A,de(Me,Ot=>Ot.column)),nt=ze.length>0?ze[0].cells.length-1:0;return Yc(ze,Me[0].row,Math.min(Me[0].column,nt))},iE=(A,$,j,ue)=>{const Me=fl($),ze=Ai(A,Me[0].row,Me[Me.length-1].row),nt=ze.length>0?ze.length-1:0;return Yc(ze,Math.min($[0].row,nt),$[0].column)},lE=(A,$,j,ue)=>{const Me=$.cells;px(Me);const ze=id(A,$.bounds,j,ue.merge(Me));return _0(ze,E.from(Me[0]))},kk=(A,$,j,ue)=>{const ze=pe($,(nt,Ot)=>Ec(nt,Ot,j,ue.unmerge(Ot)),A);return _0(ze,E.from($[0]))},cE=(A,$,j,ue)=>{const ze=((_t,Kt)=>{const Cn=hs.fromTable(_t);return x0(Cn,Kt,!0)})($.clipboard,$.generators),nt=ko($.row,$.column);return bk(nt,A,ze,$.generators,j).fold(()=>_0(A,E.some($.element)),_t=>Yc(_t,$.row,$.column))},R0=(A,$,j)=>{const ue=RO(A,j.section),Me=hs.generate(ue);return x0(Me,$,!0)},yx=(A,$,j,ue)=>{const Me=Hi(A).rows,ze=$.cells[0].column,nt=Me[$.cells[0].row],Ot=R0($.clipboard,$.generators,nt),_t=cx(ze,A,Ot,$.generators,j);return Yc(_t,$.cells[0].row,$.cells[0].column)},Ak=(A,$,j,ue)=>{const Me=Hi(A).rows,ze=$.cells[$.cells.length-1].column+$.cells[$.cells.length-1].colspan,nt=Me[$.cells[0].row],Ot=R0($.clipboard,$.generators,nt),_t=cx(ze,A,Ot,$.generators,j);return Yc(_t,$.cells[0].row,$.cells[0].column)},h9=(A,$,j,ue)=>{const Me=Hi(A).rows,ze=$.cells[0].row,nt=Me[ze],Ot=R0($.clipboard,$.generators,nt),_t=sv(ze,A,Ot,$.generators,j);return Yc(_t,$.cells[0].row,$.cells[0].column)},lu=(A,$,j,ue)=>{const Me=Hi(A).rows,ze=$.cells[$.cells.length-1].row+$.cells[$.cells.length-1].rowspan,nt=Me[$.cells[0].row],Ot=R0($.clipboard,$.generators,nt),_t=sv(ze,A,Ot,$.generators,j);return Yc(_t,$.cells[0].row,$.cells[0].column)},m9=(A,$)=>{const j=hs.fromTable(A);return Rg(j,$).bind(Me=>{const ze=Me[Me.length-1],nt=Me[0].column,Ot=ze.column+ze.colspan,_t=Oe(de(j.all,Kt=>Be(Kt.cells,Cn=>Cn.column>=nt&&Cn.column<Ot)));return b0(_t)}).getOr("")},Ud=(A,$)=>{const j=hs.fromTable(A);return Rg(j,$).bind(b0).getOr("")},pr=(A,$)=>{const j=hs.fromTable(A);return Rg(j,$).bind(Me=>{const ze=Me[Me.length-1],nt=Me[0].row,Ot=ze.row+ze.rowspan,_t=j.all.slice(nt,Ot);return jM(_t)}).getOr("")},Pw=(A,$,j,ue)=>_h(A,$,j,ue.sizing),hl=(A,$,j,ue)=>ul(A,$,j,ue.sizing,ue.resize),Pk=(A,$)=>ae($,j=>j.column===0&&j.isLocked),bx=(A,$)=>ae($,j=>j.column+j.colspan>=A.grid.columns&&j.isLocked),Mw=(A,$)=>{const j=Om(A),ue=Ng($);return ne(ue,(Me,ze)=>{const Ot=j[ze.column].map(_f).getOr(0);return Me+Ot},0)},cu=A=>($,j)=>Rg($,j).filter(ue=>!(A?Pk:bx)($,ue)).map(ue=>({details:ue,pixelDelta:Mw($,ue)})),uE=(A,$)=>_m(A,$).map(j=>({details:j,pixelDelta:-Mw(A,j)})),Mk=A=>($,j)=>S0($,j).filter(ue=>!(A?Pk:bx)($,ue.cells)),uu=Nn.transform("th"),D0=Nn.transform("td"),Xy=ql(Kl,Rg,w,w,Nn.modification),Dh=ql(Xc,Rg,w,w,Nn.modification),ld=ql(lc,cu(!0),hl,w,Nn.modification),Wr=ql(_c,cu(!1),hl,w,Nn.modification),sf=ql(Aw,uE,hl,Uy,Nn.modification),Ek=ql(iE,Rg,w,Uy,Nn.modification),_k=ql(dl,_m,w,w,uu),Ew=ql(Wy,_m,w,w,D0),Rk=ql(kw,_m,w,w,uu),_w=ql(Ck,_m,w,w,D0),Rw=ql(vx,_m,w,w,D0),fE=ql(Tw,_m,w,w,uu),Dw=ql(Cw,_m,w,w,D0),dE=ql(lE,f9,Pw,w,Nn.merging),Rc=ql(kk,d9,Pw,w,Nn.merging),Gy=ql(cE,Qy,Pw,w,Nn.modification),hE=ql(yx,Mk(!0),w,w,Nn.modification),mE=ql(Ak,Mk(!1),w,w,Nn.modification),$w=ql(h9,S0,w,w,Nn.modification),gE=ql(lu,S0,w,w,Nn.modification),Dk=m9,$k=Ud,jy=pr,Lk=(A,$)=>A.dispatch("NewRow",{node:$}),Lw=(A,$)=>A.dispatch("NewCell",{node:$}),uv=(A,$,j)=>{A.dispatch("TableModified",{...j,table:$})},pE=(A,$,j,ue,Me)=>{A.dispatch("TableSelectionChange",{cells:$,start:j,finish:ue,otherCells:Me})},vE=A=>{A.dispatch("TableSelectionClear")},Iw=(A,$,j,ue,Me)=>{A.dispatch("ObjectResizeStart",{target:$,width:j,height:ue,origin:Me})},yE=(A,$,j,ue,Me)=>{A.dispatch("ObjectResized",{target:$,width:j,height:ue,origin:Me})},Lm={structure:!1,style:!0},gs={structure:!0,style:!1},Nw={structure:!0,style:!0},Dc=(A,$)=>Lf(A)?Ac.percentageSize($):Xl(A)?Ac.pixelSize($):Ac.getTableSize($),Ox=(A,$,j)=>{const ue=jc=>wn(ZO(jc))==="table",Me=jc=>!ue(A)||v0(jc).rows>1,ze=jc=>!ue(A)||v0(jc).columns>1,nt=$i(A),Ot=ea(A)?w:lw,_t=jc=>{switch(Ji(A)){case"section":return _g.section();case"sectionCells":return _g.sectionCells();case"cells":return _g.cells();default:return _g.getTableSectionType(jc,"section")}},Kt=(jc,RT)=>RT.cursor.fold(()=>{const Pb=Mf(jc);return re(Pb).filter(oa).map(Qh=>{j.clearSelectedCells(jc.dom);const dc=A.dom.createRng();return dc.selectNode(Qh.dom),A.selection.setRng(dc),dt(Qh,"data-mce-selected","1"),dc})},Pb=>{const Qh=uk(Pb),dc=A.dom.createRng();return dc.setStart(Qh.element.dom,Qh.offset),dc.setEnd(Qh.element.dom,Qh.offset),A.selection.setRng(dc),j.clearSelectedCells(jc.dom),E.some(dc)}),Cn=(jc,RT,Pb,Qh)=>(dc,Mb,DA=!1)=>{Vd(dc);const $A=zt.fromDom(A.getDoc()),i1=js(Pb,$A,nt),LA={sizing:Dc(A,dc),resize:ea(A)?fk():cw(),section:_t(dc)};return RT(dc)?jc(dc,Mb,i1,LA).bind(e2=>{$.refresh(dc.dom),ee(e2.newRows,xv=>{Lk(A,xv.dom)}),ee(e2.newCells,xv=>{Lw(A,xv.dom)});const IA=Kt(dc,e2);return oa(dc)&&(Vd(dc),DA||uv(A,dc.dom,Qh)),IA.map(xv=>({rng:xv,effect:Qh}))}):E.none()},ir=Cn(Ek,Me,w,gs),$r=Cn(sf,ze,w,gs),Rr=Cn(Xy,B,w,gs),Kn=Cn(Dh,B,w,gs),Ir=Cn(ld,B,Ot,gs),jn=Cn(Wr,B,Ot,gs),io=Cn(dE,B,w,gs),$o=Cn(Rc,B,w,gs),os=Cn(hE,B,w,gs),za=Cn(mE,B,w,gs),gl=Cn($w,B,w,gs),bi=Cn(gE,B,w,gs),hu=Cn(Gy,B,w,Nw),bv=Cn(fE,B,w,gs),Ov=Cn(Dw,B,w,gs),_T=Cn(_k,B,w,gs),Jx=Cn(Ew,B,w,gs),Oa=Cn(Rk,B,w,gs),Lc=Cn(_w,B,w,gs),ec=Cn(Rw,B,w,gs);return{deleteRow:ir,deleteColumn:$r,insertRowsBefore:Rr,insertRowsAfter:Kn,insertColumnsBefore:Ir,insertColumnsAfter:jn,mergeCells:io,unmergeCells:$o,pasteColsBefore:os,pasteColsAfter:za,pasteRowsBefore:gl,pasteRowsAfter:bi,pasteCells:hu,makeCellsHeader:bv,unmakeCellsHeader:Ov,makeColumnsHeader:_T,unmakeColumnsHeader:Jx,makeRowsHeader:Oa,makeRowsBody:Lc,makeRowsFooter:ec,getTableRowType:jy,getTableCellType:$k,getTableColType:Dk}},Bw=(A,$,j)=>{const ue=Da(A,$,1);j===1||ue<=1?rn(A,$):dt(A,$,Math.min(j,ue))},Qw=(A,$)=>j=>{const ue=j.column+j.colspan-1,Me=j.column;return ue>=A&&Me<$},xx=(A,$,j)=>{if(hs.hasColumns(A)){const ue=Be(hs.justColumns(A),Qw($,j)),Me=de(ue,nt=>{const Ot=Zr(nt.element);return Bw(Ot,"span",j-$),Ot}),ze=zt.fromTag("colgroup");return on(ze,Me),[ze]}else return[]},Ik=(A,$,j)=>de(A.all,ue=>{const Me=Be(ue.cells,Qw($,j)),ze=de(Me,Ot=>{const _t=Zr(Ot.element);return Bw(_t,"colspan",j-$),_t}),nt=zt.fromTag("tr");return on(nt,ze),nt}),bE=(A,$)=>{const j=hs.fromTable(A);return _m(j,$).map(Me=>{const ze=Me[Me.length-1],nt=Me[0].column,Ot=ze.column+ze.colspan,_t=xx(j,nt,Ot),Kt=Ik(j,nt,Ot);return[..._t,...Kt]})},OE=(A,$,j)=>{const ue=hs.fromTable(A);return Rg(ue,$).bind(ze=>{const nt=x0(ue,j,!1),_t=Hi(nt).rows.slice(ze[0].row,ze[ze.length-1].row+ze[ze.length-1].rowspan),Kt=Le(_t,ir=>{const $r=Be(ir.cells,Rr=>!Rr.isLocked);return $r.length>0?[{...ir,cells:$r}]:[]}),Cn=oi(Kt);return Zu(Cn.length>0,Cn)}).map(ze=>hk(ze))},$0=_u.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Nk=(A,$,j)=>{const ue=j.substring(0,j.length-A.length),Me=parseFloat(ue);return ue===Me.toString()?$(Me):$0.invalid(j)},Bg={...$0,from:A=>Vc(A,"%")?Nk("%",$0.percent,A):Vc(A,"px")?Nk("px",$0.pixels,A):$0.invalid(A)},xE=(A,$)=>de(A,j=>Bg.from(j).fold(()=>j,Me=>Me/$*100+"%",Me=>Me+"%")),L0=(A,$,j)=>{const ue=j/$;return de(A,Me=>Bg.from(Me).fold(()=>Me,nt=>nt*ue+"px",nt=>nt/100*j+"px"))},SE=(A,$)=>{const j=A.fold(()=>M(""),ue=>{const Me=ue/$;return M(Me+"px")},()=>{const ue=100/$;return M(ue+"%")});return q($,j)},Fw=(A,$,j)=>A.fold(()=>$,ue=>L0($,j,ue),ue=>xE($,j)),Bk=(A,$,j)=>{const ue=Bg.from(j),Me=Ce(A,ze=>ze==="0px")?SE(ue,A.length):Fw(ue,A,$);return Fk(Me)},fv=(A,$)=>A.length===0?$:pe(A,(j,ue)=>Bg.from(ue).fold(M(0),I,I)+j,0),wE=(A,$)=>{const j=Math.floor(A);return{value:j+$,remainder:A-j}},Qk=(A,$)=>Bg.from(A).fold(M(A),j=>j+$+"px",j=>j+$+"%"),Fk=A=>{if(A.length===0)return A;const $=pe(A,(ue,Me)=>{const ze=Bg.from(Me).fold(()=>({value:Me,remainder:0}),nt=>wE(nt,"px"),nt=>({value:nt+"%",remainder:0}));return{output:[ze.value].concat(ue.output),remainder:ue.remainder+ze.remainder}},{output:[],remainder:0}),j=$.output;return j.slice(0,j.length-1).concat([Qk(j[j.length-1],Math.round($.remainder))])},I0=Bg.from,Vk=(A,$,j)=>{ee($,ue=>{const Me=A.slice(ue.column,ue.colspan+ue.column),ze=fv(Me,ui());Xa(ue.element,"width",ze+j)})},Vw=(A,$,j)=>{ee($,(ue,Me)=>{const ze=fv([A[Me]],ui());Xa(ue.element,"width",ze+j)})},TE=(A,$,j,ue)=>{ee(j,Me=>{const ze=A.slice(Me.row,Me.rowspan+Me.row),nt=fv(ze,Pf());Xa(Me.element,"height",nt+ue)}),ee($,(Me,ze)=>{Xa(Me.element,"height",A[ze])})},zk=A=>I0(A).fold(M("px"),M("px"),M("%")),$h=(A,$,j)=>{const ue=hs.fromTable(A),Me=ue.all,ze=hs.justCells(ue),nt=hs.justColumns(ue);$.each(Ot=>{const _t=zk(Ot),Kt=Tc(A),Cn=td(ue,A),ir=Bk(Cn,Kt,Ot);hs.hasColumns(ue)?Vw(ir,nt,_t):Vk(ir,ze,_t),Xa(A,"width",Ot)}),j.each(Ot=>{const _t=zk(Ot),Kt=s0(A),Cn=kc(ue,A,Xr),ir=Bk(Cn,Kt,Ot);TE(ir,Me,ze,_t),Xa(A,"height",Ot)})},qy=$f,Ky=jS,Sx=Ku,Jy=A=>{rn(A,"width")},Nf=A=>{const $=zs(A);$h(A,E.some($),E.none()),Jy(A)},N0=A=>{const $=Ag(A);$h(A,E.some($),E.none()),Jy(A)},eb=A=>{wu(A,"width");const $=Zp(A),j=$.length>0?$:Mf(A);ee(j,ue=>{wu(ue,"width"),Jy(ue)}),Jy(A)},Qg={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},wx=()=>zt.fromTag("th"),CE=()=>zt.fromTag("td"),kE=()=>zt.fromTag("col"),Zk=(A,$,j,ue)=>{const Me=zt.fromTag("tr");for(let ze=0;ze<A;ze++){const nt=ue<$||ze<j?wx():CE();ze<j&&dt(nt,"scope","row"),ue<$&&dt(nt,"scope","col"),Mt(nt,zt.fromTag("br")),Mt(Me,nt)}return Me},AE=A=>{const $=zt.fromTag("colgroup");return q(A,()=>Mt($,kE())),$},zw=(A,$,j,ue)=>q(A,Me=>Zk($,j,ue,Me)),PE=(A,$,j,ue,Me,ze=Qg)=>{const nt=zt.fromTag("table"),Ot=Me!=="cells";Pl(nt,ze.styles),mt(nt,ze.attributes),ze.colGroups&&Mt(nt,AE($));const _t=Math.min(A,j);if(Ot&&j>0){const Rr=zt.fromTag("thead");Mt(nt,Rr);const Ir=zw(j,$,Me==="sectionCells"?_t:0,ue);on(Rr,Ir)}const Kt=zt.fromTag("tbody");Mt(nt,Kt);const Cn=Ot?A-_t:A,$r=zw(Cn,$,Ot?0:j,ue);return on(Kt,$r),nt},ME=A=>A.dom.innerHTML,Hk=A=>{const $=zt.fromTag("div"),j=zt.fromDom(A.dom.cloneNode(!0));return Mt($,j),ME($)},EE=(A,$)=>{A.selection.select($.dom,!0),A.selection.collapse(!0)},Uk=(A,$)=>{ci($,"td,th").each(N(EE,A))},_E=(A,$)=>{ee(zi($,"tr"),j=>{Lk(A,j.dom),ee(zi(j,"th,td"),ue=>{Lw(A,ue.dom)})})},Tx=A=>f(A)&&A.indexOf("%")!==-1,RE=(A,$,j,ue,Me)=>{const ze=Qd(A),nt={styles:ze,attributes:Mc(A),colGroups:ef(A)};return A.undoManager.ignore(()=>{const Ot=PE(j,$,Me,ue,Ji(A),nt);dt(Ot,"data-mce-id","__mce");const _t=Hk(Ot);A.insertContent(_t),A.addVisual()}),ci(ZO(A),'table[data-mce-id="__mce"]').map(Ot=>(Xl(A)?N0(Ot):Li(A)?eb(Ot):(Lf(A)||Tx(ze.width))&&Nf(Ot),Vd(Ot),rn(Ot,"data-mce-id"),_E(A,Ot),Uk(A,Ot),Ot.dom)).getOrNull()},Wk=(A,$,j,ue={})=>{const Me=ze=>k(ze)&&ze>0;if(Me($)&&Me(j)){const ze=ue.headerRows||0,nt=ue.headerColumns||0;return RE(A,j,$,nt,ze)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var B0=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Zw="x-tinymce/dom-table-",Hw=Zw+"rows",Uw=Zw+"columns",Yk=A=>{const $=B0.FakeClipboardItem(A);B0.write([$])},Ww=A=>{var $;const j=($=B0.read())!==null&&$!==void 0?$:[];return te(j,ue=>E.from(ue.getType(A)))},DE=A=>{Ww(A).isSome()&&B0.clear()},Cx=A=>{A.fold($E,$=>Yk({[Hw]:$}))},kx=()=>Ww(Hw),$E=()=>DE(Hw),Yw=A=>{A.fold(LE,$=>Yk({[Uw]:$}))},Xk=()=>Ww(Uw),LE=()=>DE(Uw),Xw=A=>zd(tf(A),Th(A)).filter(UO),IE=A=>Ny(tf(A),Th(A)).filter(UO),Q0=(A,$)=>{const j=Th(A),ue=()=>Xw(A).each(jn=>{Sc(jn,j).filter(Q(j)).each(io=>{const $o=zt.fromText("");if(Ht(io,$o),On(io),A.dom.isEmpty(A.getBody()))A.setContent(""),A.selection.setCursorLocation();else{const os=A.dom.createRng();os.setStart($o.dom,0),os.setEnd($o.dom,0),A.selection.setRng(os),A.nodeChanged()}})}),Me=jn=>Xw(A).each(io=>{Li(A)||Xl(A)||Lf(A)||Sc(io,j).each(os=>{jn==="relative"&&!qy(os)?Nf(os):jn==="fixed"&&!Ky(os)?N0(os):jn==="responsive"&&!Sx(os)&&eb(os),Vd(os),uv(A,os.dom,gs)})}),ze=jn=>Sc(jn,j),nt=jn=>IE(A).bind(io=>ze(io).map($o=>jn($o,io))),Ot=(jn,io)=>{nt($o=>{A.formatter.toggle("tableclass",{value:io},$o.dom),uv(A,$o.dom,Lm)})},_t=(jn,io)=>{nt($o=>{const os=If(A),gl=Ce(os,bi=>A.formatter.match("tablecellclass",{value:io},bi.dom))?A.formatter.remove:A.formatter.apply;ee(os,bi=>gl("tablecellclass",{value:io},bi.dom)),uv(A,$o.dom,Lm)})},Kt=()=>{Xw(A).each(jn=>{Sc(jn,j).each(io=>{Ho(io,"caption").fold(()=>{const $o=zt.fromTag("caption");Mt($o,zt.fromText("Caption")),tn(io,$o,0),A.selection.setCursorLocation($o.dom,0)},$o=>{He("caption")(jn)&&kr("td",io).each(os=>A.selection.setCursorLocation(os.dom,0)),On($o)}),uv(A,io.dom,gs)})})},Cn=jn=>{A.focus()},ir=(jn,io=!1)=>nt(($o,os)=>{const za=d0(If(A),$o,os);jn($o,za,io).each(Cn)}),$r=()=>nt((jn,io)=>{const $o=d0(If(A),jn,io),os=js(w,zt.fromDom(A.getDoc()),E.none());return OE(jn,$o,os)}),Rr=()=>nt((jn,io)=>{const $o=d0(If(A),jn,io);return bE(jn,$o)}),Kn=(jn,io)=>io().each($o=>{const os=de($o,za=>Zr(za));nt((za,gl)=>{const bi=ri(zt.fromDom(A.getDoc())),hu=h0(If(A),gl,os,bi);jn(za,hu).each(Cn)})}),Ir=jn=>(io,$o)=>pt($o,"type").each(os=>{ir(jn(os),$o.no_events)});oe({mceTableSplitCells:()=>ir($.unmergeCells),mceTableMergeCells:()=>ir($.mergeCells),mceTableInsertRowBefore:()=>ir($.insertRowsBefore),mceTableInsertRowAfter:()=>ir($.insertRowsAfter),mceTableInsertColBefore:()=>ir($.insertColumnsBefore),mceTableInsertColAfter:()=>ir($.insertColumnsAfter),mceTableDeleteCol:()=>ir($.deleteColumn),mceTableDeleteRow:()=>ir($.deleteRow),mceTableCutCol:()=>Rr().each(jn=>{Yw(jn),ir($.deleteColumn)}),mceTableCutRow:()=>$r().each(jn=>{Cx(jn),ir($.deleteRow)}),mceTableCopyCol:()=>Rr().each(jn=>Yw(jn)),mceTableCopyRow:()=>$r().each(jn=>Cx(jn)),mceTablePasteColBefore:()=>Kn($.pasteColsBefore,Xk),mceTablePasteColAfter:()=>Kn($.pasteColsAfter,Xk),mceTablePasteRowBefore:()=>Kn($.pasteRowsBefore,kx),mceTablePasteRowAfter:()=>Kn($.pasteRowsAfter,kx),mceTableDelete:ue,mceTableCellToggleClass:_t,mceTableToggleClass:Ot,mceTableToggleCaption:Kt,mceTableSizingMode:(jn,io)=>Me(io),mceTableCellType:Ir(jn=>jn==="th"?$.makeCellsHeader:$.unmakeCellsHeader),mceTableColType:Ir(jn=>jn==="th"?$.makeColumnsHeader:$.unmakeColumnsHeader),mceTableRowType:Ir(jn=>{switch(jn){case"header":return $.makeRowsHeader;case"footer":return $.makeRowsFooter;default:return $.makeRowsBody}})},(jn,io)=>A.addCommand(io,jn)),A.addCommand("mceInsertTable",(jn,io)=>{Wk(A,io.rows,io.columns,io.options)}),A.addCommand("mceTableApplyCellStyle",(jn,io)=>{const $o=gl=>"tablecell"+gl.toLowerCase().replace("-","");if(!h(io))return;const os=Be(If(A),UO);if(os.length===0)return;const za=Ze(io,(gl,bi)=>A.formatter.has($o(bi))&&f(gl));et(za)||(oe(za,(gl,bi)=>{const hu=$o(bi);ee(os,bv=>{gl===""?A.formatter.remove(hu,{value:null},bv.dom,!0):A.formatter.apply(hu,{value:gl},bv.dom)})}),ze(os[0]).each(gl=>uv(A,gl.dom,Lm)))})},NE=(A,$)=>{const j=Th(A),ue=Me=>Ny(tf(A)).bind(ze=>Sc(ze,j).map(nt=>{const Ot=d0(If(A),nt,ze);return Me(nt,Ot)})).getOr("");oe({mceTableRowType:()=>ue($.getTableRowType),mceTableCellType:()=>ue($.getTableCellType),mceTableColType:()=>ue($.getTableColType)},(Me,ze)=>A.addQueryValueHandler(ze,Me))},Gw=_u.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),BE=(A,$,j,ue)=>A.fold($,j,ue),QE=A=>A.fold(I,I,I),FE=Gw.before,Gk=Gw.on,VE=Gw.after,Dl={before:FE,on:Gk,after:VE,cata:BE,getStart:QE},F0={create:(A,$)=>({selection:A,kill:$})},Ax=(A,$)=>{const j=A.document.createRange();return j.selectNode($.dom),j},jk=(A,$)=>{const j=A.document.createRange();return jw(j,$),j},jw=(A,$)=>A.selectNodeContents($.dom),qk=(A,$)=>{$.fold(j=>{A.setStartBefore(j.dom)},(j,ue)=>{A.setStart(j.dom,ue)},j=>{A.setStartAfter(j.dom)})},Kk=(A,$)=>{$.fold(j=>{A.setEndBefore(j.dom)},(j,ue)=>{A.setEnd(j.dom,ue)},j=>{A.setEndAfter(j.dom)})},dv=(A,$,j)=>{const ue=A.document.createRange();return qk(ue,$),Kk(ue,j),ue},tb=(A,$,j,ue,Me)=>{const ze=A.document.createRange();return ze.setStart($.dom,j),ze.setEnd(ue.dom,Me),ze},zE=A=>({left:A.left,top:A.top,right:A.right,bottom:A.bottom,width:A.width,height:A.height}),ZE=A=>{const $=A.getClientRects(),j=$.length>0?$[0]:A.getBoundingClientRect();return j.width>0||j.height>0?E.some(j).map(zE):E.none()},nb=_u.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),qw=(A,$,j)=>$(zt.fromDom(j.startContainer),j.startOffset,zt.fromDom(j.endContainer),j.endOffset),Jk=(A,$)=>$.match({domRange:j=>({ltr:M(j),rtl:E.none}),relative:(j,ue)=>({ltr:bh(()=>dv(A,j,ue)),rtl:bh(()=>E.some(dv(A,ue,j)))}),exact:(j,ue,Me,ze)=>({ltr:bh(()=>tb(A,j,ue,Me,ze)),rtl:bh(()=>E.some(tb(A,Me,ze,j,ue)))})}),ml=(A,$)=>{const j=$.ltr();return j.collapsed?$.rtl().filter(Me=>Me.collapsed===!1).map(Me=>nb.rtl(zt.fromDom(Me.endContainer),Me.endOffset,zt.fromDom(Me.startContainer),Me.startOffset)).getOrThunk(()=>qw(A,nb.ltr,j)):qw(A,nb.ltr,j)},eA=(A,$)=>{const j=Jk(A,$);return ml(A,j)},Kw=(A,$)=>eA(A,$).match({ltr:(ue,Me,ze,nt)=>{const Ot=A.document.createRange();return Ot.setStart(ue.dom,Me),Ot.setEnd(ze.dom,nt),Ot},rtl:(ue,Me,ze,nt)=>{const Ot=A.document.createRange();return Ot.setStart(ze.dom,nt),Ot.setEnd(ue.dom,Me),Ot}});nb.ltr,nb.rtl;const V0={create:(A,$,j,ue)=>({start:A,soffset:$,finish:j,foffset:ue})},tA={create:(A,$,j,ue)=>({start:Dl.on(A,$),finish:Dl.on(j,ue)})},Jw=(A,$)=>{const j=Kw(A,$);return V0.create(zt.fromDom(j.startContainer),j.startOffset,zt.fromDom(j.endContainer),j.endOffset)},rb=tA.create,Px=(A,$,j,ue,Me,ze,nt)=>or(j,Me)&&ue===ze?E.none():ei(j,"td,th",$).bind(Ot=>ei(Me,"td,th",$).bind(_t=>z0(A,$,Ot,_t,nt))),z0=(A,$,j,ue,Me)=>or(j,ue)?E.none():sd(j,ue,$).bind(ze=>{const nt=ze.boxes.getOr([]);return nt.length>1?(Me(A,nt,ze.start,ze.finish),E.some(F0.create(E.some(rb(j,0,j,gn(j))),!0))):E.none()}),UE=(A,$,j,ue,Me)=>{const ze=nt=>(Me.clearBeforeUpdate(j),Me.selectRange(j,nt.boxes,nt.start,nt.finish),nt.boxes);return GO(ue,A,$,Me.firstSelectedSelector,Me.lastSelectedSelector).map(ze)},Fg=(A,$)=>({item:A,mode:$}),nA=(A,$,j,ue=Vg)=>A.property().parent($).map(Me=>Fg(Me,ue)),Vg=(A,$,j,ue=zg)=>j.sibling(A,$).map(Me=>Fg(Me,ue)),zg=(A,$,j,ue=zg)=>{const Me=A.property().children($);return j.first(Me).map(nt=>Fg(nt,ue))},eT=[{current:nA,next:Vg,fallback:E.none()},{current:Vg,next:zg,fallback:E.some(nA)},{current:zg,next:zg,fallback:E.some(Vg)}],rA=(A,$,j,ue,Me=eT)=>Y(Me,nt=>nt.current===j).bind(nt=>nt.current(A,$,ue,nt.next).orThunk(()=>nt.fallback.bind(Ot=>rA(A,$,Ot,ue)))),Zg={left:()=>({sibling:(j,ue)=>j.query().prevSibling(ue),first:j=>j.length>0?E.some(j[j.length-1]):E.none()}),right:()=>({sibling:(j,ue)=>j.query().nextSibling(ue),first:j=>j.length>0?E.some(j[0]):E.none()})},Lh=(A,$,j,ue,Me,ze)=>rA(A,$,ue,Me).bind(Ot=>ze(Ot.item)?E.none():j(Ot.item)?E.some(Ot.item):Lh(A,Ot.item,j,Ot.mode,Me,ze)),ob=(A,$,j,ue)=>Lh(A,$,j,Vg,Zg.left(),ue),Z0=(A,$,j,ue)=>Lh(A,$,j,Vg,Zg.right(),ue),nT=A=>$=>A.property().children($).length===0,Im=(A,$,j)=>sb(A,$,nT(A),j),Wd=(A,$,j)=>Mx(A,$,nT(A),j),sb=ob,Mx=Z0,ab=qn(),rT=(A,$)=>Im(ab,A,$),H0=(A,$)=>Wd(ab,A,$),ib=(A,$,j)=>sb(ab,A,$,j),oT=(A,$,j)=>Mx(ab,A,$,j),oA=(A,$,j)=>Fa(A,$,j).isSome(),Hg=_u.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ex=(A,$,j)=>{const ue=A.getRect($),Me=A.getRect(j);return Me.right>ue.left&&Me.left<ue.right},WE=A=>ei(A,"tr"),Pi={...Hg,verify:(A,$,j,ue,Me,ze,nt)=>ei(ue,"td,th",nt).bind(Ot=>ei($,"td,th",nt).map(_t=>or(Ot,_t)?or(ue,Ot)&&gn(Ot)===Me?ze(_t):Hg.none("in same cell"):Ca(WE,[Ot,_t]).fold(()=>Ex(A,_t,Ot)?Hg.success():ze(_t),Kt=>ze(_t)))).getOr(Hg.none("default")),cata:(A,$,j,ue,Me)=>A.fold($,j,ue,Me)},b9=(A,$,j,ue)=>({parent:A,children:$,element:j,index:ue}),Nm=A=>ao(A).bind($=>{const j=St($);return aA(j,A).map(ue=>b9($,j,A,ue))}),aA=(A,$)=>ve(A,N(or,$)),_x=He("br"),Ug=(A,$,j)=>$(A,j).bind(ue=>xt(ue)&&bt(ue).trim().length===0?Ug(ue,$,j):E.some(ue)),cc=(A,$,j)=>j.traverse($).orThunk(()=>Ug($,j.gather,A)).map(j.relative),U0=(A,$)=>Ct(A,$).filter(_x).orThunk(()=>Ct(A,$-1).filter(_x)),lb=(A,$,j,ue)=>U0($,j).bind(Me=>ue.traverse(Me).fold(()=>Ug(Me,ue.gather,A).map(ue.relative),ze=>Nm(ze).map(nt=>Dl.on(nt.parent,nt.index)))),W0=(A,$,j,ue)=>(_x($)?cc(A,$,ue):lb(A,$,j,ue)).map(ze=>({start:ze,finish:ze})),aT=A=>Pi.cata(A,$=>E.none(),()=>E.none(),$=>E.some(g0($,0)),$=>E.some(g0($,gn($)))),Y0=(A,$)=>({left:A.left,top:A.top+$,right:A.right,bottom:A.bottom+$}),hv=(A,$)=>({left:A.left,top:A.top-$,right:A.right,bottom:A.bottom-$}),Yd=(A,$,j)=>({left:A.left+$,top:A.top+j,right:A.right+$,bottom:A.bottom+j}),YE=A=>A.top,XE=A=>A.bottom,Wg=(A,$,j)=>j>=0&&j<gn($)?A.getRangedRect($,j,$,j+1):j>0?A.getRangedRect($,j-1,$,j):E.none(),X0=A=>({left:A.left,top:A.top,right:A.right,bottom:A.bottom}),Rx=(A,$)=>E.some(A.getRect($)),Ih=(A,$,j)=>ut($)?Rx(A,$).map(X0):xt($)?Wg(A,$,j).map(X0):E.none(),iT=(A,$)=>ut($)?Rx(A,$).map(X0):xt($)?A.getRangedRect($,0,$,gn($)).map(X0):E.none(),$l=5,Bm=100,cd=_u.generate([{none:[]},{retry:["caret"]}]),G0=(A,$)=>A.left<$.left||Math.abs($.right-A.left)<1||A.left>$.right,$c=(A,$,j)=>xi($,gx).fold(F,ue=>iT(A,ue).exists(Me=>G0(j,Me))),fu=(A,$,j,ue,Me)=>{const ze=Y0(Me,$l);return Math.abs(j.bottom-ue.bottom)<1||j.top>Me.bottom?cd.retry(ze):j.top===Me.bottom?cd.retry(Y0(Me,1)):$c(A,$,Me)?cd.retry(Yd(ze,$l,0)):cd.none()},ud={point:YE,adjuster:(A,$,j,ue,Me)=>{const ze=hv(Me,$l);return Math.abs(j.top-ue.top)<1||j.bottom<Me.top?cd.retry(ze):j.bottom===Me.top?cd.retry(hv(Me,1)):$c(A,$,Me)?cd.retry(Yd(ze,$l,0)):cd.none()},move:hv,gather:rT},Dx={point:XE,adjuster:fu,move:Y0,gather:H0},af=(A,$,j)=>A.elementFromPoint($,j).filter(ue=>wn(ue)==="table").isSome(),mv=(A,$,j,ue,Me)=>lT(A,$,j,$.move(ue,$l),Me),lT=(A,$,j,ue,Me)=>Me===0?E.some(ue):af(A,ue.left,$.point(ue))?mv(A,$,j,ue,Me-1):A.situsFromPoint(ue.left,$.point(ue)).bind(ze=>ze.start.fold(E.none,nt=>iT(A,nt).bind(Ot=>$.adjuster(A,nt,Ot,j,ue).fold(E.none,_t=>lT(A,$,j,_t,Me-1))).orThunk(()=>E.some(ue)),E.none)),GE=(A,$,j)=>A.point($)>j.getInnerHeight()?E.some(A.point($)-j.getInnerHeight()):A.point($)<0?E.some(-A.point($)):E.none(),iA=(A,$,j)=>{const ue=A.move(j,$l),Me=lT($,A,j,ue,Bm).getOr(ue);return GE(A,Me,$).fold(()=>$.situsFromPoint(Me.left,A.point(Me)),ze=>($.scrollBy(0,ze),$.situsFromPoint(Me.left,A.point(Me)-ze)))},cb={tryUp:N(iA,ud),tryDown:N(iA,Dx),getJumpSize:M($l)},lA=20,ub=(A,$,j)=>A.getSelection().bind(ue=>W0($,ue.finish,ue.foffset,j).fold(()=>E.some(g0(ue.finish,ue.foffset)),Me=>{const ze=A.fromSitus(Me),nt=Pi.verify(A,ue.finish,ue.foffset,ze.finish,ze.foffset,j.failure,$);return aT(nt)})),$x=(A,$,j,ue,Me,ze)=>ze===0?E.none():qE(A,$,j,ue,Me).bind(nt=>{const Ot=A.fromSitus(nt),_t=Pi.verify(A,j,ue,Ot.finish,Ot.foffset,Me.failure,$);return Pi.cata(_t,()=>E.none(),()=>E.some(nt),Kt=>or(j,Kt)&&ue===0?jE(A,j,ue,hv,Me):$x(A,$,Kt,0,Me,ze-1),Kt=>or(j,Kt)&&ue===gn(Kt)?jE(A,j,ue,Y0,Me):$x(A,$,Kt,gn(Kt),Me,ze-1))}),jE=(A,$,j,ue,Me)=>Ih(A,$,j).bind(ze=>cA(A,Me,ue(ze,cb.getJumpSize()))),cA=(A,$,j)=>{const ue=Yp().browser;return ue.isChromium()||ue.isSafari()||ue.isFirefox()?$.retry(A,j):E.none()},qE=(A,$,j,ue,Me)=>Ih(A,j,ue).bind(ze=>cA(A,Me,ze)),O9=(A,$,j)=>ub(A,$,j).bind(ue=>$x(A,$,ue.element,ue.offset,j,lA).map(A.fromSitus)),uA=(A,$)=>oA(A,j=>ao(j).exists(ue=>or(ue,$))),As=(A,$,j,ue,Me)=>ei(ue,"td,th",$).bind(ze=>ei(ze,"table",$).bind(nt=>uA(Me,nt)?O9(A,$,j).bind(Ot=>ei(Ot.finish,"td,th",$).map(_t=>({start:ze,finish:_t,range:Ot}))):E.none())),Xd=(A,$,j,ue,Me,ze)=>ze(ue,$).orThunk(()=>As(A,$,j,ue,Me).map(nt=>{const Ot=nt.range;return F0.create(E.some(rb(Ot.start,Ot.soffset,Ot.finish,Ot.foffset)),!0)})),gv=(A,$)=>ei(A,"tr",$).bind(j=>ei(j,"table",$).bind(ue=>{const Me=zi(ue,"tr");return or(j,Me[0])?ib(ue,ze=>Pn(ze).isSome(),$).map(ze=>{const nt=gn(ze);return F0.create(E.some(rb(ze,nt,ze,nt)),!0)}):E.none()})),cT=(A,$)=>ei(A,"tr",$).bind(j=>ei(j,"table",$).bind(ue=>{const Me=zi(ue,"tr");return or(j,Me[Me.length-1])?oT(ue,ze=>_n(ze).isSome(),$).map(ze=>F0.create(E.some(rb(ze,0,ze,0)),!0)):E.none()})),fA=(A,$,j,ue,Me,ze,nt)=>As(A,j,ue,Me,ze).bind(Ot=>z0($,j,Ot.start,Ot.finish,nt)),fb=A=>{let $=A;return{get:()=>$,set:Me=>{$=Me}}},KE=A=>{const $=fb(E.none()),j=()=>$.get().each(A);return{clear:()=>{j(),$.set(E.none())},isSet:()=>$.get().isSome(),get:()=>$.get(),set:Ot=>{j(),$.set(E.some(Ot))}}},j0=()=>{const A=KE(w);return{...A,on:j=>A.get().each(j)}},Lx=(A,$)=>ei(A,"td,th",$),lf=A=>Oo(A).exists(Fd),rW=(A,$,j,ue)=>{const Me=j0(),ze=Me.clear,nt=Cn=>{Me.on(ir=>{ue.clearBeforeUpdate($),Lx(Cn.target,j).each($r=>{sd(ir,$r,j).each(Rr=>{const Kn=Rr.boxes.getOr([]);if(Kn.length===1){const Ir=Kn[0],jn=Ey(Ir)==="false",io=qf(Cm(Cn.target),Ir,or);jn&&io&&(ue.selectRange($,Kn,Ir,Ir),A.selectContents(Ir))}else Kn.length>1&&(ue.selectRange($,Kn,Rr.start,Rr.finish),A.selectContents($r))})})})};return{clearstate:ze,mousedown:Cn=>{ue.clear($),Lx(Cn.target,j).filter(lf).each(Me.set)},mouseover:Cn=>{nt(Cn)},mouseup:Cn=>{nt(Cn),ze()}}},Ix={traverse:Ee,gather:H0,relative:Dl.before,retry:cb.tryDown,failure:Pi.failedDown},q0={traverse:Fe,gather:rT,relative:Dl.before,retry:cb.tryUp,failure:Pi.failedUp},Yg=A=>$=>$===A,Nx=Yg(38),Bx=Yg(40),pv=A=>A>=37&&A<=40,JE={isBackward:Yg(37),isForward:Yg(39)},dA={isBackward:Yg(39),isForward:Yg(37)},e_=A=>{const $=A!==void 0?A.dom:document,j=$.body.scrollLeft||$.documentElement.scrollLeft,ue=$.body.scrollTop||$.documentElement.scrollTop;return Gu(j,ue)},K0=(A,$,j)=>{const Me=(j!==void 0?j.dom:document).defaultView;Me&&Me.scrollBy(A,$)},Qm=_u.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),t_=A=>Qm.exact(A.start,A.soffset,A.finish,A.foffset),n_=A=>A.match({domRange:$=>zt.fromDom($.startContainer),relative:($,j)=>Dl.getStart($),exact:($,j,ue,Me)=>$}),hA=Qm.domRange,uT=Qm.relative,fT=Qm.exact,dT=A=>{const $=n_(A);return Sr($)},Qx=V0.create,Xg={domRange:hA,relative:uT,exact:fT,exactFromRange:t_,getWin:dT,range:Qx},mA=(A,$,j)=>{var ue,Me;return E.from((Me=(ue=A.dom).caretPositionFromPoint)===null||Me===void 0?void 0:Me.call(ue,$,j)).bind(ze=>{if(ze.offsetNode===null)return E.none();const nt=A.dom.createRange();return nt.setStart(ze.offsetNode,ze.offset),nt.collapse(),E.some(nt)})},db=(A,$,j)=>{var ue,Me;return E.from((Me=(ue=A.dom).caretRangeFromPoint)===null||Me===void 0?void 0:Me.call(ue,$,j))},hT=(()=>document.caretPositionFromPoint?mA:document.caretRangeFromPoint?db:E.none)(),r_=(A,$,j)=>{const ue=zt.fromDom(A.document);return hT(ue,$,j).map(Me=>V0.create(zt.fromDom(Me.startContainer),Me.startOffset,zt.fromDom(Me.endContainer),Me.endOffset))},hb=(A,$)=>{const j=wn(A);return j==="input"?Dl.after(A):me(["br","img"],j)?$===0?Dl.before(A):Dl.after(A):Dl.on(A,$)},o_=(A,$)=>{const j=A.fold(Dl.before,hb,Dl.after),ue=$.fold(Dl.before,hb,Dl.after);return Xg.relative(j,ue)},Fr=(A,$,j,ue)=>{const Me=hb(A,$),ze=hb(j,ue);return Xg.relative(Me,ze)},tl=(A,$,j,ue)=>{const ze=Rn(A).dom.createRange();return ze.setStart(A.dom,$),ze.setEnd(j.dom,ue),ze},Fm=(A,$,j,ue)=>{const Me=tl(A,$,j,ue),ze=or(A,j)&&$===ue;return Me.collapsed&&!ze},Ni=A=>E.from(A.getSelection()),Bf=(A,$)=>{Ni(A).each(j=>{j.removeAllRanges(),j.addRange($)})},Fx=(A,$,j,ue,Me)=>{const ze=tb(A,$,j,ue,Me);Bf(A,ze)},mb=(A,$,j,ue,Me,ze)=>{$.collapse(j.dom,ue),$.extend(Me.dom,ze)},Gd=(A,$)=>eA(A,$).match({ltr:(j,ue,Me,ze)=>{Fx(A,j,ue,Me,ze)},rtl:(j,ue,Me,ze)=>{Ni(A).each(nt=>{if(nt.setBaseAndExtent)nt.setBaseAndExtent(j.dom,ue,Me.dom,ze);else if(nt.extend)try{mb(A,nt,j,ue,Me,ze)}catch{Fx(A,Me,ze,j,ue)}else Fx(A,Me,ze,j,ue)})}}),Vx=(A,$,j,ue,Me)=>{const ze=Fr($,j,ue,Me);Gd(A,ze)},zx=(A,$,j)=>{const ue=o_($,j);Gd(A,ue)},J0=A=>{if(A.rangeCount>0){const $=A.getRangeAt(0),j=A.getRangeAt(A.rangeCount-1);return E.some(V0.create(zt.fromDom($.startContainer),$.startOffset,zt.fromDom(j.endContainer),j.endOffset))}else return E.none()},gA=A=>{if(A.anchorNode===null||A.focusNode===null)return J0(A);{const $=zt.fromDom(A.anchorNode),j=zt.fromDom(A.focusNode);return Fm($,A.anchorOffset,j,A.focusOffset)?E.some(V0.create($,A.anchorOffset,j,A.focusOffset)):J0(A)}},gb=(A,$,j=!0)=>{const Me=(j?jk:Ax)(A,$);Bf(A,Me)},mT=A=>Ni(A).filter($=>$.rangeCount>0).bind(gA),gT=A=>mT(A).map($=>Xg.exact($.start,$.soffset,$.finish,$.foffset)),s_=(A,$)=>{const j=Kw(A,$);return ZE(j)},jd=(A,$,j)=>r_(A,$,j),Zx=A=>{Ni(A).each($=>$.removeAllRanges())},e1=A=>({elementFromPoint:(jn,io)=>zt.fromPoint(zt.fromDom(A.document),jn,io),getRect:jn=>jn.dom.getBoundingClientRect(),getRangedRect:(jn,io,$o,os)=>{const za=Xg.exact(jn,io,$o,os);return s_(A,za)},getSelection:()=>gT(A).map(jn=>Jw(A,jn)),fromSitus:jn=>{const io=Xg.relative(jn.start,jn.finish);return Jw(A,io)},situsFromPoint:(jn,io)=>jd(A,jn,io).map($o=>tA.create($o.start,$o.soffset,$o.finish,$o.foffset)),clearSelection:()=>{Zx(A)},collapseSelection:(jn=!1)=>{gT(A).each(io=>io.fold($o=>$o.collapse(jn),($o,os)=>{const za=jn?$o:os;zx(A,za,za)},($o,os,za,gl)=>{const bi=jn?$o:za,hu=jn?os:gl;Vx(A,bi,hu,bi,hu)}))},setSelection:jn=>{Vx(A,jn.start,jn.soffset,jn.finish,jn.foffset)},setRelativeSelection:(jn,io)=>{zx(A,jn,io)},selectNode:jn=>{gb(A,jn,!1)},selectContents:jn=>{gb(A,jn)},getInnerHeight:()=>A.innerHeight,getScrollY:()=>e_(zt.fromDom(A.document)).top,scrollBy:(jn,io)=>{K0(jn,io,zt.fromDom(A.document))}}),Jl=(A,$)=>({rows:A,cols:$}),Xi=(A,$,j,ue)=>{const Me=e1(A),ze=rW(Me,$,j,ue);return{clearstate:ze.clearstate,mousedown:ze.mousedown,mouseover:ze.mouseover,mouseup:ze.mouseup}},Hx=A=>xi(A,lt).exists(Fd),pb=(A,$)=>Hx(A)||Hx($),Ux=(A,$,j,ue)=>{const Me=e1(A),ze=()=>(ue.clear($),E.none());return{keydown:(_t,Kt,Cn,ir,$r,Rr)=>{const Kn=_t.raw,Ir=Kn.which,jn=Kn.shiftKey===!0;return Pm($,ue.selectedSelector).fold(()=>(pv(Ir)&&!jn&&ue.clearBeforeUpdate($),pv(Ir)&&jn&&!pb(Kt,ir)?E.none:Bx(Ir)&&jn?N(fA,Me,$,j,Ix,ir,Kt,ue.selectRange):Nx(Ir)&&jn?N(fA,Me,$,j,q0,ir,Kt,ue.selectRange):Bx(Ir)?N(Xd,Me,j,Ix,ir,Kt,cT):Nx(Ir)?N(Xd,Me,j,q0,ir,Kt,gv):E.none),$o=>{const os=za=>()=>te(za,bi=>UE(bi.rows,bi.cols,$,$o,ue)).fold(()=>tv($,ue.firstSelectedSelector,ue.lastSelectedSelector).map(bi=>{const hu=Bx(Ir)||Rr.isForward(Ir)?Dl.after:Dl.before;return Me.setRelativeSelection(Dl.on(bi.first,0),hu(bi.table)),ue.clear($),F0.create(E.none(),!0)}),bi=>E.some(F0.create(E.none(),!0)));return pv(Ir)&&jn&&!pb(Kt,ir)?E.none:Bx(Ir)&&jn?os([Jl(1,0)]):Nx(Ir)&&jn?os([Jl(-1,0)]):Rr.isBackward(Ir)&&jn?os([Jl(0,-1),Jl(-1,0)]):Rr.isForward(Ir)&&jn?os([Jl(0,1),Jl(1,0)]):pv(Ir)&&!jn?ze:E.none})()},keyup:(_t,Kt,Cn,ir,$r)=>Pm($,ue.selectedSelector).fold(()=>{const Rr=_t.raw,Kn=Rr.which;return Rr.shiftKey===!0&&pv(Kn)&&pb(Kt,ir)?Px($,j,Kt,Cn,ir,$r,ue.selectRange):E.none()},E.none)}},vb=(A,$,j,ue)=>{const Me=e1(A);return(ze,nt)=>{ue.clearBeforeUpdate($),sd(ze,nt,j).each(Ot=>{const _t=Ot.boxes.getOr([]);ue.selectRange($,_t,Ot.start,Ot.finish),Me.selectContents(nt),Me.collapseSelection()})}},yb=(A,$)=>{const j=Pt(A,$);return j===void 0||j===""?[]:j.split(" ")},t1=(A,$,j)=>{const Me=yb(A,$).concat([j]);return dt(A,$,Me.join(" ")),!0},pA=(A,$,j)=>{const ue=Be(yb(A,$),Me=>Me!==j);return ue.length>0?dt(A,$,ue.join(" ")):rn(A,$),!1},bb=A=>A.dom.classList!==void 0,vA=A=>yb(A,"class"),yA=(A,$)=>t1(A,"class",$),bA=(A,$)=>pA(A,"class",$),Qf=(A,$)=>{bb(A)?A.dom.classList.add($):yA(A,$)},uc=A=>{(bb(A)?A.dom.classList:vA(A)).length===0&&rn(A,"class")},fd=(A,$)=>{bb(A)?A.dom.classList.remove($):bA(A,$),uc(A)},du=(A,$)=>bb(A)&&A.dom.classList.contains($),Ob=(A,$)=>{ee($,j=>{fd(A,j)})},Wx=A=>$=>{Qf($,A)},OA=A=>$=>{Ob($,A)},Vm={byClass:A=>{const $=Wx(A.selected),j=OA([A.selected,A.lastSelected,A.firstSelected]),ue=ze=>{const nt=zi(ze,A.selectedSelector);ee(nt,j)};return{clearBeforeUpdate:ue,clear:ue,selectRange:(ze,nt,Ot,_t)=>{ue(ze),ee(nt,$),Qf(Ot,A.firstSelected),Qf(_t,A.lastSelected)},selectedSelector:A.selectedSelector,firstSelectedSelector:A.firstSelectedSelector,lastSelectedSelector:A.lastSelectedSelector}},byAttr:(A,$,j)=>{const ue=_t=>{rn(_t,A.selected),rn(_t,A.firstSelected),rn(_t,A.lastSelected)},Me=_t=>{dt(_t,A.selected,"1")},ze=_t=>{nt(_t),j()},nt=_t=>{const Kt=zi(_t,`${A.selectedSelector},${A.firstSelectedSelector},${A.lastSelectedSelector}`);ee(Kt,ue)};return{clearBeforeUpdate:nt,clear:ze,selectRange:(_t,Kt,Cn,ir)=>{ze(_t),ee(Kt,Me),dt(Cn,A.firstSelected,"1"),dt(ir,A.lastSelected,"1"),$(Kt,Cn,ir)},selectedSelector:A.selectedSelector,firstSelectedSelector:A.firstSelectedSelector,lastSelectedSelector:A.lastSelectedSelector}}},Sb=(A,$,j,ue)=>{switch(A.tag){case"none":return $();case"single":return ue(A.element);case"multiple":return j(A.elements)}},pT=()=>({tag:"none"}),xA=A=>({tag:"multiple",elements:A}),SA=A=>({tag:"single",element:A}),vT=(A,$,j)=>({get:()=>ow(A(),j).fold(()=>$().fold(pT,SA),xA)}),Yx=(A,$)=>{const j=A.slice(0,$[$.length-1].row+1),ue=oi(j);return Le(ue,Me=>{const ze=Me.cells.slice(0,$[$.length-1].column+1);return de(ze,nt=>nt.element)})},ka=(A,$)=>{const j=A.slice($[0].row+$[0].rowspan-1,A.length),ue=oi(j);return Le(ue,Me=>{const ze=Me.cells.slice($[0].column+$[0].colspan-1,Me.cells.length);return de(ze,nt=>nt.element)})},zm=(A,$,j)=>{const ue=hs.fromTable(A);return Rg(ue,$).map(ze=>{const nt=x0(ue,j,!1),{rows:Ot}=Hi(nt),_t=Yx(Ot,ze),Kt=ka(Ot,ze);return{upOrLeftCells:_t,downOrRightCells:Kt}})},wA=(A,$,j,ue,Me,ze,nt)=>({target:A,x:$,y:j,stop:ue,prevent:Me,kill:ze,raw:nt}),yT=A=>{const $=zt.fromDom(Dr(A).getOr(A.target)),j=()=>A.stopPropagation(),ue=()=>A.preventDefault(),Me=T(ue,j);return wA($,A.clientX,A.clientY,j,ue,Me,A)},bT=(A,$)=>j=>{A(j)&&$(yT(j))},vv=(A,$,j,ue,Me)=>{const ze=bT(j,ue);return A.dom.addEventListener($,ze,Me),{unbind:N(xT,A,$,ze,Me)}},OT=(A,$,j,ue)=>vv(A,$,j,ue,!1),xT=(A,$,j,ue)=>{A.dom.removeEventListener($,j,ue)},i_=B,n1=(A,$,j)=>OT(A,$,i_,j),r1=yT,ST=A=>!du(zt.fromDom(A.target),"ephox-snooker-resizer-bar"),wT=(A,$)=>{const j=vT(()=>zt.fromDom(A.getBody()),()=>Ny(tf(A),Th(A)),nv.selectedSelector),ue=(_t,Kt,Cn)=>{Sc(Kt).each($r=>{const Rr=$i(A),Kn=js(w,zt.fromDom(A.getDoc()),Rr),Ir=If(A),jn=zm($r,{selection:Ir},Kn);pE(A,_t,Kt,Cn,jn)})},Me=()=>vE(A),ze=Vm.byAttr(nv,ue,Me);return A.on("init",_t=>{const Kt=A.getWin(),Cn=ZO(A),ir=Th(A),$r=()=>{const Oa=A.selection,Lc=zt.fromDom(Oa.getStart()),ec=zt.fromDom(Oa.getEnd());Ca(Sc,[Lc,ec]).fold(()=>ze.clear(Cn),w)},Rr=Xi(Kt,Cn,ir,ze),Kn=Ux(Kt,Cn,ir,ze),Ir=vb(Kt,Cn,ir,ze),jn=Oa=>Oa.raw.shiftKey===!0;A.on("TableSelectorChange",Oa=>Ir(Oa.start,Oa.finish));const io=(Oa,Lc)=>{jn(Oa)&&(Lc.kill&&Oa.kill(),Lc.selection.each(ec=>{const ff=Xg.relative(ec.start,ec.finish),$u=Kw(Kt,ff);A.selection.setRng($u)}))},$o=Oa=>{const Lc=r1(Oa);if(Lc.raw.shiftKey&&pv(Lc.raw.which)){const ec=A.selection.getRng(),ff=zt.fromDom(ec.startContainer),$u=zt.fromDom(ec.endContainer);Kn.keyup(Lc,ff,ec.startOffset,$u,ec.endOffset).each(Kg=>{io(Lc,Kg)})}},os=Oa=>{const Lc=r1(Oa);$.hide();const ec=A.selection.getRng(),ff=zt.fromDom(ec.startContainer),$u=zt.fromDom(ec.endContainer),Kg=XS(JE,dA)(zt.fromDom(A.selection.getStart()));Kn.keydown(Lc,ff,ec.startOffset,$u,ec.endOffset,Kg).each(jc=>{io(Lc,jc)}),$.show()},za=Oa=>Oa.button===0,gl=Oa=>Oa.buttons===void 0?!0:(Oa.buttons&1)!==0,bi=Oa=>{Rr.clearstate()},hu=Oa=>{za(Oa)&&ST(Oa)&&Rr.mousedown(r1(Oa))},bv=Oa=>{gl(Oa)&&ST(Oa)&&Rr.mouseover(r1(Oa))},Ov=Oa=>{za(Oa)&&ST(Oa)&&Rr.mouseup(r1(Oa))},Jx=(()=>{const Oa=fb(zt.fromDom(Cn)),Lc=fb(0);return{touchEnd:ff=>{const $u=zt.fromDom(ff.target);if(He("td")($u)||He("th")($u)){const Kg=Oa.get(),jc=Lc.get();or(Kg,$u)&&ff.timeStamp-jc<300&&(ff.preventDefault(),Ir($u,$u))}Oa.set($u),Lc.set(ff.timeStamp)}}})();A.on("dragstart",bi),A.on("mousedown",hu),A.on("mouseover",bv),A.on("mouseup",Ov),A.on("touchend",Jx.touchEnd),A.on("keyup",$o),A.on("keydown",os),A.on("NodeChange",$r)}),A.on("PreInit",()=>{A.serializer.addTempAttr(nv.firstSelected),A.serializer.addTempAttr(nv.lastSelected)}),{getSelectedCells:()=>Sb(j.get(),M([]),_t=>de(_t,Kt=>Kt.dom),_t=>[_t.dom]),clearSelectedCells:_t=>ze.clear(zt.fromDom(_t))}},dd=A=>{let $=[];return{bind:ze=>{if(ze===void 0)throw new Error("Event bind error: undefined handler");$.push(ze)},unbind:ze=>{$=Be($,nt=>nt!==ze)},trigger:(...ze)=>{const nt={};ee(A,(Ot,_t)=>{nt[Ot]=ze[_t]}),ee($,Ot=>{Ot(nt)})}}},Gg=A=>{const $=Se(A,ue=>({bind:ue.bind,unbind:ue.unbind})),j=Se(A,ue=>ue.trigger);return{registry:$,trigger:j}},l_=(A,$)=>{let j=null;const ue=()=>{g(j)||(clearTimeout(j),j=null)};return{cancel:ue,throttle:(...ze)=>{ue(),j=setTimeout(()=>{j=null,A.apply(null,ze)},$)}}},wb=A=>A.slice(0).sort(),c_=(A,$)=>{throw new Error("All required keys ("+wb(A).join(", ")+") were not specified. Specified keys were: "+wb($).join(", ")+".")},Du=A=>{throw new Error("Unsupported keys for object: "+wb(A).join(", "))},fc=(A,$)=>{if(!c($))throw new Error("The "+A+" fields must be an array. Was: "+$+".");ee($,j=>{if(!f(j))throw new Error("The value "+j+" in the "+A+" fields was not a string.")})},yv=(A,$)=>{throw new Error("All values need to be of type: "+$+". Keys ("+wb(A).join(", ")+") were not.")},x9=A=>{const $=wb(A);Y($,(ue,Me)=>Me<$.length-1&&ue===$[Me+1]).each(ue=>{throw new Error("The field: "+ue+" occurs more than once in the combined fields: ["+$.join(", ")+"].")})},TA=(A,$)=>u_(A,$,{validate:C,label:"function"}),u_=(A,$,j)=>{if($.length===0)throw new Error("You must specify at least one required field.");return fc("required",$),x9($),ue=>{const Me=se(ue);Ce($,Ot=>me(Me,Ot))||c_($,Me),A($,Me);const nt=Be($,Ot=>!j.validate(ue[Ot],Ot));return nt.length>0&&yv(nt,j.label),ue}},Ss=(A,$)=>{const j=Be($,ue=>!me(A,ue));j.length>0&&Du(j)},TT=A=>TA(Ss,A),CA=TT(["compare","extract","mutate","sink"]),CT=TT(["element","start","stop","destroy"]),f_=TT(["forceDrop","drop","move","delayDrop"]),d_=()=>{let A=E.none();const $=()=>{A=E.none()},j=(ze,nt)=>{const Ot=A.map(_t=>ze.compare(_t,nt));return A=E.some(nt),Ot},ue=(ze,nt)=>{nt.extract(ze).each(_t=>{j(nt,_t).each(Cn=>{Me.trigger.move(Cn)})})},Me=Gg({move:dd(["info"])});return{onEvent:ue,reset:$,events:Me.registry}},kA=()=>{const A=Gg({move:dd(["info"])});return{onEvent:w,reset:w,events:A.registry}},h_=()=>{const A=kA(),$=d_();let j=A;return{on:()=>{j.reset(),j=$},off:()=>{j.reset(),j=A},isOn:()=>j===$,onEvent:(Ot,_t)=>{j.onEvent(Ot,_t)},events:$.events}},Yr=(A,$,j)=>{let ue=!1;const Me=Gg({start:dd([]),stop:dd([])}),ze=h_(),nt=()=>{Kn.stop(),ze.isOn()&&(ze.off(),Me.trigger.stop())},Ot=l_(nt,200),_t=jn=>{Kn.start(jn),ze.on(),Me.trigger.start()},Kt=jn=>{Ot.cancel(),ze.onEvent(jn,$)};ze.events.move.bind(jn=>{$.mutate(A,jn.info)});const Cn=()=>{ue=!0},ir=()=>{ue=!1},$r=()=>ue,Rr=jn=>(...io)=>{ue&&jn.apply(null,io)},Kn=$.sink(f_({forceDrop:nt,drop:Rr(nt),move:Rr(Kt),delayDrop:Rr(Ot.throttle)}),j),Ir=()=>{Kn.destroy()};return{element:Kn.element,go:_t,on:Cn,off:ir,isActive:$r,destroy:Ir,events:Me.registry}},jg=A=>{const $=A.replace(/\./g,"-");return{resolve:ue=>$+"-"+ue}},Tb=jg("ephox-dragster").resolve,Cb=A=>{const $={layerClass:Tb("blocker"),...A},j=zt.fromTag("div");return dt(j,"role","presentation"),Pl(j,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Qf(j,Tb("blocker")),Qf(j,$.layerClass),{element:M(j),destroy:()=>{On(j)}}};var g_=CA({compare:(A,$)=>Gu($.left-A.left,$.top-A.top),extract:A=>E.some(Gu(A.x,A.y)),sink:(A,$)=>{const j=Cb($),ue=n1(j.element(),"mousedown",A.forceDrop),Me=n1(j.element(),"mouseup",A.drop),ze=n1(j.element(),"mousemove",A.move),nt=n1(j.element(),"mouseout",A.delayDrop),Ot=()=>{j.destroy(),Me.unbind(),ze.unbind(),nt.unbind(),ue.unbind()},_t=Cn=>{Mt(Cn,j.element())},Kt=()=>{On(j.element())};return CT({element:j.element,start:_t,stop:Kt,destroy:Ot})},mutate:(A,$)=>{A.mutate($.left,$.top)}});const PA=(A,$={})=>{var j;const ue=(j=$.mode)!==null&&j!==void 0?j:g_;return Yr(A,ue,$)},Zm=jg("ephox-snooker").resolve,MA=()=>{const A=Gg({drag:dd(["xDelta","yDelta"])});return{mutate:(j,ue)=>{A.trigger.drag(j,ue)},events:A.registry}},p_=()=>{const A=Gg({drag:dd(["xDelta","yDelta","target"])});let $=E.none();const j=MA();return j.events.drag.bind(ze=>{$.each(nt=>{A.trigger.drag(ze.xDelta,ze.yDelta,nt)})}),{assign:ze=>{$=E.some(ze)},get:()=>$,mutate:j.mutate,events:A.registry}},kb=(A,$,j,ue,Me)=>{const ze=zt.fromTag("div");return Pl(ze,{position:"absolute",left:$-ue/2+"px",top:j+"px",height:Me+"px",width:ue+"px"}),mt(ze,{"data-column":A,role:"presentation"}),ze},v_=(A,$,j,ue,Me)=>{const ze=zt.fromTag("div");return Pl(ze,{position:"absolute",left:$+"px",top:j-Me/2+"px",height:Me+"px",width:ue+"px"}),mt(ze,{"data-row":A,role:"presentation"}),ze},EA=Zm("resizer-bar"),kT=Zm("resizer-rows"),_A=Zm("resizer-cols"),Xx=7,y_=(A,$)=>Le(A.all,(j,ue)=>$(j.element)?[ue]:[]),b_=(A,$)=>{const j=[];return q(A.grid.columns,ue=>{hs.getColumnAt(A,ue).map(ze=>ze.element).forall($)&&j.push(ue)}),Be(j,ue=>{const Me=hs.filterItems(A,ze=>ze.column===ue);return Ce(Me,ze=>$(ze.element))})},o1=A=>{const $=zi(A.parent(),"."+EA);ee($,On)},AT=(A,$,j)=>{const ue=A.origin();ee($,Me=>{Me.each(ze=>{const nt=j(ue,ze);Qf(nt,EA),Mt(A.parent(),nt)})})},RA=(A,$,j,ue)=>{AT(A,$,(Me,ze)=>{const nt=kb(ze.col,ze.x-Me.left,j.top-Me.top,Xx,ue);return Qf(nt,_A),nt})},O_=(A,$,j,ue)=>{AT(A,$,(Me,ze)=>{const nt=v_(ze.row,j.left-Me.left,ze.y-Me.top,ue,Xx);return Qf(nt,kT),nt})},x_=(A,$,j,ue,Me)=>{const ze=ku(j),nt=$.isResizable,Ot=ue.length>0?Xr.positions(ue,j):[],_t=Ot.length>0?y_(A,nt):[],Kt=Be(Ot,(Rr,Kn)=>ae(_t,Ir=>Kn===Ir));O_($,Kt,ze,_f(j));const Cn=Me.length>0?vi.positions(Me,j):[],ir=Cn.length>0?b_(A,nt):[],$r=Be(Cn,(Rr,Kn)=>ae(ir,Ir=>Kn===Ir));RA($,$r,ze,Sm(j))},Gx=(A,$)=>{if(o1(A),A.isResizable($)){const j=hs.fromTable($),ue=jp(j),Me=Om(j);x_(j,A,$,ue,Me)}},Nh=(A,$)=>{const j=zi(A.parent(),"."+EA);ee(j,$)},jx=A=>{Nh(A,$=>{Xa($,"display","none")})},Ys=A=>{Nh(A,$=>{Xa($,"display","block")})},S_=A=>du(A,kT),Hm=A=>du(A,_A),Bh=Zm("resizer-bar-dragging"),qx=A=>{const $=p_(),j=PA($,{});let ue=E.none();const Me=(Kn,Ir)=>E.from(Pt(Kn,Ir));$.events.drag.bind(Kn=>{Me(Kn.target,"data-row").each(Ir=>{const jn=Af(Kn.target,"top");Xa(Kn.target,"top",jn+Kn.yDelta+"px")}),Me(Kn.target,"data-column").each(Ir=>{const jn=Af(Kn.target,"left");Xa(Kn.target,"left",jn+Kn.xDelta+"px")})});const ze=(Kn,Ir)=>{const jn=Af(Kn,Ir),io=Da(Kn,"data-initial-"+Ir,0);return jn-io};j.events.stop.bind(()=>{$.get().each(Kn=>{ue.each(Ir=>{Me(Kn,"data-row").each(jn=>{const io=ze(Kn,"top");rn(Kn,"data-initial-top"),Rr.trigger.adjustHeight(Ir,io,parseInt(jn,10))}),Me(Kn,"data-column").each(jn=>{const io=ze(Kn,"left");rn(Kn,"data-initial-left"),Rr.trigger.adjustWidth(Ir,io,parseInt(jn,10))}),Gx(A,Ir)})})});const nt=(Kn,Ir)=>{Rr.trigger.startAdjust(),$.assign(Kn),dt(Kn,"data-initial-"+Ir,Af(Kn,Ir)),Qf(Kn,Bh),Xa(Kn,"opacity","0.2"),j.go(A.parent())},Ot=n1(A.parent(),"mousedown",Kn=>{S_(Kn.target)&&nt(Kn.target,"top"),Hm(Kn.target)&&nt(Kn.target,"left")}),_t=Kn=>or(Kn,A.view()),Kt=Kn=>ei(Kn,"table",_t).filter(Fd),Cn=n1(A.view(),"mouseover",Kn=>{Kt(Kn.target).fold(()=>{oa(Kn.target)&&o1(A)},Ir=>{j.isActive()&&(ue=E.some(Ir),Gx(A,Ir))})}),ir=()=>{Ot.unbind(),Cn.unbind(),j.destroy(),o1(A)},$r=Kn=>{Gx(A,Kn)},Rr=Gg({adjustHeight:dd(["table","delta","row"]),adjustWidth:dd(["table","delta","column"]),startAdjust:dd([])});return{destroy:ir,refresh:$r,on:j.on,off:j.off,hideBars:N(jx,A),showBars:N(Ys,A),events:Rr.registry}},Kx={create:(A,$,j)=>{const ue=Xr,Me=vi,ze=qx(A),nt=Gg({beforeResize:dd(["table","type"]),afterResize:dd(["table","type"]),startDrag:dd([])});return ze.events.adjustHeight.bind(Ot=>{const _t=Ot.table;nt.trigger.beforeResize(_t,"row");const Kt=ue.delta(Ot.delta,_t);vw(_t,Kt,Ot.row,ue),nt.trigger.afterResize(_t,"row")}),ze.events.startAdjust.bind(Ot=>{nt.trigger.startDrag()}),ze.events.adjustWidth.bind(Ot=>{const _t=Ot.table;nt.trigger.beforeResize(_t,"col");const Kt=Me.delta(Ot.delta,_t),Cn=j(_t);zy(_t,Kt,Ot.column,$,Cn),nt.trigger.afterResize(_t,"col")}),{on:ze.on,off:ze.off,refreshBars:ze.refresh,hideBars:ze.hideBars,showBars:ze.showBars,destroy:ze.destroy,events:nt.registry}}},PT={only:(A,$)=>{const j=gt(A)?sr(A):A;return{parent:M(j),view:M(A),origin:M(Gu(0,0)),isResizable:$}},detached:(A,$,j)=>{const ue=()=>ku($);return{parent:M($),view:M(A),origin:ue,isResizable:j}},body:(A,$,j)=>({parent:M($),view:M(A),origin:M(Gu(0,0)),isResizable:j})},w_=()=>{const A=zt.fromTag("div");return Pl(A,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Mt(Ri(),A),A},MT=(A,$)=>A.inline?PT.body(zt.fromDom(A.getBody()),w_(),$):PT.only(zt.fromDom(A.getDoc()),$),T_=(A,$)=>{A.inline&&On($.parent())},Ps=A=>O(A)&&A.nodeName==="TABLE",uf="bar-",qg=A=>Pt(A,"data-mce-resize")!=="false",C_=A=>{const $=hs.fromTable(A);hs.hasColumns($)||ee(Mf(A),j=>{const ue=Zi(j,"width");Xa(j,"width",ue),rn(j,"width")})},a1=A=>{const $=j0(),j=j0(),ue=j0();let Me,ze;const nt=Kn=>Dc(A,Kn),Ot=()=>Yl(A)?cw():fk(),_t=Kn=>v0(Kn).columns,Kt=(Kn,Ir,jn)=>{const io=Vc(Ir,"e");if(ze===""&&Nf(Kn),jn!==Me&&ze!==""){Xa(Kn,"width",ze);const $o=Ot(),os=nt(Kn),za=Yl(A)||io?_t(Kn)-1:0;zy(Kn,jn-Me,za,$o,os)}else if(HO(ze)){const $o=parseFloat(ze.replace("%","")),os=jn*$o/Me;Xa(Kn,"width",os+"%")}_y(ze)&&C_(Kn)},Cn=()=>{j.on(Kn=>{Kn.destroy()}),ue.on(Kn=>{T_(A,Kn)})};return A.on("init",()=>{const Kn=MT(A,qg);if(ue.set(Kn),Wc(A)&&Gl(A)){const Ir=Ot(),jn=Kx.create(Kn,Ir,nt);jn.on(),jn.events.startDrag.bind(io=>{$.set(A.selection.getRng())}),jn.events.beforeResize.bind(io=>{const $o=io.table.dom;Iw(A,$o,Pg($o),Mg($o),uf+io.type)}),jn.events.afterResize.bind(io=>{const $o=io.table,os=$o.dom;Vd($o),$.on(za=>{A.selection.setRng(za),A.focus()}),yE(A,os,Pg(os),Mg(os),uf+io.type),A.undoManager.add()}),j.set(jn)}}),A.on("ObjectResizeStart",Kn=>{const Ir=Kn.target;if(Ps(Ir)){const jn=zt.fromDom(Ir);ee(A.dom.select(".mce-clonedresizable"),io=>{A.dom.addClass(io,"mce-"+Pc(A)+"-columns")}),!Ky(jn)&&Xl(A)?N0(jn):!qy(jn)&&Lf(A)&&Nf(jn),Sx(jn)&&$d(Kn.origin,uf)&&Nf(jn),Me=Kn.width,ze=Li(A)?"":ok(A,Ir).getOr("")}}),A.on("ObjectResized",Kn=>{const Ir=Kn.target;if(Ps(Ir)){const jn=zt.fromDom(Ir),io=Kn.origin;$d(io,"corner-")&&Kt(jn,io,Kn.width),Vd(jn),uv(A,jn.dom,Lm)}}),A.on("SwitchMode",()=>{j.on(Kn=>{A.mode.isReadOnly()?Kn.hideBars():Kn.showBars()})}),A.on("dragstart dragend",Kn=>{j.on(Ir=>{Kn.type==="dragstart"?(Ir.hideBars(),Ir.off()):(Ir.on(),Ir.showBars())})}),A.on("remove",()=>{Cn()}),{refresh:Kn=>{j.on(Ir=>Ir.refreshBars(zt.fromDom(Kn)))},hide:()=>{j.on(Kn=>Kn.hideBars())},show:()=>{j.on(Kn=>Kn.showBars())}}},Qs=A=>{Yi(A);const $=a1(A),j=wT(A,$),ue=Ox(A,$,j);return Q0(A,ue),NE(A,ue),WM(A,ue),{getSelectedCells:j.getSelectedCells,clearSelectedCells:j.clearSelectedCells}},k_=A=>({table:Qs(A)});var ET=()=>{t.add("dom",k_)};ET()})();(function(){const t=Object.getPrototypeOf,e=(o,u,p)=>{var S;return p(o,u.prototype)?!0:((S=o.constructor)===null||S===void 0?void 0:S.name)===u.name},r=o=>{const u=typeof o;return o===null?"null":u==="object"&&Array.isArray(o)?"array":u==="object"&&e(o,String,(p,S)=>S.isPrototypeOf(p))?"string":u},a=o=>u=>r(u)===o,i=o=>u=>typeof u===o,d=o=>u=>o===u,f=(o,u)=>c(o)&&e(o,u,(p,S)=>t(p)===S),h=a("string"),c=a("object"),g=o=>f(o,Object),v=a("array"),y=d(null),b=i("boolean"),O=d(void 0),C=o=>o==null,k=o=>!C(o),w=i("function"),T=i("number"),R=(o,u)=>{if(v(o)){for(let p=0,S=o.length;p<S;++p)if(!u(o[p]))return!1;return!0}return!1},M=()=>{},I=o=>()=>o(),V=(o,u)=>(...p)=>o(u.apply(null,p)),N=(o,u)=>p=>o(u(p)),Q=o=>()=>o,z=o=>o,U=(o,u)=>o===u;function F(o,...u){return(...p)=>{const S=u.concat(p);return o.apply(null,S)}}const B=o=>u=>!o(u),E=o=>()=>{throw new Error(o)},W=o=>o(),X=Q(!1),ie=Q(!0);class L{constructor(u,p){this.tag=u,this.value=p}static some(u){return new L(!0,u)}static none(){return L.singletonNone}fold(u,p){return this.tag?p(this.value):u()}isSome(){return this.tag}isNone(){return!this.tag}map(u){return this.tag?L.some(u(this.value)):L.none()}bind(u){return this.tag?u(this.value):L.none()}exists(u){return this.tag&&u(this.value)}forall(u){return!this.tag||u(this.value)}filter(u){return!this.tag||u(this.value)?this:L.none()}getOr(u){return this.tag?this.value:u}or(u){return this.tag?this:u}getOrThunk(u){return this.tag?this.value:u()}orThunk(u){return this.tag?this:u()}getOrDie(u){if(this.tag)return this.value;throw new Error(u??"Called getOrDie on None")}static from(u){return k(u)?L.some(u):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(u){this.tag&&u(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const me=Array.prototype.slice,ae=Array.prototype.indexOf,q=Array.prototype.push,de=(o,u)=>ae.call(o,u),ee=(o,u)=>{const p=de(o,u);return p===-1?L.none():L.some(p)},xe=(o,u)=>de(o,u)>-1,we=(o,u)=>{for(let p=0,S=o.length;p<S;p++){const _=o[p];if(u(_,p))return!0}return!1},Be=(o,u)=>{const p=[];for(let S=0;S<o;S++)p.push(u(S));return p},pe=(o,u)=>{const p=[];for(let S=0;S<o.length;S+=u){const _=me.call(o,S,S+u);p.push(_)}return p},ne=(o,u)=>{const p=o.length,S=new Array(p);for(let _=0;_<p;_++){const H=o[_];S[_]=u(H,_)}return S},le=(o,u)=>{for(let p=0,S=o.length;p<S;p++){const _=o[p];u(_,p)}},Y=(o,u)=>{for(let p=o.length-1;p>=0;p--){const S=o[p];u(S,p)}},ve=(o,u)=>{const p=[],S=[];for(let _=0,H=o.length;_<H;_++){const K=o[_];(u(K,_)?p:S).push(K)}return{pass:p,fail:S}},Oe=(o,u)=>{const p=[];for(let S=0,_=o.length;S<_;S++){const H=o[S];u(H,S)&&p.push(H)}return p},Le=(o,u,p)=>(Y(o,(S,_)=>{p=u(p,S,_)}),p),Ce=(o,u,p)=>(le(o,(S,_)=>{p=u(p,S,_)}),p),De=(o,u,p)=>{for(let S=0,_=o.length;S<_;S++){const H=o[S];if(u(H,S))return L.some(H);if(p(H,S))break}return L.none()},Ve=(o,u)=>De(o,u,X),_e=(o,u)=>{for(let p=0,S=o.length;p<S;p++){const _=o[p];if(u(_,p))return L.some(p)}return L.none()},Ie=o=>{const u=[];for(let p=0,S=o.length;p<S;++p){if(!v(o[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+o);q.apply(u,o[p])}return u},re=(o,u)=>Ie(ne(o,u)),be=(o,u)=>{for(let p=0,S=o.length;p<S;++p){const _=o[p];if(u(_,p)!==!0)return!1}return!0},te=o=>{const u=me.call(o,0);return u.reverse(),u},se=(o,u)=>Oe(o,p=>!xe(u,p)),fe=(o,u)=>{const p={};for(let S=0,_=o.length;S<_;S++){const H=o[S];p[String(H)]=u(H,S)}return p},oe=o=>[o],Se=(o,u)=>{const p=me.call(o,0);return p.sort(u),p},ce=(o,u)=>u>=0&&u<o.length?L.some(o[u]):L.none(),ke=o=>ce(o,0),Qe=o=>ce(o,o.length-1),Ze=w(Array.from)?Array.from:o=>me.call(o),Xe=(o,u)=>{for(let p=0;p<o.length;p++){const S=u(o[p],p);if(S.isSome())return S}return L.none()},ct=Object.keys,pt=Object.hasOwnProperty,Ye=(o,u)=>{const p=ct(o);for(let S=0,_=p.length;S<_;S++){const H=p[S],K=o[H];u(K,H)}},je=(o,u)=>et(o,(p,S)=>({k:S,v:u(p,S)})),et=(o,u)=>{const p={};return Ye(o,(S,_)=>{const H=u(S,_);p[H.k]=H.v}),p},yt=o=>(u,p)=>{o[p]=u},ft=(o,u,p,S)=>{Ye(o,(_,H)=>{(u(_,H)?p:S)(_,H)})},tt=(o,u)=>{const p={},S={};return ft(o,u,yt(p),yt(S)),{t:p,f:S}},wt=(o,u)=>{const p={};return ft(o,u,yt(p),M),p},Xt=(o,u)=>{const p=[];return Ye(o,(S,_)=>{p.push(u(S,_))}),p},Gt=(o,u)=>{const p=ct(o);for(let S=0,_=p.length;S<_;S++){const H=p[S],K=o[H];if(u(K,H,o))return L.some(K)}return L.none()},Nt=o=>Xt(o,z),Bt=(o,u)=>vn(o,u)?L.from(o[u]):L.none(),vn=(o,u)=>pt.call(o,u),En=(o,u)=>vn(o,u)&&o[u]!==void 0&&o[u]!==null,ln=(o,u,p=U)=>o.exists(S=>p(S,u)),Yn=(o,u,p=U)=>Xn(o,u,p).getOr(o.isNone()&&u.isNone()),an=o=>{const u=[],p=S=>{u.push(S)};for(let S=0;S<o.length;S++)o[S].each(p);return u},wn=o=>{const u=[];for(let p=0;p<o.length;p++){const S=o[p];if(S.isSome())u.push(S.getOrDie());else return L.none()}return L.some(u)},Xn=(o,u,p)=>o.isSome()&&u.isSome()?L.some(p(o.getOrDie(),u.getOrDie())):L.none(),Un=(o,u,p,S)=>o.isSome()&&u.isSome()&&p.isSome()?L.some(S(o.getOrDie(),u.getOrDie(),p.getOrDie())):L.none(),Sn=(o,u)=>o!=null?L.some(u(o)):L.none(),lt=(o,u)=>o?L.some(u):L.none(),ut=(o,u)=>o+u,xt=(o,u)=>o.substring(u),gt=(o,u,p)=>u===""||o.length>=u.length&&o.substr(p,p+u.length)===u,Dt=(o,u)=>dt(o,u)?xt(o,u.length):o,He=(o,u)=>mt(o,u)?o:ut(o,u),at=(o,u,p=0,S)=>{const _=o.indexOf(u,p);return _!==-1?O(S)?!0:_+u.length<=S:!1},dt=(o,u)=>gt(o,u,0),mt=(o,u)=>gt(o,u,o.length-u.length),Pt=(o=>u=>u.replace(o,""))(/^\s+|\s+$/g),dn=o=>o.length>0,rn=o=>!dn(o),Wt=o=>o.style!==void 0&&w(o.style.getPropertyValue),Rt=(o,u)=>{const S=(u||document).createElement("div");if(S.innerHTML=o,!S.hasChildNodes()||S.childNodes.length>1){const _="HTML does not have a single root node";throw console.error(_,o),new Error(_)}return nr(S.childNodes[0])},fn=(o,u)=>{const S=(u||document).createElement(o);return nr(S)},Hn=(o,u)=>{const S=(u||document).createTextNode(o);return nr(S)},nr=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},zt={fromHtml:Rt,fromTag:fn,fromText:Hn,fromDom:nr,fromPoint:(o,u,p)=>L.from(o.dom.elementFromPoint(u,p)).map(nr)},vr=typeof window<"u"?window:Function("return this;")(),Wn=(o,u)=>{let p=u??vr;for(let S=0;S<o.length&&p!==void 0&&p!==null;++S)p=p[o[S]];return p},Br=(o,u)=>{const p=o.split(".");return Wn(p,u)},kr=(o,u)=>Br(o,u),or=(o,u)=>{const p=kr(o,u);if(p==null)throw new Error(o+" not available on this browser");return p},jr=Object.getPrototypeOf,_r=o=>or("HTMLElement",o),Rn=o=>{const u=Br("ownerDocument.defaultView",o);return c(o)&&(_r(u).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(jr(o).constructor.name))},xr=9,sr=11,Sr=1,ao=3,Oo=o=>o.dom.nodeName.toLowerCase(),wr=o=>o.dom.nodeType,Fe=o=>u=>wr(u)===o,Ee=o=>St(o)&&Rn(o.dom),St=Fe(Sr),Ct=Fe(ao),Lt=Fe(xr),Ft=Fe(sr),Ht=o=>u=>St(u)&&Oo(u)===o,$t=(o,u)=>{const p=o.dom;if(p.nodeType!==Sr)return!1;{const S=p;if(S.matches!==void 0)return S.matches(u);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(u);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(u);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(u);throw new Error("Browser lacks native selectors")}},Mt=o=>o.nodeType!==Sr&&o.nodeType!==xr&&o.nodeType!==sr||o.childElementCount===0,tn=(o,u)=>{const p=u===void 0?document:u.dom;return Mt(p)?[]:ne(p.querySelectorAll(o),zt.fromDom)},un=(o,u)=>{const p=u===void 0?document:u.dom;return Mt(p)?L.none():L.from(p.querySelector(o)).map(zt.fromDom)},Jt=(o,u)=>o.dom===u.dom,on=(o,u)=>{const p=o.dom,S=u.dom;return p===S?!1:p.contains(S)},Tn=o=>zt.fromDom(o.dom.ownerDocument),On=o=>Lt(o)?o:Tn(o),pn=o=>zt.fromDom(On(o).dom.documentElement),Jn=o=>zt.fromDom(On(o).dom.defaultView),Fn=o=>L.from(o.dom.parentNode).map(zt.fromDom),Zr=o=>Fn(o),dr=o=>L.from(o.dom.parentElement).map(zt.fromDom),Ur=(o,u)=>{const p=w(u)?u:X;let S=o.dom;const _=[];for(;S.parentNode!==null&&S.parentNode!==void 0;){const H=S.parentNode,K=zt.fromDom(H);if(_.push(K),p(K)===!0)break;S=H}return _},ar=o=>L.from(o.dom.offsetParent).map(zt.fromDom),ur=o=>L.from(o.dom.nextSibling).map(zt.fromDom),qr=o=>ne(o.dom.childNodes,zt.fromDom),no=(o,u)=>{const p=o.dom.childNodes;return L.from(p[u]).map(zt.fromDom)},ko=o=>no(o,0),Es=(o,u)=>({element:o,offset:u}),So=(o,u)=>{const p=qr(o);return p.length>0&&u<p.length?Es(p[u],0):Es(o,u)},Ko=o=>Ft(o)&&k(o.dom.host),ds=w(Element.prototype.attachShadow)&&w(Node.prototype.getRootNode),qs=Q(ds),es=ds?o=>zt.fromDom(o.dom.getRootNode()):On,Xs=o=>Ko(o)?o:zt.fromDom(On(o).dom.body),Ya=o=>bc(o).isSome(),bc=o=>{const u=es(o);return Ko(u)?L.some(u):L.none()},li=o=>zt.fromDom(o.dom.host),nu=o=>{if(qs()&&k(o.target)){const u=zt.fromDom(o.target);if(St(u)&&Ba(u)&&o.composed&&o.composedPath){const p=o.composedPath();if(p)return ke(p)}}return L.from(o.target)},Ba=o=>k(o.dom.shadowRoot),Js=o=>{const u=Ct(o)?o.dom.parentNode:o.dom;if(u==null||u.ownerDocument===null)return!1;const p=u.ownerDocument;return bc(zt.fromDom(u)).fold(()=>p.body.contains(u),N(Js,li))},ya=()=>ra(zt.fromDom(document)),ra=o=>{const u=o.dom.body;if(u==null)throw new Error("Body is not available yet");return zt.fromDom(u)},ru=(o,u,p)=>{if(h(p)||b(p)||T(p))o.setAttribute(u,p+"");else throw console.error("Invalid call to Attribute.set. Key ",u,":: Value ",p,":: Element ",o),new Error("Attribute value was not simple")},Dr=(o,u,p)=>{ru(o.dom,u,p)},Oc=(o,u)=>{const p=o.dom;Ye(u,(S,_)=>{ru(p,_,S)})},oa=(o,u)=>{const p=o.dom.getAttribute(u);return p===null?void 0:p},Ri=(o,u)=>L.from(oa(o,u)),_d=(o,u)=>{const p=o.dom;return p&&p.hasAttribute?p.hasAttribute(u):!1},sa=(o,u)=>{o.dom.removeAttribute(u)},xu=o=>Ce(o.dom.attributes,(u,p)=>(u[p.name]=p.value,u),{}),Rd=(o,u,p)=>{if(!h(p))throw console.error("Invalid call to CSS.set. Property ",u,":: Value ",p,":: Element ",o),new Error("CSS value must be a string: "+p);Wt(o)&&o.style.setProperty(u,p)},Su=(o,u)=>{Wt(o)&&o.style.removeProperty(u)},Po=(o,u,p)=>{const S=o.dom;Rd(S,u,p)},zi=(o,u)=>{const p=o.dom;Ye(u,(S,_)=>{Rd(p,_,S)})},fr=(o,u)=>{const p=o.dom;Ye(u,(S,_)=>{S.fold(()=>{Su(p,_)},H=>{Rd(p,_,H)})})},Fa=(o,u)=>{const p=o.dom,_=window.getComputedStyle(p).getPropertyValue(u);return _===""&&!Js(o)?xi(p,u):_},xi=(o,u)=>Wt(o)?o.style.getPropertyValue(u):"",Za=(o,u)=>{const p=o.dom,S=xi(p,u);return L.from(S).filter(_=>_.length>0)},Va=o=>{const u={},p=o.dom;if(Wt(p))for(let S=0;S<p.style.length;S++){const _=p.style.item(S);u[_]=p.style[_]}return u},bl=(o,u,p)=>{const S=zt.fromTag(o);return Po(S,u,p),Za(S,u).isSome()},Ho=(o,u)=>{const p=o.dom;Su(p,u),ln(Ri(o,"style").map(Pt),"")&&sa(o,"style")},ci=o=>o.dom.offsetWidth,ei=(o,u)=>{const p=(ye,Ae)=>{if(!T(Ae)&&!Ae.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+Ae);const Ne=ye.dom;Wt(Ne)&&(Ne.style[o]=Ae+"px")},S=ye=>{const Ae=u(ye);if(Ae<=0||Ae===null){const Ne=Fa(ye,o);return parseFloat(Ne)||0}return Ae},_=S,H=(ye,Ae)=>Ce(Ae,(Ne,Ue)=>{const Je=Fa(ye,Ue),st=Je===void 0?0:parseInt(Je,10);return isNaN(st)?Ne:Ne+st},0);return{set:p,get:S,getOuter:_,aggregate:H,max:(ye,Ae,Ne)=>{const Ue=H(ye,Ne);return Ae>Ue?Ae-Ue:0}}},qf=ei("height",o=>{const u=o.dom;return Js(o)?u.getBoundingClientRect().height:u.offsetHeight}),Ha=o=>qf.get(o),zu=o=>qf.getOuter(o),Zu=(o,u)=>{const p=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],S=qf.max(o,u,p);Po(o,"max-height",S+"px")},Dd=(o,u)=>({left:o,top:u,translate:(S,_)=>Dd(o+S,u+_)}),Is=Dd,$d=o=>{const u=o.getBoundingClientRect();return Is(u.left,u.top)},Vc=(o,u)=>o!==void 0?o:u!==void 0?u:0,Al=o=>{const u=o.dom.ownerDocument,p=u.body,S=u.defaultView,_=u.documentElement;if(p===o.dom)return Is(p.offsetLeft,p.offsetTop);const H=Vc(S==null?void 0:S.pageYOffset,_.scrollTop),K=Vc(S==null?void 0:S.pageXOffset,_.scrollLeft),ye=Vc(_.clientTop,p.clientTop),Ae=Vc(_.clientLeft,p.clientLeft);return yh(o).translate(K-Ae,H-ye)},yh=o=>{const u=o.dom,S=u.ownerDocument.body;return S===u?Is(S.offsetLeft,S.offsetTop):Js(o)?$d(u):Is(0,0)},hm=ei("width",o=>o.dom.offsetWidth),Vs=(o,u)=>hm.set(o,u),Si=o=>hm.get(o),kf=o=>hm.getOuter(o),HS=(o,u)=>{const p=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],S=hm.max(o,u,p);Po(o,"max-width",S+"px")},Xa=o=>{let u=!1,p;return(...S)=>(u||(u=!0,p=o.apply(null,S)),p)},Pl=(o,u,p,S)=>{const _=o.isiOS()&&/ipad/i.test(p)===!0,H=o.isiOS()&&!_,K=o.isiOS()||o.isAndroid(),ye=K||S("(pointer:coarse)"),Ae=_||!H&&K&&S("(min-device-width:768px)"),Ne=H||K&&!Ae,Ue=u.isSafari()&&o.isiOS()&&/safari/i.test(p)===!1,Je=!Ne&&!Ae&&!Ue;return{isiPad:Q(_),isiPhone:Q(H),isTablet:Q(Ae),isPhone:Q(Ne),isTouch:Q(ye),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:Q(Ue),isDesktop:Q(Je)}},Zi=(o,u)=>{for(let p=0;p<o.length;p++){const S=o[p];if(S.test(u))return S}},_O=(o,u)=>{const p=Zi(o,u);if(!p)return{major:0,minor:0};const S=_=>Number(u.replace(p,"$"+_));return Hu(S(1),S(2))},Fp=(o,u)=>{const p=String(u).toLowerCase();return o.length===0?wu():_O(o,p)},wu=()=>Hu(0,0),Hu=(o,u)=>({major:o,minor:u}),Da={nu:Hu,detect:Fp,unknown:wu},Tu=(o,u)=>Xe(u.brands,p=>{const S=p.brand.toLowerCase();return Ve(o,_=>{var H;return S===((H=_.brand)===null||H===void 0?void 0:H.toLowerCase())}).map(_=>({current:_.name,version:Da.nu(parseInt(p.version,10),0)}))}),Ml=(o,u)=>{const p=String(u).toLowerCase();return Ve(o,S=>S.search(p))},xc=(o,u)=>Ml(o,u).map(p=>{const S=Da.detect(p.versionRegexes,u);return{current:p.name,version:S}}),Af=(o,u)=>Ml(o,u).map(p=>{const S=Da.detect(p.versionRegexes,u);return{current:p.name,version:S}}),ui=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pf=o=>u=>at(u,o),Vp=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>at(o,"edge/")&&at(o,"chrome")&&at(o,"safari")&&at(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ui],search:o=>at(o,"chrome")&&!at(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>at(o,"msie")||at(o,"trident")},{name:"Opera",versionRegexes:[ui,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pf("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pf("firefox")},{name:"Safari",versionRegexes:[ui,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(at(o,"safari")||at(o,"mobile/"))&&at(o,"applewebkit")}],zp=[{name:"Windows",search:Pf("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>at(o,"iphone")||at(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pf("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Pf("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pf("linux"),versionRegexes:[]},{name:"Solaris",search:Pf("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pf("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pf("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],uy={browsers:Q(Vp),oses:Q(zp)},Kv="Edge",Mf="Chromium",Zp="IE",Sc="Opera",Jv="Firefox",fy="Safari",mm=()=>dy({current:void 0,version:Da.unknown()}),dy=o=>{const u=o.current,p=o.version,S=_=>()=>u===_;return{current:u,version:p,isEdge:S(Kv),isChromium:S(Mf),isIE:S(Zp),isOpera:S(Sc),isFirefox:S(Jv),isSafari:S(fy)}},gm={unknown:mm,nu:dy,edge:Q(Kv),chromium:Q(Mf),ie:Q(Zp),opera:Q(Sc),firefox:Q(Jv),safari:Q(fy)},RO="Windows",bh="iOS",DO="Android",$O="Linux",LO="macOS",pm="Solaris",hy="FreeBSD",Yt="ChromeOS",vm=()=>Uu({current:void 0,version:Da.unknown()}),Uu=o=>{const u=o.current,p=o.version,S=_=>()=>u===_;return{current:u,version:p,isWindows:S(RO),isiOS:S(bh),isAndroid:S(DO),isMacOS:S(LO),isLinux:S($O),isSolaris:S(pm),isFreeBSD:S(hy),isChromeOS:S(Yt)}},e0={unknown:vm,nu:Uu,windows:Q(RO),ios:Q(bh),android:Q(DO),linux:Q($O),macos:Q(LO),solaris:Q(pm),freebsd:Q(hy),chromeos:Q(Yt)},US={detect:(o,u,p)=>{const S=uy.browsers(),_=uy.oses(),H=u.bind(Ae=>Tu(S,Ae)).orThunk(()=>xc(S,o)).fold(gm.unknown,gm.nu),K=Af(_,o).fold(e0.unknown,e0.nu),ye=Pl(K,H,o,p);return{browser:H,os:K,deviceType:ye}}},Gs=o=>window.matchMedia(o).matches;let oc=Xa(()=>US.detect(navigator.userAgent,L.from(navigator.userAgentData),Gs));const Kf=()=>oc(),Jf=(o,u,p,S,_,H,K)=>({target:o,x:u,y:p,stop:S,prevent:_,kill:H,raw:K}),my=o=>{const u=zt.fromDom(nu(o).getOr(o.target)),p=()=>o.stopPropagation(),S=()=>o.preventDefault(),_=V(S,p);return Jf(u,o.clientX,o.clientY,p,S,_,o)},bg=(o,u)=>p=>{o(p)&&u(my(p))},ou=(o,u,p,S,_)=>{const H=bg(p,S);return o.dom.addEventListener(u,H,_),{unbind:F(IO,o,u,H,_)}},Og=(o,u,p,S)=>ou(o,u,p,S,!1),gy=(o,u,p,S)=>ou(o,u,p,S,!0),IO=(o,u,p,S)=>{o.dom.removeEventListener(u,p,S)},Wu=(o,u)=>{Fn(o).each(S=>{S.dom.insertBefore(u.dom,o.dom)})},Up=(o,u)=>{ur(o).fold(()=>{Fn(o).each(_=>{zc(_,u)})},S=>{Wu(S,u)})},py=(o,u)=>{ko(o).fold(()=>{zc(o,u)},S=>{o.dom.insertBefore(u.dom,S.dom)})},zc=(o,u)=>{o.dom.appendChild(u.dom)},sl=(o,u,p)=>{no(o,p).fold(()=>{zc(o,u)},S=>{Wu(S,u)})},Oh=(o,u)=>{le(u,p=>{zc(o,p)})},xg=o=>{o.dom.textContent="",le(qr(o),u=>{wc(u)})},wc=o=>{const u=o.dom;u.parentNode!==null&&u.parentNode.removeChild(u)},El=o=>{const u=o!==void 0?o.dom:document,p=u.body.scrollLeft||u.documentElement.scrollLeft,S=u.body.scrollTop||u.documentElement.scrollTop;return Is(p,S)},Yu=(o,u,p)=>{const _=(p!==void 0?p.dom:document).defaultView;_&&_.scrollTo(o,u)},NO=o=>{const u=o===void 0?window:o;return Kf().browser.isFirefox()?L.none():L.from(u.visualViewport)},Wp=(o,u,p,S)=>({x:o,y:u,width:p,height:S,right:o+p,bottom:u+S}),vy=o=>{const u=o===void 0?window:o,p=u.document,S=El(zt.fromDom(p));return NO(u).fold(()=>{const _=u.document.documentElement,H=_.clientWidth,K=_.clientHeight;return Wp(S.left,S.top,H,K)},_=>Wp(Math.max(_.pageLeft,S.left),Math.max(_.pageTop,S.top),_.width,_.height))},t0=()=>zt.fromDom(document),Ef=(o,u)=>o.view(u).fold(Q([]),S=>{const _=o.owner(S),H=Ef(o,_);return[S].concat(H)}),BO=(o,u)=>{const p=u.owner(o),S=Ef(u,p);return L.some(S)};var WS=Object.freeze({__proto__:null,view:o=>{var u;return(o.dom===document?L.none():L.from((u=o.dom.defaultView)===null||u===void 0?void 0:u.frameElement)).map(zt.fromDom)},owner:o=>Tn(o)});const Yp=o=>{const u=t0(),p=El(u);return BO(o,WS).fold(F(Al,o),_=>{const H=yh(o),K=Le(_,(ye,Ae)=>{const Ne=yh(Ae);return{left:ye.left+Ne.left,top:ye.top+Ne.top}},{left:0,top:0});return Is(K.left+H.left+p.left,K.top+H.top+p.top)})},n0=(o,u,p)=>({point:o,width:u,height:p}),xh=(o,u,p,S)=>({x:o,y:u,width:p,height:S}),ti=(o,u,p,S)=>({x:o,y:u,width:p,height:S,right:o+p,bottom:u+S}),fi=o=>{const u=Al(o),p=kf(o),S=zu(o);return ti(u.left,u.top,p,S)},Cu=o=>{const u=Yp(o),p=kf(o),S=zu(o);return ti(u.left,u.top,p,S)},yy=(o,u)=>{const p=Math.max(o.x,u.x),S=Math.max(o.y,u.y),_=Math.min(o.right,u.right),H=Math.min(o.bottom,u.bottom),K=_-p,ye=H-S;return ti(p,S,K,ye)},QO=(o,u)=>Ce(u,(p,S)=>yy(p,S),o),Hl=()=>vy(window);var Sg=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Tc=o=>{const u=H=>H(o),p=Q(o),S=()=>_,_={tag:!0,inner:o,fold:(H,K)=>K(o),isValue:ie,isError:X,map:H=>jo.value(H(o)),mapError:S,bind:u,exists:u,forall:u,getOr:p,or:S,getOrThunk:p,orThunk:S,getOrDie:p,each:H=>{H(o)},toOptional:()=>L.some(o)};return _},_f=o=>{const u=()=>p,p={tag:!1,inner:o,fold:(S,_)=>S(o),isValue:X,isError:ie,map:u,mapError:S=>jo.error(S(o)),bind:u,exists:X,forall:ie,getOr:z,or:z,getOrThunk:W,orThunk:W,getOrDie:E(String(o)),each:M,toOptional:L.none};return p},jo={value:Tc,error:_f,fromOption:(o,u)=>o.fold(()=>_f(u),Tc)};var Zc;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(Zc||(Zc={}));const Sh=(o,u,p)=>o.stype===Zc.Error?u(o.serror):p(o.svalue),ym=o=>{const u=[],p=[];return le(o,S=>{Sh(S,_=>p.push(_),_=>u.push(_))}),{values:u,errors:p}},Oy=(o,u)=>o.stype===Zc.Error?{stype:Zc.Error,serror:u(o.serror)}:o,xy=(o,u)=>o.stype===Zc.Value?{stype:Zc.Value,svalue:u(o.svalue)}:o,sc=(o,u)=>o.stype===Zc.Value?u(o.svalue):o,wi=(o,u)=>o.stype===Zc.Error?u(o.serror):o,su=o=>({stype:Zc.Value,svalue:o}),Hi=o=>({stype:Zc.Error,serror:o}),Ti={fromResult:o=>o.fold(Hi,su),toResult:o=>Sh(o,jo.error,jo.value),svalue:su,partition:ym,serror:Hi,bind:sc,bindError:wi,map:xy,mapError:Oy,fold:Sh},Ui=(o,u,p,S)=>({tag:"field",key:o,newKey:u,presence:p,prop:S}),Xu=(o,u)=>({tag:"custom",newKey:o,instantiator:u}),bm=(o,u,p)=>{switch(o.tag){case"field":return u(o.key,o.newKey,o.presence,o.prop);case"custom":return p(o.newKey,o.instantiator)}},Ci=(o,u)=>u,wg=(o,u)=>g(o)&&g(u)?Ta(o,u):u,Xp=o=>(...u)=>{if(u.length===0)throw new Error("Can't merge zero objects");const p={};for(let S=0;S<u.length;S++){const _=u[S];for(const H in _)vn(_,H)&&(p[H]=o(p[H],_[H]))}return p},Ta=Xp(wg),wh=Xp(Ci),Ks=()=>({tag:"required",process:{}}),Rf=o=>({tag:"defaultedThunk",process:o}),wy=o=>Rf(Q(o)),Gp=()=>({tag:"option",process:{}}),hs=o=>({tag:"mergeWithThunk",process:o}),Om=o=>hs(Q(o)),o0=(o,u)=>o.length>0?Ti.svalue(Ta(u,wh.apply(void 0,o))):Ti.svalue(u),jp=o=>V(Ti.serror,Ie)(o),Ty={consolidateObj:(o,u)=>{const p=Ti.partition(o);return p.errors.length>0?jp(p.errors):o0(p.values,u)},consolidateArr:o=>{const u=Ti.partition(o);return u.errors.length>0?jp(u.errors):Ti.svalue(u.values)}},xm=o=>c(o)&&ct(o).length>100?" removed due to size":JSON.stringify(o,null,2),s0=o=>{const u=o.length>10?o.slice(0,10).concat([{path:[],getErrorInfo:Q("... (only showing first ten failures)")}]):o;return ne(u,p=>"Failed path: ("+p.path.join(" > ")+`)
`+p.getErrorInfo())},Sm=(o,u)=>Ti.serror([{path:o,getErrorInfo:u}]),Tg=(o,u,p)=>Sm(o,()=>'Could not find valid *required* value for "'+u+'" in '+xm(p)),FO=(o,u)=>Sm(o,()=>'Choice schema did not contain choice key: "'+u+'"'),Gu=(o,u,p)=>Sm(o,()=>'The chosen schema: "'+p+'" did not exist in branches: '+xm(u)),VO=(o,u)=>Sm(o,()=>"There are unsupported fields: ["+u.join(", ")+"] specified"),wm=(o,u)=>Sm(o,Q(u)),ku=o=>{const u=(S,_)=>Ti.bindError(o(_),H=>wm(S,H)),p=Q("val");return{extract:u,toString:p}},a0=ku(Ti.svalue),Cy=(o,u,p,S)=>Bt(u,p).fold(()=>Tg(o,p,u),S),Cg=(o,u,p,S)=>{const _=Bt(o,u).getOrThunk(()=>p(o));return S(_)},ky=(o,u,p)=>p(Bt(o,u)),Ay=(o,u,p,S)=>{const _=Bt(o,u).map(H=>H===!0?p(o):H);return S(_)},Py=(o,u,p,S,_)=>{const H=ye=>_.extract(u.concat([S]),ye),K=ye=>ye.fold(()=>Ti.svalue(L.none()),Ae=>{const Ne=_.extract(u.concat([S]),Ae);return Ti.map(Ne,L.some)});switch(o.tag){case"required":return Cy(u,p,S,H);case"defaultedThunk":return Cg(p,S,o.process,H);case"option":return ky(p,S,K);case"defaultedOptionThunk":return Ay(p,S,o.process,K);case"mergeWithThunk":return Cg(p,S,Q({}),ye=>{const Ae=Ta(o.process(p),ye);return H(Ae)})}},i0=(o,u,p)=>{const S={},_=[];for(const H of p)bm(H,(K,ye,Ae,Ne)=>{const Ue=Py(Ae,o,u,K,Ne);Ti.fold(Ue,Je=>{_.push(...Je)},Je=>{S[ye]=Je})},(K,ye)=>{S[K]=ye(u)});return _.length>0?Ti.serror(_):Ti.svalue(S)},al=o=>({extract:(S,_)=>o().extract(S,_),toString:()=>o().toString()}),qp=o=>ct(wt(o,k)),ca=o=>{const u=uo(o),p=Le(o,(_,H)=>bm(H,K=>Ta(_,{[K]:!0}),Q(_)),{});return{extract:(_,H)=>{const K=b(H)?[]:qp(H),ye=Oe(K,Ae=>!En(p,Ae));return ye.length===0?u.extract(_,H):VO(_,ye)},toString:u.toString}},uo=o=>({extract:(S,_)=>i0(S,_,o),toString:()=>`obj{
`+ne(o,_=>bm(_,(H,K,ye,Ae)=>H+" -> "+Ae.toString(),(H,K)=>"state("+H+")")).join(`
`)+"}"}),ju=o=>({extract:(S,_)=>{const H=ne(_,(K,ye)=>o.extract(S.concat(["["+ye+"]"]),K));return Ty.consolidateArr(H)},toString:()=>"array("+o.toString()+")"}),Xr=(o,u)=>{const p=u!==void 0?u:z;return{extract:(H,K)=>{const ye=[];for(const Ae of o){const Ne=Ae.extract(H,K);if(Ne.stype===Zc.Value)return{stype:Zc.Value,svalue:p(Ne.svalue)};ye.push(Ne)}return Ty.consolidateArr(ye)},toString:()=>"oneOf("+ne(o,H=>H.toString()).join(", ")+")"}},Ul=(o,u)=>{const p=(H,K)=>ju(ku(o)).extract(H,K);return{extract:(H,K)=>{const ye=ct(K),Ae=p(H,ye);return Ti.bind(Ae,Ne=>{const Ue=ne(Ne,Je=>Ui(Je,Je,Ks(),u));return uo(Ue).extract(H,K)})},toString:()=>"setOf("+u.toString()+")"}},GS=(o,u)=>{const p=Xa(u);return{extract:(H,K)=>p().extract(H,K),toString:()=>p().toString()}},Ld=V(ju,uo),vi=Q(a0),Id=(o,u)=>ku(p=>{const S=typeof p;return o(p)?Ti.svalue(p):Ti.serror(`Expected type: ${u} but got: ${S}`)}),Kp=Id(T,"number"),il=Id(h,"string"),Df=Id(b,"boolean"),Tm=Id(w,"function"),qu=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(u=>qu(o[u]));default:return!1}},My=ku(o=>qu(o)?Ti.svalue(o):Ti.serror("Expected value to be acceptable for sending via postMessage")),l0=(o,u,p,S)=>Bt(p,S).fold(()=>Gu(o,p,S),H=>H.extract(o.concat(["branch: "+S]),u)),lr=(o,u)=>({extract:(_,H)=>Bt(H,o).fold(()=>FO(_,o),ye=>l0(_,H,u,ye)),toString:()=>"chooseOn("+o+"). Possible values: "+ct(u)}),zO=()=>ju(a0),_l=o=>ku(u=>o(u).fold(Ti.serror,Ti.svalue)),ed=(o,u)=>Ul(p=>Ti.fromResult(o(p)),u),kg=(o,u,p)=>{const S=u.extract([o],p);return Ti.mapError(S,_=>({input:p,errors:_}))},da=(o,u,p)=>Ti.toResult(kg(o,u,p)),aa=o=>o.fold(u=>{throw new Error(Wl(u))},z),Rl=(o,u,p)=>aa(da(o,u,p)),Wl=o=>`Errors: 
`+s0(o.errors).join(`
`)+`

Input object: `+xm(o.input),xs=(o,u)=>lr(o,je(u,uo)),Jp=(o,u)=>GS(o,u),ll=Ui,ni=Xu,ev=o=>_l(u=>xe(o,u)?jo.value(u):jo.error(`Unsupported value: "${u}", choose one of "${o.join(", ")}".`)),er=o=>ll(o,o,Ks(),vi()),Hc=(o,u)=>ll(o,o,Ks(),u),Ag=o=>Hc(o,Kp),zs=o=>Hc(o,il),$f=(o,u)=>ll(o,o,Ks(),ev(u)),jS=o=>Hc(o,Df),Ku=o=>Hc(o,Tm),c0=(o,u)=>ll(o,o,Gp(),ku(p=>Ti.serror("The field: "+o+" is forbidden. "+u))),au=(o,u)=>ll(o,o,Ks(),uo(u)),u0=(o,u)=>ll(o,o,Ks(),Ld(u)),ac=(o,u)=>ll(o,o,Ks(),ju(u)),Ws=o=>ll(o,o,Gp(),vi()),iu=(o,u)=>ll(o,o,Gp(),u),di=o=>iu(o,Kp),cl=o=>iu(o,il),Nd=(o,u)=>iu(o,ev(u)),td=o=>iu(o,Tm),Bd=(o,u)=>iu(o,ju(u)),Cc=(o,u)=>iu(o,uo(u)),nd=(o,u)=>iu(o,ca(u)),Mn=(o,u)=>ll(o,o,wy(u),vi()),kc=(o,u,p)=>ll(o,o,wy(u),p),rd=(o,u)=>kc(o,u,Kp),od=(o,u)=>kc(o,u,il),Uc=(o,u,p)=>kc(o,u,ev(p)),Wi=(o,u)=>kc(o,u,Df),Di=(o,u)=>kc(o,u,Tm),rk=(o,u)=>kc(o,u,My),Ac=(o,u,p)=>kc(o,u,ju(p)),D=(o,u,p)=>kc(o,u,uo(p)),G=o=>{let u=o;return{get:()=>u,set:_=>{u=_}}},Te={generate:o=>{if(!v(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const u=[],p={};return le(o,(S,_)=>{const H=ct(S);if(H.length!==1)throw new Error("one and only one name per case");const K=H[0],ye=S[K];if(p[K]!==void 0)throw new Error("duplicate key detected:"+K);if(K==="cata")throw new Error("cannot have a case named cata (sorry)");if(!v(ye))throw new Error("case arguments must be an array");u.push(K),p[K]=(...Ae)=>{const Ne=Ae.length;if(Ne!==ye.length)throw new Error("Wrong number of arguments to case "+K+". Expected "+ye.length+" ("+ye+"), got "+Ne);return{fold:(...Je)=>{if(Je.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+Je.length);return Je[_].apply(null,Ae)},match:Je=>{const st=ct(Je);if(u.length!==st.length)throw new Error("Wrong number of arguments to match. Expected: "+u.join(",")+`
Actual: `+st.join(","));if(!be(u,At=>xe(st,At)))throw new Error("Not all branches were specified when using match. Specified: "+st.join(", ")+`
Required: `+u.join(", "));return Je[K].apply(null,Ae)},log:Je=>{console.log(Je,{constructors:u,constructor:K,params:Ae})}}}}),p}};Te.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Pe=o=>{const u=[],p=[];return le(o,S=>{S.fold(_=>{u.push(_)},_=>{p.push(_)})}),{errors:u,values:p}},$e=(o,u)=>{const p={};return Ye(o,(S,_)=>{xe(u,_)||(p[_]=S)}),p},Ke=(o,u)=>({[o]:u}),We=o=>{const u={};return le(o,p=>{u[p.key]=p.value}),u},rt=(o,u)=>$e(o,u),vt=(o,u)=>Ke(o,u),bt=o=>We(o),Zt=(o,u)=>o.length===0?jo.value(u):jo.value(Ta(u,wh.apply(void 0,o))),Ut=o=>jo.error(Ie(o)),gn=(o,u)=>{const p=Pe(o);return p.errors.length>0?Ut(p.errors):Zt(p.values,u)},An=o=>w(o)?o:X,jt=(o,u,p)=>{let S=o.dom;const _=An(p);for(;S.parentNode;){S=S.parentNode;const H=zt.fromDom(S),K=u(H);if(K.isSome())return K;if(_(H))break}return L.none()},nn=(o,u,p)=>{const S=u(o),_=An(p);return S.orThunk(()=>_(o)?L.none():jt(o,u,_))},hn=(o,u)=>Jt(o.element,u.event.target),_n={can:ie,abort:X,run:M},Pn=o=>{if(!En(o,"can")&&!En(o,"abort")&&!En(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{..._n,...o}},yn=(o,u)=>(...p)=>Ce(o,(S,_)=>S&&u(_).apply(void 0,p),!0),cr=(o,u)=>(...p)=>Ce(o,(S,_)=>S||u(_).apply(void 0,p),!1),Hr=o=>w(o)?{can:ie,abort:X,run:o}:o,Jr=o=>{const u=yn(o,_=>_.can),p=cr(o,_=>_.abort);return{can:u,abort:p,run:(..._)=>{le(o,H=>{H.run.apply(void 0,_)})}}},Ar=Q,ro=Ar("touchstart"),fo=Ar("touchmove"),ts=Ar("touchend"),xo=Ar("touchcancel"),go=Ar("mousedown"),js=Ar("mousemove"),ri=Ar("mouseout"),ba=Ar("mouseup"),Lr=Ar("mouseover"),Do=Ar("focusin"),ms=Ar("focusout"),_s=Ar("keydown"),Qa=Ar("keyup"),hi=Ar("input"),Yi=Ar("change"),$i=Ar("click"),Wc=Ar("transitioncancel"),Ji=Ar("transitionend"),Pc=Ar("transitionstart"),Yl=Ar("selectstart"),ea=o=>Q("alloy."+o),Ju={tap:ea("tap")},Lf=ea("focus"),Xl=ea("blur.post"),Li=ea("paste.post"),Gl=ea("receive"),Ii=ea("execute"),ta=ea("focus.item"),Mc=Ju.tap,Qd=ea("longpress"),ef=ea("sandbox.close"),Cm=ea("typeahead.cancel"),Fd=ea("system.init"),Ey=ea("system.touchmove"),ZO=ea("system.touchend"),Th=ea("system.scroll"),Vd=ea("system.resize"),tf=ea("system.attached"),Pg=ea("system.detached"),Mg=ea("system.dismissRequested"),ok=ea("system.repositionRequested"),HO=ea("focusmanager.shifted"),_y=ea("slotcontainer.visibility"),UO=ea("system.external.element.scroll"),sk=ea("change.tab"),WO=ea("dismiss.tab"),Ry=ea("highlight"),Dy=ea("dehighlight"),ks=(o,u)=>{$y(o,o.element,u,{})},vo=(o,u,p)=>{$y(o,o.element,u,p)},km=o=>{ks(o,Ii())},YO=(o,u,p)=>{$y(o,u,p,{})},$y=(o,u,p,S)=>{const _={target:u,...S};o.getSystem().triggerEvent(p,u,_)},QM=(o,u,p,S)=>{const _={...S,target:u};o.getSystem().triggerEvent(p,u,_)},qS=(o,u,p,S)=>{o.getSystem().triggerEvent(p,u,S.event)},Ea=o=>bt(o),KS=(o,u)=>({key:o,value:Pn({abort:u})}),JS=(o,u)=>({key:o,value:Pn({can:u})}),ew=o=>({key:o,value:Pn({run:(u,p)=>{p.event.prevent()}})}),qn=(o,u)=>({key:o,value:Pn({run:u})}),XO=(o,u,p)=>({key:o,value:Pn({run:(S,_)=>{u.apply(void 0,[S,_].concat(p))}})}),FM=o=>u=>qn(o,u),Ly=o=>u=>({key:o,value:Pn({run:(p,S)=>{hn(p,S)&&u(p,S)}})}),VM=(o,u)=>qn(o,(p,S)=>{p.getSystem().getByUid(u).each(_=>{qS(_,_.element,o,S)})}),f0=(o,u,p)=>{const S=u.partUids[p];return VM(o,S)},tw=(o,u)=>qn(o,(p,S)=>{const _=S.event,H=p.getSystem().getByDom(_.target).getOrThunk(()=>nn(_.target,ye=>p.getSystem().getByDom(ye).toOptional(),X).getOr(p));u(p,H,S)}),Am=o=>qn(o,(u,p)=>{p.cut()}),zM=o=>qn(o,(u,p)=>{p.stop()}),Ch=(o,u)=>Ly(o)(u),Ca=Ly(tf()),kh=Ly(Pg()),nw=Ly(Fd()),sd=FM(Ii()),Pm=(o,u)=>{const S=(u||document).createElement("div");return S.innerHTML=o,qr(zt.fromDom(S))},rw=o=>o.dom.innerHTML,tv=(o,u)=>{const S=Tn(o).dom,_=zt.fromDom(S.createDocumentFragment()),H=Pm(u,S);Oh(_,H),xg(o),zc(o,_)},ak=o=>{const u=zt.fromTag("div"),p=zt.fromDom(o.dom.cloneNode(!0));return zc(u,p),rw(u)},GO=(o,u)=>zt.fromDom(o.dom.cloneNode(u)),ow=o=>GO(o,!1),ZM=o=>GO(o,!0),sw=o=>{if(Ko(o))return"#shadow-root";{const u=ow(o);return ak(u)}},Ah=o=>sw(o),c9=(o,u,p)=>Jt(u,o.element)&&!Jt(u,p),aw=Ea([JS(Lf(),(o,u)=>{const p=u.event,S=p.originator,_=p.target;return c9(o,S,_)?(console.warn(Lf()+` did not get interpreted by the desired target. 
Originator: `+Ah(S)+`
Target: `+Ah(_)+`
Check the `+Lf()+" event handlers"),!1):!0})]);var Eg=Object.freeze({__proto__:null,events:aw});let jl=0;const Kr=o=>{const p=new Date().getTime(),S=Math.floor(Math.random()*1e9);return jl++,o+"_"+S+jl+String(p)},HM=Q("alloy-id-"),iw=Q("data-alloy-id"),UM=HM(),ik=iw(),nv=(o,u)=>{const p=Kr(UM+o);return d0(u,p),p},d0=(o,u)=>{Object.defineProperty(o.dom,ik,{value:u,writable:!0})},Iy=o=>{const u=St(o)?o.dom[ik]:null;return L.from(u)},h0=o=>Kr(o),jO=z,Mm=o=>{const u=_=>`The component must be in a context to execute: ${_}`+(o?`
`+Ah(o().element)+" is not in context.":""),p=_=>()=>{throw new Error(u(_))},S=_=>()=>{console.warn(u(_))};return{debugInfo:Q("fake"),triggerEvent:S("triggerEvent"),triggerFocus:S("triggerFocus"),triggerEscape:S("triggerEscape"),broadcast:S("broadcast"),broadcastOn:S("broadcastOn"),broadcastEvent:S("broadcastEvent"),build:p("build"),buildOrPatch:p("buildOrPatch"),addToWorld:p("addToWorld"),removeFromWorld:p("removeFromWorld"),addToGui:p("addToGui"),removeFromGui:p("removeFromGui"),getByUid:p("getByUid"),getByDom:p("getByDom"),isConnected:X}},zd=Mm(),Ny=(o,u,p)=>{const S=p.toString(),_=S.indexOf(")")+1,H=S.indexOf("("),K=S.substring(H+1,_-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:u,parameters:If(K.slice(0,1).concat(K.slice(3)))}),o},If=o=>ne(o,u=>mt(u,"/*")?u.substring(0,u.length-2):u),qO=(o,u)=>{const p=o.toString(),S=p.indexOf(")")+1,_=p.indexOf("("),H=p.substring(_+1,S-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:u,parameters:If(H)}),o},lk=(o,u)=>{const p=u.toString(),S=p.indexOf(")")+1,_=p.indexOf("("),H=p.substring(_+1,S-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:If(H.slice(1))}),o},m0=Kr("alloy-premade"),Em=o=>(Object.defineProperty(o.element.dom,m0,{value:o.uid,writable:!0}),vt(m0,o)),WM=o=>vn(o.dom,m0),g0=o=>Bt(o,m0),rv=o=>lk((u,...p)=>o(u.getApis(),u,...p),o),ad={init:()=>Au({readState:Q("No State required")})},Au=o=>o,YM=(o,u)=>{const p=ne(u,_=>Cc(_.name(),[er("config"),Mn("state",ad)])),S=da("component.behaviours",uo(p),o.behaviours).fold(_=>{throw new Error(Wl(_)+`
Complete spec:
`+JSON.stringify(o,null,2))},z);return{list:u,data:je(S,_=>{const H=_.map(K=>({config:K.config,state:K.state.init(K.config)}));return Q(H)})}},ck=o=>o.list,uk=o=>o.data,lw=(o,u)=>{const p={};return Ye(o,(S,_)=>{Ye(S,(H,K)=>{const ye=Bt(p,K).getOr([]);p[K]=ye.concat([u(_,H)])})}),p},Pu=o=>({classes:O(o.classes)?[]:o.classes,attributes:O(o.attributes)?{}:o.attributes,styles:O(o.styles)?{}:o.styles}),p0=(o,u)=>({...o,attributes:{...o.attributes,...u.attributes},styles:{...o.styles,...u.styles},classes:o.classes.concat(u.classes)}),KO=(o,u,p,S)=>{const _={...u};le(p,Ue=>{_[Ue.name()]=Ue.exhibit(o,S)});const H=lw(_,(Ue,Je)=>({name:Ue,modification:Je})),K=Ue=>Le(Ue,(Je,st)=>({...st.modification,...Je}),{}),ye=Le(H.classes,(Ue,Je)=>Je.modification.concat(Ue),[]),Ae=K(H.attributes),Ne=K(H.styles);return Pu({classes:ye,attributes:Ae,styles:Ne})},JO=(o,u,p,S)=>{try{const _=Se(p,(H,K)=>{const ye=H[u],Ae=K[u],Ne=S.indexOf(ye),Ue=S.indexOf(Ae);if(Ne===-1)throw new Error("The ordering for "+o+" does not have an entry for "+ye+`.
Order specified: `+JSON.stringify(S,null,2));if(Ue===-1)throw new Error("The ordering for "+o+" does not have an entry for "+Ae+`.
Order specified: `+JSON.stringify(S,null,2));return Ne<Ue?-1:Ue<Ne?1:0});return jo.value(_)}catch(_){return jo.error([_])}},XM=(o,u)=>({handler:o,purpose:u}),fk=(o,u)=>({cHandler:o,purpose:u}),cw=(o,u)=>fk(F.apply(void 0,[o.handler].concat(u)),o.purpose),v0=o=>o.cHandler,y0=(o,u)=>({name:o,handler:u}),ex=(o,u)=>{const p={};return le(o,S=>{p[S.name()]=S.handlers(u)}),p},GM=(o,u,p)=>{const S={...p,...ex(u,o)};return lw(S,y0)},tx=(o,u,p,S)=>{const _=GM(o,p,S);return uw(_,u)},b0=o=>{const u=Hr(o);return(p,S,..._)=>{const H=[p,S].concat(_);u.abort.apply(void 0,H)?S.stop():u.can.apply(void 0,H)&&u.run.apply(void 0,H)}},jM=(o,u)=>jo.error(["The event ("+o+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(ne(u,p=>p.name),null,2)]),By=(o,u,p)=>{const S=u[p];return S?JO("Event: "+p,"name",o,S).map(_=>{const H=ne(_,K=>K.handler);return Jr(H)}):jM(p,o)},uw=(o,u)=>{const p=Xt(o,(S,_)=>(S.length===1?jo.value(S[0].handler):By(S,u,_)).map(K=>{const ye=b0(K),Ae=S.length>1?Oe(u[_],Ne=>we(S,Ue=>Ue.name===Ne)).join(" > "):S[0].name;return vt(_,XM(ye,Ae))}));return gn(p,{})},Mu="alloy.base.behaviour",nx=uo([ll("dom","dom",Ks(),uo([er("tag"),Mn("styles",{}),Mn("classes",[]),Mn("attributes",{}),Ws("value"),Ws("innerHtml")])),er("components"),er("uid"),Mn("events",{}),Mn("apis",{}),ll("eventOrder","eventOrder",Om({[Ii()]:["disabling",Mu,"toggling","typeaheadevents"],[Lf()]:[Mu,"focusing","keying"],[Fd()]:[Mu,"disabling","toggling","representing"],[hi()]:[Mu,"representing","streaming","invalidating"],[Pg()]:[Mu,"representing","item-events","tooltipping"],[go()]:["focusing",Mu,"item-type-events"],[ro()]:["focusing",Mu,"item-type-events"],[Lr()]:["item-type-events","tooltipping"],[Gl()]:["receiving","reflecting","tooltipping"]}),vi()),Ws("domModification")]),dk=o=>da("custom.definition",nx,o),rx=o=>({...o.dom,uid:o.uid,domChildren:ne(o.components,u=>u.element)}),u9=o=>o.domModification.fold(()=>Pu({}),Pu),ox=o=>o.events,_g=(o,u)=>{const p=oa(o,u);return p===void 0||p===""?[]:p.split(" ")},Ph=(o,u,p)=>{const _=_g(o,u).concat([p]);return Dr(o,u,_.join(" ")),!0},fw=(o,u,p)=>{const S=Oe(_g(o,u),_=>_!==p);return S.length>0?Dr(o,u,S.join(" ")):sa(o,u),!1},O0=o=>o.dom.classList!==void 0,sx=o=>_g(o,"class"),hk=(o,u)=>Ph(o,"class",u),$a=(o,u)=>fw(o,"class",u),qM=(o,u)=>xe(sx(o),u)?$a(o,u):hk(o,u),ki=(o,u)=>{O0(o)?o.dom.classList.add(u):hk(o,u)},mk=o=>{(O0(o)?o.dom.classList:sx(o)).length===0&&sa(o,"class")},Ga=(o,u)=>{O0(o)?o.dom.classList.remove(u):$a(o,u),mk(o)},x0=(o,u)=>{const p=O0(o)?o.dom.classList.toggle(u):qM(o,u);return mk(o),p},el=(o,u)=>O0(o)&&o.dom.classList.contains(u),oi=(o,u)=>{le(u,p=>{ki(o,p)})},nf=(o,u)=>{le(u,p=>{Ga(o,p)})},dw=(o,u)=>{le(u,p=>{x0(o,p)})},ql=(o,u)=>be(u,p=>el(o,p)),Qy=o=>{const u=o.dom.classList,p=new Array(u.length);for(let S=0;S<u.length;S++){const _=u.item(S);_!==null&&(p[S]=_)}return p},S0=o=>O0(o)?Qy(o):sx(o),Mh=o=>o.dom.value,w0=(o,u)=>{if(u===void 0)throw new Error("Value.set was undefined");o.dom.value=u},Rg=(o,u,p)=>no(o,u).map(_=>{if(p.exists(K=>!Jt(K,_))){const K=p.map(Oo).getOr("span"),ye=zt.fromTag(K);return Wu(_,ye),ye}else return _}),_m=(o,u,p)=>{p.fold(()=>zc(o,u),S=>{Jt(S,u)||(Wu(S,u),wc(S))})},KM=(o,u,p)=>{const S=ne(u,p),_=qr(o);return le(_.slice(S.length),wc),S},gk=(o,u,p,S)=>{const _=no(o,u),H=S(p,_),K=Rg(o,u,_);return _m(o,H.element,K),H},f9=(o,u,p)=>KM(o,u,(S,_)=>gk(o,_,S,p)),d9=(o,u)=>KM(o,u,(p,S)=>{const _=no(o,S);return _m(o,p,_),p}),id=(o,u)=>{const p=ct(o),S=ct(u),_=se(S,p),H=tt(o,(K,ye)=>!vn(u,ye)||K!==u[ye]).t;return{toRemove:_,toSet:H}},Ec=(o,u)=>{const{class:p,style:S,..._}=xu(u),{toSet:H,toRemove:K}=id(o.attributes,_),ye=()=>{le(K,kn=>sa(u,kn)),Oc(u,H)},Ae=Va(u),{toSet:Ne,toRemove:Ue}=id(o.styles,Ae),Je=()=>{le(Ue,kn=>Ho(u,kn)),zi(u,Ne)},st=S0(u),ht=se(st,o.classes),At=se(o.classes,st),qt=()=>{oi(u,At),nf(u,ht)},Dn=kn=>{tv(u,kn)},mn=()=>{const kn=o.domChildren;d9(u,kn)},sn=()=>{const kn=u,Zn=o.value.getOrUndefined();Zn!==Mh(kn)&&w0(kn,Zn??"")};return ye(),qt(),Je(),o.innerHtml.fold(mn,Dn),sn(),u},JM=o=>{const u=zt.fromTag(o.tag);Oc(u,o.attributes),oi(u,o.classes),zi(u,o.styles),o.innerHtml.each(S=>tv(u,S));const p=o.domChildren;return Oh(u,p),o.value.each(S=>{w0(u,S)}),u},eE=(o,u)=>{try{const p=Ec(o,u);return L.some(p)}catch{return L.none()}},Dg=o=>o.innerHtml.isSome()&&o.domChildren.length>0,Fy=(o,u)=>{const p=_=>Oo(_)===o.tag&&!Dg(o)&&!WM(_),S=u.filter(p).bind(_=>eE(o,_)).getOrThunk(()=>JM(o));return d0(S,o.uid),S},ax=o=>{const u=Bt(o,"behaviours").getOr({});return re(ct(u),p=>{const S=u[p];return k(S)?[S.me]:[]})},ix=(o,u)=>YM(o,u),Eh=o=>{const u=ax(o);return ix(o,u)},T0=(o,u,p)=>{const S=rx(o),_=u9(o),H={"alloy.base.modification":_},K=u.length>0?KO(p,H,u,S):_;return p0(S,K)},C0=(o,u,p)=>{const S={"alloy.base.behaviour":ox(o)};return tx(p,o.eventOrder,u,S).getOrDie()},k0=(o,u)=>{const p=()=>kn,S=G(zd),_=aa(dk(o)),H=Eh(o),K=ck(H),ye=uk(H),Ae=T0(_,K,ye),Ne=Fy(Ae,u),Ue=C0(_,K,ye),Je=G(_.components),st=Zn=>{S.set(Zn)},ht=()=>{S.set(Mm(p))},At=()=>{const Zn=qr(Ne),mr=re(Zn,Gn=>S.get().getByDom(Gn).fold(()=>[],oe));Je.set(mr)},qt=Zn=>{const mr=ye;return(w(mr[Zn.name()])?mr[Zn.name()]:()=>{throw new Error("Could not find "+Zn.name()+" in "+JSON.stringify(o,null,2))})()},Dn=Zn=>w(ye[Zn.name()]),mn=()=>_.apis,sn=Zn=>ye[Zn]().map(mr=>mr.state.readState()).getOr("not enabled"),kn={uid:o.uid,getSystem:S.get,config:qt,hasConfigured:Dn,spec:o,readState:sn,getApis:mn,connect:st,disconnect:ht,element:Ne,syncComponents:At,components:Je.get,events:Ue};return kn},ov=(o,u)=>{const p=Bt(o,"components").getOr([]);return u.fold(()=>ne(p,ic),S=>ne(p,(_,H)=>lx(_,no(S,H))))},pk=(o,u)=>{const{events:p,...S}=jO(o),_=ov(S,u),H={...S,events:{...Eg,...p},components:_};return jo.value(k0(H,u))},yi=o=>{const u=zt.fromText(o);return vk({element:u})},vk=o=>{const u=Rl("external.component",ca([er("element"),Ws("uid")]),o),p=G(Mm()),S=ye=>{p.set(ye)},_=()=>{p.set(Mm(()=>K))},H=u.uid.getOrThunk(()=>h0("external"));d0(u.element,H);const K={uid:H,getSystem:p.get,config:L.none,hasConfigured:X,connect:S,disconnect:_,getApis:()=>({}),element:u.element,spec:o,readState:Q("No state"),syncComponents:M,components:Q([]),events:{}};return Em(K)},A0=h0,yk=o=>vn(o,"uid"),lx=(o,u)=>g0(o).getOrThunk(()=>{const p=yk(o)?o:{uid:A0(""),...o};return pk(p,u).getOrDie()}),ic=o=>lx(o,L.none()),rf=Em;var bk=(o,u,p,S,_)=>o(p,S)?L.some(p):w(_)&&_(p)?L.none():u(p,S,_);const cx=(o,u,p)=>{let S=o.dom;const _=w(p)?p:X;for(;S.parentNode;){S=S.parentNode;const H=zt.fromDom(S);if(u(H))return L.some(H);if(_(H))break}return L.none()},sv=(o,u,p)=>bk((_,H)=>H(_),cx,o,u,p),tE=(o,u)=>{const p=_=>u(zt.fromDom(_));return Ve(o.dom.childNodes,p).map(zt.fromDom)},Ok=(o,u)=>{const p=S=>{for(let _=0;_<S.childNodes.length;_++){const H=zt.fromDom(S.childNodes[_]);if(u(H))return L.some(H);const K=p(S.childNodes[_]);if(K.isSome())return K}return L.none()};return p(o.dom)},hw=(o,u,p)=>sv(o,u,p).isSome(),Eu=(o,u,p)=>cx(o,S=>$t(S,u),p),ux=(o,u)=>tE(o,p=>$t(p,u)),Ai=(o,u)=>un(u,o),Zd=(o,u,p)=>bk((_,H)=>$t(_,H),Eu,o,u,p),P0="aria-controls",$g=o=>sv(o,p=>{if(!St(p))return!1;const S=oa(p,"id");return S!==void 0&&S.indexOf(P0)>-1}).bind(p=>{const S=oa(p,"id"),_=es(p);return Ai(_,`[${P0}="${S}"]`)}),av=()=>{const o=Kr(P0);return{id:o,link:S=>{Dr(S,P0,o)},unlink:S=>{sa(S,P0)}}},iv=(o,u)=>$g(u).exists(p=>Rm(o,p)),Rm=(o,u)=>hw(u,p=>Jt(p,o.element),X)||iv(o,u),xk="unknown";var lv;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(lv||(lv={}));const Lg=G({}),cv=(o,u)=>{const p=[],S=new Date().getTime();return{logEventCut:(_,H,K)=>{p.push({outcome:"cut",target:H,purpose:K})},logEventStopped:(_,H,K)=>{p.push({outcome:"stopped",target:H,purpose:K})},logNoParent:(_,H,K)=>{p.push({outcome:"no-parent",target:H,purpose:K})},logEventNoHandlers:(_,H)=>{p.push({outcome:"no-handlers-left",target:H})},logEventResponse:(_,H,K)=>{p.push({outcome:"response",purpose:K,target:H})},write:()=>{const _=new Date().getTime();xe(["mousemove","mouseover","mouseout",Fd()],o)||console.log(o,{event:o,time:_-S,target:u.dom,sequence:ne(p,H=>xe(["cut","stopped","response"],H.outcome)?"{"+H.purpose+"} "+H.outcome+" at ("+Ah(H.target)+")":H.outcome)})}}},Sk=(o,u,p)=>{switch(Bt(Lg.get(),o).orThunk(()=>{const _=ct(Lg.get());return Xe(_,H=>o.indexOf(H)>-1?L.some(Lg.get()[H]):L.none())}).getOr(lv.NORMAL)){case lv.NORMAL:return p(gw());case lv.LOGGING:{const _=cv(o,u),H=p(_);return _.write(),H}case lv.STOP:return!0}},nE=["alloy/data/Fields","alloy/debugging/Debugging"],mw=()=>{const o=new Error;if(o.stack!==void 0){const u=o.stack.split(`
`);return Ve(u,p=>p.indexOf("alloy")>0&&!we(nE,S=>p.indexOf(S)>-1)).getOr(xk)}else return xk},rE={logEventCut:M,logEventStopped:M,logNoParent:M,logEventNoHandlers:M,logEventResponse:M,write:M},fx=(o,u,p)=>Sk(o,u,p),gw=Q(rE),_u=Q([er("menu"),er("selectedMenu")]),wk=Q([er("item"),er("selectedItem")]);Q(uo(wk().concat(_u())));const M0=Q(uo(wk())),Tk=au("initSize",[er("numColumns"),er("numRows")]),oE=()=>Hc("markers",M0()),Vy=()=>au("markers",[er("backgroundMenu")].concat(_u()).concat(wk())),Ig=o=>au("markers",ne(o,er)),dx=(o,u,p)=>(mw(),ll(u,u,p,_l(S=>jo.value((..._)=>S.apply(void 0,_))))),Rs=o=>dx("onHandler",o,wy(M)),Ru=o=>dx("onKeyboardHandler",o,wy(L.none)),Hd=o=>dx("onHandler",o,Ks()),pw=o=>dx("onKeyboardHandler",o,Ks()),ha=(o,u)=>ni(o,Q(u)),zy=o=>ni(o,z),vw=Q(Tk),ul=(o,u,p,S,_,H,K,ye=!1)=>({x:o,y:u,bubble:p,direction:S,placement:_,restriction:H,label:`${K}-${_}`,alwaysFit:ye}),_h=Te.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ng=(o,u,p,S,_,H,K,ye,Ae)=>o.fold(u,p,S,_,H,K,ye,Ae),yw=(o,u,p,S)=>o.fold(u,u,S,S,u,S,p,p),hx=(o,u,p,S)=>o.fold(u,S,u,S,p,p,u,S),Zy=_h.southeast,bw=_h.southwest,mx=_h.northeast,Rh=_h.northwest,Dm=_h.south,sE=_h.north,Nn=_h.east,Hy=_h.west,E0=(o,u,p,S)=>{const _=o+u;return _>S?p:_<p?S:_},of=(o,u,p)=>Math.min(Math.max(o,u),p),Ow=(o,u)=>{switch(u){case 1:return o.x;case 0:return o.x+o.width;case 2:return o.y;case 3:return o.y+o.height}},Ua=(o,u)=>fe(["left","right","top","bottom"],p=>Bt(u,p).map(S=>Ow(o,S))),gx=(o,u,p)=>{const S=(Ae,Ne)=>u[Ae].map(Ue=>{const Je=Ae==="top"||Ae==="bottom",st=Je?p.top:p.left,At=(Ae==="left"||Ae==="top"?Math.max:Math.min)(Ue,Ne)+st;return Je?of(At,o.y,o.bottom):of(At,o.x,o.right)}).getOr(Ne),_=S("left",o.x),H=S("top",o.y),K=S("right",o.right),ye=S("bottom",o.bottom);return ti(_,H,K-_,ye-H)},$m="layout",xw=o=>o.x,px=(o,u)=>o.x+o.width/2-u.width/2,Sw=(o,u)=>o.x+o.width-u.width,Uy=(o,u)=>o.y-u.height,_0=o=>o.y+o.height,ww=(o,u)=>o.y+o.height/2-u.height/2,aE=o=>o.x+o.width,Yc=(o,u)=>o.x-u.width,fl=(o,u,p)=>ul(xw(o),_0(o),p.southeast(),Zy(),"southeast",Ua(o,{left:1,top:3}),$m),Kl=(o,u,p)=>ul(Sw(o,u),_0(o),p.southwest(),bw(),"southwest",Ua(o,{right:0,top:3}),$m),Xc=(o,u,p)=>ul(xw(o),Uy(o,u),p.northeast(),mx(),"northeast",Ua(o,{left:1,bottom:2}),$m),lc=(o,u,p)=>ul(Sw(o,u),Uy(o,u),p.northwest(),Rh(),"northwest",Ua(o,{right:0,bottom:2}),$m),_c=(o,u,p)=>ul(px(o,u),Uy(o,u),p.north(),sE(),"north",Ua(o,{bottom:2}),$m),dl=(o,u,p)=>ul(px(o,u),_0(o),p.south(),Dm(),"south",Ua(o,{top:3}),$m),Tw=(o,u,p)=>ul(aE(o),ww(o,u),p.east(),Nn(),"east",Ua(o,{left:0}),$m),Wy=(o,u,p)=>ul(Yc(o,u),ww(o,u),p.west(),Hy(),"west",Ua(o,{right:1}),$m),Cw=()=>[fl,Kl,Xc,lc,dl,_c,Tw,Wy],Yy=()=>[Kl,fl,lc,Xc,dl,_c,Tw,Wy],kw=()=>[Xc,lc,fl,Kl,_c,dl],Ck=()=>[lc,Xc,Kl,fl,_c,dl],vx=()=>[fl,Kl,Xc,lc,dl,_c],Aw=()=>[Kl,fl,lc,Xc,dl,_c],iE=(o,u)=>u.universal?o:Oe(o,p=>xe(u.channels,p));var kk=Object.freeze({__proto__:null,events:o=>Ea([qn(Gl(),(u,p)=>{const S=o.channels,_=ct(S),H=p,K=iE(_,H);le(K,ye=>{const Ae=S[ye],Ne=Ae.schema,Ue=Rl("channel["+ye+`] data
Receiver: `+Ah(u.element),Ne,H.data);Ae.onReceive(u,Ue)})})])}),cE=[Hc("channels",ed(jo.value,ca([Hd("onReceive"),Mn("schema",vi())])))];const R0=(o,u,p)=>sd(S=>{p(S,o,u)}),yx=(o,u,p)=>nw((S,_)=>{p(S,o,u)}),Ak=(o,u,p,S,_,H)=>{const K=ca(o),ye=Cc(u,[nd("config",o)]);return Ud(K,ye,u,p,S,_,H)},h9=(o,u,p,S,_,H)=>{const K=o,ye=Cc(u,[iu("config",o)]);return Ud(K,ye,u,p,S,_,H)},lu=(o,u,p)=>Ny((_,...H)=>{const K=[_].concat(H);return _.config({name:Q(o)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+o+". Using API: "+p)},ye=>{const Ae=Array.prototype.slice.call(K,1);return u.apply(void 0,[_,ye.config,ye.state].concat(Ae))})},p,u),m9=o=>({key:o,value:void 0}),Ud=(o,u,p,S,_,H,K)=>{const ye=Je=>En(Je,p)?Je[p]():L.none(),Ae=je(_,(Je,st)=>lu(p,Je,st)),Ue={...je(H,(Je,st)=>qO(Je,st)),...Ae,revoke:F(m9,p),config:Je=>{const st=Rl(p+"-config",o,Je);return{key:p,value:{config:st,me:Ue,configAsRaw:Xa(()=>Rl(p+"-config",o,Je)),initialConfig:Je,state:K}}},schema:Q(u),exhibit:(Je,st)=>Xn(ye(Je),Bt(S,"exhibit"),(ht,At)=>At(st,ht.config,ht.state)).getOrThunk(()=>Pu({})),name:Q(p),handlers:Je=>ye(Je).map(st=>Bt(S,"events").getOr(()=>({}))(st.config,st.state)).getOr({})};return Ue},pr=o=>bt(o),Pw=ca([er("fields"),er("name"),Mn("active",{}),Mn("apis",{}),Mn("state",ad),Mn("extra",{})]),hl=o=>{const u=Rl("Creating behaviour: "+o.name,Pw,o);return Ak(u.fields,u.name,u.active,u.apis,u.extra,u.state)},Pk=ca([er("branchKey"),er("branches"),er("name"),Mn("active",{}),Mn("apis",{}),Mn("state",ad),Mn("extra",{})]),bx=o=>{const u=Rl("Creating behaviour: "+o.name,Pk,o);return h9(xs(u.branchKey,u.branches),u.name,u.active,u.apis,u.extra,u.state)},Mw=Q(void 0),cu=hl({fields:cE,name:"receiving",active:kk});var Mk=Object.freeze({__proto__:null,exhibit:(o,u)=>Pu({classes:[],styles:u.useFixed()?{}:{position:"relative"}})});const uu=(o,u=!1)=>o.dom.focus({preventScroll:u}),D0=o=>o.dom.blur(),Xy=o=>{const u=es(o).dom;return o.dom===u.activeElement},Dh=(o=t0())=>L.from(o.dom.activeElement).map(zt.fromDom),ld=o=>Dh(es(o)).filter(u=>o.dom.contains(u.dom)),Wr=(o,u)=>{const p=es(u),S=Dh(p).bind(H=>{const K=ye=>Jt(H,ye);return K(u)?L.some(u):Ok(u,K)}),_=o(u);return S.each(H=>{Dh(p).filter(K=>Jt(K,H)).fold(()=>{uu(H)},M)}),_},sf=(o,u,p,S,_)=>{const H=K=>K+"px";return{position:o,left:u.map(H),top:p.map(H),right:S.map(H),bottom:_.map(H)}},Ek=o=>({...o,position:L.some(o.position)}),_k=(o,u)=>{fr(o,Ek(u))},Ew=Te.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Rk=(o,u,p,S,_,H)=>{const K=u.rect,ye=K.x-p,Ae=K.y-S,Ne=K.width,Ue=K.height,Je=_-(ye+Ne),st=H-(Ae+Ue),ht=L.some(ye),At=L.some(Ae),qt=L.some(Je),Dn=L.some(st),mn=L.none();return Ng(u.direction,()=>sf(o,ht,At,mn,mn),()=>sf(o,mn,At,qt,mn),()=>sf(o,ht,mn,mn,Dn),()=>sf(o,mn,mn,qt,Dn),()=>sf(o,ht,At,mn,mn),()=>sf(o,ht,mn,mn,Dn),()=>sf(o,ht,At,mn,mn),()=>sf(o,mn,At,qt,mn))},_w=(o,u)=>o.fold(()=>{const p=u.rect;return sf("absolute",L.some(p.x),L.some(p.y),L.none(),L.none())},(p,S,_,H)=>Rk("absolute",u,p,S,_,H),(p,S,_,H)=>Rk("fixed",u,p,S,_,H)),Rw=(o,u)=>{const p=F(Yp,u),S=o.fold(p,p,()=>{const K=El();return Yp(u).translate(-K.left,-K.top)}),_=kf(u),H=zu(u);return ti(S.left,S.top,_,H)},fE=(o,u)=>u.fold(()=>o.fold(Hl,Hl,ti),p=>o.fold(Q(p),Q(p),()=>{const S=Dw(o,p.x,p.y);return ti(S.left,S.top,p.width,p.height)})),Dw=(o,u,p)=>{const S=Is(u,p),_=()=>{const H=El();return S.translate(-H.left,-H.top)};return o.fold(Q(S),Q(S),_)},dE=(o,u,p,S)=>o.fold(u,p,S);Ew.none;const Rc=Ew.relative,Gy=Ew.fixed,hE=(o,u)=>({anchorBox:o,origin:u}),mE=(o,u)=>hE(o,u),$w="data-alloy-placement",gE=(o,u)=>{Dr(o,$w,u)},Dk=o=>Ri(o,$w),$k=o=>sa(o,$w),jy=Te.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Lk=(o,u)=>{const{x:p,y:S,right:_,bottom:H}=u,{x:K,y:ye,right:Ae,bottom:Ne,width:Ue,height:Je}=o,st=K>=p&&K<=_,ht=ye>=S&&ye<=H,At=st&&ht,qt=Ae<=_&&Ae>=p,Dn=Ne<=H&&Ne>=S,mn=qt&&Dn,sn=Math.min(Ue,K>=p?_-K:Ae-p),kn=Math.min(Je,ye>=S?H-ye:Ne-S);return{originInBounds:At,sizeInBounds:mn,visibleW:sn,visibleH:kn}},Lw=(o,u)=>{const{x:p,y:S,right:_,bottom:H}=u,{x:K,y:ye,width:Ae,height:Ne}=o,Ue=Math.max(p,_-Ae),Je=Math.max(S,H-Ne),st=of(K,p,Ue),ht=of(ye,S,Je),At=Math.min(st+Ae,_)-st,qt=Math.min(ht+Ne,H)-ht;return ti(st,ht,At,qt)},uv=(o,u,p)=>{const S=Q(u.bottom-p.y),_=Q(p.bottom-u.y),H=yw(o,_,_,S),K=Q(u.right-p.x),ye=Q(p.right-u.x);return{maxWidth:hx(o,ye,ye,K),maxHeight:H}},pE=(o,u,p,S)=>{const _=o.bubble,H=_.offset,K=gx(S,o.restriction,H),ye=o.x+H.left,Ae=o.y+H.top,Ne=ti(ye,Ae,u,p),{originInBounds:Ue,sizeInBounds:Je,visibleW:st,visibleH:ht}=Lk(Ne,K),At=Ue&&Je,qt=At?Ne:Lw(Ne,K),Dn=qt.width>0&&qt.height>0,{maxWidth:mn,maxHeight:sn}=uv(o.direction,qt,S),kn={rect:qt,maxHeight:sn,maxWidth:mn,direction:o.direction,placement:o.placement,classes:{on:_.classesOn,off:_.classesOff},layout:o.label,testY:Ae};return At||o.alwaysFit?jy.fit(kn):jy.nofit(kn,st,ht,Dn)},vE=(o,u,p,S,_,H)=>{const K=S.width,ye=S.height,Ae=(Ue,Je,st,ht,At)=>{const qt=Ue(p,S,_,o,H),Dn=pE(qt,K,ye,H);return Dn.fold(Q(Dn),(mn,sn,kn,Zn)=>(At===Zn?kn>ht||sn>st:!At&&Zn)?Dn:jy.nofit(Je,st,ht,At))};return Ce(u,(Ue,Je)=>{const st=F(Ae,Je);return Ue.fold(Q(Ue),st)},jy.nofit({rect:p,maxHeight:S.height,maxWidth:S.width,direction:Zy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:p.y},-1,-1,!1)).fold(z,z)},Iw=o=>{const u=G(L.none()),p=()=>u.get().each(o);return{clear:()=>{p(),u.set(L.none())},isSet:()=>u.get().isSome(),get:()=>u.get(),set:ye=>{p(),u.set(L.some(ye))}}},yE=()=>Iw(o=>o.destroy()),Lm=()=>Iw(o=>o.unbind()),gs=()=>{const o=Iw(M);return{...o,on:p=>o.get().each(p)}},Nw=ie,Dc=(o,u,p)=>Og(o,u,Nw,p),Ox=(o,u,p)=>gy(o,u,Nw,p),Bw=my,Qw=["top","bottom","right","left"],xx="data-alloy-transition-timer",Ik=(o,u)=>ql(o,u.classes),bE=(o,u,p)=>p.exists(S=>{const _=o.mode;return _==="all"?!0:S[_]!==u[_]}),OE=(o,u)=>{const p=S=>parseFloat(S).toFixed(3);return Gt(u,(S,_)=>{const H=o[_].map(p),K=S.map(p);return!Yn(H,K)}).isSome()},$0=o=>{const u=H=>{const ye=Fa(o,H).split(/\s*,\s*/);return Oe(ye,dn)},p=H=>{if(h(H)&&/^[\d.]+/.test(H)){const K=parseFloat(H);return mt(H,"ms")?K:K*1e3}else return 0},S=u("transition-delay"),_=u("transition-duration");return Ce(_,(H,K,ye)=>{const Ae=p(S[ye])+p(K);return Math.max(H,Ae)},0)},Nk=(o,u)=>{const p=Lm(),S=Lm();let _;const H=Ne=>{var Ue;const Je=(Ue=Ne.raw.pseudoElement)!==null&&Ue!==void 0?Ue:"";return Jt(Ne.target,o)&&rn(Je)&&xe(Qw,Ne.raw.propertyName)},K=Ne=>{if(C(Ne)||H(Ne)){p.clear(),S.clear();const Ue=Ne==null?void 0:Ne.raw.type;(C(Ue)||Ue===Ji())&&(clearTimeout(_),sa(o,xx),nf(o,u.classes))}},ye=Dc(o,Pc(),Ne=>{H(Ne)&&(ye.unbind(),p.set(Dc(o,Ji(),K)),S.set(Dc(o,Wc(),K)))}),Ae=$0(o);requestAnimationFrame(()=>{_=setTimeout(K,Ae+17),Dr(o,xx,_)})},g9=(o,u)=>{oi(o,u.classes),Ri(o,xx).each(p=>{clearTimeout(parseInt(p,10)),sa(o,xx)}),Nk(o,u)},Bg=(o,u,p,S,_,H)=>{const K=bE(S,_,H);if(K||Ik(o,S)){Po(o,"position",p.position);const ye=Rw(u,o),Ae=_w(u,{..._,rect:ye}),Ne=fe(Qw,Ue=>Ae[Ue]);OE(p,Ne)&&(fr(o,Ne),K&&g9(o,S),ci(o))}else nf(o,S.classes)},xE=o=>({width:kf(o),height:zu(o)}),L0=(o,u,p,S)=>{Ho(u,"max-height"),Ho(u,"max-width");const _=xE(u);return vE(u,S.preference,o,_,p,S.bounds)},SE=(o,u)=>{const p=u.classes;nf(o,p.off),oi(o,p.on)},Fw=(o,u,p)=>{const S=p.maxHeightFunction;S(o,u.maxHeight)},Bk=(o,u,p)=>{const S=p.maxWidthFunction;S(o,u.maxWidth)},fv=(o,u,p)=>{const S=_w(p.origin,u);p.transition.each(_=>{Bg(o,p.origin,S,_,u,p.lastPlacement)}),_k(o,S)},wE=(o,u)=>{gE(o,u.placement)},Qk=(o,u)=>{Zu(o,Math.floor(u))},Fk=Q((o,u)=>{Qk(o,u),zi(o,{"overflow-x":"hidden","overflow-y":"auto"})}),I0=Q((o,u)=>{Qk(o,u)}),Vk=(o,u,p)=>o[u]===void 0?p:o[u],Vw=(o,u,p,S,_,H,K,ye)=>{const Ae=Vk(K,"maxHeightFunction",Fk()),Ne=Vk(K,"maxWidthFunction",M),Ue=o.anchorBox,Je=o.origin,st={bounds:fE(Je,H),origin:Je,preference:S,maxHeightFunction:Ae,maxWidthFunction:Ne,lastPlacement:_,transition:ye};return TE(Ue,u,p,st)},TE=(o,u,p,S)=>{const _=L0(o,u,p,S);return fv(u,_,S),wE(u,_),SE(u,_),Fw(u,_,S),Bk(u,_,S),{layout:_.layout,placement:_.placement}},zk=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],$h=(o,u,p,S=1)=>{const _=o*S,H=u*S,K=Ae=>Bt(p,Ae).getOr([]),ye=(Ae,Ne,Ue)=>{const Je=se(zk,Ue);return{offset:Is(Ae,Ne),classesOn:re(Ue,K),classesOff:re(Je,K)}};return{southeast:()=>ye(-o,u,["top","alignLeft"]),southwest:()=>ye(o,u,["top","alignRight"]),south:()=>ye(-o/2,u,["top","alignCentre"]),northeast:()=>ye(-o,-u,["bottom","alignLeft"]),northwest:()=>ye(o,-u,["bottom","alignRight"]),north:()=>ye(-o/2,-u,["bottom","alignCentre"]),east:()=>ye(o,-u/2,["valignCentre","left"]),west:()=>ye(-o,-u/2,["valignCentre","right"]),insetNortheast:()=>ye(_,H,["top","alignLeft","inset"]),insetNorthwest:()=>ye(-_,H,["top","alignRight","inset"]),insetNorth:()=>ye(-_/2,H,["top","alignCentre","inset"]),insetSoutheast:()=>ye(_,-H,["bottom","alignLeft","inset"]),insetSouthwest:()=>ye(-_,-H,["bottom","alignRight","inset"]),insetSouth:()=>ye(-_/2,-H,["bottom","alignCentre","inset"]),insetEast:()=>ye(-_,-H/2,["valignCentre","right","inset"]),insetWest:()=>ye(_,-H/2,["valignCentre","left","inset"])}},qy=()=>$h(0,0,{}),Ky=z,Sx=(o,u)=>p=>Jy(p)==="rtl"?u:o,Jy=o=>Fa(o,"direction")==="rtl"?"rtl":"ltr";var Nf;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(Nf||(Nf={}));const N0="data-alloy-vertical-dir",eb=o=>hw(o,u=>St(u)&&oa(u,"data-alloy-vertical-dir")===Nf.BottomToTop),Qg=()=>Cc("layouts",[er("onLtr"),er("onRtl"),Ws("onBottomLtr"),Ws("onBottomRtl")]),wx=(o,u,p,S,_,H,K)=>{const ye=K.map(eb).getOr(!1),Ae=u.layouts.map(ht=>ht.onLtr(o)),Ne=u.layouts.map(ht=>ht.onRtl(o)),Ue=ye?u.layouts.bind(ht=>ht.onBottomLtr.map(At=>At(o))).or(Ae).getOr(_):Ae.getOr(p),Je=ye?u.layouts.bind(ht=>ht.onBottomRtl.map(At=>At(o))).or(Ne).getOr(H):Ne.getOr(S);return Sx(Ue,Je)(o)},CE=(o,u,p)=>{const S=u.hotspot,_=Rw(p,S.element),H=wx(o.element,u,vx(),Aw(),kw(),Ck(),L.some(u.hotspot.element));return L.some(Ky({anchorBox:_,bubble:u.bubble.getOr(qy()),overrides:u.overrides,layouts:H}))};var kE=[er("hotspot"),Ws("bubble"),Mn("overrides",{}),Qg(),ha("placement",CE)];const Zk=(o,u,p)=>{const S=Dw(p,u.x,u.y),_=ti(S.left,S.top,u.width,u.height),H=wx(o.element,u,Cw(),Yy(),Cw(),Yy(),L.none());return L.some(Ky({anchorBox:_,bubble:u.bubble,overrides:u.overrides,layouts:H}))};var AE=[er("x"),er("y"),Mn("height",0),Mn("width",0),Mn("bubble",qy()),Mn("overrides",{}),Qg(),ha("placement",Zk)];const zw=Te.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),PE=o=>o.fold(z,(u,p,S)=>u.translate(-p,-S)),ME=o=>o.fold(z,z),Hk=o=>Ce(o,(u,p)=>u.translate(p.left,p.top),Is(0,0)),EE=o=>{const u=ne(o,PE);return Hk(u)},Uk=o=>{const u=ne(o,ME);return Hk(u)},_E=zw.screen,Tx=zw.absolute,RE=(o,u,p)=>{const S=Jn(p.root).dom,_=H=>{const K=Tn(H),ye=Tn(o.element);return Jt(K,ye)};return L.from(S.frameElement).map(zt.fromDom).filter(_).map(Al)},Wk=(o,u,p)=>{const S=Tn(o.element),_=El(S),H=RE(o,u,p).getOr(_);return Tx(H,_.left,_.top)},B0=(o,u,p,S)=>{const _=_E(Is(o,u));return L.some(n0(_,p,S))},Zw=(o,u,p,S,_)=>o.map(H=>{const K=[u,H.point],ye=dE(S,()=>Uk(K),()=>Uk(K),()=>EE(K)),Ae=xh(ye.left,ye.top,H.width,H.height),Ne=p.showAbove?kw():vx(),Ue=p.showAbove?Ck():Aw(),Je=wx(_,p,Ne,Ue,Ne,Ue,L.none());return Ky({anchorBox:Ae,bubble:p.bubble.getOr(qy()),overrides:p.overrides,layouts:Je})}),Hw=(o,u,p)=>{const S=Wk(o,p,u);return u.node.filter(Js).bind(_=>{const H=_.dom.getBoundingClientRect(),K=B0(H.left,H.top,H.width,H.height),ye=u.node.getOr(o.element);return Zw(K,S,u,p,ye)})};var Uw=[er("node"),er("root"),Ws("bubble"),Qg(),Mn("overrides",{}),Mn("showAbove",!1),ha("placement",Hw)];const Yk="\uFEFF",Ww="",Cx={create:(o,u,p,S)=>({start:o,soffset:u,finish:p,foffset:S})},kx=Te.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$E=(o,u,p,S)=>o.fold(u,p,S),Yw=o=>o.fold(z,z,z),Xk=kx.before,LE=kx.on,Xw=kx.after,IE={before:Xk,on:LE,after:Xw,cata:$E,getStart:Yw},Q0=Te.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),NE=o=>Q0.exact(o.start,o.soffset,o.finish,o.foffset),Gw=o=>o.match({domRange:u=>zt.fromDom(u.startContainer),relative:(u,p)=>IE.getStart(u),exact:(u,p,S,_)=>u}),BE=Q0.domRange,QE=Q0.relative,FE=Q0.exact,Gk=o=>{const u=Gw(o);return Jn(u)},VE=Cx.create,Dl={domRange:BE,relative:QE,exact:FE,exactFromRange:NE,getWin:Gk,range:VE},p9=(o,u)=>{u.fold(p=>{o.setStartBefore(p.dom)},(p,S)=>{o.setStart(p.dom,S)},p=>{o.setStartAfter(p.dom)})},F0=(o,u)=>{u.fold(p=>{o.setEndBefore(p.dom)},(p,S)=>{o.setEnd(p.dom,S)},p=>{o.setEndAfter(p.dom)})},Ax=(o,u,p)=>{const S=o.document.createRange();return p9(S,u),F0(S,p),S},jk=(o,u,p,S,_)=>{const H=o.document.createRange();return H.setStart(u.dom,p),H.setEnd(S.dom,_),H},jw=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),qk=o=>{const u=o.getClientRects(),p=u.length>0?u[0]:o.getBoundingClientRect();return p.width>0||p.height>0?L.some(p).map(jw):L.none()},Kk=o=>{const u=o.getBoundingClientRect();return u.width>0||u.height>0?L.some(u).map(jw):L.none()},dv=Te.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),tb=(o,u,p)=>u(zt.fromDom(p.startContainer),p.startOffset,zt.fromDom(p.endContainer),p.endOffset),zE=(o,u)=>u.match({domRange:p=>({ltr:Q(p),rtl:L.none}),relative:(p,S)=>({ltr:Xa(()=>Ax(o,p,S)),rtl:Xa(()=>L.some(Ax(o,S,p)))}),exact:(p,S,_,H)=>({ltr:Xa(()=>jk(o,p,S,_,H)),rtl:Xa(()=>L.some(jk(o,_,H,p,S)))})}),ZE=(o,u)=>{const p=u.ltr();return p.collapsed?u.rtl().filter(_=>_.collapsed===!1).map(_=>dv.rtl(zt.fromDom(_.endContainer),_.endOffset,zt.fromDom(_.startContainer),_.startOffset)).getOrThunk(()=>tb(o,dv.ltr,p)):tb(o,dv.ltr,p)},nb=(o,u)=>{const p=zE(o,u);return ZE(o,p)},qw=(o,u)=>nb(o,u).match({ltr:(S,_,H,K)=>{const ye=o.document.createRange();return ye.setStart(S.dom,_),ye.setEnd(H.dom,K),ye},rtl:(S,_,H,K)=>{const ye=o.document.createRange();return ye.setStart(H.dom,K),ye.setEnd(S.dom,_),ye}});dv.ltr,dv.rtl;const Jk=(o,u,p)=>Oe(Ur(o,p),u),ml=(o,u)=>tn(u,o),eA=(o,u,p,S)=>{const H=Tn(o).dom.createRange();return H.setStart(o.dom,u),H.setEnd(p.dom,S),H},Kw=(o,u,p,S)=>{const _=eA(o,u,p,S),H=Jt(o,p)&&u===S;return _.collapsed&&!H},v9=o=>L.from(o.getSelection()),V0=o=>{if(o.rangeCount>0){const u=o.getRangeAt(0),p=o.getRangeAt(o.rangeCount-1);return L.some(Cx.create(zt.fromDom(u.startContainer),u.startOffset,zt.fromDom(p.endContainer),p.endOffset))}else return L.none()},HE=o=>{if(o.anchorNode===null||o.focusNode===null)return V0(o);{const u=zt.fromDom(o.anchorNode),p=zt.fromDom(o.focusNode);return Kw(u,o.anchorOffset,p,o.focusOffset)?L.some(Cx.create(u,o.anchorOffset,p,o.focusOffset)):V0(o)}},tA=o=>v9(o).filter(u=>u.rangeCount>0).bind(HE),Jw=(o,u)=>{const p=qw(o,u);return qk(p)},rb=(o,u)=>{const p=qw(o,u);return Kk(p)},z0=((o,u)=>{const p=H=>{if(!o(H))throw new Error("Can only get "+u+" value of a "+u+" node");return S(H).getOr("")},S=H=>o(H)?L.from(H.dom.nodeValue):L.none();return{get:p,getOption:S,set:(H,K)=>{if(!o(H))throw new Error("Can only set raw "+u+" value of a "+u+" node");H.dom.nodeValue=K}}})(Ct,"text"),UE=o=>z0.get(o),Fg=(o,u)=>({element:o,offset:u}),nA=(o,u)=>{const p=qr(o);if(p.length===0)return Fg(o,u);if(u<p.length)return Fg(p[u],0);{const S=p[p.length-1],_=Ct(S)?UE(S).length:qr(S).length;return Fg(S,_)}},Vg=(o,u)=>Ct(o)?Fg(o,u):nA(o,u),zg=o=>o.foffset!==void 0,eT=(o,u)=>u.getSelection.getOrThunk(()=>()=>tA(o))().map(S=>{if(zg(S)){const _=Vg(S.start,S.soffset),H=Vg(S.finish,S.foffset);return Dl.range(_.element,_.offset,H.element,H.offset)}else return S}),rA=(o,u,p)=>{const S=Jn(u.root).dom,_=Wk(o,p,u),H=eT(S,u).bind(Ae=>{if(zg(Ae))return rb(S,Dl.exactFromRange(Ae)).orThunk(()=>{const Ue=zt.fromText(Yk);Wu(Ae.start,Ue);const Je=Jw(S,Dl.exact(Ue,0,Ue,1));return wc(Ue),Je}).bind(Ue=>B0(Ue.left,Ue.top,Ue.width,Ue.height));{const Ne=je(Ae,Je=>Je.dom.getBoundingClientRect()),Ue={left:Math.min(Ne.firstCell.left,Ne.lastCell.left),right:Math.max(Ne.firstCell.right,Ne.lastCell.right),top:Math.min(Ne.firstCell.top,Ne.lastCell.top),bottom:Math.max(Ne.firstCell.bottom,Ne.lastCell.bottom)};return B0(Ue.left,Ue.top,Ue.right-Ue.left,Ue.bottom-Ue.top)}}),ye=eT(S,u).bind(Ae=>zg(Ae)?St(Ae.start)?L.some(Ae.start):dr(Ae.start):L.some(Ae.firstCell)).getOr(o.element);return Zw(H,_,u,p,ye)};var y9=[Ws("getSelection"),er("root"),Ws("bubble"),Qg(),Mn("overrides",{}),Mn("showAbove",!1),ha("placement",rA)];const tT="link-layout",Zg=o=>o.x+o.width,Lh=(o,u)=>o.x-u.width,ob=(o,u)=>o.y-u.height+o.height,Z0=o=>o.y,nT=(o,u,p)=>ul(Zg(o),Z0(o),p.southeast(),Zy(),"southeast",Ua(o,{left:0,top:2}),tT),Im=(o,u,p)=>ul(Lh(o,u),Z0(o),p.southwest(),bw(),"southwest",Ua(o,{right:1,top:2}),tT),Wd=(o,u,p)=>ul(Zg(o),ob(o,u),p.northeast(),mx(),"northeast",Ua(o,{left:0,bottom:3}),tT),sb=(o,u,p)=>ul(Lh(o,u),ob(o,u),p.northwest(),Rh(),"northwest",Ua(o,{right:1,bottom:3}),tT),Mx=()=>[nT,Im,Wd,sb],ab=()=>[Im,nT,sb,Wd],rT=(o,u,p)=>{const S=Rw(p,u.item.element),_=wx(o.element,u,Mx(),ab(),Mx(),ab(),L.none());return L.some(Ky({anchorBox:S,bubble:qy(),overrides:u.overrides,layouts:_}))};var H0=[er("item"),Qg(),Mn("overrides",{}),ha("placement",rT)],ib=xs("type",{selection:y9,node:Uw,hotspot:kE,submenu:H0,makeshift:AE});const oT=[ac("classes",il),Uc("mode","all",["all","layout","placement"])],oA=[Mn("useFixed",X),Ws("getBounds")],Hg=[Hc("anchor",ib),Cc("transition",oT)],Ex=()=>{const o=document.documentElement;return Gy(0,0,o.clientWidth,o.clientHeight)},WE=o=>{const u=Al(o.element),p=o.element.dom.getBoundingClientRect();return Rc(u.left,u.top,p.width,p.height)},sA=(o,u,p,S,_,H)=>{const K=mE(u.anchorBox,o);return Vw(K,S.element,u.bubble,u.layouts,_,p,u.overrides,H)},sT=(o,u,p,S,_)=>{const H=L.none();Pi(o,u,p,S,_,H)},Pi=(o,u,p,S,_,H)=>{const K=Rl("placement.info",uo(Hg),_),ye=K.anchor,Ae=S.element,Ne=p.get(S.uid);Wr(()=>{Po(Ae,"position","fixed");const Ue=Za(Ae,"visibility");Po(Ae,"visibility","hidden");const Je=u.useFixed()?Ex():WE(o);ye.placement(o,ye,Je).each(st=>{const ht=H.orThunk(()=>u.getBounds.map(W)),At=sA(Je,st,ht,S,Ne,K.transition);p.set(S.uid,At)}),Ue.fold(()=>{Ho(Ae,"visibility")},st=>{Po(Ae,"visibility",st)}),Za(Ae,"left").isNone()&&Za(Ae,"top").isNone()&&Za(Ae,"right").isNone()&&Za(Ae,"bottom").isNone()&&ln(Za(Ae,"position"),"fixed")&&Ho(Ae,"position")},Ae)};var aA=Object.freeze({__proto__:null,position:sT,positionWithinBounds:Pi,getMode:(o,u,p)=>u.useFixed()?"fixed":"absolute",reset:(o,u,p,S)=>{const _=S.element;le(["position","left","right","top","bottom"],H=>Ho(_,H)),$k(_),p.clear(S.uid)}}),Ug=Object.freeze({__proto__:null,init:()=>{let o={};return Au({readState:()=>o,clear:_=>{k(_)?delete o[_]:o={}},set:(_,H)=>{o[_]=H},get:_=>Bt(o,_)})}});const cc=hl({fields:oA,name:"positioning",active:Mk,apis:aA,state:Ug}),U0=o=>o.getSystem().isConnected(),lb=o=>{ks(o,Pg());const u=o.components();le(u,lb)},W0=o=>{const u=o.components();le(u,W0),ks(o,tf())},aT=(o,u)=>{o.getSystem().addToWorld(u),Js(o.element)&&W0(u)},Y0=o=>{lb(o),o.getSystem().removeFromWorld(o)},hv=(o,u)=>{zc(o.element,u.element)},Yd=o=>{le(o.components(),u=>wc(u.element)),xg(o.element),o.syncComponents()},YE=(o,u,p)=>{const S=o.components();Yd(o);const _=p(u),H=se(S,_);le(H,K=>{lb(K),o.getSystem().removeFromWorld(K)}),le(_,K=>{U0(K)?hv(o,K):(o.getSystem().addToWorld(K),hv(o,K),Js(o.element)&&W0(K))}),o.syncComponents()},XE=(o,u,p)=>{const S=o.components(),_=re(u,ye=>g0(ye).toArray());le(S,ye=>{xe(_,ye)||Y0(ye)});const H=p(u),K=se(S,H);le(K,ye=>{U0(ye)&&Y0(ye)}),le(H,ye=>{U0(ye)||aT(o,ye)}),o.syncComponents()},Wg=(o,u)=>{X0(o,u,zc)},X0=(o,u,p)=>{o.getSystem().addToWorld(u),p(o.element,u.element),Js(o.element)&&W0(u),o.syncComponents()},Rx=o=>{lb(o),wc(o.element),o.getSystem().removeFromWorld(o)},Ih=o=>{const u=Fn(o.element).bind(p=>o.getSystem().getByDom(p).toOptional());Rx(o),u.each(p=>{p.syncComponents()})},iT=o=>{const u=o.components();le(u,Rx),xg(o.element),o.syncComponents()},$l=(o,u)=>{cd(o,u,zc)},Bm=(o,u)=>{cd(o,u,Up)},cd=(o,u,p)=>{p(o,u.element);const S=qr(u.element);le(S,_=>{u.getByDom(_).each(W0)})},G0=o=>{const u=qr(o.element);le(u,p=>{o.getByDom(p).each(lb)}),wc(o.element)},$c=(o,u,p,S)=>{p.get().each(K=>{iT(o)});const _=u.getAttachPoint(o);Wg(_,o);const H=o.getSystem().build(S);return Wg(o,H),p.set(H),H},fu=(o,u,p,S)=>{const _=$c(o,u,p,S);return u.onOpen(o,_),_},Gc=(o,u,p,S)=>p.get().map(()=>$c(o,u,p,S)),ud=(o,u,p,S,_)=>{cb(o,u),fu(o,u,p,S),_(),ub(o,u)},Dx=(o,u,p)=>{p.get().each(S=>{iT(o),Ih(o),u.onClose(o,S),p.clear()})},af=(o,u,p)=>p.isOpen(),mv=(o,u,p,S)=>af(o,u,p)&&p.get().exists(_=>u.isPartOf(o,_,S)),lT=(o,u,p)=>p.get(),GE=(o,u,p,S)=>{Za(o.element,u).fold(()=>{sa(o.element,p)},_=>{Dr(o.element,p,_)}),Po(o.element,u,S)},iA=(o,u,p)=>{Ri(o.element,p).fold(()=>Ho(o.element,u),S=>Po(o.element,u,S))},cb=(o,u,p)=>{const S=u.getAttachPoint(o);Po(o.element,"position",cc.getMode(S)),GE(o,"visibility",u.cloakVisibilityAttr,"hidden")},lA=o=>we(["top","left","right","bottom"],u=>Za(o,u).isSome()),ub=(o,u,p)=>{lA(o.element)||Ho(o.element,"position"),iA(o,"visibility",u.cloakVisibilityAttr)};var $x=Object.freeze({__proto__:null,cloak:cb,decloak:ub,open:fu,openWhileCloaked:ud,close:Dx,isOpen:af,isPartOf:mv,getState:lT,setContent:Gc}),cA=Object.freeze({__proto__:null,events:(o,u)=>Ea([qn(ef(),(p,S)=>{Dx(p,o,u)})])}),qE=[Rs("onOpen"),Rs("onClose"),er("isPartOf"),er("getAttachPoint"),Mn("cloakVisibilityAttr","data-precloak-visibility")],uA=Object.freeze({__proto__:null,init:()=>{const o=gs(),u=Q("not-implemented");return Au({readState:u,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const As=hl({fields:qE,name:"sandboxing",active:cA,apis:$x,state:uA}),Xd=Q("dismiss.popups"),gv=Q("reposition.popups"),cT=Q("mouse.released"),fA=ca([Mn("isExtraPart",X),Cc("fireEventInstead",[Mn("event",Mg())])]),fb=o=>{const u=Rl("Dismissal",fA,o);return{[Xd()]:{schema:ca([er("target")]),onReceive:(p,S)=>{As.isOpen(p)&&(As.isPartOf(p,S.target)||u.isExtraPart(p,S.target)||u.fireEventInstead.fold(()=>As.close(p),H=>ks(p,H.event)))}}}},KE=ca([Cc("fireEventInstead",[Mn("event",ok())]),Ku("doReposition")]),j0=o=>{const u=Rl("Reposition",KE,o);return{[gv()]:{onReceive:p=>{As.isOpen(p)&&u.fireEventInstead.fold(()=>u.doReposition(p),S=>ks(p,S.event))}}}},Lx=(o,u,p)=>{u.store.manager.onLoad(o,u,p)},lf=(o,u,p)=>{u.store.manager.onUnload(o,u,p)};var Yg=Object.freeze({__proto__:null,onLoad:Lx,onUnload:lf,setValue:(o,u,p,S)=>{u.store.manager.setValue(o,u,p,S)},getValue:(o,u,p)=>u.store.manager.getValue(o,u,p),getState:(o,u,p)=>p}),Bx=Object.freeze({__proto__:null,events:(o,u)=>{const p=o.resetOnDom?[Ca((S,_)=>{Lx(S,o,u)}),kh((S,_)=>{lf(S,o,u)})]:[yx(o,u,Lx)];return Ea(p)}});const pv=()=>{const o=G(null),u=()=>({mode:"memory",value:o.get()}),p=()=>o.get()===null,S=()=>{o.set(null)};return Au({set:o.set,get:o.get,isNotSet:p,clear:S,readState:u})},JE=()=>Au({readState:M}),dA=()=>{const o=G({}),u=G({});return Au({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:u.get()}),lookup:K=>Bt(o.get(),K).orThunk(()=>Bt(u.get(),K)),update:K=>{const ye=o.get(),Ae=u.get(),Ne={},Ue={};le(K,Je=>{Ne[Je.value]=Je,Bt(Je,"meta").each(st=>{Bt(st,"text").each(ht=>{Ue[ht]=Je})})}),o.set({...ye,...Ne}),u.set({...Ae,...Ue})},clear:()=>{o.set({}),u.set({})}})};var K0=Object.freeze({__proto__:null,memory:pv,dataset:dA,manual:JE,init:o=>o.store.manager.state(o)});const Qm=(o,u,p,S)=>{const _=u.store;p.update([S]),_.setValue(o,S),u.onSetValue(o,S)},t_=(o,u,p)=>{const S=u.store,_=S.getDataKey(o);return p.lookup(_).getOrThunk(()=>S.getFallbackEntry(_))},n_=(o,u,p)=>{u.store.initialValue.each(_=>{Qm(o,u,p,_)})},hA=(o,u,p)=>{p.clear()};var uT=[Ws("initialValue"),er("getFallbackEntry"),er("getDataKey"),er("setValue"),ha("manager",{setValue:Qm,getValue:t_,onLoad:n_,onUnload:hA,state:dA})];const fT=(o,u,p)=>u.store.getValue(o),dT=(o,u,p,S)=>{u.store.setValue(o,S),u.onSetValue(o,S)},Qx=(o,u,p)=>{u.store.initialValue.each(S=>{u.store.setValue(o,S)})};var Xg=[er("getValue"),Mn("setValue",M),Ws("initialValue"),ha("manager",{setValue:dT,getValue:fT,onLoad:Qx,onUnload:M,state:ad.init})];const mA=(o,u,p,S)=>{p.set(S),u.onSetValue(o,S)},db=(o,u,p)=>p.get(),hT=(o,u,p)=>{u.store.initialValue.each(S=>{p.isNotSet()&&p.set(S)})},r_=(o,u,p)=>{p.clear()};var hb=[Ws("initialValue"),ha("manager",{setValue:mA,getValue:db,onLoad:hT,onUnload:r_,state:pv})],o_=[kc("store",{mode:"memory"},xs("mode",{memory:hb,manual:Xg,dataset:uT})),Rs("onSetValue"),Mn("resetOnDom",!1)];const Fr=hl({fields:o_,name:"representing",active:Bx,apis:Yg,extra:{setValueFrom:(o,u)=>{const p=Fr.getValue(u);Fr.setValue(o,p)}},state:K0}),tl=(o,u)=>D(o,{},ne(u,p=>c0(p.name(),"Cannot configure "+p.name()+" for "+o)).concat([ni("dump",z)])),Fm=o=>o.dump,Ni=(o,u)=>({...pr(u),...o.dump}),Bf={field:tl,augment:Ni,get:Fm},Fx="placeholder",mb=Te.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Gd=o=>vn(o,"uiType"),Vx=(o,u,p,S)=>o.exists(_=>_!==p.owner)?mb.single(!0,Q(p)):Bt(S,p.name).fold(()=>{throw new Error("Unknown placeholder component: "+p.name+`
Known: [`+ct(S)+`]
Namespace: `+o.getOr("none")+`
Spec: `+JSON.stringify(p,null,2))},_=>_.replace()),zx=(o,u,p,S)=>Gd(p)&&p.uiType===Fx?Vx(o,u,p,S):mb.single(!1,Q(p)),J0=(o,u,p,S)=>zx(o,u,p,S).fold((H,K)=>{const ye=Gd(p)?K(u,p.config,p.validated):K(u),Ae=Bt(ye,"components").getOr([]),Ne=re(Ae,Ue=>J0(o,u,Ue,S));return[{...ye,components:Ne}]},(H,K)=>{if(Gd(p)){const ye=K(u,p.config,p.validated);return p.validated.preprocess.getOr(z)(ye)}else return K(u)}),gA=(o,u,p,S)=>re(p,_=>J0(o,u,_,S)),gb=(o,u)=>{let p=!1;const S=()=>p,_=()=>{if(p)throw new Error("Trying to use the same placeholder more than once: "+o);return p=!0,u},H=()=>u.fold((K,ye)=>K,(K,ye)=>K);return{name:Q(o),required:H,used:S,replace:_}},mT=(o,u,p,S)=>{const _=je(S,(K,ye)=>gb(ye,K)),H=gA(o,u,p,_);return Ye(_,K=>{if(K.used()===!1&&K.required())throw new Error("Placeholder: "+K.name()+` was not found in components list
Namespace: `+o.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),H},gT=mb.single,s_=mb.multiple,jd=Q(Fx),Zx=Te.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),e1=Mn("factory",{sketch:z}),Jl=Mn("schema",[]),Xi=er("name"),Hx=ll("pname","pname",Rf(o=>"<alloy."+Kr(o.name)+">"),vi()),pb=ni("schema",()=>[Ws("preprocess")]),Ux=Mn("defaults",Q({})),vb=Mn("overrides",Q({})),yb=uo([e1,Jl,Xi,Hx,Ux,vb]),t1=uo([e1,Jl,Xi,Ux,vb]),pA=uo([e1,Jl,Xi,Hx,Ux,vb]),bb=uo([e1,pb,Xi,er("unit"),Hx,Ux,vb]),vA=o=>o.fold(L.some,L.none,L.some,L.some),yA=o=>{const u=p=>p.name;return o.fold(u,u,u,u)},bA=o=>o.fold(z,z,z,z),Qf=(o,u)=>p=>{const S=Rl("Converting part type",u,p);return o(S)},uc=Qf(Zx.required,yb),fd=Qf(Zx.external,t1),du=Qf(Zx.optional,pA),Ob=Qf(Zx.group,bb),Wx=Q("entirety");var OA=Object.freeze({__proto__:null,required:uc,external:fd,optional:du,group:Ob,asNamedPart:vA,name:yA,asCommon:bA,original:Wx});const xb=(o,u,p,S)=>Ta(u.defaults(o,p,S),p,{uid:o.partUids[u.name]},u.overrides(o,p,S)),a_=(o,u,p)=>{const S={},_={};return le(p,H=>{H.fold(K=>{S[K.pname]=gT(!0,(ye,Ae,Ne)=>K.factory.sketch(xb(ye,K,Ae,Ne)))},K=>{const ye=u.parts[K.name];_[K.name]=Q(K.factory.sketch(xb(u,K,ye[Wx()]),ye))},K=>{S[K.pname]=gT(!1,(ye,Ae,Ne)=>K.factory.sketch(xb(ye,K,Ae,Ne)))},K=>{S[K.pname]=s_(!0,(ye,Ae,Ne)=>{const Ue=ye[K.name];return ne(Ue,Je=>K.factory.sketch(Ta(K.defaults(ye,Je,Ne),Je,K.overrides(ye,Je))))})})}),{internals:Q(S),externals:Q(_)}},Vm=(o,u)=>{const p={};return le(u,S=>{vA(S).each(_=>{const H=Sb(o,_.pname);p[_.name]=K=>{const ye=Rl("Part: "+_.name+" in "+o,uo(_.schema),K);return{...H,config:K,validated:ye}}})}),p},Sb=(o,u)=>({uiType:jd(),owner:o,name:u}),pT=(o,u,p)=>({uiType:jd(),owner:o,name:u,config:p,validated:{}}),xA=o=>re(o,u=>u.fold(L.none,L.some,L.none,L.none).map(p=>au(p.name,p.schema.concat([zy(Wx())]))).toArray()),SA=o=>ne(o,yA),vT=(o,u,p)=>a_(o,u,p),Yx=(o,u,p)=>mT(L.some(o),u,u.components,p),ka=(o,u,p)=>{const S=u.partUids[p];return o.getSystem().getByUid(S).toOptional()},zm=(o,u,p)=>ka(o,u,p).getOrDie("Could not find part: "+p),wA=(o,u,p)=>{const S={},_=u.partUids,H=o.getSystem();return le(p,K=>{S[K]=Q(H.getByUid(_[K]))}),S},yT=(o,u)=>{const p=o.getSystem();return je(u.partUids,(S,_)=>Q(p.getByUid(S)))},bT=o=>ct(o.partUids),vv=(o,u,p)=>{const S={},_=u.partUids,H=o.getSystem();return le(p,K=>{S[K]=Q(H.getByUid(_[K]).getOrDie())}),S},OT=(o,u)=>{const p=SA(u);return bt(ne(p,S=>({key:S,value:o+"-"+S})))},xT=o=>ll("partUids","partUids",hs(u=>OT(u.uid,o)),vi());var i_=Object.freeze({__proto__:null,generate:Vm,generateOne:pT,schemas:xA,names:SA,substitutes:vT,components:Yx,defaultUids:OT,defaultUidsSchema:xT,getAllParts:yT,getAllPartNames:bT,getPart:ka,getPartOrDie:zm,getParts:wA,getPartsOrDie:vv});const n1=(o,u)=>(o.length>0?[au("parts",o)]:[]).concat([er("uid"),Mn("dom",{}),Mn("components",[]),zy("originalSpec"),Mn("debug.sketcher",{})]).concat(u),r1=(o,u,p,S,_)=>{const H=n1(S,_);return Rl(o+" [SpecSchema]",ca(H.concat(u)),p)},ST=(o,u,p,S)=>{const _=Gg(S),H=r1(o,u,_,[],[]);return p(H,_)},wT=(o,u,p,S,_)=>{const H=Gg(_),K=xA(p),ye=xT(p),Ae=r1(o,u,H,K,[ye]),Ne=vT(o,Ae,p),Ue=Yx(o,Ae,Ne.internals());return S(Ae,Ue,H,Ne.externals())},dd=o=>vn(o,"uid"),Gg=o=>dd(o)?o:{...o,uid:h0("uid")},l_=o=>o.uid!==void 0,wb=ca([er("name"),er("factory"),er("configFields"),Mn("apis",{}),Mn("extraApis",{})]),c_=ca([er("name"),er("factory"),er("configFields"),er("partFields"),Mn("apis",{}),Mn("extraApis",{})]),Du=o=>{const u=Rl("Sketcher for "+o.name,wb,o),p=H=>ST(u.name,u.configFields,u.factory,H),S=je(u.apis,rv),_=je(u.extraApis,(H,K)=>qO(H,K));return{name:u.name,configFields:u.configFields,sketch:p,...S,..._}},fc=o=>{const u=Rl("Sketcher for "+o.name,c_,o),p=K=>wT(u.name,u.configFields,u.partFields,u.factory,K),S=Vm(u.name,u.partFields),_=je(u.apis,rv),H=je(u.extraApis,(K,ye)=>qO(K,ye));return{name:u.name,partFields:u.partFields,configFields:u.configFields,sketch:p,parts:S,..._,...H}},yv=o=>Ht("input")(o)&&oa(o,"type")!=="radio"||Ht("textarea")(o);var TA=Object.freeze({__proto__:null,getCurrent:(o,u,p)=>u.find(o)});const u_=[er("find")],Ss=hl({fields:u_,name:"composing",apis:TA}),TT=["input","button","textarea","select"],CA=(o,u,p)=>{(u.disabled()?AA:Tb)(o,u)},CT=(o,u)=>u.useNative===!0&&xe(TT,Oo(o.element)),f_=o=>_d(o.element,"disabled"),d_=o=>{Dr(o.element,"disabled","disabled")},kA=o=>{sa(o.element,"disabled")},h_=o=>oa(o.element,"aria-disabled")==="true",Yr=o=>{Dr(o.element,"aria-disabled","true")},jg=o=>{Dr(o.element,"aria-disabled","false")},AA=(o,u,p)=>{u.disableClass.each(_=>{ki(o.element,_)}),(CT(o,u)?d_:Yr)(o),u.onDisabled(o)},Tb=(o,u,p)=>{u.disableClass.each(_=>{Ga(o.element,_)}),(CT(o,u)?kA:jg)(o),u.onEnabled(o)},Cb=(o,u)=>CT(o,u)?f_(o):h_(o);var S9=Object.freeze({__proto__:null,enable:Tb,disable:AA,isDisabled:Cb,onLoad:CA,set:(o,u,p,S)=>{(S?AA:Tb)(o,u)}}),g_=Object.freeze({__proto__:null,exhibit:(o,u)=>Pu({classes:u.disabled()?u.disableClass.toArray():[]}),events:(o,u)=>Ea([KS(Ii(),(p,S)=>Cb(p,o)),yx(o,u,CA)])}),PA=[Di("disabled",X),Mn("useNative",!0),Ws("disableClass"),Rs("onDisabled"),Rs("onEnabled")];const Co=hl({fields:PA,name:"disabling",active:g_,apis:S9}),Zm=(o,u,p,S)=>{const _=ml(o.element,"."+u.highlightClass);le(_,H=>{we(S,ye=>Jt(ye.element,H))||(Ga(H,u.highlightClass),o.getSystem().getByDom(H).each(ye=>{u.onDehighlight(o,ye),ks(ye,Dy())}))})},MA=(o,u,p)=>Zm(o,u,p,[]),p_=(o,u,p,S)=>{Xx(o,u,p,S)&&(Ga(S.element,u.highlightClass),u.onDehighlight(o,S),ks(S,Dy()))},kb=(o,u,p,S)=>{Zm(o,u,p,[S]),Xx(o,u,p,S)||(ki(S.element,u.highlightClass),u.onHighlight(o,S),ks(S,Ry()))},v_=(o,u,p)=>{o1(o,u).each(S=>{kb(o,u,p,S)})},EA=(o,u,p)=>{AT(o,u).each(S=>{kb(o,u,p,S)})},kT=(o,u,p,S)=>{b_(o,u,p,S).fold(_=>{throw _},_=>{kb(o,u,p,_)})},_A=(o,u,p,S)=>{const _=Gx(o,u);Ve(_,S).each(K=>{kb(o,u,p,K)})},Xx=(o,u,p,S)=>el(S.element,u.highlightClass),y_=(o,u,p)=>Ai(o.element,"."+u.highlightClass).bind(S=>o.getSystem().getByDom(S).toOptional()),b_=(o,u,p,S)=>{const _=ml(o.element,"."+u.itemClass);return L.from(_[S]).fold(()=>jo.error(new Error("No element found with index "+S)),o.getSystem().getByDom)},o1=(o,u,p)=>Ai(o.element,"."+u.itemClass).bind(S=>o.getSystem().getByDom(S).toOptional()),AT=(o,u,p)=>{const S=ml(o.element,"."+u.itemClass);return(S.length>0?L.some(S[S.length-1]):L.none()).bind(H=>o.getSystem().getByDom(H).toOptional())},RA=(o,u,p,S)=>{const _=ml(o.element,"."+u.itemClass);return _e(_,K=>el(K,u.highlightClass)).bind(K=>{const ye=E0(K,S,0,_.length-1);return o.getSystem().getByDom(_[ye]).toOptional()})},O_=(o,u,p)=>RA(o,u,p,-1),x_=(o,u,p)=>RA(o,u,p,1),Gx=(o,u,p)=>{const S=ml(o.element,"."+u.itemClass);return an(ne(S,_=>o.getSystem().getByDom(_).toOptional()))};var Nh=Object.freeze({__proto__:null,dehighlightAll:MA,dehighlight:p_,highlight:kb,highlightFirst:v_,highlightLast:EA,highlightAt:kT,highlightBy:_A,isHighlighted:Xx,getHighlighted:y_,getFirst:o1,getLast:AT,getPrevious:O_,getNext:x_,getCandidates:Gx}),jx=[er("highlightClass"),er("itemClass"),Rs("onHighlight"),Rs("onDehighlight")];const Ys=hl({fields:jx,name:"highlighting",apis:Nh}),S_=[8],Hm=[9],Bh=[13],qx=[27],cf=[32],Kx=[37],Um=[38],s1=[39],Ab=[40],PT=(o,u,p)=>{const S=te(o.slice(0,u)),_=te(o.slice(u+1));return Ve(S.concat(_),p)},w_=(o,u,p)=>{const S=te(o.slice(0,u));return Ve(S,p)},MT=(o,u,p)=>{const S=o.slice(0,u),_=o.slice(u+1);return Ve(_.concat(S),p)},T_=(o,u,p)=>{const S=o.slice(u+1);return Ve(S,p)},Ps=o=>u=>{const p=u.raw;return xe(o,p.which)},uf=o=>u=>be(o,p=>p(u)),qg=o=>o.raw.shiftKey===!0,C_=o=>o.raw.ctrlKey===!0,a1=B(qg),Qs=(o,u)=>({matches:o,classification:u}),k_=(o,u)=>Ve(o,S=>S.matches(u)).map(S=>S.classification),ET=(o,u,p)=>{u.exists(_=>p.exists(H=>Jt(H,_)))||vo(o,HO(),{prevFocus:u,newFocus:p})},A=()=>{const o=p=>ld(p.element);return{get:o,set:(p,S)=>{const _=o(p);p.getSystem().triggerFocus(S,p.element);const H=o(p);ET(p,_,H)}}},$=()=>{const o=p=>Ys.getHighlighted(p).map(S=>S.element);return{get:o,set:(p,S)=>{const _=o(p);p.getSystem().getByDom(S).fold(M,K=>{Ys.highlight(p,K)});const H=o(p);ET(p,_,H)}}};var j;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(j||(j={}));const ue=(o,u,p,S,_)=>{const H=()=>o.concat([Mn("focusManager",A()),kc("focusInside","onFocus",_l(Ne=>xe(["onFocus","onEnterOrSpace","onApi"],Ne)?jo.value(Ne):jo.error("Invalid value for focusInside"))),ha("handler",Ae),ha("state",u),ha("sendFocusIn",_)]),K=(Ne,Ue,Je,st,ht)=>{const At=Je(Ne,Ue,st,ht);return k_(At,Ue.event).bind(qt=>qt(Ne,Ue,st,ht))},Ae={schema:H,processKey:K,toEvents:(Ne,Ue)=>{const Je=Ne.focusInside!==j.OnFocusMode?L.none():_(Ne).map(At=>qn(Lf(),(qt,Dn)=>{At(qt,Ne,Ue),Dn.stop()})),st=(At,qt)=>{const Dn=Ps(cf.concat(Bh))(qt.event);Ne.focusInside===j.OnEnterOrSpaceMode&&Dn&&hn(At,qt)&&_(Ne).each(mn=>{mn(At,Ne,Ue),qt.stop()})},ht=[qn(_s(),(At,qt)=>{K(At,qt,p,Ne,Ue).fold(()=>{st(At,qt)},Dn=>{qt.stop()})}),qn(Qa(),(At,qt)=>{K(At,qt,S,Ne,Ue).each(Dn=>{qt.stop()})})];return Ea(Je.toArray().concat(ht))}};return Ae},Me=o=>{const u=[Ws("onEscape"),Ws("onEnter"),Mn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Mn("firstTabstop",0),Mn("useTabstopAt",ie),Ws("visibilitySelector")].concat([o]),p=(mn,sn)=>{const kn=mn.visibilitySelector.bind(Zn=>Zd(sn,Zn)).getOr(sn);return Ha(kn)>0},S=(mn,sn)=>{const kn=ml(mn.element,sn.selector),Zn=Oe(kn,mr=>p(sn,mr));return L.from(Zn[sn.firstTabstop])},_=(mn,sn)=>sn.focusManager.get(mn).bind(kn=>Zd(kn,sn.selector)),H=(mn,sn)=>p(mn,sn)&&mn.useTabstopAt(sn),K=(mn,sn,kn)=>{S(mn,sn).each(Zn=>{sn.focusManager.set(mn,Zn)})},ye=(mn,sn,kn,Zn,mr)=>mr(sn,kn,Gn=>H(Zn,Gn)).fold(()=>Zn.cyclic?L.some(!0):L.none(),Gn=>(Zn.focusManager.set(mn,Gn),L.some(!0))),Ae=(mn,sn,kn,Zn)=>{const mr=ml(mn.element,kn.selector);return _(mn,kn).bind(Gn=>_e(mr,F(Jt,Gn)).bind(Mr=>ye(mn,mr,Mr,kn,Zn)))},Ne=(mn,sn,kn)=>{const Zn=kn.cyclic?PT:w_;return Ae(mn,sn,kn,Zn)},Ue=(mn,sn,kn)=>{const Zn=kn.cyclic?MT:T_;return Ae(mn,sn,kn,Zn)},Je=mn=>Zr(mn).bind(ko).exists(sn=>Jt(sn,mn)),st=(mn,sn,kn)=>_(mn,kn).filter(Zn=>!kn.useTabstopAt(Zn)).bind(Zn=>(Je(Zn)?Ne:Ue)(mn,sn,kn)),ht=(mn,sn,kn)=>kn.onEnter.bind(Zn=>Zn(mn,sn)),At=(mn,sn,kn)=>kn.onEscape.bind(Zn=>Zn(mn,sn)),qt=Q([Qs(uf([qg,Ps(Hm)]),Ne),Qs(Ps(Hm),Ue),Qs(uf([a1,Ps(Bh)]),ht)]),Dn=Q([Qs(Ps(qx),At),Qs(Ps(Hm),st)]);return ue(u,ad.init,qt,Dn,()=>L.some(K))};var ze=Me(ni("cyclic",X)),nt=Me(ni("cyclic",ie));const Ot=(o,u,p)=>(YO(o,p,Ii()),L.some(!0)),_t=(o,u,p)=>yv(p)&&Ps(cf)(u.event)?L.none():Ot(o,u,p),Kt=(o,u)=>L.some(!0),Cn=[Mn("execute",_t),Mn("useSpace",!1),Mn("useEnter",!0),Mn("useControlEnter",!1),Mn("useDown",!1)],ir=(o,u,p)=>p.execute(o,u,o.element),$r=(o,u,p,S)=>{const _=p.useSpace&&!yv(o.element)?cf:[],H=p.useEnter?Bh:[],K=p.useDown?Ab:[],ye=_.concat(H).concat(K);return[Qs(Ps(ye),ir)].concat(p.useControlEnter?[Qs(uf([C_,Ps(Bh)]),ir)]:[])},Rr=(o,u,p,S)=>p.useSpace&&!yv(o.element)?[Qs(Ps(cf),Kt)]:[];var Kn=ue(Cn,ad.init,$r,Rr,()=>L.none());const Ir=()=>{const o=gs();return Au({readState:()=>o.get().map(_=>({numRows:String(_.numRows),numColumns:String(_.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(_,H)=>{o.set({numRows:_,numColumns:H})},getNumRows:()=>o.get().map(_=>_.numRows),getNumColumns:()=>o.get().map(_=>_.numColumns)})};var io=Object.freeze({__proto__:null,flatgrid:Ir,init:o=>o.state(o)});const $o=o=>(u,p,S,_)=>{const H=o(u.element);return bi(H,u,p,S,_)},os=(o,u)=>{const p=Sx(o,u);return $o(p)},za=(o,u)=>{const p=Sx(u,o);return $o(p)},gl=o=>(u,p,S,_)=>bi(o,u,p,S,_),bi=(o,u,p,S,_)=>S.focusManager.get(u).bind(K=>o(u.element,K,S,_)).map(K=>(S.focusManager.set(u,K),!0)),hu=gl,bv=gl,Ov=gl,_T=o=>o.offsetWidth<=0&&o.offsetHeight<=0,Jx=o=>!_T(o.dom),Oa=(o,u)=>_e(o,u).map(p=>({index:p,candidates:o})),Lc=(o,u,p)=>{const S=K=>Jt(K,u),_=ml(o,p),H=Oe(_,Jx);return Oa(H,S)},ec=(o,u)=>_e(o,p=>Jt(u,p)),ff=(o,u,p,S)=>{const _=Math.floor(u/p),H=u%p;return S(_,H).bind(K=>{const ye=K.row*p+K.column;return ye>=0&&ye<o.length?L.some(o[ye]):L.none()})},$u=(o,u,p,S,_)=>ff(o,u,S,(H,K)=>{const Ae=H===p-1?o.length-H*S:S,Ne=E0(K,_,0,Ae-1);return L.some({row:H,column:Ne})}),Kg=(o,u,p,S,_)=>ff(o,u,S,(H,K)=>{const ye=E0(H,_,0,p-1),Ne=ye===p-1?o.length-ye*S:S,Ue=of(K,0,Ne-1);return L.some({row:ye,column:Ue})}),jc=(o,u,p,S)=>$u(o,u,p,S,1),RT=(o,u,p,S)=>$u(o,u,p,S,-1),Pb=(o,u,p,S)=>Kg(o,u,p,S,-1),Qh=(o,u,p,S)=>Kg(o,u,p,S,1),dc=[er("selector"),Mn("execute",_t),Ru("onEscape"),Mn("captureTab",!1),vw()],Mb=(o,u,p)=>{Ai(o.element,u.selector).each(S=>{u.focusManager.set(o,S)})},DA=(o,u)=>u.focusManager.get(o).bind(p=>Zd(p,u.selector)),$A=(o,u,p,S)=>DA(o,p).bind(_=>p.execute(o,u,_)),i1=o=>(u,p,S,_)=>Lc(u,p,S.selector).bind(H=>o(H.candidates,H.index,_.getNumRows().getOr(S.initSize.numRows),_.getNumColumns().getOr(S.initSize.numColumns))),LA=(o,u,p)=>p.captureTab?L.some(!0):L.none(),e2=(o,u,p)=>p.onEscape(o,u),IA=i1(RT),xv=i1(jc),T9=i1(Pb),sW=i1(Qh),aW=Q([Qs(Ps(Kx),os(IA,xv)),Qs(Ps(s1),za(IA,xv)),Qs(Ps(Um),hu(T9)),Qs(Ps(Ab),bv(sW)),Qs(uf([qg,Ps(Hm)]),LA),Qs(uf([a1,Ps(Hm)]),LA),Qs(Ps(cf.concat(Bh)),$A)]),iW=Q([Qs(Ps(qx),e2),Qs(Ps(cf),Kt)]);var lW=ue(dc,Ir,aW,iW,()=>L.some(Mb));const C9=(o,u,p,S,_)=>{const H=ye=>Oo(ye)==="button"&&oa(ye,"disabled")==="disabled",K=(ye,Ae,Ne)=>_(ye,Ae,S,0,Ne.length-1,Ne[Ae],Ue=>H(Ne[Ue])?K(ye,Ue,Ne):L.from(Ne[Ue]));return Lc(o,p,u).bind(ye=>{const Ae=ye.index,Ne=ye.candidates;return K(Ae,Ae,Ne)})},k9=(o,u,p,S)=>C9(o,u,p,S,(_,H,K,ye,Ae,Ne,Ue)=>{const Je=of(H+K,ye,Ae);return Je===_?L.from(Ne):Ue(Je)}),t2=(o,u,p,S)=>C9(o,u,p,S,(_,H,K,ye,Ae,Ne,Ue)=>{const Je=E0(H,K,ye,Ae);return Je===_?L.none():Ue(Je)}),A_=[er("selector"),Mn("getInitial",L.none),Mn("execute",_t),Ru("onEscape"),Mn("executeOnMove",!1),Mn("allowVertical",!0),Mn("allowHorizontal",!0),Mn("cycles",!0)],cW=(o,u)=>u.focusManager.get(o).bind(p=>Zd(p,u.selector)),A9=(o,u,p)=>cW(o,p).bind(S=>p.execute(o,u,S)),P9=(o,u,p)=>{u.getInitial(o).orThunk(()=>Ai(o.element,u.selector)).each(S=>{u.focusManager.set(o,S)})},M9=(o,u,p)=>(p.cycles?t2:k9)(o,p.selector,u,-1),E9=(o,u,p)=>(p.cycles?t2:k9)(o,p.selector,u,1),hd=o=>(u,p,S,_)=>o(u,p,S,_).bind(()=>S.executeOnMove?A9(u,p,S):L.some(!0)),uW=(o,u,p)=>p.onEscape(o,u),fW=(o,u,p,S)=>{const _=[...p.allowHorizontal?Kx:[]].concat(p.allowVertical?Um:[]),H=[...p.allowHorizontal?s1:[]].concat(p.allowVertical?Ab:[]);return[Qs(Ps(_),hd(os(M9,E9))),Qs(Ps(H),hd(za(M9,E9))),Qs(Ps(Bh),A9),Qs(Ps(cf),A9)]},dW=Q([Qs(Ps(cf),Kt),Qs(Ps(qx),uW)]);var hW=ue(A_,ad.init,fW,dW,()=>L.some(P9));const NA=(o,u,p)=>L.from(o[u]).bind(S=>L.from(S[p]).map(_=>({rowIndex:u,columnIndex:p,cell:_}))),Eb=(o,u,p,S)=>{const H=o[u].length,K=E0(p,S,0,H-1);return NA(o,u,K)},BA=(o,u,p,S)=>{const _=E0(p,S,0,o.length-1),H=o[_].length,K=of(u,0,H-1);return NA(o,_,K)},_9=(o,u,p,S)=>{const H=o[u].length,K=of(p+S,0,H-1);return NA(o,u,K)},QA=(o,u,p,S)=>{const _=of(p+S,0,o.length-1),H=o[_].length,K=of(u,0,H-1);return NA(o,_,K)},FA=(o,u,p)=>Eb(o,u,p,1),P_=(o,u,p)=>Eb(o,u,p,-1),mW=(o,u,p)=>BA(o,p,u,-1),gW=(o,u,p)=>BA(o,p,u,1),pW=(o,u,p)=>_9(o,u,p,-1),vW=(o,u,p)=>_9(o,u,p,1),yW=(o,u,p)=>QA(o,p,u,-1),bW=(o,u,p)=>QA(o,p,u,1),R9=[au("selectors",[er("row"),er("cell")]),Mn("cycles",!0),Mn("previousSelector",L.none),Mn("execute",_t)],M_=(o,u,p)=>{u.previousSelector(o).orThunk(()=>{const _=u.selectors;return Ai(o.element,_.cell)}).each(_=>{u.focusManager.set(o,_)})},OW=(o,u,p)=>ld(o.element).bind(S=>p.execute(o,u,S)),xW=(o,u)=>ne(o,p=>ml(p,u.selectors.cell)),VA=(o,u)=>(p,S,_)=>{const H=_.cycles?o:u;return Zd(S,_.selectors.row).bind(K=>{const ye=ml(K,_.selectors.cell);return ec(ye,S).bind(Ae=>{const Ne=ml(p,_.selectors.row);return ec(Ne,K).bind(Ue=>{const Je=xW(Ne,_);return H(Je,Ue,Ae).map(st=>st.cell)})})})},D9=VA(P_,pW),l1=VA(FA,vW),$9=VA(mW,yW),SW=VA(gW,bW),E_=Q([Qs(Ps(Kx),os(D9,l1)),Qs(Ps(s1),za(D9,l1)),Qs(Ps(Um),hu($9)),Qs(Ps(Ab),bv(SW)),Qs(Ps(cf.concat(Bh)),OW)]),wW=Q([Qs(Ps(cf),Kt)]);var L9=ue(R9,ad.init,E_,wW,()=>L.some(M_));const I9=[er("selector"),Mn("execute",_t),Mn("moveOnTab",!1)],__=(o,u,p)=>p.focusManager.get(o).bind(S=>p.execute(o,u,S)),N9=(o,u,p)=>{Ai(o.element,u.selector).each(S=>{u.focusManager.set(o,S)})},R_=(o,u,p)=>t2(o,p.selector,u,-1),B9=(o,u,p)=>t2(o,p.selector,u,1),TW=(o,u,p,S)=>p.moveOnTab?Ov(R_)(o,u,p,S):L.none(),CW=(o,u,p,S)=>p.moveOnTab?Ov(B9)(o,u,p,S):L.none(),D_=Q([Qs(Ps(Um),Ov(R_)),Qs(Ps(Ab),Ov(B9)),Qs(uf([qg,Ps(Hm)]),TW),Qs(uf([a1,Ps(Hm)]),CW),Qs(Ps(Bh),__),Qs(Ps(cf),__)]),kW=Q([Qs(Ps(cf),Kt)]);var AW=ue(I9,ad.init,D_,kW,()=>L.some(N9));const PW=[Ru("onSpace"),Ru("onEnter"),Ru("onShiftEnter"),Ru("onLeft"),Ru("onRight"),Ru("onTab"),Ru("onShiftTab"),Ru("onUp"),Ru("onDown"),Ru("onEscape"),Mn("stopSpaceKeyup",!1),Ws("focusIn")],MW=(o,u,p)=>[Qs(Ps(cf),p.onSpace),Qs(uf([a1,Ps(Bh)]),p.onEnter),Qs(uf([qg,Ps(Bh)]),p.onShiftEnter),Qs(uf([qg,Ps(Hm)]),p.onShiftTab),Qs(uf([a1,Ps(Hm)]),p.onTab),Qs(Ps(Um),p.onUp),Qs(Ps(Ab),p.onDown),Qs(Ps(Kx),p.onLeft),Qs(Ps(s1),p.onRight),Qs(Ps(cf),p.onSpace)],Q9=(o,u,p)=>[...p.stopSpaceKeyup?[Qs(Ps(cf),Kt)]:[],Qs(Ps(qx),p.onEscape)];var EW=ue(PW,ad.init,MW,Q9,o=>o.focusIn);const _W=ze.schema(),RW=nt.schema(),F9=hW.schema(),DW=lW.schema(),$W=L9.schema(),V9=Kn.schema(),LW=AW.schema(),IW=EW.schema();var zA=Object.freeze({__proto__:null,acyclic:_W,cyclic:RW,flow:F9,flatgrid:DW,matrix:$W,execution:V9,menu:LW,special:IW});const NW=o=>En(o,"setGridSize"),yo=bx({branchKey:"mode",branches:zA,name:"keying",active:{events:(o,u)=>o.handler.toEvents(o,u)},apis:{focusIn:(o,u,p)=>{u.sendFocusIn(u).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},S=>{S(o,u,p)})},setGridSize:(o,u,p,S,_)=>{NW(p)?p.setGridSize(S,_):console.error("Layout does not support setGridSize")}},state:io}),mu=(o,u)=>{Wr(()=>{YE(o,u,()=>ne(u,o.getSystem().build))},o.element)},z9=(o,u)=>{Wr(()=>{XE(o,u,()=>f9(o.element,u,o.getSystem().buildOrPatch))},o.element)},Z9=(o,u,p,S)=>{Y0(u);const _=gk(o.element,p,S,o.getSystem().buildOrPatch);aT(o,_),o.syncComponents()},ZA=(o,u,p)=>{const S=o.getSystem().build(p);X0(o,S,u)},BW=(o,u,p,S)=>{Ih(u),ZA(o,(_,H)=>sl(_,H,p),S)},H9=(o,u,p,S)=>(u.reuseDom?z9:mu)(o,S),U9=(o,u,p,S)=>{ZA(o,zc,S)},QW=(o,u,p,S)=>{ZA(o,py,S)},FW=(o,u,p,S)=>{const _=HA(o);Ve(_,K=>Jt(S.element,K.element)).each(Ih)},HA=(o,u)=>o.components(),W9=(o,u,p,S,_)=>{const H=HA(o);return L.from(H[S]).map(K=>(_.fold(()=>Ih(K),ye=>{(u.reuseDom?Z9:BW)(o,K,S,ye)}),K))};var zW=Object.freeze({__proto__:null,append:U9,prepend:QW,remove:FW,replaceAt:W9,replaceBy:(o,u,p,S,_)=>{const H=HA(o);return _e(H,S).bind(K=>W9(o,u,p,K,_))},set:H9,contents:HA});const Uo=hl({fields:[Wi("reuseDom",!0)],name:"replacing",apis:zW}),Y9=(o,u)=>{const p=Ea(u);return hl({fields:[er("enabled")],name:o,active:{events:Q(p)}})},Jo=(o,u)=>{const p=Y9(o,u);return{key:o,value:{config:{},me:p,configAsRaw:Q({}),initialConfig:{},state:ad}}},$_=(o,u)=>{u.ignore||(uu(o.element),u.onFocus(o))};var ZW=Object.freeze({__proto__:null,focus:$_,blur:(o,u)=>{u.ignore||D0(o.element)},isFocused:o=>Xy(o.element)}),X9=Object.freeze({__proto__:null,exhibit:(o,u)=>{const p=u.ignore?{}:{attributes:{tabindex:"-1"}};return Pu(p)},events:o=>Ea([qn(Lf(),(u,p)=>{$_(u,o),p.stop()})].concat(o.stopMousedown?[qn(go(),(u,p)=>{p.event.prevent()})]:[]))}),c1=[Rs("onFocus"),Mn("stopMousedown",!1),Mn("ignore",!1)];const Mo=hl({fields:c1,name:"focusing",active:X9,apis:ZW}),G9=o=>({init:()=>{const p=G(o);return{get:()=>p.get(),set:ye=>p.set(ye),clear:()=>p.set(o),readState:()=>p.get()}}}),L_=(o,u,p)=>{const S=u.aria;S.update(o,S,p.get())},UW=(o,u,p)=>{u.toggleClass.each(S=>{p.get()?ki(o.element,S):Ga(o.element,S)})},DT=(o,u,p,S)=>{const _=p.get();p.set(S),UW(o,u,p),L_(o,u,p),_!==S&&u.onToggled(o,S)},j9=(o,u,p)=>{DT(o,u,p,!p.get())},WW=(o,u,p)=>{DT(o,u,p,!0)},q9=(o,u,p)=>{DT(o,u,p,!1)},I_=(o,u,p)=>p.get(),UA=(o,u,p)=>{DT(o,u,p,u.selected)};var YW=Object.freeze({__proto__:null,onLoad:UA,toggle:j9,isOn:I_,on:WW,off:q9,set:DT}),K9=Object.freeze({__proto__:null,exhibit:()=>Pu({}),events:(o,u)=>{const p=R0(o,u,j9),S=yx(o,u,UA);return Ea(Ie([o.toggleOnExecute?[p]:[],[S]]))}});const GW=(o,u,p)=>{Dr(o.element,"aria-pressed",p),u.syncWithExpanded&&n2(o,u,p)},jW=(o,u,p)=>{Dr(o.element,"aria-selected",p)},$T=(o,u,p)=>{Dr(o.element,"aria-checked",p)},n2=(o,u,p)=>{Dr(o.element,"aria-expanded",p)};var J9=[Mn("selected",!1),Ws("toggleClass"),Mn("toggleOnExecute",!0),Rs("onToggled"),kc("aria",{mode:"none"},xs("mode",{pressed:[Mn("syncWithExpanded",!1),ha("update",GW)],checked:[ha("update",$T)],expanded:[ha("update",n2)],selected:[ha("update",jW)],none:[ha("update",M)]}))];const as=hl({fields:J9,name:"toggling",active:K9,apis:YW,state:G9(!1)}),Sv=()=>{const o=(u,p)=>{p.stop(),km(u)};return[qn($i(),o),qn(Mc(),o),Am(ro()),Am(go())]},Wm=o=>{const u=p=>sd((S,_)=>{p(S),_.stop()});return Ea(Ie([o.map(u).toArray(),Sv()]))},eL="alloy.item-hover",tL="alloy.item-focus",N_="alloy.item-toggled",Jg=o=>{(ld(o.element).isNone()||Mo.isFocused(o))&&(Mo.isFocused(o)||Mo.focus(o),vo(o,eL,{item:o}))},WA=o=>{vo(o,tL,{item:o})},qW=(o,u)=>{vo(o,N_,{item:o,state:u})},B_=Q(eL),nL=Q(tL),rL=Q(N_),Q_=o=>o.toggling.map(u=>u.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),oL=o=>({aria:{mode:"checked"},...wt(o,(u,p)=>p!=="exclusive"),onToggled:(u,p)=>{w(o.onToggled)&&o.onToggled(u,p),qW(u,p)}}),KW=o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:Q_(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Bf.augment(o.itemBehaviours,[o.toggling.fold(as.revoke,u=>as.config(oL(u))),Mo.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:u=>{WA(u)}}),yo.config({mode:"execution"}),Fr.config({store:{mode:"memory",initialValue:o.data}}),Jo("item-type-events",[...Sv(),qn(Lr(),Jg),qn(ta(),Mo.focus)])]),components:o.components,eventOrder:o.eventOrder}),JW=[er("data"),er("components"),er("dom"),Mn("hasSubmenu",!1),Ws("toggling"),Bf.field("itemBehaviours",[as,Mo,yo,Fr]),Mn("ignoreFocus",!1),Mn("domModification",{}),ha("builder",KW),Mn("eventOrder",{})],eY=o=>({dom:o.dom,components:o.components,events:Ea([zM(ta())])}),YA=[er("dom"),er("components"),ha("builder",eY)],LT=Q("item-widget"),IT=Q([uc({name:"widget",overrides:o=>({behaviours:pr([Fr.config({store:{mode:"manual",getValue:u=>o.data,setValue:M}})])})})]),tY=o=>{const u=vT(LT(),o,IT()),p=Yx(LT(),o,u.internals()),S=H=>ka(H,o,"widget").map(K=>(yo.focusIn(K),K)),_=(H,K)=>yv(K.event.target)?L.none():(()=>(o.autofocus&&K.setSource(H.element),L.none()))();return{dom:o.dom,components:p,domModification:o.domModification,events:Ea([sd((H,K)=>{S(H).each(ye=>{K.stop()})}),qn(Lr(),Jg),qn(ta(),(H,K)=>{o.autofocus?S(H):Mo.focus(H)})]),behaviours:Bf.augment(o.widgetBehaviours,[Fr.config({store:{mode:"memory",initialValue:o.data}}),Mo.config({ignore:o.ignoreFocus,onFocus:H=>{WA(H)}}),yo.config({mode:"special",focusIn:o.autofocus?H=>{S(H)}:Mw(),onLeft:_,onRight:_,onEscape:(H,K)=>!Mo.isFocused(H)&&!o.autofocus?(Mo.focus(H),L.some(!0)):(o.autofocus&&K.setSource(H.element),L.none())})])}},nY=[er("uid"),er("data"),er("components"),er("dom"),Mn("autofocus",!1),Mn("ignoreFocus",!1),Bf.field("widgetBehaviours",[Fr,Mo,yo]),Mn("domModification",{}),xT(IT()),ha("builder",tY)],sL=xs("type",{widget:nY,item:JW,separator:YA}),aL=(o,u)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:u.initSize.numColumns,numRows:u.initSize.numRows},focusManager:o.focusManager}),iL=(o,u)=>({mode:"matrix",selectors:{row:u.rowSelector,cell:"."+o.markers.item},previousSelector:u.previousSelector,focusManager:o.focusManager}),lL=(o,u)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:u.moveOnTab,focusManager:o.focusManager}),rY=Q([Ob({factory:{sketch:o=>{const u=Rl("menu.spec item",sL,o);return u.builder(u)}},name:"items",unit:"item",defaults:(o,u)=>vn(u,"uid")?u:{...u,uid:h0("item")},overrides:(o,u)=>({type:u.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),F_=Q([er("value"),er("items"),er("dom"),er("components"),Mn("eventOrder",{}),tl("menuBehaviours",[Ys,Fr,Ss,yo]),kc("movement",{mode:"menu",moveOnTab:!0},xs("mode",{grid:[vw(),ha("config",aL)],matrix:[ha("config",iL),er("rowSelector"),Mn("previousSelector",L.none)],menu:[Mn("moveOnTab",!0),ha("config",lL)]})),oE(),Mn("fakeFocus",!1),Mn("focusManager",A()),Rs("onHighlight"),Rs("onDehighlight")]),cL=Q("alloy.menu-focus"),oY=(o,u)=>{const p=ml(o.element,'[role="menuitemradio"][aria-checked="true"]');le(p,S=>{Jt(S,u.element)||o.getSystem().getByDom(S).each(_=>{as.off(_)})})},sY=(o,u,p,S)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Ni(o.menuBehaviours,[Ys.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),Fr.config({store:{mode:"memory",initialValue:o.value}}),Ss.config({find:L.some}),yo.config(o.movement.config(o,o.movement))]),events:Ea([qn(nL(),(_,H)=>{const K=H.event;_.getSystem().getByDom(K.target).each(ye=>{Ys.highlight(_,ye),H.stop(),vo(_,cL(),{menu:_,item:ye})})}),qn(B_(),(_,H)=>{const K=H.event.item;Ys.highlight(_,K)}),qn(rL(),(_,H)=>{const{item:K,state:ye}=H.event;ye&&oa(K.element,"role")==="menuitemradio"&&oY(_,K)})]),components:u,eventOrder:o.eventOrder,domModification:{attributes:{role:"menu"}}}),Rb=fc({name:"Menu",configFields:F_(),partFields:rY(),factory:sY}),uL=o=>et(o,(u,p)=>({k:u,v:p})),fL=(o,u,p,S)=>Bt(p,S).bind(_=>Bt(o,_).bind(H=>{const K=fL(o,u,p,H);return L.some([H].concat(K))})).getOr([]),aY=(o,u)=>{const p={};Ye(o,(K,ye)=>{le(K,Ae=>{p[Ae]=ye})});const S=u,_=uL(u),H=je(_,(K,ye)=>[ye].concat(fL(p,S,_,ye)));return je(p,K=>Bt(H,K).getOr([K]))},dL=()=>{const o=G({}),u=G({}),p=G({}),S=gs(),_=G({}),H=()=>{o.set({}),u.set({}),p.set({}),S.clear()},K=()=>S.get().isNone(),ye=(mr,Gn)=>{u.set({...u.get(),[mr]:{type:"prepared",menu:Gn}})},Ae=(mr,Gn,Or,Mr)=>{S.set(mr),o.set(Or),u.set(Gn),_.set(Mr);const is=aY(Mr,Or);p.set(is)},Ne=mr=>Gt(o.get(),(Gn,Or)=>Gn===mr),Ue=(mr,Gn,Or)=>qt(mr).bind(Mr=>Ne(mr).bind(is=>Gn(is).map(Gr=>({triggeredMenu:Mr,triggeringItem:Gr,triggeringPath:Or})))),Je=(mr,Gn)=>{const Or=Oe(mn(mr).toArray(),Mr=>qt(Mr).isSome());return Bt(p.get(),mr).bind(Mr=>{const is=te(Or.concat(Mr)),Gr=re(is,(Io,_o)=>Ue(Io,Gn,is.slice(0,_o+1)).fold(()=>ln(S.get(),Io)?[]:[L.none()],na=>[L.some(na)]));return wn(Gr)})},st=mr=>Bt(o.get(),mr).map(Gn=>{const Or=Bt(p.get(),mr).getOr([]);return[Gn].concat(Or)}),ht=mr=>Bt(p.get(),mr).bind(Gn=>Gn.length>1?L.some(Gn.slice(1)):L.none()),At=mr=>Bt(p.get(),mr),qt=mr=>Dn(mr).bind(r2),Dn=mr=>Bt(u.get(),mr),mn=mr=>Bt(o.get(),mr);return{setMenuBuilt:ye,setContents:Ae,expand:st,refresh:At,collapse:ht,lookupMenu:Dn,lookupItem:mn,otherMenus:mr=>{const Gn=_.get();return se(ct(Gn),mr)},getPrimary:()=>S.get().bind(qt),getMenus:()=>u.get(),clear:H,isClear:K,getTriggeringPath:Je}},r2=o=>o.type==="prepared"?L.some(o.menu):L.none(),hL={init:dL,extractPreparedMenu:r2},o2=Kr("tiered-menu-item-highlight"),XA=Kr("tiered-menu-item-dehighlight");var gu;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(gu||(gu={}));const mL=(o,u)=>{const p=gs(),S=(Pr,so,No)=>je(No,(Qo,To)=>{const Yo=()=>Rb.sketch({...Qo,value:To,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Ma,Fs)=>{vo(Ma,o2,{menuComp:Ma,itemComp:Fs})},onDehighlight:(Ma,Fs)=>{vo(Ma,XA,{menuComp:Ma,itemComp:Fs})},focusManager:o.fakeFocus?$():A()});return To===so?{type:"prepared",menu:Pr.getSystem().build(Yo())}:{type:"notbuilt",nbMenu:Yo}}),_=hL.init(),H=Pr=>{const so=S(Pr,o.data.primary,o.data.menus),No=Ae();return _.setContents(o.data.primary,so,o.data.expansions,No),_.getPrimary()},K=Pr=>Fr.getValue(Pr).value,ye=(Pr,so,No)=>Xe(so,Qo=>{if(!Qo.getSystem().isConnected())return L.none();const To=Ys.getCandidates(Qo);return Ve(To,Yo=>K(Yo)===No)}),Ae=Pr=>je(o.data.menus,(so,No)=>re(so.items,Qo=>Qo.type==="separator"?[]:[Qo.data.value])),Ne=Ys.highlight,Ue=(Pr,so)=>{Ne(Pr,so),Ys.getHighlighted(so).orThunk(()=>Ys.getFirst(so)).each(No=>{o.fakeFocus?Ys.highlight(so,No):YO(Pr,No.element,ta())})},Je=(Pr,so)=>an(ne(so,No=>Pr.lookupMenu(No).bind(Qo=>Qo.type==="prepared"?L.some(Qo.menu):L.none()))),st=(Pr,so,No)=>{const Qo=Je(so,so.otherMenus(No));le(Qo,To=>{nf(To.element,[o.markers.backgroundMenu]),o.stayInDom||Uo.remove(Pr,To)})},ht=Pr=>p.get().getOrThunk(()=>{const so={},No=ml(Pr.element,`.${o.markers.item}`),Qo=Oe(No,To=>oa(To,"aria-haspopup")==="true");return le(Qo,To=>{Pr.getSystem().getByDom(To).each(Yo=>{const Ma=K(Yo);so[Ma]=Yo})}),p.set(so),so}),At=(Pr,so)=>{const No=ht(Pr);Ye(No,(Qo,To)=>{const Yo=xe(so,To);Dr(Qo.element,"aria-expanded",Yo)})},qt=(Pr,so,No)=>L.from(No[0]).bind(Qo=>so.lookupMenu(Qo).bind(To=>{if(To.type==="notbuilt")return L.none();{const Yo=To.menu,Ma=Je(so,No.slice(1));return le(Ma,Fs=>{ki(Fs.element,o.markers.backgroundMenu)}),Js(Yo.element)||Uo.append(Pr,rf(Yo)),nf(Yo.element,[o.markers.backgroundMenu]),Ue(Pr,Yo),st(Pr,so,No),L.some(Yo)}}));let Dn;(function(Pr){Pr[Pr.HighlightSubmenu=0]="HighlightSubmenu",Pr[Pr.HighlightParent=1]="HighlightParent"})(Dn||(Dn={}));const mn=(Pr,so,No)=>{if(No.type==="notbuilt"){const Qo=Pr.getSystem().build(No.nbMenu());return _.setMenuBuilt(so,Qo),Qo}else return No.menu},sn=(Pr,so,No=Dn.HighlightSubmenu)=>{if(so.hasConfigured(Co)&&Co.isDisabled(so))return L.some(so);{const Qo=K(so);return _.expand(Qo).bind(To=>(At(Pr,To),L.from(To[0]).bind(Yo=>_.lookupMenu(Yo).bind(Ma=>{const Fs=mn(Pr,Yo,Ma);return Js(Fs.element)||Uo.append(Pr,rf(Fs)),o.onOpenSubmenu(Pr,so,Fs,te(To)),No===Dn.HighlightSubmenu?(Ys.highlightFirst(Fs),qt(Pr,_,To)):(Ys.dehighlightAll(Fs),L.some(so))}))))}},kn=(Pr,so)=>{const No=K(so);return _.collapse(No).bind(Qo=>(At(Pr,Qo),qt(Pr,_,Qo).map(To=>(o.onCollapseMenu(Pr,so,To),To))))},Zn=(Pr,so)=>{const No=K(so);return _.refresh(No).bind(Qo=>(At(Pr,Qo),qt(Pr,_,Qo)))},mr=(Pr,so)=>yv(so.element)?L.none():sn(Pr,so,Dn.HighlightSubmenu),Gn=(Pr,so)=>yv(so.element)?L.none():kn(Pr,so),Or=(Pr,so)=>kn(Pr,so).orThunk(()=>o.onEscape(Pr,so).map(()=>Pr)),Mr=Pr=>(so,No)=>Zd(No.getSource(),`.${o.markers.item}`).bind(Qo=>so.getSystem().getByDom(Qo).toOptional().bind(To=>Pr(so,To).map(ie))),is=Ea([qn(cL(),(Pr,so)=>{const No=so.event.item;_.lookupItem(K(No)).each(()=>{const Qo=so.event.menu;Ys.highlight(Pr,Qo);const To=K(so.event.item);_.refresh(To).each(Yo=>st(Pr,_,Yo))})}),sd((Pr,so)=>{const No=so.event.target;Pr.getSystem().getByDom(No).each(Qo=>{K(Qo).indexOf("collapse-item")===0&&kn(Pr,Qo),sn(Pr,Qo,Dn.HighlightSubmenu).fold(()=>{o.onExecute(Pr,Qo)},M)})}),Ca((Pr,so)=>{H(Pr).each(No=>{Uo.append(Pr,rf(No)),o.onOpenMenu(Pr,No),o.highlightOnOpen===gu.HighlightMenuAndItem?Ue(Pr,No):o.highlightOnOpen===gu.HighlightJustMenu&&Ne(Pr,No)})}),qn(o2,(Pr,so)=>{o.onHighlightItem(Pr,so.event.menuComp,so.event.itemComp)}),qn(XA,(Pr,so)=>{o.onDehighlightItem(Pr,so.event.menuComp,so.event.itemComp)}),...o.navigateOnHover?[qn(B_(),(Pr,so)=>{const No=so.event.item;Zn(Pr,No),sn(Pr,No,Dn.HighlightParent),o.onHover(Pr,No)})]:[]]),Gr=Pr=>Ys.getHighlighted(Pr).bind(Ys.getHighlighted),Io=Pr=>{Gr(Pr).each(so=>{kn(Pr,so)})},_o=Pr=>{_.getPrimary().each(so=>{Ue(Pr,so)})},na=Pr=>L.from(Pr.components()[0]).filter(so=>oa(so.element,"role")==="menu"),Ns={collapseMenu:Io,highlightPrimary:_o,repositionMenus:Pr=>{_.getPrimary().bind(No=>Gr(Pr).bind(Qo=>{const To=K(Qo),Yo=Nt(_.getMenus()),Ma=an(ne(Yo,hL.extractPreparedMenu));return _.getTriggeringPath(To,Fs=>ye(Pr,Ma,Fs))}).map(Qo=>({primary:No,triggeringPath:Qo}))).fold(()=>{na(Pr).each(No=>{o.onRepositionMenu(Pr,No,[])})},({primary:No,triggeringPath:Qo})=>{o.onRepositionMenu(Pr,No,Qo)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Ni(o.tmenuBehaviours,[yo.config({mode:"special",onRight:Mr(mr),onLeft:Mr(Gn),onEscape:Mr(Or),focusIn:(Pr,so)=>{_.getPrimary().each(No=>{YO(Pr,No.element,ta())})}}),Ys.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Ss.config({find:Pr=>Ys.getHighlighted(Pr)}),Uo.config({})]),eventOrder:o.eventOrder,apis:Ns,events:is}},iY=Q("collapse-item"),lY=(o,u,p)=>({primary:o,menus:u,expansions:p}),gL=(o,u)=>({primary:o,menus:vt(o,u),expansions:{}}),cY=o=>({value:Kr(iY()),meta:{text:o}}),u1=Du({name:"TieredMenu",configFields:[pw("onExecute"),pw("onEscape"),Hd("onOpenMenu"),Hd("onOpenSubmenu"),Rs("onRepositionMenu"),Rs("onCollapseMenu"),Mn("highlightOnOpen",gu.HighlightMenuAndItem),au("data",[er("primary"),er("menus"),er("expansions")]),Mn("fakeFocus",!1),Rs("onHighlightItem"),Rs("onDehighlightItem"),Rs("onHover"),Vy(),er("dom"),Mn("navigateOnHover",!0),Mn("stayInDom",!1),tl("tmenuBehaviours",[yo,Ys,Ss,Uo]),Mn("eventOrder",{})],apis:{collapseMenu:(o,u)=>{o.collapseMenu(u)},highlightPrimary:(o,u)=>{o.highlightPrimary(u)},repositionMenus:(o,u)=>{o.repositionMenus(u)}},factory:mL,extraApis:{tieredData:lY,singleData:gL,collapseItem:cY}}),uY=(o,u,p,S,_)=>{const H=()=>o.lazySink(u),K=S.type==="horizontal"?{layouts:{onLtr:()=>vx(),onRtl:()=>Aw()}}:{},ye=Ne=>Ne.length===2,Ae=Ne=>ye(Ne)?K:{};return u1.sketch({dom:{tag:"div"},data:S.data,markers:S.menu.markers,highlightOnOpen:S.menu.highlightOnOpen,fakeFocus:S.menu.fakeFocus,onEscape:()=>(As.close(u),o.onEscape.map(Ne=>Ne(u)),L.some(!0)),onExecute:()=>L.some(!0),onOpenMenu:(Ne,Ue)=>{cc.positionWithinBounds(H().getOrDie(),Ue,p,_())},onOpenSubmenu:(Ne,Ue,Je,st)=>{const ht=H().getOrDie();cc.position(ht,Je,{anchor:{type:"submenu",item:Ue,...Ae(st)}})},onRepositionMenu:(Ne,Ue,Je)=>{const st=H().getOrDie();cc.positionWithinBounds(st,Ue,p,_()),le(Je,ht=>{const At=Ae(ht.triggeringPath);cc.position(st,ht.triggeredMenu,{anchor:{type:"submenu",item:ht.triggeringItem,...At}})})}})},fY=(o,u)=>{const p=(st,ht)=>o.getRelated(st).exists(qt=>Rm(qt,ht)),S=(st,ht)=>{As.setContent(st,ht)},_=(st,ht,At)=>{const qt=L.none;H(st,ht,At,qt)},H=(st,ht,At,qt)=>{const Dn=o.lazySink(st).getOrDie();As.openWhileCloaked(st,ht,()=>cc.positionWithinBounds(Dn,st,At,qt())),Fr.setValue(st,L.some({mode:"position",config:At,getBounds:qt}))},K=(st,ht,At)=>{ye(st,ht,At,L.none)},ye=(st,ht,At,qt)=>{const Dn=uY(o,st,ht,At,qt);As.open(st,Dn),Fr.setValue(st,L.some({mode:"menu",menu:Dn}))},Ae=st=>{As.isOpen(st)&&(Fr.setValue(st,L.none()),As.close(st))},Ne=st=>As.getState(st),Ue=st=>{As.isOpen(st)&&Fr.getValue(st).each(ht=>{switch(ht.mode){case"menu":As.getState(st).each(u1.repositionMenus);break;case"position":const At=o.lazySink(st).getOrDie();cc.positionWithinBounds(At,st,ht.config,ht.getBounds());break}})},Je={setContent:S,showAt:_,showWithinBounds:H,showMenuAt:K,showMenuWithinBounds:ye,hide:Ae,getContent:Ne,reposition:Ue,isOpen:As.isOpen};return{uid:o.uid,dom:o.dom,behaviours:Ni(o.inlineBehaviours,[As.config({isPartOf:(st,ht,At)=>Rm(ht,At)||p(st,At),getAttachPoint:st=>o.lazySink(st).getOrDie(),onOpen:st=>{o.onShow(st)},onClose:st=>{o.onHide(st)}}),Fr.config({store:{mode:"memory",initialValue:L.none()}}),cu.config({channels:{...fb({isExtraPart:u.isExtraPart,...o.fireDismissalEventInstead.map(st=>({fireEventInstead:{event:st.event}})).getOr({})}),...j0({...o.fireRepositionEventInstead.map(st=>({fireEventInstead:{event:st.event}})).getOr({}),doReposition:Ue})}})]),eventOrder:o.eventOrder,apis:Je}},si=Du({name:"InlineView",configFields:[er("lazySink"),Rs("onShow"),Rs("onHide"),td("onEscape"),tl("inlineBehaviours",[As,Fr,cu]),Cc("fireDismissalEventInstead",[Mn("event",Mg())]),Cc("fireRepositionEventInstead",[Mn("event",ok())]),Mn("getRelated",L.none),Mn("isExtraPart",X),Mn("eventOrder",L.none)],factory:fY,apis:{showAt:(o,u,p,S)=>{o.showAt(u,p,S)},showWithinBounds:(o,u,p,S,_)=>{o.showWithinBounds(u,p,S,_)},showMenuAt:(o,u,p,S)=>{o.showMenuAt(u,p,S)},showMenuWithinBounds:(o,u,p,S,_)=>{o.showMenuWithinBounds(u,p,S,_)},hide:(o,u)=>{o.hide(u)},isOpen:(o,u)=>o.isOpen(u),getContent:(o,u)=>o.getContent(u),setContent:(o,u,p)=>{o.setContent(u,p)},reposition:(o,u)=>{o.reposition(u)}}});var Db=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ll=Du({name:"Button",factory:o=>{const u=Wm(o.action),p=o.dom.tag,S=H=>Bt(o.dom,"attributes").bind(K=>Bt(K,H)),_=()=>{if(p==="button"){const H=S("type").getOr("button"),K=S("role").map(ye=>({role:ye})).getOr({});return{type:H,...K}}else return{role:o.role.getOr(S("role").getOr("button"))}};return{uid:o.uid,dom:o.dom,components:o.components,events:u,behaviours:Bf.augment(o.buttonBehaviours,[Mo.config({}),yo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:_()},eventOrder:o.eventOrder}},configFields:[Mn("uid",void 0),er("dom"),Mn("components",[]),Bf.field("buttonBehaviours",[Mo,yo]),Ws("action"),Ws("role"),Mn("eventOrder",{})]}),dY=o=>{const u=o.dom.attributes!==void 0?o.dom.attributes:[];return Ce(u,(p,S)=>S.name==="class"?p:{...p,[S.name]:S.value},{})},hY=o=>Array.prototype.slice.call(o.dom.classList,0),wv=o=>{const u=zt.fromHtml(o),p=qr(u),S=dY(u),_=hY(u),H=p.length===0?{}:{innerHtml:rw(u)};return{tag:Oo(u),classes:_,attributes:S,...H}},ia=o=>{const u=l_(o)&&En(o,"uid")?o.uid:h0("memento");return{get:H=>H.getSystem().getByUid(u).getOrDie(),getOpt:H=>H.getSystem().getByUid(u).toOptional(),asSpec:()=>({...o,uid:u})}},{entries:V_,setPrototypeOf:z_,isFrozen:mY,getPrototypeOf:gY,getOwnPropertyDescriptor:pY}=Object;let{freeze:Ff,seal:Ym,create:vY}=Object,{apply:GA,construct:Z_}=typeof Reflect<"u"&&Reflect;GA||(GA=function(u,p,S){return u.apply(p,S)}),Ff||(Ff=function(u){return u}),Ym||(Ym=function(u){return u}),Z_||(Z_=function(u,p){return new u(...p)});const yY=Vh(Array.prototype.forEach),bY=Vh(Array.prototype.pop),NT=Vh(Array.prototype.push),jA=Vh(String.prototype.toLowerCase),Tv=Vh(String.prototype.toString),OY=Vh(String.prototype.match),Xm=Vh(String.prototype.replace),$b=Vh(String.prototype.indexOf),vL=Vh(String.prototype.trim),qd=Vh(RegExp.prototype.test),Fh=xY(TypeError);function Vh(o){return function(u){for(var p=arguments.length,S=new Array(p>1?p-1:0),_=1;_<p;_++)S[_-1]=arguments[_];return GA(o,u,S)}}function xY(o){return function(){for(var u=arguments.length,p=new Array(u),S=0;S<u;S++)p[S]=arguments[S];return Z_(o,p)}}function Ds(o,u,p){var S;p=(S=p)!==null&&S!==void 0?S:jA,z_&&z_(o,null);let _=u.length;for(;_--;){let H=u[_];if(typeof H=="string"){const K=p(H);K!==H&&(mY(u)||(u[_]=K),H=K)}o[H]=!0}return o}function Lb(o){const u=vY(null);for(const[p,S]of V_(o))u[p]=S;return u}function BT(o,u){for(;o!==null;){const S=pY(o,u);if(S){if(S.get)return Vh(S.get);if(typeof S.value=="function")return Vh(S.value)}o=gY(o)}function p(S){return console.warn("fallback value for",S),null}return p}const H_=Ff(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U_=Ff(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),QT=Ff(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SY=Ff(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),W_=Ff(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),wY=Ff(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FT=Ff(["#text"]),qA=Ff(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),KA=Ff(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y_=Ff(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),VT=Ff(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),TY=Ym(/\{\{[\w\W]*|[\w\W]*\}\}/gm),CY=Ym(/<%[\w\W]*|[\w\W]*%>/gm),yL=Ym(/\${[\w\W]*}/gm),kY=Ym(/^data-[\-\w.\u00B7-\uFFFF]/),X_=Ym(/^aria-[\-\w]+$/),G_=Ym(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),AY=Ym(/^(?:\w+script|data):/i),PY=Ym(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bL=Ym(/^html$/i);var JA=Object.freeze({__proto__:null,MUSTACHE_EXPR:TY,ERB_EXPR:CY,TMPLIT_EXPR:yL,DATA_ATTR:kY,ARIA_ATTR:X_,IS_ALLOWED_URI:G_,IS_SCRIPT_OR_DATA:AY,ATTR_WHITESPACE:PY,DOCTYPE_NAME:bL});const MY=()=>typeof window>"u"?null:window,zT=function(u,p){if(typeof u!="object"||typeof u.createPolicy!="function")return null;let S=null;const _="data-tt-policy-suffix";p&&p.hasAttribute(_)&&(S=p.getAttribute(_));const H="dompurify"+(S?"#"+S:"");try{return u.createPolicy(H,{createHTML(K){return K},createScriptURL(K){return K}})}catch{return console.warn("TrustedTypes policy "+H+" could not be created."),null}};function ZT(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:MY();const u=Ts=>ZT(Ts);if(u.version="3.0.5",u.removed=[],!o||!o.document||o.document.nodeType!==9)return u.isSupported=!1,u;const p=o.document,S=p.currentScript;let{document:_}=o;const{DocumentFragment:H,HTMLTemplateElement:K,Node:ye,Element:Ae,NodeFilter:Ne,NamedNodeMap:Ue=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:Je,DOMParser:st,trustedTypes:ht}=o,At=Ae.prototype,qt=BT(At,"cloneNode"),Dn=BT(At,"nextSibling"),mn=BT(At,"childNodes"),sn=BT(At,"parentNode");if(typeof K=="function"){const Ts=_.createElement("template");Ts.content&&Ts.content.ownerDocument&&(_=Ts.content.ownerDocument)}let kn,Zn="";const{implementation:mr,createNodeIterator:Gn,createDocumentFragment:Or,getElementsByTagName:Mr}=_,{importNode:is}=p;let Gr={};u.isSupported=typeof V_=="function"&&typeof sn=="function"&&mr&&mr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Io,ERB_EXPR:_o,TMPLIT_EXPR:na,DATA_ATTR:wo,ARIA_ATTR:Ns,IS_SCRIPT_OR_DATA:Pr,ATTR_WHITESPACE:so}=JA;let{IS_ALLOWED_URI:No}=JA,Qo=null;const To=Ds({},[...H_,...U_,...QT,...W_,...FT]);let Yo=null;const Ma=Ds({},[...qA,...KA,...Y_,...VT]);let Fs=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),tc=null,yf=null,ch=!0,nm=!0,I1=!1,cO=!0,rg=!1,Lv=!1,u3=!1,hD=!1,rS=!1,RP=!1,Hz=!1,lue=!0,cue=!1;const h2e="user-content-";let mre=!0,mD=!1,DP={},$P=null;const uue=Ds({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fue=null;const due=Ds({},["audio","video","img","source","image","track"]);let gre=null;const hue=Ds({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Uz="http://www.w3.org/1998/Math/MathML",Wz="http://www.w3.org/2000/svg",uO="http://www.w3.org/1999/xhtml";let LP=uO,pre=!1,vre=null;const m2e=Ds({},[Uz,Wz,uO],Tv);let f3;const g2e=["application/xhtml+xml","text/html"],p2e="text/html";let bf,IP=null;const v2e=_.createElement("form"),mue=function(Vn){return Vn instanceof RegExp||Vn instanceof Function},yre=function(Vn){if(!(IP&&IP===Vn)){if((!Vn||typeof Vn!="object")&&(Vn={}),Vn=Lb(Vn),f3=g2e.indexOf(Vn.PARSER_MEDIA_TYPE)===-1?f3=p2e:f3=Vn.PARSER_MEDIA_TYPE,bf=f3==="application/xhtml+xml"?Tv:jA,Qo="ALLOWED_TAGS"in Vn?Ds({},Vn.ALLOWED_TAGS,bf):To,Yo="ALLOWED_ATTR"in Vn?Ds({},Vn.ALLOWED_ATTR,bf):Ma,vre="ALLOWED_NAMESPACES"in Vn?Ds({},Vn.ALLOWED_NAMESPACES,Tv):m2e,gre="ADD_URI_SAFE_ATTR"in Vn?Ds(Lb(hue),Vn.ADD_URI_SAFE_ATTR,bf):hue,fue="ADD_DATA_URI_TAGS"in Vn?Ds(Lb(due),Vn.ADD_DATA_URI_TAGS,bf):due,$P="FORBID_CONTENTS"in Vn?Ds({},Vn.FORBID_CONTENTS,bf):uue,tc="FORBID_TAGS"in Vn?Ds({},Vn.FORBID_TAGS,bf):{},yf="FORBID_ATTR"in Vn?Ds({},Vn.FORBID_ATTR,bf):{},DP="USE_PROFILES"in Vn?Vn.USE_PROFILES:!1,ch=Vn.ALLOW_ARIA_ATTR!==!1,nm=Vn.ALLOW_DATA_ATTR!==!1,I1=Vn.ALLOW_UNKNOWN_PROTOCOLS||!1,cO=Vn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,rg=Vn.SAFE_FOR_TEMPLATES||!1,Lv=Vn.WHOLE_DOCUMENT||!1,rS=Vn.RETURN_DOM||!1,RP=Vn.RETURN_DOM_FRAGMENT||!1,Hz=Vn.RETURN_TRUSTED_TYPE||!1,hD=Vn.FORCE_BODY||!1,lue=Vn.SANITIZE_DOM!==!1,cue=Vn.SANITIZE_NAMED_PROPS||!1,mre=Vn.KEEP_CONTENT!==!1,mD=Vn.IN_PLACE||!1,No=Vn.ALLOWED_URI_REGEXP||G_,LP=Vn.NAMESPACE||uO,Fs=Vn.CUSTOM_ELEMENT_HANDLING||{},Vn.CUSTOM_ELEMENT_HANDLING&&mue(Vn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Fs.tagNameCheck=Vn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Vn.CUSTOM_ELEMENT_HANDLING&&mue(Vn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Fs.attributeNameCheck=Vn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Vn.CUSTOM_ELEMENT_HANDLING&&typeof Vn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Fs.allowCustomizedBuiltInElements=Vn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),rg&&(nm=!1),RP&&(rS=!0),DP&&(Qo=Ds({},[...FT]),Yo=[],DP.html===!0&&(Ds(Qo,H_),Ds(Yo,qA)),DP.svg===!0&&(Ds(Qo,U_),Ds(Yo,KA),Ds(Yo,VT)),DP.svgFilters===!0&&(Ds(Qo,QT),Ds(Yo,KA),Ds(Yo,VT)),DP.mathMl===!0&&(Ds(Qo,W_),Ds(Yo,Y_),Ds(Yo,VT))),Vn.ADD_TAGS&&(Qo===To&&(Qo=Lb(Qo)),Ds(Qo,Vn.ADD_TAGS,bf)),Vn.ADD_ATTR&&(Yo===Ma&&(Yo=Lb(Yo)),Ds(Yo,Vn.ADD_ATTR,bf)),Vn.ADD_URI_SAFE_ATTR&&Ds(gre,Vn.ADD_URI_SAFE_ATTR,bf),Vn.FORBID_CONTENTS&&($P===uue&&($P=Lb($P)),Ds($P,Vn.FORBID_CONTENTS,bf)),mre&&(Qo["#text"]=!0),Lv&&Ds(Qo,["html","head","body"]),Qo.table&&(Ds(Qo,["tbody"]),delete tc.tbody),Vn.TRUSTED_TYPES_POLICY){if(typeof Vn.TRUSTED_TYPES_POLICY.createHTML!="function")throw Fh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Vn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Fh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');kn=Vn.TRUSTED_TYPES_POLICY,Zn=kn.createHTML("")}else kn===void 0&&(kn=zT(ht,S)),kn!==null&&typeof Zn=="string"&&(Zn=kn.createHTML(""));Ff&&Ff(Vn),IP=Vn}},gue=Ds({},["mi","mo","mn","ms","mtext"]),pue=Ds({},["foreignobject","desc","title","annotation-xml"]),y2e=Ds({},["title","style","font","a","script"]),Yz=Ds({},U_);Ds(Yz,QT),Ds(Yz,SY);const bre=Ds({},W_);Ds(bre,wY);const b2e=function(Vn){let ho=sn(Vn);(!ho||!ho.tagName)&&(ho={namespaceURI:LP,tagName:"template"});const Fo=jA(Vn.tagName),rl=jA(ho.tagName);return vre[Vn.namespaceURI]?Vn.namespaceURI===Wz?ho.namespaceURI===uO?Fo==="svg":ho.namespaceURI===Uz?Fo==="svg"&&(rl==="annotation-xml"||gue[rl]):!!Yz[Fo]:Vn.namespaceURI===Uz?ho.namespaceURI===uO?Fo==="math":ho.namespaceURI===Wz?Fo==="math"&&pue[rl]:!!bre[Fo]:Vn.namespaceURI===uO?ho.namespaceURI===Wz&&!pue[rl]||ho.namespaceURI===Uz&&!gue[rl]?!1:!bre[Fo]&&(y2e[Fo]||!Yz[Fo]):!!(f3==="application/xhtml+xml"&&vre[Vn.namespaceURI]):!1},d3=function(Vn){NT(u.removed,{element:Vn});try{Vn.parentNode.removeChild(Vn)}catch{Vn.remove()}},gD=function(Vn,ho){try{NT(u.removed,{attribute:ho.getAttributeNode(Vn),from:ho})}catch{NT(u.removed,{attribute:null,from:ho})}if(ho.removeAttribute(Vn),Vn==="is"&&!Yo[Vn])if(rS||RP)try{d3(ho)}catch{}else try{ho.setAttribute(Vn,"")}catch{}},vue=function(Vn){let ho,Fo;if(hD)Vn="<remove></remove>"+Vn;else{const pp=OY(Vn,/^[\r\n\t ]+/);Fo=pp&&pp[0]}f3==="application/xhtml+xml"&&LP===uO&&(Vn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Vn+"</body></html>");const rl=kn?kn.createHTML(Vn):Vn;if(LP===uO)try{ho=new st().parseFromString(rl,f3)}catch{}if(!ho||!ho.documentElement){ho=mr.createDocument(LP,"template",null);try{ho.documentElement.innerHTML=pre?Zn:rl}catch{}}const Of=ho.body||ho.documentElement;return Vn&&Fo&&Of.insertBefore(_.createTextNode(Fo),Of.childNodes[0]||null),LP===uO?Mr.call(ho,Lv?"html":"body")[0]:Lv?ho.documentElement:Of},yue=function(Vn){return Gn.call(Vn.ownerDocument||Vn,Vn,Ne.SHOW_ELEMENT|Ne.SHOW_COMMENT|Ne.SHOW_TEXT,null,!1)},O2e=function(Vn){return Vn instanceof Je&&(typeof Vn.nodeName!="string"||typeof Vn.textContent!="string"||typeof Vn.removeChild!="function"||!(Vn.attributes instanceof Ue)||typeof Vn.removeAttribute!="function"||typeof Vn.setAttribute!="function"||typeof Vn.namespaceURI!="string"||typeof Vn.insertBefore!="function"||typeof Vn.hasChildNodes!="function")},Xz=function(Vn){return typeof ye=="object"?Vn instanceof ye:Vn&&typeof Vn=="object"&&typeof Vn.nodeType=="number"&&typeof Vn.nodeName=="string"},fO=function(Vn,ho,Fo){Gr[Vn]&&yY(Gr[Vn],rl=>{rl.call(u,ho,Fo,IP)})},bue=function(Vn){let ho;if(fO("beforeSanitizeElements",Vn,null),O2e(Vn))return d3(Vn),!0;const Fo=bf(Vn.nodeName);if(fO("uponSanitizeElement",Vn,{tagName:Fo,allowedTags:Qo}),Vn.hasChildNodes()&&!Xz(Vn.firstElementChild)&&(!Xz(Vn.content)||!Xz(Vn.content.firstElementChild))&&qd(/<[/\w]/g,Vn.innerHTML)&&qd(/<[/\w]/g,Vn.textContent))return d3(Vn),!0;if(!Qo[Fo]||tc[Fo]){if(!tc[Fo]&&xue(Fo)&&(Fs.tagNameCheck instanceof RegExp&&qd(Fs.tagNameCheck,Fo)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Fo)))return!1;if(mre&&!$P[Fo]){const rl=sn(Vn)||Vn.parentNode,Of=mn(Vn)||Vn.childNodes;if(Of&&rl){const pp=Of.length;for(let gc=pp-1;gc>=0;--gc)rl.insertBefore(qt(Of[gc],!0),Dn(Vn))}}return d3(Vn),!0}return Vn instanceof Ae&&!b2e(Vn)||(Fo==="noscript"||Fo==="noembed"||Fo==="noframes")&&qd(/<\/no(script|embed|frames)/i,Vn.innerHTML)?(d3(Vn),!0):(rg&&Vn.nodeType===3&&(ho=Vn.textContent,ho=Xm(ho,Io," "),ho=Xm(ho,_o," "),ho=Xm(ho,na," "),Vn.textContent!==ho&&(NT(u.removed,{element:Vn.cloneNode()}),Vn.textContent=ho)),fO("afterSanitizeElements",Vn,null),!1)},Oue=function(Vn,ho,Fo){if(lue&&(ho==="id"||ho==="name")&&(Fo in _||Fo in v2e))return!1;if(!(nm&&!yf[ho]&&qd(wo,ho))){if(!(ch&&qd(Ns,ho))){if(!Yo[ho]||yf[ho]){if(!(xue(Vn)&&(Fs.tagNameCheck instanceof RegExp&&qd(Fs.tagNameCheck,Vn)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Vn))&&(Fs.attributeNameCheck instanceof RegExp&&qd(Fs.attributeNameCheck,ho)||Fs.attributeNameCheck instanceof Function&&Fs.attributeNameCheck(ho))||ho==="is"&&Fs.allowCustomizedBuiltInElements&&(Fs.tagNameCheck instanceof RegExp&&qd(Fs.tagNameCheck,Fo)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Fo))))return!1}else if(!gre[ho]){if(!qd(No,Xm(Fo,so,""))){if(!((ho==="src"||ho==="xlink:href"||ho==="href")&&Vn!=="script"&&$b(Fo,"data:")===0&&fue[Vn])){if(!(I1&&!qd(Pr,Xm(Fo,so,"")))){if(Fo)return!1}}}}}}return!0},xue=function(Vn){return Vn.indexOf("-")>0},Sue=function(Vn){let ho,Fo,rl,Of;fO("beforeSanitizeAttributes",Vn,null);const{attributes:pp}=Vn;if(!pp)return;const gc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yo};for(Of=pp.length;Of--;){ho=pp[Of];const{name:vp,namespaceURI:Ore}=ho;Fo=vp==="value"?ho.value:vL(ho.value);const S2e=Fo;if(rl=bf(vp),gc.attrName=rl,gc.attrValue=Fo,gc.keepAttr=!0,gc.forceKeepAttr=void 0,fO("uponSanitizeAttribute",Vn,gc),Fo=gc.attrValue,gc.forceKeepAttr)continue;if(!gc.keepAttr){gD(vp,Vn);continue}if(!cO&&qd(/\/>/i,Fo)){gD(vp,Vn);continue}rg&&(Fo=Xm(Fo,Io," "),Fo=Xm(Fo,_o," "),Fo=Xm(Fo,na," "));const wue=bf(Vn.nodeName);if(!Oue(wue,rl,Fo)){gD(vp,Vn);continue}if(cue&&(rl==="id"||rl==="name")&&(gD(vp,Vn),Fo=h2e+Fo),kn&&typeof ht=="object"&&typeof ht.getAttributeType=="function"&&!Ore)switch(ht.getAttributeType(wue,rl)){case"TrustedHTML":{Fo=kn.createHTML(Fo);break}case"TrustedScriptURL":{Fo=kn.createScriptURL(Fo);break}}if(Fo!==S2e)try{Ore?Vn.setAttributeNS(Ore,vp,Fo):Vn.setAttribute(vp,Fo)}catch{gD(vp,Vn)}}fO("afterSanitizeAttributes",Vn,null)},x2e=function Ts(Vn){let ho;const Fo=yue(Vn);for(fO("beforeSanitizeShadowDOM",Vn,null);ho=Fo.nextNode();)fO("uponSanitizeShadowNode",ho,null),!bue(ho)&&(ho.content instanceof H&&Ts(ho.content),Sue(ho));fO("afterSanitizeShadowDOM",Vn,null)};return u.sanitize=function(Ts){let Vn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ho,Fo,rl,Of;if(pre=!Ts,pre&&(Ts="<!-->"),typeof Ts!="string"&&!Xz(Ts))if(typeof Ts.toString=="function"){if(Ts=Ts.toString(),typeof Ts!="string")throw Fh("dirty is not a string, aborting")}else throw Fh("toString is not a function");if(!u.isSupported)return Ts;if(u3||yre(Vn),u.removed=[],typeof Ts=="string"&&(mD=!1),mD){if(Ts.nodeName){const vp=bf(Ts.nodeName);if(!Qo[vp]||tc[vp])throw Fh("root node is forbidden and cannot be sanitized in-place")}}else if(Ts instanceof ye)ho=vue("<!---->"),Fo=ho.ownerDocument.importNode(Ts,!0),Fo.nodeType===1&&Fo.nodeName==="BODY"||Fo.nodeName==="HTML"?ho=Fo:ho.appendChild(Fo);else{if(!rS&&!rg&&!Lv&&Ts.indexOf("<")===-1)return kn&&Hz?kn.createHTML(Ts):Ts;if(ho=vue(Ts),!ho)return rS?null:Hz?Zn:""}ho&&hD&&d3(ho.firstChild);const pp=yue(mD?Ts:ho);for(;rl=pp.nextNode();)bue(rl)||(rl.content instanceof H&&x2e(rl.content),Sue(rl));if(mD)return Ts;if(rS){if(RP)for(Of=Or.call(ho.ownerDocument);ho.firstChild;)Of.appendChild(ho.firstChild);else Of=ho;return(Yo.shadowroot||Yo.shadowrootmode)&&(Of=is.call(p,Of,!0)),Of}let gc=Lv?ho.outerHTML:ho.innerHTML;return Lv&&Qo["!doctype"]&&ho.ownerDocument&&ho.ownerDocument.doctype&&ho.ownerDocument.doctype.name&&qd(bL,ho.ownerDocument.doctype.name)&&(gc="<!DOCTYPE "+ho.ownerDocument.doctype.name+`>
`+gc),rg&&(gc=Xm(gc,Io," "),gc=Xm(gc,_o," "),gc=Xm(gc,na," ")),kn&&Hz?kn.createHTML(gc):gc},u.setConfig=function(Ts){yre(Ts),u3=!0},u.clearConfig=function(){IP=null,u3=!1},u.isValidAttribute=function(Ts,Vn,ho){IP||yre({});const Fo=bf(Ts),rl=bf(Vn);return Oue(Fo,rl,ho)},u.addHook=function(Ts,Vn){typeof Vn=="function"&&(Gr[Ts]=Gr[Ts]||[],NT(Gr[Ts],Vn))},u.removeHook=function(Ts){if(Gr[Ts])return bY(Gr[Ts])},u.removeHooks=function(Ts){Gr[Ts]&&(Gr[Ts]=[])},u.removeAllHooks=function(){Gr={}},u}var OL=ZT();const j_=o=>OL().sanitize(o);var md=tinymce.util.Tools.resolve("tinymce.util.I18n");const EY={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},xL="temporary-placeholder",q_=o=>()=>Bt(o,xL).getOr("!not found!"),HT=(o,u)=>{const p=o.toLowerCase();if(md.isRtl()){const S=He(p,"-rtl");return vn(u,S)?S:p}else return p},K_=(o,u)=>Bt(u,HT(o,u)),J_=(o,u)=>{const p=u();return K_(o,p).getOrThunk(q_(p))},eR=(o,u,p)=>{const S=u();return K_(o,S).or(p).getOrThunk(q_(S))},_Y=o=>md.isRtl()?vn(EY,o):!1,e5=()=>Jo("add-focusable",[Ca(o=>{ux(o.element,"svg").each(u=>Dr(u,"focusable","false"))})]),SL=(o,u,p,S)=>{var _,H;const K=_Y(u)?["tox-icon--flip"]:[],ye=Bt(p,HT(u,p)).or(S).getOrThunk(q_(p));return{dom:{tag:o.tag,attributes:(_=o.attributes)!==null&&_!==void 0?_:{},classes:o.classes.concat(K),innerHtml:ye},behaviours:pr([...(H=o.behaviours)!==null&&H!==void 0?H:[],e5()])}},zh=(o,u,p,S=L.none())=>SL(u,o,p(),S),RY=(o,u,p)=>{const S=p(),_=Ve(o,H=>vn(S,HT(H,S)));return SL(u,_.getOr(xL),S,L.none())},wL={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},tR=Du({name:"Notification",factory:o=>{const u=ia({dom:wv(`<p>${j_(o.translationProvider(o.text))}</p>`),behaviours:pr([Uo.config({})])}),p=ht=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ht}%`}}}),S=ht=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ht}%`}}),_=ia({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(0)]},S(0)],behaviours:pr([Uo.config({})])}),ye={updateProgress:(ht,At)=>{ht.getSystem().isConnected()&&_.getOpt(ht).each(qt=>{Uo.set(qt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(At)]},S(At)])})},updateText:(ht,At)=>{if(ht.getSystem().isConnected()){const qt=u.get(ht);Uo.set(qt,[yi(At)])}}},Ae=Ie([o.icon.toArray(),o.level.toArray(),o.level.bind(ht=>L.from(wL[ht])).toArray()]),Ne=ia(Ll.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[zh("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":o.translationProvider("Close")}},o.iconProvider)],action:ht=>{o.onAction(ht)}})),Ue=RY(Ae,{tag:"div",classes:["tox-notification__icon"]},o.iconProvider),Je={dom:{tag:"div",classes:["tox-notification__body"]},components:[u.asSpec()],behaviours:pr([Uo.config({})])},st=[Ue,Je];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert"},classes:o.level.map(ht=>["tox-notification","tox-notification--in",`tox-notification--${ht}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:pr([Mo.config({}),Jo("notification-events",[qn(Do(),ht=>{Ne.getOpt(ht).each(Mo.focus)})])]),components:st.concat(o.progress?[_.asSpec()]:[]).concat(o.closeButton?[Ne.asSpec()]:[]),apis:ye}},configFields:[Ws("level"),er("progress"),Ws("icon"),er("onAction"),er("text"),er("iconProvider"),er("translationProvider"),Wi("closeButton",!0)],apis:{updateProgress:(o,u,p)=>{o.updateProgress(u,p)},updateText:(o,u,p)=>{o.updateText(u,p)}}});var nR=(o,u,p)=>{const S=u.backstage.shared,_=()=>{const Ae=fi(zt.fromDom(o.getContentAreaContainer())),Ne=Hl(),Ue=of(Ne.x,Ae.x,Ae.right),Je=of(Ne.y,Ae.y,Ae.bottom),st=Math.max(Ae.right,Ne.right),ht=Math.max(Ae.bottom,Ne.bottom);return L.some(ti(Ue,Je,st-Ue,ht-Je))};return{open:(Ae,Ne)=>{const Ue=()=>{Ne(),si.hide(st)},Je=ic(tR.sketch({text:Ae.text,level:xe(["success","error","warning","warn","info"],Ae.type)?Ae.type:void 0,progress:Ae.progressBar===!0,icon:Ae.icon,closeButton:Ae.closeButton,onAction:Ue,iconProvider:S.providers.icons,translationProvider:S.providers.translate})),st=ic(si.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:S.getSink,fireDismissalEventInstead:{},...S.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));p.add(st),T(Ae.timeout)&&Ae.timeout>0&&Db.setEditorTimeout(o,()=>{Ue()},Ae.timeout);const At={close:Ue,reposition:()=>{const qt=rf(Je),Dn={maxHeightFunction:I0()},mn=o.notificationManager.getNotifications();if(mn[0]===At){const sn={...S.anchors.banner(),overrides:Dn};si.showWithinBounds(st,qt,{anchor:sn},_)}else ee(mn,At).each(sn=>{const kn=mn[sn-1].getEl(),Zn={type:"node",root:ya(),node:L.some(zt.fromDom(kn)),overrides:Dn,layouts:{onRtl:()=>[dl],onLtr:()=>[dl]}};si.showWithinBounds(st,qt,{anchor:Zn},_)})},text:qt=>{tR.updateText(Je,qt)},settings:Ae,getEl:()=>Je.element.dom,progressBar:{value:qt=>{tR.updateProgress(Je,qt)}}};return At},close:Ae=>{Ae.close()},getArgs:Ae=>Ae.settings}},Ib=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),TL=tinymce.util.Tools.resolve("tinymce.EditorManager"),s2=tinymce.util.Tools.resolve("tinymce.Env"),Vf;(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Vf||(Vf={}));var UT;(function(o){o.auto="auto",o.top="top",o.bottom="bottom"})(UT||(UT={}));const _a=o=>u=>u.options.get(o),WT=o=>u=>L.from(o(u)),CL=o=>{const u=s2.deviceType.isPhone(),p=s2.deviceType.isTablet()||u,S=o.options.register,_=K=>h(K)||K===!1,H=K=>h(K)||T(K);S("skin",{processor:K=>h(K)||K===!1,default:"oxide"}),S("skin_url",{processor:"string"}),S("height",{processor:H,default:Math.max(o.getElement().offsetHeight,400)}),S("width",{processor:H,default:Ib.DOM.getStyle(o.getElement(),"width")}),S("min_height",{processor:"number",default:100}),S("min_width",{processor:"number"}),S("max_height",{processor:"number"}),S("max_width",{processor:"number"}),S("style_formats",{processor:"object[]"}),S("style_formats_merge",{processor:"boolean",default:!1}),S("style_formats_autohide",{processor:"boolean",default:!1}),S("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),S("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),S("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),S("font_size_input_default_unit",{processor:"string",default:"pt"}),S("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),S("content_langs",{processor:"object[]"}),S("removed_menuitems",{processor:"string",default:""}),S("menubar",{processor:K=>h(K)||b(K),default:!u}),S("menu",{processor:"object",default:{}}),S("toolbar",{processor:K=>b(K)||h(K)||v(K)?{value:K,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Be(9,K=>{S("toolbar"+(K+1),{processor:"string"})}),S("toolbar_mode",{processor:"string",default:p?"scrolling":"floating"}),S("toolbar_groups",{processor:"object",default:{}}),S("toolbar_location",{processor:"string",default:UT.auto}),S("toolbar_persist",{processor:"boolean",default:!1}),S("toolbar_sticky",{processor:"boolean",default:o.inline}),S("toolbar_sticky_offset",{processor:"number",default:0}),S("fixed_toolbar_container",{processor:"string",default:""}),S("fixed_toolbar_container_target",{processor:"object"}),S("ui_mode",{processor:"string",default:"combined"}),S("file_picker_callback",{processor:"function"}),S("file_picker_validator_handler",{processor:"function"}),S("file_picker_types",{processor:"string"}),S("typeahead_urls",{processor:"boolean",default:!0}),S("anchor_top",{processor:_,default:"#top"}),S("anchor_bottom",{processor:_,default:"#bottom"}),S("draggable_modal",{processor:"boolean",default:!1}),S("statusbar",{processor:"boolean",default:!0}),S("elementpath",{processor:"boolean",default:!0}),S("branding",{processor:"boolean",default:!0}),S("promotion",{processor:"boolean",default:!0}),S("resize",{processor:K=>K==="both"||b(K),default:!s2.deviceType.isTouch()}),S("sidebar_show",{processor:"string"}),S("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),S("default_font_stack",{processor:"string[]",default:[]})},kL=_a("readonly"),t5=_a("height"),YT=_a("width"),rR=WT(_a("min_width")),a2=WT(_a("min_height")),n5=WT(_a("max_width")),oR=WT(_a("max_height")),AL=WT(_a("style_formats")),PL=_a("style_formats_merge"),ML=_a("style_formats_autohide"),EL=_a("content_langs"),sR=_a("removed_menuitems"),i2=_a("toolbar_mode"),_L=_a("toolbar_groups"),XT=_a("toolbar_location"),Nb=_a("fixed_toolbar_container"),DY=_a("fixed_toolbar_container_target"),RL=_a("toolbar_persist"),r5=_a("toolbar_sticky_offset"),aR=_a("menubar"),o5=_a("toolbar"),DL=_a("file_picker_callback"),iR=_a("file_picker_validator_handler"),$L=_a("font_size_input_default_unit"),lR=_a("file_picker_types"),cR=_a("typeahead_urls"),s5=_a("anchor_top"),LL=_a("anchor_bottom"),uR=_a("draggable_modal"),IL=_a("statusbar"),l2=_a("elementpath"),fR=_a("branding"),NL=_a("resize"),a5=_a("paste_as_text"),i5=_a("sidebar_show"),BL=_a("promotion"),l5=_a("help_accessibility"),QL=_a("default_font_stack"),dR=o=>o.options.get("skin")===!1,c2=o=>o.options.get("menubar")!==!1,c5=o=>{const u=o.options.get("skin_url");if(dR(o))return u;if(u)return o.documentBaseURI.toAbsolute(u);{const p=o.options.get("skin");return TL.baseURL+"/skins/ui/"+p}},hR=o=>L.from(o.options.get("skin_url")),FL=o=>o.options.get("line_height_formats").split(" "),u5=o=>{const u=o5(o),p=h(u),S=v(u)&&u.length>0;return!GT(o)&&(S||p||u===!0)},mR=o=>{const u=Be(9,S=>o.options.get("toolbar"+(S+1))),p=Oe(u,h);return lt(p.length>0,p)},GT=o=>mR(o).fold(()=>{const u=o5(o);return R(u,h)&&u.length>0},ie),gR=o=>XT(o)===UT.bottom,VL=o=>{var u;if(!o.inline)return L.none();const p=(u=Nb(o))!==null&&u!==void 0?u:"";if(p.length>0)return Ai(ya(),p);const S=DY(o);return k(S)?L.some(zt.fromDom(S)):L.none()},u2=o=>o.inline&&VL(o).isSome(),pR=o=>VL(o).getOrThunk(()=>Xs(es(zt.fromDom(o.getElement())))),vR=o=>o.inline&&!c2(o)&&!u5(o)&&!GT(o),jT=o=>(o.options.get("toolbar_sticky")||o.inline)&&!u2(o)&&!vR(o),ep=o=>!u2(o)&&o.options.get("ui_mode")==="split",zL=o=>{const u=o.options.get("menu");return je(u,p=>({...p,items:p.items}))};var $Y=Object.freeze({__proto__:null,get ToolbarMode(){return Vf},get ToolbarLocation(){return UT},register:CL,getSkinUrl:c5,getSkinUrlOption:hR,isReadOnly:kL,isSkinDisabled:dR,getHeightOption:t5,getWidthOption:YT,getMinWidthOption:rR,getMinHeightOption:a2,getMaxWidthOption:n5,getMaxHeightOption:oR,getUserStyleFormats:AL,shouldMergeStyleFormats:PL,shouldAutoHideStyleFormats:ML,getLineHeightFormats:FL,getContentLanguages:EL,getRemovedMenuItems:sR,isMenubarEnabled:c2,isMultipleToolbars:GT,isToolbarEnabled:u5,isToolbarPersist:RL,getMultipleToolbarsOption:mR,getUiContainer:pR,useFixedContainer:u2,isSplitUiMode:ep,getToolbarMode:i2,isDraggableModal:uR,isDistractionFree:vR,isStickyToolbar:jT,getStickyToolbarOffset:r5,getToolbarLocation:XT,isToolbarLocationBottom:gR,getToolbarGroups:_L,getMenus:zL,getMenubar:aR,getToolbar:o5,getFilePickerCallback:DL,getFilePickerTypes:lR,useTypeaheadUrls:cR,getAnchorTop:s5,getAnchorBottom:LL,getFilePickerValidatorHandler:iR,getFontSizeInputDefaultUnit:$L,useStatusBar:IL,useElementPath:l2,promotionEnabled:BL,useBranding:fR,getResize:NL,getPasteAsText:a5,getSidebarShow:i5,useHelpAccessibility:l5,getDefaultFontStack:QL});const ZL="[data-mce-autocompleter]",yR=o=>Zd(o,ZL),LY=o=>Ai(o,ZL),IY={setup:(o,u)=>{const p=(_,H)=>{vo(_,_s(),{raw:H})},S=()=>o.getMenu().bind(Ys.getHighlighted);u.on("keydown",_=>{const H=_.which;o.isActive()&&(o.isMenuOpen()?H===13?(S().each(km),_.preventDefault()):H===40?(S().fold(()=>{o.getMenu().each(Ys.highlightFirst)},K=>{p(K,_)}),_.preventDefault(),_.stopImmediatePropagation()):(H===37||H===38||H===39)&&S().each(K=>{p(K,_),_.preventDefault(),_.stopImmediatePropagation()}):(H===13||H===38||H===40)&&o.cancelIfNecessary())}),u.on("NodeChange",_=>{o.isActive()&&!o.isProcessingAction()&&yR(zt.fromDom(_.element)).isNone()&&o.cancelIfNecessary()})}};var bR;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(bR||(bR={}));var Gm=bR;const OR="tox-menu-nav__js",f2="tox-collection__item",xR="tox-swatch",NY={normal:OR,color:xR},HL="tox-collection__item--enabled",BY="tox-collection__group-heading",UL="tox-collection__item-icon",SR="tox-collection__item-label",QY="tox-collection__item-accessory",WL="tox-collection__item-caret",FY="tox-collection__item-checkmark",qT="tox-collection__item--active",YL="tox-collection__item-container",VY="tox-collection__item-container--column",XL="tox-collection__item-container--row",f5="tox-collection__item-container--align-right",zY="tox-collection__item-container--align-left",wR="tox-collection__item-container--valign-top",ZY="tox-collection__item-container--valign-middle",HY="tox-collection__item-container--valign-bottom",GL=o=>Bt(NY,o).getOr(OR),jL=o=>o==="color"?"tox-swatches":"tox-menu",TR=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:jL(o),tieredMenu:"tox-tiered-menu"}),Cv=o=>{const u=TR(o);return{backgroundMenu:u.backgroundMenu,selectedMenu:u.selectedMenu,menu:u.menu,selectedItem:u.selectedItem,item:GL(o)}},CR=(o,u,p)=>{const S=TR(p);return{tag:"div",classes:Ie([[S.menu,`tox-menu-${u}-column`],o?[S.hasIcons]:[]])}},qL=[Rb.parts.items({})],d2=(o,u,p)=>{const S=TR(p);return{dom:{tag:"div",classes:Ie([[S.tieredMenu]])},markers:Cv(p)}},KT=Q([Ws("data"),Mn("inputAttributes",{}),Mn("inputStyles",{}),Mn("tag","input"),Mn("inputClasses",[]),Rs("onSetValue"),Mn("styles",{}),Mn("eventOrder",{}),tl("inputBehaviours",[Fr,Mo]),Mn("selectOnFocus",!0)]),kR=o=>pr([Mo.config({onFocus:o.selectOnFocus?u=>{const p=u.element,S=Mh(p);p.dom.setSelectionRange(0,S.length)}:M})]),tp=o=>({...kR(o),...Ni(o.inputBehaviours,[Fr.config({store:{mode:"manual",...o.data.map(u=>({initialValue:u})).getOr({}),getValue:u=>Mh(u.element),setValue:(u,p)=>{Mh(u.element)!==p&&w0(u.element,p)}},onSetValue:o.onSetValue})])}),d5=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),UY=(o,u)=>({uid:o.uid,dom:d5(o),components:[],behaviours:tp(o),eventOrder:o.eventOrder}),Bb=Du({name:"Input",configFields:KT(),factory:UY}),KL=Kr("refetch-trigger-event"),JL=Kr("redirect-menu-item-interaction"),h2="tox-menu__searcher",h5=o=>Ai(o.element,`.${h2}`).bind(u=>o.getSystem().getByDom(u).toOptional()),AR=h5,PR=(o,u)=>{Fr.setValue(o,u.fetchPattern),o.element.dom.selectionStart=u.selectionStart,o.element.dom.selectionEnd=u.selectionEnd},eI=o=>{const u=Fr.getValue(o),p=o.element.dom.selectionStart,S=o.element.dom.selectionEnd;return{fetchPattern:u,selectionStart:p,selectionEnd:S}},MR=(o,u)=>{Ri(u.element,"id").each(p=>Dr(o.element,"aria-activedescendant",p))},ER=o=>{const u=(_,H)=>(H.cut(),L.none()),p=(_,H)=>{const K={interactionEvent:H.event,eventType:H.event.raw.type};return vo(_,JL,K),L.some(!0)},S="searcher-events";return{dom:{tag:"div",classes:[f2]},components:[Bb.sketch({inputClasses:[h2,"tox-textfield"],inputAttributes:{...o.placeholder.map(_=>({placeholder:o.i18n(_)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pr([Jo(S,[qn(hi(),_=>{ks(_,KL)}),qn(_s(),(_,H)=>{H.event.raw.key==="Escape"&&H.stop()})]),yo.config({mode:"special",onLeft:u,onRight:u,onSpace:u,onEnter:p,onEscape:p,onUp:p,onDown:p})]),eventOrder:{keydown:[S,yo.name()]}})]}},m5="tox-collection--results__js",_R=o=>{var u;return o.dom?{...o,dom:{...o.dom,attributes:{...(u=o.dom.attributes)!==null&&u!==void 0?u:{},id:Kr("aria-item-search-result-id"),"aria-selected":"false"}}}:o},g5=(o,u)=>p=>{const S=pe(p,u);return ne(S,_=>({dom:o,components:_}))},WY=o=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rb.parts.items({preprocess:o!=="auto"?g5({tag:"div",classes:["tox-swatches__row"]},o):z})]}]}),YY=o=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rb.parts.items({preprocess:g5({tag:"div",classes:["tox-collection__group"]},o)})]}),tI=(o,u)=>{const p=[];let S=[];return le(o,(_,H)=>{u(_,H)?(S.length>0&&p.push(S),S=[],(vn(_.dom,"innerHtml")||_.components&&_.components.length>0)&&S.push(_)):S.push(_)}),S.length>0&&p.push(S),ne(p,_=>({dom:{tag:"div",classes:["tox-collection__group"]},components:_}))},RR=(o,u,p)=>Rb.parts.items({preprocess:S=>{const _=ne(S,p);return o!=="auto"&&o>1?g5({tag:"div",classes:["tox-collection__group"]},o)(_):tI(_,(H,K)=>u[K].type==="separator")}}),nI=(o,u,p=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[RR(o,u,z)]}),XY=(o,u,p=!0)=>{const S=Kr("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",m5].concat(o===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:S}},components:[RR(o,u,_R)]}},rI=(o,u,p)=>{const S=Kr("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[ER({i18n:md.translate,placeholder:p.placeholder}),{dom:{tag:"div",classes:[...o===1?["tox-collection--list"]:["tox-collection--grid"],m5],attributes:{id:S}},components:[RR(o,u,_R)]}]}},oI=(o,u=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rb.parts.items({preprocess:p=>tI(p,(S,_)=>o[_].type==="separator")})]}),p5=o=>we(o,u=>"icon"in u&&u.icon!==void 0),np=o=>(console.error(Wl(o)),console.log(o),L.none()),JT=(o,u,p,S,_)=>{const H=oI(p);return{value:o,dom:H.dom,components:H.components,items:p}},v5=(o,u,p,S,_)=>{const H=()=>_.menuType!=="searchable"?nI(S,p):_.searchMode.searchMode==="search-with-field"?rI(S,p,_.searchMode):XY(S,p);if(_.menuType==="color"){const K=WY(S);return{value:o,dom:K.dom,components:K.components,items:p}}else if(_.menuType==="normal"&&S==="auto"){const K=nI(S,p);return{value:o,dom:K.dom,components:K.components,items:p}}else if(_.menuType==="normal"||_.menuType==="searchable"){const K=H();return{value:o,dom:K.dom,components:K.components,items:p}}else if(_.menuType==="listpreview"&&S!=="auto"){const K=YY(S);return{value:o,dom:K.dom,components:K.components,items:p}}else return{value:o,dom:CR(u,S,_.menuType),components:qL,items:p}},Gi=zs("type"),DR=zs("name"),y5=zs("label"),kv=zs("text"),sI=zs("title"),$R=zs("icon"),m2=zs("value"),aI=Ku("fetch"),iI=Ku("getSubmenuItems"),g2=Ku("onAction"),GY=Ku("onItemAction"),f1=Di("onSetup",()=>M),LR=cl("name"),rp=cl("text"),gd=cl("icon"),eC=cl("tooltip"),b5=cl("label"),jY=cl("shortcut"),IR=td("select"),O5=Wi("active",!1),lI=Wi("borderless",!1),Kd=Wi("enabled",!0),op=Wi("primary",!1),cI=o=>Mn("columns",o),tC=Mn("meta",{}),p2=Di("onAction",M),Qb=o=>od("type",o),x5=o=>ll("name","name",Rf(()=>Kr(`${o}-name`)),il),uI=o=>ll("value","value",Rf(()=>Kr(`${o}-value`)),vi()),NR=uo([Gi,rp]),BR=o=>da("separatormenuitem",NR,o),fI=uo([Qb("autocompleteitem"),O5,Kd,tC,m2,rp,gd]),qY=o=>da("Autocompleter.Separator",NR,o),dI=o=>da("Autocompleter.Item",fI,o),v2=[Kd,eC,gd,rp,f1],hI=uo([Gi,g2].concat(v2)),QR=o=>da("toolbarbutton",hI,o),FR=[O5].concat(v2),mI=uo(FR.concat([Gi,g2])),gI=o=>da("ToggleButton",mI,o),pI=[Di("predicate",X),Uc("scope","node",["node","editor"]),Uc("position","selection",["node","selection","line"])],KY=v2.concat([Qb("contextformbutton"),op,g2,ni("original",z)]),JY=FR.concat([Qb("contextformbutton"),op,g2,ni("original",z)]),vI=v2.concat([Qb("contextformbutton")]),nC=FR.concat([Qb("contextformtogglebutton")]),yI=xs("type",{contextformbutton:KY,contextformtogglebutton:JY}),eX=uo([Qb("contextform"),Di("initValue",Q("")),b5,ac("commands",yI),iu("launch",xs("type",{contextformbutton:vI,contextformtogglebutton:nC}))].concat(pI)),tX=o=>da("ContextForm",eX,o),nX=uo([Qb("contexttoolbar"),zs("items")].concat(pI)),rX=o=>da("ContextToolbar",nX,o),oX=[Gi,zs("src"),cl("alt"),Ac("classes",[],il)],S5=uo(oX),sX=[Gi,kv,LR,Ac("classes",["tox-collection__item-label"],il)],bI=uo(sX),OI=al(()=>lr("type",{cardimage:S5,cardtext:bI,cardcontainer:xI})),xI=uo([Gi,od("direction","horizontal"),od("align","left"),od("valign","middle"),ac("items",OI)]),Fb=[Kd,rp,jY,uI("menuitem"),tC],aX=uo([Gi,b5,ac("items",OI),f1,p2].concat(Fb)),SI=o=>da("cardmenuitem",aX,o),wI=uo([Gi,O5,gd].concat(Fb)),TI=o=>da("choicemenuitem",wI,o),VR=[Gi,zs("fancytype"),p2],iX=[Mn("initData",{})].concat(VR),lX=[td("select"),D("initData",{},[Wi("allowCustomColors",!0),od("storageKey","default"),Bd("colors",vi())])].concat(VR),cX=xs("fancytype",{inserttable:iX,colorswatch:lX}),uX=o=>da("fancymenuitem",cX,o),CI=uo([Gi,f1,p2,gd].concat(Fb)),kI=o=>da("menuitem",CI,o),fX=uo([Gi,iI,f1,gd].concat(Fb)),dX=o=>da("nestedmenuitem",fX,o),hX=uo([Gi,gd,O5,f1,g2].concat(Fb)),mX=o=>da("togglemenuitem",hX,o),zR=(o,u,p)=>{const S=ml(o.element,"."+p);if(S.length>0){const _=_e(S,H=>{const K=H.dom.getBoundingClientRect().top,ye=S[0].dom.getBoundingClientRect().top;return Math.abs(K-ye)>u}).getOr(S.length);return L.some({numColumns:_,numRows:Math.ceil(S.length/_)})}else return L.none()},ZR=(o,u)=>pr([Jo(o,u)]),rC={namedEvents:ZR,unnamedEvents:o=>ZR(Kr("unnamed-events"),o)},w5=Kr("tooltip.exclusive"),y2=Kr("tooltip.show"),oC=Kr("tooltip.hide"),AI=(o,u,p)=>{o.getSystem().broadcastOn([w5],{})};var pX=Object.freeze({__proto__:null,hideAllExclusive:AI,setComponents:(o,u,p,S)=>{p.getTooltip().each(_=>{_.getSystem().isConnected()&&Uo.set(_,S)})}}),PI=Object.freeze({__proto__:null,events:(o,u)=>{const p=_=>{u.getTooltip().each(H=>{Ih(H),o.onHide(_,H),u.clearTooltip()}),u.clearTimer()},S=_=>{if(!u.isShowing()){AI(_);const H=o.lazySink(_).getOrDie(),K=_.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:Ea(o.mode==="normal"?[qn(Lr(),ye=>{ks(_,y2)}),qn(ri(),ye=>{ks(_,oC)})]:[]),behaviours:pr([Uo.config({})])});u.setTooltip(K),Wg(H,K),o.onShow(_,K),cc.position(H,K,{anchor:o.anchor(_)})}};return Ea(Ie([[qn(y2,_=>{u.resetTimer(()=>{S(_)},o.delay)}),qn(oC,_=>{u.resetTimer(()=>{p(_)},o.delay)}),qn(Gl(),(_,H)=>{const K=H;K.universal||xe(K.channels,w5)&&p(_)}),kh(_=>{p(_)})],o.mode==="normal"?[qn(Do(),_=>{ks(_,y2)}),qn(Xl(),_=>{ks(_,oC)}),qn(Lr(),_=>{ks(_,y2)}),qn(ri(),_=>{ks(_,oC)})]:[qn(Ry(),(_,H)=>{ks(_,y2)}),qn(Dy(),_=>{ks(_,oC)})]]))}}),MI=[er("lazySink"),er("tooltipDom"),Mn("exclusive",!0),Mn("tooltipComponents",[]),Mn("delay",300),Uc("mode","normal",["normal","follow-highlight"]),Mn("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:Q([dl,_c,fl,Xc,Kl,lc]),onRtl:Q([dl,_c,fl,Xc,Kl,lc])}})),Rs("onHide"),Rs("onShow")],yX=Object.freeze({__proto__:null,init:()=>{const o=gs(),u=gs(),p=()=>{o.on(clearTimeout)},S=(H,K)=>{p(),o.set(setTimeout(H,K))},_=Q("not-implemented");return Au({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:p,resetTimer:S,readState:_})}});const EI=hl({fields:MI,name:"tooltipping",active:PI,state:yX,apis:pX}),bX=o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),_I="silver.readonly",HR=uo([jS("readonly")]),T5=(o,u)=>{const S=o.mainUi.outerContainer.element,_=[o.mainUi.mothership,...o.uiMotherships];u&&le(_,H=>{H.broadcastOn([Xd()],{target:S})}),le(_,H=>{H.broadcastOn([_I],{readonly:u})})},RI=(o,u)=>{o.on("init",()=>{o.mode.isReadOnly()&&T5(u,!0)}),o.on("SwitchMode",()=>T5(u,o.mode.isReadOnly())),kL(o)&&o.mode.set("readonly")},pl=()=>cu.config({channels:{[_I]:{schema:HR,onReceive:(o,u)=>{Co.set(o,u.readonly)}}}}),nl={item:o=>Co.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),button:o=>Co.config({disabled:o}),splitButton:o=>Co.config({disabled:o,disableClass:"tox-tbtn--disabled"}),toolbarButton:o=>Co.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1})},pd=(o,u)=>{const p=o.getApi(u);return S=>{S(p)}},d1=(o,u)=>Ca(p=>{pd(o,p)(_=>{const H=o.onSetup(_);w(H)&&u.set(H)})}),sp=(o,u)=>kh(p=>pd(o,p)(u.get())),UR=(o,u)=>sd((p,S)=>{pd(o,p)(o.onAction),!o.triggersSubmenu&&u===Gm.CLOSE_ON_EXECUTE&&(p.getSystem().isConnected()&&ks(p,ef()),S.stop())}),xX={[Ii()]:["disabling","alloy.base.behaviour","toggling","item-events"]},b2=an,ap=(o,u,p,S)=>{const _=G(M);return{type:"item",dom:u.dom,components:b2(u.optComponents),data:o.data,eventOrder:xX,hasSubmenu:o.triggersSubmenu,itemBehaviours:pr([Jo("item-events",[UR(o,p),d1(o,_),sp(o,_)]),nl.item(()=>!o.enabled||S.isDisabled()),pl(),Uo.config({})].concat(o.itemBehaviours))}},Av=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),C5=o=>{const u=s2.os.isMacOS()||s2.os.isiOS(),_=u?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},H=o.split("+"),K=ne(H,ye=>{const Ae=ye.toLowerCase().trim();return vn(_,Ae)?_[Ae]:ye});return u?K.join(""):K.join("+")},WR=(o,u,p=[UL])=>zh(o,{tag:"div",classes:p},u),Zh=o=>({dom:{tag:"div",classes:[SR]},components:[yi(md.translate(o))]}),DI=(o,u)=>({dom:{tag:"div",classes:u,innerHtml:o}}),SX=(o,u)=>({dom:{tag:"div",classes:[SR]},components:[{dom:{tag:o.tag,styles:o.styles},components:[yi(md.translate(u))]}]}),Jd=o=>({dom:{tag:"div",classes:[QY]},components:[yi(C5(o))]}),O2=o=>WR("checkmark",o,[FY]),Hh=o=>WR("chevron-right",o,[WL]),wX=o=>WR("chevron-down",o,[WL]),xa=(o,u)=>{const p=o.direction==="vertical"?VY:XL,S=o.align==="left"?zY:f5;return{dom:{tag:"div",classes:[YL,p,S,(()=>{switch(o.valign){case"top":return wR;case"middle":return ZY;case"bottom":return HY}})()]},components:u}},x2=(o,u,p)=>({dom:{tag:"img",classes:u,attributes:{src:o,alt:p.getOr("")}}}),k5=(o,u,p)=>{const S="custom",_="remove",H=o.ariaLabel,K=o.value,ye=o.iconContent.map(Ne=>eR(Ne,u.icons,p));return{dom:(()=>{const Ne=xR,Ue=ye.getOr(""),st={tag:"div",attributes:H.map(ht=>({title:u.translate(ht)})).getOr({}),classes:[Ne]};return K===S?{...st,tag:"button",classes:[...st.classes,"tox-swatches__picker-btn"],innerHtml:Ue}:K===_?{...st,classes:[...st.classes,"tox-swatch--remove"],innerHtml:Ue}:k(K)?{...st,attributes:{...st.attributes,"data-mce-color":K},styles:{"background-color":K},innerHtml:Ue}:st})(),optComponents:[]}},YR=o=>{const u=o.map(p=>({attributes:{title:md.translate(p),id:Kr("menu-item")}})).getOr({});return{tag:"div",classes:[OR,f2],...u}},XR=(o,u,p,S)=>{const _={tag:"div",classes:[UL]},H=st=>zh(st,_,u.icons,S),K=()=>L.some({dom:_}),ye=p?o.iconContent.map(H).orThunk(K):L.none(),Ae=o.checkMark,Ne=L.from(o.meta).fold(()=>Zh,st=>vn(st,"style")?F(SX,st.style):Zh),Ue=o.htmlContent.fold(()=>o.textContent.map(Ne),st=>L.some(DI(st,[SR])));return{dom:YR(o.ariaLabel),optComponents:[ye,Ue,o.shortcutContent.map(Jd),Ae,o.caret]}},Vb=(o,u,p,S=L.none())=>o.presets==="color"?k5(o,u,S):XR(o,u,p,S),$I=(o,u)=>Bt(o,"tooltipWorker").map(p=>[EI.config({lazySink:u.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:S=>({type:"submenu",item:S,overrides:{maxHeightFunction:I0}}),mode:"follow-highlight",onShow:(S,_)=>{p(H=>{EI.setComponents(S,[vk({element:zt.fromDom(H)})])})}})]).getOr([]),GR=o=>Ib.DOM.encode(o),LI=(o,u)=>{const p=md.translate(o),S=GR(p);if(u.length>0){const _=new RegExp(bX(u),"gi");return S.replace(_,H=>`<span class="tox-autocompleter-highlight">${H}</span>`)}else return S},II=(o,u,p,S,_,H,K,ye=!0)=>{const Ae=Vb({presets:S,textContent:L.none(),htmlContent:p?o.text.map(Ne=>LI(Ne,u)):L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:L.none(),checkMark:L.none(),caret:L.none(),value:o.value},K.providers,ye,o.icon);return ap({data:Av(o),enabled:o.enabled,getApi:Q({}),onAction:Ne=>_(o.value,o.meta),onSetup:Q(M),triggersSubmenu:!1,itemBehaviours:$I(o.meta,K)},Ae,H,K.providers)},jR=(o,u)=>ne(o,p=>{switch(p.type){case"cardcontainer":return xa(p,jR(p.items,u));case"cardimage":return x2(p.src,p.classes,p.alt);case"cardtext":const _=p.name.exists(H=>xe(u.cardText.highlightOn,H))?L.from(u.cardText.matchText).getOr(""):"";return DI(LI(p.text,_),p.classes)}}),qR=(o,u,p,S)=>{const _=K=>({isEnabled:()=>!Co.isDisabled(K),setEnabled:ye=>{Co.set(K,!ye),le(ml(K.element,"*"),Ae=>{K.getSystem().getByDom(Ae).each(Ne=>{Ne.hasConfigured(Co)&&Co.set(Ne,!ye)})})}}),H={dom:YR(o.label),optComponents:[L.some({dom:{tag:"div",classes:[YL,XL]},components:jR(o.items,S)})]};return ap({data:Av({text:L.none(),...o}),enabled:o.enabled,getApi:_,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:L.from(S.itemBehaviours).getOr([])},H,u,p.providers)},NI=(o,u,p,S,_,H,K,ye=!0)=>{const Ae=Ue=>({setActive:Je=>{as.set(Ue,Je)},isActive:()=>as.isOn(Ue),isEnabled:()=>!Co.isDisabled(Ue),setEnabled:Je=>Co.set(Ue,!Je)}),Ne=Vb({presets:p,textContent:u?o.text:L.none(),htmlContent:L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:u?o.shortcut:L.none(),checkMark:u?L.some(O2(K.icons)):L.none(),caret:L.none(),value:o.value},K,ye);return Ta(ap({data:Av(o),enabled:o.enabled,getApi:Ae,onAction:Ue=>S(o.value),onSetup:Ue=>(Ue.setActive(_),M),triggersSubmenu:!1,itemBehaviours:[]},Ne,H,K),{toggling:{toggleClass:HL,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},sC=Vm(LT(),IT()),BI=o=>({value:zI(o)}),QI=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,FI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,VI=o=>QI.test(o)||FI.test(o),zI=o=>Dt(o,"#").toUpperCase(),ZI=o=>VI(o)?L.some({value:zI(o)}):L.none(),TX=o=>({value:o.value.replace(QI,(p,S,_,H)=>S+S+_+_+H+H)}),CX=o=>{const u=TX(o),p=FI.exec(u.value);return p===null?["FFFFFF","FF","FF","FF"]:p},A5=o=>{const u=o.toString(16);return(u.length===1?"0"+u:u).toUpperCase()},S2=o=>{const u=A5(o.red)+A5(o.green)+A5(o.blue);return BI(u)},HI=Math.min,UI=Math.max,aC=Math.round,WI=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,YI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,h1=(o,u,p,S)=>({red:o,green:u,blue:p,alpha:S}),KR=o=>{const u=parseInt(o,10);return u.toString()===o&&u>=0&&u<=255},XI=o=>{let u,p,S;const _=(o.hue||0)%360;let H=o.saturation/100,K=o.value/100;if(H=UI(0,HI(H,1)),K=UI(0,HI(K,1)),H===0)return u=p=S=aC(255*K),h1(u,p,S,1);const ye=_/60,Ae=K*H,Ne=Ae*(1-Math.abs(ye%2-1)),Ue=K-Ae;switch(Math.floor(ye)){case 0:u=Ae,p=Ne,S=0;break;case 1:u=Ne,p=Ae,S=0;break;case 2:u=0,p=Ae,S=Ne;break;case 3:u=0,p=Ne,S=Ae;break;case 4:u=Ne,p=0,S=Ae;break;case 5:u=Ae,p=0,S=Ne;break;default:u=p=S=0}return u=aC(255*(u+Ue)),p=aC(255*(p+Ue)),S=aC(255*(S+Ue)),h1(u,p,S,1)},iC=o=>{const u=CX(o),p=parseInt(u[1],16),S=parseInt(u[2],16),_=parseInt(u[3],16);return h1(p,S,_,1)},GI=(o,u,p,S)=>{const _=parseInt(o,10),H=parseInt(u,10),K=parseInt(p,10),ye=parseFloat(S);return h1(_,H,K,ye)},JR=o=>{if(o==="transparent")return L.some(h1(0,0,0,0));const u=WI.exec(o);if(u!==null)return L.some(GI(u[1],u[2],u[3],"1"));const p=YI.exec(o);return p!==null?L.some(GI(p[1],p[2],p[3],p[4])):L.none()},e8=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,eh=h1(255,0,0,1),kX=o=>{o.dispatch("SkinLoaded")},t8=(o,u)=>{o.dispatch("SkinLoadError",u)},jI=o=>{o.dispatch("ResizeEditor")},P5=(o,u)=>{o.dispatch("ResizeContent",u)},AX=(o,u)=>{o.dispatch("ScrollContent",u)},n8=(o,u)=>{o.dispatch("TextColorChange",u)},qI=(o,u)=>{o.dispatch("AfterProgressState",{state:u})},KI=(o,u)=>o.dispatch("ResolveName",{name:u.nodeName.toLowerCase(),target:u}),PX=(o,u)=>{o.dispatch("ToggleToolbarDrawer",{state:u})},MX=(o,u)=>{o.dispatch("StylesTextUpdate",u)},EX=(o,u)=>{o.dispatch("AlignTextUpdate",u)},_X=(o,u)=>{o.dispatch("FontSizeTextUpdate",u)},RX=(o,u)=>{o.dispatch("FontSizeInputTextUpdate",u)},JI=(o,u)=>{o.dispatch("BlocksTextUpdate",u)},eN=(o,u)=>{o.dispatch("FontFamilyTextUpdate",u)},lC=(o,u)=>()=>{o(),u()},pu=o=>Uh(o,"NodeChange",u=>{u.setEnabled(o.selection.isEditable())}),DX=(o,u)=>p=>{const S=Lm(),_=()=>{p.setActive(o.formatter.match(u));const H=o.formatter.formatChanged(u,p.setActive);S.set(H)};return o.initialized?_():o.once("init",_),()=>{o.off("init",_),S.clear()}},M5=(o,u)=>p=>{const S=pu(o)(p),_=DX(o,u)(p);return()=>{S(),_()}},Uh=(o,u,p)=>S=>{const _=()=>p(S),H=()=>{p(S),o.on(u,_)};return o.initialized?H():o.once("init",H),()=>{o.off("init",H),o.off(u,_)}},tN=o=>u=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,u.format)})},df=(o,u)=>()=>o.execCommand(u);var m1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const r8={},o8=(o,u=10)=>{const p=m1.getItem(o),S=h(p)?JSON.parse(p):[],H=(Ne=>u-Ne.length<0?Ne.slice(0,u):Ne)(S),K=Ne=>{ee(H,Ne).each(ye),H.unshift(Ne),H.length>u&&H.pop(),m1.setItem(o,JSON.stringify(H))},ye=Ne=>{H.splice(Ne,1)};return{add:K,state:()=>H.slice(0)}},E5=o=>Bt(r8,o).getOrThunk(()=>{const u=`tinymce-custom-colors-${o}`,p=m1.getItem(u);if(C(p)){const _=m1.getItem("tinymce-custom-colors");m1.setItem(u,k(_)?_:"[]")}const S=o8(u,10);return r8[o]=S,S}),s8=o=>ne(E5(o).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})),a8=(o,u)=>{E5(o).add(u)},cC=(o,u,p)=>({hue:o,saturation:u,value:p}),_5=o=>{let u=0,p=0,S=0;const _=o.red/255,H=o.green/255,K=o.blue/255,ye=Math.min(_,Math.min(H,K)),Ae=Math.max(_,Math.max(H,K));if(ye===Ae)return S=ye,cC(0,0,S*100);const Ne=_===ye?H-K:K===ye?_-H:K-_;return u=_===ye?3:K===ye?1:5,u=60*(u-Ne/(Ae-ye)),p=(Ae-ye)/Ae,S=Ae,cC(Math.round(u),Math.round(p*100),Math.round(S*100))},$X=o=>_5(iC(o)),nN=o=>S2(XI(o)),LX=o=>ZI(o).orThunk(()=>JR(o).map(S2)).getOrThunk(()=>{const u=document.createElement("canvas");u.height=1,u.width=1;const p=u.getContext("2d");p.clearRect(0,0,u.width,u.height),p.fillStyle="#FFFFFF",p.fillStyle=o,p.fillRect(0,0,1,1);const S=p.getImageData(0,0,1,1).data,_=S[0],H=S[1],K=S[2],ye=S[3];return S2(h1(_,H,K,ye))}),R5="forecolor",D5="hilitecolor",rN=5,IX=o=>{const u=[];for(let p=0;p<o.length;p+=2)u.push({text:o[p+1],value:"#"+LX(o[p]).value,icon:"checkmark",type:"choiceitem"});return u},ip=o=>u=>u.options.get(o),i8="#000000",NX=o=>{const u=o.options.register,p=_=>R(_,h)?{value:IX(_),valid:!0}:{valid:!1,message:"Must be an array of strings."},S=_=>T(_)&&_>0?{value:_,valid:!0}:{valid:!1,message:"Must be a positive number."};u("color_map",{processor:p,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),u("color_map_background",{processor:p}),u("color_map_foreground",{processor:p}),u("color_cols",{processor:S,default:l8(o)}),u("color_cols_foreground",{processor:S,default:oN(o,R5)}),u("color_cols_background",{processor:S,default:oN(o,D5)}),u("custom_colors",{processor:"boolean",default:!0}),u("color_default_foreground",{processor:"string",default:i8}),u("color_default_background",{processor:"string",default:i8})},$5=(o,u)=>u===R5&&o.options.isSet("color_map_foreground")?ip("color_map_foreground")(o):u===D5&&o.options.isSet("color_map_background")?ip("color_map_background")(o):ip("color_map")(o),l8=(o,u="default")=>Math.max(rN,Math.ceil(Math.sqrt($5(o,u).length))),oN=(o,u)=>{const p=ip("color_cols")(o),S=l8(o,u);return p===l8(o)?S:p},sN=(o,u="default")=>Math.round((()=>u===R5?ip("color_cols_foreground")(o):u===D5?ip("color_cols_background")(o):ip("color_cols")(o))()),aN=ip("custom_colors"),BX=ip("color_default_foreground"),QX=ip("color_default_background"),iN="rgba(0, 0, 0, 0)",FX=o=>JR(o).exists(u=>u.alpha!==0),VX=o=>nn(o,u=>{if(St(u)){const p=Fa(u,"background-color");return lt(FX(p),p)}else return L.none()}).getOr(iN),lN=(o,u)=>{const p=zt.fromDom(o.selection.getStart()),S=u==="hilitecolor"?VX(p):Fa(p,"color");return JR(S).map(_=>"#"+S2(_).value)},zX=(o,u,p)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.apply(u,{value:p}),o.nodeChanged()})},ZX=(o,u)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.remove(u,{value:null},void 0,!0),o.nodeChanged()})},L5=o=>{o.addCommand("mceApplyTextcolor",(u,p)=>{zX(o,u,p)}),o.addCommand("mceRemoveTextcolor",u=>{ZX(o,u)})},c8=o=>{const u="choiceitem",p={type:u,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[p,{type:u,text:"Custom color",icon:"color-picker",value:"custom"}]:[p]},u8=(o,u,p,S)=>{p==="custom"?dN(o)(H=>{H.each(K=>{a8(u,K),o.execCommand("mceApplyTextcolor",u,K),S(K)})},lN(o,u).getOr(i8)):p==="remove"?(S(""),o.execCommand("mceRemoveTextcolor",u)):(S(p),o.execCommand("mceApplyTextcolor",u,p))},f8=(o,u,p)=>o.concat(s8(u).concat(c8(p))),cN=(o,u,p)=>S=>{S(f8(o,u,p))},d8=(o,u,p)=>{const S=u==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(S,p)},uN=(o,u)=>{o.setTooltip(u)},fN=(o,u)=>p=>{const S=lN(o,u);return ln(S,p.toUpperCase())},uC=(o,u,p)=>{if(rn(p))return u==="forecolor"?"Text color":"Background color";const S=u==="forecolor"?"Text color {0}":"Background color {0}",_=f8($5(o,u),u,!1),H=Ve(_,K=>K.value===p).getOr({text:""}).text;return o.translate([S,o.translate(H)])},h8=(o,u,p,S)=>{o.ui.registry.addSplitButton(u,{tooltip:uC(o,p,S.get()),presets:"color",icon:u==="forecolor"?"text-color":"highlight-bg-color",select:fN(o,p),columns:sN(o,p),fetch:cN($5(o,p),p,aN(o)),onAction:_=>{u8(o,p,S.get(),M)},onItemAction:(_,H)=>{u8(o,p,H,K=>{S.set(K),n8(o,{name:u,color:K})})},onSetup:_=>{d8(_,u,S.get());const H=K=>{K.name===u&&(d8(_,K.name,K.color),uN(_,uC(o,p,K.color)))};return o.on("TextColorChange",H),lC(pu(o)(_),()=>{o.off("TextColorChange",H)})}})},m8=(o,u,p,S,_)=>{o.ui.registry.addNestedMenuItem(u,{text:S,icon:u==="forecolor"?"text-color":"highlight-bg-color",onSetup:H=>(uN(H,uC(o,p,_.get())),d8(H,u,_.get()),pu(o)(H)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:fN(o,p),initData:{storageKey:p},onAction:H=>{u8(o,p,H.value,K=>{_.set(K),n8(o,{name:u,color:K})})}}]})},dN=o=>(u,p)=>{let S=!1;const _=ye=>{const Ne=ye.getData().colorpicker;S?(u(L.from(Ne)),ye.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",Ne]))},H=(ye,Ae)=>{Ae.name==="hex-valid"&&(S=Ae.value)},K={colorpicker:p};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:K,onAction:H,onSubmit:_,onClose:M,onCancel:()=>{u(L.none())}})},g8=o=>{L5(o);const u=BX(o),p=QX(o),S=G(u),_=G(p);h8(o,"forecolor","forecolor",S),h8(o,"backcolor","hilitecolor",_),m8(o,"forecolor","forecolor","Text color",S),m8(o,"backcolor","hilitecolor","Background color",_)},p8=(o,u,p,S,_,H,K,ye)=>{const Ae=p5(u),Ue=HX(u,p,S,_!=="color"?"normal":"color",H,K,ye);return v5(o,Ae,Ue,S,{menuType:_})},HX=(o,u,p,S,_,H,K)=>an(ne(o,ye=>ye.type==="choiceitem"?TI(ye).fold(np,Ae=>L.some(NI(Ae,p===1,S,u,H(Ae.value),_,K,p5(o)))):L.none())),I5=(o,u)=>{const p=Cv(u);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+p.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(u==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:_=>u==="color"?Ai(_.element,"[aria-checked=true]"):L.none()}},UX=(o,u)=>o===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:o==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:u==="color"?".tox-swatches__row":".tox-collection__group",cell:u==="color"?`.${xR}`:`.${f2}`}},WX=(o,u)=>{const p=YX(o,u),S=u.colorinput.getColorCols(o.initData.storageKey),_="color",K={...p8(Kr("menu-value"),p,ye=>{o.onAction({value:ye})},S,_,Gm.CLOSE_ON_EXECUTE,o.select.getOr(X),u.shared.providers),markers:Cv(_),movement:I5(S,_)};return{type:"widget",data:{value:Kr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[sC.widget(Rb.sketch(K))]}},YX=(o,u)=>{const p=o.initData.allowCustomColors&&u.colorinput.hasCustomColors();return o.initData.colors.fold(()=>f8(u.colorinput.getColors(o.initData.storageKey),o.initData.storageKey,p),S=>S.concat(c8(p)))},hN=Kr("cell-over"),mN=Kr("cell-execute"),XX=o=>(u,p)=>o.shared.providers.translate(`${p} columns, ${u} rows`),GX=(o,u,p)=>{const S=K=>vo(K,hN,{row:o,col:u}),_=K=>vo(K,mN,{row:o,col:u}),H=(K,ye)=>{ye.stop(),_(K)};return ic({dom:{tag:"div",attributes:{role:"button","aria-label":p}},behaviours:pr([Jo("insert-table-picker-cell",[qn(Lr(),Mo.focus),qn(Ii(),_),qn($i(),H),qn(Mc(),H)]),as.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Mo.config({onFocus:S})])})},N5=(o,u,p)=>{const S=[];for(let _=0;_<u;_++){const H=[];for(let K=0;K<p;K++){const ye=o(_+1,K+1);H.push(GX(_,K,ye))}S.push(H)}return S},v8=(o,u,p,S,_)=>{for(let H=0;H<S;H++)for(let K=0;K<_;K++)as.set(o[H][K],H<=u&&K<=p)},y8=o=>re(o,u=>ne(u,rf)),b8=(o,u)=>yi(`${u}x${o}`),jX={inserttable:(o,u)=>{const _=XX(u),H=N5(_,10,10),K=b8(0,0),ye=ia({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[K],behaviours:pr([Uo.config({})])});return{type:"widget",data:{value:Kr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[sC.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:y8(H).concat(ye.asSpec()),behaviours:pr([Jo("insert-table-picker",[Ca(Ae=>{Uo.set(ye.get(Ae),[K])}),tw(hN,(Ae,Ne,Ue)=>{const{row:Je,col:st}=Ue.event;v8(H,Je,st,10,10),Uo.set(ye.get(Ae),[b8(Je+1,st+1)])}),tw(mN,(Ae,Ne,Ue)=>{const{row:Je,col:st}=Ue.event;o.onAction({numRows:Je+1,numColumns:st+1}),ks(Ae,ef())})]),yo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:WX},O8=(o,u)=>Bt(jX,o.fancytype).map(p=>p(o,u)),x8=(o,u,p,S=!0,_=!1)=>{const H=_?wX(p.icons):Hh(p.icons),K=Ae=>({isEnabled:()=>!Co.isDisabled(Ae),setEnabled:Ne=>Co.set(Ae,!Ne),setIconFill:(Ne,Ue)=>{Ai(Ae.element,`svg path[class="${Ne}"], rect[class="${Ne}"]`).each(Je=>{Dr(Je,"fill",Ue)})},setTooltip:Ne=>{const Ue=p.translate(Ne);Oc(Ae.element,{"aria-label":Ue,title:Ue})}}),ye=Vb({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.some(H),checkMark:L.none(),shortcutContent:o.shortcut},p,S);return ap({data:Av(o),getApi:K,enabled:o.enabled,onAction:M,onSetup:o.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ye,u,p)},B5=(o,u,p,S=!0)=>{const _=K=>({isEnabled:()=>!Co.isDisabled(K),setEnabled:ye=>Co.set(K,!ye)}),H=Vb({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.none(),checkMark:L.none(),shortcutContent:o.shortcut},p,S);return ap({data:Av(o),getApi:_,enabled:o.enabled,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},H,u,p)},gN=o=>({type:"separator",dom:{tag:"div",classes:[f2,BY]},components:o.text.map(yi).toArray()}),qX=(o,u,p,S=!0)=>{const _=K=>({setActive:ye=>{as.set(K,ye)},isActive:()=>as.isOn(K),isEnabled:()=>!Co.isDisabled(K),setEnabled:ye=>Co.set(K,!ye)}),H=Vb({iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,checkMark:L.some(O2(p.icons)),caret:L.none(),shortcutContent:o.shortcut,presets:"normal",meta:o.meta},p,S);return Ta(ap({data:Av(o),enabled:o.enabled,getApi:_,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},H,u,p),{toggling:{toggleClass:HL,toggleOnExecute:!1,selected:o.active}})},KX=II,pN=gN,JX=B5,eG=x8,tG=qX,nG=O8,rG=qR;var oG=Object.freeze({__proto__:null,getCoupled:(o,u,p,S)=>p.getOrCreate(o,u,S),getExistingCoupled:(o,u,p,S)=>p.getExisting(o,u,S)}),sG=[Hc("others",ed(jo.value,vi()))],vN=Object.freeze({__proto__:null,init:()=>{const o={},u=(H,K)=>{if(ct(H.others).length===0)throw new Error("Cannot find any known coupled components");return Bt(o,K)},p=(H,K,ye)=>u(K,ye).getOrThunk(()=>{const Ne=Bt(K.others,ye).getOrDie("No information found for coupled component: "+ye)(H),Ue=H.getSystem().build(Ne);return o[ye]=Ue,Ue}),S=(H,K,ye)=>u(K,ye).orThunk(()=>(Bt(K.others,ye).getOrDie("No information found for coupled component: "+ye),L.none())),_=Q({});return Au({readState:_,getExisting:S,getOrCreate:p})}});const Mi=hl({fields:sG,name:"coupling",apis:oG,state:vN}),S8=o=>{let u=L.none(),p=[];const S=Ne=>S8(Ue=>{_(Je=>{Ue(Ne(Je))})}),_=Ne=>{K()?Ae(Ne):p.push(Ne)},H=Ne=>{K()||(u=L.some(Ne),ye(p),p=[])},K=()=>u.isSome(),ye=Ne=>{le(Ne,Ae)},Ae=Ne=>{u.each(Ue=>{setTimeout(()=>{Ne(Ue)},0)})};return o(H),{get:_,map:S,isReady:K}},aG={nu:S8,pure:o=>S8(u=>{u(o)})},iG=o=>{setTimeout(()=>{throw o},0)},g1=o=>{const u=Ae=>{o().then(Ae,iG)};return{map:Ae=>g1(()=>o().then(Ae)),bind:Ae=>g1(()=>o().then(Ne=>Ae(Ne).toPromise())),anonBind:Ae=>g1(()=>o().then(()=>Ae.toPromise())),toLazy:()=>aG.nu(u),toCached:()=>{let Ae=null;return g1(()=>(Ae===null&&(Ae=o()),Ae))},toPromise:o,get:u}},Ic={nu:o=>g1(()=>new Promise(o)),pure:o=>g1(()=>Promise.resolve(o))},yN=Q("sink"),bN=Q(du({name:yN(),overrides:Q({dom:{tag:"div"},behaviours:pr([cc.config({useFixed:ie})]),events:Ea([Am(_s()),Am(go()),Am($i())])})})),ON=(o,u)=>{const p=o.getHotspot(u).getOr(u),S="hotspot",_=o.getAnchorOverrides();return o.layouts.fold(()=>({type:S,hotspot:p,overrides:_}),H=>({type:S,hotspot:p,overrides:_,layouts:H}))},lG=(o,u,p)=>{const S=o.fetch;return S(p).map(u)},cG=(o,u,p,S,_,H,K)=>{const ye=lG(o,u,S),Ae=xN(S,o);return ye.map(Ne=>Ne.bind(Ue=>L.from(u1.sketch({...H.menu(),uid:h0(""),data:Ue,highlightOnOpen:K,onOpenMenu:(Je,st)=>{const ht=Ae().getOrDie();cc.position(ht,st,{anchor:p}),As.decloak(_)},onOpenSubmenu:(Je,st,ht)=>{const At=Ae().getOrDie();cc.position(At,ht,{anchor:{type:"submenu",item:st}}),As.decloak(_)},onRepositionMenu:(Je,st,ht)=>{const At=Ae().getOrDie();cc.position(At,st,{anchor:p}),le(ht,qt=>{cc.position(At,qt.triggeredMenu,{anchor:{type:"submenu",item:qt.triggeringItem}})})},onEscape:()=>(Mo.focus(S),As.close(_),L.some(!0))}))))},Q5=(o,u,p,S,_,H,K)=>{const ye=ON(o,p);return cG(o,u,ye,p,S,_,K).map(Ne=>(Ne.fold(()=>{As.isOpen(S)&&As.close(S)},Ue=>{As.cloak(S),As.open(S,Ue),H(S)}),S))},uG=(o,u,p,S,_,H,K)=>(As.close(S),Ic.pure(S)),w8=(o,u,p,S,_,H)=>{const K=Mi.getCoupled(p,"sandbox");return(As.isOpen(K)?uG:Q5)(o,u,p,K,S,_,H)},fG=(o,u,p)=>{const S=Ss.getCurrent(u).getOr(u),_=Si(o.element);p?Po(S.element,"min-width",_+"px"):Vs(S.element,_)},xN=(o,u)=>o.getSystem().getByUid(u.uid+"-"+yN()).map(p=>()=>jo.value(p)).getOrThunk(()=>u.lazySink.fold(()=>()=>jo.error(new Error("No internal sink is specified, nor could an external sink be found")),p=>()=>p(o))),SN=o=>{As.getState(o).each(u=>{u1.repositionMenus(u)})},T8=(o,u,p)=>{const S=av(),_=(ye,Ae)=>{const Ne=ON(o,u);S.link(u.element),o.matchWidth&&fG(Ne.hotspot,Ae,o.useMinWidth),o.onOpen(Ne,ye,Ae),p!==void 0&&p.onOpen!==void 0&&p.onOpen(ye,Ae)},H=(ye,Ae)=>{S.unlink(u.element),p!==void 0&&p.onClose!==void 0&&p.onClose(ye,Ae)},K=xN(u,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:S.id,role:"listbox"}},behaviours:Bf.augment(o.sandboxBehaviours,[Fr.config({store:{mode:"memory",initialValue:u}}),As.config({onOpen:_,onClose:H,isPartOf:(ye,Ae,Ne)=>Rm(Ae,Ne)||Rm(u,Ne),getAttachPoint:()=>K().getOrDie()}),Ss.config({find:ye=>As.getState(ye).bind(Ae=>Ss.getCurrent(Ae))}),cu.config({channels:{...fb({isExtraPart:X}),...j0({doReposition:SN})}})])}},wN=o=>{const u=Mi.getCoupled(o,"sandbox");SN(u)},C8=()=>[Mn("sandboxClasses",[]),Bf.field("sandboxBehaviours",[Ss,cu,As,Fr])],dG=Q([er("dom"),er("fetch"),Rs("onOpen"),Ru("onExecute"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",Q({})),Qg(),tl("dropdownBehaviours",[as,Mi,yo,Mo]),er("toggleClass"),Mn("eventOrder",{}),Ws("lazySink"),Mn("matchWidth",!1),Mn("useMinWidth",!1),Ws("role")].concat(C8())),hG=Q([fd({schema:[Vy(),Mn("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),bN()]),mG=(o,u,p,S)=>{const _=Ue=>Bt(o.dom,"attributes").bind(Je=>Bt(Je,Ue)),H=Ue=>{As.getState(Ue).each(Je=>{u1.highlightPrimary(Je)})},K=(Ue,Je,st)=>w8(o,z,Ue,S,Je,st),ye=Ue=>{K(Ue,H,gu.HighlightMenuAndItem).get(M)},Ae={expand:Ue=>{as.isOn(Ue)||K(Ue,M,gu.HighlightNone).get(M)},open:Ue=>{as.isOn(Ue)||K(Ue,M,gu.HighlightMenuAndItem).get(M)},refetch:Ue=>Mi.getExistingCoupled(Ue,"sandbox").fold(()=>K(Ue,M,gu.HighlightMenuAndItem).map(M),st=>Q5(o,z,Ue,st,S,M,gu.HighlightMenuAndItem).map(M)),isOpen:as.isOn,close:Ue=>{as.isOn(Ue)&&K(Ue,M,gu.HighlightMenuAndItem).get(M)},repositionMenus:Ue=>{as.isOn(Ue)&&wN(Ue)}},Ne=(Ue,Je)=>(km(Ue),L.some(!0));return{uid:o.uid,dom:o.dom,components:u,behaviours:Ni(o.dropdownBehaviours,[as.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Mi.config({others:{sandbox:Ue=>T8(o,Ue,{onOpen:()=>as.on(Ue),onClose:()=>as.off(Ue)})}}),yo.config({mode:"special",onSpace:Ne,onEnter:Ne,onDown:(Ue,Je)=>{if(th.isOpen(Ue)){const st=Mi.getCoupled(Ue,"sandbox");H(st)}else th.open(Ue);return L.some(!0)},onEscape:(Ue,Je)=>th.isOpen(Ue)?(th.close(Ue),L.some(!0)):L.none()}),Mo.config({})]),events:Wm(L.some(ye)),eventOrder:{...o.eventOrder,[Ii()]:["disabling","toggling","alloy.base.behaviour"]},apis:Ae,domModification:{attributes:{"aria-haspopup":"true",...o.role.fold(()=>({}),Ue=>({role:Ue})),...o.dom.tag==="button"?{type:_("type").getOr("button")}:{}}}}},th=fc({name:"Dropdown",configFields:dG(),partFields:hG(),factory:mG,apis:{open:(o,u)=>o.open(u),refetch:(o,u)=>o.refetch(u),expand:(o,u)=>o.expand(u),close:(o,u)=>o.close(u),isOpen:(o,u)=>o.isOpen(u),repositionMenus:(o,u)=>o.repositionMenus(u)}}),gG=o=>{switch(o.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:o}}},pG=o=>{const u=Fr.getValue(o),p=h5(o).map(eI);th.refetch(u).get(()=>{const S=Mi.getCoupled(u,"sandbox");p.each(_=>h5(S).each(H=>PR(H,_)))})},vG=(o,u)=>{yG(o).each(p=>{QM(o,p.element,u.event.eventType,u.event.interactionEvent)})},yG=o=>As.getState(o).bind(Ys.getHighlighted).bind(Ys.getHighlighted),bG=o=>el(o.element,m5)?L.some(o.element):Ai(o.element,"."+m5),k8=(o,u,p)=>{AR(o).each(S=>{MR(S,p),bG(u).each(H=>{Ri(H,"id").each(K=>Dr(S.element,"aria-controls",K))})}),Dr(p.element,"aria-selected","true")},OG=(o,u,p)=>{Dr(p.element,"aria-selected","false")},xG=o=>{AR(o).each(u=>Mo.focus(u))},SG=o=>Mi.getExistingCoupled(o,"sandbox").bind(h5).map(eI).map(p=>p.fetchPattern).getOr("");var fC;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(fC||(fC={}));const wG=(o,u,p,S,_)=>{const H=p.shared.providers,K=ye=>_?{...ye,shortcut:L.none(),icon:ye.text.isSome()?L.none():ye.icon}:ye;switch(o.type){case"menuitem":return kI(o).fold(np,ye=>L.some(JX(K(ye),u,H,S)));case"nestedmenuitem":return dX(o).fold(np,ye=>L.some(eG(K(ye),u,H,S,_)));case"togglemenuitem":return mX(o).fold(np,ye=>L.some(tG(K(ye),u,H,S)));case"separator":return BR(o).fold(np,ye=>L.some(pN(ye)));case"fancymenuitem":return uX(o).fold(np,ye=>nG(ye,p));default:return console.error("Unknown item in general menu",o),L.none()}},TG=(o,u,p,S,_,H,K)=>{const ye=S===1,Ae=!ye||p5(o);return an(ne(o,Ne=>{switch(Ne.type){case"separator":return qY(Ne).fold(np,Ue=>L.some(pN(Ue)));case"cardmenuitem":return SI(Ne).fold(np,Ue=>L.some(rG({...Ue,onAction:Je=>{Ue.onAction(Je),p(Ue.value,Ue.meta)}},_,H,{itemBehaviours:$I(Ue.meta,H),cardText:{matchText:u,highlightOn:K}})));case"autocompleteitem":default:return dI(Ne).fold(np,Ue=>L.some(KX(Ue,u,ye,"normal",p,_,H,Ae)))}}))},TN=(o,u,p,S,_,H)=>{const K=p5(u),ye=an(ne(u,Ue=>{const Je=ht=>_?!vn(ht,"text"):K,st=ht=>wG(ht,p,S,Je(ht),_);return Ue.type==="nestedmenuitem"&&Ue.getSubmenuItems().length<=0?st({...Ue,enabled:!1}):st(Ue)})),Ae=gG(H);return(_?JT:v5)(o,K,ye,1,Ae)},F5=o=>u1.singleData(o.value,o),CG=(o,u,p,S)=>{const _=I5(u,S),H=Cv(S);return{data:F5({...o,movement:_,menuBehaviours:rC.unnamedEvents(u!=="auto"?[]:[Ca((K,ye)=>{zR(K,4,H.item).each(({numColumns:Ae,numRows:Ne})=>{yo.setGridSize(K,Ne,Ae)})})])}),menu:{markers:Cv(S),fakeFocus:p===fC.ContentFocus}}},kG=(o,u)=>yR(zt.fromDom(u.startContainer)).map(p=>{const S=o.createRng();return S.selectNode(p.dom),S}),AG={register:(o,u)=>{const p=Kr("autocompleter"),S=G(!1),_=G(!1),H=ic(si.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:p}},components:[],fireDismissalEventInstead:{},inlineBehaviours:pr([Jo("dismissAutocompleter",[qn(Mg(),()=>Ue()),qn(Ry(),(Dn,mn)=>{Ri(mn.event.target,"id").each(sn=>Dr(zt.fromDom(o.getBody()),"aria-activedescendant",sn))})])]),lazySink:u.getSink})),K=()=>si.isOpen(H),ye=_.get,Ae=()=>{if(K()){si.hide(H),o.dom.remove(p,!1);const Dn=zt.fromDom(o.getBody());Ri(Dn,"aria-owns").filter(mn=>mn===p).each(()=>{sa(Dn,"aria-owns"),sa(Dn,"aria-activedescendant")})}},Ne=()=>si.getContent(H).bind(Dn=>ce(Dn.components(),0)),Ue=()=>o.execCommand("mceAutocompleterClose"),Je=Dn=>{const mn=Xe(Dn,sn=>L.from(sn.columns)).getOr(1);return re(Dn,sn=>{const kn=sn.items;return TG(kn,sn.matchText,(Zn,mr)=>{const Gn=o.selection.getRng();kG(o.dom,Gn).each(Or=>{const Mr={hide:()=>Ue(),reload:is=>{Ae(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:is})}};S.set(!0),sn.onAction(Mr,Or,Zn,mr),S.set(!1)})},mn,Gm.BUBBLE_TO_SANDBOX,u,sn.highlightOn)})},st=(Dn,mn)=>{LY(zt.fromDom(o.getBody())).each(sn=>{const kn=Xe(Dn,Zn=>L.from(Zn.columns)).getOr(1);si.showMenuAt(H,{anchor:{type:"node",root:zt.fromDom(o.getBody()),node:L.from(sn)}},CG(v5("autocompleter-value",!0,mn,kn,{menuType:"normal"}),kn,fC.ContentFocus,"normal"))}),Ne().each(Ys.highlightFirst)},ht=Dn=>{const mn=Je(Dn);mn.length>0?(st(Dn,mn),Dr(zt.fromDom(o.getBody()),"aria-owns",p),o.inline||At()):Ae()},At=()=>{o.dom.get(p)&&o.dom.remove(p,!1);const Dn=o.getDoc().documentElement,mn=o.selection.getNode(),sn=ZM(H.element);zi(sn,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${mn.offsetTop}px`,left:`${mn.offsetLeft}px`}),o.dom.add(Dn,sn.dom),Ai(sn,'[role="menu"]').each(kn=>{Ho(kn,"position"),Ho(kn,"max-height")})};o.on("AutocompleterStart",({lookupData:Dn})=>{_.set(!0),S.set(!1),ht(Dn)}),o.on("AutocompleterUpdate",({lookupData:Dn})=>ht(Dn)),o.on("AutocompleterEnd",()=>{Ae(),_.set(!1),S.set(!1)});const qt={cancelIfNecessary:Ue,isMenuOpen:K,isActive:ye,isProcessingAction:S.get,getMenu:Ne};IY.setup(qt,o)}},CN=["visible","hidden","clip"],kN=o=>Pt(o).length>0&&!xe(CN,o),A8=o=>{if(Ee(o)){const u=Fa(o,"overflow-x"),p=Fa(o,"overflow-y");return kN(u)||kN(p)}else return!1},PG=o=>{const u=Jk(o,A8),p=u.length===0?bc(o).map(li).map(S=>Jk(S,A8)).getOr([]):u;return ke(p).map(S=>({element:S,others:p.slice(1)}))},p1=(o,u)=>ep(o)?PG(u):L.none(),w2=o=>{const u=[...ne(o.others,fi),Hl()];return QO(fi(o.element),u)},dC=(o,u,p)=>Zd(o,u,p).isSome(),AN=(o,u)=>{let p=null;return{cancel:()=>{p!==null&&(clearTimeout(p),p=null)},schedule:(...H)=>{p=setTimeout(()=>{o.apply(null,H),p=null},u)}}},PN=5,MG=400,MN=o=>{const u=o.raw;return u.touches===void 0||u.touches.length!==1?L.none():L.some(u.touches[0])},EG=(o,u)=>{const p=Math.abs(o.clientX-u.x),S=Math.abs(o.clientY-u.y);return p>PN||S>PN},_G=o=>{const u=gs(),p=G(!1),S=AN(Ne=>{o.triggerEvent(Qd(),Ne),p.set(!0)},MG),_=Ne=>(MN(Ne).each(Ue=>{S.cancel();const Je={x:Ue.clientX,y:Ue.clientY,target:Ne.target};S.schedule(Ne),p.set(!1),u.set(Je)}),L.none()),H=Ne=>(S.cancel(),MN(Ne).each(Ue=>{u.on(Je=>{EG(Ue,Je)&&u.clear()})}),L.none()),K=Ne=>{S.cancel();const Ue=Je=>Jt(Je.target,Ne.target);return u.get().filter(Ue).map(Je=>p.get()?(Ne.prevent(),!1):o.triggerEvent(Mc(),Ne))},ye=bt([{key:ro(),value:_},{key:fo(),value:H},{key:ts(),value:K}]);return{fireIfReady:(Ne,Ue)=>Bt(ye,Ue).bind(Je=>Je(Ne))}},RG=o=>o.raw.which===S_[0]&&!xe(["input","textarea"],Oo(o.target))&&!dC(o.target,'[contenteditable="true"]'),DG=(o,u)=>{const p={stopBackspace:!0,...u},S=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],_=_G(p),H=ne(S.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),ht=>Dc(o,ht,At=>{_.fireIfReady(At,ht).each(Dn=>{Dn&&At.kill()}),p.triggerEvent(ht,At)&&At.kill()})),K=gs(),ye=Dc(o,"paste",ht=>{_.fireIfReady(ht,"paste").each(qt=>{qt&&ht.kill()}),p.triggerEvent("paste",ht)&&ht.kill(),K.set(setTimeout(()=>{p.triggerEvent(Li(),ht)},0))}),Ae=Dc(o,"keydown",ht=>{p.triggerEvent("keydown",ht)?ht.kill():p.stopBackspace&&RG(ht)&&ht.prevent()}),Ne=Dc(o,"focusin",ht=>{p.triggerEvent("focusin",ht)&&ht.kill()}),Ue=gs(),Je=Dc(o,"focusout",ht=>{p.triggerEvent("focusout",ht)&&ht.kill(),Ue.set(setTimeout(()=>{p.triggerEvent(Xl(),ht)},0))});return{unbind:()=>{le(H,ht=>{ht.unbind()}),Ae.unbind(),Ne.unbind(),Je.unbind(),ye.unbind(),K.on(clearTimeout),Ue.on(clearTimeout)}}},EN=(o,u)=>{const p=Bt(o,"target").getOr(u);return G(p)},$G=(o,u)=>{const p=G(!1),S=G(!1);return{stop:()=>{p.set(!0)},cut:()=>{S.set(!0)},isStopped:p.get,isCut:S.get,event:o,setSource:u.set,getSource:u.get}},_N=o=>{const u=G(!1);return{stop:()=>{u.set(!0)},cut:M,isStopped:u.get,isCut:X,event:o,setSource:E("Cannot set source of a broadcasted event"),getSource:E("Cannot get source of a broadcasted event")}},hC=Te.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),RN=(o,u,p,S,_,H)=>{const K=o(u,S),ye=$G(p,_);return K.fold(()=>(H.logEventNoHandlers(u,S),hC.complete()),Ae=>{const Ne=Ae.descHandler;return v0(Ne)(ye),ye.isStopped()?(H.logEventStopped(u,Ae.element,Ne.purpose),hC.stopped()):ye.isCut()?(H.logEventCut(u,Ae.element,Ne.purpose),hC.complete()):Fn(Ae.element).fold(()=>(H.logNoParent(u,Ae.element,Ne.purpose),hC.complete()),Je=>(H.logEventResponse(u,Ae.element,Ne.purpose),hC.resume(Je)))})},DN=(o,u,p,S,_,H)=>RN(o,u,p,S,_,H).fold(ie,K=>DN(o,u,p,K,_,H),X),LG=(o,u,p,S,_)=>{const H=EN(p,S);return RN(o,u,p,S,H,_)},IG=(o,u,p)=>{const S=_N(u);return le(o,_=>{const H=_.descHandler;v0(H)(S)}),S.isStopped()},P8=(o,u,p,S)=>$N(o,u,p,p.target,S),$N=(o,u,p,S,_)=>{const H=EN(p,S);return DN(o,u,p,S,H,_)},NG=(o,u)=>({element:o,descHandler:u}),BG=(o,u)=>({id:o,descHandler:u}),LN=()=>{const o={},u=(K,ye,Ae)=>{Ye(Ae,(Ne,Ue)=>{const Je=o[Ue]!==void 0?o[Ue]:{};Je[ye]=cw(Ne,K),o[Ue]=Je})},p=(K,ye)=>Iy(ye).bind(Ae=>Bt(K,Ae)).map(Ae=>NG(ye,Ae));return{registerId:u,unregisterId:K=>{Ye(o,(ye,Ae)=>{vn(ye,K)&&delete ye[K]})},filterByType:K=>Bt(o,K).map(ye=>Xt(ye,(Ae,Ne)=>BG(Ne,Ae))).getOr([]),find:(K,ye,Ae)=>Bt(o,ye).bind(Ne=>nn(Ae,Ue=>p(Ne,Ue),K))}},IN=()=>{const o=LN(),u={},p=Ne=>{const Ue=Ne.element;return Iy(Ue).getOrThunk(()=>nv("uid-",Ne.element))},S=(Ne,Ue)=>{const Je=u[Ue];if(Je===Ne)H(Ne);else throw new Error('The tagId "'+Ue+'" is already used by: '+Ah(Je.element)+`
Cannot use it for: `+Ah(Ne.element)+`
The conflicting element is`+(Js(Je.element)?" ":" not ")+"already in the DOM")},_=Ne=>{const Ue=p(Ne);En(u,Ue)&&S(Ne,Ue);const Je=[Ne];o.registerId(Je,Ue,Ne.events),u[Ue]=Ne},H=Ne=>{Iy(Ne.element).each(Ue=>{delete u[Ue],o.unregisterId(Ue)})};return{find:(Ne,Ue,Je)=>o.find(Ne,Ue,Je),filter:Ne=>o.filterByType(Ne),register:_,unregister:H,getById:Ne=>Bt(u,Ne)}},jm=Du({name:"Container",factory:o=>{const{attributes:u,...p}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...u},...p},components:o.components,behaviours:Fm(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Mn("components",[]),tl("containerBehaviours",[]),Mn("events",{}),Mn("domModification",{}),Mn("eventOrder",{})]}),V5=o=>{const u=mn=>Fn(o.element).fold(ie,sn=>Jt(mn,sn)),p=IN(),S=(mn,sn)=>p.find(u,mn,sn),_=DG(o.element,{triggerEvent:(mn,sn)=>fx(mn,sn.target,kn=>P8(S,mn,sn,kn))}),H={debugInfo:Q("real"),triggerEvent:(mn,sn,kn)=>{fx(mn,sn,Zn=>$N(S,mn,kn,sn,Zn))},triggerFocus:(mn,sn)=>{Iy(mn).fold(()=>{uu(mn)},kn=>{fx(Lf(),mn,Zn=>(LG(S,Lf(),{originator:sn,kill:M,prevent:M,target:mn},mn,Zn),!1))})},triggerEscape:(mn,sn)=>{H.triggerEvent("keydown",mn.element,sn.event)},getByUid:mn=>qt(mn),getByDom:mn=>Dn(mn),build:ic,buildOrPatch:lx,addToGui:mn=>{Ae(mn)},removeFromGui:mn=>{Ne(mn)},addToWorld:mn=>{K(mn)},removeFromWorld:mn=>{ye(mn)},broadcast:mn=>{st(mn)},broadcastOn:(mn,sn)=>{ht(mn,sn)},broadcastEvent:(mn,sn)=>{At(mn,sn)},isConnected:ie},K=mn=>{mn.connect(H),Ct(mn.element)||(p.register(mn),le(mn.components(),K),H.triggerEvent(Fd(),mn.element,{target:mn.element}))},ye=mn=>{Ct(mn.element)||(le(mn.components(),ye),p.unregister(mn)),mn.disconnect()},Ae=mn=>{Wg(o,mn)},Ne=mn=>{Ih(mn)},Ue=()=>{_.unbind(),wc(o.element)},Je=mn=>{const sn=p.filter(Gl());le(sn,kn=>{const Zn=kn.descHandler;v0(Zn)(mn)})},st=mn=>{Je({universal:!0,data:mn})},ht=(mn,sn)=>{Je({universal:!1,channels:mn,data:sn})},At=(mn,sn)=>{const kn=p.filter(mn);return IG(kn,sn)},qt=mn=>p.getById(mn).fold(()=>jo.error(new Error('Could not find component with uid: "'+mn+'" in system.')),jo.value),Dn=mn=>{const sn=Iy(mn).getOr("not found");return qt(sn)};return K(o),{root:o,element:o.element,destroy:Ue,add:Ae,remove:Ne,getByUid:qt,getByDom:Dn,addToWorld:K,removeFromWorld:ye,broadcast:st,broadcastOn:ht,broadcastEvent:At}},QG=(o,u)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ne(o.items,u.interpreter)}),FG=Q([Mn("prefix","form-field"),tl("fieldBehaviours",[Ss,Fr])]),VG=Q([du({schema:[er("dom")],name:"label"}),du({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[er("text")],name:"aria-descriptor"}),uc({factory:{sketch:o=>{const u=rt(o,["factory"]);return o.factory.sketch(u)}},schema:[er("factory")],name:"field"})]),zG=(o,u,p,S)=>{const _=Ni(o.fieldBehaviours,[Ss.config({find:ye=>ka(ye,o,"field")}),Fr.config({store:{mode:"manual",getValue:ye=>Ss.getCurrent(ye).bind(Fr.getValue),setValue:(ye,Ae)=>{Ss.getCurrent(ye).each(Ne=>{Fr.setValue(Ne,Ae)})}}})]),H=Ea([Ca((ye,Ae)=>{const Ne=wA(ye,o,["label","field","aria-descriptor"]);Ne.field().each(Ue=>{const Je=Kr(o.prefix);Ne.label().each(st=>{Dr(st.element,"for",Je),Dr(Ue.element,"id",Je)}),Ne["aria-descriptor"]().each(st=>{const ht=Kr(o.prefix);Dr(st.element,"id",ht),Dr(Ue.element,"aria-describedby",ht)})})})]),K={getField:ye=>ka(ye,o,"field"),getLabel:ye=>ka(ye,o,"label")};return{uid:o.uid,dom:o.dom,components:u,behaviours:_,events:H,apis:K}},la=fc({name:"FormField",configFields:FG(),partFields:VG(),factory:zG,apis:{getField:(o,u)=>o.getField(u),getLabel:(o,u)=>o.getLabel(u)}});var z5=Object.freeze({__proto__:null,exhibit:(o,u)=>Pu({attributes:bt([{key:u.tabAttr,value:"true"}])})}),ZG=[Mn("tabAttr","data-alloy-tabstop")];const ja=hl({fields:ZG,name:"tabstopping",active:z5});var HG=tinymce.util.Tools.resolve("tinymce.html.Entities");const mC=(o,u,p,S)=>{const _=WG(o,u,p,S);return la.sketch(_)},UG=(o,u)=>mC(o,u,[],[]),WG=(o,u,p,S)=>({dom:gC(p),components:o.toArray().concat([u]),fieldBehaviours:pr(S)}),gce=()=>gC([]),gC=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),nh=(o,u)=>la.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[yi(u.translate(o))]}),hf=Kr("form-component-change"),T2=Kr("form-close"),v1=Kr("form-cancel"),lp=Kr("form-action"),pC=Kr("form-submit"),M8=Kr("form-block"),E8=Kr("form-unblock"),NN=Kr("form-tabchange"),BN=Kr("form-resize"),YG=(o,u,p)=>{const S=o.label.map(ht=>nh(ht,u)),_=u.icons(),H=ht=>{var At;return(At=_[ht])!==null&&At!==void 0?At:ht},K=ht=>(At,qt)=>{Zd(qt.event.target,"[data-collection-item-value]").each(Dn=>{ht(At,qt,Dn,oa(Dn,"data-collection-item-value"))})},ye=(ht,At)=>{const qt=ne(At,sn=>{const kn=md.translate(sn.text),Zn=o.columns===1?`<div class="tox-collection__item-label">${kn}</div>`:"",mr=`<div class="tox-collection__item-icon">${H(sn.icon)}</div>`,Gn={_:" "," - ":" ","-":" "},Or=kn.replace(/\_| \- |\-/g,is=>Gn[is]);return`<div class="tox-collection__item${u.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${HG.encodeAllRaw(sn.value)}" title="${Or}" aria-label="${Or}">${mr}${Zn}</div>`}),Dn=o.columns!=="auto"&&o.columns>1?pe(qt,o.columns):[qt],mn=ne(Dn,sn=>`<div class="tox-collection__group">${sn.join("")}</div>`);tv(ht.element,mn.join(""))},Ae=K((ht,At,qt,Dn)=>{At.stop(),u.isDisabled()||vo(ht,lp,{name:o.name,value:Dn})}),Ne=[qn(Lr(),K((ht,At,qt)=>{uu(qt)})),qn($i(),Ae),qn(Mc(),Ae),qn(Do(),K((ht,At,qt)=>{Ai(ht.element,"."+qT).each(Dn=>{Ga(Dn,qT)}),ki(qt,qT)})),qn(ms(),K(ht=>{Ai(ht.element,"."+qT).each(At=>{Ga(At,qT)})})),sd(K((ht,At,qt,Dn)=>{vo(ht,lp,{name:o.name,value:Dn})}))],Ue=(ht,At)=>ne(ml(ht.element,".tox-collection__item"),At),Je=la.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:z},behaviours:pr([Co.config({disabled:u.isDisabled,onDisabled:ht=>{Ue(ht,At=>{ki(At,"tox-collection__item--state-disabled"),Dr(At,"aria-disabled",!0)})},onEnabled:ht=>{Ue(ht,At=>{Ga(At,"tox-collection__item--state-disabled"),sa(At,"aria-disabled")})}}),pl(),Uo.config({}),Fr.config({store:{mode:"memory",initialValue:p.getOr([])},onSetValue:(ht,At)=>{ye(ht,At),o.columns==="auto"&&zR(ht,5,"tox-collection__item").each(({numRows:qt,numColumns:Dn})=>{yo.setGridSize(ht,qt,Dn)}),ks(ht,BN)}}),ja.config({}),yo.config(UX(o.columns,"normal")),Jo("collection-events",Ne)]),eventOrder:{[Ii()]:["disabling","alloy.base.behaviour","collection-events"]}});return mC(S,Je,["tox-form__group--collection"],[])},XG=["input","textarea"],QN=o=>{const u=Oo(o);return xe(XG,u)},FN=(o,u)=>{const p=u.getRoot(o).getOr(o.element);Ga(p,u.invalidClass),u.notify.each(S=>{QN(o.element)&&Dr(o.element,"aria-invalid",!1),S.getContainer(o).each(_=>{tv(_,S.validHtml)}),S.onValid(o)})},_8=(o,u,p,S)=>{const _=u.getRoot(o).getOr(o.element);ki(_,u.invalidClass),u.notify.each(H=>{QN(o.element)&&Dr(o.element,"aria-invalid",!0),H.getContainer(o).each(K=>{tv(K,S)}),H.onInvalid(o,S)})},zb=(o,u,p)=>u.validator.fold(()=>Ic.pure(jo.value(!0)),S=>S.validate(o)),Mv=(o,u,p)=>(u.notify.each(S=>{S.onValidate(o)}),zb(o,u).map(S=>o.getSystem().isConnected()?S.fold(_=>(_8(o,u,p,_),jo.error(_)),_=>(FN(o,u),jo.value(_))):jo.error("No longer in system")));var VN=Object.freeze({__proto__:null,markValid:FN,markInvalid:_8,query:zb,run:Mv,isInvalid:(o,u)=>{const p=u.getRoot(o).getOr(o.element);return el(p,u.invalidClass)}}),Z5=Object.freeze({__proto__:null,events:(o,u)=>o.validator.map(p=>Ea([qn(p.onEvent,S=>{Mv(S,o,u).get(z)})].concat(p.validateOnLoad?[Ca(S=>{Mv(S,o,u).get(M)})]:[]))).getOr({})}),jG=[er("invalidClass"),Mn("getRoot",L.none),Cc("notify",[Mn("aria","alert"),Mn("getContainer",L.none),Mn("validHtml",""),Rs("onValid"),Rs("onInvalid"),Rs("onValidate")]),Cc("validator",[er("validate"),Mn("onEvent","input"),Mn("validateOnLoad",!0)])];const vd=hl({fields:jG,name:"invalidating",active:Z5,apis:VN,extra:{validation:o=>u=>{const p=Fr.getValue(u);return Ic.pure(o(p))}}});var qG=Object.freeze({__proto__:null,events:()=>Ea([KS(Yl(),ie)]),exhibit:()=>Pu({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const vC=hl({fields:[],name:"unselecting",active:qG}),KG=(o,u)=>th.sketch({dom:o.dom,components:o.components,toggleClass:"mce-active",dropdownBehaviours:pr([nl.button(u.providers.isDisabled),pl(),vC.config({}),ja.config({})]),layouts:o.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:u.getSink,fetch:p=>Ic.nu(S=>o.fetch(S)).map(S=>L.from(F5(Ta(p8(Kr("menu-value"),S,_=>{o.onItemAction(p,_)},o.columns,o.presets,Gm.CLOSE_ON_EXECUTE,X,u.providers),{movement:I5(o.columns,o.presets)})))),parts:{menu:d2(!1,1,o.presets)}}),zN=Kr("color-input-change"),ZN=Kr("color-swatch-change"),yC=Kr("color-picker-cancel"),JG=(o,u,p,S)=>{const _=la.parts.field({factory:Bb,inputClasses:["tox-textfield"],data:S,onSetValue:Ne=>vd.run(Ne).get(M),inputBehaviours:pr([Co.config({disabled:u.providers.isDisabled}),pl(),ja.config({}),vd.config({invalidClass:"tox-textbox-field-invalid",getRoot:Ne=>dr(Ne.element),notify:{onValid:Ne=>{const Ue=Fr.getValue(Ne);vo(Ne,zN,{color:Ue})}},validator:{validateOnLoad:!1,validate:Ne=>{const Ue=Fr.getValue(Ne);if(Ue.length===0)return Ic.pure(jo.value(!0));{const Je=zt.fromTag("span");Po(Je,"background-color",Ue);const st=Za(Je,"background-color").fold(()=>jo.error("blah"),ht=>jo.value(Ue));return Ic.pure(st)}}}})]),selectOnFocus:!1}),H=o.label.map(Ne=>nh(Ne,u.providers)),K=(Ne,Ue)=>{vo(Ne,ZN,{value:Ue})},ye=(Ne,Ue)=>{Ae.getOpt(Ne).each(Je=>{Ue==="custom"?p.colorPicker(st=>{st.fold(()=>ks(Je,yC),ht=>{K(Je,ht),a8(o.storageKey,ht)})},"#ffffff"):Ue==="remove"?K(Je,""):K(Je,Ue)})},Ae=ia(KG({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Kl,fl,dl],onLtr:()=>[fl,Kl,dl]},components:[],fetch:cN(p.getColors(o.storageKey),o.storageKey,p.hasCustomColors()),columns:p.getColorCols(o.storageKey),presets:"color",onItemAction:ye},u));return la.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:H.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[_,Ae.asSpec()]}]),fieldBehaviours:pr([Jo("form-field-events",[qn(zN,(Ne,Ue)=>{Ae.getOpt(Ne).each(Je=>{Po(Je.element,"background-color",Ue.event.color)}),vo(Ne,hf,{name:o.name})}),qn(ZN,(Ne,Ue)=>{la.getField(Ne).each(Je=>{Fr.setValue(Je,Ue.event.value),Ss.getCurrent(Ne).each(Mo.focus)})}),qn(yC,(Ne,Ue)=>{la.getField(Ne).each(Je=>{Ss.getCurrent(Ne).each(Mo.focus)})})])])})},R8=du({schema:[er("dom")],name:"label"}),y1=o=>du({name:""+o+"-edge",overrides:u=>u.model.manager.edgeActions[o].fold(()=>({}),S=>({events:Ea([XO(ro(),(_,H,K)=>S(_,K),[u]),XO(go(),(_,H,K)=>S(_,K),[u]),XO(js(),(_,H,K)=>{K.mouseIsDown.get()&&S(_,K)},[u])])}))}),ej=y1("top-left"),tj=y1("top"),HN=y1("top-right"),nj=y1("right"),rj=y1("bottom-right"),oj=y1("bottom"),UN=y1("bottom-left"),sj=y1("left"),aj=uc({name:"thumb",defaults:Q({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:Ea([f0(ro(),o,"spectrum"),f0(fo(),o,"spectrum"),f0(ts(),o,"spectrum"),f0(go(),o,"spectrum"),f0(js(),o,"spectrum"),f0(ba(),o,"spectrum")])})}),ij=uc({schema:[ni("mouseIsDown",()=>G(!1))],name:"spectrum",overrides:o=>{const p=o.model.manager,S=(_,H)=>p.getValueFromEvent(H).map(K=>p.setValueFrom(_,o,K));return{behaviours:pr([yo.config({mode:"special",onLeft:_=>p.onLeft(_,o),onRight:_=>p.onRight(_,o),onUp:_=>p.onUp(_,o),onDown:_=>p.onDown(_,o)}),Mo.config({})]),events:Ea([qn(ro(),S),qn(fo(),S),qn(go(),S),qn(js(),(_,H)=>{o.mouseIsDown.get()&&S(_,H)})])}}});var lj=[R8,sj,nj,tj,oj,ej,HN,UN,rj,aj,ij];const C2=Q("slider.change.value"),WN=o=>o.type.indexOf("touch")!==-1,D8=o=>{const u=o.event.raw;if(WN(u)){const p=u;return p.touches!==void 0&&p.touches.length===1?L.some(p.touches[0]).map(S=>Is(S.clientX,S.clientY)):L.none()}else{const p=u;return p.clientX!==void 0?L.some(p).map(S=>Is(S.clientX,S.clientY)):L.none()}},cj="top",uj="right",fj="bottom",dj="left",b1=o=>o.model.minX,Wh=o=>o.model.minY,U5=o=>o.model.minX-1,W5=o=>o.model.minY-1,Zb=o=>o.model.maxX,cp=o=>o.model.maxY,mf=o=>o.model.maxX+1,k2=o=>o.model.maxY+1,$8=(o,u,p)=>u(o)-p(o),L8=o=>$8(o,Zb,b1),I8=o=>$8(o,cp,Wh),YN=o=>L8(o)/2,XN=o=>I8(o)/2,Hb=o=>o.stepSize,N8=o=>o.snapToGrid,GN=o=>o.snapStart,jN=o=>o.rounded,bC=(o,u)=>o[u+"-edge"]!==void 0,qN=o=>bC(o,dj),B8=o=>bC(o,uj),Q8=o=>bC(o,cj),F8=o=>bC(o,fj),Ev=o=>o.model.value.get(),O1=(o,u)=>({x:o,y:u}),Yh=(o,u)=>{vo(o,C2(),{value:u})},hj=(o,u)=>{Yh(o,O1(U5(u),W5(u)))},mj=(o,u)=>{Yh(o,W5(u))},gj=(o,u)=>{Yh(o,O1(YN(u),W5(u)))},V8=(o,u)=>{Yh(o,O1(mf(u),W5(u)))},pj=(o,u)=>{Yh(o,mf(u))},KN=(o,u)=>{Yh(o,O1(mf(u),XN(u)))},vj=(o,u)=>{Yh(o,O1(mf(u),k2(u)))},yj=(o,u)=>{Yh(o,k2(u))},bj=(o,u)=>{Yh(o,O1(YN(u),k2(u)))},Oj=(o,u)=>{Yh(o,O1(U5(u),k2(u)))},xj=(o,u)=>{Yh(o,U5(u))},Sj=(o,u)=>{Yh(o,O1(U5(u),XN(u)))},z8=(o,u,p,S)=>o<u?o:o>p?p:o===u?u-1:Math.max(u,o-S),Y5=(o,u,p,S)=>o>p?o:o<u?u:o===p?p+1:Math.min(p,o+S),Z8=(o,u,p)=>Math.max(u,Math.min(p,o)),wj=(o,u,p,S,_)=>_.fold(()=>{const H=o-u,K=Math.round(H/S)*S;return Z8(u+K,u-1,p+1)},H=>{const K=(o-H)%S,ye=Math.round(K/S),Ae=Math.floor((o-H)/S),Ne=Math.floor((p-H)/S),Ue=Math.min(Ne,Ae+ye),Je=H+Ue*S;return Math.max(H,Je)}),Tj=(o,u,p)=>Math.min(p,Math.max(o,u))-u,JN=o=>{const{min:u,max:p,range:S,value:_,step:H,snap:K,snapStart:ye,rounded:Ae,hasMinEdge:Ne,hasMaxEdge:Ue,minBound:Je,maxBound:st,screenRange:ht}=o,At=Ne?u-1:u,qt=Ue?p+1:p;if(_<Je)return At;if(_>st)return qt;{const Dn=Tj(_,Je,st),mn=Z8(Dn/ht*S+u,At,qt);return K&&mn>=u&&mn<=p?wj(mn,u,p,H,ye):Ae?Math.round(mn):mn}},eB=o=>{const{min:u,max:p,range:S,value:_,hasMinEdge:H,hasMaxEdge:K,maxBound:ye,maxOffset:Ae,centerMinEdge:Ne,centerMaxEdge:Ue}=o;return _<u?H?0:Ne:_>p?K?ye:Ue:(_-u)/S*Ae},H8="top",tB="right",U8="bottom",X5="left",nB="width",W8="height",up=o=>o.element.dom.getBoundingClientRect(),rh=(o,u)=>o[u],G5=o=>{const u=up(o);return rh(u,X5)},rB=o=>{const u=up(o);return rh(u,tB)},j5=o=>{const u=up(o);return rh(u,H8)},oB=o=>{const u=up(o);return rh(u,U8)},q5=o=>{const u=up(o);return rh(u,nB)},fp=o=>{const u=up(o);return rh(u,W8)},sB=(o,u,p)=>(o+u)/2-p,A2=(o,u)=>{const p=up(o),S=up(u),_=rh(p,X5),H=rh(p,tB),K=rh(S,X5);return sB(_,H,K)},aB=(o,u)=>{const p=up(o),S=up(u),_=rh(p,H8),H=rh(p,U8),K=rh(S,H8);return sB(_,H,K)},P2=(o,u)=>{vo(o,C2(),{value:u})},Y8=(o,u,p)=>{const S={min:b1(u),max:Zb(u),range:L8(u),value:p,step:Hb(u),snap:N8(u),snapStart:GN(u),rounded:jN(u),hasMinEdge:qN(u),hasMaxEdge:B8(u),minBound:G5(o),maxBound:rB(o),screenRange:q5(o)};return JN(S)},Cj=(o,u,p)=>{const S=Y8(o,u,p);return P2(o,S),S},kj=(o,u)=>{const p=b1(u);P2(o,p)},iB=(o,u)=>{const p=Zb(u);P2(o,p)},Aj=(o,u,p)=>{const _=(o>0?Y5:z8)(Ev(p),b1(p),Zb(p),Hb(p));return P2(u,_),L.some(_)},K5=o=>(u,p)=>Aj(o,u,p).map(ie),X8=o=>D8(o).map(p=>p.left),G8=(o,u,p,S,_)=>{const K=q5(o),ye=S.bind(Ue=>L.some(A2(Ue,o))).getOr(0),Ae=_.bind(Ue=>L.some(A2(Ue,o))).getOr(K),Ne={min:b1(u),max:Zb(u),range:L8(u),value:p,hasMinEdge:qN(u),hasMaxEdge:B8(u),minBound:G5(o),minOffset:0,maxBound:rB(o),maxOffset:K,centerMinEdge:ye,centerMaxEdge:Ae};return eB(Ne)},j8=(o,u,p,S,_,H)=>{const K=G8(u,H,p,S,_);return G5(u)-G5(o)+K},yd=(o,u,p,S)=>{const _=Ev(p),H=j8(o,S.getSpectrum(o),_,S.getLeftEdge(o),S.getRightEdge(o),p),K=Si(u.element)/2;Po(u.element,"left",H-K+"px")},Pj=K5(-1),Mj=K5(1),lB=L.none,cB=L.none,Ej={"top-left":L.none(),top:L.none(),"top-right":L.none(),right:L.some(pj),"bottom-right":L.none(),bottom:L.none(),"bottom-left":L.none(),left:L.some(xj)};var _j=Object.freeze({__proto__:null,setValueFrom:Cj,setToMin:kj,setToMax:iB,findValueOfOffset:Y8,getValueFromEvent:X8,findPositionOfValue:j8,setPositionFromValue:yd,onLeft:Pj,onRight:Mj,onUp:lB,onDown:cB,edgeActions:Ej});const J5=(o,u)=>{vo(o,C2(),{value:u})},q8=(o,u,p)=>{const S={min:Wh(u),max:cp(u),range:I8(u),value:p,step:Hb(u),snap:N8(u),snapStart:GN(u),rounded:jN(u),hasMinEdge:Q8(u),hasMaxEdge:F8(u),minBound:j5(o),maxBound:oB(o),screenRange:fp(o)};return JN(S)},Rj=(o,u,p)=>{const S=q8(o,u,p);return J5(o,S),S},Dj=(o,u)=>{const p=Wh(u);J5(o,p)},$j=(o,u)=>{const p=cp(u);J5(o,p)},uB=(o,u,p)=>{const _=(o>0?Y5:z8)(Ev(p),Wh(p),cp(p),Hb(p));return J5(u,_),L.some(_)},fB=o=>(u,p)=>uB(o,u,p).map(ie),Lj=o=>D8(o).map(p=>p.top),Ij=(o,u,p,S,_)=>{const K=fp(o),ye=S.bind(Ue=>L.some(aB(Ue,o))).getOr(0),Ae=_.bind(Ue=>L.some(aB(Ue,o))).getOr(K),Ne={min:Wh(u),max:cp(u),range:I8(u),value:p,hasMinEdge:Q8(u),hasMaxEdge:F8(u),minBound:j5(o),minOffset:0,maxBound:oB(o),maxOffset:K,centerMinEdge:ye,centerMaxEdge:Ae};return eB(Ne)},e4=(o,u,p,S,_,H)=>{const K=Ij(u,H,p,S,_);return j5(u)-j5(o)+K},K8=(o,u,p,S)=>{const _=Ev(p),H=e4(o,S.getSpectrum(o),_,S.getTopEdge(o),S.getBottomEdge(o),p),K=Ha(u.element)/2;Po(u.element,"top",H-K+"px")},Nj=L.none,J8=L.none,M2=fB(-1),dB=fB(1),hB={"top-left":L.none(),top:L.some(mj),"top-right":L.none(),right:L.none(),"bottom-right":L.none(),bottom:L.some(yj),"bottom-left":L.none(),left:L.none()};var mB=Object.freeze({__proto__:null,setValueFrom:Rj,setToMin:Dj,setToMax:$j,findValueOfOffset:q8,getValueFromEvent:Lj,findPositionOfValue:e4,setPositionFromValue:K8,onLeft:Nj,onRight:J8,onUp:M2,onDown:dB,edgeActions:hB});const t4=(o,u)=>{vo(o,C2(),{value:u})},n4=(o,u)=>({x:o,y:u}),r4=(o,u,p)=>{const S=Y8(o,u,p.left),_=q8(o,u,p.top),H=n4(S,_);return t4(o,H),H},Bj=(o,u,p,S)=>{const _=o>0?Y5:z8,H=u?Ev(S).x:_(Ev(S).x,b1(S),Zb(S),Hb(S)),K=u?_(Ev(S).y,Wh(S),cp(S),Hb(S)):Ev(S).y;return t4(p,n4(H,K)),L.some(H)},o4=(o,u)=>(p,S)=>Bj(o,u,p,S).map(ie),gB=(o,u)=>{const p=b1(u),S=Wh(u);t4(o,n4(p,S))},pB=(o,u)=>{const p=Zb(u),S=cp(u);t4(o,n4(p,S))},e6=o=>D8(o),vB=(o,u,p,S)=>{const _=Ev(p),H=j8(o,S.getSpectrum(o),_.x,S.getLeftEdge(o),S.getRightEdge(o),p),K=e4(o,S.getSpectrum(o),_.y,S.getTopEdge(o),S.getBottomEdge(o),p),ye=Si(u.element)/2,Ae=Ha(u.element)/2;Po(u.element,"left",H-ye+"px"),Po(u.element,"top",K-Ae+"px")},Lu=o4(-1,!1),yB=o4(1,!1),Qj=o4(-1,!0),Fj=o4(1,!0),bB={"top-left":L.some(hj),top:L.some(gj),"top-right":L.some(V8),right:L.some(KN),"bottom-right":L.some(vj),bottom:L.some(bj),"bottom-left":L.some(Oj),left:L.some(Sj)};var Vj=Object.freeze({__proto__:null,setValueFrom:r4,setToMin:gB,setToMax:pB,getValueFromEvent:e6,setPositionFromValue:vB,onLeft:Lu,onRight:yB,onUp:Qj,onDown:Fj,edgeActions:bB});const zj=[Mn("stepSize",1),Mn("onChange",M),Mn("onChoose",M),Mn("onInit",M),Mn("onDragStart",M),Mn("onDragEnd",M),Mn("snapToGrid",!1),Mn("rounded",!0),Ws("snapStart"),Hc("model",xs("mode",{x:[Mn("minX",0),Mn("maxX",100),ni("value",o=>G(o.mode.minX)),er("getInitialValue"),ha("manager",_j)],y:[Mn("minY",0),Mn("maxY",100),ni("value",o=>G(o.mode.minY)),er("getInitialValue"),ha("manager",mB)],xy:[Mn("minX",0),Mn("maxX",100),Mn("minY",0),Mn("maxY",100),ni("value",o=>G({x:o.mode.minX,y:o.mode.minY})),er("getInitialValue"),ha("manager",Vj)]})),tl("sliderBehaviours",[yo,Fr]),ni("mouseIsDown",()=>G(!1))],oh=fc({name:"Slider",configFields:zj,partFields:lj,factory:(o,u,p,S)=>{const _=Zn=>zm(Zn,o,"thumb"),H=Zn=>zm(Zn,o,"spectrum"),K=Zn=>ka(Zn,o,"left-edge"),ye=Zn=>ka(Zn,o,"right-edge"),Ae=Zn=>ka(Zn,o,"top-edge"),Ne=Zn=>ka(Zn,o,"bottom-edge"),Ue=o.model,Je=Ue.manager,st=(Zn,mr)=>{Je.setPositionFromValue(Zn,mr,o,{getLeftEdge:K,getRightEdge:ye,getTopEdge:Ae,getBottomEdge:Ne,getSpectrum:H})},ht=(Zn,mr)=>{Ue.value.set(mr);const Gn=_(Zn);st(Zn,Gn)},At=(Zn,mr)=>{ht(Zn,mr);const Gn=_(Zn);return o.onChange(Zn,Gn,mr),L.some(!0)},qt=Zn=>{Je.setToMin(Zn,o)},Dn=Zn=>{Je.setToMax(Zn,o)},mn=Zn=>{const mr=()=>{ka(Zn,o,"thumb").each(Or=>{const Mr=Ue.value.get();o.onChoose(Zn,Or,Mr)})},Gn=o.mouseIsDown.get();o.mouseIsDown.set(!1),Gn&&mr()},sn=(Zn,mr)=>{mr.stop(),o.mouseIsDown.set(!0),o.onDragStart(Zn,_(Zn))},kn=(Zn,mr)=>{mr.stop(),o.onDragEnd(Zn,_(Zn)),mn(Zn)};return{uid:o.uid,dom:o.dom,components:u,behaviours:Ni(o.sliderBehaviours,[yo.config({mode:"special",focusIn:Zn=>ka(Zn,o,"spectrum").map(yo.focusIn).map(ie)}),Fr.config({store:{mode:"manual",getValue:Zn=>Ue.value.get(),setValue:ht}}),cu.config({channels:{[cT()]:{onReceive:mn}}})]),events:Ea([qn(C2(),(Zn,mr)=>{At(Zn,mr.event.value)}),Ca((Zn,mr)=>{const Gn=Ue.getInitialValue();Ue.value.set(Gn);const Or=_(Zn);st(Zn,Or);const Mr=H(Zn);o.onInit(Zn,Or,Mr,Ue.value.get())}),qn(ro(),sn),qn(ts(),kn),qn(go(),sn),qn(ba(),kn)]),apis:{resetToMin:qt,resetToMax:Dn,setValue:ht,refresh:st},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,u,p)=>{o.setValue(u,p)},resetToMin:(o,u)=>{o.resetToMin(u)},resetToMax:(o,u)=>{o.resetToMax(u)},refresh:(o,u)=>{o.refresh(u)}}}),Xh=Kr("rgb-hex-update"),s4=Kr("slider-update"),t6=Kr("palette-update"),a4=(o,u)=>{const p=oh.parts.spectrum({dom:{tag:"div",classes:[u("hue-slider-spectrum")],attributes:{role:"presentation"}}}),S=oh.parts.thumb({dom:{tag:"div",classes:[u("hue-slider-thumb")],attributes:{role:"presentation"}}});return oh.sketch({dom:{tag:"div",classes:[u("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:Q(0)},components:[p,S],sliderBehaviours:pr([Mo.config({})]),onChange:(_,H,K)=>{vo(_,s4,{value:K})}})},i4="form",Zj=[tl("formBehaviours",[Fr])],OB=o=>"<alloy.field."+o+">",Hj=o=>{const u=(()=>{const H=[];return{field:(ye,Ae)=>(H.push(ye),pT(i4,OB(ye),Ae)),record:Q(H)}})(),p=o(u),S=u.record(),_=ne(S,H=>uc({name:H,pname:OB(H)}));return wT(i4,Zj,_,Wj,p)},Uj=(o,u)=>o.fold(()=>jo.error(u),jo.value),Wj=(o,u)=>({uid:o.uid,dom:o.dom,components:u,behaviours:Ni(o.formBehaviours,[Fr.config({store:{mode:"manual",getValue:p=>{const S=yT(p,o);return je(S,(_,H)=>_().bind(K=>{const ye=Ss.getCurrent(K);return Uj(ye,new Error(`Cannot find a current component to extract the value from for form part '${H}': `+Ah(K.element)))}).map(Fr.getValue))},setValue:(p,S)=>{Ye(S,(_,H)=>{ka(p,o,H).each(K=>{Ss.getCurrent(K).each(ye=>{Fr.setValue(ye,_)})})})}}})]),apis:{getField:(p,S)=>ka(p,o,S).bind(Ss.getCurrent)}}),E2={getField:rv((o,u,p)=>o.getField(u,p)),sketch:Hj},xB=Kr("valid-input"),n6=Kr("invalid-input"),SB=Kr("validating-input"),Gh="colorcustom.rgb.",l4=(o,u,p,S)=>{const _=(st,ht)=>vd.config({invalidClass:u("invalid"),notify:{onValidate:At=>{vo(At,SB,{type:st})},onValid:At=>{vo(At,xB,{type:st,value:Fr.getValue(At)})},onInvalid:At=>{vo(At,n6,{type:st,value:Fr.getValue(At)})}},validator:{validate:At=>{const qt=Fr.getValue(At),Dn=ht(qt)?jo.value(!0):jo.error(o("aria.input.invalid"));return Ic.pure(Dn)},validateOnLoad:!1}}),H=(st,ht,At,qt,Dn)=>{const mn=o(Gh+"range"),sn=la.parts.label({dom:{tag:"label",attributes:{"aria-label":qt}},components:[yi(At)]}),kn=la.parts.field({data:Dn,factory:Bb,inputAttributes:{type:"text",...ht==="hex"?{"aria-live":"polite"}:{}},inputClasses:[u("textfield")],inputBehaviours:pr([_(ht,st),ja.config({})]),onSetValue:Or=>{vd.isInvalid(Or)&&vd.run(Or).get(M)}}),Zn=[sn,kn],mr=ht!=="hex"?[la.parts["aria-descriptor"]({text:mn})]:[],Gn=Zn.concat(mr);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Gn}},K=(st,ht)=>{const At=S2(ht);return E2.getField(st,"hex").each(qt=>{Mo.isFocused(qt)||Fr.setValue(st,{hex:At.value})}),At},ye=(st,ht)=>{const At=ht.red,qt=ht.green,Dn=ht.blue;Fr.setValue(st,{red:At,green:qt,blue:Dn})},Ae=ia({dom:{tag:"div",classes:[u("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Ne=(st,ht)=>{Ae.getOpt(st).each(At=>{Po(At.element,"background-color","#"+ht.value)})};return Du({factory:()=>{const st={red:G(L.some(255)),green:G(L.some(255)),blue:G(L.some(255)),hex:G(L.some("ffffff"))},ht=(_o,na)=>{const wo=iC(na);ye(_o,wo),mn(wo)},At=_o=>st[_o].get(),qt=(_o,na)=>{st[_o].set(na)},Dn=()=>At("red").bind(_o=>At("green").bind(na=>At("blue").map(wo=>h1(_o,na,wo,1)))),mn=_o=>{const na=_o.red,wo=_o.green,Ns=_o.blue;qt("red",L.some(na)),qt("green",L.some(wo)),qt("blue",L.some(Ns))},sn=(_o,na)=>{const wo=na.event;wo.type!=="hex"?qt(wo.type,L.none()):S(_o)},kn=(_o,na)=>{p(_o);const wo=BI(na);qt("hex",L.some(wo.value));const Ns=iC(wo);ye(_o,Ns),mn(Ns),vo(_o,Xh,{hex:wo}),Ne(_o,wo)},Zn=(_o,na,wo)=>{const Ns=parseInt(wo,10);qt(na,L.some(Ns)),Dn().each(Pr=>{const so=K(_o,Pr);vo(_o,Xh,{hex:so}),Ne(_o,so)})},mr=_o=>_o.type==="hex",Gn=(_o,na)=>{const wo=na.event;mr(wo)?kn(_o,wo.value):Zn(_o,wo.type,wo.value)},Or=_o=>({label:o(Gh+_o+".label"),description:o(Gh+_o+".description")}),Mr=Or("red"),is=Or("green"),Gr=Or("blue"),Io=Or("hex");return Ta(E2.sketch(_o=>({dom:{tag:"form",classes:[u("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[_o.field("red",la.sketch(H(KR,"red",Mr.label,Mr.description,255))),_o.field("green",la.sketch(H(KR,"green",is.label,is.description,255))),_o.field("blue",la.sketch(H(KR,"blue",Gr.label,Gr.description,255))),_o.field("hex",la.sketch(H(VI,"hex",Io.label,Io.description,"ffffff"))),Ae.asSpec()],formBehaviours:pr([vd.config({invalidClass:u("form-invalid")}),Jo("rgb-form-events",[qn(xB,Gn),qn(n6,sn),qn(SB,sn)])])})),{apis:{updateHex:(_o,na)=>{Fr.setValue(_o,{hex:na.value}),ht(_o,na),Ne(_o,na)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(st,ht,At)=>{st.updateHex(ht,At)}},extraApis:{}})},Yj=(o,u)=>{const p=oh.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[u("sv-palette-spectrum")]}}),S=oh.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[u("sv-palette-thumb")],innerHtml:`<div class=${u("sv-palette-inner-thumb")} role="presentation"></div>`}}),_=(Ne,Ue)=>{const{width:Je,height:st}=Ne,ht=Ne.getContext("2d");if(ht===null)return;ht.fillStyle=Ue,ht.fillRect(0,0,Je,st);const At=ht.createLinearGradient(0,0,Je,0);At.addColorStop(0,"rgba(255,255,255,1)"),At.addColorStop(1,"rgba(255,255,255,0)"),ht.fillStyle=At,ht.fillRect(0,0,Je,st);const qt=ht.createLinearGradient(0,0,0,st);qt.addColorStop(0,"rgba(0,0,0,0)"),qt.addColorStop(1,"rgba(0,0,0,1)"),ht.fillStyle=qt,ht.fillRect(0,0,Je,st)},H=(Ne,Ue)=>{const Je=Ne.components()[0].element.dom,st=cC(Ue,100,100),ht=XI(st);_(Je,e8(ht))},K=(Ne,Ue)=>{const Je=_5(iC(Ue));oh.setValue(Ne,{x:Je.saturation,y:100-Je.value})};return Du({factory:Ne=>{const Ue=Q({x:0,y:0}),Je=(At,qt,Dn)=>{vo(At,t6,{value:Dn})},st=(At,qt,Dn,mn)=>{_(Dn.element.dom,e8(eh))},ht=pr([Ss.config({find:L.some}),Mo.config({})]);return oh.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[u("sv-palette")]},model:{mode:"xy",getInitialValue:Ue},rounded:!1,components:[p,S],onChange:Je,onInit:st,sliderBehaviours:ht})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ne,Ue,Je)=>{H(Ue,Je)},setThumb:(Ne,Ue,Je)=>{K(Ue,Je)}},extraApis:{}})},Xj=(o,u)=>{const p=_=>{const H=l4(o,u,_.onValidHex,_.onInvalidHex),K=Yj(o,u),ye=Gn=>(100-Gn)/100*360,Ae=Gn=>100-Gn/360*100,Ne={paletteRgba:G(eh),paletteHue:G(0)},Ue=ia(a4(o,u)),Je=ia(K.sketch({})),st=ia(H.sketch({})),ht=(Gn,Or,Mr)=>{Je.getOpt(Gn).each(is=>{K.setHue(is,Mr)})},At=(Gn,Or)=>{st.getOpt(Gn).each(Mr=>{H.updateHex(Mr,Or)})},qt=(Gn,Or,Mr)=>{Ue.getOpt(Gn).each(is=>{oh.setValue(is,Ae(Mr))})},Dn=(Gn,Or)=>{Je.getOpt(Gn).each(Mr=>{K.setThumb(Mr,Or)})},mn=(Gn,Or)=>{const Mr=iC(Gn);Ne.paletteRgba.set(Mr),Ne.paletteHue.set(Or)},sn=(Gn,Or,Mr,is)=>{mn(Or,Mr),le(is,Gr=>{Gr(Gn,Or,Mr)})},kn=()=>{const Gn=[At];return(Or,Mr)=>{const is=Mr.event.value,Gr=Ne.paletteHue.get(),Io=cC(Gr,is.x,100-is.y),_o=nN(Io);sn(Or,_o,Gr,Gn)}},Zn=()=>{const Gn=[ht,At];return(Or,Mr)=>{const is=ye(Mr.event.value),Gr=Ne.paletteRgba.get(),Io=_5(Gr),_o=cC(is,Io.saturation,Io.value),na=nN(_o);sn(Or,na,is,Gn)}},mr=()=>{const Gn=[ht,qt,Dn];return(Or,Mr)=>{const is=Mr.event.hex,Gr=$X(is);sn(Or,is,Gr.hue,Gn)}};return{uid:_.uid,dom:_.dom,components:[Je.asSpec(),Ue.asSpec(),st.asSpec()],behaviours:pr([Jo("colour-picker-events",[qn(Xh,mr()),qn(t6,kn()),qn(s4,Zn())]),Ss.config({find:Gn=>st.getOpt(Gn)}),yo.config({mode:"acyclic"})])}};return Du({name:"ColourPicker",configFields:[er("dom"),Mn("onValidHex",M),Mn("onInvalidHex",M)],factory:p})},zf={self:()=>Ss.config({find:L.some}),memento:o=>Ss.config({find:o.getOpt}),childAt:o=>Ss.config({find:u=>no(u.element,o).bind(p=>u.getSystem().getByDom(p).toOptional())})},OC=uo([Mn("preprocess",z),Mn("postprocess",z)]),xC=(o,u)=>{const p=Rl("RepresentingConfigs.memento processors",OC,u);return Fr.config({store:{mode:"manual",getValue:S=>{const _=o.get(S),H=Fr.getValue(_);return p.postprocess(H)},setValue:(S,_)=>{const H=p.preprocess(_),K=o.get(S);Fr.setValue(K,H)}}})},x1=(o,u,p)=>Fr.config({store:{mode:"manual",...o.map(S=>({initialValue:S})).getOr({}),getValue:u,setValue:p}}),r6=(o,u,p)=>x1(o,S=>u(S.element),(S,_)=>p(S.element,_)),TB=o=>r6(o,rw,tv),SC=o=>Fr.config({store:{mode:"memory",initialValue:o}}),qj={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},Kj=o=>u=>o.translate(qj[u]),Jj=(o,u,p)=>{const S=Ae=>"tox-"+Ae,_=Xj(Kj(u),S),H=Ae=>{vo(Ae,lp,{name:"hex-valid",value:!0})},K=Ae=>{vo(Ae,lp,{name:"hex-valid",value:!1})},ye=ia(_.sketch({dom:{tag:"div",classes:[S("color-picker-container")],attributes:{role:"presentation"}},onValidHex:H,onInvalidHex:K}));return{dom:{tag:"div"},components:[ye.asSpec()],behaviours:pr([x1(p,Ae=>{const Ne=ye.get(Ae);return Ss.getCurrent(Ne).bind(st=>Fr.getValue(st).hex).map(st=>"#"+Dt(st,"#")).getOr("")},(Ae,Ne)=>{const Ue=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Je=L.from(Ue.exec(Ne)).bind(At=>ce(At,1)),st=ye.get(Ae);Ss.getCurrent(st).fold(()=>{console.log("Can not find form")},At=>{Fr.setValue(At,{hex:Je.getOr("")}),E2.getField(At,"hex").each(qt=>{ks(qt,hi())})})}),zf.self()])}};var eq=tinymce.util.Tools.resolve("tinymce.Resource");const tq=o=>vn(o,"init"),CB=o=>{const u=gs(),p=ia({dom:{tag:o.tag}}),S=gs();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pr([Jo("custom-editor-events",[Ca(_=>{p.getOpt(_).each(H=>{(tq(o)?o.init(H.element.dom):eq.load(o.scriptId,o.scriptUrl).then(K=>K(H.element.dom,o.settings))).then(K=>{S.on(ye=>{K.setValue(ye)}),S.clear(),u.set(K)})})})]),x1(L.none(),()=>u.get().fold(()=>S.get().getOr(""),_=>_.getValue()),(_,H)=>{u.get().fold(()=>S.set(H),K=>K.setValue(H))}),zf.self()]),components:[p.asSpec()]}};var dp=tinymce.util.Tools.resolve("tinymce.util.Tools");const nq=(o,u)=>{const p=dp.explode(u.getOption("images_file_types")),S=_=>we(p,H=>mt(_.name.toLowerCase(),`.${H.toLowerCase()}`));return Oe(Ze(o),S)},kB=(o,u,p)=>{const S=(st,ht)=>{ht.stop()},_=st=>(ht,At)=>{le(st,qt=>{qt(ht,At)})},H=(st,ht)=>{var At;if(!Co.isDisabled(st)){const qt=ht.event.raw;ye(st,(At=qt.dataTransfer)===null||At===void 0?void 0:At.files)}},K=(st,ht)=>{const At=ht.event.raw.target;ye(st,At.files)},ye=(st,ht)=>{ht&&(Fr.setValue(st,nq(ht,u)),vo(st,hf,{name:o.name}))},Ae=ia({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pr([Jo("input-file-events",[Am($i()),Am(Mc())])])}),Ne=st=>({uid:st.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pr([SC(p.getOr([])),zf.self(),Co.config({}),as.config({toggleClass:"dragenter",toggleOnExecute:!1}),Jo("dropzone-events",[qn("dragenter",_([S,as.toggle])),qn("dragleave",_([S,as.toggle])),qn("dragover",S),qn("drop",_([S,H])),qn(Yi(),K)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[yi(u.translate("Drop an image here"))]},Ll.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[yi(u.translate("Browse for an image")),Ae.asSpec()],action:ht=>{Ae.get(ht).element.dom.click()},buttonBehaviours:pr([ja.config({}),nl.button(u.isDisabled),pl()])})]}]}),Ue=o.label.map(st=>nh(st,u)),Je=la.parts.field({factory:{sketch:Ne}});return mC(Ue,Je,["tox-form__group--stretched"],[])},rq=(o,u)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${o.columns}col`]},components:ne(o.items,u.interpreter)}),AB=(o,u)=>{let p=null,S=null;return{cancel:()=>{y(p)||(clearTimeout(p),p=null,S=null)},throttle:(...K)=>{S=K,y(p)&&(p=setTimeout(()=>{const ye=S;p=null,S=null,o.apply(null,ye)},u))}}},wC=(o,u)=>{let p=null;return{cancel:()=>{y(p)||(clearTimeout(p),p=null)},throttle:(...H)=>{y(p)&&(p=setTimeout(()=>{p=null,o.apply(null,H)},u))}}},o6=(o,u)=>{let p=null;const S=()=>{y(p)||(clearTimeout(p),p=null)};return{cancel:S,throttle:(...H)=>{S(),p=setTimeout(()=>{p=null,o.apply(null,H)},u)}}},c4=Kr("alloy-fake-before-tabstop"),s6=Kr("alloy-fake-after-tabstop"),PB=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:pr([Mo.config({ignore:!0}),ja.config({})])}),MB=(o,u)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[PB([c4]),u,PB([s6])],behaviours:pr([zf.childAt(1)])}),EB=(o,u)=>{vo(o,_s(),{raw:{which:9,shiftKey:u}})},_B=(o,u)=>{const p=u.element;el(p,c4)?EB(o,!0):el(p,s6)&&EB(o,!1)},TC=o=>dC(o,["."+c4,"."+s6].join(","),X),CC=Kr("update-dialog"),u4=Kr("update-title"),hp=Kr("update-body"),f4=Kr("update-footer"),a6=Kr("body-send-message"),kC=Kr("dialog-focus-shifted"),AC=Kf().browser,_2=AC.isSafari(),d4=AC.isFirefox(),i6=_2||d4,RB=AC.isChromium(),oq=({scrollTop:o,scrollHeight:u,clientHeight:p})=>Math.ceil(o)+p>=u,DB=(o,u)=>o.scrollTo(0,u==="bottom"?99999999:u),sq=(o,u)=>{const p=o.body;return L.from(!/^<!DOCTYPE (html|HTML)/.test(u)&&(!RB&&!_2||k(p)&&(p.scrollTop!==0||Math.abs(p.scrollHeight-p.clientHeight)>1))?p:o.documentElement)},$B=(o,u,p)=>{const S=o.dom;L.from(S.contentDocument).fold(p,_=>{let H=0;const K=sq(_,u).map(Ae=>(H=Ae.scrollTop,Ae)).forall(oq),ye=()=>{const Ae=S.contentWindow;k(Ae)&&(K?DB(Ae,"bottom"):!K&&i6&&H!==0&&DB(Ae,H))};_2&&S.addEventListener("load",ye,{once:!0}),_.open(),_.write(u),_.close(),_2||ye()})},LB=lt(i6,_2?500:200).map(o=>AB($B,o)),IB=(o,u)=>{const p=G(o.getOr(""));return{getValue:S=>p.get(),setValue:(S,_)=>{if(p.get()!==_){const H=S.element,K=()=>Dr(H,"srcdoc",_);u?LB.fold(Q($B),ye=>ye.throttle)(H,_,K):K()}p.set(_)}}},aq=(o,u,p)=>{const S="tox-dialog__iframe",_=o.transparent?[]:[`${S}--opaque`],H=o.border?["tox-navobj-bordered"]:[],K={...o.label.map(Je=>({title:Je})).getOr({}),...p.map(Je=>({srcdoc:Je})).getOr({}),...o.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},ye=IB(p,o.streamContent),Ae=o.label.map(Je=>nh(Je,u)),Ne=Je=>MB(L.from(H),{uid:Je.uid,dom:{tag:"iframe",attributes:K,classes:[S,..._]},behaviours:pr([ja.config({}),Mo.config({}),x1(p,ye.getValue,ye.setValue),cu.config({channels:{[kC]:{onReceive:(st,ht)=>{ht.newFocus.each(At=>{dr(st.element).each(qt=>{(Jt(st.element,At)?ki:Ga)(qt,"tox-navobj-bordered-focus")})})}}}})])}),Ue=la.parts.field({factory:{sketch:Ne}});return mC(Ae,Ue,["tox-form__group--stretched"],[])},iq=o=>new Promise((u,p)=>{const S=()=>{H(),u(o)},_=[Dc(o,"load",S),Dc(o,"error",()=>{H(),p("Unable to load data from image: "+o.dom.src)})],H=()=>le(_,K=>K.unbind());o.dom.complete&&S()}),lq=(o,u,p,S,_)=>{const H=p*_,K=S*_,ye=Math.max(0,o/2-H/2),Ae=Math.max(0,u/2-K/2);return{left:ye.toString()+"px",top:Ae.toString()+"px",width:H.toString()+"px",height:K.toString()+"px"}},h4=(o,u,p)=>{const S=Si(o),_=Ha(o);return Math.min(S/u,_/p,1)},cq=(o,u)=>{const p=G(u.getOr({url:""})),S=ia({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(Ae=>({src:Ae.url})).getOr({})}}),_=ia({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[S.asSpec()]}),H=(Ae,Ne)=>{const Ue={url:Ne.url};Ne.zoom.each(st=>Ue.zoom=st),Ne.cachedWidth.each(st=>Ue.cachedWidth=st),Ne.cachedHeight.each(st=>Ue.cachedHeight=st),p.set(Ue);const Je=()=>{const{cachedWidth:st,cachedHeight:ht,zoom:At}=Ue;if(!O(st)&&!O(ht)){if(O(At)){const Dn=h4(Ae.element,st,ht);Ue.zoom=Dn}const qt=lq(Si(Ae.element),Ha(Ae.element),st,ht,Ue.zoom);_.getOpt(Ae).each(Dn=>{zi(Dn.element,qt)})}};S.getOpt(Ae).each(st=>{const ht=st.element;Ne.url!==oa(ht,"src")&&(Dr(ht,"src",Ne.url),Ga(Ae.element,"tox-imagepreview__loaded")),Je(),iq(ht).then(At=>{Ae.getSystem().isConnected()&&(ki(Ae.element,"tox-imagepreview__loaded"),Ue.cachedWidth=At.dom.naturalWidth,Ue.cachedHeight=At.dom.naturalHeight,Je())})})},K={};o.height.each(Ae=>K.height=Ae);const ye=u.map(Ae=>({url:Ae.url,zoom:L.from(Ae.zoom),cachedWidth:L.from(Ae.cachedWidth),cachedHeight:L.from(Ae.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:K,attributes:{role:"presentation"}},components:[_.asSpec()],behaviours:pr([zf.self(),x1(ye,()=>p.get(),H)])}},uq=(o,u)=>{const p="tox-label",S=o.align==="center"?[`${p}--center`]:[],_=o.align==="end"?[`${p}--end`]:[],H={dom:{tag:"label",classes:[p,...S,..._]},components:[yi(u.providers.translate(o.label))]},K=ne(o.items,u.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[H,...K],behaviours:pr([zf.self(),Uo.config({}),TB(L.none()),yo.config({mode:"acyclic"})])}},l6=Kr("toolbar.button.execute"),NB=o=>sd((u,p)=>{pd(o,u)(S=>{vo(u,l6,{buttonApi:S}),o.onAction(S)})}),Ub=Kr("common-button-display-events"),BB={[Ii()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[tf()]:["toolbar-button-events",Ub],[go()]:["focusing","alloy.base.behaviour",Ub]},PC=o=>Po(o.element,"width",Fa(o.element,"width")),QB=(o,u,p)=>zh(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:p},u),m4=(o,u)=>QB(o,u,[]),S1=(o,u)=>QB(o,u,[Uo.config({})]),FB=(o,u,p)=>({dom:{tag:"span",classes:[`${u}__select-label`]},components:[yi(p.translate(o))],behaviours:pr([Uo.config({})])}),sh=Kr("update-menu-text"),w1=Kr("update-menu-icon"),g4=(o,u,p)=>{const S=G(M),_=o.text.map(st=>ia(FB(st,u,p.providers))),H=o.icon.map(st=>ia(S1(st,p.providers.icons))),K=(st,ht)=>{const At=Fr.getValue(st);return Mo.focus(At),vo(At,"keydown",{raw:ht.event.raw}),th.close(At),L.some(!0)},ye=o.role.fold(()=>({}),st=>({role:st})),Ae=o.tooltip.fold(()=>({}),st=>{const ht=p.providers.translate(st);return{title:ht,"aria-label":ht}}),Ne=zh("chevron-down",{tag:"div",classes:[`${u}__select-chevron`]},p.providers.icons),Ue=Kr("common-button-display-events");return ia(th.sketch({...o.uid?{uid:o.uid}:{},...ye,dom:{tag:"button",classes:[u,`${u}--select`].concat(ne(o.classes,st=>`${u}--${st}`)),attributes:{...Ae}},components:b2([H.map(st=>st.asSpec()),_.map(st=>st.asSpec()),L.some(Ne)]),matchWidth:!0,useMinWidth:!0,onOpen:(st,ht,At)=>{o.searchable&&xG(At)},dropdownBehaviours:pr([...o.dropdownBehaviours,nl.button(()=>o.disabled||p.providers.isDisabled()),pl(),vC.config({}),Uo.config({}),Jo("dropdown-events",[d1(o,S),sp(o,S)]),Jo(Ue,[Ca((st,ht)=>PC(st))]),Jo("menubutton-update-display-text",[qn(sh,(st,ht)=>{_.bind(At=>At.getOpt(st)).each(At=>{Uo.set(At,[yi(p.providers.translate(ht.event.text))])})}),qn(w1,(st,ht)=>{H.bind(At=>At.getOpt(st)).each(At=>{Uo.set(At,[S1(ht.event.icon,p.providers.icons)])})})])]),eventOrder:Ta(BB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[tf()]:["toolbar-button-events","dropdown-events",Ue]}),sandboxBehaviours:pr([yo.config({mode:"special",onLeft:K,onRight:K}),Jo("dropdown-sandbox-events",[qn(KL,(st,ht)=>{pG(st),ht.stop()}),qn(JL,(st,ht)=>{vG(st,ht),ht.stop()})])]),lazySink:p.getSink,toggleClass:`${u}--active`,parts:{menu:{...d2(!1,o.columns,o.presets),fakeFocus:o.searchable,onHighlightItem:k8,onCollapseMenu:(st,ht,At)=>{Ys.getHighlighted(At).each(qt=>{k8(st,At,qt)})},onDehighlightItem:OG}},getAnchorOverrides:()=>({maxHeightFunction:(st,ht)=>{Fk()(st,ht-10)}}),fetch:st=>Ic.nu(F(o.fetch,st))})).asSpec()},fq=o=>h(o),VB=o=>o.type==="separator",dq=o=>vn(o,"getSubmenuItems"),hq={type:"separator"},zB=(o,u)=>{const p=Ce(o,(S,_)=>fq(_)?_===""?S:_==="|"?S.length>0&&!VB(S[S.length-1])?S.concat([hq]):S:vn(u,_.toLowerCase())?S.concat([u[_.toLowerCase()]]):S:S.concat([_]),[]);return p.length>0&&VB(p[p.length-1])&&p.pop(),p},mq=(o,u)=>{const p=o.getSubmenuItems(),S=HB(p,u),_=Ta(S.menus,{[o.value]:S.items}),H=Ta(S.expansions,{[o.value]:o.value});return{item:o,menus:_,expansions:H}},ZB=o=>{const u=Bt(o,"value").getOrThunk(()=>Kr("generated-menu-item"));return Ta({value:u},o)},HB=(o,u)=>{const p=zB(h(o)?o.split(" "):o,u);return Le(p,(S,_)=>{if(dq(_)){const H=ZB(_),K=mq(H,u);return{menus:Ta(S.menus,K.menus),items:[K.item,...S.items],expansions:Ta(S.expansions,K.expansions)}}else return{...S,items:[_,...S.items]}},{menus:{},expansions:{},items:[]})},gq=o=>o.search.fold(()=>({searchMode:"no-search"}),u=>({searchMode:"search-with-field",placeholder:u.placeholder})),pq=o=>o.search.fold(()=>({searchMode:"no-search"}),u=>({searchMode:"search-with-results"})),R2=(o,u,p,S)=>{const _=Kr("primary-menu"),H=HB(o,p.shared.providers.menuItems());if(H.items.length===0)return L.none();const K=gq(S),ye=TN(_,H.items,u,p,S.isHorizontalMenu,K),Ae=pq(S),Ne=je(H.menus,(Je,st)=>TN(st,Je,u,p,!1,Ae)),Ue=Ta(Ne,vt(_,ye));return L.from(u1.tieredData(_,Ue,H.expansions))},c6=o=>!vn(o,"items"),UB="data-value",WB=(o,u,p,S)=>ne(p,_=>c6(_)?{type:"togglemenuitem",text:_.text,value:_.value,active:_.value===S,onAction:()=>{Fr.setValue(o,_.value),vo(o,hf,{name:u}),Mo.focus(o)}}:{type:"nestedmenuitem",text:_.text,getSubmenuItems:()=>WB(o,u,_.items,S)}),u6=(o,u)=>Xe(o,p=>c6(p)?lt(p.value===u,p):u6(p.items,u)),vq=(o,u,p)=>{const S=u.shared.providers,_=p.bind(Ae=>u6(o.items,Ae)).orThunk(()=>ke(o.items).filter(c6)),H=o.label.map(Ae=>nh(Ae,S)),K=la.parts.field({dom:{},factory:{sketch:Ae=>g4({uid:Ae.uid,text:_.map(Ne=>Ne.text),icon:L.none(),tooltip:o.label,role:L.none(),fetch:(Ne,Ue)=>{const Je=WB(Ne,o.name,o.items,Fr.getValue(Ne));Ue(R2(Je,Gm.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:L.none()}))},onSetup:Q(M),getApi:Q({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ja.config({}),x1(_.map(Ne=>Ne.value),Ne=>oa(Ne.element,UB),(Ne,Ue)=>{u6(o.items,Ue).each(Je=>{Dr(Ne.element,UB,Je.value),vo(Ne,sh,{text:Je.text})})})]},"tox-listbox",u.shared)}}),ye={dom:{tag:"div",classes:["tox-listboxfield"]},components:[K]};return la.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ie([H.toArray(),[ye]]),fieldBehaviours:pr([Co.config({disabled:Q(!o.enabled),onDisabled:Ae=>{la.getField(Ae).each(Co.disable)},onEnabled:Ae=>{la.getField(Ae).each(Co.enable)}})])})},f6=(o,u)=>({dom:{tag:"div",classes:o.classes},components:ne(o.items,u.shared.interpreter)}),yq=(o,u)=>{const p=ne(o.options,_=>({dom:{tag:"option",value:_.value,innerHtml:_.text}})),S=o.data.map(_=>vt("initialValue",_)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:p,behaviours:Ni(o.selectBehaviours,[Mo.config({}),Fr.config({store:{mode:"manual",getValue:_=>Mh(_.element),setValue:(_,H)=>{const K=ke(o.options);Ve(o.options,Ae=>Ae.value===H).isSome()?w0(_.element,H):_.element.dom.selectedIndex===-1&&H===""&&K.each(Ae=>w0(_.element,Ae.value))},...S}})])}},bq=Du({name:"HtmlSelect",configFields:[er("options"),tl("selectBehaviours",[Mo,Fr]),Mn("selectClasses",[]),Mn("selectAttributes",{}),Ws("data")],factory:yq}),Oq=(o,u,p)=>{const S=ne(o.items,Ae=>({text:u.translate(Ae.text),value:Ae.value})),_=o.label.map(Ae=>nh(Ae,u)),H=la.parts.field({dom:{},...p.map(Ae=>({data:Ae})).getOr({}),selectAttributes:{size:o.size},options:S,factory:bq,selectBehaviours:pr([Co.config({disabled:()=>!o.enabled||u.isDisabled()}),ja.config({}),Jo("selectbox-change",[qn(Yi(),(Ae,Ne)=>{vo(Ae,hf,{name:o.name})})])])}),K=o.size>1?L.none():L.some(zh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),ye={dom:{tag:"div",classes:["tox-selectfield"]},components:Ie([[H],K.toArray()])};return la.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ie([_.toArray(),[ye]]),fieldBehaviours:pr([Co.config({disabled:()=>!o.enabled||u.isDisabled(),onDisabled:Ae=>{la.getField(Ae).each(Co.disable)},onEnabled:Ae=>{la.getField(Ae).each(Co.enable)}}),pl()])})},MC=Q([Mn("field1Name","field1"),Mn("field2Name","field2"),Hd("onLockedChange"),Ig(["lockClass"]),Mn("locked",!1),Bf.field("coupledFieldBehaviours",[Ss,Fr])]),d6=(o,u,p)=>ka(o,u,p).bind(Ss.getCurrent),YB=(o,u)=>uc({factory:la,name:o,overrides:p=>({fieldBehaviours:pr([Jo("coupled-input-behaviour",[qn(hi(),S=>{d6(S,p,u).each(_=>{ka(S,p,"lock").each(H=>{as.isOn(H)&&p.onLockedChange(S,_,H)})})})])])})}),xq=Q([YB("field1","field2"),YB("field2","field1"),uc({factory:Ll,schema:[er("dom")],name:"lock",overrides:o=>({buttonBehaviours:pr([as.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),h6=(o,u,p,S)=>({uid:o.uid,dom:o.dom,components:u,behaviours:Bf.augment(o.coupledFieldBehaviours,[Ss.config({find:L.some}),Fr.config({store:{mode:"manual",getValue:_=>{const H=vv(_,o,["field1","field2"]);return{[o.field1Name]:Fr.getValue(H.field1()),[o.field2Name]:Fr.getValue(H.field2())}},setValue:(_,H)=>{const K=vv(_,o,["field1","field2"]);En(H,o.field1Name)&&Fr.setValue(K.field1(),H[o.field1Name]),En(H,o.field2Name)&&Fr.setValue(K.field2(),H[o.field2Name])}}})]),apis:{getField1:_=>ka(_,o,"field1"),getField2:_=>ka(_,o,"field2"),getLock:_=>ka(_,o,"lock")}}),bd=fc({name:"FormCoupledInputs",configFields:MC(),partFields:xq(),factory:h6,apis:{getField1:(o,u)=>o.getField1(u),getField2:(o,u)=>o.getField2(u),getLock:(o,u)=>o.getLock(u)}}),m6=o=>{const u={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},p=_=>_ in u?u[_]:1;let S=o.value.toFixed(p(o.unit));return S.indexOf(".")!==-1&&(S=S.replace(/\.?0*$/,"")),S+o.unit},p4=o=>{const p=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(p!==null){const S=parseFloat(p[1]),_=p[2];return jo.value({value:S,unit:_})}else return jo.error(o)},XB=(o,u)=>{const p={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},S=_=>vn(p,_);return o.unit===u?L.some(o.value):S(o.unit)&&S(u)?p[o.unit]===p[u]?L.some(o.value):L.some(o.value/p[o.unit]*p[u]):L.none()},g6=o=>L.none(),GB=(o,u)=>p=>XB(p,u).map(S=>({value:S*o,unit:u})),jB=(o,u)=>{const p=p4(o).toOptional(),S=p4(u).toOptional();return Xn(p,S,(_,H)=>XB(_,H.unit).map(K=>H.value/K).map(K=>GB(K,H.unit)).getOr(g6)).getOr(g6)},Sq=(o,u)=>{let p=g6;const S=Kr("ratio-event"),_=Je=>zh(Je,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Je]},u.icons),H=bd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:u.translate(o.label.getOr("Constrain proportions"))}},components:[_("lock"),_("unlock")],buttonBehaviours:pr([Co.config({disabled:()=>!o.enabled||u.isDisabled()}),pl(),ja.config({})])}),K=Je=>({dom:{tag:"div",classes:["tox-form__group"]},components:Je}),ye=Je=>la.parts.field({factory:Bb,inputClasses:["tox-textfield"],inputBehaviours:pr([Co.config({disabled:()=>!o.enabled||u.isDisabled()}),pl(),ja.config({}),Jo("size-input-events",[qn(Do(),(st,ht)=>{vo(st,S,{isField1:Je})}),qn(Yi(),(st,ht)=>{vo(st,hf,{name:o.name})})])]),selectOnFocus:!1}),Ae=Je=>({dom:{tag:"label",classes:["tox-label"]},components:[yi(u.translate(Je))]}),Ne=bd.parts.field1(K([la.parts.label(Ae("Width")),ye(!0)])),Ue=bd.parts.field2(K([la.parts.label(Ae("Height")),ye(!1)]));return bd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Ne,Ue,K([Ae(Ww),H])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Je,st,ht)=>{p4(Fr.getValue(Je)).each(At=>{p(At).each(qt=>{Fr.setValue(st,m6(qt))})})},coupledFieldBehaviours:pr([Co.config({disabled:()=>!o.enabled||u.isDisabled(),onDisabled:Je=>{bd.getField1(Je).bind(la.getField).each(Co.disable),bd.getField2(Je).bind(la.getField).each(Co.disable),bd.getLock(Je).each(Co.disable)},onEnabled:Je=>{bd.getField1(Je).bind(la.getField).each(Co.enable),bd.getField2(Je).bind(la.getField).each(Co.enable),bd.getLock(Je).each(Co.enable)}}),pl(),Jo("size-input-events2",[qn(S,(Je,st)=>{const ht=st.event.isField1,At=ht?bd.getField1(Je):bd.getField2(Je),qt=ht?bd.getField2(Je):bd.getField1(Je),Dn=At.map(Fr.getValue).getOr(""),mn=qt.map(Fr.getValue).getOr("");p=jB(Dn,mn)})])])})},qB=(o,u,p)=>{const S=oh.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[yi(u.translate(o.label))]}),_=oh.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),H=oh.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return oh.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o.min,maxX:o.max,getInitialValue:Q(p.getOrThunk(()=>(Math.abs(o.max)-Math.abs(o.min))/2))},components:[S,_,H],sliderBehaviours:pr([zf.self(),Mo.config({})]),onChoose:(K,ye,Ae)=>{vo(K,hf,{name:o.name,value:Ae})}})},KB=(o,u)=>{const p=ye=>({dom:{tag:"th",innerHtml:u.translate(ye)}}),S=ye=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ne(ye,p)}]}),_=ye=>({dom:{tag:"td",innerHtml:u.translate(ye)}}),H=ye=>({dom:{tag:"tr"},components:ne(ye,_)}),K=ye=>({dom:{tag:"tbody"},components:ne(ye,H)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[S(o.header),K(o.cells)],behaviours:pr([ja.config({}),Mo.config({})])}},JB=(o,u)=>{const p=o.label.map(ht=>nh(ht,u)),S=[Co.config({disabled:()=>o.disabled||u.isDisabled()}),pl(),yo.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:ht=>(ks(ht,pC),L.some(!0))}),Jo("textfield-change",[qn(hi(),(ht,At)=>{vo(ht,hf,{name:o.name})}),qn(Li(),(ht,At)=>{vo(ht,hf,{name:o.name})})]),ja.config({})],_=o.validation.map(ht=>vd.config({getRoot:At=>dr(At.element),invalidClass:"tox-invalid",validator:{validate:At=>{const qt=Fr.getValue(At),Dn=ht.validator(qt);return Ic.pure(Dn===!0?jo.value(qt):jo.error(Dn))},validateOnLoad:ht.validateOnLoad}})).toArray(),H=o.placeholder.fold(Q({}),ht=>({placeholder:u.translate(ht)})),K=o.inputMode.fold(Q({}),ht=>({inputmode:ht})),ye={...H,...K},Ae=la.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(ht=>({data:ht})).getOr({}),inputAttributes:ye,inputClasses:[o.classname],inputBehaviours:pr(Ie([S,_])),selectOnFocus:!1,factory:Bb}),Ne=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[Ae]}:Ae,Je=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),st=[Co.config({disabled:()=>o.disabled||u.isDisabled(),onDisabled:ht=>{la.getField(ht).each(Co.disable)},onEnabled:ht=>{la.getField(ht).each(Co.enable)}}),pl()];return mC(p,Ne,Je,st)},eQ=(o,u,p)=>JB({name:o.name,multiline:!1,label:o.label,inputMode:o.inputMode,placeholder:o.placeholder,flex:!1,disabled:!o.enabled,classname:"tox-textfield",validation:L.none(),maximized:o.maximized,data:p},u),tQ=(o,u,p)=>JB({name:o.name,multiline:!0,label:o.label,inputMode:L.none(),placeholder:o.placeholder,flex:!0,disabled:!o.enabled,classname:"tox-textarea",validation:L.none(),maximized:o.maximized,data:p},u),D2=(o,u)=>u.getAnimationRoot.fold(()=>o.element,p=>p(o)),_v=o=>o.dimension.property,Wb=(o,u)=>o.dimension.getDimension(u),v4=(o,u)=>{const p=D2(o,u);nf(p,[u.shrinkingClass,u.growingClass])},y4=(o,u)=>{Ga(o.element,u.openClass),ki(o.element,u.closedClass),Po(o.element,_v(u),"0px"),ci(o.element)},p6=(o,u)=>{Ga(o.element,u.closedClass),ki(o.element,u.openClass),Ho(o.element,_v(u))},v6=(o,u,p,S)=>{p.setCollapsed(),Po(o.element,_v(u),Wb(u,o.element)),v4(o,u),y4(o,u),u.onStartShrink(o),u.onShrunk(o)},wq=(o,u,p,S)=>{const _=S.getOrThunk(()=>Wb(u,o.element));p.setCollapsed(),Po(o.element,_v(u),_),ci(o.element);const H=D2(o,u);Ga(H,u.growingClass),ki(H,u.shrinkingClass),y4(o,u),u.onStartShrink(o)},nQ=(o,u,p)=>{const S=Wb(u,o.element);(S==="0px"?v6:wq)(o,u,p,L.some(S))},b4=(o,u,p)=>{const S=D2(o,u),_=el(S,u.shrinkingClass),H=Wb(u,o.element);p6(o,u);const K=Wb(u,o.element);(_?()=>{Po(o.element,_v(u),H),ci(o.element)}:()=>{y4(o,u)})(),Ga(S,u.shrinkingClass),ki(S,u.growingClass),p6(o,u),Po(o.element,_v(u),K),p.setExpanded(),u.onStartGrow(o)},Tq=(o,u,p)=>{if(p.isExpanded()){Ho(o.element,_v(u));const S=Wb(u,o.element);Po(o.element,_v(u),S)}},Cq=(o,u,p)=>{p.isExpanded()||b4(o,u,p)},kq=(o,u,p)=>{p.isExpanded()&&nQ(o,u,p)},rQ=(o,u,p)=>{p.isExpanded()&&v6(o,u,p)},Aq=(o,u,p)=>p.isExpanded(),oQ=(o,u,p)=>p.isCollapsed(),sQ=(o,u,p)=>{const S=D2(o,u);return el(S,u.growingClass)===!0},y6=(o,u,p)=>{const S=D2(o,u);return el(S,u.shrinkingClass)===!0};var Pq=Object.freeze({__proto__:null,refresh:Tq,grow:Cq,shrink:kq,immediateShrink:rQ,hasGrown:Aq,hasShrunk:oQ,isGrowing:sQ,isShrinking:y6,isTransitioning:(o,u,p)=>sQ(o,u)||y6(o,u),toggleGrow:(o,u,p)=>{(p.isExpanded()?nQ:b4)(o,u,p)},disableTransitions:v4,immediateGrow:(o,u,p)=>{p.isExpanded()||(p6(o,u),Po(o.element,_v(u),Wb(u,o.element)),v4(o,u),p.setExpanded(),u.onStartGrow(o),u.onGrown(o))}}),Eq=Object.freeze({__proto__:null,exhibit:(o,u,p)=>{const S=u.expanded;return Pu(S?{classes:[u.openClass],styles:{}}:{classes:[u.closedClass],styles:vt(u.dimension.property,"0px")})},events:(o,u)=>Ea([Ch(Ji(),(p,S)=>{S.event.raw.propertyName===o.dimension.property&&(v4(p,o),u.isExpanded()&&Ho(p.element,o.dimension.property),(u.isExpanded()?o.onGrown:o.onShrunk)(p))})])}),aQ=[er("closedClass"),er("openClass"),er("shrinkingClass"),er("growingClass"),Ws("getAnimationRoot"),Rs("onShrunk"),Rs("onStartShrink"),Rs("onGrown"),Rs("onStartGrow"),Mn("expanded",!1),Hc("dimension",xs("property",{width:[ha("property","width"),ha("getDimension",o=>Si(o)+"px")],height:[ha("property","height"),ha("getDimension",o=>Ha(o)+"px")]}))],_q=Object.freeze({__proto__:null,init:o=>{const u=G(o.expanded),p=()=>"expanded: "+u.get();return Au({isExpanded:()=>u.get()===!0,isCollapsed:()=>u.get()===!1,setCollapsed:F(u.set,!1),setExpanded:F(u.set,!0),readState:p})}});const Zf=hl({fields:aQ,name:"sliding",active:Eq,apis:Pq,state:_q}),b6=o=>({isEnabled:()=>!Co.isDisabled(o),setEnabled:u=>Co.set(o,!u),setActive:u=>{const p=o.element;u?(ki(p,"tox-tbtn--enabled"),Dr(p,"aria-pressed",!0)):(Ga(p,"tox-tbtn--enabled"),sa(p,"aria-pressed"))},isActive:()=>el(o.element,"tox-tbtn--enabled"),setText:u=>{vo(o,sh,{text:u})},setIcon:u=>vo(o,w1,{icon:u})}),EC=(o,u,p,S,_=!0)=>g4({text:o.text,icon:o.icon,tooltip:o.tooltip,searchable:o.search.isSome(),role:S,fetch:(H,K)=>{const ye={pattern:o.search.isSome()?SG(H):""};o.fetch(Ae=>{K(R2(Ae,Gm.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:o.search}))},ye,b6(H))},onSetup:o.onSetup,getApi:b6,columns:1,presets:"normal",classes:[],dropdownBehaviours:[..._?[ja.config({})]:[]]},u,p.shared),Rq=(o,u,p)=>{const S=H=>K=>{const ye=!K.isActive();K.setActive(ye),H.storage.set(ye),p.shared.getSink().each(Ae=>{u().getOpt(Ae).each(Ne=>{uu(Ne.element),vo(Ne,lp,{name:H.name,value:H.storage.get()})})})},_=H=>K=>{K.setActive(H.storage.get())};return H=>{H(ne(o,K=>{const ye=K.text.fold(()=>({}),Ae=>({text:Ae}));return{type:K.type,active:!1,...ye,onAction:S(K),onSetup:_(K)}}))}},iQ=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:o,"aria-label":o}},components:[yi(o)]}),O6=Kr("leaf-label-event-id"),O4=({leaf:o,onLeafAction:u,visible:p,treeId:S,selectedId:_,backstage:H})=>{const K=o.menu.map(Ae=>EC(Ae,"tox-mbtn",H,L.none(),p)),ye=[iQ(o.title)];return K.each(Ae=>ye.push(Ae)),Ll.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(p?["tox-tree--leaf__label--visible"]:[])},components:ye,role:"treeitem",action:Ae=>{u(o.id),Ae.getSystem().broadcastOn([`update-active-item-${S}`],{value:o.id})},eventOrder:{[_s()]:[O6,"keying"]},buttonBehaviours:pr([...p?[ja.config({})]:[],as.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),cu.config({channels:{[`update-active-item-${S}`]:{onReceive:(Ae,Ne)=>{(Ne.value===o.id?as.on:as.off)(Ae)}}}}),Jo(O6,[Ca((Ae,Ne)=>{_.each(Ue=>{(Ue===o.id?as.on:as.off)(Ae)})}),qn(_s(),(Ae,Ne)=>{const Ue=Ne.event.raw.code==="ArrowLeft",Je=Ne.event.raw.code==="ArrowRight";Ue?(Eu(Ae.element,".tox-tree--directory").each(st=>{Ae.getSystem().getByDom(st).each(ht=>{ux(st,".tox-tree--directory__label").each(At=>{ht.getSystem().getByDom(At).each(Mo.focus)})})}),Ne.stop()):Je&&Ne.stop()})])])})},lQ=(o,u,p)=>zh(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:p},u),x4=(o,u)=>lQ(o,u,[]),cQ=Kr("directory-label-event-id"),Dq=({directory:o,visible:u,noChildren:p,backstage:S})=>{const _=o.menu.map(ye=>EC(ye,"tox-mbtn",S,L.none())),H=[{dom:{tag:"div",classes:["tox-chevron"]},components:[x4("chevron-right",S.shared.providers.icons)]},iQ(o.title)];_.each(ye=>{H.push(ye)});const K=ye=>{Eu(ye.element,".tox-tree--directory").each(Ae=>{ye.getSystem().getByDom(Ae).each(Ne=>{const Ue=!as.isOn(Ne);as.toggle(Ne),vo(ye,"expand-tree-node",{expanded:Ue,node:o.id})})})};return Ll.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(u?["tox-tree--directory__label--visible"]:[])},components:H,action:K,eventOrder:{[_s()]:[cQ,"keying"]},buttonBehaviours:pr([...u?[ja.config({})]:[],Jo(cQ,[qn(_s(),(ye,Ae)=>{const Ne=Ae.event.raw.code==="ArrowRight",Ue=Ae.event.raw.code==="ArrowLeft";Ne&&p&&Ae.stop(),(Ne||Ue)&&Eu(ye.element,".tox-tree--directory").each(Je=>{ye.getSystem().getByDom(Je).each(st=>{!as.isOn(st)&&Ne||as.isOn(st)&&Ue?(K(ye),Ae.stop()):Ue&&!as.isOn(st)&&(Eu(st.element,".tox-tree--directory").each(ht=>{ux(ht,".tox-tree--directory__label").each(At=>{st.getSystem().getByDom(At).each(Mo.focus)})}),Ae.stop())})})})])])})},$q=({children:o,onLeafAction:u,visible:p,treeId:S,expandedIds:_,selectedId:H,backstage:K})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(ye=>ye.type==="leaf"?O4({leaf:ye,selectedId:H,onLeafAction:u,visible:p,treeId:S,backstage:K}):S4({directory:ye,expandedIds:_,selectedId:H,onLeafAction:u,labelTabstopping:p,treeId:S,backstage:K})),behaviours:pr([Zf.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:p}),Uo.config({})])}),Lq=Kr("directory-event-id"),S4=({directory:o,onLeafAction:u,labelTabstopping:p,treeId:S,backstage:_,expandedIds:H,selectedId:K})=>{const{children:ye}=o,Ae=G(H),Ne=Je=>ye.map(st=>st.type==="leaf"?O4({leaf:st,selectedId:K,onLeafAction:u,visible:Je,treeId:S,backstage:_}):S4({directory:st,expandedIds:Ae.get(),selectedId:K,onLeafAction:u,labelTabstopping:Je,treeId:S,backstage:_})),Ue=H.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Dq({directory:o,visible:p,noChildren:o.children.length===0,backstage:_}),$q({children:ye,expandedIds:H,selectedId:K,onLeafAction:u,visible:Ue,treeId:S,backstage:_})],behaviours:pr([Jo(Lq,[Ca((Je,st)=>{as.set(Je,Ue)}),qn("expand-tree-node",(Je,st)=>{const{expanded:ht,node:At}=st.event;Ae.set(ht?[...Ae.get(),At]:Ae.get().filter(qt=>qt!==At))})]),as.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(Je,st)=>{const ht=Je.components()[1],At=Ne(st);st?Zf.grow(ht):Zf.shrink(ht),Uo.set(ht,At)}})])}},Iq=Kr("tree-event-id"),Nq=(o,u)=>{const p=o.onLeafAction.getOr(M),S=o.onToggleExpand.getOr(M),_=o.defaultExpandedIds,H=G(_),K=G(o.defaultSelectedId),ye=Kr("tree-id"),Ae=(Ne,Ue)=>o.items.map(Je=>Je.type==="leaf"?O4({leaf:Je,selectedId:Ne,onLeafAction:p,visible:!0,treeId:ye,backstage:u}):S4({directory:Je,selectedId:Ne,onLeafAction:p,expandedIds:Ue,labelTabstopping:!0,treeId:ye,backstage:u}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:Ae(K.get(),H.get()),behaviours:pr([yo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Jo(Iq,[qn("expand-tree-node",(Ne,Ue)=>{const{expanded:Je,node:st}=Ue.event;H.set(Je?[...H.get(),st]:H.get().filter(ht=>ht!==st)),S(H.get(),{expanded:Je,node:st})})]),cu.config({channels:{[`update-active-item-${ye}`]:{onReceive:(Ne,Ue)=>{K.set(L.some(Ue.value)),Uo.set(Ne,Ae(L.some(Ue.value),H.get()))}}}}),Uo.config({})])}};var uQ=Object.freeze({__proto__:null,events:(o,u)=>{const S=o.stream.streams.setup(o,u);return Ea([qn(o.event,S),kh(()=>u.cancel())].concat(o.cancelEvent.map(_=>[qn(_,()=>u.cancel())]).getOr([])))}});const x6=o=>{const u=G(null);return Au({readState:()=>({timer:u.get()!==null?"set":"unset"}),setTimer:H=>{u.set(H)},cancel:()=>{const H=u.get();H!==null&&H.cancel()}})};var Bq=Object.freeze({__proto__:null,throttle:x6,init:o=>o.stream.streams.state(o)});const fQ=(o,u)=>{const p=o.stream,S=o6(o.onStream,p.delay);return u.setTimer(S),(_,H)=>{S.throttle(_,H),p.stopEvent&&H.stop()}};var Qq=[Hc("stream",xs("mode",{throttle:[er("delay"),Mn("stopEvent",!0),ha("streams",{setup:fQ,state:x6})]})),Mn("event","input"),Ws("cancelEvent"),Hd("onStream")];const S6=hl({fields:Qq,name:"streaming",active:uQ,state:Bq}),Ro=(o,u,p)=>{const S=Fr.getValue(p);Fr.setValue(u,S),w6(u)},$2=(o,u)=>{const p=o.element,S=Mh(p),_=p.dom;oa(p,"type")!=="number"&&u(_,S)},w6=o=>{$2(o,(u,p)=>u.setSelectionRange(p.length,p.length))},dQ=(o,u)=>{$2(o,(p,S)=>p.setSelectionRange(u,S.length))},hQ=(o,u,p)=>{if(o.selectsOver){const S=Fr.getValue(u),_=o.getDisplayText(S),H=Fr.getValue(p);return o.getDisplayText(H).indexOf(_)===0?L.some(()=>{Ro(o,u,p),dQ(u,_.length)}):L.none()}else return L.none()},w4=Q("alloy.typeahead.itemexecute"),mQ=(o,u,p,S)=>{const _=(Je,st,ht)=>{o.previewing.set(!1);const At=Mi.getCoupled(Je,"sandbox");if(As.isOpen(At))Ss.getCurrent(At).each(qt=>{Ys.getHighlighted(qt).fold(()=>{ht(qt)},()=>{qS(At,qt.element,"keydown",st)})});else{const qt=Dn=>{Ss.getCurrent(Dn).each(ht)};Q5(o,K(Je),Je,At,S,qt,gu.HighlightMenuAndItem).get(M)}},H=kR(o),K=Je=>st=>st.map(ht=>{const At=Nt(ht.menus),qt=re(At,mn=>Oe(mn.items,sn=>sn.type==="item"));return Fr.getState(Je).update(ne(qt,mn=>mn.data)),ht}),ye=Je=>Ss.getCurrent(Je),Ae="typeaheadevents",Ne=[Mo.config({}),Fr.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:Je=>Mh(Je.element),getFallbackEntry:Je=>({value:Je,meta:{}}),setValue:(Je,st)=>{w0(Je.element,o.model.getDisplayText(st))},...o.initialData.map(Je=>vt("initialValue",Je)).getOr({})}}),S6.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(Je,st)=>{const ht=Mi.getCoupled(Je,"sandbox");if(Mo.isFocused(Je)&&Mh(Je.element).length>=o.minChars){const qt=ye(ht).bind(mn=>Ys.getHighlighted(mn).map(Fr.getValue));o.previewing.set(!0);const Dn=mn=>{ye(ht).each(sn=>{qt.fold(()=>{o.model.selectsOver&&Ys.highlightFirst(sn)},kn=>{Ys.highlightBy(sn,Zn=>Fr.getValue(Zn).value===kn.value),Ys.getHighlighted(sn).orThunk(()=>(Ys.highlightFirst(sn),L.none()))})})};Q5(o,K(Je),Je,ht,S,Dn,gu.HighlightJustMenu).get(M)}},cancelEvent:Cm()}),yo.config({mode:"special",onDown:(Je,st)=>(_(Je,st,Ys.highlightFirst),L.some(!0)),onEscape:Je=>{const st=Mi.getCoupled(Je,"sandbox");return As.isOpen(st)?(As.close(st),L.some(!0)):L.none()},onUp:(Je,st)=>(_(Je,st,Ys.highlightLast),L.some(!0)),onEnter:Je=>{const st=Mi.getCoupled(Je,"sandbox"),ht=As.isOpen(st);if(ht&&!o.previewing.get())return ye(st).bind(At=>Ys.getHighlighted(At)).map(At=>(vo(Je,w4(),{item:At}),!0));{const At=Fr.getValue(Je);return ks(Je,Cm()),o.onExecute(st,Je,At),ht&&As.close(st),L.some(!0)}}}),as.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Mi.config({others:{sandbox:Je=>T8(o,Je,{onOpen:()=>as.on(Je),onClose:()=>{o.lazyTypeaheadComp.get().each(st=>sa(st.element,"aria-activedescendant")),as.off(Je)}})}}),Jo(Ae,[Ca(Je=>{o.lazyTypeaheadComp.set(L.some(Je))}),kh(Je=>{o.lazyTypeaheadComp.set(L.none())}),sd(Je=>{const st=M;w8(o,K(Je),Je,S,st,gu.HighlightMenuAndItem).get(M)}),qn(w4(),(Je,st)=>{const ht=Mi.getCoupled(Je,"sandbox");Ro(o.model,Je,st.event.item),ks(Je,Cm()),o.onItemExecute(Je,ht,st.event.item,Fr.getValue(Je)),As.close(ht),w6(Je)})].concat(o.dismissOnBlur?[qn(Xl(),Je=>{const st=Mi.getCoupled(Je,"sandbox");ld(st.element).isNone()&&As.close(st)})]:[]))],Ue={[Pg()]:[Fr.name(),S6.name(),Ae],...o.eventOrder};return{uid:o.uid,dom:d5(Ta(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...H,...Ni(o.typeaheadBehaviours,Ne)},eventOrder:Ue}},Pce=Q([Ws("lazySink"),er("fetch"),Mn("minChars",5),Mn("responseTime",1e3),Rs("onOpen"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",Q({})),Mn("layouts",L.none()),Mn("eventOrder",{}),D("model",{},[Mn("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Mn("selectsOver",!0),Mn("populateFromBrowse",!0)]),Rs("onSetValue"),Ru("onExecute"),Rs("onItemExecute"),Mn("inputClasses",[]),Mn("inputAttributes",{}),Mn("inputStyles",{}),Mn("matchWidth",!0),Mn("useMinWidth",!1),Mn("dismissOnBlur",!0),Ig(["openClass"]),Ws("initialData"),tl("typeaheadBehaviours",[Mo,Fr,S6,yo,as,Mi]),ni("lazyTypeaheadComp",()=>G(L.none)),ni("previewing",()=>G(!0))].concat(KT()).concat(C8())),_C=Q([fd({schema:[Vy()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(u,p,S)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(_=>{hQ(o.model,_,S).fold(()=>{o.model.selectsOver?(Ys.dehighlight(p,S),o.previewing.set(!0)):o.previewing.set(!1)},H=>{H(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(_=>{o.model.populateFromBrowse&&Ro(o.model,_,S),Ri(S.element,"id").each(H=>Dr(_.element,"aria-activedescendant",H))})},onExecute:(u,p)=>o.lazyTypeaheadComp.get().map(S=>(vo(S,w4(),{item:p}),!0)),onHover:(u,p)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(S=>{o.model.populateFromBrowse&&Ro(o.model,S,p)})}})})]),Fq=fc({name:"Typeahead",configFields:Pce(),partFields:_C(),factory:mQ}),ah=o=>({...o,toCached:()=>ah(o.toCached()),bindFuture:Ae=>ah(o.bind(Ne=>Ne.fold(Ue=>Ic.pure(jo.error(Ue)),Ue=>Ae(Ue)))),bindResult:Ae=>ah(o.map(Ne=>Ne.bind(Ae))),mapResult:Ae=>ah(o.map(Ne=>Ne.map(Ae))),mapError:Ae=>ah(o.map(Ne=>Ne.mapError(Ae))),foldResult:(Ae,Ne)=>o.map(Ue=>Ue.fold(Ae,Ne)),withTimeout:(Ae,Ne)=>ah(Ic.nu(Ue=>{let Je=!1;const st=setTimeout(()=>{Je=!0,Ue(jo.error(Ne()))},Ae);o.get(ht=>{Je||(clearTimeout(st),Ue(ht))})}))}),gQ=o=>ah(Ic.nu(o)),pQ=o=>ah(Ic.pure(jo.value(o))),Zq={nu:gQ,wrap:ah,pure:pQ,value:pQ,error:o=>ah(Ic.pure(jo.error(o))),fromResult:o=>ah(Ic.pure(o)),fromFuture:o=>ah(o.map(jo.value)),fromPromise:o=>gQ(u=>{o.then(p=>{u(jo.value(p))},p=>{u(jo.error(p))})})},T4=(o,u,p=[],S,_,H)=>{const K=u.fold(()=>({}),Ne=>({action:Ne})),ye={buttonBehaviours:pr([nl.button(()=>!o.enabled||H.isDisabled()),pl(),ja.config({}),Jo("button press",[ew("click"),ew("mousedown")])].concat(p)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...K},Ae=Ta(ye,{dom:S});return Ta(Ae,{components:_})},Hq=(o,u,p,S=[])=>{const _=o.tooltip.map(Ae=>({"aria-label":p.translate(Ae),title:p.translate(Ae)})).getOr({}),H={tag:"button",classes:["tox-tbtn"],attributes:_},K=o.icon.map(Ae=>m4(Ae,p.icons)),ye=b2([K]);return T4(o,u,S,H,ye,p)},T6=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},yQ=(o,u,p,S=[],_=[])=>{const H=p.translate(o.text),K=o.icon.map(st=>m4(st,p.icons)),ye=[K.getOrThunk(()=>yi(H))],Ae=o.buttonType.getOr(!o.primary&&!o.borderless?"secondary":"primary"),Je={tag:"button",classes:[...T6(Ae),...K.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],..._],attributes:{title:H}};return T4(o,u,S,Je,ye,p)},C6=(o,u,p,S=[],_=[])=>{const H=yQ(o,L.some(u),p,S,_);return Ll.sketch(H)},bQ=(o,u)=>p=>{u==="custom"?vo(p,lp,{name:o,value:{}}):u==="submit"?ks(p,pC):u==="cancel"?ks(p,v1):console.error("Unknown button type: ",u)},Uq=(o,u)=>u==="menu",Wq=(o,u)=>u==="custom"||u==="cancel"||u==="submit",Yq=(o,u)=>u==="togglebutton",Xq=(o,u)=>{var p,S;const _=o.icon.map(sn=>S1(sn,u.icons)).map(ia),H=sn=>{vo(sn,lp,{name:o.name,value:{setIcon:kn=>{_.map(Zn=>Zn.getOpt(sn).each(mr=>{Uo.set(mr,[S1(kn,u.icons)])}))}}})},K=o.buttonType.getOr(o.primary?"primary":"secondary"),ye={...o,name:(p=o.name)!==null&&p!==void 0?p:"",primary:K==="primary",tooltip:L.from(o.tooltip),enabled:(S=o.enabled)!==null&&S!==void 0?S:!1,borderless:!1},Ae=ye.tooltip.map(sn=>({"aria-label":u.translate(sn),title:u.translate(sn)})).getOr({}),Ne=T6(K??"secondary"),Ue=o.icon.isSome()&&o.text.isSome(),Je={tag:"button",classes:[...Ne.concat(o.icon.isSome()?["tox-button--icon"]:[]),...o.active?["tox-button--enabled"]:[],...Ue?["tox-button--icon-and-text"]:[]],attributes:Ae},st=[],ht=u.translate(o.text.getOr("")),At=yi(ht),Dn=[...b2([_.map(sn=>sn.asSpec())]),...o.text.isSome()?[At]:[]],mn=T4(ye,L.some(H),st,Je,Dn,u);return Ll.sketch(mn)},C4=(o,u,p)=>{if(Uq(o,u)){const S=()=>K,_=o,H={...o,type:"menubutton",search:L.none(),onSetup:ye=>(ye.setEnabled(o.enabled),M),fetch:Rq(_.items,S,p)},K=ia(EC(H,"tox-tbtn",p,L.none()));return K.asSpec()}else if(Wq(o,u)){const S=bQ(o.name,u),_={...o,borderless:!1};return C6(_,S,p.shared.providers,[])}else{if(Yq(o,u))return Xq(o,p.shared.providers);throw console.error("Unknown footer button type: ",u),new Error("Unknown footer button type")}},Gq=(o,u)=>{const p=bQ(o.name,"custom");return UG(L.none(),la.parts.field({factory:Ll,...yQ(o,L.some(p),u,[SC(""),zf.self()])}))},jq={type:"separator"},qq=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:M}),k6=(o,u)=>({type:"menuitem",value:u,text:o,meta:{attach:void 0},onAction:M}),Kq=o=>ne(o,qq),OQ=(o,u)=>Oe(u,p=>p.type===o),xQ=(o,u)=>Kq(OQ(o,u)),Jq=o=>xQ("header",o.targets),eK=o=>xQ("anchor",o.targets),tK=o=>L.from(o.anchorTop).map(u=>k6("<top>",u)).toArray(),nK=o=>L.from(o.anchorBottom).map(u=>k6("<bottom>",u)).toArray(),rK=o=>ne(o,u=>k6(u,u)),SQ=o=>Ce(o,(u,p)=>u.length===0||p.length===0?u.concat(p):u.concat(jq,p),[]),A6=(o,u)=>{const p=o.toLowerCase();return Oe(u,S=>{var _;const H=S.meta!==void 0&&S.meta.text!==void 0?S.meta.text:S.text,K=(_=S.value)!==null&&_!==void 0?_:"";return at(H.toLowerCase(),p)||at(K.toLowerCase(),p)})},wQ=(o,u,p)=>{var S,_;const H=Fr.getValue(u),K=(_=(S=H==null?void 0:H.meta)===null||S===void 0?void 0:S.text)!==null&&_!==void 0?_:H.value;return p.getLinkInformation().fold(()=>[],Ae=>{const Ne=A6(K,rK(p.getHistory(o)));return o==="file"?SQ([Ne,A6(K,Jq(Ae)),A6(K,Ie([tK(Ae),eK(Ae),nK(Ae)]))]):Ne})},TQ=Kr("aria-invalid"),CQ=(o,u,p,S)=>{const _=u.shared.providers,H=sn=>{const kn=Fr.getValue(sn);p.addToHistory(kn.value,o.filetype)},K={...S.map(sn=>({initialData:sn})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":TQ,type:"url"},minChars:0,responseTime:0,fetch:sn=>{const kn=wQ(o.filetype,sn,p),Zn=R2(kn,Gm.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:L.none()});return Ic.pure(Zn)},getHotspot:sn=>At.getOpt(sn),onSetValue:(sn,kn)=>{sn.hasConfigured(vd)&&vd.run(sn).get(M)},typeaheadBehaviours:pr([...p.getValidationHandler().map(sn=>vd.config({getRoot:kn=>dr(kn.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(kn,Zn)=>{Ue.getOpt(kn).each(mr=>{Dr(mr.element,"title",_.translate(Zn))})}},validator:{validate:kn=>{const Zn=Fr.getValue(kn);return Zq.nu(mr=>{sn({type:o.filetype,url:Zn.value},Gn=>{if(Gn.status==="invalid"){const Or=jo.error(Gn.message);mr(Or)}else{const Or=jo.value(Gn.message);mr(Or)}})})},validateOnLoad:!1}})).toArray(),Co.config({disabled:()=>!o.enabled||_.isDisabled()}),ja.config({}),Jo("urlinput-events",[qn(hi(),sn=>{const kn=Mh(sn.element),Zn=kn.trim();Zn!==kn&&w0(sn.element,Zn),o.filetype==="file"&&vo(sn,hf,{name:o.name})}),qn(Yi(),sn=>{vo(sn,hf,{name:o.name}),H(sn)}),qn(Li(),sn=>{vo(sn,hf,{name:o.name}),H(sn)})])]),eventOrder:{[hi()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:sn=>sn.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:d2(!1,1,"normal")},onExecute:(sn,kn,Zn)=>{vo(kn,pC,{})},onItemExecute:(sn,kn,Zn,mr)=>{H(sn),vo(sn,hf,{name:o.name})}},ye=la.parts.field({...K,factory:Fq}),Ae=o.label.map(sn=>nh(sn,_)),Ue=ia(((sn,kn,Zn=sn,mr=sn)=>zh(Zn,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+sn],attributes:{title:_.translate(mr),"aria-live":"polite",...kn.fold(()=>({}),Gn=>({id:Gn}))}},_.icons))("invalid",L.some(TQ),"warning")),Je=ia({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Ue.asSpec()]}),st=p.getUrlPicker(o.filetype),ht=Kr("browser.url.event"),At=ia({dom:{tag:"div",classes:["tox-control-wrap"]},components:[ye,Je.asSpec()],behaviours:pr([Co.config({disabled:()=>!o.enabled||_.isDisabled()})])}),qt=ia(C6({name:o.name,icon:L.some("browse"),text:o.picker_text.or(o.label).getOr(""),enabled:o.enabled,primary:!1,buttonType:L.none(),borderless:!0},sn=>ks(sn,ht),_,[],["tox-browse-url"])),Dn=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ie([[At.asSpec()],st.map(()=>qt.asSpec()).toArray()])}),mn=sn=>{Ss.getCurrent(sn).each(kn=>{const Zn=Fr.getValue(kn),mr={fieldname:o.name,...Zn};st.each(Gn=>{Gn(mr).get(Or=>{Fr.setValue(kn,Or),vo(sn,hf,{name:o.name})})})})};return la.sketch({dom:gce(),components:Ae.toArray().concat([Dn()]),fieldBehaviours:pr([Co.config({disabled:()=>!o.enabled||_.isDisabled(),onDisabled:sn=>{la.getField(sn).each(Co.disable),qt.getOpt(sn).each(Co.disable)},onEnabled:sn=>{la.getField(sn).each(Co.enable),qt.getOpt(sn).each(Co.enable)}}),pl(),Jo("url-input-events",[qn(ht,mn)])])})},kQ=(o,u)=>{const p=J_(o.icon,u.icons);return jm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:o.url?void 0:p},components:o.url?[Ll.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:u.translate(o.iconTooltip)}},action:S=>vo(S,lp,{name:"alert-banner",value:o.url}),buttonBehaviours:pr([e5()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:u.translate(o.text)}}]})},P6=(o,u)=>{o.dom.checked=u},oK=o=>o.dom.checked,AQ=(o,u,p)=>{const S=Ae=>(Ae.element.dom.click(),L.some(!0)),_=la.parts.field({factory:{sketch:z},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pr([zf.self(),Co.config({disabled:()=>!o.enabled||u.isDisabled(),onDisabled:Ae=>{dr(Ae.element).each(Ne=>ki(Ne,"tox-checkbox--disabled"))},onEnabled:Ae=>{dr(Ae.element).each(Ne=>Ga(Ne,"tox-checkbox--disabled"))}}),ja.config({}),Mo.config({}),r6(p,oK,P6),yo.config({mode:"special",onEnter:S,onSpace:S,stopSpaceKeyup:!0}),Jo("checkbox-events",[qn(Yi(),(Ae,Ne)=>{vo(Ae,hf,{name:o.name})})])])}),H=la.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[yi(u.translate(o.label))],behaviours:pr([vC.config({})])}),K=Ae=>zh(Ae==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+Ae]},u.icons),ye=ia({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[K("checked"),K("unchecked")]});return la.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[_,ye.asSpec(),H],fieldBehaviours:pr([Co.config({disabled:()=>!o.enabled||u.isDisabled()}),pl()])})},PQ=o=>o.presets==="presentation"?jm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html}}):jm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html,attributes:{role:"document"}},containerBehaviours:pr([ja.config({}),Mo.config({})])}),xl=o=>(u,p,S,_)=>Bt(p,"name").fold(()=>o(p,_,L.none()),H=>u.field(H,o(p,_,Bt(S,H)))),MQ=o=>(u,p,S,_)=>{const H=Ta(p,{source:"dynamic"});return xl(o)(u,H,S,_)},sK={bar:xl((o,u)=>QG(o,u.shared)),collection:xl((o,u,p)=>YG(o,u.shared.providers,p)),alertbanner:xl((o,u)=>kQ(o,u.shared.providers)),input:xl((o,u,p)=>eQ(o,u.shared.providers,p)),textarea:xl((o,u,p)=>tQ(o,u.shared.providers,p)),label:xl((o,u)=>uq(o,u.shared)),iframe:MQ((o,u,p)=>aq(o,u.shared.providers,p)),button:xl((o,u)=>Gq(o,u.shared.providers)),checkbox:xl((o,u,p)=>AQ(o,u.shared.providers,p)),colorinput:xl((o,u,p)=>JG(o,u.shared,u.colorinput,p)),colorpicker:xl((o,u,p)=>Jj(o,u.shared.providers,p)),dropzone:xl((o,u,p)=>kB(o,u.shared.providers,p)),grid:xl((o,u)=>rq(o,u.shared)),listbox:xl((o,u,p)=>vq(o,u,p)),selectbox:xl((o,u,p)=>Oq(o,u.shared.providers,p)),sizeinput:xl((o,u)=>Sq(o,u.shared.providers)),slider:xl((o,u,p)=>qB(o,u.shared.providers,p)),urlinput:xl((o,u,p)=>CQ(o,u,u.urlinput,p)),customeditor:xl(CB),htmlpanel:xl(PQ),imagepreview:xl((o,u,p)=>cq(o,p)),table:xl((o,u)=>KB(o,u.shared.providers)),tree:xl((o,u)=>Nq(o,u)),panel:xl((o,u)=>f6(o,u))},aK={field:(o,u)=>u,record:Q([])},jh=(o,u,p,S)=>{const _=Ta(S,{shared:{interpreter:H=>L2(o,H,p,_)}});return L2(o,u,p,_)},L2=(o,u,p,S)=>Bt(sK,u.type).fold(()=>(console.error(`Unknown factory type "${u.type}", defaulting to container: `,u),u),_=>_(o,u,p,S)),RC=(o,u,p)=>L2(aK,o,u,p),T1="layout-inset",DC=o=>o.x,EQ=(o,u)=>o.x+o.width/2-u.width/2,$C=(o,u)=>o.x+o.width-u.width,k4=o=>o.y,LC=(o,u)=>o.y+o.height-u.height,_Q=(o,u)=>o.y+o.height/2-u.height/2,IC=(o,u,p)=>ul($C(o,u),LC(o,u),p.insetSouthwest(),Rh(),"southwest",Ua(o,{right:0,bottom:3}),T1),NC=(o,u,p)=>ul(DC(o),LC(o,u),p.insetSoutheast(),mx(),"southeast",Ua(o,{left:1,bottom:3}),T1),Yb=(o,u,p)=>ul($C(o,u),k4(o),p.insetNorthwest(),bw(),"northwest",Ua(o,{right:0,top:2}),T1),BC=(o,u,p)=>ul(DC(o),k4(o),p.insetNortheast(),Zy(),"northeast",Ua(o,{left:1,top:2}),T1),qh=(o,u,p)=>ul(EQ(o,u),k4(o),p.insetNorth(),Dm(),"north",Ua(o,{top:2}),T1),I2=(o,u,p)=>ul(EQ(o,u),LC(o,u),p.insetSouth(),sE(),"south",Ua(o,{bottom:3}),T1),RQ=(o,u,p)=>ul($C(o,u),_Q(o,u),p.insetEast(),Hy(),"east",Ua(o,{right:0}),T1),DQ=(o,u,p)=>ul(DC(o),_Q(o,u),p.insetWest(),Nn(),"west",Ua(o,{left:1}),T1),$Q=o=>{switch(o){case"north":return qh;case"northeast":return BC;case"northwest":return Yb;case"south":return I2;case"southeast":return NC;case"southwest":return IC;case"east":return RQ;case"west":return DQ}},M6=(o,u,p,S,_)=>Dk(S).map($Q).getOr(qh)(o,u,p,S,_),iK=o=>{switch(o){case"north":return I2;case"northeast":return NC;case"northwest":return IC;case"south":return qh;case"southeast":return BC;case"southwest":return Yb;case"east":return DQ;case"west":return RQ}},lK=(o,u,p,S,_)=>Dk(S).map(iK).getOr(qh)(o,u,p,S,_),QC={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},cK=(o,u,p)=>{const _={maxHeightFunction:I0()},H=()=>({type:"node",root:Xs(es(o())),node:L.from(o()),bubble:$h(12,12,QC),layouts:{onRtl:()=>[BC],onLtr:()=>[Yb]},overrides:_}),K=()=>({type:"hotspot",hotspot:u(),bubble:$h(-12,12,QC),layouts:{onRtl:()=>[fl,Kl,dl],onLtr:()=>[Kl,fl,dl]},overrides:_});return()=>p()?H():K()},LQ=(o,u,p,S)=>{const H={maxHeightFunction:I0()},K=()=>({type:"node",root:Xs(es(u())),node:L.from(u()),bubble:$h(12,12,QC),layouts:{onRtl:()=>[qh],onLtr:()=>[qh]},overrides:H}),ye=()=>o?{type:"node",root:Xs(es(u())),node:L.from(u()),bubble:$h(0,-zu(u()),QC),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]},overrides:H}:{type:"hotspot",hotspot:p(),bubble:$h(0,0,QC),layouts:{onRtl:()=>[_c],onLtr:()=>[_c]},overrides:H};return()=>S()?K():ye()},qm=(o,u,p)=>{const S=()=>({type:"node",root:Xs(es(o())),node:L.from(o()),layouts:{onRtl:()=>[qh],onLtr:()=>[qh]}}),_=()=>({type:"hotspot",hotspot:u(),layouts:{onRtl:()=>[dl],onLtr:()=>[dl]}});return()=>p()?S():_()},E6=(o,u)=>()=>({type:"selection",root:u(),getSelection:()=>{const p=o.selection.getRng(),S=o.model.table.getSelectedCells();if(S.length>1){const _=S[0],H=S[S.length-1],K={firstCell:zt.fromDom(_),lastCell:zt.fromDom(H)};return L.some(K)}return L.some(Dl.range(zt.fromDom(p.startContainer),p.startOffset,zt.fromDom(p.endContainer),p.endOffset))}}),uK=o=>u=>({type:"node",root:o(),node:u}),fK=(o,u,p,S)=>{const _=u2(o),H=()=>zt.fromDom(o.getBody()),K=()=>zt.fromDom(o.getContentAreaContainer()),ye=()=>_||!S();return{inlineDialog:cK(K,u,ye),inlineBottomDialog:LQ(o.inline,K,p,ye),banner:qm(K,u,ye),cursor:E6(o,H),node:uK(H)}},dK=o=>(u,p)=>{dN(o)(u,p)},hK=o=>()=>aN(o),mK=o=>u=>$5(o,u),IQ=o=>u=>sN(o,u),NQ=o=>({colorPicker:dK(o),hasCustomColors:hK(o),getColors:mK(o),getColorCols:IQ(o)}),Ece=o=>()=>uR(o),_ce=o=>({isDraggableModal:Ece(o)}),Nc=o=>{const u=G(gR(o)?"bottom":"top");return{isPositionedAtTop:()=>u.get()==="top",getDockingMode:u.get,setDockingMode:u.set}},A4=o=>En(o,"items"),BQ=o=>En(o,"format"),FC=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],gK=o=>vn(o,"items"),pK=o=>vn(o,"block"),vK=o=>vn(o,"inline"),yK=o=>vn(o,"selector"),QQ=o=>Ce(o,(u,p)=>{if(gK(p)){const S=QQ(p.items);return{customFormats:u.customFormats.concat(S.customFormats),formats:u.formats.concat([{title:p.title,items:S.formats}])}}else if(vK(p)||pK(p)||yK(p)){const _=`custom-${h(p.name)?p.name:p.title.toLowerCase()}`;return{customFormats:u.customFormats.concat([{name:_,format:p}]),formats:u.formats.concat([{title:p.title,format:_,icon:p.icon}])}}else return{...u,formats:u.formats.concat(p)}},{customFormats:[],formats:[]}),bK=(o,u)=>{const p=QQ(u),S=_=>{le(_,H=>{o.formatter.has(H.name)||o.formatter.register(H.name,H.format)})};return o.formatter?S(p.customFormats):o.on("init",()=>{S(p.customFormats)}),p.formats},FQ=o=>AL(o).map(u=>{const p=bK(o,u);return PL(o)?FC.concat(p):p}).getOr(FC),OK=o=>{const u=ct(o);return u.length===1&&xe(u,"title")},_6=(o,u,p)=>({...o,type:"formatter",isSelected:u(o.format),getStylePreview:p(o.format)}),VC=(o,u,p,S)=>{const _=Ae=>_6(Ae,p,S),H=Ae=>{const Ne=ye(Ae.items);return{...Ae,type:"submenu",getStyleItems:Q(Ne)}},K=Ae=>{const Ne=h(Ae.name)?Ae.name:Kr(Ae.title),Ue=`custom-${Ne}`,Je={...Ae,type:"formatter",format:Ue,isSelected:p(Ue),getStylePreview:S(Ue)};return o.formatter.register(Ne,Je),Je},ye=Ae=>ne(Ae,Ne=>A4(Ne)?H(Ne):BQ(Ne)?_(Ne):OK(Ne)?{...Ne,type:"separator"}:K(Ne));return ye(u)},xK=o=>{const u=ye=>()=>o.formatter.match(ye),p=ye=>()=>{const Ae=o.formatter.get(ye);return Ae!==void 0?L.some({tag:Ae.length>0&&(Ae[0].inline||Ae[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(ye))}):L.none()},S=G([]),_=G([]),H=G(!1);return o.on("PreInit",ye=>{const Ae=FQ(o),Ne=VC(o,Ae,u,p);S.set(Ne)}),o.on("addStyleModifications",ye=>{const Ae=VC(o,ye.items,u,p);_.set(Ae),H.set(ye.replace)}),{getData:()=>{const ye=H.get()?[]:S.get(),Ae=_.get();return ye.concat(Ae)}}},VQ=o=>k(o)&&o.nodeType===1,SK=dp.trim,R6=o=>u=>!!(VQ(u)&&(u.contentEditable===o||u.getAttribute("data-mce-contenteditable")===o)),wK=R6("true"),TK=R6("false"),D6=(o,u,p,S,_)=>({type:o,title:u,url:p,level:S,attach:_}),Rce=o=>{let u=o;for(;u=u.parentNode;){const p=u.contentEditable;if(p&&p!=="inherit")return wK(u)}return!1},Dce=(o,u)=>ne(ml(zt.fromDom(u),o),p=>p.dom),zQ=o=>o.innerText||o.textContent,CK=o=>o.id?o.id:Kr("h"),kK=o=>o&&o.nodeName==="A"&&(o.id||o.name)!==void 0,ZQ=o=>kK(o)&&HQ(o),P4=o=>o&&/^(H[1-6])$/.test(o.nodeName),HQ=o=>Rce(o)&&!TK(o),AK=o=>P4(o)&&HQ(o),UQ=o=>P4(o)?parseInt(o.nodeName.substr(1),10):0,PK=o=>{var u;const p=CK(o),S=()=>{o.id=p};return D6("header",(u=zQ(o))!==null&&u!==void 0?u:"","#"+p,UQ(o),S)},MK=o=>{const u=o.id||o.name,p=zQ(o);return D6("anchor",p||"#"+u,"#"+u,0,M)},EK=o=>ne(Oe(o,AK),PK),_K=o=>ne(Oe(o,ZQ),MK),$6=o=>Dce("h1,h2,h3,h4,h5,h6,a:not([href])",o),WQ=o=>SK(o.title).length>0,RK={find:o=>{const u=$6(o);return Oe(EK(u).concat(_K(u)),WQ)}},M4="tinymce-url-history",YQ=5,L6=o=>h(o)&&/^https?/.test(o),DK=o=>v(o)&&o.length<=YQ&&be(o,L6),zC=o=>c(o)&&Gt(o,u=>!DK(u)).isNone(),XQ=()=>{const o=m1.getItem(M4);if(o===null)return{};let u;try{u=JSON.parse(o)}catch(p){if(p instanceof SyntaxError)return console.log("Local storage "+M4+" was not valid JSON",p),{};throw p}return zC(u)?u:(console.log("Local storage "+M4+" was not valid format",u),{})},E4=o=>{if(!zC(o))throw new Error(`Bad format for history:
`+JSON.stringify(o));m1.setItem(M4,JSON.stringify(o))},$K=o=>{const u=XQ();return Bt(u,o).getOr([])},I6=(o,u)=>{if(!L6(o))return;const p=XQ(),S=Bt(p,u).getOr([]),_=Oe(S,H=>H!==o);p[u]=[o].concat(_).slice(0,YQ),E4(p)},N2=o=>!!o,GQ=o=>je(dp.makeMap(o,/[, ]/),N2),N6=o=>L.from(DL(o)),jQ=o=>{const u=L.from(lR(o)).filter(N2).map(GQ);return N6(o).fold(X,p=>u.fold(ie,S=>ct(S).length>0?S:!1))},qQ=(o,u)=>{const p=jQ(o);return b(p)?p?N6(o):L.none():p[u]?N6(o):L.none()},KQ=(o,u)=>qQ(o,u).map(p=>S=>Ic.nu(_=>{const H=(ye,Ae)=>{if(!h(ye))throw new Error("Expected value to be string");if(Ae!==void 0&&!c(Ae))throw new Error("Expected meta to be a object");_({value:ye,meta:Ae})},K={filetype:u,fieldname:S.fieldname,...L.from(S.meta).getOr({})};p.call(o,H,S.value,K)})),JQ=o=>L.from(o).filter(h).getOrUndefined(),B6=o=>cR(o)?L.some({targets:RK.find(o.getBody()),anchorTop:JQ(s5(o)),anchorBottom:JQ(LL(o))}):L.none(),_4=o=>L.from(iR(o)),LK=o=>({getHistory:$K,addToHistory:I6,getLinkInformation:()=>B6(o),getValidationHandler:()=>_4(o),getUrlPicker:u=>KQ(o,u)}),IK=(o,u,p,S)=>{const _=G(!1),H=Nc(u),K={icons:()=>u.ui.registry.getAll().icons,menuItems:()=>u.ui.registry.getAll().menuItems,translate:md.translate,isDisabled:()=>u.mode.isReadOnly()||!u.ui.isEnabled(),getOption:u.options.get},ye=LK(u),Ae=xK(u),Ne=NQ(u),Ue=_ce(u),Je=()=>_.get(),st=Dn=>_.set(Dn),ht={shared:{providers:K,anchors:fK(u,p,S,H.isPositionedAtTop),header:H},urlinput:ye,styles:Ae,colorinput:Ne,dialog:Ue,isContextMenuOpen:Je,setContextMenuState:st},At={...ht,shared:{...ht.shared,interpreter:Dn=>RC(Dn,{},At),getSink:o.popup}},qt={...ht,shared:{...ht.shared,interpreter:Dn=>RC(Dn,{},qt),getSink:o.dialog}};return{popup:At,dialog:qt}},B2=(o,u,p)=>{const S=(Gn,Or)=>{le([u,...p],Mr=>{Mr.broadcastEvent(Gn,Or)})},_=(Gn,Or)=>{le([u,...p],Mr=>{Mr.broadcastOn([Gn],Or)})},H=Gn=>_(Xd(),{target:Gn.target}),K=t0(),ye=Dc(K,"touchstart",H),Ae=Dc(K,"touchmove",Gn=>S(Ey(),Gn)),Ne=Dc(K,"touchend",Gn=>S(ZO(),Gn)),Ue=Dc(K,"mousedown",H),Je=Dc(K,"mouseup",Gn=>{Gn.raw.button===0&&_(cT(),{target:Gn.target})}),st=Gn=>_(Xd(),{target:zt.fromDom(Gn.target)}),ht=Gn=>{Gn.button===0&&_(cT(),{target:zt.fromDom(Gn.target)})},At=()=>{le(o.editorManager.get(),Gn=>{o!==Gn&&Gn.dispatch("DismissPopups",{relatedTarget:o})})},qt=Gn=>S(Th(),Bw(Gn)),Dn=Gn=>{_(gv(),{}),S(Vd(),Bw(Gn))},mn=es(zt.fromDom(o.getElement())),sn=Ox(mn,"scroll",Gn=>{requestAnimationFrame(()=>{const Or=o.getContainer();if(Or!=null){const is=p1(o,u.element).map(Gr=>[Gr.element,...Gr.others]).getOr([]);we(is,Gr=>Jt(Gr,Gn.target))&&(o.dispatch("ElementScroll",{target:Gn.target.dom}),S(UO(),Gn))}})}),kn=()=>_(gv(),{}),Zn=Gn=>{Gn.state&&_(Xd(),{target:zt.fromDom(o.getContainer())})},mr=Gn=>{_(Xd(),{target:zt.fromDom(Gn.relatedTarget.getContainer())})};o.on("PostRender",()=>{o.on("click",st),o.on("tap",st),o.on("mouseup",ht),o.on("mousedown",At),o.on("ScrollWindow",qt),o.on("ResizeWindow",Dn),o.on("ResizeEditor",kn),o.on("AfterProgressState",Zn),o.on("DismissPopups",mr)}),o.on("remove",()=>{o.off("click",st),o.off("tap",st),o.off("mouseup",ht),o.off("mousedown",At),o.off("ScrollWindow",qt),o.off("ResizeWindow",Dn),o.off("ResizeEditor",kn),o.off("AfterProgressState",Zn),o.off("DismissPopups",mr),Ue.unbind(),ye.unbind(),Ae.unbind(),Ne.unbind(),Je.unbind(),sn.unbind()}),o.on("detach",()=>{le([u,...p],G0),le([u,...p],Gn=>Gn.destroy())})},Sl=i_,mp=OA,eF=Q([Mn("shell",!1),er("makeItem"),Mn("setupItem",M),Bf.field("listBehaviours",[Uo])]),Q6=du({name:"items",overrides:()=>({behaviours:pr([Uo.config({})])})}),NK=Q([Q6]),BK=Q("CustomList"),QK=(o,u,p,S)=>{const _=(ye,Ae)=>{K(ye).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},Ne=>{const Ue=Uo.contents(Ne),Je=Ae.length,st=Je-Ue.length,ht=st>0?Be(st,()=>o.makeItem()):[],At=Ue.slice(Je);le(At,Dn=>Uo.remove(Ne,Dn)),le(ht,Dn=>Uo.append(Ne,Dn));const qt=Uo.contents(Ne);le(qt,(Dn,mn)=>{o.setupItem(ye,Dn,Ae[mn],mn)})})},H=o.shell?{behaviours:[Uo.config({})],components:[]}:{behaviours:[],components:u},K=ye=>o.shell?L.some(ye):ka(ye,o,"items");return{uid:o.uid,dom:o.dom,components:H.components,behaviours:Ni(o.listBehaviours,H.behaviours),apis:{setItems:_}}},R4=fc({name:BK(),configFields:eF(),partFields:NK(),factory:QK,apis:{setItems:(o,u,p)=>{o.setItems(u,p)}}}),Q2=Q([er("dom"),Mn("shell",!0),tl("toolbarBehaviours",[Uo])]),FK=Q([du({name:"groups",overrides:()=>({behaviours:pr([Uo.config({})])})})]),VK=(o,u,p,S)=>{const _=(ye,Ae)=>{H(ye).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},Ne=>{Uo.set(Ne,Ae)})},H=ye=>o.shell?L.some(ye):ka(ye,o,"groups"),K=o.shell?{behaviours:[Uo.config({})],components:[]}:{behaviours:[],components:u};return{uid:o.uid,dom:o.dom,components:K.components,behaviours:Ni(o.toolbarBehaviours,K.behaviours),apis:{setGroups:_,refresh:M},domModification:{attributes:{role:"group"}}}},Km=fc({name:"Toolbar",configFields:Q2(),partFields:FK(),factory:VK,apis:{setGroups:(o,u,p)=>{o.setGroups(u,p)}}}),zK=M,ZK=X,F6=Q([]);var HK=Object.freeze({__proto__:null,setup:zK,isDocked:ZK,getBehaviours:F6});const Xb=o=>(ln(Za(o,"position"),"fixed")?L.none():ar(o)).orThunk(()=>{const S=zt.fromTag("span");return Fn(o).bind(_=>{zc(_,S);const H=ar(S);return wc(S),H})}),nF=o=>Xb(o).map(Al).getOrThunk(()=>Is(0,0)),UK=(o,u)=>{const p=o.element;ki(p,u.transitionClass),Ga(p,u.fadeOutClass),ki(p,u.fadeInClass),u.onShow(o)},V6=(o,u)=>{const p=o.element;ki(p,u.transitionClass),Ga(p,u.fadeInClass),ki(p,u.fadeOutClass),u.onHide(o)},rF=(o,u)=>o.y<u.bottom&&o.bottom>u.y,oF=(o,u)=>o.y>=u.y,sF=(o,u)=>o.bottom<=u.bottom,z6=(o,u,p)=>({location:"top",leftX:u,topY:p.bounds.y-o.y}),Z6=(o,u,p)=>({location:"bottom",leftX:u,bottomY:o.bottom-p.bounds.bottom}),H6=o=>o.box.x-o.win.x,WK=(o,u,p)=>{const S=u.win,_=u.box,H=H6(u);return Xe(o,K=>{switch(K){case"bottom":return sF(_,p.bounds)?L.none():L.some(Z6(S,H,p));case"top":return oF(_,p.bounds)?L.none():L.some(z6(S,H,p));default:return L.none()}}).getOr({location:"no-dock"})},YK=(o,u,p)=>be(o,S=>{switch(S){case"bottom":return sF(u,p.bounds);case"top":return oF(u,p.bounds)}}),XK=(o,u)=>{const p=u.optScrollEnv.fold(Q(o.bounds.y),S=>S.scrollElmTop+(o.bounds.y-S.currentScrollTop));return Is(o.bounds.x,p)},GK=(o,u)=>{const p=u.optScrollEnv.fold(Q(o.y),S=>o.y+S.currentScrollTop-S.scrollElmTop);return Is(o.x,p)},aF=(o,u,p)=>p.getInitialPos().map(S=>{const _=XK(S,u);return{box:ti(_.left,_.top,Si(o),Ha(o)),location:S.location}}),iF=(o,u,p,S,_)=>{const H=GK(u,p),K=ti(H.left,H.top,u.width,u.height);S.setInitialPos({style:Va(o),position:Fa(o,"position")||"static",bounds:K,location:_.location})},lF=(o,u,p,S,_)=>{S.getInitialPos().fold(()=>iF(o,u,p,S,_),()=>M)},U6=(o,u,p)=>p.getInitialPos().bind(S=>{var _;switch(p.clearInitialPos(),S.position){case"static":return L.some({morph:"static"});case"absolute":const H=Xb(o).getOr(ya()),K=fi(H),ye=(_=H.dom.scrollTop)!==null&&_!==void 0?_:0;return L.some({morph:"absolute",positionCss:sf("absolute",Bt(S.style,"left").map(Ae=>u.x-K.x),Bt(S.style,"top").map(Ae=>u.y-K.y+ye),Bt(S.style,"right").map(Ae=>K.right-u.right),Bt(S.style,"bottom").map(Ae=>K.bottom-u.bottom))});default:return L.none()}}),D4=(o,u,p)=>aF(o,u,p).filter(({box:S})=>YK(p.getModes(),S,u)).bind(({box:S})=>U6(o,S,p)),$4=o=>{switch(o.location){case"top":return L.some({morph:"fixed",positionCss:sf("fixed",L.some(o.leftX),L.some(o.topY),L.none(),L.none())});case"bottom":return L.some({morph:"fixed",positionCss:sf("fixed",L.some(o.leftX),L.none(),L.none(),L.some(o.bottomY))});default:return L.none()}},jK=(o,u,p)=>{const S=fi(o),_=Hl(),H=WK(p.getModes(),{win:_,box:S},u);return H.location==="top"||H.location==="bottom"?(iF(o,S,u,p,H),$4(H)):L.none()},qK=(o,u,p)=>D4(o,u,p).orThunk(()=>u.optScrollEnv.bind(S=>aF(o,u,p)).bind(({box:S,location:_})=>{const H=Hl(),K=H6({win:H,box:S}),ye=_==="top"?z6(H,K,u):Z6(H,K,u);return $4(ye)})),KK=(o,u,p)=>{const S=o.element;return ln(Za(S,"position"),"fixed")?qK(S,u,p):jK(S,u,p)},JK=(o,u,p)=>{const S=o.element;return aF(S,u,p).bind(({box:_})=>U6(S,_,p))},eJ=(o,u,p,S)=>{const _=fi(o),H=Hl(),K=H6({win:H,box:_}),ye=S(H,K,u);return ye.location==="bottom"||ye.location==="top"?(lF(o,_,u,p,ye),$4(ye)):L.none()},cF=(o,u,p)=>{p.setDocked(!1),le(["left","right","top","bottom","position"],S=>Ho(o.element,S)),u.onUndocked(o)},W6=(o,u,p,S)=>{const _=S.position==="fixed";p.setDocked(_),_k(o.element,S),(_?u.onDocked:u.onUndocked)(o)},Y6=(o,u,p,S,_=!1)=>{u.contextual.each(H=>{H.lazyContext(o).each(K=>{const ye=rF(K,S.bounds);ye!==p.isVisible()&&(p.setVisible(ye),_&&!ye?(oi(o.element,[H.fadeOutClass]),H.onHide(o)):(ye?UK:V6)(o,H))})})},X6=(o,u,p,S,_)=>{Y6(o,u,p,S,!0),W6(o,u,p,_.positionCss)},tJ=(o,u,p,S,_)=>{switch(_.morph){case"static":return cF(o,u,p);case"absolute":return W6(o,u,p,_.positionCss);case"fixed":return X6(o,u,p,S,_)}},uF=(o,u,p)=>{const S=u.lazyViewport(o);Y6(o,u,p,S),KK(o,S,p).each(_=>{tJ(o,u,p,S,_)})},nJ=(o,u,p)=>{const S=o.element;p.setDocked(!1);const _=u.lazyViewport(o);JK(o,_,p).each(H=>{switch(H.morph){case"static":{cF(o,u,p);break}case"absolute":{W6(o,u,p,H.positionCss);break}}}),p.setVisible(!0),u.contextual.each(H=>{nf(S,[H.fadeInClass,H.fadeOutClass,H.transitionClass]),H.onShow(o)}),L4(o,u,p)},L4=(o,u,p)=>{o.getSystem().isConnected()&&uF(o,u,p)},fF=(o,u,p)=>{p.isDocked()&&nJ(o,u,p)},C1=o=>(u,p,S)=>{const _=p.lazyViewport(u);eJ(u.element,_,S,o).each(K=>{X6(u,p,S,_,K)})},dF=C1(z6),ZC=C1(Z6);var hF=Object.freeze({__proto__:null,refresh:L4,reset:fF,isDocked:(o,u,p)=>p.isDocked(),getModes:(o,u,p)=>p.getModes(),setModes:(o,u,p,S)=>p.setModes(S),forceDockToTop:dF,forceDockToBottom:ZC}),sJ=Object.freeze({__proto__:null,events:(o,u)=>Ea([Ch(Ji(),(p,S)=>{o.contextual.each(_=>{el(p.element,_.transitionClass)&&(nf(p.element,[_.transitionClass,_.fadeInClass]),(u.isVisible()?_.onShown:_.onHidden)(p)),S.stop()})}),qn(Th(),(p,S)=>{L4(p,o,u)}),qn(UO(),(p,S)=>{L4(p,o,u)}),qn(Vd(),(p,S)=>{fF(p,o,u)})])}),aJ=[Cc("contextual",[zs("fadeInClass"),zs("fadeOutClass"),zs("transitionClass"),Ku("lazyContext"),Rs("onShow"),Rs("onShown"),Rs("onHide"),Rs("onHidden")]),Di("lazyViewport",()=>({bounds:Hl(),optScrollEnv:L.none()})),Ac("modes",["top","bottom"],il),Rs("onDocked"),Rs("onUndocked")],iJ=Object.freeze({__proto__:null,init:o=>{const u=G(!1),p=G(!0),S=gs(),_=G(o.modes),H=()=>`docked:  ${u.get()}, visible: ${p.get()}, modes: ${_.get().join(",")}`;return Au({isDocked:u.get,setDocked:u.set,getInitialPos:S.get,setInitialPos:S.set,clearInitialPos:S.clear,isVisible:p.get,setVisible:p.set,getModes:_.get,setModes:_.set,readState:H})}});const Bi=hl({fields:aJ,name:"docking",active:sJ,apis:hF,state:iJ}),k1=Q(Kr("toolbar-height-change")),Od={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},I4="tox-tinymce--toolbar-sticky-on",mF="tox-tinymce--toolbar-sticky-off",lJ=(o,u)=>{const p=Tn(u),_=Jn(u).dom.innerHeight,H=El(p),K=zt.fromDom(o.elm),ye=Cu(K),Ae=Ha(K),Ne=ye.y,Ue=Ne+Ae,Je=Al(u),st=Ha(u),ht=Je.top,At=ht+st,qt=Math.abs(ht-H.top)<2,Dn=Math.abs(At-(H.top+_))<2;if(qt&&Ne<At)Yu(H.left,Ne-st,p);else if(Dn&&Ue>ht){const mn=Ne-_+Ae+st;Yu(H.left,mn,p)}},F2=(o,u)=>xe(Bi.getModes(o),u),j6=o=>{const u=S=>zu(S)+(parseInt(Fa(S,"margin-top"),10)||0)+(parseInt(Fa(S,"margin-bottom"),10)||0),p=o.element;dr(p).each(S=>{const _="padding-"+Bi.getModes(o)[0];if(Bi.isDocked(o)){const H=Si(S);Po(p,"width",H+"px"),Po(S,_,u(p)+"px")}else Ho(p,"width"),Ho(S,_)})},V2=(o,u)=>{u?(Ga(o,Od.fadeOutClass),oi(o,[Od.transitionClass,Od.fadeInClass])):(Ga(o,Od.fadeInClass),oi(o,[Od.fadeOutClass,Od.transitionClass]))},q6=(o,u)=>{const p=zt.fromDom(o.getContainer());u?(ki(p,I4),Ga(p,mF)):(ki(p,mF),Ga(p,I4))},cJ=(o,u)=>{const p=Tn(u);Dh(p).filter(S=>!Jt(u,S)).filter(S=>Jt(S,zt.fromDom(p.dom.body))||on(o,S)).each(()=>uu(u))},uJ=(o,u)=>ld(o).orThunk(()=>u().toOptional().bind(p=>ld(p.element))),fJ=(o,u,p)=>{o.inline||(u.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{p().each(Bi.reset)}),o.on("ResizeWindow ResizeEditor",()=>{p().each(j6)}),o.on("SkinLoaded",()=>{p().each(S=>{Bi.isDocked(S)?Bi.reset(S):Bi.refresh(S)})}),o.on("FullscreenStateChanged",()=>{p().each(Bi.reset)})),o.on("AfterScrollIntoView",S=>{p().each(_=>{Bi.refresh(_);const H=_.element;Jx(H)&&lJ(S,H)})}),o.on("PostRender",()=>{q6(o,!1)})},dJ=o=>o().map(Bi.isDocked).getOr(!1),hJ=()=>[cu.config({channels:{[k1()]:{onReceive:j6}}})],gF=(o,u)=>{const p=gs(),S=u.getSink,_=ye=>{S().each(Ae=>ye(Ae.element))},H=ye=>{o.inline||j6(ye),q6(o,Bi.isDocked(ye)),ye.getSystem().broadcastOn([gv()],{}),S().each(Ae=>Ae.getSystem().broadcastOn([gv()],{}))},K=o.inline?[]:hJ();return[Mo.config({}),Bi.config({contextual:{lazyContext:ye=>{const Ae=zu(ye.element),Ne=o.inline?o.getContentAreaContainer():o.getContainer();return L.from(Ne).map(Ue=>{const Je=fi(zt.fromDom(Ue));return p1(o,ye.element).fold(()=>{const ht=Je.height-Ae,At=Je.y+(F2(ye,"top")?0:Ae);return ti(Je.x,At,Je.width,ht)},ht=>{const At=yy(Je,w2(ht)),qt=F2(ye,"top")?At.y:At.y+Ae;return ti(At.x,qt,At.width,At.height-Ae)})})},onShow:()=>{_(ye=>V2(ye,!0))},onShown:ye=>{_(Ae=>nf(Ae,[Od.transitionClass,Od.fadeInClass])),p.get().each(Ae=>{cJ(ye.element,Ae),p.clear()})},onHide:ye=>{uJ(ye.element,S).fold(p.clear,p.set),_(Ae=>V2(Ae,!1))},onHidden:()=>{_(ye=>nf(ye,[Od.transitionClass]))},...Od},lazyViewport:ye=>p1(o,ye.element).fold(()=>{const Ne=Hl(),Ue=r5(o),Je=Ne.y+(F2(ye,"top")?Ue:0),st=Ne.height-(F2(ye,"bottom")?Ue:0);return{bounds:ti(Ne.x,Je,Ne.width,st),optScrollEnv:L.none()}},Ne=>({bounds:w2(Ne),optScrollEnv:L.some({currentScrollTop:Ne.element.dom.scrollTop,scrollElmTop:Al(Ne.element).top})})),modes:[u.header.getDockingMode()],onDocked:H,onUndocked:H}),...K]};var pF=Object.freeze({__proto__:null,setup:fJ,isDocked:dJ,getBehaviours:gF});const vF=o=>{const u=o.editor,p=o.sticky?gF:F6;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:pr(p(u,o.sharedBackstage))}},K6=uo([Gi,Hc("items",Xr([Ld([DR,ac("items",il)]),il]))].concat(v2)),mJ=o=>da("GroupToolbarButton",K6,o),N4=[cl("text"),cl("tooltip"),cl("icon"),kc("search",!1,Xr([Df,uo([cl("placeholder")])],o=>b(o)?o?L.some({placeholder:L.none()}):L.none():L.some(o))),Ku("fetch"),Di("onSetup",()=>M)],HC=uo([Gi,...N4]),J6=o=>da("menubutton",HC,o),gJ=uo([Gi,eC,gd,rp,IR,aI,f1,Uc("presets","normal",["normal","color","listpreview"]),cI(1),g2,GY]),pJ=o=>da("SplitButton",gJ,o);var e7=Du({factory:(o,u)=>{const p=(_,H)=>{const K=ne(H,ye=>{const Ae={type:"menubutton",text:ye.text,fetch:Ue=>{Ue(ye.getItems())}},Ne=J6(Ae).mapError(Ue=>Wl(Ue)).getOrDie();return EC(Ne,"tox-mbtn",u.backstage,L.some("menuitem"))});Uo.set(_,K)},S={focus:yo.focusIn,setMenus:p};return{uid:o.uid,dom:o.dom,components:[],behaviours:pr([Uo.config({}),Jo("menubar-events",[Ca(_=>{o.onSetup(_)}),qn(Lr(),(_,H)=>{Ai(_.element,".tox-mbtn--active").each(K=>{Zd(H.event.target,".tox-mbtn").each(ye=>{Jt(K,ye)||_.getSystem().getByDom(K).each(Ae=>{_.getSystem().getByDom(ye).each(Ne=>{th.expand(Ne),th.close(Ae),Mo.focus(Ne)})})})})}),qn(HO(),(_,H)=>{H.event.prevFocus.bind(K=>_.getSystem().getByDom(K).toOptional()).each(K=>{H.event.newFocus.bind(ye=>_.getSystem().getByDom(ye).toOptional()).each(ye=>{th.isOpen(K)&&(th.expand(ye),th.close(K))})})})]),yo.config({mode:"flow",selector:".tox-mbtn",onEscape:_=>(o.onEscape(_),L.some(!0))}),ja.config({})]),apis:S,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[er("dom"),er("uid"),er("onEscape"),er("backstage"),Mn("onSetup",M)],apis:{focus:(o,u)=>{o.focus(u)},setMenus:(o,u,p)=>{o.setMenus(u,p)}}});const t7="Upgrade",n7="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",vJ=o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:n7,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:t7}}]}),B4="container",yJ=[tl("slotBehaviours",[])],yF=o=>"<alloy.field."+o+">",bJ=o=>{const u=(()=>{const H=[];return{slot:(ye,Ae)=>(H.push(ye),pT(B4,yF(ye),Ae)),record:Q(H)}})(),p=o(u),S=u.record(),_=ne(S,H=>uc({name:H,pname:yF(H)}));return wT(B4,yJ,_,OJ,p)},OJ=(o,u)=>{const p=qt=>bT(o),S=(qt,Dn)=>ka(qt,o,Dn),_=(qt,Dn)=>(mn,sn)=>ka(mn,o,sn).map(kn=>qt(kn,sn)).getOr(Dn),H=qt=>(Dn,mn)=>{le(mn,sn=>qt(Dn,sn))},K=(qt,Dn)=>oa(qt.element,"aria-hidden")!=="true",ye=(qt,Dn)=>{if(!K(qt)){const mn=qt.element;Ho(mn,"display"),sa(mn,"aria-hidden"),vo(qt,_y(),{name:Dn,visible:!0})}},Ae=(qt,Dn)=>{if(K(qt)){const mn=qt.element;Po(mn,"display","none"),Dr(mn,"aria-hidden","true"),vo(qt,_y(),{name:Dn,visible:!1})}},Ne=_(K,!1),Ue=_(Ae),Je=H(Ue),st=qt=>Je(qt,p()),ht=_(ye),At={getSlotNames:p,getSlot:S,isShowing:Ne,hideSlot:Ue,hideAllSlots:st,showSlot:ht};return{uid:o.uid,dom:o.dom,components:u,behaviours:Fm(o.slotBehaviours),apis:At}},vu={...je({getSlotNames:(o,u)=>o.getSlotNames(u),getSlot:(o,u,p)=>o.getSlot(u,p),isShowing:(o,u,p)=>o.isShowing(u,p),hideSlot:(o,u,p)=>o.hideSlot(u,p),hideAllSlots:(o,u)=>o.hideAllSlots(u),showSlot:(o,u,p)=>o.showSlot(u,p)},o=>rv(o)),sketch:bJ},Qce=uo([gd,eC,Di("onShow",M),Di("onHide",M),f1]),bF=o=>da("sidebar",Qce,o),xJ=o=>{const{sidebars:u}=o.ui.registry.getAll();le(ct(u),p=>{const S=u[p],_=()=>ln(L.from(o.queryCommandValue("ToggleSidebar")),p);o.ui.registry.addToggleButton(p,{icon:S.icon,tooltip:S.tooltip,onAction:H=>{o.execCommand("ToggleSidebar",!1,p),H.setActive(_())},onSetup:H=>{H.setActive(_());const K=()=>H.setActive(_());return o.on("ToggleSidebar",K),()=>{o.off("ToggleSidebar",K)}}})})},OF=o=>({element:()=>o.element.dom}),SJ=(o,u)=>{const p=ne(ct(u),S=>{const _=u[S],H=aa(bF(_));return{name:S,getApi:OF,onSetup:H.onSetup,onShow:H.onShow,onHide:H.onHide}});return ne(p,S=>{const _=G(M);return o.slot(S.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:rC.unnamedEvents([d1(S,_),sp(S,_),qn(_y(),(H,K)=>{const ye=K.event;Ve(p,Ne=>Ne.name===ye.name).each(Ne=>{(ye.visible?Ne.onShow:Ne.onHide)(Ne.getApi(H))})})])})})},wJ=o=>vu.sketch(u=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:SJ(u,o),slotBehaviours:rC.unnamedEvents([Ca(p=>vu.hideAllSlots(p))])})),TJ=(o,u,p)=>{Ss.getCurrent(o).each(_=>{Uo.set(_,[wJ(u)]);const H=p==null?void 0:p.toLowerCase();h(H)&&vn(u,H)&&Ss.getCurrent(_).each(K=>{vu.showSlot(K,H),Zf.immediateGrow(_),Ho(_.element,"width"),Q4(o.element,"region")})})},Q4=(o,u)=>{Dr(o,"role",u)},CJ=(o,u)=>{Ss.getCurrent(o).each(S=>{Ss.getCurrent(S).each(H=>{Zf.hasGrown(S)?vu.isShowing(H,u)?(Zf.shrink(S),Q4(o.element,"presentation")):(vu.hideAllSlots(H),vu.showSlot(H,u),Q4(o.element,"region")):(vu.hideAllSlots(H),vu.showSlot(H,u),Zf.grow(S),Q4(o.element,"region"))})})},xF=o=>Ss.getCurrent(o).bind(p=>Zf.isGrowing(p)||Zf.hasGrown(p)?Ss.getCurrent(p).bind(H=>Ve(vu.getSlotNames(H),K=>vu.isShowing(H,K))):L.none()),r7=Kr("FixSizeEvent"),o7=Kr("AutoSizeEvent"),kJ=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pr([ja.config({}),Mo.config({}),Zf.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:u=>{Ss.getCurrent(u).each(vu.hideAllSlots),ks(u,o7)},onGrown:u=>{ks(u,o7)},onStartGrow:u=>{vo(u,r7,{width:Za(u.element,"width").getOr("")})},onStartShrink:u=>{vo(u,r7,{width:Si(u.element)+"px"})}}),Uo.config({}),Ss.config({find:u=>{const p=Uo.contents(u);return ke(p)}})])}],behaviours:pr([zf.childAt(0),Jo("sidebar-sliding-events",[qn(r7,(u,p)=>{Po(u.element,"width",p.event.width)}),qn(o7,(u,p)=>{Ho(u.element,"width")})])])});var SF=Object.freeze({__proto__:null,block:(o,u,p,S)=>{Dr(o.element,"aria-busy",!0);const _=u.getRoot(o).getOr(o),H=pr([yo.config({mode:"special",onTab:()=>L.some(!0),onShiftTab:()=>L.some(!0)}),Mo.config({})]),K=S(_,H),ye=_.getSystem().build(K);Uo.append(_,rf(ye)),ye.hasConfigured(yo)&&u.focus&&yo.focusIn(ye),p.isBlocked()||u.onBlock(o),p.blockWith(()=>Uo.remove(_,ye))},unblock:(o,u,p)=>{sa(o.element,"aria-busy"),p.isBlocked()&&u.onUnblock(o),p.clear()},isBlocked:(o,u,p)=>p.isBlocked()}),PJ=[Di("getRoot",L.none),Wi("focus",!0),Rs("onBlock"),Rs("onUnblock")],xd=Object.freeze({__proto__:null,init:()=>{const o=yE(),u=p=>{o.set({destroy:p})};return Au({readState:o.isSet,blockWith:u,clear:o.clear,isBlocked:o.isSet})}});const Jm=hl({fields:PJ,name:"blocking",apis:SF,state:xd}),wF=o=>(u,p)=>({dom:{tag:"div",attributes:{"aria-label":o.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:wv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),s7=o=>Ss.getCurrent(o).each(u=>uu(u.element,!0)),MJ=(o,u)=>{const p="tabindex",S=`data-mce-${p}`;L.from(o.iframeElement).map(zt.fromDom).each(_=>{u?(Ri(_,p).each(H=>Dr(_,S,H)),Dr(_,p,-1)):(sa(_,p),Ri(_,S).each(H=>{Dr(_,p,H),sa(_,S)}))})},UC=(o,u,p,S)=>{const _=u.element;if(MJ(o,p),p)Jm.block(u,wF(S)),Ho(_,"display"),sa(_,"aria-hidden"),o.hasFocus()&&s7(u);else{const H=Ss.getCurrent(u).exists(K=>Xy(K.element));Jm.unblock(u),Po(_,"display","none"),Dr(_,"aria-hidden","true"),H&&o.focus()}},EJ=o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pr([Uo.config({}),Jm.config({focus:!1}),Ss.config({find:u=>ke(u.components())})]),components:[]}),F4=o=>o.type==="focusin",_J=o=>F4(o)?(o.composed?ke(o.composedPath()):L.from(o.target)).map(zt.fromDom).filter(St).exists(p=>el(p,"mce-pastebin")):!1,V4=(o,u,p)=>{const S=G(!1),_=gs(),H=ye=>{S.get()&&!_J(ye)&&(ye.preventDefault(),s7(u()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",H),o.on("BeforeExecCommand",ye=>{ye.command.toLowerCase()==="mcefocus"&&ye.value!==!0&&H(ye)})});const K=ye=>{ye!==S.get()&&(S.set(ye),UC(o,u(),ye,p.providers),qI(o,ye))};o.on("ProgressState",ye=>{if(_.on(clearTimeout),T(ye.time)){const Ae=Db.setEditorTimeout(o,()=>K(ye.state),ye.time);_.set(Ae)}else K(ye.state),_.clear()})},RJ=(o,u)=>Ce(o,(_,H)=>u(H,_.len).fold(Q(_),ye=>({len:ye.finish,list:_.list.concat([ye])})),{len:0,list:[]}).list,a7=(o,u,p)=>({within:o,extra:u,withinWidth:p}),Sd=(o,u,p)=>{const S=RJ(o,(ye,Ae)=>{const Ne=p(ye);return L.some({element:ye,start:Ae,finish:Ae+Ne,width:Ne})}),_=Oe(S,ye=>ye.finish<=u),H=Le(_,(ye,Ae)=>ye+Ae.width,0),K=S.slice(_.length);return{within:_,extra:K,withinWidth:H}},z4=o=>ne(o,u=>u.element),Z4=(o,u,p)=>{const S=z4(o.concat(u));return a7(S,[],p)},TF=(o,u,p,S)=>{const _=z4(o).concat([p]);return a7(_,z4(u),S)},CF=(o,u,p)=>a7(z4(o),[],p),DJ=(o,u,p)=>{const S=Sd(u,o,p);return S.extra.length===0?L.some(S):L.none()},kF=(o,u,p,S)=>{const _=DJ(o,u,p).getOrThunk(()=>Sd(u,o-p(S),p)),H=_.within,K=_.extra,ye=_.withinWidth;return K.length===1&&K[0].width<=p(S)?Z4(H,K,ye):K.length>=1?TF(H,K,S,ye):CF(H,K,ye)},AF=(o,u)=>{const p=ne(u,S=>rf(S));Km.setGroups(o,p)},$J=o=>Xe(o,u=>ld(u.element).bind(p=>u.getSystem().getByDom(p).toOptional())),PF=(o,u,p)=>{const S=u.builtGroups.get();if(S.length===0)return;const _=zm(o,u,"primary"),H=Mi.getCoupled(o,"overflowGroup");Po(_.element,"visibility","hidden");const K=S.concat([H]),ye=$J(K);p([]),AF(_,K);const Ae=Si(_.element),Ne=kF(Ae,u.builtGroups.get(),Ue=>Si(Ue.element),H);Ne.extra.length===0?(Uo.remove(_,H),p([])):(AF(_,Ne.within),p(Ne.extra)),Ho(_.element,"visibility"),ci(_.element),ye.each(Mo.focus)},MF=Q([tl("splitToolbarBehaviours",[Mi]),ni("builtGroups",()=>G([]))]),LJ=Q([Ig(["overflowToggledClass"]),td("getOverflowBounds"),er("lazySink"),ni("overflowGroups",()=>G([])),Rs("onOpened"),Rs("onClosed")].concat(MF())),IJ=Q([uc({factory:Km,schema:Q2(),name:"primary"}),fd({schema:Q2(),name:"overflow"}),fd({name:"overflow-button"}),fd({name:"overflow-group"})]),i7=Q((o,u)=>{HS(o,Math.floor(u))}),EF=Q([Ig(["toggledClass"]),er("lazySink"),Ku("fetch"),td("getBounds"),Cc("fireDismissalEventInstead",[Mn("event",Mg())]),Qg(),Rs("onToggled")]),_F=Q([fd({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pr([as.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),fd({factory:Km,schema:Q2(),name:"toolbar",overrides:o=>({toolbarBehaviours:pr([yo.config({mode:"cyclic",onEscape:u=>(ka(u,o,"button").each(Mo.focus),L.none())})])})})]),WC=gs(),NJ=(o,u)=>{WC.set(!0),l7(o,u),WC.clear()},l7=(o,u)=>{const p=Mi.getCoupled(o,"toolbarSandbox");As.isOpen(p)?As.close(p):As.open(p,u.toolbar())},H4=(o,u,p,S)=>{const _=p.getBounds.map(K=>K()),H=p.lazySink(o).getOrDie();cc.positionWithinBounds(H,u,{anchor:{type:"hotspot",hotspot:o,layouts:S,overrides:{maxWidthFunction:i7()}}},_)},c7=(o,u,p,S,_)=>{Km.setGroups(u,_),H4(o,u,p,S),as.on(o)},RF=(o,u,p)=>{const S=av(),_=(K,ye)=>{const Ae=WC.get().getOr(!1);p.fetch().get(Ne=>{c7(o,ye,p,u.layouts,Ne),S.link(o.element),Ae||yo.focusIn(ye)})},H=()=>{as.off(o),WC.get().getOr(!1)||Mo.focus(o),S.unlink(o.element)};return{dom:{tag:"div",attributes:{id:S.id}},behaviours:pr([yo.config({mode:"special",onEscape:K=>(As.close(K),L.some(!0))}),As.config({onOpen:_,onClose:H,isPartOf:(K,ye,Ae)=>Rm(ye,Ae)||Rm(o,Ae),getAttachPoint:()=>p.lazySink(o).getOrDie()}),cu.config({channels:{...fb({isExtraPart:X,...p.fireDismissalEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({})}),...j0({doReposition:()=>{As.getState(Mi.getCoupled(o,"toolbarSandbox")).each(K=>{H4(o,K,p,u.layouts)})}})}})])}},A1=fc({name:"FloatingToolbarButton",factory:(o,u,p,S)=>({...Ll.sketch({...S.button(),action:_=>{l7(_,S)},buttonBehaviours:Bf.augment({dump:S.button().buttonBehaviours},[Mi.config({others:{toolbarSandbox:_=>RF(_,p,o)}})])}),apis:{setGroups:(_,H)=>{As.getState(Mi.getCoupled(_,"toolbarSandbox")).each(K=>{c7(_,K,o,p.layouts,H)})},reposition:_=>{As.getState(Mi.getCoupled(_,"toolbarSandbox")).each(H=>{H4(_,H,o,p.layouts)})},toggle:_=>{l7(_,S)},toggleWithoutFocusing:_=>{NJ(_,S)},getToolbar:_=>As.getState(Mi.getCoupled(_,"toolbarSandbox")),isOpen:_=>As.isOpen(Mi.getCoupled(_,"toolbarSandbox"))}}),configFields:EF(),partFields:_F(),apis:{setGroups:(o,u,p)=>{o.setGroups(u,p)},reposition:(o,u)=>{o.reposition(u)},toggle:(o,u)=>{o.toggle(u)},toggleWithoutFocusing:(o,u)=>{o.toggleWithoutFocusing(u)},getToolbar:(o,u)=>o.getToolbar(u),isOpen:(o,u)=>o.isOpen(u)}}),BJ=Q([er("items"),Ig(["itemSelector"]),tl("tgroupBehaviours",[yo])]),DF=Q([Ob({name:"items",unit:"item"})]),QJ=(o,u,p,S)=>({uid:o.uid,dom:o.dom,components:u,behaviours:Ni(o.tgroupBehaviours,[yo.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),U4=fc({name:"ToolbarGroup",configFields:BJ(),partFields:DF(),factory:QJ}),$F=o=>ne(o,u=>rf(u)),LF=(o,u,p)=>{PF(o,p,S=>{p.overflowGroups.set(S),u.getOpt(o).each(_=>{A1.setGroups(_,$F(S))})})},FJ=(o,u,p,S)=>{const _=ia(A1.sketch({fetch:()=>Ic.nu(H=>{H($F(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Kl,fl],onRtl:()=>[fl,Kl],onBottomLtr:()=>[lc,Xc],onBottomRtl:()=>[Xc,lc]},getBounds:p.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:S["overflow-button"](),toolbar:S.overflow()},onToggled:(H,K)=>o[K?"onOpened":"onClosed"](H)}));return{uid:o.uid,dom:o.dom,components:u,behaviours:Ni(o.splitToolbarBehaviours,[Mi.config({others:{overflowGroup:()=>U4.sketch({...S["overflow-group"](),items:[_.asSpec()]})}})]),apis:{setGroups:(H,K)=>{o.builtGroups.set(ne(K,H.getSystem().build)),LF(H,_,o)},refresh:H=>LF(H,_,o),toggle:H=>{_.getOpt(H).each(K=>{A1.toggle(K)})},toggleWithoutFocusing:H=>{_.getOpt(H).each(A1.toggleWithoutFocusing)},isOpen:H=>_.getOpt(H).map(A1.isOpen).getOr(!1),reposition:H=>{_.getOpt(H).each(K=>{A1.reposition(K)})},getOverflow:H=>_.getOpt(H).bind(A1.getToolbar)},domModification:{attributes:{role:"group"}}}},IF=fc({name:"SplitFloatingToolbar",configFields:LJ(),partFields:IJ(),factory:FJ,apis:{setGroups:(o,u,p)=>{o.setGroups(u,p)},refresh:(o,u)=>{o.refresh(u)},reposition:(o,u)=>{o.reposition(u)},toggle:(o,u)=>{o.toggle(u)},toggleWithoutFocusing:(o,u)=>{o.toggle(u)},isOpen:(o,u)=>o.isOpen(u),getOverflow:(o,u)=>o.getOverflow(u)}}),VJ=Q([Ig(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Rs("onOpened"),Rs("onClosed")].concat(MF())),zJ=Q([uc({factory:Km,schema:Q2(),name:"primary"}),uc({factory:Km,schema:Q2(),name:"overflow",overrides:o=>({toolbarBehaviours:pr([Zf.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:u=>{ka(u,o,"overflow-button").each(p=>{as.off(p),Mo.focus(p)}),o.onClosed(u)},onGrown:u=>{yo.focusIn(u),o.onOpened(u)},onStartGrow:u=>{ka(u,o,"overflow-button").each(as.on)}}),yo.config({mode:"acyclic",onEscape:u=>(ka(u,o,"overflow-button").each(Mo.focus),L.some(!0))})])})}),fd({name:"overflow-button",overrides:o=>({buttonBehaviours:pr([as.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),fd({name:"overflow-group"})]),ZJ=(o,u)=>ka(o,u,"overflow").map(Zf.hasGrown).getOr(!1),NF=(o,u)=>{ka(o,u,"overflow-button").bind(()=>ka(o,u,"overflow")).each(p=>{W4(o,u),Zf.toggleGrow(p)})},W4=(o,u)=>{ka(o,u,"overflow").each(p=>{PF(o,u,S=>{const _=ne(S,H=>rf(H));Km.setGroups(p,_)}),ka(o,u,"overflow-button").each(S=>{Zf.hasGrown(p)&&as.on(S)}),Zf.refresh(p)})},HJ=(o,u,p,S)=>{const _="alloy.toolbar.toggle",H=(K,ye)=>{const Ae=ne(ye,K.getSystem().build);o.builtGroups.set(Ae)};return{uid:o.uid,dom:o.dom,components:u,behaviours:Ni(o.splitToolbarBehaviours,[Mi.config({others:{overflowGroup:K=>U4.sketch({...S["overflow-group"](),items:[Ll.sketch({...S["overflow-button"](),action:ye=>{ks(K,_)}})]})}}),Jo("toolbar-toggle-events",[qn(_,K=>{NF(K,o)})])]),apis:{setGroups:(K,ye)=>{H(K,ye),W4(K,o)},refresh:K=>W4(K,o),toggle:K=>NF(K,o),isOpen:K=>ZJ(K,o)},domModification:{attributes:{role:"group"}}}},u7=fc({name:"SplitSlidingToolbar",configFields:VJ(),partFields:zJ(),factory:HJ,apis:{setGroups:(o,u,p)=>{o.setGroups(u,p)},refresh:(o,u)=>{o.refresh(u)},toggle:(o,u)=>{o.toggle(u)},isOpen:(o,u)=>o.isOpen(u)}}),Y4=o=>{const u=o.title.fold(()=>({}),p=>({attributes:{title:p}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...u},components:[U4.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:pr([ja.config({}),Mo.config({})])}},X4=o=>U4.sketch(Y4(o)),YC=(o,u)=>{const p=Ca(S=>{const _=ne(o.initGroups,X4);Km.setGroups(S,_)});return pr([nl.toolbarButton(o.providers.isDisabled),pl(),yo.config({mode:u,onEscape:o.onEscape,selector:".tox-toolbar__group"}),Jo("toolbar-events",[p])])},BF=o=>{const u=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Y4({title:L.none(),items:[]}),"overflow-button":Hq({name:"more",icon:L.some("more-drawer"),enabled:!0,tooltip:L.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:L.none(),borderless:!1},L.none(),o.providers)},splitToolbarBehaviours:YC(o,u)}},QF=o=>{const u=BF(o),p=4,S=IF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return IF.sketch({...u,lazySink:o.getSink,getOverflowBounds:()=>{const _=o.moreDrawerData.lazyHeader().element,H=Cu(_),K=pn(_),ye=Cu(K),Ae=Math.max(K.dom.scrollHeight,ye.height);return ti(H.x+p,ye.y,H.width-p*2,Ae)},parts:{...u.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[S],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:_=>o.onToggled(_,!0),onClosed:_=>o.onToggled(_,!1)})},UJ=o=>{const u=u7.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),p=u7.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),S=BF(o);return u7.sketch({...S,components:[u,p],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:_=>{_.getSystem().broadcastOn([k1()],{type:"opened"}),o.onToggled(_,!0)},onClosed:_=>{_.getSystem().broadcastOn([k1()],{type:"closed"}),o.onToggled(_,!1)}})},G4=o=>{const u=o.cyclicKeying?"cyclic":"acyclic";return Km.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Vf.scrolling?["tox-toolbar--scrolling"]:[])},components:[Km.parts.groups({})],toolbarBehaviours:YC(o,u)})},WJ=[rp,gd,cl("tooltip"),Uc("buttonType","secondary",["primary","secondary"]),Wi("borderless",!1),Ku("onAction")],YJ=[...WJ,kv,$f("type",["button"])],XJ=[...WJ,Wi("active",!1),$f("type",["togglebutton"])],j4={button:YJ,togglebutton:XJ},GJ=[$f("type",["group"]),Ac("buttons",[],xs("type",j4))],q4=xs("type",{...j4,group:GJ}),FF=uo([Ac("buttons",[],q4),Ku("onShow"),Ku("onHide")]),VF=o=>da("view",FF,o),f7=(o,u)=>{var p,S;const _=o.type==="togglebutton",H=o.icon.map(kn=>S1(kn,u.icons)).map(ia),ye=(()=>kn=>{const Zn=Or=>{H.map(Mr=>Mr.getOpt(kn).each(is=>{Uo.set(is,[S1(Or,u.icons)])}))},mr=Or=>{const Mr=kn.element;Or?(ki(Mr,"tox-button--enabled"),Dr(Mr,"aria-pressed",!0)):(Ga(Mr,"tox-button--enabled"),sa(Mr,"aria-pressed"))},Gn=()=>el(kn.element,"tox-button--enabled");if(_)return o.onAction({setIcon:Zn,setActive:mr,isActive:Gn});if(o.type==="button")return o.onAction({setIcon:Zn})})(),Ae={...o,name:_?o.text.getOr(o.icon.getOr("")):(p=o.text)!==null&&p!==void 0?p:o.icon.getOr(""),primary:o.buttonType==="primary",buttonType:L.from(o.buttonType),tooltip:o.tooltip,icon:o.icon,enabled:!0,borderless:o.borderless},Ne=T6((S=o.buttonType)!==null&&S!==void 0?S:"secondary"),Ue=_?o.text.map(u.translate):L.some(u.translate(o.text)),Je=Ue.map(yi),st=Ae.tooltip.or(Ue).map(kn=>({"aria-label":u.translate(kn),title:u.translate(kn)})).getOr({}),ht=H.map(kn=>kn.asSpec()),At=b2([ht,Je]),qt=o.icon.isSome()&&Je.isSome(),Dn={tag:"button",classes:Ne.concat(...o.icon.isSome()&&!qt?["tox-button--icon"]:[]).concat(...qt?["tox-button--icon-and-text"]:[]).concat(...o.borderless?["tox-button--naked"]:[]).concat(...o.type==="togglebutton"&&o.active?["tox-button--enabled"]:[]),attributes:st},mn=[],sn=T4(Ae,L.some(ye),mn,Dn,At,u);return Ll.sketch(sn)},zF=(o,u)=>f7(o,u),ZF=(o,u)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:ne(o.buttons,p=>zF(p,u))}),Gb=Kf().deviceType,HF=Gb.isPhone(),jJ=Gb.isTablet(),qJ=o=>{let u=!1;const p=ne(o.buttons,S=>S.type==="group"?(u=!0,ZF(S,o.providers)):zF(S,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[u?"tox-view__toolbar":"tox-view__header",...HF||jJ?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:pr([Mo.config({}),yo.config({mode:"flow",selector:"button, .tox-button",focusInside:j.OnEnterOrSpaceMode})]),components:u?p:[jm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),jm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:p})]}},KJ=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),d7=(o,u,p,S)=>{const _={getPane:H=>Sl.getPart(H,o,"pane"),getOnShow:H=>o.viewConfig.onShow,getOnHide:H=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:u,apis:_}};var z2=fc({name:"silver.View",configFields:[er("viewConfig")],partFields:[du({factory:{sketch:qJ},schema:[er("buttons"),er("providers")],name:"header"}),du({factory:{sketch:KJ},schema:[],name:"pane"})],factory:d7,apis:{getPane:(o,u)=>o.getPane(u),getOnShow:(o,u)=>o.getOnShow(u),getOnHide:(o,u)=>o.getOnHide(u)}});const JJ=(o,u,p)=>Xt(u,(S,_)=>{const H=aa(VF(S));return o.slot(_,z2.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:H,components:[...H.buttons.length>0?[z2.parts.header({buttons:H.buttons,providers:p})]:[],z2.parts.pane({})]}))}),UF=(o,u)=>vu.sketch(p=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:JJ(p,o,u),slotBehaviours:rC.unnamedEvents([Ca(S=>vu.hideAllSlots(S))])})),h7=o=>Ve(vu.getSlotNames(o),u=>vu.isShowing(o,u)),K4=o=>{const u=o.element;Po(u,"display","none"),Dr(u,"aria-hidden","true")},m7=o=>{const u=o.element;Ho(u,"display"),sa(u,"aria-hidden")},eee=o=>({getContainer:Q(o)}),WF=(o,u,p)=>{vu.getSlot(o,u).each(S=>{z2.getPane(S).each(_=>{p(S)(eee(_.element.dom))})})},YF=(o,u)=>WF(o,u,z2.getOnShow),tee=(o,u)=>WF(o,u,z2.getOnHide);var J4=Du({factory:(o,u)=>{const H={setViews:(K,ye)=>{Uo.set(K,[UF(ye,u.backstage.shared.providers)])},whichView:K=>Ss.getCurrent(K).bind(h7),toggleView:(K,ye,Ae,Ne)=>Ss.getCurrent(K).exists(Ue=>{const Je=h7(Ue),st=Je.exists(At=>Ne===At),ht=vu.getSlot(Ue,Ne).isSome();return ht&&(vu.hideAllSlots(Ue),st?(K4(K),ye()):(Ae(),m7(K),vu.showSlot(Ue,Ne),YF(Ue,Ne)),Je.each(At=>tee(Ue,At))),ht})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pr([Uo.config({}),Ss.config({find:K=>{const ye=Uo.contents(K);return ke(ye)}})]),apis:H}},name:"silver.ViewWrapper",configFields:[er("backstage")],apis:{setViews:(o,u,p)=>o.setViews(u,p),toggleView:(o,u,p,S,_)=>o.toggleView(u,p,S,_),whichView:(o,u)=>o.whichView(u)}});const XF=(o,u,p)=>{let S=!1;const _={getSocket:H=>Sl.getPart(H,o,"socket"),setSidebar:(H,K,ye)=>{Sl.getPart(H,o,"sidebar").each(Ae=>TJ(Ae,K,ye))},toggleSidebar:(H,K)=>{Sl.getPart(H,o,"sidebar").each(ye=>CJ(ye,K))},whichSidebar:H=>Sl.getPart(H,o,"sidebar").bind(xF).getOrNull(),getHeader:H=>Sl.getPart(H,o,"header"),getToolbar:H=>Sl.getPart(H,o,"toolbar"),setToolbar:(H,K)=>{Sl.getPart(H,o,"toolbar").each(ye=>{const Ae=ne(K,X4);ye.getApis().setGroups(ye,Ae)})},setToolbars:(H,K)=>{Sl.getPart(H,o,"multiple-toolbar").each(ye=>{const Ae=ne(K,Ne=>ne(Ne,X4));R4.setItems(ye,Ae)})},refreshToolbar:H=>{Sl.getPart(H,o,"toolbar").each(ye=>ye.getApis().refresh(ye))},toggleToolbarDrawer:H=>{Sl.getPart(H,o,"toolbar").each(K=>{Sn(K.getApis().toggle,ye=>ye(K))})},toggleToolbarDrawerWithoutFocusing:H=>{Sl.getPart(H,o,"toolbar").each(K=>{Sn(K.getApis().toggleWithoutFocusing,ye=>ye(K))})},isToolbarDrawerToggled:H=>Sl.getPart(H,o,"toolbar").bind(K=>L.from(K.getApis().isOpen).map(ye=>ye(K))).getOr(!1),getThrobber:H=>Sl.getPart(H,o,"throbber"),focusToolbar:H=>{Sl.getPart(H,o,"toolbar").orThunk(()=>Sl.getPart(H,o,"multiple-toolbar")).each(ye=>{yo.focusIn(ye)})},setMenubar:(H,K)=>{Sl.getPart(H,o,"menubar").each(ye=>{e7.setMenus(ye,K)})},focusMenubar:H=>{Sl.getPart(H,o,"menubar").each(K=>{e7.focus(K)})},setViews:(H,K)=>{Sl.getPart(H,o,"viewWrapper").each(ye=>{J4.setViews(ye,K)})},toggleView:(H,K)=>Sl.getPart(H,o,"viewWrapper").exists(ye=>J4.toggleView(ye,()=>_.showMainView(H),()=>_.hideMainView(H),K)),whichView:H=>Sl.getPart(H,o,"viewWrapper").bind(J4.whichView).getOrNull(),hideMainView:H=>{S=_.isToolbarDrawerToggled(H),S&&_.toggleToolbarDrawer(H),Sl.getPart(H,o,"editorContainer").each(K=>{const ye=K.element;Po(ye,"display","none"),Dr(ye,"aria-hidden","true")})},showMainView:H=>{S&&_.toggleToolbarDrawer(H),Sl.getPart(H,o,"editorContainer").each(K=>{const ye=K.element;Ho(ye,"display"),sa(ye,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:u,apis:_,behaviours:o.behaviours}},nee=mp.optional({factory:e7,name:"menubar",schema:[er("backstage")]}),ree=o=>o.type===Vf.sliding?UJ:o.type===Vf.floating?QF:G4,g7=mp.optional({factory:{sketch:o=>R4.sketch({uid:o.uid,dom:o.dom,listBehaviours:pr([yo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>G4({type:o.type,uid:Kr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),L.some(!0))}),setupItem:(u,p,S,_)=>{Km.setGroups(p,S)},shell:!0})},name:"multiple-toolbar",schema:[er("dom"),er("onEscape")]}),oee=mp.optional({factory:{sketch:o=>{const u=ree(o),p={type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),L.some(!0)),onToggled:(S,_)=>o.onToolbarToggled(_),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes};return u(p)}},name:"toolbar",schema:[er("dom"),er("onEscape"),er("getSink")]}),see=mp.optional({factory:{sketch:vF},name:"header",schema:[er("dom")]}),GF=mp.optional({factory:{sketch:vJ},name:"promotion",schema:[er("dom")]}),aee=mp.optional({name:"socket",schema:[er("dom")]}),jF=mp.optional({factory:{sketch:kJ},name:"sidebar",schema:[er("dom")]}),iee=mp.optional({factory:{sketch:EJ},name:"throbber",schema:[er("dom")]}),qF=mp.optional({factory:J4,name:"viewWrapper",schema:[er("backstage")]}),lee=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components}),cee=mp.optional({factory:{sketch:lee},name:"editorContainer",schema:[]});var La=fc({name:"OuterContainer",factory:XF,configFields:[er("dom"),er("behaviours")],partFields:[see,nee,oee,g7,aee,jF,GF,iee,qF,cee],apis:{getSocket:(o,u)=>o.getSocket(u),setSidebar:(o,u,p,S)=>{o.setSidebar(u,p,S)},toggleSidebar:(o,u,p)=>{o.toggleSidebar(u,p)},whichSidebar:(o,u)=>o.whichSidebar(u),getHeader:(o,u)=>o.getHeader(u),getToolbar:(o,u)=>o.getToolbar(u),setToolbar:(o,u,p)=>{o.setToolbar(u,p)},setToolbars:(o,u,p)=>{o.setToolbars(u,p)},refreshToolbar:(o,u)=>o.refreshToolbar(u),toggleToolbarDrawer:(o,u)=>{o.toggleToolbarDrawer(u)},toggleToolbarDrawerWithoutFocusing:(o,u)=>{o.toggleToolbarDrawerWithoutFocusing(u)},isToolbarDrawerToggled:(o,u)=>o.isToolbarDrawerToggled(u),getThrobber:(o,u)=>o.getThrobber(u),setMenubar:(o,u,p)=>{o.setMenubar(u,p)},focusMenubar:(o,u)=>{o.focusMenubar(u)},focusToolbar:(o,u)=>{o.focusToolbar(u)},setViews:(o,u,p)=>{o.setViews(u,p)},toggleView:(o,u,p)=>o.toggleView(u,p),whichView:(o,u)=>o.whichView(u)}});const KF="file edit view insert format tools table help",JF={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},uee=(o,u,p)=>{const S=sR(p).split(/[ ,]/);return{text:o.title,getItems:()=>re(o.items,_=>{const H=_.toLowerCase();return H.trim().length===0?[]:we(S,K=>K===H)?[]:H==="separator"||H==="|"?[{type:"separator"}]:u.menuItems[H]?[u.menuItems[H]]:[]})}},p7=o=>o.split(" "),eP=(o,u)=>{const p={...JF,...u.menus},S=ct(u.menus).length>0,_=u.menubar===void 0||u.menubar===!0?p7(KF):p7(u.menubar===!1?"":u.menubar),H=Oe(_,ye=>{const Ae=vn(JF,ye);return S?Ae||Bt(u.menus,ye).exists(Ne=>vn(Ne,"items")):Ae}),K=ne(H,ye=>{const Ae=p[ye];return uee({title:Ae.title,items:p7(Ae.items)},u,o)});return Oe(K,ye=>{const Ae=Ne=>h(Ne)||Ne.type!=="separator";return ye.getItems().length>0&&we(ye.getItems(),Ae)})},v7=o=>{const u=()=>{o._skinLoaded=!0,kX(o)};return()=>{o.initialized?u():o.on("init",u)}},fee=(o,u)=>()=>t8(o,{message:u}),eV=(o,u,p)=>(o.on("remove",()=>p.unload(u)),p.load(u)),y7=(o,u,p,S)=>(o.on("remove",()=>S.unloadRawCss(u)),S.loadRawCss(u,p)),dee=async(o,u)=>{const S="ui/"+hR(o).getOr("default")+"/skin.css",_=tinymce.Resource.get(S);if(h(_))return Promise.resolve(y7(o,S,_,o.ui.styleSheetLoader));{const H=u+"/skin.min.css";return eV(o,H,o.ui.styleSheetLoader)}},hee=async(o,u)=>{if(Ya(zt.fromDom(o.getElement()))){const S=u+"/skin.shadowdom.css",_=tinymce.Resource.get(S);if(h(_))return y7(o,S,_,Ib.DOM.styleSheetLoader),Promise.resolve();{const H=u+"/skin.shadowdom.min.css";return eV(o,H,Ib.DOM.styleSheetLoader)}}},mee=async(o,u)=>{hR(u).fold(()=>{const S=c5(u);S&&u.contentCSS.push(S+(o?"/content.inline":"/content")+".min.css")},S=>{const _="ui/"+S+(o?"/content.inline":"/content")+".css",H=tinymce.Resource.get(_);if(h(H))y7(u,_,H,u.ui.styleSheetLoader);else{const K=c5(u);K&&u.contentCSS.push(K+(o?"/content.inline":"/content")+".min.css")}});const p=c5(u);if(!dR(u)&&h(p))return Promise.all([dee(u,p),hee(u,p)]).then()},tV=(o,u)=>mee(o,u).then(v7(u),fee(u,"Skin could not be loaded")),gee=F(tV,!1),pee=F(tV,!0),jb=(o,u,p)=>o.translate([`${u} {0}`,o.translate(p)]),tP=(o,u,p)=>{const S=(ye,Ae,Ne,Ue)=>{const Je=u.shared.providers.translate(ye.title);if(ye.type==="separator")return L.some({type:"separator",text:Je});if(ye.type==="submenu"){const st=re(ye.getStyleItems(),ht=>_(ht,Ae,Ue));return Ae===0&&st.length<=0?L.none():L.some({type:"nestedmenuitem",text:Je,enabled:st.length>0,getSubmenuItems:()=>re(ye.getStyleItems(),ht=>_(ht,Ae,Ue))})}else return L.some({type:"togglemenuitem",text:Je,icon:ye.icon,active:ye.isSelected(Ue),enabled:!Ne,onAction:p.onAction(ye),...ye.getStylePreview().fold(()=>({}),st=>({meta:{style:st}}))})},_=(ye,Ae,Ne)=>{const Ue=ye.type==="formatter"&&p.isInvalid(ye);return Ae===0?Ue?[]:S(ye,Ae,!1,Ne).toArray():S(ye,Ae,Ue,Ne).toArray()},H=ye=>{const Ae=p.getCurrentValue(),Ne=p.shouldHide?0:1;return re(ye,Ue=>_(Ue,Ne,Ae))};return{validateItems:H,getFetch:(ye,Ae)=>(Ne,Ue)=>{const Je=Ae(),st=H(Je),ht=R2(st,Gm.CLOSE_ON_EXECUTE,ye,{isHorizontalMenu:!1,search:L.none()});Ue(ht)}}},P1=(o,u,p)=>{const S=p.dataset,_=S.type==="basic"?()=>ne(S.data,H=>_6(H,p.isSelectedFor,p.getPreviewFor)):S.getData;return{items:tP(o,u,p),getStyleItems:_}},Z2=(o,u,p,S,_)=>{const{items:H,getStyleItems:K}=P1(o,u,p),ye=Ne=>({getComponent:Q(Ne),setTooltip:Ue=>{const Je=u.shared.providers.translate(Ue);Oc(Ne.element,{"aria-label":Je,title:Je})}}),Ae=Ne=>{const Ue=Je=>Ne.setTooltip(jb(o,S,Je.value));return o.on(_,Ue),lC(Uh(o,"NodeChange",Je=>{const st=Je.getComponent();p.updateText(st),Co.set(Je.getComponent(),!o.selection.isEditable())})(Ne),()=>o.off(_,Ue))};return g4({text:p.icon.isSome()?L.none():p.text,icon:p.icon,tooltip:L.from(p.tooltip),role:L.none(),fetch:H.getFetch(u,K),onSetup:Ae,getApi:ye,columns:1,presets:"normal",classes:p.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",u.shared)},M1=o=>ne(o,u=>{let p=u,S=u;const _=u.split("=");return _.length>1&&(p=_[0],S=_[1]),{title:p,format:S}}),nV=o=>({type:"basic",data:o});var H2;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(H2||(H2={}));const vee=(o,u)=>u===H2.SemiColon?o.replace(/;$/,"").split(";"):o.split(" "),b7=(o,u,p)=>{const S=o.options.get(u);return{type:"basic",data:M1(vee(S,p))}},O7="Align",rV="left",x7=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],oV=o=>{const u=()=>Ve(x7,ye=>o.formatter.match(ye.format)),p=ye=>()=>o.formatter.match(ye),S=ye=>L.none,_=ye=>{const Ne=u().fold(Q(rV),Ue=>Ue.title.toLowerCase());vo(ye,w1,{icon:`align-${Ne}`}),EX(o,{value:Ne})},H=nV(x7),K=ye=>()=>Ve(x7,Ae=>Ae.format===ye.format).each(Ae=>o.execCommand(Ae.command));return{tooltip:jb(o,O7,rV),text:L.none(),icon:L.some("align-left"),isSelectedFor:p,getCurrentValue:L.none,getPreviewFor:S,onAction:K,updateText:_,dataset:H,shouldHide:!1,isInvalid:ye=>!o.formatter.canApply(ye.format)}},sV=(o,u)=>Z2(o,u,oV(o),O7,"AlignTextUpdate"),yee=(o,u)=>{const p=P1(o,u,oV(o));o.ui.registry.addNestedMenuItem("align",{text:u.shared.providers.translate(O7),onSetup:pu(o),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},aV=(o,u)=>{const p=u(),S=ne(p,_=>_.format);return L.from(o.formatter.closest(S)).bind(_=>Ve(p,H=>H.format===_)).orThunk(()=>lt(o.formatter.match("p"),{title:"Paragraph",format:"p"}))},XC="Blocks",S7="Paragraph",iV=o=>{const u=H=>()=>o.formatter.match(H),p=H=>()=>{const K=o.formatter.get(H);return K?L.some({tag:K.length>0&&(K[0].inline||K[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(H))}):L.none()},S=H=>{const ye=aV(o,()=>_.data).fold(Q(S7),Ae=>Ae.title);vo(H,sh,{text:ye}),JI(o,{value:ye})},_=b7(o,"block_formats",H2.SemiColon);return{tooltip:jb(o,XC,S7),text:L.some(S7),icon:L.none(),isSelectedFor:u,getCurrentValue:L.none,getPreviewFor:p,onAction:tN(o),updateText:S,dataset:_,shouldHide:!1,isInvalid:H=>!o.formatter.canApply(H.format)}},bee=(o,u)=>Z2(o,u,iV(o),XC,"BlocksTextUpdate"),Oee=(o,u)=>{const p=P1(o,u,iV(o));o.ui.registry.addNestedMenuItem("blocks",{text:XC,onSetup:pu(o),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},w7="Fonts",T7="System Font",lV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],C7=o=>{const u=o.split(/\s*,\s*/);return ne(u,p=>p.replace(/^['"]+|['"]+$/g,""))},k7=(o,u)=>u.length>0&&be(u,p=>o.indexOf(p.toLowerCase())>-1),xee=(o,u)=>{if(o.indexOf("-apple-system")===0||u.length>0){const p=C7(o.toLowerCase());return k7(p,lV)||k7(p,u)}else return!1},A7=o=>{const u=()=>{const Ae=At=>At?C7(At)[0]:"",Ne=o.queryCommandValue("FontName"),Ue=ye.data,Je=Ne?Ne.toLowerCase():"",st=QL(o);return{matchOpt:Ve(Ue,At=>{const qt=At.format;return qt.toLowerCase()===Je||Ae(qt).toLowerCase()===Ae(Je).toLowerCase()}).orThunk(()=>lt(xee(Je,st),{title:T7,format:Je})),font:Ne}},p=Ae=>Ne=>Ne.exists(Ue=>Ue.format===Ae),S=()=>{const{matchOpt:Ae}=u();return Ae},_=Ae=>()=>L.some({tag:"div",styles:Ae.indexOf("dings")===-1?{"font-family":Ae}:{}}),H=Ae=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,Ae.format)})},K=Ae=>{const{matchOpt:Ne,font:Ue}=u(),Je=Ne.fold(Q(Ue),st=>st.title);vo(Ae,sh,{text:Je}),eN(o,{value:Je})},ye=b7(o,"font_family_formats",H2.SemiColon);return{tooltip:jb(o,w7,T7),text:L.some(T7),icon:L.none(),isSelectedFor:p,getCurrentValue:S,getPreviewFor:_,onAction:H,updateText:K,dataset:ye,shouldHide:!1,isInvalid:X}},See=(o,u)=>Z2(o,u,A7(o),w7,"FontFamilyTextUpdate"),wee=(o,u)=>{const p=P1(o,u,A7(o));o.ui.registry.addNestedMenuItem("fontfamily",{text:u.shared.providers.translate(w7),onSetup:pu(o),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},Tee={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},cV=(()=>{const o="[0-9]+",p="[eE]"+("[+-]?"+o),S="\\.",_=ye=>`(?:${ye})?`,K=`[+-]?(?:${["Infinity",o+S+_(o)+_(p),S+o+_(p),o+_(p)].join("|")})`;return new RegExp(`^(${K})(.*)$`)})(),Cee=(o,u)=>we(u,p=>we(Tee[p],S=>o===S)),GC=(o,u)=>L.from(cV.exec(o)).bind(S=>{const _=Number(S[1]),H=S[2];return Cee(H,u)?L.some({value:_,unit:H}):L.none()}),kee=(o,u)=>GC(o,u).map(({value:p,unit:S})=>p+S),uV={tab:Q(9),escape:Q(27),enter:Q(13),backspace:Q(8),delete:Q(46),left:Q(37),up:Q(38),right:Q(39),down:Q(40),space:Q(32),home:Q(36),end:Q(35),pageUp:Q(33),pageDown:Q(34)},Aee=(o,u,p)=>{let S=L.none();const _=sn=>sn.map(kn=>Fr.getValue(kn)).getOr(""),H=Uh(o,"NodeChange SwitchMode",sn=>{const kn=sn.getComponent();S=L.some(kn),p.updateInputValue(kn),Co.set(kn,!o.selection.isEditable())}),K=sn=>({getComponent:Q(sn)}),ye=G(M),Ae=Kr("custom-number-input-events"),Ne=(sn,kn,Zn)=>{const mr=_(S),Gn=p.getNewValue(mr,sn),Or=mr.length-`${Gn}`.length,Mr=S.map(Gr=>Gr.element.dom.selectionStart-Or),is=S.map(Gr=>Gr.element.dom.selectionEnd-Or);p.onAction(Gn,Zn),S.each(Gr=>{Fr.setValue(Gr,Gn),kn&&(Mr.each(Io=>Gr.element.dom.selectionStart=Io),is.each(Io=>Gr.element.dom.selectionEnd=Io))})},Ue=(sn,kn)=>Ne((Zn,mr)=>Zn-mr,sn,kn),Je=(sn,kn)=>Ne((Zn,mr)=>Zn+mr,sn,kn),st=sn=>dr(sn.element).fold(L.none,kn=>(uu(kn),L.some(!0))),ht=sn=>Xy(sn.element)?(ko(sn.element).each(kn=>uu(kn)),L.some(!0)):L.none(),At=(sn,kn,Zn,mr)=>{const Gn=G(M),Or=u.shared.providers.translate(Zn),Mr=Kr("altExecuting"),is=Uh(o,"NodeChange SwitchMode",Io=>{Co.set(Io.getComponent(),!o.selection.isEditable())}),Gr=Io=>{Co.isDisabled(Io)||sn(!0)};return Ll.sketch({dom:{tag:"button",attributes:{title:Or,"aria-label":Or},classes:mr.concat(kn)},components:[m4(kn,u.shared.providers.icons)],buttonBehaviours:pr([Co.config({}),Jo(Mr,[d1({onSetup:is,getApi:K},Gn),sp({getApi:K},Gn),qn(_s(),(Io,_o)=>{(_o.event.raw.keyCode===uV.space()||_o.event.raw.keyCode===uV.enter())&&(Co.isDisabled(Io)||sn(!1))}),qn($i(),Gr),qn(ts(),Gr)])]),eventOrder:{[_s()]:[Mr,"keying"],[$i()]:[Mr,"alloy.base.behaviour"],[ts()]:[Mr,"alloy.base.behaviour"]}})},qt=ia(At(sn=>Ue(!1,sn),"minus","Decrease font size",[])),Dn=ia(At(sn=>Je(!1,sn),"plus","Increase font size",[])),mn=ia({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Bb.sketch({inputBehaviours:pr([Co.config({}),Jo(Ae,[d1({onSetup:H,getApi:K},ye),sp({getApi:K},ye)]),Jo("input-update-display-text",[qn(sh,(sn,kn)=>{Fr.setValue(sn,kn.event.text)}),qn(ms(),sn=>{p.onAction(Fr.getValue(sn))}),qn(Yi(),sn=>{p.onAction(Fr.getValue(sn))})]),yo.config({mode:"special",onEnter:sn=>(Ne(z,!0,!0),L.some(!0)),onEscape:st,onUp:sn=>(Je(!0,!1),L.some(!0)),onDown:sn=>(Ue(!0,!1),L.some(!0)),onLeft:(sn,kn)=>(kn.cut(),L.none()),onRight:(sn,kn)=>(kn.cut(),L.none())})])})],behaviours:pr([Mo.config({}),yo.config({mode:"special",onEnter:ht,onSpace:ht,onEscape:st}),Jo("input-wrapper-events",[qn(Lr(),sn=>{le([qt,Dn],kn=>{const Zn=zt.fromDom(kn.get(sn).element.dom);Xy(Zn)&&D0(Zn)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[qt.asSpec(),mn.asSpec(),Dn.asSpec()],behaviours:pr([Mo.config({}),yo.config({mode:"flow",focusInside:j.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:sn=>Xy(sn.element)?L.none():(uu(sn.element),L.some(!0))})])}},P7="Font sizes",fV="12pt",Pee={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Mee={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},dV=(o,u)=>{const p=Math.pow(10,u);return Math.round(o*p)/p},Eee=(o,u)=>/[0-9.]+px$/.test(o)?dV(parseInt(o,10)*72/96,u||0)+"pt":Bt(Mee,o).getOr(o),_ee=o=>Bt(Pee,o).getOr(""),hV=o=>{const u=()=>{let Ae=L.none();const Ne=ye.data,Ue=o.queryCommandValue("FontSize");if(Ue)for(let Je=3;Ae.isNone()&&Je>=0;Je--){const st=Eee(Ue,Je),ht=_ee(st);Ae=Ve(Ne,At=>At.format===Ue||At.format===st||At.format===ht)}return{matchOpt:Ae,size:Ue}},p=Ae=>Ne=>Ne.exists(Ue=>Ue.format===Ae),S=()=>{const{matchOpt:Ae}=u();return Ae},_=Q(L.none),H=Ae=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,Ae.format)})},K=Ae=>{const{matchOpt:Ne,size:Ue}=u(),Je=Ne.fold(Q(Ue),st=>st.title);vo(Ae,sh,{text:Je}),_X(o,{value:Je})},ye=b7(o,"font_size_formats",H2.Space);return{tooltip:jb(o,P7,fV),text:L.some(fV),icon:L.none(),isSelectedFor:p,getPreviewFor:_,getCurrentValue:S,onAction:H,updateText:K,dataset:ye,shouldHide:!1,isInvalid:X}},Ree=(o,u)=>Z2(o,u,hV(o),P7,"FontSizeTextUpdate"),Dee=o=>{var u;const p={step:1};return(u={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[o])!==null&&u!==void 0?u:p},$ee=16,Lee=o=>o>=0,mV=o=>{const u=()=>o.queryCommandValue("FontSize");return{updateInputValue:S=>vo(S,sh,{text:u()}),onAction:(S,_)=>o.execCommand("FontSize",!1,S,{skip_focus:!_}),getNewValue:(S,_)=>{GC(S,["unsupportedLength","empty"]);const H=u(),K=GC(S,["unsupportedLength","empty"]).or(GC(H,["unsupportedLength","empty"])),ye=K.map(st=>st.value).getOr($ee),Ae=$L(o),Ne=K.map(st=>st.unit).filter(st=>st!=="").getOr(Ae),Ue=_(ye,Dee(Ne).step),Je=`${Lee(Ue)?Ue:ye}${Ne}`;return Je!==H&&RX(o,{value:Je}),Je}}},Iee=(o,u)=>Aee(o,u,mV(o)),Nee=(o,u)=>{const p=P1(o,u,hV(o));o.ui.registry.addNestedMenuItem("fontsize",{text:P7,onSetup:pu(o),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},nP="Formats",gV=(o,u)=>{const p="Paragraph",S=K=>()=>o.formatter.match(K),_=K=>()=>{const ye=o.formatter.get(K);return ye!==void 0?L.some({tag:ye.length>0&&(ye[0].inline||ye[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(K))}):L.none()},H=K=>{const ye=Je=>A4(Je)?re(Je.items,ye):BQ(Je)?[{title:Je.title,format:Je.format}]:[],Ae=re(FQ(o),ye),Ue=aV(o,Q(Ae)).fold(Q(p),Je=>Je.title);vo(K,sh,{text:Ue}),MX(o,{value:Ue})};return{tooltip:jb(o,nP,p),text:L.some(p),icon:L.none(),isSelectedFor:S,getCurrentValue:L.none,getPreviewFor:_,onAction:tN(o),updateText:H,shouldHide:ML(o),isInvalid:K=>!o.formatter.canApply(K.format),dataset:u}},pV=(o,u)=>{const p={type:"advanced",...u.styles};return Z2(o,u,gV(o,p),nP,"StylesTextUpdate")},vV=(o,u)=>{const p={type:"advanced",...u.styles},S=P1(o,u,gV(o,p));o.ui.registry.addNestedMenuItem("styles",{text:nP,onSetup:pu(o),getSubmenuItems:()=>S.items.validateItems(S.getStyleItems())})},Bee=Q([er("toggleClass"),er("fetch"),Hd("onExecute"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",Q({})),Qg(),Hd("onItemExecute"),Ws("lazySink"),er("dom"),Rs("onOpen"),tl("splitDropdownBehaviours",[Mi,yo,Mo]),Mn("matchWidth",!1),Mn("useMinWidth",!1),Mn("eventOrder",{}),Ws("role")].concat(C8())),Qee=uc({factory:Ll,schema:[er("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pr([Mo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:u=>{u.getSystem().getByUid(o.uid).each(km)},buttonBehaviours:pr([as.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),Fee=uc({factory:Ll,schema:[er("dom")],name:"button",defaults:()=>({buttonBehaviours:pr([Mo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:u=>{u.getSystem().getByUid(o.uid).each(p=>{o.onExecute(p,u)})}})}),U2=Q([Qee,Fee,du({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[er("text")],name:"aria-descriptor"}),fd({schema:[Vy()],name:"menu",defaults:o=>({onExecute:(u,p)=>{u.getSystem().getByUid(o.uid).each(S=>{o.onItemExecute(S,u,p)})}})}),bN()]),Vee=(o,u,p,S)=>{const _=Ue=>{Ss.getCurrent(Ue).each(Je=>{Ys.highlightFirst(Je),yo.focusIn(Je)})},H=Ue=>{w8(o,z,Ue,S,_,gu.HighlightMenuAndItem).get(M)},K=Ue=>(H(Ue),L.some(!0)),ye=Ue=>{const Je=zm(Ue,o,"button");return km(Je),L.some(!0)},Ae={...Ea([Ca((Ue,Je)=>{ka(Ue,o,"aria-descriptor").each(ht=>{const At=Kr("aria");Dr(ht.element,"id",At),Dr(Ue.element,"aria-describedby",At)})})]),...Wm(L.some(H))},Ne={repositionMenus:Ue=>{as.isOn(Ue)&&wN(Ue)}};return{uid:o.uid,dom:o.dom,components:u,apis:Ne,eventOrder:{...o.eventOrder,[Ii()]:["disabling","toggling","alloy.base.behaviour"]},events:Ae,behaviours:Ni(o.splitDropdownBehaviours,[Mi.config({others:{sandbox:Ue=>{const Je=zm(Ue,o,"arrow");return T8(o,Ue,{onOpen:()=>{as.on(Je),as.on(Ue)},onClose:()=>{as.off(Je),as.off(Ue)}})}}}),yo.config({mode:"special",onSpace:ye,onEnter:ye,onDown:K}),Mo.config({}),as.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},rP=fc({name:"SplitDropdown",configFields:Bee(),partFields:U2(),factory:Vee,apis:{repositionMenus:(o,u)=>o.repositionMenus(u)}}),yV=o=>({isEnabled:()=>!Co.isDisabled(o),setEnabled:u=>Co.set(o,!u),setText:u=>vo(o,sh,{text:u}),setIcon:u=>vo(o,w1,{icon:u})}),zee=o=>({setActive:u=>{as.set(o,u)},isActive:()=>as.isOn(o),isEnabled:()=>!Co.isDisabled(o),setEnabled:u=>Co.set(o,!u),setText:u=>vo(o,sh,{text:u}),setIcon:u=>vo(o,w1,{icon:u})}),bV=(o,u)=>o.map(p=>({"aria-label":u.translate(p),title:u.translate(p)})).getOr({}),OV=Kr("focus-button"),M7=(o,u,p,S,_)=>{const H=u.map(ye=>ia(FB(ye,"tox-tbtn",_))),K=o.map(ye=>ia(S1(ye,_.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(u.isSome()?["tox-tbtn--select"]:[]),attributes:bV(p,_)},components:b2([K.map(ye=>ye.asSpec()),H.map(ye=>ye.asSpec())]),eventOrder:{[go()]:["focusing","alloy.base.behaviour",Ub],[tf()]:[Ub,"toolbar-group-button-events"]},buttonBehaviours:pr([nl.toolbarButton(_.isDisabled),pl(),Jo(Ub,[Ca((ye,Ae)=>PC(ye)),qn(sh,(ye,Ae)=>{H.bind(Ne=>Ne.getOpt(ye)).each(Ne=>{Uo.set(Ne,[yi(_.translate(Ae.event.text))])})}),qn(w1,(ye,Ae)=>{K.bind(Ne=>Ne.getOpt(ye)).each(Ne=>{Uo.set(Ne,[S1(Ae.event.icon,_.icons)])})}),qn(go(),(ye,Ae)=>{Ae.event.prevent(),ks(ye,OV)})])].concat(S.getOr([])))}},Zee=(o,u,p,S)=>{const _=u.shared,H=G(M),K={toolbarButtonBehaviours:[],getApi:yV,onSetup:o.onSetup},ye=[Jo("toolbar-group-button-events",[d1(K,H),sp(K,H)])];return A1.sketch({lazySink:_.getSink,fetch:()=>Ic.nu(Ae=>{Ae(ne(p(o.items),X4))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:M7(o.icon,o.text,o.tooltip,L.some(ye),_.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:S}}}})},oP=(o,u,p)=>{var S;const _=G(M),H=M7(o.icon,o.text,o.tooltip,L.none(),p);return Ll.sketch({dom:H.dom,components:H.components,eventOrder:BB,buttonBehaviours:{...pr([Jo("toolbar-button-events",[NB({onAction:o.onAction,getApi:u.getApi}),d1(u,_),sp(u,_)]),nl.toolbarButton(()=>!o.enabled||p.isDisabled()),pl()].concat(u.toolbarButtonBehaviours)),[Ub]:(S=H.buttonBehaviours)===null||S===void 0?void 0:S[Ub]}})},Hee=(o,u)=>xV(o,u,[]),xV=(o,u,p)=>oP(o,{toolbarButtonBehaviours:p.length>0?[Jo("toolbarButtonWith",p)]:[],getApi:yV,onSetup:o.onSetup},u),SV=(o,u)=>E7(o,u,[]),E7=(o,u,p)=>oP(o,{toolbarButtonBehaviours:[Uo.config({}),as.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(p.length>0?[Jo("toolbarToggleButtonWith",p)]:[]),getApi:zee,onSetup:o.onSetup},u),Uee=(o,u,p)=>S=>Ic.nu(_=>u.fetch(_)).map(_=>L.from(F5(Ta(p8(Kr("menu-value"),_,H=>{u.onItemAction(o(S),H)},u.columns,u.presets,Gm.CLOSE_ON_EXECUTE,u.select.getOr(X),p),{movement:I5(u.columns,u.presets),menuBehaviours:rC.unnamedEvents(u.columns!=="auto"?[]:[Ca((H,K)=>{zR(H,4,GL(u.presets)).each(({numRows:ye,numColumns:Ae})=>{yo.setGridSize(H,ye,Ae)})})])})))),Wee=(o,u)=>{const p=H=>({isEnabled:()=>!Co.isDisabled(H),setEnabled:K=>Co.set(H,!K),setIconFill:(K,ye)=>{Ai(H.element,`svg path[class="${K}"], rect[class="${K}"]`).each(Ae=>{Dr(Ae,"fill",ye)})},setActive:K=>{Dr(H.element,"aria-pressed",K),Ai(H.element,"span").each(ye=>{H.getSystem().getByDom(ye).each(Ae=>as.set(Ae,K))})},isActive:()=>Ai(H.element,"span").exists(K=>H.getSystem().getByDom(K).exists(as.isOn)),setText:K=>Ai(H.element,"span").each(ye=>H.getSystem().getByDom(ye).each(Ae=>vo(Ae,sh,{text:K}))),setIcon:K=>Ai(H.element,"span").each(ye=>H.getSystem().getByDom(ye).each(Ae=>vo(Ae,w1,{icon:K}))),setTooltip:K=>{const ye=u.providers.translate(K);Oc(H.element,{"aria-label":ye,title:ye})}}),S=G(M),_={getApi:p,onSetup:o.onSetup};return rP.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...bV(o.tooltip,u.providers)}},onExecute:H=>{const K=p(H);K.isEnabled()&&o.onAction(K)},onItemExecute:(H,K,ye)=>{},splitDropdownBehaviours:pr([nl.splitButton(u.providers.isDisabled),pl(),Jo("split-dropdown-events",[Ca((H,K)=>PC(H)),qn(OV,Mo.focus),d1(_,S),sp(_,S)]),vC.config({})]),eventOrder:{[tf()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:u.getSink,fetch:Uee(p,o,u.providers),parts:{menu:d2(!1,o.columns,o.presets)},components:[rP.parts.button(M7(o.icon,o.text,L.none(),L.some([as.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),u.providers)),rP.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:J_("chevron-down",u.providers.icons)},buttonBehaviours:pr([nl.splitButton(u.providers.isDisabled),pl(),e5()])}),rP.parts["aria-descriptor"]({text:u.providers.translate("To open the popup, press Shift+Enter")})]})},Yee=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],jC=(o,u)=>(p,S,_)=>{const H=o(p).mapError(K=>Wl(K)).getOrDie();return u(H,S,_)},Xee={button:jC(QR,(o,u)=>Hee(o,u.shared.providers)),togglebutton:jC(gI,(o,u)=>SV(o,u.shared.providers)),menubutton:jC(J6,(o,u)=>EC(o,"tox-tbtn",u,L.none(),!1)),splitbutton:jC(pJ,(o,u)=>Wee(o,u.shared)),grouptoolbarbutton:jC(mJ,(o,u,p)=>{const S=p.ui.registry.getAll().buttons,_=K=>aP(p,{buttons:S,toolbar:K,allowToolbarGroups:!1},u,L.none()),H={[N0]:u.shared.header.isPositionedAtTop()?Nf.TopToBottom:Nf.BottomToTop};switch(i2(p)){case Vf.floating:return Zee(o,u,_,H);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},Gee=(o,u,p)=>Bt(Xee,o.type).fold(()=>(console.error("skipping button defined by",o),L.none()),S=>L.some(S(o,u,p))),_7={styles:pV,fontsize:Ree,fontsizeinput:Iee,fontfamily:See,blocks:bee,align:sV},jee=o=>{const u=ne(Yee,p=>{const S=Oe(p.items,_=>vn(o,_)||vn(_7,_));return{name:p.name,items:S}});return Oe(u,p=>p.items.length>0)},qee=o=>{const u=o.split("|");return ne(u,p=>({items:p.trim().split(" ")}))},Kee=o=>R(o,u=>vn(u,"name")&&vn(u,"items")),Jee=o=>{const u=o.toolbar,p=o.buttons;return u===!1?[]:u===void 0||u===!0?jee(p):h(u)?qee(u):Kee(u)?u:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},sP=(o,u,p,S,_,H)=>Bt(u,p.toLowerCase()).orThunk(()=>H.bind(K=>Xe(K,ye=>Bt(u,ye+p.toLowerCase())))).fold(()=>Bt(_7,p.toLowerCase()).map(K=>K(o,_)),K=>K.type==="grouptoolbarbutton"&&!S?(console.warn(`Ignoring the '${p}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),L.none()):Gee(K,_,o)),aP=(o,u,p,S)=>{const _=Jee(u),H=ne(_,K=>{const ye=re(K.items,Ae=>Ae.trim().length===0?[]:sP(o,u.buttons,Ae,u.allowToolbarGroups,p,S).toArray());return{title:L.from(o.translate(K.name)),items:ye}});return Oe(H,K=>K.items.length>0)},qC=(o,u,p,S)=>{const _=u.mainUi.outerContainer,H=p.toolbar,K=p.buttons;if(R(H,h)){const ye=H.map(Ae=>{const Ne={toolbar:Ae,buttons:K,allowToolbarGroups:p.allowToolbarGroups};return aP(o,Ne,S,L.none())});La.setToolbars(_,ye)}else La.setToolbar(_,aP(o,p,S,L.none()))},KC=Kf(),wV=KC.os.isiOS()&&KC.os.version.major<=12,ete=(o,u)=>{const{uiMotherships:p}=u,S=o.dom;let _=o.getWin();const H=o.getDoc().documentElement,K=G(Is(_.innerWidth,_.innerHeight)),ye=G(Is(H.offsetWidth,H.offsetHeight)),Ae=()=>{const st=K.get();(st.left!==_.innerWidth||st.top!==_.innerHeight)&&(K.set(Is(_.innerWidth,_.innerHeight)),P5(o))},Ne=()=>{const st=o.getDoc().documentElement,ht=ye.get();(ht.left!==st.offsetWidth||ht.top!==st.offsetHeight)&&(ye.set(Is(st.offsetWidth,st.offsetHeight)),P5(o))},Ue=st=>{AX(o,st)};S.bind(_,"resize",Ae),S.bind(_,"scroll",Ue);const Je=Ox(zt.fromDom(o.getBody()),"load",Ne);o.on("hide",()=>{le(p,st=>{Po(st.element,"display","none")})}),o.on("show",()=>{le(p,st=>{Ho(st.element,"display")})}),o.on("NodeChange",Ne),o.on("remove",()=>{Je.unbind(),S.unbind(_,"resize",Ae),S.unbind(_,"scroll",Ue),_=null})},tte=(o,u,p)=>{ep(o)&&Bm(p.mainUi.mothership.element,p.popupUi.mothership),$l(u,p.dialogUi.mothership)};var nte=Object.freeze({__proto__:null,render:(o,u,p,S,_)=>{const{mainUi:H,uiMotherships:K}=u,ye=G(0),Ae=H.outerContainer;gee(o);const Ne=zt.fromDom(_.targetNode),Ue=Xs(es(Ne));Bm(Ne,H.mothership),tte(o,Ue,u),o.on("SkinLoaded",()=>{La.setSidebar(Ae,p.sidebar,i5(o)),qC(o,u,p,S),ye.set(o.getWin().innerWidth),La.setMenubar(Ae,eP(o,p)),La.setViews(Ae,p.views),ete(o,u)});const Je=La.getSocket(Ae).getOrDie("Could not find expected socket element");if(wV){zi(Je.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const qt=wC(()=>{o.dispatch("ScrollContent")},20),Dn=Dc(Je.element,"scroll",qt.throttle);o.on("remove",Dn.unbind)}RI(o,u),o.addCommand("ToggleSidebar",(qt,Dn)=>{La.toggleSidebar(Ae,Dn),o.dispatch("ToggleSidebar")}),o.addQueryValueHandler("ToggleSidebar",()=>{var qt;return(qt=La.whichSidebar(Ae))!==null&&qt!==void 0?qt:""}),o.addCommand("ToggleView",(qt,Dn)=>{if(La.toggleView(Ae,Dn)){const mn=Ae.element;H.mothership.broadcastOn([Xd()],{target:mn}),le(K,sn=>{sn.broadcastOn([Xd()],{target:mn})}),y(La.whichView(Ae))&&(o.focus(),o.nodeChanged(),La.refreshToolbar(Ae))}}),o.addQueryValueHandler("ToggleView",()=>{var qt;return(qt=La.whichView(Ae))!==null&&qt!==void 0?qt:""});const st=i2(o),ht=()=>{La.refreshToolbar(u.mainUi.outerContainer)};(st===Vf.sliding||st===Vf.floating)&&o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const qt=o.getWin().innerWidth;qt!==ye.get()&&(ht(),ye.set(qt))});const At={setEnabled:qt=>{T5(u,!qt)},isEnabled:()=>!Co.isDisabled(Ae)};return{iframeContainer:Je.element.dom,editorContainer:Ae.element.dom,api:At}}});const R7=o=>/^[0-9\.]+(|px)$/i.test(""+o)?L.some(parseInt(""+o,10)):L.none(),W2=o=>T(o)?o+"px":o,JC=(o,u,p)=>{const S=u.filter(H=>o<H),_=p.filter(H=>o>H);return S.or(_).getOr(o)},TV=o=>{const u=t5(o),p=a2(o),S=oR(o);return R7(u).map(_=>JC(_,p,S))},CV=o=>TV(o).getOr(t5(o)),D7=o=>{const u=YT(o),p=rR(o),S=n5(o);return R7(u).map(_=>JC(_,p,S))},rte=o=>D7(o).getOr(YT(o)),{ToolbarLocation:iP,ToolbarMode:kV}=$Y,ote=40,ste=(o,u,p,S,_)=>{const{mainUi:H,uiMotherships:K}=p,ye=Ib.DOM,Ae=u2(o),Ne=jT(o),Ue=n5(o).or(D7(o)),Je=S.shared.header,st=Je.isPositionedAtTop,ht=i2(o),At=ht===kV.sliding||ht===kV.floating,qt=G(!1),Dn=()=>qt.get()&&!o.removed,mn=wo=>At?wo.fold(Q(0),Ns=>Ns.components().length>1?Ha(Ns.components()[1].element):0):0,sn=wo=>{switch(XT(o)){case iP.auto:const Ns=La.getToolbar(H.outerContainer),Pr=mn(Ns),so=Ha(wo.element)-Pr,No=fi(u);if(No.y>so)return"top";{const To=pn(u),Yo=Math.max(To.dom.scrollHeight,Ha(To));return No.bottom<Yo-so||Hl().bottom<No.bottom-so?"bottom":"top"}case iP.bottom:return"bottom";case iP.top:default:return"top"}},kn=wo=>{_.on(Ns=>{Bi.setModes(Ns,[wo]),Je.setDockingMode(wo);const Pr=st()?Nf.TopToBottom:Nf.BottomToTop;Dr(Ns.element,N0,Pr)})},Zn=()=>{_.on(wo=>{const Ns=Ue.getOrThunk(()=>{const Pr=R7(Fa(ya(),"margin-left")).getOr(0);return Si(ya())-Al(u).left+Pr});Po(wo.element,"max-width",Ns+"px")})},mr=wo=>{_.on(Ns=>{const Pr=La.getToolbar(H.outerContainer),so=mn(Pr),No=fi(u),{top:Qo,left:To}=Gn(o,H.outerContainer.element).fold(()=>({top:st()?Math.max(No.y-Ha(Ns.element)+so,0):No.bottom,left:No.x}),Fs=>{var tc;const yf=fi(Fs),ch=(tc=Fs.dom.scrollTop)!==null&&tc!==void 0?tc:0,nm=Jt(Fs,ya()),I1=nm?Math.max(No.y-Ha(Ns.element)+so,0):No.y-yf.y+ch-Ha(Ns.element)+so;return{top:st()?I1:No.bottom,left:nm?No.x:No.x-yf.x}}),Yo={position:"absolute",left:Math.round(To)+"px",top:Math.round(Qo)+"px"},Ma=wo.map(Fs=>{const tc=El(),yf=150,ch=window.innerWidth-(To-tc.left);return{width:Math.max(Math.min(Fs,ch),yf)+"px"}}).getOr({});zi(H.outerContainer.element,{...Yo,...Ma})})},Gn=(wo,Ns)=>ep(wo)?Xb(Ns):L.none(),Or=()=>{le(K,wo=>{wo.broadcastOn([gv()],{})})},Mr=()=>{if(Ae)return L.none();if(Al(H.outerContainer.element).left+kf(H.outerContainer.element)>=window.innerWidth-ote||Za(H.outerContainer.element,"width").isSome()){Po(H.outerContainer.element,"position","absolute"),Po(H.outerContainer.element,"left","0px"),Ho(H.outerContainer.element,"width");const Ns=kf(H.outerContainer.element);return L.some(Ns)}else return L.none()},is=wo=>{if(!Dn())return;Ae||Zn();const Ns=Ae?L.none():Mr();At&&La.refreshToolbar(H.outerContainer),Ae||mr(Ns),Ne&&_.on(wo),Or()},Gr=()=>Ae||!Ne||!Dn()?!1:_.get().exists(wo=>{const Ns=Je.getDockingMode(),Pr=sn(wo);return Pr!==Ns?(kn(Pr),!0):!1});return{isVisible:Dn,isPositionedAtTop:st,show:()=>{qt.set(!0),Po(H.outerContainer.element,"display","flex"),ye.addClass(o.getBody(),"mce-edit-focus"),le(K,wo=>{Ho(wo.element,"display")}),Gr(),ep(o)?is(wo=>Bi.isDocked(wo)?Bi.reset(wo):Bi.refresh(wo)):is(Bi.refresh)},hide:()=>{qt.set(!1),Po(H.outerContainer.element,"display","none"),ye.removeClass(o.getBody(),"mce-edit-focus"),le(K,wo=>{Po(wo.element,"display","none")})},update:is,updateMode:()=>{Gr()&&is(Bi.reset)},repositionPopups:Or}},AV=(o,u)=>{const p=fi(o);return{pos:u?p.y:p.bottom,bounds:p}},ate=(o,u,p,S)=>{const _=G(AV(u,p.isPositionedAtTop())),H=Ne=>{const{pos:Ue,bounds:Je}=AV(u,p.isPositionedAtTop()),{pos:st,bounds:ht}=_.get(),At=Je.height!==ht.height||Je.width!==ht.width;_.set({pos:Ue,bounds:Je}),At&&P5(o,Ne),p.isVisible()&&(st!==Ue?p.update(Bi.reset):At&&(p.updateMode(),p.repositionPopups()))};S||(o.on("activate",p.show),o.on("deactivate",p.hide)),o.on("SkinLoaded ResizeWindow",()=>p.update(Bi.reset)),o.on("NodeChange keydown",Ne=>{requestAnimationFrame(()=>H(Ne))});let K=0;const ye=o6(()=>p.update(Bi.refresh),33);o.on("ScrollWindow",()=>{const Ne=El().left;Ne!==K&&(K=Ne,ye.throttle()),p.updateMode()}),ep(o)&&o.on("ElementScroll",Ne=>{p.update(Bi.refresh)});const Ae=Lm();Ae.set(Ox(zt.fromDom(o.getBody()),"load",Ne=>H(Ne.raw))),o.on("remove",()=>{Ae.clear()})};var ite=Object.freeze({__proto__:null,render:(o,u,p,S,_)=>{const{mainUi:H}=u,K=gs(),ye=zt.fromDom(_.targetNode),Ae=ste(o,ye,u,S,K),Ne=RL(o);pee(o);const Ue=()=>{if(K.isSet()){Ae.show();return}K.set(La.getHeader(H.outerContainer).getOrDie());const st=pR(o);ep(o)?(Bm(ye,H.mothership),Bm(ye,u.popupUi.mothership)):$l(st,H.mothership),$l(st,u.dialogUi.mothership),qC(o,u,p,S),La.setMenubar(H.outerContainer,eP(o,p)),Ae.show(),ate(o,ye,Ae,Ne),o.nodeChanged()};o.on("show",Ue),o.on("hide",Ae.hide),Ne||(o.on("focus",Ue),o.on("blur",Ae.hide)),o.on("init",()=>{(o.hasFocus()||Ne)&&Ue()}),RI(o,u);const Je={show:Ue,hide:Ae.hide,setEnabled:st=>{T5(u,!st)},isEnabled:()=>!Co.isDisabled(H.outerContainer)};return{editorContainer:H.outerContainer.element.dom,api:Je}}});const lte=()=>{const o=gs(),u=gs(),p=gs();return{dialogUi:o,popupUi:u,mainUi:p,getUiMotherships:()=>{const H=o.get().map(ye=>ye.mothership),K=u.get().map(ye=>ye.mothership);return H.fold(()=>K.toArray(),ye=>K.fold(()=>[ye],Ae=>Jt(ye.element,Ae.element)?[ye]:[ye,Ae]))},lazyGetInOuterOrDie:(H,K)=>()=>p.get().bind(ye=>K(ye.outerContainer)).getOrDie(`Could not find ${H} element in OuterContainer`)}},cte="contexttoolbar-show",$7="contexttoolbar-hide",ute=o=>({hide:()=>ks(o,ef()),getValue:()=>Fr.getValue(o)}),L7=(o,u)=>qn(l6,(p,S)=>{const _=o.get(p),H=ute(_);u.onAction(H,S.event.buttonApi)}),fte=(o,u,p)=>{const{primary:S,..._}=u.original,H=aa(QR({..._,type:"button",onAction:M}));return xV(H,p,[L7(o,u)])},dte=(o,u,p)=>{const{primary:S,..._}=u.original,H=aa(gI({..._,type:"togglebutton",onAction:M}));return E7(H,p,[L7(o,u)])},hte=o=>o.type==="contextformtogglebutton",mte=(o,u,p)=>hte(u)?dte(o,u,p):fte(o,u,p),gte=(o,u,p)=>{const S=ne(u,K=>ia(mte(o,K,p)));return{asSpecs:()=>ne(S,K=>K.asSpec()),findPrimary:K=>Xe(u,(ye,Ae)=>ye.primary?L.from(S[Ae]).bind(Ne=>Ne.getOpt(K)).filter(B(Co.isDisabled)):L.none())}},Y2=(o,u)=>{const p=o.label.fold(()=>({}),H=>({"aria-label":H})),S=ia(Bb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:p,selectOnFocus:!0,inputBehaviours:pr([yo.config({mode:"special",onEnter:H=>_.findPrimary(H).map(K=>(km(K),!0)),onLeft:(H,K)=>(K.cut(),L.none()),onRight:(H,K)=>(K.cut(),L.none())})])})),_=gte(S,o.commands,u);return[{title:L.none(),items:[S.asSpec()]},{title:L.none(),items:_.asSpecs()}]},vte={renderContextForm:(o,u,p)=>G4({type:o,uid:Kr("context-toolbar"),initGroups:Y2(u,p),onEscape:L.none,cyclicKeying:!0,providers:p}),buildInitGroups:Y2},PV=(o,u,p)=>u.bottom-o.y>=p&&o.bottom-u.y>=p,MV=o=>{const u=o.getBoundingClientRect();if(u.height<=0&&u.width<=0){const p=So(zt.fromDom(o.startContainer),o.startOffset).element;return(Ct(p)?Fn(p):L.some(p)).filter(St).map(_=>_.dom.getBoundingClientRect()).getOr(u)}else return u},e3=o=>{const u=o.selection.getRng(),p=MV(u);if(o.inline){const S=El();return ti(S.left+p.left,S.top+p.top,p.width,p.height)}else{const S=Cu(zt.fromDom(o.getBody()));return ti(S.x+p.left,S.y+p.top,p.width,p.height)}},EV=(o,u)=>u.filter(p=>Js(p)&&Ee(p)).map(Cu).getOrThunk(()=>e3(o)),_V=(o,u,p)=>{const S=Math.max(o.x+p,u.x),_=Math.min(o.right-p,u.right);return{x:S,width:_-S}},yte=(o,u,p,S,_,H)=>{const K=zt.fromDom(o.getContainer()),ye=Ai(K,".tox-editor-header").getOr(K),Ae=fi(ye),Ne=Ae.y>=u.bottom,Ue=S&&!Ne;if(o.inline&&Ue)return{y:Math.max(Ae.bottom+H,p.y),bottom:p.bottom};if(o.inline&&!Ue)return{y:p.y,bottom:Math.min(Ae.y-H,p.bottom)};const Je=_==="line"?fi(K):u;return Ue?{y:Math.max(Ae.bottom+H,p.y),bottom:Math.min(Je.bottom-H,p.bottom)}:{y:Math.max(Je.y+H,p.y),bottom:Math.min(Ae.y-H,p.bottom)}},qb=(o,u,p,S=0)=>{const _=vy(window),H=fi(zt.fromDom(o.getContentAreaContainer())),K=c2(o)||u5(o)||GT(o),{x:ye,width:Ae}=_V(H,_,S);if(o.inline&&!K)return ti(ye,_.y,Ae,_.height);{const Ne=u.header.isPositionedAtTop(),{y:Ue,bottom:Je}=yte(o,H,_,Ne,p,S);return ti(ye,Ue,Ae,Je-Ue)}},Kb=12,cP={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},I7={maxHeightFunction:I0(),maxWidthFunction:i7()},RV=(o,u)=>{const p=o.selection.getRng(),S=So(zt.fromDom(p.startContainer),p.startOffset);return p.startContainer===p.endContainer&&p.startOffset===p.endOffset-1&&Jt(S.element,u)},bte=(o,u,p)=>{const S=Za(o,"position");Po(o,"position",u);const _=p(o);return S.each(H=>Po(o,"position",H)),_},N7=o=>o==="node",Ote=(o,u,p,S,_)=>{const H=e3(o),K=S.lastElement().exists(ye=>Jt(p,ye));if(RV(o,p))return K?M6:qh;if(K)return bte(u,S.getMode(),()=>PV(H,fi(u),-20)&&!S.isReposition()?lK:M6);{const ye=S.getMode()==="fixed"?_.y+El().top:_.y,Ae=Ha(u)+Kb;return ye+Ae<=H.y?qh:I2}},xte=(o,u,p,S)=>{const _=Ae=>(Ne,Ue,Je,st,ht)=>{const At=Ote(o,st,Ae,p,ht),qt={...Ne,y:ht.y,height:ht.height};return{...At(qt,Ue,Je,st,ht),alwaysFit:!0}},H=Ae=>N7(S)?[_(Ae)]:[];return u?{onLtr:Ae=>[dl,fl,Kl,Xc,lc,_c].concat(H(Ae)),onRtl:Ae=>[dl,Kl,fl,lc,Xc,_c].concat(H(Ae))}:{onLtr:Ae=>[_c,dl,Xc,fl,lc,Kl].concat(H(Ae)),onRtl:Ae=>[_c,dl,lc,Kl,Xc,fl].concat(H(Ae))}},Ste=(o,u,p,S)=>u==="line"?{bubble:$h(Kb,0,cP),layouts:{onLtr:()=>[Tw],onRtl:()=>[Wy]},overrides:I7}:{bubble:$h(0,Kb,cP,1/Kb),layouts:xte(o,p,S,u),overrides:I7},B7=(o,u)=>{const p=Oe(u,H=>H.predicate(o.dom)),{pass:S,fail:_}=ve(p,H=>H.type==="contexttoolbar");return{contextToolbars:S,contextForms:_}},wte=o=>{if(o.length<=1)return o;{const u=H=>we(o,K=>K.position===H),p=H=>Oe(o,K=>K.position===H),S=u("selection"),_=u("node");if(S||_)if(_&&S){const H=p("node"),K=ne(p("selection"),ye=>({...ye,position:"node"}));return H.concat(K)}else return p(S?"selection":"node");else return p("line")}},DV=o=>{if(o.length<=1)return o;{const u=S=>Ve(o,_=>_.position===S);return u("selection").orThunk(()=>u("node")).orThunk(()=>u("line")).map(S=>S.position).fold(()=>[],S=>Oe(o,_=>_.position===S))}},uP=(o,u,p)=>{const S=B7(o,u);if(S.contextForms.length>0)return L.some({elem:o,toolbars:[S.contextForms[0]]});{const _=B7(o,p);if(_.contextForms.length>0)return L.some({elem:o,toolbars:[_.contextForms[0]]});if(S.contextToolbars.length>0||_.contextToolbars.length>0){const H=wte(S.contextToolbars.concat(_.contextToolbars));return L.some({elem:o,toolbars:H})}else return L.none()}},$V=(o,u,p)=>o(u)?L.none():jt(u,S=>{if(St(S)){const{contextToolbars:_,contextForms:H}=B7(S,p.inNodeScope),K=H.length>0?H:DV(_);return K.length>0?L.some({elem:S,toolbars:K}):L.none()}else return L.none()},o),LV=(o,u)=>{const p=zt.fromDom(u.getBody()),S=K=>Jt(K,p),_=K=>!S(K)&&!on(p,K),H=zt.fromDom(u.selection.getNode());return _(H)?L.none():uP(H,o.inNodeScope,o.inEditorScope).orThunk(()=>$V(S,H,o))},Q7=(o,u)=>{const p={},S=[],_=[],H={},K={},ye=(Ue,Je)=>{const st=aa(tX(Je));p[Ue]=st,st.launch.map(ht=>{H["form:"+Ue]={...Je.launch,type:ht.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{u(st)}}}),st.scope==="editor"?_.push(st):S.push(st),K[Ue]=st},Ae=(Ue,Je)=>{rX(Je).each(st=>{Je.scope==="editor"?_.push(st):S.push(st),K[Ue]=st})},Ne=ct(o);return le(Ne,Ue=>{const Je=o[Ue];Je.type==="contextform"?ye(Ue,Je):Je.type==="contexttoolbar"&&Ae(Ue,Je)}),{forms:p,inNodeScope:S,inEditorScope:_,lookupTable:K,formNavigators:H}},IV=Kr("forward-slide"),F7=Kr("backward-slide"),V7=Kr("change-slide-event"),z7="tox-pop--resizing",fP=o=>{const u=G([]);return si.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:p=>{u.set([]),si.getContent(p).each(S=>{Ho(S.element,"visibility")}),Ga(p.element,z7),Ho(p.element,"width")},inlineBehaviours:pr([Jo("context-toolbar-events",[Ch(Ji(),(p,S)=>{S.event.raw.propertyName==="width"&&(Ga(p.element,z7),Ho(p.element,"width"))}),qn(V7,(p,S)=>{const _=p.element;Ho(_,"width");const H=Si(_);si.setContent(p,S.event.contents),ki(_,z7);const K=Si(_);Po(_,"width",H+"px"),si.getContent(p).each(ye=>{S.event.focus.bind(Ae=>(uu(Ae),ld(_))).orThunk(()=>(yo.focusIn(ye),Dh(es(_))))}),setTimeout(()=>{Po(p.element,"width",K+"px")},0)}),qn(IV,(p,S)=>{si.getContent(p).each(_=>{u.set(u.get().concat([{bar:_,focus:Dh(es(p.element))}]))}),vo(p,V7,{contents:S.event.forwardContents,focus:L.none()})}),qn(F7,(p,S)=>{Qe(u.get()).each(_=>{u.set(u.get().slice(0,u.get().length-1)),vo(p,V7,{contents:rf(_.bar),focus:_.focus})})})]),yo.config({mode:"special",onEscape:p=>Qe(u.get()).fold(()=>o.onEscape(),S=>(ks(p,F7),L.some(!0)))})]),lazySink:()=>jo.value(o.sink)})},dP="tox-pop--transition",Tte=(o,u,p,S)=>{const _=S.backstage,H=_.shared,K=Kf().deviceType.isTouch,ye=gs(),Ae=gs(),Ne=gs(),Ue=ic(fP({sink:p,onEscape:()=>(o.focus(),L.some(!0))})),Je=()=>{const Gr=Ne.get().getOr("node"),Io=N7(Gr)?1:0;return qb(o,H,Gr,Io)},st=()=>!o.removed&&!(K()&&_.isContextMenuOpen()),ht=Gr=>ln(Xn(Gr,ye.get(),Jt),!0),At=()=>{if(st()){const Gr=Je(),Io=ln(Ne.get(),"node")?EV(o,ye.get()):e3(o);return Gr.height<=0||!PV(Io,Gr,.01)}else return!0},qt=()=>{ye.clear(),Ae.clear(),Ne.clear(),si.hide(Ue)},Dn=()=>{if(si.isOpen(Ue)){const Gr=Ue.element;Ho(Gr,"display"),At()?Po(Gr,"display","none"):(Ae.set(0),si.reposition(Ue))}},mn=Gr=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Gr],behaviours:pr([yo.config({mode:"acyclic"}),Jo("pop-dialog-wrap-events",[Ca(Io=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>yo.focusIn(Io))}),kh(Io=>{o.shortcuts.remove("ctrl+F9")})])])}),sn=Xa(()=>Q7(u,Gr=>{const Io=mr([Gr]);vo(Ue,IV,{forwardContents:mn(Io)})})),kn=(Gr,Io)=>aP(o,{buttons:Gr,toolbar:Io.items,allowToolbarGroups:!1},S.backstage,L.some(["form:"])),Zn=(Gr,Io)=>vte.buildInitGroups(Gr,Io),mr=Gr=>{const{buttons:Io}=o.ui.registry.getAll(),_o=sn(),na={...Io,..._o.formNavigators},wo=i2(o)===Vf.scrolling?Vf.scrolling:Vf.default,Ns=Ie(ne(Gr,Pr=>Pr.type==="contexttoolbar"?kn(na,Pr):Zn(Pr,H.providers)));return G4({type:wo,uid:Kr("context-toolbar"),initGroups:Ns,onEscape:L.none,cyclicKeying:!0,providers:H.providers})},Gn=(Gr,Io)=>{const _o=Gr==="node"?H.anchors.node(Io):H.anchors.cursor(),na=Ste(o,Gr,K(),{lastElement:ye.get,isReposition:()=>ln(Ae.get(),0),getMode:()=>cc.getMode(p)});return Ta(_o,na)},Or=(Gr,Io)=>{if(is.cancel(),!st())return;const _o=mr(Gr),na=Gr[0].position,wo=Gn(na,Io);Ne.set(na),Ae.set(1);const Ns=Ue.element;Ho(Ns,"display"),ht(Io)||(Ga(Ns,dP),cc.reset(p,Ue)),si.showWithinBounds(Ue,mn(_o),{anchor:wo,transition:{classes:[dP],mode:"placement"}},()=>L.some(Je())),Io.fold(ye.clear,ye.set),At()&&Po(Ns,"display","none")};let Mr=!1;const is=o6(()=>{if(!(!o.hasFocus()||o.removed||Mr))if(el(Ue.element,dP))is.throttle();else{const Gr=sn();LV(Gr,o).fold(qt,Io=>{Or(Io.toolbars,L.some(Io.elem))})}},17);o.on("init",()=>{o.on("remove",qt),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Dn),o.on("click keyup focus SetContent",is.throttle),o.on($7,qt),o.on(cte,Gr=>{const Io=sn();Bt(Io.lookupTable,Gr.toolbarKey).each(_o=>{Or([_o],lt(Gr.target!==o,Gr.target)),si.getContent(Ue).each(yo.focusIn)})}),o.on("focusout",Gr=>{Db.setEditorTimeout(o,()=>{ld(p.element).isNone()&&ld(Ue.element).isNone()&&qt()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&qt()}),o.on("AfterProgressState",Gr=>{Gr.state?qt():o.hasFocus()&&is.throttle()}),o.on("dragstart",()=>{Mr=!0}),o.on("dragend drop",()=>{Mr=!1}),o.on("NodeChange",Gr=>{ld(Ue.element).fold(is.throttle,M)})})},Cte=o=>{le([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],p=>{o.ui.registry.addToggleButton(p.name,{tooltip:p.text,icon:p.icon,onAction:df(o,p.cmd),onSetup:M5(o,p.name)})}),o.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:pu(o),onAction:df(o,"JustifyNone")})},NV=(o,u)=>{const p=()=>{const S=u.getOptions(o),_=u.getCurrent(o).map(u.hash),H=gs();return ne(S,K=>({type:"togglemenuitem",text:u.display(K),onSetup:ye=>{const Ae=Ue=>{Ue&&(H.on(Je=>Je.setActive(!1)),H.set(ye)),ye.setActive(Ue)};Ae(ln(_,u.hash(K)));const Ne=u.watcher(o,K,Ae);return()=>{H.clear(),Ne()}},onAction:()=>u.setCurrent(o,K)}))};o.ui.registry.addMenuButton(u.name,{tooltip:u.text,icon:u.icon,fetch:S=>S(p()),onSetup:u.onToolbarSetup}),o.ui.registry.addNestedMenuItem(u.name,{type:"nestedmenuitem",text:u.text,getSubmenuItems:p,onSetup:u.onMenuSetup})},kte=o=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:FL,hash:u=>kee(u,["fixed","relative","empty"]).getOr(u),display:z,watcher:(u,p,S)=>u.formatter.formatChanged("lineheight",S,!1,{value:p}).unbind,getCurrent:u=>L.from(u.queryCommandValue("LineHeight")),setCurrent:(u,p)=>u.execCommand("LineHeight",!1,p),onToolbarSetup:pu(o),onMenuSetup:pu(o)}),Ate=o=>L.from(EL(o)).map(p=>({name:"language",text:"Language",icon:"language",getOptions:Q(p),hash:S=>O(S.customCode)?S.code:`${S.code}/${S.customCode}`,display:S=>S.title,watcher:(S,_,H)=>{var K;return S.formatter.formatChanged("lang",H,!1,{value:_.code,customValue:(K=_.customCode)!==null&&K!==void 0?K:null}).unbind},getCurrent:S=>{const _=zt.fromDom(S.selection.getNode());return nn(_,H=>L.some(H).filter(St).bind(K=>Ri(K,"lang").map(Ae=>{const Ne=Ri(K,"data-mce-lang").getOrUndefined();return{code:Ae,customCode:Ne,title:""}})))},setCurrent:(S,_)=>S.execCommand("Lang",!1,_),onToolbarSetup:S=>{const _=Lm();return S.setActive(o.formatter.match("lang",{},void 0,!0)),_.set(o.formatter.formatChanged("lang",S.setActive,!0)),lC(_.clear,pu(o)(S))},onMenuSetup:pu(o)})),BV=o=>{NV(o,kte(o)),Ate(o).each(u=>NV(o,u))},QV=(o,u)=>{yee(o,u),wee(o,u),vV(o,u),Oee(o,u),Nee(o,u)},Pte=o=>Uh(o,"NodeChange",u=>{u.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),Mte=o=>{o.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Pte(o),onAction:df(o,"outdent")}),o.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:pu(o),onAction:df(o,"indent")})},FV=o=>{Mte(o)},VV=(o,u)=>p=>{p.setActive(u.get());const S=_=>{u.set(_.state),p.setActive(_.state)};return o.on("PastePlainTextToggle",S),lC(()=>o.off("PastePlainTextToggle",S),pu(o)(p))},Ete=o=>{const u=G(a5(o)),p=()=>o.execCommand("mceTogglePlainTextPaste");o.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:VV(o,u)}),o.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:VV(o,u)})},Z7=(o,u)=>()=>{o.execCommand("mceToggleFormat",!1,u)},_te=o=>{dp.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(u,p)=>{o.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:M5(o,u.name),onAction:Z7(o,u.name)})});for(let u=1;u<=6;u++){const p="h"+u;o.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+u,onSetup:M5(o,p),onAction:Z7(o,p)})}},Rte=o=>{dp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],u=>{o.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onAction:df(o,u.action)})}),dp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{o.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:pu(o),onAction:df(o,u.action)})})},H7=o=>{dp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],u=>{o.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onAction:df(o,u.action),onSetup:M5(o,u.name)})})},Dte=o=>{_te(o),Rte(o),H7(o)},$te=o=>{dp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{o.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onAction:df(o,u.action)})}),dp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{o.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onSetup:pu(o),onAction:df(o,u.action)})}),o.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:pu(o),onAction:Z7(o,"code")})},U7=o=>{Dte(o),$te(o)},t3=(o,u)=>Uh(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",p=>{p.setEnabled(!o.mode.isReadOnly()&&o.undoManager[u]())}),zV=o=>{o.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:t3(o,"hasUndo"),onAction:df(o,"undo")}),o.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:t3(o,"hasRedo"),onAction:df(o,"redo")})},Lte=o=>{o.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:t3(o,"hasUndo"),onAction:df(o,"undo")}),o.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:t3(o,"hasRedo"),onAction:df(o,"redo")})},Ite=o=>{zV(o),Lte(o)},Nte=o=>Uh(o,"VisualAid",u=>{u.setActive(o.hasVisual)}),Bte=o=>{o.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Nte(o),onAction:df(o,"mceToggleVisualAid")})},Qte=o=>{o.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:df(o,"mceToggleVisualAid")})},W7=o=>{Qte(o),Bte(o)},Fte=(o,u)=>{Cte(o),U7(o),QV(o,u),Ite(o),g8(o),W7(o),FV(o),BV(o),Ete(o)},ZV=o=>h(o)?o.split(/[ ,]/):o,HV=o=>u=>u.options.get(o),Vte=o=>{const u=o.options.register;u("contextmenu_avoid_overlap",{processor:"string",default:""}),u("contextmenu_never_use_native",{processor:"boolean",default:!1}),u("contextmenu",{processor:p=>p===!1?{value:[],valid:!0}:h(p)||R(p,h)?{value:ZV(p),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},hP=HV("contextmenu_never_use_native"),zte=HV("contextmenu_avoid_overlap"),UV=o=>WV(o).length===0,WV=o=>{const u=o.ui.registry.getAll().contextMenus,p=o.options.get("contextmenu");return o.options.isSet("contextmenu")?p:Oe(p,S=>vn(u,S))},n3=(o,u)=>({type:"makeshift",x:o,y:u}),Y7=(o,u,p)=>n3(o.x+u,o.y+p),YV=o=>o.type==="longpress"||o.type.indexOf("touch")===0,Zte=o=>{if(YV(o)){const u=o.touches[0];return n3(u.pageX,u.pageY)}else return n3(o.pageX,o.pageY)},Hte=o=>{if(YV(o)){const u=o.touches[0];return n3(u.clientX,u.clientY)}else return n3(o.clientX,o.clientY)},Ute=(o,u)=>{const p=Ib.DOM.getPos(o);return Y7(u,p.x,p.y)},Wte=(o,u)=>u.type==="contextmenu"||u.type==="longpress"?o.inline?Zte(u):Ute(o.getContentAreaContainer(),Hte(u)):X7(o),X7=o=>({type:"selection",root:zt.fromDom(o.selection.getNode())}),Yte=o=>({type:"node",node:L.some(zt.fromDom(o.selection.getNode())),root:zt.fromDom(o.getBody())}),XV=(o,u,p)=>{switch(p){case"node":return Yte(o);case"point":return Wte(o,u);case"selection":return X7(o)}},Xte=(o,u,p,S,_,H)=>{const K=p(),ye=XV(o,u,H);R2(K,Gm.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:L.none()}).map(Ae=>{u.preventDefault(),si.showMenuAt(_,{anchor:ye},{menu:{markers:Cv("normal")},data:Ae})})},Gte={onLtr:()=>[dl,fl,Kl,Xc,lc,_c,qh,I2,BC,NC,Yb,IC],onRtl:()=>[dl,Kl,fl,lc,Xc,_c,qh,I2,Yb,IC,BC,NC]},jte=12,qte={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Kte=(o,u)=>{const p=o.selection;if(p.isCollapsed()||u.touches.length<1)return!1;{const S=u.touches[0],_=p.getRng();return Jw(o.getWin(),Dl.domRange(_)).exists(K=>K.left<=S.clientX&&K.right>=S.clientX&&K.top<=S.clientY&&K.bottom>=S.clientY)}},Jte=o=>{const u=o.selection.getRng(),p=()=>{Db.setEditorTimeout(o,()=>{o.selection.setRng(u)},10),H()};o.once("touchend",p);const S=K=>{K.preventDefault(),K.stopImmediatePropagation()};o.on("mousedown",S,!0);const _=()=>H();o.once("longpresscancel",_);const H=()=>{o.off("touchend",p),o.off("longpresscancel",_),o.off("mousedown",S)}},GV=(o,u,p)=>{const S=XV(o,u,p);return{bubble:$h(0,p==="point"?jte:0,qte),layouts:Gte,overrides:{maxWidthFunction:i7(),maxHeightFunction:I0()},...S}},ene=(o,u,p,S,_,H,K)=>{const ye=GV(o,u,H);R2(p,Gm.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!0,search:L.none()}).map(Ae=>{u.preventDefault();const Ne=K?gu.HighlightMenuAndItem:gu.HighlightNone;si.showMenuWithinBounds(_,{anchor:ye},{menu:{markers:Cv("normal"),highlightOnOpen:Ne},data:Ae,type:"horizontal"},()=>L.some(qb(o,S.shared,H==="node"?"node":"selection"))),o.dispatch($7)})},jV=(o,u,p,S,_,H)=>{const K=Kf(),ye=K.os.isiOS(),Ae=K.os.isMacOS(),Ne=K.os.isAndroid(),Ue=K.deviceType.isTouch(),Je=()=>!(Ne||ye||Ae&&Ue),st=()=>{const ht=p();ene(o,u,ht,S,_,H,Je())};if((Ae||ye)&&H!=="node"){const ht=()=>{Jte(o),st()};Kte(o,u)?ht():(o.once("selectionchange",ht),o.once("touchend",()=>o.off("selectionchange",ht)))}else st()},qV=o=>h(o)?o==="|":o.type==="separator",G7={type:"separator"},KV=o=>{const u=p=>({text:p.text,icon:p.icon,enabled:p.enabled,shortcut:p.shortcut});if(h(o))return o;switch(o.type){case"separator":return G7;case"submenu":return{type:"nestedmenuitem",...u(o),getSubmenuItems:()=>{const S=o.getSubmenuItems();return h(S)?S:ne(S,KV)}};default:const p=o;return{type:"menuitem",...u(p),onAction:I(p.onAction)}}},E1=(o,u)=>{if(u.length===0)return o;const S=Qe(o).filter(_=>!qV(_)).fold(()=>[],_=>[G7]);return o.concat(S).concat(u).concat([G7])},JV=(o,u,p)=>{const S=Ce(u,(_,H)=>Bt(o,H.toLowerCase()).map(K=>{const ye=K.update(p);if(h(ye)&&dn(Pt(ye)))return E1(_,ye.split(" "));if(v(ye)&&ye.length>0){const Ae=ne(ye,KV);return E1(_,Ae)}else return _}).getOrThunk(()=>_.concat([H])),[]);return S.length>0&&qV(S[S.length-1])&&S.pop(),S},tne=(o,u)=>u.ctrlKey&&!hP(o),nne=o=>o.type==="longpress"||vn(o,"touches"),ez=(o,u)=>!nne(u)&&(u.button!==2||u.target===o.getBody()&&u.pointerType===""),tz=(o,u)=>ez(o,u)?o.selection.getStart(!0):u.target,nz=(o,u)=>{const p=zte(o),S=ez(o,u)?"selection":"point";if(dn(p)){const _=tz(o,u);return dC(zt.fromDom(_),p)?"node":S}else return S},rne=(o,u,p)=>{const _=Kf().deviceType.isTouch,H=ic(si.sketch({dom:{tag:"div"},lazySink:u,onEscape:()=>o.focus(),onShow:()=>p.setContextMenuState(!0),onHide:()=>p.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pr([Jo("dismissContextMenu",[qn(Mg(),(Ae,Ne)=>{As.close(Ae),o.focus()})])])})),K=()=>si.hide(H),ye=Ae=>{if(hP(o)&&Ae.preventDefault(),tne(o,Ae)||UV(o))return;const Ne=nz(o,Ae),Ue=()=>{const st=tz(o,Ae),ht=o.ui.registry.getAll(),At=WV(o);return JV(ht.contextMenus,At,st)};(_()?jV:Xte)(o,Ae,Ue,p,H,Ne)};o.on("init",()=>{const Ae="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(_()?"":" ResizeWindow");o.on(Ae,K),o.on("longpress contextmenu",ye)})},j7=Te.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),mP=o=>u=>u.translate(-o.left,-o.top),gP=o=>u=>u.translate(o.left,o.top),Rv=o=>(u,p)=>Ce(o,(S,_)=>_(S),Is(u,p)),pP=(o,u,p)=>o.fold(Rv([gP(p),mP(u)]),Rv([mP(u)]),Rv([])),X2=(o,u,p)=>o.fold(Rv([gP(p)]),Rv([]),Rv([gP(u)])),rz=(o,u,p)=>o.fold(Rv([]),Rv([mP(p)]),Rv([gP(u),mP(p)])),one=(o,u,p,S,_,H)=>{const K=X2(o,_,H),ye=X2(u,_,H);return Math.abs(K.left-ye.left)<=p&&Math.abs(K.top-ye.top)<=S},sne=(o,u,p,S,_,H)=>{const K=X2(o,_,H),ye=X2(u,_,H),Ae=Math.abs(K.left-ye.left),Ne=Math.abs(K.top-ye.top);return Is(Ae,Ne)},q7=(o,u,p)=>{const S=o.fold((_,H)=>({position:L.some("absolute"),left:L.some(_+"px"),top:L.some(H+"px")}),(_,H)=>({position:L.some("absolute"),left:L.some(_-p.left+"px"),top:L.some(H-p.top+"px")}),(_,H)=>({position:L.some("fixed"),left:L.some(_+"px"),top:L.some(H+"px")}));return{right:L.none(),bottom:L.none(),...S}},oz=(o,u,p)=>o.fold((S,_)=>_1(S+u,_+p),(S,_)=>R1(S+u,_+p),(S,_)=>Jb(S+u,_+p)),K7=(o,u,p,S)=>{const _=(H,K)=>(ye,Ae)=>{const Ne=H(u,p,S);return K(ye.getOr(Ne.left),Ae.getOr(Ne.top))};return o.fold(_(rz,_1),_(X2,R1),_(pP,Jb))},_1=j7.offset,R1=j7.absolute,Jb=j7.fixed,vP=(o,u)=>{const p=oa(o,u);return O(p)?NaN:parseInt(p,10)},ane=(o,u)=>{const p=o.element,S=vP(p,u.leftAttr),_=vP(p,u.topAttr);return isNaN(S)||isNaN(_)?L.none():L.some(Is(S,_))},ine=(o,u,p)=>{const S=o.element;Dr(S,u.leftAttr,p.left+"px"),Dr(S,u.topAttr,p.top+"px")},lne=(o,u)=>{const p=o.element;sa(p,u.leftAttr),sa(p,u.topAttr)},cne=(o,u,p,S)=>ane(o,u).fold(()=>p,_=>Jb(_.left+S.left,_.top+S.top)),une=(o,u,p,S,_,H)=>{const K=cne(o,u,p,S),ye=u.mustSnap?dne(o,u,K,_,H):hne(o,u,K,_,H),Ae=pP(K,_,H);return ine(o,u,Ae),ye.fold(()=>({coord:Jb(Ae.left,Ae.top),extra:L.none()}),Ne=>({coord:Ne.output,extra:Ne.extra}))},fne=(o,u)=>{lne(o,u)},sz=(o,u,p,S)=>Xe(o,_=>{const H=_.sensor;return one(u,H,_.range.left,_.range.top,p,S)?L.some({output:K7(_.output,u,p,S),extra:_.extra}):L.none()}),dne=(o,u,p,S,_)=>{const H=u.getSnapPoints(o);return sz(H,p,S,_).orThunk(()=>Ce(H,(Ae,Ne)=>{const Ue=Ne.sensor,Je=sne(p,Ue,Ne.range.left,Ne.range.top,S,_);return Ae.deltas.fold(()=>({deltas:L.some(Je),snap:L.some(Ne)}),st=>{const ht=(Je.left+Je.top)/2,At=(st.left+st.top)/2;return ht<=At?{deltas:L.some(Je),snap:L.some(Ne)}:Ae})},{deltas:L.none(),snap:L.none()}).snap.map(Ae=>({output:K7(Ae.output,p,S,_),extra:Ae.extra})))},hne=(o,u,p,S,_)=>{const H=u.getSnapPoints(o);return sz(H,p,S,_)},mne=(o,u,p)=>({coord:K7(o.output,o.output,u,p),extra:o.extra});var gne=Object.freeze({__proto__:null,snapTo:(o,u,p,S)=>{const _=u.getTarget(o.element);if(u.repositionTarget){const H=Tn(o.element),K=El(H),ye=nF(_),Ae=mne(S,K,ye),Ne=q7(Ae.coord,K,ye);fr(_,Ne)}}});const J7="data-initial-z-index",pne=o=>{Fn(o.element).filter(St).each(u=>{Ri(u,J7).fold(()=>Ho(u,"z-index"),p=>Po(u,"z-index",p)),sa(u,J7)})},vne=o=>{Fn(o.element).filter(St).each(u=>{Za(u,"z-index").each(p=>{Dr(u,J7,p)}),Po(u,"z-index",Fa(o.element,"z-index"))})},az=(o,u)=>{o.getSystem().addToGui(u),vne(u)},yne=o=>{pne(o),o.getSystem().removeFromGui(o)},r3=(o,u,p)=>o.getSystem().build(jm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[u]},events:p}));var bne=Cc("snaps",[er("getSnapPoints"),Rs("onSensor"),er("leftAttr"),er("topAttr"),Mn("lazyViewport",Hl),Mn("mustSnap",!1)]);const eD=[Mn("useFixed",X),er("blockerClass"),Mn("getTarget",z),Mn("onDrag",M),Mn("repositionTarget",!0),Mn("onDrop",M),Di("getBounds",Hl),bne],One=o=>Un(Za(o,"left"),Za(o,"top"),Za(o,"position"),(u,p,S)=>(S==="fixed"?Jb:_1)(parseInt(u,10),parseInt(p,10))).getOrThunk(()=>{const u=Al(o);return R1(u.left,u.top)}),xne=(o,u,p,S,_)=>{const H=_.bounds,K=X2(u,p,S),ye=of(K.left,H.x,H.x+H.width-_.width),Ae=of(K.top,H.y,H.y+H.height-_.height),Ne=R1(ye,Ae);return u.fold(()=>{const Ue=rz(Ne,p,S);return _1(Ue.left,Ue.top)},Q(Ne),()=>{const Ue=pP(Ne,p,S);return Jb(Ue.left,Ue.top)})},Sne=(o,u,p,S,_,H,K)=>{const ye=u.fold(()=>{const Ae=oz(p,H.left,H.top),Ne=pP(Ae,S,_);return Jb(Ne.left,Ne.top)},Ae=>{const Ne=une(o,Ae,p,H,S,_);return Ne.extra.each(Ue=>{Ae.onSensor(o,Ue)}),Ne.coord});return xne(o,ye,S,_,K)},wne=(o,u,p,S)=>{const _=u.getTarget(o.element);if(u.repositionTarget){const H=Tn(o.element),K=El(H),ye=nF(_),Ae=One(_),Ne=Sne(o,u.snaps,Ae,K,ye,S,p),Ue=q7(Ne,K,ye);fr(_,Ue)}u.onDrag(o,_,S)},tD=(o,u)=>({bounds:o.getBounds(),height:zu(u.element),width:kf(u.element)}),nD=(o,u,p,S,_)=>{const H=p.update(S,_),K=p.getStartData().getOrThunk(()=>tD(u,o));H.each(ye=>{wne(o,u,K,ye)})},iz=(o,u,p,S)=>{u.each(yne),p.snaps.each(H=>{fne(o,H)});const _=p.getTarget(o.element);S.reset(),p.onDrop(o,_)},rD=o=>(u,p)=>{const S=_=>{p.setStartData(tD(u,_))};return Ea([qn(Th(),_=>{p.getStartData().each(()=>S(_))}),...o(u,p,S)])},Tne=o=>Ea([qn(go(),o.forceDrop),qn(ba(),o.drop),qn(js(),(u,p)=>{o.move(p.event)}),qn(ri(),o.delayDrop)]);var cz=Object.freeze({__proto__:null,getData:o=>L.from(Is(o.x,o.y)),getDelta:(o,u)=>Is(u.left-o.left,u.top-o.top)});const uz=(o,u,p)=>[qn(go(),(S,_)=>{if(_.event.raw.button!==0)return;_.stop();const K=()=>iz(S,L.some(Ne),o,u),ye=AN(K,200),Ae={drop:K,delayDrop:ye.schedule,forceDrop:K,move:Je=>{ye.cancel(),nD(S,o,u,cz,Je)}},Ne=r3(S,o.blockerClass,Tne(Ae));(()=>{p(S),az(S,Ne)})()})],Cne=[...eD,ha("dragger",{handlers:rD(uz)})],kne=o=>Ea([qn(ro(),o.forceDrop),qn(ts(),o.drop),qn(xo(),o.drop),qn(fo(),(u,p)=>{o.move(p.event)})]),Ane=o=>{const u=o[0];return L.some(Is(u.clientX,u.clientY))};var fz=Object.freeze({__proto__:null,getData:o=>{const p=o.raw.touches;return p.length===1?Ane(p):L.none()},getDelta:(o,u)=>Is(u.left-o.left,u.top-o.top)});const dz=(o,u,p)=>{const S=gs(),_=H=>{iz(H,S.get(),o,u),S.clear()};return[qn(ro(),(H,K)=>{K.stop();const ye=()=>_(H),Ae={drop:ye,delayDrop:M,forceDrop:ye,move:Je=>{nD(H,o,u,fz,Je)}},Ne=r3(H,o.blockerClass,kne(Ae));S.set(Ne),(()=>{p(H),az(H,Ne)})()}),qn(fo(),(H,K)=>{K.stop(),nD(H,o,u,fz,K.event)}),qn(ts(),(H,K)=>{K.stop(),_(H)}),qn(xo(),_)]},Pne=[...eD,ha("dragger",{handlers:rD(dz)})],Mne=(o,u,p)=>[...uz(o,u,p),...dz(o,u,p)],Ene=[...eD,ha("dragger",{handlers:rD(Mne)})];var _ne=Object.freeze({__proto__:null,mouse:Cne,touch:Pne,mouseOrTouch:Ene}),Rne=Object.freeze({__proto__:null,init:()=>{let o=L.none(),u=L.none();const p=()=>{o=L.none(),u=L.none()},S=(Ae,Ne)=>{const Ue=o.map(Je=>Ae.getDelta(Je,Ne));return o=L.some(Ne),Ue},_=(Ae,Ne)=>Ae.getData(Ne).bind(Ue=>S(Ae,Ue)),H=Ae=>{u=L.some(Ae)},K=()=>u,ye=Q({});return Au({readState:ye,reset:p,update:_,getStartData:K,setStartData:H})}});const D1=bx({branchKey:"mode",branches:_ne,name:"dragging",active:{events:(o,u)=>o.dragger.handlers(o,u)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:L.from(o.extra)})},state:Rne,apis:gne}),oD=40,yP=oD/2,hz=(o,u,p,S,_,H)=>o.fold(()=>D1.snap({sensor:R1(p-yP,S-yP),range:Is(_,H),output:R1(L.some(p),L.some(S)),extra:{td:u}}),K=>{const ye=p-yP,Ae=S-yP,Ne=oD,Ue=oD,Je=K.element.dom.getBoundingClientRect();return D1.snap({sensor:R1(ye,Ae),range:Is(Ne,Ue),output:R1(L.some(p-Je.width/2),L.some(S-Je.height/2)),extra:{td:u}})}),mz=(o,u,p)=>{const S=(_,H)=>_.exists(K=>Jt(K,H));return{getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(_,H)=>{const K=H.td;S(u.get(),K)||(u.set(K),p(K))},mustSnap:!0}},gz=o=>ia(Ll.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pr([D1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),vC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Dne=(o,u)=>{const p=G([]),S=G([]),_=G(!1),H=gs(),K=gs(),ye=Or=>{const Mr=Cu(Or);return hz(ht.getOpt(u),Or,Mr.x,Mr.y,Mr.width,Mr.height)},Ae=()=>ne(p.get(),Or=>ye(Or)),Ne=Or=>{const Mr=Cu(Or);return hz(At.getOpt(u),Or,Mr.right,Mr.bottom,Mr.width,Mr.height)},Ue=()=>ne(S.get(),Or=>Ne(Or)),Je=mz(Ae,H,Or=>{K.get().each(Mr=>{o.dispatch("TableSelectorChange",{start:Or,finish:Mr})})}),st=mz(Ue,K,Or=>{H.get().each(Mr=>{o.dispatch("TableSelectorChange",{start:Mr,finish:Or})})}),ht=gz(Je),At=gz(st),qt=ic(ht.asSpec()),Dn=ic(At.asSpec()),mn=(Or,Mr,is,Gr)=>{const Io=Mr.dom.getBoundingClientRect();Ho(Or.element,"display");const _o=Jn(zt.fromDom(o.getBody())).dom.innerHeight,na=is(Io),wo=Gr(Io,_o);(na||wo)&&Po(Or.element,"display","none")},sn=(Or,Mr,is,Gr)=>{const Io=is(Mr);D1.snapTo(Or,Io),mn(Or,Mr,wo=>wo[Gr]<0,(wo,Ns)=>wo[Gr]>Ns)},kn=Or=>sn(qt,Or,ye,"top"),Zn=()=>H.get().each(kn),mr=Or=>sn(Dn,Or,Ne,"bottom"),Gn=()=>K.get().each(mr);Kf().deviceType.isTouch()&&(o.on("TableSelectionChange",Or=>{_.get()||(Wg(u,qt),Wg(u,Dn),_.set(!0)),H.set(Or.start),K.set(Or.finish),Or.otherCells.each(Mr=>{p.set(Mr.upOrLeftCells),S.set(Mr.downOrRightCells),kn(Or.start),mr(Or.finish)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{Zn(),Gn()}),o.on("TableSelectionClear",()=>{_.get()&&(Ih(qt),Ih(Dn),_.set(!1)),H.clear(),K.clear()}))};var $ne=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const Lne=o=>o.nodeName==="BR"||!!o.getAttribute("data-mce-bogus")||o.getAttribute("data-mce-type")==="bookmark",pz=(o,u,p)=>{var S;const _=(S=u.delimiter)!==null&&S!==void 0?S:"",H=(Ne,Ue,Je)=>Ll.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Je,"aria-level":Je+1}},components:[yi(Ne)],action:st=>{o.focus(),o.selection.select(Ue),o.nodeChanged()},buttonBehaviours:pr([nl.button(p.isDisabled),pl()])}),K=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[yi(` ${_} `)]}),ye=Ne=>Ce(Ne,(Ue,Je,st)=>{const ht=H(Je.name,Je.element,st);return st===0?Ue.concat([ht]):Ue.concat([K(),ht])},[]),Ae=Ne=>{const Ue=[];let Je=Ne.length;for(;Je-- >0;){const st=Ne[Je];if(st.nodeType===1&&!Lne(st)){const ht=KI(o,st);if(ht.isDefaultPrevented()||Ue.push({name:ht.name,element:st}),ht.isPropagationStopped())break}}return Ue};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pr([yo.config({mode:"flow",selector:"div[role=button]"}),Co.config({disabled:p.isDisabled}),pl(),ja.config({}),Uo.config({}),Jo("elementPathEvents",[Ca((Ne,Ue)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>yo.focusIn(Ne)),o.on("NodeChange",Je=>{const st=Ae(Je.parents),ht=st.length>0?ye(st):[];Uo.set(Ne,ht)})})])]),components:[]}};var Dv;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Dv||(Dv={}));const eO=(o,u,p,S,_)=>{const H={height:JC(S+u.top,a2(o),oR(o))};return p===Dv.Both&&(H.width=JC(_+u.left,rR(o),n5(o))),H},vz=(o,u,p)=>{const S=zt.fromDom(o.getContainer()),_=eO(o,u,p,Ha(S),Si(S));Ye(_,(H,K)=>{T(H)&&Po(S,K,W2(H))}),jI(o)},sD=o=>{const u=NL(o);return u===!1?Dv.None:u==="both"?Dv.Both:Dv.Vertical},tO=(o,u,p,S)=>{const H=Is(p*20,S*20);return vz(o,H,u),L.some(!0)},Ine=(o,u)=>{const p=sD(o);if(p===Dv.None)return L.none();const S=p===Dv.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return L.some(zh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:u.translate("Resize"),"aria-label":u.translate(S)},behaviours:[D1.config({mode:"mouse",repositionTarget:!1,onDrag:(_,H,K)=>vz(o,K,p),blockerClass:"tox-blocker"}),yo.config({mode:"special",onLeft:()=>tO(o,p,-1,0),onRight:()=>tO(o,p,1,0),onUp:()=>tO(o,p,0,-1),onDown:()=>tO(o,p,0,1)}),ja.config({}),Mo.config({})]},u.icons))},Nne=(o,u)=>{const p=(S,_,H)=>Uo.set(S,[yi(u.translate(["{0} "+H,_[H]]))]);return Ll.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pr([nl.button(u.isDisabled),pl(),ja.config({}),Uo.config({}),Fr.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Jo("wordcount-events",[sd(S=>{const _=Fr.getValue(S),H=_.mode==="words"?"characters":"words";Fr.setValue(S,{mode:H,count:_.count}),p(S,_.count,H)}),Ca(S=>{o.on("wordCountUpdate",_=>{const{mode:H}=Fr.getValue(S);Fr.setValue(S,{mode:H,count:_.wordCount}),p(S,_.wordCount,H)})})])]),eventOrder:{[Ii()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},Bne=(o,u)=>{const p=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":md.translate(["Powered by {0}","Tiny"])},innerHtml:$ne.trim()},behaviours:pr([Mo.config({})])}]}),S=()=>{const ye=C5("Alt+0"),Ae="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[yi(md.translate([Ae,ye]))]}},_=()=>{const ye=[];return o.hasPlugin("wordcount")&&ye.push(Nne(o,u)),fR(o)&&ye.push(p()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:ye}},H=()=>{const ye=[],Ae=l5(o),Ne=l2(o),Ue=fR(o)||o.hasPlugin("wordcount"),Je=()=>{const st="tox-statusbar__text-container--flex-start",ht="tox-statusbar__text-container--flex-end",At="tox-statusbar__text-container--space-around";if(Ae){const qt="tox-statusbar__text-container-3-cols";return!Ue&&!Ne?[qt,At]:Ue&&!Ne?[qt,ht]:[qt,st]}return[Ue&&!Ne?ht:st]};return Ne&&ye.push(pz(o,{},u)),Ae&&ye.push(S()),Ue&&ye.push(_()),ye.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...Je()]},components:ye}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const ye=H(),Ae=Ine(o,u);return ye.concat(Ae.toArray())})()}},yz=(o,u)=>u.get().getOrDie(`UI for ${o} has not been rendered`),Qne=(o,u)=>{const p=o.inline,S=p?ite:nte,_=jT(o)?pF:HK,H=lte(),K=gs(),ye=gs(),Ae=gs(),st=Kf().deviceType.isTouch()?["tox-platform-touch"]:[],ht=gR(o),At=i2(o),qt=ia({dom:{tag:"div",classes:["tox-anchorbar"]}}),Dn=ia({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),mn=()=>H.mainUi.get().map(To=>To.outerContainer).bind(La.getHeader),sn=()=>jo.fromOption(H.dialogUi.get().map(To=>To.sink),"UI has not been rendered"),kn=()=>jo.fromOption(H.popupUi.get().map(To=>To.sink),"(popup) UI has not been rendered"),Zn=H.lazyGetInOuterOrDie("anchor bar",qt.getOpt),mr=H.lazyGetInOuterOrDie("bottom anchor bar",Dn.getOpt),Gn=H.lazyGetInOuterOrDie("toolbar",La.getToolbar),Or=H.lazyGetInOuterOrDie("throbber",La.getThrobber),Mr=IK({popup:kn,dialog:sn},o,Zn,mr),is=()=>{const To={attributes:{[N0]:ht?Nf.BottomToTop:Nf.TopToBottom}},Yo=La.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Mr.popup,onEscape:()=>{o.focus()}}),Ma=La.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Mr.popup.shared.getSink,providers:Mr.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:u3=>{PX(o,u3)},type:At,lazyToolbar:Gn,lazyHeader:()=>mn().getOrDie("Could not find header element"),...To}),Fs=La.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Mr.popup.shared.providers,onEscape:()=>{o.focus()},type:At}),tc=GT(o),yf=u5(o),ch=c2(o),nm=BL(o),I1=Gr(),cO=tc||yf||ch,rg=()=>tc?[Fs]:yf?[Ma]:[],Lv=nm?[I1,Yo]:[Yo];return La.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(cO?[]:["tox-editor-header--empty"]),...To},components:Ie([ch?Lv:[],rg(),u2(o)?[]:[qt.asSpec()]]),sticky:jT(o),editor:o,sharedBackstage:Mr.popup.shared})},Gr=()=>La.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Io=()=>{const To=La.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Yo=La.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[To,Yo]}},_o=()=>{const To=pR(o),Yo=Jt(ya(),To)&&Fa(To,"display")==="grid",Ma={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(st),attributes:{...md.isRtl()?{dir:"rtl"}:{}}},behaviours:pr([cc.config({useFixed:()=>_.isDocked(mn)})])},Fs={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ea([qn(Vd(),ch=>{Po(ch.element,"width",document.body.clientWidth+"px")})])},tc=ic(Ta(Ma,Yo?Fs:{})),yf=V5(tc);return ye.set(yf),{sink:tc,mothership:yf}},na=()=>{const To={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(st),attributes:{...md.isRtl()?{dir:"rtl"}:{}}},behaviours:pr([cc.config({useFixed:()=>_.isDocked(mn),getBounds:()=>u.getPopupSinkBounds()})])},Yo=ic(To),Ma=V5(Yo);return Ae.set(Ma),{sink:Yo,mothership:Ma}},wo=()=>{const To=is(),Yo=Io(),Ma=La.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Mr.popup}),Fs=La.parts.viewWrapper({backstage:Mr.popup}),tc=IL(o)&&!p?L.some(Bne(o,Mr.popup.shared.providers)):L.none(),yf=Ie([ht?[]:[To],p?[]:[Yo],ht?[To]:[]]),ch=La.parts.editorContainer({components:Ie([yf,p?[]:[Dn.asSpec(),...tc.toArray()]])}),nm=vR(o),I1={role:"application",...md.isRtl()?{dir:"rtl"}:{},...nm?{"aria-hidden":"true"}:{}},cO=ic(La.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(p?["tox-tinymce-inline"]:[]).concat(ht?["tox-tinymce--toolbar-bottom"]:[]).concat(st),styles:{visibility:"hidden",...nm?{opacity:"0",border:"0"}:{}},attributes:I1},components:[ch,...p?[]:[Fs],Ma],behaviours:pr([pl(),Co.config({disableClass:"tox-tinymce--disabled"}),yo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),rg=V5(cO);return K.set(rg),{mothership:rg,outerContainer:cO}},Ns=To=>{const Yo=W2(CV(o)),Ma=W2(rte(o));return o.inline||(bl("div","width",Ma)&&Po(To.element,"width",Ma),bl("div","height",Yo)?Po(To.element,"height",Yo):Po(To.element,"height","400px")),Yo},Pr=To=>{o.addShortcut("alt+F9","focus menubar",()=>{La.focusMenubar(To)}),o.addShortcut("alt+F10","focus toolbar",()=>{La.focusToolbar(To)}),o.addCommand("ToggleToolbarDrawer",(Yo,Ma)=>{Ma!=null&&Ma.skipFocus?La.toggleToolbarDrawerWithoutFocusing(To):La.toggleToolbarDrawer(To)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>La.isToolbarDrawerToggled(To))},so=To=>{const{mainUi:Yo,popupUi:Ma,uiMotherships:Fs}=To;je(_L(o),(rS,RP)=>{o.ui.registry.addGroupToolbarButton(RP,rS)});const{buttons:tc,menuItems:yf,contextToolbars:ch,sidebars:nm,views:I1}=o.ui.registry.getAll(),cO=mR(o),rg={menuItems:yf,menus:zL(o),menubar:aR(o),toolbar:cO.getOrThunk(()=>o5(o)),allowToolbarGroups:At===Vf.floating,buttons:tc,sidebar:nm,views:I1};Pr(Yo.outerContainer),B2(o,Yo.mothership,Fs),_.setup(o,Mr.popup.shared,mn),Fte(o,Mr.popup),rne(o,Mr.popup.shared.getSink,Mr.popup),xJ(o),V4(o,Or,Mr.popup.shared),Tte(o,ch,Ma.sink,{backstage:Mr.popup}),Dne(o,Ma.sink);const Lv=o.getElement(),u3=Ns(Yo.outerContainer),hD={targetNode:Lv,height:u3};return S.render(o,To,rg,Mr.popup,hD)},No=To=>(Ae.set(To.mothership),To),Qo=()=>{const To=wo(),Yo=_o(),Ma=ep(o)?na():No(Yo);H.dialogUi.set(Yo),H.popupUi.set(Ma),H.mainUi.set(To);const Fs={popupUi:Ma,dialogUi:Yo,mainUi:To,uiMotherships:H.getUiMotherships()};return so(Fs)};return{popups:{backstage:Mr.popup,getMothership:()=>yz("popups",Ae)},dialogs:{backstage:Mr.dialog,getMothership:()=>yz("dialogs",ye)},renderUI:Qo}},nO=(o,u)=>{const p=Ri(o,"id").fold(()=>{const S=Kr("dialog-label");return Dr(u,"id",S),S},z);Dr(o,"aria-labelledby",p)},bz=Q([er("lazySink"),Ws("dragBlockClass"),Di("getBounds",Hl),Mn("useTabstopAt",ie),Mn("firstTabstop",0),Mn("eventOrder",{}),tl("modalBehaviours",[yo]),Ru("onExecute"),pw("onEscape")]),aD={sketch:z},Fne=Q([du({name:"draghandle",overrides:(o,u)=>({behaviours:pr([D1.config({mode:"mouse",getTarget:p=>Eu(p,'[role="dialog"]').getOr(p),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(u,null,2)).message),getBounds:o.getDragBounds})])})}),uc({schema:[er("dom")],name:"title"}),uc({factory:aD,schema:[er("dom")],name:"close"}),uc({factory:aD,schema:[er("dom")],name:"body"}),du({factory:aD,schema:[er("dom")],name:"footer"}),fd({factory:{sketch:(o,u)=>({...o,dom:u.dom,components:u.components})},schema:[Mn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Mn("components",[])],name:"blocker"})]),Vne=(o,u,p,S)=>{const _=gs(),H=ht=>{_.set(ht);const At=o.lazySink(ht).getOrDie(),qt=S.blocker(),Dn=At.getSystem().build({...qt,components:qt.components.concat([rf(ht)]),behaviours:pr([Mo.config({}),Jo("dialog-blocker-events",[Ch(Do(),()=>{Jm.isBlocked(ht)?M():yo.focusIn(ht)})])])});Wg(At,Dn),yo.focusIn(ht)},K=ht=>{_.clear(),Fn(ht.element).each(At=>{ht.getSystem().getByDom(At).each(qt=>{Ih(qt)})})},ye=ht=>zm(ht,o,"body"),Ae=ht=>ka(ht,o,"footer"),Ne=(ht,At)=>{Jm.block(ht,At)},Ue=ht=>{Jm.unblock(ht)},Je=Kr("modal-events"),st={...o.eventOrder,[tf()]:[Je].concat(o.eventOrder["alloy.system.attached"]||[])};return{uid:o.uid,dom:o.dom,components:u,apis:{show:H,hide:K,getBody:ye,getFooter:Ae,setIdle:Ue,setBusy:Ne},eventOrder:st,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ni(o.modalBehaviours,[Uo.config({}),yo.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Jm.config({getRoot:_.get}),Jo(Je,[Ca(ht=>{nO(ht.element,zm(ht,o,"title").element)})])])}},wl=fc({name:"ModalDialog",configFields:bz(),partFields:Fne(),factory:Vne,apis:{show:(o,u)=>{o.show(u)},hide:(o,u)=>{o.hide(u)},getBody:(o,u)=>o.getBody(u),getFooter:(o,u)=>o.getFooter(u),setBusy:(o,u,p)=>{o.setBusy(u,p)},setIdle:(o,u)=>{o.setIdle(u)}}}),zne=uo([Gi,DR].concat(Fb)),Zne=Df,iD=[x5("button"),gd,Uc("align","end",["start","end"]),op,Kd,Nd("buttonType",["primary","secondary"])],Oz=[...iD,kv],o3=[$f("type",["submit","cancel","custom"]),...Oz],s3=[$f("type",["menu"]),rp,eC,gd,ac("items",zne),...iD],lD=[...iD,$f("type",["togglebutton"]),zs("tooltip"),gd,rp,Wi("active",!1)],bP=xs("type",{submit:o3,cancel:o3,custom:o3,menu:s3,togglebutton:lD}),rO=[Gi,kv,$f("level",["info","warn","error","success"]),$R,Mn("url","")],OP=uo(rO),Hne=o=>[Gi,o],xz=[Gi,kv,Kd,x5("button"),gd,lI,Nd("buttonType",["primary","secondary","toolbar"]),op],Sz=uo(xz),oO=[Gi,DR],eg=oO.concat([b5]),Une=oO.concat([y5,Kd]),Wne=uo(Une),wz=Df,Tz=eg.concat([cI("auto")]),cD=uo(Tz),Yne=Ld([m2,kv,$R]),Xne=eg.concat([od("storageKey","default")]),Gne=uo(Xne),Cz=il,jne=uo(eg),qne=il,uD=oO.concat([od("tag","textarea"),zs("scriptId"),zs("scriptUrl"),rk("settings",void 0)]),fD=oO.concat([od("tag","textarea"),Ku("init")]),Kne=_l(o=>da("customeditor.old",ca(fD),o).orThunk(()=>da("customeditor.new",ca(uD),o))),kz=il,Jne=uo(eg),Az=zO(),ere=o=>[Gi,Ag("columns"),o],tre=[Gi,zs("html"),Uc("presets","presentation",["presentation","document"])],sO=uo(tre),Pz=eg.concat([Wi("border",!1),Wi("sandboxed",!0),Wi("streamContent",!1),Wi("transparent",!0)]),nre=uo(Pz),xP=il,G2=uo(oO.concat([cl("height")])),SP=uo([zs("url"),di("zoom"),di("cachedWidth"),di("cachedHeight")]),Mz=eg.concat([cl("inputMode"),cl("placeholder"),Wi("maximized",!1),Kd]),wP=uo(Mz),gf=il,TP=o=>[Gi,y5,o,Uc("align","start",["start","center","end"])],Ez=[kv,m2],_z=[kv,ac("items",Jp("items",()=>Rz))],Rz=Xr([uo(Ez),uo(_z)]),rre=eg.concat([ac("items",Rz),Kd]),$1=uo(rre),eue=il,ore=eg.concat([u0("items",[kv,m2]),rd("size",1),Kd]),Dz=uo(ore),j2=il,CP=eg.concat([Wi("constrain",!0),Kd]),$z=uo(CP),Lz=uo([zs("width"),zs("height")]),sre=oO.concat([y5,rd("min",0),rd("max",0)]),are=uo(sre),ire=Kp,q2=[Gi,ac("header",il),ac("cells",ju(il))],tue=uo(q2),lre=eg.concat([cl("placeholder"),Wi("maximized",!1),Kd]),cre=uo(lre),nue=il,Iz=[$f("type",["directory","leaf"]),sI,zs("id"),iu("menu",HC)],K2=uo(Iz),ure=Iz.concat([ac("children",Jp("children",()=>lr("type",{directory:Nz,leaf:K2})))]),Nz=uo(ure),Bz=lr("type",{directory:Nz,leaf:K2}),fre=[Gi,ac("items",Bz),td("onLeafAction"),td("onToggleExpand"),Ac("defaultExpandedIds",[],il),cl("defaultSelectedId")],oue=uo(fre),n=eg.concat([Uc("filetype","file",["image","media","file"]),Kd,cl("picker_text")]),s=uo(n),l=uo([m2,tC]),m=o=>ll("items","items",Ks(),ju(_l(u=>da(`Checking item of ${o}`,x,u).fold(p=>jo.error(Wl(p)),p=>jo.value(p))))),x=al(()=>lr("type",{alertbanner:OP,bar:uo(Hne(m("bar"))),button:Sz,checkbox:Wne,colorinput:Gne,colorpicker:jne,dropzone:Jne,grid:uo(ere(m("grid"))),iframe:nre,input:wP,listbox:$1,selectbox:Dz,sizeinput:$z,slider:are,textarea:cre,urlinput:s,customeditor:Kne,htmlpanel:sO,imagepreview:G2,collection:cD,label:uo(TP(m("label"))),table:tue,tree:oue,panel:Z})),P=[Gi,Mn("classes",[]),ac("items",x)],Z=uo(P),J=[x5("tab"),sI,ac("items",x)],ge=[Gi,u0("tabs",J)],Re=uo(ge),Ge=Oz,qe=bP,ot=uo([zs("title"),Hc("body",lr("type",{panel:Z,tabpanel:Re})),od("size","normal"),Ac("buttons",[],qe),Mn("initialData",{}),Di("onAction",M),Di("onChange",M),Di("onSubmit",M),Di("onClose",M),Di("onCancel",M),Di("onTabChange",M)]),Et=o=>da("dialog",ot,o),Vt=uo([$f("type",["cancel","custom"]),...Ge]),kt=uo([zs("title"),zs("url"),di("height"),di("width"),Bd("buttons",Vt),Di("onAction",M),Di("onCancel",M),Di("onClose",M),Di("onMessage",M)]),It=o=>da("dialog",kt,o),cn=o=>c(o)?[o].concat(re(Nt(o),cn)):v(o)?re(o,cn):[],xn=o=>h(o.type)&&h(o.name),bn={checkbox:wz,colorinput:Cz,colorpicker:qne,dropzone:Az,input:gf,iframe:xP,imagepreview:SP,selectbox:j2,sizeinput:Lz,slider:ire,listbox:eue,size:Lz,textarea:nue,urlinput:l,customeditor:kz,collection:Yne,togglemenuitem:Zne},$n=o=>L.from(bn[o.type]),rr=o=>Oe(cn(o),xn),gr=o=>{const u=rr(o),p=re(u,S=>$n(S).fold(()=>[],_=>[Hc(S.name,_)]));return uo(p)},Qr=o=>{var u;const p=aa(Et(o)),S=gr(o),_=(u=o.initialData)!==null&&u!==void 0?u:{};return{internalDialog:p,dataValidator:S,initialData:_}},zn={open:(o,u)=>{const p=Qr(u);return o(p.internalDialog,p.initialData,p.dataValidator)},openUrl:(o,u)=>{const p=aa(It(u));return o(p)},redial:o=>Qr(o)};var tr=Object.freeze({__proto__:null,events:(o,u)=>{const p=(S,_)=>{o.updateState.each(H=>{const K=H(S,_);u.set(K)}),o.renderComponents.each(H=>{const K=H(_,u.get());(o.reuseDom?z9:mu)(S,K)})};return Ea([qn(Gl(),(S,_)=>{const H=_;if(!H.universal){const K=o.channel;xe(H.channels,K)&&p(S,H.data)}}),Ca((S,_)=>{o.initialData.each(H=>{p(S,H)})})])}}),po=Object.freeze({__proto__:null,getState:(o,u,p)=>p}),ls=[er("channel"),Ws("renderComponents"),Ws("updateState"),Ws("initialData"),Wi("reuseDom",!0)],ma=Object.freeze({__proto__:null,init:()=>{const o=G(L.none()),u=()=>o.set(L.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:u}}});const $s=hl({fields:ls,name:"reflecting",active:tr,apis:po,state:ma}),mi=o=>{const u=[],p={};return Ye(o,(S,_)=>{S.fold(()=>{u.push(_)},H=>{p[_]=H})}),u.length>0?jo.error(u):jo.value(p)},hc=(o,u,p)=>{const S=ia(E2.sketch(_=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:ne(o.items,H=>jh(_,H,u,p))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[S.asSpec()]}],behaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(TC)}),zf.memento(S),xC(S,{postprocess:_=>mi(_).fold(H=>(console.error(H),{}),z)}),Jo("dialog-body-panel",[qn(Do(),(_,H)=>{_.getSystem().broadcastOn([kC],{newFocus:L.some(H.event.target)})})])])}},ga=(o,u)=>({uid:o.uid,dom:o.dom,components:o.components,events:Wm(o.action),behaviours:Ni(o.tabButtonBehaviours,[Mo.config({}),yo.config({mode:"execution",useSpace:!0,useEnter:!0}),Fr.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification}),Cr=Du({name:"TabButton",configFields:[Mn("uid",void 0),er("value"),ll("dom","dom",hs(()=>({attributes:{role:"tab",id:Kr("aria"),"aria-selected":"false"}})),vi()),Ws("action"),Mn("domModification",{}),tl("tabButtonBehaviours",[Mo,yo,Fr]),er("view")],factory:ga}),co=Q([er("tabs"),er("dom"),Mn("clickToDismiss",!1),tl("tabbarBehaviours",[Ys,yo]),Ig(["tabClass","selectedClass"])]),Zs=Ob({factory:Cr,name:"tabs",unit:"tab",overrides:o=>{const u=(S,_)=>{Ys.dehighlight(S,_),vo(S,WO(),{tabbar:S,button:_})},p=(S,_)=>{Ys.highlight(S,_),vo(S,sk(),{tabbar:S,button:_})};return{action:S=>{const _=S.getSystem().getByUid(o.uid).getOrDie(),H=Ys.isHighlighted(_,S);(()=>H&&o.clickToDismiss?u:H?M:p)()(_,S)},domModification:{classes:[o.markers.tabClass]}}}}),ws=Q([Zs]),oo=(o,u,p,S)=>({uid:o.uid,dom:o.dom,components:u,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ni(o.tabbarBehaviours,[Ys.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(_,H)=>{Dr(H.element,"aria-selected","true")},onDehighlight:(_,H)=>{Dr(H.element,"aria-selected","false")}}),yo.config({mode:"flow",getInitial:_=>Ys.getHighlighted(_).map(H=>H.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])}),Lo=fc({name:"Tabbar",configFields:co(),partFields:ws(),factory:oo}),yr=(o,u)=>({uid:o.uid,dom:o.dom,behaviours:Ni(o.tabviewBehaviours,[Uo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Bo=Du({name:"Tabview",configFields:[tl("tabviewBehaviours",[Uo])],factory:yr}),Ls=Q([Mn("selectFirst",!0),Rs("onChangeTab"),Rs("onDismissTab"),Mn("tabs",[]),tl("tabSectionBehaviours",[])]),Aa=uc({factory:Lo,schema:[er("dom"),au("markers",[er("tabClass"),er("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),Sa=uc({factory:Bo,name:"tabview"}),Il=Q([Aa,Sa]),Kh=(o,u,p,S)=>{const _=K=>{const ye=Fr.getValue(K);ka(K,o,"tabview").each(Ae=>{Ve(o.tabs,Ue=>Ue.value===ye).each(Ue=>{const Je=Ue.view();Ri(K.element,"id").each(st=>{Dr(Ae.element,"aria-labelledby",st)}),Uo.set(Ae,Je),o.onChangeTab(Ae,K,Je)})})},H=(K,ye)=>{ka(K,o,"tabbar").each(Ae=>{ye(Ae).each(km)})};return{uid:o.uid,dom:o.dom,components:u,behaviours:Fm(o.tabSectionBehaviours),events:Ea(Ie([o.selectFirst?[Ca((K,ye)=>{H(K,Ys.getFirst)})]:[],[qn(sk(),(K,ye)=>{const Ae=ye.event.button;_(Ae)}),qn(WO(),(K,ye)=>{const Ae=ye.event.button;o.onDismissTab(K,Ae)})]])),apis:{getViewItems:K=>ka(K,o,"tabview").map(ye=>Uo.contents(ye)).getOr([]),showTab:(K,ye)=>{H(K,Ne=>{const Ue=Ys.getCandidates(Ne);return Ve(Ue,st=>Fr.getValue(st)===ye).filter(st=>!Ys.isHighlighted(Ne,st))})}}}},Hf=fc({name:"TabSection",configFields:Ls(),partFields:Il(),factory:Kh,apis:{getViewItems:(o,u)=>o.getViewItems(u),showTab:(o,u,p)=>{o.showTab(u,p)}}}),Iu=(o,u,p)=>ne(o,(S,_)=>{Uo.set(p,o[_].view());const H=u.dom.getBoundingClientRect();return Uo.set(p,[]),H.height}),ih=o=>ke(Se(o,(u,p)=>u>p?-1:u<p?1:0)),Wo=(o,u,p)=>{const S=pn(o).dom,_=Eu(o,".tox-dialog-wrap").getOr(o),H=Fa(_,"position")==="fixed";let K;H?K=Math.max(S.clientHeight,window.innerHeight):K=Math.max(S.offsetHeight,S.scrollHeight);const ye=Ha(u),Ne=u.dom.offsetLeft>=p.dom.offsetLeft+Si(p)?Math.max(Ha(p),ye):ye,Ue=parseInt(Fa(o,"margin-top"),10)||0,Je=parseInt(Fa(o,"margin-bottom"),10)||0,ht=Ha(o)+Ue+Je-Ne;return K-ht},Hs=(o,u)=>{ke(o).each(p=>Hf.showTab(u,p.value))},Pa=(o,u)=>{Po(o,"height",u+"px"),Po(o,"flex-basis",u+"px")},ai=(o,u,p)=>{Eu(o,'[role="dialog"]').each(S=>{Ai(S,'[role="tablist"]').each(_=>{p.get().map(H=>(Po(u,"height","0"),Po(u,"flex-basis","0"),Math.min(H,Wo(S,u,_)))).each(H=>{Pa(u,H)})})})},Wa=o=>Ai(o,'[role="tabpanel"]'),pf=o=>{const u=gs();return{extraEvents:[Ca(_=>{const H=_.element;Wa(H).each(K=>{Po(K,"visibility","hidden"),_.getSystem().getByDom(K).toOptional().each(ye=>{const Ae=Iu(o,K,ye);ih(Ae).fold(u.clear,u.set)}),ai(H,K,u),Ho(K,"visibility"),Hs(o,_),requestAnimationFrame(()=>{ai(H,K,u)})})}),qn(Vd(),_=>{const H=_.element;Wa(H).each(K=>{ai(H,K,u)})}),qn(BN,(_,H)=>{const K=_.element;Wa(K).each(ye=>{const Ae=Dh(es(ye));Po(ye,"visibility","hidden");const Ne=Za(ye,"height").map(st=>parseInt(st,10));Ho(ye,"height"),Ho(ye,"flex-basis");const Ue=ye.dom.getBoundingClientRect().height;Ne.forall(st=>Ue>st)?(u.set(Ue),ai(K,ye,u)):Ne.each(st=>{Pa(ye,st)}),Ho(ye,"visibility"),Ae.each(uu)})})],selectFirst:!1}},Jh="send-data-to-section",$v="send-data-to-view",kP=(o,u,p)=>{const S=G({}),_=Ne=>{const Ue=Fr.getValue(Ne),Je=mi(Ue).getOr({}),st=S.get(),ht=Ta(st,Je);S.set(ht)},H=Ne=>{const Ue=S.get();Fr.setValue(Ne,Ue)},K=G(null),ye=ne(o.tabs,Ne=>({value:Ne.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[yi(p.shared.providers.translate(Ne.title))],view:()=>[E2.sketch(Ue=>({dom:{tag:"div",classes:["tox-form"]},components:ne(Ne.items,Je=>jh(Ue,Je,u,p)),formBehaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(TC)}),Jo("TabView.form.events",[Ca(H),kh(_)]),cu.config({channels:bt([{key:Jh,value:{onReceive:_}},{key:$v,value:{onReceive:H}}])})])}))]})),Ae=pf(ye);return Hf.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(Ne,Ue,Je)=>{const st=Fr.getValue(Ue);vo(Ne,NN,{name:st,oldName:K.get()}),K.set(st)},tabs:ye,components:[Hf.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Lo.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pr([ja.config({})])}),Hf.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:Ae.selectFirst,tabSectionBehaviours:pr([Jo("tabpanel",Ae.extraEvents),yo.config({mode:"acyclic"}),Ss.config({find:Ne=>ke(Hf.getViewItems(Ne))}),x1(L.none(),Ne=>(Ne.getSystem().broadcastOn([Jh],{}),S.get()),(Ne,Ue)=>{S.set(Ue),Ne.getSystem().broadcastOn([$v],{})})])})},a3=(o,u,p,S,_)=>{const H=Ae=>{const Ne=Ae.body;switch(Ne.type){case"tabpanel":return[kP(Ne,Ae.initialData,S)];default:return[hc(Ne,Ae.initialData,S)]}},K=(Ae,Ne)=>L.some({isTabPanel:()=>Ne.body.type==="tabpanel"}),ye={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...p.map(Ae=>({id:Ae})).getOr({}),..._?ye:{}}},components:[],behaviours:pr([zf.childAt(0),$s.config({channel:`${hp}-${u}`,updateState:K,renderComponents:H,initialData:o})])}},AP=(o,u,p,S,_)=>a3(o,u,L.some(p),S,_),J2=(o,u,p)=>{const S=a3(o,u,L.none(),p,!1);return wl.parts.body(S)},PP=o=>{const u={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[MB(L.none(),{dom:{tag:"iframe",attributes:{src:o.url}},behaviours:pr([ja.config({}),Mo.config({})])})]}],behaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(TC)})])};return wl.parts.body(u)},eS=s2.deviceType.isTouch(),L1=(o,u)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,u]}),em=(o,u)=>wl.parts.close(Ll.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":u.translate("Close")}},action:o,buttonBehaviours:pr([ja.config({})])})),tg=()=>wl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),tS=(o,u)=>wl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:wv(`<p>${j_(u.translate(o))}</p>`)}]}]}),aO=o=>wl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),i3=(o,u)=>[jm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),jm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:u})],ng=o=>{const u="tox-dialog",p=u+"-wrap",S=p+"__backdrop",_=u+"__disable-scroll";return wl.sketch({lazySink:o.lazySink,onEscape:H=>(o.onEscape(H),L.some(!0)),useTabstopAt:H=>!TC(H),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[u].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:wv(`<div class="${p}"></div>`),components:[{dom:{tag:"div",classes:eS?[S,S+"--opaque"]:[S]}}]}},dragBlockClass:p,modalBehaviours:pr([Mo.config({}),Jo("dialog-events",o.dialogEvents.concat([Ch(Do(),(H,K)=>{Jm.isBlocked(H)?M():yo.focusIn(H)}),qn(HO(),(H,K)=>{H.getSystem().broadcastOn([kC],{newFocus:K.event.newFocus})})])),Jo("scroll-lock",[Ca(()=>{ki(ya(),_)}),kh(()=>{Ga(ya(),_)})]),...o.extraBehaviours]),eventOrder:{[Ii()]:["dialog-events"],[tf()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Pg()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},MP=o=>Ll.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),title:o.translate("Close")}},buttonBehaviours:pr([ja.config({})]),components:[zh("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:u=>{ks(u,v1)}}),l3=(o,u,p,S)=>{const _=H=>[yi(S.translate(H.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...p.map(H=>({id:H})).getOr({})}},components:[],behaviours:pr([$s.config({channel:`${u4}-${u}`,initialData:o,renderComponents:_})])}},Bc=()=>({dom:wv('<div class="tox-dialog__draghandle"></div>')}),iO=(o,u,p,S)=>jm.sketch({dom:wv('<div class="tox-dialog__header"></div>'),components:[l3(o,u,L.some(p),S),Bc(),MP(S)],containerBehaviours:pr([D1.config({mode:"mouse",blockerClass:"blocker",getTarget:_=>Zd(_,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Qz=(o,u,p)=>{const S=wl.parts.title(l3(o,u,L.none(),p)),_=wl.parts.draghandle(Bc()),H=wl.parts.close(MP(p)),K=[S].concat(o.draggable?[_]:[]).concat([H]);return jm.sketch({dom:wv('<div class="tox-dialog__header"></div>'),components:K})},EP=(o,u,p)=>Qz({title:p.shared.providers.translate(o),draggable:p.dialog.isDraggableModal()},u,p.shared.providers),c3=(o,u,p,S)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":p.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${S.getOr(0)}px`,position:"absolute"}},behaviours:u,components:[{dom:wv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),gp=(o,u,p)=>({onClose:()=>p.closeWindow(),onBlock:S=>{const _=Ai(o().element,".tox-dialog__header").map(H=>Ha(H));wl.setBusy(o(),(H,K)=>c3(S.message,K,u,_))},onUnblock:()=>{wl.setIdle(o())}}),nS="tox-dialog--fullscreen",Ln="tox-dialog--width-lg",In="tox-dialog--width-md",br=o=>{switch(o){case"large":return L.some(Ln);case"medium":return L.some(In);default:return L.none()}},hr=(o,u)=>{const p=zt.fromDom(u.element.dom);el(p,nS)||(nf(p,[Ln,In]),br(o).each(S=>ki(p,S)))},mo=(o,u)=>{const p=zt.fromDom(o.element.dom),S=S0(p),_=Ve(S,H=>H===Ln||H===In).or(br(u));dw(p,[nS,..._.toArray()])},Os=(o,u,p)=>ic(ng({...o,firstTabstop:1,lazySink:p.shared.getSink,extraBehaviours:[SC({}),...o.extraBehaviours],onEscape:S=>{ks(S,v1)},dialogEvents:u,eventOrder:{[Gl()]:[$s.name(),cu.name()],[tf()]:["scroll-lock",$s.name(),"messages","dialog-events","alloy.base.behaviour"],[Pg()]:["alloy.base.behaviour","dialog-events","messages",$s.name(),"scroll-lock"]}})),qa=(o,u={})=>{const p=S=>{const _=ne(S.items,H=>{const K=Bt(u,H.name).getOr(G(!1));return{...H,storage:K}});return{...S,items:_}};return ne(o,S=>S.type==="menu"?p(S):S)},vf=o=>Ce(o,(u,p)=>p.type==="menu"?Ce(p.items,(_,H)=>(_[H.name]=H.storage,_),u):u,{}),mc=(o,u)=>[tw(Do(),_B),o(T2,(p,S,_,H)=>{Dh(es(H.element)).fold(M,D0),u.onClose(),S.onClose()}),o(v1,(p,S,_,H)=>{S.onCancel(p),ks(H,T2)}),qn(E8,(p,S)=>u.onUnblock()),qn(M8,(p,S)=>u.onBlock(S.event))],lO=(o,u)=>{const p=(_,H)=>qn(_,(K,ye)=>{S(K,(Ae,Ne)=>{H(o(),Ae,ye.event,K)})}),S=(_,H)=>{$s.getState(_).get().each(K=>{H(K,_)})};return[...mc(p,u),p(lp,(_,H,K)=>{H.onAction(_,{name:K.name})})]},lh=(o,u,p)=>{const S=(H,K)=>qn(H,(ye,Ae)=>{_(ye,(Ne,Ue)=>{K(o(),Ne,Ae.event,ye)})}),_=(H,K)=>{$s.getState(H).get().each(ye=>{K(ye.internalDialog,H)})};return[...mc(S,u),S(pC,(H,K)=>K.onSubmit(H)),S(hf,(H,K,ye)=>{K.onChange(H,{name:ye.name})}),S(lp,(H,K,ye,Ae)=>{const Ne=()=>Ae.getSystem().isConnected()?yo.focusIn(Ae):void 0,Ue=ht=>_d(ht,"disabled")||Ri(ht,"aria-disabled").exists(At=>At==="true"),Je=es(Ae.element),st=Dh(Je);K.onAction(H,{name:ye.name,value:ye.value}),Dh(Je).fold(Ne,ht=>{Ue(ht)||st.exists(At=>on(ht,At)&&Ue(At))?Ne():p().toOptional().filter(At=>!on(At.element,ht)).each(Ne)})}),S(NN,(H,K,ye)=>{K.onTabChange(H,{newTabName:ye.name,oldTabName:ye.oldName})}),kh(H=>{const K=o();Fr.setValue(H,K.getData())})]},Fz=(o,u)=>C4(o,o.type,u),Vz=(o,u,p)=>Ve(u,S=>S.name===p).bind(S=>S.memento.getOpt(o)),zz=(o,u)=>{const p=u.map(ye=>ye.footerButtons).getOr([]),S=ve(p,ye=>ye.align==="start"),_=(ye,Ae)=>jm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${ye}`]},components:ne(Ae,Ne=>Ne.memento.asSpec())}),H=_("start",S.pass),K=_("end",S.fail);return[H,K]},dD=(o,u,p)=>{const S=(_,H)=>{const K=ne(H.buttons,Ae=>{const Ne=ia(Fz(Ae,p));return{name:Ae.name,align:Ae.align,memento:Ne}}),ye=Ae=>Vz(_,K,Ae);return L.some({lookupByName:ye,footerButtons:K})};return{dom:wv('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pr([$s.config({channel:`${f4}-${u}`,initialData:o,updateState:S,renderComponents:zz})])}},dre=(o,u,p)=>dD(o,u,p),ps=(o,u,p)=>wl.parts.footer(dD(o,u,p)),Qn=(o,u)=>{if(o.getRoot().getSystem().isConnected()){const S=Ss.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return E2.getField(S,u).orThunk(()=>o.getFooter().bind(K=>$s.getState(K).get()).bind(K=>K.lookupByName(u)))}else return L.none()},lo=(o,u)=>{const p=o.getRoot();return $s.getState(p).get().map(S=>aa(da("data",S.dataValidator,u))).getOr(u)},Eo=(o,u,p)=>{const S=At=>{const qt=o.getRoot();qt.getSystem().isConnected()&&At(qt)},ht={getData:()=>{const At=o.getRoot(),qt=At.getSystem().isConnected()?o.getFormWrapper():At,Dn=Fr.getValue(qt),mn=je(p,sn=>sn.get());return{...Dn,...mn}},setData:At=>{S(qt=>{const Dn=ht.getData(),mn=Ta(Dn,At),sn=lo(o,mn),kn=o.getFormWrapper();Fr.setValue(kn,sn),Ye(p,(Zn,mr)=>{vn(mn,mr)&&Zn.set(mn[mr])})})},setEnabled:(At,qt)=>{Qn(o,At).each(qt?Co.enable:Co.disable)},focus:At=>{Qn(o,At).each(Mo.focus)},block:At=>{if(!h(At))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");S(qt=>{vo(qt,M8,{message:At})})},unblock:()=>{S(At=>{ks(At,E8)})},showTab:At=>{S(qt=>{const Dn=o.getBody();$s.getState(Dn).get().exists(sn=>sn.isTabPanel())&&Ss.getCurrent(Dn).each(sn=>{Hf.showTab(sn,At)})})},redial:At=>{S(qt=>{const Dn=o.getId(),mn=u(At),sn=qa(mn.internalDialog.buttons,p);qt.getSystem().broadcastOn([`${CC}-${Dn}`],mn),qt.getSystem().broadcastOn([`${u4}-${Dn}`],mn.internalDialog),qt.getSystem().broadcastOn([`${hp}-${Dn}`],mn.internalDialog),qt.getSystem().broadcastOn([`${f4}-${Dn}`],{...mn.internalDialog,buttons:sn}),ht.setData(mn.initialData)})},close:()=>{S(At=>{ks(At,T2)})},toggleFullscreen:o.toggleFullscreen};return ht},Qi=(o,u,p)=>{const S=Kr("dialog"),_=o.internalDialog,H=EP(_.title,S,p),K=G(_.size),ye=br(K.get()).toArray(),Ae=(sn,kn)=>(K.set(kn.internalDialog.size),hr(kn.internalDialog.size,sn),L.some(kn)),Ne=J2({body:_.body,initialData:_.initialData},S,p),Ue=qa(_.buttons),Je=vf(Ue),st=lt(Ue.length!==0,ps({buttons:Ue},S,p)),ht=lh(()=>mn,gp(()=>qt,p.shared.providers,u),p.shared.getSink),At={id:S,header:H,body:Ne,footer:st,extraClasses:ye,extraBehaviours:[$s.config({channel:`${CC}-${S}`,updateState:Ae,initialData:o})],extraStyles:{}},qt=Os(At,ht,p),Dn=(()=>{const sn=()=>{const Zn=wl.getBody(qt);return Ss.getCurrent(Zn).getOr(Zn)},kn=()=>{mo(qt,K.get())};return{getId:Q(S),getRoot:Q(qt),getBody:()=>wl.getBody(qt),getFooter:()=>wl.getFooter(qt),getFormWrapper:sn,toggleFullscreen:kn}})(),mn=Eo(Dn,u.redial,Je);return{dialog:qt,instanceApi:mn}},qc=(o,u,p,S=!1,_)=>{const H=Kr("dialog"),K=Kr("dialog-label"),ye=Kr("dialog-content"),Ae=o.internalDialog,Ne=G(Ae.size),Ue=br(Ne.get()).toArray(),Je=(Gn,Or)=>(Ne.set(Or.internalDialog.size),hr(Or.internalDialog.size,Gn),_(),L.some(Or)),st=ia(iO({title:Ae.title,draggable:!0},H,K,p.shared.providers)),ht=ia(AP({body:Ae.body,initialData:Ae.initialData},H,ye,p,S)),At=qa(Ae.buttons),qt=vf(At),Dn=lt(At.length!==0,ia(dre({buttons:At},H,p))),mn=lh(()=>mr,{onBlock:Gn=>{Jm.block(kn,(Or,Mr)=>{const is=st.getOpt(kn).map(Gr=>Ha(Gr.element));return c3(Gn.message,Mr,p.shared.providers,is)})},onUnblock:()=>{Jm.unblock(kn)},onClose:()=>u.closeWindow()},p.shared.getSink),kn=ic({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...Ue],attributes:{role:"dialog","aria-labelledby":K}},eventOrder:{[Gl()]:[$s.name(),cu.name()],[Ii()]:["execute-on-form"],[tf()]:["reflecting","execute-on-form"]},behaviours:pr([yo.config({mode:"cyclic",onEscape:Gn=>(ks(Gn,T2),L.some(!0)),useTabstopAt:Gn=>!TC(Gn)&&(Oo(Gn)!=="button"||oa(Gn,"disabled")!=="disabled"),firstTabstop:1}),$s.config({channel:`${CC}-${H}`,updateState:Je,initialData:o}),Mo.config({}),Jo("execute-on-form",mn.concat([Ch(Do(),(Gn,Or)=>{yo.focusIn(Gn)}),qn(HO(),(Gn,Or)=>{Gn.getSystem().broadcastOn([kC],{newFocus:Or.event.newFocus})})])),Jm.config({getRoot:()=>L.some(kn)}),Uo.config({}),SC({})]),components:[st.asSpec(),ht.asSpec(),...Dn.map(Gn=>Gn.asSpec()).toArray()]}),Zn=()=>{mo(kn,Ne.get())},mr=Eo({getId:Q(H),getRoot:Q(kn),getFooter:()=>Dn.map(Gn=>Gn.get(kn)),getBody:()=>ht.get(kn),getFormWrapper:()=>{const Gn=ht.get(kn);return Ss.getCurrent(Gn).getOr(Gn)},toggleFullscreen:Zn},u.redial,qt);return{dialog:kn,instanceApi:mr}};var wd=tinymce.util.Tools.resolve("tinymce.util.URI");const Nl=o=>{const u=K=>{o.getSystem().isConnected()&&K(o)};return{block:K=>{if(!h(K))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(ye=>{vo(ye,M8,{message:K})})},unblock:()=>{u(K=>{ks(K,E8)})},close:()=>{u(K=>{ks(K,T2)})},sendMessage:K=>{u(ye=>{ye.getSystem().broadcastOn([a6],K)})}}},tm=["insertContent","setContent","execCommand","close","block","unblock"],_P=o=>c(o)&&tm.indexOf(o.mceAction)!==-1,hre=o=>!_P(o)&&c(o)&&vn(o,"mceAction"),Zz=(o,u,p)=>{switch(p.mceAction){case"insertContent":o.insertContent(p.content);break;case"setContent":o.setContent(p.content);break;case"execCommand":const S=b(p.ui)?p.ui:!1;o.execCommand(p.cmd,S,p.value);break;case"close":u.close();break;case"block":u.block(p.message);break;case"unblock":u.unblock();break}},sue=(o,u,p,S)=>{const _=Kr("dialog"),H=EP(o.title,_,S),K=PP(o),ye=o.buttons.bind(kn=>kn.length===0?L.none():L.some(ps({buttons:kn},_,S))),Ae=lO(()=>sn,gp(()=>mn,S.shared.providers,u)),Ne={...o.height.fold(()=>({}),kn=>({height:kn+"px","max-height":kn+"px"})),...o.width.fold(()=>({}),kn=>({width:kn+"px","max-width":kn+"px"}))},Ue=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],Je=new wd(o.url,{base_uri:new wd(window.location.href)}),st=`${Je.protocol}://${Je.host}${Je.port?":"+Je.port:""}`,ht=Lm(),At=(kn,Zn)=>L.some(Zn),qt=[$s.config({channel:`${CC}-${_}`,updateState:At,initialData:o}),Jo("messages",[Ca(()=>{const kn=Dc(zt.fromDom(window),"message",Zn=>{if(Je.isSameOrigin(new wd(Zn.raw.origin))){const mr=Zn.raw.data;_P(mr)?Zz(p,sn,mr):hre(mr)&&o.onMessage(sn,mr)}});ht.set(kn)}),kh(ht.clear)]),cu.config({channels:{[a6]:{onReceive:(kn,Zn)=>{Ai(kn.element,"iframe").each(mr=>{const Gn=mr.dom.contentWindow;k(Gn)&&Gn.postMessage(Zn,st)})}}}})],mn=Os({id:_,header:H,body:K,footer:ye,extraClasses:Ue,extraBehaviours:qt,extraStyles:Ne},Ae,S),sn=Nl(mn);return{dialog:mn,instanceApi:sn}},i2e=o=>{const u=o.shared;return{open:(S,_)=>{const H=()=>{wl.hide(Ne),_()},K=ia(C4({name:"close-alert",text:"OK",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"cancel",o)),ye=tg(),Ae=em(H,u.providers),Ne=ic(ng({lazySink:()=>u.getSink(),header:L1(ye,Ae),body:tS(S,u.providers),footer:L.some(aO(i3([],[K.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[qn(v1,H)],eventOrder:{}}));wl.show(Ne);const Ue=K.get(Ne);Mo.focus(Ue)}}},l2e=o=>{const u=o.shared;return{open:(S,_)=>{const H=st=>{wl.hide(Ue),_(st)},K=ia(C4({name:"yes",text:"Yes",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"submit",o)),ye=C4({name:"no",text:"No",primary:!1,buttonType:L.some("secondary"),align:"end",enabled:!0,icon:L.none()},"cancel",o),Ae=tg(),Ne=em(()=>H(!1),u.providers),Ue=ic(ng({lazySink:()=>u.getSink(),header:L1(Ae,Ne),body:tS(S,u.providers),footer:L.some(aO(i3([],[ye,K.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[qn(v1,()=>H(!1)),qn(pC,()=>H(!0))],eventOrder:{}}));wl.show(Ue);const Je=K.get(Ue);Mo.focus(Je)}}},aue=(o,u)=>aa(da("data",u,o)),iue=o=>dC(o,".tox-alert-dialog")||dC(o,".tox-confirm-dialog"),c2e=(o,u,p)=>u&&p?[]:[Bi.config({contextual:{lazyContext:()=>L.some(fi(zt.fromDom(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:S=>p1(o,S.element).map(H=>({bounds:w2(H),optScrollEnv:L.some({currentScrollTop:H.element.dom.scrollTop,scrollElmTop:Al(H.element).top})})).getOrThunk(()=>({bounds:Hl(),optScrollEnv:L.none()}))})],u2e=o=>{const u=o.editor,p=jT(u),S=i2e(o.backstages.dialog),_=l2e(o.backstages.dialog),H=(At,qt,Dn)=>{if(!O(qt)){if(qt.inline==="toolbar")return Ne(At,o.backstages.popup.shared.anchors.inlineDialog(),Dn,qt);if(qt.inline==="bottom")return Ue(At,o.backstages.popup.shared.anchors.inlineBottomDialog(),Dn,qt);if(qt.inline==="cursor")return Ne(At,o.backstages.popup.shared.anchors.cursor(),Dn,qt)}return Ae(At,Dn)},K=(At,qt)=>ye(At,qt),ye=(At,qt)=>{const Dn=mn=>{const sn=sue(mn,{closeWindow:()=>{wl.hide(sn.dialog),qt(sn.instanceApi)}},u,o.backstages.dialog);return wl.show(sn.dialog),sn.instanceApi};return zn.openUrl(Dn,At)},Ae=(At,qt)=>{const Dn=(mn,sn,kn)=>{const Zn=sn,Gn=Qi({dataValidator:kn,initialData:Zn,internalDialog:mn},{redial:zn.redial,closeWindow:()=>{wl.hide(Gn.dialog),qt(Gn.instanceApi)}},o.backstages.dialog);return wl.show(Gn.dialog),Gn.instanceApi.setData(Zn),Gn.instanceApi};return zn.open(Dn,At)},Ne=(At,qt,Dn,mn)=>{const sn=(kn,Zn,mr)=>{const Gn=aue(Zn,mr),Or=gs(),Mr=o.backstages.popup.shared.header.isPositionedAtTop(),is={dataValidator:mr,initialData:Gn,internalDialog:kn},Gr=()=>Or.on(wo=>{si.reposition(wo),(!p||!Mr)&&Bi.refresh(wo)}),Io=qc(is,{redial:zn.redial,closeWindow:()=>{Or.on(si.hide),u.off("ResizeEditor",Gr),Or.clear(),Dn(Io.instanceApi)}},o.backstages.popup,mn.ariaAttrs,Gr),_o=ic(si.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:mn.persistent?{event:"doNotDismissYet"}:{},...Mr?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pr([Jo("window-manager-inline-events",[qn(Mg(),(wo,Ns)=>{ks(Io.dialog,v1)})]),...c2e(u,p,Mr)]),isExtraPart:(wo,Ns)=>iue(Ns)}));Or.set(_o);const na=()=>{const wo=u.inline?ya():zt.fromDom(u.getContainer()),Ns=fi(wo);return L.some(Ns)};return si.showWithinBounds(_o,rf(Io.dialog),{anchor:qt},na),(!p||!Mr)&&(Bi.refresh(_o),u.on("ResizeEditor",Gr)),Io.instanceApi.setData(Gn),yo.focusIn(Io.dialog),Io.instanceApi};return zn.open(sn,At)},Ue=(At,qt,Dn,mn)=>{const sn=(kn,Zn,mr)=>{const Gn=aue(Zn,mr),Or=gs(),Mr=o.backstages.popup.shared.header.isPositionedAtTop(),is={dataValidator:mr,initialData:Gn,internalDialog:kn},Gr=()=>Or.on(wo=>{si.reposition(wo),Bi.refresh(wo)}),Io=qc(is,{redial:zn.redial,closeWindow:()=>{Or.on(si.hide),u.off("ResizeEditor ScrollWindow ElementScroll",Gr),Or.clear(),Dn(Io.instanceApi)}},o.backstages.popup,mn.ariaAttrs,Gr),_o=ic(si.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:mn.persistent?{event:"doNotDismissYet"}:{},...Mr?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pr([Jo("window-manager-inline-events",[qn(Mg(),(wo,Ns)=>{ks(Io.dialog,v1)})]),Bi.config({contextual:{lazyContext:()=>L.some(fi(zt.fromDom(u.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:wo=>p1(u,wo.element).map(Pr=>({bounds:w2(Pr),optScrollEnv:L.some({currentScrollTop:Pr.element.dom.scrollTop,scrollElmTop:Al(Pr.element).top})})).getOrThunk(()=>({bounds:Hl(),optScrollEnv:L.none()}))})]),isExtraPart:(wo,Ns)=>iue(Ns)}));Or.set(_o);const na=()=>o.backstages.popup.shared.getSink().toOptional().bind(wo=>{const Ns=p1(u,wo.element),Pr=15,so=Ns.map(To=>w2(To)).getOr(Hl()),No=fi(zt.fromDom(u.getContentAreaContainer())),Qo=yy(No,so);return L.some(ti(Qo.x,Qo.y,Qo.width,Qo.height-Pr))});return si.showWithinBounds(_o,rf(Io.dialog),{anchor:qt},na),Bi.refresh(_o),u.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Gr),Io.instanceApi.setData(Gn),yo.focusIn(Io.dialog),Io.instanceApi};return zn.open(sn,At)};return{open:H,openUrl:K,alert:(At,qt)=>{S.open(At,qt)},close:At=>{At.close()},confirm:(At,qt)=>{_.open(At,qt)}}},f2e=o=>{CL(o),NX(o),Vte(o)};var d2e=()=>{Sg.add("silver",o=>{f2e(o);let u=()=>Hl();const{dialogs:p,popups:S,renderUI:_}=Qne(o,{getPopupSinkBounds:()=>u()}),H=()=>{const Ae=_();return p1(o,S.getMothership().element).each(Ue=>{u=()=>w2(Ue)}),Ae};AG.register(o,S.backstage.shared);const K=u2e({editor:o,backstages:{popup:S.backstage,dialog:p.backstage}}),ye=()=>nR(o,{backstage:S.backstage},S.getMothership());return{renderUI:H,getWindowManagerImpl:Q(K),getNotificationManagerImpl:ye}})};d2e()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=M=>{let I=M;return{get:()=>I,set:Q=>{I=Q}}};var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=M=>()=>M;var a=tinymce.util.Tools.resolve("tinymce.Env");const i=M=>M.dispatch("ResizeEditor"),d=M=>I=>I.options.get(M),f=M=>{const I=M.options.register;I("autoresize_overflow_padding",{processor:"number",default:1}),I("autoresize_bottom_margin",{processor:"number",default:50})},h=d("min_height"),c=d("max_height"),g=d("autoresize_overflow_padding"),v=d("autoresize_bottom_margin"),y=M=>M.plugins.fullscreen&&M.plugins.fullscreen.isFullscreen(),b=(M,I)=>{const V=M.getBody();V&&(V.style.overflowY=I?"":"hidden",I||(V.scrollTop=0))},O=(M,I,V,N)=>{var Q;const z=parseInt((Q=M.getStyle(I,V,N))!==null&&Q!==void 0?Q:"",10);return isNaN(z)?0:z},C=M=>{if((M==null?void 0:M.type.toLowerCase())==="setcontent"){const I=M;return I.selection===!0||I.paste===!0}else return!1},k=(M,I,V,N)=>{var Q;const z=M.dom,U=M.getDoc();if(!U)return;if(y(M)){b(M,!0);return}const F=U.documentElement,B=N?N():g(M),E=(Q=h(M))!==null&&Q!==void 0?Q:M.getElement().offsetHeight;let W=E;const X=O(z,F,"margin-top",!0),ie=O(z,F,"margin-bottom",!0);let L=F.offsetHeight+X+ie+B;L<0&&(L=0);const me=M.getContainer().offsetHeight,ae=M.getContentAreaContainer().offsetHeight,q=me-ae;L+q>E&&(W=L+q);const de=c(M);if(de&&W>de?(W=de,b(M,!0)):b(M,!1),W!==I.get()){const ee=W-I.get();if(z.setStyle(M.getContainer(),"height",W+"px"),I.set(W),i(M),a.browser.isSafari()&&(a.os.isMacOS()||a.os.isiOS())){const xe=M.getWin();xe.scrollTo(xe.pageXOffset,xe.pageYOffset)}M.hasFocus()&&C(V)&&M.selection.scrollIntoView(),(a.browser.isSafari()||a.browser.isChromium())&&ee<0&&k(M,I,V,N)}},w=(M,I)=>{let V=()=>v(M),N,Q;M.on("init",z=>{N=0;const U=g(M),F=M.dom;F.setStyles(M.getDoc().documentElement,{height:"auto"}),a.browser.isEdge()||a.browser.isIE()?F.setStyles(M.getBody(),{paddingLeft:U,paddingRight:U,"min-height":0}):F.setStyles(M.getBody(),{paddingLeft:U,paddingRight:U}),k(M,I,z,V),N+=1}),M.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",z=>{if(N===1)Q=M.getContainer().offsetHeight,k(M,I,z,V),N+=1;else if(N===2){const U=Q<M.getContainer().offsetHeight;if(U){const F=M.dom,B=M.getDoc();F.setStyles(B.documentElement,{"min-height":0}),F.setStyles(M.getBody(),{"min-height":"inherit"})}V=U?r(0):V,N+=1}else k(M,I,z,V)})},T=(M,I)=>{M.addCommand("mceAutoResize",()=>{k(M,I)})};var R=()=>{e.add("autoresize",M=>{if(f(M),M.options.isSet("resize")||M.options.set("resize",!1),!M.inline){const I=t(0);T(M,I),w(M,I)}})};R()})();var wLe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],TLe=function(t){return wLe.map(function(e){return e.toLowerCase()}).indexOf(t.toLowerCase())!==-1},CLe=function(t,e,r){Object.keys(e).filter(TLe).forEach(function(a){var i=e[a];typeof i=="function"&&(a==="onInit"?i(t,r):r.on(a.substring(2),function(d){return i(d,r)}))})},kLe=function(t,e,r,a){var i=t.modelEvents?t.modelEvents:null,d=Array.isArray(i)?i.join(" "):i;zo(a,function(f,h){r&&typeof f=="string"&&f!==h&&f!==r.getContent({format:t.outputFormat})&&r.setContent(f)}),r.on(d||"change input undo redo",function(){e.emit("update:modelValue",r.getContent({format:t.outputFormat}))})},ALe=function(t,e,r,a,i,d){a.setContent(d()),r.attrs["onUpdate:modelValue"]&&kLe(e,r,a,i),CLe(t,r.attrs,a)},Tge=0,Hxe=function(t){var e=Date.now(),r=Math.floor(Math.random()*1e9);return Tge++,t+"_"+r+Tge+String(e)},PLe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},Cge=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},MLe=function(t,e){return Cge(t).concat(Cge(e))},ELe=function(t){return t==null},kge=function(){return{listeners:[],scriptId:Hxe("tiny-script"),scriptLoaded:!1}},_Le=function(){var t=kge(),e=function(i,d,f,h){var c=d.createElement("script");c.referrerPolicy="origin",c.type="application/javascript",c.id=i,c.src=f;var g=function(){c.removeEventListener("load",g),h()};c.addEventListener("load",g),d.head&&d.head.appendChild(c)},r=function(i,d,f){t.scriptLoaded?f():(t.listeners.push(f),i.getElementById(t.scriptId)||e(t.scriptId,i,d,function(){t.listeners.forEach(function(h){return h()}),t.scriptLoaded=!0}))},a=function(){t=kge()};return{load:r,reinitialize:a}},RLe=_Le(),DLe=function(){return typeof window<"u"?window:global},b3=function(){var t=DLe();return t&&t.tinymce?t.tinymce:null},$Le={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},z1=globalThis&&globalThis.__assign||function(){return z1=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},z1.apply(this,arguments)},LLe=function(t,e,r,a){return t(a||"div",{id:e,ref:r})},ILe=function(t,e,r){return t("textarea",{id:e,visibility:"hidden",ref:r})},_oe={selector:void 0,target:void 0},NLe=Z3({props:$Le,setup:function(t,e){var r=t.init?z1(z1({},t.init),_oe):z1({},_oe),a=yU(t),i=a.disabled,d=a.modelValue,f=a.tagName,h=Vo(null),c=null,g=t.id||Hxe("tiny-vue"),v=t.init&&t.init.inline||t.inline,y=!!e.attrs["onUpdate:modelValue"],b=!0,O=t.initialValue?t.initialValue:"",C="",k=function(R){return y?function(){return d!=null&&d.value?d.value:""}:function(){return R?O:C}},w=function(){var R=k(b),M=z1(z1({},r),{readonly:t.disabled,target:h.value,plugins:MLe(r.plugins,t.plugins),toolbar:t.toolbar||r.toolbar,inline:v,setup:function(I){c=I,I.on("init",function(V){return ALe(V,t,e,I,d,R)}),typeof r.setup=="function"&&r.setup(I)}});PLe(h.value)&&(h.value.style.visibility=""),b3().init(M),b=!1};zo(i,function(R){var M;c!==null&&(typeof((M=c.mode)===null||M===void 0?void 0:M.set)=="function"?c.mode.set(R?"readonly":"design"):c.setMode(R?"readonly":"design"))}),zo(f,function(R){var M;y||(C=c.getContent()),(M=b3())===null||M===void 0||M.remove(c),Zl(function(){return w()})}),vg(function(){if(b3()!==null)w();else if(h.value&&h.value.ownerDocument){var R=t.cloudChannel?t.cloudChannel:"6",M=t.apiKey?t.apiKey:"no-api-key",I=ELe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(M,"/tinymce/").concat(R,"/tinymce.min.js"):t.tinymceScriptSrc;RLe.load(h.value.ownerDocument,I,w)}}),dm(function(){b3()!==null&&b3().remove(c)}),v||(Kae(function(){b||w()}),Jae(function(){var R;y||(C=c.getContent()),(R=b3())===null||R===void 0||R.remove(c)}));var T=function(R){var M;C=c.getContent(),(M=b3())===null||M===void 0||M.remove(c),r=z1(z1(z1({},r),R),_oe),Zl(function(){return w()})};return e.expose({rerender:T,getEditor:function(){return c}}),function(){return v?LLe(ph,g,h,t.tagName):ILe(ph,g,h)}}});const BLe={components:{"tiny-editor":NLe},props:{cellData:{type:Object,required:!0}},data(){return this.$devMode?{init:{plugins:"autoresize",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl",branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }",autoresize_bottom_margin:10,min_height:100},app_init:{plugins:"autoresize",toolbar:!1,branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }"},isAppRoute:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}:{init:{plugins:"autoresize",toolbar:!1,branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }"},isAppRoute:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},mounted(){this.checkRoute()},methods:{checkRoute(){tW().path==="/app"&&(this.isAppRoute=!0)},saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)}}};const QLe=Pd("span",{class:"py-0 px-2"},".doc",-1);function FLe(t,e,r,a,i,d){const f=Vv("tiny-editor");return to(),Ia(Go,null,[it(J3,{flat:"",color:"bluegrey"},{default:Vr(()=>[t.$devMode&&!t.isAppRoute?(to(),ys(am,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:Vr(()=>[it(lm,{cols:11},{default:Vr(()=>[QLe]),_:1}),it(lm,{cols:1,class:"d-flex justify-end align-center py-0"},{default:Vr(()=>[it(Ja,{small:"",class:"mx-1",color:"primary",onClick:d.saveCell},{default:Vr(()=>[Ka(" mdi-content-save ")]),_:1},8,["onClick"]),it(Ja,{small:"",class:"mx-1",color:"error",onClick:d.deleteCell},{default:Vr(()=>[Ka(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):yu("",!0),t.$devMode&&!t.isAppRoute?(to(),ys(f,{key:1,modelValue:r.cellData.code,"onUpdate:modelValue":e[0]||(e[0]=h=>r.cellData.code=h),init:t.init,onKeyUp:d.saveCell},null,8,["modelValue","init","onKeyUp"])):t.$devMode&&t.isAppRoute?(to(),ys(f,{key:2,modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=h=>r.cellData.code=h),init:t.app_init,onKeyUp:d.saveCell},null,8,["modelValue","init","onKeyUp"])):(to(),ys(f,{key:3,modelValue:r.cellData.code,"onUpdate:modelValue":e[2]||(e[2]=h=>r.cellData.code=h),init:t.init,disabled:!0},null,8,["modelValue","init"]))]),_:1}),t.$devMode&&!t.isAppRoute?(to(),ys(ZS,{key:0,transition:"scale-transition"},{activator:Vr(({props:h})=>[it(rc,rs(h,{block:""}),{default:Vr(()=>[it(am,null,{default:Vr(()=>[it(Ja,{color:"primary"},{default:Vr(()=>[Ka("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:Vr(()=>[it(zS,null,{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(t.items,(h,c)=>(to(),ys(pg,{key:c},{default:Vr(()=>[it(rc,{block:"",onClick:g=>d.createCell(h.title)},{default:Vr(()=>[Ka(Cp(h.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):yu("",!0)],64)}const Uxe=Xv(BLe,[["render",FLe]]),VLe=36,Age=1,zLe=2,RD=3,Roe=4,ZLe=5,HLe=6,ULe=7,WLe=8,YLe=9,XLe=10,GLe=11,jLe=12,qLe=13,KLe=14,JLe=15,eIe=16,tIe=17,Pge=18,nIe=19,Wxe=20,Yxe=21,Mge=22,rIe=23,oIe=24;function wae(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function sIe(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function x3(t,e,r){for(let a=!1;;){if(t.next<0)return;if(t.next==e&&!a){t.advance();return}a=r&&!a&&t.next==92,t.advance()}}function aIe(t){for(;;){if(t.next<0||t.peek(1)<0)return;if(t.next==36&&t.peek(1)==36){t.advance(2);return}t.advance()}}function iIe(t,e){let r="[{<(".indexOf(String.fromCharCode(e)),a=r<0?e:"]}>)".charCodeAt(r);for(;;){if(t.next<0)return;if(t.next==a&&t.peek(1)==39){t.advance(2);return}t.advance()}}function Xxe(t,e){for(;!(t.next!=95&&!wae(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function lIe(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),x3(t,e,!1)}else Xxe(t)}function Ege(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function _ge(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function Rge(t){for(;!(t.next<0||t.next==10);)t.advance()}function O3(t,e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)==t)return!0;return!1}const Doe=` 	\r
`;function Gxe(t,e,r){let a=Object.create(null);a.true=a.false=ZLe,a.null=a.unknown=HLe;for(let i of t.split(" "))i&&(a[i]=Wxe);for(let i of e.split(" "))i&&(a[i]=Yxe);for(let i of(r||"").split(" "))i&&(a[i]=oIe);return a}const cIe="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",uIe="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",Tae={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',words:Gxe(uIe,cIe)};function fIe(t,e,r,a){let i={};for(let d in Tae)i[d]=(t.hasOwnProperty(d)?t:Tae)[d];return e&&(i.words=Gxe(e,r||"",a)),i}function jxe(t){return new vh(e=>{var r;let{next:a}=e;if(e.advance(),O3(a,Doe)){for(;O3(e.next,Doe);)e.advance();e.acceptToken(VLe)}else if(a==36&&e.next==36&&t.doubleDollarQuotedStrings)aIe(e),e.acceptToken(RD);else if(a==39||a==34&&t.doubleQuotedStrings)x3(e,a,t.backslashEscapes),e.acceptToken(RD);else if(a==35&&t.hashComments||a==47&&e.next==47&&t.slashComments)Rge(e),e.acceptToken(Age);else if(a==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))Rge(e),e.acceptToken(Age);else if(a==47&&e.next==42){e.advance();for(let i=1;;){let d=e.next;if(e.next<0)break;if(e.advance(),d==42&&e.next==47){if(i--,e.advance(),!i)break}else d==47&&e.next==42&&(i++,e.advance())}e.acceptToken(zLe)}else if((a==101||a==69)&&e.next==39)e.advance(),x3(e,39,!0);else if((a==110||a==78)&&e.next==39&&t.charSetCasts)e.advance(),x3(e,39,t.backslashEscapes),e.acceptToken(RD);else if(a==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),x3(e,39,t.backslashEscapes),e.acceptToken(RD);break}if(!wae(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(a==113||a==81)&&e.next==39&&e.peek(1)>0&&!O3(e.peek(1),Doe)){let i=e.peek(1);e.advance(2),iIe(e,i),e.acceptToken(RD)}else if(a==40)e.acceptToken(ULe);else if(a==41)e.acceptToken(WLe);else if(a==123)e.acceptToken(YLe);else if(a==125)e.acceptToken(XLe);else if(a==91)e.acceptToken(GLe);else if(a==93)e.acceptToken(jLe);else if(a==59)e.acceptToken(qLe);else if(t.unquotedBitLiterals&&a==48&&e.next==98)e.advance(),Ege(e),e.acceptToken(Mge);else if((a==98||a==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(x3(e,i,t.backslashEscapes),e.acceptToken(rIe)):(Ege(e,i),e.acceptToken(Mge))}else if(a==48&&(e.next==120||e.next==88)||(a==120||a==88)&&e.next==39){let i=e.next==39;for(e.advance();sIe(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Roe)}else if(a==46&&e.next>=48&&e.next<=57)_ge(e,!0),e.acceptToken(Roe);else if(a==46)e.acceptToken(KLe);else if(a>=48&&a<=57)_ge(e,!1),e.acceptToken(Roe);else if(O3(a,t.operatorChars)){for(;O3(e.next,t.operatorChars);)e.advance();e.acceptToken(JLe)}else if(O3(a,t.specialVar))e.next==a&&e.advance(),lIe(e),e.acceptToken(tIe);else if(O3(a,t.identifierQuotes))x3(e,a,!1),e.acceptToken(nIe);else if(a==58||a==44)e.acceptToken(eIe);else if(wae(a)){let i=Xxe(e,String.fromCharCode(a));e.acceptToken(e.next==46?Pge:(r=t.words[i.toLowerCase()])!==null&&r!==void 0?r:Pge)}})}const qxe=jxe(Tae),dIe=RS.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,qxe],topRules:{Script:[0,25]},tokenPrec:0});function Cae(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function F$(t,e){let r=t.sliceString(e.from,e.to),a=/^([`'"])(.*)\1$/.exec(r);return a?a[2]:r}function sU(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function hIe(t,e){if(e.name=="CompositeIdentifier"){let r=[];for(let a=e.firstChild;a;a=a.nextSibling)sU(a)&&r.push(F$(t,a));return r}return[F$(t,e)]}function Dge(t,e){for(let r=[];;){if(!e||e.name!=".")return r;let a=Cae(e);if(!sU(a))return r;r.unshift(F$(t,a)),e=Cae(a)}}function mIe(t,e){let r=ol(t).resolveInner(e,-1),a=pIe(t.doc,r);return r.name=="Identifier"||r.name=="QuotedIdentifier"||r.name=="Keyword"?{from:r.from,quoted:r.name=="QuotedIdentifier"?t.doc.sliceString(r.from,r.from+1):null,parents:Dge(t.doc,Cae(r)),aliases:a}:r.name=="."?{from:e,quoted:null,parents:Dge(t.doc,r),aliases:a}:{from:e,quoted:null,parents:[],empty:!0,aliases:a}}const gIe=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function pIe(t,e){let r;for(let i=e;!r;i=i.parent){if(!i)return null;i.name=="Statement"&&(r=i)}let a=null;for(let i=r.firstChild,d=!1,f=null;i;i=i.nextSibling){let h=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,c=null;if(!d)d=h=="from";else if(h=="as"&&f&&sU(i.nextSibling))c=F$(t,i.nextSibling);else{if(h&&gIe.has(h))break;f&&sU(i)&&(c=F$(t,i))}c&&(a||(a=Object.create(null)),a[c]=hIe(t,f)),f=/Identifier$/.test(i.name)?i:null}return a}function vIe(t,e){return t?e.map(r=>Object.assign(Object.assign({},r),{label:t+r.label+t,apply:void 0})):e}const yIe=/^\w*$/,bIe=/^[`'"]?\w*[`'"]?$/;class Yle{constructor(){this.list=[],this.children=void 0}child(e,r){let a=this.children||(this.children=Object.create(null)),i=a[e];return i||(e&&this.list.push(Kxe(e,"type",r)),a[e]=new Yle)}addCompletions(e){for(let r of e){let a=this.list.findIndex(i=>i.label==r.label);a>-1?this.list[a]=r:this.list.push(r)}}}function Kxe(t,e,r){return/[^\w\xb5-\uffff]/.test(t)?{label:t,type:e,apply:r+t+r}:{label:t,type:e}}function OIe(t,e,r,a,i,d){var f;let h=new Yle,c=((f=d==null?void 0:d.spec.identifierQuotes)===null||f===void 0?void 0:f[0])||'"',g=h.child(i||"",c);for(let v in t){let y=v.replace(/\\?\./g,O=>O=="."?"\0":O).split("\0"),b=y.length==1?g:h;for(let O of y)b=b.child(O.replace(/\\\./g,"."),c);for(let O of t[v])O&&b.list.push(typeof O=="string"?Kxe(O,"property",c):O)}return e&&g.addCompletions(e),r&&h.addCompletions(r),h.addCompletions(g.list),a&&h.addCompletions(g.child(a,c).list),v=>{let{parents:y,from:b,quoted:O,empty:C,aliases:k}=mIe(v.state,v.pos);if(C&&!v.explicit)return null;k&&y.length==1&&(y=k[y[0]]||y);let w=h;for(let M of y){for(;!w.children||!w.children[M];)if(w==h)w=g;else if(w==g&&a)w=w.child(a,c);else return null;w=w.child(M,c)}let T=O&&v.state.sliceDoc(v.pos,v.pos+1)==O,R=w.list;return w==h&&k&&(R=R.concat(Object.keys(k).map(M=>({label:M,type:"constant"})))),{from:b,to:T?v.pos+1:void 0,options:vIe(O,R),validFor:O?bIe:yIe}}}function xIe(t,e){let r=Object.keys(t).map(a=>({label:e?a.toUpperCase():a,type:t[a]==Yxe?"type":t[a]==Wxe?"keyword":"variable",boost:-1}));return Qie(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],LU(r))}let SIe=dIe.configure({props:[H3.add({Statement:GD()}),BS.add({Statement(t){return{from:t.firstChild.to,to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),NS({Keyword:Qt.keyword,Type:Qt.typeName,Builtin:Qt.standard(Qt.name),Bits:Qt.number,Bytes:Qt.string,Bool:Qt.bool,Null:Qt.null,Number:Qt.number,String:Qt.string,Identifier:Qt.name,QuotedIdentifier:Qt.special(Qt.string),SpecialVar:Qt.special(Qt.name),LineComment:Qt.lineComment,BlockComment:Qt.blockComment,Operator:Qt.operator,"Semi Punctuation":Qt.punctuation,"( )":Qt.paren,"{ }":Qt.brace,"[ ]":Qt.squareBracket})]});class Xle{constructor(e,r,a){this.dialect=e,this.language=r,this.spec=a}get extension(){return this.language.extension}static define(e){let r=fIe(e,e.keywords,e.types,e.builtin),a=ES.define({name:"sql",parser:SIe.configure({tokenizers:[{from:qxe,to:jxe(r)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Xle(r,a,e)}}function wIe(t,e=!1){return xIe(t.dialect.words,e)}function TIe(t,e=!1){return t.language.data.of({autocomplete:wIe(t,e)})}function CIe(t){return t.schema?OIe(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||Gle):()=>null}function kIe(t){return t.schema?(t.dialect||Gle).language.data.of({autocomplete:CIe(t)}):[]}function $ge(t={}){let e=t.dialect||Gle;return new B3(e.language,[kIe(t),TIe(e,!!t.upperCaseKeywords)])}const Gle=Xle.define({}),AIe={components:{codemirror:BU,"v-data-table":$le},computed:{extensions(){const t=()=>{this.runCode()},e=IS.of([{key:"Ctrl-Enter",run:()=>(this.$devMode&&t(),!0)}]);return this.$devMode?[_p.highest(e),$ge(),pM,F3({override:[]})]:[Na.readOnly.of(!0),_p.highest(e),$ge(),pM,F3({override:[]})]}},data(){return{isFocused:!1,isAppRoute:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},props:{cellData:{type:Object,required:!0}},setup(){const t=fs(null);return{view:t,handleReady:r=>{t.value=r.view}}},mounted(){this.checkRoute()},methods:{checkRoute(){tW().path==="/app"&&(this.isAppRoute=!0)},runCode(){this.$emit("runCode",this.cellData.id)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)},saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")}}},PIe=Pd("span",{class:"py-0 px-2"},".sql",-1),MIe={key:4},EIe=Pd("p",{class:"text-caption text-disabled text-right"},"CTRL+Enter to run",-1),_Ie=[EIe],RIe={class:"text-p"};function DIe(t,e,r,a,i,d){const f=Vv("codemirror");return to(),Ia(Go,null,[it(J3,{flat:"",color:"bluegrey"},{default:Vr(()=>[t.$devMode&&!i.isAppRoute?(to(),ys(am,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:Vr(()=>[it(lm,{cols:11},{default:Vr(()=>[PIe]),_:1}),it(lm,{cols:1,class:"d-flex justify-end align-center py-0"},{default:Vr(()=>[it(Ja,{small:"",class:"mx-1",color:"primary",onClick:d.runCode},{default:Vr(()=>[Ka(" mdi-play ")]),_:1},8,["onClick"]),it(Ja,{small:"",class:"mx-1",color:"error",onClick:d.deleteCell},{default:Vr(()=>[Ka(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):yu("",!0),t.$devMode&&!i.isAppRoute?(to(),ys($p,{key:1,modelValue:r.cellData.variable_name,"onUpdate:modelValue":e[0]||(e[0]=h=>r.cellData.variable_name=h),label:"Enter SQL variable name",density:"compact"},null,8,["modelValue"])):yu("",!0),t.$devMode&&!i.isAppRoute?(to(),ys(f,{key:2,modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=h=>r.cellData.code=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions,onKeyup:d.saveCell},null,8,["modelValue","extensions","onKeyup"])):(to(),ys(zbe,{key:3},{default:Vr(()=>[it(Hbe,null,{default:Vr(()=>[it(Ele,{color:"bluegrey2"},{default:Vr(()=>[Ka(" View Source Code ")]),_:1}),it(Mle,null,{default:Vr(()=>[it($p,{modelValue:r.cellData.variable_name,"onUpdate:modelValue":e[2]||(e[2]=h=>r.cellData.variable_name=h),label:"Enter SQL variable name",density:"compact",readonly:!0},null,8,["modelValue"]),it(f,{modelValue:r.cellData.code,"onUpdate:modelValue":e[3]||(e[3]=h=>r.cellData.code=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions},null,8,["modelValue","extensions"])]),_:1})]),_:1})]),_:1})),t.$devMode&&!i.isAppRoute?(to(),Ia("div",MIe,_Ie)):yu("",!0),t.$devMode&&!i.isAppRoute?(to(!0),Ia(Go,{key:5},Wf(r.cellData.components,h=>(to(),ys(L$,{key:h.id},{default:Vr(()=>[(to(),ys(ug(h.component),rs(h,{modelValue:h.value,"onUpdate:modelValue":c=>h.value=c},{[X1(h.triggerEvent)]:d.runCode}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1024))),128)):yu("",!0),Pd("div",RIe,Cp(r.cellData.output),1)]),_:1}),t.$devMode&&!i.isAppRoute?(to(),ys(ZS,{key:0,transition:"scale-transition"},{activator:Vr(({props:h})=>[it(rc,rs(h,{block:""}),{default:Vr(()=>[it(am,null,{default:Vr(()=>[it(Ja,{color:"primary"},{default:Vr(()=>[Ka("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:Vr(()=>[it(zS,null,{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(i.items,(h,c)=>(to(),ys(pg,{key:c},{default:Vr(()=>[it(rc,{block:"",onClick:g=>d.createCell(h.title)},{default:Vr(()=>[Ka(Cp(h.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):yu("",!0)],64)}const Jxe=Xv(AIe,[["render",DIe]]),$Ie={components:{codemirror:BU},data:()=>({updatingDependencies:!1}),props:{dependencies:{type:Object,required:!0}},computed:{extensions(){return[zxe(),pM,F3({override:[]})]}},methods:{async updateDependencies(){const t={dependencies:this.dependencies.value};await DD.post("api/dependency_update",t),this.updatingDependencies=!1}}},LIe=Pd("span",{class:"text-h5"},"Add Dependencies",-1);function IIe(t,e,r,a,i,d){const f=Vv("codemirror");return to(),ys(l6e,{modelValue:t.updatingDependencies,"onUpdate:modelValue":e[2]||(e[2]=h=>t.updatingDependencies=h),persistent:"",width:"1024"},{activator:Vr(({props:h})=>[it(rc,rs({color:"primary"},h,{icon:"mdi-graph"}),null,16)]),default:Vr(()=>[it(J3,null,{default:Vr(()=>[it(Lbe,null,{default:Vr(()=>[LIe]),_:1}),t.$devMode?(to(),ys(f,{key:0,modelValue:r.dependencies.value,"onUpdate:modelValue":e[0]||(e[0]=h=>r.dependencies.value=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:d.extensions},null,8,["modelValue","extensions"])):yu("",!0),it($be,null,{default:Vr(()=>[it(w6e),it(rc,{color:"blue-darken-1",variant:"text",onClick:e[1]||(e[1]=h=>t.updatingDependencies=!1)},{default:Vr(()=>[Ka(" Close ")]),_:1}),it(rc,{color:"blue-darken-1",variant:"text",onClick:d.updateDependencies},{default:Vr(()=>[Ka(" Update ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const e2e=Xv($Ie,[["render",IIe]]),NIe={props:{notebook:{type:Object,required:!0},completions:{type:Object,required:!0}},components:{CodeComponent:_Oe,MarkdownComponent:Zxe,EditorComponent:Uxe,SQLComponent:Jxe,PackageComponent:e2e},data(){return{isAppRoute:!1,menu_items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}],concatenatedCodeCache:{lastCellId:"",code:"",length:0}}},mounted(){this.checkRoute()},methods:{checkRoute(){tW().path==="/app"&&(this.isAppRoute=!0)},getComponent(t){switch(t){case"code":return"CodeComponent";case"text":return"EditorComponent";case"markdown":return"MarkdownComponent";case"sql":return"SQLComponent";default:throw new Error(`Unknown component type: ${t}`)}},runCode(t,e,r){this.$emit("runCode",t,e)},deleteCell(t){this.$emit("deleteCell",t)},saveCell(t,e,r,a){this.$emit("saveCell",t,e,r,a)},createCodeCell(t,e){this.$emit("createCell",t,e)},componentValueChange(t,e,r){this.$emit("componentChange",t,e,r)}}};function BIe(t,e,r,a,i,d){return to(),ys(tOe,null,{default:Vr(()=>[it(L$,null,{default:Vr(()=>[t.$devMode&&!i.isAppRoute?(to(),ys(ZS,{key:0,transition:"scale-transition"},{activator:Vr(({props:f})=>[it(rc,rs(f,{block:""}),{default:Vr(()=>[it(am,null,{default:Vr(()=>[it(Ja,{color:"primary"},{default:Vr(()=>[Ka("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:Vr(()=>[it(zS,null,{default:Vr(()=>[(to(!0),Ia(Go,null,Wf(i.menu_items,(f,h)=>(to(),ys(pg,{key:h},{default:Vr(()=>[it(rc,{block:"",onClick:c=>d.createCodeCell("",f.title)},{default:Vr(()=>[Ka(Cp(f.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})):yu("",!0)]),_:1}),(to(!0),Ia(Go,null,Wf(r.notebook.cells,f=>(to(),ys(L$,null,{default:Vr(()=>[f.cellType==="code"?(to(),ys(ug(d.getComponent(f.cellType)),{key:0,cellData:f,completions:r.completions[f.id],onRunCode:d.runCode,onSaveCell:d.saveCell,onComponentChange:d.componentValueChange,onDeleteCell:d.deleteCell,onCreateCell:d.createCodeCell},null,40,["cellData","completions","onRunCode","onSaveCell","onComponentChange","onDeleteCell","onCreateCell"])):(to(),ys(ug(d.getComponent(f.cellType)),{key:1,cellData:f,onRunCode:d.runCode,onSaveCell:d.saveCell,onComponentChange:d.componentValueChange,onDeleteCell:d.deleteCell,onCreateCell:d.createCodeCell},null,40,["cellData","onRunCode","onSaveCell","onComponentChange","onDeleteCell","onCreateCell"]))]),_:2},1024))),256))]),_:1})}const QIe=Xv(NIe,[["render",BIe]]),FIe={components:{CodeComponent:_Oe,MarkdownComponent:Zxe,EditorComponent:Uxe,SQLComponent:Jxe,PackageComponent:e2e,CodeCellManager:QIe},data(){return{notebook:{},dependencies:{},completions:{},ws_url:"",notebook_socket:null,save_socket:null,run_socket:null,stop_socket:null,timer:0,timerInterval:null,isCodeRunning:!1,requestQueue:[],componentChangeQueue:[],concatenatedCodeCache:{lastCellId:"",code:"",length:0}}},beforeMount(){window.addEventListener("beforeunload",this.clearState),window.addEventListener("unload",this.clearState)},beforeUnmount(){window.removeEventListener("beforeunload",this.clearState),window.removeEventListener("unload",this.clearState)},async mounted(){await this.get_ws_url(),await this.initializeNotebookSocket(),await this.initializeRunSocket(),await this.initializeStopSocket(),this.$devMode&&await this.initializeSaveSocket(),this.isCodeRunning=!0,this.startTimer(),this.notebook_socket.send("")},methods:{startTimer(){this.timer=0,this.timerInterval=setInterval(()=>{this.timer++},1)},stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)},async get_ws_url(){const t=await DD.get("ws_url");this.ws_url=t.data||"ws://localhost:1326/"},async runCode(t){if(!t)return;const e=[],r={};for(let i in this.notebook.cells){const d={id:i,code:this.notebook.cells[i].code,variable_name:this.notebook.cells[i].variable_name||"",cellType:this.notebook.cells[i].cellType};for(const f of this.notebook.cells[i].components)f.component==="v-data-table"?(console.log("v-data-table"),r[f.id]=""):r[f.id]=f.value;e.push(d)}const a={originId:t,cells:e,components:r};if(this.isCodeRunning){const i=this.requestQueue.findIndex(d=>d.originId===t);i!==-1?this.requestQueue[i]=a:this.requestQueue.push(a);return}this.sendRunCodeRequest(a)},sendRunCodeRequest(t){this.isCodeRunning=!0,this.startTimer(),this.run_socket.send(JSON.stringify(t))},initializeNotebookSocket(){return this.notebook_socket=new WebSocket(this.ws_url+"ws/notebook"),this.notebook_socket.onmessage=t=>{const e=JSON.parse(t.data);if(e.cell_id)e.clear_output?this.notebook.cells[e.cell_id].output="":this.notebook.cells[e.cell_id].output=this.notebook.cells[e.cell_id].output.concat(e.output);else if(e.complete)this.isCodeRunning=!1,this.stopTimer();else{const r=JSON.parse(e);if(r.notebook){this.notebook=r.notebook;for(let a in this.notebook.cells)this.notebook.cells[a].cellType==="code"&&(this.completions[a]=[]);this.dependencies=r.dependencies}else this.notebook.cells[r.id].components=r.components,this.notebook.cells[r.id].layout=r.layout}},new Promise((t,e)=>{this.notebook_socket.onopen=()=>{console.log("Notebook socket connected"),t()},this.notebook_socket.onerror=r=>{console.error("Notebook socket connection error:",r),e(r)}})},initializeRunSocket(){return this.run_socket=this.$devMode?new WebSocket(this.ws_url+"ws/run_code"):new WebSocket(this.ws_url+"ws/component_run"),this.run_socket.onmessage=t=>{const e=JSON.parse(t.data);if(!this.$devMode&&e.refresh)this.notebookRefresh();else if(e.cell_id)e.clear_output?this.notebook.cells[e.cell_id].output="":this.notebook.cells[e.cell_id].output=this.notebook.cells[e.cell_id].output.concat(e.output);else if(e.complete){if(this.isCodeRunning=!1,this.stopTimer(),this.$devMode&&this.requestQueue.length>0){const r=this.requestQueue.shift()||{};this.sendRunCodeRequest(r)}else if(!this.$devMode&&this.componentChangeQueue.length>0){const r=this.componentChangeQueue.shift()||{},a={originId:r.originId,components:r.components,userId:r.userId};this.sendComponentRequest(a)}}else{const r=JSON.parse(e);this.notebook.cells[r.id].components=r.components,this.notebook.cells[r.id].layout=r.layout}},new Promise((t,e)=>{this.run_socket.onopen=()=>{console.log("Run socket connected"),t()},this.run_socket.onerror=r=>{console.error("Run socket connection error:",r),e(r)}})},initializeSaveSocket(){return this.save_socket=new WebSocket(this.ws_url+"ws/save_text"),this.save_socket.onmessage=t=>{try{const e=JSON.parse(t.data);this.completions[e.cell_id]=Array.isArray(e.completions)?e.completions:[]}catch(e){console.error("Error parsing server message:",e)}},new Promise((t,e)=>{this.save_socket.onopen=()=>{console.log("Save socket connected"),t()},this.save_socket.onerror=r=>{console.error("Save socket connection error:",r),e(r)}})},initializeStopSocket(){return this.stop_socket=new WebSocket(this.ws_url+"ws/stop_execution"),new Promise((t,e)=>{this.stop_socket.onopen=()=>{console.log("Stop socket connected"),t()},this.stop_socket.onerror=r=>{console.error("Stop socket connection error:",r),e(r)}})},async componentValueChange(t,e,r){const a={};for(let f in this.notebook.cells)for(const h of this.notebook.cells[f].components)h.component==="v-data-table"?a[h.id]="":a[h.id]=h.value;const i={originId:t,componentId:e,components:a,userId:this.notebook.userId};if(this.isCodeRunning){const f=this.componentChangeQueue.findIndex(h=>h.componentId===e);f!==-1?this.componentChangeQueue[f]=i:this.componentChangeQueue.push(i);return}const d={originId:i.originId,components:i.components,userId:i.userId};this.sendComponentRequest(d)},sendComponentRequest(t){this.isCodeRunning=!0,this.startTimer(),this.run_socket.send(JSON.stringify(t))},async notebookRefresh(){this.isCodeRunning=!0,this.startTimer(),this.notebook_socket.send("start")},navigateToApp(){window.open("https://zero-true.com/")},clearState:function(){const e={userId:this.notebook.userId};DD.post("api/clear_state",e)},async createCodeCell(t,e){console.log("creating cell");const r={cellType:e.toLowerCase(),position_key:t},i=(await DD.post("api/create_cell",r)).data;let d={};t||(d[i.id]=i);for(let f in this.notebook.cells)d[f]=this.notebook.cells[f],t===f&&(d[i.id]=i);i.cellType==="code"&&(this.completions[i.id]=[]),this.notebook.cells=d},async deleteCell(t){const e={cellId:t};await DD.post("api/delete_cell",e),this.notebook.cells[t].cellType==="code"&&delete this.completions[t],delete this.notebook.cells[t]},async saveCell(t,e,r,a){if(this.notebook.cells[t].cellType==="code"&&this.concatenatedCodeCache.lastCellId!==t){let d="",f=0;for(let h in this.notebook.cells){if(h===t)break;this.notebook.cells[h].cellType==="code"&&(d+=this.notebook.cells[h].code+`
`,f+=this.notebook.cells[h].code.split(/\r\n|\r|\n/).length)}this.concatenatedCodeCache={lastCellId:t,code:d,length:f}}const i={id:t,text:e,cellType:this.notebook.cells[t].cellType,line:this.concatenatedCodeCache.length+r,column:a,code_w_context:this.concatenatedCodeCache.code+e};this.save_socket.send(JSON.stringify(i))},async stopCodeExecution(){this.$devMode?(this.requestQueue=[],this.stop_socket.send("")):(this.componentChangeQueue=[],this.stop_socket.send(this.notebook.userId)),this.isCodeRunning=!1,this.stopTimer()},getComponent(t){switch(t){case"code":return"CodeComponent";case"text":return"EditorComponent";case"markdown":return"MarkdownComponent";case"sql":return"SQLComponent";default:throw new Error(`Unknown component type: ${t}`)}}}};const VIe={key:0,class:"d-flex align-center"};function zIe(t,e,r,a,i,d){const f=Vv("PackageComponent"),h=Vv("router-view");return to(),ys(Z_e,{style:{"background-color":"#040607"}},{default:Vr(()=>[it(oRe,{app:"",color:"bluegrey",id:"appBar"},{default:Vr(()=>[it(am,{class:"d-flex flex-row"},{default:Vr(()=>[it(lm,null,{default:Vr(()=>[it(rc,{size:"x-large",variant:"text",onClick:d.navigateToApp,id:"Navbutton"},{default:Vr(()=>[it(Ja,{start:"",size:"x-large",icon:"custom:ZTIcon"}),Ka(" Zero-True ")]),_:1},8,["onClick"])]),_:1}),t.$devMode?(to(),ys(lm,{key:0,cols:"auto"},{default:Vr(()=>[it(Jse,null,{default:Vr(()=>[it(rc,{to:"/"},{default:Vr(()=>[Ka("Dev")]),_:1}),it(rc,{to:"/app"},{default:Vr(()=>[Ka("App")]),_:1})]),_:1})]),_:1})):yu("",!0),it(lm,{class:"d-flex justify-end"},{default:Vr(()=>[i.isCodeRunning?(to(),Ia("div",VIe,[it(Jye,{indeterminate:"",color:"white",size:"24",id:"codeRunProgress"}),it(iM,{class:"ml-2",color:"white","text-color":"black",id:"timerChip"},{default:Vr(()=>[Ka(Cp(i.timer)+"ms ",1)]),_:1}),t.$devMode?(to(),ys(iM,{key:0,class:"ml-2",color:"white","text-color":"black",id:"queueLenghtChiptDev"},{default:Vr(()=>[Ka(" Queue Length: "+Cp(i.requestQueue.length),1)]),_:1})):(to(),ys(iM,{key:1,class:"ml-2",color:"white","text-color":"black",id:"queueLenghtChipApp"},{default:Vr(()=>[Ka(" Queue Length: "+Cp(i.componentChangeQueue.length),1)]),_:1})),it(Ja,{large:"",color:"error",onClick:e[0]||(e[0]=c=>d.stopCodeExecution()),id:"stopIcon"},{default:Vr(()=>[Ka(" mdi-stop ")]),_:1})])):yu("",!0),t.$devMode?(to(),ys(f,{key:1,dependencies:i.dependencies},null,8,["dependencies"])):yu("",!0)]),_:1})]),_:1})]),_:1}),it(tOe,null,{default:Vr(()=>[it(h,{notebook:i.notebook,completions:i.completions,onRunCode:d.runCode,onSaveCell:d.saveCell,onComponentValueChange:d.componentValueChange,onDeleteCell:d.deleteCell,onCreateCell:d.createCodeCell},null,8,["notebook","completions","onRunCode","onSaveCell","onComponentValueChange","onDeleteCell","onCreateCell"])]),_:1})]),_:1})}const ZIe=Xv(FIe,[["render",zIe]]);const HIe="modulepreload",UIe=function(t,e){return new URL(t,e).href},Lge={},kae=function(e,r,a){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(d=>{if(d=UIe(d,a),d in Lge)return;Lge[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!a)for(let v=i.length-1;v>=0;v--){const y=i[v];if(y.href===d&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":HIe,f||(g.as="script",g.crossOrigin=""),g.href=d,document.head.appendChild(g),f)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>e()).catch(d=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d})};async function WIe(){(await kae(()=>import("./webfontloader-f60b9ef9.js").then(e=>e.w),[],import.meta.url)).load({google:{families:["Pathway+Extreme:100,300,400,500,700,900&display=swap"]}})}const YIe={},XIe={id:"Capa_2","data-name":"Capa 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 92.58 61.58"},GIe=Pd("g",{id:"Capa_1-2","data-name":"Capa 1"},[Pd("g",null,[Pd("path",{class:"cls-1",d:"m77.14,15.44L61.7,0h-30.82l30.82,30.82v30.76l15.44-15.32,15.44-15.44-15.44-15.38Z"}),Pd("path",{class:"cls-1",d:"m15.44,46.14l15.44,15.44h30.82l-30.82-30.82V0l-15.44,15.32L0,30.76l15.44,15.38Z"})])],-1),jIe=[GIe];function qIe(t,e){return to(),Ia("svg",XIe,jIe)}const KIe=Xv(YIe,[["render",qIe]]),Aae={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function JIe(t,e){const r=[];let a=[];const i=t2e(t),d=n2e(t),f=(i.getDay()-Aae[e.slice(-2).toUpperCase()]+7)%7,h=(d.getDay()-Aae[e.slice(-2).toUpperCase()]+7)%7;for(let c=0;c<f;c++){const g=new Date(i);g.setDate(g.getDate()-(f-c)),a.push(g)}for(let c=1;c<=d.getDate();c++){const g=new Date(t.getFullYear(),t.getMonth(),c);a.push(g),a.length===7&&(r.push(a),a=[])}for(let c=1;c<7-h;c++){const g=new Date(d);g.setDate(g.getDate()+c),a.push(g)}return r.push(a),r}function t2e(t){return new Date(t.getFullYear(),t.getMonth(),1)}function n2e(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function eNe(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const tNe=/([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))/;function nNe(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(tNe.test(t))return eNe(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const Ige=new Date(2e3,0,2);function rNe(t){const e=Aae[t.slice(-2).toUpperCase()];return vM(7).map(r=>{const a=new Date(Ige);return a.setDate(Ige.getDate()+e+r),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(a)})}function oNe(t,e,r){const a=new Date(t);let i={};switch(e){case"fullDateWithWeekday":i={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":i={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":i={};break;case"monthAndDate":i={month:"long",day:"numeric"};break;case"monthAndYear":i={month:"long",year:"numeric"};break;case"dayOfMonth":i={day:"numeric"};break;case"shortDate":i={year:"numeric"};break;default:i={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(r,i).format(a)}function sNe(t,e){const r=new Date(t);return r.setDate(r.getDate()+e),r}function aNe(t,e){const r=new Date(t);return r.setMonth(r.getMonth()+e),r}function iNe(t){return t.getFullYear()}function lNe(t){return t.getMonth()}function cNe(t){return new Date(t.getFullYear(),0,1)}function uNe(t){return new Date(t.getFullYear(),11,31)}function fNe(t,e){return Pae(t,e[0])&&hNe(t,e[1])}function dNe(t){if(!t||t==null)return!1;const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Pae(t,e){return t.getTime()>e.getTime()}function hNe(t,e){return t.getTime()<e.getTime()}function Nge(t,e){return t.getTime()===e.getTime()}function mNe(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function gNe(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function pNe(t,e,r){const a=new Date(t),i=new Date(e);return r==="month"?a.getMonth()-i.getMonth()+(a.getFullYear()-i.getFullYear())*12:Math.floor((a.getTime()-i.getTime())/(1e3*60*60*24))}function vNe(t,e){const r=new Date(t);return r.setFullYear(e),r}function yNe(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function bNe(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class ONe{constructor(e){this.locale=e.locale}date(e){return nNe(e)}toJsDate(e){return e}addDays(e,r){return sNe(e,r)}addMonths(e,r){return aNe(e,r)}getWeekArray(e){return JIe(e,this.locale)}startOfMonth(e){return t2e(e)}endOfMonth(e){return n2e(e)}format(e,r){return oNe(e,r,this.locale)}isEqual(e,r){return Nge(e,r)}isValid(e){return dNe(e)}isWithinRange(e,r){return fNe(e,r)}isAfter(e,r){return Pae(e,r)}isBefore(e,r){return!Pae(e,r)&&!Nge(e,r)}isSameDay(e,r){return mNe(e,r)}isSameMonth(e,r){return gNe(e,r)}setYear(e,r){return vNe(e,r)}getDiff(e,r,a){return pNe(e,r,a)}getWeekdays(){return rNe(this.locale)}getYear(e){return iNe(e)}getMonth(e){return lNe(e)}startOfDay(e){return yNe(e)}endOfDay(e){return bNe(e)}startOfYear(e){return cNe(e)}endOfYear(e){return uNe(e)}}const Bge=Symbol.for("vuetify:date-adapter");function xNe(t){return wp({adapter:ONe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t)}function r2e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...r}=t,a=wp(e,r),{aliases:i={},components:d={},directives:f={}}=a,h=b_e(a.defaults),c=A8e(a.display,a.ssr),g=V_e(a.theme),v=dRe(a.icons),y=B_e(a.locale),b=xNe(a.date);return{install:C=>{for(const k in f)C.directive(k,f[k]);for(const k in d)C.component(k,d[k]);for(const k in i)C.component(k,IM({...i[k],name:k,aliasName:i[k].name}));if(g.install(C),C.provide(OM,h),C.provide(iae,c),C.provide(WH,g),C.provide(eae,v),C.provide(UH,y),C.provide(Bge,b),zl&&a.ssr)if(C.$nuxt)C.$nuxt.hook("app:suspense:resolve",()=>{c.update()});else{const{mount:k}=C;C.mount=function(){const w=k(...arguments);return Zl(()=>c.update()),C.mount=k,w}}jv.reset(),C.mixin({computed:{$vuetify(){return dh({defaults:FP.call(this,OM),display:FP.call(this,iae),theme:FP.call(this,WH),icons:FP.call(this,eae),locale:FP.call(this,UH),date:FP.call(this,Bge)})}}})},defaults:h,display:c,theme:g,icons:v,locale:y,date:b}}const SNe="3.3.20";r2e.version=SNe;function FP(t){var a,i;const e=this.$,r=((a=e.parent)==null?void 0:a.provides)??((i=e.vnode.appContext)==null?void 0:i.provides);if(r&&t in r)return r[t]}const wNe={ZTIcon:KIe},TNe={component:t=>ph(t.tag,[ph(wNe[t.icon],{class:"v-icon__svg"})])},CNe=r2e({theme:{defaultTheme:"light",themes:{light:{dark:!0,colors:{primary:"#AE9FE8",secondary:"#424242",bluegrey:"#0E1B23",bluegrey2:"#1B2F3C",accent:"#FFDCA7",error:"#FF6F6F",info:"#4CBCFC",success:"#16B48E",warning:"#F49E6E"}}}},icons:{defaultSet:"mdi",sets:{mdi:Gye,custom:TNe}}}),Qge=[{path:"/",name:"/",component:()=>kae(()=>import("./index-aa7e650d.js"),[],import.meta.url)},{path:"/app",name:"/app",component:()=>kae(()=>import("./app-564b6f62.js"),[],import.meta.url)}];function kNe(t){const{extendRoutes:e}=t;return yDe(Object.assign(t,{routes:typeof e=="function"?e(Qge):Qge}))}const ANe=kNe({history:$7e({}.BASE_URL)});function PNe(t){WIe(),t.use(CNe).use(ANe)}const jle=vCe(ZIe);PNe(jle);jle.config.globalProperties.$devMode=!0;jle.mount("#app");export{QIe as C,Xv as _,ys as c,bCe as g,to as o,Vv as r};
