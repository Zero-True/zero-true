var Zxe=Object.defineProperty;var Hxe=(t,e,r)=>e in t?Zxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zl=(t,e,r)=>(Hxe(t,typeof e!="symbol"?e+"":e,r),r),Uxe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var Are=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};var Kz=(t,e,r)=>(Uxe(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const f of i)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const f={};return i.integrity&&(f.integrity=i.integrity),i.referrerPolicy&&(f.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?f.credentials="include":i.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(i){if(i.ep)return;i.ep=!0;const f=r(i);fetch(i.href,f)}})();function epe(t,e){return function(){return t.apply(e,arguments)}}const{toString:Wxe}=Object.prototype,{getPrototypeOf:Iae}=Object,dU=(t=>e=>{const r=Wxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ay=t=>(t=t.toLowerCase(),e=>dU(e)===t),hU=t=>e=>typeof e===t,{isArray:M8}=Array,sD=hU("undefined");function Yxe(t){return t!==null&&!sD(t)&&t.constructor!==null&&!sD(t.constructor)&&Rp(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tpe=ay("ArrayBuffer");function Xxe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tpe(t.buffer),e}const Gxe=hU("string"),Rp=hU("function"),npe=hU("number"),mU=t=>t!==null&&typeof t=="object",jxe=t=>t===!0||t===!1,QZ=t=>{if(dU(t)!=="object")return!1;const e=Iae(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qxe=ay("Date"),Kxe=ay("File"),Jxe=ay("Blob"),eSe=ay("FileList"),tSe=t=>mU(t)&&Rp(t.pipe),nSe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rp(t.append)&&((e=dU(t))==="formdata"||e==="object"&&Rp(t.toString)&&t.toString()==="[object FormData]"))},rSe=ay("URLSearchParams"),oSe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function HD(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),M8(t))for(a=0,i=t.length;a<i;a++)e.call(null,t[a],a,t);else{const f=r?Object.getOwnPropertyNames(t):Object.keys(t),d=f.length;let h;for(a=0;a<d;a++)h=f[a],e.call(null,t[h],h,t)}}function rpe(t,e){e=e.toLowerCase();const r=Object.keys(t);let a=r.length,i;for(;a-- >0;)if(i=r[a],e===i.toLowerCase())return i;return null}const ope=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),spe=t=>!sD(t)&&t!==ope;function Voe(){const{caseless:t}=spe(this)&&this||{},e={},r=(a,i)=>{const f=t&&rpe(e,i)||i;QZ(e[f])&&QZ(a)?e[f]=Voe(e[f],a):QZ(a)?e[f]=Voe({},a):M8(a)?e[f]=a.slice():e[f]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&HD(arguments[a],r);return e}const sSe=(t,e,r,{allOwnKeys:a}={})=>(HD(e,(i,f)=>{r&&Rp(i)?t[f]=epe(i,r):t[f]=i},{allOwnKeys:a}),t),aSe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iSe=(t,e,r,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},lSe=(t,e,r,a)=>{let i,f,d;const h={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),f=i.length;f-- >0;)d=i[f],(!a||a(d,t,e))&&!h[d]&&(e[d]=t[d],h[d]=!0);t=r!==!1&&Iae(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},cSe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const a=t.indexOf(e,r);return a!==-1&&a===r},uSe=t=>{if(!t)return null;if(M8(t))return t;let e=t.length;if(!npe(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},fSe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Iae(Uint8Array)),dSe=(t,e)=>{const a=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=a.next())&&!i.done;){const f=i.value;e.call(t,f[0],f[1])}},hSe=(t,e)=>{let r;const a=[];for(;(r=t.exec(e))!==null;)a.push(r);return a},mSe=ay("HTMLFormElement"),gSe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),Iue=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),pSe=ay("RegExp"),ape=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),a={};HD(r,(i,f)=>{let d;(d=e(i,f,t))!==!1&&(a[f]=d||i)}),Object.defineProperties(t,a)},vSe=t=>{ape(t,(e,r)=>{if(Rp(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(Rp(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ySe=(t,e)=>{const r={},a=i=>{i.forEach(f=>{r[f]=!0})};return M8(t)?a(t):a(String(t).split(e)),r},bSe=()=>{},OSe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Pre="abcdefghijklmnopqrstuvwxyz",Nue="0123456789",ipe={DIGIT:Nue,ALPHA:Pre,ALPHA_DIGIT:Pre+Pre.toUpperCase()+Nue},xSe=(t=16,e=ipe.ALPHA_DIGIT)=>{let r="";const{length:a}=e;for(;t--;)r+=e[Math.random()*a|0];return r};function SSe(t){return!!(t&&Rp(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const wSe=t=>{const e=new Array(10),r=(a,i)=>{if(mU(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[i]=a;const f=M8(a)?[]:{};return HD(a,(d,h)=>{const c=r(d,i+1);!sD(c)&&(f[h]=c)}),e[i]=void 0,f}}return a};return r(t,0)},CSe=ay("AsyncFunction"),TSe=t=>t&&(mU(t)||Rp(t))&&Rp(t.then)&&Rp(t.catch),Nr={isArray:M8,isArrayBuffer:tpe,isBuffer:Yxe,isFormData:nSe,isArrayBufferView:Xxe,isString:Gxe,isNumber:npe,isBoolean:jxe,isObject:mU,isPlainObject:QZ,isUndefined:sD,isDate:qxe,isFile:Kxe,isBlob:Jxe,isRegExp:pSe,isFunction:Rp,isStream:tSe,isURLSearchParams:rSe,isTypedArray:fSe,isFileList:eSe,forEach:HD,merge:Voe,extend:sSe,trim:oSe,stripBOM:aSe,inherits:iSe,toFlatObject:lSe,kindOf:dU,kindOfTest:ay,endsWith:cSe,toArray:uSe,forEachEntry:dSe,matchAll:hSe,isHTMLForm:mSe,hasOwnProperty:Iue,hasOwnProp:Iue,reduceDescriptors:ape,freezeMethods:vSe,toObjectSet:ySe,toCamelCase:gSe,noop:bSe,toFiniteNumber:OSe,findKey:rpe,global:ope,isContextDefined:spe,ALPHABET:ipe,generateString:xSe,isSpecCompliantForm:SSe,toJSONObject:wSe,isAsyncFn:CSe,isThenable:TSe};function li(t,e,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i)}Nr.inherits(li,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Nr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lpe=li.prototype,cpe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cpe[t]={value:t}});Object.defineProperties(li,cpe);Object.defineProperty(lpe,"isAxiosError",{value:!0});li.from=(t,e,r,a,i,f)=>{const d=Object.create(lpe);return Nr.toFlatObject(t,d,function(c){return c!==Error.prototype},h=>h!=="isAxiosError"),li.call(d,t.message,e,r,a,i),d.cause=t,d.name=t.name,f&&Object.assign(d,f),d};const kSe=null;function zoe(t){return Nr.isPlainObject(t)||Nr.isArray(t)}function upe(t){return Nr.endsWith(t,"[]")?t.slice(0,-2):t}function Bue(t,e,r){return t?t.concat(e).map(function(i,f){return i=upe(i),!r&&f?"["+i+"]":i}).join(r?".":""):e}function ASe(t){return Nr.isArray(t)&&!t.some(zoe)}const PSe=Nr.toFlatObject(Nr,{},null,function(e){return/^is[A-Z]/.test(e)});function gU(t,e,r){if(!Nr.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Nr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,w){return!Nr.isUndefined(w[k])});const a=r.metaTokens,i=r.visitor||v,f=r.dots,d=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Nr.isSpecCompliantForm(e);if(!Nr.isFunction(i))throw new TypeError("visitor must be a function");function g(T){if(T===null)return"";if(Nr.isDate(T))return T.toISOString();if(!c&&Nr.isBlob(T))throw new li("Blob is not supported. Use a Buffer instead.");return Nr.isArrayBuffer(T)||Nr.isTypedArray(T)?c&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function v(T,k,w){let C=T;if(T&&!w&&typeof T=="object"){if(Nr.endsWith(k,"{}"))k=a?k:k.slice(0,-2),T=JSON.stringify(T);else if(Nr.isArray(T)&&ASe(T)||(Nr.isFileList(T)||Nr.endsWith(k,"[]"))&&(C=Nr.toArray(T)))return k=upe(k),C.forEach(function(M,I){!(Nr.isUndefined(M)||M===null)&&e.append(d===!0?Bue([k],I,f):d===null?k:k+"[]",g(M))}),!1}return zoe(T)?!0:(e.append(Bue(w,k,f),g(T)),!1)}const y=[],b=Object.assign(PSe,{defaultVisitor:v,convertValue:g,isVisitable:zoe});function O(T,k){if(!Nr.isUndefined(T)){if(y.indexOf(T)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(T),Nr.forEach(T,function(C,_){(!(Nr.isUndefined(C)||C===null)&&i.call(e,C,Nr.isString(_)?_.trim():_,k,b))===!0&&O(C,k?k.concat(_):[_])}),y.pop()}}if(!Nr.isObject(t))throw new TypeError("data must be an object");return O(t),e}function Que(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function Nae(t,e){this._pairs=[],t&&gU(t,this,e)}const fpe=Nae.prototype;fpe.append=function(e,r){this._pairs.push([e,r])};fpe.toString=function(e){const r=e?function(a){return e.call(this,a,Que)}:Que;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function MSe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dpe(t,e,r){if(!e)return t;const a=r&&r.encode||MSe,i=r&&r.serialize;let f;if(i?f=i(e,r):f=Nr.isURLSearchParams(e)?e.toString():new Nae(e,r).toString(a),f){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+f}return t}class ESe{constructor(){this.handlers=[]}use(e,r,a){return this.handlers.push({fulfilled:e,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Nr.forEach(this.handlers,function(a){a!==null&&e(a)})}}const Fue=ESe,hpe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_Se=typeof URLSearchParams<"u"?URLSearchParams:Nae,RSe=typeof FormData<"u"?FormData:null,DSe=typeof Blob<"u"?Blob:null,$Se={isBrowser:!0,classes:{URLSearchParams:_Se,FormData:RSe,Blob:DSe},protocols:["http","https","file","blob","url","data"]},mpe=typeof window<"u"&&typeof document<"u",LSe=(t=>mpe&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),ISe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),NSe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mpe,hasStandardBrowserEnv:LSe,hasStandardBrowserWebWorkerEnv:ISe},Symbol.toStringTag,{value:"Module"})),X0={...NSe,...$Se};function BSe(t,e){return gU(t,new X0.classes.URLSearchParams,Object.assign({visitor:function(r,a,i,f){return X0.isNode&&Nr.isBuffer(r)?(this.append(a,r.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},e))}function QSe(t){return Nr.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function FSe(t){const e={},r=Object.keys(t);let a;const i=r.length;let f;for(a=0;a<i;a++)f=r[a],e[f]=t[f];return e}function gpe(t){function e(r,a,i,f){let d=r[f++];const h=Number.isFinite(+d),c=f>=r.length;return d=!d&&Nr.isArray(i)?i.length:d,c?(Nr.hasOwnProp(i,d)?i[d]=[i[d],a]:i[d]=a,!h):((!i[d]||!Nr.isObject(i[d]))&&(i[d]=[]),e(r,a,i[d],f)&&Nr.isArray(i[d])&&(i[d]=FSe(i[d])),!h)}if(Nr.isFormData(t)&&Nr.isFunction(t.entries)){const r={};return Nr.forEachEntry(t,(a,i)=>{e(QSe(a),i,r,0)}),r}return null}function VSe(t,e,r){if(Nr.isString(t))try{return(e||JSON.parse)(t),Nr.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const Bae={transitional:hpe,adapter:["xhr","http"],transformRequest:[function(e,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,f=Nr.isObject(e);if(f&&Nr.isHTMLForm(e)&&(e=new FormData(e)),Nr.isFormData(e))return i&&i?JSON.stringify(gpe(e)):e;if(Nr.isArrayBuffer(e)||Nr.isBuffer(e)||Nr.isStream(e)||Nr.isFile(e)||Nr.isBlob(e))return e;if(Nr.isArrayBufferView(e))return e.buffer;if(Nr.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return BSe(e,this.formSerializer).toString();if((h=Nr.isFileList(e))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return gU(h?{"files[]":e}:e,c&&new c,this.formSerializer)}}return f||i?(r.setContentType("application/json",!1),VSe(e)):e}],transformResponse:[function(e){const r=this.transitional||Bae.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Nr.isString(e)&&(a&&!this.responseType||i)){const d=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(d)throw h.name==="SyntaxError"?li.from(h,li.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X0.classes.FormData,Blob:X0.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Nr.forEach(["delete","get","head","post","put","patch"],t=>{Bae.headers[t]={}});const Qae=Bae,zSe=Nr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZSe=t=>{const e={};let r,a,i;return t&&t.split(`
`).forEach(function(d){i=d.indexOf(":"),r=d.substring(0,i).trim().toLowerCase(),a=d.substring(i+1).trim(),!(!r||e[r]&&zSe[r])&&(r==="set-cookie"?e[r]?e[r].push(a):e[r]=[a]:e[r]=e[r]?e[r]+", "+a:a)}),e},Vue=Symbol("internals");function bR(t){return t&&String(t).trim().toLowerCase()}function FZ(t){return t===!1||t==null?t:Nr.isArray(t)?t.map(FZ):String(t)}function HSe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)e[a[1]]=a[2];return e}const USe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mre(t,e,r,a,i){if(Nr.isFunction(a))return a.call(this,e,r);if(i&&(e=r),!!Nr.isString(e)){if(Nr.isString(a))return e.indexOf(a)!==-1;if(Nr.isRegExp(a))return a.test(e)}}function WSe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,a)=>r.toUpperCase()+a)}function YSe(t,e){const r=Nr.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(i,f,d){return this[a].call(this,e,i,f,d)},configurable:!0})})}class pU{constructor(e){e&&this.set(e)}set(e,r,a){const i=this;function f(h,c,g){const v=bR(c);if(!v)throw new Error("header name must be a non-empty string");const y=Nr.findKey(i,v);(!y||i[y]===void 0||g===!0||g===void 0&&i[y]!==!1)&&(i[y||c]=FZ(h))}const d=(h,c)=>Nr.forEach(h,(g,v)=>f(g,v,c));return Nr.isPlainObject(e)||e instanceof this.constructor?d(e,r):Nr.isString(e)&&(e=e.trim())&&!USe(e)?d(ZSe(e),r):e!=null&&f(r,e,a),this}get(e,r){if(e=bR(e),e){const a=Nr.findKey(this,e);if(a){const i=this[a];if(!r)return i;if(r===!0)return HSe(i);if(Nr.isFunction(r))return r.call(this,i,a);if(Nr.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=bR(e),e){const a=Nr.findKey(this,e);return!!(a&&this[a]!==void 0&&(!r||Mre(this,this[a],a,r)))}return!1}delete(e,r){const a=this;let i=!1;function f(d){if(d=bR(d),d){const h=Nr.findKey(a,d);h&&(!r||Mre(a,a[h],h,r))&&(delete a[h],i=!0)}}return Nr.isArray(e)?e.forEach(f):f(e),i}clear(e){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const f=r[a];(!e||Mre(this,this[f],f,e,!0))&&(delete this[f],i=!0)}return i}normalize(e){const r=this,a={};return Nr.forEach(this,(i,f)=>{const d=Nr.findKey(a,f);if(d){r[d]=FZ(i),delete r[f];return}const h=e?WSe(f):String(f).trim();h!==f&&delete r[f],r[h]=FZ(i),a[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Nr.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=e&&Nr.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const a=new this(e);return r.forEach(i=>a.set(i)),a}static accessor(e){const a=(this[Vue]=this[Vue]={accessors:{}}).accessors,i=this.prototype;function f(d){const h=bR(d);a[h]||(YSe(i,d),a[h]=!0)}return Nr.isArray(e)?e.forEach(f):f(e),this}}pU.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Nr.reduceDescriptors(pU.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[r]=a}}});Nr.freezeMethods(pU);const OO=pU;function Ere(t,e){const r=this||Qae,a=e||r,i=OO.from(a.headers);let f=a.data;return Nr.forEach(t,function(h){f=h.call(r,f,i.normalize(),e?e.status:void 0)}),i.normalize(),f}function ppe(t){return!!(t&&t.__CANCEL__)}function UD(t,e,r){li.call(this,t??"canceled",li.ERR_CANCELED,e,r),this.name="CanceledError"}Nr.inherits(UD,li,{__CANCEL__:!0});function XSe(t,e,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):e(new li("Request failed with status code "+r.status,[li.ERR_BAD_REQUEST,li.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const GSe=X0.hasStandardBrowserEnv?{write(t,e,r,a,i,f){const d=[t+"="+encodeURIComponent(e)];Nr.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),Nr.isString(a)&&d.push("path="+a),Nr.isString(i)&&d.push("domain="+i),f===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jSe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function qSe(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function vpe(t,e){return t&&!jSe(e)?qSe(t,e):e}const KSe=X0.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let a;function i(f){let d=f;return e&&(r.setAttribute("href",d),d=r.href),r.setAttribute("href",d),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return a=i(window.location.href),function(d){const h=Nr.isString(d)?i(d):d;return h.protocol===a.protocol&&h.host===a.host}}():function(){return function(){return!0}}();function JSe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ewe(t,e){t=t||10;const r=new Array(t),a=new Array(t);let i=0,f=0,d;return e=e!==void 0?e:1e3,function(c){const g=Date.now(),v=a[f];d||(d=g),r[i]=c,a[i]=g;let y=f,b=0;for(;y!==i;)b+=r[y++],y=y%t;if(i=(i+1)%t,i===f&&(f=(f+1)%t),g-d<e)return;const O=v&&g-v;return O?Math.round(b*1e3/O):void 0}}function zue(t,e){let r=0;const a=ewe(50,250);return i=>{const f=i.loaded,d=i.lengthComputable?i.total:void 0,h=f-r,c=a(h),g=f<=d;r=f;const v={loaded:f,total:d,progress:d?f/d:void 0,bytes:h,rate:c||void 0,estimated:c&&d&&g?(d-f)/c:void 0,event:i};v[e?"download":"upload"]=!0,t(v)}}const twe=typeof XMLHttpRequest<"u",nwe=twe&&function(t){return new Promise(function(r,a){let i=t.data;const f=OO.from(t.headers).normalize();let{responseType:d,withXSRFToken:h}=t,c;function g(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let v;if(Nr.isFormData(i)){if(X0.hasStandardBrowserEnv||X0.hasStandardBrowserWebWorkerEnv)f.setContentType(!1);else if((v=f.getContentType())!==!1){const[k,...w]=v?v.split(";").map(C=>C.trim()).filter(Boolean):[];f.setContentType([k||"multipart/form-data",...w].join("; "))}}let y=new XMLHttpRequest;if(t.auth){const k=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";f.set("Authorization","Basic "+btoa(k+":"+w))}const b=vpe(t.baseURL,t.url);y.open(t.method.toUpperCase(),dpe(b,t.params,t.paramsSerializer),!0),y.timeout=t.timeout;function O(){if(!y)return;const k=OO.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!d||d==="text"||d==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:k,config:t,request:y};XSe(function(M){r(M),g()},function(M){a(M),g()},C),y=null}if("onloadend"in y?y.onloadend=O:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(O)},y.onabort=function(){y&&(a(new li("Request aborted",li.ECONNABORTED,t,y)),y=null)},y.onerror=function(){a(new li("Network Error",li.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const C=t.transitional||hpe;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),a(new li(w,C.clarifyTimeoutError?li.ETIMEDOUT:li.ECONNABORTED,t,y)),y=null},X0.hasStandardBrowserEnv&&(h&&Nr.isFunction(h)&&(h=h(t)),h||h!==!1&&KSe(b))){const k=t.xsrfHeaderName&&t.xsrfCookieName&&GSe.read(t.xsrfCookieName);k&&f.set(t.xsrfHeaderName,k)}i===void 0&&f.setContentType(null),"setRequestHeader"in y&&Nr.forEach(f.toJSON(),function(w,C){y.setRequestHeader(C,w)}),Nr.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),d&&d!=="json"&&(y.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&y.addEventListener("progress",zue(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",zue(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=k=>{y&&(a(!k||k.type?new UD(null,t,y):k),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const T=JSe(b);if(T&&X0.protocols.indexOf(T)===-1){a(new li("Unsupported protocol "+T+":",li.ERR_BAD_REQUEST,t));return}y.send(i||null)})},Zoe={http:kSe,xhr:nwe};Nr.forEach(Zoe,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Zue=t=>`- ${t}`,rwe=t=>Nr.isFunction(t)||t===null||t===!1,ype={getAdapter:t=>{t=Nr.isArray(t)?t:[t];const{length:e}=t;let r,a;const i={};for(let f=0;f<e;f++){r=t[f];let d;if(a=r,!rwe(r)&&(a=Zoe[(d=String(r)).toLowerCase()],a===void 0))throw new li(`Unknown adapter '${d}'`);if(a)break;i[d||"#"+f]=a}if(!a){const f=Object.entries(i).map(([h,c])=>`adapter ${h} `+(c===!1?"is not supported by the environment":"is not available in the build"));let d=e?f.length>1?`since :
`+f.map(Zue).join(`
`):" "+Zue(f[0]):"as no adapter specified";throw new li("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},adapters:Zoe};function _re(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new UD(null,t)}function Hue(t){return _re(t),t.headers=OO.from(t.headers),t.data=Ere.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ype.getAdapter(t.adapter||Qae.adapter)(t).then(function(a){return _re(t),a.data=Ere.call(t,t.transformResponse,a),a.headers=OO.from(a.headers),a},function(a){return ppe(a)||(_re(t),a&&a.response&&(a.response.data=Ere.call(t,t.transformResponse,a.response),a.response.headers=OO.from(a.response.headers))),Promise.reject(a)})}const Uue=t=>t instanceof OO?t.toJSON():t;function c8(t,e){e=e||{};const r={};function a(g,v,y){return Nr.isPlainObject(g)&&Nr.isPlainObject(v)?Nr.merge.call({caseless:y},g,v):Nr.isPlainObject(v)?Nr.merge({},v):Nr.isArray(v)?v.slice():v}function i(g,v,y){if(Nr.isUndefined(v)){if(!Nr.isUndefined(g))return a(void 0,g,y)}else return a(g,v,y)}function f(g,v){if(!Nr.isUndefined(v))return a(void 0,v)}function d(g,v){if(Nr.isUndefined(v)){if(!Nr.isUndefined(g))return a(void 0,g)}else return a(void 0,v)}function h(g,v,y){if(y in e)return a(g,v);if(y in t)return a(void 0,g)}const c={url:f,method:f,data:f,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(g,v)=>i(Uue(g),Uue(v),!0)};return Nr.forEach(Object.keys(Object.assign({},t,e)),function(v){const y=c[v]||i,b=y(t[v],e[v],v);Nr.isUndefined(b)&&y!==h||(r[v]=b)}),r}const bpe="1.6.2",Fae={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fae[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const Wue={};Fae.transitional=function(e,r,a){function i(f,d){return"[Axios v"+bpe+"] Transitional option '"+f+"'"+d+(a?". "+a:"")}return(f,d,h)=>{if(e===!1)throw new li(i(d," has been removed"+(r?" in "+r:"")),li.ERR_DEPRECATED);return r&&!Wue[d]&&(Wue[d]=!0,console.warn(i(d," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(f,d,h):!0}};function owe(t,e,r){if(typeof t!="object")throw new li("options must be an object",li.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const f=a[i],d=e[f];if(d){const h=t[f],c=h===void 0||d(h,f,t);if(c!==!0)throw new li("option "+f+" must be "+c,li.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new li("Unknown option "+f,li.ERR_BAD_OPTION)}}const Hoe={assertOptions:owe,validators:Fae},iS=Hoe.validators;class lH{constructor(e){this.defaults=e,this.interceptors={request:new Fue,response:new Fue}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=c8(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:f}=r;a!==void 0&&Hoe.assertOptions(a,{silentJSONParsing:iS.transitional(iS.boolean),forcedJSONParsing:iS.transitional(iS.boolean),clarifyTimeoutError:iS.transitional(iS.boolean)},!1),i!=null&&(Nr.isFunction(i)?r.paramsSerializer={serialize:i}:Hoe.assertOptions(i,{encode:iS.function,serialize:iS.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=f&&Nr.merge(f.common,f[r.method]);f&&Nr.forEach(["delete","get","head","post","put","patch","common"],T=>{delete f[T]}),r.headers=OO.concat(d,f);const h=[];let c=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(c=c&&k.synchronous,h.unshift(k.fulfilled,k.rejected))});const g=[];this.interceptors.response.forEach(function(k){g.push(k.fulfilled,k.rejected)});let v,y=0,b;if(!c){const T=[Hue.bind(this),void 0];for(T.unshift.apply(T,h),T.push.apply(T,g),b=T.length,v=Promise.resolve(r);y<b;)v=v.then(T[y++],T[y++]);return v}b=h.length;let O=r;for(y=0;y<b;){const T=h[y++],k=h[y++];try{O=T(O)}catch(w){k.call(this,w);break}}try{v=Hue.call(this,O)}catch(T){return Promise.reject(T)}for(y=0,b=g.length;y<b;)v=v.then(g[y++],g[y++]);return v}getUri(e){e=c8(this.defaults,e);const r=vpe(e.baseURL,e.url);return dpe(r,e.params,e.paramsSerializer)}}Nr.forEach(["delete","get","head","options"],function(e){lH.prototype[e]=function(r,a){return this.request(c8(a||{},{method:e,url:r,data:(a||{}).data}))}});Nr.forEach(["post","put","patch"],function(e){function r(a){return function(f,d,h){return this.request(c8(h||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:d}))}}lH.prototype[e]=r(),lH.prototype[e+"Form"]=r(!0)});const VZ=lH;class Vae{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(f){r=f});const a=this;this.promise.then(i=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](i);a._listeners=null}),this.promise.then=i=>{let f;const d=new Promise(h=>{a.subscribe(h),f=h}).then(i);return d.cancel=function(){a.unsubscribe(f)},d},e(function(f,d,h){a.reason||(a.reason=new UD(f,d,h),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Vae(function(i){e=i}),cancel:e}}}const swe=Vae;function awe(t){return function(r){return t.apply(null,r)}}function iwe(t){return Nr.isObject(t)&&t.isAxiosError===!0}const Uoe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uoe).forEach(([t,e])=>{Uoe[e]=t});const lwe=Uoe;function Ope(t){const e=new VZ(t),r=epe(VZ.prototype.request,e);return Nr.extend(r,VZ.prototype,e,{allOwnKeys:!0}),Nr.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Ope(c8(t,i))},r}const Su=Ope(Qae);Su.Axios=VZ;Su.CanceledError=UD;Su.CancelToken=swe;Su.isCancel=ppe;Su.VERSION=bpe;Su.toFormData=gU;Su.AxiosError=li;Su.Cancel=Su.CanceledError;Su.all=function(e){return Promise.all(e)};Su.spread=awe;Su.isAxiosError=iwe;Su.mergeConfig=c8;Su.AxiosHeaders=OO;Su.formToJSON=t=>gpe(Nr.isHTMLForm(t)?new FormData(t):t);Su.getAdapter=ype.getAdapter;Su.HttpStatusCode=lwe;Su.default=Su;const Tf=Su;function zae(t,e){const r=Object.create(null),a=t.split(",");for(let i=0;i<a.length;i++)r[a[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const Ul={},qP=[],Hv=()=>{},cwe=()=>!1,uwe=/^on[^a-z]/,vU=t=>uwe.test(t),Zae=t=>t.startsWith("onUpdate:"),ou=Object.assign,Hae=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},fwe=Object.prototype.hasOwnProperty,vi=(t,e)=>fwe.call(t,e),Zs=Array.isArray,KP=t=>yU(t)==="[object Map]",xpe=t=>yU(t)==="[object Set]",Ca=t=>typeof t=="function",Uc=t=>typeof t=="string",Uae=t=>typeof t=="symbol",_l=t=>t!==null&&typeof t=="object",Spe=t=>_l(t)&&Ca(t.then)&&Ca(t.catch),wpe=Object.prototype.toString,yU=t=>wpe.call(t),dwe=t=>yU(t).slice(8,-1),Cpe=t=>yU(t)==="[object Object]",Wae=t=>Uc(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zZ=zae(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bU=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},hwe=/-(\w)/g,Bp=bU(t=>t.replace(hwe,(e,r)=>r?r.toUpperCase():"")),mwe=/\B([A-Z])/g,E8=bU(t=>t.replace(mwe,"-$1").toLowerCase()),MO=bU(t=>t.charAt(0).toUpperCase()+t.slice(1)),G0=bU(t=>t?`on${MO(t)}`:""),aD=(t,e)=>!Object.is(t,e),ZZ=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},cH=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Woe=t=>{const e=parseFloat(t);return isNaN(e)?t:e},gwe=t=>{const e=Uc(t)?Number(t):NaN;return isNaN(e)?t:e};let Yue;const Yoe=()=>Yue||(Yue=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function OU(t){if(Zs(t)){const e={};for(let r=0;r<t.length;r++){const a=t[r],i=Uc(a)?bwe(a):OU(a);if(i)for(const f in i)e[f]=i[f]}return e}else{if(Uc(t))return t;if(_l(t))return t}}const pwe=/;(?![^(]*\))/g,vwe=/:([^]+)/,ywe=/\/\*[^]*?\*\//g;function bwe(t){const e={};return t.replace(ywe,"").split(pwe).forEach(r=>{if(r){const a=r.split(vwe);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function u8(t){let e="";if(Uc(t))e=t;else if(Zs(t))for(let r=0;r<t.length;r++){const a=u8(t[r]);a&&(e+=a+" ")}else if(_l(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Owe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xwe=zae(Owe);function Tpe(t){return!!t||t===""}const Pd=t=>Uc(t)?t:t==null?"":Zs(t)||_l(t)&&(t.toString===wpe||!Ca(t.toString))?JSON.stringify(t,kpe,2):String(t),kpe=(t,e)=>e&&e.__v_isRef?kpe(t,e.value):KP(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[a,i])=>(r[`${a} =>`]=i,r),{})}:xpe(e)?{[`Set(${e.size})`]:[...e.values()]}:_l(e)&&!Zs(e)&&!Cpe(e)?String(e):e;let dg;class Ape{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=dg,!e&&dg&&(this.index=(dg.scopes||(dg.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=dg;try{return dg=this,e()}finally{dg=r}}}on(){dg=this}off(){dg=this.parent}stop(e){if(this._active){let r,a;for(r=0,a=this.effects.length;r<a;r++)this.effects[r].stop();for(r=0,a=this.cleanups.length;r<a;r++)this.cleanups[r]();if(this.scopes)for(r=0,a=this.scopes.length;r<a;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Yae(t){return new Ape(t)}function Swe(t,e=dg){e&&e.active&&e.effects.push(t)}function wwe(){return dg}function dm(t){dg&&dg.cleanups.push(t)}const Xae=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Ppe=t=>(t.w&PS)>0,Mpe=t=>(t.n&PS)>0,Cwe=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=PS},Twe=t=>{const{deps:e}=t;if(e.length){let r=0;for(let a=0;a<e.length;a++){const i=e[a];Ppe(i)&&!Mpe(i)?i.delete(t):e[r++]=i,i.w&=~PS,i.n&=~PS}e.length=r}},uH=new WeakMap;let IR=0,PS=1;const Xoe=30;let zv;const LT=Symbol(""),Goe=Symbol("");class Gae{constructor(e,r=null,a){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Swe(this,a)}run(){if(!this.active)return this.fn();let e=zv,r=wS;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=zv,zv=this,wS=!0,PS=1<<++IR,IR<=Xoe?Cwe(this):Xue(this),this.fn()}finally{IR<=Xoe&&Twe(this),PS=1<<--IR,zv=this.parent,wS=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){zv===this?this.deferStop=!0:this.active&&(Xue(this),this.onStop&&this.onStop(),this.active=!1)}}function Xue(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let wS=!0;const Epe=[];function _8(){Epe.push(wS),wS=!1}function R8(){const t=Epe.pop();wS=t===void 0?!0:t}function hm(t,e,r){if(wS&&zv){let a=uH.get(t);a||uH.set(t,a=new Map);let i=a.get(r);i||a.set(r,i=Xae()),_pe(i)}}function _pe(t,e){let r=!1;IR<=Xoe?Mpe(t)||(t.n|=PS,r=!Ppe(t)):r=!t.has(zv),r&&(t.add(zv),zv.deps.push(t))}function SO(t,e,r,a,i,f){const d=uH.get(t);if(!d)return;let h=[];if(e==="clear")h=[...d.values()];else if(r==="length"&&Zs(t)){const c=Number(a);d.forEach((g,v)=>{(v==="length"||v>=c)&&h.push(g)})}else switch(r!==void 0&&h.push(d.get(r)),e){case"add":Zs(t)?Wae(r)&&h.push(d.get("length")):(h.push(d.get(LT)),KP(t)&&h.push(d.get(Goe)));break;case"delete":Zs(t)||(h.push(d.get(LT)),KP(t)&&h.push(d.get(Goe)));break;case"set":KP(t)&&h.push(d.get(LT));break}if(h.length===1)h[0]&&joe(h[0]);else{const c=[];for(const g of h)g&&c.push(...g);joe(Xae(c))}}function joe(t,e){const r=Zs(t)?t:[...t];for(const a of r)a.computed&&Gue(a);for(const a of r)a.computed||Gue(a)}function Gue(t,e){(t!==zv||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function kwe(t,e){var r;return(r=uH.get(t))==null?void 0:r.get(e)}const Awe=zae("__proto__,__v_isRef,__isVue"),Rpe=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Uae)),Pwe=jae(),Mwe=jae(!1,!0),Ewe=jae(!0),jue=_we();function _we(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const a=ya(this);for(let f=0,d=this.length;f<d;f++)hm(a,"get",f+"");const i=a[e](...r);return i===-1||i===!1?a[e](...r.map(ya)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){_8();const a=ya(this)[e].apply(this,r);return R8(),a}}),t}function Rwe(t){const e=ya(this);return hm(e,"has",t),e.hasOwnProperty(t)}function jae(t=!1,e=!1){return function(a,i,f){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&f===(t?e?Xwe:Npe:e?Ipe:Lpe).get(a))return a;const d=Zs(a);if(!t){if(d&&vi(jue,i))return Reflect.get(jue,i,f);if(i==="hasOwnProperty")return Rwe}const h=Reflect.get(a,i,f);return(Uae(i)?Rpe.has(i):Awe(i))||(t||hm(a,"get",i),e)?h:Oc(h)?d&&Wae(i)?h:h.value:_l(h)?t?WD(h):Ed(h):h}}const Dwe=Dpe(),$we=Dpe(!0);function Dpe(t=!1){return function(r,a,i,f){let d=r[a];if(f8(d)&&Oc(d)&&!Oc(i))return!1;if(!t&&(!fH(i)&&!f8(i)&&(d=ya(d),i=ya(i)),!Zs(r)&&Oc(d)&&!Oc(i)))return d.value=i,!0;const h=Zs(r)&&Wae(a)?Number(a)<r.length:vi(r,a),c=Reflect.set(r,a,i,f);return r===ya(f)&&(h?aD(i,d)&&SO(r,"set",a,i):SO(r,"add",a,i)),c}}function Lwe(t,e){const r=vi(t,e);t[e];const a=Reflect.deleteProperty(t,e);return a&&r&&SO(t,"delete",e,void 0),a}function Iwe(t,e){const r=Reflect.has(t,e);return(!Uae(e)||!Rpe.has(e))&&hm(t,"has",e),r}function Nwe(t){return hm(t,"iterate",Zs(t)?"length":LT),Reflect.ownKeys(t)}const $pe={get:Pwe,set:Dwe,deleteProperty:Lwe,has:Iwe,ownKeys:Nwe},Bwe={get:Ewe,set(t,e){return!0},deleteProperty(t,e){return!0}},Qwe=ou({},$pe,{get:Mwe,set:$we}),qae=t=>t,xU=t=>Reflect.getPrototypeOf(t);function Jz(t,e,r=!1,a=!1){t=t.__v_raw;const i=ya(t),f=ya(e);r||(e!==f&&hm(i,"get",e),hm(i,"get",f));const{has:d}=xU(i),h=a?qae:r?eie:iD;if(d.call(i,e))return h(t.get(e));if(d.call(i,f))return h(t.get(f));t!==i&&t.get(e)}function eZ(t,e=!1){const r=this.__v_raw,a=ya(r),i=ya(t);return e||(t!==i&&hm(a,"has",t),hm(a,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function tZ(t,e=!1){return t=t.__v_raw,!e&&hm(ya(t),"iterate",LT),Reflect.get(t,"size",t)}function que(t){t=ya(t);const e=ya(this);return xU(e).has.call(e,t)||(e.add(t),SO(e,"add",t,t)),this}function Kue(t,e){e=ya(e);const r=ya(this),{has:a,get:i}=xU(r);let f=a.call(r,t);f||(t=ya(t),f=a.call(r,t));const d=i.call(r,t);return r.set(t,e),f?aD(e,d)&&SO(r,"set",t,e):SO(r,"add",t,e),this}function Jue(t){const e=ya(this),{has:r,get:a}=xU(e);let i=r.call(e,t);i||(t=ya(t),i=r.call(e,t)),a&&a.call(e,t);const f=e.delete(t);return i&&SO(e,"delete",t,void 0),f}function efe(){const t=ya(this),e=t.size!==0,r=t.clear();return e&&SO(t,"clear",void 0,void 0),r}function nZ(t,e){return function(a,i){const f=this,d=f.__v_raw,h=ya(d),c=e?qae:t?eie:iD;return!t&&hm(h,"iterate",LT),d.forEach((g,v)=>a.call(i,c(g),c(v),f))}}function rZ(t,e,r){return function(...a){const i=this.__v_raw,f=ya(i),d=KP(f),h=t==="entries"||t===Symbol.iterator&&d,c=t==="keys"&&d,g=i[t](...a),v=r?qae:e?eie:iD;return!e&&hm(f,"iterate",c?Goe:LT),{next(){const{value:y,done:b}=g.next();return b?{value:y,done:b}:{value:h?[v(y[0]),v(y[1])]:v(y),done:b}},[Symbol.iterator](){return this}}}}function lS(t){return function(...e){return t==="delete"?!1:this}}function Fwe(){const t={get(f){return Jz(this,f)},get size(){return tZ(this)},has:eZ,add:que,set:Kue,delete:Jue,clear:efe,forEach:nZ(!1,!1)},e={get(f){return Jz(this,f,!1,!0)},get size(){return tZ(this)},has:eZ,add:que,set:Kue,delete:Jue,clear:efe,forEach:nZ(!1,!0)},r={get(f){return Jz(this,f,!0)},get size(){return tZ(this,!0)},has(f){return eZ.call(this,f,!0)},add:lS("add"),set:lS("set"),delete:lS("delete"),clear:lS("clear"),forEach:nZ(!0,!1)},a={get(f){return Jz(this,f,!0,!0)},get size(){return tZ(this,!0)},has(f){return eZ.call(this,f,!0)},add:lS("add"),set:lS("set"),delete:lS("delete"),clear:lS("clear"),forEach:nZ(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{t[f]=rZ(f,!1,!1),r[f]=rZ(f,!0,!1),e[f]=rZ(f,!1,!0),a[f]=rZ(f,!0,!0)}),[t,r,e,a]}const[Vwe,zwe,Zwe,Hwe]=Fwe();function Kae(t,e){const r=e?t?Hwe:Zwe:t?zwe:Vwe;return(a,i,f)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?a:Reflect.get(vi(r,i)&&i in a?r:a,i,f)}const Uwe={get:Kae(!1,!1)},Wwe={get:Kae(!1,!0)},Ywe={get:Kae(!0,!1)},Lpe=new WeakMap,Ipe=new WeakMap,Npe=new WeakMap,Xwe=new WeakMap;function Gwe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jwe(t){return t.__v_skip||!Object.isExtensible(t)?0:Gwe(dwe(t))}function Ed(t){return f8(t)?t:Jae(t,!1,$pe,Uwe,Lpe)}function Bpe(t){return Jae(t,!1,Qwe,Wwe,Ipe)}function WD(t){return Jae(t,!0,Bwe,Ywe,Npe)}function Jae(t,e,r,a,i){if(!_l(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const f=i.get(t);if(f)return f;const d=jwe(t);if(d===0)return t;const h=new Proxy(t,d===2?a:r);return i.set(t,h),h}function JP(t){return f8(t)?JP(t.__v_raw):!!(t&&t.__v_isReactive)}function f8(t){return!!(t&&t.__v_isReadonly)}function fH(t){return!!(t&&t.__v_isShallow)}function Qpe(t){return JP(t)||f8(t)}function ya(t){const e=t&&t.__v_raw;return e?ya(e):t}function Fpe(t){return cH(t,"__v_skip",!0),t}const iD=t=>_l(t)?Ed(t):t,eie=t=>_l(t)?WD(t):t;function Vpe(t){wS&&zv&&(t=ya(t),_pe(t.dep||(t.dep=Xae())))}function zpe(t,e){t=ya(t);const r=t.dep;r&&joe(r)}function Oc(t){return!!(t&&t.__v_isRef===!0)}function bo(t){return Zpe(t,!1)}function us(t){return Zpe(t,!0)}function Zpe(t,e){return Oc(t)?t:new qwe(t,e)}class qwe{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:ya(e),this._value=r?e:iD(e)}get value(){return Vpe(this),this._value}set value(e){const r=this.__v_isShallow||fH(e)||f8(e);e=r?e:ya(e),aD(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:iD(e),zpe(this))}}function Ol(t){return Oc(t)?t.value:t}const Kwe={get:(t,e,r)=>Ol(Reflect.get(t,e,r)),set:(t,e,r,a)=>{const i=t[e];return Oc(i)&&!Oc(r)?(i.value=r,!0):Reflect.set(t,e,r,a)}};function Hpe(t){return JP(t)?t:new Proxy(t,Kwe)}function SU(t){const e=Zs(t)?new Array(t.length):{};for(const r in t)e[r]=Upe(t,r);return e}class Jwe{constructor(e,r,a){this._object=e,this._key=r,this._defaultValue=a,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return kwe(ya(this._object),this._key)}}class e3e{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function qo(t,e,r){return Oc(t)?t:Ca(t)?new e3e(t):_l(t)&&arguments.length>1?Upe(t,e,r):bo(t)}function Upe(t,e,r){const a=t[e];return Oc(a)?a:new Jwe(t,e,r)}class t3e{constructor(e,r,a,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Gae(e,()=>{this._dirty||(this._dirty=!0,zpe(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=a}get value(){const e=ya(this);return Vpe(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function n3e(t,e,r=!1){let a,i;const f=Ca(t);return f?(a=t,i=Hv):(a=t.get,i=t.set),new t3e(a,i,f||!i,r)}function CS(t,e,r,a){let i;try{i=a?t(...a):t()}catch(f){wU(f,e,r)}return i}function Dp(t,e,r,a){if(Ca(t)){const f=CS(t,e,r,a);return f&&Spe(f)&&f.catch(d=>{wU(d,e,r)}),f}const i=[];for(let f=0;f<t.length;f++)i.push(Dp(t[f],e,r,a));return i}function wU(t,e,r,a=!0){const i=e?e.vnode:null;if(e){let f=e.parent;const d=e.proxy,h=r;for(;f;){const g=f.ec;if(g){for(let v=0;v<g.length;v++)if(g[v](t,d,h)===!1)return}f=f.parent}const c=e.appContext.config.errorHandler;if(c){CS(c,null,10,[t,d,h]);return}}r3e(t,r,i,a)}function r3e(t,e,r,a=!0){console.error(t)}let lD=!1,qoe=!1;const _d=[];let U0=0;const e8=[];let yO=null,CT=0;const Wpe=Promise.resolve();let tie=null;function wl(t){const e=tie||Wpe;return t?e.then(this?t.bind(this):t):e}function o3e(t){let e=U0+1,r=_d.length;for(;e<r;){const a=e+r>>>1;cD(_d[a])<t?e=a+1:r=a}return e}function nie(t){(!_d.length||!_d.includes(t,lD&&t.allowRecurse?U0+1:U0))&&(t.id==null?_d.push(t):_d.splice(o3e(t.id),0,t),Ype())}function Ype(){!lD&&!qoe&&(qoe=!0,tie=Wpe.then(Gpe))}function s3e(t){const e=_d.indexOf(t);e>U0&&_d.splice(e,1)}function a3e(t){Zs(t)?e8.push(...t):(!yO||!yO.includes(t,t.allowRecurse?CT+1:CT))&&e8.push(t),Ype()}function tfe(t,e=lD?U0+1:0){for(;e<_d.length;e++){const r=_d[e];r&&r.pre&&(_d.splice(e,1),e--,r())}}function Xpe(t){if(e8.length){const e=[...new Set(e8)];if(e8.length=0,yO){yO.push(...e);return}for(yO=e,yO.sort((r,a)=>cD(r)-cD(a)),CT=0;CT<yO.length;CT++)yO[CT]();yO=null,CT=0}}const cD=t=>t.id==null?1/0:t.id,i3e=(t,e)=>{const r=cD(t)-cD(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Gpe(t){qoe=!1,lD=!0,_d.sort(i3e);const e=Hv;try{for(U0=0;U0<_d.length;U0++){const r=_d[U0];r&&r.active!==!1&&CS(r,null,14)}}finally{U0=0,_d.length=0,Xpe(),lD=!1,tie=null,(_d.length||e8.length)&&Gpe()}}function l3e(t,e,...r){if(t.isUnmounted)return;const a=t.vnode.props||Ul;let i=r;const f=e.startsWith("update:"),d=f&&e.slice(7);if(d&&d in a){const v=`${d==="modelValue"?"model":d}Modifiers`,{number:y,trim:b}=a[v]||Ul;b&&(i=r.map(O=>Uc(O)?O.trim():O)),y&&(i=r.map(Woe))}let h,c=a[h=G0(e)]||a[h=G0(Bp(e))];!c&&f&&(c=a[h=G0(E8(e))]),c&&Dp(c,t,6,i);const g=a[h+"Once"];if(g){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,Dp(g,t,6,i)}}function jpe(t,e,r=!1){const a=e.emitsCache,i=a.get(t);if(i!==void 0)return i;const f=t.emits;let d={},h=!1;if(!Ca(t)){const c=g=>{const v=jpe(g,e,!0);v&&(h=!0,ou(d,v))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!f&&!h?(_l(t)&&a.set(t,null),null):(Zs(f)?f.forEach(c=>d[c]=null):ou(d,f),_l(t)&&a.set(t,d),d)}function CU(t,e){return!t||!vU(e)?!1:(e=e.slice(2).replace(/Once$/,""),vi(t,e[0].toLowerCase()+e.slice(1))||vi(t,E8(e))||vi(t,e))}let qf=null,TU=null;function dH(t){const e=qf;return qf=t,TU=t&&t.type.__scopeId||null,e}function qpe(t){TU=t}function Kpe(){TU=null}function so(t,e=qf,r){if(!e||t._n)return t;const a=(...i)=>{a._d&&gfe(-1);const f=dH(e);let d;try{d=t(...i)}finally{dH(f),a._d&&gfe(1)}return d};return a._n=!0,a._c=!0,a._d=!0,a}function Rre(t){const{type:e,vnode:r,proxy:a,withProxy:i,props:f,propsOptions:[d],slots:h,attrs:c,emit:g,render:v,renderCache:y,data:b,setupState:O,ctx:T,inheritAttrs:k}=t;let w,C;const _=dH(t);try{if(r.shapeFlag&4){const I=i||a;w=H0(v.call(I,I,y,f,O,b,T)),C=c}else{const I=e;w=H0(I.length>1?I(f,{attrs:c,slots:h,emit:g}):I(f,null)),C=e.props?c:c3e(c)}}catch(I){YR.length=0,wU(I,t,1),w=at($p)}let M=w;if(C&&k!==!1){const I=Object.keys(C),{shapeFlag:V}=M;I.length&&V&7&&(d&&I.some(Zae)&&(C=u3e(C,d)),M=wO(M,C))}return r.dirs&&(M=wO(M),M.dirs=M.dirs?M.dirs.concat(r.dirs):r.dirs),r.transition&&(M.transition=r.transition),w=M,dH(_),w}const c3e=t=>{let e;for(const r in t)(r==="class"||r==="style"||vU(r))&&((e||(e={}))[r]=t[r]);return e},u3e=(t,e)=>{const r={};for(const a in t)(!Zae(a)||!(a.slice(9)in e))&&(r[a]=t[a]);return r};function f3e(t,e,r){const{props:a,children:i,component:f}=t,{props:d,children:h,patchFlag:c}=e,g=f.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return a?nfe(a,d,g):!!d;if(c&8){const v=e.dynamicProps;for(let y=0;y<v.length;y++){const b=v[y];if(d[b]!==a[b]&&!CU(g,b))return!0}}}else return(i||h)&&(!h||!h.$stable)?!0:a===d?!1:a?d?nfe(a,d,g):!0:!!d;return!1}function nfe(t,e,r){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!0;for(let i=0;i<a.length;i++){const f=a[i];if(e[f]!==t[f]&&!CU(r,f))return!0}return!1}function d3e({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const h3e=t=>t.__isSuspense;function m3e(t,e){e&&e.pendingBranch?Zs(t)?e.effects.push(...t):e.effects.push(t):a3e(t)}function pm(t,e){return rie(t,null,e)}const oZ={};function zo(t,e,r){return rie(t,e,r)}function rie(t,e,{immediate:r,deep:a,flush:i,onTrack:f,onTrigger:d}=Ul){var h;const c=wwe()===((h=kf)==null?void 0:h.scope)?kf:null;let g,v=!1,y=!1;if(Oc(t)?(g=()=>t.value,v=fH(t)):JP(t)?(g=()=>t,a=!0):Zs(t)?(y=!0,v=t.some(I=>JP(I)||fH(I)),g=()=>t.map(I=>{if(Oc(I))return I.value;if(JP(I))return ET(I);if(Ca(I))return CS(I,c,2)})):Ca(t)?e?g=()=>CS(t,c,2):g=()=>{if(!(c&&c.isUnmounted))return b&&b(),Dp(t,c,3,[O])}:g=Hv,e&&a){const I=g;g=()=>ET(I())}let b,O=I=>{b=_.onStop=()=>{CS(I,c,4)}},T;if(hD)if(O=Hv,e?r&&Dp(e,c,3,[g(),y?[]:void 0,O]):g(),i==="sync"){const I=sCe();T=I.__watcherHandles||(I.__watcherHandles=[])}else return Hv;let k=y?new Array(t.length).fill(oZ):oZ;const w=()=>{if(_.active)if(e){const I=_.run();(a||v||(y?I.some((V,N)=>aD(V,k[N])):aD(I,k)))&&(b&&b(),Dp(e,c,3,[I,k===oZ?void 0:y&&k[0]===oZ?[]:k,O]),k=I)}else _.run()};w.allowRecurse=!!e;let C;i==="sync"?C=w:i==="post"?C=()=>im(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),C=()=>nie(w));const _=new Gae(g,C);e?r?w():k=_.run():i==="post"?im(_.run.bind(_),c&&c.suspense):_.run();const M=()=>{_.stop(),c&&c.scope&&Hae(c.scope.effects,_)};return T&&T.push(M),M}function g3e(t,e,r){const a=this.proxy,i=Uc(t)?t.includes(".")?Jpe(a,t):()=>a[t]:t.bind(a,a);let f;Ca(e)?f=e:(f=e.handler,r=e);const d=kf;d8(this);const h=rie(i,f.bind(a),r);return d?d8(d):IT(),h}function Jpe(t,e){const r=e.split(".");return()=>{let a=t;for(let i=0;i<r.length&&a;i++)a=a[r[i]];return a}}function ET(t,e){if(!_l(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Oc(t))ET(t.value,e);else if(Zs(t))for(let r=0;r<t.length;r++)ET(t[r],e);else if(xpe(t)||KP(t))t.forEach(r=>{ET(r,e)});else if(Cpe(t))for(const r in t)ET(t[r],e);return t}function zu(t,e){const r=qf;if(r===null)return t;const a=MU(r)||r.proxy,i=t.dirs||(t.dirs=[]);for(let f=0;f<e.length;f++){let[d,h,c,g=Ul]=e[f];d&&(Ca(d)&&(d={mounted:d,updated:d}),d.deep&&ET(h),i.push({dir:d,instance:a,value:h,oldValue:void 0,arg:c,modifiers:g}))}return t}function gT(t,e,r,a){const i=t.dirs,f=e&&e.dirs;for(let d=0;d<i.length;d++){const h=i[d];f&&(h.oldValue=f[d].value);let c=h.dir[a];c&&(_8(),Dp(c,r,8,[t.el,h,t,e]),R8())}}function eve(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sg(()=>{t.isMounted=!0}),vm(()=>{t.isUnmounting=!0}),t}const kp=[Function,Array],tve={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kp,onEnter:kp,onAfterEnter:kp,onEnterCancelled:kp,onBeforeLeave:kp,onLeave:kp,onAfterLeave:kp,onLeaveCancelled:kp,onBeforeAppear:kp,onAppear:kp,onAfterAppear:kp,onAppearCancelled:kp},p3e={name:"BaseTransition",props:tve,setup(t,{slots:e}){const r=mie(),a=eve();let i;return()=>{const f=e.default&&oie(e.default(),!0);if(!f||!f.length)return;let d=f[0];if(f.length>1){for(const k of f)if(k.type!==$p){d=k;break}}const h=ya(t),{mode:c}=h;if(a.isLeaving)return Dre(d);const g=rfe(d);if(!g)return Dre(d);const v=uD(g,h,a,r);fD(g,v);const y=r.subTree,b=y&&rfe(y);let O=!1;const{getTransitionKey:T}=g.type;if(T){const k=T();i===void 0?i=k:k!==i&&(i=k,O=!0)}if(b&&b.type!==$p&&(!TT(g,b)||O)){const k=uD(b,h,a,r);if(fD(b,k),c==="out-in")return a.isLeaving=!0,k.afterLeave=()=>{a.isLeaving=!1,r.update.active!==!1&&r.update()},Dre(d);c==="in-out"&&g.type!==$p&&(k.delayLeave=(w,C,_)=>{const M=nve(a,b);M[String(b.key)]=b,w._leaveCb=()=>{C(),w._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=_})}return d}}},v3e=p3e;function nve(t,e){const{leavingVNodes:r}=t;let a=r.get(e.type);return a||(a=Object.create(null),r.set(e.type,a)),a}function uD(t,e,r,a){const{appear:i,mode:f,persisted:d=!1,onBeforeEnter:h,onEnter:c,onAfterEnter:g,onEnterCancelled:v,onBeforeLeave:y,onLeave:b,onAfterLeave:O,onLeaveCancelled:T,onBeforeAppear:k,onAppear:w,onAfterAppear:C,onAppearCancelled:_}=e,M=String(t.key),I=nve(r,t),V=(z,U)=>{z&&Dp(z,a,9,U)},N=(z,U)=>{const F=U[1];V(z,U),Zs(z)?z.every(B=>B.length<=1)&&F():z.length<=1&&F()},Q={mode:f,persisted:d,beforeEnter(z){let U=h;if(!r.isMounted)if(i)U=k||h;else return;z._leaveCb&&z._leaveCb(!0);const F=I[M];F&&TT(t,F)&&F.el._leaveCb&&F.el._leaveCb(),V(U,[z])},enter(z){let U=c,F=g,B=v;if(!r.isMounted)if(i)U=w||c,F=C||g,B=_||v;else return;let E=!1;const W=z._enterCb=X=>{E||(E=!0,X?V(B,[z]):V(F,[z]),Q.delayedLeave&&Q.delayedLeave(),z._enterCb=void 0)};U?N(U,[z,W]):W()},leave(z,U){const F=String(t.key);if(z._enterCb&&z._enterCb(!0),r.isUnmounting)return U();V(y,[z]);let B=!1;const E=z._leaveCb=W=>{B||(B=!0,U(),W?V(T,[z]):V(O,[z]),z._leaveCb=void 0,I[F]===t&&delete I[F])};I[F]=t,b?N(b,[z,E]):E()},clone(z){return uD(z,e,r,a)}};return Q}function Dre(t){if(kU(t))return t=wO(t),t.children=null,t}function rfe(t){return kU(t)?t.children?t.children[0]:void 0:t}function fD(t,e){t.shapeFlag&6&&t.component?fD(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function oie(t,e=!1,r){let a=[],i=0;for(let f=0;f<t.length;f++){let d=t[f];const h=r==null?d.key:String(r)+String(d.key!=null?d.key:f);d.type===es?(d.patchFlag&128&&i++,a=a.concat(oie(d.children,e,h))):(e||d.type!==$p)&&a.push(h!=null?wO(d,{key:h}):d)}if(i>1)for(let f=0;f<a.length;f++)a[f].patchFlag=-2;return a}function iy(t,e){return Ca(t)?(()=>ou({name:t.name},e,{setup:t}))():t}const HR=t=>!!t.type.__asyncLoader,kU=t=>t.type.__isKeepAlive;function sie(t,e){rve(t,"a",e)}function aie(t,e){rve(t,"da",e)}function rve(t,e,r=kf){const a=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(AU(e,a,r),r){let i=r.parent;for(;i&&i.parent;)kU(i.parent.vnode)&&y3e(a,e,r,i),i=i.parent}}function y3e(t,e,r,a){const i=AU(e,t,a,!0);sve(()=>{Hae(a[e],i)},r)}function AU(t,e,r=kf,a=!1){if(r){const i=r[t]||(r[t]=[]),f=e.__weh||(e.__weh=(...d)=>{if(r.isUnmounted)return;_8(),d8(r);const h=Dp(e,r,t,d);return IT(),R8(),h});return a?i.unshift(f):i.push(f),f}}const EO=t=>(e,r=kf)=>(!hD||t==="sp")&&AU(t,(...a)=>e(...a),r),iie=EO("bm"),Sg=EO("m"),b3e=EO("bu"),ove=EO("u"),vm=EO("bum"),sve=EO("um"),O3e=EO("sp"),x3e=EO("rtg"),S3e=EO("rtc");function w3e(t,e=kf){AU("ec",t,e)}const lie="components",C3e="directives";function Kf(t,e){return cie(lie,t,!0,e)||t}const ave=Symbol.for("v-ndc");function gg(t){return Uc(t)?cie(lie,t,!1)||t:t||ave}function Gv(t){return cie(C3e,t)}function cie(t,e,r=!0,a=!1){const i=qf||kf;if(i){const f=i.type;if(t===lie){const h=nCe(f,!1);if(h&&(h===e||h===Bp(e)||h===MO(Bp(e))))return f}const d=ofe(i[t]||f[t],e)||ofe(i.appContext[t],e);return!d&&a?f:d}}function ofe(t,e){return t&&(t[e]||t[Bp(e)]||t[MO(Bp(e))])}function lm(t,e,r,a){let i;const f=r&&r[a];if(Zs(t)||Uc(t)){i=new Array(t.length);for(let d=0,h=t.length;d<h;d++)i[d]=e(t[d],d,void 0,f&&f[d])}else if(typeof t=="number"){i=new Array(t);for(let d=0;d<t;d++)i[d]=e(d+1,d,void 0,f&&f[d])}else if(_l(t))if(t[Symbol.iterator])i=Array.from(t,(d,h)=>e(d,h,void 0,f&&f[h]));else{const d=Object.keys(t);i=new Array(d.length);for(let h=0,c=d.length;h<c;h++){const g=d[h];i[h]=e(t[g],g,h,f&&f[h])}}else i=[];return r&&(r[a]=i),i}function T3e(t,e){for(let r=0;r<e.length;r++){const a=e[r];if(Zs(a))for(let i=0;i<a.length;i++)t[a[i].name]=a[i].fn;else a&&(t[a.name]=a.key?(...i)=>{const f=a.fn(...i);return f&&(f.key=a.key),f}:a.fn)}return t}function sfe(t,e,r={},a,i){if(qf.isCE||qf.parent&&HR(qf.parent)&&qf.parent.isCE)return e!=="default"&&(r.name=e),at("slot",r,a&&a());let f=t[e];f&&f._c&&(f._d=!1),zr();const d=f&&ive(f(r)),h=fs(es,{key:r.key||d&&d.key||`_${e}`},d||(a?a():[]),d&&t._===1?64:-2);return!i&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),f&&f._c&&(f._d=!0),h}function ive(t){return t.some(e=>gH(e)?!(e.type===$p||e.type===es&&!ive(e.children)):!0)?t:null}const Koe=t=>t?yve(t)?MU(t)||t.proxy:Koe(t.parent):null,UR=ou(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Koe(t.parent),$root:t=>Koe(t.root),$emit:t=>t.emit,$options:t=>uie(t),$forceUpdate:t=>t.f||(t.f=()=>nie(t.update)),$nextTick:t=>t.n||(t.n=wl.bind(t.proxy)),$watch:t=>g3e.bind(t)}),$re=(t,e)=>t!==Ul&&!t.__isScriptSetup&&vi(t,e),k3e={get({_:t},e){const{ctx:r,setupState:a,data:i,props:f,accessCache:d,type:h,appContext:c}=t;let g;if(e[0]!=="$"){const O=d[e];if(O!==void 0)switch(O){case 1:return a[e];case 2:return i[e];case 4:return r[e];case 3:return f[e]}else{if($re(a,e))return d[e]=1,a[e];if(i!==Ul&&vi(i,e))return d[e]=2,i[e];if((g=t.propsOptions[0])&&vi(g,e))return d[e]=3,f[e];if(r!==Ul&&vi(r,e))return d[e]=4,r[e];Joe&&(d[e]=0)}}const v=UR[e];let y,b;if(v)return e==="$attrs"&&hm(t,"get",e),v(t);if((y=h.__cssModules)&&(y=y[e]))return y;if(r!==Ul&&vi(r,e))return d[e]=4,r[e];if(b=c.config.globalProperties,vi(b,e))return b[e]},set({_:t},e,r){const{data:a,setupState:i,ctx:f}=t;return $re(i,e)?(i[e]=r,!0):a!==Ul&&vi(a,e)?(a[e]=r,!0):vi(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(f[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:a,appContext:i,propsOptions:f}},d){let h;return!!r[d]||t!==Ul&&vi(t,d)||$re(e,d)||(h=f[0])&&vi(h,d)||vi(a,d)||vi(UR,d)||vi(i.config.globalProperties,d)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:vi(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function afe(t){return Zs(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Joe=!0;function A3e(t){const e=uie(t),r=t.proxy,a=t.ctx;Joe=!1,e.beforeCreate&&ife(e.beforeCreate,t,"bc");const{data:i,computed:f,methods:d,watch:h,provide:c,inject:g,created:v,beforeMount:y,mounted:b,beforeUpdate:O,updated:T,activated:k,deactivated:w,beforeDestroy:C,beforeUnmount:_,destroyed:M,unmounted:I,render:V,renderTracked:N,renderTriggered:Q,errorCaptured:z,serverPrefetch:U,expose:F,inheritAttrs:B,components:E,directives:W,filters:X}=e;if(g&&P3e(g,a,null),d)for(const me in d){const ae=d[me];Ca(ae)&&(a[me]=ae.bind(r))}if(i){const me=i.call(r,r);_l(me)&&(t.data=Ed(me))}if(Joe=!0,f)for(const me in f){const ae=f[me],q=Ca(ae)?ae.bind(r,r):Ca(ae.get)?ae.get.bind(r,r):Hv,de=!Ca(ae)&&Ca(ae.set)?ae.set.bind(r):Hv,ee=Jt({get:q,set:de});Object.defineProperty(a,me,{enumerable:!0,configurable:!0,get:()=>ee.value,set:xe=>ee.value=xe})}if(h)for(const me in h)lve(h[me],a,r,me);if(c){const me=Ca(c)?c.call(r):c;Reflect.ownKeys(me).forEach(ae=>{El(ae,me[ae])})}v&&ife(v,t,"c");function L(me,ae){Zs(ae)?ae.forEach(q=>me(q.bind(r))):ae&&me(ae.bind(r))}if(L(iie,y),L(Sg,b),L(b3e,O),L(ove,T),L(sie,k),L(aie,w),L(w3e,z),L(S3e,N),L(x3e,Q),L(vm,_),L(sve,I),L(O3e,U),Zs(F))if(F.length){const me=t.exposed||(t.exposed={});F.forEach(ae=>{Object.defineProperty(me,ae,{get:()=>r[ae],set:q=>r[ae]=q})})}else t.exposed||(t.exposed={});V&&t.render===Hv&&(t.render=V),B!=null&&(t.inheritAttrs=B),E&&(t.components=E),W&&(t.directives=W)}function P3e(t,e,r=Hv){Zs(t)&&(t=ese(t));for(const a in t){const i=t[a];let f;_l(i)?"default"in i?f=Da(i.from||a,i.default,!0):f=Da(i.from||a):f=Da(i),Oc(f)?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>f.value,set:d=>f.value=d}):e[a]=f}}function ife(t,e,r){Dp(Zs(t)?t.map(a=>a.bind(e.proxy)):t.bind(e.proxy),e,r)}function lve(t,e,r,a){const i=a.includes(".")?Jpe(r,a):()=>r[a];if(Uc(t)){const f=e[t];Ca(f)&&zo(i,f)}else if(Ca(t))zo(i,t.bind(r));else if(_l(t))if(Zs(t))t.forEach(f=>lve(f,e,r,a));else{const f=Ca(t.handler)?t.handler.bind(r):e[t.handler];Ca(f)&&zo(i,f,t)}}function uie(t){const e=t.type,{mixins:r,extends:a}=e,{mixins:i,optionsCache:f,config:{optionMergeStrategies:d}}=t.appContext,h=f.get(e);let c;return h?c=h:!i.length&&!r&&!a?c=e:(c={},i.length&&i.forEach(g=>hH(c,g,d,!0)),hH(c,e,d)),_l(e)&&f.set(e,c),c}function hH(t,e,r,a=!1){const{mixins:i,extends:f}=e;f&&hH(t,f,r,!0),i&&i.forEach(d=>hH(t,d,r,!0));for(const d in e)if(!(a&&d==="expose")){const h=M3e[d]||r&&r[d];t[d]=h?h(t[d],e[d]):e[d]}return t}const M3e={data:lfe,props:cfe,emits:cfe,methods:NR,computed:NR,beforeCreate:gh,created:gh,beforeMount:gh,mounted:gh,beforeUpdate:gh,updated:gh,beforeDestroy:gh,beforeUnmount:gh,destroyed:gh,unmounted:gh,activated:gh,deactivated:gh,errorCaptured:gh,serverPrefetch:gh,components:NR,directives:NR,watch:_3e,provide:lfe,inject:E3e};function lfe(t,e){return e?t?function(){return ou(Ca(t)?t.call(this,this):t,Ca(e)?e.call(this,this):e)}:e:t}function E3e(t,e){return NR(ese(t),ese(e))}function ese(t){if(Zs(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function gh(t,e){return t?[...new Set([].concat(t,e))]:e}function NR(t,e){return t?ou(Object.create(null),t,e):e}function cfe(t,e){return t?Zs(t)&&Zs(e)?[...new Set([...t,...e])]:ou(Object.create(null),afe(t),afe(e??{})):e}function _3e(t,e){if(!t)return e;if(!e)return t;const r=ou(Object.create(null),t);for(const a in e)r[a]=gh(t[a],e[a]);return r}function cve(){return{app:null,config:{isNativeTag:cwe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let R3e=0;function D3e(t,e){return function(a,i=null){Ca(a)||(a=ou({},a)),i!=null&&!_l(i)&&(i=null);const f=cve(),d=new Set;let h=!1;const c=f.app={_uid:R3e++,_component:a,_props:i,_container:null,_context:f,_instance:null,version:aCe,get config(){return f.config},set config(g){},use(g,...v){return d.has(g)||(g&&Ca(g.install)?(d.add(g),g.install(c,...v)):Ca(g)&&(d.add(g),g(c,...v))),c},mixin(g){return f.mixins.includes(g)||f.mixins.push(g),c},component(g,v){return v?(f.components[g]=v,c):f.components[g]},directive(g,v){return v?(f.directives[g]=v,c):f.directives[g]},mount(g,v,y){if(!h){const b=at(a,i);return b.appContext=f,v&&e?e(b,g):t(b,g,y),h=!0,c._container=g,g.__vue_app__=c,MU(b.component)||b.component.proxy}},unmount(){h&&(t(null,c._container),delete c._container.__vue_app__)},provide(g,v){return f.provides[g]=v,c},runWithContext(g){mH=c;try{return g()}finally{mH=null}}};return c}}let mH=null;function El(t,e){if(kf){let r=kf.provides;const a=kf.parent&&kf.parent.provides;a===r&&(r=kf.provides=Object.create(a)),r[t]=e}}function Da(t,e,r=!1){const a=kf||qf;if(a||mH){const i=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:mH._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&Ca(e)?e.call(a&&a.proxy):e}}function $3e(t,e,r,a=!1){const i={},f={};cH(f,PU,1),t.propsDefaults=Object.create(null),uve(t,e,i,f);for(const d in t.propsOptions[0])d in i||(i[d]=void 0);r?t.props=a?i:Bpe(i):t.type.props?t.props=i:t.props=f,t.attrs=f}function L3e(t,e,r,a){const{props:i,attrs:f,vnode:{patchFlag:d}}=t,h=ya(i),[c]=t.propsOptions;let g=!1;if((a||d>0)&&!(d&16)){if(d&8){const v=t.vnode.dynamicProps;for(let y=0;y<v.length;y++){let b=v[y];if(CU(t.emitsOptions,b))continue;const O=e[b];if(c)if(vi(f,b))O!==f[b]&&(f[b]=O,g=!0);else{const T=Bp(b);i[T]=tse(c,h,T,O,t,!1)}else O!==f[b]&&(f[b]=O,g=!0)}}}else{uve(t,e,i,f)&&(g=!0);let v;for(const y in h)(!e||!vi(e,y)&&((v=E8(y))===y||!vi(e,v)))&&(c?r&&(r[y]!==void 0||r[v]!==void 0)&&(i[y]=tse(c,h,y,void 0,t,!0)):delete i[y]);if(f!==h)for(const y in f)(!e||!vi(e,y))&&(delete f[y],g=!0)}g&&SO(t,"set","$attrs")}function uve(t,e,r,a){const[i,f]=t.propsOptions;let d=!1,h;if(e)for(let c in e){if(zZ(c))continue;const g=e[c];let v;i&&vi(i,v=Bp(c))?!f||!f.includes(v)?r[v]=g:(h||(h={}))[v]=g:CU(t.emitsOptions,c)||(!(c in a)||g!==a[c])&&(a[c]=g,d=!0)}if(f){const c=ya(r),g=h||Ul;for(let v=0;v<f.length;v++){const y=f[v];r[y]=tse(i,c,y,g[y],t,!vi(g,y))}}return d}function tse(t,e,r,a,i,f){const d=t[r];if(d!=null){const h=vi(d,"default");if(h&&a===void 0){const c=d.default;if(d.type!==Function&&!d.skipFactory&&Ca(c)){const{propsDefaults:g}=i;r in g?a=g[r]:(d8(i),a=g[r]=c.call(null,e),IT())}else a=c}d[0]&&(f&&!h?a=!1:d[1]&&(a===""||a===E8(r))&&(a=!0))}return a}function fve(t,e,r=!1){const a=e.propsCache,i=a.get(t);if(i)return i;const f=t.props,d={},h=[];let c=!1;if(!Ca(t)){const v=y=>{c=!0;const[b,O]=fve(y,e,!0);ou(d,b),O&&h.push(...O)};!r&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}if(!f&&!c)return _l(t)&&a.set(t,qP),qP;if(Zs(f))for(let v=0;v<f.length;v++){const y=Bp(f[v]);ufe(y)&&(d[y]=Ul)}else if(f)for(const v in f){const y=Bp(v);if(ufe(y)){const b=f[v],O=d[y]=Zs(b)||Ca(b)?{type:b}:ou({},b);if(O){const T=hfe(Boolean,O.type),k=hfe(String,O.type);O[0]=T>-1,O[1]=k<0||T<k,(T>-1||vi(O,"default"))&&h.push(y)}}}const g=[d,h];return _l(t)&&a.set(t,g),g}function ufe(t){return t[0]!=="$"}function ffe(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function dfe(t,e){return ffe(t)===ffe(e)}function hfe(t,e){return Zs(e)?e.findIndex(r=>dfe(r,t)):Ca(e)&&dfe(e,t)?0:-1}const dve=t=>t[0]==="_"||t==="$stable",fie=t=>Zs(t)?t.map(H0):[H0(t)],I3e=(t,e,r)=>{if(e._n)return e;const a=so((...i)=>fie(e(...i)),r);return a._c=!1,a},hve=(t,e,r)=>{const a=t._ctx;for(const i in t){if(dve(i))continue;const f=t[i];if(Ca(f))e[i]=I3e(i,f,a);else if(f!=null){const d=fie(f);e[i]=()=>d}}},mve=(t,e)=>{const r=fie(e);t.slots.default=()=>r},N3e=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=ya(e),cH(e,"_",r)):hve(e,t.slots={})}else t.slots={},e&&mve(t,e);cH(t.slots,PU,1)},B3e=(t,e,r)=>{const{vnode:a,slots:i}=t;let f=!0,d=Ul;if(a.shapeFlag&32){const h=e._;h?r&&h===1?f=!1:(ou(i,e),!r&&h===1&&delete i._):(f=!e.$stable,hve(e,i)),d=e}else e&&(mve(t,e),d={default:1});if(f)for(const h in i)!dve(h)&&!(h in d)&&delete i[h]};function nse(t,e,r,a,i=!1){if(Zs(t)){t.forEach((b,O)=>nse(b,e&&(Zs(e)?e[O]:e),r,a,i));return}if(HR(a)&&!i)return;const f=a.shapeFlag&4?MU(a.component)||a.component.proxy:a.el,d=i?null:f,{i:h,r:c}=t,g=e&&e.r,v=h.refs===Ul?h.refs={}:h.refs,y=h.setupState;if(g!=null&&g!==c&&(Uc(g)?(v[g]=null,vi(y,g)&&(y[g]=null)):Oc(g)&&(g.value=null)),Ca(c))CS(c,h,12,[d,v]);else{const b=Uc(c),O=Oc(c);if(b||O){const T=()=>{if(t.f){const k=b?vi(y,c)?y[c]:v[c]:c.value;i?Zs(k)&&Hae(k,f):Zs(k)?k.includes(f)||k.push(f):b?(v[c]=[f],vi(y,c)&&(y[c]=v[c])):(c.value=[f],t.k&&(v[t.k]=c.value))}else b?(v[c]=d,vi(y,c)&&(y[c]=d)):O&&(c.value=d,t.k&&(v[t.k]=d))};d?(T.id=-1,im(T,r)):T()}}}const im=m3e;function Q3e(t){return F3e(t)}function F3e(t,e){const r=Yoe();r.__VUE__=!0;const{insert:a,remove:i,patchProp:f,createElement:d,createText:h,createComment:c,setText:g,setElementText:v,parentNode:y,nextSibling:b,setScopeId:O=Hv,insertStaticContent:T}=t,k=(Te,De,Ve,_e=null,Ie=null,re=null,be=!1,te=null,se=!!De.dynamicChildren)=>{if(Te===De)return;Te&&!TT(Te,De)&&(_e=le(Te),xe(Te,Ie,re,!0),Te=null),De.patchFlag===-2&&(se=!1,De.dynamicChildren=null);const{type:fe,ref:oe,shapeFlag:Se}=De;switch(fe){case YD:w(Te,De,Ve,_e);break;case $p:C(Te,De,Ve,_e);break;case Lre:Te==null&&_(De,Ve,_e,be);break;case es:E(Te,De,Ve,_e,Ie,re,be,te,se);break;default:Se&1?V(Te,De,Ve,_e,Ie,re,be,te,se):Se&6?W(Te,De,Ve,_e,Ie,re,be,te,se):(Se&64||Se&128)&&fe.process(Te,De,Ve,_e,Ie,re,be,te,se,ve)}oe!=null&&Ie&&nse(oe,Te&&Te.ref,re,De||Te,!De)},w=(Te,De,Ve,_e)=>{if(Te==null)a(De.el=h(De.children),Ve,_e);else{const Ie=De.el=Te.el;De.children!==Te.children&&g(Ie,De.children)}},C=(Te,De,Ve,_e)=>{Te==null?a(De.el=c(De.children||""),Ve,_e):De.el=Te.el},_=(Te,De,Ve,_e)=>{[Te.el,Te.anchor]=T(Te.children,De,Ve,_e,Te.el,Te.anchor)},M=({el:Te,anchor:De},Ve,_e)=>{let Ie;for(;Te&&Te!==De;)Ie=b(Te),a(Te,Ve,_e),Te=Ie;a(De,Ve,_e)},I=({el:Te,anchor:De})=>{let Ve;for(;Te&&Te!==De;)Ve=b(Te),i(Te),Te=Ve;i(De)},V=(Te,De,Ve,_e,Ie,re,be,te,se)=>{be=be||De.type==="svg",Te==null?N(De,Ve,_e,Ie,re,be,te,se):U(Te,De,Ie,re,be,te,se)},N=(Te,De,Ve,_e,Ie,re,be,te)=>{let se,fe;const{type:oe,props:Se,shapeFlag:ce,transition:ke,dirs:Qe}=Te;if(se=Te.el=d(Te.type,re,Se&&Se.is,Se),ce&8?v(se,Te.children):ce&16&&z(Te.children,se,null,_e,Ie,re&&oe!=="foreignObject",be,te),Qe&&gT(Te,null,_e,"created"),Q(se,Te,Te.scopeId,be,_e),Se){for(const Xe in Se)Xe!=="value"&&!zZ(Xe)&&f(se,Xe,null,Se[Xe],re,Te.children,_e,Ie,ne);"value"in Se&&f(se,"value",null,Se.value),(fe=Se.onVnodeBeforeMount)&&B0(fe,_e,Te)}Qe&&gT(Te,null,_e,"beforeMount");const Ze=(!Ie||Ie&&!Ie.pendingBranch)&&ke&&!ke.persisted;Ze&&ke.beforeEnter(se),a(se,De,Ve),((fe=Se&&Se.onVnodeMounted)||Ze||Qe)&&im(()=>{fe&&B0(fe,_e,Te),Ze&&ke.enter(se),Qe&&gT(Te,null,_e,"mounted")},Ie)},Q=(Te,De,Ve,_e,Ie)=>{if(Ve&&O(Te,Ve),_e)for(let re=0;re<_e.length;re++)O(Te,_e[re]);if(Ie){let re=Ie.subTree;if(De===re){const be=Ie.vnode;Q(Te,be,be.scopeId,be.slotScopeIds,Ie.parent)}}},z=(Te,De,Ve,_e,Ie,re,be,te,se=0)=>{for(let fe=se;fe<Te.length;fe++){const oe=Te[fe]=te?hS(Te[fe]):H0(Te[fe]);k(null,oe,De,Ve,_e,Ie,re,be,te)}},U=(Te,De,Ve,_e,Ie,re,be)=>{const te=De.el=Te.el;let{patchFlag:se,dynamicChildren:fe,dirs:oe}=De;se|=Te.patchFlag&16;const Se=Te.props||Ul,ce=De.props||Ul;let ke;Ve&&pT(Ve,!1),(ke=ce.onVnodeBeforeUpdate)&&B0(ke,Ve,De,Te),oe&&gT(De,Te,Ve,"beforeUpdate"),Ve&&pT(Ve,!0);const Qe=Ie&&De.type!=="foreignObject";if(fe?F(Te.dynamicChildren,fe,te,Ve,_e,Qe,re):be||ae(Te,De,te,null,Ve,_e,Qe,re,!1),se>0){if(se&16)B(te,De,Se,ce,Ve,_e,Ie);else if(se&2&&Se.class!==ce.class&&f(te,"class",null,ce.class,Ie),se&4&&f(te,"style",Se.style,ce.style,Ie),se&8){const Ze=De.dynamicProps;for(let Xe=0;Xe<Ze.length;Xe++){const ct=Ze[Xe],pt=Se[ct],Ye=ce[ct];(Ye!==pt||ct==="value")&&f(te,ct,pt,Ye,Ie,Te.children,Ve,_e,ne)}}se&1&&Te.children!==De.children&&v(te,De.children)}else!be&&fe==null&&B(te,De,Se,ce,Ve,_e,Ie);((ke=ce.onVnodeUpdated)||oe)&&im(()=>{ke&&B0(ke,Ve,De,Te),oe&&gT(De,Te,Ve,"updated")},_e)},F=(Te,De,Ve,_e,Ie,re,be)=>{for(let te=0;te<De.length;te++){const se=Te[te],fe=De[te],oe=se.el&&(se.type===es||!TT(se,fe)||se.shapeFlag&70)?y(se.el):Ve;k(se,fe,oe,null,_e,Ie,re,be,!0)}},B=(Te,De,Ve,_e,Ie,re,be)=>{if(Ve!==_e){if(Ve!==Ul)for(const te in Ve)!zZ(te)&&!(te in _e)&&f(Te,te,Ve[te],null,be,De.children,Ie,re,ne);for(const te in _e){if(zZ(te))continue;const se=_e[te],fe=Ve[te];se!==fe&&te!=="value"&&f(Te,te,fe,se,be,De.children,Ie,re,ne)}"value"in _e&&f(Te,"value",Ve.value,_e.value)}},E=(Te,De,Ve,_e,Ie,re,be,te,se)=>{const fe=De.el=Te?Te.el:h(""),oe=De.anchor=Te?Te.anchor:h("");let{patchFlag:Se,dynamicChildren:ce,slotScopeIds:ke}=De;ke&&(te=te?te.concat(ke):ke),Te==null?(a(fe,Ve,_e),a(oe,Ve,_e),z(De.children,Ve,oe,Ie,re,be,te,se)):Se>0&&Se&64&&ce&&Te.dynamicChildren?(F(Te.dynamicChildren,ce,Ve,Ie,re,be,te),(De.key!=null||Ie&&De===Ie.subTree)&&die(Te,De,!0)):ae(Te,De,Ve,oe,Ie,re,be,te,se)},W=(Te,De,Ve,_e,Ie,re,be,te,se)=>{De.slotScopeIds=te,Te==null?De.shapeFlag&512?Ie.ctx.activate(De,Ve,_e,be,se):X(De,Ve,_e,Ie,re,be,se):ie(Te,De,se)},X=(Te,De,Ve,_e,Ie,re,be)=>{const te=Te.component=q3e(Te,_e,Ie);if(kU(Te)&&(te.ctx.renderer=ve),K3e(te),te.asyncDep){if(Ie&&Ie.registerDep(te,L),!Te.el){const se=te.subTree=at($p);C(null,se,De,Ve)}return}L(te,Te,De,Ve,Ie,re,be)},ie=(Te,De,Ve)=>{const _e=De.component=Te.component;if(f3e(Te,De,Ve))if(_e.asyncDep&&!_e.asyncResolved){me(_e,De,Ve);return}else _e.next=De,s3e(_e.update),_e.update();else De.el=Te.el,_e.vnode=De},L=(Te,De,Ve,_e,Ie,re,be)=>{const te=()=>{if(Te.isMounted){let{next:oe,bu:Se,u:ce,parent:ke,vnode:Qe}=Te,Ze=oe,Xe;pT(Te,!1),oe?(oe.el=Qe.el,me(Te,oe,be)):oe=Qe,Se&&ZZ(Se),(Xe=oe.props&&oe.props.onVnodeBeforeUpdate)&&B0(Xe,ke,oe,Qe),pT(Te,!0);const ct=Rre(Te),pt=Te.subTree;Te.subTree=ct,k(pt,ct,y(pt.el),le(pt),Te,Ie,re),oe.el=ct.el,Ze===null&&d3e(Te,ct.el),ce&&im(ce,Ie),(Xe=oe.props&&oe.props.onVnodeUpdated)&&im(()=>B0(Xe,ke,oe,Qe),Ie)}else{let oe;const{el:Se,props:ce}=De,{bm:ke,m:Qe,parent:Ze}=Te,Xe=HR(De);if(pT(Te,!1),ke&&ZZ(ke),!Xe&&(oe=ce&&ce.onVnodeBeforeMount)&&B0(oe,Ze,De),pT(Te,!0),Se&&Le){const ct=()=>{Te.subTree=Rre(Te),Le(Se,Te.subTree,Te,Ie,null)};Xe?De.type.__asyncLoader().then(()=>!Te.isUnmounted&&ct()):ct()}else{const ct=Te.subTree=Rre(Te);k(null,ct,Ve,_e,Te,Ie,re),De.el=ct.el}if(Qe&&im(Qe,Ie),!Xe&&(oe=ce&&ce.onVnodeMounted)){const ct=De;im(()=>B0(oe,Ze,ct),Ie)}(De.shapeFlag&256||Ze&&HR(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&Te.a&&im(Te.a,Ie),Te.isMounted=!0,De=Ve=_e=null}},se=Te.effect=new Gae(te,()=>nie(fe),Te.scope),fe=Te.update=()=>se.run();fe.id=Te.uid,pT(Te,!0),fe()},me=(Te,De,Ve)=>{De.component=Te;const _e=Te.vnode.props;Te.vnode=De,Te.next=null,L3e(Te,De.props,_e,Ve),B3e(Te,De.children,Ve),_8(),tfe(),R8()},ae=(Te,De,Ve,_e,Ie,re,be,te,se=!1)=>{const fe=Te&&Te.children,oe=Te?Te.shapeFlag:0,Se=De.children,{patchFlag:ce,shapeFlag:ke}=De;if(ce>0){if(ce&128){de(fe,Se,Ve,_e,Ie,re,be,te,se);return}else if(ce&256){q(fe,Se,Ve,_e,Ie,re,be,te,se);return}}ke&8?(oe&16&&ne(fe,Ie,re),Se!==fe&&v(Ve,Se)):oe&16?ke&16?de(fe,Se,Ve,_e,Ie,re,be,te,se):ne(fe,Ie,re,!0):(oe&8&&v(Ve,""),ke&16&&z(Se,Ve,_e,Ie,re,be,te,se))},q=(Te,De,Ve,_e,Ie,re,be,te,se)=>{Te=Te||qP,De=De||qP;const fe=Te.length,oe=De.length,Se=Math.min(fe,oe);let ce;for(ce=0;ce<Se;ce++){const ke=De[ce]=se?hS(De[ce]):H0(De[ce]);k(Te[ce],ke,Ve,null,Ie,re,be,te,se)}fe>oe?ne(Te,Ie,re,!0,!1,Se):z(De,Ve,_e,Ie,re,be,te,se,Se)},de=(Te,De,Ve,_e,Ie,re,be,te,se)=>{let fe=0;const oe=De.length;let Se=Te.length-1,ce=oe-1;for(;fe<=Se&&fe<=ce;){const ke=Te[fe],Qe=De[fe]=se?hS(De[fe]):H0(De[fe]);if(TT(ke,Qe))k(ke,Qe,Ve,null,Ie,re,be,te,se);else break;fe++}for(;fe<=Se&&fe<=ce;){const ke=Te[Se],Qe=De[ce]=se?hS(De[ce]):H0(De[ce]);if(TT(ke,Qe))k(ke,Qe,Ve,null,Ie,re,be,te,se);else break;Se--,ce--}if(fe>Se){if(fe<=ce){const ke=ce+1,Qe=ke<oe?De[ke].el:_e;for(;fe<=ce;)k(null,De[fe]=se?hS(De[fe]):H0(De[fe]),Ve,Qe,Ie,re,be,te,se),fe++}}else if(fe>ce)for(;fe<=Se;)xe(Te[fe],Ie,re,!0),fe++;else{const ke=fe,Qe=fe,Ze=new Map;for(fe=Qe;fe<=ce;fe++){const ft=De[fe]=se?hS(De[fe]):H0(De[fe]);ft.key!=null&&Ze.set(ft.key,fe)}let Xe,ct=0;const pt=ce-Qe+1;let Ye=!1,je=0;const et=new Array(pt);for(fe=0;fe<pt;fe++)et[fe]=0;for(fe=ke;fe<=Se;fe++){const ft=Te[fe];if(ct>=pt){xe(ft,Ie,re,!0);continue}let tt;if(ft.key!=null)tt=Ze.get(ft.key);else for(Xe=Qe;Xe<=ce;Xe++)if(et[Xe-Qe]===0&&TT(ft,De[Xe])){tt=Xe;break}tt===void 0?xe(ft,Ie,re,!0):(et[tt-Qe]=fe+1,tt>=je?je=tt:Ye=!0,k(ft,De[tt],Ve,null,Ie,re,be,te,se),ct++)}const yt=Ye?V3e(et):qP;for(Xe=yt.length-1,fe=pt-1;fe>=0;fe--){const ft=Qe+fe,tt=De[ft],wt=ft+1<oe?De[ft+1].el:_e;et[fe]===0?k(null,tt,Ve,wt,Ie,re,be,te,se):Ye&&(Xe<0||fe!==yt[Xe]?ee(tt,Ve,wt,2):Xe--)}}},ee=(Te,De,Ve,_e,Ie=null)=>{const{el:re,type:be,transition:te,children:se,shapeFlag:fe}=Te;if(fe&6){ee(Te.component.subTree,De,Ve,_e);return}if(fe&128){Te.suspense.move(De,Ve,_e);return}if(fe&64){be.move(Te,De,Ve,ve);return}if(be===es){a(re,De,Ve);for(let Se=0;Se<se.length;Se++)ee(se[Se],De,Ve,_e);a(Te.anchor,De,Ve);return}if(be===Lre){M(Te,De,Ve);return}if(_e!==2&&fe&1&&te)if(_e===0)te.beforeEnter(re),a(re,De,Ve),im(()=>te.enter(re),Ie);else{const{leave:Se,delayLeave:ce,afterLeave:ke}=te,Qe=()=>a(re,De,Ve),Ze=()=>{Se(re,()=>{Qe(),ke&&ke()})};ce?ce(re,Qe,Ze):Ze()}else a(re,De,Ve)},xe=(Te,De,Ve,_e=!1,Ie=!1)=>{const{type:re,props:be,ref:te,children:se,dynamicChildren:fe,shapeFlag:oe,patchFlag:Se,dirs:ce}=Te;if(te!=null&&nse(te,null,Ve,Te,!0),oe&256){De.ctx.deactivate(Te);return}const ke=oe&1&&ce,Qe=!HR(Te);let Ze;if(Qe&&(Ze=be&&be.onVnodeBeforeUnmount)&&B0(Ze,De,Te),oe&6)pe(Te.component,Ve,_e);else{if(oe&128){Te.suspense.unmount(Ve,_e);return}ke&&gT(Te,null,De,"beforeUnmount"),oe&64?Te.type.remove(Te,De,Ve,Ie,ve,_e):fe&&(re!==es||Se>0&&Se&64)?ne(fe,De,Ve,!1,!0):(re===es&&Se&384||!Ie&&oe&16)&&ne(se,De,Ve),_e&&we(Te)}(Qe&&(Ze=be&&be.onVnodeUnmounted)||ke)&&im(()=>{Ze&&B0(Ze,De,Te),ke&&gT(Te,null,De,"unmounted")},Ve)},we=Te=>{const{type:De,el:Ve,anchor:_e,transition:Ie}=Te;if(De===es){Be(Ve,_e);return}if(De===Lre){I(Te);return}const re=()=>{i(Ve),Ie&&!Ie.persisted&&Ie.afterLeave&&Ie.afterLeave()};if(Te.shapeFlag&1&&Ie&&!Ie.persisted){const{leave:be,delayLeave:te}=Ie,se=()=>be(Ve,re);te?te(Te.el,re,se):se()}else re()},Be=(Te,De)=>{let Ve;for(;Te!==De;)Ve=b(Te),i(Te),Te=Ve;i(De)},pe=(Te,De,Ve)=>{const{bum:_e,scope:Ie,update:re,subTree:be,um:te}=Te;_e&&ZZ(_e),Ie.stop(),re&&(re.active=!1,xe(be,Te,De,Ve)),te&&im(te,De),im(()=>{Te.isUnmounted=!0},De),De&&De.pendingBranch&&!De.isUnmounted&&Te.asyncDep&&!Te.asyncResolved&&Te.suspenseId===De.pendingId&&(De.deps--,De.deps===0&&De.resolve())},ne=(Te,De,Ve,_e=!1,Ie=!1,re=0)=>{for(let be=re;be<Te.length;be++)xe(Te[be],De,Ve,_e,Ie)},le=Te=>Te.shapeFlag&6?le(Te.component.subTree):Te.shapeFlag&128?Te.suspense.next():b(Te.anchor||Te.el),Y=(Te,De,Ve)=>{Te==null?De._vnode&&xe(De._vnode,null,null,!0):k(De._vnode||null,Te,De,null,null,null,Ve),tfe(),Xpe(),De._vnode=Te},ve={p:k,um:xe,m:ee,r:we,mt:X,mc:z,pc:ae,pbc:F,n:le,o:t};let Oe,Le;return e&&([Oe,Le]=e(ve)),{render:Y,hydrate:Oe,createApp:D3e(Y,Oe)}}function pT({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function die(t,e,r=!1){const a=t.children,i=e.children;if(Zs(a)&&Zs(i))for(let f=0;f<a.length;f++){const d=a[f];let h=i[f];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=i[f]=hS(i[f]),h.el=d.el),r||die(d,h)),h.type===YD&&(h.el=d.el)}}function V3e(t){const e=t.slice(),r=[0];let a,i,f,d,h;const c=t.length;for(a=0;a<c;a++){const g=t[a];if(g!==0){if(i=r[r.length-1],t[i]<g){e[a]=i,r.push(a);continue}for(f=0,d=r.length-1;f<d;)h=f+d>>1,t[r[h]]<g?f=h+1:d=h;g<t[r[f]]&&(f>0&&(e[a]=r[f-1]),r[f]=a)}}for(f=r.length,d=r[f-1];f-- >0;)r[f]=d,d=e[d];return r}const z3e=t=>t.__isTeleport,WR=t=>t&&(t.disabled||t.disabled===""),mfe=t=>typeof SVGElement<"u"&&t instanceof SVGElement,rse=(t,e)=>{const r=t&&t.to;return Uc(r)?e?e(r):null:r},Z3e={__isTeleport:!0,process(t,e,r,a,i,f,d,h,c,g){const{mc:v,pc:y,pbc:b,o:{insert:O,querySelector:T,createText:k,createComment:w}}=g,C=WR(e.props);let{shapeFlag:_,children:M,dynamicChildren:I}=e;if(t==null){const V=e.el=k(""),N=e.anchor=k("");O(V,r,a),O(N,r,a);const Q=e.target=rse(e.props,T),z=e.targetAnchor=k("");Q&&(O(z,Q),d=d||mfe(Q));const U=(F,B)=>{_&16&&v(M,F,B,i,f,d,h,c)};C?U(r,N):Q&&U(Q,z)}else{e.el=t.el;const V=e.anchor=t.anchor,N=e.target=t.target,Q=e.targetAnchor=t.targetAnchor,z=WR(t.props),U=z?r:N,F=z?V:Q;if(d=d||mfe(N),I?(b(t.dynamicChildren,I,U,i,f,d,h),die(t,e,!0)):c||y(t,e,U,F,i,f,d,h,!1),C)z||sZ(e,r,V,g,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=rse(e.props,T);B&&sZ(e,B,null,g,0)}else z&&sZ(e,N,Q,g,1)}gve(e)},remove(t,e,r,a,{um:i,o:{remove:f}},d){const{shapeFlag:h,children:c,anchor:g,targetAnchor:v,target:y,props:b}=t;if(y&&f(v),(d||!WR(b))&&(f(g),h&16))for(let O=0;O<c.length;O++){const T=c[O];i(T,e,r,!0,!!T.dynamicChildren)}},move:sZ,hydrate:H3e};function sZ(t,e,r,{o:{insert:a},m:i},f=2){f===0&&a(t.targetAnchor,e,r);const{el:d,anchor:h,shapeFlag:c,children:g,props:v}=t,y=f===2;if(y&&a(d,e,r),(!y||WR(v))&&c&16)for(let b=0;b<g.length;b++)i(g[b],e,r,2);y&&a(h,e,r)}function H3e(t,e,r,a,i,f,{o:{nextSibling:d,parentNode:h,querySelector:c}},g){const v=e.target=rse(e.props,c);if(v){const y=v._lpa||v.firstChild;if(e.shapeFlag&16)if(WR(e.props))e.anchor=g(d(t),e,h(t),r,a,i,f),e.targetAnchor=y;else{e.anchor=d(t);let b=y;for(;b;)if(b=d(b),b&&b.nodeType===8&&b.data==="teleport anchor"){e.targetAnchor=b,v._lpa=e.targetAnchor&&d(e.targetAnchor);break}g(y,e,v,r,a,i,f)}gve(e)}return e.anchor&&d(e.anchor)}const U3e=Z3e;function gve(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const es=Symbol.for("v-fgt"),YD=Symbol.for("v-txt"),$p=Symbol.for("v-cmt"),Lre=Symbol.for("v-stc"),YR=[];let Zv=null;function zr(t=!1){YR.push(Zv=t?null:[])}function W3e(){YR.pop(),Zv=YR[YR.length-1]||null}let dD=1;function gfe(t){dD+=t}function pve(t){return t.dynamicChildren=dD>0?Zv||qP:null,W3e(),dD>0&&Zv&&Zv.push(t),t}function Js(t,e,r,a,i,f){return pve(Ya(t,e,r,a,i,f,!0))}function fs(t,e,r,a,i){return pve(at(t,e,r,a,i,!0))}function gH(t){return t?t.__v_isVNode===!0:!1}function TT(t,e){return t.type===e.type&&t.key===e.key}const PU="__vInternal",vve=({key:t})=>t??null,HZ=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Uc(t)||Oc(t)||Ca(t)?{i:qf,r:t,k:e,f:!!r}:t:null);function Ya(t,e=null,r=null,a=0,i=null,f=t===es?0:1,d=!1,h=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&vve(e),ref:e&&HZ(e),scopeId:TU,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qf};return h?(hie(c,r),f&128&&t.normalize(c)):r&&(c.shapeFlag|=Uc(r)?8:16),dD>0&&!d&&Zv&&(c.patchFlag>0||f&6)&&c.patchFlag!==32&&Zv.push(c),c}const at=Y3e;function Y3e(t,e=null,r=null,a=0,i=null,f=!1){if((!t||t===ave)&&(t=$p),gH(t)){const h=wO(t,e,!0);return r&&hie(h,r),dD>0&&!f&&Zv&&(h.shapeFlag&6?Zv[Zv.indexOf(t)]=h:Zv.push(h)),h.patchFlag|=-2,h}if(rCe(t)&&(t=t.__vccOpts),e){e=X3e(e);let{class:h,style:c}=e;h&&!Uc(h)&&(e.class=u8(h)),_l(c)&&(Qpe(c)&&!Zs(c)&&(c=ou({},c)),e.style=OU(c))}const d=Uc(t)?1:h3e(t)?128:z3e(t)?64:_l(t)?4:Ca(t)?2:0;return Ya(t,e,r,a,i,d,f,!0)}function X3e(t){return t?Qpe(t)||PU in t?ou({},t):t:null}function wO(t,e,r=!1){const{props:a,ref:i,patchFlag:f,children:d}=t,h=e?ts(a||{},e):a;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&vve(h),ref:e&&e.ref?r&&i?Zs(i)?i.concat(HZ(e)):[i,HZ(e)]:HZ(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:d,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==es?f===-1?16:f|16:f,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wO(t.ssContent),ssFallback:t.ssFallback&&wO(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function xl(t=" ",e=0){return at(YD,null,t,e)}function Ja(t="",e=!1){return e?(zr(),fs($p,null,t)):at($p,null,t)}function H0(t){return t==null||typeof t=="boolean"?at($p):Zs(t)?at(es,null,t.slice()):typeof t=="object"?hS(t):at(YD,null,String(t))}function hS(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:wO(t)}function hie(t,e){let r=0;const{shapeFlag:a}=t;if(e==null)e=null;else if(Zs(e))r=16;else if(typeof e=="object")if(a&65){const i=e.default;i&&(i._c&&(i._d=!1),hie(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(PU in e)?e._ctx=qf:i===3&&qf&&(qf.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ca(e)?(e={default:e,_ctx:qf},r=32):(e=String(e),a&64?(r=16,e=[xl(e)]):r=8);t.children=e,t.shapeFlag|=r}function ts(...t){const e={};for(let r=0;r<t.length;r++){const a=t[r];for(const i in a)if(i==="class")e.class!==a.class&&(e.class=u8([e.class,a.class]));else if(i==="style")e.style=OU([e.style,a.style]);else if(vU(i)){const f=e[i],d=a[i];d&&f!==d&&!(Zs(f)&&f.includes(d))&&(e[i]=f?[].concat(f,d):d)}else i!==""&&(e[i]=a[i])}return e}function B0(t,e,r,a=null){Dp(t,e,7,[r,a])}const G3e=cve();let j3e=0;function q3e(t,e,r){const a=t.type,i=(e?e.appContext:t.appContext)||G3e,f={uid:j3e++,vnode:t,type:a,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ape(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fve(a,i),emitsOptions:jpe(a,i),emit:null,emitted:null,propsDefaults:Ul,inheritAttrs:a.inheritAttrs,ctx:Ul,data:Ul,props:Ul,attrs:Ul,slots:Ul,refs:Ul,setupState:Ul,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=e?e.root:f,f.emit=l3e.bind(null,f),t.ce&&t.ce(f),f}let kf=null;const mie=()=>kf||qf;let gie,QP,pfe="__VUE_INSTANCE_SETTERS__";(QP=Yoe()[pfe])||(QP=Yoe()[pfe]=[]),QP.push(t=>kf=t),gie=t=>{QP.length>1?QP.forEach(e=>e(t)):QP[0](t)};const d8=t=>{gie(t),t.scope.on()},IT=()=>{kf&&kf.scope.off(),gie(null)};function yve(t){return t.vnode.shapeFlag&4}let hD=!1;function K3e(t,e=!1){hD=e;const{props:r,children:a}=t.vnode,i=yve(t);$3e(t,r,i,e),N3e(t,a);const f=i?J3e(t,e):void 0;return hD=!1,f}function J3e(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=Fpe(new Proxy(t.ctx,k3e));const{setup:a}=r;if(a){const i=t.setupContext=a.length>1?tCe(t):null;d8(t),_8();const f=CS(a,t,0,[t.props,i]);if(R8(),IT(),Spe(f)){if(f.then(IT,IT),e)return f.then(d=>{vfe(t,d,e)}).catch(d=>{wU(d,t,0)});t.asyncDep=f}else vfe(t,f,e)}else bve(t,e)}function vfe(t,e,r){Ca(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_l(e)&&(t.setupState=Hpe(e)),bve(t,r)}let yfe;function bve(t,e,r){const a=t.type;if(!t.render){if(!e&&yfe&&!a.render){const i=a.template||uie(t).template;if(i){const{isCustomElement:f,compilerOptions:d}=t.appContext.config,{delimiters:h,compilerOptions:c}=a,g=ou(ou({isCustomElement:f,delimiters:h},d),c);a.render=yfe(i,g)}}t.render=a.render||Hv}d8(t),_8(),A3e(t),R8(),IT()}function eCe(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return hm(t,"get","$attrs"),e[r]}}))}function tCe(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return eCe(t)},slots:t.slots,emit:t.emit,expose:e}}function MU(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Hpe(Fpe(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in UR)return UR[r](t)},has(e,r){return r in e||r in UR}}))}function nCe(t,e=!0){return Ca(t)?t.displayName||t.name:t.name||e&&t.__name}function rCe(t){return Ca(t)&&"__vccOpts"in t}const Jt=(t,e)=>n3e(t,e,hD);function mm(t,e,r){const a=arguments.length;return a===2?_l(e)&&!Zs(e)?gH(e)?at(t,null,[e]):at(t,e):at(t,null,e):(a>3?r=Array.prototype.slice.call(arguments,2):a===3&&gH(r)&&(r=[r]),at(t,e,r))}const oCe=Symbol.for("v-scx"),sCe=()=>Da(oCe),aCe="3.3.4",iCe="http://www.w3.org/2000/svg",kT=typeof document<"u"?document:null,bfe=kT&&kT.createElement("template"),lCe={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,a)=>{const i=e?kT.createElementNS(iCe,t):kT.createElement(t,r?{is:r}:void 0);return t==="select"&&a&&a.multiple!=null&&i.setAttribute("multiple",a.multiple),i},createText:t=>kT.createTextNode(t),createComment:t=>kT.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>kT.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,a,i,f){const d=r?r.previousSibling:e.lastChild;if(i&&(i===f||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===f||!(i=i.nextSibling)););else{bfe.innerHTML=a?`<svg>${t}</svg>`:t;const h=bfe.content;if(a){const c=h.firstChild;for(;c.firstChild;)h.appendChild(c.firstChild);h.removeChild(c)}e.insertBefore(h,r)}return[d?d.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function cCe(t,e,r){const a=t._vtc;a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function uCe(t,e,r){const a=t.style,i=Uc(r);if(r&&!i){if(e&&!Uc(e))for(const f in e)r[f]==null&&ose(a,f,"");for(const f in r)ose(a,f,r[f])}else{const f=a.display;i?e!==r&&(a.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(a.display=f)}}const Ofe=/\s*!important$/;function ose(t,e,r){if(Zs(r))r.forEach(a=>ose(t,e,a));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const a=fCe(t,e);Ofe.test(r)?t.setProperty(E8(a),r.replace(Ofe,""),"important"):t[a]=r}}const xfe=["Webkit","Moz","ms"],Ire={};function fCe(t,e){const r=Ire[e];if(r)return r;let a=Bp(e);if(a!=="filter"&&a in t)return Ire[e]=a;a=MO(a);for(let i=0;i<xfe.length;i++){const f=xfe[i]+a;if(f in t)return Ire[e]=f}return e}const Sfe="http://www.w3.org/1999/xlink";function dCe(t,e,r,a,i){if(a&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Sfe,e.slice(6,e.length)):t.setAttributeNS(Sfe,e,r);else{const f=xwe(e);r==null||f&&!Tpe(r)?t.removeAttribute(e):t.setAttribute(e,f?"":r)}}function hCe(t,e,r,a,i,f,d){if(e==="innerHTML"||e==="textContent"){a&&d(a,i,f),t[e]=r??"";return}const h=t.tagName;if(e==="value"&&h!=="PROGRESS"&&!h.includes("-")){t._value=r;const g=h==="OPTION"?t.getAttribute("value"):t.value,v=r??"";g!==v&&(t.value=v),r==null&&t.removeAttribute(e);return}let c=!1;if(r===""||r==null){const g=typeof t[e];g==="boolean"?r=Tpe(r):r==null&&g==="string"?(r="",c=!0):g==="number"&&(r=0,c=!0)}try{t[e]=r}catch{}c&&t.removeAttribute(e)}function ZP(t,e,r,a){t.addEventListener(e,r,a)}function mCe(t,e,r,a){t.removeEventListener(e,r,a)}function gCe(t,e,r,a,i=null){const f=t._vei||(t._vei={}),d=f[e];if(a&&d)d.value=a;else{const[h,c]=pCe(e);if(a){const g=f[e]=bCe(a,i);ZP(t,h,g,c)}else d&&(mCe(t,h,d,c),f[e]=void 0)}}const wfe=/(?:Once|Passive|Capture)$/;function pCe(t){let e;if(wfe.test(t)){e={};let a;for(;a=t.match(wfe);)t=t.slice(0,t.length-a[0].length),e[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):E8(t.slice(2)),e]}let Nre=0;const vCe=Promise.resolve(),yCe=()=>Nre||(vCe.then(()=>Nre=0),Nre=Date.now());function bCe(t,e){const r=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=r.attached)return;Dp(OCe(a,r.value),e,5,[a])};return r.value=t,r.attached=yCe(),r}function OCe(t,e){if(Zs(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(a=>i=>!i._stopped&&a&&a(i))}else return e}const Cfe=/^on[a-z]/,xCe=(t,e,r,a,i=!1,f,d,h,c)=>{e==="class"?cCe(t,a,i):e==="style"?uCe(t,r,a):vU(e)?Zae(e)||gCe(t,e,r,a,d):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):SCe(t,e,a,i))?hCe(t,e,a,f,d,h,c):(e==="true-value"?t._trueValue=a:e==="false-value"&&(t._falseValue=a),dCe(t,e,a,i))};function SCe(t,e,r,a){return a?!!(e==="innerHTML"||e==="textContent"||e in t&&Cfe.test(e)&&Ca(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Cfe.test(e)&&Uc(r)?!1:e in t}const cS="transition",OR="animation",CO=(t,{slots:e})=>mm(v3e,xve(t),e);CO.displayName="Transition";const Ove={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wCe=CO.props=ou({},tve,Ove),vT=(t,e=[])=>{Zs(t)?t.forEach(r=>r(...e)):t&&t(...e)},Tfe=t=>t?Zs(t)?t.some(e=>e.length>1):t.length>1:!1;function xve(t){const e={};for(const E in t)E in Ove||(e[E]=t[E]);if(t.css===!1)return e;const{name:r="v",type:a,duration:i,enterFromClass:f=`${r}-enter-from`,enterActiveClass:d=`${r}-enter-active`,enterToClass:h=`${r}-enter-to`,appearFromClass:c=f,appearActiveClass:g=d,appearToClass:v=h,leaveFromClass:y=`${r}-leave-from`,leaveActiveClass:b=`${r}-leave-active`,leaveToClass:O=`${r}-leave-to`}=t,T=CCe(i),k=T&&T[0],w=T&&T[1],{onBeforeEnter:C,onEnter:_,onEnterCancelled:M,onLeave:I,onLeaveCancelled:V,onBeforeAppear:N=C,onAppear:Q=_,onAppearCancelled:z=M}=e,U=(E,W,X)=>{dS(E,W?v:h),dS(E,W?g:d),X&&X()},F=(E,W)=>{E._isLeaving=!1,dS(E,y),dS(E,O),dS(E,b),W&&W()},B=E=>(W,X)=>{const ie=E?Q:_,L=()=>U(W,E,X);vT(ie,[W,L]),kfe(()=>{dS(W,E?c:f),vO(W,E?v:h),Tfe(ie)||Afe(W,a,k,L)})};return ou(e,{onBeforeEnter(E){vT(C,[E]),vO(E,f),vO(E,d)},onBeforeAppear(E){vT(N,[E]),vO(E,c),vO(E,g)},onEnter:B(!1),onAppear:B(!0),onLeave(E,W){E._isLeaving=!0;const X=()=>F(E,W);vO(E,y),wve(),vO(E,b),kfe(()=>{E._isLeaving&&(dS(E,y),vO(E,O),Tfe(I)||Afe(E,a,w,X))}),vT(I,[E,X])},onEnterCancelled(E){U(E,!1),vT(M,[E])},onAppearCancelled(E){U(E,!0),vT(z,[E])},onLeaveCancelled(E){F(E),vT(V,[E])}})}function CCe(t){if(t==null)return null;if(_l(t))return[Bre(t.enter),Bre(t.leave)];{const e=Bre(t);return[e,e]}}function Bre(t){return gwe(t)}function vO(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function dS(t,e){e.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function kfe(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let TCe=0;function Afe(t,e,r,a){const i=t._endId=++TCe,f=()=>{i===t._endId&&a()};if(r)return setTimeout(f,r);const{type:d,timeout:h,propCount:c}=Sve(t,e);if(!d)return a();const g=d+"end";let v=0;const y=()=>{t.removeEventListener(g,b),f()},b=O=>{O.target===t&&++v>=c&&y()};setTimeout(()=>{v<c&&y()},h+1),t.addEventListener(g,b)}function Sve(t,e){const r=window.getComputedStyle(t),a=T=>(r[T]||"").split(", "),i=a(`${cS}Delay`),f=a(`${cS}Duration`),d=Pfe(i,f),h=a(`${OR}Delay`),c=a(`${OR}Duration`),g=Pfe(h,c);let v=null,y=0,b=0;e===cS?d>0&&(v=cS,y=d,b=f.length):e===OR?g>0&&(v=OR,y=g,b=c.length):(y=Math.max(d,g),v=y>0?d>g?cS:OR:null,b=v?v===cS?f.length:c.length:0);const O=v===cS&&/\b(transform|all)(,|$)/.test(a(`${cS}Property`).toString());return{type:v,timeout:y,propCount:b,hasTransform:O}}function Pfe(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,a)=>Mfe(r)+Mfe(t[a])))}function Mfe(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function wve(){return document.body.offsetHeight}const Cve=new WeakMap,Tve=new WeakMap,kve={name:"TransitionGroup",props:ou({},wCe,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=mie(),a=eve();let i,f;return ove(()=>{if(!i.length)return;const d=t.moveClass||`${t.name||"v"}-move`;if(!_Ce(i[0].el,r.vnode.el,d))return;i.forEach(PCe),i.forEach(MCe);const h=i.filter(ECe);wve(),h.forEach(c=>{const g=c.el,v=g.style;vO(g,d),v.transform=v.webkitTransform=v.transitionDuration="";const y=g._moveCb=b=>{b&&b.target!==g||(!b||/transform$/.test(b.propertyName))&&(g.removeEventListener("transitionend",y),g._moveCb=null,dS(g,d))};g.addEventListener("transitionend",y)})}),()=>{const d=ya(t),h=xve(d);let c=d.tag||es;i=f,f=e.default?oie(e.default()):[];for(let g=0;g<f.length;g++){const v=f[g];v.key!=null&&fD(v,uD(v,h,a,r))}if(i)for(let g=0;g<i.length;g++){const v=i[g];fD(v,uD(v,h,a,r)),Cve.set(v,v.el.getBoundingClientRect())}return at(c,null,f)}}},kCe=t=>delete t.mode;kve.props;const ACe=kve;function PCe(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function MCe(t){Tve.set(t,t.el.getBoundingClientRect())}function ECe(t){const e=Cve.get(t),r=Tve.get(t),a=e.left-r.left,i=e.top-r.top;if(a||i){const f=t.el.style;return f.transform=f.webkitTransform=`translate(${a}px,${i}px)`,f.transitionDuration="0s",t}}function _Ce(t,e,r){const a=t.cloneNode();t._vtc&&t._vtc.forEach(d=>{d.split(/\s+/).forEach(h=>h&&a.classList.remove(h))}),r.split(/\s+/).forEach(d=>d&&a.classList.add(d)),a.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(a);const{hasTransform:f}=Sve(a);return i.removeChild(a),f}const Efe=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Zs(e)?r=>ZZ(e,r):e};function RCe(t){t.target.composing=!0}function _fe(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const DCe={created(t,{modifiers:{lazy:e,trim:r,number:a}},i){t._assign=Efe(i);const f=a||i.props&&i.props.type==="number";ZP(t,e?"change":"input",d=>{if(d.target.composing)return;let h=t.value;r&&(h=h.trim()),f&&(h=Woe(h)),t._assign(h)}),r&&ZP(t,"change",()=>{t.value=t.value.trim()}),e||(ZP(t,"compositionstart",RCe),ZP(t,"compositionend",_fe),ZP(t,"change",_fe))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:a,number:i}},f){if(t._assign=Efe(f),t.composing||document.activeElement===t&&t.type!=="range"&&(r||a&&t.value.trim()===e||(i||t.type==="number")&&Woe(t.value)===e))return;const d=e??"";t.value!==d&&(t.value=d)}},$Ce=["ctrl","shift","alt","meta"],LCe={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>$Ce.some(r=>t[`${r}Key`]&&!e.includes(r))},Rfe=(t,e)=>(r,...a)=>{for(let i=0;i<e.length;i++){const f=LCe[e[i]];if(f&&f(r,e))return}return t(r,...a)},BS={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):xR(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:a}){!e!=!r&&(a?e?(a.beforeEnter(t),xR(t,!0),a.enter(t)):a.leave(t,()=>{xR(t,!1)}):xR(t,e))},beforeUnmount(t,{value:e}){xR(t,e)}};function xR(t,e){t.style.display=e?t._vod:"none"}const ICe=ou({patchProp:xCe},lCe);let Dfe;function NCe(){return Dfe||(Dfe=Q3e(ICe))}const BCe=(...t)=>{const e=NCe().createApp(...t),{mount:r}=e;return e.mount=a=>{const i=QCe(a);if(!i)return;const f=e._component;!Ca(f)&&!f.render&&!f.template&&(f.template=i.innerHTML),i.innerHTML="";const d=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),d},e};function QCe(t){return Uc(t)?document.querySelector(t):t}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const HP=typeof window<"u";function FCe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ki=Object.assign;function Qre(t,e){const r={};for(const a in e){const i=e[a];r[a]=Uv(i)?i.map(t):t(i)}return r}const XR=()=>{},Uv=Array.isArray,VCe=/\/$/,zCe=t=>t.replace(VCe,"");function Fre(t,e,r="/"){let a,i={},f="",d="";const h=e.indexOf("#");let c=e.indexOf("?");return h<c&&h>=0&&(c=-1),c>-1&&(a=e.slice(0,c),f=e.slice(c+1,h>-1?h:e.length),i=t(f)),h>-1&&(a=a||e.slice(0,h),d=e.slice(h,e.length)),a=WCe(a??e,r),{fullPath:a+(f&&"?")+f+d,path:a,query:i,hash:d}}function ZCe(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function $fe(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function HCe(t,e,r){const a=e.matched.length-1,i=r.matched.length-1;return a>-1&&a===i&&h8(e.matched[a],r.matched[i])&&Ave(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function h8(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ave(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!UCe(t[r],e[r]))return!1;return!0}function UCe(t,e){return Uv(t)?Lfe(t,e):Uv(e)?Lfe(e,t):t===e}function Lfe(t,e){return Uv(e)?t.length===e.length&&t.every((r,a)=>r===e[a]):t.length===1&&t[0]===e}function WCe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),a=t.split("/"),i=a[a.length-1];(i===".."||i===".")&&a.push("");let f=r.length-1,d,h;for(d=0;d<a.length;d++)if(h=a[d],h!==".")if(h==="..")f>1&&f--;else break;return r.slice(0,f).join("/")+"/"+a.slice(d-(d===a.length?1:0)).join("/")}var mD;(function(t){t.pop="pop",t.push="push"})(mD||(mD={}));var GR;(function(t){t.back="back",t.forward="forward",t.unknown=""})(GR||(GR={}));function YCe(t){if(!t)if(HP){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),zCe(t)}const XCe=/^[^#]+#/;function GCe(t,e){return t.replace(XCe,"#")+e}function jCe(t,e){const r=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:e.behavior,left:a.left-r.left-(e.left||0),top:a.top-r.top-(e.top||0)}}const EU=()=>({left:window.pageXOffset,top:window.pageYOffset});function qCe(t){let e;if("el"in t){const r=t.el,a=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?a?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=jCe(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Ife(t,e){return(history.state?history.state.position-e:-1)+t}const sse=new Map;function KCe(t,e){sse.set(t,e)}function JCe(t){const e=sse.get(t);return sse.delete(t),e}let eTe=()=>location.protocol+"//"+location.host;function Pve(t,e){const{pathname:r,search:a,hash:i}=e,f=t.indexOf("#");if(f>-1){let h=i.includes(t.slice(f))?t.slice(f).length:1,c=i.slice(h);return c[0]!=="/"&&(c="/"+c),$fe(c,"")}return $fe(r,t)+a+i}function tTe(t,e,r,a){let i=[],f=[],d=null;const h=({state:b})=>{const O=Pve(t,location),T=r.value,k=e.value;let w=0;if(b){if(r.value=O,e.value=b,d&&d===T){d=null;return}w=k?b.position-k.position:0}else a(O);i.forEach(C=>{C(r.value,T,{delta:w,type:mD.pop,direction:w?w>0?GR.forward:GR.back:GR.unknown})})};function c(){d=r.value}function g(b){i.push(b);const O=()=>{const T=i.indexOf(b);T>-1&&i.splice(T,1)};return f.push(O),O}function v(){const{history:b}=window;b.state&&b.replaceState(Ki({},b.state,{scroll:EU()}),"")}function y(){for(const b of f)b();f=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:c,listen:g,destroy:y}}function Nfe(t,e,r,a=!1,i=!1){return{back:t,current:e,forward:r,replaced:a,position:window.history.length,scroll:i?EU():null}}function nTe(t){const{history:e,location:r}=window,a={value:Pve(t,r)},i={value:e.state};i.value||f(a.value,{back:null,current:a.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function f(c,g,v){const y=t.indexOf("#"),b=y>-1?(r.host&&document.querySelector("base")?t:t.slice(y))+c:eTe()+t+c;try{e[v?"replaceState":"pushState"](g,"",b),i.value=g}catch(O){console.error(O),r[v?"replace":"assign"](b)}}function d(c,g){const v=Ki({},e.state,Nfe(i.value.back,c,i.value.forward,!0),g,{position:i.value.position});f(c,v,!0),a.value=c}function h(c,g){const v=Ki({},i.value,e.state,{forward:c,scroll:EU()});f(v.current,v,!0);const y=Ki({},Nfe(a.value,c,null),{position:v.position+1},g);f(c,y,!1),a.value=c}return{location:a,state:i,push:h,replace:d}}function rTe(t){t=YCe(t);const e=nTe(t),r=tTe(t,e.state,e.location,e.replace);function a(f,d=!0){d||r.pauseListeners(),history.go(f)}const i=Ki({location:"",base:t,go:a,createHref:GCe.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function oTe(t){return typeof t=="string"||t&&typeof t=="object"}function Mve(t){return typeof t=="string"||typeof t=="symbol"}const uS={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Eve=Symbol("");var Bfe;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Bfe||(Bfe={}));function m8(t,e){return Ki(new Error,{type:t,[Eve]:!0},e)}function pO(t,e){return t instanceof Error&&Eve in t&&(e==null||!!(t.type&e))}const Qfe="[^/]+?",sTe={sensitive:!1,strict:!1,start:!0,end:!0},aTe=/[.+*?^${}()[\]/\\]/g;function iTe(t,e){const r=Ki({},sTe,e),a=[];let i=r.start?"^":"";const f=[];for(const g of t){const v=g.length?[]:[90];r.strict&&!g.length&&(i+="/");for(let y=0;y<g.length;y++){const b=g[y];let O=40+(r.sensitive?.25:0);if(b.type===0)y||(i+="/"),i+=b.value.replace(aTe,"\\$&"),O+=40;else if(b.type===1){const{value:T,repeatable:k,optional:w,regexp:C}=b;f.push({name:T,repeatable:k,optional:w});const _=C||Qfe;if(_!==Qfe){O+=10;try{new RegExp(`(${_})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${T}" (${_}): `+I.message)}}let M=k?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;y||(M=w&&g.length<2?`(?:/${M})`:"/"+M),w&&(M+="?"),i+=M,O+=20,w&&(O+=-8),k&&(O+=-20),_===".*"&&(O+=-50)}v.push(O)}a.push(v)}if(r.strict&&r.end){const g=a.length-1;a[g][a[g].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const d=new RegExp(i,r.sensitive?"":"i");function h(g){const v=g.match(d),y={};if(!v)return null;for(let b=1;b<v.length;b++){const O=v[b]||"",T=f[b-1];y[T.name]=O&&T.repeatable?O.split("/"):O}return y}function c(g){let v="",y=!1;for(const b of t){(!y||!v.endsWith("/"))&&(v+="/"),y=!1;for(const O of b)if(O.type===0)v+=O.value;else if(O.type===1){const{value:T,repeatable:k,optional:w}=O,C=T in g?g[T]:"";if(Uv(C)&&!k)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const _=Uv(C)?C.join("/"):C;if(!_)if(w)b.length<2&&(v.endsWith("/")?v=v.slice(0,-1):y=!0);else throw new Error(`Missing required param "${T}"`);v+=_}}return v||"/"}return{re:d,score:a,keys:f,parse:h,stringify:c}}function lTe(t,e){let r=0;for(;r<t.length&&r<e.length;){const a=e[r]-t[r];if(a)return a;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function cTe(t,e){let r=0;const a=t.score,i=e.score;for(;r<a.length&&r<i.length;){const f=lTe(a[r],i[r]);if(f)return f;r++}if(Math.abs(i.length-a.length)===1){if(Ffe(a))return 1;if(Ffe(i))return-1}return i.length-a.length}function Ffe(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const uTe={type:0,value:""},fTe=/[a-zA-Z0-9_]/;function dTe(t){if(!t)return[[]];if(t==="/")return[[uTe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(O){throw new Error(`ERR (${r})/"${g}": ${O}`)}let r=0,a=r;const i=[];let f;function d(){f&&i.push(f),f=[]}let h=0,c,g="",v="";function y(){g&&(r===0?f.push({type:0,value:g}):r===1||r===2||r===3?(f.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),f.push({type:1,value:g,regexp:v,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),g="")}function b(){g+=c}for(;h<t.length;){if(c=t[h++],c==="\\"&&r!==2){a=r,r=4;continue}switch(r){case 0:c==="/"?(g&&y(),d()):c===":"?(y(),r=1):b();break;case 4:b(),r=a;break;case 1:c==="("?r=2:fTe.test(c)?b():(y(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&h--);break;case 2:c===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+c:r=3:v+=c;break;case 3:y(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&h--,v="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${g}"`),y(),d(),i}function hTe(t,e,r){const a=iTe(dTe(t.path),r),i=Ki(a,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function mTe(t,e){const r=[],a=new Map;e=Zfe({strict:!1,end:!0,sensitive:!1},e);function i(v){return a.get(v)}function f(v,y,b){const O=!b,T=gTe(v);T.aliasOf=b&&b.record;const k=Zfe(e,v),w=[T];if("alias"in v){const M=typeof v.alias=="string"?[v.alias]:v.alias;for(const I of M)w.push(Ki({},T,{components:b?b.record.components:T.components,path:I,aliasOf:b?b.record:T}))}let C,_;for(const M of w){const{path:I}=M;if(y&&I[0]!=="/"){const V=y.record.path,N=V[V.length-1]==="/"?"":"/";M.path=y.record.path+(I&&N+I)}if(C=hTe(M,y,k),b?b.alias.push(C):(_=_||C,_!==C&&_.alias.push(C),O&&v.name&&!zfe(C)&&d(v.name)),T.children){const V=T.children;for(let N=0;N<V.length;N++)f(V[N],C,b&&b.children[N])}b=b||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&c(C)}return _?()=>{d(_)}:XR}function d(v){if(Mve(v)){const y=a.get(v);y&&(a.delete(v),r.splice(r.indexOf(y),1),y.children.forEach(d),y.alias.forEach(d))}else{const y=r.indexOf(v);y>-1&&(r.splice(y,1),v.record.name&&a.delete(v.record.name),v.children.forEach(d),v.alias.forEach(d))}}function h(){return r}function c(v){let y=0;for(;y<r.length&&cTe(v,r[y])>=0&&(v.record.path!==r[y].record.path||!_ve(v,r[y]));)y++;r.splice(y,0,v),v.record.name&&!zfe(v)&&a.set(v.record.name,v)}function g(v,y){let b,O={},T,k;if("name"in v&&v.name){if(b=a.get(v.name),!b)throw m8(1,{location:v});k=b.record.name,O=Ki(Vfe(y.params,b.keys.filter(_=>!_.optional).map(_=>_.name)),v.params&&Vfe(v.params,b.keys.map(_=>_.name))),T=b.stringify(O)}else if("path"in v)T=v.path,b=r.find(_=>_.re.test(T)),b&&(O=b.parse(T),k=b.record.name);else{if(b=y.name?a.get(y.name):r.find(_=>_.re.test(y.path)),!b)throw m8(1,{location:v,currentLocation:y});k=b.record.name,O=Ki({},y.params,v.params),T=b.stringify(O)}const w=[];let C=b;for(;C;)w.unshift(C.record),C=C.parent;return{name:k,path:T,params:O,matched:w,meta:vTe(w)}}return t.forEach(v=>f(v)),{addRoute:f,resolve:g,removeRoute:d,getRoutes:h,getRecordMatcher:i}}function Vfe(t,e){const r={};for(const a of e)a in t&&(r[a]=t[a]);return r}function gTe(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:pTe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function pTe(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const a in t.components)e[a]=typeof r=="object"?r[a]:r;return e}function zfe(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function vTe(t){return t.reduce((e,r)=>Ki(e,r.meta),{})}function Zfe(t,e){const r={};for(const a in t)r[a]=a in e?e[a]:t[a];return r}function _ve(t,e){return e.children.some(r=>r===t||_ve(t,r))}const Rve=/#/g,yTe=/&/g,bTe=/\//g,OTe=/=/g,xTe=/\?/g,Dve=/\+/g,STe=/%5B/g,wTe=/%5D/g,$ve=/%5E/g,CTe=/%60/g,Lve=/%7B/g,TTe=/%7C/g,Ive=/%7D/g,kTe=/%20/g;function pie(t){return encodeURI(""+t).replace(TTe,"|").replace(STe,"[").replace(wTe,"]")}function ATe(t){return pie(t).replace(Lve,"{").replace(Ive,"}").replace($ve,"^")}function ase(t){return pie(t).replace(Dve,"%2B").replace(kTe,"+").replace(Rve,"%23").replace(yTe,"%26").replace(CTe,"`").replace(Lve,"{").replace(Ive,"}").replace($ve,"^")}function PTe(t){return ase(t).replace(OTe,"%3D")}function MTe(t){return pie(t).replace(Rve,"%23").replace(xTe,"%3F")}function ETe(t){return t==null?"":MTe(t).replace(bTe,"%2F")}function pH(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function _Te(t){const e={};if(t===""||t==="?")return e;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<a.length;++i){const f=a[i].replace(Dve," "),d=f.indexOf("="),h=pH(d<0?f:f.slice(0,d)),c=d<0?null:pH(f.slice(d+1));if(h in e){let g=e[h];Uv(g)||(g=e[h]=[g]),g.push(c)}else e[h]=c}return e}function Hfe(t){let e="";for(let r in t){const a=t[r];if(r=PTe(r),a==null){a!==void 0&&(e+=(e.length?"&":"")+r);continue}(Uv(a)?a.map(f=>f&&ase(f)):[a&&ase(a)]).forEach(f=>{f!==void 0&&(e+=(e.length?"&":"")+r,f!=null&&(e+="="+f))})}return e}function RTe(t){const e={};for(const r in t){const a=t[r];a!==void 0&&(e[r]=Uv(a)?a.map(i=>i==null?null:""+i):a==null?a:""+a)}return e}const DTe=Symbol(""),Ufe=Symbol(""),vie=Symbol(""),yie=Symbol(""),ise=Symbol("");function SR(){let t=[];function e(a){return t.push(a),()=>{const i=t.indexOf(a);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function mS(t,e,r,a,i){const f=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((d,h)=>{const c=y=>{y===!1?h(m8(4,{from:r,to:e})):y instanceof Error?h(y):oTe(y)?h(m8(2,{from:e,to:y})):(f&&a.enterCallbacks[i]===f&&typeof y=="function"&&f.push(y),d())},g=t.call(a&&a.instances[i],e,r,c);let v=Promise.resolve(g);t.length<3&&(v=v.then(c)),v.catch(y=>h(y))})}function Vre(t,e,r,a){const i=[];for(const f of t)for(const d in f.components){let h=f.components[d];if(!(e!=="beforeRouteEnter"&&!f.instances[d]))if($Te(h)){const g=(h.__vccOpts||h)[e];g&&i.push(mS(g,r,a,f,d))}else{let c=h();i.push(()=>c.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${d}" at "${f.path}"`));const v=FCe(g)?g.default:g;f.components[d]=v;const b=(v.__vccOpts||v)[e];return b&&mS(b,r,a,f,d)()}))}}return i}function $Te(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Wfe(t){const e=Da(vie),r=Da(yie),a=Jt(()=>e.resolve(Ol(t.to))),i=Jt(()=>{const{matched:c}=a.value,{length:g}=c,v=c[g-1],y=r.matched;if(!v||!y.length)return-1;const b=y.findIndex(h8.bind(null,v));if(b>-1)return b;const O=Yfe(c[g-2]);return g>1&&Yfe(v)===O&&y[y.length-1].path!==O?y.findIndex(h8.bind(null,c[g-2])):b}),f=Jt(()=>i.value>-1&&BTe(r.params,a.value.params)),d=Jt(()=>i.value>-1&&i.value===r.matched.length-1&&Ave(r.params,a.value.params));function h(c={}){return NTe(c)?e[Ol(t.replace)?"replace":"push"](Ol(t.to)).catch(XR):Promise.resolve()}return{route:a,href:Jt(()=>a.value.href),isActive:f,isExactActive:d,navigate:h}}const LTe=iy({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wfe,setup(t,{slots:e}){const r=Ed(Wfe(t)),{options:a}=Da(vie),i=Jt(()=>({[Xfe(t.activeClass,a.linkActiveClass,"router-link-active")]:r.isActive,[Xfe(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const f=e.default&&e.default(r);return t.custom?f:mm("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},f)}}}),ITe=LTe;function NTe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function BTe(t,e){for(const r in e){const a=e[r],i=t[r];if(typeof a=="string"){if(a!==i)return!1}else if(!Uv(i)||i.length!==a.length||a.some((f,d)=>f!==i[d]))return!1}return!0}function Yfe(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Xfe=(t,e,r)=>t??e??r,QTe=iy({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const a=Da(ise),i=Jt(()=>t.route||a.value),f=Da(Ufe,0),d=Jt(()=>{let g=Ol(f);const{matched:v}=i.value;let y;for(;(y=v[g])&&!y.components;)g++;return g}),h=Jt(()=>i.value.matched[d.value]);El(Ufe,Jt(()=>d.value+1)),El(DTe,h),El(ise,i);const c=bo();return zo(()=>[c.value,h.value,t.name],([g,v,y],[b,O,T])=>{v&&(v.instances[y]=g,O&&O!==v&&g&&g===b&&(v.leaveGuards.size||(v.leaveGuards=O.leaveGuards),v.updateGuards.size||(v.updateGuards=O.updateGuards))),g&&v&&(!O||!h8(v,O)||!b)&&(v.enterCallbacks[y]||[]).forEach(k=>k(g))},{flush:"post"}),()=>{const g=i.value,v=t.name,y=h.value,b=y&&y.components[v];if(!b)return Gfe(r.default,{Component:b,route:g});const O=y.props[v],T=O?O===!0?g.params:typeof O=="function"?O(g):O:null,w=mm(b,Ki({},T,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(y.instances[v]=null)},ref:c}));return Gfe(r.default,{Component:w,route:g})||w}}});function Gfe(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const FTe=QTe;function VTe(t){const e=mTe(t.routes,t),r=t.parseQuery||_Te,a=t.stringifyQuery||Hfe,i=t.history,f=SR(),d=SR(),h=SR(),c=us(uS);let g=uS;HP&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=Qre.bind(null,le=>""+le),y=Qre.bind(null,ETe),b=Qre.bind(null,pH);function O(le,Y){let ve,Oe;return Mve(le)?(ve=e.getRecordMatcher(le),Oe=Y):Oe=le,e.addRoute(Oe,ve)}function T(le){const Y=e.getRecordMatcher(le);Y&&e.removeRoute(Y)}function k(){return e.getRoutes().map(le=>le.record)}function w(le){return!!e.getRecordMatcher(le)}function C(le,Y){if(Y=Ki({},Y||c.value),typeof le=="string"){const Ve=Fre(r,le,Y.path),_e=e.resolve({path:Ve.path},Y),Ie=i.createHref(Ve.fullPath);return Ki(Ve,_e,{params:b(_e.params),hash:pH(Ve.hash),redirectedFrom:void 0,href:Ie})}let ve;if("path"in le)ve=Ki({},le,{path:Fre(r,le.path,Y.path).path});else{const Ve=Ki({},le.params);for(const _e in Ve)Ve[_e]==null&&delete Ve[_e];ve=Ki({},le,{params:y(Ve)}),Y.params=y(Y.params)}const Oe=e.resolve(ve,Y),Le=le.hash||"";Oe.params=v(b(Oe.params));const Te=ZCe(a,Ki({},le,{hash:ATe(Le),path:Oe.path})),De=i.createHref(Te);return Ki({fullPath:Te,hash:Le,query:a===Hfe?RTe(le.query):le.query||{}},Oe,{redirectedFrom:void 0,href:De})}function _(le){return typeof le=="string"?Fre(r,le,c.value.path):Ki({},le)}function M(le,Y){if(g!==le)return m8(8,{from:Y,to:le})}function I(le){return Q(le)}function V(le){return I(Ki(_(le),{replace:!0}))}function N(le){const Y=le.matched[le.matched.length-1];if(Y&&Y.redirect){const{redirect:ve}=Y;let Oe=typeof ve=="function"?ve(le):ve;return typeof Oe=="string"&&(Oe=Oe.includes("?")||Oe.includes("#")?Oe=_(Oe):{path:Oe},Oe.params={}),Ki({query:le.query,hash:le.hash,params:"path"in Oe?{}:le.params},Oe)}}function Q(le,Y){const ve=g=C(le),Oe=c.value,Le=le.state,Te=le.force,De=le.replace===!0,Ve=N(ve);if(Ve)return Q(Ki(_(Ve),{state:typeof Ve=="object"?Ki({},Le,Ve.state):Le,force:Te,replace:De}),Y||ve);const _e=ve;_e.redirectedFrom=Y;let Ie;return!Te&&HCe(a,Oe,ve)&&(Ie=m8(16,{to:_e,from:Oe}),ee(Oe,Oe,!0,!1)),(Ie?Promise.resolve(Ie):F(_e,Oe)).catch(re=>pO(re)?pO(re,2)?re:de(re):ae(re,_e,Oe)).then(re=>{if(re){if(pO(re,2))return Q(Ki({replace:De},_(re.to),{state:typeof re.to=="object"?Ki({},Le,re.to.state):Le,force:Te}),Y||_e)}else re=E(_e,Oe,!0,De,Le);return B(_e,Oe,re),re})}function z(le,Y){const ve=M(le,Y);return ve?Promise.reject(ve):Promise.resolve()}function U(le){const Y=Be.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(le):le()}function F(le,Y){let ve;const[Oe,Le,Te]=zTe(le,Y);ve=Vre(Oe.reverse(),"beforeRouteLeave",le,Y);for(const Ve of Oe)Ve.leaveGuards.forEach(_e=>{ve.push(mS(_e,le,Y))});const De=z.bind(null,le,Y);return ve.push(De),ne(ve).then(()=>{ve=[];for(const Ve of f.list())ve.push(mS(Ve,le,Y));return ve.push(De),ne(ve)}).then(()=>{ve=Vre(Le,"beforeRouteUpdate",le,Y);for(const Ve of Le)Ve.updateGuards.forEach(_e=>{ve.push(mS(_e,le,Y))});return ve.push(De),ne(ve)}).then(()=>{ve=[];for(const Ve of Te)if(Ve.beforeEnter)if(Uv(Ve.beforeEnter))for(const _e of Ve.beforeEnter)ve.push(mS(_e,le,Y));else ve.push(mS(Ve.beforeEnter,le,Y));return ve.push(De),ne(ve)}).then(()=>(le.matched.forEach(Ve=>Ve.enterCallbacks={}),ve=Vre(Te,"beforeRouteEnter",le,Y),ve.push(De),ne(ve))).then(()=>{ve=[];for(const Ve of d.list())ve.push(mS(Ve,le,Y));return ve.push(De),ne(ve)}).catch(Ve=>pO(Ve,8)?Ve:Promise.reject(Ve))}function B(le,Y,ve){h.list().forEach(Oe=>U(()=>Oe(le,Y,ve)))}function E(le,Y,ve,Oe,Le){const Te=M(le,Y);if(Te)return Te;const De=Y===uS,Ve=HP?history.state:{};ve&&(Oe||De?i.replace(le.fullPath,Ki({scroll:De&&Ve&&Ve.scroll},Le)):i.push(le.fullPath,Le)),c.value=le,ee(le,Y,ve,De),de()}let W;function X(){W||(W=i.listen((le,Y,ve)=>{if(!pe.listening)return;const Oe=C(le),Le=N(Oe);if(Le){Q(Ki(Le,{replace:!0}),Oe).catch(XR);return}g=Oe;const Te=c.value;HP&&KCe(Ife(Te.fullPath,ve.delta),EU()),F(Oe,Te).catch(De=>pO(De,12)?De:pO(De,2)?(Q(De.to,Oe).then(Ve=>{pO(Ve,20)&&!ve.delta&&ve.type===mD.pop&&i.go(-1,!1)}).catch(XR),Promise.reject()):(ve.delta&&i.go(-ve.delta,!1),ae(De,Oe,Te))).then(De=>{De=De||E(Oe,Te,!1),De&&(ve.delta&&!pO(De,8)?i.go(-ve.delta,!1):ve.type===mD.pop&&pO(De,20)&&i.go(-1,!1)),B(Oe,Te,De)}).catch(XR)}))}let ie=SR(),L=SR(),me;function ae(le,Y,ve){de(le);const Oe=L.list();return Oe.length?Oe.forEach(Le=>Le(le,Y,ve)):console.error(le),Promise.reject(le)}function q(){return me&&c.value!==uS?Promise.resolve():new Promise((le,Y)=>{ie.add([le,Y])})}function de(le){return me||(me=!le,X(),ie.list().forEach(([Y,ve])=>le?ve(le):Y()),ie.reset()),le}function ee(le,Y,ve,Oe){const{scrollBehavior:Le}=t;if(!HP||!Le)return Promise.resolve();const Te=!ve&&JCe(Ife(le.fullPath,0))||(Oe||!ve)&&history.state&&history.state.scroll||null;return wl().then(()=>Le(le,Y,Te)).then(De=>De&&qCe(De)).catch(De=>ae(De,le,Y))}const xe=le=>i.go(le);let we;const Be=new Set,pe={currentRoute:c,listening:!0,addRoute:O,removeRoute:T,hasRoute:w,getRoutes:k,resolve:C,options:t,push:I,replace:V,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:f.add,beforeResolve:d.add,afterEach:h.add,onError:L.add,isReady:q,install(le){const Y=this;le.component("RouterLink",ITe),le.component("RouterView",FTe),le.config.globalProperties.$router=Y,Object.defineProperty(le.config.globalProperties,"$route",{enumerable:!0,get:()=>Ol(c)}),HP&&!we&&c.value===uS&&(we=!0,I(i.location).catch(Le=>{}));const ve={};for(const Le in uS)Object.defineProperty(ve,Le,{get:()=>c.value[Le],enumerable:!0});le.provide(vie,Y),le.provide(yie,Bpe(ve)),le.provide(ise,c);const Oe=le.unmount;Be.add(le),le.unmount=function(){Be.delete(le),Be.size<1&&(g=uS,W&&W(),W=null,c.value=uS,we=!1,me=!1),Oe()}}};function ne(le){return le.reduce((Y,ve)=>Y.then(()=>U(ve)),Promise.resolve())}return pe}function zTe(t,e){const r=[],a=[],i=[],f=Math.max(e.matched.length,t.matched.length);for(let d=0;d<f;d++){const h=e.matched[d];h&&(t.matched.find(g=>h8(g,h))?a.push(h):r.push(h));const c=t.matched[d];c&&(e.matched.find(g=>h8(g,c))||i.push(c))}return[r,a,i]}function YT(){return Da(yie)}function ZTe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nve={exports:{}};(function(t,e){(function(a,i){t.exports=i()})(self,function(){return function(){var r={8847:function(d,h,c){var g=c(1828),v={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var y in v){var b=y.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(b,v[y])}},8222:function(d,h,c){d.exports=c(2887)},7206:function(d,h,c){d.exports=c(822)},9509:function(d,h,c){d.exports=c(2201)},9548:function(d,h,c){d.exports=c(8729)},1039:function(d,h,c){d.exports=c(4382)},4296:function(d,h,c){d.exports=c(3102)},2576:function(d,h,c){var g=c(9548);g.register([c(7206),c(4201),c(8222),c(1039),c(4296),c(6398),c(9509)]),d.exports=g},4201:function(d,h,c){d.exports=c(8810)},6398:function(d,h,c){d.exports=c(2275)},2884:function(d){d.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(d,h,c){var g=c(2884),v=c(1940),y=c(5555),b=c(4467).templatedArray;c(4695),d.exports=b("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:v({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",y.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",y.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",y.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",y.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:v({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(d,h,c){var g=c(1828),v=c(9298),y=c(2605).draw;d.exports=function(k){var w=k._fullLayout,C=g.filterVisible(w.annotations);if(C.length&&k._fullData.length)return g.syncOrAsync([y,b],k)};function b(T){var k=T._fullLayout;g.filterVisible(k.annotations).forEach(function(w){var C=v.getFromId(T,w.xref),_=v.getFromId(T,w.yref),M=v.getRefType(w.xref),I=v.getRefType(w.yref);w._extremes={},M==="range"&&O(w,C),I==="range"&&O(w,_)})}function O(T,k){var w=k._id,C=w.charAt(0),_=T[C],M=T["a"+C],I=T[C+"ref"],V=T["a"+C+"ref"],N=T["_"+C+"padplus"],Q=T["_"+C+"padminus"],z={x:1,y:-1}[C]*T[C+"shift"],U=3*T.arrowsize*T.arrowwidth||0,F=U+z,B=U-z,E=3*T.startarrowsize*T.arrowwidth||0,W=E+z,X=E-z,ie;if(V===I){var L=v.findExtremes(k,[k.r2c(_)],{ppadplus:F,ppadminus:B}),me=v.findExtremes(k,[k.r2c(M)],{ppadplus:Math.max(N,W),ppadminus:Math.max(Q,X)});ie={min:[L.min[0],me.min[0]],max:[L.max[0],me.max[0]]}}else W=M?W+M:W,X=M?X-M:X,ie=v.findExtremes(k,[k.r2c(_)],{ppadplus:Math.max(N,F,W),ppadminus:Math.max(Q,B,X)});T._extremes[w]=ie}},4317:function(d,h,c){var g=c(1828),v=c(3972),y=c(4467).arrayEditor;d.exports={hasClickToShow:b,onClick:O};function b(w,C){var _=T(w,C);return _.on.length>0||_.explicitOff.length>0}function O(w,C){var _=T(w,C),M=_.on,I=_.off.concat(_.explicitOff),V={},N=w._fullLayout.annotations,Q,z;if(M.length||I.length){for(Q=0;Q<M.length;Q++)z=y(w.layout,"annotations",N[M[Q]]),z.modifyItem("visible",!0),g.extendFlat(V,z.getUpdateObj());for(Q=0;Q<I.length;Q++)z=y(w.layout,"annotations",N[I[Q]]),z.modifyItem("visible",!1),g.extendFlat(V,z.getUpdateObj());return v.call("update",w,{},V)}}function T(w,C){var _=w._fullLayout.annotations,M=[],I=[],V=[],N=(C||[]).length,Q,z,U,F,B,E,W,X;for(Q=0;Q<_.length;Q++)if(U=_[Q],F=U.clicktoshow,F){for(z=0;z<N;z++)if(B=C[z],E=B.xaxis,W=B.yaxis,E._id===U.xref&&W._id===U.yref&&E.d2r(B.x)===k(U._xclick,E)&&W.d2r(B.y)===k(U._yclick,W)){U.visible?F==="onout"?X=I:X=V:X=M,X.push(Q);break}z===N&&U.visible&&F==="onout"&&I.push(Q)}return{on:M,off:I,explicitOff:V}}function k(w,C){return C.type==="log"?C.l2r(w):C.d2r(w)}},5625:function(d,h,c){var g=c(1828),v=c(7901);d.exports=function(b,O,T,k){k("opacity");var w=k("bgcolor"),C=k("bordercolor"),_=v.opacity(C);k("borderpad");var M=k("borderwidth"),I=k("showarrow");k("text",I?" ":T._dfltTitle.annotation),k("textangle"),g.coerceFont(k,"font",T.font),k("width"),k("align");var V=k("height");if(V&&k("valign"),I){var N=k("arrowside"),Q,z;N.indexOf("end")!==-1&&(Q=k("arrowhead"),z=k("arrowsize")),N.indexOf("start")!==-1&&(k("startarrowhead",Q),k("startarrowsize",z)),k("arrowcolor",_?O.bordercolor:v.defaultLine),k("arrowwidth",(_&&M||1)*2),k("standoff"),k("startstandoff")}var U=k("hovertext"),F=T.hoverlabel||{};if(U){var B=k("hoverlabel.bgcolor",F.bgcolor||(v.opacity(w)?v.rgb(w):v.defaultLine)),E=k("hoverlabel.bordercolor",F.bordercolor||v.contrast(B));g.coerceFont(k,"hoverlabel.font",{family:F.font.family,size:F.font.size,color:F.font.color||E})}k("captureevents",!!U)}},4128:function(d,h,c){var g=c(2770),v=c(8163);d.exports=function(b,O,T,k){O=O||{};var w=T==="log"&&O.type==="linear",C=T==="linear"&&O.type==="log";if(!(w||C))return;var _=b._fullLayout.annotations,M=O._id.charAt(0),I,V;function N(z){var U=I[z],F=null;w?F=v(U,O.range):F=Math.pow(10,U),g(F)||(F=null),k(V+z,F)}for(var Q=0;Q<_.length;Q++)I=_[Q],V="annotations["+Q+"].",I[M+"ref"]===O._id&&N(M),I["a"+M+"ref"]===O._id&&N("a"+M)}},4046:function(d,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(5625),O=c(215);d.exports=function(w,C){y(w,C,{name:"annotations",handleItemDefaults:T})};function T(k,w,C){function _(ae,q){return g.coerce(k,w,O,ae,q)}var M=_("visible"),I=_("clicktoshow");if(M||I){b(k,w,C,_);for(var V=w.showarrow,N=["x","y"],Q=[-10,-30],z={_fullLayout:C},U=0;U<2;U++){var F=N[U],B=v.coerceRef(k,w,z,F,"","paper");if(B!=="paper"){var E=v.getFromId(z,B);E._annIndices.push(w._index)}if(v.coercePosition(w,z,_,B,F,.5),V){var W="a"+F,X=v.coerceRef(k,w,z,W,"pixel",["pixel","paper"]);X!=="pixel"&&X!==B&&(X=w[W]="pixel");var ie=X==="pixel"?Q[U]:.4;v.coercePosition(w,z,_,X,W,ie)}_(F+"anchor"),_(F+"shift")}if(g.noneOrAll(k,w,["x","y"]),V&&g.noneOrAll(k,w,["ax","ay"]),I){var L=_("xclick"),me=_("yclick");w._xclick=L===void 0?w.x:v.cleanPosition(L,z,w.xref),w._yclick=me===void 0?w.y:v.cleanPosition(me,z,w.yref)}}}},2605:function(d,h,c){var g=c(9898),v=c(3972),y=c(4875),b=c(1828),O=b.strTranslate,T=c(9298),k=c(7901),w=c(1424),C=c(211),_=c(3893),M=c(6964),I=c(8569),V=c(4467).arrayEditor,N=c(3011);d.exports={draw:Q,drawOne:z,drawRaw:F};function Q(B){var E=B._fullLayout;E._infolayer.selectAll(".annotation").remove();for(var W=0;W<E.annotations.length;W++)E.annotations[W].visible&&z(B,W);return y.previousPromises(B)}function z(B,E){var W=B._fullLayout,X=W.annotations[E]||{},ie=T.getFromId(B,X.xref),L=T.getFromId(B,X.yref);ie&&ie.setScale(),L&&L.setScale(),F(B,X,E,!1,ie,L)}function U(B,E,W,X,ie){var L=ie[W],me=ie[W+"ref"],ae=W.indexOf("y")!==-1,q=T.getRefType(me)==="domain",de=ae?X.h:X.w;return B?q?L+(ae?-E:E)/B._length:B.p2r(B.r2p(L)+E):L+(ae?-E:E)/de}function F(B,E,W,X,ie,L){var me=B._fullLayout,ae=B._fullLayout._size,q=B._context.edits,de,ee;X?(de="annotation-"+X,ee=X+".annotations"):(de="annotation",ee="annotations");var xe=V(B.layout,ee,E),we=xe.modifyBase,Be=xe.modifyItem,pe=xe.getUpdateObj;me._infolayer.selectAll("."+de+'[data-index="'+W+'"]').remove();var ne="clip"+me._uid+"_ann"+W;if(!E._input||E.visible===!1){g.selectAll("#"+ne).remove();return}var le={x:{},y:{}},Y=+E.textangle||0,ve=me._infolayer.append("g").classed(de,!0).attr("data-index",String(W)).style("opacity",E.opacity),Oe=ve.append("g").classed("annotation-text-g",!0),Le=q[E.showarrow?"annotationTail":"annotationPosition"],Te=E.captureevents||q.annotationText||Le;function De(Qe){var Ze={index:W,annotation:E._input,fullAnnotation:E,event:Qe};return X&&(Ze.subplotId=X),Ze}var Ve=Oe.append("g").style("pointer-events",Te?"all":null).call(M,"pointer").on("click",function(){B._dragging=!1,B.emit("plotly_clickannotation",De(g.event))});E.hovertext&&Ve.on("mouseover",function(){var Qe=E.hoverlabel,Ze=Qe.font,Xe=this.getBoundingClientRect(),ct=B.getBoundingClientRect();C.loneHover({x0:Xe.left-ct.left,x1:Xe.right-ct.left,y:(Xe.top+Xe.bottom)/2-ct.top,text:E.hovertext,color:Qe.bgcolor,borderColor:Qe.bordercolor,fontFamily:Ze.family,fontSize:Ze.size,fontColor:Ze.color},{container:me._hoverlayer.node(),outerContainer:me._paper.node(),gd:B})}).on("mouseout",function(){C.loneUnhover(me._hoverlayer.node())});var _e=E.borderwidth,Ie=E.borderpad,re=_e+Ie,be=Ve.append("rect").attr("class","bg").style("stroke-width",_e+"px").call(k.stroke,E.bordercolor).call(k.fill,E.bgcolor),te=E.width||E.height,se=me._topclips.selectAll("#"+ne).data(te?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",ne).append("rect"),se.exit().remove();var fe=E.font,oe=me._meta?b.templateString(E.text,me._meta):E.text,Se=Ve.append("text").classed("annotation-text",!0).text(oe);function ce(Qe){return Qe.call(w.font,fe).attr({"text-anchor":{left:"start",right:"end"}[E.align]||"middle"}),_.convertToTspans(Qe,B,ke),Qe}function ke(){var Qe=Se.selectAll("a");if(Qe.size()===1&&Qe.text()===Se.text()){var Ze=Ve.insert("a",":first-child").attr({"xlink:xlink:href":Qe.attr("xlink:href"),"xlink:xlink:show":Qe.attr("xlink:show")}).style({cursor:"pointer"});Ze.node().appendChild(be.node())}var Xe=Ve.select(".annotation-text-math-group"),ct=!Xe.empty(),pt=w.bBox((ct?Xe:Se).node()),Ye=pt.width,je=pt.height,et=E.width||Ye,yt=E.height||je,ft=Math.round(et+2*re),tt=Math.round(yt+2*re);function wt(vr,Wn){return Wn==="auto"&&(vr<.3333333333333333?Wn="left":vr>.6666666666666666?Wn="right":Wn="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Wn]}for(var Xt=!1,Gt=["x","y"],Nt=0;Nt<Gt.length;Nt++){var Bt=Gt[Nt],vn=E[Bt+"ref"]||Bt,En=E["a"+Bt+"ref"],ln={x:ie,y:L}[Bt],Yn=(Y+(Bt==="x"?0:-90))*Math.PI/180,an=ft*Math.cos(Yn),wn=tt*Math.sin(Yn),Xn=Math.abs(an)+Math.abs(wn),Un=E[Bt+"anchor"],Sn=E[Bt+"shift"]*(Bt==="x"?1:-1),lt=le[Bt],ut,xt,gt,Dt,He,it=T.getRefType(vn);if(ln&&it!=="domain"){var dt=ln.r2fraction(E[Bt]);(dt<0||dt>1)&&(En===vn?(dt=ln.r2fraction(E["a"+Bt]),(dt<0||dt>1)&&(Xt=!0)):Xt=!0),ut=ln._offset+ln.r2p(E[Bt]),Dt=.5}else{var mt=it==="domain";Bt==="x"?(gt=E[Bt],ut=mt?ln._offset+ln._length*gt:ut=ae.l+ae.w*gt):(gt=1-E[Bt],ut=mt?ln._offset+ln._length*gt:ut=ae.t+ae.h*gt),Dt=E.showarrow?.5:gt}if(E.showarrow){lt.head=ut;var Ct=E["a"+Bt];if(He=an*wt(.5,E.xanchor)-wn*wt(.5,E.yanchor),En===vn){var Pt=T.getRefType(En);Pt==="domain"?(Bt==="y"&&(Ct=1-Ct),lt.tail=ln._offset+ln._length*Ct):Pt==="paper"?Bt==="y"?(Ct=1-Ct,lt.tail=ae.t+ae.h*Ct):lt.tail=ae.l+ae.w*Ct:lt.tail=ln._offset+ln.r2p(Ct),xt=He}else lt.tail=ut+Ct,xt=He+Ct;lt.text=lt.tail+He;var dn=me[Bt==="x"?"width":"height"];if(vn==="paper"&&(lt.head=b.constrain(lt.head,1,dn-1)),En==="pixel"){var rn=-Math.max(lt.tail-3,lt.text),Wt=Math.min(lt.tail+3,lt.text)-dn;rn>0?(lt.tail+=rn,lt.text+=rn):Wt>0&&(lt.tail-=Wt,lt.text-=Wt)}lt.tail+=Sn,lt.head+=Sn}else He=Xn*wt(Dt,Un),xt=He,lt.text=ut+He;lt.text+=Sn,He+=Sn,xt+=Sn,E["_"+Bt+"padplus"]=Xn/2+xt,E["_"+Bt+"padminus"]=Xn/2-xt,E["_"+Bt+"size"]=Xn,E["_"+Bt+"shift"]=He}if(Xt){Ve.remove();return}var Rt=0,fn=0;if(E.align!=="left"&&(Rt=(et-Ye)*(E.align==="center"?.5:1)),E.valign!=="top"&&(fn=(yt-je)*(E.valign==="middle"?.5:1)),ct)Xe.select("svg").attr({x:re+Rt-1,y:re+fn}).call(w.setClipUrl,te?ne:null,B);else{var Hn=re+fn-pt.top,nr=re+Rt-pt.left;Se.call(_.positionText,nr,Hn).call(w.setClipUrl,te?ne:null,B)}se.select("rect").call(w.setRect,re,re,et,yt),be.call(w.setRect,_e/2,_e/2,ft-_e,tt-_e),Ve.call(w.setTranslate,Math.round(le.x.text-ft/2),Math.round(le.y.text-tt/2)),Oe.attr({transform:"rotate("+Y+","+le.x.text+","+le.y.text+")"});var Er=function(vr,Wn){ve.selectAll(".annotation-arrow-g").remove();var Br=le.x.head,kr=le.y.head,or=le.x.tail+vr,jr=le.y.tail+Wn,_r=le.x.text+vr,Rn=le.y.text+Wn,Sr=b.rotationXYMatrix(Y,_r,Rn),sr=b.apply2DTransform(Sr),wr=b.apply2DTransform2(Sr),ao=+be.attr("width"),xo=+be.attr("height"),Cr=_r-.5*ao,Fe=Cr+ao,Ee=Rn-.5*xo,St=Ee+xo,Tt=[[Cr,Ee,Cr,St],[Cr,St,Fe,St],[Fe,St,Fe,Ee],[Fe,Ee,Cr,Ee]].map(wr);if(!Tt.reduce(function(pn,Jn){return pn^!!b.segmentsIntersect(Br,kr,Br+1e6,kr+1e6,Jn[0],Jn[1],Jn[2],Jn[3])},!1)){Tt.forEach(function(pn){var Jn=b.segmentsIntersect(or,jr,Br,kr,pn[0],pn[1],pn[2],pn[3]);Jn&&(or=Jn.x,jr=Jn.y)});var Lt=E.arrowwidth,Ft=E.arrowcolor,Ht=E.arrowside,$t=ve.append("g").style({opacity:k.opacity(Ft)}).classed("annotation-arrow-g",!0),Mt=$t.append("path").attr("d","M"+or+","+jr+"L"+Br+","+kr).style("stroke-width",Lt+"px").call(k.stroke,k.rgb(Ft));if(N(Mt,Ht,E),q.annotationPosition&&Mt.node().parentNode&&!X){var tn=Br,un=kr;if(E.standoff){var en=Math.sqrt(Math.pow(Br-or,2)+Math.pow(kr-jr,2));tn+=E.standoff*(or-Br)/en,un+=E.standoff*(jr-kr)/en}var on=$t.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(or-tn)+","+(jr-un),transform:O(tn,un)}).style("stroke-width",Lt+6+"px").call(k.stroke,"rgba(0,0,0,0)").call(k.fill,"rgba(0,0,0,0)"),Cn,On;I.init({element:on.node(),gd:B,prepFn:function(){var pn=w.getTranslate(Ve);Cn=pn.x,On=pn.y,ie&&ie.autorange&&we(ie._name+".autorange",!0),L&&L.autorange&&we(L._name+".autorange",!0)},moveFn:function(pn,Jn){var Fn=sr(Cn,On),Zr=Fn[0]+pn,dr=Fn[1]+Jn;Ve.call(w.setTranslate,Zr,dr),Be("x",U(ie,pn,"x",ae,E)),Be("y",U(L,Jn,"y",ae,E)),E.axref===E.xref&&Be("ax",U(ie,pn,"ax",ae,E)),E.ayref===E.yref&&Be("ay",U(L,Jn,"ay",ae,E)),$t.attr("transform",O(pn,Jn)),Oe.attr({transform:"rotate("+Y+","+Zr+","+dr+")"})},doneFn:function(){v.call("_guiRelayout",B,pe());var pn=document.querySelector(".js-notes-box-panel");pn&&pn.redraw(pn.selectedObj)}})}}};if(E.showarrow&&Er(0,0),Le){var zt;I.init({element:Ve.node(),gd:B,prepFn:function(){zt=Oe.attr("transform")},moveFn:function(vr,Wn){var Br="pointer";if(E.showarrow)E.axref===E.xref?Be("ax",U(ie,vr,"ax",ae,E)):Be("ax",E.ax+vr),E.ayref===E.yref?Be("ay",U(L,Wn,"ay",ae.w,E)):Be("ay",E.ay+Wn),Er(vr,Wn);else{if(X)return;var kr,or;if(ie)kr=U(ie,vr,"x",ae,E);else{var jr=E._xsize/ae.w,_r=E.x+(E._xshift-E.xshift)/ae.w-jr/2;kr=I.align(_r+vr/ae.w,jr,0,1,E.xanchor)}if(L)or=U(L,Wn,"y",ae,E);else{var Rn=E._ysize/ae.h,Sr=E.y-(E._yshift+E.yshift)/ae.h-Rn/2;or=I.align(Sr-Wn/ae.h,Rn,0,1,E.yanchor)}Be("x",kr),Be("y",or),(!ie||!L)&&(Br=I.getCursor(ie?.5:kr,L?.5:or,E.xanchor,E.yanchor))}Oe.attr({transform:O(vr,Wn)+zt}),M(Ve,Br)},clickFn:function(vr,Wn){E.captureevents&&B.emit("plotly_clickannotation",De(Wn))},doneFn:function(){M(Ve),v.call("_guiRelayout",B,pe());var vr=document.querySelector(".js-notes-box-panel");vr&&vr.redraw(vr.selectedObj)}})}}q.annotationText?Se.call(_.makeEditable,{delegate:Ve,gd:B}).call(ce).on("edit",function(Qe){E.text=Qe,this.call(ce),Be("text",Qe),ie&&ie.autorange&&we(ie._name+".autorange",!0),L&&L.autorange&&we(L._name+".autorange",!0),v.call("_guiRelayout",B,pe())}):Se.call(ce)}},3011:function(d,h,c){var g=c(9898),v=c(7901),y=c(2884),b=c(1828),O=b.strScale,T=b.strRotate,k=b.strTranslate;d.exports=function(C,_,M){var I=C.node(),V=y[M.arrowhead||0],N=y[M.startarrowhead||0],Q=(M.arrowwidth||1)*(M.arrowsize||1),z=(M.arrowwidth||1)*(M.startarrowsize||1),U=_.indexOf("start")>=0,F=_.indexOf("end")>=0,B=V.backoff*Q+M.standoff,E=N.backoff*z+M.startstandoff,W,X,ie,L;if(I.nodeName==="line"){W={x:+C.attr("x1"),y:+C.attr("y1")},X={x:+C.attr("x2"),y:+C.attr("y2")};var me=W.x-X.x,ae=W.y-X.y;if(ie=Math.atan2(ae,me),L=ie+Math.PI,B&&E&&B+E>Math.sqrt(me*me+ae*ae)){Oe();return}if(B){if(B*B>me*me+ae*ae){Oe();return}var q=B*Math.cos(ie),de=B*Math.sin(ie);X.x+=q,X.y+=de,C.attr({x2:X.x,y2:X.y})}if(E){if(E*E>me*me+ae*ae){Oe();return}var ee=E*Math.cos(ie),xe=E*Math.sin(ie);W.x-=ee,W.y-=xe,C.attr({x1:W.x,y1:W.y})}}else if(I.nodeName==="path"){var we=I.getTotalLength(),Be="";if(we<B+E){Oe();return}var pe=I.getPointAtLength(0),ne=I.getPointAtLength(.1);ie=Math.atan2(pe.y-ne.y,pe.x-ne.x),W=I.getPointAtLength(Math.min(E,we)),Be="0px,"+E+"px,";var le=I.getPointAtLength(we),Y=I.getPointAtLength(we-.1);L=Math.atan2(le.y-Y.y,le.x-Y.x),X=I.getPointAtLength(Math.max(0,we-B));var ve=Be?E+B:B;Be+=we-ve+"px,"+we+"px",C.style("stroke-dasharray",Be)}function Oe(){C.style("stroke-dasharray","0px,100px")}function Le(Te,De,Ve,_e){Te.path&&(Te.noRotate&&(Ve=0),g.select(I.parentNode).append("path").attr({class:C.attr("class"),d:Te.path,transform:k(De.x,De.y)+T(Ve*180/Math.PI)+O(_e)}).style({fill:v.rgb(M.arrowcolor),"stroke-width":0}))}U&&Le(N,W,ie,z),F&&Le(V,X,L,Q)}},2745:function(d,h,c){var g=c(2605),v=c(4317);d.exports={moduleType:"component",name:"annotations",layoutAttributes:c(215),supplyLayoutDefaults:c(4046),includeBasePlot:c(6325)("annotations"),calcAutorange:c(3749),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:v.hasClickToShow,onClick:v.onClick,convertCoords:c(4128)}},6997:function(d,h,c){var g=c(215),v=c(962).overrideAll,y=c(4467).templatedArray;d.exports=v(y("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},5485:function(d,h,c){var g=c(1828),v=c(9298);d.exports=function(O){for(var T=O.fullSceneLayout,k=T.annotations,w=0;w<k.length;w++)y(k[w],O);O.fullLayout._infolayer.selectAll(".annotation-"+O.id).remove()};function y(b,O){var T=O.fullSceneLayout,k=T.domain,w=O.fullLayout._size,C={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};b._xa={},g.extendFlat(b._xa,C),v.setConvert(b._xa),b._xa._offset=w.l+k.x[0]*w.w,b._xa.l2p=function(){return .5*(1+b._pdata[0]/b._pdata[3])*w.w*(k.x[1]-k.x[0])},b._ya={},g.extendFlat(b._ya,C),v.setConvert(b._ya),b._ya._offset=w.t+(1-k.y[1])*w.h,b._ya.l2p=function(){return .5*(1-b._pdata[1]/b._pdata[3])*w.h*(k.y[1]-k.y[0])}}},226:function(d,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(5625),O=c(6997);d.exports=function(w,C,_){y(w,C,{name:"annotations",handleItemDefaults:T,fullLayout:_.fullLayout})};function T(k,w,C,_){function M(N,Q){return g.coerce(k,w,O,N,Q)}function I(N){var Q=N+"axis",z={_fullLayout:{}};return z._fullLayout[Q]=C[Q],v.coercePosition(w,z,M,N,N,.5)}var V=M("visible");V&&(b(k,w,_.fullLayout,M),I("x"),I("y"),I("z"),g.noneOrAll(k,w,["x","y","z"]),w.xref="x",w.yref="y",w.zref="z",M("xanchor"),M("yanchor"),M("xshift"),M("yshift"),w.showarrow&&(w.axref="pixel",w.ayref="pixel",M("ax",-10),M("ay",-30),g.noneOrAll(k,w,["ax","ay"])))}},2188:function(d,h,c){var g=c(2605).drawRaw,v=c(3538),y=["x","y","z"];d.exports=function(O){for(var T=O.fullSceneLayout,k=O.dataScale,w=T.annotations,C=0;C<w.length;C++){for(var _=w[C],M=!1,I=0;I<3;I++){var V=y[I],N=_[V],Q=T[V+"axis"],z=Q.r2fraction(N);if(z<0||z>1){M=!0;break}}M?O.fullLayout._infolayer.select(".annotation-"+O.id+'[data-index="'+C+'"]').remove():(_._pdata=v(O.glplot.cameraParams,[T.xaxis.r2l(_.x)*k[0],T.yaxis.r2l(_.y)*k[1],T.zaxis.r2l(_.z)*k[2]]),g(O.graphDiv,_,C,O.id,_._xa,_._ya))}}},2468:function(d,h,c){var g=c(3972),v=c(1828);d.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:c(6997)}}},layoutAttributes:c(6997),handleDefaults:c(226),includeBasePlot:y,convert:c(5485),draw:c(2188)};function y(b,O){var T=g.subplotsRegistry.gl3d;if(T)for(var k=T.attrRegex,w=Object.keys(b),C=0;C<w.length;C++){var _=w[C];k.test(_)&&(b[_].annotations||[]).length&&(v.pushUnique(O._basePlotModules,T),v.pushUnique(O._subplots.gl3d,_))}}},7561:function(d,h,c){d.exports=c(3489),c(4338),c(3961),c(8751),c(6825),c(7715),c(9384),c(3805),c(8874),c(3290),c(9108),c(5422),c(4320),c(1320),c(1367),c(1457)},2201:function(d,h,c){var g=c(7561),v=c(1828),y=c(606),b=y.EPOCHJD,O=y.ONEDAY,T={valType:"enumerated",values:v.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},k=function(ie,L,me,ae){var q={};return q[me]=T,v.coerce(ie,L,q,me,ae)},w=function(ie,L,me,ae){for(var q=0;q<me.length;q++)k(ie,L,me[q]+"calendar",ae.calendar)},C={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},_={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},M={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},I="##",V={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:I,w:I,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function N(ie,L,me){for(var ae=Math.floor((L+.05)/O)+b,q=z(me).fromJD(ae),de=0,ee,xe,we,Be,pe;(de=ie.indexOf("%",de))!==-1;)ee=ie.charAt(de+1),ee==="0"||ee==="-"||ee==="_"?(we=3,xe=ie.charAt(de+2),ee==="_"&&(ee="-")):(xe=ee,ee="0",we=2),Be=V[xe],Be?(Be===I?pe=I:pe=q.formatDate(Be[ee]),ie=ie.substr(0,de)+pe+ie.substr(de+we),de+=pe.length):de+=we;return ie}var Q={};function z(ie){var L=Q[ie];return L||(L=Q[ie]=g.instance(ie),L)}function U(ie){return v.extendFlat({},T,{description:ie})}function F(ie){return"Sets the calendar system to use with `"+ie+"` date data."}var B={xcalendar:U(F("x"))},E=v.extendFlat({},B,{ycalendar:U(F("y"))}),W=v.extendFlat({},E,{zcalendar:U(F("z"))}),X=U(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));d.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:E,bar:E,box:E,heatmap:E,contour:E,histogram:E,histogram2d:E,histogram2dcontour:E,scatter3d:W,surface:W,mesh3d:W,scattergl:E,ohlc:B,candlestick:B},layout:{calendar:U(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:X},yaxis:{calendar:X},scene:{xaxis:{calendar:X},yaxis:{calendar:X},zaxis:{calendar:X}},polar:{radialaxis:{calendar:X}}},transforms:{filter:{valuecalendar:U(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:U(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:T,handleDefaults:k,handleTraceDefaults:w,CANONICAL_SUNDAY:_,CANONICAL_TICK:C,DFLTRANGE:M,getCal:z,worldCalFmt:N}},2399:function(d,h){h.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],h.defaultLine="#444",h.lightLine="#eee",h.background="#fff",h.borderLine="#BEC8D9",h.lightFraction=90.9090909090909},7901:function(d,h,c){var g=c(4267),v=c(2770),y=c(3627).isTypedArray,b=d.exports={},O=c(2399);b.defaults=O.defaults;var T=b.defaultLine=O.defaultLine;b.lightLine=O.lightLine;var k=b.background=O.background;b.tinyRGB=function(C){var _=C.toRgb();return"rgb("+Math.round(_.r)+", "+Math.round(_.g)+", "+Math.round(_.b)+")"},b.rgb=function(C){return b.tinyRGB(g(C))},b.opacity=function(C){return C?g(C).getAlpha():0},b.addOpacity=function(C,_){var M=g(C).toRgb();return"rgba("+Math.round(M.r)+", "+Math.round(M.g)+", "+Math.round(M.b)+", "+_+")"},b.combine=function(C,_){var M=g(C).toRgb();if(M.a===1)return g(C).toRgbString();var I=g(_||k).toRgb(),V=I.a===1?I:{r:255*(1-I.a)+I.r*I.a,g:255*(1-I.a)+I.g*I.a,b:255*(1-I.a)+I.b*I.a},N={r:V.r*(1-M.a)+M.r*M.a,g:V.g*(1-M.a)+M.g*M.a,b:V.b*(1-M.a)+M.b*M.a};return g(N).toRgbString()},b.contrast=function(C,_,M){var I=g(C);I.getAlpha()!==1&&(I=g(b.combine(C,k)));var V=I.isDark()?_?I.lighten(_):k:M?I.darken(M):T;return V.toString()},b.stroke=function(C,_){var M=g(_);C.style({stroke:b.tinyRGB(M),"stroke-opacity":M.getAlpha()})},b.fill=function(C,_){var M=g(_);C.style({fill:b.tinyRGB(M),"fill-opacity":M.getAlpha()})},b.clean=function(C){if(!(!C||typeof C!="object")){var _=Object.keys(C),M,I,V,N;for(M=0;M<_.length;M++)if(V=_[M],N=C[V],V.substr(V.length-5)==="color")if(Array.isArray(N))for(I=0;I<N.length;I++)N[I]=w(N[I]);else C[V]=w(N);else if(V.substr(V.length-10)==="colorscale"&&Array.isArray(N))for(I=0;I<N.length;I++)Array.isArray(N[I])&&(N[I][1]=w(N[I][1]));else if(Array.isArray(N)){var Q=N[0];if(!Array.isArray(Q)&&Q&&typeof Q=="object")for(I=0;I<N.length;I++)b.clean(N[I])}else N&&typeof N=="object"&&!y(N)&&b.clean(N)}};function w(C){if(v(C)||typeof C!="string")return C;var _=C.trim();if(_.substr(0,3)!=="rgb")return C;var M=_.match(/^rgba?\s*\(([^()]*)\)$/);if(!M)return C;var I=M[1].trim().split(/\s*[\s,]\s*/),V=_.charAt(3)==="a"&&I.length===4;if(!V&&I.length!==3)return C;for(var N=0;N<I.length;N++){if(!I[N].length||(I[N]=Number(I[N]),!(I[N]>=0)))return C;if(N===3)I[N]>1&&(I[N]=1);else if(I[N]>=1)return C}var Q=Math.round(I[0]*255)+", "+Math.round(I[1]*255)+", "+Math.round(I[2]*255);return V?"rgba("+Q+", "+I[3]+")":"rgb("+Q+")"}},3583:function(d,h,c){var g=c(3838),v=c(1940),y=c(1426).extendFlat,b=c(962).overrideAll;d.exports=b({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:y({},g.ticks,{dflt:""}),ticklabeloverflow:y({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:v({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:v({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:v({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(d){d.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(d,h,c){var g=c(1828),v=c(4467),y=c(6218),b=c(8701),O=c(6115),T=c(9426),k=c(3583);d.exports=function(C,_,M){var I=v.newContainer(_,"colorbar"),V=C.colorbar||{};function N(le,Y){return g.coerce(V,I,k,le,Y)}var Q=M.margin||{t:0,b:0,l:0,r:0},z=M.width-Q.l-Q.r,U=M.height-Q.t-Q.b,F=N("orientation"),B=F==="v",E=N("thicknessmode");N("thickness",E==="fraction"?30/(B?z:U):30);var W=N("lenmode");N("len",W==="fraction"?1:B?U:z);var X=N("yref"),ie=N("xref"),L=X==="paper",me=ie==="paper",ae,q,de,ee="left";B?(de="middle",ee=me?"left":"right",ae=me?1.02:1,q=.5):(de=L?"bottom":"top",ee="center",ae=.5,q=L?1.02:1),g.coerce(V,I,{x:{valType:"number",min:me?-2:0,max:me?3:1,dflt:ae}},"x"),g.coerce(V,I,{y:{valType:"number",min:L?-2:0,max:L?3:1,dflt:q}},"y"),N("xanchor",ee),N("xpad"),N("yanchor",de),N("ypad"),g.noneOrAll(V,I,["x","y"]),N("outlinecolor"),N("outlinewidth"),N("bordercolor"),N("borderwidth"),N("bgcolor");var xe=g.coerce(V,I,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:B?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");N("ticklabeloverflow",xe.indexOf("inside")!==-1?"hide past domain":"hide past div"),y(V,I,N,"linear");var we=M.font,Be={outerTicks:!1,font:we};xe.indexOf("inside")!==-1&&(Be.bgColor="black"),T(V,I,N,"linear",Be),O(V,I,N,"linear",Be),b(V,I,N,"linear",Be),N("title.text",M._dfltTitle.colorbar);var pe=I.showticklabels?I.tickfont:we,ne=g.extendFlat({},pe,{color:we.color,size:g.bigFont(pe.size)});g.coerceFont(N,"title.font",ne),N("title.side",B?"top":"right")}},8981:function(d,h,c){var g=c(9898),v=c(4267),y=c(4875),b=c(3972),O=c(9298),T=c(8569),k=c(1828),w=k.strTranslate,C=c(1426).extendFlat,_=c(6964),M=c(1424),I=c(7901),V=c(2998),N=c(3893),Q=c(2869).flipScale,z=c(1453),U=c(2830),F=c(3838),B=c(8783),E=B.LINE_SPACING,W=B.FROM_TL,X=B.FROM_BR,ie=c(939).cn;function L(xe){var we=xe._fullLayout,Be=we._infolayer.selectAll("g."+ie.colorbar).data(me(xe),function(pe){return pe._id});Be.enter().append("g").attr("class",function(pe){return pe._id}).classed(ie.colorbar,!0),Be.each(function(pe){var ne=g.select(this);k.ensureSingle(ne,"rect",ie.cbbg),k.ensureSingle(ne,"g",ie.cbfills),k.ensureSingle(ne,"g",ie.cblines),k.ensureSingle(ne,"g",ie.cbaxis,function(Y){Y.classed(ie.crisp,!0)}),k.ensureSingle(ne,"g",ie.cbtitleunshift,function(Y){Y.append("g").classed(ie.cbtitle,!0)}),k.ensureSingle(ne,"rect",ie.cboutline);var le=ae(ne,pe,xe);le&&le.then&&(xe._promises||[]).push(le),xe._context.edits.colorbarPosition&&q(ne,pe,xe)}),Be.exit().each(function(pe){y.autoMargin(xe,pe._id)}).remove(),Be.order()}function me(xe){var we=xe._fullLayout,Be=xe.calcdata,pe=[],ne,le,Y,ve;function Oe(fe){return C(fe,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Le(){typeof ve.calc=="function"?ve.calc(xe,Y,ne):(ne._fillgradient=le.reversescale?Q(le.colorscale):le.colorscale,ne._zrange=[le[ve.min],le[ve.max]])}for(var Te=0;Te<Be.length;Te++){var De=Be[Te];if(Y=De[0].trace,!!Y._module){var Ve=Y._module.colorbar;if(Y.visible===!0&&Ve)for(var _e=Array.isArray(Ve),Ie=_e?Ve:[Ve],re=0;re<Ie.length;re++){ve=Ie[re];var be=ve.container;le=be?Y[be]:Y,le&&le.showscale&&(ne=Oe(le.colorbar),ne._id="cb"+Y.uid+(_e&&be?"-"+be:""),ne._traceIndex=Y.index,ne._propPrefix=(be?be+".":"")+"colorbar.",ne._meta=Y._meta,Le(),pe.push(ne))}}}for(var te in we._colorAxes)if(le=we[te],le.showscale){var se=we._colorAxes[te];ne=Oe(le.colorbar),ne._id="cb"+te,ne._propPrefix=te+".colorbar.",ne._meta=we._meta,ve={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(Y=se[1],ve.calc=Y._module.colorbar.calc),Le(),pe.push(ne)}return pe}function ae(xe,we,Be){var pe=we.orientation==="v",ne=we.len,le=we.lenmode,Y=we.thickness,ve=we.thicknessmode,Oe=we.outlinewidth,Le=we.borderwidth,Te=we.bgcolor,De=we.xanchor,Ve=we.yanchor,_e=we.xpad,Ie=we.ypad,re=we.x,be=pe?we.y:1-we.y,te=we.yref==="paper",se=we.xref==="paper",fe=Be._fullLayout,oe=fe._size,Se=we._fillcolor,ce=we._line,ke=we.title,Qe=ke.side,Ze=we._zrange||g.extent((typeof Se=="function"?Se:ce.color).domain()),Xe=typeof ce.color=="function"?ce.color:function(){return ce.color},ct=typeof Se=="function"?Se:function(){return Se},pt=we._levels,Ye=de(Be,we,Ze),je=Ye.fill,et=Ye.line,yt=Math.round(Y*(ve==="fraction"?pe?oe.w:oe.h:1)),ft=yt/(pe?oe.w:oe.h),tt=Math.round(ne*(le==="fraction"?pe?oe.h:oe.w:1)),wt=tt/(pe?oe.h:oe.w),Xt=se?oe.w:Be._fullLayout.width,Gt=te?oe.h:Be._fullLayout.height,Nt=Math.round(pe?re*Xt+_e:be*Gt+Ie),Bt={center:.5,right:1}[De]||0,vn={top:1,middle:.5}[Ve]||0,En=pe?re-Bt*ft:be-vn*ft,ln=pe?be-vn*wt:re-Bt*wt,Yn=Math.round(pe?Gt*(1-ln):Xt*ln);we._lenFrac=wt,we._thickFrac=ft,we._uFrac=En,we._vFrac=ln;var an=we._axis=ee(Be,we,Ze);an.position=ft+(pe?re+_e/oe.w:be+Ie/oe.h);var wn=["top","bottom"].indexOf(Qe)!==-1;if(pe&&wn&&(an.title.side=Qe,an.titlex=re+_e/oe.w,an.titley=ln+(ke.side==="top"?wt-Ie/oe.h:Ie/oe.h)),!pe&&!wn&&(an.title.side=Qe,an.titley=be+Ie/oe.h,an.titlex=ln+_e/oe.w),ce.color&&we.tickmode==="auto"){an.tickmode="linear",an.tick0=pt.start;var Xn=pt.size,Un=k.constrain(tt/50,4,15)+1,Sn=(Ze[1]-Ze[0])/((we.nticks||Un)*Xn);if(Sn>1){var lt=Math.pow(10,Math.floor(Math.log(Sn)/Math.LN10));Xn*=lt*k.roundUp(Sn/lt,[2,5,10]),(Math.abs(pt.start)/pt.size+1e-6)%1<2e-6&&(an.tick0=0)}an.dtick=Xn}an.domain=pe?[ln+Ie/oe.h,ln+wt-Ie/oe.h]:[ln+_e/oe.w,ln+wt-_e/oe.w],an.setScale(),xe.attr("transform",w(Math.round(oe.l),Math.round(oe.t)));var ut=xe.select("."+ie.cbtitleunshift).attr("transform",w(-Math.round(oe.l),-Math.round(oe.t))),xt=an.ticklabelposition,gt=an.title.font.size,Dt=xe.select("."+ie.cbaxis),He,it=0,dt=0;function mt(Wt,Rt){var fn={propContainer:an,propName:we._propPrefix+"title",traceIndex:we._traceIndex,_meta:we._meta,placeholder:fe._dfltTitle.colorbar,containerGroup:xe.select("."+ie.cbtitle)},Hn=Wt.charAt(0)==="h"?Wt.substr(1):"h"+Wt;xe.selectAll("."+Hn+",."+Hn+"-math-group").remove(),V.draw(Be,Wt,C(fn,Rt||{}))}function Ct(){if(pe&&wn||!pe&&!wn){var Wt,Rt;Qe==="top"&&(Wt=_e+oe.l+Xt*re,Rt=Ie+oe.t+Gt*(1-ln-wt)+3+gt*.75),Qe==="bottom"&&(Wt=_e+oe.l+Xt*re,Rt=Ie+oe.t+Gt*(1-ln)-3-gt*.25),Qe==="right"&&(Rt=Ie+oe.t+Gt*be+3+gt*.75,Wt=_e+oe.l+Xt*ln),mt(an._id+"title",{attributes:{x:Wt,y:Rt,"text-anchor":pe?"start":"middle"}})}}function Pt(){if(pe&&!wn||!pe&&wn){var Wt=an.position||0,Rt=an._offset+an._length/2,fn,Hn;if(Qe==="right")Hn=Rt,fn=oe.l+Xt*Wt+10+gt*(an.showticklabels?1:.5);else if(fn=Rt,Qe==="bottom"&&(Hn=oe.t+Gt*Wt+10+(xt.indexOf("inside")===-1?an.tickfont.size:0)+(an.ticks!=="intside"&&we.ticklen||0)),Qe==="top"){var nr=ke.text.split("<br>").length;Hn=oe.t+Gt*Wt+10-yt-E*gt*nr}mt((pe?"h":"v")+an._id+"title",{avoid:{selection:g.select(Be).selectAll("g."+an._id+"tick"),side:Qe,offsetTop:pe?0:oe.t,offsetLeft:pe?oe.l:0,maxShift:pe?fe.width:fe.height},attributes:{x:fn,y:Hn,"text-anchor":"middle"},transform:{rotate:pe?-90:0,offset:0}})}}function dn(){if(!pe&&!wn||pe&&wn){var Wt=xe.select("."+ie.cbtitle),Rt=Wt.select("text"),fn=[-Oe/2,Oe/2],Hn=Wt.select(".h"+an._id+"title-math-group").node(),nr=15.6;Rt.node()&&(nr=parseInt(Rt.node().style.fontSize,10)*E);var Er;if(Hn?(Er=M.bBox(Hn),dt=Er.width,it=Er.height,it>nr&&(fn[1]-=(it-nr)/2)):Rt.node()&&!Rt.classed(ie.jsPlaceholder)&&(Er=M.bBox(Rt.node()),dt=Er.width,it=Er.height),pe){if(it){if(it+=5,Qe==="top")an.domain[1]-=it/oe.h,fn[1]*=-1;else{an.domain[0]+=it/oe.h;var zt=N.lineCount(Rt);fn[1]+=(1-zt)*nr}Wt.attr("transform",w(fn[0],fn[1])),an.setScale()}}else dt&&(Qe==="right"&&(an.domain[0]+=(dt+gt/2)/oe.w),Wt.attr("transform",w(fn[0],fn[1])),an.setScale())}xe.selectAll("."+ie.cbfills+",."+ie.cblines).attr("transform",pe?w(0,Math.round(oe.h*(1-an.domain[1]))):w(Math.round(oe.w*an.domain[0]),0)),Dt.attr("transform",pe?w(0,Math.round(-oe.t)):w(Math.round(-oe.l),0));var vr=xe.select("."+ie.cbfills).selectAll("rect."+ie.cbfill).attr("style","").data(je);vr.enter().append("rect").classed(ie.cbfill,!0).attr("style",""),vr.exit().remove();var Wn=Ze.map(an.c2p).map(Math.round).sort(function(_r,Rn){return _r-Rn});vr.each(function(_r,Rn){var Sr=[Rn===0?Ze[0]:(je[Rn]+je[Rn-1])/2,Rn===je.length-1?Ze[1]:(je[Rn]+je[Rn+1])/2].map(an.c2p).map(Math.round);pe&&(Sr[1]=k.constrain(Sr[1]+(Sr[1]>Sr[0])?1:-1,Wn[0],Wn[1]));var sr=g.select(this).attr(pe?"x":"y",Nt).attr(pe?"y":"x",g.min(Sr)).attr(pe?"width":"height",Math.max(yt,2)).attr(pe?"height":"width",Math.max(g.max(Sr)-g.min(Sr),2));if(we._fillgradient)M.gradient(sr,Be,we._id,pe?"vertical":"horizontalreversed",we._fillgradient,"fill");else{var wr=ct(_r).replace("e-","");sr.attr("fill",v(wr).toHexString())}});var Br=xe.select("."+ie.cblines).selectAll("path."+ie.cbline).data(ce.color&&ce.width?et:[]);Br.enter().append("path").classed(ie.cbline,!0),Br.exit().remove(),Br.each(function(_r){var Rn=Nt,Sr=Math.round(an.c2p(_r))+ce.width/2%1;g.select(this).attr("d","M"+(pe?Rn+","+Sr:Sr+","+Rn)+(pe?"h":"v")+yt).call(M.lineGroupStyle,ce.width,Xe(_r),ce.dash)}),Dt.selectAll("g."+an._id+"tick,path").remove();var kr=Nt+yt+(Oe||0)/2-(we.ticks==="outside"?1:0),or=O.calcTicks(an),jr=O.getTickSigns(an)[2];return O.drawTicks(Be,an,{vals:an.ticks==="inside"?O.clipEnds(an,or):or,layer:Dt,path:O.makeTickPath(an,kr,jr),transFn:O.makeTransTickFn(an)}),O.drawLabels(Be,an,{vals:or,layer:Dt,transFn:O.makeTransTickLabelFn(an),labelFns:O.makeLabelFns(an,kr)})}function rn(){var Wt,Rt=yt+Oe/2;xt.indexOf("inside")===-1&&(Wt=M.bBox(Dt.node()),Rt+=pe?Wt.width:Wt.height),He=ut.select("text");var fn=0,Hn=pe&&Qe==="top",nr=!pe&&Qe==="right",Er=0;if(He.node()&&!He.classed(ie.jsPlaceholder)){var zt,vr=ut.select(".h"+an._id+"title-math-group").node();vr&&(pe&&wn||!pe&&!wn)?(Wt=M.bBox(vr),fn=Wt.width,zt=Wt.height):(Wt=M.bBox(ut.node()),fn=Wt.right-oe.l-(pe?Nt:Yn),zt=Wt.bottom-oe.t-(pe?Yn:Nt),!pe&&Qe==="top"&&(Rt+=Wt.height,Er=Wt.height)),nr&&(He.attr("transform",w(fn/2+gt/2,0)),fn*=2),Rt=Math.max(Rt,pe?fn:zt)}var Wn=(pe?_e:Ie)*2+Rt+Le+Oe/2,Br=0;!pe&&ke.text&&Ve==="bottom"&&be<=0&&(Br=Wn/2,Wn+=Br,Er+=Br),fe._hColorbarMoveTitle=Br,fe._hColorbarMoveCBTitle=Er;var kr=Le+Oe,or=(pe?Nt:Yn)-kr/2-(pe?_e:0),jr=(pe?Yn:Nt)-(pe?tt:Ie+Er-Br);xe.select("."+ie.cbbg).attr("x",or).attr("y",jr).attr(pe?"width":"height",Math.max(Wn-Br,2)).attr(pe?"height":"width",Math.max(tt+kr,2)).call(I.fill,Te).call(I.stroke,we.bordercolor).style("stroke-width",Le);var _r=nr?Math.max(fn-10,0):0;xe.selectAll("."+ie.cboutline).attr("x",(pe?Nt:Yn+_e)+_r).attr("y",(pe?Yn+Ie-tt:Nt)+(Hn?it:0)).attr(pe?"width":"height",Math.max(yt,2)).attr(pe?"height":"width",Math.max(tt-(pe?2*Ie+it:2*_e+_r),2)).call(I.stroke,we.outlinecolor).style({fill:"none","stroke-width":Oe});var Rn=pe?Bt*Wn:0,Sr=pe?0:(1-vn)*Wn-Er;if(Rn=se?oe.l-Rn:-Rn,Sr=te?oe.t-Sr:-Sr,xe.attr("transform",w(Rn,Sr)),!pe&&(Le||v(Te).getAlpha()&&!v.equals(fe.paper_bgcolor,Te))){var sr=Dt.selectAll("text"),wr=sr[0].length,ao=xe.select("."+ie.cbbg).node(),xo=M.bBox(ao),Cr=M.getTranslate(xe),Fe=2;sr.each(function(un,en){var on=0,Cn=wr-1;if(en===on||en===Cn){var On=M.bBox(this),pn=M.getTranslate(this),Jn;if(en===Cn){var Fn=On.right+pn.x,Zr=xo.right+Cr.x+Yn-Le-Fe+re;Jn=Zr-Fn,Jn>0&&(Jn=0)}else if(en===on){var dr=On.left+pn.x,Ur=xo.left+Cr.x+Yn+Le+Fe;Jn=Ur-dr,Jn<0&&(Jn=0)}Jn&&(wr<3?this.setAttribute("transform","translate("+Jn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ee={},St=W[De],Tt=X[De],Lt=W[Ve],Ft=X[Ve],Ht=Wn-yt;pe?(le==="pixels"?(Ee.y=be,Ee.t=tt*Lt,Ee.b=tt*Ft):(Ee.t=Ee.b=0,Ee.yt=be+ne*Lt,Ee.yb=be-ne*Ft),ve==="pixels"?(Ee.x=re,Ee.l=Wn*St,Ee.r=Wn*Tt):(Ee.l=Ht*St,Ee.r=Ht*Tt,Ee.xl=re-Y*St,Ee.xr=re+Y*Tt)):(le==="pixels"?(Ee.x=re,Ee.l=tt*St,Ee.r=tt*Tt):(Ee.l=Ee.r=0,Ee.xl=re+ne*St,Ee.xr=re-ne*Tt),ve==="pixels"?(Ee.y=1-be,Ee.t=Wn*Lt,Ee.b=Wn*Ft):(Ee.t=Ht*Lt,Ee.b=Ht*Ft,Ee.yt=be-Y*Lt,Ee.yb=be+Y*Ft));var $t=we.y<.5?"b":"t",Mt=we.x<.5?"l":"r";Be._fullLayout._reservedMargin[we._id]={};var tn={r:fe.width-or-Rn,l:or+Ee.r,b:fe.height-jr-Sr,t:jr+Ee.b};se&&te?y.autoMargin(Be,we._id,Ee):se?Be._fullLayout._reservedMargin[we._id][$t]=tn[$t]:te||pe?Be._fullLayout._reservedMargin[we._id][Mt]=tn[Mt]:Be._fullLayout._reservedMargin[we._id][$t]=tn[$t]}return k.syncOrAsync([y.previousPromises,Ct,dn,Pt,y.previousPromises,rn],Be)}function q(xe,we,Be){var pe=we.orientation==="v",ne=Be._fullLayout,le=ne._size,Y,ve,Oe;T.init({element:xe.node(),gd:Be,prepFn:function(){Y=xe.attr("transform"),_(xe)},moveFn:function(Le,Te){xe.attr("transform",Y+w(Le,Te)),ve=T.align((pe?we._uFrac:we._vFrac)+Le/le.w,pe?we._thickFrac:we._lenFrac,0,1,we.xanchor),Oe=T.align((pe?we._vFrac:1-we._uFrac)-Te/le.h,pe?we._lenFrac:we._thickFrac,0,1,we.yanchor);var De=T.getCursor(ve,Oe,we.xanchor,we.yanchor);_(xe,De)},doneFn:function(){if(_(xe),ve!==void 0&&Oe!==void 0){var Le={};Le[we._propPrefix+"x"]=ve,Le[we._propPrefix+"y"]=Oe,we._traceIndex!==void 0?b.call("_guiRestyle",Be,Le,we._traceIndex):b.call("_guiRelayout",Be,Le)}}})}function de(xe,we,Be){var pe=we._levels,ne=[],le=[],Y,ve,Oe=pe.end+pe.size/100,Le=pe.size,Te=1.001*Be[0]-.001*Be[1],De=1.001*Be[1]-.001*Be[0];for(ve=0;ve<1e5&&(Y=pe.start+ve*Le,!(Le>0?Y>=Oe:Y<=Oe));ve++)Y>Te&&Y<De&&ne.push(Y);if(we._fillgradient)le=[0];else if(typeof we._fillcolor=="function"){var Ve=we._filllevels;if(Ve)for(Oe=Ve.end+Ve.size/100,Le=Ve.size,ve=0;ve<1e5&&(Y=Ve.start+ve*Le,!(Le>0?Y>=Oe:Y<=Oe));ve++)Y>Be[0]&&Y<Be[1]&&le.push(Y);else le=ne.map(function(_e){return _e-pe.size/2}),le.push(le[le.length-1]+pe.size)}else we._fillcolor&&typeof we._fillcolor=="string"&&(le=[0]);return pe.size<0&&(ne.reverse(),le.reverse()),{line:ne,fill:le}}function ee(xe,we,Be){var pe=xe._fullLayout,ne=we.orientation==="v",le={type:"linear",range:Be,tickmode:we.tickmode,nticks:we.nticks,tick0:we.tick0,dtick:we.dtick,tickvals:we.tickvals,ticktext:we.ticktext,ticks:we.ticks,ticklen:we.ticklen,tickwidth:we.tickwidth,tickcolor:we.tickcolor,showticklabels:we.showticklabels,labelalias:we.labelalias,ticklabelposition:we.ticklabelposition,ticklabeloverflow:we.ticklabeloverflow,ticklabelstep:we.ticklabelstep,tickfont:we.tickfont,tickangle:we.tickangle,tickformat:we.tickformat,exponentformat:we.exponentformat,minexponent:we.minexponent,separatethousands:we.separatethousands,showexponent:we.showexponent,showtickprefix:we.showtickprefix,tickprefix:we.tickprefix,showticksuffix:we.showticksuffix,ticksuffix:we.ticksuffix,title:we.title,showline:!0,anchor:"free",side:ne?"right":"bottom",position:1},Y=ne?"y":"x",ve={type:"linear",_id:Y+we._id},Oe={letter:Y,font:pe.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:pe.calendar};function Le(Te,De){return k.coerce(le,ve,F,Te,De)}return z(le,ve,Le,Oe,pe),U(le,ve,Le,Oe),ve}d.exports={draw:L}},6228:function(d,h,c){var g=c(1828);d.exports=function(y){return g.isPlainObject(y.colorbar)}},2311:function(d,h,c){d.exports={moduleType:"component",name:"colorbar",attributes:c(3583),supplyDefaults:c(2499),draw:c(8981).draw,hasColorbar:c(6228)}},693:function(d,h,c){var g=c(3583),v=c(587).counter,y=c(8607),b=c(3282).scales;y(b),d.exports=function(T,k){T=T||"",k=k||{};var w=k.cLetter||"c";"onlyIfNumerical"in k&&k.onlyIfNumerical;var C="noScale"in k?k.noScale:T==="marker.line",_="showScaleDflt"in k?k.showScaleDflt:w==="z",M=typeof k.colorscaleDflt=="string"?b[k.colorscaleDflt]:null,I=k.editTypeOverride||"",V;"colorAttr"in k?(V=k.colorAttr,k.colorAttr):V={z:"z",c:"color"}[w];var N=w+"auto",Q=w+"min",z=w+"max",U=w+"mid",F={};F[Q]=F[z]=void 0;var B={};B[N]=!1;var E={};return V==="color"&&(E.color={valType:"color",arrayOk:!0,editType:I||"style"},k.anim&&(E.color.anim=!0)),E[N]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:F},E[Q]={valType:"number",dflt:null,editType:I||"plot",impliedEdits:B},E[z]={valType:"number",dflt:null,editType:I||"plot",impliedEdits:B},E[U]={valType:"number",dflt:null,editType:"calc",impliedEdits:F},E.colorscale={valType:"colorscale",editType:"calc",dflt:M,impliedEdits:{autocolorscale:!1}},E.autocolorscale={valType:"boolean",dflt:k.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},E.reversescale={valType:"boolean",dflt:!1,editType:"plot"},C||(E.showscale={valType:"boolean",dflt:_,editType:"calc"},E.colorbar=g),k.noColorAxis||(E.coloraxis={valType:"subplotid",regex:v("coloraxis"),dflt:null,editType:"calc"}),E}},8803:function(d,h,c){var g=c(2770),v=c(1828),y=c(2869).extractOpts;d.exports=function(O,T,k){var w=O._fullLayout,C=k.vals,_=k.containerStr,M=_?v.nestedProperty(T,_).get():T,I=y(M),V=I.auto!==!1,N=I.min,Q=I.max,z=I.mid,U=function(){return v.aggNums(Math.min,null,C)},F=function(){return v.aggNums(Math.max,null,C)};if(N===void 0?N=U():V&&(M._colorAx&&g(N)?N=Math.min(N,U()):N=U()),Q===void 0?Q=F():V&&(M._colorAx&&g(Q)?Q=Math.max(Q,F()):Q=F()),V&&z!==void 0&&(Q-z>z-N?N=z-(Q-z):Q-z<z-N&&(Q=z+(z-N))),N===Q&&(N-=.5,Q+=.5),I._sync("min",N),I._sync("max",Q),I.autocolorscale){var B;N*Q<0?B=w.colorscale.diverging:N>=0?B=w.colorscale.sequential:B=w.colorscale.sequentialminus,I._sync("colorscale",B)}}},3046:function(d,h,c){var g=c(1828),v=c(2869).hasColorscale,y=c(2869).extractOpts;d.exports=function(O,T){function k(N,Q){var z=N["_"+Q];z!==void 0&&(N[Q]=z)}function w(N,Q){var z=Q.container?g.nestedProperty(N,Q.container).get():N;if(z)if(z.coloraxis)z._colorAx=T[z.coloraxis];else{var U=y(z),F=U.auto;(F||U.min===void 0)&&k(z,Q.min),(F||U.max===void 0)&&k(z,Q.max),U.autocolorscale&&k(z,"colorscale")}}for(var C=0;C<O.length;C++){var _=O[C],M=_._module.colorbar;if(M)if(Array.isArray(M))for(var I=0;I<M.length;I++)w(_,M[I]);else w(_,M);v(_,"marker.line")&&w(_,{container:"marker.line",min:"cmin",max:"cmax"})}for(var V in T._colorAxes)w(T[V],{min:"cmin",max:"cmax"})}},1586:function(d,h,c){var g=c(2770),v=c(1828),y=c(6228),b=c(2499),O=c(3282).isValid,T=c(3972).traceIs;function k(w,C){var _=C.slice(0,C.length-1);return C?v.nestedProperty(w,_).get()||{}:w}d.exports=function w(C,_,M,I,V){var N=V.prefix,Q=V.cLetter,z="_module"in _,U=k(C,N),F=k(_,N),B=k(_._template||{},N)||{},E=function(){return delete C.coloraxis,delete _.coloraxis,w(C,_,M,I,V)};if(z){var W=M._colorAxes||{},X=I(N+"coloraxis");if(X){var ie=T(_,"contour")&&v.nestedProperty(_,"contours.coloring").get()||"heatmap",L=W[X];L?(L[2].push(E),L[0]!==ie&&(L[0]=!1,v.warn(["Ignoring coloraxis:",X,"setting","as it is linked to incompatible colorscales."].join(" ")))):W[X]=[ie,_,[E]];return}}var me=U[Q+"min"],ae=U[Q+"max"],q=g(me)&&g(ae)&&me<ae,de=I(N+Q+"auto",!q);de?I(N+Q+"mid"):(I(N+Q+"min"),I(N+Q+"max"));var ee=U.colorscale,xe=B.colorscale,we;if(ee!==void 0&&(we=!O(ee)),xe!==void 0&&(we=!O(xe)),I(N+"autocolorscale",we),I(N+"colorscale"),I(N+"reversescale"),N!=="marker.line."){var Be;N&&z&&(Be=y(U));var pe=I(N+"showscale",Be);pe&&(N&&B&&(F._template=B),b(U,F,M))}}},2869:function(d,h,c){var g=c(9898),v=c(4267),y=c(2770),b=c(1828),O=c(7901),T=c(3282).isValid;function k(z,U,F){var B=U?b.nestedProperty(z,U).get()||{}:z,E=B[F||"color"],W=!1;if(b.isArrayOrTypedArray(E)){for(var X=0;X<E.length;X++)if(y(E[X])){W=!0;break}}return b.isPlainObject(B)&&(W||B.showscale===!0||y(B.cmin)&&y(B.cmax)||T(B.colorscale)||b.isPlainObject(B.colorbar))}var w=["showscale","autocolorscale","colorscale","reversescale","colorbar"],C=["min","max","mid","auto"];function _(z){var U=z._colorAx,F=U||z,B={},E,W,X;for(W=0;W<w.length;W++)X=w[W],B[X]=F[X];if(U)for(E="c",W=0;W<C.length;W++)X=C[W],B[X]=F["c"+X];else{var ie;for(W=0;W<C.length;W++){if(X=C[W],ie="c"+X,ie in F){B[X]=F[ie];continue}ie="z"+X,ie in F&&(B[X]=F[ie])}E=ie.charAt(0)}return B._sync=function(L,me){var ae=C.indexOf(L)!==-1?E+L:L;F[ae]=F["_"+ae]=me},B}function M(z){for(var U=_(z),F=U.min,B=U.max,E=U.reversescale?I(U.colorscale):U.colorscale,W=E.length,X=new Array(W),ie=new Array(W),L=0;L<W;L++){var me=E[L];X[L]=F+me[0]*(B-F),ie[L]=me[1]}return{domain:X,range:ie}}function I(z){for(var U=z.length,F=new Array(U),B=U-1,E=0;B>=0;B--,E++){var W=z[B];F[E]=[1-W[0],W[1]]}return F}function V(z,U){U=U||{};for(var F=z.domain,B=z.range,E=B.length,W=new Array(E),X=0;X<E;X++){var ie=v(B[X]).toRgb();W[X]=[ie.r,ie.g,ie.b,ie.a]}var L=g.scale.linear().domain(F).range(W).clamp(!0),me=U.noNumericCheck,ae=U.returnArray,q;return me&&ae?q=L:me?q=function(de){return Q(L(de))}:ae?q=function(de){return y(de)?L(de):v(de).isValid()?de:O.defaultLine}:q=function(de){return y(de)?Q(L(de)):v(de).isValid()?de:O.defaultLine},q.domain=L.domain,q.range=function(){return B},q}function N(z,U){return V(M(z),U)}function Q(z){var U={r:z[0],g:z[1],b:z[2],a:z[3]};return v(U).toRgbString()}d.exports={hasColorscale:k,extractOpts:_,extractScale:M,flipScale:I,makeColorScaleFunc:V,makeColorScaleFuncFromTrace:N}},1081:function(d,h,c){var g=c(3282),v=c(2869);d.exports={moduleType:"component",name:"colorscale",attributes:c(693),layoutAttributes:c(2673),supplyLayoutDefaults:c(959),handleDefaults:c(1586),crossTraceDefaults:c(3046),calc:c(8803),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:v.hasColorscale,extractOpts:v.extractOpts,extractScale:v.extractScale,flipScale:v.flipScale,makeColorScaleFunc:v.makeColorScaleFunc,makeColorScaleFuncFromTrace:v.makeColorScaleFuncFromTrace}},2673:function(d,h,c){var g=c(1426).extendFlat,v=c(693),y=c(3282).scales;d.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:y.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:y.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:y.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},v("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(d,h,c){var g=c(1828),v=c(4467),y=c(2673),b=c(1586);d.exports=function(T,k){function w(z,U){return g.coerce(T,k,y,z,U)}w("colorscale.sequential"),w("colorscale.sequentialminus"),w("colorscale.diverging");var C=k._colorAxes,_,M;function I(z,U){return g.coerce(_,M,y.coloraxis,z,U)}for(var V in C){var N=C[V];if(N[0])_=T[V]||{},M=v.newContainer(k,V,"coloraxis"),M._name=V,b(_,M,k,I,{prefix:"",cLetter:"c"});else{for(var Q=0;Q<N[2].length;Q++)N[2][Q]();delete k._colorAxes[V]}}}},3282:function(d,h,c){var g=c(4267),v={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},y=v.RdBu;function b(k,w){if(w||(w=y),!k)return w;function C(){try{k=v[k]||JSON.parse(k)}catch{k=w}}return typeof k=="string"&&(C(),typeof k=="string"&&C()),O(k)?k:w}function O(k){var w=0;if(!Array.isArray(k)||k.length<2||!k[0]||!k[k.length-1]||+k[0][0]!=0||+k[k.length-1][0]!=1)return!1;for(var C=0;C<k.length;C++){var _=k[C];if(_.length!==2||+_[0]<w||!g(_[1]).isValid())return!1;w=+_[0]}return!0}function T(k){return v[k]!==void 0?!0:O(k)}d.exports={scales:v,defaultScale:y,get:b,isValid:T}},2807:function(d){d.exports=function(c,g,v,y,b){var O=(c-v)/(y-v),T=O+g/(y-v),k=(O+T)/2;return b==="left"||b==="bottom"?O:b==="center"||b==="middle"?k:b==="right"||b==="top"?T:O<.6666666666666666-k?O:T>1.3333333333333333-k?T:k}},461:function(d,h,c){var g=c(1828),v=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];d.exports=function(b,O,T,k){return T==="left"?b=0:T==="center"?b=1:T==="right"?b=2:b=g.constrain(Math.floor(b*3),0,2),k==="bottom"?O=0:k==="middle"?O=1:k==="top"?O=2:O=g.constrain(Math.floor(O*3),0,2),v[O][b]}},4505:function(d,h){h.selectMode=function(c){return c==="lasso"||c==="select"},h.drawMode=function(c){return c==="drawclosedpath"||c==="drawopenpath"||c==="drawline"||c==="drawrect"||c==="drawcircle"},h.openMode=function(c){return c==="drawline"||c==="drawopenpath"},h.rectMode=function(c){return c==="select"||c==="drawline"||c==="drawrect"||c==="drawcircle"},h.freeMode=function(c){return c==="lasso"||c==="drawclosedpath"||c==="drawopenpath"},h.selectingOrDrawing=function(c){return h.freeMode(c)||h.rectMode(c)}},8569:function(d,h,c){var g=c(8956),v=c(7035),y=c(8520),b=c(1828).removeElement,O=c(5555),T=d.exports={};T.align=c(2807),T.getCursor=c(461);var k=c(6041);T.unhover=k.wrapped,T.unhoverRaw=k.raw,T.init=function(M){var I=M.gd,V=1,N=I._context.doubleClickDelay,Q=M.element,z,U,F,B,E,W,X,ie;I._mouseDownTime||(I._mouseDownTime=0),Q.style.pointerEvents="all",Q.onmousedown=ae,y?(Q._ontouchstart&&Q.removeEventListener("touchstart",Q._ontouchstart),Q._ontouchstart=ae,Q.addEventListener("touchstart",ae,{passive:!1})):Q.ontouchstart=ae;function L(ee,xe,we){return Math.abs(ee)<we&&(ee=0),Math.abs(xe)<we&&(xe=0),[ee,xe]}var me=M.clampFn||L;function ae(ee){I._dragged=!1,I._dragging=!0;var xe=C(ee);z=xe[0],U=xe[1],X=ee.target,W=ee,ie=ee.buttons===2||ee.ctrlKey,typeof ee.clientX>"u"&&typeof ee.clientY>"u"&&(ee.clientX=z,ee.clientY=U),F=new Date().getTime(),F-I._mouseDownTime<N?V+=1:(V=1,I._mouseDownTime=F),M.prepFn&&M.prepFn(ee,z,U),v&&!ie?(E=w(),E.style.cursor=window.getComputedStyle(Q).cursor):v||(E=document,B=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(Q).cursor),document.addEventListener("mouseup",de),document.addEventListener("touchend",de),M.dragmode!==!1&&(ee.preventDefault(),document.addEventListener("mousemove",q),document.addEventListener("touchmove",q,{passive:!1}))}function q(ee){ee.preventDefault();var xe=C(ee),we=M.minDrag||O.MINDRAG,Be=me(xe[0]-z,xe[1]-U,we),pe=Be[0],ne=Be[1];(pe||ne)&&(I._dragged=!0,T.unhover(I,ee)),I._dragged&&M.moveFn&&!ie&&(I._dragdata={element:Q,dx:pe,dy:ne},M.moveFn(pe,ne))}function de(ee){if(delete I._dragdata,M.dragmode!==!1&&(ee.preventDefault(),document.removeEventListener("mousemove",q),document.removeEventListener("touchmove",q)),document.removeEventListener("mouseup",de),document.removeEventListener("touchend",de),v?b(E):B&&(E.documentElement.style.cursor=B,B=null),!I._dragging){I._dragged=!1;return}if(I._dragging=!1,new Date().getTime()-I._mouseDownTime>N&&(V=Math.max(V-1,1)),I._dragged)M.doneFn&&M.doneFn();else if(M.clickFn&&M.clickFn(V,W),!ie){var xe;try{xe=new MouseEvent("click",ee)}catch{var we=C(ee);xe=document.createEvent("MouseEvents"),xe.initMouseEvent("click",ee.bubbles,ee.cancelable,ee.view,ee.detail,ee.screenX,ee.screenY,we[0],we[1],ee.ctrlKey,ee.altKey,ee.shiftKey,ee.metaKey,ee.button,ee.relatedTarget)}X.dispatchEvent(xe)}I._dragging=!1,I._dragged=!1}};function w(){var _=document.createElement("div");_.className="dragcover";var M=_.style;return M.position="fixed",M.left=0,M.right=0,M.top=0,M.bottom=0,M.zIndex=999999999,M.background="none",document.body.appendChild(_),_}T.coverSlip=w;function C(_){return g(_.changedTouches?_.changedTouches[0]:_,document.body)}},6041:function(d,h,c){var g=c(1086),v=c(9990),y=c(4401).getGraphDiv,b=c(6675),O=d.exports={};O.wrapped=function(T,k,w){T=y(T),T._fullLayout&&v.clear(T._fullLayout._uid+b.HOVERID),O.raw(T,k,w)},O.raw=function(k,w){var C=k._fullLayout,_=k._hoverdata;w||(w={}),!(w.target&&!k._dragged&&g.triggerHandler(k,"plotly_beforehover",w)===!1)&&(C._hoverlayer.selectAll("g").remove(),C._hoverlayer.selectAll("line").remove(),C._hoverlayer.selectAll("circle").remove(),k._hoverdata=void 0,w.target&&_&&k.emit("plotly_unhover",{event:w,points:_}))}},9952:function(d,h){h.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},h.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(d,h,c){var g=c(9898),v=c(1828),y=v.numberFormat,b=c(2770),O=c(4267),T=c(3972),k=c(7901),w=c(1081),C=v.strTranslate,_=c(3893),M=c(7922),I=c(8783),V=I.LINE_SPACING,N=c(7822).DESELECTDIM,Q=c(4098),z=c(9984),U=c(3469).appendArrayPointValue,F=d.exports={};F.font=function(Ye,je,et,yt){v.isPlainObject(je)&&(yt=je.color,et=je.size,je=je.family),je&&Ye.style("font-family",je),et+1&&Ye.style("font-size",et+"px"),yt&&Ye.call(k.fill,yt)},F.setPosition=function(Ye,je,et){Ye.attr("x",je).attr("y",et)},F.setSize=function(Ye,je,et){Ye.attr("width",je).attr("height",et)},F.setRect=function(Ye,je,et,yt,ft){Ye.call(F.setPosition,je,et).call(F.setSize,yt,ft)},F.translatePoint=function(Ye,je,et,yt){var ft=et.c2p(Ye.x),tt=yt.c2p(Ye.y);if(b(ft)&&b(tt)&&je.node())je.node().nodeName==="text"?je.attr("x",ft).attr("y",tt):je.attr("transform",C(ft,tt));else return!1;return!0},F.translatePoints=function(Ye,je,et){Ye.each(function(yt){var ft=g.select(this);F.translatePoint(yt,ft,je,et)})},F.hideOutsideRangePoint=function(Ye,je,et,yt,ft,tt){je.attr("display",et.isPtWithinRange(Ye,ft)&&yt.isPtWithinRange(Ye,tt)?null:"none")},F.hideOutsideRangePoints=function(Ye,je){if(je._hasClipOnAxisFalse){var et=je.xaxis,yt=je.yaxis;Ye.each(function(ft){var tt=ft[0].trace,wt=tt.xcalendar,Xt=tt.ycalendar,Gt=T.traceIs(tt,"bar-like")?".bartext":".point,.textpoint";Ye.selectAll(Gt).each(function(Nt){F.hideOutsideRangePoint(Nt,g.select(this),et,yt,wt,Xt)})})}},F.crispRound=function(Ye,je,et){return!je||!b(je)?et||0:Ye._context.staticPlot?je:je<1?1:Math.round(je)},F.singleLineStyle=function(Ye,je,et,yt,ft){je.style("fill","none");var tt=(((Ye||[])[0]||{}).trace||{}).line||{},wt=et||tt.width||0,Xt=ft||tt.dash||"";k.stroke(je,yt||tt.color),F.dashLine(je,Xt,wt)},F.lineGroupStyle=function(Ye,je,et,yt){Ye.style("fill","none").each(function(ft){var tt=(((ft||[])[0]||{}).trace||{}).line||{},wt=je||tt.width||0,Xt=yt||tt.dash||"";g.select(this).call(k.stroke,et||tt.color).call(F.dashLine,Xt,wt)})},F.dashLine=function(Ye,je,et){et=+et||0,je=F.dashStyle(je,et),Ye.style({"stroke-dasharray":je,"stroke-width":et+"px"})},F.dashStyle=function(Ye,je){je=+je||1;var et=Math.max(je,3);return Ye==="solid"?Ye="":Ye==="dot"?Ye=et+"px,"+et+"px":Ye==="dash"?Ye=3*et+"px,"+3*et+"px":Ye==="longdash"?Ye=5*et+"px,"+5*et+"px":Ye==="dashdot"?Ye=3*et+"px,"+et+"px,"+et+"px,"+et+"px":Ye==="longdashdot"&&(Ye=5*et+"px,"+2*et+"px,"+et+"px,"+2*et+"px"),Ye};function B(Ye,je,et){var yt=je.fillpattern,ft=yt&&F.getPatternAttr(yt.shape,0,"");if(ft){var tt=F.getPatternAttr(yt.bgcolor,0,null),wt=F.getPatternAttr(yt.fgcolor,0,null),Xt=yt.fgopacity,Gt=F.getPatternAttr(yt.size,0,8),Nt=F.getPatternAttr(yt.solidity,0,.3),Bt=je.uid;F.pattern(Ye,"point",et,Bt,ft,Gt,Nt,void 0,yt.fillmode,tt,wt,Xt)}else je.fillcolor&&Ye.call(k.fill,je.fillcolor)}F.singleFillStyle=function(Ye,je){var et=g.select(Ye.node()),yt=et.data(),ft=((yt[0]||[])[0]||{}).trace||{};B(Ye,ft,je)},F.fillGroupStyle=function(Ye,je){Ye.style("stroke-width",0).each(function(et){var yt=g.select(this);et[0].trace&&B(yt,et[0].trace,je)})};var E=c(998);F.symbolNames=[],F.symbolFuncs=[],F.symbolBackOffs=[],F.symbolNeedLines={},F.symbolNoDot={},F.symbolNoFill={},F.symbolList=[],Object.keys(E).forEach(function(Ye){var je=E[Ye],et=je.n;F.symbolList.push(et,String(et),Ye,et+100,String(et+100),Ye+"-open"),F.symbolNames[et]=Ye,F.symbolFuncs[et]=je.f,F.symbolBackOffs[et]=je.backoff||0,je.needLine&&(F.symbolNeedLines[et]=!0),je.noDot?F.symbolNoDot[et]=!0:F.symbolList.push(et+200,String(et+200),Ye+"-dot",et+300,String(et+300),Ye+"-open-dot"),je.noFill&&(F.symbolNoFill[et]=!0)});var W=F.symbolNames.length,X="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";F.symbolNumber=function(Ye){if(b(Ye))Ye=+Ye;else if(typeof Ye=="string"){var je=0;Ye.indexOf("-open")>0&&(je=100,Ye=Ye.replace("-open","")),Ye.indexOf("-dot")>0&&(je+=200,Ye=Ye.replace("-dot","")),Ye=F.symbolNames.indexOf(Ye),Ye>=0&&(Ye+=je)}return Ye%100>=W||Ye>=400?0:Math.floor(Math.max(Ye,0))};function ie(Ye,je,et,yt){var ft=Ye%100;return F.symbolFuncs[ft](je,et,yt)+(Ye>=200?X:"")}var L={x1:1,x2:0,y1:0,y2:0},me={x1:0,x2:0,y1:1,y2:0},ae=y("~f"),q={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:L},horizontalreversed:{node:"linearGradient",attrs:L,reversed:!0},vertical:{node:"linearGradient",attrs:me},verticalreversed:{node:"linearGradient",attrs:me,reversed:!0}};F.gradient=function(Ye,je,et,yt,ft,tt){for(var wt=ft.length,Xt=q[yt],Gt=new Array(wt),Nt=0;Nt<wt;Nt++)Xt.reversed?Gt[wt-1-Nt]=[ae((1-ft[Nt][0])*100),ft[Nt][1]]:Gt[Nt]=[ae(ft[Nt][0]*100),ft[Nt][1]];var Bt=je._fullLayout,vn="g"+Bt._uid+"-"+et,En=Bt._defs.select(".gradients").selectAll("#"+vn).data([yt+Gt.join(";")],v.identity);En.exit().remove(),En.enter().append(Xt.node).each(function(){var ln=g.select(this);Xt.attrs&&ln.attr(Xt.attrs),ln.attr("id",vn);var Yn=ln.selectAll("stop").data(Gt);Yn.exit().remove(),Yn.enter().append("stop"),Yn.each(function(an){var wn=O(an[1]);g.select(this).attr({offset:an[0]+"%","stop-color":k.tinyRGB(wn),"stop-opacity":wn.getAlpha()})})}),Ye.style(tt,Ie(vn,je)).style(tt+"-opacity",null),Ye.classed("gradient_filled",!0)},F.pattern=function(Ye,je,et,yt,ft,tt,wt,Xt,Gt,Nt,Bt,vn){var En=je==="legend";Xt&&(Gt==="overlay"?(Nt=Xt,Bt=k.contrast(Nt)):(Nt=void 0,Bt=Xt));var ln=et._fullLayout,Yn="p"+ln._uid+"-"+yt,an,wn,Xn=function(Ct,Pt,dn,rn,Wt){return rn+(Wt-rn)*(Ct-Pt)/(dn-Pt)},Un,Sn,lt,ut,xt={},gt=O(Bt),Dt=k.tinyRGB(gt),He=gt.getAlpha(),it=vn*He;switch(ft){case"/":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M-"+an/4+","+wn/4+"l"+an/2+",-"+wn/2+"M0,"+wn+"L"+an+",0M"+an/4*3+","+wn/4*5+"l"+an/2+",-"+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:it,stroke:Dt,"stroke-width":Sn+"px"};break;case"\\":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M"+an/4*3+",-"+wn/4+"l"+an/2+","+wn/2+"M0,0L"+an+","+wn+"M-"+an/4+","+wn/4*3+"l"+an/2+","+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:it,stroke:Dt,"stroke-width":Sn+"px"};break;case"x":an=tt*Math.sqrt(2),wn=tt*Math.sqrt(2),Un="M-"+an/4+","+wn/4+"l"+an/2+",-"+wn/2+"M0,"+wn+"L"+an+",0M"+an/4*3+","+wn/4*5+"l"+an/2+",-"+wn/2+"M"+an/4*3+",-"+wn/4+"l"+an/2+","+wn/2+"M0,0L"+an+","+wn+"M-"+an/4+","+wn/4*3+"l"+an/2+","+wn/2,Sn=tt-tt*Math.sqrt(1-wt),ut="path",xt={d:Un,opacity:it,stroke:Dt,"stroke-width":Sn+"px"};break;case"|":an=tt,wn=tt,ut="path",Un="M"+an/2+",0L"+an/2+","+wn,Sn=wt*tt,ut="path",xt={d:Un,opacity:it,stroke:Dt,"stroke-width":Sn+"px"};break;case"-":an=tt,wn=tt,ut="path",Un="M0,"+wn/2+"L"+an+","+wn/2,Sn=wt*tt,ut="path",xt={d:Un,opacity:it,stroke:Dt,"stroke-width":Sn+"px"};break;case"+":an=tt,wn=tt,ut="path",Un="M"+an/2+",0L"+an/2+","+wn+"M0,"+wn/2+"L"+an+","+wn/2,Sn=tt-tt*Math.sqrt(1-wt),ut="path",xt={d:Un,opacity:it,stroke:Dt,"stroke-width":Sn+"px"};break;case".":an=tt,wn=tt,wt<Math.PI/4?lt=Math.sqrt(wt*tt*tt/Math.PI):lt=Xn(wt,Math.PI/4,1,tt/2,tt/Math.sqrt(2)),ut="circle",xt={cx:an/2,cy:wn/2,r:lt,opacity:it,fill:Dt};break}var dt=[ft||"noSh",Nt||"noBg",Bt||"noFg",tt,wt].join(";"),mt=ln._defs.select(".patterns").selectAll("#"+Yn).data([dt],v.identity);mt.exit().remove(),mt.enter().append("pattern").each(function(){var Ct=g.select(this);if(Ct.attr({id:Yn,width:an+"px",height:wn+"px",patternUnits:"userSpaceOnUse",patternTransform:En?"scale(0.8)":""}),Nt){var Pt=O(Nt),dn=k.tinyRGB(Pt),rn=Pt.getAlpha(),Wt=Ct.selectAll("rect").data([0]);Wt.exit().remove(),Wt.enter().append("rect").attr({width:an+"px",height:wn+"px",fill:dn,"fill-opacity":rn})}var Rt=Ct.selectAll(ut).data([0]);Rt.exit().remove(),Rt.enter().append(ut).attr(xt)}),Ye.style("fill",Ie(Yn,et)).style("fill-opacity",null),Ye.classed("pattern_filled",!0)},F.initGradients=function(Ye){var je=Ye._fullLayout,et=v.ensureSingle(je._defs,"g","gradients");et.selectAll("linearGradient,radialGradient").remove(),g.select(Ye).selectAll(".gradient_filled").classed("gradient_filled",!1)},F.initPatterns=function(Ye){var je=Ye._fullLayout,et=v.ensureSingle(je._defs,"g","patterns");et.selectAll("pattern").remove(),g.select(Ye).selectAll(".pattern_filled").classed("pattern_filled",!1)},F.getPatternAttr=function(Ye,je,et){return Ye&&v.isArrayOrTypedArray(Ye)?je<Ye.length?Ye[je]:et:Ye},F.pointStyle=function(Ye,je,et,yt){if(Ye.size()){var ft=F.makePointStyleFns(je);Ye.each(function(tt){F.singlePointStyle(tt,g.select(this),je,ft,et,yt)})}},F.singlePointStyle=function(Ye,je,et,yt,ft,tt){var wt=et.marker,Xt=wt.line;if(tt&&tt.i>=0&&Ye.i===void 0&&(Ye.i=tt.i),je.style("opacity",yt.selectedOpacityFn?yt.selectedOpacityFn(Ye):Ye.mo===void 0?wt.opacity:Ye.mo),yt.ms2mrc){var Gt;Ye.ms==="various"||wt.size==="various"?Gt=3:Gt=yt.ms2mrc(Ye.ms),Ye.mrc=Gt,yt.selectedSizeFn&&(Gt=Ye.mrc=yt.selectedSizeFn(Ye));var Nt=F.symbolNumber(Ye.mx||wt.symbol)||0;Ye.om=Nt%200>=100;var Bt=pt(Ye,et),vn=te(Ye,et);je.attr("d",ie(Nt,Gt,Bt,vn))}var En=!1,ln,Yn,an;if(Ye.so)an=Xt.outlierwidth,Yn=Xt.outliercolor,ln=wt.outliercolor;else{var wn=(Xt||{}).width;an=(Ye.mlw+1||wn+1||(Ye.trace?(Ye.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ye?Yn=Ye.mlcc=yt.lineScale(Ye.mlc):v.isArrayOrTypedArray(Xt.color)?Yn=k.defaultLine:Yn=Xt.color,v.isArrayOrTypedArray(wt.color)&&(ln=k.defaultLine,En=!0),"mc"in Ye?ln=Ye.mcc=yt.markerScale(Ye.mc):ln=wt.color||wt.colors||"rgba(0,0,0,0)",yt.selectedColorFn&&(ln=yt.selectedColorFn(Ye))}if(Ye.om)je.call(k.stroke,ln).style({"stroke-width":(an||1)+"px",fill:"none"});else{je.style("stroke-width",(Ye.isBlank?0:an)+"px");var Xn=wt.gradient,Un=Ye.mgt;Un?En=!0:Un=Xn&&Xn.type,v.isArrayOrTypedArray(Un)&&(Un=Un[0],q[Un]||(Un=0));var Sn=wt.pattern,lt=Sn&&F.getPatternAttr(Sn.shape,Ye.i,"");if(Un&&Un!=="none"){var ut=Ye.mgc;ut?En=!0:ut=Xn.color;var xt=et.uid;En&&(xt+="-"+Ye.i),F.gradient(je,ft,xt,Un,[[0,ut],[1,ln]],"fill")}else if(lt){var gt=!1,Dt=Sn.fgcolor;!Dt&&tt&&tt.color&&(Dt=tt.color,gt=!0);var He=F.getPatternAttr(Dt,Ye.i,tt&&tt.color||null),it=F.getPatternAttr(Sn.bgcolor,Ye.i,null),dt=Sn.fgopacity,mt=F.getPatternAttr(Sn.size,Ye.i,8),Ct=F.getPatternAttr(Sn.solidity,Ye.i,.3);gt=gt||Ye.mcc||v.isArrayOrTypedArray(Sn.shape)||v.isArrayOrTypedArray(Sn.bgcolor)||v.isArrayOrTypedArray(Sn.fgcolor)||v.isArrayOrTypedArray(Sn.size)||v.isArrayOrTypedArray(Sn.solidity);var Pt=et.uid;gt&&(Pt+="-"+Ye.i),F.pattern(je,"point",ft,Pt,lt,mt,Ct,Ye.mcc,Sn.fillmode,it,He,dt)}else v.isArrayOrTypedArray(ln)?k.fill(je,ln[Ye.i]):k.fill(je,ln);an&&k.stroke(je,Yn)}},F.makePointStyleFns=function(Ye){var je={},et=Ye.marker;return je.markerScale=F.tryColorscale(et,""),je.lineScale=F.tryColorscale(et,"line"),T.traceIs(Ye,"symbols")&&(je.ms2mrc=Q.isBubble(Ye)?z(Ye):function(){return(et.size||6)/2}),Ye.selectedpoints&&v.extendFlat(je,F.makeSelectedPointStyleFns(Ye)),je},F.makeSelectedPointStyleFns=function(Ye){var je={},et=Ye.selected||{},yt=Ye.unselected||{},ft=Ye.marker||{},tt=et.marker||{},wt=yt.marker||{},Xt=ft.opacity,Gt=tt.opacity,Nt=wt.opacity,Bt=Gt!==void 0,vn=Nt!==void 0;(v.isArrayOrTypedArray(Xt)||Bt||vn)&&(je.selectedOpacityFn=function(lt){var ut=lt.mo===void 0?ft.opacity:lt.mo;return lt.selected?Bt?Gt:ut:vn?Nt:N*ut});var En=ft.color,ln=tt.color,Yn=wt.color;(ln||Yn)&&(je.selectedColorFn=function(lt){var ut=lt.mcc||En;return lt.selected?ln||ut:Yn||ut});var an=ft.size,wn=tt.size,Xn=wt.size,Un=wn!==void 0,Sn=Xn!==void 0;return T.traceIs(Ye,"symbols")&&(Un||Sn)&&(je.selectedSizeFn=function(lt){var ut=lt.mrc||an/2;return lt.selected?Un?wn/2:ut:Sn?Xn/2:ut}),je},F.makeSelectedTextStyleFns=function(Ye){var je={},et=Ye.selected||{},yt=Ye.unselected||{},ft=Ye.textfont||{},tt=et.textfont||{},wt=yt.textfont||{},Xt=ft.color,Gt=tt.color,Nt=wt.color;return je.selectedTextColorFn=function(Bt){var vn=Bt.tc||Xt;return Bt.selected?Gt||vn:Nt||(Gt?vn:k.addOpacity(vn,N))},je},F.selectedPointStyle=function(Ye,je){if(!(!Ye.size()||!je.selectedpoints)){var et=F.makeSelectedPointStyleFns(je),yt=je.marker||{},ft=[];et.selectedOpacityFn&&ft.push(function(tt,wt){tt.style("opacity",et.selectedOpacityFn(wt))}),et.selectedColorFn&&ft.push(function(tt,wt){k.fill(tt,et.selectedColorFn(wt))}),et.selectedSizeFn&&ft.push(function(tt,wt){var Xt=wt.mx||yt.symbol||0,Gt=et.selectedSizeFn(wt);tt.attr("d",ie(F.symbolNumber(Xt),Gt,pt(wt,je),te(wt,je))),wt.mrc2=Gt}),ft.length&&Ye.each(function(tt){for(var wt=g.select(this),Xt=0;Xt<ft.length;Xt++)ft[Xt](wt,tt)})}},F.tryColorscale=function(Ye,je){var et=je?v.nestedProperty(Ye,je).get():Ye;if(et){var yt=et.color;if((et.colorscale||et._colorAx)&&v.isArrayOrTypedArray(yt))return w.makeColorScaleFuncFromTrace(et)}return v.identity};var de={start:1,end:-1,middle:0,bottom:1,top:-1};function ee(Ye,je,et,yt,ft){var tt=g.select(Ye.node().parentNode),wt=je.indexOf("top")!==-1?"top":je.indexOf("bottom")!==-1?"bottom":"middle",Xt=je.indexOf("left")!==-1?"end":je.indexOf("right")!==-1?"start":"middle",Gt=yt?yt/.8+1:0,Nt=(_.lineCount(Ye)-1)*V+1,Bt=de[Xt]*Gt,vn=et*.75+de[wt]*Gt+(de[wt]-1)*Nt*et/2;Ye.attr("text-anchor",Xt),ft||tt.attr("transform",C(Bt,vn))}function xe(Ye,je){var et=Ye.ts||je.textfont.size;return b(et)&&et>0?et:0}F.textPointStyle=function(Ye,je,et){if(Ye.size()){var yt;if(je.selectedpoints){var ft=F.makeSelectedTextStyleFns(je);yt=ft.selectedTextColorFn}var tt=je.texttemplate,wt=et._fullLayout;Ye.each(function(Xt){var Gt=g.select(this),Nt=tt?v.extractOption(Xt,je,"txt","texttemplate"):v.extractOption(Xt,je,"tx","text");if(!Nt&&Nt!==0){Gt.remove();return}if(tt){var Bt=je._module.formatLabels,vn=Bt?Bt(Xt,je,wt):{},En={};U(En,je,Xt.i);var ln=je._meta||{};Nt=v.texttemplateString(Nt,vn,wt._d3locale,En,Xt,ln)}var Yn=Xt.tp||je.textposition,an=xe(Xt,je),wn=yt?yt(Xt):Xt.tc||je.textfont.color;Gt.call(F.font,Xt.tf||je.textfont.family,an,wn).text(Nt).call(_.convertToTspans,et).call(ee,Yn,an,Xt.mrc)})}},F.selectedTextStyle=function(Ye,je){if(!(!Ye.size()||!je.selectedpoints)){var et=F.makeSelectedTextStyleFns(je);Ye.each(function(yt){var ft=g.select(this),tt=et.selectedTextColorFn(yt),wt=yt.tp||je.textposition,Xt=xe(yt,je);k.fill(ft,tt);var Gt=T.traceIs(je,"bar-like");ee(ft,wt,Xt,yt.mrc2||yt.mrc,Gt)})}};var we=.5;F.smoothopen=function(Ye,je){if(Ye.length<3)return"M"+Ye.join("L");var et="M"+Ye[0],yt=[],ft;for(ft=1;ft<Ye.length-1;ft++)yt.push(ve(Ye[ft-1],Ye[ft],Ye[ft+1],je));for(et+="Q"+yt[0][0]+" "+Ye[1],ft=2;ft<Ye.length-1;ft++)et+="C"+yt[ft-2][1]+" "+yt[ft-1][0]+" "+Ye[ft];return et+="Q"+yt[Ye.length-3][1]+" "+Ye[Ye.length-1],et},F.smoothclosed=function(Ye,je){if(Ye.length<3)return"M"+Ye.join("L")+"Z";var et="M"+Ye[0],yt=Ye.length-1,ft=[ve(Ye[yt],Ye[0],Ye[1],je)],tt;for(tt=1;tt<yt;tt++)ft.push(ve(Ye[tt-1],Ye[tt],Ye[tt+1],je));for(ft.push(ve(Ye[yt-1],Ye[yt],Ye[0],je)),tt=1;tt<=yt;tt++)et+="C"+ft[tt-1][1]+" "+ft[tt][0]+" "+Ye[tt];return et+="C"+ft[yt][1]+" "+ft[0][0]+" "+Ye[0]+"Z",et};var Be,pe;function ne(Ye,je,et){return et&&(Ye=Te(Ye)),je?Y(Ye[1]):le(Ye[0])}function le(Ye){var je=g.round(Ye,2);return Be=je,je}function Y(Ye){var je=g.round(Ye,2);return pe=je,je}function ve(Ye,je,et,yt){var ft=Ye[0]-je[0],tt=Ye[1]-je[1],wt=et[0]-je[0],Xt=et[1]-je[1],Gt=Math.pow(ft*ft+tt*tt,we/2),Nt=Math.pow(wt*wt+Xt*Xt,we/2),Bt=(Nt*Nt*ft-Gt*Gt*wt)*yt,vn=(Nt*Nt*tt-Gt*Gt*Xt)*yt,En=3*Nt*(Gt+Nt),ln=3*Gt*(Gt+Nt);return[[le(je[0]+(En&&Bt/En)),Y(je[1]+(En&&vn/En))],[le(je[0]-(ln&&Bt/ln)),Y(je[1]-(ln&&vn/ln))]]}var Oe={hv:function(Ye,je,et){return"H"+le(je[0])+"V"+ne(je,1,et)},vh:function(Ye,je,et){return"V"+Y(je[1])+"H"+ne(je,0,et)},hvh:function(Ye,je,et){return"H"+le((Ye[0]+je[0])/2)+"V"+Y(je[1])+"H"+ne(je,0,et)},vhv:function(Ye,je,et){return"V"+Y((Ye[1]+je[1])/2)+"H"+le(je[0])+"V"+ne(je,1,et)}},Le=function(Ye,je,et){return"L"+ne(je,0,et)+","+ne(je,1,et)};F.steps=function(Ye){var je=Oe[Ye]||Le;return function(et){for(var yt="M"+le(et[0][0])+","+Y(et[0][1]),ft=et.length,tt=1;tt<ft;tt++)yt+=je(et[tt-1],et[tt],tt===ft-1);return yt}};function Te(Ye,je){var et=Ye.backoff,yt=Ye.trace,ft=Ye.d,tt=Ye.i;if(et&&yt&&yt.marker&&yt.marker.angle%360===0&&yt.line&&yt.line.shape!=="spline"){var wt=v.isArrayOrTypedArray(et),Xt=Ye,Gt=je?je[0]:Be||0,Nt=je?je[1]:pe||0,Bt=Xt[0],vn=Xt[1],En=Bt-Gt,ln=vn-Nt,Yn=Math.atan2(ln,En),an=wt?et[tt]:et;if(an==="auto"){var wn=Xt.i;yt.type==="scatter"&&wn--;var Xn=Xt.marker,Un=Xn.symbol;v.isArrayOrTypedArray(Un)&&(Un=Un[wn]);var Sn=Xn.size;v.isArrayOrTypedArray(Sn)&&(Sn=Sn[wn]),an=Xn?F.symbolBackOffs[F.symbolNumber(Un)]*Sn:0,an+=F.getMarkerStandoff(ft[wn],yt)||0}var lt=Bt-an*Math.cos(Yn),ut=vn-an*Math.sin(Yn);(lt<=Bt&&lt>=Gt||lt>=Bt&&lt<=Gt)&&(ut<=vn&&ut>=Nt||ut>=vn&&ut<=Nt)&&(Ye=[lt,ut])}return Ye}F.applyBackoff=Te,F.makeTester=function(){var Ye=v.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(et){et.attr(M.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),je=v.ensureSingle(Ye,"path","js-reference-point",function(et){et.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});F.tester=Ye,F.testref=je},F.savedBBoxes={};var De=0,Ve=1e4;F.bBox=function(Ye,je,et){et||(et=_e(Ye));var yt;if(et){if(yt=F.savedBBoxes[et],yt)return v.extendFlat({},yt)}else if(Ye.childNodes.length===1){var ft=Ye.childNodes[0];if(et=_e(ft),et){var tt=+ft.getAttribute("x")||0,wt=+ft.getAttribute("y")||0,Xt=ft.getAttribute("transform");if(!Xt){var Gt=F.bBox(ft,!1,et);return tt&&(Gt.left+=tt,Gt.right+=tt),wt&&(Gt.top+=wt,Gt.bottom+=wt),Gt}if(et+="~"+tt+"~"+wt+"~"+Xt,yt=F.savedBBoxes[et],yt)return v.extendFlat({},yt)}}var Nt,Bt;je?Nt=Ye:(Bt=F.tester.node(),Nt=Ye.cloneNode(!0),Bt.appendChild(Nt)),g.select(Nt).attr("transform",null).call(_.positionText,0,0);var vn=Nt.getBoundingClientRect(),En=F.testref.node().getBoundingClientRect();je||Bt.removeChild(Nt);var ln={height:vn.height,width:vn.width,left:vn.left-En.left,top:vn.top-En.top,right:vn.right-En.left,bottom:vn.bottom-En.top};return De>=Ve&&(F.savedBBoxes={},De=0),et&&(F.savedBBoxes[et]=ln),De++,v.extendFlat({},ln)};function _e(Ye){var je=Ye.getAttribute("data-unformatted");if(je!==null)return je+Ye.getAttribute("data-math")+Ye.getAttribute("text-anchor")+Ye.getAttribute("style")}F.setClipUrl=function(Ye,je,et){Ye.attr("clip-path",Ie(je,et))};function Ie(Ye,je){if(!Ye)return null;var et=je._context,yt=et._exportedPlot?"":et._baseUrl||"";return yt?"url('"+yt+"#"+Ye+"')":"url(#"+Ye+")"}F.getTranslate=function(Ye){var je=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,et=Ye.attr?"attr":"getAttribute",yt=Ye[et]("transform")||"",ft=yt.replace(je,function(tt,wt,Xt){return[wt,Xt].join(" ")}).split(" ");return{x:+ft[0]||0,y:+ft[1]||0}},F.setTranslate=function(Ye,je,et){var yt=/(\btranslate\(.*?\);?)/,ft=Ye.attr?"attr":"getAttribute",tt=Ye.attr?"attr":"setAttribute",wt=Ye[ft]("transform")||"";return je=je||0,et=et||0,wt=wt.replace(yt,"").trim(),wt+=C(je,et),wt=wt.trim(),Ye[tt]("transform",wt),wt},F.getScale=function(Ye){var je=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,et=Ye.attr?"attr":"getAttribute",yt=Ye[et]("transform")||"",ft=yt.replace(je,function(tt,wt,Xt){return[wt,Xt].join(" ")}).split(" ");return{x:+ft[0]||1,y:+ft[1]||1}},F.setScale=function(Ye,je,et){var yt=/(\bscale\(.*?\);?)/,ft=Ye.attr?"attr":"getAttribute",tt=Ye.attr?"attr":"setAttribute",wt=Ye[ft]("transform")||"";return je=je||1,et=et||1,wt=wt.replace(yt,"").trim(),wt+="scale("+je+","+et+")",wt=wt.trim(),Ye[tt]("transform",wt),wt};var re=/\s*sc.*/;F.setPointGroupScale=function(Ye,je,et){if(je=je||1,et=et||1,!!Ye){var yt=je===1&&et===1?"":"scale("+je+","+et+")";Ye.each(function(){var ft=(this.getAttribute("transform")||"").replace(re,"");ft+=yt,ft=ft.trim(),this.setAttribute("transform",ft)})}};var be=/translate\([^)]*\)\s*$/;F.setTextPointsScale=function(Ye,je,et){Ye&&Ye.each(function(){var yt,ft=g.select(this),tt=ft.select("text");if(tt.node()){var wt=parseFloat(tt.attr("x")||0),Xt=parseFloat(tt.attr("y")||0),Gt=(ft.attr("transform")||"").match(be);je===1&&et===1?yt=[]:yt=[C(wt,Xt),"scale("+je+","+et+")",C(-wt,-Xt)],Gt&&yt.push(Gt),ft.attr("transform",yt.join(""))}})};function te(Ye,je){var et;return Ye&&(et=Ye.mf),et===void 0&&(et=je.marker&&je.marker.standoff||0),!je._geo&&!je._xA?-et:et}F.getMarkerStandoff=te;var se=Math.atan2,fe=Math.cos,oe=Math.sin;function Se(Ye,je){var et=je[0],yt=je[1];return[et*fe(Ye)-yt*oe(Ye),et*oe(Ye)+yt*fe(Ye)]}var ce,ke,Qe,Ze,Xe,ct;function pt(Ye,je){var et=Ye.ma;et===void 0&&(et=je.marker.angle||0);var yt,ft,tt=je.marker.angleref;if(tt==="previous"||tt==="north"){if(je._geo){var wt=je._geo.project(Ye.lonlat);yt=wt[0],ft=wt[1]}else{var Xt=je._xA,Gt=je._yA;if(Xt&&Gt)yt=Xt.c2p(Ye.x),ft=Gt.c2p(Ye.y);else return 90}if(je._geo){var Nt=Ye.lonlat[0],Bt=Ye.lonlat[1],vn=je._geo.project([Nt,Bt+1e-5]),En=je._geo.project([Nt+1e-5,Bt]),ln=se(En[1]-ft,En[0]-yt),Yn=se(vn[1]-ft,vn[0]-yt),an;if(tt==="north")an=et/180*Math.PI;else if(tt==="previous"){var wn=Nt/180*Math.PI,Xn=Bt/180*Math.PI,Un=ce/180*Math.PI,Sn=ke/180*Math.PI,lt=Un-wn,ut=fe(Sn)*oe(lt),xt=oe(Sn)*fe(Xn)-fe(Sn)*oe(Xn)*fe(lt);an=-se(ut,xt)-Math.PI,ce=Nt,ke=Bt}var gt=Se(ln,[fe(an),0]),Dt=Se(Yn,[oe(an),0]);et=se(gt[1]+Dt[1],gt[0]+Dt[0])/Math.PI*180,tt==="previous"&&!(ct===je.uid&&Ye.i===Xe+1)&&(et=null)}if(tt==="previous"&&!je._geo)if(ct===je.uid&&Ye.i===Xe+1&&b(yt)&&b(ft)){var He=yt-Qe,it=ft-Ze,dt=je.line&&je.line.shape||"",mt=dt.slice(dt.length-1);mt==="h"&&(it=0),mt==="v"&&(He=0),et+=se(it,He)/Math.PI*180+90}else et=null}return Qe=yt,Ze=ft,Xe=Ye.i,ct=je.uid,et}F.getMarkerAngle=pt},998:function(d,h,c){var g=c(5616),v=c(9898).round,y="M0,0Z",b=Math.sqrt(2),O=Math.sqrt(3),T=Math.PI,k=Math.cos,w=Math.sin;d.exports={circle:{n:0,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2),B="M"+F+",0A"+F+","+F+" 0 1,1 0,-"+F+"A"+F+","+F+" 0 0,1 "+F+",0Z";return U?N(z,U,B):B}},square:{n:1,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"H-"+F+"V-"+F+"H"+F+"Z")}},diamond:{n:2,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.3,2);return N(z,U,"M"+F+",0L0,"+F+"L-"+F+",0L0,-"+F+"Z")}},cross:{n:3,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.4,2),B=v(Q*1.2,2);return N(z,U,"M"+B+","+F+"H"+F+"V"+B+"H-"+F+"V"+F+"H-"+B+"V-"+F+"H-"+F+"V-"+B+"H"+F+"V-"+F+"H"+B+"Z")}},x:{n:4,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.8/b,2),B="l"+F+","+F,E="l"+F+",-"+F,W="l-"+F+",-"+F,X="l-"+F+","+F;return N(z,U,"M0,"+F+B+E+W+E+W+X+W+X+B+X+B+"Z")}},"triangle-up":{n:5,f:function(Q,z,U){if(C(z))return y;var F=v(Q*2/O,2),B=v(Q/2,2),E=v(Q,2);return N(z,U,"M-"+F+","+B+"H"+F+"L0,-"+E+"Z")}},"triangle-down":{n:6,f:function(Q,z,U){if(C(z))return y;var F=v(Q*2/O,2),B=v(Q/2,2),E=v(Q,2);return N(z,U,"M-"+F+",-"+B+"H"+F+"L0,"+E+"Z")}},"triangle-left":{n:7,f:function(Q,z,U){if(C(z))return y;var F=v(Q*2/O,2),B=v(Q/2,2),E=v(Q,2);return N(z,U,"M"+B+",-"+F+"V"+F+"L-"+E+",0Z")}},"triangle-right":{n:8,f:function(Q,z,U){if(C(z))return y;var F=v(Q*2/O,2),B=v(Q/2,2),E=v(Q,2);return N(z,U,"M-"+B+",-"+F+"V"+F+"L"+E+",0Z")}},"triangle-ne":{n:9,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.6,2),B=v(Q*1.2,2);return N(z,U,"M-"+B+",-"+F+"H"+F+"V"+B+"Z")}},"triangle-se":{n:10,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.6,2),B=v(Q*1.2,2);return N(z,U,"M"+F+",-"+B+"V"+F+"H-"+B+"Z")}},"triangle-sw":{n:11,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.6,2),B=v(Q*1.2,2);return N(z,U,"M"+B+","+F+"H-"+F+"V-"+B+"Z")}},"triangle-nw":{n:12,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.6,2),B=v(Q*1.2,2);return N(z,U,"M-"+F+","+B+"V-"+F+"H"+B+"Z")}},pentagon:{n:13,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.951,2),B=v(Q*.588,2),E=v(-Q,2),W=v(Q*-.309,2),X=v(Q*.809,2);return N(z,U,"M"+F+","+W+"L"+B+","+X+"H-"+B+"L-"+F+","+W+"L0,"+E+"Z")}},hexagon:{n:14,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2),B=v(Q/2,2),E=v(Q*O/2,2);return N(z,U,"M"+E+",-"+B+"V"+B+"L0,"+F+"L-"+E+","+B+"V-"+B+"L0,-"+F+"Z")}},hexagon2:{n:15,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2),B=v(Q/2,2),E=v(Q*O/2,2);return N(z,U,"M-"+B+","+E+"H"+B+"L"+F+",0L"+B+",-"+E+"H-"+B+"L-"+F+",0Z")}},octagon:{n:16,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.924,2),B=v(Q*.383,2);return N(z,U,"M-"+B+",-"+F+"H"+B+"L"+F+",-"+B+"V"+B+"L"+B+","+F+"H-"+B+"L-"+F+","+B+"V-"+B+"Z")}},star:{n:17,f:function(Q,z,U){if(C(z))return y;var F=Q*1.4,B=v(F*.225,2),E=v(F*.951,2),W=v(F*.363,2),X=v(F*.588,2),ie=v(-F,2),L=v(F*-.309,2),me=v(F*.118,2),ae=v(F*.809,2),q=v(F*.382,2);return N(z,U,"M"+B+","+L+"H"+E+"L"+W+","+me+"L"+X+","+ae+"L0,"+q+"L-"+X+","+ae+"L-"+W+","+me+"L-"+E+","+L+"H-"+B+"L0,"+ie+"Z")}},hexagram:{n:18,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.66,2),B=v(Q*.38,2),E=v(Q*.76,2);return N(z,U,"M-"+E+",0l-"+B+",-"+F+"h"+E+"l"+B+",-"+F+"l"+B+","+F+"h"+E+"l-"+B+","+F+"l"+B+","+F+"h-"+E+"l-"+B+","+F+"l-"+B+",-"+F+"h-"+E+"Z")}},"star-triangle-up":{n:19,f:function(Q,z,U){if(C(z))return y;var F=v(Q*O*.8,2),B=v(Q*.8,2),E=v(Q*1.6,2),W=v(Q*4,2),X="A "+W+","+W+" 0 0 1 ";return N(z,U,"M-"+F+","+B+X+F+","+B+X+"0,-"+E+X+"-"+F+","+B+"Z")}},"star-triangle-down":{n:20,f:function(Q,z,U){if(C(z))return y;var F=v(Q*O*.8,2),B=v(Q*.8,2),E=v(Q*1.6,2),W=v(Q*4,2),X="A "+W+","+W+" 0 0 1 ";return N(z,U,"M"+F+",-"+B+X+"-"+F+",-"+B+X+"0,"+E+X+F+",-"+B+"Z")}},"star-square":{n:21,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.1,2),B=v(Q*2,2),E="A "+B+","+B+" 0 0 1 ";return N(z,U,"M-"+F+",-"+F+E+"-"+F+","+F+E+F+","+F+E+F+",-"+F+E+"-"+F+",-"+F+"Z")}},"star-diamond":{n:22,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.4,2),B=v(Q*1.9,2),E="A "+B+","+B+" 0 0 1 ";return N(z,U,"M-"+F+",0"+E+"0,"+F+E+F+",0"+E+"0,-"+F+E+"-"+F+",0Z")}},"diamond-tall":{n:23,f:function(Q,z,U){if(C(z))return y;var F=v(Q*.7,2),B=v(Q*1.4,2);return N(z,U,"M0,"+B+"L"+F+",0L0,-"+B+"L-"+F+",0Z")}},"diamond-wide":{n:24,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.4,2),B=v(Q*.7,2);return N(z,U,"M0,"+B+"L"+F+",0L0,-"+B+"L-"+F+",0Z")}},hourglass:{n:25,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"H-"+F+"L"+F+",-"+F+"H-"+F+"Z")},noDot:!0},bowtie:{n:26,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"V-"+F+"L-"+F+","+F+"V-"+F+"Z")},noDot:!0},"circle-cross":{n:27,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M0,"+F+"V-"+F+"M"+F+",0H-"+F+"M"+F+",0A"+F+","+F+" 0 1,1 0,-"+F+"A"+F+","+F+" 0 0,1 "+F+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2),B=v(Q/b,2);return N(z,U,"M"+B+","+B+"L-"+B+",-"+B+"M"+B+",-"+B+"L-"+B+","+B+"M"+F+",0A"+F+","+F+" 0 1,1 0,-"+F+"A"+F+","+F+" 0 0,1 "+F+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M0,"+F+"V-"+F+"M"+F+",0H-"+F+"M"+F+","+F+"H-"+F+"V-"+F+"H"+F+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"L-"+F+",-"+F+"M"+F+",-"+F+"L-"+F+","+F+"M"+F+","+F+"H-"+F+"V-"+F+"H"+F+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.3,2);return N(z,U,"M"+F+",0L0,"+F+"L-"+F+",0L0,-"+F+"ZM0,-"+F+"V"+F+"M-"+F+",0H"+F)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.3,2),B=v(Q*.65,2);return N(z,U,"M"+F+",0L0,"+F+"L-"+F+",0L0,-"+F+"ZM-"+B+",-"+B+"L"+B+","+B+"M-"+B+","+B+"L"+B+",-"+B)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.4,2);return N(z,U,"M0,"+F+"V-"+F+"M"+F+",0H-"+F)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"L-"+F+",-"+F+"M"+F+",-"+F+"L-"+F+","+F)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.2,2),B=v(Q*.85,2);return N(z,U,"M0,"+F+"V-"+F+"M"+F+",0H-"+F+"M"+B+","+B+"L-"+B+",-"+B+"M"+B+",-"+B+"L-"+B+","+B)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(Q,z,U){if(C(z))return y;var F=v(Q/2,2),B=v(Q,2);return N(z,U,"M"+F+","+B+"V-"+B+"M"+(F-B)+",-"+B+"V"+B+"M"+B+","+F+"H-"+B+"M-"+B+","+(F-B)+"H"+B)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.2,2),B=v(Q*1.6,2),E=v(Q*.8,2);return N(z,U,"M-"+F+","+E+"L0,0M"+F+","+E+"L0,0M0,-"+B+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.2,2),B=v(Q*1.6,2),E=v(Q*.8,2);return N(z,U,"M-"+F+",-"+E+"L0,0M"+F+",-"+E+"L0,0M0,"+B+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.2,2),B=v(Q*1.6,2),E=v(Q*.8,2);return N(z,U,"M"+E+","+F+"L0,0M"+E+",-"+F+"L0,0M-"+B+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.2,2),B=v(Q*1.6,2),E=v(Q*.8,2);return N(z,U,"M-"+E+","+F+"L0,0M-"+E+",-"+F+"L0,0M"+B+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.4,2);return N(z,U,"M"+F+",0H-"+F)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(Q,z,U){if(C(z))return y;var F=v(Q*1.4,2);return N(z,U,"M0,"+F+"V-"+F)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M"+F+",-"+F+"L-"+F+","+F)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2);return N(z,U,"M"+F+","+F+"L-"+F+",-"+F)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2),B=v(Q*2,2);return N(z,U,"M0,0L-"+F+","+B+"H"+F+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2),B=v(Q*2,2);return N(z,U,"M0,0L-"+F+",-"+B+"H"+F+"Z")},noDot:!0},"arrow-left":{n:47,f:function(Q,z,U){if(C(z))return y;var F=v(Q*2,2),B=v(Q,2);return N(z,U,"M0,0L"+F+",-"+B+"V"+B+"Z")},noDot:!0},"arrow-right":{n:48,f:function(Q,z,U){if(C(z))return y;var F=v(Q*2,2),B=v(Q,2);return N(z,U,"M0,0L-"+F+",-"+B+"V"+B+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2),B=v(Q*2,2);return N(z,U,"M-"+F+",0H"+F+"M0,0L-"+F+","+B+"H"+F+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(Q,z,U){if(C(z))return y;var F=v(Q,2),B=v(Q*2,2);return N(z,U,"M-"+F+",0H"+F+"M0,0L-"+F+",-"+B+"H"+F+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(Q,z,U){if(C(z))return y;var F=v(Q*2,2),B=v(Q,2);return N(z,U,"M0,-"+B+"V"+B+"M0,0L"+F+",-"+B+"V"+B+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(Q,z,U){if(C(z))return y;var F=v(Q*2,2),B=v(Q,2);return N(z,U,"M0,-"+B+"V"+B+"M0,0L-"+F+",-"+B+"V"+B+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(Q,z,U){if(C(z))return y;var F=T/2.5,B=2*Q*k(F),E=2*Q*w(F);return N(z,U,"M0,0L"+-B+","+E+"L"+B+","+E+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(Q,z,U){if(C(z))return y;var F=T/4,B=2*Q*k(F),E=2*Q*w(F);return N(z,U,"M0,0L"+-B+","+E+"A "+2*Q+","+2*Q+" 0 0 1 "+B+","+E+"Z")},backoff:.4,noDot:!0}};function C(Q){return Q===null}var _,M,I,V;function N(Q,z,U){if((!Q||Q%360===0)&&!z)return U;if(I===Q&&V===z&&_===U)return M;I=Q,V=z,_=U;function F(we,Be){var pe=k(we),ne=w(we),le=Be[0],Y=Be[1]+(z||0);return[le*pe-Y*ne,le*ne+Y*pe]}for(var B=Q/180*T,E=0,W=0,X=g(U),ie="",L=0;L<X.length;L++){var me=X[L],ae=me[0],q=E,de=W;if(ae==="M"||ae==="L")E=+me[1],W=+me[2];else if(ae==="m"||ae==="l")E+=+me[1],W+=+me[2];else if(ae==="H")E=+me[1];else if(ae==="h")E+=+me[1];else if(ae==="V")W=+me[1];else if(ae==="v")W+=+me[1];else if(ae==="A"){E=+me[1],W=+me[2];var ee=F(B,[+me[6],+me[7]]);me[6]=ee[0],me[7]=ee[1],me[3]=+me[3]+Q}(ae==="H"||ae==="V")&&(ae="L"),(ae==="h"||ae==="v")&&(ae="l"),(ae==="m"||ae==="l")&&(E-=q,W-=de);var xe=F(B,[E,W]);(ae==="H"||ae==="V")&&(ae="L"),(ae==="M"||ae==="L"||ae==="m"||ae==="l")&&(me[1]=xe[0],me[2]=xe[1]),me[0]=ae,ie+=me[0]+me.slice(1).join(",")}return M=ie,ie}},5673:function(d){d.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(d,h,c){var g=c(2770),v=c(3972),y=c(9298),b=c(1828),O=c(5827);d.exports=function(w){for(var C=w.calcdata,_=0;_<C.length;_++){var M=C[_],I=M[0].trace;if(I.visible===!0&&v.traceIs(I,"errorBarsOK")){var V=y.getFromId(w,I.xaxis),N=y.getFromId(w,I.yaxis);T(M,I,V,"x"),T(M,I,N,"y")}}};function T(k,w,C,_){var M=w["error_"+_]||{},I=M.visible&&["linear","log"].indexOf(C.type)!==-1,V=[];if(I){for(var N=O(M),Q=0;Q<k.length;Q++){var z=k[Q],U=z.i;if(U===void 0)U=Q;else if(U===null)continue;var F=z[_];if(g(C.c2l(F))){var B=N(F,U);if(g(B[0])&&g(B[1])){var E=z[_+"s"]=F-B[0],W=z[_+"h"]=F+B[1];V.push(E,W)}}}var X=C._id,ie=w._extremes[X],L=y.findExtremes(C,V,b.extendFlat({tozero:ie.opts.tozero},{padded:!0}));ie.min=ie.min.concat(L.min),ie.max=ie.max.concat(L.max)}}},5827:function(d){d.exports=function(g){var v=g.type,y=g.symmetric;if(v==="data"){var b=g.array||[];if(y)return function(C,_){var M=+b[_];return[M,M]};var O=g.arrayminus||[];return function(C,_){var M=+b[_],I=+O[_];return!isNaN(M)||!isNaN(I)?[I||0,M||0]:[NaN,NaN]}}else{var T=h(v,g.value),k=h(v,g.valueminus);return y||g.valueminus===void 0?function(C){var _=T(C);return[_,_]}:function(C){return[k(C),T(C)]}}};function h(c,g){if(c==="percent")return function(v){return Math.abs(v*g/100)};if(c==="constant")return function(){return Math.abs(g)};if(c==="sqrt")return function(v){return Math.sqrt(Math.abs(v))}}},7587:function(d,h,c){var g=c(2770),v=c(3972),y=c(1828),b=c(4467),O=c(5673);d.exports=function(T,k,w,C){var _="error_"+C.axis,M=b.newContainer(k,_),I=T[_]||{};function V(E,W){return y.coerce(I,M,O,E,W)}var N=I.array!==void 0||I.value!==void 0||I.type==="sqrt",Q=V("visible",N);if(Q!==!1){var z=V("type","array"in I?"data":"percent"),U=!0;z!=="sqrt"&&(U=V("symmetric",!((z==="data"?"arrayminus":"valueminus")in I))),z==="data"?(V("array"),V("traceref"),U||(V("arrayminus"),V("tracerefminus"))):(z==="percent"||z==="constant")&&(V("value"),U||V("valueminus"));var F="copy_"+C.inherit+"style";if(C.inherit){var B=k["error_"+C.inherit];(B||{}).visible&&V(F,!(I.color||g(I.thickness)||g(I.width)))}(!C.inherit||!M[F])&&(V("color",w),V("thickness"),V("width",v.traceIs(k,"gl3d")?0:4))}}},7369:function(d,h,c){var g=c(1828),v=c(962).overrideAll,y=c(5673),b={error_x:g.extendFlat({},y),error_y:g.extendFlat({},y)};delete b.error_x.copy_zstyle,delete b.error_y.copy_zstyle,delete b.error_y.copy_ystyle;var O={error_x:g.extendFlat({},y),error_y:g.extendFlat({},y),error_z:g.extendFlat({},y)};delete O.error_x.copy_ystyle,delete O.error_y.copy_ystyle,delete O.error_z.copy_ystyle,delete O.error_z.copy_zstyle,d.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:b,bar:b,histogram:b,scatter3d:v(O,"calc","nested"),scattergl:v(b,"calc","nested")}},supplyDefaults:c(7587),calc:c(4532),makeComputeError:c(5827),plot:c(9398),style:c(2662),hoverInfo:T};function T(k,w,C){(w.error_y||{}).visible&&(C.yerr=k.yh-k.y,w.error_y.symmetric||(C.yerrneg=k.y-k.ys)),(w.error_x||{}).visible&&(C.xerr=k.xh-k.x,w.error_x.symmetric||(C.xerrneg=k.x-k.xs))}},9398:function(d,h,c){var g=c(9898),v=c(2770),y=c(1424),b=c(4098);d.exports=function(k,w,C,_){var M,I=C.xaxis,V=C.yaxis,N=_&&_.duration>0,Q=k._context.staticPlot;w.each(function(z){var U=z[0].trace,F=U.error_x||{},B=U.error_y||{},E;U.ids&&(E=function(L){return L.id});var W=b.hasMarkers(U)&&U.marker.maxdisplayed>0;!B.visible&&!F.visible&&(z=[]);var X=g.select(this).selectAll("g.errorbar").data(z,E);if(X.exit().remove(),!!z.length){F.visible||X.selectAll("path.xerror").remove(),B.visible||X.selectAll("path.yerror").remove(),X.style("opacity",1);var ie=X.enter().append("g").classed("errorbar",!0);N&&ie.style("opacity",0).transition().duration(_.duration).style("opacity",1),y.setClipUrl(X,C.layerClipId,k),X.each(function(L){var me=g.select(this),ae=O(L,I,V);if(!(W&&!L.vis)){var q,de=me.select("path.yerror");if(B.visible&&v(ae.x)&&v(ae.yh)&&v(ae.ys)){var ee=B.width;q="M"+(ae.x-ee)+","+ae.yh+"h"+2*ee+"m-"+ee+",0V"+ae.ys,ae.noYS||(q+="m-"+ee+",0h"+2*ee),M=!de.size(),M?de=me.append("path").style("vector-effect",Q?"none":"non-scaling-stroke").classed("yerror",!0):N&&(de=de.transition().duration(_.duration).ease(_.easing)),de.attr("d",q)}else de.remove();var xe=me.select("path.xerror");if(F.visible&&v(ae.y)&&v(ae.xh)&&v(ae.xs)){var we=(F.copy_ystyle?B:F).width;q="M"+ae.xh+","+(ae.y-we)+"v"+2*we+"m0,-"+we+"H"+ae.xs,ae.noXS||(q+="m0,-"+we+"v"+2*we),M=!xe.size(),M?xe=me.append("path").style("vector-effect",Q?"none":"non-scaling-stroke").classed("xerror",!0):N&&(xe=xe.transition().duration(_.duration).ease(_.easing)),xe.attr("d",q)}else xe.remove()}})}})};function O(T,k,w){var C={x:k.c2p(T.x),y:w.c2p(T.y)};return T.yh!==void 0&&(C.yh=w.c2p(T.yh),C.ys=w.c2p(T.ys),v(C.ys)||(C.noYS=!0,C.ys=w.c2p(T.ys,!0))),T.xh!==void 0&&(C.xh=k.c2p(T.xh),C.xs=k.c2p(T.xs),v(C.xs)||(C.noXS=!0,C.xs=k.c2p(T.xs,!0))),C}},2662:function(d,h,c){var g=c(9898),v=c(7901);d.exports=function(b){b.each(function(O){var T=O[0].trace,k=T.error_y||{},w=T.error_x||{},C=g.select(this);C.selectAll("path.yerror").style("stroke-width",k.thickness+"px").call(v.stroke,k.color),w.copy_ystyle&&(w=k),C.selectAll("path.xerror").style("stroke-width",w.thickness+"px").call(v.stroke,w.color)})}},7914:function(d,h,c){var g=c(1940),v=c(528).hoverlabel,y=c(1426).extendFlat;d.exports={hoverlabel:{bgcolor:y({},v.bgcolor,{arrayOk:!0}),bordercolor:y({},v.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:y({},v.align,{arrayOk:!0}),namelength:y({},v.namelength,{arrayOk:!0}),editType:"none"}}},732:function(d,h,c){var g=c(1828),v=c(3972);d.exports=function(O){var T=O.calcdata,k=O._fullLayout;function w(V){return function(N){return g.coerceHoverinfo({hoverinfo:N},{_module:V._module},k)}}for(var C=0;C<T.length;C++){var _=T[C],M=_[0].trace;if(!v.traceIs(M,"pie-like")){var I=v.traceIs(M,"2dMap")?y:g.fillArray;I(M.hoverinfo,_,"hi",w(M)),M.hovertemplate&&I(M.hovertemplate,_,"ht"),M.hoverlabel&&(I(M.hoverlabel.bgcolor,_,"hbg"),I(M.hoverlabel.bordercolor,_,"hbc"),I(M.hoverlabel.font.size,_,"hts"),I(M.hoverlabel.font.color,_,"htc"),I(M.hoverlabel.font.family,_,"htf"),I(M.hoverlabel.namelength,_,"hnl"),I(M.hoverlabel.align,_,"hta"))}}};function y(b,O,T,k){k=k||g.identity,Array.isArray(b)&&(O[0][T]=k(b))}},5914:function(d,h,c){var g=c(3972),v=c(8335).hover;d.exports=function(b,O,T){var k=g.getComponentMethod("annotations","onClick")(b,b._hoverdata);T!==void 0&&v(b,O,T,!0);function w(){b.emit("plotly_click",{points:b._hoverdata,event:O})}b._hoverdata&&O&&O.target&&(k&&k.then?k.then(w):w(),O.stopImmediatePropagation&&O.stopImmediatePropagation())}},6675:function(d){d.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(d,h,c){var g=c(1828),v=c(7914),y=c(8048);d.exports=function(O,T,k,w){function C(M,I){return g.coerce(O,T,v,M,I)}var _=g.extendFlat({},w.hoverlabel);T.hovertemplate&&(_.namelength=-1),y(O,T,C,_)}},3469:function(d,h,c){var g=c(1828);h.getSubplot=function(k){return k.subplot||k.xaxis+k.yaxis||k.geo},h.isTraceInSubplots=function(k,w){if(k.type==="splom"){for(var C=k.xaxes||[],_=k.yaxes||[],M=0;M<C.length;M++)for(var I=0;I<_.length;I++)if(w.indexOf(C[M]+_[I])!==-1)return!0;return!1}return w.indexOf(h.getSubplot(k))!==-1},h.flat=function(k,w){for(var C=new Array(k.length),_=0;_<k.length;_++)C[_]=w;return C},h.p2c=function(k,w){for(var C=new Array(k.length),_=0;_<k.length;_++)C[_]=k[_].p2c(w);return C},h.getDistanceFunction=function(k,w,C,_){return k==="closest"?_||h.quadrature(w,C):k.charAt(0)==="x"?w:C},h.getClosest=function(k,w,C){if(C.index!==!1)C.index>=0&&C.index<k.length?C.distance=0:C.index=!1;else for(var _=0;_<k.length;_++){var M=w(k[_]);M<=C.distance&&(C.index=_,C.distance=M)}return C},h.inbox=function(k,w,C){return k*w<0||k===0?C:1/0},h.quadrature=function(k,w){return function(C){var _=k(C),M=w(C);return Math.sqrt(_*_+M*M)}},h.makeEventData=function(k,w,C){var _="index"in k?k.index:k.pointNumber,M={data:w._input,fullData:w,curveNumber:w.index,pointNumber:_};if(w._indexToPoints){var I=w._indexToPoints[_];I.length===1?M.pointIndex=I[0]:M.pointIndices=I}else M.pointIndex=_;return w._module.eventData?M=w._module.eventData(M,k,w,C,_):("xVal"in k?M.x=k.xVal:"x"in k&&(M.x=k.x),"yVal"in k?M.y=k.yVal:"y"in k&&(M.y=k.y),k.xa&&(M.xaxis=k.xa),k.ya&&(M.yaxis=k.ya),k.zLabelVal!==void 0&&(M.z=k.zLabelVal)),h.appendArrayPointValue(M,w,_),M},h.appendArrayPointValue=function(k,w,C){var _=w._arrayAttrs;if(_)for(var M=0;M<_.length;M++){var I=_[M],V=y(I);if(k[V]===void 0){var N=g.nestedProperty(w,I).get(),Q=b(N,C);Q!==void 0&&(k[V]=Q)}}},h.appendArrayMultiPointValues=function(k,w,C){var _=w._arrayAttrs;if(_)for(var M=0;M<_.length;M++){var I=_[M],V=y(I);if(k[V]===void 0){for(var N=g.nestedProperty(w,I).get(),Q=new Array(C.length),z=0;z<C.length;z++)Q[z]=b(N,C[z]);k[V]=Q}}};var v={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function y(k){return v[k]||k}function b(k,w){if(Array.isArray(w)){if(Array.isArray(k)&&Array.isArray(k[w[0]]))return k[w[0]][w[1]]}else return k[w]}var O={x:!0,y:!0},T={"x unified":!0,"y unified":!0};h.isUnifiedHover=function(k){return typeof k!="string"?!1:!!T[k]},h.isXYhover=function(k){return typeof k!="string"?!1:!!O[k]}},8335:function(d,h,c){var g=c(9898),v=c(2770),y=c(4267),b=c(1828),O=b.strTranslate,T=b.strRotate,k=c(1086),w=c(3893),C=c(9918),_=c(1424),M=c(7901),I=c(8569),V=c(9298),N=c(3972),Q=c(3469),z=c(6675),U=c(9017),F=c(3969),B=z.YANGLE,E=Math.PI*B/180,W=1/Math.sin(E),X=Math.cos(E),ie=Math.sin(E),L=z.HOVERARROWSIZE,me=z.HOVERTEXTPAD,ae={box:!0,ohlc:!0,violin:!0,candlestick:!0},q={scatter:!0,scattergl:!0,splom:!0};h.hover=function(se,fe,oe,Se){se=b.getGraphDiv(se);var ce=fe.target;b.throttle(se._fullLayout._uid+z.HOVERID,z.HOVERMINTIME,function(){de(se,fe,oe,Se,ce)})},h.loneHover=function(se,fe){var oe=!0;Array.isArray(se)||(oe=!1,se=[se]);var Se=fe.gd,ce=Ie(Se),ke=re(Se),Qe=se.map(function(ft){var tt=ft._x0||ft.x0||ft.x||0,wt=ft._x1||ft.x1||ft.x||0,Xt=ft._y0||ft.y0||ft.y||0,Gt=ft._y1||ft.y1||ft.y||0,Nt=ft.eventData;if(Nt){var Bt=Math.min(tt,wt),vn=Math.max(tt,wt),En=Math.min(Xt,Gt),ln=Math.max(Xt,Gt),Yn=ft.trace;if(N.traceIs(Yn,"gl3d")){var an=Se._fullLayout[Yn.scene]._scene.container,wn=an.offsetLeft,Xn=an.offsetTop;Bt+=wn,vn+=wn,En+=Xn,ln+=Xn}Nt.bbox={x0:Bt+ke,x1:vn+ke,y0:En+ce,y1:ln+ce},fe.inOut_bbox&&fe.inOut_bbox.push(Nt.bbox)}else Nt=!1;return{color:ft.color||M.defaultLine,x0:ft.x0||ft.x||0,x1:ft.x1||ft.x||0,y0:ft.y0||ft.y||0,y1:ft.y1||ft.y||0,xLabel:ft.xLabel,yLabel:ft.yLabel,zLabel:ft.zLabel,text:ft.text,name:ft.name,idealAlign:ft.idealAlign,borderColor:ft.borderColor,fontFamily:ft.fontFamily,fontSize:ft.fontSize,fontColor:ft.fontColor,nameLength:ft.nameLength,textAlign:ft.textAlign,trace:ft.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ft.hovertemplate||!1,hovertemplateLabels:ft.hovertemplateLabels||!1,eventData:Nt}}),Ze=!1,Xe=we(Qe,{gd:Se,hovermode:"closest",rotateLabels:Ze,bgColor:fe.bgColor||M.background,container:g.select(fe.container),outerContainer:fe.outerContainer||fe.container}),ct=Xe.hoverLabels,pt=5,Ye=0,je=0;ct.sort(function(ft,tt){return ft.y0-tt.y0}).each(function(ft,tt){var wt=ft.y0-ft.by/2;wt-pt<Ye?ft.offset=Ye-wt+pt:ft.offset=0,Ye=wt+ft.by+ft.offset,tt===fe.anchorIndex&&(je=ft.offset)}).each(function(ft){ft.offset-=je});var et=Se._fullLayout._invScaleX,yt=Se._fullLayout._invScaleY;return Y(ct,Ze,et,yt),oe?ct:ct.node()};function de(te,se,fe,oe,Se){fe||(fe="xy");var ce=Array.isArray(fe)?fe:[fe],ke=te._fullLayout,Qe=ke._plots||[],Ze=Qe[fe],Xe=ke._has("cartesian");if(Ze){var ct=Ze.overlays.map(function(ar){return ar.id});ce=ce.concat(ct)}for(var pt=ce.length,Ye=new Array(pt),je=new Array(pt),et=!1,yt=0;yt<pt;yt++){var ft=ce[yt];if(Qe[ft])et=!0,Ye[yt]=Qe[ft].xaxis,je[yt]=Qe[ft].yaxis;else if(ke[ft]&&ke[ft]._subplot){var tt=ke[ft]._subplot;Ye[yt]=tt.xaxis,je[yt]=tt.yaxis}else{b.warn("Unrecognized subplot: "+ft);return}}var wt=se.hovermode||ke.hovermode;if(wt&&!et&&(wt="closest"),["x","y","closest","x unified","y unified"].indexOf(wt)===-1||!te.calcdata||te.querySelector(".zoombox")||te._dragging)return I.unhoverRaw(te,se);var Xt=ke.hoverdistance;Xt===-1&&(Xt=1/0);var Gt=ke.spikedistance;Gt===-1&&(Gt=1/0);var Nt=[],Bt=[],vn,En,ln,Yn,an,wn,Xn,Un,Sn,lt,ut,xt,gt,Dt={hLinePoint:null,vLinePoint:null},He=!1;if(Array.isArray(se))for(wt="array",ln=0;ln<se.length;ln++)an=te.calcdata[se[ln].curveNumber||0],an&&(wn=an[0].trace,an[0].trace.hoverinfo!=="skip"&&(Bt.push(an),wn.orientation==="h"&&(He=!0)));else{for(Yn=0;Yn<te.calcdata.length;Yn++)an=te.calcdata[Yn],wn=an[0].trace,wn.hoverinfo!=="skip"&&Q.isTraceInSubplots(wn,ce)&&(Bt.push(an),wn.orientation==="h"&&(He=!0));var it=!Se,dt,mt;if(it)"xpx"in se?dt=se.xpx:dt=Ye[0]._length/2,"ypx"in se?mt=se.ypx:mt=je[0]._length/2;else{if(k.triggerHandler(te,"plotly_beforehover",se)===!1)return;var Ct=Se.getBoundingClientRect();dt=se.clientX-Ct.left,mt=se.clientY-Ct.top,ke._calcInverseTransform(te);var Pt=b.apply3DTransform(ke._invTransform)(dt,mt);if(dt=Pt[0],mt=Pt[1],dt<0||dt>Ye[0]._length||mt<0||mt>je[0]._length)return I.unhoverRaw(te,se)}if(se.pointerX=dt+Ye[0]._offset,se.pointerY=mt+je[0]._offset,"xval"in se?vn=Q.flat(ce,se.xval):vn=Q.p2c(Ye,dt),"yval"in se?En=Q.flat(ce,se.yval):En=Q.p2c(je,mt),!v(vn[0])||!v(En[0]))return b.warn("Fx.hover failed",se,te),I.unhoverRaw(te,se)}var dn=1/0;function rn(ar,ur){for(Yn=0;Yn<Bt.length;Yn++)if(an=Bt[Yn],!(!an||!an[0]||!an[0].trace)&&(wn=an[0].trace,!(wn.visible!==!0||wn._length===0)&&["carpet","contourcarpet"].indexOf(wn._module.name)===-1)){if(wn.type==="splom"?(Un=0,Xn=ce[Un]):(Xn=Q.getSubplot(wn),Un=ce.indexOf(Xn)),Sn=wt,Q.isUnifiedHover(Sn)&&(Sn=Sn.charAt(0)),xt={cd:an,trace:wn,xa:Ye[Un],ya:je[Un],maxHoverDistance:Xt,maxSpikeDistance:Gt,index:!1,distance:Math.min(dn,Xt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:M.defaultLine,name:wn.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ke[Xn]&&(xt.subplot=ke[Xn]._subplot),ke._splomScenes&&ke._splomScenes[wn.uid]&&(xt.scene=ke._splomScenes[wn.uid]),gt=Nt.length,Sn==="array"){var qr=se[Yn];"pointNumber"in qr?(xt.index=qr.pointNumber,Sn="closest"):(Sn="","xval"in qr&&(lt=qr.xval,Sn="x"),"yval"in qr&&(ut=qr.yval,Sn=Sn?"closest":"y"))}else ar!==void 0&&ur!==void 0?(lt=ar,ut=ur):(lt=vn[Un],ut=En[Un]);if(Xt!==0)if(wn._module&&wn._module.hoverPoints){var to=wn._module.hoverPoints(xt,lt,ut,Sn,{finiteRange:!0,hoverLayer:ke._hoverlayer});if(to)for(var Ao,_s=0;_s<to.length;_s++)Ao=to[_s],v(Ao.x0)&&v(Ao.y0)&&Nt.push(ve(Ao,wt))}else b.log("Unrecognized trace type in hover:",wn);if(wt==="closest"&&Nt.length>gt&&(Nt.splice(0,gt),dn=Nt[0].distance),Xe&&Gt!==0&&Nt.length===0){xt.distance=Gt,xt.index=!1;var wo=wn._module.hoverPoints(xt,lt,ut,"closest",{hoverLayer:ke._hoverlayer});if(wo&&(wo=wo.filter(function(Xa){return Xa.spikeDistance<=Gt})),wo&&wo.length){var Ko,hs=wo.filter(function(Xa){return Xa.xa.showspikes&&Xa.xa.spikesnap!=="hovered data"});if(hs.length){var qs=hs[0];v(qs.x0)&&v(qs.y0)&&(Ko=Rt(qs),(!Dt.vLinePoint||Dt.vLinePoint.spikeDistance>Ko.spikeDistance)&&(Dt.vLinePoint=Ko))}var ns=wo.filter(function(Xa){return Xa.ya.showspikes&&Xa.ya.spikesnap!=="hovered data"});if(ns.length){var Xs=ns[0];v(Xs.x0)&&v(Xs.y0)&&(Ko=Rt(Xs),(!Dt.hLinePoint||Dt.hLinePoint.spikeDistance>Ko.spikeDistance)&&(Dt.hLinePoint=Ko))}}}}}rn();function Wt(ar,ur,qr){for(var to=null,Ao=1/0,_s,wo=0;wo<ar.length;wo++)_s=ar[wo].spikeDistance,qr&&wo===0&&(_s=-1/0),_s<=Ao&&_s<=ur&&(to=ar[wo],Ao=_s);return to}function Rt(ar){return ar?{xa:ar.xa,ya:ar.ya,x:ar.xSpike!==void 0?ar.xSpike:(ar.x0+ar.x1)/2,y:ar.ySpike!==void 0?ar.ySpike:(ar.y0+ar.y1)/2,distance:ar.distance,spikeDistance:ar.spikeDistance,curveNumber:ar.trace.index,color:ar.color,pointNumber:ar.index}:null}var fn={fullLayout:ke,container:ke._hoverlayer,event:se},Hn=te._spikepoints,nr={vLinePoint:Dt.vLinePoint,hLinePoint:Dt.hLinePoint};te._spikepoints=nr;var Er=function(){Nt.sort(function(ar,ur){return ar.distance-ur.distance}),Nt=Ve(Nt,wt)};Er();var zt=wt.charAt(0),vr=(zt==="x"||zt==="y")&&Nt[0]&&q[Nt[0].trace.type];if(Xe&&Gt!==0&&Nt.length!==0){var Wn=Nt.filter(function(ar){return ar.ya.showspikes}),Br=Wt(Wn,Gt,vr);Dt.hLinePoint=Rt(Br);var kr=Nt.filter(function(ar){return ar.xa.showspikes}),or=Wt(kr,Gt,vr);Dt.vLinePoint=Rt(or)}if(Nt.length===0){var jr=I.unhoverRaw(te,se);return Xe&&(Dt.hLinePoint!==null||Dt.vLinePoint!==null)&&Te(Hn)&&Oe(te,Dt,fn),jr}if(Xe&&Te(Hn)&&Oe(te,Dt,fn),Q.isXYhover(Sn)&&Nt[0].length!==0&&Nt[0].trace.type!=="splom"){var _r=Nt[0];ae[_r.trace.type]?Nt=Nt.filter(function(ar){return ar.trace.index===_r.trace.index}):Nt=[_r];var Rn=Nt.length,Sr=_e("x",_r,ke),sr=_e("y",_r,ke);rn(Sr,sr);var wr=[],ao={},xo=0,Cr=function(ar){var ur=ae[ar.trace.type]?ee(ar):ar.trace.index;if(!ao[ur])xo++,ao[ur]=xo,wr.push(ar);else{var qr=ao[ur]-1,to=wr[qr];qr>0&&Math.abs(ar.distance)<Math.abs(to.distance)&&(wr[qr]=ar)}},Fe;for(Fe=0;Fe<Rn;Fe++)Cr(Nt[Fe]);for(Fe=Nt.length-1;Fe>Rn-1;Fe--)Cr(Nt[Fe]);Nt=wr,Er()}var Ee=te._hoverdata,St=[],Tt=Ie(te),Lt=re(te);for(ln=0;ln<Nt.length;ln++){var Ft=Nt[ln],Ht=Q.makeEventData(Ft,Ft.trace,Ft.cd);if(Ft.hovertemplate!==!1){var $t=!1;Ft.cd[Ft.index]&&Ft.cd[Ft.index].ht&&($t=Ft.cd[Ft.index].ht),Ft.hovertemplate=$t||Ft.trace.hovertemplate||!1}if(Ft.xa&&Ft.ya){var Mt=Ft.x0+Ft.xa._offset,tn=Ft.x1+Ft.xa._offset,un=Ft.y0+Ft.ya._offset,en=Ft.y1+Ft.ya._offset,on=Math.min(Mt,tn),Cn=Math.max(Mt,tn),On=Math.min(un,en),pn=Math.max(un,en);Ht.bbox={x0:on+Lt,x1:Cn+Lt,y0:On+Tt,y1:pn+Tt}}Ft.eventData=[Ht],St.push(Ht)}te._hoverdata=St;var Jn=wt==="y"&&(Bt.length>1||Nt.length>1)||wt==="closest"&&He&&Nt.length>1,Fn=M.combine(ke.plot_bgcolor||M.background,ke.paper_bgcolor),Zr=we(Nt,{gd:te,hovermode:wt,rotateLabels:Jn,bgColor:Fn,container:ke._hoverlayer,outerContainer:ke._paper.node(),commonLabelOpts:ke.hoverlabel,hoverdistance:ke.hoverdistance}),dr=Zr.hoverLabels;if(Q.isUnifiedHover(wt)||(pe(dr,Jn,ke,Zr.commonLabelBoundingBox),Y(dr,Jn,ke._invScaleX,ke._invScaleY)),Se&&Se.tagName){var Ur=N.getComponentMethod("annotations","hasClickToShow")(te,St);C(g.select(Se),Ur?"pointer":"")}!Se||oe||!Le(te,se,Ee)||(Ee&&te.emit("plotly_unhover",{event:se,points:Ee}),te.emit("plotly_hover",{event:se,points:te._hoverdata,xaxes:Ye,yaxes:je,xvals:vn,yvals:En}))}function ee(te){return[te.trace.index,te.index,te.x0,te.y0,te.name,te.attr,te.xa?te.xa._id:"",te.ya?te.ya._id:""].join(",")}var xe=/<extra>([\s\S]*)<\/extra>/;function we(te,se){var fe=se.gd,oe=fe._fullLayout,Se=se.hovermode,ce=se.rotateLabels,ke=se.bgColor,Qe=se.container,Ze=se.outerContainer,Xe=se.commonLabelOpts||{};if(te.length===0)return[[]];var ct=se.fontFamily||z.HOVERFONT,pt=se.fontSize||z.HOVERFONTSIZE,Ye=te[0],je=Ye.xa,et=Ye.ya,yt=Se.charAt(0),ft=yt+"Label",tt=Ye[ft];if(tt===void 0&&je.type==="multicategory")for(var wt=0;wt<te.length&&(tt=te[wt][ft],tt===void 0);wt++);var Xt=be(fe,Ze),Gt=Xt.top,Nt=Xt.width,Bt=Xt.height,vn=tt!==void 0&&Ye.distance<=se.hoverdistance&&(Se==="x"||Se==="y");if(vn){var En=!0,ln,Yn;for(ln=0;ln<te.length;ln++)if(En&&te[ln].zLabel===void 0&&(En=!1),Yn=te[ln].hoverinfo||te[ln].trace.hoverinfo,Yn){var an=Array.isArray(Yn)?Yn:Yn.split("+");if(an.indexOf("all")===-1&&an.indexOf(Se)===-1){vn=!1;break}}En&&(vn=!1)}var wn=Qe.selectAll("g.axistext").data(vn?[0]:[]);wn.enter().append("g").classed("axistext",!0),wn.exit().remove();var Xn={minX:0,maxX:0,minY:0,maxY:0};if(wn.each(function(){var Rn=g.select(this),Sr=b.ensureSingle(Rn,"path","",function(On){On.style({"stroke-width":"1px"})}),sr=b.ensureSingle(Rn,"text","",function(On){On.attr("data-notex",1)}),wr=Xe.bgcolor||M.defaultLine,ao=Xe.bordercolor||M.contrast(wr),xo=M.contrast(wr),Cr={family:Xe.font.family||ct,size:Xe.font.size||pt,color:Xe.font.color||xo};Sr.style({fill:wr,stroke:ao}),sr.text(tt).call(_.font,Cr).call(w.positionText,0,0).call(w.convertToTspans,fe),Rn.attr("transform","");var Fe=be(fe,sr.node()),Ee,St;if(Se==="x"){var Tt=je.side==="top"?"-":"";sr.attr("text-anchor","middle").call(w.positionText,0,je.side==="top"?Gt-Fe.bottom-L-me:Gt-Fe.top+L+me),Ee=je._offset+(Ye.x0+Ye.x1)/2,St=et._offset+(je.side==="top"?0:et._length);var Lt=Fe.width/2+me;Ee<Lt?(Ee=Lt,Sr.attr("d","M-"+(Lt-L)+",0L-"+(Lt-L*2)+","+Tt+L+"H"+Lt+"v"+Tt+(me*2+Fe.height)+"H-"+Lt+"V"+Tt+L+"Z")):Ee>oe.width-Lt?(Ee=oe.width-Lt,Sr.attr("d","M"+(Lt-L)+",0L"+Lt+","+Tt+L+"v"+Tt+(me*2+Fe.height)+"H-"+Lt+"V"+Tt+L+"H"+(Lt-L*2)+"Z")):Sr.attr("d","M0,0L"+L+","+Tt+L+"H"+Lt+"v"+Tt+(me*2+Fe.height)+"H-"+Lt+"V"+Tt+L+"H-"+L+"Z"),Xn.minX=Ee-Lt,Xn.maxX=Ee+Lt,je.side==="top"?(Xn.minY=St-(me*2+Fe.height),Xn.maxY=St-me):(Xn.minY=St+me,Xn.maxY=St+(me*2+Fe.height))}else{var Ft,Ht,$t;et.side==="right"?(Ft="start",Ht=1,$t="",Ee=je._offset+je._length):(Ft="end",Ht=-1,$t="-",Ee=je._offset),St=et._offset+(Ye.y0+Ye.y1)/2,sr.attr("text-anchor",Ft),Sr.attr("d","M0,0L"+$t+L+","+L+"V"+(me+Fe.height/2)+"h"+$t+(me*2+Fe.width)+"V-"+(me+Fe.height/2)+"H"+$t+L+"V-"+L+"Z"),Xn.minY=St-(me+Fe.height/2),Xn.maxY=St+(me+Fe.height/2),et.side==="right"?(Xn.minX=Ee+L,Xn.maxX=Ee+L+(me*2+Fe.width)):(Xn.minX=Ee-L-(me*2+Fe.width),Xn.maxX=Ee-L);var Mt=Fe.height/2,tn=Gt-Fe.top-Mt,un="clip"+oe._uid+"commonlabel"+et._id,en;if(Ee<Fe.width+2*me+L){en="M-"+(L+me)+"-"+Mt+"h-"+(Fe.width-me)+"V"+Mt+"h"+(Fe.width-me)+"Z";var on=Fe.width-Ee+me;w.positionText(sr,on,tn),Ft==="end"&&sr.selectAll("tspan").each(function(){var On=g.select(this),pn=_.tester.append("text").text(On.text()).call(_.font,Cr),Jn=be(fe,pn.node());Math.round(Jn.width)<Math.round(Fe.width)&&On.attr("x",on-Jn.width),pn.remove()})}else w.positionText(sr,Ht*(me+L),tn),en=null;var Cn=oe._topclips.selectAll("#"+un).data(en?[0]:[]);Cn.enter().append("clipPath").attr("id",un).append("path"),Cn.exit().remove(),Cn.select("path").attr("d",en),_.setClipUrl(sr,en?un:null,fe)}Rn.attr("transform",O(Ee,St))}),Q.isUnifiedHover(Se)){Qe.selectAll("g.hovertext").remove();var Un=te.filter(function(Rn){return Rn.hoverinfo!=="none"});if(Un.length===0)return[];var Sn=oe.hoverlabel,lt=Sn.font,ut={showlegend:!0,legend:{title:{text:tt,font:lt},font:lt,bgcolor:Sn.bgcolor,bordercolor:Sn.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:oe.legend?oe.legend.traceorder:void 0,orientation:"v"}},xt={font:lt};U(ut,xt,fe._fullData);var gt=xt.legend;gt.entries=[];for(var Dt=0;Dt<Un.length;Dt++){var He=Un[Dt];if(He.hoverinfo!=="none"){var it=Be(He,!0,Se,oe,tt),dt=it[0],mt=it[1];He.name=mt,mt!==""?He.text=mt+" : "+dt:He.text=dt;var Ct=He.cd[He.index];Ct&&(Ct.mc&&(He.mc=Ct.mc),Ct.mcc&&(He.mc=Ct.mcc),Ct.mlc&&(He.mlc=Ct.mlc),Ct.mlcc&&(He.mlc=Ct.mlcc),Ct.mlw&&(He.mlw=Ct.mlw),Ct.mrc&&(He.mrc=Ct.mrc),Ct.dir&&(He.dir=Ct.dir)),He._distinct=!0,gt.entries.push([He])}}gt.entries.sort(function(Rn,Sr){return Rn[0].trace.index-Sr[0].trace.index}),gt.layer=Qe,gt._inHover=!0,gt._groupTitleFont=Sn.grouptitlefont,F(fe,gt);var Pt=Qe.select("g.legend"),dn=be(fe,Pt.node()),rn=dn.width+2*me,Wt=dn.height+2*me,Rt=Un[0],fn=(Rt.x0+Rt.x1)/2,Hn=(Rt.y0+Rt.y1)/2,nr=!(N.traceIs(Rt.trace,"bar-like")||N.traceIs(Rt.trace,"box-violin")),Er,zt;yt==="y"?nr?(zt=Hn-me,Er=Hn+me):(zt=Math.min.apply(null,Un.map(function(Rn){return Math.min(Rn.y0,Rn.y1)})),Er=Math.max.apply(null,Un.map(function(Rn){return Math.max(Rn.y0,Rn.y1)}))):zt=Er=b.mean(Un.map(function(Rn){return(Rn.y0+Rn.y1)/2}))-Wt/2;var vr,Wn;yt==="x"?nr?(vr=fn+me,Wn=fn-me):(vr=Math.max.apply(null,Un.map(function(Rn){return Math.max(Rn.x0,Rn.x1)})),Wn=Math.min.apply(null,Un.map(function(Rn){return Math.min(Rn.x0,Rn.x1)}))):vr=Wn=b.mean(Un.map(function(Rn){return(Rn.x0+Rn.x1)/2}))-rn/2;var Br=je._offset,kr=et._offset;Er+=kr,vr+=Br,Wn+=Br-rn,zt+=kr-Wt;var or,jr;return vr+rn<Nt&&vr>=0?or=vr:Wn+rn<Nt&&Wn>=0?or=Wn:Br+rn<Nt?or=Br:vr-fn<fn-Wn+rn?or=Nt-rn:or=0,or+=me,Er+Wt<Bt&&Er>=0?jr=Er:zt+Wt<Bt&&zt>=0?jr=zt:kr+Wt<Bt?jr=kr:Er-Hn<Hn-zt+Wt?jr=Bt-Wt:jr=0,jr+=me,Pt.attr("transform",O(or-1,jr-1)),Pt}var _r=Qe.selectAll("g.hovertext").data(te,function(Rn){return ee(Rn)});return _r.enter().append("g").classed("hovertext",!0).each(function(){var Rn=g.select(this);Rn.append("rect").call(M.fill,M.addOpacity(ke,.8)),Rn.append("text").classed("name",!0),Rn.append("path").style("stroke-width","1px"),Rn.append("text").classed("nums",!0).call(_.font,ct,pt)}),_r.exit().remove(),_r.each(function(Rn){var Sr=g.select(this).attr("transform",""),sr=Rn.color;Array.isArray(sr)&&(sr=sr[Rn.eventData[0].pointNumber]);var wr=Rn.bgcolor||sr,ao=M.combine(M.opacity(wr)?wr:M.defaultLine,ke),xo=M.combine(M.opacity(sr)?sr:M.defaultLine,ke),Cr=Rn.borderColor||M.contrast(ao),Fe=Be(Rn,vn,Se,oe,tt,Sr),Ee=Fe[0],St=Fe[1],Tt=Sr.select("text.nums").call(_.font,Rn.fontFamily||ct,Rn.fontSize||pt,Rn.fontColor||Cr).text(Ee).attr("data-notex",1).call(w.positionText,0,0).call(w.convertToTspans,fe),Lt=Sr.select("text.name"),Ft=0,Ht=0;if(St&&St!==Ee){Lt.call(_.font,Rn.fontFamily||ct,Rn.fontSize||pt,xo).text(St).attr("data-notex",1).call(w.positionText,0,0).call(w.convertToTspans,fe);var $t=be(fe,Lt.node());Ft=$t.width+2*me,Ht=$t.height+2*me}else Lt.remove(),Sr.select("rect").remove();Sr.select("path").style({fill:ao,stroke:Cr});var Mt=Rn.xa._offset+(Rn.x0+Rn.x1)/2,tn=Rn.ya._offset+(Rn.y0+Rn.y1)/2,un=Math.abs(Rn.x1-Rn.x0),en=Math.abs(Rn.y1-Rn.y0),on=be(fe,Tt.node()),Cn=on.width/oe._invScaleX,On=on.height/oe._invScaleY;Rn.ty0=(Gt-on.top)/oe._invScaleY,Rn.bx=Cn+2*me,Rn.by=Math.max(On+2*me,Ht),Rn.anchor="start",Rn.txwidth=Cn,Rn.tx2width=Ft,Rn.offset=0;var pn=(Cn+L+me+Ft)*oe._invScaleX,Jn,Fn;if(ce)Rn.pos=Mt,Jn=tn+en/2+pn<=Bt,Fn=tn-en/2-pn>=0,(Rn.idealAlign==="top"||!Jn)&&Fn?(tn-=en/2,Rn.anchor="end"):Jn?(tn+=en/2,Rn.anchor="start"):Rn.anchor="middle",Rn.crossPos=tn;else{if(Rn.pos=tn,Jn=Mt+un/2+pn<=Nt,Fn=Mt-un/2-pn>=0,(Rn.idealAlign==="left"||!Jn)&&Fn)Mt-=un/2,Rn.anchor="end";else if(Jn)Mt+=un/2,Rn.anchor="start";else{Rn.anchor="middle";var Zr=pn/2,dr=Mt+Zr-Nt,Ur=Mt-Zr;dr>0&&(Mt-=dr),Ur<0&&(Mt+=-Ur)}Rn.crossPos=Mt}Tt.attr("text-anchor",Rn.anchor),Ft&&Lt.attr("text-anchor",Rn.anchor),Sr.attr("transform",O(Mt,tn)+(ce?T(B):""))}),{hoverLabels:_r,commonLabelBoundingBox:Xn}}function Be(te,se,fe,oe,Se,ce){var ke="",Qe="";te.nameOverride!==void 0&&(te.name=te.nameOverride),te.name&&(te.trace._meta&&(te.name=b.templateString(te.name,te.trace._meta)),ke=De(te.name,te.nameLength));var Ze=fe.charAt(0),Xe=Ze==="x"?"y":"x";te.zLabel!==void 0?(te.xLabel!==void 0&&(Qe+="x: "+te.xLabel+"<br>"),te.yLabel!==void 0&&(Qe+="y: "+te.yLabel+"<br>"),te.trace.type!=="choropleth"&&te.trace.type!=="choroplethmapbox"&&(Qe+=(Qe?"z: ":"")+te.zLabel)):se&&te[Ze+"Label"]===Se?Qe=te[Xe+"Label"]||"":te.xLabel===void 0?te.yLabel!==void 0&&te.trace.type!=="scattercarpet"&&(Qe=te.yLabel):te.yLabel===void 0?Qe=te.xLabel:Qe="("+te.xLabel+", "+te.yLabel+")",(te.text||te.text===0)&&!Array.isArray(te.text)&&(Qe+=(Qe?"<br>":"")+te.text),te.extraText!==void 0&&(Qe+=(Qe?"<br>":"")+te.extraText),ce&&Qe===""&&!te.hovertemplate&&(ke===""&&ce.remove(),Qe=ke);var ct=te.hovertemplate||!1;if(ct){var pt=te.hovertemplateLabels||te;te[Ze+"Label"]!==Se&&(pt[Ze+"other"]=pt[Ze+"Val"],pt[Ze+"otherLabel"]=pt[Ze+"Label"]),Qe=b.hovertemplateString(ct,pt,oe._d3locale,te.eventData[0]||{},te.trace._meta),Qe=Qe.replace(xe,function(Ye,je){return ke=De(je,te.nameLength),""})}return[Qe,ke]}function pe(te,se,fe,oe){var Se=se?"xa":"ya",ce=se?"ya":"xa",ke=0,Qe=1,Ze=te.size(),Xe=new Array(Ze),ct=0,pt=oe.minX,Ye=oe.maxX,je=oe.minY,et=oe.maxY,yt=function(lt){return lt*fe._invScaleX},ft=function(lt){return lt*fe._invScaleY};te.each(function(lt){var ut=lt[Se],xt=lt[ce],gt=ut._id.charAt(0)==="x",Dt=ut.range;ct===0&&Dt&&Dt[0]>Dt[1]!==gt&&(Qe=-1);var He=0,it=gt?fe.width:fe.height;if(fe.hovermode==="x"||fe.hovermode==="y"){var dt=ne(lt,se),mt=lt.anchor,Ct=mt==="end"?-1:1,Pt,dn;if(mt==="middle")Pt=lt.crossPos+(gt?ft(dt.y-lt.by/2):yt(lt.bx/2+lt.tx2width/2)),dn=Pt+(gt?ft(lt.by):yt(lt.bx));else if(gt)Pt=lt.crossPos+ft(L+dt.y)-ft(lt.by/2-L),dn=Pt+ft(lt.by);else{var rn=yt(Ct*L+dt.x),Wt=rn+yt(Ct*lt.bx);Pt=lt.crossPos+Math.min(rn,Wt),dn=lt.crossPos+Math.max(rn,Wt)}gt?je!==void 0&&et!==void 0&&Math.min(dn,et)-Math.max(Pt,je)>1&&(xt.side==="left"?(He=xt._mainLinePosition,it=fe.width):it=xt._mainLinePosition):pt!==void 0&&Ye!==void 0&&Math.min(dn,Ye)-Math.max(Pt,pt)>1&&(xt.side==="top"?(He=xt._mainLinePosition,it=fe.height):it=xt._mainLinePosition)}Xe[ct++]=[{datum:lt,traceIndex:lt.trace.index,dp:0,pos:lt.pos,posref:lt.posref,size:lt.by*(gt?W:1)/2,pmin:He,pmax:it}]}),Xe.sort(function(lt,ut){return lt[0].posref-ut[0].posref||Qe*(ut[0].traceIndex-lt[0].traceIndex)});var tt,wt,Xt,Gt,Nt,Bt,vn;function En(lt){var ut=lt[0],xt=lt[lt.length-1];if(wt=ut.pmin-ut.pos-ut.dp+ut.size,Xt=xt.pos+xt.dp+xt.size-ut.pmax,wt>.01){for(Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp+=wt;tt=!1}if(!(Xt<.01)){if(wt<-.01){for(Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp-=Xt;tt=!1}if(tt){var gt=0;for(Gt=0;Gt<lt.length;Gt++)Bt=lt[Gt],Bt.pos+Bt.dp+Bt.size>ut.pmax&&gt++;for(Gt=lt.length-1;Gt>=0&&!(gt<=0);Gt--)Bt=lt[Gt],Bt.pos>ut.pmax-1&&(Bt.del=!0,gt--);for(Gt=0;Gt<lt.length&&!(gt<=0);Gt++)if(Bt=lt[Gt],Bt.pos<ut.pmin+1)for(Bt.del=!0,gt--,Xt=Bt.size*2,Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp-=Xt;for(Gt=lt.length-1;Gt>=0&&!(gt<=0);Gt--)Bt=lt[Gt],Bt.pos+Bt.dp+Bt.size>ut.pmax&&(Bt.del=!0,gt--)}}}for(;!tt&&ke<=Ze;){for(ke++,tt=!0,Gt=0;Gt<Xe.length-1;){var ln=Xe[Gt],Yn=Xe[Gt+1],an=ln[ln.length-1],wn=Yn[0];if(wt=an.pos+an.dp+an.size-wn.pos-wn.dp+wn.size,wt>.01&&an.pmin===wn.pmin&&an.pmax===wn.pmax){for(Nt=Yn.length-1;Nt>=0;Nt--)Yn[Nt].dp+=wt;for(ln.push.apply(ln,Yn),Xe.splice(Gt+1,1),vn=0,Nt=ln.length-1;Nt>=0;Nt--)vn+=ln[Nt].dp;for(Xt=vn/ln.length,Nt=ln.length-1;Nt>=0;Nt--)ln[Nt].dp-=Xt;tt=!1}else Gt++}Xe.forEach(En)}for(Gt=Xe.length-1;Gt>=0;Gt--){var Xn=Xe[Gt];for(Nt=Xn.length-1;Nt>=0;Nt--){var Un=Xn[Nt],Sn=Un.datum;Sn.offset=Un.dp,Sn.del=Un.del}}}function ne(te,se){var fe=0,oe=te.offset;return se&&(oe*=-ie,fe=te.offset*X),{x:fe,y:oe}}function le(te){var se={start:1,end:-1,middle:0}[te.anchor],fe=se*(L+me),oe=fe+se*(te.txwidth+me),Se=te.anchor==="middle";return Se&&(fe-=te.tx2width/2,oe+=te.txwidth/2+me),{alignShift:se,textShiftX:fe,text2ShiftX:oe}}function Y(te,se,fe,oe){var Se=function(ke){return ke*fe},ce=function(ke){return ke*oe};te.each(function(ke){var Qe=g.select(this);if(ke.del)return Qe.remove();var Ze=Qe.select("text.nums"),Xe=ke.anchor,ct=Xe==="end"?-1:1,pt=le(ke),Ye=ne(ke,se),je=Ye.x,et=Ye.y,yt=Xe==="middle";Qe.select("path").attr("d",yt?"M-"+Se(ke.bx/2+ke.tx2width/2)+","+ce(et-ke.by/2)+"h"+Se(ke.bx)+"v"+ce(ke.by)+"h-"+Se(ke.bx)+"Z":"M0,0L"+Se(ct*L+je)+","+ce(L+et)+"v"+ce(ke.by/2-L)+"h"+Se(ct*ke.bx)+"v-"+ce(ke.by)+"H"+Se(ct*L+je)+"V"+ce(et-L)+"Z");var ft=je+pt.textShiftX,tt=et+ke.ty0-ke.by/2+me,wt=ke.textAlign||"auto";wt!=="auto"&&(wt==="left"&&Xe!=="start"?(Ze.attr("text-anchor","start"),ft=yt?-ke.bx/2-ke.tx2width/2+me:-ke.bx-me):wt==="right"&&Xe!=="end"&&(Ze.attr("text-anchor","end"),ft=yt?ke.bx/2-ke.tx2width/2-me:ke.bx+me)),Ze.call(w.positionText,Se(ft),ce(tt)),ke.tx2width&&(Qe.select("text.name").call(w.positionText,Se(pt.text2ShiftX+pt.alignShift*me+je),ce(et+ke.ty0-ke.by/2+me)),Qe.select("rect").call(_.setRect,Se(pt.text2ShiftX+(pt.alignShift-1)*ke.tx2width/2+je),ce(et-ke.by/2-1),Se(ke.tx2width),ce(ke.by+2)))})}function ve(te,se){var fe=te.index,oe=te.trace||{},Se=te.cd[0],ce=te.cd[fe]||{};function ke(Ye){return Ye||v(Ye)&&Ye===0}var Qe=Array.isArray(fe)?function(Ye,je){var et=b.castOption(Se,fe,Ye);return ke(et)?et:b.extractOption({},oe,"",je)}:function(Ye,je){return b.extractOption(ce,oe,Ye,je)};function Ze(Ye,je,et){var yt=Qe(je,et);ke(yt)&&(te[Ye]=yt)}if(Ze("hoverinfo","hi","hoverinfo"),Ze("bgcolor","hbg","hoverlabel.bgcolor"),Ze("borderColor","hbc","hoverlabel.bordercolor"),Ze("fontFamily","htf","hoverlabel.font.family"),Ze("fontSize","hts","hoverlabel.font.size"),Ze("fontColor","htc","hoverlabel.font.color"),Ze("nameLength","hnl","hoverlabel.namelength"),Ze("textAlign","hta","hoverlabel.align"),te.posref=se==="y"||se==="closest"&&oe.orientation==="h"?te.xa._offset+(te.x0+te.x1)/2:te.ya._offset+(te.y0+te.y1)/2,te.x0=b.constrain(te.x0,0,te.xa._length),te.x1=b.constrain(te.x1,0,te.xa._length),te.y0=b.constrain(te.y0,0,te.ya._length),te.y1=b.constrain(te.y1,0,te.ya._length),te.xLabelVal!==void 0&&(te.xLabel="xLabel"in te?te.xLabel:V.hoverLabelText(te.xa,te.xLabelVal,oe.xhoverformat),te.xVal=te.xa.c2d(te.xLabelVal)),te.yLabelVal!==void 0&&(te.yLabel="yLabel"in te?te.yLabel:V.hoverLabelText(te.ya,te.yLabelVal,oe.yhoverformat),te.yVal=te.ya.c2d(te.yLabelVal)),te.zLabelVal!==void 0&&te.zLabel===void 0&&(te.zLabel=String(te.zLabelVal)),!isNaN(te.xerr)&&!(te.xa.type==="log"&&te.xerr<=0)){var Xe=V.tickText(te.xa,te.xa.c2l(te.xerr),"hover").text;te.xerrneg!==void 0?te.xLabel+=" +"+Xe+" / -"+V.tickText(te.xa,te.xa.c2l(te.xerrneg),"hover").text:te.xLabel+=" ± "+Xe,se==="x"&&(te.distance+=1)}if(!isNaN(te.yerr)&&!(te.ya.type==="log"&&te.yerr<=0)){var ct=V.tickText(te.ya,te.ya.c2l(te.yerr),"hover").text;te.yerrneg!==void 0?te.yLabel+=" +"+ct+" / -"+V.tickText(te.ya,te.ya.c2l(te.yerrneg),"hover").text:te.yLabel+=" ± "+ct,se==="y"&&(te.distance+=1)}var pt=te.hoverinfo||te.trace.hoverinfo;return pt&&pt!=="all"&&(pt=Array.isArray(pt)?pt:pt.split("+"),pt.indexOf("x")===-1&&(te.xLabel=void 0),pt.indexOf("y")===-1&&(te.yLabel=void 0),pt.indexOf("z")===-1&&(te.zLabel=void 0),pt.indexOf("text")===-1&&(te.text=void 0),pt.indexOf("name")===-1&&(te.name=void 0)),te}function Oe(te,se,fe){var oe=fe.container,Se=fe.fullLayout,ce=Se._size,ke=fe.event,Qe=!!se.hLinePoint,Ze=!!se.vLinePoint,Xe,ct;if(oe.selectAll(".spikeline").remove(),!!(Ze||Qe)){var pt=M.combine(Se.plot_bgcolor,Se.paper_bgcolor);if(Qe){var Ye=se.hLinePoint,je,et;Xe=Ye&&Ye.xa,ct=Ye&&Ye.ya;var yt=ct.spikesnap;yt==="cursor"?(je=ke.pointerX,et=ke.pointerY):(je=Xe._offset+Ye.x,et=ct._offset+Ye.y);var ft=y.readability(Ye.color,pt)<1.5?M.contrast(pt):Ye.color,tt=ct.spikemode,wt=ct.spikethickness,Xt=ct.spikecolor||ft,Gt=V.getPxPosition(te,ct),Nt,Bt;if(tt.indexOf("toaxis")!==-1||tt.indexOf("across")!==-1){if(tt.indexOf("toaxis")!==-1&&(Nt=Gt,Bt=je),tt.indexOf("across")!==-1){var vn=ct._counterDomainMin,En=ct._counterDomainMax;ct.anchor==="free"&&(vn=Math.min(vn,ct.position),En=Math.max(En,ct.position)),Nt=ce.l+vn*ce.w,Bt=ce.l+En*ce.w}oe.insert("line",":first-child").attr({x1:Nt,x2:Bt,y1:et,y2:et,"stroke-width":wt,stroke:Xt,"stroke-dasharray":_.dashStyle(ct.spikedash,wt)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:Nt,x2:Bt,y1:et,y2:et,"stroke-width":wt+2,stroke:pt}).classed("spikeline",!0).classed("crisp",!0)}tt.indexOf("marker")!==-1&&oe.insert("circle",":first-child").attr({cx:Gt+(ct.side!=="right"?wt:-wt),cy:et,r:wt,fill:Xt}).classed("spikeline",!0)}if(Ze){var ln=se.vLinePoint,Yn,an;Xe=ln&&ln.xa,ct=ln&&ln.ya;var wn=Xe.spikesnap;wn==="cursor"?(Yn=ke.pointerX,an=ke.pointerY):(Yn=Xe._offset+ln.x,an=ct._offset+ln.y);var Xn=y.readability(ln.color,pt)<1.5?M.contrast(pt):ln.color,Un=Xe.spikemode,Sn=Xe.spikethickness,lt=Xe.spikecolor||Xn,ut=V.getPxPosition(te,Xe),xt,gt;if(Un.indexOf("toaxis")!==-1||Un.indexOf("across")!==-1){if(Un.indexOf("toaxis")!==-1&&(xt=ut,gt=an),Un.indexOf("across")!==-1){var Dt=Xe._counterDomainMin,He=Xe._counterDomainMax;Xe.anchor==="free"&&(Dt=Math.min(Dt,Xe.position),He=Math.max(He,Xe.position)),xt=ce.t+(1-He)*ce.h,gt=ce.t+(1-Dt)*ce.h}oe.insert("line",":first-child").attr({x1:Yn,x2:Yn,y1:xt,y2:gt,"stroke-width":Sn,stroke:lt,"stroke-dasharray":_.dashStyle(Xe.spikedash,Sn)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:Yn,x2:Yn,y1:xt,y2:gt,"stroke-width":Sn+2,stroke:pt}).classed("spikeline",!0).classed("crisp",!0)}Un.indexOf("marker")!==-1&&oe.insert("circle",":first-child").attr({cx:Yn,cy:ut-(Xe.side!=="top"?Sn:-Sn),r:Sn,fill:lt}).classed("spikeline",!0)}}}function Le(te,se,fe){if(!fe||fe.length!==te._hoverdata.length)return!0;for(var oe=fe.length-1;oe>=0;oe--){var Se=fe[oe],ce=te._hoverdata[oe];if(Se.curveNumber!==ce.curveNumber||String(Se.pointNumber)!==String(ce.pointNumber)||String(Se.pointNumbers)!==String(ce.pointNumbers))return!0}return!1}function Te(te,se){return!se||se.vLinePoint!==te._spikepoints.vLinePoint||se.hLinePoint!==te._spikepoints.hLinePoint}function De(te,se){return w.plainText(te||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function Ve(te,se){for(var fe=se.charAt(0),oe=[],Se=[],ce=[],ke=0;ke<te.length;ke++){var Qe=te[ke];N.traceIs(Qe.trace,"bar-like")||N.traceIs(Qe.trace,"box-violin")?ce.push(Qe):Qe.trace[fe+"period"]?Se.push(Qe):oe.push(Qe)}return oe.concat(Se).concat(ce)}function _e(te,se,fe){var oe=se[te+"a"],Se=se[te+"Val"],ce=se.cd[0];if(oe.type==="category"||oe.type==="multicategory")Se=oe._categoriesMap[Se];else if(oe.type==="date"){var ke=se.trace[te+"periodalignment"];if(ke){var Qe=se.cd[se.index],Ze=Qe[te+"Start"];Ze===void 0&&(Ze=Qe[te]);var Xe=Qe[te+"End"];Xe===void 0&&(Xe=Qe[te]);var ct=Xe-Ze;ke==="end"?Se+=ct:ke==="middle"&&(Se+=ct/2)}Se=oe.d2c(Se)}return ce&&ce.t&&ce.t.posLetter===oe._id&&(fe.boxmode==="group"||fe.violinmode==="group")&&(Se+=ce.t.dPos),Se}function Ie(te){return te.offsetTop+te.clientTop}function re(te){return te.offsetLeft+te.clientLeft}function be(te,se){var fe=te._fullLayout,oe=se.getBoundingClientRect(),Se=oe.left,ce=oe.top,ke=Se+oe.width,Qe=ce+oe.height,Ze=b.apply3DTransform(fe._invTransform)(Se,ce),Xe=b.apply3DTransform(fe._invTransform)(ke,Qe),ct=Ze[0],pt=Ze[1],Ye=Xe[0],je=Xe[1];return{x:ct,y:pt,width:Ye-ct,height:je-pt,top:Math.min(pt,je),left:Math.min(ct,Ye),right:Math.max(ct,Ye),bottom:Math.max(pt,je)}}},8048:function(d,h,c){var g=c(1828),v=c(7901),y=c(3469).isUnifiedHover;d.exports=function(O,T,k,w){w=w||{};var C=T.legend;function _(M){w.font[M]||(w.font[M]=C?T.legend.font[M]:T.font[M])}T&&y(T.hovermode)&&(w.font||(w.font={}),_("size"),_("family"),_("color"),C?(w.bgcolor||(w.bgcolor=v.combine(T.legend.bgcolor,T.paper_bgcolor)),w.bordercolor||(w.bordercolor=T.legend.bordercolor)):w.bgcolor||(w.bgcolor=T.paper_bgcolor)),k("hoverlabel.bgcolor",w.bgcolor),k("hoverlabel.bordercolor",w.bordercolor),k("hoverlabel.namelength",w.namelength),g.coerceFont(k,"hoverlabel.font",w.font),k("hoverlabel.align",w.align)}},8212:function(d,h,c){var g=c(1828),v=c(528);d.exports=function(b,O){function T(k,w){return O[k]!==void 0?O[k]:g.coerce(b,O,v,k,w)}return T("clickmode"),T("hovermode")}},211:function(d,h,c){var g=c(9898),v=c(1828),y=c(8569),b=c(3469),O=c(528),T=c(8335);d.exports={moduleType:"component",name:"fx",constants:c(6675),schema:{layout:O},attributes:c(7914),layoutAttributes:O,supplyLayoutGlobalDefaults:c(2774),supplyDefaults:c(4268),supplyLayoutDefaults:c(4938),calc:c(732),getDistanceFunction:b.getDistanceFunction,getClosest:b.getClosest,inbox:b.inbox,quadrature:b.quadrature,appendArrayPointValue:b.appendArrayPointValue,castHoverOption:w,castHoverinfo:C,hover:T.hover,unhover:y.unhover,loneHover:T.loneHover,loneUnhover:k,click:c(5914)};function k(_){var M=v.isD3Selection(_)?_:g.select(_);M.selectAll("g.hovertext").remove(),M.selectAll(".spikeline").remove()}function w(_,M,I){return v.castOption(_,M,"hoverlabel."+I)}function C(_,M,I){function V(N){return v.coerceHoverinfo({hoverinfo:N},{_module:_._module},M)}return v.castOption(_,I,"hoverinfo",V)}},528:function(d,h,c){var g=c(6675),v=c(1940),y=v({editType:"none"});y.family.dflt=g.HOVERFONT,y.size.dflt=g.HOVERFONTSIZE,d.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:y,grouptitlefont:v({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(d,h,c){var g=c(1828),v=c(528),y=c(8212),b=c(8048);d.exports=function(T,k){function w(N,Q){return g.coerce(T,k,v,N,Q)}var C=y(T,k);C&&(w("hoverdistance"),w("spikedistance"));var _=w("dragmode");_==="select"&&w("selectdirection");var M=k._has("mapbox"),I=k._has("geo"),V=k._basePlotModules.length;k.dragmode==="zoom"&&((M||I)&&V===1||M&&I&&V===2)&&(k.dragmode="pan"),b(T,k,w),g.coerceFont(w,"hoverlabel.grouptitlefont",k.hoverlabel.font)}},2774:function(d,h,c){var g=c(1828),v=c(8048),y=c(528);d.exports=function(O,T){function k(w,C){return g.coerce(O,T,y,w,C)}v(O,T,k)}},3312:function(d,h,c){var g=c(1828),v=c(587).counter,y=c(7670).Y,b=c(5555).idRegex,O=c(4467),T={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[v("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:y({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function k(I,V,N){var Q=V[N+"axes"],z=Object.keys((I._splomAxes||{})[N]||{});if(Array.isArray(Q))return Q;if(z.length)return z}function w(I,V){var N=I.grid||{},Q=k(V,N,"x"),z=k(V,N,"y");if(!I.grid&&!Q&&!z)return;var U=Array.isArray(N.subplots)&&Array.isArray(N.subplots[0]),F=Array.isArray(Q),B=Array.isArray(z),E=F&&Q!==N.xaxes&&B&&z!==N.yaxes,W,X;U?(W=N.subplots.length,X=N.subplots[0].length):(B&&(W=z.length),F&&(X=Q.length));var ie=O.newContainer(V,"grid");function L(ne,le){return g.coerce(N,ie,T,ne,le)}var me=L("rows",W),ae=L("columns",X);if(!(me*ae>1)){delete V.grid;return}if(!U&&!F&&!B){var q=L("pattern")==="independent";q&&(U=!0)}ie._hasSubplotGrid=U;var de=L("roworder"),ee=de==="top to bottom",xe=U?.2:.1,we=U?.3:.1,Be,pe;E&&V._splomGridDflt&&(Be=V._splomGridDflt.xside,pe=V._splomGridDflt.yside),ie._domains={x:C("x",L,xe,Be,ae),y:C("y",L,we,pe,me,ee)}}function C(I,V,N,Q,z,U){var F=V(I+"gap",N),B=V("domain."+I);V(I+"side",Q);for(var E=new Array(z),W=B[0],X=(B[1]-W)/(z-F),ie=X*(1-F),L=0;L<z;L++){var me=W+X*L;E[U?z-1-L:L]=[me,me+ie]}return E}function _(I,V){var N=V.grid;if(!(!N||!N._domains)){var Q=I.grid||{},z=V._subplots,U=N._hasSubplotGrid,F=N.rows,B=N.columns,E=N.pattern==="independent",W,X,ie,L,me,ae,q,de=N._axisMap={};if(U){var ee=Q.subplots||[];ae=N.subplots=new Array(F);var xe=1;for(W=0;W<F;W++){var we=ae[W]=new Array(B),Be=ee[W]||[];for(X=0;X<B;X++)if(E?(me=xe===1?"xy":"x"+xe+"y"+xe,xe++):me=Be[X],we[X]="",z.cartesian.indexOf(me)!==-1){if(q=me.indexOf("y"),ie=me.slice(0,q),L=me.slice(q),de[ie]!==void 0&&de[ie]!==X||de[L]!==void 0&&de[L]!==W)continue;we[X]=me,de[ie]=X,de[L]=W}}}else{var pe=k(V,Q,"x"),ne=k(V,Q,"y");N.xaxes=M(pe,z.xaxis,B,de,"x"),N.yaxes=M(ne,z.yaxis,F,de,"y")}var le=N._anchors={},Y=N.roworder==="top to bottom";for(var ve in de){var Oe=ve.charAt(0),Le=N[Oe+"side"],Te,De,Ve;if(Le.length<8)le[ve]="free";else if(Oe==="x"){if(Le.charAt(0)==="t"===Y?(Te=0,De=1,Ve=F):(Te=F-1,De=-1,Ve=-1),U){var _e=de[ve];for(W=Te;W!==Ve;W+=De)if(me=ae[W][_e],!!me&&(q=me.indexOf("y"),me.slice(0,q)===ve)){le[ve]=me.slice(q);break}}else for(W=Te;W!==Ve;W+=De)if(L=N.yaxes[W],z.cartesian.indexOf(ve+L)!==-1){le[ve]=L;break}}else if(Le.charAt(0)==="l"?(Te=0,De=1,Ve=B):(Te=B-1,De=-1,Ve=-1),U){var Ie=de[ve];for(W=Te;W!==Ve;W+=De)if(me=ae[Ie][W],!!me&&(q=me.indexOf("y"),me.slice(q)===ve)){le[ve]=me.slice(0,q);break}}else for(W=Te;W!==Ve;W+=De)if(ie=N.xaxes[W],z.cartesian.indexOf(ie+ve)!==-1){le[ve]=ie;break}}}}function M(I,V,N,Q,z){var U=new Array(N),F;function B(E,W){V.indexOf(W)!==-1&&Q[W]===void 0?(U[E]=W,Q[W]=E):U[E]=""}if(Array.isArray(I))for(F=0;F<N;F++)B(F,I[F]);else for(B(0,z),F=1;F<N;F++)B(F,z+(F+1));return U}d.exports={moduleType:"component",name:"grid",schema:{layout:{grid:T}},layoutAttributes:T,sizeDefaults:w,contentDefaults:_}},9819:function(d,h,c){var g=c(5555),v=c(4467).templatedArray;c(4695),d.exports=v("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(d,h,c){var g=c(2770),v=c(8163);d.exports=function(b,O,T,k){O=O||{};var w=T==="log"&&O.type==="linear",C=T==="linear"&&O.type==="log";if(w||C){for(var _=b._fullLayout.images,M=O._id.charAt(0),I,V,N=0;N<_.length;N++)if(I=_[N],V="images["+N+"].",I[M+"ref"]===O._id){var Q=I[M],z=I["size"+M],U=null,F=null;if(w){U=v(Q,O.range);var B=z/Math.pow(10,U)/2;F=2*Math.log(B+Math.sqrt(1+B*B))/Math.LN10}else U=Math.pow(10,Q),F=U*(Math.pow(10,z/2)-Math.pow(10,-z/2));g(U)?g(F)||(F=null):(U=null,F=null),k(V+M,U),k(V+"size"+M,F)}}}},1603:function(d,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(9819),O="images";d.exports=function(w,C){var _={name:O,handleItemDefaults:T};y(w,C,_)};function T(k,w,C){function _(B,E){return g.coerce(k,w,b,B,E)}var M=_("source"),I=_("visible",!!M);if(!I)return w;_("layer"),_("xanchor"),_("yanchor"),_("sizex"),_("sizey"),_("sizing"),_("opacity");for(var V={_fullLayout:C},N=["x","y"],Q=0;Q<2;Q++){var z=N[Q],U=v.coerceRef(k,w,V,z,"paper",void 0);if(U!=="paper"){var F=v.getFromId(V,U);F._imgIndices.push(w._index)}v.coercePosition(w,V,_,U,z,0)}return w}},750:function(d,h,c){var g=c(9898),v=c(1424),y=c(9298),b=c(1675),O=c(7922);d.exports=function(k){var w=k._fullLayout,C=[],_={},M=[],I,V;for(V=0;V<w.images.length;V++){var N=w.images[V];if(N.visible)if(N.layer==="below"&&N.xref!=="paper"&&N.yref!=="paper"){I=b.ref2id(N.xref)+b.ref2id(N.yref);var Q=w._plots[I];if(!Q){M.push(N);continue}Q.mainplot&&(I=Q.mainplot.id),_[I]||(_[I]=[]),_[I].push(N)}else N.layer==="above"?C.push(N):M.push(N)}var z={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function U(L){var me=g.select(this);if(this._imgSrc!==L.source)if(me.attr("xmlns",O.svg),L.source&&L.source.slice(0,5)==="data:")me.attr("xlink:href",L.source),this._imgSrc=L.source;else{var ae=new Promise((function(q){var de=new Image;this.img=de,de.setAttribute("crossOrigin","anonymous"),de.onerror=ee,de.onload=function(){var xe=document.createElement("canvas");xe.width=this.width,xe.height=this.height;var we=xe.getContext("2d",{willReadFrequently:!0});we.drawImage(this,0,0);var Be=xe.toDataURL("image/png");me.attr("xlink:href",Be),q()},me.on("error",ee),de.src=L.source,this._imgSrc=L.source;function ee(){me.remove(),q()}}).bind(this));k._promises.push(ae)}}function F(L){var me=g.select(this),ae=y.getFromId(k,L.xref),q=y.getFromId(k,L.yref),de=y.getRefType(L.xref)==="domain",ee=y.getRefType(L.yref)==="domain",xe=w._size,we,Be;ae!==void 0?we=typeof L.xref=="string"&&de?ae._length*L.sizex:Math.abs(ae.l2p(L.sizex)-ae.l2p(0)):we=L.sizex*xe.w,q!==void 0?Be=typeof L.yref=="string"&&ee?q._length*L.sizey:Math.abs(q.l2p(L.sizey)-q.l2p(0)):Be=L.sizey*xe.h;var pe=we*z.x[L.xanchor].offset,ne=Be*z.y[L.yanchor].offset,le=z.x[L.xanchor].sizing+z.y[L.yanchor].sizing,Y,ve;switch(ae!==void 0?Y=typeof L.xref=="string"&&de?ae._length*L.x+ae._offset:ae.r2p(L.x)+ae._offset:Y=L.x*xe.w+xe.l,Y+=pe,q!==void 0?ve=typeof L.yref=="string"&&ee?q._length*(1-L.y)+q._offset:q.r2p(L.y)+q._offset:ve=xe.h-L.y*xe.h+xe.t,ve+=ne,L.sizing){case"fill":le+=" slice";break;case"stretch":le="none";break}me.attr({x:Y,y:ve,width:we,height:Be,preserveAspectRatio:le,opacity:L.opacity});var Oe=ae&&y.getRefType(L.xref)!=="domain"?ae._id:"",Le=q&&y.getRefType(L.yref)!=="domain"?q._id:"",Te=Oe+Le;v.setClipUrl(me,Te?"clip"+w._uid+Te:null,k)}var B=w._imageLowerLayer.selectAll("image").data(M),E=w._imageUpperLayer.selectAll("image").data(C);B.enter().append("image"),E.enter().append("image"),B.exit().remove(),E.exit().remove(),B.each(function(L){U.bind(this)(L),F.bind(this)(L)}),E.each(function(L){U.bind(this)(L),F.bind(this)(L)});var W=Object.keys(w._plots);for(V=0;V<W.length;V++){I=W[V];var X=w._plots[I];if(X.imagelayer){var ie=X.imagelayer.selectAll("image").data(_[I]||[]);ie.enter().append("image"),ie.exit().remove(),ie.each(function(L){U.bind(this)(L),F.bind(this)(L)})}}}},8804:function(d,h,c){d.exports={moduleType:"component",name:"images",layoutAttributes:c(9819),supplyLayoutDefaults:c(1603),includeBasePlot:c(6325)("images"),draw:c(750),convertCoords:c(5378)}},3030:function(d,h,c){var g=c(1940),v=c(2399);d.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(d){d.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(d,h,c){var g=c(3972),v=c(1828),y=c(4467),b=c(9012),O=c(3030),T=c(820),k=c(130);function w(C,_,M,I){var V=_[C]||{},N=y.newContainer(M,C);function Q(Ve,_e){return v.coerce(V,N,O,Ve,_e)}var z=v.coerceFont(Q,"font",M.font);Q("bgcolor",M.paper_bgcolor),Q("bordercolor");var U=Q("visible");if(U){for(var F,B=function(Ve,_e){var Ie=F._input,re=F;return v.coerce(Ie,re,b,Ve,_e)},E=M.font||{},W=v.coerceFont(Q,"grouptitlefont",v.extendFlat({},E,{size:Math.round(E.size*1.1)})),X=0,ie=!1,L="normal",me=(M.shapes||[]).filter(function(Ve){return Ve.showlegend}),ae=I.concat(me).filter(function(Ve){return C===(Ve.legend||"legend")}),q=0;q<ae.length;q++)if(F=ae[q],!!F.visible){var de=F._isShape;(F.showlegend||F._dfltShowLegend&&!(F._module&&F._module.attributes&&F._module.attributes.showlegend&&F._module.attributes.showlegend.dflt===!1))&&(X++,F.showlegend&&(ie=!0,(!de&&g.traceIs(F,"pie-like")||F._input.showlegend===!0)&&X++),v.coerceFont(B,"legendgrouptitle.font",W)),(!de&&g.traceIs(F,"bar")&&M.barmode==="stack"||["tonextx","tonexty"].indexOf(F.fill)!==-1)&&(L=k.isGrouped({traceorder:L})?"grouped+reversed":"reversed"),F.legendgroup!==void 0&&F.legendgroup!==""&&(L=k.isReversed({traceorder:L})?"reversed+grouped":"grouped")}var ee=v.coerce(_,M,T,"showlegend",ie&&X>(C==="legend"?1:0));if(ee===!1&&(M[C]=void 0),!(ee===!1&&!V.uirevision)&&(Q("uirevision",M.uirevision),ee!==!1)){Q("borderwidth");var xe=Q("orientation"),we=Q("yref"),Be=Q("xref"),pe=xe==="h",ne=we==="paper",le=Be==="paper",Y,ve,Oe,Le="left";pe?(Y=0,g.getComponentMethod("rangeslider","isVisible")(_.xaxis)?ne?(ve=1.1,Oe="bottom"):(ve=1,Oe="top"):ne?(ve=-.1,Oe="top"):(ve=0,Oe="bottom")):(ve=1,Oe="auto",le?Y=1.02:(Y=1,Le="right")),v.coerce(V,N,{x:{valType:"number",editType:"legend",min:le?-2:0,max:le?3:1,dflt:Y}},"x"),v.coerce(V,N,{y:{valType:"number",editType:"legend",min:ne?-2:0,max:ne?3:1,dflt:ve}},"y"),Q("traceorder",L),k.isGrouped(M[C])&&Q("tracegroupgap"),Q("entrywidth"),Q("entrywidthmode"),Q("itemsizing"),Q("itemwidth"),Q("itemclick"),Q("itemdoubleclick"),Q("groupclick"),Q("xanchor",Le),Q("yanchor",Oe),Q("valign"),v.noneOrAll(V,N,["x","y"]);var Te=Q("title.text");if(Te){Q("title.side",pe?"left":"top");var De=v.extendFlat({},z,{size:v.bigFont(z.size)});v.coerceFont(Q,"title.font",De)}}}}d.exports=function(_,M,I){var V,N=I.slice(),Q=M.shapes;if(Q)for(V=0;V<Q.length;V++){var z=Q[V];if(z.showlegend){var U={_input:z._input,visible:z.visible,showlegend:z.showlegend,legend:z.legend};N.push(U)}}var F=["legend"];for(V=0;V<N.length;V++)v.pushUnique(F,N[V].legend);for(M._legends=[],V=0;V<F.length;V++){var B=F[V];w(B,_,M,N),M[B]&&M[B].visible&&(M[B]._id=B),M._legends.push(B)}}},3969:function(d,h,c){var g=c(9898),v=c(1828),y=c(4875),b=c(3972),O=c(1086),T=c(8569),k=c(1424),w=c(7901),C=c(3893),_=c(5167),M=c(4928),I=c(8783),V=I.LINE_SPACING,N=I.FROM_TL,Q=I.FROM_BR,z=c(2424),U=c(3630),F=c(130),B=1,E=/^legend[0-9]*$/;d.exports=function(ve,Oe){if(Oe)X(ve,Oe);else{var Le=ve._fullLayout,Te=Le._legends,De=Le._infolayer.selectAll('[class^="legend"]');De.each(function(){var re=g.select(this),be=re.attr("class"),te=be.split(" ")[0];te.match(E)&&Te.indexOf(te)===-1&&re.remove()});for(var Ve=0;Ve<Te.length;Ve++){var _e=Te[Ve],Ie=ve._fullLayout[_e];X(ve,Ie)}}};function W(Y,ve,Oe){if(!(ve.title.side!=="top center"&&ve.title.side!=="top right")){var Le=ve.title.font,Te=Le.size*V,De=0,Ve=Y.node(),_e=k.bBox(Ve).width;ve.title.side==="top center"?De=.5*(ve._width-2*Oe-2*M.titlePad-_e):ve.title.side==="top right"&&(De=ve._width-2*Oe-2*M.titlePad-_e),C.positionText(Y,Oe+M.titlePad+De,Oe+Te)}}function X(Y,ve){var Oe=ve||{},Le=Y._fullLayout,Te=le(Oe),De,Ve,_e=Oe._inHover;if(_e?(Ve=Oe.layer,De="hover"):(Ve=Le._infolayer,De=Te),!!Ve){De+=Le._uid,Y._legendMouseDownTime||(Y._legendMouseDownTime=0);var Ie;if(_e){if(!Oe.entries)return;Ie=z(Oe.entries,Oe)}else{for(var re=(Y.calcdata||[]).slice(),be=Le.shapes,te=0;te<be.length;te++){var se=be[te];if(se.showlegend){var fe={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};re.push([{trace:fe}])}}Ie=Le.showlegend&&z(re,Oe,Le._legends.length>1)}var oe=Le.hiddenlabels||[];if(!_e&&(!Le.showlegend||!Ie.length))return Ve.selectAll("."+Te).remove(),Le._topdefs.select("#"+De).remove(),y.autoMargin(Y,Te);var Se=v.ensureSingle(Ve,"g",Te,function(je){_e||je.attr("pointer-events","all")}),ce=v.ensureSingleById(Le._topdefs,"clipPath",De,function(je){je.append("rect")}),ke=v.ensureSingle(Se,"rect","bg",function(je){je.attr("shape-rendering","crispEdges")});ke.call(w.stroke,Oe.bordercolor).call(w.fill,Oe.bgcolor).style("stroke-width",Oe.borderwidth+"px");var Qe=v.ensureSingle(Se,"g","scrollbox"),Ze=Oe.title;Oe._titleWidth=0,Oe._titleHeight=0;var Xe;Ze.text?(Xe=v.ensureSingle(Qe,"text",Te+"titletext"),Xe.attr("text-anchor","start").call(k.font,Ze.font).text(Ze.text),de(Xe,Qe,Y,Oe,B)):Qe.selectAll("."+Te+"titletext").remove();var ct=v.ensureSingle(Se,"rect","scrollbar",function(je){je.attr(M.scrollBarEnterAttrs).call(w.fill,M.scrollBarColor)}),pt=Qe.selectAll("g.groups").data(Ie);pt.enter().append("g").attr("class","groups"),pt.exit().remove();var Ye=pt.selectAll("g.traces").data(v.identity);Ye.enter().append("g").attr("class","traces"),Ye.exit().remove(),Ye.style("opacity",function(je){var et=je[0].trace;return b.traceIs(et,"pie-like")?oe.indexOf(je[0].label)!==-1?.5:1:et.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(me,Y,Oe)}).call(U,Y,Oe).each(function(){_e||g.select(this).call(q,Y,Te)}),v.syncOrAsync([y.previousPromises,function(){return we(Y,pt,Ye,Oe)},function(){var je=Le._size,et=Oe.borderwidth,yt=Oe.xref==="paper",ft=Oe.yref==="paper";if(Ze.text&&W(Xe,Oe,et),!_e){var tt,wt;yt?tt=je.l+je.w*Oe.x-N[pe(Oe)]*Oe._width:tt=Le.width*Oe.x-N[pe(Oe)]*Oe._width,ft?wt=je.t+je.h*(1-Oe.y)-N[ne(Oe)]*Oe._effHeight:wt=Le.height*(1-Oe.y)-N[ne(Oe)]*Oe._effHeight;var Xt=Be(Y,Te,tt,wt);if(Xt)return;if(Le.margin.autoexpand){var Gt=tt,Nt=wt;tt=yt?v.constrain(tt,0,Le.width-Oe._width):Gt,wt=ft?v.constrain(wt,0,Le.height-Oe._effHeight):Nt,tt!==Gt&&v.log("Constrain "+Te+".x to make legend fit inside graph"),wt!==Nt&&v.log("Constrain "+Te+".y to make legend fit inside graph")}k.setTranslate(Se,tt,wt)}if(ct.on(".drag",null),Se.on("wheel",null),_e||Oe._height<=Oe._maxHeight||Y._context.staticPlot){var Bt=Oe._effHeight;_e&&(Bt=Oe._height),ke.attr({width:Oe._width-et,height:Bt-et,x:et/2,y:et/2}),k.setTranslate(Qe,0,0),ce.select("rect").attr({width:Oe._width-2*et,height:Bt-2*et,x:et,y:et}),k.setClipUrl(Qe,De,Y),k.setRect(ct,0,0,0,0),delete Oe._scrollY}else{var vn=Math.max(M.scrollBarMinHeight,Oe._effHeight*Oe._effHeight/Oe._height),En=Oe._effHeight-vn-2*M.scrollBarMargin,ln=Oe._height-Oe._effHeight,Yn=En/ln,an=Math.min(Oe._scrollY||0,ln);ke.attr({width:Oe._width-2*et+M.scrollBarWidth+M.scrollBarMargin,height:Oe._effHeight-et,x:et/2,y:et/2}),ce.select("rect").attr({width:Oe._width-2*et+M.scrollBarWidth+M.scrollBarMargin,height:Oe._effHeight-2*et,x:et,y:et+an}),k.setClipUrl(Qe,De,Y),gt(an,vn,Yn),Se.on("wheel",function(){an=v.constrain(Oe._scrollY+g.event.deltaY/En*ln,0,ln),gt(an,vn,Yn),an!==0&&an!==ln&&g.event.preventDefault()});var wn,Xn,Un,Sn=function(mt,Ct,Pt){var dn=(Pt-Ct)/Yn+mt;return v.constrain(dn,0,ln)},lt=function(mt,Ct,Pt){var dn=(Ct-Pt)/Yn+mt;return v.constrain(dn,0,ln)},ut=g.behavior.drag().on("dragstart",function(){var mt=g.event.sourceEvent;mt.type==="touchstart"?wn=mt.changedTouches[0].clientY:wn=mt.clientY,Un=an}).on("drag",function(){var mt=g.event.sourceEvent;mt.buttons===2||mt.ctrlKey||(mt.type==="touchmove"?Xn=mt.changedTouches[0].clientY:Xn=mt.clientY,an=Sn(Un,wn,Xn),gt(an,vn,Yn))});ct.call(ut);var xt=g.behavior.drag().on("dragstart",function(){var mt=g.event.sourceEvent;mt.type==="touchstart"&&(wn=mt.changedTouches[0].clientY,Un=an)}).on("drag",function(){var mt=g.event.sourceEvent;mt.type==="touchmove"&&(Xn=mt.changedTouches[0].clientY,an=lt(Un,wn,Xn),gt(an,vn,Yn))});Qe.call(xt)}function gt(mt,Ct,Pt){Oe._scrollY=Y._fullLayout[Te]._scrollY=mt,k.setTranslate(Qe,0,-mt),k.setRect(ct,Oe._width,M.scrollBarMargin+mt*Pt,M.scrollBarWidth,Ct),ce.select("rect").attr("y",et+mt)}if(Y._context.edits.legendPosition){var Dt,He,it,dt;Se.classed("cursor-move",!0),T.init({element:Se.node(),gd:Y,prepFn:function(){var mt=k.getTranslate(Se);it=mt.x,dt=mt.y},moveFn:function(mt,Ct){var Pt=it+mt,dn=dt+Ct;k.setTranslate(Se,Pt,dn),Dt=T.align(Pt,Oe._width,je.l,je.l+je.w,Oe.xanchor),He=T.align(dn+Oe._height,-Oe._height,je.t+je.h,je.t,Oe.yanchor)},doneFn:function(){if(Dt!==void 0&&He!==void 0){var mt={};mt[Te+".x"]=Dt,mt[Te+".y"]=He,b.call("_guiRelayout",Y,mt)}},clickFn:function(mt,Ct){var Pt=Ve.selectAll("g.traces").filter(function(){var dn=this.getBoundingClientRect();return Ct.clientX>=dn.left&&Ct.clientX<=dn.right&&Ct.clientY>=dn.top&&Ct.clientY<=dn.bottom});Pt.size()>0&&L(Y,Se,Pt,mt,Ct)}})}}],Y)}}function ie(Y,ve,Oe){var Le=Y[0],Te=Le.width,De=ve.entrywidthmode,Ve=Le.trace.legendwidth||ve.entrywidth;return De==="fraction"?ve._maxWidth*Ve:Oe+(Ve||Te)}function L(Y,ve,Oe,Le,Te){var De=Oe.data()[0][0].trace,Ve={event:Te,node:Oe.node(),curveNumber:De.index,expandedIndex:De._expandedIndex,data:Y.data,layout:Y.layout,frames:Y._transitionData._frames,config:Y._context,fullData:Y._fullData,fullLayout:Y._fullLayout};De._group&&(Ve.group=De._group),b.traceIs(De,"pie-like")&&(Ve.label=Oe.datum()[0].label);var _e=O.triggerHandler(Y,"plotly_legendclick",Ve);if(Le===1){if(_e===!1)return;ve._clickTimeout=setTimeout(function(){Y._fullLayout&&_(Oe,Y,Le)},Y._context.doubleClickDelay)}else if(Le===2){ve._clickTimeout&&clearTimeout(ve._clickTimeout),Y._legendMouseDownTime=0;var Ie=O.triggerHandler(Y,"plotly_legenddoubleclick",Ve);Ie!==!1&&_e!==!1&&_(Oe,Y,Le)}}function me(Y,ve,Oe){var Le=le(Oe),Te=Y.data()[0][0],De=Te.trace,Ve=b.traceIs(De,"pie-like"),_e=!Oe._inHover&&ve._context.edits.legendText&&!Ve,Ie=Oe._maxNameLength,re,be;Te.groupTitle?(re=Te.groupTitle.text,be=Te.groupTitle.font):(be=Oe.font,Oe.entries?re=Te.text:(re=Ve?Te.label:De.name,De._meta&&(re=v.templateString(re,De._meta))));var te=v.ensureSingle(Y,"text",Le+"text");te.attr("text-anchor","start").call(k.font,be).text(_e?ae(re,Ie):re);var se=Oe.itemwidth+M.itemGap*2;C.positionText(te,se,0),_e?te.call(C.makeEditable,{gd:ve,text:re}).call(de,Y,ve,Oe).on("edit",function(fe){this.text(ae(fe,Ie)).call(de,Y,ve,Oe);var oe=Te.trace._fullInput||{},Se={};if(b.hasTransform(oe,"groupby")){var ce=b.getTransformIndices(oe,"groupby"),ke=ce[ce.length-1],Qe=v.keyedContainer(oe,"transforms["+ke+"].styles","target","value.name");Qe.set(Te.trace._group,fe),Se=Qe.constructUpdate()}else Se.name=fe;return oe._isShape?b.call("_guiRelayout",ve,"shapes["+De.index+"].name",Se.name):b.call("_guiRestyle",ve,Se,De.index)}):de(te,Y,ve,Oe)}function ae(Y,ve){var Oe=Math.max(4,ve);if(Y&&Y.trim().length>=Oe/2)return Y;Y=Y||"";for(var Le=Oe-Y.length;Le>0;Le--)Y+=" ";return Y}function q(Y,ve,Oe){var Le=ve._context.doubleClickDelay,Te,De=1,Ve=v.ensureSingle(Y,"rect",Oe+"toggle",function(_e){ve._context.staticPlot||_e.style("cursor","pointer").attr("pointer-events","all"),_e.call(w.fill,"rgba(0,0,0,0)")});ve._context.staticPlot||(Ve.on("mousedown",function(){Te=new Date().getTime(),Te-ve._legendMouseDownTime<Le?De+=1:(De=1,ve._legendMouseDownTime=Te)}),Ve.on("mouseup",function(){if(!(ve._dragged||ve._editing)){var _e=ve._fullLayout[Oe];new Date().getTime()-ve._legendMouseDownTime>Le&&(De=Math.max(De-1,1)),L(ve,_e,Y,De,g.event)}}))}function de(Y,ve,Oe,Le,Te){Le._inHover&&Y.attr("data-notex",!0),C.convertToTspans(Y,Oe,function(){ee(ve,Oe,Le,Te)})}function ee(Y,ve,Oe,Le){var Te=Y.data()[0][0];if(!Oe._inHover&&Te&&!Te.trace.showlegend){Y.remove();return}var De=Y.select("g[class*=math-group]"),Ve=De.node(),_e=le(Oe);Oe||(Oe=ve._fullLayout[_e]);var Ie=Oe.borderwidth,re;Le===B?re=Oe.title.font:Te.groupTitle?re=Te.groupTitle.font:re=Oe.font;var be=re.size*V,te,se;if(Ve){var fe=k.bBox(Ve);te=fe.height,se=fe.width,Le===B?k.setTranslate(De,Ie,Ie+te*.75):k.setTranslate(De,0,te*.25)}else{var oe="."+_e+(Le===B?"title":"")+"text",Se=Y.select(oe),ce=C.lineCount(Se),ke=Se.node();if(te=be*ce,se=ke?k.bBox(ke).width:0,Le===B)Oe.title.side==="left"&&(se+=M.itemGap*2),C.positionText(Se,Ie+M.titlePad,Ie+be);else{var Qe=M.itemGap*2+Oe.itemwidth;Te.groupTitle&&(Qe=M.itemGap,se-=Oe.itemwidth),C.positionText(Se,Qe,-be*((ce-1)/2-.3))}}Le===B?(Oe._titleWidth=se,Oe._titleHeight=te):(Te.lineHeight=be,Te.height=Math.max(te,16)+3,Te.width=se)}function xe(Y){var ve=0,Oe=0,Le=Y.title.side;return Le&&(Le.indexOf("left")!==-1&&(ve=Y._titleWidth),Le.indexOf("top")!==-1&&(Oe=Y._titleHeight)),[ve,Oe]}function we(Y,ve,Oe,Le){var Te=Y._fullLayout,De=le(Le);Le||(Le=Te[De]);var Ve=Te._size,_e=F.isVertical(Le),Ie=F.isGrouped(Le),re=Le.entrywidthmode==="fraction",be=Le.borderwidth,te=2*be,se=M.itemGap,fe=Le.itemwidth+se*2,oe=2*(be+se),Se=ne(Le),ce=Le.y<0||Le.y===0&&Se==="top",ke=Le.y>1||Le.y===1&&Se==="bottom",Qe=Le.tracegroupgap,Ze={};Le._maxHeight=Math.max(ce||ke?Te.height/2:Ve.h,30);var Xe=0;Le._width=0,Le._height=0;var ct=xe(Le);if(_e)Oe.each(function(Un){var Sn=Un[0].height;k.setTranslate(this,be+ct[0],be+ct[1]+Le._height+Sn/2+se),Le._height+=Sn,Le._width=Math.max(Le._width,Un[0].width)}),Xe=fe+Le._width,Le._width+=se+fe+te,Le._height+=oe,Ie&&(ve.each(function(Un,Sn){k.setTranslate(this,0,Sn*Le.tracegroupgap)}),Le._height+=(Le._lgroupsLength-1)*Le.tracegroupgap);else{var pt=pe(Le),Ye=Le.x<0||Le.x===0&&pt==="right",je=Le.x>1||Le.x===1&&pt==="left",et=ke||ce,yt=Te.width/2;Le._maxWidth=Math.max(Ye?et&&pt==="left"?Ve.l+Ve.w:yt:je?et&&pt==="right"?Ve.r+Ve.w:yt:Ve.w,2*fe);var ft=0,tt=0;Oe.each(function(Un){var Sn=ie(Un,Le,fe);ft=Math.max(ft,Sn),tt+=Sn}),Xe=null;var wt=0;if(Ie){var Xt=0,Gt=0,Nt=0;ve.each(function(){var Un=0,Sn=0;g.select(this).selectAll("g.traces").each(function(ut){var xt=ie(ut,Le,fe),gt=ut[0].height;k.setTranslate(this,ct[0],ct[1]+be+se+gt/2+Sn),Sn+=gt,Un=Math.max(Un,xt),Ze[ut[0].trace.legendgroup]=Un});var lt=Un+se;Gt>0&&lt+be+Gt>Le._maxWidth?(wt=Math.max(wt,Gt),Gt=0,Nt+=Xt+Qe,Xt=Sn):Xt=Math.max(Xt,Sn),k.setTranslate(this,Gt,Nt),Gt+=lt}),Le._width=Math.max(wt,Gt)+be,Le._height=Nt+Xt+oe}else{var Bt=Oe.size(),vn=tt+te+(Bt-1)*se<Le._maxWidth,En=0,ln=0,Yn=0,an=0;Oe.each(function(Un){var Sn=Un[0].height,lt=ie(Un,Le,fe),ut=vn?lt:ft;re||(ut+=se),ut+be+ln-se>=Le._maxWidth&&(wt=Math.max(wt,an),ln=0,Yn+=En,Le._height+=En,En=0),k.setTranslate(this,ct[0]+be+ln,ct[1]+be+Yn+Sn/2+se),an=ln+lt+se,ln+=ut,En=Math.max(En,Sn)}),vn?(Le._width=ln+te,Le._height=En+oe):(Le._width=Math.max(wt,an)+te,Le._height+=En+oe)}}Le._width=Math.ceil(Math.max(Le._width+ct[0],Le._titleWidth+2*(be+M.titlePad))),Le._height=Math.ceil(Math.max(Le._height+ct[1],Le._titleHeight+2*(be+M.itemGap))),Le._effHeight=Math.min(Le._height,Le._maxHeight);var wn=Y._context.edits,Xn=wn.legendText||wn.legendPosition;Oe.each(function(Un){var Sn=g.select(this).select("."+De+"toggle"),lt=Un[0].height,ut=Un[0].trace.legendgroup,xt=ie(Un,Le,fe);Ie&&ut!==""&&(xt=Ze[ut]);var gt=Xn?fe:Xe||xt;!_e&&!re&&(gt+=se/2),k.setRect(Sn,0,-lt/2,gt,lt)})}function Be(Y,ve,Oe,Le){var Te=Y._fullLayout,De=Te[ve],Ve=pe(De),_e=ne(De),Ie=De.xref==="paper",re=De.yref==="paper";Y._fullLayout._reservedMargin[ve]={};var be=De.y<.5?"b":"t",te=De.x<.5?"l":"r",se={r:Te.width-Oe,l:Oe+De._width,b:Te.height-Le,t:Le+De._effHeight};if(Ie&&re)return y.autoMargin(Y,ve,{x:De.x,y:De.y,l:De._width*N[Ve],r:De._width*Q[Ve],b:De._effHeight*Q[_e],t:De._effHeight*N[_e]});Ie?Y._fullLayout._reservedMargin[ve][be]=se[be]:re||De.orientation==="v"?Y._fullLayout._reservedMargin[ve][te]=se[te]:Y._fullLayout._reservedMargin[ve][be]=se[be]}function pe(Y){return v.isRightAnchor(Y)?"right":v.isCenterAnchor(Y)?"center":"left"}function ne(Y){return v.isBottomAnchor(Y)?"bottom":v.isMiddleAnchor(Y)?"middle":"top"}function le(Y){return Y._id||"legend"}},2424:function(d,h,c){var g=c(3972),v=c(130);d.exports=function(b,O,T){var k=O._inHover,w=v.isGrouped(O),C=v.isReversed(O),_={},M=[],I=!1,V={},N=0,Q=0,z,U;function F(Y,ve,Oe){if(O.visible!==!1&&!(T&&Y!==O._id))if(ve===""||!v.isGrouped(O)){var Le="~~i"+N;M.push(Le),_[Le]=[Oe],N++}else M.indexOf(ve)===-1?(M.push(ve),I=!0,_[ve]=[Oe]):_[ve].push(Oe)}for(z=0;z<b.length;z++){var B=b[z],E=B[0],W=E.trace,X=W.legend,ie=W.legendgroup;if(!(!k&&(!W.visible||!W.showlegend)))if(g.traceIs(W,"pie-like"))for(V[ie]||(V[ie]={}),U=0;U<B.length;U++){var L=B[U].label;V[ie][L]||(F(X,ie,{label:L,color:B[U].color,i:B[U].i,trace:W,pts:B[U].pts}),V[ie][L]=!0,Q=Math.max(Q,(L||"").length))}else F(X,ie,E),Q=Math.max(Q,(W.name||"").length)}if(!M.length)return[];var me=!I||!w,ae=[];for(z=0;z<M.length;z++){var q=_[M[z]];me?ae.push(q[0]):ae.push(q)}for(me&&(ae=[ae]),z=0;z<ae.length;z++){var de=1/0;for(U=0;U<ae[z].length;U++){var ee=ae[z][U].trace.legendrank;de>ee&&(de=ee)}ae[z][0]._groupMinRank=de,ae[z][0]._preGroupSort=z}var xe=function(Y,ve){return Y[0]._groupMinRank-ve[0]._groupMinRank||Y[0]._preGroupSort-ve[0]._preGroupSort},we=function(Y,ve){return Y.trace.legendrank-ve.trace.legendrank||Y._preSort-ve._preSort};for(ae.forEach(function(Y,ve){Y[0]._preGroupSort=ve}),ae.sort(xe),z=0;z<ae.length;z++){ae[z].forEach(function(Y,ve){Y._preSort=ve}),ae[z].sort(we);var Be=ae[z][0].trace,pe=null;for(U=0;U<ae[z].length;U++){var ne=ae[z][U].trace.legendgrouptitle;if(ne&&ne.text){pe=ne,k&&(ne.font=O._groupTitleFont);break}}if(C&&ae[z].reverse(),pe){var le=!1;for(U=0;U<ae[z].length;U++)if(g.traceIs(ae[z][U].trace,"pie-like")){le=!0;break}ae[z].unshift({i:-1,groupTitle:pe,noClick:le,trace:{showlegend:Be.showlegend,legendgroup:Be.legendgroup,visible:O.groupclick==="toggleitem"?!0:Be.visible}})}for(U=0;U<ae[z].length;U++)ae[z][U]=[ae[z][U]]}return O._lgroupsLength=ae.length,O._maxNameLength=Q,ae}},5167:function(d,h,c){var g=c(3972),v=c(1828),y=v.pushUnique,b=!0;d.exports=function(T,k,w){var C=k._fullLayout;if(k._dragged||k._editing)return;var _=C.legend.itemclick,M=C.legend.itemdoubleclick,I=C.legend.groupclick;w===1&&_==="toggle"&&M==="toggleothers"&&b&&k.data&&k._context.showTips&&v.notifier(v._(k,"Double-click on legend to isolate one trace"),"long"),b=!1;var V;if(w===1?V=_:w===2&&(V=M),!V)return;var N=I==="togglegroup",Q=C.hiddenlabels?C.hiddenlabels.slice():[],z=T.data()[0][0];if(z.groupTitle&&z.noClick)return;var U=k._fullData,F=(C.shapes||[]).filter(function(yt){return yt.showlegend}),B=U.concat(F),E=z.trace;E._isShape&&(E=E._fullInput);var W=E.legendgroup,X,ie,L,me,ae,q,de={},ee=[],xe=[],we=[];function Be(yt,ft){var tt=ee.indexOf(yt),wt=de.visible;return wt||(wt=de.visible=[]),ee.indexOf(yt)===-1&&(ee.push(yt),tt=ee.length-1),wt[tt]=ft,tt}var pe=(C.shapes||[]).map(function(yt){return yt._input}),ne=!1;function le(yt,ft){pe[yt].visible=ft,ne=!0}function Y(yt,ft){if(!(z.groupTitle&&!N)){var tt=yt._fullInput||yt,wt=tt._isShape,Xt=tt.index;if(Xt===void 0&&(Xt=tt._index),g.hasTransform(tt,"groupby")){var Gt=xe[Xt];if(!Gt){var Nt=g.getTransformIndices(tt,"groupby"),Bt=Nt[Nt.length-1];Gt=v.keyedContainer(tt,"transforms["+Bt+"].styles","target","value.visible"),xe[Xt]=Gt}var vn=Gt.get(yt._group);vn===void 0&&(vn=!0),vn!==!1&&Gt.set(yt._group,ft),we[Xt]=Be(Xt,tt.visible!==!1)}else{var En=tt.visible===!1?!1:ft;wt?le(Xt,En):Be(Xt,En)}}}var ve=E.legend,Oe=E._fullInput,Le=Oe&&Oe._isShape;if(!Le&&g.traceIs(E,"pie-like")){var Te=z.label,De=Q.indexOf(Te);if(V==="toggle")De===-1?Q.push(Te):Q.splice(De,1);else if(V==="toggleothers"){var Ve=De!==-1,_e=[];for(X=0;X<k.calcdata.length;X++){var Ie=k.calcdata[X];for(ie=0;ie<Ie.length;ie++){var re=Ie[ie],be=re.label;ve===Ie[0].trace.legend&&Te!==be&&(Q.indexOf(be)===-1&&(Ve=!0),y(Q,be),_e.push(be))}}if(!Ve)for(var te=0;te<_e.length;te++){var se=Q.indexOf(_e[te]);se!==-1&&Q.splice(se,1)}}g.call("_guiRelayout",k,"hiddenlabels",Q)}else{var fe=W&&W.length,oe=[],Se;if(fe)for(X=0;X<B.length;X++)Se=B[X],Se.visible&&Se.legendgroup===W&&oe.push(X);if(V==="toggle"){var ce;switch(E.visible){case!0:ce="legendonly";break;case!1:ce=!1;break;case"legendonly":ce=!0;break}if(fe)if(N)for(X=0;X<B.length;X++){var ke=B[X];ke.visible!==!1&&ke.legendgroup===W&&Y(ke,ce)}else Y(E,ce);else Y(E,ce)}else if(V==="toggleothers"){var Qe,Ze,Xe,ct,pt,Ye=!0;for(X=0;X<B.length;X++)if(pt=B[X],Qe=pt===E,Xe=pt.showlegend!==!0,!(Qe||Xe)&&(Ze=fe&&pt.legendgroup===W,!Ze&&pt.legend===ve&&pt.visible===!0&&!g.traceIs(pt,"notLegendIsolatable"))){Ye=!1;break}for(X=0;X<B.length;X++)if(pt=B[X],!(pt.visible===!1||pt.legend!==ve)&&!g.traceIs(pt,"notLegendIsolatable"))switch(E.visible){case"legendonly":Y(pt,!0);break;case!0:ct=Ye?!0:"legendonly",Qe=pt===E,Xe=pt.showlegend!==!0&&!pt.legendgroup,Ze=Qe||fe&&pt.legendgroup===W,Y(pt,Ze||Xe?!0:ct);break}}for(X=0;X<xe.length;X++)if(L=xe[X],!!L){var je=L.constructUpdate(),et=Object.keys(je);for(ie=0;ie<et.length;ie++)me=et[ie],q=de[me]=de[me]||[],q[we[X]]=je[me]}for(ae=Object.keys(de),X=0;X<ae.length;X++)for(me=ae[X],ie=0;ie<ee.length;ie++)de[me].hasOwnProperty(ie)||(de[me][ie]=void 0);ne?g.call("_guiUpdate",k,de,{shapes:pe},ee):g.call("_guiRestyle",k,de,ee)}}},130:function(d,h){h.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},h.isVertical=function(g){return g.orientation!=="h"},h.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2199:function(d,h,c){d.exports={moduleType:"component",name:"legend",layoutAttributes:c(3030),supplyLayoutDefaults:c(9017),draw:c(3969),style:c(3630)}},3630:function(d,h,c){var g=c(9898),v=c(3972),y=c(1828),b=y.strTranslate,O=c(1424),T=c(7901),k=c(2869).extractOpts,w=c(4098),C=c(3463),_=c(3581).castOption,M=c(4928),I=12,V=5,N=2,Q=10,z=5;d.exports=function(W,X,ie){var L=X._fullLayout;ie||(ie=L.legend);var me=ie.itemsizing==="constant",ae=ie.itemwidth,q=(ae+M.itemGap*2)/2,de=b(q,0),ee=function(_e,Ie,re,be){var te;if(_e+1)te=_e;else if(Ie&&Ie.width>0)te=Ie.width;else return 0;return me?be:Math.min(te,re)};W.each(function(_e){var Ie=g.select(this),re=y.ensureSingle(Ie,"g","layers");re.style("opacity",_e[0].trace.opacity);var be=ie.valign,te=_e[0].lineHeight,se=_e[0].height;if(be==="middle"||!te||!se)re.attr("transform",null);else{var fe={top:1,bottom:-1}[be],oe=fe*(.5*(te-se+3));re.attr("transform",b(0,oe))}var Se=re.selectAll("g.legendfill").data([_e]);Se.enter().append("g").classed("legendfill",!0);var ce=re.selectAll("g.legendlines").data([_e]);ce.enter().append("g").classed("legendlines",!0);var ke=re.selectAll("g.legendsymbols").data([_e]);ke.enter().append("g").classed("legendsymbols",!0),ke.selectAll("g.legendpoints").data([_e]).enter().append("g").classed("legendpoints",!0)}).each(Ve).each(Be).each(ne).each(pe).each(Y).each(Te).each(Le).each(xe).each(we).each(ve).each(Oe);function xe(_e){var Ie=F(_e),re=Ie.showFill,be=Ie.showLine,te=Ie.showGradientLine,se=Ie.showGradientFill,fe=Ie.anyFill,oe=Ie.anyLine,Se=_e[0],ce=Se.trace,ke,Qe,Ze=k(ce),Xe=Ze.colorscale,ct=Ze.reversescale,pt=function(wt){if(wt.size())if(re)O.fillGroupStyle(wt,X);else{var Xt="legendfill-"+ce.uid;O.gradient(wt,X,Xt,U(ct),Xe,"fill")}},Ye=function(wt){if(wt.size()){var Xt="legendline-"+ce.uid;O.lineGroupStyle(wt),O.gradient(wt,X,Xt,U(ct),Xe,"stroke")}},je=w.hasMarkers(ce)||!fe?"M5,0":oe?"M5,-2":"M5,-3",et=g.select(this),yt=et.select(".legendfill").selectAll("path").data(re||se?[_e]:[]);if(yt.enter().append("path").classed("js-fill",!0),yt.exit().remove(),yt.attr("d",je+"h"+ae+"v6h-"+ae+"z").call(pt),be||te){var ft=ee(void 0,ce.line,Q,V);Qe=y.minExtend(ce,{line:{width:ft}}),ke=[y.minExtend(Se,{trace:Qe})]}var tt=et.select(".legendlines").selectAll("path").data(be||te?[ke]:[]);tt.enter().append("path").classed("js-line",!0),tt.exit().remove(),tt.attr("d",je+(te?"l"+ae+",0.0001":"h"+ae)).call(be?O.lineGroupStyle:Ye)}function we(_e){var Ie=F(_e),re=Ie.anyFill,be=Ie.anyLine,te=Ie.showLine,se=Ie.showMarker,fe=_e[0],oe=fe.trace,Se=!se&&!be&&!re&&w.hasText(oe),ce,ke;function Qe(yt,ft,tt,wt){var Xt=y.nestedProperty(oe,yt).get(),Gt=y.isArrayOrTypedArray(Xt)&&ft?ft(Xt):Xt;if(me&&Gt&&wt!==void 0&&(Gt=wt),tt){if(Gt<tt[0])return tt[0];if(Gt>tt[1])return tt[1]}return Gt}function Ze(yt){return fe._distinct&&fe.index&&yt[fe.index]?yt[fe.index]:yt[0]}if(se||Se||te){var Xe={},ct={};if(se){Xe.mc=Qe("marker.color",Ze),Xe.mx=Qe("marker.symbol",Ze),Xe.mo=Qe("marker.opacity",y.mean,[.2,1]),Xe.mlc=Qe("marker.line.color",Ze),Xe.mlw=Qe("marker.line.width",y.mean,[0,5],N),ct.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var pt=Qe("marker.size",y.mean,[2,16],I);Xe.ms=pt,ct.marker.size=pt}te&&(ct.line={width:Qe("line.width",Ze,[0,10],V)}),Se&&(Xe.tx="Aa",Xe.tp=Qe("textposition",Ze),Xe.ts=10,Xe.tc=Qe("textfont.color",Ze),Xe.tf=Qe("textfont.family",Ze)),ce=[y.minExtend(fe,Xe)],ke=y.minExtend(oe,ct),ke.selectedpoints=null,ke.texttemplate=null}var Ye=g.select(this).select("g.legendpoints"),je=Ye.selectAll("path.scatterpts").data(se?ce:[]);je.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",de),je.exit().remove(),je.call(O.pointStyle,ke,X),se&&(ce[0].mrc=3);var et=Ye.selectAll("g.pointtext").data(Se?ce:[]);et.enter().append("g").classed("pointtext",!0).append("text").attr("transform",de),et.exit().remove(),et.selectAll("text").call(O.textPointStyle,ke,X)}function Be(_e){var Ie=_e[0].trace,re=Ie.type==="waterfall";if(_e[0]._distinct&&re){var be=_e[0].trace[_e[0].dir].marker;return _e[0].mc=be.color,_e[0].mlw=be.line.width,_e[0].mlc=be.line.color,le(_e,this,"waterfall")}var te=[];Ie.visible&&re&&(te=_e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(te);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",de).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(fe){var oe=g.select(this),Se=Ie[fe[0]].marker,ce=ee(void 0,Se.line,z,N);oe.attr("d",fe[1]).style("stroke-width",ce+"px").call(T.fill,Se.color),ce&&oe.call(T.stroke,Se.line.color)})}function pe(_e){le(_e,this)}function ne(_e){le(_e,this,"funnel")}function le(_e,Ie,re){var be=_e[0].trace,te=be.marker||{},se=te.line||{},fe=re?be.visible&&be.type===re:v.traceIs(be,"bar"),oe=g.select(Ie).select("g.legendpoints").selectAll("path.legend"+re).data(fe?[_e]:[]);oe.enter().append("path").classed("legend"+re,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",de),oe.exit().remove(),oe.each(function(Se){var ce=g.select(this),ke=Se[0],Qe=ee(ke.mlw,te.line,z,N);ce.style("stroke-width",Qe+"px");var Ze=ke.mcc;if(!ie._inHover&&"mc"in ke){var Xe=k(te),ct=Xe.mid;ct===void 0&&(ct=(Xe.max+Xe.min)/2),Ze=O.tryColorscale(te,"")(ct)}var pt=Ze||ke.mc||te.color,Ye=te.pattern,je=Ye&&O.getPatternAttr(Ye.shape,0,"");if(je){var et=O.getPatternAttr(Ye.bgcolor,0,null),yt=O.getPatternAttr(Ye.fgcolor,0,null),ft=Ye.fgopacity,tt=B(Ye.size,8,10),wt=B(Ye.solidity,.5,1),Xt="legend-"+be.uid;ce.call(O.pattern,"legend",X,Xt,je,tt,wt,Ze,Ye.fillmode,et,yt,ft)}else ce.call(T.fill,pt);Qe&&T.stroke(ce,ke.mlc||se.color)})}function Y(_e){var Ie=_e[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Ie.visible&&v.traceIs(Ie,"box-violin")?[_e]:[]);re.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",de),re.exit().remove(),re.each(function(){var be=g.select(this);if((Ie.boxpoints==="all"||Ie.points==="all")&&T.opacity(Ie.fillcolor)===0&&T.opacity((Ie.line||{}).color)===0){var te=y.minExtend(Ie,{marker:{size:me?I:y.constrain(Ie.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});re.call(O.pointStyle,te,X)}else{var se=ee(void 0,Ie.line,z,N);be.style("stroke-width",se+"px").call(T.fill,Ie.fillcolor),se&&T.stroke(be,Ie.line.color)}})}function ve(_e){var Ie=_e[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Ie.visible&&Ie.type==="candlestick"?[_e,_e]:[]);re.enter().append("path").classed("legendcandle",!0).attr("d",function(be,te){return te?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",de).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(be,te){var se=g.select(this),fe=Ie[te?"increasing":"decreasing"],oe=ee(void 0,fe.line,z,N);se.style("stroke-width",oe+"px").call(T.fill,fe.fillcolor),oe&&T.stroke(se,fe.line.color)})}function Oe(_e){var Ie=_e[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Ie.visible&&Ie.type==="ohlc"?[_e,_e]:[]);re.enter().append("path").classed("legendohlc",!0).attr("d",function(be,te){return te?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",de).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(be,te){var se=g.select(this),fe=Ie[te?"increasing":"decreasing"],oe=ee(void 0,fe.line,z,N);se.style("fill","none").call(O.dashLine,fe.line.dash,oe),oe&&T.stroke(se,fe.line.color)})}function Le(_e){De(_e,this,"pie")}function Te(_e){De(_e,this,"funnelarea")}function De(_e,Ie,re){var be=_e[0],te=be.trace,se=re?te.visible&&te.type===re:v.traceIs(te,re),fe=g.select(Ie).select("g.legendpoints").selectAll("path.legend"+re).data(se?[_e]:[]);if(fe.enter().append("path").classed("legend"+re,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",de),fe.exit().remove(),fe.size()){var oe=te.marker||{},Se=ee(_(oe.line.width,be.pts),oe.line,z,N),ce="pieLike",ke=y.minExtend(te,{marker:{line:{width:Se}}},ce),Qe=y.minExtend(be,{trace:ke},ce);C(fe,Qe,ke,X)}}function Ve(_e){var Ie=_e[0].trace,re,be=[];if(Ie.visible)switch(Ie.type){case"histogram2d":case"heatmap":be=[["M-15,-2V4H15V-2Z"]],re=!0;break;case"choropleth":case"choroplethmapbox":be=[["M-6,-6V6H6V-6Z"]],re=!0;break;case"densitymapbox":be=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],re="radial";break;case"cone":be=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],re=!1;break;case"streamtube":be=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],re=!1;break;case"surface":be=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],re=!0;break;case"mesh3d":be=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!1;break;case"volume":be=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!0;break;case"isosurface":be=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],re=!1;break}var te=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(be);te.enter().append("path").classed("legend3dandfriends",!0).attr("transform",de).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(se,fe){var oe=g.select(this),Se=k(Ie),ce=Se.colorscale,ke=Se.reversescale,Qe=function(pt){if(pt.size()){var Ye="legendfill-"+Ie.uid;O.gradient(pt,X,Ye,U(ke,re==="radial"),ce,"fill")}},Ze;if(ce){if(!re){var ct=ce.length;Ze=fe===0?ce[ke?ct-1:0][1]:fe===1?ce[ke?0:ct-1][1]:ce[Math.floor((ct-1)/2)][1]}}else{var Xe=Ie.vertexcolor||Ie.facecolor||Ie.color;Ze=y.isArrayOrTypedArray(Xe)?Xe[fe]||Xe[0]:Xe}oe.attr("d",se[0]),Ze?oe.call(T.fill,Ze):oe.call(Qe)})}};function U(E,W){var X=W?"radial":"horizontal";return X+(E?"":"reversed")}function F(E){var W=E[0].trace,X=W.contours,ie=w.hasLines(W),L=w.hasMarkers(W),me=W.visible&&W.fill&&W.fill!=="none",ae=!1,q=!1;if(X){var de=X.coloring;de==="lines"?ae=!0:ie=de==="none"||de==="heatmap"||X.showlines,X.type==="constraint"?me=X._operation!=="=":(de==="fill"||de==="heatmap")&&(q=!0)}return{showMarker:L,showLine:ie,showFill:me,showGradientLine:ae,showGradientFill:q,anyLine:ie||ae,anyFill:me||q}}function B(E,W,X){return E&&y.isArrayOrTypedArray(E)?W:E>X?X:E}},2068:function(d,h,c){c(3348),d.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(d,h,c){var g=c(3972),v=c(4875),y=c(1675),b=c(4255),O=c(4031).eraseActiveShape,T=c(1828),k=T._,w=d.exports={};w.toImage={name:"toImage",title:function(E){var W=E._context.toImageButtonOptions||{},X=W.format||"png";return X==="png"?k(E,"Download plot as a png"):k(E,"Download plot")},icon:b.camera,click:function(E){var W=E._context.toImageButtonOptions,X={format:W.format||"png"};T.notifier(k(E,"Taking snapshot - this may take a few seconds"),"long"),X.format!=="svg"&&T.isIE()&&(T.notifier(k(E,"IE only supports svg.  Changing format to svg."),"long"),X.format="svg"),["filename","width","height","scale"].forEach(function(ie){ie in W&&(X[ie]=W[ie])}),g.call("downloadImage",E,X).then(function(ie){T.notifier(k(E,"Snapshot succeeded")+" - "+ie,"long")}).catch(function(){T.notifier(k(E,"Sorry, there was a problem downloading your snapshot!"),"long")})}},w.sendDataToCloud={name:"sendDataToCloud",title:function(E){return k(E,"Edit in Chart Studio")},icon:b.disk,click:function(E){v.sendDataToCloud(E)}},w.editInChartStudio={name:"editInChartStudio",title:function(E){return k(E,"Edit in Chart Studio")},icon:b.pencil,click:function(E){v.sendDataToCloud(E)}},w.zoom2d={name:"zoom2d",_cat:"zoom",title:function(E){return k(E,"Zoom")},attr:"dragmode",val:"zoom",icon:b.zoombox,click:C},w.pan2d={name:"pan2d",_cat:"pan",title:function(E){return k(E,"Pan")},attr:"dragmode",val:"pan",icon:b.pan,click:C},w.select2d={name:"select2d",_cat:"select",title:function(E){return k(E,"Box Select")},attr:"dragmode",val:"select",icon:b.selectbox,click:C},w.lasso2d={name:"lasso2d",_cat:"lasso",title:function(E){return k(E,"Lasso Select")},attr:"dragmode",val:"lasso",icon:b.lasso,click:C},w.drawclosedpath={name:"drawclosedpath",title:function(E){return k(E,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:b.drawclosedpath,click:C},w.drawopenpath={name:"drawopenpath",title:function(E){return k(E,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:b.drawopenpath,click:C},w.drawline={name:"drawline",title:function(E){return k(E,"Draw line")},attr:"dragmode",val:"drawline",icon:b.drawline,click:C},w.drawrect={name:"drawrect",title:function(E){return k(E,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:b.drawrect,click:C},w.drawcircle={name:"drawcircle",title:function(E){return k(E,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:b.drawcircle,click:C},w.eraseshape={name:"eraseshape",title:function(E){return k(E,"Erase active shape")},icon:b.eraseshape,click:O},w.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(E){return k(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:C},w.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(E){return k(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:C},w.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(E){return k(E,"Autoscale")},attr:"zoom",val:"auto",icon:b.autoscale,click:C},w.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(E){return k(E,"Reset axes")},attr:"zoom",val:"reset",icon:b.home,click:C},w.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(E){return k(E,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:C},w.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(E){return k(E,"Compare data on hover")},attr:"hovermode",val:function(E){return E._fullLayout._isHoriz?"y":"x"},icon:b.tooltip_compare,gravity:"ne",click:C};function C(E,W){var X=W.currentTarget,ie=X.getAttribute("data-attr"),L=X.getAttribute("data-val")||!0,me=E._fullLayout,ae={},q=y.list(E,null,!0),de=me._cartesianSpikesEnabled,ee,xe;if(ie==="zoom"){var we=L==="in"?.5:2,Be=(1+we)/2,pe=(1-we)/2,ne;for(xe=0;xe<q.length;xe++)if(ee=q[xe],!ee.fixedrange)if(ne=ee._name,L==="auto")ae[ne+".autorange"]=!0;else if(L==="reset")ee._rangeInitial0===void 0&&ee._rangeInitial1===void 0?ae[ne+".autorange"]=!0:ee._rangeInitial0===void 0?(ae[ne+".autorange"]=ee._autorangeInitial,ae[ne+".range"]=[null,ee._rangeInitial1]):ee._rangeInitial1===void 0?(ae[ne+".range"]=[ee._rangeInitial0,null],ae[ne+".autorange"]=ee._autorangeInitial):ae[ne+".range"]=[ee._rangeInitial0,ee._rangeInitial1],ee._showSpikeInitial!==void 0&&(ae[ne+".showspikes"]=ee._showSpikeInitial,de==="on"&&!ee._showSpikeInitial&&(de="off"));else{var le=[ee.r2l(ee.range[0]),ee.r2l(ee.range[1])],Y=[Be*le[0]+pe*le[1],Be*le[1]+pe*le[0]];ae[ne+".range[0]"]=ee.l2r(Y[0]),ae[ne+".range[1]"]=ee.l2r(Y[1])}}else ie==="hovermode"&&(L==="x"||L==="y")&&(L=me._isHoriz?"y":"x",X.setAttribute("data-val",L)),ae[ie]=L;me._cartesianSpikesEnabled=de,g.call("_guiRelayout",E,ae)}w.zoom3d={name:"zoom3d",_cat:"zoom",title:function(E){return k(E,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:b.zoombox,click:_},w.pan3d={name:"pan3d",_cat:"pan",title:function(E){return k(E,"Pan")},attr:"scene.dragmode",val:"pan",icon:b.pan,click:_},w.orbitRotation={name:"orbitRotation",title:function(E){return k(E,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:b["3d_rotate"],click:_},w.tableRotation={name:"tableRotation",title:function(E){return k(E,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:b["z-axis"],click:_};function _(E,W){for(var X=W.currentTarget,ie=X.getAttribute("data-attr"),L=X.getAttribute("data-val")||!0,me=E._fullLayout._subplots.gl3d||[],ae={},q=ie.split("."),de=0;de<me.length;de++)ae[me[de]+"."+q[1]]=L;var ee=L==="pan"?L:"zoom";ae.dragmode=ee,g.call("_guiRelayout",E,ae)}w.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(E){return k(E,"Reset camera to default")},attr:"resetDefault",icon:b.home,click:M},w.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(E){return k(E,"Reset camera to last save")},attr:"resetLastSave",icon:b.movie,click:M};function M(E,W){for(var X=W.currentTarget,ie=X.getAttribute("data-attr"),L=ie==="resetLastSave",me=ie==="resetDefault",ae=E._fullLayout,q=ae._subplots.gl3d||[],de={},ee=0;ee<q.length;ee++){var xe=q[ee],we=xe+".camera",Be=xe+".aspectratio",pe=xe+".aspectmode",ne=ae[xe]._scene,le;L?(de[we+".up"]=ne.viewInitial.up,de[we+".eye"]=ne.viewInitial.eye,de[we+".center"]=ne.viewInitial.center,le=!0):me&&(de[we+".up"]=null,de[we+".eye"]=null,de[we+".center"]=null,le=!0),le&&(de[Be+".x"]=ne.viewInitial.aspectratio.x,de[Be+".y"]=ne.viewInitial.aspectratio.y,de[Be+".z"]=ne.viewInitial.aspectratio.z,de[pe]=ne.viewInitial.aspectmode)}g.call("_guiRelayout",E,de)}w.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:V};function I(E,W){var X=W.currentTarget,ie=X._previousVal,L=E._fullLayout,me=L._subplots.gl3d||[],ae=["xaxis","yaxis","zaxis"],q={},de={};if(ie)de=ie,X._previousVal=null;else{for(var ee=0;ee<me.length;ee++){var xe=me[ee],we=L[xe],Be=xe+".hovermode";q[Be]=we.hovermode,de[Be]=!1;for(var pe=0;pe<3;pe++){var ne=ae[pe],le=xe+"."+ne+".showspikes";de[le]=!1,q[le]=we[ne].showspikes}}X._previousVal=q}return de}function V(E,W){var X=I(E,W);g.call("_guiRelayout",E,X)}w.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(E){return k(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:N},w.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(E){return k(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:N},w.resetGeo={name:"resetGeo",_cat:"reset",title:function(E){return k(E,"Reset")},attr:"reset",val:null,icon:b.autoscale,click:N},w.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:z};function N(E,W){for(var X=W.currentTarget,ie=X.getAttribute("data-attr"),L=X.getAttribute("data-val")||!0,me=E._fullLayout,ae=me._subplots.geo||[],q=0;q<ae.length;q++){var de=ae[q],ee=me[de];if(ie==="zoom"){var xe=ee.projection.scale,we=L==="in"?2*xe:.5*xe;g.call("_guiRelayout",E,de+".projection.scale",we)}}ie==="reset"&&B(E,"geo")}w.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:z},w.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:z};function Q(E){var W=E._fullLayout;return W.hovermode?!1:W._has("cartesian")?W._isHoriz?"y":"x":"closest"}function z(E){var W=Q(E);g.call("_guiRelayout",E,"hovermode",W)}w.resetViewSankey={name:"resetSankeyGroup",title:function(E){return k(E,"Reset view")},icon:b.home,click:function(E){for(var W={"node.groups":[],"node.x":[],"node.y":[]},X=0;X<E._fullData.length;X++){var ie=E._fullData[X]._viewInitial;W["node.groups"].push(ie.node.groups.slice()),W["node.x"].push(ie.node.x.slice()),W["node.y"].push(ie.node.y.slice())}g.call("restyle",E,W)}},w.toggleHover={name:"toggleHover",title:function(E){return k(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:function(E,W){var X=I(E,W);X.hovermode=Q(E),g.call("_guiRelayout",E,X)}},w.resetViews={name:"resetViews",title:function(E){return k(E,"Reset views")},icon:b.home,click:function(E,W){var X=W.currentTarget;X.setAttribute("data-attr","zoom"),X.setAttribute("data-val","reset"),C(E,W),X.setAttribute("data-attr","resetLastSave"),M(E,W),B(E,"geo"),B(E,"mapbox")}},w.toggleSpikelines={name:"toggleSpikelines",title:function(E){return k(E,"Toggle Spike Lines")},icon:b.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(E){var W=E._fullLayout,X=W._cartesianSpikesEnabled;W._cartesianSpikesEnabled=X==="on"?"off":"on",g.call("_guiRelayout",E,U(E))}};function U(E){for(var W=E._fullLayout,X=W._cartesianSpikesEnabled==="on",ie=y.list(E,null,!0),L={},me=0;me<ie.length;me++){var ae=ie[me];L[ae._name+".showspikes"]=X?!0:ae._showSpikeInitial}return L}w.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(E){return k(E,"Reset view")},attr:"reset",icon:b.home,click:function(E){B(E,"mapbox")}},w.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(E){return k(E,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:F},w.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(E){return k(E,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:F};function F(E,W){for(var X=W.currentTarget,ie=X.getAttribute("data-val"),L=E._fullLayout,me=L._subplots.mapbox||[],ae=1.05,q={},de=0;de<me.length;de++){var ee=me[de],xe=L[ee].zoom,we=ie==="in"?ae*xe:xe/ae;q[ee+".zoom"]=we}g.call("_guiRelayout",E,q)}function B(E,W){for(var X=E._fullLayout,ie=X._subplots[W]||[],L={},me=0;me<ie.length;me++)for(var ae=ie[me],q=X[ae]._subplot,de=q.viewInitial,ee=Object.keys(de),xe=0;xe<ee.length;xe++){var we=ee[xe];L[ae+"."+we]=de[we]}g.call("_guiRelayout",E,L)}},3348:function(d,h,c){var g=c(6023),v=Object.keys(g),y=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],b=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(y),O=[],T=function(k){if(b.indexOf(k._cat||k.name)===-1){var w=k.name,C=(k._cat||k.name).toLowerCase();O.indexOf(w)===-1&&O.push(w),O.indexOf(C)===-1&&O.push(C)}};v.forEach(function(k){T(g[k])}),O.sort(),d.exports={DRAW_MODES:y,backButtons:b,foreButtons:O}},5750:function(d,h,c){var g=c(1828),v=c(7901),y=c(4467),b=c(2068);d.exports=function(T,k){var w=T.modebar||{},C=y.newContainer(k,"modebar");function _(I,V){return g.coerce(w,C,b,I,V)}_("orientation"),_("bgcolor",v.addOpacity(k.paper_bgcolor,.5));var M=v.contrast(v.rgb(k.modebar.bgcolor));_("color",v.addOpacity(M,.3)),_("activecolor",v.addOpacity(M,.7)),_("uirevision",k.uirevision),_("add"),_("remove")}},4168:function(d,h,c){d.exports={moduleType:"component",name:"modebar",layoutAttributes:c(2068),supplyLayoutDefaults:c(5750),manage:c(4192)}},4192:function(d,h,c){var g=c(1675),v=c(4098),y=c(3972),b=c(3469).isUnifiedHover,O=c(7676),T=c(6023),k=c(3348).DRAW_MODES,w=c(1828).extendDeep;d.exports=function(z){var U=z._fullLayout,F=z._context,B=U._modeBar;if(!F.displayModeBar&&!F.watermark){B&&(B.destroy(),delete U._modeBar);return}if(!Array.isArray(F.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(F.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var E=F.modeBarButtons,W;Array.isArray(E)&&E.length?W=N(E):!F.displayModeBar&&F.watermark?W=[]:W=C(z),B?B.update(z,W):U._modeBar=O(z,W)};function C(Q){var z=Q._fullLayout,U=Q._fullData,F=Q._context;function B(fe,oe){if(typeof oe=="string"){if(oe.toLowerCase()===fe.toLowerCase())return!0}else{var Se=oe.name,ce=oe._cat||oe.name;if(Se===fe||ce===fe.toLowerCase())return!0}return!1}var E=z.modebar.add;typeof E=="string"&&(E=[E]);var W=z.modebar.remove;typeof W=="string"&&(W=[W]);var X=F.modeBarButtonsToAdd.concat(E.filter(function(fe){for(var oe=0;oe<F.modeBarButtonsToRemove.length;oe++)if(B(fe,F.modeBarButtonsToRemove[oe]))return!1;return!0})),ie=F.modeBarButtonsToRemove.concat(W.filter(function(fe){for(var oe=0;oe<F.modeBarButtonsToAdd.length;oe++)if(B(fe,F.modeBarButtonsToAdd[oe]))return!1;return!0})),L=z._has("cartesian"),me=z._has("gl3d"),ae=z._has("geo"),q=z._has("pie"),de=z._has("funnelarea"),ee=z._has("gl2d"),xe=z._has("ternary"),we=z._has("mapbox"),Be=z._has("polar"),pe=z._has("smith"),ne=z._has("sankey"),le=_(z),Y=b(z.hovermode),ve=[];function Oe(fe){if(fe.length){for(var oe=[],Se=0;Se<fe.length;Se++){for(var ce=fe[Se],ke=T[ce],Qe=ke.name.toLowerCase(),Ze=(ke._cat||ke.name).toLowerCase(),Xe=!1,ct=0;ct<ie.length;ct++){var pt=ie[ct].toLowerCase();if(pt===Qe||pt===Ze){Xe=!0;break}}Xe||oe.push(T[ce])}ve.push(oe)}}var Le=["toImage"];F.showEditInChartStudio?Le.push("editInChartStudio"):F.showSendToCloud&&Le.push("sendDataToCloud"),Oe(Le);var Te=[],De=[],Ve=[],_e=[];(L||ee||q||de||xe)+ae+me+we+Be+pe>1?(De=["toggleHover"],Ve=["resetViews"]):ae?(Te=["zoomInGeo","zoomOutGeo"],De=["hoverClosestGeo"],Ve=["resetGeo"]):me?(De=["hoverClosest3d"],Ve=["resetCameraDefault3d","resetCameraLastSave3d"]):we?(Te=["zoomInMapbox","zoomOutMapbox"],De=["toggleHover"],Ve=["resetViewMapbox"]):ee?De=["hoverClosestGl2d"]:q?De=["hoverClosestPie"]:ne?(De=["hoverClosestCartesian","hoverCompareCartesian"],Ve=["resetViewSankey"]):De=["toggleHover"],L&&(De=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(I(U)||Y)&&(De=[]),(L||ee)&&!le&&(Te=["zoomIn2d","zoomOut2d","autoScale2d"],Ve[0]!=="resetViews"&&(Ve=["resetScale2d"])),me?_e=["zoom3d","pan3d","orbitRotation","tableRotation"]:(L||ee)&&!le||xe?_e=["zoom2d","pan2d"]:we||ae?_e=["pan2d"]:Be&&(_e=["zoom2d"]),M(U)&&_e.push("select2d","lasso2d");var Ie=[],re=function(fe){Ie.indexOf(fe)===-1&&De.indexOf(fe)!==-1&&Ie.push(fe)};if(Array.isArray(X)){for(var be=[],te=0;te<X.length;te++){var se=X[te];typeof se=="string"?(se=se.toLowerCase(),k.indexOf(se)!==-1?(z._has("mapbox")||z._has("cartesian"))&&_e.push(se):se==="togglespikelines"?re("toggleSpikelines"):se==="togglehover"?re("toggleHover"):se==="hovercompare"?re("hoverCompareCartesian"):se==="hoverclosest"?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):se==="v1hovermode"&&(re("toggleHover"),re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):be.push(se)}X=be}return Oe(_e),Oe(Te.concat(Ve)),Oe(Ie),V(ve,X)}function _(Q){for(var z=g.list({_fullLayout:Q},null,!0),U=0;U<z.length;U++)if(!z[U].fixedrange)return!1;return!0}function M(Q){for(var z=!1,U=0;U<Q.length&&!z;U++){var F=Q[U];!F._module||!F._module.selectPoints||(y.traceIs(F,"scatter-like")?(v.hasMarkers(F)||v.hasText(F))&&(z=!0):y.traceIs(F,"box-violin")?(F.boxpoints==="all"||F.points==="all")&&(z=!0):z=!0)}return z}function I(Q){for(var z=0;z<Q.length;z++)if(!y.traceIs(Q[z],"noHover"))return!1;return!0}function V(Q,z){if(z.length)if(Array.isArray(z[0]))for(var U=0;U<z.length;U++)Q.push(z[U]);else Q.push(z);return Q}function N(Q){for(var z=w([],Q),U=0;U<z.length;U++)for(var F=z[U],B=0;B<F.length;B++){var E=F[B];if(typeof E=="string")if(T[E]!==void 0)z[U][B]=T[E];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return z}},7676:function(d,h,c){var g=c(9898),v=c(2770),y=c(1828),b=c(4255),O=c(1506).version,T=new DOMParser;function k(M){this.container=M.container,this.element=document.createElement("div"),this.update(M.graphInfo,M.buttons),this.container.appendChild(this.element)}var w=k.prototype;w.update=function(M,I){this.graphInfo=M;var V=this.graphInfo._context,N=this.graphInfo._fullLayout,Q="modebar-"+N._uid;this.element.setAttribute("id",Q),this._uid=Q,this.element.className="modebar",V.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),N.modebar.orientation==="v"&&(this.element.className+=" vertical",I=I.reverse());var z=N.modebar,U=V.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";y.deleteRelatedStyleRule(Q),y.addRelatedStyleRule(Q,U+"#"+Q+" .modebar-group","background-color: "+z.bgcolor),y.addRelatedStyleRule(Q,"#"+Q+" .modebar-btn .icon path","fill: "+z.color),y.addRelatedStyleRule(Q,"#"+Q+" .modebar-btn:hover .icon path","fill: "+z.activecolor),y.addRelatedStyleRule(Q,"#"+Q+" .modebar-btn.active .icon path","fill: "+z.activecolor);var F=!this.hasButtons(I),B=this.hasLogo!==V.displaylogo,E=this.locale!==V.locale;if(this.locale=V.locale,(F||B||E)&&(this.removeAllButtons(),this.updateButtons(I),V.watermark||V.displaylogo)){var W=this.getLogo();V.watermark&&(W.className=W.className+" watermark"),N.modebar.orientation==="v"?this.element.insertBefore(W,this.element.childNodes[0]):this.element.appendChild(W),this.hasLogo=!0}this.updateActiveButton()},w.updateButtons=function(M){var I=this;this.buttons=M,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(V){var N=I.createGroup();V.forEach(function(Q){var z=Q.name;if(!z)throw new Error("must provide button 'name' in button config");if(I.buttonsNames.indexOf(z)!==-1)throw new Error("button name '"+z+"' is taken");I.buttonsNames.push(z);var U=I.createButton(Q);I.buttonElements.push(U),N.appendChild(U)}),I.element.appendChild(N)})},w.createGroup=function(){var M=document.createElement("div");return M.className="modebar-group",M},w.createButton=function(M){var I=this,V=document.createElement("a");V.setAttribute("rel","tooltip"),V.className="modebar-btn";var N=M.title;N===void 0?N=M.name:typeof N=="function"&&(N=N(this.graphInfo)),(N||N===0)&&V.setAttribute("data-title",N),M.attr!==void 0&&V.setAttribute("data-attr",M.attr);var Q=M.val;Q!==void 0&&(typeof Q=="function"&&(Q=Q(this.graphInfo)),V.setAttribute("data-val",Q));var z=M.click;if(typeof z!="function")throw new Error("must provide button 'click' function in button config");V.addEventListener("click",function(F){M.click(I.graphInfo,F),I.updateActiveButton(F.currentTarget)}),V.setAttribute("data-toggle",M.toggle||!1),M.toggle&&g.select(V).classed("active",!0);var U=M.icon;return typeof U=="function"?V.appendChild(U()):V.appendChild(this.createIcon(U||b.question)),V.setAttribute("data-gravity",M.gravity||"n"),V},w.createIcon=function(M){var I=v(M.height)?Number(M.height):M.ascent-M.descent,V="http://www.w3.org/2000/svg",N;if(M.path){N=document.createElementNS(V,"svg"),N.setAttribute("viewBox",[0,0,M.width,I].join(" ")),N.setAttribute("class","icon");var Q=document.createElementNS(V,"path");Q.setAttribute("d",M.path),M.transform?Q.setAttribute("transform",M.transform):M.ascent!==void 0&&Q.setAttribute("transform","matrix(1 0 0 -1 0 "+M.ascent+")"),N.appendChild(Q)}if(M.svg){var z=T.parseFromString(M.svg,"application/xml");N=z.childNodes[0]}return N.setAttribute("height","1em"),N.setAttribute("width","1em"),N},w.updateActiveButton=function(M){var I=this.graphInfo._fullLayout,V=M!==void 0?M.getAttribute("data-attr"):null;this.buttonElements.forEach(function(N){var Q=N.getAttribute("data-val")||!0,z=N.getAttribute("data-attr"),U=N.getAttribute("data-toggle")==="true",F=g.select(N);if(U)z===V&&F.classed("active",!F.classed("active"));else{var B=z===null?z:y.nestedProperty(I,z).get();F.classed("active",B===Q)}})},w.hasButtons=function(M){var I=this.buttons;if(!I||M.length!==I.length)return!1;for(var V=0;V<M.length;++V){if(M[V].length!==I[V].length)return!1;for(var N=0;N<M[V].length;N++)if(M[V][N].name!==I[V][N].name)return!1}return!0};function C(M){return M+" (v"+O+")"}w.getLogo=function(){var M=this.createGroup(),I=document.createElement("a");return I.href="https://plotly.com/",I.target="_blank",I.setAttribute("data-title",C(y._(this.graphInfo,"Produced with Plotly.js"))),I.className="modebar-btn plotlyjsicon modebar-btn--logo",I.appendChild(this.createIcon(b.newplotlylogo)),M.appendChild(I),M},w.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},w.destroy=function(){y.removeElement(this.container.querySelector(".modebar")),y.deleteRelatedStyleRule(this._uid)};function _(M,I){var V=M._fullLayout,N=new k({graphInfo:M,container:V._modebardiv.node(),buttons:I});return V._privateplot&&g.select(N.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),N}d.exports=_},7113:function(d,h,c){var g=c(1940),v=c(2399),y=c(4467).templatedArray,b=y("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});d.exports={visible:{valType:"boolean",editType:"plot"},buttons:b,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:v.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(d){d.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(d,h,c){var g=c(1828),v=c(7901),y=c(4467),b=c(5501),O=c(7113),T=c(9573);d.exports=function(_,M,I,V,N){var Q=_.rangeselector||{},z=y.newContainer(M,"rangeselector");function U(X,ie){return g.coerce(Q,z,O,X,ie)}var F=b(Q,z,{name:"buttons",handleItemDefaults:k,calendar:N}),B=U("visible",F.length>0);if(B){var E=w(M,I,V);U("x",E[0]),U("y",E[1]),g.noneOrAll(_,M,["x","y"]),U("xanchor"),U("yanchor"),g.coerceFont(U,"font",I.font);var W=U("bgcolor");U("activecolor",v.contrast(W,T.lightAmount,T.darkAmount)),U("bordercolor"),U("borderwidth")}};function k(C,_,M,I){var V=I.calendar;function N(U,F){return g.coerce(C,_,O.buttons,U,F)}var Q=N("visible");if(Q){var z=N("step");z!=="all"&&(V&&V!=="gregorian"&&(z==="month"||z==="year")?_.stepmode="backward":N("stepmode"),N("count")),N("label")}}function w(C,_,M){for(var I=M.filter(function(z){return _[z].anchor===C._id}),V=0,N=0;N<I.length;N++){var Q=_[I[N]].domain;Q&&(V=Math.max(Q[1],V))}return[C.domain[0],V+T.yPad]}},1598:function(d,h,c){var g=c(9898),v=c(3972),y=c(4875),b=c(7901),O=c(1424),T=c(1828),k=T.strTranslate,w=c(3893),C=c(1675),_=c(8783),M=_.LINE_SPACING,I=_.FROM_TL,V=_.FROM_BR,N=c(9573),Q=c(7917);d.exports=function(me){var ae=me._fullLayout,q=ae._infolayer.selectAll(".rangeselector").data(z(me),U);q.enter().append("g").classed("rangeselector",!0),q.exit().remove(),q.style({cursor:"pointer","pointer-events":"all"}),q.each(function(de){var ee=g.select(this),xe=de,we=xe.rangeselector,Be=ee.selectAll("g.button").data(T.filterVisible(we.buttons));Be.enter().append("g").classed("button",!0),Be.exit().remove(),Be.each(function(pe){var ne=g.select(this),le=Q(xe,pe);pe._isActive=F(xe,pe,le),ne.call(B,we,pe),ne.call(W,we,pe,me),ne.on("click",function(){me._dragged||v.call("_guiRelayout",me,le)}),ne.on("mouseover",function(){pe._isHovered=!0,ne.call(B,we,pe)}),ne.on("mouseout",function(){pe._isHovered=!1,ne.call(B,we,pe)})}),ie(me,Be,we,xe._name,ee)})};function z(L){for(var me=C.list(L,"x",!0),ae=[],q=0;q<me.length;q++){var de=me[q];de.rangeselector&&de.rangeselector.visible&&ae.push(de)}return ae}function U(L){return L._id}function F(L,me,ae){if(me.step==="all")return L.autorange===!0;var q=Object.keys(ae);return L.range[0]===ae[q[0]]&&L.range[1]===ae[q[1]]}function B(L,me,ae){var q=T.ensureSingle(L,"rect","selector-rect",function(de){de.attr("shape-rendering","crispEdges")});q.attr({rx:N.rx,ry:N.ry}),q.call(b.stroke,me.bordercolor).call(b.fill,E(me,ae)).style("stroke-width",me.borderwidth+"px")}function E(L,me){return me._isActive||me._isHovered?L.activecolor:L.bgcolor}function W(L,me,ae,q){function de(xe){w.convertToTspans(xe,q)}var ee=T.ensureSingle(L,"text","selector-text",function(xe){xe.attr("text-anchor","middle")});ee.call(O.font,me.font).text(X(ae,q._fullLayout._meta)).call(de)}function X(L,me){return L.label?me?T.templateString(L.label,me):L.label:L.step==="all"?"all":L.count+L.step.charAt(0)}function ie(L,me,ae,q,de){var ee=0,xe=0,we=ae.borderwidth;me.each(function(){var ve=g.select(this),Oe=ve.select(".selector-text"),Le=ae.font.size*M,Te=Math.max(Le*w.lineCount(Oe),16)+3;xe=Math.max(xe,Te)}),me.each(function(){var ve=g.select(this),Oe=ve.select(".selector-rect"),Le=ve.select(".selector-text"),Te=Le.node()&&O.bBox(Le.node()).width,De=ae.font.size*M,Ve=w.lineCount(Le),_e=Math.max(Te+10,N.minButtonWidth);ve.attr("transform",k(we+ee,we)),Oe.attr({x:0,y:0,width:_e,height:xe}),w.positionText(Le,_e/2,xe/2-(Ve-1)*De/2+3),ee+=_e+5});var Be=L._fullLayout._size,pe=Be.l+Be.w*ae.x,ne=Be.t+Be.h*(1-ae.y),le="left";T.isRightAnchor(ae)&&(pe-=ee,le="right"),T.isCenterAnchor(ae)&&(pe-=ee/2,le="center");var Y="top";T.isBottomAnchor(ae)&&(ne-=xe,Y="bottom"),T.isMiddleAnchor(ae)&&(ne-=xe/2,Y="middle"),ee=Math.ceil(ee),xe=Math.ceil(xe),pe=Math.round(pe),ne=Math.round(ne),y.autoMargin(L,q+"-range-selector",{x:ae.x,y:ae.y,l:ee*I[le],r:ee*V[le],b:xe*V[Y],t:xe*I[Y]}),de.attr("transform",k(pe,ne))}},7917:function(d,h,c){var g=c(1041),v=c(1828).titleCase;d.exports=function(O,T){var k=O._name,w={};if(T.step==="all")w[k+".autorange"]=!0;else{var C=y(O,T);w[k+".range[0]"]=C[0],w[k+".range[1]"]=C[1]}return w};function y(b,O){var T=b.range,k=new Date(b.r2l(T[1])),w=O.step,C=g["utc"+v(w)],_=O.count,M;switch(O.stepmode){case"backward":M=b.l2r(+C.offset(k,-_));break;case"todate":var I=C.offset(k,-_);M=b.l2r(+C.ceil(I));break}var V=T[1];return[M,V]}},7218:function(d,h,c){d.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:c(7113)}}},layoutAttributes:c(7113),handleDefaults:c(8674),draw:c(1598)}},5148:function(d,h,c){var g=c(2399);d.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(d,h,c){var g=c(1675).list,v=c(1739).getAutoRange,y=c(3251);d.exports=function(O){for(var T=g(O,"x",!0),k=0;k<T.length;k++){var w=T[k],C=w[y.name];C&&C.visible&&C.autorange&&(C._input.autorange=!0,C._input.range=C.range=v(O,w))}}},3251:function(d){d.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(d,h,c){var g=c(1828),v=c(4467),y=c(1675),b=c(5148),O=c(7850);d.exports=function(k,w,C){var _=k[C],M=w[C];if(!(_.rangeslider||w._requestRangeslider[M._id]))return;g.isPlainObject(_.rangeslider)||(_.rangeslider={});var I=_.rangeslider,V=v.newContainer(M,"rangeslider");function N(q,de){return g.coerce(I,V,b,q,de)}var Q,z;function U(q,de){return g.coerce(Q,z,O,q,de)}var F=N("visible");if(F){N("bgcolor",w.plot_bgcolor),N("bordercolor"),N("borderwidth"),N("thickness"),N("autorange",!M.isValidRange(I.range)),N("range");var B=w._subplots;if(B)for(var E=B.cartesian.filter(function(q){return q.substr(0,q.indexOf("y"))===y.name2id(C)}).map(function(q){return q.substr(q.indexOf("y"),q.length)}),W=g.simpleMap(E,y.id2name),X=0;X<W.length;X++){var ie=W[X];Q=I[ie]||{},z=v.newContainer(V,ie,"yaxis");var L=w[ie],me;Q.range&&L.isValidRange(Q.range)&&(me="fixed");var ae=U("rangemode",me);ae!=="match"&&U("range",L.range.slice())}V._input=I}}},2413:function(d,h,c){var g=c(9898),v=c(3972),y=c(4875),b=c(1828),O=b.strTranslate,T=c(1424),k=c(7901),w=c(2998),C=c(3612),_=c(1675),M=c(8569),I=c(6964),V=c(3251);d.exports=function(L){for(var me=L._fullLayout,ae=me._rangeSliderData,q=0;q<ae.length;q++){var de=ae[q][V.name];de._clipId=de._id+"-"+me._uid}function ee(we){return we._name}var xe=me._infolayer.selectAll("g."+V.containerClassName).data(ae,ee);xe.exit().each(function(we){var Be=we[V.name];me._topdefs.select("#"+Be._clipId).remove()}).remove(),ae.length!==0&&(xe.enter().append("g").classed(V.containerClassName,!0).attr("pointer-events","all"),xe.each(function(we){var Be=g.select(this),pe=we[V.name],ne=me[_.id2name(we.anchor)],le=pe[_.id2name(we.anchor)];if(pe.range){var Y=b.simpleMap(pe.range,we.r2l),ve=b.simpleMap(we.range,we.r2l),Oe;ve[0]<ve[1]?Oe=[Math.min(Y[0],ve[0]),Math.max(Y[1],ve[1])]:Oe=[Math.max(Y[0],ve[0]),Math.min(Y[1],ve[1])],pe.range=pe._input.range=b.simpleMap(Oe,we.l2r)}we.cleanRange("rangeslider.range");var Le=me._size,Te=we.domain;pe._width=Le.w*(Te[1]-Te[0]);var De=Math.round(Le.l+Le.w*Te[0]),Ve=Math.round(Le.t+Le.h*(1-we._counterDomainMin)+(we.side==="bottom"?we._depth:0)+pe._offsetShift+V.extraPad);Be.attr("transform",O(De,Ve)),pe._rl=b.simpleMap(pe.range,we.r2l);var _e=pe._rl[0],Ie=pe._rl[1],re=Ie-_e;if(pe.p2d=function(Ze){return Ze/pe._width*re+_e},pe.d2p=function(Ze){return(Ze-_e)/re*pe._width},we.rangebreaks){var be=we.locateBreaks(_e,Ie);if(be.length){var te,se,fe=0;for(te=0;te<be.length;te++)se=be[te],fe+=se.max-se.min;var oe=pe._width/(Ie-_e-fe),Se=[-oe*_e];for(te=0;te<be.length;te++)se=be[te],Se.push(Se[Se.length-1]-oe*(se.max-se.min));for(pe.d2p=function(Ze){for(var Xe=Se[0],ct=0;ct<be.length;ct++){var pt=be[ct];if(Ze>=pt.max)Xe=Se[ct+1];else if(Ze<pt.min)break}return Xe+oe*Ze},te=0;te<be.length;te++)se=be[te],se.pmin=pe.d2p(se.min),se.pmax=pe.d2p(se.max);pe.p2d=function(Ze){for(var Xe=Se[0],ct=0;ct<be.length;ct++){var pt=be[ct];if(Ze>=pt.pmax)Xe=Se[ct+1];else if(Ze<pt.pmin)break}return(Ze-Xe)/oe}}}if(le.rangemode!=="match"){var ce=ne.r2l(le.range[0]),ke=ne.r2l(le.range[1]),Qe=ke-ce;pe.d2pOppAxis=function(Ze){return(Ze-ce)/Qe*pe._height}}Be.call(U,L,we,pe).call(F,L,we,pe).call(B,L,we,pe).call(W,L,we,pe,le).call(X,L,we,pe).call(ie,L,we,pe),N(Be,L,we,pe),z(Be,L,we,pe,ne,le),we.side==="bottom"&&w.draw(L,we._id+"title",{propContainer:we,propName:we._name+".title",placeholder:me._dfltTitle.x,attributes:{x:we._offset+we._length/2,y:Ve+pe._height+pe._offsetShift+10+1.5*we.title.font.size,"text-anchor":"middle"}})}))};function N(L,me,ae,q){if(me._context.staticPlot)return;var de=L.select("rect."+V.slideBoxClassName).node(),ee=L.select("rect."+V.grabAreaMinClassName).node(),xe=L.select("rect."+V.grabAreaMaxClassName).node();function we(){var Be=g.event,pe=Be.target,ne=Be.clientX||Be.touches[0].clientX,le=ne-L.node().getBoundingClientRect().left,Y=q.d2p(ae._rl[0]),ve=q.d2p(ae._rl[1]),Oe=M.coverSlip();this.addEventListener("touchmove",Le),this.addEventListener("touchend",Te),Oe.addEventListener("mousemove",Le),Oe.addEventListener("mouseup",Te);function Le(De){var Ve=De.clientX||De.touches[0].clientX,_e=+Ve-ne,Ie,re,be;switch(pe){case de:if(be="ew-resize",Y+_e>ae._length||ve+_e<0)return;Ie=Y+_e,re=ve+_e;break;case ee:if(be="col-resize",Y+_e>ae._length)return;Ie=Y+_e,re=ve;break;case xe:if(be="col-resize",ve+_e<0)return;Ie=Y,re=ve+_e;break;default:be="ew-resize",Ie=le,re=le+_e;break}if(re<Ie){var te=re;re=Ie,Ie=te}q._pixelMin=Ie,q._pixelMax=re,I(g.select(Oe),be),Q(L,me,ae,q)}function Te(){Oe.removeEventListener("mousemove",Le),Oe.removeEventListener("mouseup",Te),this.removeEventListener("touchmove",Le),this.removeEventListener("touchend",Te),b.removeElement(Oe)}}L.on("mousedown",we),L.on("touchstart",we)}function Q(L,me,ae,q){function de(we){return ae.l2r(b.constrain(we,q._rl[0],q._rl[1]))}var ee=de(q.p2d(q._pixelMin)),xe=de(q.p2d(q._pixelMax));window.requestAnimationFrame(function(){v.call("_guiRelayout",me,ae._name+".range",[ee,xe])})}function z(L,me,ae,q,de,ee){var xe=V.handleWidth/2;function we(De){return b.constrain(De,0,q._width)}function Be(De){return b.constrain(De,0,q._height)}function pe(De){return b.constrain(De,-xe,q._width+xe)}var ne=we(q.d2p(ae._rl[0])),le=we(q.d2p(ae._rl[1]));if(L.select("rect."+V.slideBoxClassName).attr("x",ne).attr("width",le-ne),L.select("rect."+V.maskMinClassName).attr("width",ne),L.select("rect."+V.maskMaxClassName).attr("x",le).attr("width",q._width-le),ee.rangemode!=="match"){var Y=q._height-Be(q.d2pOppAxis(de._rl[1])),ve=q._height-Be(q.d2pOppAxis(de._rl[0]));L.select("rect."+V.maskMinOppAxisClassName).attr("x",ne).attr("height",Y).attr("width",le-ne),L.select("rect."+V.maskMaxOppAxisClassName).attr("x",ne).attr("y",ve).attr("height",q._height-ve).attr("width",le-ne),L.select("rect."+V.slideBoxClassName).attr("y",Y).attr("height",ve-Y)}var Oe=.5,Le=Math.round(pe(ne-xe))-Oe,Te=Math.round(pe(le-xe))+Oe;L.select("g."+V.grabberMinClassName).attr("transform",O(Le,Oe)),L.select("g."+V.grabberMaxClassName).attr("transform",O(Te,Oe))}function U(L,me,ae,q){var de=b.ensureSingle(L,"rect",V.bgClassName,function(Be){Be.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),ee=q.borderwidth%2===0?q.borderwidth:q.borderwidth-1,xe=-q._offsetShift,we=T.crispRound(me,q.borderwidth);de.attr({width:q._width+ee,height:q._height+ee,transform:O(xe,xe),"stroke-width":we}).call(k.stroke,q.bordercolor).call(k.fill,q.bgcolor)}function F(L,me,ae,q){var de=me._fullLayout,ee=b.ensureSingleById(de._topdefs,"clipPath",q._clipId,function(xe){xe.append("rect").attr({x:0,y:0})});ee.select("rect").attr({width:q._width,height:q._height})}function B(L,me,ae,q){var de=me.calcdata,ee=L.selectAll("g."+V.rangePlotClassName).data(ae._subplotsWith,b.identity);ee.enter().append("g").attr("class",function(we){return V.rangePlotClassName+" "+we}).call(T.setClipUrl,q._clipId,me),ee.order(),ee.exit().remove();var xe;ee.each(function(we,Be){var pe=g.select(this),ne=Be===0,le=_.getFromId(me,we,"y"),Y=le._name,ve=q[Y],Oe={data:[],layout:{xaxis:{type:ae.type,domain:[0,1],range:q.range.slice(),calendar:ae.calendar},width:q._width,height:q._height,margin:{t:0,b:0,l:0,r:0}},_context:me._context};ae.rangebreaks&&(Oe.layout.xaxis.rangebreaks=ae.rangebreaks),Oe.layout[Y]={type:le.type,domain:[0,1],range:ve.rangemode!=="match"?ve.range.slice():le.range.slice(),calendar:le.calendar},le.rangebreaks&&(Oe.layout[Y].rangebreaks=le.rangebreaks),y.supplyDefaults(Oe);var Le=Oe._fullLayout.xaxis,Te=Oe._fullLayout[Y];Le.clearCalc(),Le.setScale(),Te.clearCalc(),Te.setScale();var De={id:we,plotgroup:pe,xaxis:Le,yaxis:Te,isRangePlot:!0};ne?xe=De:(De.mainplot="xy",De.mainplotinfo=xe),C.rangePlot(me,De,E(de,we))})}function E(L,me){for(var ae=[],q=0;q<L.length;q++){var de=L[q],ee=de[0].trace;ee.xaxis+ee.yaxis===me&&ae.push(de)}return ae}function W(L,me,ae,q,de){var ee=b.ensureSingle(L,"rect",V.maskMinClassName,function(pe){pe.attr({x:0,y:0,"shape-rendering":"crispEdges"})});ee.attr("height",q._height).call(k.fill,V.maskColor);var xe=b.ensureSingle(L,"rect",V.maskMaxClassName,function(pe){pe.attr({y:0,"shape-rendering":"crispEdges"})});if(xe.attr("height",q._height).call(k.fill,V.maskColor),de.rangemode!=="match"){var we=b.ensureSingle(L,"rect",V.maskMinOppAxisClassName,function(pe){pe.attr({y:0,"shape-rendering":"crispEdges"})});we.attr("width",q._width).call(k.fill,V.maskOppAxisColor);var Be=b.ensureSingle(L,"rect",V.maskMaxOppAxisClassName,function(pe){pe.attr({y:0,"shape-rendering":"crispEdges"})});Be.attr("width",q._width).style("border-top",V.maskOppBorder).call(k.fill,V.maskOppAxisColor)}}function X(L,me,ae,q){if(!me._context.staticPlot){var de=b.ensureSingle(L,"rect",V.slideBoxClassName,function(ee){ee.attr({y:0,cursor:V.slideBoxCursor,"shape-rendering":"crispEdges"})});de.attr({height:q._height,fill:V.slideBoxFill})}}function ie(L,me,ae,q){var de=b.ensureSingle(L,"g",V.grabberMinClassName),ee=b.ensureSingle(L,"g",V.grabberMaxClassName),xe={x:0,width:V.handleWidth,rx:V.handleRadius,fill:k.background,stroke:k.defaultLine,"stroke-width":V.handleStrokeWidth,"shape-rendering":"crispEdges"},we={y:Math.round(q._height/4),height:Math.round(q._height/2)},Be=b.ensureSingle(de,"rect",V.handleMinClassName,function(ve){ve.attr(xe)});Be.attr(we);var pe=b.ensureSingle(ee,"rect",V.handleMaxClassName,function(ve){ve.attr(xe)});pe.attr(we);var ne={width:V.grabAreaWidth,x:0,y:0,fill:V.grabAreaFill,cursor:me._context.staticPlot?void 0:V.grabAreaCursor},le=b.ensureSingle(de,"rect",V.grabAreaMinClassName,function(ve){ve.attr(ne)});le.attr("height",q._height);var Y=b.ensureSingle(ee,"rect",V.grabAreaMaxClassName,function(ve){ve.attr(ne)});Y.attr("height",q._height)}},549:function(d,h,c){var g=c(1675),v=c(3893),y=c(3251),b=c(8783).LINE_SPACING,O=y.name;function T(k){var w=k&&k[O];return w&&w.visible}h.isVisible=T,h.makeData=function(k){var w=g.list({_fullLayout:k},"x",!0),C=k.margin,_=[];if(!k._has("gl2d"))for(var M=0;M<w.length;M++){var I=w[M];if(T(I)){_.push(I);var V=I[O];V._id=O+I._id,V._height=(k.height-C.b-C.t)*V.thickness,V._offsetShift=Math.floor(V.borderwidth/2)}}k._rangeSliderData=_},h.autoMarginOpts=function(k,w){var C=k._fullLayout,_=w[O],M=w._id.charAt(0),I=0,V=0;if(w.side==="bottom"&&(I=w._depth,w.title.text!==C._dfltTitle[M])){V=1.5*w.title.font.size+10+_._offsetShift;var N=(w.title.text.match(v.BR_TAG_ALL)||[]).length;V+=N*w.title.font.size*b}return{x:0,y:w._counterDomainMin,l:0,r:0,t:0,b:_._height+I+Math.max(C.margin.b,V),pad:y.extraPad+_._offsetShift*2}}},3137:function(d,h,c){var g=c(1828),v=c(5148),y=c(7850),b=c(549);d.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},v,{yaxis:y})}}},layoutAttributes:c(5148),handleDefaults:c(6377),calcAutorange:c(8443),draw:c(2413),isVisible:b.isVisible,makeData:b.makeData,autoMarginOpts:b.autoMarginOpts}},7850:function(d){d.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(d,h,c){var g=c(215),v=c(2196).line,y=c(9952).P,b=c(1426).extendFlat,O=c(962).overrideAll,T=c(4467).templatedArray;c(4695),d.exports=O(T("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:b({},g.xref,{}),yref:b({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:v.color,width:b({},v.width,{min:1,dflt:1}),dash:b({},y,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(d){d.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(d,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(8389),O=c(477);d.exports=function(w,C){y(w,C,{name:"selections",handleItemDefaults:T});for(var _=C.selections,M=0;M<_.length;M++){var I=_[M];I&&I.path===void 0&&(I.x0===void 0||I.x1===void 0||I.y0===void 0||I.y1===void 0)&&(C.selections[M]=null)}};function T(k,w,C){function _(ee,xe){return g.coerce(k,w,b,ee,xe)}var M=_("path"),I=M?"path":"rect",V=_("type",I),N=V!=="path";N&&delete w.path,_("opacity"),_("line.color"),_("line.width"),_("line.dash");for(var Q=["x","y"],z=0;z<2;z++){var U=Q[z],F={_fullLayout:C},B,E,W,X=v.coerceRef(k,w,F,U);if(B=v.getFromId(F,X),B._selectionIndices.push(w._index),W=O.rangeToShapePosition(B),E=O.shapePositionToRange(B),N){var ie=U+"0",L=U+"1",me=k[ie],ae=k[L];k[ie]=E(k[ie],!0),k[L]=E(k[L],!0),v.coercePosition(w,F,_,X,ie),v.coercePosition(w,F,_,X,L);var q=w[ie],de=w[L];q!==void 0&&de!==void 0&&(w[ie]=W(q),w[L]=W(de),k[ie]=me,k[L]=ae)}}N&&g.noneOrAll(k,w,["x0","x1","y0","y1"])}},2485:function(d,h,c){var g=c(165).readPaths,v=c(2359),y=c(1873).clearOutlineControllers,b=c(7901),O=c(1424),T=c(4467).arrayEditor,k=c(477),w=k.getPathString;d.exports={draw:C,drawOne:M,activateLastSelection:N};function C(z){var U=z._fullLayout;y(z),U._selectionLayer.selectAll("path").remove();for(var F in U._plots){var B=U._plots[F].selectionLayer;B&&B.selectAll("path").remove()}for(var E=0;E<U.selections.length;E++)M(z,E)}function _(z){return z._context.editSelection}function M(z,U){z._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+U+'"]').remove();var F=k.makeSelectionsOptionsAndPlotinfo(z,U),B=F.options,E=F.plotinfo;if(!B._input)return;W(z._fullLayout._selectionLayer);function W(X){var ie=w(z,B),L={"data-index":U,"fill-rule":"evenodd",d:ie},me=B.opacity,ae="rgba(0,0,0,0)",q=B.line.color||b.contrast(z._fullLayout.plot_bgcolor),de=B.line.width,ee=B.line.dash;de||(de=5,ee="solid");var xe=_(z)&&z._fullLayout._activeSelectionIndex===U;xe&&(ae=z._fullLayout.activeselection.fillcolor,me=z._fullLayout.activeselection.opacity);for(var we=[],Be=1;Be>=0;Be--){var pe=X.append("path").attr(L).style("opacity",Be?.1:me).call(b.stroke,q).call(b.fill,ae).call(O.dashLine,Be?"solid":ee,Be?4+de:de);if(I(pe,z,B),xe){var ne=T(z.layout,"selections",B);pe.style({cursor:"move"});var le={element:pe.node(),plotinfo:E,gd:z,editHelpers:ne,isActiveSelection:!0},Y=g(ie,z);v(Y,pe,le)}else pe.style("pointer-events",Be?"all":"none");we[Be]=pe}var ve=we[0],Oe=we[1];Oe.node().addEventListener("click",function(){return V(z,ve)})}}function I(z,U,F){var B=F.xref+F.yref;O.setClipUrl(z,"clip"+U._fullLayout._uid+B,U)}function V(z,U){if(_(z)){var F=U.node(),B=+F.getAttribute("data-index");if(B>=0){if(B===z._fullLayout._activeSelectionIndex){Q(z);return}z._fullLayout._activeSelectionIndex=B,z._fullLayout._deactivateSelection=Q,C(z)}}}function N(z){if(_(z)){var U=z._fullLayout.selections.length-1;z._fullLayout._activeSelectionIndex=U,z._fullLayout._deactivateSelection=Q,C(z)}}function Q(z){if(_(z)){var U=z._fullLayout._activeSelectionIndex;U>=0&&(y(z),delete z._fullLayout._activeSelectionIndex,C(z))}}},3777:function(d,h,c){var g=c(9952).P,v=c(1426).extendFlat;d.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:v({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(d){d.exports=function(c,g,v){v("newselection.mode");var y=v("newselection.line.width");y&&(v("newselection.line.color"),v("newselection.line.dash")),v("activeselection.fillcolor"),v("activeselection.opacity")}},5855:function(d,h,c){var g=c(4505),v=g.selectMode,y=c(1873),b=y.clearOutline,O=c(165),T=O.readPaths,k=O.writePaths,w=O.fixDatesForPaths;d.exports=function(_,M){if(_.length){var I=_[0][0];if(I){var V=I.getAttribute("d"),N=M.gd,Q=N._fullLayout.newselection,z=M.plotinfo,U=z.xaxis,F=z.yaxis,B=M.isActiveSelection,E=M.dragmode,W=(N.layout||{}).selections||[];if(!v(E)&&B!==void 0){var X=N._fullLayout._activeSelectionIndex;if(X<W.length)switch(N._fullLayout.selections[X].type){case"rect":E="select";break;case"path":E="lasso";break}}var ie=T(V,N,z,B),L={xref:U._id,yref:F._id,opacity:Q.opacity,line:{color:Q.line.color,width:Q.line.width,dash:Q.line.dash}},me;ie.length===1&&(me=ie[0]),me&&me.length===5&&E==="select"?(L.type="rect",L.x0=me[0][1],L.y0=me[0][2],L.x1=me[2][1],L.y1=me[2][2]):(L.type="path",U&&F&&w(ie,U,F),L.path=k(ie),me=null),b(N);for(var ae=M.editHelpers,q=(ae||{}).modifyItem,de=[],ee=0;ee<W.length;ee++){var xe=N._fullLayout.selections[ee];if(!xe){de[ee]=xe;continue}if(de[ee]=xe._input,B!==void 0&&ee===N._fullLayout._activeSelectionIndex){var we=L;switch(xe.type){case"rect":q("x0",we.x0),q("x1",we.x1),q("y0",we.y0),q("y1",we.y1);break;case"path":q("path",we.path);break}}}return B===void 0?(de.push(L),de):ae?ae.getUpdateObj():{}}}}},5549:function(d,h,c){var g=c(1828).strTranslate;function v(T,k){switch(T.type){case"log":return T.p2d(k);case"date":return T.p2r(k,0,T.calendar);default:return T.p2r(k)}}function y(T,k){switch(T.type){case"log":return T.d2p(k);case"date":return T.r2p(k,0,T.calendar);default:return T.r2p(k)}}function b(T){var k=T._id.charAt(0)==="y"?1:0;return function(w){return v(T,w[k])}}function O(T){return g(T.xaxis._offset,T.yaxis._offset)}d.exports={p2r:v,r2p:y,axValue:b,getTransform:O}},7322:function(d,h,c){var g=c(2485),v=c(3937);d.exports={moduleType:"component",name:"selections",layoutAttributes:c(8389),supplyLayoutDefaults:c(9402),supplyDrawNewSelectionDefaults:c(849),includeBasePlot:c(6325)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:v.reselect,prepSelect:v.prepSelect,clearOutline:v.clearOutline,clearSelectionsCache:v.clearSelectionsCache,selectOnClick:v.selectOnClick}},3937:function(d,h,c){var g=c(2142),v=c(8258),y=c(3972),b=c(1424).dashStyle,O=c(7901),T=c(211),k=c(3469).makeEventData,w=c(4505),C=w.freeMode,_=w.rectMode,M=w.drawMode,I=w.openMode,V=w.selectMode,N=c(477),Q=c(1459),z=c(2359),U=c(1873).clearOutline,F=c(165),B=F.handleEllipse,E=F.readPaths,W=c(551).newShapes,X=c(5855),ie=c(2485).activateLastSelection,L=c(1828),me=L.sorterAsc,ae=c(1082),q=c(9990),de=c(1675).getFromId,ee=c(3306),xe=c(1549).redrawReglTraces,we=c(4122),Be=we.MINSELECT,pe=ae.filter,ne=ae.tester,le=c(5549),Y=le.p2r,ve=le.axValue,Oe=le.getTransform;function Le(lt){return lt.subplot!==void 0}function Te(lt,ut,xt,gt,Dt){var He=!Le(gt),it=C(Dt),dt=_(Dt),mt=I(Dt),Ct=M(Dt),Pt=V(Dt),dn=Dt==="drawline",rn=Dt==="drawcircle",Wt=dn||rn,Rt=gt.gd,fn=Rt._fullLayout,Hn=Pt&&fn.newselection.mode==="immediate"&&He,nr=fn._zoomlayer,Er=gt.element.getBoundingClientRect(),zt=gt.plotinfo,vr=Oe(zt),Wn=ut-Er.left,Br=xt-Er.top;fn._calcInverseTransform(Rt);var kr=L.apply3DTransform(fn._invTransform)(Wn,Br);Wn=kr[0],Br=kr[1];var or=fn._invScaleX,jr=fn._invScaleY,_r=Wn,Rn=Br,Sr="M"+Wn+","+Br,sr=gt.xaxes[0],wr=gt.yaxes[0],ao=sr._length,xo=wr._length,Cr=lt.altKey&&!(M(Dt)&&mt),Fe,Ee,St,Tt,Lt,Ft,Ht;be(lt,Rt,gt),it&&(Fe=pe([[Wn,Br]],we.BENDPX));var $t=nr.selectAll("path.select-outline-"+zt.id).data([1]),Mt=Ct?fn.newshape:fn.newselection;Ct&&(gt.hasText=Mt.label.text||Mt.label.texttemplate);var tn=Ct&&!mt?Mt.fillcolor:"rgba(0,0,0,0)",un=Mt.line.color||(He?O.contrast(Rt._fullLayout.plot_bgcolor):"#7f7f7f");$t.enter().append("path").attr("class","select-outline select-outline-"+zt.id).style({opacity:Ct?Mt.opacity/2:1,"stroke-dasharray":b(Mt.line.dash,Mt.line.width),"stroke-width":Mt.line.width+"px","shape-rendering":"crispEdges"}).call(O.stroke,un).call(O.fill,tn).attr("fill-rule","evenodd").classed("cursor-move",!!Ct).attr("transform",vr).attr("d",Sr+"Z");var en=nr.append("path").attr("class","zoombox-corners").style({fill:O.background,stroke:O.defaultLine,"stroke-width":1}).attr("transform",vr).attr("d","M0,0Z");if(Ct&&gt.hasText){var on=nr.select(".label-temp");on.empty()&&(on=nr.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Cn=fn._uid+we.SELECTID,On=[],pn=Se(Rt,gt.xaxes,gt.yaxes,gt.subplot);Hn&&!lt.shiftKey&&(gt._clearSubplotSelections=function(){if(He){var Fn=sr._id,Zr=wr._id;Gt(Rt,Fn,Zr,pn);for(var dr=(Rt.layout||{}).selections||[],Ur=[],ar=!1,ur=0;ur<dr.length;ur++){var qr=fn.selections[ur];qr.xref!==Fn||qr.yref!==Zr?Ur.push(dr[ur]):ar=!0}ar&&(Rt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Rt,{selections:Ur}))}});var Jn=wn(gt);gt.moveFn=function(Fn,Zr){gt._clearSubplotSelections&&(gt._clearSubplotSelections(),gt._clearSubplotSelections=void 0),_r=Math.max(0,Math.min(ao,or*Fn+Wn)),Rn=Math.max(0,Math.min(xo,jr*Zr+Br));var dr=Math.abs(_r-Wn),Ur=Math.abs(Rn-Br);if(dt){var ar,ur,qr;if(Pt){var to=fn.selectdirection;switch(to==="any"?Ur<Math.min(dr*.6,Be)?ar="h":dr<Math.min(Ur*.6,Be)?ar="v":ar="d":ar=to,ar){case"h":ur=rn?xo/2:0,qr=xo;break;case"v":ur=rn?ao/2:0,qr=ao;break}}if(Ct)switch(fn.newshape.drawdirection){case"vertical":ar="h",ur=rn?xo/2:0,qr=xo;break;case"horizontal":ar="v",ur=rn?ao/2:0,qr=ao;break;case"ortho":dr<Ur?(ar="h",ur=Br,qr=Rn):(ar="v",ur=Wn,qr=_r);break;default:ar="d"}ar==="h"?(Tt=Wt?B(rn,[_r,ur],[_r,qr]):[[Wn,ur],[Wn,qr],[_r,qr],[_r,ur]],Tt.xmin=Wt?_r:Math.min(Wn,_r),Tt.xmax=Wt?_r:Math.max(Wn,_r),Tt.ymin=Math.min(ur,qr),Tt.ymax=Math.max(ur,qr),en.attr("d","M"+Tt.xmin+","+(Br-Be)+"h-4v"+2*Be+"h4ZM"+(Tt.xmax-1)+","+(Br-Be)+"h4v"+2*Be+"h-4Z")):ar==="v"?(Tt=Wt?B(rn,[ur,Rn],[qr,Rn]):[[ur,Br],[ur,Rn],[qr,Rn],[qr,Br]],Tt.xmin=Math.min(ur,qr),Tt.xmax=Math.max(ur,qr),Tt.ymin=Wt?Rn:Math.min(Br,Rn),Tt.ymax=Wt?Rn:Math.max(Br,Rn),en.attr("d","M"+(Wn-Be)+","+Tt.ymin+"v-4h"+2*Be+"v4ZM"+(Wn-Be)+","+(Tt.ymax-1)+"v4h"+2*Be+"v-4Z")):ar==="d"&&(Tt=Wt?B(rn,[Wn,Br],[_r,Rn]):[[Wn,Br],[Wn,Rn],[_r,Rn],[_r,Br]],Tt.xmin=Math.min(Wn,_r),Tt.xmax=Math.max(Wn,_r),Tt.ymin=Math.min(Br,Rn),Tt.ymax=Math.max(Br,Rn),en.attr("d","M0,0Z"))}else it&&(Fe.addPt([_r,Rn]),Tt=Fe.filtered);if(gt.selectionDefs&&gt.selectionDefs.length?(St=je(gt.mergedPolygons,Tt,Cr),Tt.subtract=Cr,Ee=re(gt.selectionDefs.concat([Tt]))):(St=[Tt],Ee=ne(Tt)),z(yt(St,mt),$t,gt),Pt){var Ao=tt(Rt,!1),_s=Ao.eventData?Ao.eventData.points.slice():[];Ao=tt(Rt,!1,Ee,pn,gt),Ee=Ao.selectionTesters,Ht=Ao.eventData;var wo;Fe?wo=Fe.filtered:wo=ln(St),q.throttle(Cn,we.SELECTDELAY,function(){On=ft(Ee,pn);for(var Ko=On.slice(),hs=0;hs<_s.length;hs++){for(var qs=_s[hs],ns=!1,Xs=0;Xs<Ko.length;Xs++)if(Ko[Xs].curveNumber===qs.curveNumber&&Ko[Xs].pointNumber===qs.pointNumber){ns=!0;break}ns||Ko.push(qs)}Ko.length&&(Ht||(Ht={}),Ht.points=Ko),Jn(Ht,wo),Xn(Rt,Ht)})}},gt.clickFn=function(Fn,Zr){if(en.remove(),Rt._fullLayout._activeShapeIndex>=0){Rt._fullLayout._deactivateShape(Rt);return}if(!Ct){var dr=fn.clickmode;q.done(Cn).then(function(){if(q.clear(Cn),Fn===2){for($t.remove(),Lt=0;Lt<pn.length;Lt++)Ft=pn[Lt],Ft._module.selectPoints(Ft,!1);if(pt(Rt,pn),fe(gt),Sn(Rt),pn.length){var Ur=pn[0].xaxis,ar=pn[0].yaxis;if(Ur&&ar){for(var ur=[],qr=Rt._fullLayout.selections,to=0;to<qr.length;to++){var Ao=qr[to];Ao&&(Ao.xref!==Ur._id||Ao.yref!==ar._id)&&ur.push(Ao)}ur.length<qr.length&&(Rt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Rt,{selections:ur}))}}}else dr.indexOf("select")>-1&&De(Zr,Rt,gt.xaxes,gt.yaxes,gt.subplot,gt,$t),dr==="event"&&Un(Rt,void 0);T.click(Rt,Zr,zt.id)}).catch(L.error)}},gt.doneFn=function(){en.remove(),q.done(Cn).then(function(){q.clear(Cn),!Hn&&Tt&&gt.selectionDefs&&(Tt.subtract=Cr,gt.selectionDefs.push(Tt),gt.mergedPolygons.length=0,[].push.apply(gt.mergedPolygons,St)),(Hn||Ct)&&fe(gt,Hn),gt.doneFnCompleted&&gt.doneFnCompleted(On),Pt&&Un(Rt,Ht)}).catch(L.error)}}function De(lt,ut,xt,gt,Dt,He,it){var dt=ut._hoverdata,mt=ut._fullLayout,Ct=mt.clickmode,Pt=Ct.indexOf("event")>-1,dn=[],rn,Wt,Rt,fn,Hn,nr,Er,zt,vr,Wn;if(ke(dt)){be(lt,ut,He),rn=Se(ut,xt,gt,Dt);var Br=Qe(dt,rn),kr=Br.pointNumbers.length>0;if(kr?Xe(rn,Br):ct(rn)&&(Er=Ze(Br))){for(it&&it.remove(),Wn=0;Wn<rn.length;Wn++)Wt=rn[Wn],Wt._module.selectPoints(Wt,!1);pt(ut,rn),fe(He),Pt&&Sn(ut)}else{zt=lt.shiftKey&&(Er!==void 0?Er:Ze(Br)),Rt=Ve(Br.pointNumber,Br.searchInfo,zt);var or=He.selectionDefs.concat([Rt]);for(fn=re(or),Wn=0;Wn<rn.length;Wn++)if(Hn=rn[Wn]._module.selectPoints(rn[Wn],fn),nr=et(Hn,rn[Wn]),dn.length)for(var jr=0;jr<nr.length;jr++)dn.push(nr[jr]);else dn=nr;if(vr={points:dn},pt(ut,rn,vr),Rt&&He&&He.selectionDefs.push(Rt),it){var _r=He.mergedPolygons,Rn=I(He.dragmode);z(yt(_r,Rn),it,He)}Pt&&Un(ut,vr)}}}function Ve(lt,ut,xt){return{pointNumber:lt,searchInfo:ut,subtract:!!xt}}function _e(lt){return"pointNumber"in lt&&"searchInfo"in lt}function Ie(lt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ut,xt,gt,Dt){var He=lt.searchInfo.cd[0].trace._expandedIndex,it=Dt.cd[0].trace._expandedIndex;return it===He&&gt===lt.pointNumber},isRect:!1,degenerate:!1,subtract:!!lt.subtract}}function re(lt){if(!lt.length)return;for(var ut=[],xt=_e(lt[0])?0:lt[0][0][0],gt=xt,Dt=_e(lt[0])?0:lt[0][0][1],He=Dt,it=0;it<lt.length;it++)if(_e(lt[it]))ut.push(Ie(lt[it]));else{var dt=ne(lt[it]);dt.subtract=!!lt[it].subtract,ut.push(dt),xt=Math.min(xt,dt.xmin),gt=Math.max(gt,dt.xmax),Dt=Math.min(Dt,dt.ymin),He=Math.max(He,dt.ymax)}function mt(Ct,Pt,dn,rn){for(var Wt=!1,Rt=0;Rt<ut.length;Rt++)ut[Rt].contains(Ct,Pt,dn,rn)&&(Wt=!ut[Rt].subtract);return Wt}return{xmin:xt,xmax:gt,ymin:Dt,ymax:He,pts:[],contains:mt,isRect:!1,degenerate:!1}}function be(lt,ut,xt){var gt=ut._fullLayout,Dt=xt.plotinfo,He=xt.dragmode,it=gt._lastSelectedSubplot&&gt._lastSelectedSubplot===Dt.id,dt=(lt.shiftKey||lt.altKey)&&!(M(He)&&I(He));it&&dt&&Dt.selection&&Dt.selection.selectionDefs&&!xt.selectionDefs?(xt.selectionDefs=Dt.selection.selectionDefs,xt.mergedPolygons=Dt.selection.mergedPolygons):(!dt||!Dt.selection)&&fe(xt),it||(U(ut),gt._lastSelectedSubplot=Dt.id)}function te(lt){return lt._fullLayout._activeShapeIndex>=0}function se(lt){return lt._fullLayout._activeSelectionIndex>=0}function fe(lt,ut){var xt=lt.dragmode,gt=lt.plotinfo,Dt=lt.gd;te(Dt)&&Dt._fullLayout._deactivateShape(Dt),se(Dt)&&Dt._fullLayout._deactivateSelection(Dt);var He=Dt._fullLayout,it=He._zoomlayer,dt=M(xt),mt=V(xt);if(dt||mt){var Ct=it.selectAll(".select-outline-"+gt.id);if(Ct&&Dt._fullLayout._outlining){var Pt;dt&&(Pt=W(Ct,lt)),Pt&&y.call("_guiRelayout",Dt,{shapes:Pt});var dn;mt&&!Le(lt)&&(dn=X(Ct,lt)),dn&&(Dt._fullLayout._noEmitSelectedAtStart=!0,y.call("_guiRelayout",Dt,{selections:dn}).then(function(){ut&&ie(Dt)})),Dt._fullLayout._outlining=!1}}gt.selection={},gt.selection.selectionDefs=lt.selectionDefs=[],gt.selection.mergedPolygons=lt.mergedPolygons=[]}function oe(lt){return lt._id}function Se(lt,ut,xt,gt){if(!lt.calcdata)return[];var Dt=[],He=ut.map(oe),it=xt.map(oe),dt,mt,Ct;for(Ct=0;Ct<lt.calcdata.length;Ct++)if(dt=lt.calcdata[Ct],mt=dt[0].trace,!(mt.visible!==!0||!mt._module||!mt._module.selectPoints))if(Le({subplot:gt})&&(mt.subplot===gt||mt.geo===gt))Dt.push(ce(mt._module,dt,ut[0],xt[0]));else if(mt.type==="splom"){if(mt._xaxes[He[0]]&&mt._yaxes[it[0]]){var Pt=ce(mt._module,dt,ut[0],xt[0]);Pt.scene=lt._fullLayout._splomScenes[mt.uid],Dt.push(Pt)}}else if(mt.type==="sankey"){var dn=ce(mt._module,dt,ut[0],xt[0]);Dt.push(dn)}else{if(He.indexOf(mt.xaxis)===-1||it.indexOf(mt.yaxis)===-1)continue;Dt.push(ce(mt._module,dt,de(lt,mt.xaxis),de(lt,mt.yaxis)))}return Dt}function ce(lt,ut,xt,gt){return{_module:lt,cd:ut,xaxis:xt,yaxis:gt}}function ke(lt){return lt&&Array.isArray(lt)&&lt[0].hoverOnBox!==!0}function Qe(lt,ut){var xt=lt[0],gt=-1,Dt=[],He,it;for(it=0;it<ut.length;it++)if(He=ut[it],xt.fullData._expandedIndex===He.cd[0].trace._expandedIndex){if(xt.hoverOnBox===!0)break;xt.pointNumber!==void 0?gt=xt.pointNumber:xt.binNumber!==void 0&&(gt=xt.binNumber,Dt=xt.pointNumbers);break}return{pointNumber:gt,pointNumbers:Dt,searchInfo:He}}function Ze(lt){var ut=lt.searchInfo.cd[0].trace,xt=lt.pointNumber,gt=lt.pointNumbers,Dt=gt.length>0,He=Dt?gt[0]:xt;return ut.selectedpoints?ut.selectedpoints.indexOf(He)>-1:!1}function Xe(lt,ut){var xt=[],gt,Dt,He,it;for(it=0;it<lt.length;it++)gt=lt[it],gt.cd[0].trace.selectedpoints&&gt.cd[0].trace.selectedpoints.length>0&&xt.push(gt);if(xt.length===1&&(He=xt[0]===ut.searchInfo,He&&(Dt=ut.searchInfo.cd[0].trace,Dt.selectedpoints.length===ut.pointNumbers.length))){for(it=0;it<ut.pointNumbers.length;it++)if(Dt.selectedpoints.indexOf(ut.pointNumbers[it])<0)return!1;return!0}return!1}function ct(lt){var ut=0,xt,gt,Dt;for(Dt=0;Dt<lt.length;Dt++)if(xt=lt[Dt],gt=xt.cd[0].trace,gt.selectedpoints&&(gt.selectedpoints.length>1||(ut+=gt.selectedpoints.length,ut>1)))return!1;return ut===1}function pt(lt,ut,xt){var gt;for(gt=0;gt<ut.length;gt++){var Dt=ut[gt].cd[0].trace._fullInput,He=lt._fullLayout._tracePreGUI[Dt.uid]||{};He.selectedpoints===void 0&&(He.selectedpoints=Dt._input.selectedpoints||null)}var it;if(xt){var dt=xt.points||[];for(gt=0;gt<ut.length;gt++)it=ut[gt].cd[0].trace,it._input.selectedpoints=it._fullInput.selectedpoints=[],it._fullInput!==it&&(it.selectedpoints=[]);for(var mt=0;mt<dt.length;mt++){var Ct=dt[mt],Pt=Ct.data,dn=Ct.fullData,rn=Ct.pointIndex,Wt=Ct.pointIndices;Wt?([].push.apply(Pt.selectedpoints,Wt),it._fullInput!==it&&[].push.apply(dn.selectedpoints,Wt)):(Pt.selectedpoints.push(rn),it._fullInput!==it&&dn.selectedpoints.push(rn))}}else for(gt=0;gt<ut.length;gt++)it=ut[gt].cd[0].trace,delete it.selectedpoints,delete it._input.selectedpoints,it._fullInput!==it&&delete it._fullInput.selectedpoints;Ye(lt,ut)}function Ye(lt,ut){for(var xt=!1,gt=0;gt<ut.length;gt++){var Dt=ut[gt],He=Dt.cd;y.traceIs(He[0].trace,"regl")&&(xt=!0);var it=Dt._module,dt=it.styleOnSelect||it.style;dt&&(dt(lt,He,He[0].node3),He[0].nodeRangePlot3&&dt(lt,He,He[0].nodeRangePlot3))}xt&&(ee(lt),xe(lt))}function je(lt,ut,xt){for(var gt=xt?g.difference:g.union,Dt=gt({regions:lt},{regions:[ut]}),He=Dt.regions.reverse(),it=0;it<He.length;it++){var dt=He[it];dt.subtract=vn(dt,He.slice(0,it))}return He}function et(lt,ut){if(Array.isArray(lt))for(var xt=ut.cd,gt=ut.cd[0].trace,Dt=0;Dt<lt.length;Dt++)lt[Dt]=k(lt[Dt],gt,xt);return lt}function yt(lt,ut){for(var xt=[],gt=0;gt<lt.length;gt++){xt[gt]=[];for(var Dt=0;Dt<lt[gt].length;Dt++){xt[gt][Dt]=[],xt[gt][Dt][0]=Dt?"L":"M";for(var He=0;He<lt[gt][Dt].length;He++)xt[gt][Dt].push(lt[gt][Dt][He])}ut||xt[gt].push(["Z",xt[gt][0][1],xt[gt][0][2]])}return xt}function ft(lt,ut){for(var xt=[],gt,Dt,He=0;He<ut.length;He++){var it=ut[He];Dt=it._module.selectPoints(it,lt),gt=et(Dt,it),xt=xt.concat(gt)}return xt}function tt(lt,ut,xt,gt,Dt){var He=!!gt,it,dt,mt;Dt&&(it=Dt.plotinfo,dt=Dt.xaxes[0]._id,mt=Dt.yaxes[0]._id);var Ct=[],Pt=[],dn=Bt(lt),rn=lt._fullLayout;if(it){var Wt=rn._zoomlayer,Rt=rn.dragmode,fn=M(Rt),Hn=V(Rt);if(fn||Hn){var nr=de(lt,dt,"x"),Er=de(lt,mt,"y");if(nr&&Er){var zt=Wt.selectAll(".select-outline-"+it.id);if(zt&&lt._fullLayout._outlining&&zt.length){for(var vr=zt[0][0],Wn=vr.getAttribute("d"),Br=E(Wn,lt,it),kr=[],or=0;or<Br.length;or++){for(var jr=Br[or],_r=[],Rn=0;Rn<jr.length;Rn++)_r.push([En(nr,jr[Rn][1]),En(Er,jr[Rn][2])]);_r.xref=dt,_r.yref=mt,_r.subtract=vn(_r,kr),kr.push(_r)}dn=dn.concat(kr)}}}}var Sr=dt&&mt?[dt+mt]:rn._subplots.cartesian;wt(lt);for(var sr={},wr=0;wr<Sr.length;wr++){var ao=Sr[wr],xo=ao.indexOf("y"),Cr=ao.slice(0,xo),Fe=ao.slice(xo),Ee=dt&&mt?xt:void 0;if(Ee=Nt(dn,Cr,Fe,Ee),Ee){var St=gt;if(!He){var Tt=de(lt,Cr,"x"),Lt=de(lt,Fe,"y");St=Se(lt,[Tt],[Lt],ao);for(var Ft=0;Ft<St.length;Ft++){var Ht=St[Ft],$t=Ht.cd[0],Mt=$t.trace;if(Ht._module.name==="scattergl"&&!$t.t.xpx){var tn=Mt.x,un=Mt.y,en=Mt._length;$t.t.xpx=[],$t.t.ypx=[];for(var on=0;on<en;on++)$t.t.xpx[on]=Tt.c2p(tn[on]),$t.t.ypx[on]=Lt.c2p(un[on])}Ht._module.name==="splom"&&(sr[Mt.uid]||(sr[Mt.uid]=!0))}}var Cn=ft(Ee,St);Ct=Ct.concat(Cn),Pt=Pt.concat(St)}}var On={points:Ct};pt(lt,Pt,On);var pn=rn.clickmode,Jn=pn.indexOf("event")>-1&&ut;if(!it&&ut){var Fn=Bt(lt,!0);if(Fn.length){var Zr=Fn[0].xref,dr=Fn[0].yref;if(Zr&&dr){var Ur=ln(Fn),ar=an([de(lt,Zr,"x"),de(lt,dr,"y")]);ar(On,Ur)}}lt._fullLayout._noEmitSelectedAtStart?lt._fullLayout._noEmitSelectedAtStart=!1:Jn&&Un(lt,On),rn._reselect=!1}if(!it&&rn._deselect){var ur=rn._deselect;dt=ur.xref,mt=ur.yref,Xt(dt,mt,Pt)||Gt(lt,dt,mt,gt),Jn&&(On.points.length?Un(lt,On):Sn(lt)),rn._deselect=!1}return{eventData:On,selectionTesters:xt}}function wt(lt){var ut=lt.calcdata;if(ut)for(var xt=0;xt<ut.length;xt++){var gt=ut[xt][0],Dt=gt.trace,He=lt._fullLayout._splomScenes;if(He){var it=He[Dt.uid];it&&(it.selectBatch=[])}}}function Xt(lt,ut,xt){for(var gt=0;gt<xt.length;gt++){var Dt=xt[gt];if(Dt.xaxis&&Dt.xaxis._id===lt&&Dt.yaxis&&Dt.yaxis._id===ut)return!0}return!1}function Gt(lt,ut,xt,gt){gt=Se(lt,[de(lt,ut,"x")],[de(lt,xt,"y")],ut+xt);for(var Dt=0;Dt<gt.length;Dt++){var He=gt[Dt];He._module.selectPoints(He,!1)}pt(lt,gt)}function Nt(lt,ut,xt,gt){for(var Dt,He=0;He<lt.length;He++){var it=lt[He];if(!(ut!==it.xref||xt!==it.yref))if(Dt){var dt=!!it.subtract;Dt=je(Dt,it,dt),gt=re(Dt)}else Dt=[it],gt=ne(it)}return gt}function Bt(lt,ut){for(var xt=[],gt=lt._fullLayout,Dt=gt.selections,He=Dt.length,it=0;it<He;it++)if(!(ut&&it!==gt._activeSelectionIndex)){var dt=Dt[it];if(dt){var mt=dt.xref,Ct=dt.yref,Pt=de(lt,mt,"x"),dn=de(lt,Ct,"y"),rn,Wt,Rt,fn,Hn;if(dt.type==="rect"){Hn=[];var nr=En(Pt,dt.x0),Er=En(Pt,dt.x1),zt=En(dn,dt.y0),vr=En(dn,dt.y1);Hn=[[nr,zt],[nr,vr],[Er,vr],[Er,zt]],rn=Math.min(nr,Er),Wt=Math.max(nr,Er),Rt=Math.min(zt,vr),fn=Math.max(zt,vr),Hn.xmin=rn,Hn.xmax=Wt,Hn.ymin=Rt,Hn.ymax=fn,Hn.xref=mt,Hn.yref=Ct,Hn.subtract=!1,Hn.isRect=!0,xt.push(Hn)}else if(dt.type==="path")for(var Wn=dt.path.split("Z"),Br=[],kr=0;kr<Wn.length;kr++){var or=Wn[kr];if(or){or+="Z";var jr=N.extractPathCoords(or,Q.paramIsX,"raw"),_r=N.extractPathCoords(or,Q.paramIsY,"raw");rn=1/0,Wt=-1/0,Rt=1/0,fn=-1/0,Hn=[];for(var Rn=0;Rn<jr.length;Rn++){var Sr=En(Pt,jr[Rn]),sr=En(dn,_r[Rn]);Hn.push([Sr,sr]),rn=Math.min(Sr,rn),Wt=Math.max(Sr,Wt),Rt=Math.min(sr,Rt),fn=Math.max(sr,fn)}Hn.xmin=rn,Hn.xmax=Wt,Hn.ymin=Rt,Hn.ymax=fn,Hn.xref=mt,Hn.yref=Ct,Hn.subtract=vn(Hn,Br),Br.push(Hn),xt.push(Hn)}}}}return xt}function vn(lt,ut){for(var xt=!1,gt=0;gt<ut.length;gt++)for(var Dt=ut[gt],He=0;He<lt.length;He++)if(v(lt[He],Dt)){xt=!xt;break}return xt}function En(lt,ut){return lt.type==="date"&&(ut=ut.replace("_"," ")),lt.type==="log"?lt.c2p(ut):lt.r2p(ut,null,lt.calendar)}function ln(lt){for(var ut=lt.length,xt=[],gt=0;gt<ut;gt++){var Dt=lt[gt];xt=xt.concat(Dt),xt=xt.concat([Dt[0]])}return Yn(xt)}function Yn(lt){return lt.isRect=lt.length===5&&lt[0][0]===lt[4][0]&&lt[0][1]===lt[4][1]&&lt[0][0]===lt[1][0]&&lt[2][0]===lt[3][0]&&lt[0][1]===lt[3][1]&&lt[1][1]===lt[2][1]||lt[0][1]===lt[1][1]&&lt[2][1]===lt[3][1]&&lt[0][0]===lt[3][0]&&lt[1][0]===lt[2][0],lt.isRect&&(lt.xmin=Math.min(lt[0][0],lt[2][0]),lt.xmax=Math.max(lt[0][0],lt[2][0]),lt.ymin=Math.min(lt[0][1],lt[2][1]),lt.ymax=Math.max(lt[0][1],lt[2][1])),lt}function an(lt){return function(ut,xt){for(var gt,Dt,He=0;He<lt.length;He++){var it=lt[He],dt=it._id,mt=dt.charAt(0);if(xt.isRect){gt||(gt={});var Ct=xt[mt+"min"],Pt=xt[mt+"max"];Ct!==void 0&&Pt!==void 0&&(gt[dt]=[Y(it,Ct),Y(it,Pt)].sort(me))}else Dt||(Dt={}),Dt[dt]=xt.map(ve(it))}gt&&(ut.range=gt),Dt&&(ut.lassoPoints=Dt)}}function wn(lt){var ut=lt.plotinfo;return ut.fillRangeItems||an(lt.xaxes.concat(lt.yaxes))}function Xn(lt,ut){lt.emit("plotly_selecting",ut)}function Un(lt,ut){ut&&(ut.selections=(lt.layout||{}).selections||[]),lt.emit("plotly_selected",ut)}function Sn(lt){lt.emit("plotly_deselect",null)}d.exports={reselect:tt,prepSelect:Te,clearOutline:U,clearSelectionsCache:fe,selectOnClick:De}},9827:function(d,h,c){var g=c(215),v=c(1940),y=c(2196).line,b=c(9952).P,O=c(1426).extendFlat,T=c(4467).templatedArray;c(4695);var k=c(9012),w=c(5386).R,C=c(7281);d.exports=T("shape",{visible:O({},k.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:O({},k.legend,{editType:"calc+arraydraw"}),legendgroup:O({},k.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:O({},k.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:v({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:O({},k.legendrank,{editType:"calc+arraydraw"}),legendwidth:O({},k.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:O({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:O({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:O({},y.color,{editType:"arraydraw"}),width:O({},y.width,{editType:"calc+arraydraw"}),dash:O({},b,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:w({},{keys:Object.keys(C)}),font:v({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(d,h,c){var g=c(1828),v=c(9298),y=c(1459),b=c(477);d.exports=function(_){var M=_._fullLayout,I=g.filterVisible(M.shapes);if(!(!I.length||!_._fullData.length))for(var V=0;V<I.length;V++){var N=I[V];N._extremes={};var Q,z,U=v.getRefType(N.xref),F=v.getRefType(N.yref);if(N.xref!=="paper"&&U!=="domain"){var B=N.xsizemode==="pixel"?N.xanchor:N.x0,E=N.xsizemode==="pixel"?N.xanchor:N.x1;Q=v.getFromId(_,N.xref),z=w(Q,B,E,N.path,y.paramIsX),z&&(N._extremes[Q._id]=v.findExtremes(Q,z,O(N)))}if(N.yref!=="paper"&&F!=="domain"){var W=N.ysizemode==="pixel"?N.yanchor:N.y0,X=N.ysizemode==="pixel"?N.yanchor:N.y1;Q=v.getFromId(_,N.yref),z=w(Q,W,X,N.path,y.paramIsY),z&&(N._extremes[Q._id]=v.findExtremes(Q,z,T(N)))}}};function O(C){return k(C.line.width,C.xsizemode,C.x0,C.x1,C.path,!1)}function T(C){return k(C.line.width,C.ysizemode,C.y0,C.y1,C.path,!0)}function k(C,_,M,I,V,N){var Q=C/2,z=N;if(_==="pixel"){var U=V?b.extractPathCoords(V,N?y.paramIsY:y.paramIsX):[M,I],F=g.aggNums(Math.max,null,U),B=g.aggNums(Math.min,null,U),E=B<0?Math.abs(B)+Q:Q,W=F>0?F+Q:Q;return{ppad:Q,ppadplus:z?E:W,ppadminus:z?W:E}}else return{ppad:Q}}function w(C,_,M,I,V){var N=C.type==="category"||C.type==="multicategory"?C.r2c:C.d2c;if(_!==void 0)return[N(_),N(M)];if(I){var Q=1/0,z=-1/0,U=I.match(y.segmentRE),F,B,E,W,X;for(C.type==="date"&&(N=b.decodeDate(N)),F=0;F<U.length;F++)B=U[F],E=V[B.charAt(0)].drawn,E!==void 0&&(W=U[F].substr(1).match(y.paramRE),!(!W||W.length<E)&&(X=N(W[E]),X<Q&&(Q=X),X>z&&(z=X)));if(z>=Q)return[Q,z]}}},1459:function(d){d.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(d,h,c){var g=c(1828),v=c(9298),y=c(5501),b=c(9827),O=c(477);d.exports=function(C,_){y(C,_,{name:"shapes",handleItemDefaults:k})};function T(w,C){return w?"bottom":C.indexOf("top")!==-1?"top":C.indexOf("bottom")!==-1?"bottom":"middle"}function k(w,C,_){function M(_e,Ie){return g.coerce(w,C,b,_e,Ie)}C._isShape=!0;var I=M("visible");if(I){var V=M("showlegend");V&&(M("legend"),M("legendwidth"),M("legendgroup"),M("legendgrouptitle.text"),g.coerceFont(M,"legendgrouptitle.font"),M("legendrank"));var N=M("path"),Q=N?"path":"rect",z=M("type",Q),U=z!=="path";U&&delete C.path,M("editable"),M("layer"),M("opacity"),M("fillcolor"),M("fillrule");var F=M("line.width");F&&(M("line.color"),M("line.dash"));for(var B=M("xsizemode"),E=M("ysizemode"),W=["x","y"],X=0;X<2;X++){var ie=W[X],L=ie+"anchor",me=ie==="x"?B:E,ae={_fullLayout:_},q,de,ee,xe=v.coerceRef(w,C,ae,ie,void 0,"paper"),we=v.getRefType(xe);if(we==="range"?(q=v.getFromId(ae,xe),q._shapeIndices.push(C._index),ee=O.rangeToShapePosition(q),de=O.shapePositionToRange(q)):de=ee=g.identity,U){var Be=.25,pe=.75,ne=ie+"0",le=ie+"1",Y=w[ne],ve=w[le];w[ne]=de(w[ne],!0),w[le]=de(w[le],!0),me==="pixel"?(M(ne,0),M(le,10)):(v.coercePosition(C,ae,M,xe,ne,Be),v.coercePosition(C,ae,M,xe,le,pe)),C[ne]=ee(C[ne]),C[le]=ee(C[le]),w[ne]=Y,w[le]=ve}if(me==="pixel"){var Oe=w[L];w[L]=de(w[L],!0),v.coercePosition(C,ae,M,xe,L,.25),C[L]=ee(C[L]),w[L]=Oe}}U&&g.noneOrAll(w,C,["x0","x1","y0","y1"]);var Le=z==="line",Te,De;if(U&&(Te=M("label.texttemplate")),Te||(De=M("label.text")),De||Te){M("label.textangle");var Ve=M("label.textposition",Le?"middle":"middle center");M("label.xanchor"),M("label.yanchor",T(Le,Ve)),M("label.padding"),g.coerceFont(M,"label.font",_.font)}}}},8100:function(d,h,c){var g=c(1828),v=c(9298),y=c(3893),b=c(1424),O=c(165).readPaths,T=c(477),k=T.getPathString,w=c(7281),C=c(8783).FROM_TL;d.exports=function(V,N,Q,z){if(z.selectAll(".shape-label").remove(),!!(Q.label.text||Q.label.texttemplate)){var U;if(Q.label.texttemplate){var F={};if(Q.type!=="path"){var B=v.getFromId(V,Q.xref),E=v.getFromId(V,Q.yref);for(var W in w){var X=w[W](Q,B,E);X!==void 0&&(F[W]=X)}}U=g.texttemplateStringForShapes(Q.label.texttemplate,{},V._fullLayout._d3locale,F)}else U=Q.label.text;var ie={"data-index":N},L=Q.label.font,me={"data-notex":1},ae=z.append("g").attr(ie).classed("shape-label",!0),q=ae.append("text").attr(me).classed("shape-label-text",!0).text(U),de,ee,xe,we;if(Q.path){var Be=k(V,Q),pe=O(Be,V);de=1/0,xe=1/0,ee=-1/0,we=-1/0;for(var ne=0;ne<pe.length;ne++)for(var le=0;le<pe[ne].length;le++)for(var Y=pe[ne][le],ve=1;ve<Y.length;ve+=2){var Oe=Y[ve],Le=Y[ve+1];de=Math.min(de,Oe),ee=Math.max(ee,Oe),xe=Math.min(xe,Le),we=Math.max(we,Le)}}else{var Te=v.getFromId(V,Q.xref),De=v.getRefType(Q.xref),Ve=v.getFromId(V,Q.yref),_e=v.getRefType(Q.yref),Ie=T.getDataToPixel(V,Te,!1,De),re=T.getDataToPixel(V,Ve,!0,_e);de=Ie(Q.x0),ee=Ie(Q.x1),xe=re(Q.y0),we=re(Q.y1)}var be=Q.label.textangle;be==="auto"&&(Q.type==="line"?be=_(de,xe,ee,we):be=0),q.call(function(ce){return ce.call(b.font,L).attr({}),y.convertToTspans(ce,V),ce});var te=b.bBox(q.node()),se=M(de,xe,ee,we,Q,be,te),fe=se.textx,oe=se.texty,Se=se.xanchor;q.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Se],y:oe,x:fe,transform:"rotate("+be+","+fe+","+oe+")"}).call(y.positionText,fe,oe)}};function _(I,V,N,Q){var z,U;return U=Math.abs(N-I),N>=I?z=V-Q:z=Q-V,-180/Math.PI*Math.atan2(z,U)}function M(I,V,N,Q,z,U,F){var B=z.label.textposition,E=z.label.textangle,W=z.label.padding,X=z.type,ie=Math.PI/180*U,L=Math.sin(ie),me=Math.cos(ie),ae=z.label.xanchor,q=z.label.yanchor,de,ee,xe,we;if(X==="line"){B==="start"?(de=I,ee=V):B==="end"?(de=N,ee=Q):(de=(I+N)/2,ee=(V+Q)/2),ae==="auto"&&(B==="start"?E==="auto"?N>I?ae="left":N<I?ae="right":ae="center":N>I?ae="right":N<I?ae="left":ae="center":B==="end"?E==="auto"?N>I?ae="right":N<I?ae="left":ae="center":N>I?ae="left":N<I?ae="right":ae="center":ae="center");var Be={left:1,center:0,right:-1},pe={bottom:-1,middle:0,top:1};if(E==="auto"){var ne=pe[q];xe=-W*L*ne,we=W*me*ne}else{var le=Be[ae],Y=pe[q];xe=W*le,we=W*Y}de=de+xe,ee=ee+we}else xe=W+3,B.indexOf("right")!==-1?(de=Math.max(I,N)-xe,ae==="auto"&&(ae="right")):B.indexOf("left")!==-1?(de=Math.min(I,N)+xe,ae==="auto"&&(ae="left")):(de=(I+N)/2,ae==="auto"&&(ae="center")),B.indexOf("top")!==-1?ee=Math.min(V,Q):B.indexOf("bottom")!==-1?ee=Math.max(V,Q):ee=(V+Q)/2,we=W,q==="bottom"?ee=ee-we:q==="top"&&(ee=ee+we);var ve=C[q],Oe=z.label.font.size,Le=F.height,Te=(Le*ve-Oe)*L,De=-(Le*ve-Oe)*me;return{textx:de+Te,texty:ee+De,xanchor:ae}}},2359:function(d,h,c){var g=c(1828),v=g.strTranslate,y=c(8569),b=c(4505),O=b.drawMode,T=b.selectMode,k=c(3972),w=c(7901),C=c(9995),_=C.i000,M=C.i090,I=C.i180,V=C.i270,N=c(1873),Q=N.clearOutlineControllers,z=c(165),U=z.pointsOnRectangle,F=z.pointsOnEllipse,B=z.writePaths,E=c(551).newShapes,W=c(551).createShapeObj,X=c(5855),ie=c(8100);d.exports=function q(de,ee,xe,we){we||(we=0);var Be=xe.gd;function pe(){q(de,ee,xe,we++),(F(de[0])||xe.hasText)&&ne({redrawing:!0})}function ne(je){var et={};xe.isActiveShape!==void 0&&(xe.isActiveShape=!1,et=E(ee,xe)),xe.isActiveSelection!==void 0&&(xe.isActiveSelection=!1,et=X(ee,xe),Be._fullLayout._reselect=!0),Object.keys(et).length&&k.call((je||{}).redrawing?"relayout":"_guiRelayout",Be,et)}var le=Be._fullLayout,Y=le._zoomlayer,ve=xe.dragmode,Oe=O(ve),Le=T(ve);(Oe||Le)&&(Be._fullLayout._outlining=!0),Q(Be),ee.attr("d",B(de));var Te,De,Ve,_e,Ie;if(!we&&(xe.isActiveShape||xe.isActiveSelection)){Ie=L([],de);var re=Y.append("g").attr("class","outline-controllers");ke(re),Ye()}if(Oe&&xe.hasText){var be=Y.select(".label-temp"),te=W(ee,xe,xe.dragmode);ie(Be,"label-temp",te,be)}function se(je){Ve=+je.srcElement.getAttribute("data-i"),_e=+je.srcElement.getAttribute("data-j"),Te[Ve][_e].moveFn=fe}function fe(je,et){if(de.length){var yt=Ie[Ve][_e][1],ft=Ie[Ve][_e][2],tt=de[Ve],wt=tt.length;if(U(tt)){var Xt=je,Gt=et;if(xe.isActiveSelection){var Nt=me(tt,_e);Nt[1]===tt[_e][1]?Gt=0:Xt=0}for(var Bt=0;Bt<wt;Bt++)if(Bt!==_e){var vn=tt[Bt];vn[1]===tt[_e][1]&&(vn[1]=yt+Xt),vn[2]===tt[_e][2]&&(vn[2]=ft+Gt)}if(tt[_e][1]=yt+Xt,tt[_e][2]=ft+Gt,!U(tt))for(var En=0;En<wt;En++)for(var ln=0;ln<tt[En].length;ln++)tt[En][ln]=Ie[Ve][En][ln]}else tt[_e][1]=yt+je,tt[_e][2]=ft+et;pe()}}function oe(){ne()}function Se(){if(de.length&&de[Ve]&&de[Ve].length){for(var je=[],et=0;et<de[Ve].length;et++)et!==_e&&je.push(de[Ve][et]);je.length>1&&!(je.length===2&&je[1][0]==="Z")&&(_e===0&&(je[0][0]="M"),de[Ve]=je,pe(),ne())}}function ce(je,et){if(je===2){Ve=+et.srcElement.getAttribute("data-i"),_e=+et.srcElement.getAttribute("data-j");var yt=de[Ve];!U(yt)&&!F(yt)&&Se()}}function ke(je){Te=[];for(var et=0;et<de.length;et++){var yt=de[et],ft=U(yt),tt=!ft&&F(yt);Te[et]=[];for(var wt=yt.length,Xt=0;Xt<wt;Xt++)if(yt[Xt][0]!=="Z"&&!(tt&&Xt!==_&&Xt!==M&&Xt!==I&&Xt!==V)){var Gt=ft&&xe.isActiveSelection,Nt;Gt&&(Nt=me(yt,Xt));var Bt=yt[Xt][1],vn=yt[Xt][2],En=je.append(Gt?"rect":"circle").attr("data-i",et).attr("data-j",Xt).style({fill:w.background,stroke:w.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Gt){var ln=Nt[1]-Bt,Yn=Nt[2]-vn,an=Yn?5:Math.max(Math.min(25,Math.abs(ln)-5),5),wn=ln?5:Math.max(Math.min(25,Math.abs(Yn)-5),5);En.classed(Yn?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",an).attr("height",wn).attr("x",Bt-an/2).attr("y",vn-wn/2).attr("transform",v(ln/2,Yn/2))}else En.classed("cursor-grab",!0).attr("r",5).attr("cx",Bt).attr("cy",vn);Te[et][Xt]={element:En.node(),gd:Be,prepFn:se,doneFn:oe,clickFn:ce},y.init(Te[et][Xt])}}}function Qe(je,et){if(de.length)for(var yt=0;yt<de.length;yt++)for(var ft=0;ft<de[yt].length;ft++)for(var tt=0;tt+2<de[yt][ft].length;tt+=2)de[yt][ft][tt+1]=Ie[yt][ft][tt+1]+je,de[yt][ft][tt+2]=Ie[yt][ft][tt+2]+et}function Ze(je,et){Qe(je,et),pe()}function Xe(je){Ve=+je.srcElement.getAttribute("data-i"),Ve||(Ve=0),De[Ve].moveFn=Ze}function ct(){ne()}function pt(je){je===2&&ae(Be)}function Ye(){if(De=[],!!de.length){var je=0;De[je]={element:ee[0][0],gd:Be,prepFn:Xe,doneFn:ct,clickFn:pt},y.init(De[je])}}};function L(q,de){for(var ee=0;ee<de.length;ee++){var xe=de[ee];q[ee]=[];for(var we=0;we<xe.length;we++){q[ee][we]=[];for(var Be=0;Be<xe[we].length;Be++)q[ee][we][Be]=xe[we][Be]}}return q}function me(q,de){var ee=q[de][1],xe=q[de][2],we=q.length,Be,pe,ne;return Be=(de+1)%we,pe=q[Be][1],ne=q[Be][2],pe===ee&&ne===xe&&(Be=(de+2)%we,pe=q[Be][1],ne=q[Be][2]),[Be,pe,ne]}function ae(q){if(T(q._fullLayout.dragmode)){Q(q);var de=q._fullLayout._activeSelectionIndex,ee=(q.layout||{}).selections||[];if(de<ee.length){for(var xe=[],we=0;we<ee.length;we++)we!==de&&xe.push(ee[we]);delete q._fullLayout._activeSelectionIndex;var Be=q._fullLayout.selections[de];q._fullLayout._deselect={xref:Be.xref,yref:Be.yref},k.call("_guiRelayout",q,{selections:xe})}}}},4031:function(d,h,c){var g=c(9898),v=c(3972),y=c(1828),b=c(9298),O=c(165).readPaths,T=c(2359),k=c(8100),w=c(1873).clearOutlineControllers,C=c(7901),_=c(1424),M=c(4467).arrayEditor,I=c(8569),V=c(6964),N=c(1459),Q=c(477),z=Q.getPathString;d.exports={draw:U,drawOne:E,eraseActiveShape:ae,drawLabel:k};function U(q){var de=q._fullLayout;de._shapeUpperLayer.selectAll("path").remove(),de._shapeLowerLayer.selectAll("path").remove(),de._shapeUpperLayer.selectAll("text").remove(),de._shapeLowerLayer.selectAll("text").remove();for(var ee in de._plots){var xe=de._plots[ee].shapelayer;xe&&(xe.selectAll("path").remove(),xe.selectAll("text").remove())}for(var we=0;we<de.shapes.length;we++)de.shapes[we].visible===!0&&E(q,we)}function F(q){return!!q._fullLayout._outlining}function B(q){return!q._context.edits.shapePosition}function E(q,de){q._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+de+'"]').remove();var ee=Q.makeShapesOptionsAndPlotinfo(q,de),xe=ee.options,we=ee.plotinfo;if(!xe._input||xe.visible!==!0)return;if(xe.layer!=="below")pe(q._fullLayout._shapeUpperLayer);else if(xe.xref==="paper"||xe.yref==="paper")pe(q._fullLayout._shapeLowerLayer);else if(we._hadPlotinfo){var Be=we.mainplotinfo||we;pe(Be.shapelayer)}else pe(q._fullLayout._shapeLowerLayer);function pe(ne){var le=z(q,xe),Y={"data-index":de,"fill-rule":xe.fillrule,d:le},ve=xe.opacity,Oe=xe.fillcolor,Le=xe.line.width?xe.line.color:"rgba(0,0,0,0)",Te=xe.line.width,De=xe.line.dash;!Te&&xe.editable===!0&&(Te=5,De="solid");var Ve=le[le.length-1]!=="Z",_e=B(q)&&xe.editable&&q._fullLayout._activeShapeIndex===de;_e&&(Oe=Ve?"rgba(0,0,0,0)":q._fullLayout.activeshape.fillcolor,ve=q._fullLayout.activeshape.opacity);var Ie=ne.append("g").classed("shape-group",!0).attr({"data-index":de}),re=Ie.append("path").attr(Y).style("opacity",ve).call(C.stroke,Le).call(C.fill,Oe).call(_.dashLine,De,Te);W(Ie,q,xe),k(q,de,xe,Ie);var be;if((_e||q._context.edits.shapePosition)&&(be=M(q.layout,"shapes",xe)),_e){re.style({cursor:"move"});var te={element:re.node(),plotinfo:we,gd:q,editHelpers:be,hasText:xe.label.text||xe.label.texttemplate,isActiveShape:!0},se=O(le,q);T(se,re,te)}else q._context.edits.shapePosition?X(q,re,xe,de,ne,be):xe.editable===!0&&re.style("pointer-events",Ve||C.opacity(Oe)*ve<=.5?"stroke":"all");re.node().addEventListener("click",function(){return L(q,re)})}}function W(q,de,ee){var xe=(ee.xref+ee.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");_.setClipUrl(q,xe?"clip"+de._fullLayout._uid+xe:null,de)}function X(q,de,ee,xe,we,Be){var pe=10,ne=10,le=ee.xsizemode==="pixel",Y=ee.ysizemode==="pixel",ve=ee.type==="line",Oe=ee.type==="path",Le=Be.modifyItem,Te,De,Ve,_e,Ie,re,be,te,se,fe,oe,Se,ce,ke,Qe,Ze=g.select(de.node().parentNode),Xe=b.getFromId(q,ee.xref),ct=b.getRefType(ee.xref),pt=b.getFromId(q,ee.yref),Ye=b.getRefType(ee.yref),je=Q.getDataToPixel(q,Xe,!1,ct),et=Q.getDataToPixel(q,pt,!0,Ye),yt=Q.getPixelToData(q,Xe,!1,ct),ft=Q.getPixelToData(q,pt,!0,Ye),tt=Gt(),wt={element:tt.node(),gd:q,prepFn:vn,doneFn:En,clickFn:ln},Xt;I.init(wt),tt.node().onmousemove=Bt;function Gt(){return ve?Nt():de}function Nt(){var Sn=10,lt=Math.max(ee.line.width,Sn),ut=we.append("g").attr("data-index",xe).attr("drag-helper",!0);ut.append("path").attr("d",de.attr("d")).style({cursor:"move","stroke-width":lt,"stroke-opacity":"0"});var xt={"fill-opacity":"0"},gt=Math.max(lt/2,Sn);return ut.append("circle").attr({"data-line-point":"start-point",cx:le?je(ee.xanchor)+ee.x0:je(ee.x0),cy:Y?et(ee.yanchor)-ee.y0:et(ee.y0),r:gt}).style(xt).classed("cursor-grab",!0),ut.append("circle").attr({"data-line-point":"end-point",cx:le?je(ee.xanchor)+ee.x1:je(ee.x1),cy:Y?et(ee.yanchor)-ee.y1:et(ee.y1),r:gt}).style(xt).classed("cursor-grab",!0),ut}function Bt(Sn){if(F(q)){Xt=null;return}if(ve)Sn.target.tagName==="path"?Xt="move":Xt=Sn.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var lt=wt.element.getBoundingClientRect(),ut=lt.right-lt.left,xt=lt.bottom-lt.top,gt=Sn.clientX-lt.left,Dt=Sn.clientY-lt.top,He=!Oe&&ut>pe&&xt>ne&&!Sn.shiftKey?I.getCursor(gt/ut,1-Dt/xt):"move";V(de,He),Xt=He.split("-")[0]}}function vn(Sn){F(q)||(le&&(Ie=je(ee.xanchor)),Y&&(re=et(ee.yanchor)),ee.type==="path"?Qe=ee.path:(Te=le?ee.x0:je(ee.x0),De=Y?ee.y0:et(ee.y0),Ve=le?ee.x1:je(ee.x1),_e=Y?ee.y1:et(ee.y1)),Te<Ve?(se=Te,ce="x0",fe=Ve,ke="x1"):(se=Ve,ce="x1",fe=Te,ke="x0"),!Y&&De<_e||Y&&De>_e?(be=De,oe="y0",te=_e,Se="y1"):(be=_e,oe="y1",te=De,Se="y0"),Bt(Sn),wn(we,ee),Un(de,ee,q),wt.moveFn=Xt==="move"?Yn:an,wt.altKey=Sn.altKey)}function En(){F(q)||(V(de),Xn(we),W(de,q,ee),v.call("_guiRelayout",q,Be.getUpdateObj()))}function ln(){F(q)||Xn(we)}function Yn(Sn,lt){if(ee.type==="path"){var ut=function(Dt){return Dt},xt=ut,gt=ut;le?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(xt=function(He){return yt(je(He)+Sn)},Xe&&Xe.type==="date"&&(xt=Q.encodeDate(xt))),Y?Le("yanchor",ee.yanchor=ft(re+lt)):(gt=function(He){return ft(et(He)+lt)},pt&&pt.type==="date"&&(gt=Q.encodeDate(gt))),Le("path",ee.path=ie(Qe,xt,gt))}else le?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(Le("x0",ee.x0=yt(Te+Sn)),Le("x1",ee.x1=yt(Ve+Sn))),Y?Le("yanchor",ee.yanchor=ft(re+lt)):(Le("y0",ee.y0=ft(De+lt)),Le("y1",ee.y1=ft(_e+lt)));de.attr("d",z(q,ee)),wn(we,ee),k(q,xe,ee,Ze)}function an(Sn,lt){if(Oe){var ut=function(nr){return nr},xt=ut,gt=ut;le?Le("xanchor",ee.xanchor=yt(Ie+Sn)):(xt=function(Er){return yt(je(Er)+Sn)},Xe&&Xe.type==="date"&&(xt=Q.encodeDate(xt))),Y?Le("yanchor",ee.yanchor=ft(re+lt)):(gt=function(Er){return ft(et(Er)+lt)},pt&&pt.type==="date"&&(gt=Q.encodeDate(gt))),Le("path",ee.path=ie(Qe,xt,gt))}else if(ve){if(Xt==="resize-over-start-point"){var Dt=Te+Sn,He=Y?De-lt:De+lt;Le("x0",ee.x0=le?Dt:yt(Dt)),Le("y0",ee.y0=Y?He:ft(He))}else if(Xt==="resize-over-end-point"){var it=Ve+Sn,dt=Y?_e-lt:_e+lt;Le("x1",ee.x1=le?it:yt(it)),Le("y1",ee.y1=Y?dt:ft(dt))}}else{var mt=function(nr){return Xt.indexOf(nr)!==-1},Ct=mt("n"),Pt=mt("s"),dn=mt("w"),rn=mt("e"),Wt=Ct?be+lt:be,Rt=Pt?te+lt:te,fn=dn?se+Sn:se,Hn=rn?fe+Sn:fe;Y&&(Ct&&(Wt=be-lt),Pt&&(Rt=te-lt)),(!Y&&Rt-Wt>ne||Y&&Wt-Rt>ne)&&(Le(oe,ee[oe]=Y?Wt:ft(Wt)),Le(Se,ee[Se]=Y?Rt:ft(Rt))),Hn-fn>pe&&(Le(ce,ee[ce]=le?fn:yt(fn)),Le(ke,ee[ke]=le?Hn:yt(Hn)))}de.attr("d",z(q,ee)),wn(we,ee),k(q,xe,ee,Ze)}function wn(Sn,lt){(le||Y)&&ut();function ut(){var xt=lt.type!=="path",gt=Sn.selectAll(".visual-cue").data([0]),Dt=1;gt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Dt}).classed("visual-cue",!0);var He=je(le?lt.xanchor:y.midRange(xt?[lt.x0,lt.x1]:Q.extractPathCoords(lt.path,N.paramIsX))),it=et(Y?lt.yanchor:y.midRange(xt?[lt.y0,lt.y1]:Q.extractPathCoords(lt.path,N.paramIsY)));if(He=Q.roundPositionForSharpStrokeRendering(He,Dt),it=Q.roundPositionForSharpStrokeRendering(it,Dt),le&&Y){var dt="M"+(He-1-Dt)+","+(it-1-Dt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";gt.attr("d",dt)}else if(le){var mt="M"+(He-1-Dt)+","+(it-9-Dt)+"v18 h2 v-18 Z";gt.attr("d",mt)}else{var Ct="M"+(He-9-Dt)+","+(it-1-Dt)+"h18 v2 h-18 Z";gt.attr("d",Ct)}}}function Xn(Sn){Sn.selectAll(".visual-cue").remove()}function Un(Sn,lt,ut){var xt=lt.xref,gt=lt.yref,Dt=b.getFromId(ut,xt),He=b.getFromId(ut,gt),it="";xt!=="paper"&&!Dt.autorange&&(it+=xt),gt!=="paper"&&!He.autorange&&(it+=gt),_.setClipUrl(Sn,it?"clip"+ut._fullLayout._uid+it:null,ut)}}function ie(q,de,ee){return q.replace(N.segmentRE,function(xe){var we=0,Be=xe.charAt(0),pe=N.paramIsX[Be],ne=N.paramIsY[Be],le=N.numParams[Be],Y=xe.substr(1).replace(N.paramRE,function(ve){return we>=le||(pe[we]?ve=de(ve):ne[we]&&(ve=ee(ve)),we++),ve});return Be+Y})}function L(q,de){if(B(q)){var ee=de.node(),xe=+ee.getAttribute("data-index");if(xe>=0){if(xe===q._fullLayout._activeShapeIndex){me(q);return}q._fullLayout._activeShapeIndex=xe,q._fullLayout._deactivateShape=me,U(q)}}}function me(q){if(B(q)){var de=q._fullLayout._activeShapeIndex;de>=0&&(w(q),delete q._fullLayout._activeShapeIndex,U(q))}}function ae(q){if(B(q)){w(q);var de=q._fullLayout._activeShapeIndex,ee=(q.layout||{}).shapes||[];if(de<ee.length){for(var xe=[],we=0;we<ee.length;we++)we!==de&&xe.push(ee[we]);return delete q._fullLayout._activeShapeIndex,v.call("_guiRelayout",q,{shapes:xe})}}}},9241:function(d,h,c){var g=c(962).overrideAll,v=c(9012),y=c(1940),b=c(9952).P,O=c(1426).extendFlat,T=c(5386).R,k=c(7281);d.exports=g({newshape:{visible:O({},v.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:O({},v.legend,{}),legendgroup:O({},v.legendgroup,{}),legendgrouptitle:{text:O({},v.legendgrouptitle.text,{}),font:y({})},legendrank:O({},v.legendrank,{}),legendwidth:O({},v.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:O({},b,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:O({},v.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:T({newshape:!0},{keys:Object.keys(k)}),font:y({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(d){var h=32;d.exports={CIRCLE_SIDES:h,i000:0,i090:h/4,i180:h/2,i270:h/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(d,h,c){var g=c(7901),v=c(1828);function y(b,O){return b?"bottom":O.indexOf("top")!==-1?"top":O.indexOf("bottom")!==-1?"bottom":"middle"}d.exports=function(O,T,k){k("newshape.visible"),k("newshape.name"),k("newshape.showlegend"),k("newshape.legend"),k("newshape.legendwidth"),k("newshape.legendgroup"),k("newshape.legendgrouptitle.text"),v.coerceFont(k,"newshape.legendgrouptitle.font"),k("newshape.legendrank"),k("newshape.drawdirection"),k("newshape.layer"),k("newshape.fillcolor"),k("newshape.fillrule"),k("newshape.opacity");var w=k("newshape.line.width");if(w){var C=(O||{}).plot_bgcolor||"#FFF";k("newshape.line.color",g.contrast(C)),k("newshape.line.dash")}var _=O.dragmode==="drawline",M=k("newshape.label.text"),I=k("newshape.label.texttemplate");if(M||I){k("newshape.label.textangle");var V=k("newshape.label.textposition",_?"middle":"middle center");k("newshape.label.xanchor"),k("newshape.label.yanchor",y(_,V)),k("newshape.label.padding"),v.coerceFont(k,"newshape.label.font",T.font)}k("activeshape.fillcolor"),k("activeshape.opacity")}},165:function(d,h,c){var g=c(5616),v=c(9995),y=v.CIRCLE_SIDES,b=v.SQRT2,O=c(5549),T=O.p2r,k=O.r2p,w=[0,3,4,5,6,1,2],C=[0,3,4,1,2];h.writePaths=function(I){var V=I.length;if(!V)return"M0,0Z";for(var N="",Q=0;Q<V;Q++)for(var z=I[Q].length,U=0;U<z;U++){var F=I[Q][U][0];if(F==="Z")N+="Z";else for(var B=I[Q][U].length,E=0;E<B;E++){var W=E;F==="Q"||F==="S"?W=C[E]:F==="C"&&(W=w[E]),N+=I[Q][U][W],E>0&&E<B-1&&(N+=",")}}return N},h.readPaths=function(I,V,N,Q){var z=g(I),U=[],F=-1,B=function(){F++,U[F]=[]},E,W=0,X=0,ie,L,me=function(){ie=W,L=X};me();for(var ae=0;ae<z.length;ae++){var q=[],de,ee,xe,we,Be=z[ae][0],pe=Be;switch(Be){case"M":B(),W=+z[ae][1],X=+z[ae][2],q.push([pe,W,X]),me();break;case"Q":case"S":de=+z[ae][1],xe=+z[ae][2],W=+z[ae][3],X=+z[ae][4],q.push([pe,W,X,de,xe]);break;case"C":de=+z[ae][1],xe=+z[ae][2],ee=+z[ae][3],we=+z[ae][4],W=+z[ae][5],X=+z[ae][6],q.push([pe,W,X,de,xe,ee,we]);break;case"T":case"L":W=+z[ae][1],X=+z[ae][2],q.push([pe,W,X]);break;case"H":pe="L",W=+z[ae][1],q.push([pe,W,X]);break;case"V":pe="L",X=+z[ae][1],q.push([pe,W,X]);break;case"A":pe="L";var ne=+z[ae][1],le=+z[ae][2];+z[ae][4]||(ne=-ne,le=-le);var Y=W-ne,ve=X;for(E=1;E<=y/2;E++){var Oe=2*Math.PI*E/y;q.push([pe,Y+ne*Math.cos(Oe),ve+le*Math.sin(Oe)])}break;case"Z":(W!==ie||X!==L)&&(W=ie,X=L,q.push([pe,W,X]));break}for(var Le=(N||{}).domain,Te=V._fullLayout._size,De=N&&N.xsizemode==="pixel",Ve=N&&N.ysizemode==="pixel",_e=Q===!1,Ie=0;Ie<q.length;Ie++){for(E=0;E+2<7;E+=2){var re=q[Ie][E+1],be=q[Ie][E+2];re===void 0||be===void 0||(W=re,X=be,N&&(N.xaxis&&N.xaxis.p2r?(_e&&(re-=N.xaxis._offset),De?re=k(N.xaxis,N.xanchor)+re:re=T(N.xaxis,re)):(_e&&(re-=Te.l),Le?re=Le.x[0]+re/Te.w:re=re/Te.w),N.yaxis&&N.yaxis.p2r?(_e&&(be-=N.yaxis._offset),Ve?be=k(N.yaxis,N.yanchor)-be:be=T(N.yaxis,be)):(_e&&(be-=Te.t),Le?be=Le.y[1]-be/Te.h:be=1-be/Te.h)),q[Ie][E+1]=re,q[Ie][E+2]=be)}U[F].push(q[Ie].slice())}}return U};function _(I,V){return Math.abs(I-V)<=1e-6}function M(I,V){var N=V[1]-I[1],Q=V[2]-I[2];return Math.sqrt(N*N+Q*Q)}h.pointsOnRectangle=function(I){var V=I.length;if(V!==5)return!1;for(var N=1;N<3;N++){var Q=I[0][N]-I[1][N],z=I[3][N]-I[2][N];if(!_(Q,z))return!1;var U=I[0][N]-I[3][N],F=I[1][N]-I[2][N];if(!_(U,F))return!1}return!_(I[0][1],I[1][1])&&!_(I[0][1],I[3][1])?!1:!!(M(I[0],I[1])*M(I[0],I[3]))},h.pointsOnEllipse=function(I){var V=I.length;if(V!==y+1)return!1;V=y;for(var N=0;N<V;N++){var Q=(V*2-N)%V,z=(V/2+Q)%V,U=(V/2+N)%V;if(!_(M(I[N],I[U]),M(I[Q],I[z])))return!1}return!0},h.handleEllipse=function(I,V,N){if(!I)return[V,N];var Q=h.ellipseOver({x0:V[0],y0:V[1],x1:N[0],y1:N[1]}),z=(Q.x1+Q.x0)/2,U=(Q.y1+Q.y0)/2,F=(Q.x1-Q.x0)/2,B=(Q.y1-Q.y0)/2;F||(F=B=B/b),B||(B=F=F/b);for(var E=[],W=0;W<y;W++){var X=W*2*Math.PI/y;E.push([z+F*Math.cos(X),U+B*Math.sin(X)])}return E},h.ellipseOver=function(I){var V=I.x0,N=I.y0,Q=I.x1,z=I.y1,U=Q-V,F=z-N;V-=U,N-=F;var B=(V+Q)/2,E=(N+z)/2,W=b;return U*=W,F*=W,{x0:B-U,y0:E-F,x1:B+U,y1:E+F}},h.fixDatesForPaths=function(I,V,N){var Q=V.type==="date",z=N.type==="date";if(!Q&&!z)return I;for(var U=0;U<I.length;U++)for(var F=0;F<I[U].length;F++)for(var B=0;B+2<I[U][F].length;B+=2)Q&&(I[U][F][B+1]=I[U][F][B+1].replace(" ","_")),z&&(I[U][F][B+2]=I[U][F][B+2].replace(" ","_"));return I}},551:function(d,h,c){var g=c(4505),v=g.drawMode,y=g.openMode,b=c(9995),O=b.i000,T=b.i090,k=b.i180,w=b.i270,C=b.cos45,_=b.sin45,M=c(5549),I=M.p2r,V=M.r2p,N=c(1873),Q=N.clearOutline,z=c(165),U=z.readPaths,F=z.writePaths,B=z.ellipseOver,E=z.fixDatesForPaths;function W(ie,L){if(ie.length){var me=ie[0][0];if(me){var ae=L.gd,q=L.isActiveShape,de=L.dragmode,ee=(ae.layout||{}).shapes||[];if(!v(de)&&q!==void 0){var xe=ae._fullLayout._activeShapeIndex;if(xe<ee.length)switch(ae._fullLayout.shapes[xe].type){case"rect":de="drawrect";break;case"circle":de="drawcircle";break;case"line":de="drawline";break;case"path":var we=ee[xe].path||"";we[we.length-1]==="Z"?de="drawclosedpath":de="drawopenpath";break}}var Be=X(ie,L,de);Q(ae);for(var pe=L.editHelpers,ne=(pe||{}).modifyItem,le=[],Y=0;Y<ee.length;Y++){var ve=ae._fullLayout.shapes[Y];if(le[Y]=ve._input,q!==void 0&&Y===ae._fullLayout._activeShapeIndex){var Oe=Be;switch(ve.type){case"line":case"rect":case"circle":ne("x0",Oe.x0),ne("x1",Oe.x1),ne("y0",Oe.y0),ne("y1",Oe.y1);break;case"path":ne("path",Oe.path);break}}}return q===void 0?(le.push(Be),le):pe?pe.getUpdateObj():{}}}}function X(ie,L,me){var ae=ie[0][0],q=L.gd,de=ae.getAttribute("d"),ee=q._fullLayout.newshape,xe=L.plotinfo,we=L.isActiveShape,Be=xe.xaxis,pe=xe.yaxis,ne=!!xe.domain||!xe.xaxis,le=!!xe.domain||!xe.yaxis,Y=y(me),ve=U(de,q,xe,we),Oe={editable:!0,visible:ee.visible,name:ee.name,showlegend:ee.showlegend,legend:ee.legend,legendwidth:ee.legendwidth,legendgroup:ee.legendgroup,legendgrouptitle:{text:ee.legendgrouptitle.text,font:ee.legendgrouptitle.font},legendrank:ee.legendrank,label:ee.label,xref:ne?"paper":Be._id,yref:le?"paper":pe._id,layer:ee.layer,opacity:ee.opacity,line:{color:ee.line.color,width:ee.line.width,dash:ee.line.dash}};Y||(Oe.fillcolor=ee.fillcolor,Oe.fillrule=ee.fillrule);var Le;if(ve.length===1&&(Le=ve[0]),Le&&Le.length===5&&me==="drawrect")Oe.type="rect",Oe.x0=Le[0][1],Oe.y0=Le[0][2],Oe.x1=Le[2][1],Oe.y1=Le[2][2];else if(Le&&me==="drawline")Oe.type="line",Oe.x0=Le[0][1],Oe.y0=Le[0][2],Oe.x1=Le[1][1],Oe.y1=Le[1][2];else if(Le&&me==="drawcircle"){Oe.type="circle";var Te=Le[O][1],De=Le[T][1],Ve=Le[k][1],_e=Le[w][1],Ie=Le[O][2],re=Le[T][2],be=Le[k][2],te=Le[w][2],se=xe.xaxis&&(xe.xaxis.type==="date"||xe.xaxis.type==="log"),fe=xe.yaxis&&(xe.yaxis.type==="date"||xe.yaxis.type==="log");se&&(Te=V(xe.xaxis,Te),De=V(xe.xaxis,De),Ve=V(xe.xaxis,Ve),_e=V(xe.xaxis,_e)),fe&&(Ie=V(xe.yaxis,Ie),re=V(xe.yaxis,re),be=V(xe.yaxis,be),te=V(xe.yaxis,te));var oe=(De+_e)/2,Se=(Ie+be)/2,ce=(_e-De+Ve-Te)/2,ke=(te-re+be-Ie)/2,Qe=B({x0:oe,y0:Se,x1:oe+ce*C,y1:Se+ke*_});se&&(Qe.x0=I(xe.xaxis,Qe.x0),Qe.x1=I(xe.xaxis,Qe.x1)),fe&&(Qe.y0=I(xe.yaxis,Qe.y0),Qe.y1=I(xe.yaxis,Qe.y1)),Oe.x0=Qe.x0,Oe.y0=Qe.y0,Oe.x1=Qe.x1,Oe.y1=Qe.y1}else Oe.type="path",Be&&pe&&E(ve,Be,pe),Oe.path=F(ve),Le=null;return Oe}d.exports={newShapes:W,createShapeObj:X}},1873:function(d){function h(g){var v=g._fullLayout._zoomlayer;v&&v.selectAll(".outline-controllers").remove()}function c(g){var v=g._fullLayout._zoomlayer;v&&v.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}d.exports={clearOutlineControllers:h,clearOutline:c}},477:function(d,h,c){var g=c(1459),v=c(1828),y=c(9298);h.rangeToShapePosition=function(O){return O.type==="log"?O.r2d:function(T){return T}},h.shapePositionToRange=function(O){return O.type==="log"?O.d2r:function(T){return T}},h.decodeDate=function(O){return function(T){return T.replace&&(T=T.replace("_"," ")),O(T)}},h.encodeDate=function(O){return function(T){return O(T).replace(" ","_")}},h.extractPathCoords=function(O,T,k){var w=[],C=O.match(g.segmentRE);return C.forEach(function(_){var M=T[_.charAt(0)].drawn;if(M!==void 0){var I=_.substr(1).match(g.paramRE);if(!(!I||I.length<M)){var V=I[M],N=k?V:v.cleanNumber(V);w.push(N)}}}),w},h.getDataToPixel=function(O,T,k,w){var C=O._fullLayout._size,_;if(T)if(w==="domain")_=function(I){return T._length*(k?1-I:I)+T._offset};else{var M=h.shapePositionToRange(T);_=function(I){return T._offset+T.r2p(M(I,!0))},T.type==="date"&&(_=h.decodeDate(_))}else k?_=function(I){return C.t+C.h*(1-I)}:_=function(I){return C.l+C.w*I};return _},h.getPixelToData=function(O,T,k,w){var C=O._fullLayout._size,_;if(T)if(w==="domain")_=function(I){var V=(I-T._offset)/T._length;return k?1-V:V};else{var M=h.rangeToShapePosition(T);_=function(I){return M(T.p2r(I-T._offset))}}else k?_=function(I){return 1-(I-C.t)/C.h}:_=function(I){return(I-C.l)/C.w};return _},h.roundPositionForSharpStrokeRendering=function(O,T){var k=Math.round(T%2)===1,w=Math.round(O);return k?w+.5:w},h.makeShapesOptionsAndPlotinfo=function(O,T){var k=O._fullLayout.shapes[T]||{},w=O._fullLayout._plots[k.xref+k.yref],C=!!w;return C?w._hadPlotinfo=!0:(w={},k.xref&&k.xref!=="paper"&&(w.xaxis=O._fullLayout[k.xref+"axis"]),k.yref&&k.yref!=="paper"&&(w.yaxis=O._fullLayout[k.yref+"axis"])),w.xsizemode=k.xsizemode,w.ysizemode=k.ysizemode,w.xanchor=k.xanchor,w.yanchor=k.yanchor,{options:k,plotinfo:w}},h.makeSelectionsOptionsAndPlotinfo=function(O,T){var k=O._fullLayout.selections[T]||{},w=O._fullLayout._plots[k.xref+k.yref],C=!!w;return C?w._hadPlotinfo=!0:(w={},k.xref&&(w.xaxis=O._fullLayout[k.xref+"axis"]),k.yref&&(w.yaxis=O._fullLayout[k.yref+"axis"])),{options:k,plotinfo:w}},h.getPathString=function(O,T){var k=T.type,w=y.getRefType(T.xref),C=y.getRefType(T.yref),_=y.getFromId(O,T.xref),M=y.getFromId(O,T.yref),I=O._fullLayout._size,V,N,Q,z,U,F,B,E;if(_?w==="domain"?N=function(xe){return _._offset+_._length*xe}:(V=h.shapePositionToRange(_),N=function(xe){return _._offset+_.r2p(V(xe,!0))}):N=function(xe){return I.l+I.w*xe},M?C==="domain"?z=function(xe){return M._offset+M._length*(1-xe)}:(Q=h.shapePositionToRange(M),z=function(xe){return M._offset+M.r2p(Q(xe,!0))}):z=function(xe){return I.t+I.h*(1-xe)},k==="path")return _&&_.type==="date"&&(N=h.decodeDate(N)),M&&M.type==="date"&&(z=h.decodeDate(z)),b(T,N,z);if(T.xsizemode==="pixel"){var W=N(T.xanchor);U=W+T.x0,F=W+T.x1}else U=N(T.x0),F=N(T.x1);if(T.ysizemode==="pixel"){var X=z(T.yanchor);B=X-T.y0,E=X-T.y1}else B=z(T.y0),E=z(T.y1);if(k==="line")return"M"+U+","+B+"L"+F+","+E;if(k==="rect")return"M"+U+","+B+"H"+F+"V"+E+"H"+U+"Z";var ie=(U+F)/2,L=(B+E)/2,me=Math.abs(ie-U),ae=Math.abs(L-B),q="A"+me+","+ae,de=ie+me+","+L,ee=ie+","+(L-ae);return"M"+de+q+" 0 1,1 "+ee+q+" 0 0,1 "+de+"Z"};function b(O,T,k){var w=O.path,C=O.xsizemode,_=O.ysizemode,M=O.xanchor,I=O.yanchor;return w.replace(g.segmentRE,function(V){var N=0,Q=V.charAt(0),z=g.paramIsX[Q],U=g.paramIsY[Q],F=g.numParams[Q],B=V.substr(1).replace(g.paramRE,function(E){return z[N]?C==="pixel"?E=T(M)+Number(E):E=T(E):U[N]&&(_==="pixel"?E=k(I)-Number(E):E=k(E)),N++,N>F&&(E="X"),E});return N>F&&(B=B.replace(/[\s,]*X.*/,""),v.log("Ignoring extra params in segment "+V)),Q+B})}},9853:function(d,h,c){var g=c(4031);d.exports={moduleType:"component",name:"shapes",layoutAttributes:c(9827),supplyLayoutDefaults:c(4726),supplyDrawNewShapeDefaults:c(5547),includeBasePlot:c(6325)("shapes"),calcAutorange:c(5627),draw:g.draw,drawOne:g.drawOne}},7281:function(d){function h(V,N){return N?N.d2l(V):V}function c(V,N){return N?N.l2d(V):V}function g(V){return V.x0}function v(V){return V.x1}function y(V){return V.y0}function b(V){return V.y1}function O(V,N){return h(V.x1,N)-h(V.x0,N)}function T(V,N,Q){return h(V.y1,Q)-h(V.y0,Q)}function k(V,N){return Math.abs(O(V,N))}function w(V,N,Q){return Math.abs(T(V,N,Q))}function C(V,N,Q){return V.type!=="line"?void 0:Math.sqrt(Math.pow(O(V,N),2)+Math.pow(T(V,N,Q),2))}function _(V,N){return c((h(V.x1,N)+h(V.x0,N))/2,N)}function M(V,N,Q){return c((h(V.y1,Q)+h(V.y0,Q))/2,Q)}function I(V,N,Q){return V.type!=="line"?void 0:T(V,N,Q)/O(V,N)}d.exports={x0:g,x1:v,y0:y,y1:b,slope:I,dx:O,dy:T,width:k,height:w,length:C,xcenter:_,ycenter:M}},5067:function(d,h,c){var g=c(1940),v=c(5025),y=c(1426).extendDeepAll,b=c(962).overrideAll,O=c(5594),T=c(4467).templatedArray,k=c(8292),w=T("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});d.exports=b(T("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:w,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:y(v({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:O.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:k.gripBgActiveColor},bgcolor:{valType:"color",dflt:k.railBgColor},bordercolor:{valType:"color",dflt:k.railBorderColor},borderwidth:{valType:"number",min:0,dflt:k.railBorderWidth},ticklen:{valType:"number",min:0,dflt:k.tickLength},tickcolor:{valType:"color",dflt:k.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:k.minorTickLength}}),"arraydraw","from-root")},8292:function(d){d.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(d,h,c){var g=c(1828),v=c(5501),y=c(5067),b=c(8292),O=b.name,T=y.steps;d.exports=function(_,M){v(_,M,{name:O,handleItemDefaults:k})};function k(C,_,M){function I(E,W){return g.coerce(C,_,y,E,W)}for(var V=v(C,_,{name:"steps",handleItemDefaults:w}),N=0,Q=0;Q<V.length;Q++)V[Q].visible&&N++;var z;if(N<2?z=_.visible=!1:z=I("visible"),!!z){_._stepCount=N;var U=_._visibleSteps=g.filterVisible(V),F=I("active");(V[F]||{}).visible||(_.active=U[0]._index),I("x"),I("y"),g.noneOrAll(C,_,["x","y"]),I("xanchor"),I("yanchor"),I("len"),I("lenmode"),I("pad.t"),I("pad.r"),I("pad.b"),I("pad.l"),g.coerceFont(I,"font",M.font);var B=I("currentvalue.visible");B&&(I("currentvalue.xanchor"),I("currentvalue.prefix"),I("currentvalue.suffix"),I("currentvalue.offset"),g.coerceFont(I,"currentvalue.font",_.font)),I("transition.duration"),I("transition.easing"),I("bgcolor"),I("activebgcolor"),I("bordercolor"),I("borderwidth"),I("ticklen"),I("tickwidth"),I("tickcolor"),I("minorticklen")}}function w(C,_){function M(N,Q){return g.coerce(C,_,T,N,Q)}var I;if(C.method!=="skip"&&!Array.isArray(C.args)?I=_.visible=!1:I=M("visible"),I){M("method"),M("args");var V=M("label","step-"+_._index);M("value",V),M("execute")}}},4504:function(d,h,c){var g=c(9898),v=c(4875),y=c(7901),b=c(1424),O=c(1828),T=O.strTranslate,k=c(3893),w=c(4467).arrayEditor,C=c(8292),_=c(8783),M=_.LINE_SPACING,I=_.FROM_TL,V=_.FROM_BR;d.exports=function(ne){var le=ne._context.staticPlot,Y=ne._fullLayout,ve=Q(Y,ne),Oe=Y._infolayer.selectAll("g."+C.containerClassName).data(ve.length>0?[0]:[]);Oe.enter().append("g").classed(C.containerClassName,!0).style("cursor",le?null:"ew-resize");function Le(_e){_e._commandObserver&&(_e._commandObserver.remove(),delete _e._commandObserver),v.autoMargin(ne,N(_e))}if(Oe.exit().each(function(){g.select(this).selectAll("g."+C.groupClassName).each(Le)}).remove(),ve.length!==0){var Te=Oe.selectAll("g."+C.groupClassName).data(ve,z);Te.enter().append("g").classed(C.groupClassName,!0),Te.exit().each(Le).remove();for(var De=0;De<ve.length;De++){var Ve=ve[De];U(ne,Ve)}Te.each(function(_e){var Ie=g.select(this);q(_e),v.manageCommandObserver(ne,_e,_e._visibleSteps,function(re){var be=Ie.data()[0];be.active!==re.index&&(be._dragging||L(ne,Ie,be,re.index,!1,!0))}),F(ne,g.select(this),_e)})}};function N(pe){return C.autoMarginIdRoot+pe._index}function Q(pe,ne){for(var le=pe[C.name],Y=[],ve=0;ve<le.length;ve++){var Oe=le[ve];Oe.visible&&(Oe._gd=ne,Y.push(Oe))}return Y}function z(pe){return pe._index}function U(pe,ne){var le=b.tester.selectAll("g."+C.labelGroupClass).data(ne._visibleSteps);le.enter().append("g").classed(C.labelGroupClass,!0);var Y=0,ve=0;le.each(function(te){var se=g.select(this),fe=W(se,{step:te},ne),oe=fe.node();if(oe){var Se=b.bBox(oe);ve=Math.max(ve,Se.height),Y=Math.max(Y,Se.width)}}),le.remove();var Oe=ne._dims={};Oe.inputAreaWidth=Math.max(C.railWidth,C.gripHeight);var Le=pe._fullLayout._size;Oe.lx=Le.l+Le.w*ne.x,Oe.ly=Le.t+Le.h*(1-ne.y),ne.lenmode==="fraction"?Oe.outerLength=Math.round(Le.w*ne.len):Oe.outerLength=ne.len,Oe.inputAreaStart=0,Oe.inputAreaLength=Math.round(Oe.outerLength-ne.pad.l-ne.pad.r);var Te=Oe.inputAreaLength-2*C.stepInset,De=Te/(ne._stepCount-1),Ve=Y+C.labelPadding;if(Oe.labelStride=Math.max(1,Math.ceil(Ve/De)),Oe.labelHeight=ve,Oe.currentValueMaxWidth=0,Oe.currentValueHeight=0,Oe.currentValueTotalHeight=0,Oe.currentValueMaxLines=1,ne.currentvalue.visible){var _e=b.tester.append("g");le.each(function(te){var se=B(_e,ne,te.label),fe=se.node()&&b.bBox(se.node())||{width:0,height:0},oe=k.lineCount(se);Oe.currentValueMaxWidth=Math.max(Oe.currentValueMaxWidth,Math.ceil(fe.width)),Oe.currentValueHeight=Math.max(Oe.currentValueHeight,Math.ceil(fe.height)),Oe.currentValueMaxLines=Math.max(Oe.currentValueMaxLines,oe)}),Oe.currentValueTotalHeight=Oe.currentValueHeight+ne.currentvalue.offset,_e.remove()}Oe.height=Oe.currentValueTotalHeight+C.tickOffset+ne.ticklen+C.labelOffset+Oe.labelHeight+ne.pad.t+ne.pad.b;var Ie="left";O.isRightAnchor(ne)&&(Oe.lx-=Oe.outerLength,Ie="right"),O.isCenterAnchor(ne)&&(Oe.lx-=Oe.outerLength/2,Ie="center");var re="top";O.isBottomAnchor(ne)&&(Oe.ly-=Oe.height,re="bottom"),O.isMiddleAnchor(ne)&&(Oe.ly-=Oe.height/2,re="middle"),Oe.outerLength=Math.ceil(Oe.outerLength),Oe.height=Math.ceil(Oe.height),Oe.lx=Math.round(Oe.lx),Oe.ly=Math.round(Oe.ly);var be={y:ne.y,b:Oe.height*V[re],t:Oe.height*I[re]};ne.lenmode==="fraction"?(be.l=0,be.xl=ne.x-ne.len*I[Ie],be.r=0,be.xr=ne.x+ne.len*V[Ie]):(be.x=ne.x,be.l=Oe.outerLength*I[Ie],be.r=Oe.outerLength*V[Ie]),v.autoMargin(pe,N(ne),be)}function F(pe,ne,le){(le.steps[le.active]||{}).visible||(le.active=le._visibleSteps[0]._index),ne.call(B,le).call(Be,le).call(X,le).call(ae,le).call(we,pe,le).call(E,pe,le);var Y=le._dims;b.setTranslate(ne,Y.lx+le.pad.l,Y.ly+le.pad.t),ne.call(de,le,!1),ne.call(B,le)}function B(pe,ne,le){if(ne.currentvalue.visible){var Y=ne._dims,ve,Oe;switch(ne.currentvalue.xanchor){case"right":ve=Y.inputAreaLength-C.currentValueInset-Y.currentValueMaxWidth,Oe="left";break;case"center":ve=Y.inputAreaLength*.5,Oe="middle";break;default:ve=C.currentValueInset,Oe="left"}var Le=O.ensureSingle(pe,"text",C.labelClass,function(re){re.attr({"text-anchor":Oe,"data-notex":1})}),Te=ne.currentvalue.prefix?ne.currentvalue.prefix:"";if(typeof le=="string")Te+=le;else{var De=ne.steps[ne.active].label,Ve=ne._gd._fullLayout._meta;Ve&&(De=O.templateString(De,Ve)),Te+=De}ne.currentvalue.suffix&&(Te+=ne.currentvalue.suffix),Le.call(b.font,ne.currentvalue.font).text(Te).call(k.convertToTspans,ne._gd);var _e=k.lineCount(Le),Ie=(Y.currentValueMaxLines+1-_e)*ne.currentvalue.font.size*M;return k.positionText(Le,ve,Ie),Le}}function E(pe,ne,le){var Y=O.ensureSingle(pe,"rect",C.gripRectClass,function(ve){ve.call(me,ne,pe,le).style("pointer-events","all")});Y.attr({width:C.gripWidth,height:C.gripHeight,rx:C.gripRadius,ry:C.gripRadius}).call(y.stroke,le.bordercolor).call(y.fill,le.bgcolor).style("stroke-width",le.borderwidth+"px")}function W(pe,ne,le){var Y=O.ensureSingle(pe,"text",C.labelClass,function(Le){Le.attr({"text-anchor":"middle","data-notex":1})}),ve=ne.step.label,Oe=le._gd._fullLayout._meta;return Oe&&(ve=O.templateString(ve,Oe)),Y.call(b.font,le.font).text(ve).call(k.convertToTspans,le._gd),Y}function X(pe,ne){var le=O.ensureSingle(pe,"g",C.labelsClass),Y=ne._dims,ve=le.selectAll("g."+C.labelGroupClass).data(Y.labelSteps);ve.enter().append("g").classed(C.labelGroupClass,!0),ve.exit().remove(),ve.each(function(Oe){var Le=g.select(this);Le.call(W,Oe,ne),b.setTranslate(Le,ee(ne,Oe.fraction),C.tickOffset+ne.ticklen+ne.font.size*M+C.labelOffset+Y.currentValueTotalHeight)})}function ie(pe,ne,le,Y,ve){var Oe=Math.round(Y*(le._stepCount-1)),Le=le._visibleSteps[Oe]._index;Le!==le.active&&L(pe,ne,le,Le,!0,ve)}function L(pe,ne,le,Y,ve,Oe){var Le=le.active;le.active=Y,w(pe.layout,C.name,le).applyUpdate("active",Y);var Te=le.steps[le.active];ne.call(de,le,Oe),ne.call(B,le),pe.emit("plotly_sliderchange",{slider:le,step:le.steps[le.active],interaction:ve,previousActive:Le}),Te&&Te.method&&ve&&(ne._nextMethod?(ne._nextMethod.step=Te,ne._nextMethod.doCallback=ve,ne._nextMethod.doTransition=Oe):(ne._nextMethod={step:Te,doCallback:ve,doTransition:Oe},ne._nextMethodRaf=window.requestAnimationFrame(function(){var De=ne._nextMethod.step;De.method&&(De.execute&&v.executeAPICommand(pe,De.method,De.args),ne._nextMethod=null,ne._nextMethodRaf=null)})))}function me(pe,ne,le){if(ne._context.staticPlot)return;var Y=le.node(),ve=g.select(ne);function Oe(){return le.data()[0]}function Le(){var Te=Oe();ne.emit("plotly_sliderstart",{slider:Te});var De=le.select("."+C.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),De.call(y.fill,Te.activebgcolor);var Ve=xe(Te,g.mouse(Y)[0]);ie(ne,le,Te,Ve,!0),Te._dragging=!0;function _e(){var re=Oe(),be=xe(re,g.mouse(Y)[0]);ie(ne,le,re,be,!1)}ve.on("mousemove",_e),ve.on("touchmove",_e);function Ie(){var re=Oe();re._dragging=!1,De.call(y.fill,re.bgcolor),ve.on("mouseup",null),ve.on("mousemove",null),ve.on("touchend",null),ve.on("touchmove",null),ne.emit("plotly_sliderend",{slider:re,step:re.steps[re.active]})}ve.on("mouseup",Ie),ve.on("touchend",Ie)}pe.on("mousedown",Le),pe.on("touchstart",Le)}function ae(pe,ne){var le=pe.selectAll("rect."+C.tickRectClass).data(ne._visibleSteps),Y=ne._dims;le.enter().append("rect").classed(C.tickRectClass,!0),le.exit().remove(),le.attr({width:ne.tickwidth+"px","shape-rendering":"crispEdges"}),le.each(function(ve,Oe){var Le=Oe%Y.labelStride===0,Te=g.select(this);Te.attr({height:Le?ne.ticklen:ne.minorticklen}).call(y.fill,ne.tickcolor),b.setTranslate(Te,ee(ne,Oe/(ne._stepCount-1))-.5*ne.tickwidth,(Le?C.tickOffset:C.minorTickOffset)+Y.currentValueTotalHeight)})}function q(pe){var ne=pe._dims;ne.labelSteps=[];for(var le=pe._stepCount,Y=0;Y<le;Y+=ne.labelStride)ne.labelSteps.push({fraction:Y/(le-1),step:pe._visibleSteps[Y]})}function de(pe,ne,le){for(var Y=pe.select("rect."+C.gripRectClass),ve=0,Oe=0;Oe<ne._stepCount;Oe++)if(ne._visibleSteps[Oe]._index===ne.active){ve=Oe;break}var Le=ee(ne,ve/(ne._stepCount-1));if(!ne._invokingCommand){var Te=Y;le&&ne.transition.duration>0&&(Te=Te.transition().duration(ne.transition.duration).ease(ne.transition.easing)),Te.attr("transform",T(Le-C.gripWidth*.5,ne._dims.currentValueTotalHeight))}}function ee(pe,ne){var le=pe._dims;return le.inputAreaStart+C.stepInset+(le.inputAreaLength-2*C.stepInset)*Math.min(1,Math.max(0,ne))}function xe(pe,ne){var le=pe._dims;return Math.min(1,Math.max(0,(ne-C.stepInset-le.inputAreaStart)/(le.inputAreaLength-2*C.stepInset-2*le.inputAreaStart)))}function we(pe,ne,le){var Y=le._dims,ve=O.ensureSingle(pe,"rect",C.railTouchRectClass,function(Oe){Oe.call(me,ne,pe,le).style("pointer-events","all")});ve.attr({width:Y.inputAreaLength,height:Math.max(Y.inputAreaWidth,C.tickOffset+le.ticklen+Y.labelHeight)}).call(y.fill,le.bgcolor).attr("opacity",0),b.setTranslate(ve,0,Y.currentValueTotalHeight)}function Be(pe,ne){var le=ne._dims,Y=le.inputAreaLength-C.railInset*2,ve=O.ensureSingle(pe,"rect",C.railRectClass);ve.attr({width:Y,height:C.railWidth,rx:C.railRadius,ry:C.railRadius,"shape-rendering":"crispEdges"}).call(y.stroke,ne.bordercolor).call(y.fill,ne.bgcolor).style("stroke-width",ne.borderwidth+"px"),b.setTranslate(ve,C.railInset,(le.inputAreaWidth-C.railWidth)*.5+le.currentValueTotalHeight)}},3243:function(d,h,c){var g=c(8292);d.exports={moduleType:"component",name:g.name,layoutAttributes:c(5067),supplyLayoutDefaults:c(2343),draw:c(4504)}},2998:function(d,h,c){var g=c(9898),v=c(2770),y=c(4875),b=c(3972),O=c(1828),T=O.strTranslate,k=c(1424),w=c(7901),C=c(3893),_=c(7822),M=c(8783).OPPOSITE_SIDE,I=/ [XY][0-9]* /;function V(N,Q,z){var U=z.propContainer,F=z.propName,B=z.placeholder,E=z.traceIndex,W=z.avoid||{},X=z.attributes,ie=z.transform,L=z.containerGroup,me=N._fullLayout,ae=1,q=!1,de=U.title,ee=(de&&de.text?de.text:"").trim(),xe=de&&de.font?de.font:{},we=xe.family,Be=xe.size,pe=xe.color,ne;F==="title.text"?ne="titleText":F.indexOf("axis")!==-1?ne="axisTitleText":F.indexOf("colorbar"!==-1)&&(ne="colorbarTitleText");var le=N._context.edits[ne];ee===""?ae=0:ee.replace(I," % ")===B.replace(I," % ")&&(ae=.2,q=!0,le||(ee="")),z._meta?ee=O.templateString(ee,z._meta):me._meta&&(ee=O.templateString(ee,me._meta));var Y=ee||le,ve;L||(L=O.ensureSingle(me._infolayer,"g","g-"+Q),ve=me._hColorbarMoveTitle);var Oe=L.selectAll("text").data(Y?[0]:[]);if(Oe.enter().append("text"),Oe.text(ee).attr("class",Q),Oe.exit().remove(),!Y)return L;function Le(_e){O.syncOrAsync([Te,De],_e)}function Te(_e){var Ie;return!ie&&ve&&(ie={}),ie?(Ie="",ie.rotate&&(Ie+="rotate("+[ie.rotate,X.x,X.y]+")"),(ie.offset||ve)&&(Ie+=T(0,(ie.offset||0)-(ve||0)))):Ie=null,_e.attr("transform",Ie),_e.style({"font-family":we,"font-size":g.round(Be,2)+"px",fill:w.rgb(pe),opacity:ae*w.opacity(pe),"font-weight":y.fontWeight}).attr(X).call(C.convertToTspans,N),y.previousPromises(N)}function De(_e){var Ie=g.select(_e.node().parentNode);if(W&&W.selection&&W.side&&ee){Ie.attr("transform",null);var re=M[W.side],be=W.side==="left"||W.side==="top"?-1:1,te=v(W.pad)?W.pad:2,se=k.bBox(Ie.node()),fe={t:0,b:0,l:0,r:0},oe=N._fullLayout._reservedMargin;for(var Se in oe)for(var ce in oe[Se]){var ke=oe[Se][ce];fe[ce]=Math.max(fe[ce],ke)}var Qe={left:fe.l,top:fe.t,right:me.width-fe.r,bottom:me.height-fe.b},Ze=W.maxShift||be*(Qe[W.side]-se[W.side]),Xe=0;if(Ze<0)Xe=Ze;else{var ct=W.offsetLeft||0,pt=W.offsetTop||0;se.left-=ct,se.right-=ct,se.top-=pt,se.bottom-=pt,W.selection.each(function(){var je=k.bBox(this);O.bBoxIntersect(se,je,te)&&(Xe=Math.max(Xe,be*(je[W.side]-se[re])+te))}),Xe=Math.min(Ze,Xe),U._titleScoot=Math.abs(Xe)}if(Xe>0||Ze<0){var Ye={left:[-Xe,0],right:[Xe,0],top:[0,-Xe],bottom:[0,Xe]}[W.side];Ie.attr("transform",T(Ye[0],Ye[1]))}}}Oe.call(Le);function Ve(){ae=0,q=!0,Oe.text(B).on("mouseover.opacity",function(){g.select(this).transition().duration(_.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(_.HIDE_PLACEHOLDER).style("opacity",0)})}return le&&(ee?Oe.on(".opacity",null):Ve(),Oe.call(C.makeEditable,{gd:N}).on("edit",function(_e){E!==void 0?b.call("_guiRestyle",N,F,_e,E):b.call("_guiRelayout",N,F,_e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Le)}).on("input",function(_e){this.text(_e||" ").call(C.positionText,X.x,X.y)})),Oe.classed("js-placeholder",q),L}d.exports={draw:V}},7163:function(d,h,c){var g=c(1940),v=c(2399),y=c(1426).extendFlat,b=c(962).overrideAll,O=c(5025),T=c(4467).templatedArray,k=T("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});d.exports=b(T("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:k,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:y(O({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:v.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(d){d.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},4897:function(d,h,c){var g=c(1828),v=c(5501),y=c(7163),b=c(5909),O=b.name,T=y.buttons;d.exports=function(_,M){var I={name:O,handleItemDefaults:k};v(_,M,I)};function k(C,_,M){function I(Q,z){return g.coerce(C,_,y,Q,z)}var V=v(C,_,{name:"buttons",handleItemDefaults:w}),N=I("visible",V.length>0);N&&(I("active"),I("direction"),I("type"),I("showactive"),I("x"),I("y"),g.noneOrAll(C,_,["x","y"]),I("xanchor"),I("yanchor"),I("pad.t"),I("pad.r"),I("pad.b"),I("pad.l"),g.coerceFont(I,"font",M.font),I("bgcolor",M.paper_bgcolor),I("bordercolor"),I("borderwidth"))}function w(C,_){function M(V,N){return g.coerce(C,_,T,V,N)}var I=M("visible",C.method==="skip"||Array.isArray(C.args));I&&(M("method"),M("args"),M("args2"),M("label"),M("execute"))}},3689:function(d,h,c){var g=c(9898),v=c(4875),y=c(7901),b=c(1424),O=c(1828),T=c(3893),k=c(4467).arrayEditor,w=c(8783).LINE_SPACING,C=c(5909),_=c(5849);d.exports=function(xe){var we=xe._fullLayout,Be=O.filterVisible(we[C.name]);function pe(De){v.autoMargin(xe,ae(De))}var ne=we._menulayer.selectAll("g."+C.containerClassName).data(Be.length>0?[0]:[]);if(ne.enter().append("g").classed(C.containerClassName,!0).style("cursor","pointer"),ne.exit().each(function(){g.select(this).selectAll("g."+C.headerGroupClassName).each(pe)}).remove(),Be.length!==0){var le=ne.selectAll("g."+C.headerGroupClassName).data(Be,M);le.enter().append("g").classed(C.headerGroupClassName,!0);for(var Y=O.ensureSingle(ne,"g",C.dropdownButtonGroupClassName,function(De){De.style("pointer-events","all")}),ve=0;ve<Be.length;ve++){var Oe=Be[ve];me(xe,Oe)}var Le="updatemenus"+we._uid,Te=new _(xe,Y,Le);le.enter().size()&&(Y.node().parentNode.appendChild(Y.node()),Y.call(de)),le.exit().each(function(De){Y.call(de),pe(De)}).remove(),le.each(function(De){var Ve=g.select(this),_e=De.type==="dropdown"?Y:null;v.manageCommandObserver(xe,De,De.buttons,function(Ie){N(xe,De,De.buttons[Ie.index],Ve,_e,Te,Ie.index,!0)}),De.type==="dropdown"?(Q(xe,Ve,Y,Te,De),V(Y,De)&&z(xe,Ve,Y,Te,De)):z(xe,Ve,null,null,De)})}};function M(ee){return ee._index}function I(ee){return+ee.attr(C.menuIndexAttrName)==-1}function V(ee,xe){return+ee.attr(C.menuIndexAttrName)===xe._index}function N(ee,xe,we,Be,pe,ne,le,Y){xe.active=le,k(ee.layout,C.name,xe).applyUpdate("active",le),xe.type==="buttons"?z(ee,Be,null,null,xe):xe.type==="dropdown"&&(pe.attr(C.menuIndexAttrName,"-1"),Q(ee,Be,pe,ne,xe),Y||z(ee,Be,pe,ne,xe))}function Q(ee,xe,we,Be,pe){var ne=O.ensureSingle(xe,"g",C.headerClassName,function(De){De.style("pointer-events","all")}),le=pe._dims,Y=pe.active,ve=pe.buttons[Y]||C.blankHeaderOpts,Oe={y:pe.pad.t,yPad:0,x:pe.pad.l,xPad:0,index:0},Le={width:le.headerWidth,height:le.headerHeight};ne.call(B,pe,ve,ee).call(q,pe,Oe,Le);var Te=O.ensureSingle(xe,"text",C.headerArrowClassName,function(De){De.attr("text-anchor","end").call(b.font,pe.font).text(C.arrowSymbol[pe.direction])});Te.attr({x:le.headerWidth-C.arrowOffsetX+pe.pad.l,y:le.headerHeight/2+C.textOffsetY+pe.pad.t}),ne.on("click",function(){we.call(de,String(V(we,pe)?-1:pe._index)),z(ee,xe,we,Be,pe)}),ne.on("mouseover",function(){ne.call(ie)}),ne.on("mouseout",function(){ne.call(L,pe)}),b.setTranslate(xe,le.lx,le.ly)}function z(ee,xe,we,Be,pe){we||(we=xe,we.attr("pointer-events","all"));var ne=!I(we)||pe.type==="buttons"?pe.buttons:[],le=pe.type==="dropdown"?C.dropdownButtonClassName:C.buttonClassName,Y=we.selectAll("g."+le).data(O.filterVisible(ne)),ve=Y.enter().append("g").classed(le,!0),Oe=Y.exit();pe.type==="dropdown"?(ve.attr("opacity","0").transition().attr("opacity","1"),Oe.transition().attr("opacity","0").remove()):Oe.remove();var Le=0,Te=0,De=pe._dims,Ve=["up","down"].indexOf(pe.direction)!==-1;pe.type==="dropdown"&&(Ve?Te=De.headerHeight+C.gapButtonHeader:Le=De.headerWidth+C.gapButtonHeader),pe.type==="dropdown"&&pe.direction==="up"&&(Te=-C.gapButtonHeader+C.gapButton-De.openHeight),pe.type==="dropdown"&&pe.direction==="left"&&(Le=-C.gapButtonHeader+C.gapButton-De.openWidth);var _e={x:De.lx+Le+pe.pad.l,y:De.ly+Te+pe.pad.t,yPad:C.gapButton,xPad:C.gapButton,index:0},Ie={l:_e.x+pe.borderwidth,t:_e.y+pe.borderwidth};Y.each(function(re,be){var te=g.select(this);te.call(B,pe,re,ee).call(q,pe,_e),te.on("click",function(){g.event.defaultPrevented||(re.execute&&(re.args2&&pe.active===be?(N(ee,pe,re,xe,we,Be,-1),v.executeAPICommand(ee,re.method,re.args2)):(N(ee,pe,re,xe,we,Be,be),v.executeAPICommand(ee,re.method,re.args))),ee.emit("plotly_buttonclicked",{menu:pe,button:re,active:pe.active}))}),te.on("mouseover",function(){te.call(ie)}),te.on("mouseout",function(){te.call(L,pe),Y.call(X,pe)})}),Y.call(X,pe),Ve?(Ie.w=Math.max(De.openWidth,De.headerWidth),Ie.h=_e.y-Ie.t):(Ie.w=_e.x-Ie.l,Ie.h=Math.max(De.openHeight,De.headerHeight)),Ie.direction=pe.direction,Be&&(Y.size()?U(ee,xe,we,Be,pe,Ie):F(Be))}function U(ee,xe,we,Be,pe,ne){var le=pe.direction,Y=le==="up"||le==="down",ve=pe._dims,Oe=pe.active,Le,Te,De;if(Y)for(Te=0,De=0;De<Oe;De++)Te+=ve.heights[De]+C.gapButton;else for(Le=0,De=0;De<Oe;De++)Le+=ve.widths[De]+C.gapButton;Be.enable(ne,Le,Te),Be.hbar&&Be.hbar.attr("opacity","0").transition().attr("opacity","1"),Be.vbar&&Be.vbar.attr("opacity","0").transition().attr("opacity","1")}function F(ee){var xe=!!ee.hbar,we=!!ee.vbar;xe&&ee.hbar.transition().attr("opacity","0").each("end",function(){xe=!1,we||ee.disable()}),we&&ee.vbar.transition().attr("opacity","0").each("end",function(){we=!1,xe||ee.disable()})}function B(ee,xe,we,Be){ee.call(E,xe).call(W,xe,we,Be)}function E(ee,xe){var we=O.ensureSingle(ee,"rect",C.itemRectClassName,function(Be){Be.attr({rx:C.rx,ry:C.ry,"shape-rendering":"crispEdges"})});we.call(y.stroke,xe.bordercolor).call(y.fill,xe.bgcolor).style("stroke-width",xe.borderwidth+"px")}function W(ee,xe,we,Be){var pe=O.ensureSingle(ee,"text",C.itemTextClassName,function(Y){Y.attr({"text-anchor":"start","data-notex":1})}),ne=we.label,le=Be._fullLayout._meta;le&&(ne=O.templateString(ne,le)),pe.call(b.font,xe.font).text(ne).call(T.convertToTspans,Be)}function X(ee,xe){var we=xe.active;ee.each(function(Be,pe){var ne=g.select(this);pe===we&&xe.showactive&&ne.select("rect."+C.itemRectClassName).call(y.fill,C.activeColor)})}function ie(ee){ee.select("rect."+C.itemRectClassName).call(y.fill,C.hoverColor)}function L(ee,xe){ee.select("rect."+C.itemRectClassName).call(y.fill,xe.bgcolor)}function me(ee,xe){var we=xe._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Be=b.tester.selectAll("g."+C.dropdownButtonClassName).data(O.filterVisible(xe.buttons));Be.enter().append("g").classed(C.dropdownButtonClassName,!0);var pe=["up","down"].indexOf(xe.direction)!==-1;Be.each(function(Le,Te){var De=g.select(this);De.call(B,xe,Le,ee);var Ve=De.select("."+C.itemTextClassName),_e=Ve.node()&&b.bBox(Ve.node()).width,Ie=Math.max(_e+C.textPadX,C.minWidth),re=xe.font.size*w,be=T.lineCount(Ve),te=Math.max(re*be,C.minHeight)+C.textOffsetY;te=Math.ceil(te),Ie=Math.ceil(Ie),we.widths[Te]=Ie,we.heights[Te]=te,we.height1=Math.max(we.height1,te),we.width1=Math.max(we.width1,Ie),pe?(we.totalWidth=Math.max(we.totalWidth,Ie),we.openWidth=we.totalWidth,we.totalHeight+=te+C.gapButton,we.openHeight+=te+C.gapButton):(we.totalWidth+=Ie+C.gapButton,we.openWidth+=Ie+C.gapButton,we.totalHeight=Math.max(we.totalHeight,te),we.openHeight=we.totalHeight)}),pe?we.totalHeight-=C.gapButton:we.totalWidth-=C.gapButton,we.headerWidth=we.width1+C.arrowPadX,we.headerHeight=we.height1,xe.type==="dropdown"&&(pe?(we.width1+=C.arrowPadX,we.totalHeight=we.height1):we.totalWidth=we.width1,we.totalWidth+=C.arrowPadX),Be.remove();var ne=we.totalWidth+xe.pad.l+xe.pad.r,le=we.totalHeight+xe.pad.t+xe.pad.b,Y=ee._fullLayout._size;we.lx=Y.l+Y.w*xe.x,we.ly=Y.t+Y.h*(1-xe.y);var ve="left";O.isRightAnchor(xe)&&(we.lx-=ne,ve="right"),O.isCenterAnchor(xe)&&(we.lx-=ne/2,ve="center");var Oe="top";O.isBottomAnchor(xe)&&(we.ly-=le,Oe="bottom"),O.isMiddleAnchor(xe)&&(we.ly-=le/2,Oe="middle"),we.totalWidth=Math.ceil(we.totalWidth),we.totalHeight=Math.ceil(we.totalHeight),we.lx=Math.round(we.lx),we.ly=Math.round(we.ly),v.autoMargin(ee,ae(xe),{x:xe.x,y:xe.y,l:ne*({right:1,center:.5}[ve]||0),r:ne*({left:1,center:.5}[ve]||0),b:le*({top:1,middle:.5}[Oe]||0),t:le*({bottom:1,middle:.5}[Oe]||0)})}function ae(ee){return C.autoMarginIdRoot+ee._index}function q(ee,xe,we,Be){Be=Be||{};var pe=ee.select("."+C.itemRectClassName),ne=ee.select("."+C.itemTextClassName),le=xe.borderwidth,Y=we.index,ve=xe._dims;b.setTranslate(ee,le+we.x,le+we.y);var Oe=["up","down"].indexOf(xe.direction)!==-1,Le=Be.height||(Oe?ve.heights[Y]:ve.height1);pe.attr({x:0,y:0,width:Be.width||(Oe?ve.width1:ve.widths[Y]),height:Le});var Te=xe.font.size*w,De=T.lineCount(ne),Ve=(De-1)*Te/2;T.positionText(ne,C.textOffsetX,Le/2-Ve+C.textOffsetY),Oe?we.y+=ve.heights[Y]+we.yPad:we.x+=ve.widths[Y]+we.xPad,we.index++}function de(ee,xe){ee.attr(C.menuIndexAttrName,xe||"-1").selectAll("g."+C.dropdownButtonClassName).remove()}},763:function(d,h,c){var g=c(5909);d.exports={moduleType:"component",name:g.name,layoutAttributes:c(7163),supplyLayoutDefaults:c(4897),draw:c(3689)}},5849:function(d,h,c){d.exports=O;var g=c(9898),v=c(7901),y=c(1424),b=c(1828);function O(T,k,w){this.gd=T,this.container=k,this.id=w,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}O.barWidth=2,O.barLength=20,O.barRadius=2,O.barPad=1,O.barColor="#808BA4",O.prototype.enable=function(k,w,C){var _=this.gd._fullLayout,M=_.width,I=_.height;this.position=k;var V=this.position.l,N=this.position.w,Q=this.position.t,z=this.position.h,U=this.position.direction,F=U==="down",B=U==="left",E=U==="right",W=U==="up",X=N,ie=z,L,me,ae,q;!F&&!B&&!E&&!W&&(this.position.direction="down",F=!0);var de=F||W;de?(L=V,me=L+X,F?(ae=Q,q=Math.min(ae+ie,I),ie=q-ae):(q=Q+ie,ae=Math.max(q-ie,0),ie=q-ae)):(ae=Q,q=ae+ie,B?(me=V+X,L=Math.max(me-X,0),X=me-L):(L=V,me=Math.min(L+X,M),X=me-L)),this._box={l:L,t:ae,w:X,h:ie};var ee=N>X,xe=O.barLength+2*O.barPad,we=O.barWidth+2*O.barPad,Be=V,pe=Q+z;pe+we>I&&(pe=I-we);var ne=this.container.selectAll("rect.scrollbar-horizontal").data(ee?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-horizontal",!0).call(v.fill,O.barColor),ee?(this.hbar=ne.attr({rx:O.barRadius,ry:O.barRadius,x:Be,y:pe,width:xe,height:we}),this._hbarXMin=Be+xe/2,this._hbarTranslateMax=X-xe):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var le=z>ie,Y=O.barWidth+2*O.barPad,ve=O.barLength+2*O.barPad,Oe=V+N,Le=Q;Oe+Y>M&&(Oe=M-Y);var Te=this.container.selectAll("rect.scrollbar-vertical").data(le?[0]:[]);Te.exit().on(".drag",null).remove(),Te.enter().append("rect").classed("scrollbar-vertical",!0).call(v.fill,O.barColor),le?(this.vbar=Te.attr({rx:O.barRadius,ry:O.barRadius,x:Oe,y:Le,width:Y,height:ve}),this._vbarYMin=Le+ve/2,this._vbarTranslateMax=ie-ve):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var De=this.id,Ve=L-.5,_e=le?me+Y+.5:me+.5,Ie=ae-.5,re=ee?q+we+.5:q+.5,be=_._topdefs.selectAll("#"+De).data(ee||le?[0]:[]);if(be.exit().remove(),be.enter().append("clipPath").attr("id",De).append("rect"),ee||le?(this._clipRect=be.select("rect").attr({x:Math.floor(Ve),y:Math.floor(Ie),width:Math.ceil(_e)-Math.floor(Ve),height:Math.ceil(re)-Math.floor(Ie)}),this.container.call(y.setClipUrl,De,this.gd),this.bg.attr({x:V,y:Q,width:N,height:z})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(y.setClipUrl,null),delete this._clipRect),ee||le){var te=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(te);var se=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));ee&&this.hbar.on(".drag",null).call(se),le&&this.vbar.on(".drag",null).call(se)}this.setTranslate(w,C)},O.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(y.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},O.prototype._onBoxDrag=function(){var k=this.translateX,w=this.translateY;this.hbar&&(k-=g.event.dx),this.vbar&&(w-=g.event.dy),this.setTranslate(k,w)},O.prototype._onBoxWheel=function(){var k=this.translateX,w=this.translateY;this.hbar&&(k+=g.event.deltaY),this.vbar&&(w+=g.event.deltaY),this.setTranslate(k,w)},O.prototype._onBarDrag=function(){var k=this.translateX,w=this.translateY;if(this.hbar){var C=k+this._hbarXMin,_=C+this._hbarTranslateMax,M=b.constrain(g.event.x,C,_),I=(M-C)/(_-C),V=this.position.w-this._box.w;k=I*V}if(this.vbar){var N=w+this._vbarYMin,Q=N+this._vbarTranslateMax,z=b.constrain(g.event.y,N,Q),U=(z-N)/(Q-N),F=this.position.h-this._box.h;w=U*F}this.setTranslate(k,w)},O.prototype.setTranslate=function(k,w){var C=this.position.w-this._box.w,_=this.position.h-this._box.h;if(k=b.constrain(k||0,0,C),w=b.constrain(w||0,0,_),this.translateX=k,this.translateY=w,this.container.call(y.setTranslate,this._box.l-this.position.l-k,this._box.t-this.position.t-w),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+k-.5),y:Math.floor(this.position.t+w-.5)}),this.hbar){var M=k/C;this.hbar.call(y.setTranslate,k+M*this._hbarTranslateMax,w)}if(this.vbar){var I=w/_;this.vbar.call(y.setTranslate,k,w+I*this._vbarTranslateMax)}}},8783:function(d){d.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(d){d.exports={axisRefDescription:function(h,c,g){return["If set to a",h,"axis id (e.g. *"+h+"* or","*"+h+"2*), the `"+h+"` position refers to a",h,"coordinate. If set to *paper*, the `"+h+"`","position refers to the distance from the",c,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",c,"("+g+"). If set to a",h,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",c,"of the domain of that axis: e.g.,","*"+h+"2 domain* refers to the domain of the second",h," axis and a",h,"position of 0.5 refers to the","point between the",c,"and the",g,"of the domain of the","second",h,"axis."].join(" ")}}},1562:function(d){d.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(d){d.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(d){d.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(d){d.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},7922:function(d,h){h.xmlns="http://www.w3.org/2000/xmlns/",h.svg="http://www.w3.org/2000/svg",h.xlink="http://www.w3.org/1999/xlink",h.svgAttrs={xmlns:h.svg,"xmlns:xlink":h.xlink}},8729:function(d,h,c){h.version=c(1506).version,c(7417),c(8847);for(var g=c(3972),v=h.register=g.register,y=c(641),b=Object.keys(y),O=0;O<b.length;O++){var T=b[O];T.charAt(0)!=="_"&&(h[T]=y[T]),v({moduleType:"apiMethod",name:T,fn:y[T]})}v(c(7368)),v([c(2745),c(2468),c(7322),c(9853),c(8804),c(763),c(3243),c(3137),c(7218),c(3312),c(7369),c(1081),c(2311),c(2199),c(211),c(4168)]),v([c(2177),c(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(v(window.PlotlyLocales),delete window.PlotlyLocales),h.Icons=c(4255);var k=c(211),w=c(4875);h.Plots={resize:w.resize,graphJson:w.graphJson,sendDataToCloud:w.sendDataToCloud},h.Fx={hover:k.hover,unhover:k.unhover,loneHover:k.loneHover,loneUnhover:k.loneUnhover},h.Snapshot=c(4511),h.PlotSchema=c(6281)},4255:function(d){d.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(d,h){h.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},h.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},h.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},h.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},h.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},h.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},6348:function(d,h,c){var g=c(4872),v=g.mod,y=g.modHalf,b=Math.PI,O=2*b;function T(U){return U/180*b}function k(U){return U/b*180}function w(U){return Math.abs(U[1]-U[0])>O-1e-14}function C(U,F){return y(F-U,O)}function _(U,F){return Math.abs(C(U,F))}function M(U,F){if(w(F))return!0;var B,E;F[0]<F[1]?(B=F[0],E=F[1]):(B=F[1],E=F[0]),B=v(B,O),E=v(E,O),B>E&&(E+=O);var W=v(U,O),X=W+O;return W>=B&&W<=E||X>=B&&X<=E}function I(U,F,B,E){if(!M(F,E))return!1;var W,X;return B[0]<B[1]?(W=B[0],X=B[1]):(W=B[1],X=B[0]),U>=W&&U<=X}function V(U,F,B,E,W,X,ie){W=W||0,X=X||0;var L=w([B,E]),me,ae,q,de,ee;L?(me=0,ae=b,q=O):B<E?(me=B,q=E):(me=E,q=B),U<F?(de=U,ee=F):(de=F,ee=U);function xe(ne,le){return[ne*Math.cos(le)+W,X-ne*Math.sin(le)]}var we=Math.abs(q-me)<=b?0:1;function Be(ne,le,Y){return"A"+[ne,ne]+" "+[0,we,Y]+" "+xe(ne,le)}var pe;return L?de===null?pe="M"+xe(ee,me)+Be(ee,ae,0)+Be(ee,q,0)+"Z":pe="M"+xe(de,me)+Be(de,ae,0)+Be(de,q,0)+"ZM"+xe(ee,me)+Be(ee,ae,1)+Be(ee,q,1)+"Z":de===null?(pe="M"+xe(ee,me)+Be(ee,q,0),ie&&(pe+="L0,0Z")):pe="M"+xe(de,me)+"L"+xe(ee,me)+Be(ee,q,0)+"L"+xe(de,q)+Be(de,me,1)+"Z",pe}function N(U,F,B,E,W){return V(null,U,F,B,E,W,0)}function Q(U,F,B,E,W){return V(null,U,F,B,E,W,1)}function z(U,F,B,E,W,X){return V(U,F,B,E,W,X,1)}d.exports={deg2rad:T,rad2deg:k,angleDelta:C,angleDist:_,isFullCircle:w,isAngleInsideSector:M,isPtInsideSector:I,pathArc:N,pathSector:Q,pathAnnulus:z}},3627:function(d,h){var c=Array.isArray,g=ArrayBuffer,v=DataView;function y(k){return g.isView(k)&&!(k instanceof v)}h.isTypedArray=y;function b(k){return c(k)||y(k)}h.isArrayOrTypedArray=b;function O(k){return!b(k[0])}h.isArray1D=O,h.ensureArray=function(k,w){return c(k)||(k=[]),k.length=w,k},h.concat=function(){var k=[],w=!0,C=0,_,M,I,V,N,Q,z,U;for(I=0;I<arguments.length;I++)V=arguments[I],Q=V.length,Q&&(M?k.push(V):(M=V,N=Q),c(V)?_=!1:(w=!1,C?_!==V.constructor&&(_=!1):_=V.constructor),C+=Q);if(!C)return[];if(!k.length)return M;if(w)return M.concat.apply(M,k);if(_){for(z=new _(C),z.set(M),I=0;I<k.length;I++)V=k[I],z.set(V,N),N+=V.length;return z}for(z=new Array(C),U=0;U<M.length;U++)z[U]=M[U];for(I=0;I<k.length;I++){for(V=k[I],U=0;U<V.length;U++)z[N+U]=V[U];N+=U}return z},h.maxRowLength=function(k){return T(k,Math.max,0)},h.minRowLength=function(k){return T(k,Math.min,1/0)};function T(k,w,C){if(b(k))if(b(k[0])){for(var _=C,M=0;M<k.length;M++)_=w(_,k[M].length);return _}else return k.length;return 0}},5218:function(d,h,c){var g=c(2770),v=c(606).BADNUM,y=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;d.exports=function(O){return typeof O=="string"&&(O=O.replace(y,"")),g(O)?Number(O):v}},3306:function(d){d.exports=function(c){var g=c._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(v){v.regl&&v.regl.clear({color:!0,depth:!0})})}},6367:function(d){d.exports=function(c){c._responsiveChartHandler&&(window.removeEventListener("resize",c._responsiveChartHandler),delete c._responsiveChartHandler)}},6554:function(d,h,c){var g=c(2770),v=c(4267),y=c(9012),b=c(3282),O=c(7901),T=c(7822).DESELECTDIM,k=c(5487),w=c(587).counter,C=c(4872).modHalf,_=c(3627).isArrayOrTypedArray;h.valObjectMeta={data_array:{coerceFunction:function(I,V,N){_(I)?V.set(I):N!==void 0&&V.set(N)}},enumerated:{coerceFunction:function(I,V,N,Q){Q.coerceNumber&&(I=+I),Q.values.indexOf(I)===-1?V.set(N):V.set(I)},validateFunction:function(I,V){V.coerceNumber&&(I=+I);for(var N=V.values,Q=0;Q<N.length;Q++){var z=String(N[Q]);if(z.charAt(0)==="/"&&z.charAt(z.length-1)==="/"){var U=new RegExp(z.substr(1,z.length-2));if(U.test(I))return!0}else if(I===N[Q])return!0}return!1}},boolean:{coerceFunction:function(I,V,N){I===!0||I===!1?V.set(I):V.set(N)}},number:{coerceFunction:function(I,V,N,Q){!g(I)||Q.min!==void 0&&I<Q.min||Q.max!==void 0&&I>Q.max?V.set(N):V.set(+I)}},integer:{coerceFunction:function(I,V,N,Q){I%1||!g(I)||Q.min!==void 0&&I<Q.min||Q.max!==void 0&&I>Q.max?V.set(N):V.set(+I)}},string:{coerceFunction:function(I,V,N,Q){if(typeof I!="string"){var z=typeof I=="number";Q.strict===!0||!z?V.set(N):V.set(String(I))}else Q.noBlank&&!I?V.set(N):V.set(I)}},color:{coerceFunction:function(I,V,N){v(I).isValid()?V.set(I):V.set(N)}},colorlist:{coerceFunction:function(I,V,N){function Q(z){return v(z).isValid()}!Array.isArray(I)||!I.length?V.set(N):I.every(Q)?V.set(I):V.set(N)}},colorscale:{coerceFunction:function(I,V,N){V.set(b.get(I,N))}},angle:{coerceFunction:function(I,V,N){I==="auto"?V.set("auto"):g(I)?V.set(C(+I,360)):V.set(N)}},subplotid:{coerceFunction:function(I,V,N,Q){var z=Q.regex||w(N);if(typeof I=="string"&&z.test(I)){V.set(I);return}V.set(N)},validateFunction:function(I,V){var N=V.dflt;return I===N?!0:typeof I!="string"?!1:!!w(N).test(I)}},flaglist:{coerceFunction:function(I,V,N,Q){if((Q.extras||[]).indexOf(I)!==-1){V.set(I);return}if(typeof I!="string"){V.set(N);return}for(var z=I.split("+"),U=0;U<z.length;){var F=z[U];Q.flags.indexOf(F)===-1||z.indexOf(F)<U?z.splice(U,1):U++}z.length?V.set(z.join("+")):V.set(N)}},any:{coerceFunction:function(I,V,N){I===void 0?V.set(N):V.set(I)}},info_array:{coerceFunction:function(I,V,N,Q){function z(xe,we,Be){var pe,ne={set:function(le){pe=le}};return Be===void 0&&(Be=we.dflt),h.valObjectMeta[we.valType].coerceFunction(xe,ne,Be,we),pe}var U=Q.dimensions===2||Q.dimensions==="1-2"&&Array.isArray(I)&&Array.isArray(I[0]);if(!Array.isArray(I)){V.set(N);return}var F=Q.items,B=[],E=Array.isArray(F),W=E&&U&&Array.isArray(F[0]),X=U&&E&&!W,ie=E&&!X?F.length:I.length,L,me,ae,q,de,ee;if(N=Array.isArray(N)?N:[],U)for(L=0;L<ie;L++)for(B[L]=[],ae=Array.isArray(I[L])?I[L]:[],X?de=F.length:E?de=F[L].length:de=ae.length,me=0;me<de;me++)X?q=F[me]:E?q=F[L][me]:q=F,ee=z(ae[me],q,(N[L]||[])[me]),ee!==void 0&&(B[L][me]=ee);else for(L=0;L<ie;L++)ee=z(I[L],E?F[L]:F,N[L]),ee!==void 0&&(B[L]=ee);V.set(B)},validateFunction:function(I,V){if(!Array.isArray(I))return!1;var N=V.items,Q=Array.isArray(N),z=V.dimensions===2;if(!V.freeLength&&I.length!==N.length)return!1;for(var U=0;U<I.length;U++)if(z){if(!Array.isArray(I[U])||!V.freeLength&&I[U].length!==N[U].length)return!1;for(var F=0;F<I[U].length;F++)if(!M(I[U][F],Q?N[U][F]:N))return!1}else if(!M(I[U],Q?N[U]:N))return!1;return!0}}},h.coerce=function(I,V,N,Q,z){var U=k(N,Q).get(),F=k(I,Q),B=k(V,Q),E=F.get(),W=V._template;if(E===void 0&&W&&(E=k(W,Q).get(),W=0),z===void 0&&(z=U.dflt),U.arrayOk&&_(E))return B.set(E),E;var X=h.valObjectMeta[U.valType].coerceFunction;X(E,B,z,U);var ie=B.get();return W&&ie===z&&!M(E,U)&&(E=k(W,Q).get(),X(E,B,z,U),ie=B.get()),ie},h.coerce2=function(I,V,N,Q,z){var U=k(I,Q),F=h.coerce(I,V,N,Q,z),B=U.get();return B!=null?F:!1},h.coerceFont=function(I,V,N){var Q={};return N=N||{},Q.family=I(V+".family",N.family),Q.size=I(V+".size",N.size),Q.color=I(V+".color",N.color),Q},h.coercePattern=function(I,V,N,Q){var z=I(V+".shape");if(z){I(V+".solidity"),I(V+".size");var U=I(V+".fillmode"),F=U==="overlay";if(!Q){var B=I(V+".bgcolor",F?N:void 0);I(V+".fgcolor",F?O.contrast(B):N)}I(V+".fgopacity",F?.5:1)}},h.coerceHoverinfo=function(I,V,N){var Q=V._module.attributes,z=Q.hoverinfo?Q:y,U=z.hoverinfo,F;if(N._dataLength===1){var B=U.dflt==="all"?U.flags.slice():U.dflt.split("+");B.splice(B.indexOf("name"),1),F=B.join("+")}return h.coerce(I,V,z,"hoverinfo",F)},h.coerceSelectionMarkerOpacity=function(I,V){if(I.marker){var N=I.marker.opacity;if(N!==void 0){var Q,z;!_(N)&&!I.selected&&!I.unselected&&(Q=N,z=T*N),V("selected.marker.opacity",Q),V("unselected.marker.opacity",z)}}};function M(I,V){var N=h.valObjectMeta[V.valType];if(V.arrayOk&&_(I))return!0;if(N.validateFunction)return N.validateFunction(I,V);var Q={},z=Q,U={set:function(F){z=F}};return N.coerceFunction(I,U,Q,V),z!==Q}h.validate=M},1631:function(d,h,c){var g=c(4096).i$,v=c(2770),y=c(7769),b=c(4872).mod,O=c(606),T=O.BADNUM,k=O.ONEDAY,w=O.ONEHOUR,C=O.ONEMIN,_=O.ONESEC,M=O.EPOCHJD,I=c(3972),V=c(4096).g0,N=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Q=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,z=new Date().getFullYear()-70;function U(pe){return pe&&I.componentsRegistry.calendars&&typeof pe=="string"&&pe!=="gregorian"}h.dateTick0=function(pe,ne){var le=F(pe,!!ne);if(ne<2)return le;var Y=h.dateTime2ms(le,pe);return Y+=k*(ne-1),h.ms2DateTime(Y,0,pe)};function F(pe,ne){return U(pe)?ne?I.getComponentMethod("calendars","CANONICAL_SUNDAY")[pe]:I.getComponentMethod("calendars","CANONICAL_TICK")[pe]:ne?"2000-01-02":"2000-01-01"}h.dfltRange=function(pe){return U(pe)?I.getComponentMethod("calendars","DFLTRANGE")[pe]:["2000-01-01","2001-01-01"]},h.isJSDate=function(pe){return typeof pe=="object"&&pe!==null&&typeof pe.getTime=="function"};var B,E;h.dateTime2ms=function(pe,ne){if(h.isJSDate(pe)){var le=pe.getTimezoneOffset()*C,Y=(pe.getUTCMinutes()-pe.getMinutes())*C+(pe.getUTCSeconds()-pe.getSeconds())*_+(pe.getUTCMilliseconds()-pe.getMilliseconds());if(Y){var ve=3*C;le=le-ve/2+b(Y-le+ve/2,ve)}return pe=Number(pe)-le,pe>=B&&pe<=E?pe:T}if(typeof pe!="string"&&typeof pe!="number")return T;pe=String(pe);var Oe=U(ne),Le=pe.charAt(0);Oe&&(Le==="G"||Le==="g")&&(pe=pe.substr(1),ne="");var Te=Oe&&ne.substr(0,7)==="chinese",De=pe.match(Te?Q:N);if(!De)return T;var Ve=De[1],_e=De[3]||"1",Ie=Number(De[5]||1),re=Number(De[7]||0),be=Number(De[9]||0),te=Number(De[11]||0);if(Oe){if(Ve.length===2)return T;Ve=Number(Ve);var se;try{var fe=I.getComponentMethod("calendars","getCal")(ne);if(Te){var oe=_e.charAt(_e.length-1)==="i";_e=parseInt(_e,10),se=fe.newDate(Ve,fe.toMonthIndex(Ve,_e,oe),Ie)}else se=fe.newDate(Ve,Number(_e),Ie)}catch{return T}return se?(se.toJD()-M)*k+re*w+be*C+te*_:T}Ve.length===2?Ve=(Number(Ve)+2e3-z)%100+z:Ve=Number(Ve),_e-=1;var Se=new Date(Date.UTC(2e3,_e,Ie,re,be));return Se.setUTCFullYear(Ve),Se.getUTCMonth()!==_e||Se.getUTCDate()!==Ie?T:Se.getTime()+te*_},B=h.MIN_MS=h.dateTime2ms("-9999"),E=h.MAX_MS=h.dateTime2ms("9999-12-31 23:59:59.9999"),h.isDateTime=function(pe,ne){return h.dateTime2ms(pe,ne)!==T};function W(pe,ne){return String(pe+Math.pow(10,ne)).substr(1)}var X=90*k,ie=3*w,L=5*C;h.ms2DateTime=function(pe,ne,le){if(typeof pe!="number"||!(pe>=B&&pe<=E))return T;ne||(ne=0);var Y=Math.floor(b(pe+.05,1)*10),ve=Math.round(pe-Y/10),Oe,Le,Te,De,Ve,_e;if(U(le)){var Ie=Math.floor(ve/k)+M,re=Math.floor(b(pe,k));try{Oe=I.getComponentMethod("calendars","getCal")(le).fromJD(Ie).formatDate("yyyy-mm-dd")}catch{Oe=V("G%Y-%m-%d")(new Date(ve))}if(Oe.charAt(0)==="-")for(;Oe.length<11;)Oe="-0"+Oe.substr(1);else for(;Oe.length<10;)Oe="0"+Oe;Le=ne<X?Math.floor(re/w):0,Te=ne<X?Math.floor(re%w/C):0,De=ne<ie?Math.floor(re%C/_):0,Ve=ne<L?re%_*10+Y:0}else _e=new Date(ve),Oe=V("%Y-%m-%d")(_e),Le=ne<X?_e.getUTCHours():0,Te=ne<X?_e.getUTCMinutes():0,De=ne<ie?_e.getUTCSeconds():0,Ve=ne<L?_e.getUTCMilliseconds()*10+Y:0;return me(Oe,Le,Te,De,Ve)},h.ms2DateTimeLocal=function(pe){if(!(pe>=B+k&&pe<=E-k))return T;var ne=Math.floor(b(pe+.05,1)*10),le=new Date(Math.round(pe-ne/10)),Y=g("%Y-%m-%d")(le),ve=le.getHours(),Oe=le.getMinutes(),Le=le.getSeconds(),Te=le.getUTCMilliseconds()*10+ne;return me(Y,ve,Oe,Le,Te)};function me(pe,ne,le,Y,ve){if((ne||le||Y||ve)&&(pe+=" "+W(ne,2)+":"+W(le,2),(Y||ve)&&(pe+=":"+W(Y,2),ve))){for(var Oe=4;ve%10===0;)Oe-=1,ve/=10;pe+="."+W(ve,Oe)}return pe}h.cleanDate=function(pe,ne,le){if(pe===T)return ne;if(h.isJSDate(pe)||typeof pe=="number"&&isFinite(pe)){if(U(le))return y.error("JS Dates and milliseconds are incompatible with world calendars",pe),ne;if(pe=h.ms2DateTimeLocal(+pe),!pe&&ne!==void 0)return ne}else if(!h.isDateTime(pe,le))return y.error("unrecognized date",pe),ne;return pe};var ae=/%\d?f/g,q=/%h/g,de={1:"1",2:"1",3:"2",4:"2"};function ee(pe,ne,le,Y){pe=pe.replace(ae,function(Oe){var Le=Math.min(+Oe.charAt(1)||6,6),Te=(ne/1e3%1+2).toFixed(Le).substr(2).replace(/0+$/,"")||"0";return Te});var ve=new Date(Math.floor(ne+.05));if(pe=pe.replace(q,function(){return de[le("%q")(ve)]}),U(Y))try{pe=I.getComponentMethod("calendars","worldCalFmt")(pe,ne,Y)}catch{return"Invalid"}return le(pe)(ve)}var xe=[59,59.9,59.99,59.999,59.9999];function we(pe,ne){var le=b(pe+.05,k),Y=W(Math.floor(le/w),2)+":"+W(b(Math.floor(le/C),60),2);if(ne!=="M"){v(ne)||(ne=0);var ve=Math.min(b(pe/_,60),xe[ne]),Oe=(100+ve).toFixed(ne).substr(1);ne>0&&(Oe=Oe.replace(/0+$/,"").replace(/[\.]$/,"")),Y+=":"+Oe}return Y}h.formatDate=function(pe,ne,le,Y,ve,Oe){if(ve=U(ve)&&ve,!ne)if(le==="y")ne=Oe.year;else if(le==="m")ne=Oe.month;else if(le==="d")ne=Oe.dayMonth+`
`+Oe.year;else return we(pe,le)+`
`+ee(Oe.dayMonthYear,pe,Y,ve);return ee(ne,pe,Y,ve)};var Be=3*k;h.incrementMonth=function(pe,ne,le){le=U(le)&&le;var Y=b(pe,k);if(pe=Math.round(pe-Y),le)try{var ve=Math.round(pe/k)+M,Oe=I.getComponentMethod("calendars","getCal")(le),Le=Oe.fromJD(ve);return ne%12?Oe.add(Le,ne,"m"):Oe.add(Le,ne/12,"y"),(Le.toJD()-M)*k+Y}catch{y.error("invalid ms "+pe+" in calendar "+le)}var Te=new Date(pe+Be);return Te.setUTCMonth(Te.getUTCMonth()+ne)+Y-Be},h.findExactDates=function(pe,ne){for(var le=0,Y=0,ve=0,Oe=0,Le,Te,De=U(ne)&&I.getComponentMethod("calendars","getCal")(ne),Ve=0;Ve<pe.length;Ve++){if(Te=pe[Ve],!v(Te)){Oe++;continue}if(!(Te%k))if(De)try{Le=De.fromJD(Te/k+M),Le.day()===1?Le.month()===1?le++:Y++:ve++}catch{}else Le=new Date(Te),Le.getUTCDate()===1?Le.getUTCMonth()===0?le++:Y++:ve++}Y+=le,ve+=Y;var _e=pe.length-Oe;return{exactYears:le/_e,exactMonths:Y/_e,exactDays:ve/_e}}},4401:function(d,h,c){var g=c(9898),v=c(7769),y=c(5657),b=c(9576);function O(z){var U;if(typeof z=="string"){if(U=document.getElementById(z),U===null)throw new Error("No DOM element with id '"+z+"' exists on the page.");return U}else if(z==null)throw new Error("DOM element provided is null or undefined");return z}function T(z){var U=g.select(z);return U.node()instanceof HTMLElement&&U.size()&&U.classed("js-plotly-plot")}function k(z){var U=z&&z.parentNode;U&&U.removeChild(z)}function w(z,U){C("global",z,U)}function C(z,U,F){var B="plotly.js-style-"+z,E=document.getElementById(B);E||(E=document.createElement("style"),E.setAttribute("id",B),E.appendChild(document.createTextNode("")),document.head.appendChild(E));var W=E.sheet;W.insertRule?W.insertRule(U+"{"+F+"}",0):W.addRule?W.addRule(U,F,0):v.warn("addStyleRule failed")}function _(z){var U="plotly.js-style-"+z,F=document.getElementById(U);F&&k(F)}function M(z){var U=V(z),F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return U.forEach(function(B){var E=I(B);if(E){var W=y.convertCssMatrix(E);F=b.multiply(F,F,W)}}),F}function I(z){var U=window.getComputedStyle(z,null),F=U.getPropertyValue("-webkit-transform")||U.getPropertyValue("-moz-transform")||U.getPropertyValue("-ms-transform")||U.getPropertyValue("-o-transform")||U.getPropertyValue("transform");return F==="none"?null:F.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(B){return+B})}function V(z){for(var U=[];N(z);)U.push(z),z=z.parentNode;return U}function N(z){return z&&(z instanceof Element||z instanceof HTMLElement)}function Q(z,U){return z&&U&&z.top===U.top&&z.left===U.left&&z.right===U.right&&z.bottom===U.bottom}d.exports={getGraphDiv:O,isPlotDiv:T,removeElement:k,addStyleRule:w,addRelatedStyleRule:C,deleteRelatedStyleRule:_,getFullTransformMatrix:M,getElementTransformMatrix:I,getElementAndAncestors:V,equalDomRects:Q}},1086:function(d,h,c){var g=c(5398).EventEmitter,v={init:function(y){if(y._ev instanceof g)return y;var b=new g,O=new g;return y._ev=b,y._internalEv=O,y.on=b.on.bind(b),y.once=b.once.bind(b),y.removeListener=b.removeListener.bind(b),y.removeAllListeners=b.removeAllListeners.bind(b),y._internalOn=O.on.bind(O),y._internalOnce=O.once.bind(O),y._removeInternalListener=O.removeListener.bind(O),y._removeAllInternalListeners=O.removeAllListeners.bind(O),y.emit=function(T,k){typeof jQuery<"u"&&jQuery(y).trigger(T,k),b.emit(T,k),O.emit(T,k)},y},triggerHandler:function(y,b,O){var T,k;typeof jQuery<"u"&&(T=jQuery(y).triggerHandler(b,O));var w=y._ev;if(!w)return T;var C=w._events[b];if(!C)return T;function _(I){if(I.listener){if(w.removeListener(b,I.listener),!I.fired)return I.fired=!0,I.listener.apply(w,[O])}else return I.apply(w,[O])}C=Array.isArray(C)?C:[C];var M;for(M=0;M<C.length-1;M++)_(C[M]);return k=_(C[M]),T!==void 0?T:k},purge:function(y){return delete y._ev,delete y.on,delete y.once,delete y.removeListener,delete y.removeAllListeners,delete y.emit,delete y._ev,delete y._internalEv,delete y._internalOn,delete y._internalOnce,delete y._removeInternalListener,delete y._removeAllInternalListeners,y}};d.exports=v},1426:function(d,h,c){var g=c(1965),v=Array.isArray;function y(O,T){var k,w;for(k=0;k<O.length;k++){if(w=O[k],w!==null&&typeof w=="object")return!1;w!==void 0&&(T[k]=w)}return!0}h.extendFlat=function(){return b(arguments,!1,!1,!1)},h.extendDeep=function(){return b(arguments,!0,!1,!1)},h.extendDeepAll=function(){return b(arguments,!0,!0,!1)},h.extendDeepNoArrays=function(){return b(arguments,!0,!1,!0)};function b(O,T,k,w){var C=O[0],_=O.length,M,I,V,N,Q,z,U;if(_===2&&v(C)&&v(O[1])&&C.length===0){if(U=y(O[1],C),U)return C;C.splice(0,C.length)}for(var F=1;F<_;F++){M=O[F];for(I in M)V=C[I],N=M[I],w&&v(N)?C[I]=N:T&&N&&(g(N)||(Q=v(N)))?(Q?(Q=!1,z=V&&v(V)?V:[]):z=V&&g(V)?V:{},C[I]=b([z,N],T,k,w)):(typeof N<"u"||k)&&(C[I]=N)}return C}},5744:function(d){d.exports=function(c){for(var g={},v=[],y=0,b=0;b<c.length;b++){var O=c[b];g[O]!==1&&(g[O]=1,v[y++]=O)}return v}},6756:function(d){d.exports=function(y){for(var b=g(y)?c:h,O=[],T=0;T<y.length;T++){var k=y[T];b(k)&&O.push(k)}return O};function h(v){return v.visible===!0}function c(v){var y=v[0].trace;return y.visible===!0&&y._length!==0}function g(v){return Array.isArray(v)&&Array.isArray(v[0])&&v[0][0]&&v[0][0].trace}},7642:function(d,h,c){var g=c(4872).mod;h.segmentsIntersect=v;function v(k,w,C,_,M,I,V,N){var Q=C-k,z=M-k,U=V-M,F=_-w,B=I-w,E=N-I,W=Q*E-U*F;if(W===0)return null;var X=(z*E-U*B)/W,ie=(z*F-Q*B)/W;return ie<0||ie>1||X<0||X>1?null:{x:k+Q*X,y:w+F*X}}h.segmentDistance=function(w,C,_,M,I,V,N,Q){if(v(w,C,_,M,I,V,N,Q))return 0;var z=_-w,U=M-C,F=N-I,B=Q-V,E=z*z+U*U,W=F*F+B*B,X=Math.min(y(z,U,E,I-w,V-C),y(z,U,E,N-w,Q-C),y(F,B,W,w-I,C-V),y(F,B,W,_-I,M-V));return Math.sqrt(X)};function y(k,w,C,_,M){var I=_*k+M*w;if(I<0)return _*_+M*M;if(I>C){var V=_-k,N=M-w;return V*V+N*N}else{var Q=_*w-M*k;return Q*Q/C}}var b,O,T;h.getTextLocation=function(w,C,_,M){if((w!==O||M!==T)&&(b={},O=w,T=M),b[_])return b[_];var I=w.getPointAtLength(g(_-M/2,C)),V=w.getPointAtLength(g(_+M/2,C)),N=Math.atan((V.y-I.y)/(V.x-I.x)),Q=w.getPointAtLength(g(_,C)),z=(Q.x*4+I.x+V.x)/6,U=(Q.y*4+I.y+V.y)/6,F={x:z,y:U,theta:N};return b[_]=F,F},h.clearLocationCache=function(){O=null},h.getVisibleSegment=function(w,C,_){var M=C.left,I=C.right,V=C.top,N=C.bottom,Q=0,z=w.getTotalLength(),U=z,F,B;function E(X){var ie=w.getPointAtLength(X);X===0?F=ie:X===z&&(B=ie);var L=ie.x<M?M-ie.x:ie.x>I?ie.x-I:0,me=ie.y<V?V-ie.y:ie.y>N?ie.y-N:0;return Math.sqrt(L*L+me*me)}for(var W=E(Q);W;){if(Q+=W+_,Q>U)return;W=E(Q)}for(W=E(U);W;){if(U-=W+_,Q>U)return;W=E(U)}return{min:Q,max:U,len:U-Q,total:z,isClosed:Q===0&&U===z&&Math.abs(F.x-B.x)<.1&&Math.abs(F.y-B.y)<.1}},h.findPointOnPath=function(w,C,_,M){M=M||{};for(var I=M.pathLength||w.getTotalLength(),V=M.tolerance||.001,N=M.iterationLimit||30,Q=w.getPointAtLength(0)[_]>w.getPointAtLength(I)[_]?-1:1,z=0,U=0,F=I,B,E,W;z<N;){if(B=(U+F)/2,E=w.getPointAtLength(B),W=E[_]-C,Math.abs(W)<V)return E;Q*W>0?F=B:U=B,z++}return E}},3389:function(d){d.exports=function(c){return c}},9240:function(d){d.exports=function(c,g){if(!g)return c;var v=1/Math.abs(g),y=v>1?(v*c+v*g)/v:c+g,b=String(y).length;if(b>16){var O=String(g).length,T=String(c).length;if(b>=T+O){var k=parseFloat(y).toPrecision(12);k.indexOf("e+")===-1&&(y=+k)}}return y}},1828:function(d,h,c){var g=c(9898),v=c(4096).g0,y=c(721).WU,b=c(2770),O=c(606),T=O.FP_SAFE,k=-T,w=O.BADNUM,C=d.exports={};C.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var _={};C.warnBadFormat=function(te){var se=String(te);_[se]||(_[se]=1,C.warn('encountered bad format: "'+se+'"'))},C.noFormat=function(te){return String(te)},C.numberFormat=function(te){var se;try{se=y(C.adjustFormat(te))}catch{return C.warnBadFormat(te),C.noFormat}return se},C.nestedProperty=c(5487),C.keyedContainer=c(6636),C.relativeAttr=c(6962),C.isPlainObject=c(1965),C.toLogRange=c(8163),C.relinkPrivateKeys=c(1332);var M=c(3627);C.isTypedArray=M.isTypedArray,C.isArrayOrTypedArray=M.isArrayOrTypedArray,C.isArray1D=M.isArray1D,C.ensureArray=M.ensureArray,C.concat=M.concat,C.maxRowLength=M.maxRowLength,C.minRowLength=M.minRowLength;var I=c(4872);C.mod=I.mod,C.modHalf=I.modHalf;var V=c(6554);C.valObjectMeta=V.valObjectMeta,C.coerce=V.coerce,C.coerce2=V.coerce2,C.coerceFont=V.coerceFont,C.coercePattern=V.coercePattern,C.coerceHoverinfo=V.coerceHoverinfo,C.coerceSelectionMarkerOpacity=V.coerceSelectionMarkerOpacity,C.validate=V.validate;var N=c(1631);C.dateTime2ms=N.dateTime2ms,C.isDateTime=N.isDateTime,C.ms2DateTime=N.ms2DateTime,C.ms2DateTimeLocal=N.ms2DateTimeLocal,C.cleanDate=N.cleanDate,C.isJSDate=N.isJSDate,C.formatDate=N.formatDate,C.incrementMonth=N.incrementMonth,C.dateTick0=N.dateTick0,C.dfltRange=N.dfltRange,C.findExactDates=N.findExactDates,C.MIN_MS=N.MIN_MS,C.MAX_MS=N.MAX_MS;var Q=c(5888);C.findBin=Q.findBin,C.sorterAsc=Q.sorterAsc,C.sorterDes=Q.sorterDes,C.distinctVals=Q.distinctVals,C.roundUp=Q.roundUp,C.sort=Q.sort,C.findIndexOfMin=Q.findIndexOfMin,C.sortObjectKeys=c(8607);var z=c(38);C.aggNums=z.aggNums,C.len=z.len,C.mean=z.mean,C.median=z.median,C.midRange=z.midRange,C.variance=z.variance,C.stdev=z.stdev,C.interp=z.interp;var U=c(5657);C.init2dArray=U.init2dArray,C.transposeRagged=U.transposeRagged,C.dot=U.dot,C.translationMatrix=U.translationMatrix,C.rotationMatrix=U.rotationMatrix,C.rotationXYMatrix=U.rotationXYMatrix,C.apply3DTransform=U.apply3DTransform,C.apply2DTransform=U.apply2DTransform,C.apply2DTransform2=U.apply2DTransform2,C.convertCssMatrix=U.convertCssMatrix,C.inverseTransformMatrix=U.inverseTransformMatrix;var F=c(6348);C.deg2rad=F.deg2rad,C.rad2deg=F.rad2deg,C.angleDelta=F.angleDelta,C.angleDist=F.angleDist,C.isFullCircle=F.isFullCircle,C.isAngleInsideSector=F.isAngleInsideSector,C.isPtInsideSector=F.isPtInsideSector,C.pathArc=F.pathArc,C.pathSector=F.pathSector,C.pathAnnulus=F.pathAnnulus;var B=c(9863);C.isLeftAnchor=B.isLeftAnchor,C.isCenterAnchor=B.isCenterAnchor,C.isRightAnchor=B.isRightAnchor,C.isTopAnchor=B.isTopAnchor,C.isMiddleAnchor=B.isMiddleAnchor,C.isBottomAnchor=B.isBottomAnchor;var E=c(7642);C.segmentsIntersect=E.segmentsIntersect,C.segmentDistance=E.segmentDistance,C.getTextLocation=E.getTextLocation,C.clearLocationCache=E.clearLocationCache,C.getVisibleSegment=E.getVisibleSegment,C.findPointOnPath=E.findPointOnPath;var W=c(1426);C.extendFlat=W.extendFlat,C.extendDeep=W.extendDeep,C.extendDeepAll=W.extendDeepAll,C.extendDeepNoArrays=W.extendDeepNoArrays;var X=c(7769);C.log=X.log,C.warn=X.warn,C.error=X.error;var ie=c(587);C.counterRegex=ie.counter;var L=c(9990);C.throttle=L.throttle,C.throttleDone=L.done,C.clearThrottle=L.clear;var me=c(4401);C.getGraphDiv=me.getGraphDiv,C.isPlotDiv=me.isPlotDiv,C.removeElement=me.removeElement,C.addStyleRule=me.addStyleRule,C.addRelatedStyleRule=me.addRelatedStyleRule,C.deleteRelatedStyleRule=me.deleteRelatedStyleRule,C.getFullTransformMatrix=me.getFullTransformMatrix,C.getElementTransformMatrix=me.getElementTransformMatrix,C.getElementAndAncestors=me.getElementAndAncestors,C.equalDomRects=me.equalDomRects,C.clearResponsive=c(6367),C.preserveDrawingBuffer=c(5142),C.makeTraceGroups=c(7310),C._=c(5867),C.notifier=c(5046),C.filterUnique=c(5744),C.filterVisible=c(6756),C.pushUnique=c(5138),C.increment=c(9240),C.cleanNumber=c(5218),C.ensureNumber=function(se){return b(se)?(se=Number(se),se>T||se<k?w:se):w},C.isIndex=function(te,se){return se!==void 0&&te>=se?!1:b(te)&&te>=0&&te%1===0},C.noop=c(4213),C.identity=c(3389),C.repeat=function(te,se){for(var fe=new Array(se),oe=0;oe<se;oe++)fe[oe]=te;return fe},C.swapAttrs=function(te,se,fe,oe){fe||(fe="x"),oe||(oe="y");for(var Se=0;Se<se.length;Se++){var ce=se[Se],ke=C.nestedProperty(te,ce.replace("?",fe)),Qe=C.nestedProperty(te,ce.replace("?",oe)),Ze=ke.get();ke.set(Qe.get()),Qe.set(Ze)}},C.raiseToTop=function(se){se.parentNode.appendChild(se)},C.cancelTransition=function(te){return te.transition().duration(0)},C.constrain=function(te,se,fe){return se>fe?Math.max(fe,Math.min(se,te)):Math.max(se,Math.min(fe,te))},C.bBoxIntersect=function(te,se,fe){return fe=fe||0,te.left<=se.right+fe&&se.left<=te.right+fe&&te.top<=se.bottom+fe&&se.top<=te.bottom+fe},C.simpleMap=function(te,se,fe,oe,Se){for(var ce=te.length,ke=new Array(ce),Qe=0;Qe<ce;Qe++)ke[Qe]=se(te[Qe],fe,oe,Se);return ke},C.randstr=function te(se,fe,oe,Se){if(oe||(oe=16),fe===void 0&&(fe=24),fe<=0)return"0";var ce=Math.log(Math.pow(2,fe))/Math.log(oe),ke="",Qe,Ze,Xe;for(Qe=2;ce===1/0;Qe*=2)ce=Math.log(Math.pow(2,fe/Qe))/Math.log(oe)*Qe;var ct=ce-Math.floor(ce);for(Qe=0;Qe<Math.floor(ce);Qe++)Xe=Math.floor(Math.random()*oe).toString(oe),ke=Xe+ke;ct&&(Ze=Math.pow(oe,ct),Xe=Math.floor(Math.random()*Ze).toString(oe),ke=Xe+ke);var pt=parseInt(ke,oe);return se&&se[ke]||pt!==1/0&&pt>=Math.pow(2,fe)?Se>10?(C.warn("randstr failed uniqueness"),ke):te(se,fe,oe,(Se||0)+1):ke},C.OptionControl=function(te,se){te||(te={}),se||(se="opt");var fe={};return fe.optionList=[],fe._newoption=function(oe){oe[se]=te,fe[oe.name]=oe,fe.optionList.push(oe)},fe["_"+se]=te,fe},C.smooth=function(te,se){if(se=Math.round(se)||0,se<2)return te;var fe=te.length,oe=2*fe,Se=2*se-1,ce=new Array(Se),ke=new Array(fe),Qe,Ze,Xe,ct;for(Qe=0;Qe<Se;Qe++)ce[Qe]=(1-Math.cos(Math.PI*(Qe+1)/se))/(2*se);for(Qe=0;Qe<fe;Qe++){for(ct=0,Ze=0;Ze<Se;Ze++)Xe=Qe+Ze+1-se,Xe<-fe?Xe-=oe*Math.round(Xe/oe):Xe>=oe&&(Xe-=oe*Math.floor(Xe/oe)),Xe<0?Xe=-1-Xe:Xe>=fe&&(Xe=oe-1-Xe),ct+=te[Xe]*ce[Ze];ke[Qe]=ct}return ke},C.syncOrAsync=function(te,se,fe){var oe,Se;function ce(){return C.syncOrAsync(te,se,fe)}for(;te.length;)if(Se=te.splice(0,1)[0],oe=Se(se),oe&&oe.then)return oe.then(ce);return fe&&fe(se)},C.stripTrailingSlash=function(te){return te.substr(-1)==="/"?te.substr(0,te.length-1):te},C.noneOrAll=function(te,se,fe){if(te){var oe=!1,Se=!0,ce,ke;for(ce=0;ce<fe.length;ce++)ke=te[fe[ce]],ke!=null?oe=!0:Se=!1;if(oe&&!Se)for(ce=0;ce<fe.length;ce++)te[fe[ce]]=se[fe[ce]]}},C.mergeArray=function(te,se,fe,oe){var Se=typeof oe=="function";if(C.isArrayOrTypedArray(te))for(var ce=Math.min(te.length,se.length),ke=0;ke<ce;ke++){var Qe=te[ke];se[ke][fe]=Se?oe(Qe):Qe}},C.mergeArrayCastPositive=function(te,se,fe){return C.mergeArray(te,se,fe,function(oe){var Se=+oe;return isFinite(Se)&&Se>0?Se:0})},C.fillArray=function(te,se,fe,oe){if(oe=oe||C.identity,C.isArrayOrTypedArray(te))for(var Se=0;Se<se.length;Se++)se[Se][fe]=oe(te[Se])},C.castOption=function(te,se,fe,oe){oe=oe||C.identity;var Se=C.nestedProperty(te,fe).get();return C.isArrayOrTypedArray(Se)?Array.isArray(se)&&C.isArrayOrTypedArray(Se[se[0]])?oe(Se[se[0]][se[1]]):oe(Se[se]):Se},C.extractOption=function(te,se,fe,oe){if(fe in te)return te[fe];var Se=C.nestedProperty(se,oe).get();if(!Array.isArray(Se))return Se};function ae(te){var se={};for(var fe in te)for(var oe=te[fe],Se=0;Se<oe.length;Se++)se[oe[Se]]=+fe;return se}C.tagSelected=function(te,se,fe){var oe=se.selectedpoints,Se=se._indexToPoints,ce;Se&&(ce=ae(Se));function ke(pt){return pt!==void 0&&pt<te.length}for(var Qe=0;Qe<oe.length;Qe++){var Ze=oe[Qe];if(C.isIndex(Ze)||C.isArrayOrTypedArray(Ze)&&C.isIndex(Ze[0])&&C.isIndex(Ze[1])){var Xe=ce?ce[Ze]:Ze,ct=fe?fe[Xe]:Xe;ke(ct)&&(te[ct].selected=1)}}},C.selIndices2selPoints=function(te){var se=te.selectedpoints,fe=te._indexToPoints;if(fe){for(var oe=ae(fe),Se=[],ce=0;ce<se.length;ce++){var ke=se[ce];if(C.isIndex(ke)){var Qe=oe[ke];C.isIndex(Qe)&&Se.push(Qe)}}return Se}else return se},C.getTargetArray=function(te,se){var fe=se.target;if(typeof fe=="string"&&fe){var oe=C.nestedProperty(te,fe).get();return Array.isArray(oe)?oe:!1}else if(Array.isArray(fe))return fe;return!1};function q(te,se,fe){var oe={};typeof se!="object"&&(se={});var Se=fe==="pieLike"?-1:3,ce=Object.keys(te),ke,Qe,Ze;for(ke=0;ke<ce.length;ke++)Qe=ce[ke],Ze=te[Qe],!(Qe.charAt(0)==="_"||typeof Ze=="function")&&(Qe==="module"?oe[Qe]=Ze:Array.isArray(Ze)?Qe==="colorscale"||Se===-1?oe[Qe]=Ze.slice():oe[Qe]=Ze.slice(0,Se):C.isTypedArray(Ze)?Se===-1?oe[Qe]=Ze.subarray():oe[Qe]=Ze.subarray(0,Se):Ze&&typeof Ze=="object"?oe[Qe]=q(te[Qe],se[Qe],fe):oe[Qe]=Ze);for(ce=Object.keys(se),ke=0;ke<ce.length;ke++)Qe=ce[ke],Ze=se[Qe],(typeof Ze!="object"||!(Qe in oe)||typeof oe[Qe]!="object")&&(oe[Qe]=Ze);return oe}C.minExtend=q,C.titleCase=function(te){return te.charAt(0).toUpperCase()+te.substr(1)},C.containsAny=function(te,se){for(var fe=0;fe<se.length;fe++)if(te.indexOf(se[fe])!==-1)return!0;return!1},C.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var de=/Version\/[\d\.]+.*Safari/;C.isSafari=function(){return de.test(window.navigator.userAgent)};var ee=/iPad|iPhone|iPod/;C.isIOS=function(){return ee.test(window.navigator.userAgent)};var xe=/Firefox\/(\d+)\.\d+/;C.getFirefoxVersion=function(){var te=xe.exec(window.navigator.userAgent);if(te&&te.length===2){var se=parseInt(te[1]);if(!isNaN(se))return se}return null},C.isD3Selection=function(te){return te instanceof g.selection},C.ensureSingle=function(te,se,fe,oe){var Se=te.select(se+(fe?"."+fe:""));if(Se.size())return Se;var ce=te.append(se);return fe&&ce.classed(fe,!0),oe&&ce.call(oe),ce},C.ensureSingleById=function(te,se,fe,oe){var Se=te.select(se+"#"+fe);if(Se.size())return Se;var ce=te.append(se).attr("id",fe);return oe&&ce.call(oe),ce},C.objectFromPath=function(te,se){for(var fe=te.split("."),oe,Se=oe={},ce=0;ce<fe.length;ce++){var ke=fe[ce],Qe=null,Ze=fe[ce].match(/(.*)\[([0-9]+)\]/);Ze?(ke=Ze[1],Qe=Ze[2],oe=oe[ke]=[],ce===fe.length-1?oe[Qe]=se:oe[Qe]={},oe=oe[Qe]):(ce===fe.length-1?oe[ke]=se:oe[ke]={},oe=oe[ke])}return Se};var we=/^([^\[\.]+)\.(.+)?/,Be=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function pe(te){return te.slice(0,2)==="__"}C.expandObjectPaths=function(te){var se,fe,oe,Se,ce,ke,Qe;if(typeof te=="object"&&!Array.isArray(te)){for(fe in te)if(te.hasOwnProperty(fe))if(se=fe.match(we)){if(Se=te[fe],oe=se[1],pe(oe))continue;delete te[fe],te[oe]=C.extendDeepNoArrays(te[oe]||{},C.objectFromPath(fe,C.expandObjectPaths(Se))[oe])}else if(se=fe.match(Be)){if(Se=te[fe],oe=se[1],pe(oe))continue;if(ce=parseInt(se[2]),delete te[fe],te[oe]=te[oe]||[],se[3]===".")Qe=se[4],ke=te[oe][ce]=te[oe][ce]||{},C.extendDeepNoArrays(ke,C.objectFromPath(Qe,C.expandObjectPaths(Se)));else{if(pe(oe))continue;te[oe][ce]=C.expandObjectPaths(Se)}}else{if(pe(fe))continue;te[fe]=C.expandObjectPaths(te[fe])}}return te},C.numSeparate=function(te,se,fe){if(fe||(fe=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof te=="number"&&(te=String(te));var oe=/(\d+)(\d{3})/,Se=se.charAt(0),ce=se.charAt(1),ke=te.split("."),Qe=ke[0],Ze=ke.length>1?Se+ke[1]:"";if(ce&&(ke.length>1||Qe.length>4||fe))for(;oe.test(Qe);)Qe=Qe.replace(oe,"$1"+ce+"$2");return Qe+Ze},C.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ne=/^\w*$/;C.templateString=function(te,se){var fe={};return te.replace(C.TEMPLATE_STRING_REGEX,function(oe,Se){var ce;return ne.test(Se)?ce=se[Se]:(fe[Se]=fe[Se]||C.nestedProperty(se,Se).get,ce=fe[Se]()),C.isValidTextValue(ce)?ce:""})};var le={max:10,count:0,name:"hovertemplate"};C.hovertemplateString=function(){return De.apply(le,arguments)};var Y={max:10,count:0,name:"texttemplate"};C.texttemplateString=function(){return De.apply(Y,arguments)};var ve=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Oe(te){var se=te.match(ve);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:te,op:null,number:null}}var Le={max:10,count:0,name:"texttemplate",parseMultDiv:!0};C.texttemplateStringForShapes=function(){return De.apply(Le,arguments)};var Te=/^[:|\|]/;function De(te,se,fe){var oe=this,Se=arguments;se||(se={});var ce={};return te.replace(C.TEMPLATE_STRING_REGEX,function(ke,Qe,Ze){var Xe=Qe==="xother"||Qe==="yother",ct=Qe==="_xother"||Qe==="_yother",pt=Qe==="_xother_"||Qe==="_yother_",Ye=Qe==="xother_"||Qe==="yother_",je=Xe||ct||Ye||pt,et=Qe;(ct||pt)&&(et=et.substring(1)),(Ye||pt)&&(et=et.substring(0,et.length-1));var yt=null,ft=null;if(oe.parseMultDiv){var tt=Oe(et);et=tt.key,yt=tt.op,ft=tt.number}var wt;if(je){if(wt=se[et],wt===void 0)return""}else{var Xt,Gt;for(Gt=3;Gt<Se.length;Gt++)if(Xt=Se[Gt],!!Xt){if(Xt.hasOwnProperty(et)){wt=Xt[et];break}if(ne.test(et)||(wt=C.nestedProperty(Xt,et).get(),wt=ce[et]||C.nestedProperty(Xt,et).get(),wt&&(ce[et]=wt)),wt!==void 0)break}}if(wt!==void 0&&(yt==="*"&&(wt*=ft),yt==="/"&&(wt/=ft)),wt===void 0&&oe)return oe.count<oe.max&&(C.warn("Variable '"+et+"' in "+oe.name+" could not be found!"),wt=ke),oe.count===oe.max&&C.warn("Too many "+oe.name+" warnings - additional warnings will be suppressed"),oe.count++,ke;if(Ze){var Nt;if(Ze[0]===":"&&(Nt=fe?fe.numberFormat:C.numberFormat,wt=Nt(Ze.replace(Te,""))(wt)),Ze[0]==="|"){Nt=fe?fe.timeFormat:v;var Bt=C.dateTime2ms(wt);wt=C.formatDate(Bt,Ze.replace(Te,""),!1,Nt)}}else{var vn=et+"Label";se.hasOwnProperty(vn)&&(wt=se[vn])}return je&&(wt="("+wt+")",(ct||pt)&&(wt=" "+wt),(Ye||pt)&&(wt=wt+" ")),wt})}var Ve=48,_e=57;C.subplotSort=function(te,se){for(var fe=Math.min(te.length,se.length)+1,oe=0,Se=0,ce=0;ce<fe;ce++){var ke=te.charCodeAt(ce)||0,Qe=se.charCodeAt(ce)||0,Ze=ke>=Ve&&ke<=_e,Xe=Qe>=Ve&&Qe<=_e;if(Ze&&(oe=10*oe+ke-Ve),Xe&&(Se=10*Se+Qe-Ve),!Ze||!Xe){if(oe!==Se)return oe-Se;if(ke!==Qe)return ke-Qe}}return Se-oe};var Ie=2e9;C.seedPseudoRandom=function(){Ie=2e9},C.pseudoRandom=function(){var te=Ie;return Ie=(69069*Ie+1)%4294967296,Math.abs(Ie-te)<429496729?C.pseudoRandom():Ie/4294967296},C.fillText=function(te,se,fe){var oe=Array.isArray(fe)?function(ke){fe.push(ke)}:function(ke){fe.text=ke},Se=C.extractOption(te,se,"htx","hovertext");if(C.isValidTextValue(Se))return oe(Se);var ce=C.extractOption(te,se,"tx","text");if(C.isValidTextValue(ce))return oe(ce)},C.isValidTextValue=function(te){return te||te===0},C.formatPercent=function(te,se){se=se||0;for(var fe=(Math.round(100*te*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",oe=0;oe<se;oe++)fe.indexOf(".")!==-1&&(fe=fe.replace("0%","%"),fe=fe.replace(".%","%"));return fe},C.isHidden=function(te){var se=window.getComputedStyle(te).display;return!se||se==="none"},C.strTranslate=function(te,se){return te||se?"translate("+te+","+se+")":""},C.strRotate=function(te){return te?"rotate("+te+")":""},C.strScale=function(te){return te!==1?"scale("+te+")":""},C.getTextTransform=function(te){var se=te.noCenter,fe=te.textX,oe=te.textY,Se=te.targetX,ce=te.targetY,ke=te.anchorX||0,Qe=te.anchorY||0,Ze=te.rotate,Xe=te.scale;return Xe?Xe>1&&(Xe=1):Xe=0,C.strTranslate(Se-Xe*(fe+ke),ce-Xe*(oe+Qe))+C.strScale(Xe)+(Ze?"rotate("+Ze+(se?"":" "+fe+" "+oe)+")":"")},C.setTransormAndDisplay=function(te,se){te.attr("transform",C.getTextTransform(se)),te.style("display",se.scale?null:"none")},C.ensureUniformFontSize=function(te,se){var fe=C.extendFlat({},se);return fe.size=Math.max(se.size,te._fullLayout.uniformtext.minsize||0),fe},C.join2=function(te,se,fe){var oe=te.length;return oe>1?te.slice(0,-1).join(se)+fe+te[oe-1]:te.join(se)},C.bigFont=function(te){return Math.round(1.2*te)};var re=C.getFirefoxVersion(),be=re!==null&&re<86;C.getPositionFromD3Event=function(){return be?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},1965:function(d){d.exports=function(c){return window&&window.process&&window.process.versions?Object.prototype.toString.call(c)==="[object Object]":Object.prototype.toString.call(c)==="[object Object]"&&Object.getPrototypeOf(c).hasOwnProperty("hasOwnProperty")}},6636:function(d,h,c){var g=c(5487),v=/^\w*$/,y=0,b=1,O=2,T=3,k=4;d.exports=function(C,_,M,I){M=M||"name",I=I||"value";var V,N,Q,z={};_&&_.length?(Q=g(C,_),N=Q.get()):N=C,_=_||"";var U={};if(N)for(V=0;V<N.length;V++)U[N[V][M]]=V;var F=v.test(I),B={set:function(E,W){var X=W===null?k:y;if(!N){if(!Q||X===k)return;N=[],Q.set(N)}var ie=U[E];if(ie===void 0){if(X===k)return;X=X|T,ie=N.length,U[E]=ie}else W!==(F?N[ie][I]:g(N[ie],I).get())&&(X=X|O);var L=N[ie]=N[ie]||{};return L[M]=E,F?L[I]=W:g(L,I).set(W),W!==null&&(X=X&~k),z[ie]=z[ie]|X,B},get:function(E){if(N){var W=U[E];if(W!==void 0)return F?N[W][I]:g(N[W],I).get()}},rename:function(E,W){var X=U[E];return X===void 0||(z[X]=z[X]|b,U[W]=X,delete U[E],N[X][M]=W),B},remove:function(E){var W=U[E];if(W===void 0)return B;var X=N[W];if(Object.keys(X).length>2)return z[W]=z[W]|O,B.set(E,null);if(F){for(V=W;V<N.length;V++)z[V]=z[V]|T;for(V=W;V<N.length;V++)U[N[V][M]]--;N.splice(W,1),delete U[E]}else g(X,I).set(null),z[W]=z[W]|O|k;return B},constructUpdate:function(){for(var E,W,X={},ie=Object.keys(z),L=0;L<ie.length;L++)W=ie[L],E=_+"["+W+"]",N[W]?(z[W]&b&&(X[E+"."+M]=N[W][M]),z[W]&O&&(F?X[E+"."+I]=z[W]&k?null:N[W][I]:X[E+"."+I]=z[W]&k?null:g(N[W],I).get())):X[E]=null;return X}};return B}},5867:function(d,h,c){var g=c(3972);d.exports=function(y,b){for(var O=y._context.locale,T=0;T<2;T++){for(var k=y._context.locales,w=0;w<2;w++){var C=(k[O]||{}).dictionary;if(C){var _=C[b];if(_)return _}k=g.localeRegistry}var M=O.split("-")[0];if(M===O)break;O=M}return b}},7769:function(d,h,c){var g=c(2075).dfltConfig,v=c(5046),y=d.exports={};y.log=function(){var b;if(g.logging>1){var O=["LOG:"];for(b=0;b<arguments.length;b++)O.push(arguments[b]);console.trace.apply(console,O)}if(g.notifyOnLogging>1){var T=[];for(b=0;b<arguments.length;b++)T.push(arguments[b]);v(T.join("<br>"),"long")}},y.warn=function(){var b;if(g.logging>0){var O=["WARN:"];for(b=0;b<arguments.length;b++)O.push(arguments[b]);console.trace.apply(console,O)}if(g.notifyOnLogging>0){var T=[];for(b=0;b<arguments.length;b++)T.push(arguments[b]);v(T.join("<br>"),"stick")}},y.error=function(){var b;if(g.logging>0){var O=["ERROR:"];for(b=0;b<arguments.length;b++)O.push(arguments[b]);console.error.apply(console,O)}if(g.notifyOnLogging>0){var T=[];for(b=0;b<arguments.length;b++)T.push(arguments[b]);v(T.join("<br>"),"stick")}}},7310:function(d,h,c){var g=c(9898);d.exports=function(y,b,O){var T=y.selectAll("g."+O.replace(/\s/g,".")).data(b,function(w){return w[0].trace.uid});T.exit().remove(),T.enter().append("g").attr("class",O),T.order();var k=y.classed("rangeplot")?"nodeRangePlot3":"node3";return T.each(function(w){w[0][k]=g.select(this)}),T}},5657:function(d,h,c){var g=c(9576);h.init2dArray=function(v,y){for(var b=new Array(v),O=0;O<v;O++)b[O]=new Array(y);return b},h.transposeRagged=function(v){var y=0,b=v.length,O,T;for(O=0;O<b;O++)y=Math.max(y,v[O].length);var k=new Array(y);for(O=0;O<y;O++)for(k[O]=new Array(b),T=0;T<b;T++)k[O][T]=v[T][O];return k},h.dot=function(v,y){if(!(v.length&&y.length)||v.length!==y.length)return null;var b=v.length,O,T;if(v[0].length)for(O=new Array(b),T=0;T<b;T++)O[T]=h.dot(v[T],y);else if(y[0].length){var k=h.transposeRagged(y);for(O=new Array(k.length),T=0;T<k.length;T++)O[T]=h.dot(v,k[T])}else for(O=0,T=0;T<b;T++)O+=v[T]*y[T];return O},h.translationMatrix=function(v,y){return[[1,0,v],[0,1,y],[0,0,1]]},h.rotationMatrix=function(v){var y=v*Math.PI/180;return[[Math.cos(y),-Math.sin(y),0],[Math.sin(y),Math.cos(y),0],[0,0,1]]},h.rotationXYMatrix=function(v,y,b){return h.dot(h.dot(h.translationMatrix(y,b),h.rotationMatrix(v)),h.translationMatrix(-y,-b))},h.apply3DTransform=function(v){return function(){var y=arguments,b=arguments.length===1?y[0]:[y[0],y[1],y[2]||0];return h.dot(v,[b[0],b[1],b[2],1]).slice(0,3)}},h.apply2DTransform=function(v){return function(){var y=arguments;y.length===3&&(y=y[0]);var b=arguments.length===1?y[0]:[y[0],y[1]];return h.dot(v,[b[0],b[1],1]).slice(0,2)}},h.apply2DTransform2=function(v){var y=h.apply2DTransform(v);return function(b){return y(b.slice(0,2)).concat(y(b.slice(2,4)))}},h.convertCssMatrix=function(v){if(v){var y=v.length;if(y===16)return v;if(y===6)return[v[0],v[1],0,0,v[2],v[3],0,0,0,0,1,0,v[4],v[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},h.inverseTransformMatrix=function(v){var y=[];return g.invert(y,v),[[y[0],y[1],y[2],y[3]],[y[4],y[5],y[6],y[7]],[y[8],y[9],y[10],y[11]],[y[12],y[13],y[14],y[15]]]}},4872:function(d){function h(g,v){var y=g%v;return y<0?y+v:y}function c(g,v){return Math.abs(g)>v/2?g-Math.round(g/v)*v:g}d.exports={mod:h,modHalf:c}},5487:function(d,h,c){var g=c(2770),v=c(3627).isArrayOrTypedArray;d.exports=function(I,V){if(g(V))V=String(V);else if(typeof V!="string"||V.substr(V.length-4)==="[-1]")throw"bad property string";var N=V.split("."),Q,z,U,F;for(F=0;F<N.length;F++)if(String(N[F]).slice(0,2)==="__")throw"bad property string";for(F=0;F<N.length;){if(Q=String(N[F]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),Q){if(Q[1])N[F]=Q[1];else if(F===0)N.splice(0,1);else throw"bad property string";for(z=Q[2].substr(1,Q[2].length-2).split("]["),U=0;U<z.length;U++)F++,N.splice(F,0,Number(z[U]))}F++}return typeof I!="object"?_(I,V,N):{set:T(I,N,V),get:y(I,N),astr:V,parts:N,obj:I}};function y(M,I){return function(){var V=M,N,Q,z,U,F;for(U=0;U<I.length-1;U++){if(N=I[U],N===-1){for(Q=!0,z=[],F=0;F<V.length;F++)z[F]=y(V[F],I.slice(U+1))(),z[F]!==z[0]&&(Q=!1);return Q?z[0]:z}if(typeof N=="number"&&!v(V)||(V=V[N],typeof V!="object"||V===null))return}if(!(typeof V!="object"||V===null)&&(z=V[I[U]],z!==null))return z}}var b=/(^|\.)args\[/;function O(M,I){return M===void 0||M===null&&!I.match(b)}function T(M,I,V){return function(N){var Q=M,z="",U=O(N,V),F,B;for(B=0;B<I.length-1;B++){if(F=I[B],typeof F=="number"&&!v(Q))throw"array index but container is not an array";if(F===-1){if(U=!w(Q,I.slice(B+1),N,V),U)break;return}if(!C(Q,F,I[B+1],U))break;if(Q=Q[F],typeof Q!="object"||Q===null)throw"container is not an object";z=k(z,F)}if(U){if(B===I.length-1&&(delete Q[I[B]],Array.isArray(Q)&&+I[B]===Q.length-1))for(;Q.length&&Q[Q.length-1]===void 0;)Q.pop()}else Q[I[B]]=N}}function k(M,I){var V=I;return g(I)?V="["+I+"]":M&&(V="."+I),M+V}function w(M,I,V,N){var Q=v(V),z=!0,U=V,F=N.replace("-1",0),B=Q?!1:O(V,F),E=I[0],W;for(W=0;W<M.length;W++)F=N.replace("-1",W),Q&&(U=V[W%V.length],B=O(U,F)),B&&(z=!1),C(M,W,E,B)&&T(M[W],I,N.replace("-1",W))(U);return z}function C(M,I,V,N){if(M[I]===void 0){if(N)return!1;typeof V=="number"?M[I]=[]:M[I]={}}return!0}function _(M,I,V){return{set:function(){throw"bad container"},get:function(){},astr:I,parts:V,obj:M}}},4213:function(d){d.exports=function(){}},5046:function(d,h,c){var g=c(9898),v=c(2770),y=[];d.exports=function(b,O){if(y.indexOf(b)!==-1)return;y.push(b);var T=1e3;v(O)?T=O:O==="long"&&(T=3e3);var k=g.select("body").selectAll(".plotly-notifier").data([0]);k.enter().append("div").classed("plotly-notifier",!0);var w=k.selectAll(".notifier-note").data(y);function C(_){_.duration(700).style("opacity",0).each("end",function(M){var I=y.indexOf(M);I!==-1&&y.splice(I,1),g.select(this).remove()})}w.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(_){var M=g.select(this);M.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){M.transition().call(C)});for(var I=M.append("p"),V=_.split(/<br\s*\/?>/g),N=0;N<V.length;N++)N&&I.append("br"),I.append("span").text(V[N]);O==="stick"?M.transition().duration(350).style("opacity",1):M.transition().duration(700).style("opacity",1).transition().delay(T).call(C)})}},9918:function(d,h,c){var g=c(6964),v="data-savedcursor",y="!!";d.exports=function(O,T){var k=O.attr(v);if(T){if(!k){for(var w=(O.attr("class")||"").split(" "),C=0;C<w.length;C++){var _=w[C];_.indexOf("cursor-")===0&&O.attr(v,_.substr(7)).classed(_,!1)}O.attr(v)||O.attr(v,y)}g(O,T)}else k&&(O.attr(v,null),k===y?g(O):g(O,k))}},1082:function(d,h,c){var g=c(5657).dot,v=c(606).BADNUM,y=d.exports={};y.tester=function(O){var T=O.slice(),k=T[0][0],w=k,C=T[0][1],_=C,M;for((T[T.length-1][0]!==T[0][0]||T[T.length-1][1]!==T[0][1])&&T.push(T[0]),M=1;M<T.length;M++)k=Math.min(k,T[M][0]),w=Math.max(w,T[M][0]),C=Math.min(C,T[M][1]),_=Math.max(_,T[M][1]);var I=!1,V;T.length===5&&(T[0][0]===T[1][0]?T[2][0]===T[3][0]&&T[0][1]===T[3][1]&&T[1][1]===T[2][1]&&(I=!0,V=function(F){return F[0]===T[0][0]}):T[0][1]===T[1][1]&&T[2][1]===T[3][1]&&T[0][0]===T[3][0]&&T[1][0]===T[2][0]&&(I=!0,V=function(F){return F[1]===T[0][1]}));function N(F,B){var E=F[0],W=F[1];return!(E===v||E<k||E>w||W===v||W<C||W>_||B&&V(F))}function Q(F,B){var E=F[0],W=F[1];if(E===v||E<k||E>w||W===v||W<C||W>_)return!1;var X=T.length,ie=T[0][0],L=T[0][1],me=0,ae,q,de,ee,xe;for(ae=1;ae<X;ae++)if(q=ie,de=L,ie=T[ae][0],L=T[ae][1],ee=Math.min(q,ie),!(E<ee||E>Math.max(q,ie)||W>Math.max(de,L)))if(W<Math.min(de,L))E!==ee&&me++;else{if(ie===q?xe=W:xe=de+(E-q)*(L-de)/(ie-q),W===xe)return!(ae===1&&B);W<=xe&&E!==ee&&me++}return me%2===1}var z=!0,U=T[0];for(M=1;M<T.length;M++)if(U[0]!==T[M][0]||U[1]!==T[M][1]){z=!1;break}return{xmin:k,xmax:w,ymin:C,ymax:_,pts:T,contains:I?N:Q,isRect:I,degenerate:z}},y.isSegmentBent=function(O,T,k,w){var C=O[T],_=[O[k][0]-C[0],O[k][1]-C[1]],M=g(_,_),I=Math.sqrt(M),V=[-_[1]/I,_[0]/I],N,Q,z;for(N=T+1;N<k;N++)if(Q=[O[N][0]-C[0],O[N][1]-C[1]],z=g(Q,_),z<0||z>M||Math.abs(g(Q,V))>w)return!0;return!1},y.filter=function(O,T){var k=[O[0]],w=0,C=0;function _(I){O.push(I);var V=k.length,N=w;k.splice(C+1);for(var Q=N+1;Q<O.length;Q++)(Q===O.length-1||y.isSegmentBent(O,N,Q+1,T))&&(k.push(O[Q]),k.length<V-2&&(w=Q,C=k.length-1),N=Q)}if(O.length>1){var M=O.pop();_(M)}return{addPt:_,raw:O,filtered:k}}},5142:function(d,h,c){var g=c(2770),v=c(5791);d.exports=function(O){var T;if(O&&O.hasOwnProperty("userAgent")?T=O.userAgent:T=y(),typeof T!="string")return!0;var k=v({ua:{headers:{"user-agent":T}},tablet:!0,featureDetect:!1});if(!k)for(var w=T.split(" "),C=1;C<w.length;C++){var _=w[C];if(_.indexOf("Safari")!==-1)for(var M=C-1;M>-1;M--){var I=w[M];if(I.substr(0,8)==="Version/"){var V=I.substr(8).split(".")[0];if(g(V)&&(V=+V),V>=13)return!0}}}return k};function y(){var b;return typeof navigator<"u"&&(b=navigator.userAgent),b&&b.headers&&typeof b.headers["user-agent"]=="string"&&(b=b.headers["user-agent"]),b}},5138:function(d){d.exports=function(c,g){if(g instanceof RegExp){for(var v=g.toString(),y=0;y<c.length;y++)if(c[y]instanceof RegExp&&c[y].toString()===v)return c;c.push(g)}else(g||g===0)&&c.indexOf(g)===-1&&c.push(g);return c}},847:function(d,h,c){var g=c(1828),v=c(2075).dfltConfig;function y(O,T){for(var k=[],w,C=0;C<T.length;C++)w=T[C],w===O?k[C]=w:typeof w=="object"?k[C]=Array.isArray(w)?g.extendDeep([],w):g.extendDeepAll({},w):k[C]=w;return k}var b={};b.add=function(O,T,k,w,C){var _,M;if(O.undoQueue=O.undoQueue||{index:0,queue:[],sequence:!1},M=O.undoQueue.index,O.autoplay){O.undoQueue.inSequence||(O.autoplay=!1);return}!O.undoQueue.sequence||O.undoQueue.beginSequence?(_={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},O.undoQueue.queue.splice(M,O.undoQueue.queue.length-M,_),O.undoQueue.index+=1):_=O.undoQueue.queue[M-1],O.undoQueue.beginSequence=!1,_&&(_.undo.calls.unshift(T),_.undo.args.unshift(k),_.redo.calls.push(w),_.redo.args.push(C)),O.undoQueue.queue.length>v.queueLength&&(O.undoQueue.queue.shift(),O.undoQueue.index--)},b.startSequence=function(O){O.undoQueue=O.undoQueue||{index:0,queue:[],sequence:!1},O.undoQueue.sequence=!0,O.undoQueue.beginSequence=!0},b.stopSequence=function(O){O.undoQueue=O.undoQueue||{index:0,queue:[],sequence:!1},O.undoQueue.sequence=!1,O.undoQueue.beginSequence=!1},b.undo=function(T){var k,w;if(!(T.undoQueue===void 0||isNaN(T.undoQueue.index)||T.undoQueue.index<=0)){for(T.undoQueue.index--,k=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,w=0;w<k.undo.calls.length;w++)b.plotDo(T,k.undo.calls[w],k.undo.args[w]);T.undoQueue.inSequence=!1,T.autoplay=!1}},b.redo=function(T){var k,w;if(!(T.undoQueue===void 0||isNaN(T.undoQueue.index)||T.undoQueue.index>=T.undoQueue.queue.length)){for(k=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,w=0;w<k.redo.calls.length;w++)b.plotDo(T,k.redo.calls[w],k.redo.args[w]);T.undoQueue.inSequence=!1,T.autoplay=!1,T.undoQueue.index++}},b.plotDo=function(O,T,k){O.autoplay=!0,k=y(O,k),T.apply(null,k)},d.exports=b},587:function(d,h){h.counter=function(c,g,v,y){var b=(g||"")+(v?"":"$"),O=y===!1?"":"^";return c==="xy"?new RegExp(O+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+b):new RegExp(O+c+"([2-9]|[1-9][0-9]+)?"+b)}},6962:function(d){var h=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,c=/^[^\.\[\]]+$/;d.exports=function(g,v){for(;v;){var y=g.match(h);if(y)g=y[1];else if(g.match(c))g="";else throw new Error("bad relativeAttr call:"+[g,v]);if(v.charAt(0)==="^")v=v.slice(1);else break}return g&&v.charAt(0)!=="["?g+"."+v:g+v}},1332:function(d,h,c){var g=c(3627).isArrayOrTypedArray,v=c(1965);d.exports=function y(b,O){for(var T in O){var k=O[T],w=b[T];if(w!==k)if(T.charAt(0)==="_"||typeof k=="function"){if(T in b)continue;b[T]=k}else if(g(k)&&g(w)&&v(k[0])){if(T==="customdata"||T==="ids")continue;for(var C=Math.min(k.length,w.length),_=0;_<C;_++)w[_]!==k[_]&&v(k[_])&&v(w[_])&&y(w[_],k[_])}else v(k)&&v(w)&&(y(w,k),Object.keys(w).length||delete b[T])}}},5888:function(d,h,c){var g=c(2770),v=c(7769),y=c(3389),b=c(606).BADNUM,O=1e-9;h.findBin=function(_,M,I){if(g(M.start))return I?Math.ceil((_-M.start)/M.size-O)-1:Math.floor((_-M.start)/M.size+O);var V=0,N=M.length,Q=0,z=N>1?(M[N-1]-M[0])/(N-1):1,U,F;for(z>=0?F=I?T:k:F=I?C:w,_+=z*O*(I?-1:1)*(z>=0?1:-1);V<N&&Q++<100;)U=Math.floor((V+N)/2),F(M[U],_)?V=U+1:N=U;return Q>90&&v.log("Long binary search..."),V-1};function T(_,M){return _<M}function k(_,M){return _<=M}function w(_,M){return _>M}function C(_,M){return _>=M}h.sorterAsc=function(_,M){return _-M},h.sorterDes=function(_,M){return M-_},h.distinctVals=function(_){var M=_.slice();M.sort(h.sorterAsc);var I;for(I=M.length-1;I>-1&&M[I]===b;I--);for(var V=M[I]-M[0]||1,N=V/(I||1)/1e4,Q=[],z,U=0;U<=I;U++){var F=M[U],B=F-z;z===void 0?(Q.push(F),z=F):B>N&&(V=Math.min(V,B),Q.push(F),z=F)}return{vals:Q,minDiff:V}},h.roundUp=function(_,M,I){for(var V=0,N=M.length-1,Q,z=0,U=I?0:1,F=I?1:0,B=I?Math.ceil:Math.floor;V<N&&z++<100;)Q=B((V+N)/2),M[Q]<=_?V=Q+U:N=Q-F;return M[V]},h.sort=function(_,M){for(var I=0,V=0,N=1;N<_.length;N++){var Q=M(_[N],_[N-1]);if(Q<0?I=1:Q>0&&(V=1),I&&V)return _.sort(M)}return V?_:_.reverse()},h.findIndexOfMin=function(_,M){M=M||y;for(var I=1/0,V,N=0;N<_.length;N++){var Q=M(_[N]);Q<I&&(I=Q,V=N)}return V}},6964:function(d){d.exports=function(c,g){(c.attr("class")||"").split(" ").forEach(function(v){v.indexOf("cursor-")===0&&c.classed(v,!1)}),g&&c.classed("cursor-"+g,!0)}},8607:function(d){d.exports=function(c){return Object.keys(c).sort()}},38:function(d,h,c){var g=c(2770),v=c(3627).isArrayOrTypedArray;h.aggNums=function(y,b,O,T){var k,w;if((!T||T>O.length)&&(T=O.length),g(b)||(b=!1),v(O[0])){for(w=new Array(T),k=0;k<T;k++)w[k]=h.aggNums(y,b,O[k]);O=w}for(k=0;k<T;k++)g(b)?g(O[k])&&(b=y(+b,+O[k])):b=O[k];return b},h.len=function(y){return h.aggNums(function(b){return b+1},0,y)},h.mean=function(y,b){return b||(b=h.len(y)),h.aggNums(function(O,T){return O+T},0,y)/b},h.midRange=function(y){if(!(y===void 0||y.length===0))return(h.aggNums(Math.max,null,y)+h.aggNums(Math.min,null,y))/2},h.variance=function(y,b,O){return b||(b=h.len(y)),g(O)||(O=h.mean(y,b)),h.aggNums(function(T,k){return T+Math.pow(k-O,2)},0,y)/b},h.stdev=function(y,b,O){return Math.sqrt(h.variance(y,b,O))},h.median=function(y){var b=y.slice().sort();return h.interp(b,.5)},h.interp=function(y,b){if(!g(b))throw"n should be a finite number";if(b=b*y.length-.5,b<0)return y[0];if(b>y.length-1)return y[y.length-1];var O=b%1;return O*y[Math.ceil(b)]+(1-O)*y[Math.floor(b)]}},3893:function(d,h,c){var g=c(9898),v=c(1828),y=v.strTranslate,b=c(7922),O=c(8783).LINE_SPACING,T=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;h.convertToTspans=function(le,Y,ve){var Oe=le.text(),Le=!le.attr("data-notex")&&Y&&Y._context.typesetMath&&typeof MathJax<"u"&&Oe.match(T),Te=g.select(le.node().parentNode);if(Te.empty())return;var De=le.attr("class")?le.attr("class").split(" ")[0]:"text";De+="-math",Te.selectAll("svg."+De).remove(),Te.selectAll("g."+De+"-group").remove(),le.style("display",null).attr({"data-unformatted":Oe,"data-math":"N"});function Ve(){Te.empty()||(De=le.attr("class")+"-math",Te.select("svg."+De).remove()),le.text("").style("white-space","pre");var _e=we(le.node(),Oe);_e&&le.style("pointer-events","all"),h.positionText(le),ve&&ve.call(le)}return Le?(Y&&Y._promises||[]).push(new Promise(function(_e){le.style("display","none");var Ie=parseInt(le.node().style.fontSize,10),re={fontSize:Ie};M(Le[2],re,function(be,te,se){Te.selectAll("svg."+De).remove(),Te.selectAll("g."+De+"-group").remove();var fe=be&&be.select("svg");if(!fe||!fe.node()){Ve(),_e();return}var oe=Te.append("g").classed(De+"-group",!0).attr({"pointer-events":"none","data-unformatted":Oe,"data-math":"Y"});oe.node().appendChild(fe.node()),te&&te.node()&&fe.node().insertBefore(te.node().cloneNode(!0),fe.node().firstChild);var Se=se.width,ce=se.height;fe.attr({class:De,height:ce,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ke=le.node().style.fill||"black",Qe=fe.select("g");Qe.attr({fill:ke,stroke:ke});var Ze=Qe.node().getBoundingClientRect(),Xe=Ze.width,ct=Ze.height;(Xe>Se||ct>ce)&&(fe.style("overflow","hidden"),Ze=fe.node().getBoundingClientRect(),Xe=Ze.width,ct=Ze.height);var pt=+le.attr("x"),Ye=+le.attr("y"),je=Ie||le.node().getBoundingClientRect().height,et=-je/4;if(De[0]==="y")oe.attr({transform:"rotate("+[-90,pt,Ye]+")"+y(-Xe/2,et-ct/2)});else if(De[0]==="l")Ye=et-ct/2;else if(De[0]==="a"&&De.indexOf("atitle")!==0)pt=0,Ye=et;else{var yt=le.attr("text-anchor");pt=pt-Xe*(yt==="middle"?.5:yt==="end"?1:0),Ye=Ye+et-ct/2}fe.attr({x:pt,y:Ye}),ve&&ve.call(le,oe),_e(oe)})})):Ve(),le};var k=/(<|&lt;|&#60;)/g,w=/(>|&gt;|&#62;)/g;function C(le){return le.replace(k,"\\lt ").replace(w,"\\gt ")}var _=[["$","$"],["\\(","\\)"]];function M(le,Y,ve){var Oe=parseInt((MathJax.version||"").split(".")[0]);if(Oe!==2&&Oe!==3){v.warn("No MathJax version:",MathJax.version);return}var Le,Te,De,Ve,_e=function(){return Te=v.extendDeepAll({},MathJax.Hub.config),De=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:_},displayAlign:"left"})},Ie=function(){Te=v.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=_},re=function(){if(Le=MathJax.Hub.config.menuSettings.renderer,Le!=="SVG")return MathJax.Hub.setRenderer("SVG")},be=function(){Le=MathJax.config.startup.output,Le!=="svg"&&(MathJax.config.startup.output="svg")},te=function(){var ke="math-output-"+v.randstr({},64);Ve=g.select("body").append("div").attr({id:ke}).style({visibility:"hidden",position:"absolute","font-size":Y.fontSize+"px"}).text(C(le));var Qe=Ve.node();return Oe===2?MathJax.Hub.Typeset(Qe):MathJax.typeset([Qe])},se=function(){var ke=Ve.select(Oe===2?".MathJax_SVG":".MathJax"),Qe=!ke.empty()&&Ve.select("svg").node();if(!Qe)v.log("There was an error in the tex syntax.",le),ve();else{var Ze=Qe.getBoundingClientRect(),Xe;Oe===2?Xe=g.select("body").select("#MathJax_SVG_glyphs"):Xe=ke.select("defs"),ve(ke,Xe,Ze)}Ve.remove()},fe=function(){if(Le!=="SVG")return MathJax.Hub.setRenderer(Le)},oe=function(){Le!=="svg"&&(MathJax.config.startup.output=Le)},Se=function(){return De!==void 0&&(MathJax.Hub.processSectionDelay=De),MathJax.Hub.Config(Te)},ce=function(){MathJax.config=Te};Oe===2?MathJax.Hub.Queue(_e,re,te,se,fe,Se):Oe===3&&(Ie(),be(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){te(),se(),oe(),ce()}))}var I={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},V={sub:"0.3em",sup:"-0.6em"},N={sub:"-0.21em",sup:"0.42em"},Q="​",z=["http:","https:","mailto:","",void 0,":"],U=h.NEWLINES=/(\r\n?|\n)/g,F=/(<[^<>]*>)/,B=/<(\/?)([^ >]*)(\s+(.*))?>/i,E=/<br(\s+.*)?>/i;h.BR_TAG_ALL=/<br(\s+.*)?>/gi;var W=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,X=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,ie=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,L=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function me(le,Y){if(!le)return null;var ve=le.match(Y),Oe=ve&&(ve[3]||ve[4]);return Oe&&ee(Oe)}var ae=/(^|;)\s*color:/;h.plainText=function(le,Y){Y=Y||{};for(var ve=Y.len!==void 0&&Y.len!==-1?Y.len:1/0,Oe=Y.allowedTags!==void 0?Y.allowedTags:["br"],Le="...",Te=Le.length,De=le.split(F),Ve=[],_e="",Ie=0,re=0;re<De.length;re++){var be=De[re],te=be.match(B),se=te&&te[2].toLowerCase();if(se)Oe.indexOf(se)!==-1&&(Ve.push(be),_e=se);else{var fe=be.length;if(Ie+fe<ve)Ve.push(be),Ie+=fe;else if(Ie<ve){var oe=ve-Ie;_e&&(_e!=="br"||oe<=Te||fe<=Te)&&Ve.pop(),ve>Te?Ve.push(be.substr(0,oe-Te)+Le):Ve.push(be.substr(0,oe));break}_e=""}}return Ve.join("")};var q={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},de=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function ee(le){return le.replace(de,function(Y,ve){var Oe;return ve.charAt(0)==="#"?Oe=xe(ve.charAt(1)==="x"?parseInt(ve.substr(2),16):parseInt(ve.substr(1),10)):Oe=q[ve],Oe||Y})}h.convertEntities=ee;function xe(le){if(!(le>1114111)){var Y=String.fromCodePoint;if(Y)return Y(le);var ve=String.fromCharCode;return le<=65535?ve(le):ve((le>>10)+55232,le%1024+56320)}}function we(le,Y){Y=Y.replace(U," ");var ve=!1,Oe=[],Le,Te=-1;function De(){Te++;var ct=document.createElementNS(b.svg,"tspan");g.select(ct).attr({class:"line",dy:Te*O+"em"}),le.appendChild(ct),Le=ct;var pt=Oe;if(Oe=[{node:ct}],pt.length>1)for(var Ye=1;Ye<pt.length;Ye++)Ve(pt[Ye])}function Ve(ct){var pt=ct.type,Ye={},je;if(pt==="a"){je="a";var et=ct.target,yt=ct.href,ft=ct.popup;yt&&(Ye={"xlink:xlink:show":et==="_blank"||et.charAt(0)!=="_"?"new":"replace",target:et,"xlink:xlink:href":yt},ft&&(Ye.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ft+'");return false;'))}else je="tspan";ct.style&&(Ye.style=ct.style);var tt=document.createElementNS(b.svg,je);if(pt==="sup"||pt==="sub"){_e(Le,Q),Le.appendChild(tt);var wt=document.createElementNS(b.svg,"tspan");_e(wt,Q),g.select(wt).attr("dy",N[pt]),Ye.dy=V[pt],Le.appendChild(tt),Le.appendChild(wt)}else Le.appendChild(tt);g.select(tt).attr(Ye),Le=ct.node=tt,Oe.push(ct)}function _e(ct,pt){ct.appendChild(document.createTextNode(pt))}function Ie(ct){if(Oe.length===1){v.log("Ignoring unexpected end tag </"+ct+">.",Y);return}var pt=Oe.pop();ct!==pt.type&&v.log("Start tag <"+pt.type+"> doesnt match end tag <"+ct+">. Pretending it did match.",Y),Le=Oe[Oe.length-1].node}var re=E.test(Y);re?De():(Le=le,Oe=[{node:le}]);for(var be=Y.split(F),te=0;te<be.length;te++){var se=be[te],fe=se.match(B),oe=fe&&fe[2].toLowerCase(),Se=I[oe];if(oe==="br")De();else if(Se===void 0)_e(Le,ee(se));else if(fe[1])Ie(oe);else{var ce=fe[4],ke={type:oe},Qe=me(ce,W);if(Qe?(Qe=Qe.replace(ae,"$1 fill:"),Se&&(Qe+=";"+Se)):Se&&(Qe=Se),Qe&&(ke.style=Qe),oe==="a"){ve=!0;var Ze=me(ce,X);if(Ze){var Xe=Be(Ze);Xe&&(ke.href=Xe,ke.target=me(ce,ie)||"_blank",ke.popup=me(ce,L))}}Ve(ke)}}return ve}function Be(le){var Y=encodeURI(decodeURI(le)),ve=document.createElement("a"),Oe=document.createElement("a");ve.href=le,Oe.href=Y;var Le=ve.protocol,Te=Oe.protocol;return z.indexOf(Le)!==-1&&z.indexOf(Te)!==-1?Y:""}h.sanitizeHTML=function(Y){Y=Y.replace(U," ");for(var ve=document.createElement("p"),Oe=ve,Le=[],Te=Y.split(F),De=0;De<Te.length;De++){var Ve=Te[De],_e=Ve.match(B),Ie=_e&&_e[2].toLowerCase();if(Ie in I)if(_e[1])Le.length&&(Oe=Le.pop());else{var re=_e[4],be=me(re,W),te=be?{style:be}:{};if(Ie==="a"){var se=me(re,X);if(se){var fe=Be(se);if(fe){te.href=fe;var oe=me(re,ie);oe&&(te.target=oe)}}}var Se=document.createElement(Ie);Oe.appendChild(Se),g.select(Se).attr(te),Oe=Se,Le.push(Se)}else Oe.appendChild(document.createTextNode(ee(Ve)))}var ce="innerHTML";return ve[ce]},h.lineCount=function(Y){return Y.selectAll("tspan.line").size()||1},h.positionText=function(Y,ve,Oe){return Y.each(function(){var Le=g.select(this);function Te(_e,Ie){return Ie===void 0?(Ie=Le.attr(_e),Ie===null&&(Le.attr(_e,0),Ie=0)):Le.attr(_e,Ie),Ie}var De=Te("x",ve),Ve=Te("y",Oe);this.nodeName==="text"&&Le.selectAll("tspan.line").attr({x:De,y:Ve})})};function pe(le,Y,ve){var Oe=ve.horizontalAlign,Le=ve.verticalAlign||"top",Te=le.node().getBoundingClientRect(),De=Y.node().getBoundingClientRect(),Ve,_e,Ie;return Le==="bottom"?_e=function(){return Te.bottom-Ve.height}:Le==="middle"?_e=function(){return Te.top+(Te.height-Ve.height)/2}:_e=function(){return Te.top},Oe==="right"?Ie=function(){return Te.right-Ve.width}:Oe==="center"?Ie=function(){return Te.left+(Te.width-Ve.width)/2}:Ie=function(){return Te.left},function(){Ve=this.node().getBoundingClientRect();var re=Ie()-De.left,be=_e()-De.top,te=ve.gd||{};if(ve.gd){te._fullLayout._calcInverseTransform(te);var se=v.apply3DTransform(te._fullLayout._invTransform)(re,be);re=se[0],be=se[1]}return this.style({top:be+"px",left:re+"px","z-index":1e3}),this}}var ne="1px ";h.makeTextShadow=function(le){var Y=ne,ve=ne,Oe=ne;return Y+ve+Oe+le+", -"+Y+"-"+ve+Oe+le+", "+Y+"-"+ve+Oe+le+", -"+Y+ve+Oe+le},h.makeEditable=function(le,Y){var ve=Y.gd,Oe=Y.delegate,Le=g.dispatch("edit","input","cancel"),Te=Oe||le;if(le.style({"pointer-events":Oe?"none":"all"}),le.size()!==1)throw new Error("boo");function De(){_e(),le.style({opacity:0});var Ie=Te.attr("class"),re;Ie?re="."+Ie.split(" ")[0]+"-math-group":re="[class*=-math-group]",re&&g.select(le.node().parentNode).select(re).style({opacity:0})}function Ve(Ie){var re=Ie.node(),be=document.createRange();be.selectNodeContents(re);var te=window.getSelection();te.removeAllRanges(),te.addRange(be),re.focus()}function _e(){var Ie=g.select(ve),re=Ie.select(".svg-container"),be=re.append("div"),te=le.node().style,se=parseFloat(te.fontSize||12),fe=Y.text;fe===void 0&&(fe=le.attr("data-unformatted")),be.classed("plugin-editable editable",!0).style({position:"absolute","font-family":te.fontFamily||"Arial","font-size":se,color:Y.fill||te.fill||"black",opacity:1,"background-color":Y.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(fe).call(pe(le,re,Y)).on("blur",function(){ve._editing=!1,le.text(this.textContent).style({opacity:1});var oe=g.select(this).attr("class"),Se;oe?Se="."+oe.split(" ")[0]+"-math-group":Se="[class*=-math-group]",Se&&g.select(le.node().parentNode).select(Se).style({opacity:0});var ce=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),Le.edit.call(le,ce)}).on("focus",function(){var oe=this;ve._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===oe)return!1;document.activeElement===be.node()&&be.node().blur()})}).on("keyup",function(){g.event.which===27?(ve._editing=!1,le.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Le.cancel.call(le,this.textContent)):(Le.input.call(le,this.textContent),g.select(this).call(pe(le,re,Y)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(Ve)}return Y.immediate?De():Te.on("click",De),g.rebind(le,Le,"on")}},9990:function(d,h){var c={};h.throttle=function(y,b,O){var T=c[y],k=Date.now();if(!T){for(var w in c)c[w].ts<k-6e4&&delete c[w];T=c[y]={ts:0,timer:null}}g(T);function C(){O(),T.ts=Date.now(),T.onDone&&(T.onDone(),T.onDone=null)}if(k>T.ts+b){C();return}T.timer=setTimeout(function(){C(),T.timer=null},b)},h.done=function(v){var y=c[v];return!y||!y.timer?Promise.resolve():new Promise(function(b){var O=y.onDone;y.onDone=function(){O&&O(),b(),y.onDone=null}})},h.clear=function(v){if(v)g(c[v]),delete c[v];else for(var y in c)h.clear(y)};function g(v){v&&v.timer!==null&&(clearTimeout(v.timer),v.timer=null)}},8163:function(d,h,c){var g=c(2770);d.exports=function(y,b){if(y>0)return Math.log(y)/Math.LN10;var O=Math.log(Math.min(b[0],b[1]))/Math.LN10;return g(O)||(O=Math.log(Math.max(b[0],b[1]))/Math.LN10-6),O}},7815:function(d){d.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(d){d.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(d,h,c){var g=c(3972);d.exports=function(y){for(var b=g.layoutArrayContainers,O=g.layoutArrayRegexes,T=y.split("[")[0],k,w,C=0;C<O.length;C++)if(w=y.match(O[C]),w&&w.index===0){k=w[0];break}if(k||(k=b[b.indexOf(T)]),!k)return!1;var _=y.substr(k.length);return _?(w=_.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),w?{array:k,index:Number(w[1]),property:w[3]||""}:!1):{array:k,index:"",property:""}}},962:function(d,h,c){var g=c(1426).extendFlat,v=c(1965),y={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},b={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},O=y.flags.slice().concat(["fullReplot"]),T=b.flags.slice().concat("layoutReplot");d.exports={traces:y,layout:b,traceFlags:function(){return k(O)},layoutFlags:function(){return k(T)},update:function(_,M){var I=M.editType;if(I&&I!=="none")for(var V=I.split("+"),N=0;N<V.length;N++)_[V[N]]=!0},overrideAll:w};function k(_){for(var M={},I=0;I<_.length;I++)M[_[I]]=!1;return M}function w(_,M,I){var V=g({},_);for(var N in V){var Q=V[N];v(Q)&&(V[N]=C(Q,M,I,N))}return I==="from-root"&&(V.editType=M),V}function C(_,M,I,V){if(_.valType){var N=g({},_);if(N.editType=M,Array.isArray(_.items)){N.items=new Array(_.items.length);for(var Q=0;Q<_.items.length;Q++)N.items[Q]=C(_.items[Q],M)}return N}else return w(_,M,V.charAt(0)==="_"?"nested":"from-root")}},8377:function(d,h,c){var g=c(2770),v=c(7812),y=c(3972),b=c(1828),O=c(4875),T=c(1675),k=c(7901),w=T.cleanId,C=T.getFromTrace,_=y.traceIs;h.clearPromiseQueue=function(E){Array.isArray(E._promises)&&E._promises.length>0&&b.log("Clearing previous rejected promises from queue."),E._promises=[]},h.cleanLayout=function(E){var W,X;E||(E={}),E.xaxis1&&(E.xaxis||(E.xaxis=E.xaxis1),delete E.xaxis1),E.yaxis1&&(E.yaxis||(E.yaxis=E.yaxis1),delete E.yaxis1),E.scene1&&(E.scene||(E.scene=E.scene1),delete E.scene1);var ie=(O.subplotsRegistry.cartesian||{}).attrRegex,L=(O.subplotsRegistry.polar||{}).attrRegex,me=(O.subplotsRegistry.ternary||{}).attrRegex,ae=(O.subplotsRegistry.gl3d||{}).attrRegex,q=Object.keys(E);for(W=0;W<q.length;W++){var de=q[W];if(ie&&ie.test(de)){var ee=E[de];ee.anchor&&ee.anchor!=="free"&&(ee.anchor=w(ee.anchor)),ee.overlaying&&(ee.overlaying=w(ee.overlaying)),ee.type||(ee.isdate?ee.type="date":ee.islog?ee.type="log":ee.isdate===!1&&ee.islog===!1&&(ee.type="linear")),(ee.autorange==="withzero"||ee.autorange==="tozero")&&(ee.autorange=!0,ee.rangemode="tozero"),delete ee.islog,delete ee.isdate,delete ee.categories,z(ee,"domain")&&delete ee.domain,ee.autotick!==void 0&&(ee.tickmode===void 0&&(ee.tickmode=ee.autotick?"auto":"linear"),delete ee.autotick),I(ee)}else if(L&&L.test(de)){var xe=E[de];I(xe.radialaxis)}else if(me&&me.test(de)){var we=E[de];I(we.aaxis),I(we.baxis),I(we.caxis)}else if(ae&&ae.test(de)){var Be=E[de],pe=Be.cameraposition;if(Array.isArray(pe)&&pe[0].length===4){var ne=pe[0],le=pe[1],Y=pe[2],ve=v([],ne),Oe=[];for(X=0;X<3;++X)Oe[X]=le[X]+Y*ve[2+4*X];Be.camera={eye:{x:Oe[0],y:Oe[1],z:Oe[2]},center:{x:le[0],y:le[1],z:le[2]},up:{x:0,y:0,z:1}},delete Be.cameraposition}I(Be.xaxis),I(Be.yaxis),I(Be.zaxis)}}var Le=Array.isArray(E.annotations)?E.annotations.length:0;for(W=0;W<Le;W++){var Te=E.annotations[W];b.isPlainObject(Te)&&(Te.ref&&(Te.ref==="paper"?(Te.xref="paper",Te.yref="paper"):Te.ref==="data"&&(Te.xref="x",Te.yref="y"),delete Te.ref),M(Te,"xref"),M(Te,"yref"))}var De=Array.isArray(E.shapes)?E.shapes.length:0;for(W=0;W<De;W++){var Ve=E.shapes[W];b.isPlainObject(Ve)&&(M(Ve,"xref"),M(Ve,"yref"))}var _e=Array.isArray(E.images)?E.images.length:0;for(W=0;W<_e;W++){var Ie=E.images[W];b.isPlainObject(Ie)&&(M(Ie,"xref"),M(Ie,"yref"))}var re=E.legend;return re&&(re.x>3?(re.x=1.02,re.xanchor="left"):re.x<-2&&(re.x=-.02,re.xanchor="right"),re.y>3?(re.y=1.02,re.yanchor="bottom"):re.y<-2&&(re.y=-.02,re.yanchor="top")),I(E),E.dragmode==="rotate"&&(E.dragmode="orbit"),k.clean(E),E.template&&E.template.layout&&h.cleanLayout(E.template.layout),E};function M(E,W){var X=E[W],ie=W.charAt(0);X&&X!=="paper"&&(E[W]=w(X,ie,!0))}function I(E){E&&((typeof E.title=="string"||typeof E.title=="number")&&(E.title={text:E.title}),W("titlefont","font"),W("titleposition","position"),W("titleside","side"),W("titleoffset","offset"));function W(X,ie){var L=E[X],me=E.title&&E.title[ie];L&&!me&&(E.title||(E.title={}),E.title[ie]=E[X],delete E[X])}}h.cleanData=function(E){for(var W=0;W<E.length;W++){var X=E[W],ie;if(X.type==="histogramy"&&"xbins"in X&&!("ybins"in X)&&(X.ybins=X.xbins,delete X.xbins),X.error_y&&"opacity"in X.error_y){var L=k.defaults,me=X.error_y.color||(_(X,"bar")?k.defaultLine:L[W%L.length]);X.error_y.color=k.addOpacity(k.rgb(me),k.opacity(me)*X.error_y.opacity),delete X.error_y.opacity}if("bardir"in X&&(X.bardir==="h"&&(_(X,"bar")||X.type.substr(0,9)==="histogram")&&(X.orientation="h",h.swapXYData(X)),delete X.bardir),X.type==="histogramy"&&h.swapXYData(X),(X.type==="histogramx"||X.type==="histogramy")&&(X.type="histogram"),"scl"in X&&!("colorscale"in X)&&(X.colorscale=X.scl,delete X.scl),"reversescl"in X&&!("reversescale"in X)&&(X.reversescale=X.reversescl,delete X.reversescl),X.xaxis&&(X.xaxis=w(X.xaxis,"x")),X.yaxis&&(X.yaxis=w(X.yaxis,"y")),_(X,"gl3d")&&X.scene&&(X.scene=O.subplotsRegistry.gl3d.cleanId(X.scene)),!_(X,"pie-like")&&!_(X,"bar-like"))if(Array.isArray(X.textposition))for(ie=0;ie<X.textposition.length;ie++)X.textposition[ie]=Q(X.textposition[ie]);else X.textposition&&(X.textposition=Q(X.textposition));var ae=y.getModule(X);if(ae&&ae.colorbar){var q=ae.colorbar.container,de=q?X[q]:X;de&&de.colorscale&&(de.colorscale==="YIGnBu"&&(de.colorscale="YlGnBu"),de.colorscale==="YIOrRd"&&(de.colorscale="YlOrRd"))}if(X.type==="surface"&&b.isPlainObject(X.contours)){var ee=["x","y","z"];for(ie=0;ie<ee.length;ie++){var xe=X.contours[ee[ie]];b.isPlainObject(xe)&&(xe.highlightColor&&(xe.highlightcolor=xe.highlightColor,delete xe.highlightColor),xe.highlightWidth&&(xe.highlightwidth=xe.highlightWidth,delete xe.highlightWidth))}}if(X.type==="candlestick"||X.type==="ohlc"){var we=(X.increasing||{}).showlegend!==!1,Be=(X.decreasing||{}).showlegend!==!1,pe=V(X.increasing),ne=V(X.decreasing);if(pe!==!1&&ne!==!1){var le=N(pe,ne,we,Be);le&&(X.name=le)}else(pe||ne)&&!X.name&&(X.name=pe||ne)}if(Array.isArray(X.transforms)){var Y=X.transforms;for(ie=0;ie<Y.length;ie++){var ve=Y[ie];if(b.isPlainObject(ve))switch(ve.type){case"filter":ve.filtersrc&&(ve.target=ve.filtersrc,delete ve.filtersrc),ve.calendar&&(ve.valuecalendar||(ve.valuecalendar=ve.calendar),delete ve.calendar);break;case"groupby":if(ve.styles=ve.styles||ve.style,ve.styles&&!Array.isArray(ve.styles)){var Oe=ve.styles,Le=Object.keys(Oe);ve.styles=[];for(var Te=0;Te<Le.length;Te++)ve.styles.push({target:Le[Te],value:Oe[Le[Te]]})}break}}}z(X,"line")&&delete X.line,"marker"in X&&(z(X.marker,"line")&&delete X.marker.line,z(X,"marker")&&delete X.marker),k.clean(X),X.autobinx&&(delete X.autobinx,delete X.xbins),X.autobiny&&(delete X.autobiny,delete X.ybins),I(X),X.colorbar&&I(X.colorbar),X.marker&&X.marker.colorbar&&I(X.marker.colorbar),X.line&&X.line.colorbar&&I(X.line.colorbar),X.aaxis&&I(X.aaxis),X.baxis&&I(X.baxis)}};function V(E){if(!b.isPlainObject(E))return!1;var W=E.name;return delete E.name,delete E.showlegend,(typeof W=="string"||typeof W=="number")&&String(W)}function N(E,W,X,ie){if(X&&!ie)return E;if(ie&&!X||!E.trim())return W;if(!W.trim())return E;var L=Math.min(E.length,W.length),me;for(me=0;me<L&&E.charAt(me)===W.charAt(me);me++);var ae=E.substr(0,me);return ae.trim()}function Q(E){var W="middle",X="center";return typeof E=="string"&&(E.indexOf("top")!==-1?W="top":E.indexOf("bottom")!==-1&&(W="bottom"),E.indexOf("left")!==-1?X="left":E.indexOf("right")!==-1&&(X="right")),W+" "+X}function z(E,W){return W in E&&typeof E[W]=="object"&&Object.keys(E[W]).length===0}h.swapXYData=function(E){var W;if(b.swapAttrs(E,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(E.z)&&Array.isArray(E.z[0])&&(E.transpose?delete E.transpose:E.transpose=!0),E.error_x&&E.error_y){var X=E.error_y,ie="copy_ystyle"in X?X.copy_ystyle:!(X.color||X.thickness||X.width);b.swapAttrs(E,["error_?.copy_ystyle"]),ie&&b.swapAttrs(E,["error_?.color","error_?.thickness","error_?.width"])}if(typeof E.hoverinfo=="string"){var L=E.hoverinfo.split("+");for(W=0;W<L.length;W++)L[W]==="x"?L[W]="y":L[W]==="y"&&(L[W]="x");E.hoverinfo=L.join("+")}},h.coerceTraceIndices=function(E,W){if(g(W))return[W];if(!Array.isArray(W)||!W.length)return E.data.map(function(L,me){return me});if(Array.isArray(W)){for(var X=[],ie=0;ie<W.length;ie++)b.isIndex(W[ie],E.data.length)?X.push(W[ie]):b.warn("trace index (",W[ie],") is not a number or is out of bounds");return X}return W},h.manageArrayContainers=function(E,W,X){var ie=E.obj,L=E.parts,me=L.length,ae=L[me-1],q=g(ae);if(q&&W===null){var de=L.slice(0,me-1).join("."),ee=b.nestedProperty(ie,de).get();ee.splice(ae,1)}else q&&E.get()===void 0&&E.get()===void 0&&(X[E.astr]=null),E.set(W)};var U=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function F(E){var W=E.search(U);if(W>0)return E.substr(0,W)}h.hasParent=function(E,W){for(var X=F(W);X;){if(X in E)return!0;X=F(X)}return!1};var B=["x","y","z"];h.clearAxisTypes=function(E,W,X){for(var ie=0;ie<W.length;ie++)for(var L=E._fullData[ie],me=0;me<3;me++){var ae=C(E,L,B[me]);if(ae&&ae.type!=="log"){var q=ae._name,de=ae._id.substr(1);if(de.substr(0,5)==="scene"){if(X[de]!==void 0)continue;q=de+"."+q}var ee=q+".type";X[q]===void 0&&X[ee]===void 0&&b.nestedProperty(E.layout,ee).set(null)}}}},641:function(d,h,c){var g=c(2391);h._doPlot=g._doPlot,h.newPlot=g.newPlot,h.restyle=g.restyle,h.relayout=g.relayout,h.redraw=g.redraw,h.update=g.update,h._guiRestyle=g._guiRestyle,h._guiRelayout=g._guiRelayout,h._guiUpdate=g._guiUpdate,h._storeDirectGUIEdit=g._storeDirectGUIEdit,h.react=g.react,h.extendTraces=g.extendTraces,h.prependTraces=g.prependTraces,h.addTraces=g.addTraces,h.deleteTraces=g.deleteTraces,h.moveTraces=g.moveTraces,h.purge=g.purge,h.addFrames=g.addFrames,h.deleteFrames=g.deleteFrames,h.animate=g.animate,h.setPlotConfig=g.setPlotConfig;var v=c(4401).getGraphDiv,y=c(4031).eraseActiveShape;h.deleteActiveShape=function(O){return y(v(O))},h.toImage=c(403),h.validate=c(4936),h.downloadImage=c(7239);var b=c(6318);h.makeTemplate=b.makeTemplate,h.validateTemplate=b.validateTemplate},6611:function(d,h,c){var g=c(1965),v=c(4213),y=c(7769),b=c(5888).sorterAsc,O=c(3972);h.containerArrayMatch=c(4458);var T=h.isAddVal=function(C){return C==="add"||g(C)},k=h.isRemoveVal=function(C){return C===null||C==="remove"};h.applyContainerArrayChanges=function(C,_,M,I,V){var N=_.astr,Q=O.getComponentMethod(N,"supplyLayoutDefaults"),z=O.getComponentMethod(N,"draw"),U=O.getComponentMethod(N,"drawOne"),F=I.replot||I.recalc||Q===v||z===v,B=C.layout,E=C._fullLayout;if(M[""]){Object.keys(M).length>1&&y.warn("Full array edits are incompatible with other edits",N);var W=M[""][""];if(k(W))_.set(null);else if(Array.isArray(W))_.set(W);else return y.warn("Unrecognized full array edit value",N,W),!0;return F?!1:(Q(B,E),z(C),!0)}var X=Object.keys(M).map(Number).sort(b),ie=_.get(),L=ie||[],me=V(E,N).get(),ae=[],q=-1,de=L.length,ee,xe,we,Be,pe,ne,le,Y;for(ee=0;ee<X.length;ee++){if(we=X[ee],Be=M[we],pe=Object.keys(Be),ne=Be[""],le=T(ne),we<0||we>L.length-(le?0:1)){y.warn("index out of range",N,we);continue}if(ne!==void 0)pe.length>1&&y.warn("Insertion & removal are incompatible with edits to the same index.",N,we),k(ne)?ae.push(we):le?(ne==="add"&&(ne={}),L.splice(we,0,ne),me&&me.splice(we,0,{})):y.warn("Unrecognized full object edit value",N,we,ne),q===-1&&(q=we);else for(xe=0;xe<pe.length;xe++)Y=N+"["+we+"].",V(L[we],pe[xe],Y).set(Be[pe[xe]])}for(ee=ae.length-1;ee>=0;ee--)L.splice(ae[ee],1),me&&me.splice(ae[ee],1);if(L.length?ie||_.set(L):_.set(null),F)return!1;if(Q(B,E),U!==v){var ve;if(q===-1)ve=X;else{for(de=Math.max(L.length,de),ve=[],ee=0;ee<X.length&&(we=X[ee],!(we>=q));ee++)ve.push(we);for(ee=q;ee<de;ee++)ve.push(ee)}for(ee=0;ee<ve.length;ee++)U(C,ve[ee])}else z(C);return!0}},2391:function(d,h,c){var g=c(9898),v=c(2770),y=c(7035),b=c(1828),O=b.nestedProperty,T=c(1086),k=c(847),w=c(3972),C=c(6281),_=c(4875),M=c(9298),I=c(3608),V=c(3838),N=c(1424),Q=c(7901),z=c(4305).initInteractions,U=c(7922),F=c(7322).clearOutline,B=c(2075).dfltConfig,E=c(6611),W=c(8377),X=c(1549),ie=c(962),L=c(5555).AX_NAME_PATTERN,me=0,ae=5;function q(He,it,dt,mt){var Ct;if(He=b.getGraphDiv(He),T.init(He),b.isPlainObject(it)){var Pt=it;it=Pt.data,dt=Pt.layout,mt=Pt.config,Ct=Pt.frames}var dn=T.triggerHandler(He,"plotly_beforeplot",[it,dt,mt]);if(dn===!1)return Promise.reject();!it&&!dt&&!b.isPlotDiv(He)&&b.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",He);function rn(){if(Ct)return h.addFrames(He,Ct)}Be(He,mt),dt||(dt={}),g.select(He).classed("js-plotly-plot",!0),N.makeTester(),Array.isArray(He._promises)||(He._promises=[]);var Wt=(He.data||[]).length===0&&Array.isArray(it);Array.isArray(it)&&(W.cleanData(it),Wt?He.data=it:He.data.push.apply(He.data,it),He.empty=!1),(!He.layout||Wt)&&(He.layout=W.cleanLayout(dt)),_.supplyDefaults(He);var Rt=He._fullLayout,fn=Rt._has("cartesian");Rt._replotting=!0,(Wt||Rt._shouldCreateBgLayer)&&(Dt(He),Rt._shouldCreateBgLayer&&delete Rt._shouldCreateBgLayer),N.initGradients(He),N.initPatterns(He),Wt&&M.saveShowSpikeInitial(He);var Hn=!He.calcdata||He.calcdata.length!==(He._fullData||[]).length;Hn&&_.doCalcdata(He);for(var nr=0;nr<He.calcdata.length;nr++)He.calcdata[nr][0].trace=He._fullData[nr];He._context.responsive?He._responsiveChartHandler||(He._responsiveChartHandler=function(){b.isHidden(He)||_.resize(He)},window.addEventListener("resize",He._responsiveChartHandler)):b.clearResponsive(He);var Er=b.extendFlat({},Rt._size),zt=0;function vr(){for(var sr=Rt._basePlotModules,wr=0;wr<sr.length;wr++)sr[wr].drawFramework&&sr[wr].drawFramework(He);!Rt._glcanvas&&Rt._has("gl")&&(Rt._glcanvas=Rt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Fe){return Fe.key}),Rt._glcanvas.enter().append("canvas").attr("class",function(Fe){return"gl-canvas gl-canvas-"+Fe.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var ao=He._context.plotGlPixelRatio;if(Rt._glcanvas){Rt._glcanvas.attr("width",Rt.width*ao).attr("height",Rt.height*ao).style("width",Rt.width+"px").style("height",Rt.height+"px");var xo=Rt._glcanvas.data()[0].regl;if(xo&&(Math.floor(Rt.width*ao)!==xo._gl.drawingBufferWidth||Math.floor(Rt.height*ao)!==xo._gl.drawingBufferHeight)){var Cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(zt)b.error(Cr);else return b.log(Cr+" Clearing graph and plotting again."),_.cleanPlot([],{},He._fullData,Rt),_.supplyDefaults(He),Rt=He._fullLayout,_.doCalcdata(He),zt++,vr()}}return Rt.modebar.orientation==="h"?Rt._modebardiv.style("height",null).style("width","100%"):Rt._modebardiv.style("width",null).style("height",Rt.height+"px"),_.previousPromises(He)}function Wn(){if(_.clearAutoMarginIds(He),X.drawMarginPushers(He),M.allowAutoMargin(He),He._fullLayout.title.text&&He._fullLayout.title.automargin&&_.allowAutoMargin(He,"title.automargin"),Rt._has("pie"))for(var sr=He._fullData,wr=0;wr<sr.length;wr++){var ao=sr[wr];ao.type==="pie"&&ao.automargin&&_.allowAutoMargin(He,"pie."+ao.uid+".automargin")}return _.doAutoMargin(He),_.previousPromises(He)}function Br(){if(_.didMarginChange(Er,Rt._size))return b.syncOrAsync([Wn,X.layoutStyles],He)}function kr(){if(!Hn){or();return}return b.syncOrAsync([w.getComponentMethod("shapes","calcAutorange"),w.getComponentMethod("annotations","calcAutorange"),or],He)}function or(){He._transitioning||(X.doAutoRangeAndConstraints(He),Wt&&M.saveRangeInitial(He),w.getComponentMethod("rangeslider","calcAutorange")(He))}function jr(){return M.draw(He,Wt?"":"redraw")}var _r=[_.previousPromises,rn,vr,Wn,Br];fn&&_r.push(kr),_r.push(X.layoutStyles),fn&&_r.push(jr,function(wr){wr._fullLayout._insideTickLabelsAutorange&&Ze(wr,wr._fullLayout._insideTickLabelsAutorange).then(function(){wr._fullLayout._insideTickLabelsAutorange=void 0})}),_r.push(X.drawData,X.finalDraw,z,_.addLinks,_.rehover,_.redrag,_.reselect,_.doAutoMargin,Rn,_.previousPromises);function Rn(sr){sr._fullLayout._insideTickLabelsAutorange&&Wt&&M.saveRangeInitial(sr,!0)}var Sr=b.syncOrAsync(_r,He);return(!Sr||!Sr.then)&&(Sr=Promise.resolve()),Sr.then(function(){return de(He),He})}function de(He){var it=He._fullLayout;it._redrawFromAutoMarginCount?it._redrawFromAutoMarginCount--:He.emit("plotly_afterplot")}function ee(He){return b.extendFlat(B,He)}function xe(He,it){try{He._fullLayout._paper.style("background",it)}catch(dt){b.error(dt)}}function we(He,it){var dt=Q.combine(it,"white");xe(He,dt)}function Be(He,it){if(!He._context){He._context=b.extendDeep({},B);var dt=g.select("base");He._context._baseUrl=dt.size()&&dt.attr("href")?window.location.href.split("#")[0]:""}var mt=He._context,Ct,Pt,dn;if(it){for(Pt=Object.keys(it),Ct=0;Ct<Pt.length;Ct++)dn=Pt[Ct],!(dn==="editable"||dn==="edits")&&dn in mt&&(dn==="setBackground"&&it[dn]==="opaque"?mt[dn]=we:mt[dn]=it[dn]);it.plot3dPixelRatio&&!mt.plotGlPixelRatio&&(mt.plotGlPixelRatio=mt.plot3dPixelRatio);var rn=it.editable;if(rn!==void 0)for(mt.editable=rn,Pt=Object.keys(mt.edits),Ct=0;Ct<Pt.length;Ct++)mt.edits[Pt[Ct]]=rn;if(it.edits)for(Pt=Object.keys(it.edits),Ct=0;Ct<Pt.length;Ct++)dn=Pt[Ct],dn in mt.edits&&(mt.edits[dn]=it.edits[dn]);mt._exportedPlot=it._exportedPlot}mt.staticPlot&&(mt.editable=!1,mt.edits={},mt.autosizable=!1,mt.scrollZoom=!1,mt.doubleClick=!1,mt.showTips=!1,mt.showLink=!1,mt.displayModeBar=!1),mt.displayModeBar==="hover"&&!y&&(mt.displayModeBar=!0),(mt.setBackground==="transparent"||typeof mt.setBackground!="function")&&(mt.setBackground=xe),mt._hasZeroHeight=mt._hasZeroHeight||He.clientHeight===0,mt._hasZeroWidth=mt._hasZeroWidth||He.clientWidth===0;var Wt=mt.scrollZoom,Rt=mt._scrollZoom={};if(Wt===!0)Rt.cartesian=1,Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1;else if(typeof Wt=="string"){var fn=Wt.split("+");for(Ct=0;Ct<fn.length;Ct++)Rt[fn[Ct]]=1}else Wt!==!1&&(Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1)}function pe(He){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He);return W.cleanData(He.data),W.cleanLayout(He.layout),He.calcdata=void 0,h._doPlot(He).then(function(){return He.emit("plotly_redraw"),He})}function ne(He,it,dt,mt){return He=b.getGraphDiv(He),_.cleanPlot([],{},He._fullData||[],He._fullLayout||{}),_.purge(He),h._doPlot(He,it,dt,mt)}function le(He,it){var dt=it+1,mt=[],Ct,Pt;for(Ct=0;Ct<He.length;Ct++)Pt=He[Ct],Pt<0?mt.push(dt+Pt):mt.push(Pt);return mt}function Y(He,it,dt){var mt,Ct;for(mt=0;mt<it.length;mt++){if(Ct=it[mt],Ct!==parseInt(Ct,10))throw new Error("all values in "+dt+" must be integers");if(Ct>=He.data.length||Ct<-He.data.length)throw new Error(dt+" must be valid indices for gd.data.");if(it.indexOf(Ct,mt+1)>-1||Ct>=0&&it.indexOf(-He.data.length+Ct)>-1||Ct<0&&it.indexOf(He.data.length+Ct)>-1)throw new Error("each index in "+dt+" must be unique.")}}function ve(He,it,dt){if(!Array.isArray(He.data))throw new Error("gd.data must be an array.");if(typeof it>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(it)||(it=[it]),Y(He,it,"currentIndices"),typeof dt<"u"&&!Array.isArray(dt)&&(dt=[dt]),typeof dt<"u"&&Y(He,dt,"newIndices"),typeof dt<"u"&&it.length!==dt.length)throw new Error("current and new indices must be of equal length.")}function Oe(He,it,dt){var mt,Ct;if(!Array.isArray(He.data))throw new Error("gd.data must be an array.");if(typeof it>"u")throw new Error("traces must be defined.");for(Array.isArray(it)||(it=[it]),mt=0;mt<it.length;mt++)if(Ct=it[mt],typeof Ct!="object"||Array.isArray(Ct)||Ct===null)throw new Error("all values in traces array must be non-array objects");if(typeof dt<"u"&&!Array.isArray(dt)&&(dt=[dt]),typeof dt<"u"&&dt.length!==it.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Le(He,it,dt,mt){var Ct=b.isPlainObject(mt);if(!Array.isArray(He.data))throw new Error("gd.data must be an array");if(!b.isPlainObject(it))throw new Error("update must be a key:value object");if(typeof dt>"u")throw new Error("indices must be an integer or array of integers");Y(He,dt,"indices");for(var Pt in it){if(!Array.isArray(it[Pt])||it[Pt].length!==dt.length)throw new Error("attribute "+Pt+" must be an array of length equal to indices array length");if(Ct&&(!(Pt in mt)||!Array.isArray(mt[Pt])||mt[Pt].length!==it[Pt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function Te(He,it,dt,mt){var Ct=b.isPlainObject(mt),Pt=[],dn,rn,Wt,Rt,fn;Array.isArray(dt)||(dt=[dt]),dt=le(dt,He.data.length-1);for(var Hn in it)for(var nr=0;nr<dt.length;nr++){if(dn=He.data[dt[nr]],Wt=O(dn,Hn),rn=Wt.get(),Rt=it[Hn][nr],!b.isArrayOrTypedArray(Rt))throw new Error("attribute: "+Hn+" index: "+nr+" must be an array");if(!b.isArrayOrTypedArray(rn))throw new Error("cannot extend missing or non-array attribute: "+Hn);if(rn.constructor!==Rt.constructor)throw new Error("cannot extend array with an array of a different type: "+Hn);fn=Ct?mt[Hn][nr]:mt,v(fn)||(fn=-1),Pt.push({prop:Wt,target:rn,insert:Rt,maxp:Math.floor(fn)})}return Pt}function De(He,it,dt,mt,Ct){Le(He,it,dt,mt);for(var Pt=Te(He,it,dt,mt),dn={},rn={},Wt=0;Wt<Pt.length;Wt++){var Rt=Pt[Wt].prop,fn=Pt[Wt].maxp,Hn=Ct(Pt[Wt].target,Pt[Wt].insert,fn);Rt.set(Hn[0]),Array.isArray(dn[Rt.astr])||(dn[Rt.astr]=[]),dn[Rt.astr].push(Hn[1]),Array.isArray(rn[Rt.astr])||(rn[Rt.astr]=[]),rn[Rt.astr].push(Pt[Wt].target.length)}return{update:dn,maxPoints:rn}}function Ve(He,it){var dt=new He.constructor(He.length+it.length);return dt.set(He),dt.set(it,He.length),dt}function _e(He,it,dt,mt){He=b.getGraphDiv(He);function Ct(Wt,Rt,fn){var Hn,nr;if(b.isTypedArray(Wt))if(fn<0){var Er=new Wt.constructor(0),zt=Ve(Wt,Rt);fn<0?(Hn=zt,nr=Er):(Hn=Er,nr=zt)}else if(Hn=new Wt.constructor(fn),nr=new Wt.constructor(Wt.length+Rt.length-fn),fn===Rt.length)Hn.set(Rt),nr.set(Wt);else if(fn<Rt.length){var vr=Rt.length-fn;Hn.set(Rt.subarray(vr)),nr.set(Wt),nr.set(Rt.subarray(0,vr),Wt.length)}else{var Wn=fn-Rt.length,Br=Wt.length-Wn;Hn.set(Wt.subarray(Br)),Hn.set(Rt,Wn),nr.set(Wt.subarray(0,Br))}else Hn=Wt.concat(Rt),nr=fn>=0&&fn<Hn.length?Hn.splice(0,Hn.length-fn):[];return[Hn,nr]}var Pt=De(He,it,dt,mt,Ct),dn=h.redraw(He),rn=[He,Pt.update,dt,Pt.maxPoints];return k.add(He,h.prependTraces,rn,_e,arguments),dn}function Ie(He,it,dt,mt){He=b.getGraphDiv(He);function Ct(Wt,Rt,fn){var Hn,nr;if(b.isTypedArray(Wt))if(fn<=0){var Er=new Wt.constructor(0),zt=Ve(Rt,Wt);fn<0?(Hn=zt,nr=Er):(Hn=Er,nr=zt)}else if(Hn=new Wt.constructor(fn),nr=new Wt.constructor(Wt.length+Rt.length-fn),fn===Rt.length)Hn.set(Rt),nr.set(Wt);else if(fn<Rt.length){var vr=Rt.length-fn;Hn.set(Rt.subarray(0,vr)),nr.set(Rt.subarray(vr)),nr.set(Wt,vr)}else{var Wn=fn-Rt.length;Hn.set(Rt),Hn.set(Wt.subarray(0,Wn),Rt.length),nr.set(Wt.subarray(Wn))}else Hn=Rt.concat(Wt),nr=fn>=0&&fn<Hn.length?Hn.splice(fn,Hn.length):[];return[Hn,nr]}var Pt=De(He,it,dt,mt,Ct),dn=h.redraw(He),rn=[He,Pt.update,dt,Pt.maxPoints];return k.add(He,h.extendTraces,rn,Ie,arguments),dn}function re(He,it,dt){He=b.getGraphDiv(He);var mt=[],Ct=h.deleteTraces,Pt=re,dn=[He,mt],rn=[He,it],Wt,Rt;for(Oe(He,it,dt),Array.isArray(it)||(it=[it]),it=it.map(function(fn){return b.extendFlat({},fn)}),W.cleanData(it),Wt=0;Wt<it.length;Wt++)He.data.push(it[Wt]);for(Wt=0;Wt<it.length;Wt++)mt.push(-it.length+Wt);if(typeof dt>"u")return Rt=h.redraw(He),k.add(He,Ct,dn,Pt,rn),Rt;Array.isArray(dt)||(dt=[dt]);try{ve(He,mt,dt)}catch(fn){throw He.data.splice(He.data.length-it.length,it.length),fn}return k.startSequence(He),k.add(He,Ct,dn,Pt,rn),Rt=h.moveTraces(He,mt,dt),k.stopSequence(He),Rt}function be(He,it){He=b.getGraphDiv(He);var dt=[],mt=h.addTraces,Ct=be,Pt=[He,dt,it],dn=[He,it],rn,Wt;if(typeof it>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(it)||(it=[it]),Y(He,it,"indices"),it=le(it,He.data.length-1),it.sort(b.sorterDes),rn=0;rn<it.length;rn+=1)Wt=He.data.splice(it[rn],1)[0],dt.push(Wt);var Rt=h.redraw(He);return k.add(He,mt,Pt,Ct,dn),Rt}function te(He,it,dt){He=b.getGraphDiv(He);var mt=[],Ct=[],Pt=te,dn=te,rn=[He,dt,it],Wt=[He,it,dt],Rt;if(ve(He,it,dt),it=Array.isArray(it)?it:[it],typeof dt>"u")for(dt=[],Rt=0;Rt<it.length;Rt++)dt.push(-it.length+Rt);for(dt=Array.isArray(dt)?dt:[dt],it=le(it,He.data.length-1),dt=le(dt,He.data.length-1),Rt=0;Rt<He.data.length;Rt++)it.indexOf(Rt)===-1&&mt.push(He.data[Rt]);for(Rt=0;Rt<it.length;Rt++)Ct.push({newIndex:dt[Rt],trace:He.data[it[Rt]]});for(Ct.sort(function(Hn,nr){return Hn.newIndex-nr.newIndex}),Rt=0;Rt<Ct.length;Rt+=1)mt.splice(Ct[Rt].newIndex,0,Ct[Rt].trace);He.data=mt;var fn=h.redraw(He);return k.add(He,Pt,rn,dn,Wt),fn}function se(He,it,dt,mt){He=b.getGraphDiv(He),W.clearPromiseQueue(He);var Ct={};if(typeof it=="string")Ct[it]=dt;else if(b.isPlainObject(it))Ct=b.extendFlat({},it),mt===void 0&&(mt=dt);else return b.warn("Restyle fail.",it,dt,mt),Promise.reject();Object.keys(Ct).length&&(He.changed=!0);var Pt=W.coerceTraceIndices(He,mt),dn=ke(He,Ct,Pt),rn=dn.flags;rn.calc&&(He.calcdata=void 0),rn.clearAxisTypes&&W.clearAxisTypes(He,Pt,{});var Wt=[];rn.fullReplot?Wt.push(h._doPlot):(Wt.push(_.previousPromises),_.supplyDefaults(He),rn.markerSize&&(_.doCalcdata(He),ct(Wt)),rn.style&&Wt.push(X.doTraceStyle),rn.colorbars&&Wt.push(X.doColorBars),Wt.push(de)),Wt.push(_.rehover,_.redrag,_.reselect),k.add(He,se,[He,dn.undoit,dn.traces],se,[He,dn.redoit,dn.traces]);var Rt=b.syncOrAsync(Wt,He);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return He.emit("plotly_restyle",dn.eventData),He})}function fe(He){return He===void 0?null:He}function oe(He,it){return it?function(dt,mt,Ct){var Pt=O(dt,mt),dn=Pt.set;return Pt.set=function(rn){var Wt=(Ct||"")+mt;Se(Wt,Pt.get(),rn,He),dn(rn)},Pt}:O}function Se(He,it,dt,mt){if(Array.isArray(it)||Array.isArray(dt))for(var Ct=Array.isArray(it)?it:[],Pt=Array.isArray(dt)?dt:[],dn=Math.max(Ct.length,Pt.length),rn=0;rn<dn;rn++)Se(He+"["+rn+"]",Ct[rn],Pt[rn],mt);else if(b.isPlainObject(it)||b.isPlainObject(dt)){var Wt=b.isPlainObject(it)?it:{},Rt=b.isPlainObject(dt)?dt:{},fn=b.extendFlat({},Wt,Rt);for(var Hn in fn)Se(He+"."+Hn,Wt[Hn],Rt[Hn],mt)}else mt[He]===void 0&&(mt[He]=fe(it))}function ce(He,it,dt){for(var mt in dt){var Ct=O(He,mt);Se(mt,Ct.get(),dt[mt],it)}}function ke(He,it,dt){var mt=He._fullLayout,Ct=He._fullData,Pt=He.data,dn=mt._guiEditing,rn=oe(mt._preGUI,dn),Wt=b.extendDeepAll({},it),Rt;Qe(it);var fn=ie.traceFlags(),Hn={},nr={},Er;function zt(){return dt.map(function(){})}function vr(dr){var Ur=M.id2name(dr);Er.indexOf(Ur)===-1&&Er.push(Ur)}function Wn(dr){return"LAYOUT"+dr+".autorange"}function Br(dr){return"LAYOUT"+dr+".range"}function kr(dr){for(var Ur=dr;Ur<Ct.length;Ur++)if(Ct[Ur]._input===Pt[dr])return Ct[Ur]}function or(dr,Ur,ar){if(Array.isArray(dr)){dr.forEach(function(Ao){or(Ao,Ur,ar)});return}if(!(dr in it||W.hasParent(it,dr))){var ur;if(dr.substr(0,6)==="LAYOUT")ur=rn(He.layout,dr.replace("LAYOUT",""));else{var qr=dt[ar],to=mt._tracePreGUI[kr(qr)._fullInput.uid];ur=oe(to,dn)(Pt[qr],dr)}dr in nr||(nr[dr]=zt()),nr[dr][ar]===void 0&&(nr[dr][ar]=fe(ur.get())),Ur!==void 0&&ur.set(Ur)}}function jr(dr){return function(Ur){return Ct[Ur][dr]}}function _r(dr){return function(Ur,ar){return Ur===!1?Ct[dt[ar]][dr]:null}}for(var Rn in it){if(W.hasParent(it,Rn))throw new Error("cannot set "+Rn+" and a parent attribute simultaneously");var Sr=it[Rn],sr,wr,ao,xo,Cr,Fe;if((Rn==="autobinx"||Rn==="autobiny")&&(Rn=Rn.charAt(Rn.length-1)+"bins",Array.isArray(Sr)?Sr=Sr.map(_r(Rn)):Sr===!1?Sr=dt.map(jr(Rn)):Sr=null),Hn[Rn]=Sr,Rn.substr(0,6)==="LAYOUT"){ao=rn(He.layout,Rn.replace("LAYOUT","")),nr[Rn]=[fe(ao.get())],ao.set(Array.isArray(Sr)?Sr[0]:Sr),fn.calc=!0;continue}for(nr[Rn]=zt(),Rt=0;Rt<dt.length;Rt++){sr=Pt[dt[Rt]],wr=kr(dt[Rt]);var Ee=mt._tracePreGUI[wr._fullInput.uid];if(ao=oe(Ee,dn)(sr,Rn),xo=ao.get(),Cr=Array.isArray(Sr)?Sr[Rt%Sr.length]:Sr,Cr!==void 0){var St=ao.parts[ao.parts.length-1],Tt=Rn.substr(0,Rn.length-St.length-1),Lt=Tt?Tt+".":"",Ft=Tt?O(wr,Tt).get():wr;if(Fe=C.getTraceValObject(wr,ao.parts),Fe&&Fe.impliedEdits&&Cr!==null)for(var Ht in Fe.impliedEdits)or(b.relativeAttr(Rn,Ht),Fe.impliedEdits[Ht],Rt);else if((St==="thicknessmode"||St==="lenmode")&&xo!==Cr&&(Cr==="fraction"||Cr==="pixels")&&Ft){var $t=mt._size,Mt=Ft.orient,tn=Mt==="top"||Mt==="bottom";if(St==="thicknessmode"){var un=tn?$t.h:$t.w;or(Lt+"thickness",Ft.thickness*(Cr==="fraction"?1/un:un),Rt)}else{var en=tn?$t.w:$t.h;or(Lt+"len",Ft.len*(Cr==="fraction"?1/en:en),Rt)}}else if(Rn==="type"&&(Cr==="pie"!=(xo==="pie")||Cr==="funnelarea"!=(xo==="funnelarea"))){var on="x",Cn="y";(Cr==="bar"||xo==="bar")&&sr.orientation==="h"&&(on="y",Cn="x"),b.swapAttrs(sr,["?","?src"],"labels",on),b.swapAttrs(sr,["d?","?0"],"label",on),b.swapAttrs(sr,["?","?src"],"values",Cn),xo==="pie"||xo==="funnelarea"?(O(sr,"marker.color").set(O(sr,"marker.colors").get()),mt._pielayer.selectAll("g.trace").remove()):w.traceIs(sr,"cartesian")&&O(sr,"marker.colors").set(O(sr,"marker.color").get())}nr[Rn][Rt]=fe(xo);var On=["swapxy","swapxyaxes","orientation","orientationaxes"];if(On.indexOf(Rn)!==-1){if(Rn==="orientation"){ao.set(Cr);var pn=sr.x&&!sr.y?"h":"v";if((ao.get()||pn)===wr.orientation)continue}else Rn==="orientationaxes"&&(sr.orientation={v:"h",h:"v"}[wr.orientation]);W.swapXYData(sr),fn.calc=fn.clearAxisTypes=!0}else _.dataArrayContainers.indexOf(ao.parts[0])!==-1?(W.manageArrayContainers(ao,Cr,nr),fn.calc=!0):(Fe?Fe.arrayOk&&!w.traceIs(wr,"regl")&&(b.isArrayOrTypedArray(Cr)||b.isArrayOrTypedArray(xo))?fn.calc=!0:ie.update(fn,Fe):fn.calc=!0,ao.set(Cr))}}if(["swapxyaxes","orientationaxes"].indexOf(Rn)!==-1&&M.swap(He,dt),Rn==="orientationaxes"){var Jn=O(He.layout,"hovermode"),Fn=Jn.get();Fn==="x"?Jn.set("y"):Fn==="y"?Jn.set("x"):Fn==="x unified"?Jn.set("y unified"):Fn==="y unified"&&Jn.set("x unified")}if(["orientation","type"].indexOf(Rn)!==-1){for(Er=[],Rt=0;Rt<dt.length;Rt++){var Zr=Pt[dt[Rt]];w.traceIs(Zr,"cartesian")&&(vr(Zr.xaxis||"x"),vr(Zr.yaxis||"y"))}or(Er.map(Wn),!0,0),or(Er.map(Br),[0,1],0)}}return(fn.calc||fn.plot)&&(fn.fullReplot=!0),{flags:fn,undoit:nr,redoit:Hn,traces:dt,eventData:b.extendDeepNoArrays([],[Wt,dt])}}function Qe(He){var it=b.counterRegex("axis",".title",!1,!1),dt=/colorbar\.title$/,mt=Object.keys(He),Ct,Pt,dn;for(Ct=0;Ct<mt.length;Ct++)Pt=mt[Ct],dn=He[Pt],(Pt==="title"||it.test(Pt)||dt.test(Pt))&&(typeof dn=="string"||typeof dn=="number")?rn(Pt,Pt.replace("title","title.text")):Pt.indexOf("titlefont")>-1&&Pt.indexOf("grouptitlefont")===-1?rn(Pt,Pt.replace("titlefont","title.font")):Pt.indexOf("titleposition")>-1?rn(Pt,Pt.replace("titleposition","title.position")):Pt.indexOf("titleside")>-1?rn(Pt,Pt.replace("titleside","title.side")):Pt.indexOf("titleoffset")>-1&&rn(Pt,Pt.replace("titleoffset","title.offset"));function rn(Wt,Rt){He[Rt]=He[Wt],delete He[Wt]}}function Ze(He,it,dt){He=b.getGraphDiv(He),W.clearPromiseQueue(He);var mt={};if(typeof it=="string")mt[it]=dt;else if(b.isPlainObject(it))mt=b.extendFlat({},it);else return b.warn("Relayout fail.",it,dt),Promise.reject();Object.keys(mt).length&&(He.changed=!0);var Ct=et(He,mt),Pt=Ct.flags;Pt.calc&&(He.calcdata=void 0);var dn=[_.previousPromises];Pt.layoutReplot?dn.push(X.layoutReplot):Object.keys(mt).length&&(Xe(He,Pt,Ct)||_.supplyDefaults(He),Pt.legend&&dn.push(X.doLegend),Pt.layoutstyle&&dn.push(X.layoutStyles),Pt.axrange&&ct(dn,Ct.rangesAltered),Pt.ticks&&dn.push(X.doTicksRelayout),Pt.modebar&&dn.push(X.doModeBar),Pt.camera&&dn.push(X.doCamera),Pt.colorbars&&dn.push(X.doColorBars),dn.push(de)),dn.push(_.rehover,_.redrag,_.reselect),k.add(He,Ze,[He,Ct.undoit],Ze,[He,Ct.redoit]);var rn=b.syncOrAsync(dn,He);return(!rn||!rn.then)&&(rn=Promise.resolve(He)),rn.then(function(){return He.emit("plotly_relayout",Ct.eventData),He})}function Xe(He,it,dt){var mt=He._fullLayout;if(!it.axrange)return!1;for(var Ct in it)if(Ct!=="axrange"&&it[Ct])return!1;var Pt,dn,rn=function(Er,zt){return b.coerce(Pt,dn,V,Er,zt)},Wt={};for(var Rt in dt.rangesAltered){var fn=M.id2name(Rt);if(Pt=He.layout[fn],dn=mt[fn],I(Pt,dn,rn,Wt),dn._matchGroup){for(var Hn in dn._matchGroup)if(Hn!==Rt){var nr=mt[M.id2name(Hn)];nr.autorange=dn.autorange,nr.range=dn.range.slice(),nr._input.range=dn.range.slice()}}}return!0}function ct(He,it){var dt=it?function(mt){var Ct=[],Pt=!0;for(var dn in it){var rn=M.getFromId(mt,dn);if(Ct.push(dn),(rn.ticklabelposition||"").indexOf("inside")!==-1&&rn._anchorAxis&&Ct.push(rn._anchorAxis._id),rn._matchGroup)for(var Wt in rn._matchGroup)it[Wt]||Ct.push(Wt)}return M.draw(mt,Ct,{skipTitle:Pt})}:function(mt){return M.draw(mt,"redraw")};He.push(F,X.doAutoRangeAndConstraints,dt,X.drawData,X.finalDraw)}var pt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ye=/^[xyz]axis[0-9]*\.autorange$/,je=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function et(He,it){var dt=He.layout,mt=He._fullLayout,Ct=mt._guiEditing,Pt=oe(mt._preGUI,Ct),dn=Object.keys(it),rn=M.list(He),Wt=b.extendDeepAll({},it),Rt={},fn,Hn,nr;for(Qe(it),dn=Object.keys(it),Hn=0;Hn<dn.length;Hn++)if(dn[Hn].indexOf("allaxes")===0){for(nr=0;nr<rn.length;nr++){var Er=rn[nr]._id.substr(1),zt=Er.indexOf("scene")!==-1?Er+".":"",vr=dn[Hn].replace("allaxes",zt+rn[nr]._name);it[vr]||(it[vr]=it[dn[Hn]])}delete it[dn[Hn]]}var Wn=ie.layoutFlags(),Br={},kr={};function or(to,Ao){if(Array.isArray(to)){to.forEach(function(wo){or(wo,Ao)});return}if(!(to in it||W.hasParent(it,to))){var _s=Pt(dt,to);to in kr||(kr[to]=fe(_s.get())),Ao!==void 0&&_s.set(Ao)}}var jr={},_r;function Rn(to){var Ao=M.name2id(to.split(".")[0]);return jr[Ao]=1,Ao}for(var Sr in it){if(W.hasParent(it,Sr))throw new Error("cannot set "+Sr+" and a parent attribute simultaneously");for(var sr=Pt(dt,Sr),wr=it[Sr],ao=sr.parts.length,xo=ao-1;xo>0&&typeof sr.parts[xo]!="string";)xo--;var Cr=sr.parts[xo],Fe=sr.parts[xo-1]+"."+Cr,Ee=sr.parts.slice(0,xo).join("."),St=O(He.layout,Ee).get(),Tt=O(mt,Ee).get(),Lt=sr.get();if(wr!==void 0){Br[Sr]=wr,kr[Sr]=Cr==="reverse"?wr:fe(Lt);var Ft=C.getLayoutValObject(mt,sr.parts);if(Ft&&Ft.impliedEdits&&wr!==null)for(var Ht in Ft.impliedEdits)or(b.relativeAttr(Sr,Ht),Ft.impliedEdits[Ht]);if(["width","height"].indexOf(Sr)!==-1)if(wr){or("autosize",null);var $t=Sr==="height"?"width":"height";or($t,mt[$t])}else mt[Sr]=He._initialAutoSize[Sr];else if(Sr==="autosize")or("width",wr?null:mt.width),or("height",wr?null:mt.height);else if(Fe.match(pt))Rn(Fe),O(mt,Ee+"._inputRange").set(null);else if(Fe.match(Ye)){Rn(Fe),O(mt,Ee+"._inputRange").set(null);var Mt=O(mt,Ee).get();Mt._inputDomain&&(Mt._input.domain=Mt._inputDomain.slice())}else Fe.match(je)&&O(mt,Ee+"._inputDomain").set(null);if(Cr==="type"){_r=St;var tn=Tt.type==="linear"&&wr==="log",un=Tt.type==="log"&&wr==="linear";if(tn||un){if(!_r||!_r.range)or(Ee+".autorange",!0);else if(Tt.autorange)tn&&(_r.range=_r.range[1]>_r.range[0]?[1,2]:[2,1]);else{var en=_r.range[0],on=_r.range[1];tn?(en<=0&&on<=0&&or(Ee+".autorange",!0),en<=0?en=on/1e6:on<=0&&(on=en/1e6),or(Ee+".range[0]",Math.log(en)/Math.LN10),or(Ee+".range[1]",Math.log(on)/Math.LN10)):(or(Ee+".range[0]",Math.pow(10,en)),or(Ee+".range[1]",Math.pow(10,on)))}Array.isArray(mt._subplots.polar)&&mt._subplots.polar.length&&mt[sr.parts[0]]&&sr.parts[1]==="radialaxis"&&delete mt[sr.parts[0]]._subplot.viewInitial["radialaxis.range"],w.getComponentMethod("annotations","convertCoords")(He,Tt,wr,or),w.getComponentMethod("images","convertCoords")(He,Tt,wr,or)}else or(Ee+".autorange",!0),or(Ee+".range",null);O(mt,Ee+"._inputRange").set(null)}else if(Cr.match(L)){var Cn=O(mt,Sr).get(),On=(wr||{}).type;(!On||On==="-")&&(On="linear"),w.getComponentMethod("annotations","convertCoords")(He,Cn,On,or),w.getComponentMethod("images","convertCoords")(He,Cn,On,or)}var pn=E.containerArrayMatch(Sr);if(pn){fn=pn.array,Hn=pn.index;var Jn=pn.property,Fn=Ft||{editType:"calc"};Hn!==""&&Jn===""&&(E.isAddVal(wr)?kr[Sr]=null:E.isRemoveVal(wr)?kr[Sr]=(O(dt,fn).get()||[])[Hn]:b.warn("unrecognized full object value",it)),ie.update(Wn,Fn),Rt[fn]||(Rt[fn]={});var Zr=Rt[fn][Hn];Zr||(Zr=Rt[fn][Hn]={}),Zr[Jn]=wr,delete it[Sr]}else Cr==="reverse"?(St.range?St.range.reverse():(or(Ee+".autorange",!0),St.range=[1,0]),Tt.autorange?Wn.calc=!0:Wn.plot=!0):(Sr==="dragmode"&&(wr===!1&&Lt!==!1||wr!==!1&&Lt===!1)||mt._has("scatter-like")&&mt._has("regl")&&Sr==="dragmode"&&(wr==="lasso"||wr==="select")&&!(Lt==="lasso"||Lt==="select")||mt._has("gl2d")?Wn.plot=!0:Ft?ie.update(Wn,Ft):Wn.calc=!0,sr.set(wr))}}for(fn in Rt){var dr=E.applyContainerArrayChanges(He,Pt(dt,fn),Rt[fn],Wn,Pt);dr||(Wn.plot=!0)}for(var Ur in jr){_r=M.getFromId(He,Ur);var ar=_r&&_r._constraintGroup;if(ar){Wn.calc=!0;for(var ur in ar)jr[ur]||(M.getFromId(He,ur)._constraintShrinkable=!0)}}(yt(He)||it.height||it.width)&&(Wn.plot=!0);var qr=mt.shapes;for(Hn=0;Hn<qr.length;Hn++)if(qr[Hn].showlegend){Wn.calc=!0;break}return(Wn.plot||Wn.calc)&&(Wn.layoutReplot=!0),{flags:Wn,rangesAltered:jr,undoit:kr,redoit:Br,eventData:Wt}}function yt(He){var it=He._fullLayout,dt=it.width,mt=it.height;return He.layout.autosize&&_.plotAutoSize(He,He.layout,it),it.width!==dt||it.height!==mt}function ft(He,it,dt,mt){He=b.getGraphDiv(He),W.clearPromiseQueue(He),b.isPlainObject(it)||(it={}),b.isPlainObject(dt)||(dt={}),Object.keys(it).length&&(He.changed=!0),Object.keys(dt).length&&(He.changed=!0);var Ct=W.coerceTraceIndices(He,mt),Pt=ke(He,b.extendFlat({},it),Ct),dn=Pt.flags,rn=et(He,b.extendFlat({},dt)),Wt=rn.flags;(dn.calc||Wt.calc)&&(He.calcdata=void 0),dn.clearAxisTypes&&W.clearAxisTypes(He,Ct,dt);var Rt=[];Wt.layoutReplot?Rt.push(X.layoutReplot):dn.fullReplot?Rt.push(h._doPlot):(Rt.push(_.previousPromises),Xe(He,Wt,rn)||_.supplyDefaults(He),dn.style&&Rt.push(X.doTraceStyle),(dn.colorbars||Wt.colorbars)&&Rt.push(X.doColorBars),Wt.legend&&Rt.push(X.doLegend),Wt.layoutstyle&&Rt.push(X.layoutStyles),Wt.axrange&&ct(Rt,rn.rangesAltered),Wt.ticks&&Rt.push(X.doTicksRelayout),Wt.modebar&&Rt.push(X.doModeBar),Wt.camera&&Rt.push(X.doCamera),Rt.push(de)),Rt.push(_.rehover,_.redrag,_.reselect),k.add(He,ft,[He,Pt.undoit,rn.undoit,Pt.traces],ft,[He,Pt.redoit,rn.redoit,Pt.traces]);var fn=b.syncOrAsync(Rt,He);return(!fn||!fn.then)&&(fn=Promise.resolve(He)),fn.then(function(){return He.emit("plotly_update",{data:Pt.eventData,layout:rn.eventData}),He})}function tt(He){return function(dt){dt._fullLayout._guiEditing=!0;var mt=He.apply(null,arguments);return dt._fullLayout._guiEditing=!1,mt}}var wt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Xt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Gt(He,it){for(var dt=0;dt<it.length;dt++){var mt=it[dt],Ct=He.match(mt.pattern);if(Ct){var Pt=Ct[1]||"";return{head:Pt,tail:He.substr(Pt.length+1),attr:mt.attr}}}}function Nt(He,it){var dt=O(it,He).get();if(dt!==void 0)return dt;var mt=He.split(".");for(mt.pop();mt.length>1;)if(mt.pop(),dt=O(it,mt.join(".")+".uirevision").get(),dt!==void 0)return dt;return it.uirevision}function Bt(He,it){for(var dt=0;dt<it.length;dt++)if(it[dt]._fullInput.uid===He)return dt;return-1}function vn(He,it,dt){for(var mt=0;mt<it.length;mt++)if(it[mt].uid===He)return mt;return!it[dt]||it[dt].uid?-1:dt}function En(He,it){var dt=b.isPlainObject(He),mt=Array.isArray(He);return dt||mt?(dt&&b.isPlainObject(it)||mt&&Array.isArray(it))&&JSON.stringify(He)===JSON.stringify(it):He===it}function ln(He,it,dt,mt){var Ct=mt._preGUI,Pt,dn,rn,Wt,Rt,fn,Hn,nr,Er,zt,vr=[],Wn={},Br={};for(Pt in Ct){if(Rt=Gt(Pt,wt),Rt){if(Er=Rt.head,zt=Rt.tail,dn=Rt.attr||Er+".uirevision",rn=O(mt,dn).get(),Wt=rn&&Nt(dn,it),Wt&&Wt===rn){if(fn=Ct[Pt],fn===null&&(fn=void 0),Hn=O(it,Pt),nr=Hn.get(),En(nr,fn)){nr===void 0&&zt==="autorange"&&vr.push(Er),Hn.set(fe(O(mt,Pt).get()));continue}else if(zt==="autorange"||zt.substr(0,6)==="range["){var kr=Ct[Er+".range[0]"],or=Ct[Er+".range[1]"],jr=Ct[Er+".autorange"];if(jr||jr===null&&kr===null&&or===null){if(!(Er in Wn)){var _r=O(it,Er).get();Wn[Er]=_r&&(_r.autorange||_r.autorange!==!1&&(!_r.range||_r.range.length!==2))}if(Wn[Er]){Hn.set(fe(O(mt,Pt).get()));continue}}}}}else b.warn("unrecognized GUI edit: "+Pt);delete Ct[Pt],Rt&&Rt.tail.substr(0,6)==="range["&&(Br[Rt.head]=1)}for(var Rn=0;Rn<vr.length;Rn++){var Sr=vr[Rn];if(Br[Sr]){var sr=O(it,Sr).get();sr&&delete sr.autorange}}var wr=mt._tracePreGUI;for(var ao in wr){var xo=wr[ao],Cr=null,Fe;for(Pt in xo){if(!Cr){var Ee=Bt(ao,dt);if(Ee<0){delete wr[ao];break}var St=dt[Ee];Fe=St._fullInput;var Tt=vn(ao,He,Fe.index);if(Tt<0){delete wr[ao];break}Cr=He[Tt]}if(Rt=Gt(Pt,Xt),Rt){if(Rt.attr?(rn=O(mt,Rt.attr).get(),Wt=rn&&Nt(Rt.attr,it)):(rn=Fe.uirevision,Wt=Cr.uirevision,Wt===void 0&&(Wt=it.uirevision)),Wt&&Wt===rn&&(fn=xo[Pt],fn===null&&(fn=void 0),Hn=O(Cr,Pt),nr=Hn.get(),En(nr,fn))){Hn.set(fe(O(Fe,Pt).get()));continue}}else b.warn("unrecognized GUI edit: "+Pt+" in trace uid "+ao);delete xo[Pt]}}}function Yn(He,it,dt,mt){var Ct,Pt;function dn(){return h.addFrames(He,Ct)}He=b.getGraphDiv(He),W.clearPromiseQueue(He);var rn=He._fullData,Wt=He._fullLayout;if(!b.isPlotDiv(He)||!rn||!Wt)Pt=h.newPlot(He,it,dt,mt);else{if(b.isPlainObject(it)){var Rt=it;it=Rt.data,dt=Rt.layout,mt=Rt.config,Ct=Rt.frames}var fn=!1;if(mt){var Hn=b.extendDeep({},He._context);He._context=void 0,Be(He,mt),fn=Un(Hn,He._context)}He.data=it||[],W.cleanData(He.data),He.layout=dt||{},W.cleanLayout(He.layout),ln(He.data,He.layout,rn,Wt),_.supplyDefaults(He,{skipUpdateCalc:!0});var nr=He._fullData,Er=He._fullLayout,zt=Er.datarevision===void 0,vr=Er.transition,Wn=wn(He,Wt,Er,zt,vr),Br=Wn.newDataRevision,kr=an(He,rn,nr,zt,vr,Br);if(yt(He)&&(Wn.layoutReplot=!0),kr.calc||Wn.calc){He.calcdata=void 0;for(var or=Object.getOwnPropertyNames(Er),jr=0;jr<or.length;jr++){var _r=or[jr],Rn=_r.substring(0,5);if(Rn==="xaxis"||Rn==="yaxis"){var Sr=Er[_r]._emptyCategories;Sr&&Sr()}}}else _.supplyDefaultsUpdateCalc(He.calcdata,nr);var sr=[];if(Ct&&(He._transitionData={},_.createTransitionData(He),sr.push(dn)),Er.transition&&!fn&&(kr.anim||Wn.anim))Wn.ticks&&sr.push(X.doTicksRelayout),_.doCalcdata(He),X.doAutoRangeAndConstraints(He),sr.push(function(){return _.transitionFromReact(He,kr,Wn,Wt)});else if(kr.fullReplot||Wn.layoutReplot||fn)He._fullLayout._skipDefaults=!0,sr.push(h._doPlot);else{for(var wr in Wn.arrays){var ao=Wn.arrays[wr];if(ao.length){var xo=w.getComponentMethod(wr,"drawOne");if(xo!==b.noop)for(var Cr=0;Cr<ao.length;Cr++)xo(He,ao[Cr]);else{var Fe=w.getComponentMethod(wr,"draw");if(Fe===b.noop)throw new Error("cannot draw components: "+wr);Fe(He)}}}sr.push(_.previousPromises),kr.style&&sr.push(X.doTraceStyle),(kr.colorbars||Wn.colorbars)&&sr.push(X.doColorBars),Wn.legend&&sr.push(X.doLegend),Wn.layoutstyle&&sr.push(X.layoutStyles),Wn.axrange&&ct(sr),Wn.ticks&&sr.push(X.doTicksRelayout),Wn.modebar&&sr.push(X.doModeBar),Wn.camera&&sr.push(X.doCamera),sr.push(de)}sr.push(_.rehover,_.redrag,_.reselect),Pt=b.syncOrAsync(sr,He),(!Pt||!Pt.then)&&(Pt=Promise.resolve(He))}return Pt.then(function(){return He.emit("plotly_react",{data:it,layout:dt}),He})}function an(He,it,dt,mt,Ct,Pt){var dn=it.length===dt.length;if(!Ct&&!dn)return{fullReplot:!0,calc:!0};var rn=ie.traceFlags();rn.arrays={},rn.nChanges=0,rn.nChangesAnim=0;var Wt,Rt;function fn(Er){var zt=C.getTraceValObject(Rt,Er);return!Rt._module.animatable&&zt.anim&&(zt.anim=!1),zt}var Hn={getValObject:fn,flags:rn,immutable:mt,transition:Ct,newDataRevision:Pt,gd:He},nr={};for(Wt=0;Wt<it.length;Wt++)if(dt[Wt]){if(Rt=dt[Wt]._fullInput,_.hasMakesDataTransform(Rt)&&(Rt=dt[Wt]),nr[Rt.uid])continue;nr[Rt.uid]=1,Xn(it[Wt]._fullInput,Rt,[],Hn)}return(rn.calc||rn.plot)&&(rn.fullReplot=!0),Ct&&rn.nChanges&&rn.nChangesAnim&&(rn.anim=rn.nChanges===rn.nChangesAnim&&dn?"all":"some"),rn}function wn(He,it,dt,mt,Ct){var Pt=ie.layoutFlags();Pt.arrays={},Pt.rangesAltered={},Pt.nChanges=0,Pt.nChangesAnim=0;function dn(Wt){return C.getLayoutValObject(dt,Wt)}var rn={getValObject:dn,flags:Pt,immutable:mt,transition:Ct,gd:He};return Xn(it,dt,[],rn),(Pt.plot||Pt.calc)&&(Pt.layoutReplot=!0),Ct&&Pt.nChanges&&Pt.nChangesAnim&&(Pt.anim=Pt.nChanges===Pt.nChangesAnim?"all":"some"),Pt}function Xn(He,it,dt,mt){var Ct,Pt,dn,rn=mt.getValObject,Wt=mt.flags,Rt=mt.immutable,fn=mt.inArray,Hn=mt.arrayIndex;function nr(){var Ee=Ct.editType;if(fn&&Ee.indexOf("arraydraw")!==-1){b.pushUnique(Wt.arrays[fn],Hn);return}ie.update(Wt,Ct),Ee!=="none"&&Wt.nChanges++,mt.transition&&Ct.anim&&Wt.nChangesAnim++,(pt.test(dn)||Ye.test(dn))&&(Wt.rangesAltered[dt[0]]=1),je.test(dn)&&O(it,"_inputDomain").set(null),Pt==="datarevision"&&(Wt.newDataRevision=1)}function Er(Ee){return Ee.valType==="data_array"||Ee.arrayOk}for(Pt in He){if(Wt.calc&&!mt.transition)return;var zt=He[Pt],vr=it[Pt],Wn=dt.concat(Pt);if(dn=Wn.join("."),!(Pt.charAt(0)==="_"||typeof zt=="function"||zt===vr)){if((Pt==="tick0"||Pt==="dtick")&&dt[0]!=="geo"){var Br=it.tickmode;if(Br==="auto"||Br==="array"||!Br)continue}if(!(Pt==="range"&&it.autorange)&&!((Pt==="zmin"||Pt==="zmax")&&it.type==="contourcarpet")&&(Ct=rn(Wn),!!Ct&&!(Ct._compareAsJSON&&JSON.stringify(zt)===JSON.stringify(vr)))){var kr=Ct.valType,or,jr=Er(Ct),_r=Array.isArray(zt),Rn=Array.isArray(vr);if(_r&&Rn){var Sr="_input_"+Pt,sr=He[Sr],wr=it[Sr];if(Array.isArray(sr)&&sr===wr)continue}if(vr===void 0)jr&&_r?Wt.calc=!0:nr();else if(Ct._isLinkedToArray){var ao=[],xo=!1;fn||(Wt.arrays[Pt]=ao);var Cr=Math.min(zt.length,vr.length),Fe=Math.max(zt.length,vr.length);if(Cr!==Fe)if(Ct.editType==="arraydraw")xo=!0;else{nr();continue}for(or=0;or<Cr;or++)Xn(zt[or],vr[or],Wn.concat(or),b.extendFlat({inArray:Pt,arrayIndex:or},mt));if(xo)for(or=Cr;or<Fe;or++)ao.push(or)}else!kr&&b.isPlainObject(zt)?Xn(zt,vr,Wn,mt):jr?_r&&Rn?(Rt&&(Wt.calc=!0),(Rt||mt.newDataRevision)&&nr()):_r!==Rn?Wt.calc=!0:nr():_r&&Rn?(zt.length!==vr.length||String(zt)!==String(vr))&&nr():nr()}}}for(Pt in it)if(!(Pt in He||Pt.charAt(0)==="_"||typeof it[Pt]=="function"))if(Ct=rn(dt.concat(Pt)),Er(Ct)&&Array.isArray(it[Pt])){Wt.calc=!0;return}else nr()}function Un(He,it){var dt;for(dt in He)if(dt.charAt(0)!=="_"){var mt=He[dt],Ct=it[dt];if(mt!==Ct)if(b.isPlainObject(mt)&&b.isPlainObject(Ct)){if(Un(mt,Ct))return!0}else if(Array.isArray(mt)&&Array.isArray(Ct)){if(mt.length!==Ct.length)return!0;for(var Pt=0;Pt<mt.length;Pt++)if(mt[Pt]!==Ct[Pt])if(b.isPlainObject(mt[Pt])&&b.isPlainObject(Ct[Pt])){if(Un(mt[Pt],Ct[Pt]))return!0}else return!0}else return!0}}function Sn(He,it,dt){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var mt=He._transitionData;mt._frameQueue||(mt._frameQueue=[]),dt=_.supplyAnimationDefaults(dt);var Ct=dt.transition,Pt=dt.frame;mt._frameWaitingCnt===void 0&&(mt._frameWaitingCnt=0);function dn(Rt){return Array.isArray(Ct)?Rt>=Ct.length?Ct[0]:Ct[Rt]:Ct}function rn(Rt){return Array.isArray(Pt)?Rt>=Pt.length?Pt[0]:Pt[Rt]:Pt}function Wt(Rt,fn){var Hn=0;return function(){if(Rt&&++Hn===fn)return Rt()}}return new Promise(function(Rt,fn){function Hn(){if(mt._frameQueue.length!==0){for(;mt._frameQueue.length;){var Cr=mt._frameQueue.pop();Cr.onInterrupt&&Cr.onInterrupt()}He.emit("plotly_animationinterrupted",[])}}function nr(Cr){if(Cr.length!==0){for(var Fe=0;Fe<Cr.length;Fe++){var Ee;Cr[Fe].type==="byname"?Ee=_.computeFrame(He,Cr[Fe].name):Ee=Cr[Fe].data;var St=rn(Fe),Tt=dn(Fe);Tt.duration=Math.min(Tt.duration,St.duration);var Lt={frame:Ee,name:Cr[Fe].name,frameOpts:St,transitionOpts:Tt};Fe===Cr.length-1&&(Lt.onComplete=Wt(Rt,2),Lt.onInterrupt=fn),mt._frameQueue.push(Lt)}dt.mode==="immediate"&&(mt._lastFrameAt=-1/0),mt._animationRaf||vr()}}function Er(){He.emit("plotly_animated"),window.cancelAnimationFrame(mt._animationRaf),mt._animationRaf=null}function zt(){mt._currentFrame&&mt._currentFrame.onComplete&&mt._currentFrame.onComplete();var Cr=mt._currentFrame=mt._frameQueue.shift();if(Cr){var Fe=Cr.name?Cr.name.toString():null;He._fullLayout._currentFrame=Fe,mt._lastFrameAt=Date.now(),mt._timeToNext=Cr.frameOpts.duration,_.transition(He,Cr.frame.data,Cr.frame.layout,W.coerceTraceIndices(He,Cr.frame.traces),Cr.frameOpts,Cr.transitionOpts).then(function(){Cr.onComplete&&Cr.onComplete()}),He.emit("plotly_animatingframe",{name:Fe,frame:Cr.frame,animation:{frame:Cr.frameOpts,transition:Cr.transitionOpts}})}else Er()}function vr(){He.emit("plotly_animating"),mt._lastFrameAt=-1/0,mt._timeToNext=0,mt._runningTransitions=0,mt._currentFrame=null;var Cr=function(){mt._animationRaf=window.requestAnimationFrame(Cr),Date.now()-mt._lastFrameAt>mt._timeToNext&&zt()};Cr()}var Wn=0;function Br(Cr){return Array.isArray(Ct)?Wn>=Ct.length?Cr.transitionOpts=Ct[Wn]:Cr.transitionOpts=Ct[0]:Cr.transitionOpts=Ct,Wn++,Cr}var kr,or,jr=[],_r=it==null,Rn=Array.isArray(it),Sr=!_r&&!Rn&&b.isPlainObject(it);if(Sr)jr.push({type:"object",data:Br(b.extendFlat({},it))});else if(_r||["string","number"].indexOf(typeof it)!==-1)for(kr=0;kr<mt._frames.length;kr++)or=mt._frames[kr],or&&(_r||String(or.group)===String(it))&&jr.push({type:"byname",name:String(or.name),data:Br({name:or.name})});else if(Rn)for(kr=0;kr<it.length;kr++){var sr=it[kr];["number","string"].indexOf(typeof sr)!==-1?(sr=String(sr),jr.push({type:"byname",name:sr,data:Br({name:sr})})):b.isPlainObject(sr)&&jr.push({type:"object",data:Br(b.extendFlat({},sr))})}for(kr=0;kr<jr.length;kr++)if(or=jr[kr],or.type==="byname"&&!mt._frameHash[or.data.name]){b.warn('animate failure: frame not found: "'+or.data.name+'"'),fn();return}["next","immediate"].indexOf(dt.mode)!==-1&&Hn(),dt.direction==="reverse"&&jr.reverse();var wr=He._fullLayout._currentFrame;if(wr&&dt.fromcurrent){var ao=-1;for(kr=0;kr<jr.length;kr++)if(or=jr[kr],or.type==="byname"&&or.name===wr){ao=kr;break}if(ao>0&&ao<jr.length-1){var xo=[];for(kr=0;kr<jr.length;kr++)or=jr[kr],(jr[kr].type!=="byname"||kr>ao)&&xo.push(or);jr=xo}}jr.length>0?nr(jr):(He.emit("plotly_animated"),Rt())})}function lt(He,it,dt){if(He=b.getGraphDiv(He),it==null)return Promise.resolve();if(!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var mt,Ct,Pt,dn,rn=He._transitionData._frames,Wt=He._transitionData._frameHash;if(!Array.isArray(it))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+it);var Rt=rn.length+it.length*2,fn=[],Hn={};for(mt=it.length-1;mt>=0;mt--)if(b.isPlainObject(it[mt])){var nr=it[mt].name,Er=(Wt[nr]||Hn[nr]||{}).name,zt=it[mt].name,vr=Wt[Er]||Hn[Er];Er&&zt&&typeof zt=="number"&&vr&&me<ae&&(me++,b.warn('addFrames: overwriting frame "'+(Wt[Er]||Hn[Er]).name+'" with a frame whose name of type "number" also equates to "'+Er+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),me===ae&&b.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Hn[nr]={name:nr},fn.push({frame:_.supplyFrameDefaults(it[mt]),index:dt&&dt[mt]!==void 0&&dt[mt]!==null?dt[mt]:Rt+mt})}fn.sort(function(Sr,sr){return Sr.index>sr.index?-1:Sr.index<sr.index?1:0});var Wn=[],Br=[],kr=rn.length;for(mt=fn.length-1;mt>=0;mt--){if(Ct=fn[mt].frame,typeof Ct.name=="number"&&b.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ct.name)for(;Wt[Ct.name="frame "+He._transitionData._counter++];);if(Wt[Ct.name]){for(Pt=0;Pt<rn.length&&(rn[Pt]||{}).name!==Ct.name;Pt++);Wn.push({type:"replace",index:Pt,value:Ct}),Br.unshift({type:"replace",index:Pt,value:rn[Pt]})}else dn=Math.max(0,Math.min(fn[mt].index,kr)),Wn.push({type:"insert",index:dn,value:Ct}),Br.unshift({type:"delete",index:dn}),kr++}var or=_.modifyFrames,jr=_.modifyFrames,_r=[He,Br],Rn=[He,Wn];return k&&k.add(He,or,_r,jr,Rn),_.modifyFrames(He,Wn)}function ut(He,it){if(He=b.getGraphDiv(He),!b.isPlotDiv(He))throw new Error("This element is not a Plotly plot: "+He);var dt,mt,Ct=He._transitionData._frames,Pt=[],dn=[];if(!it)for(it=[],dt=0;dt<Ct.length;dt++)it.push(dt);for(it=it.slice(),it.sort(),dt=it.length-1;dt>=0;dt--)mt=it[dt],Pt.push({type:"delete",index:mt}),dn.unshift({type:"insert",index:mt,value:Ct[mt]});var rn=_.modifyFrames,Wt=_.modifyFrames,Rt=[He,dn],fn=[He,Pt];return k&&k.add(He,rn,Rt,Wt,fn),_.modifyFrames(He,Pt)}function xt(He){He=b.getGraphDiv(He);var it=He._fullLayout||{},dt=He._fullData||[];return _.cleanPlot([],{},dt,it),_.purge(He),T.purge(He),it._container&&it._container.remove(),delete He._context,He}function gt(He){var it=He._fullLayout,dt=He.getBoundingClientRect();if(!b.equalDomRects(dt,it._lastBBox)){var mt=it._invTransform=b.inverseTransformMatrix(b.getFullTransformMatrix(He));it._invScaleX=Math.sqrt(mt[0][0]*mt[0][0]+mt[0][1]*mt[0][1]+mt[0][2]*mt[0][2]),it._invScaleY=Math.sqrt(mt[1][0]*mt[1][0]+mt[1][1]*mt[1][1]+mt[1][2]*mt[1][2]),it._lastBBox=dt}}function Dt(He){var it=g.select(He),dt=He._fullLayout;if(dt._calcInverseTransform=gt,dt._calcInverseTransform(He),dt._container=it.selectAll(".plot-container").data([0]),dt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),dt._paperdiv=dt._container.selectAll(".svg-container").data([0]),dt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),dt._glcontainer=dt._paperdiv.selectAll(".gl-container").data([{}]),dt._glcontainer.enter().append("div").classed("gl-container",!0),dt._paperdiv.selectAll(".main-svg").remove(),dt._paperdiv.select(".modebar-container").remove(),dt._paper=dt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),dt._toppaper=dt._paperdiv.append("svg").classed("main-svg",!0),dt._modebardiv=dt._paperdiv.append("div"),delete dt._modeBar,dt._hoverpaper=dt._paperdiv.append("svg").classed("main-svg",!0),!dt._uid){var mt={};g.selectAll("defs").each(function(){this.id&&(mt[this.id.split("-")[1]]=1)}),dt._uid=b.randstr(mt)}dt._paperdiv.selectAll(".main-svg").attr(U.svgAttrs),dt._defs=dt._paper.append("defs").attr("id","defs-"+dt._uid),dt._clips=dt._defs.append("g").classed("clips",!0),dt._topdefs=dt._toppaper.append("defs").attr("id","topdefs-"+dt._uid),dt._topclips=dt._topdefs.append("g").classed("clips",!0),dt._bgLayer=dt._paper.append("g").classed("bglayer",!0),dt._draggers=dt._paper.append("g").classed("draglayer",!0);var Ct=dt._paper.append("g").classed("layer-below",!0);dt._imageLowerLayer=Ct.append("g").classed("imagelayer",!0),dt._shapeLowerLayer=Ct.append("g").classed("shapelayer",!0),dt._cartesianlayer=dt._paper.append("g").classed("cartesianlayer",!0),dt._polarlayer=dt._paper.append("g").classed("polarlayer",!0),dt._smithlayer=dt._paper.append("g").classed("smithlayer",!0),dt._ternarylayer=dt._paper.append("g").classed("ternarylayer",!0),dt._geolayer=dt._paper.append("g").classed("geolayer",!0),dt._funnelarealayer=dt._paper.append("g").classed("funnelarealayer",!0),dt._pielayer=dt._paper.append("g").classed("pielayer",!0),dt._iciclelayer=dt._paper.append("g").classed("iciclelayer",!0),dt._treemaplayer=dt._paper.append("g").classed("treemaplayer",!0),dt._sunburstlayer=dt._paper.append("g").classed("sunburstlayer",!0),dt._indicatorlayer=dt._toppaper.append("g").classed("indicatorlayer",!0),dt._glimages=dt._paper.append("g").classed("glimages",!0);var Pt=dt._toppaper.append("g").classed("layer-above",!0);dt._imageUpperLayer=Pt.append("g").classed("imagelayer",!0),dt._shapeUpperLayer=Pt.append("g").classed("shapelayer",!0),dt._selectionLayer=dt._toppaper.append("g").classed("selectionlayer",!0),dt._infolayer=dt._toppaper.append("g").classed("infolayer",!0),dt._menulayer=dt._toppaper.append("g").classed("menulayer",!0),dt._zoomlayer=dt._toppaper.append("g").classed("zoomlayer",!0),dt._hoverlayer=dt._hoverpaper.append("g").classed("hoverlayer",!0),dt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),He.emit("plotly_framework")}h.animate=Sn,h.addFrames=lt,h.deleteFrames=ut,h.addTraces=re,h.deleteTraces=be,h.extendTraces=_e,h.moveTraces=te,h.prependTraces=Ie,h.newPlot=ne,h._doPlot=q,h.purge=xt,h.react=Yn,h.redraw=pe,h.relayout=Ze,h.restyle=se,h.setPlotConfig=ee,h.update=ft,h._guiRelayout=tt(Ze),h._guiRestyle=tt(se),h._guiUpdate=tt(ft),h._storeDirectGUIEdit=ce},2075:function(d){var h={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},c={};function g(v,y){for(var b in v){var O=v[b];O.valType?y[b]=O.dflt:(y[b]||(y[b]={}),g(O,y[b]))}}g(h,c),d.exports={configAttributes:h,dfltConfig:c}},6281:function(d,h,c){var g=c(3972),v=c(1828),y=c(9012),b=c(820),O=c(1391),T=c(5594),k=c(2075).configAttributes,w=c(962),C=v.extendDeepAll,_=v.isPlainObject,M=v.isArrayOrTypedArray,I=v.nestedProperty,V=v.valObjectMeta,N="_isSubplotObj",Q="_isLinkedToArray",z="_arrayAttrRegexps",U="_deprecated",F=[N,Q,z,U];h.IS_SUBPLOT_OBJ=N,h.IS_LINKED_TO_ARRAY=Q,h.DEPRECATED=U,h.UNDERSCORE_ATTRS=F,h.get=function(){var Be={};g.allTypes.forEach(function(ne){Be[ne]=X(ne)});var pe={};return Object.keys(g.transformsRegistry).forEach(function(ne){pe[ne]=L(ne)}),{defs:{valObjects:V,metaKeys:F.concat(["description","role","editType","impliedEdits"]),editType:{traces:w.traces,layout:w.layout},impliedEdits:{}},traces:Be,layout:ie(),transforms:pe,frames:me(),animation:ae(T),config:ae(k)}},h.crawl=function(Be,pe,ne,le){var Y=ne||0;le=le||"",Object.keys(Be).forEach(function(ve){var Oe=Be[ve];if(F.indexOf(ve)===-1){var Le=(le?le+".":"")+ve;pe(Oe,ve,Be,Y,Le),!h.isValObject(Oe)&&_(Oe)&&ve!=="impliedEdits"&&h.crawl(Oe,pe,Y+1,Le)}})},h.isValObject=function(Be){return Be&&Be.valType!==void 0},h.findArrayAttributes=function(Be){var pe=[],ne=[],le=[],Y,ve;function Oe(Ie,re,be,te){ne=ne.slice(0,te).concat([re]),le=le.slice(0,te).concat([Ie&&Ie._isLinkedToArray]);var se=Ie&&(Ie.valType==="data_array"||Ie.arrayOk===!0)&&!(ne[te-1]==="colorbar"&&(re==="ticktext"||re==="tickvals"));se&&Le(Y,0,"")}function Le(Ie,re,be){var te=Ie[ne[re]],se=be+ne[re];if(re===ne.length-1)M(te)&&pe.push(ve+se);else if(le[re]){if(Array.isArray(te))for(var fe=0;fe<te.length;fe++)_(te[fe])&&Le(te[fe],re+1,se+"["+fe+"].")}else _(te)&&Le(te,re+1,se+".")}Y=Be,ve="",h.crawl(y,Oe),Be._module&&Be._module.attributes&&h.crawl(Be._module.attributes,Oe);var Te=Be.transforms;if(Te)for(var De=0;De<Te.length;De++){var Ve=Te[De],_e=Ve._module;_e&&(ve="transforms["+De+"].",Y=Ve,h.crawl(_e.attributes,Oe))}return pe},h.getTraceValObject=function(Be,pe){var ne=pe[0],le=1,Y,ve;if(ne==="transforms"){if(pe.length===1)return y.transforms;var Oe=Be.transforms;if(!Array.isArray(Oe)||!Oe.length)return!1;var Le=pe[1];if(!W(Le)||Le>=Oe.length)return!1;Y=(g.transformsRegistry[Oe[Le].type]||{}).attributes,ve=Y&&Y[pe[2]],le=3}else{var Te=Be._module;if(Te||(Te=(g.modules[Be.type||y.type.dflt]||{})._module),!Te)return!1;if(Y=Te.attributes,ve=Y&&Y[ne],!ve){var De=Te.basePlotModule;De&&De.attributes&&(ve=De.attributes[ne])}ve||(ve=y[ne])}return E(ve,pe,le)},h.getLayoutValObject=function(Be,pe){var ne=B(Be,pe[0]);return E(ne,pe,1)};function B(Be,pe){var ne,le,Y,ve,Oe=Be._basePlotModules;if(Oe){var Le;for(ne=0;ne<Oe.length;ne++){if(Y=Oe[ne],Y.attrRegex&&Y.attrRegex.test(pe)){if(Y.layoutAttrOverrides)return Y.layoutAttrOverrides;!Le&&Y.layoutAttributes&&(Le=Y.layoutAttributes)}var Te=Y.baseLayoutAttrOverrides;if(Te&&pe in Te)return Te[pe]}if(Le)return Le}var De=Be._modules;if(De){for(ne=0;ne<De.length;ne++)if(ve=De[ne].layoutAttributes,ve&&pe in ve)return ve[pe]}for(le in g.componentsRegistry){if(Y=g.componentsRegistry[le],Y.name==="colorscale"&&pe.indexOf("coloraxis")===0)return Y.layoutAttributes[pe];if(!Y.schema&&pe===Y.name)return Y.layoutAttributes}return pe in b?b[pe]:!1}function E(Be,pe,ne){if(!Be)return!1;if(Be._isLinkedToArray){if(W(pe[ne]))ne++;else if(ne<pe.length)return!1}for(;ne<pe.length;ne++){var le=Be[pe[ne]];if(_(le))Be=le;else break;if(ne===pe.length-1)break;if(Be._isLinkedToArray){if(ne++,!W(pe[ne]))return!1}else if(Be.valType==="info_array"){ne++;var Y=pe[ne];if(!W(Y))return!1;var ve=Be.items;if(Array.isArray(ve)){if(Y>=ve.length)return!1;if(Be.dimensions===2){if(ne++,pe.length===ne)return Be;var Oe=pe[ne];if(!W(Oe))return!1;Be=ve[Y][Oe]}else Be=ve[Y]}else Be=ve}}return Be}function W(Be){return Be===Math.round(Be)&&Be>=0}function X(Be){var pe,ne;pe=g.modules[Be]._module,ne=pe.basePlotModule;var le={};le.type=null;var Y=C({},y),ve=C({},pe.attributes);h.crawl(ve,function(Te,De,Ve,_e,Ie){I(Y,Ie).set(void 0),Te===void 0&&I(ve,Ie).set(void 0)}),C(le,Y),g.traceIs(Be,"noOpacity")&&delete le.opacity,g.traceIs(Be,"showLegend")||(delete le.showlegend,delete le.legendgroup),g.traceIs(Be,"noHover")&&(delete le.hoverinfo,delete le.hoverlabel),pe.selectPoints||delete le.selectedpoints,C(le,ve),ne.attributes&&C(le,ne.attributes),le.type=Be;var Oe={meta:pe.meta||{},categories:pe.categories||{},animatable:!!pe.animatable,type:Be,attributes:ae(le)};if(pe.layoutAttributes){var Le={};C(Le,pe.layoutAttributes),Oe.layoutAttributes=ae(Le)}return pe.animatable||h.crawl(Oe,function(Te){h.isValObject(Te)&&"anim"in Te&&delete Te.anim}),Oe}function ie(){var Be={},pe,ne;C(Be,b);for(pe in g.subplotsRegistry)if(ne=g.subplotsRegistry[pe],!!ne.layoutAttributes)if(Array.isArray(ne.attr))for(var le=0;le<ne.attr.length;le++)xe(Be,ne,ne.attr[le]);else{var Y=ne.attr==="subplot"?ne.name:ne.attr;xe(Be,ne,Y)}for(pe in g.componentsRegistry){ne=g.componentsRegistry[pe];var ve=ne.schema;if(ve&&(ve.subplots||ve.layout)){var Oe=ve.subplots;if(Oe&&Oe.xaxis&&!Oe.yaxis)for(var Le in Oe.xaxis)delete Be.yaxis[Le];delete Be.xaxis.shift,delete Be.xaxis.autoshift}else ne.name==="colorscale"?C(Be,ne.layoutAttributes):ne.layoutAttributes&&we(Be,ne.layoutAttributes,ne.name)}return{layoutAttributes:ae(Be)}}function L(Be){var pe=g.transformsRegistry[Be],ne=C({},pe.attributes);return Object.keys(g.componentsRegistry).forEach(function(le){var Y=g.componentsRegistry[le];Y.schema&&Y.schema.transforms&&Y.schema.transforms[Be]&&Object.keys(Y.schema.transforms[Be]).forEach(function(ve){we(ne,Y.schema.transforms[Be][ve],ve)})}),{attributes:ae(ne)}}function me(){var Be={frames:C({},O)};return ae(Be),Be.frames}function ae(Be){return q(Be),de(Be),ee(Be),Be}function q(Be){function pe(le){return{valType:"string",editType:"none"}}function ne(le,Y,ve){h.isValObject(le)?(le.arrayOk===!0||le.valType==="data_array")&&(ve[Y+"src"]=pe()):_(le)&&(le.role="object")}h.crawl(Be,ne)}function de(Be){function pe(ne,le,Y){if(ne){var ve=ne[Q];ve&&(delete ne[Q],Y[le]={items:{}},Y[le].items[ve]=ne,Y[le].role="object")}}h.crawl(Be,pe)}function ee(Be){function pe(ne){for(var le in ne)if(_(ne[le]))pe(ne[le]);else if(Array.isArray(ne[le]))for(var Y=0;Y<ne[le].length;Y++)pe(ne[le][Y]);else ne[le]instanceof RegExp&&(ne[le]=ne[le].toString())}pe(Be)}function xe(Be,pe,ne){var le=I(Be,ne),Y=C({},pe.layoutAttributes);Y[N]=!0,le.set(Y)}function we(Be,pe,ne){var le=I(Be,ne);le.set(C(le.get()||{},pe))}},4467:function(d,h,c){var g=c(1828),v=c(9012),y="templateitemname",b={name:{valType:"string",editType:"none"}};b[y]={valType:"string",editType:"calc"},h.templatedArray=function(k,w){return w._isLinkedToArray=k,w.name=b.name,w[y]=b[y],w},h.traceTemplater=function(k){var w={},C,_;for(C in k)_=k[C],Array.isArray(_)&&_.length&&(w[C]=0);function M(I){C=g.coerce(I,{},v,"type");var V={type:C,_template:null};if(C in w){_=k[C];var N=w[C]%_.length;w[C]++,V._template=_[N]}return V}return{newTrace:M}},h.newContainer=function(k,w,C){var _=k._template,M=_&&(_[w]||C&&_[C]);g.isPlainObject(M)||(M=null);var I=k[w]={_template:M};return I},h.arrayTemplater=function(k,w,C){var _=k._template,M=_&&_[T(w)],I=_&&_[w];(!Array.isArray(I)||!I.length)&&(I=[]);var V={};function N(z){var U={name:z.name,_input:z},F=U[y]=z[y];if(!O(F))return U._template=M,U;for(var B=0;B<I.length;B++){var E=I[B];if(E.name===F)return V[F]=1,U._template=E,U}return U[C]=z[C]||!1,U._template=!1,U}function Q(){for(var z=[],U=0;U<I.length;U++){var F=I[U],B=F.name;if(O(B)&&!V[B]){var E={_template:F,name:B,_input:{_templateitemname:B}};E[y]=F[y],z.push(E),V[B]=1}}return z}return{newItem:N,defaultItems:Q}};function O(k){return k&&typeof k=="string"}function T(k){var w=k.length-1;return k.charAt(w)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+k),k.substr(0,k.length-1)+"defaults"}h.arrayDefaultKey=T,h.arrayEditor=function(k,w,C){var _=(g.nestedProperty(k,w).get()||[]).length,M=C._index,I=M>=_&&(C._input||{})._templateitemname;I&&(M=_);var V=w+"["+M+"]",N;function Q(){N={},I&&(N[V]={},N[V][y]=I)}Q();function z(E,W){N[E]=W}function U(E,W){I?g.nestedProperty(N[V],E).set(W):N[V+"."+E]=W}function F(){var E=N;return Q(),E}function B(E,W){E&&U(E,W);var X=F();for(var ie in X)g.nestedProperty(k,ie).set(X[ie])}return{modifyBase:z,modifyItem:U,getUpdateObj:F,applyUpdate:B}}},1549:function(d,h,c){var g=c(9898),v=c(3972),y=c(4875),b=c(1828),O=c(3893),T=c(3306),k=c(7901),w=c(1424),C=c(2998),_=c(4168),M=c(9298),I=c(8783),V=c(9082),N=V.enforce,Q=V.clean,z=c(1739).doAutoRange,U="start",F="middle",B="end";h.layoutStyles=function(ne){return b.syncOrAsync([y.doAutoMargin,W],ne)};function E(ne,le,Y){for(var ve=0;ve<Y.length;ve++){var Oe=Y[ve][0],Le=Y[ve][1];if(!(Oe[0]>=ne[1]||Oe[1]<=ne[0])&&Le[0]<le[1]&&Le[1]>le[0])return!0}return!1}function W(ne){var le=ne._fullLayout,Y=le._size,ve=Y.p,Oe=M.list(ne,"",!0),Le,Te,De,Ve,_e,Ie;if(le._paperdiv.style({width:ne._context.responsive&&le.autosize&&!ne._context._hasZeroWidth&&!ne.layout.width?"100%":le.width+"px",height:ne._context.responsive&&le.autosize&&!ne._context._hasZeroHeight&&!ne.layout.height?"100%":le.height+"px"}).selectAll(".main-svg").call(w.setSize,le.width,le.height),ne._context.setBackground(ne,le.paper_bgcolor),h.drawMainTitle(ne),_.manage(ne),!le._has("cartesian"))return y.previousPromises(ne);function re(xt,gt,Dt){var He=xt._lw/2;if(xt._id.charAt(0)==="x"){if(gt){if(Dt==="top")return gt._offset-ve-He}else return Y.t+Y.h*(1-(xt.position||0))+He%1;return gt._offset+gt._length+ve+He}if(gt){if(Dt==="right")return gt._offset+gt._length+ve+He}else return Y.l+Y.w*(xt.position||0)+He%1;return gt._offset-ve-He}for(Le=0;Le<Oe.length;Le++){Ve=Oe[Le];var be=Ve._anchorAxis;Ve._linepositions={},Ve._lw=w.crispRound(ne,Ve.linewidth,1),Ve._mainLinePosition=re(Ve,be,Ve.side),Ve._mainMirrorPosition=Ve.mirror&&be?re(Ve,be,I.OPPOSITE_SIDE[Ve.side]):null}var te=[],se=[],fe=[],oe=k.opacity(le.paper_bgcolor)===1&&k.opacity(le.plot_bgcolor)===1&&le.paper_bgcolor===le.plot_bgcolor;for(Te in le._plots)if(De=le._plots[Te],De.mainplot)De.bg&&De.bg.remove(),De.bg=void 0;else{var Se=De.xaxis.domain,ce=De.yaxis.domain,ke=De.plotgroup;if(E(Se,ce,fe)){var Qe=ke.node(),Ze=De.bg=b.ensureSingle(ke,"rect","bg");Qe.insertBefore(Ze.node(),Qe.childNodes[0]),se.push(Te)}else ke.select("rect.bg").remove(),fe.push([Se,ce]),oe||(te.push(Te),se.push(Te))}var Xe=le._bgLayer.selectAll(".bg").data(te);for(Xe.enter().append("rect").classed("bg",!0),Xe.exit().remove(),Xe.each(function(xt){le._plots[xt].bg=g.select(this)}),Le=0;Le<se.length;Le++)De=le._plots[se[Le]],_e=De.xaxis,Ie=De.yaxis,De.bg&&_e._offset!==void 0&&Ie._offset!==void 0&&De.bg.call(w.setRect,_e._offset-ve,Ie._offset-ve,_e._length+2*ve,Ie._length+2*ve).call(k.fill,le.plot_bgcolor).style("stroke-width",0);if(!le._hasOnlyLargeSploms)for(Te in le._plots){De=le._plots[Te],_e=De.xaxis,Ie=De.yaxis;var ct=De.clipId="clip"+le._uid+Te+"plot",pt=b.ensureSingleById(le._clips,"clipPath",ct,function(xt){xt.classed("plotclip",!0).append("rect")});De.clipRect=pt.select("rect").attr({width:_e._length,height:Ie._length}),w.setTranslate(De.plot,_e._offset,Ie._offset);var Ye,je;De._hasClipOnAxisFalse?(Ye=null,je=ct):(Ye=ct,je=null),w.setClipUrl(De.plot,Ye,ne),De.layerClipId=je}var et,yt,ft,tt,wt,Xt,Gt,Nt,Bt,vn,En,ln,Yn;function an(xt){return"M"+et+","+xt+"H"+yt}function wn(xt){return"M"+_e._offset+","+xt+"h"+_e._length}function Xn(xt){return"M"+xt+","+Nt+"V"+Gt}function Un(xt){return Ie._shift!==void 0&&(xt+=Ie._shift),"M"+xt+","+Ie._offset+"v"+Ie._length}function Sn(xt,gt,Dt){if(!xt.showline||Te!==xt._mainSubplot)return"";if(!xt._anchorAxis)return Dt(xt._mainLinePosition);var He=gt(xt._mainLinePosition);return xt.mirror&&(He+=gt(xt._mainMirrorPosition)),He}for(Te in le._plots){De=le._plots[Te],_e=De.xaxis,Ie=De.yaxis;var lt="M0,0";X(_e,Te)&&(wt=L(_e,"left",Ie,Oe),et=_e._offset-(wt?ve+wt:0),Xt=L(_e,"right",Ie,Oe),yt=_e._offset+_e._length+(Xt?ve+Xt:0),ft=re(_e,Ie,"bottom"),tt=re(_e,Ie,"top"),Yn=!_e._anchorAxis||Te!==_e._mainSubplot,Yn&&(_e.mirror==="allticks"||_e.mirror==="all")&&(_e._linepositions[Te]=[ft,tt]),lt=Sn(_e,an,wn),Yn&&_e.showline&&(_e.mirror==="all"||_e.mirror==="allticks")&&(lt+=an(ft)+an(tt)),De.xlines.style("stroke-width",_e._lw+"px").call(k.stroke,_e.showline?_e.linecolor:"rgba(0,0,0,0)")),De.xlines.attr("d",lt);var ut="M0,0";X(Ie,Te)&&(En=L(Ie,"bottom",_e,Oe),Gt=Ie._offset+Ie._length+(En?ve:0),ln=L(Ie,"top",_e,Oe),Nt=Ie._offset-(ln?ve:0),Bt=re(Ie,_e,"left"),vn=re(Ie,_e,"right"),Yn=!Ie._anchorAxis||Te!==Ie._mainSubplot,Yn&&(Ie.mirror==="allticks"||Ie.mirror==="all")&&(Ie._linepositions[Te]=[Bt,vn]),ut=Sn(Ie,Xn,Un),Yn&&Ie.showline&&(Ie.mirror==="all"||Ie.mirror==="allticks")&&(ut+=Xn(Bt)+Xn(vn)),De.ylines.style("stroke-width",Ie._lw+"px").call(k.stroke,Ie.showline?Ie.linecolor:"rgba(0,0,0,0)")),De.ylines.attr("d",ut)}return M.makeClipPaths(ne),y.previousPromises(ne)}function X(ne,le){return(ne.ticks||ne.showline)&&(le===ne._mainSubplot||ne.mirror==="all"||ne.mirror==="allticks")}function ie(ne,le,Y){if(!Y.showline||!Y._lw)return!1;if(Y.mirror==="all"||Y.mirror==="allticks")return!0;var ve=Y._anchorAxis;if(!ve)return!1;var Oe=I.FROM_BL[le];return Y.side===le?ve.domain[Oe]===ne.domain[Oe]:Y.mirror&&ve.domain[1-Oe]===ne.domain[1-Oe]}function L(ne,le,Y,ve){if(ie(ne,le,Y))return Y._lw;for(var Oe=0;Oe<ve.length;Oe++){var Le=ve[Oe];if(Le._mainAxis===Y._mainAxis&&ie(ne,le,Le))return Le._lw}return 0}h.drawMainTitle=function(ne){var le=ne._fullLayout.title,Y=ne._fullLayout,ve=Be(Y),Oe=pe(Y),Le=xe(Y,Oe),Te=ee(Y,ve);if(C.draw(ne,"gtitle",{propContainer:Y,propName:"title.text",placeholder:Y._dfltTitle.plot,attributes:{x:Te,y:Le,"text-anchor":ve,dy:Oe}}),le.text&&le.automargin){var De=g.selectAll(".gtitle"),Ve=w.bBox(De.node()).height,_e=q(ne,le,Ve);_e>0&&(de(ne,Le,_e,Ve),De.attr({x:Te,y:Le,"text-anchor":ve,dy:we(le.yanchor)}).call(O.positionText,Te,Le))}};function me(ne,le,Y,ve,Oe){var Le=le.yref==="paper"?ne._fullLayout._size.h:ne._fullLayout.height,Te=b.isTopAnchor(le)?ve:ve-Oe,De=Y==="b"?Le-Te:Te;return b.isTopAnchor(le)&&Y==="t"||b.isBottomAnchor(le)&&Y==="b"?!1:De<Oe}function ae(ne,le,Y,ve,Oe){var Le=0;return Y==="middle"&&(Le+=Oe/2),ne==="t"?(Y==="top"&&(Le+=Oe),Le+=ve-le*ve):(Y==="bottom"&&(Le+=Oe),Le+=le*ve),Le}function q(ne,le,Y){var ve=le.y,Oe=le.yanchor,Le=ve>.5?"t":"b",Te=ne._fullLayout.margin[Le],De=0;return le.yref==="paper"?De=Y+le.pad.t+le.pad.b:le.yref==="container"&&(De=ae(Le,ve,Oe,ne._fullLayout.height,Y)+le.pad.t+le.pad.b),De>Te?De:0}function de(ne,le,Y,ve){var Oe="title.automargin",Le=ne._fullLayout.title,Te=Le.y>.5?"t":"b",De={x:Le.x,y:Le.y,t:0,b:0},Ve={};Le.yref==="paper"&&me(ne,Le,Te,le,ve)?De[Te]=Y:Le.yref==="container"&&(Ve[Te]=Y,ne._fullLayout._reservedMargin[Oe]=Ve),y.allowAutoMargin(ne,Oe),y.autoMargin(ne,Oe,De)}function ee(ne,le){var Y=ne.title,ve=ne._size,Oe=0;switch(le===U?Oe=Y.pad.l:le===B&&(Oe=-Y.pad.r),Y.xref){case"paper":return ve.l+ve.w*Y.x+Oe;case"container":default:return ne.width*Y.x+Oe}}function xe(ne,le){var Y=ne.title,ve=ne._size,Oe=0;if(le==="0em"||!le?Oe=-Y.pad.b:le===I.CAP_SHIFT+"em"&&(Oe=Y.pad.t),Y.y==="auto")return ve.t/2;switch(Y.yref){case"paper":return ve.t+ve.h-ve.h*Y.y+Oe;case"container":default:return ne.height-ne.height*Y.y+Oe}}function we(ne){return ne==="top"?I.CAP_SHIFT+.3+"em":ne==="bottom"?"-0.3em":I.MID_SHIFT+"em"}function Be(ne){var le=ne.title,Y=F;return b.isRightAnchor(le)?Y=B:b.isLeftAnchor(le)&&(Y=U),Y}function pe(ne){var le=ne.title,Y="0em";return b.isTopAnchor(le)?Y=I.CAP_SHIFT+"em":b.isMiddleAnchor(le)&&(Y=I.MID_SHIFT+"em"),Y}h.doTraceStyle=function(ne){var le=ne.calcdata,Y=[],ve;for(ve=0;ve<le.length;ve++){var Oe=le[ve],Le=Oe[0]||{},Te=Le.trace||{},De=Te._module||{},Ve=De.arraysToCalcdata;Ve&&Ve(Oe,Te);var _e=De.editStyle;_e&&Y.push({fn:_e,cd0:Le})}if(Y.length){for(ve=0;ve<Y.length;ve++){var Ie=Y[ve];Ie.fn(ne,Ie.cd0)}T(ne),h.redrawReglTraces(ne)}return y.style(ne),v.getComponentMethod("legend","draw")(ne),y.previousPromises(ne)},h.doColorBars=function(ne){return v.getComponentMethod("colorbar","draw")(ne),y.previousPromises(ne)},h.layoutReplot=function(ne){var le=ne.layout;return ne.layout=void 0,v.call("_doPlot",ne,"",le)},h.doLegend=function(ne){return v.getComponentMethod("legend","draw")(ne),y.previousPromises(ne)},h.doTicksRelayout=function(ne){return M.draw(ne,"redraw"),ne._fullLayout._hasOnlyLargeSploms&&(v.subplotsRegistry.splom.updateGrid(ne),T(ne),h.redrawReglTraces(ne)),h.drawMainTitle(ne),y.previousPromises(ne)},h.doModeBar=function(ne){var le=ne._fullLayout;_.manage(ne);for(var Y=0;Y<le._basePlotModules.length;Y++){var ve=le._basePlotModules[Y].updateFx;ve&&ve(ne)}return y.previousPromises(ne)},h.doCamera=function(ne){for(var le=ne._fullLayout,Y=le._subplots.gl3d,ve=0;ve<Y.length;ve++){var Oe=le[Y[ve]],Le=Oe._scene;Le.setViewport(Oe)}},h.drawData=function(ne){var le=ne._fullLayout;T(ne);for(var Y=le._basePlotModules,ve=0;ve<Y.length;ve++)Y[ve].plot(ne);return h.redrawReglTraces(ne),y.style(ne),v.getComponentMethod("selections","draw")(ne),v.getComponentMethod("shapes","draw")(ne),v.getComponentMethod("annotations","draw")(ne),v.getComponentMethod("images","draw")(ne),le._replotting=!1,y.previousPromises(ne)},h.redrawReglTraces=function(ne){var le=ne._fullLayout;if(le._has("regl")){var Y=ne._fullData,ve=[],Oe=[],Le,Te;for(le._hasOnlyLargeSploms&&le._splomGrid.draw(),Le=0;Le<Y.length;Le++){var De=Y[Le];De.visible===!0&&De._length!==0&&(De.type==="splom"?le._splomScenes[De.uid].draw():De.type==="scattergl"?b.pushUnique(ve,De.xaxis+De.yaxis):De.type==="scatterpolargl"&&b.pushUnique(Oe,De.subplot))}for(Le=0;Le<ve.length;Le++)Te=le._plots[ve[Le]],Te._scene&&Te._scene.draw();for(Le=0;Le<Oe.length;Le++)Te=le[Oe[Le]]._subplot,Te._scene&&Te._scene.draw()}},h.doAutoRangeAndConstraints=function(ne){for(var le=M.list(ne,"",!0),Y,ve={},Oe=0;Oe<le.length;Oe++)if(Y=le[Oe],!ve[Y._id]){ve[Y._id]=1,Q(ne,Y),z(ne,Y);var Le=Y._matchGroup;if(Le)for(var Te in Le){var De=M.getFromId(ne,Te);z(ne,De,Y.range),ve[Te]=1}}N(ne)},h.finalDraw=function(ne){v.getComponentMethod("rangeslider","draw")(ne),v.getComponentMethod("rangeselector","draw")(ne)},h.drawMarginPushers=function(ne){v.getComponentMethod("legend","draw")(ne),v.getComponentMethod("rangeselector","draw")(ne),v.getComponentMethod("sliders","draw")(ne),v.getComponentMethod("updatemenus","draw")(ne),v.getComponentMethod("colorbar","draw")(ne)}},6318:function(d,h,c){var g=c(1828),v=g.isPlainObject,y=c(6281),b=c(4875),O=c(9012),T=c(4467),k=c(2075).dfltConfig;h.makeTemplate=function(z){z=g.isPlainObject(z)?z:g.getGraphDiv(z),z=g.extendDeep({_context:k},{data:z.data,layout:z.layout}),b.supplyDefaults(z);var U=z.data||[],F=z.layout||{};F._basePlotModules=z._fullLayout._basePlotModules,F._modules=z._fullLayout._modules;var B={data:{},layout:{}};U.forEach(function(ee){var xe={};_(ee,xe,I.bind(null,ee));var we=g.coerce(ee,{},O,"type"),Be=B.data[we];Be||(Be=B.data[we]=[]),Be.push(xe)}),_(F,B.layout,M.bind(null,F)),delete B.layout.template;var E=F.template;if(v(E)){var W=E.layout,X,ie,L,me,ae,q;v(W)&&w(W,B.layout);var de=E.data;if(v(de)){for(ie in B.data)if(L=de[ie],Array.isArray(L)){for(ae=B.data[ie],q=ae.length,me=L.length,X=0;X<q;X++)w(L[X%me],ae[X]);for(X=q;X<me;X++)ae.push(g.extendDeep({},L[X]))}for(ie in de)ie in B.data||(B.data[ie]=g.extendDeep([],de[ie]))}}return B};function w(z,U){z=g.extendDeep({},z);var F=Object.keys(z).sort(),B,E;function W(ae,q,de){if(v(q)&&v(ae))w(ae,q);else if(Array.isArray(q)&&Array.isArray(ae)){var ee=T.arrayTemplater({_template:z},de);for(E=0;E<q.length;E++){var xe=q[E],we=ee.newItem(xe)._template;we&&w(we,xe)}var Be=ee.defaultItems();for(E=0;E<Be.length;E++)q.push(Be[E]._template);for(E=0;E<q.length;E++)delete q[E].templateitemname}}for(B=0;B<F.length;B++){var X=F[B],ie=z[X];if(X in U?W(ie,U[X],X):U[X]=ie,C(X)===X)for(var L in U){var me=C(L);L!==me&&me===X&&!(L in z)&&W(ie,U[L],X)}}}function C(z){return z.replace(/[0-9]+$/,"")}function _(z,U,F,B,E){var W=E&&F(E);for(var X in z){var ie=z[X],L=V(z,X,B),me=V(z,X,E),ae=F(me);if(!ae){var q=C(X);q!==X&&(me=V(z,q,E),ae=F(me))}if(!(W&&W===ae)&&!(!ae||ae._noTemplating||ae.valType==="data_array"||ae.arrayOk&&Array.isArray(ie)))if(!ae.valType&&v(ie))_(ie,U,F,L,me);else if(ae._isLinkedToArray&&Array.isArray(ie))for(var de=!1,ee=0,xe={},we=0;we<ie.length;we++){var Be=ie[we];if(v(Be)){var pe=Be.name;if(pe)xe[pe]||(_(Be,U,F,V(ie,ee,L),V(ie,ee,me)),ee++,xe[pe]=1);else if(!de){var ne=T.arrayDefaultKey(X),le=V(z,ne,B),Y=V(ie,ee,L);_(Be,U,F,Y,V(ie,ee,me));var ve=g.nestedProperty(U,Y),Oe=g.nestedProperty(U,le);Oe.set(ve.get()),ve.set(null),de=!0}}}else{var Le=g.nestedProperty(U,L);Le.set(ie)}}}function M(z,U){return y.getLayoutValObject(z,g.nestedProperty({},U).parts)}function I(z,U){return y.getTraceValObject(z,g.nestedProperty({},U).parts)}function V(z,U,F){var B;return F?Array.isArray(z)?B=F+"["+U+"]":B=F+"."+U:B=U,B}h.validateTemplate=function(z,U){var F=g.extendDeep({},{_context:k,data:z.data,layout:z.layout}),B=F.layout||{};v(U)||(U=B.template||{});var E=U.layout,W=U.data,X=[];F.layout=B,F.layout.template=U,b.supplyDefaults(F);var ie=F._fullLayout,L=F._fullData,me={};function ae(le,Y){for(var ve in le)if(ve.charAt(0)!=="_"&&v(le[ve])){var Oe=C(ve),Le=[],Te;for(Te=0;Te<Y.length;Te++)Le.push(V(le,ve,Y[Te])),Oe!==ve&&Le.push(V(le,Oe,Y[Te]));for(Te=0;Te<Le.length;Te++)me[Le[Te]]=1;ae(le[ve],Le)}}function q(le,Y){for(var ve in le)if(ve.indexOf("defaults")===-1&&v(le[ve])){var Oe=V(le,ve,Y);me[Oe]?q(le[ve],Oe):X.push({code:"unused",path:Oe})}}if(v(E)?(ae(ie,["layout"]),q(E,"layout")):X.push({code:"layout"}),!v(W))X.push({code:"data"});else{for(var de={},ee,xe=0;xe<L.length;xe++){var we=L[xe];ee=we.type,de[ee]=(de[ee]||0)+1,we._fullInput._template||X.push({code:"missing",index:we._fullInput.index,traceType:ee})}for(ee in W){var Be=W[ee].length,pe=de[ee]||0;Be>pe?X.push({code:"unused",traceType:ee,templateCount:Be,dataCount:pe}):pe>Be&&X.push({code:"reused",traceType:ee,templateCount:Be,dataCount:pe})}}function ne(le,Y){for(var ve in le)if(ve.charAt(0)!=="_"){var Oe=le[ve],Le=V(le,ve,Y);v(Oe)?(Array.isArray(le)&&Oe._template===!1&&Oe.templateitemname&&X.push({code:"missing",path:Le,templateitemname:Oe.templateitemname}),ne(Oe,Le)):Array.isArray(Oe)&&N(Oe)&&ne(Oe,Le)}}if(ne({data:L,layout:ie},""),X.length)return X.map(Q)};function N(z){for(var U=0;U<z.length;U++)if(v(z[U]))return!0}function Q(z){var U;switch(z.code){case"data":U="The template has no key data.";break;case"layout":U="The template has no key layout.";break;case"missing":z.path?U="There are no templates for item "+z.path+" with name "+z.templateitemname:U="There are no templates for trace "+z.index+", of type "+z.traceType+".";break;case"unused":z.path?U="The template item at "+z.path+" was not used in constructing the plot.":z.dataCount?U="Some of the templates of type "+z.traceType+" were not used. The template has "+z.templateCount+" traces, the data only has "+z.dataCount+" of this type.":U="The template has "+z.templateCount+" traces of type "+z.traceType+" but there are none in the data.";break;case"reused":U="Some of the templates of type "+z.traceType+" were used more than once. The template has "+z.templateCount+" traces, the data has "+z.dataCount+" of this type.";break}return z.msg=U,z}},403:function(d,h,c){var g=c(2770),v=c(2391),y=c(4875),b=c(1828),O=c(5095),T=c(5900),k=c(942),w=c(1506).version,C={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function _(M,I){I=I||{};var V,N,Q,z;b.isPlainObject(M)?(V=M.data||[],N=M.layout||{},Q=M.config||{},z={}):(M=b.getGraphDiv(M),V=b.extendDeep([],M.data),N=b.extendDeep({},M.layout),Q=M._context,z=M._fullLayout||{});function U(pe){return!(pe in I)||b.validate(I[pe],C[pe])}if(!U("width")&&I.width!==null||!U("height")&&I.height!==null)throw new Error("Height and width should be pixel values.");if(!U("format"))throw new Error("Export format is not "+b.join2(C.format.values,", "," or ")+".");var F={};function B(pe,ne){return b.coerce(I,F,C,pe,ne)}var E=B("format"),W=B("width"),X=B("height"),ie=B("scale"),L=B("setBackground"),me=B("imageDataOnly"),ae=document.createElement("div");ae.style.position="absolute",ae.style.left="-5000px",document.body.appendChild(ae);var q=b.extendFlat({},N);W?q.width=W:I.width===null&&g(z.width)&&(q.width=z.width),X?q.height=X:I.height===null&&g(z.height)&&(q.height=z.height);var de=b.extendFlat({},Q,{_exportedPlot:!0,staticPlot:!0,setBackground:L}),ee=O.getRedrawFunc(ae);function xe(){return new Promise(function(pe){setTimeout(pe,O.getDelay(ae._fullLayout))})}function we(){return new Promise(function(pe,ne){var le=T(ae,E,ie),Y=ae._fullLayout.width,ve=ae._fullLayout.height;function Oe(){v.purge(ae),document.body.removeChild(ae)}if(E==="full-json"){var Le=y.graphJson(ae,!1,"keepdata","object",!0,!0);return Le.version=w,Le=JSON.stringify(Le),Oe(),pe(me?Le:O.encodeJSON(Le))}if(Oe(),E==="svg")return pe(me?le:O.encodeSVG(le));var Te=document.createElement("canvas");Te.id=b.randstr(),k({format:E,width:Y,height:ve,scale:ie,canvas:Te,svg:le,promise:!0}).then(pe).catch(ne)})}function Be(pe){return me?pe.replace(O.IMAGE_URL_PREFIX,""):pe}return new Promise(function(pe,ne){v.newPlot(ae,V,q,de).then(ee).then(xe).then(we).then(function(le){pe(Be(le))}).catch(function(le){ne(le)})})}d.exports=_},4936:function(d,h,c){var g=c(1828),v=c(4875),y=c(6281),b=c(2075).dfltConfig,O=g.isPlainObject,T=Array.isArray,k=g.isArrayOrTypedArray;d.exports=function(B,E){B===void 0&&(B=[]),E===void 0&&(E={});var W=y.get(),X=[],ie={_context:g.extendFlat({},b)},L,me;T(B)?(ie.data=g.extendDeep([],B),L=B):(ie.data=[],L=[],X.push(I("array","data"))),O(E)?(ie.layout=g.extendDeep({},E),me=E):(ie.layout={},me={},arguments.length>1&&X.push(I("object","layout"))),v.supplyDefaults(ie);for(var ae=ie._fullData,q=L.length,de=0;de<q;de++){var ee=L[de],xe=["data",de];if(!O(ee)){X.push(I("object",xe));continue}var we=ae[de],Be=we.type,pe=W.traces[Be].attributes;pe.type={valType:"enumerated",values:[Be]},we.visible===!1&&ee.visible!==!1&&X.push(I("invisible",xe)),w(ee,we,pe,X,xe);var ne=ee.transforms,le=we.transforms;if(ne){T(ne)||X.push(I("array",xe,["transforms"])),xe.push("transforms");for(var Y=0;Y<ne.length;Y++){var ve=["transforms",Y],Oe=ne[Y].type;if(!O(ne[Y])){X.push(I("object",xe,ve));continue}var Le=W.transforms[Oe]?W.transforms[Oe].attributes:{};Le.type={valType:"enumerated",values:Object.keys(W.transforms)},w(ne[Y],le[Y],Le,X,xe,ve)}}}var Te=ie._fullLayout,De=C(W,ae);return w(me,Te,De,X,"layout"),X.length===0?void 0:X};function w(F,B,E,W,X,ie){ie=ie||[];for(var L=Object.keys(F),me=0;me<L.length;me++){var ae=L[me];if(ae!=="transforms"){var q=ie.slice();q.push(ae);var de=F[ae],ee=B[ae],xe=N(E,ae),we=(xe||{}).valType,Be=we==="info_array",pe=we==="colorscale",ne=(xe||{}).items;if(!V(E,ae))W.push(I("schema",X,q));else if(O(de)&&O(ee)&&we!=="any")w(de,ee,xe,W,X,q);else if(Be&&T(de)){de.length>ee.length&&W.push(I("unused",X,q.concat(ee.length)));var le=ee.length,Y=Array.isArray(ne);Y&&(le=Math.min(le,ne.length));var ve,Oe,Le,Te,De;if(xe.dimensions===2)for(Oe=0;Oe<le;Oe++)if(T(de[Oe])){de[Oe].length>ee[Oe].length&&W.push(I("unused",X,q.concat(Oe,ee[Oe].length)));var Ve=ee[Oe].length;for(ve=0;ve<(Y?Math.min(Ve,ne[Oe].length):Ve);ve++)Le=Y?ne[Oe][ve]:ne,Te=de[Oe][ve],De=ee[Oe][ve],g.validate(Te,Le)?De!==Te&&De!==+Te&&W.push(I("dynamic",X,q.concat(Oe,ve),Te,De)):W.push(I("value",X,q.concat(Oe,ve),Te))}else W.push(I("array",X,q.concat(Oe),de[Oe]));else for(Oe=0;Oe<le;Oe++)Le=Y?ne[Oe]:ne,Te=de[Oe],De=ee[Oe],g.validate(Te,Le)?De!==Te&&De!==+Te&&W.push(I("dynamic",X,q.concat(Oe),Te,De)):W.push(I("value",X,q.concat(Oe),Te))}else if(xe.items&&!Be&&T(de)){var _e=ne[Object.keys(ne)[0]],Ie=[],re,be;for(re=0;re<ee.length;re++){var te=ee[re]._index||re;if(be=q.slice(),be.push(te),O(de[te])&&O(ee[re])){Ie.push(te);var se=de[te],fe=ee[re];O(se)&&se.visible!==!1&&fe.visible===!1?W.push(I("invisible",X,be)):w(se,fe,_e,W,X,be)}}for(re=0;re<de.length;re++)be=q.slice(),be.push(re),O(de[re])?Ie.indexOf(re)===-1&&W.push(I("unused",X,be)):W.push(I("object",X,be,de[re]))}else!O(de)&&O(ee)?W.push(I("object",X,q,de)):!k(de)&&k(ee)&&!Be&&!pe?W.push(I("array",X,q,de)):ae in B?g.validate(de,xe)?xe.valType==="enumerated"&&(xe.coerceNumber&&de!==+ee||de!==ee)&&W.push(I("dynamic",X,q,de,ee)):W.push(I("value",X,q,de)):W.push(I("unused",X,q,de))}}return W}function C(F,B){for(var E=F.layout.layoutAttributes,W=0;W<B.length;W++){var X=B[W],ie=F.traces[X.type],L=ie.layoutAttributes;L&&(X.subplot?g.extendFlat(E[ie.attributes.subplot.dflt],L):g.extendFlat(E,L))}return E}var _={object:function(F,B){var E;return F==="layout"&&B===""?E="The layout argument":F[0]==="data"&&B===""?E="Trace "+F[1]+" in the data argument":E=M(F)+"key "+B,E+" must be linked to an object container"},array:function(F,B){var E;return F==="data"?E="The data argument":E=M(F)+"key "+B,E+" must be linked to an array container"},schema:function(F,B){return M(F)+"key "+B+" is not part of the schema"},unused:function(F,B,E){var W=O(E)?"container":"key";return M(F)+W+" "+B+" did not get coerced"},dynamic:function(F,B,E,W){return[M(F)+"key",B,"(set to '"+E+"')","got reset to","'"+W+"'","during defaults."].join(" ")},invisible:function(F,B){return(B?M(F)+"item "+B:"Trace "+F[1])+" got defaulted to be not visible"},value:function(F,B,E){return[M(F)+"key "+B,"is set to an invalid value ("+E+")"].join(" ")}};function M(F){return T(F)?"In data trace "+F[1]+", ":"In "+F+", "}function I(F,B,E,W,X){E=E||"";var ie,L;T(B)?(ie=B[0],L=B[1]):(ie=B,L=null);var me=U(E),ae=_[F](B,me,W,X);return g.log(ae),{code:F,container:ie,trace:L,path:E,astr:me,msg:ae}}function V(F,B){var E=z(B),W=E.keyMinusId,X=E.id;return W in F&&F[W]._isSubplotObj&&X?!0:B in F}function N(F,B){if(B in F)return F[B];var E=z(B);return F[E.keyMinusId]}var Q=g.counterRegex("([a-z]+)");function z(F){var B=F.match(Q);return{keyMinusId:B&&B[1],id:B&&B[2]}}function U(F){if(!T(F))return String(F);for(var B="",E=0;E<F.length;E++){var W=F[E];typeof W=="number"?B=B.substr(0,B.length-1)+"["+W+"]":B+=W,E<F.length-1&&(B+=".")}return B}},5594:function(d){d.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(d,h,c){var g=c(1828),v=c(4467);d.exports=function(b,O,T){var k=T.name,w=T.inclusionAttr||"visible",C=O[k],_=g.isArrayOrTypedArray(b[k])?b[k]:[],M=O[k]=[],I=v.arrayTemplater(O,k,w),V,N;for(V=0;V<_.length;V++){var Q=_[V];g.isPlainObject(Q)?N=I.newItem(Q):(N=I.newItem({}),N[w]=!1),N._index=V,N[w]!==!1&&T.handleItemDefaults(Q,N,O,T),M.push(N)}var z=I.defaultItems();for(V=0;V<z.length;V++)N=z[V],N._index=M.length,T.handleItemDefaults({},N,O,T,{}),M.push(N);if(g.isArrayOrTypedArray(C)){var U=Math.min(C.length,M.length);for(V=0;V<U;V++)g.relinkPrivateKeys(M[V],C[V])}return M}},9012:function(d,h,c){var g=c(1940),v=c(7914);d.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:v.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(d,h,c){var g=c(2770),v=c(1828),y=v.dateTime2ms,b=v.incrementMonth,O=c(606),T=O.ONEAVGMONTH;d.exports=function(w,C,_,M){if(C.type!=="date")return{vals:M};var I=w[_+"periodalignment"];if(!I)return{vals:M};var V=w[_+"period"],N;if(g(V)){if(V=+V,V<=0)return{vals:M}}else if(typeof V=="string"&&V.charAt(0)==="M"){var Q=+V.substring(1);if(Q>0&&Math.round(Q)===Q)N=Q;else return{vals:M}}for(var z=C.calendar,U=I==="start",F=I==="end",B=w[_+"period0"],E=y(B,z)||0,W=[],X=[],ie=[],L=M.length,me=0;me<L;me++){var ae=M[me],q,de,ee;if(N){for(q=Math.round((ae-E)/(N*T)),ee=b(E,N*q,z);ee>ae;)ee=b(ee,-N,z);for(;ee<=ae;)ee=b(ee,N,z);de=b(ee,-N,z)}else{for(q=Math.round((ae-E)/V),ee=E+q*V;ee>ae;)ee-=V;for(;ee<=ae;)ee+=V;de=ee-V}W[me]=U?de:F?ee:(de+ee)/2,X[me]=de,ie[me]=ee}return{vals:W,starts:X,ends:ie}}},9502:function(d){d.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(d,h,c){var g=c(9898),v=c(2770),y=c(1828),b=c(606).FP_SAFE,O=c(3972),T=c(1424),k=c(1675),w=k.getFromId,C=k.isLinked;d.exports={applyAutorangeOptions:q,getAutoRange:_,makePadFn:I,doAutoRange:z,findExtremes:U,concatExtremes:Q};function _(de,ee){var xe,we,Be=[],pe=de._fullLayout,ne=I(pe,ee,0),le=I(pe,ee,1),Y=Q(de,ee),ve=Y.min,Oe=Y.max;if(ve.length===0||Oe.length===0)return y.simpleMap(ee.range,ee.r2l);var Le=ve[0].val,Te=Oe[0].val;for(xe=1;xe<ve.length&&Le===Te;xe++)Le=Math.min(Le,ve[xe].val);for(xe=1;xe<Oe.length&&Le===Te;xe++)Te=Math.max(Te,Oe[xe].val);var De=ee.autorange,Ve=De==="reversed"||De==="min reversed"||De==="max reversed";if(!Ve&&ee.range){var _e=y.simpleMap(ee.range,ee.r2l);Ve=_e[1]<_e[0]}ee.autorange==="reversed"&&(ee.autorange=!0);var Ie=ee.rangemode,re=Ie==="tozero",be=Ie==="nonnegative",te=ee._length,se=te/10,fe=0,oe,Se,ce,ke,Qe,Ze;for(xe=0;xe<ve.length;xe++)for(oe=ve[xe],we=0;we<Oe.length;we++)Se=Oe[we],Ze=Se.val-oe.val-M(ee,oe.val,Se.val),Ze>0&&(Qe=te-ne(oe)-le(Se),Qe>se?Ze/Qe>fe&&(ce=oe,ke=Se,fe=Ze/Qe):Ze/te>fe&&(ce={val:oe.val,nopad:1},ke={val:Se.val,nopad:1},fe=Ze/te));function Xe(et,yt){return Math.max(et,le(yt))}if(Le===Te){var ct=Le-1,pt=Le+1;if(re)if(Le===0)Be=[0,1];else{var Ye=(Le>0?Oe:ve).reduce(Xe,0),je=Le/(1-Math.min(.5,Ye/te));Be=Le>0?[0,je]:[je,0]}else be?Be=[Math.max(0,ct),Math.max(1,pt)]:Be=[ct,pt]}else re?(ce.val>=0&&(ce={val:0,nopad:1}),ke.val<=0&&(ke={val:0,nopad:1})):be&&(ce.val-fe*ne(ce)<0&&(ce={val:0,nopad:1}),ke.val<=0&&(ke={val:1,nopad:1})),fe=(ke.val-ce.val-M(ee,oe.val,Se.val))/(te-ne(ce)-le(ke)),Be=[ce.val-fe*ne(ce),ke.val+fe*le(ke)];return Be=q(Be,ee),ee.limitRange&&ee.limitRange(),Ve&&Be.reverse(),y.simpleMap(Be,ee.l2r||Number)}function M(de,ee,xe){var we=0;if(de.rangebreaks)for(var Be=de.locateBreaks(ee,xe),pe=0;pe<Be.length;pe++){var ne=Be[pe];we+=ne.max-ne.min}return we}function I(de,ee,xe){var we=.05*ee._length,Be=ee._anchorAxis||{};if((ee.ticklabelposition||"").indexOf("inside")!==-1||(Be.ticklabelposition||"").indexOf("inside")!==-1){var pe=ee.isReversed();if(!pe){var ne=y.simpleMap(ee.range,ee.r2l);pe=ne[1]<ne[0]}pe&&(xe=!xe)}var le=0;return C(de,ee._id)||(le=N(de,ee,xe)),we=Math.max(le,we),ee.constrain==="domain"&&ee._inputDomain&&(we*=(ee._inputDomain[1]-ee._inputDomain[0])/(ee.domain[1]-ee.domain[0])),function(ve){return ve.nopad?0:ve.pad+(ve.extrapad?we:le)}}var V=3;function N(de,ee,xe){var we=0,Be=ee._id.charAt(0)==="x";for(var pe in de._plots){var ne=de._plots[pe];if(!(ee._id!==ne.xaxis._id&&ee._id!==ne.yaxis._id)){var le=(Be?ne.yaxis:ne.xaxis)||{};if((le.ticklabelposition||"").indexOf("inside")!==-1&&(!xe&&(le.side==="left"||le.side==="bottom")||xe&&(le.side==="top"||le.side==="right"))){if(le._vals){var Y=y.deg2rad(le._tickAngles[le._id+"tick"]||0),ve=Math.abs(Math.cos(Y)),Oe=Math.abs(Math.sin(Y));if(!le._vals[0].bb){var Le=le._id+"tick",Te=le._selections[Le];Te.each(function(be){var te=g.select(this),se=te.select(".text-math-group");se.empty()&&(be.bb=T.bBox(te.node()))})}for(var De=0;De<le._vals.length;De++){var Ve=le._vals[De],_e=Ve.bb;if(_e){var Ie=2*V+_e.width,re=2*V+_e.height;we=Math.max(we,Be?Math.max(Ie*ve,re*Oe):Math.max(re*ve,Ie*Oe))}}}le.ticks==="inside"&&le.ticklabelposition==="inside"&&(we+=le.ticklen||0)}}}return we}function Q(de,ee,xe){var we=ee._id,Be=de._fullData,pe=de._fullLayout,ne=[],le=[],Y,ve,Oe;function Le(Ie,re){for(Y=0;Y<re.length;Y++){var be=Ie[re[Y]],te=(be._extremes||{})[we];if(be.visible===!0&&te){for(ve=0;ve<te.min.length;ve++)Oe=te.min[ve],F(ne,Oe.val,Oe.pad,{extrapad:Oe.extrapad});for(ve=0;ve<te.max.length;ve++)Oe=te.max[ve],B(le,Oe.val,Oe.pad,{extrapad:Oe.extrapad})}}}if(Le(Be,ee._traceIndices),Le(pe.annotations||[],ee._annIndices||[]),Le(pe.shapes||[],ee._shapeIndices||[]),ee._matchGroup&&!xe){for(var Te in ee._matchGroup)if(Te!==ee._id){var De=w(de,Te),Ve=Q(de,De,!0),_e=ee._length/De._length;for(ve=0;ve<Ve.min.length;ve++)Oe=Ve.min[ve],F(ne,Oe.val,Oe.pad*_e,{extrapad:Oe.extrapad});for(ve=0;ve<Ve.max.length;ve++)Oe=Ve.max[ve],B(le,Oe.val,Oe.pad*_e,{extrapad:Oe.extrapad})}}return{min:ne,max:le}}function z(de,ee,xe){if(ee.setScale(),ee.autorange){ee.range=xe?xe.slice():_(de,ee),ee._r=ee.range.slice(),ee._rl=y.simpleMap(ee._r,ee.r2l);var we=ee._input,Be={};Be[ee._attr+".range"]=ee.range,Be[ee._attr+".autorange"]=ee.autorange,O.call("_storeDirectGUIEdit",de.layout,de._fullLayout._preGUI,Be),we.range=ee.range.slice(),we.autorange=ee.autorange}var pe=ee._anchorAxis;if(pe&&pe.rangeslider){var ne=pe.rangeslider[ee._name];ne&&ne.rangemode==="auto"&&(ne.range=_(de,ee)),pe._input.rangeslider[ee._name]=y.extendFlat({},ne)}}function U(de,ee,xe){xe||(xe={}),de._m||de.setScale();var we=[],Be=[],pe=ee.length,ne=xe.padded||!1,le=xe.tozero&&(de.type==="linear"||de.type==="-"),Y=de.type==="log",ve=!1,Oe=xe.vpadLinearized||!1,Le,Te,De,Ve,_e,Ie,re,be,te;function se(Xe){if(Array.isArray(Xe))return ve=!0,function(pt){return Math.max(Number(Xe[pt]||0),0)};var ct=Math.max(Number(Xe||0),0);return function(){return ct}}var fe=se((de._m>0?xe.ppadplus:xe.ppadminus)||xe.ppad||0),oe=se((de._m>0?xe.ppadminus:xe.ppadplus)||xe.ppad||0),Se=se(xe.vpadplus||xe.vpad),ce=se(xe.vpadminus||xe.vpad);if(!ve){if(be=1/0,te=-1/0,Y)for(Le=0;Le<pe;Le++)Te=ee[Le],Te<be&&Te>0&&(be=Te),Te>te&&Te<b&&(te=Te);else for(Le=0;Le<pe;Le++)Te=ee[Le],Te<be&&Te>-b&&(be=Te),Te>te&&Te<b&&(te=Te);ee=[be,te],pe=2}var ke={tozero:le,extrapad:ne};function Qe(Xe){De=ee[Xe],v(De)&&(Ie=fe(Xe),re=oe(Xe),Oe?(Ve=de.c2l(De)-ce(Xe),_e=de.c2l(De)+Se(Xe)):(be=De-ce(Xe),te=De+Se(Xe),Y&&be<te/10&&(be=te/10),Ve=de.c2l(be),_e=de.c2l(te)),le&&(Ve=Math.min(0,Ve),_e=Math.max(0,_e)),W(Ve)&&F(we,Ve,re,ke),W(_e)&&B(Be,_e,Ie,ke))}var Ze=Math.min(6,pe);for(Le=0;Le<Ze;Le++)Qe(Le);for(Le=pe-1;Le>=Ze;Le--)Qe(Le);return{min:we,max:Be,opts:xe}}function F(de,ee,xe,we){E(de,ee,xe,we,X)}function B(de,ee,xe,we){E(de,ee,xe,we,ie)}function E(de,ee,xe,we,Be){for(var pe=we.tozero,ne=we.extrapad,le=!0,Y=0;Y<de.length&&le;Y++){var ve=de[Y];if(Be(ve.val,ee)&&ve.pad>=xe&&(ve.extrapad||!ne)){le=!1;break}else Be(ee,ve.val)&&ve.pad<=xe&&(ne||!ve.extrapad)&&(de.splice(Y,1),Y--)}if(le){var Oe=pe&&ee===0;de.push({val:ee,pad:Oe?0:xe,extrapad:Oe?!1:ne})}}function W(de){return v(de)&&Math.abs(de)<b}function X(de,ee){return de<=ee}function ie(de,ee){return de>=ee}function L(de,ee){var xe=ee.autorangeoptions;return xe&&xe.minallowed!==void 0&&ae(ee,xe.minallowed,xe.maxallowed)?xe.minallowed:xe&&xe.clipmin!==void 0&&ae(ee,xe.clipmin,xe.clipmax)?Math.max(de,ee.d2l(xe.clipmin)):de}function me(de,ee){var xe=ee.autorangeoptions;return xe&&xe.maxallowed!==void 0&&ae(ee,xe.minallowed,xe.maxallowed)?xe.maxallowed:xe&&xe.clipmax!==void 0&&ae(ee,xe.clipmin,xe.clipmax)?Math.min(de,ee.d2l(xe.clipmax)):de}function ae(de,ee,xe){return ee!==void 0&&xe!==void 0?(ee=de.d2l(ee),xe=de.d2l(xe),ee<xe):!0}function q(de,ee){if(!ee||!ee.autorangeoptions)return de;var xe=de[0],we=de[1],Be=ee.autorangeoptions.include;if(Be!==void 0){var pe=ee.d2l(xe),ne=ee.d2l(we);y.isArrayOrTypedArray(Be)||(Be=[Be]);for(var le=0;le<Be.length;le++){var Y=ee.d2l(Be[le]);pe>=Y&&(pe=Y,xe=Y),ne<=Y&&(ne=Y,we=Y)}}return xe=L(xe,ee),we=me(we,ee),[xe,we]}},3074:function(d){d.exports=function(c,g,v){var y,b;if(v){var O=g==="reversed"||g==="min reversed"||g==="max reversed";y=v[O?1:0],b=v[O?0:1]}var T=c("autorangeoptions.minallowed",b===null?y:void 0),k=c("autorangeoptions.maxallowed",y===null?b:void 0);T===void 0&&c("autorangeoptions.clipmin"),k===void 0&&c("autorangeoptions.clipmax"),c("autorangeoptions.include")}},9298:function(d,h,c){var g=c(9898),v=c(2770),y=c(4875),b=c(3972),O=c(1828),T=O.strTranslate,k=c(3893),w=c(2998),C=c(7901),_=c(1424),M=c(3838),I=c(6287),V=c(606),N=V.ONEMAXYEAR,Q=V.ONEAVGYEAR,z=V.ONEMINYEAR,U=V.ONEMAXQUARTER,F=V.ONEAVGQUARTER,B=V.ONEMINQUARTER,E=V.ONEMAXMONTH,W=V.ONEAVGMONTH,X=V.ONEMINMONTH,ie=V.ONEWEEK,L=V.ONEDAY,me=L/2,ae=V.ONEHOUR,q=V.ONEMIN,de=V.ONESEC,ee=V.MINUS_SIGN,xe=V.BADNUM,we={K:"zeroline"},Be={K:"gridline",L:"path"},pe={K:"minor-gridline",L:"path"},ne={K:"tick",L:"path"},le={K:"tick",L:"text"},Y={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ve=c(8783),Oe=ve.MID_SHIFT,Le=ve.CAP_SHIFT,Te=ve.LINE_SPACING,De=ve.OPPOSITE_SIDE,Ve=3,_e=d.exports={};_e.setConvert=c(1994);var Ie=c(4322),re=c(1675),be=re.idSort,te=re.isLinked;_e.id2name=re.id2name,_e.name2id=re.name2id,_e.cleanId=re.cleanId,_e.list=re.list,_e.listIds=re.listIds,_e.getFromId=re.getFromId,_e.getFromTrace=re.getFromTrace;var se=c(1739);_e.getAutoRange=se.getAutoRange,_e.findExtremes=se.findExtremes;var fe=1e-4;function oe(Fe){var Ee=(Fe[1]-Fe[0])*fe;return[Fe[0]-Ee,Fe[1]+Ee]}_e.coerceRef=function(Fe,Ee,St,Tt,Lt,Ft){var Ht=Tt.charAt(Tt.length-1),$t=St._fullLayout._subplots[Ht+"axis"],Mt=Tt+"ref",tn={};return Lt||(Lt=$t[0]||(typeof Ft=="string"?Ft:Ft[0])),Ft||(Ft=Lt),$t=$t.concat($t.map(function(un){return un+" domain"})),tn[Mt]={valType:"enumerated",values:$t.concat(Ft?typeof Ft=="string"?[Ft]:Ft:[]),dflt:Lt},O.coerce(Fe,Ee,tn,Mt)},_e.getRefType=function(Fe){return Fe===void 0?Fe:Fe==="paper"?"paper":Fe==="pixel"?"pixel":/( domain)$/.test(Fe)?"domain":"range"},_e.coercePosition=function(Fe,Ee,St,Tt,Lt,Ft){var Ht,$t,Mt=_e.getRefType(Tt);if(Mt!=="range")Ht=O.ensureNumber,$t=St(Lt,Ft);else{var tn=_e.getFromId(Ee,Tt);Ft=tn.fraction2r(Ft),$t=St(Lt,Ft),Ht=tn.cleanPos}Fe[Lt]=Ht($t)},_e.cleanPosition=function(Fe,Ee,St){var Tt=St==="paper"||St==="pixel"?O.ensureNumber:_e.getFromId(Ee,St).cleanPos;return Tt(Fe)},_e.redrawComponents=function(Fe,Ee){Ee=Ee||_e.listIds(Fe);var St=Fe._fullLayout;function Tt(Lt,Ft,Ht,$t){for(var Mt=b.getComponentMethod(Lt,Ft),tn={},un=0;un<Ee.length;un++)for(var en=St[_e.id2name(Ee[un])],on=en[Ht],Cn=0;Cn<on.length;Cn++){var On=on[Cn];if(!tn[On]&&(Mt(Fe,On),tn[On]=1,$t))return}}Tt("annotations","drawOne","_annIndices"),Tt("shapes","drawOne","_shapeIndices"),Tt("images","draw","_imgIndices",!0),Tt("selections","drawOne","_selectionIndices")};var Se=_e.getDataConversions=function(Fe,Ee,St,Tt){var Lt,Ft=St==="x"||St==="y"||St==="z"?St:Tt;if(Array.isArray(Ft)){if(Lt={type:Ie(Tt,void 0,{autotypenumbers:Fe._fullLayout.autotypenumbers}),_categories:[]},_e.setConvert(Lt),Lt.type==="category")for(var Ht=0;Ht<Tt.length;Ht++)Lt.d2c(Tt[Ht])}else Lt=_e.getFromTrace(Fe,Ee,Ft);return Lt?{d2c:Lt.d2c,c2d:Lt.c2d}:Ft==="ids"?{d2c:ke,c2d:ke}:{d2c:ce,c2d:ce}};function ce(Fe){return+Fe}function ke(Fe){return String(Fe)}_e.getDataToCoordFunc=function(Fe,Ee,St,Tt){return Se(Fe,Ee,St,Tt).d2c},_e.counterLetter=function(Fe){var Ee=Fe.charAt(0);if(Ee==="x")return"y";if(Ee==="y")return"x"},_e.minDtick=function(Fe,Ee,St,Tt){["log","category","multicategory"].indexOf(Fe.type)!==-1||!Tt?Fe._minDtick=0:Fe._minDtick===void 0?(Fe._minDtick=Ee,Fe._forceTick0=St):Fe._minDtick&&((Fe._minDtick/Ee+1e-6)%1<2e-6&&((St-Fe._forceTick0)/Ee%1+1.000001)%1<2e-6?(Fe._minDtick=Ee,Fe._forceTick0=St):((Ee/Fe._minDtick+1e-6)%1>2e-6||((St-Fe._forceTick0)/Fe._minDtick%1+1.000001)%1>2e-6)&&(Fe._minDtick=0))},_e.saveRangeInitial=function(Fe,Ee){for(var St=_e.list(Fe,"",!0),Tt=!1,Lt=0;Lt<St.length;Lt++){var Ft=St[Lt],Ht=Ft._rangeInitial0===void 0&&Ft._rangeInitial1===void 0,$t=Ht||Ft.range[0]!==Ft._rangeInitial0||Ft.range[1]!==Ft._rangeInitial1,Mt=Ft.autorange;(Ht&&Mt!==!0||Ee&&$t)&&(Ft._rangeInitial0=Mt==="min"||Mt==="max reversed"?void 0:Ft.range[0],Ft._rangeInitial1=Mt==="max"||Mt==="min reversed"?void 0:Ft.range[1],Ft._autorangeInitial=Mt,Tt=!0)}return Tt},_e.saveShowSpikeInitial=function(Fe,Ee){for(var St=_e.list(Fe,"",!0),Tt=!1,Lt="on",Ft=0;Ft<St.length;Ft++){var Ht=St[Ft],$t=Ht._showSpikeInitial===void 0,Mt=$t||Ht.showspikes!==Ht._showspikes;($t||Ee&&Mt)&&(Ht._showSpikeInitial=Ht.showspikes,Tt=!0),Lt==="on"&&!Ht.showspikes&&(Lt="off")}return Fe._fullLayout._cartesianSpikesEnabled=Lt,Tt},_e.autoBin=function(Fe,Ee,St,Tt,Lt,Ft){var Ht=O.aggNums(Math.min,null,Fe),$t=O.aggNums(Math.max,null,Fe);if(Ee.type==="category"||Ee.type==="multicategory")return{start:Ht-.5,end:$t+.5,size:Math.max(1,Math.round(Ft)||1),_dataSpan:$t-Ht};Lt||(Lt=Ee.calendar);var Mt;if(Ee.type==="log"?Mt={type:"linear",range:[Ht,$t]}:Mt={type:Ee.type,range:O.simpleMap([Ht,$t],Ee.c2r,0,Lt),calendar:Lt},_e.setConvert(Mt),Ft=Ft&&I.dtick(Ft,Mt.type),Ft)Mt.dtick=Ft,Mt.tick0=I.tick0(void 0,Mt.type,Lt);else{var tn;if(St)tn=($t-Ht)/St;else{var un=O.distinctVals(Fe),en=Math.pow(10,Math.floor(Math.log(un.minDiff)/Math.LN10)),on=en*O.roundUp(un.minDiff/en,[.9,1.9,4.9,9.9],!0);tn=Math.max(on,2*O.stdev(Fe)/Math.pow(Fe.length,Tt?.25:.4)),v(tn)||(tn=1)}_e.autoTicks(Mt,tn)}var Cn=Mt.dtick,On=_e.tickIncrement(_e.tickFirst(Mt),Cn,"reverse",Lt),pn,Jn;if(typeof Cn=="number")On=Qe(On,Fe,Mt,Ht,$t),Jn=1+Math.floor(($t-On)/Cn),pn=On+Jn*Cn;else for(Mt.dtick.charAt(0)==="M"&&(On=Ze(On,Fe,Cn,Ht,Lt)),pn=On,Jn=0;pn<=$t;)pn=_e.tickIncrement(pn,Cn,!1,Lt),Jn++;return{start:Ee.c2r(On,0,Lt),end:Ee.c2r(pn,0,Lt),size:Cn,_dataSpan:$t-Ht}};function Qe(Fe,Ee,St,Tt,Lt){var Ft=0,Ht=0,$t=0,Mt=0;function tn(Cn){return(1+(Cn-Fe)*100/St.dtick)%100<2}for(var un=0;un<Ee.length;un++)Ee[un]%1===0?$t++:v(Ee[un])||Mt++,tn(Ee[un])&&Ft++,tn(Ee[un]+St.dtick/2)&&Ht++;var en=Ee.length-Mt;if($t===en&&St.type!=="date")St.dtick<1?Fe=Tt-.5*St.dtick:(Fe-=.5,Fe+St.dtick<Tt&&(Fe+=St.dtick));else if(Ht<en*.1&&(Ft>en*.3||tn(Tt)||tn(Lt))){var on=St.dtick/2;Fe+=Fe+on<Tt?on:-on}return Fe}function Ze(Fe,Ee,St,Tt,Lt){var Ft=O.findExactDates(Ee,Lt),Ht=.8;if(Ft.exactDays>Ht){var $t=Number(St.substr(1));Ft.exactYears>Ht&&$t%12===0?Fe=_e.tickIncrement(Fe,"M6","reverse")+L*1.5:Ft.exactMonths>Ht?Fe=_e.tickIncrement(Fe,"M1","reverse")+L*15.5:Fe-=me;var Mt=_e.tickIncrement(Fe,St);if(Mt<=Tt)return Mt}return Fe}_e.prepMinorTicks=function(Fe,Ee,St){if(!Ee.minor.dtick){delete Fe.dtick;var Tt=Ee.dtick&&v(Ee._tmin),Lt;if(Tt){var Ft=_e.tickIncrement(Ee._tmin,Ee.dtick,!0);Lt=[Ee._tmin,Ft*.99+Ee._tmin*.01]}else{var Ht=O.simpleMap(Ee.range,Ee.r2l);Lt=[Ht[0],.8*Ht[0]+.2*Ht[1]]}if(Fe.range=O.simpleMap(Lt,Ee.l2r),Fe._isMinor=!0,_e.prepTicks(Fe,St),Tt){var $t=v(Ee.dtick),Mt=v(Fe.dtick),tn=$t?Ee.dtick:+Ee.dtick.substring(1),un=Mt?Fe.dtick:+Fe.dtick.substring(1);$t&&Mt?Xe(tn,un)?tn===2*ie&&un===2*L&&(Fe.dtick=ie):tn===2*ie&&un===3*L?Fe.dtick=ie:tn===ie&&!(Ee._input.minor||{}).nticks?Fe.dtick=L:ct(tn/un,2.5)?Fe.dtick=tn/2:Fe.dtick=tn:String(Ee.dtick).charAt(0)==="M"?Mt?Fe.dtick="M1":Xe(tn,un)?tn>=12&&un===2&&(Fe.dtick="M3"):Fe.dtick=Ee.dtick:String(Fe.dtick).charAt(0)==="L"?String(Ee.dtick).charAt(0)==="L"?Xe(tn,un)||(Fe.dtick=ct(tn/un,2.5)?Ee.dtick/2:Ee.dtick):Fe.dtick="D1":Fe.dtick==="D2"&&+Ee.dtick>1&&(Fe.dtick=1)}Fe.range=Ee.range}Ee.minor._tick0Init===void 0&&(Fe.tick0=Ee.tick0)};function Xe(Fe,Ee){return Math.abs((Fe/Ee+.5)%1-.5)<.001}function ct(Fe,Ee){return Math.abs(Fe/Ee-1)<.001}_e.prepTicks=function(Fe,Ee){var St=O.simpleMap(Fe.range,Fe.r2l,void 0,void 0,Ee);if(Fe.tickmode==="auto"||!Fe.dtick){var Tt=Fe.nticks,Lt;Tt||(Fe.type==="category"||Fe.type==="multicategory"?(Lt=Fe.tickfont?O.bigFont(Fe.tickfont.size||12):15,Tt=Fe._length/Lt):(Lt=Fe._id.charAt(0)==="y"?40:80,Tt=O.constrain(Fe._length/Lt,4,9)+1),Fe._name==="radialaxis"&&(Tt*=2)),Fe.minor&&Fe.minor.tickmode!=="array"||Fe.tickmode==="array"&&(Tt*=100),Fe._roughDTick=Math.abs(St[1]-St[0])/Tt,_e.autoTicks(Fe,Fe._roughDTick),Fe._minDtick>0&&Fe.dtick<Fe._minDtick*2&&(Fe.dtick=Fe._minDtick,Fe.tick0=Fe.l2r(Fe._forceTick0))}Fe.ticklabelmode==="period"&&Ye(Fe),Fe.tick0||(Fe.tick0=Fe.type==="date"?"2000-01-01":0),Fe.type==="date"&&Fe.dtick<.1&&(Fe.dtick=.1),ln(Fe)};function pt(Fe){return+Fe.substring(1)}function Ye(Fe){var Ee;function St(){return!(v(Fe.dtick)||Fe.dtick.charAt(0)!=="M")}var Tt=St(),Lt=_e.getTickFormat(Fe);if(Lt){var Ft=Fe._dtickInit!==Fe.dtick;/%[fLQsSMX]/.test(Lt)||(/%[HI]/.test(Lt)?(Ee=ae,Ft&&!Tt&&Fe.dtick<ae&&(Fe.dtick=ae)):/%p/.test(Lt)?(Ee=me,Ft&&!Tt&&Fe.dtick<me&&(Fe.dtick=me)):/%[Aadejuwx]/.test(Lt)?(Ee=L,Ft&&!Tt&&Fe.dtick<L&&(Fe.dtick=L)):/%[UVW]/.test(Lt)?(Ee=ie,Ft&&!Tt&&Fe.dtick<ie&&(Fe.dtick=ie)):/%[Bbm]/.test(Lt)?(Ee=W,Ft&&(Tt?pt(Fe.dtick)<1:Fe.dtick<X)&&(Fe.dtick="M1")):/%[q]/.test(Lt)?(Ee=F,Ft&&(Tt?pt(Fe.dtick)<3:Fe.dtick<B)&&(Fe.dtick="M3")):/%[Yy]/.test(Lt)&&(Ee=Q,Ft&&(Tt?pt(Fe.dtick)<12:Fe.dtick<z)&&(Fe.dtick="M12")))}Tt=St(),Tt&&Fe.tick0===Fe._dowTick0&&(Fe.tick0=Fe._rawTick0),Fe._definedDelta=Ee}function je(Fe,Ee,St){for(var Tt=0;Tt<Fe.length;Tt++){var Lt=Fe[Tt].value,Ft=Tt,Ht=Tt+1;Tt<Fe.length-1?(Ft=Tt,Ht=Tt+1):Tt>0?(Ft=Tt-1,Ht=Tt):(Ft=Tt,Ht=Tt);var $t=Fe[Ft].value,Mt=Fe[Ht].value,tn=Math.abs(Mt-$t),un=St||tn,en=0;un>=z?tn>=z&&tn<=N?en=tn:en=Q:St===F&&un>=B?tn>=B&&tn<=U?en=tn:en=F:un>=X?tn>=X&&tn<=E?en=tn:en=W:St===ie&&un>=ie?en=ie:un>=L?en=L:St===me&&un>=me?en=me:St===ae&&un>=ae&&(en=ae);var on;en>=tn&&(en=tn,on=!0);var Cn=Lt+en;if(Ee.rangebreaks&&en>0){for(var On=84,pn=0,Jn=0;Jn<On;Jn++){var Fn=(Jn+.5)/On;Ee.maskBreaks(Lt*(1-Fn)+Fn*Cn)!==xe&&pn++}en*=pn/On,en||(Fe[Tt].drop=!0),on&&tn>ie&&(en=tn)}(en>0||Tt===0)&&(Fe[Tt].periodX=Lt+en/2)}}_e.calcTicks=function(Ee,St){for(var Tt=Ee.type,Lt=Ee.calendar,Ft=Ee.ticklabelstep,Ht=Ee.ticklabelmode==="period",$t=O.simpleMap(Ee.range,Ee.r2l,void 0,void 0,St),Mt=$t[1]<$t[0],tn=Math.min($t[0],$t[1]),un=Math.max($t[0],$t[1]),en=Math.max(1e3,Ee._length||0),on=[],Cn=[],On=[],pn=[],Jn=Ee.minor&&(Ee.minor.ticks||Ee.minor.showgrid),Fn=1;Fn>=(Jn?0:1);Fn--){var Zr=!Fn;Fn?(Ee._dtickInit=Ee.dtick,Ee._tick0Init=Ee.tick0):(Ee.minor._dtickInit=Ee.minor.dtick,Ee.minor._tick0Init=Ee.minor.tick0);var dr=Fn?Ee:O.extendFlat({},Ee,Ee.minor);if(Zr?_e.prepMinorTicks(dr,Ee,St):_e.prepTicks(dr,St),dr.tickmode==="array"){Fn?(On=[],on=ft(Ee)):(pn=[],Cn=ft(Ee));continue}if(dr.tickmode==="sync"){On=[],on=yt(Ee);continue}var Ur=oe($t),ar=Ur[0],ur=Ur[1],qr=v(dr.dtick),to=Tt==="log"&&!(qr||dr.dtick.charAt(0)==="L"),Ao=_e.tickFirst(dr,St);if(Fn){if(Ee._tmin=Ao,Ao<ar!==Mt)break;(Tt==="category"||Tt==="multicategory")&&(ur=Mt?Math.max(-.5,ur):Math.min(Ee._categories.length-.5,ur))}var _s=null,wo=Ao,Ko;if(Fn){var hs;qr?hs=Ee.dtick:Tt==="date"?typeof Ee.dtick=="string"&&Ee.dtick.charAt(0)==="M"&&(hs=W*Ee.dtick.substring(1)):hs=Ee._roughDTick,Ko=Math.round((Ee.r2l(wo)-Ee.r2l(Ee.tick0))/hs)-1}var qs=dr.dtick;for(dr.rangebreaks&&dr._tick0Init!==dr.tick0&&(wo=sr(wo,Ee),Mt||(wo=_e.tickIncrement(wo,qs,!Mt,Lt))),Fn&&Ht&&(wo=_e.tickIncrement(wo,qs,!Mt,Lt),Ko--);Mt?wo>=ur:wo<=ur;wo=_e.tickIncrement(wo,qs,Mt,Lt)){if(Fn&&Ko++,dr.rangebreaks&&!Mt){if(wo<ar)continue;if(dr.maskBreaks(wo)===xe&&sr(wo,dr)>=un)break}if(On.length>en||wo===_s)break;_s=wo;var ns={value:wo};Fn?(to&&wo!==(wo|0)&&(ns.simpleLabel=!0),Ft>1&&Ko%Ft&&(ns.skipLabel=!0),On.push(ns)):(ns.minor=!0,pn.push(ns))}}if(Jn){var Xs=Ee.minor.ticks==="inside"&&Ee.ticks==="outside"||Ee.minor.ticks==="outside"&&Ee.ticks==="inside";if(!Xs){for(var Xa=On.map(function(Mo){return Mo.value}),Cc=[],ui=0;ui<pn.length;ui++){var au=pn[ui],Ba=au.value;if(Xa.indexOf(Ba)===-1){for(var ea=!1,ba=0;!ea&&ba<On.length;ba++)1e7+On[ba].value===1e7+Ba&&(ea=!0);ea||Cc.push(au)}}pn=Cc}}Ht&&je(On,Ee,Ee._definedDelta);var oa;if(Ee.rangebreaks){var iu=Ee._id.charAt(0)==="y",Dr=1;Ee.tickmode==="auto"&&(Dr=Ee.tickfont?Ee.tickfont.size:12);var Tc=NaN;for(oa=On.length-1;oa>-1;oa--){if(On[oa].drop){On.splice(oa,1);continue}On[oa].value=sr(On[oa].value,Ee);var sa=Ee.c2p(On[oa].value);(iu?Tc>sa-Dr:Tc<sa+Dr)?On.splice(Mt?oa+1:oa,1):Tc=sa}}Sr(Ee)&&Math.abs($t[1]-$t[0])===360&&On.pop(),Ee._tmax=(On[On.length-1]||{}).value,Ee._prevDateHead="",Ee._inCalcTicks=!0;var $i,Id=function(Mo){Mo.text="",Ee._prevDateHead=$i};On=On.concat(pn);var aa,wu;for(oa=0;oa<On.length;oa++){var Nd=On[oa].minor,Cu=On[oa].value;Nd?Cn.push({x:Cu,minor:!0}):($i=Ee._prevDateHead,aa=_e.tickText(Ee,Cu,!1,On[oa].simpleLabel),wu=On[oa].periodX,wu!==void 0&&(aa.periodX=wu,(wu>un||wu<tn)&&(wu>un&&(aa.periodX=un),wu<tn&&(aa.periodX=tn),Id(aa))),On[oa].skipLabel&&Id(aa),on.push(aa))}return on=on.concat(Cn),Ee._inCalcTicks=!1,Ht&&on.length&&(on[0].noTick=!0),on};function et(Fe,Ee){return Fe.rangebreaks&&(Ee=Ee.filter(function(St){return Fe.maskBreaks(St.x)!==xe})),Ee}function yt(Fe){var Ee=Fe._mainAxis,St=[];if(Ee._vals){for(var Tt=0;Tt<Ee._vals.length;Tt++)if(!Ee._vals[Tt].noTick){var Lt=Ee.l2p(Ee._vals[Tt].x),Ft=Fe.p2l(Lt),Ht=_e.tickText(Fe,Ft);Ee._vals[Tt].minor&&(Ht.minor=!0,Ht.text=""),St.push(Ht)}}return St=et(Fe,St),St}function ft(Fe){var Ee=O.simpleMap(Fe.range,Fe.r2l),St=oe(Ee),Tt=Math.min(St[0],St[1]),Lt=Math.max(St[0],St[1]),Ft=Fe.type==="category"?Fe.d2l_noadd:Fe.d2l;Fe.type==="log"&&String(Fe.dtick).charAt(0)!=="L"&&(Fe.dtick="L"+Math.pow(10,Math.floor(Math.min(Fe.range[0],Fe.range[1]))-1));for(var Ht=[],$t=0;$t<=1;$t++)if(!($t&&!Fe.minor)){var Mt=$t?Fe.minor.tickvals:Fe.tickvals,tn=$t?[]:Fe.ticktext;if(Mt){Array.isArray(tn)||(tn=[]);for(var un=0;un<Mt.length;un++){var en=Ft(Mt[un]);if(en>Tt&&en<Lt){var on=tn[un]===void 0?_e.tickText(Fe,en):Yn(Fe,en,String(tn[un]));$t&&(on.minor=!0,on.text=""),Ht.push(on)}}}}return Ht=et(Fe,Ht),Ht}var tt=[2,5,10],wt=[1,2,3,6,12],Xt=[1,2,5,10,15,30],Gt=[1,2,3,7,14],Nt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Bt=[-.301,0,.301,.699,1],vn=[15,30,45,90,180];function En(Fe,Ee,St){return Ee*O.roundUp(Fe/Ee,St)}_e.autoTicks=function(Fe,Ee,St){var Tt;function Lt(en){return Math.pow(en,Math.floor(Math.log(Ee)/Math.LN10))}if(Fe.type==="date"){Fe.tick0=O.dateTick0(Fe.calendar,0);var Ft=2*Ee;if(Ft>Q)Ee/=Q,Tt=Lt(10),Fe.dtick="M"+12*En(Ee,Tt,tt);else if(Ft>W)Ee/=W,Fe.dtick="M"+En(Ee,1,wt);else if(Ft>L){if(Fe.dtick=En(Ee,L,Fe._hasDayOfWeekBreaks?[1,2,7,14]:Gt),!St){var Ht=_e.getTickFormat(Fe),$t=Fe.ticklabelmode==="period";$t&&(Fe._rawTick0=Fe.tick0),/%[uVW]/.test(Ht)?Fe.tick0=O.dateTick0(Fe.calendar,2):Fe.tick0=O.dateTick0(Fe.calendar,1),$t&&(Fe._dowTick0=Fe.tick0)}}else Ft>ae?Fe.dtick=En(Ee,ae,wt):Ft>q?Fe.dtick=En(Ee,q,Xt):Ft>de?Fe.dtick=En(Ee,de,Xt):(Tt=Lt(10),Fe.dtick=En(Ee,Tt,tt))}else if(Fe.type==="log"){Fe.tick0=0;var Mt=O.simpleMap(Fe.range,Fe.r2l);if(Fe._isMinor&&(Ee*=1.5),Ee>.7)Fe.dtick=Math.ceil(Ee);else if(Math.abs(Mt[1]-Mt[0])<1){var tn=1.5*Math.abs((Mt[1]-Mt[0])/Ee);Ee=Math.abs(Math.pow(10,Mt[1])-Math.pow(10,Mt[0]))/tn,Tt=Lt(10),Fe.dtick="L"+En(Ee,Tt,tt)}else Fe.dtick=Ee>.3?"D2":"D1"}else Fe.type==="category"||Fe.type==="multicategory"?(Fe.tick0=0,Fe.dtick=Math.ceil(Math.max(Ee,1))):Sr(Fe)?(Fe.tick0=0,Tt=1,Fe.dtick=En(Ee,Tt,vn)):(Fe.tick0=0,Tt=Lt(10),Fe.dtick=En(Ee,Tt,tt));if(Fe.dtick===0&&(Fe.dtick=1),!v(Fe.dtick)&&typeof Fe.dtick!="string"){var un=Fe.dtick;throw Fe.dtick=1,"ax.dtick error: "+String(un)}};function ln(Fe){var Ee=Fe.dtick;if(Fe._tickexponent=0,!v(Ee)&&typeof Ee!="string"&&(Ee=1),(Fe.type==="category"||Fe.type==="multicategory")&&(Fe._tickround=null),Fe.type==="date"){var St=Fe.r2l(Fe.tick0),Tt=Fe.l2r(St).replace(/(^-|i)/g,""),Lt=Tt.length;if(String(Ee).charAt(0)==="M")Lt>10||Tt.substr(5)!=="01-01"?Fe._tickround="d":Fe._tickround=+Ee.substr(1)%12===0?"y":"m";else if(Ee>=L&&Lt<=10||Ee>=L*15)Fe._tickround="d";else if(Ee>=q&&Lt<=16||Ee>=ae)Fe._tickround="M";else if(Ee>=de&&Lt<=19||Ee>=q)Fe._tickround="S";else{var Ft=Fe.l2r(St+Ee).replace(/^-/,"").length;Fe._tickround=Math.max(Lt,Ft)-20,Fe._tickround<0&&(Fe._tickround=4)}}else if(v(Ee)||Ee.charAt(0)==="L"){var Ht=Fe.range.map(Fe.r2d||Number);v(Ee)||(Ee=Number(Ee.substr(1))),Fe._tickround=2-Math.floor(Math.log(Ee)/Math.LN10+.01);var $t=Math.max(Math.abs(Ht[0]),Math.abs(Ht[1])),Mt=Math.floor(Math.log($t)/Math.LN10+.01),tn=Fe.minexponent===void 0?3:Fe.minexponent;Math.abs(Mt)>tn&&(gt(Fe.exponentformat)&&!Dt(Mt)?Fe._tickexponent=3*Math.round((Mt-1)/3):Fe._tickexponent=Mt)}else Fe._tickround=null}_e.tickIncrement=function(Fe,Ee,St,Tt){var Lt=St?-1:1;if(v(Ee))return O.increment(Fe,Lt*Ee);var Ft=Ee.charAt(0),Ht=Lt*Number(Ee.substr(1));if(Ft==="M")return O.incrementMonth(Fe,Ht,Tt);if(Ft==="L")return Math.log(Math.pow(10,Fe)+Ht)/Math.LN10;if(Ft==="D"){var $t=Ee==="D2"?Bt:Nt,Mt=Fe+Lt*.01,tn=O.roundUp(O.mod(Mt,1),$t,St);return Math.floor(Mt)+Math.log(g.round(Math.pow(10,tn),1))/Math.LN10}throw"unrecognized dtick "+String(Ee)},_e.tickFirst=function(Fe,Ee){var St=Fe.r2l||Number,Tt=O.simpleMap(Fe.range,St,void 0,void 0,Ee),Lt=Tt[1]<Tt[0],Ft=Lt?Math.floor:Math.ceil,Ht=oe(Tt)[0],$t=Fe.dtick,Mt=St(Fe.tick0);if(v($t)){var tn=Ft((Ht-Mt)/$t)*$t+Mt;return(Fe.type==="category"||Fe.type==="multicategory")&&(tn=O.constrain(tn,0,Fe._categories.length-1)),tn}var un=$t.charAt(0),en=Number($t.substr(1));if(un==="M"){for(var on=0,Cn=Mt,On,pn,Jn;on<10;){if(On=_e.tickIncrement(Cn,$t,Lt,Fe.calendar),(On-Ht)*(Cn-Ht)<=0)return Lt?Math.min(Cn,On):Math.max(Cn,On);pn=(Ht-(Cn+On)/2)/(On-Cn),Jn=un+(Math.abs(Math.round(pn))||1)*en,Cn=_e.tickIncrement(Cn,Jn,pn<0?!Lt:Lt,Fe.calendar),on++}return O.error("tickFirst did not converge",Fe),Cn}else{if(un==="L")return Math.log(Ft((Math.pow(10,Ht)-Mt)/en)*en+Mt)/Math.LN10;if(un==="D"){var Fn=$t==="D2"?Bt:Nt,Zr=O.roundUp(O.mod(Ht,1),Fn,Lt);return Math.floor(Ht)+Math.log(g.round(Math.pow(10,Zr),1))/Math.LN10}else throw"unrecognized dtick "+String($t)}},_e.tickText=function(Fe,Ee,St,Tt){var Lt=Yn(Fe,Ee),Ft=Fe.tickmode==="array",Ht=St||Ft,$t=Fe.type,Mt=$t==="category"?Fe.d2l_noadd:Fe.d2l,tn;if(Ft&&Array.isArray(Fe.ticktext)){var un=O.simpleMap(Fe.range,Fe.r2l),en=(Math.abs(un[1]-un[0])-(Fe._lBreaks||0))/1e4;for(tn=0;tn<Fe.ticktext.length&&!(Math.abs(Ee-Mt(Fe.tickvals[tn]))<en);tn++);if(tn<Fe.ticktext.length)return Lt.text=String(Fe.ticktext[tn]),Lt}function on(Jn){if(Jn===void 0)return!0;if(St)return Jn==="none";var Fn={first:Fe._tmin,last:Fe._tmax}[Jn];return Jn!=="all"&&Ee!==Fn}var Cn=St?"never":Fe.exponentformat!=="none"&&on(Fe.showexponent)?"hide":"";if($t==="date"?an(Fe,Lt,St,Ht):$t==="log"?wn(Fe,Lt,St,Ht,Cn):$t==="category"?Xn(Fe,Lt):$t==="multicategory"?Un(Fe,Lt,St):Sr(Fe)?lt(Fe,Lt,St,Ht,Cn):Sn(Fe,Lt,St,Ht,Cn),Tt||(Fe.tickprefix&&!on(Fe.showtickprefix)&&(Lt.text=Fe.tickprefix+Lt.text),Fe.ticksuffix&&!on(Fe.showticksuffix)&&(Lt.text+=Fe.ticksuffix)),Fe.labelalias&&Fe.labelalias.hasOwnProperty(Lt.text)){var On=Fe.labelalias[Lt.text];typeof On=="string"&&(Lt.text=On)}if(Fe.tickson==="boundaries"||Fe.showdividers){var pn=function(Jn){var Fn=Fe.l2p(Jn);return Fn>=0&&Fn<=Fe._length?Jn:null};Lt.xbnd=[pn(Lt.x-.5),pn(Lt.x+Fe.dtick-.5)]}return Lt},_e.hoverLabelText=function(Fe,Ee,St){St&&(Fe=O.extendFlat({},Fe,{hoverformat:St}));var Tt=Array.isArray(Ee)?Ee[0]:Ee,Lt=Array.isArray(Ee)?Ee[1]:void 0;if(Lt!==void 0&&Lt!==Tt)return _e.hoverLabelText(Fe,Tt,St)+" - "+_e.hoverLabelText(Fe,Lt,St);var Ft=Fe.type==="log"&&Tt<=0,Ht=_e.tickText(Fe,Fe.c2l(Ft?-Tt:Tt),"hover").text;return Ft?Tt===0?"0":ee+Ht:Ht};function Yn(Fe,Ee,St){var Tt=Fe.tickfont||{};return{x:Ee,dx:0,dy:0,text:St||"",fontSize:Tt.size,font:Tt.family,fontColor:Tt.color}}function an(Fe,Ee,St,Tt){var Lt=Fe._tickround,Ft=St&&Fe.hoverformat||_e.getTickFormat(Fe);Tt&&(v(Lt)?Lt=4:Lt={y:"m",m:"d",d:"M",M:"S",S:4}[Lt]);var Ht=O.formatDate(Ee.x,Ft,Lt,Fe._dateFormat,Fe.calendar,Fe._extraFormat),$t,Mt=Ht.indexOf(`
`);if(Mt!==-1&&($t=Ht.substr(Mt+1),Ht=Ht.substr(0,Mt)),Tt&&(Ht==="00:00:00"||Ht==="00:00"?(Ht=$t,$t=""):Ht.length===8&&(Ht=Ht.replace(/:00$/,""))),$t)if(St)Lt==="d"?Ht+=", "+$t:Ht=$t+(Ht?", "+Ht:"");else if(!Fe._inCalcTicks||Fe._prevDateHead!==$t)Fe._prevDateHead=$t,Ht+="<br>"+$t;else{var tn=wr(Fe),un=Fe._trueSide||Fe.side;(!tn&&un==="top"||tn&&un==="bottom")&&(Ht+="<br> ")}Ee.text=Ht}function wn(Fe,Ee,St,Tt,Lt){var Ft=Fe.dtick,Ht=Ee.x,$t=Fe.tickformat,Mt=typeof Ft=="string"&&Ft.charAt(0);if(Lt==="never"&&(Lt=""),Tt&&Mt!=="L"&&(Ft="L3",Mt="L"),$t||Mt==="L")Ee.text=He(Math.pow(10,Ht),Fe,Lt,Tt);else if(v(Ft)||Mt==="D"&&O.mod(Ht+.01,1)<.1){var tn=Math.round(Ht),un=Math.abs(tn),en=Fe.exponentformat;en==="power"||gt(en)&&Dt(tn)?(tn===0?Ee.text=1:tn===1?Ee.text="10":Ee.text="10<sup>"+(tn>1?"":ee)+un+"</sup>",Ee.fontSize*=1.25):(en==="e"||en==="E")&&un>2?Ee.text="1"+en+(tn>0?"+":ee)+un:(Ee.text=He(Math.pow(10,Ht),Fe,"","fakehover"),Ft==="D1"&&Fe._id.charAt(0)==="y"&&(Ee.dy-=Ee.fontSize/6))}else if(Mt==="D")Ee.text=String(Math.round(Math.pow(10,O.mod(Ht,1)))),Ee.fontSize*=.75;else throw"unrecognized dtick "+String(Ft);if(Fe.dtick==="D1"){var on=String(Ee.text).charAt(0);(on==="0"||on==="1")&&(Fe._id.charAt(0)==="y"?Ee.dx-=Ee.fontSize/4:(Ee.dy+=Ee.fontSize/2,Ee.dx+=(Fe.range[1]>Fe.range[0]?1:-1)*Ee.fontSize*(Ht<0?.5:.25)))}}function Xn(Fe,Ee){var St=Fe._categories[Math.round(Ee.x)];St===void 0&&(St=""),Ee.text=String(St)}function Un(Fe,Ee,St){var Tt=Math.round(Ee.x),Lt=Fe._categories[Tt]||[],Ft=Lt[1]===void 0?"":String(Lt[1]),Ht=Lt[0]===void 0?"":String(Lt[0]);St?Ee.text=Ht+" - "+Ft:(Ee.text=Ft,Ee.text2=Ht)}function Sn(Fe,Ee,St,Tt,Lt){Lt==="never"?Lt="":Fe.showexponent==="all"&&Math.abs(Ee.x/Fe.dtick)<1e-6&&(Lt="hide"),Ee.text=He(Ee.x,Fe,Lt,Tt)}function lt(Fe,Ee,St,Tt,Lt){if(Fe.thetaunit==="radians"&&!St){var Ft=Ee.x/180;if(Ft===0)Ee.text="0";else{var Ht=ut(Ft);if(Ht[1]>=100)Ee.text=He(O.deg2rad(Ee.x),Fe,Lt,Tt);else{var $t=Ee.x<0;Ht[1]===1?Ht[0]===1?Ee.text="π":Ee.text=Ht[0]+"π":Ee.text=["<sup>",Ht[0],"</sup>","⁄","<sub>",Ht[1],"</sub>","π"].join(""),$t&&(Ee.text=ee+Ee.text)}}}else Ee.text=He(Ee.x,Fe,Lt,Tt)}function ut(Fe){function Ee($t,Mt){return Math.abs($t-Mt)<=1e-6}function St($t,Mt){return Ee(Mt,0)?$t:St(Mt,$t%Mt)}function Tt($t){for(var Mt=1;!Ee(Math.round($t*Mt)/Mt,$t);)Mt*=10;return Mt}var Lt=Tt(Fe),Ft=Fe*Lt,Ht=Math.abs(St(Ft,Lt));return[Math.round(Ft/Ht),Math.round(Lt/Ht)]}var xt=["f","p","n","μ","m","","k","M","G","T"];function gt(Fe){return Fe==="SI"||Fe==="B"}function Dt(Fe){return Fe>14||Fe<-15}function He(Fe,Ee,St,Tt){var Lt=Fe<0,Ft=Ee._tickround,Ht=St||Ee.exponentformat||"B",$t=Ee._tickexponent,Mt=_e.getTickFormat(Ee),tn=Ee.separatethousands;if(Tt){var un={exponentformat:Ht,minexponent:Ee.minexponent,dtick:Ee.showexponent==="none"?Ee.dtick:v(Fe)&&Math.abs(Fe)||1,range:Ee.showexponent==="none"?Ee.range.map(Ee.r2d):[0,Fe||1]};ln(un),Ft=(Number(un._tickround)||0)+4,$t=un._tickexponent,Ee.hoverformat&&(Mt=Ee.hoverformat)}if(Mt)return Ee._numFormat(Mt)(Fe).replace(/-/g,ee);var en=Math.pow(10,-Ft)/2;if(Ht==="none"&&($t=0),Fe=Math.abs(Fe),Fe<en)Fe="0",Lt=!1;else{if(Fe+=en,$t&&(Fe*=Math.pow(10,-$t),Ft+=$t),Ft===0)Fe=String(Math.floor(Fe));else if(Ft<0){Fe=String(Math.round(Fe)),Fe=Fe.substr(0,Fe.length+Ft);for(var on=Ft;on<0;on++)Fe+="0"}else{Fe=String(Fe);var Cn=Fe.indexOf(".")+1;Cn&&(Fe=Fe.substr(0,Cn+Ft).replace(/\.?0+$/,""))}Fe=O.numSeparate(Fe,Ee._separators,tn)}if($t&&Ht!=="hide"){gt(Ht)&&Dt($t)&&(Ht="power");var On;$t<0?On=ee+-$t:Ht!=="power"?On="+"+$t:On=String($t),Ht==="e"||Ht==="E"?Fe+=Ht+On:Ht==="power"?Fe+="×10<sup>"+On+"</sup>":Ht==="B"&&$t===9?Fe+="B":gt(Ht)&&(Fe+=xt[$t/3+5])}return Lt?ee+Fe:Fe}_e.getTickFormat=function(Fe){var Ee;function St(Mt){return typeof Mt!="string"?Mt:Number(Mt.replace("M",""))*W}function Tt(Mt,tn){var un=["L","D"];if(typeof Mt==typeof tn){if(typeof Mt=="number")return Mt-tn;var en=un.indexOf(Mt.charAt(0)),on=un.indexOf(tn.charAt(0));return en===on?Number(Mt.replace(/(L|D)/g,""))-Number(tn.replace(/(L|D)/g,"")):en-on}else return typeof Mt=="number"?1:-1}function Lt(Mt,tn,un){var en=un||function(On){return On},on=tn[0],Cn=tn[1];return(!on&&typeof on!="number"||en(on)<=en(Mt))&&(!Cn&&typeof Cn!="number"||en(Cn)>=en(Mt))}function Ft(Mt,tn){var un=tn[0]===null,en=tn[1]===null,on=Tt(Mt,tn[0])>=0,Cn=Tt(Mt,tn[1])<=0;return(un||on)&&(en||Cn)}var Ht,$t;if(Fe.tickformatstops&&Fe.tickformatstops.length>0)switch(Fe.type){case"date":case"linear":{for(Ee=0;Ee<Fe.tickformatstops.length;Ee++)if($t=Fe.tickformatstops[Ee],$t.enabled&&Lt(Fe.dtick,$t.dtickrange,St)){Ht=$t;break}break}case"log":{for(Ee=0;Ee<Fe.tickformatstops.length;Ee++)if($t=Fe.tickformatstops[Ee],$t.enabled&&Ft(Fe.dtick,$t.dtickrange)){Ht=$t;break}break}}return Ht?Ht.value:Fe.tickformat},_e.getSubplots=function(Fe,Ee){var St=Fe._fullLayout._subplots,Tt=St.cartesian.concat(St.gl2d||[]),Lt=Ee?_e.findSubplotsWithAxis(Tt,Ee):Tt;return Lt.sort(function(Ft,Ht){var $t=Ft.substr(1).split("y"),Mt=Ht.substr(1).split("y");return $t[0]===Mt[0]?+$t[1]-+Mt[1]:+$t[0]-+Mt[0]}),Lt},_e.findSubplotsWithAxis=function(Fe,Ee){for(var St=new RegExp(Ee._id.charAt(0)==="x"?"^"+Ee._id+"y":Ee._id+"$"),Tt=[],Lt=0;Lt<Fe.length;Lt++){var Ft=Fe[Lt];St.test(Ft)&&Tt.push(Ft)}return Tt},_e.makeClipPaths=function(Fe){var Ee=Fe._fullLayout;if(!Ee._hasOnlyLargeSploms){var St={_offset:0,_length:Ee.width,_id:""},Tt={_offset:0,_length:Ee.height,_id:""},Lt=_e.list(Fe,"x",!0),Ft=_e.list(Fe,"y",!0),Ht=[],$t,Mt;for($t=0;$t<Lt.length;$t++)for(Ht.push({x:Lt[$t],y:Tt}),Mt=0;Mt<Ft.length;Mt++)$t===0&&Ht.push({x:St,y:Ft[Mt]}),Ht.push({x:Lt[$t],y:Ft[Mt]});var tn=Ee._clips.selectAll(".axesclip").data(Ht,function(un){return un.x._id+un.y._id});tn.enter().append("clipPath").classed("axesclip",!0).attr("id",function(un){return"clip"+Ee._uid+un.x._id+un.y._id}).append("rect"),tn.exit().remove(),tn.each(function(un){g.select(this).select("rect").attr({x:un.x._offset||0,y:un.y._offset||0,width:un.x._length||1,height:un.y._length||1})})}},_e.draw=function(Fe,Ee,St){var Tt=Fe._fullLayout;Ee==="redraw"&&Tt._paper.selectAll("g.subplot").each(function(Mt){var tn=Mt[0],un=Tt._plots[tn];if(un){var en=un.xaxis,on=un.yaxis;un.xaxislayer.selectAll("."+en._id+"tick").remove(),un.yaxislayer.selectAll("."+on._id+"tick").remove(),un.xaxislayer.selectAll("."+en._id+"tick2").remove(),un.yaxislayer.selectAll("."+on._id+"tick2").remove(),un.xaxislayer.selectAll("."+en._id+"divider").remove(),un.yaxislayer.selectAll("."+on._id+"divider").remove(),un.minorGridlayer&&un.minorGridlayer.selectAll("path").remove(),un.gridlayer&&un.gridlayer.selectAll("path").remove(),un.zerolinelayer&&un.zerolinelayer.selectAll("path").remove(),Tt._infolayer.select(".g-"+en._id+"title").remove(),Tt._infolayer.select(".g-"+on._id+"title").remove()}});var Lt=!Ee||Ee==="redraw"?_e.listIds(Fe):Ee,Ft=_e.list(Fe),Ht=Ft.filter(function(Mt){return Mt.autoshift}).map(function(Mt){return Mt.overlaying});Lt.map(function(Mt){var tn=_e.getFromId(Fe,Mt);if(tn.tickmode==="sync"&&tn.overlaying){var un=Lt.findIndex(function(en){return en===tn.overlaying});un>=0&&Lt.unshift(Lt.splice(un,1).shift())}});var $t={false:{left:0,right:0}};return O.syncOrAsync(Lt.map(function(Mt){return function(){if(Mt){var tn=_e.getFromId(Fe,Mt);St||(St={}),St.axShifts=$t,St.overlayingShiftedAx=Ht;var un=_e.drawOne(Fe,tn,St);return tn._shiftPusher&&xo(tn,tn._fullDepth||0,$t,!0),tn._r=tn.range.slice(),tn._rl=O.simpleMap(tn._r,tn.r2l),un}}}))},_e.drawOne=function(Fe,Ee,St){St=St||{};var Tt=St.axShifts||{},Lt=St.overlayingShiftedAx||[],Ft,Ht,$t;Ee.setScale();var Mt=Fe._fullLayout,tn=Ee._id,un=tn.charAt(0),en=_e.counterLetter(tn),on=Mt._plots[Ee._mainSubplot];if(!on)return;if(Ee._shiftPusher=Ee.autoshift||Lt.indexOf(Ee._id)!==-1||Lt.indexOf(Ee.overlaying)!==-1,Ee._shiftPusher&Ee.anchor==="free"){var Cn=Ee.linewidth/2||0;Ee.ticks==="inside"&&(Cn+=Ee.ticklen),xo(Ee,Cn,Tt,!0),xo(Ee,Ee.shift||0,Tt,!1)}(St.skipTitle!==!0||Ee._shift===void 0)&&(Ee._shift=Cr(Ee,Tt));var On=on[un+"axislayer"],pn=Ee._mainLinePosition,Jn=pn+=Ee._shift,Fn=Ee._mainMirrorPosition,Zr=Ee._vals=_e.calcTicks(Ee),dr=[Ee.mirror,Jn,Fn].join("_");for(Ft=0;Ft<Zr.length;Ft++)Zr[Ft].axInfo=dr;Ee._selections={},Ee._tickAngles&&(Ee._prevTickAngles=Ee._tickAngles),Ee._tickAngles={},Ee._depth=null;var Ur={};function ar(wi){var Za=tn+(wi||"tick");return Ur[Za]||(Ur[Za]=Pt(Ee,Za)),Ur[Za]}if(Ee.visible){var ur=_e.makeTransTickFn(Ee),qr=_e.makeTransTickLabelFn(Ee),to,Ao,_s=Ee.ticks==="inside",wo=Ee.ticks==="outside";if(Ee.tickson==="boundaries"){var Ko=dt(Ee,Zr);Ao=_e.clipEnds(Ee,Ko),to=_s?Ao:Ko}else Ao=_e.clipEnds(Ee,Zr),to=_s&&Ee.ticklabelmode!=="period"?Ao:Zr;var hs=Ee._gridVals=Ao,qs=Ct(Ee,Zr);if(!Mt._hasOnlyLargeSploms){var ns=Ee._subplotsWith,Xs={};for(Ft=0;Ft<ns.length;Ft++){Ht=ns[Ft],$t=Mt._plots[Ht];var Xa=$t[en+"axis"],Cc=Xa._mainAxis._id;if(!Xs[Cc]){Xs[Cc]=1;var ui=un==="x"?"M0,"+Xa._offset+"v"+Xa._length:"M"+Xa._offset+",0h"+Xa._length;_e.drawGrid(Fe,Ee,{vals:hs,counterAxis:Xa,layer:$t.gridlayer.select("."+tn),minorLayer:$t.minorGridlayer.select("."+tn),path:ui,transFn:ur}),_e.drawZeroLine(Fe,Ee,{counterAxis:Xa,layer:$t.zerolinelayer,path:ui,transFn:ur})}}}var au,Ba=_e.getTickSigns(Ee),ea=_e.getTickSigns(Ee,"minor");if(Ee.ticks||Ee.minor&&Ee.minor.ticks){var ba=_e.makeTickPath(Ee,Jn,Ba[2]),oa=_e.makeTickPath(Ee,Jn,ea[2],{minor:!0}),iu,Dr,Tc,sa;if(Ee._anchorAxis&&Ee.mirror&&Ee.mirror!==!0?(iu=_e.makeTickPath(Ee,Fn,Ba[3]),Dr=_e.makeTickPath(Ee,Fn,ea[3],{minor:!0}),Tc=ba+iu,sa=oa+Dr):(iu="",Dr="",Tc=ba,sa=oa),Ee.showdividers&&wo&&Ee.tickson==="boundaries"){var $i={};for(Ft=0;Ft<qs.length;Ft++)$i[qs[Ft].x]=1;au=function(wi){return $i[wi.x]?iu:Tc}}else au=function(wi){return wi.minor?sa:Tc}}if(_e.drawTicks(Fe,Ee,{vals:to,layer:On,path:au,transFn:ur}),Ee.mirror==="allticks"){var Id=Object.keys(Ee._linepositions||{});for(Ft=0;Ft<Id.length;Ft++){Ht=Id[Ft],$t=Mt._plots[Ht];var aa=Ee._linepositions[Ht]||[],wu=aa[0],Nd=aa[1],Cu=aa[2],Mo=_e.makeTickPath(Ee,wu,Cu?Ba[0]:ea[0],{minor:Cu})+_e.makeTickPath(Ee,Nd,Cu?Ba[1]:ea[1],{minor:Cu});_e.drawTicks(Fe,Ee,{vals:to,layer:$t[un+"axislayer"],path:Mo,transFn:ur})}}var Hi=[];if(Hi.push(function(){return _e.drawLabels(Fe,Ee,{vals:Zr,layer:On,plotinfo:$t,transFn:qr,labelFns:_e.makeLabelFns(Ee,Jn)})}),Ee.type==="multicategory"){var fr={x:2,y:10}[un];Hi.push(function(){var wi={x:"height",y:"width"}[un],Za=ar()[wi]+fr+(Ee._tickAngles[tn+"tick"]?Ee.tickfont.size*Te:0);return _e.drawLabels(Fe,Ee,{vals:mt(Ee,Zr),layer:On,cls:tn+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ur,labelFns:_e.makeLabelFns(Ee,Jn+Za*Ba[4])})}),Hi.push(function(){return Ee._depth=Ba[4]*(ar("tick2")[Ee.side]-Jn),Rt(Fe,Ee,{vals:qs,layer:On,path:_e.makeTickPath(Ee,Jn,Ba[4],{len:Ee._depth}),transFn:ur})})}else Ee.title.hasOwnProperty("standoff")&&Hi.push(function(){Ee._depth=Ba[4]*(ar()[Ee.side]-Jn)});var Fa=b.getComponentMethod("rangeslider","isVisible")(Ee);return!St.skipTitle&&!(Fa&&Ee.side==="bottom")&&Hi.push(function(){return Hn(Fe,Ee)}),Hi.push(function(){var wi=Ee.side.charAt(0),Za=De[Ee.side].charAt(0),Va=_e.getPxPosition(Fe,Ee),Cl=wo?Ee.ticklen:0,Ho,fi,ti,ed;(Ee.automargin||Fa||Ee._shiftPusher)&&(Ee.type==="multicategory"?Ho=ar("tick2"):(Ho=ar(),un==="x"&&wi==="b"&&(Ee._depth=Math.max(Ho.width>0?Ho.bottom-Va:0,Cl))));var Ha=0,Wu=0;if(Ee._shiftPusher&&(Ha=Math.max(Cl,Ho.height>0?wi==="l"?Va-Ho.left:Ho.right-Va:0),Ee.title.text!==Mt._dfltTitle[un]&&(Wu=(Ee._titleStandoff||0)+(Ee._titleScoot||0),wi==="l"&&(Wu+=fn(Ee))),Ee._fullDepth=Math.max(Ha,Wu)),Ee.automargin){fi={x:0,y:0,r:0,l:0,t:0,b:0};var Yu=[0,1],Bd=typeof Ee._shift=="number"?Ee._shift:0;if(un==="x"){if(wi==="b"?fi[wi]=Ee._depth:(fi[wi]=Ee._depth=Math.max(Ho.width>0?Va-Ho.top:0,Cl),Yu.reverse()),Ho.width>0){var Ns=Ho.right-(Ee._offset+Ee._length);Ns>0&&(fi.xr=1,fi.r=Ns);var Qd=Ee._offset-Ho.left;Qd>0&&(fi.xl=0,fi.l=Qd)}}else if(wi==="l"?(Ee._depth=Math.max(Ho.height>0?Va-Ho.left:0,Cl),fi[wi]=Ee._depth-Bd):(Ee._depth=Math.max(Ho.height>0?Ho.right-Va:0,Cl),fi[wi]=Ee._depth+Bd,Yu.reverse()),Ho.height>0){var Wc=Ho.bottom-(Ee._offset+Ee._length);Wc>0&&(fi.yb=0,fi.b=Wc);var Rl=Ee._offset-Ho.top;Rl>0&&(fi.yt=1,fi.t=Rl)}fi[en]=Ee.anchor==="free"?Ee.position:Ee._anchorAxis.domain[Yu[0]],Ee.title.text!==Mt._dfltTitle[un]&&(fi[wi]+=fn(Ee)+(Ee.title.standoff||0)),Ee.mirror&&Ee.anchor!=="free"&&(ti={x:0,y:0,r:0,l:0,t:0,b:0},ti[Za]=Ee.linewidth,Ee.mirror&&Ee.mirror!==!0&&(ti[Za]+=Cl),Ee.mirror===!0||Ee.mirror==="ticks"?ti[en]=Ee._anchorAxis.domain[Yu[1]]:(Ee.mirror==="all"||Ee.mirror==="allticks")&&(ti[en]=[Ee._counterDomainMin,Ee._counterDomainMax][Yu[1]]))}Fa&&(ed=b.getComponentMethod("rangeslider","autoMarginOpts")(Fe,Ee)),typeof Ee.automargin=="string"&&(it(fi,Ee.automargin),it(ti,Ee.automargin)),y.autoMargin(Fe,Wn(Ee),fi),y.autoMargin(Fe,Br(Ee),ti),y.autoMargin(Fe,kr(Ee),ed)}),O.syncOrAsync(Hi)}};function it(Fe,Ee){if(Fe){var St=Object.keys(Y).reduce(function(Tt,Lt){return Ee.indexOf(Lt)!==-1&&Y[Lt].forEach(function(Ft){Tt[Ft]=1}),Tt},{});Object.keys(Fe).forEach(function(Tt){St[Tt]||(Tt.length===1?Fe[Tt]=0:delete Fe[Tt])})}}function dt(Fe,Ee){var St=[],Tt,Lt=function(Ft,Ht){var $t=Ft.xbnd[Ht];$t!==null&&St.push(O.extendFlat({},Ft,{x:$t}))};if(Ee.length){for(Tt=0;Tt<Ee.length;Tt++)Lt(Ee[Tt],0);Lt(Ee[Tt-1],1)}return St}function mt(Fe,Ee){for(var St=[],Tt={},Lt=0;Lt<Ee.length;Lt++){var Ft=Ee[Lt];Tt[Ft.text2]?Tt[Ft.text2].push(Ft.x):Tt[Ft.text2]=[Ft.x]}for(var Ht in Tt)St.push(Yn(Fe,O.interp(Tt[Ht],.5),Ht));return St}function Ct(Fe,Ee){var St=[],Tt,Lt,Ft=Ee.length&&Ee[Ee.length-1].x<Ee[0].x,Ht=function(Mt,tn){var un=Mt.xbnd[tn];un!==null&&St.push(O.extendFlat({},Mt,{x:un}))};if(Fe.showdividers&&Ee.length){for(Tt=0;Tt<Ee.length;Tt++){var $t=Ee[Tt];$t.text2!==Lt&&Ht($t,Ft?1:0),Lt=$t.text2}Ht(Ee[Tt-1],Ft?0:1)}return St}function Pt(Fe,Ee){var St,Tt,Lt,Ft;return Fe._selections[Ee].size()?(St=1/0,Tt=-1/0,Lt=1/0,Ft=-1/0,Fe._selections[Ee].each(function(){var Ht=vr(this),$t=_.bBox(Ht.node().parentNode);St=Math.min(St,$t.top),Tt=Math.max(Tt,$t.bottom),Lt=Math.min(Lt,$t.left),Ft=Math.max(Ft,$t.right)})):(St=0,Tt=0,Lt=0,Ft=0),{top:St,bottom:Tt,left:Lt,right:Ft,height:Tt-St,width:Ft-Lt}}_e.getTickSigns=function(Fe,Ee){var St=Fe._id.charAt(0),Tt={x:"top",y:"right"}[St],Lt=Fe.side===Tt?1:-1,Ft=[-1,1,Lt,-Lt],Ht=Ee?(Fe.minor||{}).ticks:Fe.ticks;return Ht!=="inside"==(St==="x")&&(Ft=Ft.map(function($t){return-$t})),Fe.side&&Ft.push({l:-1,t:-1,r:1,b:1}[Fe.side.charAt(0)]),Ft},_e.makeTransTickFn=function(Fe){return Fe._id.charAt(0)==="x"?function(Ee){return T(Fe._offset+Fe.l2p(Ee.x),0)}:function(Ee){return T(0,Fe._offset+Fe.l2p(Ee.x))}},_e.makeTransTickLabelFn=function(Fe){var Ee=rn(Fe),St=Ee[0],Tt=Ee[1];return Fe._id.charAt(0)==="x"?function(Lt){return T(St+Fe._offset+Fe.l2p(dn(Lt)),Tt)}:function(Lt){return T(Tt,St+Fe._offset+Fe.l2p(dn(Lt)))}};function dn(Fe){return Fe.periodX!==void 0?Fe.periodX:Fe.x}function rn(Fe){var Ee=Fe.ticklabelposition||"",St=function(Cn){return Ee.indexOf(Cn)!==-1},Tt=St("top"),Lt=St("left"),Ft=St("right"),Ht=St("bottom"),$t=St("inside"),Mt=Ht||Lt||Tt||Ft;if(!Mt&&!$t)return[0,0];var tn=Fe.side,un=Mt?(Fe.tickwidth||0)/2:0,en=Ve,on=Fe.tickfont?Fe.tickfont.size:12;return(Ht||Tt)&&(un+=on*Le,en+=(Fe.linewidth||0)/2),(Lt||Ft)&&(un+=(Fe.linewidth||0)/2,en+=Ve),$t&&tn==="top"&&(en-=on*(1-Le)),(Lt||Tt)&&(un=-un),(tn==="bottom"||tn==="right")&&(en=-en),[Mt?un:0,$t?en:0]}_e.makeTickPath=function(Fe,Ee,St,Tt){Tt||(Tt={});var Lt=Tt.minor;if(Lt&&!Fe.minor)return"";var Ft=Tt.len!==void 0?Tt.len:Lt?Fe.minor.ticklen:Fe.ticklen,Ht=Fe._id.charAt(0),$t=(Fe.linewidth||1)/2;return Ht==="x"?"M0,"+(Ee+$t*St)+"v"+Ft*St:"M"+(Ee+$t*St)+",0h"+Ft*St},_e.makeLabelFns=function(Fe,Ee,St){var Tt=Fe.ticklabelposition||"",Lt=function(Ko){return Tt.indexOf(Ko)!==-1},Ft=Lt("top"),Ht=Lt("left"),$t=Lt("right"),Mt=Lt("bottom"),tn=Mt||Ht||Ft||$t,un=Lt("inside"),en=Tt==="inside"&&Fe.ticks==="inside"||!un&&Fe.ticks==="outside"&&Fe.tickson!=="boundaries",on=0,Cn=0,On=en?Fe.ticklen:0;if(un?On*=-1:tn&&(On=0),en&&(on+=On,St)){var pn=O.deg2rad(St);on=On*Math.cos(pn)+1,Cn=On*Math.sin(pn)}Fe.showticklabels&&(en||Fe.showline)&&(on+=.2*Fe.tickfont.size),on+=(Fe.linewidth||1)/2*(un?-1:1);var Jn={labelStandoff:on,labelShift:Cn},Fn,Zr,dr,Ur,ar=0,ur=Fe.side,qr=Fe._id.charAt(0),to=Fe.tickangle,Ao;if(qr==="x")Ao=!un&&ur==="bottom"||un&&ur==="top",Ur=Ao?1:-1,un&&(Ur*=-1),Fn=Cn*Ur,Zr=Ee+on*Ur,dr=Ao?1:-.2,Math.abs(to)===90&&(un?dr+=Oe:to===-90&&ur==="bottom"?dr=Le:to===90&&ur==="top"?dr=Oe:dr=.5,ar=Oe/2*(to/90)),Jn.xFn=function(Ko){return Ko.dx+Fn+ar*Ko.fontSize},Jn.yFn=function(Ko){return Ko.dy+Zr+Ko.fontSize*dr},Jn.anchorFn=function(Ko,hs){if(tn){if(Ht)return"end";if($t)return"start"}return!v(hs)||hs===0||hs===180?"middle":hs*Ur<0!==un?"end":"start"},Jn.heightFn=function(Ko,hs,qs){return hs<-60||hs>60?-.5*qs:Fe.side==="top"!==un?-qs:0};else if(qr==="y"){if(Ao=!un&&ur==="left"||un&&ur==="right",Ur=Ao?1:-1,un&&(Ur*=-1),Fn=on,Zr=Cn*Ur,dr=0,!un&&Math.abs(to)===90&&(to===-90&&ur==="left"||to===90&&ur==="right"?dr=Le:dr=.5),un){var _s=v(to)?+to:0;if(_s!==0){var wo=O.deg2rad(_s);ar=Math.abs(Math.sin(wo))*Le*Ur,dr=0}}Jn.xFn=function(Ko){return Ko.dx+Ee-(Fn+Ko.fontSize*dr)*Ur+ar*Ko.fontSize},Jn.yFn=function(Ko){return Ko.dy+Zr+Ko.fontSize*Oe},Jn.anchorFn=function(Ko,hs){return v(hs)&&Math.abs(hs)===90?"middle":Ao?"end":"start"},Jn.heightFn=function(Ko,hs,qs){return Fe.side==="right"&&(hs*=-1),hs<-30?-qs:hs<30?-.5*qs:0}}return Jn};function Wt(Fe){return[Fe.text,Fe.x,Fe.axInfo,Fe.font,Fe.fontSize,Fe.fontColor].join("_")}_e.drawTicks=function(Fe,Ee,St){St=St||{};var Tt=Ee._id+"tick",Lt=[].concat(Ee.minor&&Ee.minor.ticks?St.vals.filter(function(Ht){return Ht.minor&&!Ht.noTick}):[]).concat(Ee.ticks?St.vals.filter(function(Ht){return!Ht.minor&&!Ht.noTick}):[]),Ft=St.layer.selectAll("path."+Tt).data(Lt,Wt);Ft.exit().remove(),Ft.enter().append("path").classed(Tt,1).classed("ticks",1).classed("crisp",St.crisp!==!1).each(function(Ht){return C.stroke(g.select(this),Ht.minor?Ee.minor.tickcolor:Ee.tickcolor)}).style("stroke-width",function(Ht){return _.crispRound(Fe,Ht.minor?Ee.minor.tickwidth:Ee.tickwidth,1)+"px"}).attr("d",St.path).style("display",null),ao(Ee,[ne]),Ft.attr("transform",St.transFn)},_e.drawGrid=function(Fe,Ee,St){if(St=St||{},Ee.tickmode!=="sync"){var Tt=Ee._id+"grid",Lt=Ee.minor&&Ee.minor.showgrid,Ft=Lt?St.vals.filter(function(Fn){return Fn.minor}):[],Ht=Ee.showgrid?St.vals.filter(function(Fn){return!Fn.minor}):[],$t=St.counterAxis;if($t&&_e.shouldShowZeroLine(Fe,Ee,$t))for(var Mt=Ee.tickmode==="array",tn=0;tn<Ht.length;tn++){var un=Ht[tn].x;if(Mt?!un:Math.abs(un)<Ee.dtick/100)if(Ht=Ht.slice(0,tn).concat(Ht.slice(tn+1)),Mt)tn--;else break}Ee._gw=_.crispRound(Fe,Ee.gridwidth,1);for(var en=Lt?_.crispRound(Fe,Ee.minor.gridwidth,1):0,on=St.layer,Cn=St.minorLayer,On=1;On>=0;On--){var pn=On?on:Cn;if(pn){var Jn=pn.selectAll("path."+Tt).data(On?Ht:Ft,Wt);Jn.exit().remove(),Jn.enter().append("path").classed(Tt,1).classed("crisp",St.crisp!==!1),Jn.attr("transform",St.transFn).attr("d",St.path).each(function(Fn){return C.stroke(g.select(this),Fn.minor?Ee.minor.gridcolor:Ee.gridcolor||"#ddd")}).style("stroke-dasharray",function(Fn){return _.dashStyle(Fn.minor?Ee.minor.griddash:Ee.griddash,Fn.minor?Ee.minor.gridwidth:Ee.gridwidth)}).style("stroke-width",function(Fn){return(Fn.minor?en:Ee._gw)+"px"}).style("display",null),typeof St.path=="function"&&Jn.attr("d",St.path)}}ao(Ee,[Be,pe])}},_e.drawZeroLine=function(Fe,Ee,St){St=St||St;var Tt=Ee._id+"zl",Lt=_e.shouldShowZeroLine(Fe,Ee,St.counterAxis),Ft=St.layer.selectAll("path."+Tt).data(Lt?[{x:0,id:Ee._id}]:[]);Ft.exit().remove(),Ft.enter().append("path").classed(Tt,1).classed("zl",1).classed("crisp",St.crisp!==!1).each(function(){St.layer.selectAll("path").sort(function(Ht,$t){return be(Ht.id,$t.id)})}),Ft.attr("transform",St.transFn).attr("d",St.path).call(C.stroke,Ee.zerolinecolor||C.defaultLine).style("stroke-width",_.crispRound(Fe,Ee.zerolinewidth,Ee._gw||1)+"px").style("display",null),ao(Ee,[we])},_e.drawLabels=function(Fe,Ee,St){St=St||{};var Tt=Fe._fullLayout,Lt=Ee._id,Ft=Lt.charAt(0),Ht=St.cls||Lt+"tick",$t=St.vals.filter(function(Ur){return Ur.text}),Mt=St.labelFns,tn=St.secondary?0:Ee.tickangle,un=(Ee._prevTickAngles||{})[Ht],en=St.layer.selectAll("g."+Ht).data(Ee.showticklabels?$t:[],Wt),on=[];en.enter().append("g").classed(Ht,1).append("text").attr("text-anchor","middle").each(function(Ur){var ar=g.select(this),ur=Fe._promises.length;ar.call(k.positionText,Mt.xFn(Ur),Mt.yFn(Ur)).call(_.font,Ur.font,Ur.fontSize,Ur.fontColor).text(Ur.text).call(k.convertToTspans,Fe),Fe._promises[ur]?on.push(Fe._promises.pop().then(function(){Cn(ar,tn)})):Cn(ar,tn)}),ao(Ee,[le]),en.exit().remove(),St.repositionOnUpdate&&en.each(function(Ur){g.select(this).select("text").call(k.positionText,Mt.xFn(Ur),Mt.yFn(Ur))});function Cn(Ur,ar){Ur.each(function(ur){var qr=g.select(this),to=qr.select(".text-math-group"),Ao=Mt.anchorFn(ur,ar),_s=St.transFn.call(qr.node(),ur)+(v(ar)&&+ar!=0?" rotate("+ar+","+Mt.xFn(ur)+","+(Mt.yFn(ur)-ur.fontSize/2)+")":""),wo=k.lineCount(qr),Ko=Te*ur.fontSize,hs=Mt.heightFn(ur,v(ar)?+ar:0,(wo-1)*Ko);if(hs&&(_s+=T(0,hs)),to.empty()){var qs=qr.select("text");qs.attr({transform:_s,"text-anchor":Ao}),qs.style("opacity",1),Ee._adjustTickLabelsOverflow&&Ee._adjustTickLabelsOverflow()}else{var ns=_.bBox(to.node()).width,Xs=ns*{end:-.5,start:.5}[Ao];to.attr("transform",_s+T(Xs,0))}})}Ee._adjustTickLabelsOverflow=function(){var Ur=Ee.ticklabeloverflow;if(!(!Ur||Ur==="allow")){var ar=Ur.indexOf("hide")!==-1,ur=Ee._id.charAt(0)==="x",qr=0,to=ur?Fe._fullLayout.width:Fe._fullLayout.height;if(Ur.indexOf("domain")!==-1){var Ao=O.simpleMap(Ee.range,Ee.r2l);qr=Ee.l2p(Ao[0])+Ee._offset,to=Ee.l2p(Ao[1])+Ee._offset}var _s=Math.min(qr,to),wo=Math.max(qr,to),Ko=Ee.side,hs=1/0,qs=-1/0;en.each(function(Cc){var ui=g.select(this),au=ui.select(".text-math-group");if(au.empty()){var Ba=_.bBox(ui.node()),ea=0;ur?(Ba.right>wo||Ba.left<_s)&&(ea=1):(Ba.bottom>wo||Ba.top+(Ee.tickangle?0:Cc.fontSize/4)<_s)&&(ea=1);var ba=ui.select("text");ea?ar&&ba.style("opacity",0):(ba.style("opacity",1),Ko==="bottom"||Ko==="right"?hs=Math.min(hs,ur?Ba.top:Ba.left):hs=-1/0,Ko==="top"||Ko==="left"?qs=Math.max(qs,ur?Ba.bottom:Ba.right):qs=1/0)}});for(var ns in Tt._plots){var Xs=Tt._plots[ns];if(!(Ee._id!==Xs.xaxis._id&&Ee._id!==Xs.yaxis._id)){var Xa=ur?Xs.yaxis:Xs.xaxis;Xa&&(Xa["_visibleLabelMin_"+Ee._id]=hs,Xa["_visibleLabelMax_"+Ee._id]=qs)}}}},Ee._hideCounterAxisInsideTickLabels=function(Ur){var ar=Ee._id.charAt(0)==="x",ur=[];for(var qr in Tt._plots){var to=Tt._plots[qr];Ee._id!==to.xaxis._id&&Ee._id!==to.yaxis._id||ur.push(ar?to.yaxis:to.xaxis)}ur.forEach(function(Ao,_s){Ao&&wr(Ao)&&(Ur||[we,pe,Be,ne,le]).forEach(function(wo){var Ko=wo.K==="tick"&&wo.L==="text"&&Ee.ticklabelmode==="period",hs=Tt._plots[Ee._mainSubplot],qs;wo.K===we.K?qs=hs.zerolinelayer.selectAll("."+Ee._id+"zl"):wo.K===pe.K?qs=hs.minorGridlayer.selectAll("."+Ee._id):wo.K===Be.K?qs=hs.gridlayer.selectAll("."+Ee._id):qs=hs[Ee._id.charAt(0)+"axislayer"],qs.each(function(){var ns=g.select(this);wo.L&&(ns=ns.selectAll(wo.L)),ns.each(function(Xs){var Xa=Ee.l2p(Ko?dn(Xs):Xs.x)+Ee._offset,Cc=g.select(this);Xa<Ee["_visibleLabelMax_"+Ao._id]&&Xa>Ee["_visibleLabelMin_"+Ao._id]?Cc.style("display","none"):wo.K==="tick"&&!_s&&Cc.style("display",null)})})})})},Cn(en,un+1?un:tn);function On(){return on.length&&Promise.all(on)}var pn=null;function Jn(){if(Cn(en,tn),$t.length&&Ft==="x"&&!v(tn)&&(Ee.type!=="log"||String(Ee.dtick).charAt(0)!=="D")){pn=0;var Ur=0,ar=[],ur;if(en.each(function(Ba){Ur=Math.max(Ur,Ba.fontSize);var ea=Ee.l2p(Ba.x),ba=vr(this),oa=_.bBox(ba.node());ar.push({top:0,bottom:10,height:10,left:ea-oa.width/2,right:ea+oa.width/2+2,width:oa.width+2})}),(Ee.tickson==="boundaries"||Ee.showdividers)&&!St.secondary){var qr=2;for(Ee.ticks&&(qr+=Ee.tickwidth/2),ur=0;ur<ar.length;ur++){var to=$t[ur].xbnd,Ao=ar[ur];if(to[0]!==null&&Ao.left-Ee.l2p(to[0])<qr||to[1]!==null&&Ee.l2p(to[1])-Ao.right<qr){pn=90;break}}}else{var _s=$t.length,wo=Math.abs(($t[_s-1].x-$t[0].x)*Ee._m)/(_s-1),Ko=Ee.ticklabelposition||"",hs=function(Ba){return Ko.indexOf(Ba)!==-1},qs=hs("top"),ns=hs("left"),Xs=hs("right"),Xa=hs("bottom"),Cc=Xa||ns||qs||Xs,ui=Cc?(Ee.tickwidth||0)+2*Ve:0,au=wo<Ur*2.5||Ee.type==="multicategory"||Ee._name==="realaxis";for(ur=0;ur<ar.length-1;ur++)if(O.bBoxIntersect(ar[ur],ar[ur+1],ui)){pn=au?90:30;break}}pn&&Cn(en,pn)}}Ee._selections&&(Ee._selections[Ht]=en);var Fn=[On];Ee.automargin&&Tt._redrawFromAutoMarginCount&&un===90?(pn=90,Fn.push(function(){Cn(en,un)})):Fn.push(Jn),Ee._tickAngles&&Fn.push(function(){Ee._tickAngles[Ht]=pn===null?v(tn)?tn:0:pn});var Zr=Ee._anchorAxis;Zr&&Zr.autorange&&wr(Ee)&&!te(Tt,Ee._id)&&(Tt._insideTickLabelsAutorange||(Tt._insideTickLabelsAutorange={}),Tt._insideTickLabelsAutorange[Zr._name+".autorange"]=Zr.autorange,Fn.push(function(){en.each(function(ar,ur){var qr=vr(this),to=qr.select(".text-math-group");to.empty()&&(Ee._vals[ur].bb=_.bBox(qr.node()))})}));var dr=O.syncOrAsync(Fn);return dr&&dr.then&&Fe._promises.push(dr),dr};function Rt(Fe,Ee,St){var Tt=Ee._id+"divider",Lt=St.vals,Ft=St.layer.selectAll("path."+Tt).data(Lt,Wt);Ft.exit().remove(),Ft.enter().insert("path",":first-child").classed(Tt,1).classed("crisp",1).call(C.stroke,Ee.dividercolor).style("stroke-width",_.crispRound(Fe,Ee.dividerwidth,1)+"px"),Ft.attr("transform",St.transFn).attr("d",St.path)}_e.getPxPosition=function(Fe,Ee){var St=Fe._fullLayout._size,Tt=Ee._id.charAt(0),Lt=Ee.side,Ft;if(Ee.anchor!=="free"?Ft=Ee._anchorAxis:Tt==="x"?Ft={_offset:St.t+(1-(Ee.position||0))*St.h,_length:0}:Tt==="y"&&(Ft={_offset:St.l+(Ee.position||0)*St.w+Ee._shift,_length:0}),Lt==="top"||Lt==="left")return Ft._offset;if(Lt==="bottom"||Lt==="right")return Ft._offset+Ft._length};function fn(Fe){var Ee=Fe.title.font.size,St=(Fe.title.text.match(k.BR_TAG_ALL)||[]).length;return Fe.title.hasOwnProperty("standoff")?St?Ee*(Le+St*Te):Ee*Le:St?Ee*(St+1)*Te:Ee}function Hn(Fe,Ee){var St=Fe._fullLayout,Tt=Ee._id,Lt=Tt.charAt(0),Ft=Ee.title.font.size,Ht;if(Ee.title.hasOwnProperty("standoff"))Ht=Ee._depth+Ee.title.standoff+fn(Ee);else{var $t=wr(Ee);if(Ee.type==="multicategory")Ht=Ee._depth;else{var Mt=1.5*Ft;$t&&(Mt=.5*Ft,Ee.ticks==="outside"&&(Mt+=Ee.ticklen)),Ht=10+Mt+(Ee.linewidth?Ee.linewidth-1:0)}$t||(Lt==="x"?Ht+=Ee.side==="top"?Ft*(Ee.showticklabels?1:0):Ft*(Ee.showticklabels?1.5:.5):Ht+=Ee.side==="right"?Ft*(Ee.showticklabels?1:.5):Ft*(Ee.showticklabels?.5:0))}var tn=_e.getPxPosition(Fe,Ee),un,en,on;Lt==="x"?(en=Ee._offset+Ee._length/2,on=Ee.side==="top"?tn-Ht:tn+Ht):(on=Ee._offset+Ee._length/2,en=Ee.side==="right"?tn+Ht:tn-Ht,un={rotate:"-90",offset:0});var Cn;if(Ee.type!=="multicategory"){var On=Ee._selections[Ee._id+"tick"];if(Cn={selection:On,side:Ee.side},On&&On.node()&&On.node().parentNode){var pn=_.getTranslate(On.node().parentNode);Cn.offsetLeft=pn.x,Cn.offsetTop=pn.y}Ee.title.hasOwnProperty("standoff")&&(Cn.pad=0)}return Ee._titleStandoff=Ht,w.draw(Fe,Tt+"title",{propContainer:Ee,propName:Ee._name+".title.text",placeholder:St._dfltTitle[Lt],avoid:Cn,transform:un,attributes:{x:en,y:on,"text-anchor":"middle"}})}_e.shouldShowZeroLine=function(Fe,Ee,St){var Tt=O.simpleMap(Ee.range,Ee.r2l);return Tt[0]*Tt[1]<=0&&Ee.zeroline&&(Ee.type==="linear"||Ee.type==="-")&&!(Ee.rangebreaks&&Ee.maskBreaks(0)===xe)&&(nr(Ee,0)||!Er(Fe,Ee,St,Tt)||zt(Fe,Ee))},_e.clipEnds=function(Fe,Ee){return Ee.filter(function(St){return nr(Fe,St.x)})};function nr(Fe,Ee){var St=Fe.l2p(Ee);return St>1&&St<Fe._length-1}function Er(Fe,Ee,St,Tt){var Lt=St._mainAxis;if(!Lt)return;var Ft=Fe._fullLayout,Ht=Ee._id.charAt(0),$t=_e.counterLetter(Ee._id),Mt=Ee._offset+(Math.abs(Tt[0])<Math.abs(Tt[1])==(Ht==="x")?0:Ee._length);function tn(On){if(!On.showline||!On.linewidth)return!1;var pn=Math.max((On.linewidth+Ee.zerolinewidth)/2,1);function Jn(dr){return typeof dr=="number"&&Math.abs(dr-Mt)<pn}if(Jn(On._mainLinePosition)||Jn(On._mainMirrorPosition))return!0;var Fn=On._linepositions||{};for(var Zr in Fn)if(Jn(Fn[Zr][0])||Jn(Fn[Zr][1]))return!0}var un=Ft._plots[St._mainSubplot];if(!(un.mainplotinfo||un).overlays.length)return tn(St);for(var en=_e.list(Fe,$t),on=0;on<en.length;on++){var Cn=en[on];if(Cn._mainAxis===Lt&&tn(Cn))return!0}}function zt(Fe,Ee){for(var St=Fe._fullData,Tt=Ee._mainSubplot,Lt=Ee._id.charAt(0),Ft=0;Ft<St.length;Ft++){var Ht=St[Ft];if(Ht.visible===!0&&Ht.xaxis+Ht.yaxis===Tt&&(b.traceIs(Ht,"bar-like")&&Ht.orientation==={x:"h",y:"v"}[Lt]||Ht.fill&&Ht.fill.charAt(Ht.fill.length-1)===Lt))return!0}return!1}function vr(Fe){var Ee=g.select(Fe),St=Ee.select(".text-math-group");return St.empty()?Ee.select("text"):St}_e.allowAutoMargin=function(Fe){for(var Ee=_e.list(Fe,"",!0),St=0;St<Ee.length;St++){var Tt=Ee[St];Tt.automargin&&(y.allowAutoMargin(Fe,Wn(Tt)),Tt.mirror&&y.allowAutoMargin(Fe,Br(Tt))),b.getComponentMethod("rangeslider","isVisible")(Tt)&&y.allowAutoMargin(Fe,kr(Tt))}};function Wn(Fe){return Fe._id+".automargin"}function Br(Fe){return Wn(Fe)+".mirror"}function kr(Fe){return Fe._id+".rangeslider"}_e.swap=function(Fe,Ee){for(var St=or(Fe,Ee),Tt=0;Tt<St.length;Tt++)_r(Fe,St[Tt].x,St[Tt].y)};function or(Fe,Ee){var St=[],Tt,Lt;for(Tt=0;Tt<Ee.length;Tt++){var Ft=[],Ht=Fe._fullData[Ee[Tt]].xaxis,$t=Fe._fullData[Ee[Tt]].yaxis;if(!(!Ht||!$t)){for(Lt=0;Lt<St.length;Lt++)(St[Lt].x.indexOf(Ht)!==-1||St[Lt].y.indexOf($t)!==-1)&&Ft.push(Lt);if(!Ft.length){St.push({x:[Ht],y:[$t]});continue}var Mt=St[Ft[0]],tn;if(Ft.length>1)for(Lt=1;Lt<Ft.length;Lt++)tn=St[Ft[Lt]],jr(Mt.x,tn.x),jr(Mt.y,tn.y);jr(Mt.x,[Ht]),jr(Mt.y,[$t])}}return St}function jr(Fe,Ee){for(var St=0;St<Ee.length;St++)Fe.indexOf(Ee[St])===-1&&Fe.push(Ee[St])}function _r(Fe,Ee,St){var Tt=[],Lt=[],Ft=Fe.layout,Ht,$t;for(Ht=0;Ht<Ee.length;Ht++)Tt.push(_e.getFromId(Fe,Ee[Ht]));for(Ht=0;Ht<St.length;Ht++)Lt.push(_e.getFromId(Fe,St[Ht]));var Mt=Object.keys(M),tn=["anchor","domain","overlaying","position","side","tickangle","editType"],un=["linear","log"];for(Ht=0;Ht<Mt.length;Ht++){var en=Mt[Ht],on=Tt[0][en],Cn=Lt[0][en],On=!0,pn=!1,Jn=!1;if(!(en.charAt(0)==="_"||typeof on=="function"||tn.indexOf(en)!==-1)){for($t=1;$t<Tt.length&&On;$t++){var Fn=Tt[$t][en];en==="type"&&un.indexOf(on)!==-1&&un.indexOf(Fn)!==-1&&on!==Fn?pn=!0:Fn!==on&&(On=!1)}for($t=1;$t<Lt.length&&On;$t++){var Zr=Lt[$t][en];en==="type"&&un.indexOf(Cn)!==-1&&un.indexOf(Zr)!==-1&&Cn!==Zr?Jn=!0:Lt[$t][en]!==Cn&&(On=!1)}On&&(pn&&(Ft[Tt[0]._name].type="linear"),Jn&&(Ft[Lt[0]._name].type="linear"),Rn(Ft,en,Tt,Lt,Fe._fullLayout._dfltTitle))}}for(Ht=0;Ht<Fe._fullLayout.annotations.length;Ht++){var dr=Fe._fullLayout.annotations[Ht];Ee.indexOf(dr.xref)!==-1&&St.indexOf(dr.yref)!==-1&&O.swapAttrs(Ft.annotations[Ht],["?"])}}function Rn(Fe,Ee,St,Tt,Lt){var Ft=O.nestedProperty,Ht=Ft(Fe[St[0]._name],Ee).get(),$t=Ft(Fe[Tt[0]._name],Ee).get(),Mt;for(Ee==="title"&&(Ht&&Ht.text===Lt.x&&(Ht.text=Lt.y),$t&&$t.text===Lt.y&&($t.text=Lt.x)),Mt=0;Mt<St.length;Mt++)Ft(Fe,St[Mt]._name+"."+Ee).set($t);for(Mt=0;Mt<Tt.length;Mt++)Ft(Fe,Tt[Mt]._name+"."+Ee).set(Ht)}function Sr(Fe){return Fe._id==="angularaxis"}function sr(Fe,Ee){for(var St=Ee._rangebreaks.length,Tt=0;Tt<St;Tt++){var Lt=Ee._rangebreaks[Tt];if(Fe>=Lt.min&&Fe<Lt.max)return Lt.max}return Fe}function wr(Fe){return(Fe.ticklabelposition||"").indexOf("inside")!==-1}function ao(Fe,Ee){wr(Fe._anchorAxis||{})&&Fe._hideCounterAxisInsideTickLabels&&Fe._hideCounterAxisInsideTickLabels(Ee)}function xo(Fe,Ee,St,Tt){var Lt=Fe.anchor!=="free"&&(Fe.overlaying===void 0||Fe.overlaying===!1)?Fe._id:Fe.overlaying,Ft;Tt?Ft=Fe.side==="right"?Ee:-Ee:Ft=Ee,Lt in St||(St[Lt]={}),Fe.side in St[Lt]||(St[Lt][Fe.side]=0),St[Lt][Fe.side]+=Ft}function Cr(Fe,Ee){return Fe.autoshift?Ee[Fe.overlaying][Fe.side]:Fe.shift||0}},4322:function(d,h,c){var g=c(2770),v=c(1828),y=c(606).BADNUM,b=v.isArrayOrTypedArray,O=v.isDateTime,T=v.cleanNumber,k=Math.round;d.exports=function(Q,z,U){var F=Q,B=U.noMultiCategory;if(b(F)&&!F.length)return"-";if(!B&&V(F))return"multicategory";if(B&&Array.isArray(F[0])){for(var E=[],W=0;W<F.length;W++)if(b(F[W]))for(var X=0;X<F[W].length;X++)E.push(F[W][X]);F=E}if(_(F,z))return"date";var ie=U.autotypenumbers!=="strict";return I(F,ie)?"category":C(F,ie)?"linear":"-"};function w(N,Q){return Q?g(N):typeof N=="number"}function C(N,Q){for(var z=N.length,U=0;U<z;U++)if(w(N[U],Q))return!0;return!1}function _(N,Q){for(var z=N.length,U=M(z),F=0,B=0,E={},W=0;W<z;W+=U){var X=k(W),ie=N[X],L=String(ie);E[L]||(E[L]=1,O(ie,Q)&&F++,g(ie)&&B++)}return F>B*2}function M(N){return Math.max(1,(N-1)/1e3)}function I(N,Q){for(var z=N.length,U=M(z),F=0,B=0,E={},W=0;W<z;W+=U){var X=k(W),ie=N[X],L=String(ie);if(!E[L]){E[L]=1;var me=typeof ie;me==="boolean"?B++:(Q?T(ie)!==y:me==="number")?F++:me==="string"&&B++}}return B>F*2}function V(N){return b(N[0])&&b(N[1])}},1453:function(d,h,c){var g=c(2770),v=c(3972),y=c(1828),b=c(4467),O=c(5501),T=c(3838),k=c(6218),w=c(8701),C=c(6115),_=c(9426),M=c(5258),I=c(2128),V=c(3608),N=c(1994),Q=c(5555).WEEKDAY_PATTERN,z=c(5555).HOUR_PATTERN;d.exports=function(W,X,ie,L,me){var ae=L.letter,q=L.font||{},de=L.splomStash||{},ee=ie("visible",!L.visibleDflt),xe=X._template||{},we=X.type||xe.type||"-",Be;if(we==="date"){var pe=v.getComponentMethod("calendars","handleDefaults");pe(W,X,"calendar",L.calendar),L.noTicklabelmode||(Be=ie("ticklabelmode"))}var ne="";(!L.noTicklabelposition||we==="multicategory")&&(ne=y.coerce(W,X,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Be==="period"?["outside","inside"]:ae==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),L.noTicklabeloverflow||ie("ticklabeloverflow",ne.indexOf("inside")!==-1?"hide past domain":we==="category"||we==="multicategory"?"allow":"hide past div"),N(X,me),V(W,X,ie,L),M(W,X,ie,L),we!=="category"&&!L.noHover&&ie("hoverformat");var le=ie("color"),Y=le!==T.color.dflt?le:q.color,ve=de.label||me._dfltTitle[ae];if(_(W,X,ie,we,L),!ee)return X;ie("title.text",ve),y.coerceFont(ie,"title.font",{family:q.family,size:y.bigFont(q.size),color:Y}),k(W,X,ie,we);var Oe=L.hasMinor;if(Oe&&(b.newContainer(X,"minor"),k(W,X,ie,we,{isMinor:!0})),C(W,X,ie,we,L),w(W,X,ie,L),Oe){var Le=L.isMinor;L.isMinor=!0,w(W,X,ie,L),L.isMinor=Le}I(W,X,ie,{dfltColor:le,bgColor:L.bgColor,showGrid:L.showGrid,hasMinor:Oe,attributes:T}),Oe&&!X.minor.ticks&&!X.minor.showgrid&&delete X.minor,(X.showline||X.ticks)&&ie("mirror");var Te=we==="multicategory";if(!L.noTickson&&(we==="category"||Te)&&(X.ticks||X.showgrid)){var De;Te&&(De="boundaries");var Ve=ie("tickson",De);Ve==="boundaries"&&delete X.ticklabelposition}if(Te){var _e=ie("showdividers");_e&&(ie("dividercolor"),ie("dividerwidth"))}if(we==="date")if(O(W,X,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:U}),!X.rangebreaks.length)delete X.rangebreaks;else{for(var Ie=0;Ie<X.rangebreaks.length;Ie++)if(X.rangebreaks[Ie].pattern===Q){X._hasDayOfWeekBreaks=!0;break}if(N(X,me),me._has("scattergl")||me._has("splom"))for(var re=0;re<L.data.length;re++){var be=L.data[re];(be.type==="scattergl"||be.type==="splom")&&(be.visible=!1,y.warn(be.type+" traces do not work on axes with rangebreaks. Setting trace "+be.index+" to `visible: false`."))}}return X};function U(E,W,X){function ie(Be,pe){return y.coerce(E,W,T.rangebreaks,Be,pe)}var L=ie("enabled");if(L){var me=ie("bounds");if(me&&me.length>=2){var ae="",q,de;if(me.length===2){for(q=0;q<2;q++)if(de=B(me[q]),de){ae=Q;break}}var ee=ie("pattern",ae);if(ee===Q)for(q=0;q<2;q++)de=B(me[q]),de&&(W.bounds[q]=me[q]=de-1);if(ee)for(q=0;q<2;q++)switch(de=me[q],ee){case Q:if(!g(de)){W.enabled=!1;return}if(de=+de,de!==Math.floor(de)||de<0||de>=7){W.enabled=!1;return}W.bounds[q]=me[q]=de;break;case z:if(!g(de)){W.enabled=!1;return}if(de=+de,de<0||de>24){W.enabled=!1;return}W.bounds[q]=me[q]=de;break}if(X.autorange===!1){var xe=X.range;if(xe[0]<xe[1]){if(me[0]<xe[0]&&me[1]>xe[1]){W.enabled=!1;return}}else if(me[0]>xe[0]&&me[1]<xe[1]){W.enabled=!1;return}}}else{var we=ie("values");if(we&&we.length)ie("dvalue");else{W.enabled=!1;return}}}}var F={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function B(E){if(typeof E=="string")return F[E.substr(0,3).toLowerCase()]}},2663:function(d,h,c){var g=c(1562),v=g.FORMAT_LINK,y=g.DATE_FORMAT_LINK;function b(k,w){return{valType:"string",dflt:"",editType:"none",description:(w?O:T)("hover text",k)+["By default the values are formatted using "+(w?"generic number format":"`"+k+"axis.hoverformat`")+"."].join(" ")}}function O(k,w){return["Sets the "+k+" formatting rule"+(w?"for `"+w+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+v+"."].join(" ")}function T(k,w){return O(k,w)+[" And for dates see: "+y+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}d.exports={axisHoverFormat:b,descriptionOnlyNumbers:O,descriptionWithDates:T}},1675:function(d,h,c){var g=c(3972),v=c(5555);h.id2name=function(O){if(!(typeof O!="string"||!O.match(v.AX_ID_PATTERN))){var T=O.split(" ")[0].substr(1);return T==="1"&&(T=""),O.charAt(0)+"axis"+T}},h.name2id=function(O){if(O.match(v.AX_NAME_PATTERN)){var T=O.substr(5);return T==="1"&&(T=""),O.charAt(0)+T}},h.cleanId=function(O,T,k){var w=/( domain)$/.test(O);if(!(typeof O!="string"||!O.match(v.AX_ID_PATTERN))&&!(T&&O.charAt(0)!==T)&&!(w&&!k)){var C=O.split(" ")[0].substr(1).replace(/^0+/,"");return C==="1"&&(C=""),O.charAt(0)+C+(w&&k?" domain":"")}},h.list=function(b,O,T){var k=b._fullLayout;if(!k)return[];var w=h.listIds(b,O),C=new Array(w.length),_;for(_=0;_<w.length;_++){var M=w[_];C[_]=k[M.charAt(0)+"axis"+M.substr(1)]}if(!T){var I=k._subplots.gl3d||[];for(_=0;_<I.length;_++){var V=k[I[_]];O?C.push(V[O+"axis"]):C.push(V.xaxis,V.yaxis,V.zaxis)}}return C},h.listIds=function(b,O){var T=b._fullLayout;if(!T)return[];var k=T._subplots;return O?k[O+"axis"]:k.xaxis.concat(k.yaxis)},h.getFromId=function(b,O,T){var k=b._fullLayout;return O=O===void 0||typeof O!="string"?O:O.replace(" domain",""),T==="x"?O=O.replace(/y[0-9]*/,""):T==="y"&&(O=O.replace(/x[0-9]*/,"")),k[h.id2name(O)]},h.getFromTrace=function(b,O,T){var k=b._fullLayout,w=null;if(g.traceIs(O,"gl3d")){var C=O.scene;C.substr(0,5)==="scene"&&(w=k[C][T+"axis"])}else w=h.getFromId(b,O[T+"axis"]||T);return w},h.idSort=function(b,O){var T=b.charAt(0),k=O.charAt(0);return T!==k?T>k?1:-1:+(b.substr(1)||1)-+(O.substr(1)||1)},h.ref2id=function(b){return/^[xyz]/.test(b)?b.split(" ")[0]:!1};function y(b,O){if(O&&O.length){for(var T=0;T<O.length;T++)if(O[T][b])return!0}return!1}h.isLinked=function(b,O){return y(O,b._axisMatchGroups)||y(O,b._axisConstraintGroups)}},5258:function(d){function h(c,g){var v=g.dataAttr||c._id.charAt(0),y={},b,O,T;if(g.axData)b=g.axData;else for(b=[],O=0;O<g.data.length;O++){var k=g.data[O];k[v+"axis"]===c._id&&b.push(k)}for(O=0;O<b.length;O++){var w=b[O][v];for(T=0;T<w.length;T++){var C=w[T];C!=null&&(y[C]=1)}}return Object.keys(y)}d.exports=function(g,v,y,b){if(v.type==="category"){var O=g.categoryarray,T=Array.isArray(O)&&O.length>0,k;T&&(k="array");var w=y("categoryorder",k),C;w==="array"&&(C=y("categoryarray")),!T&&w==="array"&&(w=v.categoryorder="trace"),w==="trace"?v._initialCategories=[]:w==="array"?v._initialCategories=C.slice():(C=h(v,b).sort(),w==="category ascending"?v._initialCategories=C:w==="category descending"&&(v._initialCategories=C.reverse()))}}},6287:function(d,h,c){var g=c(2770),v=c(1828),y=c(606),b=y.ONEDAY,O=y.ONEWEEK;h.dtick=function(T,k){var w=k==="log",C=k==="date",_=k==="category",M=C?b:1;if(!T)return M;if(g(T))return T=Number(T),T<=0?M:_?Math.max(1,Math.round(T)):C?Math.max(.1,T):T;if(typeof T!="string"||!(C||w))return M;var I=T.charAt(0),V=T.substr(1);return V=g(V)?Number(V):0,V<=0||!(C&&I==="M"&&V===Math.round(V)||w&&I==="L"||w&&I==="D"&&(V===1||V===2))?M:T},h.tick0=function(T,k,w,C){if(k==="date")return v.cleanDate(T,v.dateTick0(w,C%O===0?1:0));if(!(C==="D1"||C==="D2"))return g(T)?Number(T):0}},5555:function(d,h,c){var g=c(587).counter;d.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(d,h,c){var g=c(1828),v=c(1739),y=c(1675).id2name,b=c(3838),O=c(2449),T=c(1994),k=c(606).ALMOST_EQUAL,w=c(8783).FROM_BL;h.handleDefaults=function(z,U,F){var B=F.axIds,E=F.axHasImage,W=U._axisConstraintGroups=[],X=U._axisMatchGroups=[],ie,L,me,ae,q,de,ee,xe;for(ie=0;ie<B.length;ie++)ae=y(B[ie]),q=z[ae],de=U[ae],C(q,de,{axIds:B,layoutOut:U,hasImage:E[ae]});function we(Te,De){for(ie=0;ie<Te.length;ie++){L=Te[ie];for(me in L)U[y(me)][De]=L}}for(we(X,"_matchGroup"),ie=0;ie<W.length;ie++){L=W[ie];for(me in L)if(de=U[y(me)],de.fixedrange){for(var Be in L){var pe=y(Be);(z[pe]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+pe+" but was overridden because another axis in its constraint group has fixedrange true"),U[pe].fixedrange=!0}break}}for(ie=0;ie<W.length;){L=W[ie];for(me in L){de=U[y(me)],de._matchGroup&&Object.keys(de._matchGroup).length===Object.keys(L).length&&(W.splice(ie,1),ie--);break}ie++}we(W,"_constraintGroup");var ne=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],le=!1,Y=!1;function ve(){xe=de[ee],ee==="rangebreaks"&&(Y=de._hasDayOfWeekBreaks)}for(ie=0;ie<X.length;ie++){L=X[ie];for(var Oe=0;Oe<ne.length;Oe++){ee=ne[Oe],xe=null;var Le;for(me in L)if(ae=y(me),q=z[ae],de=U[ae],ee in de){if(!de.matches&&(Le=de,ee in q)){ve();break}xe===null&&ee in q&&ve()}if(ee==="range"&&xe&&q.range&&q.range.length===2&&q.range[0]!==null&&q.range[1]!==null&&(le=!0),ee==="autorange"&&xe===null&&le&&(xe=!1),xe===null&&ee in Le&&(xe=Le[ee]),xe!==null)for(me in L)de=U[y(me)],de[ee]=ee==="range"?xe.slice():xe,ee==="rangebreaks"&&(de._hasDayOfWeekBreaks=Y,T(de,U))}}};function C(z,U,F){var B=F.axIds,E=F.layoutOut,W=F.hasImage,X=E._axisConstraintGroups,ie=E._axisMatchGroups,L=U._id,me=L.charAt(0),ae=((E._splomAxes||{})[me]||{})[L]||{},q=U._id,de=q.charAt(0)==="x";U._matchGroup=null,U._constraintGroup=null;function ee(Ie,re){return g.coerce(z,U,b,Ie,re)}ee("constrain",W?"domain":"range"),g.coerce(z,U,{constraintoward:{valType:"enumerated",values:de?["left","center","right"]:["bottom","middle","top"],dflt:de?"center":"middle"}},"constraintoward");var xe=U.type,we,Be,pe=[];for(we=0;we<B.length;we++)if(Be=B[we],Be!==q){var ne=E[y(Be)];ne.type===xe&&pe.push(Be)}var le=M(X,q);if(le){var Y=[];for(we=0;we<pe.length;we++)Be=pe[we],le[Be]||Y.push(Be);pe=Y}var ve=pe.length,Oe,Le;ve&&(z.matches||ae.matches)&&(Oe=g.coerce(z,U,{matches:{valType:"enumerated",values:pe,dflt:pe.indexOf(ae.matches)!==-1?ae.matches:void 0}},"matches"));var Te=W&&!de?U.anchor:void 0;if(ve&&!Oe&&(z.scaleanchor||Te)&&(Le=g.coerce(z,U,{scaleanchor:{valType:"enumerated",values:pe.concat([!1])}},"scaleanchor",Te)),Oe){U._matchGroup=I(ie,q,Oe,1);var De=E[y(Oe)],Ve=_(E,U)/_(E,De);de!==(Oe.charAt(0)==="x")&&(Ve=(de?"x":"y")+Ve),I(X,q,Oe,Ve)}else z.matches&&B.indexOf(z.matches)!==-1&&g.warn("ignored "+U._name+'.matches: "'+z.matches+'" to avoid an infinite loop');if(Le){var _e=ee("scaleratio");_e||(_e=U.scaleratio=1),I(X,q,Le,_e)}else z.scaleanchor&&B.indexOf(z.scaleanchor)!==-1&&g.warn("ignored "+U._name+'.scaleanchor: "'+z.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function _(z,U){var F=U.domain;return F||(F=z[y(U.overlaying)].domain),F[1]-F[0]}function M(z,U){for(var F=0;F<z.length;F++)if(z[F][U])return z[F];return null}function I(z,U,F,B){var E,W,X,ie,L,me=M(z,U);me===null?(me={},me[U]=1,L=z.length,z.push(me)):L=z.indexOf(me);var ae=Object.keys(me);for(E=0;E<z.length;E++)if(X=z[E],E!==L&&X[F]){var q=X[F];for(W=0;W<ae.length;W++)ie=ae[W],X[ie]=V(q,V(B,me[ie]));z.splice(L,1);return}if(B!==1)for(W=0;W<ae.length;W++){var de=ae[W];me[de]=V(B,me[de])}me[F]=1}function V(z,U){var F="",B="",E,W;typeof z=="string"&&(F=z.match(/^[xy]*/)[0],E=F.length,z=+z.substr(E)),typeof U=="string"&&(B=U.match(/^[xy]*/)[0],W=B.length,U=+U.substr(W));var X=z*U;return!E&&!W?X:!E||!W||F.charAt(0)===B.charAt(0)?F+B+z*U:E===W?X:(E>W?F.substr(W):B.substr(E))+X}function N(z,U){for(var F=U._size,B=F.h/F.w,E={},W=Object.keys(z),X=0;X<W.length;X++){var ie=W[X],L=z[ie];if(typeof L=="string"){var me=L.match(/^[xy]*/)[0],ae=me.length;L=+L.substr(ae);for(var q=me.charAt(0)==="y"?B:1/B,de=0;de<ae;de++)L*=q}E[ie]=L}return E}h.enforce=function(U){var F=U._fullLayout,B=F._axisConstraintGroups||[],E,W,X,ie,L,me,ae,q;for(E=0;E<B.length;E++){X=N(B[E],F);var de=Object.keys(X),ee=1/0,xe=0,we=1/0,Be={},pe={},ne=!1;for(W=0;W<de.length;W++)ie=de[W],pe[ie]=L=F[y(ie)],L._inputDomain?L.domain=L._inputDomain.slice():L._inputDomain=L.domain.slice(),L._inputRange||(L._inputRange=L.range.slice()),L.setScale(),Be[ie]=me=Math.abs(L._m)/X[ie],ee=Math.min(ee,me),(L.constrain==="domain"||!L._constraintShrinkable)&&(we=Math.min(we,me)),delete L._constraintShrinkable,xe=Math.max(xe,me),L.constrain==="domain"&&(ne=!0);if(!(ee>k*xe&&!ne)){for(W=0;W<de.length;W++)if(ie=de[W],me=Be[ie],L=pe[ie],ae=L.constrain,me!==we||ae==="domain")if(q=me/we,ae==="range")O(L,q);else{var le=L._inputDomain,Y=(L.domain[1]-L.domain[0])/(le[1]-le[0]),ve=(L.r2l(L.range[1])-L.r2l(L.range[0]))/(L.r2l(L._inputRange[1])-L.r2l(L._inputRange[0]));if(q/=Y,q*ve<1){L.domain=L._input.domain=le.slice(),O(L,q);continue}if(ve<1&&(L.range=L._input.range=L._inputRange.slice(),q*=ve),L.autorange){var Oe=L.r2l(L.range[0]),Le=L.r2l(L.range[1]),Te=(Oe+Le)/2,De=Te,Ve=Te,_e=Math.abs(Le-Te),Ie=Te-_e*q*1.0001,re=Te+_e*q*1.0001,be=v.makePadFn(F,L,0),te=v.makePadFn(F,L,1);Q(L,q);var se=Math.abs(L._m),fe=v.concatExtremes(U,L),oe=fe.min,Se=fe.max,ce,ke;for(ke=0;ke<oe.length;ke++)ce=oe[ke].val-be(oe[ke])/se,ce>Ie&&ce<De&&(De=ce);for(ke=0;ke<Se.length;ke++)ce=Se[ke].val+te(Se[ke])/se,ce<re&&ce>Ve&&(Ve=ce);var Qe=(Ve-De)/(2*_e);q/=Qe,De=L.l2r(De),Ve=L.l2r(Ve),L.range=L._input.range=Oe<Le?[De,Ve]:[Ve,De]}Q(L,q)}}}},h.getAxisGroup=function(U,F){for(var B=U._axisMatchGroups,E=0;E<B.length;E++){var W=B[E];if(W[F])return"g"+E}return F},h.clean=function(U,F){if(F._inputDomain){for(var B=!1,E=F._id,W=U._fullLayout._axisConstraintGroups,X=0;X<W.length;X++)if(W[X][E]){B=!0;break}(!B||F.constrain!=="domain")&&(F._input.domain=F.domain=F._inputDomain,delete F._inputDomain)}};function Q(z,U){var F=z._inputDomain,B=w[z.constraintoward],E=F[0]+(F[1]-F[0])*B;z.domain=z._input.domain=[E+(F[0]-E)/U,E+(F[1]-E)/U],z.setScale()}},9323:function(d,h,c){var g=c(9898),v=c(1828),y=v.numberFormat,b=c(4267),O=c(8520),T=c(3972),k=v.strTranslate,w=c(3893),C=c(7901),_=c(1424),M=c(211),I=c(9298),V=c(6964),N=c(8569),Q=c(4505),z=Q.selectingOrDrawing,U=Q.freeMode,F=c(8783).FROM_TL,B=c(3306),E=c(1549).redrawReglTraces,W=c(4875),X=c(1675).getFromId,ie=c(7322).prepSelect,L=c(7322).clearOutline,me=c(7322).selectOnClick,ae=c(2449),q=c(5555),de=q.MINDRAG,ee=q.MINZOOM,xe=!0;function we(ce,ke,Qe,Ze,Xe,ct,pt,Ye){var je=ce._fullLayout._zoomlayer,et=pt+Ye==="nsew",yt=(pt+Ye).length===1,ft,tt,wt,Xt,Gt,Nt,Bt,vn,En,ln,Yn,an,wn,Xn,Un,Sn,lt,ut,xt,gt,Dt,He,it;Qe+=ke.yaxis._shift;function dt(){if(ft=ke.xaxis,tt=ke.yaxis,En=ft._length,ln=tt._length,Bt=ft._offset,vn=tt._offset,wt={},wt[ft._id]=ft,Xt={},Xt[tt._id]=tt,pt&&Ye)for(var $t=ke.overlays,Mt=0;Mt<$t.length;Mt++){var tn=$t[Mt].xaxis;wt[tn._id]=tn;var un=$t[Mt].yaxis;Xt[un._id]=un}Gt=Se(wt),Nt=Se(Xt),wn=ne(Gt,Ye),Xn=ne(Nt,pt),Un=!Xn&&!wn,an=fe(ce,ce._fullLayout._axisMatchGroups,wt,Xt),Yn=fe(ce,ce._fullLayout._axisConstraintGroups,wt,Xt,an);var en=Yn.isSubplotConstrained||an.isSubplotConstrained;Sn=Ye||en,lt=pt||en;var on=ce._fullLayout;ut=on._has("scattergl"),xt=on._has("splom"),gt=on._has("svg")}dt();var mt=Le(Xn+wn,ce._fullLayout.dragmode,et),Ct=pe(ke,pt+Ye+"drag",mt,Qe,Ze,Xe,ct);if(Un&&!et)return Ct.onmousedown=null,Ct.style.pointerEvents="none",Ct;var Pt={element:Ct,gd:ce,plotinfo:ke};Pt.prepFn=function($t,Mt,tn){var un=Pt.dragmode,en=ce._fullLayout.dragmode;en!==un&&(Pt.dragmode=en),dt(),He=ce._fullLayout._invScaleX,it=ce._fullLayout._invScaleY,Un||(et?$t.shiftKey?en==="pan"?en="zoom":z(en)||(en="pan"):$t.ctrlKey&&(en="pan"):en="pan"),U(en)?Pt.minDrag=1:Pt.minDrag=void 0,z(en)?(Pt.xaxes=Gt,Pt.yaxes=Nt,ie($t,Mt,tn,Pt,en)):(Pt.clickFn=rn,z(un)&&dn(),Un||(en==="zoom"?(Pt.moveFn=or,Pt.doneFn=_r,Pt.minDrag=1,kr($t,Mt,tn)):en==="pan"&&(Pt.moveFn=xo,Pt.doneFn=St))),ce._fullLayout._redrag=function(){var on=ce._dragdata;if(on&&on.element===Ct){var Cn=ce._fullLayout.dragmode;z(Cn)||(dt(),Tt([0,0,En,ln]),Pt.moveFn(on.dx,on.dy))}}};function dn(){Pt.plotinfo.selection=!1,L(ce)}function rn($t,Mt){var tn=Pt.gd;if(tn._fullLayout._activeShapeIndex>=0){tn._fullLayout._deactivateShape(tn);return}var un=tn._fullLayout.clickmode;if(Ie(tn),$t===2&&!yt&&Ee(),et)un.indexOf("select")>-1&&me(Mt,tn,Gt,Nt,ke.id,Pt),un.indexOf("event")>-1&&M.click(tn,Mt,ke.id);else if($t===1&&yt){var en=pt?tt:ft,on=pt==="s"||Ye==="w"?0:1,Cn=en._name+".range["+on+"]",On=le(en,on),pn="left",Jn="middle";if(en.fixedrange)return;pt?(Jn=pt==="n"?"top":"bottom",en.side==="right"&&(pn="right")):Ye==="e"&&(pn="right"),tn._context.showAxisRangeEntryBoxes&&g.select(Ct).call(w.makeEditable,{gd:tn,immediate:!0,background:tn._fullLayout.paper_bgcolor,text:String(On),fill:en.tickfont?en.tickfont.color:"#444",horizontalAlign:pn,verticalAlign:Jn}).on("edit",function(Fn){var Zr=en.d2r(Fn);Zr!==void 0&&T.call("_guiRelayout",tn,Cn,Zr)})}}N.init(Pt);var Wt,Rt,fn,Hn,nr,Er,zt,vr,Wn,Br;function kr($t,Mt,tn){var un=Ct.getBoundingClientRect();Wt=Mt-un.left,Rt=tn-un.top,ce._fullLayout._calcInverseTransform(ce);var en=v.apply3DTransform(ce._fullLayout._invTransform)(Wt,Rt);Wt=en[0],Rt=en[1],fn={l:Wt,r:Wt,w:0,t:Rt,b:Rt,h:0},Hn=ce._hmpixcount?ce._hmlumcount/ce._hmpixcount:b(ce._fullLayout.plot_bgcolor).getLuminance(),nr="M0,0H"+En+"V"+ln+"H0V0",Er=!1,zt="xy",Br=!1,vr=Te(je,Hn,Bt,vn,nr),Wn=De(je,Bt,vn)}function or($t,Mt){if(ce._transitioningWithDuration)return!1;var tn=Math.max(0,Math.min(En,He*$t+Wt)),un=Math.max(0,Math.min(ln,it*Mt+Rt)),en=Math.abs(tn-Wt),on=Math.abs(un-Rt);fn.l=Math.min(Wt,tn),fn.r=Math.max(Wt,tn),fn.t=Math.min(Rt,un),fn.b=Math.max(Rt,un);function Cn(){zt="",fn.r=fn.l,fn.t=fn.b,Wn.attr("d","M0,0Z")}if(Yn.isSubplotConstrained)en>ee||on>ee?(zt="xy",en/En>on/ln?(on=en*ln/En,Rt>un?fn.t=Rt-on:fn.b=Rt+on):(en=on*En/ln,Wt>tn?fn.l=Wt-en:fn.r=Wt+en),Wn.attr("d",se(fn))):Cn();else if(an.isSubplotConstrained)if(en>ee||on>ee){zt="xy";var On=Math.min(fn.l/En,(ln-fn.b)/ln),pn=Math.max(fn.r/En,(ln-fn.t)/ln);fn.l=On*En,fn.r=pn*En,fn.b=(1-On)*ln,fn.t=(1-pn)*ln,Wn.attr("d",se(fn))}else Cn();else!Xn||on<Math.min(Math.max(en*.6,de),ee)?en<de||!wn?Cn():(fn.t=0,fn.b=ln,zt="x",Wn.attr("d",be(fn,Rt))):!wn||en<Math.min(on*.6,ee)?(fn.l=0,fn.r=En,zt="y",Wn.attr("d",te(fn,Wt))):(zt="xy",Wn.attr("d",se(fn)));fn.w=fn.r-fn.l,fn.h=fn.b-fn.t,zt&&(Br=!0),ce._dragged=Br,Ve(vr,Wn,fn,nr,Er,Hn),jr(),ce.emit("plotly_relayouting",Dt),Er=!0}function jr(){Dt={},(zt==="xy"||zt==="x")&&(Y(Gt,fn.l/En,fn.r/En,Dt,Yn.xaxes),Cr("x",Dt)),(zt==="xy"||zt==="y")&&(Y(Nt,(ln-fn.b)/ln,(ln-fn.t)/ln,Dt,Yn.yaxes),Cr("y",Dt))}function _r(){jr(),Ie(ce),St(),re(ce)}var Rn=[0,0,En,ln],Sr=null,sr=q.REDRAWDELAY,wr=ke.mainplot?ce._fullLayout._plots[ke.mainplot]:ke;function ao($t){if(!ce._context._scrollZoom.cartesian&&!ce._fullLayout._enablescrollzoom)return;if(dn(),ce._transitioningWithDuration){$t.preventDefault(),$t.stopPropagation();return}dt(),clearTimeout(Sr);var Mt=-$t.deltaY;if(isFinite(Mt)||(Mt=$t.wheelDelta/10),!isFinite(Mt)){v.log("Did not find wheel motion attributes: ",$t);return}var tn=Math.exp(-Math.min(Math.max(Mt,-20),20)/200),un=wr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),en=($t.clientX-un.left)/un.width,on=(un.bottom-$t.clientY)/un.height,Cn;function On(pn,Jn,Fn){if(pn.fixedrange)return;var Zr=v.simpleMap(pn.range,pn.r2l),dr=Zr[0]+(Zr[1]-Zr[0])*Jn;function Ur(ar){return pn.l2r(dr+(ar-dr)*Fn)}pn.range=Zr.map(Ur)}if(Sn){for(Ye||(en=.5),Cn=0;Cn<Gt.length;Cn++)On(Gt[Cn],en,tn);Cr("x"),Rn[2]*=tn,Rn[0]+=Rn[2]*en*(1/tn-1)}if(lt){for(pt||(on=.5),Cn=0;Cn<Nt.length;Cn++)On(Nt[Cn],on,tn);Cr("y"),Rn[3]*=tn,Rn[1]+=Rn[3]*(1-on)*(1/tn-1)}Tt(Rn),Fe(),ce.emit("plotly_relayouting",Dt),Sr=setTimeout(function(){ce._fullLayout&&(Rn=[0,0,En,ln],St())},sr),$t.preventDefault()}pt.length*Ye.length!==1&&oe(Ct,ao);function xo($t,Mt){if($t=$t*He,Mt=Mt*it,ce._transitioningWithDuration)return;if(ce._fullLayout._replotting=!0,wn==="ew"||Xn==="ns"){var tn=wn?-$t:0,un=Xn?-Mt:0;if(an.isSubplotConstrained){if(wn&&Xn){var en=($t/En-Mt/ln)/2;$t=en*En,Mt=-en*ln,tn=-$t,un=-Mt}Xn?tn=-un*En/ln:un=-tn*ln/En}wn&&(ve(Gt,$t),Cr("x")),Xn&&(ve(Nt,Mt),Cr("y")),Tt([tn,un,En,ln]),Fe(),ce.emit("plotly_relayouting",Dt);return}function on(Ur,ar,ur){for(var qr=1-ar,to,Ao,_s=0;_s<Ur.length;_s++){var wo=Ur[_s];if(!wo.fixedrange){to=wo,Ao=wo._rl[qr]+(wo._rl[ar]-wo._rl[qr])/Oe(ur/wo._length);var Ko=wo.l2r(Ao);Ko!==!1&&Ko!==void 0&&(wo.range[ar]=Ko)}}return to._length*(to._rl[ar]-Ao)/(to._rl[ar]-to._rl[qr])}var Cn=wn==="w"==(Xn==="n")?1:-1;if(wn&&Xn&&(Yn.isSubplotConstrained||an.isSubplotConstrained)){var On=($t/En+Cn*Mt/ln)/2;$t=On*En,Mt=Cn*On*ln}var pn,Jn;if(wn==="w"?$t=on(Gt,0,$t):wn==="e"?$t=on(Gt,1,-$t):wn||($t=0),Xn==="n"?Mt=on(Nt,1,Mt):Xn==="s"?Mt=on(Nt,0,-Mt):Xn||(Mt=0),pn=wn==="w"?$t:0,Jn=Xn==="n"?Mt:0,Yn.isSubplotConstrained&&!an.isSubplotConstrained||an.isSubplotConstrained&&wn&&Xn&&Cn>0){var Fn;if(an.isSubplotConstrained||!wn&&Xn.length===1){for(Fn=0;Fn<Gt.length;Fn++)Gt[Fn].range=Gt[Fn]._r.slice(),ae(Gt[Fn],1-Mt/ln);$t=Mt*En/ln,pn=$t/2}if(an.isSubplotConstrained||!Xn&&wn.length===1){for(Fn=0;Fn<Nt.length;Fn++)Nt[Fn].range=Nt[Fn]._r.slice(),ae(Nt[Fn],1-$t/En);Mt=$t*ln/En,Jn=Mt/2}}(!an.isSubplotConstrained||!Xn)&&Cr("x"),(!an.isSubplotConstrained||!wn)&&Cr("y");var Zr=En-$t,dr=ln-Mt;an.isSubplotConstrained&&!(wn&&Xn)&&(wn?(Jn=pn?0:$t*ln/En,dr=Zr*ln/En):(pn=Jn?0:Mt*En/ln,Zr=dr*En/ln)),Tt([pn,Jn,Zr,dr]),Fe(),ce.emit("plotly_relayouting",Dt)}function Cr($t,Mt){for(var tn=an.isSubplotConstrained?{x:Nt,y:Gt}[$t]:an[$t+"axes"],un=an.isSubplotConstrained?{x:Gt,y:Nt}[$t]:[],en=0;en<tn.length;en++){var on=tn[en],Cn=on._id,On=an.xLinks[Cn]||an.yLinks[Cn],pn=un[0]||wt[On]||Xt[On];pn&&(Mt?(Mt[on._name+".range[0]"]=Mt[pn._name+".range[0]"],Mt[on._name+".range[1]"]=Mt[pn._name+".range[1]"]):on.range=pn.range.slice())}}function Fe(){var $t=[],Mt;function tn(Cn){for(Mt=0;Mt<Cn.length;Mt++)Cn[Mt].fixedrange||$t.push(Cn[Mt]._id)}function un(Cn,On){for(Mt=0;Mt<Cn.length;Mt++){var pn=Cn[Mt],Jn=pn[On];!pn.fixedrange&&Jn.tickmode==="sync"&&$t.push(Jn._id)}}for(Sn&&(tn(Gt),tn(Yn.xaxes),tn(an.xaxes),un(ke.overlays,"xaxis")),lt&&(tn(Nt),tn(Yn.yaxes),tn(an.yaxes),un(ke.overlays,"yaxis")),Dt={},Mt=0;Mt<$t.length;Mt++){var en=$t[Mt],on=X(ce,en);I.drawOne(ce,on,{skipTitle:!0}),Dt[on._name+".range[0]"]=on.range[0],Dt[on._name+".range[1]"]=on.range[1]}I.redrawComponents(ce,$t)}function Ee(){if(!ce._transitioningWithDuration){var $t=ce._context.doubleClick,Mt=[];wn&&(Mt=Mt.concat(Gt)),Xn&&(Mt=Mt.concat(Nt)),an.xaxes&&(Mt=Mt.concat(an.xaxes)),an.yaxes&&(Mt=Mt.concat(an.yaxes));var tn={},un,en;if($t==="reset+autosize")for($t="autosize",en=0;en<Mt.length;en++){un=Mt[en];var on=un._rangeInitial0,Cn=un._rangeInitial1,On=on!==void 0||Cn!==void 0;if(On&&(on!==void 0&&on!==un.range[0]||Cn!==void 0&&Cn!==un.range[1])||!On&&un.autorange!==!0){$t="reset";break}}if($t==="autosize")for(en=0;en<Mt.length;en++)un=Mt[en],un.fixedrange||(tn[un._name+".autorange"]=!0);else if($t==="reset"){for((wn||Yn.isSubplotConstrained)&&(Mt=Mt.concat(Yn.xaxes)),Xn&&!Yn.isSubplotConstrained&&(Mt=Mt.concat(Yn.yaxes)),Yn.isSubplotConstrained&&(wn?Xn||(Mt=Mt.concat(Nt)):Mt=Mt.concat(Gt)),en=0;en<Mt.length;en++)if(un=Mt[en],!un.fixedrange){var pn=un._name,Jn=un._autorangeInitial;un._rangeInitial0===void 0&&un._rangeInitial1===void 0?tn[pn+".autorange"]=!0:un._rangeInitial0===void 0?(tn[pn+".autorange"]=Jn,tn[pn+".range"]=[null,un._rangeInitial1]):un._rangeInitial1===void 0?(tn[pn+".range"]=[un._rangeInitial0,null],tn[pn+".autorange"]=Jn):tn[pn+".range"]=[un._rangeInitial0,un._rangeInitial1]}}ce.emit("plotly_doubleclick",null),T.call("_guiRelayout",ce,tn)}}function St(){Tt([0,0,En,ln]),v.syncOrAsync([W.previousPromises,function(){ce._fullLayout._replotting=!1,T.call("_guiRelayout",ce,Dt)}],ce)}function Tt($t){var Mt=ce._fullLayout,tn=Mt._plots,un=Mt._subplots.cartesian,en,on,Cn,On;if(xt&&T.subplotsRegistry.splom.drag(ce),ut){for(en=0;en<un.length;en++)if(on=tn[un[en]],Cn=on.xaxis,On=on.yaxis,on._scene){var pn=v.simpleMap(Cn.range,Cn.r2l),Jn=v.simpleMap(On.range,On.r2l);Cn.limitRange&&Cn.limitRange(),On.limitRange&&On.limitRange(),pn=Cn.range,Jn=On.range,on._scene.update({range:[pn[0],Jn[0],pn[1],Jn[1]]})}}if((xt||ut)&&(B(ce),E(ce)),gt){var Fn=$t[2]/ft._length,Zr=$t[3]/tt._length;for(en=0;en<un.length;en++){on=tn[un[en]],Cn=on.xaxis,On=on.yaxis;var dr=(Sn||an.isSubplotConstrained)&&!Cn.fixedrange&&wt[Cn._id],Ur=(lt||an.isSubplotConstrained)&&!On.fixedrange&&Xt[On._id],ar,ur,qr,to;if(dr?(ar=Fn,qr=Ye||an.isSubplotConstrained?$t[0]:Ht(Cn,ar)):an.xaHash[Cn._id]?(ar=Fn,qr=$t[0]*Cn._length/ft._length):an.yaHash[Cn._id]?(ar=Zr,qr=Xn==="ns"?-$t[1]*Cn._length/tt._length:Ht(Cn,ar,{n:"top",s:"bottom"}[Xn])):(ar=Lt(Cn,Fn,Zr),qr=Ft(Cn,ar)),ar>1&&(Cn.maxallowed!==void 0&&Sn===(Cn.range[0]<Cn.range[1]?"e":"w")||Cn.minallowed!==void 0&&Sn===(Cn.range[0]<Cn.range[1]?"w":"e"))&&(ar=1,qr=0),Ur?(ur=Zr,to=pt||an.isSubplotConstrained?$t[1]:Ht(On,ur)):an.yaHash[On._id]?(ur=Zr,to=$t[1]*On._length/tt._length):an.xaHash[On._id]?(ur=Fn,to=wn==="ew"?-$t[0]*On._length/ft._length:Ht(On,ur,{e:"right",w:"left"}[wn])):(ur=Lt(On,Fn,Zr),to=Ft(On,ur)),ur>1&&(On.maxallowed!==void 0&&lt===(On.range[0]<On.range[1]?"n":"s")||On.minallowed!==void 0&&lt===(On.range[0]<On.range[1]?"s":"n"))&&(ur=1,to=0),!(!ar&&!ur)){ar||(ar=1),ur||(ur=1);var Ao=Cn._offset-qr/ar,_s=On._offset-to/ur;on.clipRect.call(_.setTranslate,qr,to).call(_.setScale,ar,ur),on.plot.call(_.setTranslate,Ao,_s).call(_.setScale,1/ar,1/ur),(ar!==on.xScaleFactor||ur!==on.yScaleFactor)&&(_.setPointGroupScale(on.zoomScalePts,ar,ur),_.setTextPointsScale(on.zoomScaleTxt,ar,ur)),_.hideOutsideRangePoints(on.clipOnAxisFalseTraces,on),on.xScaleFactor=ar,on.yScaleFactor=ur}}}}function Lt($t,Mt,tn){return $t.fixedrange?0:Sn&&Yn.xaHash[$t._id]?Mt:lt&&(Yn.isSubplotConstrained?Yn.xaHash:Yn.yaHash)[$t._id]?tn:0}function Ft($t,Mt){return Mt?($t.range=$t._r.slice(),ae($t,Mt),Ht($t,Mt)):0}function Ht($t,Mt,tn){return $t._length*(1-Mt)*F[tn||$t.constraintoward||"middle"]}return Ct}function Be(ce,ke,Qe,Ze){var Xe=v.ensureSingle(ce.draglayer,ke,Qe,function(ct){ct.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ce.id)});return Xe.call(V,Ze),Xe.node()}function pe(ce,ke,Qe,Ze,Xe,ct,pt){var Ye=Be(ce,"rect",ke,Qe);return g.select(Ye).call(_.setRect,Ze,Xe,ct,pt),Ye}function ne(ce,ke){for(var Qe=0;Qe<ce.length;Qe++)if(!ce[Qe].fixedrange)return ke;return""}function le(ce,ke){var Qe=ce.range[ke],Ze=Math.abs(Qe-ce.range[1-ke]),Xe;return ce.type==="date"?Qe:ce.type==="log"?(Xe=Math.ceil(Math.max(0,-Math.log(Ze)/Math.LN10))+3,y("."+Xe+"g")(Math.pow(10,Qe))):(Xe=Math.floor(Math.log(Math.abs(Qe))/Math.LN10)-Math.floor(Math.log(Ze)/Math.LN10)+4,y("."+String(Xe)+"g")(Qe))}function Y(ce,ke,Qe,Ze,Xe){for(var ct=0;ct<ce.length;ct++){var pt=ce[ct];if(!pt.fixedrange)if(pt.rangebreaks){var Ye=pt._id.charAt(0)==="y",je=Ye?1-ke:ke,et=Ye?1-Qe:Qe;Ze[pt._name+".range[0]"]=pt.l2r(pt.p2l(je*pt._length)),Ze[pt._name+".range[1]"]=pt.l2r(pt.p2l(et*pt._length))}else{var yt=pt._rl[0],ft=pt._rl[1]-yt;Ze[pt._name+".range[0]"]=pt.l2r(yt+ft*ke),Ze[pt._name+".range[1]"]=pt.l2r(yt+ft*Qe)}}if(Xe&&Xe.length){var tt=(ke+(1-Qe))/2;Y(Xe,tt,1-tt,Ze,[])}}function ve(ce,ke){for(var Qe=0;Qe<ce.length;Qe++){var Ze=ce[Qe];if(!Ze.fixedrange){if(Ze.rangebreaks){var Xe=0,ct=Ze._length,pt=Ze.p2l(Xe+ke)-Ze.p2l(Xe),Ye=Ze.p2l(ct+ke)-Ze.p2l(ct),je=(pt+Ye)/2;Ze.range=[Ze.l2r(Ze._rl[0]-je),Ze.l2r(Ze._rl[1]-je)]}else Ze.range=[Ze.l2r(Ze._rl[0]-ke/Ze._m),Ze.l2r(Ze._rl[1]-ke/Ze._m)];Ze.limitRange&&Ze.limitRange()}}}function Oe(ce){return 1-(ce>=0?Math.min(ce,.9):1/(1/Math.max(ce,-.3)+3.222))}function Le(ce,ke,Qe){return ce?ce==="nsew"?Qe?"":ke==="pan"?"move":"crosshair":ce.toLowerCase()+"-resize":"pointer"}function Te(ce,ke,Qe,Ze,Xe){return ce.append("path").attr("class","zoombox").style({fill:ke>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",k(Qe,Ze)).attr("d",Xe+"Z")}function De(ce,ke,Qe){return ce.append("path").attr("class","zoombox-corners").style({fill:C.background,stroke:C.defaultLine,"stroke-width":1,opacity:0}).attr("transform",k(ke,Qe)).attr("d","M0,0Z")}function Ve(ce,ke,Qe,Ze,Xe,ct){ce.attr("d",Ze+"M"+Qe.l+","+Qe.t+"v"+Qe.h+"h"+Qe.w+"v-"+Qe.h+"h-"+Qe.w+"Z"),_e(ce,ke,Xe,ct)}function _e(ce,ke,Qe,Ze){Qe||(ce.transition().style("fill",Ze>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ke.transition().style("opacity",1).duration(200))}function Ie(ce){g.select(ce).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function re(ce){xe&&ce.data&&ce._context.showTips&&(v.notifier(v._(ce,"Double-click to zoom back out"),"long"),xe=!1)}function be(ce,ke){return"M"+(ce.l-.5)+","+(ke-ee-.5)+"h-3v"+(2*ee+1)+"h3ZM"+(ce.r+.5)+","+(ke-ee-.5)+"h3v"+(2*ee+1)+"h-3Z"}function te(ce,ke){return"M"+(ke-ee-.5)+","+(ce.t-.5)+"v-3h"+(2*ee+1)+"v3ZM"+(ke-ee-.5)+","+(ce.b+.5)+"v3h"+(2*ee+1)+"v-3Z"}function se(ce){var ke=Math.floor(Math.min(ce.b-ce.t,ce.r-ce.l,ee)/2);return"M"+(ce.l-3.5)+","+(ce.t-.5+ke)+"h3v"+-ke+"h"+ke+"v-3h-"+(ke+3)+"ZM"+(ce.r+3.5)+","+(ce.t-.5+ke)+"h-3v"+-ke+"h"+-ke+"v-3h"+(ke+3)+"ZM"+(ce.r+3.5)+","+(ce.b+.5-ke)+"h-3v"+ke+"h"+-ke+"v3h"+(ke+3)+"ZM"+(ce.l-3.5)+","+(ce.b+.5-ke)+"h3v"+ke+"h"+ke+"v3h-"+(ke+3)+"Z"}function fe(ce,ke,Qe,Ze,Xe){for(var ct=!1,pt={},Ye={},je,et,yt,ft,tt=(Xe||{}).xaHash,wt=(Xe||{}).yaHash,Xt=0;Xt<ke.length;Xt++){var Gt=ke[Xt];for(je in Qe)if(Gt[je]){for(yt in Gt)!(Xe&&(tt[yt]||wt[yt]))&&!(yt.charAt(0)==="x"?Qe:Ze)[yt]&&(pt[yt]=je);for(et in Ze)!(Xe&&(tt[et]||wt[et]))&&Gt[et]&&(ct=!0)}for(et in Ze)if(Gt[et])for(ft in Gt)!(Xe&&(tt[ft]||wt[ft]))&&!(ft.charAt(0)==="x"?Qe:Ze)[ft]&&(Ye[ft]=et)}ct&&(v.extendFlat(pt,Ye),Ye={});var Nt={},Bt=[];for(yt in pt){var vn=X(ce,yt);Bt.push(vn),Nt[vn._id]=vn}var En={},ln=[];for(ft in Ye){var Yn=X(ce,ft);ln.push(Yn),En[Yn._id]=Yn}return{xaHash:Nt,yaHash:En,xaxes:Bt,yaxes:ln,xLinks:pt,yLinks:Ye,isSubplotConstrained:ct}}function oe(ce,ke){if(!O)ce.onwheel!==void 0?ce.onwheel=ke:ce.onmousewheel!==void 0?ce.onmousewheel=ke:ce.isAddedWheelEvent||(ce.isAddedWheelEvent=!0,ce.addEventListener("wheel",ke,{passive:!1}));else{var Qe=ce.onwheel!==void 0?"wheel":"mousewheel";ce._onwheel&&ce.removeEventListener(Qe,ce._onwheel),ce._onwheel=ke,ce.addEventListener(Qe,ke,{passive:!1})}}function Se(ce){var ke=[];for(var Qe in ce)ke.push(ce[Qe]);return ke}d.exports={makeDragBox:we,makeDragger:Be,makeRectDragger:pe,makeZoombox:Te,makeCorners:De,updateZoombox:Ve,xyCorners:se,transitionZoombox:_e,removeZoombox:Ie,showDoubleClickNotifier:re,attachWheelEventHandler:oe}},4305:function(d,h,c){var g=c(9898),v=c(211),y=c(8569),b=c(6964),O=c(9323).makeDragBox,T=c(5555).DRAGGERSIZE;h.initInteractions=function(w){var C=w._fullLayout;if(w._context.staticPlot){g.select(w).selectAll(".drag").remove();return}if(!(!C._has("cartesian")&&!C._has("splom"))){var _=Object.keys(C._plots||{}).sort(function(I,V){if((C._plots[I].mainplot&&!0)===(C._plots[V].mainplot&&!0)){var N=I.split("y"),Q=V.split("y");return N[0]===Q[0]?Number(N[1]||1)-Number(Q[1]||1):Number(N[0]||1)-Number(Q[0]||1)}return C._plots[I].mainplot?1:-1});_.forEach(function(I){var V=C._plots[I],N=V.xaxis,Q=V.yaxis;if(!V.mainplot){var z=O(w,V,N._offset,Q._offset,N._length,Q._length,"ns","ew");z.onmousemove=function(B){w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===I&&w._fullLayout._plots[I]&&v.hover(w,B,I)},v.hover(w,B,I),w._fullLayout._lasthover=z,w._fullLayout._hoversubplot=I},z.onmouseout=function(B){w._dragging||(w._fullLayout._hoversubplot=null,y.unhover(w,B))},w._context.showAxisDragHandles&&(O(w,V,N._offset-T,Q._offset-T,T,T,"n","w"),O(w,V,N._offset+N._length,Q._offset-T,T,T,"n","e"),O(w,V,N._offset-T,Q._offset+Q._length,T,T,"s","w"),O(w,V,N._offset+N._length,Q._offset+Q._length,T,T,"s","e"))}if(w._context.showAxisDragHandles){if(I===N._mainSubplot){var U=N._mainLinePosition;N.side==="top"&&(U-=T),O(w,V,N._offset+N._length*.1,U,N._length*.8,T,"","ew"),O(w,V,N._offset,U,N._length*.1,T,"","w"),O(w,V,N._offset+N._length*.9,U,N._length*.1,T,"","e")}if(I===Q._mainSubplot){var F=Q._mainLinePosition;Q.side!=="right"&&(F-=T),O(w,V,F,Q._offset+Q._length*.1,T,Q._length*.8,"ns",""),O(w,V,F,Q._offset+Q._length*.9,T,Q._length*.1,"s",""),O(w,V,F,Q._offset,T,Q._length*.1,"n","")}}});var M=C._hoverlayer.node();M.onmousemove=function(I){I.target=w._fullLayout._lasthover,v.hover(w,I,C._hoversubplot)},M.onclick=function(I){I.target=w._fullLayout._lasthover,v.click(w,I)},M.onmousedown=function(I){w._fullLayout._lasthover.onmousedown(I)},h.updateFx(w)}},h.updateFx=function(k){var w=k._fullLayout,C=w.dragmode==="pan"?"move":"crosshair";b(w._draggers,C)}},6325:function(d,h,c){var g=c(3972),v=c(1828),y=c(1675);d.exports=function(O){return function(k,w){var C=k[O];if(Array.isArray(C))for(var _=g.subplotsRegistry.cartesian,M=_.idRegex,I=w._subplots,V=I.xaxis,N=I.yaxis,Q=I.cartesian,z=w._has("cartesian")||w._has("gl2d"),U=0;U<C.length;U++){var F=C[U];if(v.isPlainObject(F)){var B=y.cleanId(F.xref,"x",!1),E=y.cleanId(F.yref,"y",!1),W=M.x.test(B),X=M.y.test(E);if(W||X){z||v.pushUnique(w._basePlotModules,_);var ie=!1;W&&V.indexOf(B)===-1&&(V.push(B),ie=!0),X&&N.indexOf(E)===-1&&(N.push(E),ie=!0),ie&&W&&X&&Q.push(B+E)}}}}}},3612:function(d,h,c){var g=c(9898),v=c(3972),y=c(1828),b=c(4875),O=c(1424),T=c(7659).a0,k=c(1675),w=c(5555),C=c(7922),_=y.ensureSingle;function M(U,F,B){return y.ensureSingle(U,F,B,function(E){E.datum(B)})}h.name="cartesian",h.attr=["xaxis","yaxis"],h.idRoot=["x","y"],h.idRegex=w.idRegex,h.attrRegex=w.attrRegex,h.attributes=c(9502),h.layoutAttributes=c(3838),h.supplyLayoutDefaults=c(6763),h.transitionAxes=c(6847),h.finalizeSubplots=function(U,F){var B=F._subplots,E=B.xaxis,W=B.yaxis,X=B.cartesian,ie=X.concat(B.gl2d||[]),L={},me={},ae,q,de;for(ae=0;ae<ie.length;ae++){var ee=ie[ae].split("y");L[ee[0]]=1,me["y"+ee[1]]=1}for(ae=0;ae<E.length;ae++)q=E[ae],L[q]||(de=(U[k.id2name(q)]||{}).anchor,w.idRegex.y.test(de)||(de="y"),X.push(q+de),ie.push(q+de),me[de]||(me[de]=1,y.pushUnique(W,de)));for(ae=0;ae<W.length;ae++)de=W[ae],me[de]||(q=(U[k.id2name(de)]||{}).anchor,w.idRegex.x.test(q)||(q="x"),X.push(q+de),ie.push(q+de),L[q]||(L[q]=1,y.pushUnique(E,q)));if(!ie.length){q="",de="";for(var xe in U)if(w.attrRegex.test(xe)){var we=xe.charAt(0);we==="x"?(!q||+xe.substr(5)<+q.substr(5))&&(q=xe):(!de||+xe.substr(5)<+de.substr(5))&&(de=xe)}q=q?k.name2id(q):"x",de=de?k.name2id(de):"y",E.push(q),W.push(de),X.push(q+de)}},h.plot=function(U,F,B,E){var W=U._fullLayout,X=W._subplots.cartesian,ie=U.calcdata,L;if(!Array.isArray(F))for(F=[],L=0;L<ie.length;L++)F.push(L);for(L=0;L<X.length;L++){for(var me=X[L],ae=W._plots[me],q=[],de,ee=0;ee<ie.length;ee++){var xe=ie[ee],we=xe[0].trace;we.xaxis+we.yaxis===me&&((F.indexOf(we.index)!==-1||we.carpet)&&(de&&de[0].trace.xaxis+de[0].trace.yaxis===me&&["tonextx","tonexty","tonext"].indexOf(we.fill)!==-1&&q.indexOf(de)===-1&&q.push(de),q.push(xe)),de=xe)}I(U,ae,q,B,E)}};function I(U,F,B,E,W){for(var X=w.traceLayerClasses,ie=U._fullLayout,L=ie._modules,me,ae,q,de=[],ee=[],xe=0;xe<L.length;xe++){me=L[xe];var we=me.name,Be=v.modules[we].categories;if(Be.svg){var pe=me.layerName||we+"layer",ne=me.plot;ae=T(B,ne),q=ae[0],B=ae[1],q.length&&de.push({i:X.indexOf(pe),className:pe,plotMethod:ne,cdModule:q}),Be.zoomScale&&ee.push("."+pe)}}de.sort(function(ve,Oe){return ve.i-Oe.i});var le=F.plot.selectAll("g.mlayer").data(de,function(ve){return ve.className});if(le.enter().append("g").attr("class",function(ve){return ve.className}).classed("mlayer",!0).classed("rangeplot",F.isRangePlot),le.exit().remove(),le.order(),le.each(function(ve){var Oe=g.select(this),Le=ve.className;ve.plotMethod(U,F,ve.cdModule,Oe,E,W),w.clipOnAxisFalseQuery.indexOf("."+Le)===-1&&O.setClipUrl(Oe,F.layerClipId,U)}),ie._has("scattergl")&&(me=v.getModule("scattergl"),q=T(B,me)[0],me.plot(U,F,q)),!U._context.staticPlot&&(F._hasClipOnAxisFalse&&(F.clipOnAxisFalseTraces=F.plot.selectAll(w.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),ee.length)){var Y=F.plot.selectAll(ee.join(",")).selectAll(".trace");F.zoomScalePts=Y.selectAll("path.point"),F.zoomScaleTxt=Y.selectAll(".textpoint")}}h.clean=function(U,F,B,E){var W=E._plots||{},X=F._plots||{},ie=E._subplots||{},L,me,ae;if(E._hasOnlyLargeSploms&&!F._hasOnlyLargeSploms)for(ae in W)L=W[ae],L.plotgroup&&L.plotgroup.remove();var q=E._has&&E._has("gl"),de=F._has&&F._has("gl");if(q&&!de)for(ae in W)L=W[ae],L._scene&&L._scene.destroy();if(ie.xaxis&&ie.yaxis){var ee=k.listIds({_fullLayout:E});for(me=0;me<ee.length;me++){var xe=ee[me];F[k.id2name(xe)]||E._infolayer.selectAll(".g-"+xe+"title").remove()}}var we=E._has&&E._has("cartesian"),Be=F._has&&F._has("cartesian");if(we&&!Be)Q(E._cartesianlayer.selectAll(".subplot"),E),E._defs.selectAll(".axesclip").remove(),delete E._axisConstraintGroups,delete E._axisMatchGroups;else if(ie.cartesian)for(me=0;me<ie.cartesian.length;me++){var pe=ie.cartesian[me];if(!X[pe]){var ne="."+pe+",."+pe+"-x,."+pe+"-y";E._cartesianlayer.selectAll(ne).remove(),z(pe,E)}}},h.drawFramework=function(U){var F=U._fullLayout,B=V(U),E=F._cartesianlayer.selectAll(".subplot").data(B,String);E.enter().append("g").attr("class",function(W){return"subplot "+W[0]}),E.order(),E.exit().call(Q,F),E.each(function(W){var X=W[0],ie=F._plots[X];ie.plotgroup=g.select(this),N(U,ie),ie.draglayer=_(F._draggers,"g",X)})},h.rangePlot=function(U,F,B){N(U,F),I(U,F,B),b.style(U)};function V(U){var F=U._fullLayout,B=F._subplots.cartesian,E=B.length,W,X,ie,L,me,ae,q=[],de=[];for(W=0;W<E;W++){ie=B[W],L=F._plots[ie],me=L.xaxis,ae=L.yaxis;var ee=me._mainAxis,xe=ae._mainAxis,we=ee._id+xe._id,Be=F._plots[we];L.overlays=[],we!==ie&&Be?(L.mainplot=we,L.mainplotinfo=Be,de.push(ie)):(L.mainplot=void 0,L.mainplotinfo=void 0,q.push(ie))}for(W=0;W<de.length;W++)ie=de[W],L=F._plots[ie],L.mainplotinfo.overlays.push(L);var pe=q.concat(de),ne=new Array(E);for(W=0;W<E;W++){ie=pe[W],L=F._plots[ie],me=L.xaxis,ae=L.yaxis;var le=[ie,me.layer,ae.layer,me.overlaying||"",ae.overlaying||""];for(X=0;X<L.overlays.length;X++)le.push(L.overlays[X].id);ne[W]=le}return ne}function N(U,F){var B=F.plotgroup,E=F.id,W=w.layerValue2layerClass[F.xaxis.layer],X=w.layerValue2layerClass[F.yaxis.layer],ie=U._fullLayout._hasOnlyLargeSploms;if(F.mainplot){var me=F.mainplotinfo,ae=me.plotgroup,q=E+"-x",de=E+"-y";F.minorGridlayer=me.minorGridlayer,F.gridlayer=me.gridlayer,F.zerolinelayer=me.zerolinelayer,_(me.overlinesBelow,"path",q),_(me.overlinesBelow,"path",de),_(me.overaxesBelow,"g",q),_(me.overaxesBelow,"g",de),F.plot=_(me.overplot,"g",E),_(me.overlinesAbove,"path",q),_(me.overlinesAbove,"path",de),_(me.overaxesAbove,"g",q),_(me.overaxesAbove,"g",de),F.xlines=ae.select(".overlines-"+W).select("."+q),F.ylines=ae.select(".overlines-"+X).select("."+de),F.xaxislayer=ae.select(".overaxes-"+W).select("."+q),F.yaxislayer=ae.select(".overaxes-"+X).select("."+de)}else if(ie)F.xlines=_(B,"path","xlines-above"),F.ylines=_(B,"path","ylines-above"),F.xaxislayer=_(B,"g","xaxislayer-above"),F.yaxislayer=_(B,"g","yaxislayer-above");else{var L=_(B,"g","layer-subplot");F.shapelayer=_(L,"g","shapelayer"),F.imagelayer=_(L,"g","imagelayer"),F.minorGridlayer=_(B,"g","minor-gridlayer"),F.gridlayer=_(B,"g","gridlayer"),F.zerolinelayer=_(B,"g","zerolinelayer"),_(B,"path","xlines-below"),_(B,"path","ylines-below"),F.overlinesBelow=_(B,"g","overlines-below"),_(B,"g","xaxislayer-below"),_(B,"g","yaxislayer-below"),F.overaxesBelow=_(B,"g","overaxes-below"),F.plot=_(B,"g","plot"),F.overplot=_(B,"g","overplot"),F.xlines=_(B,"path","xlines-above"),F.ylines=_(B,"path","ylines-above"),F.overlinesAbove=_(B,"g","overlines-above"),_(B,"g","xaxislayer-above"),_(B,"g","yaxislayer-above"),F.overaxesAbove=_(B,"g","overaxes-above"),F.xlines=B.select(".xlines-"+W),F.ylines=B.select(".ylines-"+X),F.xaxislayer=B.select(".xaxislayer-"+W),F.yaxislayer=B.select(".yaxislayer-"+X)}ie||(M(F.minorGridlayer,"g",F.xaxis._id),M(F.minorGridlayer,"g",F.yaxis._id),F.minorGridlayer.selectAll("g").map(function(ee){return ee[0]}).sort(k.idSort),M(F.gridlayer,"g",F.xaxis._id),M(F.gridlayer,"g",F.yaxis._id),F.gridlayer.selectAll("g").map(function(ee){return ee[0]}).sort(k.idSort)),F.xlines.style("fill","none").classed("crisp",!0),F.ylines.style("fill","none").classed("crisp",!0)}function Q(U,F){if(U){var B={};U.each(function(me){var ae=me[0],q=g.select(this);q.remove(),z(ae,F),B[ae]=!0});for(var E in F._plots)for(var W=F._plots[E],X=W.overlays||[],ie=0;ie<X.length;ie++){var L=X[ie];B[L.id]&&L.plot.selectAll(".trace").remove()}}}function z(U,F){F._draggers.selectAll("g."+U).remove(),F._defs.select("#clip"+F._uid+U+"plot").remove()}h.toSVG=function(U){var F=U._fullLayout._glimages,B=g.select(U).selectAll(".svg-container"),E=B.filter(function(X,ie){return ie===B.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function W(){var X=this,ie=X.toDataURL("image/png"),L=F.append("svg:image");L.attr({xmlns:C.svg,"xlink:href":ie,preserveAspectRatio:"none",x:0,y:0,width:X.style.width,height:X.style.height})}E.each(W)},h.updateFx=c(4305).updateFx},3838:function(d,h,c){var g=c(1940),v=c(2399),y=c(9952).P,b=c(1426).extendFlat,O=c(4467).templatedArray,T=c(2663).descriptionWithDates,k=c(606).ONEDAY,w=c(5555),C=w.HOUR_PATTERN,_=w.WEEKDAY_PATTERN,M={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},I=b({},M,{values:M.values.slice().concat(["sync"])});function V(me){return{valType:"integer",min:0,dflt:me?5:0,editType:"ticks"}}var N={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},Q={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},z={valType:"data_array",editType:"ticks"},U={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function F(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=5),ae}function B(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=1),ae}var E={valType:"color",dflt:v.defaultLine,editType:"ticks"},W={valType:"color",dflt:v.lightLine,editType:"ticks"};function X(me){var ae={valType:"number",min:0,editType:"ticks"};return me||(ae.dflt=1),ae}var ie=b({},y,{editType:"ticks"}),L={valType:"boolean",editType:"ticks"};d.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:v.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[w.idRegex.x.toString(),w.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"calc"},rangebreaks:O("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[_,C,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:k},editType:"calc"}),tickmode:I,nticks:V(),tick0:N,dtick:Q,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:z,ticktext:{valType:"data_array",editType:"ticks"},ticks:U,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:F(),tickwidth:B(),tickcolor:E,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:b({},y,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:T("tick label")},tickformatstops:O("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:T("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:v.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:L,gridcolor:W,gridwidth:X(),griddash:ie,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",w.idRegex.x.toString(),w.idRegex.y.toString()],editType:"plot"},minor:{tickmode:M,nticks:V("minor"),tick0:N,dtick:Q,tickvals:z,ticks:U,ticklen:F("minor"),tickwidth:B("minor"),tickcolor:E,gridcolor:W,gridwidth:X("minor"),griddash:ie,showgrid:L,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},6763:function(d,h,c){var g=c(1828),v=c(7901),y=c(3469).isUnifiedHover,b=c(8212),O=c(4467),T=c(820),k=c(3838),w=c(951),C=c(1453),_=c(9082),M=c(2830),I=c(1675),V=I.id2name,N=I.name2id,Q=c(5555).AX_ID_PATTERN,z=c(3972),U=z.traceIs,F=z.getComponentMethod;function B(E,W,X){Array.isArray(E[W])?E[W].push(X):E[W]=[X]}d.exports=function(W,X,ie){var L=X.autotypenumbers,me={},ae={},q={},de={},ee={},xe={},we={},Be={},pe={},ne={},le,Y;for(le=0;le<ie.length;le++){var ve=ie[le];if(!(!U(ve,"cartesian")&&!U(ve,"gl2d"))){var Oe;if(ve.xaxis)Oe=V(ve.xaxis),B(me,Oe,ve);else if(ve.xaxes)for(Y=0;Y<ve.xaxes.length;Y++)B(me,V(ve.xaxes[Y]),ve);var Le;if(ve.yaxis)Le=V(ve.yaxis),B(me,Le,ve);else if(ve.yaxes)for(Y=0;Y<ve.yaxes.length;Y++)B(me,V(ve.yaxes[Y]),ve);if(ve.type==="funnel"?ve.orientation==="h"?(Oe&&(ae[Oe]=!0),Le&&(we[Le]=!0)):Le&&(q[Le]=!0):ve.type==="image"?(Le&&(Be[Le]=!0),Oe&&(Be[Oe]=!0)):(Le&&(ee[Le]=!0,xe[Le]=!0),(!U(ve,"carpet")||ve.type==="carpet"&&!ve._cheater)&&Oe&&(de[Oe]=!0)),ve.type==="carpet"&&ve._cheater&&Oe&&(ae[Oe]=!0),U(ve,"2dMap")&&(pe[Oe]=!0,pe[Le]=!0),U(ve,"oriented")){var Te=ve.orientation==="h"?Le:Oe;ne[Te]=!0}}}var De=X._subplots,Ve=De.xaxis,_e=De.yaxis,Ie=g.simpleMap(Ve,V),re=g.simpleMap(_e,V),be=Ie.concat(re),te=v.background;Ve.length&&_e.length&&(te=g.coerce(W,X,T,"plot_bgcolor"));var se=v.combine(te,X.paper_bgcolor),fe,oe,Se,ce,ke;function Qe(){var He=me[fe]||[];ke._traceIndices=He.map(function(it){return it._expandedIndex}),ke._annIndices=[],ke._shapeIndices=[],ke._selectionIndices=[],ke._imgIndices=[],ke._subplotsWith=[],ke._counterAxes=[],ke._name=ke._attr=fe,ke._id=oe}function Ze(He,it){return g.coerce(ce,ke,k,He,it)}function Xe(He,it){return g.coerce2(ce,ke,k,He,it)}function ct(He){return He==="x"?_e:Ve}function pt(He,it){for(var dt=He==="x"?Ie:re,mt=[],Ct=0;Ct<dt.length;Ct++){var Pt=dt[Ct];Pt!==it&&!(W[Pt]||{}).overlaying&&mt.push(N(Pt))}return mt}var Ye={x:ct("x"),y:ct("y")},je=Ye.x.concat(Ye.y),et={},yt=[];function ft(){var He=ce.matches;Q.test(He)&&je.indexOf(He)===-1&&(et[He]=ce.type,yt=Object.keys(et))}var tt=b(W,X),wt=y(tt);for(le=0;le<be.length;le++){fe=be[le],oe=N(fe),Se=fe.charAt(0),g.isPlainObject(W[fe])||(W[fe]={}),ce=W[fe],ke=O.newContainer(X,fe,Se+"axis"),Qe();var Xt=Se==="x"&&!de[fe]&&ae[fe]||Se==="y"&&!ee[fe]&&q[fe],Gt=Se==="y"&&(!xe[fe]&&we[fe]||Be[fe]),Nt={hasMinor:!0,letter:Se,font:X.font,outerTicks:pe[fe],showGrid:!ne[fe],data:me[fe]||[],bgColor:se,calendar:X.calendar,automargin:!0,visibleDflt:Xt,reverseDflt:Gt,autotypenumbersDflt:L,splomStash:((X._splomAxes||{})[Se]||{})[oe]};Ze("uirevision",X.uirevision),w(ce,ke,Ze,Nt),C(ce,ke,Ze,Nt,X);var Bt=wt&&Se===tt.charAt(0),vn=Xe("spikecolor",wt?ke.color:void 0),En=Xe("spikethickness",wt?1.5:void 0),ln=Xe("spikedash",wt?"dot":void 0),Yn=Xe("spikemode",wt?"across":void 0),an=Xe("spikesnap"),wn=Ze("showspikes",!!Bt||!!vn||!!En||!!ln||!!Yn||!!an);wn||(delete ke.spikecolor,delete ke.spikethickness,delete ke.spikedash,delete ke.spikemode,delete ke.spikesnap);var Xn=V(ce.overlaying),Un=[0,1];if(X[Xn]!==void 0){var Sn=V(X[Xn].anchor);X[Sn]!==void 0&&(Un=X[Sn].domain)}M(ce,ke,Ze,{letter:Se,counterAxes:Ye[Se],overlayableAxes:pt(Se,fe),grid:X.grid,overlayingDomain:Un}),Ze("title.standoff"),ft(),ke._input=ce}for(le=0;le<yt.length;){oe=yt[le++],fe=V(oe),Se=fe.charAt(0),g.isPlainObject(W[fe])||(W[fe]={}),ce=W[fe],ke=O.newContainer(X,fe,Se+"axis"),Qe();var lt={letter:Se,font:X.font,outerTicks:pe[fe],showGrid:!ne[fe],data:[],bgColor:se,calendar:X.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:L,splomStash:((X._splomAxes||{})[Se]||{})[oe]};Ze("uirevision",X.uirevision),ke.type=et[oe]||"linear",C(ce,ke,Ze,lt,X),M(ce,ke,Ze,{letter:Se,counterAxes:Ye[Se],overlayableAxes:pt(Se,fe),grid:X.grid}),Ze("fixedrange"),ft(),ke._input=ce}var ut=F("rangeslider","handleDefaults"),xt=F("rangeselector","handleDefaults");for(le=0;le<Ie.length;le++)fe=Ie[le],ce=W[fe],ke=X[fe],ut(W,X,fe),ke.type==="date"&&xt(ce,ke,X,re,ke.calendar),Ze("fixedrange");for(le=0;le<re.length;le++){fe=re[le],ce=W[fe],ke=X[fe];var gt=X[V(ke.anchor)],Dt=F("rangeslider","isVisible")(gt);Ze("fixedrange",Dt)}_.handleDefaults(W,X,{axIds:je.concat(yt).sort(I.idSort),axHasImage:Be})}},2128:function(d,h,c){var g=c(4267).mix,v=c(2399),y=c(1828);d.exports=function(O,T,k,w){w=w||{};var C=w.dfltColor;function _(q,de){return y.coerce2(O,T,w.attributes,q,de)}var M=_("linecolor",C),I=_("linewidth"),V=k("showline",w.showLine||!!M||!!I);V||(delete T.linecolor,delete T.linewidth);var N=g(C,w.bgColor,w.blend||v.lightFraction).toRgbString(),Q=_("gridcolor",N),z=_("gridwidth"),U=_("griddash"),F=k("showgrid",w.showGrid||!!Q||!!z||!!U);if(F||(delete T.gridcolor,delete T.gridwidth,delete T.griddash),w.hasMinor){var B=g(T.gridcolor,w.bgColor,67).toRgbString(),E=_("minor.gridcolor",B),W=_("minor.gridwidth",T.gridwidth||1),X=_("minor.griddash",T.griddash||"solid"),ie=k("minor.showgrid",!!E||!!W||!!X);ie||(delete T.minor.gridcolor,delete T.minor.gridwidth,delete T.minor.griddash)}if(!w.noZeroLine){var L=_("zerolinecolor",C),me=_("zerolinewidth"),ae=k("zeroline",w.showGrid||!!L||!!me);ae||(delete T.zerolinecolor,delete T.zerolinewidth)}}},2830:function(d,h,c){var g=c(2770),v=c(1828);d.exports=function(b,O,T,k){var w=k.counterAxes||[],C=k.overlayableAxes||[],_=k.letter,M=k.grid,I=k.overlayingDomain,V,N,Q,z,U,F;M&&(N=M._domains[_][M._axisMap[O._id]],V=M._anchors[O._id],N&&(Q=M[_+"side"].split(" ")[0],z=M.domain[_][Q==="right"||Q==="top"?1:0])),N=N||[0,1],V=V||(g(b.position)?"free":w[0]||"free"),Q=Q||(_==="x"?"bottom":"left"),z=z||0,U=0,F=!1;var B=v.coerce(b,O,{anchor:{valType:"enumerated",values:["free"].concat(w),dflt:V}},"anchor"),E=v.coerce(b,O,{side:{valType:"enumerated",values:_==="x"?["bottom","top"]:["left","right"],dflt:Q}},"side");if(B==="free"){if(_==="y"){var W=T("autoshift");W&&(z=E==="left"?I[0]:I[1],F=O.automargin?O.automargin:!0,U=E==="left"?-3:3),T("shift",U)}T("position",z)}T("automargin",F);var X=!1;if(C.length&&(X=v.coerce(b,O,{overlaying:{valType:"enumerated",values:[!1].concat(C),dflt:!1}},"overlaying")),!X){var ie=T("domain",N);ie[0]>ie[1]-.000244140625&&(O.domain=N),v.noneOrAll(b.domain,O.domain,N),O.tickmode==="sync"&&(O.tickmode="auto")}return T("layer"),O}},9426:function(d,h,c){var g=c(9652);d.exports=function(y,b,O,T,k){k||(k={});var w=k.tickSuffixDflt,C=g(y),_=O("tickprefix");_&&O("showtickprefix",C);var M=O("ticksuffix",w);M&&O("showticksuffix",C)}},3608:function(d,h,c){var g=c(3074);d.exports=function(y,b,O,T){var k=b._template||{},w=b.type||k.type||"-";O("minallowed"),O("maxallowed");var C=O("range"),_=b.getAutorangeDflt(C,T),M=O("autorange",_),I;C&&(C[0]===null&&C[1]===null||(C[0]===null||C[1]===null)&&(M==="reversed"||M===!0)||C[0]!==null&&(M==="min"||M==="max reversed")||C[1]!==null&&(M==="max"||M==="min reversed"))&&(C=void 0,delete b.range,b.autorange=!0,I=!0),I||(_=b.getAutorangeDflt(C,T),M=O("autorange",_)),M&&(g(O,M,C),(w==="linear"||w==="-")&&O("rangemode")),b.cleanRange()}},2449:function(d,h,c){var g=c(8783).FROM_BL;d.exports=function(y,b,O){O===void 0&&(O=g[y.constraintoward||"center"]);var T=[y.r2l(y.range[0]),y.r2l(y.range[1])],k=T[0]+(T[1]-T[0])*O;y.range=y._input.range=[y.l2r(k+(T[0]-k)*b),y.l2r(k+(T[1]-k)*b)],y.setScale()}},1994:function(d,h,c){var g=c(9898),v=c(4096).g0,y=c(1828),b=y.numberFormat,O=c(2770),T=y.cleanNumber,k=y.ms2DateTime,w=y.dateTime2ms,C=y.ensureNumber,_=y.isArrayOrTypedArray,M=c(606),I=M.FP_SAFE,V=M.BADNUM,N=M.LOG_CLIP,Q=M.ONEWEEK,z=M.ONEDAY,U=M.ONEHOUR,F=M.ONEMIN,B=M.ONESEC,E=c(1675),W=c(5555),X=W.HOUR_PATTERN,ie=W.WEEKDAY_PATTERN;function L(ae){return Math.pow(10,ae)}function me(ae){return ae!=null}d.exports=function(q,de){de=de||{};var ee=q._id||"x",xe=ee.charAt(0);function we(be,te){if(be>0)return Math.log(be)/Math.LN10;if(be<=0&&te&&q.range&&q.range.length===2){var se=q.range[0],fe=q.range[1];return .5*(se+fe-2*N*Math.abs(se-fe))}else return V}function Be(be,te,se,fe){if((fe||{}).msUTC&&O(be))return+be;var oe=w(be,se||q.calendar);if(oe===V)if(O(be)){be=+be;var Se=Math.floor(y.mod(be+.05,1)*10),ce=Math.round(be-Se/10);oe=w(new Date(ce))+Se/10}else return V;return oe}function pe(be,te,se){return k(be,te,se||q.calendar)}function ne(be){return q._categories[Math.round(be)]}function le(be){if(me(be)){if(q._categoriesMap===void 0&&(q._categoriesMap={}),q._categoriesMap[be]!==void 0)return q._categoriesMap[be];q._categories.push(typeof be=="number"?String(be):be);var te=q._categories.length-1;return q._categoriesMap[be]=te,te}return V}function Y(be,te){for(var se=new Array(te),fe=0;fe<te;fe++){var oe=(be[0]||[])[fe],Se=(be[1]||[])[fe];se[fe]=ve([oe,Se])}return se}function ve(be){if(q._categoriesMap)return q._categoriesMap[be]}function Oe(be){var te=ve(be);if(te!==void 0)return te;if(O(be))return+be}function Le(be){return O(be)?+be:ve(be)}function Te(be,te,se){return g.round(se+te*be,2)}function De(be,te,se){return(be-se)/te}var Ve=function(te){return O(te)?Te(te,q._m,q._b):V},_e=function(be){return De(be,q._m,q._b)};if(q.rangebreaks){var Ie=xe==="y";Ve=function(be){if(!O(be))return V;var te=q._rangebreaks.length;if(!te)return Te(be,q._m,q._b);var se=Ie;q.range[0]>q.range[1]&&(se=!se);for(var fe=se?-1:1,oe=fe*be,Se=0,ce=0;ce<te;ce++){var ke=fe*q._rangebreaks[ce].min,Qe=fe*q._rangebreaks[ce].max;if(oe<ke)break;if(oe>Qe)Se=ce+1;else{Se=oe<(ke+Qe)/2?ce:ce+1;break}}var Ze=q._B[Se]||0;return isFinite(Ze)?Te(be,q._m2,Ze):0},_e=function(be){var te=q._rangebreaks.length;if(!te)return De(be,q._m,q._b);for(var se=0,fe=0;fe<te&&!(be<q._rangebreaks[fe].pmin);fe++)be>q._rangebreaks[fe].pmax&&(se=fe+1);return De(be,q._m2,q._B[se])}}q.c2l=q.type==="log"?we:C,q.l2c=q.type==="log"?L:C,q.l2p=Ve,q.p2l=_e,q.c2p=q.type==="log"?function(be,te){return Ve(we(be,te))}:Ve,q.p2c=q.type==="log"?function(be){return L(_e(be))}:_e,["linear","-"].indexOf(q.type)!==-1?(q.d2r=q.r2d=q.d2c=q.r2c=q.d2l=q.r2l=T,q.c2d=q.c2r=q.l2d=q.l2r=C,q.d2p=q.r2p=function(be){return q.l2p(T(be))},q.p2d=q.p2r=_e,q.cleanPos=C):q.type==="log"?(q.d2r=q.d2l=function(be,te){return we(T(be),te)},q.r2d=q.r2c=function(be){return L(T(be))},q.d2c=q.r2l=T,q.c2d=q.l2r=C,q.c2r=we,q.l2d=L,q.d2p=function(be,te){return q.l2p(q.d2r(be,te))},q.p2d=function(be){return L(_e(be))},q.r2p=function(be){return q.l2p(T(be))},q.p2r=_e,q.cleanPos=C):q.type==="date"?(q.d2r=q.r2d=y.identity,q.d2c=q.r2c=q.d2l=q.r2l=Be,q.c2d=q.c2r=q.l2d=q.l2r=pe,q.d2p=q.r2p=function(be,te,se){return q.l2p(Be(be,0,se))},q.p2d=q.p2r=function(be,te,se){return pe(_e(be),te,se)},q.cleanPos=function(be){return y.cleanDate(be,V,q.calendar)}):q.type==="category"?(q.d2c=q.d2l=le,q.r2d=q.c2d=q.l2d=ne,q.d2r=q.d2l_noadd=Oe,q.r2c=function(be){var te=Le(be);return te!==void 0?te:q.fraction2r(.5)},q.l2r=q.c2r=C,q.r2l=Le,q.d2p=function(be){return q.l2p(q.r2c(be))},q.p2d=function(be){return ne(_e(be))},q.r2p=q.d2p,q.p2r=_e,q.cleanPos=function(be){return typeof be=="string"&&be!==""?be:C(be)}):q.type==="multicategory"&&(q.r2d=q.c2d=q.l2d=ne,q.d2r=q.d2l_noadd=Oe,q.r2c=function(be){var te=Oe(be);return te!==void 0?te:q.fraction2r(.5)},q.r2c_just_indices=ve,q.l2r=q.c2r=C,q.r2l=Oe,q.d2p=function(be){return q.l2p(q.r2c(be))},q.p2d=function(be){return ne(_e(be))},q.r2p=q.d2p,q.p2r=_e,q.cleanPos=function(be){return Array.isArray(be)||typeof be=="string"&&be!==""?be:C(be)},q.setupMultiCategory=function(be){var te=q._traceIndices,se,fe,oe=q._matchGroup;if(oe&&q._categories.length===0){for(var Se in oe)if(Se!==ee){var ce=de[E.id2name(Se)];te=te.concat(ce._traceIndices)}}var ke=[[0,{}],[0,{}]],Qe=[];for(se=0;se<te.length;se++){var Ze=be[te[se]];if(xe in Ze){var Xe=Ze[xe],ct=Ze._length||y.minRowLength(Xe);if(_(Xe[0])&&_(Xe[1]))for(fe=0;fe<ct;fe++){var pt=Xe[0][fe],Ye=Xe[1][fe];me(pt)&&me(Ye)&&(Qe.push([pt,Ye]),pt in ke[0][1]||(ke[0][1][pt]=ke[0][0]++),Ye in ke[1][1]||(ke[1][1][Ye]=ke[1][0]++))}}}for(Qe.sort(function(je,et){var yt=ke[0][1],ft=yt[je[0]]-yt[et[0]];if(ft)return ft;var tt=ke[1][1];return tt[je[1]]-tt[et[1]]}),se=0;se<Qe.length;se++)le(Qe[se])}),q.fraction2r=function(be){var te=q.r2l(q.range[0]),se=q.r2l(q.range[1]);return q.l2r(te+be*(se-te))},q.r2fraction=function(be){var te=q.r2l(q.range[0]),se=q.r2l(q.range[1]);return(q.r2l(be)-te)/(se-te)},q.limitRange=function(be){var te=q.minallowed,se=q.maxallowed;if(!(te===void 0&&se===void 0)){be||(be="range");var fe=y.nestedProperty(q,be).get(),oe=y.simpleMap(fe,q.r2l),Se=oe[1]<oe[0];Se&&oe.reverse();var ce=y.simpleMap([te,se],q.r2l);te!==void 0&&oe[0]<ce[0]&&(fe[Se?1:0]=te),se!==void 0&&oe[1]>ce[1]&&(fe[Se?0:1]=se)}},q.cleanRange=function(be,te){q._cleanRange(be,te),q.limitRange(be)},q._cleanRange=function(be,te){te||(te={}),be||(be="range");var se=y.nestedProperty(q,be).get(),fe,oe;if(q.type==="date"?oe=y.dfltRange(q.calendar):xe==="y"?oe=W.DFLTRANGEY:q._name==="realaxis"?oe=[0,1]:oe=te.dfltRange||W.DFLTRANGEX,oe=oe.slice(),(q.rangemode==="tozero"||q.rangemode==="nonnegative")&&(oe[0]=0),!se||se.length!==2){y.nestedProperty(q,be).set(oe);return}var Se=se[0]===null,ce=se[1]===null;for(q.type==="date"&&!q.autorange&&(se[0]=y.cleanDate(se[0],V,q.calendar),se[1]=y.cleanDate(se[1],V,q.calendar)),fe=0;fe<2;fe++)if(q.type==="date"){if(!y.isDateTime(se[fe],q.calendar)){q[be]=oe;break}if(q.r2l(se[0])===q.r2l(se[1])){var ke=y.constrain(q.r2l(se[0]),y.MIN_MS+1e3,y.MAX_MS-1e3);se[0]=q.l2r(ke-1e3),se[1]=q.l2r(ke+1e3);break}}else{if(!O(se[fe]))if(!(Se||ce)&&O(se[1-fe]))se[fe]=se[1-fe]*(fe?10:.1);else{q[be]=oe;break}if(se[fe]<-I?se[fe]=-I:se[fe]>I&&(se[fe]=I),se[0]===se[1]){var Qe=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=Qe,se[1]+=Qe}}},q.setScale=function(be){var te=de._size;if(q.overlaying){var se=E.getFromId({_fullLayout:de},q.overlaying);q.domain=se.domain}var fe=be&&q._r?"_r":"range",oe=q.calendar;q.cleanRange(fe);var Se=q.r2l(q[fe][0],oe),ce=q.r2l(q[fe][1],oe),ke=xe==="y";if(ke?(q._offset=te.t+(1-q.domain[1])*te.h,q._length=te.h*(q.domain[1]-q.domain[0]),q._m=q._length/(Se-ce),q._b=-q._m*ce):(q._offset=te.l+q.domain[0]*te.w,q._length=te.w*(q.domain[1]-q.domain[0]),q._m=q._length/(ce-Se),q._b=-q._m*Se),q._rangebreaks=[],q._lBreaks=0,q._m2=0,q._B=[],q.rangebreaks){var Qe,Ze;if(q._rangebreaks=q.locateBreaks(Math.min(Se,ce),Math.max(Se,ce)),q._rangebreaks.length){for(Qe=0;Qe<q._rangebreaks.length;Qe++)Ze=q._rangebreaks[Qe],q._lBreaks+=Math.abs(Ze.max-Ze.min);var Xe=ke;Se>ce&&(Xe=!Xe),Xe&&q._rangebreaks.reverse();var ct=Xe?-1:1;for(q._m2=ct*q._length/(Math.abs(ce-Se)-q._lBreaks),q._B.push(-q._m2*(ke?ce:Se)),Qe=0;Qe<q._rangebreaks.length;Qe++)Ze=q._rangebreaks[Qe],q._B.push(q._B[q._B.length-1]-ct*q._m2*(Ze.max-Ze.min));for(Qe=0;Qe<q._rangebreaks.length;Qe++)Ze=q._rangebreaks[Qe],Ze.pmin=Ve(Ze.min),Ze.pmax=Ve(Ze.max)}}if(!isFinite(q._m)||!isFinite(q._b)||q._length<0)throw de._replotting=!1,new Error("Something went wrong with axis scaling")},q.maskBreaks=function(be){var te=q.rangebreaks||[],se,fe,oe,Se,ce;te._cachedPatterns||(te._cachedPatterns=te.map(function(yt){return yt.enabled&&yt.bounds?y.simpleMap(yt.bounds,yt.pattern?T:q.d2c):null})),te._cachedValues||(te._cachedValues=te.map(function(yt){return yt.enabled&&yt.values?y.simpleMap(yt.values,q.d2c).sort(y.sorterAsc):null}));for(var ke=0;ke<te.length;ke++){var Qe=te[ke];if(Qe.enabled){if(Qe.bounds){var Ze=Qe.pattern;switch(se=te._cachedPatterns[ke],fe=se[0],oe=se[1],Ze){case ie:ce=new Date(be),Se=ce.getUTCDay(),fe>oe&&(oe+=7,Se<fe&&(Se+=7));break;case X:ce=new Date(be);var Xe=ce.getUTCHours(),ct=ce.getUTCMinutes(),pt=ce.getUTCSeconds(),Ye=ce.getUTCMilliseconds();Se=Xe+(ct/60+pt/3600+Ye/36e5),fe>oe&&(oe+=24,Se<fe&&(Se+=24));break;case"":Se=be;break}if(Se>=fe&&Se<oe)return V}else for(var je=te._cachedValues[ke],et=0;et<je.length;et++)if(fe=je[et],oe=fe+Qe.dvalue,be>=fe&&be<oe)return V}}return be},q.locateBreaks=function(be,te){var se,fe,oe,Se,ce=[];if(!q.rangebreaks)return ce;var ke=q.rangebreaks.slice().sort(function(tt,wt){return tt.pattern===ie&&wt.pattern===X?-1:wt.pattern===ie&&tt.pattern===X?1:0}),Qe=function(tt,wt){if(tt=y.constrain(tt,be,te),wt=y.constrain(wt,be,te),tt!==wt){for(var Xt=!0,Gt=0;Gt<ce.length;Gt++){var Nt=ce[Gt];tt<Nt.max&&wt>=Nt.min&&(tt<Nt.min&&(Nt.min=tt),wt>Nt.max&&(Nt.max=wt),Xt=!1)}Xt&&ce.push({min:tt,max:wt})}};for(se=0;se<ke.length;se++){var Ze=ke[se];if(Ze.enabled)if(Ze.bounds){var Xe=be,ct=te;Ze.pattern&&(Xe=Math.floor(Xe)),fe=y.simpleMap(Ze.bounds,Ze.pattern?T:q.r2l),oe=fe[0],Se=fe[1];var pt=new Date(Xe),Ye,je;switch(Ze.pattern){case ie:je=Q,Ye=((Se<oe?7:0)+(Se-oe))*z,Xe+=oe*z-(pt.getUTCDay()*z+pt.getUTCHours()*U+pt.getUTCMinutes()*F+pt.getUTCSeconds()*B+pt.getUTCMilliseconds());break;case X:je=z,Ye=((Se<oe?24:0)+(Se-oe))*U,Xe+=oe*U-(pt.getUTCHours()*U+pt.getUTCMinutes()*F+pt.getUTCSeconds()*B+pt.getUTCMilliseconds());break;default:Xe=Math.min(fe[0],fe[1]),ct=Math.max(fe[0],fe[1]),je=ct-Xe,Ye=je}for(var et=Xe;et<ct;et+=je)Qe(et,et+Ye)}else for(var yt=y.simpleMap(Ze.values,q.d2c),ft=0;ft<yt.length;ft++)oe=yt[ft],Se=oe+Ze.dvalue,Qe(oe,Se)}return ce.sort(function(tt,wt){return tt.min-wt.min}),ce},q.makeCalcdata=function(be,te,se){var fe,oe,Se,ce,ke=q.type,Qe=ke==="date"&&be[te+"calendar"];if(te in be){if(fe=be[te],ce=be._length||y.minRowLength(fe),y.isTypedArray(fe)&&(ke==="linear"||ke==="log")){if(ce===fe.length)return fe;if(fe.subarray)return fe.subarray(0,ce)}if(ke==="multicategory")return Y(fe,ce);for(oe=new Array(ce),Se=0;Se<ce;Se++)oe[Se]=q.d2c(fe[Se],0,Qe,se)}else{var Ze=te+"0"in be?q.d2c(be[te+"0"],0,Qe):0,Xe=be["d"+te]?Number(be["d"+te]):1;for(fe=be[{x:"y",y:"x"}[te]],ce=be._length||fe.length,oe=new Array(ce),Se=0;Se<ce;Se++)oe[Se]=Ze+Se*Xe}if(q.rangebreaks)for(Se=0;Se<ce;Se++)oe[Se]=q.maskBreaks(oe[Se]);return oe},q.isValidRange=function(be,te){return Array.isArray(be)&&be.length===2&&(te&&be[0]===null||O(q.r2l(be[0])))&&(te&&be[1]===null||O(q.r2l(be[1])))},q.getAutorangeDflt=function(be,te){var se=!q.isValidRange(be,"nullOk");return se&&te&&te.reverseDflt?se="reversed":be&&(be[0]===null&&be[1]===null?se=!0:be[0]===null&&be[1]!==null?se="min":be[0]!==null&&be[1]===null&&(se="max")),se},q.isReversed=function(){var be=q.autorange;return be==="reversed"||be==="min reversed"||be==="max reversed"},q.isPtWithinRange=function(be,te){var se=q.c2l(be[xe],null,te),fe=q.r2l(q.range[0]),oe=q.r2l(q.range[1]);return fe<oe?fe<=se&&se<=oe:oe<=se&&se<=fe},q._emptyCategories=function(){q._categories=[],q._categoriesMap={}},q.clearCalc=function(){var be=q._matchGroup;if(be){var te=null,se=null;for(var fe in be){var oe=de[E.id2name(fe)];if(oe._categories){te=oe._categories,se=oe._categoriesMap;break}}te&&se?(q._categories=te,q._categoriesMap=se):q._emptyCategories()}else q._emptyCategories();if(q._initialCategories)for(var Se=0;Se<q._initialCategories.length;Se++)le(q._initialCategories[Se])},q.sortByInitialCategories=function(){var be=[];if(q._emptyCategories(),q._initialCategories)for(var te=0;te<q._initialCategories.length;te++)le(q._initialCategories[te]);be=be.concat(q._traceIndices);var se=q._matchGroup;for(var fe in se)if(ee!==fe){var oe=de[E.id2name(fe)];oe._categories=q._categories,oe._categoriesMap=q._categoriesMap,be=be.concat(oe._traceIndices)}return be};var re=de._d3locale;q.type==="date"&&(q._dateFormat=re?re.timeFormat:v,q._extraFormat=de._extraFormat),q._separators=de.separators,q._numFormat=re?re.numberFormat:b,delete q._minDtick,delete q._forceTick0}},9652:function(d){d.exports=function(c){var g=["showexponent","showtickprefix","showticksuffix"],v=g.filter(function(b){return c[b]!==void 0}),y=function(b){return c[b]===c[v[0]]};if(v.every(y)||v.length===1)return c[v[0]]}},6115:function(d,h,c){var g=c(1828),v=c(7901).contrast,y=c(3838),b=c(9652),O=c(5501);d.exports=function(w,C,_,M,I){I||(I={});var V=_("labelalias");g.isPlainObject(V)||delete C.labelalias;var N=b(w),Q=_("showticklabels");if(Q){var z=I.font||{},U=C.color,F=C.ticklabelposition||"",B=F.indexOf("inside")!==-1?v(I.bgColor):U&&U!==y.color.dflt?U:z.color;if(g.coerceFont(_,"tickfont",{family:z.family,size:z.size,color:B}),!I.noTicklabelstep&&M!=="multicategory"&&M!=="log"&&_("ticklabelstep"),I.noAng||_("tickangle"),M!=="category"){var E=_("tickformat");O(w,C,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:T}),C.tickformatstops.length||delete C.tickformatstops,!I.noExp&&!E&&M!=="date"&&(_("showexponent",N),_("exponentformat"),_("minexponent"),_("separatethousands"))}}};function T(k,w){function C(M,I){return g.coerce(k,w,y.tickformatstops,M,I)}var _=C("enabled");_&&(C("dtickrange"),C("value"))}},8701:function(d,h,c){var g=c(1828),v=c(3838);d.exports=function(b,O,T,k){var w=k.isMinor,C=w?b.minor||{}:b,_=w?O.minor:O,M=w?v.minor:v,I=w?"minor.":"",V=g.coerce2(C,_,M,"ticklen",w?(O.ticklen||5)*.6:void 0),N=g.coerce2(C,_,M,"tickwidth",w?O.tickwidth||1:void 0),Q=g.coerce2(C,_,M,"tickcolor",(w?O.tickcolor:void 0)||_.color),z=T(I+"ticks",!w&&k.outerTicks||V||N||Q?"outside":"");z||(delete _.ticklen,delete _.tickwidth,delete _.tickcolor)}},6218:function(d,h,c){var g=c(6287),v=c(1828).isArrayOrTypedArray;d.exports=function(b,O,T,k,w){w||(w={});var C=w.isMinor,_=C?b.minor||{}:b,M=C?O.minor:O,I=C?"minor.":"";function V(W){var X=_[W];return X!==void 0?X:(M._template||{})[W]}var N=V("tick0"),Q=V("dtick"),z=V("tickvals"),U=v(z)?"array":Q?"linear":"auto",F=T(I+"tickmode",U);if(F==="auto"||F==="sync")T(I+"nticks");else if(F==="linear"){var B=M.dtick=g.dtick(Q,k);M.tick0=g.tick0(N,k,O.calendar,B)}else if(k!=="multicategory"){var E=T(I+"tickvals");E===void 0?M.tickmode="auto":C||T("ticktext")}}},6847:function(d,h,c){var g=c(9898),v=c(3972),y=c(1828),b=c(1424),O=c(9298);d.exports=function(k,w,C,_){var M=k._fullLayout;if(w.length===0){O.redrawComponents(k);return}function I(X){var ie=X.xaxis,L=X.yaxis;M._defs.select("#"+X.clipId+"> rect").call(b.setTranslate,0,0).call(b.setScale,1,1),X.plot.call(b.setTranslate,ie._offset,L._offset).call(b.setScale,1,1);var me=X.plot.selectAll(".scatterlayer .trace");me.selectAll(".point").call(b.setPointGroupScale,1,1),me.selectAll(".textpoint").call(b.setTextPointsScale,1,1),me.call(b.hideOutsideRangePoints,X)}function V(X,ie){var L=X.plotinfo,me=L.xaxis,ae=L.yaxis,q=me._length,de=ae._length,ee=!!X.xr1,xe=!!X.yr1,we=[];if(ee){var Be=y.simpleMap(X.xr0,me.r2l),pe=y.simpleMap(X.xr1,me.r2l),ne=Be[1]-Be[0],le=pe[1]-pe[0];we[0]=(Be[0]*(1-ie)+ie*pe[0]-Be[0])/(Be[1]-Be[0])*q,we[2]=q*(1-ie+ie*le/ne),me.range[0]=me.l2r(Be[0]*(1-ie)+ie*pe[0]),me.range[1]=me.l2r(Be[1]*(1-ie)+ie*pe[1])}else we[0]=0,we[2]=q;if(xe){var Y=y.simpleMap(X.yr0,ae.r2l),ve=y.simpleMap(X.yr1,ae.r2l),Oe=Y[1]-Y[0],Le=ve[1]-ve[0];we[1]=(Y[1]*(1-ie)+ie*ve[1]-Y[1])/(Y[0]-Y[1])*de,we[3]=de*(1-ie+ie*Le/Oe),ae.range[0]=me.l2r(Y[0]*(1-ie)+ie*ve[0]),ae.range[1]=ae.l2r(Y[1]*(1-ie)+ie*ve[1])}else we[1]=0,we[3]=de;O.drawOne(k,me,{skipTitle:!0}),O.drawOne(k,ae,{skipTitle:!0}),O.redrawComponents(k,[me._id,ae._id]);var Te=ee?q/we[2]:1,De=xe?de/we[3]:1,Ve=ee?we[0]:0,_e=xe?we[1]:0,Ie=ee?we[0]/we[2]*q:0,re=xe?we[1]/we[3]*de:0,be=me._offset-Ie,te=ae._offset-re;L.clipRect.call(b.setTranslate,Ve,_e).call(b.setScale,1/Te,1/De),L.plot.call(b.setTranslate,be,te).call(b.setScale,Te,De),b.setPointGroupScale(L.zoomScalePts,1/Te,1/De),b.setTextPointsScale(L.zoomScaleTxt,1/Te,1/De)}var N;_&&(N=_());function Q(){for(var X={},ie=0;ie<w.length;ie++){var L=w[ie],me=L.plotinfo.xaxis,ae=L.plotinfo.yaxis;L.xr1&&(X[me._name+".range"]=L.xr1.slice()),L.yr1&&(X[ae._name+".range"]=L.yr1.slice())}return N&&N(),v.call("relayout",k,X).then(function(){for(var q=0;q<w.length;q++)I(w[q].plotinfo)})}function z(){for(var X={},ie=0;ie<w.length;ie++){var L=w[ie],me=L.plotinfo.xaxis,ae=L.plotinfo.yaxis;L.xr0&&(X[me._name+".range"]=L.xr0.slice()),L.yr0&&(X[ae._name+".range"]=L.yr0.slice())}return v.call("relayout",k,X).then(function(){for(var q=0;q<w.length;q++)I(w[q].plotinfo)})}var U,F,B,E=g.ease(C.easing);k._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(B),B=null,z()});function W(){F=Date.now();for(var X=Math.min(1,(F-U)/C.duration),ie=E(X),L=0;L<w.length;L++)V(w[L],ie);F-U>C.duration?(Q(),B=window.cancelAnimationFrame(W)):B=window.requestAnimationFrame(W)}return U=Date.now(),B=window.requestAnimationFrame(W),Promise.resolve()}},951:function(d,h,c){var g=c(3972).traceIs,v=c(4322);d.exports=function(w,C,_,M){_("autotypenumbers",M.autotypenumbersDflt);var I=_("type",(M.splomStash||{}).type);I==="-"&&(y(C,M.data),C.type==="-"?C.type="linear":w.type=C.type)};function y(k,w){if(k.type==="-"){var C=k._id,_=C.charAt(0),M;C.indexOf("scene")!==-1&&(C=_);var I=b(w,C,_);if(I){if(I.type==="histogram"&&_==={v:"y",h:"x"}[I.orientation||"v"]){k.type="linear";return}var V=_+"calendar",N=I[V],Q={noMultiCategory:!g(I,"cartesian")||g(I,"noMultiCategory")};if(I.type==="box"&&I._hasPreCompStats&&_==={h:"x",v:"y"}[I.orientation||"v"]&&(Q.noMultiCategory=!0),Q.autotypenumbers=k.autotypenumbers,T(I,_)){var z=O(I),U=[];for(M=0;M<w.length;M++){var F=w[M];!g(F,"box-violin")||(F[_+"axis"]||_)!==C||(F[z]!==void 0?U.push(F[z][0]):F.name!==void 0?U.push(F.name):U.push("text"),F[V]!==N&&(N=void 0))}k.type=v(U,N,Q)}else if(I.type==="splom"){var B=I.dimensions,E=B[I._axesDim[C]];E.visible&&(k.type=v(E.values,N,Q))}else k.type=v(I[_]||[I[_+"0"]],N,Q)}}}function b(k,w,C){for(var _=0;_<k.length;_++){var M=k[_];if(M.type==="splom"&&M._length>0&&(M["_"+C+"axes"]||{})[w])return M;if((M[C+"axis"]||C)===w){if(T(M,C))return M;if((M[C]||[]).length||M[C+"0"])return M}}}function O(k){return{v:"x",h:"y"}[k.orientation||"v"]}function T(k,w){var C=O(k),_=g(k,"box-violin"),M=g(k._fullInput||{},"candlestick");return _&&!M&&w===C&&k[C]===void 0&&k[C+"0"]===void 0}},1137:function(d,h,c){var g=c(3972),v=c(1828);h.manageCommandObserver=function(w,C,_,M){var I={},V=!0;C&&C._commandObserver&&(I=C._commandObserver),I.cache||(I.cache={}),I.lookupTable={};var N=h.hasSimpleAPICommandBindings(w,_,I.lookupTable);if(C&&C._commandObserver){if(N)return I;if(C._commandObserver.remove)return C._commandObserver.remove(),C._commandObserver=null,I}if(N){y(w,N,I.cache),I.check=function(){if(V){var F=y(w,N,I.cache);return F.changed&&M&&I.lookupTable[F.value]!==void 0&&(I.disable(),Promise.resolve(M({value:F.value,type:N.type,prop:N.prop,traces:N.traces,index:I.lookupTable[F.value]})).then(I.enable,I.enable)),F.changed}};for(var Q=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],z=0;z<Q.length;z++)w._internalOn(Q[z],I.check);I.remove=function(){for(var U=0;U<Q.length;U++)w._removeInternalListener(Q[U],I.check)}}else v.log("Unable to automatically bind plot updates to API command"),I.lookupTable={},I.remove=function(){};return I.disable=function(){V=!1},I.enable=function(){V=!0},C&&(C._commandObserver=I),I},h.hasSimpleAPICommandBindings=function(w,C,_){var M,I=C.length,V;for(M=0;M<I;M++){var N,Q=C[M],z=Q.method,U=Q.args;if(Array.isArray(U)||(U=[]),!z)return!1;var F=h.computeAPICommandBindings(w,z,U);if(F.length!==1)return!1;if(!V)V=F[0],Array.isArray(V.traces)&&V.traces.sort();else{if(N=F[0],N.type!==V.type||N.prop!==V.prop)return!1;if(Array.isArray(V.traces))if(Array.isArray(N.traces)){N.traces.sort();for(var B=0;B<V.traces.length;B++)if(V.traces[B]!==N.traces[B])return!1}else return!1;else if(N.prop!==V.prop)return!1}N=F[0];var E=N.value;if(Array.isArray(E))if(E.length===1)E=E[0];else return!1;_&&(_[E]=M)}return V};function y(w,C,_){var M,I,V,N=!1;if(C.type==="data")M=w._fullData[C.traces!==null?C.traces[0]:0];else if(C.type==="layout")M=w._fullLayout;else return!1;return I=v.nestedProperty(M,C.prop).get(),V=_[C.type]=_[C.type]||{},V.hasOwnProperty(C.prop)&&V[C.prop]!==I&&(N=!0),V[C.prop]=I,{changed:N,value:I}}h.executeAPICommand=function(w,C,_){if(C==="skip")return Promise.resolve();var M=g.apiMethodRegistry[C],I=[w];Array.isArray(_)||(_=[]);for(var V=0;V<_.length;V++)I.push(_[V]);return M.apply(null,I).catch(function(N){return v.warn("API call to Plotly."+C+" rejected.",N),Promise.reject(N)})},h.computeAPICommandBindings=function(w,C,_){var M;switch(Array.isArray(_)||(_=[]),C){case"restyle":M=T(w,_);break;case"relayout":M=O(w,_);break;case"update":M=T(w,[_[0],_[2]]).concat(O(w,[_[1]]));break;case"animate":M=b(w,_);break;default:M=[]}return M};function b(w,C){return Array.isArray(C[0])&&C[0].length===1&&["string","number"].indexOf(typeof C[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:C[0][0].toString()}]:[]}function O(w,C){var _=[],M=C[0],I={};if(typeof M=="string")I[M]=C[1];else if(v.isPlainObject(M))I=M;else return _;return k(I,function(V,N,Q){_.push({type:"layout",prop:V,value:Q})},"",0),_}function T(w,C){var _,M,I,V,N=[];if(M=C[0],I=C[1],_=C[2],V={},typeof M=="string")V[M]=I;else if(v.isPlainObject(M))V=M,_===void 0&&(_=I);else return N;return _===void 0&&(_=null),k(V,function(Q,z,U){var F,B;if(Array.isArray(U)){B=U.slice();var E=Math.min(B.length,w.data.length);_&&(E=Math.min(E,_.length)),F=[];for(var W=0;W<E;W++)F[W]=_?_[W]:W}else B=U,F=_?_.slice():null;if(F===null)Array.isArray(B)&&(B=B[0]);else if(Array.isArray(F)){if(!Array.isArray(B)){var X=B;B=[];for(var ie=0;ie<F.length;ie++)B[ie]=X}B.length=Math.min(F.length,B.length)}N.push({type:"data",prop:Q,traces:F,value:B})},"",0),N}function k(w,C,_,M){Object.keys(w).forEach(function(I){var V=w[I];if(I[0]!=="_"){var N=_+(M>0?".":"")+I;v.isPlainObject(V)?k(V,C,N,M+1):C(N,I,V)}})}},7670:function(d,h,c){var g=c(1426).extendFlat;h.Y=function(v,y){v=v||{},y=y||{};var b={valType:"info_array",editType:v.editType,items:[{valType:"number",min:0,max:1,editType:v.editType},{valType:"number",min:0,max:1,editType:v.editType}],dflt:[0,1]};v.name&&v.name+"",v.trace,y.description&&""+y.description;var O={x:g({},b,{}),y:g({},b,{}),editType:v.editType};return v.noGridCell||(O.row={valType:"integer",min:0,dflt:0,editType:v.editType},O.column={valType:"integer",min:0,dflt:0,editType:v.editType}),O},h.c=function(v,y,b,O){var T=O&&O.x||[0,1],k=O&&O.y||[0,1],w=y.grid;if(w){var C=b("domain.column");C!==void 0&&(C<w.columns?T=w._domains.x[C]:delete v.domain.column);var _=b("domain.row");_!==void 0&&(_<w.rows?k=w._domains.y[_]:delete v.domain.row)}var M=b("domain.x",T),I=b("domain.y",k);M[0]<M[1]||(v.domain.x=T.slice()),I[0]<I[1]||(v.domain.y=k.slice())}},1940:function(d){d.exports=function(h){var c=h.editType,g=h.colorEditType;g===void 0&&(g=c);var v={family:{valType:"string",noBlank:!0,strict:!0,editType:c},size:{valType:"number",min:1,editType:c},color:{valType:"color",editType:g},editType:c};return h.autoSize&&(v.size.dflt="auto"),h.autoColor&&(v.color.dflt="auto"),h.arrayOk&&(v.family.arrayOk=!0,v.size.arrayOk=!0,v.color.arrayOk=!0),v}},1391:function(d){d.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(d,h,c){var g=c(3972);c(5555).SUBPLOT_PATTERN,h.a0=function(v,y){var b=[],O=[],T;if(typeof y=="string"?T=g.getModule(y).plot:typeof y=="function"?T=y:T=y.plot,!T)return[b,v];for(var k=0;k<v.length;k++){var w=v[k],C=w[0].trace;C.visible!==!0||C._length===0||(C._module&&C._module.plot===T?b.push(w):O.push(w))}return[b,O]}},3538:function(d){function h(g,v){var y=[0,0,0,0],b,O;for(b=0;b<4;++b)for(O=0;O<4;++O)y[O]+=g[4*b+O]*v[b];return y}function c(g,v){var y=h(g.projection,h(g.view,h(g.model,[v[0],v[1],v[2],1])));return y}d.exports=c},820:function(d,h,c){var g=c(1940),v=c(5594),y=c(2399),b=c(9241),O=c(3777),T=c(5025),k=c(1426).extendFlat,w=g({editType:"calc"});w.family.dflt='"Open Sans", verdana, arial, sans-serif',w.size.dflt=12,w.color.dflt=y.defaultLine,d.exports={font:w,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:k(T({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:y.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:y.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:y.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:b.newshape,activeshape:b.activeshape,newselection:O.newselection,activeselection:O.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:k({},v.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},5025:function(d){d.exports=function(h){var c=h.editType;return{t:{valType:"number",dflt:0,editType:c},r:{valType:"number",dflt:0,editType:c},b:{valType:"number",dflt:0,editType:c},l:{valType:"number",dflt:0,editType:c},editType:c}}},4875:function(d,h,c){var g=c(9898),v=c(4096).Dq,y=c(721).FF,b=c(2770),O=c(3972),T=c(6281),k=c(4467),w=c(1828),C=c(7901),_=c(606).BADNUM,M=c(1675),I=c(1873).clearOutline,V=c(1479),N=c(5594),Q=c(1391),z=c(7659).a0,U=w.relinkPrivateKeys,F=w._,B=d.exports={};w.extendFlat(B,O),B.attributes=c(9012),B.attributes.type.values=B.allTypes,B.fontAttrs=c(1940),B.layoutAttributes=c(820),B.fontWeight="normal";var E=B.transformsRegistry,W=c(1137);B.executeAPICommand=W.executeAPICommand,B.computeAPICommandBindings=W.computeAPICommandBindings,B.manageCommandObserver=W.manageCommandObserver,B.hasSimpleAPICommandBindings=W.hasSimpleAPICommandBindings,B.redrawText=function(re){return re=w.getGraphDiv(re),new Promise(function(be){setTimeout(function(){re._fullLayout&&(O.getComponentMethod("annotations","draw")(re),O.getComponentMethod("legend","draw")(re),O.getComponentMethod("colorbar","draw")(re),be(B.previousPromises(re)))},300)})},B.resize=function(re){re=w.getGraphDiv(re);var be,te=new Promise(function(se,fe){(!re||w.isHidden(re))&&fe(new Error("Resize must be passed a displayed plot div element.")),re._redrawTimer&&clearTimeout(re._redrawTimer),re._resolveResize&&(be=re._resolveResize),re._resolveResize=se,re._redrawTimer=setTimeout(function(){if(!re.layout||re.layout.width&&re.layout.height||w.isHidden(re)){se(re);return}delete re.layout.width,delete re.layout.height;var oe=re.changed;re.autoplay=!0,O.call("relayout",re,{autosize:!0}).then(function(){re.changed=oe,re._resolveResize===se&&(delete re._resolveResize,se(re))})},100)});return be&&be(te),te},B.previousPromises=function(re){if((re._promises||[]).length)return Promise.all(re._promises).then(function(){re._promises=[]})},B.addLinks=function(re){if(!(!re._context.showLink&&!re._context.showSources)){var be=re._fullLayout,te=w.ensureSingle(be._paper,"text","js-plot-link-container",function(ke){ke.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:C.defaultLine,"pointer-events":"all"}).each(function(){var Qe=g.select(this);Qe.append("tspan").classed("js-link-to-tool",!0),Qe.append("tspan").classed("js-link-spacer",!0),Qe.append("tspan").classed("js-sourcelinks",!0)})}),se=te.node(),fe={y:be._paper.attr("height")-9};document.body.contains(se)&&se.getComputedTextLength()>=be.width-20?(fe["text-anchor"]="start",fe.x=5):(fe["text-anchor"]="end",fe.x=be._paper.attr("width")-7),te.attr(fe);var oe=te.select(".js-link-to-tool"),Se=te.select(".js-link-spacer"),ce=te.select(".js-sourcelinks");re._context.showSources&&re._context.showSources(re),re._context.showLink&&X(re,oe),Se.text(oe.text()&&ce.text()?" - ":"")}};function X(re,be){be.text("");var te=be.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(re._context.linkText+" "+String.fromCharCode(187));if(re._context.sendData)te.on("click",function(){B.sendDataToCloud(re)});else{var se=window.location.pathname.split("/"),fe=window.location.search;te.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+fe})}}B.sendDataToCloud=function(re){var be=(window.PLOTLYENV||{}).BASE_URL||re._context.plotlyServerURL;if(be){re.emit("plotly_beforeexport");var te=g.select(re).append("div").attr("id","hiddenform").style("display","none"),se=te.append("form").attr({action:be+"/external",method:"post",target:"_blank"}),fe=se.append("input").attr({type:"text",name:"data"});return fe.node().value=B.graphJson(re,!1,"keepdata"),se.node().submit(),te.remove(),re.emit("plotly_afterexport"),!1}};var ie=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];B.supplyDefaults=function(re,be){var te=be&&be.skipUpdateCalc,se=re._fullLayout||{};if(se._skipDefaults){delete se._skipDefaults;return}var fe=re._fullLayout={},oe=re.layout||{},Se=re._fullData||[],ce=re._fullData=[],ke=re.data||[],Qe=re.calcdata||[],Ze=re._context||{},Xe;re._transitionData||B.createTransitionData(re),fe._dfltTitle={plot:F(re,"Click to enter Plot title"),x:F(re,"Click to enter X axis title"),y:F(re,"Click to enter Y axis title"),colorbar:F(re,"Click to enter Colorscale title"),annotation:F(re,"new text")},fe._traceWord=F(re,"trace");var ct=q(re,ie);if(fe._mapboxAccessToken=Ze.mapboxAccessToken,se._initialAutoSizeIsDone){var pt=se.width,Ye=se.height;B.supplyLayoutGlobalDefaults(oe,fe,ct),oe.width||(fe.width=pt),oe.height||(fe.height=Ye),B.sanitizeMargins(fe)}else{B.supplyLayoutGlobalDefaults(oe,fe,ct);var je=!oe.width||!oe.height,et=fe.autosize,yt=Ze.autosizable,ft=je&&(et||yt);ft?B.plotAutoSize(re,oe,fe):je&&B.sanitizeMargins(fe),!et&&je&&(oe.width=fe.width,oe.height=fe.height)}fe._d3locale=de(ct,fe.separators),fe._extraFormat=q(re,L),fe._initialAutoSizeIsDone=!0,fe._dataLength=ke.length,fe._modules=[],fe._visibleModules=[],fe._basePlotModules=[];var tt=fe._subplots=ae(),wt=fe._splomAxes={x:{},y:{}},Xt=fe._splomSubplots={};fe._splomGridDflt={},fe._scatterStackOpts={},fe._firstScatter={},fe._alignmentOpts={},fe._colorAxes={},fe._requestRangeslider={},fe._traceUids=me(Se,ke),fe._globalTransforms=(re._context||{}).globalTransforms,B.supplyDataDefaults(ke,ce,oe,fe);var Gt=Object.keys(wt.x),Nt=Object.keys(wt.y);if(Gt.length>1&&Nt.length>1){for(O.getComponentMethod("grid","sizeDefaults")(oe,fe),Xe=0;Xe<Gt.length;Xe++)w.pushUnique(tt.xaxis,Gt[Xe]);for(Xe=0;Xe<Nt.length;Xe++)w.pushUnique(tt.yaxis,Nt[Xe]);for(var Bt in Xt)w.pushUnique(tt.cartesian,Bt)}if(fe._has=B._hasPlotType.bind(fe),Se.length===ce.length)for(Xe=0;Xe<ce.length;Xe++)U(ce[Xe],Se[Xe]);B.supplyLayoutModuleDefaults(oe,fe,ce,re._transitionData);var vn=fe._visibleModules,En=[];for(Xe=0;Xe<vn.length;Xe++){var ln=vn[Xe].crossTraceDefaults;ln&&w.pushUnique(En,ln)}for(Xe=0;Xe<En.length;Xe++)En[Xe](ce,fe);fe._hasOnlyLargeSploms=fe._basePlotModules.length===1&&fe._basePlotModules[0].name==="splom"&&Gt.length>15&&Nt.length>15&&fe.shapes.length===0&&fe.images.length===0,B.linkSubplots(ce,fe,Se,se),B.cleanPlot(ce,fe,Se,se);var Yn=!!(se._has&&se._has("gl2d")),an=!!(fe._has&&fe._has("gl2d")),wn=!!(se._has&&se._has("cartesian")),Xn=!!(fe._has&&fe._has("cartesian")),Un=wn||Yn,Sn=Xn||an;Un&&!Sn?se._bgLayer.remove():Sn&&!Un&&(fe._shouldCreateBgLayer=!0),se._zoomlayer&&!re._dragging&&I({_fullLayout:se}),ee(ce,fe),U(fe,se),O.getComponentMethod("colorscale","crossTraceDefaults")(ce,fe),fe._preGUI||(fe._preGUI={}),fe._tracePreGUI||(fe._tracePreGUI={});var lt=fe._tracePreGUI,ut={},xt;for(xt in lt)ut[xt]="old";for(Xe=0;Xe<ce.length;Xe++)xt=ce[Xe]._fullInput.uid,ut[xt]||(lt[xt]={}),ut[xt]="new";for(xt in ut)ut[xt]==="old"&&delete lt[xt];ne(fe),O.getComponentMethod("rangeslider","makeData")(fe),!te&&Qe.length===ce.length&&B.supplyDefaultsUpdateCalc(Qe,ce)},B.supplyDefaultsUpdateCalc=function(re,be){for(var te=0;te<be.length;te++){var se=be[te],fe=(re[te]||[])[0];if(fe&&fe.trace){var oe=fe.trace;if(oe._hasCalcTransform){var Se=oe._arrayAttrs,ce,ke,Qe;for(ce=0;ce<Se.length;ce++)ke=Se[ce],Qe=w.nestedProperty(oe,ke).get().slice(),w.nestedProperty(se,ke).set(Qe)}fe.trace=se}}};function me(re,be){var te=be.length,se=[],fe,oe;for(fe=0;fe<re.length;fe++){var Se=re[fe]._fullInput;Se!==oe&&se.push(Se),oe=Se}var ce=se.length,ke=new Array(te),Qe={};function Ze(pt,Ye){ke[Ye]=pt,Qe[pt]=1}function Xe(pt,Ye){if(pt&&typeof pt=="string"&&!Qe[pt])return Ze(pt,Ye),!0}for(fe=0;fe<te;fe++){var ct=be[fe].uid;typeof ct=="number"&&(ct=String(ct)),!Xe(ct,fe)&&(fe<ce&&Xe(se[fe].uid,fe)||Ze(w.randstr(Qe),fe))}return ke}function ae(){var re=O.collectableSubplotTypes,be={},te,se;if(!re){re=[];var fe=O.subplotsRegistry;for(var oe in fe){var Se=fe[oe],ce=Se.attr;if(ce&&(re.push(oe),Array.isArray(ce)))for(se=0;se<ce.length;se++)w.pushUnique(re,ce[se])}}for(te=0;te<re.length;te++)be[re[te]]=[];return be}function q(re,be){var te=re._context.locale;te||(te="en-US");var se=!1,fe={};function oe(Xe){for(var ct=!0,pt=0;pt<be.length;pt++){var Ye=be[pt];fe[Ye]||(Xe[Ye]?fe[Ye]=Xe[Ye]:ct=!1)}ct&&(se=!0)}for(var Se=0;Se<2;Se++){for(var ce=re._context.locales,ke=0;ke<2;ke++){var Qe=(ce[te]||{}).format;if(Qe&&(oe(Qe),se))break;ce=O.localeRegistry}var Ze=te.split("-")[0];if(se||Ze===te)break;te=Ze}return se||oe(O.localeRegistry.en.format),fe}function de(re,be){return re.decimal=be.charAt(0),re.thousands=be.charAt(1),{numberFormat:function(te){try{te=y(re).format(w.adjustFormat(te))}catch{return w.warnBadFormat(te),w.noFormat}return te},timeFormat:v(re).utcFormat}}function ee(re,be){var te,se=[];be.meta&&(te=be._meta={meta:be.meta,layout:{meta:be.meta}});for(var fe=0;fe<re.length;fe++){var oe=re[fe];oe.meta?se[oe.index]=oe._meta={meta:oe.meta}:be.meta&&(oe._meta={meta:be.meta}),be.meta&&(oe._meta.layout={meta:be.meta})}se.length&&(te||(te=be._meta={}),te.data=se)}B.createTransitionData=function(re){re._transitionData||(re._transitionData={}),re._transitionData._frames||(re._transitionData._frames=[]),re._transitionData._frameHash||(re._transitionData._frameHash={}),re._transitionData._counter||(re._transitionData._counter=0),re._transitionData._interruptCallbacks||(re._transitionData._interruptCallbacks=[])},B._hasPlotType=function(re){var be,te=this._basePlotModules||[];for(be=0;be<te.length;be++)if(te[be].name===re)return!0;var se=this._modules||[];for(be=0;be<se.length;be++){var fe=se[be].name;if(fe===re)return!0;var oe=O.modules[fe];if(oe&&oe.categories[re])return!0}return!1},B.cleanPlot=function(re,be,te,se){var fe,oe,Se=se._basePlotModules||[];for(fe=0;fe<Se.length;fe++){var ce=Se[fe];ce.clean&&ce.clean(re,be,te,se)}var ke=se._has&&se._has("gl"),Qe=be._has&&be._has("gl");ke&&!Qe&&se._glcontainer!==void 0&&(se._glcontainer.selectAll(".gl-canvas").remove(),se._glcontainer.selectAll(".no-webgl").remove(),se._glcanvas=null);var Ze=!!se._infolayer;e:for(fe=0;fe<te.length;fe++){var Xe=te[fe],ct=Xe.uid;for(oe=0;oe<re.length;oe++){var pt=re[oe];if(ct===pt.uid)continue e}Ze&&se._infolayer.select(".cb"+ct).remove()}},B.linkSubplots=function(re,be,te,se){var fe,oe,Se=se._plots||{},ce=be._plots={},ke=be._subplots,Qe={_fullData:re,_fullLayout:be},Ze=ke.cartesian.concat(ke.gl2d||[]);for(fe=0;fe<Ze.length;fe++){var Xe=Ze[fe],ct=Se[Xe],pt=M.getFromId(Qe,Xe,"x"),Ye=M.getFromId(Qe,Xe,"y"),je;for(ct?je=ce[Xe]=ct:(je=ce[Xe]={},je.id=Xe),pt._counterAxes.push(Ye._id),Ye._counterAxes.push(pt._id),pt._subplotsWith.push(Xe),Ye._subplotsWith.push(Xe),je.xaxis=pt,je.yaxis=Ye,je._hasClipOnAxisFalse=!1,oe=0;oe<re.length;oe++){var et=re[oe];if(et.xaxis===je.xaxis._id&&et.yaxis===je.yaxis._id&&et.cliponaxis===!1){je._hasClipOnAxisFalse=!0;break}}}var yt=M.list(Qe,null,!0),ft;for(fe=0;fe<yt.length;fe++){ft=yt[fe];var tt=null;ft.overlaying&&(tt=M.getFromId(Qe,ft.overlaying),tt&&tt.overlaying&&(ft.overlaying=!1,tt=null)),ft._mainAxis=tt||ft,tt&&(ft.domain=tt.domain.slice()),ft._anchorAxis=ft.anchor==="free"?null:M.getFromId(Qe,ft.anchor)}for(fe=0;fe<yt.length;fe++)if(ft=yt[fe],ft._counterAxes.sort(M.idSort),ft._subplotsWith.sort(w.subplotSort),ft._mainSubplot=xe(ft,be),ft._counterAxes.length&&(ft.spikemode&&ft.spikemode.indexOf("across")!==-1||ft.automargin&&ft.mirror&&ft.anchor!=="free"||O.getComponentMethod("rangeslider","isVisible")(ft))){var wt=1,Xt=0;for(oe=0;oe<ft._counterAxes.length;oe++){var Gt=M.getFromId(Qe,ft._counterAxes[oe]);wt=Math.min(wt,Gt.domain[0]),Xt=Math.max(Xt,Gt.domain[1])}wt<Xt&&(ft._counterDomainMin=wt,ft._counterDomainMax=Xt)}};function xe(re,be){var te={_fullLayout:be},se=re._id.charAt(0)==="x",fe=re._mainAxis._anchorAxis,oe="",Se="",ce="";if(fe&&(ce=fe._mainAxis._id,oe=se?re._id+ce:ce+re._id),!oe||!be._plots[oe]){oe="";for(var ke=re._counterAxes,Qe=0;Qe<ke.length;Qe++){var Ze=ke[Qe],Xe=se?re._id+Ze:Ze+re._id;Se||(Se=Xe);var ct=M.getFromId(te,Ze);if(ce&&ct.overlaying===ce){oe=Xe;break}}}return oe||Se}B.clearExpandedTraceDefaultColors=function(re){var be,te,se;function fe(Se,ce,ke,Qe){te[Qe]=ce,te.length=Qe+1,Se.valType==="color"&&Se.dflt===void 0&&be.push(te.join("."))}for(te=[],be=re._module._colorAttrs,be||(re._module._colorAttrs=be=[],T.crawl(re._module.attributes,fe)),se=0;se<be.length;se++){var oe=w.nestedProperty(re,"_input."+be[se]);oe.get()||w.nestedProperty(re,be[se]).set(null)}},B.supplyDataDefaults=function(re,be,te,se){var fe=se._modules,oe=se._visibleModules,Se=se._basePlotModules,ce=0,ke=0,Qe,Ze,Xe;se._transformModules=[];function ct(Nt){be.push(Nt);var Bt=Nt._module;Bt&&(w.pushUnique(fe,Bt),Nt.visible===!0&&w.pushUnique(oe,Bt),w.pushUnique(Se,Nt._module.basePlotModule),ce++,Nt._input.visible!==!1&&ke++)}var pt={},Ye=[],je=(te.template||{}).data||{},et=k.traceTemplater(je);for(Qe=0;Qe<re.length;Qe++){if(Xe=re[Qe],Ze=et.newTrace(Xe),Ze.uid=se._traceUids[Qe],B.supplyTraceDefaults(Xe,Ze,ke,se,Qe),Ze.index=Qe,Ze._input=Xe,Ze._expandedIndex=ce,Ze.transforms&&Ze.transforms.length)for(var yt=Xe.visible!==!1&&Ze.visible===!1,ft=Be(Ze,be,te,se),tt=0;tt<ft.length;tt++){var wt=ft[tt],Xt={_template:Ze._template,type:Ze.type,uid:Ze.uid+tt};yt&&wt.visible===!1&&delete wt.visible,B.supplyTraceDefaults(wt,Xt,ce,se,Qe),U(Xt,wt),Xt.index=Qe,Xt._input=Xe,Xt._fullInput=Ze,Xt._expandedIndex=ce,Xt._expandedInput=wt,ct(Xt)}else Ze._fullInput=Ze,Ze._expandedInput=Ze,ct(Ze);O.traceIs(Ze,"carpetAxis")&&(pt[Ze.carpet]=Ze),O.traceIs(Ze,"carpetDependent")&&Ye.push(Qe)}for(Qe=0;Qe<Ye.length;Qe++)if(Ze=be[Ye[Qe]],!!Ze.visible){var Gt=pt[Ze.carpet];if(Ze._carpet=Gt,!Gt||!Gt.visible){Ze.visible=!1;continue}Ze.xaxis=Gt.xaxis,Ze.yaxis=Gt.yaxis}},B.supplyAnimationDefaults=function(re){re=re||{};var be,te={};function se(fe,oe){return w.coerce(re||{},te,N,fe,oe)}if(se("mode"),se("direction"),se("fromcurrent"),Array.isArray(re.frame))for(te.frame=[],be=0;be<re.frame.length;be++)te.frame[be]=B.supplyAnimationFrameDefaults(re.frame[be]||{});else te.frame=B.supplyAnimationFrameDefaults(re.frame||{});if(Array.isArray(re.transition))for(te.transition=[],be=0;be<re.transition.length;be++)te.transition[be]=B.supplyAnimationTransitionDefaults(re.transition[be]||{});else te.transition=B.supplyAnimationTransitionDefaults(re.transition||{});return te},B.supplyAnimationFrameDefaults=function(re){var be={};function te(se,fe){return w.coerce(re||{},be,N.frame,se,fe)}return te("duration"),te("redraw"),be},B.supplyAnimationTransitionDefaults=function(re){var be={};function te(se,fe){return w.coerce(re||{},be,N.transition,se,fe)}return te("duration"),te("easing"),be},B.supplyFrameDefaults=function(re){var be={};function te(se,fe){return w.coerce(re,be,Q,se,fe)}return te("group"),te("name"),te("traces"),te("baseframe"),te("data"),te("layout"),be},B.supplyTraceDefaults=function(re,be,te,se,fe){var oe=se.colorway||C.defaults,Se=oe[te%oe.length],ce;function ke(ft,tt){return w.coerce(re,be,B.attributes,ft,tt)}var Qe=ke("visible");ke("type"),ke("name",se._traceWord+" "+fe),ke("uirevision",se.uirevision);var Ze=B.getModule(be);if(be._module=Ze,Ze){var Xe=Ze.basePlotModule,ct=Xe.attr,pt=Xe.attributes;if(ct&&pt){var Ye=se._subplots,je="";if(Qe||Xe.name!=="gl2d"){if(Array.isArray(ct))for(ce=0;ce<ct.length;ce++){var et=ct[ce],yt=w.coerce(re,be,pt,et);Ye[et]&&w.pushUnique(Ye[et],yt),je+=yt}else je=w.coerce(re,be,pt,ct);Ye[Xe.name]&&w.pushUnique(Ye[Xe.name],je)}}}return Qe&&(ke("customdata"),ke("ids"),ke("meta"),O.traceIs(be,"showLegend")?(w.coerce(re,be,Ze.attributes.showlegend?Ze.attributes:B.attributes,"showlegend"),ke("legend"),ke("legendwidth"),ke("legendgroup"),ke("legendgrouptitle.text"),ke("legendrank"),be._dfltShowLegend=!0):be._dfltShowLegend=!1,Ze&&Ze.supplyDefaults(re,be,Se,se),O.traceIs(be,"noOpacity")||ke("opacity"),O.traceIs(be,"notLegendIsolatable")&&(be.visible=!!be.visible),O.traceIs(be,"noHover")||(be.hovertemplate||w.coerceHoverinfo(re,be,se),be.type!=="parcats"&&O.getComponentMethod("fx","supplyDefaults")(re,be,Se,se)),Ze&&Ze.selectPoints&&ke("selectedpoints"),B.supplyTransformDefaults(re,be,se)),be};function we(re){var be=re.transforms;if(Array.isArray(be)&&be.length)for(var te=0;te<be.length;te++){var se=be[te],fe=se._module||E[se.type];if(fe&&fe.makesData)return!0}return!1}B.hasMakesDataTransform=we,B.supplyTransformDefaults=function(re,be,te){if(be._length||we(re)){var se=te._globalTransforms||[],fe=te._transformModules||[];if(!(!Array.isArray(re.transforms)&&se.length===0))for(var oe=re.transforms||[],Se=se.concat(oe),ce=be.transforms=[],ke=0;ke<Se.length;ke++){var Qe=Se[ke],Ze=Qe.type,Xe=E[Ze],ct,pt=!(Qe._module&&Qe._module===Xe),Ye=Xe&&typeof Xe.transform=="function";Xe||w.warn("Unrecognized transform type "+Ze+"."),Xe&&Xe.supplyDefaults&&(pt||Ye)?(ct=Xe.supplyDefaults(Qe,be,te,re),ct.type=Ze,ct._module=Xe,w.pushUnique(fe,Xe)):ct=w.extendFlat({},Qe),ce.push(ct)}}};function Be(re,be,te,se){for(var fe=re.transforms,oe=[re],Se=0;Se<fe.length;Se++){var ce=fe[Se],ke=E[ce.type];ke&&ke.transform&&(oe=ke.transform(oe,{transform:ce,fullTrace:re,fullData:be,layout:te,fullLayout:se,transformIndex:Se}))}return oe}B.supplyLayoutGlobalDefaults=function(re,be,te){function se(Xe,ct){return w.coerce(re,be,B.layoutAttributes,Xe,ct)}var fe=re.template;w.isPlainObject(fe)&&(be.template=fe,be._template=fe.layout,be._dataTemplate=fe.data),se("autotypenumbers");var oe=w.coerceFont(se,"font"),Se=oe.size;w.coerceFont(se,"title.font",w.extendFlat({},oe,{size:Math.round(Se*1.4)})),se("title.text",be._dfltTitle.plot),se("title.xref");var ce=se("title.yref");se("title.pad.t"),se("title.pad.r"),se("title.pad.b"),se("title.pad.l");var ke=se("title.automargin");se("title.x"),se("title.xanchor"),se("title.y"),se("title.yanchor"),ke&&(ce==="paper"&&(be.title.y!==0&&(be.title.y=1),be.title.yanchor==="auto"&&(be.title.yanchor=be.title.y===0?"top":"bottom")),ce==="container"&&(be.title.y==="auto"&&(be.title.y=1),be.title.yanchor==="auto"&&(be.title.yanchor=be.title.y<.5?"bottom":"top")));var Qe=se("uniformtext.mode");Qe&&se("uniformtext.minsize"),se("autosize",!(re.width&&re.height)),se("width"),se("height"),se("minreducedwidth"),se("minreducedheight"),se("margin.l"),se("margin.r"),se("margin.t"),se("margin.b"),se("margin.pad"),se("margin.autoexpand"),re.width&&re.height&&B.sanitizeMargins(be),O.getComponentMethod("grid","sizeDefaults")(re,be),se("paper_bgcolor"),se("separators",te.decimal+te.thousands),se("hidesources"),se("colorway"),se("datarevision");var Ze=se("uirevision");se("editrevision",Ze),se("selectionrevision",Ze),O.getComponentMethod("modebar","supplyLayoutDefaults")(re,be),O.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(re,be,se),O.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(re,be,se),se("meta"),w.isPlainObject(re.transition)&&(se("transition.duration"),se("transition.easing"),se("transition.ordering")),O.getComponentMethod("calendars","handleDefaults")(re,be,"calendar"),O.getComponentMethod("fx","supplyLayoutGlobalDefaults")(re,be,se),w.coerce(re,be,V,"scattermode")};function pe(re){return typeof re=="string"&&re.substr(re.length-2)==="px"&&parseFloat(re)}B.plotAutoSize=function(be,te,se){var fe=be._context||{},oe=fe.frameMargins,Se,ce,ke=w.isPlotDiv(be);if(ke&&be.emit("plotly_autosize"),fe.fillFrame)Se=window.innerWidth,ce=window.innerHeight,document.body.style.overflow="hidden";else{var Qe=ke?window.getComputedStyle(be):{};if(Se=pe(Qe.width)||pe(Qe.maxWidth)||se.width,ce=pe(Qe.height)||pe(Qe.maxHeight)||se.height,b(oe)&&oe>0){var Ze=1-2*oe;Se=Math.round(Ze*Se),ce=Math.round(Ze*ce)}}var Xe=B.layoutAttributes.width.min,ct=B.layoutAttributes.height.min;Se<Xe&&(Se=Xe),ce<ct&&(ce=ct);var pt=!te.width&&Math.abs(se.width-Se)>1,Ye=!te.height&&Math.abs(se.height-ce)>1;(Ye||pt)&&(pt&&(se.width=Se),Ye&&(se.height=ce)),be._initialAutoSize||(be._initialAutoSize={width:Se,height:ce}),B.sanitizeMargins(se)},B.supplyLayoutModuleDefaults=function(re,be,te,se){var fe=O.componentsRegistry,oe=be._basePlotModules,Se,ce,ke,Qe=O.subplotsRegistry.cartesian;for(Se in fe)ke=fe[Se],ke.includeBasePlot&&ke.includeBasePlot(re,be);oe.length||oe.push(Qe),be._has("cartesian")&&(O.getComponentMethod("grid","contentDefaults")(re,be),Qe.finalizeSubplots(re,be));for(var Ze in be._subplots)be._subplots[Ze].sort(w.subplotSort);for(ce=0;ce<oe.length;ce++)ke=oe[ce],ke.supplyLayoutDefaults&&ke.supplyLayoutDefaults(re,be,te);var Xe=be._modules;for(ce=0;ce<Xe.length;ce++)ke=Xe[ce],ke.supplyLayoutDefaults&&ke.supplyLayoutDefaults(re,be,te);var ct=be._transformModules;for(ce=0;ce<ct.length;ce++)ke=ct[ce],ke.supplyLayoutDefaults&&ke.supplyLayoutDefaults(re,be,te,se);for(Se in fe)ke=fe[Se],ke.supplyLayoutDefaults&&ke.supplyLayoutDefaults(re,be,te)},B.purge=function(re){var be=re._fullLayout||{};be._glcontainer!==void 0&&(be._glcontainer.selectAll(".gl-canvas").remove(),be._glcontainer.remove(),be._glcanvas=null),be._modeBar&&be._modeBar.destroy(),re._transitionData&&(re._transitionData._interruptCallbacks&&(re._transitionData._interruptCallbacks.length=0),re._transitionData._animationRaf&&window.cancelAnimationFrame(re._transitionData._animationRaf)),w.clearThrottle(),w.clearResponsive(re),delete re.data,delete re.layout,delete re._fullData,delete re._fullLayout,delete re.calcdata,delete re.empty,delete re.fid,delete re.undoqueue,delete re.undonum,delete re.autoplay,delete re.changed,delete re._promises,delete re._redrawTimer,delete re._hmlumcount,delete re._hmpixcount,delete re._transitionData,delete re._transitioning,delete re._initialAutoSize,delete re._transitioningWithDuration,delete re._dragging,delete re._dragged,delete re._dragdata,delete re._hoverdata,delete re._snapshotInProgress,delete re._editing,delete re._mouseDownTime,delete re._legendMouseDownTime,re.removeAllListeners&&re.removeAllListeners()},B.style=function(re){var be=re._fullLayout._visibleModules,te=[],se;for(se=0;se<be.length;se++){var fe=be[se];fe.style&&w.pushUnique(te,fe.style)}for(se=0;se<te.length;se++)te[se](re)},B.sanitizeMargins=function(re){if(!(!re||!re.margin)){var be=re.width,te=re.height,se=re.margin,fe=be-(se.l+se.r),oe=te-(se.t+se.b),Se;fe<0&&(Se=(be-1)/(se.l+se.r),se.l=Math.floor(Se*se.l),se.r=Math.floor(Se*se.r)),oe<0&&(Se=(te-1)/(se.t+se.b),se.t=Math.floor(Se*se.t),se.b=Math.floor(Se*se.b))}},B.clearAutoMarginIds=function(re){re._fullLayout._pushmarginIds={}},B.allowAutoMargin=function(re,be){re._fullLayout._pushmarginIds[be]=1};function ne(re){var be=re.margin;if(!re._size){var te=re._size={l:Math.round(be.l),r:Math.round(be.r),t:Math.round(be.t),b:Math.round(be.b),p:Math.round(be.pad)};te.w=Math.round(re.width)-te.l-te.r,te.h=Math.round(re.height)-te.t-te.b}re._pushmargin||(re._pushmargin={}),re._pushmarginIds||(re._pushmarginIds={}),re._reservedMargin||(re._reservedMargin={})}var le=2,Y=2;B.autoMargin=function(re,be,te){var se=re._fullLayout,fe=se.width,oe=se.height,Se=se.margin,ce=se.minreducedwidth,ke=se.minreducedheight,Qe=w.constrain(fe-Se.l-Se.r,le,ce),Ze=w.constrain(oe-Se.t-Se.b,Y,ke),Xe=Math.max(0,fe-Qe),ct=Math.max(0,oe-Ze),pt=se._pushmargin,Ye=se._pushmarginIds;if(Se.autoexpand!==!1){if(!te)delete pt[be],delete Ye[be];else{var je=te.pad;if(je===void 0&&(je=Math.min(12,Se.l,Se.r,Se.t,Se.b)),Xe){var et=(te.l+te.r)/Xe;et>1&&(te.l/=et,te.r/=et)}if(ct){var yt=(te.t+te.b)/ct;yt>1&&(te.t/=yt,te.b/=yt)}var ft=te.xl!==void 0?te.xl:te.x,tt=te.xr!==void 0?te.xr:te.x,wt=te.yt!==void 0?te.yt:te.y,Xt=te.yb!==void 0?te.yb:te.y;pt[be]={l:{val:ft,size:te.l+je},r:{val:tt,size:te.r+je},b:{val:Xt,size:te.b+je},t:{val:wt,size:te.t+je}},Ye[be]=1}if(!se._replotting)return B.doAutoMargin(re)}};function ve(re){if("_redrawFromAutoMarginCount"in re._fullLayout)return!1;var be=M.list(re,"",!0);for(var te in be)if(be[te].autoshift||be[te].shift)return!0;return!1}B.doAutoMargin=function(re){var be=re._fullLayout,te=be.width,se=be.height;be._size||(be._size={}),ne(be);var fe=be._size,oe=be.margin,Se={t:0,b:0,l:0,r:0},ce=w.extendFlat({},fe),ke=oe.l,Qe=oe.r,Ze=oe.t,Xe=oe.b,ct=be._pushmargin,pt=be._pushmarginIds,Ye=be.minreducedwidth,je=be.minreducedheight;if(oe.autoexpand!==!1){for(var et in ct)pt[et]||delete ct[et];var yt=re._fullLayout._reservedMargin;for(var ft in yt)for(var tt in yt[ft]){var wt=yt[ft][tt];Se[tt]=Math.max(Se[tt],wt)}ct.base={l:{val:0,size:ke},r:{val:1,size:Qe},t:{val:1,size:Ze},b:{val:0,size:Xe}};for(var Xt in Se){var Gt=0;for(var Nt in ct)Nt!=="base"&&b(ct[Nt][Xt].size)&&(Gt=ct[Nt][Xt].size>Gt?ct[Nt][Xt].size:Gt);var Bt=Math.max(0,oe[Xt]-Gt);Se[Xt]=Math.max(0,Se[Xt]-Bt)}for(var vn in ct){var En=ct[vn].l||{},ln=ct[vn].b||{},Yn=En.val,an=En.size,wn=ln.val,Xn=ln.size,Un=te-Se.r-Se.l,Sn=se-Se.t-Se.b;for(var lt in ct){if(b(an)&&ct[lt].r){var ut=ct[lt].r.val,xt=ct[lt].r.size;if(ut>Yn){var gt=(an*ut+(xt-Un)*Yn)/(ut-Yn),Dt=(xt*(1-Yn)+(an-Un)*(1-ut))/(ut-Yn);gt+Dt>ke+Qe&&(ke=gt,Qe=Dt)}}if(b(Xn)&&ct[lt].t){var He=ct[lt].t.val,it=ct[lt].t.size;if(He>wn){var dt=(Xn*He+(it-Sn)*wn)/(He-wn),mt=(it*(1-wn)+(Xn-Sn)*(1-He))/(He-wn);dt+mt>Xe+Ze&&(Xe=dt,Ze=mt)}}}}}var Ct=w.constrain(te-oe.l-oe.r,le,Ye),Pt=w.constrain(se-oe.t-oe.b,Y,je),dn=Math.max(0,te-Ct),rn=Math.max(0,se-Pt);if(dn){var Wt=(ke+Qe)/dn;Wt>1&&(ke/=Wt,Qe/=Wt)}if(rn){var Rt=(Xe+Ze)/rn;Rt>1&&(Xe/=Rt,Ze/=Rt)}if(fe.l=Math.round(ke)+Se.l,fe.r=Math.round(Qe)+Se.r,fe.t=Math.round(Ze)+Se.t,fe.b=Math.round(Xe)+Se.b,fe.p=Math.round(oe.pad),fe.w=Math.round(te)-fe.l-fe.r,fe.h=Math.round(se)-fe.t-fe.b,!be._replotting&&(B.didMarginChange(ce,fe)||ve(re))){"_redrawFromAutoMarginCount"in be?be._redrawFromAutoMarginCount++:be._redrawFromAutoMarginCount=1;var fn=3*(1+Object.keys(pt).length);if(be._redrawFromAutoMarginCount<fn)return O.call("_doPlot",re);be._size=ce,w.warn("Too many auto-margin redraws.")}Oe(re)};function Oe(re){var be=M.list(re,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(te){for(var se=0;se<be.length;se++){var fe=be[se][te];fe&&fe()}})}var Le=["l","r","t","b","p","w","h"];B.didMarginChange=function(re,be){for(var te=0;te<Le.length;te++){var se=Le[te],fe=re[se],oe=be[se];if(!b(fe)||Math.abs(oe-fe)>1)return!0}return!1},B.graphJson=function(re,be,te,se,fe,oe){(fe&&be&&!re._fullData||fe&&!be&&!re._fullLayout)&&B.supplyDefaults(re);var Se=fe?re._fullData:re.data,ce=fe?re._fullLayout:re.layout,ke=(re._transitionData||{})._frames;function Qe(ct,pt){if(typeof ct=="function")return pt?"_function_":null;if(w.isPlainObject(ct)){var Ye={},je;return Object.keys(ct).sort().forEach(function(et){if(["_","["].indexOf(et.charAt(0))===-1){if(typeof ct[et]=="function"){pt&&(Ye[et]="_function");return}if(te==="keepdata"){if(et.substr(et.length-3)==="src")return}else if(te==="keepstream"){if(je=ct[et+"src"],typeof je=="string"&&je.indexOf(":")>0&&!w.isPlainObject(ct.stream))return}else if(te!=="keepall"&&(je=ct[et+"src"],typeof je=="string"&&je.indexOf(":")>0))return;Ye[et]=Qe(ct[et],pt)}}),Ye}return Array.isArray(ct)?ct.map(function(et){return Qe(et,pt)}):w.isTypedArray(ct)?w.simpleMap(ct,w.identity):w.isJSDate(ct)?w.ms2DateTimeLocal(+ct):ct}var Ze={data:(Se||[]).map(function(ct){var pt=Qe(ct);return be&&delete pt.fit,pt})};if(!be&&(Ze.layout=Qe(ce),fe)){var Xe=ce._size;Ze.layout.computed={margin:{b:Xe.b,l:Xe.l,r:Xe.r,t:Xe.t}}}return ke&&(Ze.frames=Qe(ke)),oe&&(Ze.config=Qe(re._context,!0)),se==="object"?Ze:JSON.stringify(Ze)},B.modifyFrames=function(re,be){var te,se,fe,oe=re._transitionData._frames,Se=re._transitionData._frameHash;for(te=0;te<be.length;te++)switch(se=be[te],se.type){case"replace":fe=se.value;var ce=(oe[se.index]||{}).name,ke=fe.name;oe[se.index]=Se[ke]=fe,ke!==ce&&(delete Se[ce],Se[ke]=fe);break;case"insert":fe=se.value,Se[fe.name]=fe,oe.splice(se.index,0,fe);break;case"delete":fe=oe[se.index],delete Se[fe.name],oe.splice(se.index,1);break}return Promise.resolve()},B.computeFrame=function(re,be){var te=re._transitionData._frameHash,se,fe,oe,Se;if(!be)throw new Error("computeFrame must be given a string frame name");var ce=te[be.toString()];if(!ce)return!1;for(var ke=[ce],Qe=[ce.name];ce.baseframe&&(ce=te[ce.baseframe.toString()])&&Qe.indexOf(ce.name)===-1;)ke.push(ce),Qe.push(ce.name);for(var Ze={};ce=ke.pop();)if(ce.layout&&(Ze.layout=B.extendLayout(Ze.layout,ce.layout)),ce.data){if(Ze.data||(Ze.data=[]),fe=ce.traces,!fe)for(fe=[],se=0;se<ce.data.length;se++)fe[se]=se;for(Ze.traces||(Ze.traces=[]),se=0;se<ce.data.length;se++)oe=fe[se],oe!=null&&(Se=Ze.traces.indexOf(oe),Se===-1&&(Se=Ze.data.length,Ze.traces[Se]=oe),Ze.data[Se]=B.extendTrace(Ze.data[Se],ce.data[se]))}return Ze},B.recomputeFrameHash=function(re){for(var be=re._transitionData._frameHash={},te=re._transitionData._frames,se=0;se<te.length;se++){var fe=te[se];fe&&fe.name&&(be[fe.name]=fe)}},B.extendObjectWithContainers=function(re,be,te){var se,fe,oe,Se,ce,ke,Qe,Ze,Xe=w.extendDeepNoArrays({},be||{}),ct=w.expandObjectPaths(Xe),pt={};if(te&&te.length)for(oe=0;oe<te.length;oe++)se=w.nestedProperty(ct,te[oe]),fe=se.get(),fe===void 0?w.nestedProperty(pt,te[oe]).set(null):(se.set(null),w.nestedProperty(pt,te[oe]).set(fe));if(re=w.extendDeepNoArrays(re||{},ct),te&&te.length){for(oe=0;oe<te.length;oe++)if(ce=w.nestedProperty(pt,te[oe]),Qe=ce.get(),!!Qe){for(ke=w.nestedProperty(re,te[oe]),Ze=ke.get(),Array.isArray(Ze)||(Ze=[],ke.set(Ze)),Se=0;Se<Qe.length;Se++){var Ye=Qe[Se];Ye===null?Ze[Se]=null:Ze[Se]=B.extendObjectWithContainers(Ze[Se],Ye)}ke.set(Ze)}}return re},B.dataArrayContainers=["transforms","dimensions"],B.layoutArrayContainers=O.layoutArrayContainers,B.extendTrace=function(re,be){return B.extendObjectWithContainers(re,be,B.dataArrayContainers)},B.extendLayout=function(re,be){return B.extendObjectWithContainers(re,be,B.layoutArrayContainers)},B.transition=function(re,be,te,se,fe,oe){var Se={redraw:fe.redraw},ce={},ke=[];return Se.prepareFn=function(){for(var Qe=Array.isArray(be)?be.length:0,Ze=se.slice(0,Qe),Xe=0;Xe<Ze.length;Xe++){var ct=Ze[Xe],pt=re._fullData[ct],Ye=pt._module;if(Ye){if(Ye.animatable){var je=Ye.basePlotModule.name;ce[je]||(ce[je]=[]),ce[je].push(ct)}re.data[Ze[Xe]]=B.extendTrace(re.data[Ze[Xe]],be[Xe])}}var et=w.expandObjectPaths(w.extendDeepNoArrays({},te)),yt=/^[xy]axis[0-9]*$/;for(var ft in et)yt.test(ft)&&delete et[ft].range;B.extendLayout(re.layout,et),delete re.calcdata,B.supplyDefaults(re),B.doCalcdata(re);var tt=w.expandObjectPaths(te);if(tt){var wt=re._fullLayout._plots;for(var Xt in wt){var Gt=wt[Xt],Nt=Gt.xaxis,Bt=Gt.yaxis,vn=Nt.range.slice(),En=Bt.range.slice(),ln=null,Yn=null,an=null,wn=null;Array.isArray(tt[Nt._name+".range"])?ln=tt[Nt._name+".range"].slice():Array.isArray((tt[Nt._name]||{}).range)&&(ln=tt[Nt._name].range.slice()),Array.isArray(tt[Bt._name+".range"])?Yn=tt[Bt._name+".range"].slice():Array.isArray((tt[Bt._name]||{}).range)&&(Yn=tt[Bt._name].range.slice()),vn&&ln&&(Nt.r2l(vn[0])!==Nt.r2l(ln[0])||Nt.r2l(vn[1])!==Nt.r2l(ln[1]))&&(an={xr0:vn,xr1:ln}),En&&Yn&&(Bt.r2l(En[0])!==Bt.r2l(Yn[0])||Bt.r2l(En[1])!==Bt.r2l(Yn[1]))&&(wn={yr0:En,yr1:Yn}),(an||wn)&&ke.push(w.extendFlat({plotinfo:Gt},an,wn))}}return Promise.resolve()},Se.runFn=function(Qe){var Ze,Xe=re._fullLayout._basePlotModules,ct=ke.length,pt;if(te)for(pt=0;pt<Xe.length;pt++)Xe[pt].transitionAxes&&Xe[pt].transitionAxes(re,ke,oe,Qe);ct?(Ze=w.extendFlat({},oe),Ze.duration=0,delete ce.cartesian):Ze=oe;for(var Ye in ce){var je=ce[Ye],et=re._fullData[je[0]]._module;et.basePlotModule.plot(re,je,Ze,Qe)}},Te(re,oe,Se)},B.transitionFromReact=function(re,be,te,se){var fe=re._fullLayout,oe=fe.transition,Se={},ce=[];return Se.prepareFn=function(){var ke=fe._plots;Se.redraw=!1,be.anim==="some"&&(Se.redraw=!0),te.anim==="some"&&(Se.redraw=!0);for(var Qe in ke){var Ze=ke[Qe],Xe=Ze.xaxis,ct=Ze.yaxis,pt=se[Xe._name].range.slice(),Ye=se[ct._name].range.slice(),je=Xe.range.slice(),et=ct.range.slice();Xe.setScale(),ct.setScale();var yt=null,ft=null;(Xe.r2l(pt[0])!==Xe.r2l(je[0])||Xe.r2l(pt[1])!==Xe.r2l(je[1]))&&(yt={xr0:pt,xr1:je}),(ct.r2l(Ye[0])!==ct.r2l(et[0])||ct.r2l(Ye[1])!==ct.r2l(et[1]))&&(ft={yr0:Ye,yr1:et}),(yt||ft)&&ce.push(w.extendFlat({plotinfo:Ze},yt,ft))}return Promise.resolve()},Se.runFn=function(ke){for(var Qe=re._fullData,Ze=re._fullLayout,Xe=Ze._basePlotModules,ct,pt,Ye,je=[],et=0;et<Qe.length;et++)je.push(et);function yt(){if(re._fullLayout)for(var tt=0;tt<Xe.length;tt++)Xe[tt].transitionAxes&&Xe[tt].transitionAxes(re,ce,ct,ke)}function ft(){if(re._fullLayout)for(var tt=0;tt<Xe.length;tt++)Xe[tt].plot(re,Ye,pt,ke)}ce.length&&be.anim?oe.ordering==="traces first"?(ct=w.extendFlat({},oe,{duration:0}),Ye=je,pt=oe,setTimeout(yt,oe.duration),ft()):(ct=oe,Ye=null,pt=w.extendFlat({},oe,{duration:0}),setTimeout(ft,ct.duration),yt()):ce.length?(ct=oe,yt()):be.anim&&(Ye=je,pt=oe,ft())},Te(re,oe,Se)};function Te(re,be,te){var se=!1;function fe(Xe){var ct=Promise.resolve();if(!Xe)return ct;for(;Xe.length;)ct=ct.then(Xe.shift());return ct}function oe(Xe){if(Xe)for(;Xe.length;)Xe.shift()}function Se(){return re.emit("plotly_transitioning",[]),new Promise(function(Xe){re._transitioning=!0,be.duration>0&&(re._transitioningWithDuration=!0),re._transitionData._interruptCallbacks.push(function(){se=!0}),te.redraw&&re._transitionData._interruptCallbacks.push(function(){return O.call("redraw",re)}),re._transitionData._interruptCallbacks.push(function(){re.emit("plotly_transitioninterrupted",[])});var ct=0,pt=0;function Ye(){return ct++,function(){pt++,!se&&pt===ct&&ce(Xe)}}te.runFn(Ye),setTimeout(Ye())})}function ce(Xe){if(re._transitionData)return oe(re._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(te.redraw)return O.call("redraw",re)}).then(function(){re._transitioning=!1,re._transitioningWithDuration=!1,re.emit("plotly_transitioned",[])}).then(Xe)}function ke(){if(re._transitionData)return re._transitioning=!1,fe(re._transitionData._interruptCallbacks)}var Qe=[B.previousPromises,ke,te.prepareFn,B.rehover,B.reselect,Se],Ze=w.syncOrAsync(Qe,re);return(!Ze||!Ze.then)&&(Ze=Promise.resolve()),Ze.then(function(){return re})}B.doCalcdata=function(re,be){var te=M.list(re),se=re._fullData,fe=re._fullLayout,oe,Se,ce,ke,Qe=new Array(se.length),Ze=(re.calcdata||[]).slice();for(re.calcdata=Qe,fe._numBoxes=0,fe._numViolins=0,fe._violinScaleGroupStats={},re._hmpixcount=0,re._hmlumcount=0,fe._piecolormap={},fe._sunburstcolormap={},fe._treemapcolormap={},fe._iciclecolormap={},fe._funnelareacolormap={},ce=0;ce<se.length;ce++)if(Array.isArray(be)&&be.indexOf(ce)===-1){Qe[ce]=Ze[ce];continue}for(ce=0;ce<se.length;ce++)oe=se[ce],oe._arrayAttrs=T.findArrayAttributes(oe),oe._extremes={};var Xe=fe._subplots.polar||[];for(ce=0;ce<Xe.length;ce++)te.push(fe[Xe[ce]].radialaxis,fe[Xe[ce]].angularaxis);for(var ct in fe._colorAxes){var pt=fe[ct];pt.cauto!==!1&&(delete pt.cmin,delete pt.cmax)}var Ye=!1;function je(ft){if(oe=se[ft],Se=oe._module,oe.visible===!0&&oe.transforms){if(Se&&Se.calc){var tt=Se.calc(re,oe);tt[0]&&tt[0].t&&tt[0].t._scene&&delete tt[0].t._scene.dirty}for(ke=0;ke<oe.transforms.length;ke++){var wt=oe.transforms[ke];Se=E[wt.type],Se&&Se.calcTransform&&(oe._hasCalcTransform=!0,Ye=!0,Se.calcTransform(re,oe,wt))}}}function et(ft,tt){if(oe=se[ft],Se=oe._module,!!Se.isContainer===tt){var wt=[];if(oe.visible===!0&&oe._length!==0){delete oe._indexToPoints;var Xt=oe.transforms||[];for(ke=Xt.length-1;ke>=0;ke--)if(Xt[ke].enabled){oe._indexToPoints=Xt[ke]._indexToPoints;break}Se&&Se.calc&&(wt=Se.calc(re,oe))}(!Array.isArray(wt)||!wt[0])&&(wt=[{x:_,y:_}]),wt[0].t||(wt[0].t={}),wt[0].trace=oe,Qe[ft]=wt}}for(_e(te,se,fe),ce=0;ce<se.length;ce++)et(ce,!0);for(ce=0;ce<se.length;ce++)je(ce);for(Ye&&_e(te,se,fe),ce=0;ce<se.length;ce++)et(ce,!0);for(ce=0;ce<se.length;ce++)et(ce,!1);Ie(re);var yt=Ve(te,re);if(yt.length){for(fe._numBoxes=0,fe._numViolins=0,ce=0;ce<yt.length;ce++)et(yt[ce],!0);for(ce=0;ce<yt.length;ce++)et(yt[ce],!1);Ie(re)}O.getComponentMethod("fx","calc")(re),O.getComponentMethod("errorbars","calc")(re)};var De=/(total|sum|min|max|mean|median) (ascending|descending)/;function Ve(re,be){var te=[],se,fe,oe,Se,ce;function ke(Un,Sn,lt){var ut=Sn._id.charAt(0);if(Un==="histogram2dcontour"){var xt=Sn._counterAxes[0],gt=M.getFromId(be,xt),Dt=ut==="x"||xt==="x"&&gt.type==="category",He=ut==="y"||xt==="y"&&gt.type==="category";return function(it,dt){return it===0||dt===0||Dt&&it===lt[dt].length-1||He&&dt===lt.length-1?-1:(ut==="y"?dt:it)-1}}else return function(it,dt){return ut==="y"?dt:it}}var Qe={min:function(Un){return w.aggNums(Math.min,null,Un)},max:function(Un){return w.aggNums(Math.max,null,Un)},sum:function(Un){return w.aggNums(function(Sn,lt){return Sn+lt},null,Un)},total:function(Un){return w.aggNums(function(Sn,lt){return Sn+lt},null,Un)},mean:function(Un){return w.mean(Un)},median:function(Un){return w.median(Un)}};for(se=0;se<re.length;se++){var Ze=re[se];if(Ze.type==="category"){var Xe=Ze.categoryorder.match(De);if(Xe){var ct=Xe[1],pt=Xe[2],Ye=Ze._id.charAt(0),je=Ye==="x",et=[];for(fe=0;fe<Ze._categories.length;fe++)et.push([Ze._categories[fe],[]]);for(fe=0;fe<Ze._traceIndices.length;fe++){var yt=Ze._traceIndices[fe],ft=be._fullData[yt];if(ft.visible===!0){var tt=ft.type;O.traceIs(ft,"histogram")&&(delete ft._xautoBinFinished,delete ft._yautoBinFinished);var wt=tt==="splom",Xt=tt==="scattergl",Gt=be.calcdata[yt];for(oe=0;oe<Gt.length;oe++){var Nt=Gt[oe],Bt,vn;if(wt){var En=ft._axesDim[Ze._id];if(!je){var ln=ft._diag[En][0];ln&&(Ze=be._fullLayout[M.id2name(ln)])}var Yn=Nt.trace.dimensions[En].values;for(Se=0;Se<Yn.length;Se++)for(Bt=Ze._categoriesMap[Yn[Se]],ce=0;ce<Nt.trace.dimensions.length;ce++)if(ce!==En){var an=Nt.trace.dimensions[ce];et[Bt][1].push(an.values[Se])}}else if(Xt){for(Se=0;Se<Nt.t.x.length;Se++)je?(Bt=Nt.t.x[Se],vn=Nt.t.y[Se]):(Bt=Nt.t.y[Se],vn=Nt.t.x[Se]),et[Bt][1].push(vn);Nt.t&&Nt.t._scene&&delete Nt.t._scene.dirty}else if(Nt.hasOwnProperty("z")){vn=Nt.z;var wn=ke(ft.type,Ze,vn);for(Se=0;Se<vn.length;Se++)for(ce=0;ce<vn[Se].length;ce++)Bt=wn(ce,Se),Bt+1&&et[Bt][1].push(vn[Se][ce])}else for(Bt=Nt.p,Bt===void 0&&(Bt=Nt[Ye]),vn=Nt.s,vn===void 0&&(vn=Nt.v),vn===void 0&&(vn=je?Nt.y:Nt.x),Array.isArray(vn)||(vn===void 0?vn=[]:vn=[vn]),Se=0;Se<vn.length;Se++)et[Bt][1].push(vn[Se])}}}Ze._categoriesValue=et;var Xn=[];for(fe=0;fe<et.length;fe++)Xn.push([et[fe][0],Qe[ct](et[fe][1])]);Xn.sort(function(Un,Sn){return Un[1]-Sn[1]}),Ze._categoriesAggregatedValue=Xn,Ze._initialCategories=Xn.map(function(Un){return Un[0]}),pt==="descending"&&Ze._initialCategories.reverse(),te=te.concat(Ze.sortByInitialCategories())}}}return te}function _e(re,be,te){var se={};function fe(ke){ke.clearCalc(),ke.type==="multicategory"&&ke.setupMultiCategory(be),se[ke._id]=1}w.simpleMap(re,fe);for(var oe=te._axisMatchGroups||[],Se=0;Se<oe.length;Se++)for(var ce in oe[Se])se[ce]||fe(te[M.id2name(ce)])}function Ie(re){var be=re._fullLayout,te=be._visibleModules,se={},fe,oe,Se;for(oe=0;oe<te.length;oe++){var ce=te[oe],ke=ce.crossTraceCalc;if(ke){var Qe=ce.basePlotModule.name;se[Qe]?w.pushUnique(se[Qe],ke):se[Qe]=[ke]}}for(Se in se){var Ze=se[Se],Xe=be._subplots[Se];if(Array.isArray(Xe))for(fe=0;fe<Xe.length;fe++){var ct=Xe[fe],pt=Se==="cartesian"?be._plots[ct]:be[ct];for(oe=0;oe<Ze.length;oe++)Ze[oe](re,pt,ct)}else for(oe=0;oe<Ze.length;oe++)Ze[oe](re)}}B.rehover=function(re){re._fullLayout._rehover&&re._fullLayout._rehover()},B.redrag=function(re){re._fullLayout._redrag&&re._fullLayout._redrag()},B.reselect=function(re){var be=re._fullLayout,te=(re.layout||{}).selections,se=be._previousSelections;be._previousSelections=te;var fe=be._reselect||JSON.stringify(te)!==JSON.stringify(se);O.getComponentMethod("selections","reselect")(re,fe)},B.generalUpdatePerTraceModule=function(re,be,te,se){var fe=be.traceHash,oe={},Se;for(Se=0;Se<te.length;Se++){var ce=te[Se],ke=ce[0].trace;ke.visible&&(oe[ke.type]=oe[ke.type]||[],oe[ke.type].push(ce))}for(var Qe in fe)if(!oe[Qe]){var Ze=fe[Qe][0],Xe=Ze[0].trace;Xe.visible=!1,oe[Qe]=[Ze]}for(var ct in oe){var pt=oe[ct],Ye=pt[0][0].trace._module;Ye.plot(re,be,w.filterVisible(pt),se)}be.traceHash=oe},B.plotBasePlot=function(re,be,te,se,fe){var oe=O.getModule(re),Se=z(be.calcdata,oe)[0];oe.plot(be,Se,se,fe)},B.cleanBasePlot=function(re,be,te,se,fe){var oe=fe._has&&fe._has(re),Se=te._has&&te._has(re);oe&&!Se&&fe["_"+re+"layer"].selectAll("g.trace").remove()}},5386:function(d,h,c){var g=c(1562);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function v(y){var b=y.description?" "+y.description:"",O=y.keys||[];if(O.length>0){for(var T=[],k=0;k<O.length;k++)T[k]="`"+O[k]+"`";b=b+"Finally, the template string has access to ",O.length===1?b=b+"variable "+T[0]:b=b+"variables "+T.slice(0,-1).join(", ")+" and "+T.slice(-1)+"."}return b}h.fF=function(y,b){y=y||{},b=b||{},v(b);var O={valType:"string",dflt:"",editType:y.editType||"none"};return y.arrayOk!==!1&&(O.arrayOk=!0),O},h.si=function(y,b){y=y||{},b=b||{},v(b);var O={valType:"string",dflt:"",editType:y.editType||"calc"};return y.arrayOk!==!1&&(O.arrayOk=!0),O},h.R=function(y,b){y=y||{},b=b||{},y.newshape,v(b);var O={valType:"string",dflt:"",editType:y.editType||"arraydraw"};return O}},3972:function(d,h,c){var g=c(7769),v=c(4213),y=c(5138),b=c(1965),O=c(4401).addStyleRule,T=c(1426),k=c(9012),w=c(820),C=T.extendFlat,_=T.extendDeepAll;h.modules={},h.allCategories={},h.allTypes=[],h.subplotsRegistry={},h.transformsRegistry={},h.componentsRegistry={},h.layoutArrayContainers=[],h.layoutArrayRegexes=[],h.traceLayoutAttributes={},h.localeRegistry={},h.apiMethodRegistry={},h.collectableSubplotTypes=null,h.register=function(X){if(h.collectableSubplotTypes=null,X)X&&!Array.isArray(X)&&(X=[X]);else throw new Error("No argument passed to Plotly.register.");for(var ie=0;ie<X.length;ie++){var L=X[ie];if(!L)throw new Error("Invalid module was attempted to be registered!");switch(L.moduleType){case"trace":M(L);break;case"transform":N(L);break;case"component":V(L);break;case"locale":Q(L);break;case"apiMethod":var me=L.name;h.apiMethodRegistry[me]=L.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},h.getModule=function(W){var X=h.modules[E(W)];return X?X._module:!1},h.traceIs=function(W,X){if(W=E(W),W==="various")return!1;var ie=h.modules[W];return ie||(W&&g.log("Unrecognized trace type "+W+"."),ie=h.modules[k.type.dflt]),!!ie.categories[X]},h.getTransformIndices=function(W,X){for(var ie=[],L=W.transforms||[],me=0;me<L.length;me++)L[me].type===X&&ie.push(me);return ie},h.hasTransform=function(W,X){for(var ie=W.transforms||[],L=0;L<ie.length;L++)if(ie[L].type===X)return!0;return!1},h.getComponentMethod=function(W,X){var ie=h.componentsRegistry[W];return ie&&ie[X]||v},h.call=function(){var W=arguments[0],X=[].slice.call(arguments,1);return h.apiMethodRegistry[W].apply(null,X)};function M(W){var X=W.name,ie=W.categories,L=W.meta;if(h.modules[X]){g.log("Type "+X+" already registered");return}h.subplotsRegistry[W.basePlotModule.name]||I(W.basePlotModule);for(var me={},ae=0;ae<ie.length;ae++)me[ie[ae]]=!0,h.allCategories[ie[ae]]=!0;h.modules[X]={_module:W,categories:me},L&&Object.keys(L).length&&(h.modules[X].meta=L),h.allTypes.push(X);for(var q in h.componentsRegistry)U(q,X);W.layoutAttributes&&C(h.traceLayoutAttributes,W.layoutAttributes);var de=W.basePlotModule,ee=de.name;if(ee==="mapbox"){var xe=de.constants.styleRules;for(var we in xe)O(".js-plotly-plot .plotly .mapboxgl-"+we,xe[we])}(ee==="geo"||ee==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function I(W){var X=W.name;if(h.subplotsRegistry[X]){g.log("Plot type "+X+" already registered.");return}z(W),h.subplotsRegistry[X]=W;for(var ie in h.componentsRegistry)B(ie,W.name)}function V(W){if(typeof W.name!="string")throw new Error("Component module *name* must be a string.");var X=W.name;h.componentsRegistry[X]=W,W.layoutAttributes&&(W.layoutAttributes._isLinkedToArray&&y(h.layoutArrayContainers,X),z(W));for(var ie in h.modules)U(X,ie);for(var L in h.subplotsRegistry)B(X,L);for(var me in h.transformsRegistry)F(X,me);W.schema&&W.schema.layout&&_(w,W.schema.layout)}function N(W){if(typeof W.name!="string")throw new Error("Transform module *name* must be a string.");var X="Transform module "+W.name,ie=typeof W.transform=="function",L=typeof W.calcTransform=="function";if(!ie&&!L)throw new Error(X+" is missing a *transform* or *calcTransform* method.");ie&&L&&g.log([X+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),b(W.attributes)||g.log(X+" registered without an *attributes* object."),typeof W.supplyDefaults!="function"&&g.log(X+" registered without a *supplyDefaults* method."),h.transformsRegistry[W.name]=W;for(var me in h.componentsRegistry)F(me,W.name)}function Q(W){var X=W.name,ie=X.split("-")[0],L=W.dictionary,me=W.format,ae=L&&Object.keys(L).length,q=me&&Object.keys(me).length,de=h.localeRegistry,ee=de[X];if(ee||(de[X]=ee={}),ie!==X){var xe=de[ie];xe||(de[ie]=xe={}),ae&&xe.dictionary===ee.dictionary&&(xe.dictionary=L),q&&xe.format===ee.format&&(xe.format=me)}ae&&(ee.dictionary=L),q&&(ee.format=me)}function z(W){if(W.layoutAttributes){var X=W.layoutAttributes._arrayAttrRegexps;if(X)for(var ie=0;ie<X.length;ie++)y(h.layoutArrayRegexes,X[ie])}}function U(W,X){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.traces)){var L=ie.traces[X];L&&_(h.modules[X]._module.attributes,L)}}function F(W,X){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.transforms)){var L=ie.transforms[X];L&&_(h.transformsRegistry[X].attributes,L)}}function B(W,X){var ie=h.componentsRegistry[W].schema;if(!(!ie||!ie.subplots)){var L=h.subplotsRegistry[X],me=L.layoutAttributes,ae=L.attr==="subplot"?L.name:L.attr;Array.isArray(ae)&&(ae=ae[0]);var q=ie.subplots[ae];me&&q&&_(me,q)}}function E(W){return typeof W=="object"&&(W=W.type),W}},1914:function(d,h,c){var g=c(3972),v=c(1828),y=v.extendFlat,b=v.extendDeep;function O(k){var w;switch(k){case"themes__thumb":w={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":w={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:w={}}return w}function T(k){var w=["xaxis","yaxis","zaxis"];return w.indexOf(k.slice(0,5))>-1}d.exports=function(w,C){var _,M=w.data,I=w.layout,V=b([],M),N=b({},I,O(C.tileClass)),Q=w._context||{};if(C.width&&(N.width=C.width),C.height&&(N.height=C.height),C.tileClass==="thumbnail"||C.tileClass==="themes__thumb"){N.annotations=[];var z=Object.keys(N);for(_=0;_<z.length;_++)T(z[_])&&(N[z[_]].title={text:""});for(_=0;_<V.length;_++){var U=V[_];U.showscale=!1,U.marker&&(U.marker.showscale=!1),g.traceIs(U,"pie-like")&&(U.textposition="none")}}if(Array.isArray(C.annotations))for(_=0;_<C.annotations.length;_++)N.annotations.push(C.annotations[_]);var F=Object.keys(N).filter(function(ie){return ie.match(/^scene\d*$/)});if(F.length){var B={};for(C.tileClass==="thumbnail"&&(B={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),_=0;_<F.length;_++){var E=N[F[_]];E.xaxis||(E.xaxis={}),E.yaxis||(E.yaxis={}),E.zaxis||(E.zaxis={}),y(E.xaxis,B),y(E.yaxis,B),y(E.zaxis,B),E._scene=null}}var W=document.createElement("div");C.tileClass&&(W.className=C.tileClass);var X={gd:W,td:W,layout:N,data:V,config:{staticPlot:C.staticPlot===void 0?!0:C.staticPlot,plotGlPixelRatio:C.plotGlPixelRatio===void 0?2:C.plotGlPixelRatio,displaylogo:C.displaylogo||!1,showLink:C.showLink||!1,showTips:C.showTips||!1,mapboxAccessToken:Q.mapboxAccessToken}};return C.setBackground!=="transparent"&&(X.config.setBackground=C.setBackground||"opaque"),X.gd.defaultLayout=O(C.tileClass),X}},7239:function(d,h,c){var g=c(1828),v=c(403),y=c(2435),b=c(5095);function O(T,k){var w;return g.isPlainObject(T)||(w=g.getGraphDiv(T)),k=k||{},k.format=k.format||"png",k.width=k.width||null,k.height=k.height||null,k.imageDataOnly=!0,new Promise(function(C,_){w&&w._snapshotInProgress&&_(new Error("Snapshotting already in progress.")),g.isIE()&&k.format!=="svg"&&_(new Error(b.MSG_IE_BAD_FORMAT)),w&&(w._snapshotInProgress=!0);var M=v(T,k),I=k.filename||T.fn||"newplot";I+="."+k.format.replace("-","."),M.then(function(V){return w&&(w._snapshotInProgress=!1),y(V,I,k.format)}).then(function(V){C(V)}).catch(function(V){w&&(w._snapshotInProgress=!1),_(V)})})}d.exports=O},2435:function(d,h,c){var g=c(1828),v=c(5095);function y(b,O,T){var k=document.createElement("a"),w="download"in k,C=new Promise(function(_,M){var I,V;if(g.isIE())return I=v.createBlob(b,"svg"),window.navigator.msSaveBlob(I,O),I=null,_(O);if(w)return I=v.createBlob(b,T),V=v.createObjectURL(I),k.href=V,k.download=O,document.body.appendChild(k),k.click(),document.body.removeChild(k),v.revokeObjectURL(V),I=null,_(O);if(g.isSafari()){var N=T==="svg"?",":";base64,";return v.octetStream(N+encodeURIComponent(b)),_(O)}M(new Error("download error"))});return C}d.exports=y},5095:function(d,h,c){var g=c(3972);h.getDelay=function(b){return b._has&&(b._has("gl3d")||b._has("gl2d")||b._has("mapbox"))?500:0},h.getRedrawFunc=function(b){return function(){g.getComponentMethod("colorbar","draw")(b)}},h.encodeSVG=function(b){return"data:image/svg+xml,"+encodeURIComponent(b)},h.encodeJSON=function(b){return"data:application/json,"+encodeURIComponent(b)};var v=window.URL||window.webkitURL;h.createObjectURL=function(b){return v.createObjectURL(b)},h.revokeObjectURL=function(b){return v.revokeObjectURL(b)},h.createBlob=function(b,O){if(O==="svg")return new window.Blob([b],{type:"image/svg+xml;charset=utf-8"});if(O==="full-json")return new window.Blob([b],{type:"application/json;charset=utf-8"});var T=y(window.atob(b));return new window.Blob([T],{type:"image/"+O})},h.octetStream=function(b){document.location.href="data:application/octet-stream"+b};function y(b){for(var O=b.length,T=new ArrayBuffer(O),k=new Uint8Array(T),w=0;w<O;w++)k[w]=b.charCodeAt(w);return T}h.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,h.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(d,h,c){var g=c(5095),v={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:c(1914),toSVG:c(5900),svgToImg:c(942),toImage:c(6395),downloadImage:c(7239)};d.exports=v},942:function(d,h,c){var g=c(1828),v=c(5398).EventEmitter,y=c(5095);function b(O){var T=O.emitter||new v,k=new Promise(function(w,C){var _=window.Image,M=O.svg,I=O.format||"png";if(g.isIE()&&I!=="svg"){var V=new Error(y.MSG_IE_BAD_FORMAT);return C(V),O.promise?k:T.emit("error",V)}var N=O.canvas,Q=O.scale||1,z=O.width||300,U=O.height||150,F=Q*z,B=Q*U,E=N.getContext("2d",{willReadFrequently:!0}),W=new _,X,ie;I==="svg"||g.isSafari()?ie=y.encodeSVG(M):(X=y.createBlob(M,"svg"),ie=y.createObjectURL(X)),N.width=F,N.height=B,W.onload=function(){var L;switch(X=null,y.revokeObjectURL(ie),I!=="svg"&&E.drawImage(W,0,0,F,B),I){case"jpeg":L=N.toDataURL("image/jpeg");break;case"png":L=N.toDataURL("image/png");break;case"webp":L=N.toDataURL("image/webp");break;case"svg":L=ie;break;default:var me="Image format is not jpeg, png, svg or webp.";if(C(new Error(me)),!O.promise)return T.emit("error",me)}w(L),O.promise||T.emit("success",L)},W.onerror=function(L){if(X=null,y.revokeObjectURL(ie),C(L),!O.promise)return T.emit("error",L)},W.src=ie});return O.promise?k:T}d.exports=b},6395:function(d,h,c){var g=c(5398).EventEmitter,v=c(3972),y=c(1828),b=c(5095),O=c(1914),T=c(5900),k=c(942);function w(C,_){var M=new g,I=O(C,{format:"png"}),V=I.gd;V.style.position="absolute",V.style.left="-5000px",document.body.appendChild(V);function N(){var z=b.getDelay(V._fullLayout);setTimeout(function(){var U=T(V),F=document.createElement("canvas");F.id=y.randstr(),M=k({format:_.format,width:V._fullLayout.width,height:V._fullLayout.height,canvas:F,emitter:M,svg:U}),M.clean=function(){V&&document.body.removeChild(V)}},z)}var Q=b.getRedrawFunc(V);return v.call("_doPlot",V,I.data,I.layout,I.config).then(Q).then(N).catch(function(z){M.emit("error",z)}),M}d.exports=w},5900:function(d,h,c){var g=c(9898),v=c(1828),y=c(1424),b=c(7901),O=c(7922),T=/"/g,k="TOBESTRIPPED",w=new RegExp('("'+k+")|("+k+'")',"g");function C(M){var I=g.select("body").append("div").style({display:"none"}).html(""),V=M.replace(/(&[^;]*;)/gi,function(N){return N==="&lt;"?"&#60;":N==="&rt;"?"&#62;":N.indexOf("<")!==-1||N.indexOf(">")!==-1?"":I.html(N).text()});return I.remove(),V}function _(M){return M.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}d.exports=function(I,V,N){var Q=I._fullLayout,z=Q._paper,U=Q._toppaper,F=Q.width,B=Q.height,E;z.insert("rect",":first-child").call(y.setRect,0,0,F,B).call(b.fill,Q.paper_bgcolor);var W=Q._basePlotModules||[];for(E=0;E<W.length;E++){var X=W[E];X.toSVG&&X.toSVG(I)}if(U){var ie=U.node().childNodes,L=Array.prototype.slice.call(ie);for(E=0;E<L.length;E++){var me=L[E];me.childNodes.length&&z.node().appendChild(me)}}Q._draggers&&Q._draggers.remove(),z.node().style.background="",z.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var q=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){q.remove();return}else q.style({visibility:null,display:null});var de=this.style.fontFamily;de&&de.indexOf('"')!==-1&&q.style("font-family",de.replace(T,k))}),z.selectAll(".gradient_filled,.pattern_filled").each(function(){var q=g.select(this),de=this.style.fill;de&&de.indexOf("url(")!==-1&&q.style("fill",de.replace(T,k));var ee=this.style.stroke;ee&&ee.indexOf("url(")!==-1&&q.style("stroke",ee.replace(T,k))}),(V==="pdf"||V==="eps")&&z.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),z.node().setAttributeNS(O.xmlns,"xmlns",O.svg),z.node().setAttributeNS(O.xmlns,"xmlns:xlink",O.xlink),V==="svg"&&N&&(z.attr("width",N*F),z.attr("height",N*B),z.attr("viewBox","0 0 "+F+" "+B));var ae=new window.XMLSerializer().serializeToString(z.node());return ae=C(ae),ae=_(ae),ae=ae.replace(w,"'"),v.isIE()&&(ae=ae.replace(/"/gi,"'"),ae=ae.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),ae=ae.replace(/(\\')/gi,'"')),ae}},5341:function(d,h,c){var g=c(1828);d.exports=function(y,b){for(var O=0;O<y.length;O++)y[O].i=O;g.mergeArray(b.text,y,"tx"),g.mergeArray(b.hovertext,y,"htx");var T=b.marker;if(T){g.mergeArray(T.opacity,y,"mo",!0),g.mergeArray(T.color,y,"mc");var k=T.line;k&&(g.mergeArray(k.color,y,"mlc"),g.mergeArrayCastPositive(k.width,y,"mlw"))}}},1486:function(d,h,c){var g=c(2196),v=c(2663).axisHoverFormat,y=c(5386).fF,b=c(5386).si,O=c(693),T=c(1940),k=c(7313),w=c(9952).u,C=c(1426).extendFlat,_=T({editType:"calc",arrayOk:!0,colorEditType:"style"}),M=g.marker,I=M.line,V=C({},I.width,{dflt:0}),N=C({width:V,editType:"calc"},O("marker.line")),Q=C({line:N,editType:"calc"},O("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:w});d.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:v("x"),yhoverformat:v("y"),text:g.text,texttemplate:b({editType:"plot"},{keys:k.eventDataKeys}),hovertext:g.hovertext,hovertemplate:y({},{keys:k.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:C({},_,{}),insidetextfont:C({},_,{}),outsidetextfont:C({},_,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:C({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:Q,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(d,h,c){var g=c(9298),v=c(2973),y=c(2869).hasColorscale,b=c(8803),O=c(5341),T=c(6279);d.exports=function(w,C){var _=g.getFromId(w,C.xaxis||"x"),M=g.getFromId(w,C.yaxis||"y"),I,V,N,Q,z,U,F={msUTC:!!(C.base||C.base===0)};C.orientation==="h"?(I=_.makeCalcdata(C,"x",F),N=M.makeCalcdata(C,"y"),Q=v(C,M,"y",N),z=!!C.yperiodalignment,U="y"):(I=M.makeCalcdata(C,"y",F),N=_.makeCalcdata(C,"x"),Q=v(C,_,"x",N),z=!!C.xperiodalignment,U="x"),V=Q.vals;for(var B=Math.min(V.length,I.length),E=new Array(B),W=0;W<B;W++)E[W]={p:V[W],s:I[W]},z&&(E[W].orig_p=N[W],E[W][U+"End"]=Q.ends[W],E[W][U+"Start"]=Q.starts[W]),C.ids&&(E[W].id=String(C.ids[W]));return y(C,"marker")&&b(w,C,{vals:C.marker.color,containerStr:"marker",cLetter:"c"}),y(C,"marker.line")&&b(w,C,{vals:C.marker.line.color,containerStr:"marker.line",cLetter:"c"}),O(E,C),T(E,C),E}},7313:function(d){d.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(d,h,c){var g=c(2770),v=c(1828).isArrayOrTypedArray,y=c(606).BADNUM,b=c(3972),O=c(9298),T=c(9082).getAxisGroup,k=c(1546);function w(ae,q){for(var de=q.xaxis,ee=q.yaxis,xe=ae._fullLayout,we=ae._fullData,Be=ae.calcdata,pe=[],ne=[],le=0;le<we.length;le++){var Y=we[le];if(Y.visible===!0&&b.traceIs(Y,"bar")&&Y.xaxis===de._id&&Y.yaxis===ee._id&&(Y.orientation==="h"?pe.push(Be[le]):ne.push(Be[le]),Y._computePh))for(var ve=ae.calcdata[le],Oe=0;Oe<ve.length;Oe++)typeof ve[Oe].ph0=="function"&&(ve[Oe].ph0=ve[Oe].ph0()),typeof ve[Oe].ph1=="function"&&(ve[Oe].ph1=ve[Oe].ph1())}var Le={xCat:de.type==="category"||de.type==="multicategory",yCat:ee.type==="category"||ee.type==="multicategory",mode:xe.barmode,norm:xe.barnorm,gap:xe.bargap,groupgap:xe.bargroupgap};C(ae,de,ee,ne,Le),C(ae,ee,de,pe,Le)}function C(ae,q,de,ee,xe){if(ee.length){var we,Be,pe,ne,le;switch(_(de,ee),xe.mode){case"overlay":M(q,de,ee,xe);break;case"group":for(we=[],Be=[],pe=0;pe<ee.length;pe++)ne=ee[pe],le=ne[0].trace,le.offset===void 0?Be.push(ne):we.push(ne);Be.length&&I(ae,q,de,Be,xe),we.length&&M(q,de,we,xe);break;case"stack":case"relative":for(we=[],Be=[],pe=0;pe<ee.length;pe++)ne=ee[pe],le=ne[0].trace,le.base===void 0?Be.push(ne):we.push(ne);Be.length&&V(ae,q,de,Be,xe),we.length&&M(q,de,we,xe);break}L(ee,q)}}function _(ae,q){var de,ee;for(de=0;de<q.length;de++){var xe=q[de],we=xe[0].trace,Be=we.type==="funnel"?we._base:we.base,pe,ne=we.orientation==="h"?we.xcalendar:we.ycalendar,le=ae.type==="category"||ae.type==="multicategory"?function(){return null}:ae.d2c;if(v(Be)){for(ee=0;ee<Math.min(Be.length,xe.length);ee++)pe=le(Be[ee],0,ne),g(pe)?(xe[ee].b=+pe,xe[ee].hasB=1):xe[ee].b=0;for(;ee<xe.length;ee++)xe[ee].b=0}else{pe=le(Be,0,ne);var Y=g(pe);for(pe=Y?pe:0,ee=0;ee<xe.length;ee++)xe[ee].b=pe,Y&&(xe[ee].hasB=1)}}}function M(ae,q,de,ee){for(var xe=0;xe<de.length;xe++){var we=de[xe],Be=new k([we],{posAxis:ae,sepNegVal:!1,overlapNoMerge:!ee.norm});N(ae,Be,ee),ee.norm?(W(Be),ie(q,Be,ee)):B(q,Be)}}function I(ae,q,de,ee,xe){var we=new k(ee,{posAxis:q,sepNegVal:!1,overlapNoMerge:!xe.norm});Q(ae,q,we,xe),X(we,q),xe.norm?(W(we),ie(de,we,xe)):B(de,we)}function V(ae,q,de,ee,xe){var we=new k(ee,{posAxis:q,sepNegVal:xe.mode==="relative",overlapNoMerge:!(xe.norm||xe.mode==="stack"||xe.mode==="relative")});N(q,we,xe),E(de,we,xe);for(var Be=0;Be<ee.length;Be++)for(var pe=ee[Be],ne=0;ne<pe.length;ne++){var le=pe[ne];if(le.s!==y){var Y=le.b+le.s===we.get(le.p,le.s);Y&&(le._outmost=!0)}}xe.norm&&ie(de,we,xe)}function N(ae,q,de){for(var ee=q.minDiff,xe=q.traces,we=ee*(1-de.gap),Be=we,pe=Be*(1-(de.groupgap||0)),ne=-pe/2,le=0;le<xe.length;le++){var Y=xe[le],ve=Y[0].t;ve.barwidth=pe,ve.poffset=ne,ve.bargroupwidth=we,ve.bardelta=ee}q.binWidth=xe[0][0].t.barwidth/100,z(q),U(ae,q),F(ae,q)}function Q(ae,q,de,ee){for(var xe=ae._fullLayout,we=de.positions,Be=de.distinctPositions,pe=de.minDiff,ne=de.traces,le=ne.length,Y=we.length!==Be.length,ve=pe*(1-ee.gap),Oe=T(xe,q._id)+ne[0][0].trace.orientation,Le=xe._alignmentOpts[Oe]||{},Te=0;Te<le;Te++){var De=ne[Te],Ve=De[0].trace,_e=Le[Ve.alignmentgroup]||{},Ie=Object.keys(_e.offsetGroups||{}).length,re;Ie?re=ve/Ie:re=Y?ve/le:ve;var be=re*(1-(ee.groupgap||0)),te;Ie?te=((2*Ve._offsetIndex+1-Ie)*re-be)/2:te=Y?((2*Te+1-le)*re-be)/2:-be/2;var se=De[0].t;se.barwidth=be,se.poffset=te,se.bargroupwidth=ve,se.bardelta=pe}de.binWidth=ne[0][0].t.barwidth/100,z(de),U(q,de),F(q,de,Y)}function z(ae){var q=ae.traces,de,ee;for(de=0;de<q.length;de++){var xe=q[de],we=xe[0],Be=we.trace,pe=we.t,ne=Be._offset||Be.offset,le=pe.poffset,Y;if(v(ne)){for(Y=Array.prototype.slice.call(ne,0,xe.length),ee=0;ee<Y.length;ee++)g(Y[ee])||(Y[ee]=le);for(ee=Y.length;ee<xe.length;ee++)Y.push(le);pe.poffset=Y}else ne!==void 0&&(pe.poffset=ne);var ve=Be._width||Be.width,Oe=pe.barwidth;if(v(ve)){var Le=Array.prototype.slice.call(ve,0,xe.length);for(ee=0;ee<Le.length;ee++)g(Le[ee])||(Le[ee]=Oe);for(ee=Le.length;ee<xe.length;ee++)Le.push(Oe);if(pe.barwidth=Le,ne===void 0){for(Y=[],ee=0;ee<xe.length;ee++)Y.push(le+(Oe-Le[ee])/2);pe.poffset=Y}}else ve!==void 0&&(pe.barwidth=ve,ne===void 0&&(pe.poffset=le+(Oe-ve)/2))}}function U(ae,q){for(var de=q.traces,ee=me(ae),xe=0;xe<de.length;xe++)for(var we=de[xe],Be=we[0].t,pe=Be.poffset,ne=Array.isArray(pe),le=Be.barwidth,Y=Array.isArray(le),ve=0;ve<we.length;ve++){var Oe=we[ve],Le=Oe.w=Y?le[ve]:le;Oe.p===void 0&&(Oe.p=Oe[ee],Oe["orig_"+ee]=Oe[ee]);var Te=(ne?pe[ve]:pe)+Le/2;Oe[ee]=Oe.p+Te}}function F(ae,q,de){var ee=q.traces,xe=q.minDiff,we=xe/2;O.minDtick(ae,q.minDiff,q.distinctPositions[0],de);for(var Be=0;Be<ee.length;Be++){var pe=ee[Be],ne=pe[0],le=ne.trace,Y=[],ve,Oe,Le,Te;for(Te=0;Te<pe.length;Te++)ve=pe[Te],Oe=ve.p-we,Le=ve.p+we,Y.push(Oe,Le);if(le.width||le.offset){var De=ne.t,Ve=De.poffset,_e=De.barwidth,Ie=Array.isArray(Ve),re=Array.isArray(_e);for(Te=0;Te<pe.length;Te++){ve=pe[Te];var be=Ie?Ve[Te]:Ve,te=re?_e[Te]:_e;Oe=ve.p+be,Le=Oe+te,Y.push(Oe,Le)}}le._extremes[ae._id]=O.findExtremes(ae,Y,{padded:!1})}}function B(ae,q){for(var de=q.traces,ee=me(ae),xe=0;xe<de.length;xe++){for(var we=de[xe],Be=we[0].trace,pe=Be.type==="scatter",ne=Be.orientation==="v",le=[],Y=!1,ve=0;ve<we.length;ve++){var Oe=we[ve],Le=pe?0:Oe.b,Te=pe?ne?Oe.y:Oe.x:Le+Oe.s;Oe[ee]=Te,le.push(Te),Oe.hasB&&le.push(Le),(!Oe.hasB||!Oe.b)&&(Y=!0)}Be._extremes[ae._id]=O.findExtremes(ae,le,{tozero:Y,padded:!0})}}function E(ae,q,de){var ee=me(ae),xe=q.traces,we,Be,pe,ne,le,Y;for(ne=0;ne<xe.length;ne++)if(we=xe[ne],Be=we[0].trace,Be.type==="funnel")for(le=0;le<we.length;le++)Y=we[le],Y.s!==y&&q.put(Y.p,-.5*Y.s);for(ne=0;ne<xe.length;ne++){we=xe[ne],Be=we[0].trace,pe=Be.type==="funnel";var ve=[];for(le=0;le<we.length;le++)if(Y=we[le],Y.s!==y){var Oe;pe?Oe=Y.s:Oe=Y.s+Y.b;var Le=q.put(Y.p,Oe),Te=Le+Oe;Y.b=Le,Y[ee]=Te,de.norm||(ve.push(Te),Y.hasB&&ve.push(Le))}de.norm||(Be._extremes[ae._id]=O.findExtremes(ae,ve,{tozero:!0,padded:!0}))}}function W(ae){for(var q=ae.traces,de=0;de<q.length;de++)for(var ee=q[de],xe=0;xe<ee.length;xe++){var we=ee[xe];we.s!==y&&ae.put(we.p,we.b+we.s)}}function X(ae,q){for(var de=ae.traces,ee=0;ee<de.length;ee++){var xe=de[ee],we=xe[0].trace;if(we.base===void 0)for(var Be=new k([xe],{posAxis:q,sepNegVal:!0,overlapNoMerge:!0}),pe=0;pe<xe.length;pe++){var ne=xe[pe];if(ne.p!==y){var le=Be.put(ne.p,ne.b+ne.s);le&&(ne.b=le)}}}}function ie(ae,q,de){var ee=q.traces,xe=me(ae),we=de.norm==="fraction"?1:100,Be=we/1e9,pe=ae.l2c(ae.c2l(0)),ne=de.mode==="stack"?we:pe;function le(te){return g(ae.c2l(te))&&(te<pe-Be||te>ne+Be||!g(pe))}for(var Y=0;Y<ee.length;Y++){for(var ve=ee[Y],Oe=ve[0].trace,Le=[],Te=!1,De=!1,Ve=0;Ve<ve.length;Ve++){var _e=ve[Ve];if(_e.s!==y){var Ie=Math.abs(we/q.get(_e.p,_e.s));_e.b*=Ie,_e.s*=Ie;var re=_e.b,be=re+_e.s;_e[xe]=be,Le.push(be),De=De||le(be),_e.hasB&&(Le.push(re),De=De||le(re)),(!_e.hasB||!_e.b)&&(Te=!0)}}Oe._extremes[ae._id]=O.findExtremes(ae,Le,{tozero:Te,padded:De})}}function L(ae,q){var de=me(q),ee={},xe,we,Be,pe=1/0,ne=-1/0;for(xe=0;xe<ae.length;xe++)for(Be=ae[xe],we=0;we<Be.length;we++){var le=Be[we].p;g(le)&&(pe=Math.min(pe,le),ne=Math.max(ne,le))}var Y=1e4/(ne-pe),ve=ee.round=function(Ie){return String(Math.round(Y*(Ie-pe)))};for(xe=0;xe<ae.length;xe++){Be=ae[xe],Be[0].t.extents=ee;var Oe=Be[0].t.poffset,Le=Array.isArray(Oe);for(we=0;we<Be.length;we++){var Te=Be[we],De=Te[de]-Te.w/2;if(g(De)){var Ve=Te[de]+Te.w/2,_e=ve(Te.p);ee[_e]?ee[_e]=[Math.min(De,ee[_e][0]),Math.max(Ve,ee[_e][1])]:ee[_e]=[De,Ve]}Te.p0=Te.p+(Le?Oe[we]:Oe),Te.p1=Te.p0+Te.w,Te.s0=Te.b,Te.s1=Te.s0+Te.s}}}function me(ae){return ae._id.charAt(0)}d.exports={crossTraceCalc:w,setGroupPositions:C}},769:function(d,h,c){var g=c(1828),v=c(7901),y=c(3972),b=c(7513),O=c(3927),T=c(8340),k=c(6125),w=c(1486),C=g.coerceFont;function _(V,N,Q,z){function U(X,ie){return g.coerce(V,N,w,X,ie)}var F=b(V,N,z,U);if(!F){N.visible=!1;return}O(V,N,z,U),U("xhoverformat"),U("yhoverformat"),U("orientation",N.x&&!N.y?"h":"v"),U("base"),U("offset"),U("width"),U("text"),U("hovertext"),U("hovertemplate");var B=U("textposition");I(V,N,z,U,B,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),T(V,N,U,Q,z);var E=(N.marker.line||{}).color,W=y.getComponentMethod("errorbars","supplyDefaults");W(V,N,E||v.defaultLine,{axis:"y"}),W(V,N,E||v.defaultLine,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(N,U)}function M(V,N){var Q,z;function U(B){return g.coerce(z._input,z,w,B)}if(N.barmode==="group")for(var F=0;F<V.length;F++)z=V[F],z.type==="bar"&&(Q=z._input,k(Q,z,N,U))}function I(V,N,Q,z,U,F){F=F||{};var B=F.moduleHasSelected!==!1,E=F.moduleHasUnselected!==!1,W=F.moduleHasConstrain!==!1,X=F.moduleHasCliponaxis!==!1,ie=F.moduleHasTextangle!==!1,L=F.moduleHasInsideanchor!==!1,me=!!F.hasPathbar,ae=Array.isArray(U)||U==="auto",q=ae||U==="inside",de=ae||U==="outside";if(q||de){var ee=C(z,"textfont",Q.font),xe=g.extendFlat({},ee),we=V.textfont&&V.textfont.color,Be=!we;if(Be&&delete xe.color,C(z,"insidetextfont",xe),me){var pe=g.extendFlat({},ee);Be&&delete pe.color,C(z,"pathbar.textfont",pe)}de&&C(z,"outsidetextfont",ee),B&&z("selected.textfont.color"),E&&z("unselected.textfont.color"),W&&z("constraintext"),X&&z("cliponaxis"),ie&&z("textangle"),z("texttemplate")}q&&L&&z("insidetextanchor")}d.exports={supplyDefaults:_,crossTraceDefaults:M,handleText:I}},8065:function(d){d.exports=function(c,g,v){return c.x="xVal"in g?g.xVal:g.x,c.y="yVal"in g?g.yVal:g.y,g.xa&&(c.xaxis=g.xa),g.ya&&(c.yaxis=g.ya),v.orientation==="h"?(c.label=c.y,c.value=c.x):(c.label=c.x,c.value=c.y),c}},9383:function(d,h,c){var g=c(2770),v=c(4267),y=c(1828).isArrayOrTypedArray;h.coerceString=function(b,O,T){if(typeof O=="string"){if(O||!b.noBlank)return O}else if((typeof O=="number"||O===!0)&&!b.strict)return String(O);return T!==void 0?T:b.dflt},h.coerceNumber=function(b,O,T){if(g(O)){O=+O;var k=b.min,w=b.max,C=k!==void 0&&O<k||w!==void 0&&O>w;if(!C)return O}return T!==void 0?T:b.dflt},h.coerceColor=function(b,O,T){return v(O).isValid()?O:T!==void 0?T:b.dflt},h.coerceEnumerated=function(b,O,T){return b.coerceNumber&&(O=+O),b.values.indexOf(O)!==-1?O:T!==void 0?T:b.dflt},h.getValue=function(b,O){var T;return Array.isArray(b)?O<b.length&&(T=b[O]):T=b,T},h.getLineWidth=function(b,O){var T=0<O.mlw?O.mlw:y(b.marker.line.width)?0:b.marker.line.width;return T}},5423:function(d,h,c){var g=c(211),v=c(3972),y=c(7901),b=c(1828).fillText,O=c(9383).getLineWidth,T=c(9298).hoverLabelText,k=c(606).BADNUM;function w(M,I,V,N,Q){var z=C(M,I,V,N,Q);if(z){var U=z.cd,F=U[0].trace,B=U[z.index];return z.color=_(F,B),v.getComponentMethod("errorbars","hoverInfo")(B,F,z),[z]}}function C(M,I,V,N,Q){var z=M.cd,U=z[0].trace,F=z[0].t,B=N==="closest",E=U.type==="waterfall",W=M.maxHoverDistance,X=M.maxSpikeDistance,ie,L,me,ae,q,de,ee;U.orientation==="h"?(ie=V,L=I,me="y",ae="x",q=Ve,de=Le):(ie=I,L=V,me="x",ae="y",de=Ve,q=Le);var xe=U[me+"period"],we=B||xe;function Be(ke){return ne(ke,-1)}function pe(ke){return ne(ke,1)}function ne(ke,Qe){var Ze=ke.w;return ke[me]+Qe*Ze/2}function le(ke){return ke[me+"End"]-ke[me+"Start"]}var Y=B?Be:xe?function(ke){return ke.p-le(ke)/2}:function(ke){return Math.min(Be(ke),ke.p-F.bardelta/2)},ve=B?pe:xe?function(ke){return ke.p+le(ke)/2}:function(ke){return Math.max(pe(ke),ke.p+F.bardelta/2)};function Oe(ke,Qe,Ze){return Q.finiteRange&&(Ze=0),g.inbox(ke-ie,Qe-ie,Ze+Math.min(1,Math.abs(Qe-ke)/ee)-1)}function Le(ke){return Oe(Y(ke),ve(ke),W)}function Te(ke){return Oe(Be(ke),pe(ke),X)}function De(ke){var Qe=ke[ae];if(E){var Ze=Math.abs(ke.rawS)||0;L>0?Qe+=Ze:L<0&&(Qe-=Ze)}return Qe}function Ve(ke){var Qe=L,Ze=ke.b,Xe=De(ke);return g.inbox(Ze-Qe,Xe-Qe,W+(Xe-Qe)/(Xe-Ze)-1)}function _e(ke){var Qe=L,Ze=ke.b,Xe=De(ke);return g.inbox(Ze-Qe,Xe-Qe,X+(Xe-Qe)/(Xe-Ze)-1)}var Ie=M[me+"a"],re=M[ae+"a"];ee=Math.abs(Ie.r2c(Ie.range[1])-Ie.r2c(Ie.range[0]));function be(ke){return(q(ke)+de(ke))/2}var te=g.getDistanceFunction(N,q,de,be);if(g.getClosest(z,te,M),M.index!==!1&&z[M.index].p!==k){we||(Y=function(ke){return Math.min(Be(ke),ke.p-F.bargroupwidth/2)},ve=function(ke){return Math.max(pe(ke),ke.p+F.bargroupwidth/2)});var se=M.index,fe=z[se],oe=U.base?fe.b+fe.s:fe.s;M[ae+"0"]=M[ae+"1"]=re.c2p(fe[ae],!0),M[ae+"LabelVal"]=oe;var Se=F.extents[F.extents.round(fe.p)];M[me+"0"]=Ie.c2p(B?Y(fe):Se[0],!0),M[me+"1"]=Ie.c2p(B?ve(fe):Se[1],!0);var ce=fe.orig_p!==void 0;return M[me+"LabelVal"]=ce?fe.orig_p:fe.p,M.labelLabel=T(Ie,M[me+"LabelVal"],U[me+"hoverformat"]),M.valueLabel=T(re,M[ae+"LabelVal"],U[ae+"hoverformat"]),M.baseLabel=T(re,fe.b,U[ae+"hoverformat"]),M.spikeDistance=(_e(fe)+Te(fe))/2,M[me+"Spike"]=Ie.c2p(fe.p,!0),b(fe,U,M),M.hovertemplate=U.hovertemplate,M}}function _(M,I){var V=I.mcc||M.marker.color,N=I.mlcc||M.marker.line.color,Q=O(M,I);if(y.opacity(V))return V;if(y.opacity(N)&&Q)return N}d.exports={hoverPoints:w,hoverOnBars:C,getTraceColor:_}},822:function(d,h,c){d.exports={attributes:c(1486),layoutAttributes:c(3641),supplyDefaults:c(769).supplyDefaults,crossTraceDefaults:c(769).crossTraceDefaults,supplyLayoutDefaults:c(3957),calc:c(2290),crossTraceCalc:c(1661).crossTraceCalc,colorbar:c(4898),arraysToCalcdata:c(5341),plot:c(7295).plot,style:c(6688).style,styleOnSelect:c(6688).styleOnSelect,hoverPoints:c(5423).hoverPoints,eventData:c(8065),selectPoints:c(1974),moduleType:"trace",name:"bar",basePlotModule:c(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(d){d.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(d,h,c){var g=c(3972),v=c(9298),y=c(1828),b=c(3641);d.exports=function(O,T,k){function w(F,B){return y.coerce(O,T,b,F,B)}for(var C=!1,_=!1,M=!1,I={},V=w("barmode"),N=0;N<k.length;N++){var Q=k[N];if(g.traceIs(Q,"bar")&&Q.visible)C=!0;else continue;if(V==="group"){var z=Q.xaxis+Q.yaxis;I[z]&&(M=!0),I[z]=!0}if(Q.visible&&Q.type==="histogram"){var U=v.getFromId({_fullLayout:T},Q[Q.orientation==="v"?"xaxis":"yaxis"]);U.type!=="category"&&(_=!0)}}if(!C){delete T.barmode;return}V!=="overlay"&&w("barnorm"),w("bargap",_&&!M?0:.2),w("bargroupgap")}},7295:function(d,h,c){var g=c(9898),v=c(2770),y=c(1828),b=c(3893),O=c(7901),T=c(1424),k=c(3972),w=c(9298).tickText,C=c(2597),_=C.recordMinTextSize,M=C.clearMinTextSize,I=c(6688),V=c(9383),N=c(7313),Q=c(1486),z=Q.text,U=Q.textposition,F=c(3469).appendArrayPointValue,B=N.TEXTPAD;function E(Y){return Y.id}function W(Y){if(Y.ids)return E}function X(Y,ve){return Y<ve?1:-1}function ie(Y,ve,Oe,Le){var Te=[],De=[],Ve=Le?ve:Oe,_e=Le?Oe:ve;return Te[0]=Ve.c2p(Y.s0,!0),De[0]=_e.c2p(Y.p0,!0),Te[1]=Ve.c2p(Y.s1,!0),De[1]=_e.c2p(Y.p1,!0),Le?[Te,De]:[De,Te]}function L(Y,ve,Oe,Le){if(!ve.uniformtext.mode&&me(Oe)){var Te;return Le&&(Te=Le()),Y.transition().duration(Oe.duration).ease(Oe.easing).each("end",function(){Te&&Te()}).each("interrupt",function(){Te&&Te()})}else return Y}function me(Y){return Y&&Y.duration>0}function ae(Y,ve,Oe,Le,Te,De){var Ve=ve.xaxis,_e=ve.yaxis,Ie=Y._fullLayout,re=Y._context.staticPlot;Te||(Te={mode:Ie.barmode,norm:Ie.barmode,gap:Ie.bargap,groupgap:Ie.bargroupgap},M("bar",Ie));var be=y.makeTraceGroups(Le,Oe,"trace bars").each(function(te){var se=g.select(this),fe=te[0].trace,oe=fe.type==="waterfall",Se=fe.type==="funnel",ce=fe.type==="bar",ke=ce||Se,Qe=0;oe&&fe.connector.visible&&fe.connector.mode==="between"&&(Qe=fe.connector.line.width/2);var Ze=fe.orientation==="h",Xe=me(Te),ct=y.ensureSingle(se,"g","points"),pt=W(fe),Ye=ct.selectAll("g.point").data(y.identity,pt);Ye.enter().append("g").classed("point",!0),Ye.exit().remove(),Ye.each(function(et,yt){var ft=g.select(this),tt=ie(et,Ve,_e,Ze),wt=tt[0][0],Xt=tt[0][1],Gt=tt[1][0],Nt=tt[1][1],Bt=(Ze?Xt-wt:Nt-Gt)===0;Bt&&ke&&V.getLineWidth(fe,et)&&(Bt=!1),Bt||(Bt=!v(wt)||!v(Xt)||!v(Gt)||!v(Nt)),et.isBlank=Bt,Bt&&(Ze?Xt=wt:Nt=Gt),Qe&&!Bt&&(Ze?(wt-=X(wt,Xt)*Qe,Xt+=X(wt,Xt)*Qe):(Gt-=X(Gt,Nt)*Qe,Nt+=X(Gt,Nt)*Qe));var vn,En;if(fe.type==="waterfall"){if(!Bt){var ln=fe[et.dir].marker;vn=ln.line.width,En=ln.color}}else vn=V.getLineWidth(fe,et),En=et.mc||fe.marker.color;function Yn(lt){var ut=g.round(vn/2%1,2);return Te.gap===0&&Te.groupgap===0?g.round(Math.round(lt)-ut,2):lt}function an(lt,ut,xt){return xt&&lt===ut?lt:Math.abs(lt-ut)>=2?Yn(lt):lt>ut?Math.ceil(lt):Math.floor(lt)}if(!Y._context.staticPlot){var wn=O.opacity(En),Xn=wn<1||vn>.01?Yn:an;wt=Xn(wt,Xt,Ze),Xt=Xn(Xt,wt,Ze),Gt=Xn(Gt,Nt,!Ze),Nt=Xn(Nt,Gt,!Ze)}var Un=L(y.ensureSingle(ft,"path"),Ie,Te,De);if(Un.style("vector-effect",re?"none":"non-scaling-stroke").attr("d",isNaN((Xt-wt)*(Nt-Gt))||Bt&&Y._context.staticPlot?"M0,0Z":"M"+wt+","+Gt+"V"+Nt+"H"+Xt+"V"+Gt+"Z").call(T.setClipUrl,ve.layerClipId,Y),!Ie.uniformtext.mode&&Xe){var Sn=T.makePointStyleFns(fe);T.singlePointStyle(et,Un,fe,Sn,Y)}q(Y,ve,ft,te,yt,wt,Xt,Gt,Nt,Te,De),ve.layerClipId&&T.hideOutsideRangePoint(et,ft.select("text"),Ve,_e,fe.xcalendar,fe.ycalendar)});var je=fe.cliponaxis===!1;T.setClipUrl(se,je?null:ve.layerClipId,Y)});k.getComponentMethod("errorbars","plot")(Y,be,ve,Te)}function q(Y,ve,Oe,Le,Te,De,Ve,_e,Ie,re,be){var te=ve.xaxis,se=ve.yaxis,fe=Y._fullLayout,oe;function Se(lt,ut,xt){var gt=y.ensureSingle(lt,"text").text(ut).attr({class:"bartext bartext-"+oe,"text-anchor":"middle","data-notex":1}).call(T.font,xt).call(b.convertToTspans,Y);return gt}var ce=Le[0].trace,ke=ce.orientation==="h",Qe=Be(fe,Le,Te,te,se);oe=pe(ce,Te);var Ze=re.mode==="stack"||re.mode==="relative",Xe=Le[Te],ct=!Ze||Xe._outmost;if(!Qe||oe==="none"||(Xe.isBlank||De===Ve||_e===Ie)&&(oe==="auto"||oe==="inside")){Oe.select("text").remove();return}var pt=fe.font,Ye=I.getBarColor(Le[Te],ce),je=I.getInsideTextFont(ce,Te,pt,Ye),et=I.getOutsideTextFont(ce,Te,pt),yt=Oe.datum();ke?te.type==="log"&&yt.s0<=0&&(te.range[0]<te.range[1]?De=0:De=te._length):se.type==="log"&&yt.s0<=0&&(se.range[0]<se.range[1]?_e=se._length:_e=0);var ft=Math.abs(Ve-De)-2*B,tt=Math.abs(Ie-_e)-2*B,wt,Xt,Gt,Nt,Bt;if(oe==="outside"&&!ct&&!Xe.hasB&&(oe="inside"),oe==="auto")if(ct){oe="inside",Bt=y.ensureUniformFontSize(Y,je),wt=Se(Oe,Qe,Bt),Xt=T.bBox(wt.node()),Gt=Xt.width,Nt=Xt.height;var vn=Gt>0&&Nt>0,En=Gt<=ft&&Nt<=tt,ln=Gt<=tt&&Nt<=ft,Yn=ke?ft>=Gt*(tt/Nt):tt>=Nt*(ft/Gt);vn&&(En||ln||Yn)?oe="inside":(oe="outside",wt.remove(),wt=null)}else oe="inside";if(!wt){Bt=y.ensureUniformFontSize(Y,oe==="outside"?et:je),wt=Se(Oe,Qe,Bt);var an=wt.attr("transform");if(wt.attr("transform",""),Xt=T.bBox(wt.node()),Gt=Xt.width,Nt=Xt.height,wt.attr("transform",an),Gt<=0||Nt<=0){wt.remove();return}}var wn=ce.textangle,Xn,Un;oe==="outside"?(Un=ce.constraintext==="both"||ce.constraintext==="outside",Xn=we(De,Ve,_e,Ie,Xt,{isHorizontal:ke,constrained:Un,angle:wn})):(Un=ce.constraintext==="both"||ce.constraintext==="inside",Xn=xe(De,Ve,_e,Ie,Xt,{isHorizontal:ke,constrained:Un,angle:wn,anchor:ce.insidetextanchor})),Xn.fontSize=Bt.size,_(ce.type==="histogram"?"bar":ce.type,Xn,fe),Xe.transform=Xn;var Sn=L(wt,fe,re,be);y.setTransormAndDisplay(Sn,Xn)}function de(Y){return Y==="auto"?0:Y}function ee(Y,ve){var Oe=Math.PI/180*ve,Le=Math.abs(Math.sin(Oe)),Te=Math.abs(Math.cos(Oe));return{x:Y.width*Te+Y.height*Le,y:Y.width*Le+Y.height*Te}}function xe(Y,ve,Oe,Le,Te,De){var Ve=!!De.isHorizontal,_e=!!De.constrained,Ie=De.angle||0,re=De.anchor||"end",be=re==="end",te=re==="start",se=De.leftToRight||0,fe=(se+1)/2,oe=1-fe,Se=Te.width,ce=Te.height,ke=Math.abs(ve-Y),Qe=Math.abs(Le-Oe),Ze=ke>2*B&&Qe>2*B?B:0;ke-=2*Ze,Qe-=2*Ze;var Xe=de(Ie);Ie==="auto"&&!(Se<=ke&&ce<=Qe)&&(Se>ke||ce>Qe)&&(!(Se>Qe||ce>ke)||Se<ce!=ke<Qe)&&(Xe+=90);var ct=ee(Te,Xe),pt=1;_e&&(pt=Math.min(1,ke/ct.x,Qe/ct.y));var Ye=Te.left*oe+Te.right*fe,je=(Te.top+Te.bottom)/2,et=(Y+B)*oe+(ve-B)*fe,yt=(Oe+Le)/2,ft=0,tt=0;if(te||be){var wt=(Ve?ct.x:ct.y)/2,Xt=Ve?X(Y,ve):X(Oe,Le);Ve?te?(et=Y+Xt*Ze,ft=-Xt*wt):(et=ve-Xt*Ze,ft=Xt*wt):te?(yt=Oe+Xt*Ze,tt=-Xt*wt):(yt=Le-Xt*Ze,tt=Xt*wt)}return{textX:Ye,textY:je,targetX:et,targetY:yt,anchorX:ft,anchorY:tt,scale:pt,rotate:Xe}}function we(Y,ve,Oe,Le,Te,De){var Ve=!!De.isHorizontal,_e=!!De.constrained,Ie=De.angle||0,re=Te.width,be=Te.height,te=Math.abs(ve-Y),se=Math.abs(Le-Oe),fe;Ve?fe=se>2*B?B:0:fe=te>2*B?B:0;var oe=1;_e&&(oe=Ve?Math.min(1,se/be):Math.min(1,te/re));var Se=de(Ie),ce=ee(Te,Se),ke=(Ve?ce.x:ce.y)/2,Qe=(Te.left+Te.right)/2,Ze=(Te.top+Te.bottom)/2,Xe=(Y+ve)/2,ct=(Oe+Le)/2,pt=0,Ye=0,je=Ve?X(ve,Y):X(Oe,Le);return Ve?(Xe=ve-je*fe,pt=je*ke):(ct=Le+je*fe,Ye=-je*ke),{textX:Qe,textY:Ze,targetX:Xe,targetY:ct,anchorX:pt,anchorY:Ye,scale:oe,rotate:Se}}function Be(Y,ve,Oe,Le,Te){var De=ve[0].trace,Ve=De.texttemplate,_e;return Ve?_e=ne(Y,ve,Oe,Le,Te):De.textinfo?_e=le(ve,Oe,Le,Te):_e=V.getValue(De.text,Oe),V.coerceString(z,_e)}function pe(Y,ve){var Oe=V.getValue(Y.textposition,ve);return V.coerceEnumerated(U,Oe)}function ne(Y,ve,Oe,Le,Te){var De=ve[0].trace,Ve=y.castOption(De,Oe,"texttemplate");if(!Ve)return"";var _e=De.type==="histogram",Ie=De.type==="waterfall",re=De.type==="funnel",be=De.orientation==="h",te,se,fe,oe;be?(te="y",se=Te,fe="x",oe=Le):(te="x",se=Le,fe="y",oe=Te);function Se(pt){return w(se,se.c2l(pt),!0).text}function ce(pt){return w(oe,oe.c2l(pt),!0).text}var ke=ve[Oe],Qe={};Qe.label=ke.p,Qe.labelLabel=Qe[te+"Label"]=Se(ke.p);var Ze=y.castOption(De,ke.i,"text");(Ze===0||Ze)&&(Qe.text=Ze),Qe.value=ke.s,Qe.valueLabel=Qe[fe+"Label"]=ce(ke.s);var Xe={};F(Xe,De,ke.i),(_e||Xe.x===void 0)&&(Xe.x=be?Qe.value:Qe.label),(_e||Xe.y===void 0)&&(Xe.y=be?Qe.label:Qe.value),(_e||Xe.xLabel===void 0)&&(Xe.xLabel=be?Qe.valueLabel:Qe.labelLabel),(_e||Xe.yLabel===void 0)&&(Xe.yLabel=be?Qe.labelLabel:Qe.valueLabel),Ie&&(Qe.delta=+ke.rawS||ke.s,Qe.deltaLabel=ce(Qe.delta),Qe.final=ke.v,Qe.finalLabel=ce(Qe.final),Qe.initial=Qe.final-Qe.delta,Qe.initialLabel=ce(Qe.initial)),re&&(Qe.value=ke.s,Qe.valueLabel=ce(Qe.value),Qe.percentInitial=ke.begR,Qe.percentInitialLabel=y.formatPercent(ke.begR),Qe.percentPrevious=ke.difR,Qe.percentPreviousLabel=y.formatPercent(ke.difR),Qe.percentTotal=ke.sumR,Qe.percenTotalLabel=y.formatPercent(ke.sumR));var ct=y.castOption(De,ke.i,"customdata");return ct&&(Qe.customdata=ct),y.texttemplateString(Ve,Qe,Y._d3locale,Xe,Qe,De._meta||{})}function le(Y,ve,Oe,Le){var Te=Y[0].trace,De=Te.orientation==="h",Ve=Te.type==="waterfall",_e=Te.type==="funnel";function Ie(ct){var pt=De?Le:Oe;return w(pt,ct,!0).text}function re(ct){var pt=De?Oe:Le;return w(pt,+ct,!0).text}var be=Te.textinfo,te=Y[ve],se=be.split("+"),fe=[],oe,Se=function(ct){return se.indexOf(ct)!==-1};if(Se("label")&&fe.push(Ie(Y[ve].p)),Se("text")&&(oe=y.castOption(Te,te.i,"text"),(oe===0||oe)&&fe.push(oe)),Ve){var ce=+te.rawS||te.s,ke=te.v,Qe=ke-ce;Se("initial")&&fe.push(re(Qe)),Se("delta")&&fe.push(re(ce)),Se("final")&&fe.push(re(ke))}if(_e){Se("value")&&fe.push(re(te.s));var Ze=0;Se("percent initial")&&Ze++,Se("percent previous")&&Ze++,Se("percent total")&&Ze++;var Xe=Ze>1;Se("percent initial")&&(oe=y.formatPercent(te.begR),Xe&&(oe+=" of initial"),fe.push(oe)),Se("percent previous")&&(oe=y.formatPercent(te.difR),Xe&&(oe+=" of previous"),fe.push(oe)),Se("percent total")&&(oe=y.formatPercent(te.sumR),Xe&&(oe+=" of total"),fe.push(oe))}return fe.join("<br>")}d.exports={plot:ae,toMoveInsideBar:xe}},1974:function(d){d.exports=function(g,v){var y=g.cd,b=g.xaxis,O=g.yaxis,T=y[0].trace,k=T.type==="funnel",w=T.orientation==="h",C=[],_;if(v===!1)for(_=0;_<y.length;_++)y[_].selected=0;else for(_=0;_<y.length;_++){var M=y[_],I="ct"in M?M.ct:h(M,b,O,w,k);v.contains(I,!1,_,g)?(C.push({pointNumber:_,x:b.c2d(M.x),y:O.c2d(M.y)}),M.selected=1):M.selected=0}return C};function h(c,g,v,y,b){var O=g.c2p(y?c.s0:c.p0,!0),T=g.c2p(y?c.s1:c.p1,!0),k=v.c2p(y?c.p0:c.s0,!0),w=v.c2p(y?c.p1:c.s1,!0);return b?[(O+T)/2,(k+w)/2]:y?[T,(k+w)/2]:[(O+T)/2,w]}},1546:function(d,h,c){d.exports=v;var g=c(1828).distinctVals;function v(y,b){this.traces=y,this.sepNegVal=b.sepNegVal,this.overlapNoMerge=b.overlapNoMerge;for(var O=1/0,T=b.posAxis._id.charAt(0),k=[],w=0;w<y.length;w++){for(var C=y[w],_=0;_<C.length;_++){var M=C[_],I=M.p;I===void 0&&(I=M[T]),I!==void 0&&k.push(I)}C[0]&&C[0].width1&&(O=Math.min(C[0].width1,O))}this.positions=k;var V=g(k);this.distinctPositions=V.vals,V.vals.length===1&&O!==1/0?this.minDiff=O:this.minDiff=Math.min(V.minDiff,O);var N=(b.posAxis||{}).type;(N==="category"||N==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}v.prototype.put=function(b,O){var T=this.getLabel(b,O),k=this.bins[T]||0;return this.bins[T]=k+O,k},v.prototype.get=function(b,O){var T=this.getLabel(b,O);return this.bins[T]||0},v.prototype.getLabel=function(b,O){var T=O<0&&this.sepNegVal?"v":"^",k=this.overlapNoMerge?b:Math.round(b/this.binWidth);return T+k}},6688:function(d,h,c){var g=c(9898),v=c(7901),y=c(1424),b=c(1828),O=c(3972),T=c(2597).resizeText,k=c(1486),w=k.textfont,C=k.insidetextfont,_=k.outsidetextfont,M=c(9383);function I(L){var me=g.select(L).selectAll("g.barlayer").selectAll("g.trace");T(L,me,"bar");var ae=me.size(),q=L._fullLayout;me.style("opacity",function(de){return de[0].trace.opacity}).each(function(de){(q.barmode==="stack"&&ae>1||q.bargap===0&&q.bargroupgap===0&&!de[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),me.selectAll("g.points").each(function(de){var ee=g.select(this),xe=de[0].trace;V(ee,xe,L)}),O.getComponentMethod("errorbars","style")(me)}function V(L,me,ae){y.pointStyle(L.selectAll("path"),me,ae),N(L,me,ae)}function N(L,me,ae){L.selectAll("text").each(function(q){var de=g.select(this),ee=b.ensureUniformFontSize(ae,F(de,q,me,ae));y.font(de,ee)})}function Q(L,me,ae){var q=me[0].trace;q.selectedpoints?z(ae,q,L):(V(ae,q,L),O.getComponentMethod("errorbars","style")(ae))}function z(L,me,ae){y.selectedPointStyle(L.selectAll("path"),me),U(L.selectAll("text"),me,ae)}function U(L,me,ae){L.each(function(q){var de=g.select(this),ee;if(q.selected){ee=b.ensureUniformFontSize(ae,F(de,q,me,ae));var xe=me.selected.textfont&&me.selected.textfont.color;xe&&(ee.color=xe),y.font(de,ee)}else y.selectedTextStyle(de,me)})}function F(L,me,ae,q){var de=q._fullLayout.font,ee=ae.textfont;if(L.classed("bartext-inside")){var xe=ie(me,ae);ee=E(ae,me.i,de,xe)}else L.classed("bartext-outside")&&(ee=W(ae,me.i,de));return ee}function B(L,me,ae){return X(w,L.textfont,me,ae)}function E(L,me,ae,q){var de=B(L,me,ae),ee=L._input.textfont===void 0||L._input.textfont.color===void 0||Array.isArray(L.textfont.color)&&L.textfont.color[me]===void 0;return ee&&(de={color:v.contrast(q),family:de.family,size:de.size}),X(C,L.insidetextfont,me,de)}function W(L,me,ae){var q=B(L,me,ae);return X(_,L.outsidetextfont,me,q)}function X(L,me,ae,q){me=me||{};var de=M.getValue(me.family,ae),ee=M.getValue(me.size,ae),xe=M.getValue(me.color,ae);return{family:M.coerceString(L.family,de,q.family),size:M.coerceNumber(L.size,ee,q.size),color:M.coerceColor(L.color,xe,q.color)}}function ie(L,me){return me.type==="waterfall"?me[L.dir].marker.color:L.mcc||L.mc||me.marker.color}d.exports={style:I,styleTextPoints:N,styleOnSelect:Q,getInsideTextFont:E,getOutsideTextFont:W,getBarColor:ie,resizeText:T}},8340:function(d,h,c){var g=c(7901),v=c(2869).hasColorscale,y=c(1586),b=c(1828).coercePattern;d.exports=function(T,k,w,C,_){var M=w("marker.color",C),I=v(T,"marker");I&&y(T,k,_,w,{prefix:"marker.",cLetter:"c"}),w("marker.line.color",g.defaultLine),v(T,"marker.line")&&y(T,k,_,w,{prefix:"marker.line.",cLetter:"c"}),w("marker.line.width"),w("marker.opacity"),b(w,"marker.pattern",M,I),w("selected.marker.color"),w("unselected.marker.color")}},2597:function(d,h,c){var g=c(9898),v=c(1828);function y(k,w,C){var _=k._fullLayout,M=_["_"+C+"Text_minsize"];if(M){var I=_.uniformtext.mode==="hide",V;switch(C){case"funnelarea":case"pie":case"sunburst":V="g.slice";break;case"treemap":case"icicle":V="g.slice, g.pathbar";break;default:V="g.points > g.point"}w.selectAll(V).each(function(N){var Q=N.transform;if(Q){Q.scale=I&&Q.hide?0:M/Q.fontSize;var z=g.select(this).select("text");v.setTransormAndDisplay(z,Q)}})}}function b(k,w,C){if(C.uniformtext.mode){var _=T(k),M=C.uniformtext.minsize,I=w.scale*w.fontSize;w.hide=I<M,C[_]=C[_]||1/0,w.hide||(C[_]=Math.min(C[_],Math.max(I,M)))}}function O(k,w){var C=T(k);w[C]=void 0}function T(k){return"_"+k+"Text_minsize"}d.exports={recordMinTextSize:b,clearMinTextSize:O,resizeText:y}},4e3:function(d,h,c){var g=c(9012),v=c(7670).Y,y=c(1940),b=c(2399),O=c(5386).fF,T=c(5386).si,k=c(1426).extendFlat,w=c(9952).u,C=y({editType:"plot",arrayOk:!0,colorEditType:"plot"});d.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:b.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:w,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:k({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:O({},{keys:["label","color","value","percent","text"]}),texttemplate:T({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:k({},C,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:k({},C,{}),outsidetextfont:k({},C,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:k({},C,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:v({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:k({},C,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(d,h,c){var g=c(4875);h.name="pie",h.plot=function(v,y,b,O){g.plotBasePlot(h.name,v,y,b,O)},h.clean=function(v,y,b,O){g.cleanBasePlot(h.name,v,y,b,O)}},2354:function(d,h,c){var g=c(2770),v=c(4267),y=c(7901),b={};function O(C,_){var M=[],I=C._fullLayout,V=I.hiddenlabels||[],N=_.labels,Q=_.marker.colors||[],z=_.values,U=_._length,F=_._hasValues&&U,B,E;if(_.dlabel)for(N=new Array(U),B=0;B<U;B++)N[B]=String(_.label0+B*_.dlabel);var W={},X=T(I["_"+_.type+"colormap"]),ie=0,L=!1;for(B=0;B<U;B++){var me,ae,q;if(F){if(me=z[B],!g(me))continue;me=+me}else me=1;ae=N[B],(ae===void 0||ae==="")&&(ae=B),ae=String(ae);var de=W[ae];de===void 0?(W[ae]=M.length,q=V.indexOf(ae)!==-1,q||(ie+=me),M.push({v:me,label:ae,color:X(Q[B],ae),i:B,pts:[B],hidden:q})):(L=!0,E=M[de],E.v+=me,E.pts.push(B),E.hidden||(ie+=me),E.color===!1&&Q[B]&&(E.color=X(Q[B],ae)))}M=M.filter(function(xe){return xe.v>=0});var ee=_.type==="funnelarea"?L:_.sort;return ee&&M.sort(function(xe,we){return we.v-xe.v}),M[0]&&(M[0].vTotal=ie),M}function T(C){return function(M,I){return!M||(M=v(M),!M.isValid())?!1:(M=y.addOpacity(M,M.getAlpha()),C[I]||(C[I]=M),M)}}function k(C,_){var M=(_||{}).type;M||(M="pie");var I=C._fullLayout,V=C.calcdata,N=I[M+"colorway"],Q=I["_"+M+"colormap"];I["extend"+M+"colors"]&&(N=w(N,b));for(var z=0,U=0;U<V.length;U++){var F=V[U],B=F[0].trace.type;if(B===M)for(var E=0;E<F.length;E++){var W=F[E];W.color===!1&&(Q[W.label]?W.color=Q[W.label]:(Q[W.label]=W.color=N[z%N.length],z++))}}}function w(C,_){var M,I=JSON.stringify(C),V=_[I];if(!V){for(V=C.slice(),M=0;M<C.length;M++)V.push(v(C[M]).lighten(20).toHexString());for(M=0;M<C.length;M++)V.push(v(C[M]).darken(20).toHexString());_[I]=V}return V}d.exports={calc:O,crossTraceCalc:k,makePullColorFn:T,generateExtendedColors:w}},7434:function(d,h,c){var g=c(2770),v=c(1828),y=c(4e3),b=c(7670).c,O=c(769).handleText,T=c(1828).coercePattern;function k(_,M){var I=Array.isArray(_),V=v.isArrayOrTypedArray(M),N=Math.min(I?_.length:1/0,V?M.length:1/0);if(isFinite(N)||(N=0),N&&V){for(var Q,z=0;z<N;z++){var U=M[z];if(g(U)&&U>0){Q=!0;break}}Q||(N=0)}return{hasLabels:I,hasValues:V,len:N}}function w(_,M,I,V,N){var Q=V("marker.line.width");Q&&V("marker.line.color",N?void 0:I.paper_bgcolor);var z=V("marker.colors");T(V,"marker.pattern",z),_.marker&&!M.marker.pattern.fgcolor&&(M.marker.pattern.fgcolor=_.marker.colors),M.marker.pattern.bgcolor||(M.marker.pattern.bgcolor=I.paper_bgcolor)}function C(_,M,I,V){function N(de,ee){return v.coerce(_,M,y,de,ee)}var Q=N("labels"),z=N("values"),U=k(Q,z),F=U.len;if(M._hasLabels=U.hasLabels,M._hasValues=U.hasValues,!M._hasLabels&&M._hasValues&&(N("label0"),N("dlabel")),!F){M.visible=!1;return}M._length=F,w(_,M,V,N,!0),N("scalegroup");var B=N("text"),E=N("texttemplate"),W;if(E||(W=N("textinfo",Array.isArray(B)?"text+percent":"percent")),N("hovertext"),N("hovertemplate"),E||W&&W!=="none"){var X=N("textposition");O(_,M,V,N,X,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var ie=Array.isArray(X)||X==="auto",L=ie||X==="outside";L&&N("automargin"),(X==="inside"||X==="auto"||Array.isArray(X))&&N("insidetextorientation")}b(M,V,N);var me=N("hole"),ae=N("title.text");if(ae){var q=N("title.position",me?"middle center":"top center");!me&&q==="middle center"&&(M.title.position="top center"),v.coerceFont(N,"title.font",V.font)}N("sort"),N("direction"),N("rotation"),N("pull")}d.exports={handleLabelsAndValues:k,handleMarkerDefaults:w,supplyDefaults:C}},7:function(d,h,c){var g=c(3469).appendArrayMultiPointValues;d.exports=function(y,b){var O={curveNumber:b.index,pointNumbers:y.pts,data:b._input,fullData:b,label:y.label,color:y.color,value:y.v,percent:y.percent,text:y.text,bbox:y.bbox,v:y.v};return y.pts.length===1&&(O.pointNumber=O.i=y.pts[0]),g(O,b,y.pts),b.type==="funnelarea"&&(delete O.v,delete O.i),O}},2209:function(d,h,c){var g=c(1424),v=c(7901);d.exports=function(b,O,T,k){var w=T.marker.pattern;w&&w.shape?g.pointStyle(b,T,k,O):v.fill(b,O.color)}},3581:function(d,h,c){var g=c(1828);function v(y){return y.indexOf("e")!==-1?y.replace(/[.]?0+e/,"e"):y.indexOf(".")!==-1?y.replace(/[.]?0+$/,""):y}h.formatPiePercent=function(b,O){var T=v((b*100).toPrecision(3));return g.numSeparate(T,O)+"%"},h.formatPieValue=function(b,O){var T=v(b.toPrecision(10));return g.numSeparate(T,O)},h.getFirstFilled=function(b,O){if(Array.isArray(b))for(var T=0;T<O.length;T++){var k=b[O[T]];if(k||k===0||k==="")return k}},h.castOption=function(b,O){if(Array.isArray(b))return h.getFirstFilled(b,O);if(b)return b},h.getRotationAngle=function(y){return(y==="auto"?0:y)*Math.PI/180}},8810:function(d,h,c){d.exports={attributes:c(4e3),supplyDefaults:c(7434).supplyDefaults,supplyLayoutDefaults:c(2097),layoutAttributes:c(7550),calc:c(2354).calc,crossTraceCalc:c(2354).crossTraceCalc,plot:c(4575).plot,style:c(8357),styleOne:c(3463),moduleType:"trace",name:"pie",basePlotModule:c(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(d){d.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(d,h,c){var g=c(1828),v=c(7550);d.exports=function(b,O){function T(k,w){return g.coerce(b,O,v,k,w)}T("hiddenlabels"),T("piecolorway",O.colorway),T("extendpiecolors")}},4575:function(d,h,c){var g=c(9898),v=c(4875),y=c(211),b=c(7901),O=c(1424),T=c(1828),k=T.strScale,w=T.strTranslate,C=c(3893),_=c(2597),M=_.recordMinTextSize,I=_.clearMinTextSize,V=c(7313).TEXTPAD,N=c(3581),Q=c(7),z=c(1828).isValidTextValue;function U(Ie,re){var be=Ie._context.staticPlot,te=Ie._fullLayout,se=te._size;I("pie",te),X(re,Ie),Oe(re,se);var fe=T.makeTraceGroups(te._pielayer,re,"trace").each(function(oe){var Se=g.select(this),ce=oe[0],ke=ce.trace;Te(oe),Se.attr("stroke-linejoin","round"),Se.each(function(){var Qe=g.select(this).selectAll("g.slice").data(oe);Qe.enter().append("g").classed("slice",!0),Qe.exit().remove();var Ze=[[[],[]],[[],[]]],Xe=!1;Qe.each(function(tt,wt){if(tt.hidden){g.select(this).selectAll("path,g").remove();return}tt.pointNumber=tt.i,tt.curveNumber=ke.index,Ze[tt.pxmid[1]<0?0:1][tt.pxmid[0]<0?0:1].push(tt);var Xt=ce.cx,Gt=ce.cy,Nt=g.select(this),Bt=Nt.selectAll("path.surface").data([tt]);if(Bt.enter().append("path").classed("surface",!0).style({"pointer-events":be?"none":"all"}),Nt.call(B,Ie,oe),ke.pull){var vn=+N.castOption(ke.pull,tt.pts)||0;vn>0&&(Xt+=vn*tt.pxmid[0],Gt+=vn*tt.pxmid[1])}tt.cxFinal=Xt,tt.cyFinal=Gt;function En(Sn,lt,ut,xt){var gt=xt*(lt[0]-Sn[0]),Dt=xt*(lt[1]-Sn[1]);return"a"+xt*ce.r+","+xt*ce.r+" 0 "+tt.largeArc+(ut?" 1 ":" 0 ")+gt+","+Dt}var ln=ke.hole;if(tt.v===ce.vTotal){var Yn="M"+(Xt+tt.px0[0])+","+(Gt+tt.px0[1])+En(tt.px0,tt.pxmid,!0,1)+En(tt.pxmid,tt.px0,!0,1)+"Z";ln?Bt.attr("d","M"+(Xt+ln*tt.px0[0])+","+(Gt+ln*tt.px0[1])+En(tt.px0,tt.pxmid,!1,ln)+En(tt.pxmid,tt.px0,!1,ln)+"Z"+Yn):Bt.attr("d",Yn)}else{var an=En(tt.px0,tt.px1,!0,1);if(ln){var wn=1-ln;Bt.attr("d","M"+(Xt+ln*tt.px1[0])+","+(Gt+ln*tt.px1[1])+En(tt.px1,tt.px0,!1,ln)+"l"+wn*tt.px0[0]+","+wn*tt.px0[1]+an+"Z")}else Bt.attr("d","M"+Xt+","+Gt+"l"+tt.px0[0]+","+tt.px0[1]+an+"Z")}Ve(Ie,tt,ce);var Xn=N.castOption(ke.textposition,tt.pts),Un=Nt.selectAll("g.slicetext").data(tt.text&&Xn!=="none"?[0]:[]);Un.enter().append("g").classed("slicetext",!0),Un.exit().remove(),Un.each(function(){var Sn=T.ensureSingle(g.select(this),"text","",function(dt){dt.attr("data-notex",1)}),lt=T.ensureUniformFontSize(Ie,Xn==="outside"?E(ke,tt,te.font):W(ke,tt,te.font));Sn.text(tt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(O.font,lt).call(C.convertToTspans,Ie);var ut=O.bBox(Sn.node()),xt;if(Xn==="outside")xt=we(ut,tt);else if(xt=ie(ut,tt,ce),Xn==="auto"&&xt.scale<1){var gt=T.ensureUniformFontSize(Ie,ke.outsidetextfont);Sn.call(O.font,gt),ut=O.bBox(Sn.node()),xt=we(ut,tt)}var Dt=xt.textPosAngle,He=Dt===void 0?tt.pxmid:De(ce.r,Dt);if(xt.targetX=Xt+He[0]*xt.rCenter+(xt.x||0),xt.targetY=Gt+He[1]*xt.rCenter+(xt.y||0),_e(xt,ut),xt.outside){var it=xt.targetY;tt.yLabelMin=it-ut.height/2,tt.yLabelMid=it,tt.yLabelMax=it+ut.height/2,tt.labelExtraX=0,tt.labelExtraY=0,Xe=!0}xt.fontSize=lt.size,M(ke.type,xt,te),oe[wt].transform=xt,T.setTransormAndDisplay(Sn,xt)})});var ct=g.select(this).selectAll("g.titletext").data(ke.title.text?[0]:[]);if(ct.enter().append("g").classed("titletext",!0),ct.exit().remove(),ct.each(function(){var tt=T.ensureSingle(g.select(this),"text","",function(Gt){Gt.attr("data-notex",1)}),wt=ke.title.text;ke._meta&&(wt=T.templateString(wt,ke._meta)),tt.text(wt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(O.font,ke.title.font).call(C.convertToTspans,Ie);var Xt;ke.title.position==="middle center"?Xt=Be(ce):Xt=pe(ce,se),tt.attr("transform",w(Xt.x,Xt.y)+k(Math.min(1,Xt.scale))+w(Xt.tx,Xt.ty))}),Xe&&ve(Ze,ke),F(Qe,ke),Xe&&ke.automargin){var pt=O.bBox(Se.node()),Ye=ke.domain,je=se.w*(Ye.x[1]-Ye.x[0]),et=se.h*(Ye.y[1]-Ye.y[0]),yt=(.5*je-ce.r)/se.w,ft=(.5*et-ce.r)/se.h;v.autoMargin(Ie,"pie."+ke.uid+".automargin",{xl:Ye.x[0]-yt,xr:Ye.x[1]+yt,yb:Ye.y[0]-ft,yt:Ye.y[1]+ft,l:Math.max(ce.cx-ce.r-pt.left,0),r:Math.max(pt.right-(ce.cx+ce.r),0),b:Math.max(pt.bottom-(ce.cy+ce.r),0),t:Math.max(ce.cy-ce.r-pt.top,0),pad:5})}})});setTimeout(function(){fe.selectAll("tspan").each(function(){var oe=g.select(this);oe.attr("dy")&&oe.attr("dy",oe.attr("dy"))})},0)}function F(Ie,re){Ie.each(function(be){var te=g.select(this);if(!be.labelExtraX&&!be.labelExtraY){te.select("path.textline").remove();return}var se=te.select("g.slicetext text");be.transform.targetX+=be.labelExtraX,be.transform.targetY+=be.labelExtraY,T.setTransormAndDisplay(se,be.transform);var fe=be.cxFinal+be.pxmid[0],oe=be.cyFinal+be.pxmid[1],Se="M"+fe+","+oe,ce=(be.yLabelMax-be.yLabelMin)*(be.pxmid[0]<0?-1:1)/4;if(be.labelExtraX){var ke=be.labelExtraX*be.pxmid[1]/be.pxmid[0],Qe=be.yLabelMid+be.labelExtraY-(be.cyFinal+be.pxmid[1]);Math.abs(ke)>Math.abs(Qe)?Se+="l"+Qe*be.pxmid[0]/be.pxmid[1]+","+Qe+"H"+(fe+be.labelExtraX+ce):Se+="l"+be.labelExtraX+","+ke+"v"+(Qe-ke)+"h"+ce}else Se+="V"+(be.yLabelMid+be.labelExtraY)+"h"+ce;T.ensureSingle(te,"path","textline").call(b.stroke,re.outsidetextfont.color).attr({"stroke-width":Math.min(2,re.outsidetextfont.size/8),d:Se,fill:"none"})})}function B(Ie,re,be){var te=be[0],se=te.cx,fe=te.cy,oe=te.trace,Se=oe.type==="funnelarea";"_hasHoverLabel"in oe||(oe._hasHoverLabel=!1),"_hasHoverEvent"in oe||(oe._hasHoverEvent=!1),Ie.on("mouseover",function(ce){var ke=re._fullLayout,Qe=re._fullData[oe.index];if(!(re._dragging||ke.hovermode===!1)){var Ze=Qe.hoverinfo;if(Array.isArray(Ze)&&(Ze=y.castHoverinfo({hoverinfo:[N.castOption(Ze,ce.pts)],_module:oe._module},ke,0)),Ze==="all"&&(Ze="label+text+value+percent+name"),Qe.hovertemplate||Ze!=="none"&&Ze!=="skip"&&Ze){var Xe=ce.rInscribed||0,ct=se+ce.pxmid[0]*(1-Xe),pt=fe+ce.pxmid[1]*(1-Xe),Ye=ke.separators,je=[];if(Ze&&Ze.indexOf("label")!==-1&&je.push(ce.label),ce.text=N.castOption(Qe.hovertext||Qe.text,ce.pts),Ze&&Ze.indexOf("text")!==-1){var et=ce.text;T.isValidTextValue(et)&&je.push(et)}ce.value=ce.v,ce.valueLabel=N.formatPieValue(ce.v,Ye),Ze&&Ze.indexOf("value")!==-1&&je.push(ce.valueLabel),ce.percent=ce.v/te.vTotal,ce.percentLabel=N.formatPiePercent(ce.percent,Ye),Ze&&Ze.indexOf("percent")!==-1&&je.push(ce.percentLabel);var yt=Qe.hoverlabel,ft=yt.font,tt=[];y.loneHover({trace:oe,x0:ct-Xe*te.r,x1:ct+Xe*te.r,y:pt,_x0:Se?se+ce.TL[0]:ct-Xe*te.r,_x1:Se?se+ce.TR[0]:ct+Xe*te.r,_y0:Se?fe+ce.TL[1]:pt-Xe*te.r,_y1:Se?fe+ce.BL[1]:pt+Xe*te.r,text:je.join("<br>"),name:Qe.hovertemplate||Ze.indexOf("name")!==-1?Qe.name:void 0,idealAlign:ce.pxmid[0]<0?"left":"right",color:N.castOption(yt.bgcolor,ce.pts)||ce.color,borderColor:N.castOption(yt.bordercolor,ce.pts),fontFamily:N.castOption(ft.family,ce.pts),fontSize:N.castOption(ft.size,ce.pts),fontColor:N.castOption(ft.color,ce.pts),nameLength:N.castOption(yt.namelength,ce.pts),textAlign:N.castOption(yt.align,ce.pts),hovertemplate:N.castOption(Qe.hovertemplate,ce.pts),hovertemplateLabels:ce,eventData:[Q(ce,Qe)]},{container:ke._hoverlayer.node(),outerContainer:ke._paper.node(),gd:re,inOut_bbox:tt}),ce.bbox=tt[0],oe._hasHoverLabel=!0}oe._hasHoverEvent=!0,re.emit("plotly_hover",{points:[Q(ce,Qe)],event:g.event})}}),Ie.on("mouseout",function(ce){var ke=re._fullLayout,Qe=re._fullData[oe.index],Ze=g.select(this).datum();oe._hasHoverEvent&&(ce.originalEvent=g.event,re.emit("plotly_unhover",{points:[Q(Ze,Qe)],event:g.event}),oe._hasHoverEvent=!1),oe._hasHoverLabel&&(y.loneUnhover(ke._hoverlayer.node()),oe._hasHoverLabel=!1)}),Ie.on("click",function(ce){var ke=re._fullLayout,Qe=re._fullData[oe.index];re._dragging||ke.hovermode===!1||(re._hoverdata=[Q(ce,Qe)],y.click(re,g.event))})}function E(Ie,re,be){var te=N.castOption(Ie.outsidetextfont.color,re.pts)||N.castOption(Ie.textfont.color,re.pts)||be.color,se=N.castOption(Ie.outsidetextfont.family,re.pts)||N.castOption(Ie.textfont.family,re.pts)||be.family,fe=N.castOption(Ie.outsidetextfont.size,re.pts)||N.castOption(Ie.textfont.size,re.pts)||be.size;return{color:te,family:se,size:fe}}function W(Ie,re,be){var te=N.castOption(Ie.insidetextfont.color,re.pts);!te&&Ie._input.textfont&&(te=N.castOption(Ie._input.textfont.color,re.pts));var se=N.castOption(Ie.insidetextfont.family,re.pts)||N.castOption(Ie.textfont.family,re.pts)||be.family,fe=N.castOption(Ie.insidetextfont.size,re.pts)||N.castOption(Ie.textfont.size,re.pts)||be.size;return{color:te||b.contrast(re.color),family:se,size:fe}}function X(Ie,re){for(var be,te,se=0;se<Ie.length;se++)if(be=Ie[se][0],te=be.trace,te.title.text){var fe=te.title.text;te._meta&&(fe=T.templateString(fe,te._meta));var oe=O.tester.append("text").attr("data-notex",1).text(fe).call(O.font,te.title.font).call(C.convertToTspans,re),Se=O.bBox(oe.node(),!0);be.titleBox={width:Se.width,height:Se.height},oe.remove()}}function ie(Ie,re,be){var te=be.r||re.rpx1,se=re.rInscribed,fe=re.startangle===re.stopangle;if(fe)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var oe=re.ring,Se=oe===1&&Math.abs(re.startangle-re.stopangle)===Math.PI*2,ce=re.halfangle,ke=re.midangle,Qe=be.trace.insidetextorientation,Ze=Qe==="horizontal",Xe=Qe==="tangential",ct=Qe==="radial",pt=Qe==="auto",Ye=[],je;if(!pt){var et=function(Nt,Bt){if(L(re,Nt)){var vn=Math.abs(Nt-re.startangle),En=Math.abs(Nt-re.stopangle),ln=vn<En?vn:En;Bt==="tan"?je=ae(Ie,te,oe,ln,0):je=me(Ie,te,oe,ln,Math.PI/2),je.textPosAngle=Nt,Ye.push(je)}},yt;if(Ze||Xe){for(yt=4;yt>=-4;yt-=2)et(Math.PI*yt,"tan");for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+1),"tan")}if(Ze||ct){for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+1.5),"rad");for(yt=4;yt>=-4;yt-=2)et(Math.PI*(yt+.5),"rad")}}if(Se||pt||Ze){var ft=Math.sqrt(Ie.width*Ie.width+Ie.height*Ie.height);if(je={scale:se*te*2/ft,rCenter:1-se,rotate:0},je.textPosAngle=(re.startangle+re.stopangle)/2,je.scale>=1)return je;Ye.push(je)}(pt||ct)&&(je=me(Ie,te,oe,ce,ke),je.textPosAngle=(re.startangle+re.stopangle)/2,Ye.push(je)),(pt||Xe)&&(je=ae(Ie,te,oe,ce,ke),je.textPosAngle=(re.startangle+re.stopangle)/2,Ye.push(je));for(var tt=0,wt=0,Xt=0;Xt<Ye.length;Xt++){var Gt=Ye[Xt].scale;if(wt<Gt&&(wt=Gt,tt=Xt),!pt&&wt>=1)break}return Ye[tt]}function L(Ie,re){var be=Ie.startangle,te=Ie.stopangle;return be>re&&re>te||be<re&&re<te}function me(Ie,re,be,te,se){re=Math.max(0,re-2*V);var fe=Ie.width/Ie.height,oe=ee(fe,te,re,be);return{scale:oe*2/Ie.height,rCenter:q(fe,oe/re),rotate:de(se)}}function ae(Ie,re,be,te,se){re=Math.max(0,re-2*V);var fe=Ie.height/Ie.width,oe=ee(fe,te,re,be);return{scale:oe*2/Ie.width,rCenter:q(fe,oe/re),rotate:de(se+Math.PI/2)}}function q(Ie,re){return Math.cos(re)-Ie*re}function de(Ie){return(180/Math.PI*Ie+720)%180-90}function ee(Ie,re,be,te){var se=Ie+1/(2*Math.tan(re));return be*Math.min(1/(Math.sqrt(se*se+.5)+se),te/(Math.sqrt(Ie*Ie+te/2)+Ie))}function xe(Ie,re){return Ie.v===re.vTotal&&!re.trace.hole?1:Math.min(1/(1+1/Math.sin(Ie.halfangle)),Ie.ring/2)}function we(Ie,re){var be=re.pxmid[0],te=re.pxmid[1],se=Ie.width/2,fe=Ie.height/2;return be<0&&(se*=-1),te<0&&(fe*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(fe)*(se>0?1:-1)/2,y:fe/(1+be*be/(te*te)),outside:!0}}function Be(Ie){var re=Math.sqrt(Ie.titleBox.width*Ie.titleBox.width+Ie.titleBox.height*Ie.titleBox.height);return{x:Ie.cx,y:Ie.cy,scale:Ie.trace.hole*Ie.r*2/re,tx:0,ty:-Ie.titleBox.height/2+Ie.trace.title.font.size}}function pe(Ie,re){var be=1,te=1,se,fe=Ie.trace,oe={x:Ie.cx,y:Ie.cy},Se={tx:0,ty:0};Se.ty+=fe.title.font.size,se=Y(fe),fe.title.position.indexOf("top")!==-1?(oe.y-=(1+se)*Ie.r,Se.ty-=Ie.titleBox.height):fe.title.position.indexOf("bottom")!==-1&&(oe.y+=(1+se)*Ie.r);var ce=ne(Ie.r,Ie.trace.aspectratio),ke=re.w*(fe.domain.x[1]-fe.domain.x[0])/2;return fe.title.position.indexOf("left")!==-1?(ke=ke+ce,oe.x-=(1+se)*ce,Se.tx+=Ie.titleBox.width/2):fe.title.position.indexOf("center")!==-1?ke*=2:fe.title.position.indexOf("right")!==-1&&(ke=ke+ce,oe.x+=(1+se)*ce,Se.tx-=Ie.titleBox.width/2),be=ke/Ie.titleBox.width,te=le(Ie,re)/Ie.titleBox.height,{x:oe.x,y:oe.y,scale:Math.min(be,te),tx:Se.tx,ty:Se.ty}}function ne(Ie,re){return Ie/(re===void 0?1:re)}function le(Ie,re){var be=Ie.trace,te=re.h*(be.domain.y[1]-be.domain.y[0]);return Math.min(Ie.titleBox.height,te/2)}function Y(Ie){var re=Ie.pull;if(!re)return 0;var be;if(Array.isArray(re))for(re=0,be=0;be<Ie.pull.length;be++)Ie.pull[be]>re&&(re=Ie.pull[be]);return re}function ve(Ie,re){var be,te,se,fe,oe,Se,ce,ke,Qe,Ze,Xe,ct,pt;function Ye(ft,tt){return ft.pxmid[1]-tt.pxmid[1]}function je(ft,tt){return tt.pxmid[1]-ft.pxmid[1]}function et(ft,tt){tt||(tt={});var wt=tt.labelExtraY+(te?tt.yLabelMax:tt.yLabelMin),Xt=te?ft.yLabelMin:ft.yLabelMax,Gt=te?ft.yLabelMax:ft.yLabelMin,Nt=ft.cyFinal+oe(ft.px0[1],ft.px1[1]),Bt=wt-Xt,vn,En,ln,Yn,an,wn;if(Bt*ce>0&&(ft.labelExtraY=Bt),!!Array.isArray(re.pull))for(En=0;En<Ze.length;En++)ln=Ze[En],!(ln===ft||(N.castOption(re.pull,ft.pts)||0)>=(N.castOption(re.pull,ln.pts)||0))&&((ft.pxmid[1]-ln.pxmid[1])*ce>0?(Yn=ln.cyFinal+oe(ln.px0[1],ln.px1[1]),Bt=Yn-Xt-ft.labelExtraY,Bt*ce>0&&(ft.labelExtraY+=Bt)):(Gt+ft.labelExtraY-Nt)*ce>0&&(vn=3*Se*Math.abs(En-Ze.indexOf(ft)),an=ln.cxFinal+fe(ln.px0[0],ln.px1[0]),wn=an+vn-(ft.cxFinal+ft.pxmid[0])-ft.labelExtraX,wn*Se>0&&(ft.labelExtraX+=wn)))}for(te=0;te<2;te++)for(se=te?Ye:je,oe=te?Math.max:Math.min,ce=te?1:-1,be=0;be<2;be++){for(fe=be?Math.max:Math.min,Se=be?1:-1,ke=Ie[te][be],ke.sort(se),Qe=Ie[1-te][be],Ze=Qe.concat(ke),ct=[],Xe=0;Xe<ke.length;Xe++)ke[Xe].yLabelMid!==void 0&&ct.push(ke[Xe]);for(pt=!1,Xe=0;te&&Xe<Qe.length;Xe++)if(Qe[Xe].yLabelMid!==void 0){pt=Qe[Xe];break}for(Xe=0;Xe<ct.length;Xe++){var yt=Xe&&ct[Xe-1];pt&&!Xe&&(yt=pt),et(ct[Xe],yt)}}}function Oe(Ie,re){for(var be=[],te=0;te<Ie.length;te++){var se=Ie[te][0],fe=se.trace,oe=fe.domain,Se=re.w*(oe.x[1]-oe.x[0]),ce=re.h*(oe.y[1]-oe.y[0]);fe.title.text&&fe.title.position!=="middle center"&&(ce-=le(se,re));var ke=Se/2,Qe=ce/2;fe.type==="funnelarea"&&!fe.scalegroup&&(Qe/=fe.aspectratio),se.r=Math.min(ke,Qe)/(1+Y(fe)),se.cx=re.l+re.w*(fe.domain.x[1]+fe.domain.x[0])/2,se.cy=re.t+re.h*(1-fe.domain.y[0])-ce/2,fe.title.text&&fe.title.position.indexOf("bottom")!==-1&&(se.cy-=le(se,re)),fe.scalegroup&&be.indexOf(fe.scalegroup)===-1&&be.push(fe.scalegroup)}Le(Ie,be)}function Le(Ie,re){for(var be,te,se,fe=0;fe<re.length;fe++){var oe=1/0,Se=re[fe];for(te=0;te<Ie.length;te++)if(be=Ie[te][0],se=be.trace,se.scalegroup===Se){var ce;if(se.type==="pie")ce=be.r*be.r;else if(se.type==="funnelarea"){var ke,Qe;se.aspectratio>1?(ke=be.r,Qe=ke/se.aspectratio):(Qe=be.r,ke=Qe*se.aspectratio),ke*=(1+se.baseratio)/2,ce=ke*Qe}oe=Math.min(oe,ce/be.vTotal)}for(te=0;te<Ie.length;te++)if(be=Ie[te][0],se=be.trace,se.scalegroup===Se){var Ze=oe*be.vTotal;se.type==="funnelarea"&&(Ze/=(1+se.baseratio)/2,Ze/=se.aspectratio),be.r=Math.sqrt(Ze)}}}function Te(Ie){var re=Ie[0],be=re.r,te=re.trace,se=N.getRotationAngle(te.rotation),fe=2*Math.PI/re.vTotal,oe="px0",Se="px1",ce,ke,Qe;if(te.direction==="counterclockwise"){for(ce=0;ce<Ie.length&&Ie[ce].hidden;ce++);if(ce===Ie.length)return;se+=fe*Ie[ce].v,fe*=-1,oe="px1",Se="px0"}for(Qe=De(be,se),ce=0;ce<Ie.length;ce++)ke=Ie[ce],!ke.hidden&&(ke[oe]=Qe,ke.startangle=se,se+=fe*ke.v/2,ke.pxmid=De(be,se),ke.midangle=se,se+=fe*ke.v/2,Qe=De(be,se),ke.stopangle=se,ke[Se]=Qe,ke.largeArc=ke.v>re.vTotal/2?1:0,ke.halfangle=Math.PI*Math.min(ke.v/re.vTotal,.5),ke.ring=1-te.hole,ke.rInscribed=xe(ke,re))}function De(Ie,re){return[Ie*Math.sin(re),-Ie*Math.cos(re)]}function Ve(Ie,re,be){var te=Ie._fullLayout,se=be.trace,fe=se.texttemplate,oe=se.textinfo;if(!fe&&oe&&oe!=="none"){var Se=oe.split("+"),ce=function(tt){return Se.indexOf(tt)!==-1},ke=ce("label"),Qe=ce("text"),Ze=ce("value"),Xe=ce("percent"),ct=te.separators,pt;if(pt=ke?[re.label]:[],Qe){var Ye=N.getFirstFilled(se.text,re.pts);z(Ye)&&pt.push(Ye)}Ze&&pt.push(N.formatPieValue(re.v,ct)),Xe&&pt.push(N.formatPiePercent(re.v/be.vTotal,ct)),re.text=pt.join("<br>")}function je(tt){return{label:tt.label,value:tt.v,valueLabel:N.formatPieValue(tt.v,te.separators),percent:tt.v/be.vTotal,percentLabel:N.formatPiePercent(tt.v/be.vTotal,te.separators),color:tt.color,text:tt.text,customdata:T.castOption(se,tt.i,"customdata")}}if(fe){var et=T.castOption(se,re.i,"texttemplate");if(!et)re.text="";else{var yt=je(re),ft=N.getFirstFilled(se.text,re.pts);(z(ft)||ft==="")&&(yt.text=ft),re.text=T.texttemplateString(et,yt,Ie._fullLayout._d3locale,yt,se._meta||{})}}}function _e(Ie,re){var be=Ie.rotate*Math.PI/180,te=Math.cos(be),se=Math.sin(be),fe=(re.left+re.right)/2,oe=(re.top+re.bottom)/2;Ie.textX=fe*te-oe*se,Ie.textY=fe*se+oe*te,Ie.noCenter=!0}d.exports={plot:U,formatSliceLabel:Ve,transformInsideText:ie,determineInsideTextFont:W,positionTitleOutside:pe,prerenderTitles:X,layoutAreas:Oe,attachFxHandlers:B,computeTransform:_e}},8357:function(d,h,c){var g=c(9898),v=c(3463),y=c(2597).resizeText;d.exports=function(O){var T=O._fullLayout._pielayer.selectAll(".trace");y(O,T,"pie"),T.each(function(k){var w=k[0],C=w.trace,_=g.select(this);_.style({opacity:C.opacity}),_.selectAll("path.surface").each(function(M){g.select(this).call(v,M,C,O)})})}},3463:function(d,h,c){var g=c(7901),v=c(3581).castOption,y=c(2209);d.exports=function(O,T,k,w){var C=k.marker.line,_=v(C.color,T.pts)||g.defaultLine,M=v(C.width,T.pts)||0;O.call(y,T,k,w).style("stroke-width",M).call(g.stroke,_)}},5225:function(d,h,c){var g=c(1828);d.exports=function(y,b){for(var O=0;O<y.length;O++)y[O].i=O;g.mergeArray(b.text,y,"tx"),g.mergeArray(b.texttemplate,y,"txt"),g.mergeArray(b.hovertext,y,"htx"),g.mergeArray(b.customdata,y,"data"),g.mergeArray(b.textposition,y,"tp"),b.textfont&&(g.mergeArrayCastPositive(b.textfont.size,y,"ts"),g.mergeArray(b.textfont.color,y,"tc"),g.mergeArray(b.textfont.family,y,"tf"));var T=b.marker;if(T){g.mergeArrayCastPositive(T.size,y,"ms"),g.mergeArrayCastPositive(T.opacity,y,"mo"),g.mergeArray(T.symbol,y,"mx"),g.mergeArray(T.angle,y,"ma"),g.mergeArray(T.standoff,y,"mf"),g.mergeArray(T.color,y,"mc");var k=T.line;T.line&&(g.mergeArray(k.color,y,"mlc"),g.mergeArrayCastPositive(k.width,y,"mlw"));var w=T.gradient;w&&w.type!=="none"&&(g.mergeArray(w.type,y,"mgt"),g.mergeArray(w.color,y,"mgc"))}}},2196:function(d,h,c){var g=c(2663).axisHoverFormat,v=c(5386).si,y=c(5386).fF,b=c(693),O=c(1940),T=c(9952).P,k=c(9952).u,w=c(1424),C=c(7581),_=c(1426).extendFlat;function M(N){return{valType:"any",dflt:0,editType:"calc"}}function I(N){return{valType:"any",editType:"calc"}}function V(N){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}d.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:M(),yperiod:M(),xperiod0:I(),yperiod0:I(),xperiodalignment:V(),yperiodalignment:V(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:v({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:y({},{keys:C.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:_({},T,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:k,marker:_({symbol:{valType:"enumerated",values:w.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:_({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},b("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},b("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:O({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(d,h,c){var g=c(2770),v=c(1828),y=c(9298),b=c(2973),O=c(606).BADNUM,T=c(4098),k=c(6922),w=c(5225),C=c(6279);function _(z,U){var F=z._fullLayout,B=U._xA=y.getFromId(z,U.xaxis||"x","x"),E=U._yA=y.getFromId(z,U.yaxis||"y","y"),W=B.makeCalcdata(U,"x"),X=E.makeCalcdata(U,"y"),ie=b(U,B,"x",W),L=b(U,E,"y",X),me=ie.vals,ae=L.vals,q=U._length,de=new Array(q),ee=U.ids,xe=Q(U,F,B,E),we=!1,Be,pe,ne,le,Y,ve;V(F,U);var Oe="x",Le="y",Te;if(xe)v.pushUnique(xe.traceIndices,U._expandedIndex),Be=xe.orientation==="v",Be?(Le="s",Te="x"):(Oe="s",Te="y"),Y=xe.stackgaps==="interpolate";else{var De=I(U,q);M(z,U,B,E,me,ae,De)}var Ve=!!U.xperiodalignment,_e=!!U.yperiodalignment;for(pe=0;pe<q;pe++){var Ie=de[pe]={},re=g(me[pe]),be=g(ae[pe]);re&&be?(Ie[Oe]=me[pe],Ie[Le]=ae[pe],Ve&&(Ie.orig_x=W[pe],Ie.xEnd=ie.ends[pe],Ie.xStart=ie.starts[pe]),_e&&(Ie.orig_y=X[pe],Ie.yEnd=L.ends[pe],Ie.yStart=L.starts[pe])):xe&&(Be?re:be)?(Ie[Te]=Be?me[pe]:ae[pe],Ie.gap=!0,Y?(Ie.s=O,we=!0):Ie.s=0):Ie[Oe]=Ie[Le]=O,ee&&(Ie.id=String(ee[pe]))}if(w(de,U),k(z,U),C(de,U),xe){for(pe=0;pe<de.length;)de[pe][Te]===O?de.splice(pe,1):pe++;if(v.sort(de,function(oe,Se){return oe[Te]-Se[Te]||oe.i-Se.i}),we){for(pe=0;pe<de.length-1&&de[pe].gap;)pe++;for(ve=de[pe].s,ve||(ve=de[pe].s=0),ne=0;ne<pe;ne++)de[ne].s=ve;for(le=de.length-1;le>pe&&de[le].gap;)le--;for(ve=de[le].s,ne=de.length-1;ne>le;ne--)de[ne].s=ve;for(;pe<le;)if(pe++,de[pe].gap){for(ne=pe+1;de[ne].gap;)ne++;for(var te=de[pe-1][Te],se=de[pe-1].s,fe=(de[ne].s-se)/(de[ne][Te]-te);pe<ne;)de[pe].s=se+(de[pe][Te]-te)*fe,pe++}}}return de}function M(z,U,F,B,E,W,X){var ie=U._length,L=z._fullLayout,me=F._id,ae=B._id,q=L._firstScatter[N(U)]===U.uid,de=(Q(U,L,F,B)||{}).orientation,ee=U.fill;F._minDtick=0,B._minDtick=0;var xe={padded:!0},we={padded:!0};X&&(xe.ppad=we.ppad=X);var Be=ie<2||E[0]!==E[ie-1]||W[0]!==W[ie-1];Be&&(ee==="tozerox"||ee==="tonextx"&&(q||de==="h"))?xe.tozero=!0:!(U.error_y||{}).visible&&(ee==="tonexty"||ee==="tozeroy"||!T.hasMarkers(U)&&!T.hasText(U))&&(xe.padded=!1,xe.ppad=0),Be&&(ee==="tozeroy"||ee==="tonexty"&&(q||de==="v"))?we.tozero=!0:(ee==="tonextx"||ee==="tozerox")&&(we.padded=!1),me&&(U._extremes[me]=y.findExtremes(F,E,xe)),ae&&(U._extremes[ae]=y.findExtremes(B,W,we))}function I(z,U){if(T.hasMarkers(z)){var F=z.marker,B=1.6*(z.marker.sizeref||1),E;if(z.marker.sizemode==="area"?E=function(me){return Math.max(Math.sqrt((me||0)/B),3)}:E=function(me){return Math.max((me||0)/B,3)},v.isArrayOrTypedArray(F.size)){var W={type:"linear"};y.setConvert(W);for(var X=W.makeCalcdata(z.marker,"size"),ie=new Array(U),L=0;L<U;L++)ie[L]=E(X[L]);return ie}else return E(F.size)}}function V(z,U){var F=N(U),B=z._firstScatter;B[F]||(B[F]=U.uid)}function N(z){var U=z.stackgroup;return z.xaxis+z.yaxis+z.type+(U?"-"+U:"")}function Q(z,U,F,B){var E=z.stackgroup;if(E){var W=U._scatterStackOpts[F._id+B._id][E],X=W.orientation==="v"?B:F;if(X.type==="linear"||X.type==="log")return W}}d.exports={calc:_,calcMarkerSize:I,calcAxisExpansion:M,setFirstScatter:V,getStackOpts:Q}},6279:function(d,h,c){var g=c(1828);d.exports=function(y,b){g.isArrayOrTypedArray(b.selectedpoints)&&g.tagSelected(y,b)}},6922:function(d,h,c){var g=c(2869).hasColorscale,v=c(8803),y=c(4098);d.exports=function(O,T){y.hasLines(T)&&g(T,"line")&&v(O,T,{vals:T.line.color,containerStr:"line",cLetter:"c"}),y.hasMarkers(T)&&(g(T,"marker")&&v(O,T,{vals:T.marker.color,containerStr:"marker",cLetter:"c"}),g(T,"marker.line")&&v(O,T,{vals:T.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(d){d.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(d,h,c){var g=c(7761),v=c(1661).setGroupPositions;function y(T,k){for(var w=k.xaxis,C=k.yaxis,_=T._fullLayout,M=T._fullData,I=T.calcdata,V=[],N=[],Q=0;Q<M.length;Q++){var z=M[Q];z.visible===!0&&z.type==="scatter"&&z.xaxis===w._id&&z.yaxis===C._id&&(z.orientation==="h"?V.push(I[Q]):z.orientation==="v"&&N.push(I[Q]))}var U={mode:_.scattermode,gap:_.scattergap};v(T,w,C,N,U),v(T,C,w,V,U)}d.exports=function(k,w){k._fullLayout.scattermode==="group"&&y(k,w);var C=w.xaxis,_=w.yaxis,M=C._id+_._id,I=k._fullLayout._scatterStackOpts[M];if(I){var V=k.calcdata,N,Q,z,U,F,B,E,W,X,ie,L,me,ae,q,de;for(var ee in I){ie=I[ee];var xe=ie.traceIndices;if(xe.length){for(L=ie.stackgaps==="interpolate",me=ie.groupnorm,ie.orientation==="v"?(ae="x",q="y"):(ae="y",q="x"),de=new Array(xe.length),N=0;N<de.length;N++)de[N]=!1;B=V[xe[0]];var we=new Array(B.length);for(N=0;N<B.length;N++)we[N]=B[N][ae];for(N=1;N<xe.length;N++){for(F=V[xe[N]],Q=z=0;Q<F.length;Q++){for(E=F[Q][ae];E>we[z]&&z<we.length;z++)b(F,Q,we[z],N,de,L,ae),Q++;if(E!==we[z]){for(U=0;U<N;U++)b(V[xe[U]],z,E,U,de,L,ae);we.splice(z,0,E)}z++}for(;z<we.length;z++)b(F,Q,we[z],N,de,L,ae),Q++}var Be=we.length;for(Q=0;Q<B.length;Q++){for(W=B[Q][q]=B[Q].s,N=1;N<xe.length;N++)F=V[xe[N]],F[0].trace._rawLength=F[0].trace._length,F[0].trace._length=Be,W+=F[Q].s,F[Q][q]=W;if(me)for(X=(me==="fraction"?W:W/100)||1,N=0;N<xe.length;N++){var pe=V[xe[N]][Q];pe[q]/=X,pe.sNorm=pe.s/X}}for(N=0;N<xe.length;N++){F=V[xe[N]];var ne=F[0].trace,le=g.calcMarkerSize(ne,ne._rawLength),Y=Array.isArray(le);if(le&&de[N]||Y){var ve=le;for(le=new Array(Be),Q=0;Q<Be;Q++)le[Q]=F[Q].gap?0:Y?ve[F[Q].i]:ve}var Oe=new Array(Be),Le=new Array(Be);for(Q=0;Q<Be;Q++)Oe[Q]=F[Q].x,Le[Q]=F[Q].y;g.calcAxisExpansion(k,ne,C,_,Oe,Le,le),F[0].t.orientation=ie.orientation}}}}};function b(T,k,w,C,_,M,I){_[C]=!0;var V={i:null,gap:!0,s:0};if(V[I]=w,T.splice(k,0,V),k&&w===T[k-1][I]){var N=T[k-1];V.s=N.s,V.i=N.i,V.gap=N.gap}else M&&(V.s=O(T,k,w,I));k||(T[0].t=T[1].t,T[0].trace=T[1].trace,delete T[1].t,delete T[1].trace)}function O(T,k,w,C){var _=T[k-1],M=T[k+1];return M?_?_.s+(M.s-_.s)*(w-_[C])/(M[C]-_[C]):M.s:_.s}},462:function(d,h,c){var g=c(1828),v=c(6125),y=c(2196);d.exports=function(O,T){var k,w,C;function _(Q){return g.coerce(w._input,w,y,Q)}if(T.scattermode==="group")for(C=0;C<O.length;C++)w=O[C],w.type==="scatter"&&(k=w._input,v(k,w,T,_));for(C=0;C<O.length;C++){var M=O[C];if(M.type==="scatter"){var I=M.fill;if(!(I==="none"||I==="toself")&&(M.opacity=void 0,I==="tonexty"||I==="tonextx"))for(var V=C-1;V>=0;V--){var N=O[V];if(N.type==="scatter"&&N.xaxis===M.xaxis&&N.yaxis===M.yaxis){N.opacity=void 0;break}}}}}},7438:function(d,h,c){var g=c(1828),v=c(3972),y=c(2196),b=c(7581),O=c(4098),T=c(7513),k=c(3927),w=c(565),C=c(9508),_=c(1058),M=c(4039),I=c(2410),V=c(8908),N=c(1828).coercePattern;d.exports=function(z,U,F,B){function E(de,ee){return g.coerce(z,U,y,de,ee)}var W=T(z,U,B,E);if(W||(U.visible=!1),!!U.visible){k(z,U,B,E),E("xhoverformat"),E("yhoverformat");var X=w(z,U,B,E);B.scattermode==="group"&&U.orientation===void 0&&E("orientation","v");var ie=!X&&W<b.PTS_LINESONLY?"lines+markers":"lines";E("text"),E("hovertext"),E("mode",ie),O.hasLines(U)&&(_(z,U,F,B,E,{backoff:!0}),M(z,U,E),E("connectgaps"),E("line.simplify")),O.hasMarkers(U)&&C(z,U,F,B,E,{gradient:!0}),O.hasText(U)&&(E("texttemplate"),I(z,U,B,E));var L=[];(O.hasMarkers(U)||O.hasText(U))&&(E("cliponaxis"),E("marker.maxdisplayed"),L.push("points")),E("fill",X?X.fillDflt:"none"),U.fill!=="none"&&(V(z,U,F,E),O.hasLines(U)||M(z,U,E),N(E,"fillpattern",U.fillcolor,!1));var me=(U.line||{}).color,ae=(U.marker||{}).color;(U.fill==="tonext"||U.fill==="toself")&&L.push("fills"),E("hoveron",L.join("+")||"points"),U.hoveron!=="fills"&&E("hovertemplate");var q=v.getComponentMethod("errorbars","supplyDefaults");q(z,U,me||ae||F,{axis:"y"}),q(z,U,me||ae||F,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(U,E)}}},8908:function(d,h,c){var g=c(7901),v=c(1828).isArrayOrTypedArray;d.exports=function(b,O,T,k){var w=!1;if(O.marker){var C=O.marker.color,_=(O.marker.line||{}).color;C&&!v(C)?w=C:_&&!v(_)&&(w=_)}k("fillcolor",g.addOpacity((O.line||{}).color||w||T,.5))}},8225:function(d,h,c){var g=c(9298);d.exports=function(y,b,O){var T={},k={_fullLayout:O},w=g.getFromTrace(k,b,"x"),C=g.getFromTrace(k,b,"y"),_=y.orig_x;_===void 0&&(_=y.x);var M=y.orig_y;return M===void 0&&(M=y.y),T.xLabel=g.tickText(w,w.c2l(_),!0).text,T.yLabel=g.tickText(C,C.c2l(M),!0).text,T}},4603:function(d,h,c){var g=c(7901),v=c(4098);d.exports=function(b,O){var T,k;if(b.mode==="lines")return T=b.line.color,T&&g.opacity(T)?T:b.fillcolor;if(b.mode==="none")return b.fill?b.fillcolor:"";var w=O.mcc||(b.marker||{}).color,C=O.mlcc||((b.marker||{}).line||{}).color;return k=w&&g.opacity(w)?w:C&&g.opacity(C)&&(O.mlw||((b.marker||{}).line||{}).width)?C:"",k?g.opacity(k)<.3?g.addOpacity(k,.3):k:(T=(b.line||{}).color,T&&g.opacity(T)&&v.hasLines(b)&&b.line.width?T:b.fillcolor)}},6125:function(d,h,c){var g=c(9082).getAxisGroup;d.exports=function(y,b,O,T){var k=b.orientation,w=b[{v:"x",h:"y"}[k]+"axis"],C=g(O,w)+k,_=O._alignmentOpts||{},M=T("alignmentgroup"),I=_[C];I||(I=_[C]={});var V=I[M];V?V.traces.push(b):V=I[M]={traces:[b],alignmentIndex:Object.keys(I).length,offsetGroups:{}};var N=T("offsetgroup"),Q=V.offsetGroups,z=Q[N];N&&(z||(z=Q[N]={offsetIndex:Object.keys(Q).length}),b._offsetIndex=z.offsetIndex)}},3720:function(d,h,c){var g=c(1828),v=c(211),y=c(3972),b=c(4603),O=c(7901),T=g.fillText;d.exports=function(w,C,_,M){var I=w.cd,V=I[0].trace,N=w.xa,Q=w.ya,z=N.c2p(C),U=Q.c2p(_),F=[z,U],B=V.hoveron||"",E=V.mode.indexOf("markers")!==-1?3:.5,W=!!V.xperiodalignment,X=!!V.yperiodalignment;if(B.indexOf("points")!==-1){var ie=function(ke){if(W){var Qe=N.c2p(ke.xStart),Ze=N.c2p(ke.xEnd);return z>=Math.min(Qe,Ze)&&z<=Math.max(Qe,Ze)?0:1/0}var Xe=Math.max(3,ke.mrc||0),ct=1-1/Xe,pt=Math.abs(N.c2p(ke.x)-z);return pt<Xe?ct*pt/Xe:pt-Xe+ct},L=function(ke){if(X){var Qe=Q.c2p(ke.yStart),Ze=Q.c2p(ke.yEnd);return U>=Math.min(Qe,Ze)&&U<=Math.max(Qe,Ze)?0:1/0}var Xe=Math.max(3,ke.mrc||0),ct=1-1/Xe,pt=Math.abs(Q.c2p(ke.y)-U);return pt<Xe?ct*pt/Xe:pt-Xe+ct},me=function(ke){var Qe=Math.max(E,ke.mrc||0),Ze=N.c2p(ke.x)-z,Xe=Q.c2p(ke.y)-U;return Math.max(Math.sqrt(Ze*Ze+Xe*Xe)-Qe,1-E/Qe)},ae=v.getDistanceFunction(M,ie,L,me);if(v.getClosest(I,ae,w),w.index!==!1){var q=I[w.index],de=N.c2p(q.x,!0),ee=Q.c2p(q.y,!0),xe=q.mrc||1;w.index=q.i;var we=I[0].t.orientation,Be=we&&(q.sNorm||q.s),pe=we==="h"?Be:q.orig_x!==void 0?q.orig_x:q.x,ne=we==="v"?Be:q.orig_y!==void 0?q.orig_y:q.y;return g.extendFlat(w,{color:b(V,q),x0:de-xe,x1:de+xe,xLabelVal:pe,y0:ee-xe,y1:ee+xe,yLabelVal:ne,spikeDistance:me(q),hovertemplate:V.hovertemplate}),T(q,V,w),y.getComponentMethod("errorbars","hoverInfo")(q,V,w),[w]}}if(B.indexOf("fills")!==-1&&V._polygons){var le=V._polygons,Y=[],ve=!1,Oe=1/0,Le=-1/0,Te=1/0,De=-1/0,Ve,_e,Ie,re,be,te,se,fe,oe;for(Ve=0;Ve<le.length;Ve++)Ie=le[Ve],Ie.contains(F)&&(ve=!ve,Y.push(Ie),Te=Math.min(Te,Ie.ymin),De=Math.max(De,Ie.ymax));if(ve){Te=Math.max(Te,0),De=Math.min(De,Q._length);var Se=(Te+De)/2;for(Ve=0;Ve<Y.length;Ve++)for(re=Y[Ve].pts,_e=1;_e<re.length;_e++)fe=re[_e-1][1],oe=re[_e][1],fe>Se!=oe>=Se&&(te=re[_e-1][0],se=re[_e][0],oe-fe&&(be=te+(se-te)*(Se-fe)/(oe-fe),Oe=Math.min(Oe,be),Le=Math.max(Le,be)));Oe=Math.max(Oe,0),Le=Math.min(Le,N._length);var ce=O.defaultLine;return O.opacity(V.fillcolor)?ce=V.fillcolor:O.opacity((V.line||{}).color)&&(ce=V.line.color),g.extendFlat(w,{distance:w.maxHoverDistance,x0:Oe,x1:Le,y0:Se,y1:Se,color:ce,hovertemplate:!1}),delete w.index,V.text&&!Array.isArray(V.text)?w.text=String(V.text):w.text=V.name,[w]}}}},7368:function(d,h,c){var g=c(4098);d.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:c(2196),layoutAttributes:c(1479),supplyDefaults:c(7438),crossTraceDefaults:c(462),supplyLayoutDefaults:c(9334),calc:c(7761).calc,crossTraceCalc:c(2626),arraysToCalcdata:c(5225),plot:c(7399),colorbar:c(4898),formatLabels:c(8225),style:c(6296).style,styleOnSelect:c(6296).styleOnSelect,hoverPoints:c(3720),selectPoints:c(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:c(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(d){d.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(d,h,c){var g=c(1828),v=c(1479);d.exports=function(y,b){function O(k,w){return g.coerce(y,b,v,k,w)}var T=b.barmode==="group";b.scattermode==="group"&&O("scattergap",T?b.bargap:.2)}},1058:function(d,h,c){var g=c(1828).isArrayOrTypedArray,v=c(2869).hasColorscale,y=c(1586);d.exports=function(O,T,k,w,C,_){_||(_={});var M=(O.marker||{}).color;if(C("line.color",k),v(O,"line"))y(O,T,w,C,{prefix:"line.",cLetter:"c"});else{var I=(g(M)?!1:M)||k;C("line.color",I)}C("line.width"),_.noDash||C("line.dash"),_.backoff&&C("line.backoff")}},4621:function(d,h,c){var g=c(1424),v=c(606),y=v.BADNUM,b=v.LOG_CLIP,O=b+.5,T=b-.5,k=c(1828),w=k.segmentsIntersect,C=k.constrain,_=c(7581);d.exports=function(I,V){var N=V.trace||{},Q=V.xaxis,z=V.yaxis,U=Q.type==="log",F=z.type==="log",B=Q._length,E=z._length,W=V.backoff,X=N.marker,ie=V.connectGaps,L=V.baseTolerance,me=V.shape,ae=me==="linear",q=N.fill&&N.fill!=="none",de=[],ee=_.minTolerance,xe=I.length,we=new Array(xe),Be=0,pe,ne,le,Y,ve,Oe,Le,Te,De,Ve,_e,Ie,re,be,te,se;function fe(Ct){var Pt=I[Ct];if(!Pt)return!1;var dn=V.linearized?Q.l2p(Pt.x):Q.c2p(Pt.x),rn=V.linearized?z.l2p(Pt.y):z.c2p(Pt.y);if(dn===y){if(U&&(dn=Q.c2p(Pt.x,!0)),dn===y)return!1;F&&rn===y&&(dn*=Math.abs(Q._m*E*(Q._m>0?O:T)/(z._m*B*(z._m>0?O:T)))),dn*=1e3}if(rn===y){if(F&&(rn=z.c2p(Pt.y,!0)),rn===y)return!1;rn*=1e3}return[dn,rn]}function oe(Ct,Pt,dn,rn){var Wt=dn-Ct,Rt=rn-Pt,fn=.5-Ct,Hn=.5-Pt,nr=Wt*Wt+Rt*Rt,Er=Wt*fn+Rt*Hn;if(Er>0&&Er<nr){var zt=fn*Rt-Hn*Wt;if(zt*zt<nr)return!0}}var Se,ce;function ke(Ct,Pt){var dn=Ct[0]/B,rn=Ct[1]/E,Wt=Math.max(0,-dn,dn-1,-rn,rn-1);return Wt&&Se!==void 0&&oe(dn,rn,Se,ce)&&(Wt=0),Wt&&Pt&&oe(dn,rn,Pt[0]/B,Pt[1]/E)&&(Wt=0),(1+_.toleranceGrowth*Wt)*L}function Qe(Ct,Pt){var dn=Ct[0]-Pt[0],rn=Ct[1]-Pt[1];return Math.sqrt(dn*dn+rn*rn)}var Ze=_.maxScreensAway,Xe=-B*Ze,ct=B*(1+Ze),pt=-E*Ze,Ye=E*(1+Ze),je=[[Xe,pt,ct,pt],[ct,pt,ct,Ye],[ct,Ye,Xe,Ye],[Xe,Ye,Xe,pt]],et,yt,ft,tt,wt,Xt;function Gt(Ct,Pt){for(var dn=[],rn=0,Wt=0;Wt<4;Wt++){var Rt=je[Wt],fn=w(Ct[0],Ct[1],Pt[0],Pt[1],Rt[0],Rt[1],Rt[2],Rt[3]);fn&&(!rn||Math.abs(fn.x-dn[0][0])>1||Math.abs(fn.y-dn[0][1])>1)&&(fn=[fn.x,fn.y],rn&&Qe(fn,Ct)<Qe(dn[0],Ct)?dn.unshift(fn):dn.push(fn),rn++)}return dn}function Nt(Ct){if(Ct[0]<Xe||Ct[0]>ct||Ct[1]<pt||Ct[1]>Ye)return[C(Ct[0],Xe,ct),C(Ct[1],pt,Ye)]}function Bt(Ct,Pt){if(Ct[0]===Pt[0]&&(Ct[0]===Xe||Ct[0]===ct)||Ct[1]===Pt[1]&&(Ct[1]===pt||Ct[1]===Ye))return!0}function vn(Ct,Pt){var dn=[],rn=Nt(Ct),Wt=Nt(Pt);return rn&&Wt&&Bt(rn,Wt)||(rn&&dn.push(rn),Wt&&dn.push(Wt)),dn}function En(Ct,Pt,dn){return function(rn,Wt){var Rt=Nt(rn),fn=Nt(Wt),Hn=[];if(Rt&&fn&&Bt(Rt,fn))return Hn;Rt&&Hn.push(Rt),fn&&Hn.push(fn);var nr=2*k.constrain((rn[Ct]+Wt[Ct])/2,Pt,dn)-((Rt||rn)[Ct]+(fn||Wt)[Ct]);if(nr){var Er;Rt&&fn?Er=nr>0==Rt[Ct]>fn[Ct]?Rt:fn:Er=Rt||fn,Er[Ct]+=nr}return Hn}}var ln;me==="linear"||me==="spline"?ln=Gt:me==="hv"||me==="vh"?ln=vn:me==="hvh"?ln=En(0,Xe,ct):me==="vhv"&&(ln=En(1,pt,Ye));function Yn(Ct,Pt){var dn=Pt[0]-Ct[0],rn=(Pt[1]-Ct[1])/dn,Wt=(Ct[1]*Pt[0]-Pt[1]*Ct[0])/dn;return Wt>0?[rn>0?Xe:ct,Ye]:[rn>0?ct:Xe,pt]}function an(Ct){var Pt=Ct[0],dn=Ct[1],rn=Pt===we[Be-1][0],Wt=dn===we[Be-1][1];if(!(rn&&Wt))if(Be>1){var Rt=Pt===we[Be-2][0],fn=dn===we[Be-2][1];rn&&(Pt===Xe||Pt===ct)&&Rt?fn?Be--:we[Be-1]=Ct:Wt&&(dn===pt||dn===Ye)&&fn?Rt?Be--:we[Be-1]=Ct:we[Be++]=Ct}else we[Be++]=Ct}function wn(Ct){we[Be-1][0]!==Ct[0]&&we[Be-1][1]!==Ct[1]&&an([ft,tt]),an(Ct),wt=null,ft=tt=0}var Xn=k.isArrayOrTypedArray(X);function Un(Ct){if(Ct&&W&&(Ct.i=pe,Ct.d=I,Ct.trace=N,Ct.marker=Xn?X[Ct.i]:X,Ct.backoff=W),Se=Ct[0]/B,ce=Ct[1]/E,et=Ct[0]<Xe?Xe:Ct[0]>ct?ct:0,yt=Ct[1]<pt?pt:Ct[1]>Ye?Ye:0,et||yt){if(!Be)we[Be++]=[et||Ct[0],yt||Ct[1]];else if(wt){var Pt=ln(wt,Ct);Pt.length>1&&(wn(Pt[0]),we[Be++]=Pt[1])}else Xt=ln(we[Be-1],Ct)[0],we[Be++]=Xt;var dn=we[Be-1];et&&yt&&(dn[0]!==et||dn[1]!==yt)?(wt&&(ft!==et&&tt!==yt?an(ft&&tt?Yn(wt,Ct):[ft||et,tt||yt]):ft&&tt&&an([ft,tt])),an([et,yt])):ft-et&&tt-yt&&an([et||ft,yt||tt]),wt=Ct,ft=et,tt=yt}else wt&&wn(ln(wt,Ct)[0]),we[Be++]=Ct}for(pe=0;pe<xe;pe++)if(ne=fe(pe),!!ne){for(Be=0,wt=null,Un(ne),pe++;pe<xe;pe++){if(Y=fe(pe),!Y){if(ie)continue;break}if(!ae||!V.simplify){Un(Y);continue}var Sn=fe(pe+1);if(Ve=Qe(Y,ne),!(!(q&&(Be===0||Be===xe-1))&&Ve<ke(Y,Sn)*ee)){for(Te=[(Y[0]-ne[0])/Ve,(Y[1]-ne[1])/Ve],ve=ne,_e=Ve,Ie=be=te=0,Le=!1,le=Y,pe++;pe<I.length;pe++){if(Oe=Sn,Sn=fe(pe+1),!Oe){if(ie)continue;break}if(De=[Oe[0]-ne[0],Oe[1]-ne[1]],se=De[0]*Te[1]-De[1]*Te[0],be=Math.min(be,se),te=Math.max(te,se),te-be>ke(Oe,Sn))break;le=Oe,re=De[0]*Te[0]+De[1]*Te[1],re>_e?(_e=re,Y=Oe,Le=!1):re<Ie&&(Ie=re,ve=Oe,Le=!0)}if(Le?(Un(Y),le!==ve&&Un(ve)):(ve!==ne&&Un(ve),le!==Y&&Un(Y)),Un(le),pe>=I.length||!Oe)break;Un(Oe),ne=Oe}}wt&&an([ft||wt[0],tt||wt[1]]),de.push(we.slice(0,Be))}var lt=me.slice(me.length-1);if(W&&lt!=="h"&&lt!=="v"){for(var ut=!1,xt=-1,gt=[],Dt=0;Dt<de.length;Dt++)for(var He=0;He<de[Dt].length-1;He++){var it=de[Dt][He],dt=de[Dt][He+1],mt=g.applyBackoff(dt,it);(mt[0]!==dt[0]||mt[1]!==dt[1])&&(ut=!0),gt[xt+1]||(xt++,gt[xt]=[it,[mt[0],mt[1]]])}return ut?gt:de}return de}},4039:function(d){d.exports=function(c,g,v){var y=v("line.shape");y==="spline"&&v("line.smoothing")}},8687:function(d){var h={tonextx:1,tonexty:1,tonext:1};d.exports=function(g,v,y){var b,O,T,k,w,C={},_=!1,M=-1,I=0,V=-1;for(O=0;O<y.length;O++)b=y[O][0].trace,T=b.stackgroup||"",T?T in C?w=C[T]:(w=C[T]=I,I++):b.fill in h&&V>=0?w=V:(w=V=I,I++),w<M&&(_=!0),b._groupIndex=M=w;var N=y.slice();_&&N.sort(function(z,U){var F=z[0].trace,B=U[0].trace;return F._groupIndex-B._groupIndex||F.index-B.index});var Q={};for(O=0;O<N.length;O++)b=N[O][0].trace,T=b.stackgroup||"",b.visible===!0?(b._nexttrace=null,b.fill in h&&(k=Q[T],b._prevtrace=k||null,k&&(k._nexttrace=b)),b._ownfill=b.fill&&(b.fill.substr(0,6)==="tozero"||b.fill==="toself"||b.fill.substr(0,2)==="to"&&!b._prevtrace),Q[T]=b):b._prevtrace=b._nexttrace=b._ownfill=null;return N}},9984:function(d,h,c){var g=c(2770);d.exports=function(y,b){b||(b=2);var O=y.marker,T=O.sizeref||1,k=O.sizemin||0,w=O.sizemode==="area"?function(C){return Math.sqrt(C/T)}:function(C){return C/T};return function(C){var _=w(C/b);return g(_)&&_>0?Math.max(_,k):0}}},4898:function(d){d.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(d,h,c){var g=c(7901),v=c(2869).hasColorscale,y=c(1586),b=c(4098);d.exports=function(T,k,w,C,_,M){var I=b.isBubble(T),V=(T.line||{}).color,N;if(M=M||{},V&&(w=V),_("marker.symbol"),_("marker.opacity",I?.7:1),_("marker.size"),M.noAngle||(_("marker.angle"),M.noAngleRef||_("marker.angleref"),M.noStandOff||_("marker.standoff")),_("marker.color",w),v(T,"marker")&&y(T,k,C,_,{prefix:"marker.",cLetter:"c"}),M.noSelect||(_("selected.marker.color"),_("unselected.marker.color"),_("selected.marker.size"),_("unselected.marker.size")),M.noLine||(V&&!Array.isArray(V)&&k.marker.color!==V?N=V:I?N=g.background:N=g.defaultLine,_("marker.line.color",N),v(T,"marker.line")&&y(T,k,C,_,{prefix:"marker.line.",cLetter:"c"}),_("marker.line.width",I?1:0)),I&&(_("marker.sizeref"),_("marker.sizemin"),_("marker.sizemode")),M.gradient){var Q=_("marker.gradient.type");Q!=="none"&&_("marker.gradient.color")}}},3927:function(d,h,c){var g=c(1828).dateTick0,v=c(606),y=v.ONEWEEK;function b(O,T){return O%y===0?g(T,1):g(T,0)}d.exports=function(T,k,w,C,_){if(_||(_={x:!0,y:!0}),_.x){var M=C("xperiod");M&&(C("xperiod0",b(M,k.xcalendar)),C("xperiodalignment"))}if(_.y){var I=C("yperiod");I&&(C("yperiod0",b(I,k.ycalendar)),C("yperiodalignment"))}}},7399:function(d,h,c){var g=c(9898),v=c(3972),y=c(1828),b=y.ensureSingle,O=y.identity,T=c(1424),k=c(4098),w=c(4621),C=c(8687),_=c(1082).tester;d.exports=function(Q,z,U,F,B,E){var W,X,ie=!B,L=!!B&&B.duration>0,me=C(Q,z,U);if(W=F.selectAll("g.trace").data(me,function(q){return q[0].trace.uid}),W.enter().append("g").attr("class",function(q){return"trace scatter trace"+q[0].trace.uid}).style("stroke-miterlimit",2),W.order(),M(Q,W,z),L){E&&(X=E());var ae=g.transition().duration(B.duration).ease(B.easing).each("end",function(){X&&X()}).each("interrupt",function(){X&&X()});ae.each(function(){F.selectAll("g.trace").each(function(q,de){I(Q,de,z,q,me,this,B)})})}else W.each(function(q,de){I(Q,de,z,q,me,this,B)});ie&&W.exit().remove(),F.selectAll("path:not([d])").remove()};function M(N,Q,z){Q.each(function(U){var F=b(g.select(this),"g","fills");T.setClipUrl(F,z.layerClipId,N);var B=U[0].trace,E=[];B._ownfill&&E.push("_ownFill"),B._nexttrace&&E.push("_nextFill");var W=F.selectAll("g").data(E,O);W.enter().append("g"),W.exit().each(function(X){B[X]=null}).remove(),W.order().each(function(X){B[X]=b(g.select(this),"path","js-fill")})})}function I(N,Q,z,U,F,B,E){var W=N._context.staticPlot,X;V(N,Q,z,U,F);var ie=!!E&&E.duration>0;function L(tt){return ie?tt.transition():tt}var me=z.xaxis,ae=z.yaxis,q=U[0].trace,de=q.line,ee=g.select(B),xe=b(ee,"g","errorbars"),we=b(ee,"g","lines"),Be=b(ee,"g","points"),pe=b(ee,"g","text");if(v.getComponentMethod("errorbars","plot")(N,xe,z,E),q.visible!==!0)return;L(ee).style("opacity",q.opacity);var ne,le,Y=q.fill.charAt(q.fill.length-1);Y!=="x"&&Y!=="y"&&(Y=""),U[0][z.isRangePlot?"nodeRangePlot3":"node3"]=ee;var ve="",Oe=[],Le=q._prevtrace;Le&&(ve=Le._prevRevpath||"",le=Le._nextFill,Oe=Le._polygons);var Te,De,Ve="",_e="",Ie,re,be,te,se,fe,oe,Se=[],ce=y.noop;if(ne=q._ownFill,k.hasLines(q)||q.fill!=="none"){for(le&&le.datum(U),["hv","vh","hvh","vhv"].indexOf(de.shape)!==-1?(Ie=T.steps(de.shape),re=T.steps(de.shape.split("").reverse().join(""))):de.shape==="spline"?Ie=re=function(tt){var wt=tt[tt.length-1];return tt.length>1&&tt[0][0]===wt[0]&&tt[0][1]===wt[1]?T.smoothclosed(tt.slice(1),de.smoothing):T.smoothopen(tt,de.smoothing)}:Ie=re=function(tt){return"M"+tt.join("L")},be=function(tt){return re(tt.reverse())},Se=w(U,{xaxis:me,yaxis:ae,trace:q,connectGaps:q.connectgaps,baseTolerance:Math.max(de.width||1,3)/4,shape:de.shape,backoff:de.backoff,simplify:de.simplify,fill:q.fill}),oe=q._polygons=new Array(Se.length),X=0;X<Se.length;X++)q._polygons[X]=_(Se[X]);Se.length&&(te=Se[0][0],se=Se[Se.length-1],fe=se[se.length-1]),ce=function(tt){return function(wt){if(Te=Ie(wt),De=be(wt),Ve?Y?(Ve+="L"+Te.substr(1),_e=De+("L"+_e.substr(1))):(Ve+="Z"+Te,_e=De+"Z"+_e):(Ve=Te,_e=De),k.hasLines(q)){var Xt=g.select(this);if(Xt.datum(U),tt)L(Xt.style("opacity",0).attr("d",Te).call(T.lineGroupStyle)).style("opacity",1);else{var Gt=L(Xt);Gt.attr("d",Te),T.singleLineStyle(U,Gt)}}}}}var ke=we.selectAll(".js-line").data(Se);L(ke.exit()).style("opacity",0).remove(),ke.each(ce(!1)),ke.enter().append("path").classed("js-line",!0).style("vector-effect",W?"none":"non-scaling-stroke").call(T.lineGroupStyle).each(ce(!0)),T.setClipUrl(ke,z.layerClipId,N);function Qe(tt){L(tt).attr("d","M0,0Z")}Se.length?(ne?(ne.datum(U),te&&fe&&(Y?(Y==="y"?te[1]=fe[1]=ae.c2p(0,!0):Y==="x"&&(te[0]=fe[0]=me.c2p(0,!0)),L(ne).attr("d","M"+fe+"L"+te+"L"+Ve.substr(1)).call(T.singleFillStyle,N)):L(ne).attr("d",Ve+"Z").call(T.singleFillStyle,N))):le&&(q.fill.substr(0,6)==="tonext"&&Ve&&ve?(q.fill==="tonext"?L(le).attr("d",Ve+"Z"+ve+"Z").call(T.singleFillStyle,N):L(le).attr("d",Ve+"L"+ve.substr(1)+"Z").call(T.singleFillStyle,N),q._polygons=q._polygons.concat(Oe)):(Qe(le),q._polygons=null)),q._prevRevpath=_e,q._prevPolygons=oe):(ne?Qe(ne):le&&Qe(le),q._polygons=q._prevRevpath=q._prevPolygons=null);function Ze(tt){return tt.filter(function(wt){return!wt.gap&&wt.vis})}function Xe(tt){return tt.filter(function(wt){return wt.vis})}function ct(tt){return tt.filter(function(wt){return!wt.gap})}function pt(tt){return tt.id}function Ye(tt){if(tt.ids)return pt}function je(){return!1}function et(tt,wt,Xt){var Gt,Nt,Bt,vn=Xt[0].trace,En=k.hasMarkers(vn),ln=k.hasText(vn),Yn=Ye(vn),an=je,wn=je;if(En||ln){var Xn=O,Un=vn.stackgroup,Sn=Un&&N._fullLayout._scatterStackOpts[me._id+ae._id][Un].stackgaps==="infer zero";vn.marker.maxdisplayed||vn._needsCull?Xn=Sn?Xe:Ze:Un&&!Sn&&(Xn=ct),En&&(an=Xn),ln&&(wn=Xn)}Nt=tt.selectAll("path.point"),Gt=Nt.data(an,Yn);var lt=Gt.enter().append("path").classed("point",!0);ie&&lt.call(T.pointStyle,vn,N).call(T.translatePoints,me,ae).style("opacity",0).transition().style("opacity",1),Gt.order();var ut;En&&(ut=T.makePointStyleFns(vn)),Gt.each(function(xt){var gt=g.select(this),Dt=L(gt);Bt=T.translatePoint(xt,Dt,me,ae),Bt?(T.singlePointStyle(xt,Dt,vn,ut,N),z.layerClipId&&T.hideOutsideRangePoint(xt,Dt,me,ae,vn.xcalendar,vn.ycalendar),vn.customdata&&gt.classed("plotly-customdata",xt.data!==null&&xt.data!==void 0)):Dt.remove()}),ie?Gt.exit().transition().style("opacity",0).remove():Gt.exit().remove(),Nt=wt.selectAll("g"),Gt=Nt.data(wn,Yn),Gt.enter().append("g").classed("textpoint",!0).append("text"),Gt.order(),Gt.each(function(xt){var gt=g.select(this),Dt=L(gt.select("text"));Bt=T.translatePoint(xt,Dt,me,ae),Bt?z.layerClipId&&T.hideOutsideRangePoint(xt,gt,me,ae,vn.xcalendar,vn.ycalendar):gt.remove()}),Gt.selectAll("text").call(T.textPointStyle,vn,N).each(function(xt){var gt=me.c2p(xt.x),Dt=ae.c2p(xt.y);g.select(this).selectAll("tspan.line").each(function(){L(g.select(this)).attr({x:gt,y:Dt})})}),Gt.exit().remove()}Be.datum(U),pe.datum(U),et(Be,pe,U);var yt=q.cliponaxis===!1,ft=yt?null:z.layerClipId;T.setClipUrl(Be,ft,N),T.setClipUrl(pe,ft,N)}function V(N,Q,z,U,F){var B=z.xaxis,E=z.yaxis,W=g.extent(y.simpleMap(B.range,B.r2c)),X=g.extent(y.simpleMap(E.range,E.r2c)),ie=U[0].trace;if(k.hasMarkers(ie)){var L=ie.marker.maxdisplayed;if(L!==0){var me=U.filter(function(ee){return ee.x>=W[0]&&ee.x<=W[1]&&ee.y>=X[0]&&ee.y<=X[1]}),ae=Math.ceil(me.length/L),q=0;F.forEach(function(ee,xe){var we=ee[0].trace;k.hasMarkers(we)&&we.marker.maxdisplayed>0&&xe<Q&&q++});var de=Math.round(q*ae/3+Math.floor(q/3)*ae/7.1);U.forEach(function(ee){delete ee.vis}),me.forEach(function(ee,xe){Math.round((xe+de)%ae)===0&&(ee.vis=!0)})}}}},8002:function(d,h,c){var g=c(4098);d.exports=function(y,b){var O=y.cd,T=y.xaxis,k=y.yaxis,w=[],C=O[0].trace,_,M,I,V,N=!g.hasMarkers(C)&&!g.hasText(C);if(N)return[];if(b===!1)for(_=0;_<O.length;_++)O[_].selected=0;else for(_=0;_<O.length;_++)M=O[_],I=T.c2p(M.x),V=k.c2p(M.y),M.i!==null&&b.contains([I,V],!1,_,y)?(w.push({pointNumber:M.i,x:T.c2d(M.x),y:k.c2d(M.y)}),M.selected=1):M.selected=0;return w}},565:function(d){var h=["orientation","groupnorm","stackgaps"];d.exports=function(g,v,y,b){var O=y._scatterStackOpts,T=b("stackgroup");if(T){var k=v.xaxis+v.yaxis,w=O[k];w||(w=O[k]={});var C=w[T],_=!1;C?C.traces.push(v):(C=w[T]={traceIndices:[],traces:[v]},_=!0);for(var M={orientation:v.x&&!v.y?"h":"v"},I=0;I<h.length;I++){var V=h[I],N=V+"Found";if(!C[N]){var Q=g[V]!==void 0,z=V==="orientation";if((Q||_)&&(C[V]=b(V,M[V]),z&&(C.fillDflt=C[V]==="h"?"tonextx":"tonexty"),Q&&(C[N]=!0,!_&&(delete C.traces[0][V],z))))for(var U=0;U<C.traces.length-1;U++){var F=C.traces[U];F._input.fill!==F.fill&&(F.fill=C.fillDflt)}}}return C}}},6296:function(d,h,c){var g=c(9898),v=c(1424),y=c(3972);function b(w){var C=g.select(w).selectAll("g.trace.scatter");C.style("opacity",function(_){return _[0].trace.opacity}),C.selectAll("g.points").each(function(_){var M=g.select(this),I=_.trace||_[0].trace;O(M,I,w)}),C.selectAll("g.text").each(function(_){var M=g.select(this),I=_.trace||_[0].trace;T(M,I,w)}),C.selectAll("g.trace path.js-line").call(v.lineGroupStyle),C.selectAll("g.trace path.js-fill").call(v.fillGroupStyle,w),y.getComponentMethod("errorbars","style")(C)}function O(w,C,_){v.pointStyle(w.selectAll("path.point"),C,_)}function T(w,C,_){v.textPointStyle(w.selectAll("text"),C,_)}function k(w,C,_){var M=C[0].trace;M.selectedpoints?(v.selectedPointStyle(_.selectAll("path.point"),M),v.selectedTextStyle(_.selectAll("text"),M)):(O(_,M,w),T(_,M,w))}d.exports={style:b,stylePoints:O,styleText:T,styleOnSelect:k}},4098:function(d,h,c){var g=c(1828);d.exports={hasLines:function(v){return v.visible&&v.mode&&v.mode.indexOf("lines")!==-1},hasMarkers:function(v){return v.visible&&(v.mode&&v.mode.indexOf("markers")!==-1||v.type==="splom")},hasText:function(v){return v.visible&&v.mode&&v.mode.indexOf("text")!==-1},isBubble:function(v){return g.isPlainObject(v.marker)&&g.isArrayOrTypedArray(v.marker.size)}}},2410:function(d,h,c){var g=c(1828);d.exports=function(v,y,b,O,T){T=T||{},O("textposition"),g.coerceFont(O,"textfont",T.font||b.font),T.noSelect||(O("selected.textfont.color"),O("unselected.textfont.color"))}},7513:function(d,h,c){var g=c(1828),v=c(3972);d.exports=function(b,O,T,k){var w=k("x"),C=k("y"),_,M=v.getComponentMethod("calendars","handleTraceDefaults");if(M(b,O,["x","y"],T),w){var I=g.minRowLength(w);C?_=Math.min(I,g.minRowLength(C)):(_=I,k("y0"),k("dy"))}else{if(!C)return 0;_=g.minRowLength(C),k("x0"),k("dx")}return O._length=_,_}},2887:function(d,h,c){var g=c(9298),v=c(1828),y=c(6281),b=c(9344).p,O=c(606).BADNUM;h.moduleType="transform",h.name="aggregate";var T=h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},k=T.aggregations;h.supplyDefaults=function(V,N){var Q={},z;function U(ee,xe){return v.coerce(V,Q,T,ee,xe)}var F=U("enabled");if(!F)return Q;var B=y.findArrayAttributes(N),E={};for(z=0;z<B.length;z++)E[B[z]]=1;var W=U("groups");if(!Array.isArray(W)){if(!E[W])return Q.enabled=!1,Q;E[W]=0}var X=V.aggregations||[],ie=Q.aggregations=new Array(X.length),L;function me(ee,xe){return v.coerce(X[z],L,k,ee,xe)}for(z=0;z<X.length;z++){L={_index:z};var ae=me("target"),q=me("func"),de=me("enabled");de&&ae&&(E[ae]||q==="count"&&E[ae]===void 0)?(q==="stddev"&&me("funcmode"),E[ae]=0,ie[z]=L):ie[z]={enabled:!1,_index:z}}for(z=0;z<B.length;z++)E[B[z]]&&ie.push({target:B[z],func:k.func.dflt,enabled:!0,_index:-1});return Q},h.calcTransform=function(V,N,Q){if(Q.enabled){var z=Q.groups,U=v.getTargetArray(N,{target:z});if(U){var F,B,E,W,X={},ie={},L=[],me=b(N.transforms,Q),ae=U.length;for(N._length&&(ae=Math.min(ae,N._length)),F=0;F<ae;F++)B=U[F],E=X[B],E===void 0?(X[B]=L.length,W=[F],L.push(W),ie[X[B]]=me(F)):(L[E].push(F),ie[X[B]]=(ie[X[B]]||[]).concat(me(F)));Q._indexToPoints=ie;var q=Q.aggregations;for(F=0;F<q.length;F++)w(V,N,L,q[F]);typeof z=="string"&&w(V,N,L,{target:z,func:"first",enabled:!0}),N._length=L.length}}};function w(V,N,Q,z){if(z.enabled){for(var U=z.target,F=v.nestedProperty(N,U),B=F.get(),E=g.getDataConversions(V,N,U,B),W=C(z,E),X=new Array(Q.length),ie=0;ie<Q.length;ie++)X[ie]=W(B,Q[ie]);F.set(X),z.func==="count"&&v.pushUnique(N._arrayAttrs,U)}}function C(V,N){var Q=V.func,z=N.d2c,U=N.c2d;switch(Q){case"count":return _;case"first":return M;case"last":return I;case"sum":return function(F,B){for(var E=0,W=0;W<B.length;W++){var X=z(F[B[W]]);X!==O&&(E+=X)}return U(E)};case"avg":return function(F,B){for(var E=0,W=0,X=0;X<B.length;X++){var ie=z(F[B[X]]);ie!==O&&(E+=ie,W++)}return W?U(E/W):O};case"min":return function(F,B){for(var E=1/0,W=0;W<B.length;W++){var X=z(F[B[W]]);X!==O&&(E=Math.min(E,X))}return E===1/0?O:U(E)};case"max":return function(F,B){for(var E=-1/0,W=0;W<B.length;W++){var X=z(F[B[W]]);X!==O&&(E=Math.max(E,X))}return E===-1/0?O:U(E)};case"range":return function(F,B){for(var E=1/0,W=-1/0,X=0;X<B.length;X++){var ie=z(F[B[X]]);ie!==O&&(E=Math.min(E,ie),W=Math.max(W,ie))}return W===-1/0||E===1/0?O:U(W-E)};case"change":return function(F,B){var E=z(F[B[0]]),W=z(F[B[B.length-1]]);return E===O||W===O?O:U(W-E)};case"median":return function(F,B){for(var E=[],W=0;W<B.length;W++){var X=z(F[B[W]]);X!==O&&E.push(X)}if(!E.length)return O;E.sort(v.sorterAsc);var ie=(E.length-1)/2;return U((E[Math.floor(ie)]+E[Math.ceil(ie)])/2)};case"mode":return function(F,B){for(var E={},W=0,X=O,ie=0;ie<B.length;ie++){var L=z(F[B[ie]]);if(L!==O){var me=E[L]=(E[L]||0)+1;me>W&&(W=me,X=L)}}return W?U(X):O};case"rms":return function(F,B){for(var E=0,W=0,X=0;X<B.length;X++){var ie=z(F[B[X]]);ie!==O&&(E+=ie*ie,W++)}return W?U(Math.sqrt(E/W)):O};case"stddev":return function(F,B){var E=0,W=0,X=1,ie=O,L;for(L=0;L<B.length&&ie===O;L++)ie=z(F[B[L]]);if(ie===O)return O;for(;L<B.length;L++){var me=z(F[B[L]]);if(me!==O){var ae=me-ie;E+=ae,W+=ae*ae,X++}}var q=V.funcmode==="sample"?X-1:X;return q?Math.sqrt((W-E*E/X)/q):0}}}function _(V,N){return N.length}function M(V,N){return V[N[0]]}function I(V,N){return V[N[N.length-1]]}},4382:function(d,h,c){var g=c(1828),v=c(3972),y=c(9298),b=c(9344).p,O=c(4808),T=O.COMPARISON_OPS,k=O.INTERVAL_OPS,w=O.SET_OPS;h.moduleType="transform",h.name="filter",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(T).concat(k).concat(w),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},h.supplyDefaults=function(_){var M={};function I(z,U){return g.coerce(_,M,h.attributes,z,U)}var V=I("enabled");if(V){var N=I("target");if(g.isArrayOrTypedArray(N)&&N.length===0)return M.enabled=!1,M;I("preservegaps"),I("operation"),I("value");var Q=v.getComponentMethod("calendars","handleDefaults");Q(_,M,"valuecalendar",null),Q(_,M,"targetcalendar",null)}return M},h.calcTransform=function(_,M,I){if(!I.enabled)return;var V=g.getTargetArray(M,I);if(!V)return;var N=I.target,Q=V.length;M._length&&(Q=Math.min(Q,M._length));var z=I.targetcalendar,U=M._arrayAttrs,F=I.preservegaps;if(typeof N=="string"){var B=g.nestedProperty(M,N+"calendar").get();B&&(z=B)}var E=y.getDataToCoordFunc(_,M,N,V),W=C(I,E,z),X={},ie={},L=0;function me(we,Be){for(var pe=0;pe<U.length;pe++){var ne=g.nestedProperty(M,U[pe]);we(ne,Be)}}var ae,q;F?(ae=function(we){X[we.astr]=g.extendDeep([],we.get()),we.set(new Array(Q))},q=function(we,Be){var pe=X[we.astr][Be];we.get()[Be]=pe}):(ae=function(we){X[we.astr]=g.extendDeep([],we.get()),we.set([])},q=function(we,Be){var pe=X[we.astr][Be];we.get().push(pe)}),me(ae);for(var de=b(M.transforms,I),ee=0;ee<Q;ee++){var xe=W(V[ee]);xe?(me(q,ee),ie[L++]=de(ee)):F&&L++}I._indexToPoints=ie,M._length=L};function C(_,M,I){var V=_.operation,N=_.value,Q=Array.isArray(N);function z(E){return E.indexOf(V)!==-1}var U=function(E){return M(E,0,_.valuecalendar)},F=function(E){return M(E,0,I)},B;switch(z(T)?B=U(Q?N[0]:N):z(k)?B=Q?[U(N[0]),U(N[1])]:[U(N),U(N)]:z(w)&&(B=Q?N.map(U):[U(N)]),V){case"=":return function(E){return F(E)===B};case"!=":return function(E){return F(E)!==B};case"<":return function(E){return F(E)<B};case"<=":return function(E){return F(E)<=B};case">":return function(E){return F(E)>B};case">=":return function(E){return F(E)>=B};case"[]":return function(E){var W=F(E);return W>=B[0]&&W<=B[1]};case"()":return function(E){var W=F(E);return W>B[0]&&W<B[1]};case"[)":return function(E){var W=F(E);return W>=B[0]&&W<B[1]};case"(]":return function(E){var W=F(E);return W>B[0]&&W<=B[1]};case"][":return function(E){var W=F(E);return W<=B[0]||W>=B[1]};case")(":return function(E){var W=F(E);return W<B[0]||W>B[1]};case"](":return function(E){var W=F(E);return W<=B[0]||W>B[1]};case")[":return function(E){var W=F(E);return W<B[0]||W>=B[1]};case"{}":return function(E){return B.indexOf(F(E))!==-1};case"}{":return function(E){return B.indexOf(F(E))===-1}}}},3102:function(d,h,c){var g=c(1828),v=c(6281),y=c(4875),b=c(9344).p;h.moduleType="transform",h.name="groupby",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},h.supplyDefaults=function(T,k,w){var C,_={};function M(U,F){return g.coerce(T,_,h.attributes,U,F)}var I=M("enabled");if(!I)return _;M("groups"),M("nameformat",w._dataLength>1?"%{group} (%{trace})":"%{group}");var V=T.styles,N=_.styles=[];if(V)for(C=0;C<V.length;C++){var Q=N[C]={};g.coerce(V[C],N[C],h.attributes.styles,"target");var z=g.coerce(V[C],N[C],h.attributes.styles,"value");g.isPlainObject(z)?Q.value=g.extendDeep({},z):z&&delete Q.value}return _},h.transform=function(T,k){var w,C,_,M=[];for(C=0;C<T.length;C++)for(w=O(T[C],k),_=0;_<w.length;_++)M.push(w[_]);return M};function O(T,k){var w,C,_,M,I,V,N,Q,z,U,F=k.transform,B=k.transformIndex,E=T.transforms[B].groups,W=b(T.transforms,F);if(!g.isArrayOrTypedArray(E)||E.length===0)return[T];var X=g.filterUnique(E),ie=new Array(X.length),L=E.length,me=v.findArrayAttributes(T),ae=F.styles||[],q={};for(w=0;w<ae.length;w++)q[ae[w].target]=ae[w].value;F.styles&&(U=g.keyedContainer(F,"styles","target","value.name"));var de={},ee={};for(w=0;w<X.length;w++){V=X[w],de[V]=w,ee[V]=0,N=ie[w]=g.extendDeepNoArrays({},T),N._group=V,N.transforms[B]._indexToPoints={};var xe=null;for(U&&(xe=U.get(V)),xe||xe===""?N.name=xe:N.name=g.templateString(F.nameformat,{trace:T.name,group:V}),Q=N.transforms,N.transforms=[],C=0;C<Q.length;C++)N.transforms[C]=g.extendDeepNoArrays({},Q[C]);for(C=0;C<me.length;C++)g.nestedProperty(N,me[C]).set([])}for(_=0;_<me.length;_++){for(M=me[_],C=0,z=[];C<X.length;C++)z[C]=g.nestedProperty(ie[C],M).get();for(I=g.nestedProperty(T,M).get(),C=0;C<L;C++)z[de[E[C]]].push(I[C])}for(C=0;C<L;C++){N=ie[de[E[C]]];var we=N.transforms[B]._indexToPoints;we[ee[E[C]]]=W(C),ee[E[C]]++}for(w=0;w<X.length;w++)V=X[w],N=ie[w],y.clearExpandedTraceDefaultColors(N),N=g.extendDeepNoArrays(N,q[V]||{});return ie}},9344:function(d,h){h.p=function(c,g){for(var v,y,b=0;b<c.length&&(v=c[b],v!==g);b++)!v._indexToPoints||v.enabled===!1||(y=v._indexToPoints);var O=y?function(T){return y[T]}:function(T){return[T]};return O}},2275:function(d,h,c){var g=c(1828),v=c(9298),y=c(9344).p,b=c(606).BADNUM;h.moduleType="transform",h.name="sort",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},h.supplyDefaults=function(k){var w={};function C(M,I){return g.coerce(k,w,h.attributes,M,I)}var _=C("enabled");return _&&(C("target"),C("order")),w},h.calcTransform=function(k,w,C){if(C.enabled){var _=g.getTargetArray(w,C);if(_){var M=C.target,I=_.length;w._length&&(I=Math.min(I,w._length));var V=w._arrayAttrs,N=v.getDataToCoordFunc(k,w,M,_),Q=O(C,_,N,I),z=y(w.transforms,C),U={},F,B;for(F=0;F<V.length;F++){var E=g.nestedProperty(w,V[F]),W=E.get(),X=new Array(I);for(B=0;B<I;B++)X[B]=W[Q[B]];E.set(X)}for(B=0;B<I;B++)U[B]=z(Q[B]);C._indexToPoints=U,w._length=I}}};function O(k,w,C,_){var M=new Array(_),I=new Array(_),V;for(V=0;V<_;V++)M[V]={v:w[V],i:V};for(M.sort(T(k,C)),V=0;V<_;V++)I[V]=M[V].i;return I}function T(k,w){switch(k.order){case"ascending":return function(C,_){var M=w(C.v),I=w(_.v);return M===b?1:I===b?-1:M-I};case"descending":return function(C,_){var M=w(C.v),I=w(_.v);return M===b?1:I===b?-1:I-M}}}},1506:function(d,h){h.version="2.26.2"},5791:function(d){d.exports=v,d.exports.isMobile=v,d.exports.default=v;var h=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,c=/CrOS/,g=/android|ipad|playbook|silk/i;function v(y){y||(y={});var b=y.ua;if(!b&&typeof navigator<"u"&&(b=navigator.userAgent),b&&b.headers&&typeof b.headers["user-agent"]=="string"&&(b=b.headers["user-agent"]),typeof b!="string")return!1;var O=h.test(b)&&!c.test(b)||!!y.tablet&&g.test(b);return!O&&y.tablet&&y.featureDetect&&navigator&&navigator.maxTouchPoints>1&&b.indexOf("Macintosh")!==-1&&b.indexOf("Safari")!==-1&&(O=!0),O}},9898:function(d,h,c){var g,v;(function(){var y={version:"3.8.0"},b=[].slice,O=function(D){return b.call(D)},T=self.document;function k(D){return D&&(D.ownerDocument||D.document||D).documentElement}function w(D){return D&&(D.ownerDocument&&D.ownerDocument.defaultView||D.document&&D||D.defaultView)}if(T)try{O(T.documentElement.childNodes)[0].nodeType}catch{O=function(G){for(var he=G.length,Ce=new Array(he);he--;)Ce[he]=G[he];return Ce}}if(Date.now||(Date.now=function(){return+new Date}),T)try{T.createElement("DIV").style.setProperty("opacity",0,"")}catch{var C=this.Element.prototype,_=C.setAttribute,M=C.setAttributeNS,I=this.CSSStyleDeclaration.prototype,V=I.setProperty;C.setAttribute=function(G,he){_.call(this,G,he+"")},C.setAttributeNS=function(G,he,Ce){M.call(this,G,he,Ce+"")},I.setProperty=function(G,he,Ce){V.call(this,G,he+"",Ce)}}y.ascending=N;function N(D,G){return D<G?-1:D>G?1:D>=G?0:NaN}y.descending=function(D,G){return G<D?-1:G>D?1:G>=D?0:NaN},y.min=function(D,G){var he=-1,Ce=D.length,Pe,$e;if(arguments.length===1){for(;++he<Ce;)if(($e=D[he])!=null&&$e>=$e){Pe=$e;break}for(;++he<Ce;)($e=D[he])!=null&&Pe>$e&&(Pe=$e)}else{for(;++he<Ce;)if(($e=G.call(D,D[he],he))!=null&&$e>=$e){Pe=$e;break}for(;++he<Ce;)($e=G.call(D,D[he],he))!=null&&Pe>$e&&(Pe=$e)}return Pe},y.max=function(D,G){var he=-1,Ce=D.length,Pe,$e;if(arguments.length===1){for(;++he<Ce;)if(($e=D[he])!=null&&$e>=$e){Pe=$e;break}for(;++he<Ce;)($e=D[he])!=null&&$e>Pe&&(Pe=$e)}else{for(;++he<Ce;)if(($e=G.call(D,D[he],he))!=null&&$e>=$e){Pe=$e;break}for(;++he<Ce;)($e=G.call(D,D[he],he))!=null&&$e>Pe&&(Pe=$e)}return Pe},y.extent=function(D,G){var he=-1,Ce=D.length,Pe,$e,Ke;if(arguments.length===1){for(;++he<Ce;)if(($e=D[he])!=null&&$e>=$e){Pe=Ke=$e;break}for(;++he<Ce;)($e=D[he])!=null&&(Pe>$e&&(Pe=$e),Ke<$e&&(Ke=$e))}else{for(;++he<Ce;)if(($e=G.call(D,D[he],he))!=null&&$e>=$e){Pe=Ke=$e;break}for(;++he<Ce;)($e=G.call(D,D[he],he))!=null&&(Pe>$e&&(Pe=$e),Ke<$e&&(Ke=$e))}return[Pe,Ke]};function Q(D){return D===null?NaN:+D}function z(D){return!isNaN(D)}y.sum=function(D,G){var he=0,Ce=D.length,Pe,$e=-1;if(arguments.length===1)for(;++$e<Ce;)z(Pe=+D[$e])&&(he+=Pe);else for(;++$e<Ce;)z(Pe=+G.call(D,D[$e],$e))&&(he+=Pe);return he},y.mean=function(D,G){var he=0,Ce=D.length,Pe,$e=-1,Ke=Ce;if(arguments.length===1)for(;++$e<Ce;)z(Pe=Q(D[$e]))?he+=Pe:--Ke;else for(;++$e<Ce;)z(Pe=Q(G.call(D,D[$e],$e)))?he+=Pe:--Ke;if(Ke)return he/Ke},y.quantile=function(D,G){var he=(D.length-1)*G+1,Ce=Math.floor(he),Pe=+D[Ce-1],$e=he-Ce;return $e?Pe+$e*(D[Ce]-Pe):Pe},y.median=function(D,G){var he=[],Ce=D.length,Pe,$e=-1;if(arguments.length===1)for(;++$e<Ce;)z(Pe=Q(D[$e]))&&he.push(Pe);else for(;++$e<Ce;)z(Pe=Q(G.call(D,D[$e],$e)))&&he.push(Pe);if(he.length)return y.quantile(he.sort(N),.5)},y.variance=function(D,G){var he=D.length,Ce=0,Pe,$e,Ke=0,We=-1,rt=0;if(arguments.length===1)for(;++We<he;)z(Pe=Q(D[We]))&&($e=Pe-Ce,Ce+=$e/++rt,Ke+=$e*(Pe-Ce));else for(;++We<he;)z(Pe=Q(G.call(D,D[We],We)))&&($e=Pe-Ce,Ce+=$e/++rt,Ke+=$e*(Pe-Ce));if(rt>1)return Ke/(rt-1)},y.deviation=function(){var D=y.variance.apply(this,arguments);return D&&Math.sqrt(D)};function U(D){return{left:function(G,he,Ce,Pe){for(arguments.length<3&&(Ce=0),arguments.length<4&&(Pe=G.length);Ce<Pe;){var $e=Ce+Pe>>>1;D(G[$e],he)<0?Ce=$e+1:Pe=$e}return Ce},right:function(G,he,Ce,Pe){for(arguments.length<3&&(Ce=0),arguments.length<4&&(Pe=G.length);Ce<Pe;){var $e=Ce+Pe>>>1;D(G[$e],he)>0?Pe=$e:Ce=$e+1}return Ce}}}var F=U(N);y.bisectLeft=F.left,y.bisect=y.bisectRight=F.right,y.bisector=function(D){return U(D.length===1?function(G,he){return N(D(G),he)}:D)},y.shuffle=function(D,G,he){(Ce=arguments.length)<3&&(he=D.length,Ce<2&&(G=0));for(var Ce=he-G,Pe,$e;Ce;)$e=Math.random()*Ce--|0,Pe=D[Ce+G],D[Ce+G]=D[$e+G],D[$e+G]=Pe;return D},y.permute=function(D,G){for(var he=G.length,Ce=new Array(he);he--;)Ce[he]=D[G[he]];return Ce},y.pairs=function(D){for(var G=0,he=D.length-1,Ce=D[0],Pe=new Array(he<0?0:he);G<he;)Pe[G]=[Ce,Ce=D[++G]];return Pe},y.transpose=function(D){if(!($e=D.length))return[];for(var G=-1,he=y.min(D,B),Ce=new Array(he);++G<he;)for(var Pe=-1,$e,Ke=Ce[G]=new Array($e);++Pe<$e;)Ke[Pe]=D[Pe][G];return Ce};function B(D){return D.length}y.zip=function(){return y.transpose(arguments)},y.keys=function(D){var G=[];for(var he in D)G.push(he);return G},y.values=function(D){var G=[];for(var he in D)G.push(D[he]);return G},y.entries=function(D){var G=[];for(var he in D)G.push({key:he,value:D[he]});return G},y.merge=function(D){for(var G=D.length,he,Ce=-1,Pe=0,$e,Ke;++Ce<G;)Pe+=D[Ce].length;for($e=new Array(Pe);--G>=0;)for(Ke=D[G],he=Ke.length;--he>=0;)$e[--Pe]=Ke[he];return $e};var E=Math.abs;y.range=function(D,G,he){if(arguments.length<3&&(he=1,arguments.length<2&&(G=D,D=0)),(G-D)/he===1/0)throw new Error("infinite range");var Ce=[],Pe=W(E(he)),$e=-1,Ke;if(D*=Pe,G*=Pe,he*=Pe,he<0)for(;(Ke=D+he*++$e)>G;)Ce.push(Ke/Pe);else for(;(Ke=D+he*++$e)<G;)Ce.push(Ke/Pe);return Ce};function W(D){for(var G=1;D*G%1;)G*=10;return G}function X(D,G){for(var he in G)Object.defineProperty(D.prototype,he,{value:G[he],enumerable:!1})}y.map=function(D,G){var he=new ie;if(D instanceof ie)D.forEach(function(We,rt){he.set(We,rt)});else if(Array.isArray(D)){var Ce=-1,Pe=D.length,$e;if(arguments.length===1)for(;++Ce<Pe;)he.set(Ce,D[Ce]);else for(;++Ce<Pe;)he.set(G.call(D,$e=D[Ce],Ce),$e)}else for(var Ke in D)he.set(Ke,D[Ke]);return he};function ie(){this._=Object.create(null)}var L="__proto__",me="\0";X(ie,{has:de,get:function(D){return this._[ae(D)]},set:function(D,G){return this._[ae(D)]=G},remove:ee,keys:xe,values:function(){var D=[];for(var G in this._)D.push(this._[G]);return D},entries:function(){var D=[];for(var G in this._)D.push({key:q(G),value:this._[G]});return D},size:we,empty:Be,forEach:function(D){for(var G in this._)D.call(this,q(G),this._[G])}});function ae(D){return(D+="")===L||D[0]===me?me+D:D}function q(D){return(D+="")[0]===me?D.slice(1):D}function de(D){return ae(D)in this._}function ee(D){return(D=ae(D))in this._&&delete this._[D]}function xe(){var D=[];for(var G in this._)D.push(q(G));return D}function we(){var D=0;for(var G in this._)++D;return D}function Be(){for(var D in this._)return!1;return!0}y.nest=function(){var D={},G=[],he=[],Ce,Pe;function $e(We,rt,vt){if(vt>=G.length)return Pe?Pe.call(D,rt):Ce?rt.sort(Ce):rt;for(var bt=-1,Zt=rt.length,Ut=G[vt++],gn,An,jt,nn=new ie,hn;++bt<Zt;)(hn=nn.get(gn=Ut(An=rt[bt])))?hn.push(An):nn.set(gn,[An]);return We?(An=We(),jt=function(_n,Pn){An.set(_n,$e(We,Pn,vt))}):(An={},jt=function(_n,Pn){An[_n]=$e(We,Pn,vt)}),nn.forEach(jt),An}function Ke(We,rt){if(rt>=G.length)return We;var vt=[],bt=he[rt++];return We.forEach(function(Zt,Ut){vt.push({key:Zt,values:Ke(Ut,rt)})}),bt?vt.sort(function(Zt,Ut){return bt(Zt.key,Ut.key)}):vt}return D.map=function(We,rt){return $e(rt,We,0)},D.entries=function(We){return Ke($e(y.map,We,0),0)},D.key=function(We){return G.push(We),D},D.sortKeys=function(We){return he[G.length-1]=We,D},D.sortValues=function(We){return Ce=We,D},D.rollup=function(We){return Pe=We,D},D},y.set=function(D){var G=new pe;if(D)for(var he=0,Ce=D.length;he<Ce;++he)G.add(D[he]);return G};function pe(){this._=Object.create(null)}X(pe,{has:de,add:function(D){return this._[ae(D+="")]=!0,D},remove:ee,values:xe,size:we,empty:Be,forEach:function(D){for(var G in this._)D.call(this,q(G))}}),y.behavior={};function ne(D){return D}y.rebind=function(D,G){for(var he=1,Ce=arguments.length,Pe;++he<Ce;)D[Pe=arguments[he]]=le(D,G,G[Pe]);return D};function le(D,G,he){return function(){var Ce=he.apply(G,arguments);return Ce===G?D:Ce}}function Y(D,G){if(G in D)return G;G=G.charAt(0).toUpperCase()+G.slice(1);for(var he=0,Ce=ve.length;he<Ce;++he){var Pe=ve[he]+G;if(Pe in D)return Pe}}var ve=["webkit","ms","moz","Moz","o","O"];function Oe(){}y.dispatch=function(){for(var D=new Le,G=-1,he=arguments.length;++G<he;)D[arguments[G]]=Te(D);return D};function Le(){}Le.prototype.on=function(D,G){var he=D.indexOf("."),Ce="";if(he>=0&&(Ce=D.slice(he+1),D=D.slice(0,he)),D)return arguments.length<2?this[D].on(Ce):this[D].on(Ce,G);if(arguments.length===2){if(G==null)for(D in this)this.hasOwnProperty(D)&&this[D].on(Ce,null);return this}};function Te(D){var G=[],he=new ie;function Ce(){for(var Pe=G,$e=-1,Ke=Pe.length,We;++$e<Ke;)(We=Pe[$e].on)&&We.apply(this,arguments);return D}return Ce.on=function(Pe,$e){var Ke=he.get(Pe),We;return arguments.length<2?Ke&&Ke.on:(Ke&&(Ke.on=null,G=G.slice(0,We=G.indexOf(Ke)).concat(G.slice(We+1)),he.remove(Pe)),$e&&G.push(he.set(Pe,{on:$e})),D)},Ce}y.event=null;function De(){y.event.preventDefault()}function Ve(){for(var D=y.event,G;G=D.sourceEvent;)D=G;return D}function _e(D){for(var G=new Le,he=0,Ce=arguments.length;++he<Ce;)G[arguments[he]]=Te(G);return G.of=function(Pe,$e){return function(Ke){try{var We=Ke.sourceEvent=y.event;Ke.target=D,y.event=Ke,G[Ke.type].apply(Pe,$e)}finally{y.event=We}}},G}y.requote=function(D){return D.replace(Ie,"\\$&")};var Ie=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,re={}.__proto__?function(D,G){D.__proto__=G}:function(D,G){for(var he in G)D[he]=G[he]};function be(D){return re(D,oe),D}var te=function(D,G){return G.querySelector(D)},se=function(D,G){return G.querySelectorAll(D)},fe=function(D,G){var he=D.matches||D[Y(D,"matchesSelector")];return fe=function(Ce,Pe){return he.call(Ce,Pe)},fe(D,G)};typeof Sizzle=="function"&&(te=function(D,G){return Sizzle(D,G)[0]||null},se=Sizzle,fe=Sizzle.matchesSelector),y.selection=function(){return y.select(T.documentElement)};var oe=y.selection.prototype=[];oe.select=function(D){var G=[],he,Ce,Pe,$e;D=Se(D);for(var Ke=-1,We=this.length;++Ke<We;){G.push(he=[]),he.parentNode=(Pe=this[Ke]).parentNode;for(var rt=-1,vt=Pe.length;++rt<vt;)($e=Pe[rt])?(he.push(Ce=D.call($e,$e.__data__,rt,Ke)),Ce&&"__data__"in $e&&(Ce.__data__=$e.__data__)):he.push(null)}return be(G)};function Se(D){return typeof D=="function"?D:function(){return te(D,this)}}oe.selectAll=function(D){var G=[],he,Ce;D=ce(D);for(var Pe=-1,$e=this.length;++Pe<$e;)for(var Ke=this[Pe],We=-1,rt=Ke.length;++We<rt;)(Ce=Ke[We])&&(G.push(he=O(D.call(Ce,Ce.__data__,We,Pe))),he.parentNode=Ce);return be(G)};function ce(D){return typeof D=="function"?D:function(){return se(D,this)}}var ke="http://www.w3.org/1999/xhtml",Qe={svg:"http://www.w3.org/2000/svg",xhtml:ke,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};y.ns={prefix:Qe,qualify:function(D){var G=D.indexOf(":"),he=D;return G>=0&&(he=D.slice(0,G))!=="xmlns"&&(D=D.slice(G+1)),Qe.hasOwnProperty(he)?{space:Qe[he],local:D}:D}},oe.attr=function(D,G){if(arguments.length<2){if(typeof D=="string"){var he=this.node();return D=y.ns.qualify(D),D.local?he.getAttributeNS(D.space,D.local):he.getAttribute(D)}for(G in D)this.each(Ze(G,D[G]));return this}return this.each(Ze(D,G))};function Ze(D,G){D=y.ns.qualify(D);function he(){this.removeAttribute(D)}function Ce(){this.removeAttributeNS(D.space,D.local)}function Pe(){this.setAttribute(D,G)}function $e(){this.setAttributeNS(D.space,D.local,G)}function Ke(){var rt=G.apply(this,arguments);rt==null?this.removeAttribute(D):this.setAttribute(D,rt)}function We(){var rt=G.apply(this,arguments);rt==null?this.removeAttributeNS(D.space,D.local):this.setAttributeNS(D.space,D.local,rt)}return G==null?D.local?Ce:he:typeof G=="function"?D.local?We:Ke:D.local?$e:Pe}function Xe(D){return D.trim().replace(/\s+/g," ")}oe.classed=function(D,G){if(arguments.length<2){if(typeof D=="string"){var he=this.node(),Ce=(D=pt(D)).length,Pe=-1;if(G=he.classList){for(;++Pe<Ce;)if(!G.contains(D[Pe]))return!1}else for(G=he.getAttribute("class");++Pe<Ce;)if(!ct(D[Pe]).test(G))return!1;return!0}for(G in D)this.each(Ye(G,D[G]));return this}return this.each(Ye(D,G))};function ct(D){return new RegExp("(?:^|\\s+)"+y.requote(D)+"(?:\\s+|$)","g")}function pt(D){return(D+"").trim().split(/^|\s+/)}function Ye(D,G){D=pt(D).map(je);var he=D.length;function Ce(){for(var $e=-1;++$e<he;)D[$e](this,G)}function Pe(){for(var $e=-1,Ke=G.apply(this,arguments);++$e<he;)D[$e](this,Ke)}return typeof G=="function"?Pe:Ce}function je(D){var G=ct(D);return function(he,Ce){if(Pe=he.classList)return Ce?Pe.add(D):Pe.remove(D);var Pe=he.getAttribute("class")||"";Ce?(G.lastIndex=0,G.test(Pe)||he.setAttribute("class",Xe(Pe+" "+D))):he.setAttribute("class",Xe(Pe.replace(G," ")))}}oe.style=function(D,G,he){var Ce=arguments.length;if(Ce<3){if(typeof D!="string"){Ce<2&&(G="");for(he in D)this.each(et(he,D[he],G));return this}if(Ce<2){var Pe=this.node();return w(Pe).getComputedStyle(Pe,null).getPropertyValue(D)}he=""}return this.each(et(D,G,he))};function et(D,G,he){function Ce(){this.style.removeProperty(D)}function Pe(){this.style.setProperty(D,G,he)}function $e(){var Ke=G.apply(this,arguments);Ke==null?this.style.removeProperty(D):this.style.setProperty(D,Ke,he)}return G==null?Ce:typeof G=="function"?$e:Pe}oe.property=function(D,G){if(arguments.length<2){if(typeof D=="string")return this.node()[D];for(G in D)this.each(yt(G,D[G]));return this}return this.each(yt(D,G))};function yt(D,G){function he(){delete this[D]}function Ce(){this[D]=G}function Pe(){var $e=G.apply(this,arguments);$e==null?delete this[D]:this[D]=$e}return G==null?he:typeof G=="function"?Pe:Ce}oe.text=function(D){return arguments.length?this.each(typeof D=="function"?function(){var G=D.apply(this,arguments);this.textContent=G??""}:D==null?function(){this.textContent=""}:function(){this.textContent=D}):this.node().textContent},oe.html=function(D){return arguments.length?this.each(typeof D=="function"?function(){var G=D.apply(this,arguments);this.innerHTML=G??""}:D==null?function(){this.innerHTML=""}:function(){this.innerHTML=D}):this.node().innerHTML},oe.append=function(D){return D=ft(D),this.select(function(){return this.appendChild(D.apply(this,arguments))})};function ft(D){function G(){var Ce=this.ownerDocument,Pe=this.namespaceURI;return Pe===ke&&Ce.documentElement.namespaceURI===ke?Ce.createElement(D):Ce.createElementNS(Pe,D)}function he(){return this.ownerDocument.createElementNS(D.space,D.local)}return typeof D=="function"?D:(D=y.ns.qualify(D)).local?he:G}oe.insert=function(D,G){return D=ft(D),G=Se(G),this.select(function(){return this.insertBefore(D.apply(this,arguments),G.apply(this,arguments)||null)})},oe.remove=function(){return this.each(tt)};function tt(){var D=this.parentNode;D&&D.removeChild(this)}oe.data=function(D,G){var he=-1,Ce=this.length,Pe,$e;if(!arguments.length){for(D=new Array(Ce=(Pe=this[0]).length);++he<Ce;)($e=Pe[he])&&(D[he]=$e.__data__);return D}function Ke(bt,Zt){var Ut,gn=bt.length,An=Zt.length,jt=Math.min(gn,An),nn=new Array(An),hn=new Array(An),_n=new Array(gn),Pn,yn;if(G){var cr=new ie,Hr=new Array(gn),Jr;for(Ut=-1;++Ut<gn;)(Pn=bt[Ut])&&(cr.has(Jr=G.call(Pn,Pn.__data__,Ut))?_n[Ut]=Pn:cr.set(Jr,Pn),Hr[Ut]=Jr);for(Ut=-1;++Ut<An;)(Pn=cr.get(Jr=G.call(Zt,yn=Zt[Ut],Ut)))?Pn!==!0&&(nn[Ut]=Pn,Pn.__data__=yn):hn[Ut]=wt(yn),cr.set(Jr,!0);for(Ut=-1;++Ut<gn;)Ut in Hr&&cr.get(Hr[Ut])!==!0&&(_n[Ut]=bt[Ut])}else{for(Ut=-1;++Ut<jt;)Pn=bt[Ut],yn=Zt[Ut],Pn?(Pn.__data__=yn,nn[Ut]=Pn):hn[Ut]=wt(yn);for(;Ut<An;++Ut)hn[Ut]=wt(Zt[Ut]);for(;Ut<gn;++Ut)_n[Ut]=bt[Ut]}hn.update=nn,hn.parentNode=nn.parentNode=_n.parentNode=bt.parentNode,We.push(hn),rt.push(nn),vt.push(_n)}var We=Bt([]),rt=be([]),vt=be([]);if(typeof D=="function")for(;++he<Ce;)Ke(Pe=this[he],D.call(Pe,Pe.parentNode.__data__,he));else for(;++he<Ce;)Ke(Pe=this[he],D);return rt.enter=function(){return We},rt.exit=function(){return vt},rt};function wt(D){return{__data__:D}}oe.datum=function(D){return arguments.length?this.property("__data__",D):this.property("__data__")},oe.filter=function(D){var G=[],he,Ce,Pe;typeof D!="function"&&(D=Xt(D));for(var $e=0,Ke=this.length;$e<Ke;$e++){G.push(he=[]),he.parentNode=(Ce=this[$e]).parentNode;for(var We=0,rt=Ce.length;We<rt;We++)(Pe=Ce[We])&&D.call(Pe,Pe.__data__,We,$e)&&he.push(Pe)}return be(G)};function Xt(D){return function(){return fe(this,D)}}oe.order=function(){for(var D=-1,G=this.length;++D<G;)for(var he=this[D],Ce=he.length-1,Pe=he[Ce],$e;--Ce>=0;)($e=he[Ce])&&(Pe&&Pe!==$e.nextSibling&&Pe.parentNode.insertBefore($e,Pe),Pe=$e);return this},oe.sort=function(D){D=Gt.apply(this,arguments);for(var G=-1,he=this.length;++G<he;)this[G].sort(D);return this.order()};function Gt(D){return arguments.length||(D=N),function(G,he){return G&&he?D(G.__data__,he.__data__):!G-!he}}oe.each=function(D){return Nt(this,function(G,he,Ce){D.call(G,G.__data__,he,Ce)})};function Nt(D,G){for(var he=0,Ce=D.length;he<Ce;he++)for(var Pe=D[he],$e=0,Ke=Pe.length,We;$e<Ke;$e++)(We=Pe[$e])&&G(We,$e,he);return D}oe.call=function(D){var G=O(arguments);return D.apply(G[0]=this,G),this},oe.empty=function(){return!this.node()},oe.node=function(){for(var D=0,G=this.length;D<G;D++)for(var he=this[D],Ce=0,Pe=he.length;Ce<Pe;Ce++){var $e=he[Ce];if($e)return $e}return null},oe.size=function(){var D=0;return Nt(this,function(){++D}),D};function Bt(D){return re(D,vn),D}var vn=[];y.selection.enter=Bt,y.selection.enter.prototype=vn,vn.append=oe.append,vn.empty=oe.empty,vn.node=oe.node,vn.call=oe.call,vn.size=oe.size,vn.select=function(D){for(var G=[],he,Ce,Pe,$e,Ke,We=-1,rt=this.length;++We<rt;){Pe=($e=this[We]).update,G.push(he=[]),he.parentNode=$e.parentNode;for(var vt=-1,bt=$e.length;++vt<bt;)(Ke=$e[vt])?(he.push(Pe[vt]=Ce=D.call($e.parentNode,Ke.__data__,vt,We)),Ce.__data__=Ke.__data__):he.push(null)}return be(G)},vn.insert=function(D,G){return arguments.length<2&&(G=En(this)),oe.insert.call(this,D,G)};function En(D){var G,he;return function(Ce,Pe,$e){var Ke=D[$e].update,We=Ke.length,rt;for($e!=he&&(he=$e,G=0),Pe>=G&&(G=Pe+1);!(rt=Ke[G])&&++G<We;);return rt}}y.select=function(D){var G;return typeof D=="string"?(G=[te(D,T)],G.parentNode=T.documentElement):(G=[D],G.parentNode=k(D)),be([G])},y.selectAll=function(D){var G;return typeof D=="string"?(G=O(se(D,T)),G.parentNode=T.documentElement):(G=O(D),G.parentNode=null),be([G])},oe.on=function(D,G,he){var Ce=arguments.length;if(Ce<3){if(typeof D!="string"){Ce<2&&(G=!1);for(he in D)this.each(ln(he,D[he],G));return this}if(Ce<2)return(Ce=this.node()["__on"+D])&&Ce._;he=!1}return this.each(ln(D,G,he))};function ln(D,G,he){var Ce="__on"+D,Pe=D.indexOf("."),$e=an;Pe>0&&(D=D.slice(0,Pe));var Ke=Yn.get(D);Ke&&(D=Ke,$e=wn);function We(){var bt=this[Ce];bt&&(this.removeEventListener(D,bt,bt.$),delete this[Ce])}function rt(){var bt=$e(G,O(arguments));We.call(this),this.addEventListener(D,this[Ce]=bt,bt.$=he),bt._=G}function vt(){var bt=new RegExp("^__on([^.]+)"+y.requote(D)+"$"),Zt;for(var Ut in this)if(Zt=Ut.match(bt)){var gn=this[Ut];this.removeEventListener(Zt[1],gn,gn.$),delete this[Ut]}}return Pe?G?rt:We:G?Oe:vt}var Yn=y.map({mouseenter:"mouseover",mouseleave:"mouseout"});T&&Yn.forEach(function(D){"on"+D in T&&Yn.remove(D)});function an(D,G){return function(he){var Ce=y.event;y.event=he,G[0]=this.__data__;try{D.apply(this,G)}finally{y.event=Ce}}}function wn(D,G){var he=an(D,G);return function(Ce){var Pe=this,$e=Ce.relatedTarget;(!$e||$e!==Pe&&!($e.compareDocumentPosition(Pe)&8))&&he.call(Pe,Ce)}}var Xn,Un=0;function Sn(D){var G=".dragsuppress-"+ ++Un,he="click"+G,Ce=y.select(w(D)).on("touchmove"+G,De).on("dragstart"+G,De).on("selectstart"+G,De);if(Xn==null&&(Xn="onselectstart"in D?!1:Y(D.style,"userSelect")),Xn){var Pe=k(D).style,$e=Pe[Xn];Pe[Xn]="none"}return function(Ke){if(Ce.on(G,null),Xn&&(Pe[Xn]=$e),Ke){var We=function(){Ce.on(he,null)};Ce.on(he,function(){De(),We()},!0),setTimeout(We,0)}}}y.mouse=function(D){return ut(D,Ve())};var lt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ut(D,G){G.changedTouches&&(G=G.changedTouches[0]);var he=D.ownerSVGElement||D;if(he.createSVGPoint){var Ce=he.createSVGPoint();if(lt<0){var Pe=w(D);if(Pe.scrollX||Pe.scrollY){he=y.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var $e=he[0][0].getScreenCTM();lt=!($e.f||$e.e),he.remove()}}return lt?(Ce.x=G.pageX,Ce.y=G.pageY):(Ce.x=G.clientX,Ce.y=G.clientY),Ce=Ce.matrixTransform(D.getScreenCTM().inverse()),[Ce.x,Ce.y]}var Ke=D.getBoundingClientRect();return[G.clientX-Ke.left-D.clientLeft,G.clientY-Ke.top-D.clientTop]}y.touch=function(D,G,he){if(arguments.length<3&&(he=G,G=Ve().changedTouches),G){for(var Ce=0,Pe=G.length,$e;Ce<Pe;++Ce)if(($e=G[Ce]).identifier===he)return ut(D,$e)}},y.behavior.drag=function(){var D=_e(Pe,"drag","dragstart","dragend"),G=null,he=$e(Oe,y.mouse,w,"mousemove","mouseup"),Ce=$e(xt,y.touch,ne,"touchmove","touchend");function Pe(){this.on("mousedown.drag",he).on("touchstart.drag",Ce)}function $e(Ke,We,rt,vt,bt){return function(){var Zt=this,Ut=y.event.target.correspondingElement||y.event.target,gn=Zt.parentNode,An=D.of(Zt,arguments),jt=0,nn=Ke(),hn=".drag"+(nn==null?"":"-"+nn),_n,Pn=y.select(rt(Ut)).on(vt+hn,Hr).on(bt+hn,Jr),yn=Sn(Ut),cr=We(gn,nn);G?(_n=G.apply(Zt,arguments),_n=[_n.x-cr[0],_n.y-cr[1]]):_n=[0,0],An({type:"dragstart"});function Hr(){var Ar=We(gn,nn),no,fo;Ar&&(no=Ar[0]-cr[0],fo=Ar[1]-cr[1],jt|=no|fo,cr=Ar,An({type:"drag",x:Ar[0]+_n[0],y:Ar[1]+_n[1],dx:no,dy:fo}))}function Jr(){We(gn,nn)&&(Pn.on(vt+hn,null).on(bt+hn,null),yn(jt),An({type:"dragend"}))}}}return Pe.origin=function(Ke){return arguments.length?(G=Ke,Pe):G},y.rebind(Pe,D,"on")};function xt(){return y.event.changedTouches[0].identifier}y.touches=function(D,G){return arguments.length<2&&(G=Ve().touches),G?O(G).map(function(he){var Ce=ut(D,he);return Ce.identifier=he.identifier,Ce}):[]};var gt=1e-6,Dt=gt*gt,He=Math.PI,it=2*He,dt=it-gt,mt=He/2,Ct=He/180,Pt=180/He;function dn(D,G,he){return(G[0]-D[0])*(he[1]-D[1])-(G[1]-D[1])*(he[0]-D[0])}function rn(D){return D>1?mt:D<-1?-mt:Math.asin(D)}function Wt(D){return((D=Math.exp(D))-1/D)/2}function Rt(D){return((D=Math.exp(D))+1/D)/2}function fn(D){return((D=Math.exp(2*D))-1)/(D+1)}var Hn=Math.SQRT2,nr=2,Er=4;y.interpolateZoom=function(D,G){var he=D[0],Ce=D[1],Pe=D[2],$e=G[0],Ke=G[1],We=G[2],rt=$e-he,vt=Ke-Ce,bt=rt*rt+vt*vt,Zt,Ut;if(bt<Dt)Ut=Math.log(We/Pe)/Hn,Zt=function(_n){return[he+_n*rt,Ce+_n*vt,Pe*Math.exp(Hn*_n*Ut)]};else{var gn=Math.sqrt(bt),An=(We*We-Pe*Pe+Er*bt)/(2*Pe*nr*gn),jt=(We*We-Pe*Pe-Er*bt)/(2*We*nr*gn),nn=Math.log(Math.sqrt(An*An+1)-An),hn=Math.log(Math.sqrt(jt*jt+1)-jt);Ut=(hn-nn)/Hn,Zt=function(_n){var Pn=_n*Ut,yn=Rt(nn),cr=Pe/(nr*gn)*(yn*fn(Hn*Pn+nn)-Wt(nn));return[he+cr*rt,Ce+cr*vt,Pe*yn/Rt(Hn*Pn+nn)]}}return Zt.duration=Ut*1e3,Zt},y.behavior.zoom=function(){var D={x:0,y:0,k:1},G,he,Ce,Pe=[960,500],$e=zt,Ke=250,We=0,rt="mousedown.zoom",vt="mousemove.zoom",bt="mouseup.zoom",Zt,Ut="touchstart.zoom",gn,An=_e(Pn,"zoomstart","zoom","zoomend"),jt,nn,hn,_n;Wn||(Wn="onwheel"in T?(vr=function(){return-y.event.deltaY*(y.event.deltaMode?120:1)},"wheel"):"onmousewheel"in T?(vr=function(){return y.event.wheelDelta},"mousewheel"):(vr=function(){return-y.event.detail},"MozMousePixelScroll"));function Pn(Lr){Lr.on(rt,go).on(Wn+".zoom",oi).on("dblclick.zoom",Oa).on(Ut,js)}Pn.event=function(Lr){Lr.each(function(){var $o=An.of(this,arguments),gs=D;zd?y.select(this).transition().each("start.zoom",function(){D=this.__chart__||{x:0,y:0,k:1},fo($o)}).tween("zoom:zoom",function(){var Rs=Pe[0],Qa=Pe[1],gi=he?he[0]:Rs/2,Gi=he?he[1]:Qa/2,Ii=y.interpolateZoom([(gi-D.x)/D.k,(Gi-D.y)/D.k,Rs/D.k],[(gi-gs.x)/gs.k,(Gi-gs.y)/gs.k,Rs/gs.k]);return function(qc){var tl=Ii(qc),Dc=Rs/tl[2];this.__chart__=D={x:gi-tl[0]*Dc,y:Gi-tl[1]*Dc,k:Dc},rs($o)}}).each("interrupt.zoom",function(){So($o)}).each("end.zoom",function(){So($o)}):(this.__chart__=D,fo($o),rs($o),So($o))})},Pn.translate=function(Lr){return arguments.length?(D={x:+Lr[0],y:+Lr[1],k:D.k},no(),Pn):[D.x,D.y]},Pn.scale=function(Lr){return arguments.length?(D={x:D.x,y:D.y,k:null},Hr(+Lr),no(),Pn):D.k},Pn.scaleExtent=function(Lr){return arguments.length?($e=Lr==null?zt:[+Lr[0],+Lr[1]],Pn):$e},Pn.center=function(Lr){return arguments.length?(Ce=Lr&&[+Lr[0],+Lr[1]],Pn):Ce},Pn.size=function(Lr){return arguments.length?(Pe=Lr&&[+Lr[0],+Lr[1]],Pn):Pe},Pn.duration=function(Lr){return arguments.length?(Ke=+Lr,Pn):Ke},Pn.x=function(Lr){return arguments.length?(nn=Lr,jt=Lr.copy(),D={x:0,y:0,k:1},Pn):nn},Pn.y=function(Lr){return arguments.length?(_n=Lr,hn=Lr.copy(),D={x:0,y:0,k:1},Pn):_n};function yn(Lr){return[(Lr[0]-D.x)/D.k,(Lr[1]-D.y)/D.k]}function cr(Lr){return[Lr[0]*D.k+D.x,Lr[1]*D.k+D.y]}function Hr(Lr){D.k=Math.max($e[0],Math.min($e[1],Lr))}function Jr(Lr,$o){$o=cr($o),D.x+=Lr[0]-$o[0],D.y+=Lr[1]-$o[1]}function Ar(Lr,$o,gs,Rs){Lr.__chart__={x:D.x,y:D.y,k:D.k},Hr(Math.pow(2,Rs)),Jr(he=$o,gs),Lr=y.select(Lr),Ke>0&&(Lr=Lr.transition().duration(Ke)),Lr.call(Pn.event)}function no(){nn&&nn.domain(jt.range().map(function(Lr){return(Lr-D.x)/D.k}).map(jt.invert)),_n&&_n.domain(hn.range().map(function(Lr){return(Lr-D.y)/D.k}).map(hn.invert))}function fo(Lr){We++||Lr({type:"zoomstart"})}function rs(Lr){no(),Lr({type:"zoom",scale:D.k,translate:[D.x,D.y]})}function So(Lr){--We||(Lr({type:"zoomend"}),he=null)}function go(){var Lr=this,$o=An.of(Lr,arguments),gs=0,Rs=y.select(w(Lr)).on(vt,Gi).on(bt,Ii),Qa=yn(y.mouse(Lr)),gi=Sn(Lr);cc.call(Lr),fo($o);function Gi(){gs=1,Jr(y.mouse(Lr),Qa),rs($o)}function Ii(){Rs.on(vt,null).on(bt,null),gi(gs),So($o)}}function js(){var Lr=this,$o=An.of(Lr,arguments),gs={},Rs=0,Qa,gi=".zoom-"+y.event.changedTouches[0].identifier,Gi="touchmove"+gi,Ii="touchend"+gi,qc=[],tl=y.select(Lr),Dc=Sn(Lr);ta(),fo($o),tl.on(rt,null).on(Ut,ta);function ql(){var Kl=y.touches(Lr);return Qa=D.k,Kl.forEach(function(Ni){Ni.identifier in gs&&(gs[Ni.identifier]=yn(Ni))}),Kl}function ta(){var Kl=y.event.target;y.select(Kl).on(Gi,rf).on(Ii,Nf),qc.push(Kl);for(var Ni=y.event.changedTouches,Jl=0,Bi=Ni.length;Jl<Bi;++Jl)gs[Ni[Jl].identifier]=null;var na=ql(),$c=Date.now();if(na.length===1){if($c-gn<500){var Hd=na[0];Ar(Lr,Hd,gs[Hd.identifier],Math.floor(Math.log(D.k)/Math.LN2)+1),De()}gn=$c}else if(na.length>1){var Hd=na[0],of=na[1],Em=Hd[0]-of[0],Ud=Hd[1]-of[1];Rs=Em*Em+Ud*Ud}}function rf(){var Kl=y.touches(Lr),Ni,Jl,Bi,na;cc.call(Lr);for(var $c=0,Hd=Kl.length;$c<Hd;++$c,na=null)if(Bi=Kl[$c],na=gs[Bi.identifier]){if(Jl)break;Ni=Bi,Jl=na}if(na){var of=(of=Bi[0]-Ni[0])*of+(of=Bi[1]-Ni[1])*of,Em=Rs&&Math.sqrt(of/Rs);Ni=[(Ni[0]+Bi[0])/2,(Ni[1]+Bi[1])/2],Jl=[(Jl[0]+na[0])/2,(Jl[1]+na[1])/2],Hr(Em*Qa)}gn=null,Jr(Ni,Jl),rs($o)}function Nf(){if(y.event.touches.length){for(var Kl=y.event.changedTouches,Ni=0,Jl=Kl.length;Ni<Jl;++Ni)delete gs[Kl[Ni].identifier];for(var Bi in gs)return void ql()}y.selectAll(qc).on(gi,null),tl.on(rt,go).on(Ut,js),Dc(),So($o)}}function oi(){var Lr=An.of(this,arguments);Zt?clearTimeout(Zt):(cc.call(this),G=yn(he=Ce||y.mouse(this)),fo(Lr)),Zt=setTimeout(function(){Zt=null,So(Lr)},50),De(),Hr(Math.pow(2,vr()*.002)*D.k),Jr(he,G),rs(Lr)}function Oa(){var Lr=y.mouse(this),$o=Math.log(D.k)/Math.LN2;Ar(this,Lr,yn(Lr),y.event.shiftKey?Math.ceil($o)-1:Math.floor($o)+1)}return y.rebind(Pn,An,"on")};var zt=[0,1/0],vr,Wn;y.color=Br;function Br(){}Br.prototype.toString=function(){return this.rgb()+""},y.hsl=kr;function kr(D,G,he){return this instanceof kr?(this.h=+D,this.s=+G,void(this.l=+he)):arguments.length<2?D instanceof kr?new kr(D.h,D.s,D.l):en(""+D,on,kr):new kr(D,G,he)}var or=kr.prototype=new Br;or.brighter=function(D){return D=Math.pow(.7,arguments.length?D:1),new kr(this.h,this.s,this.l/D)},or.darker=function(D){return D=Math.pow(.7,arguments.length?D:1),new kr(this.h,this.s,D*this.l)},or.rgb=function(){return jr(this.h,this.s,this.l)};function jr(D,G,he){var Ce,Pe;D=isNaN(D)?0:(D%=360)<0?D+360:D,G=isNaN(G)||G<0?0:G>1?1:G,he=he<0?0:he>1?1:he,Pe=he<=.5?he*(1+G):he+G-he*G,Ce=2*he-Pe;function $e(We){return We>360?We-=360:We<0&&(We+=360),We<60?Ce+(Pe-Ce)*We/60:We<180?Pe:We<240?Ce+(Pe-Ce)*(240-We)/60:Ce}function Ke(We){return Math.round($e(We)*255)}return new Ht(Ke(D+120),Ke(D),Ke(D-120))}y.hcl=_r;function _r(D,G,he){return this instanceof _r?(this.h=+D,this.c=+G,void(this.l=+he)):arguments.length<2?D instanceof _r?new _r(D.h,D.c,D.l):D instanceof sr?St(D.l,D.a,D.b):St((D=Cn((D=y.rgb(D)).r,D.g,D.b)).l,D.a,D.b):new _r(D,G,he)}var Rn=_r.prototype=new Br;Rn.brighter=function(D){return new _r(this.h,this.c,Math.min(100,this.l+wr*(arguments.length?D:1)))},Rn.darker=function(D){return new _r(this.h,this.c,Math.max(0,this.l-wr*(arguments.length?D:1)))},Rn.rgb=function(){return Sr(this.h,this.c,this.l).rgb()};function Sr(D,G,he){return isNaN(D)&&(D=0),isNaN(G)&&(G=0),new sr(he,Math.cos(D*=Ct)*G,Math.sin(D)*G)}y.lab=sr;function sr(D,G,he){return this instanceof sr?(this.l=+D,this.a=+G,void(this.b=+he)):arguments.length<2?D instanceof sr?new sr(D.l,D.a,D.b):D instanceof _r?Sr(D.h,D.c,D.l):Cn((D=Ht(D)).r,D.g,D.b):new sr(D,G,he)}var wr=18,ao=.95047,xo=1,Cr=1.08883,Fe=sr.prototype=new Br;Fe.brighter=function(D){return new sr(Math.min(100,this.l+wr*(arguments.length?D:1)),this.a,this.b)},Fe.darker=function(D){return new sr(Math.max(0,this.l-wr*(arguments.length?D:1)),this.a,this.b)},Fe.rgb=function(){return Ee(this.l,this.a,this.b)};function Ee(D,G,he){var Ce=(D+16)/116,Pe=Ce+G/500,$e=Ce-he/200;return Pe=Tt(Pe)*ao,Ce=Tt(Ce)*xo,$e=Tt($e)*Cr,new Ht(Ft(3.2404542*Pe-1.5371385*Ce-.4985314*$e),Ft(-.969266*Pe+1.8760108*Ce+.041556*$e),Ft(.0556434*Pe-.2040259*Ce+1.0572252*$e))}function St(D,G,he){return D>0?new _r(Math.atan2(he,G)*Pt,Math.sqrt(G*G+he*he),D):new _r(NaN,NaN,D)}function Tt(D){return D>.206893034?D*D*D:(D-.13793103448275862)/7.787037}function Lt(D){return D>.008856?Math.pow(D,.3333333333333333):7.787037*D+.13793103448275862}function Ft(D){return Math.round(255*(D<=.00304?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055))}y.rgb=Ht;function Ht(D,G,he){return this instanceof Ht?(this.r=~~D,this.g=~~G,void(this.b=~~he)):arguments.length<2?D instanceof Ht?new Ht(D.r,D.g,D.b):en(""+D,Ht,jr):new Ht(D,G,he)}function $t(D){return new Ht(D>>16,D>>8&255,D&255)}function Mt(D){return $t(D)+""}var tn=Ht.prototype=new Br;tn.brighter=function(D){D=Math.pow(.7,arguments.length?D:1);var G=this.r,he=this.g,Ce=this.b,Pe=30;return!G&&!he&&!Ce?new Ht(Pe,Pe,Pe):(G&&G<Pe&&(G=Pe),he&&he<Pe&&(he=Pe),Ce&&Ce<Pe&&(Ce=Pe),new Ht(Math.min(255,G/D),Math.min(255,he/D),Math.min(255,Ce/D)))},tn.darker=function(D){return D=Math.pow(.7,arguments.length?D:1),new Ht(D*this.r,D*this.g,D*this.b)},tn.hsl=function(){return on(this.r,this.g,this.b)},tn.toString=function(){return"#"+un(this.r)+un(this.g)+un(this.b)};function un(D){return D<16?"0"+Math.max(0,D).toString(16):Math.min(255,D).toString(16)}function en(D,G,he){var Ce=0,Pe=0,$e=0,Ke,We,rt;if(Ke=/([a-z]+)\((.*)\)/.exec(D=D.toLowerCase()),Ke)switch(We=Ke[2].split(","),Ke[1]){case"hsl":return he(parseFloat(We[0]),parseFloat(We[1])/100,parseFloat(We[2])/100);case"rgb":return G(pn(We[0]),pn(We[1]),pn(We[2]))}return(rt=Jn.get(D))?G(rt.r,rt.g,rt.b):(D!=null&&D.charAt(0)==="#"&&!isNaN(rt=parseInt(D.slice(1),16))&&(D.length===4?(Ce=(rt&3840)>>4,Ce=Ce>>4|Ce,Pe=rt&240,Pe=Pe>>4|Pe,$e=rt&15,$e=$e<<4|$e):D.length===7&&(Ce=(rt&16711680)>>16,Pe=(rt&65280)>>8,$e=rt&255)),G(Ce,Pe,$e))}function on(D,G,he){var Ce=Math.min(D/=255,G/=255,he/=255),Pe=Math.max(D,G,he),$e=Pe-Ce,Ke,We,rt=(Pe+Ce)/2;return $e?(We=rt<.5?$e/(Pe+Ce):$e/(2-Pe-Ce),D==Pe?Ke=(G-he)/$e+(G<he?6:0):G==Pe?Ke=(he-D)/$e+2:Ke=(D-G)/$e+4,Ke*=60):(Ke=NaN,We=rt>0&&rt<1?0:Ke),new kr(Ke,We,rt)}function Cn(D,G,he){D=On(D),G=On(G),he=On(he);var Ce=Lt((.4124564*D+.3575761*G+.1804375*he)/ao),Pe=Lt((.2126729*D+.7151522*G+.072175*he)/xo),$e=Lt((.0193339*D+.119192*G+.9503041*he)/Cr);return sr(116*Pe-16,500*(Ce-Pe),200*(Pe-$e))}function On(D){return(D/=255)<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function pn(D){var G=parseFloat(D);return D.charAt(D.length-1)==="%"?Math.round(G*2.55):G}var Jn=y.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jn.forEach(function(D,G){Jn.set(D,$t(G))});function Fn(D){return typeof D=="function"?D:function(){return D}}y.functor=Fn,y.xhr=Zr(ne);function Zr(D){return function(G,he,Ce){return arguments.length===2&&typeof he=="function"&&(Ce=he,he=null),dr(G,he,D,Ce)}}function dr(D,G,he,Ce){var Pe={},$e=y.dispatch("beforesend","progress","load","error"),Ke={},We=new XMLHttpRequest,rt=null;self.XDomainRequest&&!("withCredentials"in We)&&/^(http(s)?:)?\/\//.test(D)&&(We=new XDomainRequest),"onload"in We?We.onload=We.onerror=vt:We.onreadystatechange=function(){We.readyState>3&&vt()};function vt(){var bt=We.status,Zt;if(!bt&&ar(We)||bt>=200&&bt<300||bt===304){try{Zt=he.call(Pe,We)}catch(Ut){$e.error.call(Pe,Ut);return}$e.load.call(Pe,Zt)}else $e.error.call(Pe,We)}return We.onprogress=function(bt){var Zt=y.event;y.event=bt;try{$e.progress.call(Pe,We)}finally{y.event=Zt}},Pe.header=function(bt,Zt){return bt=(bt+"").toLowerCase(),arguments.length<2?Ke[bt]:(Zt==null?delete Ke[bt]:Ke[bt]=Zt+"",Pe)},Pe.mimeType=function(bt){return arguments.length?(G=bt==null?null:bt+"",Pe):G},Pe.responseType=function(bt){return arguments.length?(rt=bt,Pe):rt},Pe.response=function(bt){return he=bt,Pe},["get","post"].forEach(function(bt){Pe[bt]=function(){return Pe.send.apply(Pe,[bt].concat(O(arguments)))}}),Pe.send=function(bt,Zt,Ut){if(arguments.length===2&&typeof Zt=="function"&&(Ut=Zt,Zt=null),We.open(bt,D,!0),G!=null&&!("accept"in Ke)&&(Ke.accept=G+",*/*"),We.setRequestHeader)for(var gn in Ke)We.setRequestHeader(gn,Ke[gn]);return G!=null&&We.overrideMimeType&&We.overrideMimeType(G),rt!=null&&(We.responseType=rt),Ut!=null&&Pe.on("error",Ut).on("load",function(An){Ut(null,An)}),$e.beforesend.call(Pe,We),We.send(Zt??null),Pe},Pe.abort=function(){return We.abort(),Pe},y.rebind(Pe,$e,"on"),Ce==null?Pe:Pe.get(Ur(Ce))}function Ur(D){return D.length===1?function(G,he){D(G==null?he:null)}:D}function ar(D){var G=D.responseType;return G&&G!=="text"?D.response:D.responseText}y.dsv=function(D,G){var he=new RegExp('["'+D+`
]`),Ce=D.charCodeAt(0);function Pe(vt,bt,Zt){arguments.length<3&&(Zt=bt,bt=null);var Ut=dr(vt,G,bt==null?$e:Ke(bt),Zt);return Ut.row=function(gn){return arguments.length?Ut.response((bt=gn)==null?$e:Ke(gn)):bt},Ut}function $e(vt){return Pe.parse(vt.responseText)}function Ke(vt){return function(bt){return Pe.parse(bt.responseText,vt)}}Pe.parse=function(vt,bt){var Zt;return Pe.parseRows(vt,function(Ut,gn){if(Zt)return Zt(Ut,gn-1);var An=function(jt){for(var nn={},hn=Ut.length,_n=0;_n<hn;++_n)nn[Ut[_n]]=jt[_n];return nn};Zt=bt?function(jt,nn){return bt(An(jt),nn)}:An})},Pe.parseRows=function(vt,bt){var Zt={},Ut={},gn=[],An=vt.length,jt=0,nn=0,hn,_n;function Pn(){if(jt>=An)return Ut;if(_n)return _n=!1,Zt;var cr=jt;if(vt.charCodeAt(cr)===34){for(var Hr=cr;Hr++<An;)if(vt.charCodeAt(Hr)===34){if(vt.charCodeAt(Hr+1)!==34)break;++Hr}jt=Hr+2;var Jr=vt.charCodeAt(Hr+1);return Jr===13?(_n=!0,vt.charCodeAt(Hr+2)===10&&++jt):Jr===10&&(_n=!0),vt.slice(cr+1,Hr).replace(/""/g,'"')}for(;jt<An;){var Jr=vt.charCodeAt(jt++),Ar=1;if(Jr===10)_n=!0;else if(Jr===13)_n=!0,vt.charCodeAt(jt)===10&&(++jt,++Ar);else if(Jr!==Ce)continue;return vt.slice(cr,jt-Ar)}return vt.slice(cr)}for(;(hn=Pn())!==Ut;){for(var yn=[];hn!==Zt&&hn!==Ut;)yn.push(hn),hn=Pn();bt&&(yn=bt(yn,nn++))==null||gn.push(yn)}return gn},Pe.format=function(vt){if(Array.isArray(vt[0]))return Pe.formatRows(vt);var bt=new pe,Zt=[];return vt.forEach(function(Ut){for(var gn in Ut)bt.has(gn)||Zt.push(bt.add(gn))}),[Zt.map(rt).join(D)].concat(vt.map(function(Ut){return Zt.map(function(gn){return rt(Ut[gn])}).join(D)})).join(`
`)},Pe.formatRows=function(vt){return vt.map(We).join(`
`)};function We(vt){return vt.map(rt).join(D)}function rt(vt){return he.test(vt)?'"'+vt.replace(/\"/g,'""')+'"':vt}return Pe},y.csv=y.dsv(",","text/csv"),y.tsv=y.dsv("	","text/tab-separated-values");var ur,qr,to,Ao,_s=this[Y(this,"requestAnimationFrame")]||function(D){setTimeout(D,17)};y.timer=function(){wo.apply(this,arguments)};function wo(D,G,he){var Ce=arguments.length;Ce<2&&(G=0),Ce<3&&(he=Date.now());var Pe=he+G,$e={c:D,t:Pe,n:null};return qr?qr.n=$e:ur=$e,qr=$e,to||(Ao=clearTimeout(Ao),to=1,_s(Ko)),$e}function Ko(){var D=hs(),G=qs()-D;G>24?(isFinite(G)&&(clearTimeout(Ao),Ao=setTimeout(Ko,G)),to=0):(to=1,_s(Ko))}y.timer.flush=function(){hs(),qs()};function hs(){for(var D=Date.now(),G=ur;G;)D>=G.t&&G.c(D-G.t)&&(G.c=null),G=G.n;return D}function qs(){for(var D,G=ur,he=1/0;G;)G.c?(G.t<he&&(he=G.t),G=(D=G).n):G=D?D.n=G.n:ur=G.n;return qr=D,he}y.round=function(D,G){return G?Math.round(D*(G=Math.pow(10,G)))/G:Math.round(D)},y.geom={};function ns(D){return D[0]}function Xs(D){return D[1]}y.geom.hull=function(D){var G=ns,he=Xs;if(arguments.length)return Ce(D);function Ce(Pe){if(Pe.length<3)return[];var $e=Fn(G),Ke=Fn(he),We,rt=Pe.length,vt=[],bt=[];for(We=0;We<rt;We++)vt.push([+$e.call(this,Pe[We],We),+Ke.call(this,Pe[We],We),We]);for(vt.sort(Cc),We=0;We<rt;We++)bt.push([vt[We][0],-vt[We][1]]);var Zt=Xa(vt),Ut=Xa(bt),gn=Ut[0]===Zt[0],An=Ut[Ut.length-1]===Zt[Zt.length-1],jt=[];for(We=Zt.length-1;We>=0;--We)jt.push(Pe[vt[Zt[We]][2]]);for(We=+gn;We<Ut.length-An;++We)jt.push(Pe[vt[Ut[We]][2]]);return jt}return Ce.x=function(Pe){return arguments.length?(G=Pe,Ce):G},Ce.y=function(Pe){return arguments.length?(he=Pe,Ce):he},Ce};function Xa(D){for(var G=D.length,he=[0,1],Ce=2,Pe=2;Pe<G;Pe++){for(;Ce>1&&dn(D[he[Ce-2]],D[he[Ce-1]],D[Pe])<=0;)--Ce;he[Ce++]=Pe}return he.slice(0,Ce)}function Cc(D,G){return D[0]-G[0]||D[1]-G[1]}y.geom.polygon=function(D){return re(D,ui),D};var ui=y.geom.polygon.prototype=[];ui.area=function(){for(var D=-1,G=this.length,he,Ce=this[G-1],Pe=0;++D<G;)he=Ce,Ce=this[D],Pe+=he[1]*Ce[0]-he[0]*Ce[1];return Pe*.5},ui.centroid=function(D){var G=-1,he=this.length,Ce=0,Pe=0,$e,Ke=this[he-1],We;for(arguments.length||(D=-1/(6*this.area()));++G<he;)$e=Ke,Ke=this[G],We=$e[0]*Ke[1]-Ke[0]*$e[1],Ce+=($e[0]+Ke[0])*We,Pe+=($e[1]+Ke[1])*We;return[Ce*D,Pe*D]},ui.clip=function(D){for(var G,he=ea(D),Ce=-1,Pe=this.length-ea(this),$e,Ke,We=this[Pe-1],rt,vt,bt;++Ce<Pe;){for(G=D.slice(),D.length=0,rt=this[Ce],vt=G[(Ke=G.length-he)-1],$e=-1;++$e<Ke;)bt=G[$e],au(bt,We,rt)?(au(vt,We,rt)||D.push(Ba(vt,bt,We,rt)),D.push(bt)):au(vt,We,rt)&&D.push(Ba(vt,bt,We,rt)),vt=bt;he&&D.push(D[0]),We=rt}return D};function au(D,G,he){return(he[0]-G[0])*(D[1]-G[1])<(he[1]-G[1])*(D[0]-G[0])}function Ba(D,G,he,Ce){var Pe=D[0],$e=he[0],Ke=G[0]-Pe,We=Ce[0]-$e,rt=D[1],vt=he[1],bt=G[1]-rt,Zt=Ce[1]-vt,Ut=(We*(rt-vt)-Zt*(Pe-$e))/(Zt*Ke-We*bt);return[Pe+Ut*Ke,rt+Ut*bt]}function ea(D){var G=D[0],he=D[D.length-1];return!(G[0]-he[0]||G[1]-he[1])}var ba,oa,iu,Dr=[],Tc,sa,$i=[];function Id(){Qd(this),this.edge=this.site=this.circle=null}function aa(D){var G=Dr.pop()||new Id;return G.site=D,G}function wu(D){Cl(D),iu.remove(D),Dr.push(D),Qd(D)}function Nd(D){var G=D.circle,he=G.x,Ce=G.cy,Pe={x:he,y:Ce},$e=D.P,Ke=D.N,We=[D];wu(D);for(var rt=$e;rt.circle&&E(he-rt.circle.x)<gt&&E(Ce-rt.circle.cy)<gt;)$e=rt.P,We.unshift(rt),wu(rt),rt=$e;We.unshift(rt),Cl(rt);for(var vt=Ke;vt.circle&&E(he-vt.circle.x)<gt&&E(Ce-vt.circle.cy)<gt;)Ke=vt.N,We.push(vt),wu(vt),vt=Ke;We.push(vt),Cl(vt);var bt=We.length,Zt;for(Zt=1;Zt<bt;++Zt)vt=We[Zt],rt=We[Zt-1],Yu(vt.edge,rt.site,vt.site,Pe);rt=We[0],vt=We[bt-1],vt.edge=Ha(rt.site,vt.site,null,Pe),Va(rt),Va(vt)}function Cu(D){for(var G=D.x,he=D.y,Ce,Pe,$e,Ke,We=iu._;We;)if($e=Mo(We,he)-G,$e>gt)We=We.L;else if(Ke=G-Hi(We,he),Ke>gt){if(!We.R){Ce=We;break}We=We.R}else{$e>-gt?(Ce=We.P,Pe=We):Ke>-gt?(Ce=We,Pe=We.N):Ce=Pe=We;break}var rt=aa(D);if(iu.insert(Ce,rt),!(!Ce&&!Pe)){if(Ce===Pe){Cl(Ce),Pe=aa(Ce.site),iu.insert(rt,Pe),rt.edge=Pe.edge=Ha(Ce.site,rt.site),Va(Ce),Va(Pe);return}if(!Pe){rt.edge=Ha(Ce.site,rt.site);return}Cl(Ce),Cl(Pe);var vt=Ce.site,bt=vt.x,Zt=vt.y,Ut=D.x-bt,gn=D.y-Zt,An=Pe.site,jt=An.x-bt,nn=An.y-Zt,hn=2*(Ut*nn-gn*jt),_n=Ut*Ut+gn*gn,Pn=jt*jt+nn*nn,yn={x:(nn*_n-gn*Pn)/hn+bt,y:(Ut*Pn-jt*_n)/hn+Zt};Yu(Pe.edge,vt,An,yn),rt.edge=Ha(vt,D,null,yn),Pe.edge=Ha(D,An,null,yn),Va(Ce),Va(Pe)}}function Mo(D,G){var he=D.site,Ce=he.x,Pe=he.y,$e=Pe-G;if(!$e)return Ce;var Ke=D.P;if(!Ke)return-1/0;he=Ke.site;var We=he.x,rt=he.y,vt=rt-G;if(!vt)return We;var bt=We-Ce,Zt=1/$e-1/vt,Ut=bt/vt;return Zt?(-Ut+Math.sqrt(Ut*Ut-2*Zt*(bt*bt/(-2*vt)-rt+vt/2+Pe-$e/2)))/Zt+Ce:(Ce+We)/2}function Hi(D,G){var he=D.N;if(he)return Mo(he,G);var Ce=D.site;return Ce.y===G?Ce.x:1/0}function fr(D){this.site=D,this.edges=[]}fr.prototype.prepare=function(){for(var D=this.edges,G=D.length,he;G--;)he=D[G].edge,(!he.b||!he.a)&&D.splice(G,1);return D.sort(wi),D.length};function Fa(D){for(var G=D[0][0],he=D[1][0],Ce=D[0][1],Pe=D[1][1],$e,Ke,We,rt,vt=oa,bt=vt.length,Zt,Ut,gn,An,jt,nn;bt--;)if(Zt=vt[bt],!(!Zt||!Zt.prepare()))for(gn=Zt.edges,An=gn.length,Ut=0;Ut<An;)nn=gn[Ut].end(),We=nn.x,rt=nn.y,jt=gn[++Ut%An].start(),$e=jt.x,Ke=jt.y,(E(We-$e)>gt||E(rt-Ke)>gt)&&(gn.splice(Ut,0,new Bd(Wu(Zt.site,nn,E(We-G)<gt&&Pe-rt>gt?{x:G,y:E($e-G)<gt?Ke:Pe}:E(rt-Pe)<gt&&he-We>gt?{x:E(Ke-Pe)<gt?$e:he,y:Pe}:E(We-he)<gt&&rt-Ce>gt?{x:he,y:E($e-he)<gt?Ke:Ce}:E(rt-Ce)<gt&&We-G>gt?{x:E(Ke-Ce)<gt?$e:G,y:Ce}:null),Zt.site,null)),++An)}function wi(D,G){return G.angle-D.angle}function Za(){Qd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Va(D){var G=D.P,he=D.N;if(!(!G||!he)){var Ce=G.site,Pe=D.site,$e=he.site;if(Ce!==$e){var Ke=Pe.x,We=Pe.y,rt=Ce.x-Ke,vt=Ce.y-We,bt=$e.x-Ke,nn=$e.y-We,Zt=2*(rt*nn-vt*bt);if(!(Zt>=-Dt)){var Ut=rt*rt+vt*vt,gn=bt*bt+nn*nn,An=(nn*Ut-vt*gn)/Zt,jt=(rt*gn-bt*Ut)/Zt,nn=jt+We,hn=$i.pop()||new Za;hn.arc=D,hn.site=Pe,hn.x=An+Ke,hn.y=nn+Math.sqrt(An*An+jt*jt),hn.cy=nn,D.circle=hn;for(var _n=null,Pn=sa._;Pn;)if(hn.y<Pn.y||hn.y===Pn.y&&hn.x<=Pn.x)if(Pn.L)Pn=Pn.L;else{_n=Pn.P;break}else if(Pn.R)Pn=Pn.R;else{_n=Pn;break}sa.insert(_n,hn),_n||(Tc=hn)}}}}function Cl(D){var G=D.circle;G&&(G.P||(Tc=G.N),sa.remove(G),$i.push(G),Qd(G),D.circle=null)}function Ho(D,G,he,Ce){return function(Pe){var $e=Pe.a,Ke=Pe.b,We=$e.x,rt=$e.y,vt=Ke.x,bt=Ke.y,Zt=0,Ut=1,gn=vt-We,An=bt-rt,jt;if(jt=D-We,!(!gn&&jt>0)){if(jt/=gn,gn<0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}else if(gn>0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}if(jt=he-We,!(!gn&&jt<0)){if(jt/=gn,gn<0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}else if(gn>0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}if(jt=G-rt,!(!An&&jt>0)){if(jt/=An,An<0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}else if(An>0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}if(jt=Ce-rt,!(!An&&jt<0)){if(jt/=An,An<0){if(jt>Ut)return;jt>Zt&&(Zt=jt)}else if(An>0){if(jt<Zt)return;jt<Ut&&(Ut=jt)}return Zt>0&&(Pe.a={x:We+Zt*gn,y:rt+Zt*An}),Ut<1&&(Pe.b={x:We+Ut*gn,y:rt+Ut*An}),Pe}}}}}}function fi(D){for(var G=ba,he=Ho(D[0][0],D[0][1],D[1][0],D[1][1]),Ce=G.length,Pe;Ce--;)Pe=G[Ce],(!ti(Pe,D)||!he(Pe)||E(Pe.a.x-Pe.b.x)<gt&&E(Pe.a.y-Pe.b.y)<gt)&&(Pe.a=Pe.b=null,G.splice(Ce,1))}function ti(D,G){var he=D.b;if(he)return!0;var Ce=D.a,Pe=G[0][0],$e=G[1][0],Ke=G[0][1],We=G[1][1],rt=D.l,vt=D.r,bt=rt.x,Zt=rt.y,Ut=vt.x,gn=vt.y,An=(bt+Ut)/2,jt=(Zt+gn)/2,nn,hn;if(gn===Zt){if(An<Pe||An>=$e)return;if(bt>Ut){if(!Ce)Ce={x:An,y:Ke};else if(Ce.y>=We)return;he={x:An,y:We}}else{if(!Ce)Ce={x:An,y:We};else if(Ce.y<Ke)return;he={x:An,y:Ke}}}else if(nn=(bt-Ut)/(gn-Zt),hn=jt-nn*An,nn<-1||nn>1)if(bt>Ut){if(!Ce)Ce={x:(Ke-hn)/nn,y:Ke};else if(Ce.y>=We)return;he={x:(We-hn)/nn,y:We}}else{if(!Ce)Ce={x:(We-hn)/nn,y:We};else if(Ce.y<Ke)return;he={x:(Ke-hn)/nn,y:Ke}}else if(Zt<gn){if(!Ce)Ce={x:Pe,y:nn*Pe+hn};else if(Ce.x>=$e)return;he={x:$e,y:nn*$e+hn}}else{if(!Ce)Ce={x:$e,y:nn*$e+hn};else if(Ce.x<Pe)return;he={x:Pe,y:nn*Pe+hn}}return D.a=Ce,D.b=he,!0}function ed(D,G){this.l=D,this.r=G,this.a=this.b=null}function Ha(D,G,he,Ce){var Pe=new ed(D,G);return ba.push(Pe),he&&Yu(Pe,D,G,he),Ce&&Yu(Pe,G,D,Ce),oa[D.i].edges.push(new Bd(Pe,D,G)),oa[G.i].edges.push(new Bd(Pe,G,D)),Pe}function Wu(D,G,he){var Ce=new ed(D,null);return Ce.a=G,Ce.b=he,ba.push(Ce),Ce}function Yu(D,G,he,Ce){!D.a&&!D.b?(D.a=Ce,D.l=G,D.r=he):D.l===he?D.b=Ce:D.a=Ce}function Bd(D,G,he){var Ce=D.a,Pe=D.b;this.edge=D,this.site=G,this.angle=he?Math.atan2(he.y-G.y,he.x-G.x):D.l===G?Math.atan2(Pe.x-Ce.x,Ce.y-Pe.y):Math.atan2(Ce.x-Pe.x,Pe.y-Ce.y)}Bd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Ns(){this._=null}function Qd(D){D.U=D.C=D.L=D.R=D.P=D.N=null}Ns.prototype={insert:function(D,G){var he,Ce,Pe;if(D){if(G.P=D,G.N=D.N,D.N&&(D.N.P=G),D.N=G,D.R){for(D=D.R;D.L;)D=D.L;D.L=G}else D.R=G;he=D}else this._?(D=Sh(this._),G.P=null,G.N=D,D.P=D.L=G,he=D):(G.P=G.N=null,this._=G,he=null);for(G.L=G.R=null,G.U=he,G.C=!0,D=G;he&&he.C;)Ce=he.U,he===Ce.L?(Pe=Ce.R,Pe&&Pe.C?(he.C=Pe.C=!1,Ce.C=!0,D=Ce):(D===he.R&&(Wc(this,he),D=he,he=D.U),he.C=!1,Ce.C=!0,Rl(this,Ce))):(Pe=Ce.L,Pe&&Pe.C?(he.C=Pe.C=!1,Ce.C=!0,D=Ce):(D===he.L&&(Rl(this,he),D=he,he=D.U),he.C=!1,Ce.C=!0,Wc(this,Ce))),he=D.U;this._.C=!1},remove:function(D){D.N&&(D.N.P=D.P),D.P&&(D.P.N=D.N),D.N=D.P=null;var G=D.U,he,Ce=D.L,Pe=D.R,$e,Ke;if(Ce?Pe?$e=Sh(Pe):$e=Ce:$e=Pe,G?G.L===D?G.L=$e:G.R=$e:this._=$e,Ce&&Pe?(Ke=$e.C,$e.C=D.C,$e.L=Ce,Ce.U=$e,$e!==Pe?(G=$e.U,$e.U=D.U,D=$e.R,G.L=D,$e.R=Pe,Pe.U=$e):($e.U=G,G=$e,D=$e.R)):(Ke=D.C,D=$e),D&&(D.U=G),!Ke){if(D&&D.C){D.C=!1;return}do{if(D===this._)break;if(D===G.L){if(he=G.R,he.C&&(he.C=!1,G.C=!0,Wc(this,G),he=G.R),he.L&&he.L.C||he.R&&he.R.C){(!he.R||!he.R.C)&&(he.L.C=!1,he.C=!0,Rl(this,he),he=G.R),he.C=G.C,G.C=he.R.C=!1,Wc(this,G),D=this._;break}}else if(he=G.L,he.C&&(he.C=!1,G.C=!0,Rl(this,G),he=G.L),he.L&&he.L.C||he.R&&he.R.C){(!he.L||!he.L.C)&&(he.R.C=!1,he.C=!0,Wc(this,he),he=G.L),he.C=G.C,G.C=he.L.C=!1,Rl(this,G),D=this._;break}he.C=!0,D=G,G=G.U}while(!D.C);D&&(D.C=!1)}}};function Wc(D,G){var he=G,Ce=G.R,Pe=he.U;Pe?Pe.L===he?Pe.L=Ce:Pe.R=Ce:D._=Ce,Ce.U=Pe,he.U=Ce,he.R=Ce.L,he.R&&(he.R.U=he),Ce.L=he}function Rl(D,G){var he=G,Ce=G.L,Pe=he.U;Pe?Pe.L===he?Pe.L=Ce:Pe.R=Ce:D._=Ce,Ce.U=Pe,he.U=Ce,he.L=Ce.R,he.L&&(he.L.U=he),Ce.R=he}function Sh(D){for(;D.L;)D=D.L;return D}function ym(D,G){var he=D.sort(Vs).pop(),Ce,Pe,$e;for(ba=[],oa=new Array(D.length),iu=new Ns,sa=new Ns;;)if($e=Tc,he&&(!$e||he.y<$e.y||he.y===$e.y&&he.x<$e.x))(he.x!==Ce||he.y!==Pe)&&(oa[he.i]=new fr(he),Cu(he),Ce=he.x,Pe=he.y),he=D.pop();else if($e)Nd($e.arc);else break;G&&(fi(G),Fa(G));var Ke={cells:oa,edges:ba};return iu=sa=ba=oa=null,Ke}function Vs(D,G){return G.y-D.y||G.x-D.x}y.geom.voronoi=function(D){var G=ns,he=Xs,Ce=G,Pe=he,$e=Ci;if(D)return Ke(D);function Ke(rt){var vt=new Array(rt.length),bt=$e[0][0],Zt=$e[0][1],Ut=$e[1][0],gn=$e[1][1];return ym(We(rt),$e).cells.forEach(function(An,jt){var nn=An.edges,hn=An.site,_n=vt[jt]=nn.length?nn.map(function(Pn){var yn=Pn.start();return[yn.x,yn.y]}):hn.x>=bt&&hn.x<=Ut&&hn.y>=Zt&&hn.y<=gn?[[bt,gn],[Ut,gn],[Ut,Zt],[bt,Zt]]:[];_n.point=rt[jt]}),vt}function We(rt){return rt.map(function(vt,bt){return{x:Math.round(Ce(vt,bt)/gt)*gt,y:Math.round(Pe(vt,bt)/gt)*gt,i:bt}})}return Ke.links=function(rt){return ym(We(rt)).edges.filter(function(vt){return vt.l&&vt.r}).map(function(vt){return{source:rt[vt.l.i],target:rt[vt.r.i]}})},Ke.triangles=function(rt){var vt=[];return ym(We(rt)).cells.forEach(function(bt,Zt){for(var Ut=bt.site,gn=bt.edges.sort(wi),An=-1,jt=gn.length,nn,hn=gn[jt-1].edge,_n=hn.l===Ut?hn.r:hn.l;++An<jt;)nn=_n,hn=gn[An].edge,_n=hn.l===Ut?hn.r:hn.l,Zt<nn.i&&Zt<_n.i&&Pf(Ut,nn,_n)<0&&vt.push([rt[Zt],rt[nn.i],rt[_n.i]])}),vt},Ke.x=function(rt){return arguments.length?(Ce=Fn(G=rt),Ke):G},Ke.y=function(rt){return arguments.length?(Pe=Fn(he=rt),Ke):he},Ke.clipExtent=function(rt){return arguments.length?($e=rt??Ci,Ke):$e===Ci?null:$e},Ke.size=function(rt){return arguments.length?Ke.clipExtent(rt&&[[0,0],rt]):$e===Ci?null:$e&&$e[1]},Ke};var Ci=[[-1e6,-1e6],[1e6,1e6]];function Pf(D,G,he){return(D.x-he.x)*(G.y-D.y)-(D.x-G.x)*(he.y-D.y)}y.geom.delaunay=function(D){return y.geom.voronoi().triangles(D)},y.geom.quadtree=function(D,G,he,Ce,Pe){var $e=ns,Ke=Xs,We;if(We=arguments.length)return $e=WS,Ke=Ga,We===3&&(Pe=he,Ce=G,he=G=0),rt(D);function rt(vt){var bt,Zt=Fn($e),Ut=Fn(Ke),gn,An,jt,nn,hn,_n,Pn,yn;if(G!=null)hn=G,_n=he,Pn=Ce,yn=Pe;else if(Pn=yn=-(hn=_n=1/0),gn=[],An=[],nn=vt.length,We)for(jt=0;jt<nn;++jt)bt=vt[jt],bt.x<hn&&(hn=bt.x),bt.y<_n&&(_n=bt.y),bt.x>Pn&&(Pn=bt.x),bt.y>yn&&(yn=bt.y),gn.push(bt.x),An.push(bt.y);else for(jt=0;jt<nn;++jt){var cr=+Zt(bt=vt[jt],jt),Hr=+Ut(bt,jt);cr<hn&&(hn=cr),Hr<_n&&(_n=Hr),cr>Pn&&(Pn=cr),Hr>yn&&(yn=Hr),gn.push(cr),An.push(Hr)}var Jr=Pn-hn,Ar=yn-_n;Jr>Ar?yn=_n+Jr:Pn=hn+Ar;function no(So,go,js,oi,Oa,Lr,$o,gs){if(!(isNaN(js)||isNaN(oi)))if(So.leaf){var Rs=So.x,Qa=So.y;if(Rs!=null)if(E(Rs-js)+E(Qa-oi)<.01)fo(So,go,js,oi,Oa,Lr,$o,gs);else{var gi=So.point;So.x=So.y=So.point=null,fo(So,gi,Rs,Qa,Oa,Lr,$o,gs),fo(So,go,js,oi,Oa,Lr,$o,gs)}else So.x=js,So.y=oi,So.point=go}else fo(So,go,js,oi,Oa,Lr,$o,gs)}function fo(So,go,js,oi,Oa,Lr,$o,gs){var Rs=(Oa+$o)*.5,Qa=(Lr+gs)*.5,gi=js>=Rs,Gi=oi>=Qa,Ii=Gi<<1|gi;So.leaf=!1,So=So.nodes[Ii]||(So.nodes[Ii]=Dl()),gi?Oa=Rs:$o=Rs,Gi?Lr=Qa:gs=Qa,no(So,go,js,oi,Oa,Lr,$o,gs)}var rs=Dl();if(rs.add=function(So){no(rs,So,+Zt(So,++jt),+Ut(So,jt),hn,_n,Pn,yn)},rs.visit=function(So){Ui(So,rs,hn,_n,Pn,yn)},rs.find=function(So){return $O(rs,So[0],So[1],hn,_n,Pn,yn)},jt=-1,G==null){for(;++jt<nn;)no(rs,vt[jt],gn[jt],An[jt],hn,_n,Pn,yn);--jt}else vt.forEach(rs.add);return gn=An=vt=bt=null,rs}return rt.x=function(vt){return arguments.length?($e=vt,rt):$e},rt.y=function(vt){return arguments.length?(Ke=vt,rt):Ke},rt.extent=function(vt){return arguments.length?(vt==null?G=he=Ce=Pe=null:(G=+vt[0][0],he=+vt[0][1],Ce=+vt[1][0],Pe=+vt[1][1]),rt):G==null?null:[[G,he],[Ce,Pe]]},rt.size=function(vt){return arguments.length?(vt==null?G=he=Ce=Pe=null:(G=he=0,Ce=+vt[0],Pe=+vt[1]),rt):G==null?null:[Ce-G,Pe-he]},rt};function WS(D){return D.x}function Ga(D){return D.y}function Dl(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ui(D,G,he,Ce,Pe,$e){if(!D(G,he,Ce,Pe,$e)){var Ke=(he+Pe)*.5,We=(Ce+$e)*.5,rt=G.nodes;rt[0]&&Ui(D,rt[0],he,Ce,Ke,We),rt[1]&&Ui(D,rt[1],Ke,Ce,Pe,We),rt[2]&&Ui(D,rt[2],he,We,Ke,$e),rt[3]&&Ui(D,rt[3],Ke,We,Pe,$e)}}function $O(D,G,he,Ce,Pe,$e,Ke){var We=1/0,rt;return function vt(bt,Zt,Ut,gn,An){if(!(Zt>$e||Ut>Ke||gn<Ce||An<Pe)){if(jt=bt.point){var jt,nn=G-bt.x,hn=he-bt.y,_n=nn*nn+hn*hn;if(_n<We){var Pn=Math.sqrt(We=_n);Ce=G-Pn,Pe=he-Pn,$e=G+Pn,Ke=he+Pn,rt=jt}}for(var yn=bt.nodes,cr=(Zt+gn)*.5,Hr=(Ut+An)*.5,Jr=G>=cr,Ar=he>=Hr,no=Ar<<1|Jr,fo=no+4;no<fo;++no)if(bt=yn[no&3])switch(no&3){case 0:vt(bt,Zt,Ut,cr,Hr);break;case 1:vt(bt,cr,Ut,gn,Hr);break;case 2:vt(bt,Zt,Hr,cr,An);break;case 3:vt(bt,cr,Hr,gn,An);break}}}(D,Ce,Pe,$e,Ke),rt}y.interpolateRgb=Hp;function Hp(D,G){D=y.rgb(D),G=y.rgb(G);var he=D.r,Ce=D.g,Pe=D.b,$e=G.r-he,Ke=G.g-Ce,We=G.b-Pe;return function(rt){return"#"+un(Math.round(he+$e*rt))+un(Math.round(Ce+Ke*rt))+un(Math.round(Pe+We*rt))}}y.interpolateObject=Tu;function Tu(D,G){var he={},Ce={},Pe;for(Pe in D)Pe in G?he[Pe]=kc(D[Pe],G[Pe]):Ce[Pe]=D[Pe];for(Pe in G)Pe in D||(Ce[Pe]=G[Pe]);return function($e){for(Pe in he)Ce[Pe]=he[Pe]($e);return Ce}}y.interpolateNumber=Xu;function Xu(D,G){return D=+D,G=+G,function(he){return D*(1-he)+G*he}}y.interpolateString=$a;function $a(D,G){var he=ku.lastIndex=$l.lastIndex=0,Ce,Pe,$e,Ke=-1,We=[],rt=[];for(D=D+"",G=G+"";(Ce=ku.exec(D))&&(Pe=$l.exec(G));)($e=Pe.index)>he&&($e=G.slice(he,$e),We[Ke]?We[Ke]+=$e:We[++Ke]=$e),(Ce=Ce[0])===(Pe=Pe[0])?We[Ke]?We[Ke]+=Pe:We[++Ke]=Pe:(We[++Ke]=null,rt.push({i:Ke,x:Xu(Ce,Pe)})),he=$l.lastIndex;return he<G.length&&($e=G.slice(he),We[Ke]?We[Ke]+=$e:We[++Ke]=$e),We.length<2?rt[0]?(G=rt[0].x,function(vt){return G(vt)+""}):function(){return G}:(G=rt.length,function(vt){for(var bt=0,Zt;bt<G;++bt)We[(Zt=rt[bt]).i]=Zt.x(vt);return We.join("")})}var ku=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$l=new RegExp(ku.source,"g");y.interpolate=kc;function kc(D,G){for(var he=y.interpolators.length,Ce;--he>=0&&!(Ce=y.interpolators[he](D,G)););return Ce}y.interpolators=[function(D,G){var he=typeof G;return(he==="string"?Jn.has(G.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(G)?Hp:$a:G instanceof Br?Hp:Array.isArray(G)?Mf:he==="object"&&isNaN(G)?Tu:Xu)(D,G)}],y.interpolateArray=Mf;function Mf(D,G){var he=[],Ce=[],Pe=D.length,$e=G.length,Ke=Math.min(D.length,G.length),We;for(We=0;We<Ke;++We)he.push(kc(D[We],G[We]));for(;We<Pe;++We)Ce[We]=D[We];for(;We<$e;++We)Ce[We]=G[We];return function(rt){for(We=0;We<Ke;++We)Ce[We]=he[We](rt);return Ce}}var di=function(){return ne},Ef=y.map({linear:di,poly:e1,quad:function(){return _f},cubic:function(){return Yp},sin:function(){return gy},exp:function(){return bm},circle:function(){return py},elastic:Om,back:LO,bounce:function(){return wh}}),Up=y.map({in:ne,out:my,"in-out":Jv,"out-in":function(D){return Jv(my(D))}});y.ease=function(D){var G=D.indexOf("-"),he=G>=0?D.slice(0,G):D,Ce=G>=0?D.slice(G+1):"in";return he=Ef.get(he)||di,Ce=Up.get(Ce)||ne,Wp(Ce(he.apply(null,b.call(arguments,1))))};function Wp(D){return function(G){return G<=0?0:G>=1?1:D(G)}}function my(D){return function(G){return 1-D(1-G)}}function Jv(D){return function(G){return .5*(G<.5?D(2*G):2-D(2-2*G))}}function _f(D){return D*D}function Yp(D){return D*D*D}function Ac(D){if(D<=0)return 0;if(D>=1)return 1;var G=D*D,he=G*D;return 4*(D<.5?he:3*(D-G)+he-.75)}function e1(D){return function(G){return Math.pow(G,D)}}function gy(D){return 1-Math.cos(D*mt)}function bm(D){return Math.pow(2,10*(D-1))}function py(D){return 1-Math.sqrt(1-D*D)}function Om(D,G){var he;return arguments.length<2&&(G=.45),arguments.length?he=G/it*Math.asin(1/D):(D=1,he=G/4),function(Ce){return 1+D*Math.pow(2,-10*Ce)*Math.sin((Ce-he)*it/G)}}function LO(D){return D||(D=1.70158),function(G){return G*G*((D+1)*G-D)}}function wh(D){return D<.36363636363636365?7.5625*D*D:D<.7272727272727273?7.5625*(D-=.5454545454545454)*D+.75:D<.9090909090909091?7.5625*(D-=.8181818181818182)*D+.9375:7.5625*(D-=.9545454545454546)*D+.984375}y.interpolateHcl=IO;function IO(D,G){D=y.hcl(D),G=y.hcl(G);var he=D.h,Ce=D.c,Pe=D.l,$e=G.h-he,Ke=G.c-Ce,We=G.l-Pe;return isNaN(Ke)&&(Ke=0,Ce=isNaN(Ce)?G.c:Ce),isNaN($e)?($e=0,he=isNaN(he)?G.h:he):$e>180?$e-=360:$e<-180&&($e+=360),function(rt){return Sr(he+$e*rt,Ce+Ke*rt,Pe+We*rt)+""}}y.interpolateHsl=NO;function NO(D,G){D=y.hsl(D),G=y.hsl(G);var he=D.h,Ce=D.s,Pe=D.l,$e=G.h-he,Ke=G.s-Ce,We=G.l-Pe;return isNaN(Ke)&&(Ke=0,Ce=isNaN(Ce)?G.s:Ce),isNaN($e)?($e=0,he=isNaN(he)?G.h:he):$e>180?$e-=360:$e<-180&&($e+=360),function(rt){return jr(he+$e*rt,Ce+Ke*rt,Pe+We*rt)+""}}y.interpolateLab=BO;function BO(D,G){D=y.lab(D),G=y.lab(G);var he=D.l,Ce=D.a,Pe=D.b,$e=G.l-he,Ke=G.a-Ce,We=G.b-Pe;return function(rt){return Ee(he+$e*rt,Ce+Ke*rt,Pe+We*rt)+""}}y.interpolateRound=xm;function xm(D,G){return G-=D,function(he){return Math.round(D+G*he)}}y.transform=function(D){var G=T.createElementNS(y.ns.prefix.svg,"g");return(y.transform=function(he){if(he!=null){G.setAttribute("transform",he);var Ce=G.transform.baseVal.consolidate()}return new vy(Ce?Ce.matrix:t1)})(D)};function vy(D){var G=[D.a,D.b],he=[D.c,D.d],Ce=Sm(G),Pe=Yt(G,he),$e=Sm(Gu(he,G,-Pe))||0;G[0]*he[1]<he[0]*G[1]&&(G[0]*=-1,G[1]*=-1,Ce*=-1,Pe*=-1),this.rotate=(Ce?Math.atan2(G[1],G[0]):Math.atan2(-he[0],he[1]))*Pt,this.translate=[D.e,D.f],this.scale=[Ce,$e],this.skew=$e?Math.atan2(Pe,$e)*Pt:0}vy.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Yt(D,G){return D[0]*G[0]+D[1]*G[1]}function Sm(D){var G=Math.sqrt(Yt(D,D));return G&&(D[0]/=G,D[1]/=G),G}function Gu(D,G,he){return D[0]+=he*G[0],D[1]+=he*G[1],D}var t1={a:1,b:0,c:0,d:1,e:0,f:0};y.interpolateTransform=nd;function Xp(D){return D.length?D.pop()+",":""}function YS(D,G,he,Ce){if(D[0]!==G[0]||D[1]!==G[1]){var Pe=he.push("translate(",null,",",null,")");Ce.push({i:Pe-4,x:Xu(D[0],G[0])},{i:Pe-2,x:Xu(D[1],G[1])})}else(G[0]||G[1])&&he.push("translate("+G+")")}function Gs(D,G,he,Ce){D!==G?(D-G>180?G+=360:G-D>180&&(D+=360),Ce.push({i:he.push(Xp(he)+"rotate(",null,")")-2,x:Xu(D,G)})):G&&he.push(Xp(he)+"rotate("+G+")")}function ic(D,G,he,Ce){D!==G?Ce.push({i:he.push(Xp(he)+"skewX(",null,")")-2,x:Xu(D,G)}):G&&he.push(Xp(he)+"skewX("+G+")")}function td(D,G,he,Ce){if(D[0]!==G[0]||D[1]!==G[1]){var Pe=he.push(Xp(he)+"scale(",null,",",null,")");Ce.push({i:Pe-4,x:Xu(D[0],G[0])},{i:Pe-2,x:Xu(D[1],G[1])})}else(G[0]!==1||G[1]!==1)&&he.push(Xp(he)+"scale("+G+")")}function nd(D,G){var he=[],Ce=[];return D=y.transform(D),G=y.transform(G),YS(D.translate,G.translate,he,Ce),Gs(D.rotate,G.rotate,he,Ce),ic(D.skew,G.skew,he,Ce),td(D.scale,G.scale,he,Ce),D=G=null,function(Pe){for(var $e=-1,Ke=Ce.length,We;++$e<Ke;)he[(We=Ce[$e]).i]=We.x(Pe);return he.join("")}}function yy(D,G){return G=(G-=D=+D)||1/G,function(he){return(he-D)/G}}function Ag(D,G){return G=(G-=D=+D)||1/G,function(he){return Math.max(0,Math.min(1,(he-D)/G))}}y.layout={},y.layout.bundle=function(){return function(D){for(var G=[],he=-1,Ce=D.length;++he<Ce;)G.push(lu(D[he]));return G}};function lu(D){for(var G=D.source,he=D.target,Ce=by(G,he),Pe=[G];G!==Ce;)G=G.parent,Pe.push(G);for(var $e=Pe.length;he!==Ce;)Pe.splice($e,0,he),he=he.parent;return Pe}function Pg(D){for(var G=[],he=D.parent;he!=null;)G.push(D),D=he,he=he.parent;return G.push(D),G}function by(D,G){if(D===G)return D;for(var he=Pg(D),Ce=Pg(G),Pe=he.pop(),$e=Ce.pop(),Ke=null;Pe===$e;)Ke=Pe,Pe=he.pop(),$e=Ce.pop();return Ke}y.layout.chord=function(){var D={},G,he,Ce,Pe,$e=0,Ke,We,rt;function vt(){var Zt={},Ut=[],gn=y.range(Pe),An=[],jt,nn,hn,_n,Pn;for(G=[],he=[],jt=0,_n=-1;++_n<Pe;){for(nn=0,Pn=-1;++Pn<Pe;)nn+=Ce[_n][Pn];Ut.push(nn),An.push(y.range(Pe)),jt+=nn}for(Ke&&gn.sort(function(rs,So){return Ke(Ut[rs],Ut[So])}),We&&An.forEach(function(rs,So){rs.sort(function(go,js){return We(Ce[So][go],Ce[So][js])})}),jt=(it-$e*Pe)/jt,nn=0,_n=-1;++_n<Pe;){for(hn=nn,Pn=-1;++Pn<Pe;){var yn=gn[_n],cr=An[yn][Pn],Hr=Ce[yn][cr],Jr=nn,Ar=nn+=Hr*jt;Zt[yn+"-"+cr]={index:yn,subindex:cr,startAngle:Jr,endAngle:Ar,value:Hr}}he[yn]={index:yn,startAngle:hn,endAngle:nn,value:Ut[yn]},nn+=$e}for(_n=-1;++_n<Pe;)for(Pn=_n-1;++Pn<Pe;){var no=Zt[_n+"-"+Pn],fo=Zt[Pn+"-"+_n];(no.value||fo.value)&&G.push(no.value<fo.value?{source:fo,target:no}:{source:no,target:fo})}rt&&bt()}function bt(){G.sort(function(Zt,Ut){return rt((Zt.source.value+Zt.target.value)/2,(Ut.source.value+Ut.target.value)/2)})}return D.matrix=function(Zt){return arguments.length?(Pe=(Ce=Zt)&&Ce.length,G=he=null,D):Ce},D.padding=function(Zt){return arguments.length?($e=Zt,G=he=null,D):$e},D.sortGroups=function(Zt){return arguments.length?(Ke=Zt,G=he=null,D):Ke},D.sortSubgroups=function(Zt){return arguments.length?(We=Zt,G=null,D):We},D.sortChords=function(Zt){return arguments.length?(rt=Zt,G&&bt(),D):rt},D.chords=function(){return G||vt(),G},D.groups=function(){return he||vt(),he},D},y.layout.force=function(){var D={},G=y.dispatch("start","tick","end"),he,Ce=[1,1],Pe,$e,Ke=.9,We=il,rt=Ch,vt=-30,bt=Mg,Zt=.1,Ut=.64,gn=[],An=[],jt,nn,hn;function _n(yn){return function(cr,Hr,Jr,Ar){if(cr.point!==yn){var no=cr.cx-yn.x,fo=cr.cy-yn.y,rs=Ar-Hr,So=no*no+fo*fo;if(rs*rs/Ut<So){if(So<bt){var go=cr.charge/So;yn.px-=no*go,yn.py-=fo*go}return!0}if(cr.point&&So&&So<bt){var go=cr.pointCharge/So;yn.px-=no*go,yn.py-=fo*go}}return!cr.charge}}D.tick=function(){if(($e*=.99)<.005)return he=null,G.end({type:"end",alpha:$e=0}),!0;var yn=gn.length,cr=An.length,Hr,Jr,Ar,no,fo,rs,So,go,js;for(Jr=0;Jr<cr;++Jr)Ar=An[Jr],no=Ar.source,fo=Ar.target,go=fo.x-no.x,js=fo.y-no.y,(rs=go*go+js*js)&&(rs=$e*nn[Jr]*((rs=Math.sqrt(rs))-jt[Jr])/rs,go*=rs,js*=rs,fo.x-=go*(So=no.weight+fo.weight?no.weight/(no.weight+fo.weight):.5),fo.y-=js*So,no.x+=go*(So=1-So),no.y+=js*So);if((So=$e*Zt)&&(go=Ce[0]/2,js=Ce[1]/2,Jr=-1,So))for(;++Jr<yn;)Ar=gn[Jr],Ar.x+=(go-Ar.x)*So,Ar.y+=(js-Ar.y)*So;if(vt)for(Yc(Hr=y.geom.quadtree(gn),$e,hn),Jr=-1;++Jr<yn;)(Ar=gn[Jr]).fixed||Hr.visit(_n(Ar));for(Jr=-1;++Jr<yn;)Ar=gn[Jr],Ar.fixed?(Ar.x=Ar.px,Ar.y=Ar.py):(Ar.x-=(Ar.px-(Ar.px=Ar.x))*Ke,Ar.y-=(Ar.py-(Ar.py=Ar.y))*Ke);G.tick({type:"tick",alpha:$e})},D.nodes=function(yn){return arguments.length?(gn=yn,D):gn},D.links=function(yn){return arguments.length?(An=yn,D):An},D.size=function(yn){return arguments.length?(Ce=yn,D):Ce},D.linkDistance=function(yn){return arguments.length?(We=typeof yn=="function"?yn:+yn,D):We},D.distance=D.linkDistance,D.linkStrength=function(yn){return arguments.length?(rt=typeof yn=="function"?yn:+yn,D):rt},D.friction=function(yn){return arguments.length?(Ke=+yn,D):Ke},D.charge=function(yn){return arguments.length?(vt=typeof yn=="function"?yn:+yn,D):vt},D.chargeDistance=function(yn){return arguments.length?(bt=yn*yn,D):Math.sqrt(bt)},D.gravity=function(yn){return arguments.length?(Zt=+yn,D):Zt},D.theta=function(yn){return arguments.length?(Ut=yn*yn,D):Math.sqrt(Ut)},D.alpha=function(yn){return arguments.length?(yn=+yn,$e?yn>0?$e=yn:(he.c=null,he.t=NaN,he=null,G.end({type:"end",alpha:$e=0})):yn>0&&(G.start({type:"start",alpha:$e=yn}),he=wo(D.tick)),D):$e},D.start=function(){var yn,cr=gn.length,Hr=An.length,Jr=Ce[0],Ar=Ce[1],no,fo;for(yn=0;yn<cr;++yn)(fo=gn[yn]).index=yn,fo.weight=0;for(yn=0;yn<Hr;++yn)fo=An[yn],typeof fo.source=="number"&&(fo.source=gn[fo.source]),typeof fo.target=="number"&&(fo.target=gn[fo.target]),++fo.source.weight,++fo.target.weight;for(yn=0;yn<cr;++yn)fo=gn[yn],isNaN(fo.x)&&(fo.x=rs("x",Jr)),isNaN(fo.y)&&(fo.y=rs("y",Ar)),isNaN(fo.px)&&(fo.px=fo.x),isNaN(fo.py)&&(fo.py=fo.y);if(jt=[],typeof We=="function")for(yn=0;yn<Hr;++yn)jt[yn]=+We.call(this,An[yn],yn);else for(yn=0;yn<Hr;++yn)jt[yn]=We;if(nn=[],typeof rt=="function")for(yn=0;yn<Hr;++yn)nn[yn]=+rt.call(this,An[yn],yn);else for(yn=0;yn<Hr;++yn)nn[yn]=rt;if(hn=[],typeof vt=="function")for(yn=0;yn<cr;++yn)hn[yn]=+vt.call(this,gn[yn],yn);else for(yn=0;yn<cr;++yn)hn[yn]=vt;function rs(So,go){if(!no){for(no=new Array(cr),Oa=0;Oa<cr;++Oa)no[Oa]=[];for(Oa=0;Oa<Hr;++Oa){var js=An[Oa];no[js.source.index].push(js.target),no[js.target.index].push(js.source)}}for(var oi=no[yn],Oa=-1,Lr=oi.length,$o;++Oa<Lr;)if(!isNaN($o=oi[Oa][So]))return $o;return Math.random()*go}return D.resume()},D.resume=function(){return D.alpha(.1)},D.stop=function(){return D.alpha(0)},D.drag=function(){if(Pe||(Pe=y.behavior.drag().origin(ne).on("dragstart.force",QO).on("drag.force",Pn).on("dragend.force",ju)),!arguments.length)return Pe;this.on("mouseover.force",Gp).on("mouseout.force",Oy).call(Pe)};function Pn(yn){yn.px=y.event.x,yn.py=y.event.y,D.resume()}return y.rebind(D,G,"on")};function QO(D){D.fixed|=2}function ju(D){D.fixed&=-7}function Gp(D){D.fixed|=4,D.px=D.x,D.py=D.y}function Oy(D){D.fixed&=-5}function Yc(D,G,he){var Ce=0,Pe=0;if(D.charge=0,!D.leaf)for(var $e=D.nodes,Ke=$e.length,We=-1,rt;++We<Ke;)rt=$e[We],rt!=null&&(Yc(rt,G,he),D.charge+=rt.charge,Ce+=rt.charge*rt.cx,Pe+=rt.charge*rt.cy);if(D.point){D.leaf||(D.point.x+=Math.random()-.5,D.point.y+=Math.random()-.5);var vt=G*he[D.point.index];D.charge+=D.pointCharge=vt,Ce+=vt*D.point.x,Pe+=vt*D.point.y}D.cx=Ce/D.charge,D.cy=Pe/D.charge}var il=20,Ch=1,Mg=1/0;y.layout.hierarchy=function(){var D=xy,G=FO,he=jp;function Ce(Pe){var $e=[Pe],Ke=[],We;for(Pe.depth=0;(We=$e.pop())!=null;)if(Ke.push(We),(vt=G.call(Ce,We,We.depth))&&(rt=vt.length)){for(var rt,vt,bt;--rt>=0;)$e.push(bt=vt[rt]),bt.parent=We,bt.depth=We.depth+1;he&&(We.value=0),We.children=vt}else he&&(We.value=+he.call(Ce,We,We.depth)||0),delete We.children;return qu(Pe,function(Zt){var Ut,gn;D&&(Ut=Zt.children)&&Ut.sort(D),he&&(gn=Zt.parent)&&(gn.value+=Zt.value)}),Ke}return Ce.sort=function(Pe){return arguments.length?(D=Pe,Ce):D},Ce.children=function(Pe){return arguments.length?(G=Pe,Ce):G},Ce.value=function(Pe){return arguments.length?(he=Pe,Ce):he},Ce.revalue=function(Pe){return he&&(Ll(Pe,function($e){$e.children&&($e.value=0)}),qu(Pe,function($e){var Ke;$e.children||($e.value=+he.call(Ce,$e,$e.depth)||0),(Ke=$e.parent)&&(Ke.value+=$e.value)})),Pe},Ce};function Pc(D,G){return y.rebind(D,G,"sort","children","value"),D.nodes=D,D.links=n1,D}function Ll(D,G){for(var he=[D];(D=he.pop())!=null;)if(G(D),(Pe=D.children)&&(Ce=Pe.length))for(var Ce,Pe;--Ce>=0;)he.push(Pe[Ce])}function qu(D,G){for(var he=[D],Ce=[];(D=he.pop())!=null;)if(Ce.push(D),(Ke=D.children)&&($e=Ke.length))for(var Pe=-1,$e,Ke;++Pe<$e;)he.push(Ke[Pe]);for(;(D=Ce.pop())!=null;)G(D)}function FO(D){return D.children}function jp(D){return D.value}function xy(D,G){return G.value-D.value}function n1(D){return y.merge(D.map(function(G){return(G.children||[]).map(function(he){return{source:G,target:he}})}))}y.layout.partition=function(){var D=y.layout.hierarchy(),G=[1,1];function he($e,Ke,We,rt){var vt=$e.children;if($e.x=Ke,$e.y=$e.depth*rt,$e.dx=We,$e.dy=rt,vt&&(Zt=vt.length)){var bt=-1,Zt,Ut,gn;for(We=$e.value?We/$e.value:0;++bt<Zt;)he(Ut=vt[bt],Ke,gn=Ut.value*We,rt),Ke+=gn}}function Ce($e){var Ke=$e.children,We=0;if(Ke&&(vt=Ke.length))for(var rt=-1,vt;++rt<vt;)We=Math.max(We,Ce(Ke[rt]));return 1+We}function Pe($e,Ke){var We=D.call(this,$e,Ke);return he(We[0],0,G[0],G[1]/Ce(We[0])),We}return Pe.size=function($e){return arguments.length?(G=$e,Pe):G},Pc(Pe,D)},y.layout.pie=function(){var D=Number,G=Rf,he=0,Ce=it,Pe=0;function $e(Ke){var We=Ke.length,rt=Ke.map(function(_n,Pn){return+D.call($e,_n,Pn)}),vt=+(typeof he=="function"?he.apply(this,arguments):he),bt=(typeof Ce=="function"?Ce.apply(this,arguments):Ce)-vt,Zt=Math.min(Math.abs(bt)/We,+(typeof Pe=="function"?Pe.apply(this,arguments):Pe)),Ut=Zt*(bt<0?-1:1),gn=y.sum(rt),An=gn?(bt-We*Ut)/gn:0,jt=y.range(We),nn=[],hn;return G!=null&&jt.sort(G===Rf?function(_n,Pn){return rt[Pn]-rt[_n]}:function(_n,Pn){return G(Ke[_n],Ke[Pn])}),jt.forEach(function(_n){nn[_n]={data:Ke[_n],value:hn=rt[_n],startAngle:vt,endAngle:vt+=hn*An+Ut,padAngle:Zt}}),nn}return $e.value=function(Ke){return arguments.length?(D=Ke,$e):D},$e.sort=function(Ke){return arguments.length?(G=Ke,$e):G},$e.startAngle=function(Ke){return arguments.length?(he=Ke,$e):he},$e.endAngle=function(Ke){return arguments.length?(Ce=Ke,$e):Ce},$e.padAngle=function(Ke){return arguments.length?(Pe=Ke,$e):Pe},$e};var Rf={};y.layout.stack=function(){var D=ne,G=r1,he=Th,Ce=o5,Pe=VO,$e=r5;function Ke(We,rt){if(!(An=We.length))return We;var vt=We.map(function(_n,Pn){return D.call(Ke,_n,Pn)}),bt=vt.map(function(_n){return _n.map(function(Pn,yn){return[Pe.call(Ke,Pn,yn),$e.call(Ke,Pn,yn)]})}),Zt=G.call(Ke,bt,rt);vt=y.permute(vt,Zt),bt=y.permute(bt,Zt);var Ut=he.call(Ke,bt,rt),gn=vt[0].length,An,jt,nn,hn;for(nn=0;nn<gn;++nn)for(Ce.call(Ke,vt[0][nn],hn=Ut[nn],bt[0][nn][1]),jt=1;jt<An;++jt)Ce.call(Ke,vt[jt][nn],hn+=bt[jt-1][nn][1],bt[jt][nn][1]);return We}return Ke.values=function(We){return arguments.length?(D=We,Ke):D},Ke.order=function(We){return arguments.length?(G=typeof We=="function"?We:XS.get(We)||r1,Ke):G},Ke.offset=function(We){return arguments.length?(he=typeof We=="function"?We:qp.get(We)||Th,Ke):he},Ke.x=function(We){return arguments.length?(Pe=We,Ke):Pe},Ke.y=function(We){return arguments.length?($e=We,Ke):$e},Ke.out=function(We){return arguments.length?(Ce=We,Ke):Ce},Ke};function VO(D){return D.x}function r5(D){return D.y}function o5(D,G,he){D.y0=G,D.y=he}var XS=y.map({"inside-out":function(D){var G=D.length,he,Ce,Pe=D.map(ni),$e=D.map(hi),Ke=y.range(G).sort(function(Zt,Ut){return Pe[Zt]-Pe[Ut]}),We=0,rt=0,vt=[],bt=[];for(he=0;he<G;++he)Ce=Ke[he],We<rt?(We+=$e[Ce],vt.push(Ce)):(rt+=$e[Ce],bt.push(Ce));return bt.reverse().concat(vt)},reverse:function(D){return y.range(D.length).reverse()},default:r1}),qp=y.map({silhouette:function(D){var G=D.length,he=D[0].length,Ce=[],Pe=0,$e,Ke,We,rt=[];for(Ke=0;Ke<he;++Ke){for($e=0,We=0;$e<G;$e++)We+=D[$e][Ke][1];We>Pe&&(Pe=We),Ce.push(We)}for(Ke=0;Ke<he;++Ke)rt[Ke]=(Pe-Ce[Ke])/2;return rt},wiggle:function(D){var G=D.length,he=D[0],Ce=he.length,Pe,$e,Ke,We,rt,vt,bt,Zt,Ut,gn=[];for(gn[0]=Zt=Ut=0,$e=1;$e<Ce;++$e){for(Pe=0,We=0;Pe<G;++Pe)We+=D[Pe][$e][1];for(Pe=0,rt=0,bt=he[$e][0]-he[$e-1][0];Pe<G;++Pe){for(Ke=0,vt=(D[Pe][$e][1]-D[Pe][$e-1][1])/(2*bt);Ke<Pe;++Ke)vt+=(D[Ke][$e][1]-D[Ke][$e-1][1])/bt;rt+=vt*D[Pe][$e][1]}gn[$e]=Zt-=We?rt/We*bt:0,Zt<Ut&&(Ut=Zt)}for($e=0;$e<Ce;++$e)gn[$e]-=Ut;return gn},expand:function(D){var G=D.length,he=D[0].length,Ce=1/G,Pe,$e,Ke,We=[];for($e=0;$e<he;++$e){for(Pe=0,Ke=0;Pe<G;Pe++)Ke+=D[Pe][$e][1];if(Ke)for(Pe=0;Pe<G;Pe++)D[Pe][$e][1]/=Ke;else for(Pe=0;Pe<G;Pe++)D[Pe][$e][1]=Ce}for($e=0;$e<he;++$e)We[$e]=0;return We},zero:Th});function r1(D){return y.range(D.length)}function Th(D){for(var G=-1,he=D[0].length,Ce=[];++G<he;)Ce[G]=0;return Ce}function ni(D){for(var G=1,he=0,Ce=D[0][1],Pe,$e=D.length;G<$e;++G)(Pe=D[G][1])>Ce&&(he=G,Ce=Pe);return he}function hi(D){return D.reduce(Au,0)}function Au(D,G){return D+G[1]}y.layout.histogram=function(){var D=!0,G=Number,he=Xl,Ce=Sy;function Pe($e,Ut){for(var We=[],rt=$e.map(G,this),vt=he.call(this,rt,Ut),bt=Ce.call(this,vt,rt,Ut),Zt,Ut=-1,gn=rt.length,An=bt.length-1,jt=D?1:1/gn,nn;++Ut<An;)Zt=We[Ut]=[],Zt.dx=bt[Ut+1]-(Zt.x=bt[Ut]),Zt.y=0;if(An>0)for(Ut=-1;++Ut<gn;)nn=rt[Ut],nn>=vt[0]&&nn<=vt[1]&&(Zt=We[y.bisect(bt,nn,1,An)-1],Zt.y+=jt,Zt.push($e[Ut]));return We}return Pe.value=function($e){return arguments.length?(G=$e,Pe):G},Pe.range=function($e){return arguments.length?(he=Fn($e),Pe):he},Pe.bins=function($e){return arguments.length?(Ce=typeof $e=="number"?function(Ke){return zO(Ke,$e)}:Fn($e),Pe):Ce},Pe.frequency=function($e){return arguments.length?(D=!!$e,Pe):D},Pe};function Sy(D,G){return zO(D,Math.ceil(Math.log(G.length)/Math.LN2+1))}function zO(D,G){for(var he=-1,Ce=+D[0],Pe=(D[1]-Ce)/G,$e=[];++he<=G;)$e[he]=Pe*he+Ce;return $e}function Xl(D){return[y.min(D),y.max(D)]}y.layout.pack=function(){var D=y.layout.hierarchy().sort(Eg),G=0,he=[1,1],Ce;function Pe($e,Ke){var We=D.call(this,$e,Ke),rt=We[0],vt=he[0],bt=he[1],Zt=Ce==null?Math.sqrt:typeof Ce=="function"?Ce:function(){return Ce};if(rt.x=rt.y=0,qu(rt,function(gn){gn.r=+Zt(gn.value)}),qu(rt,jo),G){var Ut=G*(Ce?1:Math.max(2*rt.r/vt,2*rt.r/bt))/2;qu(rt,function(gn){gn.r+=Ut}),qu(rt,jo),qu(rt,function(gn){gn.r-=Ut})}return wm(rt,vt/2,bt/2,Ce?1:1/Math.max(2*rt.r/vt,2*rt.r/bt)),We}return Pe.size=function($e){return arguments.length?(he=$e,Pe):he},Pe.radius=function($e){return arguments.length?(Ce=$e==null||typeof $e=="function"?$e:+$e,Pe):Ce},Pe.padding=function($e){return arguments.length?(G=+$e,Pe):G},Pc(Pe,D)};function Eg(D,G){return D.value-G.value}function Mc(D,G){var he=D._pack_next;D._pack_next=G,G._pack_prev=D,G._pack_next=he,he._pack_prev=G}function Df(D,G){D._pack_next=G,G._pack_prev=D}function wy(D,G){var he=G.x-D.x,Ce=G.y-D.y,Pe=D.r+G.r;return .999*Pe*Pe>he*he+Ce*Ce}function jo(D){if(!(G=D.children)||!(Ut=G.length))return;var G,he=1/0,Ce=-1/0,Pe=1/0,$e=-1/0,Ke,We,rt,vt,bt,Zt,Ut;function gn(yn){he=Math.min(yn.x-yn.r,he),Ce=Math.max(yn.x+yn.r,Ce),Pe=Math.min(yn.y-yn.r,Pe),$e=Math.max(yn.y+yn.r,$e)}if(G.forEach(Xc),Ke=G[0],Ke.x=-Ke.r,Ke.y=0,gn(Ke),Ut>1&&(We=G[1],We.x=We.r,We.y=0,gn(We),Ut>2))for(rt=G[2],Cy(Ke,We,rt),gn(rt),Mc(Ke,rt),Ke._pack_prev=rt,Mc(rt,We),We=Ke._pack_next,vt=3;vt<Ut;vt++){Cy(Ke,We,rt=G[vt]);var An=0,jt=1,nn=1;for(bt=We._pack_next;bt!==We;bt=bt._pack_next,jt++)if(wy(bt,rt)){An=1;break}if(An==1)for(Zt=Ke._pack_prev;Zt!==bt._pack_prev&&!wy(Zt,rt);Zt=Zt._pack_prev,nn++);An?(jt<nn||jt==nn&&We.r<Ke.r?Df(Ke,We=bt):Df(Ke=Zt,We),vt--):(Mc(Ke,rt),We=rt,gn(rt))}var hn=(he+Ce)/2,_n=(Pe+$e)/2,Pn=0;for(vt=0;vt<Ut;vt++)rt=G[vt],rt.x-=hn,rt.y-=_n,Pn=Math.max(Pn,rt.r+Math.sqrt(rt.x*rt.x+rt.y*rt.y));D.r=Pn,G.forEach(kh)}function Xc(D){D._pack_next=D._pack_prev=D}function kh(D){delete D._pack_next,delete D._pack_prev}function wm(D,G,he,Ce){var Pe=D.children;if(D.x=G+=Ce*D.x,D.y=he+=Ce*D.y,D.r*=Ce,Pe)for(var $e=-1,Ke=Pe.length;++$e<Ke;)wm(Pe[$e],G,he,Ce)}function Cy(D,G,he){var Ce=D.r+he.r,Pe=G.x-D.x,$e=G.y-D.y;if(Ce&&(Pe||$e)){var Ke=G.r+he.r,We=Pe*Pe+$e*$e;Ke*=Ke,Ce*=Ce;var rt=.5+(Ce-Ke)/(2*We),vt=Math.sqrt(Math.max(0,2*Ke*(Ce+We)-(Ce-=We)*Ce-Ke*Ke))/(2*We);he.x=D.x+rt*Pe+vt*$e,he.y=D.y+rt*$e-vt*Pe}else he.x=D.x+Ce,he.y=D.y}y.layout.tree=function(){var D=y.layout.hierarchy().sort(null).value(null),G=Ty,he=[1,1],Ce=null;function Pe(bt,Zt){var Ut=D.call(this,bt,Zt),gn=Ut[0],An=$e(gn);if(qu(An,Ke),An.parent.m=-An.z,Ll(An,We),Ce)Ll(gn,vt);else{var jt=gn,nn=gn,hn=gn;Ll(gn,function(cr){cr.x<jt.x&&(jt=cr),cr.x>nn.x&&(nn=cr),cr.depth>hn.depth&&(hn=cr)});var _n=G(jt,nn)/2-jt.x,Pn=he[0]/(nn.x+G(nn,jt)/2+_n),yn=he[1]/(hn.depth||1);Ll(gn,function(cr){cr.x=(cr.x+_n)*Pn,cr.y=cr.depth*yn})}return Ut}function $e(bt){for(var Zt={A:null,children:[bt]},Ut=[Zt],gn;(gn=Ut.pop())!=null;)for(var An=gn.children,jt,nn=0,hn=An.length;nn<hn;++nn)Ut.push((An[nn]=jt={_:An[nn],parent:gn,children:(jt=An[nn].children)&&jt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:nn}).a=jt);return Zt.children[0]}function Ke(bt){var Zt=bt.children,Ut=bt.parent.children,gn=bt.i?Ut[bt.i-1]:null;if(Zt.length){Wi(bt);var An=(Zt[0].z+Zt[Zt.length-1].z)/2;gn?(bt.z=gn.z+G(bt._,gn._),bt.m=bt.z-An):bt.z=An}else gn&&(bt.z=gn.z+G(bt._,gn._));bt.parent.A=rt(bt,gn,bt.parent.A||Ut[0])}function We(bt){bt._.x=bt.z+bt.parent.m,bt.m+=bt.parent.m}function rt(bt,Zt,Ut){if(Zt){for(var gn=bt,An=bt,jt=Zt,nn=gn.parent.children[0],hn=gn.m,_n=An.m,Pn=jt.m,yn=nn.m,cr;jt=Ti(jt),gn=lc(gn),jt&&gn;)nn=lc(nn),An=Ti(An),An.a=bt,cr=jt.z+Pn-gn.z-hn+G(jt._,gn._),cr>0&&(cu(ky(jt,bt,Ut),bt,cr),hn+=cr,_n+=cr),Pn+=jt.m,hn+=gn.m,yn+=nn.m,_n+=An.m;jt&&!Ti(An)&&(An.t=jt,An.m+=Pn-_n),gn&&!lc(nn)&&(nn.t=gn,nn.m+=hn-yn,Ut=bt)}return Ut}function vt(bt){bt.x*=he[0],bt.y=bt.depth*he[1]}return Pe.separation=function(bt){return arguments.length?(G=bt,Pe):G},Pe.size=function(bt){return arguments.length?(Ce=(he=bt)==null?vt:null,Pe):Ce?null:he},Pe.nodeSize=function(bt){return arguments.length?(Ce=(he=bt)==null?null:vt,Pe):Ce?he:null},Pc(Pe,D)};function Ty(D,G){return D.parent==G.parent?1:2}function lc(D){var G=D.children;return G.length?G[0]:D.t}function Ti(D){var G=D.children,he;return(he=G.length)?G[he-1]:D.t}function cu(D,G,he){var Ce=he/(G.i-D.i);G.c-=Ce,G.s+=he,D.c+=Ce,G.z+=he,G.m+=he}function Wi(D){for(var G=0,he=0,Ce=D.children,Pe=Ce.length,$e;--Pe>=0;)$e=Ce[Pe],$e.z+=G,$e.m+=G,G+=$e.s+(he+=$e.c)}function ky(D,G,he){return D.a.parent===G.parent?D.a:he}y.layout.cluster=function(){var D=y.layout.hierarchy().sort(null).value(null),G=Ty,he=[1,1],Ce=!1;function Pe($e,Ke){var We=D.call(this,$e,Ke),rt=We[0],vt,bt=0;qu(rt,function(jt){var nn=jt.children;nn&&nn.length?(jt.x=ki(nn),jt.y=o1(nn)):(jt.x=vt?bt+=G(jt,vt):0,jt.y=0,vt=jt)});var Zt=Yi(rt),Ut=Ku(rt),gn=Zt.x-G(Zt,Ut)/2,An=Ut.x+G(Ut,Zt)/2;return qu(rt,Ce?function(jt){jt.x=(jt.x-rt.x)*he[0],jt.y=(rt.y-jt.y)*he[1]}:function(jt){jt.x=(jt.x-gn)/(An-gn)*he[0],jt.y=(1-(rt.y?jt.y/rt.y:1))*he[1]}),We}return Pe.separation=function($e){return arguments.length?(G=$e,Pe):G},Pe.size=function($e){return arguments.length?(Ce=(he=$e)==null,Pe):Ce?null:he},Pe.nodeSize=function($e){return arguments.length?(Ce=(he=$e)!=null,Pe):Ce?he:null},Pc(Pe,D)};function o1(D){return 1+y.max(D,function(G){return G.y})}function ki(D){return D.reduce(function(G,he){return G+he.x},0)/D.length}function Yi(D){var G=D.children;return G&&G.length?Yi(G[0]):D}function Ku(D){var G=D.children,he;return G&&(he=G.length)?Ku(G[he-1]):D}y.layout.treemap=function(){var D=y.layout.hierarchy(),G=Math.round,he=[1,1],Ce=null,Pe=Cm,$e=!1,Ke,We="squarify",rt=.5*(1+Math.sqrt(5));function vt(jt,nn){for(var hn=-1,_n=jt.length,Pn,yn;++hn<_n;)yn=(Pn=jt[hn]).value*(nn<0?0:nn),Pn.area=isNaN(yn)||yn<=0?0:yn}function bt(jt){var nn=jt.children;if(nn&&nn.length){var hn=Pe(jt),_n=[],Pn=nn.slice(),yn,cr=1/0,Hr,Jr=We==="slice"?hn.dx:We==="dice"?hn.dy:We==="slice-dice"?jt.depth&1?hn.dy:hn.dx:Math.min(hn.dx,hn.dy),Ar;for(vt(Pn,hn.dx*hn.dy/jt.value),_n.area=0;(Ar=Pn.length)>0;)_n.push(yn=Pn[Ar-1]),_n.area+=yn.area,We!=="squarify"||(Hr=Ut(_n,Jr))<=cr?(Pn.pop(),cr=Hr):(_n.area-=_n.pop().area,gn(_n,Jr,hn,!1),Jr=Math.min(hn.dx,hn.dy),_n.length=_n.area=0,cr=1/0);_n.length&&(gn(_n,Jr,hn,!0),_n.length=_n.area=0),nn.forEach(bt)}}function Zt(jt){var nn=jt.children;if(nn&&nn.length){var hn=Pe(jt),_n=nn.slice(),Pn,yn=[];for(vt(_n,hn.dx*hn.dy/jt.value),yn.area=0;Pn=_n.pop();)yn.push(Pn),yn.area+=Pn.area,Pn.z!=null&&(gn(yn,Pn.z?hn.dx:hn.dy,hn,!_n.length),yn.length=yn.area=0);nn.forEach(Zt)}}function Ut(jt,nn){for(var hn=jt.area,_n,Pn=0,yn=1/0,cr=-1,Hr=jt.length;++cr<Hr;)(_n=jt[cr].area)&&(_n<yn&&(yn=_n),_n>Pn&&(Pn=_n));return hn*=hn,nn*=nn,hn?Math.max(nn*Pn*rt/hn,hn/(nn*yn*rt)):1/0}function gn(jt,nn,hn,_n){var Pn=-1,yn=jt.length,cr=hn.x,Hr=hn.y,Jr=nn?G(jt.area/nn):0,Ar;if(nn==hn.dx){for((_n||Jr>hn.dy)&&(Jr=hn.dy);++Pn<yn;)Ar=jt[Pn],Ar.x=cr,Ar.y=Hr,Ar.dy=Jr,cr+=Ar.dx=Math.min(hn.x+hn.dx-cr,Jr?G(Ar.area/Jr):0);Ar.z=!0,Ar.dx+=hn.x+hn.dx-cr,hn.y+=Jr,hn.dy-=Jr}else{for((_n||Jr>hn.dx)&&(Jr=hn.dx);++Pn<yn;)Ar=jt[Pn],Ar.x=cr,Ar.y=Hr,Ar.dx=Jr,Hr+=Ar.dy=Math.min(hn.y+hn.dy-Hr,Jr?G(Ar.area/Jr):0);Ar.z=!1,Ar.dy+=hn.y+hn.dy-Hr,hn.x+=Jr,hn.dx-=Jr}}function An(jt){var nn=Ke||D(jt),hn=nn[0];return hn.x=hn.y=0,hn.value?(hn.dx=he[0],hn.dy=he[1]):hn.dx=hn.dy=0,Ke&&D.revalue(hn),vt([hn],hn.dx*hn.dy/hn.value),(Ke?Zt:bt)(hn),$e&&(Ke=nn),nn}return An.size=function(jt){return arguments.length?(he=jt,An):he},An.padding=function(jt){if(!arguments.length)return Ce;function nn(Pn){var yn=jt.call(An,Pn,Pn.depth);return yn==null?Cm(Pn):Ai(Pn,typeof yn=="number"?[yn,yn,yn,yn]:yn)}function hn(Pn){return Ai(Pn,jt)}var _n;return Pe=(Ce=jt)==null?Cm:(_n=typeof jt)=="function"?nn:(_n==="number"&&(jt=[jt,jt,jt,jt]),hn),An},An.round=function(jt){return arguments.length?(G=jt?Math.round:Number,An):G!=Number},An.sticky=function(jt){return arguments.length?($e=jt,Ke=null,An):$e},An.ratio=function(jt){return arguments.length?(rt=jt,An):rt},An.mode=function(jt){return arguments.length?(We=jt+"",An):We},Pc(An,D)};function Cm(D){return{x:D.x,y:D.y,dx:D.dx,dy:D.dy}}function Ai(D,G){var he=D.x+G[3],Ce=D.y+G[0],Pe=D.dx-G[1]-G[3],$e=D.dy-G[0]-G[2];return Pe<0&&(he+=Pe/2,Pe=0),$e<0&&(Ce+=$e/2,$e=0),{x:he,y:Ce,dx:Pe,dy:$e}}y.random={normal:function(D,G){var he=arguments.length;return he<2&&(G=1),he<1&&(D=0),function(){var Ce,Pe,$e;do Ce=Math.random()*2-1,Pe=Math.random()*2-1,$e=Ce*Ce+Pe*Pe;while(!$e||$e>1);return D+G*Ce*Math.sqrt(-2*Math.log($e)/$e)}},logNormal:function(){var D=y.random.normal.apply(y,arguments);return function(){return Math.exp(D())}},bates:function(D){var G=y.random.irwinHall(D);return function(){return G()/D}},irwinHall:function(D){return function(){for(var G=0,he=0;he<D;he++)G+=Math.random();return G}}},y.scale={};function _g(D){var G=D[0],he=D[D.length-1];return G<he?[G,he]:[he,G]}function Kp(D){return D.rangeExtent?D.rangeExtent():_g(D.range())}function Ta(D,G,he,Ce){var Pe=he(D[0],D[1]),$e=Ce(G[0],G[1]);return function(Ke){return $e(Pe(Ke))}}function Ah(D,G){var he=0,Ce=D.length-1,Pe=D[he],$e=D[Ce],Ke;return $e<Pe&&(Ke=he,he=Ce,Ce=Ke,Ke=Pe,Pe=$e,$e=Ke),D[he]=G.floor(Pe),D[Ce]=G.ceil($e),D}function Ks(D){return D?{floor:function(G){return Math.floor(G/D)*D},ceil:function(G){return Math.ceil(G/D)*D}}:$f}var $f={floor:ne,ceil:ne};function Ay(D,G,he,Ce){var Pe=[],$e=[],Ke=0,We=Math.min(D.length,G.length)-1;for(D[We]<D[0]&&(D=D.slice().reverse(),G=G.slice().reverse());++Ke<=We;)Pe.push(he(D[Ke-1],D[Ke])),$e.push(Ce(G[Ke-1],G[Ke]));return function(rt){var vt=y.bisect(D,rt,1,We)-1;return $e[vt](Pe[vt](rt))}}y.scale.linear=function(){return Jp([0,1],[0,1],kc,!1)};function Jp(D,G,he,Ce){var Pe,$e;function Ke(){var rt=Math.min(D.length,G.length)>2?Ay:Ta,vt=Ce?Ag:yy;return Pe=rt(D,G,vt,he),$e=rt(G,D,vt,kc),We}function We(rt){return Pe(rt)}return We.invert=function(rt){return $e(rt)},We.domain=function(rt){return arguments.length?(D=rt.map(Number),Ke()):D},We.range=function(rt){return arguments.length?(G=rt,Ke()):G},We.rangeRound=function(rt){return We.range(rt).interpolate(xm)},We.clamp=function(rt){return arguments.length?(Ce=rt,Ke()):Ce},We.interpolate=function(rt){return arguments.length?(he=rt,Ke()):he},We.ticks=function(rt){return ev(D,rt)},We.tickFormat=function(rt,vt){return d3_scale_linearTickFormat(D,rt,vt)},We.nice=function(rt){return Tm(D,rt),Ke()},We.copy=function(){return Jp(D,G,he,Ce)},Ke()}function ms(D,G){return y.rebind(D,G,"range","rangeRound","interpolate","clamp")}function Tm(D,G){return Ah(D,Ks(s1(D,G)[2])),Ah(D,Ks(s1(D,G)[2])),D}function s1(D,G){G==null&&(G=10);var he=_g(D),Ce=he[1]-he[0],Pe=Math.pow(10,Math.floor(Math.log(Ce/G)/Math.LN10)),$e=G/Ce*Pe;return $e<=.15?Pe*=10:$e<=.35?Pe*=5:$e<=.75&&(Pe*=2),he[0]=Math.ceil(he[0]/Pe)*Pe,he[1]=Math.floor(he[1]/Pe)*Pe+Pe*.5,he[2]=Pe,he}function ev(D,G){return y.range.apply(y,s1(D,G))}y.scale.log=function(){return GS(y.scale.linear().domain([0,1]),10,!0,[1,10])};function GS(D,G,he,Ce){function Pe(We){return(he?Math.log(We<0?0:We):-Math.log(We>0?0:-We))/Math.log(G)}function $e(We){return he?Math.pow(G,We):-Math.pow(G,-We)}function Ke(We){return D(Pe(We))}return Ke.invert=function(We){return $e(D.invert(We))},Ke.domain=function(We){return arguments.length?(he=We[0]>=0,D.domain((Ce=We.map(Number)).map(Pe)),Ke):Ce},Ke.base=function(We){return arguments.length?(G=+We,D.domain(Ce.map(Pe)),Ke):G},Ke.nice=function(){var We=Ah(Ce.map(Pe),he?Math:jS);return D.domain(We),Ce=We.map($e),Ke},Ke.ticks=function(){var We=_g(Ce),rt=[],vt=We[0],bt=We[1],Zt=Math.floor(Pe(vt)),Ut=Math.ceil(Pe(bt)),gn=G%1?2:G;if(isFinite(Ut-Zt)){if(he){for(;Zt<Ut;Zt++)for(var An=1;An<gn;An++)rt.push($e(Zt)*An);rt.push($e(Zt))}else for(rt.push($e(Zt));Zt++<Ut;)for(var An=gn-1;An>0;An--)rt.push($e(Zt)*An);for(Zt=0;rt[Zt]<vt;Zt++);for(Ut=rt.length;rt[Ut-1]>bt;Ut--);rt=rt.slice(Zt,Ut)}return rt},Ke.copy=function(){return GS(D.copy(),G,he,Ce)},ms(Ke,D)}var jS={floor:function(D){return-Math.ceil(-D)},ceil:function(D){return-Math.floor(-D)}};y.scale.pow=function(){return Py(y.scale.linear(),1,[0,1])};function Py(D,G,he){var Ce=km(G),Pe=km(1/G);function $e(Ke){return D(Ce(Ke))}return $e.invert=function(Ke){return Pe(D.invert(Ke))},$e.domain=function(Ke){return arguments.length?(D.domain((he=Ke.map(Number)).map(Ce)),$e):he},$e.ticks=function(Ke){return ev(he,Ke)},$e.tickFormat=function(Ke,We){return d3_scale_linearTickFormat(he,Ke,We)},$e.nice=function(Ke){return $e.domain(Tm(he,Ke))},$e.exponent=function(Ke){return arguments.length?(Ce=km(G=Ke),Pe=km(1/G),D.domain(he.map(Ce)),$e):G},$e.copy=function(){return Py(D.copy(),G,he)},ms($e,D)}function km(D){return function(G){return G<0?-Math.pow(-G,D):Math.pow(G,D)}}y.scale.sqrt=function(){return y.scale.pow().exponent(.5)},y.scale.ordinal=function(){return a1([],{t:"range",a:[[]]})};function a1(D,G){var he,Ce,Pe;function $e(We){return Ce[((he.get(We)||(G.t==="range"?he.set(We,D.push(We)):NaN))-1)%Ce.length]}function Ke(We,rt){return y.range(D.length).map(function(vt){return We+rt*vt})}return $e.domain=function(We){if(!arguments.length)return D;D=[],he=new ie;for(var rt=-1,vt=We.length,bt;++rt<vt;)he.has(bt=We[rt])||he.set(bt,D.push(bt));return $e[G.t].apply($e,G.a)},$e.range=function(We){return arguments.length?(Ce=We,Pe=0,G={t:"range",a:arguments},$e):Ce},$e.rangePoints=function(We,rt){arguments.length<2&&(rt=0);var vt=We[0],bt=We[1],Zt=D.length<2?(vt=(vt+bt)/2,0):(bt-vt)/(D.length-1+rt);return Ce=Ke(vt+Zt*rt/2,Zt),Pe=0,G={t:"rangePoints",a:arguments},$e},$e.rangeRoundPoints=function(We,rt){arguments.length<2&&(rt=0);var vt=We[0],bt=We[1],Zt=D.length<2?(vt=bt=Math.round((vt+bt)/2),0):(bt-vt)/(D.length-1+rt)|0;return Ce=Ke(vt+Math.round(Zt*rt/2+(bt-vt-(D.length-1+rt)*Zt)/2),Zt),Pe=0,G={t:"rangeRoundPoints",a:arguments},$e},$e.rangeBands=function(We,rt,vt){arguments.length<2&&(rt=0),arguments.length<3&&(vt=rt);var bt=We[1]<We[0],Zt=We[bt-0],Ut=We[1-bt],gn=(Ut-Zt)/(D.length-rt+2*vt);return Ce=Ke(Zt+gn*vt,gn),bt&&Ce.reverse(),Pe=gn*(1-rt),G={t:"rangeBands",a:arguments},$e},$e.rangeRoundBands=function(We,rt,vt){arguments.length<2&&(rt=0),arguments.length<3&&(vt=rt);var bt=We[1]<We[0],Zt=We[bt-0],Ut=We[1-bt],gn=Math.floor((Ut-Zt)/(D.length-rt+2*vt));return Ce=Ke(Zt+Math.round((Ut-Zt-(D.length-rt)*gn)/2),gn),bt&&Ce.reverse(),Pe=Math.round(gn*(1-rt)),G={t:"rangeRoundBands",a:arguments},$e},$e.rangeBand=function(){return Pe},$e.rangeExtent=function(){return _g(G.a[0])},$e.copy=function(){return a1(D,G)},$e.domain(D)}y.scale.category10=function(){return y.scale.ordinal().range(Am)},y.scale.category20=function(){return y.scale.ordinal().range(Rg)},y.scale.category20b=function(){return y.scale.ordinal().range(ZO)},y.scale.category20c=function(){return y.scale.ordinal().range(Ju)};var Am=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),Rg=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),ZO=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Ju=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);y.scale.quantile=function(){return HO([],[])};function HO(D,G){var he;function Ce(){var $e=0,Ke=G.length;for(he=[];++$e<Ke;)he[$e-1]=y.quantile(D,$e/Ke);return Pe}function Pe($e){if(!isNaN($e=+$e))return G[y.bisect(he,$e)]}return Pe.domain=function($e){return arguments.length?(D=$e.map(Q).filter(z).sort(N),Ce()):D},Pe.range=function($e){return arguments.length?(G=$e,Ce()):G},Pe.quantiles=function(){return he},Pe.invertExtent=function($e){return $e=G.indexOf($e),$e<0?[NaN,NaN]:[$e>0?he[$e-1]:D[0],$e<he.length?he[$e]:D[D.length-1]]},Pe.copy=function(){return HO(D,G)},Ce()}y.scale.quantize=function(){return Pm(0,1,[0,1])};function Pm(D,G,he){var Ce,Pe;function $e(We){return he[Math.max(0,Math.min(Pe,Math.floor(Ce*(We-D))))]}function Ke(){return Ce=he.length/(G-D),Pe=he.length-1,$e}return $e.domain=function(We){return arguments.length?(D=+We[0],G=+We[We.length-1],Ke()):[D,G]},$e.range=function(We){return arguments.length?(he=We,Ke()):he},$e.invertExtent=function(We){return We=he.indexOf(We),We=We<0?NaN:We/Ce+D,[We,We+1/Ce]},$e.copy=function(){return Pm(D,G,he)},Ke()}y.scale.threshold=function(){return Pu([.5],[0,1])};function Pu(D,G){function he(Ce){if(Ce<=Ce)return G[y.bisect(D,Ce)]}return he.domain=function(Ce){return arguments.length?(D=Ce,he):D},he.range=function(Ce){return arguments.length?(G=Ce,he):G},he.invertExtent=function(Ce){return Ce=G.indexOf(Ce),[D[Ce-1],D[Ce]]},he.copy=function(){return Pu(D,G)},he}y.scale.identity=function(){return i1([0,1])};function i1(D){function G(he){return+he}return G.invert=G,G.domain=G.range=function(he){return arguments.length?(D=he.map(G),G):D},G.ticks=function(he){return ev(D,he)},G.tickFormat=function(he,Ce){return d3_scale_linearTickFormat(D,he,Ce)},G.copy=function(){return i1(D)},G}y.svg={};function My(){return 0}y.svg.arc=function(){var D=Ey,G=_y,he=My,Ce=Dg,Pe=Ry,$e=l1,Ke=ll;function We(){var vt=Math.max(0,+D.apply(this,arguments)),bt=Math.max(0,+G.apply(this,arguments)),Zt=Pe.apply(this,arguments)-mt,Ut=$e.apply(this,arguments)-mt,gn=Math.abs(Ut-Zt),An=Zt>Ut?0:1;if(bt<vt&&(jt=bt,bt=vt,vt=jt),gn>=dt)return rt(bt,An)+(vt?rt(vt,1-An):"")+"Z";var jt,nn,hn,_n,Pn=0,yn=0,cr,Hr,Jr,Ar,no,fo,rs,So,go=[];if((_n=(+Ke.apply(this,arguments)||0)/2)&&(hn=Ce===Dg?Math.sqrt(vt*vt+bt*bt):+Ce.apply(this,arguments),An||(yn*=-1),bt&&(yn=rn(hn/bt*Math.sin(_n))),vt&&(Pn=rn(hn/vt*Math.sin(_n)))),bt){cr=bt*Math.cos(Zt+yn),Hr=bt*Math.sin(Zt+yn),Jr=bt*Math.cos(Ut-yn),Ar=bt*Math.sin(Ut-yn);var js=Math.abs(Ut-Zt-2*yn)<=He?0:1;if(yn&&tv(cr,Hr,Jr,Ar)===An^js){var oi=(Zt+Ut)/2;cr=bt*Math.cos(oi),Hr=bt*Math.sin(oi),Jr=Ar=null}}else cr=Hr=0;if(vt){no=vt*Math.cos(Ut-Pn),fo=vt*Math.sin(Ut-Pn),rs=vt*Math.cos(Zt+Pn),So=vt*Math.sin(Zt+Pn);var Oa=Math.abs(Zt-Ut+2*Pn)<=He?0:1;if(Pn&&tv(no,fo,rs,So)===1-An^Oa){var Lr=(Zt+Ut)/2;no=vt*Math.cos(Lr),fo=vt*Math.sin(Lr),rs=So=null}}else no=fo=0;if(gn>gt&&(jt=Math.min(Math.abs(bt-vt)/2,+he.apply(this,arguments)))>.001){nn=vt<bt^An?0:1;var $o=jt,gs=jt;if(gn<He){var Rs=rs==null?[no,fo]:Jr==null?[cr,Hr]:Ba([cr,Hr],[rs,So],[Jr,Ar],[no,fo]),Qa=cr-Rs[0],gi=Hr-Rs[1],Gi=Jr-Rs[0],Ii=Ar-Rs[1],qc=1/Math.sin(Math.acos((Qa*Gi+gi*Ii)/(Math.sqrt(Qa*Qa+gi*gi)*Math.sqrt(Gi*Gi+Ii*Ii)))/2),tl=Math.sqrt(Rs[0]*Rs[0]+Rs[1]*Rs[1]);gs=Math.min(jt,(vt-tl)/(qc-1)),$o=Math.min(jt,(bt-tl)/(qc+1))}if(Jr!=null){var Dc=fa(rs==null?[no,fo]:[rs,So],[cr,Hr],bt,$o,An),ql=fa([Jr,Ar],[no,fo],bt,$o,An);jt===$o?go.push("M",Dc[0],"A",$o,",",$o," 0 0,",nn," ",Dc[1],"A",bt,",",bt," 0 ",1-An^tv(Dc[1][0],Dc[1][1],ql[1][0],ql[1][1]),",",An," ",ql[1],"A",$o,",",$o," 0 0,",nn," ",ql[0]):go.push("M",Dc[0],"A",$o,",",$o," 0 1,",nn," ",ql[0])}else go.push("M",cr,",",Hr);if(rs!=null){var ta=fa([cr,Hr],[rs,So],vt,-gs,An),rf=fa([no,fo],Jr==null?[cr,Hr]:[Jr,Ar],vt,-gs,An);jt===gs?go.push("L",rf[0],"A",gs,",",gs," 0 0,",nn," ",rf[1],"A",vt,",",vt," 0 ",An^tv(rf[1][0],rf[1][1],ta[1][0],ta[1][1]),",",1-An," ",ta[1],"A",gs,",",gs," 0 0,",nn," ",ta[0]):go.push("L",rf[0],"A",gs,",",gs," 0 0,",nn," ",ta[0])}else go.push("L",no,",",fo)}else go.push("M",cr,",",Hr),Jr!=null&&go.push("A",bt,",",bt," 0 ",js,",",An," ",Jr,",",Ar),go.push("L",no,",",fo),rs!=null&&go.push("A",vt,",",vt," 0 ",Oa,",",1-An," ",rs,",",So);return go.push("Z"),go.join("")}function rt(vt,bt){return"M0,"+vt+"A"+vt+","+vt+" 0 1,"+bt+" 0,"+-vt+"A"+vt+","+vt+" 0 1,"+bt+" 0,"+vt}return We.innerRadius=function(vt){return arguments.length?(D=Fn(vt),We):D},We.outerRadius=function(vt){return arguments.length?(G=Fn(vt),We):G},We.cornerRadius=function(vt){return arguments.length?(he=Fn(vt),We):he},We.padRadius=function(vt){return arguments.length?(Ce=vt==Dg?Dg:Fn(vt),We):Ce},We.startAngle=function(vt){return arguments.length?(Pe=Fn(vt),We):Pe},We.endAngle=function(vt){return arguments.length?($e=Fn(vt),We):$e},We.padAngle=function(vt){return arguments.length?(Ke=Fn(vt),We):Ke},We.centroid=function(){var vt=(+D.apply(this,arguments)+ +G.apply(this,arguments))/2,bt=(+Pe.apply(this,arguments)+ +$e.apply(this,arguments))/2-mt;return[Math.cos(bt)*vt,Math.sin(bt)*vt]},We};var Dg="auto";function Ey(D){return D.innerRadius}function _y(D){return D.outerRadius}function Ry(D){return D.startAngle}function l1(D){return D.endAngle}function ll(D){return D&&D.padAngle}function tv(D,G,he,Ce){return(D-he)*G-(G-Ce)*D>0?0:1}function fa(D,G,he,Ce,Pe){var $e=D[0]-G[0],Ke=D[1]-G[1],We=(Pe?Ce:-Ce)/Math.sqrt($e*$e+Ke*Ke),rt=We*Ke,vt=-We*$e,bt=D[0]+rt,Zt=D[1]+vt,Ut=G[0]+rt,gn=G[1]+vt,An=(bt+Ut)/2,jt=(Zt+gn)/2,nn=Ut-bt,hn=gn-Zt,_n=nn*nn+hn*hn,Pn=he-Ce,yn=bt*gn-Ut*Zt,cr=(hn<0?-1:1)*Math.sqrt(Math.max(0,Pn*Pn*_n-yn*yn)),Hr=(yn*hn-nn*cr)/_n,Jr=(-yn*nn-hn*cr)/_n,Ar=(yn*hn+nn*cr)/_n,no=(-yn*nn+hn*cr)/_n,fo=Hr-An,rs=Jr-jt,So=Ar-An,go=no-jt;return fo*fo+rs*rs>So*So+go*go&&(Hr=Ar,Jr=no),[[Hr-rt,Jr-vt],[Hr*he/Pn,Jr*he/Pn]]}function uo(){return!0}function ef(D){var G=ns,he=Xs,Ce=uo,Pe=Gl,$e=Pe.key,Ke=.7;function We(rt){var vt=[],bt=[],Zt=-1,Ut=rt.length,gn,An=Fn(G),jt=Fn(he);function nn(){vt.push("M",Pe(D(bt),Ke))}for(;++Zt<Ut;)Ce.call(this,gn=rt[Zt],Zt)?bt.push([+An.call(this,gn,Zt),+jt.call(this,gn,Zt)]):bt.length&&(nn(),bt=[]);return bt.length&&nn(),vt.length?vt.join(""):null}return We.x=function(rt){return arguments.length?(G=rt,We):G},We.y=function(rt){return arguments.length?(he=rt,We):he},We.defined=function(rt){return arguments.length?(Ce=rt,We):Ce},We.interpolate=function(rt){return arguments.length?(typeof rt=="function"?$e=Pe=rt:$e=(Pe=Xr.get(rt)||Gl).key,We):$e},We.tension=function(rt){return arguments.length?(Ke=rt,We):Ke},We}y.svg.line=function(){return ef(ne)};var Xr=y.map({linear:Gl,"linear-closed":qS,step:Fd,"step-before":bi,"step-after":Vd,basis:Dy,"basis-open":c1,"basis-closed":lr,bundle:UO,cardinal:Lf,"cardinal-open":nv,"cardinal-closed":cl,monotone:rv});Xr.forEach(function(D,G){G.key=D,G.closed=/-closed$/.test(D)});function Gl(D){return D.length>1?D.join("L"):D+"Z"}function qS(D){return D.join("L")+"Z"}function Fd(D){for(var G=0,he=D.length,Ce=D[0],Pe=[Ce[0],",",Ce[1]];++G<he;)Pe.push("H",(Ce[0]+(Ce=D[G])[0])/2,"V",Ce[1]);return he>1&&Pe.push("H",Ce[0]),Pe.join("")}function bi(D){for(var G=0,he=D.length,Ce=D[0],Pe=[Ce[0],",",Ce[1]];++G<he;)Pe.push("V",(Ce=D[G])[1],"H",Ce[0]);return Pe.join("")}function Vd(D){for(var G=0,he=D.length,Ce=D[0],Pe=[Ce[0],",",Ce[1]];++G<he;)Pe.push("H",(Ce=D[G])[0],"V",Ce[1]);return Pe.join("")}function nv(D,G){return D.length<4?Gl(D):D[1]+Mm(D.slice(1,-1),tf(D,G))}function cl(D,G){return D.length<3?qS(D):D[0]+Mm((D.push(D[0]),D),tf([D[D.length-2]].concat(D,[D[1]]),G))}function Lf(D,G){return D.length<3?Gl(D):D[0]+Mm(D,tf(D,G))}function Mm(D,G){if(G.length<1||D.length!=G.length&&D.length!=G.length+2)return Gl(D);var he=D.length!=G.length,Ce="",Pe=D[0],$e=D[1],Ke=G[0],We=Ke,rt=1;if(he&&(Ce+="Q"+($e[0]-Ke[0]*2/3)+","+($e[1]-Ke[1]*2/3)+","+$e[0]+","+$e[1],Pe=D[1],rt=2),G.length>1){We=G[1],$e=D[rt],rt++,Ce+="C"+(Pe[0]+Ke[0])+","+(Pe[1]+Ke[1])+","+($e[0]-We[0])+","+($e[1]-We[1])+","+$e[0]+","+$e[1];for(var vt=2;vt<G.length;vt++,rt++)$e=D[rt],We=G[vt],Ce+="S"+($e[0]-We[0])+","+($e[1]-We[1])+","+$e[0]+","+$e[1]}if(he){var bt=D[rt];Ce+="Q"+($e[0]+We[0]*2/3)+","+($e[1]+We[1]*2/3)+","+bt[0]+","+bt[1]}return Ce}function tf(D,G){for(var he=[],Ce=(1-G)/2,Pe,$e=D[0],Ke=D[1],We=1,rt=D.length;++We<rt;)Pe=$e,$e=Ke,Ke=D[We],he.push([Ce*(Ke[0]-Pe[0]),Ce*(Ke[1]-Pe[1])]);return he}function Dy(D){if(D.length<3)return Gl(D);var G=1,he=D.length,Ce=D[0],Pe=Ce[0],$e=Ce[1],Ke=[Pe,Pe,Pe,(Ce=D[1])[0]],We=[$e,$e,$e,Ce[1]],rt=[Pe,",",$e,"L",Il(ma,Ke),",",Il(ma,We)];for(D.push(D[he-1]);++G<=he;)Ce=D[G],Ke.shift(),Ke.push(Ce[0]),We.shift(),We.push(Ce[1]),ia(rt,Ke,We);return D.pop(),rt.push("L",Ce),rt.join("")}function c1(D){if(D.length<4)return Gl(D);for(var G=[],he=-1,Ce=D.length,Pe,$e=[0],Ke=[0];++he<3;)Pe=D[he],$e.push(Pe[0]),Ke.push(Pe[1]);for(G.push(Il(ma,$e)+","+Il(ma,Ke)),--he;++he<Ce;)Pe=D[he],$e.shift(),$e.push(Pe[0]),Ke.shift(),Ke.push(Pe[1]),ia(G,$e,Ke);return G.join("")}function lr(D){for(var G,he=-1,Ce=D.length,Pe=Ce+4,$e,Ke=[],We=[];++he<4;)$e=D[he%Ce],Ke.push($e[0]),We.push($e[1]);for(G=[Il(ma,Ke),",",Il(ma,We)],--he;++he<Pe;)$e=D[he%Ce],Ke.shift(),Ke.push($e[0]),We.shift(),We.push($e[1]),ia(G,Ke,We);return G.join("")}function UO(D,G){var he=D.length-1;if(he)for(var Ce=D[0][0],Pe=D[0][1],$e=D[he][0]-Ce,Ke=D[he][1]-Pe,We=-1,rt,vt;++We<=he;)rt=D[We],vt=We/he,rt[0]=G*rt[0]+(1-G)*(Ce+vt*$e),rt[1]=G*rt[1]+(1-G)*(Pe+vt*Ke);return Dy(D)}function Il(D,G){return D[0]*G[0]+D[1]*G[1]+D[2]*G[2]+D[3]*G[3]}var rd=[0,2/3,1/3,0],$g=[0,1/3,2/3,0],ma=[0,1/6,2/3,1/6];function ia(D,G,he){D.push("C",Il(rd,G),",",Il(rd,he),",",Il($g,G),",",Il($g,he),",",Il(ma,G),",",Il(ma,he))}function Nl(D,G){return(G[1]-D[1])/(G[0]-D[0])}function jl(D){for(var G=0,he=D.length-1,Ce=[],Pe=D[0],$e=D[1],Ke=Ce[0]=Nl(Pe,$e);++G<he;)Ce[G]=(Ke+(Ke=Nl(Pe=$e,$e=D[G+1])))/2;return Ce[G]=Ke,Ce}function ws(D){for(var G=[],he,Ce,Pe,$e,Ke=jl(D),We=-1,rt=D.length-1;++We<rt;)he=Nl(D[We],D[We+1]),E(he)<gt?Ke[We]=Ke[We+1]=0:(Ce=Ke[We]/he,Pe=Ke[We+1]/he,$e=Ce*Ce+Pe*Pe,$e>9&&($e=he*3/Math.sqrt($e),Ke[We]=$e*Ce,Ke[We+1]=$e*Pe));for(We=-1;++We<=rt;)$e=(D[Math.min(rt,We+1)][0]-D[Math.max(0,We-1)][0])/(6*(1+Ke[We]*Ke[We])),G.push([$e||0,Ke[We]*$e||0]);return G}function rv(D){return D.length<3?Gl(D):D[0]+Mm(D,ws(D))}y.svg.line.radial=function(){var D=ef(ul);return D.radius=D.x,delete D.x,D.angle=D.y,delete D.y,D};function ul(D){for(var G,he=-1,Ce=D.length,Pe,$e;++he<Ce;)G=D[he],Pe=G[0],$e=G[1]-mt,G[0]=Pe*Math.cos($e),G[1]=Pe*Math.sin($e);return D}function ri(D){var G=ns,he=ns,Ce=0,Pe=Xs,$e=uo,Ke=Gl,We=Ke.key,rt=Ke,vt="L",bt=.7;function Zt(Ut){var gn=[],An=[],jt=[],nn=-1,hn=Ut.length,_n,Pn=Fn(G),yn=Fn(Ce),cr=G===he?function(){return Jr}:Fn(he),Hr=Ce===Pe?function(){return Ar}:Fn(Pe),Jr,Ar;function no(){gn.push("M",Ke(D(jt),bt),vt,rt(D(An.reverse()),bt),"Z")}for(;++nn<hn;)$e.call(this,_n=Ut[nn],nn)?(An.push([Jr=+Pn.call(this,_n,nn),Ar=+yn.call(this,_n,nn)]),jt.push([+cr.call(this,_n,nn),+Hr.call(this,_n,nn)])):An.length&&(no(),An=[],jt=[]);return An.length&&no(),gn.length?gn.join(""):null}return Zt.x=function(Ut){return arguments.length?(G=he=Ut,Zt):he},Zt.x0=function(Ut){return arguments.length?(G=Ut,Zt):G},Zt.x1=function(Ut){return arguments.length?(he=Ut,Zt):he},Zt.y=function(Ut){return arguments.length?(Ce=Pe=Ut,Zt):Pe},Zt.y0=function(Ut){return arguments.length?(Ce=Ut,Zt):Ce},Zt.y1=function(Ut){return arguments.length?(Pe=Ut,Zt):Pe},Zt.defined=function(Ut){return arguments.length?($e=Ut,Zt):$e},Zt.interpolate=function(Ut){return arguments.length?(typeof Ut=="function"?We=Ke=Ut:We=(Ke=Xr.get(Ut)||Gl).key,rt=Ke.reverse||Ke,vt=Ke.closed?"M":"L",Zt):We},Zt.tension=function(Ut){return arguments.length?(bt=Ut,Zt):bt},Zt}bi.reverse=Vd,Vd.reverse=bi,y.svg.area=function(){return ri(ne)},y.svg.area.radial=function(){var D=ri(ul);return D.radius=D.x,delete D.x,D.innerRadius=D.x0,delete D.x0,D.outerRadius=D.x1,delete D.x1,D.angle=D.y,delete D.y,D.startAngle=D.y0,delete D.y0,D.endAngle=D.y1,delete D.y1,D};function ov(D){return D.source}function er(D){return D.target}y.svg.chord=function(){var D=ov,G=er,he=Gc,Ce=Ry,Pe=l1;function $e(bt,Zt){var Ut=Ke(this,D,bt,Zt),gn=Ke(this,G,bt,Zt);return"M"+Ut.p0+rt(Ut.r,Ut.p1,Ut.a1-Ut.a0)+(We(Ut,gn)?vt(Ut.r,Ut.p1,Ut.r,Ut.p0):vt(Ut.r,Ut.p1,gn.r,gn.p0)+rt(gn.r,gn.p1,gn.a1-gn.a0)+vt(gn.r,gn.p1,Ut.r,Ut.p0))+"Z"}function Ke(bt,Zt,Ut,gn){var An=Zt.call(bt,Ut,gn),jt=he.call(bt,An,gn),nn=Ce.call(bt,An,gn)-mt,hn=Pe.call(bt,An,gn)-mt;return{r:jt,a0:nn,a1:hn,p0:[jt*Math.cos(nn),jt*Math.sin(nn)],p1:[jt*Math.cos(hn),jt*Math.sin(hn)]}}function We(bt,Zt){return bt.a0==Zt.a0&&bt.a1==Zt.a1}function rt(bt,Zt,Ut){return"A"+bt+","+bt+" 0 "+ +(Ut>He)+",1 "+Zt}function vt(bt,Zt,Ut,gn){return"Q 0,0 "+gn}return $e.radius=function(bt){return arguments.length?(he=Fn(bt),$e):he},$e.source=function(bt){return arguments.length?(D=Fn(bt),$e):D},$e.target=function(bt){return arguments.length?(G=Fn(bt),$e):G},$e.startAngle=function(bt){return arguments.length?(Ce=Fn(bt),$e):Ce},$e.endAngle=function(bt){return arguments.length?(Pe=Fn(bt),$e):Pe},$e};function Gc(D){return D.radius}y.svg.diagonal=function(){var D=ov,G=er,he=Lg;function Ce(Pe,$e){var Ke=D.call(this,Pe,$e),We=G.call(this,Pe,$e),rt=(Ke.y+We.y)/2,vt=[Ke,{x:Ke.x,y:rt},{x:We.x,y:rt},We];return vt=vt.map(he),"M"+vt[0]+"C"+vt[1]+" "+vt[2]+" "+vt[3]}return Ce.source=function(Pe){return arguments.length?(D=Fn(Pe),Ce):D},Ce.target=function(Pe){return arguments.length?(G=Fn(Pe),Ce):G},Ce.projection=function(Pe){return arguments.length?(he=Pe,Ce):he},Ce};function Lg(D){return[D.x,D.y]}y.svg.diagonal.radial=function(){var D=y.svg.diagonal(),G=Lg,he=D.projection;return D.projection=function(Ce){return arguments.length?he(zs(G=Ce)):G},D};function zs(D){return function(){var G=D.apply(this,arguments),he=G[0],Ce=G[1]-mt;return[he*Math.cos(Ce),he*Math.sin(Ce)]}}y.svg.symbol=function(){var D=KS,G=If;function he(Ce,Pe){return(u1.get(D.call(this,Ce,Pe))||nf)(G.call(this,Ce,Pe))}return he.type=function(Ce){return arguments.length?(D=Fn(Ce),he):D},he.size=function(Ce){return arguments.length?(G=Fn(Ce),he):G},he};function If(){return 64}function KS(){return"circle"}function nf(D){var G=Math.sqrt(D/He);return"M0,"+G+"A"+G+","+G+" 0 1,1 0,"+-G+"A"+G+","+G+" 0 1,1 0,"+G+"Z"}var u1=y.map({circle:nf,cross:function(D){var G=Math.sqrt(D/5)/2;return"M"+-3*G+","+-G+"H"+-G+"V"+-3*G+"H"+G+"V"+-G+"H"+3*G+"V"+G+"H"+G+"V"+3*G+"H"+-G+"V"+G+"H"+-3*G+"Z"},diamond:function(D){var G=Math.sqrt(D/(2*f1)),he=G*f1;return"M0,"+-G+"L"+he+",0 0,"+G+" "+-he+",0Z"},square:function(D){var G=Math.sqrt(D)/2;return"M"+-G+","+-G+"L"+G+","+-G+" "+G+","+G+" "+-G+","+G+"Z"},"triangle-down":function(D){var G=Math.sqrt(D/uu),he=G*uu/2;return"M0,"+he+"L"+G+","+-he+" "+-G+","+-he+"Z"},"triangle-up":function(D){var G=Math.sqrt(D/uu),he=G*uu/2;return"M0,"+-he+"L"+G+","+he+" "+-G+","+he+"Z"}});y.svg.symbolTypes=u1.keys();var uu=Math.sqrt(3),f1=Math.tan(30*Ct);oe.transition=function(D){for(var G=zd||++fl,he=sd(D),Ce=[],Pe,$e,Ke=od||{time:Date.now(),ease:Ac,delay:0,duration:250},We=-1,rt=this.length;++We<rt;){Ce.push(Pe=[]);for(var vt=this[We],bt=-1,Zt=vt.length;++bt<Zt;)($e=vt[bt])&&Mn($e,bt,he,G,Ke),Pe.push($e)}return fu(Ce,he,G)},oe.interrupt=function(D){return this.each(D==null?cc:Ws(sd(D)))};var cc=Ws(sd());function Ws(D){return function(){var G,he,Ce;(G=this[D])&&(Ce=G[he=G.active])&&(Ce.timer.c=null,Ce.timer.t=NaN,--G.count?delete G[he]:delete this[D],G.active+=.5,Ce.event&&Ce.event.interrupt.call(this,this.__data__,Ce.index))}}function fu(D,G,he){return re(D,mi),D.namespace=G,D.id=he,D}var mi=[],fl=0,zd,od;mi.call=oe.call,mi.empty=oe.empty,mi.node=oe.node,mi.size=oe.size,y.transition=function(D,G){return D&&D.transition?zd?D.transition(G):D:y.selection().transition(D)},y.transition.prototype=mi,mi.select=function(D){var G=this.id,he=this.namespace,Ce=[],Pe,$e,Ke;D=Se(D);for(var We=-1,rt=this.length;++We<rt;){Ce.push(Pe=[]);for(var vt=this[We],bt=-1,Zt=vt.length;++bt<Zt;)(Ke=vt[bt])&&($e=D.call(Ke,Ke.__data__,bt,We))?("__data__"in Ke&&($e.__data__=Ke.__data__),Mn($e,bt,he,G,Ke[he][G]),Pe.push($e)):Pe.push(null)}return fu(Ce,he,G)},mi.selectAll=function(D){var G=this.id,he=this.namespace,Ce=[],Pe,$e,Ke,We,rt;D=ce(D);for(var vt=-1,bt=this.length;++vt<bt;)for(var Zt=this[vt],Ut=-1,gn=Zt.length;++Ut<gn;)if(Ke=Zt[Ut]){rt=Ke[he][G],$e=D.call(Ke,Ke.__data__,Ut,vt),Ce.push(Pe=[]);for(var An=-1,jt=$e.length;++An<jt;)(We=$e[An])&&Mn(We,An,he,G,rt),Pe.push(We)}return fu(Ce,he,G)},mi.filter=function(D){var G=[],he,Ce,Pe;typeof D!="function"&&(D=Xt(D));for(var $e=0,Ke=this.length;$e<Ke;$e++){G.push(he=[]);for(var Ce=this[$e],We=0,rt=Ce.length;We<rt;We++)(Pe=Ce[We])&&D.call(Pe,Pe.__data__,We,$e)&&he.push(Pe)}return fu(G,this.namespace,this.id)},mi.tween=function(D,G){var he=this.id,Ce=this.namespace;return arguments.length<2?this.node()[Ce][he].tween.get(D):Nt(this,G==null?function(Pe){Pe[Ce][he].tween.remove(D)}:function(Pe){Pe[Ce][he].tween.set(D,G)})};function Zd(D,G,he,Ce){var Pe=D.id,$e=D.namespace;return Nt(D,typeof he=="function"?function(Ke,We,rt){Ke[$e][Pe].tween.set(G,Ce(he.call(Ke,Ke.__data__,We,rt)))}:(he=Ce(he),function(Ke){Ke[$e][Pe].tween.set(G,he)}))}mi.attr=function(D,G){if(arguments.length<2){for(G in D)this.attr(G,D[G]);return this}var he=D=="transform"?nd:kc,Ce=y.ns.qualify(D);function Pe(){this.removeAttribute(Ce)}function $e(){this.removeAttributeNS(Ce.space,Ce.local)}function Ke(rt){return rt==null?Pe:(rt+="",function(){var vt=this.getAttribute(Ce),bt;return vt!==rt&&(bt=he(vt,rt),function(Zt){this.setAttribute(Ce,bt(Zt))})})}function We(rt){return rt==null?$e:(rt+="",function(){var vt=this.getAttributeNS(Ce.space,Ce.local),bt;return vt!==rt&&(bt=he(vt,rt),function(Zt){this.setAttributeNS(Ce.space,Ce.local,bt(Zt))})})}return Zd(this,"attr."+D,G,Ce.local?We:Ke)},mi.attrTween=function(D,G){var he=y.ns.qualify(D);function Ce($e,Ke){var We=G.call(this,$e,Ke,this.getAttribute(he));return We&&function(rt){this.setAttribute(he,We(rt))}}function Pe($e,Ke){var We=G.call(this,$e,Ke,this.getAttributeNS(he.space,he.local));return We&&function(rt){this.setAttributeNS(he.space,he.local,We(rt))}}return this.tween("attr."+D,he.local?Pe:Ce)},mi.style=function(D,G,he){var Ce=arguments.length;if(Ce<3){if(typeof D!="string"){Ce<2&&(G="");for(he in D)this.style(he,D[he],G);return this}he=""}function Pe(){this.style.removeProperty(D)}function $e(Ke){return Ke==null?Pe:(Ke+="",function(){var We=w(this).getComputedStyle(this,null).getPropertyValue(D),rt;return We!==Ke&&(rt=kc(We,Ke),function(vt){this.style.setProperty(D,rt(vt),he)})})}return Zd(this,"style."+D,G,$e)},mi.styleTween=function(D,G,he){arguments.length<3&&(he="");function Ce(Pe,$e){var Ke=G.call(this,Pe,$e,w(this).getComputedStyle(this,null).getPropertyValue(D));return Ke&&function(We){this.style.setProperty(D,Ke(We),he)}}return this.tween("style."+D,Ce)},mi.text=function(D){return Zd(this,"text",D,Ec)};function Ec(D){return D==null&&(D=""),function(){this.textContent=D}}mi.remove=function(){var D=this.namespace;return this.each("end.transition",function(){var G;this[D].count<2&&(G=this.parentNode)&&G.removeChild(this)})},mi.ease=function(D){var G=this.id,he=this.namespace;return arguments.length<1?this.node()[he][G].ease:(typeof D!="function"&&(D=y.ease.apply(y,arguments)),Nt(this,function(Ce){Ce[he][G].ease=D}))},mi.delay=function(D){var G=this.id,he=this.namespace;return arguments.length<1?this.node()[he][G].delay:Nt(this,typeof D=="function"?function(Ce,Pe,$e){Ce[he][G].delay=+D.call(Ce,Ce.__data__,Pe,$e)}:(D=+D,function(Ce){Ce[he][G].delay=D}))},mi.duration=function(D){var G=this.id,he=this.namespace;return arguments.length<1?this.node()[he][G].duration:Nt(this,typeof D=="function"?function(Ce,Pe,$e){Ce[he][G].duration=Math.max(1,D.call(Ce,Ce.__data__,Pe,$e))}:(D=Math.max(1,D),function(Ce){Ce[he][G].duration=D}))},mi.each=function(D,G){var he=this.id,Ce=this.namespace;if(arguments.length<2){var Pe=od,$e=zd;try{zd=he,Nt(this,function(Ke,We,rt){od=Ke[Ce][he],D.call(Ke,Ke.__data__,We,rt)})}finally{od=Pe,zd=$e}}else Nt(this,function(Ke){var We=Ke[Ce][he];(We.event||(We.event=y.dispatch("start","end","interrupt"))).on(D,G)});return this},mi.transition=function(){for(var D=this.id,G=++fl,he=this.namespace,Ce=[],Pe,$e,Ke,We,rt=0,vt=this.length;rt<vt;rt++){Ce.push(Pe=[]);for(var $e=this[rt],bt=0,Zt=$e.length;bt<Zt;bt++)(Ke=$e[bt])&&(We=Ke[he][D],Mn(Ke,bt,he,G,{time:We.time,ease:We.ease,delay:We.delay+We.duration,duration:We.duration})),Pe.push(Ke)}return fu(Ce,he,G)};function sd(D){return D==null?"__transition__":"__transition_"+D+"__"}function Mn(D,G,he,Ce,Pe){var $e=D[he]||(D[he]={active:0,count:0}),Ke=$e[Ce],We,rt,vt,bt,Zt;function Ut(jt){var nn=Ke.delay;if(rt.t=nn+We,nn<=jt)return gn(jt-nn);rt.c=gn}function gn(jt){var nn=$e.active,hn=$e[nn];hn&&(hn.timer.c=null,hn.timer.t=NaN,--$e.count,delete $e[nn],hn.event&&hn.event.interrupt.call(D,D.__data__,hn.index));for(var _n in $e)if(+_n<Ce){var Pn=$e[_n];Pn.timer.c=null,Pn.timer.t=NaN,--$e.count,delete $e[_n]}rt.c=An,wo(function(){return rt.c&&An(jt||1)&&(rt.c=null,rt.t=NaN),1},0,We),$e.active=Ce,Ke.event&&Ke.event.start.call(D,D.__data__,G),Zt=[],Ke.tween.forEach(function(yn,cr){(cr=cr.call(D,D.__data__,G))&&Zt.push(cr)}),bt=Ke.ease,vt=Ke.duration}function An(jt){for(var nn=jt/vt,hn=bt(nn),_n=Zt.length;_n>0;)Zt[--_n].call(D,hn);if(nn>=1)return Ke.event&&Ke.event.end.call(D,D.__data__,G),--$e.count?delete $e[Ce]:delete D[he],1}Ke||(We=Pe.time,rt=wo(Ut,0,We),Ke=$e[Ce]={tween:new ie,time:We,timer:rt,delay:Pe.delay,duration:Pe.duration,ease:Pe.ease,index:G},Pe=null,++$e.count)}y.svg.axis=function(){var D=y.scale.linear(),G=_c,he=6,Ce=6,Pe=3,$e=[10],Ke=null,We;function rt(vt){vt.each(function(){var bt=y.select(this),Zt=this.__chart__||D,Ut=this.__chart__=D.copy(),gn=Ke??(Ut.ticks?Ut.ticks.apply(Ut,$e):Ut.domain()),An=We??(Ut.tickFormat?Ut.tickFormat.apply(Ut,$e):ne),jt=bt.selectAll(".tick").data(gn,Ut),nn=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",gt),hn=y.transition(jt.exit()).style("opacity",gt).remove(),_n=y.transition(jt.order()).style("opacity",1),Pn=Math.max(he,0)+Pe,yn,cr=Kp(Ut),Hr=bt.selectAll(".domain").data([0]),Jr=(Hr.enter().append("path").attr("class","domain"),y.transition(Hr));nn.append("line"),nn.append("text");var Ar=nn.select("line"),no=_n.select("line"),fo=jt.select("text").text(An),rs=nn.select("text"),So=_n.select("text"),go=G==="top"||G==="left"?-1:1,js,oi,Oa,Lr;if(G==="bottom"||G==="top"?(yn=id,js="x",Oa="y",oi="x2",Lr="y2",fo.attr("dy",go<0?"0em":".71em").style("text-anchor","middle"),Jr.attr("d","M"+cr[0]+","+go*Ce+"V0H"+cr[1]+"V"+go*Ce)):(yn=jc,js="y",Oa="x",oi="y2",Lr="x2",fo.attr("dy",".32em").style("text-anchor",go<0?"end":"start"),Jr.attr("d","M"+go*Ce+","+cr[0]+"H0V"+cr[1]+"H"+go*Ce)),Ar.attr(Lr,go*he),rs.attr(Oa,go*Pn),no.attr(oi,0).attr(Lr,go*he),So.attr(js,0).attr(Oa,go*Pn),Ut.rangeBand){var $o=Ut,gs=$o.rangeBand()/2;Zt=Ut=function(Rs){return $o(Rs)+gs}}else Zt.rangeBand?Zt=Ut:hn.call(yn,Ut,Zt);nn.call(yn,Zt,Ut),_n.call(yn,Ut,Ut)})}return rt.scale=function(vt){return arguments.length?(D=vt,rt):D},rt.orient=function(vt){return arguments.length?(G=vt in ad?vt+"":_c,rt):G},rt.ticks=function(){return arguments.length?($e=O(arguments),rt):$e},rt.tickValues=function(vt){return arguments.length?(Ke=vt,rt):Ke},rt.tickFormat=function(vt){return arguments.length?(We=vt,rt):We},rt.tickSize=function(vt){var bt=arguments.length;return bt?(he=+vt,Ce=+arguments[bt-1],rt):he},rt.innerTickSize=function(vt){return arguments.length?(he=+vt,rt):he},rt.outerTickSize=function(vt){return arguments.length?(Ce=+vt,rt):Ce},rt.tickPadding=function(vt){return arguments.length?(Pe=+vt,rt):Pe},rt.tickSubdivide=function(){return arguments.length&&rt},rt};var _c="bottom",ad={top:1,right:1,bottom:1,left:1};function id(D,G,he){D.attr("transform",function(Ce){var Pe=G(Ce);return"translate("+(isFinite(Pe)?Pe:he(Ce))+",0)"})}function jc(D,G,he){D.attr("transform",function(Ce){var Pe=G(Ce);return"translate(0,"+(isFinite(Pe)?Pe:he(Ce))+")"})}y.svg.brush=function(){var D=_e(bt,"brushstart","brush","brushend"),G=null,he=null,Ce=[0,0],Pe=[0,0],$e,Ke,We=!0,rt=!0,vt=Li[0];function bt(jt){jt.each(function(){var nn=y.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",An).on("touchstart.brush",An),hn=nn.selectAll(".background").data([0]);hn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),nn.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var _n=nn.selectAll(".resize").data(vt,ne);_n.exit().remove(),_n.enter().append("g").attr("class",function(Hr){return"resize "+Hr}).style("cursor",function(Hr){return Xi[Hr]}).append("rect").attr("x",function(Hr){return/[ew]$/.test(Hr)?-3:null}).attr("y",function(Hr){return/^[ns]/.test(Hr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),_n.style("display",bt.empty()?"none":null);var Pn=y.transition(nn),yn=y.transition(hn),cr;G&&(cr=Kp(G),yn.attr("x",cr[0]).attr("width",cr[1]-cr[0]),Ut(Pn)),he&&(cr=Kp(he),yn.attr("y",cr[0]).attr("height",cr[1]-cr[0]),gn(Pn)),Zt(Pn)})}bt.event=function(jt){jt.each(function(){var nn=D.of(this,arguments),hn={x:Ce,y:Pe,i:$e,j:Ke},_n=this.__chart__||hn;this.__chart__=hn,zd?y.select(this).transition().each("start.brush",function(){$e=_n.i,Ke=_n.j,Ce=_n.x,Pe=_n.y,nn({type:"brushstart"})}).tween("brush:brush",function(){var Pn=Mf(Ce,hn.x),yn=Mf(Pe,hn.y);return $e=Ke=null,function(cr){Ce=hn.x=Pn(cr),Pe=hn.y=yn(cr),nn({type:"brush",mode:"resize"})}}).each("end.brush",function(){$e=hn.i,Ke=hn.j,nn({type:"brush",mode:"resize"}),nn({type:"brushend"})}):(nn({type:"brushstart"}),nn({type:"brush",mode:"resize"}),nn({type:"brushend"}))})};function Zt(jt){jt.selectAll(".resize").attr("transform",function(nn){return"translate("+Ce[+/e$/.test(nn)]+","+Pe[+/^s/.test(nn)]+")"})}function Ut(jt){jt.select(".extent").attr("x",Ce[0]),jt.selectAll(".extent,.n>rect,.s>rect").attr("width",Ce[1]-Ce[0])}function gn(jt){jt.select(".extent").attr("y",Pe[0]),jt.selectAll(".extent,.e>rect,.w>rect").attr("height",Pe[1]-Pe[0])}function An(){var jt=this,nn=y.select(y.event.target),hn=D.of(jt,arguments),_n=y.select(jt),Pn=nn.datum(),yn=!/^(n|s)$/.test(Pn)&&G,cr=!/^(e|w)$/.test(Pn)&&he,Hr=nn.classed("extent"),Jr=Sn(jt),Ar,no=y.mouse(jt),fo,rs=y.select(w(jt)).on("keydown.brush",js).on("keyup.brush",oi);if(y.event.changedTouches?rs.on("touchmove.brush",Oa).on("touchend.brush",$o):rs.on("mousemove.brush",Oa).on("mouseup.brush",$o),_n.interrupt().selectAll("*").interrupt(),Hr)no[0]=Ce[0]-no[0],no[1]=Pe[0]-no[1];else if(Pn){var So=+/w$/.test(Pn),go=+/^n/.test(Pn);fo=[Ce[1-So]-no[0],Pe[1-go]-no[1]],no[0]=Ce[So],no[1]=Pe[go]}else y.event.altKey&&(Ar=no.slice());_n.style("pointer-events","none").selectAll(".resize").style("display",null),y.select("body").style("cursor",nn.style("cursor")),hn({type:"brushstart"}),Oa();function js(){y.event.keyCode==32&&(Hr||(Ar=null,no[0]-=Ce[1],no[1]-=Pe[1],Hr=2),De())}function oi(){y.event.keyCode==32&&Hr==2&&(no[0]+=Ce[1],no[1]+=Pe[1],Hr=0,De())}function Oa(){var gs=y.mouse(jt),Rs=!1;fo&&(gs[0]+=fo[0],gs[1]+=fo[1]),Hr||(y.event.altKey?(Ar||(Ar=[(Ce[0]+Ce[1])/2,(Pe[0]+Pe[1])/2]),no[0]=Ce[+(gs[0]<Ar[0])],no[1]=Pe[+(gs[1]<Ar[1])]):Ar=null),yn&&Lr(gs,G,0)&&(Ut(_n),Rs=!0),cr&&Lr(gs,he,1)&&(gn(_n),Rs=!0),Rs&&(Zt(_n),hn({type:"brush",mode:Hr?"move":"resize"}))}function Lr(gs,Rs,Qa){var gi=Kp(Rs),Gi=gi[0],Ii=gi[1],qc=no[Qa],tl=Qa?Pe:Ce,Dc=tl[1]-tl[0],ql,ta;if(Hr&&(Gi-=qc,Ii-=Dc+qc),ql=(Qa?rt:We)?Math.max(Gi,Math.min(Ii,gs[Qa])):gs[Qa],Hr?ta=(ql+=qc)+Dc:(Ar&&(qc=Math.max(Gi,Math.min(Ii,2*Ar[Qa]-ql))),qc<ql?(ta=ql,ql=qc):ta=qc),tl[0]!=ql||tl[1]!=ta)return Qa?Ke=null:$e=null,tl[0]=ql,tl[1]=ta,!0}function $o(){Oa(),_n.style("pointer-events","all").selectAll(".resize").style("display",bt.empty()?"none":null),y.select("body").style("cursor",null),rs.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Jr(),hn({type:"brushend"})}}return bt.x=function(jt){return arguments.length?(G=jt,vt=Li[!G<<1|!he],bt):G},bt.y=function(jt){return arguments.length?(he=jt,vt=Li[!G<<1|!he],bt):he},bt.clamp=function(jt){return arguments.length?(G&&he?(We=!!jt[0],rt=!!jt[1]):G?We=!!jt:he&&(rt=!!jt),bt):G&&he?[We,rt]:G?We:he?rt:null},bt.extent=function(jt){var nn,hn,_n,Pn,yn;return arguments.length?(G&&(nn=jt[0],hn=jt[1],he&&(nn=nn[0],hn=hn[0]),$e=[nn,hn],G.invert&&(nn=G(nn),hn=G(hn)),hn<nn&&(yn=nn,nn=hn,hn=yn),(nn!=Ce[0]||hn!=Ce[1])&&(Ce=[nn,hn])),he&&(_n=jt[0],Pn=jt[1],G&&(_n=_n[1],Pn=Pn[1]),Ke=[_n,Pn],he.invert&&(_n=he(_n),Pn=he(Pn)),Pn<_n&&(yn=_n,_n=Pn,Pn=yn),(_n!=Pe[0]||Pn!=Pe[1])&&(Pe=[_n,Pn])),bt):(G&&($e?(nn=$e[0],hn=$e[1]):(nn=Ce[0],hn=Ce[1],G.invert&&(nn=G.invert(nn),hn=G.invert(hn)),hn<nn&&(yn=nn,nn=hn,hn=yn))),he&&(Ke?(_n=Ke[0],Pn=Ke[1]):(_n=Pe[0],Pn=Pe[1],he.invert&&(_n=he.invert(_n),Pn=he.invert(Pn)),Pn<_n&&(yn=_n,_n=Pn,Pn=yn))),G&&he?[[nn,_n],[hn,Pn]]:G?[nn,hn]:he&&[_n,Pn])},bt.clear=function(){return bt.empty()||(Ce=[0,0],Pe=[0,0],$e=Ke=null),bt},bt.empty=function(){return!!G&&Ce[0]==Ce[1]||!!he&&Pe[0]==Pe[1]},y.rebind(bt,D,"on")};var Xi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Li=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];y.text=Zr(function(D){return D.responseText}),y.json=function(D,G){return dr(D,"application/json",s5,G)};function s5(D){return JSON.parse(D.responseText)}y.html=function(D,G){return dr(D,"text/html",Rc,G)};function Rc(D){var G=T.createRange();return G.selectNode(T.body),G.createContextualFragment(D.responseText)}y.xml=Zr(function(D){return D.responseXML}),g=y,v=typeof g=="function"?g.call(h,c,h,d):g,v!==void 0&&(d.exports=v)}).apply(self)},721:function(d,h,c){c.d(h,{WU:function(){return B},FF:function(){return U}});function g(W){return Math.abs(W=Math.round(W))>=1e21?W.toLocaleString("en").replace(/,/g,""):W.toString(10)}function v(W,X){if((ie=(W=X?W.toExponential(X-1):W.toExponential()).indexOf("e"))<0)return null;var ie,L=W.slice(0,ie);return[L.length>1?L[0]+L.slice(2):L,+W.slice(ie+1)]}function y(W){return W=v(Math.abs(W)),W?W[1]:NaN}function b(W,X){return function(ie,L){for(var me=ie.length,ae=[],q=0,de=W[0],ee=0;me>0&&de>0&&(ee+de+1>L&&(de=Math.max(1,L-ee)),ae.push(ie.substring(me-=de,me+de)),!((ee+=de+1)>L));)de=W[q=(q+1)%W.length];return ae.reverse().join(X)}}function O(W){return function(X){return X.replace(/[0-9]/g,function(ie){return W[+ie]})}}var T=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k(W){if(!(X=T.exec(W)))throw new Error("invalid format: "+W);var X;return new w({fill:X[1],align:X[2],sign:X[3],symbol:X[4],zero:X[5],width:X[6],comma:X[7],precision:X[8]&&X[8].slice(1),trim:X[9],type:X[10]})}k.prototype=w.prototype;function w(W){this.fill=W.fill===void 0?" ":W.fill+"",this.align=W.align===void 0?">":W.align+"",this.sign=W.sign===void 0?"-":W.sign+"",this.symbol=W.symbol===void 0?"":W.symbol+"",this.zero=!!W.zero,this.width=W.width===void 0?void 0:+W.width,this.comma=!!W.comma,this.precision=W.precision===void 0?void 0:+W.precision,this.trim=!!W.trim,this.type=W.type===void 0?"":W.type+""}w.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C(W){e:for(var X=W.length,ie=1,L=-1,me;ie<X;++ie)switch(W[ie]){case".":L=me=ie;break;case"0":L===0&&(L=ie),me=ie;break;default:if(!+W[ie])break e;L>0&&(L=0);break}return L>0?W.slice(0,L)+W.slice(me+1):W}var _;function M(W,X){var ie=v(W,X);if(!ie)return W+"";var L=ie[0],me=ie[1],ae=me-(_=Math.max(-8,Math.min(8,Math.floor(me/3)))*3)+1,q=L.length;return ae===q?L:ae>q?L+new Array(ae-q+1).join("0"):ae>0?L.slice(0,ae)+"."+L.slice(ae):"0."+new Array(1-ae).join("0")+v(W,Math.max(0,X+ae-1))[0]}function I(W,X){var ie=v(W,X);if(!ie)return W+"";var L=ie[0],me=ie[1];return me<0?"0."+new Array(-me).join("0")+L:L.length>me+1?L.slice(0,me+1)+"."+L.slice(me+1):L+new Array(me-L.length+2).join("0")}var V={"%":function(W,X){return(W*100).toFixed(X)},b:function(W){return Math.round(W).toString(2)},c:function(W){return W+""},d:g,e:function(W,X){return W.toExponential(X)},f:function(W,X){return W.toFixed(X)},g:function(W,X){return W.toPrecision(X)},o:function(W){return Math.round(W).toString(8)},p:function(W,X){return I(W*100,X)},r:I,s:M,X:function(W){return Math.round(W).toString(16).toUpperCase()},x:function(W){return Math.round(W).toString(16)}};function N(W){return W}var Q=Array.prototype.map,z=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function U(W){var X=W.grouping===void 0||W.thousands===void 0?N:b(Q.call(W.grouping,Number),W.thousands+""),ie=W.currency===void 0?"":W.currency[0]+"",L=W.currency===void 0?"":W.currency[1]+"",me=W.decimal===void 0?".":W.decimal+"",ae=W.numerals===void 0?N:O(Q.call(W.numerals,String)),q=W.percent===void 0?"%":W.percent+"",de=W.minus===void 0?"-":W.minus+"",ee=W.nan===void 0?"NaN":W.nan+"";function xe(Be){Be=k(Be);var pe=Be.fill,ne=Be.align,le=Be.sign,Y=Be.symbol,ve=Be.zero,Oe=Be.width,Le=Be.comma,Te=Be.precision,De=Be.trim,Ve=Be.type;Ve==="n"?(Le=!0,Ve="g"):V[Ve]||(Te===void 0&&(Te=12),De=!0,Ve="g"),(ve||pe==="0"&&ne==="=")&&(ve=!0,pe="0",ne="=");var _e=Y==="$"?ie:Y==="#"&&/[boxX]/.test(Ve)?"0"+Ve.toLowerCase():"",Ie=Y==="$"?L:/[%p]/.test(Ve)?q:"",re=V[Ve],be=/[defgprs%]/.test(Ve);Te=Te===void 0?6:/[gprs]/.test(Ve)?Math.max(1,Math.min(21,Te)):Math.max(0,Math.min(20,Te));function te(se){var fe=_e,oe=Ie,Se,ce,ke;if(Ve==="c")oe=re(se)+oe,se="";else{se=+se;var Qe=se<0||1/se<0;if(se=isNaN(se)?ee:re(Math.abs(se),Te),De&&(se=C(se)),Qe&&+se==0&&le!=="+"&&(Qe=!1),fe=(Qe?le==="("?le:de:le==="-"||le==="("?"":le)+fe,oe=(Ve==="s"?z[8+_/3]:"")+oe+(Qe&&le==="("?")":""),be){for(Se=-1,ce=se.length;++Se<ce;)if(ke=se.charCodeAt(Se),48>ke||ke>57){oe=(ke===46?me+se.slice(Se+1):se.slice(Se))+oe,se=se.slice(0,Se);break}}}Le&&!ve&&(se=X(se,1/0));var Ze=fe.length+se.length+oe.length,Xe=Ze<Oe?new Array(Oe-Ze+1).join(pe):"";switch(Le&&ve&&(se=X(Xe+se,Xe.length?Oe-oe.length:1/0),Xe=""),ne){case"<":se=fe+se+oe+Xe;break;case"=":se=fe+Xe+se+oe;break;case"^":se=Xe.slice(0,Ze=Xe.length>>1)+fe+se+oe+Xe.slice(Ze);break;default:se=Xe+fe+se+oe;break}return ae(se)}return te.toString=function(){return Be+""},te}function we(Be,pe){var ne=xe((Be=k(Be),Be.type="f",Be)),le=Math.max(-8,Math.min(8,Math.floor(y(pe)/3)))*3,Y=Math.pow(10,-le),ve=z[8+le/3];return function(Oe){return ne(Y*Oe)+ve}}return{format:xe,formatPrefix:we}}var F,B;E({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function E(W){return F=U(W),B=F.format,F.formatPrefix,F}},4096:function(d,h,c){c.d(h,{i$:function(){return Un},Dq:function(){return _},g0:function(){return Sn}});var g=c(8176),v=c(8480),y=c(9879),b=c(2301),O=c(4823),T=c(9791);function k(ut){if(0<=ut.y&&ut.y<100){var xt=new Date(-1,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L);return xt.setFullYear(ut.y),xt}return new Date(ut.y,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L)}function w(ut){if(0<=ut.y&&ut.y<100){var xt=new Date(Date.UTC(-1,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L));return xt.setUTCFullYear(ut.y),xt}return new Date(Date.UTC(ut.y,ut.m,ut.d,ut.H,ut.M,ut.S,ut.L))}function C(ut,xt,gt){return{y:ut,m:xt,d:gt,H:0,M:0,S:0,L:0}}function _(ut){var xt=ut.dateTime,gt=ut.date,Dt=ut.time,He=ut.periods,it=ut.days,dt=ut.shortDays,mt=ut.months,Ct=ut.shortMonths,Pt=U(He),dn=F(He),rn=U(it),Wt=F(it),Rt=U(dt),fn=F(dt),Hn=U(mt),nr=F(mt),Er=U(Ct),zt=F(Ct),vr={a:Fe,A:Ee,b:St,B:Tt,c:null,d:Le,e:Le,f:Ie,H:Te,I:De,j:Ve,L:_e,m:re,M:be,p:Lt,q:Ft,Q:an,s:wn,S:te,u:se,U:fe,V:oe,w:Se,W:ce,x:null,X:null,y:ke,Y:Qe,Z:Ze,"%":Yn},Wn={a:Ht,A:$t,b:Mt,B:tn,c:null,d:Xe,e:Xe,f:et,H:ct,I:pt,j:Ye,L:je,m:yt,M:ft,p:un,q:en,Q:an,s:wn,S:tt,u:wt,U:Xt,V:Gt,w:Nt,W:Bt,x:null,X:null,y:vn,Y:En,Z:ln,"%":Yn},Br={a:Rn,A:Sr,b:sr,B:wr,c:ao,d:ee,e:ee,f:le,H:we,I:we,j:xe,L:ne,m:de,M:Be,p:_r,q,Q:ve,s:Oe,S:pe,u:E,U:W,V:X,w:B,W:ie,x:xo,X:Cr,y:me,Y:L,Z:ae,"%":Y};vr.x=kr(gt,vr),vr.X=kr(Dt,vr),vr.c=kr(xt,vr),Wn.x=kr(gt,Wn),Wn.X=kr(Dt,Wn),Wn.c=kr(xt,Wn);function kr(on,Cn){return function(On){var pn=[],Jn=-1,Fn=0,Zr=on.length,dr,Ur,ar;for(On instanceof Date||(On=new Date(+On));++Jn<Zr;)on.charCodeAt(Jn)===37&&(pn.push(on.slice(Fn,Jn)),(Ur=M[dr=on.charAt(++Jn)])!=null?dr=on.charAt(++Jn):Ur=dr==="e"?" ":"0",(ar=Cn[dr])&&(dr=ar(On,Ur)),pn.push(dr),Fn=Jn+1);return pn.push(on.slice(Fn,Jn)),pn.join("")}}function or(on,Cn){return function(On){var pn=C(1900,void 0,1),Jn=jr(pn,on,On+="",0),Fn,Zr;if(Jn!=On.length)return null;if("Q"in pn)return new Date(pn.Q);if("s"in pn)return new Date(pn.s*1e3+("L"in pn?pn.L:0));if(Cn&&!("Z"in pn)&&(pn.Z=0),"p"in pn&&(pn.H=pn.H%12+pn.p*12),pn.m===void 0&&(pn.m="q"in pn?pn.q:0),"V"in pn){if(pn.V<1||pn.V>53)return null;"w"in pn||(pn.w=1),"Z"in pn?(Fn=w(C(pn.y,0,1)),Zr=Fn.getUTCDay(),Fn=Zr>4||Zr===0?g.l6.ceil(Fn):(0,g.l6)(Fn),Fn=v.Z.offset(Fn,(pn.V-1)*7),pn.y=Fn.getUTCFullYear(),pn.m=Fn.getUTCMonth(),pn.d=Fn.getUTCDate()+(pn.w+6)%7):(Fn=k(C(pn.y,0,1)),Zr=Fn.getDay(),Fn=Zr>4||Zr===0?y.wA.ceil(Fn):(0,y.wA)(Fn),Fn=b.Z.offset(Fn,(pn.V-1)*7),pn.y=Fn.getFullYear(),pn.m=Fn.getMonth(),pn.d=Fn.getDate()+(pn.w+6)%7)}else("W"in pn||"U"in pn)&&("w"in pn||(pn.w="u"in pn?pn.u%7:"W"in pn?1:0),Zr="Z"in pn?w(C(pn.y,0,1)).getUTCDay():k(C(pn.y,0,1)).getDay(),pn.m=0,pn.d="W"in pn?(pn.w+6)%7+pn.W*7-(Zr+5)%7:pn.w+pn.U*7-(Zr+6)%7);return"Z"in pn?(pn.H+=pn.Z/100|0,pn.M+=pn.Z%100,w(pn)):k(pn)}}function jr(on,Cn,On,pn){for(var Jn=0,Fn=Cn.length,Zr=On.length,dr,Ur;Jn<Fn;){if(pn>=Zr)return-1;if(dr=Cn.charCodeAt(Jn++),dr===37){if(dr=Cn.charAt(Jn++),Ur=Br[dr in M?Cn.charAt(Jn++):dr],!Ur||(pn=Ur(on,On,pn))<0)return-1}else if(dr!=On.charCodeAt(pn++))return-1}return pn}function _r(on,Cn,On){var pn=Pt.exec(Cn.slice(On));return pn?(on.p=dn[pn[0].toLowerCase()],On+pn[0].length):-1}function Rn(on,Cn,On){var pn=Rt.exec(Cn.slice(On));return pn?(on.w=fn[pn[0].toLowerCase()],On+pn[0].length):-1}function Sr(on,Cn,On){var pn=rn.exec(Cn.slice(On));return pn?(on.w=Wt[pn[0].toLowerCase()],On+pn[0].length):-1}function sr(on,Cn,On){var pn=Er.exec(Cn.slice(On));return pn?(on.m=zt[pn[0].toLowerCase()],On+pn[0].length):-1}function wr(on,Cn,On){var pn=Hn.exec(Cn.slice(On));return pn?(on.m=nr[pn[0].toLowerCase()],On+pn[0].length):-1}function ao(on,Cn,On){return jr(on,xt,Cn,On)}function xo(on,Cn,On){return jr(on,gt,Cn,On)}function Cr(on,Cn,On){return jr(on,Dt,Cn,On)}function Fe(on){return dt[on.getDay()]}function Ee(on){return it[on.getDay()]}function St(on){return Ct[on.getMonth()]}function Tt(on){return mt[on.getMonth()]}function Lt(on){return He[+(on.getHours()>=12)]}function Ft(on){return 1+~~(on.getMonth()/3)}function Ht(on){return dt[on.getUTCDay()]}function $t(on){return it[on.getUTCDay()]}function Mt(on){return Ct[on.getUTCMonth()]}function tn(on){return mt[on.getUTCMonth()]}function un(on){return He[+(on.getUTCHours()>=12)]}function en(on){return 1+~~(on.getUTCMonth()/3)}return{format:function(on){var Cn=kr(on+="",vr);return Cn.toString=function(){return on},Cn},parse:function(on){var Cn=or(on+="",!1);return Cn.toString=function(){return on},Cn},utcFormat:function(on){var Cn=kr(on+="",Wn);return Cn.toString=function(){return on},Cn},utcParse:function(on){var Cn=or(on+="",!0);return Cn.toString=function(){return on},Cn}}}var M={"-":"",_:" ",0:"0"},I=/^\s*\d+/,V=/^%/,N=/[\\^$*+?|[\]().{}]/g;function Q(ut,xt,gt){var Dt=ut<0?"-":"",He=(Dt?-ut:ut)+"",it=He.length;return Dt+(it<gt?new Array(gt-it+1).join(xt)+He:He)}function z(ut){return ut.replace(N,"\\$&")}function U(ut){return new RegExp("^(?:"+ut.map(z).join("|")+")","i")}function F(ut){for(var xt={},gt=-1,Dt=ut.length;++gt<Dt;)xt[ut[gt].toLowerCase()]=gt;return xt}function B(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.w=+Dt[0],gt+Dt[0].length):-1}function E(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.u=+Dt[0],gt+Dt[0].length):-1}function W(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.U=+Dt[0],gt+Dt[0].length):-1}function X(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.V=+Dt[0],gt+Dt[0].length):-1}function ie(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.W=+Dt[0],gt+Dt[0].length):-1}function L(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+4));return Dt?(ut.y=+Dt[0],gt+Dt[0].length):-1}function me(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.y=+Dt[0]+(+Dt[0]>68?1900:2e3),gt+Dt[0].length):-1}function ae(ut,xt,gt){var Dt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(xt.slice(gt,gt+6));return Dt?(ut.Z=Dt[1]?0:-(Dt[2]+(Dt[3]||"00")),gt+Dt[0].length):-1}function q(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+1));return Dt?(ut.q=Dt[0]*3-3,gt+Dt[0].length):-1}function de(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.m=Dt[0]-1,gt+Dt[0].length):-1}function ee(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.d=+Dt[0],gt+Dt[0].length):-1}function xe(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+3));return Dt?(ut.m=0,ut.d=+Dt[0],gt+Dt[0].length):-1}function we(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.H=+Dt[0],gt+Dt[0].length):-1}function Be(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.M=+Dt[0],gt+Dt[0].length):-1}function pe(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+2));return Dt?(ut.S=+Dt[0],gt+Dt[0].length):-1}function ne(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+3));return Dt?(ut.L=+Dt[0],gt+Dt[0].length):-1}function le(ut,xt,gt){var Dt=I.exec(xt.slice(gt,gt+6));return Dt?(ut.L=Math.floor(Dt[0]/1e3),gt+Dt[0].length):-1}function Y(ut,xt,gt){var Dt=V.exec(xt.slice(gt,gt+1));return Dt?gt+Dt[0].length:-1}function ve(ut,xt,gt){var Dt=I.exec(xt.slice(gt));return Dt?(ut.Q=+Dt[0],gt+Dt[0].length):-1}function Oe(ut,xt,gt){var Dt=I.exec(xt.slice(gt));return Dt?(ut.s=+Dt[0],gt+Dt[0].length):-1}function Le(ut,xt){return Q(ut.getDate(),xt,2)}function Te(ut,xt){return Q(ut.getHours(),xt,2)}function De(ut,xt){return Q(ut.getHours()%12||12,xt,2)}function Ve(ut,xt){return Q(1+b.Z.count((0,O.Z)(ut),ut),xt,3)}function _e(ut,xt){return Q(ut.getMilliseconds(),xt,3)}function Ie(ut,xt){return _e(ut,xt)+"000"}function re(ut,xt){return Q(ut.getMonth()+1,xt,2)}function be(ut,xt){return Q(ut.getMinutes(),xt,2)}function te(ut,xt){return Q(ut.getSeconds(),xt,2)}function se(ut){var xt=ut.getDay();return xt===0?7:xt}function fe(ut,xt){return Q(y.OM.count((0,O.Z)(ut)-1,ut),xt,2)}function oe(ut,xt){var gt=ut.getDay();return ut=gt>=4||gt===0?(0,y.bL)(ut):y.bL.ceil(ut),Q(y.bL.count((0,O.Z)(ut),ut)+((0,O.Z)(ut).getDay()===4),xt,2)}function Se(ut){return ut.getDay()}function ce(ut,xt){return Q(y.wA.count((0,O.Z)(ut)-1,ut),xt,2)}function ke(ut,xt){return Q(ut.getFullYear()%100,xt,2)}function Qe(ut,xt){return Q(ut.getFullYear()%1e4,xt,4)}function Ze(ut){var xt=ut.getTimezoneOffset();return(xt>0?"-":(xt*=-1,"+"))+Q(xt/60|0,"0",2)+Q(xt%60,"0",2)}function Xe(ut,xt){return Q(ut.getUTCDate(),xt,2)}function ct(ut,xt){return Q(ut.getUTCHours(),xt,2)}function pt(ut,xt){return Q(ut.getUTCHours()%12||12,xt,2)}function Ye(ut,xt){return Q(1+v.Z.count((0,T.Z)(ut),ut),xt,3)}function je(ut,xt){return Q(ut.getUTCMilliseconds(),xt,3)}function et(ut,xt){return je(ut,xt)+"000"}function yt(ut,xt){return Q(ut.getUTCMonth()+1,xt,2)}function ft(ut,xt){return Q(ut.getUTCMinutes(),xt,2)}function tt(ut,xt){return Q(ut.getUTCSeconds(),xt,2)}function wt(ut){var xt=ut.getUTCDay();return xt===0?7:xt}function Xt(ut,xt){return Q(g.Ox.count((0,T.Z)(ut)-1,ut),xt,2)}function Gt(ut,xt){var gt=ut.getUTCDay();return ut=gt>=4||gt===0?(0,g.hB)(ut):g.hB.ceil(ut),Q(g.hB.count((0,T.Z)(ut),ut)+((0,T.Z)(ut).getUTCDay()===4),xt,2)}function Nt(ut){return ut.getUTCDay()}function Bt(ut,xt){return Q(g.l6.count((0,T.Z)(ut)-1,ut),xt,2)}function vn(ut,xt){return Q(ut.getUTCFullYear()%100,xt,2)}function En(ut,xt){return Q(ut.getUTCFullYear()%1e4,xt,4)}function ln(){return"+0000"}function Yn(){return"%"}function an(ut){return+ut}function wn(ut){return Math.floor(+ut/1e3)}var Xn,Un,Sn;lt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lt(ut){return Xn=_(ut),Un=Xn.format,Xn.parse,Sn=Xn.utcFormat,Xn.utcParse,Xn}},2301:function(d,h,c){c.d(h,{a:function(){return b}});var g=c(52),v=c(4263),y=(0,g.Z)(function(O){O.setHours(0,0,0,0)},function(O,T){O.setDate(O.getDate()+T)},function(O,T){return(T-O-(T.getTimezoneOffset()-O.getTimezoneOffset())*v.yB)/v.UD},function(O){return O.getDate()-1});h.Z=y;var b=y.range},4263:function(d,h,c){c.d(h,{UD:function(){return b},Y2:function(){return y},Ym:function(){return g},iM:function(){return O},yB:function(){return v}});var g=1e3,v=6e4,y=36e5,b=864e5,O=6048e5},1041:function(d,h,c){c.r(h),c.d(h,{timeDay:function(){return Q.Z},timeDays:function(){return Q.a},timeFriday:function(){return z.mC},timeFridays:function(){return z.b$},timeHour:function(){return V},timeHours:function(){return N},timeInterval:function(){return g.Z},timeMillisecond:function(){return y},timeMilliseconds:function(){return b},timeMinute:function(){return _},timeMinutes:function(){return M},timeMonday:function(){return z.wA},timeMondays:function(){return z.bJ},timeMonth:function(){return F},timeMonths:function(){return B},timeSaturday:function(){return z.EY},timeSaturdays:function(){return z.Ff},timeSecond:function(){return k},timeSeconds:function(){return w},timeSunday:function(){return z.OM},timeSundays:function(){return z.vm},timeThursday:function(){return z.bL},timeThursdays:function(){return z.$t},timeTuesday:function(){return z.sy},timeTuesdays:function(){return z.aU},timeWednesday:function(){return z.zg},timeWednesdays:function(){return z.Ld},timeWeek:function(){return z.OM},timeWeeks:function(){return z.vm},timeYear:function(){return E.Z},timeYears:function(){return E.g},utcDay:function(){return q.Z},utcDays:function(){return q.y},utcFriday:function(){return de.QQ},utcFridays:function(){return de.fz},utcHour:function(){return me},utcHours:function(){return ae},utcMillisecond:function(){return y},utcMilliseconds:function(){return b},utcMinute:function(){return X},utcMinutes:function(){return ie},utcMonday:function(){return de.l6},utcMondays:function(){return de.$3},utcMonth:function(){return xe},utcMonths:function(){return we},utcSaturday:function(){return de.g4},utcSaturdays:function(){return de.Q_},utcSecond:function(){return k},utcSeconds:function(){return w},utcSunday:function(){return de.Ox},utcSundays:function(){return de.SU},utcThursday:function(){return de.hB},utcThursdays:function(){return de.xj},utcTuesday:function(){return de.J1},utcTuesdays:function(){return de.DK},utcWednesday:function(){return de.b3},utcWednesdays:function(){return de.uy},utcWeek:function(){return de.Ox},utcWeeks:function(){return de.SU},utcYear:function(){return Be.Z},utcYears:function(){return Be.D}});var g=c(52),v=(0,g.Z)(function(){},function(pe,ne){pe.setTime(+pe+ne)},function(pe,ne){return ne-pe});v.every=function(pe){return pe=Math.floor(pe),!isFinite(pe)||!(pe>0)?null:pe>1?(0,g.Z)(function(ne){ne.setTime(Math.floor(ne/pe)*pe)},function(ne,le){ne.setTime(+ne+le*pe)},function(ne,le){return(le-ne)/pe}):v};var y=v,b=v.range,O=c(4263),T=(0,g.Z)(function(pe){pe.setTime(pe-pe.getMilliseconds())},function(pe,ne){pe.setTime(+pe+ne*O.Ym)},function(pe,ne){return(ne-pe)/O.Ym},function(pe){return pe.getUTCSeconds()}),k=T,w=T.range,C=(0,g.Z)(function(pe){pe.setTime(pe-pe.getMilliseconds()-pe.getSeconds()*O.Ym)},function(pe,ne){pe.setTime(+pe+ne*O.yB)},function(pe,ne){return(ne-pe)/O.yB},function(pe){return pe.getMinutes()}),_=C,M=C.range,I=(0,g.Z)(function(pe){pe.setTime(pe-pe.getMilliseconds()-pe.getSeconds()*O.Ym-pe.getMinutes()*O.yB)},function(pe,ne){pe.setTime(+pe+ne*O.Y2)},function(pe,ne){return(ne-pe)/O.Y2},function(pe){return pe.getHours()}),V=I,N=I.range,Q=c(2301),z=c(9879),U=(0,g.Z)(function(pe){pe.setDate(1),pe.setHours(0,0,0,0)},function(pe,ne){pe.setMonth(pe.getMonth()+ne)},function(pe,ne){return ne.getMonth()-pe.getMonth()+(ne.getFullYear()-pe.getFullYear())*12},function(pe){return pe.getMonth()}),F=U,B=U.range,E=c(4823),W=(0,g.Z)(function(pe){pe.setUTCSeconds(0,0)},function(pe,ne){pe.setTime(+pe+ne*O.yB)},function(pe,ne){return(ne-pe)/O.yB},function(pe){return pe.getUTCMinutes()}),X=W,ie=W.range,L=(0,g.Z)(function(pe){pe.setUTCMinutes(0,0,0)},function(pe,ne){pe.setTime(+pe+ne*O.Y2)},function(pe,ne){return(ne-pe)/O.Y2},function(pe){return pe.getUTCHours()}),me=L,ae=L.range,q=c(8480),de=c(8176),ee=(0,g.Z)(function(pe){pe.setUTCDate(1),pe.setUTCHours(0,0,0,0)},function(pe,ne){pe.setUTCMonth(pe.getUTCMonth()+ne)},function(pe,ne){return ne.getUTCMonth()-pe.getUTCMonth()+(ne.getUTCFullYear()-pe.getUTCFullYear())*12},function(pe){return pe.getUTCMonth()}),xe=ee,we=ee.range,Be=c(9791)},52:function(d,h,c){c.d(h,{Z:function(){return y}});var g=new Date,v=new Date;function y(b,O,T,k){function w(C){return b(C=arguments.length===0?new Date:new Date(+C)),C}return w.floor=function(C){return b(C=new Date(+C)),C},w.ceil=function(C){return b(C=new Date(C-1)),O(C,1),b(C),C},w.round=function(C){var _=w(C),M=w.ceil(C);return C-_<M-C?_:M},w.offset=function(C,_){return O(C=new Date(+C),_==null?1:Math.floor(_)),C},w.range=function(C,_,M){var I=[],V;if(C=w.ceil(C),M=M==null?1:Math.floor(M),!(C<_)||!(M>0))return I;do I.push(V=new Date(+C)),O(C,M),b(C);while(V<C&&C<_);return I},w.filter=function(C){return y(function(_){if(_>=_)for(;b(_),!C(_);)_.setTime(_-1)},function(_,M){if(_>=_)if(M<0)for(;++M<=0;)for(;O(_,-1),!C(_););else for(;--M>=0;)for(;O(_,1),!C(_););})},T&&(w.count=function(C,_){return g.setTime(+C),v.setTime(+_),b(g),b(v),Math.floor(T(g,v))},w.every=function(C){return C=Math.floor(C),!isFinite(C)||!(C>0)?null:C>1?w.filter(k?function(_){return k(_)%C===0}:function(_){return w.count(0,_)%C===0}):w}),w}},8480:function(d,h,c){c.d(h,{y:function(){return b}});var g=c(52),v=c(4263),y=(0,g.Z)(function(O){O.setUTCHours(0,0,0,0)},function(O,T){O.setUTCDate(O.getUTCDate()+T)},function(O,T){return(T-O)/v.UD},function(O){return O.getUTCDate()-1});h.Z=y;var b=y.range},8176:function(d,h,c){c.d(h,{$3:function(){return I},DK:function(){return V},J1:function(){return T},Ox:function(){return b},QQ:function(){return C},Q_:function(){return U},SU:function(){return M},b3:function(){return k},fz:function(){return z},g4:function(){return _},hB:function(){return w},l6:function(){return O},uy:function(){return N},xj:function(){return Q}});var g=c(52),v=c(4263);function y(F){return(0,g.Z)(function(B){B.setUTCDate(B.getUTCDate()-(B.getUTCDay()+7-F)%7),B.setUTCHours(0,0,0,0)},function(B,E){B.setUTCDate(B.getUTCDate()+E*7)},function(B,E){return(E-B)/v.iM})}var b=y(0),O=y(1),T=y(2),k=y(3),w=y(4),C=y(5),_=y(6),M=b.range,I=O.range,V=T.range,N=k.range,Q=w.range,z=C.range,U=_.range},9791:function(d,h,c){c.d(h,{D:function(){return y}});var g=c(52),v=(0,g.Z)(function(b){b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,O){b.setUTCFullYear(b.getUTCFullYear()+O)},function(b,O){return O.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});v.every=function(b){return!isFinite(b=Math.floor(b))||!(b>0)?null:(0,g.Z)(function(O){O.setUTCFullYear(Math.floor(O.getUTCFullYear()/b)*b),O.setUTCMonth(0,1),O.setUTCHours(0,0,0,0)},function(O,T){O.setUTCFullYear(O.getUTCFullYear()+T*b)})},h.Z=v;var y=v.range},9879:function(d,h,c){c.d(h,{$t:function(){return Q},EY:function(){return _},Ff:function(){return U},Ld:function(){return N},OM:function(){return b},aU:function(){return V},b$:function(){return z},bJ:function(){return I},bL:function(){return w},mC:function(){return C},sy:function(){return T},vm:function(){return M},wA:function(){return O},zg:function(){return k}});var g=c(52),v=c(4263);function y(F){return(0,g.Z)(function(B){B.setDate(B.getDate()-(B.getDay()+7-F)%7),B.setHours(0,0,0,0)},function(B,E){B.setDate(B.getDate()+E*7)},function(B,E){return(E-B-(E.getTimezoneOffset()-B.getTimezoneOffset())*v.yB)/v.iM})}var b=y(0),O=y(1),T=y(2),k=y(3),w=y(4),C=y(5),_=y(6),M=b.range,I=O.range,V=T.range,N=k.range,Q=w.range,z=C.range,U=_.range},4823:function(d,h,c){c.d(h,{g:function(){return y}});var g=c(52),v=(0,g.Z)(function(b){b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,O){b.setFullYear(b.getFullYear()+O)},function(b,O){return O.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});v.every=function(b){return!isFinite(b=Math.floor(b))||!(b>0)?null:(0,g.Z)(function(O){O.setFullYear(Math.floor(O.getFullYear()/b)*b),O.setMonth(0,1),O.setHours(0,0,0,0)},function(O,T){O.setFullYear(O.getFullYear()+T*b)})},h.Z=v;var y=v.range},5398:function(d){var h=typeof Reflect=="object"?Reflect:null,c=h&&typeof h.apply=="function"?h.apply:function(E,W,X){return Function.prototype.apply.call(E,W,X)},g;h&&typeof h.ownKeys=="function"?g=h.ownKeys:Object.getOwnPropertySymbols?g=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:g=function(E){return Object.getOwnPropertyNames(E)};function v(B){console&&console.warn&&console.warn(B)}var y=Number.isNaN||function(E){return E!==E};function b(){b.init.call(this)}d.exports=b,d.exports.once=z,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var O=10;function T(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return O},set:function(B){if(typeof B!="number"||B<0||y(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");O=B}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||y(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function k(B){return B._maxListeners===void 0?b.defaultMaxListeners:B._maxListeners}b.prototype.getMaxListeners=function(){return k(this)},b.prototype.emit=function(E){for(var W=[],X=1;X<arguments.length;X++)W.push(arguments[X]);var ie=E==="error",L=this._events;if(L!==void 0)ie=ie&&L.error===void 0;else if(!ie)return!1;if(ie){var me;if(W.length>0&&(me=W[0]),me instanceof Error)throw me;var ae=new Error("Unhandled error."+(me?" ("+me.message+")":""));throw ae.context=me,ae}var q=L[E];if(q===void 0)return!1;if(typeof q=="function")c(q,this,W);else for(var de=q.length,ee=V(q,de),X=0;X<de;++X)c(ee[X],this,W);return!0};function w(B,E,W,X){var ie,L,me;if(T(W),L=B._events,L===void 0?(L=B._events=Object.create(null),B._eventsCount=0):(L.newListener!==void 0&&(B.emit("newListener",E,W.listener?W.listener:W),L=B._events),me=L[E]),me===void 0)me=L[E]=W,++B._eventsCount;else if(typeof me=="function"?me=L[E]=X?[W,me]:[me,W]:X?me.unshift(W):me.push(W),ie=k(B),ie>0&&me.length>ie&&!me.warned){me.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+me.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=B,ae.type=E,ae.count=me.length,v(ae)}return B}b.prototype.addListener=function(E,W){return w(this,E,W,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(E,W){return w(this,E,W,!0)};function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(B,E,W){var X={fired:!1,wrapFn:void 0,target:B,type:E,listener:W},ie=C.bind(X);return ie.listener=W,X.wrapFn=ie,ie}b.prototype.once=function(E,W){return T(W),this.on(E,_(this,E,W)),this},b.prototype.prependOnceListener=function(E,W){return T(W),this.prependListener(E,_(this,E,W)),this},b.prototype.removeListener=function(E,W){var X,ie,L,me,ae;if(T(W),ie=this._events,ie===void 0)return this;if(X=ie[E],X===void 0)return this;if(X===W||X.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete ie[E],ie.removeListener&&this.emit("removeListener",E,X.listener||W));else if(typeof X!="function"){for(L=-1,me=X.length-1;me>=0;me--)if(X[me]===W||X[me].listener===W){ae=X[me].listener,L=me;break}if(L<0)return this;L===0?X.shift():N(X,L),X.length===1&&(ie[E]=X[0]),ie.removeListener!==void 0&&this.emit("removeListener",E,ae||W)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(E){var W,X,ie;if(X=this._events,X===void 0)return this;if(X.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):X[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete X[E]),this;if(arguments.length===0){var L=Object.keys(X),me;for(ie=0;ie<L.length;++ie)me=L[ie],me!=="removeListener"&&this.removeAllListeners(me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=X[E],typeof W=="function")this.removeListener(E,W);else if(W!==void 0)for(ie=W.length-1;ie>=0;ie--)this.removeListener(E,W[ie]);return this};function M(B,E,W){var X=B._events;if(X===void 0)return[];var ie=X[E];return ie===void 0?[]:typeof ie=="function"?W?[ie.listener||ie]:[ie]:W?Q(ie):V(ie,ie.length)}b.prototype.listeners=function(E){return M(this,E,!0)},b.prototype.rawListeners=function(E){return M(this,E,!1)},b.listenerCount=function(B,E){return typeof B.listenerCount=="function"?B.listenerCount(E):I.call(B,E)},b.prototype.listenerCount=I;function I(B){var E=this._events;if(E!==void 0){var W=E[B];if(typeof W=="function")return 1;if(W!==void 0)return W.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function V(B,E){for(var W=new Array(E),X=0;X<E;++X)W[X]=B[X];return W}function N(B,E){for(;E+1<B.length;E++)B[E]=B[E+1];B.pop()}function Q(B){for(var E=new Array(B.length),W=0;W<E.length;++W)E[W]=B[W].listener||B[W];return E}function z(B,E){return new Promise(function(W,X){function ie(me){B.removeListener(E,L),X(me)}function L(){typeof B.removeListener=="function"&&B.removeListener("error",ie),W([].slice.call(arguments))}F(B,E,L,{once:!0}),E!=="error"&&U(B,ie,{once:!0})})}function U(B,E,W){typeof B.on=="function"&&F(B,"error",E,W)}function F(B,E,W,X){if(typeof B.on=="function")X.once?B.once(E,W):B.on(E,W);else if(typeof B.addEventListener=="function")B.addEventListener(E,function ie(L){X.once&&B.removeEventListener(E,ie),W(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}},2770:function(d,h,c){var g=c(8546);d.exports=function(v){var y=typeof v;if(y==="string"){var b=v;if(v=+v,v===0&&g(b))return!1}else if(y!=="number")return!1;return v-v<1}},5400:function(d){d.exports=h;function h(c,g){var v=g[0],y=g[1],b=g[2],O=g[3],T=g[4],k=g[5],w=g[6],C=g[7],_=g[8],M=g[9],I=g[10],V=g[11],N=g[12],Q=g[13],z=g[14],U=g[15];return c[0]=k*(I*U-V*z)-M*(w*U-C*z)+Q*(w*V-C*I),c[1]=-(y*(I*U-V*z)-M*(b*U-O*z)+Q*(b*V-O*I)),c[2]=y*(w*U-C*z)-k*(b*U-O*z)+Q*(b*C-O*w),c[3]=-(y*(w*V-C*I)-k*(b*V-O*I)+M*(b*C-O*w)),c[4]=-(T*(I*U-V*z)-_*(w*U-C*z)+N*(w*V-C*I)),c[5]=v*(I*U-V*z)-_*(b*U-O*z)+N*(b*V-O*I),c[6]=-(v*(w*U-C*z)-T*(b*U-O*z)+N*(b*C-O*w)),c[7]=v*(w*V-C*I)-T*(b*V-O*I)+_*(b*C-O*w),c[8]=T*(M*U-V*Q)-_*(k*U-C*Q)+N*(k*V-C*M),c[9]=-(v*(M*U-V*Q)-_*(y*U-O*Q)+N*(y*V-O*M)),c[10]=v*(k*U-C*Q)-T*(y*U-O*Q)+N*(y*C-O*k),c[11]=-(v*(k*V-C*M)-T*(y*V-O*M)+_*(y*C-O*k)),c[12]=-(T*(M*z-I*Q)-_*(k*z-w*Q)+N*(k*I-w*M)),c[13]=v*(M*z-I*Q)-_*(y*z-b*Q)+N*(y*I-b*M),c[14]=-(v*(k*z-w*Q)-T*(y*z-b*Q)+N*(y*w-b*k)),c[15]=v*(k*I-w*M)-T*(y*I-b*M)+_*(y*w-b*k),c}},2331:function(d){d.exports=h;function h(c){var g=new Float32Array(16);return g[0]=c[0],g[1]=c[1],g[2]=c[2],g[3]=c[3],g[4]=c[4],g[5]=c[5],g[6]=c[6],g[7]=c[7],g[8]=c[8],g[9]=c[9],g[10]=c[10],g[11]=c[11],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15],g}},1042:function(d){d.exports=h;function h(c,g){return c[0]=g[0],c[1]=g[1],c[2]=g[2],c[3]=g[3],c[4]=g[4],c[5]=g[5],c[6]=g[6],c[7]=g[7],c[8]=g[8],c[9]=g[9],c[10]=g[10],c[11]=g[11],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15],c}},1902:function(d){d.exports=h;function h(){var c=new Float32Array(16);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},9887:function(d){d.exports=h;function h(c){var g=c[0],v=c[1],y=c[2],b=c[3],O=c[4],T=c[5],k=c[6],w=c[7],C=c[8],_=c[9],M=c[10],I=c[11],V=c[12],N=c[13],Q=c[14],z=c[15],U=g*T-v*O,F=g*k-y*O,B=g*w-b*O,E=v*k-y*T,W=v*w-b*T,X=y*w-b*k,ie=C*N-_*V,L=C*Q-M*V,me=C*z-I*V,ae=_*Q-M*N,q=_*z-I*N,de=M*z-I*Q;return U*de-F*q+B*ae+E*me-W*L+X*ie}},7812:function(d){d.exports=h;function h(c,g){var v=g[0],y=g[1],b=g[2],O=g[3],T=v+v,k=y+y,w=b+b,C=v*T,_=y*T,M=y*k,I=b*T,V=b*k,N=b*w,Q=O*T,z=O*k,U=O*w;return c[0]=1-M-N,c[1]=_+U,c[2]=I-z,c[3]=0,c[4]=_-U,c[5]=1-C-N,c[6]=V+Q,c[7]=0,c[8]=I+z,c[9]=V-Q,c[10]=1-C-M,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},4045:function(d){d.exports=h;function h(c,g,v){var y,b,O,T=v[0],k=v[1],w=v[2],C=Math.sqrt(T*T+k*k+w*w);return Math.abs(C)<1e-6?null:(C=1/C,T*=C,k*=C,w*=C,y=Math.sin(g),b=Math.cos(g),O=1-b,c[0]=T*T*O+b,c[1]=k*T*O+w*y,c[2]=w*T*O-k*y,c[3]=0,c[4]=T*k*O-w*y,c[5]=k*k*O+b,c[6]=w*k*O+T*y,c[7]=0,c[8]=T*w*O+k*y,c[9]=k*w*O-T*y,c[10]=w*w*O+b,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c)}},5973:function(d){d.exports=h;function h(c,g,v){var y=g[0],b=g[1],O=g[2],T=g[3],k=y+y,w=b+b,C=O+O,_=y*k,M=y*w,I=y*C,V=b*w,N=b*C,Q=O*C,z=T*k,U=T*w,F=T*C;return c[0]=1-(V+Q),c[1]=M+F,c[2]=I-U,c[3]=0,c[4]=M-F,c[5]=1-(_+Q),c[6]=N+z,c[7]=0,c[8]=I+U,c[9]=N-z,c[10]=1-(_+V),c[11]=0,c[12]=v[0],c[13]=v[1],c[14]=v[2],c[15]=1,c}},1472:function(d){d.exports=h;function h(c,g){return c[0]=g[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=g[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=g[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},4669:function(d){d.exports=h;function h(c,g){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=g[0],c[13]=g[1],c[14]=g[2],c[15]=1,c}},5262:function(d){d.exports=h;function h(c,g){var v=Math.sin(g),y=Math.cos(g);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=y,c[6]=v,c[7]=0,c[8]=0,c[9]=-v,c[10]=y,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},331:function(d){d.exports=h;function h(c,g){var v=Math.sin(g),y=Math.cos(g);return c[0]=y,c[1]=0,c[2]=-v,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=v,c[9]=0,c[10]=y,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},1049:function(d){d.exports=h;function h(c,g){var v=Math.sin(g),y=Math.cos(g);return c[0]=y,c[1]=v,c[2]=0,c[3]=0,c[4]=-v,c[5]=y,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},5195:function(d){d.exports=h;function h(c,g,v,y,b,O,T){var k=1/(v-g),w=1/(b-y),C=1/(O-T);return c[0]=O*2*k,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=O*2*w,c[6]=0,c[7]=0,c[8]=(v+g)*k,c[9]=(b+y)*w,c[10]=(T+O)*C,c[11]=-1,c[12]=0,c[13]=0,c[14]=T*O*2*C,c[15]=0,c}},1551:function(d){d.exports=h;function h(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},9576:function(d,h,c){d.exports={create:c(1902),clone:c(2331),copy:c(1042),identity:c(1551),transpose:c(8654),invert:c(5874),adjoint:c(5400),determinant:c(9887),multiply:c(1362),translate:c(1283),scale:c(789),rotate:c(5074),rotateX:c(5545),rotateY:c(4918),rotateZ:c(5692),fromRotation:c(4045),fromRotationTranslation:c(5973),fromScaling:c(1472),fromTranslation:c(4669),fromXRotation:c(5262),fromYRotation:c(331),fromZRotation:c(1049),fromQuat:c(7812),frustum:c(5195),perspective:c(7864),perspectiveFromFieldOfView:c(5279),ortho:c(378),lookAt:c(5551),str:c(6726)}},5874:function(d){d.exports=h;function h(c,g){var v=g[0],y=g[1],b=g[2],O=g[3],T=g[4],k=g[5],w=g[6],C=g[7],_=g[8],M=g[9],I=g[10],V=g[11],N=g[12],Q=g[13],z=g[14],U=g[15],F=v*k-y*T,B=v*w-b*T,E=v*C-O*T,W=y*w-b*k,X=y*C-O*k,ie=b*C-O*w,L=_*Q-M*N,me=_*z-I*N,ae=_*U-V*N,q=M*z-I*Q,de=M*U-V*Q,ee=I*U-V*z,xe=F*ee-B*de+E*q+W*ae-X*me+ie*L;return xe?(xe=1/xe,c[0]=(k*ee-w*de+C*q)*xe,c[1]=(b*de-y*ee-O*q)*xe,c[2]=(Q*ie-z*X+U*W)*xe,c[3]=(I*X-M*ie-V*W)*xe,c[4]=(w*ae-T*ee-C*me)*xe,c[5]=(v*ee-b*ae+O*me)*xe,c[6]=(z*E-N*ie-U*B)*xe,c[7]=(_*ie-I*E+V*B)*xe,c[8]=(T*de-k*ae+C*L)*xe,c[9]=(y*ae-v*de-O*L)*xe,c[10]=(N*X-Q*E+U*F)*xe,c[11]=(M*E-_*X-V*F)*xe,c[12]=(k*me-T*q-w*L)*xe,c[13]=(v*q-y*me+b*L)*xe,c[14]=(Q*B-N*W-z*F)*xe,c[15]=(_*W-M*B+I*F)*xe,c):null}},5551:function(d,h,c){var g=c(1551);d.exports=v;function v(y,b,O,T){var k,w,C,_,M,I,V,N,Q,z,U=b[0],F=b[1],B=b[2],E=T[0],W=T[1],X=T[2],ie=O[0],L=O[1],me=O[2];return Math.abs(U-ie)<1e-6&&Math.abs(F-L)<1e-6&&Math.abs(B-me)<1e-6?g(y):(V=U-ie,N=F-L,Q=B-me,z=1/Math.sqrt(V*V+N*N+Q*Q),V*=z,N*=z,Q*=z,k=W*Q-X*N,w=X*V-E*Q,C=E*N-W*V,z=Math.sqrt(k*k+w*w+C*C),z?(z=1/z,k*=z,w*=z,C*=z):(k=0,w=0,C=0),_=N*C-Q*w,M=Q*k-V*C,I=V*w-N*k,z=Math.sqrt(_*_+M*M+I*I),z?(z=1/z,_*=z,M*=z,I*=z):(_=0,M=0,I=0),y[0]=k,y[1]=_,y[2]=V,y[3]=0,y[4]=w,y[5]=M,y[6]=N,y[7]=0,y[8]=C,y[9]=I,y[10]=Q,y[11]=0,y[12]=-(k*U+w*F+C*B),y[13]=-(_*U+M*F+I*B),y[14]=-(V*U+N*F+Q*B),y[15]=1,y)}},1362:function(d){d.exports=h;function h(c,g,v){var y=g[0],b=g[1],O=g[2],T=g[3],k=g[4],w=g[5],C=g[6],_=g[7],M=g[8],I=g[9],V=g[10],N=g[11],Q=g[12],z=g[13],U=g[14],F=g[15],B=v[0],E=v[1],W=v[2],X=v[3];return c[0]=B*y+E*k+W*M+X*Q,c[1]=B*b+E*w+W*I+X*z,c[2]=B*O+E*C+W*V+X*U,c[3]=B*T+E*_+W*N+X*F,B=v[4],E=v[5],W=v[6],X=v[7],c[4]=B*y+E*k+W*M+X*Q,c[5]=B*b+E*w+W*I+X*z,c[6]=B*O+E*C+W*V+X*U,c[7]=B*T+E*_+W*N+X*F,B=v[8],E=v[9],W=v[10],X=v[11],c[8]=B*y+E*k+W*M+X*Q,c[9]=B*b+E*w+W*I+X*z,c[10]=B*O+E*C+W*V+X*U,c[11]=B*T+E*_+W*N+X*F,B=v[12],E=v[13],W=v[14],X=v[15],c[12]=B*y+E*k+W*M+X*Q,c[13]=B*b+E*w+W*I+X*z,c[14]=B*O+E*C+W*V+X*U,c[15]=B*T+E*_+W*N+X*F,c}},378:function(d){d.exports=h;function h(c,g,v,y,b,O,T){var k=1/(g-v),w=1/(y-b),C=1/(O-T);return c[0]=-2*k,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*w,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*C,c[11]=0,c[12]=(g+v)*k,c[13]=(b+y)*w,c[14]=(T+O)*C,c[15]=1,c}},7864:function(d){d.exports=h;function h(c,g,v,y,b){var O=1/Math.tan(g/2),T=1/(y-b);return c[0]=O/v,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=O,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=(b+y)*T,c[11]=-1,c[12]=0,c[13]=0,c[14]=2*b*y*T,c[15]=0,c}},5279:function(d){d.exports=h;function h(c,g,v,y){var b=Math.tan(g.upDegrees*Math.PI/180),O=Math.tan(g.downDegrees*Math.PI/180),T=Math.tan(g.leftDegrees*Math.PI/180),k=Math.tan(g.rightDegrees*Math.PI/180),w=2/(T+k),C=2/(b+O);return c[0]=w,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=C,c[6]=0,c[7]=0,c[8]=-((T-k)*w*.5),c[9]=(b-O)*C*.5,c[10]=y/(v-y),c[11]=-1,c[12]=0,c[13]=0,c[14]=y*v/(v-y),c[15]=0,c}},5074:function(d){d.exports=h;function h(c,g,v,y){var b=y[0],O=y[1],T=y[2],k=Math.sqrt(b*b+O*O+T*T),w,C,_,M,I,V,N,Q,z,U,F,B,E,W,X,ie,L,me,ae,q,de,ee,xe,we;return Math.abs(k)<1e-6?null:(k=1/k,b*=k,O*=k,T*=k,w=Math.sin(v),C=Math.cos(v),_=1-C,M=g[0],I=g[1],V=g[2],N=g[3],Q=g[4],z=g[5],U=g[6],F=g[7],B=g[8],E=g[9],W=g[10],X=g[11],ie=b*b*_+C,L=O*b*_+T*w,me=T*b*_-O*w,ae=b*O*_-T*w,q=O*O*_+C,de=T*O*_+b*w,ee=b*T*_+O*w,xe=O*T*_-b*w,we=T*T*_+C,c[0]=M*ie+Q*L+B*me,c[1]=I*ie+z*L+E*me,c[2]=V*ie+U*L+W*me,c[3]=N*ie+F*L+X*me,c[4]=M*ae+Q*q+B*de,c[5]=I*ae+z*q+E*de,c[6]=V*ae+U*q+W*de,c[7]=N*ae+F*q+X*de,c[8]=M*ee+Q*xe+B*we,c[9]=I*ee+z*xe+E*we,c[10]=V*ee+U*xe+W*we,c[11]=N*ee+F*xe+X*we,g!==c&&(c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15]),c)}},5545:function(d){d.exports=h;function h(c,g,v){var y=Math.sin(v),b=Math.cos(v),O=g[4],T=g[5],k=g[6],w=g[7],C=g[8],_=g[9],M=g[10],I=g[11];return g!==c&&(c[0]=g[0],c[1]=g[1],c[2]=g[2],c[3]=g[3],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15]),c[4]=O*b+C*y,c[5]=T*b+_*y,c[6]=k*b+M*y,c[7]=w*b+I*y,c[8]=C*b-O*y,c[9]=_*b-T*y,c[10]=M*b-k*y,c[11]=I*b-w*y,c}},4918:function(d){d.exports=h;function h(c,g,v){var y=Math.sin(v),b=Math.cos(v),O=g[0],T=g[1],k=g[2],w=g[3],C=g[8],_=g[9],M=g[10],I=g[11];return g!==c&&(c[4]=g[4],c[5]=g[5],c[6]=g[6],c[7]=g[7],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15]),c[0]=O*b-C*y,c[1]=T*b-_*y,c[2]=k*b-M*y,c[3]=w*b-I*y,c[8]=O*y+C*b,c[9]=T*y+_*b,c[10]=k*y+M*b,c[11]=w*y+I*b,c}},5692:function(d){d.exports=h;function h(c,g,v){var y=Math.sin(v),b=Math.cos(v),O=g[0],T=g[1],k=g[2],w=g[3],C=g[4],_=g[5],M=g[6],I=g[7];return g!==c&&(c[8]=g[8],c[9]=g[9],c[10]=g[10],c[11]=g[11],c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15]),c[0]=O*b+C*y,c[1]=T*b+_*y,c[2]=k*b+M*y,c[3]=w*b+I*y,c[4]=C*b-O*y,c[5]=_*b-T*y,c[6]=M*b-k*y,c[7]=I*b-w*y,c}},789:function(d){d.exports=h;function h(c,g,v){var y=v[0],b=v[1],O=v[2];return c[0]=g[0]*y,c[1]=g[1]*y,c[2]=g[2]*y,c[3]=g[3]*y,c[4]=g[4]*b,c[5]=g[5]*b,c[6]=g[6]*b,c[7]=g[7]*b,c[8]=g[8]*O,c[9]=g[9]*O,c[10]=g[10]*O,c[11]=g[11]*O,c[12]=g[12],c[13]=g[13],c[14]=g[14],c[15]=g[15],c}},6726:function(d){d.exports=h;function h(c){return"mat4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+", "+c[9]+", "+c[10]+", "+c[11]+", "+c[12]+", "+c[13]+", "+c[14]+", "+c[15]+")"}},1283:function(d){d.exports=h;function h(c,g,v){var y=v[0],b=v[1],O=v[2],T,k,w,C,_,M,I,V,N,Q,z,U;return g===c?(c[12]=g[0]*y+g[4]*b+g[8]*O+g[12],c[13]=g[1]*y+g[5]*b+g[9]*O+g[13],c[14]=g[2]*y+g[6]*b+g[10]*O+g[14],c[15]=g[3]*y+g[7]*b+g[11]*O+g[15]):(T=g[0],k=g[1],w=g[2],C=g[3],_=g[4],M=g[5],I=g[6],V=g[7],N=g[8],Q=g[9],z=g[10],U=g[11],c[0]=T,c[1]=k,c[2]=w,c[3]=C,c[4]=_,c[5]=M,c[6]=I,c[7]=V,c[8]=N,c[9]=Q,c[10]=z,c[11]=U,c[12]=T*y+_*b+N*O+g[12],c[13]=k*y+M*b+Q*O+g[13],c[14]=w*y+I*b+z*O+g[14],c[15]=C*y+V*b+U*O+g[15]),c}},8654:function(d){d.exports=h;function h(c,g){if(c===g){var v=g[1],y=g[2],b=g[3],O=g[6],T=g[7],k=g[11];c[1]=g[4],c[2]=g[8],c[3]=g[12],c[4]=v,c[6]=g[9],c[7]=g[13],c[8]=y,c[9]=O,c[11]=g[14],c[12]=b,c[13]=T,c[14]=k}else c[0]=g[0],c[1]=g[4],c[2]=g[8],c[3]=g[12],c[4]=g[1],c[5]=g[5],c[6]=g[9],c[7]=g[13],c[8]=g[2],c[9]=g[6],c[10]=g[10],c[11]=g[14],c[12]=g[3],c[13]=g[7],c[14]=g[11],c[15]=g[15];return c}},7035:function(d,h,c){var g=c(4404),v;typeof c.g.matchMedia=="function"?v=!c.g.matchMedia("(hover: none)").matches:v=g,d.exports=v},8520:function(d,h,c){var g=c(4404);function v(){var y=!1;try{var b=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch{y=!1}return y}d.exports=g&&v()},4404:function(d){d.exports=!0},8546:function(d){d.exports=function(h){for(var c=h.length,g,v=0;v<c;v++)if(g=h.charCodeAt(v),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},8956:function(d){var h={left:0,top:0};d.exports=c;function c(v,y,b){y=y||v.currentTarget||v.srcElement,Array.isArray(b)||(b=[0,0]);var O=v.clientX||0,T=v.clientY||0,k=g(y);return b[0]=O-k.left,b[1]=T-k.top,b}function g(v){return v===window||v===document||v===document.body?h:v.getBoundingClientRect()}},7417:function(d,h,c){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(y,b,O){b[y]=b[y]||O(),d.exports?d.exports=b[y]:(g=(function(){return b[y]}).call(h,c,h,d),g!==void 0&&(d.exports=g))})("Promise",typeof c.g<"u"?c.g:this,function(){var y,b,O,T=Object.prototype.toString,k=typeof setImmediate<"u"?function(E){return setImmediate(E)}:setTimeout;try{Object.defineProperty({},"x",{}),y=function(E,W,X,ie){return Object.defineProperty(E,W,{value:X,writable:!0,configurable:ie!==!1})}}catch{y=function(W,X,ie){return W[X]=ie,W}}O=function(){var E,W,X;function ie(L,me){this.fn=L,this.self=me,this.next=void 0}return{add:function(me,ae){X=new ie(me,ae),W?W.next=X:E=X,W=X,X=void 0},drain:function(){var me=E;for(E=W=b=void 0;me;)me.fn.call(me.self),me=me.next}}}();function w(B,E){O.add(B,E),b||(b=k(O.drain))}function C(B){var E,W=typeof B;return B!=null&&(W=="object"||W=="function")&&(E=B.then),typeof E=="function"?E:!1}function _(){for(var B=0;B<this.chain.length;B++)M(this,this.state===1?this.chain[B].success:this.chain[B].failure,this.chain[B]);this.chain.length=0}function M(B,E,W){var X,ie;try{E===!1?W.reject(B.msg):(E===!0?X=B.msg:X=E.call(void 0,B.msg),X===W.promise?W.reject(TypeError("Promise-chain cycle")):(ie=C(X))?ie.call(X,W.resolve,W.reject):W.resolve(X))}catch(L){W.reject(L)}}function I(B){var E,W=this;if(!W.triggered){W.triggered=!0,W.def&&(W=W.def);try{(E=C(B))?w(function(){var X=new Q(W);try{E.call(B,function(){I.apply(X,arguments)},function(){V.apply(X,arguments)})}catch(ie){V.call(X,ie)}}):(W.msg=B,W.state=1,W.chain.length>0&&w(_,W))}catch(X){V.call(new Q(W),X)}}}function V(B){var E=this;E.triggered||(E.triggered=!0,E.def&&(E=E.def),E.msg=B,E.state=2,E.chain.length>0&&w(_,E))}function N(B,E,W,X){for(var ie=0;ie<E.length;ie++)(function(me){B.resolve(E[me]).then(function(q){W(me,q)},X)})(ie)}function Q(B){this.def=B,this.triggered=!1}function z(B){this.promise=B,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function U(B){if(typeof B!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var E=new z(this);this.then=function(X,ie){var L={success:typeof X=="function"?X:!0,failure:typeof ie=="function"?ie:!1};return L.promise=new this.constructor(function(ae,q){if(typeof ae!="function"||typeof q!="function")throw TypeError("Not a function");L.resolve=ae,L.reject=q}),E.chain.push(L),E.state!==0&&w(_,E),L.promise},this.catch=function(X){return this.then(void 0,X)};try{B.call(void 0,function(X){I.call(E,X)},function(X){V.call(E,X)})}catch(W){V.call(E,W)}}var F=y({},"constructor",U,!1);return U.prototype=F,y(F,"__NPO__",0,!1),y(U,"resolve",function(E){var W=this;return E&&typeof E=="object"&&E.__NPO__===1?E:new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");ie(E)})}),y(U,"reject",function(E){return new this(function(X,ie){if(typeof X!="function"||typeof ie!="function")throw TypeError("Not a function");ie(E)})}),y(U,"all",function(E){var W=this;return T.call(E)!="[object Array]"?W.reject(TypeError("Not an array")):E.length===0?W.resolve([]):new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");var me=E.length,ae=Array(me),q=0;N(W,E,function(ee,xe){ae[ee]=xe,++q===me&&ie(ae)},L)})}),y(U,"race",function(E){var W=this;return T.call(E)!="[object Array]"?W.reject(TypeError("Not an array")):new W(function(ie,L){if(typeof ie!="function"||typeof L!="function")throw TypeError("Not a function");N(W,E,function(ae,q){ie(q)},L)})}),U})},6131:function(d){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function v(b){if(b==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}function y(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de",Object.getOwnPropertyNames(b)[0]==="5")return!1;for(var O={},T=0;T<10;T++)O["_"+String.fromCharCode(T)]=T;var k=Object.getOwnPropertyNames(O).map(function(C){return O[C]});if(k.join("")!=="0123456789")return!1;var w={};return"abcdefghijklmnopqrst".split("").forEach(function(C){w[C]=C}),Object.keys(Object.assign({},w)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}d.exports=y()?Object.assign:function(b,O){for(var T,k=v(b),w,C=1;C<arguments.length;C++){T=Object(arguments[C]);for(var _ in T)c.call(T,_)&&(k[_]=T[_]);if(h){w=h(T);for(var M=0;M<w.length;M++)g.call(T,w[M])&&(k[w[M]]=T[w[M]])}}return k}},5616:function(d){d.exports=g;var h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(b){var O=[];return b.replace(c,function(T,k,w){var C=k.toLowerCase();for(w=y(w),C=="m"&&w.length>2&&(O.push([k].concat(w.splice(0,2))),C="l",k=k=="m"?"l":"L");;){if(w.length==h[C])return w.unshift(k),O.push(w);if(w.length<h[C])throw new Error("malformed path data");O.push([k].concat(w.splice(0,h[C])))}}),O}var v=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function y(b){var O=b.match(v);return O?O.map(Number):[]}},8258:function(d){d.exports=function(c,g,v,y){var b=c[0],O=c[1],T=!1;v===void 0&&(v=0),y===void 0&&(y=g.length);for(var k=y-v,w=0,C=k-1;w<k;C=w++){var _=g[w+v][0],M=g[w+v][1],I=g[C+v][0],V=g[C+v][1],N=M>O!=V>O&&b<(I-_)*(O-M)/(V-M)+_;N&&(T=!T)}return T}},2142:function(d,h,c){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=c(9444),v=c(9023),y=c(7263),b=c(1328),O=c(5968),T=c(670),k=!1,w=v(),C;C={buildLog:function(M){return M===!0?k=g():M===!1&&(k=!1),k===!1?!1:k.list},epsilon:function(M){return w.epsilon(M)},segments:function(M){var I=y(!0,w,k);return M.regions.forEach(I.addRegion),{segments:I.calculate(M.inverted),inverted:M.inverted}},combine:function(M,I){var V=y(!1,w,k);return{combined:V.calculate(M.segments,M.inverted,I.segments,I.inverted),inverted1:M.inverted,inverted2:I.inverted}},selectUnion:function(M){return{segments:O.union(M.combined,k),inverted:M.inverted1||M.inverted2}},selectIntersect:function(M){return{segments:O.intersect(M.combined,k),inverted:M.inverted1&&M.inverted2}},selectDifference:function(M){return{segments:O.difference(M.combined,k),inverted:M.inverted1&&!M.inverted2}},selectDifferenceRev:function(M){return{segments:O.differenceRev(M.combined,k),inverted:!M.inverted1&&M.inverted2}},selectXor:function(M){return{segments:O.xor(M.combined,k),inverted:M.inverted1!==M.inverted2}},polygon:function(M){return{regions:b(M.segments,w,k),inverted:M.inverted}},polygonFromGeoJSON:function(M){return T.toPolygon(C,M)},polygonToGeoJSON:function(M){return T.fromPolygon(C,w,M)},union:function(M,I){return _(M,I,C.selectUnion)},intersect:function(M,I){return _(M,I,C.selectIntersect)},difference:function(M,I){return _(M,I,C.selectDifference)},differenceRev:function(M,I){return _(M,I,C.selectDifferenceRev)},xor:function(M,I){return _(M,I,C.selectXor)}};function _(M,I,V){var N=C.segments(M),Q=C.segments(I),z=C.combine(N,Q),U=V(z);return C.polygon(U)}typeof window=="object"&&(window.PolyBool=C),d.exports=C},9444:function(d){function h(){var c,g=0,v=!1;function y(b,O){return c.list.push({type:b,data:O?JSON.parse(JSON.stringify(O)):void 0}),c}return c={list:[],segmentId:function(){return g++},checkIntersection:function(b,O){return y("check",{seg1:b,seg2:O})},segmentChop:function(b,O){return y("div_seg",{seg:b,pt:O}),y("chop",{seg:b,pt:O})},statusRemove:function(b){return y("pop_seg",{seg:b})},segmentUpdate:function(b){return y("seg_update",{seg:b})},segmentNew:function(b,O){return y("new_seg",{seg:b,primary:O})},segmentRemove:function(b){return y("rem_seg",{seg:b})},tempStatus:function(b,O,T){return y("temp_status",{seg:b,above:O,below:T})},rewind:function(b){return y("rewind",{seg:b})},status:function(b,O,T){return y("status",{seg:b,above:O,below:T})},vert:function(b){return b===v?c:(v=b,y("vert",{x:b}))},log:function(b){return typeof b!="string"&&(b=JSON.stringify(b,!1,"  ")),y("log",{txt:b})},reset:function(){return y("reset")},selected:function(b){return y("selected",{segs:b})},chainStart:function(b){return y("chain_start",{seg:b})},chainRemoveHead:function(b,O){return y("chain_rem_head",{index:b,pt:O})},chainRemoveTail:function(b,O){return y("chain_rem_tail",{index:b,pt:O})},chainNew:function(b,O){return y("chain_new",{pt1:b,pt2:O})},chainMatch:function(b){return y("chain_match",{index:b})},chainClose:function(b){return y("chain_close",{index:b})},chainAddHead:function(b,O){return y("chain_add_head",{index:b,pt:O})},chainAddTail:function(b,O){return y("chain_add_tail",{index:b,pt:O})},chainConnect:function(b,O){return y("chain_con",{index1:b,index2:O})},chainReverse:function(b){return y("chain_rev",{index:b})},chainJoin:function(b,O){return y("chain_join",{index1:b,index2:O})},done:function(){return y("done")}},c}d.exports=h},9023:function(d){function h(c){typeof c!="number"&&(c=1e-10);var g={epsilon:function(v){return typeof v=="number"&&(c=v),c},pointAboveOrOnLine:function(v,y,b){var O=y[0],T=y[1],k=b[0],w=b[1],C=v[0],_=v[1];return(k-O)*(_-T)-(w-T)*(C-O)>=-c},pointBetween:function(v,y,b){var O=v[1]-y[1],T=b[0]-y[0],k=v[0]-y[0],w=b[1]-y[1],C=k*T+O*w;if(C<c)return!1;var _=T*T+w*w;return!(C-_>-c)},pointsSameX:function(v,y){return Math.abs(v[0]-y[0])<c},pointsSameY:function(v,y){return Math.abs(v[1]-y[1])<c},pointsSame:function(v,y){return g.pointsSameX(v,y)&&g.pointsSameY(v,y)},pointsCompare:function(v,y){return g.pointsSameX(v,y)?g.pointsSameY(v,y)?0:v[1]<y[1]?-1:1:v[0]<y[0]?-1:1},pointsCollinear:function(v,y,b){var O=v[0]-y[0],T=v[1]-y[1],k=y[0]-b[0],w=y[1]-b[1];return Math.abs(O*w-k*T)<c},linesIntersect:function(v,y,b,O){var T=y[0]-v[0],k=y[1]-v[1],w=O[0]-b[0],C=O[1]-b[1],_=T*C-k*w;if(Math.abs(_)<c)return!1;var M=v[0]-b[0],I=v[1]-b[1],V=(w*I-C*M)/_,N=(T*I-k*M)/_,Q={alongA:0,alongB:0,pt:[v[0]+V*T,v[1]+V*k]};return V<=-c?Q.alongA=-2:V<c?Q.alongA=-1:V-1<=-c?Q.alongA=0:V-1<c?Q.alongA=1:Q.alongA=2,N<=-c?Q.alongB=-2:N<c?Q.alongB=-1:N-1<=-c?Q.alongB=0:N-1<c?Q.alongB=1:Q.alongB=2,Q},pointInsideRegion:function(v,y){for(var b=v[0],O=v[1],T=y[y.length-1][0],k=y[y.length-1][1],w=!1,C=0;C<y.length;C++){var _=y[C][0],M=y[C][1];M-O>c!=k-O>c&&(T-_)*(O-M)/(k-M)+_-b>c&&(w=!w),T=_,k=M}return w}};return g}d.exports=h},670:function(d){var h={toPolygon:function(c,g){function v(O){if(O.length<=0)return c.segments({inverted:!1,regions:[]});function T(C){var _=C.slice(0,C.length-1);return c.segments({inverted:!1,regions:[_]})}for(var k=T(O[0]),w=1;w<O.length;w++)k=c.selectDifference(c.combine(k,T(O[w])));return k}if(g.type==="Polygon")return c.polygon(v(g.coordinates));if(g.type==="MultiPolygon"){for(var y=c.segments({inverted:!1,regions:[]}),b=0;b<g.coordinates.length;b++)y=c.selectUnion(c.combine(y,v(g.coordinates[b])));return c.polygon(y)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(c,g,v){v=c.polygon(c.segments(v));function y(V,N){return g.pointInsideRegion([(V[0][0]+V[1][0])*.5,(V[0][1]+V[1][1])*.5],N)}function b(V){return{region:V,children:[]}}var O=b(null);function T(V,N){for(var Q=0;Q<V.children.length;Q++){var z=V.children[Q];if(y(N,z.region)){T(z,N);return}}for(var U=b(N),Q=0;Q<V.children.length;Q++){var z=V.children[Q];y(z.region,N)&&(U.children.push(z),V.children.splice(Q,1),Q--)}V.children.push(U)}for(var k=0;k<v.regions.length;k++){var w=v.regions[k];w.length<3||T(O,w)}function C(V,N){for(var Q=0,z=V[V.length-1][0],U=V[V.length-1][1],F=[],B=0;B<V.length;B++){var E=V[B][0],W=V[B][1];F.push([E,W]),Q+=W*z-E*U,z=E,U=W}var X=Q<0;return X!==N&&F.reverse(),F.push([F[0][0],F[0][1]]),F}var _=[];function M(V){var N=[C(V.region,!1)];_.push(N);for(var Q=0;Q<V.children.length;Q++)N.push(I(V.children[Q]))}function I(V){for(var N=0;N<V.children.length;N++)M(V.children[N]);return C(V.region,!0)}for(var k=0;k<O.children.length;k++)M(O.children[k]);return _.length<=0?{type:"Polygon",coordinates:[]}:_.length==1?{type:"Polygon",coordinates:_[0]}:{type:"MultiPolygon",coordinates:_}}};d.exports=h},7263:function(d,h,c){var g=c(6859);function v(y,b,O){function T(U,F){return{id:O?O.segmentId():-1,start:U,end:F,myFill:{above:null,below:null},otherFill:null}}function k(U,F,B){return{id:O?O.segmentId():-1,start:U,end:F,myFill:{above:B.myFill.above,below:B.myFill.below},otherFill:null}}var w=g.create();function C(U,F,B,E,W,X){var ie=b.pointsCompare(F,W);return ie!==0?ie:b.pointsSame(B,X)?0:U!==E?U?1:-1:b.pointAboveOrOnLine(B,E?W:X,E?X:W)?1:-1}function _(U,F){w.insertBefore(U,function(B){var E=C(U.isStart,U.pt,F,B.isStart,B.pt,B.other.pt);return E<0})}function M(U,F){var B=g.node({isStart:!0,pt:U.start,seg:U,primary:F,other:null,status:null});return _(B,U.end),B}function I(U,F,B){var E=g.node({isStart:!1,pt:F.end,seg:F,primary:B,other:U,status:null});U.other=E,_(E,U.pt)}function V(U,F){var B=M(U,F);return I(B,U,F),B}function N(U,F){O&&O.segmentChop(U.seg,F),U.other.remove(),U.seg.end=F,U.other.pt=F,_(U.other,U.pt)}function Q(U,F){var B=k(F,U.seg.end,U.seg);return N(U,F),V(B,U.primary)}function z(U,F){var B=g.create();function E(pe,ne){var le=pe.seg.start,Y=pe.seg.end,ve=ne.seg.start,Oe=ne.seg.end;return b.pointsCollinear(le,ve,Oe)?b.pointsCollinear(Y,ve,Oe)||b.pointAboveOrOnLine(Y,ve,Oe)?1:-1:b.pointAboveOrOnLine(le,ve,Oe)?1:-1}function W(pe){return B.findTransition(function(ne){var le=E(pe,ne.ev);return le>0})}function X(pe,ne){var le=pe.seg,Y=ne.seg,ve=le.start,Oe=le.end,Le=Y.start,Te=Y.end;O&&O.checkIntersection(le,Y);var De=b.linesIntersect(ve,Oe,Le,Te);if(De===!1){if(!b.pointsCollinear(ve,Oe,Le)||b.pointsSame(ve,Te)||b.pointsSame(Oe,Le))return!1;var Ve=b.pointsSame(ve,Le),_e=b.pointsSame(Oe,Te);if(Ve&&_e)return ne;var Ie=!Ve&&b.pointBetween(ve,Le,Te),re=!_e&&b.pointBetween(Oe,Le,Te);if(Ve)return re?Q(ne,Oe):Q(pe,Te),ne;Ie&&(_e||(re?Q(ne,Oe):Q(pe,Te)),Q(ne,ve))}else De.alongA===0&&(De.alongB===-1?Q(pe,Le):De.alongB===0?Q(pe,De.pt):De.alongB===1&&Q(pe,Te)),De.alongB===0&&(De.alongA===-1?Q(ne,ve):De.alongA===0?Q(ne,De.pt):De.alongA===1&&Q(ne,Oe));return!1}for(var ie=[];!w.isEmpty();){var L=w.getHead();if(O&&O.vert(L.pt[0]),L.isStart){let pe=function(){if(ae){var ne=X(L,ae);if(ne)return ne}return q?X(L,q):!1};O&&O.segmentNew(L.seg,L.primary);var me=W(L),ae=me.before?me.before.ev:null,q=me.after?me.after.ev:null;O&&O.tempStatus(L.seg,ae?ae.seg:!1,q?q.seg:!1);var de=pe();if(de){if(y){var ee;L.seg.myFill.below===null?ee=!0:ee=L.seg.myFill.above!==L.seg.myFill.below,ee&&(de.seg.myFill.above=!de.seg.myFill.above)}else de.seg.otherFill=L.seg.myFill;O&&O.segmentUpdate(de.seg),L.other.remove(),L.remove()}if(w.getHead()!==L){O&&O.rewind(L.seg);continue}if(y){var ee;L.seg.myFill.below===null?ee=!0:ee=L.seg.myFill.above!==L.seg.myFill.below,q?L.seg.myFill.below=q.seg.myFill.above:L.seg.myFill.below=U,ee?L.seg.myFill.above=!L.seg.myFill.below:L.seg.myFill.above=L.seg.myFill.below}else if(L.seg.otherFill===null){var xe;q?L.primary===q.primary?xe=q.seg.otherFill.above:xe=q.seg.myFill.above:xe=L.primary?F:U,L.seg.otherFill={above:xe,below:xe}}O&&O.status(L.seg,ae?ae.seg:!1,q?q.seg:!1),L.other.status=me.insert(g.node({ev:L}))}else{var we=L.status;if(we===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(B.exists(we.prev)&&B.exists(we.next)&&X(we.prev.ev,we.next.ev),O&&O.statusRemove(we.ev.seg),we.remove(),!L.primary){var Be=L.seg.myFill;L.seg.myFill=L.seg.otherFill,L.seg.otherFill=Be}ie.push(L.seg)}w.getHead().remove()}return O&&O.done(),ie}return y?{addRegion:function(U){for(var F,B=U[U.length-1],E=0;E<U.length;E++){F=B,B=U[E];var W=b.pointsCompare(F,B);W!==0&&V(T(W<0?F:B,W<0?B:F),!0)}},calculate:function(U){return z(U,!1)}}:{calculate:function(U,F,B,E){return U.forEach(function(W){V(k(W.start,W.end,W),!0)}),B.forEach(function(W){V(k(W.start,W.end,W),!1)}),z(F,E)}}}d.exports=v},6859:function(d){var h={create:function(){var c={root:{root:!0,next:null},exists:function(g){return!(g===null||g===c.root)},isEmpty:function(){return c.root.next===null},getHead:function(){return c.root.next},insertBefore:function(g,v){for(var y=c.root,b=c.root.next;b!==null;){if(v(b)){g.prev=b.prev,g.next=b,b.prev.next=g,b.prev=g;return}y=b,b=b.next}y.next=g,g.prev=y,g.next=null},findTransition:function(g){for(var v=c.root,y=c.root.next;y!==null&&!g(y);)v=y,y=y.next;return{before:v===c.root?null:v,after:y,insert:function(b){return b.prev=v,b.next=y,v.next=b,y!==null&&(y.prev=b),b}}}};return c},node:function(c){return c.prev=null,c.next=null,c.remove=function(){c.prev.next=c.next,c.next&&(c.next.prev=c.prev),c.prev=null,c.next=null},c}};d.exports=h},1328:function(d){function h(c,g,v){var y=[],b=[];return c.forEach(function(O){var T=O.start,k=O.end;if(g.pointsSame(T,k)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}v&&v.chainStart(O);var w={index:0,matches_head:!1,matches_pt1:!1},C={index:0,matches_head:!1,matches_pt1:!1},_=w;function M(de,ee,xe){return _.index=de,_.matches_head=ee,_.matches_pt1=xe,_===w?(_=C,!1):(_=null,!0)}for(var I=0;I<y.length;I++){var V=y[I],N=V[0];V[1];var Q=V[V.length-1];if(V[V.length-2],g.pointsSame(N,T)){if(M(I,!0,!0))break}else if(g.pointsSame(N,k)){if(M(I,!0,!1))break}else if(g.pointsSame(Q,T)){if(M(I,!1,!0))break}else if(g.pointsSame(Q,k)&&M(I,!1,!1))break}if(_===w){y.push([T,k]),v&&v.chainNew(T,k);return}if(_===C){v&&v.chainMatch(w.index);var z=w.index,U=w.matches_pt1?k:T,F=w.matches_head,V=y[z],B=F?V[0]:V[V.length-1],E=F?V[1]:V[V.length-2],W=F?V[V.length-1]:V[0],X=F?V[V.length-2]:V[1];if(g.pointsCollinear(E,B,U)&&(F?(v&&v.chainRemoveHead(w.index,U),V.shift()):(v&&v.chainRemoveTail(w.index,U),V.pop()),B=E),g.pointsSame(W,U)){y.splice(z,1),g.pointsCollinear(X,W,B)&&(F?(v&&v.chainRemoveTail(w.index,B),V.pop()):(v&&v.chainRemoveHead(w.index,B),V.shift())),v&&v.chainClose(w.index),b.push(V);return}F?(v&&v.chainAddHead(w.index,U),V.unshift(U)):(v&&v.chainAddTail(w.index,U),V.push(U));return}function ie(de){v&&v.chainReverse(de),y[de].reverse()}function L(de,ee){var xe=y[de],we=y[ee],Be=xe[xe.length-1],pe=xe[xe.length-2],ne=we[0],le=we[1];g.pointsCollinear(pe,Be,ne)&&(v&&v.chainRemoveTail(de,Be),xe.pop(),Be=pe),g.pointsCollinear(Be,ne,le)&&(v&&v.chainRemoveHead(ee,ne),we.shift()),v&&v.chainJoin(de,ee),y[de]=xe.concat(we),y.splice(ee,1)}var me=w.index,ae=C.index;v&&v.chainConnect(me,ae);var q=y[me].length<y[ae].length;w.matches_head?C.matches_head?q?(ie(me),L(me,ae)):(ie(ae),L(ae,me)):L(ae,me):C.matches_head?L(me,ae):q?(ie(me),L(ae,me)):(ie(ae),L(me,ae))}),b}d.exports=h},5968:function(d){function h(g,v,y){var b=[];return g.forEach(function(O){var T=(O.myFill.above?8:0)+(O.myFill.below?4:0)+(O.otherFill&&O.otherFill.above?2:0)+(O.otherFill&&O.otherFill.below?1:0);v[T]!==0&&b.push({id:y?y.segmentId():-1,start:O.start,end:O.end,myFill:{above:v[T]===1,below:v[T]===2},otherFill:null})}),y&&y.selected(b),b}var c={union:function(g,v){return h(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],v)},intersect:function(g,v){return h(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],v)},difference:function(g,v){return h(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],v)},differenceRev:function(g,v){return h(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],v)},xor:function(g,v){return h(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],v)}};d.exports=c},4267:function(d,h,c){var g;(function(v){var y=/^\s+/,b=/\s+$/,O=0,T=v.round,k=v.min,w=v.max,C=v.random;function _(oe,Se){if(oe=oe||"",Se=Se||{},oe instanceof _)return oe;if(!(this instanceof _))return new _(oe,Se);var ce=M(oe);this._originalInput=oe,this._r=ce.r,this._g=ce.g,this._b=ce.b,this._a=ce.a,this._roundA=T(100*this._a)/100,this._format=Se.format||ce.format,this._gradientType=Se.gradientType,this._r<1&&(this._r=T(this._r)),this._g<1&&(this._g=T(this._g)),this._b<1&&(this._b=T(this._b)),this._ok=ce.ok,this._tc_id=O++}_.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var oe=this.toRgb();return(oe.r*299+oe.g*587+oe.b*114)/1e3},getLuminance:function(){var oe=this.toRgb(),Se,ce,ke,Qe,Ze,Xe;return Se=oe.r/255,ce=oe.g/255,ke=oe.b/255,Se<=.03928?Qe=Se/12.92:Qe=v.pow((Se+.055)/1.055,2.4),ce<=.03928?Ze=ce/12.92:Ze=v.pow((ce+.055)/1.055,2.4),ke<=.03928?Xe=ke/12.92:Xe=v.pow((ke+.055)/1.055,2.4),.2126*Qe+.7152*Ze+.0722*Xe},setAlpha:function(oe){return this._a=Y(oe),this._roundA=T(100*this._a)/100,this},toHsv:function(){var oe=Q(this._r,this._g,this._b);return{h:oe.h*360,s:oe.s,v:oe.v,a:this._a}},toHsvString:function(){var oe=Q(this._r,this._g,this._b),Se=T(oe.h*360),ce=T(oe.s*100),ke=T(oe.v*100);return this._a==1?"hsv("+Se+", "+ce+"%, "+ke+"%)":"hsva("+Se+", "+ce+"%, "+ke+"%, "+this._roundA+")"},toHsl:function(){var oe=V(this._r,this._g,this._b);return{h:oe.h*360,s:oe.s,l:oe.l,a:this._a}},toHslString:function(){var oe=V(this._r,this._g,this._b),Se=T(oe.h*360),ce=T(oe.s*100),ke=T(oe.l*100);return this._a==1?"hsl("+Se+", "+ce+"%, "+ke+"%)":"hsla("+Se+", "+ce+"%, "+ke+"%, "+this._roundA+")"},toHex:function(oe){return U(this._r,this._g,this._b,oe)},toHexString:function(oe){return"#"+this.toHex(oe)},toHex8:function(oe){return F(this._r,this._g,this._b,this._a,oe)},toHex8String:function(oe){return"#"+this.toHex8(oe)},toRgb:function(){return{r:T(this._r),g:T(this._g),b:T(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+T(this._r)+", "+T(this._g)+", "+T(this._b)+")":"rgba("+T(this._r)+", "+T(this._g)+", "+T(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:T(ve(this._r,255)*100)+"%",g:T(ve(this._g,255)*100)+"%",b:T(ve(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+T(ve(this._r,255)*100)+"%, "+T(ve(this._g,255)*100)+"%, "+T(ve(this._b,255)*100)+"%)":"rgba("+T(ve(this._r,255)*100)+"%, "+T(ve(this._g,255)*100)+"%, "+T(ve(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ne[U(this._r,this._g,this._b,!0)]||!1},toFilter:function(oe){var Se="#"+B(this._r,this._g,this._b,this._a),ce=Se,ke=this._gradientType?"GradientType = 1, ":"";if(oe){var Qe=_(oe);ce="#"+B(Qe._r,Qe._g,Qe._b,Qe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ke+"startColorstr="+Se+",endColorstr="+ce+")"},toString:function(oe){var Se=!!oe;oe=oe||this._format;var ce=!1,ke=this._a<1&&this._a>=0,Qe=!Se&&ke&&(oe==="hex"||oe==="hex6"||oe==="hex3"||oe==="hex4"||oe==="hex8"||oe==="name");return Qe?oe==="name"&&this._a===0?this.toName():this.toRgbString():(oe==="rgb"&&(ce=this.toRgbString()),oe==="prgb"&&(ce=this.toPercentageRgbString()),(oe==="hex"||oe==="hex6")&&(ce=this.toHexString()),oe==="hex3"&&(ce=this.toHexString(!0)),oe==="hex4"&&(ce=this.toHex8String(!0)),oe==="hex8"&&(ce=this.toHex8String()),oe==="name"&&(ce=this.toName()),oe==="hsl"&&(ce=this.toHslString()),oe==="hsv"&&(ce=this.toHsvString()),ce||this.toHexString())},clone:function(){return _(this.toString())},_applyModification:function(oe,Se){var ce=oe.apply(null,[this].concat([].slice.call(Se)));return this._r=ce._r,this._g=ce._g,this._b=ce._b,this.setAlpha(ce._a),this},lighten:function(){return this._applyModification(ie,arguments)},brighten:function(){return this._applyModification(L,arguments)},darken:function(){return this._applyModification(me,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(W,arguments)},greyscale:function(){return this._applyModification(X,arguments)},spin:function(){return this._applyModification(ae,arguments)},_applyCombination:function(oe,Se){return oe.apply(null,[this].concat([].slice.call(Se)))},analogous:function(){return this._applyCombination(we,arguments)},complement:function(){return this._applyCombination(q,arguments)},monochromatic:function(){return this._applyCombination(Be,arguments)},splitcomplement:function(){return this._applyCombination(xe,arguments)},triad:function(){return this._applyCombination(de,arguments)},tetrad:function(){return this._applyCombination(ee,arguments)}},_.fromRatio=function(oe,Se){if(typeof oe=="object"){var ce={};for(var ke in oe)oe.hasOwnProperty(ke)&&(ke==="a"?ce[ke]=oe[ke]:ce[ke]=_e(oe[ke]));oe=ce}return _(oe,Se)};function M(oe){var Se={r:0,g:0,b:0},ce=1,ke=null,Qe=null,Ze=null,Xe=!1,ct=!1;return typeof oe=="string"&&(oe=se(oe)),typeof oe=="object"&&(te(oe.r)&&te(oe.g)&&te(oe.b)?(Se=I(oe.r,oe.g,oe.b),Xe=!0,ct=String(oe.r).substr(-1)==="%"?"prgb":"rgb"):te(oe.h)&&te(oe.s)&&te(oe.v)?(ke=_e(oe.s),Qe=_e(oe.v),Se=z(oe.h,ke,Qe),Xe=!0,ct="hsv"):te(oe.h)&&te(oe.s)&&te(oe.l)&&(ke=_e(oe.s),Ze=_e(oe.l),Se=N(oe.h,ke,Ze),Xe=!0,ct="hsl"),oe.hasOwnProperty("a")&&(ce=oe.a)),ce=Y(ce),{ok:Xe,format:oe.format||ct,r:k(255,w(Se.r,0)),g:k(255,w(Se.g,0)),b:k(255,w(Se.b,0)),a:ce}}function I(oe,Se,ce){return{r:ve(oe,255)*255,g:ve(Se,255)*255,b:ve(ce,255)*255}}function V(oe,Se,ce){oe=ve(oe,255),Se=ve(Se,255),ce=ve(ce,255);var ke=w(oe,Se,ce),Qe=k(oe,Se,ce),Ze,Xe,ct=(ke+Qe)/2;if(ke==Qe)Ze=Xe=0;else{var pt=ke-Qe;switch(Xe=ct>.5?pt/(2-ke-Qe):pt/(ke+Qe),ke){case oe:Ze=(Se-ce)/pt+(Se<ce?6:0);break;case Se:Ze=(ce-oe)/pt+2;break;case ce:Ze=(oe-Se)/pt+4;break}Ze/=6}return{h:Ze,s:Xe,l:ct}}function N(oe,Se,ce){var ke,Qe,Ze;oe=ve(oe,360),Se=ve(Se,100),ce=ve(ce,100);function Xe(Ye,je,et){return et<0&&(et+=1),et>1&&(et-=1),et<.16666666666666666?Ye+(je-Ye)*6*et:et<.5?je:et<.6666666666666666?Ye+(je-Ye)*(.6666666666666666-et)*6:Ye}if(Se===0)ke=Qe=Ze=ce;else{var ct=ce<.5?ce*(1+Se):ce+Se-ce*Se,pt=2*ce-ct;ke=Xe(pt,ct,oe+.3333333333333333),Qe=Xe(pt,ct,oe),Ze=Xe(pt,ct,oe-.3333333333333333)}return{r:ke*255,g:Qe*255,b:Ze*255}}function Q(oe,Se,ce){oe=ve(oe,255),Se=ve(Se,255),ce=ve(ce,255);var ke=w(oe,Se,ce),Qe=k(oe,Se,ce),Ze,Xe,ct=ke,pt=ke-Qe;if(Xe=ke===0?0:pt/ke,ke==Qe)Ze=0;else{switch(ke){case oe:Ze=(Se-ce)/pt+(Se<ce?6:0);break;case Se:Ze=(ce-oe)/pt+2;break;case ce:Ze=(oe-Se)/pt+4;break}Ze/=6}return{h:Ze,s:Xe,v:ct}}function z(oe,Se,ce){oe=ve(oe,360)*6,Se=ve(Se,100),ce=ve(ce,100);var ke=v.floor(oe),Qe=oe-ke,Ze=ce*(1-Se),Xe=ce*(1-Qe*Se),ct=ce*(1-(1-Qe)*Se),pt=ke%6,Ye=[ce,Xe,Ze,Ze,ct,ce][pt],je=[ct,ce,ce,Xe,Ze,Ze][pt],et=[Ze,Ze,ct,ce,ce,Xe][pt];return{r:Ye*255,g:je*255,b:et*255}}function U(oe,Se,ce,ke){var Qe=[Ve(T(oe).toString(16)),Ve(T(Se).toString(16)),Ve(T(ce).toString(16))];return ke&&Qe[0].charAt(0)==Qe[0].charAt(1)&&Qe[1].charAt(0)==Qe[1].charAt(1)&&Qe[2].charAt(0)==Qe[2].charAt(1)?Qe[0].charAt(0)+Qe[1].charAt(0)+Qe[2].charAt(0):Qe.join("")}function F(oe,Se,ce,ke,Qe){var Ze=[Ve(T(oe).toString(16)),Ve(T(Se).toString(16)),Ve(T(ce).toString(16)),Ve(Ie(ke))];return Qe&&Ze[0].charAt(0)==Ze[0].charAt(1)&&Ze[1].charAt(0)==Ze[1].charAt(1)&&Ze[2].charAt(0)==Ze[2].charAt(1)&&Ze[3].charAt(0)==Ze[3].charAt(1)?Ze[0].charAt(0)+Ze[1].charAt(0)+Ze[2].charAt(0)+Ze[3].charAt(0):Ze.join("")}function B(oe,Se,ce,ke){var Qe=[Ve(Ie(ke)),Ve(T(oe).toString(16)),Ve(T(Se).toString(16)),Ve(T(ce).toString(16))];return Qe.join("")}_.equals=function(oe,Se){return!oe||!Se?!1:_(oe).toRgbString()==_(Se).toRgbString()},_.random=function(){return _.fromRatio({r:C(),g:C(),b:C()})};function E(oe,Se){Se=Se===0?0:Se||10;var ce=_(oe).toHsl();return ce.s-=Se/100,ce.s=Oe(ce.s),_(ce)}function W(oe,Se){Se=Se===0?0:Se||10;var ce=_(oe).toHsl();return ce.s+=Se/100,ce.s=Oe(ce.s),_(ce)}function X(oe){return _(oe).desaturate(100)}function ie(oe,Se){Se=Se===0?0:Se||10;var ce=_(oe).toHsl();return ce.l+=Se/100,ce.l=Oe(ce.l),_(ce)}function L(oe,Se){Se=Se===0?0:Se||10;var ce=_(oe).toRgb();return ce.r=w(0,k(255,ce.r-T(255*-(Se/100)))),ce.g=w(0,k(255,ce.g-T(255*-(Se/100)))),ce.b=w(0,k(255,ce.b-T(255*-(Se/100)))),_(ce)}function me(oe,Se){Se=Se===0?0:Se||10;var ce=_(oe).toHsl();return ce.l-=Se/100,ce.l=Oe(ce.l),_(ce)}function ae(oe,Se){var ce=_(oe).toHsl(),ke=(ce.h+Se)%360;return ce.h=ke<0?360+ke:ke,_(ce)}function q(oe){var Se=_(oe).toHsl();return Se.h=(Se.h+180)%360,_(Se)}function de(oe){var Se=_(oe).toHsl(),ce=Se.h;return[_(oe),_({h:(ce+120)%360,s:Se.s,l:Se.l}),_({h:(ce+240)%360,s:Se.s,l:Se.l})]}function ee(oe){var Se=_(oe).toHsl(),ce=Se.h;return[_(oe),_({h:(ce+90)%360,s:Se.s,l:Se.l}),_({h:(ce+180)%360,s:Se.s,l:Se.l}),_({h:(ce+270)%360,s:Se.s,l:Se.l})]}function xe(oe){var Se=_(oe).toHsl(),ce=Se.h;return[_(oe),_({h:(ce+72)%360,s:Se.s,l:Se.l}),_({h:(ce+216)%360,s:Se.s,l:Se.l})]}function we(oe,Se,ce){Se=Se||6,ce=ce||30;var ke=_(oe).toHsl(),Qe=360/ce,Ze=[_(oe)];for(ke.h=(ke.h-(Qe*Se>>1)+720)%360;--Se;)ke.h=(ke.h+Qe)%360,Ze.push(_(ke));return Ze}function Be(oe,Se){Se=Se||6;for(var ce=_(oe).toHsv(),ke=ce.h,Qe=ce.s,Ze=ce.v,Xe=[],ct=1/Se;Se--;)Xe.push(_({h:ke,s:Qe,v:Ze})),Ze=(Ze+ct)%1;return Xe}_.mix=function(oe,Se,ce){ce=ce===0?0:ce||50;var ke=_(oe).toRgb(),Qe=_(Se).toRgb(),Ze=ce/100,Xe={r:(Qe.r-ke.r)*Ze+ke.r,g:(Qe.g-ke.g)*Ze+ke.g,b:(Qe.b-ke.b)*Ze+ke.b,a:(Qe.a-ke.a)*Ze+ke.a};return _(Xe)},_.readability=function(oe,Se){var ce=_(oe),ke=_(Se);return(v.max(ce.getLuminance(),ke.getLuminance())+.05)/(v.min(ce.getLuminance(),ke.getLuminance())+.05)},_.isReadable=function(oe,Se,ce){var ke=_.readability(oe,Se),Qe,Ze;switch(Ze=!1,Qe=fe(ce),Qe.level+Qe.size){case"AAsmall":case"AAAlarge":Ze=ke>=4.5;break;case"AAlarge":Ze=ke>=3;break;case"AAAsmall":Ze=ke>=7;break}return Ze},_.mostReadable=function(oe,Se,ce){var ke=null,Qe=0,Ze,Xe,ct,pt;ce=ce||{},Xe=ce.includeFallbackColors,ct=ce.level,pt=ce.size;for(var Ye=0;Ye<Se.length;Ye++)Ze=_.readability(oe,Se[Ye]),Ze>Qe&&(Qe=Ze,ke=_(Se[Ye]));return _.isReadable(oe,ke,{level:ct,size:pt})||!Xe?ke:(ce.includeFallbackColors=!1,_.mostReadable(oe,["#fff","#000"],ce))};var pe=_.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ne=_.hexNames=le(pe);function le(oe){var Se={};for(var ce in oe)oe.hasOwnProperty(ce)&&(Se[oe[ce]]=ce);return Se}function Y(oe){return oe=parseFloat(oe),(isNaN(oe)||oe<0||oe>1)&&(oe=1),oe}function ve(oe,Se){Te(oe)&&(oe="100%");var ce=De(oe);return oe=k(Se,w(0,parseFloat(oe))),ce&&(oe=parseInt(oe*Se,10)/100),v.abs(oe-Se)<1e-6?1:oe%Se/parseFloat(Se)}function Oe(oe){return k(1,w(0,oe))}function Le(oe){return parseInt(oe,16)}function Te(oe){return typeof oe=="string"&&oe.indexOf(".")!=-1&&parseFloat(oe)===1}function De(oe){return typeof oe=="string"&&oe.indexOf("%")!=-1}function Ve(oe){return oe.length==1?"0"+oe:""+oe}function _e(oe){return oe<=1&&(oe=oe*100+"%"),oe}function Ie(oe){return v.round(parseFloat(oe)*255).toString(16)}function re(oe){return Le(oe)/255}var be=function(){var oe="[-\\+]?\\d+%?",Se="[-\\+]?\\d*\\.\\d+%?",ce="(?:"+Se+")|(?:"+oe+")",ke="[\\s|\\(]+("+ce+")[,|\\s]+("+ce+")[,|\\s]+("+ce+")\\s*\\)?",Qe="[\\s|\\(]+("+ce+")[,|\\s]+("+ce+")[,|\\s]+("+ce+")[,|\\s]+("+ce+")\\s*\\)?";return{CSS_UNIT:new RegExp(ce),rgb:new RegExp("rgb"+ke),rgba:new RegExp("rgba"+Qe),hsl:new RegExp("hsl"+ke),hsla:new RegExp("hsla"+Qe),hsv:new RegExp("hsv"+ke),hsva:new RegExp("hsva"+Qe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function te(oe){return!!be.CSS_UNIT.exec(oe)}function se(oe){oe=oe.replace(y,"").replace(b,"").toLowerCase();var Se=!1;if(pe[oe])oe=pe[oe],Se=!0;else if(oe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ce;return(ce=be.rgb.exec(oe))?{r:ce[1],g:ce[2],b:ce[3]}:(ce=be.rgba.exec(oe))?{r:ce[1],g:ce[2],b:ce[3],a:ce[4]}:(ce=be.hsl.exec(oe))?{h:ce[1],s:ce[2],l:ce[3]}:(ce=be.hsla.exec(oe))?{h:ce[1],s:ce[2],l:ce[3],a:ce[4]}:(ce=be.hsv.exec(oe))?{h:ce[1],s:ce[2],v:ce[3]}:(ce=be.hsva.exec(oe))?{h:ce[1],s:ce[2],v:ce[3],a:ce[4]}:(ce=be.hex8.exec(oe))?{r:Le(ce[1]),g:Le(ce[2]),b:Le(ce[3]),a:re(ce[4]),format:Se?"name":"hex8"}:(ce=be.hex6.exec(oe))?{r:Le(ce[1]),g:Le(ce[2]),b:Le(ce[3]),format:Se?"name":"hex"}:(ce=be.hex4.exec(oe))?{r:Le(ce[1]+""+ce[1]),g:Le(ce[2]+""+ce[2]),b:Le(ce[3]+""+ce[3]),a:re(ce[4]+""+ce[4]),format:Se?"name":"hex8"}:(ce=be.hex3.exec(oe))?{r:Le(ce[1]+""+ce[1]),g:Le(ce[2]+""+ce[2]),b:Le(ce[3]+""+ce[3]),format:Se?"name":"hex"}:!1}function fe(oe){var Se,ce;return oe=oe||{level:"AA",size:"small"},Se=(oe.level||"AA").toUpperCase(),ce=(oe.size||"small").toLowerCase(),Se!=="AA"&&Se!=="AAA"&&(Se="AA"),ce!=="small"&&ce!=="large"&&(ce="small"),{level:Se,size:ce}}d.exports?d.exports=_:(g=(function(){return _}).call(h,c,h,d),g!==void 0&&(d.exports=g))})(Math)},3961:function(d,h,c){var g=c(3489),v=c(6131),y=g.instance();function b(V){this.local=this.regionalOptions[V||""]||this.regionalOptions[""]}b.prototype=new g.baseCalendar,v(b.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(V,N){if(typeof V=="string"){var Q=V.match(T);return Q?Q[0]:""}var z=this._validateYear(V),U=V.month(),F=""+this.toChineseMonth(z,U);return N&&F.length<2&&(F="0"+F),this.isIntercalaryMonth(z,U)&&(F+="i"),F},monthNames:function(V){if(typeof V=="string"){var N=V.match(k);return N?N[0]:""}var Q=this._validateYear(V),z=V.month(),U=this.toChineseMonth(Q,z),F=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][U-1];return this.isIntercalaryMonth(Q,z)&&(F="闰"+F),F},monthNamesShort:function(V){if(typeof V=="string"){var N=V.match(w);return N?N[0]:""}var Q=this._validateYear(V),z=V.month(),U=this.toChineseMonth(Q,z),F=["一","二","三","四","五","六","七","八","九","十","十一","十二"][U-1];return this.isIntercalaryMonth(Q,z)&&(F="闰"+F),F},parseMonth:function(V,N){V=this._validateYear(V);var Q=parseInt(N),z;if(isNaN(Q))N[0]==="闰"&&(z=!0,N=N.substring(1)),N[N.length-1]==="月"&&(N=N.substring(0,N.length-1)),Q=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(N);else{var U=N[N.length-1];z=U==="i"||U==="I"}var F=this.toMonthIndex(V,Q,z);return F},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(V,N){if(V.year&&(V=V.year()),typeof V!="number"||V<1888||V>2111)throw N.replace(/\{0\}/,this.local.name);return V},toMonthIndex:function(V,N,Q){var z=this.intercalaryMonth(V),U=Q&&N!==z;if(U||N<1||N>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var F;return z?!Q&&N<=z?F=N-1:F=N:F=N-1,F},toChineseMonth:function(V,N){V.year&&(V=V.year(),N=V.month());var Q=this.intercalaryMonth(V),z=Q?12:11;if(N<0||N>z)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var U;return Q?N<Q?U=N+1:U=N:U=N+1,U},intercalaryMonth:function(V){V=this._validateYear(V);var N=C[V-C[0]],Q=N>>13;return Q},isIntercalaryMonth:function(V,N){V.year&&(V=V.year(),N=V.month());var Q=this.intercalaryMonth(V);return!!Q&&Q===N},leapYear:function(V){return this.intercalaryMonth(V)!==0},weekOfYear:function(V,N,Q){var z=this._validateYear(V,g.local.invalidyear),U=_[z-_[0]],F=U>>9&4095,B=U>>5&15,E=U&31,W;W=y.newDate(F,B,E),W.add(4-(W.dayOfWeek()||7),"d");var X=this.toJD(V,N,Q)-W.toJD();return 1+Math.floor(X/7)},monthsInYear:function(V){return this.leapYear(V)?13:12},daysInMonth:function(V,N){V.year&&(N=V.month(),V=V.year()),V=this._validateYear(V);var Q=C[V-C[0]],z=Q>>13,U=z?12:11;if(N>U)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var F=Q&1<<12-N?30:29;return F},weekDay:function(V,N,Q){return(this.dayOfWeek(V,N,Q)||7)<6},toJD:function(V,N,Q){var z=this._validate(V,F,Q,g.local.invalidDate);V=this._validateYear(z.year()),N=z.month(),Q=z.day();var U=this.isIntercalaryMonth(V,N),F=this.toChineseMonth(V,N),B=I(V,F,Q,U);return y.toJD(B.year,B.month,B.day)},fromJD:function(V){var N=y.fromJD(V),Q=M(N.year(),N.month(),N.day()),z=this.toMonthIndex(Q.year,Q.month,Q.isIntercalary);return this.newDate(Q.year,z,Q.day)},fromString:function(V){var N=V.match(O),Q=this._validateYear(+N[1]),z=+N[2],U=!!N[3],F=this.toMonthIndex(Q,z,U),B=+N[4];return this.newDate(Q,F,B)},add:function(V,N,Q){var z=V.year(),U=V.month(),F=this.isIntercalaryMonth(z,U),B=this.toChineseMonth(z,U),E=Object.getPrototypeOf(b.prototype).add.call(this,V,N,Q);if(Q==="y"){var W=E.year(),X=E.month(),ie=this.isIntercalaryMonth(W,B),L=F&&ie?this.toMonthIndex(W,B,!0):this.toMonthIndex(W,B,!1);L!==X&&E.month(L)}return E}});var O=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,T=/^\d?\d[iI]?/m,k=/^闰?十?[一二三四五六七八九]?月/m,w=/^闰?十?[一二三四五六七八九]?/m;g.calendars.chinese=b;var C=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],_=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function M(V,N,Q,z){var U,F;if(typeof V=="object")U=V,F=N||{};else{var B=typeof V=="number"&&V>=1888&&V<=2111;if(!B)throw new Error("Solar year outside range 1888-2111");var E=typeof N=="number"&&N>=1&&N<=12;if(!E)throw new Error("Solar month outside range 1 - 12");var W=typeof Q=="number"&&Q>=1&&Q<=31;if(!W)throw new Error("Solar day outside range 1 - 31");U={year:V,month:N,day:Q},F=z||{}}var X=_[U.year-_[0]],ie=U.year<<9|U.month<<5|U.day;F.year=ie>=X?U.year:U.year-1,X=_[F.year-_[0]];var L=X>>9&4095,me=X>>5&15,ae=X&31,q,de=new Date(L,me-1,ae),ee=new Date(U.year,U.month-1,U.day);q=Math.round((ee-de)/864e5);var xe=C[F.year-C[0]],we;for(we=0;we<13;we++){var Be=xe&1<<12-we?30:29;if(q<Be)break;q-=Be}var pe=xe>>13;return!pe||we<pe?(F.isIntercalary=!1,F.month=1+we):we===pe?(F.isIntercalary=!0,F.month=we):(F.isIntercalary=!1,F.month=we),F.day=1+q,F}function I(V,N,Q,z,U){var F,B;if(typeof V=="object")B=V,F=N||{};else{var E=typeof V=="number"&&V>=1888&&V<=2111;if(!E)throw new Error("Lunar year outside range 1888-2111");var W=typeof N=="number"&&N>=1&&N<=12;if(!W)throw new Error("Lunar month outside range 1 - 12");var X=typeof Q=="number"&&Q>=1&&Q<=30;if(!X)throw new Error("Lunar day outside range 1 - 30");var ie;typeof z=="object"?(ie=!1,F=z):(ie=!!z,F=U||{}),B={year:V,month:N,day:Q,isIntercalary:ie}}var L;L=B.day-1;var me=C[B.year-C[0]],ae=me>>13,q;ae&&(B.month>ae||B.isIntercalary)?q=B.month:q=B.month-1;for(var de=0;de<q;de++){var ee=me&1<<12-de?30:29;L+=ee}var xe=_[B.year-_[0]],we=xe>>9&4095,Be=xe>>5&15,pe=xe&31,ne=new Date(we,Be-1,pe+L);return F.year=ne.getFullYear(),F.month=1+ne.getMonth(),F.day=ne.getDate(),F}},8751:function(d,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var O=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),T=O.year()+(O.year()<0?1:0);return T%4===3||T%4===-1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(b,O,T){var k=this.newDate(b,O,T);return k.add(-k.dayOfWeek(),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInMonth:function(b,O){var T=this._validate(b,O,this.minDay,g.local.invalidMonth);return this.daysPerMonth[T.month()-1]+(T.month()===13&&this.leapYear(T.year())?1:0)},weekDay:function(b,O,T){return(this.dayOfWeek(b,O,T)||7)<6},toJD:function(b,O,T){var k=this._validate(b,O,T,g.local.invalidDate);return b=k.year(),b<0&&b++,k.day()+(k.month()-1)*30+(b-1)*365+Math.floor(b/4)+this.jdEpoch-1},fromJD:function(b){var O=Math.floor(b)+.5-this.jdEpoch,T=Math.floor((O-Math.floor((O+366)/1461))/365)+1;T<=0&&T--,O=Math.floor(b)+.5-this.newDate(T,1,1).toJD();var k=Math.floor(O/30)+1,w=O-(k-1)*30+1;return this.newDate(T,k,w)}}),g.calendars.coptic=y},6825:function(d,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(O){return this._validate(O,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(O){return this._validate(O,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(O){return this._validate(O,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(O,T,k){var w=this.newDate(O,T,k);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/8)+1},daysInMonth:function(O,T){var k=this._validate(O,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(O,T,k){var w=this._validate(O,T,k,g.local.invalidDate);return(w.day()+1)%8},weekDay:function(O,T,k){var w=this.dayOfWeek(O,T,k);return w>=2&&w<=6},extraInfo:function(O,T,k){var w=this._validate(O,T,k,g.local.invalidDate);return{century:b[Math.floor((w.year()-1)/100)+1]||""}},toJD:function(O,T,k){var w=this._validate(O,T,k,g.local.invalidDate);return O=w.year()+(w.year()<0?1:0),T=w.month(),k=w.day(),k+(T>1?16:0)+(T>2?(T-2)*32:0)+(O-1)*400+this.jdEpoch-1},fromJD:function(O){O=Math.floor(O+.5)-Math.floor(this.jdEpoch)-1;var T=Math.floor(O/400)+1;O-=(T-1)*400,O+=O>15?16:0;var k=Math.floor(O/32)+1,w=O-(k-1)*32+1;return this.newDate(T<=0?T-1:T,k,w)}});var b={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=y},7715:function(d,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var O=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),T=O.year()+(O.year()<0?1:0);return T%4===3||T%4===-1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(b,O,T){var k=this.newDate(b,O,T);return k.add(-k.dayOfWeek(),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInMonth:function(b,O){var T=this._validate(b,O,this.minDay,g.local.invalidMonth);return this.daysPerMonth[T.month()-1]+(T.month()===13&&this.leapYear(T.year())?1:0)},weekDay:function(b,O,T){return(this.dayOfWeek(b,O,T)||7)<6},toJD:function(b,O,T){var k=this._validate(b,O,T,g.local.invalidDate);return b=k.year(),b<0&&b++,k.day()+(k.month()-1)*30+(b-1)*365+Math.floor(b/4)+this.jdEpoch-1},fromJD:function(b){var O=Math.floor(b)+.5-this.jdEpoch,T=Math.floor((O-Math.floor((O+366)/1461))/365)+1;T<=0&&T--,O=Math.floor(b)+.5-this.newDate(T,1,1).toJD();var k=Math.floor(O/30)+1,w=O-(k-1)*30+1;return this.newDate(T,k,w)}}),g.calendars.ethiopian=y},9384:function(d,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(O){var T=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(T.year())},_leapYear:function(O){return O=O<0?O+1:O,b(O*7+1,19)<7},monthsInYear:function(O){return this._validate(O,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(O.year?O.year():O)?13:12},weekOfYear:function(O,T,k){var w=this.newDate(O,T,k);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInYear:function(O){var T=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear);return O=T.year(),this.toJD(O===-1?1:O+1,7,1)-this.toJD(O,7,1)},daysInMonth:function(O,T){return O.year&&(T=O.month(),O=O.year()),this._validate(O,T,this.minDay,g.local.invalidMonth),T===12&&this.leapYear(O)||T===8&&b(this.daysInYear(O),10)===5?30:T===9&&b(this.daysInYear(O),10)===3?29:this.daysPerMonth[T-1]},weekDay:function(O,T,k){return this.dayOfWeek(O,T,k)!==6},extraInfo:function(O,T,k){var w=this._validate(O,T,k,g.local.invalidDate);return{yearType:(this.leapYear(w)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(w)%10-3]}},toJD:function(O,T,k){var w=this._validate(O,T,k,g.local.invalidDate);O=w.year(),T=w.month(),k=w.day();var C=O<=0?O+1:O,_=this.jdEpoch+this._delay1(C)+this._delay2(C)+k+1;if(T<7){for(var M=7;M<=this.monthsInYear(O);M++)_+=this.daysInMonth(O,M);for(var M=1;M<T;M++)_+=this.daysInMonth(O,M)}else for(var M=7;M<T;M++)_+=this.daysInMonth(O,M);return _},_delay1:function(O){var T=Math.floor((235*O-234)/19),k=12084+13753*T,w=T*29+Math.floor(k/25920);return b(3*(w+1),7)<3&&w++,w},_delay2:function(O){var T=this._delay1(O-1),k=this._delay1(O),w=this._delay1(O+1);return w-k===356?2:k-T===382?1:0},fromJD:function(O){O=Math.floor(O)+.5;for(var T=Math.floor((O-this.jdEpoch)*98496/35975351)-1;O>=this.toJD(T===-1?1:T+1,7,1);)T++;for(var k=O<this.toJD(T,1,1)?7:1;O>this.toJD(T,k,this.daysInMonth(T,k));)k++;var w=O-this.toJD(T,k,1)+1;return this.newDate(T,k,w)}});function b(O,T){return O-T*Math.floor(O/T)}g.calendars.hebrew=y},3805:function(d,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var O=this._validate(b,this.minMonth,this.minDay,g.local.invalidYear);return(O.year()*11+14)%30<11},weekOfYear:function(b,O,T){var k=this.newDate(b,O,T);return k.add(-k.dayOfWeek(),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInYear:function(b){return this.leapYear(b)?355:354},daysInMonth:function(b,O){var T=this._validate(b,O,this.minDay,g.local.invalidMonth);return this.daysPerMonth[T.month()-1]+(T.month()===12&&this.leapYear(T.year())?1:0)},weekDay:function(b,O,T){return this.dayOfWeek(b,O,T)!==5},toJD:function(b,O,T){var k=this._validate(b,O,T,g.local.invalidDate);return b=k.year(),O=k.month(),T=k.day(),b=b<=0?b+1:b,T+Math.ceil(29.5*(O-1))+(b-1)*354+Math.floor((3+11*b)/30)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b)+.5;var O=Math.floor((30*(b-this.jdEpoch)+10646)/10631);O=O<=0?O-1:O;var T=Math.min(12,Math.ceil((b-29-this.toJD(O,1,1))/29.5)+1),k=b-this.toJD(O,T,1)+1;return this.newDate(O,T,k)}}),g.calendars.islamic=y},8874:function(d,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var O=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),T=O.year()<0?O.year()+1:O.year();return T%4===0},weekOfYear:function(b,O,T){var k=this.newDate(b,O,T);return k.add(4-(k.dayOfWeek()||7),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInMonth:function(b,O){var T=this._validate(b,O,this.minDay,g.local.invalidMonth);return this.daysPerMonth[T.month()-1]+(T.month()===2&&this.leapYear(T.year())?1:0)},weekDay:function(b,O,T){return(this.dayOfWeek(b,O,T)||7)<6},toJD:function(b,O,T){var k=this._validate(b,O,T,g.local.invalidDate);return b=k.year(),O=k.month(),T=k.day(),b<0&&b++,O<=2&&(b--,O+=12),Math.floor(365.25*(b+4716))+Math.floor(30.6001*(O+1))+T-1524.5},fromJD:function(b){var O=Math.floor(b+.5),T=O+1524,k=Math.floor((T-122.1)/365.25),w=Math.floor(365.25*k),C=Math.floor((T-w)/30.6001),_=C-Math.floor(C<14?1:13),M=k-Math.floor(_>2?4716:4715),I=T-w-Math.floor(30.6001*C);return M<=0&&M--,this.newDate(M,_,I)}}),g.calendars.julian=y},3290:function(d,h,c){var g=c(3489),v=c(6131);function y(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(T){var k=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);T=k.year();var w=Math.floor(T/400);T=T%400,T+=T<0?400:0;var C=Math.floor(T/20);return w+"."+C+"."+T%20},forYear:function(T){if(T=T.split("."),T.length<3)throw"Invalid Mayan year";for(var k=0,w=0;w<T.length;w++){var C=parseInt(T[w],10);if(Math.abs(C)>19||w>0&&C<0)throw"Invalid Mayan year";k=k*20+C}return k},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(T,k,w){return this._validate(T,k,w,g.local.invalidDate),0},daysInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(T,k){return this._validate(T,k,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(T,k,w){var C=this._validate(T,k,w,g.local.invalidDate);return C.day()},weekDay:function(T,k,w){return this._validate(T,k,w,g.local.invalidDate),!0},extraInfo:function(T,k,w){var C=this._validate(T,k,w,g.local.invalidDate),_=C.toJD(),M=this._toHaab(_),I=this._toTzolkin(_);return{haabMonthName:this.local.haabMonths[M[0]-1],haabMonth:M[0],haabDay:M[1],tzolkinDayName:this.local.tzolkinMonths[I[0]-1],tzolkinDay:I[0],tzolkinTrecena:I[1]}},_toHaab:function(T){T-=this.jdEpoch;var k=b(T+8+(18-1)*20,365);return[Math.floor(k/20)+1,b(k,20)]},_toTzolkin:function(T){return T-=this.jdEpoch,[O(T+20,20),O(T+4,13)]},toJD:function(T,k,w){var C=this._validate(T,k,w,g.local.invalidDate);return C.day()+C.month()*20+C.year()*360+this.jdEpoch},fromJD:function(T){T=Math.floor(T)+.5-this.jdEpoch;var k=Math.floor(T/360);T=T%360,T+=T<0?360:0;var w=Math.floor(T/20),C=T%20;return this.newDate(k,w,C)}});function b(T,k){return T-k*Math.floor(T/k)}function O(T,k){return b(T-1,k)+1}g.calendars.mayan=y},9108:function(d,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar;var b=g.instance("gregorian");v(y.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(O){var T=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return b.leapYear(T.year()+(T.year()<1?1:0)+1469)},weekOfYear:function(O,T,k){var w=this.newDate(O,T,k);return w.add(1-(w.dayOfWeek()||7),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(O,T){var k=this._validate(O,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===12&&this.leapYear(k.year())?1:0)},weekDay:function(O,T,k){return(this.dayOfWeek(O,T,k)||7)<6},toJD:function(C,T,k){var w=this._validate(C,T,k,g.local.invalidMonth),C=w.year();C<0&&C++;for(var _=w.day(),M=1;M<w.month();M++)_+=this.daysPerMonth[M-1];return _+b.toJD(C+1468,3,13)},fromJD:function(O){O=Math.floor(O+.5);for(var T=Math.floor((O-(this.jdEpoch-1))/366);O>=this.toJD(T+1,1,1);)T++;for(var k=O-Math.floor(this.toJD(T,1,1)+.5)+1,w=1;k>this.daysInMonth(T,w);)k-=this.daysInMonth(T,w),w++;return this.newDate(T,w,k)}}),g.calendars.nanakshahi=y},5422:function(d,h,c){var g=c(3489),v=c(6131);function y(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(b){return this.daysInYear(b)!==this.daysPerYear},weekOfYear:function(b,O,T){var k=this.newDate(b,O,T);return k.add(-k.dayOfWeek(),"d"),Math.floor((k.dayOfYear()-1)/7)+1},daysInYear:function(b){var O=this._validate(b,this.minMonth,this.minDay,g.local.invalidYear);if(b=O.year(),typeof this.NEPALI_CALENDAR_DATA[b]>"u")return this.daysPerYear;for(var T=0,k=this.minMonth;k<=12;k++)T+=this.NEPALI_CALENDAR_DATA[b][k];return T},daysInMonth:function(b,O){return b.year&&(O=b.month(),b=b.year()),this._validate(b,O,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[b]>"u"?this.daysPerMonth[O-1]:this.NEPALI_CALENDAR_DATA[b][O]},weekDay:function(b,O,T){return this.dayOfWeek(b,O,T)!==6},toJD:function(b,O,T){var k=this._validate(b,O,T,g.local.invalidDate);b=k.year(),O=k.month(),T=k.day();var w=g.instance(),C=0,_=O,M=b;this._createMissingCalendarData(b);var I=b-(_>9||_===9&&T>=this.NEPALI_CALENDAR_DATA[M][0]?56:57);for(O!==9&&(C=T,_--);_!==9;)_<=0&&(_=12,M--),C+=this.NEPALI_CALENDAR_DATA[M][_],_--;return O===9?(C+=T-this.NEPALI_CALENDAR_DATA[M][0],C<0&&(C+=w.daysInYear(I))):C+=this.NEPALI_CALENDAR_DATA[M][9]-this.NEPALI_CALENDAR_DATA[M][0],w.newDate(I,1,1).add(C,"d").toJD()},fromJD:function(b){var O=g.instance(),T=O.fromJD(b),k=T.year(),w=T.dayOfYear(),C=k+56;this._createMissingCalendarData(C);for(var _=9,M=this.NEPALI_CALENDAR_DATA[C][0],I=this.NEPALI_CALENDAR_DATA[C][_]-M+1;w>I;)_++,_>12&&(_=1,C++),I+=this.NEPALI_CALENDAR_DATA[C][_];var V=this.NEPALI_CALENDAR_DATA[C][_]-(I-w);return this.newDate(C,_,V)},_createMissingCalendarData:function(b){var O=this.daysPerMonth.slice(0);O.unshift(17);for(var T=b-1;T<b+2;T++)typeof this.NEPALI_CALENDAR_DATA[T]>"u"&&(this.NEPALI_CALENDAR_DATA[T]=O)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=y},4320:function(d,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(O){var T=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear);return((T.year()-(T.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(O,T,k){var w=this.newDate(O,T,k);return w.add(-((w.dayOfWeek()+1)%7),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(O,T){var k=this._validate(O,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===12&&this.leapYear(k.year())?1:0)},weekDay:function(O,T,k){return this.dayOfWeek(O,T,k)!==5},toJD:function(O,T,k){var w=this._validate(O,T,k,g.local.invalidDate);O=w.year(),T=w.month(),k=w.day();var C=O-(O>=0?474:473),_=474+b(C,2820);return k+(T<=7?(T-1)*31:(T-1)*30+6)+Math.floor((_*682-110)/2816)+(_-1)*365+Math.floor(C/2820)*1029983+this.jdEpoch-1},fromJD:function(O){O=Math.floor(O)+.5;var T=O-this.toJD(475,1,1),k=Math.floor(T/1029983),w=b(T,1029983),C=2820;if(w!==1029982){var _=Math.floor(w/366),M=b(w,366);C=Math.floor((2134*_+2816*M+2815)/1028522)+_+1}var I=C+2820*k+474;I=I<=0?I-1:I;var V=O-this.toJD(I,1,1)+1,N=V<=186?Math.ceil(V/31):Math.ceil((V-6)/30),Q=O-this.toJD(I,N,1)+1;return this.newDate(I,N,Q)}});function b(O,T){return O-T*Math.floor(O/T)}g.calendars.persian=y,g.calendars.jalali=y},1320:function(d,h,c){var g=c(3489),v=c(6131),y=g.instance();function b(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}b.prototype=new g.baseCalendar,v(b.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(k){var T=this._validate(k,this.minMonth,this.minDay,g.local.invalidYear),k=this._t2gYear(T.year());return y.leapYear(k)},weekOfYear:function(C,T,k){var w=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear),C=this._t2gYear(w.year());return y.weekOfYear(C,w.month(),w.day())},daysInMonth:function(O,T){var k=this._validate(O,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===2&&this.leapYear(k.year())?1:0)},weekDay:function(O,T,k){return(this.dayOfWeek(O,T,k)||7)<6},toJD:function(C,T,k){var w=this._validate(C,T,k,g.local.invalidDate),C=this._t2gYear(w.year());return y.toJD(C,w.month(),w.day())},fromJD:function(O){var T=y.fromJD(O),k=this._g2tYear(T.year());return this.newDate(k,T.month(),T.day())},_t2gYear:function(O){return O+this.yearsOffset+(O>=-this.yearsOffset&&O<=-1?1:0)},_g2tYear:function(O){return O-this.yearsOffset-(O>=1&&O<=this.yearsOffset?1:0)}}),g.calendars.taiwan=b},1367:function(d,h,c){var g=c(3489),v=c(6131),y=g.instance();function b(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}b.prototype=new g.baseCalendar,v(b.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(k){var T=this._validate(k,this.minMonth,this.minDay,g.local.invalidYear),k=this._t2gYear(T.year());return y.leapYear(k)},weekOfYear:function(C,T,k){var w=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear),C=this._t2gYear(w.year());return y.weekOfYear(C,w.month(),w.day())},daysInMonth:function(O,T){var k=this._validate(O,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[k.month()-1]+(k.month()===2&&this.leapYear(k.year())?1:0)},weekDay:function(O,T,k){return(this.dayOfWeek(O,T,k)||7)<6},toJD:function(C,T,k){var w=this._validate(C,T,k,g.local.invalidDate),C=this._t2gYear(w.year());return y.toJD(C,w.month(),w.day())},fromJD:function(O){var T=y.fromJD(O),k=this._g2tYear(T.year());return this.newDate(k,T.month(),T.day())},_t2gYear:function(O){return O-this.yearsOffset-(O>=1&&O<=this.yearsOffset?1:0)},_g2tYear:function(O){return O+this.yearsOffset+(O>=-this.yearsOffset&&O<=-1?1:0)}}),g.calendars.thai=b},1457:function(d,h,c){var g=c(3489),v=c(6131);function y(O){this.local=this.regionalOptions[O||""]||this.regionalOptions[""]}y.prototype=new g.baseCalendar,v(y.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(O){var T=this._validate(O,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(T.year())===355},weekOfYear:function(O,T,k){var w=this.newDate(O,T,k);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInYear:function(O){for(var T=0,k=1;k<=12;k++)T+=this.daysInMonth(O,k);return T},daysInMonth:function(O,T){for(var k=this._validate(O,T,this.minDay,g.local.invalidMonth),w=k.toJD()-24e5+.5,C=0,_=0;_<b.length;_++){if(b[_]>w)return b[C]-b[C-1];C++}return 30},weekDay:function(O,T,k){return this.dayOfWeek(O,T,k)!==5},toJD:function(O,T,k){var w=this._validate(O,T,k,g.local.invalidDate),C=12*(w.year()-1)+w.month()-15292,_=w.day()+b[C-1]-1;return _+24e5-.5},fromJD:function(O){for(var T=O-24e5+.5,k=0,w=0;w<b.length&&!(b[w]>T);w++)k++;var C=k+15292,_=Math.floor((C-1)/12),M=_+1,I=C-12*_,V=T-b[k-1]+1;return this.newDate(M,I,V)},isValid:function(O,T,k){var w=g.baseCalendar.prototype.isValid.apply(this,arguments);return w&&(O=O.year!=null?O.year:O,w=O>=1276&&O<=1500),w},_validate:function(O,T,k,w){var C=g.baseCalendar.prototype._validate.apply(this,arguments);if(C.year<1276||C.year>1500)throw w.replace(/\{0\}/,this.local.name);return C}}),g.calendars.ummalqura=y;var b=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(d,h,c){var g=c(6131);function v(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(v.prototype,{instance:function(w,C){w=(w||"gregorian").toLowerCase(),C=C||"";var _=this._localCals[w+"-"+C];if(!_&&this.calendars[w]&&(_=new this.calendars[w](C),this._localCals[w+"-"+C]=_),!_)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,w);return _},newDate:function(w,C,_,M,I){return M=(w!=null&&w.year?w.calendar():typeof M=="string"?this.instance(M,I):M)||this.instance(),M.newDate(w,C,_)},substituteDigits:function(w){return function(C){return(C+"").replace(/[0-9]/g,function(_){return w[_]})}},substituteChineseDigits:function(w,C){return function(_){for(var M="",I=0;_>0;){var V=_%10;M=(V===0?"":w[V]+C[I])+M,I++,_=Math.floor(_/10)}return M.indexOf(w[1]+C[1])===0&&(M=M.substr(1)),M||w[0]}}});function y(w,C,_,M){if(this._calendar=w,this._year=C,this._month=_,this._day=M,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(k.local.invalidDate||k.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function b(w,C){return w=""+w,"000000".substring(0,C-w.length)+w}g(y.prototype,{newDate:function(w,C,_){return this._calendar.newDate(w??this,C,_)},year:function(w){return arguments.length===0?this._year:this.set(w,"y")},month:function(w){return arguments.length===0?this._month:this.set(w,"m")},day:function(w){return arguments.length===0?this._day:this.set(w,"d")},date:function(w,C,_){if(!this._calendar.isValid(w,C,_))throw(k.local.invalidDate||k.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=w,this._month=C,this._day=_,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(w,C){return this._calendar.add(this,w,C)},set:function(w,C){return this._calendar.set(this,w,C)},compareTo:function(w){if(this._calendar.name!==w._calendar.name)throw(k.local.differentCalendars||k.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,w._calendar.local.name);var C=this._year!==w._year?this._year-w._year:this._month!==w._month?this.monthOfYear()-w.monthOfYear():this._day-w._day;return C===0?0:C<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(w){return this._calendar.fromJD(w)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(w){return this._calendar.fromJSDate(w)},toString:function(){return(this.year()<0?"-":"")+b(Math.abs(this.year()),4)+"-"+b(this.month(),2)+"-"+b(this.day(),2)}});function O(){this.shortYearCutoff="+10"}g(O.prototype,{_validateLevel:0,newDate:function(w,C,_){return w==null?this.today():(w.year&&(this._validate(w,C,_,k.local.invalidDate||k.regionalOptions[""].invalidDate),_=w.day(),C=w.month(),w=w.year()),new y(this,w,C,_))},today:function(){return this.fromJSDate(new Date)},epoch:function(w){var C=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear);return C.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(w){var C=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear);return(C.year()<0?"-":"")+b(Math.abs(C.year()),4)},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear),12},monthOfYear:function(w,C){var _=this._validate(w,C,this.minDay,k.local.invalidMonth||k.regionalOptions[""].invalidMonth);return(_.month()+this.monthsInYear(_)-this.firstMonth)%this.monthsInYear(_)+this.minMonth},fromMonthOfYear:function(w,C){var _=(C+this.firstMonth-2*this.minMonth)%this.monthsInYear(w)+this.minMonth;return this._validate(w,_,this.minDay,k.local.invalidMonth||k.regionalOptions[""].invalidMonth),_},daysInYear:function(w){var C=this._validate(w,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear);return this.leapYear(C)?366:365},dayOfYear:function(w,C,_){var M=this._validate(w,C,_,k.local.invalidDate||k.regionalOptions[""].invalidDate);return M.toJD()-this.newDate(M.year(),this.fromMonthOfYear(M.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(w,C,_){var M=this._validate(w,C,_,k.local.invalidDate||k.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(M))+2)%this.daysInWeek()},extraInfo:function(w,C,_){return this._validate(w,C,_,k.local.invalidDate||k.regionalOptions[""].invalidDate),{}},add:function(w,C,_){return this._validate(w,this.minMonth,this.minDay,k.local.invalidDate||k.regionalOptions[""].invalidDate),this._correctAdd(w,this._add(w,C,_),C,_)},_add:function(w,C,_){if(this._validateLevel++,_==="d"||_==="w"){var M=w.toJD()+C*(_==="w"?this.daysInWeek():1),I=w.calendar().fromJD(M);return this._validateLevel--,[I.year(),I.month(),I.day()]}try{var V=w.year()+(_==="y"?C:0),N=w.monthOfYear()+(_==="m"?C:0),I=w.day(),Q=function(F){for(;N<F.minMonth;)V--,N+=F.monthsInYear(V);for(var B=F.monthsInYear(V);N>B-1+F.minMonth;)V++,N-=B,B=F.monthsInYear(V)};_==="y"?(w.month()!==this.fromMonthOfYear(V,N)&&(N=this.newDate(V,w.month(),this.minDay).monthOfYear()),N=Math.min(N,this.monthsInYear(V)),I=Math.min(I,this.daysInMonth(V,this.fromMonthOfYear(V,N)))):_==="m"&&(Q(this),I=Math.min(I,this.daysInMonth(V,this.fromMonthOfYear(V,N))));var z=[V,this.fromMonthOfYear(V,N),I];return this._validateLevel--,z}catch(U){throw this._validateLevel--,U}},_correctAdd:function(w,C,_,M){if(!this.hasYearZero&&(M==="y"||M==="m")&&(C[0]===0||w.year()>0!=C[0]>0)){var I={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[M],V=_<0?-1:1;C=this._add(w,_*I[0]+V*I[1],I[2])}return w.date(C[0],C[1],C[2])},set:function(w,C,_){this._validate(w,this.minMonth,this.minDay,k.local.invalidDate||k.regionalOptions[""].invalidDate);var M=_==="y"?C:w.year(),I=_==="m"?C:w.month(),V=_==="d"?C:w.day();return(_==="y"||_==="m")&&(V=Math.min(V,this.daysInMonth(M,I))),w.date(M,I,V)},isValid:function(w,C,_){this._validateLevel++;var M=this.hasYearZero||w!==0;if(M){var I=this.newDate(w,C,this.minDay);M=C>=this.minMonth&&C-this.minMonth<this.monthsInYear(I)&&_>=this.minDay&&_-this.minDay<this.daysInMonth(I)}return this._validateLevel--,M},toJSDate:function(w,C,_){var M=this._validate(w,C,_,k.local.invalidDate||k.regionalOptions[""].invalidDate);return k.instance().fromJD(this.toJD(M)).toJSDate()},fromJSDate:function(w){return this.fromJD(k.instance().fromJSDate(w).toJD())},_validate:function(w,C,_,M){if(w.year){if(this._validateLevel===0&&this.name!==w.calendar().name)throw(k.local.differentCalendars||k.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,w.calendar().local.name);return w}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(w,C,_))throw M.replace(/\{0\}/,this.local.name);var I=this.newDate(w,C,_);return this._validateLevel--,I}catch(V){throw this._validateLevel--,V}}});function T(w){this.local=this.regionalOptions[w]||this.regionalOptions[""]}T.prototype=new O,g(T.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var C=this._validate(_,this.minMonth,this.minDay,k.local.invalidYear||k.regionalOptions[""].invalidYear),_=C.year()+(C.year()<0?1:0);return _%4===0&&(_%100!==0||_%400===0)},weekOfYear:function(w,C,_){var M=this.newDate(w,C,_);return M.add(4-(M.dayOfWeek()||7),"d"),Math.floor((M.dayOfYear()-1)/7)+1},daysInMonth:function(w,C){var _=this._validate(w,C,this.minDay,k.local.invalidMonth||k.regionalOptions[""].invalidMonth);return this.daysPerMonth[_.month()-1]+(_.month()===2&&this.leapYear(_.year())?1:0)},weekDay:function(w,C,_){return(this.dayOfWeek(w,C,_)||7)<6},toJD:function(w,C,_){var M=this._validate(w,C,_,k.local.invalidDate||k.regionalOptions[""].invalidDate);w=M.year(),C=M.month(),_=M.day(),w<0&&w++,C<3&&(C+=12,w--);var I=Math.floor(w/100),V=2-I+Math.floor(I/4);return Math.floor(365.25*(w+4716))+Math.floor(30.6001*(C+1))+_+V-1524.5},fromJD:function(w){var C=Math.floor(w+.5),_=Math.floor((C-186721625e-2)/36524.25);_=C+1+_-Math.floor(_/4);var M=_+1524,I=Math.floor((M-122.1)/365.25),V=Math.floor(365.25*I),N=Math.floor((M-V)/30.6001),Q=M-V-Math.floor(N*30.6001),z=N-(N>13.5?13:1),U=I-(z>2.5?4716:4715);return U<=0&&U--,this.newDate(U,z,Q)},toJSDate:function(w,C,_){var M=this._validate(w,C,_,k.local.invalidDate||k.regionalOptions[""].invalidDate),I=new Date(M.year(),M.month()-1,M.day());return I.setHours(0),I.setMinutes(0),I.setSeconds(0),I.setMilliseconds(0),I.setHours(I.getHours()>12?I.getHours()+2:0),I},fromJSDate:function(w){return this.newDate(w.getFullYear(),w.getMonth()+1,w.getDate())}});var k=d.exports=new v;k.cdate=y,k.baseCalendar=O,k.calendars.gregorian=T},4338:function(d,h,c){var g=c(6131),v=c(3489);g(v.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),v.local=v.regionalOptions[""],g(v.cdate.prototype,{formatDate:function(y,b){return typeof y!="string"&&(b=y,y=""),this._calendar.formatDate(y||"",this,b)}}),g(v.baseCalendar.prototype,{UNIX_EPOCH:v.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:v.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(y,b,O){if(typeof y!="string"&&(O=b,b=y,y=""),!b)return"";if(b.calendar()!==this)throw v.local.invalidFormat||v.regionalOptions[""].invalidFormat;y=y||this.local.dateFormat,O=O||{};var T=O.dayNamesShort||this.local.dayNamesShort,k=O.dayNames||this.local.dayNames,w=O.monthNumbers||this.local.monthNumbers,C=O.monthNamesShort||this.local.monthNamesShort,_=O.monthNames||this.local.monthNames;O.calculateWeek||this.local.calculateWeek;for(var M=function(X,ie){for(var L=1;W+L<y.length&&y.charAt(W+L)===X;)L++;return W+=L-1,Math.floor(L/(ie||1))>1},I=function(X,ie,L,me){var ae=""+ie;if(M(X,me))for(;ae.length<L;)ae="0"+ae;return ae},V=function(X,ie,L,me){return M(X)?me[ie]:L[ie]},N=this,Q=function(X){return typeof w=="function"?w.call(N,X,M("m")):F(I("m",X.month(),2))},z=function(X,ie){return ie?typeof _=="function"?_.call(N,X):_[X.month()-N.minMonth]:typeof C=="function"?C.call(N,X):C[X.month()-N.minMonth]},U=this.local.digits,F=function(X){return O.localNumbers&&U?U(X):X},B="",E=!1,W=0;W<y.length;W++)if(E)y.charAt(W)==="'"&&!M("'")?E=!1:B+=y.charAt(W);else switch(y.charAt(W)){case"d":B+=F(I("d",b.day(),2));break;case"D":B+=V("D",b.dayOfWeek(),T,k);break;case"o":B+=I("o",b.dayOfYear(),3);break;case"w":B+=I("w",b.weekOfYear(),2);break;case"m":B+=Q(b);break;case"M":B+=z(b,M("M"));break;case"y":B+=M("y",2)?b.year():(b.year()%100<10?"0":"")+b.year()%100;break;case"Y":M("Y",2),B+=b.formatYear();break;case"J":B+=b.toJD();break;case"@":B+=(b.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":B+=(b.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":M("'")?B+="'":E=!0;break;default:B+=y.charAt(W)}return B},parseDate:function(y,b,O){if(b==null)throw v.local.invalidArguments||v.regionalOptions[""].invalidArguments;if(b=typeof b=="object"?b.toString():b+"",b==="")return null;y=y||this.local.dateFormat,O=O||{};var T=O.shortYearCutoff||this.shortYearCutoff;T=typeof T!="string"?T:this.today().year()%100+parseInt(T,10);for(var k=O.dayNamesShort||this.local.dayNamesShort,w=O.dayNames||this.local.dayNames,C=O.parseMonth||this.local.parseMonth,_=O.monthNumbers||this.local.monthNumbers,M=O.monthNamesShort||this.local.monthNamesShort,I=O.monthNames||this.local.monthNames,V=-1,N=-1,Q=-1,z=-1,U=-1,F=!1,B=!1,E=function(we,Be){for(var pe=1;de+pe<y.length&&y.charAt(de+pe)===we;)pe++;return de+=pe-1,Math.floor(pe/(Be||1))>1},W=function(we,Be){var pe=E(we,Be),ne=[2,3,pe?4:2,pe?4:2,10,11,20]["oyYJ@!".indexOf(we)+1],le=new RegExp("^-?\\d{1,"+ne+"}"),Y=b.substring(q).match(le);if(!Y)throw(v.local.missingNumberAt||v.regionalOptions[""].missingNumberAt).replace(/\{0\}/,q);return q+=Y[0].length,parseInt(Y[0],10)},X=this,ie=function(){if(typeof _=="function"){E("m");var we=_.call(X,b.substring(q));return q+=we.length,we}return W("m")},L=function(we,Be,pe,ne){for(var le=E(we,ne)?pe:Be,Y=0;Y<le.length;Y++)if(b.substr(q,le[Y].length).toLowerCase()===le[Y].toLowerCase())return q+=le[Y].length,Y+X.minMonth;throw(v.local.unknownNameAt||v.regionalOptions[""].unknownNameAt).replace(/\{0\}/,q)},me=function(){if(typeof I=="function"){var we=E("M")?I.call(X,b.substring(q)):M.call(X,b.substring(q));return q+=we.length,we}return L("M",M,I)},ae=function(){if(b.charAt(q)!==y.charAt(de))throw(v.local.unexpectedLiteralAt||v.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,q);q++},q=0,de=0;de<y.length;de++)if(B)y.charAt(de)==="'"&&!E("'")?B=!1:ae();else switch(y.charAt(de)){case"d":z=W("d");break;case"D":L("D",k,w);break;case"o":U=W("o");break;case"w":W("w");break;case"m":Q=ie();break;case"M":Q=me();break;case"y":var ee=de;F=!E("y",2),de=ee,N=W("y",2);break;case"Y":N=W("Y",2);break;case"J":V=W("J")+.5,b.charAt(q)==="."&&(q++,W("J"));break;case"@":V=W("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":V=W("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":q=b.length;break;case"'":E("'")?ae():B=!0;break;default:ae()}if(q<b.length)throw v.local.unexpectedText||v.regionalOptions[""].unexpectedText;if(N===-1?N=this.today().year():N<100&&F&&(N+=T===-1?1900:this.today().year()-this.today().year()%100-(N<=T?0:100)),typeof Q=="string"&&(Q=C.call(this,N,Q)),U>-1){Q=1,z=U;for(var xe=this.daysInMonth(N,Q);z>xe;xe=this.daysInMonth(N,Q))Q++,z-=xe}return V>-1?this.fromJD(V):this.newDate(N,Q,z)},determineDate:function(y,b,O,T,k){O&&typeof O!="object"&&(k=T,T=O,O=null),typeof T!="string"&&(k=T,T="");var w=this,C=function(_){try{return w.parseDate(T,_,k)}catch{}_=_.toLowerCase();for(var M=(_.match(/^c/)&&O?O.newDate():null)||w.today(),I=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,V=I.exec(_);V;)M.add(parseInt(V[1],10),V[2]||"d"),V=I.exec(_);return M};return b=b?b.newDate():null,y=y==null?b:typeof y=="string"?C(y):typeof y=="number"?isNaN(y)||y===1/0||y===-1/0?b:w.today().add(y,"d"):w.newDate(y),y}})}},a={};function i(d){var h=a[d];if(h!==void 0)return h.exports;var c=a[d]={exports:{}};return r[d].call(c.exports,c,c.exports,i),c.exports}(function(){i.d=function(d,h){for(var c in h)i.o(h,c)&&!i.o(d,c)&&Object.defineProperty(d,c,{enumerable:!0,get:h[c]})}})(),function(){i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){i.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)}}(),function(){i.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}}();var f=i(2576);return f}()})})(Nve);var HTe=Nve.exports;const zre=ZTe(HTe),UTe=iy({props:{figure:{type:Object,required:!0},layout:{type:Object,required:!0},id:{type:String,required:!0}},setup(t){Sg(()=>{zre.newPlot(t.id,t.figure.data,t.layout)}),zo(()=>t.figure,(e,r)=>{e!==r&&zre.newPlot(t.id,e.data,t.layout)},{deep:!0}),zo(()=>t.layout,(e,r)=>{e!==r&&zre.newPlot(t.id,t.figure.data,e)},{deep:!0})}}),wg=(t,e)=>{const r=t.__vccOpts||t;for(const[a,i]of e)r[a]=i;return r},WTe=["id"];function YTe(t,e,r,a,i,f){return zr(),Js("div",{id:t.id,style:{height:"100%",width:"100%"}},null,8,WTe)}const Bve=wg(UTe,[["render",YTe]]);class Si{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,a){let i=[];return this.decompose(0,e,i,2),a.length&&a.decompose(0,a.length,i,3),this.decompose(r,this.length,i,1),W0.from(i,this.length-(r-e)+a.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){let a=[];return this.decompose(e,r,a,0),W0.from(a,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),a=this.length-this.scanIdentical(e,-1),i=new jR(this),f=new jR(e);for(let d=r,h=r;;){if(i.next(d),f.next(d),d=0,i.lineBreak!=f.lineBreak||i.done!=f.done||i.value!=f.value)return!1;if(h+=i.value.length,i.done||h>=a)return!0}}iter(e=1){return new jR(this,e)}iterRange(e,r=this.length){return new Qve(this,e,r)}iterLines(e,r){let a;if(e==null)a=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;a=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new Fve(a)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Si.empty:e.length<=32?new ru(e):W0.from(ru.split(e,[]))}}class ru extends Si{constructor(e,r=XTe(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,a,i){for(let f=0;;f++){let d=this.text[f],h=i+d.length;if((r?a:h)>=e)return new GTe(i,h,a,d);i=h+1,a++}}decompose(e,r,a,i){let f=e<=0&&r>=this.length?this:new ru(jfe(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let d=a.pop(),h=UZ(f.text,d.text.slice(),0,f.length);if(h.length<=32)a.push(new ru(h,d.length+f.length));else{let c=h.length>>1;a.push(new ru(h.slice(0,c)),new ru(h.slice(c)))}}else a.push(f)}replace(e,r,a){if(!(a instanceof ru))return super.replace(e,r,a);let i=UZ(this.text,UZ(a.text,jfe(this.text,0,e)),r),f=this.length+a.length-(r-e);return i.length<=32?new ru(i,f):W0.from(ru.split(i,[]),f)}sliceString(e,r=this.length,a=`
`){let i="";for(let f=0,d=0;f<=r&&d<this.text.length;d++){let h=this.text[d],c=f+h.length;f>e&&d&&(i+=a),e<c&&r>f&&(i+=h.slice(Math.max(0,e-f),r-f)),f=c+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let a=[],i=-1;for(let f of e)a.push(f),i+=f.length+1,a.length==32&&(r.push(new ru(a,i)),a=[],i=-1);return i>-1&&r.push(new ru(a,i)),r}}class W0 extends Si{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let a of e)this.lines+=a.lines}lineInner(e,r,a,i){for(let f=0;;f++){let d=this.children[f],h=i+d.length,c=a+d.lines-1;if((r?c:h)>=e)return d.lineInner(e,r,a,i);i=h+1,a=c+1}}decompose(e,r,a,i){for(let f=0,d=0;d<=r&&f<this.children.length;f++){let h=this.children[f],c=d+h.length;if(e<=c&&r>=d){let g=i&((d<=e?1:0)|(c>=r?2:0));d>=e&&c<=r&&!g?a.push(h):h.decompose(e-d,r-d,a,g)}d=c+1}}replace(e,r,a){if(a.lines<this.lines)for(let i=0,f=0;i<this.children.length;i++){let d=this.children[i],h=f+d.length;if(e>=f&&r<=h){let c=d.replace(e-f,r-f,a),g=this.lines-d.lines+c.lines;if(c.lines<g>>5-1&&c.lines>g>>5+1){let v=this.children.slice();return v[i]=c,new W0(v,this.length-(r-e)+a.length)}return super.replace(f,h,c)}f=h+1}return super.replace(e,r,a)}sliceString(e,r=this.length,a=`
`){let i="";for(let f=0,d=0;f<this.children.length&&d<=r;f++){let h=this.children[f],c=d+h.length;d>e&&f&&(i+=a),e<c&&r>d&&(i+=h.sliceString(e-d,r-d,a)),d=c+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof W0))return 0;let a=0,[i,f,d,h]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,f+=r){if(i==d||f==h)return a;let c=this.children[i],g=e.children[f];if(c!=g)return a+c.scanIdentical(g,r);a+=c.length+1}}static from(e,r=e.reduce((a,i)=>a+i.length+1,-1)){let a=0;for(let O of e)a+=O.lines;if(a<32){let O=[];for(let T of e)T.flatten(O);return new ru(O,r)}let i=Math.max(32,a>>5),f=i<<1,d=i>>1,h=[],c=0,g=-1,v=[];function y(O){let T;if(O.lines>f&&O instanceof W0)for(let k of O.children)y(k);else O.lines>d&&(c>d||!c)?(b(),h.push(O)):O instanceof ru&&c&&(T=v[v.length-1])instanceof ru&&O.lines+T.lines<=32?(c+=O.lines,g+=O.length+1,v[v.length-1]=new ru(T.text.concat(O.text),T.length+1+O.length)):(c+O.lines>i&&b(),c+=O.lines,g+=O.length+1,v.push(O))}function b(){c!=0&&(h.push(v.length==1?v[0]:W0.from(v,g)),g=-1,c=v.length=0)}for(let O of e)y(O);return b(),h.length==1?h[0]:new W0(h,r)}}Si.empty=new ru([""],0);function XTe(t){let e=-1;for(let r of t)e+=r.length+1;return e}function UZ(t,e,r=0,a=1e9){for(let i=0,f=0,d=!0;f<t.length&&i<=a;f++){let h=t[f],c=i+h.length;c>=r&&(c>a&&(h=h.slice(0,a-i)),i<r&&(h=h.slice(r-i)),d?(e[e.length-1]+=h,d=!1):e.push(h)),i=c+1}return e}function jfe(t,e,r){return UZ(t,[""],e,r)}class jR{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof ru?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let a=this.nodes.length-1,i=this.nodes[a],f=this.offsets[a],d=f>>1,h=i instanceof ru?i.text.length:i.children.length;if(d==(r>0?h:0)){if(a==0)return this.done=!0,this.value="",this;r>0&&this.offsets[a-1]++,this.nodes.pop(),this.offsets.pop()}else if((f&1)==(r>0?0:1)){if(this.offsets[a]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof ru){let c=i.text[d+(r<0?-1:0)];if(this.offsets[a]+=r,c.length>Math.max(0,e))return this.value=e==0?c:r>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[d+(r<0?-1:0)];e>c.length?(e-=c.length,this.offsets[a]+=r):(r<0&&this.offsets[a]--,this.nodes.push(c),this.offsets.push(r>0?1:(c instanceof ru?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Qve{constructor(e,r,a){this.value="",this.done=!1,this.cursor=new jR(e,r>a?-1:1),this.pos=r>a?e.length:0,this.from=Math.min(r,a),this.to=Math.max(r,a)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let a=r<0?this.pos-this.from:this.to-this.pos;e>a&&(e=a),a-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=a?i:r<0?i.slice(i.length-a):i.slice(0,a),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Fve{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:a,value:i}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):a?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Si.prototype[Symbol.iterator]=function(){return this.iter()},jR.prototype[Symbol.iterator]=Qve.prototype[Symbol.iterator]=Fve.prototype[Symbol.iterator]=function(){return this});let GTe=class{constructor(e,r,a,i){this.from=e,this.to=r,this.number=a,this.text=i}get length(){return this.to-this.from}},t8="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<t8.length;t++)t8[t]+=t8[t-1];function jTe(t){for(let e=1;e<t8.length;e+=2)if(t8[e]>t)return t8[e-1]<=t;return!1}function qfe(t){return t>=127462&&t<=127487}const Kfe=8205;function Jf(t,e,r=!0,a=!0){return(r?Vve:qTe)(t,e,a)}function Vve(t,e,r){if(e==t.length)return e;e&&zve(t.charCodeAt(e))&&Zve(t.charCodeAt(e-1))&&e--;let a=Xf(t,e);for(e+=Ap(a);e<t.length;){let i=Xf(t,e);if(a==Kfe||i==Kfe||r&&jTe(i))e+=Ap(i),a=i;else if(qfe(i)){let f=0,d=e-2;for(;d>=0&&qfe(Xf(t,d));)f++,d-=2;if(f%2==0)break;e+=2}else break}return e}function qTe(t,e,r){for(;e>0;){let a=Vve(t,e-2,r);if(a<e)return a;e--}return 0}function zve(t){return t>=56320&&t<57344}function Zve(t){return t>=55296&&t<56320}function Xf(t,e){let r=t.charCodeAt(e);if(!Zve(r)||e+1==t.length)return r;let a=t.charCodeAt(e+1);return zve(a)?(r-55296<<10)+(a-56320)+65536:r}function bie(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Ap(t){return t<65536?1:2}const lse=/\r\n?|\n/;var jf=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(jf||(jf={}));class ny{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let a=this.sections[r+1];e+=a<0?this.sections[r]:a}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,a=0,i=0;r<this.sections.length;){let f=this.sections[r++],d=this.sections[r++];d<0?(e(a,i,f),i+=f):i+=d,a+=f}}iterChangedRanges(e,r=!1){cse(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let a=this.sections[r++],i=this.sections[r++];i<0?e.push(a,i):e.push(i,a)}return new ny(e)}composeDesc(e){return this.empty?e:e.empty?this:Hve(this,e)}mapDesc(e,r=!1){return e.empty?this:use(this,e,r)}mapPos(e,r=-1,a=jf.Simple){let i=0,f=0;for(let d=0;d<this.sections.length;){let h=this.sections[d++],c=this.sections[d++],g=i+h;if(c<0){if(g>e)return f+(e-i);f+=h}else{if(a!=jf.Simple&&g>=e&&(a==jf.TrackDel&&i<e&&g>e||a==jf.TrackBefore&&i<e||a==jf.TrackAfter&&g>e))return null;if(g>e||g==e&&r<0&&!h)return e==i||r<0?f:f+c;f+=c}i=g}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return f}touchesRange(e,r=e){for(let a=0,i=0;a<this.sections.length&&i<=r;){let f=this.sections[a++],d=this.sections[a++],h=i+f;if(d>=0&&i<=r&&h>=e)return i<e&&h>r?"cover":!0;i=h}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let a=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+a+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ny(e)}static create(e){return new ny(e)}}class Fu extends ny{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return cse(this,(r,a,i,f,d)=>e=e.replace(i,i+(a-r),d),!1),e}mapDesc(e,r=!1){return use(this,e,r,!0)}invert(e){let r=this.sections.slice(),a=[];for(let i=0,f=0;i<r.length;i+=2){let d=r[i],h=r[i+1];if(h>=0){r[i]=h,r[i+1]=d;let c=i>>1;for(;a.length<c;)a.push(Si.empty);a.push(d?e.slice(f,f+d):Si.empty)}f+=d}return new Fu(r,a)}compose(e){return this.empty?e:e.empty?this:Hve(this,e,!0)}map(e,r=!1){return e.empty?this:use(this,e,r,!0)}iterChanges(e,r=!1){cse(this,e,r)}get desc(){return ny.create(this.sections)}filter(e){let r=[],a=[],i=[],f=new gD(this);e:for(let d=0,h=0;;){let c=d==e.length?1e9:e[d++];for(;h<c||h==c&&f.len==0;){if(f.done)break e;let v=Math.min(f.len,c-h);Ad(i,v,-1);let y=f.ins==-1?-1:f.off==0?f.ins:0;Ad(r,v,y),y>0&&bS(a,r,f.text),f.forward(v),h+=v}let g=e[d++];for(;h<g;){if(f.done)break e;let v=Math.min(f.len,g-h);Ad(r,v,-1),Ad(i,v,f.ins==-1?-1:f.off==0?f.ins:0),f.forward(v),h+=v}}return{changes:new Fu(r,a),filtered:ny.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let a=this.sections[r],i=this.sections[r+1];i<0?e.push(a):i==0?e.push([a]):e.push([a].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,a){let i=[],f=[],d=0,h=null;function c(v=!1){if(!v&&!i.length)return;d<r&&Ad(i,r-d,-1);let y=new Fu(i,f);h=h?h.compose(y.map(h)):y,i=[],f=[],d=0}function g(v){if(Array.isArray(v))for(let y of v)g(y);else if(v instanceof Fu){if(v.length!=r)throw new RangeError(`Mismatched change set length (got ${v.length}, expected ${r})`);c(),h=h?h.compose(v.map(h)):v}else{let{from:y,to:b=y,insert:O}=v;if(y>b||y<0||b>r)throw new RangeError(`Invalid change range ${y} to ${b} (in doc of length ${r})`);let T=O?typeof O=="string"?Si.of(O.split(a||lse)):O:Si.empty,k=T.length;if(y==b&&k==0)return;y<d&&c(),y>d&&Ad(i,y-d,-1),Ad(i,b-y,k),bS(f,i,T),d=b}}return g(e),c(!h),h}static empty(e){return new Fu(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],a=[];for(let i=0;i<e.length;i++){let f=e[i];if(typeof f=="number")r.push(f,-1);else{if(!Array.isArray(f)||typeof f[0]!="number"||f.some((d,h)=>h&&typeof d!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(f.length==1)r.push(f[0],0);else{for(;a.length<i;)a.push(Si.empty);a[i]=Si.of(f.slice(1)),r.push(f[0],a[i].length)}}}return new Fu(r,a)}static createSet(e,r){return new Fu(e,r)}}function Ad(t,e,r,a=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=r:a?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function bS(t,e,r){if(r.length==0)return;let a=e.length-2>>1;if(a<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<a;)t.push(Si.empty);t.push(r)}}function cse(t,e,r){let a=t.inserted;for(let i=0,f=0,d=0;d<t.sections.length;){let h=t.sections[d++],c=t.sections[d++];if(c<0)i+=h,f+=h;else{let g=i,v=f,y=Si.empty;for(;g+=h,v+=c,c&&a&&(y=y.append(a[d-2>>1])),!(r||d==t.sections.length||t.sections[d+1]<0);)h=t.sections[d++],c=t.sections[d++];e(i,g,f,v,y),i=g,f=v}}}function use(t,e,r,a=!1){let i=[],f=a?[]:null,d=new gD(t),h=new gD(e);for(let c=-1;;)if(d.ins==-1&&h.ins==-1){let g=Math.min(d.len,h.len);Ad(i,g,-1),d.forward(g),h.forward(g)}else if(h.ins>=0&&(d.ins<0||c==d.i||d.off==0&&(h.len<d.len||h.len==d.len&&!r))){let g=h.len;for(Ad(i,h.ins,-1);g;){let v=Math.min(d.len,g);d.ins>=0&&c<d.i&&d.len<=v&&(Ad(i,0,d.ins),f&&bS(f,i,d.text),c=d.i),d.forward(v),g-=v}h.next()}else if(d.ins>=0){let g=0,v=d.len;for(;v;)if(h.ins==-1){let y=Math.min(v,h.len);g+=y,v-=y,h.forward(y)}else if(h.ins==0&&h.len<v)v-=h.len,h.next();else break;Ad(i,g,c<d.i?d.ins:0),f&&c<d.i&&bS(f,i,d.text),c=d.i,d.forward(d.len-v)}else{if(d.done&&h.done)return f?Fu.createSet(i,f):ny.create(i);throw new Error("Mismatched change set lengths")}}function Hve(t,e,r=!1){let a=[],i=r?[]:null,f=new gD(t),d=new gD(e);for(let h=!1;;){if(f.done&&d.done)return i?Fu.createSet(a,i):ny.create(a);if(f.ins==0)Ad(a,f.len,0,h),f.next();else if(d.len==0&&!d.done)Ad(a,0,d.ins,h),i&&bS(i,a,d.text),d.next();else{if(f.done||d.done)throw new Error("Mismatched change set lengths");{let c=Math.min(f.len2,d.len),g=a.length;if(f.ins==-1){let v=d.ins==-1?-1:d.off?0:d.ins;Ad(a,c,v,h),i&&v&&bS(i,a,d.text)}else d.ins==-1?(Ad(a,f.off?0:f.len,c,h),i&&bS(i,a,f.textBit(c))):(Ad(a,f.off?0:f.len,d.off?0:d.ins,h),i&&!d.off&&bS(i,a,d.text));h=(f.ins>c||d.ins>=0&&d.len>c)&&(h||a.length>g),f.forward2(c),d.forward(c)}}}}class gD{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Si.empty:e[r]}textBit(e){let{inserted:r}=this.set,a=this.i-2>>1;return a>=r.length&&!e?Si.empty:r[a].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class _T{constructor(e,r,a){this.from=e,this.to=r,this.flags=a}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let a,i;return this.empty?a=i=e.mapPos(this.from,r):(a=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),a==this.from&&i==this.to?this:new _T(a,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return xr.range(e,r);let a=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return xr.range(this.anchor,a)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return xr.range(e.anchor,e.head)}static create(e,r,a){return new _T(e,r,a)}}class xr{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:xr.create(this.ranges.map(a=>a.map(e,r)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new xr([this.main],0)}addRange(e,r=!0){return xr.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let a=this.ranges.slice();return a[r]=e,xr.create(a,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new xr(e.ranges.map(r=>_T.fromJSON(r)),e.main)}static single(e,r=e){return new xr([xr.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let a=0,i=0;i<e.length;i++){let f=e[i];if(f.empty?f.from<=a:f.from<a)return xr.normalized(e.slice(),r);a=f.to}return new xr(e,r)}static cursor(e,r=0,a,i){return _T.create(e,e,(r==0?0:r<0?8:16)|(a==null?7:Math.min(6,a))|(i??16777215)<<6)}static range(e,r,a,i){let f=(a??16777215)<<6|(i==null?7:Math.min(6,i));return r<e?_T.create(r,e,48|f):_T.create(e,r,(r>e?8:0)|f)}static normalized(e,r=0){let a=e[r];e.sort((i,f)=>i.from-f.from),r=e.indexOf(a);for(let i=1;i<e.length;i++){let f=e[i],d=e[i-1];if(f.empty?f.from<=d.to:f.from<d.to){let h=d.from,c=Math.max(f.to,d.to);i<=r&&r--,e.splice(--i,2,f.anchor>f.head?xr.range(c,h):xr.range(h,c))}}return new xr(e,r)}}function Uve(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let Oie=0;class ss{constructor(e,r,a,i,f){this.combine=e,this.compareInput=r,this.compare=a,this.isStatic=i,this.id=Oie++,this.default=e([]),this.extensions=typeof f=="function"?f(this):f}get reader(){return this}static define(e={}){return new ss(e.combine||(r=>r),e.compareInput||((r,a)=>r===a),e.compare||(e.combine?(r,a)=>r===a:xie),!!e.static,e.enables)}of(e){return new WZ([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new WZ(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new WZ(e,this,2,r)}from(e,r){return r||(r=a=>a),this.compute([e],a=>r(a.field(e)))}}function xie(t,e){return t==e||t.length==e.length&&t.every((r,a)=>r===e[a])}class WZ{constructor(e,r,a,i){this.dependencies=e,this.facet=r,this.type=a,this.value=i,this.id=Oie++}dynamicSlot(e){var r;let a=this.value,i=this.facet.compareInput,f=this.id,d=e[f]>>1,h=this.type==2,c=!1,g=!1,v=[];for(let y of this.dependencies)y=="doc"?c=!0:y=="selection"?g=!0:((r=e[y.id])!==null&&r!==void 0?r:1)&1||v.push(e[y.id]);return{create(y){return y.values[d]=a(y),1},update(y,b){if(c&&b.docChanged||g&&(b.docChanged||b.selection)||fse(y,v)){let O=a(y);if(h?!Jfe(O,y.values[d],i):!i(O,y.values[d]))return y.values[d]=O,1}return 0},reconfigure:(y,b)=>{let O,T=b.config.address[f];if(T!=null){let k=yH(b,T);if(this.dependencies.every(w=>w instanceof ss?b.facet(w)===y.facet(w):w instanceof Hu?b.field(w,!1)==y.field(w,!1):!0)||(h?Jfe(O=a(y),k,i):i(O=a(y),k)))return y.values[d]=k,0}else O=a(y);return y.values[d]=O,1}}}}function Jfe(t,e,r){if(t.length!=e.length)return!1;for(let a=0;a<t.length;a++)if(!r(t[a],e[a]))return!1;return!0}function fse(t,e){let r=!1;for(let a of e)qR(t,a)&1&&(r=!0);return r}function KTe(t,e,r){let a=r.map(c=>t[c.id]),i=r.map(c=>c.type),f=a.filter(c=>!(c&1)),d=t[e.id]>>1;function h(c){let g=[];for(let v=0;v<a.length;v++){let y=yH(c,a[v]);if(i[v]==2)for(let b of y)g.push(b);else g.push(y)}return e.combine(g)}return{create(c){for(let g of a)qR(c,g);return c.values[d]=h(c),1},update(c,g){if(!fse(c,f))return 0;let v=h(c);return e.compare(v,c.values[d])?0:(c.values[d]=v,1)},reconfigure(c,g){let v=fse(c,a),y=g.config.facets[e.id],b=g.facet(e);if(y&&!v&&xie(r,y))return c.values[d]=b,0;let O=h(c);return e.compare(O,b)?(c.values[d]=b,0):(c.values[d]=O,1)}}}const ede=ss.define({static:!0});class Hu{constructor(e,r,a,i,f){this.id=e,this.createF=r,this.updateF=a,this.compareF=i,this.spec=f,this.provides=void 0}static define(e){let r=new Hu(Oie++,e.create,e.update,e.compare||((a,i)=>a===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(ede).find(a=>a.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:a=>(a.values[r]=this.create(a),1),update:(a,i)=>{let f=a.values[r],d=this.updateF(f,i);return this.compareF(f,d)?0:(a.values[r]=d,1)},reconfigure:(a,i)=>i.config.address[this.id]!=null?(a.values[r]=i.field(this),0):(a.values[r]=this.create(a),1)}}init(e){return[this,ede.of({field:this,create:e})]}get extension(){return this}}const AT={lowest:4,low:3,default:2,high:1,highest:0};function wR(t){return e=>new Wve(e,t)}const Og={highest:wR(AT.highest),high:wR(AT.high),default:wR(AT.default),low:wR(AT.low),lowest:wR(AT.lowest)};class Wve{constructor(e,r){this.inner=e,this.prec=r}}class XD{of(e){return new dse(this,e)}reconfigure(e){return XD.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class dse{constructor(e,r){this.compartment=e,this.inner=r}}class vH{constructor(e,r,a,i,f,d){for(this.base=e,this.compartments=r,this.dynamicSlots=a,this.address=i,this.staticValues=f,this.facets=d,this.statusTemplate=[];this.statusTemplate.length<a.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,a){let i=[],f=Object.create(null),d=new Map;for(let b of JTe(e,r,d))b instanceof Hu?i.push(b):(f[b.facet.id]||(f[b.facet.id]=[])).push(b);let h=Object.create(null),c=[],g=[];for(let b of i)h[b.id]=g.length<<1,g.push(O=>b.slot(O));let v=a==null?void 0:a.config.facets;for(let b in f){let O=f[b],T=O[0].facet,k=v&&v[b]||[];if(O.every(w=>w.type==0))if(h[T.id]=c.length<<1|1,xie(k,O))c.push(a.facet(T));else{let w=T.combine(O.map(C=>C.value));c.push(a&&T.compare(w,a.facet(T))?a.facet(T):w)}else{for(let w of O)w.type==0?(h[w.id]=c.length<<1|1,c.push(w.value)):(h[w.id]=g.length<<1,g.push(C=>w.dynamicSlot(C)));h[T.id]=g.length<<1,g.push(w=>KTe(w,T,O))}}let y=g.map(b=>b(h));return new vH(e,d,y,h,c,f)}}function JTe(t,e,r){let a=[[],[],[],[],[]],i=new Map;function f(d,h){let c=i.get(d);if(c!=null){if(c<=h)return;let g=a[c].indexOf(d);g>-1&&a[c].splice(g,1),d instanceof dse&&r.delete(d.compartment)}if(i.set(d,h),Array.isArray(d))for(let g of d)f(g,h);else if(d instanceof dse){if(r.has(d.compartment))throw new RangeError("Duplicate use of compartment in extensions");let g=e.get(d.compartment)||d.inner;r.set(d.compartment,g),f(g,h)}else if(d instanceof Wve)f(d.inner,d.prec);else if(d instanceof Hu)a[h].push(d),d.provides&&f(d.provides,h);else if(d instanceof WZ)a[h].push(d),d.facet.extensions&&f(d.facet.extensions,AT.default);else{let g=d.extension;if(!g)throw new Error(`Unrecognized extension value in extension set (${d}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);f(g,h)}}return f(t,AT.default),a.reduce((d,h)=>d.concat(h))}function qR(t,e){if(e&1)return 2;let r=e>>1,a=t.status[r];if(a==4)throw new Error("Cyclic dependency between fields and/or facets");if(a&2)return a;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function yH(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const Yve=ss.define(),hse=ss.define({combine:t=>t.some(e=>e),static:!0}),Xve=ss.define({combine:t=>t.length?t[0]:void 0,static:!0}),Gve=ss.define(),jve=ss.define(),qve=ss.define(),Kve=ss.define({combine:t=>t.length?t[0]:!1});class _O{constructor(e,r){this.type=e,this.value=r}static define(){return new e5e}}class e5e{of(e){return new _O(this,e)}}class t5e{constructor(e){this.map=e}of(e){return new da(this,e)}}class da{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new da(this.type,r)}is(e){return this.type==e}static define(e={}){return new t5e(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let a=[];for(let i of e){let f=i.map(r);f&&a.push(f)}return a}}da.reconfigure=da.define();da.appendConfig=da.define();class Vu{constructor(e,r,a,i,f,d){this.startState=e,this.changes=r,this.selection=a,this.effects=i,this.annotations=f,this.scrollIntoView=d,this._doc=null,this._state=null,a&&Uve(a,r.newLength),f.some(h=>h.type==Vu.time)||(this.annotations=f.concat(Vu.time.of(Date.now())))}static create(e,r,a,i,f,d){return new Vu(e,r,a,i,f,d)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Vu.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Vu.time=_O.define();Vu.userEvent=_O.define();Vu.addToHistory=_O.define();Vu.remote=_O.define();function n5e(t,e){let r=[];for(let a=0,i=0;;){let f,d;if(a<t.length&&(i==e.length||e[i]>=t[a]))f=t[a++],d=t[a++];else if(i<e.length)f=e[i++],d=e[i++];else return r;!r.length||r[r.length-1]<f?r.push(f,d):r[r.length-1]<d&&(r[r.length-1]=d)}}function Jve(t,e,r){var a;let i,f,d;return r?(i=e.changes,f=Fu.empty(e.changes.length),d=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),f=t.changes.mapDesc(e.changes,!0),d=t.changes.compose(i)),{changes:d,selection:e.selection?e.selection.map(f):(a=t.selection)===null||a===void 0?void 0:a.map(i),effects:da.mapEffects(t.effects,i).concat(da.mapEffects(e.effects,f)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function mse(t,e,r){let a=e.selection,i=n8(e.annotations);return e.userEvent&&(i=i.concat(Vu.userEvent.of(e.userEvent))),{changes:e.changes instanceof Fu?e.changes:Fu.of(e.changes||[],r,t.facet(Xve)),selection:a&&(a instanceof xr?a:xr.single(a.anchor,a.head)),effects:n8(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function e1e(t,e,r){let a=mse(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let f=1;f<e.length;f++){e[f].filter===!1&&(r=!1);let d=!!e[f].sequential;a=Jve(a,mse(t,e[f],d?a.changes.newLength:t.doc.length),d)}let i=Vu.create(t,a.changes,a.selection,a.effects,a.annotations,a.scrollIntoView);return o5e(r?r5e(i):i)}function r5e(t){let e=t.startState,r=!0;for(let i of e.facet(Gve)){let f=i(t);if(f===!1){r=!1;break}Array.isArray(f)&&(r=r===!0?f:n5e(r,f))}if(r!==!0){let i,f;if(r===!1)f=t.changes.invertedDesc,i=Fu.empty(e.doc.length);else{let d=t.changes.filter(r);i=d.changes,f=d.filtered.mapDesc(d.changes).invertedDesc}t=Vu.create(e,i,t.selection&&t.selection.map(f),da.mapEffects(t.effects,f),t.annotations,t.scrollIntoView)}let a=e.facet(jve);for(let i=a.length-1;i>=0;i--){let f=a[i](t);f instanceof Vu?t=f:Array.isArray(f)&&f.length==1&&f[0]instanceof Vu?t=f[0]:t=e1e(e,n8(f),!1)}return t}function o5e(t){let e=t.startState,r=e.facet(qve),a=t;for(let i=r.length-1;i>=0;i--){let f=r[i](t);f&&Object.keys(f).length&&(a=Jve(a,mse(e,f,t.changes.newLength),!0))}return a==t?t:Vu.create(e,t.changes,t.selection,a.effects,a.annotations,a.scrollIntoView)}const s5e=[];function n8(t){return t==null?s5e:Array.isArray(t)?t:[t]}var ac=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(ac||(ac={}));const a5e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let gse;try{gse=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function i5e(t){if(gse)return gse.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||a5e.test(r)))return!0}return!1}function l5e(t){return e=>{if(!/\S/.test(e))return ac.Space;if(i5e(e))return ac.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return ac.Word;return ac.Other}}class Na{constructor(e,r,a,i,f,d){this.config=e,this.doc=r,this.selection=a,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=f,d&&(d._state=this);for(let h=0;h<this.config.dynamicSlots.length;h++)qR(this,h<<1);this.computeSlot=null}field(e,r=!0){let a=this.config.address[e.id];if(a==null){if(r)throw new RangeError("Field is not present in this state");return}return qR(this,a),yH(this,a)}update(...e){return e1e(this,e,!0)}applyTransaction(e){let r=this.config,{base:a,compartments:i}=r;for(let h of e.effects)h.is(XD.reconfigure)?(r&&(i=new Map,r.compartments.forEach((c,g)=>i.set(g,c)),r=null),i.set(h.value.compartment,h.value.extension)):h.is(da.reconfigure)?(r=null,a=h.value):h.is(da.appendConfig)&&(r=null,a=n8(a).concat(h.value));let f;r?f=e.startState.values.slice():(r=vH.resolve(a,i,this),f=new Na(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(c,g)=>g.reconfigure(c,this),null).values);let d=e.startState.facet(hse)?e.newSelection:e.newSelection.asSingle();new Na(r,e.newDoc,d,f,(h,c)=>c.update(h,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:xr.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,a=e(r.ranges[0]),i=this.changes(a.changes),f=[a.range],d=n8(a.effects);for(let h=1;h<r.ranges.length;h++){let c=e(r.ranges[h]),g=this.changes(c.changes),v=g.map(i);for(let b=0;b<h;b++)f[b]=f[b].map(v);let y=i.mapDesc(g,!0);f.push(c.range.map(y)),i=i.compose(v),d=da.mapEffects(d,v).concat(da.mapEffects(n8(c.effects),y))}return{changes:i,selection:xr.create(f,r.mainIndex),effects:d}}changes(e=[]){return e instanceof Fu?e:Fu.of(e,this.doc.length,this.facet(Na.lineSeparator))}toText(e){return Si.of(e.split(this.facet(Na.lineSeparator)||lse))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(qR(this,r),yH(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let a in e){let i=e[a];i instanceof Hu&&this.config.address[i.id]!=null&&(r[a]=i.spec.toJSON(this.field(e[a]),this))}return r}static fromJSON(e,r={},a){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(a){for(let f in a)if(Object.prototype.hasOwnProperty.call(e,f)){let d=a[f],h=e[f];i.push(d.init(c=>d.spec.fromJSON(h,c)))}}return Na.create({doc:e.doc,selection:xr.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=vH.resolve(e.extensions||[],new Map),a=e.doc instanceof Si?e.doc:Si.of((e.doc||"").split(r.staticFacet(Na.lineSeparator)||lse)),i=e.selection?e.selection instanceof xr?e.selection:xr.single(e.selection.anchor,e.selection.head):xr.single(0);return Uve(i,a.length),r.staticFacet(hse)||(i=i.asSingle()),new Na(r,a,i,r.dynamicSlots.map(()=>null),(f,d)=>d.create(f),null)}get tabSize(){return this.facet(Na.tabSize)}get lineBreak(){return this.facet(Na.lineSeparator)||`
`}get readOnly(){return this.facet(Kve)}phrase(e,...r){for(let a of this.facet(Na.phrases))if(Object.prototype.hasOwnProperty.call(a,e)){e=a[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(a,i)=>{if(i=="$")return"$";let f=+(i||1);return!f||f>r.length?a:r[f-1]})),e}languageDataAt(e,r,a=-1){let i=[];for(let f of this.facet(Yve))for(let d of f(this,r,a))Object.prototype.hasOwnProperty.call(d,e)&&i.push(d[e]);return i}charCategorizer(e){return l5e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:a,length:i}=this.doc.lineAt(e),f=this.charCategorizer(e),d=e-a,h=e-a;for(;d>0;){let c=Jf(r,d,!1);if(f(r.slice(c,d))!=ac.Word)break;d=c}for(;h<i;){let c=Jf(r,h);if(f(r.slice(h,c))!=ac.Word)break;h=c}return d==h?null:xr.range(d+a,h+a)}}Na.allowMultipleSelections=hse;Na.tabSize=ss.define({combine:t=>t.length?t[0]:4});Na.lineSeparator=Xve;Na.readOnly=Kve;Na.phrases=ss.define({compare(t,e){let r=Object.keys(t),a=Object.keys(e);return r.length==a.length&&r.every(i=>t[i]==e[i])}});Na.languageData=Yve;Na.changeFilter=Gve;Na.transactionFilter=jve;Na.transactionExtender=qve;XD.reconfigure=da.define();function ly(t,e,r={}){let a={};for(let i of t)for(let f of Object.keys(i)){let d=i[f],h=a[f];if(h===void 0)a[f]=d;else if(!(h===d||d===void 0))if(Object.hasOwnProperty.call(r,f))a[f]=r[f](h,d);else throw new Error("Config merge conflict for field "+f)}for(let i in e)a[i]===void 0&&(a[i]=e[i]);return a}class BT{eq(e){return this==e}range(e,r=e){return pse.create(e,r,this)}}BT.prototype.startSide=BT.prototype.endSide=0;BT.prototype.point=!1;BT.prototype.mapMode=jf.TrackDel;let pse=class t1e{constructor(e,r,a){this.from=e,this.to=r,this.value=a}static create(e,r,a){return new t1e(e,r,a)}};function vse(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Sie{constructor(e,r,a,i){this.from=e,this.to=r,this.value=a,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,a,i=0){let f=a?this.to:this.from;for(let d=i,h=f.length;;){if(d==h)return d;let c=d+h>>1,g=f[c]-e||(a?this.value[c].endSide:this.value[c].startSide)-r;if(c==d)return g>=0?d:h;g>=0?h=c:d=c+1}}between(e,r,a,i){for(let f=this.findIndex(r,-1e9,!0),d=this.findIndex(a,1e9,!1,f);f<d;f++)if(i(this.from[f]+e,this.to[f]+e,this.value[f])===!1)return!1}map(e,r){let a=[],i=[],f=[],d=-1,h=-1;for(let c=0;c<this.value.length;c++){let g=this.value[c],v=this.from[c]+e,y=this.to[c]+e,b,O;if(v==y){let T=r.mapPos(v,g.startSide,g.mapMode);if(T==null||(b=O=T,g.startSide!=g.endSide&&(O=r.mapPos(v,g.endSide),O<b)))continue}else if(b=r.mapPos(v,g.startSide),O=r.mapPos(y,g.endSide),b>O||b==O&&g.startSide>0&&g.endSide<=0)continue;(O-b||g.endSide-g.startSide)<0||(d<0&&(d=b),g.point&&(h=Math.max(h,O-b)),a.push(g),i.push(b-d),f.push(O-d))}return{mapped:a.length?new Sie(i,f,a,h):null,pos:d}}}class Ji{constructor(e,r,a,i){this.chunkPos=e,this.chunk=r,this.nextLayer=a,this.maxPoint=i}static create(e,r,a,i){return new Ji(e,r,a,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:a=!1,filterFrom:i=0,filterTo:f=this.length}=e,d=e.filter;if(r.length==0&&!d)return this;if(a&&(r=r.slice().sort(vse)),this.isEmpty)return r.length?Ji.of(r):this;let h=new n1e(this,null,-1).goto(0),c=0,g=[],v=new MS;for(;h.value||c<r.length;)if(c<r.length&&(h.from-r[c].from||h.startSide-r[c].value.startSide)>=0){let y=r[c++];v.addInner(y.from,y.to,y.value)||g.push(y)}else h.rangeIndex==1&&h.chunkIndex<this.chunk.length&&(c==r.length||this.chunkEnd(h.chunkIndex)<r[c].from)&&(!d||i>this.chunkEnd(h.chunkIndex)||f<this.chunkPos[h.chunkIndex])&&v.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!d||i>h.to||f<h.from||d(h.from,h.to,h.value))&&(v.addInner(h.from,h.to,h.value)||g.push(pse.create(h.from,h.to,h.value))),h.next());return v.finishInner(this.nextLayer.isEmpty&&!g.length?Ji.empty:this.nextLayer.update({add:g,filter:d,filterFrom:i,filterTo:f}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],a=[],i=-1;for(let d=0;d<this.chunk.length;d++){let h=this.chunkPos[d],c=this.chunk[d],g=e.touchesRange(h,h+c.length);if(g===!1)i=Math.max(i,c.maxPoint),r.push(c),a.push(e.mapPos(h));else if(g===!0){let{mapped:v,pos:y}=c.map(h,e);v&&(i=Math.max(i,v.maxPoint),r.push(v),a.push(y))}}let f=this.nextLayer.map(e);return r.length==0?f:new Ji(a,r,f||Ji.empty,i)}between(e,r,a){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let f=this.chunkPos[i],d=this.chunk[i];if(r>=f&&e<=f+d.length&&d.between(f,e-f,r-f,a)===!1)return}this.nextLayer.between(e,r,a)}}iter(e=0){return pD.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return pD.from(e).goto(r)}static compare(e,r,a,i,f=-1){let d=e.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=f),h=r.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=f),c=tde(d,h,a),g=new CR(d,c,f),v=new CR(h,c,f);a.iterGaps((y,b,O)=>nde(g,y,v,b,O,i)),a.empty&&a.length==0&&nde(g,0,v,0,0,i)}static eq(e,r,a=0,i){i==null&&(i=1e9-1);let f=e.filter(v=>!v.isEmpty&&r.indexOf(v)<0),d=r.filter(v=>!v.isEmpty&&e.indexOf(v)<0);if(f.length!=d.length)return!1;if(!f.length)return!0;let h=tde(f,d),c=new CR(f,h,0).goto(a),g=new CR(d,h,0).goto(a);for(;;){if(c.to!=g.to||!yse(c.active,g.active)||c.point&&(!g.point||!c.point.eq(g.point)))return!1;if(c.to>i)return!0;c.next(),g.next()}}static spans(e,r,a,i,f=-1){let d=new CR(e,null,f).goto(r),h=r,c=d.openStart;for(;;){let g=Math.min(d.to,a);if(d.point){let v=d.activeForPoint(d.to),y=d.pointFrom<r?v.length+1:Math.min(v.length,c);i.point(h,g,d.point,v,y,d.pointRank),c=Math.min(d.openEnd(g),v.length)}else g>h&&(i.span(h,g,d.active,c),c=d.openEnd(g));if(d.to>a)return c+(d.point&&d.to>a?1:0);h=d.to,d.next()}}static of(e,r=!1){let a=new MS;for(let i of e instanceof pse?[e]:r?c5e(e):e)a.add(i.from,i.to,i.value);return a.finish()}}Ji.empty=new Ji([],[],null,-1);function c5e(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let a=t[r];if(vse(e,a)>0)return t.slice().sort(vse);e=a}return t}Ji.empty.nextLayer=Ji.empty;class MS{finishChunk(e){this.chunks.push(new Sie(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,a){this.addInner(e,r,a)||(this.nextLayer||(this.nextLayer=new MS)).add(e,r,a)}addInner(e,r,a){let i=e-this.lastTo||a.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||a.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=a,this.lastFrom=e,this.lastTo=r,this.value.push(a),a.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let a=r.value.length-1;return this.last=r.value[a],this.lastFrom=r.from[a]+e,this.lastTo=r.to[a]+e,!0}finish(){return this.finishInner(Ji.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=Ji.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function tde(t,e,r){let a=new Map;for(let f of t)for(let d=0;d<f.chunk.length;d++)f.chunk[d].maxPoint<=0&&a.set(f.chunk[d],f.chunkPos[d]);let i=new Set;for(let f of e)for(let d=0;d<f.chunk.length;d++){let h=a.get(f.chunk[d]);h!=null&&(r?r.mapPos(h):h)==f.chunkPos[d]&&!(r!=null&&r.touchesRange(h,h+f.chunk[d].length))&&i.add(f.chunk[d])}return i}class n1e{constructor(e,r,a,i=0){this.layer=e,this.skip=r,this.minPoint=a,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,a){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,a=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!a||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],a=e+r.from[this.rangeIndex];if(this.from=a,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class pD{constructor(e){this.heap=e}static from(e,r=null,a=-1){let i=[];for(let f=0;f<e.length;f++)for(let d=e[f];!d.isEmpty;d=d.nextLayer)d.maxPoint>=a&&i.push(new n1e(d,r,a,f));return i.length==1?i[0]:new pD(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let a of this.heap)a.goto(e,r);for(let a=this.heap.length>>1;a>=0;a--)Zre(this.heap,a);return this.next(),this}forward(e,r){for(let a of this.heap)a.forward(e,r);for(let a=this.heap.length>>1;a>=0;a--)Zre(this.heap,a);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Zre(this.heap,0)}}}function Zre(t,e){for(let r=t[e];;){let a=(e<<1)+1;if(a>=t.length)break;let i=t[a];if(a+1<t.length&&i.compare(t[a+1])>=0&&(i=t[a+1],a++),r.compare(i)<0)break;t[a]=r,t[e]=i,e=a}}class CR{constructor(e,r,a){this.minPoint=a,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=pD.from(e,r,a)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){aZ(this.active,e),aZ(this.activeTo,e),aZ(this.activeRank,e),this.minActive=rde(this.active,this.activeTo)}addActive(e){let r=0,{value:a,to:i,rank:f}=this.cursor;for(;r<this.activeRank.length&&this.activeRank[r]<=f;)r++;iZ(this.active,r,a),iZ(this.activeTo,r,i),iZ(this.activeRank,r,f),e&&iZ(e,r,this.cursor.from),this.minActive=rde(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let a=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),a&&aZ(a,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let f=this.cursor.value;if(!f.point)this.addActive(a),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=f,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=f.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(a){this.openStart=0;for(let i=a.length-1;i>=0&&a[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let a=this.active.length-1;a>=0&&!(this.activeRank[a]<this.pointRank);a--)(this.activeTo[a]>e||this.activeTo[a]==e&&this.active[a].endSide>=this.point.endSide)&&r.push(this.active[a]);return r.reverse()}openEnd(e){let r=0;for(let a=this.activeTo.length-1;a>=0&&this.activeTo[a]>e;a--)r++;return r}}function nde(t,e,r,a,i,f){t.goto(e),r.goto(a);let d=a+i,h=a,c=a-e;for(;;){let g=t.to+c-r.to||t.endSide-r.endSide,v=g<0?t.to+c:r.to,y=Math.min(v,d);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&yse(t.activeForPoint(t.to),r.activeForPoint(r.to))||f.comparePoint(h,y,t.point,r.point):y>h&&!yse(t.active,r.active)&&f.compareRange(h,y,t.active,r.active),v>d)break;h=v,g<=0&&t.next(),g>=0&&r.next()}}function yse(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function aZ(t,e){for(let r=e,a=t.length-1;r<a;r++)t[r]=t[r+1];t.pop()}function iZ(t,e,r){for(let a=t.length-1;a>=e;a--)t[a+1]=t[a];t[e]=r}function rde(t,e){let r=-1,a=1e9;for(let i=0;i<e.length;i++)(e[i]-a||t[i].endSide-t[r].endSide)<0&&(r=i,a=e[i]);return r}function Wv(t,e,r=t.length){let a=0;for(let i=0;i<r;)t.charCodeAt(i)==9?(a+=e-a%e,i++):(a++,i=Jf(t,i));return a}function bse(t,e,r,a){for(let i=0,f=0;;){if(f>=e)return i;if(i==t.length)break;f+=t.charCodeAt(i)==9?r-f%r:1,i=Jf(t,i)}return a===!0?-1:t.length}const Ose="ͼ",ode=typeof Symbol>"u"?"__"+Ose:Symbol.for(Ose),xse=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),sde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ES{constructor(e,r){this.rules=[];let{finish:a}=r||{};function i(d){return/^@/.test(d)?[d]:d.split(/,\s*/)}function f(d,h,c,g){let v=[],y=/^@(\w+)\b/.exec(d[0]),b=y&&y[1]=="keyframes";if(y&&h==null)return c.push(d[0]+";");for(let O in h){let T=h[O];if(/&/.test(O))f(O.split(/,\s*/).map(k=>d.map(w=>k.replace(/&/,w))).reduce((k,w)=>k.concat(w)),T,c);else if(T&&typeof T=="object"){if(!y)throw new RangeError("The value of a property ("+O+") should be a primitive value.");f(i(O),T,v,b)}else T!=null&&v.push(O.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+T+";")}(v.length||b)&&c.push((a&&!y&&!g?d.map(a):d).join(", ")+" {"+v.join(" ")+"}")}for(let d in e)f(i(d),e[d],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=sde[ode]||1;return sde[ode]=e+1,Ose+e.toString(36)}static mount(e,r,a){let i=e[xse],f=a&&a.nonce;i?f&&i.setNonce(f):i=new u5e(e,f),i.mount(Array.isArray(r)?r:[r])}}let ade=new Map;class u5e{constructor(e,r){let a=e.ownerDocument||e,i=a.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let f=ade.get(a);if(f)return e.adoptedStyleSheets=[f.sheet,...e.adoptedStyleSheets],e[xse]=f;this.sheet=new i.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],ade.set(a,this)}else{this.styleTag=a.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);let f=e.head||e;f.insertBefore(this.styleTag,f.firstChild)}this.modules=[],e[xse]=this}mount(e){let r=this.sheet,a=0,i=0;for(let f=0;f<e.length;f++){let d=e[f],h=this.modules.indexOf(d);if(h<i&&h>-1&&(this.modules.splice(h,1),i--,h=-1),h==-1){if(this.modules.splice(i++,0,d),r)for(let c=0;c<d.rules.length;c++)r.insertRule(d.rules[c],a++)}else{for(;i<h;)a+=this.modules[i++].rules.length;a+=d.rules.length,i++}}if(!r){let f="";for(let d=0;d<this.modules.length;d++)f+=this.modules[d].getRules()+`
`;this.styleTag.textContent=f}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var _S={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vD={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},f5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),d5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gf=0;Gf<10;Gf++)_S[48+Gf]=_S[96+Gf]=String(Gf);for(var Gf=1;Gf<=24;Gf++)_S[Gf+111]="F"+Gf;for(var Gf=65;Gf<=90;Gf++)_S[Gf]=String.fromCharCode(Gf+32),vD[Gf]=String.fromCharCode(Gf);for(var Hre in _S)vD.hasOwnProperty(Hre)||(vD[Hre]=_S[Hre]);function h5e(t){var e=f5e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||d5e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?vD:_S)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function bH(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Sse(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function m5e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function YZ(t,e){if(!e.anchorNode)return!1;try{return Sse(t,e.anchorNode)}catch{return!1}}function g8(t){return t.nodeType==3?QT(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function OH(t,e,r,a){return r?ide(t,e,r,a,-1)||ide(t,e,r,a,1):!1}function yD(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function ide(t,e,r,a,i){for(;;){if(t==r&&e==a)return!0;if(e==(i<0?0:TO(t))){if(t.nodeName=="DIV")return!1;let f=t.parentNode;if(!f||f.nodeType!=1)return!1;e=yD(t)+(i<0?0:1),t=f}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?TO(t):0}else return!1}}function TO(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _U(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function g5e(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function p5e(t,e,r,a,i,f,d,h){let c=t.ownerDocument,g=c.defaultView||window;for(let v=t,y=!1;v&&!y;)if(v.nodeType==1){let b,O=v==c.body,T=1,k=1;if(O)b=g5e(g);else{if(/^(fixed|sticky)$/.test(getComputedStyle(v).position)&&(y=!0),v.scrollHeight<=v.clientHeight&&v.scrollWidth<=v.clientWidth){v=v.assignedSlot||v.parentNode;continue}let _=v.getBoundingClientRect();T=_.width/v.offsetWidth,k=_.height/v.offsetHeight,b={left:_.left,right:_.left+v.clientWidth*T,top:_.top,bottom:_.top+v.clientHeight*k}}let w=0,C=0;if(i=="nearest")e.top<b.top?(C=-(b.top-e.top+d),r>0&&e.bottom>b.bottom+C&&(C=e.bottom-b.bottom+C+d)):e.bottom>b.bottom&&(C=e.bottom-b.bottom+d,r<0&&e.top-C<b.top&&(C=-(b.top+C-e.top+d)));else{let _=e.bottom-e.top,M=b.bottom-b.top;C=(i=="center"&&_<=M?e.top+_/2-M/2:i=="start"||i=="center"&&r<0?e.top-d:e.bottom-M+d)-b.top}if(a=="nearest"?e.left<b.left?(w=-(b.left-e.left+f),r>0&&e.right>b.right+w&&(w=e.right-b.right+w+f)):e.right>b.right&&(w=e.right-b.right+f,r<0&&e.left<b.left+w&&(w=-(b.left+w-e.left+f))):w=(a=="center"?e.left+(e.right-e.left)/2-(b.right-b.left)/2:a=="start"==h?e.left-f:e.right-(b.right-b.left)+f)-b.left,w||C)if(O)g.scrollBy(w,C);else{let _=0,M=0;if(C){let I=v.scrollTop;v.scrollTop+=C/k,M=(v.scrollTop-I)*k}if(w){let I=v.scrollLeft;v.scrollLeft+=w/T,_=(v.scrollLeft-I)*T}e={left:e.left-_,top:e.top-M,right:e.right-_,bottom:e.bottom-M},_&&Math.abs(_-w)<1&&(a="nearest"),M&&Math.abs(M-C)<1&&(i="nearest")}if(O)break;v=v.assignedSlot||v.parentNode}else if(v.nodeType==11)v=v.host;else break}function v5e(t){let e=t.ownerDocument;for(let r=t.parentNode;r&&r!=e.body;)if(r.nodeType==1){if(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)return r;r=r.assignedSlot||r.parentNode}else if(r.nodeType==11)r=r.host;else break;return null}class y5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:a}=e;this.set(r,Math.min(e.anchorOffset,r?TO(r):0),a,Math.min(e.focusOffset,a?TO(a):0))}set(e,r,a,i){this.anchorNode=e,this.anchorOffset=r,this.focusNode=a,this.focusOffset=i}}let FP=null;function r1e(t){if(t.setActive)return t.setActive();if(FP)return t.focus(FP);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(FP==null?{get preventScroll(){return FP={preventScroll:!0},!0}}:void 0),!FP){FP=!1;for(let r=0;r<e.length;){let a=e[r++],i=e[r++],f=e[r++];a.scrollTop!=i&&(a.scrollTop=i),a.scrollLeft!=f&&(a.scrollLeft=f)}}}let lde;function QT(t,e,r=e){let a=lde||(lde=document.createRange());return a.setEnd(t,r),a.setStart(t,e),a}function r8(t,e,r){let a={key:e,code:e,keyCode:r,which:r,cancelable:!0},i=new KeyboardEvent("keydown",a);i.synthetic=!0,t.dispatchEvent(i);let f=new KeyboardEvent("keyup",a);return f.synthetic=!0,t.dispatchEvent(f),i.defaultPrevented||f.defaultPrevented}function b5e(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function o1e(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function O5e(t,e){let r=e.focusNode,a=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=a)return!1;for(a=Math.min(a,TO(r));;)if(a){if(r.nodeType!=1)return!1;let i=r.childNodes[a-1];i.contentEditable=="false"?a--:(r=i,a=TO(r))}else{if(r==t)return!0;a=yD(r),r=r.parentNode}}function s1e(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class Rd{constructor(e,r,a=!0){this.node=e,this.offset=r,this.precise=a}static before(e,r){return new Rd(e.parentNode,yD(e),r)}static after(e,r){return new Rd(e.parentNode,yD(e)+1,r)}}const wie=[];class Wl{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let a of this.children){if(a==e)return r;r+=a.length+a.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let a=this.dom,i=null,f;for(let d of this.children){if(d.flags&7){if(!d.dom&&(f=i?i.nextSibling:a.firstChild)){let h=Wl.get(f);(!h||!h.parent&&h.canReuseDOM(d))&&d.reuseDOM(f)}d.sync(e,r),d.flags&=-8}if(f=i?i.nextSibling:a.firstChild,r&&!r.written&&r.node==a&&f!=d.dom&&(r.written=!0),d.dom.parentNode==a)for(;f&&f!=d.dom;)f=cde(f);else a.insertBefore(d.dom,f);i=d.dom}for(f=i?i.nextSibling:a.firstChild,f&&r&&r.node==a&&(r.written=!0);f;)f=cde(f)}else if(this.flags&1)for(let a of this.children)a.flags&7&&(a.sync(e,r),a.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let a;if(e==this.dom)a=this.dom.childNodes[r];else{let i=TO(e)==0?0:r==0?-1:1;for(;;){let f=e.parentNode;if(f==this.dom)break;i==0&&f.firstChild!=f.lastChild&&(e==f.firstChild?i=-1:i=1),e=f}i<0?a=e:a=e.nextSibling}if(a==this.dom.firstChild)return 0;for(;a&&!Wl.get(a);)a=a.nextSibling;if(!a)return this.length;for(let i=0,f=0;;i++){let d=this.children[i];if(d.dom==a)return f;f+=d.length+d.breakAfter}}domBoundsAround(e,r,a=0){let i=-1,f=-1,d=-1,h=-1;for(let c=0,g=a,v=a;c<this.children.length;c++){let y=this.children[c],b=g+y.length;if(g<e&&b>r)return y.domBoundsAround(e,r,g);if(b>=e&&i==-1&&(i=c,f=g),g>r&&y.dom.parentNode==this.dom){d=c,h=v;break}v=b,g=b+y.breakAfter}return{from:f,to:h<0?a+this.length:h,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:d<this.children.length&&d>=0?this.children[d].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,a=wie){this.markDirty();for(let i=e;i<r;i++){let f=this.children[i];f.parent==this&&a.indexOf(f)<0&&f.destroy()}this.children.splice(e,r-e,...a);for(let i=0;i<a.length;i++)a[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new a1e(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,a,i,f,d){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.destroy();this.parent=null}}Wl.prototype.breakAfter=0;function cde(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class a1e{constructor(e,r,a){this.children=e,this.pos=r,this.i=a,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let a=this.children[--this.i];this.pos-=a.length+a.breakAfter}}}function i1e(t,e,r,a,i,f,d,h,c){let{children:g}=t,v=g.length?g[e]:null,y=f.length?f[f.length-1]:null,b=y?y.breakAfter:d;if(!(e==a&&v&&!d&&!b&&f.length<2&&v.merge(r,i,f.length?y:null,r==0,h,c))){if(a<g.length){let O=g[a];O&&(i<O.length||O.breakAfter&&(y!=null&&y.breakAfter))?(e==a&&(O=O.split(i),i=0),!b&&y&&O.merge(0,i,y,!0,0,c)?f[f.length-1]=O:((i||O.children.length&&!O.children[0].length)&&O.merge(0,i,null,!1,0,c),f.push(O))):O!=null&&O.breakAfter&&(y?y.breakAfter=1:d=1),a++}for(v&&(v.breakAfter=d,r>0&&(!d&&f.length&&v.merge(r,v.length,f[0],!1,h,0)?v.breakAfter=f.shift().breakAfter:(r<v.length||v.children.length&&v.children[v.children.length-1].length==0)&&v.merge(r,v.length,null,!1,h,0),e++));e<a&&f.length;)if(g[a-1].become(f[f.length-1]))a--,f.pop(),c=f.length?0:h;else if(g[e].become(f[0]))e++,f.shift(),h=f.length?0:c;else break;!f.length&&e&&a<g.length&&!g[e-1].breakAfter&&g[a].merge(0,0,g[e-1],!1,h,c)&&e--,(e<a||f.length)&&t.replaceChildren(e,a,f)}}function l1e(t,e,r,a,i,f){let d=t.childCursor(),{i:h,off:c}=d.findPos(r,1),{i:g,off:v}=d.findPos(e,-1),y=e-r;for(let b of a)y+=b.length;t.length+=y,i1e(t,g,v,h,c,a,0,i,f)}let vg=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},wse=typeof document<"u"?document:{documentElement:{style:{}}};const Cse=/Edge\/(\d+)/.exec(vg.userAgent),c1e=/MSIE \d/.test(vg.userAgent),Tse=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vg.userAgent),RU=!!(c1e||Tse||Cse),ude=!RU&&/gecko\/(\d+)/i.test(vg.userAgent),Ure=!RU&&/Chrome\/(\d+)/.exec(vg.userAgent),fde="webkitFontSmoothing"in wse.documentElement.style,u1e=!RU&&/Apple Computer/.test(vg.vendor),dde=u1e&&(/Mobile\/\w+/.test(vg.userAgent)||vg.maxTouchPoints>2);var ds={mac:dde||/Mac/.test(vg.platform),windows:/Win/.test(vg.platform),linux:/Linux|X11/.test(vg.platform),ie:RU,ie_version:c1e?wse.documentMode||6:Tse?+Tse[1]:Cse?+Cse[1]:0,gecko:ude,gecko_version:ude?+(/Firefox\/(\d+)/.exec(vg.userAgent)||[0,0])[1]:0,chrome:!!Ure,chrome_version:Ure?+Ure[1]:0,ios:dde,android:/Android\b/.test(vg.userAgent),webkit:fde,safari:u1e,webkit_version:fde?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:wse.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const x5e=256;class kO extends Wl{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,a){return this.flags&8||a&&(!(a instanceof kO)||this.length-(r-e)+a.length>x5e||a.flags&8)?!1:(this.text=this.text.slice(0,e)+(a?a.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new kO(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new Rd(this.dom,e)}domBoundsAround(e,r,a){return{from:a,to:a+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return S5e(this.dom,e,r)}}class AO extends Wl{constructor(e,r=[],a=0){super(),this.mark=e,this.children=r,this.length=a;for(let i of r)i.setParent(this)}setAttrs(e){if(o1e(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,a,i,f,d){return a&&(!(a instanceof AO&&a.mark.eq(this.mark))||e&&f<=0||r<this.length&&d<=0)?!1:(l1e(this,e,r,a?a.children:[],f-1,d-1),this.markDirty(),!0)}split(e){let r=[],a=0,i=-1,f=0;for(let h of this.children){let c=a+h.length;c>e&&r.push(a<e?h.split(e-a):h),i<0&&a>=e&&(i=f),a=c,f++}let d=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new AO(this.mark,r,d)}domAtPos(e){return f1e(this,e)}coordsAt(e,r){return h1e(this,e,r)}}function S5e(t,e,r){let a=t.nodeValue.length;e>a&&(e=a);let i=e,f=e,d=0;e==0&&r<0||e==a&&r>=0?ds.chrome||ds.gecko||(e?(i--,d=1):f<a&&(f++,d=-1)):r<0?i--:f<a&&f++;let h=QT(t,i,f).getClientRects();if(!h.length)return null;let c=h[(d?d<0:r>=0)?0:h.length-1];return ds.safari&&!d&&c.width==0&&(c=Array.prototype.find.call(h,g=>g.width)||c),d?_U(c,d<0):c||null}class OS extends Wl{static create(e,r,a){return new OS(e,r,a)}constructor(e,r,a){super(),this.widget=e,this.length=r,this.side=a,this.prevWidget=null}split(e){let r=OS.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,r,a,i,f,d){return a&&(!(a instanceof OS)||!this.widget.compare(a.widget)||e>0&&f<=0||r<this.length&&d<=0)?!1:(this.length=e+(a?a.length:0)+(this.length-r),!0)}become(e){return e instanceof OS&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Si.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,a=r&&r.state.doc,i=this.posAtStart;return a?a.slice(i,i+this.length):Si.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Rd.before(this.dom):Rd.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let a=this.widget.coordsAt(this.dom,e,r);if(a)return a;let i=this.dom.getClientRects(),f=null;if(!i.length)return null;let d=this.side?this.side<0:e>0;for(let h=d?i.length-1:0;f=i[h],!(e>0?h==0:h==i.length-1||f.top<f.bottom);h+=d?-1:1);return _U(f,!d)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class p8 extends Wl{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof p8&&e.side==this.side}split(){return new p8(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Rd.before(this.dom):Rd.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Si.empty}get isHidden(){return!0}}kO.prototype.children=OS.prototype.children=p8.prototype.children=wie;function f1e(t,e){let r=t.dom,{children:a}=t,i=0;for(let f=0;i<a.length;i++){let d=a[i],h=f+d.length;if(!(h==f&&d.getSide()<=0)){if(e>f&&e<h&&d.dom.parentNode==r)return d.domAtPos(e-f);if(e<=f)break;f=h}}for(let f=i;f>0;f--){let d=a[f-1];if(d.dom.parentNode==r)return d.domAtPos(d.length)}for(let f=i;f<a.length;f++){let d=a[f];if(d.dom.parentNode==r)return d.domAtPos(0)}return new Rd(r,0)}function d1e(t,e,r){let a,{children:i}=t;r>0&&e instanceof AO&&i.length&&(a=i[i.length-1])instanceof AO&&a.mark.eq(e.mark)?d1e(a,e.children[0],r-1):(i.push(e),e.setParent(t)),t.length+=e.length}function h1e(t,e,r){let a=null,i=-1,f=null,d=-1;function h(g,v){for(let y=0,b=0;y<g.children.length&&b<=v;y++){let O=g.children[y],T=b+O.length;T>=v&&(O.children.length?h(O,v-b):(!f||f.isHidden&&r>0)&&(T>v||b==T&&O.getSide()>0)?(f=O,d=v-b):(b<v||b==T&&O.getSide()<0&&!O.isHidden)&&(a=O,i=v-b)),b=T}}h(t,e);let c=(r<0?a:f)||a||f;return c?c.coordsAt(Math.max(0,c==a?i:d),r):w5e(t)}function w5e(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=g8(e);return r[r.length-1]||null}function kse(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const hde=Object.create(null);function Cie(t,e,r){if(t==e)return!0;t||(t=hde),e||(e=hde);let a=Object.keys(t),i=Object.keys(e);if(a.length-(r&&a.indexOf(r)>-1?1:0)!=i.length-(r&&i.indexOf(r)>-1?1:0))return!1;for(let f of a)if(f!=r&&(i.indexOf(f)==-1||t[f]!==e[f]))return!1;return!0}function Ase(t,e,r){let a=!1;if(e)for(let i in e)r&&i in r||(a=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(r)for(let i in r)e&&e[i]==r[i]||(a=!0,i=="style"?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return a}function C5e(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let a=t.attributes[r];e[a.name]=a.value}return e}class Qu extends Wl{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,a,i,f,d){if(a){if(!(a instanceof Qu))return!1;this.dom||a.transferDOM(this)}return i&&this.setDeco(a?a.attrs:null),l1e(this,e,r,a?a.children:[],f,d),!0}split(e){let r=new Qu;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:a,off:i}=this.childPos(e);i&&(r.append(this.children[a].split(i),0),this.children[a].merge(i,this.children[a].length,null,!1,0,0),a++);for(let f=a;f<this.children.length;f++)r.append(this.children[f],0);for(;a>0&&this.children[a-1].length==0;)this.children[--a].destroy();return this.children.length=a,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Cie(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){d1e(this,e,r)}addLineDeco(e){let r=e.spec.attributes,a=e.spec.class;r&&(this.attrs=kse(r,this.attrs||{})),a&&(this.attrs=kse({class:a},this.attrs||{}))}domAtPos(e){return f1e(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var a;this.dom?this.flags&4&&(o1e(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Ase(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let i=this.dom.lastChild;for(;i&&Wl.get(i)instanceof AO;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((a=Wl.get(i))===null||a===void 0?void 0:a.isEditable)==!1&&(!ds.ios||!this.children.some(f=>f instanceof kO))){let f=document.createElement("BR");f.cmIgnore=!0,this.dom.appendChild(f)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let a of this.children){if(!(a instanceof kO)||/[^ -~]/.test(a.text))return null;let i=g8(a.dom);if(i.length!=1)return null;e+=i[0].width,r=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let a=h1e(this,e,r);if(!this.children.length&&a&&this.parent){let{heightOracle:i}=this.parent.view.viewState,f=a.bottom-a.top;if(Math.abs(f-i.lineHeight)<2&&i.textHeight<f){let d=(f-i.textHeight)/2;return{top:a.top+d,bottom:a.bottom-d,left:a.left,right:a.left}}}return a}become(e){return!1}covers(){return!0}static find(e,r){for(let a=0,i=0;a<e.children.length;a++){let f=e.children[a],d=i+f.length;if(d>=r){if(f instanceof Qu)return f;if(d>r)break}i=d+f.breakAfter}return null}}class TS extends Wl{constructor(e,r,a){super(),this.widget=e,this.length=r,this.deco=a,this.breakAfter=0,this.prevWidget=null}merge(e,r,a,i,f,d){return a&&(!(a instanceof TS)||!this.widget.compare(a.widget)||e>0&&f<=0||r<this.length&&d<=0)?!1:(this.length=e+(a?a.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?Rd.before(this.dom):Rd.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let a=new TS(this.widget,r,this.deco);return a.breakAfter=this.breakAfter,a}get children(){return wie}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Si.empty}domBoundsAround(){return null}become(e){return e instanceof TS&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){return this.widget.coordsAt(this.dom,e,r)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:a}=this.deco;return r==a?!1:e<0?r<0:a>0}}class jv{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,a){return null}get isHidden(){return!1}destroy(e){}}var yh=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(yh||(yh={}));class Ss extends BT{constructor(e,r,a,i){super(),this.startSide=e,this.endSide=r,this.widget=a,this.spec=i}get heightRelevant(){return!1}static mark(e){return new GD(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),a=!!e.block;return r+=a&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new RS(e,r,r,a,e.widget||null,!1)}static replace(e){let r=!!e.block,a,i;if(e.isBlockGap)a=-5e8,i=4e8;else{let{start:f,end:d}=m1e(e,r);a=(f?r?-3e8:-1:5e8)-1,i=(d?r?2e8:1:-6e8)+1}return new RS(e,a,i,r,e.widget||null,!0)}static line(e){return new jD(e)}static set(e,r=!1){return Ji.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ss.none=Ji.empty;class GD extends Ss{constructor(e){let{start:r,end:a}=m1e(e);super(r?-1:5e8,a?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,a;return this==e||e instanceof GD&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((a=e.attrs)===null||a===void 0?void 0:a.class))&&Cie(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}GD.prototype.point=!1;class jD extends Ss{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof jD&&this.spec.class==e.spec.class&&Cie(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}jD.prototype.mapMode=jf.TrackBefore;jD.prototype.point=!0;class RS extends Ss{constructor(e,r,a,i,f,d){super(r,a,f,e),this.block=i,this.isReplace=d,this.mapMode=i?r<=0?jf.TrackBefore:jf.TrackAfter:jf.TrackDel}get type(){return this.startSide!=this.endSide?yh.WidgetRange:this.startSide<=0?yh.WidgetBefore:yh.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof RS&&T5e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}RS.prototype.point=!0;function m1e(t,e=!1){let{inclusiveStart:r,inclusiveEnd:a}=t;return r==null&&(r=t.inclusive),a==null&&(a=t.inclusive),{start:r??e,end:a??e}}function T5e(t,e){return t==e||!!(t&&e&&t.compare(e))}function Pse(t,e,r,a=0){let i=r.length-1;i>=0&&r[i]+a>=t?r[i]=Math.max(r[i],e):r.push(t,e)}class KR{constructor(e,r,a,i){this.doc=e,this.pos=r,this.end=a,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof TS&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Qu),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(lZ(new p8(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof TS)&&this.getLine()}buildText(e,r,a){for(;e>0;){if(this.textOff==this.text.length){let{value:f,lineBreak:d,done:h}=this.cursor.next(this.skip);if(this.skip=0,h)throw new Error("Ran out of text content when drawing inline views");if(d){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=f,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-a)),this.getLine().append(lZ(new kO(this.text.slice(this.textOff,this.textOff+i)),r),a),this.atCursorPos=!0,this.textOff+=i,e-=i,a=0}}span(e,r,a,i){this.buildText(r-e,a,i),this.pos=r,this.openStart<0&&(this.openStart=i)}point(e,r,a,i,f,d){if(this.disallowBlockEffectsFor[d]&&a instanceof RS){if(a.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let h=r-e;if(a instanceof RS)if(a.block)a.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new TS(a.widget||new mde("div"),h,a));else{let c=OS.create(a.widget||new mde("span"),h,h?0:a.startSide),g=this.atCursorPos&&!c.isEditable&&f<=i.length&&(e<r||a.startSide>0),v=!c.isEditable&&(e<r||f>i.length||a.startSide<=0),y=this.getLine();this.pendingBuffer==2&&!g&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),g&&(y.append(lZ(new p8(1),i),f),f=i.length+Math.max(0,f-i.length)),y.append(lZ(c,i),f),this.atCursorPos=v,this.pendingBuffer=v?e<r||f>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(a);h&&(this.textOff+h<=this.text.length?this.textOff+=h:(this.skip+=h-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=f)}static build(e,r,a,i,f){let d=new KR(e,r,a,f);return d.openEnd=Ji.spans(i,r,a,d),d.openStart<0&&(d.openStart=d.openEnd),d.finish(d.openEnd),d}}function lZ(t,e){for(let r of e)t=new AO(r,[t],t.length);return t}class mde extends jv{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const g1e=ss.define(),p1e=ss.define(),v1e=ss.define(),y1e=ss.define(),Mse=ss.define(),b1e=ss.define(),O1e=ss.define(),x1e=ss.define({combine:t=>t.some(e=>e)}),S1e=ss.define({combine:t=>t.some(e=>e)});class o8{constructor(e,r="nearest",a="nearest",i=5,f=5,d=!1){this.range=e,this.y=r,this.x=a,this.yMargin=i,this.xMargin=f,this.isSnapshot=d}map(e){return e.empty?this:new o8(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new o8(xr.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const cZ=da.define({map:(t,e)=>t.map(e)});function Lp(t,e,r){let a=t.facet(y1e);a.length?a[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const DU=ss.define({combine:t=>t.length?t[0]:!0});let k5e=0;const BR=ss.define();class Sc{constructor(e,r,a,i,f){this.id=e,this.create=r,this.domEventHandlers=a,this.domEventObservers=i,this.extension=f(this)}static define(e,r){const{eventHandlers:a,eventObservers:i,provide:f,decorations:d}=r||{};return new Sc(k5e++,e,a,i,h=>{let c=[BR.of(h)];return d&&c.push(bD.of(g=>{let v=g.plugin(h);return v?d(v):Ss.none})),f&&c.push(f(h)),c})}static fromClass(e,r){return Sc.define(a=>new e(a),r)}}class Wre{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(a){if(Lp(r.state,a,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){Lp(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(a){Lp(e.state,a,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const w1e=ss.define(),Tie=ss.define(),bD=ss.define(),kie=ss.define(),C1e=ss.define();function gde(t,e,r){let a=t.state.facet(C1e);if(!a.length)return a;let i=a.map(d=>d instanceof Function?d(t):d),f=[];return Ji.spans(i,e,r,{point(){},span(d,h,c,g){let v=f;for(let y=c.length-1;y>=0;y--,g--){let b=c[y].spec.bidiIsolate,O;if(b!=null)if(g>0&&v.length&&(O=v[v.length-1]).to==d&&O.direction==b)O.to=h,v=O.inner;else{let T={from:d,to:h,direction:b,inner:[]};v.push(T),v=T.inner}}}}),f}const T1e=ss.define();function k1e(t){let e=0,r=0,a=0,i=0;for(let f of t.state.facet(T1e)){let d=f(t);d&&(d.left!=null&&(e=Math.max(e,d.left)),d.right!=null&&(r=Math.max(r,d.right)),d.top!=null&&(a=Math.max(a,d.top)),d.bottom!=null&&(i=Math.max(i,d.bottom)))}return{left:e,right:r,top:a,bottom:i}}const QR=ss.define();class Ip{constructor(e,r,a,i){this.fromA=e,this.toA=r,this.fromB=a,this.toB=i}join(e){return new Ip(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,a=this;for(;r>0;r--){let i=e[r-1];if(!(i.fromA>a.toA)){if(i.toA<a.fromA)break;a=a.join(i),e.splice(r-1,1)}}return e.splice(r,0,a),e}static extendWithRanges(e,r){if(r.length==0)return e;let a=[];for(let i=0,f=0,d=0,h=0;;i++){let c=i==e.length?null:e[i],g=d-h,v=c?c.fromB:1e9;for(;f<r.length&&r[f]<v;){let y=r[f],b=r[f+1],O=Math.max(h,y),T=Math.min(v,b);if(O<=T&&new Ip(O+g,T+g,O,T).addToSet(a),b>v)break;f+=2}if(!c)return a;new Ip(c.fromA,c.toA,c.fromB,c.toB).addToSet(a),d=c.toA,h=c.toB}}}class xH{constructor(e,r,a){this.view=e,this.state=r,this.transactions=a,this.flags=0,this.startState=e.state,this.changes=Fu.empty(this.startState.doc.length);for(let f of a)this.changes=this.changes.compose(f.changes);let i=[];this.changes.iterChangedRanges((f,d,h,c)=>i.push(new Ip(f,d,h,c))),this.changedRanges=i}static create(e,r,a){return new xH(e,r,a)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var xc=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(xc||(xc={}));const OD=xc.LTR,A1e=xc.RTL;function P1e(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const A5e=P1e("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),P5e=P1e("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ese=Object.create(null),Q0=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);Ese[e]=r,Ese[r]=-e}function M5e(t){return t<=247?A5e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?P5e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const E5e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class xS{get dir(){return this.level%2?A1e:OD}constructor(e,r,a){this.from=e,this.to=r,this.level=a}side(e,r){return this.dir==r==e?this.to:this.from}static find(e,r,a,i){let f=-1;for(let d=0;d<e.length;d++){let h=e[d];if(h.from<=r&&h.to>=r){if(h.level==a)return d;(f<0||(i!=0?i<0?h.from<r:h.to>r:e[f].level>h.level))&&(f=d)}}if(f<0)throw new RangeError("Index out of range");return f}}function M1e(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let a=t[r],i=e[r];if(a.from!=i.from||a.to!=i.to||a.direction!=i.direction||!M1e(a.inner,i.inner))return!1}return!0}const bl=[];function _5e(t,e,r,a,i){for(let f=0;f<=a.length;f++){let d=f?a[f-1].to:e,h=f<a.length?a[f].from:r,c=f?256:i;for(let g=d,v=c,y=c;g<h;g++){let b=M5e(t.charCodeAt(g));b==512?b=v:b==8&&y==4&&(b=16),bl[g]=b==4?2:b,b&7&&(y=b),v=b}for(let g=d,v=c,y=c;g<h;g++){let b=bl[g];if(b==128)g<h-1&&v==bl[g+1]&&v&24?b=bl[g]=v:bl[g]=256;else if(b==64){let O=g+1;for(;O<h&&bl[O]==64;)O++;let T=g&&v==8||O<r&&bl[O]==8?y==1?1:8:256;for(let k=g;k<O;k++)bl[k]=T;g=O-1}else b==8&&y==1&&(bl[g]=1);v=b,b&7&&(y=b)}}}function R5e(t,e,r,a,i){let f=i==1?2:1;for(let d=0,h=0,c=0;d<=a.length;d++){let g=d?a[d-1].to:e,v=d<a.length?a[d].from:r;for(let y=g,b,O,T;y<v;y++)if(O=Ese[b=t.charCodeAt(y)])if(O<0){for(let k=h-3;k>=0;k-=3)if(Q0[k+1]==-O){let w=Q0[k+2],C=w&2?i:w&4?w&1?f:i:0;C&&(bl[y]=bl[Q0[k]]=C),h=k;break}}else{if(Q0.length==189)break;Q0[h++]=y,Q0[h++]=b,Q0[h++]=c}else if((T=bl[y])==2||T==1){let k=T==i;c=k?0:1;for(let w=h-3;w>=0;w-=3){let C=Q0[w+2];if(C&2)break;if(k)Q0[w+2]|=2;else{if(C&4)break;Q0[w+2]|=4}}}}}function D5e(t,e,r,a){for(let i=0,f=a;i<=r.length;i++){let d=i?r[i-1].to:t,h=i<r.length?r[i].from:e;for(let c=d;c<h;){let g=bl[c];if(g==256){let v=c+1;for(;;)if(v==h){if(i==r.length)break;v=r[i++].to,h=i<r.length?r[i].from:e}else if(bl[v]==256)v++;else break;let y=f==1,b=(v<e?bl[v]:a)==1,O=y==b?y?1:2:a;for(let T=v,k=i,w=k?r[k-1].to:t;T>c;)T==w&&(T=r[--k].from,w=k?r[k-1].to:t),bl[--T]=O;c=v}else f=g,c++}}}function _se(t,e,r,a,i,f,d){let h=a%2?2:1;if(a%2==i%2)for(let c=e,g=0;c<r;){let v=!0,y=!1;if(g==f.length||c<f[g].from){let k=bl[c];k!=h&&(v=!1,y=k==16)}let b=!v&&h==1?[]:null,O=v?a:a+1,T=c;e:for(;;)if(g<f.length&&T==f[g].from){if(y)break e;let k=f[g];if(!v)for(let w=k.to,C=g+1;;){if(w==r)break e;if(C<f.length&&f[C].from==w)w=f[C++].to;else{if(bl[w]==h)break e;break}}if(g++,b)b.push(k);else{k.from>c&&d.push(new xS(c,k.from,O));let w=k.direction==OD!=!(O%2);Rse(t,w?a+1:a,i,k.inner,k.from,k.to,d),c=k.to}T=k.to}else{if(T==r||(v?bl[T]!=h:bl[T]==h))break;T++}b?_se(t,c,T,a+1,i,b,d):c<T&&d.push(new xS(c,T,O)),c=T}else for(let c=r,g=f.length;c>e;){let v=!0,y=!1;if(!g||c>f[g-1].to){let k=bl[c-1];k!=h&&(v=!1,y=k==16)}let b=!v&&h==1?[]:null,O=v?a:a+1,T=c;e:for(;;)if(g&&T==f[g-1].to){if(y)break e;let k=f[--g];if(!v)for(let w=k.from,C=g;;){if(w==e)break e;if(C&&f[C-1].to==w)w=f[--C].from;else{if(bl[w-1]==h)break e;break}}if(b)b.push(k);else{k.to<c&&d.push(new xS(k.to,c,O));let w=k.direction==OD!=!(O%2);Rse(t,w?a+1:a,i,k.inner,k.from,k.to,d),c=k.from}T=k.from}else{if(T==e||(v?bl[T-1]!=h:bl[T-1]==h))break;T--}b?_se(t,T,c,a+1,i,b,d):T<c&&d.push(new xS(T,c,O)),c=T}}function Rse(t,e,r,a,i,f,d){let h=e%2?2:1;_5e(t,i,f,a,h),R5e(t,i,f,a,h),D5e(i,f,a,h),_se(t,i,f,e,r,a,d)}function $5e(t,e,r){if(!t)return[new xS(0,0,e==A1e?1:0)];if(e==OD&&!r.length&&!E5e.test(t))return E1e(t.length);if(r.length)for(;t.length>bl.length;)bl[bl.length]=256;let a=[],i=e==OD?0:1;return Rse(t,i,i,r,0,t.length,a),a}function E1e(t){return[new xS(0,t,0)]}let _1e="";function L5e(t,e,r,a,i){var f;let d=a.head-t.from,h=-1;if(d==0){if(!i||!t.length)return null;e[0].level!=r&&(d=e[0].side(!1,r),h=0)}else if(d==t.length){if(i)return null;let b=e[e.length-1];b.level!=r&&(d=b.side(!0,r),h=e.length-1)}h<0&&(h=xS.find(e,d,(f=a.bidiLevel)!==null&&f!==void 0?f:-1,a.assoc));let c=e[h];d==c.side(i,r)&&(c=e[h+=i?1:-1],d=c.side(!i,r));let g=i==(c.dir==r),v=Jf(t.text,d,g);if(_1e=t.text.slice(Math.min(d,v),Math.max(d,v)),v!=c.side(i,r))return xr.cursor(v+t.from,g?-1:1,c.level);let y=h==(i?e.length-1:0)?null:e[h+(i?1:-1)];return!y&&c.level!=r?xr.cursor(i?t.to:t.from,i?-1:1,r):y&&y.level<c.level?xr.cursor(y.side(!i,r)+t.from,i?1:-1,y.level):xr.cursor(v+t.from,i?-1:1,c.level)}class pde extends Wl{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Qu],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ip(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let a=e.changedRanges;this.minWidth>0&&a.length&&(a.every(({fromA:g,toA:v})=>v<this.minWidthFrom||g>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?i=this.domChanged.newSel.head:!z5e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let f=i>-1?N5e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:g,to:v}=this.hasComposition;a=new Ip(g,v,e.changes.mapPos(g,-1),e.changes.mapPos(v,1)).addToSet(a.slice())}this.hasComposition=f?{from:f.range.fromB,to:f.range.toB}:null,(ds.ie||ds.chrome)&&!f&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let d=this.decorations,h=this.updateDeco(),c=F5e(d,h,e.changes);return a=Ip.extendWithRanges(a,c),!(this.flags&7)&&a.length==0?!1:(this.updateInner(a,e.startState.doc.length,f),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,a){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,a);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let d=ds.chrome||ds.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,d),this.flags&=-8,d&&(d.written||i.selectionRange.focusNode!=d.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(d=>d.flags&=-9);let f=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let d of this.children)d instanceof TS&&d.widget instanceof vde&&f.push(d.dom);i.updateGaps(f)}updateChildren(e,r,a){let i=a?a.range.addToSet(e.slice()):e,f=this.childCursor(r);for(let d=i.length-1;;d--){let h=d>=0?i[d]:null;if(!h)break;let{fromA:c,toA:g,fromB:v,toB:y}=h,b,O,T,k;if(a&&a.range.fromB<y&&a.range.toB>v){let I=KR.build(this.view.state.doc,v,a.range.fromB,this.decorations,this.dynamicDecorationMap),V=KR.build(this.view.state.doc,a.range.toB,y,this.decorations,this.dynamicDecorationMap);O=I.breakAtStart,T=I.openStart,k=V.openEnd;let N=this.compositionView(a);V.breakAtStart?N.breakAfter=1:V.content.length&&N.merge(N.length,N.length,V.content[0],!1,V.openStart,0)&&(N.breakAfter=V.content[0].breakAfter,V.content.shift()),I.content.length&&N.merge(0,0,I.content[I.content.length-1],!0,0,I.openEnd)&&I.content.pop(),b=I.content.concat(N).concat(V.content)}else({content:b,breakAtStart:O,openStart:T,openEnd:k}=KR.build(this.view.state.doc,v,y,this.decorations,this.dynamicDecorationMap));let{i:w,off:C}=f.findPos(g,1),{i:_,off:M}=f.findPos(c,-1);i1e(this,_,M,w,C,b,O,T,k)}a&&this.fixCompositionDOM(a)}compositionView(e){let r=new kO(e.text.nodeValue);r.flags|=8;for(let{deco:i}of e.marks)r=new AO(i,[r],r.length);let a=new Qu;return a.append(r,0),a}fixCompositionDOM(e){let r=(f,d)=>{d.flags|=8|(d.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(d);let h=Wl.get(f);h&&h!=d&&(h.dom=null),d.setDOM(f)},a=this.childPos(e.range.fromB,1),i=this.children[a.i];r(e.line,i);for(let f=e.marks.length-1;f>=-1;f--)a=i.childPos(a.off,1),i=i.children[a.i],r(f>=0?e.marks[f].node:e.text,i)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let a=this.view.root.activeElement,i=a==this.dom,f=!i&&YZ(this.dom,this.view.observer.selectionRange)&&!(a&&this.dom.contains(a));if(!(i||r||f))return;let d=this.forceSelection;this.forceSelection=!1;let h=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(h.anchor)),g=h.empty?c:this.moveToLine(this.domAtPos(h.head));if(ds.gecko&&h.empty&&!this.hasComposition&&I5e(c)){let y=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(y,c.node.childNodes[c.offset]||null)),c=g=new Rd(y,0),d=!0}let v=this.view.observer.selectionRange;(d||!v.focusNode||!OH(c.node,c.offset,v.anchorNode,v.anchorOffset)||!OH(g.node,g.offset,v.focusNode,v.focusOffset))&&(this.view.observer.ignore(()=>{ds.android&&ds.chrome&&this.dom.contains(v.focusNode)&&V5e(v.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let y=bH(this.view.root);if(y)if(h.empty){if(ds.gecko){let b=B5e(c.node,c.offset);if(b&&b!=3){let O=D1e(c.node,c.offset,b==1?1:-1);O&&(c=new Rd(O.node,O.offset))}}y.collapse(c.node,c.offset),h.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=h.bidiLevel)}else if(y.extend){y.collapse(c.node,c.offset);try{y.extend(g.node,g.offset)}catch{}}else{let b=document.createRange();h.anchor>h.head&&([c,g]=[g,c]),b.setEnd(g.node,g.offset),b.setStart(c.node,c.offset),y.removeAllRanges(),y.addRange(b)}f&&this.view.root.activeElement==this.dom&&(this.dom.blur(),a&&a.focus())}),this.view.observer.setSelectionRange(c,g)),this.impreciseAnchor=c.precise?null:new Rd(v.anchorNode,v.anchorOffset),this.impreciseHead=g.precise?null:new Rd(v.focusNode,v.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,a=bH(e.root),{anchorNode:i,anchorOffset:f}=e.observer.selectionRange;if(!a||!r.empty||!r.assoc||!a.modify)return;let d=Qu.find(this,r.head);if(!d)return;let h=d.posAtStart;if(r.head==h||r.head==h+d.length)return;let c=this.coordsAt(r.head,-1),g=this.coordsAt(r.head,1);if(!c||!g||c.bottom>g.top)return;let v=this.domAtPos(r.head+r.assoc);a.collapse(v.node,v.offset),a.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let y=e.observer.selectionRange;e.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=r.from&&a.collapse(i,f)}moveToLine(e){let r=this.dom,a;if(e.node!=r)return e;for(let i=e.offset;!a&&i<r.childNodes.length;i++){let f=Wl.get(r.childNodes[i]);f instanceof Qu&&(a=f.domAtPos(0))}for(let i=e.offset-1;!a&&i>=0;i--){let f=Wl.get(r.childNodes[i]);f instanceof Qu&&(a=f.domAtPos(f.length))}return a?new Rd(a.node,a.offset,!0):e}nearest(e){for(let r=e;r;){let a=Wl.get(r);if(a&&a.rootView==this)return a;r=r.parentNode}return null}posFromDOM(e,r){let a=this.nearest(e);if(!a)throw new RangeError("Trying to find position for a DOM position outside of the document");return a.localPosFromDOM(e,r)+a.posAtStart}domAtPos(e){let{i:r,off:a}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let i=this.children[r];if(a<i.length||i instanceof Qu)break;r++,a=0}return this.children[r].domAtPos(a)}coordsAt(e,r){let a=null,i=0;for(let f=this.length,d=this.children.length-1;d>=0;d--){let h=this.children[d],c=f-h.breakAfter,g=c-h.length;if(c<e)break;g<=e&&(g<e||h.covers(-1))&&(c>e||h.covers(1))&&(!a||h instanceof Qu&&!(a instanceof Qu&&r>=0))&&(a=h,i=g),f=g}return a?a.coordsAt(e-i,r):null}coordsForChar(e){let{i:r,off:a}=this.childPos(e,1),i=this.children[r];if(!(i instanceof Qu))return null;for(;i.children.length;){let{i:h,off:c}=i.childPos(a,1);for(;;h++){if(h==i.children.length)return null;if((i=i.children[h]).length)break}a=c}if(!(i instanceof kO))return null;let f=Jf(i.text,a);if(f==a)return null;let d=QT(i.dom,a,f).getClientRects();for(let h=0;h<d.length;h++){let c=d[h];if(h==d.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let r=[],{from:a,to:i}=e,f=this.view.contentDOM.clientWidth,d=f>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,h=-1,c=this.view.textDirection==xc.LTR;for(let g=0,v=0;v<this.children.length;v++){let y=this.children[v],b=g+y.length;if(b>i)break;if(g>=a){let O=y.dom.getBoundingClientRect();if(r.push(O.height),d){let T=y.dom.lastChild,k=T?g8(T):[];if(k.length){let w=k[k.length-1],C=c?w.right-O.left:O.right-w.left;C>h&&(h=C,this.minWidth=f,this.minWidthFrom=g,this.minWidthTo=b)}}}g=b+y.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?xc.RTL:xc.LTR}measureTextSize(){for(let f of this.children)if(f instanceof Qu){let d=f.measureTextSize();if(d)return d}let e=document.createElement("div"),r,a,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let f=g8(e.firstChild)[0];r=e.getBoundingClientRect().height,a=f?f.width/27:7,i=f?f.height:r,e.remove()}),{lineHeight:r,charWidth:a,textHeight:i}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new a1e(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let a=0,i=0;;i++){let f=i==r.viewports.length?null:r.viewports[i],d=f?f.from-1:this.length;if(d>a){let h=(r.lineBlockAt(d).bottom-r.lineBlockAt(a).top)/this.view.scaleY;e.push(Ss.replace({widget:new vde(h),block:!0,inclusive:!0,isBlockGap:!0}).range(a,d))}if(!f)break;a=f.to+1}return Ss.set(e)}updateDeco(){let e=this.view.state.facet(bD).map((r,a)=>(this.dynamicDecorationMap[a]=typeof r=="function")?r(this.view):r);for(let r=e.length;r<e.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let g=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=g.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:r}=e,a=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),i;if(!a)return;!r.empty&&(i=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(a={left:Math.min(a.left,i.left),top:Math.min(a.top,i.top),right:Math.max(a.right,i.right),bottom:Math.max(a.bottom,i.bottom)});let f=k1e(this.view),d={left:a.left-f.left,top:a.top-f.top,right:a.right+f.right,bottom:a.bottom+f.bottom},{offsetWidth:h,offsetHeight:c}=this.view.scrollDOM;p5e(this.view.scrollDOM,d,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,h),-h),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==xc.LTR)}}function I5e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class vde extends jv{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function R1e(t,e){let r=t.observer.selectionRange,a=r.focusNode&&D1e(r.focusNode,r.focusOffset,0);if(!a)return null;let i=e-a.offset;return{from:i,to:i+a.node.nodeValue.length,node:a.node}}function N5e(t,e,r){let a=R1e(t,r);if(!a)return null;let{node:i,from:f,to:d}=a,h=i.nodeValue;if(/[\n\r]/.test(h)||t.state.doc.sliceString(a.from,a.to)!=h)return null;let c=e.invertedDesc,g=new Ip(c.mapPos(f),c.mapPos(d),f,d),v=[];for(let y=i.parentNode;;y=y.parentNode){let b=Wl.get(y);if(b instanceof AO)v.push({node:y,deco:b.mark});else{if(b instanceof Qu||y.nodeName=="DIV"&&y.parentNode==t.contentDOM)return{range:g,text:i,marks:v,line:y};if(y!=t.contentDOM)v.push({node:y,deco:new GD({inclusive:!0,attributes:C5e(y),tagName:y.tagName.toLowerCase()})});else return null}}}function D1e(t,e,r){if(r<=0)for(let a=t,i=e;;){if(a.nodeType==3)return{node:a,offset:i};if(a.nodeType==1&&i>0)a=a.childNodes[i-1],i=TO(a);else break}if(r>=0)for(let a=t,i=e;;){if(a.nodeType==3)return{node:a,offset:i};if(a.nodeType==1&&i<a.childNodes.length&&r>=0)a=a.childNodes[i],i=0;else break}return null}function B5e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Q5e=class{constructor(){this.changes=[]}compareRange(e,r){Pse(e,r,this.changes)}comparePoint(e,r){Pse(e,r,this.changes)}};function F5e(t,e,r){let a=new Q5e;return Ji.compare(t,e,r,a),a.changes}function V5e(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function z5e(t,e){let r=!1;return e&&t.iterChangedRanges((a,i)=>{a<e.to&&i>e.from&&(r=!0)}),r}function Z5e(t,e,r=1){let a=t.charCategorizer(e),i=t.doc.lineAt(e),f=e-i.from;if(i.length==0)return xr.cursor(e);f==0?r=1:f==i.length&&(r=-1);let d=f,h=f;r<0?d=Jf(i.text,f,!1):h=Jf(i.text,f);let c=a(i.text.slice(d,h));for(;d>0;){let g=Jf(i.text,d,!1);if(a(i.text.slice(g,d))!=c)break;d=g}for(;h<i.length;){let g=Jf(i.text,h);if(a(i.text.slice(h,g))!=c)break;h=g}return xr.range(d+i.from,h+i.from)}function H5e(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function U5e(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Yre(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function yde(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function bde(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Dse(t,e,r){let a,i,f,d,h=!1,c,g,v,y;for(let T=t.firstChild;T;T=T.nextSibling){let k=g8(T);for(let w=0;w<k.length;w++){let C=k[w];i&&Yre(i,C)&&(C=yde(bde(C,i.bottom),i.top));let _=H5e(e,C),M=U5e(r,C);if(_==0&&M==0)return T.nodeType==3?Ode(T,e,r):Dse(T,e,r);if(!a||d>M||d==M&&f>_){a=T,i=C,f=_,d=M;let I=M?r<C.top?-1:1:_?e<C.left?-1:1:0;h=!I||(I>0?w<k.length-1:w>0)}_==0?r>C.bottom&&(!v||v.bottom<C.bottom)?(c=T,v=C):r<C.top&&(!y||y.top>C.top)&&(g=T,y=C):v&&Yre(v,C)?v=bde(v,C.bottom):y&&Yre(y,C)&&(y=yde(y,C.top))}}if(v&&v.bottom>=r?(a=c,i=v):y&&y.top<=r&&(a=g,i=y),!a)return{node:t,offset:0};let b=Math.max(i.left,Math.min(i.right,e));if(a.nodeType==3)return Ode(a,b,r);if(h&&a.contentEditable!="false")return Dse(a,b,r);let O=Array.prototype.indexOf.call(t.childNodes,a)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:O}}function Ode(t,e,r){let a=t.nodeValue.length,i=-1,f=1e9,d=0;for(let h=0;h<a;h++){let c=QT(t,h,h+1).getClientRects();for(let g=0;g<c.length;g++){let v=c[g];if(v.top==v.bottom)continue;d||(d=e-v.left);let y=(v.top>r?v.top-r:r-v.bottom)-1;if(v.left-1<=e&&v.right+1>=e&&y<f){let b=e>=(v.left+v.right)/2,O=b;if((ds.chrome||ds.gecko)&&QT(t,h).getBoundingClientRect().left==v.right&&(O=!b),y<=0)return{node:t,offset:h+(O?1:0)};i=h+(O?1:0),f=y}}}return{node:t,offset:i>-1?i:d>0?t.nodeValue.length:0}}function $1e(t,e,r,a=-1){var i,f;let d=t.contentDOM.getBoundingClientRect(),h=d.top+t.viewState.paddingTop,c,{docHeight:g}=t.viewState,{x:v,y}=e,b=y-h;if(b<0)return 0;if(b>g)return t.state.doc.length;for(let I=t.viewState.heightOracle.textHeight/2,V=!1;c=t.elementAtHeight(b),c.type!=yh.Text;)for(;b=a>0?c.bottom+I:c.top-I,!(b>=0&&b<=g);){if(V)return r?null:0;V=!0,a=-a}y=h+b;let O=c.from;if(O<t.viewport.from)return t.viewport.from==0?0:r?null:xde(t,d,c,v,y);if(O>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:xde(t,d,c,v,y);let T=t.dom.ownerDocument,k=t.root.elementFromPoint?t.root:T,w=k.elementFromPoint(v,y);w&&!t.contentDOM.contains(w)&&(w=null),w||(v=Math.max(d.left+1,Math.min(d.right-1,v)),w=k.elementFromPoint(v,y),w&&!t.contentDOM.contains(w)&&(w=null));let C,_=-1;if(w&&((i=t.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(T.caretPositionFromPoint){let I=T.caretPositionFromPoint(v,y);I&&({offsetNode:C,offset:_}=I)}else if(T.caretRangeFromPoint){let I=T.caretRangeFromPoint(v,y);I&&({startContainer:C,startOffset:_}=I,(!t.contentDOM.contains(C)||ds.safari&&W5e(C,_,v)||ds.chrome&&Y5e(C,_,v))&&(C=void 0))}}if(!C||!t.docView.dom.contains(C)){let I=Qu.find(t.docView,O);if(!I)return b>c.top+c.height/2?c.to:c.from;({node:C,offset:_}=Dse(I.dom,v,y))}let M=t.docView.nearest(C);if(!M)return null;if(M.isWidget&&((f=M.dom)===null||f===void 0?void 0:f.nodeType)==1){let I=M.dom.getBoundingClientRect();return e.y<I.top||e.y<=I.bottom&&e.x<=(I.left+I.right)/2?M.posAtStart:M.posAtEnd}else return M.localPosFromDOM(C,_)+M.posAtStart}function xde(t,e,r,a,i){let f=Math.round((a-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let h=t.viewState.heightOracle.textHeight,c=Math.floor((i-r.top-(t.defaultLineHeight-h)*.5)/h);f+=c*t.viewState.heightOracle.lineLength}let d=t.state.sliceDoc(r.from,r.to);return r.from+bse(d,f,t.state.tabSize)}function W5e(t,e,r){let a;if(t.nodeType!=3||e!=(a=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return QT(t,a-1,a).getBoundingClientRect().left>r}function Y5e(t,e,r){if(e!=0)return!1;for(let i=t;;){let f=i.parentNode;if(!f||f.nodeType!=1||f.firstChild!=i)return!1;if(f.classList.contains("cm-line"))break;i=f}let a=t.nodeType==1?t.getBoundingClientRect():QT(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-a.left>5}function $se(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let a of r.type)if(a.to>e||a.to==e&&(a.to==r.to||a.type==yh.Text))return a}return r}function X5e(t,e,r,a){let i=$se(t,e.head),f=!a||i.type!=yh.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(f){let d=t.dom.getBoundingClientRect(),h=t.textDirectionAt(i.from),c=t.posAtCoords({x:r==(h==xc.LTR)?d.right-1:d.left+1,y:(f.top+f.bottom)/2});if(c!=null)return xr.cursor(c,r?-1:1)}return xr.cursor(r?i.to:i.from,r?-1:1)}function Sde(t,e,r,a){let i=t.state.doc.lineAt(e.head),f=t.bidiSpans(i),d=t.textDirectionAt(i.from);for(let h=e,c=null;;){let g=L5e(i,f,d,h,r),v=_1e;if(!g){if(i.number==(r?t.state.doc.lines:1))return h;v=`
`,i=t.state.doc.line(i.number+(r?1:-1)),f=t.bidiSpans(i),g=xr.cursor(r?i.from:i.to)}if(c){if(!c(v))return h}else{if(!a)return g;c=a(v)}h=g}}function G5e(t,e,r){let a=t.state.charCategorizer(e),i=a(r);return f=>{let d=a(f);return i==ac.Space&&(i=d),i==d}}function j5e(t,e,r,a){let i=e.head,f=r?1:-1;if(i==(r?t.state.doc.length:0))return xr.cursor(i,e.assoc);let d=e.goalColumn,h,c=t.contentDOM.getBoundingClientRect(),g=t.coordsAtPos(i,e.assoc||-1),v=t.documentTop;if(g)d==null&&(d=g.left-c.left),h=f<0?g.top:g.bottom;else{let O=t.viewState.lineBlockAt(i);d==null&&(d=Math.min(c.right-c.left,t.defaultCharacterWidth*(i-O.from))),h=(f<0?O.top:O.bottom)+v}let y=c.left+d,b=a??t.viewState.heightOracle.textHeight>>1;for(let O=0;;O+=10){let T=h+(b+O)*f,k=$1e(t,{x:y,y:T},!1,f);if(T<c.top||T>c.bottom||(f<0?k<i:k>i)){let w=t.docView.coordsForChar(k),C=!w||T<w.top?-1:1;return xr.cursor(k,C,void 0,d)}}}function XZ(t,e,r){for(;;){let a=0;for(let i of t)i.between(e-1,e+1,(f,d,h)=>{if(e>f&&e<d){let c=a||r||(e-f<d-e?-1:1);e=c<0?f:d,a=c}});if(!a)return e}}function Xre(t,e,r){let a=XZ(t.state.facet(kie).map(i=>i(t)),r.from,e.head>r.from?-1:1);return a==r.from?r:xr.cursor(a,a<r.from?1:-1)}class q5e{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ds.safari&&e.contentDOM.addEventListener("input",()=>null),ds.gecko&&hke(e.contentDOM.ownerDocument)}handleEvent(e){!ske(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,r){let a=this.handlers[e];if(a){for(let i of a.observers)i(this.view,r);for(let i of a.handlers){if(r.defaultPrevented)break;if(i(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=K5e(e),a=this.handlers,i=this.view.contentDOM;for(let f in r)if(f!="scroll"){let d=!r[f].handlers.length,h=a[f];h&&d!=!h.handlers.length&&(i.removeEventListener(f,this.handleEvent),h=null),h||i.addEventListener(f,this.handleEvent,{passive:d})}for(let f in a)f!="scroll"&&!r[f]&&i.removeEventListener(f,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&I1e.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),ds.android&&ds.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return ds.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=L1e.find(a=>a.keyCode==e.keyCode))&&!e.ctrlKey||J5e.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,r8(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ds.safari&&!ds.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function wde(t,e){return(r,a)=>{try{return e.call(t,a,r)}catch(i){Lp(r.state,i)}}}function K5e(t){let e=Object.create(null);function r(a){return e[a]||(e[a]={observers:[],handlers:[]})}for(let a of t){let i=a.spec;if(i&&i.domEventHandlers)for(let f in i.domEventHandlers){let d=i.domEventHandlers[f];d&&r(f).handlers.push(wde(a.value,d))}if(i&&i.domEventObservers)for(let f in i.domEventObservers){let d=i.domEventObservers[f];d&&r(f).observers.push(wde(a.value,d))}}for(let a in Yv)r(a).handlers.push(Yv[a]);for(let a in Xv)r(a).observers.push(Xv[a]);return e}const L1e=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],J5e="dthko",I1e=[16,17,18,20,91,92,224,225],uZ=6;function fZ(t){return Math.max(0,t)*.7+8}function eke(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class tke{constructor(e,r,a,i){this.view=e,this.startEvent=r,this.style=a,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParent=v5e(e.contentDOM),this.atoms=e.state.facet(kie).map(d=>d(e));let f=e.contentDOM.ownerDocument;f.addEventListener("mousemove",this.move=this.move.bind(this)),f.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Na.allowMultipleSelections)&&nke(e,r),this.dragging=oke(e,r)&&F1e(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var r;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&eke(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let a=0,i=0,f=((r=this.scrollParent)===null||r===void 0?void 0:r.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},d=k1e(this.view);e.clientX-d.left<=f.left+uZ?a=-fZ(f.left-e.clientX):e.clientX+d.right>=f.right-uZ&&(a=fZ(e.clientX-f.right)),e.clientY-d.top<=f.top+uZ?i=-fZ(f.top-e.clientY):e.clientY+d.bottom>=f.bottom-uZ&&(i=fZ(e.clientY-f.bottom)),this.setScrollSpeed(a,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let a=0;a<e.ranges.length;a++){let i=e.ranges[a],f=null;if(i.empty){let d=XZ(this.atoms,i.from,0);d!=i.from&&(f=xr.cursor(d,-1))}else{let d=XZ(this.atoms,i.from,-1),h=XZ(this.atoms,i.to,1);(d!=i.from||h!=i.to)&&(f=xr.range(i.from==i.anchor?d:h,i.from==i.head?d:h))}f&&(r||(r=e.ranges.slice()),r[a]=f)}return r?xr.create(r,e.mainIndex):e}select(e){let{view:r}=this,a=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!a.eq(r.state.selection)||a.main.assoc!=r.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:a,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function nke(t,e){let r=t.state.facet(g1e);return r.length?r[0](e):ds.mac?e.metaKey:e.ctrlKey}function rke(t,e){let r=t.state.facet(p1e);return r.length?r[0](e):ds.mac?!e.altKey:!e.ctrlKey}function oke(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let a=bH(t.root);if(!a||a.rangeCount==0)return!0;let i=a.getRangeAt(0).getClientRects();for(let f=0;f<i.length;f++){let d=i[f];if(d.left<=e.clientX&&d.right>=e.clientX&&d.top<=e.clientY&&d.bottom>=e.clientY)return!0}return!1}function ske(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,a;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(a=Wl.get(r))&&a.ignoreEvent(e))return!1;return!0}const Yv=Object.create(null),Xv=Object.create(null),N1e=ds.ie&&ds.ie_version<15||ds.ios&&ds.webkit_version<604;function ake(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),B1e(t,r.value)},50)}function B1e(t,e){let{state:r}=t,a,i=1,f=r.toText(e),d=f.lines==r.selection.ranges.length;if(Lse!=null&&r.selection.ranges.every(c=>c.empty)&&Lse==f.toString()){let c=-1;a=r.changeByRange(g=>{let v=r.doc.lineAt(g.from);if(v.from==c)return{range:g};c=v.from;let y=r.toText((d?f.line(i++).text:e)+r.lineBreak);return{changes:{from:v.from,insert:y},range:xr.cursor(g.from+y.length)}})}else d?a=r.changeByRange(c=>{let g=f.line(i++);return{changes:{from:c.from,to:c.to,insert:g.text},range:xr.cursor(c.from+g.length)}}):a=r.replaceSelection(f);t.dispatch(a,{userEvent:"input.paste",scrollIntoView:!0})}Xv.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Yv.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1);Xv.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Xv.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Yv.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let a of t.state.facet(v1e))if(r=a(t,e),r)break;if(!r&&e.button==0&&(r=cke(t,e)),r){let a=!t.hasFocus;t.inputState.startMouseSelection(new tke(t,e,r,a)),a&&t.observer.ignore(()=>r1e(t.contentDOM));let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Cde(t,e,r,a){if(a==1)return xr.cursor(e,r);if(a==2)return Z5e(t.state,e,r);{let i=Qu.find(t.docView,e),f=t.state.doc.lineAt(i?i.posAtEnd:e),d=i?i.posAtStart:f.from,h=i?i.posAtEnd:f.to;return h<t.state.doc.length&&h==f.to&&h++,xr.range(d,h)}}let Q1e=(t,e)=>t>=e.top&&t<=e.bottom,Tde=(t,e,r)=>Q1e(e,r)&&t>=r.left&&t<=r.right;function ike(t,e,r,a){let i=Qu.find(t.docView,e);if(!i)return 1;let f=e-i.posAtStart;if(f==0)return 1;if(f==i.length)return-1;let d=i.coordsAt(f,-1);if(d&&Tde(r,a,d))return-1;let h=i.coordsAt(f,1);return h&&Tde(r,a,h)?1:d&&Q1e(a,d)?-1:1}function kde(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:ike(t,r,e.clientX,e.clientY)}}const lke=ds.ie&&ds.ie_version<=11;let Ade=null,Pde=0,Mde=0;function F1e(t){if(!lke)return t.detail;let e=Ade,r=Mde;return Ade=t,Mde=Date.now(),Pde=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Pde+1)%3:1}function cke(t,e){let r=kde(t,e),a=F1e(e),i=t.state.selection;return{update(f){f.docChanged&&(r.pos=f.changes.mapPos(r.pos),i=i.map(f.changes))},get(f,d,h){let c=kde(t,f),g,v=Cde(t,c.pos,c.bias,a);if(r.pos!=c.pos&&!d){let y=Cde(t,r.pos,r.bias,a),b=Math.min(y.from,v.from),O=Math.max(y.to,v.to);v=b<v.from?xr.range(b,O):xr.range(O,b)}return d?i.replaceRange(i.main.extend(v.from,v.to)):h&&a==1&&i.ranges.length>1&&(g=uke(i,c.pos))?g:h?i.addRange(v):xr.create([v])}}}function uke(t,e){for(let r=0;r<t.ranges.length;r++){let{from:a,to:i}=t.ranges[r];if(a<=e&&i>=e)return xr.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}Yv.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let f=i.posAtStart,d=f+i.length;(f>=r.to||d<=r.from)&&(r=xr.range(f,d))}}let{inputState:a}=t;return a.mouseSelection&&(a.mouseSelection.dragging=!0),a.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(r.from,r.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Yv.dragend=t=>(t.inputState.draggedContent=null,!1);function Ede(t,e,r,a){if(!r)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:f}=t.inputState,d=a&&f&&rke(t,e)?{from:f.from,to:f.to}:null,h={from:i,insert:r},c=t.state.changes(d?[d,h]:h);t.focus(),t.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:d?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Yv.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let a=Array(r.length),i=0,f=()=>{++i==r.length&&Ede(t,e,a.filter(d=>d!=null).join(t.state.lineBreak),!1)};for(let d=0;d<r.length;d++){let h=new FileReader;h.onerror=f,h.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(h.result)||(a[d]=h.result),f()},h.readAsText(r[d])}return!0}else{let a=e.dataTransfer.getData("Text");if(a)return Ede(t,e,a,!0),!0}return!1};Yv.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=N1e?null:e.clipboardData;return r?(B1e(t,r.getData("text/plain")||r.getData("text/uri-text")),!0):(ake(t),!1)};function fke(t,e){let r=t.dom.parentNode;if(!r)return;let a=r.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.value=e,a.focus(),a.selectionEnd=e.length,a.selectionStart=0,setTimeout(()=>{a.remove(),t.focus()},50)}function dke(t){let e=[],r=[],a=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),r.push(i));if(!e.length){let i=-1;for(let{from:f}of t.selection.ranges){let d=t.doc.lineAt(f);d.number>i&&(e.push(d.text),r.push({from:d.from,to:Math.min(t.doc.length,d.to+1)})),i=d.number}a=!0}return{text:e.join(t.lineBreak),ranges:r,linewise:a}}let Lse=null;Yv.copy=Yv.cut=(t,e)=>{let{text:r,ranges:a,linewise:i}=dke(t.state);if(!r&&!i)return!1;Lse=i?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:a,scrollIntoView:!0,userEvent:"delete.cut"});let f=N1e?null:e.clipboardData;return f?(f.clearData(),f.setData("text/plain",r),!0):(fke(t,r),!1)};const V1e=_O.define();function z1e(t,e){let r=[];for(let a of t.facet(O1e)){let i=a(t,e);i&&r.push(i)}return r?t.update({effects:r,annotations:V1e.of(!0)}):null}function Z1e(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=z1e(t.state,e);r?t.dispatch(r):t.update([])}},10)}Xv.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Z1e(t)};Xv.blur=t=>{t.observer.clearSelectionRange(),Z1e(t)};Xv.compositionstart=Xv.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Xv.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ds.chrome&&ds.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};Xv.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Yv.beforeinput=(t,e)=>{var r;let a;if(ds.chrome&&ds.android&&(a=L1e.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var f;(((f=window.visualViewport)===null||f===void 0?void 0:f.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return!1};const _de=new Set;function hke(t){_de.has(t)||(_de.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const Rde=["pre-wrap","normal","pre-line","break-spaces"];class mke{constructor(e){this.lineWrapping=e,this.doc=Si.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,r){let a=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(a+=Math.max(0,Math.ceil((r-e-a*this.lineLength*.5)/this.lineLength))),this.lineHeight*a}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Rde.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let a=0;a<e.length;a++){let i=e[a];i<0?a++:this.heightSamples[Math.floor(i*10)]||(r=!0,this.heightSamples[Math.floor(i*10)]=!0)}return r}refresh(e,r,a,i,f,d){let h=Rde.indexOf(e)>-1,c=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=h;if(this.lineWrapping=h,this.lineHeight=r,this.charWidth=a,this.textHeight=i,this.lineLength=f,c){this.heightSamples={};for(let g=0;g<d.length;g++){let v=d[g];v<0?g++:this.heightSamples[Math.floor(v*10)]=!0}}return c}}class gke{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class Y0{constructor(e,r,a,i,f){this.from=e,this.length=r,this.top=a,this.height=i,this._content=f}get type(){return typeof this._content=="number"?yh.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof RS?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Y0(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var Hl=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Hl||(Hl={}));const GZ=.001;class bh{constructor(e,r,a=2){this.length=e,this.height=r,this.flags=a}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,r){this.height!=r&&(Math.abs(this.height-r)>GZ&&(e.heightChanged=!0),this.height=r)}replace(e,r,a){return bh.of(a)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,a,i){let f=this,d=a.doc;for(let h=i.length-1;h>=0;h--){let{fromA:c,toA:g,fromB:v,toB:y}=i[h],b=f.lineAt(c,Hl.ByPosNoHeight,a.setDoc(r),0,0),O=b.to>=g?b:f.lineAt(g,Hl.ByPosNoHeight,a,0,0);for(y+=O.to-g,g=O.to;h>0&&b.from<=i[h-1].toA;)c=i[h-1].fromA,v=i[h-1].fromB,h--,c<b.from&&(b=f.lineAt(c,Hl.ByPosNoHeight,a,0,0));v+=b.from-c,c=b.from;let T=Aie.build(a.setDoc(d),e,v,y);f=f.replace(c,g,T)}return f.updateHeight(a,0)}static empty(){return new hg(0,0)}static of(e){if(e.length==1)return e[0];let r=0,a=e.length,i=0,f=0;for(;;)if(r==a)if(i>f*2){let h=e[r-1];h.break?e.splice(--r,1,h.left,null,h.right):e.splice(--r,1,h.left,h.right),a+=1+h.break,i-=h.size}else if(f>i*2){let h=e[a];h.break?e.splice(a,1,h.left,null,h.right):e.splice(a,1,h.left,h.right),a+=2+h.break,f-=h.size}else break;else if(i<f){let h=e[r++];h&&(i+=h.size)}else{let h=e[--a];h&&(f+=h.size)}let d=0;return e[r-1]==null?(d=1,r--):e[r]==null&&(d=1,a++),new pke(bh.of(e.slice(0,r)),d,bh.of(e.slice(a)))}}bh.prototype.size=1;class H1e extends bh{constructor(e,r,a){super(e,r),this.deco=a}blockAt(e,r,a,i){return new Y0(i,this.length,a,this.height,this.deco||0)}lineAt(e,r,a,i,f){return this.blockAt(0,a,i,f)}forEachLine(e,r,a,i,f,d){e<=f+this.length&&r>=f&&d(this.blockAt(0,a,i,f))}updateHeight(e,r=0,a=!1,i){return i&&i.from<=r&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class hg extends H1e{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,a,i){return new Y0(i,this.length,a,this.height,this.breaks)}replace(e,r,a){let i=a[0];return a.length==1&&(i instanceof hg||i instanceof Yf&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Yf?i=new hg(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):bh.of(a)}updateHeight(e,r=0,a=!1,i){return i&&i.from<=r&&i.more?this.setHeight(e,i.heights[i.index++]):(a||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Yf extends bh{constructor(e){super(e,0)}heightMetrics(e,r){let a=e.doc.lineAt(r).number,i=e.doc.lineAt(r+this.length).number,f=i-a+1,d,h=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*f);d=c/f,this.length>f+1&&(h=(this.height-c)/(this.length-f-1))}else d=this.height/f;return{firstLine:a,lastLine:i,perLine:d,perChar:h}}blockAt(e,r,a,i){let{firstLine:f,lastLine:d,perLine:h,perChar:c}=this.heightMetrics(r,i);if(r.lineWrapping){let g=i+Math.round(Math.max(0,Math.min(1,(e-a)/this.height))*this.length),v=r.doc.lineAt(g),y=h+v.length*c,b=Math.max(a,e-y/2);return new Y0(v.from,v.length,b,y,0)}else{let g=Math.max(0,Math.min(d-f,Math.floor((e-a)/h))),{from:v,length:y}=r.doc.line(f+g);return new Y0(v,y,a+h*g,h,0)}}lineAt(e,r,a,i,f){if(r==Hl.ByHeight)return this.blockAt(e,a,i,f);if(r==Hl.ByPosNoHeight){let{from:O,to:T}=a.doc.lineAt(e);return new Y0(O,T-O,0,0,0)}let{firstLine:d,perLine:h,perChar:c}=this.heightMetrics(a,f),g=a.doc.lineAt(e),v=h+g.length*c,y=g.number-d,b=i+h*y+c*(g.from-f-y);return new Y0(g.from,g.length,Math.max(i,Math.min(b,i+this.height-v)),v,0)}forEachLine(e,r,a,i,f,d){e=Math.max(e,f),r=Math.min(r,f+this.length);let{firstLine:h,perLine:c,perChar:g}=this.heightMetrics(a,f);for(let v=e,y=i;v<=r;){let b=a.doc.lineAt(v);if(v==e){let T=b.number-h;y+=c*T+g*(e-f-T)}let O=c+g*b.length;d(new Y0(b.from,b.length,y,O,0)),y+=O,v=b.to+1}}replace(e,r,a){let i=this.length-r;if(i>0){let f=a[a.length-1];f instanceof Yf?a[a.length-1]=new Yf(f.length+i):a.push(null,new Yf(i-1))}if(e>0){let f=a[0];f instanceof Yf?a[0]=new Yf(e+f.length):a.unshift(new Yf(e-1),null)}return bh.of(a)}decomposeLeft(e,r){r.push(new Yf(e-1),null)}decomposeRight(e,r){r.push(null,new Yf(this.length-e-1))}updateHeight(e,r=0,a=!1,i){let f=r+this.length;if(i&&i.from<=r+this.length&&i.more){let d=[],h=Math.max(r,i.from),c=-1;for(i.from>r&&d.push(new Yf(i.from-r-1).updateHeight(e,r));h<=f&&i.more;){let v=e.doc.lineAt(h).length;d.length&&d.push(null);let y=i.heights[i.index++];c==-1?c=y:Math.abs(y-c)>=GZ&&(c=-2);let b=new hg(v,y);b.outdated=!1,d.push(b),h+=v+1}h<=f&&d.push(null,new Yf(f-h).updateHeight(e,h));let g=bh.of(d);return(c<0||Math.abs(g.height-this.height)>=GZ||Math.abs(c-this.heightMetrics(e,r).perLine)>=GZ)&&(e.heightChanged=!0),g}else(a||this.outdated)&&(this.setHeight(e,e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class pke extends bh{constructor(e,r,a){super(e.length+r+a.length,e.height+a.height,r|(e.outdated||a.outdated?2:0)),this.left=e,this.right=a,this.size=e.size+a.size}get break(){return this.flags&1}blockAt(e,r,a,i){let f=a+this.left.height;return e<f?this.left.blockAt(e,r,a,i):this.right.blockAt(e,r,f,i+this.left.length+this.break)}lineAt(e,r,a,i,f){let d=i+this.left.height,h=f+this.left.length+this.break,c=r==Hl.ByHeight?e<d:e<h,g=c?this.left.lineAt(e,r,a,i,f):this.right.lineAt(e,r,a,d,h);if(this.break||(c?g.to<h:g.from>h))return g;let v=r==Hl.ByPosNoHeight?Hl.ByPosNoHeight:Hl.ByPos;return c?g.join(this.right.lineAt(h,v,a,d,h)):this.left.lineAt(h,v,a,i,f).join(g)}forEachLine(e,r,a,i,f,d){let h=i+this.left.height,c=f+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,r,a,i,f,d),r>=c&&this.right.forEachLine(e,r,a,h,c,d);else{let g=this.lineAt(c,Hl.ByPos,a,i,f);e<g.from&&this.left.forEachLine(e,g.from-1,a,i,f,d),g.to>=e&&g.from<=r&&d(g),r>g.to&&this.right.forEachLine(g.to+1,r,a,h,c,d)}}replace(e,r,a){let i=this.left.length+this.break;if(r<i)return this.balanced(this.left.replace(e,r,a),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,r-i,a));let f=[];e>0&&this.decomposeLeft(e,f);let d=f.length;for(let h of a)f.push(h);if(e>0&&Dde(f,d-1),r<this.length){let h=f.length;this.decomposeRight(r,f),Dde(f,h)}return bh.of(f)}decomposeLeft(e,r){let a=this.left.length;if(e<=a)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(a++,e>=a&&r.push(null)),e>a&&this.right.decomposeLeft(e-a,r)}decomposeRight(e,r){let a=this.left.length,i=a+this.break;if(e>=i)return this.right.decomposeRight(e-i,r);e<a&&this.left.decomposeRight(e,r),this.break&&e<i&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?bh.of(this.break?[e,null,r]:[e,r]):(this.left=e,this.right=r,this.height=e.height+r.height,this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,a=!1,i){let{left:f,right:d}=this,h=r+f.length+this.break,c=null;return i&&i.from<=r+f.length&&i.more?c=f=f.updateHeight(e,r,a,i):f.updateHeight(e,r,a),i&&i.from<=h+d.length&&i.more?c=d=d.updateHeight(e,h,a,i):d.updateHeight(e,h,a),c?this.balanced(f,d):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Dde(t,e){let r,a;t[e]==null&&(r=t[e-1])instanceof Yf&&(a=t[e+1])instanceof Yf&&t.splice(e-1,3,new Yf(r.length+1+a.length))}const vke=5;class Aie{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let a=Math.min(r,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof hg?i.length+=a-this.pos:(a>this.pos||!this.isCovered)&&this.nodes.push(new hg(a-this.pos,-1)),this.writtenTo=a,r>a&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,a){if(e<r||a.heightRelevant){let i=a.widget?a.widget.estimatedHeight:0,f=a.widget?a.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let d=r-e;a.block?this.addBlock(new H1e(d,i,a)):(d||f||i>=vke)&&this.addLineDeco(i,f,d)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new hg(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let a=new Yf(r-e);return this.oracle.doc.lineAt(e).to==r&&(a.flags|=4),a}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof hg)return e;let r=new hg(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,a){let i=this.ensureLine();i.length+=a,i.collapsed+=a,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=r,this.writtenTo=this.pos=this.pos+a}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof hg)&&!this.isCovered?this.nodes.push(new hg(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let a=e;for(let i of this.nodes)i instanceof hg&&i.updateHeight(this.oracle,a),a+=i?i.length:1;return this.nodes}static build(e,r,a,i){let f=new Aie(a,e);return Ji.spans(r,a,i,f,0),f.finish(a)}}function yke(t,e,r){let a=new bke;return Ji.compare(t,e,r,a,0),a.changes}class bke{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,a,i){(e<r||a&&a.heightRelevant||i&&i.heightRelevant)&&Pse(e,r,this.changes,5)}}function Oke(t,e){let r=t.getBoundingClientRect(),a=t.ownerDocument,i=a.defaultView||window,f=Math.max(0,r.left),d=Math.min(i.innerWidth,r.right),h=Math.max(0,r.top),c=Math.min(i.innerHeight,r.bottom);for(let g=t.parentNode;g&&g!=a.body;)if(g.nodeType==1){let v=g,y=window.getComputedStyle(v);if((v.scrollHeight>v.clientHeight||v.scrollWidth>v.clientWidth)&&y.overflow!="visible"){let b=v.getBoundingClientRect();f=Math.max(f,b.left),d=Math.min(d,b.right),h=Math.max(h,b.top),c=g==t.parentNode?b.bottom:Math.min(c,b.bottom)}g=y.position=="absolute"||y.position=="fixed"?v.offsetParent:v.parentNode}else if(g.nodeType==11)g=g.host;else break;return{left:f-r.left,right:Math.max(f,d)-r.left,top:h-(r.top+e),bottom:Math.max(h,c)-(r.top+e)}}function xke(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class Gre{constructor(e,r,a){this.from=e,this.to=r,this.size=a}static same(e,r){if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){let i=e[a],f=r[a];if(i.from!=f.from||i.to!=f.to||i.size!=f.size)return!1}return!0}draw(e,r){return Ss.replace({widget:new Ske(this.size*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class Ske extends jv{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class $de{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Lde,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=xc.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(Tie).some(a=>typeof a!="function"&&a.class=="cm-lineWrapping");this.heightOracle=new mke(r),this.stateDeco=e.facet(bD).filter(a=>typeof a!="function"),this.heightMap=bh.empty().applyChanges(this.stateDeco,Si.empty,this.heightOracle.setDoc(e.doc),[new Ip(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ss.set(this.lineGaps.map(a=>a.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let a=0;a<=1;a++){let i=a?r.head:r.anchor;if(!e.some(({from:f,to:d})=>i>=f&&i<=d)){let{from:f,to:d}=this.lineBlockAt(i);e.push(new dZ(f,d))}}this.viewports=e.sort((a,i)=>a.from-i.from),this.scaler=this.heightMap.height<=7e6?Lde:new Tke(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:FR(e,this.scaler))})}update(e,r=null){this.state=e.state;let a=this.stateDeco;this.stateDeco=this.state.facet(bD).filter(v=>typeof v!="function");let i=e.changedRanges,f=Ip.extendWithRanges(i,yke(a,this.stateDeco,e?e.changes:Fu.empty(this.state.doc.length))),d=this.heightMap.height,h=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),f),this.heightMap.height!=d&&(e.flags|=2),h?(this.scrollAnchorPos=e.changes.mapPos(h.from,-1),this.scrollAnchorHeight=h.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=f.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<c.from||r.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,r));let g=!e.changes.empty||e.flags&2||c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,this.updateForViewport(),g&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(S1e)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,a=window.getComputedStyle(r),i=this.heightOracle,f=a.whiteSpace;this.defaultTextDirection=a.direction=="rtl"?xc.RTL:xc.LTR;let d=this.heightOracle.mustRefreshForWrapping(f),h=r.getBoundingClientRect(),c=d||this.mustMeasureContent||this.contentDOMHeight!=h.height;this.contentDOMHeight=h.height,this.mustMeasureContent=!1;let g=0,v=0;if(h.width&&h.height){let I=h.width/r.offsetWidth,V=h.height/r.offsetHeight;(I>.995&&I<1.005||!isFinite(I)||Math.abs(h.width-r.offsetWidth)<1)&&(I=1),(V>.995&&V<1.005||!isFinite(V)||Math.abs(h.height-r.offsetHeight)<1)&&(V=1),(this.scaleX!=I||this.scaleY!=V)&&(this.scaleX=I,this.scaleY=V,g|=8,d=c=!0)}let y=(parseInt(a.paddingTop)||0)*this.scaleY,b=(parseInt(a.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=b)&&(this.paddingTop=y,this.paddingBottom=b,g|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,g|=8);let O=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=O&&(this.scrollAnchorHeight=-1,this.scrollTop=O),this.scrolledToBottom=s1e(e.scrollDOM);let T=(this.printing?xke:Oke)(r,this.paddingTop),k=T.top-this.pixelViewport.top,w=T.bottom-this.pixelViewport.bottom;this.pixelViewport=T;let C=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(C!=this.inView&&(this.inView=C,C&&(c=!0)),!this.inView&&!this.scrollTarget)return 0;let _=h.width;if((this.contentDOMWidth!=_||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=h.width,this.editorHeight=e.scrollDOM.clientHeight,g|=8),c){let I=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(I)&&(d=!0),d||i.lineWrapping&&Math.abs(_-this.contentDOMWidth)>i.charWidth){let{lineHeight:V,charWidth:N,textHeight:Q}=e.docView.measureTextSize();d=V>0&&i.refresh(f,V,N,Q,_/N,I),d&&(e.docView.minWidth=0,g|=8)}k>0&&w>0?v=Math.max(k,w):k<0&&w<0&&(v=Math.min(k,w)),i.heightChanged=!1;for(let V of this.viewports){let N=V.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(V);this.heightMap=(d?bh.empty().applyChanges(this.stateDeco,Si.empty,this.heightOracle,[new Ip(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,d,new gke(V.from,N))}i.heightChanged&&(g|=2)}let M=!this.viewportIsAppropriate(this.viewport,v)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return M&&(this.viewport=this.getViewport(v,this.scrollTarget)),this.updateForViewport(),(g&2||M)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(d?[]:this.lineGaps,e)),g|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),g}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let a=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,f=this.heightOracle,{visibleTop:d,visibleBottom:h}=this,c=new dZ(i.lineAt(d-a*1e3,Hl.ByHeight,f,0,0).from,i.lineAt(h+(1-a)*1e3,Hl.ByHeight,f,0,0).to);if(r){let{head:g}=r.range;if(g<c.from||g>c.to){let v=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=i.lineAt(g,Hl.ByPos,f,0,0),b;r.y=="center"?b=(y.top+y.bottom)/2-v/2:r.y=="start"||r.y=="nearest"&&g<c.from?b=y.top:b=y.bottom-v,c=new dZ(i.lineAt(b-1e3/2,Hl.ByHeight,f,0,0).from,i.lineAt(b+v+1e3/2,Hl.ByHeight,f,0,0).to)}}return c}mapViewport(e,r){let a=r.mapPos(e.from,-1),i=r.mapPos(e.to,1);return new dZ(this.heightMap.lineAt(a,Hl.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Hl.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},a=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Hl.ByPos,this.heightOracle,0,0),{bottom:f}=this.heightMap.lineAt(r,Hl.ByPos,this.heightOracle,0,0),{visibleTop:d,visibleBottom:h}=this;return(e==0||i<=d-Math.max(10,Math.min(-a,250)))&&(r==this.state.doc.length||f>=h+Math.max(10,Math.min(a,250)))&&i>d-2*1e3&&f<h+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let a=[];for(let i of e)r.touchesRange(i.from,i.to)||a.push(new Gre(r.mapPos(i.from),r.mapPos(i.to),i.size));return a}ensureLineGaps(e,r){let a=this.heightOracle.lineWrapping,i=a?1e4:2e3,f=i>>1,d=i<<1;if(this.defaultTextDirection!=xc.LTR&&!a)return[];let h=[],c=(g,v,y,b)=>{if(v-g<f)return;let O=this.state.selection.main,T=[O.from];O.empty||T.push(O.to);for(let w of T)if(w>g&&w<v){c(g,w-10,y,b),c(w+10,v,y,b);return}let k=Cke(e,w=>w.from>=y.from&&w.to<=y.to&&Math.abs(w.from-g)<f&&Math.abs(w.to-v)<f&&!T.some(C=>w.from<C&&w.to>C));if(!k){if(v<y.to&&r&&a&&r.visibleRanges.some(w=>w.from<=v&&w.to>=v)){let w=r.moveToLineBoundary(xr.cursor(v),!1,!0).head;w>g&&(v=w)}k=new Gre(g,v,this.gapSize(y,g,v,b))}h.push(k)};for(let g of this.viewportLines){if(g.length<d)continue;let v=wke(g.from,g.to,this.stateDeco);if(v.total<d)continue;let y=this.scrollTarget?this.scrollTarget.range.head:null,b,O;if(a){let T=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,k,w;if(y!=null){let C=mZ(v,y),_=((this.visibleBottom-this.visibleTop)/2+T)/g.height;k=C-_,w=C+_}else k=(this.visibleTop-g.top-T)/g.height,w=(this.visibleBottom-g.top+T)/g.height;b=hZ(v,k),O=hZ(v,w)}else{let T=v.total*this.heightOracle.charWidth,k=i*this.heightOracle.charWidth,w,C;if(y!=null){let _=mZ(v,y),M=((this.pixelViewport.right-this.pixelViewport.left)/2+k)/T;w=_-M,C=_+M}else w=(this.pixelViewport.left-k)/T,C=(this.pixelViewport.right+k)/T;b=hZ(v,w),O=hZ(v,C)}b>g.from&&c(g.from,b,g,v),O<g.to&&c(O,g.to,g,v)}return h}gapSize(e,r,a,i){let f=mZ(i,a)-mZ(i,r);return this.heightOracle.lineWrapping?e.height*f:i.total*this.heightOracle.charWidth*f}updateLineGaps(e){Gre.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ss.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let r=[];Ji.spans(e,this.viewport.from,this.viewport.to,{span(i,f){r.push({from:i,to:f})},point(){}},20);let a=r.length!=this.visibleRanges.length||this.visibleRanges.some((i,f)=>i.from!=r[f].from||i.to!=r[f].to);return this.visibleRanges=r,a?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||FR(this.heightMap.lineAt(e,Hl.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return FR(this.heightMap.lineAt(this.scaler.fromDOM(e),Hl.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return FR(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class dZ{constructor(e,r){this.from=e,this.to=r}}function wke(t,e,r){let a=[],i=t,f=0;return Ji.spans(r,t,e,{span(){},point(d,h){d>i&&(a.push({from:i,to:d}),f+=d-i),i=h}},20),i<e&&(a.push({from:i,to:e}),f+=e-i),{total:f,ranges:a}}function hZ({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let a=Math.floor(t*r);for(let i=0;;i++){let{from:f,to:d}=e[i],h=d-f;if(a<=h)return f+a;a-=h}}function mZ(t,e){let r=0;for(let{from:a,to:i}of t.ranges){if(e<=i){r+=e-a;break}r+=i-a}return r/t.total}function Cke(t,e){for(let r of t)if(e(r))return r}const Lde={toDOM(t){return t},fromDOM(t){return t},scale:1};class Tke{constructor(e,r,a){let i=0,f=0,d=0;this.viewports=a.map(({from:h,to:c})=>{let g=r.lineAt(h,Hl.ByPos,e,0,0).top,v=r.lineAt(c,Hl.ByPos,e,0,0).bottom;return i+=v-g,{from:h,to:c,top:g,bottom:v,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(r.height-i);for(let h of this.viewports)h.domTop=d+(h.top-f)*this.scale,d=h.domBottom=h.domTop+(h.bottom-h.top),f=h.bottom}toDOM(e){for(let r=0,a=0,i=0;;r++){let f=r<this.viewports.length?this.viewports[r]:null;if(!f||e<f.top)return i+(e-a)*this.scale;if(e<=f.bottom)return f.domTop+(e-f.top);a=f.bottom,i=f.domBottom}}fromDOM(e){for(let r=0,a=0,i=0;;r++){let f=r<this.viewports.length?this.viewports[r]:null;if(!f||e<f.domTop)return a+(e-i)/this.scale;if(e<=f.domBottom)return f.top+(e-f.domTop);a=f.bottom,i=f.domBottom}}}function FR(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),a=e.toDOM(t.bottom);return new Y0(t.from,t.length,r,a-r,Array.isArray(t._content)?t._content.map(i=>FR(i,e)):t._content)}const gZ=ss.define({combine:t=>t.join(" ")}),Ise=ss.define({combine:t=>t.indexOf(!0)>-1}),Nse=ES.newName(),U1e=ES.newName(),W1e=ES.newName(),Y1e={"&light":"."+U1e,"&dark":"."+W1e};function Bse(t,e,r){return new ES(e,{finish(a){return/&/.test(a)?a.replace(/&\w*/,i=>{if(i=="&")return t;if(!r||!r[i])throw new RangeError(`Unsupported selector: ${i}`);return r[i]}):t+" "+a}})}const kke=Bse("."+Nse,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Y1e),VR="￿";class Ake{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Na.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=VR}readRange(e,r){if(!e)return this;let a=e.parentNode;for(let i=e;;){this.findPointBefore(a,i);let f=this.text.length;this.readNode(i);let d=i.nextSibling;if(d==r)break;let h=Wl.get(i),c=Wl.get(d);(h&&c?h.breakAfter:(h?h.breakAfter:Ide(i))||Ide(d)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>f)&&this.lineBreak(),i=d}return this.findPointBefore(a,r),this}readTextNode(e){let r=e.nodeValue;for(let a of this.points)a.node==e&&(a.pos=this.text.length+Math.min(a.offset,r.length));for(let a=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let f=-1,d=1,h;if(this.lineSeparator?(f=r.indexOf(this.lineSeparator,a),d=this.lineSeparator.length):(h=i.exec(r))&&(f=h.index,d=h[0].length),this.append(r.slice(a,f<0?r.length:f)),f<0)break;if(this.lineBreak(),d>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=d-1);a=f+d}}readNode(e){if(e.cmIgnore)return;let r=Wl.get(e),a=r&&r.overrideDOMText;if(a!=null){this.findPointInside(e,a.length);for(let i=a.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let a of this.points)a.node==e&&e.childNodes[a.offset]==r&&(a.pos=this.text.length)}findPointInside(e,r){for(let a of this.points)(e.nodeType==3?a.node==e:e.contains(a.node))&&(a.pos=this.text.length+(Pke(e,a.node,a.offset)?r:0))}}function Pke(t,e,r){for(;;){if(!e||r<TO(e))return!1;if(e==t)return!0;r=yD(e)+1,e=e.parentNode}}function Ide(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Nde{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class Mke{constructor(e,r,a,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:f,impreciseAnchor:d}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,a,0))){let h=f||d?[]:Rke(e),c=new Ake(h,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=Dke(h,this.bounds.from)}else{let h=e.observer.selectionRange,c=f&&f.node==h.focusNode&&f.offset==h.focusOffset||!Sse(e.contentDOM,h.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(h.focusNode,h.focusOffset),g=d&&d.node==h.anchorNode&&d.offset==h.anchorOffset||!Sse(e.contentDOM,h.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(h.anchorNode,h.anchorOffset);this.newSel=xr.single(g,c)}}}function X1e(t,e){let r,{newSel:a}=e,i=t.state.selection.main,f=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:d,to:h}=e.bounds,c=i.from,g=null;(f===8||ds.android&&e.text.length<h-d)&&(c=i.to,g="end");let v=_ke(t.state.doc.sliceString(d,h,VR),e.text,c-d,g);v&&(ds.chrome&&f==13&&v.toB==v.from+2&&e.text.slice(v.from,v.toB)==VR+VR&&v.toB--,r={from:d+v.from,to:d+v.toA,insert:Si.of(e.text.slice(v.from,v.toB).split(VR))})}else a&&(!t.hasFocus&&t.state.facet(DU)||a.main.eq(i))&&(a=null);if(!r&&!a)return!1;if(!r&&e.typeOver&&!i.empty&&a&&a.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:(ds.mac||ds.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(a&&r.insert.length==2&&(a=xr.single(a.main.anchor-1,a.main.head-1)),r={from:i.from,to:i.to,insert:Si.of([" "])}):ds.chrome&&r&&r.from==r.to&&r.from==i.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(a&&(a=xr.single(a.main.anchor-1,a.main.head-1)),r={from:i.from,to:i.to,insert:Si.of([" "])}),r){if(ds.ios&&t.inputState.flushIOSKey()||ds.android&&(r.from==i.from&&r.to==i.to&&r.insert.length==1&&r.insert.lines==2&&r8(t.contentDOM,"Enter",13)||(r.from==i.from-1&&r.to==i.to&&r.insert.length==0||f==8&&r.insert.length<r.to-r.from&&r.to>i.head)&&r8(t.contentDOM,"Backspace",8)||r.from==i.from&&r.to==i.to+1&&r.insert.length==0&&r8(t.contentDOM,"Delete",46)))return!0;let d=r.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let h,c=()=>h||(h=Eke(t,r,a));return t.state.facet(b1e).some(g=>g(t,r.from,r.to,d,c))||t.dispatch(c()),!0}else if(a&&!a.main.eq(i)){let d=!1,h="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(d=!0),h=t.inputState.lastSelectionOrigin),t.dispatch({selection:a,scrollIntoView:d,userEvent:h}),!0}else return!1}function Eke(t,e,r){let a,i=t.state,f=i.selection.main;if(e.from>=f.from&&e.to<=f.to&&e.to-e.from>=(f.to-f.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let h=f.from<e.from?i.sliceDoc(f.from,e.from):"",c=f.to>e.to?i.sliceDoc(e.to,f.to):"";a=i.replaceSelection(t.state.toText(h+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let h=i.changes(e),c=r&&r.main.to<=h.newLength?r.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=f.to&&e.to>=f.to-10){let g=t.state.sliceDoc(e.from,e.to),v,y=r&&R1e(t,r.main.head);if(y){let T=e.insert.length-(e.to-e.from);v={from:y.from,to:y.to-T}}else v=t.state.doc.lineAt(f.head);let b=f.to-e.to,O=f.to-f.from;a=i.changeByRange(T=>{if(T.from==f.from&&T.to==f.to)return{changes:h,range:c||T.map(h)};let k=T.to-b,w=k-g.length;if(T.to-T.from!=O||t.state.sliceDoc(w,k)!=g||T.to>=v.from&&T.from<=v.to)return{range:T};let C=i.changes({from:w,to:k,insert:e.insert}),_=T.to-f.to;return{changes:C,range:c?xr.range(Math.max(0,c.anchor+_),Math.max(0,c.head+_)):T.map(C)}})}else a={changes:h,selection:c&&i.selection.replaceRange(c)}}let d="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,d+=".compose",t.inputState.compositionFirstChange&&(d+=".start",t.inputState.compositionFirstChange=!1)),i.update(a,{userEvent:d,scrollIntoView:!0})}function _ke(t,e,r,a){let i=Math.min(t.length,e.length),f=0;for(;f<i&&t.charCodeAt(f)==e.charCodeAt(f);)f++;if(f==i&&t.length==e.length)return null;let d=t.length,h=e.length;for(;d>0&&h>0&&t.charCodeAt(d-1)==e.charCodeAt(h-1);)d--,h--;if(a=="end"){let c=Math.max(0,f-Math.min(d,h));r-=d+c-f}if(d<f&&t.length<e.length){let c=r<=f&&r>=d?f-r:0;f-=c,h=f+(h-d),d=f}else if(h<f){let c=r<=f&&r>=h?f-r:0;f-=c,d=f+(d-h),h=f}return{from:f,toA:d,toB:h}}function Rke(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:a,focusNode:i,focusOffset:f}=t.observer.selectionRange;return r&&(e.push(new Nde(r,a)),(i!=r||f!=a)&&e.push(new Nde(i,f))),e}function Dke(t,e){if(t.length==0)return null;let r=t[0].pos,a=t.length==2?t[1].pos:r;return r>-1&&a>-1?xr.single(r+e,a+e):null}const $ke={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},jre=ds.ie&&ds.ie_version<=11;class Lke{constructor(e){this.view=e,this.active=!1,this.selectionRange=new y5e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let a of r)this.queue.push(a);(ds.ie&&ds.ie_version<=11||ds.ios&&e.composing)&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),jre&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,a)=>r!=e[a]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:a}=this,i=this.selectionRange;if(a.state.facet(DU)?a.root.activeElement!=this.dom:!YZ(a.dom,i))return;let f=i.anchorNode&&a.docView.nearest(i.anchorNode);if(f&&f.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(ds.ie&&ds.ie_version<=11||ds.android&&ds.chrome)&&!a.state.selection.main.empty&&i.focusNode&&OH(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=ds.safari&&e.root.nodeType==11&&m5e(this.dom.ownerDocument)==this.dom&&Ike(this.view)||bH(e.root);if(!r||this.selectionRange.eq(r))return!1;let a=YZ(this.dom,r);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&O5e(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let a=this.dom;a;)if(a.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==a?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);for(let a of this.scrollTargets=r)a.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,$ke),jre&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),jre&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var a;if(!this.delayedAndroidKey){let i=()=>{let f=this.delayedAndroidKey;f&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=f.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&f.force&&r8(this.dom,f.key,f.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((a=this.delayedAndroidKey)===null||a===void 0)&&a.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,a=-1,i=!1;for(let f of e){let d=this.readMutation(f);d&&(d.typeOver&&(i=!0),r==-1?{from:r,to:a}=d:(r=Math.min(d.from,r),a=Math.max(d.to,a)))}return{from:r,to:a,typeOver:i}}readChange(){let{from:e,to:r,typeOver:a}=this.processRecords(),i=this.selectionChanged&&YZ(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let f=new Mke(this.view,e,r,a);return this.view.docView.domChanged={newSel:f.newSel?f.newSel.main:null},f}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let a=this.view.state,i=X1e(this.view,r);return this.view.state==a&&this.view.update([]),i}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let a=Bde(r,e.previousSibling||e.target.previousSibling,-1),i=Bde(r,e.nextSibling||e.target.nextSibling,1);return{from:a?r.posAfter(a):r.posAtStart,to:i?r.posBefore(i):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,r,a;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(a=this.resizeScroll)===null||a===void 0||a.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Bde(t,e,r){for(;e;){let a=Wl.get(e);if(a&&a.parent==t)return a;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function Ike(t){let e=null;function r(c){c.preventDefault(),c.stopImmediatePropagation(),e=c.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),!e)return null;let a=e.startContainer,i=e.startOffset,f=e.endContainer,d=e.endOffset,h=t.docView.domAtPos(t.state.selection.main.anchor);return OH(h.node,h.offset,f,d)&&([a,i,f,d]=[f,d,a,i]),{anchorNode:a,anchorOffset:i,focusNode:f,focusOffset:d}}class Xo{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(a=>a.forEach(i=>r(i,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||b5e(e.parent)||document,this.viewState=new $de(e.state||Na.create(e)),e.scrollTo&&e.scrollTo.is(cZ)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(BR).map(a=>new Wre(a));for(let a of this.plugins)a.update(this);this.observer=new Lke(this),this.inputState=new q5e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new pde(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let r=e.length==1&&e[0]instanceof Vu?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,a=!1,i,f=this.state;for(let b of e){if(b.startState!=f)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");f=b.state}if(this.destroyed){this.viewState.state=f;return}let d=this.hasFocus,h=0,c=null;e.some(b=>b.annotation(V1e))?(this.inputState.notifiedFocused=d,h=1):d!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=d,c=z1e(f,d),c||(h=1));let g=this.observer.delayedAndroidKey,v=null;if(g?(this.observer.clearDelayedAndroidKey(),v=this.observer.readChange(),(v&&!this.state.doc.eq(f.doc)||!this.state.selection.eq(f.selection))&&(v=null)):this.observer.clear(),f.facet(Na.phrases)!=this.state.facet(Na.phrases))return this.setState(f);i=xH.create(this,f,e),i.flags|=h;let y=this.viewState.scrollTarget;try{this.updateState=2;for(let b of e){if(y&&(y=y.map(b.changes)),b.scrollIntoView){let{main:O}=b.state.selection;y=new o8(O.empty?O:xr.cursor(O.head,O.head>O.anchor?-1:1))}for(let O of b.effects)O.is(cZ)&&(y=O.value.clip(this.state))}this.viewState.update(i,y),this.bidiCache=SH.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),r=this.docView.update(i),this.state.facet(QR)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(b=>b.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(gZ)!=i.state.facet(gZ)&&(this.viewState.mustMeasureContent=!0),(r||a||y||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let b of this.state.facet(Mse))try{b(i)}catch(O){Lp(this.state,O,"update listener")}(c||v)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),v&&!X1e(this,v)&&g.force&&r8(this.contentDOM,g.key,g.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);this.viewState=new $de(e),this.plugins=e.facet(BR).map(a=>new Wre(a)),this.pluginMap.clear();for(let a of this.plugins)a.update(this);this.docView.destroy(),this.docView=new pde(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(BR),a=e.state.facet(BR);if(r!=a){let i=[];for(let f of a){let d=r.indexOf(f);if(d<0)i.push(new Wre(f));else{let h=this.plugins[d];h.mustUpdate=e,i.push(h)}}for(let f of this.plugins)f.mustUpdate!=e&&f.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);r!=a&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,a=this.scrollDOM,i=a.scrollTop*this.scaleY,{scrollAnchorPos:f,scrollAnchorHeight:d}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(d=-1),this.viewState.scrollAnchorHeight=-1;try{for(let h=0;;h++){if(d<0)if(s1e(a))f=-1,d=this.viewState.heightMap.height;else{let O=this.viewState.scrollAnchorAt(i);f=O.from,d=O.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(h>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let g=[];c&4||([this.measureRequests,g]=[g,this.measureRequests]);let v=g.map(O=>{try{return O.read(this)}catch(T){return Lp(this.state,T),Qde}}),y=xH.create(this,this.state,[]),b=!1;y.flags|=c,r?r.flags|=c:r=y,this.updateState=2,y.empty||(this.updatePlugins(y),this.inputState.update(y),this.updateAttrs(),b=this.docView.update(y));for(let O=0;O<g.length;O++)if(v[O]!=Qde)try{let T=g[O];T.write&&T.write(v[O],this)}catch(T){Lp(this.state,T)}if(b&&this.docView.updateSelection(!0),!y.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let T=(f<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(f).top)-d;if(T>1||T<-1){i=i+T,a.scrollTop=i/this.scaleY,d=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let h of this.state.facet(Mse))h(r)}get themeClasses(){return Nse+" "+(this.state.facet(Ise)?W1e:U1e)+" "+this.state.facet(gZ)}updateAttrs(){let e=Fde(this,w1e,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(DU)?"true":"false",class:"cm-content",style:`${ds.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),Fde(this,Tie,r);let a=this.observer.ignore(()=>{let i=Ase(this.contentDOM,this.contentAttrs,r),f=Ase(this.dom,this.editorAttrs,e);return i||f});return this.editorAttrs=e,this.contentAttrs=r,a}showAnnouncements(e){let r=!0;for(let a of e)for(let i of a.effects)if(i.is(Xo.announce)){r&&(this.announceDOM.textContent=""),r=!1;let f=this.announceDOM.appendChild(document.createElement("div"));f.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(QR);let e=this.state.facet(Xo.cspNonce);ES.mount(this.root,this.styleModules.concat(kke).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(a=>a.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,a){return Xre(this,e,Sde(this,e,r,a))}moveByGroup(e,r){return Xre(this,e,Sde(this,e,r,a=>G5e(this,e.head,a)))}moveToLineBoundary(e,r,a=!0){return X5e(this,e,r,a)}moveVertically(e,r,a){return Xre(this,e,j5e(this,e,r,a))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),$1e(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let a=this.docView.coordsAt(e,r);if(!a||a.left==a.right)return a;let i=this.state.doc.lineAt(e),f=this.bidiSpans(i),d=f[xS.find(f,e-i.from,-1,r)];return _U(a,d.dir==xc.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(x1e)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Nke)return E1e(e.length);let r=this.textDirectionAt(e.from),a;for(let f of this.bidiCache)if(f.from==e.from&&f.dir==r&&(f.fresh||M1e(f.isolates,a=gde(this,e.from,e.to))))return f.order;a||(a=gde(this,e.from,e.to));let i=$5e(e.text,r,a);return this.bidiCache.push(new SH(e.from,e.to,r,a,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ds.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{r1e(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return cZ.of(new o8(typeof e=="number"?xr.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,a=this.viewState.scrollAnchorAt(e);return cZ.of(new o8(xr.cursor(a.from),"start","start",a.top-e,r,!0))}static domEventHandlers(e){return Sc.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Sc.define(()=>({}),{eventObservers:e})}static theme(e,r){let a=ES.newName(),i=[gZ.of(a),QR.of(Bse(`.${a}`,e))];return r&&r.dark&&i.push(Ise.of(!0)),i}static baseTheme(e){return Og.lowest(QR.of(Bse("."+Nse,e,Y1e)))}static findFromDOM(e){var r;let a=e.querySelector(".cm-content"),i=a&&Wl.get(a)||Wl.get(e);return((r=i==null?void 0:i.rootView)===null||r===void 0?void 0:r.view)||null}}Xo.styleModule=QR;Xo.inputHandler=b1e;Xo.focusChangeEffect=O1e;Xo.perLineTextDirection=x1e;Xo.exceptionSink=y1e;Xo.updateListener=Mse;Xo.editable=DU;Xo.mouseSelectionStyle=v1e;Xo.dragMovesSelection=p1e;Xo.clickAddsSelectionRange=g1e;Xo.decorations=bD;Xo.atomicRanges=kie;Xo.bidiIsolatedRanges=C1e;Xo.scrollMargins=T1e;Xo.darkTheme=Ise;Xo.cspNonce=ss.define({combine:t=>t.length?t[0]:""});Xo.contentAttributes=Tie;Xo.editorAttributes=w1e;Xo.lineWrapping=Xo.contentAttributes.of({class:"cm-lineWrapping"});Xo.announce=da.define();const Nke=4096,Qde={};class SH{constructor(e,r,a,i,f,d){this.from=e,this.to=r,this.dir=a,this.isolates=i,this.fresh=f,this.order=d}static update(e,r){if(r.empty&&!e.some(f=>f.fresh))return e;let a=[],i=e.length?e[e.length-1].dir:xc.LTR;for(let f=Math.max(0,e.length-10);f<e.length;f++){let d=e[f];d.dir==i&&!r.touchesRange(d.from,d.to)&&a.push(new SH(r.mapPos(d.from,1),r.mapPos(d.to,-1),d.dir,d.isolates,!1,d.order))}return a}}function Fde(t,e,r){for(let a=t.state.facet(e),i=a.length-1;i>=0;i--){let f=a[i],d=typeof f=="function"?f(t):f;d&&kse(d,r)}return r}const Bke=ds.mac?"mac":ds.windows?"win":ds.linux?"linux":"key";function Qke(t,e){const r=t.split(/-(?!$)/);let a=r[r.length-1];a=="Space"&&(a=" ");let i,f,d,h;for(let c=0;c<r.length-1;++c){const g=r[c];if(/^(cmd|meta|m)$/i.test(g))h=!0;else if(/^a(lt)?$/i.test(g))i=!0;else if(/^(c|ctrl|control)$/i.test(g))f=!0;else if(/^s(hift)?$/i.test(g))d=!0;else if(/^mod$/i.test(g))e=="mac"?h=!0:f=!0;else throw new Error("Unrecognized modifier name: "+g)}return i&&(a="Alt-"+a),f&&(a="Ctrl-"+a),h&&(a="Meta-"+a),d&&(a="Shift-"+a),a}function pZ(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Fke=Og.default(Xo.domEventHandlers({keydown(t,e){return j1e(G1e(e.state),t,e,"editor")}})),RO=ss.define({enables:Fke}),Vde=new WeakMap;function G1e(t){let e=t.facet(RO),r=Vde.get(e);return r||Vde.set(e,r=Zke(e.reduce((a,i)=>a.concat(i),[]))),r}function Vke(t,e,r){return j1e(G1e(t.state),e,t,r)}let yS=null;const zke=4e3;function Zke(t,e=Bke){let r=Object.create(null),a=Object.create(null),i=(d,h)=>{let c=a[d];if(c==null)a[d]=h;else if(c!=h)throw new Error("Key binding "+d+" is used both as a regular binding and as a multi-stroke prefix")},f=(d,h,c,g,v)=>{var y,b;let O=r[d]||(r[d]=Object.create(null)),T=h.split(/ (?!$)/).map(C=>Qke(C,e));for(let C=1;C<T.length;C++){let _=T.slice(0,C).join(" ");i(_,!0),O[_]||(O[_]={preventDefault:!0,stopPropagation:!1,run:[M=>{let I=yS={view:M,prefix:_,scope:d};return setTimeout(()=>{yS==I&&(yS=null)},zke),!0}]})}let k=T.join(" ");i(k,!1);let w=O[k]||(O[k]={preventDefault:!1,stopPropagation:!1,run:((b=(y=O._any)===null||y===void 0?void 0:y.run)===null||b===void 0?void 0:b.slice())||[]});c&&w.run.push(c),g&&(w.preventDefault=!0),v&&(w.stopPropagation=!0)};for(let d of t){let h=d.scope?d.scope.split(" "):["editor"];if(d.any)for(let g of h){let v=r[g]||(r[g]=Object.create(null));v._any||(v._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let y in v)v[y].run.push(d.any)}let c=d[e]||d.key;if(c)for(let g of h)f(g,c,d.run,d.preventDefault,d.stopPropagation),d.shift&&f(g,"Shift-"+c,d.shift,d.preventDefault,d.stopPropagation)}return r}function j1e(t,e,r,a){let i=h5e(e),f=Xf(i,0),d=Ap(f)==i.length&&i!=" ",h="",c=!1,g=!1,v=!1;yS&&yS.view==r&&yS.scope==a&&(h=yS.prefix+" ",I1e.indexOf(e.keyCode)<0&&(g=!0,yS=null));let y=new Set,b=w=>{if(w){for(let C of w.run)if(!y.has(C)&&(y.add(C),C(r,e)))return w.stopPropagation&&(v=!0),!0;w.preventDefault&&(w.stopPropagation&&(v=!0),g=!0)}return!1},O=t[a],T,k;return O&&(b(O[h+pZ(i,e,!d)])?c=!0:d&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ds.windows&&e.ctrlKey&&e.altKey)&&(T=_S[e.keyCode])&&T!=i?(b(O[h+pZ(T,e,!0)])||e.shiftKey&&(k=vD[e.keyCode])!=i&&k!=T&&b(O[h+pZ(k,e,!1)]))&&(c=!0):d&&e.shiftKey&&b(O[h+pZ(i,e,!0)])&&(c=!0),!c&&b(O._any)&&(c=!0)),g&&(c=!0),c&&v&&e.stopPropagation(),c}class qD{constructor(e,r,a,i,f){this.className=e,this.left=r,this.top=a,this.width=i,this.height=f}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,a){if(a.empty){let i=e.coordsAtPos(a.head,a.assoc||1);if(!i)return[];let f=q1e(e);return[new qD(r,i.left-f.left,i.top-f.top,null,i.bottom-i.top)]}else return Hke(e,r,a)}}function q1e(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==xc.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function zde(t,e,r){let a=xr.cursor(e);return{from:Math.max(r.from,t.moveToLineBoundary(a,!1,!0).from),to:Math.min(r.to,t.moveToLineBoundary(a,!0,!0).from),type:yh.Text}}function Hke(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let a=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),f=t.textDirection==xc.LTR,d=t.contentDOM,h=d.getBoundingClientRect(),c=q1e(t),g=d.querySelector(".cm-line"),v=g&&window.getComputedStyle(g),y=h.left+(v?parseInt(v.paddingLeft)+Math.min(0,parseInt(v.textIndent)):0),b=h.right-(v?parseInt(v.paddingRight):0),O=$se(t,a),T=$se(t,i),k=O.type==yh.Text?O:null,w=T.type==yh.Text?T:null;if(k&&(t.lineWrapping||O.widgetLineBreaks)&&(k=zde(t,a,k)),w&&(t.lineWrapping||T.widgetLineBreaks)&&(w=zde(t,i,w)),k&&w&&k.from==w.from)return _(M(r.from,r.to,k));{let V=k?M(r.from,null,k):I(O,!1),N=w?M(null,r.to,w):I(T,!0),Q=[];return(k||O).to<(w||T).from-(k&&w?1:0)||O.widgetLineBreaks>1&&V.bottom+t.defaultLineHeight/2<N.top?Q.push(C(y,V.bottom,b,N.top)):V.bottom<N.top&&t.elementAtHeight((V.bottom+N.top)/2).type==yh.Text&&(V.bottom=N.top=(V.bottom+N.top)/2),_(V).concat(Q).concat(_(N))}function C(V,N,Q,z){return new qD(e,V-c.left,N-c.top-.01,Q-V,z-N+.01)}function _({top:V,bottom:N,horizontal:Q}){let z=[];for(let U=0;U<Q.length;U+=2)z.push(C(Q[U],V,Q[U+1],N));return z}function M(V,N,Q){let z=1e9,U=-1e9,F=[];function B(X,ie,L,me,ae){let q=t.coordsAtPos(X,X==Q.to?-2:2),de=t.coordsAtPos(L,L==Q.from?2:-2);!q||!de||(z=Math.min(q.top,de.top,z),U=Math.max(q.bottom,de.bottom,U),ae==xc.LTR?F.push(f&&ie?y:q.left,f&&me?b:de.right):F.push(!f&&me?y:de.left,!f&&ie?b:q.right))}let E=V??Q.from,W=N??Q.to;for(let X of t.visibleRanges)if(X.to>E&&X.from<W)for(let ie=Math.max(X.from,E),L=Math.min(X.to,W);;){let me=t.state.doc.lineAt(ie);for(let ae of t.bidiSpans(me)){let q=ae.from+me.from,de=ae.to+me.from;if(q>=L)break;de>ie&&B(Math.max(q,ie),V==null&&q<=E,Math.min(de,L),N==null&&de>=W,ae.dir)}if(ie=me.to+1,ie>=L)break}return F.length==0&&B(E,V==null,W,N==null,t.textDirection),{top:z,bottom:U,horizontal:F}}function I(V,N){let Q=h.top+(N?V.top:V.bottom);return{top:Q,bottom:Q,horizontal:[]}}}function Uke(t,e){return t.constructor==e.constructor&&t.eq(e)}class Wke{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(jZ)!=e.state.facet(jZ)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let r=0,a=e.facet(jZ);for(;r<a.length&&a[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,a)=>!Uke(r,this.drawn[a]))){let r=this.dom.firstChild,a=0;for(let i of e)i.update&&r&&i.constructor&&this.drawn[a].constructor&&i.update(r,this.drawn[a])?(r=r.nextSibling,a++):this.dom.insertBefore(i.draw(),r);for(;r;){let i=r.nextSibling;r.remove(),r=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const jZ=ss.define();function K1e(t){return[Sc.define(e=>new Wke(e,t)),jZ.of(t)]}const J1e=!ds.ios,xD=ss.define({combine(t){return ly(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function Yke(t={}){return[xD.of(t),Xke,Gke,jke,S1e.of(!0)]}function e0e(t){return t.startState.facet(xD)!=t.state.facet(xD)}const Xke=K1e({above:!0,markers(t){let{state:e}=t,r=e.facet(xD),a=[];for(let i of e.selection.ranges){let f=i==e.selection.main;if(i.empty?!f||J1e:r.drawRangeCursor){let d=f?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",h=i.empty?i:xr.cursor(i.head,i.head>i.anchor?-1:1);for(let c of qD.forRange(t,d,h))a.push(c)}}return a},update(t,e){t.transactions.some(a=>a.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=e0e(t);return r&&Zde(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){Zde(e.state,t)},class:"cm-cursorLayer"});function Zde(t,e){e.style.animationDuration=t.facet(xD).cursorBlinkRate+"ms"}const Gke=K1e({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:qD.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||e0e(t)},class:"cm-selectionLayer"}),Qse={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};J1e&&(Qse[".cm-line"].caretColor="transparent !important",Qse[".cm-content"]={caretColor:"transparent !important"});const jke=Og.highest(Xo.theme(Qse)),t0e=da.define({map(t,e){return t==null?null:e.mapPos(t)}}),zR=Hu.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,a)=>a.is(t0e)?a.value:r,t)}}),qke=Sc.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(zR);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(zR)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(zR),r=e!=null&&t.coordsAtPos(e);if(!r)return null;let a=t.scrollDOM.getBoundingClientRect();return{left:r.left-a.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-a.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(zR)!=t&&this.view.dispatch({effects:t0e.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Kke(){return[zR,qke]}function Hde(t,e,r,a,i){e.lastIndex=0;for(let f=t.iterRange(r,a),d=r,h;!f.next().done;d+=f.value.length)if(!f.lineBreak)for(;h=e.exec(f.value);)i(d+h.index,h)}function Jke(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let a=[];for(let{from:i,to:f}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),f=Math.min(t.state.doc.lineAt(f).to,f+e),a.length&&a[a.length-1].to>=i?a[a.length-1].to=f:a.push({from:i,to:f});return a}class e4e{constructor(e){const{regexp:r,decoration:a,decorate:i,boundary:f,maxLength:d=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,i)this.addMatch=(h,c,g,v)=>i(v,g,g+h[0].length,h,c);else if(typeof a=="function")this.addMatch=(h,c,g,v)=>{let y=a(h,c,g);y&&v(g,g+h[0].length,y)};else if(a)this.addMatch=(h,c,g,v)=>v(g,g+h[0].length,a);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=f,this.maxLength=d}createDeco(e){let r=new MS,a=r.add.bind(r);for(let{from:i,to:f}of Jke(e,this.maxLength))Hde(e.state.doc,this.regexp,i,f,(d,h)=>this.addMatch(h,e,d,a));return r.finish()}updateDeco(e,r){let a=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((f,d,h,c)=>{c>e.view.viewport.from&&h<e.view.viewport.to&&(a=Math.min(h,a),i=Math.max(c,i))}),e.viewportChanged||i-a>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,r.map(e.changes),a,i):r}updateRange(e,r,a,i){for(let f of e.visibleRanges){let d=Math.max(f.from,a),h=Math.min(f.to,i);if(h>d){let c=e.state.doc.lineAt(d),g=c.to<h?e.state.doc.lineAt(h):c,v=Math.max(f.from,c.from),y=Math.min(f.to,g.to);if(this.boundary){for(;d>c.from;d--)if(this.boundary.test(c.text[d-1-c.from])){v=d;break}for(;h<g.to;h++)if(this.boundary.test(g.text[h-g.from])){y=h;break}}let b=[],O,T=(k,w,C)=>b.push(C.range(k,w));if(c==g)for(this.regexp.lastIndex=v-c.from;(O=this.regexp.exec(c.text))&&O.index<y-c.from;)this.addMatch(O,e,O.index+c.from,T);else Hde(e.state.doc,this.regexp,v,y,(k,w)=>this.addMatch(w,e,k,T));r=r.update({filterFrom:v,filterTo:y,filter:(k,w)=>k<v||w>y,add:b})}}return r}}const Fse=/x/.unicode!=null?"gu":"g",t4e=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Fse),n4e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let qre=null;function r4e(){var t;if(qre==null&&typeof document<"u"&&document.body){let e=document.body.style;qre=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return qre||!1}const qZ=ss.define({combine(t){let e=ly(t,{render:null,specialChars:t4e,addSpecialChars:null});return(e.replaceTabs=!r4e())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Fse)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Fse)),e}});function o4e(t={}){return[qZ.of(t),s4e()]}let Ude=null;function s4e(){return Ude||(Ude=Sc.fromClass(class{constructor(t){this.view=t,this.decorations=Ss.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(qZ)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new e4e({regexp:t.specialChars,decoration:(e,r,a)=>{let{doc:i}=r.state,f=Xf(e[0],0);if(f==9){let d=i.lineAt(a),h=r.state.tabSize,c=Wv(d.text,h,a-d.from);return Ss.replace({widget:new c4e((h-c%h)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[f]||(this.decorationCache[f]=Ss.replace({widget:new l4e(t,f)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(qZ);t.startState.facet(qZ)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const a4e="•";function i4e(t){return t>=32?a4e:t==10?"␤":String.fromCharCode(9216+t)}class l4e extends jv{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=i4e(this.code),a=e.state.phrase("Control character")+" "+(n4e[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,a,r);if(i)return i;let f=document.createElement("span");return f.textContent=r,f.title=a,f.setAttribute("aria-label",a),f.className="cm-specialChar",f}ignoreEvent(){return!1}}class c4e extends jv{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function u4e(){return d4e}const f4e=Ss.line({class:"cm-activeLine"}),d4e=Sc.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let a of t.state.selection.ranges){let i=t.lineBlockAt(a.head);i.from>e&&(r.push(f4e.range(i.from)),e=i.from)}return Ss.set(r)}},{decorations:t=>t.decorations});class h4e extends jv{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let r=e.firstChild?g8(e.firstChild):[];if(!r.length)return null;let a=window.getComputedStyle(e.parentNode),i=_U(r[0],a.direction!="rtl"),f=parseInt(a.lineHeight);return i.bottom-i.top>f*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+f}:i}ignoreEvent(){return!1}}function m4e(t){return Sc.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Ss.set([Ss.widget({widget:new h4e(t),side:1}).range(0)]):Ss.none}get decorations(){return this.view.state.doc.length?Ss.none:this.placeholder}},{decorations:e=>e.decorations})}const Vse=2e3;function g4e(t,e,r){let a=Math.min(e.line,r.line),i=Math.max(e.line,r.line),f=[];if(e.off>Vse||r.off>Vse||e.col<0||r.col<0){let d=Math.min(e.off,r.off),h=Math.max(e.off,r.off);for(let c=a;c<=i;c++){let g=t.doc.line(c);g.length<=h&&f.push(xr.range(g.from+d,g.to+h))}}else{let d=Math.min(e.col,r.col),h=Math.max(e.col,r.col);for(let c=a;c<=i;c++){let g=t.doc.line(c),v=bse(g.text,d,t.tabSize,!0);if(v<0)f.push(xr.cursor(g.to));else{let y=bse(g.text,h,t.tabSize);f.push(xr.range(g.from+v,g.from+y))}}}return f}function p4e(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function Wde(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),a=t.state.doc.lineAt(r),i=r-a.from,f=i>Vse?-1:i==a.length?p4e(t,e.clientX):Wv(a.text,t.state.tabSize,r-a.from);return{line:a.number,col:f,off:i}}function v4e(t,e){let r=Wde(t,e),a=t.state.selection;return r?{update(i){if(i.docChanged){let f=i.changes.mapPos(i.startState.doc.line(r.line).from),d=i.state.doc.lineAt(f);r={line:d.number,col:r.col,off:Math.min(r.off,d.length)},a=a.map(i.changes)}},get(i,f,d){let h=Wde(t,i);if(!h)return a;let c=g4e(t.state,r,h);return c.length?d?xr.create(c.concat(a.ranges)):xr.create(c):a}}:null}function y4e(t){let e=(t==null?void 0:t.eventFilter)||(r=>r.altKey&&r.button==0);return Xo.mouseSelectionStyle.of((r,a)=>e(a)?v4e(r,a):null)}const b4e={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},O4e={style:"cursor: crosshair"};function x4e(t={}){let[e,r]=b4e[t.key||"Alt"],a=Sc.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||r(i))},keyup(i){(i.keyCode==e||!r(i))&&this.set(!1)},mousemove(i){this.set(r(i))}}});return[a,Xo.contentAttributes.of(i=>{var f;return!((f=i.plugin(a))===null||f===void 0)&&f.isDown?O4e:null})]}const TR="-10000px";class n0e{constructor(e,r,a){this.facet=r,this.createTooltipView=a,this.input=e.state.facet(r),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(a)}update(e,r){var a;let i=e.state.facet(this.facet),f=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let d=[],h=r?[]:null;for(let c=0;c<f.length;c++){let g=f[c],v=-1;if(g){for(let y=0;y<this.tooltips.length;y++){let b=this.tooltips[y];b&&b.create==g.create&&(v=y)}if(v<0)d[c]=this.createTooltipView(g),h&&(h[c]=!!g.above);else{let y=d[c]=this.tooltipViews[v];h&&(h[c]=r[v]),y.update&&y.update(e)}}}for(let c of this.tooltipViews)d.indexOf(c)<0&&(c.dom.remove(),(a=c.destroy)===null||a===void 0||a.call(c));return r&&(h.forEach((c,g)=>r[g]=c),r.length=h.length),this.input=i,this.tooltips=f,this.tooltipViews=d,!0}}function S4e(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Kre=ss.define({combine:t=>{var e,r,a;return{position:ds.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(i=>i.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((a=t.find(i=>i.tooltipSpace))===null||a===void 0?void 0:a.tooltipSpace)||S4e}}}),Yde=new WeakMap,Pie=Sc.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Kre);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new n0e(t,Mie,r=>this.createTooltip(r)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,a=t.state.facet(Kre);if(a.position!=this.position&&!this.madeAbsolute){this.position=a.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;r=!0}if(a.parent!=this.parent){this.parent&&this.container.remove(),this.parent=a.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",e.dom.appendChild(r)}return e.dom.style.position=this.position,e.dom.style.top=TR,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,r=1,a=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(ds.gecko)a=i.offsetParent!=this.container.ownerDocument.body;else if(this.view.scaleX!=1||this.view.scaleY!=1)a=!0;else if(i.style.top==TR&&i.style.left=="0px"){let f=i.getBoundingClientRect();a=Math.abs(f.top+1e4)>1||Math.abs(f.left)>1}}if(a||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,r=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:r}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,f)=>{let d=this.manager.tooltipViews[f];return d.getCoords?d.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(Kre).tooltipSpace(this.view),scaleX:e,scaleY:r,makeAbsolute:a}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let h of this.manager.tooltipViews)h.dom.style.position="absolute"}let{editor:r,space:a,scaleX:i,scaleY:f}=t,d=[];for(let h=0;h<this.manager.tooltips.length;h++){let c=this.manager.tooltips[h],g=this.manager.tooltipViews[h],{dom:v}=g,y=t.pos[h],b=t.size[h];if(!y||y.bottom<=Math.max(r.top,a.top)||y.top>=Math.min(r.bottom,a.bottom)||y.right<Math.max(r.left,a.left)-.1||y.left>Math.min(r.right,a.right)+.1){v.style.top=TR;continue}let O=c.arrow?g.dom.querySelector(".cm-tooltip-arrow"):null,T=O?7:0,k=b.right-b.left,w=(e=Yde.get(g))!==null&&e!==void 0?e:b.bottom-b.top,C=g.offset||C4e,_=this.view.textDirection==xc.LTR,M=b.width>a.right-a.left?_?a.left:a.right-b.width:_?Math.min(y.left-(O?14:0)+C.x,a.right-k):Math.max(a.left,y.left-k+(O?14:0)-C.x),I=this.above[h];!c.strictSide&&(I?y.top-(b.bottom-b.top)-C.y<a.top:y.bottom+(b.bottom-b.top)+C.y>a.bottom)&&I==a.bottom-y.bottom>y.top-a.top&&(I=this.above[h]=!I);let V=(I?y.top-a.top:a.bottom-y.bottom)-T;if(V<w&&g.resize!==!1){if(V<this.view.defaultLineHeight){v.style.top=TR;continue}Yde.set(g,w),v.style.height=(w=V)/f+"px"}else v.style.height&&(v.style.height="");let N=I?y.top-w-T-C.y:y.bottom+T+C.y,Q=M+k;if(g.overlap!==!0)for(let z of d)z.left<Q&&z.right>M&&z.top<N+w&&z.bottom>N&&(N=I?z.top-w-2-T:z.bottom+T+2);if(this.position=="absolute"?(v.style.top=(N-t.parent.top)/f+"px",v.style.left=(M-t.parent.left)/i+"px"):(v.style.top=N/f+"px",v.style.left=M/i+"px"),O){let z=y.left+(_?C.x:-C.x)-(M+14-7);O.style.left=z/i+"px"}g.overlap!==!0&&d.push({left:M,top:N,right:Q,bottom:N+w}),v.classList.toggle("cm-tooltip-above",I),v.classList.toggle("cm-tooltip-below",!I),g.positioned&&g.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=TR}},{eventObservers:{scroll(){this.maybeMeasure()}}}),w4e=Xo.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),C4e={x:0,y:0},Mie=ss.define({enables:[Pie,w4e]}),wH=ss.define();class $U{static create(e){return new $U(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new n0e(e,wH,r=>this.createHostedView(r))}createHostedView(e){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(r.dom),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let a of this.manager.tooltipViews){let i=a[e];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const T4e=Mie.compute([wH],t=>{let e=t.facet(wH).filter(r=>r);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var a;return(a=r.end)!==null&&a!==void 0?a:r.pos})),create:$U.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class k4e{constructor(e,r,a,i,f){this.view=e,this.source=r,this.field=a,this.setHover=i,this.hoverTime=f,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,a=e.docView.nearest(r.target);if(!a)return;let i,f=1;if(a instanceof OS)i=a.posAtStart;else{if(i=e.posAtCoords(r),i==null)return;let h=e.coordsAtPos(i);if(!h||r.y<h.top||r.y>h.bottom||r.x<h.left-e.defaultCharacterWidth||r.x>h.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(v=>v.from<=i&&v.to>=i),g=c&&c.dir==xc.RTL?-1:1;f=r.x<h.left?-g:g}let d=this.source(e,i,f);if(d!=null&&d.then){let h=this.pending={pos:i};d.then(c=>{this.pending==h&&(this.pending=null,c&&e.dispatch({effects:this.setHover.of(c)}))},c=>Lp(e.state,c,"hover tooltip"))}else d&&e.dispatch({effects:this.setHover.of(d)})}get tooltip(){let e=this.view.plugin(Pie),r=e?e.manager.tooltips.findIndex(a=>a.create==$U.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:i}=this;if(a&&i&&!A4e(i.dom,e)||this.pending){let{pos:f}=a||this.pending,d=(r=a==null?void 0:a.end)!==null&&r!==void 0?r:f;(f==d?this.view.posAtCoords(this.lastMove)!=f:!P4e(this.view,f,d,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r){let{tooltip:a}=this;a&&a.dom.contains(e.relatedTarget)?this.watchTooltipLeave(a.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let r=a=>{e.removeEventListener("mouseleave",r),this.active&&!this.view.dom.contains(a.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const vZ=4;function A4e(t,e){let r=t.getBoundingClientRect();return e.clientX>=r.left-vZ&&e.clientX<=r.right+vZ&&e.clientY>=r.top-vZ&&e.clientY<=r.bottom+vZ}function P4e(t,e,r,a,i,f){let d=t.scrollDOM.getBoundingClientRect(),h=t.documentTop+t.documentPadding.top+t.contentHeight;if(d.left>a||d.right<a||d.top>i||Math.min(d.bottom,h)<i)return!1;let c=t.posAtCoords({x:a,y:i},!1);return c>=e&&c<=r}function M4e(t,e={}){let r=da.define(),a=Hu.define({create(){return null},update(i,f){if(i&&(e.hideOnChange&&(f.docChanged||f.selection)||e.hideOn&&e.hideOn(f,i)))return null;if(i&&f.docChanged){let d=f.changes.mapPos(i.pos,-1,jf.TrackDel);if(d==null)return null;let h=Object.assign(Object.create(null),i);h.pos=d,i.end!=null&&(h.end=f.changes.mapPos(i.end)),i=h}for(let d of f.effects)d.is(r)&&(i=d.value),d.is(E4e)&&(i=null);return i},provide:i=>wH.from(i)});return[a,Sc.define(i=>new k4e(i,t,a,r,e.hoverTime||300)),T4e]}function r0e(t,e){let r=t.plugin(Pie);if(!r)return null;let a=r.manager.tooltips.indexOf(e);return a<0?null:r.manager.tooltipViews[a]}const E4e=da.define(),Xde=ss.define({combine(t){let e,r;for(let a of t)e=e||a.topContainer,r=r||a.bottomContainer;return{topContainer:e,bottomContainer:r}}});function SD(t,e){let r=t.plugin(o0e),a=r?r.specs.indexOf(e):-1;return a>-1?r.panels[a]:null}const o0e=Sc.fromClass(class{constructor(t){this.input=t.state.facet(wD),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(Xde);this.top=new yZ(t,!0,e.topContainer),this.bottom=new yZ(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(Xde);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new yZ(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new yZ(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(wD);if(r!=this.input){let a=r.filter(c=>c),i=[],f=[],d=[],h=[];for(let c of a){let g=this.specs.indexOf(c),v;g<0?(v=c(t.view),h.push(v)):(v=this.panels[g],v.update&&v.update(t)),i.push(v),(v.top?f:d).push(v)}this.specs=a,this.panels=i,this.top.sync(f),this.bottom.sync(d);for(let c of h)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let a of this.panels)a.update&&a.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Xo.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class yZ{constructor(e,r,a){this.view=e,this.top=r,this.container=a,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=Gde(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=Gde(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Gde(t){let e=t.nextSibling;return t.remove(),e}const wD=ss.define({enables:o0e});class PO extends BT{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}PO.prototype.elementClass="";PO.prototype.toDOM=void 0;PO.prototype.mapMode=jf.TrackBefore;PO.prototype.startSide=PO.prototype.endSide=-1;PO.prototype.point=!0;const KZ=ss.define(),_4e={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ji.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},JR=ss.define();function R4e(t){return[s0e(),JR.of(Object.assign(Object.assign({},_4e),t))]}const zse=ss.define({combine:t=>t.some(e=>e)});function s0e(t){let e=[D4e];return t&&t.fixed===!1&&e.push(zse.of(!0)),e}const D4e=Sc.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(JR).map(e=>new qde(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(zse),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,a=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(a<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(zse)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=Ji.iter(this.view.state.facet(KZ),this.view.viewport.from),a=[],i=this.gutters.map(f=>new $4e(f,this.view.viewport,-this.view.documentPadding.top));for(let f of this.view.viewportLineBlocks)if(a.length&&(a=[]),Array.isArray(f.type)){let d=!0;for(let h of f.type)if(h.type==yh.Text&&d){Zse(r,a,h.from);for(let c of i)c.line(this.view,h,a);d=!1}else if(h.widget)for(let c of i)c.widget(this.view,h)}else if(f.type==yh.Text){Zse(r,a,f.from);for(let d of i)d.line(this.view,f,a)}else if(f.widget)for(let d of i)d.widget(this.view,f);for(let f of i)f.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(JR),r=t.state.facet(JR),a=t.docChanged||t.heightChanged||t.viewportChanged||!Ji.eq(t.startState.facet(KZ),t.state.facet(KZ),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let i of this.gutters)i.update(t)&&(a=!0);else{a=!0;let i=[];for(let f of r){let d=e.indexOf(f);d<0?i.push(new qde(this.view,f)):(this.gutters[d].update(t),i.push(this.gutters[d]))}for(let f of this.gutters)f.dom.remove(),i.indexOf(f)<0&&f.destroy();for(let f of i)this.dom.appendChild(f.dom);this.gutters=i}return a}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Xo.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==xc.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function jde(t){return Array.isArray(t)?t:[t]}function Zse(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class $4e{constructor(e,r,a){this.gutter=e,this.height=a,this.i=0,this.cursor=Ji.iter(e.markers,r.from)}addElement(e,r,a){let{gutter:i}=this,f=(r.top-this.height)/e.scaleY,d=r.height/e.scaleY;if(this.i==i.elements.length){let h=new a0e(e,d,f,a);i.elements.push(h),i.dom.appendChild(h.dom)}else i.elements[this.i].update(e,d,f,a);this.height=r.bottom,this.i++}line(e,r,a){let i=[];Zse(this.cursor,i,r.from),a.length&&(i=i.concat(a));let f=this.gutter.config.lineMarker(e,r,i);f&&i.unshift(f);let d=this.gutter;i.length==0&&!d.config.renderEmptyElements||this.addElement(e,r,i)}widget(e,r){let a=this.gutter.config.widgetMarker(e,r.widget,r);a&&this.addElement(e,r,[a])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class qde{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let a in r.domEventHandlers)this.dom.addEventListener(a,i=>{let f=i.target,d;if(f!=this.dom&&this.dom.contains(f)){for(;f.parentNode!=this.dom;)f=f.parentNode;let c=f.getBoundingClientRect();d=(c.top+c.bottom)/2}else d=i.clientY;let h=e.lineBlockAtHeight(d-e.documentTop);r.domEventHandlers[a](e,h,i)&&i.preventDefault()});this.markers=jde(r.markers(e)),r.initialSpacer&&(this.spacer=new a0e(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=jde(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let a=e.view.viewport;return!Ji.eq(this.markers,r,a.from,a.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class a0e{constructor(e,r,a,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,a,i)}update(e,r,a,i){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=a&&(this.dom.style.marginTop=(this.above=a)?a+"px":""),L4e(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,r){let a="cm-gutterElement",i=this.dom.firstChild;for(let f=0,d=0;;){let h=d,c=f<r.length?r[f++]:null,g=!1;if(c){let v=c.elementClass;v&&(a+=" "+v);for(let y=d;y<this.markers.length;y++)if(this.markers[y].compare(c)){h=y,g=!0;break}}else h=this.markers.length;for(;d<h;){let v=this.markers[d++];if(v.toDOM){v.destroy(i);let y=i.nextSibling;i.remove(),i=y}}if(!c)break;c.toDOM&&(g?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),g&&d++}this.dom.className=a,this.markers=r}destroy(){this.setMarkers(null,[])}}function L4e(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const I4e=ss.define(),XP=ss.define({combine(t){return ly(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let a=Object.assign({},e);for(let i in r){let f=a[i],d=r[i];a[i]=f?(h,c,g)=>f(h,c,g)||d(h,c,g):d}return a}})}});class Jre extends PO{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function eoe(t,e){return t.state.facet(XP).formatNumber(e,t.state)}const N4e=JR.compute([XP],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(I4e)},lineMarker(e,r,a){return a.some(i=>i.toDOM)?null:new Jre(eoe(e,e.state.doc.lineAt(r.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(XP)!=e.state.facet(XP),initialSpacer(e){return new Jre(eoe(e,Kde(e.state.doc.lines)))},updateSpacer(e,r){let a=eoe(r.view,Kde(r.view.state.doc.lines));return a==e.number?e:new Jre(a)},domEventHandlers:t.facet(XP).domEventHandlers}));function B4e(t={}){return[XP.of(t),s0e(),N4e]}function Kde(t){let e=9;for(;e<t;)e=e*10+9;return e}const Q4e=new class extends PO{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},F4e=KZ.compute(["selection"],t=>{let e=[],r=-1;for(let a of t.selection.ranges){let i=t.doc.lineAt(a.head).from;i>r&&(r=i,e.push(Q4e.range(i)))}return Ji.of(e)});function V4e(){return F4e}const i0e=1024;let z4e=0,Pp=class{constructor(e,r){this.from=e,this.to=r}};class ha{constructor(e={}){this.id=z4e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Zu.match(e)),r=>{let a=e(r);return a===void 0?null:[this,a]}}}ha.closedBy=new ha({deserialize:t=>t.split(" ")});ha.openedBy=new ha({deserialize:t=>t.split(" ")});ha.group=new ha({deserialize:t=>t.split(" ")});ha.contextHash=new ha({perNode:!0});ha.lookAhead=new ha({perNode:!0});ha.mounted=new ha({perNode:!0});class CD{constructor(e,r,a){this.tree=e,this.overlay=r,this.parser=a}static get(e){return e&&e.props&&e.props[ha.mounted.id]}}const Z4e=Object.create(null);class Zu{constructor(e,r,a,i=0){this.name=e,this.props=r,this.id=a,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):Z4e,a=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Zu(e.name||"",r,e.id,a);if(e.props){for(let f of e.props)if(Array.isArray(f)||(f=f(i)),f){if(f[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[f[0].id]=f[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(ha.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let a in e)for(let i of a.split(" "))r[i]=e[a];return a=>{for(let i=a.prop(ha.group),f=-1;f<(i?i.length:0);f++){let d=r[f<0?a.name:i[f]];if(d)return d}}}}Zu.none=new Zu("",Object.create(null),0,8);class KD{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let a of this.types){let i=null;for(let f of e){let d=f(a);d&&(i||(i=Object.assign({},a.props)),i[d[0].id]=d[1])}r.push(i?new Zu(a.name,i,a.id,a.flags):a)}return new KD(r)}}const bZ=new WeakMap,Jde=new WeakMap;var Sl;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Sl||(Sl={}));class zi{constructor(e,r,a,i,f){if(this.type=e,this.children=r,this.positions=a,this.length=i,this.props=null,f&&f.length){this.props=Object.create(null);for(let[d,h]of f)this.props[typeof d=="number"?d:d.id]=h}}toString(){let e=CD.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let a of this.children){let i=a.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new CH(this.topNode,e)}cursorAt(e,r=0,a=0){let i=bZ.get(this)||this.topNode,f=new CH(i);return f.moveTo(e,r),bZ.set(this,f._tree),f}get topNode(){return new $d(this,0,0,null)}resolve(e,r=0){let a=TD(bZ.get(this)||this.topNode,e,r,!1);return bZ.set(this,a),a}resolveInner(e,r=0){let a=TD(Jde.get(this)||this.topNode,e,r,!0);return Jde.set(this,a),a}resolveStack(e,r=0){return W4e(this,e,r)}iterate(e){let{enter:r,leave:a,from:i=0,to:f=this.length}=e,d=e.mode||0,h=(d&Sl.IncludeAnonymous)>0;for(let c=this.cursor(d|Sl.IncludeAnonymous);;){let g=!1;if(c.from<=f&&c.to>=i&&(!h&&c.type.isAnonymous||r(c)!==!1)){if(c.firstChild())continue;g=!0}for(;g&&a&&(h||!c.type.isAnonymous)&&a(c),!c.nextSibling();){if(!c.parent())return;g=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:Rie(Zu.none,this.children,this.positions,0,this.children.length,0,this.length,(r,a,i)=>new zi(this.type,r,a,i,this.propValues),e.makeTree||((r,a,i)=>new zi(Zu.none,r,a,i)))}static build(e){return Y4e(e)}}zi.empty=new zi(Zu.none,[],[],0);class Eie{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Eie(this.buffer,this.index)}}class DS{constructor(e,r,a){this.buffer=e,this.length=r,this.set=a}get type(){return Zu.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],a=this.buffer[e+3],i=this.set.types[r],f=i.name;if(/\W/.test(f)&&!i.isError&&(f=JSON.stringify(f)),e+=4,a==e)return f;let d=[];for(;e<a;)d.push(this.childString(e)),e=this.buffer[e+3];return f+"("+d.join(",")+")"}findChild(e,r,a,i,f){let{buffer:d}=this,h=-1;for(let c=e;c!=r&&!(l0e(f,i,d[c+1],d[c+2])&&(h=c,a>0));c=d[c+3]);return h}slice(e,r,a){let i=this.buffer,f=new Uint16Array(r-e),d=0;for(let h=e,c=0;h<r;){f[c++]=i[h++],f[c++]=i[h++]-a;let g=f[c++]=i[h++]-a;f[c++]=i[h++]-e,d=Math.max(d,g)}return new DS(f,d,this.set)}}function l0e(t,e,r,a){switch(t){case-2:return r<e;case-1:return a>=e&&r<e;case 0:return r<e&&a>e;case 1:return r<=e&&a>e;case 2:return a>e;case 4:return!0}}function TD(t,e,r,a){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let d=!a&&t instanceof $d&&t.index<0?null:t.parent;if(!d)return t;t=d}let f=a?0:Sl.IgnoreOverlays;if(a)for(let d=t,h=d.parent;h;d=h,h=d.parent)d instanceof $d&&d.index<0&&((i=h.enter(e,r,f))===null||i===void 0?void 0:i.from)!=d.from&&(t=h);for(;;){let d=t.enter(e,r,f);if(!d)return t;t=d}}class c0e{cursor(e=0){return new CH(this,e)}getChild(e,r=null,a=null){let i=ehe(this,e,r,a);return i.length?i[0]:null}getChildren(e,r=null,a=null){return ehe(this,e,r,a)}resolve(e,r=0){return TD(this,e,r,!1)}resolveInner(e,r=0){return TD(this,e,r,!0)}matchContext(e){return Hse(this,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),a=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(a=r,r=i.prevSibling):r=i}return a}get node(){return this}get next(){return this.parent}}class $d extends c0e{constructor(e,r,a,i){super(),this._tree=e,this.from=r,this.index=a,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,a,i,f=0){for(let d=this;;){for(let{children:h,positions:c}=d._tree,g=r>0?h.length:-1;e!=g;e+=r){let v=h[e],y=c[e]+d.from;if(l0e(i,a,y,y+v.length)){if(v instanceof DS){if(f&Sl.ExcludeBuffers)continue;let b=v.findChild(0,v.buffer.length,r,a-y,i);if(b>-1)return new j0(new H4e(d,v,e,y),null,b)}else if(f&Sl.IncludeAnonymous||!v.type.isAnonymous||_ie(v)){let b;if(!(f&Sl.IgnoreMounts)&&(b=CD.get(v))&&!b.overlay)return new $d(b.tree,y,e,d);let O=new $d(v,y,e,d);return f&Sl.IncludeAnonymous||!O.type.isAnonymous?O:O.nextChild(r<0?v.children.length-1:0,r,a,i)}}}if(f&Sl.IncludeAnonymous||!d.type.isAnonymous||(d.index>=0?e=d.index+r:e=r<0?-1:d._parent._tree.children.length,d=d._parent,!d))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,a=0){let i;if(!(a&Sl.IgnoreOverlays)&&(i=CD.get(this._tree))&&i.overlay){let f=e-this.from;for(let{from:d,to:h}of i.overlay)if((r>0?d<=f:d<f)&&(r<0?h>=f:h>f))return new $d(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,a)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function ehe(t,e,r,a){let i=t.cursor(),f=[];if(!i.firstChild())return f;if(r!=null){for(;!i.type.is(r);)if(!i.nextSibling())return f}for(;;){if(a!=null&&i.type.is(a))return f;if(i.type.is(e)&&f.push(i.node),!i.nextSibling())return a==null?f:[]}}function Hse(t,e,r=e.length-1){for(let a=t.parent;r>=0;a=a.parent){if(!a)return!1;if(!a.type.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}class H4e{constructor(e,r,a,i){this.parent=e,this.buffer=r,this.index=a,this.start=i}}class j0 extends c0e{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,a){super(),this.context=e,this._parent=r,this.index=a,this.type=e.buffer.set.types[e.buffer.buffer[a]]}child(e,r,a){let{buffer:i}=this.context,f=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,a);return f<0?null:new j0(this.context,this,f)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,a=0){if(a&Sl.ExcludeBuffers)return null;let{buffer:i}=this.context,f=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return f<0?null:new j0(this.context,this,f)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new j0(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new j0(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:a}=this.context,i=this.index+4,f=a.buffer[this.index+3];if(f>i){let d=a.buffer[this.index+1];e.push(a.slice(i,f,d)),r.push(0)}return new zi(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function u0e(t){if(!t.length)return null;let e=0,r=t[0];for(let f=1;f<t.length;f++){let d=t[f];(d.from>r.from||d.to<r.to)&&(r=d,e=f)}let a=r instanceof $d&&r.index<0?null:r.parent,i=t.slice();return a?i[e]=a:i.splice(e,1),new U4e(i,r)}class U4e{constructor(e,r){this.heads=e,this.node=r}get next(){return u0e(this.heads)}}function W4e(t,e,r){let a=t.resolveInner(e,r),i=null;for(let f=a instanceof $d?a:a.context.parent;f;f=f.parent)if(f.index<0){let d=f.parent;(i||(i=[a])).push(d.resolve(e,r)),f=d}else{let d=CD.get(f.tree);if(d&&d.overlay&&d.overlay[0].from<=e&&d.overlay[d.overlay.length-1].to>=e){let h=new $d(d.tree,d.overlay[0].from+f.from,-1,f);(i||(i=[a])).push(TD(h,e,r,!1))}}return i?u0e(i):a}class CH{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof $d)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let a=e._parent;a;a=a._parent)this.stack.unshift(a.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:a,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=a+i.buffer[e+1],this.to=a+i.buffer[e+2],!0}yield(e){return e?e instanceof $d?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,a){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,a,this.mode));let{buffer:i}=this.buffer,f=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,a);return f<0?!1:(this.stack.push(this.index),this.yieldBuf(f))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,a=this.mode){return this.buffer?a&Sl.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,a))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Sl.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Sl.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,a=this.stack.length-1;if(e<0){let i=a<0?0:this.stack[a]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(a<0?r.buffer.length:r.buffer[this.stack[a]+3]))return this.yieldBuf(i)}return a<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,a,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let f=0;f<this.index;f++)if(i.buffer.buffer[f+3]<this.index)return!1;({index:r,parent:a}=i)}else({index:r,_parent:a}=this._tree);for(;a;{index:r,_parent:a}=a)if(r>-1)for(let f=r+e,d=e<0?-1:a._tree.children.length;f!=d;f+=e){let h=a._tree.children[f];if(this.mode&Sl.IncludeAnonymous||h instanceof DS||!h.type.isAnonymous||_ie(h))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,a=0;if(e&&e.context==this.buffer)e:for(let i=this.index,f=this.stack.length;f>=0;){for(let d=e;d;d=d._parent)if(d.index==i){if(i==this.index)return d;r=d,a=f+1;break e}i=this.stack[--f]}for(let i=a;i<this.stack.length;i++)r=new j0(this.buffer,r,this.stack[i]);return this.bufferNode=new j0(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let a=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){a++;continue}this.type.isAnonymous||(i=!0)}for(;i&&r&&r(this),i=this.type.isAnonymous,!this.nextSibling();){if(!a)return;this.parent(),a--,i=!0}}}matchContext(e){if(!this.buffer)return Hse(this.node,e);let{buffer:r}=this.buffer,{types:a}=r.set;for(let i=e.length-1,f=this.stack.length-1;i>=0;f--){if(f<0)return Hse(this.node,e,i);let d=a[r.buffer[this.stack[f]]];if(!d.isAnonymous){if(e[i]&&e[i]!=d.name)return!1;i--}}return!0}}function _ie(t){return t.children.some(e=>e instanceof DS||!e.type.isAnonymous||_ie(e))}function Y4e(t){var e;let{buffer:r,nodeSet:a,maxBufferLength:i=i0e,reused:f=[],minRepeatType:d=a.types.length}=t,h=Array.isArray(r)?new Eie(r,r.length):r,c=a.types,g=0,v=0;function y(V,N,Q,z,U,F){let{id:B,start:E,end:W,size:X}=h,ie=v;for(;X<0;)if(h.next(),X==-1){let de=f[B];Q.push(de),z.push(E-V);return}else if(X==-3){g=B;return}else if(X==-4){v=B;return}else throw new RangeError(`Unrecognized record size: ${X}`);let L=c[B],me,ae,q=E-V;if(W-E<=i&&(ae=w(h.pos-N,U))){let de=new Uint16Array(ae.size-ae.skip),ee=h.pos-ae.size,xe=de.length;for(;h.pos>ee;)xe=C(ae.start,de,xe);me=new DS(de,W-ae.start,a),q=ae.start-V}else{let de=h.pos-X;h.next();let ee=[],xe=[],we=B>=d?B:-1,Be=0,pe=W;for(;h.pos>de;)we>=0&&h.id==we&&h.size>=0?(h.end<=pe-i&&(T(ee,xe,E,Be,h.end,pe,we,ie),Be=ee.length,pe=h.end),h.next()):F>2500?b(E,de,ee,xe):y(E,de,ee,xe,we,F+1);if(we>=0&&Be>0&&Be<ee.length&&T(ee,xe,E,Be,E,pe,we,ie),ee.reverse(),xe.reverse(),we>-1&&Be>0){let ne=O(L);me=Rie(L,ee,xe,0,ee.length,0,W-E,ne,ne)}else me=k(L,ee,xe,W-E,ie-W)}Q.push(me),z.push(q)}function b(V,N,Q,z){let U=[],F=0,B=-1;for(;h.pos>N;){let{id:E,start:W,end:X,size:ie}=h;if(ie>4)h.next();else{if(B>-1&&W<B)break;B<0&&(B=X-i),U.push(E,W,X),F++,h.next()}}if(F){let E=new Uint16Array(F*4),W=U[U.length-2];for(let X=U.length-3,ie=0;X>=0;X-=3)E[ie++]=U[X],E[ie++]=U[X+1]-W,E[ie++]=U[X+2]-W,E[ie++]=ie;Q.push(new DS(E,U[2]-W,a)),z.push(W-V)}}function O(V){return(N,Q,z)=>{let U=0,F=N.length-1,B,E;if(F>=0&&(B=N[F])instanceof zi){if(!F&&B.type==V&&B.length==z)return B;(E=B.prop(ha.lookAhead))&&(U=Q[F]+B.length+E)}return k(V,N,Q,z,U)}}function T(V,N,Q,z,U,F,B,E){let W=[],X=[];for(;V.length>z;)W.push(V.pop()),X.push(N.pop()+Q-U);V.push(k(a.types[B],W,X,F-U,E-F)),N.push(U-Q)}function k(V,N,Q,z,U=0,F){if(g){let B=[ha.contextHash,g];F=F?[B].concat(F):[B]}if(U>25){let B=[ha.lookAhead,U];F=F?[B].concat(F):[B]}return new zi(V,N,Q,z,F)}function w(V,N){let Q=h.fork(),z=0,U=0,F=0,B=Q.end-i,E={size:0,start:0,skip:0};e:for(let W=Q.pos-V;Q.pos>W;){let X=Q.size;if(Q.id==N&&X>=0){E.size=z,E.start=U,E.skip=F,F+=4,z+=4,Q.next();continue}let ie=Q.pos-X;if(X<0||ie<W||Q.start<B)break;let L=Q.id>=d?4:0,me=Q.start;for(Q.next();Q.pos>ie;){if(Q.size<0)if(Q.size==-3)L+=4;else break e;else Q.id>=d&&(L+=4);Q.next()}U=me,z+=X,F+=L}return(N<0||z==V)&&(E.size=z,E.start=U,E.skip=F),E.size>4?E:void 0}function C(V,N,Q){let{id:z,start:U,end:F,size:B}=h;if(h.next(),B>=0&&z<d){let E=Q;if(B>4){let W=h.pos-(B-4);for(;h.pos>W;)Q=C(V,N,Q)}N[--Q]=E,N[--Q]=F-V,N[--Q]=U-V,N[--Q]=z}else B==-3?g=z:B==-4&&(v=z);return Q}let _=[],M=[];for(;h.pos>0;)y(t.start||0,t.bufferStart||0,_,M,-1,0);let I=(e=t.length)!==null&&e!==void 0?e:_.length?M[0]+_[0].length:0;return new zi(c[t.topID],_.reverse(),M.reverse(),I)}const the=new WeakMap;function JZ(t,e){if(!t.isAnonymous||e instanceof DS||e.type!=t)return 1;let r=the.get(e);if(r==null){r=1;for(let a of e.children){if(a.type!=t||!(a instanceof zi)){r=1;break}r+=JZ(t,a)}the.set(e,r)}return r}function Rie(t,e,r,a,i,f,d,h,c){let g=0;for(let T=a;T<i;T++)g+=JZ(t,e[T]);let v=Math.ceil(g*1.5/8),y=[],b=[];function O(T,k,w,C,_){for(let M=w;M<C;){let I=M,V=k[M],N=JZ(t,T[M]);for(M++;M<C;M++){let Q=JZ(t,T[M]);if(N+Q>=v)break;N+=Q}if(M==I+1){if(N>v){let Q=T[I];O(Q.children,Q.positions,0,Q.children.length,k[I]+_);continue}y.push(T[I])}else{let Q=k[M-1]+T[M-1].length-V;y.push(Rie(t,T,k,I,M,V,Q,null,c))}b.push(V+_-f)}}return O(e,r,a,i,0),(h||c)(y,b,d)}class Die{constructor(){this.map=new WeakMap}setBuffer(e,r,a){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(r,a)}getBuffer(e,r){let a=this.map.get(e);return a&&a.get(r)}set(e,r){e instanceof j0?this.setBuffer(e.context.buffer,e.index,r):e instanceof $d&&this.map.set(e.tree,r)}get(e){return e instanceof j0?this.getBuffer(e.context.buffer,e.index):e instanceof $d?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class xO{constructor(e,r,a,i,f=!1,d=!1){this.from=e,this.to=r,this.tree=a,this.offset=i,this.open=(f?1:0)|(d?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],a=!1){let i=[new xO(0,e.length,e,0,!1,a)];for(let f of r)f.to>e.length&&i.push(f);return i}static applyChanges(e,r,a=128){if(!r.length)return e;let i=[],f=1,d=e.length?e[0]:null;for(let h=0,c=0,g=0;;h++){let v=h<r.length?r[h]:null,y=v?v.fromA:1e9;if(y-c>=a)for(;d&&d.from<y;){let b=d;if(c>=b.from||y<=b.to||g){let O=Math.max(b.from,c)-g,T=Math.min(b.to,y)-g;b=O>=T?null:new xO(O,T,b.tree,b.offset+g,h>0,!!v)}if(b&&i.push(b),d.to>y)break;d=f<e.length?e[f++]:null}if(!v)break;c=v.toA,g=v.toA-v.toB}return i}}class $ie{startParse(e,r,a){return typeof e=="string"&&(e=new X4e(e)),a=a?a.length?a.map(i=>new Pp(i.from,i.to)):[new Pp(0,0)]:[new Pp(0,e.length)],this.createParse(e,r||[],a)}parse(e,r,a){let i=this.startParse(e,r,a);for(;;){let f=i.advance();if(f)return f}}}class X4e{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}function f0e(t){return(e,r,a,i)=>new j4e(e,t,r,a,i)}class nhe{constructor(e,r,a,i,f){this.parser=e,this.parse=r,this.overlay=a,this.target=i,this.from=f}}function rhe(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class G4e{constructor(e,r,a,i,f,d,h){this.parser=e,this.predicate=r,this.mounts=a,this.index=i,this.start=f,this.target=d,this.prev=h,this.depth=0,this.ranges=[]}}const Use=new ha({perNode:!0});class j4e{constructor(e,r,a,i,f){this.nest=r,this.input=a,this.fragments=i,this.ranges=f,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let a=this.baseParse.advance();if(!a)return null;if(this.baseParse=null,this.baseTree=a,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let a=this.baseTree;return this.stoppedAt!=null&&(a=new zi(a.type,a.children,a.positions,a.length,a.propValues.concat([[Use,this.stoppedAt]]))),a}let e=this.inner[this.innerDone],r=e.parse.advance();if(r){this.innerDone++;let a=Object.assign(Object.create(null),e.target.props);a[ha.mounted.id]=new CD(r,e.overlay,e.parser),e.target.props=a}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].from<e&&(e=Math.min(e,this.inner[r].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].parse.stopAt(e)}startInner(){let e=new J4e(this.fragments),r=null,a=null,i=new CH(new $d(this.baseTree,this.ranges[0].from,0,null),Sl.IncludeAnonymous|Sl.IgnoreMounts);e:for(let f,d;;){let h=!0,c;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)h=!1;else if(e.hasNode(i)){if(r){let g=r.mounts.find(v=>v.frag.from<=i.from&&v.frag.to>=i.to&&v.mount.overlay);if(g)for(let v of g.mount.overlay){let y=v.from+g.pos,b=v.to+g.pos;y>=i.from&&b<=i.to&&!r.ranges.some(O=>O.from<b&&O.to>y)&&r.ranges.push({from:y,to:b})}}h=!1}else if(a&&(d=q4e(a.ranges,i.from,i.to)))h=d!=2;else if(!i.type.isAnonymous&&(f=this.nest(i,this.input))&&(i.from<i.to||!f.overlay)){i.tree||K4e(i);let g=e.findMounts(i.from,f.parser);if(typeof f.overlay=="function")r=new G4e(f.parser,f.overlay,g,this.inner.length,i.from,i.tree,r);else{let v=ahe(this.ranges,f.overlay||(i.from<i.to?[new Pp(i.from,i.to)]:[]));v.length&&rhe(v),(v.length||!f.overlay)&&this.inner.push(new nhe(f.parser,v.length?f.parser.startParse(this.input,ihe(g,v),v):f.parser.startParse(""),f.overlay?f.overlay.map(y=>new Pp(y.from-i.from,y.to-i.from)):null,i.tree,v.length?v[0].from:i.from)),f.overlay?v.length&&(a={ranges:v,depth:0,prev:a}):h=!1}}else r&&(c=r.predicate(i))&&(c===!0&&(c=new Pp(i.from,i.to)),c.from<c.to&&r.ranges.push(c));if(h&&i.firstChild())r&&r.depth++,a&&a.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(r&&!--r.depth){let g=ahe(this.ranges,r.ranges);g.length&&(rhe(g),this.inner.splice(r.index,0,new nhe(r.parser,r.parser.startParse(this.input,ihe(r.mounts,g),g),r.ranges.map(v=>new Pp(v.from-r.start,v.to-r.start)),r.target,g[0].from))),r=r.prev}a&&!--a.depth&&(a=a.prev)}}}}function q4e(t,e,r){for(let a of t){if(a.from>=r)break;if(a.to>e)return a.from<=e&&a.to>=r?2:1}return 0}function ohe(t,e,r,a,i,f){if(e<r){let d=t.buffer[e+1];a.push(t.slice(e,r,d)),i.push(d-f)}}function K4e(t){let{node:e}=t,r=[];do r.push(t.index),t.parent();while(!t.tree);let a=0,i=t.tree,f=0;for(;f=i.positions[a]+t.from,!(f<=e.from&&f+i.children[a].length>=e.to);a++);let d=i.children[a],h=d.buffer,c=[a];function g(v,y,b,O,T,k){let w=r[k],C=[],_=[];ohe(d,v,w,C,_,O);let M=h[w+1],I=h[w+2];c.push(C.length);let V=k?g(w+4,h[w+3],d.set.types[h[w]],M,I-M,k-1):e.toTree();return C.push(V),_.push(M-O),ohe(d,h[w+3],y,C,_,O),new zi(b,C,_,T)}i.children[a]=g(0,h.length,Zu.none,0,d.length,r.length-1);for(let v of c){let y=t.tree.children[v],b=t.tree.positions[v];t.yield(new $d(y,b+t.from,v,t._tree))}}class she{constructor(e,r){this.offset=r,this.done=!1,this.cursor=e.cursor(Sl.IncludeAnonymous|Sl.IgnoreMounts)}moveTo(e){let{cursor:r}=this,a=e-this.offset;for(;!this.done&&r.from<a;)r.to>=e&&r.enter(a,1,Sl.IgnoreOverlays|Sl.ExcludeBuffers)||r.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let r=this.cursor.tree;;){if(r==e.tree)return!0;if(r.children.length&&r.positions[0]==0&&r.children[0]instanceof zi)r=r.children[0];else break}return!1}}let J4e=class{constructor(e){var r;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let a=this.curFrag=e[0];this.curTo=(r=a.tree.prop(Use))!==null&&r!==void 0?r:a.to,this.inner=new she(a.tree,-a.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let r=this.curFrag=this.fragments[this.fragI];this.curTo=(e=r.tree.prop(Use))!==null&&e!==void 0?e:r.to,this.inner=new she(r.tree,-r.offset)}}findMounts(e,r){var a;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let f=this.inner.cursor.node;f;f=f.parent){let d=(a=f.tree)===null||a===void 0?void 0:a.prop(ha.mounted);if(d&&d.parser==r)for(let h=this.fragI;h<this.fragments.length;h++){let c=this.fragments[h];if(c.from>=f.to)break;c.tree==this.curFrag.tree&&i.push({frag:c,pos:f.from-c.offset,mount:d})}}}return i}};function ahe(t,e){let r=null,a=e;for(let i=1,f=0;i<t.length;i++){let d=t[i-1].to,h=t[i].from;for(;f<a.length;f++){let c=a[f];if(c.from>=h)break;c.to<=d||(r||(a=r=e.slice()),c.from<d?(r[f]=new Pp(c.from,d),c.to>h&&r.splice(f+1,0,new Pp(h,c.to))):c.to>h?r[f--]=new Pp(h,c.to):r.splice(f--,1))}}return a}function eAe(t,e,r,a){let i=0,f=0,d=!1,h=!1,c=-1e9,g=[];for(;;){let v=i==t.length?1e9:d?t[i].to:t[i].from,y=f==e.length?1e9:h?e[f].to:e[f].from;if(d!=h){let b=Math.max(c,r),O=Math.min(v,y,a);b<O&&g.push(new Pp(b,O))}if(c=Math.min(v,y),c==1e9)break;v==c&&(d?(d=!1,i++):d=!0),y==c&&(h?(h=!1,f++):h=!0)}return g}function ihe(t,e){let r=[];for(let{pos:a,mount:i,frag:f}of t){let d=a+(i.overlay?i.overlay[0].from:0),h=d+i.tree.length,c=Math.max(f.from,d),g=Math.min(f.to,h);if(i.overlay){let v=i.overlay.map(b=>new Pp(b.from+a,b.to+a)),y=eAe(e,v,c,g);for(let b=0,O=c;;b++){let T=b==y.length,k=T?g:y[b].from;if(k>O&&r.push(new xO(O,k,i.tree,-d,f.from>=O||f.openStart,f.to<=k||f.openEnd)),T)break;O=y[b].to}}else r.push(new xO(c,g,i.tree,-d,f.from>=d||f.openStart,f.to<=h||f.openEnd))}return r}let tAe=0;class Fv{constructor(e,r,a){this.set=e,this.base=r,this.modified=a,this.id=tAe++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let r=new Fv([],null,[]);if(r.set.push(r),e)for(let a of e.set)r.set.push(a);return r}static defineModifier(){let e=new TH;return r=>r.modified.indexOf(e)>-1?r:TH.get(r.base||r,r.modified.concat(e).sort((a,i)=>a.id-i.id))}}let nAe=0;class TH{constructor(){this.instances=[],this.id=nAe++}static get(e,r){if(!r.length)return e;let a=r[0].instances.find(h=>h.base==e&&rAe(r,h.modified));if(a)return a;let i=[],f=new Fv(i,e,r);for(let h of r)h.instances.push(f);let d=oAe(r);for(let h of e.set)if(!h.modified.length)for(let c of d)i.push(TH.get(h,c));return f}}function rAe(t,e){return t.length==e.length&&t.every((r,a)=>r==e[a])}function oAe(t){let e=[[]];for(let r=0;r<t.length;r++)for(let a=0,i=e.length;a<i;a++)e.push(e[a].concat(t[r]));return e.sort((r,a)=>a.length-r.length)}function QS(t){let e=Object.create(null);for(let r in t){let a=t[r];Array.isArray(a)||(a=[a]);for(let i of r.split(" "))if(i){let f=[],d=2,h=i;for(let y=0;;){if(h=="..."&&y>0&&y+3==i.length){d=1;break}let b=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(h);if(!b)throw new RangeError("Invalid path: "+i);if(f.push(b[0]=="*"?"":b[0][0]=='"'?JSON.parse(b[0]):b[0]),y+=b[0].length,y==i.length)break;let O=i[y++];if(y==i.length&&O=="!"){d=0;break}if(O!="/")throw new RangeError("Invalid path: "+i);h=i.slice(y)}let c=f.length-1,g=f[c];if(!g)throw new RangeError("Invalid path: "+i);let v=new kH(a,d,c>0?f.slice(0,c):null);e[g]=v.sort(e[g])}}return d0e.add(e)}const d0e=new ha;class kH{constructor(e,r,a,i){this.tags=e,this.mode=r,this.context=a,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}kH.empty=new kH([],2,null);function h0e(t,e){let r=Object.create(null);for(let f of t)if(!Array.isArray(f.tag))r[f.tag.id]=f.class;else for(let d of f.tag)r[d.id]=f.class;let{scope:a,all:i=null}=e||{};return{style:f=>{let d=i;for(let h of f)for(let c of h.set){let g=r[c.id];if(g){d=d?d+" "+g:g;break}}return d},scope:a}}function sAe(t,e){let r=null;for(let a of t){let i=a.style(e);i&&(r=r?r+" "+i:i)}return r}function aAe(t,e,r,a=0,i=t.length){let f=new iAe(a,Array.isArray(e)?e:[e],r);f.highlightRange(t.cursor(),a,i,"",f.highlighters),f.flush(i)}class iAe{constructor(e,r,a){this.at=e,this.highlighters=r,this.span=a,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,a,i,f){let{type:d,from:h,to:c}=e;if(h>=a||c<=r)return;d.isTop&&(f=this.highlighters.filter(O=>!O.scope||O.scope(d)));let g=i,v=lAe(e)||kH.empty,y=sAe(f,v.tags);if(y&&(g&&(g+=" "),g+=y,v.mode==1&&(i+=(i?" ":"")+y)),this.startSpan(Math.max(r,h),g),v.opaque)return;let b=e.tree&&e.tree.prop(ha.mounted);if(b&&b.overlay){let O=e.node.enter(b.overlay[0].from+h,1),T=this.highlighters.filter(w=>!w.scope||w.scope(b.tree.type)),k=e.firstChild();for(let w=0,C=h;;w++){let _=w<b.overlay.length?b.overlay[w]:null,M=_?_.from+h:c,I=Math.max(r,C),V=Math.min(a,M);if(I<V&&k)for(;e.from<V&&(this.highlightRange(e,I,V,i,f),this.startSpan(Math.min(V,e.to),g),!(e.to>=M||!e.nextSibling())););if(!_||M>a)break;C=_.to+h,C>r&&(this.highlightRange(O.cursor(),Math.max(r,_.from+h),Math.min(a,C),"",T),this.startSpan(Math.min(a,C),g))}k&&e.parent()}else if(e.firstChild()){b&&(i="");do if(!(e.to<=r)){if(e.from>=a)break;this.highlightRange(e,r,a,i,f),this.startSpan(Math.min(a,e.to),g)}while(e.nextSibling());e.parent()}}}function lAe(t){let e=t.type.prop(d0e);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Po=Fv.define,OZ=Po(),gS=Po(),lhe=Po(gS),che=Po(gS),pS=Po(),xZ=Po(pS),toe=Po(pS),z0=Po(),yT=Po(z0),F0=Po(),V0=Po(),Wse=Po(),kR=Po(Wse),SZ=Po(),Qt={comment:OZ,lineComment:Po(OZ),blockComment:Po(OZ),docComment:Po(OZ),name:gS,variableName:Po(gS),typeName:lhe,tagName:Po(lhe),propertyName:che,attributeName:Po(che),className:Po(gS),labelName:Po(gS),namespace:Po(gS),macroName:Po(gS),literal:pS,string:xZ,docString:Po(xZ),character:Po(xZ),attributeValue:Po(xZ),number:toe,integer:Po(toe),float:Po(toe),bool:Po(pS),regexp:Po(pS),escape:Po(pS),color:Po(pS),url:Po(pS),keyword:F0,self:Po(F0),null:Po(F0),atom:Po(F0),unit:Po(F0),modifier:Po(F0),operatorKeyword:Po(F0),controlKeyword:Po(F0),definitionKeyword:Po(F0),moduleKeyword:Po(F0),operator:V0,derefOperator:Po(V0),arithmeticOperator:Po(V0),logicOperator:Po(V0),bitwiseOperator:Po(V0),compareOperator:Po(V0),updateOperator:Po(V0),definitionOperator:Po(V0),typeOperator:Po(V0),controlOperator:Po(V0),punctuation:Wse,separator:Po(Wse),bracket:kR,angleBracket:Po(kR),squareBracket:Po(kR),paren:Po(kR),brace:Po(kR),content:z0,heading:yT,heading1:Po(yT),heading2:Po(yT),heading3:Po(yT),heading4:Po(yT),heading5:Po(yT),heading6:Po(yT),contentSeparator:Po(z0),list:Po(z0),quote:Po(z0),emphasis:Po(z0),strong:Po(z0),link:Po(z0),monospace:Po(z0),strikethrough:Po(z0),inserted:Po(),deleted:Po(),changed:Po(),invalid:Po(),meta:SZ,documentMeta:Po(SZ),annotation:Po(SZ),processingInstruction:Po(SZ),definition:Fv.defineModifier(),constant:Fv.defineModifier(),function:Fv.defineModifier(),standard:Fv.defineModifier(),local:Fv.defineModifier(),special:Fv.defineModifier()};h0e([{tag:Qt.link,class:"tok-link"},{tag:Qt.heading,class:"tok-heading"},{tag:Qt.emphasis,class:"tok-emphasis"},{tag:Qt.strong,class:"tok-strong"},{tag:Qt.keyword,class:"tok-keyword"},{tag:Qt.atom,class:"tok-atom"},{tag:Qt.bool,class:"tok-bool"},{tag:Qt.url,class:"tok-url"},{tag:Qt.labelName,class:"tok-labelName"},{tag:Qt.inserted,class:"tok-inserted"},{tag:Qt.deleted,class:"tok-deleted"},{tag:Qt.literal,class:"tok-literal"},{tag:Qt.string,class:"tok-string"},{tag:Qt.number,class:"tok-number"},{tag:[Qt.regexp,Qt.escape,Qt.special(Qt.string)],class:"tok-string2"},{tag:Qt.variableName,class:"tok-variableName"},{tag:Qt.local(Qt.variableName),class:"tok-variableName tok-local"},{tag:Qt.definition(Qt.variableName),class:"tok-variableName tok-definition"},{tag:Qt.special(Qt.variableName),class:"tok-variableName2"},{tag:Qt.definition(Qt.propertyName),class:"tok-propertyName tok-definition"},{tag:Qt.typeName,class:"tok-typeName"},{tag:Qt.namespace,class:"tok-namespace"},{tag:Qt.className,class:"tok-className"},{tag:Qt.macroName,class:"tok-macroName"},{tag:Qt.propertyName,class:"tok-propertyName"},{tag:Qt.operator,class:"tok-operator"},{tag:Qt.comment,class:"tok-comment"},{tag:Qt.meta,class:"tok-meta"},{tag:Qt.invalid,class:"tok-invalid"},{tag:Qt.punctuation,class:"tok-punctuation"}]);var noe;const RT=new ha;function Lie(t){return ss.define({combine:t?e=>e.concat(t):void 0})}const Iie=new ha;class Mp{constructor(e,r,a=[],i=""){this.data=e,this.name=i,Na.prototype.hasOwnProperty("tree")||Object.defineProperty(Na.prototype,"tree",{get(){return al(this)}}),this.parser=r,this.extension=[LS.of(this),Na.languageData.of((f,d,h)=>{let c=uhe(f,d,h),g=c.type.prop(RT);if(!g)return[];let v=f.facet(g),y=c.type.prop(Iie);if(y){let b=c.resolve(d-c.from,h);for(let O of y)if(O.test(b,f)){let T=f.facet(O.facet);return O.type=="replace"?T:T.concat(v)}}return v})].concat(a)}isActiveAt(e,r,a=-1){return uhe(e,r,a).type.prop(RT)==this.data}findRegions(e){let r=e.facet(LS);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let a=[],i=(f,d)=>{if(f.prop(RT)==this.data){a.push({from:d,to:d+f.length});return}let h=f.prop(ha.mounted);if(h){if(h.tree.prop(RT)==this.data){if(h.overlay)for(let c of h.overlay)a.push({from:c.from+d,to:c.to+d});else a.push({from:d,to:d+f.length});return}else if(h.overlay){let c=a.length;if(i(h.tree,h.overlay[0].from+d),a.length>c)return}}for(let c=0;c<f.children.length;c++){let g=f.children[c];g instanceof zi&&i(g,f.positions[c]+d)}};return i(al(e),0),a}get allowsNesting(){return!0}}Mp.setState=da.define();function uhe(t,e,r){let a=t.facet(LS),i=al(t).topNode;if(!a||a.allowsNesting)for(let f=i;f;f=f.enter(e,r,Sl.ExcludeBuffers))f.type.isTop&&(i=f);return i}class $S extends Mp{constructor(e,r,a){super(e,r,[],a),this.parser=r}static define(e){let r=Lie(e.languageData);return new $S(r,e.parser.configure({props:[RT.add(a=>a.isTop?r:void 0)]}),e.name)}configure(e,r){return new $S(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function al(t){let e=t.field(Mp.state,!1);return e?e.tree:zi.empty}class cAe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let a=this.cursorPos-this.string.length;return e<a||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-a,r-a)}}let AR=null;class kD{constructor(e,r,a=[],i,f,d,h,c){this.parser=e,this.state=r,this.fragments=a,this.tree=i,this.treeLen=f,this.viewport=d,this.skipped=h,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,r,a){return new kD(e,r,[],zi.empty,0,a,[],null)}startParse(){return this.parser.startParse(new cAe(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=zi.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var a;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(xO.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(a=this.parse.stoppedAt)!==null&&a!==void 0?a:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(xO.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=AR;AR=this;try{return e()}finally{AR=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=fhe(e,r.from,r.to);return e}changes(e,r){let{fragments:a,tree:i,treeLen:f,viewport:d,skipped:h}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((g,v,y,b)=>c.push({fromA:g,toA:v,fromB:y,toB:b})),a=xO.applyChanges(a,c),i=zi.empty,f=0,d={from:e.mapPos(d.from,-1),to:e.mapPos(d.to,1)},this.skipped.length){h=[];for(let g of this.skipped){let v=e.mapPos(g.from,1),y=e.mapPos(g.to,-1);v<y&&h.push({from:v,to:y})}}}return new kD(this.parser,r,a,i,f,d,h,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let a=0;a<this.skipped.length;a++){let{from:i,to:f}=this.skipped[a];i<e.to&&f>e.from&&(this.fragments=fhe(this.fragments,i,f),this.skipped.splice(a--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends $ie{createParse(r,a,i){let f=i[0].from,d=i[i.length-1].to;return{parsedPos:f,advance(){let c=AR;if(c){for(let g of i)c.tempSkipped.push(g);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=d,new zi(Zu.none,[],[],d-f)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return AR}}function fhe(t,e,r){return xO.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class v8{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),a=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,a)||r.takeTree(),new v8(r)}static init(e){let r=Math.min(3e3,e.doc.length),a=kD.create(e.facet(LS).parser,e,{from:0,to:r});return a.work(20,r)||a.takeTree(),new v8(a)}}Mp.state=Hu.define({create:v8.init,update(t,e){for(let r of e.effects)if(r.is(Mp.setState))return r.value;return e.startState.facet(LS)!=e.state.facet(LS)?v8.init(e.state):t.apply(e)}});let m0e=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(m0e=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const roe=typeof navigator<"u"&&(!((noe=navigator.scheduling)===null||noe===void 0)&&noe.isInputPending)?()=>navigator.scheduling.isInputPending():null,uAe=Sc.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Mp.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Mp.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=m0e(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:a,viewport:{to:i}}=this.view,f=a.field(Mp.state);if(f.tree==f.context.tree&&f.context.isDone(i+1e5))return;let d=Date.now()+Math.min(this.chunkBudget,100,e&&!roe?Math.max(25,e.timeRemaining()-5):1e9),h=f.context.treeLen<i&&a.doc.length>i+1e3,c=f.context.work(()=>roe&&roe()||Date.now()>d,i+(h?0:1e5));this.chunkBudget-=Date.now()-r,(c||this.chunkBudget<=0)&&(f.context.takeTree(),this.view.dispatch({effects:Mp.setState.of(new v8(f.context))})),this.chunkBudget>0&&!(c&&!h)&&this.scheduleWork(),this.checkAsyncSchedule(f.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>Lp(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),LS=ss.define({combine(t){return t.length?t[0]:null},enables:t=>[Mp.state,uAe,Xo.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class FT{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}class AH{constructor(e,r,a,i,f,d=void 0){this.name=e,this.alias=r,this.extensions=a,this.filename=i,this.loadFunc=f,this.support=d,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:r,support:a}=e;if(!r){if(!a)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");r=()=>Promise.resolve(a)}return new AH(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,r,a)}static matchFilename(e,r){for(let i of e)if(i.filename&&i.filename.test(r))return i;let a=/\.([^.]+)$/.exec(r);if(a){for(let i of e)if(i.extensions.indexOf(a[1])>-1)return i}return null}static matchLanguageName(e,r,a=!0){r=r.toLowerCase();for(let i of e)if(i.alias.some(f=>f==r))return i;if(a)for(let i of e)for(let f of i.alias){let d=r.indexOf(f);if(d>-1&&(f.length>2||!/\w/.test(r[d-1])&&!/\w/.test(r[d+f.length])))return i}return null}}const fAe=ss.define(),XT=ss.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function PH(t){let e=t.facet(XT);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function AD(t,e){let r="",a=t.tabSize,i=t.facet(XT)[0];if(i=="	"){for(;e>=a;)r+="	",e-=a;i=" "}for(let f=0;f<e;f++)r+=i;return r}function Nie(t,e){t instanceof Na&&(t=new LU(t));for(let a of t.state.facet(fAe)){let i=a(t,e);if(i!==void 0)return i}let r=al(t.state);return r.length>=e?dAe(t,r,e):null}class LU{constructor(e,r={}){this.state=e,this.options=r,this.unit=PH(e)}lineAt(e,r=1){let a=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:f}=this.options;return i!=null&&i>=a.from&&i<=a.to?f&&i==e?{text:"",from:e}:(r<0?i<e:i<=e)?{text:a.text.slice(i-a.from),from:i}:{text:a.text.slice(0,i-a.from),from:a.from}:a}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:a,from:i}=this.lineAt(e,r);return a.slice(e-i,Math.min(a.length,e+100-i))}column(e,r=1){let{text:a,from:i}=this.lineAt(e,r),f=this.countColumn(a,e-i),d=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return d>-1&&(f+=d-this.countColumn(a,a.search(/\S|$/))),f}countColumn(e,r=e.length){return Wv(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:a,from:i}=this.lineAt(e,r),f=this.options.overrideIndentation;if(f){let d=f(i);if(d>-1)return d}return this.countColumn(a,a.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const GT=new ha;function dAe(t,e,r){let a=e.resolveStack(r),i=a.node.enterUnfinishedNodesBefore(r);if(i!=a.node){let f=[];for(let d=i;d!=a.node;d=d.parent)f.push(d);for(let d=f.length-1;d>=0;d--)a={node:f[d],next:a}}return g0e(a,t,r)}function g0e(t,e,r){for(let a=t;a;a=a.next){let i=mAe(a.node);if(i)return i(Bie.create(e,r,a))}return 0}function hAe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function mAe(t){let e=t.type.prop(GT);if(e)return e;let r=t.firstChild,a;if(r&&(a=r.type.prop(ha.closedBy))){let i=t.lastChild,f=i&&a.indexOf(i.name)>-1;return d=>p0e(d,!0,1,void 0,f&&!hAe(d)?i.from:void 0)}return t.parent==null?gAe:null}function gAe(){return 0}class Bie extends LU{constructor(e,r,a){super(e.state,e.options),this.base=e,this.pos=r,this.context=a}get node(){return this.context.node}static create(e,r,a){return new Bie(e,r,a)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let a=e.resolve(r.from);for(;a.parent&&a.parent.from==a.from;)a=a.parent;if(pAe(a,e))break;r=this.state.doc.lineAt(a.from)}return this.lineIndent(r.from)}continue(){return g0e(this.context.next,this.base,this.pos)}}function pAe(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function vAe(t){let e=t.node,r=e.childAfter(e.from),a=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,f=t.state.doc.lineAt(r.from),d=i==null||i<=f.from?f.to:Math.min(f.to,i);for(let h=r.to;;){let c=e.childAfter(h);if(!c||c==a)return null;if(!c.type.isSkipped)return c.from<d?r:null;h=c.to}}function eH({closing:t,align:e=!0,units:r=1}){return a=>p0e(a,e,r,t)}function p0e(t,e,r,a,i){let f=t.textAfter,d=f.match(/^\s*/)[0].length,h=a&&f.slice(d,d+a.length)==a||i==t.pos+d,c=e?vAe(t):null;return c?h?t.column(c.from):t.column(c.to):t.baseIndent+(h?0:t.unit*r)}const yAe=t=>t.baseIndent;function eD({except:t,units:e=1}={}){return r=>{let a=t&&t.test(r.textAfter);return r.baseIndent+(a?0:e*r.unit)}}const bAe=200;function OAe(){return Na.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:a}=t.newSelection.main,i=r.lineAt(a);if(a>i.from+bAe)return t;let f=r.sliceString(i.from,a);if(!e.some(g=>g.test(f)))return t;let{state:d}=t,h=-1,c=[];for(let{head:g}of d.selection.ranges){let v=d.doc.lineAt(g);if(v.from==h)continue;h=v.from;let y=Nie(d,v.from);if(y==null)continue;let b=/^\s*/.exec(v.text)[0],O=AD(d,y);b!=O&&c.push({from:v.from,to:v.from+b.length,insert:O})}return c.length?[t,{changes:c,sequential:!0}]:t})}const v0e=ss.define(),FS=new ha;function Qie(t){let e=t.firstChild,r=t.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?t.to:r.from}:null}function xAe(t,e,r){let a=al(t);if(a.length<r)return null;let i=a.resolveStack(r,1),f=null;for(let d=i;d;d=d.next){let h=d.node;if(h.to<=r||h.from>r)continue;if(f&&h.from<e)break;let c=h.type.prop(FS);if(c&&(h.to<a.length-50||a.length==t.doc.length||!SAe(h))){let g=c(h,t);g&&g.from<=r&&g.from>=e&&g.to>r&&(f=g)}}return f}function SAe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function MH(t,e,r){for(let a of t.facet(v0e)){let i=a(t,e,r);if(i)return i}return xAe(t,e,r)}function y0e(t,e){let r=e.mapPos(t.from,1),a=e.mapPos(t.to,-1);return r>=a?void 0:{from:r,to:a}}const IU=da.define({map:y0e}),JD=da.define({map:y0e});function b0e(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(a=>a.from<=r&&a.to>=r)||e.push(t.lineBlockAt(r));return e}const VT=Hu.define({create(){return Ss.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)if(r.is(IU)&&!wAe(t,r.value.from,r.value.to)){let{preparePlaceholder:a}=e.state.facet(Fie),i=a?Ss.replace({widget:new EAe(a(e.state,r.value))}):dhe;t=t.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(JD)&&(t=t.update({filter:(a,i)=>r.value.from!=a||r.value.to!=i,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:a}=e.selection.main;t.between(a,a,(i,f)=>{i<a&&f>a&&(r=!0)}),r&&(t=t.update({filterFrom:a,filterTo:a,filter:(i,f)=>f<=a||i>=a}))}return t},provide:t=>Xo.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(a,i)=>{r.push(a,i)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let a=t[r++],i=t[r++];if(typeof a!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(dhe.range(a,i))}return Ss.set(e,!0)}});function EH(t,e,r){var a;let i=null;return(a=t.field(VT,!1))===null||a===void 0||a.between(e,r,(f,d)=>{(!i||i.from>f)&&(i={from:f,to:d})}),i}function wAe(t,e,r){let a=!1;return t.between(e,e,(i,f)=>{i==e&&f==r&&(a=!0)}),a}function O0e(t,e){return t.field(VT,!1)?e:e.concat(da.appendConfig.of(S0e()))}const CAe=t=>{for(let e of b0e(t)){let r=MH(t.state,e.from,e.to);if(r)return t.dispatch({effects:O0e(t.state,[IU.of(r),x0e(t,r)])}),!0}return!1},TAe=t=>{if(!t.state.field(VT,!1))return!1;let e=[];for(let r of b0e(t)){let a=EH(t.state,r.from,r.to);a&&e.push(JD.of(a),x0e(t,a,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function x0e(t,e,r=!0){let a=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Xo.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${a} ${t.state.phrase("to")} ${i}.`)}const kAe=t=>{let{state:e}=t,r=[];for(let a=0;a<e.doc.length;){let i=t.lineBlockAt(a),f=MH(e,i.from,i.to);f&&r.push(IU.of(f)),a=(f?t.lineBlockAt(f.to):i).to+1}return r.length&&t.dispatch({effects:O0e(t.state,r)}),!!r.length},AAe=t=>{let e=t.state.field(VT,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(a,i)=>{r.push(JD.of({from:a,to:i}))}),t.dispatch({effects:r}),!0},PAe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:CAe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:TAe},{key:"Ctrl-Alt-[",run:kAe},{key:"Ctrl-Alt-]",run:AAe}],MAe={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Fie=ss.define({combine(t){return ly(t,MAe)}});function S0e(t){let e=[VT,DAe];return t&&e.push(Fie.of(t)),e}function w0e(t,e){let{state:r}=t,a=r.facet(Fie),i=d=>{let h=t.lineBlockAt(t.posAtDOM(d.target)),c=EH(t.state,h.from,h.to);c&&t.dispatch({effects:JD.of(c)}),d.preventDefault()};if(a.placeholderDOM)return a.placeholderDOM(t,i,e);let f=document.createElement("span");return f.textContent=a.placeholderText,f.setAttribute("aria-label",r.phrase("folded code")),f.title=r.phrase("unfold"),f.className="cm-foldPlaceholder",f.onclick=i,f}const dhe=Ss.replace({widget:new class extends jv{toDOM(t){return w0e(t,null)}}});class EAe extends jv{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return w0e(e,this.value)}}const _Ae={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ooe extends PO{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function RAe(t={}){let e=Object.assign(Object.assign({},_Ae),t),r=new ooe(e,!0),a=new ooe(e,!1),i=Sc.fromClass(class{constructor(d){this.from=d.viewport.from,this.markers=this.buildMarkers(d)}update(d){(d.docChanged||d.viewportChanged||d.startState.facet(LS)!=d.state.facet(LS)||d.startState.field(VT,!1)!=d.state.field(VT,!1)||al(d.startState)!=al(d.state)||e.foldingChanged(d))&&(this.markers=this.buildMarkers(d.view))}buildMarkers(d){let h=new MS;for(let c of d.viewportLineBlocks){let g=EH(d.state,c.from,c.to)?a:MH(d.state,c.from,c.to)?r:null;g&&h.add(c.from,c.from,g)}return h.finish()}}),{domEventHandlers:f}=e;return[i,R4e({class:"cm-foldGutter",markers(d){var h;return((h=d.plugin(i))===null||h===void 0?void 0:h.markers)||Ji.empty},initialSpacer(){return new ooe(e,!1)},domEventHandlers:Object.assign(Object.assign({},f),{click:(d,h,c)=>{if(f.click&&f.click(d,h,c))return!0;let g=EH(d.state,h.from,h.to);if(g)return d.dispatch({effects:JD.of(g)}),!0;let v=MH(d.state,h.from,h.to);return v?(d.dispatch({effects:IU.of(v)}),!0):!1}})}),S0e()]}const DAe=Xo.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class e${constructor(e,r){this.specs=e;let a;function i(h){let c=ES.newName();return(a||(a=Object.create(null)))["."+c]=h,c}const f=typeof r.all=="string"?r.all:r.all?i(r.all):void 0,d=r.scope;this.scope=d instanceof Mp?h=>h.prop(RT)==d.data:d?h=>h==d:void 0,this.style=h0e(e.map(h=>({tag:h.tag,class:h.class||i(Object.assign({},h,{tag:null}))})),{all:f}).style,this.module=a?new ES(a):null,this.themeType=r.themeType}static define(e,r){return new e$(e,r||{})}}const Yse=ss.define(),C0e=ss.define({combine(t){return t.length?[t[0]]:null}});function soe(t){let e=t.facet(Yse);return e.length?e:t.facet(C0e)}function T0e(t,e){let r=[LAe],a;return t instanceof e$&&(t.module&&r.push(Xo.styleModule.of(t.module)),a=t.themeType),e!=null&&e.fallback?r.push(C0e.of(t)):a?r.push(Yse.computeN([Xo.darkTheme],i=>i.facet(Xo.darkTheme)==(a=="dark")?[t]:[])):r.push(Yse.of(t)),r}class $Ae{constructor(e){this.markCache=Object.create(null),this.tree=al(e.state),this.decorations=this.buildDeco(e,soe(e.state))}update(e){let r=al(e.state),a=soe(e.state),i=a!=soe(e.startState);r.length<e.view.viewport.to&&!i&&r.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(r!=this.tree||e.viewportChanged||i)&&(this.tree=r,this.decorations=this.buildDeco(e.view,a))}buildDeco(e,r){if(!r||!this.tree.length)return Ss.none;let a=new MS;for(let{from:i,to:f}of e.visibleRanges)aAe(this.tree,r,(d,h,c)=>{a.add(d,h,this.markCache[c]||(this.markCache[c]=Ss.mark({class:c})))},i,f);return a.finish()}}const LAe=Og.high(Sc.fromClass($Ae,{decorations:t=>t.decorations})),IAe=e$.define([{tag:Qt.meta,color:"#404740"},{tag:Qt.link,textDecoration:"underline"},{tag:Qt.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Qt.emphasis,fontStyle:"italic"},{tag:Qt.strong,fontWeight:"bold"},{tag:Qt.strikethrough,textDecoration:"line-through"},{tag:Qt.keyword,color:"#708"},{tag:[Qt.atom,Qt.bool,Qt.url,Qt.contentSeparator,Qt.labelName],color:"#219"},{tag:[Qt.literal,Qt.inserted],color:"#164"},{tag:[Qt.string,Qt.deleted],color:"#a11"},{tag:[Qt.regexp,Qt.escape,Qt.special(Qt.string)],color:"#e40"},{tag:Qt.definition(Qt.variableName),color:"#00f"},{tag:Qt.local(Qt.variableName),color:"#30a"},{tag:[Qt.typeName,Qt.namespace],color:"#085"},{tag:Qt.className,color:"#167"},{tag:[Qt.special(Qt.variableName),Qt.macroName],color:"#256"},{tag:Qt.definition(Qt.propertyName),color:"#00c"},{tag:Qt.comment,color:"#940"},{tag:Qt.invalid,color:"#f00"}]),NAe=Xo.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),k0e=1e4,A0e="()[]{}",P0e=ss.define({combine(t){return ly(t,{afterCursor:!0,brackets:A0e,maxScanDistance:k0e,renderMatch:FAe})}}),BAe=Ss.mark({class:"cm-matchingBracket"}),QAe=Ss.mark({class:"cm-nonmatchingBracket"});function FAe(t){let e=[],r=t.matched?BAe:QAe;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const VAe=Hu.define({create(){return Ss.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],a=e.state.facet(P0e);for(let i of e.state.selection.ranges){if(!i.empty)continue;let f=q0(e.state,i.head,-1,a)||i.head>0&&q0(e.state,i.head-1,1,a)||a.afterCursor&&(q0(e.state,i.head,1,a)||i.head<e.state.doc.length&&q0(e.state,i.head+1,-1,a));f&&(r=r.concat(a.renderMatch(f,e.state)))}return Ss.set(r,!0)},provide:t=>Xo.decorations.from(t)}),zAe=[VAe,NAe];function ZAe(t={}){return[P0e.of(t),zAe]}const M0e=new ha;function Xse(t,e,r){let a=t.prop(e<0?ha.openedBy:ha.closedBy);if(a)return a;if(t.name.length==1){let i=r.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[r[i+e]]}return null}function Gse(t){let e=t.type.prop(M0e);return e?e(t.node):t}function q0(t,e,r,a={}){let i=a.maxScanDistance||k0e,f=a.brackets||A0e,d=al(t),h=d.resolveInner(e,r);for(let c=h;c;c=c.parent){let g=Xse(c.type,r,f);if(g&&c.from<c.to){let v=Gse(c);if(v&&(r>0?e>=v.from&&e<v.to:e>v.from&&e<=v.to))return HAe(t,e,r,c,v,g,f)}}return UAe(t,e,r,d,h.type,i,f)}function HAe(t,e,r,a,i,f,d){let h=a.parent,c={from:i.from,to:i.to},g=0,v=h==null?void 0:h.cursor();if(v&&(r<0?v.childBefore(a.from):v.childAfter(a.to)))do if(r<0?v.to<=a.from:v.from>=a.to){if(g==0&&f.indexOf(v.type.name)>-1&&v.from<v.to){let y=Gse(v);return{start:c,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}else if(Xse(v.type,r,d))g++;else if(Xse(v.type,-r,d)){if(g==0){let y=Gse(v);return{start:c,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}g--}}while(r<0?v.prevSibling():v.nextSibling());return{start:c,matched:!1}}function UAe(t,e,r,a,i,f,d){let h=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),c=d.indexOf(h);if(c<0||c%2==0!=r>0)return null;let g={from:r<0?e-1:e,to:r>0?e+1:e},v=t.doc.iterRange(e,r>0?t.doc.length:0),y=0;for(let b=0;!v.next().done&&b<=f;){let O=v.value;r<0&&(b+=O.length);let T=e+b*r;for(let k=r>0?0:O.length-1,w=r>0?O.length:-1;k!=w;k+=r){let C=d.indexOf(O[k]);if(!(C<0||a.resolveInner(T+k,1).type!=i))if(C%2==0==r>0)y++;else{if(y==1)return{start:g,end:{from:T+k,to:T+k+1},matched:C>>1==c>>1};y--}}r>0&&(b+=O.length)}return v.done?{start:g,matched:!1}:null}const WAe=Object.create(null),hhe=[Zu.none],mhe=[],ghe=Object.create(null),YAe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])YAe[t]=XAe(WAe,e);function aoe(t,e){mhe.indexOf(t)>-1||(mhe.push(t),console.warn(e))}function XAe(t,e){let r=[];for(let h of e.split(" ")){let c=[];for(let g of h.split(".")){let v=t[g]||Qt[g];v?typeof v=="function"?c.length?c=c.map(v):aoe(g,`Modifier ${g} used at start of tag`):c.length?aoe(g,`Tag ${g} used as modifier`):c=Array.isArray(v)?v:[v]:aoe(g,`Unknown highlighting tag ${g}`)}for(let g of c)r.push(g)}if(!r.length)return 0;let a=e.replace(/ /g,"_"),i=a+" "+r.map(h=>h.id),f=ghe[i];if(f)return f.id;let d=ghe[i]=Zu.define({id:hhe.length,name:a,props:[QS({[a]:r})]});return hhe.push(d),d.id}const GAe=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),a=zie(t.state,r.from);return a.line?jAe(t):a.block?KAe(t):!1};function Vie(t,e){return({state:r,dispatch:a})=>{if(r.readOnly)return!1;let i=t(e,r);return i?(a(r.update(i)),!0):!1}}const jAe=Vie(tPe,0),qAe=Vie(E0e,0),KAe=Vie((t,e)=>E0e(t,e,ePe(e)),0);function zie(t,e){let r=t.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const PR=50;function JAe(t,{open:e,close:r},a,i){let f=t.sliceDoc(a-PR,a),d=t.sliceDoc(i,i+PR),h=/\s*$/.exec(f)[0].length,c=/^\s*/.exec(d)[0].length,g=f.length-h;if(f.slice(g-e.length,g)==e&&d.slice(c,c+r.length)==r)return{open:{pos:a-h,margin:h&&1},close:{pos:i+c,margin:c&&1}};let v,y;i-a<=2*PR?v=y=t.sliceDoc(a,i):(v=t.sliceDoc(a,a+PR),y=t.sliceDoc(i-PR,i));let b=/^\s*/.exec(v)[0].length,O=/\s*$/.exec(y)[0].length,T=y.length-O-r.length;return v.slice(b,b+e.length)==e&&y.slice(T,T+r.length)==r?{open:{pos:a+b+e.length,margin:/\s/.test(v.charAt(b+e.length))?1:0},close:{pos:i-O-r.length,margin:/\s/.test(y.charAt(T-1))?1:0}}:null}function ePe(t){let e=[];for(let r of t.selection.ranges){let a=t.doc.lineAt(r.from),i=r.to<=a.to?a:t.doc.lineAt(r.to),f=e.length-1;f>=0&&e[f].to>a.from?e[f].to=i.to:e.push({from:a.from+/^\s*/.exec(a.text)[0].length,to:i.to})}return e}function E0e(t,e,r=e.selection.ranges){let a=r.map(f=>zie(e,f.from).block);if(!a.every(f=>f))return null;let i=r.map((f,d)=>JAe(e,a[d],f.from,f.to));if(t!=2&&!i.every(f=>f))return{changes:e.changes(r.map((f,d)=>i[d]?[]:[{from:f.from,insert:a[d].open+" "},{from:f.to,insert:" "+a[d].close}]))};if(t!=1&&i.some(f=>f)){let f=[];for(let d=0,h;d<i.length;d++)if(h=i[d]){let c=a[d],{open:g,close:v}=h;f.push({from:g.pos-c.open.length,to:g.pos+g.margin},{from:v.pos-v.margin,to:v.pos+c.close.length})}return{changes:f}}return null}function tPe(t,e,r=e.selection.ranges){let a=[],i=-1;for(let{from:f,to:d}of r){let h=a.length,c=1e9,g=zie(e,f).line;if(g){for(let v=f;v<=d;){let y=e.doc.lineAt(v);if(y.from>i&&(f==d||d>y.from)){i=y.from;let b=/^\s*/.exec(y.text)[0].length,O=b==y.length,T=y.text.slice(b,b+g.length)==g?b:-1;b<y.text.length&&b<c&&(c=b),a.push({line:y,comment:T,token:g,indent:b,empty:O,single:!1})}v=y.to+1}if(c<1e9)for(let v=h;v<a.length;v++)a[v].indent<a[v].line.text.length&&(a[v].indent=c);a.length==h+1&&(a[h].single=!0)}}if(t!=2&&a.some(f=>f.comment<0&&(!f.empty||f.single))){let f=[];for(let{line:h,token:c,indent:g,empty:v,single:y}of a)(y||!v)&&f.push({from:h.from+g,insert:c+" "});let d=e.changes(f);return{changes:d,selection:e.selection.map(d,1)}}else if(t!=1&&a.some(f=>f.comment>=0)){let f=[];for(let{line:d,comment:h,token:c}of a)if(h>=0){let g=d.from+h,v=g+c.length;d.text[v-d.from]==" "&&v++,f.push({from:g,to:v})}return{changes:f}}return null}const jse=_O.define(),nPe=_O.define(),rPe=ss.define(),_0e=ss.define({combine(t){return ly(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(a,i)=>e(a,i)||r(a,i)})}}),R0e=Hu.define({create(){return K0.empty},update(t,e){let r=e.state.facet(_0e),a=e.annotation(jse);if(a){let c=fm.fromTransaction(e,a.selection),g=a.side,v=g==0?t.undone:t.done;return c?v=_H(v,v.length,r.minDepth,c):v=L0e(v,e.startState.selection),new K0(g==0?a.rest:v,g==0?v:a.rest)}let i=e.annotation(nPe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Vu.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let f=fm.fromTransaction(e),d=e.annotation(Vu.time),h=e.annotation(Vu.userEvent);return f?t=t.addChanges(f,d,h,r,e):e.selection&&(t=t.addSelection(e.startState.selection,d,h,r.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new K0(t.done.map(fm.fromJSON),t.undone.map(fm.fromJSON))}});function oPe(t={}){return[R0e,_0e.of(t),Xo.domEventHandlers({beforeinput(e,r){let a=e.inputType=="historyUndo"?D0e:e.inputType=="historyRedo"?qse:null;return a?(e.preventDefault(),a(r)):!1}})]}function NU(t,e){return function({state:r,dispatch:a}){if(!e&&r.readOnly)return!1;let i=r.field(R0e,!1);if(!i)return!1;let f=i.pop(t,r,e);return f?(a(f),!0):!1}}const D0e=NU(0,!1),qse=NU(1,!1),sPe=NU(0,!0),aPe=NU(1,!0);class fm{constructor(e,r,a,i,f){this.changes=e,this.effects=r,this.mapped=a,this.startSelection=i,this.selectionsAfter=f}setSelAfter(e){return new fm(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,a;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(a=this.startSelection)===null||a===void 0?void 0:a.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new fm(e.changes&&Fu.fromJSON(e.changes),[],e.mapped&&ny.fromJSON(e.mapped),e.startSelection&&xr.fromJSON(e.startSelection),e.selectionsAfter.map(xr.fromJSON))}static fromTransaction(e,r){let a=Ep;for(let i of e.startState.facet(rPe)){let f=i(e);f.length&&(a=a.concat(f))}return!a.length&&e.changes.empty?null:new fm(e.changes.invert(e.startState.doc),a,void 0,r||e.startState.selection,Ep)}static selection(e){return new fm(void 0,Ep,void 0,void 0,e)}}function _H(t,e,r,a){let i=e+1>r+20?e-r-1:0,f=t.slice(i,e);return f.push(a),f}function iPe(t,e){let r=[],a=!1;return t.iterChangedRanges((i,f)=>r.push(i,f)),e.iterChangedRanges((i,f,d,h)=>{for(let c=0;c<r.length;){let g=r[c++],v=r[c++];h>=g&&d<=v&&(a=!0)}}),a}function lPe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,a)=>r.empty!=e.ranges[a].empty).length===0}function $0e(t,e){return t.length?e.length?t.concat(e):t:e}const Ep=[],cPe=200;function L0e(t,e){if(t.length){let r=t[t.length-1],a=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-cPe));return a.length&&a[a.length-1].eq(e)?t:(a.push(e),_H(t,t.length-1,1e9,r.setSelAfter(a)))}else return[fm.selection([e])]}function uPe(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function ioe(t,e){if(!t.length)return t;let r=t.length,a=Ep;for(;r;){let i=fPe(t[r-1],e,a);if(i.changes&&!i.changes.empty||i.effects.length){let f=t.slice(0,r);return f[r-1]=i,f}else e=i.mapped,r--,a=i.selectionsAfter}return a.length?[fm.selection(a)]:Ep}function fPe(t,e,r){let a=$0e(t.selectionsAfter.length?t.selectionsAfter.map(h=>h.map(e)):Ep,r);if(!t.changes)return fm.selection(a);let i=t.changes.map(e),f=e.mapDesc(t.changes,!0),d=t.mapped?t.mapped.composeDesc(f):f;return new fm(i,da.mapEffects(t.effects,e),d,t.startSelection.map(f),a)}const dPe=/^(input\.type|delete)($|\.)/;class K0{constructor(e,r,a=0,i=void 0){this.done=e,this.undone=r,this.prevTime=a,this.prevUserEvent=i}isolate(){return this.prevTime?new K0(this.done,this.undone):this}addChanges(e,r,a,i,f){let d=this.done,h=d[d.length-1];return h&&h.changes&&!h.changes.empty&&e.changes&&(!a||dPe.test(a))&&(!h.selectionsAfter.length&&r-this.prevTime<i.newGroupDelay&&i.joinToEvent(f,iPe(h.changes,e.changes))||a=="input.type.compose")?d=_H(d,d.length-1,i.minDepth,new fm(e.changes.compose(h.changes),$0e(e.effects,h.effects),h.mapped,h.startSelection,Ep)):d=_H(d,d.length,i.minDepth,e),new K0(d,Ep,r,a)}addSelection(e,r,a,i){let f=this.done.length?this.done[this.done.length-1].selectionsAfter:Ep;return f.length>0&&r-this.prevTime<i&&a==this.prevUserEvent&&a&&/^select($|\.)/.test(a)&&lPe(f[f.length-1],e)?this:new K0(L0e(this.done,e),this.undone,r,a)}addMapping(e){return new K0(ioe(this.done,e),ioe(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,a){let i=e==0?this.done:this.undone;if(i.length==0)return null;let f=i[i.length-1],d=f.selectionsAfter[0]||r.selection;if(a&&f.selectionsAfter.length)return r.update({selection:f.selectionsAfter[f.selectionsAfter.length-1],annotations:jse.of({side:e,rest:uPe(i),selection:d}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(f.changes){let h=i.length==1?Ep:i.slice(0,i.length-1);return f.mapped&&(h=ioe(h,f.mapped)),r.update({changes:f.changes,selection:f.startSelection,effects:f.effects,annotations:jse.of({side:e,rest:h,selection:d}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}K0.empty=new K0(Ep,Ep);const hPe=[{key:"Mod-z",run:D0e,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:qse,preventDefault:!0},{linux:"Ctrl-Shift-z",run:qse,preventDefault:!0},{key:"Mod-u",run:sPe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:aPe,preventDefault:!0}];function D8(t,e){return xr.create(t.ranges.map(e),t.mainIndex)}function cy(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function qv({state:t,dispatch:e},r){let a=D8(t.selection,r);return a.eq(t.selection)?!1:(e(cy(t,a)),!0)}function BU(t,e){return xr.cursor(e?t.to:t.from)}function I0e(t,e){return qv(t,r=>r.empty?t.moveByChar(r,e):BU(r,e))}function Ld(t){return t.textDirectionAt(t.state.selection.main.head)==xc.LTR}const N0e=t=>I0e(t,!Ld(t)),B0e=t=>I0e(t,Ld(t));function Q0e(t,e){return qv(t,r=>r.empty?t.moveByGroup(r,e):BU(r,e))}const mPe=t=>Q0e(t,!Ld(t)),gPe=t=>Q0e(t,Ld(t));function pPe(t,e,r){if(e.type.prop(r))return!0;let a=e.to-e.from;return a&&(a>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function QU(t,e,r){let a=al(t).resolveInner(e.head),i=r?ha.closedBy:ha.openedBy;for(let c=e.head;;){let g=r?a.childAfter(c):a.childBefore(c);if(!g)break;pPe(t,g,i)?a=g:c=r?g.to:g.from}let f=a.type.prop(i),d,h;return f&&(d=r?q0(t,a.from,1):q0(t,a.to,-1))&&d.matched?h=r?d.end.to:d.end.from:h=r?a.to:a.from,xr.cursor(h,r?-1:1)}const vPe=t=>qv(t,e=>QU(t.state,e,!Ld(t))),yPe=t=>qv(t,e=>QU(t.state,e,Ld(t)));function F0e(t,e){return qv(t,r=>{if(!r.empty)return BU(r,e);let a=t.moveVertically(r,e);return a.head!=r.head?a:t.moveToLineBoundary(r,e)})}const V0e=t=>F0e(t,!1),z0e=t=>F0e(t,!0);function Z0e(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,a=0,i;if(e){for(let f of t.state.facet(Xo.scrollMargins)){let d=f(t);d!=null&&d.top&&(r=Math.max(d==null?void 0:d.top,r)),d!=null&&d.bottom&&(a=Math.max(d==null?void 0:d.bottom,a))}i=t.scrollDOM.clientHeight-r-a}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:a,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function H0e(t,e){let r=Z0e(t),{state:a}=t,i=D8(a.selection,d=>d.empty?t.moveVertically(d,e,r.height):BU(d,e));if(i.eq(a.selection))return!1;let f;if(r.selfScroll){let d=t.coordsAtPos(a.selection.main.head),h=t.scrollDOM.getBoundingClientRect(),c=h.top+r.marginTop,g=h.bottom-r.marginBottom;d&&d.top>c&&d.bottom<g&&(f=Xo.scrollIntoView(i.main.head,{y:"start",yMargin:d.top-c}))}return t.dispatch(cy(a,i),{effects:f}),!0}const phe=t=>H0e(t,!1),Kse=t=>H0e(t,!0);function VS(t,e,r){let a=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?a.to:a.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==a.from&&a.length){let f=/^\s*/.exec(t.state.sliceDoc(a.from,Math.min(a.from+100,a.to)))[0].length;f&&e.head!=a.from+f&&(i=xr.cursor(a.from+f))}return i}const bPe=t=>qv(t,e=>VS(t,e,!0)),OPe=t=>qv(t,e=>VS(t,e,!1)),xPe=t=>qv(t,e=>VS(t,e,!Ld(t))),SPe=t=>qv(t,e=>VS(t,e,Ld(t))),wPe=t=>qv(t,e=>xr.cursor(t.lineBlockAt(e.head).from,1)),CPe=t=>qv(t,e=>xr.cursor(t.lineBlockAt(e.head).to,-1));function TPe(t,e,r){let a=!1,i=D8(t.selection,f=>{let d=q0(t,f.head,-1)||q0(t,f.head,1)||f.head>0&&q0(t,f.head-1,1)||f.head<t.doc.length&&q0(t,f.head+1,-1);if(!d||!d.end)return f;a=!0;let h=d.start.from==f.head?d.end.to:d.end.from;return r?xr.range(f.anchor,h):xr.cursor(h)});return a?(e(cy(t,i)),!0):!1}const kPe=({state:t,dispatch:e})=>TPe(t,e,!1);function Fp(t,e){let r=D8(t.state.selection,a=>{let i=e(a);return xr.range(a.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(cy(t.state,r)),!0)}function U0e(t,e){return Fp(t,r=>t.moveByChar(r,e))}const W0e=t=>U0e(t,!Ld(t)),Y0e=t=>U0e(t,Ld(t));function X0e(t,e){return Fp(t,r=>t.moveByGroup(r,e))}const APe=t=>X0e(t,!Ld(t)),PPe=t=>X0e(t,Ld(t)),MPe=t=>Fp(t,e=>QU(t.state,e,!Ld(t))),EPe=t=>Fp(t,e=>QU(t.state,e,Ld(t)));function G0e(t,e){return Fp(t,r=>t.moveVertically(r,e))}const j0e=t=>G0e(t,!1),q0e=t=>G0e(t,!0);function K0e(t,e){return Fp(t,r=>t.moveVertically(r,e,Z0e(t).height))}const vhe=t=>K0e(t,!1),yhe=t=>K0e(t,!0),_Pe=t=>Fp(t,e=>VS(t,e,!0)),RPe=t=>Fp(t,e=>VS(t,e,!1)),DPe=t=>Fp(t,e=>VS(t,e,!Ld(t))),$Pe=t=>Fp(t,e=>VS(t,e,Ld(t))),LPe=t=>Fp(t,e=>xr.cursor(t.lineBlockAt(e.head).from)),IPe=t=>Fp(t,e=>xr.cursor(t.lineBlockAt(e.head).to)),bhe=({state:t,dispatch:e})=>(e(cy(t,{anchor:0})),!0),Ohe=({state:t,dispatch:e})=>(e(cy(t,{anchor:t.doc.length})),!0),xhe=({state:t,dispatch:e})=>(e(cy(t,{anchor:t.selection.main.anchor,head:0})),!0),She=({state:t,dispatch:e})=>(e(cy(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),NPe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),BPe=({state:t,dispatch:e})=>{let r=FU(t).map(({from:a,to:i})=>xr.range(a,Math.min(i+1,t.doc.length)));return e(t.update({selection:xr.create(r),userEvent:"select"})),!0},QPe=({state:t,dispatch:e})=>{let r=D8(t.selection,a=>{var i;let f=al(t).resolveStack(a.from,1);for(let d=f;d;d=d.next){let{node:h}=d;if((h.from<a.from&&h.to>=a.to||h.to>a.to&&h.from<=a.from)&&(!((i=h.parent)===null||i===void 0)&&i.parent))return xr.range(h.to,h.from)}return a});return e(cy(t,r)),!0},FPe=({state:t,dispatch:e})=>{let r=t.selection,a=null;return r.ranges.length>1?a=xr.create([r.main]):r.main.empty||(a=xr.create([xr.cursor(r.main.head)])),a?(e(cy(t,a)),!0):!1};function t$(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:a}=t,i=a.changeByRange(f=>{let{from:d,to:h}=f;if(d==h){let c=e(f);c<d?(r="delete.backward",c=wZ(t,c,!1)):c>d&&(r="delete.forward",c=wZ(t,c,!0)),d=Math.min(d,c),h=Math.max(h,c)}else d=wZ(t,d,!1),h=wZ(t,h,!0);return d==h?{range:f}:{changes:{from:d,to:h},range:xr.cursor(d,d<f.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(a.update(i,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?Xo.announce.of(a.phrase("Selection deleted")):void 0})),!0)}function wZ(t,e,r){if(t instanceof Xo)for(let a of t.state.facet(Xo.atomicRanges).map(i=>i(t)))a.between(e,e,(i,f)=>{i<e&&f>e&&(e=r?f:i)});return e}const J0e=(t,e)=>t$(t,r=>{let a=r.from,{state:i}=t,f=i.doc.lineAt(a),d,h;if(!e&&a>f.from&&a<f.from+200&&!/[^ \t]/.test(d=f.text.slice(0,a-f.from))){if(d[d.length-1]=="	")return a-1;let c=Wv(d,i.tabSize),g=c%PH(i)||PH(i);for(let v=0;v<g&&d[d.length-1-v]==" ";v++)a--;h=a}else h=Jf(f.text,a-f.from,e,e)+f.from,h==a&&f.number!=(e?i.doc.lines:1)?h+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(f.text.slice(h-f.from,a-f.from))&&(h=Jf(f.text,h-f.from,!1,!1)+f.from);return h}),Jse=t=>J0e(t,!1),eye=t=>J0e(t,!0),tye=(t,e)=>t$(t,r=>{let a=r.head,{state:i}=t,f=i.doc.lineAt(a),d=i.charCategorizer(a);for(let h=null;;){if(a==(e?f.to:f.from)){a==r.head&&f.number!=(e?i.doc.lines:1)&&(a+=e?1:-1);break}let c=Jf(f.text,a-f.from,e)+f.from,g=f.text.slice(Math.min(a,c)-f.from,Math.max(a,c)-f.from),v=d(g);if(h!=null&&v!=h)break;(g!=" "||a!=r.head)&&(h=v),a=c}return a}),nye=t=>tye(t,!1),VPe=t=>tye(t,!0),zPe=t=>t$(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),ZPe=t=>t$(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),HPe=t=>t$(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),UPe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:Si.of(["",""])},range:xr.cursor(a.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},WPe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(a=>{if(!a.empty||a.from==0||a.from==t.doc.length)return{range:a};let i=a.from,f=t.doc.lineAt(i),d=i==f.from?i-1:Jf(f.text,i-f.from,!1)+f.from,h=i==f.to?i+1:Jf(f.text,i-f.from,!0)+f.from;return{changes:{from:d,to:h,insert:t.doc.slice(i,h).append(t.doc.slice(d,i))},range:xr.cursor(h)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function FU(t){let e=[],r=-1;for(let a of t.selection.ranges){let i=t.doc.lineAt(a.from),f=t.doc.lineAt(a.to);if(!a.empty&&a.to==f.from&&(f=t.doc.lineAt(a.to-1)),r>=i.number){let d=e[e.length-1];d.to=f.to,d.ranges.push(a)}else e.push({from:i.from,to:f.to,ranges:[a]});r=f.number+1}return e}function rye(t,e,r){if(t.readOnly)return!1;let a=[],i=[];for(let f of FU(t)){if(r?f.to==t.doc.length:f.from==0)continue;let d=t.doc.lineAt(r?f.to+1:f.from-1),h=d.length+1;if(r){a.push({from:f.to,to:d.to},{from:f.from,insert:d.text+t.lineBreak});for(let c of f.ranges)i.push(xr.range(Math.min(t.doc.length,c.anchor+h),Math.min(t.doc.length,c.head+h)))}else{a.push({from:d.from,to:f.from},{from:f.to,insert:t.lineBreak+d.text});for(let c of f.ranges)i.push(xr.range(c.anchor-h,c.head-h))}}return a.length?(e(t.update({changes:a,scrollIntoView:!0,selection:xr.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const YPe=({state:t,dispatch:e})=>rye(t,e,!1),XPe=({state:t,dispatch:e})=>rye(t,e,!0);function oye(t,e,r){if(t.readOnly)return!1;let a=[];for(let i of FU(t))r?a.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):a.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:a,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const GPe=({state:t,dispatch:e})=>oye(t,e,!1),jPe=({state:t,dispatch:e})=>oye(t,e,!0),qPe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(FU(e).map(({from:i,to:f})=>(i>0?i--:f<e.doc.length&&f++,{from:i,to:f}))),a=D8(e.selection,i=>t.moveVertically(i,!0)).map(r);return t.dispatch({changes:r,selection:a,scrollIntoView:!0,userEvent:"delete.line"}),!0};function KPe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=al(t).resolveInner(e),a=r.childBefore(e),i=r.childAfter(e),f;return a&&i&&a.to<=e&&i.from>=e&&(f=a.type.prop(ha.closedBy))&&f.indexOf(i.name)>-1&&t.doc.lineAt(a.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(a.to,i.from))?{from:a.to,to:i.from}:null}const JPe=sye(!1),e8e=sye(!0);function sye(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let a=e.changeByRange(i=>{let{from:f,to:d}=i,h=e.doc.lineAt(f),c=!t&&f==d&&KPe(e,f);t&&(f=d=(d<=h.to?h:e.doc.lineAt(d)).to);let g=new LU(e,{simulateBreak:f,simulateDoubleBreak:!!c}),v=Nie(g,f);for(v==null&&(v=Wv(/^\s*/.exec(e.doc.lineAt(f).text)[0],e.tabSize));d<h.to&&/\s/.test(h.text[d-h.from]);)d++;c?{from:f,to:d}=c:f>h.from&&f<h.from+100&&!/\S/.test(h.text.slice(0,f))&&(f=h.from);let y=["",AD(e,v)];return c&&y.push(AD(e,g.lineIndent(h.from,-1))),{changes:{from:f,to:d,insert:Si.of(y)},range:xr.cursor(f+1+y[1].length)}});return r(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0}}function Zie(t,e){let r=-1;return t.changeByRange(a=>{let i=[];for(let d=a.from;d<=a.to;){let h=t.doc.lineAt(d);h.number>r&&(a.empty||a.to>h.from)&&(e(h,i,a),r=h.number),d=h.to+1}let f=t.changes(i);return{changes:i,range:xr.range(f.mapPos(a.anchor,1),f.mapPos(a.head,1))}})}const t8e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),a=new LU(t,{overrideIndentation:f=>{let d=r[f];return d??-1}}),i=Zie(t,(f,d,h)=>{let c=Nie(a,f.from);if(c==null)return;/\S/.test(f.text)||(c=0);let g=/^\s*/.exec(f.text)[0],v=AD(t,c);(g!=v||h.from<f.from+g.length)&&(r[f.from]=c,d.push({from:f.from,to:f.from+g.length,insert:v}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},aye=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Zie(t,(r,a)=>{a.push({from:r.from,insert:t.facet(XT)})}),{userEvent:"input.indent"})),!0),iye=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Zie(t,(r,a)=>{let i=/^\s*/.exec(r.text)[0];if(!i)return;let f=Wv(i,t.tabSize),d=0,h=AD(t,Math.max(0,f-PH(t)));for(;d<i.length&&d<h.length&&i.charCodeAt(d)==h.charCodeAt(d);)d++;a.push({from:r.from+d,to:r.from+i.length,insert:h.slice(d)})}),{userEvent:"delete.dedent"})),!0),n8e=[{key:"Ctrl-b",run:N0e,shift:W0e,preventDefault:!0},{key:"Ctrl-f",run:B0e,shift:Y0e},{key:"Ctrl-p",run:V0e,shift:j0e},{key:"Ctrl-n",run:z0e,shift:q0e},{key:"Ctrl-a",run:wPe,shift:LPe},{key:"Ctrl-e",run:CPe,shift:IPe},{key:"Ctrl-d",run:eye},{key:"Ctrl-h",run:Jse},{key:"Ctrl-k",run:zPe},{key:"Ctrl-Alt-h",run:nye},{key:"Ctrl-o",run:UPe},{key:"Ctrl-t",run:WPe},{key:"Ctrl-v",run:Kse}],r8e=[{key:"ArrowLeft",run:N0e,shift:W0e,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:mPe,shift:APe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:xPe,shift:DPe,preventDefault:!0},{key:"ArrowRight",run:B0e,shift:Y0e,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:gPe,shift:PPe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:SPe,shift:$Pe,preventDefault:!0},{key:"ArrowUp",run:V0e,shift:j0e,preventDefault:!0},{mac:"Cmd-ArrowUp",run:bhe,shift:xhe},{mac:"Ctrl-ArrowUp",run:phe,shift:vhe},{key:"ArrowDown",run:z0e,shift:q0e,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ohe,shift:She},{mac:"Ctrl-ArrowDown",run:Kse,shift:yhe},{key:"PageUp",run:phe,shift:vhe},{key:"PageDown",run:Kse,shift:yhe},{key:"Home",run:OPe,shift:RPe,preventDefault:!0},{key:"Mod-Home",run:bhe,shift:xhe},{key:"End",run:bPe,shift:_Pe,preventDefault:!0},{key:"Mod-End",run:Ohe,shift:She},{key:"Enter",run:JPe},{key:"Mod-a",run:NPe},{key:"Backspace",run:Jse,shift:Jse},{key:"Delete",run:eye},{key:"Mod-Backspace",mac:"Alt-Backspace",run:nye},{key:"Mod-Delete",mac:"Alt-Delete",run:VPe},{mac:"Mod-Backspace",run:ZPe},{mac:"Mod-Delete",run:HPe}].concat(n8e.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),o8e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:vPe,shift:MPe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:yPe,shift:EPe},{key:"Alt-ArrowUp",run:YPe},{key:"Shift-Alt-ArrowUp",run:GPe},{key:"Alt-ArrowDown",run:XPe},{key:"Shift-Alt-ArrowDown",run:jPe},{key:"Escape",run:FPe},{key:"Mod-Enter",run:e8e},{key:"Alt-l",mac:"Ctrl-l",run:BPe},{key:"Mod-i",run:QPe,preventDefault:!0},{key:"Mod-[",run:iye},{key:"Mod-]",run:aye},{key:"Mod-Alt-\\",run:t8e},{key:"Shift-Mod-k",run:qPe},{key:"Shift-Mod-\\",run:kPe},{key:"Mod-/",run:GAe},{key:"Alt-A",run:qAe}].concat(r8e),s8e={key:"Tab",run:aye,shift:iye};function Ml(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var i=r[a];typeof i=="string"?t.setAttribute(a,i):i!=null&&(t[a]=i)}e++}for(;e<arguments.length;e++)lye(t,arguments[e]);return t}function lye(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)lye(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}const whe=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class y8{constructor(e,r,a=0,i=e.length,f,d){this.test=d,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(a,i),this.bufferStart=a,this.normalize=f?h=>f(whe(h)):whe,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Xf(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=bie(e),a=this.bufferStart+this.bufferPos;this.bufferPos+=Ap(e);let i=this.normalize(r);for(let f=0,d=a;;f++){let h=i.charCodeAt(f),c=this.match(h,d);if(f==i.length-1){if(c)return this.value=c,this;break}d==a&&f<r.length&&r.charCodeAt(f)==h&&d++}}}match(e,r){let a=null;for(let i=0;i<this.matches.length;i+=2){let f=this.matches[i],d=!1;this.query.charCodeAt(f)==e&&(f==this.query.length-1?a={from:this.matches[i+1],to:r+1}:(this.matches[i]++,d=!0)),d||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:r,to:r+1}:this.matches.push(1,r)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(y8.prototype[Symbol.iterator]=function(){return this});const cye={from:-1,to:-1,match:/.*/.exec("")},Hie="gm"+(/x/.unicode==null?"":"u");class uye{constructor(e,r,a,i=0,f=e.length){if(this.text=e,this.to=f,this.curLine="",this.done=!1,this.value=cye,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new fye(e,r,a,i,f);this.re=new RegExp(r,Hie+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.iter=e.iter();let d=e.lineAt(i);this.curLineStart=d.from,this.matchPos=RH(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let a=this.curLineStart+r.index,i=a+r[0].length;if(this.matchPos=RH(this.text,i+(a==i?1:0)),a==this.curLineStart+this.curLine.length&&this.nextLine(),(a<i||a>this.value.to)&&(!this.test||this.test(a,i,r)))return this.value={from:a,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const loe=new WeakMap;class s8{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,a){let i=loe.get(e);if(!i||i.from>=a||i.to<=r){let h=new s8(r,e.sliceString(r,a));return loe.set(e,h),h}if(i.from==r&&i.to==a)return i;let{text:f,from:d}=i;return d>r&&(f=e.sliceString(r,d)+f,d=r),i.to<a&&(f+=e.sliceString(i.to,a)),loe.set(e,new s8(d,f)),new s8(r,f.slice(r-d,a-d))}}class fye{constructor(e,r,a,i,f){this.text=e,this.to=f,this.done=!1,this.value=cye,this.matchPos=RH(e,i),this.re=new RegExp(r,Hie+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.flat=s8.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let a=this.flat.from+r.index,i=a+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(a,i,r)))return this.value={from:a,to:i,match:r},this.matchPos=RH(this.text,i+(a==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=s8.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(uye.prototype[Symbol.iterator]=fye.prototype[Symbol.iterator]=function(){return this});function a8e(t){try{return new RegExp(t,Hie),!0}catch{return!1}}function RH(t,e){if(e>=t.length)return e;let r=t.lineAt(e),a;for(;e<r.to&&(a=r.text.charCodeAt(e-r.from))>=56320&&a<57344;)e++;return e}function eae(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=Ml("input",{class:"cm-textfield",name:"line",value:e}),a=Ml("form",{class:"cm-gotoLine",onkeydown:f=>{f.keyCode==27?(f.preventDefault(),t.dispatch({effects:DH.of(!1)}),t.focus()):f.keyCode==13&&(f.preventDefault(),i())},onsubmit:f=>{f.preventDefault(),i()}},Ml("label",t.state.phrase("Go to line"),": ",r)," ",Ml("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let f=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!f)return;let{state:d}=t,h=d.doc.lineAt(d.selection.main.head),[,c,g,v,y]=f,b=v?+v.slice(1):0,O=g?+g:h.number;if(g&&y){let w=O/100;c&&(w=w*(c=="-"?-1:1)+h.number/d.doc.lines),O=Math.round(d.doc.lines*w)}else g&&c&&(O=O*(c=="-"?-1:1)+h.number);let T=d.doc.line(Math.max(1,Math.min(d.doc.lines,O))),k=xr.cursor(T.from+Math.max(0,Math.min(b,T.length)));t.dispatch({effects:[DH.of(!1),Xo.scrollIntoView(k.from,{y:"center"})],selection:k}),t.focus()}return{dom:a}}const DH=da.define(),Che=Hu.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(DH)&&(t=r.value);return t},provide:t=>wD.from(t,e=>e?eae:null)}),i8e=t=>{let e=SD(t,eae);if(!e){let r=[DH.of(!0)];t.state.field(Che,!1)==null&&r.push(da.appendConfig.of([Che,l8e])),t.dispatch({effects:r}),e=SD(t,eae)}return e&&e.dom.querySelector("input").select(),!0},l8e=Xo.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),c8e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},dye=ss.define({combine(t){return ly(t,c8e,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function u8e(t){let e=[g8e,m8e];return t&&e.push(dye.of(t)),e}const f8e=Ss.mark({class:"cm-selectionMatch"}),d8e=Ss.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function The(t,e,r,a){return(r==0||t(e.sliceDoc(r-1,r))!=ac.Word)&&(a==e.doc.length||t(e.sliceDoc(a,a+1))!=ac.Word)}function h8e(t,e,r,a){return t(e.sliceDoc(r,r+1))==ac.Word&&t(e.sliceDoc(a-1,a))==ac.Word}const m8e=Sc.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(dye),{state:r}=t,a=r.selection;if(a.ranges.length>1)return Ss.none;let i=a.main,f,d=null;if(i.empty){if(!e.highlightWordAroundCursor)return Ss.none;let c=r.wordAt(i.head);if(!c)return Ss.none;d=r.charCategorizer(i.head),f=r.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<e.minSelectionLength||c>200)return Ss.none;if(e.wholeWords){if(f=r.sliceDoc(i.from,i.to),d=r.charCategorizer(i.head),!(The(d,r,i.from,i.to)&&h8e(d,r,i.from,i.to)))return Ss.none}else if(f=r.sliceDoc(i.from,i.to).trim(),!f)return Ss.none}let h=[];for(let c of t.visibleRanges){let g=new y8(r.doc,f,c.from,c.to);for(;!g.next().done;){let{from:v,to:y}=g.value;if((!d||The(d,r,v,y))&&(i.empty&&v<=i.from&&y>=i.to?h.push(d8e.range(v,y)):(v>=i.to||y<=i.from)&&h.push(f8e.range(v,y)),h.length>e.maxMatches))return Ss.none}}return Ss.set(h)}},{decorations:t=>t.decorations}),g8e=Xo.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),p8e=({state:t,dispatch:e})=>{let{selection:r}=t,a=xr.create(r.ranges.map(i=>t.wordAt(i.head)||xr.cursor(i.head)),r.mainIndex);return a.eq(r)?!1:(e(t.update({selection:a})),!0)};function v8e(t,e){let{main:r,ranges:a}=t.selection,i=t.wordAt(r.head),f=i&&i.from==r.from&&i.to==r.to;for(let d=!1,h=new y8(t.doc,e,a[a.length-1].to);;)if(h.next(),h.done){if(d)return null;h=new y8(t.doc,e,0,Math.max(0,a[a.length-1].from-1)),d=!0}else{if(d&&a.some(c=>c.from==h.value.from))continue;if(f){let c=t.wordAt(h.value.from);if(!c||c.from!=h.value.from||c.to!=h.value.to)continue}return h.value}}const y8e=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(f=>f.from===f.to))return p8e({state:t,dispatch:e});let a=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(f=>t.sliceDoc(f.from,f.to)!=a))return!1;let i=v8e(t,a);return i?(e(t.update({selection:t.selection.addRange(xr.range(i.from,i.to),!1),effects:Xo.scrollIntoView(i.to)})),!0):!1},$8=ss.define({combine(t){return ly(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new E8e(e),scrollToMatch:e=>Xo.scrollIntoView(e)})}});class hye{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||a8e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,a)=>a=="n"?`
`:a=="r"?"\r":a=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new S8e(this):new O8e(this)}getCursor(e,r=0,a){let i=e.doc?e:Na.create({doc:e});return a==null&&(a=i.doc.length),this.regexp?WP(this,i,r,a):UP(this,i,r,a)}}class mye{constructor(e){this.spec=e}}function UP(t,e,r,a){return new y8(e.doc,t.unquoted,r,a,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?b8e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function b8e(t,e){return(r,a,i,f)=>((f>r||f+i.length<a)&&(f=Math.max(0,r-2),i=t.sliceString(f,Math.min(t.length,a+2))),(e($H(i,r-f))!=ac.Word||e(LH(i,r-f))!=ac.Word)&&(e(LH(i,a-f))!=ac.Word||e($H(i,a-f))!=ac.Word))}class O8e extends mye{constructor(e){super(e)}nextMatch(e,r,a){let i=UP(this.spec,e,a,e.doc.length).nextOverlapping();return i.done&&(i=UP(this.spec,e,0,r).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,r,a){for(let i=a;;){let f=Math.max(r,i-1e4-this.spec.unquoted.length),d=UP(this.spec,e,f,i),h=null;for(;!d.nextOverlapping().done;)h=d.value;if(h)return h;if(f==r)return null;i-=1e4}}prevMatch(e,r,a){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,a,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let a=UP(this.spec,e,0,e.doc.length),i=[];for(;!a.next().done;){if(i.length>=r)return null;i.push(a.value)}return i}highlight(e,r,a,i){let f=UP(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(a+this.spec.unquoted.length,e.doc.length));for(;!f.next().done;)i(f.value.from,f.value.to)}}function WP(t,e,r,a){return new uye(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?x8e(e.charCategorizer(e.selection.main.head)):void 0},r,a)}function $H(t,e){return t.slice(Jf(t,e,!1),e)}function LH(t,e){return t.slice(e,Jf(t,e))}function x8e(t){return(e,r,a)=>!a[0].length||(t($H(a.input,a.index))!=ac.Word||t(LH(a.input,a.index))!=ac.Word)&&(t(LH(a.input,a.index+a[0].length))!=ac.Word||t($H(a.input,a.index+a[0].length))!=ac.Word)}class S8e extends mye{nextMatch(e,r,a){let i=WP(this.spec,e,a,e.doc.length).next();return i.done&&(i=WP(this.spec,e,0,r).next()),i.done?null:i.value}prevMatchInRange(e,r,a){for(let i=1;;i++){let f=Math.max(r,a-i*1e4),d=WP(this.spec,e,f,a),h=null;for(;!d.next().done;)h=d.value;if(h&&(f==r||h.from>f+10))return h;if(f==r)return null}}prevMatch(e,r,a){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,a,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(r,a)=>a=="$"?"$":a=="&"?e.match[0]:a!="0"&&+a<e.match.length?e.match[a]:r)}matchAll(e,r){let a=WP(this.spec,e,0,e.doc.length),i=[];for(;!a.next().done;){if(i.length>=r)return null;i.push(a.value)}return i}highlight(e,r,a,i){let f=WP(this.spec,e,Math.max(0,r-250),Math.min(a+250,e.doc.length));for(;!f.next().done;)i(f.value.from,f.value.to)}}const PD=da.define(),Uie=da.define(),kS=Hu.define({create(t){return new coe(tae(t).create(),null)},update(t,e){for(let r of e.effects)r.is(PD)?t=new coe(r.value.create(),t.panel):r.is(Uie)&&(t=new coe(t.query,r.value?Wie:null));return t},provide:t=>wD.from(t,e=>e.panel)});class coe{constructor(e,r){this.query=e,this.panel=r}}const w8e=Ss.mark({class:"cm-searchMatch"}),C8e=Ss.mark({class:"cm-searchMatch cm-searchMatch-selected"}),T8e=Sc.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(kS))}update(t){let e=t.state.field(kS);(e!=t.startState.field(kS)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Ss.none;let{view:r}=this,a=new MS;for(let i=0,f=r.visibleRanges,d=f.length;i<d;i++){let{from:h,to:c}=f[i];for(;i<d-1&&c>f[i+1].from-2*250;)c=f[++i].to;t.highlight(r.state,h,c,(g,v)=>{let y=r.state.selection.ranges.some(b=>b.from==g&&b.to==v);a.add(g,v,y?C8e:w8e)})}return a.finish()}},{decorations:t=>t.decorations});function n$(t){return e=>{let r=e.state.field(kS,!1);return r&&r.query.spec.valid?t(e,r):vye(e)}}const IH=n$((t,{query:e})=>{let{to:r}=t.state.selection.main,a=e.nextMatch(t.state,r,r);if(!a)return!1;let i=xr.single(a.from,a.to),f=t.state.facet($8);return t.dispatch({selection:i,effects:[Yie(t,a),f.scrollToMatch(i.main,t)],userEvent:"select.search"}),pye(t),!0}),NH=n$((t,{query:e})=>{let{state:r}=t,{from:a}=r.selection.main,i=e.prevMatch(r,a,a);if(!i)return!1;let f=xr.single(i.from,i.to),d=t.state.facet($8);return t.dispatch({selection:f,effects:[Yie(t,i),d.scrollToMatch(f.main,t)],userEvent:"select.search"}),pye(t),!0}),k8e=n$((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:xr.create(r.map(a=>xr.range(a.from,a.to))),userEvent:"select.search.matches"}),!0)}),A8e=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:a,to:i}=r.main,f=[],d=0;for(let h=new y8(t.doc,t.sliceDoc(a,i));!h.next().done;){if(f.length>1e3)return!1;h.value.from==a&&(d=f.length),f.push(xr.range(h.value.from,h.value.to))}return e(t.update({selection:xr.create(f,d),userEvent:"select.search.matches"})),!0},khe=n$((t,{query:e})=>{let{state:r}=t,{from:a,to:i}=r.selection.main;if(r.readOnly)return!1;let f=e.nextMatch(r,a,a);if(!f)return!1;let d=[],h,c,g=[];if(f.from==a&&f.to==i&&(c=r.toText(e.getReplacement(f)),d.push({from:f.from,to:f.to,insert:c}),f=e.nextMatch(r,f.from,f.to),g.push(Xo.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(a).number)+"."))),f){let v=d.length==0||d[0].from>=f.to?0:f.to-f.from-c.length;h=xr.single(f.from-v,f.to-v),g.push(Yie(t,f)),g.push(r.facet($8).scrollToMatch(h.main,t))}return t.dispatch({changes:d,selection:h,effects:g,userEvent:"input.replace"}),!0}),P8e=n$((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(i=>{let{from:f,to:d}=i;return{from:f,to:d,insert:e.getReplacement(i)}});if(!r.length)return!1;let a=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:Xo.announce.of(a),userEvent:"input.replace.all"}),!0});function Wie(t){return t.state.facet($8).createPanel(t)}function tae(t,e){var r,a,i,f,d;let h=t.selection.main,c=h.empty||h.to>h.from+100?"":t.sliceDoc(h.from,h.to);if(e&&!c)return e;let g=t.facet($8);return new hye({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:g.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(a=e==null?void 0:e.caseSensitive)!==null&&a!==void 0?a:g.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:g.literal,regexp:(f=e==null?void 0:e.regexp)!==null&&f!==void 0?f:g.regexp,wholeWord:(d=e==null?void 0:e.wholeWord)!==null&&d!==void 0?d:g.wholeWord})}function gye(t){let e=SD(t,Wie);return e&&e.dom.querySelector("[main-field]")}function pye(t){let e=gye(t);e&&e==t.root.activeElement&&e.select()}const vye=t=>{let e=t.state.field(kS,!1);if(e&&e.panel){let r=gye(t);if(r&&r!=t.root.activeElement){let a=tae(t.state,e.query.spec);a.valid&&t.dispatch({effects:PD.of(a)}),r.focus(),r.select()}}else t.dispatch({effects:[Uie.of(!0),e?PD.of(tae(t.state,e.query.spec)):da.appendConfig.of(R8e)]});return!0},yye=t=>{let e=t.state.field(kS,!1);if(!e||!e.panel)return!1;let r=SD(t,Wie);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Uie.of(!1)}),!0},M8e=[{key:"Mod-f",run:vye,scope:"editor search-panel"},{key:"F3",run:IH,shift:NH,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:IH,shift:NH,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:yye,scope:"editor search-panel"},{key:"Mod-Shift-l",run:A8e},{key:"Mod-Alt-g",run:i8e},{key:"Mod-d",run:y8e,preventDefault:!0}];class E8e{constructor(e){this.view=e;let r=this.query=e.state.field(kS).query.spec;this.commit=this.commit.bind(this),this.searchField=Ml("input",{value:r.search,placeholder:cg(e,"Find"),"aria-label":cg(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ml("input",{value:r.replace,placeholder:cg(e,"Replace"),"aria-label":cg(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ml("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=Ml("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=Ml("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function a(i,f,d){return Ml("button",{class:"cm-button",name:i,onclick:f,type:"button"},d)}this.dom=Ml("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,a("next",()=>IH(e),[cg(e,"next")]),a("prev",()=>NH(e),[cg(e,"previous")]),a("select",()=>k8e(e),[cg(e,"all")]),Ml("label",null,[this.caseField,cg(e,"match case")]),Ml("label",null,[this.reField,cg(e,"regexp")]),Ml("label",null,[this.wordField,cg(e,"by word")]),...e.state.readOnly?[]:[Ml("br"),this.replaceField,a("replace",()=>khe(e),[cg(e,"replace")]),a("replaceAll",()=>P8e(e),[cg(e,"replace all")])],Ml("button",{name:"close",onclick:()=>yye(e),"aria-label":cg(e,"close"),type:"button"},["×"])])}commit(){let e=new hye({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:PD.of(e)}))}keydown(e){Vke(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?NH:IH)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),khe(this.view))}update(e){for(let r of e.transactions)for(let a of r.effects)a.is(PD)&&!a.value.eq(this.query)&&this.setQuery(a.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet($8).top}}function cg(t,e){return t.state.phrase(e)}const CZ=30,TZ=/[\s\.,:;?!]/;function Yie(t,{from:e,to:r}){let a=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,f=Math.max(a.from,e-CZ),d=Math.min(i,r+CZ),h=t.state.sliceDoc(f,d);if(f!=a.from){for(let c=0;c<CZ;c++)if(!TZ.test(h[c+1])&&TZ.test(h[c])){h=h.slice(c);break}}if(d!=i){for(let c=h.length-1;c>h.length-CZ;c--)if(!TZ.test(h[c-1])&&TZ.test(h[c])){h=h.slice(0,c);break}}return Xo.announce.of(`${t.state.phrase("current match")}. ${h} ${t.state.phrase("on line")} ${a.number}.`)}const _8e=Xo.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),R8e=[kS,Og.low(T8e),_8e];class Xie{constructor(e,r,a){this.state=e,this.pos=r,this.explicit=a,this.abortListeners=[]}tokenBefore(e){let r=al(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),a=Math.max(r.from,this.pos-250),i=r.text.slice(a-r.from,this.pos-r.from),f=i.search(bye(e,!1));return f<0?null:{from:a+f,to:this.pos,text:i.slice(f)}}get aborted(){return this.abortListeners==null}addEventListener(e,r){e=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function Ahe(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function D8e(t){let e=Object.create(null),r=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let f=1;f<i.length;f++)r[i[f]]=!0}let a=Ahe(e)+Ahe(r)+"*$";return[new RegExp("^"+a),new RegExp(a)]}function VU(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[r,a]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:D8e(e);return i=>{let f=i.matchBefore(a);return f||i.explicit?{from:f?f.from:i.pos,options:e,validFor:r}:null}}function Gie(t,e){return r=>{for(let a=al(r.state).resolveInner(r.pos,-1);a;a=a.parent){if(t.indexOf(a.name)>-1)return null;if(a.type.isTop)break}return e(r)}}class Phe{constructor(e,r,a,i){this.completion=e,this.source=r,this.match=a,this.score=i}}function AS(t){return t.selection.main.from}function bye(t,e){var r;let{source:a}=t,i=e&&a[0]!="^",f=a[a.length-1]!="$";return!i&&!f?t:new RegExp(`${i?"^":""}(?:${a})${f?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const Oye=_O.define();function $8e(t,e,r,a){let{main:i}=t.selection,f=r-i.from,d=a-i.from;return Object.assign(Object.assign({},t.changeByRange(h=>h!=i&&r!=a&&t.sliceDoc(h.from+f,h.from+d)!=t.sliceDoc(r,a)?{range:h}:{changes:{from:h.from+f,to:a==i.from?h.to:h.from+d,insert:e},range:xr.cursor(h.from+f+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const Mhe=new WeakMap;function L8e(t){if(!Array.isArray(t))return t;let e=Mhe.get(t);return e||Mhe.set(t,e=VU(t)),e}const jie=da.define(),MD=da.define();class I8e{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let a=Xf(e,r),i=Ap(a);this.chars.push(a);let f=e.slice(r,r+i),d=f.toUpperCase();this.folded.push(Xf(d==f?f.toLowerCase():d,0)),r+=i}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:r,folded:a,any:i,precise:f,byWord:d}=this;if(r.length==1){let _=Xf(e,0),M=Ap(_),I=M==e.length?0:-100;if(_!=r[0])if(_==a[0])I+=-200;else return!1;return this.ret(I,[0,M])}let h=e.indexOf(this.pattern);if(h==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=r.length,g=0;if(h<0){for(let _=0,M=Math.min(e.length,200);_<M&&g<c;){let I=Xf(e,_);(I==r[g]||I==a[g])&&(i[g++]=_),_+=Ap(I)}if(g<c)return!1}let v=0,y=0,b=!1,O=0,T=-1,k=-1,w=/[a-z]/.test(e),C=!0;for(let _=0,M=Math.min(e.length,200),I=0;_<M&&y<c;){let V=Xf(e,_);h<0&&(v<c&&V==r[v]&&(f[v++]=_),O<c&&(V==r[O]||V==a[O]?(O==0&&(T=_),k=_+1,O++):O=0));let N,Q=V<255?V>=48&&V<=57||V>=97&&V<=122?2:V>=65&&V<=90?1:0:(N=bie(V))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!_||Q==1&&w||I==0&&Q!=0)&&(r[y]==V||a[y]==V&&(b=!0)?d[y++]=_:d.length&&(C=!1)),I=Q,_+=Ap(V)}return y==c&&d[0]==0&&C?this.result(-100+(b?-200:0),d,e):O==c&&T==0?this.ret(-200-e.length+(k==e.length?0:-100),[0,k]):h>-1?this.ret(-700-e.length,[h,h+this.pattern.length]):O==c?this.ret(-200+-700-e.length,[T,k]):y==c?this.result(-100+(b?-200:0)+-700+(C?0:-1100),d,e):r.length==2?!1:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,r,a){let i=[],f=0;for(let d of r){let h=d+(this.astral?Ap(Xf(a,d)):1);f&&i[f-1]==d?i[f-1]=h:(i[f++]=d,i[f++]=h)}return this.ret(e-a.length,i)}}const Dd=ss.define({combine(t){return ly(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:N8e,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>a=>Ehe(e(a),r(a)),optionClass:(e,r)=>a=>Ehe(e(a),r(a)),addToOptions:(e,r)=>e.concat(r)})}});function Ehe(t,e){return t?e?t+" "+e:t:e}function N8e(t,e,r,a,i,f){let d=t.textDirection==xc.RTL,h=d,c=!1,g="top",v,y,b=e.left-i.left,O=i.right-e.right,T=a.right-a.left,k=a.bottom-a.top;if(h&&b<Math.min(T,O)?h=!1:!h&&O<Math.min(T,b)&&(h=!0),T<=(h?b:O))v=Math.max(i.top,Math.min(r.top,i.bottom-k))-e.top,y=Math.min(400,h?b:O);else{c=!0,y=Math.min(400,(d?e.right:i.right-e.left)-30);let _=i.bottom-e.bottom;_>=k||_>e.top?v=r.bottom-e.top:(g="bottom",v=e.bottom-r.top)}let w=(e.bottom-e.top)/f.offsetHeight,C=(e.right-e.left)/f.offsetWidth;return{style:`${g}: ${v/w}px; max-width: ${y/C}px`,class:"cm-completionInfo-"+(c?d?"left-narrow":"right-narrow":h?"left":"right")}}function B8e(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let a=document.createElement("div");return a.classList.add("cm-completionIcon"),r.type&&a.classList.add(...r.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),a.setAttribute("aria-hidden","true"),a},position:20}),e.push({render(r,a,i,f){let d=document.createElement("span");d.className="cm-completionLabel";let h=r.displayLabel||r.label,c=0;for(let g=0;g<f.length;){let v=f[g++],y=f[g++];v>c&&d.appendChild(document.createTextNode(h.slice(c,v)));let b=d.appendChild(document.createElement("span"));b.appendChild(document.createTextNode(h.slice(v,y))),b.className="cm-completionMatchedText",c=y}return c<h.length&&d.appendChild(document.createTextNode(h.slice(c))),d},position:50},{render(r){if(!r.detail)return null;let a=document.createElement("span");return a.className="cm-completionDetail",a.textContent=r.detail,a},position:80}),e.sort((r,a)=>r.position-a.position).map(r=>r.render)}function uoe(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}let a=Math.floor((t-e)/r);return{from:t-(a+1)*r,to:t-a*r}}class Q8e{constructor(e,r,a){this.view=e,this.stateField=r,this.applyCompletion=a,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:f,selected:d}=i.open,h=e.state.facet(Dd);this.optionContent=B8e(h),this.optionClass=h.optionClass,this.tooltipClass=h.tooltipClass,this.range=uoe(f.length,d,h.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:g}=e.state.field(r).open;for(let v=c.target,y;v&&v!=this.dom;v=v.parentNode)if(v.nodeName=="LI"&&(y=/-(\d+)$/.exec(v.id))&&+y[1]<g.length){this.applyCompletion(e,g[+y[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let g=e.state.field(this.stateField,!1);g&&g.tooltip&&e.state.facet(Dd).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:MD.of(null)})}),this.showOptions(f,i.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let a=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),a!=i){let{options:f,selected:d,disabled:h}=a.open;(!i.open||i.open.options!=f)&&(this.range=uoe(f.length,d,e.state.facet(Dd).maxRenderedOptions),this.showOptions(f,a.id)),this.updateSel(),h!=((r=i.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!h)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let a of this.currentClass.split(" "))a&&this.dom.classList.remove(a);for(let a of r.split(" "))a&&this.dom.classList.add(a);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=uoe(r.options.length,r.selected,this.view.state.facet(Dd).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:a}=r.options[r.selected],{info:i}=a;if(!i)return;let f=typeof i=="string"?document.createTextNode(i):i(a);if(!f)return;"then"in f?f.then(d=>{d&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(d,a)}).catch(d=>Lp(this.view.state,d,"completion info")):this.addInfoPane(f,a)}}addInfoPane(e,r){this.destroyInfo();let a=this.info=document.createElement("div");if(a.className="cm-tooltip cm-completionInfo",e.nodeType!=null)a.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:f}=e;a.appendChild(i),this.infoDestroy=f||null}this.dom.appendChild(a),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let a=this.list.firstChild,i=this.range.from;a;a=a.nextSibling,i++)a.nodeName!="LI"||!a.id?i--:i==e?a.hasAttribute("aria-selected")||(a.setAttribute("aria-selected","true"),r=a):a.hasAttribute("aria-selected")&&a.removeAttribute("aria-selected");return r&&V8e(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),a=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),f=this.space;if(!f){let d=this.dom.ownerDocument.defaultView||window;f={left:0,top:0,right:d.innerWidth,bottom:d.innerHeight}}return i.top>Math.min(f.bottom,r.bottom)-10||i.bottom<Math.max(f.top,r.top)+10?null:this.view.state.facet(Dd).positionInfo(this.view,r,i,a,f,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,a){const i=document.createElement("ul");i.id=r,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let f=null;for(let d=a.from;d<a.to;d++){let{completion:h,match:c}=e[d],{section:g}=h;if(g){let b=typeof g=="string"?g:g.name;if(b!=f&&(d>a.from||a.from==0))if(f=b,typeof g!="string"&&g.header)i.appendChild(g.header(g));else{let O=i.appendChild(document.createElement("completion-section"));O.textContent=b}}const v=i.appendChild(document.createElement("li"));v.id=r+"-"+d,v.setAttribute("role","option");let y=this.optionClass(h);y&&(v.className=y);for(let b of this.optionContent){let O=b(h,this.view.state,this.view,c);O&&v.appendChild(O)}}return a.from&&i.classList.add("cm-completionListIncompleteTop"),a.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function F8e(t,e){return r=>new Q8e(r,t,e)}function V8e(t,e){let r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=r.height/t.offsetHeight;a.top<r.top?t.scrollTop-=(r.top-a.top)/i:a.bottom>r.bottom&&(t.scrollTop+=(a.bottom-r.bottom)/i)}function _he(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function z8e(t,e){let r=[],a=null,i=c=>{r.push(c);let{section:g}=c.completion;if(g){a||(a=[]);let v=typeof g=="string"?g:g.name;a.some(y=>y.name==v)||a.push(typeof g=="string"?{name:v}:g)}};for(let c of t)if(c.hasResult()){let g=c.result.getMatch;if(c.result.filter===!1)for(let v of c.result.options)i(new Phe(v,c.source,g?g(v):[],1e9-r.length));else{let v=new I8e(e.sliceDoc(c.from,c.to));for(let y of c.result.options)if(v.match(y.label)){let b=y.displayLabel?g?g(y,v.matched):[]:v.matched;i(new Phe(y,c.source,b,v.score+(y.boost||0)))}}}if(a){let c=Object.create(null),g=0,v=(y,b)=>{var O,T;return((O=y.rank)!==null&&O!==void 0?O:1e9)-((T=b.rank)!==null&&T!==void 0?T:1e9)||(y.name<b.name?-1:1)};for(let y of a.sort(v))g-=1e5,c[y.name]=g;for(let y of r){let{section:b}=y.completion;b&&(y.score+=c[typeof b=="string"?b:b.name])}}let f=[],d=null,h=e.facet(Dd).compareCompletions;for(let c of r.sort((g,v)=>v.score-g.score||h(g.completion,v.completion))){let g=c.completion;!d||d.label!=g.label||d.detail!=g.detail||d.type!=null&&g.type!=null&&d.type!=g.type||d.apply!=g.apply||d.boost!=g.boost?f.push(c):_he(c.completion)>_he(d)&&(f[f.length-1]=c),d=c.completion}return f}class GP{constructor(e,r,a,i,f,d){this.options=e,this.attrs=r,this.tooltip=a,this.timestamp=i,this.selected=f,this.disabled=d}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new GP(this.options,Rhe(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,a,i,f){let d=z8e(e,r);if(!d.length)return i&&e.some(c=>c.state==1)?new GP(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let h=r.facet(Dd).selectOnOpen?0:-1;if(i&&i.selected!=h&&i.selected!=-1){let c=i.options[i.selected].completion;for(let g=0;g<d.length;g++)if(d[g].completion==c){h=g;break}}return new GP(d,Rhe(a,h),{pos:e.reduce((c,g)=>g.hasResult()?Math.min(c,g.from):c,1e8),create:Y8e,above:f.aboveCursor},i?i.timestamp:Date.now(),h,!1)}map(e){return new GP(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class BH{constructor(e,r,a){this.active=e,this.id=r,this.open=a}static start(){return new BH(U8e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,a=r.facet(Dd),f=(a.override||r.languageDataAt("autocomplete",AS(r)).map(L8e)).map(h=>(this.active.find(g=>g.source==h)||new cm(h,this.active.some(g=>g.state!=0)?1:0)).update(e,a));f.length==this.active.length&&f.every((h,c)=>h==this.active[c])&&(f=this.active);let d=this.open;d&&e.docChanged&&(d=d.map(e.changes)),e.selection||f.some(h=>h.hasResult()&&e.changes.touchesRange(h.from,h.to))||!Z8e(f,this.active)?d=GP.build(f,r,this.id,d,a):d&&d.disabled&&!f.some(h=>h.state==1)&&(d=null),!d&&f.every(h=>h.state!=1)&&f.some(h=>h.hasResult())&&(f=f.map(h=>h.hasResult()?new cm(h.source,0):h));for(let h of e.effects)h.is(Sye)&&(d=d&&d.setSelected(h.value,this.id));return f==this.active&&d==this.open?this:new BH(f,this.id,d)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:H8e}}function Z8e(t,e){if(t==e)return!0;for(let r=0,a=0;;){for(;r<t.length&&!t[r].hasResult;)r++;for(;a<e.length&&!e[a].hasResult;)a++;let i=r==t.length,f=a==e.length;if(i||f)return i==f;if(t[r++].result!=e[a++].result)return!1}}const H8e={"aria-autocomplete":"list"};function Rhe(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const U8e=[];function nae(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class cm{constructor(e,r,a=-1){this.source=e,this.state=r,this.explicitPos=a}hasResult(){return!1}update(e,r){let a=nae(e),i=this;a?i=i.handleUserEvent(e,a,r):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new cm(i.source,0));for(let f of e.effects)if(f.is(jie))i=new cm(i.source,1,f.value?AS(e.state):-1);else if(f.is(MD))i=new cm(i.source,0);else if(f.is(xye))for(let d of f.value)d.source==i.source&&(i=d);return i}handleUserEvent(e,r,a){return r=="delete"||!a.activateOnTyping?this.map(e.changes):new cm(this.source,1)}handleChange(e){return e.changes.touchesRange(AS(e.startState))?new cm(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new cm(this.source,this.state,e.mapPos(this.explicitPos))}}class a8 extends cm{constructor(e,r,a,i,f){super(e,2,r),this.result=a,this.from=i,this.to=f}hasResult(){return!0}handleUserEvent(e,r,a){var i;let f=e.changes.mapPos(this.from),d=e.changes.mapPos(this.to,1),h=AS(e.state);if((this.explicitPos<0?h<=f:h<this.from)||h>d||r=="delete"&&AS(e.startState)==this.from)return new cm(this.source,r=="input"&&a.activateOnTyping?1:0);let c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),g;return W8e(this.result.validFor,e.state,f,d)?new a8(this.source,c,this.result,f,d):this.result.update&&(g=this.result.update(this.result,f,d,new Xie(e.state,h,c>=0)))?new a8(this.source,c,g,g.from,(i=g.to)!==null&&i!==void 0?i:AS(e.state)):new cm(this.source,1,c)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new cm(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new a8(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function W8e(t,e,r,a){if(!t)return!1;let i=e.sliceDoc(r,a);return typeof t=="function"?t(i,r,a,e):bye(t,!0).test(i)}const xye=da.define({map(t,e){return t.map(r=>r.map(e))}}),Sye=da.define(),pg=Hu.define({create(){return BH.start()},update(t,e){return t.update(e)},provide:t=>[Mie.from(t,e=>e.tooltip),Xo.contentAttributes.from(t,e=>e.attrs)]});function wye(t,e){const r=e.completion.apply||e.completion.label;let a=t.state.field(pg).active.find(i=>i.source==e.source);return a instanceof a8?(typeof r=="string"?t.dispatch(Object.assign(Object.assign({},$8e(t.state,r,a.from,a.to)),{annotations:Oye.of(e.completion)})):r(t,e.completion,a.from,a.to),!0):!1}const Y8e=F8e(pg,wye);function kZ(t,e="option"){return r=>{let a=r.state.field(pg,!1);if(!a||!a.open||a.open.disabled||Date.now()-a.open.timestamp<r.state.facet(Dd).interactionDelay)return!1;let i=1,f;e=="page"&&(f=r0e(r,a.open.tooltip))&&(i=Math.max(2,Math.floor(f.dom.offsetHeight/f.dom.querySelector("li").offsetHeight)-1));let{length:d}=a.open.options,h=a.open.selected>-1?a.open.selected+i*(t?1:-1):t?0:d-1;return h<0?h=e=="page"?0:d-1:h>=d&&(h=e=="page"?d-1:0),r.dispatch({effects:Sye.of(h)}),!0}}const X8e=t=>{let e=t.state.field(pg,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Dd).interactionDelay?!1:wye(t,e.open.options[e.open.selected])},G8e=t=>t.state.field(pg,!1)?(t.dispatch({effects:jie.of(!0)}),!0):!1,j8e=t=>{let e=t.state.field(pg,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:MD.of(null)}),!0)};class q8e{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const K8e=50,J8e=1e3,e7e=Sc.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(pg).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(pg);if(!t.selectionSet&&!t.docChanged&&t.startState.field(pg)==e)return;let r=t.transactions.some(a=>(a.selection||a.docChanged)&&!nae(a));for(let a=0;a<this.running.length;a++){let i=this.running[a];if(r||i.updates.length+t.transactions.length>K8e&&Date.now()-i.time>J8e){for(let f of i.context.abortListeners)try{f()}catch(d){Lp(this.view.state,d)}i.context.abortListeners=null,this.running.splice(a--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(a=>a.state==1&&!this.running.some(i=>i.active.source==a.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let a of t.transactions)nae(a)=="input"?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(pg);for(let r of e.active)r.state==1&&!this.running.some(a=>a.active.source==r.source)&&this.startQuery(r)}startQuery(t){let{state:e}=this.view,r=AS(e),a=new Xie(e,r,t.explicitPos==r),i=new q8e(t,a);this.running.push(i),Promise.resolve(t.source(a)).then(f=>{i.context.aborted||(i.done=f||null,this.scheduleAccept())},f=>{this.view.dispatch({effects:MD.of(null)}),Lp(this.view.state,f)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Dd).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(Dd);for(let a=0;a<this.running.length;a++){let i=this.running[a];if(i.done===void 0)continue;if(this.running.splice(a--,1),i.done){let d=new a8(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:AS(i.updates.length?i.updates[0].startState:this.view.state));for(let h of i.updates)d=d.update(h,r);if(d.hasResult()){e.push(d);continue}}let f=this.view.state.field(pg).active.find(d=>d.source==i.active.source);if(f&&f.state==1)if(i.done==null){let d=new cm(i.active.source,0);for(let h of i.updates)d=d.update(h,r);d.state!=1&&e.push(d)}else this.startQuery(f)}e.length&&this.view.dispatch({effects:xye.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(pg,!1);if(e&&e.tooltip&&this.view.state.facet(Dd).closeOnBlur){let r=e.open&&r0e(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:MD.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:jie.of(!1)}),20),this.composing=0}}}),Cye=Xo.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class t7e{constructor(e,r,a,i){this.field=e,this.line=r,this.from=a,this.to=i}}class qie{constructor(e,r,a){this.field=e,this.from=r,this.to=a}map(e){let r=e.mapPos(this.from,-1,jf.TrackDel),a=e.mapPos(this.to,1,jf.TrackDel);return r==null||a==null?null:new qie(this.field,r,a)}}class Kie{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let a=[],i=[r],f=e.doc.lineAt(r),d=/^\s*/.exec(f.text)[0];for(let c of this.lines){if(a.length){let g=d,v=/^\t*/.exec(c)[0].length;for(let y=0;y<v;y++)g+=e.facet(XT);i.push(r+g.length-v),c=g+c.slice(v)}a.push(c),r+=c.length+1}let h=this.fieldPositions.map(c=>new qie(c.field,i[c.line]+c.from,i[c.line]+c.to));return{text:a,ranges:h}}static parse(e){let r=[],a=[],i=[],f;for(let d of e.split(/\r\n?|\n/)){for(;f=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(d);){let h=f[1]?+f[1]:null,c=f[2]||f[3]||"",g=-1;for(let v=0;v<r.length;v++)(h!=null?r[v].seq==h:c&&r[v].name==c)&&(g=v);if(g<0){let v=0;for(;v<r.length&&(h==null||r[v].seq!=null&&r[v].seq<h);)v++;r.splice(v,0,{seq:h,name:c}),g=v;for(let y of i)y.field>=g&&y.field++}i.push(new t7e(g,a.length,f.index,f.index+c.length)),d=d.slice(0,f.index)+c+d.slice(f.index+f[0].length)}for(let h;h=/\\([{}])/.exec(d);){d=d.slice(0,h.index)+h[1]+d.slice(h.index+h[0].length);for(let c of i)c.line==a.length&&c.from>h.index&&(c.from--,c.to--)}a.push(d)}return new Kie(a,i)}}let n7e=Ss.widget({widget:new class extends jv{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),r7e=Ss.mark({class:"cm-snippetField"});class L8{constructor(e,r){this.ranges=e,this.active=r,this.deco=Ss.set(e.map(a=>(a.from==a.to?n7e:r7e).range(a.from,a.to)))}map(e){let r=[];for(let a of this.ranges){let i=a.map(e);if(!i)return null;r.push(i)}return new L8(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(a=>a.field==this.active&&a.from<=r.from&&a.to>=r.to))}}const r$=da.define({map(t,e){return t&&t.map(e)}}),o7e=da.define(),ED=Hu.define({create(){return null},update(t,e){for(let r of e.effects){if(r.is(r$))return r.value;if(r.is(o7e)&&t)return new L8(t.ranges,r.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Xo.decorations.from(t,e=>e?e.deco:Ss.none)});function Jie(t,e){return xr.create(t.filter(r=>r.field==e).map(r=>xr.range(r.from,r.to)))}function s7e(t){let e=Kie.parse(t);return(r,a,i,f)=>{let{text:d,ranges:h}=e.instantiate(r.state,i),c={changes:{from:i,to:f,insert:Si.of(d)},scrollIntoView:!0,annotations:a?Oye.of(a):void 0};if(h.length&&(c.selection=Jie(h,0)),h.length>1){let g=new L8(h,0),v=c.effects=[r$.of(g)];r.state.field(ED,!1)===void 0&&v.push(da.appendConfig.of([ED,u7e,f7e,Cye]))}r.dispatch(r.state.update(c))}}function Tye(t){return({state:e,dispatch:r})=>{let a=e.field(ED,!1);if(!a||t<0&&a.active==0)return!1;let i=a.active+t,f=t>0&&!a.ranges.some(d=>d.field==i+t);return r(e.update({selection:Jie(a.ranges,i),effects:r$.of(f?null:new L8(a.ranges,i)),scrollIntoView:!0})),!0}}const a7e=({state:t,dispatch:e})=>t.field(ED,!1)?(e(t.update({effects:r$.of(null)})),!0):!1,i7e=Tye(1),l7e=Tye(-1),c7e=[{key:"Tab",run:i7e,shift:l7e},{key:"Escape",run:a7e}],Dhe=ss.define({combine(t){return t.length?t[0]:c7e}}),u7e=Og.highest(RO.compute([Dhe],t=>t.facet(Dhe)));function bc(t,e){return Object.assign(Object.assign({},e),{apply:s7e(t)})}const f7e=Xo.domEventHandlers({mousedown(t,e){let r=e.state.field(ED,!1),a;if(!r||(a=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=r.ranges.find(f=>f.from<=a&&f.to>=a);return!i||i.field==r.active?!1:(e.dispatch({selection:Jie(r.ranges,i.field),effects:r$.of(r.ranges.some(f=>f.field>i.field)?new L8(r.ranges,i.field):null),scrollIntoView:!0}),!0)}}),_D={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},DT=da.define({map(t,e){let r=e.mapPos(t,-1,jf.TrackAfter);return r??void 0}}),ele=new class extends BT{};ele.startSide=1;ele.endSide=-1;const kye=Hu.define({create(){return Ji.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:a=>a>=r.from&&a<=r.to})}for(let r of e.effects)r.is(DT)&&(t=t.update({add:[ele.range(r.value,r.value+1)]}));return t}});function d7e(){return[m7e,kye]}const foe="()[]{}<>";function Aye(t){for(let e=0;e<foe.length;e+=2)if(foe.charCodeAt(e)==t)return foe.charAt(e+1);return bie(t<128?t:t+1)}function Pye(t,e){return t.languageDataAt("closeBrackets",e)[0]||_D}const h7e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),m7e=Xo.inputHandler.of((t,e,r,a)=>{if((h7e?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(a.length>2||a.length==2&&Ap(Xf(a,0))==1||e!=i.from||r!=i.to)return!1;let f=v7e(t.state,a);return f?(t.dispatch(f),!0):!1}),g7e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let a=Pye(t,t.selection.main.head).brackets||_D.brackets,i=null,f=t.changeByRange(d=>{if(d.empty){let h=y7e(t.doc,d.head);for(let c of a)if(c==h&&zU(t.doc,d.head)==Aye(Xf(c,0)))return{changes:{from:d.head-c.length,to:d.head+c.length},range:xr.cursor(d.head-c.length)}}return{range:i=d}});return i||e(t.update(f,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},p7e=[{key:"Backspace",run:g7e}];function v7e(t,e){let r=Pye(t,t.selection.main.head),a=r.brackets||_D.brackets;for(let i of a){let f=Aye(Xf(i,0));if(e==i)return f==i?x7e(t,i,a.indexOf(i+i+i)>-1,r):b7e(t,i,f,r.before||_D.before);if(e==f&&Mye(t,t.selection.main.from))return O7e(t,i,f)}return null}function Mye(t,e){let r=!1;return t.field(kye).between(0,t.doc.length,a=>{a==e&&(r=!0)}),r}function zU(t,e){let r=t.sliceString(e,e+2);return r.slice(0,Ap(Xf(r,0)))}function y7e(t,e){let r=t.sliceString(e-2,e);return Ap(Xf(r,0))==r.length?r:r.slice(1)}function b7e(t,e,r,a){let i=null,f=t.changeByRange(d=>{if(!d.empty)return{changes:[{insert:e,from:d.from},{insert:r,from:d.to}],effects:DT.of(d.to+e.length),range:xr.range(d.anchor+e.length,d.head+e.length)};let h=zU(t.doc,d.head);return!h||/\s/.test(h)||a.indexOf(h)>-1?{changes:{insert:e+r,from:d.head},effects:DT.of(d.head+e.length),range:xr.cursor(d.head+e.length)}:{range:i=d}});return i?null:t.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function O7e(t,e,r){let a=null,i=t.changeByRange(f=>f.empty&&zU(t.doc,f.head)==r?{changes:{from:f.head,to:f.head+r.length,insert:r},range:xr.cursor(f.head+r.length)}:a={range:f});return a?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function x7e(t,e,r,a){let i=a.stringPrefixes||_D.stringPrefixes,f=null,d=t.changeByRange(h=>{if(!h.empty)return{changes:[{insert:e,from:h.from},{insert:e,from:h.to}],effects:DT.of(h.to+e.length),range:xr.range(h.anchor+e.length,h.head+e.length)};let c=h.head,g=zU(t.doc,c),v;if(g==e){if($he(t,c))return{changes:{insert:e+e,from:c},effects:DT.of(c+e.length),range:xr.cursor(c+e.length)};if(Mye(t,c)){let b=r&&t.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+b.length,insert:b},range:xr.cursor(c+b.length)}}}else{if(r&&t.sliceDoc(c-2*e.length,c)==e+e&&(v=Lhe(t,c-2*e.length,i))>-1&&$he(t,v))return{changes:{insert:e+e+e+e,from:c},effects:DT.of(c+e.length),range:xr.cursor(c+e.length)};if(t.charCategorizer(c)(g)!=ac.Word&&Lhe(t,c,i)>-1&&!S7e(t,c,e,i))return{changes:{insert:e+e,from:c},effects:DT.of(c+e.length),range:xr.cursor(c+e.length)}}return{range:f=h}});return f?null:t.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function $he(t,e){let r=al(t).resolveInner(e+1);return r.parent&&r.from==e}function S7e(t,e,r,a){let i=al(t).resolveInner(e,-1),f=a.reduce((d,h)=>Math.max(d,h.length),0);for(let d=0;d<5;d++){let h=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+f)),c=h.indexOf(r);if(!c||c>-1&&a.indexOf(h.slice(0,c))>-1){let v=i.firstChild;for(;v&&v.from==i.from&&v.to-v.from>r.length+c;){if(t.sliceDoc(v.to-r.length,v.to)==r)return!1;v=v.firstChild}return!0}let g=i.to==e&&i.parent;if(!g)break;i=g}return!1}function Lhe(t,e,r){let a=t.charCategorizer(e);if(a(t.sliceDoc(e-1,e))!=ac.Word)return e;for(let i of r){let f=e-i.length;if(t.sliceDoc(f,e)==i&&a(t.sliceDoc(f-1,f))!=ac.Word)return f}return-1}function zT(t={}){return[pg,Dd.of(t),e7e,w7e,Cye]}const Eye=[{key:"Ctrl-Space",run:G8e},{key:"Escape",run:j8e},{key:"ArrowDown",run:kZ(!0)},{key:"ArrowUp",run:kZ(!1)},{key:"PageDown",run:kZ(!0,"page")},{key:"PageUp",run:kZ(!1,"page")},{key:"Enter",run:X8e}],w7e=Og.highest(RO.computeN([Dd],t=>t.facet(Dd).defaultKeymap?[Eye]:[]));class C7e{constructor(e,r,a){this.from=e,this.to=r,this.diagnostic=a}}class PT{constructor(e,r,a){this.diagnostics=e,this.panel=r,this.selected=a}static init(e,r,a){let i=e,f=a.facet(Dye).markerFilter;f&&(i=f(i));let d=Ss.set(i.map(h=>h.from==h.to||h.from==h.to-1&&a.doc.lineAt(h.from).to==h.from?Ss.widget({widget:new D7e(h),diagnostic:h}).range(h.from):Ss.mark({attributes:{class:"cm-lintRange cm-lintRange-"+h.severity+(h.markClass?" "+h.markClass:"")},diagnostic:h}).range(h.from,h.to)),!0);return new PT(d,r,b8(d))}}function b8(t,e=null,r=0){let a=null;return t.between(r,1e9,(i,f,{spec:d})=>{if(!(e&&d.diagnostic!=e))return a=new C7e(i,f,d.diagnostic),!1}),a}function T7e(t,e){let r=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(a=>a.is(_ye))||t.changes.touchesRange(r.from,r.to))}function k7e(t,e){return t.field(bg,!1)?e:e.concat(da.appendConfig.of(I7e))}const _ye=da.define(),tle=da.define(),Rye=da.define(),bg=Hu.define({create(){return new PT(Ss.none,null,null)},update(t,e){if(e.docChanged){let r=t.diagnostics.map(e.changes),a=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);a=b8(r,t.selected.diagnostic,i)||b8(r,null,i)}t=new PT(r,t.panel,a)}for(let r of e.effects)r.is(_ye)?t=PT.init(r.value,t.panel,e.state):r.is(tle)?t=new PT(t.diagnostics,r.value?ZU.open:null,t.selected):r.is(Rye)&&(t=new PT(t.diagnostics,t.panel,r.value));return t},provide:t=>[wD.from(t,e=>e.panel),Xo.decorations.from(t,e=>e.diagnostics)]}),A7e=Ss.mark({class:"cm-lintRange cm-lintRange-active"});function P7e(t,e,r){let{diagnostics:a}=t.state.field(bg),i=[],f=2e8,d=0;a.between(e-(r<0?1:0),e+(r>0?1:0),(c,g,{spec:v})=>{e>=c&&e<=g&&(c==g||(e>c||r>0)&&(e<g||r<0))&&(i.push(v.diagnostic),f=Math.min(c,f),d=Math.max(g,d))});let h=t.state.facet(Dye).tooltipFilter;return h&&(i=h(i)),i.length?{pos:f,end:d,above:t.state.doc.lineAt(f).to<d,create(){return{dom:M7e(t,i)}}}:null}function M7e(t,e){return Ml("ul",{class:"cm-tooltip-lint"},e.map(r=>Lye(t,r,!1)))}const E7e=t=>{let e=t.state.field(bg,!1);(!e||!e.panel)&&t.dispatch({effects:k7e(t.state,[tle.of(!0)])});let r=SD(t,ZU.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},Ihe=t=>{let e=t.state.field(bg,!1);return!e||!e.panel?!1:(t.dispatch({effects:tle.of(!1)}),!0)},_7e=t=>{let e=t.state.field(bg,!1);if(!e)return!1;let r=t.state.selection.main,a=e.diagnostics.iter(r.to+1);return!a.value&&(a=e.diagnostics.iter(0),!a.value||a.from==r.from&&a.to==r.to)?!1:(t.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0}),!0)},R7e=[{key:"Mod-Shift-m",run:E7e,preventDefault:!0},{key:"F8",run:_7e}],Dye=ss.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},ly(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,r)=>e?r?a=>e(a)||r(a):e:r}))}});function $ye(t){let e=[];if(t)e:for(let{name:r}of t){for(let a=0;a<r.length;a++){let i=r[a];if(/[a-zA-Z]/.test(i)&&!e.some(f=>f.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function Lye(t,e,r){var a;let i=r?$ye(e.actions):[];return Ml("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ml("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(a=e.actions)===null||a===void 0?void 0:a.map((f,d)=>{let h=!1,c=b=>{if(b.preventDefault(),h)return;h=!0;let O=b8(t.state.field(bg).diagnostics,e);O&&f.apply(t,O.from,O.to)},{name:g}=f,v=i[d]?g.indexOf(i[d]):-1,y=v<0?g:[g.slice(0,v),Ml("u",g.slice(v,v+1)),g.slice(v+1)];return Ml("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${g}${v<0?"":` (access key "${i[d]})"`}.`},y)}),e.source&&Ml("div",{class:"cm-diagnosticSource"},e.source))}class D7e extends jv{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ml("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Nhe{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Lye(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ZU{constructor(e){this.view=e,this.items=[];let r=i=>{if(i.keyCode==27)Ihe(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:f}=this.items[this.selectedIndex],d=$ye(f.actions);for(let h=0;h<d.length;h++)if(d[h].toUpperCase().charCodeAt(0)==i.keyCode){let c=b8(this.view.state.field(bg).diagnostics,f);c&&f.actions[h].apply(e,c.from,c.to)}}else return;i.preventDefault()},a=i=>{for(let f=0;f<this.items.length;f++)this.items[f].dom.contains(i.target)&&this.moveSelection(f)};this.list=Ml("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:a}),this.dom=Ml("div",{class:"cm-panel-lint"},this.list,Ml("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Ihe(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(bg).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(bg),a=0,i=!1,f=null;for(e.between(0,this.view.state.doc.length,(d,h,{spec:c})=>{let g=-1,v;for(let y=a;y<this.items.length;y++)if(this.items[y].diagnostic==c.diagnostic){g=y;break}g<0?(v=new Nhe(this.view,c.diagnostic),this.items.splice(a,0,v),i=!0):(v=this.items[g],g>a&&(this.items.splice(a,g-a),i=!0)),r&&v.diagnostic==r.diagnostic?v.dom.hasAttribute("aria-selected")||(v.dom.setAttribute("aria-selected","true"),f=v):v.dom.hasAttribute("aria-selected")&&v.dom.removeAttribute("aria-selected"),a++});a<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Nhe(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),f?(this.list.setAttribute("aria-activedescendant",f.id),this.view.requestMeasure({key:this,read:()=>({sel:f.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:d,panel:h})=>{let c=h.height/this.list.offsetHeight;d.top<h.top?this.list.scrollTop-=(h.top-d.top)/c:d.bottom>h.bottom&&(this.list.scrollTop+=(d.bottom-h.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function r(){let a=e;e=a.nextSibling,a.remove()}for(let a of this.items)if(a.dom.parentNode==this.list){for(;e!=a.dom;)r();e=a.dom.nextSibling}else this.list.insertBefore(a.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(bg),a=b8(r.diagnostics,this.items[e].diagnostic);a&&this.view.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:Rye.of(a)})}static open(e){return new ZU(e)}}function $7e(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function AZ(t){return $7e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const L7e=Xo.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:AZ("#d11")},".cm-lintRange-warning":{backgroundImage:AZ("orange")},".cm-lintRange-info":{backgroundImage:AZ("#999")},".cm-lintRange-hint":{backgroundImage:AZ("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),I7e=[bg,Xo.decorations.compute([bg],t=>{let{selected:e,panel:r}=t.field(bg);return!e||!r||e.from==e.to?Ss.none:Ss.set([A7e.range(e.from,e.to)])}),M4e(P7e,{hideOn:T7e}),L7e],N7e=(()=>[B4e(),V4e(),o4e(),oPe(),RAe(),Yke(),Kke(),Na.allowMultipleSelections.of(!0),OAe(),T0e(IAe,{fallback:!0}),ZAe(),d7e(),zT(),y4e(),x4e(),u4e(),u8e(),RO.of([...p7e,...o8e,...M8e,...hPe,...PAe,...Eye,...R7e])])();/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var B7e=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[N7e]}),Q7e=Symbol("vue-codemirror-global-config"),vh,F7e=function(t){var e=t.onUpdate,r=t.onChange,a=t.onFocus,i=t.onBlur,f=function(d,h){var c={};for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&h.indexOf(g)<0&&(c[g]=d[g]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var v=0;for(g=Object.getOwnPropertySymbols(d);v<g.length;v++)h.indexOf(g[v])<0&&Object.prototype.propertyIsEnumerable.call(d,g[v])&&(c[g[v]]=d[g[v]])}return c}(t,["onUpdate","onChange","onFocus","onBlur"]);return Na.create({doc:f.doc,selection:f.selection,extensions:(Array.isArray(f.extensions)?f.extensions:[f.extensions]).concat([Xo.updateListener.of(function(d){e(d),d.docChanged&&r(d.state.doc.toString(),d),d.focusChanged&&(d.view.hasFocus?a(d):i(d))})])})},YP=function(t){var e=new XD;return{compartment:e,run:function(r){e.get(t.state)?t.dispatch({effects:e.reconfigure(r)}):t.dispatch({effects:da.appendConfig.of(e.of(r))})}}},Bhe=function(t,e){var r=YP(t),a=r.compartment,i=r.run;return function(f){var d=a.get(t.state);i(f??d!==e?e:[])}},PZ={type:Boolean,default:void 0},V7e={autofocus:PZ,disabled:PZ,indentWithTab:PZ,tabSize:Number,placeholder:String,style:Object,autoDestroy:PZ,phrases:Object,root:Object,extensions:Array,selection:Object},z7e={modelValue:{type:String,default:""}},Z7e=Object.assign(Object.assign({},V7e),z7e);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(vh||(vh={}));var MT={};MT[vh.Change]=function(t,e){return!0},MT[vh.Update]=function(t){return!0},MT[vh.Focus]=function(t){return!0},MT[vh.Blur]=function(t){return!0},MT[vh.Ready]=function(t){return!0};var Iye={};Iye[vh.ModelUpdate]=MT[vh.Change];var H7e=Object.assign(Object.assign({},MT),Iye),U7e=iy({name:"VueCodemirror",props:Object.assign({},Z7e),emits:Object.assign({},H7e),setup:function(t,e){var r=us(),a=us(),i=us(),f=Object.assign(Object.assign({},B7e),Da(Q7e,{})),d=Jt(function(){var h={};return Object.keys(ya(t)).forEach(function(c){var g;c!=="modelValue"&&(h[c]=(g=t[c])!==null&&g!==void 0?g:f[c])}),h});return Sg(function(){var h;a.value=F7e({doc:t.modelValue,selection:d.value.selection,extensions:(h=f.extensions)!==null&&h!==void 0?h:[],onFocus:function(g){return e.emit(vh.Focus,g)},onBlur:function(g){return e.emit(vh.Blur,g)},onUpdate:function(g){return e.emit(vh.Update,g)},onChange:function(g,v){g!==t.modelValue&&(e.emit(vh.Change,g,v),e.emit(vh.ModelUpdate,g,v))}}),i.value=function(g){return new Xo(Object.assign({},g))}({state:a.value,parent:r.value,root:d.value.root});var c=function(g){var v=function(){return g.state.doc.toString()},y=YP(g).run,b=Bhe(g,[Xo.editable.of(!1),Na.readOnly.of(!0)]),O=Bhe(g,RO.of([s8e])),T=YP(g).run,k=YP(g).run,w=YP(g).run,C=YP(g).run;return{focus:function(){return g.focus()},getDoc:v,setDoc:function(_){_!==v()&&g.dispatch({changes:{from:0,to:g.state.doc.length,insert:_}})},reExtensions:y,toggleDisabled:b,toggleIndentWithTab:O,setTabSize:function(_){T([Na.tabSize.of(_),XT.of(" ".repeat(_))])},setPhrases:function(_){k([Na.phrases.of(_)])},setPlaceholder:function(_){w(m4e(_))},setStyle:function(_){_===void 0&&(_={}),C(Xo.theme({"&":Object.assign({},_)}))}}}(i.value);zo(function(){return t.modelValue},function(g){g!==c.getDoc()&&c.setDoc(g)}),zo(function(){return t.extensions},function(g){return c.reExtensions(g||[])},{immediate:!0}),zo(function(){return d.value.disabled},function(g){return c.toggleDisabled(g)},{immediate:!0}),zo(function(){return d.value.indentWithTab},function(g){return c.toggleIndentWithTab(g)},{immediate:!0}),zo(function(){return d.value.tabSize},function(g){return c.setTabSize(g)},{immediate:!0}),zo(function(){return d.value.phrases},function(g){return c.setPhrases(g||{})},{immediate:!0}),zo(function(){return d.value.placeholder},function(g){return c.setPlaceholder(g)},{immediate:!0}),zo(function(){return d.value.style},function(g){return c.setStyle(g)},{immediate:!0}),d.value.autofocus&&c.focus(),e.emit(vh.Ready,{state:a.value,view:i.value,container:r.value})}),vm(function(){d.value.autoDestroy&&i.value&&function(h){h.destroy()}(i.value)}),function(){return mm("div",{class:"v-codemirror",style:{display:"contents"},ref:r})}}}),HU=U7e;class QH{constructor(e,r,a,i,f,d,h,c,g,v=0,y){this.p=e,this.stack=r,this.state=a,this.reducePos=i,this.pos=f,this.score=d,this.buffer=h,this.bufferBase=c,this.curContext=g,this.lookAhead=v,this.parent=y}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,a=0){let i=e.parser.context;return new QH(e,[],r,a,a,0,[],0,i?new Qhe(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let a=e>>19,i=e&65535,{parser:f}=this.p,d=f.dynamicPrecedence(i);if(d&&(this.score+=d),a==0){this.pushState(f.getGoto(this.state,i,!0),this.reducePos),i<f.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let h=this.stack.length-(a-1)*3-(e&262144?6:0),c=h?this.stack[h-2]:this.p.ranges[0].from,g=this.reducePos-c;g>=2e3&&!(!((r=this.p.parser.nodeSet.types[i])===null||r===void 0)&&r.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=g):this.p.lastBigReductionSize<g&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=g));let v=h?this.stack[h-1]:0,y=this.bufferBase+this.buffer.length-v;if(i<f.minRepeatTerm||e&131072){let b=f.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,b,y+4,!0)}if(e&262144)this.state=this.stack[h];else{let b=this.stack[h-3];this.state=f.getGoto(b,i,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,r,a,i=4,f=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let d=this,h=this.buffer.length;if(h==0&&d.parent&&(h=d.bufferBase-d.parent.bufferBase,d=d.parent),h>0&&d.buffer[h-4]==0&&d.buffer[h-1]>-1){if(r==a)return;if(d.buffer[h-2]>=r){d.buffer[h-2]=a;return}}}if(!f||this.pos==a)this.buffer.push(e,r,a,i);else{let d=this.buffer.length;if(d>0&&this.buffer[d-4]!=0)for(;d>0&&this.buffer[d-2]>a;)this.buffer[d]=this.buffer[d-4],this.buffer[d+1]=this.buffer[d-3],this.buffer[d+2]=this.buffer[d-2],this.buffer[d+3]=this.buffer[d-1],d-=4,i>4&&(i-=4);this.buffer[d]=e,this.buffer[d+1]=r,this.buffer[d+2]=a,this.buffer[d+3]=i}}shift(e,r,a,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(r,a),r<=this.p.parser.maxNode&&this.buffer.push(r,a,i,4);else{let f=e,{parser:d}=this.p;(i>this.pos||r<=d.maxNode)&&(this.pos=i,d.stateFlag(f,1)||(this.reducePos=i)),this.pushState(f,a),this.shiftContext(r,a),r<=d.maxNode&&this.buffer.push(r,a,i,4)}}apply(e,r,a,i){e&65536?this.reduce(e):this.shift(e,r,a,i)}useNode(e,r){let a=this.p.reused.length-1;(a<0||this.p.reused[a]!=e)&&(this.p.reused.push(e),a++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(r,i),this.buffer.push(a,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let a=e.buffer.slice(r),i=e.bufferBase+r;for(;e&&i==e.bufferBase;)e=e.parent;return new QH(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,a,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let a=e<=this.p.parser.maxNode;a&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,a?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new W7e(this);;){let a=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(a==0)return!1;if(!(a&65536))return!0;r.reduce(a)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let f=0,d;f<r.length;f+=2)(d=r[f+1])!=this.state&&this.p.parser.hasAction(d,e)&&i.push(r[f],d);if(this.stack.length<120)for(let f=0;i.length<8&&f<r.length;f+=2){let d=r[f+1];i.some((h,c)=>c&1&&h==d)||i.push(r[f],d)}r=i}let a=[];for(let i=0;i<r.length&&a.length<4;i+=2){let f=r[i+1];if(f==this.state)continue;let d=this.split();d.pushState(f,this.pos),d.storeNode(0,d.pos,d.pos,4,!0),d.shiftContext(r[i],this.pos),d.reducePos=this.pos,d.score-=200,a.push(d)}return a}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let a=r>>19,i=r&65535,f=this.stack.length-a*3;if(f<0||e.getGoto(this.stack[f],i,!1)<0){let d=this.findForcedReduction();if(d==null)return!1;r=d}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],a=(i,f)=>{if(!r.includes(i))return r.push(i),e.allActions(i,d=>{if(!(d&393216))if(d&65536){let h=(d>>19)-f;if(h>1){let c=d&65535,g=this.stack.length-h*3;if(g>=0&&e.getGoto(this.stack[g],c,!1)>=0)return h<<19|65536|c}}else{let h=a(d,f+1);if(h!=null)return h}})};return a(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new Qhe(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Qhe{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class W7e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,a=e>>19;a==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(a-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=i}}class FH{constructor(e,r,a){this.stack=e,this.pos=r,this.index=a,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new FH(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new FH(this.stack,this.pos,this.index)}}function ZR(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let a=0,i=0;a<t.length;){let f=0;for(;;){let d=t.charCodeAt(a++),h=!1;if(d==126){f=65535;break}d>=92&&d--,d>=34&&d--;let c=d-32;if(c>=46&&(c-=46,h=!0),f+=c,h)break;f*=46}r?r[i++]=f:r=new e(f)}return r}class tH{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Fhe=new tH;class Y7e{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Fhe,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let a=this.range,i=this.rangeIndex,f=this.pos+e;for(;f<a.from;){if(!i)return null;let d=this.ranges[--i];f-=a.from-d.to,a=d}for(;r<0?f>a.to:f>=a.to;){if(i==this.ranges.length-1)return null;let d=this.ranges[++i];f+=d.from-a.to,a=d}return f}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,a,i;if(r>=0&&r<this.chunk.length)a=this.pos+e,i=this.chunk.charCodeAt(r);else{let f=this.resolveOffset(e,1);if(f==null)return-1;if(a=f,a>=this.chunk2Pos&&a<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(a-this.chunk2Pos);else{let d=this.rangeIndex,h=this.range;for(;h.to<=a;)h=this.ranges[++d];this.chunk2=this.input.chunk(this.chunk2Pos=a),a+this.chunk2.length>h.to&&(this.chunk2=this.chunk2.slice(0,h.to-a)),i=this.chunk2.charCodeAt(0)}}return a>=this.token.lookAhead&&(this.token.lookAhead=a+1),i}acceptToken(e,r=0){let a=r?this.resolveOffset(r,-1):this.pos;if(a==null||a<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=a}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=Fhe,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let a="";for(let i of this.ranges){if(i.from>=r)break;i.to>e&&(a+=this.input.read(Math.max(i.from,e),Math.min(i.to,r)))}return a}}class i8{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:a}=r.p;Nye(this.data,e,r,this.id,a.data,a.tokenPrecTable)}}i8.prototype.contextual=i8.prototype.fallback=i8.prototype.extend=!1;class VH{constructor(e,r,a){this.precTable=r,this.elseToken=a,this.data=typeof e=="string"?ZR(e):e}token(e,r){let a=e.pos,i=0;for(;;){let f=e.next<0,d=e.resolveOffset(1,1);if(Nye(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(f||i++,d==null)break;e.reset(d,e.token)}i&&(e.reset(a,e.token),e.acceptToken(this.elseToken,i))}}VH.prototype.contextual=i8.prototype.fallback=i8.prototype.extend=!1;class xh{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function Nye(t,e,r,a,i,f){let d=0,h=1<<a,{dialect:c}=r.p.parser;e:for(;h&t[d];){let g=t[d+1];for(let O=d+3;O<g;O+=2)if((t[O+1]&h)>0){let T=t[O];if(c.allows(T)&&(e.token.value==-1||e.token.value==T||X7e(T,e.token.value,i,f))){e.acceptToken(T);break}}let v=e.next,y=0,b=t[d+2];if(e.next<0&&b>y&&t[g+b*3-3]==65535){d=t[g+b*3-1];continue e}for(;y<b;){let O=y+b>>1,T=g+O+(O<<1),k=t[T],w=t[T+1]||65536;if(v<k)b=O;else if(v>=w)y=O+1;else{d=t[T+2],e.advance();continue e}}break}}function Vhe(t,e,r){for(let a=e,i;(i=t[a])!=65535;a++)if(i==r)return a-e;return-1}function X7e(t,e,r,a){let i=Vhe(r,a,e);return i<0||Vhe(r,a,t)<i}const ug=typeof process<"u"&&{}&&/\bparse\b/.test({}.LOG);let doe=null;function zhe(t,e,r){let a=t.cursor(Sl.IncludeAnonymous);for(a.moveTo(e);;)if(!(r<0?a.childBefore(e):a.childAfter(e)))for(;;){if((r<0?a.to<e:a.from>e)&&!a.type.isError)return r<0?Math.max(0,Math.min(a.to-1,e-25)):Math.min(t.length,Math.max(a.from+1,e+25));if(r<0?a.prevSibling():a.nextSibling())break;if(!a.parent())return r<0?0:t.length}}let G7e=class{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?zhe(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?zhe(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let a=this.trees[r],i=this.index[r];if(i==a.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let f=a.children[i],d=this.start[r]+a.positions[i];if(d>e)return this.nextStart=d,null;if(f instanceof zi){if(d==e){if(d<this.safeFrom)return null;let h=d+f.length;if(h<=this.safeTo){let c=f.prop(ha.lookAhead);if(!c||h+c<this.fragment.to)return f}}this.index[r]++,d+f.length>=Math.max(this.safeFrom,e)&&(this.trees.push(f),this.start.push(d),this.index.push(0))}else this.index[r]++,this.nextStart=d+f.length}}};class j7e{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(a=>new tH)}getActions(e){let r=0,a=null,{parser:i}=e.p,{tokenizers:f}=i,d=i.stateSlot(e.state,3),h=e.curContext?e.curContext.hash:0,c=0;for(let g=0;g<f.length;g++){if(!(1<<g&d))continue;let v=f[g],y=this.tokens[g];if(!(a&&!v.fallback)&&((v.contextual||y.start!=e.pos||y.mask!=d||y.context!=h)&&(this.updateCachedToken(y,v,e),y.mask=d,y.context=h),y.lookAhead>y.end+25&&(c=Math.max(y.lookAhead,c)),y.value!=0)){let b=r;if(y.extended>-1&&(r=this.addActions(e,y.extended,y.end,r)),r=this.addActions(e,y.value,y.end,r),!v.extend&&(a=y,r>b))break}}for(;this.actions.length>r;)this.actions.pop();return c&&e.setLookAhead(c),!a&&e.pos==this.stream.end&&(a=new tH,a.value=e.p.parser.eofTerm,a.start=a.end=e.pos,r=this.addActions(e,a.value,a.end,r)),this.mainToken=a,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new tH,{pos:a,p:i}=e;return r.start=a,r.end=Math.min(a+1,i.stream.end),r.value=a==i.stream.end?i.parser.eofTerm:0,r}updateCachedToken(e,r,a){let i=this.stream.clipPos(a.pos);if(r.token(this.stream.reset(i,e),a),e.value>-1){let{parser:f}=a.p;for(let d=0;d<f.specialized.length;d++)if(f.specialized[d]==e.value){let h=f.specializers[d](this.stream.read(e.start,e.end),a);if(h>=0&&a.p.parser.dialect.allows(h>>1)){h&1?e.extended=h>>1:e.value=h>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,r,a,i){for(let f=0;f<i;f+=3)if(this.actions[f]==e)return i;return this.actions[i++]=e,this.actions[i++]=r,this.actions[i++]=a,i}addActions(e,r,a,i){let{state:f}=e,{parser:d}=e.p,{data:h}=d;for(let c=0;c<2;c++)for(let g=d.stateSlot(f,c?2:1);;g+=3){if(h[g]==65535)if(h[g+1]==1)g=bO(h,g+2);else{i==0&&h[g+1]==2&&(i=this.putAction(bO(h,g+2),r,a,i));break}h[g]==r&&(i=this.putAction(bO(h,g+1),r,a,i))}return i}}class q7e{constructor(e,r,a,i){this.parser=e,this.input=r,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Y7e(r,i),this.tokens=new j7e(e,this.stream),this.topTerm=e.top[1];let{from:f}=i[0];this.stacks=[QH.start(this,e.top[0],f)],this.fragments=a.length&&this.stream.end-f>e.bufferLength*4?new G7e(a,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,a=this.stacks=[],i,f;if(this.bigReductionCount>300&&e.length==1){let[d]=e;for(;d.forceReduce()&&d.stack.length&&d.stack[d.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let d=0;d<e.length;d++){let h=e[d];for(;;){if(this.tokens.mainToken=null,h.pos>r)a.push(h);else{if(this.advanceStack(h,a,e))continue;{i||(i=[],f=[]),i.push(h);let c=this.tokens.getMainToken(h);f.push(c.value,c.end)}}break}}if(!a.length){let d=i&&J7e(i);if(d)return ug&&console.log("Finish with "+this.stackID(d)),this.stackToTree(d);if(this.parser.strict)throw ug&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let d=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,f,a);if(d)return ug&&console.log("Force-finish "+this.stackID(d)),this.stackToTree(d.forceAll())}if(this.recovering){let d=this.recovering==1?1:this.recovering*3;if(a.length>d)for(a.sort((h,c)=>c.score-h.score);a.length>d;)a.pop();a.some(h=>h.reducePos>r)&&this.recovering--}else if(a.length>1){e:for(let d=0;d<a.length-1;d++){let h=a[d];for(let c=d+1;c<a.length;c++){let g=a[c];if(h.sameState(g)||h.buffer.length>500&&g.buffer.length>500)if((h.score-g.score||h.buffer.length-g.buffer.length)>0)a.splice(c--,1);else{a.splice(d--,1);continue e}}}a.length>12&&a.splice(12,a.length-12)}this.minStackPos=a[0].pos;for(let d=1;d<a.length;d++)a[d].pos<this.minStackPos&&(this.minStackPos=a[d].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,a){let i=e.pos,{parser:f}=this,d=ug?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let g=e.curContext&&e.curContext.tracker.strict,v=g?e.curContext.hash:0;for(let y=this.fragments.nodeAt(i);y;){let b=this.parser.nodeSet.types[y.type.id]==y.type?f.getGoto(e.state,y.type.id):-1;if(b>-1&&y.length&&(!g||(y.prop(ha.contextHash)||0)==v))return e.useNode(y,b),ug&&console.log(d+this.stackID(e)+` (via reuse of ${f.getName(y.type.id)})`),!0;if(!(y instanceof zi)||y.children.length==0||y.positions[0]>0)break;let O=y.children[0];if(O instanceof zi&&y.positions[0]==0)y=O;else break}}let h=f.stateSlot(e.state,4);if(h>0)return e.reduce(h),ug&&console.log(d+this.stackID(e)+` (via always-reduce ${f.getName(h&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let g=0;g<c.length;){let v=c[g++],y=c[g++],b=c[g++],O=g==c.length||!a,T=O?e:e.split(),k=this.tokens.mainToken;if(T.apply(v,y,k?k.start:T.pos,b),ug&&console.log(d+this.stackID(T)+` (via ${v&65536?`reduce of ${f.getName(v&65535)}`:"shift"} for ${f.getName(y)} @ ${i}${T==e?"":", split"})`),O)return!0;T.pos>i?r.push(T):a.push(T)}return!1}advanceFully(e,r){let a=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>a)return Zhe(e,r),!0}}runRecovery(e,r,a){let i=null,f=!1;for(let d=0;d<e.length;d++){let h=e[d],c=r[d<<1],g=r[(d<<1)+1],v=ug?this.stackID(h)+" -> ":"";if(h.deadEnd&&(f||(f=!0,h.restart(),ug&&console.log(v+this.stackID(h)+" (restarted)"),this.advanceFully(h,a))))continue;let y=h.split(),b=v;for(let O=0;y.forceReduce()&&O<10&&(ug&&console.log(b+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,a));O++)ug&&(b=this.stackID(y)+" -> ");for(let O of h.recoverByInsert(c))ug&&console.log(v+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,a);this.stream.end>h.pos?(g==h.pos&&(g++,c=0),h.recoverByDelete(c,g),ug&&console.log(v+this.stackID(h)+` (via recover-delete ${this.parser.getName(c)})`),Zhe(h,a)):(!i||i.score<h.score)&&(i=h)}return i}stackToTree(e){return e.close(),zi.build({buffer:FH.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(doe||(doe=new WeakMap)).get(e);return r||doe.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function Zhe(t,e){for(let r=0;r<e.length;r++){let a=e[r];if(a.pos==t.pos&&a.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class K7e{constructor(e,r,a){this.source=e,this.flags=r,this.disabled=a}allows(e){return!this.disabled||this.disabled[e]==0}}const hoe=t=>t;class nle{constructor(e){this.start=e.start,this.shift=e.shift||hoe,this.reduce=e.reduce||hoe,this.reuse=e.reuse||hoe,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class IS extends $ie{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let h=0;h<e.repeatNodeCount;h++)r.push("");let a=Object.keys(e.topRules).map(h=>e.topRules[h][1]),i=[];for(let h=0;h<r.length;h++)i.push([]);function f(h,c,g){i[h].push([c,c.deserialize(String(g))])}if(e.nodeProps)for(let h of e.nodeProps){let c=h[0];typeof c=="string"&&(c=ha[c]);for(let g=1;g<h.length;){let v=h[g++];if(v>=0)f(v,c,h[g++]);else{let y=h[g+-v];for(let b=-v;b>0;b--)f(h[g++],c,y);g++}}}this.nodeSet=new KD(r.map((h,c)=>Zu.define({name:c>=this.minRepeatTerm?void 0:h,id:c,props:i[c],top:a.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=i0e;let d=ZR(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let h=0;h<this.specializerSpecs.length;h++)this.specialized[h]=this.specializerSpecs[h].term;this.specializers=this.specializerSpecs.map(Hhe),this.states=ZR(e.states,Uint32Array),this.data=ZR(e.stateData),this.goto=ZR(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(h=>typeof h=="number"?new i8(d,h):h),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,a){let i=new q7e(this,e,r,a);for(let f of this.wrappers)i=f(i,e,r,a);return i}getGoto(e,r,a=!1){let i=this.goto;if(r>=i[0])return-1;for(let f=i[r+1];;){let d=i[f++],h=d&1,c=i[f++];if(h&&a)return c;for(let g=f+(d>>1);f<g;f++)if(i[f]==e)return c;if(h)return-1}}hasAction(e,r){let a=this.data;for(let i=0;i<2;i++)for(let f=this.stateSlot(e,i?2:1),d;;f+=3){if((d=a[f])==65535)if(a[f+1]==1)d=a[f=bO(a,f+2)];else{if(a[f+1]==2)return bO(a,f+2);break}if(d==r||d==0)return bO(a,f+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,a=>a==r?!0:null)}allActions(e,r){let a=this.stateSlot(e,4),i=a?r(a):void 0;for(let f=this.stateSlot(e,1);i==null;f+=3){if(this.data[f]==65535)if(this.data[f+1]==1)f=bO(this.data,f+2);else break;i=r(bO(this.data,f+1))}return i}nextStates(e){let r=[];for(let a=this.stateSlot(e,1);;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=bO(this.data,a+2);else break;if(!(this.data[a+2]&1)){let i=this.data[a+1];r.some((f,d)=>d&1&&f==i)||r.push(this.data[a],i)}}return r}configure(e){let r=Object.assign(Object.create(IS.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let a=this.topRules[e.top];if(!a)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=a}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(a=>{let i=e.tokenizers.find(f=>f.from==a);return i?i.to:a})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((a,i)=>{let f=e.specializers.find(h=>h.from==a.external);if(!f)return a;let d=Object.assign(Object.assign({},a),{external:f.to});return r.specializers[i]=Hhe(d),d})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),a=r.map(()=>!1);if(e)for(let f of e.split(" ")){let d=r.indexOf(f);d>=0&&(a[d]=!0)}let i=null;for(let f=0;f<r.length;f++)if(!a[f])for(let d=this.dialects[r[f]],h;(h=this.data[d++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[h]=1;return new K7e(e,a,i)}static deserialize(e){return new IS(e)}}function bO(t,e){return t[e]|t[e+1]<<16}function J7e(t){let e=null;for(let r of t){let a=r.p.stoppedAt;(r.pos==r.p.stream.end||a!=null&&r.pos>a)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function Hhe(t){if(t.external){let e=t.extend?1:0;return(r,a)=>t.external(r,a)<<1|e}return t.get}const e6e=1,Bye=201,Qye=202,t6e=203,Uhe=204,n6e=205,r6e=206,o6e=207,s6e=2,a6e=208,i6e=209,l6e=3,c6e=210,u6e=211,f6e=4,d6e=212,h6e=213,m6e=5,g6e=214,p6e=26,v6e=27,y6e=51,b6e=52,O6e=57,x6e=58,S6e=59,w6e=61,C6e=62,T6e=63,k6e=64,A6e=65,P6e=67,M6e=251,E6e=74,_6e=270,R6e=115,D6e=133,$6e=154,L6e=155,I6e=158,RD=10,DD=13,rle=32,UU=9,ole=35,N6e=40,B6e=46,Whe=123,Fye=39,Vye=34,Q6e=92,F6e=new Set([v6e,y6e,b6e,_6e,P6e,D6e,x6e,S6e,M6e,k6e,A6e,E6e,C6e,T6e,$6e,L6e,I6e,R6e]);function moe(t){return t==RD||t==DD}const V6e=new xh((t,e)=>{let r;if(t.next<0)t.acceptToken(r6e);else if(e.context.depth<0)moe(t.next)&&t.acceptToken(n6e,1);else if(((r=t.peek(-1))<0||moe(r))&&e.canShift(Uhe)){let a=0;for(;t.next==rle||t.next==UU;)t.advance(),a++;(t.next==RD||t.next==DD||t.next==ole)&&t.acceptToken(Uhe,-a)}else moe(t.next)&&t.acceptToken(t6e,1)},{contextual:!0}),z6e=new xh((t,e)=>{let r=e.context.depth;if(r<0)return;let a=t.peek(-1);if(a==RD||a==DD){let i=0,f=0;for(;;){if(t.next==rle)i++;else if(t.next==UU)i+=8-i%8;else break;t.advance(),f++}i!=r&&t.next!=RD&&t.next!=DD&&t.next!=ole&&(i<r?t.acceptToken(Qye,-f):t.acceptToken(Bye))}});function rae(t,e){this.parent=t,this.depth=e,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)}const Z6e=new rae(null,0);function H6e(t){let e=0;for(let r=0;r<t.length;r++)e+=t.charCodeAt(r)==UU?8-e%8:1;return e}const U6e=new nle({start:Z6e,reduce(t,e){return t.depth<0&&F6e.has(e)?t.parent:t},shift(t,e,r,a){return e==Bye?new rae(t,H6e(a.read(a.pos,r.pos))):e==Qye?t.parent:e==p6e||e==O6e||e==w6e?new rae(t,-1):t},hash(t){return t.hash}}),W6e=new xh(t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let r=t.peek(e);if(!(r==rle||r==UU)){r!=N6e&&r!=B6e&&r!=RD&&r!=DD&&r!=ole&&t.acceptToken(e6e);return}}});function WU(t,e,r,a,i){return new xh(f=>{let d=f.pos;for(;!(f.next<0);)if(f.next==Whe)if(f.peek(1)==Whe)f.advance(2);else{if(f.pos==d){f.acceptToken(a,1);return}break}else if(f.next==Q6e)f.advance(),f.next>=0&&f.advance();else if(f.next==t&&(e==1||f.peek(1)==t&&f.peek(2)==t)){if(f.pos==d){f.acceptToken(i,e);return}break}else f.advance();f.pos>d&&f.acceptToken(r)})}const Y6e=WU(Fye,1,o6e,s6e,a6e),X6e=WU(Vye,1,i6e,l6e,c6e),G6e=WU(Fye,3,u6e,f6e,d6e),j6e=WU(Vye,3,h6e,m6e,g6e),q6e=QS({'async "*" "**" FormatConversion FormatSpec':Qt.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":Qt.controlKeyword,"in not and or is del":Qt.operatorKeyword,"from def class global nonlocal lambda":Qt.definitionKeyword,import:Qt.moduleKeyword,"with as print":Qt.keyword,Boolean:Qt.bool,None:Qt.null,VariableName:Qt.variableName,"CallExpression/VariableName":Qt.function(Qt.variableName),"FunctionDefinition/VariableName":Qt.function(Qt.definition(Qt.variableName)),"ClassDefinition/VariableName":Qt.definition(Qt.className),PropertyName:Qt.propertyName,"CallExpression/MemberExpression/PropertyName":Qt.function(Qt.propertyName),Comment:Qt.lineComment,Number:Qt.number,String:Qt.string,FormatString:Qt.special(Qt.string),UpdateOp:Qt.updateOperator,"ArithOp!":Qt.arithmeticOperator,BitOp:Qt.bitwiseOperator,CompareOp:Qt.compareOperator,AssignOp:Qt.definitionOperator,Ellipsis:Qt.punctuation,At:Qt.meta,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace,".":Qt.derefOperator,", ;":Qt.separator}),K6e={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:168,True:170,False:170,del:184,pass:188,break:192,continue:196,return:200,raise:208,import:212,as:214,global:218,nonlocal:220,assert:224,type:229,elif:242,while:246,try:252,except:254,finally:256,with:260,def:264,class:274,match:285,case:291},J6e=IS.deserialize({version:14,states:"#&jO`Q#yOOP$bOSOOO%kQ&nO'#HcOOQS'#Cq'#CqOOQS'#Cr'#CrO'ZQ#xO'#CpO(|Q&nO'#HbOOQS'#Hc'#HcOOQS'#DW'#DWOOQS'#Hb'#HbO)jQ#xO'#DaO)}Q#xO'#DhO*_Q#xO'#DlOOQS'#Dw'#DwO*rO,UO'#DwO*zO7[O'#DwO+SOWO'#DxO+_O`O'#DxO+jOpO'#DxO+uO!bO'#DxO-wQ&nO'#HSOOQS'#HS'#HSO'ZQ#xO'#HRO/ZQ&nO'#HROOQS'#Ee'#EeO/rQ#xO'#EfOOQS'#HQ'#HQO/|Q#xO'#HPOOQV'#HP'#HPO0XQ#xO'#F]OOQS'#Ge'#GeO0^Q#xO'#F[OOQV'#IY'#IYOOQV'#HO'#HOOOQV'#Ft'#FtQ`Q#yOOO'ZQ#xO'#CsO0lQ#xO'#DPO0sQ#xO'#DTO1RQ#xO'#HgO1cQ&nO'#EYO'ZQ#xO'#EZOOQS'#E]'#E]OOQS'#E_'#E_OOQS'#Ea'#EaO1wQ#xO'#EcO2_Q#xO'#EgO0XQ#xO'#EiO2rQ&nO'#EiO0XQ#xO'#ElO/rQ#xO'#EoO0XQ#xO'#EqO/rQ#xO'#EwO/rQ#xO'#EzO2}Q#xO'#E|O3UQ#xO'#FRO3aQ#xO'#E}O/rQ#xO'#FRO0XQ#xO'#FTO0XQ#xO'#FYO3fQ#xO'#F_P3mO#xO'#G}POOO)CBq)CBqOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO3xQ#xO'#DqOOQS,5:[,5:[O4]Q#xO'#HqOOQS,5:_,5:_O4jQMlO,5:_O4oQ&nO,59[O0lQ#xO,59dO0lQ#xO,59dO0lQ#xO,59dO7_Q#xO,59dO7dQ#xO,59dO7kQ#xO,59lO7rQ#xO'#HbO8xQ#xO'#HaOOQS'#Ha'#HaOOQS'#D^'#D^O9aQ#xO,59cO'ZQ#xO,59cO9oQ#xO,59cOOQS,59{,59{O9tQ#xO,5:TO'ZQ#xO,5:TOOQS,5:S,5:SO:SQ#xO,5:SO:XQ#xO,5:ZO'ZQ#xO,5:ZO'ZQ#xO,5:XOOQS,5:W,5:WO:jQ#xO,5:WO:oQ#xO,5:YOOOO'#F|'#F|O:tO,UO,5:cOOQS,5:c,5:cOOOO'#F}'#F}O:|O7[O,5:cO;UQ#xO'#DyOOOW'#GO'#GOO;fOWO,5:dOOQS,5:d,5:dO;UQ#xO'#D}OOO`'#GR'#GRO;qO`O,5:dO;UQ#xO'#EOOOOp'#GS'#GSO;|OpO,5:dO;UQ#xO'#EPOOO!b'#GT'#GTO<XO!bO,5:dOOQS'#GU'#GUO<dQ&nO,5:lO?UQ&nO,5=mO?oQ!LUO,5=mO@`Q&nO,5=mOOQS,5;Q,5;QO@wQ#yO'#G_OBZQ#xO,5;aOOQV,5=k,5=kOBfQ&nO'#ITOB}Q#xO,5;wOOQS-E:c-E:cOOQV,5;v,5;vO3[Q#xO'#FTOOQV-E9r-E9rOCVQ&nO,59_OE^Q&nO,59kOEwQ#xO'#HdOFSQ#xO'#HdO0XQ#xO'#HdOF_Q#xO'#DVOFgQ#xO,59oOFlQ#xO'#HhO'ZQ#xO'#HhO/rQ#xO,5>ROOQS,5>R,5>RO/rQ#xO'#EUOOQS'#EV'#EVOGZQ#xO'#GWOGkQ#xO,59OOGkQ#xO,59OO)pQ#xO,5:rOGyQ&nO'#HjOOQS,5:u,5:uOOQS,5:},5:}OH^Q#xO,5;ROHoQ#xO,5;TOOQS'#GZ'#GZOH}Q&nO,5;TOI]Q#xO,5;TOIbQ#xO'#IWOOQS,5;W,5;WOIpQ#xO'#ISOOQS,5;Z,5;ZOJRQ#xO,5;]O3aQ#xO,5;cO3aQ#xO,5;fOJZQ&nO'#IZO'ZQ#xO'#IZOJeQ#xO,5;hO2}Q#xO,5;hO/rQ#xO,5;mO0XQ#xO,5;oOJjQ#yO'#ExOKvQ#{O,5;iO! [Q#xO'#I[O3aQ#xO,5;mO! gQ#xO,5;oO! oQ#xO,5;tO! zQ&nO,5;yO'ZQ#xO,5;yPOOO,5=i,5=iP!!ROSO,5=iP!!WO#xO,5=iO!${Q&nO1G.lO!%SQ&nO1G.lO!'sQ&nO1G.lO!'}Q&nO1G.lO!*hQ&nO1G.lO!*{Q&nO1G.lO!+`Q#xO'#HpO!+nQ&nO'#HSO/rQ#xO'#HpO!+xQ#xO'#HoOOQS,5:],5:]O!,QQ#xO,5:]O!,VQ#xO'#HrO!,bQ#xO'#HrO!,uQ#xO,5>]OOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-uQ&nO1G/OO!-|Q&nO1G/OO0lQ#xO1G/OO!.iQ#xO1G/WOOQS'#D]'#D]O/rQ#xO,59vOOQS1G.}1G.}O!.pQ#xO1G/gO!/QQ#xO1G/gO!/YQ#xO1G/hO'ZQ#xO'#HiO!/_Q#xO'#HiO!/dQ&nO1G.}O!/tQ#xO,59kO!0zQ#xO,5>XO!1[Q#xO,5>XO!1dQ#xO1G/oO!1iQ&nO1G/oOOQS1G/n1G/nO!1yQ#xO,5>SO!2pQ#xO,5>SO/rQ#xO1G/sO!3_Q#xO1G/uO!3dQ&nO1G/uO!3tQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E9z-E9zOOQS1G/}1G/}OOOO-E9{-E9{O!4UQ#xO'#H|O/rQ#xO'#H|O!4dQ#xO,5:eOOOW-E9|-E9|OOQS1G0O1G0OO!4oQ#xO,5:iOOO`-E:P-E:PO!4zQ#xO,5:jOOOp-E:Q-E:QO!5VQ#xO,5:kOOO!b-E:R-E:ROOQS-E:S-E:SO!5bQ!LUO1G3XO!6RQ&nO1G3XO'ZQ#xO,5<qOOQS,5<q,5<qOOQS-E:T-E:TOOQS,5<y,5<yOOQS-E:]-E:]OOQV1G0{1G0{O0XQ#xO'#GYO!6jQ&nO,5>oOOQS1G1c1G1cO!7RQ#xO1G1cOOQS'#DX'#DXO/rQ#xO,5>OOOQS,5>O,5>OO!7WQ#xO'#FuO!7cQ#xO,59qO!7kQ#xO1G/ZO!7uQ&nO,5>SOOQS1G3m1G3mOOQS,5:p,5:pO!8fQ#xO'#HROOQS,5<r,5<rOOQS-E:U-E:UO!8wQ#xO1G.jOOQS1G0^1G0^O!9VQ#xO,5>UO!9gQ#xO,5>UO/rQ#xO1G0mO/rQ#xO1G0mO0XQ#xO1G0oOOQS-E:X-E:XO!9xQ#xO1G0oO!:TQ#xO1G0oO!:YQ#xO,5>rO!:hQ#xO,5>rO!:vQ#xO,5>nO!;^Q#xO,5>nO!;oQ#xO'#EsO/rQ#xO1G0wO!;zQ#xO1G0wO!<PQ#{O1G0}O!?bQ#{O1G1QO!BpQ#xO,5>uO!BzQ#xO,5>uO!CSQ&nO,5>uO/rQ#xO1G1SO!C^Q#xO1G1SO3aQ#xO1G1XO! gQ#xO1G1ZOOQV,5;d,5;dO!CcQ#zO,5;dO!ChQ#{O1G1TO!F|Q#xO'#GbO3aQ#xO1G1TO3aQ#xO1G1TO!G^Q#xO,5>vO!GkQ#xO,5>vO0XQ#xO,5>vOOQV1G1X1G1XO!GsQ#xO'#FVO!HUQMlO1G1ZO!H^Q#xO1G1ZOOQV1G1`1G1`O3aQ#xO1G1`O!HcQ#xO1G1`O!HkQ#xO'#FaOOQV1G1e1G1eO! zQ&nO1G1ePOOO1G3T1G3TP!HpOSO1G3TOOQS,5>[,5>[OOQS'#Dr'#DrO/rQ#xO,5>[O!HuQ#xO,5>ZO!IYQ#xO,5>ZOOQS1G/w1G/wO!IbQ#xO,5>^O!IrQ#xO,5>^O!IzQ#xO,5>^O!J_Q#xO,5>^O!JoQ#xO,5>^OOQS1G3w1G3wOOQS7+$j7+$jO!7kQ#xO7+$rO!LbQ#xO1G/OO!LiQ#xO1G/OOOQS1G/b1G/bOOQS,5<c,5<cO'ZQ#xO,5<cOOQS7+%R7+%RO!LpQ#xO7+%ROOQS-E9u-E9uOOQS7+%S7+%SO!MQQ#xO,5>TO'ZQ#xO,5>TOOQS7+$i7+$iO!MVQ#xO7+%RO!M_Q#xO7+%SO!MdQ#xO1G3sOOQS7+%Z7+%ZO!MtQ#xO1G3sO!M|Q#xO7+%ZOOQS,5<b,5<bO'ZQ#xO,5<bO!NRQ#xO1G3nOOQS-E9t-E9tO!NxQ#xO7+%_OOQS7+%a7+%aO# WQ#xO1G3nO# uQ#xO7+%aO# zQ#xO1G3tO#![Q#xO1G3tO#!dQ#xO7+%_O#!iQ#xO,5>hO##PQ#xO,5>hO##PQ#xO,5>hO##_O$ISO'#D{O##jO#tO'#H}OOOW1G0P1G0PO##oQ#xO1G0POOO`1G0T1G0TO##wQ#xO1G0TOOOp1G0U1G0UO#$PQ#xO1G0UOOO!b1G0V1G0VO#$XQ#xO1G0VO#$aQ!LUO7+(sO#%QQ&nO1G2]P#%kQ#xO'#GVOOQS,5<t,5<tOOQS-E:W-E:WOOQS7+&}7+&}OOQS1G3j1G3jOOQS,5<a,5<aOOQS-E9s-E9sOOQS7+$u7+$uO#%xQ#xO,5=mO#&cQ#xO,5=mO#&tQ&nO,5<dO#'XQ#xO1G3pOOQS-E9v-E9vOOQS7+&X7+&XO#'iQ#xO7+&XOOQS7+&Z7+&ZO#'wQ#xO'#IVO0XQ#xO'#IUO#(]Q#xO7+&ZOOQS,5<w,5<wO#(hQ#xO1G4^OOQS-E:Z-E:ZOOQS,5<s,5<sO#(vQ#xO1G4YOOQS-E:V-E:VO0XQ#xO'#EtO#)^Q#xO'#EtO#)iQ#xO'#IXO#)qQ#xO,5;_OOQS7+&c7+&cO/rQ#xO7+&cO#)vQ#{O7+&iO!GPQ#xO'#G`O3aQ#xO7+&iO3aQ#xO7+&lO#-XQ&nO,5<{O'ZQ#xO,5<{O#-cQ#xO1G4aOOQS-E:_-E:_O#-mQ#xO1G4aO3aQ#xO7+&nO/rQ#xO7+&nOOQV7+&s7+&sO!HUQMlO7+&uO!H^Q#xO7+&uO`Q#yO1G1OOOQV-E:`-E:`O3aQ#xO7+&oO3aQ#xO7+&oOOQV,5<|,5<|O#-uQ#xO,5<|O!GPQ#xO,5<|OOQV7+&o7+&oO#.QQ#{O7+&oO#1`Q#xO,5<}O#1kQ#xO1G4bOOQS-E:a-E:aO#1xQ#xO1G4bO#2QQ#xO'#I^O#2`Q#xO'#I^O0XQ#xO'#I^OOQS'#I^'#I^O#2kQ#xO'#I]OOQS,5;q,5;qO#2sQ#xO,5;qO/rQ#xO'#FXOOQV7+&u7+&uO3aQ#xO7+&uOOQV7+&z7+&zO3aQ#xO7+&zO#2xQ#zO,5;{OOQV7+'P7+'PPOOO7+(o7+(oO#2}Q#xO1G3vOOQS,5<f,5<fO#3]Q#xO1G3uOOQS-E9x-E9xO#3pQ#xO,5<gO#3{Q#xO,5<gO#4`Q#xO1G3xOOQS-E9y-E9yO#4pQ#xO1G3xO#4xQ#xO1G3xO#5YQ#xO1G3xO#4pQ#xO1G3xOOQS<<H^<<H^O#5eQ&nO1G1}OOQS<<Hm<<HmP#5rQ#xO'#FwO7kQ#xO1G3oO#6PQ#xO1G3oO#6UQ#xO<<HmOOQS<<Hn<<HnO#6fQ#xO7+)_OOQS<<Hu<<HuO#6vQ&nO1G1|P#7gQ#xO'#FvO#7tQ#xO7+)`O#8UQ#xO7+)`O#8^Q#xO<<HyO#8cQ#xO7+)YOOQS<<H{<<H{O#9YQ#xO,5<eO'ZQ#xO,5<eOOQS-E9w-E9wOOQS<<Hy<<HyOOQS,5<k,5<kO/rQ#xO,5<kO#9_Q#xO1G4SOOQS-E9}-E9}O#9uQ#xO1G4SO;UQ#xO'#D|OOOO'#GQ'#GQO#:TO$ISO,5:gOOO#l,5>i,5>iOOOW7+%k7+%kOOO`7+%o7+%oOOOp7+%p7+%pOOO!b7+%q7+%qO#:`Q#xO1G3XO#:yQ#xO1G3XP'ZQ#xO'#FxO/rQ#xO<<IsO#;[Q#xO,5>qO#;mQ#xO,5>qO0XQ#xO,5>qO#<OQ#xO,5>pOOQS<<Iu<<IuP0XQ#xO'#G]P/rQ#xO'#GXOOQS,5;`,5;`O#<TQ#xO,5>sO#<cQ#xO,5>sOOQS1G0y1G0yOOQS<<I}<<I}OOQV-E:^-E:^O3aQ#xO<<JTOOQV,5<z,5<zO3aQ#xO,5<zOOQV<<JT<<JTOOQV<<JW<<JWO#<kQ&nO1G2gP#<uQ#xO'#GaO#<|Q#xO7+){O#=WQ#{O<<JYO3aQ#xO<<JYOOQV<<Ja<<JaO3aQ#xO<<JaO!HUQMlO<<JaO#@fQ#{O7+&jOOQV<<JZ<<JZO#@pQ#{O<<JZOOQV1G2h1G2hO0XQ#xO1G2hO#DOQ#xO1G2hO3aQ#xO<<JZO0XQ#xO1G2iP/rQ#xO'#GcO#DZQ#xO7+)|O#DhQ#xO7+)|OOQS'#FW'#FWO/rQ#xO,5>xO#DpQ#xO,5>xOOQS,5>x,5>xO#D{Q#xO,5>wO#E^Q#xO,5>wOOQS1G1]1G1]OOQS,5;s,5;sOOQV<<Jf<<JfO#EfQ#xO1G1gOOQS7+)b7+)bP#EkQ#xO'#FzO#E{Q#xO1G2RO#F`Q#xO1G2RO#FpQ#xO1G2RP#F{Q#xO'#F{O#GYQ#xO7+)dO#GjQ#xO7+)dO#GjQ#xO7+)dO#GrQ#xO7+)dO#HSQ#xO7+)ZO7kQ#xO7+)ZOOQSAN>XAN>XO#HmQ#xO<<LzOOQSAN>eAN>eO/rQ#xO1G2PO#H}Q&nO1G2PP#IXQ#xO'#FyOOQS1G2V1G2VP#IfQ#xO'#GPO#IsQ#xO7+)nO#JZQ#xO,5:hOOOO-E:O-E:OO#JfQ#xO7+(sOOQSAN?_AN?_O#KPQ#xO,5<vO#KeQ#xO1G4]OOQS-E:Y-E:YO#KvQ#xO1G4]OOQS1G4[1G4[OOQS,5<x,5<xO#LXQ#xO1G4_OOQS-E:[-E:[OOQVAN?oAN?oOOQV1G2f1G2fO3aQ#xOAN?tO#LgQ#{OAN?tOOQVAN?{AN?{O3aQ#xOAN?{OOQV<<JU<<JUO3aQ#xOAN?uO3aQ#xO7+(SOOQV7+(S7+(SO0XQ#xO7+(SOOQVAN?uAN?uOOQS7+(T7+(TO$ uQ#xO<<MhOOQS1G4d1G4dO/rQ#xO1G4dOOQS,5=O,5=OO$!SQ#xO1G4cOOQS-E:b-E:bOOQU'#Gf'#GfO$!eQ#zO7+'RO$!pQ#xO'#FbO$#hQ#xO7+'mO$#xQ#xO7+'mOOQS7+'m7+'mO$$TQ#xO<<MOO$$eQ#xO<<MOO$$eQ#xO<<MOO$$mQ#xO'#HkOOQS<<Lu<<LuO$$wQ#xO<<LuOOQS7+'k7+'kOOOO1G0S1G0SO$%bQ#xO1G0SO0XQ#xO1G2bP0XQ#xO'#G[O$%jQ#xO7+)wO$%{Q#xO7+)wP!;oQ#xO'#G^OOQVG25`G25`O3aQ#xOG25`OOQVG25gG25gOOQVG25aG25aOOQV<<Kn<<KnO3aQ#xO<<KnOOQS7+*O7+*OP$&^Q#xO'#GdOOQU-E:d-E:dOOQV<<Jm<<JmO$'QQ&nO'#FdOOQS'#Ff'#FfO$'bQ#xO'#FeO$(SQ#xO'#FeOOQS'#Fe'#FeO$(XQ#xO'#I`O$!pQ#xO'#FlO$!pQ#xO'#FlO$(pQ#xO'#FmO$!pQ#xO'#FnO$(wQ#xO'#IaOOQS'#Ia'#IaO$)fQ#xO,5;|OOQS<<KX<<KXO$)nQ#xO<<KXO$*OQ#xOANBjO$*`Q#xOANBjO$*hQ#xO'#HlOOQS'#Hl'#HlO0sQ#xO'#DeO$+RQ#xO,5>VOOQSANBaANBaOOOO7+%n7+%nOOQS7+'|7+'|O$+jQ#xO<<McOOQVLD*zLD*zOOQVANAYANAYO4jQMlO'#GhO$+{Q&nO,5<VO$!pQ#xO'#FpOOQS,5<Z,5<ZOOQS'#Fg'#FgO$,mQ#xO,5<PO$,rQ#xO,5<POOQS'#Fj'#FjO$!pQ#xO'#GgO$-dQ#xO,5<TO$.OQ#xO,5>zO$.`Q#xO,5>zO0XQ#xO,5<SO$.qQ#xO,5<WO$.vQ#xO,5<WO$!pQ#xO'#IbO$.{Q#xO'#IbO$/QQ#xO,5<XOOQS,5<Y,5<YO'ZQ#xO'#FsOOQU1G1h1G1hO3aQ#xO1G1hOOQSAN@sAN@sO$/VQ#xOG28UO$/gQ#xO,5:POOQS1G3q1G3qOOQS,5=S,5=SOOQS-E:f-E:fO$/lQ&nO'#FdO$/sQ#xO'#IcO$0RQ#xO'#IcO$0ZQ#xO,5<[OOQS1G1k1G1kO$0`Q#xO1G1kO$0eQ#xO,5=ROOQS-E:e-E:eO$1PQ#xO,5=VO$1hQ#xO1G4fOOQS-E:i-E:iOOQS1G1n1G1nOOQS1G1r1G1rO$1xQ#xO,5>|O$!pQ#xO,5>|OOQS1G1s1G1sO$2WQ&nO,5<_OOQU7+'S7+'SO$$mQ#xO1G/kO$!pQ#xO,5<]O$2_Q#xO,5>}O$2fQ#xO,5>}OOQS1G1v1G1vOOQS7+'V7+'VP$!pQ#xO'#GkO$2nQ#xO1G4hO$2xQ#xO1G4hO$3QQ#xO1G4hOOQS7+%V7+%VO$3`Q#xO1G1wO$3nQ&nO'#FdO$3uQ#xO,5=UOOQS,5=U,5=UO$4TQ#xO1G4iOOQS-E:h-E:hO$!pQ#xO,5=TO$4[Q#xO,5=TO$4aQ#xO7+*SOOQS-E:g-E:gO$4kQ#xO7+*SO$!pQ#xO,5<^P$!pQ#xO'#GjO$4sQ#xO1G2oO$!pQ#xO1G2oP$5RQ#xO'#GiO$5YQ#xO<<MnO$5dQ#xO1G1xO$5rQ#xO7+(ZO7kQ#xO'#DPO7kQ#xO,59dO7kQ#xO,59dO7kQ#xO,59dO$6QQ&nO,5=mO7kQ#xO1G/OO/rQ#xO1G/ZO/rQ#xO7+$rP$6eQ#xO'#GVO'ZQ#xO'#HRO$6rQ#xO,59dO$6wQ#xO,59dO$7OQ#xO,59oO$7TQ#xO1G/WO0sQ#xO'#DTO7kQ#xO,59l",stateData:"$7f~O%pOS%eOSUOS%dPQ~OPiOXfOhtOjYOquOu!UOxvO!RwO!S!QO!V!XO!W!WO!ZZO!_[O!jeO!ueO!veO!weO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#o!VO#r!YO#v!ZO#x![O#}!]O$QmO$S!^O%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O%d!_O~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%w!aO%x!bO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fO~Om&VXn&VXo&VXp&VXq&VXr&VXu&VX|&VX}&VX!{&VX#j&VX%c&VX%f&VX&X&VXi&VX!V&VX!W&VX&Y&VX!Y&VX!^&VX!S&VX#_&VXv&VX!n&VX~P$gOhtOjYO!ZZO!_[O!jeO!ueO!veO!weO%|RO%}RO&RSO&SWO&h]O&i^O&l_O&o`O&saO&tbO&ucO~O|&UX}&UX#j&UX%c&UX%f&UX&X&UX~Om!uOn!vOo!tOp!tOq!wOr!xOu!yO!{&UX~P(hOX#POi#ROq0zOx1YO!RwO~P'ZOX#TOq0zOx1YO!Y#UO~P'ZOX#XOc#YOq0zOx1YO!^#ZO~P'ZO&j#^O&k#`O~O&m#aO&n#`O~OQ#cO%g#dO%h#fO~OR#gO%i#hO%j#fO~OS#jO%k#kO%l#fO~OT#mO%m#nO%n#fO~OX%vXa%vXc%vXj%vXm%vXn%vXo%vXp%vXq%vXr%vXu%vX|%vX!Z%vX!h%vX%w%vX%x%vX%y%vX%z%vX%{%vX%|%vX%}%vX&O%vX&P%vX&Q%vXi%vX!V%vX!W%vX~O&h]O&i^O&l_O&o`O&saO&tbO&ucO}%vX!{%vX#j%vX%c%vX%f%vX&X%vX&Y%vX!Y%vX!^%vX!S%vX#_%vXv%vX!n%vX~P,QO|#sO}%uX!{%uX#j%uX%c%uX%f%uX&X%uX~Oq0zOx1YO~P'ZO#j#vO%c#xO%f#xO~O&SWO~O!V#}O#x![O#}!]O$QmO~OquO~P'ZOX$SOc$TO&SWO}yP~OX$XOq0zOx1YO!S$YO~P'ZO}$[O!{$aO&X$]O#j!|X%c!|X%f!|X~OX$XOq0zOx1YO#j#VX%c#VX%f#VX~P'ZOq0zOx1YO#j#ZX%c#ZX%f#ZX~P'ZO!h$gO!u$gO&SWO~OX$rO~P'ZO!W$tO#v$uO#x$vO~O}$wO~OX%OO~P'ZOU%QO%c%PO%p%RO~OX%[Oc%[Oi%^Oq0zOx1YO~P'ZOq0zOx1YO}%aO~P'ZO&g%cO~Oc!gOj!nO!Z!pO!h!rOXdaadamdandaodapdaqdardauda|da}da!{da#jda%cda%fda%wda%xda%yda%zda%{da%|da%}da&Oda&Pda&Qda&Xdaida!Vda!Wda&Yda!Yda!^da!Sda#_davda!nda~Op%hO~Oq%hO~P'ZOq0zO~P'ZOm0|On0}Oo0{Op0{Oq1UOr1VOu1ZOi&UX!V&UX!W&UX&Y&UX!Y&UX!^&UX!S&UX#_&UX!n&UX~P(hO&Y%jOi&TX|&TX!V&TX!W&TX!Y&TX}&TX~Oi%lO|%mO!V%qO!W%pO~Oi%lO~O|%tO!V%qO!W%pO!Y&aX~O!Y%xO~O|%yO}%{O!V%qO!W%pO!^&[X~O!^&PO~O!^&QO~O&j#^O&k&SO~O&m#aO&n&SO~OX&VOq0zOx1YO!RwO~P'ZOQ#cO%g#dO%h&YO~OR#gO%i#hO%j&YO~OS#jO%k#kO%l&YO~OT#mO%m#nO%n&YO~OX!taa!tac!taj!tam!tan!tao!tap!taq!tar!tau!ta|!ta}!ta!Z!ta!h!ta!{!ta#j!ta%c!ta%f!ta%w!ta%x!ta%y!ta%z!ta%{!ta%|!ta%}!ta&O!ta&P!ta&Q!ta&X!tai!ta!V!ta!W!ta&Y!ta!Y!ta!^!ta!S!ta#_!tav!ta!n!ta~P#yO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P$gOX&dOquOxvO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~P'ZO|&bO}%ua!{%ua#j%ua%c%ua%f%ua&X%ua~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO#j%RX%c%RX%f%RX~P'ZO#j#vO%c&iO%f&iO~O!h&jOj&wX%c&wX#_&wX#j&wX%f&wX#^&wX~Oj!nO%c&lO~Omgangaogapgaqgargauga|ga}ga!{ga#jga%cga%fga&Xgaiga!Vga!Wga&Yga!Yga!^ga!Sga#_gavga!nga~P$gOusa|sa}sa#jsa%csa%fsa&Xsa~Om!uOn!vOo!tOp!tOq!wOr!xO!{sa~PDuO&X&nO|&WX}&WX~O&SWO|&WX}&WX~O|&qO}yX~O}&sO~O|%yO#j&[X%c&[X%f&[Xi&[X}&[X!^&[X!n&[X&X&[X~OX1TOq0zOx1YO!RwO~P'ZO&X$]O#jWa%cWa%fWa~O|&|O#j&^X%c&^X%f&^Xp&^X~P$gO|'PO!S'OO#j#Za%c#Za%f#Za~O#_'QO#j#]a%c#]a%f#]a~O!h$gO!u$gO#^'SO&SWO~O#^'SO~O|'UO#j&zX%c&zX%f&zX~O|'WO#j&vX%c&vX%f&vX}&vX~O!Z'YO&X'ZO~O|'_Op&}X~P$gOp'bO~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f!TO%c'gO~P'ZOv'kO#s'iO#t'jOP#qaX#qah#qaj#qaq#qau#qax#qa!R#qa!S#qa!V#qa!W#qa!Z#qa!_#qa!j#qa!u#qa!v#qa!w#qa#O#qa#Q#qa#S#qa#U#qa#W#qa#[#qa#^#qa#a#qa#b#qa#d#qa#f#qa#o#qa#r#qa#v#qa#x#qa#}#qa$Q#qa$S#qa%`#qa%|#qa%}#qa&R#qa&S#qa&h#qa&i#qa&l#qa&o#qa&s#qa&t#qa&u#qa%b#qa%f#qa~O|'lO#_'nO}'OX~Oj'pO!Z'YO~Oj!nO}$wO!Z'YO~O}'vO~P$gO%c'yO~OU'zO%c'yO~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%y!cO%z!dO%{!dO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%x!bO~P!!`O%xYi~P!!`OX!fOa!fOc!gOj!nO!Z!pO!h!rO%|!eO%}!eO&O!fO&P!fO&Q!fOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~O%z!dO%{!dO~P!%ZO%zYi%{Yi~P!%ZOc!gOj!nO!Z!pO!h!rOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#jYi%cYi%fYi%wYi%xYi%yYi%zYi%{Yi%|Yi%}Yi&XYiiYi!VYi!WYi&YYi!YYi!^Yi!SYi#_YivYi!nYi~OX!fOa!fO&O!fO&P!fO&Q!fO~P!(XOXYiaYi&OYi&PYi&QYi~P!(XO!V%qO!W%pOi&dX|&dX~O&X'|O&Y'|O~P,QO|(OOi&cX~Oi(QO~O|(RO}(TO!Y&fX~Oq0zOx1YO|(RO}(UO!Y&fX~P'ZO!Y(WO~Oo!tOp!tOq!wOr!xOmliuli|li}li!{li#jli%cli%fli&Xli~On!vO~P!,zOnli~P!,zOm0|On0}Oo0{Op0{Oq1UOr1VO~Ov(YO~P!.TOX(_Oi(`Oq0zOx1YO~P'ZOi(`O|(aO~Oi(cO~O!W(eO~Oi(fO|(aO!V%qO!W%pO~P$gOm0|On0}Oo0{Op0{Oq1UOr1VOisa!Vsa!Wsa&Ysa!Ysa!^sa!Ssa#_savsa!nsa~PDuOX(_Oq0zOx1YO!Y&aa~P'ZO|(iO!Y&aa~O!Y(jO~O|(iO!V%qO!W%pO!Y&aa~P$gOX(nOq0zOx1YO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~P'ZO|(oO!^&[a#j&[a%c&[a%f&[ai&[a}&[a!n&[a&X&[a~O!^(rO~O|(oO!V%qO!W%pO!^&[a~P$gO|(uO!V%qO!W%pO!^&ba~P$gO|(xO}&pX!^&pX!n&pX~O}({O!^(}O!n)OO~O}({O!^)PO!n)QO~O}({O!^)RO!n)SO~O}({O!^)TO!n)UO~OX&dOquOxvO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~P'ZO|)VO}%ui!{%ui#j%ui%c%ui%f%ui&X%ui~O!h&jOj&wa%c&wa#_&wa#j&wa%f&wa#^&wa~O%c)[O~OX$SOc$TO&SWO~O|&qO}ya~OquOxvO~P'ZO|(oO#j&[a%c&[a%f&[ai&[a}&[a!^&[a!n&[a&X&[a~P$gO|)aO#j%uX%c%uX%f%uX&X%uX~O&X$]O#jWi%cWi%fWi~O#j&^a%c&^a%f&^ap&^a~P'ZO|)dO#j&^a%c&^a%f&^ap&^a~OX)hOj)jO&SWO~O#^)kO~O&SWO#j&za%c&za%f&za~O|)mO#j&za%c&za%f&za~Oq0zOx1YO#j&va%c&va%f&va}&va~P'ZO|)pO#j&va%c&va%f&va}&va~OX)rOc)rO&SWO~O&X)wO~Ov)zO#m)yOP#kiX#kih#kij#kiq#kiu#kix#ki!R#ki!S#ki!V#ki!W#ki!Z#ki!_#ki!j#ki!u#ki!v#ki!w#ki#O#ki#Q#ki#S#ki#U#ki#W#ki#[#ki#^#ki#a#ki#b#ki#d#ki#f#ki#o#ki#r#ki#v#ki#x#ki#}#ki$Q#ki$S#ki%`#ki%|#ki%}#ki&R#ki&S#ki&h#ki&i#ki&l#ki&o#ki&s#ki&t#ki&u#ki%b#ki%f#ki~Ov){OP#niX#nih#nij#niq#niu#nix#ni!R#ni!S#ni!V#ni!W#ni!Z#ni!_#ni!j#ni!u#ni!v#ni!w#ni#O#ni#Q#ni#S#ni#U#ni#W#ni#[#ni#^#ni#a#ni#b#ni#d#ni#f#ni#o#ni#r#ni#v#ni#x#ni#}#ni$Q#ni$S#ni%`#ni%|#ni%}#ni&R#ni&S#ni&h#ni&i#ni&l#ni&o#ni&s#ni&t#ni&u#ni%b#ni%f#ni~OX)}Op&}a~P'ZO|*OOp&}a~O|*OOp&}a~P$gOp*SO~O%a*WO~Ov*ZO#s'iO#t*YOP#qiX#qih#qij#qiq#qiu#qix#qi!R#qi!S#qi!V#qi!W#qi!Z#qi!_#qi!j#qi!u#qi!v#qi!w#qi#O#qi#Q#qi#S#qi#U#qi#W#qi#[#qi#^#qi#a#qi#b#qi#d#qi#f#qi#o#qi#r#qi#v#qi#x#qi#}#qi$Q#qi$S#qi%`#qi%|#qi%}#qi&R#qi&S#qi&h#qi&i#qi&l#qi&o#qi&s#qi&t#qi&u#qi%b#qi%f#qi~OX*^Oq0zOx1YO}$wO~P'ZOq0zOx1YO}'Oa~P'ZO|*bO}'Oa~OX*fOc*gOi*jO&O*hO&SWO~O}$wO'R*lO~Oj'pO~Oj!nO}$wO~O%c*qO~O%c*sO~OX%[Oc%[Oq0zOx1YOi&ca~P'ZO|*vOi&ca~Oq0zOx1YO}*yO!Y&fa~P'ZO|*zO!Y&fa~Oq0zOx1YO|*zO}*}O!Y&fa~P'ZOq0zOx1YO|*zO!Y&fa~P'ZO|*zO}*}O!Y&fa~Oo0{Op0{Oq1UOr1VOilimliuli|li!Vli!Wli&Yli!Yli}li!^li#jli%cli%fli!Sli#_livli!nli&Xli~On0}O~P!JzOnli~P!JzOX(_Oi+SOq0zOx1YO~P'ZOp+UO~Oi+SO|+WO~Oi+XO~OX(_Oq0zOx1YO!Y&ai~P'ZO|+YO!Y&ai~O!Y+ZO~OX(nOq0zOx1YO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~P'ZO|+^O!V%qO!W%pO!^&bi~O|+aO!^&[i#j&[i%c&[i%f&[ii&[i}&[i!n&[i&X&[i~O!^+bO~Oc+dOq0zOx1YO!^&bi~P'ZO|+^O!^&bi~O!^+fO~OX+hOq0zOx1YO}&pa!^&pa!n&pa~P'ZO|+iO}&pa!^&pa!n&pa~O!_+lO&r+mO!^!oX~O!^+oO~O}({O!^+pO~O}({O!^+qO~O}({O!^+rO~O}({O!^+sO~OX&dOquOxvO}%uq!{%uq#j%uq%c%uq%f%uq&X%uq~P'ZO|$yi}$yi!{$yi#j$yi%c$yi%f$yi&X$yi~P$gOX&dOquOxvO~P'ZOX&dOq0zOx1YO#j%ua%c%ua%f%ua&X%ua~P'ZO|+tO#j%ua%c%ua%f%ua&X%ua~O|$la#j$la%c$la%f$lap$la~P$gO#j&^i%c&^i%f&^ip&^i~P'ZO|+wO#j#Zq%c#Zq%f#Zq~O|+xO#_+zO#j&yX%c&yX%f&yXi&yX~OX+|Oj)jO&SWO~O&SWO#j&zi%c&zi%f&zi~Oq0zOx1YO#j&vi%c&vi%f&vi}&vi~P'ZO}$[O|#hX!Y#hX~O|,QO!Y&{X~O!Y,SO~Ov,VO#m)yOP#kqX#kqh#kqj#kqq#kqu#kqx#kq!R#kq!S#kq!V#kq!W#kq!Z#kq!_#kq!j#kq!u#kq!v#kq!w#kq#O#kq#Q#kq#S#kq#U#kq#W#kq#[#kq#^#kq#a#kq#b#kq#d#kq#f#kq#o#kq#r#kq#v#kq#x#kq#}#kq$Q#kq$S#kq%`#kq%|#kq%}#kq&R#kq&S#kq&h#kq&i#kq&l#kq&o#kq&s#kq&t#kq&u#kq%b#kq%f#kq~Op%Ta|%Ta~P$gOX)}Op&}i~P'ZO|,^Op&}i~O|,hO}$wO#_,hO~O#t,jOP#qqX#qqh#qqj#qqq#qqu#qqx#qq!R#qq!S#qq!V#qq!W#qq!Z#qq!_#qq!j#qq!u#qq!v#qq!w#qq#O#qq#Q#qq#S#qq#U#qq#W#qq#[#qq#^#qq#a#qq#b#qq#d#qq#f#qq#o#qq#r#qq#v#qq#x#qq#}#qq$Q#qq$S#qq%`#qq%|#qq%}#qq&R#qq&S#qq&h#qq&i#qq&l#qq&o#qq&s#qq&t#qq&u#qq%b#qq%f#qq~O#_,kO|%Va}%Va~Oq0zOx1YO}'Oi~P'ZO|,mO}'Oi~O}$[O&X,oOi'QX|'QX~O&SWOi'QX|'QX~O|,sOi'PX~Oi,uO~O%a,xO~O!V%qO!W%pOi&di|&di~OX%[Oc%[Oq0zOx1YOi&ci~P'ZO},{O|$oa!Y$oa~Oq0zOx1YO},|O|$oa!Y$oa~P'ZOq0zOx1YO}*yO!Y&fi~P'ZO|-PO!Y&fi~Oq0zOx1YO|-PO!Y&fi~P'ZO|-PO}-SO!Y&fi~Oi$ki|$ki!Y$ki~P$gOX(_Oq0zOx1YO~P'ZOp-UO~OX(_Oi-VOq0zOx1YO~P'ZOX(_Oq0zOx1YO!Y&aq~P'ZO|$ji!^$ji#j$ji%c$ji%f$jii$ji}$ji!n$ji&X$ji~P$gOX(nOq0zOx1YO~P'ZOc+dOq0zOx1YO!^&bq~P'ZO|-WO!^&bq~O!^-XO~OX(nOq0zOx1YO!^&[q#j&[q%c&[q%f&[qi&[q}&[q!n&[q&X&[q~P'ZO}-YO~OX+hOq0zOx1YO}&pi!^&pi!n&pi~P'ZO|-_O}&pi!^&pi!n&pi~O!_+lO&r+mO!^!oa~OX&dOq0zOx1YO#j%ui%c%ui%f%ui&X%ui~P'ZO|-bO#j%ui%c%ui%f%ui&X%ui~O&SWO#j&ya%c&ya%f&yai&ya~O|-eO#j&ya%c&ya%f&yai&ya~Oi-hO~OX)rOc)rO&SWO!Y&{a~O|-jO!Y&{a~Op%Ti|%Ti~P$gOX)}O~P'ZOX)}Op&}q~P'ZOv-nOP#pyX#pyh#pyj#pyq#pyu#pyx#py!R#py!S#py!V#py!W#py!Z#py!_#py!j#py!u#py!v#py!w#py#O#py#Q#py#S#py#U#py#W#py#[#py#^#py#a#py#b#py#d#py#f#py#o#py#r#py#v#py#x#py#}#py$Q#py$S#py%`#py%|#py%}#py&R#py&S#py&h#py&i#py&l#py&o#py&s#py&t#py&u#py%b#py%f#py~O%b-rO%f-rO~P`O#t-sOP#qyX#qyh#qyj#qyq#qyu#qyx#qy!R#qy!S#qy!V#qy!W#qy!Z#qy!_#qy!j#qy!u#qy!v#qy!w#qy#O#qy#Q#qy#S#qy#U#qy#W#qy#[#qy#^#qy#a#qy#b#qy#d#qy#f#qy#o#qy#r#qy#v#qy#x#qy#}#qy$Q#qy$S#qy%`#qy%|#qy%}#qy&R#qy&S#qy&h#qy&i#qy&l#qy&o#qy&s#qy&t#qy&u#qy%b#qy%f#qy~O|-vO}$wO#_-vO~Oq0zOx1YO}'Oq~P'ZO|-yO}'Oq~O&X,oOi'Qa|'Qa~OX*fOc*gO&O*hO&SWOi'Pa~O|-}Oi'Pa~O$V.RO~OX%[Oc%[Oq0zOx1YO~P'ZOq0zOx1YO}.SO|$oi!Y$oi~P'ZOq0zOx1YO|$oi!Y$oi~P'ZO}.SO|$oi!Y$oi~Oq0zOx1YO}*yO~P'ZOq0zOx1YO}*yO!Y&fq~P'ZO|.VO!Y&fq~Oq0zOx1YO|.VO!Y&fq~P'ZOu.YO!V%qO!W%pOi&]q!Y&]q!^&]q|&]q~P!.TOc+dOq0zOx1YO!^&by~P'ZO|$mi!^$mi~P$gOc+dOq0zOx1YO~P'ZOX+hOq0zOx1YO~P'ZOX+hOq0zOx1YO}&pq!^&pq!n&pq~P'ZO}({O!^.^O!n._O~OX&dOq0zOx1YO#j%uq%c%uq%f%uq&X%uq~P'ZO#_.`O|%Oa#j%Oa%c%Oa%f%Oai%Oa~O&SWO#j&yi%c&yi%f&yii&yi~O|.bO#j&yi%c&yi%f&yii&yi~OX)rOc)rO&SWO!Y&{i~Ov.fOP#p!RX#p!Rh#p!Rj#p!Rq#p!Ru#p!Rx#p!R!R#p!R!S#p!R!V#p!R!W#p!R!Z#p!R!_#p!R!j#p!R!u#p!R!v#p!R!w#p!R#O#p!R#Q#p!R#S#p!R#U#p!R#W#p!R#[#p!R#^#p!R#a#p!R#b#p!R#d#p!R#f#p!R#o#p!R#r#p!R#v#p!R#x#p!R#}#p!R$Q#p!R$S#p!R%`#p!R%|#p!R%}#p!R&R#p!R&S#p!R&h#p!R&i#p!R&l#p!R&o#p!R&s#p!R&t#p!R&u#p!R%b#p!R%f#p!R~Oq0zOx1YO}'Oy~P'ZOX*fOc*gO&O*hO&SWOi'Pi~O$V.RO%b.nO%f.nO~OX.xOj.vO!Z.uO!_.wO!j.qO!v.sO!w.sO%}.pO&SWO&h]O&i^O&l_O~Oq0zOx1YO|$oq!Y$oq~P'ZO}.}O|$oq!Y$oq~Oq0zOx1YO}*yO!Y&fy~P'ZO|/OO!Y&fy~Oq0zOx/SO~P'ZOu.YO!V%qO!W%pOi&]y!Y&]y!^&]y|&]y~P!.TO}({O!^/VO~O&SWO#j&yq%c&yq%f&yqi&yq~O|/XO#j&yq%c&yq%f&yqi&yq~OX*fOc*gO&O*hO&SWO~Oj/^O!h/[O|$WX#_$WX%w$WXi$WX~Ou$WX}$WX!Y$WX!^$WX~P$&lO%|/`O%}/`Ou$XX|$XX}$XX#_$XX%w$XX!Y$XXi$XX!^$XX~O!j/bO~O|/fO#_/hO%w/cOu'SX}'SX!Y'SXi'SX~Oc/kO~P$!|Oj/^Ou'TX|'TX}'TX#_'TX%w'TX!Y'TXi'TX!^'TX~Ou/oO}$wO~Oq0zOx1YO|$oy!Y$oy~P'ZOq0zOx1YO}*yO!Y&f!R~P'ZO|/sO!Y&f!R~Oi&`Xu&`X!V&`X!W&`X!Y&`X!^&`X|&`X~P!.TOu.YO!V%qO!W%pOi&_a!Y&_a!^&_a|&_a~O&SWO#j&yy%c&yy%f&yyi&yy~O!h/[Oj$_au$_a|$_a}$_a#_$_a%w$_a!Y$_ai$_a!^$_a~O!j/|O~O%|/`O%}/`Ou$Xa|$Xa}$Xa#_$Xa%w$Xa!Y$Xai$Xa!^$Xa~O%w/cOu$]a|$]a}$]a#_$]a!Y$]ai$]a!^$]a~Ou'Sa}'Sa!Y'Sai'Sa~P$!pO|0ROu'Sa}'Sa!Y'Sai'Sa~O!Y0UO~Oi0UO~O}0WO~O!^0XO~Oq0zOx1YO}*yO!Y&f!Z~P'ZO}0[O~O&X0]O~P$&lO|0^O#_/hO%w/cOi'VX~O|0^Oi'VX~Oi0`O~O!j0aO~O#_/hOu%Za|%Za}%Za%w%Za!Y%Zai%Za!^%Za~O#_/hO%w/cOu%_a|%_a}%_a!Y%_ai%_a~Ou'Si}'Si!Y'Sii'Si~P$!pO|0cO#_/hO%w/cO!^'Ua~O}$ga~P$gOi'Va~P$!pO|0kOi'Va~Oc0mO!^'Ui~P$!|O|0oO!^'Ui~O|0oO#_/hO%w/cO!^'Ui~O#_/hO%w/cOi$ei|$ei~O&X0rO~P$&lO#_/hO%w/cOi%^a|%^a~Oi'Vi~P$!pO}0uO~Oc0mO!^'Uq~P$!|O|0wO!^'Uq~O#_/hO%w/cO|%]i!^%]i~Oc0mO~P$!|Oc0mO!^'Uy~P$!|O#_/hO%w/cOi$fi|$fi~O#_/hO%w/cO|%]q!^%]q~O|+tO#j%ua%c%ua%f%ua&X%ua~P$gOX&dOq0zOx1YO~P'ZOp1PO~Oq1PO~P'ZO}1QO~Ov1RO~P!.TO&i&l&t&u&h&o&s&S&h~",goto:"!?b'WPPPPPPPP'XP'a*|+f,P,k-W-tP.cP'a/S/S'aPPP'a2oPPPPPP2o5fPP5fP7y8S>fPP>i?Z?^PP'a'aPP?vPP'a'aPP'a'a'a'a'a?z@t'aP@wP@}EXHxPH|IYI^IbIf'aPPPIjIs'XP'X'XP'XP'XP'XP'XP'X'X'XP'XPP'XPP'XP'XPIyJVJ_PJfJlPJfPJfJfPPPJfPLzPMTM_MeLzPJfMnPJfPMuM{PNPNe! S! mNPNP! s!!QNPNPNPNP!!f!!l!!o!!t!!w!#R!#X!#e!#w!#}!$X!$_!${!%R!%X!%_!%i!%o!%u!%{!&R!&X!&k!&u!&{!'R!'X!'c!'i!'o!'u!'{!(V!(]!(g!(m!(v!(|!)]!)e!)o!)vPPPPPPPPPPPPPPPPP!)|!*P!*V!*`!*j!*uPPPPPPPPPPPP!/l!1Q!5T!8hPP!8p!9S!9]!:U!9{!:_!:e!:h!:k!:n!:v!;gPPPPPPPPP!;j!;yPPPP!<i!<u!=R!=X!=b!=e!=h!=n!=t!=z!=}P!>V!>`!?[!?_]jOs#v$w*W,d(TeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z}!hQ#r$P$b$q$}%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!P!iQ#r$P$b$q$}%S%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!R!jQ#r$P$b$q$}%S%T%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!T!kQ#r$P$b$q$}%S%T%U%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!V!lQ#r$P$b$q$}%S%T%U%V%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!X!mQ#r$P$b$q$}%S%T%U%V%W%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O!]!mQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1O(TTOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1Z&iVOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1Z%sXOYZ[isw}!O!S!U!V!Z!n!p#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$VvQ/t/SR1W1Y'zeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZW#ym!P!Q$hW$Rv&q/S1YQ$j!RQ$n!TQ${![Q$|!]W%Z!n(O*v,zS&p$S$TQ'e$vQ)Y&jQ)h'QU)i'S)j)kU)l'U)m+}W)s'Y,Q-j.dQ*d'nW*e'p,s-}.lQ,P)rS,r*f*gY-d+x-e.a.b/XQ-g+zQ-t,hQ-x,kQ.j-vl.o.R.u.v.x/d/f/k0R0W0]0b0m0r0uQ/W.`Q/l.wQ/x/^Q0T/hU0h0^0k0sX0n0c0o0v0wR&o$R!_!|YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sR%k!{Q#QYQ&W#cQ&Z#gQ&]#jQ&_#mQ&x$^Q&{$aR-`+lT/R.Y0[![!oQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OQ&m#zQ't$|R*p'uR'}%ZQ%d!rR/v/[(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZS#pd#q!P.s.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0w(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)V)X)a)d)p)w)y)}*O*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+d+h+i+l+t+v+w,O,],^,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/o/s0[0z0{0|0}1P1Q1R1S1T1V1ZT#pd#qT#d`#ee(|&W&Z&]&_)O)Q)S)U-`._T+m({+nT#ha#iT#kb#lT#nc#oQ$`xQ,P)sR,q*eX$^x$_$`&zQ'[$nQ'r${Q'u$|R*V'eQ)t'YV-i,Q-j.dZlOs$w*W,dXpOs*W,dQ$x!YQ']$oQ'^$pQ'o$zQ's$|Q*T'dQ*['iQ*_'jQ*`'kQ*m'qS*o't'uQ,W)yQ,Y)zQ,Z){Q,_*RS,a*U*nQ,e*YQ,f*ZS,g*]*^Q,w*pQ-l,VQ-m,XQ-o,`S-p,b,cQ-u,iQ-w,jQ.e-nQ.g-qQ.h-sQ.i-tQ/Y.fQ/Z.jQ/p.{R0Z/qWpOs*W,dR#|oQ'q${S*U'e'rR,c*VQ,p*eR-{,qQ*n'qQ,b*UR-q,cZnOos*W,dQ'w$}R*r'xT.P,x.Qu.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0ut.z.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uQ/l.wX0n0c0o0v0w!P.r.R.u.v.w.x/^/d/f/k0R0W0]0^0b0c0k0m0o0r0s0u0v0wQ/a.qR/}/bg/d.t/e/y0Q0V0e0g0i0t0x0yu.y.R.u.v.x/^/d/f/k0R0W0]0^0b0k0m0r0s0uX/_.o.y/x0hR/z/^V0j0^0k0sR/q.{QsOS$Os,dR,d*WQ&r$UR)_&rS%z#W$WS(p%z(sT(s%}&tQ%n#OQ%u#SW(b%n%u(g(kQ(g%rR(k%wQ&}$bR)e&}Q(v&OQ+_(qT+e(v+_Q(P%]R*w(PS(S%`%aY*{(S*|-Q.W/PU*|(T(U(VU-Q*}+O+PS.W-R-SR/P.XQ#_^R&R#_Q#b_R&T#bQ#e`R&X#eQ(y&US+j(y+kR+k(zQ+n({R-a+nQ#iaR&[#iQ#lbR&^#lQ#ocR&`#oQ#qdR&a#qQ#tgQ&c#rW&f#t&c)b+uQ)b&wR+u1OQ$_xS&y$_&zR&z$`Q'X$lR)q'XQ&k#yR)Z&kQ$h!QR'R$hQ+y)iS-f+y.cR.c-gQ'V$jR)n'VQ,R)tR-k,RQ#wkR&h#wQ)x']R,U)xQ'`$qS*P'`*QR*Q'aQ'h$xR*X'hQ'm$yS*c'm,nR,n*dQ,t*iR.O,tWoOs*W,dR#{oQ.Q,xR.m.Qd/e.t/y0Q0V0e0g0i0t0x0yR0P/eU/].o/x0hR/w/]Q0d0VS0p0d0qR0q0eS0_/y/zR0l0_Q/g.tR0S/gR!`PXrOs*W,dWqOs*W,dR'f$wYkOs$w*W,dR&g#v[xOs#v$w*W,dR&x$^&hQOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)V)X)a)p)w)y*S*W*^*b*l*v*y*z*}+T+U+W+Y+]+^+a+h+i+l+t+w,O,d,l,m,p,z,{,|-O-P-S-U-W-Y-[-^-_-b-y-{.S.V.Y.}/O/s0[0z0{0|0}1P1Q1R1S1V1ZQ!sTQ#rfQ$PtU$by%p(eS$q!W$tQ$}!^Q%S!hQ%T!iQ%U!jQ%V!kQ%W!lQ%X!mQ%r#PQ%w#TQ%}#XQ&O#YQ&t$XQ'a$rQ'x%OQ)W&dU)c&|)d+vW)|'_*O,],^Q+R(_Q+[(nQ,[)}Q-Z+dQ0Y/oR1O1TQ#OYQ#SZQ$o!UQ$p!VQ%`!pQ(V%a^(^%m%t(a(i+T+W+Y^*x(R*z-O-P.V/O/sQ+O(TQ+P(UQ,X)yQ,}*yQ-R*}Q.T,{Q.U,|Q.X-SQ.|.SR/r.}[gOs#v$w*W,d!^!{YZ!U!V!p%a%m%t(R(T(U(a(i)y*y*z*}+T+W+Y,{,|-O-P-S.S.V.}/O/sQ#W[Q#uiS$Ww}Q$e!OW$l!S$a'b*SS$y!Z$uW%Y!n(O*v,zY&U#c#g#j#m+l`&e#s&b)V)X)a+t-b1SQ&u$YQ&v$[Q&w$^Q'{%[Q(]%kW(m%y(o+]+aQ(q%{Q(z&VQ)]&oS)`&s1QQ)f'OQ)g'PU)o'W)p,OQ)v'ZQ*]'iY*a'l*b,l,m-yQ*t'}S+Q(Y1RW+c(u+^-W-[W+g(x+i-^-_Q,T)wQ,i*^Q,v*lQ-]+hQ-c+wQ-z,pQ.]-YR.k-{hUOs#s#v$w&b&s(Y)V)X*W,d%Y!zYZ[iw}!O!S!U!V!Z!n!p#c#g#j#m$Y$[$^$a$u%[%a%k%m%t%y%{&V&o'O'P'W'Z'b'i'l'}(O(R(T(U(a(i(o(u(x)a)p)w)y*S*^*b*l*v*y*z*}+T+W+Y+]+^+a+h+i+l+t+w,O,l,m,p,z,{,|-O-P-S-W-Y-[-^-_-b-y-{.S.V.}/O/s1Q1R1SQ$QuW%e!t!x0{1VQ%f!uQ%g!vQ%i!yQ%s0zS(X%h1PQ(Z0|Q([0}Q-T+UQ.[-US/Q.Y0[R1X1ZU$Uv/S1YR)^&q[hOs#v$w*W,da!}Y#c#g#j#m$^$a+lQ#][Q$ZwR$d}Q%o#OQ%v#SQ%|#WQ'{%YQ(h%rQ(l%wQ(t%}Q(w&OQ+`(qQ,y*tQ.Z-TQ/U.[R/u/TQ$cyQ(d%pR+V(eQ/T.YR0f0[R#VZR#[[R%_!nQ%]!nV*u(O*v,z!]!qQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)W)c)|+R+[,[-Z0Y1OR%b!pQ&W#cQ&Z#gQ&]#jQ&_#mR-`+lQ(}&WQ)P&ZQ)R&]Q)T&_Q+p)OQ+q)QQ+r)SQ+s)UQ.^-`R/V._Q$m!SQ&{$aQ*R'bR,`*SQ#zmQ$f!PQ$i!QR'T$hQ)h'SR+|)kQ)h'SQ+{)jR+|)kR$k!RR)u'YXqOs*W,dQ$s!WR'c$tQ$z!ZR'd$uR*k'pQ*i'pV-|,s-}.lQ.{.RQ/i.uR/j.vU.t.R.u.vQ/n.xQ/y/^Q0O/dU0Q/f0R0bQ0V/kQ0e0WQ0g0]U0i0^0k0sQ0t0mQ0x0rR0y0uR/m.wR/{/^",nodeNames:"⚠ print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec FormatReplacement FormatReplacement FormatReplacement FormatReplacement ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:283,context:U6e,nodeProps:[["group",-15,8,88,90,91,93,95,97,99,101,102,103,105,108,111,113,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,82,83,84,85,"Expression",-10,117,119,122,124,125,129,131,136,138,141,"Statement",-9,146,147,150,151,153,154,155,156,157,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[q6e],skippedNodes:[0,6],repeatNodeCount:38,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&r!b&jSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&r!b&jSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&r!b&jSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&r!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&r!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&r!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&r!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&r!b&mWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&r!b&mWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&r!b&mWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&r!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&r!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&r!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&r!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&jSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&jSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&mWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&mWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&r!b&jS&mW%p!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&r!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!nR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&r!b&jS&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&r!b&jS&hsOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&r!b&mW&hsOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&r!b&mW&hsOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&r!b&hsOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&r!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&hsOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&mW&hsOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&r!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&jS&hsOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&jS&mW&hsOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&r!b&jS&hsOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&nW&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&r!b&jS&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&r!b&jSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&r!b&jSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&r!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&r!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&r!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&jSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&jSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&r!b&mWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&r!b&mWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&r!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&r!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&mWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&mWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&r!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&jS&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&jSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&mWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_&PQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]!{r&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_%yQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&r!b&jS&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&r!b&jS&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&r!b&jS&hsOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&r!b&hsOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&r!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&hsOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&jS&hsOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&r!b&mW&hsOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&r!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&jS&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&mW&hsOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&jS&mW&hsOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&r!b&mW&hsOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&kS&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&r!b&jS&mWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_%|s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`%}s&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]'R`&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!us&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&r!b&jS&mWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja&OR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_&QQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#js&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_%zQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&Xs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_%{Q&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ$QP&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&r!b&jS&mW&g`&SsOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&r!b&jS&hsOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&r!b&jS&hsOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&r!b&jS&lsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&r!b&mW&hsOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&r!b&mW&hsOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&r!b&mW&isOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&r!b&jS&ssOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&r!b&jSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&r!b&jS&usOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&r!b&mW&osOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&r!b&mWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&r!b&mW&tsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&r!b&jS&mW&g`&SsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&r!b&jS&mW&g`&SsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%xQ&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%wR&r!b&jS&mWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&jS&mWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]&Rq&r!b&jS&mWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[W6e,z6e,V6e,Y6e,X6e,G6e,j6e,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:234,get:t=>K6e[t]||-1}],tokenPrec:7372}),Yhe=new Die,zye=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function MZ(t){return(e,r,a)=>{if(a)return!1;let i=e.node.getChild("VariableName");return i&&r(i,t),!0}}const eMe={FunctionDefinition:MZ("function"),ClassDefinition:MZ("class"),ForStatement(t,e,r){if(r){for(let a=t.node.firstChild;a;a=a.nextSibling)if(a.name=="VariableName")e(a,"variable");else if(a.name=="in")break}},ImportStatement(t,e){var r,a;let{node:i}=t,f=((r=i.firstChild)===null||r===void 0?void 0:r.name)=="from";for(let d=i.getChild("import");d;d=d.nextSibling)d.name=="VariableName"&&((a=d.nextSibling)===null||a===void 0?void 0:a.name)!="as"&&e(d,f?"variable":"namespace")},AssignStatement(t,e){for(let r=t.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name==":"||r.name=="AssignOp")break},ParamList(t,e){for(let r=null,a=t.node.firstChild;a;a=a.nextSibling)a.name=="VariableName"&&(!r||!/\*|AssignOp/.test(r.name))&&e(a,"variable"),r=a},CapturePattern:MZ("variable"),AsPattern:MZ("variable"),__proto__:null};function Zye(t,e){let r=Yhe.get(e);if(r)return r;let a=[],i=!0;function f(d,h){let c=t.sliceString(d.from,d.to);a.push({label:c,type:h})}return e.cursor(Sl.IncludeAnonymous).iterate(d=>{if(d.name){let h=eMe[d.name];if(h&&h(d,f,i)||!i&&zye.has(d.name))return!1;i=!1}else if(d.to-d.from>8192){for(let h of Zye(t,d.node))a.push(h);return!1}}),Yhe.set(e,a),a}const Xhe=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,Hye=["String","FormatString","Comment","PropertyName"];function tMe(t){let e=al(t.state).resolveInner(t.pos,-1);if(Hye.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Xhe.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let a=[];for(let i=e;i;i=i.parent)zye.has(i.name)&&(a=a.concat(Zye(t.state.doc,i)));return{options:a,from:r?e.from:t.pos,validFor:Xhe}}const nMe=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(t=>({label:t,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(t=>({label:t,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(t=>({label:t,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(t=>({label:t,type:"function"}))),rMe=[bc("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),bc("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),bc("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),bc("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),bc(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),bc("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),bc("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),bc("import ${module}",{label:"import",detail:"statement",type:"keyword"}),bc("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],oMe=Gie(Hye,VU(nMe.concat(rMe)));function Ghe(t,e){let r=t.baseIndentFor(e),a=t.lineAt(t.pos,-1),i=a.from+a.text.length;return/^\s*($|#)/.test(a.text)&&t.node.to<i+100&&!/\S/.test(t.state.sliceDoc(i,t.node.to))&&t.lineIndent(t.pos,-1)<=r||/^\s*(else:|elif |except |finally:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>r?null:r+t.unit}const goe=$S.define({name:"python",parser:J6e.configure({props:[GT.add({Body:t=>{var e;return(e=Ghe(t,t.node))!==null&&e!==void 0?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except |finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":eH({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":eH({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":eH({closing:"]"}),"String FormatString":()=>null,Script:t=>{if(t.pos+/\s*/.exec(t.textAfter)[0].length>=t.node.to){let e=null;for(let r=t.node,a=r.to;r=r.lastChild,!(!r||r.to!=a);)r.type.name=="Body"&&(e=r);if(e){let r=Ghe(t,e);if(r!=null)return r}}return t.continue()}}),FS.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Qie,Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function jhe(){return new FT(goe,[goe.data.of({autocomplete:tMe}),goe.data.of({autocomplete:oMe})])}const sMe="#e5c07b",qhe="#e06c75",aMe="#56b6c2",iMe="#ffffff",nH="#abb2bf",oae="#7d8799",lMe="#61afef",cMe="#98c379",Khe="#d19a66",uMe="#c678dd",fMe="#21252b",Jhe="#2c313a",eme="#282c34",poe="#353a42",dMe="#3E4451",tme="#528bff",hMe=Xo.theme({"&":{color:nH,backgroundColor:eme},".cm-content":{caretColor:tme},".cm-cursor, .cm-dropCursor":{borderLeftColor:tme},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:dMe},".cm-panels":{backgroundColor:fMe,color:nH},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:eme,color:oae,border:"none"},".cm-activeLineGutter":{backgroundColor:Jhe},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:poe},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:poe,borderBottomColor:poe},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Jhe,color:nH}}},{dark:!0}),mMe=e$.define([{tag:Qt.keyword,color:uMe},{tag:[Qt.name,Qt.deleted,Qt.character,Qt.propertyName,Qt.macroName],color:qhe},{tag:[Qt.function(Qt.variableName),Qt.labelName],color:lMe},{tag:[Qt.color,Qt.constant(Qt.name),Qt.standard(Qt.name)],color:Khe},{tag:[Qt.definition(Qt.name),Qt.separator],color:nH},{tag:[Qt.typeName,Qt.className,Qt.number,Qt.changed,Qt.annotation,Qt.modifier,Qt.self,Qt.namespace],color:sMe},{tag:[Qt.operator,Qt.operatorKeyword,Qt.url,Qt.escape,Qt.regexp,Qt.link,Qt.special(Qt.string)],color:aMe},{tag:[Qt.meta,Qt.comment],color:oae},{tag:Qt.strong,fontWeight:"bold"},{tag:Qt.emphasis,fontStyle:"italic"},{tag:Qt.strikethrough,textDecoration:"line-through"},{tag:Qt.link,color:oae,textDecoration:"underline"},{tag:Qt.heading,fontWeight:"bold",color:qhe},{tag:[Qt.atom,Qt.bool,Qt.special(Qt.variableName)],color:Khe},{tag:[Qt.processingInstruction,Qt.string,Qt.inserted],color:cMe},{tag:Qt.invalid,color:iMe}]),O8=[hMe,T0e(mMe)];function Vr(t,e){return r=>Object.keys(t).reduce((a,i)=>{const d=typeof t[i]=="object"&&t[i]!=null&&!Array.isArray(t[i])?t[i]:{type:t[i]};return r&&i in r?a[i]={...d,default:r[i]}:a[i]=d,e&&!a[i].source&&(a[i].source=e),a},{})}const ua=Vr({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),Yl=typeof window<"u",sle=Yl&&"IntersectionObserver"in window,gMe=Yl&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function Uye(t,e,r){const a=e.length-1;if(a<0)return t===void 0?r:t;for(let i=0;i<a;i++){if(t==null)return r;t=t[e[i]]}return t==null||t[e[a]]===void 0?r:t[e[a]]}function jT(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const r=Object.keys(t);return r.length!==Object.keys(e).length?!1:r.every(a=>jT(t[a],e[a]))}function ZT(t,e,r){return t==null||!e||typeof e!="string"?r:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),Uye(t,e.split("."),r))}function um(t,e,r){if(e===!0)return t===void 0?r:t;if(e==null||typeof e=="boolean")return r;if(t!==Object(t)){if(typeof e!="function")return r;const i=e(t,r);return typeof i>"u"?r:i}if(typeof e=="string")return ZT(t,e,r);if(Array.isArray(e))return Uye(t,e,r);if(typeof e!="function")return r;const a=e(t,r);return typeof a>"u"?r:a}function x8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(r,a)=>e+a)}function ls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function sae(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function aae(t){return t&&"$el"in t?t.$el:t}const nme=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),pMe=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function voe(t,e){return e.every(r=>t.hasOwnProperty(r))}function S8(t,e,r){const a=Object.create(null),i=Object.create(null);for(const f in t)e.some(d=>d instanceof RegExp?d.test(f):d===f)&&!(r!=null&&r.some(d=>d===f))?a[f]=t[f]:i[f]=t[f];return[a,i]}function I8(t,e){const r={...t};return e.forEach(a=>delete r[a]),r}const Wye=/^on[^a-z]/,ale=t=>Wye.test(t),vMe=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function YU(t){const[e,r]=S8(t,[Wye]),a=I8(e,vMe),[i,f]=S8(r,["class","style","id",/^data-/]);return Object.assign(i,e),Object.assign(f,a),[i,f]}function Oh(t){return t==null?[]:Array.isArray(t)?t:[t]}function Np(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(r,t))}function rme(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function ome(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+r.repeat(Math.max(0,e-t.length))}function yMe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let a=0;for(;a<t.length;)r.push(t.substr(a,e)),a+=e;return r}function _p(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const a={};for(const i in t)a[i]=t[i];for(const i in e){const f=t[i],d=e[i];if(sae(f)&&sae(d)){a[i]=_p(f,d,r);continue}if(Array.isArray(f)&&Array.isArray(d)&&r){a[i]=r(f,d);continue}a[i]=d}return a}function Yye(t){return t.map(e=>e.type===es?Yye(e.children):e).flat()}function NT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(NT.cache.has(t))return NT.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return NT.cache.set(t,e),e}NT.cache=new Map;function tD(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(r=>tD(t,r)).flat(1);if(Array.isArray(e.children))return e.children.map(r=>tD(t,r)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return tD(t,e.component.subTree).flat(1)}return[]}function ile(t){const e=Ed({}),r=Jt(t);return pm(()=>{for(const a in r.value)e[a]=r.value[a]},{flush:"sync"}),SU(e)}function zH(t,e){return t.includes(e)}function Xye(t){return t[2].toLowerCase()+t.slice(3)}const ry=()=>[Function,Array];function sme(t,e){return e="on"+MO(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function Gye(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];if(Array.isArray(t))for(const i of t)i(...r);else typeof t=="function"&&t(...r)}function ZH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(a=>`${a}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(r)]}function jye(t,e,r){let a,i=t.indexOf(document.activeElement);const f=e==="next"?1:-1;do i+=f,a=t[i];while((!a||a.offsetParent==null||!((r==null?void 0:r(a))??!0))&&i<t.length&&i>=0);return a}function HH(t,e){var a,i,f,d;const r=ZH(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((a=r[0])==null||a.focus());else if(e==="first")(i=r[0])==null||i.focus();else if(e==="last")(f=r.at(-1))==null||f.focus();else if(typeof e=="number")(d=r[e])==null||d.focus();else{const h=jye(r,e);h?h.focus():HH(t,e==="next"?"first":"last")}}function EZ(t){return t==null||typeof t=="string"&&t.trim()===""}function qye(){}function w8(t,e){if(!(Yl&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}const Kye=["top","bottom"],bMe=["start","end","left","right"];function iae(t,e){let[r,a]=t.split(" ");return a||(a=zH(Kye,r)?"start":zH(bMe,r)?"top":"center"),{side:ame(r,e),align:ame(a,e)}}function ame(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function yoe(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function boe(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function ime(t){return{side:t.align,align:t.side}}function lme(t){return zH(Kye,t.side)?"y":"x"}class l8{constructor(e){let{x:r,y:a,width:i,height:f}=e;this.x=r,this.y=a,this.width=i,this.height=f}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function cme(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function lle(t){const e=t.getBoundingClientRect(),r=getComputedStyle(t),a=r.transform;if(a){let i,f,d,h,c;if(a.startsWith("matrix3d("))i=a.slice(9,-1).split(/, /),f=+i[0],d=+i[5],h=+i[12],c=+i[13];else if(a.startsWith("matrix("))i=a.slice(7,-1).split(/, /),f=+i[0],d=+i[3],h=+i[4],c=+i[5];else return new l8(e);const g=r.transformOrigin,v=e.x-h-(1-f)*parseFloat(g),y=e.y-c-(1-d)*parseFloat(g.slice(g.indexOf(" ")+1)),b=f?e.width/f:t.offsetWidth+1,O=d?e.height/d:t.offsetHeight+1;return new l8({x:v,y,width:b,height:O})}else return new l8(e)}function jP(t,e,r){if(typeof t.animate>"u")return{finished:Promise.resolve()};let a;try{a=t.animate(e,r)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(i=>{a.onfinish=()=>{i(a)}})),a}const rH=new WeakMap;function OMe(t,e){Object.keys(e).forEach(r=>{if(ale(r)){const a=Xye(r),i=rH.get(t);if(e[r]==null)i==null||i.forEach(f=>{const[d,h]=f;d===a&&(t.removeEventListener(a,h),i.delete(f))});else if(!i||![...i].some(f=>f[0]===a&&f[1]===e[r])){t.addEventListener(a,e[r]);const f=i||new Set;f.add([a,e[r]]),rH.has(t)||rH.set(t,f)}}else e[r]==null?t.removeAttribute(r):t.setAttribute(r,e[r])})}function xMe(t,e){Object.keys(e).forEach(r=>{if(ale(r)){const a=Xye(r),i=rH.get(t);i==null||i.forEach(f=>{const[d,h]=f;d===a&&(t.removeEventListener(a,h),i.delete(f))})}else t.removeAttribute(r)})}const VP=2.4,ume=.2126729,fme=.7151522,dme=.072175,SMe=.55,wMe=.58,CMe=.57,TMe=.62,_Z=.03,hme=1.45,kMe=5e-4,AMe=1.25,PMe=1.25,mme=.078,gme=12.82051282051282,RZ=.06,pme=.001;function vme(t,e){const r=(t.r/255)**VP,a=(t.g/255)**VP,i=(t.b/255)**VP,f=(e.r/255)**VP,d=(e.g/255)**VP,h=(e.b/255)**VP;let c=r*ume+a*fme+i*dme,g=f*ume+d*fme+h*dme;if(c<=_Z&&(c+=(_Z-c)**hme),g<=_Z&&(g+=(_Z-g)**hme),Math.abs(g-c)<kMe)return 0;let v;if(g>c){const y=(g**SMe-c**wMe)*AMe;v=y<pme?0:y<mme?y-y*gme*RZ:y-RZ}else{const y=(g**TMe-c**CMe)*PMe;v=y>-pme?0:y>-mme?y-y*gme*RZ:y+RZ}return v*100}function MMe(t,e){e=Array.isArray(e)?e.slice(0,-1).map(r=>`'${r}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const UH=.20689655172413793,EMe=t=>t>UH**3?Math.cbrt(t):t/(3*UH**2)+4/29,_Me=t=>t>UH?t**3:3*UH**2*(t-4/29);function Jye(t){const e=EMe,r=e(t[1]);return[116*r-16,500*(e(t[0]/.95047)-r),200*(r-e(t[2]/1.08883))]}function ebe(t){const e=_Me,r=(t[0]+16)/116;return[e(r+t[1]/500)*.95047,e(r),e(r-t[2]/200)*1.08883]}const RMe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],DMe=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,$Me=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],LMe=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function tbe(t){const e=Array(3),r=DMe,a=RMe;for(let i=0;i<3;++i)e[i]=Math.round(Np(r(a[i][0]*t[0]+a[i][1]*t[1]+a[i][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function cle(t){let{r:e,g:r,b:a}=t;const i=[0,0,0],f=LMe,d=$Me;e=f(e/255),r=f(r/255),a=f(a/255);for(let h=0;h<3;++h)i[h]=d[h][0]*e+d[h][1]*r+d[h][2]*a;return i}function yme(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}const bme=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,IMe={rgb:(t,e,r,a)=>({r:t,g:e,b:r,a}),rgba:(t,e,r,a)=>({r:t,g:e,b:r,a}),hsl:(t,e,r,a)=>Ome({h:t,s:e,l:r,a}),hsla:(t,e,r,a)=>Ome({h:t,s:e,l:r,a}),hsv:(t,e,r,a)=>$D({h:t,s:e,v:r,a}),hsva:(t,e,r,a)=>$D({h:t,s:e,v:r,a})};function J0(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&bme.test(t)){const{groups:e}=t.match(bme),{fn:r,values:a}=e,i=a.split(/,\s*/).map(f=>f.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(r)?parseFloat(f)/100:parseFloat(f));return IMe[r](...i)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(r=>r+r).join(""):[6,8].includes(e.length),BMe(e)}else if(typeof t=="object"){if(voe(t,["r","g","b"]))return t;if(voe(t,["h","s","l"]))return $D(nbe(t));if(voe(t,["h","s","v"]))return $D(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function $D(t){const{h:e,s:r,v:a,a:i}=t,f=h=>{const c=(h+e/60)%6;return a-a*r*Math.max(Math.min(c,4-c,1),0)},d=[f(5),f(3),f(1)].map(h=>Math.round(h*255));return{r:d[0],g:d[1],b:d[2],a:i}}function Ome(t){return $D(nbe(t))}function nbe(t){const{h:e,s:r,l:a,a:i}=t,f=a+r*Math.min(a,1-a),d=f===0?0:2-2*a/f;return{h:e,s:d,v:f,a:i}}function DZ(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function NMe(t){let{r:e,g:r,b:a,a:i}=t;return`#${[DZ(e),DZ(r),DZ(a),i!==void 0?DZ(Math.round(i*255)):""].join("")}`}function BMe(t){t=QMe(t);let[e,r,a,i]=yMe(t,2).map(f=>parseInt(f,16));return i=i===void 0?i:i/255,{r:e,g:r,b:a,a:i}}function QMe(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=ome(ome(t,6),8,"F")),t}function FMe(t,e){const r=Jye(cle(t));return r[0]=r[0]+e*10,tbe(ebe(r))}function VMe(t,e){const r=Jye(cle(t));return r[0]=r[0]-e*10,tbe(ebe(r))}function zMe(t){const e=J0(t);return cle(e)[1]}function rbe(t){const e=Math.abs(vme(J0(0),J0(t)));return Math.abs(vme(J0(16777215),J0(t)))>Math.min(e,50)?"#fff":"#000"}const C8=Symbol.for("vuetify:defaults");function ZMe(t){return bo(t)}function ule(){const t=Da(C8);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function uy(t,e){const r=ule(),a=bo(t),i=Jt(()=>{if(Ol(e==null?void 0:e.disabled))return r.value;const d=Ol(e==null?void 0:e.scoped),h=Ol(e==null?void 0:e.reset),c=Ol(e==null?void 0:e.root);if(a.value==null&&!(d||h||c))return r.value;let g=_p(a.value,{prev:r.value});if(d)return g;if(h||c){const v=Number(h||1/0);for(let y=0;y<=v&&!(!g||!("prev"in g));y++)g=g.prev;return g&&typeof c=="string"&&c in g&&(g=_p(_p(g,{prev:g}),g[c])),g}return g.prev?_p(g.prev,g):g});return El(C8,i),i}function HMe(t,e){var r,a;return typeof((r=t.props)==null?void 0:r[e])<"u"||typeof((a=t.props)==null?void 0:a[NT(e)])<"u"}function UMe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ule();const a=Af("useDefaults");if(e=e??a.type.name??a.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const i=Jt(()=>{var c;return(c=r.value)==null?void 0:c[t._as??e]}),f=new Proxy(t,{get(c,g){var y,b,O,T;const v=Reflect.get(c,g);return g==="class"||g==="style"?[(y=i.value)==null?void 0:y[g],v].filter(k=>k!=null):typeof g=="string"&&!HMe(a.vnode,g)?((b=i.value)==null?void 0:b[g])??((T=(O=r.value)==null?void 0:O.global)==null?void 0:T[g])??v:v}}),d=us();pm(()=>{if(i.value){const c=Object.entries(i.value).filter(g=>{let[v]=g;return v.startsWith(v[0].toUpperCase())});d.value=c.length?Object.fromEntries(c):void 0}else d.value=void 0});function h(){const c=jMe(C8,a);El(C8,Jt(()=>d.value?_p((c==null?void 0:c.value)??{},d.value):c==null?void 0:c.value))}return{props:f,provideSubDefaults:h}}function N8(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Vr(t.props??{},t.name)();const e=Object.keys(t.props);t.filterProps=function(a){return S8(a,e,["class","style"])},t.props._as=String,t.setup=function(a,i){const f=ule();if(!f.value)return t._setup(a,i);const{props:d,provideSubDefaults:h}=UMe(a,a._as??t.name,f),c=t._setup(d,i);return h(),c}}return t}function Go(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?N8:iy)(e)}function WMe(t,e){return e.props=t,e}function B8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return Go()({name:r??MO(Bp(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...ua()},setup(a,i){let{slots:f}=i;return()=>{var d;return mm(a.tag,{class:[t,a.class],style:a.style},(d=f.default)==null?void 0:d.call(f))}}})}function obe(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const WH="cubic-bezier(0.4, 0, 0.2, 1)",YMe="cubic-bezier(0.0, 0, 0.2, 1)",XMe="cubic-bezier(0.4, 0, 1, 1)";function Af(t,e){const r=mie();if(!r)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return r}function DO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Af(t).type;return NT((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let sbe=0,oH=new WeakMap;function Vp(){const t=Af("getUid");if(oH.has(t))return oH.get(t);{const e=sbe++;return oH.set(t,e),e}}Vp.reset=()=>{sbe=0,oH=new WeakMap};function abe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?GMe(t):fle(t))return t;t=t.parentElement}return document.scrollingElement}function YH(t,e){const r=[];if(e&&t&&!e.contains(t))return r;for(;t&&(fle(t)&&r.push(t),t!==e);)t=t.parentElement;return r}function fle(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function GMe(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function jMe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Af("injectSelf");const{provides:r}=e;if(r&&t in r)return r[t]}function qMe(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function bs(t){const e=Af("useRender");e.render=t}function o$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=bo(),a=bo();if(Yl){const i=new ResizeObserver(f=>{t==null||t(f,i),f.length&&(e==="content"?a.value=f[0].contentRect:a.value=f[0].target.getBoundingClientRect())});vm(()=>{i.disconnect()}),zo(r,(f,d)=>{d&&(i.unobserve(aae(d)),a.value=void 0),f&&i.observe(aae(f))},{flush:"post"})}return{resizeRef:r,contentRect:WD(a)}}const XH=Symbol.for("vuetify:layout"),ibe=Symbol.for("vuetify:layout-item"),xme=1e3,KMe=Vr({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),lbe=Vr({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function JMe(){const t=Da(XH);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function cbe(t){const e=Da(XH);if(!e)throw new Error("[Vuetify] Could not find injected layout");const r=t.id??`layout-item-${Vp()}`,a=Af("useLayoutItem");El(ibe,{id:r});const i=us(!1);aie(()=>i.value=!0),sie(()=>i.value=!1);const{layoutItemStyles:f,layoutItemScrimStyles:d}=e.register(a,{...t,active:Jt(()=>i.value?!1:t.active.value),id:r});return vm(()=>e.unregister(r)),{layoutItemStyles:f,layoutRect:e.layoutRect,layoutItemScrimStyles:d}}const eEe=(t,e,r,a)=>{let i={top:0,left:0,right:0,bottom:0};const f=[{id:"",layer:{...i}}];for(const d of t){const h=e.get(d),c=r.get(d),g=a.get(d);if(!h||!c||!g)continue;const v={...i,[h.value]:parseInt(i[h.value],10)+(g.value?parseInt(c.value,10):0)};f.push({id:d,layer:v}),i=v}return f};function tEe(t){const e=Da(XH,null),r=Jt(()=>e?e.rootZIndex.value-100:xme),a=bo([]),i=Ed(new Map),f=Ed(new Map),d=Ed(new Map),h=Ed(new Map),c=Ed(new Map),{resizeRef:g,contentRect:v}=o$(),y=Jt(()=>{const N=new Map,Q=t.overlaps??[];for(const z of Q.filter(U=>U.includes(":"))){const[U,F]=z.split(":");if(!a.value.includes(U)||!a.value.includes(F))continue;const B=i.get(U),E=i.get(F),W=f.get(U),X=f.get(F);!B||!E||!W||!X||(N.set(F,{position:B.value,amount:parseInt(W.value,10)}),N.set(U,{position:E.value,amount:-parseInt(X.value,10)}))}return N}),b=Jt(()=>{const N=[...new Set([...d.values()].map(z=>z.value))].sort((z,U)=>z-U),Q=[];for(const z of N){const U=a.value.filter(F=>{var B;return((B=d.get(F))==null?void 0:B.value)===z});Q.push(...U)}return eEe(Q,i,f,h)}),O=Jt(()=>!Array.from(c.values()).some(N=>N.value)),T=Jt(()=>b.value[b.value.length-1].layer),k=Jt(()=>({"--v-layout-left":ls(T.value.left),"--v-layout-right":ls(T.value.right),"--v-layout-top":ls(T.value.top),"--v-layout-bottom":ls(T.value.bottom),...O.value?void 0:{transition:"none"}})),w=Jt(()=>b.value.slice(1).map((N,Q)=>{let{id:z}=N;const{layer:U}=b.value[Q],F=f.get(z),B=i.get(z);return{id:z,...U,size:Number(F.value),position:B.value}})),C=N=>w.value.find(Q=>Q.id===N),_=Af("createLayout"),M=us(!1);Sg(()=>{M.value=!0}),El(XH,{register:(N,Q)=>{let{id:z,order:U,position:F,layoutSize:B,elementSize:E,active:W,disableTransitions:X,absolute:ie}=Q;d.set(z,U),i.set(z,F),f.set(z,B),h.set(z,W),X&&c.set(z,X);const me=tD(ibe,_==null?void 0:_.vnode).indexOf(N);me>-1?a.value.splice(me,0,z):a.value.push(z);const ae=Jt(()=>w.value.findIndex(xe=>xe.id===z)),q=Jt(()=>r.value+b.value.length*2-ae.value*2),de=Jt(()=>{const xe=F.value==="left"||F.value==="right",we=F.value==="right",Be=F.value==="bottom",pe={[F.value]:0,zIndex:q.value,transform:`translate${xe?"X":"Y"}(${(W.value?0:-110)*(we||Be?-1:1)}%)`,position:ie.value||r.value!==xme?"absolute":"fixed",...O.value?void 0:{transition:"none"}};if(!M.value)return pe;const ne=w.value[ae.value];if(!ne)throw new Error(`[Vuetify] Could not find layout item "${z}"`);const le=y.value.get(z);return le&&(ne[le.position]+=le.amount),{...pe,height:xe?`calc(100% - ${ne.top}px - ${ne.bottom}px)`:E.value?`${E.value}px`:void 0,left:we?void 0:`${ne.left}px`,right:we?`${ne.right}px`:void 0,top:F.value!=="bottom"?`${ne.top}px`:void 0,bottom:F.value!=="top"?`${ne.bottom}px`:void 0,width:xe?E.value?`${E.value}px`:void 0:`calc(100% - ${ne.left}px - ${ne.right}px)`}}),ee=Jt(()=>({zIndex:q.value-1}));return{layoutItemStyles:de,layoutItemScrimStyles:ee,zIndex:q}},unregister:N=>{d.delete(N),i.delete(N),f.delete(N),h.delete(N),c.delete(N),a.value=a.value.filter(Q=>Q!==N)},mainRect:T,mainStyles:k,getLayoutItem:C,items:w,layoutRect:v,rootZIndex:r});const I=Jt(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),V=Jt(()=>({zIndex:e?r.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:I,layoutStyles:V,getLayoutItem:C,items:w,layoutRect:v,layoutRef:g}}const nEe={badge:"Badge",open:"Open",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{ok:"OK",cancel:"Cancel",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},rEe={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function NS(t,e){let r;function a(){r=Yae(),r.run(()=>e.length?e(()=>{r==null||r.stop(),a()}):e())}zo(t,i=>{i&&!r?a():i||(r==null||r.stop(),r=void 0)},{immediate:!0}),dm(()=>{r==null||r.stop()})}function ei(t,e,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:y=>y,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:y=>y;const f=Af("useProxiedModel"),d=bo(t[e]!==void 0?t[e]:r),h=NT(e),g=Jt(h!==e?()=>{var y,b,O,T;return t[e],!!(((y=f.vnode.props)!=null&&y.hasOwnProperty(e)||(b=f.vnode.props)!=null&&b.hasOwnProperty(h))&&((O=f.vnode.props)!=null&&O.hasOwnProperty(`onUpdate:${e}`)||(T=f.vnode.props)!=null&&T.hasOwnProperty(`onUpdate:${h}`)))}:()=>{var y,b;return t[e],!!((y=f.vnode.props)!=null&&y.hasOwnProperty(e)&&((b=f.vnode.props)!=null&&b.hasOwnProperty(`onUpdate:${e}`)))});NS(()=>!g.value,()=>{zo(()=>t[e],y=>{d.value=y})});const v=Jt({get(){const y=t[e];return a(g.value?y:d.value)},set(y){const b=i(y),O=ya(g.value?t[e]:d.value);O===b||a(O)===y||(d.value=b,f==null||f.emit(`update:${e}`,b))}});return Object.defineProperty(v,"externalValue",{get:()=>g.value?t[e]:d.value}),v}const Sme="$vuetify.",wme=(t,e)=>t.replace(/\{(\d+)\}/g,(r,a)=>String(e[+a])),ube=(t,e,r)=>function(a){for(var i=arguments.length,f=new Array(i>1?i-1:0),d=1;d<i;d++)f[d-1]=arguments[d];if(!a.startsWith(Sme))return wme(a,f);const h=a.replace(Sme,""),c=t.value&&r.value[t.value],g=e.value&&r.value[e.value];let v=ZT(c,h,null);return v||(`${a}${t.value}`,v=ZT(g,h,null)),v||(v=a),typeof v!="string"&&(v=a),wme(v,f)};function fbe(t,e){return(r,a)=>new Intl.NumberFormat([t.value,e.value],a).format(r)}function Ooe(t,e,r){const a=ei(t,e,t[e]??r.value);return a.value=t[e]??r.value,zo(r,i=>{t[e]==null&&(a.value=r.value)}),a}function dbe(t){return e=>{const r=Ooe(e,"locale",t.current),a=Ooe(e,"fallback",t.fallback),i=Ooe(e,"messages",t.messages);return{name:"vuetify",current:r,fallback:a,messages:i,t:ube(r,a,i),n:fbe(r,a),provide:dbe({current:r,fallback:a,messages:i})}}}function oEe(t){const e=us((t==null?void 0:t.locale)??"en"),r=us((t==null?void 0:t.fallback)??"en"),a=bo({en:nEe,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:r,messages:a,t:ube(e,r,a),n:fbe(e,r),provide:dbe({current:e,fallback:r,messages:a})}}const GH=Symbol.for("vuetify:locale");function sEe(t){return t.name!=null}function aEe(t){const e=t!=null&&t.adapter&&sEe(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:oEe(t),r=iEe(e,t);return{...e,...r}}function zS(){const t=Da(GH);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function iEe(t,e){const r=bo((e==null?void 0:e.rtl)??rEe),a=Jt(()=>r.value[t.current.value]??!1);return{isRtl:a,rtl:r,rtlClasses:Jt(()=>`v-locale--is-${a.value?"rtl":"ltr"}`)}}function zp(){const t=Da(GH);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const jH=Symbol.for("vuetify:theme"),su=Vr({theme:String},"theme"),MR={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function lEe(){var r,a;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:MR;if(!t)return{...MR,isDisabled:!0};const e={};for(const[i,f]of Object.entries(t.themes??{})){const d=f.dark||i==="dark"?(r=MR.themes)==null?void 0:r.dark:(a=MR.themes)==null?void 0:a.light;e[i]=_p(d,f)}return _p(MR,{...t,themes:e})}function cEe(t){const e=lEe(t),r=bo(e.defaultTheme),a=bo(e.themes),i=Jt(()=>{const v={};for(const[y,b]of Object.entries(a.value)){const O=v[y]={...b,colors:{...b.colors}};if(e.variations)for(const T of e.variations.colors){const k=O.colors[T];if(k)for(const w of["lighten","darken"]){const C=w==="lighten"?FMe:VMe;for(const _ of x8(e.variations[w],1))O.colors[`${T}-${w}-${_}`]=NMe(C(J0(k),_))}}for(const T of Object.keys(O.colors)){if(/^on-[a-z]/.test(T)||O.colors[`on-${T}`])continue;const k=`on-${T}`,w=J0(O.colors[T]);O.colors[k]=rbe(w)}}return v}),f=Jt(()=>i.value[r.value]),d=Jt(()=>{const v=[];f.value.dark&&bT(v,":root",["color-scheme: dark"]),bT(v,":root",Cme(f.value));for(const[T,k]of Object.entries(i.value))bT(v,`.v-theme--${T}`,[`color-scheme: ${k.dark?"dark":"normal"}`,...Cme(k)]);const y=[],b=[],O=new Set(Object.values(i.value).flatMap(T=>Object.keys(T.colors)));for(const T of O)/^on-[a-z]/.test(T)?bT(b,`.${T}`,[`color: rgb(var(--v-theme-${T})) !important`]):(bT(y,`.bg-${T}`,[`--v-theme-overlay-multiplier: var(--v-theme-${T}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${T})) !important`,`color: rgb(var(--v-theme-on-${T})) !important`]),bT(b,`.text-${T}`,[`color: rgb(var(--v-theme-${T})) !important`]),bT(b,`.border-${T}`,[`--v-border-color: var(--v-theme-${T})`]));return v.push(...y,...b),v.map((T,k)=>k===0?T:`    ${T}`).join("")});function h(){return{style:[{children:d.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function c(v){if(e.isDisabled)return;const y=v._context.provides.usehead;if(y)if(y.push){const b=y.push(h);Yl&&zo(d,()=>{b.patch(h)})}else Yl?(y.addHeadObjs(Jt(h)),pm(()=>y.updateDOM())):y.addHeadObjs(h());else{let O=function(){if(typeof document<"u"&&!b){const T=document.createElement("style");T.type="text/css",T.id="vuetify-theme-stylesheet",e.cspNonce&&T.setAttribute("nonce",e.cspNonce),b=T,document.head.appendChild(b)}b&&(b.innerHTML=d.value)},b=Yl?document.getElementById("vuetify-theme-stylesheet"):null;Yl?zo(d,O,{immediate:!0}):O()}}const g=Jt(()=>e.isDisabled?void 0:`v-theme--${r.value}`);return{install:c,isDisabled:e.isDisabled,name:r,themes:a,current:f,computedThemes:i,themeClasses:g,styles:d,global:{name:r,current:f}}}function Uu(t){Af("provideTheme");const e=Da(jH,null);if(!e)throw new Error("Could not find Vuetify theme injection");const r=Jt(()=>t.theme??e.name.value),a=Jt(()=>e.themes.value[r.value]),i=Jt(()=>e.isDisabled?void 0:`v-theme--${r.value}`),f={...e,name:r,current:a,themeClasses:i};return El(jH,f),f}function bT(t,e,r){t.push(`${e} {
`,...r.map(a=>`  ${a};
`),`}
`)}function Cme(t){const e=t.dark?2:1,r=t.dark?1:2,a=[];for(const[i,f]of Object.entries(t.colors)){const d=J0(f);a.push(`--v-theme-${i}: ${d.r},${d.g},${d.b}`),i.startsWith("on-")||a.push(`--v-theme-${i}-overlay-multiplier: ${zMe(f)>.18?e:r}`)}for(const[i,f]of Object.entries(t.variables)){const d=typeof f=="string"&&f.startsWith("#")?J0(f):void 0,h=d?`${d.r}, ${d.g}, ${d.b}`:void 0;a.push(`--v-${i}: ${h??f}`)}return a}const uEe=Vr({...ua(),...KMe({fullHeight:!0}),...su()},"VApp"),fEe=Go()({name:"VApp",props:uEe(),setup(t,e){let{slots:r}=e;const a=Uu(t),{layoutClasses:i,getLayoutItem:f,items:d,layoutRef:h}=tEe(t),{rtlClasses:c}=zp();return bs(()=>{var g;return at("div",{ref:h,class:["v-application",a.themeClasses.value,i.value,c.value,t.class],style:[t.style]},[at("div",{class:"v-application__wrap"},[(g=r.default)==null?void 0:g.call(r)])])}),{getLayoutItem:f,items:d,theme:a}}});const wc=Vr({tag:{type:String,default:"div"}},"tag"),dEe=Vr({text:String,...ua(),...wc()},"VToolbarTitle"),hEe=Go()({name:"VToolbarTitle",props:dEe(),setup(t,e){let{slots:r}=e;return bs(()=>{const a=!!(r.default||r.text||t.text);return at(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var i;return[a&&at("div",{class:"v-toolbar-title__placeholder"},[r.text?r.text():t.text,(i=r.default)==null?void 0:i.call(r)])]}})}),{}}}),mEe=Vr({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Cg(t,e,r){return Go()({name:t,props:mEe({mode:r,origin:e}),setup(a,i){let{slots:f}=i;const d={onBeforeEnter(h){a.origin&&(h.style.transformOrigin=a.origin)},onLeave(h){if(a.leaveAbsolute){const{offsetTop:c,offsetLeft:g,offsetWidth:v,offsetHeight:y}=h;h._transitionInitialStyles={position:h.style.position,top:h.style.top,left:h.style.left,width:h.style.width,height:h.style.height},h.style.position="absolute",h.style.top=`${c}px`,h.style.left=`${g}px`,h.style.width=`${v}px`,h.style.height=`${y}px`}a.hideOnLeave&&h.style.setProperty("display","none","important")},onAfterLeave(h){if(a.leaveAbsolute&&(h!=null&&h._transitionInitialStyles)){const{position:c,top:g,left:v,width:y,height:b}=h._transitionInitialStyles;delete h._transitionInitialStyles,h.style.position=c||"",h.style.top=g||"",h.style.left=v||"",h.style.width=y||"",h.style.height=b||""}}};return()=>{const h=a.group?ACe:CO;return mm(h,{name:a.disabled?"":t,css:!a.disabled,...a.group?void 0:{mode:a.mode},...a.disabled?{}:d},f.default)}}})}function hbe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Go()({name:t,props:{mode:{type:String,default:r},disabled:Boolean},setup(a,i){let{slots:f}=i;return()=>mm(CO,{name:a.disabled?"":t,css:!a.disabled,...a.disabled?{}:e},f.default)}})}function mbe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",a=Bp(`offset-${r}`);return{onBeforeEnter(d){d._parent=d.parentNode,d._initialStyle={transition:d.style.transition,overflow:d.style.overflow,[r]:d.style[r]}},onEnter(d){const h=d._initialStyle;d.style.setProperty("transition","none","important"),d.style.overflow="hidden";const c=`${d[a]}px`;d.style[r]="0",d.offsetHeight,d.style.transition=h.transition,t&&d._parent&&d._parent.classList.add(t),requestAnimationFrame(()=>{d.style[r]=c})},onAfterEnter:f,onEnterCancelled:f,onLeave(d){d._initialStyle={transition:"",overflow:d.style.overflow,[r]:d.style[r]},d.style.overflow="hidden",d.style[r]=`${d[a]}px`,d.offsetHeight,requestAnimationFrame(()=>d.style[r]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(d){t&&d._parent&&d._parent.classList.remove(t),f(d)}function f(d){const h=d._initialStyle[r];d.style.overflow=d._initialStyle.overflow,h!=null&&(d.style[r]=h),delete d._initialStyle}}const gEe=Vr({target:Object},"v-dialog-transition"),dle=Go()({name:"VDialogTransition",props:gEe(),setup(t,e){let{slots:r}=e;const a={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,f){var b;await new Promise(O=>requestAnimationFrame(O)),await new Promise(O=>requestAnimationFrame(O)),i.style.visibility="";const{x:d,y:h,sx:c,sy:g,speed:v}=kme(t.target,i),y=jP(i,[{transform:`translate(${d}px, ${h}px) scale(${c}, ${g})`,opacity:0},{}],{duration:225*v,easing:YMe});(b=Tme(i))==null||b.forEach(O=>{jP(O,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*v,easing:WH})}),y.finished.then(()=>f())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,f){var b;await new Promise(O=>requestAnimationFrame(O));const{x:d,y:h,sx:c,sy:g,speed:v}=kme(t.target,i);jP(i,[{},{transform:`translate(${d}px, ${h}px) scale(${c}, ${g})`,opacity:0}],{duration:125*v,easing:XMe}).finished.then(()=>f()),(b=Tme(i))==null||b.forEach(O=>{jP(O,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*v,easing:WH})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>t.target?at(CO,ts({name:"dialog-transition"},a,{css:!1}),r):at(CO,{name:"dialog-transition"},r)}});function Tme(t){var r;const e=(r=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:r.children;return e&&[...e]}function kme(t,e){const r=t.getBoundingClientRect(),a=lle(e),[i,f]=getComputedStyle(e).transformOrigin.split(" ").map(C=>parseFloat(C)),[d,h]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=r.left+r.width/2;d==="left"||h==="left"?c-=r.width/2:(d==="right"||h==="right")&&(c+=r.width/2);let g=r.top+r.height/2;d==="top"||h==="top"?g-=r.height/2:(d==="bottom"||h==="bottom")&&(g+=r.height/2);const v=r.width/a.width,y=r.height/a.height,b=Math.max(1,v,y),O=v/b||0,T=y/b||0,k=a.width*a.height/(window.innerWidth*window.innerHeight),w=k>.12?Math.min(1.5,(k-.12)*10+1):1;return{x:c-(i+a.left),y:g-(f+a.top),sx:O,sy:T,speed:w}}Cg("fab-transition","center center","out-in");Cg("dialog-bottom-transition");Cg("dialog-top-transition");Cg("fade-transition");const gbe=Cg("scale-transition");Cg("scroll-x-transition");Cg("scroll-x-reverse-transition");Cg("scroll-y-transition");Cg("scroll-y-reverse-transition");Cg("slide-x-transition");Cg("slide-x-reverse-transition");const pbe=Cg("slide-y-transition");Cg("slide-y-reverse-transition");const hle=hbe("expand-transition",mbe()),vbe=hbe("expand-x-transition",mbe("",!0)),pEe=Vr({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Hc=Go(!1)({name:"VDefaultsProvider",props:pEe(),setup(t,e){let{slots:r}=e;const{defaults:a,disabled:i,reset:f,root:d,scoped:h}=SU(t);return uy(a,{reset:f,root:d,scoped:h,disabled:i}),()=>{var c;return(c=r.default)==null?void 0:c.call(r)}}});const qT=Vr({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function KT(t){return{dimensionStyles:Jt(()=>({height:ls(t.height),maxHeight:ls(t.maxHeight),maxWidth:ls(t.maxWidth),minHeight:ls(t.minHeight),minWidth:ls(t.minWidth),width:ls(t.width)}))}}function vEe(t){return{aspectStyles:Jt(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const ybe=Vr({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...ua(),...qT()},"VResponsive"),Ame=Go()({name:"VResponsive",props:ybe(),setup(t,e){let{slots:r}=e;const{aspectStyles:a}=vEe(t),{dimensionStyles:i}=KT(t);return bs(()=>{var f;return at("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[i.value,t.style]},[at("div",{class:"v-responsive__sizer",style:a.value},null),(f=r.additional)==null?void 0:f.call(r),r.default&&at("div",{class:["v-responsive__content",t.contentClass]},[r.default()])])}),{}}}),JT=Vr({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),SS=(t,e)=>{let{slots:r}=e;const{transition:a,disabled:i,...f}=t,{component:d=CO,...h}=typeof a=="object"?a:{};return mm(d,ts(typeof a=="string"?{name:i?"":a}:h,f,{disabled:i}),r)};function yEe(t,e){if(!sle)return;const r=e.modifiers||{},a=e.value,{handler:i,options:f}=typeof a=="object"?a:{handler:a,options:{}},d=new IntersectionObserver(function(){var y;let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;const g=(y=t._observe)==null?void 0:y[e.instance.$.uid];if(!g)return;const v=h.some(b=>b.isIntersecting);i&&(!r.quiet||g.init)&&(!r.once||v||g.init)&&i(v,h,c),v&&r.once?bbe(t,e):g.init=!0},f);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:d},d.observe(t)}function bbe(t,e){var a;const r=(a=t._observe)==null?void 0:a[e.instance.$.uid];r&&(r.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const bEe={mounted:yEe,unmounted:bbe},mle=bEe,OEe=Vr({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...ybe(),...ua(),...JT()},"VImg"),s$=Go()({name:"VImg",directives:{intersect:mle},props:OEe(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:r,slots:a}=e;const i=us(""),f=bo(),d=us(t.eager?"loading":"idle"),h=us(),c=us(),g=Jt(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),v=Jt(()=>g.value.aspect||h.value/c.value||0);zo(()=>t.src,()=>{y(d.value!=="idle")}),zo(v,(z,U)=>{!z&&U&&f.value&&w(f.value)}),iie(()=>y());function y(z){if(!(t.eager&&z)&&!(sle&&!z&&!t.eager)){if(d.value="loading",g.value.lazySrc){const U=new Image;U.src=g.value.lazySrc,w(U,null)}g.value.src&&wl(()=>{var U,F;if(r("loadstart",((U=f.value)==null?void 0:U.currentSrc)||g.value.src),(F=f.value)!=null&&F.complete){if(f.value.naturalWidth||O(),d.value==="error")return;v.value||w(f.value,null),b()}else v.value||w(f.value),T()})}}function b(){var z;T(),d.value="loaded",r("load",((z=f.value)==null?void 0:z.currentSrc)||g.value.src)}function O(){var z;d.value="error",r("error",((z=f.value)==null?void 0:z.currentSrc)||g.value.src)}function T(){const z=f.value;z&&(i.value=z.currentSrc||z.src)}let k=-1;function w(z){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const F=()=>{clearTimeout(k);const{naturalHeight:B,naturalWidth:E}=z;B||E?(h.value=E,c.value=B):!z.complete&&d.value==="loading"&&U!=null?k=window.setTimeout(F,U):(z.currentSrc.endsWith(".svg")||z.currentSrc.startsWith("data:image/svg+xml"))&&(h.value=1,c.value=1)};F()}const C=Jt(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),_=()=>{var F;if(!g.value.src||d.value==="idle")return null;const z=at("img",{class:["v-img__img",C.value],src:g.value.src,srcset:g.value.srcset,alt:t.alt,sizes:t.sizes,ref:f,onLoad:b,onError:O},null),U=(F=a.sources)==null?void 0:F.call(a);return at(SS,{transition:t.transition,appear:!0},{default:()=>[zu(U?at("picture",{class:"v-img__picture"},[U,z]):z,[[BS,d.value==="loaded"]])]})},M=()=>at(SS,{transition:t.transition},{default:()=>[g.value.lazySrc&&d.value!=="loaded"&&at("img",{class:["v-img__img","v-img__img--preload",C.value],src:g.value.lazySrc,alt:t.alt},null)]}),I=()=>a.placeholder?at(SS,{transition:t.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!a.error)&&at("div",{class:"v-img__placeholder"},[a.placeholder()])]}):null,V=()=>a.error?at(SS,{transition:t.transition,appear:!0},{default:()=>[d.value==="error"&&at("div",{class:"v-img__error"},[a.error()])]}):null,N=()=>t.gradient?at("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,Q=us(!1);{const z=zo(v,U=>{U&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Q.value=!0})}),z())})}return bs(()=>{const[z]=Ame.filterProps(t);return zu(at(Ame,ts({class:["v-img",{"v-img--booting":!Q.value},t.class],style:[{width:ls(t.width==="auto"?h.value:t.width)},t.style]},z,{aspectRatio:v.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>at(es,null,[at(_,null,null),at(M,null,null),at(N,null,null),at(I,null,null),at(V,null,null)]),default:a.default}),[[Gv("intersect"),{handler:y,options:t.options},null,{once:!0}]])}),{currentSrc:i,image:f,state:d,naturalWidth:h,naturalHeight:c}}}),ZS=Vr({border:[Boolean,Number,String]},"border");function HS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO();return{borderClasses:Jt(()=>{const a=Oc(t)?t.value:t.border,i=[];if(a===!0||a==="")i.push(`${e}--border`);else if(typeof a=="string"||a===0)for(const f of String(a).split(" "))i.push(`border-${f}`);return i})}}function gle(t){return ile(()=>{const e=[],r={};if(t.value.background)if(yme(t.value.background)){if(r.backgroundColor=t.value.background,!t.value.text){const a=J0(t.value.background);if(a.a==null||a.a===1){const i=rbe(a);r.color=i,r.caretColor=i}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(yme(t.value.text)?(r.color=t.value.text,r.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:r}})}function Qp(t,e){const r=Jt(()=>({text:Oc(t)?t.value:e?t[e]:null})),{colorClasses:a,colorStyles:i}=gle(r);return{textColorClasses:a,textColorStyles:i}}function xg(t,e){const r=Jt(()=>({background:Oc(t)?t.value:e?t[e]:null})),{colorClasses:a,colorStyles:i}=gle(r);return{backgroundColorClasses:a,backgroundColorStyles:i}}const fy=Vr({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function dy(t){return{elevationClasses:Jt(()=>{const r=Oc(t)?t.value:t.elevation,a=[];return r==null||a.push(`elevation-${r}`),a})}}const Tg=Vr({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function kg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO();return{roundedClasses:Jt(()=>{const a=Oc(t)?t.value:t.rounded,i=[];if(a===!0||a==="")i.push(`${e}--rounded`);else if(typeof a=="string"||a===0)for(const f of String(a).split(" "))i.push(`rounded-${f}`);return i})}}const xEe=[null,"prominent","default","comfortable","compact"],Obe=Vr({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>xEe.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ZS(),...ua(),...fy(),...Tg(),...wc({tag:"header"}),...su()},"VToolbar"),Pme=Go()({name:"VToolbar",props:Obe(),setup(t,e){var O;let{slots:r}=e;const{backgroundColorClasses:a,backgroundColorStyles:i}=xg(qo(t,"color")),{borderClasses:f}=HS(t),{elevationClasses:d}=dy(t),{roundedClasses:h}=kg(t),{themeClasses:c}=Uu(t),{rtlClasses:g}=zp(),v=us(!!(t.extended||(O=r.extension)!=null&&O.call(r))),y=Jt(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),b=Jt(()=>v.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return uy({VBtn:{variant:"text"}}),bs(()=>{var C;const T=!!(t.title||r.title),k=!!(r.image||t.image),w=(C=r.extension)==null?void 0:C.call(r);return v.value=!!(t.extended||w),at(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},a.value,f.value,d.value,h.value,c.value,g.value,t.class],style:[i.value,t.style]},{default:()=>[k&&at("div",{key:"image",class:"v-toolbar__image"},[r.image?at(Hc,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},r.image):at(s$,{key:"image-img",cover:!0,src:t.image},null)]),at(Hc,{defaults:{VTabs:{height:ls(y.value)}}},{default:()=>{var _,M,I;return[at("div",{class:"v-toolbar__content",style:{height:ls(y.value)}},[r.prepend&&at("div",{class:"v-toolbar__prepend"},[(_=r.prepend)==null?void 0:_.call(r)]),T&&at(hEe,{key:"title",text:t.title},{text:r.title}),(M=r.default)==null?void 0:M.call(r),r.append&&at("div",{class:"v-toolbar__append"},[(I=r.append)==null?void 0:I.call(r)])])]}}),at(Hc,{defaults:{VTabs:{height:ls(b.value)}}},{default:()=>[at(hle,null,{default:()=>[v.value&&at("div",{class:"v-toolbar__extension",style:{height:ls(b.value)}},[w])]})]})]})}),{contentHeight:y,extensionHeight:b}}}),SEe=Vr({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function wEe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:r}=e;let a=0;const i=bo(null),f=us(0),d=us(0),h=us(0),c=us(!1),g=us(!1),v=Jt(()=>Number(t.scrollThreshold)),y=Jt(()=>Np((v.value-f.value)/v.value||0)),b=()=>{const O=i.value;!O||r&&!r.value||(a=f.value,f.value="window"in O?O.pageYOffset:O.scrollTop,g.value=f.value<a,h.value=Math.abs(f.value-v.value))};return zo(g,()=>{d.value=d.value||f.value}),zo(c,()=>{d.value=0}),Sg(()=>{zo(()=>t.scrollTarget,O=>{var k;const T=O?document.querySelector(O):window;T&&T!==i.value&&((k=i.value)==null||k.removeEventListener("scroll",b),i.value=T,i.value.addEventListener("scroll",b,{passive:!0}))},{immediate:!0})}),vm(()=>{var O;(O=i.value)==null||O.removeEventListener("scroll",b)}),r&&zo(r,b,{immediate:!0}),{scrollThreshold:v,currentScroll:f,currentThreshold:h,isScrollActive:c,scrollRatio:y,isScrollingUp:g,savedScroll:d}}function ple(){const t=us(!1);return Sg(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:Jt(()=>t.value?void 0:{transition:"none !important"}),isBooted:WD(t)}}const CEe=Vr({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...Obe(),...lbe(),...SEe(),height:{type:[Number,String],default:64}},"VAppBar"),TEe=Go()({name:"VAppBar",props:CEe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=bo(),i=ei(t,"modelValue"),f=Jt(()=>{var _;const C=new Set(((_=t.scrollBehavior)==null?void 0:_.split(" "))??[]);return{hide:C.has("hide"),inverted:C.has("inverted"),collapse:C.has("collapse"),elevate:C.has("elevate"),fadeImage:C.has("fade-image")}}),d=Jt(()=>{const C=f.value;return C.hide||C.inverted||C.collapse||C.elevate||C.fadeImage||!i.value}),{currentScroll:h,scrollThreshold:c,isScrollingUp:g,scrollRatio:v}=wEe(t,{canScroll:d}),y=Jt(()=>t.collapse||f.value.collapse&&(f.value.inverted?v.value>0:v.value===0)),b=Jt(()=>t.flat||f.value.elevate&&(f.value.inverted?h.value>0:h.value===0)),O=Jt(()=>f.value.fadeImage?f.value.inverted?1-v.value:v.value:void 0),T=Jt(()=>{var M,I;if(f.value.hide&&f.value.inverted)return 0;const C=((M=a.value)==null?void 0:M.contentHeight)??0,_=((I=a.value)==null?void 0:I.extensionHeight)??0;return C+_});NS(Jt(()=>!!t.scrollBehavior),()=>{pm(()=>{f.value.hide?f.value.inverted?i.value=h.value>c.value:i.value=g.value||h.value<c.value:i.value=!0})});const{ssrBootStyles:k}=ple(),{layoutItemStyles:w}=cbe({id:t.name,order:Jt(()=>parseInt(t.order,10)),position:qo(t,"location"),layoutSize:T,elementSize:us(void 0),active:i,absolute:qo(t,"absolute")});return bs(()=>{const[C]=Pme.filterProps(t);return at(Pme,ts({ref:a,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...w.value,"--v-toolbar-image-opacity":O.value,height:void 0,...k.value},t.style]},C,{collapse:y.value,flat:b.value}),r)}),{}}});const kEe=[null,"default","comfortable","compact"],Kv=Vr({density:{type:String,default:"default",validator:t=>kEe.includes(t)}},"density");function hy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO();return{densityClasses:Jt(()=>`${e}--density-${t.density}`)}}const AEe=["elevated","flat","tonal","outlined","text","plain"];function a$(t,e){return at(es,null,[t&&at("span",{key:"overlay",class:`${e}__overlay`},null),at("span",{key:"underlay",class:`${e}__underlay`},null)])}const US=Vr({color:String,variant:{type:String,default:"elevated",validator:t=>AEe.includes(t)}},"variant");function i$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO();const r=Jt(()=>{const{variant:f}=Ol(t);return`${e}--variant-${f}`}),{colorClasses:a,colorStyles:i}=gle(Jt(()=>{const{variant:f,color:d}=Ol(t);return{[["elevated","flat"].includes(f)?"background":"text"]:d}}));return{colorClasses:a,colorStyles:i,variantClasses:r}}const xbe=Vr({divided:Boolean,...ZS(),...ua(),...Kv(),...fy(),...Tg(),...wc(),...su(),...US()},"VBtnGroup"),Mme=Go()({name:"VBtnGroup",props:xbe(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=Uu(t),{densityClasses:i}=hy(t),{borderClasses:f}=HS(t),{elevationClasses:d}=dy(t),{roundedClasses:h}=kg(t);uy({VBtn:{height:"auto",color:qo(t,"color"),density:qo(t,"density"),flat:!0,variant:qo(t,"variant")}}),bs(()=>at(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},a.value,f.value,i.value,d.value,h.value,t.class],style:t.style},r))}}),vle=Vr({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),yle=Vr({value:null,disabled:Boolean,selectedClass:String},"group-item");function ble(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const a=Af("useGroupItem");if(!a)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=Vp();El(Symbol.for(`${e.description}:id`),i);const f=Da(e,null);if(!f){if(!r)return f;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const d=qo(t,"value"),h=Jt(()=>!!(f.disabled.value||t.disabled));f.register({id:i,value:d,disabled:h},a),vm(()=>{f.unregister(i)});const c=Jt(()=>f.isSelected(i)),g=Jt(()=>c.value&&[f.selectedClass.value,t.selectedClass]);return zo(c,v=>{a.emit("group:selected",{value:v})}),{id:i,isSelected:c,toggle:()=>f.select(i,!c.value),select:v=>f.select(i,v),selectedClass:g,value:d,disabled:h,group:f}}function Ole(t,e){let r=!1;const a=Ed([]),i=ei(t,"modelValue",[],b=>b==null?[]:Sbe(a,Oh(b)),b=>{const O=MEe(a,b);return t.multiple?O:O[0]}),f=Af("useGroup");function d(b,O){const T=b,k=Symbol.for(`${e.description}:id`),C=tD(k,f==null?void 0:f.vnode).indexOf(O);C>-1?a.splice(C,0,T):a.push(T)}function h(b){if(r)return;c();const O=a.findIndex(T=>T.id===b);a.splice(O,1)}function c(){const b=a.find(O=>!O.disabled);b&&t.mandatory==="force"&&!i.value.length&&(i.value=[b.id])}Sg(()=>{c()}),vm(()=>{r=!0});function g(b,O){const T=a.find(k=>k.id===b);if(!(O&&(T!=null&&T.disabled)))if(t.multiple){const k=i.value.slice(),w=k.findIndex(_=>_===b),C=~w;if(O=O??!C,C&&t.mandatory&&k.length<=1||!C&&t.max!=null&&k.length+1>t.max)return;w<0&&O?k.push(b):w>=0&&!O&&k.splice(w,1),i.value=k}else{const k=i.value.includes(b);if(t.mandatory&&k)return;i.value=O??!k?[b]:[]}}function v(b){if(t.multiple,i.value.length){const O=i.value[0],T=a.findIndex(C=>C.id===O);let k=(T+b)%a.length,w=a[k];for(;w.disabled&&k!==T;)k=(k+b)%a.length,w=a[k];if(w.disabled)return;i.value=[a[k].id]}else{const O=a.find(T=>!T.disabled);O&&(i.value=[O.id])}}const y={register:d,unregister:h,selected:i,select:g,disabled:qo(t,"disabled"),prev:()=>v(a.length-1),next:()=>v(1),isSelected:b=>i.value.includes(b),selectedClass:Jt(()=>t.selectedClass),items:Jt(()=>a),getItemIndex:b=>PEe(a,b)};return El(e,y),y}function PEe(t,e){const r=Sbe(t,[e]);return r.length?t.findIndex(a=>a.id===r[0]):-1}function Sbe(t,e){const r=[];return e.forEach(a=>{const i=t.find(d=>jT(a,d.value)),f=t[a];(i==null?void 0:i.value)!=null?r.push(i.id):f!=null&&r.push(f.id)}),r}function MEe(t,e){const r=[];return e.forEach(a=>{const i=t.findIndex(f=>f.id===a);if(~i){const f=t[i];r.push(f.value!=null?f.value:i)}}),r}const wbe=Symbol.for("vuetify:v-btn-toggle"),EEe=Vr({...xbe(),...vle()},"VBtnToggle"),_Ee=Go()({name:"VBtnToggle",props:EEe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{isSelected:a,next:i,prev:f,select:d,selected:h}=Ole(t,wbe);return bs(()=>{const[c]=Mme.filterProps(t);return at(Mme,ts({class:["v-btn-toggle",t.class]},c,{style:t.style}),{default:()=>{var g;return[(g=r.default)==null?void 0:g.call(r,{isSelected:a,next:i,prev:f,select:d,selected:h})]}})}),{next:i,prev:f,select:d}}});const Cbe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar"},Tbe={component:t=>mm(Abe,{...t,class:"mdi"})},Di=[String,Function,Object,Array],lae=Symbol.for("vuetify:icons"),XU=Vr({icon:{type:Di},tag:{type:String,required:!0}},"icon"),Eme=Go()({name:"VComponentIcon",props:XU(),setup(t,e){let{slots:r}=e;return()=>{const a=t.icon;return at(t.tag,null,{default:()=>{var i;return[t.icon?at(a,null,null):(i=r.default)==null?void 0:i.call(r)]}})}}}),kbe=N8({name:"VSvgIcon",inheritAttrs:!1,props:XU(),setup(t,e){let{attrs:r}=e;return()=>at(t.tag,ts(r,{style:null}),{default:()=>[at("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(a=>Array.isArray(a)?at("path",{d:a[0],"fill-opacity":a[1]},null):at("path",{d:a},null)):at("path",{d:t.icon},null)])]})}});N8({name:"VLigatureIcon",props:XU(),setup(t){return()=>at(t.tag,null,{default:()=>[t.icon]})}});const Abe=N8({name:"VClassIcon",props:XU(),setup(t){return()=>at(t.tag,{class:t.icon},null)}}),REe={svg:{component:kbe},class:{component:Abe}};function DEe(t){return _p({defaultSet:"mdi",sets:{...REe,mdi:Tbe},aliases:{...Cbe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},t)}const $Ee=t=>{const e=Da(lae);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:Jt(()=>{var c;const a=Ol(t);if(!a)return{component:Eme};let i=a;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$")&&(i=(c=e.aliases)==null?void 0:c[i.slice(1)])),!i)throw new Error(`Could not find aliased icon "${a}"`);if(Array.isArray(i))return{component:kbe,icon:i};if(typeof i!="string")return{component:Eme,icon:i};const f=Object.keys(e.sets).find(g=>typeof i=="string"&&i.startsWith(`${g}:`)),d=f?i.slice(f.length+1):i;return{component:e.sets[f??e.defaultSet].component,icon:d}})}},LEe=["x-small","small","default","large","x-large"],l$=Vr({size:{type:[String,Number],default:"default"}},"size");function c$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO();return ile(()=>{let r,a;return zH(LEe,t.size)?r=`${e}--size-${t.size}`:t.size&&(a={width:ls(t.size),height:ls(t.size)}),{sizeClasses:r,sizeStyles:a}})}const IEe=Vr({color:String,start:Boolean,end:Boolean,icon:Di,...ua(),...l$(),...wc({tag:"i"}),...su()},"VIcon"),ci=Go()({name:"VIcon",props:IEe(),setup(t,e){let{attrs:r,slots:a}=e;const i=bo(),{themeClasses:f}=Uu(t),{iconData:d}=$Ee(Jt(()=>i.value||t.icon)),{sizeClasses:h}=c$(t),{textColorClasses:c,textColorStyles:g}=Qp(qo(t,"color"));return bs(()=>{var y,b;const v=(y=a.default)==null?void 0:y.call(a);return v&&(i.value=(b=Yye(v).filter(O=>O.type===YD&&O.children&&typeof O.children=="string")[0])==null?void 0:b.children),at(d.value.component,{tag:t.tag,icon:d.value.icon,class:["v-icon","notranslate",f.value,h.value,c.value,{"v-icon--clickable":!!r.onClick,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[h.value?void 0:{fontSize:ls(t.size),height:ls(t.size),width:ls(t.size)},g.value,t.style],role:r.onClick?"button":void 0,"aria-hidden":!r.onClick},{default:()=>[v]})}),{}}});function Pbe(t,e){const r=bo(),a=us(!1);if(sle){const i=new IntersectionObserver(f=>{t==null||t(f,i),a.value=!!f.find(d=>d.isIntersecting)},e);vm(()=>{i.disconnect()}),zo(r,(f,d)=>{d&&(i.unobserve(d),a.value=!1),f&&i.observe(f)},{flush:"post"})}return{intersectionRef:r,isIntersecting:a}}const NEe=Vr({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ua(),...l$(),...wc({tag:"div"}),...su()},"VProgressCircular"),xle=Go()({name:"VProgressCircular",props:NEe(),setup(t,e){let{slots:r}=e;const a=20,i=2*Math.PI*a,f=bo(),{themeClasses:d}=Uu(t),{sizeClasses:h,sizeStyles:c}=c$(t),{textColorClasses:g,textColorStyles:v}=Qp(qo(t,"color")),{textColorClasses:y,textColorStyles:b}=Qp(qo(t,"bgColor")),{intersectionRef:O,isIntersecting:T}=Pbe(),{resizeRef:k,contentRect:w}=o$(),C=Jt(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),_=Jt(()=>Number(t.width)),M=Jt(()=>c.value?Number(t.size):w.value?w.value.width:Math.max(_.value,32)),I=Jt(()=>a/(1-_.value/M.value)*2),V=Jt(()=>_.value/M.value*I.value),N=Jt(()=>ls((100-C.value)/100*i));return pm(()=>{O.value=f.value,k.value=f.value}),bs(()=>at(t.tag,{ref:f,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":T.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},d.value,h.value,g.value,t.class],style:[c.value,v.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:C.value},{default:()=>[at("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${I.value} ${I.value}`},[at("circle",{class:["v-progress-circular__underlay",y.value],style:b.value,fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":V.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),at("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":V.value,"stroke-dasharray":i,"stroke-dashoffset":N.value},null)]),r.default&&at("div",{class:"v-progress-circular__content"},[r.default({value:C.value})])]})),{}}});const _me={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Sle=Vr({location:String},"location");function wle(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:a}=zp();return{locationStyles:Jt(()=>{if(!t.location)return{};const{side:f,align:d}=iae(t.location.split(" ").length>1?t.location:`${t.location} center`,a.value);function h(g){return r?r(g):0}const c={};return f!=="center"&&(e?c[_me[f]]=`calc(100% - ${h(f)}px)`:c[f]=0),d!=="center"?e?c[_me[d]]=`calc(100% - ${h(d)}px)`:c[d]=0:(f==="center"?c.top=c.left="50%":c[{top:"left",bottom:"left",left:"top",right:"top"}[f]]="50%",c.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[f]),c})}}const BEe=Vr({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ua(),...Sle({location:"top"}),...Tg(),...wc(),...su()},"VProgressLinear"),QEe=Go()({name:"VProgressLinear",props:BEe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=ei(t,"modelValue"),{isRtl:i,rtlClasses:f}=zp(),{themeClasses:d}=Uu(t),{locationStyles:h}=wle(t),{textColorClasses:c,textColorStyles:g}=Qp(t,"color"),{backgroundColorClasses:v,backgroundColorStyles:y}=xg(Jt(()=>t.bgColor||t.color)),{backgroundColorClasses:b,backgroundColorStyles:O}=xg(t,"color"),{roundedClasses:T}=kg(t),{intersectionRef:k,isIntersecting:w}=Pbe(),C=Jt(()=>parseInt(t.max,10)),_=Jt(()=>parseInt(t.height,10)),M=Jt(()=>parseFloat(t.bufferValue)/C.value*100),I=Jt(()=>parseFloat(a.value)/C.value*100),V=Jt(()=>i.value!==t.reverse),N=Jt(()=>t.indeterminate?"fade-transition":"slide-x-transition"),Q=Jt(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function z(U){if(!k.value)return;const{left:F,right:B,width:E}=k.value.getBoundingClientRect(),W=V.value?E-U.clientX+(B-E):U.clientX-F;a.value=Math.round(W/E*C.value)}return bs(()=>at(t.tag,{ref:k,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&w.value,"v-progress-linear--reverse":V.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},T.value,d.value,f.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?ls(_.value):0,"--v-progress-linear-height":ls(_.value),...h.value},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:I.value,onClick:t.clickable&&z},{default:()=>[t.stream&&at("div",{key:"stream",class:["v-progress-linear__stream",c.value],style:{...g.value,[V.value?"left":"right"]:ls(-_.value),borderTop:`${ls(_.value/2)} dotted`,opacity:Q.value,top:`calc(50% - ${ls(_.value/4)})`,width:ls(100-M.value,"%"),"--v-progress-linear-stream-to":ls(_.value*(V.value?1:-1))}},null),at("div",{class:["v-progress-linear__background",v.value],style:[y.value,{opacity:Q.value,width:ls(t.stream?M.value:100,"%")}]},null),at(CO,{name:N.value},{default:()=>[t.indeterminate?at("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(U=>at("div",{key:U,class:["v-progress-linear__indeterminate",U,b.value],style:O.value},null))]):at("div",{class:["v-progress-linear__determinate",b.value],style:[O.value,{width:ls(I.value,"%")}]},null)]}),r.default&&at("div",{class:"v-progress-linear__content"},[r.default({value:I.value,buffer:M.value})])]})),{}}}),GU=Vr({loading:[Boolean,String]},"loader");function u$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO();return{loaderClasses:Jt(()=>({[`${e}--loading`]:t.loading}))}}function jU(t,e){var a;let{slots:r}=e;return at("div",{class:`${t.name}__loader`},[((a=r.default)==null?void 0:a.call(r,{color:t.color,isActive:t.active}))||at(QEe,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const FEe=["static","relative","fixed","absolute","sticky"],Mbe=Vr({position:{type:String,validator:t=>FEe.includes(t)}},"position");function Ebe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO();return{positionClasses:Jt(()=>t.position?`${e}--${t.position}`:void 0)}}function VEe(){var t,e;return(e=(t=Af("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function qU(t,e){const r=gg("RouterLink"),a=Jt(()=>!!(t.href||t.to)),i=Jt(()=>(a==null?void 0:a.value)||sme(e,"click")||sme(t,"click"));if(typeof r=="string")return{isLink:a,isClickable:i,href:qo(t,"href")};const f=t.to?r.useLink(t):void 0;return{isLink:a,isClickable:i,route:f==null?void 0:f.route,navigate:f==null?void 0:f.navigate,isActive:f&&Jt(()=>{var d,h;return t.exact?(d=f.isExactActive)==null?void 0:d.value:(h=f.isActive)==null?void 0:h.value}),href:Jt(()=>t.to?f==null?void 0:f.route.value.href:t.href)}}const KU=Vr({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let xoe=!1;function zEe(t,e){let r=!1,a,i;Yl&&(wl(()=>{window.addEventListener("popstate",f),a=t==null?void 0:t.beforeEach((d,h,c)=>{xoe?r?e(c):c():setTimeout(()=>r?e(c):c()),xoe=!0}),i=t==null?void 0:t.afterEach(()=>{xoe=!1})}),dm(()=>{window.removeEventListener("popstate",f),a==null||a(),i==null||i()}));function f(d){var h;(h=d.state)!=null&&h.replaced||(r=!0,setTimeout(()=>r=!1))}}function ZEe(t,e){zo(()=>{var r;return(r=t.isActive)==null?void 0:r.value},r=>{t.isLink.value&&r&&e&&wl(()=>{e(!0)})},{immediate:!0})}const cae=Symbol("rippleStop"),HEe=80;function Rme(t,e){t.style.transform=e,t.style.webkitTransform=e}function uae(t){return t.constructor.name==="TouchEvent"}function _be(t){return t.constructor.name==="KeyboardEvent"}const UEe=function(t,e){var y;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=0,i=0;if(!_be(t)){const b=e.getBoundingClientRect(),O=uae(t)?t.touches[t.touches.length-1]:t;a=O.clientX-b.left,i=O.clientY-b.top}let f=0,d=.3;(y=e._ripple)!=null&&y.circle?(d=.15,f=e.clientWidth/2,f=r.center?f:f+Math.sqrt((a-f)**2+(i-f)**2)/4):f=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const h=`${(e.clientWidth-f*2)/2}px`,c=`${(e.clientHeight-f*2)/2}px`,g=r.center?h:`${a-f}px`,v=r.center?c:`${i-f}px`;return{radius:f,scale:d,x:g,y:v,centerX:h,centerY:c}},qH={show(t,e){var O;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((O=e==null?void 0:e._ripple)!=null&&O.enabled))return;const a=document.createElement("span"),i=document.createElement("span");a.appendChild(i),a.className="v-ripple__container",r.class&&(a.className+=` ${r.class}`);const{radius:f,scale:d,x:h,y:c,centerX:g,centerY:v}=UEe(t,e,r),y=`${f*2}px`;i.className="v-ripple__animation",i.style.width=y,i.style.height=y,e.appendChild(a);const b=window.getComputedStyle(e);b&&b.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),Rme(i,`translate(${h}, ${c}) scale3d(${d},${d},${d})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),Rme(i,`translate(${g}, ${v}) scale3d(1,1,1)`)},0)},hide(t){var f;if(!((f=t==null?void 0:t._ripple)!=null&&f.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const r=e[e.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const a=performance.now()-Number(r.dataset.activated),i=Math.max(250-a,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{var h;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((h=r.parentNode)==null?void 0:h.parentNode)===t&&t.removeChild(r.parentNode)},300)},i)}};function Rbe(t){return typeof t>"u"||!!t}function LD(t){const e={},r=t.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||t[cae])){if(t[cae]=!0,uae(t))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(e.center=r._ripple.centered||_be(t),r._ripple.class&&(e.class=r._ripple.class),uae(t)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{qH.show(t,r,e)},r._ripple.showTimer=window.setTimeout(()=>{var a;(a=r==null?void 0:r._ripple)!=null&&a.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},HEe)}else qH.show(t,r,e)}}function Dme(t){t[cae]=!0}function yg(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{yg(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),qH.hide(e)}}function Dbe(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let ID=!1;function $be(t){!ID&&(t.keyCode===nme.enter||t.keyCode===nme.space)&&(ID=!0,LD(t))}function Lbe(t){ID=!1,yg(t)}function Ibe(t){ID&&(ID=!1,yg(t))}function Nbe(t,e,r){const{value:a,modifiers:i}=e,f=Rbe(a);if(f||qH.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=f,t._ripple.centered=i.center,t._ripple.circle=i.circle,sae(a)&&a.class&&(t._ripple.class=a.class),f&&!r){if(i.stop){t.addEventListener("touchstart",Dme,{passive:!0}),t.addEventListener("mousedown",Dme);return}t.addEventListener("touchstart",LD,{passive:!0}),t.addEventListener("touchend",yg,{passive:!0}),t.addEventListener("touchmove",Dbe,{passive:!0}),t.addEventListener("touchcancel",yg),t.addEventListener("mousedown",LD),t.addEventListener("mouseup",yg),t.addEventListener("mouseleave",yg),t.addEventListener("keydown",$be),t.addEventListener("keyup",Lbe),t.addEventListener("blur",Ibe),t.addEventListener("dragstart",yg,{passive:!0})}else!f&&r&&Bbe(t)}function Bbe(t){t.removeEventListener("mousedown",LD),t.removeEventListener("touchstart",LD),t.removeEventListener("touchend",yg),t.removeEventListener("touchmove",Dbe),t.removeEventListener("touchcancel",yg),t.removeEventListener("mouseup",yg),t.removeEventListener("mouseleave",yg),t.removeEventListener("keydown",$be),t.removeEventListener("keyup",Lbe),t.removeEventListener("dragstart",yg),t.removeEventListener("blur",Ibe)}function WEe(t,e){Nbe(t,e,!1)}function YEe(t){delete t._ripple,Bbe(t)}function XEe(t,e){if(e.value===e.oldValue)return;const r=Rbe(e.oldValue);Nbe(t,e,r)}const e5={mounted:WEe,unmounted:YEe,updated:XEe},GEe=Vr({active:{type:Boolean,default:void 0},symbol:{type:null,default:wbe},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Di,appendIcon:Di,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...ZS(),...ua(),...Kv(),...qT(),...fy(),...yle(),...GU(),...Sle(),...Mbe(),...Tg(),...KU(),...l$(),...wc({tag:"button"}),...su(),...US({variant:"elevated"})},"VBtn"),yi=Go()({name:"VBtn",directives:{Ripple:e5},props:GEe(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:r,slots:a}=e;const{themeClasses:i}=Uu(t),{borderClasses:f}=HS(t),{colorClasses:d,colorStyles:h,variantClasses:c}=i$(t),{densityClasses:g}=hy(t),{dimensionStyles:v}=KT(t),{elevationClasses:y}=dy(t),{loaderClasses:b}=u$(t),{locationStyles:O}=wle(t),{positionClasses:T}=Ebe(t),{roundedClasses:k}=kg(t),{sizeClasses:w,sizeStyles:C}=c$(t),_=ble(t,t.symbol,!1),M=qU(t,r),I=Jt(()=>{var U;return t.active!==void 0?t.active:M.isLink.value?(U=M.isActive)==null?void 0:U.value:_==null?void 0:_.isSelected.value}),V=Jt(()=>(_==null?void 0:_.disabled.value)||t.disabled),N=Jt(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),Q=Jt(()=>{if(t.value!==void 0)return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function z(U){var F;V.value||M.isLink.value&&(U.metaKey||U.ctrlKey||U.shiftKey||U.button!==0||r.target==="_blank")||((F=M.navigate)==null||F.call(M,U),_==null||_.toggle())}return ZEe(M,_==null?void 0:_.select),bs(()=>{var X,ie;const U=M.isLink.value?"a":t.tag,F=!!(t.prependIcon||a.prepend),B=!!(t.appendIcon||a.append),E=!!(t.icon&&t.icon!==!0),W=(_==null?void 0:_.isSelected.value)&&(!M.isLink.value||((X=M.isActive)==null?void 0:X.value))||!_||((ie=M.isActive)==null?void 0:ie.value);return zu(at(U,{type:U==="a"?void 0:"button",class:["v-btn",_==null?void 0:_.selectedClass.value,{"v-btn--active":I.value,"v-btn--block":t.block,"v-btn--disabled":V.value,"v-btn--elevated":N.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},i.value,f.value,W?d.value:void 0,g.value,y.value,b.value,T.value,k.value,w.value,c.value,t.class],style:[W?h.value:void 0,v.value,O.value,C.value,t.style],disabled:V.value||void 0,href:M.href.value,onClick:z,value:Q.value},{default:()=>{var L;return[a$(!0,"v-btn"),!t.icon&&F&&at("span",{key:"prepend",class:"v-btn__prepend"},[a.prepend?at(Hc,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},a.prepend):at(ci,{key:"prepend-icon",icon:t.prependIcon},null)]),at("span",{class:"v-btn__content","data-no-activator":""},[!a.default&&E?at(ci,{key:"content-icon",icon:t.icon},null):at(Hc,{key:"content-defaults",disabled:!E,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var me;return[((me=a.default)==null?void 0:me.call(a))??t.text]}})]),!t.icon&&B&&at("span",{key:"append",class:"v-btn__append"},[a.append?at(Hc,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},a.append):at(ci,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&at("span",{key:"loader",class:"v-btn__loader"},[((L=a.loader)==null?void 0:L.call(a))??at(xle,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Gv("ripple"),!V.value&&t.ripple,null]])}),{}}});const jEe=Vr({text:String,clickable:Boolean,...ua(),...su()},"VLabel"),JU=Go()({name:"VLabel",props:jEe(),setup(t,e){let{slots:r}=e;return bs(()=>{var a;return at("label",{class:["v-label",{"v-label--clickable":t.clickable},t.class],style:t.style},[t.text,(a=r.default)==null?void 0:a.call(r)])}),{}}});const Qbe=Symbol.for("vuetify:selection-control-group"),Fbe=Vr({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Di,trueIcon:Di,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:jT},...ua(),...Kv(),...su()},"SelectionControlGroup"),qEe=Vr({...Fbe({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Go()({name:"VSelectionControlGroup",props:qEe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=ei(t,"modelValue"),i=Vp(),f=Jt(()=>t.id||`v-selection-control-group-${i}`),d=Jt(()=>t.name||f.value),h=new Set;return El(Qbe,{modelValue:a,forceUpdate:()=>{h.forEach(c=>c())},onForceUpdate:c=>{h.add(c),dm(()=>{h.delete(c)})}}),uy({[t.defaultsTarget]:{color:qo(t,"color"),disabled:qo(t,"disabled"),density:qo(t,"density"),error:qo(t,"error"),inline:qo(t,"inline"),modelValue:a,multiple:Jt(()=>!!t.multiple||t.multiple==null&&Array.isArray(a.value)),name:d,falseIcon:qo(t,"falseIcon"),trueIcon:qo(t,"trueIcon"),readonly:qo(t,"readonly"),ripple:qo(t,"ripple"),type:qo(t,"type"),valueComparator:qo(t,"valueComparator")}}),bs(()=>{var c;return at("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(c=r.default)==null?void 0:c.call(r)])}),{}}});const Cle=Vr({label:String,trueValue:null,falseValue:null,value:null,...ua(),...Fbe()},"VSelectionControl");function KEe(t){const e=Da(Qbe,void 0),{densityClasses:r}=hy(t),a=ei(t,"modelValue"),i=Jt(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),f=Jt(()=>t.falseValue!==void 0?t.falseValue:!1),d=Jt(()=>!!t.multiple||t.multiple==null&&Array.isArray(a.value)),h=Jt({get(){const O=e?e.modelValue.value:a.value;return d.value?O.some(T=>t.valueComparator(T,i.value)):t.valueComparator(O,i.value)},set(O){if(t.readonly)return;const T=O?i.value:f.value;let k=T;d.value&&(k=O?[...Oh(a.value),T]:Oh(a.value).filter(w=>!t.valueComparator(w,i.value))),e?e.modelValue.value=k:a.value=k}}),{textColorClasses:c,textColorStyles:g}=Qp(Jt(()=>h.value&&!t.error&&!t.disabled?t.color:void 0)),{backgroundColorClasses:v,backgroundColorStyles:y}=xg(Jt(()=>h.value&&!t.error&&!t.disabled?t.color:void 0)),b=Jt(()=>h.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:r,trueValue:i,falseValue:f,model:h,textColorClasses:c,textColorStyles:g,backgroundColorClasses:v,backgroundColorStyles:y,icon:b}}const KH=Go()({name:"VSelectionControl",directives:{Ripple:e5},inheritAttrs:!1,props:Cle(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:a}=e;const{group:i,densityClasses:f,icon:d,model:h,textColorClasses:c,textColorStyles:g,backgroundColorClasses:v,backgroundColorStyles:y,trueValue:b}=KEe(t),O=Vp(),T=Jt(()=>t.id||`input-${O}`),k=us(!1),w=us(!1),C=bo();i==null||i.onForceUpdate(()=>{C.value&&(C.value.checked=h.value)});function _(V){k.value=!0,w8(V.target,":focus-visible")!==!1&&(w.value=!0)}function M(){k.value=!1,w.value=!1}function I(V){t.readonly&&i&&wl(()=>i.forceUpdate()),h.value=V.target.checked}return bs(()=>{var U,F;const V=a.label?a.label({label:t.label,props:{for:T.value}}):t.label,[N,Q]=YU(r),z=at("input",ts({ref:C,checked:h.value,disabled:!!(t.readonly||t.disabled),id:T.value,onBlur:M,onFocus:_,onInput:I,"aria-disabled":!!(t.readonly||t.disabled),type:t.type,value:b.value,name:t.name,"aria-checked":t.type==="checkbox"?h.value:void 0},Q),null);return at("div",ts({class:["v-selection-control",{"v-selection-control--dirty":h.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":k.value,"v-selection-control--focus-visible":w.value,"v-selection-control--inline":t.inline},f.value,t.class]},N,{style:t.style}),[at("div",{class:["v-selection-control__wrapper",c.value],style:g.value},[(U=a.default)==null?void 0:U.call(a,{backgroundColorClasses:v,backgroundColorStyles:y}),zu(at("div",{class:["v-selection-control__input"]},[((F=a.input)==null?void 0:F.call(a,{model:h,textColorClasses:c,textColorStyles:g,backgroundColorClasses:v,backgroundColorStyles:y,inputNode:z,icon:d.value,props:{onFocus:_,onBlur:M,id:T.value}}))??at(es,null,[d.value&&at(ci,{key:"icon",icon:d.value},null),z])]),[[Gv("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),V&&at(JU,{for:T.value,clickable:!0,onClick:B=>B.stopPropagation()},{default:()=>[V]})])}),{isFocused:k,input:C}}}),JEe=Vr({indeterminate:Boolean,indeterminateIcon:{type:Di,default:"$checkboxIndeterminate"},...Cle({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Q8=Go()({name:"VCheckboxBtn",props:JEe(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:r}=e;const a=ei(t,"indeterminate"),i=ei(t,"modelValue");function f(c){a.value&&(a.value=!1)}const d=Jt(()=>a.value?t.indeterminateIcon:t.falseIcon),h=Jt(()=>a.value?t.indeterminateIcon:t.trueIcon);return bs(()=>{const c=I8(KH.filterProps(t)[0],["modelValue"]);return at(KH,ts(c,{modelValue:i.value,"onUpdate:modelValue":[g=>i.value=g,f],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:d.value,trueIcon:h.value,"aria-checked":a.value?"mixed":void 0}),r)}),{}}});function Vbe(t){const{t:e}=zS();function r(a){let{name:i}=a;const f={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],d=t[`onClick:${i}`],h=d&&f?e(`$vuetify.input.${f}`,t.label??""):void 0;return at(ci,{icon:t[`${i}Icon`],"aria-label":h,onClick:d},null)}return{InputIcon:r}}const e9e=Vr({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ua(),...JT({transition:{component:pbe,leaveAbsolute:!0,group:!0}})},"VMessages"),t9e=Go()({name:"VMessages",props:e9e(),setup(t,e){let{slots:r}=e;const a=Jt(()=>Oh(t.messages)),{textColorClasses:i,textColorStyles:f}=Qp(Jt(()=>t.color));return bs(()=>at(SS,{transition:t.transition,tag:"div",class:["v-messages",i.value,t.class],style:[f.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&a.value.map((d,h)=>at("div",{class:"v-messages__message",key:`${h}-${a.value}`},[r.message?r.message({message:d}):d]))]})),{}}}),eW=Vr({focused:Boolean,"onUpdate:focused":ry()},"focus");function F8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO();const r=ei(t,"focused"),a=Jt(()=>({[`${e}--focused`]:r.value}));function i(){r.value=!0}function f(){r.value=!1}return{focusClasses:a,isFocused:r,focus:i,blur:f}}const n9e=Symbol.for("vuetify:form");function tW(){return Da(n9e,null)}const r9e=Vr({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...eW()},"validation");function o9e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DO(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vp();const a=ei(t,"modelValue"),i=Jt(()=>t.validationValue===void 0?a.value:t.validationValue),f=tW(),d=bo([]),h=us(!0),c=Jt(()=>!!(Oh(a.value===""?null:a.value).length||Oh(i.value===""?null:i.value).length)),g=Jt(()=>!!(t.disabled??(f==null?void 0:f.isDisabled.value))),v=Jt(()=>!!(t.readonly??(f==null?void 0:f.isReadonly.value))),y=Jt(()=>{var I;return(I=t.errorMessages)!=null&&I.length?Oh(t.errorMessages).slice(0,Math.max(0,+t.maxErrors)):d.value}),b=Jt(()=>{let I=(t.validateOn??(f==null?void 0:f.validateOn.value))||"input";I==="lazy"&&(I="input lazy");const V=new Set((I==null?void 0:I.split(" "))??[]);return{blur:V.has("blur")||V.has("input"),input:V.has("input"),submit:V.has("submit"),lazy:V.has("lazy")}}),O=Jt(()=>{var I;return t.error||(I=t.errorMessages)!=null&&I.length?!1:t.rules.length?h.value?d.value.length||b.value.lazy?null:!0:!d.value.length:!0}),T=us(!1),k=Jt(()=>({[`${e}--error`]:O.value===!1,[`${e}--dirty`]:c.value,[`${e}--disabled`]:g.value,[`${e}--readonly`]:v.value})),w=Jt(()=>t.name??Ol(r));iie(()=>{f==null||f.register({id:w.value,validate:M,reset:C,resetValidation:_})}),vm(()=>{f==null||f.unregister(w.value)}),Sg(async()=>{b.value.lazy||await M(!0),f==null||f.update(w.value,O.value,y.value)}),NS(()=>b.value.input,()=>{zo(i,()=>{if(i.value!=null)M();else if(t.focused){const I=zo(()=>t.focused,V=>{V||M(),I()})}})}),NS(()=>b.value.blur,()=>{zo(()=>t.focused,I=>{I||M()})}),zo(O,()=>{f==null||f.update(w.value,O.value,y.value)});function C(){a.value=null,wl(_)}function _(){h.value=!0,b.value.lazy?d.value=[]:M(!0)}async function M(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const V=[];T.value=!0;for(const N of t.rules){if(V.length>=+(t.maxErrors??1))break;const z=await(typeof N=="function"?N:()=>N)(i.value);if(z!==!0){if(z!==!1&&typeof z!="string"){console.warn(`${z} is not a valid value. Rule functions must return boolean true or a string.`);continue}V.push(z||"")}}return d.value=V,T.value=!1,h.value=I,d.value}return{errorMessages:y,isDirty:c,isDisabled:g,isReadonly:v,isPristine:h,isValid:O,isValidating:T,reset:C,resetValidation:_,validate:M,validationClasses:k}}const V8=Vr({id:String,appendIcon:Di,centerAffix:{type:Boolean,default:!0},prependIcon:Di,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":ry(),"onClick:append":ry(),...ua(),...Kv(),...r9e()},"VInput"),sy=Go()({name:"VInput",props:{...V8()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:r,slots:a,emit:i}=e;const{densityClasses:f}=hy(t),{rtlClasses:d}=zp(),{InputIcon:h}=Vbe(t),c=Vp(),g=Jt(()=>t.id||`input-${c}`),v=Jt(()=>`${g.value}-messages`),{errorMessages:y,isDirty:b,isDisabled:O,isReadonly:T,isPristine:k,isValid:w,isValidating:C,reset:_,resetValidation:M,validate:I,validationClasses:V}=o9e(t,"v-input",g),N=Jt(()=>({id:g,messagesId:v,isDirty:b,isDisabled:O,isReadonly:T,isPristine:k,isValid:w,isValidating:C,reset:_,resetValidation:M,validate:I})),Q=Jt(()=>{var z;return(z=t.errorMessages)!=null&&z.length||!k.value&&y.value.length?y.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return bs(()=>{var E,W,X,ie;const z=!!(a.prepend||t.prependIcon),U=!!(a.append||t.appendIcon),F=Q.value.length>0,B=!t.hideDetails||t.hideDetails==="auto"&&(F||!!a.details);return at("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix},f.value,d.value,V.value,t.class],style:t.style},[z&&at("div",{key:"prepend",class:"v-input__prepend"},[(E=a.prepend)==null?void 0:E.call(a,N.value),t.prependIcon&&at(h,{key:"prepend-icon",name:"prepend"},null)]),a.default&&at("div",{class:"v-input__control"},[(W=a.default)==null?void 0:W.call(a,N.value)]),U&&at("div",{key:"append",class:"v-input__append"},[t.appendIcon&&at(h,{key:"append-icon",name:"append"},null),(X=a.append)==null?void 0:X.call(a,N.value)]),B&&at("div",{class:"v-input__details"},[at(t9e,{id:v.value,active:F,messages:Q.value},{message:a.message}),(ie=a.details)==null?void 0:ie.call(a,N.value)])])}),{reset:_,resetValidation:M,validate:I}}});const s9e=Vr({start:Boolean,end:Boolean,icon:Di,image:String,...ua(),...Kv(),...Tg(),...l$(),...wc(),...su(),...US({variant:"flat"})},"VAvatar"),T8=Go()({name:"VAvatar",props:s9e(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=Uu(t),{colorClasses:i,colorStyles:f,variantClasses:d}=i$(t),{densityClasses:h}=hy(t),{roundedClasses:c}=kg(t),{sizeClasses:g,sizeStyles:v}=c$(t);return bs(()=>at(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},a.value,i.value,h.value,c.value,g.value,d.value,t.class],style:[f.value,v.value,t.style]},{default:()=>{var y;return[t.image?at(s$,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?at(ci,{key:"icon",icon:t.icon},null):(y=r.default)==null?void 0:y.call(r),a$(!1,"v-avatar")]}})),{}}});const zbe=Symbol.for("vuetify:v-chip-group"),a9e=Vr({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:jT},...ua(),...vle({selectedClass:"v-chip--selected"}),...wc(),...su(),...US({variant:"tonal"})},"VChipGroup");Go()({name:"VChipGroup",props:a9e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const{themeClasses:a}=Uu(t),{isSelected:i,select:f,next:d,prev:h,selected:c}=Ole(t,zbe);return uy({VChip:{color:qo(t,"color"),disabled:qo(t,"disabled"),filter:qo(t,"filter"),variant:qo(t,"variant")}}),bs(()=>at(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},a.value,t.class],style:t.style},{default:()=>{var g;return[(g=r.default)==null?void 0:g.call(r,{isSelected:i,select:f,next:d,prev:h,selected:c.value})]}})),{}}});const i9e=Vr({activeClass:String,appendAvatar:String,appendIcon:Di,closable:Boolean,closeIcon:{type:Di,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Di,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ry(),onClickOnce:ry(),...ZS(),...ua(),...Kv(),...fy(),...yle(),...Tg(),...KU(),...l$(),...wc({tag:"span"}),...su(),...US({variant:"tonal"})},"VChip"),nW=Go()({name:"VChip",directives:{Ripple:e5},props:i9e(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{t:f}=zS(),{borderClasses:d}=HS(t),{colorClasses:h,colorStyles:c,variantClasses:g}=i$(t),{densityClasses:v}=hy(t),{elevationClasses:y}=dy(t),{roundedClasses:b}=kg(t),{sizeClasses:O}=c$(t),{themeClasses:T}=Uu(t),k=ei(t,"modelValue"),w=ble(t,zbe,!1),C=qU(t,r),_=Jt(()=>t.link!==!1&&C.isLink.value),M=Jt(()=>!t.disabled&&t.link!==!1&&(!!w||t.link||C.isClickable.value)),I=Jt(()=>({"aria-label":f(t.closeLabel),onClick(Q){Q.stopPropagation(),k.value=!1,a("click:close",Q)}}));function V(Q){var z;a("click",Q),M.value&&((z=C.navigate)==null||z.call(C,Q),w==null||w.toggle())}function N(Q){(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),V(Q))}return()=>{const Q=C.isLink.value?"a":t.tag,z=!!(t.appendIcon||t.appendAvatar),U=!!(z||i.append),F=!!(i.close||t.closable),B=!!(i.filter||t.filter)&&w,E=!!(t.prependIcon||t.prependAvatar),W=!!(E||i.prepend),X=!w||w.isSelected.value;return k.value&&zu(at(Q,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":M.value,"v-chip--filter":B,"v-chip--pill":t.pill},T.value,d.value,X?h.value:void 0,v.value,y.value,b.value,O.value,g.value,w==null?void 0:w.selectedClass.value,t.class],style:[X?c.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:C.href.value,tabindex:M.value?0:void 0,onClick:V,onKeydown:M.value&&!_.value&&N},{default:()=>{var ie;return[a$(M.value,"v-chip"),B&&at(vbe,{key:"filter"},{default:()=>[zu(at("div",{class:"v-chip__filter"},[i.filter?at(Hc,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},i.filter):at(ci,{key:"filter-icon",icon:t.filterIcon},null)]),[[BS,w.isSelected.value]])]}),W&&at("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?at(Hc,{key:"prepend-defaults",disabled:!E,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},i.prepend):at(es,null,[t.prependIcon&&at(ci,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&at(T8,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),at("div",{class:"v-chip__content"},[((ie=i.default)==null?void 0:ie.call(i,{isSelected:w==null?void 0:w.isSelected.value,selectedClass:w==null?void 0:w.selectedClass.value,select:w==null?void 0:w.select,toggle:w==null?void 0:w.toggle,value:w==null?void 0:w.value.value,disabled:t.disabled}))??t.text]),U&&at("div",{key:"append",class:"v-chip__append"},[i.append?at(Hc,{key:"append-defaults",disabled:!z,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},i.append):at(es,null,[t.appendIcon&&at(ci,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&at(T8,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),F&&at("div",ts({key:"close",class:"v-chip__close"},I.value),[i.close?at(Hc,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},i.close):at(ci,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Gv("ripple"),M.value&&t.ripple,null]])}}});const fae=Symbol.for("vuetify:list");function Zbe(){const t=Da(fae,{hasPrepend:us(!1),updateHasPrepend:()=>null}),e={hasPrepend:us(!1),updateHasPrepend:r=>{r&&(e.hasPrepend.value=r)}};return El(fae,e),t}function Hbe(){return Da(fae,null)}const l9e={open:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(r){const f=new Set;f.add(e);let d=i.get(e);for(;d!=null;)f.add(d),d=i.get(d);return f}else return a.delete(e),a},select:()=>null},Ube={open:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(r){let f=i.get(e);for(a.add(e);f!=null&&f!==e;)a.add(f),f=i.get(f);return a}else a.delete(e);return a},select:()=>null},c9e={open:Ube.open,select:t=>{let{id:e,value:r,opened:a,parents:i}=t;if(!r)return a;const f=[];let d=i.get(e);for(;d!=null;)f.push(d),d=i.get(d);return new Set(f)}},Tle=t=>{const e={select:r=>{let{id:a,value:i,selected:f}=r;if(a=ya(a),t&&!i){const d=Array.from(f.entries()).reduce((h,c)=>{let[g,v]=c;return v==="on"?[...h,g]:h},[]);if(d.length===1&&d[0]===a)return f}return f.set(a,i?"on":"off"),f},in:(r,a,i)=>{let f=new Map;for(const d of r||[])f=e.select({id:d,value:!0,selected:new Map(f),children:a,parents:i});return f},out:r=>{const a=[];for(const[i,f]of r.entries())f==="on"&&a.push(i);return a}};return e},Wbe=t=>{const e=Tle(t);return{select:a=>{let{selected:i,id:f,...d}=a;f=ya(f);const h=i.has(f)?new Map([[f,i.get(f)]]):new Map;return e.select({...d,id:f,selected:h})},in:(a,i,f)=>{let d=new Map;return a!=null&&a.length&&(d=e.in(a.slice(0,1),i,f)),d},out:(a,i,f)=>e.out(a,i,f)}},u9e=t=>{const e=Tle(t);return{select:a=>{let{id:i,selected:f,children:d,...h}=a;return i=ya(i),d.has(i)?f:e.select({id:i,selected:f,children:d,...h})},in:e.in,out:e.out}},f9e=t=>{const e=Wbe(t);return{select:a=>{let{id:i,selected:f,children:d,...h}=a;return i=ya(i),d.has(i)?f:e.select({id:i,selected:f,children:d,...h})},in:e.in,out:e.out}},d9e=t=>{const e={select:r=>{let{id:a,value:i,selected:f,children:d,parents:h}=r;a=ya(a);const c=new Map(f),g=[a];for(;g.length;){const y=g.shift();f.set(y,i?"on":"off"),d.has(y)&&g.push(...d.get(y))}let v=h.get(a);for(;v;){const y=d.get(v),b=y.every(T=>f.get(T)==="on"),O=y.every(T=>!f.has(T)||f.get(T)==="off");f.set(v,b?"on":O?"off":"indeterminate"),v=h.get(v)}return t&&!i&&Array.from(f.entries()).reduce((b,O)=>{let[T,k]=O;return k==="on"?[...b,T]:b},[]).length===0?c:f},in:(r,a,i)=>{let f=new Map;for(const d of r||[])f=e.select({id:d,value:!0,selected:new Map(f),children:a,parents:i});return f},out:(r,a)=>{const i=[];for(const[f,d]of r.entries())d==="on"&&!a.has(f)&&i.push(f);return i}};return e},ND=Symbol.for("vuetify:nested"),Ybe={id:us(),root:{register:()=>null,unregister:()=>null,parents:bo(new Map),children:bo(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:bo(new Set),selected:bo(new Map),selectedValues:bo([])}},h9e=Vr({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),m9e=t=>{let e=!1;const r=bo(new Map),a=bo(new Map),i=ei(t,"opened",t.opened,y=>new Set(y),y=>[...y.values()]),f=Jt(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return f9e(t.mandatory);case"leaf":return u9e(t.mandatory);case"independent":return Tle(t.mandatory);case"single-independent":return Wbe(t.mandatory);case"classic":default:return d9e(t.mandatory)}}),d=Jt(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return c9e;case"single":return l9e;case"multiple":default:return Ube}}),h=ei(t,"selected",t.selected,y=>f.value.in(y,r.value,a.value),y=>f.value.out(y,r.value,a.value));vm(()=>{e=!0});function c(y){const b=[];let O=y;for(;O!=null;)b.unshift(O),O=a.value.get(O);return b}const g=Af("nested"),v={id:us(),root:{opened:i,selected:h,selectedValues:Jt(()=>{const y=[];for(const[b,O]of h.value.entries())O==="on"&&y.push(b);return y}),register:(y,b,O)=>{b&&y!==b&&a.value.set(y,b),O&&r.value.set(y,[]),b!=null&&r.value.set(b,[...r.value.get(b)||[],y])},unregister:y=>{if(e)return;r.value.delete(y);const b=a.value.get(y);if(b){const O=r.value.get(b)??[];r.value.set(b,O.filter(T=>T!==y))}a.value.delete(y),i.value.delete(y)},open:(y,b,O)=>{g.emit("click:open",{id:y,value:b,path:c(y),event:O});const T=d.value.open({id:y,value:b,opened:new Set(i.value),children:r.value,parents:a.value,event:O});T&&(i.value=T)},openOnSelect:(y,b,O)=>{const T=d.value.select({id:y,value:b,selected:new Map(h.value),opened:new Set(i.value),children:r.value,parents:a.value,event:O});T&&(i.value=T)},select:(y,b,O)=>{g.emit("click:select",{id:y,value:b,path:c(y),event:O});const T=f.value.select({id:y,value:b,selected:new Map(h.value),children:r.value,parents:a.value,event:O});T&&(h.value=T),v.root.openOnSelect(y,b,O)},children:r,parents:a}};return El(ND,v),v.root},Xbe=(t,e)=>{const r=Da(ND,Ybe),a=Symbol(Vp()),i=Jt(()=>t.value!==void 0?t.value:a),f={...r,id:i,open:(d,h)=>r.root.open(i.value,d,h),openOnSelect:(d,h)=>r.root.openOnSelect(i.value,d,h),isOpen:Jt(()=>r.root.opened.value.has(i.value)),parent:Jt(()=>r.root.parents.value.get(i.value)),select:(d,h)=>r.root.select(i.value,d,h),isSelected:Jt(()=>r.root.selected.value.get(ya(i.value))==="on"),isIndeterminate:Jt(()=>r.root.selected.value.get(i.value)==="indeterminate"),isLeaf:Jt(()=>!r.root.children.value.get(i.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(i.value,r.id.value,e),vm(()=>{!r.isGroupActivator&&r.root.unregister(i.value)}),e&&El(ND,f),f},g9e=()=>{const t=Da(ND,Ybe);El(ND,{...t,isGroupActivator:!0})},p9e=N8({name:"VListGroupActivator",setup(t,e){let{slots:r}=e;return g9e(),()=>{var a;return(a=r.default)==null?void 0:a.call(r)}}}),v9e=Vr({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Di,default:"$collapse"},expandIcon:{type:Di,default:"$expand"},prependIcon:Di,appendIcon:Di,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ua(),...wc()},"VListGroup"),$me=Go()({name:"VListGroup",props:v9e(),setup(t,e){let{slots:r}=e;const{isOpen:a,open:i,id:f}=Xbe(qo(t,"value"),!0),d=Jt(()=>`v-list-group--id-${String(f.value)}`),h=Hbe(),{isBooted:c}=ple();function g(O){i(!a.value,O)}const v=Jt(()=>({onClick:g,class:"v-list-group__header",id:d.value})),y=Jt(()=>a.value?t.collapseIcon:t.expandIcon),b=Jt(()=>({VListItem:{active:a.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&y.value,appendIcon:t.appendIcon||!t.subgroup&&y.value,title:t.title,value:t.value}}));return bs(()=>at(t.tag,{class:["v-list-group",{"v-list-group--prepend":h==null?void 0:h.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":a.value},t.class],style:t.style},{default:()=>[r.activator&&at(Hc,{defaults:b.value},{default:()=>[at(p9e,null,{default:()=>[r.activator({props:v.value,isOpen:a.value})]})]}),at(SS,{transition:{component:hle},disabled:!c.value},{default:()=>{var O;return[zu(at("div",{class:"v-list-group__items",role:"group","aria-labelledby":d.value},[(O=r.default)==null?void 0:O.call(r)]),[[BS,a.value]])]}})]})),{}}});const y9e=B8("v-list-item-subtitle"),vS=B8("v-list-item-title"),b9e=Vr({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Di,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Di,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:ry(),onClickOnce:ry(),...ZS(),...ua(),...Kv(),...qT(),...fy(),...Tg(),...KU(),...wc(),...su(),...US({variant:"text"})},"VListItem"),Md=Go()({name:"VListItem",directives:{Ripple:e5},props:b9e(),emits:{click:t=>!0},setup(t,e){let{attrs:r,slots:a,emit:i}=e;const f=qU(t,r),d=Jt(()=>t.value===void 0?f.href.value:t.value),{select:h,isSelected:c,isIndeterminate:g,isGroupActivator:v,root:y,parent:b,openOnSelect:O}=Xbe(d,!1),T=Hbe(),k=Jt(()=>{var ae;return t.active!==!1&&(t.active||((ae=f.isActive)==null?void 0:ae.value)||c.value)}),w=Jt(()=>t.link!==!1&&f.isLink.value),C=Jt(()=>!t.disabled&&t.link!==!1&&(t.link||f.isClickable.value||t.value!=null&&!!T)),_=Jt(()=>t.rounded||t.nav),M=Jt(()=>t.color??t.activeColor),I=Jt(()=>({color:k.value?M.value??t.baseColor:t.baseColor,variant:t.variant}));zo(()=>{var ae;return(ae=f.isActive)==null?void 0:ae.value},ae=>{ae&&b.value!=null&&y.open(b.value,!0),ae&&O(ae)},{immediate:!0});const{themeClasses:V}=Uu(t),{borderClasses:N}=HS(t),{colorClasses:Q,colorStyles:z,variantClasses:U}=i$(I),{densityClasses:F}=hy(t),{dimensionStyles:B}=KT(t),{elevationClasses:E}=dy(t),{roundedClasses:W}=kg(_),X=Jt(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),ie=Jt(()=>({isActive:k.value,select:h,isSelected:c.value,isIndeterminate:g.value}));function L(ae){var q;i("click",ae),!(v||!C.value)&&((q=f.navigate)==null||q.call(f,ae),t.value!=null&&h(!c.value,ae))}function me(ae){(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),L(ae))}return bs(()=>{const ae=w.value?"a":t.tag,q=a.title||t.title,de=a.subtitle||t.subtitle,ee=!!(t.appendAvatar||t.appendIcon),xe=!!(ee||a.append),we=!!(t.prependAvatar||t.prependIcon),Be=!!(we||a.prepend);return T==null||T.updateHasPrepend(Be),t.activeColor&&MMe("active-color",["color","base-color"]),zu(at(ae,{class:["v-list-item",{"v-list-item--active":k.value,"v-list-item--disabled":t.disabled,"v-list-item--link":C.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Be&&(T==null?void 0:T.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&k.value},V.value,N.value,Q.value,F.value,E.value,X.value,W.value,U.value,t.class],style:[z.value,B.value,t.style],href:f.href.value,tabindex:C.value?T?-2:0:void 0,onClick:L,onKeydown:C.value&&!w.value&&me},{default:()=>{var pe;return[a$(C.value||k.value,"v-list-item"),Be&&at("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?at(Hc,{key:"prepend-defaults",disabled:!we,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ne;return[(ne=a.prepend)==null?void 0:ne.call(a,ie.value)]}}):at(es,null,[t.prependAvatar&&at(T8,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&at(ci,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),at("div",{class:"v-list-item__spacer"},null)]),at("div",{class:"v-list-item__content","data-no-activator":""},[q&&at(vS,{key:"title"},{default:()=>{var ne;return[((ne=a.title)==null?void 0:ne.call(a,{title:t.title}))??t.title]}}),de&&at(y9e,{key:"subtitle"},{default:()=>{var ne;return[((ne=a.subtitle)==null?void 0:ne.call(a,{subtitle:t.subtitle}))??t.subtitle]}}),(pe=a.default)==null?void 0:pe.call(a,ie.value)]),xe&&at("div",{key:"append",class:"v-list-item__append"},[a.append?at(Hc,{key:"append-defaults",disabled:!ee,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ne;return[(ne=a.append)==null?void 0:ne.call(a,ie.value)]}}):at(es,null,[t.appendIcon&&at(ci,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&at(T8,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),at("div",{class:"v-list-item__spacer"},null)])]}}),[[Gv("ripple"),C.value&&t.ripple]])}),{}}}),O9e=Vr({color:String,inset:Boolean,sticky:Boolean,title:String,...ua(),...wc()},"VListSubheader"),x9e=Go()({name:"VListSubheader",props:O9e(),setup(t,e){let{slots:r}=e;const{textColorClasses:a,textColorStyles:i}=Qp(qo(t,"color"));return bs(()=>{const f=!!(r.default||t.title);return at(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},a.value,t.class],style:[{textColorStyles:i},t.style]},{default:()=>{var d;return[f&&at("div",{class:"v-list-subheader__text"},[((d=r.default)==null?void 0:d.call(r))??t.title])]}})}),{}}});const S9e=Vr({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...ua(),...su()},"VDivider"),kle=Go()({name:"VDivider",props:S9e(),setup(t,e){let{attrs:r}=e;const{themeClasses:a}=Uu(t),{textColorClasses:i,textColorStyles:f}=Qp(qo(t,"color")),d=Jt(()=>{const h={};return t.length&&(h[t.vertical?"maxHeight":"maxWidth"]=ls(t.length)),t.thickness&&(h[t.vertical?"borderRightWidth":"borderTopWidth"]=ls(t.thickness)),h});return bs(()=>at("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},a.value,i.value,t.class],style:[d.value,f.value,t.style],"aria-orientation":!r.role||r.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}}),w9e=Vr({items:Array,returnObject:Boolean},"VListChildren"),Gbe=Go()({name:"VListChildren",props:w9e(),setup(t,e){let{slots:r}=e;return Zbe(),()=>{var a,i;return((a=r.default)==null?void 0:a.call(r))??((i=t.items)==null?void 0:i.map(f=>{var O,T;let{children:d,props:h,type:c,raw:g}=f;if(c==="divider")return((O=r.divider)==null?void 0:O.call(r,{props:h}))??at(kle,h,null);if(c==="subheader")return((T=r.subheader)==null?void 0:T.call(r,{props:h}))??at(x9e,h,null);const v={subtitle:r.subtitle?k=>{var w;return(w=r.subtitle)==null?void 0:w.call(r,{...k,item:g})}:void 0,prepend:r.prepend?k=>{var w;return(w=r.prepend)==null?void 0:w.call(r,{...k,item:g})}:void 0,append:r.append?k=>{var w;return(w=r.append)==null?void 0:w.call(r,{...k,item:g})}:void 0,title:r.title?k=>{var w;return(w=r.title)==null?void 0:w.call(r,{...k,item:g})}:void 0},[y,b]=$me.filterProps(h);return d?at($me,ts({value:h==null?void 0:h.value},y),{activator:k=>{let{props:w}=k;const C={...h,...w,value:t.returnObject?g:h.value};return r.header?r.header({props:C}):at(Md,C,v)},default:()=>at(Gbe,{items:d},r)}):r.item?r.item({props:h}):at(Md,ts(h,{value:t.returnObject?g:h.value}),v)}))}}}),jbe=Vr({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:jT}},"list-items");function $T(t,e){const r=um(e,t.itemTitle,e),a=um(e,t.itemValue,r),i=um(e,t.itemChildren),f=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?S8(e,["children"])[1]:e:void 0:um(e,t.itemProps),d={title:r,value:a,...f};return{title:String(d.title??""),value:d.value,props:d,children:Array.isArray(i)?qbe(t,i):void 0,raw:e}}function qbe(t,e){const r=[];for(const a of e)r.push($T(t,a));return r}function Ale(t){const e=Jt(()=>qbe(t,t.items)),r=Jt(()=>e.value.some(f=>f.value===null));function a(f){return r.value||(f=f.filter(d=>d!==null)),f.map(d=>t.returnObject&&typeof d=="string"?$T(t,d):e.value.find(h=>t.valueComparator(d,h.value))||$T(t,d))}function i(f){return t.returnObject?f.map(d=>{let{raw:h}=d;return h}):f.map(d=>{let{value:h}=d;return h})}return{items:e,transformIn:a,transformOut:i}}function C9e(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function T9e(t,e){const r=um(e,t.itemType,"item"),a=C9e(e)?e:um(e,t.itemTitle),i=um(e,t.itemValue,void 0),f=um(e,t.itemChildren),d=t.itemProps===!0?S8(e,["children"])[1]:um(e,t.itemProps),h={title:a,value:i,...d};return{type:r,title:h.title,value:h.value,props:h,children:r==="item"&&f?Kbe(t,f):void 0,raw:e}}function Kbe(t,e){const r=[];for(const a of e)r.push(T9e(t,a));return r}function k9e(t){return{items:Jt(()=>Kbe(t,t.items))}}const A9e=Vr({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...h9e({selectStrategy:"single-leaf",openStrategy:"list"}),...ZS(),...ua(),...Kv(),...qT(),...fy(),itemType:{type:String,default:"type"},...jbe(),...Tg(),...wc(),...su(),...US({variant:"text"})},"VList"),HT=Go()({name:"VList",props:A9e(),emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:r}=e;const{items:a}=k9e(t),{themeClasses:i}=Uu(t),{backgroundColorClasses:f,backgroundColorStyles:d}=xg(qo(t,"bgColor")),{borderClasses:h}=HS(t),{densityClasses:c}=hy(t),{dimensionStyles:g}=KT(t),{elevationClasses:v}=dy(t),{roundedClasses:y}=kg(t),{open:b,select:O}=m9e(t),T=Jt(()=>t.lines?`v-list--${t.lines}-line`:void 0),k=qo(t,"activeColor"),w=qo(t,"baseColor"),C=qo(t,"color");Zbe(),uy({VListGroup:{activeColor:k,baseColor:w,color:C},VListItem:{activeClass:qo(t,"activeClass"),activeColor:k,baseColor:w,color:C,density:qo(t,"density"),disabled:qo(t,"disabled"),lines:qo(t,"lines"),nav:qo(t,"nav"),variant:qo(t,"variant")}});const _=us(!1),M=bo();function I(U){_.value=!0}function V(U){_.value=!1}function N(U){var F;!_.value&&!(U.relatedTarget&&((F=M.value)!=null&&F.contains(U.relatedTarget)))&&z()}function Q(U){if(M.value){if(U.key==="ArrowDown")z("next");else if(U.key==="ArrowUp")z("prev");else if(U.key==="Home")z("first");else if(U.key==="End")z("last");else return;U.preventDefault()}}function z(U){if(M.value)return HH(M.value,U)}return bs(()=>at(t.tag,{ref:M,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},i.value,f.value,h.value,c.value,v.value,T.value,y.value,t.class],style:[d.value,g.value,t.style],tabindex:t.disabled||_.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:I,onFocusout:V,onFocus:N,onKeydown:Q},{default:()=>[at(Gbe,{items:a.value,returnObject:t.returnObject},r)]})),{open:b,select:O,focus:z}}});function Soe(t,e){return{x:t.x+e.x,y:t.y+e.y}}function P9e(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lme(t,e){if(t.side==="top"||t.side==="bottom"){const{side:r,align:a}=t,i=a==="left"?0:a==="center"?e.width/2:a==="right"?e.width:a,f=r==="top"?0:r==="bottom"?e.height:r;return Soe({x:i,y:f},e)}else if(t.side==="left"||t.side==="right"){const{side:r,align:a}=t,i=r==="left"?0:r==="right"?e.width:r,f=a==="top"?0:a==="center"?e.height/2:a==="bottom"?e.height:a;return Soe({x:i,y:f},e)}return Soe({x:e.width/2,y:e.height/2},e)}const Jbe={static:_9e,connected:D9e},M9e=Vr({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in Jbe},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function E9e(t,e){const r=bo({}),a=bo();Yl&&(NS(()=>!!(e.isActive.value&&t.locationStrategy),f=>{var d,h;zo(()=>t.locationStrategy,f),dm(()=>{a.value=void 0}),typeof t.locationStrategy=="function"?a.value=(d=t.locationStrategy(e,t,r))==null?void 0:d.updateLocation:a.value=(h=Jbe[t.locationStrategy](e,t,r))==null?void 0:h.updateLocation}),window.addEventListener("resize",i,{passive:!0}),dm(()=>{window.removeEventListener("resize",i),a.value=void 0}));function i(f){var d;(d=a.value)==null||d.call(a,f)}return{contentStyles:r,updateLocation:a}}function _9e(){}function R9e(t,e){e?t.style.removeProperty("left"):t.style.removeProperty("right");const r=lle(t);return e?r.x+=parseFloat(t.style.right||0):r.x-=parseFloat(t.style.left||0),r.y-=parseFloat(t.style.top||0),r}function D9e(t,e,r){qMe(t.activatorEl.value)&&Object.assign(r.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:f}=ile(()=>{const T=iae(e.location,t.isRtl.value),k=e.origin==="overlap"?T:e.origin==="auto"?yoe(T):iae(e.origin,t.isRtl.value);return T.side===k.side&&T.align===boe(k).align?{preferredAnchor:ime(T),preferredOrigin:ime(k)}:{preferredAnchor:T,preferredOrigin:k}}),[d,h,c,g]=["minWidth","minHeight","maxWidth","maxHeight"].map(T=>Jt(()=>{const k=parseFloat(e[T]);return isNaN(k)?1/0:k})),v=Jt(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const T=e.offset.split(" ").map(parseFloat);return T.length<2&&T.push(0),T}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let y=!1;const b=new ResizeObserver(()=>{y&&O()});zo([t.activatorEl,t.contentEl],(T,k)=>{let[w,C]=T,[_,M]=k;_&&b.unobserve(_),w&&b.observe(w),M&&b.unobserve(M),C&&b.observe(C)},{immediate:!0}),dm(()=>{b.disconnect()});function O(){if(y=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>y=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const T=t.activatorEl.value.getBoundingClientRect(),k=R9e(t.contentEl.value,t.isRtl.value),w=YH(t.contentEl.value),C=12;w.length||(w.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(k.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),k.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const _=w.reduce((B,E)=>{const W=E.getBoundingClientRect(),X=new l8({x:E===document.documentElement?0:W.x,y:E===document.documentElement?0:W.y,width:E.clientWidth,height:E.clientHeight});return B?new l8({x:Math.max(B.left,X.left),y:Math.max(B.top,X.top),width:Math.min(B.right,X.right)-Math.max(B.left,X.left),height:Math.min(B.bottom,X.bottom)-Math.max(B.top,X.top)}):X},void 0);_.x+=C,_.y+=C,_.width-=C*2,_.height-=C*2;let M={anchor:i.value,origin:f.value};function I(B){const E=new l8(k),W=Lme(B.anchor,T),X=Lme(B.origin,E);let{x:ie,y:L}=P9e(W,X);switch(B.anchor.side){case"top":L-=v.value[0];break;case"bottom":L+=v.value[0];break;case"left":ie-=v.value[0];break;case"right":ie+=v.value[0];break}switch(B.anchor.align){case"top":L-=v.value[1];break;case"bottom":L+=v.value[1];break;case"left":ie-=v.value[1];break;case"right":ie+=v.value[1];break}return E.x+=ie,E.y+=L,E.width=Math.min(E.width,c.value),E.height=Math.min(E.height,g.value),{overflows:cme(E,_),x:ie,y:L}}let V=0,N=0;const Q={x:0,y:0},z={x:!1,y:!1};let U=-1;for(;!(U++>10);){const{x:B,y:E,overflows:W}=I(M);V+=B,N+=E,k.x+=B,k.y+=E;{const X=lme(M.anchor),ie=W.x.before||W.x.after,L=W.y.before||W.y.after;let me=!1;if(["x","y"].forEach(ae=>{if(ae==="x"&&ie&&!z.x||ae==="y"&&L&&!z.y){const q={anchor:{...M.anchor},origin:{...M.origin}},de=ae==="x"?X==="y"?boe:yoe:X==="y"?yoe:boe;q.anchor=de(q.anchor),q.origin=de(q.origin);const{overflows:ee}=I(q);(ee[ae].before<=W[ae].before&&ee[ae].after<=W[ae].after||ee[ae].before+ee[ae].after<(W[ae].before+W[ae].after)/2)&&(M=q,me=z[ae]=!0)}}),me)continue}W.x.before&&(V+=W.x.before,k.x+=W.x.before),W.x.after&&(V-=W.x.after,k.x-=W.x.after),W.y.before&&(N+=W.y.before,k.y+=W.y.before),W.y.after&&(N-=W.y.after,k.y-=W.y.after);{const X=cme(k,_);Q.x=_.width-X.x.before-X.x.after,Q.y=_.height-X.y.before-X.y.after,V+=X.x.before,k.x+=X.x.before,N+=X.y.before,k.y+=X.y.before}break}const F=lme(M.anchor);return Object.assign(r.value,{"--v-overlay-anchor-origin":`${M.anchor.side} ${M.anchor.align}`,transformOrigin:`${M.origin.side} ${M.origin.align}`,top:ls(woe(N)),left:t.isRtl.value?void 0:ls(woe(V)),right:t.isRtl.value?ls(woe(-V)):void 0,minWidth:ls(F==="y"?Math.min(d.value,T.width):d.value),maxWidth:ls(Ime(Np(Q.x,d.value===1/0?0:d.value,c.value))),maxHeight:ls(Ime(Np(Q.y,h.value===1/0?0:h.value,g.value)))}),{available:Q,contentBox:k}}return zo(()=>[i.value,f.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>O()),wl(()=>{const T=O();if(!T)return;const{available:k,contentBox:w}=T;w.height>k.y&&requestAnimationFrame(()=>{O(),requestAnimationFrame(()=>{O()})})}),{updateLocation:O}}function woe(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function Ime(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let dae=!0;const JH=[];function $9e(t){!dae||JH.length?(JH.push(t),hae()):(dae=!1,t(),hae())}let Nme=-1;function hae(){cancelAnimationFrame(Nme),Nme=requestAnimationFrame(()=>{const t=JH.shift();t&&t(),JH.length?hae():dae=!0})}const sH={none:null,close:N9e,block:B9e,reposition:Q9e},L9e=Vr({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in sH}},"VOverlay-scroll-strategies");function I9e(t,e){if(!Yl)return;let r;pm(async()=>{r==null||r.stop(),e.isActive.value&&t.scrollStrategy&&(r=Yae(),await wl(),r.active&&r.run(()=>{var a;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,r):(a=sH[t.scrollStrategy])==null||a.call(sH,e,t,r)}))}),dm(()=>{r==null||r.stop()})}function N9e(t){function e(r){t.isActive.value=!1}eOe(t.activatorEl.value??t.contentEl.value,e)}function B9e(t,e){var d;const r=(d=t.root.value)==null?void 0:d.offsetParent,a=[...new Set([...YH(t.activatorEl.value,e.contained?r:void 0),...YH(t.contentEl.value,e.contained?r:void 0)])].filter(h=>!h.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,f=(h=>fle(h)&&h)(r||document.documentElement);f&&t.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((h,c)=>{h.style.setProperty("--v-body-scroll-x",ls(-h.scrollLeft)),h.style.setProperty("--v-body-scroll-y",ls(-h.scrollTop)),h!==document.documentElement&&h.style.setProperty("--v-scrollbar-offset",ls(i)),h.classList.add("v-overlay-scroll-blocked")}),dm(()=>{a.forEach((h,c)=>{const g=parseFloat(h.style.getPropertyValue("--v-body-scroll-x")),v=parseFloat(h.style.getPropertyValue("--v-body-scroll-y"));h.style.removeProperty("--v-body-scroll-x"),h.style.removeProperty("--v-body-scroll-y"),h.style.removeProperty("--v-scrollbar-offset"),h.classList.remove("v-overlay-scroll-blocked"),h.scrollLeft=-g,h.scrollTop=-v}),f&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function Q9e(t,e,r){let a=!1,i=-1,f=-1;function d(h){$9e(()=>{var v,y;const c=performance.now();(y=(v=t.updateLocation).value)==null||y.call(v,h),a=(performance.now()-c)/(1e3/60)>2})}f=(typeof requestIdleCallback>"u"?h=>h():requestIdleCallback)(()=>{r.run(()=>{eOe(t.activatorEl.value??t.contentEl.value,h=>{a?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{d(h)})})):d(h)})})}),dm(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(f),cancelAnimationFrame(i)})}function eOe(t,e){const r=[document,...YH(t)];r.forEach(a=>{a.addEventListener("scroll",e,{passive:!0})}),dm(()=>{r.forEach(a=>{a.removeEventListener("scroll",e)})})}const mae=Symbol.for("vuetify:v-menu"),F9e=Vr({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function V9e(t,e){const r={},a=i=>()=>{if(!Yl)return Promise.resolve(!0);const f=i==="openDelay";return r.closeDelay&&window.clearTimeout(r.closeDelay),delete r.closeDelay,r.openDelay&&window.clearTimeout(r.openDelay),delete r.openDelay,new Promise(d=>{const h=parseInt(t[i]??0,10);r[i]=window.setTimeout(()=>{e==null||e(f),d(f)},h)})};return{runCloseDelay:a("closeDelay"),runOpenDelay:a("openDelay")}}const z9e=Vr({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...F9e()},"VOverlay-activator");function Z9e(t,e){let{isActive:r,isTop:a}=e;const i=bo();let f=!1,d=!1,h=!0;const c=Jt(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),g=Jt(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!c.value),{runOpenDelay:v,runCloseDelay:y}=V9e(t,M=>{M===(t.openOnHover&&f||c.value&&d)&&!(t.openOnHover&&r.value&&!a.value)&&(r.value!==M&&(h=!0),r.value=M)}),b={onClick:M=>{M.stopPropagation(),i.value=M.currentTarget||M.target,r.value=!r.value},onMouseenter:M=>{var I;(I=M.sourceCapabilities)!=null&&I.firesTouchEvents||(f=!0,i.value=M.currentTarget||M.target,v())},onMouseleave:M=>{f=!1,y()},onFocus:M=>{w8(M.target,":focus-visible")!==!1&&(d=!0,M.stopPropagation(),i.value=M.currentTarget||M.target,v())},onBlur:M=>{d=!1,M.stopPropagation(),y()}},O=Jt(()=>{const M={};return g.value&&(M.onClick=b.onClick),t.openOnHover&&(M.onMouseenter=b.onMouseenter,M.onMouseleave=b.onMouseleave),c.value&&(M.onFocus=b.onFocus,M.onBlur=b.onBlur),M}),T=Jt(()=>{const M={};if(t.openOnHover&&(M.onMouseenter=()=>{f=!0,v()},M.onMouseleave=()=>{f=!1,y()}),c.value&&(M.onFocusin=()=>{d=!0,v()},M.onFocusout=()=>{d=!1,y()}),t.closeOnContentClick){const I=Da(mae,null);M.onClick=()=>{r.value=!1,I==null||I.closeParents()}}return M}),k=Jt(()=>{const M={};return t.openOnHover&&(M.onMouseenter=()=>{h&&(f=!0,h=!1,v())},M.onMouseleave=()=>{f=!1,y()}),M});zo(a,M=>{M&&(t.openOnHover&&!f&&(!c.value||!d)||c.value&&!d&&(!t.openOnHover||!f))&&(r.value=!1)});const w=bo();pm(()=>{w.value&&wl(()=>{i.value=aae(w.value)})});const C=Af("useActivator");let _;return zo(()=>!!t.activator,M=>{M&&Yl?(_=Yae(),_.run(()=>{H9e(t,C,{activatorEl:i,activatorEvents:O})})):_&&_.stop()},{flush:"post",immediate:!0}),dm(()=>{_==null||_.stop()}),{activatorEl:i,activatorRef:w,activatorEvents:O,contentEvents:T,scrimEvents:k}}function H9e(t,e,r){let{activatorEl:a,activatorEvents:i}=r;zo(()=>t.activator,(c,g)=>{if(g&&c!==g){const v=h(g);v&&d(v)}c&&wl(()=>f())},{immediate:!0}),zo(()=>t.activatorProps,()=>{f()}),dm(()=>{d()});function f(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h(),g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;c&&OMe(c,ts(i.value,g))}function d(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h(),g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;c&&xMe(c,ts(i.value,g))}function h(){var v,y;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,g;if(c)if(c==="parent"){let b=(y=(v=e==null?void 0:e.proxy)==null?void 0:v.$el)==null?void 0:y.parentNode;for(;b!=null&&b.hasAttribute("data-no-activator");)b=b.parentNode;g=b}else typeof c=="string"?g=document.querySelector(c):"$el"in c?g=c.$el:g=c;return a.value=(g==null?void 0:g.nodeType)===Node.ELEMENT_NODE?g:null,a.value}}const rW=["sm","md","lg","xl","xxl"],gae=Symbol.for("vuetify:display"),Bme={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},U9e=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bme;return _p(Bme,t)};function Qme(t){return Yl&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Fme(t){return Yl&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Vme(t){const e=Yl&&!t?window.navigator.userAgent:"ssr";function r(T){return!!e.match(T)}const a=r(/android/i),i=r(/iphone|ipad|ipod/i),f=r(/cordova/i),d=r(/electron/i),h=r(/chrome/i),c=r(/edge/i),g=r(/firefox/i),v=r(/opera/i),y=r(/win/i),b=r(/mac/i),O=r(/linux/i);return{android:a,ios:i,cordova:f,electron:d,chrome:h,edge:c,firefox:g,opera:v,win:y,mac:b,linux:O,touch:gMe,ssr:e==="ssr"}}function W9e(t,e){const{thresholds:r,mobileBreakpoint:a}=U9e(t),i=us(Fme(e)),f=us(Vme(e)),d=Ed({}),h=us(Qme(e));function c(){i.value=Fme(),h.value=Qme()}function g(){c(),f.value=Vme()}return pm(()=>{const v=h.value<r.sm,y=h.value<r.md&&!v,b=h.value<r.lg&&!(y||v),O=h.value<r.xl&&!(b||y||v),T=h.value<r.xxl&&!(O||b||y||v),k=h.value>=r.xxl,w=v?"xs":y?"sm":b?"md":O?"lg":T?"xl":"xxl",C=typeof a=="number"?a:r[a],_=h.value<C;d.xs=v,d.sm=y,d.md=b,d.lg=O,d.xl=T,d.xxl=k,d.smAndUp=!v,d.mdAndUp=!(v||y),d.lgAndUp=!(v||y||b),d.xlAndUp=!(v||y||b||O),d.smAndDown=!(b||O||T||k),d.mdAndDown=!(O||T||k),d.lgAndDown=!(T||k),d.xlAndDown=!k,d.name=w,d.height=i.value,d.width=h.value,d.mobile=_,d.mobileBreakpoint=a,d.platform=f.value,d.thresholds=r}),Yl&&window.addEventListener("resize",c,{passive:!0}),{...SU(d),update:g,ssr:!!e}}function tOe(){const t=Da(gae);if(!t)throw new Error("Could not find Vuetify display injection");return t}function Y9e(){if(!Yl)return us(!1);const{ssr:t}=tOe();if(t){const e=us(!1);return Sg(()=>{e.value=!0}),e}else return us(!0)}const Ple=Vr({eager:Boolean},"lazy");function nOe(t,e){const r=us(!1),a=Jt(()=>r.value||t.eager||e.value);zo(e,()=>r.value=!0);function i(){t.eager||(r.value=!1)}return{isBooted:r,hasContent:a,onAfterLeave:i}}function Mle(){const e=Af("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const zme=Symbol.for("vuetify:stack"),ER=Ed([]);function X9e(t,e,r){const a=Af("useStack"),i=!r,f=Da(zme,void 0),d=Ed({activeChildren:new Set});El(zme,d);const h=us(+e.value);NS(t,()=>{var y;const v=(y=ER.at(-1))==null?void 0:y[1];h.value=v?v+10:+e.value,i&&ER.push([a.uid,h.value]),f==null||f.activeChildren.add(a.uid),dm(()=>{if(i){const b=ya(ER).findIndex(O=>O[0]===a.uid);ER.splice(b,1)}f==null||f.activeChildren.delete(a.uid)})});const c=us(!0);i&&pm(()=>{var y;const v=((y=ER.at(-1))==null?void 0:y[0])===a.uid;setTimeout(()=>c.value=v)});const g=Jt(()=>!d.activeChildren.size);return{globalTop:WD(c),localTop:g,stackStyles:Jt(()=>({zIndex:h.value}))}}function G9e(t){return{teleportTarget:Jt(()=>{const r=t.value;if(r===!0||!Yl)return;const a=r===!1?document.body:typeof r=="string"?document.querySelector(r):r;if(a==null)return;let i=a.querySelector(":scope > .v-overlay-container");return i||(i=document.createElement("div"),i.className="v-overlay-container",a.appendChild(i)),i})}}function j9e(){return!0}function rOe(t,e,r){if(!t||oOe(t,r)===!1)return!1;const a=obe(e);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===t.target)return!1;const i=(typeof r.value=="object"&&r.value.include||(()=>[]))();return i.push(e),!i.some(f=>f==null?void 0:f.contains(t.target))}function oOe(t,e){return(typeof e.value=="object"&&e.value.closeConditional||j9e)(t)}function q9e(t,e,r){const a=typeof r.value=="function"?r.value:r.value.handler;e._clickOutside.lastMousedownWasOutside&&rOe(t,e,r)&&setTimeout(()=>{oOe(t,r)&&a&&a(t)},0)}function Zme(t,e){const r=obe(t);e(document),typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&e(r)}const K9e={mounted(t,e){const r=i=>q9e(i,t,e),a=i=>{t._clickOutside.lastMousedownWasOutside=rOe(i,t,e)};Zme(t,i=>{i.addEventListener("click",r,!0),i.addEventListener("mousedown",a,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:r,onMousedown:a}},unmounted(t,e){t._clickOutside&&(Zme(t,r=>{var f;if(!r||!((f=t._clickOutside)!=null&&f[e.instance.$.uid]))return;const{onClick:a,onMousedown:i}=t._clickOutside[e.instance.$.uid];r.removeEventListener("click",a,!0),r.removeEventListener("mousedown",i,!0)}),delete t._clickOutside[e.instance.$.uid])}};function J9e(t){const{modelValue:e,color:r,...a}=t;return at(CO,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&at("div",ts({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},a),null)]})}const Ele=Vr({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...z9e(),...ua(),...qT(),...Ple(),...M9e(),...L9e(),...su(),...JT()},"VOverlay"),eU=Go()({name:"VOverlay",directives:{ClickOutside:K9e},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ele()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:r,attrs:a,emit:i}=e;const f=ei(t,"modelValue"),d=Jt({get:()=>f.value,set:q=>{q&&t.disabled||(f.value=q)}}),{teleportTarget:h}=G9e(Jt(()=>t.attach||t.contained)),{themeClasses:c}=Uu(t),{rtlClasses:g,isRtl:v}=zp(),{hasContent:y,onAfterLeave:b}=nOe(t,d),O=xg(Jt(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:T,localTop:k,stackStyles:w}=X9e(d,qo(t,"zIndex"),t._disableGlobalStack),{activatorEl:C,activatorRef:_,activatorEvents:M,contentEvents:I,scrimEvents:V}=Z9e(t,{isActive:d,isTop:k}),{dimensionStyles:N}=KT(t),Q=Y9e(),{scopeId:z}=Mle();zo(()=>t.disabled,q=>{q&&(d.value=!1)});const U=bo(),F=bo(),{contentStyles:B,updateLocation:E}=E9e(t,{isRtl:v,contentEl:F,activatorEl:C,isActive:d});I9e(t,{root:U,contentEl:F,activatorEl:C,isActive:d,updateLocation:E});function W(q){i("click:outside",q),t.persistent?ae():d.value=!1}function X(){return d.value&&T.value}Yl&&zo(d,q=>{q?window.addEventListener("keydown",ie):window.removeEventListener("keydown",ie)},{immediate:!0});function ie(q){var de,ee;q.key==="Escape"&&T.value&&(t.persistent?ae():(d.value=!1,(de=F.value)!=null&&de.contains(document.activeElement)&&((ee=C.value)==null||ee.focus())))}const L=VEe();NS(()=>t.closeOnBack,()=>{zEe(L,q=>{T.value&&d.value?(q(!1),t.persistent?ae():d.value=!1):q()})});const me=bo();zo(()=>d.value&&(t.absolute||t.contained)&&h.value==null,q=>{if(q){const de=abe(U.value);de&&de!==document.scrollingElement&&(me.value=de.scrollTop)}});function ae(){t.noClickAnimation||F.value&&jP(F.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:WH})}return bs(()=>{var q;return at(es,null,[(q=r.activator)==null?void 0:q.call(r,{isActive:d.value,props:ts({ref:_},M.value,t.activatorProps)}),Q.value&&y.value&&at(U3e,{disabled:!h.value,to:h.value},{default:()=>[at("div",ts({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":d.value,"v-overlay--contained":t.contained},c.value,g.value,t.class],style:[w.value,{top:ls(me.value)},t.style],ref:U},z,a),[at(J9e,ts({color:O,modelValue:d.value&&!!t.scrim},V.value),null),at(SS,{appear:!0,persisted:!0,transition:t.transition,target:C.value,onAfterLeave:()=>{b(),i("afterLeave")}},{default:()=>{var de;return[zu(at("div",ts({ref:F,class:["v-overlay__content",t.contentClass],style:[N.value,B.value]},I.value,t.contentProps),[(de=r.default)==null?void 0:de.call(r,{isActive:d})]),[[BS,d.value],[Gv("click-outside"),{handler:W,closeConditional:X,include:()=>[C.value]}]])]}})])]})])}),{activatorEl:C,animateClick:ae,contentEl:F,globalTop:T,localTop:k,updateLocation:E}}}),Coe=Symbol("Forwarded refs");function Toe(t,e){let r=t;for(;r;){const a=Reflect.getOwnPropertyDescriptor(r,e);if(a)return a;r=Object.getPrototypeOf(r)}}function t5(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return t[Coe]=r,new Proxy(t,{get(i,f){if(Reflect.has(i,f))return Reflect.get(i,f);if(!(typeof f=="symbol"||f.startsWith("$")||f.startsWith("__"))){for(const d of r)if(d.value&&Reflect.has(d.value,f)){const h=Reflect.get(d.value,f);return typeof h=="function"?h.bind(d.value):h}}},has(i,f){if(Reflect.has(i,f))return!0;if(typeof f=="symbol"||f.startsWith("$")||f.startsWith("__"))return!1;for(const d of r)if(d.value&&Reflect.has(d.value,f))return!0;return!1},set(i,f,d){if(Reflect.has(i,f))return Reflect.set(i,f,d);if(typeof f=="symbol"||f.startsWith("$")||f.startsWith("__"))return!1;for(const h of r)if(h.value&&Reflect.has(h.value,f))return Reflect.set(h.value,f,d);return!1},getOwnPropertyDescriptor(i,f){var h;const d=Reflect.getOwnPropertyDescriptor(i,f);if(d)return d;if(!(typeof f=="symbol"||f.startsWith("$")||f.startsWith("__"))){for(const c of r){if(!c.value)continue;const g=Toe(c.value,f)??("_"in c.value?Toe((h=c.value._)==null?void 0:h.setupState,f):void 0);if(g)return g}for(const c of r){const g=c.value&&c.value[Coe];if(!g)continue;const v=g.slice();for(;v.length;){const y=v.shift(),b=Toe(y.value,f);if(b)return b;const O=y.value&&y.value[Coe];O&&v.push(...O)}}}}})}const e_e=Vr({id:String,...I8(Ele({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:dle}}),["absolute"])},"VMenu"),UT=Go()({name:"VMenu",props:e_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=ei(t,"modelValue"),{scopeId:i}=Mle(),f=Vp(),d=Jt(()=>t.id||`v-menu-${f}`),h=bo(),c=Da(mae,null),g=us(0);El(mae,{register(){++g.value},unregister(){--g.value},closeParents(){setTimeout(()=>{g.value||(a.value=!1,c==null||c.closeParents())},40)}});async function v(k){var _,M,I;const w=k.relatedTarget,C=k.target;await wl(),a.value&&w!==C&&((_=h.value)!=null&&_.contentEl)&&((M=h.value)!=null&&M.globalTop)&&![document,h.value.contentEl].includes(C)&&!h.value.contentEl.contains(C)&&((I=ZH(h.value.contentEl)[0])==null||I.focus())}zo(a,k=>{k?(c==null||c.register(),document.addEventListener("focusin",v,{once:!0})):(c==null||c.unregister(),document.removeEventListener("focusin",v))});function y(){c==null||c.closeParents()}function b(k){var w,C,_;t.disabled||k.key==="Tab"&&(jye(ZH((w=h.value)==null?void 0:w.contentEl,!1),k.shiftKey?"prev":"next",I=>I.tabIndex>=0)||(a.value=!1,(_=(C=h.value)==null?void 0:C.activatorEl)==null||_.focus()))}function O(k){var C;if(t.disabled)return;const w=(C=h.value)==null?void 0:C.contentEl;w&&a.value?k.key==="ArrowDown"?(k.preventDefault(),HH(w,"next")):k.key==="ArrowUp"&&(k.preventDefault(),HH(w,"prev")):["ArrowDown","ArrowUp"].includes(k.key)&&(a.value=!0,k.preventDefault(),setTimeout(()=>setTimeout(()=>O(k))))}const T=Jt(()=>ts({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":d.value,onKeydown:O},t.activatorProps));return bs(()=>{const[k]=eU.filterProps(t);return at(eU,ts({ref:h,class:["v-menu",t.class],style:t.style},k,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,absolute:!0,activatorProps:T.value,"onClick:outside":y,onKeydown:b},i),{activator:r.activator,default:function(){for(var w=arguments.length,C=new Array(w),_=0;_<w;_++)C[_]=arguments[_];return at(Hc,{root:"VMenu"},{default:()=>{var M;return[(M=r.default)==null?void 0:M.call(r,...C)]}})}})}),t5({id:d,ΨopenChildren:g},h)}});const t_e=Vr({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ua(),...JT({transition:{component:pbe}})},"VCounter"),sOe=Go()({name:"VCounter",functional:!0,props:t_e(),setup(t,e){let{slots:r}=e;const a=Jt(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return bs(()=>at(SS,{transition:t.transition},{default:()=>[zu(at("div",{class:["v-counter",t.class],style:t.style},[r.default?r.default({counter:a.value,max:t.max,value:t.value}):a.value]),[[BS,t.active]])]})),{}}});const n_e=Vr({floating:Boolean,...ua()},"VFieldLabel"),$Z=Go()({name:"VFieldLabel",props:n_e(),setup(t,e){let{slots:r}=e;return bs(()=>at(JU,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},r)),{}}}),r_e=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],_le=Vr({appendInnerIcon:Di,bgColor:String,clearable:Boolean,clearIcon:{type:Di,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Di,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>r_e.includes(t)},"onClick:clear":ry(),"onClick:appendInner":ry(),"onClick:prependInner":ry(),...ua(),...GU(),...Tg(),...su()},"VField"),Rle=Go()({name:"VField",inheritAttrs:!1,props:{id:String,...eW(),..._le()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{themeClasses:f}=Uu(t),{loaderClasses:d}=u$(t),{focusClasses:h,isFocused:c,focus:g,blur:v}=F8(t),{InputIcon:y}=Vbe(t),{roundedClasses:b}=kg(t),{rtlClasses:O}=zp(),T=Jt(()=>t.dirty||t.active),k=Jt(()=>!t.singleLine&&!!(t.label||i.label)),w=Vp(),C=Jt(()=>t.id||`input-${w}`),_=Jt(()=>`${C.value}-messages`),M=bo(),I=bo(),V=bo(),N=Jt(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:Q,backgroundColorStyles:z}=xg(qo(t,"bgColor")),{textColorClasses:U,textColorStyles:F}=Qp(Jt(()=>t.error||t.disabled?void 0:T.value&&c.value?t.color:t.baseColor));zo(T,W=>{if(k.value){const X=M.value.$el,ie=I.value.$el;requestAnimationFrame(()=>{const L=lle(X),me=ie.getBoundingClientRect(),ae=me.x-L.x,q=me.y-L.y-(L.height/2-me.height/2),de=me.width/.75,ee=Math.abs(de-L.width)>1?{maxWidth:ls(de)}:void 0,xe=getComputedStyle(X),we=getComputedStyle(ie),Be=parseFloat(xe.transitionDuration)*1e3||150,pe=parseFloat(we.getPropertyValue("--v-field-label-scale")),ne=we.getPropertyValue("color");X.style.visibility="visible",ie.style.visibility="hidden",jP(X,{transform:`translate(${ae}px, ${q}px) scale(${pe})`,color:ne,...ee},{duration:Be,easing:WH,direction:W?"normal":"reverse"}).finished.then(()=>{X.style.removeProperty("visibility"),ie.style.removeProperty("visibility")})})}},{flush:"post"});const B=Jt(()=>({isActive:T,isFocused:c,controlRef:V,blur:v,focus:g}));function E(W){W.target!==document.activeElement&&W.preventDefault()}return bs(()=>{var ae,q,de;const W=t.variant==="outlined",X=i["prepend-inner"]||t.prependInnerIcon,ie=!!(t.clearable||i.clear),L=!!(i["append-inner"]||t.appendInnerIcon||ie),me=i.label?i.label({...B.value,label:t.label,props:{for:C.value}}):t.label;return at("div",ts({class:["v-field",{"v-field--active":T.value,"v-field--appended":L,"v-field--center-affix":t.centerAffix??!N.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":X,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!me,[`v-field--variant-${t.variant}`]:!0},f.value,Q.value,h.value,d.value,b.value,O.value,t.class],style:[z.value,t.style],onClick:E},r),[at("div",{class:"v-field__overlay"},null),at(jU,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:i.loader}),X&&at("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&at(y,{key:"prepend-icon",name:"prependInner"},null),(ae=i["prepend-inner"])==null?void 0:ae.call(i,B.value)]),at("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&k.value&&at($Z,{key:"floating-label",ref:I,class:[U.value],floating:!0,for:C.value,style:F.value},{default:()=>[me]}),at($Z,{ref:M,for:C.value},{default:()=>[me]}),(q=i.default)==null?void 0:q.call(i,{...B.value,props:{id:C.value,class:"v-field__input","aria-describedby":_.value},focus:g,blur:v})]),ie&&at(vbe,{key:"clear"},{default:()=>[zu(at("div",{class:"v-field__clearable",onMousedown:ee=>{ee.preventDefault(),ee.stopPropagation()}},[i.clear?i.clear():at(y,{name:"clear"},null)]),[[BS,t.dirty]])]}),L&&at("div",{key:"append",class:"v-field__append-inner"},[(de=i["append-inner"])==null?void 0:de.call(i,B.value),t.appendInnerIcon&&at(y,{key:"append-icon",name:"appendInner"},null)]),at("div",{class:["v-field__outline",U.value],style:F.value},[W&&at(es,null,[at("div",{class:"v-field__outline__start"},null),k.value&&at("div",{class:"v-field__outline__notch"},[at($Z,{ref:I,floating:!0,for:C.value},{default:()=>[me]})]),at("div",{class:"v-field__outline__end"},null)]),N.value&&k.value&&at($Z,{ref:I,floating:!0,for:C.value},{default:()=>[me]})])])}),{controlRef:V}}});function aOe(t){const e=Object.keys(Rle.props).filter(r=>!ale(r)&&r!=="class"&&r!=="style");return S8(t,e)}const o_e=["color","file","time","date","datetime-local","week","month"],oW=Vr({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...V8(),..._le()},"VTextField"),gm=Go()({name:"VTextField",directives:{Intersect:mle},inheritAttrs:!1,props:oW(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const f=ei(t,"modelValue"),{isFocused:d,focus:h,blur:c}=F8(t),g=Jt(()=>typeof t.counterValue=="function"?t.counterValue(f.value):typeof t.counterValue=="number"?t.counterValue:(f.value??"").toString().length),v=Jt(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),y=Jt(()=>["plain","underlined"].includes(t.variant));function b(N,Q){var z,U;!t.autofocus||!N||(U=(z=Q[0].target)==null?void 0:z.focus)==null||U.call(z)}const O=bo(),T=bo(),k=bo(),w=Jt(()=>o_e.includes(t.type)||t.persistentPlaceholder||d.value||t.active);function C(){var N;k.value!==document.activeElement&&((N=k.value)==null||N.focus()),d.value||h()}function _(N){a("mousedown:control",N),N.target!==k.value&&(C(),N.preventDefault())}function M(N){C(),a("click:control",N)}function I(N){N.stopPropagation(),C(),wl(()=>{f.value=null,Gye(t["onClick:clear"],N)})}function V(N){var z;const Q=N.target;if(f.value=Q.value,(z=t.modelModifiers)!=null&&z.trim&&["text","search","password","tel","url"].includes(t.type)){const U=[Q.selectionStart,Q.selectionEnd];wl(()=>{Q.selectionStart=U[0],Q.selectionEnd=U[1]})}}return bs(()=>{const N=!!(i.counter||t.counter!==!1&&t.counter!=null),Q=!!(N||i.details),[z,U]=YU(r),[{modelValue:F,...B}]=sy.filterProps(t),[E]=aOe(t);return at(sy,ts({ref:O,modelValue:f.value,"onUpdate:modelValue":W=>f.value=W,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(t.variant)},t.class],style:t.style},z,B,{centerAffix:!y.value,focused:d.value}),{...i,default:W=>{let{id:X,isDisabled:ie,isDirty:L,isReadonly:me,isValid:ae}=W;return at(Rle,ts({ref:T,onMousedown:_,onClick:M,"onClick:clear":I,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},E,{id:X.value,active:w.value||L.value,dirty:L.value||t.dirty,disabled:ie.value,focused:d.value,error:ae.value===!1}),{...i,default:q=>{let{props:{class:de,...ee}}=q;const xe=zu(at("input",ts({ref:k,value:f.value,onInput:V,autofocus:t.autofocus,readonly:me.value,disabled:ie.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:C,onBlur:c},ee,U),null),[[Gv("intersect"),{handler:b},null,{once:!0}]]);return at(es,null,[t.prefix&&at("span",{class:"v-text-field__prefix"},[at("span",{class:"v-text-field__prefix__text"},[t.prefix])]),i.default?at("div",{class:de,"data-no-activator":""},[i.default(),xe]):wO(xe,{class:de}),t.suffix&&at("span",{class:"v-text-field__suffix"},[at("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:Q?W=>{var X;return at(es,null,[(X=i.details)==null?void 0:X.call(i,W),N&&at(es,null,[at("span",null,null),at(sOe,{active:t.persistentCounter||d.value,value:g.value,max:v.value},i.counter)])])}:void 0})}),t5({},O,T,k)}});const s_e=Vr({renderless:Boolean,...ua()},"VVirtualScrollItem"),a_e=Go()({name:"VVirtualScrollItem",inheritAttrs:!1,props:s_e(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const{resizeRef:f,contentRect:d}=o$(void 0,"border");zo(()=>{var h;return(h=d.value)==null?void 0:h.height},h=>{h!=null&&a("update:height",h)}),bs(()=>{var h,c;return t.renderless?at(es,null,[(h=i.default)==null?void 0:h.call(i,{itemRef:f})]):at("div",ts({ref:f,class:["v-virtual-scroll__item",t.class],style:t.style},r),[(c=i.default)==null?void 0:c.call(i)])})}}),Hme=-1,Ume=1,i_e=Vr({itemHeight:{type:[Number,String],default:48}},"virtual");function l_e(t,e,r){const a=us(0),i=us(t.itemHeight),f=Jt({get:()=>parseInt(i.value??0,10),set(Q){i.value=Q}}),d=bo(),{resizeRef:h,contentRect:c}=o$();pm(()=>{h.value=d.value});const g=tOe(),v=new Map;let y=Array.from({length:e.value.length});const b=Jt(()=>{const Q=(!c.value||d.value===document.documentElement?g.height.value:c.value.height)-((r==null?void 0:r.value)??0);return Math.ceil(Q/f.value*1.7+1)});function O(Q,z){f.value=Math.max(f.value,z),y[Q]=z,v.set(e.value[Q],z)}function T(Q){return y.slice(0,Q).reduce((z,U)=>z+(U||f.value),0)}function k(Q){const z=e.value.length;let U=0,F=0;for(;F<Q&&U<z;)F+=y[U++]||f.value;return U-1}let w=0;function C(){if(!d.value||!c.value)return;const Q=c.value.height-56,z=d.value.scrollTop,U=z<w?Hme:Ume,F=k(z+Q/2),B=Math.round(b.value/3),E=F-B,W=a.value+B*2-1;U===Hme&&F<=W?a.value=Np(E,0,e.value.length):U===Ume&&F>=W&&(a.value=Np(E,0,e.value.length-b.value)),w=z}function _(Q){if(!d.value)return;const z=T(Q);d.value.scrollTop=z}const M=Jt(()=>Math.min(e.value.length,a.value+b.value)),I=Jt(()=>e.value.slice(a.value,M.value).map((Q,z)=>({raw:Q,index:z+a.value}))),V=Jt(()=>T(a.value)),N=Jt(()=>T(e.value.length)-T(M.value));return zo(()=>e.value.length,()=>{y=x8(e.value.length).map(()=>f.value),v.forEach((Q,z)=>{const U=e.value.indexOf(z);U===-1?v.delete(z):y[U]=Q})}),{containerRef:d,computedItems:I,itemHeight:f,paddingTop:V,paddingBottom:N,scrollToIndex:_,handleScroll:C,handleItemResize:O}}const c_e=Vr({items:{type:Array,default:()=>[]},renderless:Boolean,...i_e(),...ua(),...qT()},"VVirtualScroll"),Dle=Go()({name:"VVirtualScroll",props:c_e(),setup(t,e){let{slots:r}=e;const a=Af("VVirtualScroll"),{dimensionStyles:i}=KT(t),{containerRef:f,handleScroll:d,handleItemResize:h,scrollToIndex:c,paddingTop:g,paddingBottom:v,computedItems:y}=l_e(t,qo(t,"items"));return NS(()=>t.renderless,()=>{Sg(()=>{var b;f.value=abe(a.vnode.el,!0),(b=f.value)==null||b.addEventListener("scroll",d)}),dm(()=>{var b;(b=f.value)==null||b.removeEventListener("scroll",d)})}),bs(()=>{const b=y.value.map(O=>at(a_e,{key:O.index,renderless:t.renderless,"onUpdate:height":T=>h(O.index,T)},{default:T=>{var k;return(k=r.default)==null?void 0:k.call(r,{item:O.raw,index:O.index,...T})}}));return t.renderless?at(es,null,[at("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:ls(g.value)}},null),b,at("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ls(v.value)}},null)]):at("div",{ref:f,class:["v-virtual-scroll",t.class],onScroll:d,style:[i.value,t.style]},[at("div",{class:"v-virtual-scroll__container",style:{paddingTop:ls(g.value),paddingBottom:ls(v.value)}},[b])])}),{scrollToIndex:c}}});function $le(t,e){const r=us(!1);let a;function i(h){cancelAnimationFrame(a),r.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{r.value=!1})})}async function f(){await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>{if(r.value){const c=zo(r,()=>{c(),h()})}else h()})}async function d(h){var v,y;if(h.key==="Tab"&&((v=e.value)==null||v.focus()),!["PageDown","PageUp","Home","End"].includes(h.key))return;const c=(y=t.value)==null?void 0:y.$el;if(!c)return;(h.key==="Home"||h.key==="End")&&c.scrollTo({top:h.key==="Home"?0:c.scrollHeight,behavior:"smooth"}),await f();const g=c.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(h.key==="PageDown"||h.key==="Home"){const b=c.getBoundingClientRect().top;for(const O of g)if(O.getBoundingClientRect().top>=b){O.focus();break}}else{const b=c.getBoundingClientRect().bottom;for(const O of[...g].reverse())if(O.getBoundingClientRect().bottom<=b){O.focus();break}}}return{onListScroll:i,onListKeydown:d}}const Lle=Vr({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Di,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...jbe({itemChildren:!1})},"Select"),u_e=Vr({...Lle(),...I8(oW({modelValue:null,role:"button"}),["validationValue","dirty","appendInnerIcon"]),...JT({transition:{component:dle}})},"VSelect"),Ile=Go()({name:"VSelect",props:u_e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:r}=e;const{t:a}=zS(),i=bo(),f=bo(),d=bo(),h=ei(t,"menu"),c=Jt({get:()=>h.value,set:L=>{var me;h.value&&!L&&((me=f.value)!=null&&me.ΨopenChildren)||(h.value=L)}}),{items:g,transformIn:v,transformOut:y}=Ale(t),b=ei(t,"modelValue",[],L=>v(L===null?[null]:Oh(L)),L=>{const me=y(L);return t.multiple?me:me[0]??null}),O=tW(),T=Jt(()=>b.value.map(L=>L.value)),k=us(!1),w=Jt(()=>c.value?t.closeText:t.openText);let C="",_;const M=Jt(()=>t.hideSelected?g.value.filter(L=>!b.value.some(me=>me===L)):g.value),I=Jt(()=>t.hideNoData&&!g.value.length||t.readonly||(O==null?void 0:O.isReadonly.value)),V=bo(),{onListScroll:N,onListKeydown:Q}=$le(V,i);function z(L){t.openOnClear&&(c.value=!0)}function U(){I.value||(c.value=!c.value)}function F(L){var ee,xe;if(!L.key||t.readonly||O!=null&&O.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(L.key)&&L.preventDefault(),["Enter","ArrowDown"," "].includes(L.key)&&(c.value=!0),["Escape","Tab"].includes(L.key)&&(c.value=!1),L.key==="Home"?(ee=V.value)==null||ee.focus("first"):L.key==="End"&&((xe=V.value)==null||xe.focus("last"));const me=1e3;function ae(we){const Be=we.key.length===1,pe=!we.ctrlKey&&!we.metaKey&&!we.altKey;return Be&&pe}if(t.multiple||!ae(L))return;const q=performance.now();q-_>me&&(C=""),C+=L.key.toLowerCase(),_=q;const de=g.value.find(we=>we.title.toLowerCase().startsWith(C));de!==void 0&&(b.value=[de])}function B(L){if(t.multiple){const me=b.value.findIndex(ae=>t.valueComparator(ae.value,L.value));if(me===-1)b.value=[...b.value,L];else{const ae=[...b.value];ae.splice(me,1),b.value=ae}}else b.value=[L],c.value=!1}function E(L){var me;(me=V.value)!=null&&me.$el.contains(L.relatedTarget)||(c.value=!1)}function W(){var L;k.value&&((L=i.value)==null||L.focus())}function X(L){k.value=!0}function ie(L){if(L==null)b.value=[];else if(w8(i.value,":autofill")||w8(i.value,":-webkit-autofill")){const me=g.value.find(ae=>ae.title===L);me&&B(me)}else i.value&&(i.value.value="")}return zo(c,()=>{if(!t.hideSelected&&c.value&&b.value.length){const L=M.value.findIndex(me=>b.value.some(ae=>t.valueComparator(ae.value,me.value)));Yl&&window.requestAnimationFrame(()=>{var me;L>=0&&((me=d.value)==null||me.scrollToIndex(L))})}}),bs(()=>{const L=!!(t.chips||r.chip),me=!!(!t.hideNoData||M.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),ae=b.value.length>0,[q]=gm.filterProps(t),de=ae||!k.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return at(gm,ts({ref:i},q,{modelValue:b.value.map(ee=>ee.props.value).join(", "),"onUpdate:modelValue":ie,focused:k.value,"onUpdate:focused":ee=>k.value=ee,validationValue:b.externalValue,counterValue:b.value.length,dirty:ae,class:["v-select",{"v-select--active-menu":c.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":b.value.length,"v-select--selection-slot":!!r.selection},t.class],style:t.style,inputmode:"none",placeholder:de,"onClick:clear":z,"onMousedown:control":U,onBlur:E,onKeydown:F,"aria-label":a(w.value),title:a(w.value)}),{...r,default:()=>at(es,null,[at(UT,ts({ref:f,modelValue:c.value,"onUpdate:modelValue":ee=>c.value=ee,activator:"parent",contentClass:"v-select__content",disabled:I.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:W},t.menuProps),{default:()=>[me&&at(HT,{ref:V,selected:T.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ee=>ee.preventDefault(),onKeydown:Q,onFocusin:X,onScrollPassive:N,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var ee,xe,we;return[(ee=r["prepend-item"])==null?void 0:ee.call(r),!M.value.length&&!t.hideNoData&&(((xe=r["no-data"])==null?void 0:xe.call(r))??at(Md,{title:a(t.noDataText)},null)),at(Dle,{ref:d,renderless:!0,items:M.value},{default:Be=>{var ve;let{item:pe,index:ne,itemRef:le}=Be;const Y=ts(pe.props,{ref:le,key:ne,onClick:()=>B(pe)});return((ve=r.item)==null?void 0:ve.call(r,{item:pe,index:ne,props:Y}))??at(Md,Y,{prepend:Oe=>{let{isSelected:Le}=Oe;return at(es,null,[t.multiple&&!t.hideSelected?at(Q8,{key:pe.value,modelValue:Le,ripple:!1,tabindex:"-1"},null):void 0,pe.props.prependIcon&&at(ci,{icon:pe.props.prependIcon},null)])}})}}),(we=r["append-item"])==null?void 0:we.call(r)]}})]}),b.value.map((ee,xe)=>{var pe;function we(ne){ne.stopPropagation(),ne.preventDefault(),B(ee)}const Be={"onClick:close":we,onMousedown(ne){ne.preventDefault(),ne.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return at("div",{key:ee.value,class:"v-select__selection"},[L?r.chip?at(Hc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ee.title}}},{default:()=>{var ne;return[(ne=r.chip)==null?void 0:ne.call(r,{item:ee,index:xe,props:Be})]}}):at(nW,ts({key:"chip",closable:t.closableChips,size:"small",text:ee.title,disabled:ee.props.disabled},Be),null):((pe=r.selection)==null?void 0:pe.call(r,{item:ee,index:xe}))??at("span",{class:"v-select__selection-text"},[ee.title,t.multiple&&xe<b.value.length-1&&at("span",{class:"v-select__selection-comma"},[xl(",")])])])})]),"append-inner":function(){var Be;for(var ee=arguments.length,xe=new Array(ee),we=0;we<ee;we++)xe[we]=arguments[we];return at(es,null,[(Be=r["append-inner"])==null?void 0:Be.call(r,...xe),t.menuIcon?at(ci,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),t5({isFocused:k,menu:c,select:B},i)}}),f_e=(t,e,r)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),Nle=Vr({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function d_e(t,e,r){var h;const a=[],i=(r==null?void 0:r.default)??f_e,f=r!=null&&r.filterKeys?Oh(r.filterKeys):!1,d=Object.keys((r==null?void 0:r.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return a;e:for(let c=0;c<t.length;c++){const[g,v=g]=Oh(t[c]),y={},b={};let O=-1;if(e&&!(r!=null&&r.noFilter)){if(typeof g=="object"){const w=f||Object.keys(v);for(const C of w){const _=um(v,C,v),M=(h=r==null?void 0:r.customKeyFilter)==null?void 0:h[C];if(O=M?M(_,e,g):i(_,e,g),O!==-1&&O!==!1)M?y[C]=O:b[C]=O;else if((r==null?void 0:r.filterMode)==="every")continue e}}else O=i(g,e,g),O!==-1&&O!==!1&&(b.title=O);const T=Object.keys(b).length,k=Object.keys(y).length;if(!T&&!k||(r==null?void 0:r.filterMode)==="union"&&k!==d&&!T||(r==null?void 0:r.filterMode)==="intersection"&&(k!==d||!T))continue}a.push({index:c,matches:{...b,...y}})}return a}function Ble(t,e,r,a){const i=bo([]),f=bo(new Map),d=Jt(()=>a!=null&&a.transform?Ol(e).map(c=>[c,a.transform(c)]):Ol(e));pm(()=>{const c=typeof r=="function"?r():Ol(r),g=typeof c!="string"&&typeof c!="number"?"":String(c),v=d_e(d.value,g,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),y=Ol(e),b=[],O=new Map;v.forEach(T=>{let{index:k,matches:w}=T;const C=y[k];b.push(C),O.set(C.value,w)}),i.value=b,f.value=O});function h(c){return f.value.get(c.value)}return{filteredItems:i,filteredMatches:f,getMatches:h}}function h_e(t,e,r){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?at(es,null,[at("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),at("span",{class:"v-autocomplete__mask"},[t.substr(e,r)]),at("span",{class:"v-autocomplete__unmask"},[t.substr(e+r)])]):t}const m_e=Vr({autoSelectFirst:{type:[Boolean,String]},search:String,...Nle({filterKeys:["title"]}),...Lle(),...I8(oW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...JT({transition:!1})},"VAutocomplete"),iOe=Go()({name:"VAutocomplete",props:m_e(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:r}=e;const{t:a}=zS(),i=bo(),f=us(!1),d=us(!0),h=us(!1),c=bo(),g=bo(),v=ei(t,"menu"),y=Jt({get:()=>v.value,set:Y=>{var ve;v.value&&!Y&&((ve=c.value)!=null&&ve.ΨopenChildren)||(v.value=Y)}}),b=us(-1),O=Jt(()=>{var Y;return(Y=i.value)==null?void 0:Y.color}),T=Jt(()=>y.value?t.closeText:t.openText),{items:k,transformIn:w,transformOut:C}=Ale(t),{textColorClasses:_,textColorStyles:M}=Qp(O),I=ei(t,"search",""),V=ei(t,"modelValue",[],Y=>w(Y===null?[null]:Oh(Y)),Y=>{const ve=C(Y);return t.multiple?ve:ve[0]??null}),N=tW(),{filteredItems:Q,getMatches:z}=Ble(t,k,()=>d.value?"":I.value),U=Jt(()=>t.hideSelected?Q.value.filter(Y=>!V.value.some(ve=>ve.value===Y.value)):Q.value),F=Jt(()=>V.value.map(Y=>Y.props.value)),B=Jt(()=>{var ve;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&I.value===((ve=U.value[0])==null?void 0:ve.title))&&U.value.length>0&&!d.value&&!h.value}),E=Jt(()=>t.hideNoData&&!k.value.length||t.readonly||(N==null?void 0:N.isReadonly.value)),W=bo(),{onListScroll:X,onListKeydown:ie}=$le(W,i);function L(Y){t.openOnClear&&(y.value=!0),I.value=""}function me(){E.value||(y.value=!0)}function ae(Y){E.value||(f.value&&(Y.preventDefault(),Y.stopPropagation()),y.value=!y.value)}function q(Y){var Le,Te,De;if(t.readonly||N!=null&&N.isReadonly.value)return;const ve=i.value.selectionStart,Oe=V.value.length;if((b.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Y.key))&&Y.preventDefault(),["Enter","ArrowDown"].includes(Y.key)&&(y.value=!0),["Escape"].includes(Y.key)&&(y.value=!1),B.value&&["Enter","Tab"].includes(Y.key)&&le(U.value[0]),Y.key==="ArrowDown"&&B.value&&((Le=W.value)==null||Le.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(Y.key)){if(b.value<0){Y.key==="Backspace"&&!I.value&&(b.value=Oe-1);return}const Ve=b.value,_e=V.value[b.value];_e&&!_e.props.disabled&&le(_e),b.value=Ve>=Oe-1?Oe-2:Ve}if(Y.key==="ArrowLeft"){if(b.value<0&&ve>0)return;const Ve=b.value>-1?b.value-1:Oe-1;V.value[Ve]?b.value=Ve:(b.value=-1,i.value.setSelectionRange((Te=I.value)==null?void 0:Te.length,(De=I.value)==null?void 0:De.length))}if(Y.key==="ArrowRight"){if(b.value<0)return;const Ve=b.value+1;V.value[Ve]?b.value=Ve:(b.value=-1,i.value.setSelectionRange(0,0))}}}function de(Y){I.value=Y.target.value}function ee(Y){if(w8(i.value,":autofill")||w8(i.value,":-webkit-autofill")){const ve=k.value.find(Oe=>Oe.title===Y.target.value);ve&&le(ve)}}function xe(){var Y;f.value&&(d.value=!0,(Y=i.value)==null||Y.focus())}function we(Y){f.value=!0,setTimeout(()=>{h.value=!0})}function Be(Y){h.value=!1}function pe(Y){(Y==null||Y===""&&!t.multiple)&&(V.value=[])}const ne=us(!1);function le(Y){if(t.multiple){const ve=V.value.findIndex(Oe=>t.valueComparator(Oe.value,Y.value));if(ve===-1)V.value=[...V.value,Y];else{const Oe=[...V.value];Oe.splice(ve,1),V.value=Oe}}else V.value=[Y],ne.value=!0,I.value=Y.title,y.value=!1,d.value=!0,wl(()=>ne.value=!1)}return zo(f,(Y,ve)=>{var Oe;Y!==ve&&(Y?(ne.value=!0,I.value=t.multiple?"":String(((Oe=V.value.at(-1))==null?void 0:Oe.props.title)??""),d.value=!0,wl(()=>ne.value=!1)):(!t.multiple&&!I.value?V.value=[]:B.value&&!h.value&&!V.value.some(Le=>{let{value:Te}=Le;return Te===U.value[0].value})&&le(U.value[0]),y.value=!1,I.value="",b.value=-1))}),zo(I,Y=>{!f.value||ne.value||(Y&&(y.value=!0),d.value=!Y)}),zo(y,()=>{if(!t.hideSelected&&y.value&&V.value.length){const Y=U.value.findIndex(ve=>V.value.some(Oe=>ve.value===Oe.value));Yl&&window.requestAnimationFrame(()=>{var ve;Y>=0&&((ve=g.value)==null||ve.scrollToIndex(Y))})}}),bs(()=>{const Y=!!(t.chips||r.chip),ve=!!(!t.hideNoData||U.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),Oe=V.value.length>0,[Le]=gm.filterProps(t);return at(gm,ts({ref:i},Le,{modelValue:I.value,"onUpdate:modelValue":pe,focused:f.value,"onUpdate:focused":Te=>f.value=Te,validationValue:V.externalValue,counterValue:V.value.length,dirty:Oe,onInput:de,onChange:ee,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":y.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!r.selection,"v-autocomplete--selecting-index":b.value>-1},t.class],style:t.style,readonly:t.readonly,placeholder:Oe?void 0:t.placeholder,"onClick:clear":L,"onMousedown:control":me,onKeydown:q}),{...r,default:()=>at(es,null,[at(UT,ts({ref:c,modelValue:y.value,"onUpdate:modelValue":Te=>y.value=Te,activator:"parent",contentClass:"v-autocomplete__content",disabled:E.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:xe},t.menuProps),{default:()=>[ve&&at(HT,{ref:W,selected:F.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Te=>Te.preventDefault(),onKeydown:ie,onFocusin:we,onFocusout:Be,onScrollPassive:X,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var Te,De,Ve;return[(Te=r["prepend-item"])==null?void 0:Te.call(r),!U.value.length&&!t.hideNoData&&(((De=r["no-data"])==null?void 0:De.call(r))??at(Md,{title:a(t.noDataText)},null)),at(Dle,{ref:g,renderless:!0,items:U.value},{default:_e=>{var se;let{item:Ie,index:re,itemRef:be}=_e;const te=ts(Ie.props,{ref:be,key:re,active:B.value&&re===0?!0:void 0,onClick:()=>le(Ie)});return((se=r.item)==null?void 0:se.call(r,{item:Ie,index:re,props:te}))??at(Md,te,{prepend:fe=>{let{isSelected:oe}=fe;return at(es,null,[t.multiple&&!t.hideSelected?at(Q8,{key:Ie.value,modelValue:oe,ripple:!1,tabindex:"-1"},null):void 0,Ie.props.prependIcon&&at(ci,{icon:Ie.props.prependIcon},null)])},title:()=>{var fe,oe;return d.value?Ie.title:h_e(Ie.title,(fe=z(Ie))==null?void 0:fe.title,((oe=I.value)==null?void 0:oe.length)??0)}})}}),(Ve=r["append-item"])==null?void 0:Ve.call(r)]}})]}),V.value.map((Te,De)=>{var Ie;function Ve(re){re.stopPropagation(),re.preventDefault(),le(Te)}const _e={"onClick:close":Ve,onMousedown(re){re.preventDefault(),re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return at("div",{key:Te.value,class:["v-autocomplete__selection",De===b.value&&["v-autocomplete__selection--selected",_.value]],style:De===b.value?M.value:{}},[Y?r.chip?at(Hc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Te.title}}},{default:()=>{var re;return[(re=r.chip)==null?void 0:re.call(r,{item:Te,index:De,props:_e})]}}):at(nW,ts({key:"chip",closable:t.closableChips,size:"small",text:Te.title,disabled:Te.props.disabled},_e),null):((Ie=r.selection)==null?void 0:Ie.call(r,{item:Te,index:De}))??at("span",{class:"v-autocomplete__selection-text"},[Te.title,t.multiple&&De<V.value.length-1&&at("span",{class:"v-autocomplete__selection-comma"},[xl(",")])])])})]),"append-inner":function(){var _e;for(var Te=arguments.length,De=new Array(Te),Ve=0;Ve<Te;Ve++)De[Ve]=arguments[Ve];return at(es,null,[(_e=r["append-inner"])==null?void 0:_e.call(r,...De),t.menuIcon?at(ci,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:ae,onClick:qye,"aria-label":a(T.value),title:a(T.value)},null):void 0])}})}),t5({isFocused:f,isPristine:d,menu:y,search:I,filteredItems:Q,select:le},i)}});const lOe=Go()({name:"VCardActions",props:ua(),setup(t,e){let{slots:r}=e;return uy({VBtn:{variant:"text"}}),bs(()=>{var a;return at("div",{class:["v-card-actions",t.class],style:t.style},[(a=r.default)==null?void 0:a.call(r)])}),{}}}),g_e=B8("v-card-subtitle"),Qle=B8("v-card-title"),p_e=Vr({appendAvatar:String,appendIcon:Di,prependAvatar:String,prependIcon:Di,subtitle:String,title:String,...ua(),...Kv()},"VCardItem"),v_e=Go()({name:"VCardItem",props:p_e(),setup(t,e){let{slots:r}=e;return bs(()=>{var g;const a=!!(t.prependAvatar||t.prependIcon),i=!!(a||r.prepend),f=!!(t.appendAvatar||t.appendIcon),d=!!(f||r.append),h=!!(t.title||r.title),c=!!(t.subtitle||r.subtitle);return at("div",{class:["v-card-item",t.class],style:t.style},[i&&at("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?at(Hc,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},r.prepend):a&&at(T8,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),at("div",{class:"v-card-item__content"},[h&&at(Qle,{key:"title"},{default:()=>{var v;return[((v=r.title)==null?void 0:v.call(r))??t.title]}}),c&&at(g_e,{key:"subtitle"},{default:()=>{var v;return[((v=r.subtitle)==null?void 0:v.call(r))??t.subtitle]}}),(g=r.default)==null?void 0:g.call(r)]),d&&at("div",{key:"append",class:"v-card-item__append"},[r.append?at(Hc,{key:"append-defaults",disabled:!f,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},r.append):f&&at(T8,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),cOe=B8("v-card-text"),y_e=Vr({appendAvatar:String,appendIcon:Di,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Di,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...ZS(),...ua(),...Kv(),...qT(),...fy(),...GU(),...Sle(),...Mbe(),...Tg(),...KU(),...wc(),...su(),...US({variant:"elevated"})},"VCard"),f$=Go()({name:"VCard",directives:{Ripple:e5},props:y_e(),setup(t,e){let{attrs:r,slots:a}=e;const{themeClasses:i}=Uu(t),{borderClasses:f}=HS(t),{colorClasses:d,colorStyles:h,variantClasses:c}=i$(t),{densityClasses:g}=hy(t),{dimensionStyles:v}=KT(t),{elevationClasses:y}=dy(t),{loaderClasses:b}=u$(t),{locationStyles:O}=wle(t),{positionClasses:T}=Ebe(t),{roundedClasses:k}=kg(t),w=qU(t,r),C=Jt(()=>t.link!==!1&&w.isLink.value),_=Jt(()=>!t.disabled&&t.link!==!1&&(t.link||w.isClickable.value));return bs(()=>{const M=C.value?"a":t.tag,I=!!(a.title||t.title),V=!!(a.subtitle||t.subtitle),N=I||V,Q=!!(a.append||t.appendAvatar||t.appendIcon),z=!!(a.prepend||t.prependAvatar||t.prependIcon),U=!!(a.image||t.image),F=N||z||Q,B=!!(a.text||t.text);return zu(at(M,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":_.value},i.value,f.value,d.value,g.value,y.value,b.value,T.value,k.value,c.value,t.class],style:[h.value,v.value,O.value,t.style],href:w.href.value,onClick:_.value&&w.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var E;return[U&&at("div",{key:"image",class:"v-card__image"},[a.image?at(Hc,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},a.image):at(s$,{key:"image-img",cover:!0,src:t.image},null)]),at(jU,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:a.loader}),F&&at(v_e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),B&&at(cOe,{key:"text"},{default:()=>{var W;return[((W=a.text)==null?void 0:W.call(a))??t.text]}}),(E=a.default)==null?void 0:E.call(a),a.actions&&at(lOe,null,{default:a.actions}),a$(_.value,"v-card")]}}),[[Gv("ripple"),_.value&&t.ripple]])}),{}}});const Fle=Symbol.for("vuetify:v-slider");function pae(t,e,r){const a=r==="vertical",i=e.getBoundingClientRect(),f="touches"in t?t.touches[0]:t;return a?f.clientY-(i.top+i.height/2):f.clientX-(i.left+i.width/2)}function b_e(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const uOe=Vr({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...Tg(),...fy({elevation:2})},"Slider"),fOe=t=>{const e=Jt(()=>parseFloat(t.min)),r=Jt(()=>parseFloat(t.max)),a=Jt(()=>+t.step>0?parseFloat(t.step):0),i=Jt(()=>Math.max(rme(a.value),rme(e.value)));function f(d){if(d=parseFloat(d),a.value<=0)return d;const h=Np(d,e.value,r.value),c=e.value%a.value,g=Math.round((h-c)/a.value)*a.value+c;return parseFloat(Math.min(g,r.value).toFixed(i.value))}return{min:e,max:r,step:a,decimals:i,roundValue:f}},dOe=t=>{let{props:e,steps:r,onSliderStart:a,onSliderMove:i,onSliderEnd:f,getActiveThumb:d}=t;const{isRtl:h}=zp(),c=qo(e,"reverse"),g=Jt(()=>e.direction==="vertical"),v=Jt(()=>g.value!==c.value),{min:y,max:b,step:O,decimals:T,roundValue:k}=r,w=Jt(()=>parseInt(e.thumbSize,10)),C=Jt(()=>parseInt(e.tickSize,10)),_=Jt(()=>parseInt(e.trackSize,10)),M=Jt(()=>(b.value-y.value)/O.value),I=qo(e,"disabled"),V=Jt(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),N=Jt(()=>e.error||e.disabled?void 0:e.trackColor??e.color),Q=Jt(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),z=us(!1),U=us(0),F=bo(),B=bo();function E(ne){var _e;const le=e.direction==="vertical",Y=le?"top":"left",ve=le?"height":"width",Oe=le?"clientY":"clientX",{[Y]:Le,[ve]:Te}=(_e=F.value)==null?void 0:_e.$el.getBoundingClientRect(),De=b_e(ne,Oe);let Ve=Math.min(Math.max((De-Le-U.value)/Te,0),1)||0;return(le?v.value:v.value!==h.value)&&(Ve=1-Ve),k(y.value+Ve*(b.value-y.value))}const W=ne=>{f({value:E(ne)}),z.value=!1,U.value=0},X=ne=>{B.value=d(ne),B.value&&(B.value.focus(),z.value=!0,B.value.contains(ne.target)?U.value=pae(ne,B.value,e.direction):(U.value=0,i({value:E(ne)})),a({value:E(ne)}))},ie={passive:!0,capture:!0};function L(ne){i({value:E(ne)})}function me(ne){ne.stopPropagation(),ne.preventDefault(),W(ne),window.removeEventListener("mousemove",L,ie),window.removeEventListener("mouseup",me)}function ae(ne){var le;W(ne),window.removeEventListener("touchmove",L,ie),(le=ne.target)==null||le.removeEventListener("touchend",ae)}function q(ne){var le;X(ne),window.addEventListener("touchmove",L,ie),(le=ne.target)==null||le.addEventListener("touchend",ae,{passive:!1})}function de(ne){ne.preventDefault(),X(ne),window.addEventListener("mousemove",L,ie),window.addEventListener("mouseup",me,{passive:!1})}const ee=ne=>{const le=(ne-y.value)/(b.value-y.value)*100;return Np(isNaN(le)?0:le,0,100)},xe=qo(e,"showTicks"),we=Jt(()=>xe.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(ne=>({value:ne,position:ee(ne),label:ne.toString()})):Object.keys(e.ticks).map(ne=>({value:parseFloat(ne),position:ee(parseFloat(ne)),label:e.ticks[ne]})):M.value!==1/0?x8(M.value+1).map(ne=>{const le=y.value+ne*O.value;return{value:le,position:ee(le)}}):[]:[]),Be=Jt(()=>we.value.some(ne=>{let{label:le}=ne;return!!le})),pe={activeThumbRef:B,color:qo(e,"color"),decimals:T,disabled:I,direction:qo(e,"direction"),elevation:qo(e,"elevation"),hasLabels:Be,isReversed:c,indexFromEnd:v,min:y,max:b,mousePressed:z,numTicks:M,onSliderMousedown:de,onSliderTouchstart:q,parsedTicks:we,parseMouseMove:E,position:ee,readonly:qo(e,"readonly"),rounded:qo(e,"rounded"),roundValue:k,showTicks:xe,startOffset:U,step:O,thumbSize:w,thumbColor:V,thumbLabel:qo(e,"thumbLabel"),ticks:qo(e,"ticks"),tickSize:C,trackColor:N,trackContainerRef:F,trackFillColor:Q,trackSize:_,vertical:g};return El(Fle,pe),pe},O_e=Vr({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...ua()},"VSliderThumb"),vae=Go()({name:"VSliderThumb",directives:{Ripple:e5},props:O_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=Da(Fle),{isRtl:f,rtlClasses:d}=zp();if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:h,step:c,disabled:g,thumbSize:v,thumbLabel:y,direction:b,isReversed:O,vertical:T,readonly:k,elevation:w,mousePressed:C,decimals:_,indexFromEnd:M}=i,{textColorClasses:I,textColorStyles:V}=Qp(h),{pageup:N,pagedown:Q,end:z,home:U,left:F,right:B,down:E,up:W}=pMe,X=[N,Q,z,U,F,B,E,W],ie=Jt(()=>c.value?[1,2,3]:[1,5,10]);function L(ae,q){if(!X.includes(ae.key))return;ae.preventDefault();const de=c.value||.1,ee=(t.max-t.min)/de;if([F,B,E,W].includes(ae.key)){const we=(T.value?[f.value?F:B,O.value?E:W]:M.value!==f.value?[F,W]:[B,W]).includes(ae.key)?1:-1,Be=ae.shiftKey?2:ae.ctrlKey?1:0;q=q+we*de*ie.value[Be]}else if(ae.key===U)q=t.min;else if(ae.key===z)q=t.max;else{const xe=ae.key===Q?1:-1;q=q-xe*de*(ee>100?ee/10:10)}return Math.max(t.min,Math.min(t.max,q))}function me(ae){const q=L(ae,t.modelValue);q!=null&&a("update:modelValue",q)}return bs(()=>{const ae=ls(M.value?100-t.position:t.position,"%"),{elevationClasses:q}=dy(Jt(()=>g.value?void 0:w.value));return at("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&C.value},t.class,d.value],style:[{"--v-slider-thumb-position":ae,"--v-slider-thumb-size":ls(v.value)},t.style],role:"slider",tabindex:g.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!k.value,"aria-orientation":b.value,onKeydown:k.value?void 0:me},[at("div",{class:["v-slider-thumb__surface",I.value,q.value],style:{...V.value}},null),zu(at("div",{class:["v-slider-thumb__ripple",I.value],style:V.value},null),[[Gv("ripple"),t.ripple,null,{circle:!0,center:!0}]]),at(gbe,{origin:"bottom center"},{default:()=>{var de;return[zu(at("div",{class:"v-slider-thumb__label-container"},[at("div",{class:["v-slider-thumb__label"]},[at("div",null,[((de=r["thumb-label"])==null?void 0:de.call(r,{modelValue:t.modelValue}))??t.modelValue.toFixed(c.value?_.value:1)])])]),[[BS,y.value&&t.focused||y.value==="always"]])]}})])}),{}}});const x_e=Vr({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ua()},"VSliderTrack"),hOe=Go()({name:"VSliderTrack",props:x_e(),emits:{},setup(t,e){let{slots:r}=e;const a=Da(Fle);if(!a)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,parsedTicks:f,rounded:d,showTicks:h,tickSize:c,trackColor:g,trackFillColor:v,trackSize:y,vertical:b,min:O,max:T,indexFromEnd:k}=a,{roundedClasses:w}=kg(d),{backgroundColorClasses:C,backgroundColorStyles:_}=xg(v),{backgroundColorClasses:M,backgroundColorStyles:I}=xg(g),V=Jt(()=>`inset-${b.value?"block":"inline"}-${k.value?"end":"start"}`),N=Jt(()=>b.value?"height":"width"),Q=Jt(()=>({[V.value]:"0%",[N.value]:"100%"})),z=Jt(()=>t.stop-t.start),U=Jt(()=>({[V.value]:ls(t.start,"%"),[N.value]:ls(z.value,"%")})),F=Jt(()=>h.value?(b.value?f.value.slice().reverse():f.value).map((E,W)=>{var ie;const X=E.value!==O.value&&E.value!==T.value?ls(E.position,"%"):void 0;return at("div",{key:E.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":E.position>=t.start&&E.position<=t.stop,"v-slider-track__tick--first":E.value===O.value,"v-slider-track__tick--last":E.value===T.value}],style:{[V.value]:X}},[(E.label||r["tick-label"])&&at("div",{class:"v-slider-track__tick-label"},[((ie=r["tick-label"])==null?void 0:ie.call(r,{tick:E,index:W}))??E.label])])}):[]);return bs(()=>at("div",{class:["v-slider-track",w.value,t.class],style:[{"--v-slider-track-size":ls(y.value),"--v-slider-tick-size":ls(c.value)},t.style]},[at("div",{class:["v-slider-track__background",M.value,{"v-slider-track__background--opacity":!!i.value||!v.value}],style:{...Q.value,...I.value}},null),at("div",{class:["v-slider-track__fill",C.value],style:{...U.value,..._.value}},null),h.value&&at("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":h.value==="always"}]},[F.value])])),{}}}),S_e=Vr({...eW(),...uOe(),...V8(),modelValue:{type:[Number,String],default:0}},"VSlider"),mOe=Go()({name:"VSlider",props:S_e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=bo(),{rtlClasses:f}=zp(),d=fOe(t),h=ei(t,"modelValue",void 0,N=>d.roundValue(N??d.min.value)),{min:c,max:g,mousePressed:v,roundValue:y,onSliderMousedown:b,onSliderTouchstart:O,trackContainerRef:T,position:k,hasLabels:w,readonly:C}=dOe({props:t,steps:d,onSliderStart:()=>{a("start",h.value)},onSliderEnd:N=>{let{value:Q}=N;const z=y(Q);h.value=z,a("end",z)},onSliderMove:N=>{let{value:Q}=N;return h.value=y(Q)},getActiveThumb:()=>{var N;return(N=i.value)==null?void 0:N.$el}}),{isFocused:_,focus:M,blur:I}=F8(t),V=Jt(()=>k(h.value));return bs(()=>{const[N,Q]=sy.filterProps(t),z=!!(t.label||r.label||r.prepend);return at(sy,ts({class:["v-slider",{"v-slider--has-labels":!!r["tick-label"]||w.value,"v-slider--focused":_.value,"v-slider--pressed":v.value,"v-slider--disabled":t.disabled},f.value,t.class],style:t.style},N,{focused:_.value}),{...r,prepend:z?U=>{var F,B;return at(es,null,[((F=r.label)==null?void 0:F.call(r,U))??(t.label?at(JU,{id:U.id.value,class:"v-slider__label",text:t.label},null):void 0),(B=r.prepend)==null?void 0:B.call(r,U)])}:void 0,default:U=>{let{id:F,messagesId:B}=U;return at("div",{class:"v-slider__container",onMousedown:C.value?void 0:b,onTouchstartPassive:C.value?void 0:O},[at("input",{id:F.value,name:t.name||F.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:h.value},null),at(hOe,{ref:T,start:0,stop:V.value},{"tick-label":r["tick-label"]}),at(vae,{ref:i,"aria-describedby":B.value,focused:_.value,min:c.value,max:g.value,modelValue:h.value,"onUpdate:modelValue":E=>h.value=E,position:V.value,elevation:t.elevation,onFocus:M,onBlur:I},{"thumb-label":r["thumb-label"]})])}})}),{}}});function w_e(t,e,r){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?at(es,null,[at("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),at("span",{class:"v-combobox__mask"},[t.substr(e,r)]),at("span",{class:"v-combobox__unmask"},[t.substr(e+r)])]):t}const C_e=Vr({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...Nle({filterKeys:["title"]}),...Lle({hideNoData:!0,returnObject:!0}),...I8(oW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...JT({transition:!1})},"VCombobox"),gOe=Go()({name:"VCombobox",props:C_e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var Y;let{emit:r,slots:a}=e;const{t:i}=zS(),f=bo(),d=us(!1),h=us(!0),c=us(!1),g=bo(),v=bo(),y=ei(t,"menu"),b=Jt({get:()=>y.value,set:ve=>{var Oe;y.value&&!ve&&((Oe=g.value)!=null&&Oe.ΨopenChildren)||(y.value=ve)}}),O=us(-1);let T=!1;const k=Jt(()=>{var ve;return(ve=f.value)==null?void 0:ve.color}),w=Jt(()=>b.value?t.closeText:t.openText),{items:C,transformIn:_,transformOut:M}=Ale(t),{textColorClasses:I,textColorStyles:V}=Qp(k),N=ei(t,"modelValue",[],ve=>_(Oh(ve)),ve=>{const Oe=M(ve);return t.multiple?Oe:Oe[0]??null}),Q=tW(),z=us(t.multiple?"":((Y=N.value[0])==null?void 0:Y.title)??""),U=Jt({get:()=>z.value,set:ve=>{var Oe;if(z.value=ve,t.multiple||(N.value=[$T(t,ve)]),ve&&t.multiple&&((Oe=t.delimiters)!=null&&Oe.length)){const Le=ve.split(new RegExp(`(?:${t.delimiters.join("|")})+`));Le.length>1&&(Le.forEach(Te=>{Te=Te.trim(),Te&&Be($T(t,Te))}),z.value="")}ve||(O.value=-1),h.value=!ve}});zo(z,ve=>{T?wl(()=>T=!1):d.value&&!b.value&&(b.value=!0),r("update:search",ve)}),zo(N,ve=>{var Oe;t.multiple||(z.value=((Oe=ve[0])==null?void 0:Oe.title)??"")});const{filteredItems:F,getMatches:B}=Ble(t,C,()=>h.value?"":U.value),E=Jt(()=>t.hideSelected?F.value.filter(ve=>!N.value.some(Oe=>Oe.value===ve.value)):F.value),W=Jt(()=>N.value.map(ve=>ve.value)),X=Jt(()=>{var Oe;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&U.value===((Oe=E.value[0])==null?void 0:Oe.title))&&E.value.length>0&&!h.value&&!c.value}),ie=Jt(()=>t.hideNoData&&!C.value.length||t.readonly||(Q==null?void 0:Q.isReadonly.value)),L=bo(),{onListScroll:me,onListKeydown:ae}=$le(L,f);function q(ve){T=!0,t.openOnClear&&(b.value=!0)}function de(){ie.value||(b.value=!0)}function ee(ve){ie.value||(d.value&&(ve.preventDefault(),ve.stopPropagation()),b.value=!b.value)}function xe(ve){var Te;if(t.readonly||Q!=null&&Q.isReadonly.value)return;const Oe=f.value.selectionStart,Le=N.value.length;if((O.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ve.key))&&ve.preventDefault(),["Enter","ArrowDown"].includes(ve.key)&&(b.value=!0),["Escape"].includes(ve.key)&&(b.value=!1),["Enter","Escape","Tab"].includes(ve.key)&&(X.value&&["Enter","Tab"].includes(ve.key)&&Be(F.value[0]),h.value=!0),ve.key==="ArrowDown"&&X.value&&((Te=L.value)==null||Te.focus("next")),!!t.multiple){if(["Backspace","Delete"].includes(ve.key)){if(O.value<0){ve.key==="Backspace"&&!U.value&&(O.value=Le-1);return}const De=O.value,Ve=N.value[O.value];Ve&&!Ve.props.disabled&&Be(Ve),O.value=De>=Le-1?Le-2:De}if(ve.key==="ArrowLeft"){if(O.value<0&&Oe>0)return;const De=O.value>-1?O.value-1:Le-1;N.value[De]?O.value=De:(O.value=-1,f.value.setSelectionRange(U.value.length,U.value.length))}if(ve.key==="ArrowRight"){if(O.value<0)return;const De=O.value+1;N.value[De]?O.value=De:(O.value=-1,f.value.setSelectionRange(0,0))}ve.key==="Enter"&&U.value&&(Be($T(t,U.value)),U.value="")}}function we(){var ve;d.value&&(h.value=!0,(ve=f.value)==null||ve.focus())}function Be(ve){if(t.multiple){const Oe=N.value.findIndex(Le=>t.valueComparator(Le.value,ve.value));if(Oe===-1)N.value=[...N.value,ve];else{const Le=[...N.value];Le.splice(Oe,1),N.value=Le}U.value=""}else N.value=[ve],z.value=ve.title,wl(()=>{b.value=!1,h.value=!0})}function pe(ve){d.value=!0,setTimeout(()=>{c.value=!0})}function ne(ve){c.value=!1}function le(ve){(ve==null||ve===""&&!t.multiple)&&(N.value=[])}return zo(F,ve=>{!ve.length&&t.hideNoData&&(b.value=!1)}),zo(d,(ve,Oe)=>{ve||ve===Oe||(O.value=-1,b.value=!1,X.value&&!c.value&&!N.value.some(Le=>{let{value:Te}=Le;return Te===E.value[0].value})?Be(E.value[0]):t.multiple&&U.value&&(N.value=[...N.value,$T(t,U.value)],U.value=""))}),zo(b,()=>{if(!t.hideSelected&&b.value&&N.value.length){const ve=E.value.findIndex(Oe=>N.value.some(Le=>t.valueComparator(Le.value,Oe.value)));Yl&&window.requestAnimationFrame(()=>{var Oe;ve>=0&&((Oe=v.value)==null||Oe.scrollToIndex(ve))})}}),bs(()=>{const ve=!!(t.chips||a.chip),Oe=!!(!t.hideNoData||E.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),Le=N.value.length>0,[Te]=gm.filterProps(t);return at(gm,ts({ref:f},Te,{modelValue:U.value,"onUpdate:modelValue":[De=>U.value=De,le],focused:d.value,"onUpdate:focused":De=>d.value=De,validationValue:N.externalValue,counterValue:t.multiple?N.value.length:U.value.length,dirty:Le,class:["v-combobox",{"v-combobox--active-menu":b.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!a.selection,"v-combobox--selecting-index":O.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:t.readonly,placeholder:Le?void 0:t.placeholder,"onClick:clear":q,"onMousedown:control":de,onKeydown:xe}),{...a,default:()=>at(es,null,[at(UT,ts({ref:g,modelValue:b.value,"onUpdate:modelValue":De=>b.value=De,activator:"parent",contentClass:"v-combobox__content",disabled:ie.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:we},t.menuProps),{default:()=>[Oe&&at(HT,{ref:L,selected:W.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:De=>De.preventDefault(),onKeydown:ae,onFocusin:pe,onFocusout:ne,onScrollPassive:me,tabindex:"-1",color:t.itemColor??t.color},{default:()=>{var De,Ve,_e;return[(De=a["prepend-item"])==null?void 0:De.call(a),!E.value.length&&!t.hideNoData&&(((Ve=a["no-data"])==null?void 0:Ve.call(a))??at(Md,{title:i(t.noDataText)},null)),at(Dle,{ref:v,renderless:!0,items:E.value},{default:Ie=>{var fe;let{item:re,index:be,itemRef:te}=Ie;const se=ts(re.props,{ref:te,key:be,active:X.value&&be===0?!0:void 0,onClick:()=>Be(re)});return((fe=a.item)==null?void 0:fe.call(a,{item:re,index:be,props:se}))??at(Md,se,{prepend:oe=>{let{isSelected:Se}=oe;return at(es,null,[t.multiple&&!t.hideSelected?at(Q8,{key:re.value,modelValue:Se,ripple:!1,tabindex:"-1"},null):void 0,re.props.prependIcon&&at(ci,{icon:re.props.prependIcon},null)])},title:()=>{var oe,Se;return h.value?re.title:w_e(re.title,(oe=B(re))==null?void 0:oe.title,((Se=U.value)==null?void 0:Se.length)??0)}})}}),(_e=a["append-item"])==null?void 0:_e.call(a)]}})]}),N.value.map((De,Ve)=>{var re;function _e(be){be.stopPropagation(),be.preventDefault(),Be(De)}const Ie={"onClick:close":_e,onMousedown(be){be.preventDefault(),be.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return at("div",{key:De.value,class:["v-combobox__selection",Ve===O.value&&["v-combobox__selection--selected",I.value]],style:Ve===O.value?V.value:{}},[ve?a.chip?at(Hc,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:De.title}}},{default:()=>{var be;return[(be=a.chip)==null?void 0:be.call(a,{item:De,index:Ve,props:Ie})]}}):at(nW,ts({key:"chip",closable:t.closableChips,size:"small",text:De.title,disabled:De.props.disabled},Ie),null):((re=a.selection)==null?void 0:re.call(a,{item:De,index:Ve}))??at("span",{class:"v-combobox__selection-text"},[De.title,t.multiple&&Ve<N.value.length-1&&at("span",{class:"v-combobox__selection-comma"},[xl(",")])])])})]),"append-inner":function(){var Ie;for(var De=arguments.length,Ve=new Array(De),_e=0;_e<De;_e++)Ve[_e]=arguments[_e];return at(es,null,[(Ie=a["append-inner"])==null?void 0:Ie.call(a,...Ve),(!t.hideNoData||t.items.length)&&t.menuIcon?at(ci,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:ee,onClick:qye,"aria-label":i(w.value),title:i(w.value)},null):void 0])}})}),t5({isFocused:d,isPristine:h,menu:b,search:U,selectionIndex:O,filteredItems:F,select:Be},f)}});const T_e=Vr({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ele({origin:"center center",scrollStrategy:"block",transition:{component:dle},zIndex:2400})},"VDialog"),pOe=Go()({name:"VDialog",props:T_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;const a=ei(t,"modelValue"),{scopeId:i}=Mle(),f=bo();function d(c){var y,b;const g=c.relatedTarget,v=c.target;if(g!==v&&((y=f.value)!=null&&y.contentEl)&&((b=f.value)!=null&&b.globalTop)&&![document,f.value.contentEl].includes(v)&&!f.value.contentEl.contains(v)){const O=ZH(f.value.contentEl);if(!O.length)return;const T=O[0],k=O[O.length-1];g===T?k.focus():T.focus()}}Yl&&zo(()=>a.value&&t.retainFocus,c=>{c?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),zo(a,async c=>{var g,v;await wl(),c?(g=f.value.contentEl)==null||g.focus({preventScroll:!0}):(v=f.value.activatorEl)==null||v.focus({preventScroll:!0})});const h=Jt(()=>ts({"aria-haspopup":"dialog","aria-expanded":String(a.value)},t.activatorProps));return bs(()=>{const[c]=eU.filterProps(t);return at(eU,ts({ref:f,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},c,{modelValue:a.value,"onUpdate:modelValue":g=>a.value=g,"aria-modal":"true",activatorProps:h.value,role:"dialog"},i),{activator:r.activator,default:function(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];return at(Hc,{root:"VDialog"},{default:()=>{var b;return[(b=r.default)==null?void 0:b.call(r,...v)]}})}})}),t5({},f)}});const BD=Symbol.for("vuetify:v-expansion-panel"),k_e=["default","accordion","inset","popout"],A_e=Vr({color:String,variant:{type:String,default:"default",validator:t=>k_e.includes(t)},readonly:Boolean,...ua(),...vle(),...wc(),...su()},"VExpansionPanels"),vOe=Go()({name:"VExpansionPanels",props:A_e(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:r}=e;Ole(t,BD);const{themeClasses:a}=Uu(t),i=Jt(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return uy({VExpansionPanel:{color:qo(t,"color")},VExpansionPanelTitle:{readonly:qo(t,"readonly")}}),bs(()=>at(t.tag,{class:["v-expansion-panels",a.value,i.value,t.class],style:t.style},r)),{}}}),P_e=Vr({...ua(),...Ple()},"VExpansionPanelText"),Vle=Go()({name:"VExpansionPanelText",props:P_e(),setup(t,e){let{slots:r}=e;const a=Da(BD);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:f}=nOe(t,a.isSelected);return bs(()=>at(hle,{onAfterLeave:f},{default:()=>{var d;return[zu(at("div",{class:["v-expansion-panel-text",t.class],style:t.style},[r.default&&i.value&&at("div",{class:"v-expansion-panel-text__wrapper"},[(d=r.default)==null?void 0:d.call(r)])]),[[BS,a.isSelected.value]])]}})),{}}}),yOe=Vr({color:String,expandIcon:{type:Di,default:"$expand"},collapseIcon:{type:Di,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ua()},"VExpansionPanelTitle"),zle=Go()({name:"VExpansionPanelTitle",directives:{Ripple:e5},props:yOe(),setup(t,e){let{slots:r}=e;const a=Da(BD);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:f}=xg(t,"color"),d=Jt(()=>({collapseIcon:t.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly}));return bs(()=>{var h;return zu(at("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value},i.value,t.class],style:[f.value,t.style],type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:t.readonly?void 0:a.toggle},[at("span",{class:"v-expansion-panel-title__overlay"},null),(h=r.default)==null?void 0:h.call(r,d.value),!t.hideActions&&at("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(d.value):at(ci,{icon:a.isSelected.value?t.collapseIcon:t.expandIcon},null)])]),[[Gv("ripple"),t.ripple]])}),{}}}),M_e=Vr({title:String,text:String,bgColor:String,...ua(),...fy(),...yle(),...Ple(),...Tg(),...wc(),...yOe()},"VExpansionPanel"),bOe=Go()({name:"VExpansionPanel",props:M_e(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:r}=e;const a=ble(t,BD),{backgroundColorClasses:i,backgroundColorStyles:f}=xg(t,"bgColor"),{elevationClasses:d}=dy(t),{roundedClasses:h}=kg(t),c=Jt(()=>(a==null?void 0:a.disabled.value)||t.disabled),g=Jt(()=>a.group.items.value.reduce((b,O,T)=>(a.group.selected.value.includes(O.id)&&b.push(T),b),[])),v=Jt(()=>{const b=a.group.items.value.findIndex(O=>O.id===a.id);return!a.isSelected.value&&g.value.some(O=>O-b===1)}),y=Jt(()=>{const b=a.group.items.value.findIndex(O=>O.id===a.id);return!a.isSelected.value&&g.value.some(O=>O-b===-1)});return El(BD,a),uy({VExpansionPanelText:{eager:qo(t,"eager")}}),bs(()=>{const b=!!(r.text||t.text),O=!!(r.title||t.title);return at(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":y.value,"v-expansion-panel--disabled":c.value},h.value,i.value,t.class],style:[f.value,t.style]},{default:()=>{var T;return[at("div",{class:["v-expansion-panel__shadow",...d.value]},null),O&&at(zle,{key:"title",collapseIcon:t.collapseIcon,color:t.color,expandIcon:t.expandIcon,hideActions:t.hideActions,ripple:t.ripple},{default:()=>[r.title?r.title():t.title]}),b&&at(Vle,{key:"text"},{default:()=>[r.text?r.text():t.text]}),(T=r.default)==null?void 0:T.call(r)]}})}),{}}});const E_e=Vr({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ZS(),...ua(),...fy(),...lbe(),...Tg(),...wc({tag:"footer"}),...su()},"VFooter"),__e=Go()({name:"VFooter",props:E_e(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=Uu(t),{backgroundColorClasses:i,backgroundColorStyles:f}=xg(qo(t,"color")),{borderClasses:d}=HS(t),{elevationClasses:h}=dy(t),{roundedClasses:c}=kg(t),g=us(32),{resizeRef:v}=o$(O=>{O.length&&(g.value=O[0].target.clientHeight)}),y=Jt(()=>t.height==="auto"?g.value:parseInt(t.height,10)),{layoutItemStyles:b}=cbe({id:t.name,order:Jt(()=>parseInt(t.order,10)),position:Jt(()=>"bottom"),layoutSize:y,elementSize:Jt(()=>t.height==="auto"?void 0:y.value),active:Jt(()=>t.app),absolute:qo(t,"absolute")});return bs(()=>at(t.tag,{ref:v,class:["v-footer",a.value,i.value,d.value,h.value,c.value,t.class],style:[f.value,t.app?b.value:{height:ls(t.height)},t.style]},r)),{}}});const R_e=Vr({fluid:{type:Boolean,default:!1},...ua(),...wc()},"VContainer"),tU=Go()({name:"VContainer",props:R_e(),setup(t,e){let{slots:r}=e;const{rtlClasses:a}=zp();return bs(()=>at(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},a.value,t.class],style:t.style},r)),{}}}),OOe=(()=>rW.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),xOe=(()=>rW.reduce((t,e)=>{const r="offset"+MO(e);return t[r]={type:[String,Number],default:null},t},{}))(),SOe=(()=>rW.reduce((t,e)=>{const r="order"+MO(e);return t[r]={type:[String,Number],default:null},t},{}))(),Wme={col:Object.keys(OOe),offset:Object.keys(xOe),order:Object.keys(SOe)};function D_e(t,e,r){let a=t;if(!(r==null||r===!1)){if(e){const i=e.replace(t,"");a+=`-${i}`}return t==="col"&&(a="v-"+a),t==="col"&&(r===""||r===!0)||(a+=`-${r}`),a.toLowerCase()}}const $_e=["auto","start","end","center","baseline","stretch"],L_e=Vr({cols:{type:[Boolean,String,Number],default:!1},...OOe,offset:{type:[String,Number],default:null},...xOe,order:{type:[String,Number],default:null},...SOe,alignSelf:{type:String,default:null,validator:t=>$_e.includes(t)},...ua(),...wc()},"VCol"),Zle=Go()({name:"VCol",props:L_e(),setup(t,e){let{slots:r}=e;const a=Jt(()=>{const i=[];let f;for(f in Wme)Wme[f].forEach(h=>{const c=t[h],g=D_e(f,h,c);g&&i.push(g)});const d=i.some(h=>h.startsWith("v-col-"));return i.push({"v-col":!d||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),i});return()=>{var i;return mm(t.tag,{class:[a.value,t.class],style:t.style},(i=r.default)==null?void 0:i.call(r))}}}),Hle=["start","end","center"],wOe=["space-between","space-around","space-evenly"];function Ule(t,e){return rW.reduce((r,a)=>{const i=t+MO(a);return r[i]=e(),r},{})}const I_e=[...Hle,"baseline","stretch"],COe=t=>I_e.includes(t),TOe=Ule("align",()=>({type:String,default:null,validator:COe})),N_e=[...Hle,...wOe],kOe=t=>N_e.includes(t),AOe=Ule("justify",()=>({type:String,default:null,validator:kOe})),B_e=[...Hle,...wOe,"stretch"],POe=t=>B_e.includes(t),MOe=Ule("alignContent",()=>({type:String,default:null,validator:POe})),Yme={align:Object.keys(TOe),justify:Object.keys(AOe),alignContent:Object.keys(MOe)},Q_e={align:"align",justify:"justify",alignContent:"align-content"};function F_e(t,e,r){let a=Q_e[t];if(r!=null){if(e){const i=e.replace(t,"");a+=`-${i}`}return a+=`-${r}`,a.toLowerCase()}}const V_e=Vr({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:COe},...TOe,justify:{type:String,default:null,validator:kOe},...AOe,alignContent:{type:String,default:null,validator:POe},...MOe,...ua(),...wc()},"VRow"),yae=Go()({name:"VRow",props:V_e(),setup(t,e){let{slots:r}=e;const a=Jt(()=>{const i=[];let f;for(f in Yme)Yme[f].forEach(d=>{const h=t[d],c=F_e(f,d,h);c&&i.push(c)});return i.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),i});return()=>{var i;return mm(t.tag,{class:["v-row",a.value,t.class],style:t.style},(i=r.default)==null?void 0:i.call(r))}}}),z_e=B8("v-spacer","div","VSpacer");const Z_e=Vr({scrollable:Boolean,...ua(),...wc({tag:"main"})},"VMain"),H_e=Go()({name:"VMain",props:Z_e(),setup(t,e){let{slots:r}=e;const{mainStyles:a}=JMe(),{ssrBootStyles:i}=ple();return bs(()=>at(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[a.value,i.value,t.style]},{default:()=>{var f,d;return[t.scrollable?at("div",{class:"v-main__scroller"},[(f=r.default)==null?void 0:f.call(r)]):(d=r.default)==null?void 0:d.call(r)]}})),{}}}),U_e=Vr({...eW(),...V8(),...uOe(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),EOe=Go()({name:"VRangeSlider",props:U_e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:r,emit:a}=e;const i=bo(),f=bo(),d=bo(),{rtlClasses:h}=zp();function c(U){if(!i.value||!f.value)return;const F=pae(U,i.value.$el,t.direction),B=pae(U,f.value.$el,t.direction),E=Math.abs(F),W=Math.abs(B);return E<W||E===W&&F<0?i.value.$el:f.value.$el}const g=fOe(t),v=ei(t,"modelValue",void 0,U=>U!=null&&U.length?U.map(F=>g.roundValue(F)):[0,0]),{activeThumbRef:y,hasLabels:b,max:O,min:T,mousePressed:k,onSliderMousedown:w,onSliderTouchstart:C,position:_,trackContainerRef:M}=dOe({props:t,steps:g,onSliderStart:()=>{a("start",v.value)},onSliderEnd:U=>{var E;let{value:F}=U;const B=y.value===((E=i.value)==null?void 0:E.$el)?[F,v.value[1]]:[v.value[0],F];!t.strict&&B[0]<B[1]&&(v.value=B),a("end",v.value)},onSliderMove:U=>{var W,X,ie,L;let{value:F}=U;const[B,E]=v.value;!t.strict&&B===E&&B!==T.value&&(y.value=F>B?(W=f.value)==null?void 0:W.$el:(X=i.value)==null?void 0:X.$el,(ie=y.value)==null||ie.focus()),y.value===((L=i.value)==null?void 0:L.$el)?v.value=[Math.min(F,E),E]:v.value=[B,Math.max(B,F)]},getActiveThumb:c}),{isFocused:I,focus:V,blur:N}=F8(t),Q=Jt(()=>_(v.value[0])),z=Jt(()=>_(v.value[1]));return bs(()=>{const[U,F]=sy.filterProps(t),B=!!(t.label||r.label||r.prepend);return at(sy,ts({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!r["tick-label"]||b.value,"v-slider--focused":I.value,"v-slider--pressed":k.value,"v-slider--disabled":t.disabled},h.value,t.class],style:t.style,ref:d},U,{focused:I.value}),{...r,prepend:B?E=>{var W,X;return at(es,null,[((W=r.label)==null?void 0:W.call(r,E))??(t.label?at(JU,{class:"v-slider__label",text:t.label},null):void 0),(X=r.prepend)==null?void 0:X.call(r,E)])}:void 0,default:E=>{var ie,L;let{id:W,messagesId:X}=E;return at("div",{class:"v-slider__container",onMousedown:w,onTouchstartPassive:C},[at("input",{id:`${W.value}_start`,name:t.name||W.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:v.value[0]},null),at("input",{id:`${W.value}_stop`,name:t.name||W.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:v.value[1]},null),at(hOe,{ref:M,start:Q.value,stop:z.value},{"tick-label":r["tick-label"]}),at(vae,{ref:i,"aria-describedby":X.value,focused:I&&y.value===((ie=i.value)==null?void 0:ie.$el),modelValue:v.value[0],"onUpdate:modelValue":me=>v.value=[me,v.value[1]],onFocus:me=>{var ae,q,de,ee;V(),y.value=(ae=i.value)==null?void 0:ae.$el,v.value[0]===v.value[1]&&v.value[1]===T.value&&me.relatedTarget!==((q=f.value)==null?void 0:q.$el)&&((de=i.value)==null||de.$el.blur(),(ee=f.value)==null||ee.$el.focus())},onBlur:()=>{N(),y.value=void 0},min:T.value,max:v.value[1],position:Q.value},{"thumb-label":r["thumb-label"]}),at(vae,{ref:f,"aria-describedby":X.value,focused:I&&y.value===((L=f.value)==null?void 0:L.$el),modelValue:v.value[1],"onUpdate:modelValue":me=>v.value=[v.value[0],me],onFocus:me=>{var ae,q,de,ee;V(),y.value=(ae=f.value)==null?void 0:ae.$el,v.value[0]===v.value[1]&&v.value[0]===O.value&&me.relatedTarget!==((q=i.value)==null?void 0:q.$el)&&((de=f.value)==null||de.$el.blur(),(ee=i.value)==null||ee.$el.focus())},onBlur:()=>{N(),y.value=void 0},min:v.value[0],max:O.value,position:z.value},{"thumb-label":r["thumb-label"]})])}})}),{}}});const W_e=Vr({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...V8(),...Cle()},"VSwitch"),Xme=Go()({name:"VSwitch",inheritAttrs:!1,props:W_e(),emits:{"update:focused":t=>!0,"update:modelValue":()=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:r,slots:a}=e;const i=ei(t,"indeterminate"),f=ei(t,"modelValue"),{loaderClasses:d}=u$(t),{isFocused:h,focus:c,blur:g}=F8(t),v=bo(),y=Jt(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),b=Vp(),O=Jt(()=>t.id||`switch-${b}`);function T(){i.value&&(i.value=!1)}function k(w){var C,_;w.stopPropagation(),w.preventDefault(),(_=(C=v.value)==null?void 0:C.input)==null||_.click()}return bs(()=>{const[w,C]=YU(r),[_,M]=sy.filterProps(t),[I,V]=KH.filterProps(t);return at(sy,ts({class:["v-switch",{"v-switch--inset":t.inset},{"v-switch--indeterminate":i.value},d.value,t.class],style:t.style},w,_,{id:O.value,focused:h.value}),{...a,default:N=>{let{id:Q,messagesId:z,isDisabled:U,isReadonly:F,isValid:B}=N;return at(KH,ts({ref:v},I,{modelValue:f.value,"onUpdate:modelValue":[E=>f.value=E,T],id:Q.value,"aria-describedby":z.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:U.value,readonly:F.value,onFocus:c,onBlur:g},C),{...a,default:E=>{let{backgroundColorClasses:W,backgroundColorStyles:X}=E;return at("div",{class:["v-switch__track",...W.value],style:X.value,onClick:k},null)},input:E=>{let{inputNode:W,icon:X,backgroundColorClasses:ie,backgroundColorStyles:L}=E;return at(es,null,[W,at("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":X||t.loading},t.inset?void 0:ie.value],style:t.inset?void 0:L.value},[at(gbe,null,{default:()=>[t.loading?at(jU,{name:"v-switch",active:!0,color:B.value===!1?void 0:y.value},{default:me=>a.loader?a.loader(me):at(xle,{active:me.isActive,color:me.color,indeterminate:!0,size:"16",width:"2"},null)}):X&&at(ci,{key:X,icon:X,size:"x-small"},null)]})])])}})}})}),{}}});const _Oe=Vr({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ua(),...Kv(),...wc(),...su()},"VTable"),Gme=Go()({name:"VTable",props:_Oe(),setup(t,e){let{slots:r}=e;const{themeClasses:a}=Uu(t),{densityClasses:i}=hy(t);return bs(()=>at(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":t.hover},a.value,i.value,t.class],style:t.style},{default:()=>{var f,d,h;return[(f=r.top)==null?void 0:f.call(r),r.default?at("div",{class:"v-table__wrapper",style:{height:ls(t.height)}},[at("table",null,[r.default()])]):(d=r.wrapper)==null?void 0:d.call(r),(h=r.bottom)==null?void 0:h.call(r)]}})),{}}});const Y_e=Vr({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...V8(),..._le()},"VTextarea"),ROe=Go()({name:"VTextarea",directives:{Intersect:mle},inheritAttrs:!1,props:Y_e(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:r,emit:a,slots:i}=e;const f=ei(t,"modelValue"),{isFocused:d,focus:h,blur:c}=F8(t),g=Jt(()=>typeof t.counterValue=="function"?t.counterValue(f.value):(f.value||"").toString().length),v=Jt(()=>{if(r.maxlength)return r.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function y(B,E){var W,X;!t.autofocus||!B||(X=(W=E[0].target)==null?void 0:W.focus)==null||X.call(W)}const b=bo(),O=bo(),T=us(""),k=bo(),w=Jt(()=>t.persistentPlaceholder||d.value||t.active);function C(){var B;k.value!==document.activeElement&&((B=k.value)==null||B.focus()),d.value||h()}function _(B){C(),a("click:control",B)}function M(B){a("mousedown:control",B)}function I(B){B.stopPropagation(),C(),wl(()=>{f.value="",Gye(t["onClick:clear"],B)})}function V(B){var W;const E=B.target;if(f.value=E.value,(W=t.modelModifiers)!=null&&W.trim){const X=[E.selectionStart,E.selectionEnd];wl(()=>{E.selectionStart=X[0],E.selectionEnd=X[1]})}}const N=bo(),Q=bo(+t.rows),z=Jt(()=>["plain","underlined"].includes(t.variant));pm(()=>{t.autoGrow||(Q.value=+t.rows)});function U(){t.autoGrow&&wl(()=>{if(!N.value||!O.value)return;const B=getComputedStyle(N.value),E=getComputedStyle(O.value.$el),W=parseFloat(B.getPropertyValue("--v-field-padding-top"))+parseFloat(B.getPropertyValue("--v-input-padding-top"))+parseFloat(B.getPropertyValue("--v-field-padding-bottom")),X=N.value.scrollHeight,ie=parseFloat(B.lineHeight),L=Math.max(parseFloat(t.rows)*ie+W,parseFloat(E.getPropertyValue("--v-input-control-height"))),me=parseFloat(t.maxRows)*ie+W||1/0,ae=Np(X??0,L,me);Q.value=Math.floor((ae-W)/ie),T.value=ls(ae)})}Sg(U),zo(f,U),zo(()=>t.rows,U),zo(()=>t.maxRows,U),zo(()=>t.density,U);let F;return zo(N,B=>{B?(F=new ResizeObserver(U),F.observe(N.value)):F==null||F.disconnect()}),vm(()=>{F==null||F.disconnect()}),bs(()=>{const B=!!(i.counter||t.counter||t.counterValue),E=!!(B||i.details),[W,X]=YU(r),[{modelValue:ie,...L}]=sy.filterProps(t),[me]=aOe(t);return at(sy,ts({ref:b,modelValue:f.value,"onUpdate:modelValue":ae=>f.value=ae,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--plain-underlined":z.value},t.class],style:t.style},W,L,{centerAffix:Q.value===1&&!z.value,focused:d.value}),{...i,default:ae=>{let{isDisabled:q,isDirty:de,isReadonly:ee,isValid:xe}=ae;return at(Rle,ts({ref:O,style:{"--v-textarea-control-height":T.value},onClick:_,onMousedown:M,"onClick:clear":I,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},me,{active:w.value||de.value,centerAffix:Q.value===1&&!z.value,dirty:de.value||t.dirty,disabled:q.value,focused:d.value,error:xe.value===!1}),{...i,default:we=>{let{props:{class:Be,...pe}}=we;return at(es,null,[t.prefix&&at("span",{class:"v-text-field__prefix"},[t.prefix]),zu(at("textarea",ts({ref:k,class:Be,value:f.value,onInput:V,autofocus:t.autofocus,readonly:ee.value,disabled:q.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:C,onBlur:c},pe,X),null),[[Gv("intersect"),{handler:y},null,{once:!0}]]),t.autoGrow&&zu(at("textarea",{class:[Be,"v-textarea__sizer"],id:`${pe.id}-sizer`,"onUpdate:modelValue":ne=>f.value=ne,ref:N,readonly:!0,"aria-hidden":"true"},null),[[DCe,f.value]]),t.suffix&&at("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:E?ae=>{var q;return at(es,null,[(q=i.details)==null?void 0:q.call(i,ae),B&&at(es,null,[at("span",null,null),at(sOe,{active:t.persistentCounter||d.value,value:g.value,max:v.value},i.counter)])])}:void 0})}),t5({},b,O,k)}});const X_e=Vr({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),DOe=Symbol.for("vuetify:data-table-pagination");function G_e(t){const e=ei(t,"page",void 0,a=>+(a??1)),r=ei(t,"itemsPerPage",void 0,a=>+(a??10));return{page:e,itemsPerPage:r}}function j_e(t){const{page:e,itemsPerPage:r,itemsLength:a}=t,i=Jt(()=>r.value===-1?0:r.value*(e.value-1)),f=Jt(()=>r.value===-1?a.value:Math.min(a.value,i.value+r.value)),d=Jt(()=>r.value===-1||a.value===0?1:Math.ceil(a.value/r.value));pm(()=>{e.value>d.value&&(e.value=d.value)});function h(b){r.value=b,e.value=1}function c(){e.value=Np(e.value+1,1,d.value)}function g(){e.value=Np(e.value-1,1,d.value)}function v(b){e.value=Np(b,1,d.value)}const y={page:e,itemsPerPage:r,startIndex:i,stopIndex:f,pageCount:d,itemsLength:a,nextPage:c,prevPage:g,setPage:v,setItemsPerPage:h};return El(DOe,y),y}function q_e(){const t=Da(DOe);if(!t)throw new Error("Missing pagination!");return t}function K_e(t){const{items:e,startIndex:r,stopIndex:a,itemsPerPage:i}=t;return{paginatedItems:Jt(()=>i.value<=0?e.value:e.value.slice(r.value,a.value))}}const $Oe=Vr({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),jme=Go()({name:"VDataTableFooter",props:$Oe(),setup(t,e){let{slots:r}=e;const{t:a}=zS(),{page:i,pageCount:f,startIndex:d,stopIndex:h,itemsLength:c,itemsPerPage:g,setItemsPerPage:v}=q_e(),y=Jt(()=>t.itemsPerPageOptions.map(b=>({...b,title:a(b.title)})));return()=>{var b;return at("div",{class:"v-data-table-footer"},[(b=r.prepend)==null?void 0:b.call(r),at("div",{class:"v-data-table-footer__items-per-page"},[at("span",null,[a(t.itemsPerPageText)]),at(Ile,{items:y.value,modelValue:g.value,"onUpdate:modelValue":O=>v(Number(O)),density:"compact",variant:"outlined","hide-details":!0},null)]),at("div",{class:"v-data-table-footer__info"},[at("div",null,[a(t.pageText,c.value?d.value+1:0,h.value,c.value)])]),at("div",{class:"v-data-table-footer__pagination"},[at(yi,{icon:t.firstIcon,variant:"plain",onClick:()=>i.value=1,disabled:i.value===1,"aria-label":a(t.firstPageLabel)},null),at(yi,{icon:t.prevIcon,variant:"plain",onClick:()=>i.value=Math.max(1,i.value-1),disabled:i.value===1,"aria-label":a(t.prevPageLabel)},null),t.showCurrentPage&&at("span",{key:"page",class:"v-data-table-footer__page"},[i.value]),at(yi,{icon:t.nextIcon,variant:"plain",onClick:()=>i.value=Math.min(f.value,i.value+1),disabled:i.value===f.value,"aria-label":a(t.nextPageLabel)},null),at(yi,{icon:t.lastIcon,variant:"plain",onClick:()=>i.value=f.value,disabled:i.value===f.value,"aria-label":a(t.lastPageLabel)},null)])])}}}),Wle=WMe({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(t,e)=>{let{slots:r,attrs:a}=e;const i=t.tag??"td";return at(i,ts({class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding},`v-data-table-column--align-${t.align}`],style:{height:ls(t.height),width:ls(t.width),left:ls(t.fixedOffset||null)}},a),{default:()=>{var f;return[(f=r.default)==null?void 0:f.call(r)]}})}),J_e=Vr({headers:{type:Array,default:()=>[]}},"DataTable-header"),LOe=Symbol.for("vuetify:data-table-headers");function eRe(t,e){const r=bo([]),a=bo([]);pm(()=>{var O,T,k;const f=t.headers.length?Array.isArray(t.headers[0])?t.headers:[t.headers]:[],d=f.flatMap((w,C)=>w.map(_=>({column:_,row:C}))),h=f.length,c={title:"",sortable:!1},g={...c,width:48};if((O=e==null?void 0:e.groupBy)!=null&&O.value.length){const w=d.findIndex(C=>{let{column:_}=C;return _.key==="data-table-group"});w<0?d.unshift({column:{...c,key:"data-table-group",title:"Group",rowspan:h},row:0}):d.splice(w,1,{column:{...c,...d[w].column},row:d[w].row})}if((T=e==null?void 0:e.showSelect)!=null&&T.value){const w=d.findIndex(C=>{let{column:_}=C;return _.key==="data-table-select"});w<0?d.unshift({column:{...g,key:"data-table-select",rowspan:h},row:0}):d.splice(w,1,{column:{...g,...d[w].column},row:d[w].row})}if((k=e==null?void 0:e.showExpand)!=null&&k.value){const w=d.findIndex(C=>{let{column:_}=C;return _.key==="data-table-expand"});w<0?d.push({column:{...g,key:"data-table-expand",rowspan:h},row:0}):d.splice(w,1,{column:{...g,...d[w].column},row:d[w].row})}const v=x8(h).map(()=>[]),y=x8(h).fill(0);d.forEach(w=>{let{column:C,row:_}=w;const M=C.key??(typeof C.value=="string"?C.value:null),I=C.value??C.key??null;for(let V=_;V<=_+(C.rowspan??1)-1;V++)v[V].push({...C,key:M,value:I,fixedOffset:y[V],sortable:C.sortable??M!=null}),y[V]+=Number(C.width??0)}),v.forEach(w=>{for(let C=w.length;C--;C>=0)if(w[C].fixed){w[C].lastFixed=!0;return}});const b=new Set;r.value=v.map(w=>{const C=[];for(const _ of w)b.has(_.key)||(b.add(_.key),C.push(_));return C}),a.value=v.at(-1)??[]});const i={headers:r,columns:a};return El(LOe,i),i}function sW(){const t=Da(LOe);if(!t)throw new Error("Missing headers!");return t}const tRe={showSelectAll:!1,allSelected:()=>[],select:t=>{var a;let{items:e,value:r}=t;return new Set(r?[(a=e[0])==null?void 0:a.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},IOe={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:r,selected:a}=t;for(const i of e)r?a.add(i.value):a.delete(i.value);return a},selectAll:t=>{let{value:e,currentPage:r,selected:a}=t;return IOe.select({items:r,value:e,selected:a})}},NOe={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:r,selected:a}=t;for(const i of e)r?a.add(i.value):a.delete(i.value);return a},selectAll:t=>{let{value:e,allItems:r,selected:a}=t;return NOe.select({items:r,value:e,selected:a})}},nRe=Vr({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:jT}},"DataTable-select"),BOe=Symbol.for("vuetify:data-table-selection");function rRe(t,e){let{allItems:r,currentPage:a}=e;const i=ei(t,"modelValue",t.modelValue,w=>new Set(Oh(w).map(C=>{var _;return((_=r.value.find(M=>t.valueComparator(C,M.value)))==null?void 0:_.value)??C})),w=>[...w.values()]),f=Jt(()=>r.value.filter(w=>w.selectable)),d=Jt(()=>a.value.filter(w=>w.selectable)),h=Jt(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return tRe;case"all":return NOe;case"page":default:return IOe}});function c(w){return Oh(w).every(C=>i.value.has(C.value))}function g(w){return Oh(w).some(C=>i.value.has(C.value))}function v(w,C){const _=h.value.select({items:w,value:C,selected:new Set(i.value)});i.value=_}function y(w){v([w],!c([w]))}function b(w){const C=h.value.selectAll({value:w,allItems:f.value,currentPage:d.value,selected:new Set(i.value)});i.value=C}const O=Jt(()=>i.value.size>0),T=Jt(()=>{const w=h.value.allSelected({allItems:f.value,currentPage:d.value});return!!w.length&&c(w)}),k={toggleSelect:y,select:v,selectAll:b,isSelected:c,isSomeSelected:g,someSelected:O,allSelected:T,showSelectAll:h.value.showSelectAll};return El(BOe,k),k}function aW(){const t=Da(BOe);if(!t)throw new Error("Missing selection!");return t}const oRe=Vr({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),QOe=Symbol.for("vuetify:data-table-sort");function sRe(t){const e=ei(t,"sortBy"),r=qo(t,"mustSort"),a=qo(t,"multiSort");return{sortBy:e,mustSort:r,multiSort:a}}function aRe(t){const{sortBy:e,mustSort:r,multiSort:a,page:i}=t,f=c=>{if(c.key==null)return;let g=e.value.map(y=>({...y}))??[];const v=g.find(y=>y.key===c.key);v?v.order==="desc"?r.value?v.order="asc":g=g.filter(y=>y.key!==c.key):v.order="desc":a.value?g=[...g,{key:c.key,order:"asc"}]:g=[{key:c.key,order:"asc"}],e.value=g,i&&(i.value=1)};function d(c){return!!e.value.find(g=>g.key===c.key)}const h={sortBy:e,toggleSort:f,isSorted:d};return El(QOe,h),h}function iRe(){const t=Da(QOe);if(!t)throw new Error("Missing sort!");return t}function lRe(t,e,r){const a=zS();return{sortedItems:Jt(()=>r.value.length?cRe(e.value,r.value,a.current.value,t.customKeySort):e.value)}}function cRe(t,e,r,a){const i=new Intl.Collator(r,{sensitivity:"accent",usage:"sort"});return[...t].sort((f,d)=>{for(let h=0;h<e.length;h++){const c=e[h].key,g=e[h].order??"asc";if(g===!1)continue;let v=ZT(f.raw,c),y=ZT(d.raw,c);if(g==="desc"&&([v,y]=[y,v]),a!=null&&a[c]){const b=a[c](v,y);if(!b)continue;return b}if(v instanceof Date&&y instanceof Date)return v.getTime()-y.getTime();if([v,y]=[v,y].map(b=>b!=null?b.toString().toLocaleLowerCase():b),v!==y)return EZ(v)&&EZ(y)?0:EZ(v)?-1:EZ(y)?1:!isNaN(v)&&!isNaN(y)?Number(v)-Number(y):i.compare(v,y)}return 0})}const FOe=Vr({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Di,default:"$sortAsc"},sortDescIcon:{type:Di,default:"$sortDesc"},...GU()},"VDataTableHeaders"),qme=Go()({name:"VDataTableHeaders",props:FOe(),setup(t,e){let{slots:r,emit:a}=e;const{toggleSort:i,sortBy:f,isSorted:d}=iRe(),{someSelected:h,allSelected:c,selectAll:g,showSelectAll:v}=aW(),{columns:y,headers:b}=sW(),{loaderClasses:O}=u$(t),T=(I,V)=>{if(!(!t.sticky&&!I.fixed))return{position:"sticky",zIndex:I.fixed?4:t.sticky?3:void 0,left:I.fixed?ls(I.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${V})`:void 0}};function k(I){const V=f.value.find(N=>N.key===I.key);return V?V.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:w,backgroundColorStyles:C}=xg(t,"color"),_=Jt(()=>({headers:b.value,columns:y.value,toggleSort:i,isSorted:d,sortBy:f.value,someSelected:h.value,allSelected:c.value,selectAll:g,getSortIcon:k,getFixedStyles:T})),M=I=>{let{column:V,x:N,y:Q}=I;const z=V.key==="data-table-select"||V.key==="data-table-expand";return at(Wle,{tag:"th",align:V.align,class:["v-data-table__th",{"v-data-table__th--sortable":V.sortable,"v-data-table__th--sorted":d(V)},O.value],style:{width:ls(V.width),minWidth:ls(V.width),...T(V,Q)},colspan:V.colspan,rowspan:V.rowspan,onClick:V.sortable?()=>i(V):void 0,lastFixed:V.lastFixed,noPadding:z},{default:()=>{var B;const U=`column.${V.key}`,F={column:V,selectAll:g,isSorted:d,toggleSort:i,sortBy:f.value,someSelected:h.value,allSelected:c.value,getSortIcon:k};return r[U]?r[U](F):V.key==="data-table-select"?((B=r["column.data-table-select"])==null?void 0:B.call(r,F))??(v&&at(Q8,{modelValue:c.value,indeterminate:h.value&&!c.value,"onUpdate:modelValue":g},null)):at("div",{class:"v-data-table-header__content"},[at("span",null,[V.title]),V.sortable&&at(ci,{key:"icon",class:"v-data-table-header__sort-icon",icon:k(V)},null),t.multiSort&&d(V)&&at("div",{key:"badge",class:["v-data-table-header__sort-badge",...w.value],style:C.value},[f.value.findIndex(E=>E.key===V.key)+1])])}})};bs(()=>at(es,null,[r.headers?r.headers(_.value):b.value.map((I,V)=>at("tr",null,[I.map((N,Q)=>at(M,{column:N,x:Q,y:V},null))])),t.loading&&at("tr",{class:"v-data-table-progress"},[at("th",{colspan:y.value.length},[at(jU,{name:"v-data-table-progress",active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:r.loader})])])]))}}),uRe=Vr({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),VOe=Symbol.for("vuetify:data-table-group");function fRe(t){return{groupBy:ei(t,"groupBy")}}function dRe(t){const{groupBy:e,sortBy:r}=t,a=bo(new Set),i=Jt(()=>e.value.map(g=>({...g,order:g.order??!1})).concat(r.value));function f(g){return a.value.has(g.id)}function d(g){const v=new Set(a.value);f(g)?v.delete(g.id):v.add(g.id),a.value=v}function h(g){function v(y){const b=[];for(const O of y.items)"type"in O&&O.type==="group"?b.push(...v(O)):b.push(O);return b}return v({type:"group",items:g,id:"dummy",key:"dummy",value:"dummy",depth:0})}const c={sortByWithGroups:i,toggleGroup:d,opened:a,groupBy:e,extractRows:h,isGroupOpen:f};return El(VOe,c),c}function zOe(){const t=Da(VOe);if(!t)throw new Error("Missing group!");return t}function hRe(t,e){if(!t.length)return[];const r=new Map;for(const a of t){const i=ZT(a.raw,e);r.has(i)||r.set(i,[]),r.get(i).push(a)}return r}function ZOe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const i=hRe(t,e[0]),f=[],d=e.slice(1);return i.forEach((h,c)=>{const g=e[0],v=`${a}_${g}_${c}`;f.push({depth:r,id:v,key:g,value:c,items:d.length?ZOe(h,d,r+1,v):h,type:"group"})}),f}function HOe(t,e){const r=[];for(const a of t)"type"in a&&a.type==="group"?(a.value!=null&&r.push(a),(e.has(a.id)||a.value==null)&&r.push(...HOe(a.items,e))):r.push(a);return r}function mRe(t,e,r){return{flatItems:Jt(()=>{if(!e.value.length)return t.value;const i=ZOe(t.value,e.value.map(f=>f.key));return HOe(i,r.value)})}}const gRe=Vr({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),pRe=Go()({name:"VDataTableGroupHeaderRow",props:gRe(),setup(t,e){let{slots:r}=e;const{isGroupOpen:a,toggleGroup:i,extractRows:f}=zOe(),{isSelected:d,isSomeSelected:h,select:c}=aW(),{columns:g}=sW(),v=Jt(()=>f([t.item]));return()=>at("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[g.value.map(y=>{var b,O;if(y.key==="data-table-group"){const T=a(t.item)?"$expand":"$next",k=()=>i(t.item);return((b=r["data-table-group"])==null?void 0:b.call(r,{item:t.item,count:v.value.length,props:{icon:T,onClick:k}}))??at(Wle,{class:"v-data-table-group-header-row__column"},{default:()=>[at(yi,{size:"small",variant:"text",icon:T,onClick:k},null),at("span",null,[t.item.value]),at("span",null,[xl("("),v.value.length,xl(")")])]})}if(y.key==="data-table-select"){const T=d(v.value),k=h(v.value)&&!T,w=C=>c(v.value,C);return((O=r["data-table-select"])==null?void 0:O.call(r,{props:{modelValue:T,indeterminate:k,"onUpdate:modelValue":w}}))??at("td",null,[at(Q8,{modelValue:T,indeterminate:k,"onUpdate:modelValue":w},null)])}return at("td",null,null)})])}}),vRe=Vr({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),UOe=Symbol.for("vuetify:datatable:expanded");function yRe(t){const e=qo(t,"expandOnClick"),r=ei(t,"expanded",t.expanded,h=>new Set(h),h=>[...h.values()]);function a(h,c){const g=new Set(r.value);c?g.add(h.value):g.delete(h.value),r.value=g}function i(h){return r.value.has(h.value)}function f(h){a(h,!i(h))}const d={expand:a,expanded:r,expandOnClick:e,isExpanded:i,toggleExpand:f};return El(UOe,d),d}function WOe(){const t=Da(UOe);if(!t)throw new Error("foo");return t}const bRe=Vr({index:Number,item:Object,onClick:Function},"VDataTableRow"),ORe=Go()({name:"VDataTableRow",props:bRe(),setup(t,e){let{slots:r}=e;const{isSelected:a,toggleSelect:i}=aW(),{isExpanded:f,toggleExpand:d}=WOe(),{columns:h}=sW();bs(()=>at("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!t.onClick}],onClick:t.onClick},[t.item&&h.value.map((c,g)=>at(Wle,{align:c.align,fixed:c.fixed,fixedOffset:c.fixedOffset,lastFixed:c.lastFixed,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",width:c.width},{default:()=>{var O,T;const v=t.item,y=`item.${c.key}`,b={index:t.index,item:v.raw,internalItem:v,value:ZT(v.columns,c.key),column:c,isSelected:a,toggleSelect:i,isExpanded:f,toggleExpand:d};return r[y]?r[y](b):c.key==="data-table-select"?((O=r["item.data-table-select"])==null?void 0:O.call(r,b))??at(Q8,{disabled:!v.selectable,modelValue:a([v]),onClick:Rfe(()=>i(v),["stop"])},null):c.key==="data-table-expand"?((T=r["item.data-table-expand"])==null?void 0:T.call(r,b))??at(yi,{icon:f(v)?"$collapse":"$expand",size:"small",variant:"text",onClick:Rfe(()=>d(v),["stop"])},null):Pd(b.value)}}))]))}}),YOe=Vr({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Kme=Go()({name:"VDataTableRows",props:YOe(),setup(t,e){let{emit:r,slots:a}=e;const{columns:i}=sW(),{expandOnClick:f,toggleExpand:d,isExpanded:h}=WOe(),{isSelected:c,toggleSelect:g}=aW(),{toggleGroup:v,isGroupOpen:y}=zOe(),{t:b}=zS();return bs(()=>{var O,T;return t.loading?at("tr",{class:"v-data-table-rows-loading",key:"loading"},[at("td",{colspan:i.value.length},[((O=a.loading)==null?void 0:O.call(a))??b(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?at("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[at("td",{colspan:i.value.length},[((T=a["no-data"])==null?void 0:T.call(a))??b(t.noDataText)])]):at(es,null,[t.items.map((k,w)=>{var M;if(k.type==="group")return a["group-header"]?a["group-header"]({index:w,item:k,columns:i.value,isExpanded:h,toggleExpand:d,isSelected:c,toggleSelect:g,toggleGroup:v,isGroupOpen:y}):at(pRe,{key:`group-header_${k.id}`,item:k},a);const C={index:w,item:k.raw,internalItem:k,columns:i.value,isExpanded:h,toggleExpand:d,isSelected:c,toggleSelect:g},_={...C,props:{key:`item_${k.key??k.index}`,onClick:f.value||t["onClick:row"]?I=>{var V;f.value&&d(k),(V=t["onClick:row"])==null||V.call(t,I,{item:k.raw,internalItem:k})}:void 0,index:w,item:k}};return at(es,null,[a.item?a.item(_):at(ORe,_.props,a),h(k)&&((M=a["expanded-row"])==null?void 0:M.call(a,C))])})])}),{}}}),xRe=Vr({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function SRe(t,e,r,a){const i=t.returnObject?e:um(e,t.itemValue),f=um(e,t.itemSelectable,!0),d=a.reduce((h,c)=>(c.key!=null&&(h[c.key]=um(e,c.value)),h),{});return{type:"item",key:t.returnObject?um(e,t.itemValue):i,index:r,value:i,selectable:f,columns:d,raw:e}}function wRe(t,e,r){return e.map((a,i)=>SRe(t,a,i,r))}function CRe(t,e){return{items:Jt(()=>wRe(t,t.items,e.value))}}function TRe(t){let{page:e,itemsPerPage:r,sortBy:a,groupBy:i,search:f}=t;const d=Af("VDataTable"),h=Jt(()=>({page:e.value,itemsPerPage:r.value,sortBy:a.value,groupBy:i.value,search:f.value}));zo(()=>f==null?void 0:f.value,()=>{e.value=1});let c=null;zo(h,()=>{jT(c,h.value)||(d.emit("update:options",h.value),c=h.value)},{deep:!0,immediate:!0})}const kRe=Vr({...YOe(),width:[String,Number],search:String,...vRe(),...uRe(),...J_e(),...xRe(),...nRe(),...oRe(),...FOe(),..._Oe()},"DataTable"),ARe=Vr({...X_e(),...kRe(),...Nle(),...$Oe()},"VDataTable"),Yle=Go()({name:"VDataTable",props:ARe(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{emit:r,slots:a}=e;const{groupBy:i}=fRe(t),{sortBy:f,multiSort:d,mustSort:h}=sRe(t),{page:c,itemsPerPage:g}=G_e(t),{columns:v,headers:y}=eRe(t,{groupBy:i,showSelect:qo(t,"showSelect"),showExpand:qo(t,"showExpand")}),{items:b}=CRe(t,v),O=qo(t,"search"),{filteredItems:T}=Ble(t,b,O,{transform:we=>we.columns}),{toggleSort:k}=aRe({sortBy:f,multiSort:d,mustSort:h,page:c}),{sortByWithGroups:w,opened:C,extractRows:_,isGroupOpen:M,toggleGroup:I}=dRe({groupBy:i,sortBy:f}),{sortedItems:V}=lRe(t,T,w),{flatItems:N}=mRe(V,i,C),Q=Jt(()=>N.value.length),{startIndex:z,stopIndex:U,pageCount:F,setItemsPerPage:B}=j_e({page:c,itemsPerPage:g,itemsLength:Q}),{paginatedItems:E}=K_e({items:N,startIndex:z,stopIndex:U,itemsPerPage:g}),W=Jt(()=>_(E.value)),{isSelected:X,select:ie,selectAll:L,toggleSelect:me,someSelected:ae,allSelected:q}=rRe(t,{allItems:b,currentPage:W}),{isExpanded:de,toggleExpand:ee}=yRe(t);TRe({page:c,itemsPerPage:g,sortBy:f,groupBy:i,search:O}),uy({VDataTableRows:{hideNoData:qo(t,"hideNoData"),noDataText:qo(t,"noDataText"),loading:qo(t,"loading"),loadingText:qo(t,"loadingText")}});const xe=Jt(()=>({page:c.value,itemsPerPage:g.value,sortBy:f.value,pageCount:F.value,toggleSort:k,setItemsPerPage:B,someSelected:ae.value,allSelected:q.value,isSelected:X,select:ie,selectAll:L,toggleSelect:me,isExpanded:de,toggleExpand:ee,isGroupOpen:M,toggleGroup:I,items:W.value,groupedItems:E.value,columns:v.value,headers:y.value}));return bs(()=>{const[we]=jme.filterProps(t),[Be]=qme.filterProps(t),[pe]=Kme.filterProps(t),[ne]=Gme.filterProps(t);return at(Gme,ts({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},ne),{top:()=>{var le;return(le=a.top)==null?void 0:le.call(a,xe.value)},default:()=>{var le,Y,ve,Oe;return a.default?a.default(xe.value):at(es,null,[(le=a.colgroup)==null?void 0:le.call(a,xe.value),at("thead",null,[at(qme,Be,a)]),(Y=a.thead)==null?void 0:Y.call(a,xe.value),at("tbody",null,[a.body?a.body(xe.value):at(Kme,ts(pe,{items:E.value}),a)]),(ve=a.tbody)==null?void 0:ve.call(a,xe.value),(Oe=a.tfoot)==null?void 0:Oe.call(a,xe.value)])},bottom:()=>a.bottom?a.bottom(xe.value):at(es,null,[at(jme,we,{prepend:a["footer.prepend"]})])})}),{}}}),PRe=iy({props:{text:{type:String,required:!0},type:{type:String,required:!0},color:{type:String}}});function MRe(t,e,r,a,i,f){return zr(),Js("div",{class:u8(t.type),style:OU({color:t.color})},Pd(t.text),7)}const XOe=wg(PRe,[["render",MRe]]),ERe={emits:["runCode"],components:{"v-slider":mOe,"v-text-field":gm,"v-number-field":gm,"v-textarea":ROe,"v-range-slider":EOe,"v-select":Ile,"v-combobox":gOe,"v-btn":yi,"v-img":s$,"v-data-table":Yle,"v-autocomplete":iOe,"v-card":f$,"v-text":XOe,"plotly-plot":Bve},props:{rowData:{type:Object},columnData:{type:Object},components:{type:Object,required:!0}},methods:{findComponentById(t){const e=this.components.find(r=>r.id===t);return e?[e]:[]},cardComponents(t){const e=[];for(const r in t.cardChildren)e.push.apply(e,this.findComponentById(t.cardChildren[r]));return e},runCode(t,e,r){this.$emit("runCode",t,e,r)},componentWidth(t){return t.width?t.width:!1},componentBind(t){if(t.component&&t.component==="v-autocomplete"){const{value:e,...r}=t;return r}return t},clickedButton(t){t.component==="v-btn"&&(t.value=!0)}}},_Re={key:0},RRe={key:1},DRe={key:1},$Re={key:0},LRe={key:1};function IRe(t,e,r,a,i,f){const d=Kf("plotly-plot"),h=Kf("layout-component",!0);return zr(),Js(es,null,[r.rowData?(zr(),fs(yae,{key:0},{default:so(()=>[(zr(!0),Js(es,null,lm(r.rowData.components,(c,g)=>(zr(),fs(Zle,{key:g,cols:f.componentWidth(c)},{default:so(()=>[typeof c=="string"?(zr(),Js("div",_Re,[(zr(!0),Js(es,null,lm(f.findComponentById(c),v=>(zr(),Js("div",null,[v.component==="plotly-plot"?(zr(),fs(d,{key:0,id:v.id,figure:v.figure,layout:v.layout},null,8,["id","figure","layout"])):v.component==="v-card"?(zr(),fs(gg(v.component),ts({key:1},f.componentBind(v),{position:"relative",onRunCode:f.runCode}),{default:so(()=>[(zr(!0),Js(es,null,lm(f.cardComponents(v),y=>(zr(),Js("div",null,[y.component==="plotly-plot"?(zr(),fs(d,{key:0,id:y.id,figure:y.figure,layout:y.layout},null,8,["id","figure","layout"])):(zr(),fs(gg(y.component),ts({key:1},f.componentBind(y),{modelValue:y.value,"onUpdate:modelValue":b=>y.value=b,onClick:b=>f.clickedButton(y)},{[G0(y.triggerEvent)]:b=>f.runCode(!0,y.id,y.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040,["onRunCode"])):(zr(),fs(gg(v.component),ts({key:2},f.componentBind(v),{modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,onClick:y=>f.clickedButton(v)},{[G0(v.triggerEvent)]:y=>f.runCode(!0,v.id,v.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))])):(zr(),Js("div",RRe,[at(h,{"column-data":c,components:r.components,onRunCode:f.runCode},null,8,["column-data","components","onRunCode"])]))]),_:2},1032,["cols"]))),128))]),_:1})):Ja("",!0),r.columnData?(zr(),Js("div",DRe,[(zr(!0),Js(es,null,lm(r.columnData.components,(c,g)=>(zr(),Js("div",{key:g},[typeof c=="string"?(zr(),Js("div",$Re,[(zr(!0),Js(es,null,lm(f.findComponentById(c),v=>(zr(),Js("div",null,[v.component==="plotly-plot"?(zr(),fs(d,{key:0,id:v.id,figure:v.figure,layout:v.layout},null,8,["id","figure","layout"])):v.component==="v-card"?(zr(),fs(gg(v.component),ts({key:1},f.componentBind(v),{position:"relative"}),{default:so(()=>[(zr(!0),Js(es,null,lm(f.cardComponents(v),y=>(zr(),Js("div",null,[y.component==="plotly-plot"?(zr(),fs(d,{key:0,id:y.id,figure:y.figure,layout:y.layout},null,8,["id","figure","layout"])):(zr(),fs(gg(y.component),ts({key:1},f.componentBind(y),{modelValue:y.value,"onUpdate:modelValue":b=>y.value=b,onClick:b=>f.clickedButton(y)},{[G0(y.triggerEvent)]:b=>f.runCode(!0,y.id,y.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040)):(zr(),fs(gg(v.component),ts({key:2},f.componentBind(v),{modelValue:v.value,"onUpdate:modelValue":y=>v.value=y,onClick:y=>f.clickedButton(v)},{[G0(v.triggerEvent)]:y=>f.runCode(!0,v.id,v.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))])):(zr(),Js("div",LRe,[at(h,{"row-data":c,components:r.components,onRunCode:f.runCode},null,8,["row-data","components","onRunCode"])]))]))),128))])):Ja("",!0)],64)}const NRe=wg(ERe,[["render",IRe]]),bae=Ed({copilot_active:!1}),ph={clock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 15C6.61553 15 5.26216 14.5895 4.11101 13.8203C2.95987 13.0511 2.06266 11.9579 1.53285 10.6788C1.00303 9.3997 0.86441 7.99224 1.13451 6.63437C1.4046 5.2765 2.07129 4.02922 3.05026 3.05026C4.02922 2.07129 5.2765 1.4046 6.63437 1.13451C7.99224 0.86441 9.3997 1.00303 10.6788 1.53285C11.9579 2.06266 13.0511 2.95987 13.8203 4.11101C14.5895 5.26216 15 6.61553 15 8C15 9.85652 14.2625 11.637 12.9497 12.9497C11.637 14.2625 9.85652 15 8 15ZM8 2C6.81332 2 5.65328 2.3519 4.66658 3.01119C3.67989 3.67047 2.91085 4.60755 2.45673 5.7039C2.0026 6.80026 1.88378 8.00666 2.11529 9.17054C2.3468 10.3344 2.91825 11.4035 3.75736 12.2426C4.59648 13.0818 5.66558 13.6532 6.82946 13.8847C7.99335 14.1162 9.19975 13.9974 10.2961 13.5433C11.3925 13.0892 12.3295 12.3201 12.9888 11.3334C13.6481 10.3467 14 9.18669 14 8C14 6.4087 13.3679 4.88258 12.2426 3.75736C11.1174 2.63214 9.5913 2 8 2Z" fill="currentColor"/><path d="M10.295 11L7.5 8.205V3.5H8.5V7.79L11 10.295L10.295 11Z" fill="currentColor"/></svg>',cubic:'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16" fill="none"><path d="M13.252 4.06815L7.252 0.568148C7.17552 0.523518 7.08855 0.5 7 0.5C6.91145 0.5 6.82448 0.523518 6.748 0.568148L0.748 4.06815C0.672511 4.1122 0.609888 4.17527 0.566373 4.25107C0.522859 4.32687 0.499974 4.41275 0.5 4.50015V11.5001C0.499974 11.5875 0.522859 11.6734 0.566373 11.7492C0.609888 11.825 0.672511 11.8881 0.748 11.9321L6.748 15.4321C6.82448 15.4768 6.91145 15.5003 7 15.5003C7.08855 15.5003 7.17552 15.4768 7.252 15.4321L13.252 11.9321C13.3275 11.8881 13.3901 11.825 13.4336 11.7492C13.4771 11.6734 13.5 11.5875 13.5 11.5001V4.50015C13.5 4.41275 13.4771 4.32687 13.4336 4.25107C13.3901 4.17527 13.3275 4.1122 13.252 4.06815ZM7 1.57915L12.008 4.50015L7 7.42115L1.992 4.50015L7 1.57915ZM1.5 5.37015L6.5 8.28665V14.1301L1.5 11.2131V5.37015ZM7.5 14.1301V8.28715L12.5 5.37065V11.2131L7.5 14.1301Z" fill="currentColor"/></svg>',circleAdd:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 3C16.95 3 21 7.05 21 12C21 16.95 16.95 21 12 21C7.05 21 3 16.95 3 12C3 7.05 7.05 3 12 3ZM12 1.5C6.225 1.5 1.5 6.225 1.5 12C1.5 17.775 6.225 22.5 12 22.5C17.775 22.5 22.5 17.775 22.5 12C22.5 6.225 17.775 1.5 12 1.5Z" fill="currentColor"/><path d="M18 11.25H12.75V6H11.25V11.25H6V12.75H11.25V18H12.75V12.75H18V11.25Z" fill="currentColor"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M23.25 12L18 17.25L16.9425 16.1925L21.1275 12L16.9425 7.8075L18 6.75L23.25 12ZM0.75 12L6 6.75L7.0575 7.8075L2.8725 12L7.0575 16.1925L6 17.25L0.75 12ZM9.315 19.113L13.23 4.5L14.679 4.88775L10.764 19.5L9.315 19.113Z" fill="currentColor"/></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M9 9H10.5V18H9V9ZM13.5 9H15V18H13.5V9Z" fill="currentColor"/><path d="M3 4.5V6H4.5V21C4.5 21.3978 4.65804 21.7794 4.93934 22.0607C5.22064 22.342 5.60218 22.5 6 22.5H18C18.3978 22.5 18.7794 22.342 19.0607 22.0607C19.342 21.7794 19.5 21.3978 19.5 21V6H21V4.5H3ZM6 21V6H18V21H6ZM9 1.5H15V3H9V1.5Z" fill="currentColor"/></svg>',done:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 8 9" fill="none"><path d="M3.5 5.8535L2.25 4.60325L2.60325 4.25L3.5 5.1465L5.39625 3.25L5.75 3.60375L3.5 5.8535Z" fill="currentColor"/><path d="M4 1C3.30777 1 2.63108 1.20527 2.05551 1.58986C1.47993 1.97444 1.03133 2.52107 0.766423 3.16061C0.501516 3.80015 0.432205 4.50388 0.567253 5.18282C0.702301 5.86175 1.03564 6.48539 1.52513 6.97487C2.01461 7.46436 2.63825 7.7977 3.31719 7.93275C3.99612 8.0678 4.69985 7.99849 5.33939 7.73358C5.97894 7.46867 6.52556 7.02007 6.91015 6.4445C7.29473 5.86892 7.5 5.19223 7.5 4.5C7.5 3.57174 7.13125 2.6815 6.47487 2.02513C5.8185 1.36875 4.92826 1 4 1ZM4 7.5C3.40666 7.5 2.82664 7.32405 2.33329 6.99441C1.83994 6.66476 1.45543 6.19623 1.22836 5.64805C1.0013 5.09987 0.94189 4.49667 1.05765 3.91473C1.1734 3.33279 1.45912 2.79824 1.87868 2.37868C2.29824 1.95912 2.83279 1.6734 3.41473 1.55764C3.99667 1.44189 4.59987 1.5013 5.14805 1.72836C5.69623 1.95542 6.16477 2.33994 6.49441 2.83329C6.82405 3.32664 7 3.90666 7 4.5C7 5.29565 6.68393 6.05871 6.12132 6.62132C5.55871 7.18393 4.79565 7.5 4 7.5Z" fill="currentColor"/></svg>',dot:'<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none"><path d="M4 6C5.10457 6 6 5.10457 6 4C6 2.89543 5.10457 2 4 2C2.89543 2 2 2.89543 2 4C2 5.10457 2.89543 6 4 6Z" fill="currentColor"/></svg>',dropdown:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect x="0" fill="none" width="24" height="24"></rect> <g> <path d="M7 10l5 5 5-5"></path> </g> </g></svg>',duplicate:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M20.55 11.025L15.975 6.45C15.75 6.15 15.375 6 15 6H9C8.175 6 7.5 6.675 7.5 7.5V21C7.5 21.825 8.175 22.5 9 22.5H19.5C20.325 22.5 21 21.825 21 21V12.075C21 11.7 20.85 11.325 20.55 11.025ZM15 7.5L19.425 12H15V7.5ZM9 21V7.5H13.5V12C13.5 12.825 14.175 13.5 15 13.5H19.5V21H9Z" fill="currentColor"/><path d="M4.5 13.5H3V3C3 2.175 3.675 1.5 4.5 1.5H15V3H4.5V13.5Z" fill="currentColor"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M1.5 19.5H22.5V21H1.5V19.5ZM19.05 6.75C19.65 6.15 19.65 5.25 19.05 4.65L16.35 1.95C15.75 1.35 14.85 1.35 14.25 1.95L3 13.2V18H7.8L19.05 6.75ZM15.3 3L18 5.7L15.75 7.95L13.05 5.25L15.3 3ZM4.5 16.5V13.8L12 6.3L14.7 9L7.2 16.5H4.5Z" fill="currentColor"/></svg>',markdown:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M1.5 5.25V6.75H6.75V18.75H8.25V6.75H13.5V5.25H1.5ZM22.5 8.307L21.942 6.91425L19.5 7.8915V5.25H18V7.89225L15.558 6.915L15 8.30775L17.5627 9.333L15.675 11.85L16.875 12.75L18.75 10.2502L20.625 12.75L21.825 11.85L19.9373 9.33225L22.5 8.307Z" fill="currentColor"/></svg>',message:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M13.305 22.5L12 21.75L15 16.5H19.5C19.8978 16.5 20.2794 16.342 20.5607 16.0607C20.842 15.7794 21 15.3978 21 15V6C21 5.60218 20.842 5.22064 20.5607 4.93934C20.2794 4.65804 19.8978 4.5 19.5 4.5H4.5C4.10218 4.5 3.72064 4.65804 3.43934 4.93934C3.15804 5.22064 3 5.60218 3 6V15C3 15.3978 3.15804 15.7794 3.43934 16.0607C3.72064 16.342 4.10218 16.5 4.5 16.5H11.25V18H4.5C3.70435 18 2.94129 17.6839 2.37868 17.1213C1.81607 16.5587 1.5 15.7956 1.5 15V6C1.5 5.20435 1.81607 4.44129 2.37868 3.87868C2.94129 3.31607 3.70435 3 4.5 3H19.5C20.2956 3 21.0587 3.31607 21.6213 3.87868C22.1839 4.44129 22.5 5.20435 22.5 6V15C22.5 15.7956 22.1839 16.5587 21.6213 17.1213C21.0587 17.6839 20.2956 18 19.5 18H15.87L13.305 22.5Z" fill="currentColor"/></svg>',more:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M9.375 12C9.375 11.4808 9.52895 10.9733 9.81739 10.5416C10.1058 10.1099 10.5158 9.77349 10.9955 9.57481C11.4751 9.37613 12.0029 9.32415 12.5121 9.42544C13.0213 9.52672 13.489 9.77673 13.8562 10.1438C14.2233 10.511 14.4733 10.9787 14.5746 11.4879C14.6758 11.9971 14.6239 12.5249 14.4252 13.0045C14.2265 13.4842 13.89 13.8942 13.4584 14.1826C13.0267 14.471 12.5192 14.625 12 14.625C11.3038 14.625 10.6361 14.3484 10.1438 13.8562C9.65156 13.3639 9.375 12.6962 9.375 12ZM12 16.875C11.4808 16.875 10.9733 17.029 10.5416 17.3174C10.1099 17.6058 9.7735 18.0158 9.57482 18.4955C9.37614 18.9751 9.32415 19.5029 9.42544 20.0121C9.52672 20.5213 9.77673 20.989 10.1438 21.3562C10.511 21.7233 10.9787 21.9733 11.4879 22.0746C11.9971 22.1758 12.5249 22.1239 13.0045 21.9252C13.4842 21.7265 13.8942 21.39 14.1826 20.9584C14.471 20.5267 14.625 20.0192 14.625 19.5C14.625 18.8038 14.3484 18.1361 13.8562 17.6438C13.3639 17.1516 12.6962 16.875 12 16.875ZM12 7.125C12.5192 7.125 13.0267 6.97104 13.4584 6.6826C13.89 6.39417 14.2265 5.9842 14.4252 5.50454C14.6239 5.02489 14.6758 4.49709 14.5746 3.98788C14.4733 3.47869 14.2233 3.01095 13.8562 2.64384C13.489 2.27673 13.0213 2.02672 12.5121 1.92544C12.0029 1.82415 11.4751 1.87613 10.9955 2.07481C10.5158 2.27349 10.1058 2.60995 9.81739 3.04162C9.52895 3.4733 9.375 3.98082 9.375 4.5C9.375 5.19619 9.65156 5.86387 10.1438 6.35615C10.6361 6.84844 11.3038 7.125 12 7.125Z" fill="currentColor"/></svg>',notebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M14.25 7.5H19.5V9H14.25V7.5ZM14.25 11.25H19.5V12.75H14.25V11.25ZM14.25 15H19.5V16.5H14.25V15Z" fill="currentColor"/><path d="M21 3.75H3C2.6023 3.7504 2.221 3.90856 1.93978 4.18978C1.65856 4.471 1.5004 4.8523 1.5 5.25V18.75C1.5004 19.1477 1.65856 19.529 1.93978 19.8102C2.221 20.0914 2.6023 20.2496 3 20.25H21C21.3976 20.2494 21.7788 20.0912 22.06 19.81C22.3412 19.5288 22.4994 19.1476 22.5 18.75V5.25C22.4996 4.8523 22.3414 4.471 22.0602 4.18978C21.779 3.90856 21.3977 3.7504 21 3.75ZM3 5.25H11.25V18.75H3V5.25ZM12.75 18.75V5.25H21L21.0015 18.75H12.75Z" fill="currentColor"/></svg>',logo:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none"><path d="M21.3432 32H10.6716L5.33867 24H5.33676L0 15.9943L5.33676 7.9914L10.664 0L10.6735 0.0143266V15.9914L16.0065 23.9943L21.3337 31.9857L21.3432 32Z" fill="#AE9FE8"/><path d="M26.6724 8L21.3376 0H10.6641L21.3357 16.0086V31.9857V32L26.6629 24.0086L31.9996 16.0057L26.6724 8Z" fill="#AE9FE8"/></svg>',monitor:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M19.5 1.5H22.5V4.5H19.5V1.5ZM19.5 6H22.5V9H19.5V6ZM15 1.5H18V4.5H15V1.5ZM15 6H18V9H15V6Z" fill="currentColor"/><path d="M21 12V16.5H3V4.5H12V3H3C2.60218 3 2.22064 3.15804 1.93934 3.43934C1.65804 3.72064 1.5 4.10218 1.5 4.5V16.5C1.5 16.8978 1.65804 17.2794 1.93934 17.5607C2.22064 17.842 2.60218 18 3 18H9V21H6V22.5H18V21H15V18H21C21.3978 18 21.7794 17.842 22.0607 17.5607C22.342 17.2794 22.5 16.8978 22.5 16.5V12H21ZM13.5 21H10.5V18H13.5V21Z" fill="currentColor"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M8.25 17.2501C8.05109 17.2501 7.86032 17.1711 7.71967 17.0304C7.57902 16.8898 7.5 16.699 7.5 16.5001V7.50009C7.50007 7.37229 7.53279 7.24664 7.59506 7.13504C7.65733 7.02344 7.74708 6.92961 7.8558 6.86244C7.96451 6.79527 8.08859 6.757 8.21626 6.75125C8.34392 6.7455 8.47093 6.77246 8.58525 6.82959L17.5853 11.3296C17.7097 11.3919 17.8143 11.4877 17.8874 11.6061C17.9605 11.7245 17.9992 11.8609 17.9992 12.0001C17.9992 12.1393 17.9605 12.2757 17.8874 12.3941C17.8143 12.5125 17.7097 12.6082 17.5853 12.6706L8.58525 17.1706C8.48117 17.2227 8.3664 17.2499 8.25 17.2501ZM9 8.71359V15.2866L15.573 12.0001L9 8.71359Z" fill="currentColor"/><path d="M12 3C13.78 3 15.5201 3.52784 17.0001 4.51677C18.4802 5.50571 19.6337 6.91131 20.3149 8.55585C20.9961 10.2004 21.1743 12.01 20.8271 13.7558C20.4798 15.5016 19.6226 17.1053 18.364 18.364C17.1053 19.6226 15.5016 20.4798 13.7558 20.8271C12.01 21.1743 10.2004 20.9961 8.55585 20.3149C6.91132 19.6337 5.50571 18.4802 4.51678 17.0001C3.52785 15.5201 3 13.78 3 12C3 9.61305 3.94822 7.32387 5.63604 5.63604C7.32387 3.94821 9.61306 3 12 3ZM12 1.5C9.9233 1.5 7.89323 2.11581 6.16652 3.26957C4.4398 4.42332 3.09399 6.0632 2.29927 7.98182C1.50455 9.90045 1.29661 12.0116 1.70176 14.0484C2.1069 16.0852 3.10693 17.9562 4.57538 19.4246C6.04383 20.8931 7.91476 21.8931 9.95156 22.2982C11.9884 22.7034 14.0996 22.4955 16.0182 21.7007C17.9368 20.906 19.5767 19.5602 20.7304 17.8335C21.8842 16.1068 22.5 14.0767 22.5 12C22.5 9.21523 21.3938 6.54451 19.4246 4.57538C17.4555 2.60625 14.7848 1.5 12 1.5Z" fill="currentColor" /></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16.172C16.7024 3.00011 17.211 3.2109 17.586 3.586L20.414 6.414C20.7891 6.78899 20.9999 7.29761 21 7.828V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19Z" stroke="currentColor" stroke-width="1.5"/><path d="M8.6 9H15.4C15.5591 9 15.7117 8.93679 15.8243 8.82426C15.9368 8.71174 16 8.55913 16 8.4V3.6C16 3.44087 15.9368 3.28826 15.8243 3.17574C15.7117 3.06321 15.5591 3 15.4 3H8.6C8.44087 3 8.28826 3.06321 8.17574 3.17574C8.06321 3.28826 8 3.44087 8 3.6V8.4C8 8.55913 8.06321 8.71174 8.17574 8.82426C8.28826 8.93679 8.44087 9 8.6 9ZM6 13.6V21H18V13.6C18 13.4409 17.9368 13.2883 17.8243 13.1757C17.7117 13.0632 17.5591 13 17.4 13H6.6C6.44087 13 6.28826 13.0632 6.17574 13.1757C6.06321 13.2883 6 13.4409 6 13.6Z" stroke="currentColor" stroke-width="1.5"/></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15 7.5H5.86125L8.5515 4.8105L7.5 3.75L3 8.25L7.5 12.75L8.5515 11.6888L5.8635 9H15C16.1935 9 17.3381 9.47411 18.182 10.318C19.0259 11.1619 19.5 12.3065 19.5 13.5C19.5 14.6935 19.0259 15.8381 18.182 16.682C17.3381 17.5259 16.1935 18 15 18H9V19.5H15C16.5913 19.5 18.1174 18.8679 19.2426 17.7426C20.3679 16.6174 21 15.0913 21 13.5C21 11.9087 20.3679 10.3826 19.2426 9.25736C18.1174 8.13214 16.5913 7.5 15 7.5Z" fill="currentColor"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"> <path d="M9 7.5H18.1388L15.4485 4.8105L16.5 3.75L21 8.25L16.5 12.75L15.4485 11.6888L18.1365 9H9C7.80653 9 6.66193 9.47411 5.81802 10.318C4.97411 11.1619 4.5 12.3065 4.5 13.5C4.5 14.6935 4.97411 15.8381 5.81802 16.682C6.66193 17.5259 7.80653 18 9 18H15V19.5H9C7.4087 19.5 5.88258 18.8679 4.75736 17.7426C3.63214 16.6174 3 15.0913 3 13.5C3 11.9087 3.63214 10.3826 4.75736 9.25736C5.88258 8.13214 7.4087 7.5 9 7.5Z" fill="currentColor"/></svg>',settings:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M20.2499 12.5696V11.4221L21.6899 10.1621C21.9554 9.92811 22.1296 9.60784 22.1817 9.25787C22.2339 8.9079 22.1606 8.55076 21.9749 8.24957L20.2049 5.24957C20.0734 5.02177 19.8843 4.83256 19.6566 4.70092C19.4288 4.56928 19.1705 4.49984 18.9074 4.49957C18.7444 4.49832 18.5823 4.52366 18.4274 4.57457L16.6049 5.18957C16.2903 4.98048 15.9621 4.79256 15.6224 4.62707L15.2399 2.73707C15.1714 2.39178 14.9835 2.0816 14.7093 1.86085C14.4351 1.6401 14.0919 1.52283 13.7399 1.52957H10.2299C9.87797 1.52283 9.53483 1.6401 9.2606 1.86085C8.98638 2.0816 8.79853 2.39178 8.72995 2.73707L8.34745 4.62707C8.0054 4.79252 7.67467 4.98043 7.35745 5.18957L5.57245 4.54457C5.41592 4.50379 5.25383 4.48859 5.09245 4.49957C4.8294 4.49984 4.57105 4.56928 4.34332 4.70092C4.11558 4.83256 3.92647 5.02177 3.79495 5.24957L2.02495 8.24957C1.84989 8.55031 1.78483 8.90257 1.84093 9.246C1.89703 9.58943 2.07079 9.90267 2.33245 10.1321L3.74995 11.4296V12.5771L2.33245 13.8371C2.0634 14.0681 1.88489 14.3869 1.82859 14.737C1.7723 15.0871 1.84187 15.4459 2.02495 15.7496L3.79495 18.7496C3.92647 18.9774 4.11558 19.1666 4.34332 19.2982C4.57105 19.4299 4.8294 19.4993 5.09245 19.4996C5.25546 19.5008 5.41758 19.4755 5.57245 19.4246L7.39495 18.8096C7.7096 19.0187 8.03783 19.2066 8.37745 19.3721L8.75995 21.2621C8.82853 21.6074 9.01638 21.9175 9.2906 22.1383C9.56483 22.3591 9.90797 22.4763 10.2599 22.4696H13.7999C14.1519 22.4763 14.4951 22.3591 14.7693 22.1383C15.0435 21.9175 15.2314 21.6074 15.2999 21.2621L15.6824 19.3721C16.0245 19.2066 16.3552 19.0187 16.6724 18.8096L18.4874 19.4246C18.6423 19.4755 18.8044 19.5008 18.9674 19.4996C19.2305 19.4993 19.4888 19.4299 19.7166 19.2982C19.9443 19.1666 20.1334 18.9774 20.2649 18.7496L21.9749 15.7496C22.15 15.4488 22.2151 15.0966 22.159 14.7532C22.1029 14.4097 21.9291 14.0965 21.6674 13.8671L20.2499 12.5696ZM18.9074 17.9996L16.3349 17.1296C15.7327 17.6397 15.0445 18.0384 14.3024 18.3071L13.7699 20.9996H10.2299L9.69745 18.3371C8.96126 18.0608 8.27673 17.6627 7.67245 17.1596L5.09245 17.9996L3.32245 14.9996L5.36245 13.1996C5.22377 12.4232 5.22377 11.6284 5.36245 10.8521L3.32245 8.99957L5.09245 5.99957L7.66495 6.86957C8.26715 6.35949 8.9554 5.96076 9.69745 5.69207L10.2299 2.99957H13.7699L14.3024 5.66207C15.0386 5.93839 15.7232 6.33643 16.3274 6.83957L18.9074 5.99957L20.6774 8.99957L18.6374 10.7996C18.7761 11.5759 18.7761 12.3707 18.6374 13.1471L20.6774 14.9996L18.9074 17.9996Z" fill="currentColor"/><path d="M12 16.5C11.11 16.5 10.24 16.2361 9.49994 15.7416C8.75991 15.2471 8.18314 14.5443 7.84254 13.7221C7.50195 12.8998 7.41283 11.995 7.58647 11.1221C7.7601 10.2492 8.18868 9.44736 8.81802 8.81802C9.44736 8.18868 10.2492 7.7601 11.1221 7.58647C11.995 7.41283 12.8998 7.50195 13.7221 7.84254C14.5443 8.18314 15.2471 8.75991 15.7416 9.49994C16.2361 10.24 16.5 11.11 16.5 12C16.506 12.5926 16.3937 13.1805 16.1697 13.7292C15.9457 14.2779 15.6145 14.7763 15.1954 15.1954C14.7763 15.6145 14.2779 15.9457 13.7292 16.1697C13.1805 16.3937 12.5926 16.506 12 16.5ZM12 9C11.6035 8.99077 11.2093 9.06205 10.8411 9.20954C10.473 9.35704 10.1386 9.57768 9.85812 9.85812C9.57768 10.1386 9.35704 10.473 9.20954 10.8411C9.06205 11.2093 8.99077 11.6035 9 12C8.99077 12.3965 9.06205 12.7907 9.20954 13.1589C9.35704 13.527 9.57768 13.8615 9.85812 14.1419C10.1386 14.4223 10.473 14.643 10.8411 14.7905C11.2093 14.938 11.6035 15.0092 12 15C12.3965 15.0092 12.7907 14.938 13.1589 14.7905C13.527 14.643 13.8615 14.4223 14.1419 14.1419C14.4223 13.8615 14.643 13.527 14.7905 13.1589C14.938 12.7907 15.0092 12.3965 15 12C15.0092 11.6035 14.938 11.2093 14.7905 10.8411C14.643 10.473 14.4223 10.1386 14.1419 9.85812C13.8615 9.57768 13.527 9.35704 13.1589 9.20954C12.7907 9.06205 12.3965 8.99077 12 9Z" fill="currentColor"/></svg>',share:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M12 6H6C5.46957 6 4.96086 6.21071 4.58579 6.58579C4.21071 6.96086 4 7.46957 4 8V18C4 18.5304 4.21071 19.0391 4.58579 19.4142C4.96086 19.7893 5.46957 20 6 20H16C16.5304 20 17.0391 19.7893 17.4142 19.4142C17.7893 19.0391 18 18.5304 18 18V12M11 13L20 4M20 4H15M20 4V9" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/></svg>',sql:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"> <path d="M18 2.25H6C5.60218 2.25 5.22064 2.40804 4.93934 2.68934C4.65804 2.97064 4.5 3.35218 4.5 3.75V20.25C4.5 20.6478 4.65804 21.0294 4.93934 21.3107C5.22064 21.592 5.60218 21.75 6 21.75H18C18.3978 21.75 18.7794 21.592 19.0607 21.3107C19.342 21.0294 19.5 20.6478 19.5 20.25V3.75C19.5 3.35218 19.342 2.97064 19.0607 2.68934C18.7794 2.40804 18.3978 2.25 18 2.25ZM18 3.75V8.25H6V3.75H18ZM6 14.25V9.75H18V14.25H6ZM6 20.25V15.75H18V20.25H6Z" fill="currentColor"/><path d="M8.25 6.75C8.66421 6.75 9 6.41421 9 6C9 5.58579 8.66421 5.25 8.25 5.25C7.83579 5.25 7.5 5.58579 7.5 6C7.5 6.41421 7.83579 6.75 8.25 6.75Z" fill="currentColor"/><path d="M8.25 12.75C8.66421 12.75 9 12.4142 9 12C9 11.5858 8.66421 11.25 8.25 11.25C7.83579 11.25 7.5 11.5858 7.5 12C7.5 12.4142 7.83579 12.75 8.25 12.75Z" fill="currentColor"/><path d="M8.25 18.75C8.66421 18.75 9 18.4142 9 18C9 17.5858 8.66421 17.25 8.25 17.25C7.83579 17.25 7.5 17.5858 7.5 18C7.5 18.4142 7.83579 18.75 8.25 18.75Z" fill="currentColor"/></svg>',status:'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M5 13.5C4.90129 13.4995 4.80493 13.4698 4.72307 13.4146C4.64121 13.3595 4.57751 13.2813 4.54 13.19L2.165 7.5H0V6.5H2.5C2.59871 6.5005 2.69507 6.5302 2.77693 6.58536C2.85879 6.64053 2.92249 6.71869 2.96 6.81L5 11.64L9.03 0.825003C9.06576 0.729302 9.12997 0.646852 9.214 0.588746C9.29803 0.530641 9.39784 0.499671 9.5 0.500003C9.60311 0.501804 9.70314 0.535443 9.78638 0.59631C9.86963 0.657178 9.93202 0.742296 9.965 0.840003L11.86 6.5H14V7.5H11.5C11.3952 7.50027 11.2929 7.46759 11.2077 7.40658C11.1224 7.34557 11.0585 7.25931 11.025 7.16L9.5 2.5L5.47 13.175C5.43424 13.2707 5.37003 13.3532 5.286 13.4113C5.20197 13.4694 5.10216 13.5003 5 13.5Z" fill="currentColor"/></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 2c4.41 0 8 3.59 8 8s-3.59 8-8 8s-8-3.59-8-8s3.59-8 8-8M9 9v6h6V9"/></svg>',text:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M22.1528 10.32L19.68 7.84729C19.457 7.62489 19.1549 7.5 18.84 7.5C18.5251 7.5 18.223 7.62489 18 7.84729L7.5 18.3503V22.5H11.6497L22.1528 12C22.3752 11.7771 22.5 11.475 22.5 11.16C22.5 10.8451 22.3752 10.543 22.1528 10.32ZM11.028 21H9V18.972L16.08 11.8913L18.1088 13.9193L11.028 21ZM19.17 12.8588L17.142 10.8308L18.8422 9.13054L20.8702 11.1585L19.17 12.8588Z" fill="currentColor"/><path d="M8.25 12.75H9.75V7.5H12V6H6V7.5H8.25V12.75Z" fill="currentColor"/><path d="M6 15H3V3H15V6H16.5V3C16.5 2.60218 16.342 2.22064 16.0607 1.93934C15.7794 1.65804 15.3978 1.5 15 1.5H3C2.60218 1.5 2.22064 1.65804 1.93934 1.93934C1.65804 2.22064 1.5 2.60218 1.5 3V15C1.5 15.3978 1.65804 15.7794 1.93934 16.0607C2.22064 16.342 2.60218 16.5 3 16.5H6V15Z" fill="currentColor"/></svg>',visibility:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M23.2047 11.745C22.3226 9.46324 20.7912 7.48996 18.7998 6.06906C16.8084 4.64817 14.4443 3.84193 11.9997 3.75C9.55507 3.84193 7.19097 4.64817 5.19958 6.06906C3.20819 7.48996 1.6768 9.46324 0.794681 11.745C0.735106 11.9098 0.735106 12.0902 0.794681 12.255C1.6768 14.5368 3.20819 16.51 5.19958 17.9309C7.19097 19.3518 9.55507 20.1581 11.9997 20.25C14.4443 20.1581 16.8084 19.3518 18.7998 17.9309C20.7912 16.51 22.3226 14.5368 23.2047 12.255C23.2643 12.0902 23.2643 11.9098 23.2047 11.745ZM11.9997 18.75C8.02468 18.75 3.82468 15.8025 2.30218 12C3.82468 8.1975 8.02468 5.25 11.9997 5.25C15.9747 5.25 20.1747 8.1975 21.6972 12C20.1747 15.8025 15.9747 18.75 11.9997 18.75Z" fill="currentColor"/><path d="M12 7.5C11.11 7.5 10.24 7.76392 9.49994 8.25839C8.75991 8.75285 8.18314 9.45566 7.84254 10.2779C7.50195 11.1002 7.41283 12.005 7.58647 12.8779C7.7601 13.7508 8.18869 14.5526 8.81802 15.182C9.44736 15.8113 10.2492 16.2399 11.1221 16.4135C11.995 16.5872 12.8998 16.4981 13.7221 16.1575C14.5443 15.8169 15.2471 15.2401 15.7416 14.5001C16.2361 13.76 16.5 12.89 16.5 12C16.5 10.8065 16.0259 9.66193 15.182 8.81802C14.3381 7.97411 13.1935 7.5 12 7.5ZM12 15C11.4067 15 10.8266 14.8241 10.3333 14.4944C9.83994 14.1648 9.45543 13.6962 9.22836 13.148C9.0013 12.5999 8.94189 11.9967 9.05765 11.4147C9.1734 10.8328 9.45912 10.2982 9.87868 9.87868C10.2982 9.45912 10.8328 9.1734 11.4147 9.05764C11.9967 8.94189 12.5999 9.0013 13.1481 9.22836C13.6962 9.45542 14.1648 9.83994 14.4944 10.3333C14.8241 10.8266 15 11.4067 15 12C15 12.7956 14.6839 13.5587 14.1213 14.1213C13.5587 14.6839 12.7957 15 12 15Z" fill="currentColor"/></svg>'},BRe={component:t=>mm(t.tag,{...t,innerHTML:t.icon})},QRe={class:"divider"},FRe=iy({__name:"AddCell",props:{onClick:null,cellId:String},emits:["createCodeCell"],setup(t){const e=bo([{title:"Code",cellType:"code",icon:`ztIcon:${ph.code}`},{title:"SQL",cellType:"sql",icon:`ztIcon:${ph.sql}`},{title:"Markdown",cellType:"markdown",icon:`ztIcon:${ph.markdown}`},{title:"Text",cellType:"text",icon:`ztIcon:${ph.text}`}]);return(r,a)=>(zr(),fs(UT,{transition:"scale-transition"},{activator:so(({props:i})=>[Ya("div",QRe,[at(kle,{class:"divider__divider-line",color:"bluegrey-darken-2"}),at(yi,ts(t.cellId?{...i,id:"addCell"+t.cellId}:i,{"prepend-icon":`ztIcon:${Ol(ph).circleAdd}`,variant:"text",density:"compact",ripple:!1,class:"divider__btn bg-background"}),{default:so(()=>[xl("Add cell")]),_:2},1040,["prepend-icon"])])]),default:so(()=>[at(HT,null,{default:so(()=>[(zr(!0),Js(es,null,lm(e.value,(i,f)=>(zr(),fs(Md,ts({key:f},t.cellId?{id:"addCell_"+i.title+"_"+t.cellId}:{},{onClick:d=>r.$emit("createCodeCell",i.cellType)}),{prepend:so(()=>[at(ci,{icon:i.icon},null,8,["icon"])]),default:so(()=>[at(vS,null,{default:so(()=>[xl(Pd(i.title),1)]),_:2},1024)]),_:2},1040,["onClick"]))),128))]),_:1})]),_:1}))}});const Xle=wg(FRe,[["__scopeId","data-v-14429d48"]]),VRe={class:"content"},zRe={class:"header"},ZRe={class:"click-edit"},HRe={key:0,class:"click-edit__show-text"},URe={class:"text-bluegrey-darken-1"},WRe={key:1,class:"click-edit__edit-field-wrapper"},YRe={key:0,class:"actions"},XRe={key:0,class:"code"},GRe={key:1,class:"outcome"},jRe=iy({__name:"Cell",props:{isDevMode:Boolean,cellType:String,cellId:String,error:Boolean,hideCell:{type:Boolean,default:!1},hideCode:{type:Boolean,default:!1},cellName:{type:String,default:null}},emits:["delete","play","save","renameCell","addCell"],setup(t){const e=t,r=Jt(()=>{if(e.error)return"error";switch(e.cellType){case"markdown":return"#4CBCFC";case"code":return"#AE9FE8";case"sql":return"#FFDCA7";case"text":return"#16B48E"}}),a=bo(e.hideCell||!1),i=bo(e.hideCode||!1),f=bo(e.cellName||e.cellType),d=bo(""),h=bo(null),c=bo(!1),g=Jt(()=>e.cellType==="code"||e.cellType==="sql"),v=Jt(()=>e.cellType==="markdown"||e.cellType==="text"),y=Jt(()=>e.cellType==="code"||e.cellType==="sql"),b=Jt(()=>YT().name==="/app"),O=async C=>{const _={cellId:e.cellId,hideCell:C};await Tf.post("api/hide_cell",_)},T=async C=>{const _={cellId:e.cellId,hideCode:C};await Tf.post("api/hide_code",_)},k=()=>{c.value=!c.value,c.value&&(d.value=f.value,wl(()=>{h.value&&h.value.focus()}))},w=async()=>{const C={cellId:e.cellId,cellName:d.value};await Tf.post("api/rename_cell",C),f.value=d.value,c.value=!1};return(C,_)=>(zr(),Js(es,null,[t.isDevMode||!t.isDevMode&&!a.value?(zr(),fs(f$,{key:0,id:"codeCard"+t.cellId,class:"cell",color:"bluegrey-darken-4"},{default:so(()=>[at(kle,{class:"indicator",vertical:"",color:r.value,thickness:4},null,8,["color"]),Ya("div",VRe,[Ya("header",zRe,[Ya("div",ZRe,[c.value?Ja("",!0):(zr(),Js("div",HRe,[Ya("h4",URe,Pd(f.value),1),t.isDevMode?(zr(),fs(yi,{key:0,color:"bluegrey-darken-4",icon:`ztIcon:${Ol(ph).edit}`,size:"x-small",onClick:k},null,8,["icon"])):Ja("",!0)])),c.value?(zr(),Js("div",WRe,[at(gm,{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=M=>d.value=M),placeholder:t.cellType,density:"compact",variant:"plain","hide-details":"",ref_key:"cellNameField",ref:h,class:"click-edit__edit-field"},null,8,["modelValue","placeholder"]),at(yi,{color:"bluegrey-darken-4",icon:`ztIcon:${Ol(ph).save}`,size:"x-small",onClick:w},null,8,["icon"]),at(yi,{color:"bluegrey-darken-4",icon:"$close",size:"x-small",onClick:k})])):Ja("",!0)]),at(Hc,{defaults:{VIcon:{color:"bluegrey"},VBtn:{variant:"text",size:"small"}}},{default:so(()=>[C.$devMode&&!b.value?(zr(),Js("div",YRe,[v.value?(zr(),fs(yi,{key:0,icon:`ztIcon:${Ol(ph).save}`,onClick:_[1]||(_[1]=M=>C.$emit("save"))},null,8,["icon"])):Ja("",!0),g.value?(zr(),fs(yi,{key:1,id:"runCode"+t.cellId,icon:`ztIcon:${Ol(ph).play}`,onClick:_[2]||(_[2]=M=>C.$emit("play"))},null,8,["id","icon"])):Ja("",!0),at(UT,{"close-on-content-click":!1},{activator:so(({props:M})=>[at(yi,ts({icon:`ztIcon:${Ol(ph).visibility}`},M),null,16,["icon"])]),default:so(()=>[at(HT,null,{default:so(()=>[at(Md,null,{prepend:so(()=>[at(Xme,{modelValue:a.value,"onUpdate:modelValue":[_[3]||(_[3]=M=>a.value=M),O]},null,8,["modelValue"])]),default:so(()=>[at(vS,null,{default:so(()=>[xl("Hide Cell")]),_:1})]),_:1}),y.value?(zr(),fs(Md,{key:0},{prepend:so(()=>[at(Xme,{modelValue:i.value,"onUpdate:modelValue":[_[4]||(_[4]=M=>i.value=M),T]},null,8,["modelValue"])]),default:so(()=>[at(vS,null,{default:so(()=>[xl("Hide Code")]),_:1})]),_:1})):Ja("",!0)]),_:1})]),_:1}),at(UT,null,{activator:so(({props:M})=>[at(yi,ts({icon:`ztIcon:${Ol(ph).more}`,id:"cellToolbar"+t.cellId},M),null,16,["icon","id"])]),default:so(()=>[at(HT,null,{default:so(()=>[at(Md,null,{prepend:so(()=>[at(ci,{icon:"$collapse"})]),default:so(()=>[at(vS,null,{default:so(()=>[xl("Move Up")]),_:1})]),_:1}),at(Md,null,{prepend:so(()=>[at(ci,{icon:"$expand"})]),default:so(()=>[at(vS,null,{default:so(()=>[xl("Move Down")]),_:1})]),_:1}),at(Md,null,{prepend:so(()=>[at(ci,{icon:`ztIcon:${Ol(ph).duplicate}`},null,8,["icon"])]),default:so(()=>[at(vS,null,{default:so(()=>[xl("Duplicate")]),_:1})]),_:1}),at(Md,{"base-color":"error",id:"deleteCell"+t.cellId,onClick:_[5]||(_[5]=M=>C.$emit("delete"))},{prepend:so(()=>[at(ci,{icon:`ztIcon:${Ol(ph).delete}`},null,8,["icon"])]),default:so(()=>[at(vS,null,{default:so(()=>[xl("Delete Cell")]),_:1})]),_:1},8,["id"])]),_:1})]),_:1})])):Ja("",!0)]),_:1})]),t.isDevMode||!t.isDevMode&&y.value&&!i.value?(zr(),Js("div",XRe,[sfe(C.$slots,"code",{},void 0,!0)])):Ja("",!0),t.isDevMode&&!b.value&&t.cellType==="text"?Ja("",!0):(zr(),Js("div",GRe,[sfe(C.$slots,"outcome",{},void 0,!0)]))])]),_:3},8,["id"])):Ja("",!0),t.isDevMode?(zr(),fs(Xle,{key:1,"cell-id":t.cellId,onCreateCodeCell:_[6]||(_[6]=M=>C.$emit("addCell",M))},null,8,["cell-id"])):Ja("",!0)],64))}});const iW=wg(jRe,[["__scopeId","data-v-cc43e3ac"]]);function qRe(t,e,r=void 0){let a=()=>{};return(...i)=>(a(),new Promise((f,d)=>{const h=setTimeout(()=>f(t(...i)),e);a=()=>{clearTimeout(h),r!==void 0&&d(r)}}))}var KRe=Object.defineProperty,JRe=(t,e,r)=>e in t?KRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,GOe=(t,e,r)=>(JRe(t,typeof e!="symbol"?e+"":e,r),r);const Gle=Hu.define({create(){return{suggestion:null}},update(t,e){const r=e.effects.find(a=>a.is(jOe));return e.state.doc&&r&&e.state.doc==r.value.doc?{suggestion:r.value.text}:{suggestion:null}}}),jOe=da.define();function eDe(t,e){const r=t.state.selection.main.head,a=[],i=Ss.widget({widget:new tDe(e),side:1});return a.push(i.range(r)),Ss.set(a)}class tDe extends jv{constructor(e){super(),GOe(this,"suggestion"),this.suggestion=e}toDOM(){const e=document.createElement("span");return e.style.opacity="0.4",e.className="cm-inline-suggestion",e.textContent=this.suggestion,e}}const nDe=t=>Sc.fromClass(class{async update(e){const r=e.state.doc;if(!e.docChanged)return;const a=await t(e.state);e.view.dispatch({effects:jOe.of({text:a,doc:r})})}}),rDe=Sc.fromClass(class{constructor(){GOe(this,"decorations"),this.decorations=Ss.none}update(t){var e;const r=(e=t.state.field(Gle))==null?void 0:e.suggestion;if(!r){this.decorations=Ss.none;return}this.decorations=eDe(t.view,r)}},{decorations:t=>t.decorations}),oDe=Og.highest(RO.of([{key:"Tab",run:t=>{var e;const r=(e=t.state.field(Gle))==null?void 0:e.suggestion;return r?(t.dispatch({...sDe(t.state,r,t.state.selection.main.head,t.state.selection.main.head)}),!0):!1}}]));function sDe(t,e,r,a){return{...t.changeByRange(i=>{if(i==t.selection.main)return{changes:{from:r,to:a,insert:e},range:xr.cursor(r+e.length)};const f=a-r;return!i.empty||f&&t.sliceDoc(i.from-f,i.from)!=t.sliceDoc(r,a)?{range:i}:{changes:{from:i.from-f,to:i.from,insert:e},range:xr.cursor(i.from-f+e.length)}}),userEvent:"input.complete"}}function aDe(t){const{delay:e=500}=t,r=qRe(t.fetchFn,e);return[Gle,nDe(r),rDe,oDe]}const iDe={components:{cell:iW,codemirror:HU,"v-slider":mOe,"v-text-field":gm,"v-number-field":gm,"v-textarea":ROe,"v-range-slider":EOe,"v-select":Ile,"v-combobox":gOe,"v-btn":yi,"v-img":s$,"v-data-table":Yle,"v-autocomplete":iOe,"v-card":f$,"v-text":XOe,"plotly-plot":Bve,"layout-component":NRe},props:{cellData:{type:Object,required:!0},completions:{type:Object,required:!0}},inheritAttrs:!1,emits:["componentValueChange","runCode","deleteCell","createCell","saveCell","copilotCompletion"],data(){return{isFocused:!1,copilotSuggestion:"",copilotAccepted:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},setup(){const t=us(null);return{view:t,handleReady:r=>{t.value=r.view}}},computed:{isAppRoute(){return YT().path==="/app"},isMobile(){return this.$vuetify.display.mobile},extensions(){const t=()=>{this.runCode(!1,"","")},e=RO.of([{key:"Ctrl-Enter",run:()=>(this.$devMode&&t(),!0)},{key:"Tab",run:()=>(this.copilotSuggestion&&(this.copilotAccepted=!0),!1)}]),r=async i=>{if(bae.copilot_active){this.copilotSuggestion&&(this.copilotAccepted?(await Tf.post("copilot/accept_completion",{uuid:this.copilotSuggestion}),this.copilotAccepted=!1):await Tf.post("copilot/reject_completion",{uuid:this.copilotSuggestion}),this.copilotSuggestion="");const f=i.selection.main.head,d=i.doc.lineAt(f).number,h=f-i.doc.line(d).from,c=new Promise((g,v)=>{this.$emit("copilotCompletion",this.cellData.id,d,h,y=>{g(y)})});try{const g=await c;if(g.status===200&&g.data.completions.length>0)return this.copilotSuggestion=g.data.completions[0].uuid,g.data.completions[0].displayText}catch(g){console.log("Error fetching suggestion:",g)}}return""},a=async i=>{const f=i.matchBefore(/\w*/);return{from:f?f.from:i.pos,options:this.completions.map(h=>({label:h.label,type:h.type,apply:(c,g,v,y)=>{const b=g.label;c.dispatch({changes:{from:v,to:y??i.pos,insert:b}})}}))}};return this.$devMode?[Og.highest(e),jhe(),XT.of("    "),O8,aDe({fetchFn:r,delay:400}),zT({override:[a]})]:[Na.readOnly.of(!0),Og.highest(e),jhe(),O8,zT({override:[a]})]},columns(){var t;return((t=this.cellData.layout)==null?void 0:t.columns)||[]},unplacedComponents(){var a,i;const t=f=>{let d=[];for(const h of f)for(const c of(h==null?void 0:h.components)??[])typeof c=="string"?d.push(c):c&&c.components&&(d=d.concat(t([c])));return d},e=f=>{let d=[];for(const h of f)h.component==="v-card"&&d.push.apply(d,Object.values(h.cardChildren));return d},r=t(((a=this.cellData.layout)==null?void 0:a.rows)??[]).concat(t(((i=this.cellData.layout)==null?void 0:i.columns)??[])).concat(e(this.cellData.components));return this.cellData.components.filter(f=>!r.includes(f.id))}},mounted(){},methods:{runCode(t,e,r){!this.$devMode&&t?this.$emit("componentValueChange",this.cellData.id,e,r):this.$emit("runCode",this.cellData.id,e)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},componentBind(t){if(t.component&&t.component==="v-autocomplete"){const{value:e,...r}=t;return this.convertUnderscoresToHyphens(r)}return this.convertUnderscoresToHyphens(t)},convertUnderscoresToHyphens(t){return Object.entries(t).reduce((e,[r,a])=>{const i=r.replace(/_/g,"-");return e[i]=a,e},{})},clickedButton(t){t.component==="v-btn"&&(t.value=!0)},findComponentById(t){return this.cellData.components.find(r=>r.id===t)},cardComponents(t){const e=[];for(const r in t.cardChildren)e.push(this.findComponentById(t.cardChildren[r]));return e},createCell(t){this.$emit("createCell",this.cellData.id,t)},saveCell(){var a,i,f,d;if(!this.$devMode||!((a=this.view)!=null&&a.hasFocus))return;const t=(i=this.view)==null?void 0:i.state.selection.main.head,e=(f=this.view)==null?void 0:f.state.doc.lineAt(t).number,r=t-((d=this.view)==null?void 0:d.state.doc.line(e).from);this.$emit("saveCell",this.cellData.id,this.cellData.code,e,r)}}};const lDe=t=>(qpe("data-v-71fef09d"),t=t(),Kpe(),t),cDe={key:2},uDe=lDe(()=>Ya("p",{class:"text-caption text-disabled text-right"}," CTRL+Enter to run",-1)),fDe=[uDe],dDe=["id"],hDe=["id"];function mDe(t,e,r,a,i,f){const d=Kf("codemirror"),h=Kf("layout-component"),c=Kf("plotly-plot"),g=Kf("cell");return zr(),fs(g,{"cell-id":r.cellData.id,"cell-type":"code","hide-cell":r.cellData.hideCell,"hide-code":r.cellData.hideCode,"cell-name":r.cellData.cellName,"is-dev-mode":t.$devMode&&!f.isAppRoute&&!f.isMobile,onPlay:e[2]||(e[2]=v=>f.runCode(!1,"","")),onDelete:f.deleteCell,onAddCell:e[3]||(e[3]=v=>f.createCell(v))},{code:so(()=>[t.$devMode&&!f.isAppRoute&&!f.isMobile?(zr(),fs(d,{key:0,modelValue:r.cellData.code,"onUpdate:modelValue":e[0]||(e[0]=v=>r.cellData.code=v),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:f.extensions,onReady:a.handleReady,onKeyup:f.saveCell,code:r.cellData.code,id:"codeMirrorDev"+r.cellData.id},null,8,["modelValue","extensions","onReady","onKeyup","code","id"])):(zr(),fs(vOe,{key:1},{default:so(()=>[at(bOe,{"bg-color":"#212121"},{default:so(()=>[at(zle,{color:"#1c2e3c"},{default:so(()=>[xl(" View Source Code ")]),_:1}),at(Vle,null,{default:so(()=>[at(d,{modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=v=>r.cellData.code=v),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:f.extensions,id:"codeMirrorApp"+r.cellData.id},null,8,["modelValue","extensions","id"])]),_:1})]),_:1})]),_:1})),t.$devMode&&!f.isAppRoute&&!f.isMobile?(zr(),Js("div",cDe,fDe)):Ja("",!0)]),outcome:so(()=>{var v,y,b,O;return[Ya("div",{id:"outputContainer_"+r.cellData.id},[(y=(v=r.cellData.layout)==null?void 0:v.rows)!=null&&y.length?(zr(!0),Js(es,{key:0},lm((b=r.cellData.layout)==null?void 0:b.rows,(T,k)=>(zr(),fs(h,{key:k,"row-data":T,components:r.cellData.components,onRunCode:f.runCode},null,8,["row-data","components","onRunCode"]))),128)):Ja("",!0),(O=f.columns)!=null&&O.length?(zr(),fs(yae,{key:1},{default:so(()=>[(zr(!0),Js(es,null,lm(f.columns,(T,k)=>(zr(),fs(Zle,{cols:T.width},{default:so(()=>[(zr(),fs(h,{key:k,"column-data":T,components:r.cellData.components,onRunCode:f.runCode},null,8,["column-data","components","onRunCode"]))]),_:2},1032,["cols"]))),256))]),_:1})):Ja("",!0),f.unplacedComponents.length?(zr(),fs(yae,{key:2,id:"unplacedComponents"+r.cellData.id},{default:so(()=>[(zr(!0),Js(es,null,lm(f.unplacedComponents,T=>(zr(),fs(tU,{class:"pa-5",key:T.id},{default:so(()=>[T.component==="plotly-plot"?(zr(),fs(c,{key:0,id:T.id,figure:T.figure,layout:T.layout},null,8,["id","figure","layout"])):T.component==="v-card"?(zr(),fs(gg(T.component),ts({key:1},f.componentBind(T),{position:"relative",onRunCode:f.runCode}),{default:so(()=>[(zr(!0),Js(es,null,lm(f.cardComponents(T),k=>(zr(),Js("div",null,[k.component==="plotly-plot"?(zr(),fs(c,{key:0,id:T.id,figure:k.figure,layout:k.layout},null,8,["id","figure","layout"])):(zr(),fs(gg(k.component),ts({key:1},f.componentBind(k),{modelValue:k.value,"onUpdate:modelValue":w=>k.value=w,onClick:w=>f.clickedButton(k)},{[G0(k.triggerEvent)]:w=>f.runCode(!0,k.id,k.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040,["onRunCode"])):(zr(),fs(gg(T.component),ts({key:2},f.componentBind(T),{modelValue:T.value,"onUpdate:modelValue":k=>T.value=k,onClick:k=>f.clickedButton(T)},{[G0(T.triggerEvent)]:k=>f.runCode(!0,T.id,T.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]),_:2},1024))),128))]),_:1},8,["id"])):Ja("",!0),Ya("pre",{id:"cellOutput"+r.cellData.id},Pd(r.cellData.output),9,hDe)],8,dDe)]}),_:1},8,["cell-id","hide-cell","hide-code","cell-name","is-dev-mode","onDelete"])}const qOe=wg(iDe,[["render",mDe],["__scopeId","data-v-71fef09d"]]);function jle(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let n5=jle();function KOe(t){n5=t}const JOe=/[&<>"']/,gDe=new RegExp(JOe.source,"g"),e2e=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,pDe=new RegExp(e2e.source,"g"),vDe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jme=t=>vDe[t];function mg(t,e){if(e){if(JOe.test(t))return t.replace(gDe,Jme)}else if(e2e.test(t))return t.replace(pDe,Jme);return t}const yDe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function bDe(t){return t.replace(yDe,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const ODe=/(^|[^\[])\^/g;function Zi(t,e){t=typeof t=="string"?t:t.source,e=e||"";const r={replace:(a,i)=>(i=typeof i=="object"&&"source"in i?i.source:i,i=i.replace(ODe,"$1"),t=t.replace(a,i),r),getRegex:()=>new RegExp(t,e)};return r}function ege(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const nU={exec:()=>null};function tge(t,e){const r=t.replace(/\|/g,(f,d,h)=>{let c=!1,g=d;for(;--g>=0&&h[g]==="\\";)c=!c;return c?"|":" |"}),a=r.split(/ \|/);let i=0;if(a[0].trim()||a.shift(),a.length>0&&!a[a.length-1].trim()&&a.pop(),e)if(a.length>e)a.splice(e);else for(;a.length<e;)a.push("");for(;i<a.length;i++)a[i]=a[i].trim().replace(/\\\|/g,"|");return a}function LZ(t,e,r){const a=t.length;if(a===0)return"";let i=0;for(;i<a;){const f=t.charAt(a-i-1);if(f===e&&!r)i++;else if(f!==e&&r)i++;else break}return t.slice(0,a-i)}function xDe(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let a=0;a<t.length;a++)if(t[a]==="\\")a++;else if(t[a]===e[0])r++;else if(t[a]===e[1]&&(r--,r<0))return a;return-1}function nge(t,e,r,a){const i=e.href,f=e.title?mg(e.title):null,d=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){a.state.inLink=!0;const h={type:"link",raw:r,href:i,title:f,text:d,tokens:a.inlineTokens(d)};return a.state.inLink=!1,h}return{type:"image",raw:r,href:i,title:f,text:mg(d)}}function SDe(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const a=r[1];return e.split(`
`).map(i=>{const f=i.match(/^\s+/);if(f===null)return i;const[d]=f;return d.length>=a.length?i.slice(a.length):i}).join(`
`)}class rU{constructor(e){Zl(this,"options");Zl(this,"rules");Zl(this,"lexer");this.options=e||n5}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const a=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?a:LZ(a,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const a=r[0],i=SDe(a,r[3]||"");return{type:"code",raw:a,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:i}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let a=r[2].trim();if(/#$/.test(a)){const i=LZ(a,"#");(this.options.pedantic||!i||/ $/.test(i))&&(a=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:a,tokens:this.lexer.inline(a)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:r[0]}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){const a=LZ(r[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const f=this.lexer.blockTokens(a);return this.lexer.state.top=i,{type:"blockquote",raw:r[0],tokens:f,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let a=r[1].trim();const i=a.length>1,f={type:"list",raw:"",ordered:i,start:i?+a.slice(0,-1):"",loose:!1,items:[]};a=i?`\\d{1,9}\\${a.slice(-1)}`:`\\${a}`,this.options.pedantic&&(a=i?a:"[*+-]");const d=new RegExp(`^( {0,3}${a})((?:[	 ][^\\n]*)?(?:\\n|$))`);let h="",c="",g=!1;for(;e;){let v=!1;if(!(r=d.exec(e))||this.rules.block.hr.test(e))break;h=r[0],e=e.substring(h.length);let y=r[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),b=e.split(`
`,1)[0],O=0;this.options.pedantic?(O=2,c=y.trimStart()):(O=r[2].search(/[^ ]/),O=O>4?1:O,c=y.slice(O),O+=r[1].length);let T=!1;if(!y&&/^ *$/.test(b)&&(h+=b+`
`,e=e.substring(b.length+1),v=!0),!v){const C=new RegExp(`^ {0,${Math.min(3,O-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),_=new RegExp(`^ {0,${Math.min(3,O-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),M=new RegExp(`^ {0,${Math.min(3,O-1)}}(?:\`\`\`|~~~)`),I=new RegExp(`^ {0,${Math.min(3,O-1)}}#`);for(;e;){const V=e.split(`
`,1)[0];if(b=V,this.options.pedantic&&(b=b.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),M.test(b)||I.test(b)||C.test(b)||_.test(e))break;if(b.search(/[^ ]/)>=O||!b.trim())c+=`
`+b.slice(O);else{if(T||y.search(/[^ ]/)>=4||M.test(y)||I.test(y)||_.test(y))break;c+=`
`+b}!T&&!b.trim()&&(T=!0),h+=V+`
`,e=e.substring(V.length+1),y=b.slice(O)}}f.loose||(g?f.loose=!0:/\n *\n *$/.test(h)&&(g=!0));let k=null,w;this.options.gfm&&(k=/^\[[ xX]\] /.exec(c),k&&(w=k[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:h,task:!!k,checked:w,loose:!1,text:c,tokens:[]}),f.raw+=h}f.items[f.items.length-1].raw=h.trimEnd(),f.items[f.items.length-1].text=c.trimEnd(),f.raw=f.raw.trimEnd();for(let v=0;v<f.items.length;v++)if(this.lexer.state.top=!1,f.items[v].tokens=this.lexer.blockTokens(f.items[v].text,[]),!f.loose){const y=f.items[v].tokens.filter(O=>O.type==="space"),b=y.length>0&&y.some(O=>/\n.*\n/.test(O.raw));f.loose=b}if(f.loose)for(let v=0;v<f.items.length;v++)f.items[v].loose=!0;return f}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const a=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",f=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:a,raw:r[0],href:i,title:f}}}table(e){const r=this.rules.block.table.exec(e);if(r){if(!/[:|]/.test(r[2]))return;const a={type:"table",raw:r[0],header:tge(r[1]).map(i=>({text:i,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(a.header.length===a.align.length){let i=a.align.length,f,d,h,c;for(f=0;f<i;f++){const g=a.align[f];g&&(/^ *-+: *$/.test(g)?a.align[f]="right":/^ *:-+: *$/.test(g)?a.align[f]="center":/^ *:-+ *$/.test(g)?a.align[f]="left":a.align[f]=null)}for(i=a.rows.length,f=0;f<i;f++)a.rows[f]=tge(a.rows[f],a.header.length).map(g=>({text:g,tokens:[]}));for(i=a.header.length,d=0;d<i;d++)a.header[d].tokens=this.lexer.inline(a.header[d].text);for(i=a.rows.length,d=0;d<i;d++)for(c=a.rows[d],h=0;h<c.length;h++)c[h].tokens=this.lexer.inline(c[h].text);return a}}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const a=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:a,tokens:this.lexer.inline(a)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:mg(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const a=r[2].trim();if(!this.options.pedantic&&/^</.test(a)){if(!/>$/.test(a))return;const d=LZ(a.slice(0,-1),"\\");if((a.length-d.length)%2===0)return}else{const d=xDe(r[2],"()");if(d>-1){const c=(r[0].indexOf("!")===0?5:4)+r[1].length+d;r[2]=r[2].substring(0,d),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let i=r[2],f="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);d&&(i=d[1],f=d[3])}else f=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(a)?i=i.slice(1):i=i.slice(1,-1)),nge(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:f&&f.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(e,r){let a;if((a=this.rules.inline.reflink.exec(e))||(a=this.rules.inline.nolink.exec(e))){let i=(a[2]||a[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i){const f=a[0].charAt(0);return{type:"text",raw:f,text:f}}return nge(a,i,a[0],this.lexer)}}emStrong(e,r,a=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&a.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!a||this.rules.inline.punctuation.exec(a)){const d=[...i[0]].length-1;let h,c,g=d,v=0;const y=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,r=r.slice(-1*e.length+d);(i=y.exec(r))!=null;){if(h=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!h)continue;if(c=[...h].length,i[3]||i[4]){g+=c;continue}else if((i[5]||i[6])&&d%3&&!((d+c)%3)){v+=c;continue}if(g-=c,g>0)continue;c=Math.min(c,c+g+v);const b=[...i[0]][0].length,O=e.slice(0,d+i.index+b+c);if(Math.min(d,c)%2){const k=O.slice(1,-1);return{type:"em",raw:O,text:k,tokens:this.lexer.inlineTokens(k)}}const T=O.slice(2,-2);return{type:"strong",raw:O,text:T,tokens:this.lexer.inlineTokens(T)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let a=r[2].replace(/\n/g," ");const i=/[^ ]/.test(a),f=/^ /.test(a)&&/ $/.test(a);return i&&f&&(a=a.substring(1,a.length-1)),a=mg(a,!0),{type:"codespan",raw:r[0],text:a}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let a,i;return r[2]==="@"?(a=mg(r[1]),i="mailto:"+a):(a=mg(r[1]),i=a),{type:"link",raw:r[0],text:a,href:i,tokens:[{type:"text",raw:a,text:a}]}}}url(e){let r;if(r=this.rules.inline.url.exec(e)){let a,i;if(r[2]==="@")a=mg(r[0]),i="mailto:"+a;else{let f;do f=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(f!==r[0]);a=mg(r[0]),r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:a,href:i,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let a;return this.lexer.state.inRawBlock?a=r[0]:a=mg(r[0]),{type:"text",raw:r[0],text:a}}}}const Es={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:nU,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Es._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Es._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Es.def=Zi(Es.def).replace("label",Es._label).replace("title",Es._title).getRegex();Es.bullet=/(?:[*+-]|\d{1,9}[.)])/;Es.listItemStart=Zi(/^( *)(bull) */).replace("bull",Es.bullet).getRegex();Es.list=Zi(Es.list).replace(/bull/g,Es.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Es.def.source+")").getRegex();Es._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Es._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Es.html=Zi(Es.html,"i").replace("comment",Es._comment).replace("tag",Es._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Es.lheading=Zi(Es.lheading).replace(/bull/g,Es.bullet).getRegex();Es.paragraph=Zi(Es._paragraph).replace("hr",Es.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Es._tag).getRegex();Es.blockquote=Zi(Es.blockquote).replace("paragraph",Es.paragraph).getRegex();Es.normal={...Es};Es.gfm={...Es.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Es.gfm.table=Zi(Es.gfm.table).replace("hr",Es.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Es._tag).getRegex();Es.gfm.paragraph=Zi(Es._paragraph).replace("hr",Es.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Es.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Es._tag).getRegex();Es.pedantic={...Es.normal,html:Zi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Es._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:nU,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Zi(Es.normal._paragraph).replace("hr",Es.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Es.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Zo={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:nU,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:nU,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Zo._punctuation="\\p{P}$+<=>`^|~";Zo.punctuation=Zi(Zo.punctuation,"u").replace(/punctuation/g,Zo._punctuation).getRegex();Zo.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Zo.anyPunctuation=/\\[punct]/g;Zo._escapes=/\\([punct])/g;Zo._comment=Zi(Es._comment).replace("(?:-->|$)","-->").getRegex();Zo.emStrong.lDelim=Zi(Zo.emStrong.lDelim,"u").replace(/punct/g,Zo._punctuation).getRegex();Zo.emStrong.rDelimAst=Zi(Zo.emStrong.rDelimAst,"gu").replace(/punct/g,Zo._punctuation).getRegex();Zo.emStrong.rDelimUnd=Zi(Zo.emStrong.rDelimUnd,"gu").replace(/punct/g,Zo._punctuation).getRegex();Zo.anyPunctuation=Zi(Zo.anyPunctuation,"gu").replace(/punct/g,Zo._punctuation).getRegex();Zo._escapes=Zi(Zo._escapes,"gu").replace(/punct/g,Zo._punctuation).getRegex();Zo._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Zo._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Zo.autolink=Zi(Zo.autolink).replace("scheme",Zo._scheme).replace("email",Zo._email).getRegex();Zo._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Zo.tag=Zi(Zo.tag).replace("comment",Zo._comment).replace("attribute",Zo._attribute).getRegex();Zo._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Zo._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Zo._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Zo.link=Zi(Zo.link).replace("label",Zo._label).replace("href",Zo._href).replace("title",Zo._title).getRegex();Zo.reflink=Zi(Zo.reflink).replace("label",Zo._label).replace("ref",Es._label).getRegex();Zo.nolink=Zi(Zo.nolink).replace("ref",Es._label).getRegex();Zo.reflinkSearch=Zi(Zo.reflinkSearch,"g").replace("reflink",Zo.reflink).replace("nolink",Zo.nolink).getRegex();Zo.normal={...Zo};Zo.pedantic={...Zo.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Zi(/^!?\[(label)\]\((.*?)\)/).replace("label",Zo._label).getRegex(),reflink:Zi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zo._label).getRegex()};Zo.gfm={...Zo.normal,escape:Zi(Zo.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Zo.gfm.url=Zi(Zo.gfm.url,"i").replace("email",Zo.gfm._extended_email).getRegex();Zo.breaks={...Zo.gfm,br:Zi(Zo.br).replace("{2,}","*").getRegex(),text:Zi(Zo.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ey{constructor(e){Zl(this,"tokens");Zl(this,"options");Zl(this,"state");Zl(this,"tokenizer");Zl(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||n5,this.options.tokenizer=this.options.tokenizer||new rU,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Es.normal,inline:Zo.normal};this.options.pedantic?(r.block=Es.pedantic,r.inline=Zo.pedantic):this.options.gfm&&(r.block=Es.gfm,this.options.breaks?r.inline=Zo.breaks:r.inline=Zo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Es,inline:Zo}}static lex(e,r){return new ey(r).lex(e)}static lexInline(e,r){return new ey(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(e,r=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(h,c,g)=>c+"    ".repeat(g.length));let a,i,f,d;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(h=>(a=h.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))){if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length),a.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+a.raw,i.text+=`
`+a.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),r.push(a);continue}if(f=e,this.options.extensions&&this.options.extensions.startBlock){let h=1/0;const c=e.slice(1);let g;this.options.extensions.startBlock.forEach(v=>{g=v.call({lexer:this},c),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(f=e.substring(0,h+1))}if(this.state.top&&(a=this.tokenizer.paragraph(f))){i=r[r.length-1],d&&i.type==="paragraph"?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a),d=f.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(a);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let a,i,f,d=e,h,c,g;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(h=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)v.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(h=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(h=this.tokenizer.rules.inline.anyPunctuation.exec(d))!=null;)d=d.slice(0,h.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(g=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(a=v.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))){if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),i=r[r.length-1],i&&a.type==="text"&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length),i=r[r.length-1],i&&a.type==="text"&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(a=this.tokenizer.emStrong(e,d,g)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),r.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),r.push(a);continue}if(f=e,this.options.extensions&&this.options.extensions.startInline){let v=1/0;const y=e.slice(1);let b;this.options.extensions.startInline.forEach(O=>{b=O.call({lexer:this},y),typeof b=="number"&&b>=0&&(v=Math.min(v,b))}),v<1/0&&v>=0&&(f=e.substring(0,v+1))}if(a=this.tokenizer.inlineText(f)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(g=a.raw.slice(-1)),c=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=a.raw,i.text+=a.text):r.push(a);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return r}}class oU{constructor(e){Zl(this,"options");this.options=e||n5}code(e,r,a){var f;const i=(f=(r||"").match(/^\S*/))==null?void 0:f[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+mg(i)+'">'+(a?e:mg(e,!0))+`</code></pre>
`:"<pre><code>"+(a?e:mg(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,r){return e}heading(e,r,a){return`<h${r}>${e}</h${r}>
`}hr(){return`<hr>
`}list(e,r,a){const i=r?"ol":"ul",f=r&&a!==1?' start="'+a+'"':"";return"<"+i+f+`>
`+e+"</"+i+`>
`}listitem(e,r,a){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,r){const a=r.header?"th":"td";return(r.align?`<${a} align="${r.align}">`:`<${a}>`)+e+`</${a}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,r,a){const i=ege(e);if(i===null)return a;e=i;let f='<a href="'+e+'"';return r&&(f+=' title="'+r+'"'),f+=">"+a+"</a>",f}image(e,r,a){const i=ege(e);if(i===null)return a;e=i;let f=`<img src="${e}" alt="${a}"`;return r&&(f+=` title="${r}"`),f+=">",f}text(e){return e}}class qle{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,r,a){return""+a}image(e,r,a){return""+a}br(){return""}}class ty{constructor(e){Zl(this,"options");Zl(this,"renderer");Zl(this,"textRenderer");this.options=e||n5,this.options.renderer=this.options.renderer||new oU,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qle}static parse(e,r){return new ty(r).parse(e)}static parseInline(e,r){return new ty(r).parseInline(e)}parse(e,r=!0){let a="";for(let i=0;i<e.length;i++){const f=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]){const d=f,h=this.options.extensions.renderers[d.type].call({parser:this},d);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){a+=h||"";continue}}switch(f.type){case"space":continue;case"hr":{a+=this.renderer.hr();continue}case"heading":{const d=f;a+=this.renderer.heading(this.parseInline(d.tokens),d.depth,bDe(this.parseInline(d.tokens,this.textRenderer)));continue}case"code":{const d=f;a+=this.renderer.code(d.text,d.lang,!!d.escaped);continue}case"table":{const d=f;let h="",c="";for(let v=0;v<d.header.length;v++)c+=this.renderer.tablecell(this.parseInline(d.header[v].tokens),{header:!0,align:d.align[v]});h+=this.renderer.tablerow(c);let g="";for(let v=0;v<d.rows.length;v++){const y=d.rows[v];c="";for(let b=0;b<y.length;b++)c+=this.renderer.tablecell(this.parseInline(y[b].tokens),{header:!1,align:d.align[b]});g+=this.renderer.tablerow(c)}a+=this.renderer.table(h,g);continue}case"blockquote":{const d=f,h=this.parse(d.tokens);a+=this.renderer.blockquote(h);continue}case"list":{const d=f,h=d.ordered,c=d.start,g=d.loose;let v="";for(let y=0;y<d.items.length;y++){const b=d.items[y],O=b.checked,T=b.task;let k="";if(b.task){const w=this.renderer.checkbox(!!O);g?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=w+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=w+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:w+" "}):k+=w+" "}k+=this.parse(b.tokens,g),v+=this.renderer.listitem(k,T,!!O)}a+=this.renderer.list(v,h,c);continue}case"html":{const d=f;a+=this.renderer.html(d.text,d.block);continue}case"paragraph":{const d=f;a+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{let d=f,h=d.tokens?this.parseInline(d.tokens):d.text;for(;i+1<e.length&&e[i+1].type==="text";)d=e[++i],h+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);a+=r?this.renderer.paragraph(h):h;continue}default:{const d='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return a}parseInline(e,r){r=r||this.renderer;let a="";for(let i=0;i<e.length;i++){const f=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]){const d=this.options.extensions.renderers[f.type].call({parser:this},f);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(f.type)){a+=d||"";continue}}switch(f.type){case"escape":{const d=f;a+=r.text(d.text);break}case"html":{const d=f;a+=r.html(d.text);break}case"link":{const d=f;a+=r.link(d.href,d.title,this.parseInline(d.tokens,r));break}case"image":{const d=f;a+=r.image(d.href,d.title,d.text);break}case"strong":{const d=f;a+=r.strong(this.parseInline(d.tokens,r));break}case"em":{const d=f;a+=r.em(this.parseInline(d.tokens,r));break}case"codespan":{const d=f;a+=r.codespan(d.text);break}case"br":{a+=r.br();break}case"del":{const d=f;a+=r.del(this.parseInline(d.tokens,r));break}case"text":{const d=f;a+=r.text(d.text);break}default:{const d='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return a}}class nD{constructor(e){Zl(this,"options");this.options=e||n5}preprocess(e){return e}postprocess(e){return e}}Zl(nD,"passThroughHooks",new Set(["preprocess","postprocess"]));var ZD,Oae,fU,t2e;class wDe{constructor(...e){Are(this,ZD);Are(this,fU);Zl(this,"defaults",jle());Zl(this,"options",this.setOptions);Zl(this,"parse",Kz(this,ZD,Oae).call(this,ey.lex,ty.parse));Zl(this,"parseInline",Kz(this,ZD,Oae).call(this,ey.lexInline,ty.parseInline));Zl(this,"Parser",ty);Zl(this,"Renderer",oU);Zl(this,"TextRenderer",qle);Zl(this,"Lexer",ey);Zl(this,"Tokenizer",rU);Zl(this,"Hooks",nD);this.use(...e)}walkTokens(e,r){var i,f;let a=[];for(const d of e)switch(a=a.concat(r.call(this,d)),d.type){case"table":{const h=d;for(const c of h.header)a=a.concat(this.walkTokens(c.tokens,r));for(const c of h.rows)for(const g of c)a=a.concat(this.walkTokens(g.tokens,r));break}case"list":{const h=d;a=a.concat(this.walkTokens(h.items,r));break}default:{const h=d;(f=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&f[h.type]?this.defaults.extensions.childTokens[h.type].forEach(c=>{a=a.concat(this.walkTokens(h[c],r))}):h.tokens&&(a=a.concat(this.walkTokens(h.tokens,r)))}}return a}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(a=>{const i={...a};if(i.async=this.defaults.async||i.async||!1,a.extensions&&(a.extensions.forEach(f=>{if(!f.name)throw new Error("extension name required");if("renderer"in f){const d=r.renderers[f.name];d?r.renderers[f.name]=function(...h){let c=f.renderer.apply(this,h);return c===!1&&(c=d.apply(this,h)),c}:r.renderers[f.name]=f.renderer}if("tokenizer"in f){if(!f.level||f.level!=="block"&&f.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=r[f.level];d?d.unshift(f.tokenizer):r[f.level]=[f.tokenizer],f.start&&(f.level==="block"?r.startBlock?r.startBlock.push(f.start):r.startBlock=[f.start]:f.level==="inline"&&(r.startInline?r.startInline.push(f.start):r.startInline=[f.start]))}"childTokens"in f&&f.childTokens&&(r.childTokens[f.name]=f.childTokens)}),i.extensions=r),a.renderer){const f=this.defaults.renderer||new oU(this.defaults);for(const d in a.renderer){const h=a.renderer[d],c=d,g=f[c];f[c]=(...v)=>{let y=h.apply(f,v);return y===!1&&(y=g.apply(f,v)),y||""}}i.renderer=f}if(a.tokenizer){const f=this.defaults.tokenizer||new rU(this.defaults);for(const d in a.tokenizer){const h=a.tokenizer[d],c=d,g=f[c];f[c]=(...v)=>{let y=h.apply(f,v);return y===!1&&(y=g.apply(f,v)),y}}i.tokenizer=f}if(a.hooks){const f=this.defaults.hooks||new nD;for(const d in a.hooks){const h=a.hooks[d],c=d,g=f[c];nD.passThroughHooks.has(d)?f[c]=v=>{if(this.defaults.async)return Promise.resolve(h.call(f,v)).then(b=>g.call(f,b));const y=h.call(f,v);return g.call(f,y)}:f[c]=(...v)=>{let y=h.apply(f,v);return y===!1&&(y=g.apply(f,v)),y}}i.hooks=f}if(a.walkTokens){const f=this.defaults.walkTokens,d=a.walkTokens;i.walkTokens=function(h){let c=[];return c.push(d.call(this,h)),f&&(c=c.concat(f.call(this,h))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return ey.lex(e,r??this.defaults)}parser(e,r){return ty.parse(e,r??this.defaults)}}ZD=new WeakSet,Oae=function(e,r){return(a,i)=>{const f={...i},d={...this.defaults,...f};this.defaults.async===!0&&f.async===!1&&(d.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),d.async=!0);const h=Kz(this,fU,t2e).call(this,!!d.silent,!!d.async);if(typeof a>"u"||a===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof a!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected"));if(d.hooks&&(d.hooks.options=d),d.async)return Promise.resolve(d.hooks?d.hooks.preprocess(a):a).then(c=>e(c,d)).then(c=>d.walkTokens?Promise.all(this.walkTokens(c,d.walkTokens)).then(()=>c):c).then(c=>r(c,d)).then(c=>d.hooks?d.hooks.postprocess(c):c).catch(h);try{d.hooks&&(a=d.hooks.preprocess(a));const c=e(a,d);d.walkTokens&&this.walkTokens(c,d.walkTokens);let g=r(c,d);return d.hooks&&(g=d.hooks.postprocess(g)),g}catch(c){return h(c)}}},fU=new WeakSet,t2e=function(e,r){return a=>{if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+mg(a.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(a);throw a}};const WT=new wDe;function el(t,e){return WT.parse(t,e)}el.options=el.setOptions=function(t){return WT.setOptions(t),el.defaults=WT.defaults,KOe(el.defaults),el};el.getDefaults=jle;el.defaults=n5;el.use=function(...t){return WT.use(...t),el.defaults=WT.defaults,KOe(el.defaults),el};el.walkTokens=function(t,e){return WT.walkTokens(t,e)};el.parseInline=WT.parseInline;el.Parser=ty;el.parser=ty.parse;el.Renderer=oU;el.TextRenderer=qle;el.Lexer=ey;el.lexer=ey.lex;el.Tokenizer=rU;el.Hooks=nD;el.parse=el;el.options;el.setOptions;el.use;el.walkTokens;el.parseInline;ty.parse;ey.lex;class sU{static create(e,r,a,i,f){let d=i+(i<<8)+e+(r<<4)|0;return new sU(e,r,a,d,f,[],[])}constructor(e,r,a,i,f,d,h){this.type=e,this.value=r,this.from=a,this.hash=i,this.end=f,this.children=d,this.positions=h,this.hashProp=[[ha.contextHash,i]]}addChild(e,r){e.prop(ha.contextHash)!=this.hash&&(e=new zi(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(r)}toTree(e,r=this.end){let a=this.children.length-1;return a>=0&&(r=Math.max(r,this.positions[a]+this.children[a].length+this.from)),new zi(e.types[this.type],this.children,this.positions,r-this.from).balance({makeTree:(i,f,d)=>new zi(Zu.none,i,f,d,this.hashProp)})}}var Oo;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.URL=33]="URL",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel"})(Oo||(Oo={}));class CDe{constructor(e,r){this.start=e,this.content=r,this.marks=[],this.parsers=[]}}class TDe{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return rD(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,r=0,a=0){for(let i=r;i<e;i++)a+=this.text.charCodeAt(i)==9?4-a%4:1;return a}findColumn(e){let r=0;for(let a=0;r<this.text.length&&a<e;r++)a+=this.text.charCodeAt(r)==9?4-a%4:1;return r}scrub(){if(!this.baseIndent)return this.text;let e="";for(let r=0;r<this.basePos;r++)e+=" ";return e+this.text.slice(this.basePos)}}function rge(t,e,r){if(r.pos==r.text.length||t!=e.block&&r.indent>=e.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let a=(t.type==Oo.OrderedList?ece:Jle)(r,e,!1);return a>0&&(t.type!=Oo.BulletList||Kle(r,e,!1)<0)&&r.text.charCodeAt(r.pos+a-1)==t.value}const n2e={[Oo.Blockquote](t,e,r){return r.next!=62?!1:(r.markers.push(Ri(Oo.QuoteMark,e.lineStart+r.pos,e.lineStart+r.pos+1)),r.moveBase(r.pos+(Zp(r.text.charCodeAt(r.pos+1))?2:1)),t.end=e.lineStart+r.text.length,!0)},[Oo.ListItem](t,e,r){return r.indent<r.baseIndent+t.value&&r.next>-1?!1:(r.moveBaseColumn(r.baseIndent+t.value),!0)},[Oo.OrderedList]:rge,[Oo.BulletList]:rge,[Oo.Document](){return!0}};function Zp(t){return t==32||t==9||t==10||t==13}function rD(t,e=0){for(;e<t.length&&Zp(t.charCodeAt(e));)e++;return e}function oge(t,e,r){for(;e>r&&Zp(t.charCodeAt(e-1));)e--;return e}function r2e(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let r=e;r<t.text.length;r++)if(t.text.charCodeAt(r)==96)return-1}return e}function o2e(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function Kle(t,e,r){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let a=1;for(let i=t.pos+1;i<t.text.length;i++){let f=t.text.charCodeAt(i);if(f==t.next)a++;else if(!Zp(f))return-1}return r&&t.next==45&&i2e(t)>-1&&t.depth==e.stack.length||a<3?-1:1}function s2e(t,e){for(let r=t.stack.length-1;r>=0;r--)if(t.stack[r].type==e)return!0;return!1}function Jle(t,e,r){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||Zp(t.text.charCodeAt(t.pos+1)))&&(!r||s2e(e,Oo.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function ece(t,e,r){let a=t.pos,i=t.next;for(;i>=48&&i<=57;){a++;if(a==t.text.length)return-1;i=t.text.charCodeAt(a)}return a==t.pos||a>t.pos+9||i!=46&&i!=41||a<t.text.length-1&&!Zp(t.text.charCodeAt(a+1))||r&&!s2e(e,Oo.OrderedList)&&(t.skipSpace(a+1)==t.text.length||a>t.pos+1||t.next!=49)?-1:a+1-t.pos}function a2e(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let r=e-t.pos;return r>6?-1:r}function i2e(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let r=e;for(;e<t.text.length&&Zp(t.text.charCodeAt(e));)e++;return e==t.text.length?r:-1}const xae=/^[ \t]*$/,l2e=/-->/,c2e=/\?>/,Sae=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,l2e],[/^\s*<\?/,c2e],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,xae],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,xae]];function u2e(t,e,r){if(t.next!=60)return-1;let a=t.text.slice(t.pos);for(let i=0,f=Sae.length-(r?1:0);i<f;i++)if(Sae[i][0].test(a))return i;return-1}function sge(t,e){let r=t.countIndent(e,t.pos,t.indent),a=t.countIndent(t.skipSpace(e),e,r);return a>=r+5?r+1:a}function OT(t,e,r){let a=t.length-1;a>=0&&t[a].to==e&&t[a].type==Oo.CodeText?t[a].to=r:t.push(Ri(Oo.CodeText,e,r))}const IZ={LinkReference:void 0,IndentedCode(t,e){let r=e.baseIndent+4;if(e.indent<r)return!1;let a=e.findColumn(r),i=t.lineStart+a,f=t.lineStart+e.text.length,d=[],h=[];for(OT(d,i,f);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){OT(h,t.lineStart-1,t.lineStart);for(let c of e.markers)h.push(c)}else{if(e.indent<r)break;{if(h.length){for(let g of h)g.type==Oo.CodeText?OT(d,g.from,g.to):d.push(g);h=[]}OT(d,t.lineStart-1,t.lineStart);for(let g of e.markers)d.push(g);f=t.lineStart+e.text.length;let c=t.lineStart+e.findColumn(e.baseIndent+4);c<f&&OT(d,c,f)}}return h.length&&(h=h.filter(c=>c.type!=Oo.CodeText),h.length&&(e.markers=h.concat(e.markers))),t.addNode(t.buffer.writeElements(d,-i).finish(Oo.CodeBlock,f-i),i),!0},FencedCode(t,e){let r=r2e(e);if(r<0)return!1;let a=t.lineStart+e.pos,i=e.next,f=r-e.pos,d=e.skipSpace(r),h=oge(e.text,e.text.length,d),c=[Ri(Oo.CodeMark,a,a+f)];d<h&&c.push(Ri(Oo.CodeInfo,t.lineStart+d,t.lineStart+h));for(let g=!0;t.nextLine()&&e.depth>=t.stack.length;g=!1){let v=e.pos;if(e.indent-e.baseIndent<4)for(;v<e.text.length&&e.text.charCodeAt(v)==i;)v++;if(v-e.pos>=f&&e.skipSpace(v)==e.text.length){for(let y of e.markers)c.push(y);c.push(Ri(Oo.CodeMark,t.lineStart+e.pos,t.lineStart+v)),t.nextLine();break}else{g||OT(c,t.lineStart-1,t.lineStart);for(let O of e.markers)c.push(O);let y=t.lineStart+e.basePos,b=t.lineStart+e.text.length;y<b&&OT(c,y,b)}}return t.addNode(t.buffer.writeElements(c,-a).finish(Oo.FencedCode,t.prevLineEnd()-a),a),!0},Blockquote(t,e){let r=o2e(e);return r<0?!1:(t.startContext(Oo.Blockquote,e.pos),t.addNode(Oo.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+r),null)},HorizontalRule(t,e){if(Kle(e,t,!1)<0)return!1;let r=t.lineStart+e.pos;return t.nextLine(),t.addNode(Oo.HorizontalRule,r),!0},BulletList(t,e){let r=Jle(e,t,!1);if(r<0)return!1;t.block.type!=Oo.BulletList&&t.startContext(Oo.BulletList,e.basePos,e.next);let a=sge(e,e.pos+1);return t.startContext(Oo.ListItem,e.basePos,a-e.baseIndent),t.addNode(Oo.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+r),e.moveBaseColumn(a),null},OrderedList(t,e){let r=ece(e,t,!1);if(r<0)return!1;t.block.type!=Oo.OrderedList&&t.startContext(Oo.OrderedList,e.basePos,e.text.charCodeAt(e.pos+r-1));let a=sge(e,e.pos+r);return t.startContext(Oo.ListItem,e.basePos,a-e.baseIndent),t.addNode(Oo.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+r),e.moveBaseColumn(a),null},ATXHeading(t,e){let r=a2e(e);if(r<0)return!1;let a=e.pos,i=t.lineStart+a,f=oge(e.text,e.text.length,a),d=f;for(;d>a&&e.text.charCodeAt(d-1)==e.next;)d--;(d==f||d==a||!Zp(e.text.charCodeAt(d-1)))&&(d=e.text.length);let h=t.buffer.write(Oo.HeaderMark,0,r).writeElements(t.parser.parseInline(e.text.slice(a+r+1,d),i+r+1),-i);d<e.text.length&&h.write(Oo.HeaderMark,d-a,f-a);let c=h.finish(Oo.ATXHeading1-1+r,e.text.length-a);return t.nextLine(),t.addNode(c,i),!0},HTMLBlock(t,e){let r=u2e(e,t,!1);if(r<0)return!1;let a=t.lineStart+e.pos,i=Sae[r][1],f=[],d=i!=xae;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){d=!1;break}for(let g of e.markers)f.push(g)}d&&t.nextLine();let h=i==l2e?Oo.CommentBlock:i==c2e?Oo.ProcessingInstructionBlock:Oo.HTMLBlock,c=t.prevLineEnd();return t.addNode(t.buffer.writeElements(f,-a).finish(h,c-a),a),!0},SetextHeading:void 0};class kDe{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,r,a){if(this.stage==-1)return!1;let i=a.content+`
`+r.scrub(),f=this.advance(i);return f>-1&&f<i.length?this.complete(e,a,f):!1}finish(e,r){return(this.stage==2||this.stage==3)&&rD(r.content,this.pos)==r.content.length?this.complete(e,r,r.content.length):!1}complete(e,r,a){return e.addLeafElement(r,Ri(Oo.LinkReference,this.start,this.start+a,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(b2e(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Ri(Oo.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(v2e(e,rD(e,this.pos),this.start)))return-1}else if(this.stage==2){let r=rD(e,this.pos),a=0;if(r>this.pos){let i=y2e(e,r,this.start);if(i){let f=koe(e,i.to-this.start);f>0&&(this.nextStage(i),a=f)}}return a||(a=koe(e,this.pos)),a>0&&a<e.length?a:-1}else return koe(e,this.pos)}}}function koe(t,e){for(;e<t.length;e++){let r=t.charCodeAt(e);if(r==10)break;if(!Zp(r))return-1}return e}class ADe{nextLine(e,r,a){let i=r.depth<e.stack.length?-1:i2e(r),f=r.next;if(i<0)return!1;let d=Ri(Oo.HeaderMark,e.lineStart+r.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(a,Ri(f==61?Oo.SetextHeading1:Oo.SetextHeading2,a.start,e.prevLineEnd(),[...e.parser.parseInline(a.content,a.start),d])),!0}finish(){return!1}}const PDe={LinkReference(t,e){return e.content.charCodeAt(0)==91?new kDe(e):null},SetextHeading(){return new ADe}},MDe=[(t,e)=>a2e(e)>=0,(t,e)=>r2e(e)>=0,(t,e)=>o2e(e)>=0,(t,e)=>Jle(e,t,!0)>=0,(t,e)=>ece(e,t,!0)>=0,(t,e)=>Kle(e,t,!0)>=0,(t,e)=>u2e(e,t,!0)>=0],EDe={text:"",end:0};class _De{constructor(e,r,a,i){this.parser=e,this.input=r,this.ranges=i,this.line=new TDe,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=sU.create(Oo.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=a.length?new LDe(a,r):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(;e.depth<this.stack.length;)this.finishContext();for(let a of e.markers)this.addNode(a.type,a.from,a.to);if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let a of this.parser.blockParsers)if(a){let i=a(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let r=new CDe(this.lineStart+e.pos,e.text.slice(e.pos));for(let a of this.parser.leafBlockParsers)if(a){let i=a(this,r);i&&r.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let a of this.parser.endLeafBlock)if(a(this,e,r))break e}for(let a of r.parsers)if(a.nextLine(this,e,r))return null;r.content+=`
`+e.scrub();for(let a of e.markers)r.marks.push(a)}return this.finishLeaf(r),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let r=this.fragments.takeNodes(this);return r?(this.absoluteLineStart+=r,this.lineStart=O2e(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let r=EDe;if(r.end=e,e>=this.to)r.text="";else if(r.text=this.lineChunkAt(e),r.end+=r.text.length,this.ranges.length>1){let a=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<r.end;){i++;let f=this.ranges[i].from,d=this.lineChunkAt(f);r.end=f+d.length,r.text=r.text.slice(0,this.ranges[i-1].to-a)+d,a=r.end-r.text.length}}return r}readLine(){let{line:e}=this,{text:r,end:a}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=a,e.reset(r);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],f=this.parser.skipContextMarkup[i.type];if(!f)throw new Error("Unhandled block context "+Oo[i.type]);if(!f(i,this,e))break;e.forward()}}lineChunkAt(e){let r=this.input.chunk(e),a;if(this.input.lineChunks)a=r==`
`?"":r;else{let i=r.indexOf(`
`);a=i<0?r:r.slice(0,i)}return e+a.length>this.to?a.slice(0,this.to-e):a}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,r,a=0){this.block=sU.create(e,a,this.lineStart+r,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,r,a=0){this.startContext(this.parser.getNodeType(e),r,a)}addNode(e,r,a){typeof e=="number"&&(e=new zi(this.parser.nodeSet.types[e],k8,k8,(a??this.prevLineEnd())-r)),this.block.addChild(e,r-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,r){this.addNode(this.buffer.writeElements(Cae(r.children,e.marks),-r.from).finish(r.type,r.to-r.from),r.from)}finishContext(){let e=this.stack.pop(),r=this.stack[this.stack.length-1];r.addChild(e.toTree(this.parser.nodeSet),e.from-r.from),this.block=r}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?f2e(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let a of e.parsers)if(a.finish(this,e))return;let r=Cae(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(r,-e.start).finish(Oo.Paragraph,e.content.length),e.start)}elt(e,r,a,i){return typeof e=="string"?Ri(this.parser.getNodeType(e),r,a,i):new m2e(e,r)}get buffer(){return new h2e(this.parser.nodeSet)}}function f2e(t,e,r,a,i){let f=t[e].to,d=[],h=[],c=r.from+a;function g(v,y){for(;y?v>=f:v>f;){let b=t[e+1].from-f;a+=b,v+=b,e++,f=t[e].to}}for(let v=r.firstChild;v;v=v.nextSibling){g(v.from+a,!0);let y=v.from+a,b,O=i.get(v.tree);O?b=O:v.to+a>f?(b=f2e(t,e,v,a,i),g(v.to+a,!1)):b=v.toTree(),d.push(b),h.push(y-c)}return g(r.to+a,!1),new zi(r.type,d,h,r.to+a-c,r.tree?r.tree.propValues:void 0)}class lW extends $ie{constructor(e,r,a,i,f,d,h,c,g){super(),this.nodeSet=e,this.blockParsers=r,this.leafBlockParsers=a,this.blockNames=i,this.endLeafBlock=f,this.skipContextMarkup=d,this.inlineParsers=h,this.inlineNames=c,this.wrappers=g,this.nodeTypes=Object.create(null);for(let v of e.types)this.nodeTypes[v.name]=v.id}createParse(e,r,a){let i=new _De(this,e,r,a);for(let f of this.wrappers)i=f(i,e,r,a);return i}configure(e){let r=wae(e);if(!r)return this;let{nodeSet:a,skipContextMarkup:i}=this,f=this.blockParsers.slice(),d=this.leafBlockParsers.slice(),h=this.blockNames.slice(),c=this.inlineParsers.slice(),g=this.inlineNames.slice(),v=this.endLeafBlock.slice(),y=this.wrappers;if(_R(r.defineNodes)){i=Object.assign({},i);let b=a.types.slice(),O;for(let T of r.defineNodes){let{name:k,block:w,composite:C,style:_}=typeof T=="string"?{name:T}:T;if(b.some(V=>V.name==k))continue;C&&(i[b.length]=(V,N,Q)=>C(N,Q,V.value));let M=b.length,I=C?["Block","BlockContext"]:w?M>=Oo.ATXHeading1&&M<=Oo.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;b.push(Zu.define({id:M,name:k,props:I&&[[ha.group,I]]})),_&&(O||(O={}),Array.isArray(_)||_ instanceof Fv?O[k]=_:Object.assign(O,_))}a=new KD(b),O&&(a=a.extend(QS(O)))}if(_R(r.props)&&(a=a.extend(...r.props)),_R(r.remove))for(let b of r.remove){let O=this.blockNames.indexOf(b),T=this.inlineNames.indexOf(b);O>-1&&(f[O]=d[O]=void 0),T>-1&&(c[T]=void 0)}if(_R(r.parseBlock))for(let b of r.parseBlock){let O=h.indexOf(b.name);if(O>-1)f[O]=b.parse,d[O]=b.leaf;else{let T=b.before?NZ(h,b.before):b.after?NZ(h,b.after)+1:h.length-1;f.splice(T,0,b.parse),d.splice(T,0,b.leaf),h.splice(T,0,b.name)}b.endLeaf&&v.push(b.endLeaf)}if(_R(r.parseInline))for(let b of r.parseInline){let O=g.indexOf(b.name);if(O>-1)c[O]=b.parse;else{let T=b.before?NZ(g,b.before):b.after?NZ(g,b.after)+1:g.length-1;c.splice(T,0,b.parse),g.splice(T,0,b.name)}}return r.wrap&&(y=y.concat(r.wrap)),new lW(a,f,d,h,v,i,c,g,y)}getNodeType(e){let r=this.nodeTypes[e];if(r==null)throw new RangeError(`Unknown node type '${e}'`);return r}parseInline(e,r){let a=new DDe(this,e,r);e:for(let i=r;i<a.end;){let f=a.char(i);for(let d of this.inlineParsers)if(d){let h=d(a,f,i);if(h>=0){i=h;continue e}}i++}return a.resolveMarkers(0)}}function _R(t){return t!=null&&t.length>0}function wae(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=wae(t[0]);if(t.length==1)return e;let r=wae(t.slice(1));if(!r||!e)return e||r;let a=(d,h)=>(d||k8).concat(h||k8),i=e.wrap,f=r.wrap;return{props:a(e.props,r.props),defineNodes:a(e.defineNodes,r.defineNodes),parseBlock:a(e.parseBlock,r.parseBlock),parseInline:a(e.parseInline,r.parseInline),remove:a(e.remove,r.remove),wrap:i?f?(d,h,c,g)=>i(f(d,h,c,g),h,c,g):i:f}}function NZ(t,e){let r=t.indexOf(e);if(r<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return r}let d2e=[Zu.none];for(let t=1,e;e=Oo[t];t++)d2e[t]=Zu.define({id:t,name:e,props:t>=Oo.Escape?[]:[[ha.group,t in n2e?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const k8=[];let h2e=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,r,a,i=0){return this.content.push(e,r,a,4+i*4),this}writeElements(e,r=0){for(let a of e)a.writeTo(this,r);return this}finish(e,r){return zi.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:r})}},QD=class{constructor(e,r,a,i=k8){this.type=e,this.from=r,this.to=a,this.children=i}writeTo(e,r){let a=e.content.length;e.writeElements(this.children,r),e.content.push(this.type,this.from+r,this.to+r,e.content.length+4-a)}toTree(e){return new h2e(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class m2e{constructor(e,r){this.tree=e,this.from=r}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return k8}writeTo(e,r){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+r,this.to+r,-1)}toTree(){return this.tree}}function Ri(t,e,r,a){return new QD(t,e,r,a)}const g2e={resolve:"Emphasis",mark:"EmphasisMark"},p2e={resolve:"Emphasis",mark:"EmphasisMark"},RR={},age={};class Vv{constructor(e,r,a,i){this.type=e,this.from=r,this.to=a,this.side=i}}const ige="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let FD=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{FD=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const Aoe={Escape(t,e,r){if(e!=92||r==t.end-1)return-1;let a=t.char(r+1);for(let i=0;i<ige.length;i++)if(ige.charCodeAt(i)==a)return t.append(Ri(Oo.Escape,r,r+2));return-1},Entity(t,e,r){if(e!=38)return-1;let a=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(r+1,r+31));return a?t.append(Ri(Oo.Entity,r,r+1+a[0].length)):-1},InlineCode(t,e,r){if(e!=96||r&&t.char(r-1)==96)return-1;let a=r+1;for(;a<t.end&&t.char(a)==96;)a++;let i=a-r,f=0;for(;a<t.end;a++)if(t.char(a)==96){if(f++,f==i&&t.char(a+1)!=96)return t.append(Ri(Oo.InlineCode,r,a+1,[Ri(Oo.CodeMark,r,r+i),Ri(Oo.CodeMark,a+1-i,a+1)]))}else f=0;return-1},HTMLTag(t,e,r){if(e!=60||r==t.end-1)return-1;let a=t.slice(r+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(a);if(i)return t.append(Ri(Oo.URL,r,r+1+i[0].length));let f=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(a);if(f)return t.append(Ri(Oo.Comment,r,r+1+f[0].length));let d=/^\?[^]*?\?>/.exec(a);if(d)return t.append(Ri(Oo.ProcessingInstruction,r,r+1+d[0].length));let h=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(a);return h?t.append(Ri(Oo.HTMLTag,r,r+1+h[0].length)):-1},Emphasis(t,e,r){if(e!=95&&e!=42)return-1;let a=r+1;for(;t.char(a)==e;)a++;let i=t.slice(r-1,r),f=t.slice(a,a+1),d=FD.test(i),h=FD.test(f),c=/\s|^$/.test(i),g=/\s|^$/.test(f),v=!g&&(!h||c||d),y=!c&&(!d||g||h),b=v&&(e==42||!y||d),O=y&&(e==42||!v||h);return t.append(new Vv(e==95?g2e:p2e,r,a,(b?1:0)|(O?2:0)))},HardBreak(t,e,r){if(e==92&&t.char(r+1)==10)return t.append(Ri(Oo.HardBreak,r,r+2));if(e==32){let a=r+1;for(;t.char(a)==32;)a++;if(t.char(a)==10&&a>=r+2)return t.append(Ri(Oo.HardBreak,r,a+1))}return-1},Link(t,e,r){return e==91?t.append(new Vv(RR,r,r+1,1)):-1},Image(t,e,r){return e==33&&t.char(r+1)==91?t.append(new Vv(age,r,r+2,1)):-1},LinkEnd(t,e,r){if(e!=93)return-1;for(let a=t.parts.length-1;a>=0;a--){let i=t.parts[a];if(i instanceof Vv&&(i.type==RR||i.type==age)){if(!i.side||t.skipSpace(i.to)==r&&!/[(\[]/.test(t.slice(r+1,r+2)))return t.parts[a]=null,-1;let f=t.takeContent(a),d=t.parts[a]=RDe(t,f,i.type==RR?Oo.Link:Oo.Image,i.from,r+1);if(i.type==RR)for(let h=0;h<a;h++){let c=t.parts[h];c instanceof Vv&&c.type==RR&&(c.side=0)}return d.to}}return-1}};function RDe(t,e,r,a,i){let{text:f}=t,d=t.char(i),h=i;if(e.unshift(Ri(Oo.LinkMark,a,a+(r==Oo.Image?2:1))),e.push(Ri(Oo.LinkMark,i-1,i)),d==40){let c=t.skipSpace(i+1),g=v2e(f,c-t.offset,t.offset),v;g&&(c=t.skipSpace(g.to),v=y2e(f,c-t.offset,t.offset),v&&(c=t.skipSpace(v.to))),t.char(c)==41&&(e.push(Ri(Oo.LinkMark,i,i+1)),h=c+1,g&&e.push(g),v&&e.push(v),e.push(Ri(Oo.LinkMark,c,h)))}else if(d==91){let c=b2e(f,i-t.offset,t.offset,!1);c&&(e.push(c),h=c.to)}return Ri(r,a,h,e)}function v2e(t,e,r){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let f=t.charCodeAt(i);if(f==62)return Ri(Oo.URL,e+r,i+1+r);if(f==60||f==10)return!1}return null}else{let i=0,f=e;for(let d=!1;f<t.length;f++){let h=t.charCodeAt(f);if(Zp(h))break;if(d)d=!1;else if(h==40)i++;else if(h==41){if(!i)break;i--}else h==92&&(d=!0)}return f>e?Ri(Oo.URL,e+r,f+r):f==t.length?null:!1}}function y2e(t,e,r){let a=t.charCodeAt(e);if(a!=39&&a!=34&&a!=40)return!1;let i=a==40?41:a;for(let f=e+1,d=!1;f<t.length;f++){let h=t.charCodeAt(f);if(d)d=!1;else{if(h==i)return Ri(Oo.LinkTitle,e+r,f+1+r);h==92&&(d=!0)}}return null}function b2e(t,e,r,a){for(let i=!1,f=e+1,d=Math.min(t.length,f+999);f<d;f++){let h=t.charCodeAt(f);if(i)i=!1;else{if(h==93)return a?!1:Ri(Oo.LinkLabel,e+r,f+1+r);if(a&&!Zp(h)&&(a=!1),h==91)return!1;h==92&&(i=!0)}}return null}class DDe{constructor(e,r,a){this.parser=e,this.text=r,this.offset=a,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,r){return this.text.slice(e-this.offset,r-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,r,a,i,f){return this.append(new Vv(e,r,a,(i?1:0)|(f?2:0)))}addElement(e){return this.append(e)}resolveMarkers(e){for(let a=e;a<this.parts.length;a++){let i=this.parts[a];if(!(i instanceof Vv&&i.type.resolve&&i.side&2))continue;let f=i.type==g2e||i.type==p2e,d=i.to-i.from,h,c=a-1;for(;c>=e;c--){let k=this.parts[c];if(k instanceof Vv&&k.side&1&&k.type==i.type&&!(f&&(i.side&1||k.side&2)&&(k.to-k.from+d)%3==0&&((k.to-k.from)%3||d%3))){h=k;break}}if(!h)continue;let g=i.type.resolve,v=[],y=h.from,b=i.to;if(f){let k=Math.min(2,h.to-h.from,d);y=h.to-k,b=i.from+k,g=k==1?"Emphasis":"StrongEmphasis"}h.type.mark&&v.push(this.elt(h.type.mark,y,h.to));for(let k=c+1;k<a;k++)this.parts[k]instanceof QD&&v.push(this.parts[k]),this.parts[k]=null;i.type.mark&&v.push(this.elt(i.type.mark,i.from,b));let O=this.elt(g,y,b,v);this.parts[c]=f&&h.from!=y?new Vv(h.type,h.from,y,h.side):null,(this.parts[a]=f&&i.to!=b?new Vv(i.type,b,i.to,i.side):null)?this.parts.splice(a,0,O):this.parts[a]=O}let r=[];for(let a=e;a<this.parts.length;a++){let i=this.parts[a];i instanceof QD&&r.push(i)}return r}findOpeningDelimiter(e){for(let r=this.parts.length-1;r>=0;r--){let a=this.parts[r];if(a instanceof Vv&&a.type==e)return r}return null}takeContent(e){let r=this.resolveMarkers(e);return this.parts.length=e,r}skipSpace(e){return rD(this.text,e-this.offset)+this.offset}elt(e,r,a,i){return typeof e=="string"?Ri(this.parser.getNodeType(e),r,a,i):new m2e(e,r)}}function Cae(t,e){if(!e.length)return t;if(!t.length)return e;let r=t.slice(),a=0;for(let i of e){for(;a<r.length&&r[a].to<i.to;)a++;if(a<r.length&&r[a].from<i.from){let f=r[a];f instanceof QD&&(r[a]=new QD(f.type,f.from,f.to,Cae(f.children,[i])))}else r.splice(a++,0,i)}return r}const $De=[Oo.CodeBlock,Oo.ListItem,Oo.OrderedList,Oo.BulletList];class LDe{constructor(e,r){this.fragments=e,this.input=r,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,r){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let f=this.fragment.to;for(;f>0&&this.input.read(f-1,f)!=`
`;)f--;this.fragmentEnd=f?f-1:0}let a=this.cursor;a||(a=this.cursor=this.fragment.tree.cursor(),a.firstChild());let i=e+this.fragment.offset;for(;a.to<=i;)if(!a.parent())return!1;for(;;){if(a.from>=i)return this.fragment.from<=r;if(!a.childAfter(i))return!1}}matches(e){let r=this.cursor.tree;return r&&r.prop(ha.contextHash)==e}takeNodes(e){let r=this.cursor,a=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),f=e.absoluteLineStart,d=f,h=e.block.children.length,c=d,g=h;for(;;){if(r.to-a>i){if(r.type.isAnonymous&&r.firstChild())continue;break}let v=O2e(r.from-a,e.ranges);if(r.to-a<=e.ranges[e.rangeI].to)e.addNode(r.tree,v);else{let y=new zi(e.parser.nodeSet.types[Oo.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(y,r.tree),e.addNode(y,v)}if(r.type.is("Block")&&($De.indexOf(r.type.id)<0?(d=r.to-a,h=e.block.children.length):(d=c,h=g,c=r.to-a,g=e.block.children.length)),!r.nextSibling())break}for(;e.block.children.length>h;)e.block.children.pop(),e.block.positions.pop();return d-f}}function O2e(t,e){let r=t;for(let a=1;a<e.length;a++){let i=e[a-1].to,f=e[a].from;i<t&&(r-=f-i)}return r}const IDe=QS({"Blockquote/...":Qt.quote,HorizontalRule:Qt.contentSeparator,"ATXHeading1/... SetextHeading1/...":Qt.heading1,"ATXHeading2/... SetextHeading2/...":Qt.heading2,"ATXHeading3/...":Qt.heading3,"ATXHeading4/...":Qt.heading4,"ATXHeading5/...":Qt.heading5,"ATXHeading6/...":Qt.heading6,"Comment CommentBlock":Qt.comment,Escape:Qt.escape,Entity:Qt.character,"Emphasis/...":Qt.emphasis,"StrongEmphasis/...":Qt.strong,"Link/... Image/...":Qt.link,"OrderedList/... BulletList/...":Qt.list,"BlockQuote/...":Qt.quote,"InlineCode CodeText":Qt.monospace,URL:Qt.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Qt.processingInstruction,"CodeInfo LinkLabel":Qt.labelName,LinkTitle:Qt.string,Paragraph:Qt.content}),NDe=new lW(new KD(d2e).extend(IDe),Object.keys(IZ).map(t=>IZ[t]),Object.keys(IZ).map(t=>PDe[t]),Object.keys(IZ),MDe,n2e,Object.keys(Aoe).map(t=>Aoe[t]),Object.keys(Aoe),[]);function BDe(t,e,r){let a=[];for(let i=t.firstChild,f=e;;i=i.nextSibling){let d=i?i.from:r;if(d>f&&a.push({from:f,to:d}),!i)break;f=i.to}return a}function QDe(t){let{codeParser:e,htmlParser:r}=t;return{wrap:f0e((i,f)=>{let d=i.type.id;if(e&&(d==Oo.CodeBlock||d==Oo.FencedCode)){let h="";if(d==Oo.FencedCode){let g=i.node.getChild(Oo.CodeInfo);g&&(h=f.read(g.from,g.to))}let c=e(h);if(c)return{parser:c,overlay:g=>g.type.id==Oo.CodeText}}else if(r&&(d==Oo.HTMLBlock||d==Oo.HTMLTag))return{parser:r,overlay:BDe(i.node,i.from,i.to)};return null})}}const FDe={resolve:"Strikethrough",mark:"StrikethroughMark"},VDe={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Qt.strikethrough}},{name:"StrikethroughMark",style:Qt.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,r){if(e!=126||t.char(r+1)!=126||t.char(r+2)==126)return-1;let a=t.slice(r-1,r),i=t.slice(r+2,r+3),f=/\s|^$/.test(a),d=/\s|^$/.test(i),h=FD.test(a),c=FD.test(i);return t.addDelimiter(FDe,r,r+2,!d&&(!c||f||h),!f&&(!h||d||c))},after:"Emphasis"}]};function oD(t,e,r=0,a,i=0){let f=0,d=!0,h=-1,c=-1,g=!1,v=()=>{a.push(t.elt("TableCell",i+h,i+c,t.parser.parseInline(e.slice(h,c),i+h)))};for(let y=r;y<e.length;y++){let b=e.charCodeAt(y);b==124&&!g?((!d||h>-1)&&f++,d=!1,a&&(h>-1&&v(),a.push(t.elt("TableDelimiter",y+i,y+i+1))),h=c=-1):(g||b!=32&&b!=9)&&(h<0&&(h=y),c=y+1),g=!g&&b==92}return h>-1&&(f++,a&&v()),f}function lge(t,e){for(let r=e;r<t.length;r++){let a=t.charCodeAt(r);if(a==124)return!0;a==92&&r++}return!1}const x2e=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class cge{constructor(){this.rows=null}nextLine(e,r,a){if(this.rows==null){this.rows=!1;let i;if((r.next==45||r.next==58||r.next==124)&&x2e.test(i=r.text.slice(r.pos))){let f=[];oD(e,a.content,0,f,a.start)==oD(e,i,r.pos)&&(this.rows=[e.elt("TableHeader",a.start,a.start+a.content.length,f),e.elt("TableDelimiter",e.lineStart+r.pos,e.lineStart+r.text.length)])}}else if(this.rows){let i=[];oD(e,r.text,r.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+r.pos,e.lineStart+r.text.length,i))}return!1}finish(e,r){return this.rows?(e.addLeafElement(r,e.elt("Table",r.start,r.start+r.content.length,this.rows)),!0):!1}}const zDe={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Qt.heading}},"TableRow",{name:"TableCell",style:Qt.content},{name:"TableDelimiter",style:Qt.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return lge(e.content,0)?new cge:null},endLeaf(t,e,r){if(r.parsers.some(i=>i instanceof cge)||!lge(e.text,e.basePos))return!1;let a=t.scanLine(t.absoluteLineEnd+1).text;return x2e.test(a)&&oD(t,e.text,e.basePos)==oD(t,a,e.basePos)},before:"SetextHeading"}]};class ZDe{nextLine(){return!1}finish(e,r){return e.addLeafElement(r,e.elt("Task",r.start,r.start+r.content.length,[e.elt("TaskMarker",r.start,r.start+3),...e.parser.parseInline(r.content.slice(3),r.start+3)])),!0}}const HDe={defineNodes:[{name:"Task",block:!0,style:Qt.list},{name:"TaskMarker",style:Qt.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new ZDe:null},after:"SetextHeading"}]},uge=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,fge=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,UDe=/[\w-]+\.[\w-]+($|\/)/,dge=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,hge=/\/[a-zA-Z\d@.]+/gy;function mge(t,e,r,a){let i=0;for(let f=e;f<r;f++)t[f]==a&&i++;return i}function WDe(t,e){fge.lastIndex=e;let r=fge.exec(t);if(!r||UDe.exec(r[0])[0].indexOf("_")>-1)return-1;let a=e+r[0].length;for(;;){let i=t[a-1],f;if(/[?!.,:*_~]/.test(i)||i==")"&&mge(t,e,a,")")>mge(t,e,a,"("))a--;else if(i==";"&&(f=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,a))))a=e+f.index;else break}return a}function gge(t,e){dge.lastIndex=e;let r=dge.exec(t);if(!r)return-1;let a=r[0][r[0].length-1];return a=="_"||a=="-"?-1:e+r[0].length-(a=="."?1:0)}const YDe={parseInline:[{name:"Autolink",parse(t,e,r){let a=r-t.offset;uge.lastIndex=a;let i=uge.exec(t.text),f=-1;return!i||(i[1]||i[2]?f=WDe(t.text,a+i[0].length):i[3]?f=gge(t.text,a):(f=gge(t.text,a+i[0].length),f>-1&&i[0]=="xmpp:"&&(hge.lastIndex=f,i=hge.exec(t.text),i&&(f=i.index+i[0].length))),f<0)?-1:(t.addElement(t.elt("URL",r,f+t.offset)),f+t.offset)}}]},XDe=[zDe,HDe,VDe,YDe];function S2e(t,e,r){return(a,i,f)=>{if(i!=t||a.char(f+1)==t)return-1;let d=[a.elt(r,f,f+1)];for(let h=f+1;h<a.end;h++){let c=a.char(h);if(c==t)return a.addElement(a.elt(e,f,h+1,d.concat(a.elt(r,h,h+1))));if(c==92&&d.push(a.elt("Escape",h,h+++2)),Zp(c))break}return-1}}const GDe={defineNodes:[{name:"Superscript",style:Qt.special(Qt.content)},{name:"SuperscriptMark",style:Qt.processingInstruction}],parseInline:[{name:"Superscript",parse:S2e(94,"Superscript","SuperscriptMark")}]},jDe={defineNodes:[{name:"Subscript",style:Qt.special(Qt.content)},{name:"SubscriptMark",style:Qt.processingInstruction}],parseInline:[{name:"Subscript",parse:S2e(126,"Subscript","SubscriptMark")}]},qDe={defineNodes:[{name:"Emoji",style:Qt.character}],parseInline:[{name:"Emoji",parse(t,e,r){let a;return e!=58||!(a=/^[a-zA-Z_0-9]+:/.exec(t.slice(r+1,t.end)))?-1:t.addElement(t.elt("Emoji",r,r+1+a[0].length))}}]},KDe=54,JDe=1,e$e=55,t$e=2,n$e=56,r$e=3,pge=4,o$e=5,aU=6,w2e=7,C2e=8,T2e=9,k2e=10,s$e=11,a$e=12,i$e=13,Poe=57,l$e=14,vge=58,A2e=20,c$e=22,P2e=23,u$e=24,Tae=26,M2e=27,f$e=28,d$e=31,h$e=34,m$e=36,g$e=37,p$e=0,v$e=1,y$e={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},b$e={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},yge={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function O$e(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function E2e(t){return t==9||t==10||t==13||t==32}let bge=null,Oge=null,xge=0;function kae(t,e){let r=t.pos+e;if(xge==r&&Oge==t)return bge;let a=t.peek(e);for(;E2e(a);)a=t.peek(++e);let i="";for(;O$e(a);)i+=String.fromCharCode(a),a=t.peek(++e);return Oge=t,xge=r,bge=i?i.toLowerCase():a==x$e||a==S$e?void 0:null}const _2e=60,iU=62,tce=47,x$e=63,S$e=33,w$e=45;function Sge(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let r=0;r<t.length;r++)this.hash+=(this.hash<<4)+t.charCodeAt(r)+(t.charCodeAt(r)<<8)}const C$e=[aU,k2e,w2e,C2e,T2e],T$e=new nle({start:null,shift(t,e,r,a){return C$e.indexOf(e)>-1?new Sge(kae(a,1)||"",t):t},reduce(t,e){return e==A2e&&t?t.parent:t},reuse(t,e,r,a){let i=e.type.id;return i==aU||i==m$e?new Sge(kae(a,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),k$e=new xh((t,e)=>{if(t.next!=_2e){t.next<0&&e.context&&t.acceptToken(Poe);return}t.advance();let r=t.next==tce;r&&t.advance();let a=kae(t,0);if(a===void 0)return;if(!a)return t.acceptToken(r?l$e:aU);let i=e.context?e.context.name:null;if(r){if(a==i)return t.acceptToken(s$e);if(i&&b$e[i])return t.acceptToken(Poe,-2);if(e.dialectEnabled(p$e))return t.acceptToken(a$e);for(let f=e.context;f;f=f.parent)if(f.name==a)return;t.acceptToken(i$e)}else{if(a=="script")return t.acceptToken(w2e);if(a=="style")return t.acceptToken(C2e);if(a=="textarea")return t.acceptToken(T2e);if(y$e.hasOwnProperty(a))return t.acceptToken(k2e);i&&yge[i]&&yge[i][a]?t.acceptToken(Poe,-1):t.acceptToken(aU)}},{contextual:!0}),A$e=new xh(t=>{for(let e=0,r=0;;r++){if(t.next<0){r&&t.acceptToken(vge);break}if(t.next==w$e)e++;else if(t.next==iU&&e>=2){r>=3&&t.acceptToken(vge,-2);break}else e=0;t.advance()}});function P$e(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const M$e=new xh((t,e)=>{if(t.next==tce&&t.peek(1)==iU){let r=e.dialectEnabled(v$e)||P$e(e.context);t.acceptToken(r?o$e:pge,2)}else t.next==iU&&t.acceptToken(pge,1)});function nce(t,e,r){let a=2+t.length;return new xh(i=>{for(let f=0,d=0,h=0;;h++){if(i.next<0){h&&i.acceptToken(e);break}if(f==0&&i.next==_2e||f==1&&i.next==tce||f>=2&&f<a&&i.next==t.charCodeAt(f-2))f++,d++;else if((f==2||f==a)&&E2e(i.next))d++;else if(f==a&&i.next==iU){h>d?i.acceptToken(e,-d):i.acceptToken(r,-(d-2));break}else if((i.next==10||i.next==13)&&h){i.acceptToken(e,1);break}else f=d=0;i.advance()}})}const E$e=nce("script",KDe,JDe),_$e=nce("style",e$e,t$e),R$e=nce("textarea",n$e,r$e),D$e=QS({"Text RawText":Qt.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Qt.angleBracket,TagName:Qt.tagName,"MismatchedCloseTag/TagName":[Qt.tagName,Qt.invalid],AttributeName:Qt.attributeName,"AttributeValue UnquotedAttributeValue":Qt.attributeValue,Is:Qt.definitionOperator,"EntityReference CharacterReference":Qt.character,Comment:Qt.blockComment,ProcessingInst:Qt.processingInstruction,DoctypeDecl:Qt.documentMeta}),$$e=IS.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:T$e,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[D$e],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[E$e,_$e,R$e,M$e,k$e,A$e,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function R2e(t,e){let r=Object.create(null);for(let a of t.getChildren(P2e)){let i=a.getChild(u$e),f=a.getChild(Tae)||a.getChild(M2e);i&&(r[e.read(i.from,i.to)]=f?f.type.id==Tae?e.read(f.from+1,f.to-1):e.read(f.from,f.to):"")}return r}function wge(t,e){let r=t.getChild(c$e);return r?e.read(r.from,r.to):" "}function Moe(t,e,r){let a;for(let i of r)if(!i.attrs||i.attrs(a||(a=R2e(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function D2e(t=[],e=[]){let r=[],a=[],i=[],f=[];for(let h of t)(h.tag=="script"?r:h.tag=="style"?a:h.tag=="textarea"?i:f).push(h);let d=e.length?Object.create(null):null;for(let h of e)(d[h.name]||(d[h.name]=[])).push(h);return f0e((h,c)=>{let g=h.type.id;if(g==f$e)return Moe(h,c,r);if(g==d$e)return Moe(h,c,a);if(g==h$e)return Moe(h,c,i);if(g==A2e&&f.length){let v=h.node,y=v.firstChild,b=y&&wge(y,c),O;if(b){for(let T of f)if(T.tag==b&&(!T.attrs||T.attrs(O||(O=R2e(v,c))))){let k=v.lastChild,w=k.type.id==g$e?k.from:v.to;if(w>y.to)return{parser:T.parser,overlay:[{from:y.to,to:w}]}}}}if(d&&g==P2e){let v=h.node,y;if(y=v.firstChild){let b=d[c.read(y.from,y.to)];if(b)for(let O of b){if(O.tagName&&O.tagName!=wge(v.parent,c))continue;let T=v.lastChild;if(T.type.id==Tae){let k=T.from+1,w=T.lastChild,C=T.to-(w&&w.isError?0:1);if(C>k)return{parser:O.parser,overlay:[{from:k,to:C}]}}else if(T.type.id==M2e)return{parser:O.parser,overlay:[{from:T.from,to:T.to}]}}}}return null})}const L$e=96,Cge=1,I$e=97,N$e=98,Tge=2,$2e=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],B$e=58,Q$e=40,L2e=95,F$e=91,aH=45,V$e=46,z$e=35,Z$e=37,H$e=38,U$e=92,W$e=10;function lU(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function Y$e(t){return t>=48&&t<=57}const X$e=new xh((t,e)=>{for(let r=!1,a=0,i=0;;i++){let{next:f}=t;if(lU(f)||f==aH||f==L2e||r&&Y$e(f))!r&&(f!=aH||i>0)&&(r=!0),a===i&&f==aH&&a++,t.advance();else if(f==U$e&&t.peek(1)!=W$e)t.advance(),t.next>-1&&t.advance(),r=!0;else{r&&t.acceptToken(f==Q$e?I$e:a==2&&e.canShift(Tge)?Tge:N$e);break}}}),G$e=new xh(t=>{if($2e.includes(t.peek(-1))){let{next:e}=t;(lU(e)||e==L2e||e==z$e||e==V$e||e==F$e||e==B$e||e==aH||e==H$e)&&t.acceptToken(L$e)}}),j$e=new xh(t=>{if(!$2e.includes(t.peek(-1))){let{next:e}=t;if(e==Z$e&&(t.advance(),t.acceptToken(Cge)),lU(e)){do t.advance();while(lU(t.next));t.acceptToken(Cge)}}}),q$e=QS({"AtKeyword import charset namespace keyframes media supports":Qt.definitionKeyword,"from to selector":Qt.keyword,NamespaceName:Qt.namespace,KeyframeName:Qt.labelName,KeyframeRangeName:Qt.operatorKeyword,TagName:Qt.tagName,ClassName:Qt.className,PseudoClassName:Qt.constant(Qt.className),IdName:Qt.labelName,"FeatureName PropertyName":Qt.propertyName,AttributeName:Qt.attributeName,NumberLiteral:Qt.number,KeywordQuery:Qt.keyword,UnaryQueryOp:Qt.operatorKeyword,"CallTag ValueName":Qt.atom,VariableName:Qt.variableName,Callee:Qt.operatorKeyword,Unit:Qt.unit,"UniversalSelector NestingSelector":Qt.definitionOperator,MatchOp:Qt.compareOperator,"ChildOp SiblingOp, LogicOp":Qt.logicOperator,BinOp:Qt.arithmeticOperator,Important:Qt.modifier,Comment:Qt.blockComment,ColorLiteral:Qt.color,"ParenthesizedContent StringLiteral":Qt.string,":":Qt.punctuation,"PseudoOp #":Qt.derefOperator,"; ,":Qt.separator,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace}),K$e={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},J$e={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},eLe={__proto__:null,not:128,only:128},tLe=IS.deserialize({version:14,states:"9bQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DPO$vQ[O'#DTOOQP'#Ej'#EjO${QdO'#DeO%gQ[O'#DrO${QdO'#DtO%xQ[O'#DvO&TQ[O'#DyO&]Q[O'#EPO&kQ[O'#EROOQS'#Ei'#EiOOQS'#EU'#EUQYQ[OOO&rQXO'#CdO'gQWO'#DaO'lQWO'#EpO'wQ[O'#EpQOQWOOP(RO#tO'#C_POOO)C@X)C@XOOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(^Q[O'#EXO(xQWO,58{O)QQ[O,59SO$qQ[O,59kO$vQ[O,59oO(^Q[O,59sO(^Q[O,59uO(^Q[O,59vO)]Q[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)dQWO,59SO)iQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)nQ`O,59oOOQS'#Cp'#CpO${QdO'#CqO)vQvO'#CsO+TQtO,5:POOQO'#Cx'#CxO)iQWO'#CwO+iQWO'#CyOOQS'#Em'#EmOOQO'#Dh'#DhO+nQ[O'#DoO+|QWO'#EqO&]Q[O'#DmO,[QWO'#DpOOQO'#Er'#ErO({QWO,5:^O,aQpO,5:`OOQS'#Dx'#DxO,iQWO,5:bO,nQ[O,5:bOOQO'#D{'#D{O,vQWO,5:eO,{QWO,5:kO-TQWO,5:mOOQS-E8S-E8SO${QdO,59{O-]Q[O'#EZO-jQWO,5;[O-jQWO,5;[POOO'#ET'#ETP-uO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.lQXO,5:sOOQO-E8V-E8VOOQS1G.g1G.gOOQP1G.n1G.nO)dQWO1G.nO)iQWO1G.nOOQP1G/V1G/VO.yQ`O1G/ZO/dQXO1G/_O/zQXO1G/aO0bQXO1G/bO0xQWO,59zO0}Q[O'#DOO1UQdO'#CoOOQP1G/Z1G/ZO${QdO1G/ZO1]QpO,59]OOQS,59_,59_O${QdO,59aO1eQWO1G/kOOQS,59c,59cO1jQ!bO,59eO1rQWO'#DhO1}QWO,5:TO2SQWO,5:ZO&]Q[O,5:VO&]Q[O'#E[O2[QWO,5;]O2gQWO,5:XO(^Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2xQWO1G/|O2}QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO3YQtO1G/gOOQO,5:u,5:uO3pQ[O,5:uOOQO-E8X-E8XO3}QWO1G0vPOOO-E8R-E8RPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$u7+$uO${QdO7+$uOOQS1G/f1G/fO4YQXO'#EoO4aQWO,59jO4fQtO'#EVO5ZQdO'#ElO5eQWO,59ZO5jQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5rQWO1G/PO${QdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5wQWO,5:vOOQO-E8Y-E8YO6VQXO1G/vOOQS7+%h7+%hO6^QYO'#CsOOQO'#EO'#EOO6iQ`O'#D}OOQO'#D}'#D}O6tQWO'#E]O6|QdO,5:hOOQS,5:h,5:hO7XQtO'#EYO${QdO'#EYO8VQdO7+%ROOQO7+%R7+%ROOQO1G0a1G0aO8jQpO<<HaO8rQWO,5;ZOOQP1G/U1G/UOOQS-E8T-E8TO${QdO'#EWO8zQWO,5;WOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO9SQdO7+%ZOOQO7+%b7+%bOOQO,5:i,5:iO3QQdO'#E^O6tQWO,5:wOOQS,5:w,5:wOOQS-E8Z-E8ZOOQS1G0S1G0SO9ZQtO,5:tOOQS-E8W-E8WOOQO<<Hm<<HmOOQPAN={AN={O:XQdO,5:rOOQO-E8U-E8UOOQO<<Hu<<HuOOQO,5:x,5:xOOQO-E8[-E8[OOQS1G0c1G0c",stateData:":k~O#WOS#XQQ~OUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#URO#_TO~OQfOUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#UeO#_TO~O#R#dP~P!ZO#XjO~O#UlO~O]qO^qOpoOtrOxsO|tO!PvO#SuO#_nO~O!RwO~P#pO`}O#TzO#UyO~O#U!OO~O#U!QO~OQ!ZOb!TOf!ZOh!ZOn!YO#T!WO#U!SO#b!UO~Ob!]O!b!_O!e!`O#U![O!R#eP~Oh!eOn!YO#U!dO~Oh!gO#U!gO~Ob!]O!b!_O!e!`O#U![O~O!W#eP~P%gO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#SWX#_WX~O]!lO~O!W!mO#R#dX!Q#dX~O#R#dX!Q#dX~P!ZO#Y!pO#Z!pO#[!rO~OUYOXYO]VO^VOtWOxXO#URO#_TO~OpoO!RwO~O`!yO#TzO#UyO~O!Q#dP~P!ZOb#QO~Ob#RO~Ov#SOz#TO~OP#VObgXjgX!WgX!bgX!egX#UgXagXQgXfgXhgXngXpgX!VgX#RgX#TgX#bgXvgX!QgX~Ob!]Oj#WO!b!_O!e!`O#U![O!W#eP~Ob#ZO~Ob!]O!b!_O!e!`O#U#[O~Op#`O!`#_O!R#eX!W#eX~Ob#cO~Oj#WO!W#eO~O!W#fO~Oh#gOn!YO~O!R#hO~O!RwO!`#_O~O!RwO!W#kO~O!W!}X#R!}X!Q!}X~P!ZO!W!mO#R#da!Q#da~O#Y!pO#Z!pO#[#rO~O]qO^qOtrOxsO|tO!PvO#SuO#_nO~Op!{a!R!{aa!{a~P.QOv#tOz#uO~O]qO^qOtrOxsO#_nO~Op{i|{i!P{i!R{i#S{ia{i~P/ROp}i|}i!P}i!R}i#S}ia}i~P/ROp!Oi|!Oi!P!Oi!R!Oi#S!Oia!Oi~P/RO!Q#vO~Oa#cP~P(^Oa#`P~P${Oa#}Oj#WO~O!W$PO~Oh$QOo$QO~O]!^Xa![X!`![X~O]$RO~Oa$SO!`#_O~Op#`O!R#ea!W#ea~O!`#_Op!aa!R!aa!W!aaa!aa~O!W$XO~O!Q$`O#U$ZO#b$YO~Oj#WOp$bO!V$dO!W!Ti#R!Ti!Q!Ti~P${O!W!}a#R!}a!Q!}a~P!ZO!W!mO#R#di!Q#di~Oa#cX~P#pOa$hO~Oj#WOQ!yXa!yXb!yXf!yXh!yXn!yXp!yX#T!yX#U!yX#b!yX~Op$jOa#`X~P${Oa$lO~Oj#WOv$mO~Oa$nO~O!`#_Op#Oa!R#Oa!W#Oa~Oa$pO~P.QOP#VOpgX!RgX~O#b$YOp!qX!R!qX~Op$rO!RwO~O!Q$vO#U$ZO#b$YO~Oj#WOQ!|Xb!|Xf!|Xh!|Xn!|Xp!|X!V!|X!W!|X#R!|X#T!|X#U!|X#b!|X!Q!|X~Op$bO!V$yO!W!Tq#R!Tq!Q!Tq~P${Oj#WOv$zO~OpoOa#ca~Op$jOa#`a~Oa$}O~P${Oj#WOQ!|ab!|af!|ah!|an!|ap!|a!V!|a!W!|a#R!|a#T!|a#U!|a#b!|a!Q!|a~Oa!zap!za~P${O#Wo#X#bj!P#b~",goto:"-Y#gPPP#hP#kP#t$TP#t$d#tPP$jPPP$p$y$yP%]P$yP$y%w&ZPPP&s&y#tP'PP#tP'VP#tP#t#tPPP']'r(PPP#kPP(W(W(b(WP(WP(W(WP#kP#kP#kP(e#kP(h(k(n(u#kP#kP(z)Q)a)o)u*P*V*a*g*mPPPPPPPPPP*s*|P+i+lP,b,e,k,tRkQ_bOPdhw!m#nkYOPdhotuvw!m#Q#c#nkSOPdhotuvw!m#Q#c#nQmTR!snQ{VR!wqQ!w}Q#Y!XR#s!yq!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${U$]#h$_$rR$q$[q!XZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${Q!e^R#g!fQ|VR!xqQ!w|R#s!xQ!PWR!zrQ!RXR!{sQxUQ!vpQ#d!bQ#j!iQ#k!jQ$t$^R%Q$sSgPwQ!ohQ#m!mR$e#nZfPhw!m#na!a[`a!V!]!_#_#`R#]!]R!f^R!h_R#i!hS$^#h$_R%O$rV$[#h$_$rQ!qjR#q!qQdOShPwU!kdh#nR#n!mQ#z#RU$i#z$o${Q$o$RR${$jQ$k#zR$|$kQpUS!up$gR$g#wQ$c#lR$x$cQ!ngS#o!n#pR#p!oQ#a!^R$V#aQ$_#hR$u$_Q$s$^R%P$s_cOPdhw!m#n^UOPdhw!m#nQ!toQ!|tQ!}uQ#OvQ#w#QR$W#cR#{#RQ!VZQ!c]Q#U!TQ#l!l[#y#R#z$R$j$o${Q#|#TQ$O#WS$a#l$cQ$f#uR$w$bR#x#QQiPR#PwQ!b[Q!jaR#X!VU!^[a!VQ!i`Q#^!]Q#b!_Q$T#_R$U#`",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:114,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[q$e],skippedNodes:[0,3,85],repeatNodeCount:10,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#W~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#W~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!V[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYtQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QSzSo`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!PQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#b[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#b[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSp^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#_QOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#X~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!W^Oy%^z;'S%^;'S;=`%o<%lO%^dCoSzSOy%^z;'S%^;'S;=`%o<%lO%^bDQU|QOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS|Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!YQo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bFfSxQOy%^z;'S%^;'S;=`%o<%lO%^lFwSv[Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!`Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!RUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!Q^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!PQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[G$e,j$e,X$e,1,2,3,4,new VH("m~RRYZ[z{a~~g~aO#Z~~dP!P!Qg~lO#[~~",28,102)],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:97,get:t=>K$e[t]||-1},{term:56,get:t=>J$e[t]||-1},{term:98,get:t=>eLe[t]||-1}],tokenPrec:1169});let Eoe=null;function _oe(){if(!Eoe&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],r=new Set;for(let a in t)a!="cssText"&&a!="cssFloat"&&typeof t[a]=="string"&&(/[A-Z]/.test(a)&&(a=a.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),r.has(a)||(e.push(a),r.add(a)));Eoe=e.sort().map(a=>({type:"property",label:a}))}return Eoe||[]}const kge=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),Age=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),nLe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),fS=/^(\w[\w-]*|-\w[\w-]*|)$/,rLe=/^-(-[\w-]*)?$/;function oLe(t,e){var r;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let a=(r=t.parent)===null||r===void 0?void 0:r.firstChild;return(a==null?void 0:a.name)!="Callee"?!1:e.sliceString(a.from,a.to)=="var"}const Pge=new Die,sLe=["Declaration"];function aLe(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function I2e(t,e,r){if(e.to-e.from>4096){let a=Pge.get(e);if(a)return a;let i=[],f=new Set,d=e.cursor(Sl.IncludeAnonymous);if(d.firstChild())do for(let h of I2e(t,d.node,r))f.has(h.label)||(f.add(h.label),i.push(h));while(d.nextSibling());return Pge.set(e,i),i}else{let a=[],i=new Set;return e.cursor().iterate(f=>{var d;if(r(f)&&f.matchContext(sLe)&&((d=f.node.nextSibling)===null||d===void 0?void 0:d.name)==":"){let h=t.sliceString(f.from,f.to);i.has(h)||(i.add(h),a.push({label:h,type:"variable"}))}}),a}}const iLe=t=>e=>{let{state:r,pos:a}=e,i=al(r).resolveInner(a,-1),f=i.type.isError&&i.from==i.to-1&&r.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(f||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:_oe(),validFor:fS};if(i.name=="ValueName")return{from:i.from,options:Age,validFor:fS};if(i.name=="PseudoClassName")return{from:i.from,options:kge,validFor:fS};if(t(i)||(e.explicit||f)&&oLe(i,r.doc))return{from:t(i)||f?i.from:a,options:I2e(r.doc,aLe(i),t),validFor:rLe};if(i.name=="TagName"){for(let{parent:c}=i;c;c=c.parent)if(c.name=="Block")return{from:i.from,options:_oe(),validFor:fS};return{from:i.from,options:nLe,validFor:fS}}if(!e.explicit)return null;let d=i.resolve(a),h=d.childBefore(a);return h&&h.name==":"&&d.name=="PseudoClassSelector"?{from:a,options:kge,validFor:fS}:h&&h.name==":"&&d.name=="Declaration"||d.name=="ArgList"?{from:a,options:Age,validFor:fS}:d.name=="Block"||d.name=="Styles"?{from:a,options:_oe(),validFor:fS}:null},lLe=iLe(t=>t.name=="VariableName"),cU=$S.define({name:"css",parser:tLe.configure({props:[GT.add({Declaration:eD()}),FS.add({"Block KeyframeList":Qie})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function cLe(){return new FT(cU,cU.data.of({autocomplete:lLe}))}const uLe=304,Mge=1,fLe=2,dLe=305,hLe=307,mLe=308,gLe=3,pLe=4,vLe=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],N2e=125,yLe=59,Ege=47,bLe=42,OLe=43,xLe=45,SLe=new nle({start:!1,shift(t,e){return e==gLe||e==pLe||e==hLe?t:e==mLe},strict:!1}),wLe=new xh((t,e)=>{let{next:r}=t;(r==N2e||r==-1||e.context)&&t.acceptToken(dLe)},{contextual:!0,fallback:!0}),CLe=new xh((t,e)=>{let{next:r}=t,a;vLe.indexOf(r)>-1||r==Ege&&((a=t.peek(1))==Ege||a==bLe)||r!=N2e&&r!=yLe&&r!=-1&&!e.context&&t.acceptToken(uLe)},{contextual:!0}),TLe=new xh((t,e)=>{let{next:r}=t;if((r==OLe||r==xLe)&&(t.advance(),r==t.next)){t.advance();let a=!e.context&&e.canShift(Mge);t.acceptToken(a?Mge:fLe)}},{contextual:!0}),kLe=QS({"get set async static":Qt.modifier,"for while do if else switch try catch finally return throw break continue default case":Qt.controlKeyword,"in of await yield void typeof delete instanceof":Qt.operatorKeyword,"let var const using function class extends":Qt.definitionKeyword,"import export from":Qt.moduleKeyword,"with debugger as new":Qt.keyword,TemplateString:Qt.special(Qt.string),super:Qt.atom,BooleanLiteral:Qt.bool,this:Qt.self,null:Qt.null,Star:Qt.modifier,VariableName:Qt.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Qt.function(Qt.variableName),VariableDefinition:Qt.definition(Qt.variableName),Label:Qt.labelName,PropertyName:Qt.propertyName,PrivatePropertyName:Qt.special(Qt.propertyName),"CallExpression/MemberExpression/PropertyName":Qt.function(Qt.propertyName),"FunctionDeclaration/VariableDefinition":Qt.function(Qt.definition(Qt.variableName)),"ClassDeclaration/VariableDefinition":Qt.definition(Qt.className),PropertyDefinition:Qt.definition(Qt.propertyName),PrivatePropertyDefinition:Qt.definition(Qt.special(Qt.propertyName)),UpdateOp:Qt.updateOperator,"LineComment Hashbang":Qt.lineComment,BlockComment:Qt.blockComment,Number:Qt.number,String:Qt.string,Escape:Qt.escape,ArithOp:Qt.arithmeticOperator,LogicOp:Qt.logicOperator,BitOp:Qt.bitwiseOperator,CompareOp:Qt.compareOperator,RegExp:Qt.regexp,Equals:Qt.definitionOperator,Arrow:Qt.function(Qt.punctuation),": Spread":Qt.punctuation,"( )":Qt.paren,"[ ]":Qt.squareBracket,"{ }":Qt.brace,"InterpolationStart InterpolationEnd":Qt.special(Qt.brace),".":Qt.derefOperator,", ;":Qt.separator,"@":Qt.meta,TypeName:Qt.typeName,TypeDefinition:Qt.definition(Qt.typeName),"type enum interface implements namespace module declare":Qt.definitionKeyword,"abstract global Privacy readonly override":Qt.modifier,"is keyof unique infer":Qt.operatorKeyword,JSXAttributeValue:Qt.attributeValue,JSXText:Qt.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Qt.angleBracket,"JSXIdentifier JSXNameSpacedName":Qt.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Qt.attributeName,"JSXBuiltin/JSXIdentifier":Qt.standard(Qt.tagName)}),ALe={__proto__:null,export:16,as:21,from:29,default:32,async:37,function:38,extends:48,this:52,true:60,false:60,null:72,void:76,typeof:80,super:98,new:132,delete:148,yield:157,await:161,class:166,public:223,private:223,protected:223,readonly:225,instanceof:244,satisfies:247,in:248,const:250,import:282,keyof:337,unique:341,infer:347,is:383,abstract:403,implements:405,type:407,let:410,var:412,using:415,interface:421,enum:425,namespace:431,module:433,declare:437,global:441,for:460,of:469,while:472,with:476,do:480,if:484,else:486,switch:490,case:496,try:502,catch:506,finally:510,return:514,throw:518,break:522,continue:526,debugger:530},PLe={__proto__:null,async:119,get:121,set:123,declare:183,public:185,private:185,protected:185,static:187,abstract:189,override:191,readonly:197,accessor:199,new:387},MLe={__proto__:null,"<":139},ELe=IS.deserialize({version:14,states:"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AfQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AnQSO,5=sO!AsQSO,5=sO!AxQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BWQWO,5=`O!B`Q,UO,5=aO!BkQSO,5=cO!BpQ`O,5=fO!BxQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!B}QSO'#HRO9{Q,UO'#HTO!CSQSO'#HTOOQQ,5=i,5=iO!CXQSO'#HUO!CjQSO'#CmO!CoQSO,58}O!CyQSO,58}O!FOQUO,58}OOQQ,58},58}O!F`Q(C[O,58}O%[QUO,58}O!HkQUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!IRQSO,5=uO`QUO,5={O`QUO,5=}O!IWQSO,5>PO`QUO,5>RO!I]QSO,5>UO!IbQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!MlQSO,5>fOOQQ,5>h,5>hO!MlQSO,5>hOOQQ,5>j,5>jO!MqQWO'#DYO%[QUO'#JiO!N`QWO'#JiO!N}QWO'#DhO# `QWO'#DhO##qQUO'#DhO##xQSO'#JhO#$QQSO,5:RO#$VQSO'#EnO#$eQSO'#JvO#$mQSO,5;XO#$rQWO'#DhO#%PQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#%WQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%`QSO,5@TO#%eQ!LQO,5:pOOQO-E<_-E<_O#&kQ(C`O,5:{OChQWO,5:oO#&uQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#'SQ(C[O,5:{O#'_Q(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'mQ(C[O,5:{POOO'#IU'#IUP#(RO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(^Q`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(cQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(mQUO'#I[OOQO-E<Y-E<YO#(zQSO,5@RO#)SQbO,5@RO#)ZQSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)cQSO'#IbOOQO-E<`-E<`O#)ZQSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)wQ(C[O,5@^O#*YQ(C[O,5@^O#*aQSO,5@]O9TQSO,5@]O#*iQSO,5@]O#*wQSO'#IeO#*aQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+iQSO,5:tO#+qQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#,PQ(CjO1G0oO#-UQ(ChO,5;POOQ(CY'#GQ'#GQO#-rQ(CjO'#J`O!$ZQUO1G0oO#/zQ,UO'#JjO#0UQSO,5:]O#0ZQbO'#JkO%[QUO'#JkO#0eQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0jQSO1G0xO#3RQ(CjO1G0yO#3YQ(CjO1G0yO#5sQ(CjO1G0yO#5zQ(CjO1G0yO#8UQ(CjO1G0yO#8lQ(CjO1G0yO#;fQ(CjO1G0yO#;mQ(CjO1G0yO#>WQ(CjO1G0yO#>_Q(CjO1G0yO#@VQ(CjO1G0yO#CVQ$IUO'#CgO#ETQ$IUO1G1[O#E[Q$IUO'#JfO!,YQSO1G1bO#ElQ(CjO,5?SOOQ(CW-E<f-E<fO#F`Q(CjO1G0yOOQ(CY1G0y1G0yO#HkQ(CjO1G1_O#I_Q#tO,5<SO#IgQ#tO,5<TO#IoQ#tO'#FkO#JWQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#J]Q#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JnQ$IUO'#JeO#JxQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#J}QWO'#JyOOQ(CY,5<`,5<`O#KVQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#K[O07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KgQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KnQ`O'#CpO#LRQ`O,5<mO#LYQSO'#J}O9ZQSO'#J}O#LhQSO,5<oO!'vQ,UO,5<nO#LmQSO'#GTO#LxQSO,5<nO#L}Q`O'#GQO#M[Q`O'#KOO#MfQSO'#KOO!&^Q,UO'#KOO#MkQSO,5<rO#MpQWO'#G]O!3{QWO'#G]O#NRQSO'#G_O#NWQSO'#GaO!2|QSO'#GdO#N]Q(C[O'#IlO#NhQWO,5<vOOQ(CY,5<v,5<vO#NoQWO'#G]O#N}QWO'#G^O$ VQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ [QSO'#ImO$ gQSO,5?xO$ oQSO,59^O$!`Q,UO,59oOOQ(CY,59o,59oO$#RQ,UO,5<eO$#tQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$$OQSO,5<pO$$TQ,UO,5<uO$$eQSO'#JqO!$ZQUO1G1|O$$jQSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$oQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&tQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'eQSO1G2rO$'pQ,UO'#EeOOQ(CW,5?v,5?vO$'zQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(]QSO1G0oO$(bQSO'#CgO$(mQSO'#KWO$(uQSO,5=tO$(zQSO'#KWO$)PQSO'#KWO$)_QSO'#IuO$)mQSO,5@qO$)uQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)|QSO1G3_O$*RQSO1G3_OOQQ1G3_1G3_O!BkQSO1G2}O!&^Q,UO1G2zO$*WQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$*]QSO1G2{O$*eQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BpQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*mQ,UO,5=mO9ZQSO,5=mO#NWQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*{QSO'#KUO$+WQSO,5=pOOQQ1G.i1G.iO$+]Q(C[O1G.iO@[QSO1G.iO$+hQSO1G.iO9eQ(C[O1G.iO$-mQbO,5@sO$-}QSO,5@sO9TQSO,5@sO$.YQUO,5=wO$.aQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.fQUO1G3mO$2jQUO'#HlOOQQ1G3p1G3pO$2wQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$3PQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$7WQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$7]Q$IUO,5:SOOQO,5;Y,5;YO$7gQWO'#I]O$7}QSO,5@SOOQ(CY1G/m1G/mO$8VQWO'#IcO$8aQSO,5@bOOQ(CW1G0s1G0sO# `QWO,5:SOOQO'#I`'#I`O$8iQWO,5:nOOQ(CY,5:n,5:nO#%ZQSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8pQ(C[O1G0gO$8{Q(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$9ZQ(C[O1G0gOOQO1G0Z1G0ZO$9oQ(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9yQ`O,5<dO$:RQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$:]QSO1G5mO$:eQSO1G5zO$:mQbO1G5{O9TQSO,5>|O$:wQ(CjO1G5xO%[QUO1G5xO$;XQ(C[O1G5xO$;jQSO1G5wO$;jQSO1G5wO9TQSO1G5wO$;rQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$<WQSO,5?PO$$eQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<fQSO7+(^O$<qQ,UO7+(^O$=PQ(CjO,59oO$?XQ(CjO,5<eO$AdQ(CjO,5<gO$CoQ(CjO,5<uOOQ(CY7+&Z7+&ZO$FQQ(CjO7+&ZO$FtQ,UO'#I^O$GOQSO,5@UOOQ(CY1G/w1G/wO$GWQUO'#I_O$GeQSO,5@VO$GmQbO,5@VOOQ(CY1G/|1G/|O$GwQSO7+&dOOQ(CY7+&d7+&dO$G|Q$IUO,5:cO%[QUO7+&vO$HWQ$IUO,5:ZO$HeQ$IUO,5:gO$HoQ$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HyQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$IUQSO1G1xOOQ(CY1G1z1G1zO$IZQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IbQ(CjO7+'gOOQ(CY,5?U,5?UO$JUQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JtQ,UO1G2lO$KgQ,UO1G2nO$KqQ`O1G2pOOQ(CY1G2X1G2XO$KxQSO'#IiO$LWQSO,5@iO$LWQSO,5@iO$L`QSO,5@iO$LkQSO,5@iOOQO1G2Z1G2ZO$LyQ,UO1G2YO!'vQ,UO1G2YO$MZQMhO'#IkO$MkQSO,5@jO!&^Q,UO,5@jO$MsQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$eQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$M}QSO,5<yOOQ(CW,5<{,5<{O$$eQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$NVQSO,5<xO#NRQSO,5<yO!3{QWO,5<xO$NbQ,UO1G5eO$NlQ,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NyQSO1G2TO!'vQ,UO1G2[O% OQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% rQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% wQ`O'#KPO#%ZQSO7+(^O%!RQbO7+(^O$<iQSO7+(^O%!YQ(ChO'#CgO%!mQ(ChO,5<|O%#_QSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#dQSO'#ItO%#{QSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#{QSO,5@rO%$TQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%$YQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%$_Q(ChO7+(fO!&^Q,UO7+(fO%$iQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$pQSO'#KTO%${QSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%&[QWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&cQSO1G3XO%&nQ,UO1G3XO9eQ(C[O1G3ZO#NWQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&|QSO'#IsO%'bQSO,5@pO%'jQWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'uQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'zQ(C[O1G6_O%(UQUO1G3cO%(]QSO1G3cO%(bQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%(iQUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(vQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%({QWO1G5oO%)aQ$IUO1G0tO%)kQSO1G0tOOQO1G/n1G/nO%)vQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#%ZQSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9oQ(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%*QQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%*]Q(C[O7+&RO%*kQ(CjO7++dO%[QUO7++dO%*{QSO7++cO%*{QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%+TQSO1G4kOOQO7+%z7+%zO#%ZQSO<<KxO%!RQbO<<KxO%+cQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+kQSO<<KxO%+vQ(CjO1G2lO%.RQ(CjO1G2nO%0^Q(CjO1G2YO%2oQ,UO,5>xOOQO-E<[-E<[O%2yQbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%3TQSO1G5qOOQ(CY<<JO<<JOO%3]Q$IUO1G0oO%5gQ$IUO1G0yO%5nQ$IUO1G0yO%7rQ$IUO1G0yO%7yQ$IUO1G0yO%9nQ$IUO1G0yO%:UQ$IUO1G0yO%<iQ$IUO1G0yO%<pQ$IUO1G0yO%>tQ$IUO1G0yO%>{Q$IUO1G0yO%@sQ$IUO1G0yO%AWQ(CjO<<JbO%B]Q$IUO1G0yO%DRQ$IUO'#J`O%FUQ$IUO1G1_O%FcQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FmQSO1G1pO%FrQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%F|QSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%G[QSO1G6TO%G[QSO1G6TO%GdQSO1G6TO%GoQ,UO7+'tO%HPQ`O,5?VO%HZQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%H`Q`O1G6UO%HjQSO1G6UOOQ(CW1G2d1G2dO$$eQSO1G2dOOQ(CW1G2c1G2cO%HrQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%HwQSO1G2eO%IPQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%I[QSO1G/]OOQ(CY7+'o7+'oO%IaQ,UO7+'vO%IqQ(CjO<<KSOOQ(CY<<KS<<KSO%JeQSO1G0tO!&^Q,UO'#InO%JjQSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JrQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%KfQSO,5?`O%KkQSO,5?`OOQO-E<r-E<rO%KyQSO1G6^O%KyQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%LRQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%$_Q(ChO<<LQOOQQ<<LR<<LRO%$iQ`O<<LRO%LWQWO'#IpO%LcQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%LkQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%LuQWO,5=nOOQQ,5=n,5=nO%L|QWO'#EaO%MbQSO7+(sO%MgQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%MoQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#NWQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MzQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%NVQSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%N_QSO7++yO%NdQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%NiQSO7+(}O%NnQUO7+(}O%NuQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NzQSO,5>XOOQQ,5>Z,5>ZO& PQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO& UQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9oQ(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO& `Q(C[O<<ImO& kQ(CjO<= OO& {QSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO&!TQSOANAdO!&^Q,UOANAdO#%ZQSOANAdO%!RQbOANAdO%[QUOANAdO&!]Q(CjO7+'tO&$nQ(CjO7+'vO&'PQbO1G4eO&'ZQ$IUO7+&ZO&'hQ$IUO,59oO&)kQ$IUO,5<eO&+nQ$IUO,5<gO&-qQ$IUO,5<uO&/gQ$IUO7+'gO&/tQ$IUO7+'hO&0RQSO,5<XOOQO7+'[7+'[O&0WQ,UO<<KvOOQO1G4o1G4oO&0_QSO1G4oO&0jQSO1G4oO&0xQSO7++oO&0xQSO7++oO!&^Q,UO1G4qO&1QQ`O1G4qO&1[QSO7++pOOQ(CW7+(O7+(OO$$eQSO7+(PO&1dQ`O7+(POOQ(CW7+'}7+'}O$$eQSO7+(OO&1kQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&1pQ,UO<<NkOOQ(CY7+$w7+$wO&1zQ`O,5?YOOQO-E<l-E<lO&2UQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&2fQSO1G4zO&2kQSO7++xO&2kQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&2sQSO,5?[OOQO-E<n-E<nO&3OQ$IUO1G6ZO&5`QbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%LkQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%MbQSO<<L_O&5jQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#NWQSO<<LaO9OQSO<<LaO&5rQWO1G4yO&5}QSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&6VQSO<= eO&6[QSO<= fOOQQ<<Li<<LiO&6aQSO<<LiO&6fQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&6mQSO<<IzO&6xQ$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9oQ(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#%ZQSOG27OO&7SQSOG27OO%!RQbOG27OO&7[Q$IUO<<JbO&7iQ$IUO1G2YO&9_Q$IUO1G2lO&;bQ$IUO1G2nO&=eQ$IUO<<KSO&=rQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&>PQSO7+*ZO&>[QSO<= ZO&>dQ`O7+*]OOQ(CW<<Kk<<KkO$$eQSO<<KkOOQ(CW<<Kj<<KjO&>nQ`O<<KkO$$eQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&>uQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>}QSO7++uO%MbQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&?VQSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#NWQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&?_QSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9oQ(CjOG24sO#%ZQSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&?dQSOLD,jO&?lQ$IUO7+'tO&AbQ$IUO7+'vO&CWQ,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$eQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&ChQ$IUO7+*bOOQQG27eG27eO%MbQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&CrQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#%ZQSO!$(!UO!&^Q,UO!$(!UO&C|Q(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%MbQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#%ZQSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&F_Q$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&HTQbO'#JeO!*SQUO'#DoO&H[QUO'#D{O&HcQbO'#CgO&JyQbO'#CgO!*SQUO'#D}O&KZQUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&M^QSO,5<dO&MfQ,UO,5;_O&NyQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&MfQ,UO'#FyO!&^Q,UO'#F{O&MfQ,UO'#F{O!&^Q,UO'#GZO&MfQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&KZQUO1G0oO' QQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&MfQ,UO,5=QO!&^Q,UO,5=SO&MfQ,UO,5=SO!&^Q,UO,5<nO&MfQ,UO,5<nO&KZQUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&MfQ,UO1G2YO!&^Q,UO1G2[O&MfQ,UO1G2[O&KZQUO7+'hO&KZQUO7+&ZO!&^Q,UOANAbO&MfQ,UOANAbO' [QSO'#EiO' aQSO'#EiO' iQSO'#FXO' nQSO'#EsO' sQSO'#JuO'!OQSO'#JsO'!ZQSO,5;TO'!`Q,UO,5<aO'!gQSO'#GSO'!lQSO'#GSO'!qQSO,5<bO'!yQSO,5;TO'#RQ$IUO1G1[O'#YQSO,5<nO'#_QSO,5<nO'#dQSO,5<pO'#iQSO,5<pO'#nQSO1G1|O'#sQSO1G0oO'#xQ,UO<<KvO'$PQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KqQ`O1G2pO$KqQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U",stateData:"'%Y~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O`+eO%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O`,TO'v#mO'xTO'{UO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!DRO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!FkO!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# qO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# `O!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)wO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,sO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0oO#h$OO~P#0oOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3aOl$QO~P#3aOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#6ROY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#6ROP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#9SO(k#|O~P#9SOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;tO(l#}O~P#;tOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>fOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#APOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#C^O#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,sO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#C^O!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,sO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,sO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ tOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!jOz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#]O#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$zOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O`0gO'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+sO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#C^Om!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ tO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!jO#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#]O#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,sO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#C^O#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,sO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,sOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$J]Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$KOO(d$ZO~P#,sO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,sO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,sO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O`4`O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,sO!Y$|O~P#,sO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%%QOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O`5TO'v#mO'xTO'{UO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#C^O#Y5lO!W#bi!X#bi~O!W![i!X![i~P#C^O_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$J]O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$KOO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,sOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#C^OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%3jO#h9zO~P%3jOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5uOl9|O~P%5uOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%8QOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%8QOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:lO(k#|O~P%:lOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<wO(l#}O~P%<wOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%?SO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%AzO!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#C^O#z!oi!X!oi~P$$zO!X6`O~O!W'[a!X'[a~P#C^O!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,sO!b6gO~O!W/_O!T(ri~P#,sO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O`6zO'v+bO'xTO'{UO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%%QOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#C^O_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,sO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,sO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#C^Oz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%AzO#z$iq!W$iq!X$iq~P#C^O#z$jq!W$jq!X$jq~P#C^O!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,sO!W/_O!T(rq~O!T8_O~P#,sO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,sO_%Uq!Y%Uq'm%Uq!W%Uq~P#,sOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#C^OPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&3YO!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#C^O!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#C^OP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%AzOz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#C^O#z#]y!W#]y!X#]y~P#C^O!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,sO!T9VO~P#,sO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%AzOP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%AzOe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#C^O!W#b!Z!X#b!Z~P#C^O#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,sOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%AzOp(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&3YOPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&HpOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&MfO!XZX!XdX~P&HpO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#C^O#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~",goto:"$'X)OPPPP)PPP)SP)eP*t.xPPPP5`PP5vP;r>yP?^P?^PPP?^PAOP?^P?^P?^PASPPAXPArPFjPPPFnPPPPFnIoPPPIuJpPFnPMOPPPP! ^FnPPPFnPFnP!#lFnP!'Q!(S!(]P!)P!)T!)PPPPPP!,`!(SPP!,|!-vP!0jFnFn!0o!3y!8`!8`!<UPPP!<]FnPPPPPPPPPPP!?jP!@{PPFn!BYPFnPFnFnFnFnPFn!ClPP!FtP!IxP!I|!JW!J[!J[P!FqP!J`!J`P!MdP!MhFnFn!Mn#!q?^P?^P?^?^P##|?^?^#%x?^#(X?^#)}?^?^#*l#,j#,j#,n#,v#,j#-OP#,jP?^#-h?^#.q?^?^5`PPP#/}PPP#0h#0hP#0hP#1O#0hPP#1UP#0{P#0{#1i#0{#2T#2Z5])S#2^)SP#2e#2e#2eP)SP)SP)SP)SPP)SP#2k#2nP#2n)SP#2rP#2uP)SP)SP)SP)SP)SP)S)SPP#2{#3R#3^#3d#3j#3p#3v#4U#4[#4b#4l#4r#4|#5]#5c#6T#6g#6m#6s#7R#7h#8y#9X#9_#9e#9k#9q#9{#:R#:X#:c#:u#:{PPPPPPPPPP#;RPPPPPPP#;v#>}P#@^#@e#@mPPPP#D{#Gr#NZ#N^#Na$ Y$ ]$ `$ g$ oPP$ u$ y$!q$#p$#t$$YPP$$^$$d$$hP$$k$$o$$r$%h$&P$&h$&l$&o$&r$&x$&{$'P$'TR!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ,T&^Q/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5T1VQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:367,context:SLe,nodeProps:[["group",-26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,"Statement",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,"Expression",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,"Type",-3,85,97,103,"ClassItem"],["openedBy",32,"InterpolationStart",51,"[",55,"{",70,"(",144,"JSXStartTag",156,"JSXStartTag JSXStartCloseTag"],["closedBy",34,"InterpolationEnd",45,"]",56,"}",71,")",145,"JSXSelfCloseEndTag JSXEndTag",161,"JSXEndTag"]],propSources:[kLe],skippedNodes:[0,3,4,270],repeatNodeCount:33,tokenData:"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[CLe,TLe,2,3,4,5,6,7,8,9,10,11,12,13,wLe,new VH("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~",141,328),new VH("j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~",25,310)],topRules:{Script:[0,5],SingleExpression:[1,268],SingleClassItem:[2,269]},dialects:{jsx:12842,ts:12844},dynamicPrecedences:{67:1,77:1,79:1,164:1,192:1},specialized:[{term:314,get:t=>ALe[t]||-1},{term:330,get:t=>PLe[t]||-1},{term:68,get:t=>MLe[t]||-1}],tokenPrec:12868}),B2e=[bc("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),bc("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),bc("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),bc("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),bc("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),bc(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),bc("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),bc(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),bc(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),bc('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),bc('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],_Le=B2e.concat([bc("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),bc("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),bc("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),_ge=new Die,Q2e=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function DR(t){return(e,r)=>{let a=e.node.getChild("VariableDefinition");return a&&r(a,t),!0}}const RLe=["FunctionDeclaration"],DLe={FunctionDeclaration:DR("function"),ClassDeclaration:DR("class"),ClassExpression:()=>!0,EnumDeclaration:DR("constant"),TypeAliasDeclaration:DR("type"),NamespaceDeclaration:DR("namespace"),VariableDefinition(t,e){t.matchContext(RLe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function F2e(t,e){let r=_ge.get(e);if(r)return r;let a=[],i=!0;function f(d,h){let c=t.sliceString(d.from,d.to);a.push({label:c,type:h})}return e.cursor(Sl.IncludeAnonymous).iterate(d=>{if(i)i=!1;else if(d.name){let h=DLe[d.name];if(h&&h(d,f)||Q2e.has(d.name))return!1}else if(d.to-d.from>8192){for(let h of F2e(t,d.node))a.push(h);return!1}}),_ge.set(e,a),a}const Rge=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,V2e=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function $Le(t){let e=al(t.state).resolveInner(t.pos,-1);if(V2e.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Rge.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let a=[];for(let i=e;i;i=i.parent)Q2e.has(i.name)&&(a=a.concat(F2e(t.state.doc,i)));return{options:a,from:r?e.from:t.pos,validFor:Rge}}const oy=$S.define({name:"javascript",parser:ELe.configure({props:[GT.add({IfStatement:eD({except:/^\s*({|else\b)/}),TryStatement:eD({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:yAe,SwitchBody:t=>{let e=t.textAfter,r=/^\s*\}/.test(e),a=/^\s*(case|default)\b/.test(e);return t.baseIndent+(r?0:a?1:2)*t.unit},Block:eH({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":eD({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),FS.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Qie,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),z2e={test:t=>/^JSX/.test(t.name),facet:Lie({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Z2e=oy.configure({dialect:"ts"},"typescript"),H2e=oy.configure({dialect:"jsx",props:[Iie.add(t=>t.isTop?[z2e]:void 0)]}),U2e=oy.configure({dialect:"jsx ts",props:[Iie.add(t=>t.isTop?[z2e]:void 0)]},"typescript");let W2e=t=>({label:t,type:"keyword"});const Y2e="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(W2e),LLe=Y2e.concat(["declare","implements","private","protected","public"].map(W2e));function ILe(t={}){let e=t.jsx?t.typescript?U2e:H2e:t.typescript?Z2e:oy,r=t.typescript?_Le.concat(LLe):B2e.concat(Y2e);return new FT(e,[oy.data.of({autocomplete:Gie(V2e,VU(r))}),oy.data.of({autocomplete:$Le}),t.jsx?QLe:[]])}function NLe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function Dge(t,e,r=t.length){for(let a=e==null?void 0:e.firstChild;a;a=a.nextSibling)if(a.name=="JSXIdentifier"||a.name=="JSXBuiltin"||a.name=="JSXNamespacedName"||a.name=="JSXMemberExpression")return t.sliceString(a.from,Math.min(a.to,r));return""}const BLe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),QLe=Xo.inputHandler.of((t,e,r,a,i)=>{if((BLe?t.composing:t.compositionStarted)||t.state.readOnly||e!=r||a!=">"&&a!="/"||!oy.isActiveAt(t.state,e,-1))return!1;let f=i(),{state:d}=f,h=d.changeByRange(c=>{var g;let{head:v}=c,y=al(d).resolveInner(v-1,-1),b;if(y.name=="JSXStartTag"&&(y=y.parent),!(d.doc.sliceString(v-1,v)!=a||y.name=="JSXAttributeValue"&&y.to>v)){if(a==">"&&y.name=="JSXFragmentTag")return{range:c,changes:{from:v,insert:"</>"}};if(a=="/"&&y.name=="JSXStartCloseTag"){let O=y.parent,T=O.parent;if(T&&O.from==v-2&&((b=Dge(d.doc,T.firstChild,v))||((g=T.firstChild)===null||g===void 0?void 0:g.name)=="JSXFragmentTag")){let k=`${b}>`;return{range:xr.cursor(v+k.length,-1),changes:{from:v,insert:k}}}}else if(a==">"){let O=NLe(y);if(O&&!/^\/?>|^<\//.test(d.doc.sliceString(v,v+2))&&(b=Dge(d.doc,O,v)))return{range:c,changes:{from:v,insert:`</${b}>`}}}}return{range:c}});return h.changes.empty?!1:(t.dispatch([f,d.update(h,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),$R=["_blank","_self","_top","_parent"],Roe=["ascii","utf-8","utf-16","latin1","latin1"],Doe=["get","post","put","delete"],$oe=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],fg=["true","false"],ys={},FLe={a:{attrs:{href:null,ping:null,type:null,media:null,target:$R,hreflang:null}},abbr:ys,address:ys,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:ys,aside:ys,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:ys,base:{attrs:{href:null,target:$R}},bdi:ys,bdo:ys,blockquote:{attrs:{cite:null}},body:ys,br:ys,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:$oe,formmethod:Doe,formnovalidate:["novalidate"],formtarget:$R,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:ys,center:ys,cite:ys,code:ys,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:ys,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:ys,div:ys,dl:ys,dt:ys,em:ys,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:ys,figure:ys,footer:ys,form:{attrs:{action:null,name:null,"accept-charset":Roe,autocomplete:["on","off"],enctype:$oe,method:Doe,novalidate:["novalidate"],target:$R}},h1:ys,h2:ys,h3:ys,h4:ys,h5:ys,h6:ys,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:ys,hgroup:ys,hr:ys,html:{attrs:{manifest:null}},i:ys,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:$oe,formmethod:Doe,formnovalidate:["novalidate"],formtarget:$R,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:ys,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:ys,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:ys,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Roe,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:ys,noscript:ys,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:ys,param:{attrs:{name:null,value:null}},pre:ys,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:ys,rt:ys,ruby:ys,samp:ys,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Roe}},section:ys,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:ys,source:{attrs:{src:null,type:null,media:null}},span:ys,strong:ys,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:ys,summary:ys,sup:ys,table:ys,tbody:ys,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:ys,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:ys,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:ys,time:{attrs:{datetime:null}},title:ys,tr:ys,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:ys,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:ys},X2e={accesskey:null,class:null,contenteditable:fg,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:fg,autocorrect:fg,autocapitalize:fg,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":fg,"aria-autocomplete":["inline","list","both","none"],"aria-busy":fg,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":fg,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":fg,"aria-hidden":fg,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":fg,"aria-multiselectable":fg,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":fg,"aria-relevant":null,"aria-required":fg,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},G2e="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of G2e)X2e[t]=null;class VD{constructor(e,r){this.tags=Object.assign(Object.assign({},FLe),e),this.globalAttrs=Object.assign(Object.assign({},X2e),r),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}VD.default=new VD;function A8(t,e,r=t.length){if(!e)return"";let a=e.firstChild,i=a&&a.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,r)):""}function P8(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function j2e(t,e,r){let a=r.tags[A8(t,P8(e))];return(a==null?void 0:a.children)||r.allTags}function rce(t,e){let r=[];for(let a=P8(e);a&&!a.type.isTop;a=P8(a.parent)){let i=A8(t,a);if(i&&a.lastChild.name=="CloseTag")break;i&&r.indexOf(i)<0&&(e.name=="EndTag"||e.from>=a.firstChild.to)&&r.push(i)}return r}const q2e=/^[:\-\.\w\u00b7-\uffff]*$/;function $ge(t,e,r,a,i){let f=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",d=P8(r,!0);return{from:a,to:i,options:j2e(t.doc,d,e).map(h=>({label:h,type:"type"})).concat(rce(t.doc,r).map((h,c)=>({label:"/"+h,apply:"/"+h+f,type:"type",boost:99-c}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Lge(t,e,r,a){let i=/\s*>/.test(t.sliceDoc(a,a+5))?"":">";return{from:r,to:a,options:rce(t.doc,e).map((f,d)=>({label:f,apply:f+i,type:"type",boost:99-d})),validFor:q2e}}function VLe(t,e,r,a){let i=[],f=0;for(let d of j2e(t.doc,r,e))i.push({label:"<"+d,type:"type"});for(let d of rce(t.doc,r))i.push({label:"</"+d+">",type:"type",boost:99-f++});return{from:a,to:a,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function zLe(t,e,r,a,i){let f=P8(r),d=f?e.tags[A8(t.doc,f)]:null,h=d&&d.attrs?Object.keys(d.attrs):[],c=d&&d.globalAttrs===!1?h:h.length?h.concat(e.globalAttrNames):e.globalAttrNames;return{from:a,to:i,options:c.map(g=>({label:g,type:"property"})),validFor:q2e}}function ZLe(t,e,r,a,i){var f;let d=(f=r.parent)===null||f===void 0?void 0:f.getChild("AttributeName"),h=[],c;if(d){let g=t.sliceDoc(d.from,d.to),v=e.globalAttrs[g];if(!v){let y=P8(r),b=y?e.tags[A8(t.doc,y)]:null;v=(b==null?void 0:b.attrs)&&b.attrs[g]}if(v){let y=t.sliceDoc(a,i).toLowerCase(),b='"',O='"';/^['"]/.test(y)?(c=y[0]=='"'?/^[^"]*$/:/^[^']*$/,b="",O=t.sliceDoc(i,i+1)==y[0]?"":y[0],y=y.slice(1),a++):c=/^[^\s<>='"]*$/;for(let T of v)h.push({label:T,apply:b+T+O,type:"constant"})}}return{from:a,to:i,options:h,validFor:c}}function K2e(t,e){let{state:r,pos:a}=e,i=al(r).resolveInner(a,-1),f=i.resolve(a);for(let d=a,h;f==i&&(h=i.childBefore(d));){let c=h.lastChild;if(!c||!c.type.isError||c.from<c.to)break;f=i=h,d=c.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?Lge(r,i,i.from,a):$ge(r,t,i,i.from,a):i.name=="StartTag"?$ge(r,t,i,a,a):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?Lge(r,i,a,a):e.explicit&&(i.name=="OpenTag"||i.name=="SelfClosingTag")||i.name=="AttributeName"?zLe(r,t,i,i.name=="AttributeName"?i.from:a,a):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?ZLe(r,t,i,i.name=="Is"?a:i.from,a):e.explicit&&(f.name=="Element"||f.name=="Text"||f.name=="Document")?VLe(r,t,i,a):null}function HLe(t){return K2e(VD.default,t)}function ULe(t){let{extraTags:e,extraGlobalAttributes:r}=t,a=r||e?new VD(e,r):VD.default;return i=>K2e(a,i)}const WLe=oy.parser.configure({top:"SingleExpression"}),J2e=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:Z2e.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:H2e.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:U2e.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:WLe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:oy.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:cU.parser}],exe=[{name:"style",parser:cU.parser.configure({top:"Styles"})}].concat(G2e.map(t=>({name:t,parser:oy.parser}))),txe=$S.define({name:"html",parser:$$e.configure({props:[GT.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,r;for(let a=t.node;;){let i=a.lastChild;if(!i||i.name!="Element"||i.to!=a.to)break;e=a=i}return e&&!((r=e.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),FS.add({Element(t){let e=t.firstChild,r=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:r.name=="CloseTag"?r.from:t.to}}}),M0e.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),iH=txe.configure({wrap:D2e(J2e,exe)});function YLe(t={}){let e="",r;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(r=D2e((t.nestedLanguages||[]).concat(J2e),(t.nestedAttributes||[]).concat(exe)));let a=r?txe.configure({wrap:r,dialect:e}):e?iH.configure({dialect:e}):iH;return new FT(a,[iH.data.of({autocomplete:ULe(t)}),t.autoCloseTags!==!1?XLe:[],ILe().support,cLe().support])}const Ige=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),XLe=Xo.inputHandler.of((t,e,r,a,i)=>{if(t.composing||t.state.readOnly||e!=r||a!=">"&&a!="/"||!iH.isActiveAt(t.state,e,-1))return!1;let f=i(),{state:d}=f,h=d.changeByRange(c=>{var g,v,y;let b=d.doc.sliceString(c.from-1,c.to)==a,{head:O}=c,T=al(d).resolveInner(O-1,-1),k;if((T.name=="TagName"||T.name=="StartTag")&&(T=T.parent),b&&a==">"&&T.name=="OpenTag"){if(((v=(g=T.parent)===null||g===void 0?void 0:g.lastChild)===null||v===void 0?void 0:v.name)!="CloseTag"&&(k=A8(d.doc,T.parent,O))&&!Ige.has(k)){let w=O+(d.doc.sliceString(O,O+1)===">"?1:0),C=`</${k}>`;return{range:c,changes:{from:O,to:w,insert:C}}}}else if(b&&a=="/"&&T.name=="IncompleteCloseTag"){let w=T.parent;if(T.from==O-2&&((y=w.lastChild)===null||y===void 0?void 0:y.name)!="CloseTag"&&(k=A8(d.doc,w,O))&&!Ige.has(k)){let C=O+(d.doc.sliceString(O,O+1)===">"?1:0),_=`${k}>`;return{range:xr.cursor(O+_.length,-1),changes:{from:O,to:C,insert:_}}}}return{range:c}});return h.changes.empty?!1:(t.dispatch([f,d.update(h,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),nxe=Lie({commentTokens:{block:{open:"<!--",close:"-->"}}}),rxe=new ha,oxe=NDe.configure({props:[FS.add(t=>!t.is("Block")||t.is("Document")||Aae(t)!=null?void 0:(e,r)=>({from:r.doc.lineAt(e.from).to,to:e.to})),rxe.add(Aae),GT.add({Document:()=>null}),RT.add({Document:nxe})]});function Aae(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function GLe(t,e){let r=t;for(;;){let a=r.nextSibling,i;if(!a||(i=Aae(a.type))!=null&&i<=e)break;r=a}return r.to}const jLe=v0e.of((t,e,r)=>{for(let a=al(t).resolveInner(r,-1);a&&!(a.from<e);a=a.parent){let i=a.type.prop(rxe);if(i==null)continue;let f=GLe(a,i);if(f>r)return{from:r,to:f}}return null});function oce(t){return new Mp(nxe,t,[jLe],"markdown")}const qLe=oce(oxe),KLe=oxe.configure([XDe,jDe,GDe,qDe,{props:[FS.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),sxe=oce(KLe);function JLe(t,e){return r=>{if(r&&t){let a=null;if(r=/\S*/.exec(r)[0],typeof t=="function"?a=t(r):a=AH.matchLanguageName(t,r,!0),a instanceof AH)return a.support?a.support.language.parser:kD.getSkippingParser(a.load());if(a)return a.parser}return e?e.parser:null}}class BZ{constructor(e,r,a,i,f,d,h){this.node=e,this.from=r,this.to=a,this.spaceBefore=i,this.spaceAfter=f,this.type=d,this.item=h}blank(e,r=!0){let a=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;a.length<e;)a+=" ";return a}else{for(let i=this.to-this.from-a.length-this.spaceAfter.length;i>0;i--)a+=" ";return a+(r?this.spaceAfter:"")}}marker(e,r){let a=this.node.name=="OrderedList"?String(+ixe(this.item,e)[2]+r):"";return this.spaceBefore+a+this.type+this.spaceAfter}}function axe(t,e){let r=[];for(let i=t;i&&i.name!="Document";i=i.parent)(i.name=="ListItem"||i.name=="Blockquote"||i.name=="FencedCode")&&r.push(i);let a=[];for(let i=r.length-1;i>=0;i--){let f=r[i],d,h=e.lineAt(f.from),c=f.from-h.from;if(f.name=="FencedCode")a.push(new BZ(f,c,c,"","","",null));else if(f.name=="Blockquote"&&(d=/^ *>( ?)/.exec(h.text.slice(c))))a.push(new BZ(f,c,c+d[0].length,"",d[1],">",null));else if(f.name=="ListItem"&&f.parent.name=="OrderedList"&&(d=/^( *)\d+([.)])( *)/.exec(h.text.slice(c)))){let g=d[3],v=d[0].length;g.length>=4&&(g=g.slice(0,g.length-4),v-=4),a.push(new BZ(f.parent,c,c+v,d[1],g,d[2],f))}else if(f.name=="ListItem"&&f.parent.name=="BulletList"&&(d=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(h.text.slice(c)))){let g=d[4],v=d[0].length;g.length>4&&(g=g.slice(0,g.length-4),v-=4);let y=d[2];d[3]&&(y+=d[3].replace(/[xX]/," ")),a.push(new BZ(f.parent,c,c+v,d[1],g,y,f))}}return a}function ixe(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function Loe(t,e,r,a=0){for(let i=-1,f=t;;){if(f.name=="ListItem"){let h=ixe(f,e),c=+h[2];if(i>=0){if(c!=i+1)return;r.push({from:f.from+h[1].length,to:f.from+h[0].length,insert:String(i+2+a)})}i=c}let d=f.nextSibling;if(!d)break;f=d}}function Pae(t,e){let r=/^[ \t]*/.exec(t)[0].length;if(!r||e.facet(XT)!="	")return t;let a=Wv(t,4,r),i="";for(let f=a;f>0;)f>=4?(i+="	",f-=4):(i+=" ",f--);return i+t.slice(r)}const eIe=({state:t,dispatch:e})=>{let r=al(t),{doc:a}=t,i=null,f=t.changeByRange(d=>{if(!d.empty||!sxe.isActiveAt(t,d.from))return i={range:d};let h=d.from,c=a.lineAt(h),g=axe(r.resolveInner(h,-1),a);for(;g.length&&g[g.length-1].from>h-c.from;)g.pop();if(!g.length)return i={range:d};let v=g[g.length-1];if(v.to-v.spaceAfter.length>h-c.from)return i={range:d};let y=h>=v.to-v.spaceAfter.length&&!/\S/.test(c.text.slice(v.to));if(v.item&&y)if(v.node.firstChild.to>=h||c.from>0&&!/[^\s>]/.test(a.lineAt(c.from-1).text)){let w=g.length>1?g[g.length-2]:null,C,_="";w&&w.item?(C=c.from+w.from,_=w.marker(a,1)):C=c.from+(w?w.to:0);let M=[{from:C,to:h,insert:_}];return v.node.name=="OrderedList"&&Loe(v.item,a,M,-2),w&&w.node.name=="OrderedList"&&Loe(w.item,a,M),{range:xr.cursor(C+_.length),changes:M}}else{let w="";for(let C=0,_=g.length-2;C<=_;C++)w+=g[C].blank(C<_?Wv(c.text,4,g[C+1].from)-w.length:null,C<_);return w=Pae(w,t),{range:xr.cursor(h+w.length+1),changes:{from:c.from,insert:w+t.lineBreak}}}if(v.node.name=="Blockquote"&&y&&c.from){let w=a.lineAt(c.from-1),C=/>\s*$/.exec(w.text);if(C&&C.index==v.from){let _=t.changes([{from:w.from+C.index,to:w.to},{from:c.from+v.from,to:c.to}]);return{range:d.map(_),changes:_}}}let b=[];v.node.name=="OrderedList"&&Loe(v.item,a,b);let O=v.item&&v.item.from<c.from,T="";if(!O||/^[\s\d.)\-+*>]*/.exec(c.text)[0].length>=v.to)for(let w=0,C=g.length-1;w<=C;w++)T+=w==C&&!O?g[w].marker(a,1):g[w].blank(w<C?Wv(c.text,4,g[w+1].from)-T.length:null);let k=h;for(;k>c.from&&/\s/.test(c.text.charAt(k-c.from-1));)k--;return T=Pae(T,t),b.push({from:k,to:h,insert:t.lineBreak+T}),{range:xr.cursor(k+T.length+1),changes:b}});return i?!1:(e(t.update(f,{scrollIntoView:!0,userEvent:"input"})),!0)};function Nge(t){return t.name=="QuoteMark"||t.name=="ListMark"}function tIe(t,e){let r=t.resolveInner(e,-1),a=e;Nge(r)&&(a=r.from,r=r.parent);for(let i;i=r.childBefore(a);)if(Nge(i))a=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")r=i.lastChild,a=r.to;else break;return r}const nIe=({state:t,dispatch:e})=>{let r=al(t),a=null,i=t.changeByRange(f=>{let d=f.from,{doc:h}=t;if(f.empty&&sxe.isActiveAt(t,f.from)){let c=h.lineAt(d),g=axe(tIe(r,d),h);if(g.length){let v=g[g.length-1],y=v.to-v.spaceAfter.length+(v.spaceAfter?1:0);if(d-c.from>y&&!/\S/.test(c.text.slice(y,d-c.from)))return{range:xr.cursor(c.from+y),changes:{from:c.from+y,to:d}};if(d-c.from==y&&(!v.item||c.from<=v.item.from||!/\S/.test(c.text.slice(0,v.to)))){let b=c.from+v.from;if(v.item&&v.node.from<v.item.from&&/\S/.test(c.text.slice(v.from,v.to))){let O=v.blank(Wv(c.text,4,v.to)-Wv(c.text,4,v.from));return b==c.from&&(O=Pae(O,t)),{range:xr.cursor(b+O.length),changes:{from:b,to:c.from+v.to,insert:O}}}if(b<d)return{range:xr.cursor(b),changes:{from:b,to:d}}}}}return a={range:f}});return a?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},rIe=[{key:"Enter",run:eIe},{key:"Backspace",run:nIe}],Mae=YLe({matchClosingTags:!1});function lxe(t={}){let{codeLanguages:e,defaultCodeLanguage:r,addKeymap:a=!0,base:{parser:i}=qLe,completeHTMLTags:f=!0}=t;if(!(i instanceof lW))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let d=t.extensions?[t.extensions]:[],h=[Mae.support],c;r instanceof FT?(h.push(r.support),c=r.language):r&&(c=r);let g=e||c?JLe(e,c):void 0;d.push(QDe({codeParser:g,htmlParser:Mae.language.parser})),a&&h.push(Og.high(RO.of(rIe)));let v=oce(i.configure(d));return f&&h.push(v.data.of({autocomplete:oIe})),new FT(v,h)}function oIe(t){let{state:e,pos:r}=t,a=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(r-25,r));if(!a)return null;let i=al(e).resolveInner(r,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:r-a[0].length,to:r,options:sIe(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let Ioe=null;function sIe(){if(Ioe)return Ioe;let t=HLe(new Xie(Na.create({extensions:Mae}),0,!0));return Ioe=t?t.options:[]}const aIe={components:{"add-cell":Xle,cell:iW,codemirror:HU},computed:{extensions(){return[lxe(),O8,zT({override:[]})]},compiledMarkdown(){return el.parse(this.cellData.code)},isAppRoute(){return YT().path==="/app"},isMobile(){return this.$vuetify.display.mobile}},data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},inheritAttrs:!1,emits:["saveCell","deleteCell","createCell"],props:{cellData:{type:Object,required:!0}},methods:{saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)}}};const iIe=["innerHTML"];function lIe(t,e,r,a,i,f){const d=Kf("codemirror"),h=Kf("cell");return zr(),fs(h,{"cell-type":"markdown","cell-id":r.cellData.id,"is-dev-mode":t.$devMode&&!f.isAppRoute&&!f.isMobile,onDelete:f.deleteCell,onSave:f.saveCell,onAddCell:e[1]||(e[1]=c=>f.createCell(c))},{code:so(()=>[t.$devMode&&!f.isMobile?(zr(),fs(d,{key:0,modelValue:r.cellData.code,"onUpdate:modelValue":e[0]||(e[0]=c=>r.cellData.code=c),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:f.extensions,onKeyup:f.saveCell},null,8,["modelValue","extensions","onKeyup"])):Ja("",!0)]),outcome:so(()=>[Ya("div",{class:"markdown-content",innerHTML:f.compiledMarkdown},null,8,iIe)]),_:1},8,["cell-id","is-dev-mode","onDelete","onSave"])}const cxe=wg(aIe,[["render",lIe],["__scopeId","data-v-5864478d"]]);var cIe={exports:{}};(function(t){(function(){var e=function(n){if(n===null)return"null";if(n===void 0)return"undefined";var s=typeof n;return s==="object"&&(Array.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="String")?"string":s},r=function(n){return["undefined","boolean","number","string","function","xml","null"].indexOf(n)!==-1},a=function(n,s){var l=Array.prototype.slice.call(n);return l.sort(s)},i=function(n,s){return f(function(l,m){return n.eq(s(l),s(m))})},f=function(n){return{eq:n}},d=f(function(n,s){return n===s}),h=d,c=function(n){return f(function(s,l){if(s.length!==l.length)return!1;for(var m=s.length,x=0;x<m;x++)if(!n.eq(s[x],l[x]))return!1;return!0})},g=function(n,s){return i(c(n),function(l){return a(l,s)})},v=function(n){return f(function(s,l){var m=Object.keys(s),x=Object.keys(l);if(!g(h).eq(m,x))return!1;for(var P=m.length,Z=0;Z<P;Z++){var J=m[Z];if(!n.eq(s[J],l[J]))return!1}return!0})},y=f(function(n,s){if(n===s)return!0;var l=e(n),m=e(s);return l!==m?!1:r(l)?n===s:l==="array"?c(y).eq(n,s):l==="object"?v(y).eq(n,s):!1});const b=Object.getPrototypeOf,O=(n,s,l)=>{var m;return l(n,s.prototype)?!0:((m=n.constructor)===null||m===void 0?void 0:m.name)===s.name},T=n=>{const s=typeof n;return n===null?"null":s==="object"&&Array.isArray(n)?"array":s==="object"&&O(n,String,(l,m)=>m.isPrototypeOf(l))?"string":s},k=n=>s=>T(s)===n,w=n=>s=>typeof s===n,C=n=>s=>n===s,_=(n,s)=>I(n)&&O(n,s,(l,m)=>b(l)===m),M=k("string"),I=k("object"),V=n=>_(n,Object),N=k("array"),Q=C(null),z=w("boolean"),U=C(void 0),F=n=>n==null,B=n=>!F(n),E=w("function"),W=w("number"),X=(n,s)=>{if(N(n)){for(let l=0,m=n.length;l<m;++l)if(!s(n[l]))return!1;return!0}return!1},ie=()=>{},L=(n,s)=>(...l)=>n(s.apply(null,l)),me=(n,s)=>l=>n(s(l)),ae=n=>()=>n,q=n=>n,de=(n,s)=>n===s;function ee(n,...s){return(...l)=>{const m=s.concat(l);return n.apply(null,m)}}const xe=n=>s=>!n(s),we=n=>()=>{throw new Error(n)},Be=n=>n(),pe=n=>{n()},ne=ae(!1),le=ae(!0);class Y{constructor(s,l){this.tag=s,this.value=l}static some(s){return new Y(!0,s)}static none(){return Y.singletonNone}fold(s,l){return this.tag?l(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?Y.some(s(this.value)):Y.none()}bind(s){return this.tag?s(this.value):Y.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:Y.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return B(s)?Y.some(s):Y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Y.singletonNone=new Y(!1);const ve=Array.prototype.slice,Oe=Array.prototype.indexOf,Le=Array.prototype.push,Te=(n,s)=>Oe.call(n,s),De=(n,s)=>{const l=Te(n,s);return l===-1?Y.none():Y.some(l)},Ve=(n,s)=>Te(n,s)>-1,_e=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const x=n[l];if(s(x,l))return!0}return!1},Ie=(n,s)=>{const l=n.length,m=new Array(l);for(let x=0;x<l;x++){const P=n[x];m[x]=s(P,x)}return m},re=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const x=n[l];s(x,l)}},be=(n,s)=>{for(let l=n.length-1;l>=0;l--){const m=n[l];s(m,l)}},te=(n,s)=>{const l=[],m=[];for(let x=0,P=n.length;x<P;x++){const Z=n[x];(s(Z,x)?l:m).push(Z)}return{pass:l,fail:m}},se=(n,s)=>{const l=[];for(let m=0,x=n.length;m<x;m++){const P=n[m];s(P,m)&&l.push(P)}return l},fe=(n,s,l)=>(be(n,(m,x)=>{l=s(l,m,x)}),l),oe=(n,s,l)=>(re(n,(m,x)=>{l=s(l,m,x)}),l),Se=(n,s,l)=>{for(let m=0,x=n.length;m<x;m++){const P=n[m];if(s(P,m))return Y.some(P);if(l(P,m))break}return Y.none()},ce=(n,s)=>Se(n,s,ne),ke=(n,s)=>{for(let l=0,m=n.length;l<m;l++){const x=n[l];if(s(x,l))return Y.some(l)}return Y.none()},Qe=n=>{const s=[];for(let l=0,m=n.length;l<m;++l){if(!N(n[l]))throw new Error("Arr.flatten item "+l+" was not an array, input: "+n);Le.apply(s,n[l])}return s},Ze=(n,s)=>Qe(Ie(n,s)),Xe=(n,s)=>{for(let l=0,m=n.length;l<m;++l){const x=n[l];if(s(x,l)!==!0)return!1}return!0},ct=n=>{const s=ve.call(n,0);return s.reverse(),s},pt=(n,s)=>se(n,l=>!Ve(s,l)),Ye=(n,s)=>{const l={};for(let m=0,x=n.length;m<x;m++){const P=n[m];l[String(P)]=s(P,m)}return l},je=(n,s)=>{const l=ve.call(n,0);return l.sort(s),l},et=(n,s)=>s>=0&&s<n.length?Y.some(n[s]):Y.none(),yt=n=>et(n,0),ft=n=>et(n,n.length-1),tt=E(Array.from)?Array.from:n=>ve.call(n),wt=(n,s)=>{for(let l=0;l<n.length;l++){const m=s(n[l],l);if(m.isSome())return m}return Y.none()},Xt=(n,s)=>{const l=[],m=E(s)?x=>_e(l,P=>s(P,x)):x=>Ve(l,x);for(let x=0,P=n.length;x<P;x++){const Z=n[x];m(Z)||l.push(Z)}return l},Gt=Object.keys,Nt=Object.hasOwnProperty,Bt=(n,s)=>{const l=Gt(n);for(let m=0,x=l.length;m<x;m++){const P=l[m],Z=n[P];s(Z,P)}},vn=(n,s)=>En(n,(l,m)=>({k:m,v:s(l,m)})),En=(n,s)=>{const l={};return Bt(n,(m,x)=>{const P=s(m,x);l[P.k]=P.v}),l},ln=n=>(s,l)=>{n[l]=s},Yn=(n,s,l,m)=>{Bt(n,(x,P)=>{(s(x,P)?l:m)(x,P)})},an=(n,s)=>{const l={},m={};return Yn(n,s,ln(l),ln(m)),{t:l,f:m}},wn=(n,s)=>{const l={};return Yn(n,s,ln(l),ie),l},Xn=(n,s)=>{const l=[];return Bt(n,(m,x)=>{l.push(s(m,x))}),l},Un=n=>Xn(n,q),Sn=(n,s)=>lt(n,s)?Y.from(n[s]):Y.none(),lt=(n,s)=>Nt.call(n,s),ut=(n,s)=>lt(n,s)&&n[s]!==void 0&&n[s]!==null,xt=(n,s,l=y)=>v(l).eq(n,s),gt=n=>{const s={};return re(n,l=>{s[l]={}}),Gt(s)},Dt=n=>n.length!==void 0,He=Array.isArray,it=n=>{if(He(n))return n;{const s=[];for(let l=0,m=n.length;l<m;l++)s[l]=n[l];return s}},dt=(n,s,l)=>{if(!n)return!1;if(l=l||n,Dt(n)){for(let m=0,x=n.length;m<x;m++)if(s.call(l,n[m],m,n)===!1)return!1}else for(const m in n)if(lt(n,m)&&s.call(l,n[m],m,n)===!1)return!1;return!0},mt=(n,s)=>{const l=[];return dt(n,(m,x)=>{l.push(s(m,x,n))}),l},Ct=(n,s)=>{const l=[];return dt(n,(m,x)=>{(!s||s(m,x,n))&&l.push(m)}),l},Pt=(n,s)=>{if(n){for(let l=0,m=n.length;l<m;l++)if(n[l]===s)return l}return-1},dn=(n,s,l,m)=>{let x=U(l)?n[0]:l;for(let P=0;P<n.length;P++)x=s.call(m,x,n[P],P);return x},rn=(n,s,l)=>{for(let m=0,x=n.length;m<x;m++)if(s.call(l,n[m],m,n))return m;return-1},Wt=n=>n[n.length-1],Rt=n=>{let s=!1,l;return(...m)=>(s||(s=!0,l=n.apply(null,m)),l)},fn=(n,s,l,m)=>{const x=n.isiOS()&&/ipad/i.test(l)===!0,P=n.isiOS()&&!x,Z=n.isiOS()||n.isAndroid(),J=Z||m("(pointer:coarse)"),ge=x||!P&&Z&&m("(min-device-width:768px)"),Re=P||Z&&!ge,Ge=s.isSafari()&&n.isiOS()&&/safari/i.test(l)===!1,qe=!Re&&!ge&&!Ge;return{isiPad:ae(x),isiPhone:ae(P),isTablet:ae(ge),isPhone:ae(Re),isTouch:ae(J),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:ae(Ge),isDesktop:ae(qe)}},Hn=(n,s)=>{for(let l=0;l<n.length;l++){const m=n[l];if(m.test(s))return m}},nr=(n,s)=>{const l=Hn(n,s);if(!l)return{major:0,minor:0};const m=x=>Number(s.replace(l,"$"+x));return vr(m(1),m(2))},Er=(n,s)=>{const l=String(s).toLowerCase();return n.length===0?zt():nr(n,l)},zt=()=>vr(0,0),vr=(n,s)=>({major:n,minor:s}),Wn={nu:vr,detect:Er,unknown:zt},Br=(n,s)=>wt(s.brands,l=>{const m=l.brand.toLowerCase();return ce(n,x=>{var P;return m===((P=x.brand)===null||P===void 0?void 0:P.toLowerCase())}).map(x=>({current:x.name,version:Wn.nu(parseInt(l.version,10),0)}))}),kr=(n,s)=>{const l=String(s).toLowerCase();return ce(n,m=>m.search(l))},or=(n,s)=>kr(n,s).map(l=>{const m=Wn.detect(l.versionRegexes,s);return{current:l.name,version:m}}),jr=(n,s)=>kr(n,s).map(l=>{const m=Wn.detect(l.versionRegexes,s);return{current:l.name,version:m}}),_r=(n,s)=>n.substring(s),Rn=(n,s,l)=>s===""||n.length>=s.length&&n.substr(l,l+s.length)===s,Sr=(n,s)=>wr(n,s)?_r(n,s.length):n,sr=(n,s,l=0,m)=>{const x=n.indexOf(s,l);return x!==-1?U(m)?!0:x+s.length<=m:!1},wr=(n,s)=>Rn(n,s,0),ao=(n,s)=>Rn(n,s,n.length-s.length),xo=n=>s=>s.replace(n,""),Cr=xo(/^\s+|\s+$/g),Fe=xo(/^\s+/g),Ee=xo(/\s+$/g),St=n=>n.length>0,Tt=n=>!St(n),Lt=(n,s)=>s<=0?"":new Array(s+1).join(n),Ft=(n,s=10)=>{const l=parseInt(n,s);return isNaN(l)?Y.none():Y.some(l)},Ht=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$t=n=>s=>sr(s,n),Mt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>sr(n,"edge/")&&sr(n,"chrome")&&sr(n,"safari")&&sr(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ht],search:n=>sr(n,"chrome")&&!sr(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>sr(n,"msie")||sr(n,"trident")},{name:"Opera",versionRegexes:[Ht,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$t("firefox")},{name:"Safari",versionRegexes:[Ht,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(sr(n,"safari")||sr(n,"mobile/"))&&sr(n,"applewebkit")}],tn=[{name:"Windows",search:$t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>sr(n,"iphone")||sr(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$t("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$t("linux"),versionRegexes:[]},{name:"Solaris",search:$t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$t("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$t("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],un={browsers:ae(Mt),oses:ae(tn)},en="Edge",on="Chromium",Cn="IE",On="Opera",pn="Firefox",Jn="Safari",Fn=()=>Zr({current:void 0,version:Wn.unknown()}),Zr=n=>{const s=n.current,l=n.version,m=x=>()=>s===x;return{current:s,version:l,isEdge:m(en),isChromium:m(on),isIE:m(Cn),isOpera:m(On),isFirefox:m(pn),isSafari:m(Jn)}},dr={unknown:Fn,nu:Zr,edge:ae(en),chromium:ae(on),ie:ae(Cn),opera:ae(On),firefox:ae(pn),safari:ae(Jn)},Ur="Windows",ar="iOS",ur="Android",qr="Linux",to="macOS",Ao="Solaris",_s="FreeBSD",wo="ChromeOS",Ko=()=>hs({current:void 0,version:Wn.unknown()}),hs=n=>{const s=n.current,l=n.version,m=x=>()=>s===x;return{current:s,version:l,isWindows:m(Ur),isiOS:m(ar),isAndroid:m(ur),isMacOS:m(to),isLinux:m(qr),isSolaris:m(Ao),isFreeBSD:m(_s),isChromeOS:m(wo)}},qs={unknown:Ko,nu:hs,windows:ae(Ur),ios:ae(ar),android:ae(ur),linux:ae(qr),macos:ae(to),solaris:ae(Ao),freebsd:ae(_s),chromeos:ae(wo)},Xs={detect:(n,s,l)=>{const m=un.browsers(),x=un.oses(),P=s.bind(ge=>Br(m,ge)).orThunk(()=>or(m,n)).fold(dr.unknown,dr.nu),Z=jr(x,n).fold(qs.unknown,qs.nu),J=fn(Z,P,n,l);return{browser:P,os:Z,deviceType:J}}},Xa=n=>window.matchMedia(n).matches;let Cc=Rt(()=>Xs.detect(navigator.userAgent,Y.from(navigator.userAgentData),Xa));const ui=()=>Cc(),au=navigator.userAgent,Ba=ui(),ea=Ba.browser,ba=Ba.os,oa=Ba.deviceType,iu=au.indexOf("Windows Phone")!==-1,Dr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:ea.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!ea.isIE(),windowsPhone:iu,browser:{current:ea.current,version:ea.version,isChromium:ea.isChromium,isEdge:ea.isEdge,isFirefox:ea.isFirefox,isIE:ea.isIE,isOpera:ea.isOpera,isSafari:ea.isSafari},os:{current:ba.current,version:ba.version,isAndroid:ba.isAndroid,isChromeOS:ba.isChromeOS,isFreeBSD:ba.isFreeBSD,isiOS:ba.isiOS,isLinux:ba.isLinux,isMacOS:ba.isMacOS,isSolaris:ba.isSolaris,isWindows:ba.isWindows},deviceType:{isDesktop:oa.isDesktop,isiPad:oa.isiPad,isiPhone:oa.isiPhone,isPhone:oa.isPhone,isTablet:oa.isTablet,isTouch:oa.isTouch,isWebView:oa.isWebView}},Tc=/^\s*|\s*$/g,sa=n=>F(n)?"":(""+n).replace(Tc,""),$i=(n,s)=>s?s==="array"&&He(n)?!0:typeof n===s:n!==void 0,Id=(n,s,l={})=>{const m=M(n)?n.split(s||","):n||[];let x=m.length;for(;x--;)l[m[x]]={};return l},aa=lt,wu=(n,...s)=>{for(let l=0;l<s.length;l++){const m=s[l];for(const x in m)if(lt(m,x)){const P=m[x];P!==void 0&&(n[x]=P)}}return n},Nd=function(n,s,l,m){m=m||this,n&&(l&&(n=n[l]),dt(n,(x,P)=>s.call(m,x,P,l)===!1?!1:(Nd(x,s,l,m),!0)))},fr={trim:sa,isArray:He,is:$i,toArray:it,makeMap:Id,each:dt,map:mt,grep:Ct,inArray:Pt,hasOwn:aa,extend:wu,walk:Nd,resolve:(n,s=window)=>{const l=n.split(".");for(let m=0,x=l.length;m<x&&(s=s[l[m]],!!s);m++);return s},explode:(n,s)=>N(n)?n:n===""?[]:mt(n.split(s||","),sa),_addCacheSuffix:n=>{const s=Dr.cacheSuffix;return s&&(n+=(n.indexOf("?")===-1?"?":"&")+s),n}},Fa=(n,s,l=de)=>n.exists(m=>l(m,s)),wi=(n,s,l=de)=>Va(n,s,l).getOr(n.isNone()&&s.isNone()),Za=n=>{const s=[],l=m=>{s.push(m)};for(let m=0;m<n.length;m++)n[m].each(l);return s},Va=(n,s,l)=>n.isSome()&&s.isSome()?Y.some(l(n.getOrDie(),s.getOrDie())):Y.none(),Cl=(n,s,l,m)=>n.isSome()&&s.isSome()&&l.isSome()?Y.some(m(n.getOrDie(),s.getOrDie(),l.getOrDie())):Y.none(),Ho=(n,s)=>n?Y.some(s):Y.none(),fi=typeof window<"u"?window:Function("return this;")(),ti=(n,s)=>{let l=s??fi;for(let m=0;m<n.length&&l!==void 0&&l!==null;++m)l=l[n[m]];return l},ed=(n,s)=>{const l=n.split(".");return ti(l,s)},Ha=(n,s)=>ed(n,s),Wu=(n,s)=>{const l=Ha(n,s);if(l==null)throw new Error(n+" not available on this browser");return l},Yu=Object.getPrototypeOf,Bd=n=>Wu("HTMLElement",n),Ns=n=>{const s=ed("ownerDocument.defaultView",n);return I(n)&&(Bd(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(Yu(n).constructor.name))},Qd=8,Wc=9,Rl=11,Sh=1,ym=3,Vs=n=>n.dom.nodeName.toLowerCase(),Ci=n=>n.dom.nodeType,Pf=n=>s=>Ci(s)===n,WS=n=>Ci(n)===Qd||Vs(n)==="#comment",Ga=n=>Dl(n)&&Ns(n.dom),Dl=Pf(Sh),Ui=Pf(ym),$O=Pf(Wc),Hp=Pf(Rl),Tu=n=>s=>Dl(s)&&Vs(s)===n,Xu=(n,s,l)=>{if(M(l)||z(l)||W(l))n.setAttribute(s,l+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",l,":: Element ",n),new Error("Attribute value was not simple")},$a=(n,s,l)=>{Xu(n.dom,s,l)},ku=(n,s)=>{const l=n.dom;Bt(s,(m,x)=>{Xu(l,x,m)})},$l=(n,s)=>{const l=n.dom.getAttribute(s);return l===null?void 0:l},kc=(n,s)=>Y.from($l(n,s)),Mf=(n,s)=>{const l=n.dom;return l&&l.hasAttribute?l.hasAttribute(s):!1},di=(n,s)=>{n.dom.removeAttribute(s)},Ef=n=>{const s=n.dom.attributes;return s==null||s.length===0},Up=n=>oe(n.dom.attributes,(s,l)=>(s[l.name]=l.value,s),{}),Wp=(n,s)=>{const l=$l(n,s);return l===void 0||l===""?[]:l.split(" ")},my=(n,s,l)=>{const x=Wp(n,s).concat([l]);return $a(n,s,x.join(" ")),!0},Jv=(n,s,l)=>{const m=se(Wp(n,s),x=>x!==l);return m.length>0?$a(n,s,m.join(" ")):di(n,s),!1},_f=n=>n.dom.classList!==void 0,Yp=n=>Wp(n,"class"),Ac=(n,s)=>my(n,"class",s),e1=(n,s)=>Jv(n,"class",s),gy=(n,s)=>Ve(Yp(n),s)?e1(n,s):Ac(n,s),bm=(n,s)=>{_f(n)?n.dom.classList.add(s):Ac(n,s)},py=n=>{(_f(n)?n.dom.classList:Yp(n)).length===0&&di(n,"class")},Om=(n,s)=>{_f(n)?n.dom.classList.remove(s):e1(n,s),py(n)},LO=(n,s)=>{const l=_f(n)?n.dom.classList.toggle(s):gy(n,s);return py(n),l},wh=(n,s)=>_f(n)&&n.dom.classList.contains(s),IO=(n,s)=>{const m=(s||document).createElement("div");if(m.innerHTML=n,!m.hasChildNodes()||m.childNodes.length>1){const x="HTML does not have a single root node";throw console.error(x,n),new Error(x)}return xm(m.childNodes[0])},NO=(n,s)=>{const m=(s||document).createElement(n);return xm(m)},BO=(n,s)=>{const m=(s||document).createTextNode(n);return xm(m)},xm=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},Yt={fromHtml:IO,fromTag:NO,fromText:BO,fromDom:xm,fromPoint:(n,s,l)=>Y.from(n.dom.elementFromPoint(s,l)).map(xm)},Sm=(n,s)=>{const l=[],m=P=>(l.push(P),s(P));let x=s(n);do x=x.bind(m);while(x.isSome());return l},Gu=(n,s)=>{const l=n.dom;if(l.nodeType!==Sh)return!1;{const m=l;if(m.matches!==void 0)return m.matches(s);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(s);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(s);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},t1=n=>n.nodeType!==Sh&&n.nodeType!==Wc&&n.nodeType!==Rl||n.childElementCount===0,Xp=(n,s)=>{const l=s===void 0?document:s.dom;return t1(l)?[]:Ie(l.querySelectorAll(n),Yt.fromDom)},YS=(n,s)=>{const l=s===void 0?document:s.dom;return t1(l)?Y.none():Y.from(l.querySelector(n)).map(Yt.fromDom)},Gs=(n,s)=>n.dom===s.dom,ic=(n,s)=>{const l=n.dom,m=s.dom;return l===m?!1:l.contains(m)},td=n=>Yt.fromDom(n.dom.ownerDocument),nd=n=>$O(n)?n:td(n),yy=n=>Yt.fromDom(nd(n).dom.documentElement),Ag=n=>Yt.fromDom(nd(n).dom.defaultView),lu=n=>Y.from(n.dom.parentNode).map(Yt.fromDom),Pg=n=>Y.from(n.dom.parentElement).map(Yt.fromDom),by=(n,s)=>{const l=E(s)?s:ne;let m=n.dom;const x=[];for(;m.parentNode!==null&&m.parentNode!==void 0;){const P=m.parentNode,Z=Yt.fromDom(P);if(x.push(Z),l(Z)===!0)break;m=P}return x},QO=n=>{const s=l=>se(l,m=>!Gs(n,m));return lu(n).map(il).map(s).getOr([])},ju=n=>Y.from(n.dom.previousSibling).map(Yt.fromDom),Gp=n=>Y.from(n.dom.nextSibling).map(Yt.fromDom),Oy=n=>ct(Sm(n,ju)),Yc=n=>Sm(n,Gp),il=n=>Ie(n.dom.childNodes,Yt.fromDom),Ch=(n,s)=>{const l=n.dom.childNodes;return Y.from(l[s]).map(Yt.fromDom)},Mg=n=>Ch(n,0),Pc=n=>Ch(n,n.dom.childNodes.length-1),Ll=n=>n.dom.childNodes.length,qu=n=>n.dom.hasChildNodes(),FO=n=>{const s=n.dom.head;if(s==null)throw new Error("Head is not available yet");return Yt.fromDom(s)},jp=n=>Hp(n)&&B(n.dom.host),xy=E(Element.prototype.attachShadow)&&E(Node.prototype.getRootNode),n1=ae(xy),Rf=xy?n=>Yt.fromDom(n.dom.getRootNode()):nd,VO=n=>jp(n)?n:FO(nd(n)),r5=n=>jp(n)?n:Yt.fromDom(nd(n).dom.body),o5=n=>{const s=Rf(n);return jp(s)?Y.some(s):Y.none()},XS=n=>Yt.fromDom(n.dom.host),qp=n=>{if(n1()&&B(n.target)){const s=Yt.fromDom(n.target);if(Dl(s)&&r1(s)&&n.composed&&n.composedPath){const l=n.composedPath();if(l)return yt(l)}}return Y.from(n.target)},r1=n=>B(n.dom.shadowRoot),Th=n=>{const s=Ui(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const l=s.ownerDocument;return o5(Yt.fromDom(s)).fold(()=>l.body.contains(s),me(Th,XS))};var ni=(n,s,l,m,x)=>n(l,m)?Y.some(l):E(x)&&x(l)?Y.none():s(l,m,x);const hi=(n,s,l)=>{let m=n.dom;const x=E(l)?l:ne;for(;m.parentNode;){m=m.parentNode;const P=Yt.fromDom(m);if(s(P))return Y.some(P);if(x(P))break}return Y.none()},Au=(n,s,l)=>ni((x,P)=>P(x),hi,n,s,l),Sy=(n,s)=>{const l=n.dom;return l.parentNode?zO(Yt.fromDom(l.parentNode),m=>!Gs(n,m)&&s(m)):Y.none()},zO=(n,s)=>{const l=x=>s(Yt.fromDom(x));return ce(n.dom.childNodes,l).map(Yt.fromDom)},Xl=(n,s)=>{const l=m=>{for(let x=0;x<m.childNodes.length;x++){const P=Yt.fromDom(m.childNodes[x]);if(s(P))return Y.some(P);const Z=l(m.childNodes[x]);if(Z.isSome())return Z}return Y.none()};return l(n.dom)},Eg=(n,s,l)=>hi(n,m=>Gu(m,s),l),Mc=(n,s)=>YS(s,n),Df=(n,s,l)=>ni((x,P)=>Gu(x,P),Eg,n,s,l),wy=n=>Df(n,"[contenteditable]"),jo=(n,s=!1)=>Th(n)?n.dom.isContentEditable:wy(n).fold(ae(s),l=>Xc(l)==="true"),Xc=n=>n.dom.contentEditable,kh=n=>n.style!==void 0&&E(n.style.getPropertyValue),wm=(n,s,l)=>{if(!M(l))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",l,":: Element ",n),new Error("CSS value must be a string: "+l);kh(n)&&n.style.setProperty(s,l)},Cy=(n,s)=>{kh(n)&&n.style.removeProperty(s)},Ty=(n,s,l)=>{const m=n.dom;wm(m,s,l)},lc=(n,s)=>{const l=n.dom;Bt(s,(m,x)=>{wm(l,x,m)})},Ti=(n,s)=>{const l=n.dom,x=window.getComputedStyle(l).getPropertyValue(s);return x===""&&!Th(n)?cu(l,s):x},cu=(n,s)=>kh(n)?n.style.getPropertyValue(s):"",Wi=(n,s)=>{const l=n.dom,m=cu(l,s);return Y.from(m).filter(x=>x.length>0)},ky=n=>{const s={},l=n.dom;if(kh(l))for(let m=0;m<l.style.length;m++){const x=l.style.item(m);s[x]=l.style[x]}return s},o1=(n,s)=>{const l=n.dom;Cy(l,s),Fa(kc(n,"style").map(Cr),"")&&di(n,"style")},ki=n=>n.dom.offsetWidth,Yi=(n,s)=>{lu(n).each(m=>{m.dom.insertBefore(s.dom,n.dom)})},Ku=(n,s)=>{Gp(n).fold(()=>{lu(n).each(x=>{Ai(x,s)})},m=>{Yi(m,s)})},Cm=(n,s)=>{Mg(n).fold(()=>{Ai(n,s)},m=>{n.dom.insertBefore(s.dom,m.dom)})},Ai=(n,s)=>{n.dom.appendChild(s.dom)},_g=(n,s)=>{Yi(n,s),Ai(s,n)},Kp=(n,s)=>{re(s,(l,m)=>{const x=m===0?n:s[m-1];Ku(x,l)})},Ta=(n,s)=>{re(s,l=>{Ai(n,l)})},Ah=n=>{n.dom.textContent="",re(il(n),s=>{Ks(s)})},Ks=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},$f=n=>{const s=il(n);s.length>0&&Kp(n,s),Ks(n)},Ay=(n,s)=>{const m=(s||document).createElement("div");return m.innerHTML=n,il(Yt.fromDom(m))},Jp=n=>Ie(n,Yt.fromDom),ms=n=>n.dom.innerHTML,Tm=(n,s)=>{const m=td(n).dom,x=Yt.fromDom(m.createDocumentFragment()),P=Ay(s,m);Ta(x,P),Ah(n),Ai(n,x)},s1=n=>{const s=Yt.fromTag("div"),l=Yt.fromDom(n.dom.cloneNode(!0));return Ai(s,l),ms(s)},ev=(n,s,l,m,x,P,Z)=>({target:n,x:s,y:l,stop:m,prevent:x,kill:P,raw:Z}),GS=n=>{const s=Yt.fromDom(qp(n).getOr(n.target)),l=()=>n.stopPropagation(),m=()=>n.preventDefault(),x=L(m,l);return ev(s,n.clientX,n.clientY,l,m,x,n)},jS=(n,s)=>l=>{n(l)&&s(GS(l))},Py=(n,s,l,m,x)=>{const P=jS(l,m);return n.dom.addEventListener(s,P,x),{unbind:ee(a1,n,s,P,x)}},km=(n,s,l,m)=>Py(n,s,l,m,!1),a1=(n,s,l,m)=>{n.dom.removeEventListener(s,l,m)},Am=(n,s)=>({left:n,top:s,translate:(m,x)=>Am(n+m,s+x)}),Rg=Am,ZO=n=>{const s=n.getBoundingClientRect();return Rg(s.left,s.top)},Ju=(n,s)=>n!==void 0?n:s!==void 0?s:0,HO=n=>{const s=n.dom.ownerDocument,l=s.body,m=s.defaultView,x=s.documentElement;if(l===n.dom)return Rg(l.offsetLeft,l.offsetTop);const P=Ju(m==null?void 0:m.pageYOffset,x.scrollTop),Z=Ju(m==null?void 0:m.pageXOffset,x.scrollLeft),J=Ju(x.clientTop,l.clientTop),ge=Ju(x.clientLeft,l.clientLeft);return Pm(n).translate(Z-ge,P-J)},Pm=n=>{const s=n.dom,m=s.ownerDocument.body;return m===s?Rg(m.offsetLeft,m.offsetTop):Th(n)?ZO(s):Rg(0,0)},Pu=n=>{const s=n!==void 0?n.dom:document,l=s.body.scrollLeft||s.documentElement.scrollLeft,m=s.body.scrollTop||s.documentElement.scrollTop;return Rg(l,m)},i1=(n,s,l)=>{const x=(l!==void 0?l.dom:document).defaultView;x&&x.scrollTo(n,s)},My=(n,s)=>{ui().browser.isSafari()&&E(n.dom.scrollIntoViewIfNeeded)?n.dom.scrollIntoViewIfNeeded(!1):n.dom.scrollIntoView(s)},Dg=n=>{const s=n===void 0?window:n;return ui().browser.isFirefox()?Y.none():Y.from(s.visualViewport)},Ey=(n,s,l,m)=>({x:n,y:s,width:l,height:m,right:n+l,bottom:s+m}),_y=n=>{const s=n===void 0?window:n,l=s.document,m=Pu(Yt.fromDom(l));return Dg(s).fold(()=>{const x=s.document.documentElement,P=x.clientWidth,Z=x.clientHeight;return Ey(m.left,m.top,P,Z)},x=>Ey(Math.max(x.pageLeft,m.left),Math.max(x.pageTop,m.top),x.width,x.height))},Ry=(n,s)=>se(il(n),s),l1=(n,s)=>{let l=[];return re(il(n),m=>{s(m)&&(l=l.concat([m])),l=l.concat(l1(m,s))}),l},ll=(n,s)=>Xp(s,n),tv=(n,s,l)=>Eg(n,s,l).isSome();class fa{constructor(s,l){this.node=s,this.rootNode=l,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(s){return this.node=this.findSibling(this.node,"firstChild","nextSibling",s),this.node}prev(s){return this.node=this.findSibling(this.node,"lastChild","previousSibling",s),this.node}prev2(s){return this.node=this.findPreviousNode(this.node,s),this.node}findSibling(s,l,m,x){if(s){if(!x&&s[l])return s[l];if(s!==this.rootNode){let P=s[m];if(P)return P;for(let Z=s.parentNode;Z&&Z!==this.rootNode;Z=Z.parentNode)if(P=Z[m],P)return P}}}findPreviousNode(s,l){if(s){const m=s.previousSibling;if(this.rootNode&&m===this.rootNode)return;if(m){if(!l){for(let P=m.lastChild;P;P=P.lastChild)if(!P.lastChild)return P}return m}const x=s.parentNode;if(x&&x!==this.rootNode)return x}}}const uo=n=>s=>!!s&&s.nodeType===n,ef=n=>!!n&&!Object.getPrototypeOf(n),Xr=uo(1),Gl=n=>Xr(n)&&Ga(Yt.fromDom(n)),qS=n=>Xr(n)&&n.namespaceURI==="http://www.w3.org/2000/svg",Fd=n=>{const s=n.toLowerCase();return l=>B(l)&&l.nodeName.toLowerCase()===s},bi=n=>{const s=n.map(l=>l.toLowerCase());return l=>{if(l&&l.nodeName){const m=l.nodeName.toLowerCase();return Ve(s,m)}return!1}},Vd=(n,s)=>{const l=s.toLowerCase().split(" ");return m=>{if(Xr(m)){const x=m.ownerDocument.defaultView;if(x)for(let P=0;P<l.length;P++){const Z=x.getComputedStyle(m,null);if((Z?Z.getPropertyValue(n):null)===l[P])return!0}}return!1}},nv=n=>s=>Xr(s)&&s.hasAttribute(n),cl=(n,s)=>l=>Xr(l)&&l.getAttribute(n)===s,Lf=n=>Xr(n)&&n.hasAttribute("data-mce-bogus"),Mm=n=>Xr(n)&&n.getAttribute("data-mce-bogus")==="all",tf=n=>Xr(n)&&n.tagName==="TABLE",Dy=n=>s=>!!(Gl(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),c1=bi(["textarea","input"]),lr=uo(3),UO=uo(4),Il=uo(7),rd=uo(8),$g=uo(9),ma=uo(11),ia=Fd("br"),Nl=Fd("img"),jl=Dy("true"),ws=Dy("false"),rv=bi(["td","th"]),ul=bi(["td","th","caption"]),ri=bi(["video","audio","object","embed"]),ov=Fd("li"),er=Fd("details"),Gc=Fd("summary"),Lg="\uFEFF",zs=" ",If=n=>n===Lg,KS=n=>n.replace(/\uFEFF/g,""),u1=((n,s)=>{const l=P=>{if(!n(P))throw new Error("Can only get "+s+" value of a "+s+" node");return m(P).getOr("")},m=P=>n(P)?Y.from(P.dom.nodeValue):Y.none();return{get:l,getOption:m,set:(P,Z)=>{if(!n(P))throw new Error("Can only set raw "+s+" value of a "+s+" node");P.dom.nodeValue=Z}}})(Ui,"text"),uu=n=>u1.get(n),f1=n=>u1.getOption(n),cc=(n,s)=>u1.set(n,s),Ws=["td","th"],fu=["thead","tbody","tfoot"],mi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],fl=["li","dd","dt"],zd=["ul","ol","dl"],od=["pre","script","textarea","style"],Zd=n=>{let s;return l=>(s=s||Ye(n,le),lt(s,Vs(l)))},Ec=n=>Vs(n)==="table",sd=n=>Dl(n)&&Vs(n)==="br",Mn=Zd(mi),_c=Zd(zd),ad=Zd(fl),id=Zd(fu),jc=Zd(Ws),Xi=Zd(od),Li=n=>{const s=[];let l=n.dom;for(;l;)s.push(Yt.fromDom(l)),l=l.lastChild;return s},s5=n=>{const s=ll(n,"br"),l=se(Li(n).slice(-1),sd);s.length===l.length&&re(l,Ks)},Rc=()=>{const n=Yt.fromTag("br");return $a(n,"data-mce-bogus","1"),n},D=n=>{Ah(n),Ai(n,Rc())},G=(n,s)=>{Pc(n).each(l=>{ju(l).each(m=>{s.isBlock(Vs(n))&&sd(l)&&s.isBlock(Vs(m))&&Ks(l)})})},he=Lg,Ce=If,Pe=KS,$e=n=>n.insertContent(he,{preserve_zwsp:!0}),Ke=Xr,We=lr,rt=n=>(We(n)&&(n=n.parentNode),Ke(n)&&n.hasAttribute("data-mce-caret")),vt=n=>We(n)&&Ce(n.data),bt=n=>rt(n)||vt(n),Zt=n=>n.firstChild!==n.lastChild||!ia(n.firstChild),Ut=(n,s)=>{var l;const x=((l=n.ownerDocument)!==null&&l!==void 0?l:document).createTextNode(he),P=n.parentNode;if(s){const Z=n.previousSibling;if(We(Z)){if(bt(Z))return Z;if(hn(Z))return Z.splitText(Z.data.length-1)}P==null||P.insertBefore(x,n)}else{const Z=n.nextSibling;if(We(Z)){if(bt(Z))return Z;if(nn(Z))return Z.splitText(1),Z}n.nextSibling?P==null||P.insertBefore(x,n.nextSibling):P==null||P.appendChild(x)}return x},gn=n=>{const s=n.container();return lr(s)?s.data.charAt(n.offset())===he||n.isAtStart()&&vt(s.previousSibling):!1},An=n=>{const s=n.container();return lr(s)?s.data.charAt(n.offset()-1)===he||n.isAtEnd()&&vt(s.nextSibling):!1},jt=(n,s,l)=>{var m;const P=((m=s.ownerDocument)!==null&&m!==void 0?m:document).createElement(n);P.setAttribute("data-mce-caret",l?"before":"after"),P.setAttribute("data-mce-bogus","all"),P.appendChild(Rc().dom);const Z=s.parentNode;return l?Z==null||Z.insertBefore(P,s):s.nextSibling?Z==null||Z.insertBefore(P,s.nextSibling):Z==null||Z.appendChild(P),P},nn=n=>We(n)&&n.data[0]===he,hn=n=>We(n)&&n.data[n.data.length-1]===he,_n=n=>{var s;const l=n.getElementsByTagName("br"),m=l[l.length-1];Lf(m)&&((s=m.parentNode)===null||s===void 0||s.removeChild(m))},Pn=n=>n&&n.hasAttribute("data-mce-caret")?(_n(n),n.removeAttribute("data-mce-caret"),n.removeAttribute("data-mce-bogus"),n.removeAttribute("style"),n.removeAttribute("data-mce-style"),n.removeAttribute("_moz_abspos"),n):null,yn=n=>rt(n.startContainer),cr=jl,Hr=ws,Jr=ia,Ar=lr,no=bi(["script","style","textarea"]),fo=bi(["img","input","textarea","hr","iframe","video","audio","object","embed"]),rs=bi(["table"]),So=bt,go=n=>So(n)?!1:Ar(n)?!no(n.parentNode):fo(n)||Jr(n)||rs(n)||oi(n),js=n=>Xr(n)&&n.getAttribute("unselectable")==="true",oi=n=>!js(n)&&Hr(n),Oa=(n,s)=>{for(let l=n.parentNode;l&&l!==s;l=l.parentNode){if(oi(l))return!1;if(cr(l))return!0}return!0},Lr=n=>oi(n)?!oe(tt(n.getElementsByTagName("*")),(s,l)=>s||cr(l),!1):!1,$o=n=>fo(n)||Lr(n),gs=(n,s)=>go(n)&&Oa(n,s),Rs=/^[ \t\r\n]*$/,Qa=n=>Rs.test(n),gi=n=>{for(const s of n)if(!If(s))return!1;return!0},Gi=n=>" \f	\v".indexOf(n)!==-1,Ii=n=>n===`
`||n==="\r",qc=(n,s)=>s<n.length&&s>=0?Ii(n[s]):!1,tl=(n,s=4,l=!0,m=!0)=>{const x=Lt(" ",s),P=n.replace(/\t/g,x);return oe(P,(J,ge)=>Gi(ge)||ge===zs?J.pcIsSpace||J.str===""&&l||J.str.length===P.length-1&&m||qc(P,J.str.length+1)?{pcIsSpace:!1,str:J.str+zs}:{pcIsSpace:!0,str:J.str+" "}:{pcIsSpace:Ii(ge),str:J.str+ge},{pcIsSpace:!1,str:""}).str},Dc=(n,s)=>{const l=Yt.fromDom(s),m=Yt.fromDom(n);return tv(m,"pre,code",ee(Gs,l))},ql=(n,s)=>lr(n)&&Qa(n.data)&&!Dc(n,s),ta=n=>Xr(n)&&n.nodeName==="A"&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id")),rf=(n,s)=>go(n)&&!ql(n,s)||ta(n)||Nf(n),Nf=nv("data-mce-bookmark"),Kl=nv("data-mce-bogus"),Ni=cl("data-mce-bogus","all"),Jl=n=>Pg(Yt.fromDom(n)).exists(s=>!jo(s)),Bi=(n,s)=>{let l=0;if(rf(n,n))return!1;{let m=n.firstChild;if(!m)return!0;const x=new fa(m,n);do{if(s){if(Ni(m)){m=x.next(!0);continue}if(Kl(m)){m=x.next();continue}}if(jl(m)&&Jl(m))return!1;if(ia(m)){l++,m=x.next();continue}if(rf(m,n))return!1;m=x.next()}while(m);return l<=1}},na=(n,s=!0)=>Bi(n.dom,s),$c=n=>n.toLowerCase()==="svg",Hd=n=>$c(n.nodeName),of=n=>(n==null?void 0:n.nodeName)==="svg"?"svg":"html",Em=["svg"],Ud=()=>{let n=[];const s=()=>n[n.length-1];return{track:P=>{Hd(P)&&n.push(P);let Z=s();return Z&&!Z.contains(P)&&(n.pop(),Z=s()),of(Z)},current:()=>of(s()),reset:()=>{n=[]}}},$y="data-mce-block",WO=n=>se(Gt(n),s=>!/[A-Z]/.test(s)),Ph=n=>Ie(WO(n),s=>`${s}:`+Ie(Em,l=>`not(${l} ${s})`).join(":")).join(","),Wd=(n,s)=>B(s.querySelector(n))?(s.setAttribute($y,"true"),s.getAttribute("data-mce-selected")==="inline-boundary"&&s.removeAttribute("data-mce-selected"),!0):(s.removeAttribute($y),!1),sf=(n,s)=>{const l=Ph(n.getTransparentElements()),m=Ph(n.getBlockElements());return se(s.querySelectorAll(l),x=>Wd(m,x))},Ig=(n,s)=>{var l;const m=s?"lastChild":"firstChild";for(let x=n[m];x;x=x[m])if(na(Yt.fromDom(x))){(l=x.parentNode)===null||l===void 0||l.removeChild(x);return}},Ng=(n,s)=>{const l=document.createRange(),m=n.parentNode;if(m){l.setStartBefore(n),l.setEndBefore(s);const x=l.extractContents();Ig(x,!0),l.setStartAfter(s),l.setEndAfter(n);const P=l.extractContents();Ig(P,!1),na(Yt.fromDom(x))||m.insertBefore(x,n),na(Yt.fromDom(s))||m.insertBefore(s,n),na(Yt.fromDom(P))||m.insertBefore(P,n),m.removeChild(n)}},a5=(n,s,l)=>{const m=n.getBlockElements(),x=Yt.fromDom(s),P=J=>Vs(J)in m,Z=J=>Gs(J,x);re(Jp(l),J=>{hi(J,P,Z).each(ge=>{const Re=Ry(J,Ge=>P(Ge)&&!n.isValidChild(Vs(ge),Vs(Ge)));if(Re.length>0){const Ge=Pg(ge);re(Re,qe=>{hi(qe,P,Z).each(ot=>{Ng(ot.dom,qe.dom)})}),Ge.each(qe=>sf(n,qe.dom))}})})},YO=(n,s,l)=>{re([...l,...As(n,s)?[s]:[]],m=>re(ll(Yt.fromDom(m),m.nodeName.toLowerCase()),x=>{vo(n,x.dom)&&$f(x)}))},Ly=(n,s)=>{const l=sf(n,s);a5(n,s,l),YO(n,s,l)},XO=(n,s)=>{if(Ny(n,s)){const l=Ph(n.getBlockElements());Wd(l,s)}},i5=(n,s,l)=>{const m=P=>Gs(P,Yt.fromDom(s)),x=by(Yt.fromDom(l),m);et(x,x.length-2).filter(Dl).fold(()=>Ly(n,s),P=>Ly(n,P.dom))},GO=n=>n.hasAttribute($y),Iy=(n,s)=>lt(n.getTransparentElements(),s),Ny=(n,s)=>Xr(s)&&Iy(n,s.nodeName),As=(n,s)=>Ny(n,s)&&GO(s),vo=(n,s)=>Ny(n,s)&&!GO(s),_m=(n,s)=>s.type===1&&Iy(n,s.name)&&M(s.attr($y)),jO=ui().browser,By=n=>ce(n,Dl),z8=n=>jO.isFirefox()&&Vs(n)==="table"?By(il(n)).filter(s=>Vs(s)==="caption").bind(s=>By(Yc(s)).map(l=>{const m=l.dom.offsetTop,x=s.dom.offsetTop,P=s.dom.offsetHeight;return m<=x?-P:0})).getOr(0):0,JS=(n,s)=>n.children&&Ve(n.children,s),_a=(n,s,l)=>{let m=0,x=0;const P=n.ownerDocument;if(l=l||n,s){if(l===n&&s.getBoundingClientRect&&Ti(Yt.fromDom(n),"position")==="static"){const J=s.getBoundingClientRect();return m=J.left+(P.documentElement.scrollLeft||n.scrollLeft)-P.documentElement.clientLeft,x=J.top+(P.documentElement.scrollTop||n.scrollTop)-P.documentElement.clientTop,{x:m,y:x}}let Z=s;for(;Z&&Z!==l&&Z.nodeType&&!JS(Z,l);){const J=Z;m+=J.offsetLeft||0,x+=J.offsetTop||0,Z=J.offsetParent}for(Z=s.parentNode;Z&&Z!==l&&Z.nodeType&&!JS(Z,l);)m-=Z.scrollLeft||0,x-=Z.scrollTop||0,Z=Z.parentNode;x+=z8(Yt.fromDom(s))}return{x:m,y:x}},ew=(n,s={})=>{let l=0;const m={},x=Yt.fromDom(n),P=nd(x),Z=cn=>{s.referrerPolicy=cn},J=cn=>{s.contentCssCors=cn},ge=cn=>{Ai(VO(x),cn)},Re=cn=>{const xn=VO(x);Mc(xn,"#"+cn).each(Ks)},Ge=cn=>Sn(m,cn).getOrThunk(()=>({id:"mce-u"+l++,passed:[],failed:[],count:0})),qe=cn=>new Promise((xn,bn)=>{let $n;const rr=fr._addCacheSuffix(cn),gr=Ge(rr);m[rr]=gr,gr.count++;const Qr=(eo,po)=>{re(eo,pe),gr.status=po,gr.passed=[],gr.failed=[],$n&&($n.onload=null,$n.onerror=null,$n=null)},zn=()=>Qr(gr.passed,2),Bn=()=>Qr(gr.failed,3);if(xn&&gr.passed.push(xn),bn&&gr.failed.push(bn),gr.status===1)return;if(gr.status===2){zn();return}if(gr.status===3){Bn();return}gr.status=1;const tr=Yt.fromTag("link",P.dom);ku(tr,{rel:"stylesheet",type:"text/css",id:gr.id}),s.contentCssCors&&$a(tr,"crossOrigin","anonymous"),s.referrerPolicy&&$a(tr,"referrerpolicy",s.referrerPolicy),$n=tr.dom,$n.onload=zn,$n.onerror=Bn,ge(tr),$a(tr,"href",rr)}),ot=(cn,xn)=>{const bn=Ge(cn);m[cn]=bn,bn.count++;const $n=Yt.fromTag("style",P.dom);ku($n,{rel:"stylesheet",type:"text/css",id:bn.id}),$n.dom.innerHTML=xn,ge($n)},Et=cn=>Promise.allSettled(Ie(cn,bn=>qe(bn).then(ae(bn)))).then(bn=>{const $n=te(bn,rr=>rr.status==="fulfilled");return $n.fail.length>0?Promise.reject(Ie($n.fail,rr=>rr.reason)):Ie($n.pass,rr=>rr.value)}),Vt=cn=>{const xn=fr._addCacheSuffix(cn);Sn(m,xn).each(bn=>{--bn.count===0&&(delete m[xn],Re(bn.id))})};return{load:qe,loadRawCss:ot,loadAll:Et,unload:Vt,unloadRawCss:cn=>{Sn(m,cn).each(xn=>{--xn.count===0&&(delete m[cn],Re(xn.id))})},unloadAll:cn=>{re(cn,xn=>{Vt(xn)})},_setReferrerPolicy:Z,_setContentCssCors:J}},nw=(()=>{const n=new WeakMap;return{forElement:(l,m)=>{const P=Rf(l).dom;return Y.from(n.get(P)).getOrThunk(()=>{const Z=ew(P,m);return n.set(P,Z),Z})}}})(),qn=n=>n.nodeName.toLowerCase()==="span",qO=(n,s,l)=>B(n)&&(rf(n,s)||l.isInline(n.nodeName.toLowerCase())),Z8=(n,s,l)=>{const m=new fa(n,s).prev(!1),x=new fa(n,s).next(!1),P=U(m)||qO(m,s,l),Z=U(x)||qO(x,s,l);return P&&Z},Qy=n=>qn(n)&&n.getAttribute("data-mce-type")==="bookmark",H8=(n,s,l)=>lr(n)&&n.data.length>0&&Z8(n,s,l),d1=n=>Xr(n)?n.childNodes.length>0:!1,rw=n=>ma(n)||$g(n),Rm=(n,s,l,m)=>{var x;const P=m||s;if(Xr(s)&&Qy(s))return s;const Z=s.childNodes;for(let J=Z.length-1;J>=0;J--)Rm(n,Z[J],l,P);if(Xr(s)){const J=s.childNodes;J.length===1&&Qy(J[0])&&((x=s.parentNode)===null||x===void 0||x.insertBefore(J[0],s))}return!rw(s)&&!rf(s,P)&&!d1(s)&&!H8(s,P,l)&&n.remove(s),s},U8=fr.makeMap,Mh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ka=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eh=/[<>&\"\']/g,ow=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ld={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Dm={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},sw={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},sv=n=>{const s=Yt.fromTag("div").dom;return s.innerHTML=n,s.textContent||s.innerText||n},l5=(n,s)=>{const l={};if(n){const m=n.split(",");s=s||10;for(let x=0;x<m.length;x+=2){const P=String.fromCharCode(parseInt(m[x],s));if(!Dm[P]){const Z="&"+m[x+1]+";";l[P]=Z,l[Z]=P}}return l}else return},KO=l5("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),aw=(n,s)=>n.replace(s?Mh:ka,l=>Dm[l]||l),W8=n=>(""+n).replace(Eh,s=>Dm[s]||s),iw=(n,s)=>n.replace(s?Mh:ka,l=>l.length>1?"&#"+((l.charCodeAt(0)-55296)*1024+(l.charCodeAt(1)-56320)+65536)+";":Dm[l]||"&#"+l.charCodeAt(0)+";"),_h=(n,s,l)=>{const m=l||KO;return n.replace(s?Mh:ka,x=>Dm[x]||m[x]||x)},Bg={encodeRaw:aw,encodeAllRaw:W8,encodeNumeric:iw,encodeNamed:_h,getEncodeFunc:(n,s)=>{const l=l5(s)||KO,m=(Z,J)=>Z.replace(J?Mh:ka,ge=>Dm[ge]!==void 0?Dm[ge]:l[ge]!==void 0?l[ge]:ge.length>1?"&#"+((ge.charCodeAt(0)-55296)*1024+(ge.charCodeAt(1)-56320)+65536)+";":"&#"+ge.charCodeAt(0)+";"),x=(Z,J)=>_h(Z,J,l),P=U8(n.replace(/\+/g,","));return P.named&&P.numeric?m:P.named?s?x:_h:P.numeric?iw:aw},decode:n=>n.replace(ow,(s,l)=>l?(l.charAt(0).toLowerCase()==="x"?l=parseInt(l.substr(1),16):l=parseInt(l,10),l>65535?(l-=65536,String.fromCharCode(55296+(l>>10),56320+(l&1023))):ld[l]||String.fromCharCode(l)):sw[s]||KO[s]||sv(s))},ec=(n,s)=>(n=fr.trim(n),n?n.split(s||" "):[]),Kr=n=>new RegExp("^"+n.replace(/([?+*])/g,".$1")+"$"),Y8=n=>{const s=/^(~)?(.+)$/;return Ze(ec(n,","),l=>{const m=s.exec(l);if(m){const x=m[1]==="~",P=x?"span":"div",Z=m[2];return[{inline:x,cloneName:P,name:Z}]}else return[]})},cw=n=>{let s,l,m;if(s="id accesskey class dir lang style tabindex title role",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",m="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",n!=="html4"){const P="a ins del canvas map";s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure main header footer hgroup section nav "+P,m+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}n!=="html5-strict"&&(s+=" xml:lang",m=[m,"acronym applet basefont big font strike tt"].join(" "),l=[l,"center dir isindex noframes"].join(" "));const x=[l,m].join(" ");return{globalAttributes:s,blockContent:l,phrasingContent:m,flowContent:x}},X8=n=>{const{globalAttributes:s,phrasingContent:l,flowContent:m}=cw(n),x={},P=(ge,Re,Ge)=>{x[ge]={attributes:Ye(Re,ae({})),attributesOrder:Re,children:Ye(Ge,ae({}))}},Z=(ge,Re="",Ge="")=>{const qe=ec(Ge),ot=ec(ge);let Et=ot.length;const Vt=ec([s,Re].join(" "));for(;Et--;)P(ot[Et],Vt.slice(),qe)},J=(ge,Re)=>{const Ge=ec(ge),qe=ec(Re);let ot=Ge.length;for(;ot--;){const Et=x[Ge[ot]];for(let Vt=0,kt=qe.length;Vt<kt;Vt++)Et.attributes[qe[Vt]]={},Et.attributesOrder.push(qe[Vt])}};return n!=="html5-strict"&&(re(ec("acronym applet basefont big font strike tt"),Ge=>{Z(Ge,"",l)}),re(ec("center dir isindex noframes"),Ge=>{Z(Ge,"",m)})),Z("html","manifest","head body"),Z("head","","base command link meta noscript script style title"),Z("title hr noscript br"),Z("base","href target"),Z("link","href rel media hreflang type sizes hreflang"),Z("meta","name http-equiv content charset"),Z("style","media type scoped"),Z("script","src async defer type charset"),Z("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",m),Z("dd div","",m),Z("address dt caption","",n==="html4"?l:m),Z("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),Z("blockquote","cite",m),Z("ol","reversed start type","li"),Z("ul","","li"),Z("li","value",m),Z("dl","","dt dd"),Z("a","href target rel media hreflang type",n==="html4"?l:m),Z("q","cite",l),Z("ins del","cite datetime",m),Z("img","src sizes srcset alt usemap ismap width height"),Z("iframe","src name width height",m),Z("embed","src type width height"),Z("object","data type typemustmatch name usemap form width height",[m,"param"].join(" ")),Z("param","name value"),Z("map","name",[m,"area"].join(" ")),Z("area","alt coords shape href target rel media hreflang type"),Z("table","border","caption colgroup thead tfoot tbody tr"+(n==="html4"?" col":"")),Z("colgroup","span","col"),Z("col","span"),Z("tbody thead tfoot","","tr"),Z("tr","","td th"),Z("td","colspan rowspan headers",m),Z("th","colspan rowspan headers scope abbr",m),Z("form","accept-charset action autocomplete enctype method name novalidate target",m),Z("fieldset","disabled form name",[m,"legend"].join(" ")),Z("label","form for",l),Z("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Z("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",n==="html4"?m:l),Z("select","disabled form multiple name required size","option optgroup"),Z("optgroup","disabled label","option"),Z("option","disabled label selected value"),Z("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Z("menu","type label",[m,"li"].join(" ")),Z("noscript","",m),n!=="html4"&&(Z("wbr"),Z("ruby","",[l,"rt rp"].join(" ")),Z("figcaption","",m),Z("mark rt rp bdi","",l),Z("summary","",[l,"h1 h2 h3 h4 h5 h6"].join(" ")),Z("canvas","width height",m),Z("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[m,"track source"].join(" ")),Z("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[m,"track source"].join(" ")),Z("picture","","img source"),Z("source","src srcset type media sizes"),Z("track","kind src srclang label default"),Z("datalist","",[l,"option"].join(" ")),Z("article section nav aside main header footer","",m),Z("hgroup","","h1 h2 h3 h4 h5 h6"),Z("figure","",[m,"figcaption"].join(" ")),Z("time","datetime",l),Z("dialog","open",m),Z("command","type label icon disabled checked radiogroup command"),Z("output","for form name",l),Z("progress","value max",l),Z("meter","value min max low high optimum",l),Z("details","open",[m,"summary"].join(" ")),Z("keygen","autofocus challenge disabled form keytype name"),P("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),n!=="html5-strict"&&(J("script","language xml:space"),J("style","xml:space"),J("object","declare classid code codebase codetype archive standby align border hspace vspace"),J("embed","align name hspace vspace"),J("param","valuetype type"),J("a","charset name rev shape coords"),J("br","clear"),J("applet","codebase archive code object alt name width height align hspace vspace"),J("img","name longdesc align border hspace vspace"),J("iframe","longdesc frameborder marginwidth marginheight scrolling align"),J("font basefont","size color face"),J("input","usemap align"),J("select"),J("textarea"),J("h1 h2 h3 h4 h5 h6 div p legend caption","align"),J("ul","type compact"),J("li","type"),J("ol dl menu dir","compact"),J("pre","width xml:space"),J("hr","align noshade size width"),J("isindex","prompt"),J("table","summary width frame rules cellspacing cellpadding align bgcolor"),J("col","width align char charoff valign"),J("colgroup","width align char charoff valign"),J("thead","align char charoff valign"),J("tr","align char charoff valign bgcolor"),J("th","axis align char charoff valign nowrap bgcolor width height"),J("form","accept"),J("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),J("tfoot","align char charoff valign"),J("tbody","align char charoff valign"),J("area","nohref"),J("body","background bgcolor text link vlink alink")),n!=="html4"&&(J("input button select textarea","autofocus"),J("input textarea","placeholder"),J("a","download"),J("link script img","crossorigin"),J("img","loading"),J("iframe","sandbox seamless allow allowfullscreen loading")),n!=="html4"&&re([x.video,x.audio],ge=>{delete ge.children.audio,delete ge.children.video}),re(ec("a form meter progress dfn"),ge=>{x[ge]&&delete x[ge].children[ge]}),delete x.caption.children.table,delete x.script,x},c5=n=>n==="-"?"remove":"add",av=n=>{const s=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ze(ec(n,","),l=>{const m=s.exec(l);if(m){const x=m[1],P=x?c5(x):"replace",Z=m[2],J=ec(m[3],"|");return[{operation:P,name:Z,validChildren:J}]}else return[]})},h1=(n,s)=>{const l=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,m=/[*?+]/,{attributes:x,attributesOrder:P}=s;return re(ec(n,"|"),Z=>{const J=l.exec(Z);if(J){const ge={},Re=J[1],Ge=J[2].replace(/[\\:]:/g,":"),qe=J[3],ot=J[4];if(Re==="!"&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(Ge),ge.required=!0),Re==="-"){delete x[Ge],P.splice(fr.inArray(P,Ge),1);return}if(qe&&(qe==="="?(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:Ge,value:ot}),ge.defaultValue=ot):qe==="~"?(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:Ge,value:ot}),ge.forcedValue=ot):qe==="<"&&(ge.validValues=fr.makeMap(ot,"?"))),m.test(Ge)){const Et=ge;s.attributePatterns=s.attributePatterns||[],Et.pattern=Kr(Ge),s.attributePatterns.push(Et)}else x[Ge]||P.push(Ge),x[Ge]=ge}})},Fy=(n,s)=>{Bt(n.attributes,(l,m)=>{s.attributes[m]=l}),s.attributesOrder.push(...n.attributesOrder)},m1=(n,s)=>{const l=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ze(ec(s,","),m=>{const x=l.exec(m);if(x){const P=x[1],Z=x[2],J=x[3],ge=x[4],Re=x[5],Ge={attributes:{},attributesOrder:[]};if(n.each(qe=>Fy(qe,Ge)),P==="#"?Ge.paddEmpty=!0:P==="-"&&(Ge.removeEmpty=!0),ge==="!"&&(Ge.removeEmptyAttrs=!0),Re&&h1(Re,Ge),J&&(Ge.outputName=Z),Z==="@")if(n.isNone())n=Y.some(Ge);else return[];return[J?{name:Z,element:Ge,aliasName:J}:{name:Z,element:Ge}]}else return[]})},JO={},$m=fr.makeMap,Yd=fr.each,Vy=fr.extend,Bf=fr.explode,e2=(n,s={})=>{const l=$m(n," ",$m(n.toUpperCase()," "));return Vy(l,s)},u5=n=>e2("td th li dt dd figcaption caption details summary",n.getTextBlockElements()),g1=(n,s)=>{if(n){const l={};return M(n)&&(n={"*":n}),Yd(n,(m,x)=>{l[x]=l[x.toUpperCase()]=s==="map"?$m(m,/[, ]/):Bf(m,/[, ]/)}),l}else return},Lm=(n={})=>{var s;const l={},m={};let x=[];const P={},Z={},J=(Wo,Us,Ma)=>{const ii=n[Wo];if(ii)return $m(ii,/[, ]/,$m(ii.toUpperCase(),/[, ]/));{let Wa=JO[Wo];return Wa||(Wa=e2(Us,Ma),JO[Wo]=Wa),Wa}},ge=(s=n.schema)!==null&&s!==void 0?s:"html5",Re=X8(ge);n.verify_html===!1&&(n.valid_elements="*[*]");const Ge=g1(n.valid_styles),qe=g1(n.invalid_styles,"map"),ot=g1(n.valid_classes,"map"),Et=J("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Vt=J("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),kt=J("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),It=J("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),cn="td th iframe video audio object script code",xn=J("non_empty_elements",cn+" pre svg",kt),bn=J("move_caret_before_on_enter_elements",cn+" table",kt),$n="h1 h2 h3 h4 h5 h6",rr=J("text_block_elements",$n+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),gr=J("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",rr),Qr=J("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),zn=J("transparent_elements","a ins del canvas map"),Bn=J("wrap_block_elements","pre "+$n);Yd("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Wo=>{Z[Wo]=new RegExp("</"+Wo+"[^>]*>","gi")});const tr=Wo=>{const Us=Y.from(l["@"]),Ma=/[*?+]/;re(m1(Us,Wo??""),({name:ii,element:Wa,aliasName:Of})=>{if(Of&&(l[Of]=Wa),Ma.test(ii)){const rm=Wa;rm.pattern=Kr(ii),x.push(rm)}else l[ii]=Wa})},eo=Wo=>{x=[],re(Gt(l),Us=>{delete l[Us]}),tr(Wo)},po=Wo=>{delete JO.text_block_elements,delete JO.block_elements,re(Y8(Wo??""),({inline:Us,name:Ma,cloneName:ii})=>{if(m[Ma]=m[ii],P[Ma]=ii,xn[Ma.toUpperCase()]={},xn[Ma]={},Us||(gr[Ma.toUpperCase()]={},gr[Ma]={}),!l[Ma]){let Wa=l[ii];Wa=Vy({},Wa),delete Wa.removeEmptyAttrs,delete Wa.removeEmpty,l[Ma]=Wa}Bt(m,(Wa,Of)=>{Wa[ii]&&(m[Of]=Wa=Vy({},m[Of]),Wa[Ma]=Wa[ii])})})},cs=Wo=>{re(av(Wo??""),({operation:Us,name:Ma,validChildren:ii})=>{const Wa=Us==="replace"?{"#comment":{}}:m[Ma];re(ii,Of=>{Us==="remove"?delete Wa[Of]:Wa[Of]={}}),m[Ma]=Wa})},Os=Wo=>{const Us=l[Wo];if(Us)return Us;let Ma=x.length;for(;Ma--;){const ii=x[Ma];if(ii.pattern.test(Wo))return ii}};n.valid_elements?(eo(n.valid_elements),Yd(Re,(Wo,Us)=>{m[Us]=Wo.children})):(Yd(Re,(Wo,Us)=>{l[Us]={attributes:Wo.attributes,attributesOrder:Wo.attributesOrder},m[Us]=Wo.children}),Yd(ec("strong/b em/i"),Wo=>{const Us=ec(Wo,"/");l[Us[1]].outputName=Us[0]}),Yd(Qr,(Wo,Us)=>{l[Us]&&(n.padd_empty_block_inline_children&&(l[Us].paddInEmptyBlock=!0),l[Us].removeEmpty=!0)}),Yd(ec("ol ul blockquote a table tbody"),Wo=>{l[Wo]&&(l[Wo].removeEmpty=!0)}),Yd(ec("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Wo=>{l[Wo]&&(l[Wo].paddEmpty=!0)}),Yd(ec("span"),Wo=>{l[Wo].removeEmptyAttrs=!0})),delete l.svg,po(n.custom_elements),cs(n.valid_children),tr(n.extended_valid_elements),cs("+ol[ul|ol],+ul[ul|ol]"),Yd({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Wo,Us)=>{l[Us]&&(l[Us].parentsRequired=ec(Wo))}),n.invalid_elements&&Yd(Bf(n.invalid_elements),Wo=>{l[Wo]&&delete l[Wo]}),Os("span")||tr("span[!data-mce-type|*]");const pa=ae(Ge),Ls=ae(qe),pi=ae(ot),pc=ae(It),va=ae(gr),Tr=ae(rr),co=ae(Qr),Hs=ae(Object.seal(kt)),Ts=ae(Vt),ro=ae(xn),Io=ae(bn),yr=ae(Et),Qo=ae(zn),Is=ae(Bn),Pa=ae(Object.seal(Z)),wa=(Wo,Us)=>{const Ma=m[Wo.toLowerCase()];return!!(Ma&&Ma[Us.toLowerCase()])},Vl=(Wo,Us)=>{const Ma=Os(Wo);if(Ma)if(Us){if(Ma.attributes[Us])return!0;const ii=Ma.attributePatterns;if(ii){let Wa=ii.length;for(;Wa--;)if(ii[Wa].pattern.test(Us))return!0}}else return!0;return!1},nm=Wo=>lt(va(),Wo),Wf=Wo=>Vl(Wo)&&!nm(Wo),Bu=Wo=>lt(Is(),Wo)||Wf(Wo),dh=ae(P);return{type:ge,children:m,elements:l,getValidStyles:pa,getValidClasses:pi,getBlockElements:va,getInvalidStyles:Ls,getVoidElements:Hs,getTextBlockElements:Tr,getTextInlineElements:co,getBoolAttrs:pc,getElementRule:Os,getSelfClosingElements:Ts,getNonEmptyElements:ro,getMoveCaretBeforeOnEnterElements:Io,getWhitespaceElements:yr,getTransparentElements:Qo,getSpecialElements:Pa,isValidChild:wa,isValid:Vl,isBlock:nm,isInline:Wf,isWrapper:Bu,getCustomElements:dh,addValidElements:tr,setValidElements:eo,addCustomElements:po,addValidChildren:cs}},G8=n=>({value:p1(n)}),p1=n=>Sr(n,"#").toUpperCase(),iv=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},cd=n=>{const s=iv(n.red)+iv(n.green)+iv(n.blue);return G8(s)},Mu=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,j8=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,f5=(n,s,l,m)=>({red:n,green:s,blue:l,alpha:m}),d5=(n,s,l,m)=>{const x=parseInt(n,10),P=parseInt(s,10),Z=parseInt(l,10),J=parseFloat(m);return f5(x,P,Z,J)},uw=n=>{if(n==="transparent")return Y.some(f5(0,0,0,0));const s=Mu.exec(n);if(s!==null)return Y.some(d5(s[1],s[2],s[3],"1"));const l=j8.exec(n);return l!==null?Y.some(d5(l[1],l[2],l[3],l[4])):Y.none()},Eu=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,v1=n=>uw(n).map(cd).map(s=>"#"+s.value).getOr(n),t2=(n={},s)=>{const l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,m=/\s*([^:]+):\s*([^;]+);?/g,x=/\s+$/,P={};let Z,J;const ge=Lg;s&&(Z=s.getValidStyles(),J=s.getInvalidStyles());const Re=(`\\" \\' \\; \\: ; : `+ge).split(" ");for(let qe=0;qe<Re.length;qe++)P[Re[qe]]=ge+qe,P[ge+qe]=Re[qe];const Ge={parse:qe=>{const ot={};let Et=!1;const Vt=n.url_converter,kt=n.url_converter_scope||Ge,It=(zn,Bn,tr)=>{const eo=ot[zn+"-top"+Bn];if(!eo)return;const po=ot[zn+"-right"+Bn];if(!po)return;const cs=ot[zn+"-bottom"+Bn];if(!cs)return;const Os=ot[zn+"-left"+Bn];if(!Os)return;const pa=[eo,po,cs,Os];let Ls=pa.length-1;for(;Ls--&&pa[Ls]===pa[Ls+1];);Ls>-1&&tr||(ot[zn+Bn]=Ls===-1?pa[0]:pa.join(" "),delete ot[zn+"-top"+Bn],delete ot[zn+"-right"+Bn],delete ot[zn+"-bottom"+Bn],delete ot[zn+"-left"+Bn])},cn=zn=>{const Bn=ot[zn];if(!Bn)return;const tr=Bn.indexOf(",")>-1?[Bn]:Bn.split(" ");let eo=tr.length;for(;eo--;)if(tr[eo]!==tr[0])return!1;return ot[zn]=tr[0],!0},xn=(zn,Bn,tr,eo)=>{cn(Bn)&&cn(tr)&&cn(eo)&&(ot[zn]=ot[Bn]+" "+ot[tr]+" "+ot[eo],delete ot[Bn],delete ot[tr],delete ot[eo])},bn=zn=>(Et=!0,P[zn]),$n=(zn,Bn)=>(Et&&(zn=zn.replace(/\uFEFF[0-9]/g,tr=>P[tr])),Bn||(zn=zn.replace(/\\([\'\";:])/g,"$1")),zn),rr=zn=>String.fromCharCode(parseInt(zn.slice(1),16)),gr=zn=>zn.replace(/\\[0-9a-f]+/gi,rr),Qr=(zn,Bn,tr,eo,po,cs)=>{if(po=po||cs,po)return po=$n(po),"'"+po.replace(/\'/g,"\\'")+"'";if(Bn=$n(Bn||tr||eo||""),!n.allow_script_urls){const Os=Bn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Os)||!n.allow_svg_data_urls&&/^data:image\/svg/i.test(Os))return""}return Vt&&(Bn=Vt.call(kt,Bn,"style")),"url('"+Bn.replace(/\'/g,"\\'")+"')"};if(qe){qe=qe.replace(/[\u0000-\u001F]/g,""),qe=qe.replace(/\\[\"\';:\uFEFF]/g,bn).replace(/\"[^\"]+\"|\'[^\']+\'/g,Bn=>Bn.replace(/[;:]/g,bn));let zn;for(;zn=m.exec(qe);){m.lastIndex=zn.index+zn[0].length;let Bn=zn[1].replace(x,"").toLowerCase(),tr=zn[2].replace(x,"");if(Bn&&tr){if(Bn=gr(Bn),tr=gr(tr),Bn.indexOf(ge)!==-1||Bn.indexOf('"')!==-1||!n.allow_script_urls&&(Bn==="behavior"||/expression\s*\(|\/\*|\*\//.test(tr)))continue;Bn==="font-weight"&&tr==="700"?tr="bold":(Bn==="color"||Bn==="background-color")&&(tr=tr.toLowerCase()),M(n.force_hex_color)&&n.force_hex_color!=="off"&&uw(tr).each(eo=>{(n.force_hex_color==="always"||eo.alpha===1)&&(tr=v1(Eu(eo)))}),tr=tr.replace(l,Qr),ot[Bn]=Et?$n(tr,!0):tr}}It("border","",!0),It("border","-width"),It("border","-color"),It("border","-style"),It("padding",""),It("margin",""),xn("border","border-width","border-style","border-color"),ot.border==="medium none"&&delete ot.border,ot["border-image"]==="none"&&delete ot["border-image"]}return ot},serialize:(qe,ot)=>{let Et="";const Vt=(It,cn)=>{const xn=cn[It];if(xn)for(let bn=0,$n=xn.length;bn<$n;bn++){const rr=xn[bn],gr=qe[rr];gr&&(Et+=(Et.length>0?" ":"")+rr+": "+gr+";")}},kt=(It,cn)=>{if(!J||!cn)return!0;let xn=J["*"];return xn&&xn[It]?!1:(xn=J[cn],!(xn&&xn[It]))};return ot&&Z?(Vt("*",Z),Vt(ot,Z)):Bt(qe,(It,cn)=>{It&&kt(cn,ot)&&(Et+=(Et.length>0?" ":"")+cn+": "+It+";")}),Et}};return Ge},n2={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},q8=n=>n instanceof Event||E(n.initEvent),h5=n=>n.isDefaultPrevented===le||n.isDefaultPrevented===ne,fw=n=>F(n.preventDefault)||q8(n),y1=(n,s)=>{const l=s??{};for(const m in n)lt(n2,m)||(l[m]=n[m]);return B(n.composedPath)&&(l.composedPath=()=>n.composedPath()),B(n.getModifierState)&&(l.getModifierState=m=>n.getModifierState(m)),B(n.getTargetRanges)&&(l.getTargetRanges=()=>n.getTargetRanges()),l},b1=(n,s,l,m)=>{var x;const P=y1(s,m);return P.type=n,F(P.target)&&(P.target=(x=P.srcElement)!==null&&x!==void 0?x:l),fw(s)&&(P.preventDefault=()=>{P.defaultPrevented=!0,P.isDefaultPrevented=le,E(s.preventDefault)&&s.preventDefault()},P.stopPropagation=()=>{P.cancelBubble=!0,P.isPropagationStopped=le,E(s.stopPropagation)&&s.stopPropagation()},P.stopImmediatePropagation=()=>{P.isImmediatePropagationStopped=le,P.stopPropagation()},h5(P)||(P.isDefaultPrevented=P.defaultPrevented===!0?le:ne,P.isPropagationStopped=P.cancelBubble===!0?le:ne,P.isImmediatePropagationStopped=ne)),P},r2="mce-data-",K8=/^(?:mouse|contextmenu)|click/,o2=(n,s,l,m)=>{n.addEventListener(s,l,m||!1)},O1=(n,s,l,m)=>{n.removeEventListener(s,l,m||!1)},J8=n=>B(n)&&K8.test(n.type),zy=(n,s)=>{const l=b1(n.type,n,document,s);if(J8(n)&&U(n.pageX)&&!U(n.clientX)){const m=l.target.ownerDocument||document,x=m.documentElement,P=m.body,Z=l;Z.pageX=n.clientX+(x&&x.scrollLeft||P&&P.scrollLeft||0)-(x&&x.clientLeft||P&&P.clientLeft||0),Z.pageY=n.clientY+(x&&x.scrollTop||P&&P.scrollTop||0)-(x&&x.clientTop||P&&P.clientTop||0)}return l},dw=(n,s,l)=>{const m=n.document,x={type:"ready"};if(l.domLoaded){s(x);return}const P=()=>m.readyState==="complete"||m.readyState==="interactive"&&m.body,Z=()=>{O1(n,"DOMContentLoaded",Z),O1(n,"load",Z),l.domLoaded||(l.domLoaded=!0,s(x)),n=null};P()?Z():o2(n,"DOMContentLoaded",Z),l.domLoaded||o2(n,"load",Z)};class _u{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=r2+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(s,l,m,x){const P=this;let Z;const J=window,ge=ot=>{P.executeHandlers(zy(ot||J.event),Re)};if(!s||lr(s)||rd(s))return m;let Re;s[P.expando]?Re=s[P.expando]:(Re=P.count++,s[P.expando]=Re,P.events[Re]={}),x=x||s;const Ge=l.split(" ");let qe=Ge.length;for(;qe--;){let ot=Ge[qe],Et=ge,Vt=!1,kt=!1;if(ot==="DOMContentLoaded"&&(ot="ready"),P.domLoaded&&ot==="ready"&&s.readyState==="complete"){m.call(x,zy({type:ot}));continue}!P.hasFocusIn&&(ot==="focusin"||ot==="focusout")&&(Vt=!0,kt=ot==="focusin"?"focus":"blur",Et=It=>{const cn=zy(It||J.event);cn.type=cn.type==="focus"?"focusin":"focusout",P.executeHandlers(cn,Re)}),Z=P.events[Re][ot],Z?ot==="ready"&&P.domLoaded?m(zy({type:ot})):Z.push({func:m,scope:x}):(P.events[Re][ot]=Z=[{func:m,scope:x}],Z.fakeName=kt,Z.capture=Vt,Z.nativeHandler=Et,ot==="ready"?dw(s,Et,P):o2(s,kt||ot,Et,Vt))}return s=Z=null,m}unbind(s,l,m){if(!s||lr(s)||rd(s))return this;const x=s[this.expando];if(x){let P=this.events[x];if(l){const Z=l.split(" ");let J=Z.length;for(;J--;){const ge=Z[J],Re=P[ge];if(Re){if(m){let Ge=Re.length;for(;Ge--;)if(Re[Ge].func===m){const qe=Re.nativeHandler,ot=Re.fakeName,Et=Re.capture,Vt=Re.slice(0,Ge).concat(Re.slice(Ge+1));Vt.nativeHandler=qe,Vt.fakeName=ot,Vt.capture=Et,P[ge]=Vt}}(!m||Re.length===0)&&(delete P[ge],O1(s,Re.fakeName||ge,Re.nativeHandler,Re.capture))}}}else Bt(P,(Z,J)=>{O1(s,Z.fakeName||J,Z.nativeHandler,Z.capture)}),P={};for(const Z in P)if(lt(P,Z))return this;delete this.events[x];try{delete s[this.expando]}catch{s[this.expando]=null}}return this}fire(s,l,m){return this.dispatch(s,l,m)}dispatch(s,l,m){if(!s||lr(s)||rd(s))return this;const x=zy({type:l,target:s},m);do{const P=s[this.expando];P&&this.executeHandlers(x,P),s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow}while(s&&!x.isPropagationStopped());return this}clean(s){if(!s||lr(s)||rd(s))return this;if(s[this.expando]&&this.unbind(s),s.getElementsByTagName||(s=s.document),s&&s.getElementsByTagName){this.unbind(s);const l=s.getElementsByTagName("*");let m=l.length;for(;m--;)s=l[m],s[this.expando]&&this.unbind(s)}return this}destroy(){this.events={}}cancel(s){return s&&(s.preventDefault(),s.stopImmediatePropagation()),!1}executeHandlers(s,l){const m=this.events[l],x=m&&m[s.type];if(x)for(let P=0,Z=x.length;P<Z;P++){const J=x[P];if(J&&J.func.call(J.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped())return}}}_u.Event=new _u;const s2=fr.each,m5=fr.grep,a2="data-mce-style",h$=fr.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),i2=(n,s,l)=>{F(l)||l===""?di(n,s):$a(n,s,l)},Qg=n=>n.replace(/[A-Z]/g,s=>"-"+s.toLowerCase()),Rh=(n,s)=>{let l=0;if(n)for(let m=n.nodeType,x=n.previousSibling;x;x=x.previousSibling){const P=x.nodeType;s&&lr(x)&&(P===m||!x.data.length)||(l++,m=P)}return l},hw=(n,s)=>{const l=$l(s,"style"),m=n.serialize(n.parse(l),Vs(s));i2(s,a2,m)},x1=(n,s)=>W(n)?lt(h$,s)?n+"":n+"px":n,l2=(n,s,l)=>{const m=Qg(s);F(l)||l===""?o1(n,m):Ty(n,m,x1(l,m))},g5=(n,s,l)=>{const m=s.keep_values,x={set:(Z,J,ge)=>{const Re=Yt.fromDom(Z);E(s.url_converter)&&B(J)&&(J=s.url_converter.call(s.url_converter_scope||l(),String(J),ge,Z));const Ge="data-mce-"+ge;i2(Re,Ge,J),i2(Re,ge,J)},get:(Z,J)=>{const ge=Yt.fromDom(Z);return $l(ge,"data-mce-"+J)||$l(ge,J)}},P={style:{set:(Z,J)=>{const ge=Yt.fromDom(Z);m&&i2(ge,a2,J),di(ge,"style"),M(J)&&lc(ge,n.parse(J))},get:Z=>{const J=Yt.fromDom(Z),ge=$l(J,a2)||$l(J,"style");return n.serialize(n.parse(ge),Vs(J))}}};return m&&(P.href=P.src=x),P},La=(n,s={})=>{const l={},m=window,x={};let P=0;const Z=!0,J=!0,ge=nw.forElement(Yt.fromDom(n),{contentCssCors:s.contentCssCors,referrerPolicy:s.referrerPolicy}),Re=[],Ge=s.schema?s.schema:Lm({}),qe=t2({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope,force_hex_color:s.force_hex_color},s.schema),ot=s.ownEvents?new _u:_u.Event,Et=Ge.getBlockElements(),Vt=Ln=>M(Ln)?lt(Et,Ln):Xr(Ln)&&(lt(Et,Ln.nodeName)||As(Ge,Ln)),kt=Ln=>Ln&&n&&M(Ln)?n.getElementById(Ln):Ln,It=Ln=>{const In=kt(Ln);return B(In)?Yt.fromDom(In):null},cn=(Ln,In,br="")=>{let hr;const mo=It(Ln);if(B(mo)&&Dl(mo)){const xs=sS[In];xs&&xs.get?hr=xs.get(mo.dom,In):hr=$l(mo,In)}return B(hr)?hr:br},xn=Ln=>{const In=kt(Ln);return F(In)?[]:In.attributes},bn=(Ln,In,br)=>{co(Ln,hr=>{if(Xr(hr)){const mo=Yt.fromDom(hr),xs=br===""?null:br,Ka=$l(mo,In),xf=sS[In];xf&&xf.set?xf.set(mo.dom,xs,In):i2(mo,In,xs),Ka!==xs&&s.onSetAttrib&&s.onSetAttrib({attrElm:mo.dom,attrName:In,attrValue:xs})}})},$n=(Ln,In)=>Ln.cloneNode(In),rr=()=>s.root_element||n.body,gr=Ln=>{const In=_y(Ln);return{x:In.x,y:In.y,w:In.width,h:In.height}},Qr=(Ln,In)=>_a(n.body,kt(Ln),In),zn=(Ln,In,br)=>{co(Ln,hr=>{const mo=Yt.fromDom(hr);l2(mo,In,br),s.update_styles&&hw(qe,mo)})},Bn=(Ln,In)=>{co(Ln,br=>{const hr=Yt.fromDom(br);Bt(In,(mo,xs)=>{l2(hr,xs,mo)}),s.update_styles&&hw(qe,hr)})},tr=(Ln,In,br)=>{const hr=kt(Ln);if(!(F(hr)||!Gl(hr)&&!qS(hr)))return br?Ti(Yt.fromDom(hr),Qg(In)):(In=In.replace(/-(\D)/g,(mo,xs)=>xs.toUpperCase()),In==="float"&&(In="cssFloat"),hr.style?hr.style[In]:void 0)},eo=Ln=>{const In=kt(Ln);if(!In)return{w:0,h:0};let br=tr(In,"width"),hr=tr(In,"height");return(!br||br.indexOf("px")===-1)&&(br="0"),(!hr||hr.indexOf("px")===-1)&&(hr="0"),{w:parseInt(br,10)||In.offsetWidth||In.clientWidth,h:parseInt(hr,10)||In.offsetHeight||In.clientHeight}},po=Ln=>{const In=kt(Ln),br=Qr(In),hr=eo(In);return{x:br.x,y:br.y,w:hr.w,h:hr.h}},cs=(Ln,In)=>{if(!Ln)return!1;const br=N(Ln)?Ln:[Ln];return _e(br,hr=>Gu(Yt.fromDom(hr),In))},Os=(Ln,In,br,hr)=>{const mo=[];let xs=kt(Ln);hr=hr===void 0;const Ka=br||(rr().nodeName!=="BODY"?rr().parentNode:null);if(M(In))if(In==="*")In=Xr;else{const xf=In;In=vc=>cs(vc,xf)}for(;xs&&!(xs===Ka||F(xs.nodeType)||$g(xs)||ma(xs));){if(!In||In(xs))if(hr)mo.push(xs);else return[xs];xs=xs.parentNode}return hr?mo:null},pa=(Ln,In,br)=>{const hr=Os(Ln,In,br,!1);return hr&&hr.length>0?hr[0]:null},Ls=(Ln,In,br)=>{let hr=In;if(Ln){M(In)&&(hr=mo=>cs(mo,In));for(let mo=Ln[br];mo;mo=mo[br])if(E(hr)&&hr(mo))return mo}return null},pi=(Ln,In)=>Ls(Ln,In,"nextSibling"),pc=(Ln,In)=>Ls(Ln,In,"previousSibling"),va=Ln=>E(Ln.querySelectorAll),Tr=(Ln,In)=>{var br,hr;const mo=(hr=(br=kt(In))!==null&&br!==void 0?br:s.root_element)!==null&&hr!==void 0?hr:n;return va(mo)?tt(mo.querySelectorAll(Ln)):[]},co=function(Ln,In,br){const hr=br??this;if(N(Ln)){const mo=[];return s2(Ln,(xs,Ka)=>{const xf=kt(xs);xf&&mo.push(In.call(hr,xf,Ka))}),mo}else{const mo=kt(Ln);return mo?In.call(hr,mo):!1}},Hs=(Ln,In)=>{co(Ln,br=>{Bt(In,(hr,mo)=>{bn(br,mo,hr)})})},Ts=(Ln,In)=>{co(Ln,br=>{const hr=Yt.fromDom(br);Tm(hr,In)})},ro=(Ln,In,br,hr,mo)=>co(Ln,xs=>{const Ka=M(In)?n.createElement(In):In;return B(br)&&Hs(Ka,br),hr&&(!M(hr)&&hr.nodeType?Ka.appendChild(hr):M(hr)&&Ts(Ka,hr)),mo?Ka:xs.appendChild(Ka)}),Io=(Ln,In,br)=>ro(n.createElement(Ln),Ln,In,br,!0),yr=Bg.decode,Qo=Bg.encodeAllRaw,Is=(Ln,In,br="")=>{let hr="<"+Ln;for(const mo in In)ut(In,mo)&&(hr+=" "+mo+'="'+Qo(In[mo])+'"');return Tt(br)&&lt(Ge.getVoidElements(),Ln)?hr+" />":hr+">"+br+"</"+Ln+">"},Pa=Ln=>{const In=n.createElement("div"),br=n.createDocumentFragment();br.appendChild(In),Ln&&(In.innerHTML=Ln);let hr;for(;hr=In.firstChild;)br.appendChild(hr);return br.removeChild(In),br},wa=(Ln,In)=>co(Ln,br=>{const hr=Yt.fromDom(br);return In&&re(il(hr),mo=>{Ui(mo)&&mo.dom.length===0?Ks(mo):Yi(hr,mo)}),Ks(hr),hr.dom}),Vl=Ln=>co(Ln,In=>{const br=In.attributes;for(let hr=br.length-1;hr>=0;hr--)In.removeAttributeNode(br.item(hr))}),nm=Ln=>qe.parse(Ln),Wf=(Ln,In)=>qe.serialize(Ln,In),Bu=Ln=>{if(wp!==La.DOM&&n===document){if(l[Ln])return;l[Ln]=!0}let In=n.getElementById("mceDefaultStyles");if(!In){In=n.createElement("style"),In.id="mceDefaultStyles",In.type="text/css";const br=n.head;br.firstChild?br.insertBefore(In,br.firstChild):br.appendChild(In)}In.styleSheet?In.styleSheet.cssText+=Ln:In.appendChild(n.createTextNode(Ln))},dh=Ln=>{Ln||(Ln=""),re(Ln.split(","),In=>{x[In]=!0,ge.load(In).catch(ie)})},Wo=(Ln,In,br)=>{co(Ln,hr=>{if(Xr(hr)){const mo=Yt.fromDom(hr),xs=In.split(" ");re(xs,Ka=>{B(br)?(br?bm:Om)(mo,Ka):LO(mo,Ka)})}})},Us=(Ln,In)=>{Wo(Ln,In,!0)},Ma=(Ln,In)=>{Wo(Ln,In,!1)},ii=(Ln,In)=>{const br=It(Ln),hr=In.split(" ");return B(br)&&Xe(hr,mo=>wh(br,mo))},Wa=Ln=>{co(Ln,In=>o1(Yt.fromDom(In),"display"))},Of=Ln=>{co(Ln,In=>Ty(Yt.fromDom(In),"display","none"))},rm=Ln=>{const In=It(Ln);return B(In)&&Fa(Wi(In,"display"),"none")},Bv=Ln=>(Ln||"mce_")+P++,PP=Ln=>{const In=It(Ln);return B(In)?Xr(In.dom)?In.dom.outerHTML:s1(In):""},lT=(Ln,In)=>{co(Ln,br=>{Xr(br)&&(br.outerHTML=In)})},MP=(Ln,In)=>{const br=kt(In);return co(Ln,hr=>{const mo=br==null?void 0:br.parentNode,xs=br==null?void 0:br.nextSibling;return mo&&(xs?mo.insertBefore(hr,xs):mo.appendChild(hr)),hr})},nS=(Ln,In,br)=>co(In,hr=>{var mo;const xs=N(In)?Ln.cloneNode(!0):Ln;return br&&s2(m5(hr.childNodes),Ka=>{xs.appendChild(Ka)}),(mo=hr.parentNode)===null||mo===void 0||mo.replaceChild(xs,hr),hr}),EP=(Ln,In)=>{if(Ln.nodeName!==In.toUpperCase()){const br=Io(In);return s2(xn(Ln),hr=>{bn(br,hr.nodeName,cn(Ln,hr.nodeName))}),nS(br,Ln,!0),br}else return Ln},rS=(Ln,In)=>{let br=Ln;for(;br;){let hr=In;for(;hr&&br!==hr;)hr=hr.parentNode;if(br===hr)break;br=br.parentNode}return!br&&Ln.ownerDocument?Ln.ownerDocument.documentElement:br},I0=Ln=>{if(Xr(Ln)){const In=Ln.nodeName.toLowerCase()==="a"&&!cn(Ln,"href")&&cn(Ln,"id");if(cn(Ln,"name")||cn(Ln,"data-mce-bookmark")||In)return!0}return!1},om=(Ln,In,br)=>{let hr=0;if(I0(Ln))return!1;const mo=Ln.firstChild;if(mo){const xs=new fa(mo,Ln),Ka=Ge?Ge.getWhitespaceElements():{},xf=In||(Ge?Ge.getNonEmptyElements():null);let vc=mo;do{if(Xr(vc)){const dO=vc.getAttribute("data-mce-bogus");if(dO){vc=xs.next(dO==="all");continue}const hh=vc.nodeName.toLowerCase();if(xf&&xf[hh]){if(hh==="br"){hr++,vc=xs.next();continue}return!1}if(I0(vc))return!1}if(rd(vc)||lr(vc)&&!Qa(vc.data)&&(!(br!=null&&br.includeZwsp)||!gi(vc.data))||lr(vc)&&vc.parentNode&&Ka[vc.parentNode.nodeName]&&Qa(vc.data))return!1;vc=xs.next()}while(vc)}return hr<=1},ag=()=>n.createRange(),oS=(Ln,In,br)=>{let hr=ag(),mo,xs;if(Ln&&In&&Ln.parentNode&&In.parentNode){const Ka=Ln.parentNode;return hr.setStart(Ka,Rh(Ln)),hr.setEnd(In.parentNode,Rh(In)),mo=hr.extractContents(),hr=ag(),hr.setStart(In.parentNode,Rh(In)+1),hr.setEnd(Ka,Rh(Ln)+1),xs=hr.extractContents(),Ka.insertBefore(Rm(wp,mo,Ge),Ln),br?Ka.insertBefore(br,Ln):Ka.insertBefore(In,Ln),Ka.insertBefore(Rm(wp,xs,Ge),Ln),wa(Ln),br||In}else return},uO=(Ln,In,br,hr)=>{if(N(Ln)){let mo=Ln.length;const xs=[];for(;mo--;)xs[mo]=uO(Ln[mo],In,br,hr);return xs}else return s.collect&&(Ln===n||Ln===m)&&Re.push([Ln,In,br,hr]),ot.bind(Ln,In,br,hr||wp)},cT=(Ln,In,br)=>{if(N(Ln)){let hr=Ln.length;const mo=[];for(;hr--;)mo[hr]=cT(Ln[hr],In,br);return mo}else{if(Re.length>0&&(Ln===n||Ln===m)){let hr=Re.length;for(;hr--;){const[mo,xs,Ka]=Re[hr];Ln===mo&&(!In||In===xs)&&(!br||br===Ka)&&ot.unbind(mo,xs,Ka)}}return ot.unbind(Ln,In,br)}},ig=(Ln,In,br)=>ot.dispatch(Ln,In,br),_P=(Ln,In,br)=>ot.dispatch(Ln,In,br),uT=Ln=>{if(Ln&&Gl(Ln)){const In=Ln.getAttribute("data-mce-contenteditable");return In&&In!=="inherit"?In:Ln.contentEditable!=="inherit"?Ln.contentEditable:null}else return null},wp={doc:n,settings:s,win:m,files:x,stdMode:Z,boxModel:J,styleSheetLoader:ge,boundEvents:Re,styles:qe,schema:Ge,events:ot,isBlock:Vt,root:null,clone:$n,getRoot:rr,getViewPort:gr,getRect:po,getSize:eo,getParent:pa,getParents:Os,get:kt,getNext:pi,getPrev:pc,select:Tr,is:cs,add:ro,create:Io,createHTML:Is,createFragment:Pa,remove:wa,setStyle:zn,getStyle:tr,setStyles:Bn,removeAllAttribs:Vl,setAttrib:bn,setAttribs:Hs,getAttrib:cn,getPos:Qr,parseStyle:nm,serializeStyle:Wf,addStyle:Bu,loadCSS:dh,addClass:Us,removeClass:Ma,hasClass:ii,toggleClass:Wo,show:Wa,hide:Of,isHidden:rm,uniqueId:Bv,setHTML:Ts,getOuterHTML:PP,setOuterHTML:lT,decode:yr,encode:Qo,insertAfter:MP,replace:nS,rename:EP,findCommonAncestor:rS,run:co,getAttribs:xn,isEmpty:om,createRng:ag,nodeIndex:Rh,split:oS,bind:uO,unbind:cT,fire:_P,dispatch:ig,getContentEditable:uT,getContentEditableParent:Ln=>{const In=rr();let br=null;for(let hr=Ln;hr&&hr!==In&&(br=uT(hr),br===null);hr=hr.parentNode);return br},isEditable:Ln=>{if(B(Ln)){const In=Xr(Ln)?Ln:Ln.parentElement;return B(In)&&Gl(In)&&jo(Yt.fromDom(In))}else return!1},destroy:()=>{if(Re.length>0){let Ln=Re.length;for(;Ln--;){const[In,br,hr]=Re[Ln];ot.unbind(In,br,hr)}}Bt(x,(Ln,In)=>{ge.unload(In),delete x[In]})},isChildOf:(Ln,In)=>Ln===In||In.contains(Ln),dumpRng:Ln=>"startContainer: "+Ln.startContainer.nodeName+", startOffset: "+Ln.startOffset+", endContainer: "+Ln.endContainer.nodeName+", endOffset: "+Ln.endOffset},sS=g5(qe,s,ae(wp));return wp};La.DOM=La(document),La.nodeIndex=Rh;const e7=La.DOM,Pi=0,p5=1,ja=2,S1=3;class nl{constructor(s={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=s}_setReferrerPolicy(s){this.settings.referrerPolicy=s}loadScript(s){return new Promise((l,m)=>{const x=e7;let P;const Z=()=>{x.remove(Re),P&&(P.onerror=P.onload=P=null)},J=()=>{Z(),l()},ge=()=>{Z(),m("Failed to load script: "+s)},Re=x.uniqueId();P=document.createElement("script"),P.id=Re,P.type="text/javascript",P.src=fr._addCacheSuffix(s),this.settings.referrerPolicy&&x.setAttrib(P,"referrerpolicy",this.settings.referrerPolicy),P.onload=J,P.onerror=ge,(document.getElementsByTagName("head")[0]||document.body).appendChild(P)})}isDone(s){return this.states[s]===ja}markDone(s){this.states[s]=ja}add(s){const l=this;return l.queue.push(s),l.states[s]===void 0&&(l.states[s]=Pi),new Promise((x,P)=>{l.scriptLoadedCallbacks[s]||(l.scriptLoadedCallbacks[s]=[]),l.scriptLoadedCallbacks[s].push({resolve:x,reject:P})})}load(s){return this.add(s)}remove(s){delete this.states[s],delete this.scriptLoadedCallbacks[s]}loadQueue(){const s=this.queue;return this.queue=[],this.loadScripts(s)}loadScripts(s){const l=this,m=(ge,Re)=>{Sn(l.scriptLoadedCallbacks,Re).each(Ge=>{re(Ge,qe=>qe[ge](Re))}),delete l.scriptLoadedCallbacks[Re]},x=ge=>{const Re=se(ge,Ge=>Ge.status==="rejected");return Re.length>0?Promise.reject(Ze(Re,({reason:Ge})=>N(Ge)?Ge:[Ge])):Promise.resolve()},P=ge=>Promise.allSettled(Ie(ge,Re=>l.states[Re]===ja?(m("resolve",Re),Promise.resolve()):l.states[Re]===S1?(m("reject",Re),Promise.reject(Re)):(l.states[Re]=p5,l.loadScript(Re).then(()=>{l.states[Re]=ja,m("resolve",Re);const Ge=l.queue;return Ge.length>0?(l.queue=[],P(Ge).then(x)):Promise.resolve()},()=>(l.states[Re]=S1,m("reject",Re),Promise.reject(Re)))))),Z=ge=>(l.loading=!0,P(ge).then(Re=>{l.loading=!1;const Ge=l.queueLoadedCallbacks.shift();return Y.from(Ge).each(pe),x(Re)})),J=gt(s);return l.loading?new Promise((ge,Re)=>{l.queueLoadedCallbacks.push(()=>{Z(J).then(ge,Re)})}):Z(J)}}nl.ScriptLoader=new nl;const si=n=>{let s=n;return{get:()=>s,set:x=>{s=x}}},af=(n,s)=>{const l=n.indexOf(s);return l!==-1&&n.indexOf(s,l+1)>l},mw=n=>I(n)&&lt(n,"raw"),tc=n=>N(n)&&n.length>1,Zy={},w1=si("en"),Dh=()=>Sn(Zy,w1.get()),ud={getData:()=>vn(Zy,n=>({...n})),setCode:n=>{n&&w1.set(n)},getCode:()=>w1.get(),add:(n,s)=>{let l=Zy[n];l||(Zy[n]=l={});const m=Ie(Gt(s),x=>x.toLowerCase());Bt(s,(x,P)=>{const Z=P.toLowerCase();Z!==P&&af(m,Z)?(lt(s,Z)||(l[Z]=x),l[P]=x):l[Z]=x})},translate:n=>{const s=Dh().getOr({}),l=Z=>E(Z)?Object.prototype.toString.call(Z):m(Z)?"":""+Z,m=Z=>Z===""||Z===null||Z===void 0,x=Z=>{const J=l(Z);return lt(s,J)?l(s[J]):Sn(s,J.toLowerCase()).map(l).getOr(J)},P=Z=>Z.replace(/{context:\w+}$/,"");if(m(n))return"";if(mw(n))return l(n.raw);if(tc(n)){const Z=n.slice(1),J=x(n[0]).replace(/\{([0-9]+)\}/g,(ge,Re)=>lt(Z,Re)?l(Z[Re]):ge);return P(J)}return P(x(n))},isRtl:()=>Dh().bind(n=>Sn(n,"_dir")).exists(n=>n==="rtl"),hasCode:n=>lt(Zy,n)},Lc=()=>{const n=[],s={},l={},m=[],x=(kt,It)=>{const cn=se(m,xn=>xn.name===kt&&xn.state===It);re(cn,xn=>xn.resolve())},P=kt=>lt(s,kt),Z=kt=>lt(l,kt),J=kt=>{if(l[kt])return l[kt].instance},ge=(kt,It)=>{const cn=ud.getCode(),xn=","+(It||"")+",";!cn||It&&xn.indexOf(","+cn+",")===-1||nl.ScriptLoader.add(s[kt]+"/langs/"+cn+".js")},Re=(kt,It)=>{Lc.languageLoad!==!1&&(P(kt)?ge(kt,It):Vt(kt,"loaded").then(()=>ge(kt,It)))},Ge=(kt,It)=>(n.push(It),l[kt]={instance:It},x(kt,"added"),It),qe=kt=>{delete s[kt],delete l[kt]},ot=(kt,It)=>M(It)?M(kt)?{prefix:"",resource:It,suffix:""}:{prefix:kt.prefix,resource:It,suffix:kt.suffix}:It,Et=(kt,It)=>{if(s[kt])return Promise.resolve();let cn=M(It)?It:It.prefix+It.resource+It.suffix;cn.indexOf("/")!==0&&cn.indexOf("://")===-1&&(cn=Lc.baseURL+"/"+cn),s[kt]=cn.substring(0,cn.lastIndexOf("/"));const xn=()=>(x(kt,"loaded"),Promise.resolve());return l[kt]?xn():nl.ScriptLoader.add(cn).then(xn)},Vt=(kt,It="added")=>It==="added"&&Z(kt)||It==="loaded"&&P(kt)?Promise.resolve():new Promise(cn=>{m.push({name:kt,state:It,resolve:cn})});return{items:n,urls:s,lookup:l,get:J,requireLangPack:Re,add:Ge,remove:qe,createUrl:ot,load:Et,waitFor:Vt}};Lc.languageLoad=!0,Lc.baseURL="",Lc.PluginManager=Lc(),Lc.ThemeManager=Lc(),Lc.ModelManager=Lc();const n7=n=>{const s=si(Y.none()),l=()=>s.get().each(n);return{clear:()=>{l(),s.set(Y.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:J=>{l(),s.set(Y.some(J))}}},r7=n=>{const s=si(Y.none()),l=()=>s.get().each(J=>clearInterval(J));return{clear:()=>{l(),s.set(Y.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:J=>{l(),s.set(Y.some(setInterval(J,n)))}}},Vg=()=>{const n=n7(ie);return{...n,on:l=>n.get().each(l)}},Hy=(n,s)=>{let l=null;return{cancel:()=>{Q(l)||(clearTimeout(l),l=null)},throttle:(...P)=>{Q(l)&&(l=setTimeout(()=>{l=null,n.apply(null,P)},s))}}},c2=(n,s)=>{let l=null;const m=()=>{Q(l)||(clearTimeout(l),l=null)};return{cancel:m,throttle:(...P)=>{m(),l=setTimeout(()=>{l=null,n.apply(null,P)},s)}}},u2=ae("mce-annotation"),$h=ae("data-mce-annotation"),T1=ae("data-mce-annotation-uid"),k1=ae("data-mce-annotation-active"),A1=ae("data-mce-annotation-classes"),lv=ae("data-mce-annotation-attrs"),y5=n=>s=>Gs(s,n),Oi=(n,s)=>{const l=n.selection.getRng(),m=Yt.fromDom(l.startContainer),x=Yt.fromDom(n.getBody()),P=s.fold(()=>"."+u2(),ge=>`[${$h()}="${ge}"]`),Z=Ch(m,l.startOffset).getOr(m);return Df(Z,P,y5(x)).bind(ge=>kc(ge,`${T1()}`).bind(Re=>kc(ge,`${$h()}`).map(Ge=>{const qe=O5(n,Re);return{uid:Re,name:Ge,elements:qe}})))},b5=n=>Dl(n)&&wh(n,u2()),P1=(n,s)=>Mf(n,"data-mce-bogus")||tv(n,'[data-mce-bogus="all"]',y5(s)),O5=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=ll(l,`[${T1()}="${s}"]`);return se(m,x=>!P1(x,l))},f2=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=ll(l,`[${$h()}="${s}"]`),x={};return re(m,P=>{if(!P1(P,l)){const Z=$l(P,T1()),J=Sn(x,Z).getOr([]);x[Z]=J.concat([P])}}),x},uc=(n,s)=>{const l=si({}),m=()=>({listeners:[],previous:Vg()}),x=(qe,ot)=>{P(qe,Et=>(ot(Et),Et))},P=(qe,ot)=>{const Et=l.get(),Vt=Sn(Et,qe).getOrThunk(m),kt=ot(Vt);Et[qe]=kt,l.set(Et)},Z=(qe,ot,Et)=>{x(qe,Vt=>{re(Vt.listeners,kt=>kt(!0,qe,{uid:ot,nodes:Ie(Et,It=>It.dom)}))})},J=qe=>{x(qe,ot=>{re(ot.listeners,Et=>Et(!1,qe))})},ge=(qe,ot)=>{re(O5(n,qe),Et=>{ot?$a(Et,k1(),"true"):di(Et,k1())})},Re=c2(()=>{const qe=je(s.getNames());re(qe,ot=>{P(ot,Et=>{const Vt=Et.previous.get();return Oi(n,Y.some(ot)).fold(()=>{Vt.each(kt=>{J(ot),Et.previous.clear(),ge(kt,!1)})},({uid:kt,name:It,elements:cn})=>{Fa(Vt,kt)||(Vt.each(xn=>ge(xn,!1)),Z(It,kt,cn),Et.previous.set(kt),ge(kt,!0))}),{previous:Et.previous,listeners:Et.listeners}})})},30);return n.on("remove",()=>{Re.cancel()}),n.on("NodeChange",()=>{Re.throttle()}),{addListener:(qe,ot)=>{P(qe,Et=>({previous:Et.previous,listeners:Et.listeners.concat([ot])}))}}},lf=(n,s)=>{const l=$h(),m=P=>Y.from(P.attr(l)).bind(s.lookup),x=P=>{var Z,J;P.attr(T1(),null),P.attr($h(),null),P.attr(k1(),null);const ge=Y.from(P.attr(lv())).map(ot=>ot.split(",")).getOr([]),Re=Y.from(P.attr(A1())).map(ot=>ot.split(",")).getOr([]);re(ge,ot=>P.attr(ot,null));const Ge=(J=(Z=P.attr("class"))===null||Z===void 0?void 0:Z.split(" "))!==null&&J!==void 0?J:[],qe=pt(Ge,[u2()].concat(Re));P.attr("class",qe.length>0?qe.join(" "):null),P.attr(A1(),null),P.attr(lv(),null)};n.serializer.addTempAttr(k1()),n.serializer.addAttributeFilter(l,P=>{for(const Z of P)m(Z).each(J=>{J.persistent===!1&&(Z.name==="span"?Z.unwrap():x(Z))})})},x5=()=>{const n={};return{register:(x,P)=>{n[x]={name:x,settings:P}},lookup:x=>Sn(n,x).map(P=>P.settings),getNames:()=>Gt(n)}};let d2=0;const cv=n=>{const l=new Date().getTime(),m=Math.floor(Math.random()*1e9);return d2++,n+"_"+m+d2+String(l)},o7=(n,s)=>{re(s,l=>{bm(n,l)})},S5=(n,s)=>{re(s,l=>{Om(n,l)})},gw=(n,s)=>Yt.fromDom(n.dom.cloneNode(s)),Ru=n=>gw(n,!1),h2=n=>gw(n,!0),Mi=(n,s)=>{const l=Yt.fromTag(s),m=Up(n);return ku(l,m),l},Xd=(n,s)=>{const l=Mi(n,s);Ku(n,l);const m=il(n);return Ta(l,m),Ks(n),l},M1=(n,s,l=ne)=>{const m=new fa(n,s),x=P=>{let Z;do Z=m[P]();while(Z&&!lr(Z)&&!l(Z));return Y.from(Z).filter(lr)};return{current:()=>Y.from(m.current()).filter(lr),next:()=>x("next"),prev:()=>x("prev"),prev2:()=>x("prev2")}},zg=(n,s)=>{const l=s||(Z=>n.isBlock(Z)||ia(Z)||ws(Z)),m=(Z,J,ge,Re)=>{if(lr(Z)){const Ge=Re(Z,J,Z.data);if(Ge!==-1)return Y.some({container:Z,offset:Ge})}return ge().bind(Ge=>m(Ge.container,Ge.offset,ge,Re))};return{backwards:(Z,J,ge,Re)=>{const Ge=M1(Z,Re??n.getRoot(),l);return m(Z,J,()=>Ge.prev().map(qe=>({container:qe,offset:qe.length})),ge).getOrNull()},forwards:(Z,J,ge,Re)=>{const Ge=M1(Z,Re??n.getRoot(),l);return m(Z,J,()=>Ge.next().map(qe=>({container:qe,offset:0})),ge).getOrNull()}}},uv=Math.round,fv=n=>n?{left:uv(n.left),top:uv(n.top),bottom:uv(n.bottom),right:uv(n.right),width:uv(n.width),height:uv(n.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Nm=(n,s)=>(n=fv(n),s||(n.left=n.left+n.width),n.right=n.left,n.width=0,n),w5=(n,s)=>n.left===s.left&&n.top===s.top&&n.bottom===s.bottom&&n.right===s.right,dv=(n,s,l)=>n>=0&&n<=Math.min(s.height,l.height)/2,Zg=(n,s)=>{const l=Math.min(s.height/2,n.height/2);return n.bottom-l<s.top?!0:n.top>s.bottom?!1:dv(s.top-n.bottom,n,s)},hv=(n,s)=>n.top>s.bottom?!0:n.bottom<s.top?!1:dv(s.bottom-n.top,n,s),C5=(n,s,l)=>s>=n.left&&s<=n.right&&l>=n.top&&l<=n.bottom,s7=n=>oe(n,(s,l)=>s.fold(()=>Y.some(l),m=>{const x=Math.min(l.left,m.left),P=Math.min(l.top,m.top),Z=Math.max(l.right,m.right),J=Math.max(l.bottom,m.bottom);return Y.some({top:P,right:Z,bottom:J,left:x,width:Z-x,height:J-P})}),Y.none()),pw=(n,s,l)=>{const m=Math.max(Math.min(s,n.left+n.width),n.left),x=Math.max(Math.min(l,n.top+n.height),n.top);return Math.sqrt((s-m)*(s-m)+(l-x)*(l-x))},a7=(n,s)=>Math.max(0,Math.min(n.bottom,s.bottom)-Math.max(n.top,s.top)),m2=(n,s,l)=>Math.min(Math.max(n,s),l),vw=n=>{const s=n.startContainer,l=n.startOffset;return s===n.endContainer&&s.hasChildNodes()&&n.endOffset===l+1?s.childNodes[l]:null},Du=(n,s)=>{if(Xr(n)&&n.hasChildNodes()){const l=n.childNodes,m=m2(s,0,l.length-1);return l[m]}else return n},T5=(n,s)=>{if(!(s<0&&Xr(n)&&n.hasChildNodes()))return Du(n,s)},E1=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),k5=n=>M(n)&&n.charCodeAt(0)>=768&&E1.test(n),i7=(...n)=>s=>{for(let l=0;l<n.length;l++)if(n[l](s))return!0;return!1},Uy=(...n)=>s=>{for(let l=0;l<n.length;l++)if(!n[l](s))return!1;return!0},Hg=Xr,g2=go,Ds=Vd("display","block table"),$u=Vd("float","left right"),Gd=Uy(Hg,g2,xe($u)),yw=xe(Vd("white-space","pre pre-line pre-wrap")),ga=lr,Wy=ia,bw=La.nodeIndex,dl=T5,Lh=n=>n?n.createRange():La.DOM.createRng(),Ug=n=>M(n)&&/[\r\n\t ]/.test(n),Ow=n=>!!n.setStart&&!!n.setEnd,p2=n=>{const s=n.startContainer,l=n.startOffset;if(Ug(n.toString())&&yw(s.parentNode)&&lr(s)){const m=s.data;if(Ug(m[l-1])||Ug(m[l+1]))return!0}return!1},Yy=n=>{const s=n.ownerDocument,l=Lh(s),m=s.createTextNode(zs),x=n.parentNode;x.insertBefore(m,n),l.setStart(m,0),l.setEnd(m,1);const P=fv(l.getBoundingClientRect());return x.removeChild(m),P},xw=n=>{const s=n.startContainer,l=n.endContainer,m=n.startOffset,x=n.endOffset;if(s===l&&lr(l)&&m===0&&x===1){const P=n.cloneRange();return P.setEndAfter(l),Ih(P)}else return null},v2=n=>n.left===0&&n.right===0&&n.top===0&&n.bottom===0,Ih=n=>{var s;let l;const m=n.getClientRects();return m.length>0?l=fv(m[0]):l=fv(n.getBoundingClientRect()),!Ow(n)&&Wy(n)&&v2(l)?Yy(n):v2(l)&&Ow(n)&&(s=xw(n))!==null&&s!==void 0?s:l},Bm=(n,s)=>{const l=Nm(n,s);return l.width=1,l.right=l.left+1,l},l7=n=>{const s=[],l=Z=>{Z.height!==0&&(s.length>0&&w5(Z,s[s.length-1])||s.push(Z))},m=(Z,J)=>{const ge=Lh(Z.ownerDocument);if(J<Z.data.length){if(k5(Z.data[J]))return;if(k5(Z.data[J-1])&&(ge.setStart(Z,J),ge.setEnd(Z,J+1),!p2(ge))){l(Bm(Ih(ge),!1));return}}J>0&&(ge.setStart(Z,J-1),ge.setEnd(Z,J),p2(ge)||l(Bm(Ih(ge),!1))),J<Z.data.length&&(ge.setStart(Z,J),ge.setEnd(Z,J+1),p2(ge)||l(Bm(Ih(ge),!0)))},x=n.container(),P=n.offset();if(ga(x))return m(x,P),s;if(Hg(x))if(n.isAtEnd()){const Z=dl(x,P);ga(Z)&&m(Z,Z.data.length),Gd(Z)&&!Wy(Z)&&l(Bm(Ih(Z),!1))}else{const Z=dl(x,P);if(ga(Z)&&m(Z,0),Gd(Z)&&n.isAtEnd())return l(Bm(Ih(Z),!1)),s;const J=dl(n.container(),n.offset()-1);Gd(J)&&!Wy(J)&&(Ds(J)||Ds(Z)||!Gd(Z))&&l(Bm(Ih(J),!1)),Gd(Z)&&l(Bm(Ih(Z),!0))}return s},Nn=(n,s,l)=>{const m=()=>(ga(n),s===0),x=()=>ga(n)?s>=n.data.length:s>=n.childNodes.length,P=()=>{const Ge=Lh(n.ownerDocument);return Ge.setStart(n,s),Ge.setEnd(n,s),Ge},Z=()=>(l||(l=l7(Nn(n,s))),l),J=()=>Z().length>0,ge=Ge=>Ge&&n===Ge.container()&&s===Ge.offset(),Re=Ge=>dl(n,Ge?s-1:s);return{container:ae(n),offset:ae(s),toRange:P,getClientRects:Z,isVisible:J,isAtStart:m,isAtEnd:x,isEqual:ge,getNode:Re}};Nn.fromRangeStart=n=>Nn(n.startContainer,n.startOffset),Nn.fromRangeEnd=n=>Nn(n.endContainer,n.endOffset),Nn.after=n=>Nn(n.parentNode,bw(n)+1),Nn.before=n=>Nn(n.parentNode,bw(n)),Nn.isAbove=(n,s)=>Va(yt(s.getClientRects()),ft(n.getClientRects()),Zg).getOr(!1),Nn.isBelow=(n,s)=>Va(ft(s.getClientRects()),yt(n.getClientRects()),hv).getOr(!1),Nn.isAtStart=n=>n?n.isAtStart():!1,Nn.isAtEnd=n=>n?n.isAtEnd():!1,Nn.isTextPosition=n=>n?lr(n.container()):!1,Nn.isElementPosition=n=>!Nn.isTextPosition(n);const Xy=(n,s)=>{lr(s)&&s.data.length===0&&n.remove(s)},_1=(n,s,l)=>{s.insertNode(l),Xy(n,l.previousSibling),Xy(n,l.nextSibling)},cf=(n,s,l)=>{const m=Y.from(l.firstChild),x=Y.from(l.lastChild);s.insertNode(l),m.each(P=>Xy(n,P.previousSibling)),x.each(P=>Xy(n,P.nextSibling))},Sw=(n,s,l)=>{ma(l)?cf(n,s,l):_1(n,s,l)},Ua=lr,y2=Lf,Qm=La.nodeIndex,ww=n=>{const s=n.parentNode;return y2(s)?ww(s):s},b2=n=>n?dn(n.childNodes,(s,l)=>(y2(l)&&l.nodeName!=="BR"?s=s.concat(b2(l)):s.push(l),s),[]):[],Cw=(n,s)=>{let l=n;for(;(l=l.previousSibling)&&Ua(l);)s+=l.data.length;return s},Gy=n=>s=>n===s,R1=n=>{let s,l;s=b2(ww(n)),l=rn(s,Gy(n),n),s=s.slice(0,l+1);const m=dn(s,(x,P,Z)=>(Ua(P)&&Ua(s[Z-1])&&x++,x),0);return s=Ct(s,bi([n.nodeName])),l=rn(s,Gy(n),n),l-m},Tw=n=>(Ua(n)?"text()":n.nodeName.toLowerCase())+"["+R1(n)+"]",c7=(n,s,l)=>{const m=[];for(let x=s.parentNode;x&&x!==n&&!(l&&l(x));x=x.parentNode)m.push(x);return m},Kc=(n,s)=>{let l=[],m=s.container(),x=s.offset(),P;if(Ua(m))P=Cw(m,x);else{const J=m.childNodes;x>=J.length?(P="after",x=J.length-1):P="before",m=J[x]}l.push(Tw(m));let Z=c7(n,m);return Z=Ct(Z,xe(Lf)),l=l.concat(mt(Z,J=>Tw(J))),l.reverse().join("/")+","+P},hl=(n,s,l)=>{let m=b2(n);return m=Ct(m,(x,P)=>!Ua(x)||!Ua(m[P-1])),m=Ct(m,bi([s])),m[l]},nc=(n,s)=>{let l=n,m=0;for(;Ua(l);){const x=l.data.length;if(s>=m&&s<=m+x){n=l,s=s-m;break}if(!Ua(l.nextSibling)){n=l,s=x;break}m+=x,l=l.nextSibling}return Ua(n)&&s>n.data.length&&(s=n.data.length),Nn(n,s)},Jc=(n,s)=>{if(!s)return null;const l=s.split(","),m=l[0].split("/"),x=l.length>1?l[1]:"before",P=dn(m,(Z,J)=>{const ge=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(J);return ge?(ge[1]==="text()"&&(ge[1]="#text"),hl(Z,ge[1],parseInt(ge[2],10))):null},n);if(!P)return null;if(!Ua(P)&&P.parentNode){let Z;return x==="after"?Z=Qm(P)+1:Z=Qm(P),Nn(P.parentNode,Z)}return nc(P,parseInt(x,10))},fc=ws,Ic=(n,s,l)=>{let m=n(s.data.slice(0,l)).length;for(let x=s.previousSibling;x&&lr(x);x=x.previousSibling)m+=n(x.data).length;return m},ml=(n,s,l,m,x)=>{const P=x?m.startContainer:m.endContainer;let Z=x?m.startOffset:m.endOffset;const J=[],ge=n.getRoot();if(lr(P))J.push(l?Ic(s,P,Z):Z);else{let Re=0;const Ge=P.childNodes;Z>=Ge.length&&Ge.length&&(Re=1,Z=Math.max(0,Ge.length-1)),J.push(n.nodeIndex(Ge[Z],l)+Re)}for(let Re=P;Re&&Re!==ge;Re=Re.parentNode)J.push(n.nodeIndex(Re,l));return J},kw=(n,s,l,m)=>{const x=s.dom,P=ml(x,n,l,m,!0),Z=s.isForward(),J=yn(m)?{isFakeCaret:!0}:{};if(s.isCollapsed())return{start:P,forward:Z,...J};{const ge=ml(x,n,l,m,!1);return{start:P,end:ge,forward:Z,...J}}},jy=(n,s,l)=>{let m=0;return fr.each(n.select(s),x=>{if(x.getAttribute("data-mce-bogus")!=="all"){if(x===l)return!1;m++;return}}),m},Aw=(n,s)=>{let l=s?n.startContainer:n.endContainer,m=s?n.startOffset:n.endOffset;if(Xr(l)&&l.nodeName==="TR"){const x=l.childNodes;l=x[Math.min(s?m:m-1,x.length-1)],l&&(m=s?0:l.childNodes.length,s?n.setStart(l,m):n.setEnd(l,m))}},qy=n=>(Aw(n,!0),Aw(n,!1),n),Pw=(n,s)=>{if(Xr(n)&&(n=Du(n,s),fc(n)))return n;if(bt(n)){lr(n)&&rt(n)&&(n=n.parentNode);let l=n.previousSibling;if(fc(l)||(l=n.nextSibling,fc(l)))return l}},A5=n=>Pw(n.startContainer,n.startOffset)||Pw(n.endContainer,n.endOffset),O2=(n,s,l)=>{const m=l.getNode(),x=l.getRng();if(m.nodeName==="IMG"||fc(m)){const Z=m.nodeName;return{name:Z,index:jy(l.dom,Z,m)}}const P=A5(x);if(P){const Z=P.tagName;return{name:Z,index:jy(l.dom,Z,P)}}return kw(n,l,s,x)},Mw=n=>{const s=n.getRng();return{start:Kc(n.dom.getRoot(),Nn.fromRangeStart(s)),end:Kc(n.dom.getRoot(),Nn.fromRangeEnd(s)),forward:n.isForward()}},u7=n=>({rng:n.getRng(),forward:n.isForward()}),f7=(n,s,l)=>{const m={"data-mce-type":"bookmark",id:s,style:"overflow:hidden;line-height:0px"};return l?n.create("span",m,"&#xFEFF;"):n.create("span",m)},P5=(n,s)=>{const l=n.dom;let m=n.getRng();const x=l.uniqueId(),P=n.isCollapsed(),Z=n.getNode(),J=Z.nodeName,ge=n.isForward();if(J==="IMG")return{name:J,index:jy(l,J,Z)};const Re=qy(m.cloneRange());if(!P){Re.collapse(!1);const qe=f7(l,x+"_end",s);Sw(l,Re,qe)}m=qy(m),m.collapse(!0);const Ge=f7(l,x+"_start",s);return Sw(l,m,Ge),n.moveToBookmark({id:x,keep:!0,forward:ge}),{id:x,forward:ge}},d7=(n,s,l=!1)=>s===2?O2(Pe,l,n):s===3?Mw(n):s?u7(n):P5(n,!1),D1=ee(O2,q,!0),x2=n=>{const s=P=>P(n),l=ae(n),m=()=>x,x={tag:!0,inner:n,fold:(P,Z)=>Z(n),isValue:le,isError:ne,map:P=>du.value(P(n)),mapError:m,bind:s,exists:s,forall:s,getOr:l,or:m,getOrThunk:l,orThunk:m,getOrDie:l,each:P=>{P(n)},toOptional:()=>Y.some(n)};return x},M5=n=>{const s=()=>l,l={tag:!1,inner:n,fold:(m,x)=>m(n),isValue:ne,isError:le,map:s,mapError:m=>du.error(m(n)),bind:s,exists:ne,forall:le,getOr:q,or:q,getOrThunk:Be,orThunk:Be,getOrDie:we(String(n)),each:ie,toOptional:Y.none};return l},du={value:x2,error:M5,fromOption:(n,s)=>n.fold(()=>M5(s),x2)},jd={generate:n=>{if(!N(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],l={};return re(n,(m,x)=>{const P=Gt(m);if(P.length!==1)throw new Error("one and only one name per case");const Z=P[0],J=m[Z];if(l[Z]!==void 0)throw new Error("duplicate key detected:"+Z);if(Z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!N(J))throw new Error("case arguments must be an array");s.push(Z),l[Z]=(...ge)=>{const Re=ge.length;if(Re!==J.length)throw new Error("Wrong number of arguments to case "+Z+". Expected "+J.length+" ("+J+"), got "+Re);return{fold:(...qe)=>{if(qe.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+qe.length);return qe[x].apply(null,ge)},match:qe=>{const ot=Gt(qe);if(s.length!==ot.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+ot.join(","));if(!Xe(s,Vt=>Ve(ot,Vt)))throw new Error("Not all branches were specified when using match. Specified: "+ot.join(", ")+`
Required: `+s.join(", "));return qe[Z].apply(null,ge)},log:qe=>{console.log(qe,{constructors:s,constructor:Z,params:ge})}}}}),l}};jd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const pr=n=>{const s=[],l=[];return re(n,m=>{m.fold(x=>{s.push(x)},x=>{l.push(x)})}),{errors:s,values:l}},Ew=n=>n.type==="inline-command"||n.type==="inline-format",gl=n=>n.type==="block-command"||n.type==="block-format",E5=n=>{const s=m=>du.error({message:m,pattern:n}),l=(m,x,P)=>{if(n.format!==void 0){let Z;if(N(n.format)){if(!Xe(n.format,M))return s(m+" pattern has non-string items in the `format` array");Z=n.format}else if(M(n.format))Z=[n.format];else return s(m+" pattern has non-string `format` parameter");return du.value(x(Z))}else return n.cmd!==void 0?M(n.cmd)?du.value(P(n.cmd,n.value)):s(m+" pattern has non-string `cmd` parameter"):s(m+" pattern is missing both `format` and `cmd` parameters")};if(!I(n))return s("Raw pattern is not an object");if(!M(n.start))return s("Raw pattern is missing `start` parameter");if(n.end!==void 0){if(!M(n.end))return s("Inline pattern has non-string `end` parameter");if(n.start.length===0&&n.end.length===0)return s("Inline pattern has empty `start` and `end` parameters");let m=n.start,x=n.end;return x.length===0&&(x=m,m=""),l("Inline",P=>({type:"inline-format",start:m,end:x,format:P}),(P,Z)=>({type:"inline-command",start:m,end:x,cmd:P,value:Z}))}else return n.replacement!==void 0?M(n.replacement)?n.start.length===0?s("Replacement pattern has empty `start` parameter"):du.value({type:"inline-command",start:"",end:n.start,cmd:"mceInsertContent",value:n.replacement}):s("Replacement pattern has non-string `replacement` parameter"):n.start.length===0?s("Block pattern has empty `start` parameter"):l("Block",m=>({type:"block-format",start:n.start,format:m[0]}),(m,x)=>({type:"block-command",start:n.start,cmd:m,value:x}))},S2=n=>se(n,gl),_w=n=>se(n,Ew),hu=(n,s)=>({inlinePatterns:_w(n),blockPatterns:S2(n),dynamicPatternsLookup:s}),h7=n=>{const s=pr(Ie(n,E5));return re(s.errors,l=>console.error(l.message,l.pattern)),s.values},_5=n=>s=>{const l=n(s);return h7(l)},mu=ui().deviceType,$1=mu.isTouch(),Ky=La.DOM,Nh=n=>{const s=n.indexOf("=")>0?n.split(/[;,](?![^=;,]*(?:[;,]|$))/):n.split(",");return oe(s,(l,m)=>{const x=m.split("="),P=x[0],Z=x.length>1?x[1]:P;return l[Cr(P)]=Cr(Z),l},{})},fd=n=>_(n,RegExp),Wr=n=>s=>s.options.get(n),uf=n=>M(n)||I(n),R5=(n,s="")=>l=>{const m=M(l);if(m)if(l.indexOf("=")!==-1){const x=Nh(l);return{value:Sn(x,n.id).getOr(s),valid:m}}else return{value:l,valid:m};else return{valid:!1,message:"Must be a string."}},D5=n=>{const s=n.options.register;s("id",{processor:"string",default:n.id}),s("selector",{processor:"string"}),s("target",{processor:"object"}),s("suffix",{processor:"string"}),s("cache_suffix",{processor:"string"}),s("base_url",{processor:"string"}),s("referrer_policy",{processor:"string",default:""}),s("language_load",{processor:"boolean",default:!0}),s("inline",{processor:"boolean",default:!1}),s("iframe_attrs",{processor:"object",default:{}}),s("doctype",{processor:"string",default:"<!DOCTYPE html>"}),s("document_base_url",{processor:"string",default:n.documentBaseUrl}),s("body_id",{processor:R5(n,"tinymce"),default:"tinymce"}),s("body_class",{processor:R5(n),default:""}),s("content_security_policy",{processor:"string",default:""}),s("br_in_pre",{processor:"boolean",default:!0}),s("forced_root_block",{processor:l=>{const m=M(l)&&St(l);return m?{value:l,valid:m}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),s("forced_root_block_attrs",{processor:"object",default:{}}),s("newline_behavior",{processor:l=>{const m=Ve(["block","linebreak","invert","default"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),s("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),s("no_newline_selector",{processor:"string",default:""}),s("keep_styles",{processor:"boolean",default:!0}),s("end_container_on_empty_block",{processor:l=>z(l)?{valid:!0,value:l}:M(l)?{valid:!0,value:l}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),s("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),s("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),s("font_size_classes",{processor:"string",default:""}),s("automatic_uploads",{processor:"boolean",default:!0}),s("images_reuse_filename",{processor:"boolean",default:!1}),s("images_replace_blob_uris",{processor:"boolean",default:!0}),s("icons",{processor:"string",default:""}),s("icons_url",{processor:"string",default:""}),s("images_upload_url",{processor:"string",default:""}),s("images_upload_base_path",{processor:"string",default:""}),s("images_upload_credentials",{processor:"boolean",default:!1}),s("images_upload_handler",{processor:"function"}),s("language",{processor:"string",default:"en"}),s("language_url",{processor:"string",default:""}),s("entity_encoding",{processor:"string",default:"named"}),s("indent",{processor:"boolean",default:!0}),s("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),s("indent_use_margin",{processor:"boolean",default:!1}),s("indentation",{processor:"string",default:"40px"}),s("content_css",{processor:l=>{const m=l===!1||M(l)||X(l,M);return m?M(l)?{value:Ie(l.split(","),Cr),valid:m}:N(l)?{value:l,valid:m}:l===!1?{value:[],valid:m}:{value:l,valid:m}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Zw(n)?[]:["default"]}),s("content_style",{processor:"string"}),s("content_css_cors",{processor:"boolean",default:!1}),s("font_css",{processor:l=>{const m=M(l)||X(l,M);return m?{value:N(l)?l:Ie(l.split(","),Cr),valid:m}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),s("inline_boundaries",{processor:"boolean",default:!0}),s("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),s("object_resizing",{processor:l=>{const m=z(l)||M(l);return m?l===!1||mu.isiPhone()||mu.isiPad()?{value:"",valid:m}:{value:l===!0?"table,img,figure.image,div,video,iframe":l,valid:m}:{valid:!1,message:"Must be boolean or a string"}},default:!$1}),s("resize_img_proportional",{processor:"boolean",default:!0}),s("event_root",{processor:"object"}),s("service_message",{processor:"string"}),s("theme",{processor:l=>l===!1||M(l)||E(l),default:"silver"}),s("theme_url",{processor:"string"}),s("formats",{processor:"object"}),s("format_empty_lines",{processor:"boolean",default:!1}),s("format_noneditable_selector",{processor:"string",default:""}),s("preview_styles",{processor:l=>{const m=l===!1||M(l);return m?{value:l===!1?"":l,valid:m}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),s("custom_ui_selector",{processor:"string",default:""}),s("hidden_input",{processor:"boolean",default:!0}),s("submit_patch",{processor:"boolean",default:!0}),s("encoding",{processor:"string"}),s("add_form_submit_trigger",{processor:"boolean",default:!0}),s("add_unload_trigger",{processor:"boolean",default:!0}),s("custom_undo_redo_levels",{processor:"number",default:0}),s("disable_nodechange",{processor:"boolean",default:!1}),s("readonly",{processor:"boolean",default:!1}),s("editable_root",{processor:"boolean",default:!0}),s("plugins",{processor:"string[]",default:[]}),s("external_plugins",{processor:"object"}),s("forced_plugins",{processor:"string[]"}),s("model",{processor:"string",default:n.hasPlugin("rtc")?"plugin":"dom"}),s("model_url",{processor:"string"}),s("block_unsupported_drop",{processor:"boolean",default:!0}),s("visual",{processor:"boolean",default:!0}),s("visual_table_class",{processor:"string",default:"mce-item-table"}),s("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),s("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),s("setup",{processor:"function"}),s("init_instance_callback",{processor:"function"}),s("url_converter",{processor:"function",default:n.convertURL}),s("url_converter_scope",{processor:"object",default:n}),s("urlconverter_callback",{processor:"function"}),s("allow_conditional_comments",{processor:"boolean",default:!1}),s("allow_html_data_urls",{processor:"boolean",default:!1}),s("allow_svg_data_urls",{processor:"boolean"}),s("allow_html_in_named_anchor",{processor:"boolean",default:!1}),s("allow_script_urls",{processor:"boolean",default:!1}),s("allow_unsafe_link_target",{processor:"boolean",default:!1}),s("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),s("fix_list_elements",{processor:"boolean",default:!1}),s("preserve_cdata",{processor:"boolean",default:!1}),s("remove_trailing_brs",{processor:"boolean",default:!0}),s("pad_empty_with_br",{processor:"boolean",default:!1}),s("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),s("element_format",{processor:"string",default:"html"}),s("entities",{processor:"string"}),s("schema",{processor:"string",default:"html5"}),s("convert_urls",{processor:"boolean",default:!0}),s("relative_urls",{processor:"boolean",default:!0}),s("remove_script_host",{processor:"boolean",default:!0}),s("custom_elements",{processor:"string"}),s("extended_valid_elements",{processor:"string"}),s("invalid_elements",{processor:"string"}),s("invalid_styles",{processor:uf}),s("valid_children",{processor:"string"}),s("valid_classes",{processor:uf}),s("valid_elements",{processor:"string"}),s("valid_styles",{processor:uf}),s("verify_html",{processor:"boolean",default:!0}),s("auto_focus",{processor:l=>M(l)||l===!0}),s("browser_spellcheck",{processor:"boolean",default:!1}),s("protect",{processor:"array"}),s("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),s("deprecation_warnings",{processor:"boolean",default:!0}),s("a11y_advanced_options",{processor:"boolean",default:!1}),s("api_key",{processor:"string"}),s("paste_block_drop",{processor:"boolean",default:!1}),s("paste_data_images",{processor:"boolean",default:!0}),s("paste_preprocess",{processor:"function"}),s("paste_postprocess",{processor:"function"}),s("paste_webkit_styles",{processor:"string",default:"none"}),s("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),s("paste_merge_formats",{processor:"boolean",default:!0}),s("smart_paste",{processor:"boolean",default:!0}),s("paste_as_text",{processor:"boolean",default:!1}),s("paste_tab_spaces",{processor:"number",default:4}),s("text_patterns",{processor:l=>X(l,I)||l===!1?{value:h7(l===!1?[]:l),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),s("text_patterns_lookup",{processor:l=>E(l)?{value:_5(l),valid:!0}:{valid:!1,message:"Must be a single function"},default:l=>[]}),s("noneditable_class",{processor:"string",default:"mceNonEditable"}),s("editable_class",{processor:"string",default:"mceEditable"}),s("noneditable_regexp",{processor:l=>X(l,fd)?{value:l,valid:!0}:fd(l)?{value:[l],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),s("table_tab_navigation",{processor:"boolean",default:!0}),s("highlight_on_focus",{processor:"boolean",default:!1}),s("xss_sanitization",{processor:"boolean",default:!0}),s("details_initial_state",{processor:l=>{const m=Ve(["inherited","collapsed","expanded"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),s("details_serialized_state",{processor:l=>{const m=Ve(["inherited","collapsed","expanded"],l);return m?{value:l,valid:m}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),s("init_content_sync",{processor:"boolean",default:!1}),s("newdocument_content",{processor:"string",default:""}),s("force_hex_color",{processor:l=>{const m=["always","rgb_only","off"],x=Ve(m,l);return x?{value:l,valid:x}:{valid:!1,message:`Must be one of: ${m.join(", ")}.`}},default:"off"}),s("sandbox_iframes",{processor:"boolean",default:!1}),s("convert_unsafe_embeds",{processor:"boolean",default:!1}),n.on("ScriptsLoaded",()=>{s("directionality",{processor:"string",default:ud.isRtl()?"rtl":void 0}),s("placeholder",{processor:"string",default:Ky.getAttrib(n.getElement(),"placeholder")})})},Rw=Wr("iframe_attrs"),$5=Wr("doctype"),Dw=Wr("document_base_url"),$w=Wr("body_id"),m7=Wr("body_class"),Lw=Wr("content_security_policy"),g7=Wr("br_in_pre"),Nc=Wr("forced_root_block"),Jy=Wr("forced_root_block_attrs"),p7=Wr("newline_behavior"),v7=Wr("br_newline_selector"),Iw=Wr("no_newline_selector"),y7=Wr("keep_styles"),L5=Wr("end_container_on_empty_block"),I5=Wr("automatic_uploads"),eb=Wr("images_reuse_filename"),N5=Wr("images_replace_blob_uris"),Nw=Wr("icons"),mv=Wr("icons_url"),b7=Wr("images_upload_url"),O7=Wr("images_upload_base_path"),Bw=Wr("images_upload_credentials"),x7=Wr("images_upload_handler"),Fm=Wr("content_css_cors"),ps=Wr("referrer_policy"),Qw=Wr("language"),Bc=Wr("language_url"),w2=Wr("indent_use_margin"),Fw=Wr("indentation"),Vw=Wr("content_css"),C2=Wr("content_style"),B5=Wr("font_css"),S7=Wr("directionality"),w7=Wr("inline_boundaries_selector"),L1=Wr("object_resizing"),Q5=Wr("resize_img_proportional"),y$=Wr("placeholder"),Wg=Wr("event_root"),C7=Wr("service_message"),I1=Wr("theme"),T7=Wr("theme_url"),zw=Wr("model"),F5=Wr("model_url"),gv=Wr("inline_boundaries"),k7=Wr("formats"),V5=Wr("preview_styles"),z5=Wr("format_empty_lines"),N1=Wr("format_noneditable_selector"),Z5=Wr("custom_ui_selector"),Zw=Wr("inline"),A7=Wr("hidden_input"),H5=Wr("submit_patch"),Bh=Wr("add_form_submit_trigger"),tb=Wr("add_unload_trigger"),nb=Wr("custom_undo_redo_levels"),T2=Wr("disable_nodechange"),rb=Wr("readonly"),Qf=Wr("editable_root"),B1=Wr("content_css_cors"),ob=Wr("plugins"),Yg=Wr("external_plugins"),k2=Wr("block_unsupported_drop"),P7=Wr("visual"),M7=Wr("visual_table_class"),U5=Wr("visual_anchor_class"),E7=Wr("iframe_aria_text"),Hw=Wr("setup"),_7=Wr("init_instance_callback"),R7=Wr("urlconverter_callback"),W5=Wr("auto_focus"),D7=Wr("browser_spellcheck"),Y5=Wr("protect"),$7=Wr("paste_block_drop"),A2=Wr("paste_data_images"),L7=Wr("paste_preprocess"),X5=Wr("paste_postprocess"),Q1=Wr("newdocument_content"),Uw=Wr("paste_webkit_styles"),Ww=Wr("paste_remove_styles_if_webkit"),Yw=Wr("paste_merge_formats"),G5=Wr("smart_paste"),Xw=Wr("paste_as_text"),I7=Wr("paste_tab_spaces"),P2=Wr("allow_html_data_urls"),M2=Wr("text_patterns"),N7=Wr("text_patterns_lookup"),Gw=Wr("noneditable_class"),j5=Wr("editable_class"),B7=Wr("noneditable_regexp"),jw=Wr("preserve_cdata"),Q7=Wr("highlight_on_focus"),F1=Wr("xss_sanitization"),F7=Wr("init_content_sync"),qw=n=>n.options.isSet("text_patterns_lookup"),V7=n=>fr.explode(n.options.get("font_size_style_values")),z7=n=>fr.explode(n.options.get("font_size_classes")),Z7=n=>n.options.get("encoding")==="xml",q5=n=>fr.explode(n.options.get("images_file_types")),H7=Wr("table_tab_navigation"),Bl=Wr("details_initial_state"),b$=Wr("details_serialized_state"),V1=Wr("force_hex_color"),E2=Wr("sandbox_iframes"),K5=Xr,Kw=lr,J5=n=>{const s=n.parentNode;s&&s.removeChild(n)},ek=n=>{const s=Pe(n);return{count:n.length-s.length,text:s}},pv=n=>{let s;for(;(s=n.data.lastIndexOf(he))!==-1;)n.deleteData(s,1)},sb=(n,s)=>(pl(n),s),U7=(n,s)=>{const l=ek(n.data.substr(0,s.offset())),m=ek(n.data.substr(s.offset()));return(l.text+m.text).length>0?(pv(n),Nn(n,s.offset()-l.count)):s},W7=(n,s)=>{const l=s.container(),m=De(tt(l.childNodes),n).map(x=>x<s.offset()?Nn(l,s.offset()-1):s).getOr(s);return pl(n),m},ab=(n,s)=>Kw(n)&&s.container()===n?U7(n,s):sb(n,s),Jw=(n,s)=>s.container()===n.parentNode?W7(n,s):sb(n,s),tk=(n,s)=>Nn.isTextPosition(s)?ab(n,s):Jw(n,s),pl=n=>{K5(n)&&bt(n)&&(Zt(n)?n.removeAttribute("data-mce-caret"):J5(n)),Kw(n)&&(pv(n),n.data.length===0&&J5(n))},nk=ws,e3=ri,O$=rv,z1="*[contentEditable=false],video,audio,embed,object",Y7=(n,s,l)=>{const m=Nm(s.getBoundingClientRect(),l);let x,P;if(n.tagName==="BODY"){const J=n.ownerDocument.documentElement;x=n.scrollLeft||J.scrollLeft,P=n.scrollTop||J.scrollTop}else{const J=n.getBoundingClientRect();x=n.scrollLeft-J.left,P=n.scrollTop-J.top}m.left+=x,m.right+=x,m.top+=P,m.bottom+=P,m.width=1;let Z=s.offsetWidth-s.clientWidth;return Z>0&&(l&&(Z*=-1),m.left+=Z,m.right+=Z),m},rk=n=>{var s,l;const m=ll(Yt.fromDom(n),z1);for(let x=0;x<m.length;x++){const P=m[x].dom;let Z=P.previousSibling;if(hn(Z)){const J=Z.data;J.length===1?(s=Z.parentNode)===null||s===void 0||s.removeChild(Z):Z.deleteData(J.length-1,1)}Z=P.nextSibling,nn(Z)&&(Z.data.length===1?(l=Z.parentNode)===null||l===void 0||l.removeChild(Z):Z.deleteData(0,1))}},t3=(n,s,l,m)=>{const x=Vg();let P,Z;const J=Nc(n),ge=n.dom,Re=(kt,It)=>{let cn;if(Ge(),O$(It))return null;if(l(It)){const xn=jt(J,It,kt),bn=Y7(s,It,kt);ge.setStyle(xn,"top",bn.top),Z=xn;const $n=ge.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});ge.setStyles($n,{...bn}),ge.add(s,$n),x.set({caret:$n,element:It,before:kt}),kt&&ge.addClass($n,"mce-visual-caret-before"),qe(),cn=It.ownerDocument.createRange(),cn.setStart(xn,0),cn.setEnd(xn,0)}else return Z=Ut(It,kt),cn=It.ownerDocument.createRange(),_2(Z.nextSibling)?(cn.setStart(Z,0),cn.setEnd(Z,0)):(cn.setStart(Z,1),cn.setEnd(Z,1)),cn;return cn},Ge=()=>{rk(s),Z&&(pl(Z),Z=null),x.on(kt=>{ge.remove(kt.caret),x.clear()}),P&&(clearInterval(P),P=void 0)},qe=()=>{P=setInterval(()=>{x.on(kt=>{m()?ge.toggleClass(kt.caret,"mce-visual-caret-hidden"):ge.addClass(kt.caret,"mce-visual-caret-hidden")})},500)};return{show:Re,hide:Ge,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{x.on(kt=>{const It=Y7(s,kt.element,kt.before);ge.setStyles(kt.caret,{...It})})},destroy:()=>clearInterval(P)}},ib=()=>Dr.browser.isFirefox(),_2=n=>nk(n)||e3(n),Z1=n=>(_2(n)||tf(n)&&ib())&&Pg(Yt.fromDom(n)).exists(jo),X7=jl,Xg=ws,ok=ri,Gg=Vd("display","block table table-cell table-caption list-item"),jg=bt,n3=rt,sk=Xr,x$=lr,r3=go,qg=n=>n>0,Qh=n=>n<0,lb=(n,s)=>{let l;for(;l=n(s);)if(!n3(l))return l;return null},H1=(n,s,l,m,x)=>{const P=new fa(n,m),Z=Xg(n)||n3(n);let J;if(Qh(s)){if(Z&&(J=lb(P.prev.bind(P),!0),l(J)))return J;for(;J=lb(P.prev.bind(P),x);)if(l(J))return J}if(qg(s)){if(Z&&(J=lb(P.next.bind(P),!0),l(J)))return J;for(;J=lb(P.next.bind(P),x);)if(l(J))return J}return null},o3=(n,s)=>{const l=x=>X7(x.dom),m=x=>x.dom===s;return hi(Yt.fromDom(n),l,m).map(x=>x.dom).getOr(s)},Vm=(n,s)=>{for(;n&&n!==s;){if(Gg(n))return n;n=n.parentNode}return null},qd=(n,s,l)=>Vm(n.container(),l)===Vm(s.container(),l),cb=(n,s)=>{if(!s)return Y.none();const l=s.container(),m=s.offset();return sk(l)?Y.from(l.childNodes[m+n]):Y.none()},R2=(n,s)=>{var l;const x=((l=s.ownerDocument)!==null&&l!==void 0?l:document).createRange();return n?(x.setStartBefore(s),x.setEndBefore(s)):(x.setStartAfter(s),x.setEndAfter(s)),x},ub=(n,s,l)=>Vm(s,n)===Vm(l,n),s3=(n,s,l)=>{const m=n?"previousSibling":"nextSibling";let x=l;for(;x&&x!==s;){let P=x[m];if(P&&jg(P)&&(P=P[m]),Xg(P)||ok(P)){if(ub(s,P,x))return P;break}if(r3(P))break;x=x.parentNode}return null},U1=ee(R2,!0),fb=ee(R2,!1),a3=(n,s,l)=>{let m;const x=ee(s3,!0,s),P=ee(s3,!1,s),Z=l.startContainer,J=l.startOffset;if(rt(Z)){const ge=x$(Z)?Z.parentNode:Z,Re=ge.getAttribute("data-mce-caret");if(Re==="before"&&(m=ge.nextSibling,Z1(m)))return U1(m);if(Re==="after"&&(m=ge.previousSibling,Z1(m)))return fb(m)}if(!l.collapsed)return l;if(lr(Z)){if(jg(Z)){if(n===1){if(m=P(Z),m)return U1(m);if(m=x(Z),m)return fb(m)}if(n===-1){if(m=x(Z),m)return fb(m);if(m=P(Z),m)return U1(m)}return l}if(hn(Z)&&J>=Z.data.length-1)return n===1&&(m=P(Z),m)?U1(m):l;if(nn(Z)&&J<=1)return n===-1&&(m=x(Z),m)?fb(m):l;if(J===Z.data.length)return m=P(Z),m?U1(m):l;if(J===0)return m=x(Z),m?fb(m):l}return l},ak=(n,s)=>cb(n?0:-1,s).filter(Xg),Kg=(n,s,l)=>{const m=a3(n,s,l);return n===-1?Nn.fromRangeStart(m):Nn.fromRangeEnd(m)},D2=n=>Y.from(n.getNode()).map(Yt.fromDom),G7=n=>Y.from(n.getNode(!0)).map(Yt.fromDom),ik=(n,s)=>{let l=s;for(;l=n(l);)if(l.isVisible())return l;return l},i3=(n,s)=>{const l=qd(n,s);return!l&&ia(n.getNode())?!0:l};var Ei;(function(n){n[n.Backwards=-1]="Backwards",n[n.Forwards=1]="Forwards"})(Ei||(Ei={}));const S$=ws,zm=lr,lk=Xr,$2=ia,Jg=go,dc=$o,W1=gs,db=(n,s)=>{const l=[];let m=n;for(;m&&m!==s;)l.push(m),m=m.parentNode;return l},Y1=(n,s)=>n.hasChildNodes()&&s<n.childNodes.length?n.childNodes[s]:null,l3=(n,s)=>{if(qg(n)){if(Jg(s.previousSibling)&&!zm(s.previousSibling))return Nn.before(s);if(zm(s))return Nn(s,0)}if(Qh(n)){if(Jg(s.nextSibling)&&!zm(s.nextSibling))return Nn.after(s);if(zm(s))return Nn(s,s.data.length)}return Qh(n)?$2(s)?Nn.before(s):Nn.after(s):Nn.before(s)},X1=(n,s)=>{const l=s.nextSibling;return l&&Jg(l)?zm(l)?Nn(l,0):Nn.before(l):vv(Ei.Forwards,Nn.after(s),n)},vv=(n,s,l)=>{let m,x,P,Z;if(!lk(l)||!s)return null;if(s.isEqual(Nn.after(l))&&l.lastChild){if(Z=Nn.after(l.lastChild),Qh(n)&&Jg(l.lastChild)&&lk(l.lastChild))return $2(l.lastChild)?Nn.before(l.lastChild):Z}else Z=s;const J=Z.container();let ge=Z.offset();if(zm(J)){if(Qh(n)&&ge>0)return Nn(J,--ge);if(qg(n)&&ge<J.length)return Nn(J,++ge);m=J}else{if(Qh(n)&&ge>0&&(x=Y1(J,ge-1),Jg(x)))return!dc(x)&&(P=H1(x,n,W1,x),P)?zm(P)?Nn(P,P.data.length):Nn.after(P):zm(x)?Nn(x,x.data.length):Nn.before(x);if(qg(n)&&ge<J.childNodes.length&&(x=Y1(J,ge),Jg(x)))return $2(x)?X1(l,x):!dc(x)&&(P=H1(x,n,W1,x),P)?zm(P)?Nn(P,0):Nn.before(P):zm(x)?Nn(x,0):Nn.after(x);m=x||Z.getNode()}if(m&&(qg(n)&&Z.isAtEnd()||Qh(n)&&Z.isAtStart())&&(m=H1(m,n,le,l,!0),W1(m,l)))return l3(n,m);x=m&&H1(m,n,W1,l);const Re=Wt(se(db(J,l),S$));return Re&&(!x||!Re.contains(x))?(qg(n)?Z=Nn.after(Re):Z=Nn.before(Re),Z):x?l3(n,x):null},Kd=n=>({next:s=>vv(Ei.Forwards,s,n),prev:s=>vv(Ei.Backwards,s,n)}),j7=(n,s,l)=>{const m=n?Nn.before(l):Nn.after(l);return Ql(n,s,m)},q7=n=>ia(n)?Nn.before(n):Nn.after(n),ep=n=>Nn.isTextPosition(n)?n.offset()===0:go(n.getNode()),G1=n=>{if(Nn.isTextPosition(n)){const s=n.container();return n.offset()===s.data.length}else return go(n.getNode(!0))},L2=(n,s)=>!Nn.isTextPosition(n)&&!Nn.isTextPosition(s)&&n.getNode()===s.getNode(!0),Fh=n=>!Nn.isTextPosition(n)&&ia(n.getNode()),c3=(n,s,l)=>n?!L2(s,l)&&!Fh(s)&&G1(s)&&ep(l):!L2(l,s)&&ep(s)&&G1(l),Ql=(n,s,l)=>{const m=Kd(s);return Y.from(n?m.next(l):m.prev(l))},Zm=(n,s,l)=>Ql(n,s,l).bind(m=>qd(l,m,s)&&c3(n,l,m)?Ql(n,s,m):Y.some(m)),dd=(n,s,l,m)=>Zm(n,s,l).bind(x=>m(x)?dd(n,s,x,m):Y.some(x)),j1=(n,s)=>{const l=n?s.firstChild:s.lastChild;return lr(l)?Y.some(Nn(l,n?0:l.data.length)):l?go(l)?Y.some(n?Nn.before(l):q7(l)):j7(n,s,l):Y.none()},Qc=ee(Ql,!0),gu=ee(Ql,!1),eu=ee(j1,!0),hd=ee(j1,!1),I2="_mce_caret",ff=n=>Xr(n)&&n.id===I2,yv=(n,s)=>{let l=s;for(;l&&l!==n;){if(ff(l))return l;l=l.parentNode}return null},u3=n=>M(n.start),K7=n=>lt(n,"rng"),ck=n=>lt(n,"id"),hb=n=>lt(n,"name"),uk=n=>fr.isArray(n.start),mb=n=>!hb(n)&&z(n.forward)?n.forward:!0,N2=(n,s)=>(Xr(s)&&n.isBlock(s)&&!s.innerHTML&&(s.innerHTML='<br data-mce-bogus="1" />'),s),J7=(n,s)=>{const l=Y.from(Jc(n.getRoot(),s.start)),m=Y.from(Jc(n.getRoot(),s.end));return Va(l,m,(x,P)=>{const Z=n.createRng();return Z.setStart(x.container(),x.offset()),Z.setEnd(P.container(),P.offset()),{range:Z,forward:mb(s)}})},fk=(n,s)=>{var l;const x=((l=n.ownerDocument)!==null&&l!==void 0?l:document).createTextNode(he);n.appendChild(x),s.setStart(x,0),s.setEnd(x,0)},e6=n=>!n.hasChildNodes(),w$=(n,s)=>hd(n).fold(ne,l=>(s.setStart(l.container(),l.offset()),s.setEnd(l.container(),l.offset()),!0)),dk=(n,s,l)=>e6(s)&&yv(n,s)?(fk(s,l),!0):!1,Ps=(n,s,l,m)=>{const x=l[s?"start":"end"],P=n.getRoot();if(x){let Z=P,J=x[0];for(let ge=x.length-1;Z&&ge>=1;ge--){const Re=Z.childNodes;if(dk(P,Z,m))return!0;if(x[ge]>Re.length-1)return dk(P,Z,m)?!0:w$(Z,m);Z=Re[x[ge]]}lr(Z)&&(J=Math.min(x[0],Z.data.length)),Xr(Z)&&(J=Math.min(x[0],Z.childNodes.length)),s?m.setStart(Z,J):m.setEnd(Z,J)}return!0},Jd=n=>lr(n)&&n.data.length>0,bv=(n,s,l)=>{const m=n.get(l.id+"_"+s),x=m==null?void 0:m.parentNode,P=l.keep;if(m&&x){let Z,J;if(s==="start"?P?m.hasChildNodes()?(Z=m.firstChild,J=1):Jd(m.nextSibling)?(Z=m.nextSibling,J=0):Jd(m.previousSibling)?(Z=m.previousSibling,J=m.previousSibling.data.length):(Z=x,J=n.nodeIndex(m)+1):(Z=x,J=n.nodeIndex(m)):P?m.hasChildNodes()?(Z=m.firstChild,J=1):Jd(m.previousSibling)?(Z=m.previousSibling,J=m.previousSibling.data.length):(Z=x,J=n.nodeIndex(m)):(Z=x,J=n.nodeIndex(m)),!P){const ge=m.previousSibling,Re=m.nextSibling;fr.each(fr.grep(m.childNodes),qe=>{lr(qe)&&(qe.data=qe.data.replace(/\uFEFF/g,""))});let Ge;for(;Ge=n.get(l.id+"_"+s);)n.remove(Ge,!0);if(lr(Re)&&lr(ge)&&!Dr.browser.isOpera()){const qe=ge.data.length;ge.appendData(Re.data),n.remove(Re),Z=ge,J=qe}}return Y.some(Nn(Z,J))}else return Y.none()},f3=(n,s)=>{const l=n.createRng();return Ps(n,!0,s,l)&&Ps(n,!1,s,l)?Y.some({range:l,forward:mb(s)}):Y.none()},hk=(n,s)=>{const l=bv(n,"start",s),m=bv(n,"end",s);return Va(l,m.or(l),(x,P)=>{const Z=n.createRng();return Z.setStart(N2(n,x.container()),x.offset()),Z.setEnd(N2(n,P.container()),P.offset()),{range:Z,forward:mb(s)}})},gb=(n,s)=>Y.from(n.select(s.name)[s.index]).map(l=>{const m=n.createRng();return m.selectNode(l),{range:m,forward:!0}}),t6=(n,s)=>{const l=n.dom;if(s){if(uk(s))return f3(l,s);if(u3(s))return J7(l,s);if(ck(s))return hk(l,s);if(hb(s))return gb(l,s);if(K7(s))return Y.some({range:s.rng,forward:mb(s)})}return Y.none()},q1=(n,s,l)=>d7(n,s,l),B2=(n,s)=>{t6(n,s).each(({range:l,forward:m})=>{n.setRng(l,m)})},df=n=>Xr(n)&&n.tagName==="SPAN"&&n.getAttribute("data-mce-type")==="bookmark",Q2=(n=>s=>n===s)(zs),K1=n=>n!==""&&` \f
\r	\v`.indexOf(n)!==-1,tp=n=>!K1(n)&&!Q2(n)&&!If(n),F2=n=>{const s=[];if(n)for(let l=0;l<n.rangeCount;l++)s.push(n.getRangeAt(l));return s},V2=n=>Ze(n,s=>{const l=vw(s);return l?[Yt.fromDom(l)]:[]}),Ov=n=>F2(n).length>1,n6=n=>se(V2(n),jc),mk=n=>ll(n,"td[data-mce-selected],th[data-mce-selected]"),r6=(n,s)=>{const l=mk(s);return l.length>0?l:n6(n)},J1=n=>r6(F2(n.selection.getSel()),Yt.fromDom(n.getBody())),Hm=(n,s)=>Eg(n,"table",s),o6=n=>{const s=n.startContainer,l=n.startOffset;return lr(s)?l===0?Y.some(Yt.fromDom(s)):Y.none():Y.from(s.childNodes[l]).map(Yt.fromDom)},s6=n=>{const s=n.endContainer,l=n.endOffset;return lr(s)?l===s.data.length?Y.some(Yt.fromDom(s)):Y.none():Y.from(s.childNodes[l-1]).map(Yt.fromDom)},gk=n=>Mg(n).fold(ae([n]),s=>[n].concat(gk(s))),d3=n=>Pc(n).fold(ae([n]),s=>Vs(s)==="br"?ju(s).map(l=>[n].concat(d3(l))).getOr([]):[n].concat(d3(s))),h3=(n,s)=>Va(o6(s),s6(s),(l,m)=>{const x=ce(gk(n),ee(Gs,l)),P=ce(d3(n),ee(Gs,m));return x.isSome()&&P.isSome()}).getOr(!1),m3=(n,s,l,m)=>{const x=l,P=new fa(l,x),Z=wn(n.schema.getMoveCaretBeforeOnEnterElements(),(ge,Re)=>!Ve(["td","th","table"],Re.toLowerCase()));let J=l;do{if(lr(J)&&fr.trim(J.data).length!==0){m?s.setStart(J,0):s.setEnd(J,J.data.length);return}if(Z[J.nodeName]){m?s.setStartBefore(J):J.nodeName==="BR"?s.setEndBefore(J):s.setEndAfter(J);return}}while(J=m?P.next():P.prev());x.nodeName==="BODY"&&(m?s.setStart(x,0):s.setEnd(x,x.childNodes.length))},z2=n=>{const s=n.selection.getSel();return B(s)&&s.rangeCount>0},np=(n,s)=>{const l=J1(n);l.length>0?re(l,m=>{const x=m.dom,P=n.dom.createRng();P.setStartBefore(x),P.setEndAfter(x),s(P,!0)}):s(n.selection.getRng(),!1)},pk=(n,s,l)=>{const m=P5(n,s);l(m),n.moveToBookmark(m)},pb=n=>W(n==null?void 0:n.nodeType),g3=n=>Xr(n)&&!df(n)&&!ff(n)&&!Lf(n),a6=(n,s)=>{if(g3(s)&&!/^(TD|TH)$/.test(s.nodeName)){const l=n.getAttrib(s,"data-mce-selected"),m=parseInt(l,10);return!isNaN(m)&&m>0}else return!1},vb=(n,s,l)=>{const{selection:m,dom:x}=n,P=m.getNode(),Z=ws(P);pk(m,!0,()=>{s()}),Z&&ws(P)&&x.isChildOf(P,n.getBody())?n.selection.select(P):l(m.getStart())&&i6(x,m)},i6=(n,s)=>{var l,m;const x=s.getRng(),{startContainer:P,startOffset:Z}=x,J=s.getNode();if(!a6(n,J)&&Xr(P)){const ge=P.childNodes,Re=n.getRoot();let Ge;if(Z<ge.length){const qe=ge[Z];Ge=new fa(qe,(l=n.getParent(qe,n.isBlock))!==null&&l!==void 0?l:Re)}else{const qe=ge[ge.length-1];Ge=new fa(qe,(m=n.getParent(qe,n.isBlock))!==null&&m!==void 0?m:Re),Ge.next(!0)}for(let qe=Ge.current();qe;qe=Ge.next()){if(n.getContentEditable(qe)==="false")return;if(lr(qe)&&!Qi(qe)){x.setStart(qe,0),s.setRng(x);return}}}},Fr=(n,s,l)=>{if(n){const m=s?"nextSibling":"previousSibling";for(n=l?n:n[m];n;n=n[m])if(Xr(n)||!Qi(n))return n}},rl=(n,s)=>!!n.getTextBlockElements()[s.nodeName.toLowerCase()]||As(n,s),Um=(n,s,l)=>n.schema.isValidChild(s,l),Qi=(n,s=!1)=>{if(B(n)&&lr(n)){const l=s?n.data.replace(/ /g," "):n.data;return Qa(l)}else return!1},Ff=n=>B(n)&&lr(n)&&n.length===0,Z2=(n,s)=>{const l="[data-mce-cef-wrappable]",m=N1(n),x=Tt(m)?l:`${l},${m}`;return Gu(Yt.fromDom(s),x)},yb=(n,s)=>{const l=n.dom;return g3(s)&&l.getContentEditable(s)==="false"&&Z2(n,s)&&l.select('[contenteditable="true"]',s).length===0},eh=(n,s)=>E(n)?n(s):(B(s)&&(n=n.replace(/%(\w+)/g,(l,m)=>s[m]||l)),n),H2=(n,s)=>(n=n||"",s=s||"",n=""+(n.nodeName||n),s=""+(s.nodeName||s),n.toLowerCase()===s.toLowerCase()),U2=(n,s)=>{if(F(n))return null;{let l=String(n);return(s==="color"||s==="backgroundColor")&&(l=v1(l)),s==="fontWeight"&&n===700&&(l="bold"),s==="fontFamily"&&(l=l.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),l}},e0=(n,s,l)=>{const m=n.getStyle(s,l);return U2(m,l)},vk=(n,s)=>{let l;return n.getParent(s,m=>Xr(m)?(l=n.getStyle(m,"text-decoration"),!!l&&l!=="none"):!1),l},bb=(n,s,l)=>n.getParents(s,l,n.getRoot()),p3=(n,s,l)=>{const m=n.formatter.get(s);return B(m)&&_e(m,l)},v3=(n,s)=>p3(n,s,m=>{const x=P=>E(P)||P.length>1&&P.charAt(0)==="%";return _e(["styles","attributes"],P=>Sn(m,P).exists(Z=>{const J=N(Z)?Z:Un(Z);return _e(J,x)}))}),l6=(n,s,l)=>{const m=["inline","block","selector","attributes","styles","classes"],x=P=>wn(P,(Z,J)=>_e(m,ge=>ge===J));return p3(n,s,P=>{const Z=x(P);return p3(n,l,J=>{const ge=x(J);return xt(Z,ge)})})},th=n=>ut(n,"block"),W2=n=>th(n)&&n.wrapper===!0,t0=n=>th(n)&&n.wrapper!==!0,rc=n=>ut(n,"selector"),ji=n=>ut(n,"inline"),Y2=n=>rc(n)&&ji(n)&&Fa(Sn(n,"mixed"),!0),Ob=n=>rc(n)&&n.expand!==!1&&!ji(n),X2=n=>{const s=[];let l=n;for(;l;){if(lr(l)&&l.data!==he||l.childNodes.length>1)return[];Xr(l)&&s.push(l),l=l.firstChild}return s},xb=n=>X2(n).length>0,Sb=n=>ff(n.dom)&&xb(n.dom),n0=df,yk=bb,wb=Qi,bk=rl,Ok=n=>ia(n)&&n.getAttribute("data-mce-bogus")&&!n.nextSibling,xk=(n,s)=>{let l=s;for(;l;){if(Xr(l)&&n.getContentEditable(l))return n.getContentEditable(l)==="false"?l:s;l=l.parentNode}return s},Vf=(n,s,l,m)=>{const x=s.data;if(n){for(let P=l;P>0;P--)if(m(x.charAt(P-1)))return P}else for(let P=l;P<x.length;P++)if(m(x.charAt(P)))return P;return-1},hc=(n,s,l)=>Vf(n,s,l,m=>Q2(m)||K1(m)),md=(n,s,l)=>Vf(n,s,l,tp),pu=(n,s,l,m,x,P)=>{let Z;const J=n.getParent(l,n.isBlock)||s,ge=(Ge,qe,ot)=>{const Et=zg(n),Vt=x?Et.backwards:Et.forwards;return Y.from(Vt(Ge,qe,(kt,It)=>n0(kt.parentNode)?-1:(Z=kt,ot(x,kt,It)),J))};return ge(l,m,hc).bind(Ge=>P?ge(Ge.container,Ge.offset+(x?-1:0),md):Y.some(Ge)).orThunk(()=>Z?Y.some({container:Z,offset:x?0:Z.length}):Y.none())},Cb=(n,s,l,m,x)=>{const P=m[x];lr(m)&&Tt(m.data)&&P&&(m=P);const Z=yk(n,m);for(let J=0;J<Z.length;J++)for(let ge=0;ge<s.length;ge++){const Re=s[ge];if(!(B(Re.collapsed)&&Re.collapsed!==l.collapsed)&&rc(Re)&&n.is(Z[J],Re.selector))return Z[J]}return m},G2=(n,s,l,m)=>{var x;let P=l;const Z=n.getRoot(),J=s[0];if(th(J)&&(P=J.wrapper?null:n.getParent(l,J.block,Z)),!P){const ge=(x=n.getParent(l,"LI,TD,TH,SUMMARY"))!==null&&x!==void 0?x:Z;P=n.getParent(lr(l)?l.parentNode:l,Re=>Re!==Z&&bk(n.schema,Re),ge)}if(P&&th(J)&&J.wrapper&&(P=yk(n,P,"ul,ol").reverse()[0]||P),!P)for(P=l;P&&P[m]&&!n.isBlock(P[m])&&(P=P[m],!H2(P,"br")););return P||l},Sk=(n,s,l,m)=>{const x=l.parentNode;return B(l[m])?!1:x===s||F(x)||n.isBlock(x)?!0:Sk(n,s,x,m)},Tb=(n,s,l,m,x)=>{let P=l;const Z=x?"previousSibling":"nextSibling",J=n.getRoot();if(lr(l)&&!wb(l)&&(x?m>0:m<l.data.length))return l;for(;P;){if(!s[0].block_expand&&n.isBlock(P))return P;for(let ge=P[Z];ge;ge=ge[Z]){const Re=lr(ge)&&!Sk(n,J,ge,Z);if(!n0(ge)&&!Ok(ge)&&!wb(ge,Re))return P}if(P===J||P.parentNode===J){l=P;break}P=P.parentNode}return l},c6=n=>n0(n.parentNode)||n0(n),Wm=(n,s,l,m=!1)=>{let{startContainer:x,startOffset:P,endContainer:Z,endOffset:J}=s;const ge=l[0];return Xr(x)&&x.hasChildNodes()&&(x=Du(x,P),lr(x)&&(P=0)),Xr(Z)&&Z.hasChildNodes()&&(Z=Du(Z,s.collapsed?J:J-1),lr(Z)&&(J=Z.data.length)),x=xk(n,x),Z=xk(n,Z),c6(x)&&(x=n0(x)?x:x.parentNode,s.collapsed?x=x.previousSibling||x:x=x.nextSibling||x,lr(x)&&(P=s.collapsed?x.length:0)),c6(Z)&&(Z=n0(Z)?Z:Z.parentNode,s.collapsed?Z=Z.nextSibling||Z:Z=Z.previousSibling||Z,lr(Z)&&(J=s.collapsed?0:Z.length)),s.collapsed&&(pu(n,n.getRoot(),x,P,!0,m).each(({container:qe,offset:ot})=>{x=qe,P=ot}),pu(n,n.getRoot(),Z,J,!1,m).each(({container:qe,offset:ot})=>{Z=qe,J=ot})),(ji(ge)||ge.block_expand)&&((!ji(ge)||!lr(x)||P===0)&&(x=Tb(n,l,x,P,!0)),(!ji(ge)||!lr(Z)||J===Z.data.length)&&(Z=Tb(n,l,Z,J,!1))),Ob(ge)&&(x=Cb(n,l,s,x,"previousSibling"),Z=Cb(n,l,s,Z,"nextSibling")),(th(ge)||rc(ge))&&(x=G2(n,l,x,"previousSibling"),Z=G2(n,l,Z,"nextSibling"),th(ge)&&(n.isBlock(x)||(x=Tb(n,l,x,P,!0)),n.isBlock(Z)||(Z=Tb(n,l,Z,J,!1)))),Xr(x)&&x.parentNode&&(P=n.nodeIndex(x),x=x.parentNode),Xr(Z)&&Z.parentNode&&(J=n.nodeIndex(Z)+1,Z=Z.parentNode),{startContainer:x,startOffset:P,endContainer:Z,endOffset:J}},kb=(n,s,l)=>{var m;const x=s.startOffset,P=Du(s.startContainer,x),Z=s.endOffset,J=Du(s.endContainer,Z-1),ge=It=>{const cn=It[0];lr(cn)&&cn===P&&x>=cn.data.length&&It.splice(0,1);const xn=It[It.length-1];return Z===0&&It.length>0&&xn===J&&lr(xn)&&It.splice(It.length-1,1),It},Re=(It,cn,xn)=>{const bn=[];for(;It&&It!==xn;It=It[cn])bn.push(It);return bn},Ge=(It,cn)=>n.getParent(It,xn=>xn.parentNode===cn,cn),qe=(It,cn,xn)=>{const bn=xn?"nextSibling":"previousSibling";for(let $n=It,rr=$n.parentNode;$n&&$n!==cn;$n=rr){rr=$n.parentNode;const gr=Re($n===It?$n:$n[bn],bn);gr.length&&(xn||gr.reverse(),l(ge(gr)))}};if(P===J)return l(ge([P]));const ot=(m=n.findCommonAncestor(P,J))!==null&&m!==void 0?m:n.getRoot();if(n.isChildOf(P,J))return qe(P,ot,!0);if(n.isChildOf(J,P))return qe(J,ot);const Et=Ge(P,ot)||P,Vt=Ge(J,ot)||J;qe(P,Et,!0);const kt=Re(Et===P?Et:Et.nextSibling,"nextSibling",Vt===J?Vt.nextSibling:Vt);kt.length&&l(ge(kt)),qe(J,Vt)},y3=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],wk=n=>Ui(n)&&uu(n)===he,Ck=(n,s,l,m)=>lu(s).fold(()=>"skipping",x=>m==="br"||wk(s)?"valid":b5(s)?"existing":ff(s.dom)?"caret":_e(y3,P=>Gu(s,P))?"valid-block":!Um(n,l,m)||!Um(n,Vs(x),l)?"invalid-child":"valid"),b3=(n,s)=>{const l=Wm(n.dom,s,[{inline:"span"}]);s.setStart(l.startContainer,l.startOffset),s.setEnd(l.endContainer,l.endOffset),n.selection.setRng(s)},j2=(n,s,l,m,x,P)=>{const{uid:Z=s,...J}=l;bm(n,u2()),$a(n,`${T1()}`,Z),$a(n,`${$h()}`,m);const{attributes:ge={},classes:Re=[]}=x(Z,J);if(ku(n,ge),o7(n,Re),P){Re.length>0&&$a(n,`${A1()}`,Re.join(","));const Ge=Gt(ge);Ge.length>0&&$a(n,`${lv()}`,Ge.join(","))}},Aa=n=>{Om(n,u2()),di(n,`${T1()}`),di(n,`${$h()}`),di(n,`${k1()}`);const s=kc(n,`${lv()}`).map(m=>m.split(",")).getOr([]),l=kc(n,`${A1()}`).map(m=>m.split(",")).getOr([]);re(s,m=>di(n,m)),S5(n,l),di(n,`${A1()}`),di(n,`${lv()}`)},Ym=(n,s,l,m,x)=>{const P=Yt.fromTag("span",n);return j2(P,s,l,m,x,!1),P},Tk=(n,s,l,m,x,P)=>{const Z=[],J=Ym(n.getDoc(),l,P,m,x),ge=Vg(),Re=()=>{ge.clear()},Ge=()=>ge.get().getOrThunk(()=>{const Vt=Ru(J);return Z.push(Vt),ge.set(Vt),Vt}),qe=Vt=>{re(Vt,ot)},ot=Vt=>{switch(Ck(n,Vt,"span",Vs(Vt))){case"invalid-child":{Re();const It=il(Vt);qe(It),Re();break}case"valid-block":{Re(),j2(Vt,l,P,m,x,!0);break}case"valid":{const It=Ge();_g(Vt,It);break}}},Et=Vt=>{const kt=Ie(Vt,Yt.fromDom);qe(kt)};return kb(n.dom,s,Vt=>{Re(),Et(Vt)}),Z},O3=(n,s,l,m)=>{n.undoManager.transact(()=>{const x=n.selection,P=x.getRng(),Z=J1(n).length>0,J=cv("mce-annotation");if(P.collapsed&&!Z&&b3(n,P),x.getRng().collapsed&&!Z){const ge=Ym(n.getDoc(),J,m,s,l.decorate);Tm(ge,zs),x.getRng().insertNode(ge.dom),x.select(ge.dom)}else pk(x,!1,()=>{np(n,ge=>{Tk(n,ge,J,s,l.decorate,m)})})})},x3=n=>{const s=x5();lf(n,s);const l=uc(n,s),m=Tu("span"),x=P=>{re(P,Z=>{m(Z)?$f(Z):Aa(Z)})};return{register:(P,Z)=>{s.register(P,Z)},annotate:(P,Z)=>{s.lookup(P).each(J=>{O3(n,P,J,Z)})},annotationChanged:(P,Z)=>{l.addListener(P,Z)},remove:P=>{Oi(n,Y.some(P)).each(({elements:Z})=>{const J=n.selection.getBookmark();x(Z),n.selection.moveToBookmark(J)})},removeAll:P=>{const Z=n.selection.getBookmark();Bt(f2(n,P),(J,ge)=>{x(J)}),n.selection.moveToBookmark(Z)},getAll:P=>{const Z=f2(n,P);return vn(Z,J=>Ie(J,ge=>ge.dom))}}},xv=n=>({getBookmark:ee(q1,n),moveToBookmark:ee(B2,n)});xv.isBookmarkNode=df;const S3=(n,s,l)=>l.collapsed?!1:_e(l.getClientRects(),m=>C5(m,n,s)),w3=(n,s)=>n.dispatch("PreProcess",s),u6=(n,s)=>n.dispatch("PostProcess",s),r0=n=>{n.dispatch("remove")},o0=n=>{n.dispatch("detach")},C3=(n,s)=>{n.dispatch("SwitchMode",{mode:s})},T3=(n,s,l,m,x)=>{n.dispatch("ObjectResizeStart",{target:s,width:l,height:m,origin:x})},gd=(n,s,l,m,x)=>{n.dispatch("ObjectResized",{target:s,width:l,height:m,origin:x})},rp=n=>{n.dispatch("PreInit")},f6=n=>{n.dispatch("PostRender")},Ab=n=>{n.dispatch("Init")},d6=(n,s)=>{n.dispatch("PlaceholderToggle",{state:s})},Lu=(n,s,l)=>{n.dispatch(s,l)},mc=(n,s,l,m)=>{n.dispatch("FormatApply",{format:s,node:l,vars:m})},Sv=(n,s,l,m)=>{n.dispatch("FormatRemove",{format:s,node:l,vars:m})},C$=(n,s)=>n.dispatch("BeforeSetContent",s),kk=(n,s)=>n.dispatch("SetContent",s),h6=(n,s)=>n.dispatch("BeforeGetContent",s),Cs=(n,s)=>n.dispatch("GetContent",s),k3=(n,s)=>{n.dispatch("AutocompleterStart",s)},Ak=(n,s)=>{n.dispatch("AutocompleterUpdate",s)},A3=n=>{n.dispatch("AutocompleterEnd")},m6=(n,s,l)=>n.dispatch("PastePreProcess",{content:s,internal:l}),g6=(n,s,l)=>n.dispatch("PastePostProcess",{node:s,internal:l}),Pk=(n,s)=>n.dispatch("PastePlainTextToggle",{state:s}),p6=(n,s)=>n.dispatch("EditableRootStateChange",{state:s}),Yr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:n=>n.shiftKey||n.ctrlKey||n.altKey||Yr.metaKeyPressed(n),metaKeyPressed:n=>Dr.os.isMacOS()||Dr.os.isiOS()?n.metaKey:n.ctrlKey&&!n.altKey},op="data-mce-selected",Mk="table,img,figure.image,hr,video,span.mce-preview-object,details",Pb=Math.abs,Mb=Math.round,v6={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},T$=n=>n.type==="longpress"||n.type.indexOf("touch")===0,k$=(n,s)=>{const l=s.dom,m=s.getDoc(),x=document,P=s.getBody();let Z,J,ge,Re,Ge,qe,ot,Et,Vt,kt,It,cn,xn,bn,$n,rr,gr;const Qr=yr=>B(yr)&&(Nl(yr)||l.is(yr,"figure.image")),zn=yr=>ri(yr)||l.hasClass(yr,"mce-preview-object"),Bn=(yr,Qo)=>{if(T$(yr)){const Is=yr.touches[0];return Qr(yr.target)&&!S3(Is.clientX,Is.clientY,Qo)}else return Qr(yr.target)&&!S3(yr.clientX,yr.clientY,Qo)},tr=yr=>{const Qo=yr.target;Bn(yr,s.selection.getRng())&&!yr.isDefaultPrevented()&&s.selection.select(Qo)},eo=yr=>l.hasClass(yr,"mce-preview-object")&&B(yr.firstElementChild)?[yr,yr.firstElementChild]:l.is(yr,"figure.image")?[yr.querySelector("img")]:[yr],po=yr=>{const Qo=L1(s);return!Qo||yr.getAttribute("data-mce-resize")==="false"||yr===s.getBody()?!1:l.hasClass(yr,"mce-preview-object")&&B(yr.firstElementChild)?Gu(Yt.fromDom(yr.firstElementChild),Qo):Gu(Yt.fromDom(yr),Qo)},cs=yr=>zn(yr)?l.create("img",{src:Dr.transparentSrc}):yr.cloneNode(!0),Os=(yr,Qo,Is)=>{if(B(Is)){const Pa=eo(yr);re(Pa,wa=>{wa.style[Qo]||!s.schema.isValid(wa.nodeName.toLowerCase(),Qo)?l.setStyle(wa,Qo,Is):l.setAttrib(wa,Qo,""+Is)})}},pa=(yr,Qo,Is)=>{Os(yr,"width",Qo),Os(yr,"height",Is)},Ls=yr=>{let Qo,Is,Pa,wa,Vl;Qo=yr.screenX-qe,Is=yr.screenY-ot,bn=Qo*Re[2]+kt,$n=Is*Re[3]+It,bn=bn<5?5:bn,$n=$n<5?5:$n,(Qr(Z)||zn(Z))&&Q5(s)!==!1?Pa=!Yr.modifierPressed(yr):Pa=Yr.modifierPressed(yr),Pa&&(Pb(Qo)>Pb(Is)?($n=Mb(bn*cn),bn=Mb($n/cn)):(bn=Mb($n/cn),$n=Mb(bn*cn))),pa(J,bn,$n),wa=Re.startPos.x+Qo,Vl=Re.startPos.y+Is,wa=wa>0?wa:0,Vl=Vl>0?Vl:0,l.setStyles(ge,{left:wa,top:Vl,display:"block"}),ge.innerHTML=bn+" &times; "+$n,Re[2]<0&&J.clientWidth<=bn&&l.setStyle(J,"left",Et+(kt-bn)),Re[3]<0&&J.clientHeight<=$n&&l.setStyle(J,"top",Vt+(It-$n)),Qo=P.scrollWidth-rr,Is=P.scrollHeight-gr,Qo+Is!==0&&l.setStyles(ge,{left:wa-Qo,top:Vl-Is}),xn||(T3(s,Z,kt,It,"corner-"+Re.name),xn=!0)},pi=()=>{const yr=xn;xn=!1,yr&&(Os(Z,"width",bn),Os(Z,"height",$n)),l.unbind(m,"mousemove",Ls),l.unbind(m,"mouseup",pi),x!==m&&(l.unbind(x,"mousemove",Ls),l.unbind(x,"mouseup",pi)),l.remove(J),l.remove(ge),l.remove(Ge),pc(Z),yr&&(gd(s,Z,bn,$n,"corner-"+Re.name),l.setAttrib(Z,"style",l.getAttrib(Z,"style"))),s.nodeChanged()},pc=yr=>{Ts();const Qo=l.getPos(yr,P),Is=Qo.x,Pa=Qo.y,wa=yr.getBoundingClientRect(),Vl=wa.width||wa.right-wa.left,nm=wa.height||wa.bottom-wa.top;Z!==yr&&(Tr(),Z=yr,bn=$n=0);const Wf=s.dispatch("ObjectSelected",{target:yr});po(yr)&&!Wf.isDefaultPrevented()?Bt(v6,(Bu,dh)=>{const Wo=Ma=>{const ii=eo(Z)[0];qe=Ma.screenX,ot=Ma.screenY,kt=ii.clientWidth,It=ii.clientHeight,cn=It/kt,Re=Bu,Re.name=dh,Re.startPos={x:Vl*Bu[0]+Is,y:nm*Bu[1]+Pa},rr=P.scrollWidth,gr=P.scrollHeight,Ge=l.add(P,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),l.setStyles(Ge,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),J=cs(Z),l.addClass(J,"mce-clonedresizable"),l.setAttrib(J,"data-mce-bogus","all"),J.contentEditable="false",l.setStyles(J,{left:Is,top:Pa,margin:0}),pa(J,Vl,nm),J.removeAttribute(op),P.appendChild(J),l.bind(m,"mousemove",Ls),l.bind(m,"mouseup",pi),x!==m&&(l.bind(x,"mousemove",Ls),l.bind(x,"mouseup",pi)),ge=l.add(P,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},kt+" &times; "+It)};let Us=l.get("mceResizeHandle"+dh);Us&&l.remove(Us),Us=l.add(P,"div",{id:"mceResizeHandle"+dh,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+dh+"-resize; margin:0; padding:0"}),l.bind(Us,"mousedown",Ma=>{Ma.stopImmediatePropagation(),Ma.preventDefault(),Wo(Ma)}),Bu.elm=Us,l.setStyles(Us,{left:Vl*Bu[0]+Is-Us.offsetWidth/2,top:nm*Bu[1]+Pa-Us.offsetHeight/2})}):Tr(!1)},va=Hy(pc,0),Tr=(yr=!0)=>{va.cancel(),Ts(),Z&&yr&&Z.removeAttribute(op),Bt(v6,(Qo,Is)=>{const Pa=l.get("mceResizeHandle"+Is);Pa&&(l.unbind(Pa),l.remove(Pa))})},co=(yr,Qo)=>l.isChildOf(yr,Qo),Hs=yr=>{if(xn||s.removed||s.composing)return;const Qo=yr.type==="mousedown"?yr.target:n.getNode(),Is=Df(Yt.fromDom(Qo),Mk).map(wa=>wa.dom).filter(wa=>l.isEditable(wa.parentElement)||wa.nodeName==="IMG"&&l.isEditable(wa)).getOrUndefined(),Pa=B(Is)?l.getAttrib(Is,op,"1"):"1";if(re(l.select(`img[${op}],hr[${op}]`),wa=>{wa.removeAttribute(op)}),B(Is)&&co(Is,P)&&s.hasFocus()){ro();const wa=n.getStart(!0);if(co(wa,Is)&&co(n.getEnd(!0),Is)){l.setAttrib(Is,op,Pa),va.throttle(Is);return}}Tr()},Ts=()=>{Bt(v6,yr=>{yr.elm&&(l.unbind(yr.elm),delete yr.elm)})},ro=()=>{try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return s.on("init",()=>{ro(),s.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Hs),s.on("keyup compositionend",yr=>{Z&&Z.nodeName==="TABLE"&&Hs(yr)}),s.on("hide blur",Tr),s.on("contextmenu longpress",tr,!0)}),s.on("remove",Ts),{isResizable:po,showResizeRect:pc,hideResizeRect:Tr,updateResizeRect:Hs,destroy:()=>{va.cancel(),Z=J=Ge=null}}},uW=(n,s)=>{s.fold(l=>{n.setStartBefore(l.dom)},(l,m)=>{n.setStart(l.dom,m)},l=>{n.setStartAfter(l.dom)})},y6=(n,s)=>{s.fold(l=>{n.setEndBefore(l.dom)},(l,m)=>{n.setEnd(l.dom,m)},l=>{n.setEndAfter(l.dom)})},Ek=(n,s,l)=>{const m=n.document.createRange();return uW(m,s),y6(m,l),m},ko=(n,s,l,m,x)=>{const P=n.document.createRange();return P.setStart(s.dom,l),P.setEnd(m.dom,x),P},Xm=jd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),_k=(n,s,l)=>s(Yt.fromDom(l.startContainer),l.startOffset,Yt.fromDom(l.endContainer),l.endOffset),b6=(n,s)=>s.match({domRange:l=>({ltr:ae(l),rtl:Y.none}),relative:(l,m)=>({ltr:Rt(()=>Ek(n,l,m)),rtl:Rt(()=>Y.some(Ek(n,m,l)))}),exact:(l,m,x,P)=>({ltr:Rt(()=>ko(n,l,m,x,P)),rtl:Rt(()=>Y.some(ko(n,x,P,l,m)))})}),Eb=(n,s)=>{const l=s.ltr();return l.collapsed?s.rtl().filter(x=>x.collapsed===!1).map(x=>Xm.rtl(Yt.fromDom(x.endContainer),x.endOffset,Yt.fromDom(x.startContainer),x.startOffset)).getOrThunk(()=>_k(n,Xm.ltr,l)):_k(n,Xm.ltr,l)},O6=(n,s)=>{const l=b6(n,s);return Eb(n,l)};Xm.ltr,Xm.rtl;const P3={create:(n,s,l,m)=>({start:n,soffset:s,finish:l,foffset:m})},Dk=(n,s,l)=>{var m,x;return Y.from((x=(m=n.dom).caretPositionFromPoint)===null||x===void 0?void 0:x.call(m,s,l)).bind(P=>{if(P.offsetNode===null)return Y.none();const Z=n.dom.createRange();return Z.setStart(P.offsetNode,P.offset),Z.collapse(),Y.some(Z)})},q2=(n,s,l)=>{var m,x;return Y.from((x=(m=n.dom).caretRangeFromPoint)===null||x===void 0?void 0:x.call(m,s,l))},x6=(()=>document.caretPositionFromPoint?Dk:document.caretRangeFromPoint?q2:Y.none)(),S6=(n,s,l)=>{const m=Yt.fromDom(n.document);return x6(m,s,l).map(x=>P3.create(Yt.fromDom(x.startContainer),x.startOffset,Yt.fromDom(x.endContainer),x.endOffset))},s0=jd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),M3=(n,s,l,m)=>n.fold(s,l,m),$k=n=>n.fold(q,q,q),w6=s0.before,C6=s0.on,K2=s0.after,Vh={before:w6,on:C6,after:K2,cata:M3,getStart:$k},J2=jd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ys=n=>J2.exact(n.start,n.soffset,n.finish,n.foffset),T6=n=>n.match({domRange:s=>Yt.fromDom(s.startContainer),relative:(s,l)=>Vh.getStart(s),exact:(s,l,m,x)=>s}),Gm=J2.domRange,zh=J2.relative,ex=J2.exact,hf=n=>{const s=T6(n);return Ag(s)},tx=P3.create,jm={domRange:Gm,relative:zh,exact:ex,exactFromRange:Ys,getWin:hf,range:tx},a0=(n,s)=>{const l=Vs(n);return l==="input"?Vh.after(n):Ve(["br","img"],l)?s===0?Vh.before(n):Vh.after(n):Vh.on(n,s)},_b=(n,s)=>{const l=n.fold(Vh.before,a0,Vh.after),m=s.fold(Vh.before,a0,Vh.after);return jm.relative(l,m)},E3=(n,s,l,m)=>{const x=a0(n,s),P=a0(l,m);return jm.relative(x,P)},k6=n=>n.match({domRange:s=>{const l=Yt.fromDom(s.startContainer),m=Yt.fromDom(s.endContainer);return E3(l,s.startOffset,m,s.endOffset)},relative:_b,exact:E3}),_3=(n,s)=>{const m=(s||document).createDocumentFragment();return re(n,x=>{m.appendChild(x.dom)}),Yt.fromDom(m)},A6=n=>{const s=jm.getWin(n).dom,l=(x,P,Z,J)=>ko(s,x,P,Z,J),m=k6(n);return O6(s,m).match({ltr:l,rtl:l})},Ms=(n,s,l)=>S6(n,s,l),mf=(n,s,l)=>{const m=Ag(Yt.fromDom(l));return Ms(m.dom,n,s).map(x=>{const P=l.createRange();return P.setStart(x.start.dom,x.soffset),P.setEnd(x.finish.dom,x.foffset),P}).getOrUndefined()},sp=(n,s)=>B(n)&&B(s)&&n.startContainer===s.startContainer&&n.startOffset===s.startOffset&&n.endContainer===s.endContainer&&n.endOffset===s.endOffset,P6=(n,s,l)=>{let m=n;for(;m&&m!==s;){if(l(m))return m;m=m.parentNode}return null},i0=(n,s,l)=>P6(n,s,l)!==null,Qs=(n,s,l)=>i0(n,s,m=>m.nodeName===l),M6=(n,s)=>bt(n)&&!i0(n,s,ff),R3=(n,s,l)=>{const m=s.parentNode;if(m){const x=new fa(s,n.getParent(m,n.isBlock)||n.getRoot());let P;for(;P=x[l?"prev":"next"]();)if(ia(P))return!0}return!1},A=(n,s)=>{var l;return((l=n.previousSibling)===null||l===void 0?void 0:l.nodeName)===s},$=(n,s)=>{let l=s;for(;l&&l!==n;){if(ws(l))return!0;l=l.parentNode}return!1},j=(n,s,l,m,x)=>{const P=n.getRoot(),Z=n.schema.getNonEmptyElements(),J=x.parentNode;let ge,Re;if(!J)return Y.none();const Ge=n.getParent(J,n.isBlock)||P;if(m&&ia(x)&&s&&n.isEmpty(Ge))return Y.some(Nn(J,n.nodeIndex(x)));const qe=new fa(x,Ge);for(;Re=qe[m?"prev":"next"]();){if(n.getContentEditableParent(Re)==="false"||M6(Re,P))return Y.none();if(lr(Re)&&Re.data.length>0)return Qs(Re,P,"A")?Y.none():Y.some(Nn(Re,m?Re.data.length:0));if(n.isBlock(Re)||Z[Re.nodeName.toLowerCase()])return Y.none();ge=Re}return rd(ge)?Y.none():l&&ge?Y.some(Nn(ge,0)):Y.none()},ue=(n,s,l,m)=>{const x=n.getRoot();let P,Z=!1,J=l?m.startContainer:m.endContainer,ge=l?m.startOffset:m.endOffset;const Re=Xr(J)&&ge===J.childNodes.length,Ge=n.schema.getNonEmptyElements();let qe=l;if(bt(J))return Y.none();if(Xr(J)&&ge>J.childNodes.length-1&&(qe=!1),$g(J)&&(J=x,ge=0),J===x){if(qe&&(P=J.childNodes[ge>0?ge-1:0],P&&(bt(P)||Ge[P.nodeName]||tf(P))))return Y.none();if(J.hasChildNodes()){if(ge=Math.min(!qe&&ge>0?ge-1:ge,J.childNodes.length-1),J=J.childNodes[ge],ge=lr(J)&&Re?J.data.length:0,!s&&J===x.lastChild&&tf(J)||$(x,J)||bt(J)||er(J))return Y.none();if(J.hasChildNodes()&&!tf(J)){P=J;const ot=new fa(J,x);do{if(ws(P)||bt(P)){Z=!1;break}if(lr(P)&&P.data.length>0){ge=qe?0:P.data.length,J=P,Z=!0;break}if(Ge[P.nodeName.toLowerCase()]&&!ul(P)){ge=n.nodeIndex(P),J=P.parentNode,qe||ge++,Z=!0;break}}while(P=qe?ot.next():ot.prev())}}}return s&&(lr(J)&&ge===0&&j(n,Re,s,!0,J).each(ot=>{J=ot.container(),ge=ot.offset(),Z=!0}),Xr(J)&&(P=J.childNodes[ge],P||(P=J.childNodes[ge-1]),P&&ia(P)&&!A(P,"A")&&!R3(n,P,!1)&&!R3(n,P,!0)&&j(n,Re,s,!0,P).each(ot=>{J=ot.container(),ge=ot.offset(),Z=!0}))),qe&&!s&&lr(J)&&ge===J.data.length&&j(n,Re,s,!1,J).each(ot=>{J=ot.container(),ge=ot.offset(),Z=!0}),Z&&J?Y.some(Nn(J,ge)):Y.none()},Me=(n,s)=>{const l=s.collapsed,m=s.cloneRange(),x=Nn.fromRangeStart(s);return ue(n,l,!0,m).each(P=>{(!l||!Nn.isAbove(x,P))&&m.setStart(P.container(),P.offset())}),l||ue(n,l,!1,m).each(P=>{m.setEnd(P.container(),P.offset())}),l&&m.collapse(!0),sp(s,m)?Y.none():Y.some(m)},ze=(n,s)=>n.splitText(s),nt=n=>{let s=n.startContainer,l=n.startOffset,m=n.endContainer,x=n.endOffset;if(s===m&&lr(s)){if(l>0&&l<s.data.length)if(m=ze(s,l),s=m.previousSibling,x>l){x=x-l;const P=ze(m,x).previousSibling;s=m=P,x=P.data.length,l=0}else x=0}else if(lr(s)&&l>0&&l<s.data.length&&(s=ze(s,l),l=0),lr(m)&&x>0&&x<m.data.length){const P=ze(m,x).previousSibling;m=P,x=P.data.length}return{startContainer:s,startOffset:l,endContainer:m,endOffset:x}},Ot=n=>({walk:(P,Z)=>kb(n,P,Z),split:nt,expand:(P,Z={type:"word"})=>{if(Z.type==="word"){const J=Wm(n,P,[{inline:"span"}]),ge=n.createRng();return ge.setStart(J.startContainer,J.startOffset),ge.setEnd(J.endContainer,J.endOffset),ge}return P},normalize:P=>Me(n,P).fold(ne,Z=>(P.setStart(Z.startContainer,Z.startOffset),P.setEnd(Z.endContainer,Z.endOffset),!0))});Ot.compareRanges=sp,Ot.getCaretRangeFromPoint=mf,Ot.getSelectedNode=vw,Ot.getNode=Du;const Kt=((n,s)=>{const l=(J,ge)=>{if(!W(ge)&&!ge.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+ge);const Re=J.dom;kh(Re)&&(Re.style[n]=ge+"px")},m=J=>{const ge=s(J);if(ge<=0||ge===null){const Re=Ti(J,n);return parseFloat(Re)||0}return ge},x=m,P=(J,ge)=>oe(ge,(Re,Ge)=>{const qe=Ti(J,Ge),ot=qe===void 0?0:parseInt(qe,10);return isNaN(ot)?Re:Re+ot},0);return{set:l,get:m,getOuter:x,aggregate:P,max:(J,ge,Re)=>{const Ge=P(J,Re);return ge>Ge?ge-Ge:0}}})("height",n=>{const s=n.dom;return Th(n)?s.getBoundingClientRect().height:s.offsetHeight}),Tn=n=>Kt.get(n),ir=()=>Yt.fromDom(document),$r=(n,s)=>n.view(s).fold(ae([]),m=>{const x=n.owner(m),P=$r(n,x);return[m].concat(P)}),Rr=(n,s)=>{const l=s.owner(n);return $r(s,l)};var jn=Object.freeze({__proto__:null,view:n=>{var s;return(n.dom===document?Y.none():Y.from((s=n.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Yt.fromDom)},owner:n=>nd(n)});const io=n=>{const s=ir(),l=Pu(s),m=Rr(n,jn),x=Pm(n),P=fe(m,(Z,J)=>{const ge=Pm(J);return{left:Z.left+ge.left,top:Z.top+ge.top}},{left:0,top:0});return Rg(P.left+x.left+l.left,P.top+x.top+l.top)},Lo=n=>Vs(n)==="textarea",os=(n,s)=>n.dispatch("ScrollIntoView",s).isDefaultPrevented(),za=(n,s)=>{n.dispatch("AfterScrollIntoView",s)},vl=(n,s)=>{const l=il(n);if(l.length===0||Lo(n))return{element:n,offset:s};if(s<l.length&&!Lo(l[s]))return{element:l[s],offset:0};{const m=l[l.length-1];return Lo(m)?{element:n,offset:s}:Vs(m)==="img"?{element:m,offset:1}:Ui(m)?{element:m,offset:uu(m).length}:{element:m,offset:il(m).length}}},xi=(n,s)=>{const l=HO(n),m=Tn(n);return{element:n,bottom:l.top+m,height:m,pos:l,cleanup:s}},vu=(n,s)=>{const l=vl(n,s),m=Yt.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+he+"</span>");return Yi(l.element,m),xi(m,()=>Ks(m))},wv=n=>xi(Yt.fromDom(n),ie),Cv=(n,s,l,m)=>{Fc(n,(x,P)=>nx(n,s,l,m),l)},D3=(n,s,l,m,x)=>{const P={elm:m.element.dom,alignToTop:x};if(os(n,P))return;const Z=Pu(s).top;l(n,s,Z,m,x),za(n,P)},nx=(n,s,l,m)=>{const x=Yt.fromDom(n.getBody()),P=Yt.fromDom(n.getDoc());ki(x);const Z=vu(Yt.fromDom(l.startContainer),l.startOffset);D3(n,P,s,Z,m),Z.cleanup()},xa=(n,s,l,m)=>{const x=Yt.fromDom(n.getDoc());D3(n,x,l,wv(s),m)},Fc=(n,s,l)=>{const m=l.startContainer,x=l.startOffset,P=l.endContainer,Z=l.endOffset;s(Yt.fromDom(m),Yt.fromDom(P));const J=n.dom.createRng();J.setStart(m,x),J.setEnd(P,Z),n.selection.setRng(l)},oc=(n,s,l,m,x)=>{const P=s.pos;if(m)i1(P.left,P.top,x);else{const Z=P.top-l+s.height;i1(-n.getBody().getBoundingClientRect().left,Z,x)}},gf=(n,s,l,m,x,P)=>{const Z=m+l,J=x.pos.top,ge=x.bottom,Re=ge-J>=m;J<l?oc(n,x,m,P!==!1,s):J>Z?oc(n,x,m,Re?P!==!1:P===!0,s):ge>Z&&!Re&&oc(n,x,m,P===!0,s)},Iu=(n,s,l,m,x)=>{const P=Ag(s).dom.innerHeight;gf(n,s,l,P,m,x)},ap=(n,s,l,m,x)=>{const P=Ag(s).dom.innerHeight;gf(n,s,l,P,m,x);const Z=io(m.element),J=_y(window);Z.top<J.y?My(m.element,x!==!1):Z.top>J.bottom&&My(m.element,x===!0)},tu=(n,s,l)=>Cv(n,Iu,s,l),$3=(n,s,l)=>xa(n,s,Iu,l),Rb=(n,s,l)=>Cv(n,ap,s,l),Zh=(n,s,l)=>xa(n,s,ap,l),gc=(n,s,l)=>{(n.inline?$3:Zh)(n,s,l)},Db=(n,s,l)=>{(n.inline?tu:Rb)(n,s,l)},Lk=(n,s=!1)=>n.dom.focus({preventScroll:s}),Ik=n=>{const s=Rf(n).dom;return n.dom===s.activeElement},l0=(n=ir())=>Y.from(n.dom.activeElement).map(Yt.fromDom),Nk=n=>l0(Rf(n)).filter(s=>n.dom.contains(s.dom)),rx=(n,s)=>{const l=Ui(s)?uu(s).length:il(s).length+1;return n>l?l:n<0?0:n},Bk=n=>jm.range(n.start,rx(n.soffset,n.start),n.finish,rx(n.foffset,n.finish)),Tv=(n,s)=>!ef(s.dom)&&(ic(n,s)||Gs(n,s)),A$=n=>s=>Tv(n,s.start)&&Tv(n,s.finish),fW=n=>n.inline||Dr.browser.isFirefox(),dW=n=>jm.range(Yt.fromDom(n.startContainer),n.startOffset,Yt.fromDom(n.endContainer),n.endOffset),hW=n=>{const s=n.getSelection();return(!s||s.rangeCount===0?Y.none():Y.from(s.getRangeAt(0))).map(dW)},mW=n=>{const s=Ag(n);return hW(s.dom).filter(A$(n))},P$=(n,s)=>Y.from(s).filter(A$(n)).map(Bk),M$=n=>{const s=document.createRange();try{return s.setStart(n.start.dom,n.soffset),s.setEnd(n.finish.dom,n.foffset),Y.some(s)}catch{return Y.none()}},ox=n=>{const s=fW(n)?mW(Yt.fromDom(n.getBody())):Y.none();n.bookmark=s.isSome()?s:n.bookmark},E6=n=>(n.bookmark?n.bookmark:Y.none()).bind(l=>P$(Yt.fromDom(n.getBody()),l)).bind(M$),gW=n=>{E6(n).each(s=>n.selection.setRng(s))},_$={isEditorUIElement:n=>{const s=n.className.toString();return s.indexOf("tox-")!==-1||s.indexOf("mce-")!==-1}},R$=(n,s)=>(W(s)||(s=0),setTimeout(n,s)),D$=(n,s)=>(W(s)||(s=0),setInterval(n,s)),pd={setEditorTimeout:(n,s,l)=>R$(()=>{n.removed||s()},l),setEditorInterval:(n,s,l)=>{const m=D$(()=>{n.removed?clearInterval(m):s()},l);return m}},pW=n=>n.type==="nodechange"&&n.selectionChange,vW=(n,s)=>{const l=()=>{s.throttle()};La.DOM.bind(document,"mouseup",l),n.on("remove",()=>{La.DOM.unbind(document,"mouseup",l)})},yW=(n,s)=>{n.on("mouseup touchend",l=>{s.throttle()})},bW=(n,s)=>{yW(n,s),n.on("keyup NodeChange AfterSetSelectionRange",l=>{pW(l)||ox(n)})},Qk=n=>{const s=Hy(()=>{ox(n)},0);n.on("init",()=>{n.inline&&vW(n,s),bW(n,s)}),n.on("remove",()=>{s.cancel()})};let $b;const Fk=La.DOM,$$=n=>Xr(n)&&_$.isEditorUIElement(n),Vk=n=>{const s=n.classList;return s!==void 0?s.contains("tox-edit-area")||s.contains("tox-edit-area__iframe")||s.contains("mce-content-body"):!1},zk=(n,s)=>{const l=Z5(n);return Fk.getParent(s,x=>$$(x)||(l?n.dom.is(x,l):!1))!==null},_6=n=>{try{const s=Rf(Yt.fromDom(n.getElement()));return l0(s).fold(()=>document.body,l=>l.dom)}catch{return document.body}},OW=(n,s)=>{const l=s.editor;Qk(l);const m=(x,P)=>{if(Q7(x)&&x.inline!==!0){const Z=Yt.fromDom(x.getContainer());P(Z,"tox-edit-focus")}};l.on("focusin",()=>{const x=n.focusedEditor;Vk(_6(l))&&m(l,bm),x!==l&&(x&&x.dispatch("blur",{focusedEditor:l}),n.setActive(l),n.focusedEditor=l,l.dispatch("focus",{blurredEditor:x}),l.focus(!0))}),l.on("focusout",()=>{pd.setEditorTimeout(l,()=>{const x=n.focusedEditor;(!Vk(_6(l))||x!==l)&&m(l,Om),!zk(l,_6(l))&&x===l&&(l.dispatch("blur",{focusedEditor:null}),n.focusedEditor=null)})}),$b||($b=x=>{const P=n.activeEditor;P&&qp(x).each(Z=>{const J=Z;J.ownerDocument===document&&J!==document.body&&!zk(P,J)&&n.focusedEditor===P&&(P.dispatch("blur",{focusedEditor:null}),n.focusedEditor=null)})},Fk.bind(document,"focusin",$b))},xW=(n,s)=>{n.focusedEditor===s.editor&&(n.focusedEditor=null),!n.activeEditor&&$b&&(Fk.unbind(document,"focusin",$b),$b=null)},SW=n=>{n.on("AddEditor",ee(OW,n)),n.on("RemoveEditor",ee(xW,n))},wW=(n,s)=>n.dom.getParent(s,l=>n.dom.getContentEditable(l)==="true"),CW=n=>n.collapsed?Y.from(Du(n.startContainer,n.startOffset)).map(Yt.fromDom):Y.none(),TW=(n,s)=>CW(s).bind(l=>id(l)?Y.some(l):ic(n,l)?Y.none():Y.some(n)),L$=(n,s)=>{TW(Yt.fromDom(n.getBody()),s).bind(l=>eu(l.dom)).fold(()=>{n.selection.normalize()},l=>n.selection.setRng(l.toRange()))},R6=n=>{if(n.setActive)try{n.setActive()}catch{n.focus()}else n.focus()},kW=n=>Ik(n)||Nk(n).isSome(),AW=n=>B(n.iframeElement)&&Ik(Yt.fromDom(n.iframeElement)),Zk=n=>{const s=n.getBody();return s&&kW(Yt.fromDom(s))},I$=n=>{const s=Rf(Yt.fromDom(n.getElement()));return l0(s).filter(l=>!Vk(l.dom)&&zk(n,l.dom)).isSome()},c0=n=>n.inline?Zk(n):AW(n),N$=n=>c0(n)||I$(n),PW=n=>{const s=n.selection,l=n.getBody();let m=s.getRng();n.quirks.refreshContentEditable(),B(n.bookmark)&&!c0(n)&&E6(n).each(P=>{n.selection.setRng(P),m=P});const x=wW(n,s.getNode());if(x&&n.dom.isChildOf(x,l)){R6(x),L$(n,m),D6(n);return}n.inline||(Dr.browser.isOpera()||R6(l),n.getWin().focus()),(Dr.browser.isFirefox()||n.inline)&&(R6(l),L$(n,m)),D6(n)},D6=n=>n.editorManager.setActive(n),MW=(n,s)=>{n.removed||(s?D6(n):PW(n))},B$=(n,s)=>s.collapsed?n.isEditable(s.startContainer):n.isEditable(s.startContainer)&&n.isEditable(s.endContainer),Q$=(n,s,l,m,x)=>{const P=l?s.startContainer:s.endContainer,Z=l?s.startOffset:s.endOffset;return Y.from(P).map(Yt.fromDom).map(J=>!m||!s.collapsed?Ch(J,x(J,Z)).getOr(J):J).bind(J=>Dl(J)?Y.some(J):lu(J).filter(Dl)).map(J=>J.dom).getOr(n)},$6=(n,s,l=!1)=>Q$(n,s,!0,l,(m,x)=>Math.min(Ll(m),x)),F$=(n,s,l=!1)=>Q$(n,s,!1,l,(m,x)=>x>0?x-1:x),L6=(n,s)=>{const l=n;for(;n&&lr(n)&&n.length===0;)n=s?n.nextSibling:n.previousSibling;return n||l},V$=(n,s)=>{if(!s)return n;let l=s.startContainer,m=s.endContainer;const x=s.startOffset,P=s.endOffset;let Z=s.commonAncestorContainer;s.collapsed||(l===m&&P-x<2&&l.hasChildNodes()&&(Z=l.childNodes[x]),lr(l)&&lr(m)&&(l.length===x?l=L6(l.nextSibling,!0):l=l.parentNode,P===0?m=L6(m.previousSibling,!1):m=m.parentNode,l&&l===m&&(Z=l)));const J=lr(Z)?Z.parentNode:Z;return Gl(J)?J:n},EW=(n,s,l,m)=>{const x=[],P=n.getRoot(),Z=n.getParent(l||$6(P,s,s.collapsed),n.isBlock),J=n.getParent(m||F$(P,s,s.collapsed),n.isBlock);if(Z&&Z!==P&&x.push(Z),Z&&J&&Z!==J){let ge;const Re=new fa(Z,P);for(;(ge=Re.next())&&ge!==J;)n.isBlock(ge)&&x.push(ge)}return J&&Z!==J&&J!==P&&x.push(J),x},_W=(n,s,l)=>Y.from(s).bind(m=>Y.from(m.parentNode).map(x=>{const P=n.nodeIndex(m),Z=n.createRng();return Z.setStart(x,P),Z.setEnd(x,P+1),l&&(m3(n,Z,m,!0),m3(n,Z,m,!1)),Z})),I6=(n,s)=>Ie(s,l=>{const m=n.dispatch("GetSelectionRange",{range:l});return m.range!==l?m.range:l}),RW=n=>Vs(n)==="img"?1:f1(n).fold(()=>il(n).length,s=>s.length),DW=n=>f1(n).filter(s=>s.trim().length!==0||s.indexOf(zs)>-1).isSome(),$W=n=>Ga(n)&&$l(n,"contenteditable")==="false",LW=["img","br"],z$=n=>DW(n)||Ve(LW,Vs(n))||$W(n),IW=n=>Xl(n,z$),NW=n=>BW(n,z$),BW=(n,s)=>{const l=m=>{const x=il(m);for(let P=x.length-1;P>=0;P--){const Z=x[P];if(s(Z))return Y.some(Z);const J=l(Z);if(J.isSome())return J}return Y.none()};return l(n)},Z$="[data-mce-autocompleter]",QW=(n,s)=>{if(H$(Yt.fromDom(n.getBody())).isNone()){const l=Yt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',n.getDoc());Ai(l,Yt.fromDom(s.extractContents())),s.insertNode(l.dom),lu(l).each(m=>m.dom.normalize()),NW(l).map(m=>{n.selection.setCursorLocation(m.dom,RW(m))})}},FW=n=>Df(n,Z$),H$=n=>Mc(n,Z$),VW=(n,s)=>H$(s).each(l=>{const m=n.selection.getBookmark();$f(l),n.selection.moveToBookmark(m)}),zW={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Hk=(n,s,l)=>{const m=l?"lastChild":"firstChild",x=l?"prev":"next";if(n[m])return n[m];if(n!==s){let P=n[x];if(P)return P;for(let Z=n.parent;Z&&Z!==s;Z=Z.parent)if(P=Z[x],P)return P}},ZW=n=>{var s;const l=(s=n.value)!==null&&s!==void 0?s:"";if(!Qa(l))return!1;const m=n.parent;return!(m&&(m.name!=="span"||m.attr("style"))&&/^[ ]+$/.test(l))},yo=n=>{const s=n.name==="a"&&!n.attr("href")&&n.attr("id");return n.attr("name")||n.attr("id")&&!n.firstChild||n.attr("data-mce-bookmark")||s};class yu{static create(s,l){const m=new yu(s,zW[s]||1);return l&&Bt(l,(x,P)=>{m.attr(P,x)}),m}constructor(s,l){this.name=s,this.type=l,l===1&&(this.attributes=[],this.attributes.map={})}replace(s){const l=this;return s.parent&&s.remove(),l.insert(s,l),l.remove(),l}attr(s,l){const m=this;if(!M(s))return B(s)&&Bt(s,(P,Z)=>{m.attr(Z,P)}),m;const x=m.attributes;if(x){if(l!==void 0){if(l===null){if(s in x.map){delete x.map[s];let P=x.length;for(;P--;)if(x[P].name===s)return x.splice(P,1),m}return m}if(s in x.map){let P=x.length;for(;P--;)if(x[P].name===s){x[P].value=l;break}}else x.push({name:s,value:l});return x.map[s]=l,m}return x.map[s]}}clone(){const s=this,l=new yu(s.name,s.type),m=s.attributes;if(m){const x=[];x.map={};for(let P=0,Z=m.length;P<Z;P++){const J=m[P];J.name!=="id"&&(x[x.length]={name:J.name,value:J.value},x.map[J.name]=J.value)}l.attributes=x}return l.value=s.value,l}wrap(s){const l=this;return l.parent&&(l.parent.insert(s,l),s.append(l)),l}unwrap(){const s=this;for(let l=s.firstChild;l;){const m=l.next;s.insert(l,s,!0),l=m}s.remove()}remove(){const s=this,l=s.parent,m=s.next,x=s.prev;return l&&(l.firstChild===s?(l.firstChild=m,m&&(m.prev=null)):x&&(x.next=m),l.lastChild===s?(l.lastChild=x,x&&(x.next=null)):m&&(m.prev=x),s.parent=s.next=s.prev=null),s}append(s){const l=this;s.parent&&s.remove();const m=l.lastChild;return m?(m.next=s,s.prev=m,l.lastChild=s):l.lastChild=l.firstChild=s,s.parent=l,s}insert(s,l,m){s.parent&&s.remove();const x=l.parent||this;return m?(l===x.firstChild?x.firstChild=s:l.prev&&(l.prev.next=s),s.prev=l.prev,s.next=l,l.prev=s):(l===x.lastChild?x.lastChild=s:l.next&&(l.next.prev=s),s.next=l.next,s.prev=l,l.next=s),s.parent=x,s}getAll(s){const l=this,m=[];for(let x=l.firstChild;x;x=Hk(x,l))x.name===s&&m.push(x);return m}children(){const s=this,l=[];for(let m=s.firstChild;m;m=m.next)l.push(m);return l}empty(){const s=this;if(s.firstChild){const l=[];for(let x=s.firstChild;x;x=Hk(x,s))l.push(x);let m=l.length;for(;m--;){const x=l[m];x.parent=x.firstChild=x.lastChild=x.next=x.prev=null}}return s.firstChild=s.lastChild=null,s}isEmpty(s,l={},m){var x;const P=this;let Z=P.firstChild;if(yo(P))return!1;if(Z)do{if(Z.type===1){if(Z.attr("data-mce-bogus"))continue;if(s[Z.name]||yo(Z))return!1}if(Z.type===8||Z.type===3&&!ZW(Z)||Z.type===3&&Z.parent&&l[Z.parent.name]&&Qa((x=Z.value)!==null&&x!==void 0?x:"")||m&&m(Z))return!1}while(Z=Hk(Z,P));return!0}walk(s){return Hk(this,null,s)}}const U$=fr.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),W$=n=>M(n.nodeValue)&&n.nodeValue.includes(he),Uk=n=>`${n.length===0?"":`${Ie(n,s=>`[${s}]`).join(",")},`}[data-mce-bogus="all"]`,HW=(n,s)=>s.querySelectorAll(Uk(n)),Y$=n=>document.createTreeWalker(n,NodeFilter.SHOW_COMMENT,s=>W$(s)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),X$=n=>document.createTreeWalker(n,NodeFilter.SHOW_TEXT,s=>{if(W$(s)){const l=s.parentNode;return l&&lt(U$,l.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),UW=n=>Y$(n).nextNode()!==null,WW=n=>X$(n).nextNode()!==null,Wk=(n,s)=>s.querySelector(Uk(n))!==null,G$=(n,s)=>{re(HW(n,s),l=>{const m=Yt.fromDom(l);$l(m,"data-mce-bogus")==="all"?Ks(m):re(n,x=>{Mf(m,x)&&di(m,x)})})},YW=n=>{let s=n.nextNode();for(;s!==null;)s.nodeValue=null,s=n.nextNode()},XW=L(YW,Y$),Uo=L(YW,X$),j$=(n,s)=>{const l=[{condition:ee(Wk,s),action:ee(G$,s)},{condition:UW,action:XW},{condition:WW,action:Uo}];let m=n,x=!1;return re(l,({condition:P,action:Z})=>{P(m)&&(x||(m=n.cloneNode(!0),x=!0),Z(m))}),m},Jo=n=>{const s=ll(n,"[data-mce-bogus]");re(s,l=>{$l(l,"data-mce-bogus")==="all"?Ks(l):sd(l)?(Yi(l,Yt.fromText(Lg)),Ks(l)):$f(l)})},N6=n=>{const s=ll(n,"input");re(s,l=>{di(l,"name")})},cce=(n,s)=>{const l=Nc(n),m=new RegExp(`^(<${l}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${l}>[\r
]*|<br \\/>[\r
]*)$`);return s.replace(m,"")},uce=(n,s)=>{const l=n.getDoc(),m=Rf(Yt.fromDom(n.getBody())),x=Yt.fromTag("div",l);$a(x,"data-mce-bogus","all"),lc(x,{position:"fixed",left:"-9999999px",top:"0"}),Tm(x,s.innerHTML),Jo(x),N6(x);const P=r5(m);Ai(P,x);const Z=Pe(x.dom.innerText);return Ks(x),Z},GW=(n,s,l)=>{let m;return s.format==="raw"?m=fr.trim(Pe(j$(l,n.serializer.getTempAttrs()).innerHTML)):s.format==="text"?m=uce(n,l):s.format==="tree"?m=n.serializer.serialize(l,s):m=cce(n,n.serializer.serialize(l,s)),s.format!=="text"&&!Xi(Yt.fromDom(l))&&M(m)?fr.trim(m):m},fce=(n,s)=>Y.from(n.getBody()).fold(ae(s.format==="tree"?new yu("body",11):""),l=>GW(n,s,l)),jW=fr.makeMap,q$=n=>{const s=[];n=n||{};const l=n.indent,m=jW(n.indent_before||""),x=jW(n.indent_after||""),P=Bg.getEncodeFunc(n.entity_encoding||"raw",n.entities),Z=n.element_format!=="xhtml";return{start:(J,ge,Re)=>{if(l&&m[J]&&s.length>0){const Ge=s[s.length-1];Ge.length>0&&Ge!==`
`&&s.push(`
`)}if(s.push("<",J),ge)for(let Ge=0,qe=ge.length;Ge<qe;Ge++){const ot=ge[Ge];s.push(" ",ot.name,'="',P(ot.value,!0),'"')}if(!Re||Z?s[s.length]=">":s[s.length]=" />",Re&&l&&x[J]&&s.length>0){const Ge=s[s.length-1];Ge.length>0&&Ge!==`
`&&s.push(`
`)}},end:J=>{let ge;s.push("</",J,">"),l&&x[J]&&s.length>0&&(ge=s[s.length-1],ge.length>0&&ge!==`
`&&s.push(`
`))},text:(J,ge)=>{J.length>0&&(s[s.length]=ge?J:P(J))},cdata:J=>{s.push("<![CDATA[",J,"]]>")},comment:J=>{s.push("<!--",J,"-->")},pi:(J,ge)=>{ge?s.push("<?",J," ",P(ge),"?>"):s.push("<?",J,"?>"),l&&s.push(`
`)},doctype:J=>{s.push("<!DOCTYPE",J,">",l?`
`:"")},reset:()=>{s.length=0},getContent:()=>s.join("").replace(/\n$/,"")}},u0=(n={},s=Lm())=>{const l=q$(n);return n.validate="validate"in n?n.validate:!0,{serialize:x=>{const P=n.validate,Z={3:ge=>{var Re;l.text((Re=ge.value)!==null&&Re!==void 0?Re:"",ge.raw)},8:ge=>{var Re;l.comment((Re=ge.value)!==null&&Re!==void 0?Re:"")},7:ge=>{l.pi(ge.name,ge.value)},10:ge=>{var Re;l.doctype((Re=ge.value)!==null&&Re!==void 0?Re:"")},4:ge=>{var Re;l.cdata((Re=ge.value)!==null&&Re!==void 0?Re:"")},11:ge=>{let Re=ge;if(Re=Re.firstChild)do J(Re);while(Re=Re.next)}};l.reset();const J=ge=>{var Re;const Ge=Z[ge.type];if(Ge)Ge(ge);else{const qe=ge.name,ot=qe in s.getVoidElements();let Et=ge.attributes;if(P&&Et&&Et.length>1){const Vt=[];Vt.map={};const kt=s.getElementRule(ge.name);if(kt){for(let It=0,cn=kt.attributesOrder.length;It<cn;It++){const xn=kt.attributesOrder[It];if(xn in Et.map){const bn=Et.map[xn];Vt.map[xn]=bn,Vt.push({name:xn,value:bn})}}for(let It=0,cn=Et.length;It<cn;It++){const xn=Et[It].name;if(!(xn in Vt.map)){const bn=Et.map[xn];Vt.map[xn]=bn,Vt.push({name:xn,value:bn})}}Et=Vt}}if(l.start(qe,Et,ot),$c(qe))M(ge.value)&&l.text(ge.value,!0),l.end(qe);else if(!ot){let Vt=ge.firstChild;if(Vt){(qe==="pre"||qe==="textarea")&&Vt.type===3&&((Re=Vt.value)===null||Re===void 0?void 0:Re[0])===`
`&&l.text(`
`,!0);do J(Vt);while(Vt=Vt.next)}l.end(qe)}}};return x.type===1&&!n.inner?J(x):x.type===3?Z[3](x):Z[11](x),l.getContent()}}},Eo=new Set;re(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],s=>{Eo.add(s)});const K$=["font","text-decoration","text-emphasis"],B6=(n,s)=>Gt(n.parseStyle(n.getAttrib(s,"style"))),qW=n=>Eo.has(n),L3=(n,s)=>Xe(B6(n,s),l=>!qW(l)),J$=n=>se(n,s=>_e(K$,l=>wr(s,l))),KW=(n,s,l)=>{const m=B6(n,s),x=B6(n,l),P=Z=>{var J,ge;const Re=(J=n.getStyle(s,Z))!==null&&J!==void 0?J:"",Ge=(ge=n.getStyle(l,Z))!==null&&ge!==void 0?ge:"";return St(Re)&&St(Ge)&&Re!==Ge};return _e(m,Z=>{const J=ge=>_e(ge,Re=>Re===Z);if(!J(x)&&J(K$)){const ge=J$(x);return _e(ge,P)}else return P(Z)})},eL=(n,s,l)=>Y.from(l.container()).filter(lr).exists(m=>{const x=n?0:-1;return s(m.data.charAt(l.offset()+x))}),Q6=ee(eL,!0,K1),Yk=ee(eL,!1,K1),JW=n=>{const s=n.container();return lr(s)&&(s.data.length===0||Ce(s.data)&&xv.isBookmarkNode(s.parentNode))},Lb=(n,s)=>l=>cb(n?0:-1,l).filter(s).isSome(),eY=n=>Nl(n)&&Ti(Yt.fromDom(n),"display")==="block",tL=n=>ws(n)&&!Mm(n),tY=Lb(!0,eY),nY=Lb(!1,eY),I3=Lb(!0,ri),sx=Lb(!1,ri),nL=Lb(!0,tf),as=Lb(!1,tf),kv=Lb(!0,tL),qm=Lb(!1,tL),rL=n=>n.slice(0,-1),oL=(n,s,l)=>ic(s,n)?rL(by(n,m=>l(m)||Gs(m,s))):[],F6=(n,s)=>oL(n,s,ne),ip=(n,s)=>[n].concat(F6(n,s)),Xk=(n,s,l)=>dd(n,s,l,JW),rY=n=>s=>n.isBlock(Vs(s)),V6=(n,s,l)=>ce(ip(Yt.fromDom(s.container()),n),rY(l)),sL=(n,s,l,m)=>Xk(n,s.dom,l).forall(x=>V6(s,l,m).fold(()=>!qd(x,l,s.dom),P=>!qd(x,l,s.dom)&&ic(P,Yt.fromDom(x.container())))),aL=(n,s,l,m)=>V6(s,l,m).fold(()=>Xk(n,s.dom,l).forall(x=>!qd(x,l,s.dom)),x=>Xk(n,x.dom,l).isNone()),z6=ee(aL,!1),iL=ee(aL,!0),oY=ee(sL,!1),sY=ee(sL,!0),aY=n=>D2(n).exists(sd),Gk=(n,s,l,m)=>{const x=se(ip(Yt.fromDom(l.container()),s),Z=>m.isBlock(Vs(Z))),P=yt(x).getOr(s);return Ql(n,P.dom,l).filter(aY)},N3=(n,s,l)=>D2(s).exists(sd)||Gk(!0,n,s,l).isSome(),B3=(n,s,l)=>G7(s).exists(sd)||Gk(!1,n,s,l).isSome(),iY=ee(Gk,!1),lY=ee(Gk,!0),lL=n=>Nn.isTextPosition(n)&&!n.isAtStart()&&!n.isAtEnd(),cL=(n,s,l)=>{const m=se(ip(Yt.fromDom(s.container()),n),x=>l.isBlock(Vs(x)));return yt(m).getOr(n)},uL=(n,s,l)=>lL(s)?Yk(s):Yk(s)||gu(cL(n,s,l).dom,s).exists(Yk),fL=(n,s,l)=>lL(s)?Q6(s):Q6(s)||Qc(cL(n,s,l).dom,s).exists(Q6),cY=n=>Ve(["pre","pre-wrap"],n),Z6=n=>D2(n).bind(s=>Au(s,Dl)).exists(s=>cY(Ti(s,"white-space"))),dL=(n,s)=>gu(n.dom,s).isNone(),uY=(n,s)=>Qc(n.dom,s).isNone(),fY=(n,s,l)=>dL(n,s)||uY(n,s)||z6(n,s,l)||iL(n,s,l)||B3(n,s,l)||N3(n,s,l),Ib=n=>B(n)&&ws(n)&&Gg(n),hL=(n,s)=>l=>Ib(new fa(l,n)[s]()),mL=(n,s)=>{const l=Qc(n.dom,s).getOr(s),m=hL(n.dom,"next");return s.isAtEnd()&&(m(s.container())||m(l.container()))},dY=(n,s)=>{const l=gu(n.dom,s).getOr(s),m=hL(n.dom,"prev");return s.isAtStart()&&(m(s.container())||m(l.container()))},gL=(n,s,l)=>Z6(s)?!1:fY(n,s,l)||uL(n,s,l)||fL(n,s,l),ax=(n,s,l)=>Z6(s)?!1:z6(n,s,l)||oY(n,s,l)||B3(n,s,l)||uL(n,s,l)||dY(n,s),pL=n=>{const s=n.container(),l=n.offset();return lr(s)&&l<s.data.length?Nn(s,l+1):n},ix=(n,s,l)=>Z6(s)?!1:iL(n,s,l)||sY(n,s,l)||N3(n,s,l)||fL(n,s,l)||mL(n,s),jk=(n,s,l)=>ax(n,s,l)||ix(n,pL(s),l),bu=(n,s)=>Q2(n.charAt(s)),vL=(n,s)=>K1(n.charAt(s)),hY=n=>{const s=n.container();return lr(s)&&sr(s.data,zs)},mY=n=>{const s=n.split("");return Ie(s,(l,m)=>Q2(l)&&m>0&&m<s.length-1&&tp(s[m-1])&&tp(s[m+1])?" ":l).join("")},yL=(n,s,l,m)=>{const x=s.data,P=Nn(s,0);return!l&&bu(x,0)&&!jk(n,P,m)?(s.data=" "+x.slice(1),!0):l&&vL(x,0)&&ax(n,P,m)?(s.data=zs+x.slice(1),!0):!1},gY=n=>{const s=n.data,l=mY(s);return l!==s?(n.data=l,!0):!1},f0=(n,s,l,m)=>{const x=s.data,P=Nn(s,x.length-1);return!l&&bu(x,x.length-1)&&!jk(n,P,m)?(s.data=x.slice(0,-1)+" ",!0):l&&vL(x,x.length-1)&&ix(n,P,m)?(s.data=x.slice(0,-1)+zs,!0):!1},pY=(n,s,l)=>{const m=s.container();if(!lr(m))return Y.none();if(hY(s)){const x=yL(n,m,!1,l)||gY(m)||f0(n,m,!1,l);return Ho(x,s)}else if(jk(n,s,l)){const x=yL(n,m,!0,l)||f0(n,m,!0,l);return Ho(x,s)}else return Y.none()},vY=n=>{const s=Yt.fromDom(n.getBody());n.selection.isCollapsed()&&pY(s,Nn.fromRangeStart(n.selection.getRng()),n.schema).each(l=>{n.selection.setRng(l.toRange())})},ai=(n,s,l,m)=>{if(l===0)return;const x=Yt.fromDom(n),P=hi(x,Re=>m.isBlock(Vs(Re))).getOr(x),Z=n.data.slice(s,s+l),J=s+l>=n.data.length&&ix(P,Nn(n,n.data.length),m),ge=s===0&&ax(P,Nn(n,0),m);n.replaceData(s,l,tl(Z,4,ge,J))},Nb=(n,s,l)=>{const m=n.data.slice(s),x=m.length-Fe(m).length;ai(n,s,x,l)},bL=(n,s,l)=>{const m=n.data.slice(0,s),x=m.length-Ee(m).length;ai(n,s-x,x,l)},Fl=(n,s,l,m,x=!0)=>{const P=Ee(n.data).length,Z=x?n:s,J=x?s:n;return x?Z.appendData(J.data):Z.insertData(0,J.data),Ks(Yt.fromDom(J)),m&&Nb(Z,P,l),Z},yY=(n,s)=>{const l=n.container(),m=n.offset();return!Nn.isTextPosition(n)&&l===s.parentNode&&m>Nn.before(s).offset()},bY=(n,s)=>yY(s,n)?Nn(s.container(),s.offset()-1):s,Av=n=>lr(n)?Nn(n,0):Nn.before(n),la=n=>lr(n)?Nn(n,n.data.length):Nn.after(n),H6=n=>go(n.previousSibling)?Y.some(la(n.previousSibling)):n.previousSibling?hd(n.previousSibling):Y.none(),U6=n=>go(n.nextSibling)?Y.some(Av(n.nextSibling)):n.nextSibling?eu(n.nextSibling):Y.none(),OY=(n,s)=>Y.from(s.previousSibling?s.previousSibling:s.parentNode).bind(l=>gu(n,Nn.before(l))).orThunk(()=>Qc(n,Nn.after(s))),xY=(n,s)=>Qc(n,Nn.after(s)).orThunk(()=>gu(n,Nn.before(s))),SY=(n,s)=>H6(s).orThunk(()=>U6(s)).orThunk(()=>OY(n,s)),zf=(n,s)=>U6(s).orThunk(()=>H6(s)).orThunk(()=>xY(n,s)),Km=(n,s,l)=>n?zf(s,l):SY(s,l),wY=(n,s,l)=>Km(n,s,l).map(ee(bY,l)),qk=(n,s,l)=>{l.fold(()=>{n.focus()},m=>{n.selection.setRng(m.toRange(),s)})},W6=n=>s=>s.dom===n,CY=(n,s)=>s&&lt(n.schema.getBlockElements(),Vs(s)),TY=(n,s)=>{if(na(n)){const l=Yt.fromHtml('<br data-mce-bogus="1">');return s?re(il(n),m=>{Sb(m)||Ks(m)}):Ah(n),Ai(n,l),Y.some(Nn.before(l.dom))}else return Y.none()},Q3=(n,s,l,m)=>{const x=ju(n).filter(Ui),P=Gp(n).filter(Ui);return Ks(n),Cl(x,P,s,(Z,J,ge)=>{const Re=Z.dom,Ge=J.dom,qe=Re.data.length;return Fl(Re,Ge,l,m),ge.container()===Ge?Nn(Re,qe):ge}).orThunk(()=>(m&&(x.each(Z=>bL(Z.dom,Z.dom.length,l)),P.each(Z=>Nb(Z.dom,0,l))),s))},Kk=(n,s)=>lt(n.schema.getTextInlineElements(),Vs(s)),Pv=(n,s,l,m=!0,x=!1)=>{const P=wY(s,n.getBody(),l.dom),Z=hi(l,ee(CY,n),W6(n.getBody())),J=Q3(l,P,n.schema,Kk(n,l));n.dom.isEmpty(n.getBody())?(n.setContent(""),n.selection.setCursorLocation()):Z.bind(ge=>TY(ge,x)).fold(()=>{m&&qk(n,s,J)},ge=>{m&&qk(n,s,Y.some(ge))})},kY=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Jm=n=>kY.test(n),Bb=(n,s)=>Gu(Yt.fromDom(s),w7(n))&&!As(n.schema,s)&&n.dom.isEditable(s),OL=n=>{var s;return La.DOM.getStyle(n,"direction",!0)==="rtl"||Jm((s=n.textContent)!==null&&s!==void 0?s:"")},nh=(n,s,l)=>se(La.DOM.getParents(l.container(),"*",s),n),Hh=(n,s,l)=>{const m=nh(n,s,l);return Y.from(m[m.length-1])},Uh=(n,s,l)=>{const m=Vm(s,n),x=Vm(l,n);return B(m)&&m===x},AY=n=>gn(n)||An(n),$s=(n,s)=>{const l=s.container(),m=s.offset();return n?vt(l)?lr(l.nextSibling)?Nn(l.nextSibling,0):Nn.after(l):gn(s)?Nn(l,m+1):s:vt(l)?lr(l.previousSibling)?Nn(l.previousSibling,l.previousSibling.data.length):Nn.before(l):An(s)?Nn(l,m-1):s},Qb=ee($s,!0),F3=ee($s,!1),Y6=(n,s)=>{const l=m=>m.stopImmediatePropagation();n.on("beforeinput input",l,!0),n.getDoc().execCommand(s),n.off("beforeinput input",l)},X6=n=>{n.execCommand("delete")},V3=n=>Y6(n,"Delete"),PY=n=>Y6(n,"ForwardDelete"),G6=n=>s=>Fa(lu(s),n,Gs),MY=n=>Mn(n)||ad(n),z3=(n,s)=>ic(n,s)?Au(s,MY,G6(n)):Y.none(),Jk=(n,s=!0)=>{n.dom.isEmpty(n.getBody())&&n.setContent("",{no_selection:!s})},e4=(n,s,l)=>Va(eu(l),hd(l),(m,x)=>{const P=$s(!0,m),Z=$s(!1,x),J=$s(!1,s);return n?Qc(l,J).exists(ge=>ge.isEqual(Z)&&s.isEqual(P)):gu(l,J).exists(ge=>ge.isEqual(P)&&s.isEqual(Z))}).getOr(!0),j6=n=>(WS(n)?ju(n):Pc(n)).bind(j6).orThunk(()=>Y.some(n)),Z3=(n,s,l,m=!0)=>{var x;s.deleteContents();const P=j6(l).getOr(l),Z=Yt.fromDom((x=n.dom.getParent(P.dom,n.dom.isBlock))!==null&&x!==void 0?x:l.dom);if(Z.dom===n.getBody()?Jk(n,m):na(Z)&&(D(Z),m&&n.selection.setCursorLocation(Z.dom,0)),!Gs(l,Z)){const J=Fa(lu(Z),l)?[]:QO(Z);re(J.concat(il(l)),ge=>{!Gs(ge,Z)&&!ic(ge,Z)&&na(ge)&&Ks(ge)})}},EY=(n,s,l)=>hi(n,s,l).isSome(),_Y=(n,s)=>Sy(n,s).isSome(),xL=(n,s)=>Xl(n,s).isSome(),RY=n=>s=>Gs(n,s),q6=n=>ll(n,"td,th"),K6=(n,s)=>Hm(Yt.fromDom(n),s),DY=n=>Va(n.startTable,n.endTable,(s,l)=>{const m=xL(s,P=>Gs(P,l)),x=xL(l,P=>Gs(P,s));return!m&&!x?n:{...n,startTable:m?Y.none():n.startTable,endTable:x?Y.none():n.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(n),$Y=n=>DY(n),SL=(n,s)=>{const l=K6(n.startContainer,s),m=K6(n.endContainer,s),x=l.isSome(),P=m.isSome(),Z=Va(l,m,Gs).getOr(!1);return $Y({startTable:l,endTable:m,isStartInTable:x,isEndInTable:P,isSameTable:Z,isMultiTable:!Z&&x&&P})},t4=(n,s)=>({start:n,end:s}),LY=(n,s,l)=>({rng:n,table:s,cells:l}),H3=jd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),U3=(n,s)=>Df(Yt.fromDom(n),"td,th",s),wL=n=>!Gs(n.start,n.end),J6=(n,s)=>Hm(n.start,s).bind(l=>Hm(n.end,s).bind(m=>Ho(Gs(l,m),l))),vd=(n,s)=>!wL(n)&&J6(n,s).exists(l=>{const m=l.dom.rows;return m.length===1&&m[0].cells.length===1}),IY=(n,s)=>{const l=U3(n.startContainer,s),m=U3(n.endContainer,s);return Va(l,m,t4)},CL=n=>s=>Hm(s,n).bind(l=>ft(q6(l)).map(m=>t4(s,m))),eM=n=>s=>Hm(s,n).bind(l=>yt(q6(l)).map(m=>t4(m,s))),W3=n=>s=>J6(s,n).map(l=>LY(s,l,q6(l))),tM=(n,s,l,m)=>{if(l.collapsed||!n.forall(wL))return Y.none();if(s.isSameTable){const x=n.bind(W3(m));return Y.some({start:x,end:x})}else{const x=U3(l.startContainer,m),P=U3(l.endContainer,m),Z=x.bind(CL(m)).bind(W3(m)),J=P.bind(eM(m)).bind(W3(m));return Y.some({start:Z,end:J})}},nM=(n,s)=>ke(n,l=>Gs(l,s)),rM=n=>Va(nM(n.cells,n.rng.start),nM(n.cells,n.rng.end),(s,l)=>n.cells.slice(s,l+1)),NY=(n,s,l)=>n.exists(m=>vd(m,l)&&h3(m.start,s)),n4=(n,s)=>{const{startTable:l,endTable:m}=s,x=n.cloneRange();return l.each(P=>x.setStartAfter(P.dom)),m.each(P=>x.setEndBefore(P.dom)),x},TL=(n,s,l,m)=>tM(n,s,l,m).bind(({start:x,end:P})=>x.or(P)).bind(x=>{const{isSameTable:P}=s,Z=rM(x).getOr([]);if(P&&x.cells.length===Z.length)return Y.some(H3.fullTable(x.table));if(Z.length>0){if(P)return Y.some(H3.partialTable(Z,Y.none()));{const J=n4(l,s);return Y.some(H3.partialTable(Z,Y.some({...s,rng:J})))}}else return Y.none()}),Wh=(n,s,l,m)=>tM(n,s,l,m).bind(({start:x,end:P})=>{const Z=x.bind(rM).getOr([]),J=P.bind(rM).getOr([]);if(Z.length>0&&J.length>0){const ge=n4(l,s);return Y.some(H3.multiTable(Z,J,ge))}else return Y.none()}),BY=(n,s)=>{const l=RY(n),m=IY(s,l),x=SL(s,l);return NY(m,s,l)?m.map(P=>H3.singleCellTable(s,P.start)):x.isMultiTable?Wh(m,x,s,l):TL(m,x,s,l)},kL=n=>re(n,s=>{di(s,"contenteditable"),D(s)}),dce=(n,s)=>Y.from(n.dom.getParent(s,n.dom.isBlock)).map(Yt.fromDom),oM=(n,s,l)=>{l.each(m=>{s?Ks(m):(D(m),n.selection.setCursorLocation(m.dom,0))})},sM=(n,s,l,m)=>{const x=l.cloneRange();m?(x.setStart(l.startContainer,l.startOffset),x.setEndAfter(s.dom.lastChild)):(x.setStartBefore(s.dom.firstChild),x.setEnd(l.endContainer,l.endOffset)),Zf(n,x,s,!1).each(P=>P())},Fb=n=>{const s=J1(n),l=Yt.fromDom(n.selection.getNode());rv(l.dom)&&na(l)?n.selection.setCursorLocation(l.dom,0):n.selection.collapse(!0),s.length>1&&_e(s,m=>Gs(m,l))&&$a(l,"data-mce-selected","1")},AL=(n,s,l)=>Y.some(()=>{const m=n.selection.getRng(),x=l.bind(({rng:P,isStartInTable:Z})=>{const J=dce(n,Z?P.endContainer:P.startContainer);P.deleteContents(),oM(n,Z,J.filter(na));const ge=Z?s[0]:s[s.length-1];return sM(n,ge,m,Z),na(ge)?Y.none():Y.some(Z?s.slice(1):s.slice(0,-1))}).getOr(s);kL(x),Fb(n)}),lx=(n,s,l,m)=>Y.some(()=>{const x=n.selection.getRng(),P=s[0],Z=l[l.length-1];sM(n,P,x,!0),sM(n,Z,x,!1);const J=na(P)?s:s.slice(1),ge=na(Z)?l:l.slice(0,-1);kL(J.concat(ge)),m.deleteContents(),Fb(n)}),Zf=(n,s,l,m=!0)=>Y.some(()=>{Z3(n,s,l,m)}),Y3=(n,s)=>Y.some(()=>Pv(n,!1,s)),Ra=(n,s,l)=>BY(s,l).bind(m=>m.fold(ee(Zf,n),ee(Y3,n),ee(AL,n),ee(lx,n))),X3=(n,s)=>cx(n,s),PL=(n,s,l,m)=>G3(s,m).fold(()=>Ra(n,s,l),x=>X3(n,x)),ML=(n,s,l)=>{const m=Yt.fromDom(n.getBody()),x=n.selection.getRng();return l.length!==0?AL(n,l,Y.none()):PL(n,m,x,s)},r4=(n,s)=>ce(ip(s,n),jc),G3=(n,s)=>ce(ip(s,n),Tu("caption")),aM=(n,s,l,m,x)=>Zm(l,n.getBody(),x).bind(P=>r4(s,Yt.fromDom(P.getNode())).bind(Z=>Gs(Z,m)?Y.none():Y.some(ie))),cx=(n,s)=>Y.some(()=>{D(s),n.selection.setCursorLocation(s.dom,0)}),o4=(n,s,l,m)=>eu(n.dom).bind(x=>hd(n.dom).map(P=>s?l.isEqual(x)&&m.isEqual(P):l.isEqual(P)&&m.isEqual(x))).getOr(!0),iM=(n,s)=>cx(n,s),EL=(n,s,l)=>G3(n,Yt.fromDom(l.getNode())).fold(()=>Y.some(ie),m=>Ho(!Gs(m,s),ie)),_L=(n,s,l,m,x)=>Zm(l,n.getBody(),x).fold(()=>Y.some(ie),P=>o4(m,l,x,P)?iM(n,m):EL(s,m,P)),RL=(n,s,l,m)=>{const x=Nn.fromRangeStart(n.selection.getRng());return r4(l,m).bind(P=>na(P)?cx(n,P):aM(n,l,s,P,x))},DL=(n,s,l,m)=>{const x=Nn.fromRangeStart(n.selection.getRng());return na(m)?cx(n,m):_L(n,l,s,m,x)},lM=(n,s)=>n?nL(s):as(s),ux=(n,s)=>{const l=Nn.fromRangeStart(n.selection.getRng());return lM(s,l)||Ql(s,n.getBody(),l).exists(m=>lM(s,m))},$L=(n,s,l)=>{const m=Yt.fromDom(n.getBody());return G3(m,l).fold(()=>RL(n,s,m,l).orThunk(()=>Ho(ux(n,s),ie)),x=>DL(n,s,m,x))},j3=(n,s)=>{const l=Yt.fromDom(n.selection.getStart(!0)),m=J1(n);return n.selection.isCollapsed()&&m.length===0?$L(n,s,l):ML(n,l,m)},Vb=(n,s)=>{let l=s;for(;l&&l!==n;){if(jl(l)||ws(l))return l;l=l.parentNode}return null},QY=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],LL=fr.each,s4=n=>{const s=n.dom,l=new Set(n.serializer.getTempAttrs()),m=(P,Z)=>{if(P.nodeName!==Z.nodeName||P.nodeType!==Z.nodeType)return!1;const J=Re=>{const Ge={};return LL(s.getAttribs(Re),qe=>{const ot=qe.nodeName.toLowerCase();ot!=="style"&&!x(ot)&&(Ge[ot]=s.getAttrib(Re,ot))}),Ge},ge=(Re,Ge)=>{for(const qe in Re)if(lt(Re,qe)){const ot=Ge[qe];if(U(ot)||Re[qe]!==ot)return!1;delete Ge[qe]}for(const qe in Ge)if(lt(Ge,qe))return!1;return!0};return Xr(P)&&Xr(Z)&&(!ge(J(P),J(Z))||!ge(s.parseStyle(s.getAttrib(P,"style")),s.parseStyle(s.getAttrib(Z,"style"))))?!1:!df(P)&&!df(Z)},x=P=>_e(QY,Z=>wr(P,Z))||l.has(P);return{compare:m,isAttributeInternal:x}},cM=n=>["h1","h2","h3","h4","h5","h6"].includes(n.name),a4=n=>n.name==="summary",IL=(n,s)=>{let l=n;for(;l=l.walk();)s(l)},uM=(n,s,l,m)=>{const x=l.name;for(let P=0,Z=n.length;P<Z;P++){const J=n[P];if(J.name===x){const ge=m.nodes[x];ge?ge.nodes.push(l):m.nodes[x]={filter:J,nodes:[l]}}}if(l.attributes)for(let P=0,Z=s.length;P<Z;P++){const J=s[P],ge=J.name;if(ge in l.attributes.map){const Re=m.attributes[ge];Re?Re.nodes.push(l):m.attributes[ge]={filter:J,nodes:[l]}}}},NL=(n,s,l)=>{const m={nodes:{},attributes:{}};return l.firstChild&&IL(l,x=>{uM(n,s,x,m)}),m},fM=(n,s)=>{const l=(m,x)=>{Bt(m,P=>{const Z=tt(P.nodes);re(P.filter.callbacks,J=>{for(let ge=Z.length-1;ge>=0;ge--){const Re=Z[ge];(!(x?Re.attr(P.filter.name)!==void 0:Re.name===P.filter.name)||F(Re.parent))&&Z.splice(ge,1)}Z.length>0&&J(Z,P.filter.name,s)})})};l(n.nodes,!1),l(n.attributes,!0)},dM=(n,s,l,m={})=>{const x=NL(n,s,l);fM(x,m)},i4=(n,s,l,m)=>{if((n.pad_empty_with_br||s.insert)&&l(m)){const P=new yu("br",1);s.insert&&P.attr("data-mce-bogus","1"),m.empty().append(P)}else m.empty().append(new yu("#text",3)).value=zs},BL=n=>{var s;return hM(n,"#text")&&((s=n==null?void 0:n.firstChild)===null||s===void 0?void 0:s.value)===zs},hM=(n,s)=>{const l=n==null?void 0:n.firstChild;return B(l)&&l===n.lastChild&&l.name===s},QL=(n,s)=>{const l=n.getElementRule(s.name);return(l==null?void 0:l.paddEmpty)===!0},fx=(n,s,l,m)=>m.isEmpty(s,l,x=>QL(n,x)),mM=(n,s)=>B(n)&&(s(n)||n.name==="br"),FL=n=>{let s;for(let l=n;l;l=l.parent){const m=l.attr("contenteditable");if(m==="false")break;m==="true"&&(s=l)}return Y.from(s)},l4=(n,s,l=n.parent)=>{if(s.getSpecialElements()[n.name])n.empty().remove();else{const m=n.children();for(const x of m)l&&!s.isValidChild(l.name,x.name)&&l4(x,s,l);n.unwrap()}},c4=(n,s,l,m=ie)=>{const x=s.getTextBlockElements(),P=s.getNonEmptyElements(),Z=s.getWhitespaceElements(),J=fr.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),ge=new Set,Re=Ge=>Ge!==l&&!J[Ge.name];for(let Ge=0;Ge<n.length;Ge++){const qe=n[Ge];let ot,Et,Vt;if(!qe.parent||ge.has(qe))continue;if(x[qe.name]&&qe.parent.name==="li"){let It=qe.next;for(;It&&x[It.name];){It.name="li",ge.add(It),qe.parent.insert(It,qe.parent);It=It.next}qe.unwrap();continue}const kt=[qe];for(ot=qe.parent;ot&&!s.isValidChild(ot.name,qe.name)&&Re(ot);ot=ot.parent)kt.push(ot);if(ot&&kt.length>1)if(u4(s,qe,ot))l4(qe,s);else{kt.reverse(),Et=kt[0].clone(),m(Et);let It=Et;for(let cn=0;cn<kt.length-1;cn++){s.isValidChild(It.name,kt[cn].name)&&cn>0?(Vt=kt[cn].clone(),m(Vt),It.append(Vt)):Vt=It;for(let xn=kt[cn].firstChild;xn&&xn!==kt[cn+1];){const bn=xn.next;Vt.append(xn),xn=bn}It=Vt}fx(s,P,Z,Et)?ot.insert(qe,kt[0],!0):(ot.insert(Et,kt[0],!0),ot.insert(qe,Et)),ot=kt[0],(fx(s,P,Z,ot)||hM(ot,"br"))&&ot.empty().remove()}else if(qe.parent){if(qe.name==="li"){let It=qe.prev;if(It&&(It.name==="ul"||It.name==="ol")){It.append(qe);continue}if(It=qe.next,It&&(It.name==="ul"||It.name==="ol")&&It.firstChild){It.insert(qe,It.firstChild,!0);continue}const cn=new yu("ul",1);m(cn),qe.wrap(cn);continue}if(s.isValidChild(qe.parent.name,"div")&&s.isValidChild("div",qe.name)){const It=new yu("div",1);m(It),qe.wrap(It)}else l4(qe,s)}}},VL=(n,s)=>{let l=n;for(;l;){if(l.name===s)return!0;l=l.parent}return!1},u4=(n,s,l=s.parent)=>l?n.children[s.name]&&!n.isValidChild(l.name,s.name)||s.name==="a"&&VL(l,"a")?!0:a4(l)&&cM(s)?!((l==null?void 0:l.firstChild)===s&&(l==null?void 0:l.lastChild)===s):!1:!1,zL=(n,s,l,m)=>{const x=document.createRange();return x.setStart(n,s),x.setEnd(l,m),x},gM=n=>{const s=Nn.fromRangeStart(n),l=Nn.fromRangeEnd(n),m=n.commonAncestorContainer;return Ql(!1,m,l).map(x=>!qd(s,l,m)&&qd(s,x,m)?zL(s.container(),s.offset(),x.container(),x.offset()):n).getOr(n)},dx=n=>n.collapsed?n:gM(n),f4=n=>B(n.firstChild)&&n.firstChild===n.lastChild,pM=n=>n.name==="br"||n.value===zs,ZL=(n,s)=>n.getBlockElements()[s.name]&&f4(s)&&pM(s.firstChild),d4=(n,s)=>{const l=n.getNonEmptyElements();return B(s)&&(s.isEmpty(l)||ZL(n,s))},vM=(n,s)=>{let l=s.firstChild,m=s.lastChild;return l&&l.name==="meta"&&(l=l.next),m&&m.attr("id")==="mce_marker"&&(m=m.prev),d4(n,m)&&(m=m==null?void 0:m.prev),!l||l!==m?!1:l.name==="ul"||l.name==="ol"},q3=n=>{var s,l;const m=n.firstChild,x=n.lastChild;return m&&m.nodeName==="META"&&((s=m.parentNode)===null||s===void 0||s.removeChild(m)),x&&x.id==="mce_marker"&&((l=x.parentNode)===null||l===void 0||l.removeChild(x)),n},yM=(n,s,l)=>{const m=s.serialize(l),x=n.createFragment(m);return q3(x)},HL=n=>{var s;return se((s=n==null?void 0:n.childNodes)!==null&&s!==void 0?s:[],l=>l.nodeName==="LI")},hx=n=>n.data===zs||ia(n),bM=n=>B(n==null?void 0:n.firstChild)&&n.firstChild===n.lastChild&&hx(n.firstChild),OM=n=>!n.firstChild||bM(n),K3=n=>n.length>0&&OM(n[n.length-1])?n.slice(0,-1):n,lp=(n,s)=>{const l=n.getParent(s,n.isBlock);return l&&l.nodeName==="LI"?l:null},UL=(n,s)=>!!lp(n,s),FY=(n,s)=>{const l=s.cloneRange(),m=s.cloneRange();return l.setStartBefore(n),m.setEndAfter(n),[l.cloneContents(),m.cloneContents()]},WL=(n,s)=>{const l=Nn.before(n),x=Kd(s).next(l);return x?x.toRange():null},xM=(n,s)=>{const l=Nn.after(n),x=Kd(s).prev(l);return x?x.toRange():null},VY=(n,s,l,m)=>{const x=FY(n,m),P=n.parentNode;return P&&(P.insertBefore(x[0],n),fr.each(s,Z=>{P.insertBefore(Z,n)}),P.insertBefore(x[1],n),P.removeChild(n)),xM(s[s.length-1],l)},hce=(n,s,l)=>{const m=n.parentNode;return m&&fr.each(s,x=>{m.insertBefore(x,n)}),WL(n,l)},zY=(n,s,l,m)=>(m.insertAfter(s.reverse(),n),xM(s[0],l)),SM=(n,s,l,m)=>{const x=yM(s,n,m),P=lp(s,l.startContainer),Z=K3(HL(x.firstChild)),J=1,ge=2,Re=s.getRoot(),Ge=qe=>{const ot=Nn.fromRangeStart(l),Et=Kd(s.getRoot()),Vt=qe===J?Et.prev(ot):Et.next(ot),kt=Vt==null?void 0:Vt.getNode();return kt?lp(s,kt)!==P:!0};return P?Ge(J)?hce(P,Z,Re):Ge(ge)?zY(P,Z,Re,s):VY(P,Z,Re,l):null},eg=["pre"],wM=(n,s,l,m)=>{var x;const P=s.firstChild,Z=s.lastChild,J=Z.attr("data-mce-type")==="bookmark"?Z.prev:Z,ge=P===J,Re=Ve(eg,P.name);if(ge&&Re){const Ge=P.attr("contenteditable")!=="false",qe=((x=n.getParent(l,n.isBlock))===null||x===void 0?void 0:x.nodeName.toLowerCase())===P.name,ot=Y.from(Vb(m,l)).forall(jl);return Ge&&qe&&ot}else return!1},mx=rv,CM=(n,s,l)=>{if(B(l)){const m=n.getParent(s.endContainer,mx);return l===m&&h3(Yt.fromDom(l),s)}else return!1},ZY=(n,s,l)=>{var m;if(l.getAttribute("data-mce-bogus")==="all")(m=l.parentNode)===null||m===void 0||m.insertBefore(n.dom.createFragment(s),l);else{const x=l.firstChild,P=l.lastChild;!x||x===P&&x.nodeName==="BR"?n.dom.setHTML(l,s):n.selection.setContent(s,{no_events:!0})}},YL=(n,s,l)=>{Y.from(n.getParent(s,"td,th")).map(Yt.fromDom).each(m=>G(m,l))},HY=(n,s)=>{const l=n.schema.getTextInlineElements(),m=n.dom;if(s){const x=n.getBody(),P=s4(n);fr.each(m.select("*[data-mce-fragment]"),Z=>{if(B(l[Z.nodeName.toLowerCase()])&&L3(m,Z)){for(let ge=Z.parentElement;B(ge)&&ge!==x&&!KW(m,Z,ge);ge=ge.parentElement)if(P.compare(ge,Z)){m.remove(Z,!0);break}}})}},XL=n=>{let s=n;for(;s=s.walk();)s.type===1&&s.attr("data-mce-fragment","1")},TM=n=>{fr.each(n.getElementsByTagName("*"),s=>{s.removeAttribute("data-mce-fragment")})},UY=n=>!!n.getAttribute("data-mce-fragment"),GL=(n,s)=>B(s)&&!n.schema.getVoidElements()[s.nodeName],WY=(n,s)=>{var l,m,x;let P;const Z=n.dom,J=n.selection;if(!s)return;J.scrollIntoView(s);const ge=Vb(n.getBody(),s);if(ge&&Z.getContentEditable(ge)==="false"){Z.remove(s),J.select(ge);return}let Re=Z.createRng();const Ge=s.previousSibling;if(lr(Ge)){Re.setStart(Ge,(m=(l=Ge.nodeValue)===null||l===void 0?void 0:l.length)!==null&&m!==void 0?m:0);const Et=s.nextSibling;lr(Et)&&(Ge.appendData(Et.data),(x=Et.parentNode)===null||x===void 0||x.removeChild(Et))}else Re.setStartBefore(s),Re.setEndBefore(s);const qe=Et=>{let Vt=Nn.fromRangeStart(Et);return Vt=Kd(n.getBody()).next(Vt),Vt==null?void 0:Vt.toRange()},ot=Z.getParent(s,Z.isBlock);if(Z.remove(s),ot&&Z.isEmpty(ot)){const Et=mx(ot);Ah(Yt.fromDom(ot)),Re.setStart(ot,0),Re.setEnd(ot,0),!Et&&!UY(ot)&&(P=qe(Re))?(Re=P,Z.remove(ot)):Z.add(ot,Z.create("br",Et?{}:{"data-mce-bogus":"1"}))}J.setRng(Re)},J3=n=>{const s=n.dom,l=dx(n.selection.getRng());n.selection.setRng(l);const m=s.getParent(l.startContainer,mx);CM(s,l,m)?Zf(n,l,Yt.fromDom(m)):l.startContainer===l.endContainer&&l.endOffset-l.startOffset===1&&lr(l.startContainer.childNodes[l.startOffset])?l.deleteContents():n.getDoc().execCommand("Delete",!1)},jL=n=>{for(let s=n;s;s=s.walk())if(s.attr("id")==="mce_marker")return Y.some(s);return Y.none()},YY=(n,s,l)=>{var m;return _e(l.children(),cM)&&((m=n.getParent(s,n.isBlock))===null||m===void 0?void 0:m.nodeName)==="SUMMARY"},qL=(n,s,l)=>{var m,x;const P=n.selection,Z=n.dom,J=n.parser,ge=l.merge,Re=u0({validate:!0},n.schema),Ge='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';l.preserve_zwsp||(s=Pe(s)),s.indexOf("{$caret}")===-1&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,Ge);let qe=P.getRng();const ot=qe.startContainer,Et=n.getBody();ot===Et&&P.isCollapsed()&&Z.isBlock(Et.firstChild)&&GL(n,Et.firstChild)&&Z.isEmpty(Et.firstChild)&&(qe=Z.createRng(),qe.setStart(Et.firstChild,0),qe.setEnd(Et.firstChild,0),P.setRng(qe)),P.isCollapsed()||J3(n);const Vt=P.getNode(),kt={context:Vt.nodeName.toLowerCase(),data:l.data,insert:!0},It=J.parse(s,kt);if(l.paste===!0&&vM(n.schema,It)&&UL(Z,Vt))return qe=SM(Re,Z,P.getRng(),It),qe&&P.setRng(qe),s;l.paste===!0&&wM(Z,It,Vt,n.getBody())&&((m=It.firstChild)===null||m===void 0||m.unwrap()),XL(It);let cn=It.lastChild;if(cn&&cn.attr("id")==="mce_marker"){const xn=cn;for(cn=cn.prev;cn;cn=cn.walk(!0))if(cn.type===3||!Z.isBlock(cn.name)){cn.parent&&n.schema.isValidChild(cn.parent.name,"span")&&cn.parent.insert(xn,cn,cn.name==="br");break}}if(n._selectionOverrides.showBlockCaretContainer(Vt),!kt.invalid&&!YY(Z,Vt,It))s=Re.serialize(It),ZY(n,s,Vt);else{n.selection.setContent(Ge);let xn=P.getNode(),bn;const $n=n.getBody();for($g(xn)?xn=bn=$n:bn=xn;bn&&bn!==$n;)xn=bn,bn=bn.parentNode;s=xn===$n?$n.innerHTML:Z.getOuterHTML(xn);const rr=J.parse(s),gr=jL(rr),Qr=gr.bind(FL).getOr(rr);gr.each(eo=>eo.replace(It));const zn=It.children(),Bn=(x=It.parent)!==null&&x!==void 0?x:rr;It.unwrap();const tr=se(zn,eo=>u4(n.schema,eo,Bn));c4(tr,n.schema,Qr),dM(J.getNodeFilters(),J.getAttributeFilters(),rr),s=Re.serialize(rr),xn===$n?Z.setHTML($n,s):Z.setOuterHTML(xn,s)}return HY(n,ge),WY(n,Z.get("mce_marker")),TM(n.getBody()),YL(Z,P.getStart(),n.schema),i5(n.schema,n.getBody(),P.getStart()),s},h4=n=>n instanceof yu,XY=n=>{c0(n)&&eu(n.getBody()).each(s=>{const l=s.getNode(),m=tf(l)?eu(l).getOr(s):s;n.selection.setRng(m.toRange())})},kM=(n,s,l)=>{n.dom.setHTML(n.getBody(),s),l!==!0&&XY(n)},GY=(n,s,l,m)=>{if(l=Pe(l),l.length===0||/^\s+$/.test(l)){const x='<br data-mce-bogus="1">';s.nodeName==="TABLE"?l="<tr><td>"+x+"</td></tr>":/^(UL|OL)$/.test(s.nodeName)&&(l="<li>"+x+"</li>");const P=Nc(n);return n.schema.isValidChild(s.nodeName.toLowerCase(),P.toLowerCase())?(l=x,l=n.dom.createHTML(P,Jy(n),l)):l||(l=x),kM(n,l,m.no_selection),{content:l,html:l}}else{m.format!=="raw"&&(l=u0({validate:!1},n.schema).serialize(n.parser.parse(l,{isRootContent:!0,insert:!0})));const x=Xi(Yt.fromDom(s))?l:fr.trim(l);return kM(n,x,m.no_selection),{content:x,html:x}}},jY=(n,s,l,m)=>{dM(n.parser.getNodeFilters(),n.parser.getAttributeFilters(),l);const x=u0({validate:!1},n.schema).serialize(l),P=Pe(Xi(Yt.fromDom(s))?x:fr.trim(x));return kM(n,P,m.no_selection),{content:l,html:P}},KL=(n,s,l)=>Y.from(n.getBody()).map(m=>h4(s)?jY(n,m,s,l):GY(n,m,s,l)).getOr({content:s,html:h4(l.content)?"":l.content}),JL=n=>E(n)?n:ne,AM=(n,s,l)=>{let m=n.dom;const x=JL(l);for(;m.parentNode;){m=m.parentNode;const P=Yt.fromDom(m),Z=s(P);if(Z.isSome())return Z;if(x(P))break}return Y.none()},Mv=(n,s,l)=>{const m=s(n),x=JL(l);return m.orThunk(()=>x(n)?Y.none():AM(n,s,x))},PM=H2,eI=(n,s,l)=>{const m=n.formatter.get(l);if(m)for(let x=0;x<m.length;x++){const P=m[x];if(rc(P)&&P.inherit===!1&&n.dom.is(s,P.selector))return!0}return!1},gx=(n,s,l,m,x)=>{const P=n.dom.getRoot();if(s===P)return!1;const Z=n.dom.getParent(s,J=>eI(n,J,l)?!0:J.parentNode===P||!!cp(n,J,l,m,!0));return!!cp(n,Z,l,m,x)},eC=(n,s,l)=>ji(l)&&PM(s,l.inline)||th(l)&&PM(s,l.block)?!0:rc(l)?Xr(s)&&n.is(s,l.selector):!1,MM=(n,s,l,m,x,P)=>{const Z=l[m],J=m==="attributes";if(E(l.onmatch))return l.onmatch(s,l,m);if(Z){if(Dt(Z)){for(let ge=0;ge<Z.length;ge++)if(J?n.getAttrib(s,Z[ge]):e0(n,s,Z[ge]))return!0}else for(const ge in Z)if(lt(Z,ge)){const Re=J?n.getAttrib(s,ge):e0(n,s,ge),Ge=eh(Z[ge],P),qe=F(Re)||Tt(Re);if(qe&&F(Ge))continue;if(x&&qe&&!l.exact||(!x||l.exact)&&!PM(Re,U2(Ge,ge)))return!1}}return!0},cp=(n,s,l,m,x)=>{const P=n.formatter.get(l),Z=n.dom;if(P&&Xr(s))for(let J=0;J<P.length;J++){const ge=P[J];if(eC(n.dom,s,ge)&&MM(Z,s,ge,"attributes",x,m)&&MM(Z,s,ge,"styles",x,m)){const Re=ge.classes;if(Re){for(let Ge=0;Ge<Re.length;Ge++)if(!n.dom.hasClass(s,eh(Re[Ge],m)))return}return ge}}},m4=(n,s,l,m,x)=>{if(m)return gx(n,m,s,l,x);if(m=n.selection.getNode(),gx(n,m,s,l,x))return!0;const P=n.selection.getStart();return!!(P!==m&&gx(n,P,s,l,x))},qY=(n,s,l)=>{const m=[],x={},P=n.selection.getStart();return n.dom.getParent(P,Z=>{for(let J=0;J<s.length;J++){const ge=s[J];!x[ge]&&cp(n,Z,ge,l)&&(x[ge]=!0,m.push(ge))}},n.dom.getRoot()),m},zb=(n,s)=>{const l=x=>Gs(x,Yt.fromDom(n.getBody())),m=(x,P)=>cp(n,x.dom,P)?Y.some(P):Y.none();return Y.from(n.selection.getStart(!0)).bind(x=>Mv(Yt.fromDom(x),P=>wt(s,Z=>m(P,Z)),l)).getOrNull()},tI=(n,s)=>{const l=n.formatter.get(s),m=n.dom;if(l&&n.selection.isEditable()){const x=n.selection.getStart(),P=bb(m,x);for(let Z=l.length-1;Z>=0;Z--){const J=l[Z];if(!rc(J))return!0;for(let ge=P.length-1;ge>=0;ge--)if(m.is(P[ge],J.selector))return!0}}return!1},nI=(n,s,l)=>oe(l,(m,x)=>{const P=v3(n,x);return n.formatter.matchNode(s,x,{},P)?m.concat([x]):m},[]),px=he,g4=(n,s)=>n.importNode(s,!0),EM=n=>{if(n){const s=new fa(n,n);for(let l=s.current();l;l=s.next())if(lr(l))return l}return null},_M=n=>{const s=Yt.fromTag("span");return ku(s,{id:I2,"data-mce-bogus":"1","data-mce-type":"format-caret"}),n&&Ai(s,Yt.fromText(px)),s},rI=n=>{const s=EM(n);return s&&s.data.charAt(0)===px&&s.deleteData(0,1),s},RM=(n,s,l)=>{const m=n.dom,x=n.selection;if(xb(s))Pv(n,!1,Yt.fromDom(s),l,!0);else{const P=x.getRng(),Z=m.getParent(s,m.isBlock),J=P.startContainer,ge=P.startOffset,Re=P.endContainer,Ge=P.endOffset,qe=rI(s);m.remove(s,!0),J===qe&&ge>0&&P.setStart(qe,ge-1),Re===qe&&Ge>0&&P.setEnd(qe,Ge-1),Z&&m.isEmpty(Z)&&D(Yt.fromDom(Z)),x.setRng(P)}},DM=(n,s,l)=>{const m=n.dom,x=n.selection;if(s)RM(n,s,l);else if(s=yv(n.getBody(),x.getStart()),!s)for(;s=m.get(I2);)RM(n,s,l)},p4=(n,s,l)=>{var m,x;const P=n.dom,Z=P.getParent(l,ee(rl,n.schema));Z&&P.isEmpty(Z)?(m=l.parentNode)===null||m===void 0||m.replaceChild(s,l):(s5(Yt.fromDom(l)),P.isEmpty(l)?(x=l.parentNode)===null||x===void 0||x.replaceChild(s,l):P.insertAfter(s,l))},$M=(n,s)=>(n.appendChild(s),s),v4=(n,s)=>{var l;const m=fe(n,(P,Z)=>$M(P,Z.cloneNode(!1)),s),x=(l=m.ownerDocument)!==null&&l!==void 0?l:document;return $M(m,x.createTextNode(px))},KY=(n,s,l,m,x,P)=>{const Z=n.formatter,J=n.dom,ge=se(Gt(Z.get()),qe=>qe!==m&&!sr(qe,"removeformat")),Re=nI(n,l,ge);if(se(Re,qe=>!l6(n,qe,m)).length>0){const qe=l.cloneNode(!1);return J.add(s,qe),Z.remove(m,x,qe,P),J.remove(qe),Y.some(qe)}else return Y.none()},JY=(n,s,l)=>{let m;const x=n.selection,P=n.formatter.get(s);if(!P)return;const Z=x.getRng();let J=Z.startOffset;const Re=Z.startContainer.nodeValue;m=yv(n.getBody(),x.getStart());const Ge=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Re&&J>0&&J<Re.length&&Ge.test(Re.charAt(J))&&Ge.test(Re.charAt(J-1))){const qe=x.getBookmark();Z.collapse(!0);let ot=Wm(n.dom,Z,P);ot=nt(ot),n.formatter.apply(s,l,ot),x.moveToBookmark(qe)}else{let qe=m?EM(m):null;(!m||(qe==null?void 0:qe.data)!==px)&&(m=g4(n.getDoc(),_M(!0).dom),qe=m.firstChild,Z.insertNode(m),J=1),n.formatter.apply(s,l,m),x.setCursorLocation(qe,J)}},oI=(n,s,l,m)=>{const x=n.dom,P=n.selection;let Z=!1;const J=n.formatter.get(s);if(!J)return;const ge=P.getRng(),Re=ge.startContainer,Ge=ge.startOffset;let qe=Re;lr(Re)&&(Ge!==Re.data.length&&(Z=!0),qe=qe.parentNode);const ot=[];let Et;for(;qe;){if(cp(n,qe,s,l,m)){Et=qe;break}qe.nextSibling&&(Z=!0),ot.push(qe),qe=qe.parentNode}if(Et)if(Z){const Vt=P.getBookmark();ge.collapse(!0);let kt=Wm(x,ge,J,!0);kt=nt(kt),n.formatter.remove(s,l,kt,m),P.moveToBookmark(Vt)}else{const Vt=yv(n.getBody(),Et),kt=B(Vt)?x.getParents(Et.parentNode,le,Vt):[],It=_M(!1).dom;p4(n,It,Vt??Et);const cn=KY(n,It,Et,s,l,m),xn=v4([...ot,...cn.toArray(),...kt],It);Vt&&RM(n,Vt,B(Vt)),P.setCursorLocation(xn,1),x.isEmpty(Et)&&x.remove(Et)}},LM=(n,s,l)=>{const m=n.selection,x=n.getBody();DM(n,null,l),(s===8||s===46)&&m.isCollapsed()&&m.getStart().innerHTML===px&&DM(n,yv(x,m.getStart()),!0),(s===37||s===39)&&DM(n,yv(x,m.getStart()),!0)},sI=n=>lr(n)&&ao(n.data,zs),eX=n=>{n.on("mouseup keydown",s=>{LM(n,s.keyCode,sI(n.selection.getRng().endContainer))})},aI=n=>{const s=_M(!1),l=v4(n,s.dom);return{caretContainer:s,caretPosition:Nn(l,0)}},iI=(n,s)=>{const{caretContainer:l,caretPosition:m}=aI(s);return Yi(Yt.fromDom(n),l),Ks(Yt.fromDom(n)),m},y4=(n,s)=>{const{caretContainer:l,caretPosition:m}=aI(s);return n.insertNode(l.dom),m},up=(n,s)=>{if(ff(s.dom))return!1;const l=n.schema.getTextInlineElements();return lt(l,Vs(s))&&!ff(s.dom)&&!Lf(s.dom)},tC={},b4=bi(["pre"]),qi=(n,s)=>{tC[n]||(tC[n]=[]),tC[n].push(s)},IM=(n,s)=>{lt(tC,n)&&re(tC[n],l=>{l(s)})};qi("pre",n=>{const s=n.selection.getRng(),l=x=>P=>{const Z=P.previousSibling;return b4(Z)&&Ve(x,Z)},m=(x,P)=>{const Z=Yt.fromDom(P),J=nd(Z).dom;Ks(Z),Ta(Yt.fromDom(x),[Yt.fromTag("br",J),Yt.fromTag("br",J),...il(Z)])};if(!s.collapsed){const x=n.selection.getSelectedBlocks(),P=se(se(x,b4),l(x));re(P,Z=>{m(Z.previousSibling,Z)})}});const O4=["fontWeight","fontStyle","color","fontSize","fontFamily"],Ev=n=>I(n.styles)&&_e(Gt(n.styles),s=>Ve(O4,s)),lI=n=>ce(n,s=>ji(s)&&s.inline==="span"&&Ev(s)),NM=(n,s)=>{const l=n.get(s);return N(l)?lI(l):Y.none()},vx=(n,s)=>gu(s,Nn.fromRangeStart(n)).isNone(),cI=(n,s)=>Qc(s,Nn.fromRangeEnd(n)).exists(l=>!ia(l.getNode())||Qc(s,l).isSome())===!1,uI=n=>s=>ov(s)&&n.isEditable(s),yx=n=>{const s=n.getSelectedBlocks(),l=n.getRng();if(n.isCollapsed())return[];if(s.length===1)return vx(l,s[0])&&cI(l,s[0])?s:[];{const m=yt(s).filter(Z=>vx(l,Z)).toArray(),x=ft(s).filter(Z=>cI(l,Z)).toArray(),P=s.slice(1,-1);return m.concat(P).concat(x)}},tX=n=>se(yx(n),uI(n.dom)),d0=n=>se(n.getSelectedBlocks(),uI(n.dom)),BM=fr.each,fp=n=>Xr(n)&&!df(n)&&!ff(n)&&!Lf(n),yd=(n,s)=>{for(let l=n;l;l=l[s]){if(lr(l)&&St(l.data))return n;if(Xr(l)&&!df(l))return l}return n},nC=(n,s,l)=>{const m=s4(n),x=Gl(s)&&n.dom.isEditable(s),P=Gl(l)&&n.dom.isEditable(l);if(x&&P){const Z=yd(s,"previousSibling"),J=yd(l,"nextSibling");if(m.compare(Z,J)){for(let ge=Z.nextSibling;ge&&ge!==J;){const Re=ge;ge=ge.nextSibling,Z.appendChild(Re)}return n.dom.remove(J),fr.each(fr.grep(J.childNodes),ge=>{Z.appendChild(ge)}),Z}}return l},x4=(n,s,l,m)=>{var x;if(m&&s.merge_siblings!==!1){const P=(x=nC(n,Fr(m),m))!==null&&x!==void 0?x:m;nC(n,P,Fr(P,!0))}},nX=(n,s,l)=>{if(s.clear_child_styles){const m=s.links?"*:not(a)":"*";BM(n.select(m,l),x=>{fp(x)&&n.isEditable(x)&&BM(s.styles,(P,Z)=>{n.setStyle(x,Z,"")})})}},QM=(n,s,l)=>{BM(n.childNodes,m=>{fp(m)&&(s(m)&&l(m),m.hasChildNodes()&&QM(m,s,l))})},S4=(n,s)=>{s.nodeName==="SPAN"&&n.getAttribs(s).length===0&&n.remove(s,!0)},fI=(n,s)=>l=>!!(l&&e0(n,l,s)),rh=(n,s,l)=>m=>{n.setStyle(m,s,l),m.getAttribute("style")===""&&m.removeAttribute("style"),S4(n,m)},dp=jd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),dI=/^(src|href|style)$/,rC=fr.each,bx=H2,Zb=n=>/^(TR|TH|TD)$/.test(n.nodeName),w4=(n,s,l)=>n.isChildOf(s,l)&&s!==l&&!n.isBlock(l),hI=(n,s,l)=>{let m=s[l?"startContainer":"endContainer"],x=s[l?"startOffset":"endOffset"];if(Xr(m)){const P=m.childNodes.length-1;!l&&x&&x--,m=m.childNodes[x>P?P:x]}return lr(m)&&l&&x>=m.data.length&&(m=new fa(m,n.getBody()).next()||m),lr(m)&&!l&&x===0&&(m=new fa(m,n.getBody()).prev()||m),m},FM=(n,s)=>{const l=s?"firstChild":"lastChild",m=n[l];return Zb(n)&&m?n.nodeName==="TR"&&m[l]||m:n},VM=(n,s,l,m)=>{var x;const P=n.create(l,m);return(x=s.parentNode)===null||x===void 0||x.insertBefore(P,s),P.appendChild(s),P},mI=(n,s,l,m,x)=>{const P=Yt.fromDom(s),Z=Yt.fromDom(n.create(m,x)),J=l?Yc(P):Oy(P);return Ta(Z,J),l?(Yi(P,Z),Cm(Z,P)):(Ku(P,Z),Ai(Z,P)),Z.dom},rX=(n,s)=>s.links&&n.nodeName==="A",gI=(n,s,l)=>{const m=s.parentNode;let x;const P=n.dom,Z=Nc(n);th(l)&&m===P.getRoot()&&(!l.list_block||!bx(s,l.list_block))&&re(tt(s.childNodes),J=>{Um(n,Z,J.nodeName.toLowerCase())?x?x.appendChild(J):(x=VM(P,J,Z),P.setAttribs(x,Jy(n))):x=null}),!(Y2(l)&&!bx(l.inline,s))&&P.remove(s,!0)},Ox=(n,s,l)=>W(n)?{name:s,value:null}:{name:n,value:eh(s,l)},pI=(n,s)=>{n.getAttrib(s,"style")===""&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style"))},zM=(n,s,l,m,x)=>{let P=!1;rC(l.styles,(Z,J)=>{const{name:ge,value:Re}=Ox(J,Z,m),Ge=U2(Re,ge);(l.remove_similar||Q(Re)||!Xr(x)||bx(e0(n,x,ge),Ge))&&n.setStyle(s,ge,""),P=!0}),P&&pI(n,s)},ZM=(n,s,l)=>{s==="removeformat"?re(d0(n.selection),m=>{re(O4,x=>n.dom.setStyle(m,x,"")),pI(n.dom,m)}):NM(n.formatter,s).each(m=>{re(d0(n.selection),x=>zM(n.dom,x,m,l,null))})},vI=(n,s,l,m,x)=>{const P=n.dom,Z=s4(n),J=n.schema;if(ji(s)&&Iy(J,s.inline)&&As(J,m)&&m.parentElement===n.getBody())return gI(n,m,s),dp.removed();if(!s.ceFalseOverride&&m&&P.getContentEditableParent(m)==="false"||m&&!eC(P,m,s)&&!rX(m,s))return dp.keep();const ge=m,Re=s.preserve_attributes;if(ji(s)&&s.remove==="all"&&N(Re)){const Ge=se(P.getAttribs(ge),qe=>Ve(Re,qe.name.toLowerCase()));if(P.removeAllAttribs(ge),re(Ge,qe=>P.setAttrib(ge,qe.name,qe.value)),Ge.length>0)return dp.rename("span")}if(s.remove!=="all"){zM(P,ge,s,l,x),rC(s.attributes,(qe,ot)=>{const{name:Et,value:Vt}=Ox(ot,qe,l);if(s.remove_similar||Q(Vt)||!Xr(x)||bx(P.getAttrib(x,Et),Vt)){if(Et==="class"){const kt=P.getAttrib(ge,Et);if(kt){let It="";if(re(kt.split(/\s+/),cn=>{/mce\-\w+/.test(cn)&&(It+=(It?" ":"")+cn)}),It){P.setAttrib(ge,Et,It);return}}}if(dI.test(Et)&&ge.removeAttribute("data-mce-"+Et),Et==="style"&&bi(["li"])(ge)&&P.getStyle(ge,"list-style-type")==="none"){ge.removeAttribute(Et),P.setStyle(ge,"list-style-type","none");return}Et==="class"&&ge.removeAttribute("className"),ge.removeAttribute(Et)}}),rC(s.classes,qe=>{qe=eh(qe,l),(!Xr(x)||P.hasClass(x,qe))&&P.removeClass(ge,qe)});const Ge=P.getAttribs(ge);for(let qe=0;qe<Ge.length;qe++){const ot=Ge[qe].nodeName;if(!Z.isAttributeInternal(ot))return dp.keep()}}return s.remove!=="none"?(gI(n,ge,s),dp.removed()):dp.keep()},yI=(n,s,l,m,x)=>{let P;return s.parentNode&&re(bb(n.dom,s.parentNode).reverse(),Z=>{if(!P&&Xr(Z)&&Z.id!=="_start"&&Z.id!=="_end"){const J=cp(n,Z,l,m,x);J&&J.split!==!1&&(P=Z)}}),P},bI=(n,s,l,m)=>vI(n,s,l,m,m).fold(ae(m),x=>(n.dom.createFragment().appendChild(m),n.dom.rename(m,x)),ae(null)),oX=(n,s,l,m,x,P,Z,J)=>{var ge,Re;let Ge,qe;const ot=n.dom;if(l){const Et=l.parentNode;for(let Vt=m.parentNode;Vt&&Vt!==Et;Vt=Vt.parentNode){let kt=ot.clone(Vt,!1);for(let It=0;It<s.length&&(kt=bI(n,s[It],J,kt),kt!==null);It++);kt&&(Ge&&kt.appendChild(Ge),qe||(qe=kt),Ge=kt)}P&&(!Z.mixed||!ot.isBlock(l))&&(m=(ge=ot.split(l,m))!==null&&ge!==void 0?ge:m),Ge&&qe&&((Re=x.parentNode)===null||Re===void 0||Re.insertBefore(Ge,x),qe.appendChild(x),ji(Z)&&x4(n,Z,J,Ge))}return m},sX=(n,s,l,m,x)=>{const P=n.formatter.get(s),Z=P[0],J=n.dom,ge=n.selection,Re=kt=>{const It=yI(n,kt,s,l,x);return oX(n,P,It,kt,kt,!0,Z,l)},Ge=kt=>df(kt)&&Xr(kt)&&(kt.id==="_start"||kt.id==="_end"),qe=kt=>_e(P,It=>oC(n,It,l,kt,kt)),ot=kt=>{const It=tt(kt.childNodes),xn=qe(kt)||_e(P,rr=>eC(J,kt,rr)),bn=kt.parentNode;if(!xn&&B(bn)&&Ob(Z)&&qe(bn),Z.deep&&It.length)for(let rr=0;rr<It.length;rr++)ot(It[rr]);re(["underline","line-through","overline"],rr=>{Xr(kt)&&n.dom.getStyle(kt,"text-decoration")===rr&&kt.parentNode&&vk(J,kt.parentNode)===rr&&oC(n,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:rr}},void 0,kt)})},Et=kt=>{const It=J.get(kt?"_start":"_end");if(It){let cn=It[kt?"firstChild":"lastChild"];return Ge(cn)&&(cn=cn[kt?"firstChild":"lastChild"]),lr(cn)&&cn.data.length===0&&(cn=kt?It.previousSibling||It.nextSibling:It.nextSibling||It.previousSibling),J.remove(It,!0),cn}else return null},Vt=kt=>{let It,cn,xn=Wm(J,kt,P,kt.collapsed);if(Z.split){if(xn=nt(xn),It=hI(n,xn,!0),cn=hI(n,xn),It!==cn){if(It=FM(It,!0),cn=FM(cn,!1),w4(J,It,cn)){const $n=Y.from(It.firstChild).getOr(It);Re(mI(J,$n,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Et(!0);return}if(w4(J,cn,It)){const $n=Y.from(cn.lastChild).getOr(cn);Re(mI(J,$n,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Et(!1);return}It=VM(J,It,"span",{id:"_start","data-mce-type":"bookmark"}),cn=VM(J,cn,"span",{id:"_end","data-mce-type":"bookmark"});const bn=J.createRng();bn.setStartAfter(It),bn.setEndBefore(cn),kb(J,bn,$n=>{re($n,rr=>{!df(rr)&&!df(rr.parentNode)&&Re(rr)})}),Re(It),Re(cn),It=Et(!0),cn=Et()}else It=cn=Re(It);xn.startContainer=It.parentNode?It.parentNode:It,xn.startOffset=J.nodeIndex(It),xn.endContainer=cn.parentNode?cn.parentNode:cn,xn.endOffset=J.nodeIndex(cn)+1}kb(J,xn,bn=>{re(bn,ot)})};if(m){if(pb(m)){const kt=J.createRng();kt.setStartBefore(m),kt.setEndAfter(m),Vt(kt)}else Vt(m);Sv(n,s,m,l);return}!ge.isCollapsed()||!ji(Z)||J1(n).length?(vb(n,()=>np(n,Vt),kt=>ji(Z)&&m4(n,s,l,kt)),n.nodeChanged()):oI(n,s,l,x),ZM(n,s,l),Sv(n,s,m,l)},OI=(n,s,l,m,x)=>{(m||n.selection.isEditable())&&sX(n,s,l,m,x)},oC=(n,s,l,m,x)=>vI(n,s,l,m,x).fold(ne,P=>(n.dom.rename(m,P),!0),le),xI=fr.each,aX=(n,s,l,m)=>{const x=P=>{if(Gl(P)&&Xr(P.parentNode)&&n.isEditable(P)){const Z=vk(n,P.parentNode);n.getStyle(P,"color")&&Z?n.setStyle(P,"text-decoration",Z):n.getStyle(P,"text-decoration")===Z&&n.setStyle(P,"text-decoration",null)}};s.styles&&(s.styles.color||s.styles.textDecoration)&&(fr.walk(m,x,"childNodes"),x(m))},iX=(n,s,l,m)=>{if(s.styles&&s.styles.backgroundColor){const x=fI(n,"fontSize");QM(m,P=>x(P)&&n.isEditable(P),rh(n,"backgroundColor",eh(s.styles.backgroundColor,l)))}},lX=(n,s,l,m)=>{if(ji(s)&&(s.inline==="sub"||s.inline==="sup")){const x=fI(n,"fontSize");QM(m,Z=>x(Z)&&n.isEditable(Z),rh(n,"fontSize",""));const P=se(n.select(s.inline==="sup"?"sub":"sup",m),n.isEditable);n.remove(P,!0)}},cX=(n,s,l,m)=>{xI(s,x=>{ji(x)&&xI(n.dom.select(x.inline,m),P=>{fp(P)&&oC(n,x,l,P,x.exact?P:null)}),nX(n.dom,x,m)})},uX=(n,s,l,m,x)=>{const P=x.parentNode;cp(n,P,l,m)&&oC(n,s,m,x)||s.merge_with_parents&&P&&n.dom.getParent(P,Z=>cp(n,Z,l,m)?(oC(n,s,m,x),!0):!1)},C4=fr.each,fX=(n,s,l,m)=>{if(z5(n)&&ji(s)&&l.parentNode){const x=u5(n.schema),P=_Y(Yt.fromDom(l),Z=>ff(Z.dom));return ut(x,m)&&na(Yt.fromDom(l.parentNode),!1)&&!P}else return!1},SI=(n,s,l,m)=>{if(C4(l.styles,(x,P)=>{n.setStyle(s,P,eh(x,m))}),l.styles){const x=n.getAttrib(s,"style");x&&n.setAttrib(s,"data-mce-style",x)}},wI=(n,s,l,m)=>{const x=n.formatter.get(s),P=x[0],Z=!m&&n.selection.isCollapsed(),J=n.dom,ge=n.selection,Re=(Vt,kt=P)=>{E(kt.onformat)&&kt.onformat(Vt,kt,l,m),SI(J,Vt,kt,l),C4(kt.attributes,(It,cn)=>{J.setAttrib(Vt,cn,eh(It,l))}),C4(kt.classes,It=>{const cn=eh(It,l);J.hasClass(Vt,cn)||J.addClass(Vt,cn)})},Ge=(Vt,kt)=>{let It=!1;return C4(Vt,cn=>rc(cn)?J.getContentEditable(kt)==="false"&&!cn.ceFalseOverride||B(cn.collapsed)&&cn.collapsed!==Z?!0:J.is(kt,cn.selector)&&!ff(kt)?(Re(kt,cn),It=!0,!1):!0:!1),It},qe=Vt=>{if(M(Vt)){const kt=J.create(Vt);return Re(kt),kt}else return null},ot=(Vt,kt,It)=>{const cn=[];let xn=!0;const bn=P.inline||P.block,$n=qe(bn),rr=zn=>W2(P)&&cp(n,zn,s,l),gr=(zn,Bn,tr)=>{const eo=t0(P)&&rl(n.schema,zn)&&Um(n,Bn,bn);return tr&&eo},Qr=(zn,Bn,tr,eo)=>{const po=zn.nodeName.toLowerCase(),cs=Um(n,bn,po)&&Um(n,Bn,bn),Os=!It&&lr(zn)&&Ce(zn.data),pa=ff(zn),Ls=!ji(P)||!Vt.isBlock(zn);return(tr||eo)&&cs&&!Os&&!pa&&Ls};kb(Vt,kt,zn=>{let Bn;const tr=eo=>{let po=!1,cs=xn,Os=!1;const pa=eo.parentNode,Ls=pa.nodeName.toLowerCase(),pi=Vt.getContentEditable(eo);B(pi)&&(cs=xn,xn=pi==="true",po=!0,Os=yb(n,eo));const pc=xn&&!po;if(ia(eo)&&!fX(n,P,eo,Ls)){Bn=null,th(P)&&Vt.remove(eo);return}if(rr(eo)){Bn=null;return}if(gr(eo,Ls,pc)){const va=Vt.rename(eo,bn);Re(va),cn.push(va),Bn=null;return}if(rc(P)){let va=Ge(x,eo);if(!va&&B(pa)&&Ob(P)&&(va=Ge(x,pa)),!ji(P)||va){Bn=null;return}}B($n)&&Qr(eo,Ls,pc,Os)?(Bn||(Bn=Vt.clone($n,!1),pa.insertBefore(Bn,eo),cn.push(Bn)),Os&&po&&(xn=cs),Bn.appendChild(eo)):(Bn=null,re(tt(eo.childNodes),tr),po&&(xn=cs),Bn=null)};re(zn,tr)}),P.links===!0&&re(cn,zn=>{const Bn=tr=>{tr.nodeName==="A"&&Re(tr,P),re(tt(tr.childNodes),Bn)};Bn(zn)}),re(cn,zn=>{const Bn=po=>{let cs=0;return re(po.childNodes,Os=>{!Ff(Os)&&!df(Os)&&cs++}),cs},tr=po=>ce(po.childNodes,g3).filter(Os=>Vt.getContentEditable(Os)!=="false"&&eC(Vt,Os,P)).map(Os=>{const pa=Vt.clone(Os,!1);return Re(pa),Vt.replace(pa,po,!0),Vt.remove(Os,!0),pa}).getOr(po),eo=Bn(zn);if((cn.length>1||!Vt.isBlock(zn))&&eo===0){Vt.remove(zn,!0);return}(ji(P)||th(P)&&P.wrapper)&&(!P.exact&&eo===1&&(zn=tr(zn)),cX(n,x,l,zn),uX(n,P,s,l,zn),iX(Vt,P,l,zn),aX(Vt,P,l,zn),lX(Vt,P,l,zn),x4(n,P,l,zn))})},Et=pb(m)?m:ge.getNode();if(J.getContentEditable(Et)==="false"&&!yb(n,Et)){m=Et,Ge(x,m),mc(n,s,m,l);return}if(P){if(m)if(pb(m)){if(!Ge(x,m)){const Vt=J.createRng();Vt.setStartBefore(m),Vt.setEndAfter(m),ot(J,Wm(J,Vt,x),!0)}}else ot(J,m,!0);else!Z||!ji(P)||J1(n).length?(ge.setRng(dx(ge.getRng())),vb(n,()=>{np(n,(Vt,kt)=>{const It=kt?Vt:Wm(J,Vt,x);ot(J,It,!1)})},le),n.nodeChanged()):JY(n,s,l),NM(n.formatter,s).each(Vt=>{re(tX(n.selection),kt=>SI(J,kt,Vt,l))});IM(s,n)}mc(n,s,m,l)},CI=(n,s,l,m)=>{(m||n.selection.isEditable())&&wI(n,s,l,m)},Hb=n=>lt(n,"vars"),dX=(n,s)=>{n.set({}),s.on("NodeChange",l=>{HM(s,l.element,n.get())}),s.on("FormatApply FormatRemove",l=>{const m=Y.from(l.node).map(x=>pb(x)?x:x.startContainer).bind(x=>Xr(x)?Y.some(x):Y.from(x.parentElement)).getOrThunk(()=>TI(s));HM(s,m,n.get())})},TI=n=>n.selection.getStart(),kI=(n,s,l,m,x)=>Se(s,J=>{const ge=n.formatter.matchNode(J,l,x??{},m);return!U(ge)},J=>eI(n,J,l)?!0:m?!1:B(n.formatter.matchNode(J,l,x,!0))),AI=(n,s)=>{const l=s??TI(n);return se(bb(n.dom,l),m=>Xr(m)&&!Lf(m))},HM=(n,s,l)=>{const m=AI(n,s);Bt(l,(x,P)=>{const Z=J=>{const ge=kI(n,m,P,J.similar,Hb(J)?J.vars:void 0),Re=ge.isSome();if(J.state.get()!==Re){J.state.set(Re);const Ge=ge.getOr(s);Hb(J)?J.callback(Re,{node:Ge,format:P,parents:m}):re(J.callbacks,qe=>qe(Re,{node:Ge,format:P,parents:m}))}};re([x.withSimilar,x.withoutSimilar],Z),re(x.withVars,Z)})},hX=(n,s,l,m,x,P)=>{const Z=s.get();re(l.split(","),J=>{const ge=Sn(Z,J).getOrThunk(()=>{const Ge={withSimilar:{state:si(!1),similar:!0,callbacks:[]},withoutSimilar:{state:si(!1),similar:!1,callbacks:[]},withVars:[]};return Z[J]=Ge,Ge}),Re=()=>{const Ge=AI(n);return kI(n,Ge,J,x,P).isSome()};if(U(P)){const Ge=x?ge.withSimilar:ge.withoutSimilar;Ge.callbacks.push(m),Ge.callbacks.length===1&&Ge.state.set(Re())}else ge.withVars.push({state:si(Re()),similar:x,vars:P,callback:m})}),s.set(Z)},mX=(n,s,l)=>{const m=n.get();re(s.split(","),x=>Sn(m,x).each(P=>{m[x]={withSimilar:{...P.withSimilar,callbacks:se(P.withSimilar.callbacks,Z=>Z!==l)},withoutSimilar:{...P.withoutSimilar,callbacks:se(P.withoutSimilar.callbacks,Z=>Z!==l)},withVars:se(P.withVars,Z=>Z.callback!==l)}})),n.set(m)},gX=(n,s,l,m,x,P)=>(hX(n,s,l,m,x,P),{unbind:()=>mX(s,l,m)}),pX=(n,s,l,m)=>{const x=n.formatter.get(s);x&&(m4(n,s,l,m)&&(!("toggle"in x[0])||x[0].toggle)?OI(n,s,l,m):CI(n,s,l,m))},PI=fr.explode,MI=()=>{const n={};return{addFilter:(x,P)=>{re(PI(x),Z=>{lt(n,Z)||(n[Z]={name:Z,callbacks:[]}),n[Z].callbacks.push(P)})},getFilters:()=>Un(n),removeFilter:(x,P)=>{re(PI(x),Z=>{if(lt(n,Z))if(B(P)){const J=n[Z],ge=se(J.callbacks,Re=>Re!==P);ge.length>0?J.callbacks=ge:delete n[Z]}else delete n[Z]})}}},vX=(n,s)=>{re(s,l=>{n.attr(l,null)})},yX=(n,s,l)=>{n.addNodeFilter("font",m=>{re(m,x=>{const P=s.parse(x.attr("style")),Z=x.attr("color"),J=x.attr("face"),ge=x.attr("size");Z&&(P.color=Z),J&&(P["font-family"]=J),ge&&Ft(ge).each(Re=>{P["font-size"]=l[Re-1]}),x.name="span",x.attr("style",s.serialize(P)),vX(x,["color","face","size"])})})},bX=(n,s,l)=>{n.addNodeFilter("strike",m=>{const x=s.type!=="html4";re(m,P=>{if(x)P.name="s";else{const Z=l.parse(P.attr("style"));Z["text-decoration"]="line-through",P.name="span",P.attr("style",l.serialize(Z))}})})},OX=(n,s,l)=>{var m;const x=t2();s.convert_fonts_to_spans&&yX(n,x,fr.explode((m=s.font_size_legacy_values)!==null&&m!==void 0?m:"")),bX(n,l,x)},UM=(n,s,l)=>{s.inline_styles&&OX(n,s,l)},WM=(n,s,l)=>{s.addNodeFilter("br",(m,x,P)=>{const Z=fr.extend({},l.getBlockElements()),J=l.getNonEmptyElements(),ge=l.getWhitespaceElements();Z.body=1;const Re=Ge=>Ge.name in Z||_m(l,Ge);for(let Ge=0,qe=m.length;Ge<qe;Ge++){let ot=m[Ge],Et=ot.parent;if(Et&&Re(Et)&&ot===Et.lastChild){let Vt=ot.prev;for(;Vt;){const kt=Vt.name;if(kt!=="span"||Vt.attr("data-mce-type")!=="bookmark"){kt==="br"&&(ot=null);break}Vt=Vt.prev}if(ot&&(ot.remove(),fx(l,J,ge,Et))){const kt=l.getElementRule(Et.name);kt&&(kt.removeEmpty?Et.remove():kt.paddEmpty&&i4(n,P,Re,Et))}}else{let Vt=ot;for(;Et&&Et.firstChild===Vt&&Et.lastChild===Vt&&(Vt=Et,!Z[Et.name]);)Et=Et.parent;if(Vt===Et){const kt=new yu("#text",3);kt.value=zs,ot.replace(kt)}}}})},mce=n=>fetch(n).then(s=>s.ok?s.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${n} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),sC=n=>{const s=/([a-z0-9+\/=\s]+)/i.exec(n);return s?s[1]:""},T4=n=>{const[s,...l]=n.split(","),m=l.join(","),x=/data:([^/]+\/[^;]+)(;.+)?/.exec(s);if(x){const P=x[2]===";base64",Z=P?sC(m):decodeURIComponent(m);return Y.some({type:x[1],data:Z,base64Encoded:P})}else return Y.none()},xx=(n,s,l=!0)=>{let m=s;if(l)try{m=atob(s)}catch{return Y.none()}const x=new Uint8Array(m.length);for(let P=0;P<x.length;P++)x[P]=m.charCodeAt(P);return Y.some(new Blob([x],{type:n}))},aC=n=>new Promise((s,l)=>{T4(n).bind(({type:m,data:x,base64Encoded:P})=>xx(m,x,P)).fold(()=>l("Invalid data URI"),s)}),EI=n=>wr(n,"blob:")?mce(n):wr(n,"data:")?aC(n):Promise.reject("Unknown URI format"),xX=n=>new Promise((s,l)=>{const m=new FileReader;m.onloadend=()=>{s(m.result)},m.onerror=()=>{var x;l((x=m.error)===null||x===void 0?void 0:x.message)},m.readAsDataURL(n)});let SX=0;const gce=n=>(n||"blobid")+SX++,_I=(n,s,l)=>T4(n).bind(({data:m,type:x,base64Encoded:P})=>{if(s&&!P)return Y.none();{const Z=P?m:btoa(m);return l(Z,x)}}),RI=(n,s,l)=>{const m=n.create(gce(),s,l);return n.add(m),m},wX=(n,s,l=!1)=>_I(s,l,(m,x)=>Y.from(n.getByData(m,x)).orThunk(()=>xx(x,m).map(P=>RI(n,P,m)))),CX=(n,s)=>{const l=()=>Promise.reject("Invalid data URI");if(wr(s,"blob:")){const m=n.getByUri(s);return B(m)?Promise.resolve(m):EI(s).then(x=>xX(x).then(P=>_I(P,!1,Z=>Y.some(RI(n,x,Z))).getOrThunk(l)))}else return wr(s,"data:")?wX(n,s).fold(l,m=>Promise.resolve(m)):Promise.reject("Unknown image data format")},DI=n=>B(n.attr("data-mce-bogus")),TX=n=>n.attr("src")===Dr.transparentSrc||B(n.attr("data-mce-placeholder")),$I=(n,s)=>{const{blob_cache:l}=s;if(l){const m=x=>{const P=x.attr("src");TX(x)||DI(x)||F(P)||wX(l,P,!0).each(Z=>{x.attr("src",Z.blobUri())})};n.addAttributeFilter("src",x=>re(x,m))}},YM=(n,s)=>wr(n,`${s}/`),k4=(n,s,l,m,x)=>{let P;U(n)?P="iframe":YM(n,"image")?P="img":YM(n,"video")?P="video":YM(n,"audio")?P="audio":P="iframe";const Z=new yu(P,1);return Z.attr(P==="audio"?{src:s}:{src:s,width:l,height:m}),(P==="audio"||P==="video")&&Z.attr("controls",""),P==="iframe"&&x&&Z.attr("sandbox",""),Z},LI=(n,s)=>{const l=n.schema;s.remove_trailing_brs&&WM(s,n,l),n.addAttributeFilter("href",x=>{let P=x.length;const Z=ge=>ge.split(" ").filter(Ge=>Ge.length>0).concat(["noopener"]).sort().join(" "),J=ge=>{const Re=ge?fr.trim(ge):"";return/\b(noopener)\b/g.test(Re)?Re:Z(Re)};if(!s.allow_unsafe_link_target)for(;P--;){const ge=x[P];ge.name==="a"&&ge.attr("target")==="_blank"&&ge.attr("rel",J(ge.attr("rel")))}}),s.allow_html_in_named_anchor||n.addAttributeFilter("id,name",x=>{let P=x.length,Z,J,ge,Re;for(;P--;)if(Re=x[P],Re.name==="a"&&Re.firstChild&&!Re.attr("href"))for(ge=Re.parent,Z=Re.lastChild;Z&&ge;)J=Z.prev,ge.insert(Z,Re),Z=J}),s.fix_list_elements&&n.addNodeFilter("ul,ol",x=>{let P=x.length,Z,J;for(;P--;)if(Z=x[P],J=Z.parent,J&&(J.name==="ul"||J.name==="ol"))if(Z.prev&&Z.prev.name==="li")Z.prev.append(Z);else{const ge=new yu("li",1);ge.attr("style","list-style-type: none"),Z.wrap(ge)}});const m=l.getValidClasses();s.validate&&m&&n.addAttributeFilter("class",x=>{var P;let Z=x.length;for(;Z--;){const J=x[Z],ge=(P=J.attr("class"))!==null&&P!==void 0?P:"",Re=fr.explode(ge," ");let Ge="";for(let qe=0;qe<Re.length;qe++){const ot=Re[qe];let Et=!1,Vt=m["*"];Vt&&Vt[ot]&&(Et=!0),Vt=m[J.name],!Et&&Vt&&Vt[ot]&&(Et=!0),Et&&(Ge&&(Ge+=" "),Ge+=ot)}Ge.length||(Ge=null),J.attr("class",Ge)}}),$I(n,s),s.convert_unsafe_embeds&&n.addNodeFilter("object,embed",x=>re(x,P=>{P.replace(k4(P.attr("type"),P.name==="object"?P.attr("data"):P.attr("src"),P.attr("width"),P.attr("height"),s.sandbox_iframes))})),s.sandbox_iframes&&n.addNodeFilter("iframe",x=>re(x,P=>P.attr("sandbox","")))},{entries:yl,setPrototypeOf:kX,isFrozen:pce,getPrototypeOf:vce,getOwnPropertyDescriptor:yce}=Object;let{freeze:ol,seal:bd,create:h0}=Object,{apply:hp,construct:XM}=typeof Reflect<"u"&&Reflect;hp||(hp=function(s,l,m){return s.apply(l,m)}),ol||(ol=function(s){return s}),bd||(bd=function(s){return s}),XM||(XM=function(s,l){return new s(...l)});const AX=Xh(Array.prototype.forEach),Sx=Xh(Array.prototype.pop),mp=Xh(Array.prototype.push),_v=Xh(String.prototype.toLowerCase),A4=Xh(String.prototype.toString),GM=Xh(String.prototype.match),Yh=Xh(String.prototype.replace),II=Xh(String.prototype.indexOf),PX=Xh(String.prototype.trim),oh=Xh(RegExp.prototype.test),wx=MX(TypeError);function Xh(n){return function(s){for(var l=arguments.length,m=new Array(l>1?l-1:0),x=1;x<l;x++)m[x-1]=arguments[x];return hp(n,s,m)}}function MX(n){return function(){for(var s=arguments.length,l=new Array(s),m=0;m<s;m++)l[m]=arguments[m];return XM(n,l)}}function Sa(n,s,l){var m;l=(m=l)!==null&&m!==void 0?m:_v,kX&&kX(n,null);let x=s.length;for(;x--;){let P=s[x];if(typeof P=="string"){const Z=l(P);Z!==P&&(pce(s)||(s[x]=Z),P=Z)}n[P]=!0}return n}function Cx(n){const s=h0(null);for(const[l,m]of yl(n))s[l]=m;return s}function P4(n,s){for(;n!==null;){const m=yce(n,s);if(m){if(m.get)return Xh(m.get);if(typeof m.value=="function")return Xh(m.value)}n=vce(n)}function l(m){return console.warn("fallback value for",m),null}return l}const jM=ol(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qM=ol(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ub=ol(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),NI=ol(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),KM=ol(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),BI=ol(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),QI=ol(["#text"]),JM=ol(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),eE=ol(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),FI=ol(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),iC=ol(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),VI=bd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zI=bd(/<%[\w\W]*|[\w\W]*%>/gm),ZI=bd(/\${[\w\W]*}/gm),HI=bd(/^data-[\-\w.\u00B7-\uFFFF]/),UI=bd(/^aria-[\-\w]+$/),WI=bd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),EX=bd(/^(?:\w+script|data):/i),_X=bd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),M4=bd(/^html$/i);var Tx=Object.freeze({__proto__:null,MUSTACHE_EXPR:VI,ERB_EXPR:zI,TMPLIT_EXPR:ZI,DATA_ATTR:HI,ARIA_ATTR:UI,IS_ALLOWED_URI:WI,IS_SCRIPT_OR_DATA:EX,ATTR_WHITESPACE:_X,DOCTYPE_NAME:M4});const YI=()=>typeof window>"u"?null:window,XI=function(s,l){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let m=null;const x="data-tt-policy-suffix";l&&l.hasAttribute(x)&&(m=l.getAttribute(x));const P="dompurify"+(m?"#"+m:"");try{return s.createPolicy(P,{createHTML(Z){return Z},createScriptURL(Z){return Z}})}catch{return console.warn("TrustedTypes policy "+P+" could not be created."),null}};function lC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YI();const s=vs=>lC(vs);if(s.version="3.0.5",s.removed=[],!n||!n.document||n.document.nodeType!==9)return s.isSupported=!1,s;const l=n.document,m=l.currentScript;let{document:x}=n;const{DocumentFragment:P,HTMLTemplateElement:Z,Node:J,Element:ge,NodeFilter:Re,NamedNodeMap:Ge=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:qe,DOMParser:ot,trustedTypes:Et}=n,Vt=ge.prototype,kt=P4(Vt,"cloneNode"),It=P4(Vt,"nextSibling"),cn=P4(Vt,"childNodes"),xn=P4(Vt,"parentNode");if(typeof Z=="function"){const vs=x.createElement("template");vs.content&&vs.content.ownerDocument&&(x=vs.content.ownerDocument)}let bn,$n="";const{implementation:rr,createNodeIterator:gr,createDocumentFragment:Qr,getElementsByTagName:zn}=x,{importNode:Bn}=l;let tr={};s.isSupported=typeof yl=="function"&&typeof xn=="function"&&rr&&rr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:eo,ERB_EXPR:po,TMPLIT_EXPR:cs,DATA_ATTR:Os,ARIA_ATTR:pa,IS_SCRIPT_OR_DATA:Ls,ATTR_WHITESPACE:pi}=Tx;let{IS_ALLOWED_URI:pc}=Tx,va=null;const Tr=Sa({},[...jM,...qM,...Ub,...KM,...QI]);let co=null;const Hs=Sa({},[...JM,...eE,...FI,...iC]);let Ts=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ro=null,Io=null,yr=!0,Qo=!0,Is=!1,Pa=!0,wa=!1,Vl=!1,nm=!1,Wf=!1,Bu=!1,dh=!1,Wo=!1,Us=!0,Ma=!1;const ii="user-content-";let Wa=!0,Of=!1,rm={},Bv=null;const PP=Sa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lT=null;const MP=Sa({},["audio","video","img","source","image","track"]);let nS=null;const EP=Sa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rS="http://www.w3.org/1998/Math/MathML",I0="http://www.w3.org/2000/svg",om="http://www.w3.org/1999/xhtml";let ag=om,oS=!1,uO=null;const cT=Sa({},[rS,I0,om],A4);let ig;const _P=["application/xhtml+xml","text/html"],uT="text/html";let Zc,fO=null;const zz=x.createElement("form"),RP=function(Qn){return Qn instanceof RegExp||Qn instanceof Function},fT=function(Qn){if(!(fO&&fO===Qn)){if((!Qn||typeof Qn!="object")&&(Qn={}),Qn=Cx(Qn),ig=_P.indexOf(Qn.PARSER_MEDIA_TYPE)===-1?ig=uT:ig=Qn.PARSER_MEDIA_TYPE,Zc=ig==="application/xhtml+xml"?A4:_v,va="ALLOWED_TAGS"in Qn?Sa({},Qn.ALLOWED_TAGS,Zc):Tr,co="ALLOWED_ATTR"in Qn?Sa({},Qn.ALLOWED_ATTR,Zc):Hs,uO="ALLOWED_NAMESPACES"in Qn?Sa({},Qn.ALLOWED_NAMESPACES,A4):cT,nS="ADD_URI_SAFE_ATTR"in Qn?Sa(Cx(EP),Qn.ADD_URI_SAFE_ATTR,Zc):EP,lT="ADD_DATA_URI_TAGS"in Qn?Sa(Cx(MP),Qn.ADD_DATA_URI_TAGS,Zc):MP,Bv="FORBID_CONTENTS"in Qn?Sa({},Qn.FORBID_CONTENTS,Zc):PP,ro="FORBID_TAGS"in Qn?Sa({},Qn.FORBID_TAGS,Zc):{},Io="FORBID_ATTR"in Qn?Sa({},Qn.FORBID_ATTR,Zc):{},rm="USE_PROFILES"in Qn?Qn.USE_PROFILES:!1,yr=Qn.ALLOW_ARIA_ATTR!==!1,Qo=Qn.ALLOW_DATA_ATTR!==!1,Is=Qn.ALLOW_UNKNOWN_PROTOCOLS||!1,Pa=Qn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,wa=Qn.SAFE_FOR_TEMPLATES||!1,Vl=Qn.WHOLE_DOCUMENT||!1,Bu=Qn.RETURN_DOM||!1,dh=Qn.RETURN_DOM_FRAGMENT||!1,Wo=Qn.RETURN_TRUSTED_TYPE||!1,Wf=Qn.FORCE_BODY||!1,Us=Qn.SANITIZE_DOM!==!1,Ma=Qn.SANITIZE_NAMED_PROPS||!1,Wa=Qn.KEEP_CONTENT!==!1,Of=Qn.IN_PLACE||!1,pc=Qn.ALLOWED_URI_REGEXP||WI,ag=Qn.NAMESPACE||om,Ts=Qn.CUSTOM_ELEMENT_HANDLING||{},Qn.CUSTOM_ELEMENT_HANDLING&&RP(Qn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ts.tagNameCheck=Qn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Qn.CUSTOM_ELEMENT_HANDLING&&RP(Qn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ts.attributeNameCheck=Qn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Qn.CUSTOM_ELEMENT_HANDLING&&typeof Qn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ts.allowCustomizedBuiltInElements=Qn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),wa&&(Qo=!1),dh&&(Bu=!0),rm&&(va=Sa({},[...QI]),co=[],rm.html===!0&&(Sa(va,jM),Sa(co,JM)),rm.svg===!0&&(Sa(va,qM),Sa(co,eE),Sa(co,iC)),rm.svgFilters===!0&&(Sa(va,Ub),Sa(co,eE),Sa(co,iC)),rm.mathMl===!0&&(Sa(va,KM),Sa(co,FI),Sa(co,iC))),Qn.ADD_TAGS&&(va===Tr&&(va=Cx(va)),Sa(va,Qn.ADD_TAGS,Zc)),Qn.ADD_ATTR&&(co===Hs&&(co=Cx(co)),Sa(co,Qn.ADD_ATTR,Zc)),Qn.ADD_URI_SAFE_ATTR&&Sa(nS,Qn.ADD_URI_SAFE_ATTR,Zc),Qn.FORBID_CONTENTS&&(Bv===PP&&(Bv=Cx(Bv)),Sa(Bv,Qn.FORBID_CONTENTS,Zc)),Wa&&(va["#text"]=!0),Vl&&Sa(va,["html","head","body"]),va.table&&(Sa(va,["tbody"]),delete ro.tbody),Qn.TRUSTED_TYPES_POLICY){if(typeof Qn.TRUSTED_TYPES_POLICY.createHTML!="function")throw wx('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Qn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wx('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');bn=Qn.TRUSTED_TYPES_POLICY,$n=bn.createHTML("")}else bn===void 0&&(bn=XI(Et,m)),bn!==null&&typeof $n=="string"&&($n=bn.createHTML(""));ol&&ol(Qn),fO=Qn}},wp=Sa({},["mi","mo","mn","ms","mtext"]),sS=Sa({},["foreignobject","desc","title","annotation-xml"]),Ln=Sa({},["title","style","font","a","script"]),In=Sa({},qM);Sa(In,Ub),Sa(In,NI);const br=Sa({},KM);Sa(br,BI);const hr=function(Qn){let lo=xn(Qn);(!lo||!lo.tagName)&&(lo={namespaceURI:ag,tagName:"template"});const _o=_v(Qn.tagName),Vi=_v(lo.tagName);return uO[Qn.namespaceURI]?Qn.namespaceURI===I0?lo.namespaceURI===om?_o==="svg":lo.namespaceURI===rS?_o==="svg"&&(Vi==="annotation-xml"||wp[Vi]):!!In[_o]:Qn.namespaceURI===rS?lo.namespaceURI===om?_o==="math":lo.namespaceURI===I0?_o==="math"&&sS[Vi]:!!br[_o]:Qn.namespaceURI===om?lo.namespaceURI===I0&&!sS[Vi]||lo.namespaceURI===rS&&!wp[Vi]?!1:!br[_o]&&(Ln[_o]||!In[_o]):!!(ig==="application/xhtml+xml"&&uO[Qn.namespaceURI]):!1},mo=function(Qn){mp(s.removed,{element:Qn});try{Qn.parentNode.removeChild(Qn)}catch{Qn.remove()}},xs=function(Qn,lo){try{mp(s.removed,{attribute:lo.getAttributeNode(Qn),from:lo})}catch{mp(s.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Qn),Qn==="is"&&!co[Qn])if(Bu||dh)try{mo(lo)}catch{}else try{lo.setAttribute(Qn,"")}catch{}},Ka=function(Qn){let lo,_o;if(Wf)Qn="<remove></remove>"+Qn;else{const kd=GM(Qn,/^[\r\n\t ]+/);_o=kd&&kd[0]}ig==="application/xhtml+xml"&&ag===om&&(Qn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Qn+"</body></html>");const Vi=bn?bn.createHTML(Qn):Qn;if(ag===om)try{lo=new ot().parseFromString(Vi,ig)}catch{}if(!lo||!lo.documentElement){lo=rr.createDocument(ag,"template",null);try{lo.documentElement.innerHTML=oS?$n:Vi}catch{}}const nu=lo.body||lo.documentElement;return Qn&&_o&&nu.insertBefore(x.createTextNode(_o),nu.childNodes[0]||null),ag===om?zn.call(lo,Vl?"html":"body")[0]:Vl?lo.documentElement:nu},xf=function(Qn){return gr.call(Qn.ownerDocument||Qn,Qn,Re.SHOW_ELEMENT|Re.SHOW_COMMENT|Re.SHOW_TEXT,null,!1)},vc=function(Qn){return Qn instanceof qe&&(typeof Qn.nodeName!="string"||typeof Qn.textContent!="string"||typeof Qn.removeChild!="function"||!(Qn.attributes instanceof Ge)||typeof Qn.removeAttribute!="function"||typeof Qn.setAttribute!="function"||typeof Qn.namespaceURI!="string"||typeof Qn.insertBefore!="function"||typeof Qn.hasChildNodes!="function")},dO=function(Qn){return typeof J=="object"?Qn instanceof J:Qn&&typeof Qn=="object"&&typeof Qn.nodeType=="number"&&typeof Qn.nodeName=="string"},hh=function(Qn,lo,_o){tr[Qn]&&AX(tr[Qn],Vi=>{Vi.call(s,lo,_o,fO)})},Zz=function(Qn){let lo;if(hh("beforeSanitizeElements",Qn,null),vc(Qn))return mo(Qn),!0;const _o=Zc(Qn.nodeName);if(hh("uponSanitizeElement",Qn,{tagName:_o,allowedTags:va}),Qn.hasChildNodes()&&!dO(Qn.firstElementChild)&&(!dO(Qn.content)||!dO(Qn.content.firstElementChild))&&oh(/<[/\w]/g,Qn.innerHTML)&&oh(/<[/\w]/g,Qn.textContent))return mo(Qn),!0;if(!va[_o]||ro[_o]){if(!ro[_o]&&Uz(_o)&&(Ts.tagNameCheck instanceof RegExp&&oh(Ts.tagNameCheck,_o)||Ts.tagNameCheck instanceof Function&&Ts.tagNameCheck(_o)))return!1;if(Wa&&!Bv[_o]){const Vi=xn(Qn)||Qn.parentNode,nu=cn(Qn)||Qn.childNodes;if(nu&&Vi){const kd=nu.length;for(let zl=kd-1;zl>=0;--zl)Vi.insertBefore(kt(nu[zl],!0),It(Qn))}}return mo(Qn),!0}return Qn instanceof ge&&!hr(Qn)||(_o==="noscript"||_o==="noembed"||_o==="noframes")&&oh(/<\/no(script|embed|frames)/i,Qn.innerHTML)?(mo(Qn),!0):(wa&&Qn.nodeType===3&&(lo=Qn.textContent,lo=Yh(lo,eo," "),lo=Yh(lo,po," "),lo=Yh(lo,cs," "),Qn.textContent!==lo&&(mp(s.removed,{element:Qn.cloneNode()}),Qn.textContent=lo)),hh("afterSanitizeElements",Qn,null),!1)},Hz=function(Qn,lo,_o){if(Us&&(lo==="id"||lo==="name")&&(_o in x||_o in zz))return!1;if(!(Qo&&!Io[lo]&&oh(Os,lo))){if(!(yr&&oh(pa,lo))){if(!co[lo]||Io[lo]){if(!(Uz(Qn)&&(Ts.tagNameCheck instanceof RegExp&&oh(Ts.tagNameCheck,Qn)||Ts.tagNameCheck instanceof Function&&Ts.tagNameCheck(Qn))&&(Ts.attributeNameCheck instanceof RegExp&&oh(Ts.attributeNameCheck,lo)||Ts.attributeNameCheck instanceof Function&&Ts.attributeNameCheck(lo))||lo==="is"&&Ts.allowCustomizedBuiltInElements&&(Ts.tagNameCheck instanceof RegExp&&oh(Ts.tagNameCheck,_o)||Ts.tagNameCheck instanceof Function&&Ts.tagNameCheck(_o))))return!1}else if(!nS[lo]){if(!oh(pc,Yh(_o,pi,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Qn!=="script"&&II(_o,"data:")===0&&lT[Qn])){if(!(Is&&!oh(Ls,Yh(_o,pi,"")))){if(_o)return!1}}}}}}return!0},Uz=function(Qn){return Qn.indexOf("-")>0},gR=function(Qn){let lo,_o,Vi,nu;hh("beforeSanitizeAttributes",Qn,null);const{attributes:kd}=Qn;if(!kd)return;const zl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:co};for(nu=kd.length;nu--;){lo=kd[nu];const{name:sm,namespaceURI:DP}=lo;_o=sm==="value"?lo.value:PX(lo.value);const bre=_o;if(Vi=Zc(sm),zl.attrName=Vi,zl.attrValue=_o,zl.keepAttr=!0,zl.forceKeepAttr=void 0,hh("uponSanitizeAttribute",Qn,zl),_o=zl.attrValue,zl.forceKeepAttr)continue;if(!zl.keepAttr){xs(sm,Qn);continue}if(!Pa&&oh(/\/>/i,_o)){xs(sm,Qn);continue}wa&&(_o=Yh(_o,eo," "),_o=Yh(_o,po," "),_o=Yh(_o,cs," "));const Wz=Zc(Qn.nodeName);if(!Hz(Wz,Vi,_o)){xs(sm,Qn);continue}if(Ma&&(Vi==="id"||Vi==="name")&&(xs(sm,Qn),_o=ii+_o),bn&&typeof Et=="object"&&typeof Et.getAttributeType=="function"&&!DP)switch(Et.getAttributeType(Wz,Vi)){case"TrustedHTML":{_o=bn.createHTML(_o);break}case"TrustedScriptURL":{_o=bn.createScriptURL(_o);break}}if(_o!==bre)try{DP?Qn.setAttributeNS(DP,sm,_o):Qn.setAttribute(sm,_o)}catch{xs(sm,Qn)}}hh("afterSanitizeAttributes",Qn,null)},yre=function vs(Qn){let lo;const _o=xf(Qn);for(hh("beforeSanitizeShadowDOM",Qn,null);lo=_o.nextNode();)hh("uponSanitizeShadowNode",lo,null),!Zz(lo)&&(lo.content instanceof P&&vs(lo.content),gR(lo));hh("afterSanitizeShadowDOM",Qn,null)};return s.sanitize=function(vs){let Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lo,_o,Vi,nu;if(oS=!vs,oS&&(vs="<!-->"),typeof vs!="string"&&!dO(vs))if(typeof vs.toString=="function"){if(vs=vs.toString(),typeof vs!="string")throw wx("dirty is not a string, aborting")}else throw wx("toString is not a function");if(!s.isSupported)return vs;if(nm||fT(Qn),s.removed=[],typeof vs=="string"&&(Of=!1),Of){if(vs.nodeName){const sm=Zc(vs.nodeName);if(!va[sm]||ro[sm])throw wx("root node is forbidden and cannot be sanitized in-place")}}else if(vs instanceof J)lo=Ka("<!---->"),_o=lo.ownerDocument.importNode(vs,!0),_o.nodeType===1&&_o.nodeName==="BODY"||_o.nodeName==="HTML"?lo=_o:lo.appendChild(_o);else{if(!Bu&&!wa&&!Vl&&vs.indexOf("<")===-1)return bn&&Wo?bn.createHTML(vs):vs;if(lo=Ka(vs),!lo)return Bu?null:Wo?$n:""}lo&&Wf&&mo(lo.firstChild);const kd=xf(Of?vs:lo);for(;Vi=kd.nextNode();)Zz(Vi)||(Vi.content instanceof P&&yre(Vi.content),gR(Vi));if(Of)return vs;if(Bu){if(dh)for(nu=Qr.call(lo.ownerDocument);lo.firstChild;)nu.appendChild(lo.firstChild);else nu=lo;return(co.shadowroot||co.shadowrootmode)&&(nu=Bn.call(l,nu,!0)),nu}let zl=Vl?lo.outerHTML:lo.innerHTML;return Vl&&va["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&oh(M4,lo.ownerDocument.doctype.name)&&(zl="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+zl),wa&&(zl=Yh(zl,eo," "),zl=Yh(zl,po," "),zl=Yh(zl,cs," ")),bn&&Wo?bn.createHTML(zl):zl},s.setConfig=function(vs){fT(vs),nm=!0},s.clearConfig=function(){fO=null,nm=!1},s.isValidAttribute=function(vs,Qn,lo){fO||fT({});const _o=Zc(vs),Vi=Zc(Qn);return Hz(_o,Vi,lo)},s.addHook=function(vs,Qn){typeof Qn=="function"&&(tr[vs]=tr[vs]||[],mp(tr[vs],Qn))},s.removeHook=function(vs){if(tr[vs])return Sx(tr[vs])},s.removeHooks=function(vs){tr[vs]&&(tr[vs]=[])},s.removeAllHooks=function(){tr={}},s}var GI=lC();const jI=fr.each,m0=fr.trim,tE=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],qI={ftp:21,http:80,https:443,mailto:25},cC=["img","video"],KI=(n,s)=>B(n)?!n:B(s)?!Ve(cC,s):!0,nE=n=>{try{return decodeURIComponent(n)}catch{return unescape(n)}},rE=(n,s,l)=>{const m=nE(s).replace(/\s/g,"");return n.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(m)?!0:n.allow_html_data_urls?!1:/^data:image\//i.test(m)?KI(n.allow_svg_data_urls,l)&&/^data:image\/svg\+xml/i.test(m):/^data:/i.test(m)};class sh{static parseDataUri(s){let l;const m=decodeURIComponent(s).split(","),x=/data:([^;]+)/.exec(m[0]);return x&&(l=x[1]),{type:l,data:m[1]}}static isDomSafe(s,l,m={}){if(m.allow_script_urls)return!0;{const x=Bg.decode(s).replace(/[\s\u0000-\u001F]+/g,"");return!rE(m,x,l)}}static getDocumentBaseUrl(s){var l;let m;return s.protocol.indexOf("http")!==0&&s.protocol!=="file:"?m=(l=s.href)!==null&&l!==void 0?l:"":m=s.protocol+"//"+s.host+s.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/")),m}constructor(s,l={}){this.path="",this.directory="",s=m0(s),this.settings=l;const m=l.base_uri,x=this;if(/^([\w\-]+):([^\/]{2})/i.test(s)||/^\s*#/.test(s)){x.source=s;return}const P=s.indexOf("//")===0;if(s.indexOf("/")===0&&!P&&(s=(m&&m.protocol||"http")+"://mce_host"+s),!/^[\w\-]*:?\/\//.test(s)){const J=m?m.path:new sh(document.location.href).directory;if((m==null?void 0:m.protocol)==="")s="//mce_host"+x.toAbsPath(J,s);else{const ge=/([^#?]*)([#?]?.*)/.exec(s);ge&&(s=(m&&m.protocol||"http")+"://mce_host"+x.toAbsPath(J,ge[1])+ge[2])}}s=s.replace(/@@/g,"(mce_at)");const Z=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(s);Z&&jI(tE,(J,ge)=>{let Re=Z[ge];Re&&(Re=Re.replace(/\(mce_at\)/g,"@@")),x[J]=Re}),m&&(x.protocol||(x.protocol=m.protocol),x.userInfo||(x.userInfo=m.userInfo),!x.port&&x.host==="mce_host"&&(x.port=m.port),(!x.host||x.host==="mce_host")&&(x.host=m.host),x.source=""),P&&(x.protocol="")}setPath(s){const l=/^(.*?)\/?(\w+)?$/.exec(s);l&&(this.path=l[0],this.directory=l[1],this.file=l[2]),this.source="",this.getURI()}toRelative(s){if(s==="./")return s;const l=new sh(s,{base_uri:this});if(l.host!=="mce_host"&&this.host!==l.host&&l.host||this.port!==l.port||this.protocol!==l.protocol&&l.protocol!=="")return l.getURI();const m=this.getURI(),x=l.getURI();if(m===x||m.charAt(m.length-1)==="/"&&m.substr(0,m.length-1)===x)return m;let P=this.toRelPath(this.path,l.path);return l.query&&(P+="?"+l.query),l.anchor&&(P+="#"+l.anchor),P}toAbsolute(s,l){const m=new sh(s,{base_uri:this});return m.getURI(l&&this.isSameOrigin(m))}isSameOrigin(s){if(this.host==s.host&&this.protocol==s.protocol){if(this.port==s.port)return!0;const l=this.protocol?qI[this.protocol]:null;if(l&&(this.port||l)==(s.port||l))return!0}return!1}toRelPath(s,l){let m=0,x="",P,Z;const J=s.substring(0,s.lastIndexOf("/")).split("/"),ge=l.split("/");if(J.length>=ge.length){for(P=0,Z=J.length;P<Z;P++)if(P>=ge.length||J[P]!==ge[P]){m=P+1;break}}if(J.length<ge.length){for(P=0,Z=ge.length;P<Z;P++)if(P>=J.length||J[P]!==ge[P]){m=P+1;break}}if(m===1)return l;for(P=0,Z=J.length-(m-1);P<Z;P++)x+="../";for(P=m-1,Z=ge.length;P<Z;P++)P!==m-1?x+="/"+ge[P]:x+=ge[P];return x}toAbsPath(s,l){let m=0;const x=/\/$/.test(l)?"/":"",P=s.split("/"),Z=l.split("/"),J=[];jI(P,qe=>{qe&&J.push(qe)});const ge=[];for(let qe=Z.length-1;qe>=0;qe--)if(!(Z[qe].length===0||Z[qe]===".")){if(Z[qe]===".."){m++;continue}if(m>0){m--;continue}ge.push(Z[qe])}const Re=J.length-m;let Ge;return Re<=0?Ge=ct(ge).join("/"):Ge=J.slice(0,Re).join("/")+"/"+ct(ge).join("/"),Ge.indexOf("/")!==0&&(Ge="/"+Ge),x&&Ge.lastIndexOf("/")!==Ge.length-1&&(Ge+=x),Ge}getURI(s=!1){let l;return(!this.source||s)&&(l="",s||(this.protocol?l+=this.protocol+"://":l+="//",this.userInfo&&(l+=this.userInfo+"@"),this.host&&(l+=this.host),this.port&&(l+=":"+this.port)),this.path&&(l+=this.path),this.query&&(l+="?"+this.query),this.anchor&&(l+="#"+this.anchor),this.source=l),this.source}}const RX=fr.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),oE="data-mce-type";let JI=0;const E4=(n,s,l,m,x)=>{var P,Z,J,ge;const Re=s.validate,Ge=l.getSpecialElements();n.nodeType===Qd&&!s.allow_conditional_comments&&/^\[if/i.test((P=n.nodeValue)!==null&&P!==void 0?P:"")&&(n.nodeValue=" "+n.nodeValue);const qe=(Z=x==null?void 0:x.tagName)!==null&&Z!==void 0?Z:n.nodeName.toLowerCase();if(m!=="html"&&l.isValid(m)){B(x)&&(x.allowedTags[qe]=!0);return}if(n.nodeType!==Sh||qe==="body")return;const ot=Yt.fromDom(n),Et=Mf(ot,oE),Vt=$l(ot,"data-mce-bogus");if(!Et&&M(Vt)){Vt==="all"?Ks(ot):$f(ot);return}const kt=l.getElementRule(qe);if(Re&&!kt){lt(Ge,qe)?Ks(ot):$f(ot);return}else B(x)&&(x.allowedTags[qe]=!0);if(Re&&kt&&!Et){if(re((J=kt.attributesForced)!==null&&J!==void 0?J:[],It=>{$a(ot,It.name,It.value==="{$uid}"?`mce_${JI++}`:It.value)}),re((ge=kt.attributesDefault)!==null&&ge!==void 0?ge:[],It=>{Mf(ot,It.name)||$a(ot,It.name,It.value==="{$uid}"?`mce_${JI++}`:It.value)}),kt.attributesRequired&&!_e(kt.attributesRequired,It=>Mf(ot,It))){$f(ot);return}if(kt.removeEmptyAttrs&&Ef(ot)){$f(ot);return}kt.outputName&&kt.outputName!==qe&&Xd(ot,kt.outputName)}},DX=(n,s,l,m,x)=>{const P=n.tagName.toLowerCase(),{attrName:Z,attrValue:J}=x;x.keepAttr=sE(s,l,m,P,Z,J),x.keepAttr?(x.allowedAttributes[Z]=!0,tN(Z,l)&&(x.attrValue=Z),s.allow_svg_data_urls&&wr(J,"data:image/svg+xml")&&(x.forceKeepAttr=!0)):eN(n,Z)&&(x.forceKeepAttr=!0)},sE=(n,s,l,m,x,P)=>l!=="html"&&!$c(m)?!0:!(x in RX&&rE(n,P,m))&&(!n.validate||s.isValid(m,x)||wr(x,"data-")||wr(x,"aria-")),eN=(n,s)=>n.hasAttribute(oE)&&(s==="id"||s==="class"||s==="style"),tN=(n,s)=>n in s.getBoolAttrs(),$X=(n,s,l,m)=>{const{attributes:x}=n;for(let P=x.length-1;P>=0;P--){const Z=x[P],J=Z.name,ge=Z.value;!sE(s,l,m,n.tagName.toLowerCase(),J,ge)&&!eN(n,J)?n.removeAttribute(J):tN(J,l)&&n.setAttribute(J,J)}},LX=(n,s,l)=>{const m=GI();return m.addHook("uponSanitizeElement",(x,P)=>{E4(x,n,s,l.track(x),P)}),m.addHook("uponSanitizeAttribute",(x,P)=>{DX(x,n,s,l.current(),P)}),m},IX=(n,s)=>{const m={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return m.PARSER_MEDIA_TYPE=s,n.allow_script_urls?m.ALLOWED_URI_REGEXP=/.*/:n.allow_html_data_urls&&(m.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),m},NX=n=>{const s=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(m=>`xlink:${m}`),l={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:s};return GI().sanitize(n,l),n.innerHTML},BX=(n,s)=>{const l=Ud();if(n.sanitize){const m=LX(n,s,l);return{sanitizeHtmlElement:(P,Z)=>{m.sanitize(P,IX(n,Z)),m.removed=[],l.reset()},sanitizeNamespaceElement:NX}}else return{sanitizeHtmlElement:(P,Z)=>{const J=document.createNodeIterator(P,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let ge;for(;ge=J.nextNode();){const Re=l.track(ge);E4(ge,n,s,Re),Xr(ge)&&$X(ge,n,s,Re)}l.reset()},sanitizeNamespaceElement:ie}},nN=fr.makeMap,rN=fr.extend,uC=(n,s,l,m)=>{const x=n.name,P=x in l&&x!=="title"&&x!=="textarea",Z=s.childNodes;for(let J=0,ge=Z.length;J<ge;J++){const Re=Z[J],Ge=new yu(Re.nodeName.toLowerCase(),Re.nodeType);if(Xr(Re)){const qe=Re.attributes;for(let ot=0,Et=qe.length;ot<Et;ot++){const Vt=qe[ot];Ge.attr(Vt.name,Vt.value)}$c(Ge.name)&&(m(Re),Ge.value=Re.innerHTML)}else lr(Re)?(Ge.value=Re.data,P&&(Ge.raw=!0)):(rd(Re)||UO(Re)||Il(Re))&&(Ge.value=Re.data);$c(Ge.name)||uC(Ge,Re,l,m),n.append(Ge)}},Ou=(n,s,l)=>{const m=[];for(let x=n,P=x;x;P=x,x=x.walk()){const Z=x;re(s,J=>J(Z)),F(Z.parent)&&Z!==n?x=P:m.push(Z)}for(let x=m.length-1;x>=0;x--){const P=m[x];re(l,Z=>Z(P))}},QX=(n,s,l,m)=>{const x=l.validate,P=s.getNonEmptyElements(),Z=s.getWhitespaceElements(),J=rN(nN("script,style,head,html,body,title,meta,param"),s.getBlockElements()),ge=u5(s),Re=/[ \t\r\n]+/g,Ge=/^[ \t\r\n]+/,qe=/[ \t\r\n]+$/,ot=xn=>{let bn=xn.parent;for(;B(bn);){if(bn.name in Z)return!0;bn=bn.parent}return!1},Et=xn=>{let bn=xn;for(;B(bn);){if(bn.name in ge)return fx(s,P,Z,bn);bn=bn.parent}return!1},Vt=xn=>xn.name in J||_m(s,xn)||$c(xn.name)&&xn.parent===n,kt=(xn,bn)=>{const $n=bn?xn.prev:xn.next;return B($n)||F(xn.parent)?!1:Vt(xn.parent)&&(xn.parent!==n||m.isRootContent===!0)};return[xn=>{var bn;if(xn.type===3&&!ot(xn)){let $n=(bn=xn.value)!==null&&bn!==void 0?bn:"";$n=$n.replace(Re," "),(mM(xn.prev,Vt)||kt(xn,!0))&&($n=$n.replace(Ge,"")),$n.length===0?xn.remove():xn.value=$n}},xn=>{var bn;if(xn.type===1){const $n=s.getElementRule(xn.name);if(x&&$n){const rr=fx(s,P,Z,xn);$n.paddInEmptyBlock&&rr&&Et(xn)?i4(l,m,Vt,xn):$n.removeEmpty&&rr?Vt(xn)?xn.remove():xn.unwrap():$n.paddEmpty&&(rr||BL(xn))&&i4(l,m,Vt,xn)}}else if(xn.type===3&&!ot(xn)){let $n=(bn=xn.value)!==null&&bn!==void 0?bn:"";(xn.next&&Vt(xn.next)||kt(xn,!1))&&($n=$n.replace(qe,"")),$n.length===0?xn.remove():xn.value=$n}}]},_4=(n,s)=>{var l;const m=(l=s.forced_root_block)!==null&&l!==void 0?l:n.forced_root_block;return m===!1?"":m===!0?"p":m},Gh=(n={},s=Lm())=>{const l=MI(),m=MI(),x={validate:!0,root_name:"body",sanitize:!0,...n},P=new DOMParser,Z=BX(x,s),J=(bn,$n,rr="html")=>{const gr=rr==="xhtml"?"application/xhtml+xml":"text/html",Qr=lt(s.getSpecialElements(),$n.toLowerCase()),zn=Qr?`<${$n}>${bn}</${$n}>`:bn,Bn=rr==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${zn}</body></html>`:`<body>${zn}</body>`,tr=P.parseFromString(Bn,gr).body;return Z.sanitizeHtmlElement(tr,gr),Qr?tr.firstChild:tr},ge=l.addFilter,Re=l.getFilters,Ge=l.removeFilter,qe=m.addFilter,ot=m.getFilters,Et=m.removeFilter,Vt=(bn,$n)=>{u4(s,bn)&&$n.push(bn)},kt=(bn,$n)=>{const rr=M($n.attr(oE)),gr=$n.type===1&&!lt(bn,$n.name)&&!_m(s,$n)&&!$c($n.name);return $n.type===3||gr&&!rr},It=(bn,$n)=>{const rr=rN(nN("script,style,head,html,body,title,meta,param"),s.getBlockElements()),gr=/^[ \t\r\n]+/,Qr=/[ \t\r\n]+$/;let zn=bn.firstChild,Bn=null;const tr=eo=>{var po,cs;eo&&(zn=eo.firstChild,zn&&zn.type===3&&(zn.value=(po=zn.value)===null||po===void 0?void 0:po.replace(gr,"")),zn=eo.lastChild,zn&&zn.type===3&&(zn.value=(cs=zn.value)===null||cs===void 0?void 0:cs.replace(Qr,"")))};if(s.isValidChild(bn.name,$n.toLowerCase())){for(;zn;){const eo=zn.next;kt(rr,zn)?(Bn||(Bn=new yu($n,1),Bn.attr(x.forced_root_block_attrs),bn.insert(Bn,zn)),Bn.append(zn)):(tr(Bn),Bn=null),zn=eo}tr(Bn)}},xn={schema:s,addAttributeFilter:qe,getAttributeFilters:ot,removeAttributeFilter:Et,addNodeFilter:ge,getNodeFilters:Re,removeNodeFilter:Ge,parse:(bn,$n={})=>{var rr;const gr=x.validate,Qr=(rr=$n.context)!==null&&rr!==void 0?rr:x.root_name,zn=J(bn,Qr,$n.format);Ly(s,zn);const Bn=new yu(Qr,11);uC(Bn,zn,s.getSpecialElements(),Z.sanitizeNamespaceElement),zn.innerHTML="";const[tr,eo]=QX(Bn,s,x,$n),po=[],cs=gr?pi=>Vt(pi,po):ie,Os={nodes:{},attributes:{}},pa=pi=>uM(Re(),ot(),pi,Os);if(Ou(Bn,[tr,pa],[eo,cs]),po.reverse(),gr&&po.length>0)if($n.context){const{pass:pi,fail:pc}=te(po,va=>va.parent===Bn);c4(pc,s,Bn,pa),$n.invalid=pi.length>0}else c4(po,s,Bn,pa);const Ls=_4(x,$n);return Ls&&(Bn.name==="body"||$n.isRootContent)&&It(Bn,Ls),$n.invalid||fM(Os,$n),Bn}};return LI(xn,x),UM(xn,x,s),xn},oN=n=>h4(n)?u0({validate:!1}).serialize(n):n,pf=(n,s,l)=>{const m=oN(n),x=s(m);if(x.isDefaultPrevented())return x;if(h4(n))if(x.content!==m){const P=Gh({validate:!1,forced_root_block:!1,...l}).parse(x.content,{context:n.name});return{...x,content:P}}else return{...x,content:n};else return x},g0=(n,s)=>{if(s.no_events)return du.value(s);{const l=h6(n,s);return l.isDefaultPrevented()?du.error(Cs(n,{content:"",...l}).content):du.value(l)}},aE=(n,s,l)=>l.no_events?s:pf(s,x=>Cs(n,{...l,content:x}),{sanitize:F1(n),sandbox_iframes:E2(n)}).content,iE=(n,s)=>{if(s.no_events)return du.value(s);{const l=pf(s.content,m=>C$(n,{...s,content:m}),{sanitize:F1(n),sandbox_iframes:E2(n)});return l.isDefaultPrevented()?(kk(n,l),du.error(void 0)):du.value(l)}},R4=(n,s,l)=>{l.no_events||kk(n,{...l,content:s})},lE=(n,s,l)=>({element:n,width:s,rows:l}),cE=(n,s)=>({element:n,cells:s}),fC=(n,s)=>({x:n,y:s}),D4=(n,s)=>kc(n,s).bind(Ft).getOr(1),FX=(n,s,l,m,x)=>{const P=D4(x,"rowspan"),Z=D4(x,"colspan"),J=n.rows;for(let ge=l;ge<l+P;ge++){J[ge]||(J[ge]=cE(h2(m),[]));for(let Re=s;Re<s+Z;Re++){const Ge=J[ge].cells;Ge[Re]=ge===l&&Re===s?x:Ru(x)}}},sN=(n,s,l)=>{const m=n.rows;return!!(m[l]?m[l].cells:[])[s]},VX=(n,s,l)=>{for(;sN(n,s,l);)s++;return s},$4=n=>oe(n,(s,l)=>l.cells.length>s?l.cells.length:s,0),L4=(n,s)=>{const l=n.rows;for(let m=0;m<l.length;m++){const x=l[m].cells;for(let P=0;P<x.length;P++)if(Gs(x[P],s))return Y.some(fC(P,m))}return Y.none()},aN=(n,s,l,m,x)=>{const P=[],Z=n.rows;for(let J=l;J<=x;J++){const ge=Z[J].cells,Re=s<m?ge.slice(s,m+1):ge.slice(m,s+1);P.push(cE(Z[J].element,Re))}return P},zX=(n,s,l)=>{const m=s.x,x=s.y,P=l.x,Z=l.y,J=x<Z?aN(n,m,x,P,Z):aN(n,m,Z,P,x);return lE(n.element,$4(J),J)},gp=(n,s)=>{const l=Ru(n.element),m=Yt.fromTag("tbody");return Ta(m,s),Ai(l,m),l},uE=n=>Ie(n.rows,s=>{const l=Ie(s.cells,x=>{const P=h2(x);return di(P,"colspan"),di(P,"rowspan"),P}),m=Ru(s.element);return Ta(m,l),m}),ZX=n=>{const s=lE(Ru(n),0,[]);return re(ll(n,"tr"),(l,m)=>{re(ll(l,"td,th"),(x,P)=>{FX(s,VX(s,P,m),m,l,x)})}),lE(s.element,$4(s.rows),s.rows)},I4=n=>gp(n,uE(n)),fE=(n,s,l)=>L4(n,s).bind(m=>L4(n,l).map(x=>zX(n,m,x))),iN=n=>ce(n,s=>Vs(s)==="ul"||Vs(s)==="ol"),lN=(n,s)=>ce(n,l=>Vs(l)==="li"&&h3(l,s)).fold(ae([]),l=>iN(n).map(m=>{const x=Yt.fromTag(Vs(m)),P=wn(ky(m),(Z,J)=>wr(J,"list-style"));return lc(x,P),[Yt.fromTag("li"),x]}).getOr([])),cN=(n,s)=>{const l=oe(s,(m,x)=>(Ai(x,m),x),n);return s.length>0?_3([l]):l},HX=n=>ad(n)?lu(n).filter(_c).fold(ae([]),s=>[n,s]):_c(n)?[n]:[],UX=(n,s,l)=>{const m=Yt.fromDom(s.commonAncestorContainer),x=ip(m,n),P=se(x,ge=>l.isWrapper(Vs(ge))),Z=lN(x,s),J=P.concat(Z.length?Z:HX(m));return Ie(J,Ru)},uN=()=>_3([]),WX=(n,s,l)=>cN(Yt.fromDom(s.cloneContents()),UX(n,s,l)),YX=(n,s)=>Eg(s,"table",ee(Gs,n)),fN=(n,s)=>YX(n,s[0]).bind(l=>{const m=s[0],x=s[s.length-1],P=ZX(l);return fE(P,m,x).map(Z=>_3([I4(Z)]))}).getOrThunk(uN),XX=(n,s,l)=>s.length>0&&s[0].collapsed?uN():WX(n,s[0],l),GX=(n,s,l)=>{const m=r6(s,n);return m.length>0?fN(n,m):XX(n,s,l)},N4=(n,s)=>s>=0&&s<n.length&&K1(n.charAt(s)),dE=n=>Pe(n.innerText),hE=n=>n.map(s=>s.nodeName).getOr("div").toLowerCase(),mE=n=>Y.from(n.selection.getRng()).map(s=>{var l;const m=Y.from(n.dom.getParent(s.commonAncestorContainer,n.dom.isBlock)),x=n.getBody(),P=hE(m),Z=Yt.fromDom(s.cloneContents());Jo(Z),N6(Z);const J=n.dom.add(x,P,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},Z.dom),ge=dE(J),Re=Pe((l=J.textContent)!==null&&l!==void 0?l:"");if(n.dom.remove(J),N4(Re,0)||N4(Re,Re.length-1)){const Ge=m.getOr(x),qe=dE(Ge),ot=qe.indexOf(ge);if(ot===-1)return ge;{const Et=N4(qe,ot-1),Vt=N4(qe,ot+ge.length);return(Et?" ":"")+ge+(Vt?" ":"")}}else return ge}).getOr(""),dN=(n,s)=>{const l=n.selection.getRng(),m=n.dom.create("body"),x=n.selection.getSel(),P=I6(n,F2(x)),Z=s.contextual?GX(Yt.fromDom(n.getBody()),P,n.schema).dom:l.cloneContents();return Z&&m.appendChild(Z),n.selection.serializer.serialize(m,s)},gE=(n,s)=>{if(s.format==="text")return mE(n);{const l=dN(n,s);return s.format==="tree"?l:n.selection.isCollapsed()?"":l}},hN=(n,s)=>({...n,format:s,get:!0,selection:!0,getInner:!0}),mN=(n,s,l={})=>{const m=hN(l,s);return g0(n,m).fold(q,x=>{const P=gE(n,x);return aE(n,P,x)})},dC=0,pE=1,vE=2,gN=(n,s)=>{const l=n.length+s.length+2,m=new Array(l),x=new Array(l),P=(Ge,qe,ot)=>({start:Ge,end:qe,diag:ot}),Z=(Ge,qe,ot,Et,Vt)=>{const kt=ge(Ge,qe,ot,Et);if(kt===null||kt.start===qe&&kt.diag===qe-Et||kt.end===Ge&&kt.diag===Ge-ot){let It=Ge,cn=ot;for(;It<qe||cn<Et;)It<qe&&cn<Et&&n[It]===s[cn]?(Vt.push([dC,n[It]]),++It,++cn):qe-Ge>Et-ot?(Vt.push([vE,n[It]]),++It):(Vt.push([pE,s[cn]]),++cn)}else{Z(Ge,kt.start,ot,kt.start-kt.diag,Vt);for(let It=kt.start;It<kt.end;++It)Vt.push([dC,n[It]]);Z(kt.end,qe,kt.end-kt.diag,Et,Vt)}},J=(Ge,qe,ot,Et)=>{let Vt=Ge;for(;Vt-qe<Et&&Vt<ot&&n[Vt]===s[Vt-qe];)++Vt;return P(Ge,Vt,qe)},ge=(Ge,qe,ot,Et)=>{const Vt=qe-Ge,kt=Et-ot;if(Vt===0||kt===0)return null;const It=Vt-kt,cn=kt+Vt,xn=(cn%2===0?cn:cn+1)/2;m[1+xn]=Ge,x[1+xn]=qe+1;let bn,$n,rr,gr,Qr;for(bn=0;bn<=xn;++bn){for($n=-bn;$n<=bn;$n+=2){for(rr=$n+xn,$n===-bn||$n!==bn&&m[rr-1]<m[rr+1]?m[rr]=m[rr+1]:m[rr]=m[rr-1]+1,gr=m[rr],Qr=gr-Ge+ot-$n;gr<qe&&Qr<Et&&n[gr]===s[Qr];)m[rr]=++gr,++Qr;if(It%2!==0&&It-bn<=$n&&$n<=It+bn&&x[rr-It]<=m[rr])return J(x[rr-It],$n+Ge-ot,qe,Et)}for($n=It-bn;$n<=It+bn;$n+=2){for(rr=$n+xn-It,$n===It-bn||$n!==It+bn&&x[rr+1]<=x[rr-1]?x[rr]=x[rr+1]-1:x[rr]=x[rr-1],gr=x[rr]-1,Qr=gr-Ge+ot-$n;gr>=Ge&&Qr>=ot&&n[gr]===s[Qr];)x[rr]=gr--,Qr--;if(It%2===0&&-bn<=$n&&$n<=bn&&x[rr]<=m[rr+It])return J(x[rr],$n+Ge-ot,qe,Et)}}return null},Re=[];return Z(0,n.length,0,s.length,Re),Re},yE=n=>Xr(n)?n.outerHTML:lr(n)?Bg.encodeRaw(n.data,!1):rd(n)?"<!--"+n.data+"-->":"",bE=n=>{let s;const l=document.createElement("div"),m=document.createDocumentFragment();for(n&&(l.innerHTML=n);s=l.firstChild;)m.appendChild(s);return m},jX=(n,s,l)=>{const m=bE(s);if(n.hasChildNodes()&&l<n.childNodes.length){const x=n.childNodes[l];n.insertBefore(m,x)}else n.appendChild(m)},B4=(n,s)=>{if(n.hasChildNodes()&&s<n.childNodes.length){const l=n.childNodes[s];n.removeChild(l)}},qX=(n,s)=>{let l=0;re(n,m=>{m[0]===dC?l++:m[0]===pE?(jX(s,m[1],l),l++):m[0]===vE&&B4(s,l)})},KX=(n,s)=>se(Ie(tt(n.childNodes),s?L(Pe,yE):yE),l=>l.length>0),JX=(n,s)=>{const l=Ie(tt(s.childNodes),yE);return qX(gN(l,n),s),s},pN=Rt(()=>document.implementation.createHTMLDocument("undo")),vN=n=>n.querySelector("iframe")!==null,eG=n=>({type:"fragmented",fragments:n,content:"",bookmark:null,beforeBookmark:null}),tG=n=>({type:"complete",fragments:null,content:n,bookmark:null,beforeBookmark:null}),Q4=n=>{const s=n.serializer.getTempAttrs(),l=j$(n.getBody(),s);return vN(l)?eG(KX(l,!0)):tG(Pe(l.innerHTML))},OE=(n,s,l)=>{const m=l?s.beforeBookmark:s.bookmark;s.type==="fragmented"?JX(s.fragments,n.getBody()):n.setContent(s.content,{format:"raw",no_selection:B(m)&&uk(m)?!m.isFakeCaret:!0}),m&&(n.selection.moveToBookmark(m),n.selection.scrollIntoView())},xE=n=>n.type==="fragmented"?n.fragments.join(""):n.content,SE=n=>{const s=Yt.fromTag("body",pN());return Tm(s,xE(n)),re(ll(s,"*[data-mce-bogus]"),$f),ms(s)},bce=(n,s)=>xE(n)===xE(s),nG=(n,s)=>SE(n)===SE(s),wE=(n,s)=>!n||!s?!1:bce(n,s)?!0:nG(n,s),CE=n=>n.get()===0,F4=(n,s,l)=>{CE(l)&&(n.typing=s)},yN=(n,s)=>{n.typing&&(F4(n,!1,s),n.add())},rG=n=>{n.typing&&(n.typing=!1,n.add())},oG=(n,s,l)=>{CE(s)&&l.set(D1(n.selection))},bN=(n,s,l,m,x,P,Z)=>{const J=Q4(n),ge=fr.extend(P||{},J);if(!CE(m)||n.removed)return null;const Re=s.data[l.get()];if(n.dispatch("BeforeAddUndo",{level:ge,lastLevel:Re,originalEvent:Z}).isDefaultPrevented()||Re&&wE(Re,ge))return null;s.data[l.get()]&&x.get().each(ot=>{s.data[l.get()].beforeBookmark=ot});const Ge=nb(n);if(Ge&&s.data.length>Ge){for(let ot=0;ot<s.data.length-1;ot++)s.data[ot]=s.data[ot+1];s.data.length--,l.set(s.data.length)}ge.bookmark=D1(n.selection),l.get()<s.data.length-1&&(s.data.length=l.get()+1),s.data.push(ge),l.set(s.data.length-1);const qe={level:ge,lastLevel:Re,originalEvent:Z};return l.get()>0?(n.setDirty(!0),n.dispatch("AddUndo",qe),n.dispatch("change",qe)):n.dispatch("AddUndo",qe),ge},sG=(n,s,l)=>{s.data=[],l.set(0),s.typing=!1,n.dispatch("ClearUndos")},aG=(n,s,l,m,x)=>{if(s.transact(m)){const P=s.data[l.get()].bookmark,Z=s.data[l.get()-1];OE(n,Z,!0),s.transact(x)&&(s.data[l.get()-1].beforeBookmark=P)}},iG=(n,s,l)=>{let m;return s.get()<l.length-1&&(s.set(s.get()+1),m=l[s.get()],OE(n,m,!1),n.setDirty(!0),n.dispatch("Redo",{level:m})),m},lG=(n,s,l,m)=>{let x;return s.typing&&(s.add(),s.typing=!1,F4(s,!1,l)),m.get()>0&&(m.set(m.get()-1),x=s.data[m.get()],OE(n,x,!0),n.setDirty(!0),n.dispatch("Undo",{level:x})),x},cG=n=>{n.clear(),n.add()},Oce=(n,s,l)=>l.get()>0||s.typing&&s.data[0]&&!wE(Q4(n),s.data[0]),xce=(n,s)=>s.get()<n.data.length-1&&!n.typing,uG=(n,s,l)=>(yN(n,s),n.beforeChange(),n.ignore(l),n.add()),fG=(n,s)=>{try{n.set(n.get()+1),s()}finally{n.set(n.get()-1)}},Sce=(n,s)=>{const l=n.dom,m=B(s)?s:n.getBody();re(l.select("table,a",m),x=>{switch(x.nodeName){case"TABLE":const P=M7(n),Z=l.getAttrib(x,"border");(!Z||Z==="0")&&n.hasVisual?l.addClass(x,P):l.removeClass(x,P);break;case"A":if(!l.getAttrib(x,"href")){const J=l.getAttrib(x,"name")||x.id,ge=U5(n);J&&n.hasVisual?l.addClass(x,ge):l.removeClass(x,ge)}break}}),n.dispatch("VisualAid",{element:s,hasVisual:n.hasVisual})},ON=n=>({init:{bindEvents:ie},undoManager:{beforeChange:(s,l)=>oG(n,s,l),add:(s,l,m,x,P,Z)=>bN(n,s,l,m,x,P,Z),undo:(s,l,m)=>lG(n,s,l,m),redo:(s,l)=>iG(n,s,l),clear:(s,l)=>sG(n,s,l),reset:s=>cG(s),hasUndo:(s,l)=>Oce(n,s,l),hasRedo:(s,l)=>xce(s,l),transact:(s,l,m)=>uG(s,l,m),ignore:(s,l)=>fG(s,l),extra:(s,l,m,x)=>aG(n,s,l,m,x)},formatter:{match:(s,l,m,x)=>m4(n,s,l,m,x),matchAll:(s,l)=>qY(n,s,l),matchNode:(s,l,m,x)=>cp(n,s,l,m,x),canApply:s=>tI(n,s),closest:s=>zb(n,s),apply:(s,l,m)=>CI(n,s,l,m),remove:(s,l,m,x)=>OI(n,s,l,m,x),toggle:(s,l,m)=>pX(n,s,l,m),formatChanged:(s,l,m,x,P)=>gX(n,s,l,m,x,P)},editor:{getContent:s=>fce(n,s),setContent:(s,l)=>KL(n,s,l),insertContent:(s,l)=>qL(n,s,l),addVisual:s=>Sce(n,s)},selection:{getContent:(s,l)=>mN(n,s,l)},autocompleter:{addDecoration:s=>QW(n,s),removeDecoration:()=>VW(n,Yt.fromDom(n.getBody()))},raw:{getModel:()=>Y.none()}}),_i=n=>{const s=Re=>I(Re)?Re:{},{init:l,undoManager:m,formatter:x,editor:P,selection:Z,autocompleter:J,raw:ge}=n;return{init:{bindEvents:l.bindEvents},undoManager:{beforeChange:m.beforeChange,add:m.add,undo:m.undo,redo:m.redo,clear:m.clear,reset:m.reset,hasUndo:m.hasUndo,hasRedo:m.hasRedo,transact:(Re,Ge,qe)=>m.transact(qe),ignore:(Re,Ge)=>m.ignore(Ge),extra:(Re,Ge,qe,ot)=>m.extra(qe,ot)},formatter:{match:(Re,Ge,qe,ot)=>x.match(Re,s(Ge),ot),matchAll:x.matchAll,matchNode:x.matchNode,canApply:Re=>x.canApply(Re),closest:Re=>x.closest(Re),apply:(Re,Ge,qe)=>x.apply(Re,s(Ge)),remove:(Re,Ge,qe,ot)=>x.remove(Re,s(Ge)),toggle:(Re,Ge,qe)=>x.toggle(Re,s(Ge)),formatChanged:(Re,Ge,qe,ot,Et)=>x.formatChanged(Ge,qe,ot,Et)},editor:{getContent:Re=>P.getContent(Re),setContent:(Re,Ge)=>({content:P.setContent(Re,Ge),html:""}),insertContent:(Re,Ge)=>(P.insertContent(Re),""),addVisual:P.addVisual},selection:{getContent:(Re,Ge)=>Z.getContent(Ge)},autocompleter:{addDecoration:J.addDecoration,removeDecoration:J.removeDecoration},raw:{getModel:()=>Y.some(ge.getRawModel())}}},TE=()=>{const n=ae(null),s=ae("");return{init:{bindEvents:ie},undoManager:{beforeChange:ie,add:n,undo:n,redo:n,clear:ie,reset:ie,hasUndo:ne,hasRedo:ne,transact:n,ignore:ie,extra:ie},formatter:{match:ne,matchAll:ae([]),matchNode:ae(void 0),canApply:ne,closest:s,apply:ie,remove:ie,toggle:ie,formatChanged:ae({unbind:ie})},editor:{getContent:s,setContent:ae({content:"",html:""}),insertContent:ae(""),addVisual:ie},selection:{getContent:s},autocompleter:{addDecoration:ie,removeDecoration:ie},raw:{getModel:ae(Y.none())}}},Rv=n=>lt(n.plugins,"rtc"),dG=n=>Sn(n.plugins,"rtc").bind(s=>Y.from(s.setup)),hG=n=>{const s=n;return dG(n).fold(()=>(s.rtcInstance=ON(n),Y.none()),l=>(s.rtcInstance=TE(),Y.some(()=>l().then(m=>(s.rtcInstance=_i(m),m.rtc.isRemote)))))},p0=n=>n.rtcInstance?n.rtcInstance:ON(n),Tl=n=>{const s=n.rtcInstance;if(s)return s;throw new Error("Failed to get RTC instance not yet initialized.")},wce=(n,s,l)=>{Tl(n).undoManager.beforeChange(s,l)},Vc=(n,s,l,m,x,P,Z)=>Tl(n).undoManager.add(s,l,m,x,P,Z),xN=(n,s,l,m)=>Tl(n).undoManager.undo(s,l,m),SN=(n,s,l)=>Tl(n).undoManager.redo(s,l),wN=(n,s,l)=>{Tl(n).undoManager.clear(s,l)},mG=(n,s)=>{Tl(n).undoManager.reset(s)},gG=(n,s,l)=>Tl(n).undoManager.hasUndo(s,l),V4=(n,s,l)=>Tl(n).undoManager.hasRedo(s,l),pG=(n,s,l,m)=>Tl(n).undoManager.transact(s,l,m),kE=(n,s,l)=>{Tl(n).undoManager.ignore(s,l)},vG=(n,s,l,m,x)=>{Tl(n).undoManager.extra(s,l,m,x)},CN=(n,s,l,m,x)=>Tl(n).formatter.match(s,l,m,x),TN=(n,s,l)=>Tl(n).formatter.matchAll(s,l),AE=(n,s,l,m,x)=>Tl(n).formatter.matchNode(s,l,m,x),kN=(n,s)=>Tl(n).formatter.canApply(s),PE=(n,s)=>Tl(n).formatter.closest(s),yG=(n,s,l,m)=>{Tl(n).formatter.apply(s,l,m)},bG=(n,s,l,m,x)=>{Tl(n).formatter.remove(s,l,m,x)},OG=(n,s,l,m)=>{Tl(n).formatter.toggle(s,l,m)},ah=(n,s,l,m,x,P)=>Tl(n).formatter.formatChanged(s,l,m,x,P),xG=(n,s)=>p0(n).editor.getContent(s),SG=(n,s,l)=>p0(n).editor.setContent(s,l),wG=(n,s,l)=>p0(n).editor.insertContent(s,l),CG=(n,s,l)=>Tl(n).selection.getContent(s,l),TG=(n,s)=>Tl(n).editor.addVisual(s),ME=n=>Tl(n).init.bindEvents(),kG=(n,s)=>Tl(n).autocompleter.addDecoration(s),AG=n=>Tl(n).autocompleter.removeDecoration(),PG=(n,s={})=>{const l=s.format?s.format:"html";return CG(n,l,s)},hC=n=>n.dom.length===0?(Ks(n),Y.none()):Y.some(n),MG=(n,s)=>n.filter(l=>xv.isBookmarkNode(l.dom)).bind(s?Gp:ju),EG=(n,s,l,m,x)=>{const P=n.dom,Z=s.dom,J=m?P.length:Z.length;m?(Fl(P,Z,x,!1,!m),l.setStart(Z,J)):(Fl(Z,P,x,!1,!m),l.setEnd(Z,J))},AN=(n,s,l)=>{lu(n).each(m=>{const x=n.dom;s&&ax(m,Nn(x,0),l)?Nb(x,0,l):!s&&ix(m,Nn(x,x.length),l)&&bL(x,x.length,l)})},z4=(n,s,l,m,x)=>{n.bind(P=>((m?bL:Nb)(P.dom,m?P.dom.length:0,x),s.filter(Ui).map(J=>EG(P,J,l,m,x)))).orThunk(()=>MG(s,m).or(s).filter(Ui).map(Z=>AN(Z,m,x)))},_G=(n,s,l)=>{const m=Y.from(s.firstChild).map(Yt.fromDom),x=Y.from(s.lastChild).map(Yt.fromDom);n.deleteContents(),n.insertNode(s);const P=m.bind(ju).filter(Ui).bind(hC),Z=x.bind(Gp).filter(Ui).bind(hC);z4(P,m,n,!0,l),z4(Z,x,n,!1,l),n.collapse(!1)},RG=(n,s)=>({format:"html",...n,set:!0,selection:!0,content:s}),Cce=(n,s)=>{if(s.format!=="raw"){const l=n.selection.getRng(),m=n.dom.getParent(l.commonAncestorContainer,n.dom.isBlock),x=m?{context:m.nodeName.toLowerCase()}:{},P=n.parser.parse(s.content,{forced_root_block:!1,...x,...s});return u0({validate:!1},n.schema).serialize(P)}else return s.content},DG=(n,s,l={})=>{const m=RG(l,s);iE(n,m).each(x=>{const P=Cce(n,x),Z=n.selection.getRng();_G(Z,Z.createContextualFragment(P),n.schema),n.selection.setRng(Z),Db(n,Z),R4(n,P,x)})},PN=(n,s,l)=>{if(lt(n,s)){const m=se(n[s],x=>x!==l);m.length===0?delete n[s]:n[s]=m}};var MN=(n,s)=>{let l,m;const x=(J,ge)=>ce(ge,Re=>n.is(Re,J)),P=J=>n.getParents(J,void 0,n.getRoot()),Z=()=>{l={},m={},s.on("NodeChange",J=>{const ge=J.element,Re=P(ge),Ge={};Bt(l,(qe,ot)=>{x(ot,Re).each(Et=>{m[ot]||(re(qe,Vt=>{Vt(!0,{node:Et,selector:ot,parents:Re})}),m[ot]=qe),Ge[ot]=qe})}),Bt(m,(qe,ot)=>{Ge[ot]||(delete m[ot],re(qe,Et=>{Et(!1,{node:ge,selector:ot,parents:Re})}))})})};return{selectorChangedWithUnbind:(J,ge)=>(l||Z(),l[J]||(l[J]=[]),l[J].push(ge),x(J,P(s.selection.getStart())).each(()=>{m[J]=l[J]}),{unbind:()=>{PN(l,J,ge),PN(m,J,ge)}})}};const EE=n=>!!(n&&n.ownerDocument)&&ic(Yt.fromDom(n.ownerDocument),Yt.fromDom(n)),$G=n=>n?EE(n.startContainer)&&EE(n.endContainer):!1,v0=(n,s,l,m)=>{let x,P;const{selectorChangedWithUnbind:Z}=MN(n,m),J=(Tr,co)=>{const Hs=n.createRng();B(Tr)&&B(co)?(Hs.setStart(Tr,co),Hs.setEnd(Tr,co),$n(Hs),cn(!1)):(m3(n,Hs,m.getBody(),!0),$n(Hs))},ge=Tr=>PG(m,Tr),Re=(Tr,co)=>DG(m,Tr,co),Ge=Tr=>$6(m.getBody(),bn(),Tr),qe=Tr=>F$(m.getBody(),bn(),Tr),ot=(Tr,co)=>pc.getBookmark(Tr,co),Et=Tr=>pc.moveToBookmark(Tr),Vt=(Tr,co)=>(_W(n,Tr,co).each($n),Tr),kt=()=>{const Tr=bn(),co=xn();return!Tr||Tr.item?!1:Tr.compareEndPoints?Tr.compareEndPoints("StartToEnd",Tr)===0:!co||Tr.collapsed},It=()=>{const Tr=bn(),co=m.getBody().querySelectorAll('[data-mce-selected="1"]');return co.length>0?Xe(co,Hs=>n.isEditable(Hs.parentElement)):B$(n,Tr)},cn=Tr=>{const co=bn();co.collapse(!!Tr),$n(co)},xn=()=>s.getSelection?s.getSelection():s.document.selection,bn=()=>{let Tr;const co=(Ts,ro,Io)=>{try{return ro.compareBoundaryPoints(Ts,Io)}catch{return-1}},Hs=s.document;if(B(m.bookmark)&&!c0(m)){const Ts=E6(m);if(Ts.isSome())return Ts.map(ro=>I6(m,[ro])[0]).getOr(Hs.createRange())}try{const Ts=xn();Ts&&!ef(Ts.anchorNode)&&(Ts.rangeCount>0?Tr=Ts.getRangeAt(0):Tr=Hs.createRange(),Tr=I6(m,[Tr])[0])}catch{}if(Tr||(Tr=Hs.createRange()),$g(Tr.startContainer)&&Tr.collapsed){const Ts=n.getRoot();Tr.setStart(Ts,0),Tr.setEnd(Ts,0)}return x&&P&&(co(Tr.START_TO_START,Tr,x)===0&&co(Tr.END_TO_END,Tr,x)===0?Tr=P:(x=null,P=null)),Tr},$n=(Tr,co)=>{if(!$G(Tr))return;const Hs=xn();if(Tr=m.dispatch("SetSelectionRange",{range:Tr,forward:co}).range,Hs){P=Tr;try{Hs.removeAllRanges(),Hs.addRange(Tr)}catch{}co===!1&&Hs.extend&&(Hs.collapse(Tr.endContainer,Tr.endOffset),Hs.extend(Tr.startContainer,Tr.startOffset)),x=Hs.rangeCount>0?Hs.getRangeAt(0):null}if(!Tr.collapsed&&Tr.startContainer===Tr.endContainer&&(Hs!=null&&Hs.setBaseAndExtent)&&Tr.endOffset-Tr.startOffset<2&&Tr.startContainer.hasChildNodes()){const ro=Tr.startContainer.childNodes[Tr.startOffset];ro&&ro.nodeName==="IMG"&&(Hs.setBaseAndExtent(Tr.startContainer,Tr.startOffset,Tr.endContainer,Tr.endOffset),(Hs.anchorNode!==Tr.startContainer||Hs.focusNode!==Tr.endContainer)&&Hs.setBaseAndExtent(ro,0,ro,1))}m.dispatch("AfterSetSelectionRange",{range:Tr,forward:co})},rr=Tr=>(Re(n.getOuterHTML(Tr)),Tr),gr=()=>V$(m.getBody(),bn()),Qr=(Tr,co)=>EW(n,bn(),Tr,co),zn=()=>{const Tr=xn(),co=Tr==null?void 0:Tr.anchorNode,Hs=Tr==null?void 0:Tr.focusNode;if(!Tr||!co||!Hs||ef(co)||ef(Hs))return!0;const Ts=n.createRng(),ro=n.createRng();try{Ts.setStart(co,Tr.anchorOffset),Ts.collapse(!0),ro.setStart(Hs,Tr.focusOffset),ro.collapse(!0)}catch{return!0}return Ts.compareBoundaryPoints(Ts.START_TO_START,ro)<=0},pi={dom:n,win:s,serializer:l,editor:m,expand:(Tr={type:"word"})=>$n(Ot(n).expand(bn(),Tr)),collapse:cn,setCursorLocation:J,getContent:ge,setContent:Re,getBookmark:ot,moveToBookmark:Et,select:Vt,isCollapsed:kt,isEditable:It,isForward:zn,setNode:rr,getNode:gr,getSel:xn,setRng:$n,getRng:bn,getStart:Ge,getEnd:qe,getSelectedBlocks:Qr,normalize:()=>{const Tr=bn(),co=xn();if(!Ov(co)&&z2(m)){const Hs=Me(n,Tr);return Hs.each(Ts=>{$n(Ts,zn())}),Hs.getOr(Tr)}return Tr},selectorChanged:(Tr,co)=>(Z(Tr,co),pi),selectorChangedWithUnbind:Z,getScrollContainer:()=>{let Tr,co=n.getRoot();for(;co&&co.nodeName!=="BODY";){if(co.scrollHeight>co.clientHeight){Tr=co;break}co=co.parentNode}return Tr},scrollIntoView:(Tr,co)=>{B(Tr)?gc(m,Tr,co):Db(m,bn(),co)},placeCaretAt:(Tr,co)=>$n(mf(Tr,co,m.getDoc())),getBoundingClientRect:()=>{const Tr=bn();return Tr.collapsed?Nn.fromRangeStart(Tr).getClientRects()[0]:Tr.getBoundingClientRect()},destroy:()=>{s=x=P=null,va.destroy()}},pc=xv(pi),va=k$(pi,m);return pi.bookmarkManager=pc,pi.controlSelection=va,pi},kx=(n,s,l)=>{n.addAttributeFilter("data-mce-tabindex",(m,x)=>{let P=m.length;for(;P--;){const Z=m[P];Z.attr("tabindex",Z.attr("data-mce-tabindex")),Z.attr(x,null)}}),n.addAttributeFilter("src,href,style",(m,x)=>{const P="data-mce-"+x,Z=s.url_converter,J=s.url_converter_scope;let ge=m.length;for(;ge--;){const Re=m[ge];let Ge=Re.attr(P);Ge!==void 0?(Re.attr(x,Ge.length>0?Ge:null),Re.attr(P,null)):(Ge=Re.attr(x),x==="style"?Ge=l.serializeStyle(l.parseStyle(Ge),Re.name):Z&&(Ge=Z.call(J,Ge,x,Re.name)),Re.attr(x,Ge.length>0?Ge:null))}}),n.addAttributeFilter("class",m=>{let x=m.length;for(;x--;){const P=m[x];let Z=P.attr("class");Z&&(Z=Z.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),P.attr("class",Z.length>0?Z:null))}}),n.addAttributeFilter("data-mce-type",(m,x,P)=>{let Z=m.length;for(;Z--;){const J=m[Z];J.attr("data-mce-type")==="bookmark"&&!P.cleanup&&(Y.from(J.firstChild).exists(Re=>{var Ge;return!Ce((Ge=Re.value)!==null&&Ge!==void 0?Ge:"")})?J.unwrap():J.remove())}}),n.addNodeFilter("noscript",m=>{var x;let P=m.length;for(;P--;){const Z=m[P].firstChild;Z&&(Z.value=Bg.decode((x=Z.value)!==null&&x!==void 0?x:""))}}),n.addNodeFilter("script,style",(m,x)=>{var P;const Z=ge=>ge.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let J=m.length;for(;J--;){const ge=m[J],Re=ge.firstChild,Ge=(P=Re==null?void 0:Re.value)!==null&&P!==void 0?P:"";if(x==="script"){const qe=ge.attr("type");qe&&ge.attr("type",qe==="mce-no/type"?null:qe.replace(/^mce\-/,"")),s.element_format==="xhtml"&&Re&&Ge.length>0&&(Re.value=`// <![CDATA[
`+Z(Ge)+`
// ]]>`)}else s.element_format==="xhtml"&&Re&&Ge.length>0&&(Re.value=`<!--
`+Z(Ge)+`
-->`)}}),n.addNodeFilter("#comment",m=>{let x=m.length;for(;x--;){const P=m[x],Z=P.value;s.preserve_cdata&&(Z==null?void 0:Z.indexOf("[CDATA["))===0?(P.name="#cdata",P.type=4,P.value=l.decode(Z.replace(/^\[CDATA\[|\]\]$/g,""))):(Z==null?void 0:Z.indexOf("mce:protected "))===0&&(P.name="#text",P.type=3,P.raw=!0,P.value=unescape(Z).substr(14))}}),n.addNodeFilter("xml:namespace,input",(m,x)=>{let P=m.length;for(;P--;){const Z=m[P];Z.type===7?Z.remove():Z.type===1&&x==="input"&&!Z.attr("type")&&Z.attr("type","text")}}),n.addAttributeFilter("data-mce-type",m=>{re(m,x=>{x.attr("data-mce-type")==="format-caret"&&(x.isEmpty(n.schema.getNonEmptyElements())?x.remove():x.unwrap())})}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(m,x)=>{let P=m.length;for(;P--;)m[P].attr(x,null)}),s.remove_trailing_brs&&WM(s,n,n.schema)},mC=n=>{const s=m=>(m==null?void 0:m.name)==="br",l=n.lastChild;if(s(l)){const m=l.prev;s(m)&&(l.remove(),m.remove())}},EN=(n,s,l)=>{let m;const x=n.dom;let P=s.cloneNode(!0);const Z=document.implementation;if(Z.createHTMLDocument){const J=Z.createHTMLDocument("");fr.each(P.nodeName==="BODY"?P.childNodes:[P],ge=>{J.body.appendChild(J.importNode(ge,!0))}),P.nodeName!=="BODY"?P=J.body.firstChild:P=J.body,m=x.doc,x.doc=J}return w3(n,{...l,node:P}),m&&(x.doc=m),P},_N=(n,s)=>B(n)&&n.hasEventListeners("PreProcess")&&!s.no_events,LG=(n,s,l)=>_N(n,l)?EN(n,s,l):s,RN=(n,s,l)=>{fr.inArray(s,l)===-1&&(n.addAttributeFilter(l,(m,x)=>{let P=m.length;for(;P--;)m[P].attr(x,null)}),s.push(l))},IG=(n,s,l)=>!s.no_events&&n?u6(n,{...s,content:l}).content:l,NG=(n,s,l)=>{const m=Pe(l.getInner?s.innerHTML:n.getOuterHTML(s));return l.selection||Xi(Yt.fromDom(s))?m:fr.trim(m)},BG=(n,s,l)=>{const m=l.selection?{forced_root_block:!1,...l}:l,x=n.parse(s,m);return mC(x),x},QG=(n,s,l)=>u0(n,s).serialize(l),DN=(n,s,l,m,x)=>{const P=QG(s,l,m);return IG(n,x,P)},FG=(n,s)=>{const l=["data-mce-selected"],m={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...n},x=s&&s.dom?s.dom:La.DOM,P=s&&s.schema?s.schema:Lm(m),Z=Gh(m,P);kx(Z,m,x);const J=(ge,Re={})=>{const Ge={format:"html",...Re},qe=LG(s,ge,Ge),ot=NG(x,qe,Ge),Et=BG(Z,ot,Ge);return Ge.format==="tree"?Et:DN(s,m,P,Et,Ge)};return{schema:P,addNodeFilter:Z.addNodeFilter,addAttributeFilter:Z.addAttributeFilter,serialize:J,addRules:P.addValidElements,setRules:P.setValidElements,addTempAttr:ee(RN,Z,l),getTempAttrs:ae(l),getNodeFilters:Z.getNodeFilters,getAttributeFilters:Z.getAttributeFilters,removeNodeFilter:Z.removeNodeFilter,removeAttributeFilter:Z.removeAttributeFilter}},$N=(n,s)=>{const l=FG(n,s);return{schema:l.schema,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:l.serialize,addRules:l.addRules,setRules:l.setRules,addTempAttr:l.addTempAttr,getTempAttrs:l.getTempAttrs,getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters,removeNodeFilter:l.removeNodeFilter,removeAttributeFilter:l.removeAttributeFilter}},gC="html",LN=(n,s)=>({...n,format:s,get:!0,getInner:!0}),IN=(n,s={})=>{const l=s.format?s.format:gC,m=LN(s,l);return g0(n,m).fold(q,x=>{const P=xG(n,x);return aE(n,P,x)})},VG="html",zG=(n,s)=>({format:VG,...n,set:!0,content:s}),_E=(n,s,l={})=>{const m=zG(l,s);return iE(n,m).map(x=>{const P=SG(n,x.content,x);return R4(n,P.html,x),P.content}).getOr(s)},NN="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),ZG="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),HG="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),BN=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],QN=(n,s)=>{const l=se(s,m=>lt(n,m));return je(l)},Tce=n=>{const s=QN(n,NN),l=n.forced_root_block;return(l===!1||l==="")&&s.push("forced_root_block (false only)"),je(s)},tg=n=>QN(n,ZG),Z4=(n,s)=>{const l=fr.makeMap(n.plugins," "),x=se(s,P=>lt(l,P));return je(x)},UG=n=>Z4(n,HG),WG=n=>Z4(n,BN.map(s=>s.name)),YG=(n,s)=>{const l=Tce(n),m=UG(s),x=m.length>0,P=l.length>0,Z=s.theme==="mobile";if(x||P||Z){const J=`
- `,ge=Z?`

Themes:${J}mobile`:"",Re=x?`

Plugins:${J}${m.join(J)}`:"",Ge=P?`

Options:${J}${l.join(J)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+ge+Re+Ge)}},XG=n=>ce(BN,s=>s.name===n).fold(()=>n,s=>s.replacedWith?`${n}, replaced by ${s.replacedWith}`:n),ca=(n,s)=>{const l=tg(n),m=WG(s),x=m.length>0,P=l.length>0;if(x||P){const Z=`
- `,J=x?`

Plugins:${Z}${m.map(XG).join(Z)}`:"",ge=P?`

Options:${Z}${l.join(Z)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+J+ge)}},kce=(n,s)=>{YG(n,s),ca(n,s)},H4=La.DOM,GG=n=>{H4.setStyle(n.id,"display",n.orgDisplay)},qa=n=>Y.from(n).each(s=>s.destroy()),jG=n=>{const s=n;s.contentAreaContainer=s.formElement=s.container=s.editorContainer=null,s.bodyElement=s.contentDocument=s.contentWindow=null,s.iframeElement=s.targetElm=null;const l=n.selection;if(l){const m=l.dom;s.selection=l.win=l.dom=m.doc=null}},pC=n=>{const s=n.formElement;s&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,delete s._mceOldSubmit),H4.unbind(s,"submit reset",n.formEventDelegate))},qG=n=>{if(!n.removed){const{_selectionOverrides:s,editorUpload:l}=n,m=n.getBody(),x=n.getElement();m&&n.save({is_removing:!0}),n.removed=!0,n.unbindAllNativeEvents(),n.hasHiddenInput&&B(x==null?void 0:x.nextSibling)&&H4.remove(x.nextSibling),r0(n),n.editorManager.remove(n),!n.inline&&m&&GG(n),o0(n),H4.remove(n.getContainer()),qa(s),qa(l),n.destroy()}},KG=(n,s)=>{const{selection:l,dom:m}=n;if(!n.destroyed){if(!s&&!n.removed){n.remove();return}s||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),qa(l),qa(m)),pC(n),jG(n),n.destroyed=!0}},vC=(()=>{const n={};return{add:(x,P)=>{n[x]=P},get:x=>n[x]?n[x]:{icons:{}},has:x=>lt(n,x)}})(),ih=Lc.ModelManager,vf=(n,s)=>s.dom[n],Ax=(n,s)=>parseInt(Ti(s,n),10),y0=ee(vf,"clientWidth"),pp=ee(vf,"clientHeight"),yC=ee(Ax,"margin-top"),RE=ee(Ax,"margin-left"),DE=n=>n.dom.getBoundingClientRect(),FN=(n,s,l)=>{const m=y0(n),x=pp(n);return s>=0&&l>=0&&s<=m&&l<=x},VN=(n,s,l,m)=>{const x=DE(s),P=n?x.left+s.dom.clientLeft+RE(s):0,Z=n?x.top+s.dom.clientTop+yC(s):0,J=l-P,ge=m-Z;return{x:J,y:ge}},JG=(n,s,l)=>{const m=Yt.fromDom(n.getBody()),x=n.inline?m:yy(m),P=VN(n.inline,x,s,l);return FN(x,P.x,P.y)},ej=n=>Y.from(n).map(Yt.fromDom),zN=n=>{const s=n.inline?n.getBody():n.getContentAreaContainer();return ej(s).map(Th).getOr(!1)};var ZN=()=>{const n=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:n,close:n,getArgs:n}};const $E=n=>{const s=[],l=()=>{const ot=n.theme;return ot&&ot.getNotificationManagerImpl?ot.getNotificationManagerImpl():ZN()},m=()=>Y.from(s[0]),x=(ot,Et)=>ot.type===Et.type&&ot.text===Et.text&&!ot.progressBar&&!ot.timeout&&!Et.progressBar&&!Et.timeout,P=()=>{re(s,ot=>{ot.reposition()})},Z=ot=>{s.push(ot)},J=ot=>{ke(s,Et=>Et===ot).each(Et=>{s.splice(Et,1)})},ge=(ot,Et=!0)=>n.removed||!zN(n)?{}:(Et&&n.dispatch("BeforeOpenNotification",{notification:ot}),ce(s,Vt=>x(l().getArgs(Vt),ot)).getOrThunk(()=>{n.editorManager.setActive(n);const Vt=l().open(ot,()=>{J(Vt),P(),N$(n)&&m().fold(()=>n.focus(),kt=>Lk(Yt.fromDom(kt.getEl())))});return Z(Vt),P(),n.dispatch("OpenNotification",{notification:{...Vt}}),Vt})),Re=()=>{m().each(ot=>{l().close(ot),J(ot),P()})},Ge=ae(s);return(ot=>{ot.on("SkinLoaded",()=>{const Et=C7(ot);Et&&ge({text:Et,type:"warning",timeout:0},!1),P()}),ot.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(P)}),ot.on("remove",()=>{re(s.slice(),Et=>{l().close(Et)})})})(n),{open:ge,close:Re,getNotifications:Ge}},Wb=Lc.PluginManager,Dv=Lc.ThemeManager;var Pce=()=>{const n=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:n,openUrl:n,alert:n,confirm:n,close:n}};const HN=n=>{let s=[];const l=()=>{const kt=n.theme;return kt&&kt.getWindowManagerImpl?kt.getWindowManagerImpl():Pce()},m=(kt,It)=>(...cn)=>It?It.apply(kt,cn):void 0,x=kt=>{n.dispatch("OpenWindow",{dialog:kt})},P=kt=>{n.dispatch("CloseWindow",{dialog:kt})},Z=kt=>{s.push(kt),x(kt)},J=kt=>{P(kt),s=se(s,It=>It!==kt),s.length===0&&n.focus()},ge=()=>Y.from(s[s.length-1]),Re=kt=>{n.editorManager.setActive(n),ox(n),n.ui.show();const It=kt();return Z(It),It},Ge=(kt,It)=>Re(()=>l().open(kt,It,J)),qe=kt=>Re(()=>l().openUrl(kt,J)),ot=(kt,It,cn)=>{const xn=l();xn.alert(kt,m(cn||xn,It))},Et=(kt,It,cn)=>{const xn=l();xn.confirm(kt,m(cn||xn,It))},Vt=()=>{ge().each(kt=>{l().close(kt),J(kt)})};return n.on("remove",()=>{re(s,kt=>{l().close(kt)})}),{open:Ge,openUrl:qe,alert:ot,confirm:Et,close:Vt}},tj=(n,s)=>{n.notificationManager.open({type:"error",text:s})},U4=(n,s)=>{n._skinLoaded?tj(n,s):n.on("SkinLoaded",()=>{tj(n,s)})},nj=(n,s)=>{U4(n,ud.translate(["Failed to upload image: {0}",s]))},Od=(n,s,l)=>{Lu(n,s,{message:l}),console.error(l)},W4=(n,s,l)=>l?`Failed to load ${n}: ${l} from url ${s}`:`Failed to load ${n} url: ${s}`,Mce=(n,s,l)=>{Od(n,"PluginLoadError",W4("plugin",s,l))},rj=(n,s,l)=>{Od(n,"IconsLoadError",W4("icons",s,l))},bC=(n,s,l)=>{Od(n,"LanguageLoadError",W4("language",s,l))},oj=(n,s,l)=>{Od(n,"ThemeLoadError",W4("theme",s,l))},UN=(n,s,l)=>{Od(n,"ModelLoadError",W4("model",s,l))},WN=(n,s,l)=>{const m=ud.translate(["Failed to initialize plugin: {0}",s]);Lu(n,"PluginLoadError",{message:m}),OC(m,l),U4(n,m)},OC=(n,...s)=>{const l=window.console;l&&(l.error?l.error(n,...s):l.log(n,...s))},sj=n=>/^[a-z0-9\-]+$/i.test(n),LE=n=>"content/"+n+"/content.css",b0=n=>tinymce.Resource.has(LE(n)),aj=n=>YN(n,Vw(n)),ij=n=>YN(n,B5(n)),YN=(n,s)=>{const l=n.editorManager.baseURL+"/skins/content",x=`content${n.editorManager.suffix}.css`;return Ie(s,P=>b0(P)?P:sj(P)&&!n.inline?`${l}/${P}/${x}`:n.documentBaseURI.toAbsolute(P))},lj=n=>{n.contentCSS=n.contentCSS.concat(aj(n),ij(n))},cj=n=>n?tt(n.getElementsByTagName("img")):[],uj=(n,s)=>{const l={};return{findAll:(x,P=le)=>{const Z=se(cj(x),ge=>{const Re=ge.src;return ge.hasAttribute("data-mce-bogus")||ge.hasAttribute("data-mce-placeholder")||!Re||Re===Dr.transparentSrc?!1:wr(Re,"blob:")?!n.isUploaded(Re)&&P(ge):wr(Re,"data:")?P(ge):!1}),J=Ie(Z,ge=>{const Re=ge.src;if(lt(l,Re))return l[Re].then(Ge=>M(Ge)?Ge:{image:ge,blobInfo:Ge.blobInfo});{const Ge=CX(s,Re).then(qe=>(delete l[Re],{image:ge,blobInfo:qe})).catch(qe=>(delete l[Re],qe));return l[Re]=Ge,Ge}});return Promise.all(J)}}},XN=()=>{let l={};const m=(ot,Et)=>({status:ot,resultUri:Et}),x=ot=>ot in l;return{hasBlobUri:x,getResultUri:ot=>{const Et=l[ot];return Et?Et.resultUri:null},isPending:ot=>x(ot)?l[ot].status===1:!1,isUploaded:ot=>x(ot)?l[ot].status===2:!1,markPending:ot=>{l[ot]=m(1,null)},markUploaded:(ot,Et)=>{l[ot]=m(2,Et)},removeFailed:ot=>{delete l[ot]},destroy:()=>{l={}}}};let fj=0;const dj=()=>{const n=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+n()+n()+n()},hj=n=>n+fj+++dj(),mj=()=>{let n=[];const s=qe=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[qe.toLowerCase()]||"dat",l=(qe,ot,Et,Vt,kt)=>{if(M(qe))return m({id:qe,name:Vt,filename:kt,blob:ot,base64:Et});if(I(qe))return m(qe);throw new Error("Unknown input type")},m=qe=>{if(!qe.blob||!qe.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ot=qe.id||hj("blobid"),Et=qe.name||ot,Vt=qe.blob;return{id:ae(ot),name:ae(Et),filename:ae(qe.filename||Et+"."+s(Vt.type)),blob:ae(Vt),base64:ae(qe.base64),blobUri:ae(qe.blobUri||URL.createObjectURL(Vt)),uri:ae(qe.uri)}},x=qe=>{Z(qe.id())||n.push(qe)},P=qe=>ce(n,qe).getOrUndefined(),Z=qe=>P(ot=>ot.id()===qe);return{create:l,add:x,get:Z,getByUri:qe=>P(ot=>ot.blobUri()===qe),getByData:(qe,ot)=>P(Et=>Et.base64()===qe&&Et.blob().type===ot),findFirst:P,removeByUri:qe=>{n=se(n,ot=>ot.blobUri()===qe?(URL.revokeObjectURL(ot.blobUri()),!1):!0)},destroy:()=>{re(n,qe=>{URL.revokeObjectURL(qe.blobUri())}),n=[]}}},Ece=(n,s)=>{const l={},m=(kt,It)=>kt?kt.replace(/\/$/,"")+"/"+It.replace(/^\//,""):It,x=(kt,It)=>new Promise((cn,xn)=>{const bn=new XMLHttpRequest;bn.open("POST",s.url),bn.withCredentials=s.credentials,bn.upload.onprogress=rr=>{It(rr.loaded/rr.total*100)},bn.onerror=()=>{xn("Image upload failed due to a XHR Transport error. Code: "+bn.status)},bn.onload=()=>{if(bn.status<200||bn.status>=300){xn("HTTP Error: "+bn.status);return}const rr=JSON.parse(bn.responseText);if(!rr||!M(rr.location)){xn("Invalid JSON: "+bn.responseText);return}cn(m(s.basePath,rr.location))};const $n=new FormData;$n.append("file",kt.blob(),kt.filename()),bn.send($n)}),P=E(s.handler)?s.handler:x,Z=()=>new Promise(kt=>{kt([])}),J=(kt,It)=>({url:It,blobInfo:kt,status:!0}),ge=(kt,It)=>({url:"",blobInfo:kt,status:!1,error:It}),Re=(kt,It)=>{fr.each(l[kt],cn=>{cn(It)}),delete l[kt]},Ge=(kt,It,cn)=>(n.markPending(kt.blobUri()),new Promise(xn=>{let bn,$n;try{const rr=()=>{bn&&(bn.close(),$n=ie)},gr=zn=>{rr(),n.markUploaded(kt.blobUri(),zn),Re(kt.blobUri(),J(kt,zn)),xn(J(kt,zn))},Qr=zn=>{rr(),n.removeFailed(kt.blobUri()),Re(kt.blobUri(),ge(kt,zn)),xn(ge(kt,zn))};$n=zn=>{zn<0||zn>100||Y.from(bn).orThunk(()=>Y.from(cn).map(Be)).each(Bn=>{bn=Bn,Bn.progressBar.value(zn)})},It(kt,$n).then(gr,zn=>{Qr(M(zn)?{message:zn}:zn)})}catch(rr){xn(ge(kt,rr))}})),qe=kt=>kt===x,ot=kt=>{const It=kt.blobUri();return new Promise(cn=>{l[It]=l[It]||[],l[It].push(cn)})},Et=(kt,It)=>(kt=fr.grep(kt,cn=>!n.isUploaded(cn.blobUri())),Promise.all(fr.map(kt,cn=>n.isPending(cn.blobUri())?ot(cn):Ge(cn,P,It))));return{upload:(kt,It)=>!s.url&&qe(P)?Z():Et(kt,It)}},Px=n=>()=>n.notificationManager.open({text:n.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),GN=(n,s)=>Ece(s,{url:b7(n),basePath:O7(n),credentials:Bw(n),handler:x7(n)}),IE=n=>{const s=XN(),l=GN(n,s);return{upload:(m,x=!0)=>l.upload(m,x?Px(n):void 0)}},gj=(n,s)=>n.dom.isEmpty(s.dom)&&B(n.schema.getTextBlockElements()[Vs(s)]),pj=n=>s=>{gj(n,s)&&Ai(s,Yt.fromHtml('<br data-mce-bogus="1" />'))},vj=n=>{const s=mj();let l,m;const x=XN(),P=[],Z=bn=>$n=>n.selection?bn($n):[],J=bn=>bn+(bn.indexOf("?")===-1?"?":"&")+new Date().getTime(),ge=(bn,$n,rr)=>{let gr=0;do gr=bn.indexOf($n,gr),gr!==-1&&(bn=bn.substring(0,gr)+rr+bn.substr(gr+$n.length),gr+=rr.length-$n.length+1);while(gr!==-1);return bn},Re=(bn,$n,rr)=>{const gr=`src="${rr}"${rr===Dr.transparentSrc?' data-mce-placeholder="1"':""}`;return bn=ge(bn,`src="${$n}"`,gr),bn=ge(bn,'data-mce-src="'+$n+'"','data-mce-src="'+rr+'"'),bn},Ge=(bn,$n)=>{re(n.undoManager.data,rr=>{rr.type==="fragmented"?rr.fragments=Ie(rr.fragments,gr=>Re(gr,bn,$n)):rr.content=Re(rr.content,bn,$n)})},qe=(bn,$n)=>{const rr=n.convertURL($n,"src");Ge(bn.src,$n),ku(Yt.fromDom(bn),{src:eb(n)?J($n):$n,"data-mce-src":rr})},ot=()=>(l||(l=GN(n,x)),It().then(Z(bn=>{const $n=Ie(bn,rr=>rr.blobInfo);return l.upload($n,Px(n)).then(Z(rr=>{const gr=[];let Qr=!1;const zn=Ie(rr,(Bn,tr)=>{const{blobInfo:eo,image:po}=bn[tr];let cs=!1;return Bn.status&&N5(n)?(Bn.url&&!sr(po.src,Bn.url)&&(Qr=!0),s.removeByUri(po.src),Rv(n)||qe(po,Bn.url)):Bn.error&&(Bn.error.remove&&(Ge(po.src,Dr.transparentSrc),gr.push(po),cs=!0),nj(n,Bn.error.message)),{element:po,status:Bn.status,uploadUri:Bn.url,blobInfo:eo,removed:cs}});return gr.length>0&&!Rv(n)?n.undoManager.transact(()=>{re(Jp(gr),Bn=>{const tr=lu(Bn);Ks(Bn),tr.each(pj(n)),s.removeByUri(Bn.dom.src)})}):Qr&&n.undoManager.dispatchChange(),zn}))}))),Et=()=>I5(n)?ot():Promise.resolve([]),Vt=bn=>Xe(P,$n=>$n(bn)),kt=bn=>{P.push(bn)},It=()=>(m||(m=uj(x,s)),m.findAll(n.getBody(),Vt).then(Z(bn=>{const $n=se(bn,rr=>M(rr)?(U4(n,rr),!1):rr.uriType!=="blob");return Rv(n)||re($n,rr=>{Ge(rr.image.src,rr.blobInfo.blobUri()),rr.image.src=rr.blobInfo.blobUri(),rr.image.removeAttribute("data-mce-src")}),$n}))),cn=()=>{s.destroy(),x.destroy(),m=l=null},xn=bn=>bn.replace(/src="(blob:[^"]+)"/g,($n,rr)=>{const gr=x.getResultUri(rr);if(gr)return'src="'+gr+'"';let Qr=s.getByUri(rr);return Qr||(Qr=oe(n.editorManager.get(),(zn,Bn)=>zn||Bn.editorUpload&&Bn.editorUpload.blobCache.getByUri(rr),void 0)),Qr?'src="data:'+Qr.blob().type+";base64,"+Qr.base64()+'"':$n});return n.on("SetContent",()=>{I5(n)?Et():It()}),n.on("RawSaveContent",bn=>{bn.content=xn(bn.content)}),n.on("GetContent",bn=>{bn.source_view||bn.format==="raw"||bn.format==="tree"||(bn.content=xn(bn.content))}),n.on("PostRender",()=>{n.parser.addNodeFilter("img",bn=>{re(bn,$n=>{const rr=$n.attr("src");if(!rr||s.getByUri(rr))return;const gr=x.getResultUri(rr);gr&&$n.attr("src",gr)})})}),{blobCache:s,addFilter:kt,uploadImages:ot,uploadImagesAuto:Et,scanForImages:It,destroy:cn}},yj=n=>{const s=n.dom,l=n.schema.type,m={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:x=>{s.setStyle(x,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:x=>{s.setStyle(x,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const x={inline:"span",styles:{textDecoration:"line-through"},exact:!0},P={inline:"strike",remove:"all",preserve_attributes:["class","style"]},Z={inline:"s",remove:"all",preserve_attributes:["class","style"]};return l!=="html4"?[Z,x,P]:[x,Z,P]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(x,P,Z)=>Xr(x)&&x.hasAttribute("href"),onformat:(x,P,Z)=>{fr.each(Z,(J,ge)=>{s.setAttrib(x,ge,J)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":x=>{var P;return(P=x==null?void 0:x.customValue)!==null&&P!==void 0?P:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return fr.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),x=>{m[x]={block:x,remove:"all"}}),m},O0={remove_similar:!0,inherit:!1},jh={selector:"td,th",...O0},Y4={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...jh},tablecellverticalalign:{styles:{"vertical-align":"%value"},...jh},tablecellbordercolor:{styles:{borderColor:"%value"},...jh},tablecellclass:{classes:["%value"],...jh},tableclass:{selector:"table",classes:["%value"],...O0},tablecellborderstyle:{styles:{borderStyle:"%value"},...jh},tablecellborderwidth:{styles:{borderWidth:"%value"},...jh}},X4=ae(Y4),Yb=n=>{const s={},l=Z=>B(Z)?s[Z]:s,m=Z=>lt(s,Z),x=(Z,J)=>{Z&&(M(Z)?(N(J)||(J=[J]),re(J,ge=>{U(ge.deep)&&(ge.deep=!rc(ge)),U(ge.split)&&(ge.split=!rc(ge)||ji(ge)),U(ge.remove)&&rc(ge)&&!ji(ge)&&(ge.remove="none"),rc(ge)&&ji(ge)&&(ge.mixed=!0,ge.block_expand=!0),M(ge.classes)&&(ge.classes=ge.classes.split(/\s+/))}),s[Z]=J):Bt(Z,(ge,Re)=>{x(Re,ge)}))},P=Z=>(Z&&s[Z]&&delete s[Z],s);return x(yj(n)),x(X4()),x(k7(n)),{get:l,has:m,register:x,unregister:P}},vp=fr.each,yf=La.DOM,Mx=n=>B(n)&&I(n),NE=(n,s)=>{const l=s&&s.schema||Lm({}),m=(ge,Re)=>{Re.classes.length>0&&yf.addClass(ge,Re.classes.join(" ")),yf.setAttribs(ge,Re.attrs)},x=ge=>{const Re=M(ge)?{name:ge,classes:[],attrs:{}}:ge,Ge=yf.create(Re.name);return m(Ge,Re),Ge},P=(ge,Re)=>{const Ge=l.getElementRule(ge.nodeName.toLowerCase()),qe=Ge==null?void 0:Ge.parentsRequired;return qe&&qe.length?Re&&Ve(qe,Re)?Re:qe[0]:!1},Z=(ge,Re,Ge)=>{let qe;const ot=Re[0],Et=Mx(ot)?ot.name:void 0,Vt=P(ge,Et);if(Vt)Et===Vt?(qe=ot,Re=Re.slice(1)):qe=Vt;else if(ot)qe=ot,Re=Re.slice(1);else if(!Ge)return ge;const kt=qe?x(qe):yf.create("div");kt.appendChild(ge),Ge&&fr.each(Ge,cn=>{const xn=x(cn);kt.insertBefore(xn,ge)});const It=Mx(qe)?qe.siblings:void 0;return Z(kt,Re,It)},J=yf.create("div");if(n.length>0){const ge=n[0],Re=x(ge),Ge=Mx(ge)?ge.siblings:void 0;J.appendChild(Z(Re,n.slice(1),Ge))}return J},BE=n=>{n=fr.trim(n);let s="div";const l={name:s,classes:[],attrs:{},selector:n};return n!=="*"&&(s=n.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(m,x,P,Z,J)=>{switch(x){case"#":l.attrs.id=P;break;case".":l.classes.push(P);break;case":":fr.inArray("checked disabled enabled read-only required".split(" "),P)!==-1&&(l.attrs[P]=P);break}if(Z==="["){const ge=J.match(/([\w\-]+)(?:\=\"([^\"]+))?/);ge&&(l.attrs[ge[1]]=ge[2])}return""})),l.name=s||"div",l},QE=n=>M(n)?(n=n.split(/\s*,\s*/)[0],n=n.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),fr.map(n.split(/(?:>|\s+(?![^\[\]]+\]))/),s=>{const l=fr.map(s.split(/(?:~\+|~|\+)/),BE),m=l.pop();return l.length&&(m.siblings=l),m}).reverse()):[],jN=(n,s)=>{let l="",m=V5(n);if(m==="")return"";const x=ot=>M(ot)?ot.replace(/%(\w+)/g,""):"",P=(ot,Et)=>yf.getStyle(Et??n.getBody(),ot,!0);if(M(s)){const ot=n.formatter.get(s);if(!ot)return"";s=ot[0]}if("preview"in s){const ot=s.preview;if(ot===!1)return"";m=ot||m}let Z=s.block||s.inline||"span",J;const ge=QE(s.selector);ge.length>0?(ge[0].name||(ge[0].name=Z),Z=s.selector,J=NE(ge,n)):J=NE([Z],n);const Re=yf.select(Z,J)[0]||J.firstChild;vp(s.styles,(ot,Et)=>{const Vt=x(ot);Vt&&yf.setStyle(Re,Et,Vt)}),vp(s.attributes,(ot,Et)=>{const Vt=x(ot);Vt&&yf.setAttrib(Re,Et,Vt)}),vp(s.classes,ot=>{const Et=x(ot);yf.hasClass(Re,Et)||yf.addClass(Re,Et)}),n.dispatch("PreviewFormats"),yf.setStyles(J,{position:"absolute",left:-65535}),n.getBody().appendChild(J);const Ge=P("fontSize"),qe=/px$/.test(Ge)?parseInt(Ge,10):0;return vp(m.split(" "),ot=>{let Et=P(ot,Re);if(!(ot==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Et)&&(Et=P(ot),v1(Et).toLowerCase()==="#ffffff"))&&!(ot==="color"&&v1(Et).toLowerCase()==="#000000")){if(ot==="font-size"&&/em|%$/.test(Et)){if(qe===0)return;Et=parseFloat(Et)/(/%$/.test(Et)?100:1)*qe+"px"}ot==="border"&&Et&&(l+="padding:0 2px;"),l+=ot+":"+Et+";"}}),n.dispatch("AfterPreviewFormats"),yf.remove(J),l},qN=n=>{n.addShortcut("meta+b","","Bold"),n.addShortcut("meta+i","","Italic"),n.addShortcut("meta+u","","Underline");for(let s=1;s<=6;s++)n.addShortcut("access+"+s,"",["FormatBlock",!1,"h"+s]);n.addShortcut("access+7","",["FormatBlock",!1,"p"]),n.addShortcut("access+8","",["FormatBlock",!1,"div"]),n.addShortcut("access+9","",["FormatBlock",!1,"address"])},Xb=n=>{const s=Yb(n),l=si({});return qN(n),eX(n),Rv(n)||dX(l,n),{get:s.get,has:s.has,register:s.register,unregister:s.unregister,apply:(m,x,P)=>{yG(n,m,x,P)},remove:(m,x,P,Z)=>{bG(n,m,x,P,Z)},toggle:(m,x,P)=>{OG(n,m,x,P)},match:(m,x,P,Z)=>CN(n,m,x,P,Z),closest:m=>PE(n,m),matchAll:(m,x)=>TN(n,m,x),matchNode:(m,x,P,Z)=>AE(n,m,x,P,Z),canApply:m=>kN(n,m),formatChanged:(m,x,P,Z)=>ah(n,l,m,x,P,Z),getCssText:ee(jN,n)}},FE=n=>{switch(n.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},KN=(n,s,l)=>{const m=si(!1),x=ge=>{F4(s,!1,l),s.add({},ge)};n.on("init",()=>{s.add()}),n.on("BeforeExecCommand",ge=>{const Re=ge.command;FE(Re)||(yN(s,l),s.beforeChange())}),n.on("ExecCommand",ge=>{const Re=ge.command;FE(Re)||x(ge)}),n.on("ObjectResizeStart cut",()=>{s.beforeChange()}),n.on("SaveContent ObjectResized blur",x),n.on("dragend",x),n.on("keyup",ge=>{const Re=ge.keyCode;if(ge.isDefaultPrevented())return;const Ge=Dr.os.isMacOS()&&ge.key==="Meta";(Re>=33&&Re<=36||Re>=37&&Re<=40||Re===45||ge.ctrlKey||Ge)&&(x(),n.nodeChanged()),(Re===46||Re===8)&&n.nodeChanged(),m.get()&&s.typing&&!wE(Q4(n),s.data[0])&&(n.isDirty()||n.setDirty(!0),n.dispatch("TypingUndo"),m.set(!1),n.nodeChanged())}),n.on("keydown",ge=>{const Re=ge.keyCode;if(ge.isDefaultPrevented())return;if(Re>=33&&Re<=36||Re>=37&&Re<=40||Re===45){s.typing&&x(ge);return}const Ge=ge.ctrlKey&&!ge.altKey||ge.metaKey;if((Re<16||Re>20)&&Re!==224&&Re!==91&&!s.typing&&!Ge){s.beforeChange(),F4(s,!0,l),s.add({},ge),m.set(!0);return}(Dr.os.isMacOS()?ge.metaKey:ge.ctrlKey&&!ge.altKey)&&s.beforeChange()}),n.on("mousedown",ge=>{s.typing&&x(ge)});const P=ge=>ge.inputType==="insertReplacementText",Z=ge=>ge.inputType==="insertText"&&ge.data===null,J=ge=>ge.inputType==="insertFromPaste"||ge.inputType==="insertFromDrop";n.on("input",ge=>{ge.inputType&&(P(ge)||Z(ge)||J(ge))&&x(ge)}),n.on("AddUndo Undo Redo ClearUndos",ge=>{ge.isDefaultPrevented()||n.nodeChanged()})},JN=n=>{n.addShortcut("meta+z","","Undo"),n.addShortcut("meta+y,meta+shift+z","","Redo")},xC=n=>{const s=Vg(),l=si(0),m=si(0),x={data:[],typing:!1,beforeChange:()=>{wce(n,l,s)},add:(P,Z)=>Vc(n,x,m,l,s,P,Z),dispatchChange:()=>{n.setDirty(!0);const P=Q4(n);P.bookmark=D1(n.selection),n.dispatch("change",{level:P,lastLevel:et(x.data,m.get()).getOrUndefined()})},undo:()=>xN(n,x,l,m),redo:()=>SN(n,m,x.data),clear:()=>{wN(n,x,m)},reset:()=>{mG(n,x)},hasUndo:()=>gG(n,x,m),hasRedo:()=>V4(n,x,m),transact:P=>pG(n,x,l,P),ignore:P=>{kE(n,l,P)},extra:(P,Z)=>{vG(n,x,m,P,Z)}};return Rv(n)||KN(n,x,l),JN(n),x},eB=[9,27,Yr.HOME,Yr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Yr.DOWN,Yr.UP,Yr.LEFT,Yr.RIGHT].concat(Dr.browser.isFirefox()?[224]:[]),VE="data-mce-placeholder",zE=n=>n.type==="keydown"||n.type==="keyup",ZE=n=>{const s=n.keyCode;return s===Yr.BACKSPACE||s===Yr.DELETE},$v=n=>{if(zE(n)){const s=n.keyCode;return!ZE(n)&&(Yr.metaKeyPressed(n)||n.altKey||s>=112&&s<=123||Ve(eB,s))}else return!1},x0=n=>zE(n)&&!(ZE(n)||n.type==="keyup"&&n.keyCode===229),qh=(n,s,l)=>{if(na(Yt.fromDom(s),!1)){const m=s.firstElementChild;return m?n.getStyle(s.firstElementChild,"padding-left")||n.getStyle(s.firstElementChild,"padding-right")?!1:l===m.nodeName.toLowerCase():!0}else return!1},bj=n=>{var s;const l=n.dom,m=Nc(n),x=(s=y$(n))!==null&&s!==void 0?s:"",P=(Z,J)=>{if($v(Z))return;const ge=n.getBody(),Re=x0(Z)?!1:qh(l,ge,m);(l.getAttrib(ge,VE)!==""!==Re||J)&&(l.setAttrib(ge,VE,Re?x:null),l.setAttrib(ge,"aria-placeholder",Re?x:null),d6(n,Re),n.on(Re?"keydown":"keyup",P),n.off(Re?"keyup":"keydown",P))};St(x)&&n.on("init",Z=>{P(Z,!0),n.on("change SetContent ExecCommand",P),n.on("paste",J=>pd.setEditorTimeout(n,()=>P(J)))})},Oj=(n,s)=>({block:n,position:s}),xj=(n,s)=>({from:n,to:s}),HE=(n,s)=>{const l=Yt.fromDom(n),m=Yt.fromDom(s.container());return z3(l,m).map(x=>Oj(x,s))},Sj=n=>!Gs(n.from.block,n.to.block),tB=(n,s)=>Au(s,x=>jc(x)||jl(x.dom),x=>Gs(x,n)).filter(Dl).getOr(n),wj=(n,s)=>{const l=Yt.fromDom(n);return Gs(tB(l,s.from.block),tB(l,s.to.block))},Cj=n=>ws(n.from.block.dom)===!1&&ws(n.to.block.dom)===!1,Tj=n=>{const s=l=>Mn(l)||GO(l.dom);return s(n.from.block)&&s(n.to.block)},kj=(n,s,l)=>ia(l.position.getNode())&&!na(l.block)?j1(!1,l.block.dom).bind(m=>m.isEqual(l.position)?Ql(s,n,m).bind(x=>HE(n,x)):Y.some(l)).getOr(l):l,Aj=(n,s,l)=>{const m=HE(n,Nn.fromRangeStart(l)),x=m.bind(P=>Ql(s,n,P.position).bind(Z=>HE(n,Z).map(J=>kj(n,s,J))));return Va(m,x,xj).filter(P=>Sj(P)&&wj(n,P)&&Cj(P)&&Tj(P))},Pj=(n,s,l)=>l.collapsed?Aj(n,s,l):Y.none(),UE=(n,s)=>{const l=il(n);return ke(l,m=>s.isBlock(Vs(m))).fold(ae(l),m=>l.slice(0,m))},G4=(n,s)=>{const l=UE(n,s);return re(l,Ks),l},WE=(n,s)=>{const l=ip(s,n);return ce(l.reverse(),m=>na(m)).each(Ks)},Mj=n=>se(Oy(n),s=>!na(s)).length===0,Ej=(n,s,l,m,x)=>{if(na(l))return D(l),eu(l.dom);Mj(x)&&na(s)&&Yi(x,Yt.fromTag("br"));const P=gu(l.dom,Nn.before(x.dom));return re(G4(s,m),Z=>{Yi(x,Z)}),WE(n,s),P},nB=(n,s)=>n.isInline(Vs(s)),rB=(n,s,l,m)=>{if(na(l)){if(na(s)){const Z=fe((J=>{const ge=(Re,Ge)=>Mg(Re).fold(()=>Ge,qe=>nB(m,qe)?ge(qe,Ge.concat(Ru(qe))):Ge);return ge(J,[])})(l),(J,ge)=>(_g(J,ge),ge),Rc());Ah(s),Ai(s,Z)}return Ks(l),eu(s.dom)}const x=hd(l.dom);return re(G4(s,m),P=>{Ai(l,P)}),WE(n,s),x},YE=(n,s)=>{const l=ip(s,n);return Y.from(l[l.length-1])},oB=(n,s)=>ic(s,n)?YE(s,n):Y.none(),XE=(n,s)=>{j1(n,s.dom).bind(l=>Y.from(l.getNode())).map(Yt.fromDom).filter(sd).each(Ks)},j4=(n,s,l,m)=>(XE(!0,s),XE(!1,l),oB(s,l).fold(ee(rB,n,s,l,m),ee(Ej,n,s,l,m))),sB=(n,s,l,m,x)=>s?j4(n,m,l,x):j4(n,l,m,x),GE=(n,s)=>{const l=Yt.fromDom(n.getBody());return Pj(l.dom,s,n.selection.getRng()).map(x=>()=>{sB(l,s,x.from.block,x.to.block,n.schema).each(P=>{n.selection.setRng(P.toRange())})})},yp=(n,s,l)=>{const m=s.getRng();return Va(z3(n,Yt.fromDom(m.startContainer)),z3(n,Yt.fromDom(m.endContainer)),(x,P)=>Gs(x,P)?Y.none():Y.some(()=>{m.deleteContents(),sB(n,!0,x,P,l).each(Z=>{s.setRng(Z.toRange())})})).getOr(Y.none())},lh=(n,s)=>{const l=Yt.fromDom(s),m=ee(Gs,n);return hi(l,jc,m).isSome()},q4=(n,s)=>lh(n,s.startContainer)||lh(n,s.endContainer),aB=(n,s)=>{const l=gu(n.dom,Nn.fromRangeStart(s)).isNone(),m=Qc(n.dom,Nn.fromRangeEnd(s)).isNone();return!q4(n,s)&&l&&m},K4=n=>Y.some(()=>{n.setContent(""),n.selection.setCursorLocation()}),iB=n=>{const s=Yt.fromDom(n.getBody()),l=n.selection.getRng();return aB(s,l)?K4(n):yp(s,n.selection,n.schema)},J4=(n,s)=>n.selection.isCollapsed()?Y.none():iB(n),bp=(n,s,l,m,x)=>Y.from(s._selectionOverrides.showCaret(n,l,m,x)),lB=n=>{const s=n.ownerDocument.createRange();return s.selectNode(n),s},Ex=(n,s)=>n.dispatch("BeforeObjectSelected",{target:s}).isDefaultPrevented()?Y.none():Y.some(lB(s)),cB=(n,s,l)=>{const m=a3(1,n.getBody(),s),x=Nn.fromRangeStart(m),P=x.getNode();if(_2(P))return bp(1,n,P,!x.isAtEnd(),!1);const Z=x.getNode(!0);if(_2(Z))return bp(1,n,Z,!1,!1);const J=Vb(n.dom.getRoot(),x.getNode());return _2(J)?bp(1,n,J,!1,l):Y.none()},_x=(n,s,l)=>s.collapsed?cB(n,s,l).getOr(s):s,jE=n=>kv(n)||I3(n),_j=n=>qm(n)||sx(n),Rj=(n,s)=>{lr(s)&&s.data.length===0&&n.remove(s)},uB=(n,s,l,m,x,P)=>{bp(m,n,P.getNode(!x),x,!0).each(Z=>{if(s.collapsed){const J=s.cloneRange();x?J.setEnd(Z.startContainer,Z.startOffset):J.setStart(Z.endContainer,Z.endOffset),J.deleteContents()}else s.deleteContents();n.selection.setRng(Z)}),Rj(n.dom,l)},Dj=(n,s)=>{const l=n.selection.getRng();if(!lr(l.commonAncestorContainer))return Y.none();const m=s?Ei.Forwards:Ei.Backwards,x=Kd(n.getBody()),P=ee(ik,s?x.next:x.prev),Z=s?jE:_j,J=Kg(m,n.getBody(),l),ge=P(J),Re=ge&&$s(s,ge);if(!Re||!i3(J,Re))return Y.none();if(Z(Re))return Y.some(()=>uB(n,l,J.getNode(),m,s,Re));const Ge=P(Re);return Ge&&Z(Ge)&&i3(Re,Ge)?Y.some(()=>uB(n,l,J.getNode(),m,s,Ge)):Y.none()},eA=(n,s)=>Dj(n,s),qE=(n,s)=>{const l=n.getBody();return s?eu(l).filter(kv):hd(l).filter(qm)},KE=n=>{const s=n.selection.getRng();return!s.collapsed&&(qE(n,!0).exists(l=>l.isEqual(Nn.fromRangeStart(s)))||qE(n,!1).exists(l=>l.isEqual(Nn.fromRangeEnd(s))))},JE=n=>B(n)&&(jc(Yt.fromDom(n))||ad(Yt.fromDom(n))),xd=jd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),$j=(n,s)=>{const l=s.getNode(!n),m=n?"after":"before";return Xr(l)&&l.getAttribute("data-mce-caret")===m},Lj=(n,s,l,m,x)=>{const P=Z=>x.isInline(Z.nodeName.toLowerCase())&&!qd(l,m,n);return ak(!s,l).fold(()=>ak(s,m).fold(ne,P),P)},fB=(n,s,l,m)=>{const x=m.getNode(!s);return z3(Yt.fromDom(n),Yt.fromDom(l.getNode())).map(P=>na(P)?xd.remove(P.dom):xd.moveToElement(x)).orThunk(()=>Y.some(xd.moveToElement(x)))},dB=(n,s,l,m)=>Ql(s,n,l).bind(x=>JE(x.getNode())||Lj(n,s,l,x,m)?Y.none():s&&ws(x.getNode())||!s&&ws(x.getNode(!0))?fB(n,s,l,x):s&&qm(l)||!s&&kv(l)?Y.some(xd.moveToPosition(x)):Y.none()),Ij=(n,s)=>F(s)?Y.none():n&&ws(s.nextSibling)?Y.some(xd.moveToElement(s.nextSibling)):!n&&ws(s.previousSibling)?Y.some(xd.moveToElement(s.previousSibling)):Y.none(),Nj=(n,s,l)=>l.fold(m=>Y.some(xd.remove(m)),m=>Y.some(xd.moveToElement(m)),m=>qd(s,m,n)?Y.none():Y.some(xd.moveToPosition(m))),tA=(n,s,l,m)=>$j(s,l)?Ij(s,l.getNode(!s)).orThunk(()=>dB(n,s,l,m)):dB(n,s,l,m).bind(x=>Nj(n,l,x)),e9=(n,s,l,m)=>{const x=a3(s?1:-1,n,l),P=Nn.fromRangeStart(x),Z=Yt.fromDom(n);return!s&&qm(P)?Y.some(xd.remove(P.getNode(!0))):s&&kv(P)?Y.some(xd.remove(P.getNode())):!s&&kv(P)&&B3(Z,P,m)?iY(Z,P,m).map(J=>xd.remove(J.getNode())):s&&qm(P)&&N3(Z,P,m)?lY(Z,P,m).map(J=>xd.remove(J.getNode())):tA(n,s,P,m)},Bj=(n,s)=>l=>(n._selectionOverrides.hideFakeCaret(),Pv(n,s,Yt.fromDom(l)),!0),Qj=(n,s)=>l=>{const m=s?Nn.before(l):Nn.after(l);return n.selection.setRng(m.toRange()),!0},Fj=n=>s=>(n.selection.setRng(s.toRange()),!0),hB=(n,s)=>Y.from(Vb(n.getBody(),s)),mB=(n,s)=>{const l=n.selection.getNode();return hB(n,l).filter(ws).fold(()=>e9(n.getBody(),s,n.selection.getRng(),n.schema).map(m=>()=>m.fold(Bj(n,s),Qj(n,s),Fj(n))),()=>Y.some(ie))},Vj=n=>{re(ll(n,".mce-offscreen-selection"),Ks)},zj=(n,s)=>{const l=n.selection.getNode();return ws(l)&&!rv(l)?hB(n,l.parentNode).filter(ws).fold(()=>Y.some(()=>{Vj(Yt.fromDom(n.getBody())),Pv(n,s,Yt.fromDom(n.selection.getNode())),Jk(n)}),()=>Y.some(ie)):KE(n)?Y.some(()=>{Z3(n,n.selection.getRng(),Yt.fromDom(n.getBody()))}):Y.none()},nA=n=>{const s=n.dom,l=n.selection,m=Vb(n.getBody(),l.getNode());if(jl(m)&&s.isBlock(m)&&s.isEmpty(m)){const x=s.create("br",{"data-mce-bogus":"1"});s.setHTML(m,""),m.appendChild(x),l.setRng(Nn.before(x).toRange())}return!0},t9=(n,s)=>n.selection.isCollapsed()?mB(n,s):zj(n,s),Zj=(n,s)=>{const l=Nn.fromRangeStart(n.selection.getRng());return Ql(s,n.getBody(),l).filter(m=>s?tY(m):nY(m)).bind(m=>cb(s?0:-1,m)).map(m=>()=>n.selection.select(m))},n9=(n,s)=>n.selection.isCollapsed()?Zj(n,s):Y.none(),Rx=lr,gB=n=>Rx(n)&&n.data[0]===he,pB=n=>Rx(n)&&n.data[n.data.length-1]===he,vB=n=>{var s;return((s=n.ownerDocument)!==null&&s!==void 0?s:document).createTextNode(he)},rA=n=>{var s;if(Rx(n.previousSibling))return pB(n.previousSibling)||n.previousSibling.appendData(he),n.previousSibling;if(Rx(n))return gB(n)||n.insertData(0,he),n;{const l=vB(n);return(s=n.parentNode)===null||s===void 0||s.insertBefore(l,n),l}},oA=n=>{var s,l;if(Rx(n.nextSibling))return gB(n.nextSibling)||n.nextSibling.insertData(0,he),n.nextSibling;if(Rx(n))return pB(n)||n.appendData(he),n;{const m=vB(n);return n.nextSibling?(s=n.parentNode)===null||s===void 0||s.insertBefore(m,n.nextSibling):(l=n.parentNode)===null||l===void 0||l.appendChild(m),m}},sA=(n,s)=>n?rA(s):oA(s),Hj=ee(sA,!0),aA=ee(sA,!1),yB=(n,s)=>lr(n.container())?sA(s,n.container()):sA(s,n.getNode()),bB=(n,s)=>{const l=s.get();return l&&n.container()===l&&vt(l)},r9=(n,s)=>s.fold(l=>{pl(n.get());const m=Hj(l);return n.set(m),Y.some(Nn(m,m.length-1))},l=>eu(l).map(m=>{if(bB(m,n)){const x=n.get();return Nn(x,1)}else{pl(n.get());const x=yB(m,!0);return n.set(x),Nn(x,1)}}),l=>hd(l).map(m=>{if(bB(m,n)){const x=n.get();return Nn(x,x.length-1)}else{pl(n.get());const x=yB(m,!1);return n.set(x),Nn(x,x.length-1)}}),l=>{pl(n.get());const m=aA(l);return n.set(m),Y.some(Nn(m,1))}),OB=(n,s)=>{for(let l=0;l<n.length;l++){const m=n[l].apply(null,s);if(m.isSome())return m}return Y.none()},Nu=jd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),xB=(n,s)=>{const l=Vm(s,n);return l||n},Uj=(n,s,l)=>{const m=Qb(l),x=xB(s,m.container());return Hh(n,x,m).fold(()=>Qc(x,m).bind(ee(Hh,n,x)).map(P=>Nu.before(P)),Y.none)},Wj=(n,s)=>yv(n,s)===null,SB=(n,s,l)=>Hh(n,s,l).filter(ee(Wj,s)),Yj=(n,s,l)=>{const m=F3(l);return SB(n,s,m).bind(x=>gu(x,m).isNone()?Y.some(Nu.start(x)):Y.none())},Xj=(n,s,l)=>{const m=Qb(l);return SB(n,s,m).bind(x=>Qc(x,m).isNone()?Y.some(Nu.end(x)):Y.none())},_ce=(n,s,l)=>{const m=F3(l),x=xB(s,m.container());return Hh(n,x,m).fold(()=>gu(x,m).bind(ee(Hh,n,x)).map(P=>Nu.after(P)),Y.none)},ch=n=>!OL(iA(n)),Kh=(n,s,l)=>OB([Uj,Yj,Xj,_ce],[n,s,l]).filter(ch),iA=n=>n.fold(q,q,q,q),o9=n=>n.fold(ae("before"),ae("start"),ae("end"),ae("after")),lA=n=>n.fold(Nu.before,Nu.before,Nu.after,Nu.after),cA=n=>n.fold(Nu.start,Nu.start,Nu.end,Nu.end),Gj=(n,s)=>o9(n)===o9(s)&&iA(n)===iA(s),wB=(n,s,l,m,x,P)=>Va(Hh(s,l,m),Hh(s,l,x),(Z,J)=>Z!==J&&Uh(l,Z,J)?Nu.after(n?Z:J):P).getOr(P),jj=(n,s)=>n.fold(le,l=>!Gj(l,s)),qj=(n,s,l,m,x)=>{const P=$s(n,x);return Ql(n,l,P).map(ee($s,n)).fold(()=>m.map(lA),ge=>Kh(s,l,ge).map(ee(wB,n,s,l,P,ge)).filter(ee(jj,m))).filter(ch)},Kj=(n,s)=>n?s.fold(L(Y.some,Nu.start),Y.none,L(Y.some,Nu.after),Y.none):s.fold(Y.none,L(Y.some,Nu.before),Y.none,L(Y.some,Nu.end)),Dx=(n,s,l,m)=>{const x=$s(n,m),P=Kh(s,l,x);return Kh(s,l,x).bind(ee(Kj,n)).orThunk(()=>qj(n,s,l,P,m))},CB=n=>E(n.selection.getSel().modify),s9=(n,s,l)=>{const m=n?1:-1;return s.setRng(Nn(l.container(),l.offset()+m).toRange()),s.getSel().modify("move",n?"forward":"backward","word"),!0},TB=(n,s)=>{const l=s.selection.getRng(),m=n?Nn.fromRangeEnd(l):Nn.fromRangeStart(l);return CB(s)?n&&gn(m)?s9(!0,s.selection,m):!n&&An(m)?s9(!1,s.selection,m):!1:!1};var Jh;(function(n){n[n.Br=0]="Br",n[n.Block=1]="Block",n[n.Wrap=2]="Wrap",n[n.Eol=3]="Eol"})(Jh||(Jh={}));const uA=(n,s)=>n===Ei.Backwards?ct(s):s,Jj=(n,s,l)=>n===Ei.Forwards?s.next(l):s.prev(l),eq=(n,s,l,m)=>ia(m.getNode(s===Ei.Forwards))?Jh.Br:qd(l,m)===!1?Jh.Block:Jh.Wrap,tq=(n,s,l,m)=>{const x=Kd(l);let P=m;const Z=[];for(;P;){const J=Jj(s,x,P);if(!J)break;if(ia(J.getNode(!1)))return s===Ei.Forwards?{positions:uA(s,Z).concat([J]),breakType:Jh.Br,breakAt:Y.some(J)}:{positions:uA(s,Z),breakType:Jh.Br,breakAt:Y.some(J)};if(!J.isVisible()){P=J;continue}if(n(P,J)){const ge=eq(l,s,P,J);return{positions:uA(s,Z),breakType:ge,breakAt:Y.some(J)}}Z.push(J),P=J}return{positions:uA(s,Z),breakType:Jh.Eol,breakAt:Y.none()}},nq=(n,s,l,m)=>s(l,m).breakAt.map(x=>{const P=s(l,x).positions;return n===Ei.Backwards?P.concat(x):[x].concat(P)}).getOr([]),kB=(n,s)=>oe(n,(l,m)=>l.fold(()=>Y.some(m),x=>Va(yt(x.getClientRects()),yt(m.getClientRects()),(P,Z)=>{const J=Math.abs(s-P.left);return Math.abs(s-Z.left)<=J?m:x}).or(l)),Y.none()),Hf=(n,s)=>yt(s.getClientRects()).bind(l=>kB(n,l.left)),SC=ee(tq,Nn.isAbove,-1),wC=ee(tq,Nn.isBelow,1),S0=ee(nq,-1,SC),a9=ee(nq,1,wC),AB=(n,s)=>SC(n,s).breakAt.isNone(),CC=(n,s)=>wC(n,s).breakAt.isNone(),rq=n=>eu(n).map(s=>[s].concat(wC(n,s).positions)).getOr([]),oq=n=>hd(n).map(s=>SC(n,s).positions.concat(s)).getOr([]),sq=(n,s)=>Hf(S0(n,s),s),aq=(n,s)=>Hf(a9(n,s),s),iq=ws,PB=(n,s)=>Math.abs(n.left-s),Op=(n,s)=>Math.abs(n.right-s),lq=n=>ut(n,"node"),MB=(n,s)=>dn(n,(l,m)=>{const x=Math.min(PB(l,s),Op(l,s)),P=Math.min(PB(m,s),Op(m,s));return P===x&&lq(m)&&iq(m.node)||P<x?m:l}),cq=n=>{const s=l=>Ie(l,m=>{const x=fv(m);return x.node=n,x});if(Xr(n))return s(n.getClientRects());if(lr(n)){const l=n.ownerDocument.createRange();return l.setStart(n,0),l.setEnd(n,n.data.length),s(l.getClientRects())}else return[]},EB=n=>Ze(n,cq);var TC;(function(n){n[n.Up=-1]="Up",n[n.Down=1]="Down"})(TC||(TC={}));const i9=(n,s,l,m)=>{let x=m;for(;x=H1(x,n,gs,s);)if(l(x))return},fA=(n,s,l,m,x,P)=>{let Z=0;const J=[],ge=qe=>{let ot=EB([qe]);n===-1&&(ot=ot.reverse());for(let Et=0;Et<ot.length;Et++){const Vt=ot[Et];if(!l(Vt,Re)){if(J.length>0&&s(Vt,Wt(J))&&Z++,Vt.line=Z,x(Vt))return!0;J.push(Vt)}}return!1},Re=Wt(P.getClientRects());if(!Re)return J;const Ge=P.getNode();return Ge&&(ge(Ge),i9(n,m,ge,Ge)),J},l9=(n,s)=>s.line>n,_B=(n,s)=>s.line===n,RB=ee(fA,TC.Up,Zg,hv),DB=ee(fA,TC.Down,hv,Zg),$B=n=>Wt(n.getClientRects()),kC=(n,s,l,m)=>{const x=Kd(s);let P,Z,J,ge;const Re=[];let Ge=0;n===1?(P=x.next,Z=hv,J=Zg,ge=Nn.after(m)):(P=x.prev,Z=Zg,J=hv,ge=Nn.before(m));const qe=$B(ge);do{if(!ge.isVisible())continue;const ot=$B(ge);if(J(ot,qe))continue;Re.length>0&&Z(ot,Wt(Re))&&Ge++;const Et=fv(ot);if(Et.position=ge,Et.line=Ge,l(Et))return Re;Re.push(Et)}while(ge=P(ge));return Re},AC=n=>s=>l9(n,s),dA=n=>s=>_B(n,s),xp=(n,s)=>{n.selection.setRng(s),Db(n,n.selection.getRng())},hA=(n,s,l)=>Y.some(_x(n,s,l)),c9=(n,s,l,m,x,P)=>{const Z=s===Ei.Forwards,J=Kd(n.getBody()),ge=ee(ik,Z?J.next:J.prev),Re=Z?m:x;if(!l.collapsed){const Vt=vw(l);if(P(Vt))return bp(s,n,Vt,s===Ei.Backwards,!1);if(KE(n)){const kt=l.cloneRange();return kt.collapse(s===Ei.Backwards),Y.from(kt)}}const Ge=Kg(s,n.getBody(),l);if(Re(Ge))return Ex(n,Ge.getNode(!Z));let qe=ge(Ge);const ot=yn(l);if(qe)qe=$s(Z,qe);else return ot?Y.some(l):Y.none();if(Re(qe))return bp(s,n,qe.getNode(!Z),Z,!1);const Et=ge(qe);return Et&&Re(Et)&&i3(qe,Et)?bp(s,n,Et.getNode(!Z),Z,!1):ot?hA(n,qe.toRange(),!1):Y.none()},PC=(n,s,l,m,x,P)=>{const Z=Kg(s,n.getBody(),l),J=Wt(Z.getClientRects()),ge=s===TC.Down,Re=n.getBody();if(!J)return Y.none();if(KE(n)){const It=ge?Nn.fromRangeEnd(l):Nn.fromRangeStart(l);return(ge?aq:sq)(Re,It).orThunk(()=>Y.from(It)).map(xn=>xn.toRange())}const qe=(ge?DB:RB)(Re,AC(1),Z),ot=se(qe,dA(1)),Et=J.left,Vt=MB(ot,Et);if(Vt&&P(Vt.node)){const It=Math.abs(Et-Vt.left),cn=Math.abs(Et-Vt.right);return bp(s,n,Vt.node,It<cn,!1)}let kt;if(m(Z)?kt=Z.getNode():x(Z)?kt=Z.getNode(!0):kt=vw(l),kt){const It=kC(s,Re,AC(1),kt);let cn=MB(se(It,dA(1)),Et);if(cn||(cn=Wt(se(It,dA(0))),cn))return hA(n,cn.position.toRange(),!1)}return ot.length===0?MC(n,ge).filter(ge?x:m).map(It=>_x(n,It.toRange(),!1)):Y.none()},MC=(n,s)=>{const l=n.selection.getRng(),m=s?Nn.fromRangeEnd(l):Nn.fromRangeStart(l),x=o3(m.container(),n.getBody());if(s){const P=wC(x,m);return ft(P.positions)}else{const P=SC(x,m);return yt(P.positions)}},$x=(n,s,l)=>MC(n,s).filter(l).exists(m=>(n.selection.setRng(m.toRange()),!0)),mA=(n,s)=>{const l=n.dom.createRng();l.setStart(s.container(),s.offset()),l.setEnd(s.container(),s.offset()),n.selection.setRng(l)},u9=(n,s)=>{n?s.setAttribute("data-mce-selected","inline-boundary"):s.removeAttribute("data-mce-selected")},LB=(n,s,l)=>r9(s,l).map(m=>(mA(n,m),l)),uq=(n,s,l)=>{const m=Nn.fromRangeStart(n);if(n.collapsed)return m;{const x=Nn.fromRangeEnd(n);return l?gu(s,x).getOr(x):Qc(s,m).getOr(m)}},IB=(n,s,l)=>{const m=n.getBody(),x=uq(n.selection.getRng(),m,l),P=ee(Bb,n);return Dx(l,P,m,x).bind(J=>LB(n,s,J))},fq=(n,s,l)=>{const m=Ie(ll(Yt.fromDom(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),Z=>Z.dom),x=se(m,n),P=se(l,n);re(pt(x,P),ee(u9,!1)),re(pt(P,x),ee(u9,!0))},NB=(n,s)=>{const l=s.get();if(n.selection.isCollapsed()&&!n.composing&&l){const m=Nn.fromRangeStart(n.selection.getRng());Nn.isTextPosition(m)&&!AY(m)&&(mA(n,tk(l,m)),s.set(null))}},Rce=(n,s,l,m)=>{if(s.selection.isCollapsed()){const x=se(m,n);re(x,P=>{const Z=Nn.fromRangeStart(s.selection.getRng());Kh(n,s.getBody(),Z).bind(J=>LB(s,l,J))})}},BB=(n,s,l)=>gv(n)?IB(n,s,l).isSome():!1,QB=(n,s,l)=>gv(s)?TB(n,s):!1,dq=n=>{const s=si(null),l=ee(Bb,n);return n.on("NodeChange",m=>{gv(n)&&(fq(l,n.dom,m.parents),NB(n,s),Rce(l,n,s,m.parents))}),s},hq=ee(QB,!0),mq=ee(QB,!1),gA=(n,s,l)=>{if(gv(n)){const m=MC(n,s).getOrThunk(()=>{const x=n.selection.getRng();return s?Nn.fromRangeEnd(x):Nn.fromRangeStart(x)});return Kh(ee(Bb,n),n.getBody(),m).exists(x=>{const P=lA(x);return r9(l,P).exists(Z=>(mA(n,Z),!0))})}else return!1},gq=(n,s)=>{const l=document.createRange();return l.setStart(n.container(),n.offset()),l.setEnd(s.container(),s.offset()),l},pq=n=>Va(eu(n),hd(n),(s,l)=>{const m=$s(!0,s),x=$s(!1,l);return Qc(n,m).forall(P=>P.isEqual(x))}).getOr(!0),f9=(n,s)=>l=>r9(s,l).map(m=>()=>mA(n,m)),FB=(n,s,l,m)=>{const x=n.getBody(),P=ee(Bb,n);n.undoManager.ignore(()=>{n.selection.setRng(gq(l,m)),V3(n),Kh(P,x,Nn.fromRangeStart(n.selection.getRng())).map(cA).bind(f9(n,s)).each(pe)}),n.nodeChanged()},Gb=(n,s)=>{const l=Vm(s,n);return l||n},VB=(n,s,l,m)=>{const x=Gb(n.getBody(),m.container()),P=ee(Bb,n),Z=Kh(P,x,m);return Z.bind(ge=>l?ge.fold(ae(Y.some(cA(ge))),Y.none,ae(Y.some(lA(ge))),Y.none):ge.fold(Y.none,ae(Y.some(lA(ge))),Y.none,ae(Y.some(cA(ge))))).map(f9(n,s)).getOrThunk(()=>{const ge=Zm(l,x,m),Re=ge.bind(Ge=>Kh(P,x,Ge));return Va(Z,Re,()=>Hh(P,x,m).bind(Ge=>pq(Ge)?Y.some(()=>{Pv(n,l,Yt.fromDom(Ge))}):Y.none())).getOrThunk(()=>Re.bind(()=>ge.map(Ge=>()=>{l?FB(n,s,m,Ge):FB(n,s,Ge,m)})))})},EC=(n,s,l)=>{if(n.selection.isCollapsed()&&gv(n)){const m=Nn.fromRangeStart(n.selection.getRng());return VB(n,s,l,m)}return Y.none()},zB=n=>Ll(n)>1,pA=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=Yt.fromDom(n.selection.getStart()),x=ip(m,l);return ke(x,s).fold(ae(x),P=>x.slice(0,P))},w0=n=>Ll(n)===1,ZB=n=>pA(n,s=>n.schema.isBlock(Vs(s))||zB(s)),uh=n=>pA(n,s=>n.schema.isBlock(Vs(s))),C0=(n,s)=>{const l=ee(up,n);return Ze(s,m=>l(m)?[m.dom]:[])},vA=n=>{const s=uh(n);return C0(n,s)},vq=(n,s,l,m)=>{const x=C0(s,m);if(x.length===0)Pv(s,n,l);else{const P=iI(l.dom,x);s.selection.setRng(P.toRange())}},HB=(n,s)=>{const l=se(ZB(n),w0);return ft(l).bind(m=>{const x=Nn.fromRangeStart(n.selection.getRng());return e4(s,x,m.dom)&&!Sb(m)?Y.some(()=>vq(s,n,m,l)):Y.none()})},yq=(n,s)=>{const l=s.parentElement;return ia(s)&&!Q(l)&&n.dom.isEmpty(l)},bq=n=>Sb(Yt.fromDom(n)),UB=(n,s)=>{const l=n.selection.getStart(),m=yq(n,l)||bq(l)?iI(l,s):y4(n.selection.getRng(),s);n.selection.setRng(m.toRange())},Oq=(n,s)=>{const l=pt(s,vA(n));l.length>0&&UB(n,l)},WB=n=>lr(n.startContainer),YB=n=>n.startOffset===0&&WB(n),xq=(n,s)=>{const l=s.startContainer.parentElement;return!Q(l)&&up(n,Yt.fromDom(l))},Sq=n=>{const s=n.startContainer.parentNode,l=n.endContainer.parentNode;return!Q(s)&&!Q(l)&&s.isEqualNode(l)},Lx=n=>{const s=n.endContainer;return n.endOffset===(lr(s)?s.length:s.childNodes.length)},d9=n=>Sq(n)&&Lx(n),XB=n=>!n.endContainer.isEqualNode(n.commonAncestorContainer),GB=n=>d9(n)||XB(n),h9=n=>{const s=n.selection.getRng();return YB(s)&&xq(n,s)&&GB(s)},wq=n=>{if(h9(n)){const s=vA(n);return Y.some(()=>{V3(n),Oq(n,s)})}else return Y.none()},m9=(n,s)=>n.selection.isCollapsed()?HB(n,s):wq(n),Cq=(n,s)=>EY(n,l=>ff(l.dom),l=>s.isBlock(Vs(l))),Tq=n=>Cq(Yt.fromDom(n.selection.getStart()),n.schema),kq=n=>{const s=n.selection.getRng();return s.collapsed&&(WB(s)||n.dom.isEmpty(s.startContainer))&&!Tq(n)},_C=n=>(kq(n)&&UB(n,[]),!0),g9=(n,s,l)=>B(l)?Y.some(()=>{n._selectionOverrides.hideFakeCaret(),Pv(n,s,Yt.fromDom(l))}):Y.none(),jB=(n,s)=>{const l=s?I3:sx,m=s?Ei.Forwards:Ei.Backwards,x=Kg(m,n.getBody(),n.selection.getRng());return l(x)?g9(n,s,x.getNode(!s)):Y.from($s(s,x)).filter(P=>l(P)&&i3(x,P)).bind(P=>g9(n,s,P.getNode(!s)))},Aq=(n,s)=>{const l=n.selection.getNode();return ri(l)?g9(n,s,l):Y.none()},p9=(n,s)=>n.selection.isCollapsed()?jB(n,s):Aq(n,s),Sd=n=>Au(n,s=>jl(s.dom)||ws(s.dom)).exists(s=>jl(s.dom)),v9=n=>Ft(n??"").getOr(0),yA=(n,s)=>{const l=n||Ec(s)?"margin":"padding",m=Ti(s,"direction")==="rtl"?"-right":"-left";return l+m},qB=(n,s,l,m,x,P)=>{const Z=yA(l,Yt.fromDom(P)),J=v9(n.getStyle(P,Z));if(s==="outdent"){const ge=Math.max(0,J-m);n.setStyle(P,Z,ge?ge+x:"")}else{const ge=J+m+x;n.setStyle(P,Z,ge)}},y9=(n,s)=>Xe(s,l=>{const m=yA(w2(n),l),x=Wi(l,m).map(v9).getOr(0);return n.dom.getContentEditable(l.dom)!=="false"&&x>0}),KB=n=>{const s=eQ(n);return!n.mode.isReadOnly()&&(s.length>1||y9(n,s))},JB=n=>_c(n)||ad(n),Pq=n=>lu(n).exists(JB),eQ=n=>se(Jp(n.selection.getSelectedBlocks()),s=>!JB(s)&&!Pq(s)&&Sd(s)),tQ=(n,s)=>{var l,m;const{dom:x}=n,P=Fw(n),Z=(m=(l=/[a-z%]+$/i.exec(P))===null||l===void 0?void 0:l[0])!==null&&m!==void 0?m:"px",J=v9(P),ge=w2(n);re(eQ(n),Re=>{qB(x,s,ge,J,Z,Re.dom)})},nQ=n=>tQ(n,"indent"),rQ=n=>tQ(n,"outdent"),oQ=n=>{if(n.selection.isCollapsed()&&KB(n)){const s=n.dom,l=n.selection.getRng(),m=Nn.fromRangeStart(l),x=s.getParent(l.startContainer,s.isBlock);if(x!==null&&z6(Yt.fromDom(x),m,n.schema))return Y.some(()=>rQ(n))}return Y.none()},Ix=(n,s,l)=>wt([oQ,t9,eA,(m,x)=>EC(m,s,x),GE,j3,n9,p9,J4,m9],m=>m(n,l)).filter(m=>n.selection.isEditable()),Lv=(n,s)=>{Ix(n,s,!1).fold(()=>{n.selection.isEditable()&&(V3(n),Jk(n))},pe)},jb=(n,s)=>{Ix(n,s,!0).fold(()=>{n.selection.isEditable()&&PY(n)},pe)},bA=(n,s)=>{n.addCommand("delete",()=>{Lv(n,s)}),n.addCommand("forwardDelete",()=>{jb(n,s)})},OA=5,b9=400,O9=n=>n.touches===void 0||n.touches.length!==1?Y.none():Y.some(n.touches[0]),Mq=(n,s)=>{const l=Math.abs(n.clientX-s.x),m=Math.abs(n.clientY-s.y);return l>OA||m>OA},sQ=n=>{const s=Vg(),l=si(!1),m=c2(x=>{n.dispatch("longpress",{...x,type:"longpress"}),l.set(!0)},b9);n.on("touchstart",x=>{O9(x).each(P=>{m.cancel();const Z={x:P.clientX,y:P.clientY,target:x.target};m.throttle(x),l.set(!1),s.set(Z)})},!0),n.on("touchmove",x=>{m.cancel(),O9(x).each(P=>{s.on(Z=>{Mq(P,Z)&&(s.clear(),l.set(!1),n.dispatch("longpresscancel"))})})},!0),n.on("touchend touchcancel",x=>{m.cancel(),x.type!=="touchcancel"&&s.get().filter(P=>P.target.isEqualNode(x.target)).each(()=>{l.get()?x.preventDefault():n.dispatch("tap",{...x,type:"tap"})})},!0)},xA=(n,s)=>lt(n,s.nodeName),Eq=(n,s)=>lr(s)?!0:Xr(s)?!xA(n.getBlockElements(),s)&&!df(s)&&!As(n,s)&&!Hd(s):!1,_q=(n,s,l)=>_e(F6(Yt.fromDom(l),Yt.fromDom(s)),m=>xA(n,m.dom)),Rq=(n,s)=>{if(lr(s)){if(s.data.length===0)return!0;if(/^\s+$/.test(s.data))return!s.nextSibling||xA(n,s.nextSibling)||Hd(s.nextSibling)}return!1},aQ=n=>n.dom.create(Nc(n),Jy(n)),Dq=n=>{const s=n.dom,l=n.selection,m=n.schema,x=m.getBlockElements(),P=l.getStart(),Z=n.getBody();let J,ge,Re=!1;const Ge=Nc(n);if(!P||!Xr(P))return;const qe=Z.nodeName.toLowerCase();if(!m.isValidChild(qe,Ge.toLowerCase())||_q(x,Z,P))return;const ot=l.getRng(),{startContainer:Et,startOffset:Vt,endContainer:kt,endOffset:It}=ot,cn=c0(n);let xn=Z.firstChild;for(;xn;)if(Xr(xn)&&XO(m,xn),Eq(m,xn)){if(Rq(x,xn)){ge=xn,xn=xn.nextSibling,s.remove(ge);continue}J||(J=aQ(n),Z.insertBefore(J,xn),Re=!0),ge=xn,xn=xn.nextSibling,J.appendChild(ge)}else J=null,xn=xn.nextSibling;Re&&cn&&(ot.setStart(Et,Vt),ot.setEnd(kt,It),l.setRng(ot),n.nodeChanged())},iQ=(n,s,l)=>{const m=Yt.fromDom(aQ(n)),x=Rc();Ai(m,x),l(s,m);const P=document.createRange();return P.setStartBefore(x.dom),P.setEndBefore(x.dom),P},lQ=n=>{n.on("NodeChange",ee(Dq,n))},x9=n=>s=>(" "+s.attr("class")+" ").indexOf(n)!==-1,Dce=(n,s,l)=>function(m){const x=arguments,P=x[x.length-2],Z=P>0?s.charAt(P-1):"";if(Z==='"')return m;if(Z===">"){const J=s.lastIndexOf("<",P);if(J!==-1&&s.substring(J,P).indexOf('contenteditable="false"')!==-1)return m}return'<span class="'+l+'" data-mce-content="'+n.dom.encode(x[0])+'">'+n.dom.encode(typeof x[1]=="string"?x[1]:x[0])+"</span>"},$ce=(n,s,l)=>{let m=s.length,x=l.content;if(l.format!=="raw"){for(;m--;)x=x.replace(s[m],Dce(n,x,Gw(n)));l.content=x}},Lce=n=>{const s="contenteditable",l=" "+fr.trim(j5(n))+" ",m=" "+fr.trim(Gw(n))+" ",x=x9(l),P=x9(m),Z=B7(n);Z.length>0&&n.on("BeforeSetContent",J=>{$ce(n,Z,J)}),n.parser.addAttributeFilter("class",J=>{let ge=J.length;for(;ge--;){const Re=J[ge];x(Re)?Re.attr(s,"true"):P(Re)&&Re.attr(s,"false")}}),n.serializer.addAttributeFilter(s,J=>{let ge=J.length;for(;ge--;){const Re=J[ge];!x(Re)&&!P(Re)||(Z.length>0&&Re.attr("data-mce-content")?(Re.name="#text",Re.type=3,Re.raw=!0,Re.value=Re.attr("data-mce-content")):Re.attr(s,null))}})},$q=n=>Mc(Yt.fromDom(n.getBody()),"*[data-mce-caret]").map(s=>s.dom).getOrNull(),Lq=(n,s)=>{s.hasAttribute("data-mce-caret")&&(Pn(s),n.selection.setRng(n.selection.getRng()),n.selection.scrollIntoView(s))},Ice=(n,s)=>{const l=$q(n);if(l){if(s.type==="compositionstart"){s.preventDefault(),s.stopPropagation(),Lq(n,l);return}Zt(l)&&(Lq(n,l),n.undoManager.add())}},Iq=n=>{n.on("keyup compositionstart",ee(Ice,n))},cQ=ws,Nce=(n,s,l)=>c9(s,n,l,kv,qm,cQ),Nq=(n,s,l)=>PC(s,n,l,P=>kv(P)||nL(P),P=>qm(P)||as(P),cQ),Uf=n=>{const s=n.dom.create(Nc(n));return s.innerHTML='<br data-mce-bogus="1">',s},S9=(n,s,l)=>{const m=Kd(n.getBody()),x=ee(ik,s===1?m.next:m.prev);if(l.collapsed){const P=n.dom.getParent(l.startContainer,"PRE");if(!P)return;if(!x(Nn.fromRangeStart(l))){const J=Yt.fromDom(Uf(n));s===1?Ku(Yt.fromDom(P),J):Yi(Yt.fromDom(P),J),n.selection.select(J.dom,!0),n.selection.collapse()}}},RC=(n,s)=>{const l=s?Ei.Forwards:Ei.Backwards,m=n.selection.getRng();return Nce(l,n,m).orThunk(()=>(S9(n,l,m),Y.none()))},Bq=(n,s)=>{const l=s?1:-1,m=n.selection.getRng();return Nq(l,n,m).orThunk(()=>(S9(n,l,m),Y.none()))},uQ=(n,s)=>{const l=s?n.getEnd(!0):n.getStart(!0);return OL(l)?!s:s},w9=(n,s)=>RC(n,uQ(n.selection,s)).exists(l=>(xp(n,l),!0)),SA=(n,s)=>Bq(n,s).exists(l=>(xp(n,l),!0)),fQ=(n,s)=>$x(n,s,s?qm:kv),wA=(n,s)=>qE(n,!s).map(l=>{const m=l.toRange(),x=n.selection.getRng();return s?m.setStart(x.startContainer,x.startOffset):m.setEnd(x.endContainer,x.endOffset),m}).exists(l=>(xp(n,l),!0)),dQ=n=>Ve(["figcaption"],Vs(n)),Qq=(n,s,l)=>{const m=ee(Gs,s);return Au(Yt.fromDom(n.container()),x=>l.isBlock(Vs(x)),m).filter(dQ)},Fq=(n,s,l)=>s?CC(n.dom,l):AB(n.dom,l),Vq=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=Nn.fromRangeStart(n.selection.getRng());return Qq(m,l,n.schema).exists(()=>{if(Fq(l,s,m)){const P=iQ(n,l,s?Ai:Cm);return n.selection.setRng(P),!0}else return!1})},CA=(n,s)=>n.selection.isCollapsed()?Vq(n,s):!1,zq=(n,s,l)=>{const m=n.selection.getRng(),x=Nn.fromRangeStart(m);return n.getBody().firstChild===s&&AB(l,x)?(n.execCommand("InsertNewBlockBefore"),!0):!1},Zq=(n,s)=>{const l=n.selection.getRng(),m=Nn.fromRangeStart(l);return n.getBody().lastChild===s&&CC(s,m)?(n.execCommand("InsertNewBlockAfter"),!0):!1},Bce=(n,s)=>s?Y.from(n.dom.getParent(n.selection.getNode(),"details")).map(l=>Zq(n,l)).getOr(!1):Y.from(n.dom.getParent(n.selection.getNode(),"summary")).bind(l=>Y.from(n.dom.getParent(l,"details")).map(m=>zq(n,m,l))).getOr(!1),hQ=(n,s)=>Bce(n,s),C9={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Qce=n=>Ie(n,s=>({...C9,...s})),Hq=n=>Ie(n,s=>({...C9,...s})),mQ=(n,s)=>s.keyCode===n.keyCode&&s.shiftKey===n.shiftKey&&s.altKey===n.altKey&&s.ctrlKey===n.ctrlKey&&s.metaKey===n.metaKey,Uq=(n,s)=>Ze(Qce(n),l=>mQ(l,s)?[l]:[]),T9=(n,s)=>Ze(Hq(n),l=>mQ(l,s)?[l]:[]),Do=(n,...s)=>()=>n.apply(null,s),Nx=(n,s)=>ce(Uq(n,s),l=>l.action()),k9=(n,s)=>wt(T9(n,s),l=>l.action()),gQ=(n,s)=>{const l=s?Ei.Forwards:Ei.Backwards,m=n.selection.getRng();return c9(n,l,m,I3,sx,ri).exists(x=>(xp(n,x),!0))},pQ=(n,s)=>{const l=s?1:-1,m=n.selection.getRng();return PC(n,l,m,I3,sx,ri).exists(x=>(xp(n,x),!0))},TA=(n,s)=>$x(n,s,s?sx:I3),vQ=jd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),DC={...vQ,none:n=>vQ.none(n)},Wq=(n,s)=>fh(n,s,le),fh=(n,s,l)=>Ze(il(n),m=>Gu(m,s)?l(m)?[m]:[]:fh(m,s,l)),yQ=(n,s,l=ne)=>{if(l(s))return Y.none();if(Ve(n,Vs(s)))return Y.some(s);const m=x=>Gu(x,"table")||l(x);return Eg(s,n.join(","),m)},bQ=(n,s)=>yQ(["td","th"],n,s),Vce=n=>Wq(n,"th,td"),Yq=(n,s)=>Df(n,"table",s),OQ=(n,s,l,m,x=le)=>{const P=m===1;if(!P&&l<=0)return DC.first(n[0]);if(P&&l>=n.length-1)return DC.last(n[n.length-1]);{const Z=l+m,J=n[Z];return x(J)?DC.middle(s,J):OQ(n,s,Z,m,x)}},Xq=(n,s)=>Yq(n,s).bind(l=>{const m=Vce(l);return ke(m,P=>Gs(n,P)).map(P=>({index:P,all:m}))}),Gq=(n,s,l)=>Xq(n,l).fold(()=>DC.none(n),x=>OQ(x.all,n,x.index,1,s)),kA=(n,s,l)=>Xq(n,l).fold(()=>DC.none(),x=>OQ(x.all,n,x.index,-1,s)),jq=(n,s)=>({left:n.left-s,top:n.top-s,right:n.right+s*2,bottom:n.bottom+s*2,width:n.width+s,height:n.height+s}),A9=(n,s)=>Ze(s,l=>{const m=jq(fv(l.getBoundingClientRect()),-1);return[{x:m.left,y:n(m),cell:l},{x:m.right,y:n(m),cell:l}]}),xQ=(n,s,l)=>oe(n,(m,x)=>m.fold(()=>Y.some(x),P=>{const Z=Math.sqrt(Math.abs(P.x-s)+Math.abs(P.y-l)),J=Math.sqrt(Math.abs(x.x-s)+Math.abs(x.y-l));return Y.some(J<Z?x:P)}),Y.none()),P9=(n,s,l,m,x)=>{const P=ll(Yt.fromDom(l),"td,th,caption").map(J=>J.dom),Z=se(A9(n,P),J=>s(J,x));return xQ(Z,m,x).map(J=>J.cell)},SQ=n=>n.bottom,qq=n=>n.top,Kq=(n,s)=>n.y<s,Jq=(n,s)=>n.y>s,eK=ee(P9,SQ,Kq),AA=ee(P9,qq,Jq),tK=(n,s)=>yt(s.getClientRects()).bind(l=>eK(n,l.left,l.top)).bind(l=>Hf(oq(l),s)),nK=(n,s)=>ft(s.getClientRects()).bind(l=>AA(n,l.left,l.top)).bind(l=>Hf(rq(l),s)),rK=(n,s,l)=>l.breakAt.exists(m=>n(s,m).breakAt.isSome()),M9=n=>n.breakType===Jh.Wrap&&n.positions.length===0,oK=n=>n.breakType===Jh.Br&&n.positions.length===1,wQ=(n,s,l)=>{const m=n(s,l);return M9(m)||!ia(l.getNode())&&oK(m)?!rK(n,s,m):m.breakAt.isNone()},CQ=ee(wQ,SC),sK=ee(wQ,wC),aK=(n,s,l)=>{const m=Nn.fromRangeStart(s);return j1(!n,l).exists(x=>x.isEqual(m))},iK=(n,s,l,m)=>{const x=n.selection.getRng(),P=s?1:-1;return ib()&&aK(s,x,l)?(bp(P,n,l,!s,!1).each(Z=>{xp(n,Z)}),!0):!1},lK=(n,s,l)=>tK(s,l).orThunk(()=>yt(l.getClientRects()).bind(m=>kB(S0(n,Nn.before(s)),m.left))).getOr(Nn.before(s)),cK=(n,s,l)=>nK(s,l).orThunk(()=>yt(l.getClientRects()).bind(m=>kB(a9(n,Nn.after(s)),m.left))).getOr(Nn.after(s)),TQ=(n,s)=>{const l=s.getNode(n);return tf(l)?Y.some(l):Y.none()},E9=(n,s,l)=>{s.undoManager.transact(()=>{const m=n?Ku:Yi,x=iQ(s,Yt.fromDom(l),m);xp(s,x)})},kQ=(n,s,l)=>{const m=TQ(!!s,l),x=s===!1;m.fold(()=>xp(n,l.toRange()),P=>j1(x,n.getBody()).filter(Z=>Z.isEqual(l)).fold(()=>xp(n,l.toRange()),Z=>E9(s,n,P)))},AQ=(n,s,l,m)=>{const x=n.selection.getRng(),P=Nn.fromRangeStart(x),Z=n.getBody();if(!s&&CQ(m,P)){const J=lK(Z,l,P);return kQ(n,s,J),!0}else if(s&&sK(m,P)){const J=cK(Z,l,P);return kQ(n,s,J),!0}else return!1},PQ=(n,s,l)=>Y.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(m=>Y.from(n.dom.getParent(m,"table")).map(x=>l(n,s,x,m))).getOr(!1),MQ=(n,s)=>PQ(n,s,iK),_9=(n,s)=>PQ(n,s,AQ),uK=n=>{const s=jm.exact(n,0,n,0);return A6(s)},EQ=(n,s,l)=>l.fold(Y.none,Y.none,(m,x)=>IW(x).map(P=>uK(P)),m=>(n.execCommand("mceTableInsertRowAfter"),_Q(n,s,m))),_Q=(n,s,l)=>EQ(n,s,Gq(l,jo)),kl=(n,s,l)=>EQ(n,s,kA(l,jo)),RQ=(n,s)=>{const l=["table","li","dl"],m=Yt.fromDom(n.getBody()),x=J=>{const ge=Vs(J);return Gs(J,m)||Ve(l,ge)},P=n.selection.getRng(),Z=Yt.fromDom(s?P.endContainer:P.startContainer);return bQ(Z,x).map(J=>(Yq(J,x).each(Ge=>{n.model.table.clearSelectedCells(Ge.dom)}),n.selection.collapse(!s),(s?_Q:kl)(n,x,J).each(Ge=>{n.selection.setRng(Ge)}),!0)).getOr(!1)},fK=(n,s,l)=>{const m=Dr.os.isMacOS()||Dr.os.isiOS();Nx([{keyCode:Yr.RIGHT,action:Do(w9,n,!0)},{keyCode:Yr.LEFT,action:Do(w9,n,!1)},{keyCode:Yr.UP,action:Do(SA,n,!1)},{keyCode:Yr.DOWN,action:Do(SA,n,!0)},...m?[{keyCode:Yr.UP,action:Do(wA,n,!1),metaKey:!0,shiftKey:!0},{keyCode:Yr.DOWN,action:Do(wA,n,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Yr.RIGHT,action:Do(MQ,n,!0)},{keyCode:Yr.LEFT,action:Do(MQ,n,!1)},{keyCode:Yr.UP,action:Do(_9,n,!1)},{keyCode:Yr.DOWN,action:Do(_9,n,!0)},{keyCode:Yr.UP,action:Do(_9,n,!1)},{keyCode:Yr.UP,action:Do(hQ,n,!1)},{keyCode:Yr.DOWN,action:Do(hQ,n,!0)},{keyCode:Yr.RIGHT,action:Do(gQ,n,!0)},{keyCode:Yr.LEFT,action:Do(gQ,n,!1)},{keyCode:Yr.UP,action:Do(pQ,n,!1)},{keyCode:Yr.DOWN,action:Do(pQ,n,!0)},{keyCode:Yr.RIGHT,action:Do(BB,n,s,!0)},{keyCode:Yr.LEFT,action:Do(BB,n,s,!1)},{keyCode:Yr.RIGHT,ctrlKey:!m,altKey:m,action:Do(hq,n,s)},{keyCode:Yr.LEFT,ctrlKey:!m,altKey:m,action:Do(mq,n,s)},{keyCode:Yr.UP,action:Do(CA,n,!1)},{keyCode:Yr.DOWN,action:Do(CA,n,!0)}],l).each(x=>{l.preventDefault()})},dK=(n,s)=>{n.on("keydown",l=>{l.isDefaultPrevented()||fK(n,s,l)})},em=(n,s)=>({container:n,offset:s}),Bx=La.DOM,$C=n=>s=>n===s?-1:0,T0=n=>s=>n.isBlock(s)||Ve(["BR","IMG","HR","INPUT"],s.nodeName)||n.getContentEditable(s)==="false",LC=(n,s,l)=>{if(lr(n)&&s>=0)return Y.some(em(n,s));{const m=zg(Bx);return Y.from(m.backwards(n,s,$C(n),l)).map(x=>em(x.container,x.container.data.length))}},DQ=(n,s,l)=>{if(lr(n)&&s>=n.length)return Y.some(em(n,s));{const m=zg(Bx);return Y.from(m.forwards(n,s,$C(n),l)).map(x=>em(x.container,0))}},IC=(n,s,l)=>{if(!lr(n))return Y.none();const m=n.data;if(s>=0&&s<=m.length)return Y.some(em(n,s));{const x=zg(Bx);return Y.from(x.backwards(n,s,$C(n),l)).bind(P=>{const Z=P.container.data;return IC(P.container,s+Z.length,l)})}},PA=(n,s,l)=>{if(!lr(n))return Y.none();const m=n.data;if(s<=m.length)return Y.some(em(n,s));{const x=zg(Bx);return Y.from(x.forwards(n,s,$C(n),l)).bind(P=>PA(P.container,s-m.length,l))}},NC=(n,s,l,m,x)=>{const P=zg(n,T0(n));return Y.from(P.backwards(s,l,m,x))},$Q=n=>n.collapsed&&lr(n.startContainer),BC=n=>Pe(n.toString().replace(/\u00A0/g," ")),QC=n=>n!==""&&`  \f
\r	\v`.indexOf(n)!==-1,qb=(n,s)=>n.substring(s.length),FC=(n,s,l)=>{let m;const x=l.charAt(0);for(m=s-1;m>=0;m--){const P=n.charAt(m);if(QC(P))return Y.none();if(x===P&&sr(n,l,m,s))break}return Y.some(m)},tm=(n,s,l,m=0)=>{if(!$Q(s))return Y.none();const x={text:"",offset:0},P=(J,ge,Re)=>(x.text=Re+x.text,x.offset+=ge,FC(x.text,x.offset,l).getOr(ge)),Z=n.getParent(s.startContainer,n.isBlock)||n.getRoot();return NC(n,s.startContainer,s.startOffset,P,Z).bind(J=>{const ge=s.cloneRange();if(ge.setStart(J.container,J.offset),ge.setEnd(s.endContainer,s.endOffset),ge.collapsed)return Y.none();const Re=BC(ge);return Re.lastIndexOf(l)!==0||qb(Re,l).length<m?Y.none():Y.some({text:qb(Re,l),range:ge,trigger:l})})},Qx=(n,s,l,m=0)=>FW(Yt.fromDom(s.startContainer)).fold(()=>tm(n,s,l,m),x=>{const P=n.createRng();P.selectNode(x.dom);const Z=BC(P);return Y.some({range:P,text:qb(Z,l),trigger:l})}),LQ=n=>n.nodeType===ym,IQ=n=>n.nodeType===Sh,NQ=n=>{if(LQ(n))return em(n,n.data.length);{const s=n.childNodes;return s.length>0?NQ(s[s.length-1]):em(n,s.length)}},R9=(n,s)=>{const l=n.childNodes;return l.length>0&&s<l.length?R9(l[s],0):l.length>0&&IQ(n)&&l.length===s?NQ(l[l.length-1]):em(n,s)},hK=(n,s)=>{var l;const m=(l=n.getParent(s.container,n.isBlock))!==null&&l!==void 0?l:n.getRoot();return NC(n,s.container,s.offset,(x,P)=>P===0?-1:P,m).filter(x=>{const P=x.container.data.charAt(x.offset-1);return!QC(P)}).isSome()},mK=n=>s=>{const l=R9(s.startContainer,s.startOffset);return!hK(n,l)},VC=(n,s,l)=>wt(l.triggers,m=>Qx(n,s,m)),gK=(n,s)=>{const l=s(),m=n.selection.getRng();return VC(n.dom,m,l).bind(x=>BQ(n,s,x))},BQ=(n,s,l,m={})=>{var x;const P=s(),J=(x=n.selection.getRng().startContainer.nodeValue)!==null&&x!==void 0?x:"",ge=se(P.lookupByTrigger(l.trigger),Ge=>l.text.length>=Ge.minChars&&Ge.matches.getOrThunk(()=>mK(n.dom))(l.range,J,l.text));if(ge.length===0)return Y.none();const Re=Promise.all(Ie(ge,Ge=>Ge.fetch(l.text,Ge.maxResults,m).then(ot=>({matchText:l.text,items:ot,columns:Ge.columns,onAction:Ge.onAction,highlightOn:Ge.highlightOn}))));return Y.some({lookupData:Re,context:l})};var ng;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(ng||(ng={}));const D9=(n,s,l)=>n.stype===ng.Error?s(n.serror):l(n.svalue),pK=n=>{const s=[],l=[];return re(n,m=>{D9(m,x=>l.push(x),x=>s.push(x))}),{values:s,errors:l}},vK=(n,s)=>n.stype===ng.Error?{stype:ng.Error,serror:s(n.serror)}:n,yK=(n,s)=>n.stype===ng.Value?{stype:ng.Value,svalue:s(n.svalue)}:n,bK=(n,s)=>n.stype===ng.Value?s(n.svalue):n,OK=(n,s)=>n.stype===ng.Error?s(n.serror):n,QQ=n=>({stype:ng.Value,svalue:n}),FQ=n=>({stype:ng.Error,serror:n}),zc={fromResult:n=>n.fold(FQ,QQ),toResult:n=>D9(n,du.error,du.value),svalue:QQ,partition:pK,serror:FQ,bind:bK,bindError:OK,map:yK,mapError:vK,fold:D9},MA=n=>I(n)&&Gt(n).length>100?" removed due to size":JSON.stringify(n,null,2),VQ=n=>{const s=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:ae("... (only showing first ten failures)")}]):n;return Ie(s,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())},zC=(n,s)=>zc.serror([{path:n,getErrorInfo:s}]),xK=(n,s,l)=>zC(n,()=>'Could not find valid *required* value for "'+s+'" in '+MA(l)),SK=(n,s)=>zC(n,()=>'Choice schema did not contain choice key: "'+s+'"'),wK=(n,s,l)=>zC(n,()=>'The chosen schema: "'+l+'" did not exist in branches: '+MA(s)),CK=(n,s)=>zC(n,ae(s)),zQ=(n,s,l,m)=>Sn(l,m).fold(()=>wK(n,l,m),P=>P.extract(n.concat(["branch: "+m]),s)),TK=(n,s)=>({extract:(x,P)=>Sn(P,n).fold(()=>SK(x,n),J=>zQ(x,P,s,J)),toString:()=>"chooseOn("+n+"). Possible values: "+Gt(s)}),ZQ=(n,s)=>s,kK=(n,s)=>V(n)&&V(s)?ZC(n,s):s,$9=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const l={};for(let m=0;m<s.length;m++){const x=s[m];for(const P in x)lt(x,P)&&(l[P]=n(l[P],x[P]))}return l},ZC=$9(kK),AK=$9(ZQ),HQ=()=>({tag:"required",process:{}}),PK=n=>({tag:"defaultedThunk",process:n}),L9=n=>PK(ae(n)),MK=()=>({tag:"option",process:{}}),EK=(n,s)=>n.length>0?zc.svalue(ZC(s,AK.apply(void 0,n))):zc.svalue(s),I9=n=>L(zc.serror,Qe)(n),UQ={consolidateObj:(n,s)=>{const l=zc.partition(n);return l.errors.length>0?I9(l.errors):EK(l.values,s)},consolidateArr:n=>{const s=zc.partition(n);return s.errors.length>0?I9(s.errors):zc.svalue(s.values)}},_K=(n,s,l,m)=>({tag:"field",key:n,newKey:s,presence:l,prop:m}),RK=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),WQ=(n,s,l)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return l(n.newKey,n.instantiator)}},EA=n=>{const s=(m,x)=>zc.bindError(n(x),P=>CK(m,P)),l=ae("val");return{extract:s,toString:l}},YQ=EA(zc.svalue),DK=(n,s,l,m)=>Sn(s,l).fold(()=>xK(n,l,s),m),XQ=(n,s,l,m)=>{const x=Sn(n,s).getOrThunk(()=>l(n));return m(x)},$K=(n,s,l)=>l(Sn(n,s)),LK=(n,s,l,m)=>{const x=Sn(n,s).map(P=>P===!0?l(n):P);return m(x)},IK=(n,s,l,m,x)=>{const P=J=>x.extract(s.concat([m]),J),Z=J=>J.fold(()=>zc.svalue(Y.none()),ge=>{const Re=x.extract(s.concat([m]),ge);return zc.map(Re,Y.some)});switch(n.tag){case"required":return DK(s,l,m,P);case"defaultedThunk":return XQ(l,m,n.process,P);case"option":return $K(l,m,Z);case"defaultedOptionThunk":return LK(l,m,n.process,Z);case"mergeWithThunk":return XQ(l,m,ae({}),J=>{const ge=ZC(n.process(l),J);return P(ge)})}},NK=(n,s,l)=>{const m={},x=[];for(const P of l)WQ(P,(Z,J,ge,Re)=>{const Ge=IK(ge,n,s,Z,Re);zc.fold(Ge,qe=>{x.push(...qe)},qe=>{m[J]=qe})},(Z,J)=>{m[Z]=J(s)});return x.length>0?zc.serror(x):zc.svalue(m)},N9=n=>({extract:(m,x)=>NK(m,x,n),toString:()=>`obj{
`+Ie(n,x=>WQ(x,(P,Z,J,ge)=>P+" -> "+ge.toString(),(P,Z)=>"state("+P+")")).join(`
`)+"}"}),GQ=n=>({extract:(m,x)=>{const P=Ie(x,(Z,J)=>n.extract(m.concat(["["+J+"]"]),Z));return UQ.consolidateArr(P)},toString:()=>"array("+n.toString()+")"}),Wce=n=>EA(s=>n(s).fold(zc.serror,zc.svalue)),BK=(n,s,l)=>{const m=s.extract([n],l);return zc.mapError(m,x=>({input:l,errors:x}))},_A=(n,s,l)=>zc.toResult(BK(n,s,l)),jQ=n=>`Errors: 
`+VQ(n.errors).join(`
`)+`

Input object: `+MA(n.input),B9=(n,s)=>TK(n,vn(s,N9)),QK=ae(YQ),HC=(n,s)=>EA(l=>{const m=typeof l;return n(l)?zc.svalue(l):zc.serror(`Expected type: ${s} but got: ${m}`)}),qQ=HC(W,"number"),RA=HC(M,"string"),FK=HC(z,"boolean"),Q9=HC(E,"function"),Fx=_K,KQ=RK,F9=n=>Wce(s=>Ve(n,s)?du.value(s):du.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),JQ=(n,s)=>Fx(n,n,HQ(),s),eF=n=>JQ(n,RA),tF=n=>JQ(n,Q9),nF=(n,s)=>Fx(n,n,HQ(),GQ(s)),V9=(n,s)=>Fx(n,n,MK(),s),DA=n=>V9(n,RA),VK=n=>V9(n,Q9),zK=(n,s)=>Fx(n,n,L9(s),QK()),Vx=(n,s,l)=>Fx(n,n,L9(s),l),Al=(n,s)=>Vx(n,s,qQ),Sp=(n,s)=>Vx(n,s,RA),rF=(n,s,l)=>Vx(n,s,F9(l)),oF=(n,s)=>Vx(n,s,FK),z9=(n,s)=>Vx(n,s,Q9),ZK=(n,s,l)=>Vx(n,s,GQ(l)),HK=eF("type"),UK=tF("fetch"),$A=tF("onAction"),zx=z9("onSetup",()=>ie),Yce=DA("text"),WK=DA("icon"),YK=DA("tooltip"),rg=DA("label"),XK=oF("active",!1),GK=oF("enabled",!0),Z9=oF("primary",!1),jK=n=>zK("columns",n),Kb=n=>Sp("type",n),sF=N9([HK,eF("trigger"),Al("minChars",1),jK(1),Al("maxResults",10),VK("matches"),UK,$A,ZK("highlightOn",[],RA)]),qK=n=>_A("Autocompleter",sF,{trigger:n.ch,...n}),H9=[GK,YK,WK,Yce,zx],aF=[XK].concat(H9),iF=[z9("predicate",ne),rF("scope","node",["node","editor"]),rF("position","selection",["node","selection","line"])],lF=H9.concat([Kb("contextformbutton"),Z9,$A,KQ("original",q)]),U9=aF.concat([Kb("contextformbutton"),Z9,$A,KQ("original",q)]),W9=H9.concat([Kb("contextformbutton")]),Y9=aF.concat([Kb("contextformtogglebutton")]),KK=B9("type",{contextformbutton:lF,contextformtogglebutton:U9});N9([Kb("contextform"),z9("initValue",ae("")),rg,nF("commands",KK),V9("launch",B9("type",{contextformbutton:W9,contextformtogglebutton:Y9}))].concat(iF));const JK=n=>{const s=n.ui.registry.getAll().popups,l=vn(s,Z=>qK(Z).fold(J=>{throw new Error(jQ(J))},q)),m=gt(Xn(l,Z=>Z.trigger)),x=Un(l);return{dataset:l,triggers:m,lookupByTrigger:Z=>se(x,J=>J.trigger===Z)}},eJ=(n,s)=>{const l=c2(s.load,50);n.on("keypress compositionend",m=>{m.which!==27&&l.throttle()}),n.on("keydown",m=>{const x=m.which;x===8?l.throttle():x===27&&s.cancelIfNecessary()}),n.on("remove",l.cancel)},tJ=n=>{const s=Vg(),l=si(!1),m=s.isSet,x=()=>{m()&&(AG(n),A3(n),l.set(!1),s.clear())},P=Re=>{m()||(kG(n,Re.range),s.set({trigger:Re.trigger,matchLength:Re.text.length}))},Z=Rt(()=>JK(n)),J=Re=>s.get().map(Ge=>Qx(n.dom,n.selection.getRng(),Ge.trigger).bind(qe=>BQ(n,Z,qe,Re))).getOrThunk(()=>gK(n,Z)),ge=Re=>{J(Re).fold(x,Ge=>{P(Ge.context),Ge.lookupData.then(qe=>{s.get().map(ot=>{const Et=Ge.context;ot.trigger===Et.trigger&&(Et.text.length-ot.matchLength>=10?x():(s.set({...ot,matchLength:Et.text.length}),l.get()?Ak(n,{lookupData:qe}):(l.set(!0),k3(n,{lookupData:qe}))))})})})};n.addCommand("mceAutocompleterReload",(Re,Ge)=>{const qe=I(Ge)?Ge.fetchOptions:{};ge(qe)}),n.addCommand("mceAutocompleterClose",x),eJ(n,{cancelIfNecessary:x,load:ge})},uF=ui().browser.isSafari(),fF=n=>D(Yt.fromDom(n)),X9=(n,s)=>{var l;return n.startOffset===0&&n.endOffset===((l=s.textContent)===null||l===void 0?void 0:l.length)},LA=(n,s)=>Y.from(n.getParent(s.container(),"details")),IA=(n,s)=>LA(n,s).isSome(),nJ=(n,s)=>{const l=Y.from(n.getParent(s.startContainer,"details")),m=Y.from(n.getParent(s.endContainer,"details"));if(l.isSome()||m.isSome()){const x=l.bind(P=>Y.from(n.select("summary",P)[0]));return Y.some({startSummary:x,startDetails:l,endDetails:m})}else return Y.none()},rJ=(n,s)=>eu(s).exists(l=>l.isEqual(n)),oJ=(n,s)=>hd(s).exists(l=>ia(l.getNode())&&gu(s,l).exists(m=>m.isEqual(n))||l.isEqual(n)),sJ=(n,s)=>s.startSummary.exists(l=>rJ(n,l)),aJ=(n,s)=>s.startSummary.exists(l=>oJ(n,l)),dF=(n,s)=>s.startDetails.exists(l=>gu(l,n).forall(m=>s.startSummary.exists(x=>!x.contains(n.container())&&x.contains(m.container())))),G9=(n,s,l)=>l.startDetails.exists(m=>Qc(n,s).forall(x=>!m.contains(x.container()))),j9=(n,s)=>{const l=s.getNode();U(l)||n.selection.setCursorLocation(l,s.offset())},q9=(n,s,l)=>{const m=n.dom.getParent(s.container(),"details");if(m&&!m.open){const x=n.dom.select("summary",m)[0];x&&(l?eu(x):hd(x)).each(Z=>j9(n,Z))}else j9(n,s)},iJ=(n,s)=>{const l=ge=>ge.contains(n.startContainer),m=ge=>ge.contains(n.endContainer),x=s.startSummary.exists(l),P=s.startSummary.exists(m),Z=s.startDetails.forall(ge=>s.endDetails.forall(Re=>ge!==Re));return(x||P)&&!(x&&P)||Z},hF=(n,s,l)=>{const{dom:m,selection:x}=n,P=n.getBody();if(l==="character"){const Z=Nn.fromRangeStart(x.getRng()),J=m.getParent(Z.container(),m.isBlock),ge=LA(m,Z),Re=J&&m.isEmpty(J),Ge=Q(J==null?void 0:J.previousSibling),qe=Q(J==null?void 0:J.nextSibling);return Re&&(s?qe:Ge)&&Zm(!s,P,Z).exists(Vt=>IA(m,Vt)&&!wi(ge,LA(m,Vt)))?!0:Zm(s,P,Z).fold(ne,ot=>{const Et=LA(m,ot);if(IA(m,ot)&&!wi(ge,Et)){if(s||q9(n,ot,!1),J&&Re){if(s&&Ge)return!0;if(!s&&qe)return!0;q9(n,ot,s),n.dom.remove(J)}return!0}else return!1})}else return!1},lJ=(n,s,l,m)=>{const P=n.selection.getRng(),Z=Nn.fromRangeStart(P),J=n.getBody();return m==="selection"?iJ(P,s):l?aJ(Z,s)||G9(J,Z,s):sJ(Z,s)||dF(Z,s)},NA=(n,s,l)=>nJ(n.dom,n.selection.getRng()).fold(()=>hF(n,s,l),m=>lJ(n,m,s,l)||hF(n,s,l)),mF=(n,s,l)=>{const m=n.selection,x=m.getNode(),P=m.getRng(),Z=Nn.fromRangeStart(P);return Gc(x)?(l==="selection"&&X9(P,x)||e4(s,Z,x)?fF(x):n.undoManager.transact(()=>{const J=m.getSel();let{anchorNode:ge,anchorOffset:Re,focusNode:Ge,focusOffset:qe}=J??{};const ot=()=>{B(ge)&&B(Re)&&B(Ge)&&B(qe)&&(J==null||J.setBaseAndExtent(ge,Re,Ge,qe))},Et=()=>{ge=J==null?void 0:J.anchorNode,Re=J==null?void 0:J.anchorOffset,Ge=J==null?void 0:J.focusNode,qe=J==null?void 0:J.focusOffset},Vt=(It,cn)=>{re(It.childNodes,xn=>{pb(xn)&&cn.appendChild(xn)})},kt=n.dom.create("span",{"data-mce-bogus":"1"});Vt(x,kt),x.appendChild(kt),ot(),(l==="word"||l==="line")&&(J==null||J.modify("extend",s?"right":"left",l)),!m.isCollapsed()&&X9(m.getRng(),kt)?fF(x):(n.execCommand(s?"ForwardDelete":"Delete"),Et(),Vt(kt,x),ot()),n.dom.remove(kt)}),!0):!1},k0=(n,s,l)=>NA(n,s,l)||uF&&mF(n,s,l)?Y.some(ie):Y.none(),gF=n=>(s,l,m={})=>{const x=s.getBody(),P={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:x,currentTarget:x,eventPhase:Event.AT_TARGET,originalTarget:x,explicitOriginalTarget:x,isTrusted:!1,srcElement:x,cancelable:!1,preventDefault:ie,inputType:l},Z=y1(new InputEvent(n));return s.dispatch(n,{...Z,...P,...m})},UC=gF("input"),K9=gF("beforeinput"),cJ=ui(),uJ=cJ.os,pF=uJ.isMacOS()||uJ.isiOS(),fJ=cJ.browser.isFirefox(),dJ=(n,s,l)=>{const m=l.keyCode===Yr.BACKSPACE?"deleteContentBackward":"deleteContentForward",x=n.selection.isCollapsed(),P=x?"character":"selection",Z=J=>x?J?"word":"line":"selection";k9([{keyCode:Yr.BACKSPACE,action:Do(oQ,n)},{keyCode:Yr.BACKSPACE,action:Do(t9,n,!1)},{keyCode:Yr.DELETE,action:Do(t9,n,!0)},{keyCode:Yr.BACKSPACE,action:Do(eA,n,!1)},{keyCode:Yr.DELETE,action:Do(eA,n,!0)},{keyCode:Yr.BACKSPACE,action:Do(EC,n,s,!1)},{keyCode:Yr.DELETE,action:Do(EC,n,s,!0)},{keyCode:Yr.BACKSPACE,action:Do(j3,n,!1)},{keyCode:Yr.DELETE,action:Do(j3,n,!0)},{keyCode:Yr.BACKSPACE,action:Do(k0,n,!1,P)},{keyCode:Yr.DELETE,action:Do(k0,n,!0,P)},...pF?[{keyCode:Yr.BACKSPACE,altKey:!0,action:Do(k0,n,!1,Z(!0))},{keyCode:Yr.DELETE,altKey:!0,action:Do(k0,n,!0,Z(!0))},{keyCode:Yr.BACKSPACE,metaKey:!0,action:Do(k0,n,!1,Z(!1))}]:[{keyCode:Yr.BACKSPACE,ctrlKey:!0,action:Do(k0,n,!1,Z(!0))},{keyCode:Yr.DELETE,ctrlKey:!0,action:Do(k0,n,!0,Z(!0))}],{keyCode:Yr.BACKSPACE,action:Do(n9,n,!1)},{keyCode:Yr.DELETE,action:Do(n9,n,!0)},{keyCode:Yr.BACKSPACE,action:Do(p9,n,!1)},{keyCode:Yr.DELETE,action:Do(p9,n,!0)},{keyCode:Yr.BACKSPACE,action:Do(J4,n,!1)},{keyCode:Yr.DELETE,action:Do(J4,n,!0)},{keyCode:Yr.BACKSPACE,action:Do(GE,n,!1)},{keyCode:Yr.DELETE,action:Do(GE,n,!0)},{keyCode:Yr.BACKSPACE,action:Do(m9,n,!1)},{keyCode:Yr.DELETE,action:Do(m9,n,!0)}],l).filter(J=>n.selection.isEditable()).each(J=>{l.preventDefault(),K9(n,m).isDefaultPrevented()||(J(),UC(n,m))})},Xce=(n,s,l)=>Nx([{keyCode:Yr.BACKSPACE,action:Do(nA,n)},{keyCode:Yr.DELETE,action:Do(nA,n)},...pF?[{keyCode:Yr.BACKSPACE,altKey:!0,action:Do(_C,n)},{keyCode:Yr.DELETE,altKey:!0,action:Do(_C,n)},...l?[{keyCode:fJ?224:91,action:Do(_C,n)}]:[]]:[{keyCode:Yr.BACKSPACE,ctrlKey:!0,action:Do(_C,n)},{keyCode:Yr.DELETE,ctrlKey:!0,action:Do(_C,n)}]],s),hJ=(n,s)=>{let l=!1;n.on("keydown",m=>{l=m.keyCode===Yr.BACKSPACE,m.isDefaultPrevented()||dJ(n,s,m)}),n.on("keyup",m=>{m.isDefaultPrevented()||Xce(n,m,l),l=!1})},Fi=n=>{for(;n;){if(Xr(n)||lr(n)&&n.data&&/[\r\n\s]/.test(n.data))return n;n=n.nextSibling}return null},A0=(n,s)=>{const l=n.dom,m=n.schema.getMoveCaretBeforeOnEnterElements();if(!s)return;if(/^(LI|DT|DD)$/.test(s.nodeName)){const P=Fi(s.firstChild);P&&/^(UL|OL|DL)$/.test(P.nodeName)&&s.insertBefore(l.doc.createTextNode(zs),s.firstChild)}const x=l.createRng();if(s.normalize(),s.hasChildNodes()){const P=new fa(s,s);let Z=s,J;for(;J=P.current();){if(lr(J)){x.setStart(J,0),x.setEnd(J,0);break}if(m[J.nodeName.toLowerCase()]){x.setStartBefore(J),x.setEndBefore(J);break}Z=J,J=P.next()}J||(x.setStart(Z,0),x.setEnd(Z,0))}else ia(s)?s.nextSibling&&l.isBlock(s.nextSibling)?(x.setStartBefore(s),x.setEndBefore(s)):(x.setStartAfter(s),x.setEndAfter(s)):(x.setStart(s,0),x.setEnd(s,0));n.selection.setRng(x),Db(n,x)},wd=(n,s)=>{const l=n.getRoot();let m,x=s;for(;x!==l&&x&&n.getContentEditable(x)!=="false";){if(n.getContentEditable(x)==="true"){m=x;break}x=x.parentNode}return x!==l?m:l},BA=n=>Y.from(n.dom.getParent(n.selection.getStart(!0),n.dom.isBlock)),vF=n=>BA(n).fold(ae(""),s=>s.nodeName.toUpperCase()),mJ=n=>BA(n).filter(s=>ad(Yt.fromDom(s))).isSome(),Zx=n=>{n.innerHTML='<br data-mce-bogus="1">'},J9=(n,s,l)=>{const m=n.dom;Y.from(l.style).map(m.parseStyle).each(ge=>{const Ge={...ky(Yt.fromDom(s)),...ge};m.setStyles(s,Ge)});const x=Y.from(l.class).map(ge=>ge.split(/\s+/)),P=Y.from(s.className).map(ge=>se(ge.split(/\s+/),Re=>Re!==""));Va(x,P,(ge,Re)=>{const Ge=se(Re,ot=>!Ve(ge,ot)),qe=[...ge,...Ge];m.setAttrib(s,"class",qe.join(" "))});const Z=["style","class"],J=wn(l,(ge,Re)=>!Ve(Z,Re));m.setAttribs(s,J)},Hx=(n,s)=>{if(Nc(n).toLowerCase()===s.tagName.toLowerCase()){const m=Jy(n);J9(n,s,m)}},e_=(n,s,l,m,x=!0,P,Z)=>{const J=n.dom,ge=n.schema,Re=Nc(n),Ge=l?l.nodeName.toUpperCase():"";let qe=s;const ot=ge.getTextInlineElements();let Et;P||Ge==="TABLE"||Ge==="HR"?Et=J.create(P||Re,Z||{}):Et=l.cloneNode(!1);let Vt=Et;if(!x)J.setAttrib(Et,"style",null),J.setAttrib(Et,"class",null);else do if(ot[qe.nodeName]){if(ff(qe)||df(qe))continue;const kt=qe.cloneNode(!1);J.setAttrib(kt,"id",""),Et.hasChildNodes()?(kt.appendChild(Et.firstChild),Et.appendChild(kt)):(Vt=kt,Et.appendChild(kt))}while((qe=qe.parentNode)&&qe!==m);return Hx(n,Et),Zx(Vt),Et},gJ=(n,s)=>n.dom.getParent(s,er),pJ=(n,s,l)=>{let m=s;for(;m&&m!==n&&Q(m.nextSibling);){const x=m.parentElement;if(!x||!l(x))return er(x);m=x}return!1},vJ=(n,s,l)=>!s&&l.nodeName.toLowerCase()===Nc(n)&&n.dom.isEmpty(l)&&pJ(n.getBody(),l,m=>lt(n.schema.getTextBlockElements(),m.nodeName.toLowerCase())),yJ=(n,s,l)=>{var m,x,P;const Z=s(Nc(n)),J=gJ(n,l);J&&(n.dom.insertAfter(Z,J),A0(n,Z),((P=(x=(m=l.parentElement)===null||m===void 0?void 0:m.childNodes)===null||x===void 0?void 0:x.length)!==null&&P!==void 0?P:0)>1&&n.dom.remove(l))},bJ=(n,s)=>n.firstChild&&n.firstChild.nodeName===s,yF=n=>{var s;return((s=n.parentNode)===null||s===void 0?void 0:s.firstChild)===n},bF=(n,s)=>{const l=n==null?void 0:n.parentNode;return B(l)&&l.nodeName===s},OF=n=>B(n)&&/^(OL|UL|LI)$/.test(n.nodeName),t_=n=>B(n)&&/^(LI|DT|DD)$/.test(n.nodeName),OJ=n=>OF(n)&&OF(n.parentNode),QA=n=>{const s=n.parentNode;return t_(s)?s:n},WC=(n,s,l)=>{let m=n[l?"firstChild":"lastChild"];for(;m&&!Xr(m);)m=m[l?"nextSibling":"previousSibling"];return m===s},n_=n=>oe(Xn(ky(Yt.fromDom(n)),(s,l)=>`${l}: ${s};`),(s,l)=>s+l,""),xJ=(n,s,l,m,x)=>{const P=n.dom,Z=n.selection.getRng(),J=l.parentNode;if(l===n.getBody()||!J)return;OJ(l)&&(x="LI");const ge=t_(m)?n_(m):void 0;let Re=t_(m)&&ge?s(x,{style:n_(m)}):s(x);if(WC(l,m,!0)&&WC(l,m,!1))if(bF(l,"LI")){const Ge=QA(l);P.insertAfter(Re,Ge),yF(l)?P.remove(Ge):P.remove(l)}else P.replace(Re,l);else if(WC(l,m,!0))bF(l,"LI")?(P.insertAfter(Re,QA(l)),Re.appendChild(P.doc.createTextNode(" ")),Re.appendChild(l)):J.insertBefore(Re,l),P.remove(m);else if(WC(l,m,!1))P.insertAfter(Re,QA(l)),P.remove(m);else{l=QA(l);const Ge=Z.cloneRange();Ge.setStartAfter(m),Ge.setEndAfter(l);const qe=Ge.extractContents();if(x==="LI"&&bJ(qe,"LI")){const ot=se(Ie(Re.children,Yt.fromDom),xe(Tu("br")));Re=qe.firstChild,P.insertAfter(qe,l),re(ot,Et=>Cm(Yt.fromDom(Re),Et)),ge&&Re.setAttribute("style",ge)}else P.insertAfter(qe,l),P.insertAfter(Re,l);P.remove(m)}A0(n,Re)},SJ=n=>{re(l1(Yt.fromDom(n),Ui),s=>{const l=s.dom;l.nodeValue=Pe(l.data)})},Gce=(n,s)=>{const l=n.dom.getParent(s,"ol,ul,dl");return l!==null&&n.dom.getContentEditableParent(l)==="false"},r_=(n,s)=>s&&s.nodeName==="A"&&n.isEmpty(s),o_=(n,s)=>n.nodeName===s||n.previousSibling&&n.previousSibling.nodeName===s,s_=(n,s)=>B(s)&&n.isBlock(s)&&!/^(TD|TH|CAPTION|FORM)$/.test(s.nodeName)&&!/^(fixed|absolute)/i.test(s.style.position)&&n.isEditable(s.parentNode)&&n.getContentEditable(s)!=="false",wJ=(n,s,l)=>{var m;const x=[];if(!l)return;let P=l;for(;P=P.firstChild;){if(n.isBlock(P))return;Xr(P)&&!s[P.nodeName.toLowerCase()]&&x.push(P)}let Z=x.length;for(;Z--;)P=x[Z],(!P.hasChildNodes()||P.firstChild===P.lastChild&&((m=P.firstChild)===null||m===void 0?void 0:m.nodeValue)===""||r_(n,P))&&n.remove(P)},FA=(n,s,l)=>lr(s)?n?l===1&&s.data.charAt(l-1)===he?0:l:l===s.data.length-1&&s.data.charAt(l)===he?s.data.length:l:l,CJ=n=>{const s=n.cloneRange();return s.setStart(n.startContainer,FA(!0,n.startContainer,n.startOffset)),s.setEnd(n.endContainer,FA(!1,n.endContainer,n.endOffset)),s},xF=n=>{let s=n;do lr(s)&&(s.data=s.data.replace(/^[\r\n]+/,"")),s=s.firstChild;while(s)},TJ=(n,s,l,m,x)=>{var P,Z;const J=n.dom,ge=(P=wd(J,m))!==null&&P!==void 0?P:J.getRoot();let Re=J.getParent(m,J.isBlock);if(!Re||!s_(J,Re)){if(Re=Re||ge,!Re.hasChildNodes()){const Et=J.create(s);return Hx(n,Et),Re.appendChild(Et),l.setStart(Et,0),l.setEnd(Et,0),Et}let Ge=m;for(;Ge&&Ge.parentNode!==Re;)Ge=Ge.parentNode;let qe;for(;Ge&&!J.isBlock(Ge);)qe=Ge,Ge=Ge.previousSibling;const ot=(Z=qe==null?void 0:qe.parentElement)===null||Z===void 0?void 0:Z.nodeName;if(qe&&ot&&n.schema.isValidChild(ot,s.toLowerCase())){const Et=qe.parentNode,Vt=J.create(s);for(Hx(n,Vt),Et.insertBefore(Vt,qe),Ge=qe;Ge&&!J.isBlock(Ge);){const kt=Ge.nextSibling;Vt.appendChild(Ge),Ge=kt}l.setStart(m,x),l.setEnd(m,x)}}return m},kJ=(n,s)=>{s.normalize();const l=s.lastChild;(!l||Xr(l)&&/^(left|right)$/gi.test(n.getStyle(l,"float",!0)))&&n.add(s,"br")},jce=(n,s)=>{const l=L5(n);return F(s)?!1:M(l)?Ve(fr.explode(l),s.nodeName.toLowerCase()):l},SF={insert:(n,s)=>{let l,m,x,P,Z=!1;const J=n.dom,ge=n.schema,Re=ge.getNonEmptyElements(),Ge=n.selection.getRng(),qe=Nc(n),ot=Yt.fromDom(Ge.startContainer),Et=Ch(ot,Ge.startOffset),Vt=Et.exists(tr=>Ga(tr)&&!jo(tr)),kt=Ge.collapsed&&Vt,It=(tr,eo)=>e_(n,l,gr,rr,y7(n),tr,eo),cn=tr=>{const eo=FA(tr,l,m);if(lr(l)&&(tr?eo>0:eo<l.data.length))return!1;if(l.parentNode===gr&&Z&&!tr||tr&&Xr(l)&&l===gr.firstChild)return!0;if(o_(l,"TABLE")||o_(l,"HR"))return Z&&!tr||!Z&&tr;const po=new fa(l,gr);lr(l)&&(tr&&eo===0?po.prev():!tr&&eo===l.data.length&&po.next());let cs;for(;cs=po.current();){if(Xr(cs)){if(!cs.getAttribute("data-mce-bogus")){const Os=cs.nodeName.toLowerCase();if(Re[Os]&&Os!=="br")return!1}}else if(lr(cs)&&!Qa(cs.data))return!1;tr?po.prev():po.next()}return!0},xn=()=>{let tr;return/^(H[1-6]|PRE|FIGURE)$/.test(x)&&Qr!=="HGROUP"?tr=It(qe):tr=It(),jce(n,P)&&s_(J,P)&&J.isEmpty(gr,void 0,{includeZwsp:!0})?tr=J.split(P,gr):J.insertAfter(tr,gr),A0(n,tr),tr};Me(J,Ge).each(tr=>{Ge.setStart(tr.startContainer,tr.startOffset),Ge.setEnd(tr.endContainer,tr.endOffset)}),l=Ge.startContainer,m=Ge.startOffset;const bn=!!(s&&s.shiftKey),$n=!!(s&&s.ctrlKey);Xr(l)&&l.hasChildNodes()&&!kt&&(Z=m>l.childNodes.length-1,l=l.childNodes[Math.min(m,l.childNodes.length-1)]||l,Z&&lr(l)?m=l.data.length:m=0);const rr=wd(J,l);if(!rr||Gce(n,l))return;bn||(l=TJ(n,qe,Ge,l,m));let gr=J.getParent(l,J.isBlock)||J.getRoot();P=B(gr==null?void 0:gr.parentNode)?J.getParent(gr.parentNode,J.isBlock):null,x=gr?gr.nodeName.toUpperCase():"";const Qr=P?P.nodeName.toUpperCase():"";if(Qr==="LI"&&!$n){const tr=P;gr=tr,P=tr.parentNode,x=Qr}if(Xr(P)&&vJ(n,bn,gr))return yJ(n,It,gr);if(/^(LI|DT|DD)$/.test(x)&&Xr(P)&&J.isEmpty(gr)){xJ(n,It,P,gr,qe);return}if(!kt&&(gr===n.getBody()||!s_(J,gr)))return;const zn=gr.parentNode;let Bn;if(kt)Bn=It(qe),Et.fold(()=>{Ai(ot,Yt.fromDom(Bn))},tr=>{Yi(tr,Yt.fromDom(Bn))}),n.selection.setCursorLocation(Bn,0);else if(rt(gr))Bn=Pn(gr),J.isEmpty(gr)&&Zx(gr),Hx(n,Bn),A0(n,Bn);else if(cn(!1))Bn=xn();else if(cn(!0)&&zn){Bn=zn.insertBefore(It(),gr);const tr=qu(Yt.fromDom(Ge.startContainer))&&Ge.collapsed;A0(n,o_(gr,"HR")||tr?Bn:gr)}else{const tr=CJ(Ge).cloneRange();tr.setEndAfter(gr);const eo=tr.extractContents();SJ(eo),xF(eo),Bn=eo.firstChild,J.insertAfter(eo,gr),wJ(J,Re,Bn),kJ(J,gr),J.isEmpty(gr)&&Zx(gr),Bn.normalize(),J.isEmpty(Bn)?(J.remove(Bn),xn()):(Hx(n,Bn),A0(n,Bn))}J.setAttrib(Bn,"id",""),n.dispatch("NewBlock",{newBlock:Bn})},fakeEventName:"insertParagraph"},AJ=(n,s,l)=>{const m=new fa(s,l);let x;const P=n.getNonEmptyElements();for(;x=m.next();)if(P[x.nodeName.toLowerCase()]||lr(x)&&x.length>0)return!0;return!1},wF=(n,s,l)=>{const m=n.dom.createRng();l?(m.setStartBefore(s),m.setEndBefore(s)):(m.setStartAfter(s),m.setEndAfter(s)),n.selection.setRng(m),Db(n,m)},PJ=(n,s)=>{const l=n.selection,m=n.dom,x=l.getRng();let P,Z=!1;Me(m,x).each(Et=>{x.setStart(Et.startContainer,Et.startOffset),x.setEnd(Et.endContainer,Et.endOffset)});let J=x.startOffset,ge=x.startContainer;if(Xr(ge)&&ge.hasChildNodes()){const Et=J>ge.childNodes.length-1;ge=ge.childNodes[Math.min(J,ge.childNodes.length-1)]||ge,Et&&lr(ge)?J=ge.data.length:J=0}let Re=m.getParent(ge,m.isBlock);const Ge=Re&&Re.parentNode?m.getParent(Re.parentNode,m.isBlock):null,qe=Ge?Ge.nodeName.toUpperCase():"",ot=!!(s&&s.ctrlKey);qe==="LI"&&!ot&&(Re=Ge),lr(ge)&&J>=ge.data.length&&(AJ(n.schema,ge,Re||m.getRoot())||(P=m.create("br"),x.insertNode(P),x.setStartAfter(P),x.setEndAfter(P),Z=!0)),P=m.create("br"),Sw(m,x,P),wF(n,P,Z),n.undoManager.add()},MJ=(n,s)=>{const l=Yt.fromTag("br");Yi(Yt.fromDom(s),l),n.undoManager.add()},EJ=(n,s)=>{_J(n.getBody(),s)||Ku(Yt.fromDom(s),Yt.fromTag("br"));const l=Yt.fromTag("br");Ku(Yt.fromDom(s),l),wF(n,l.dom,!1),n.undoManager.add()},VA=n=>ia(n.getNode()),_J=(n,s)=>VA(Nn.after(s))?!0:Qc(n,Nn.after(s)).map(l=>ia(l.getNode())).getOr(!1),CF=n=>n&&n.nodeName==="A"&&"href"in n,a_=n=>n.fold(ne,CF,CF,ne),i_=n=>{const s=ee(Bb,n),l=Nn.fromRangeStart(n.selection.getRng());return Kh(s,n.getBody(),l).filter(a_)},RJ=(n,s)=>{s.fold(ie,ee(MJ,n),ee(EJ,n),ie)},DJ={insert:(n,s)=>{const l=i_(n);l.isSome()?l.each(ee(RJ,n)):PJ(n,s)},fakeEventName:"insertLineBreak"},TF=(n,s)=>BA(n).filter(l=>s.length>0&&Gu(Yt.fromDom(l),s)).isSome(),$J=n=>TF(n,v7(n)),Kce=n=>TF(n,Iw(n)),Cd=jd.generate([{br:[]},{block:[]},{none:[]}]),og=(n,s)=>Kce(n),kF=n=>(s,l)=>mJ(s)===n,l_=(n,s)=>(l,m)=>vF(l)===n.toUpperCase()===s,LJ=n=>{const s=wd(n.dom,n.selection.getStart());return F(s)},YC=n=>l_("pre",n),IJ=()=>l_("summary",!0),zA=n=>(s,l)=>g7(s)===n,NJ=(n,s)=>$J(n),ZA=(n,s)=>s,BJ=n=>{const s=Nc(n),l=wd(n.dom,n.selection.getStart());return B(l)&&n.schema.isValidChild(l.nodeName,s)},c_=n=>{const s=n.selection.getRng(),l=Yt.fromDom(s.startContainer),x=Ch(l,s.startOffset).map(P=>Ga(P)&&!jo(P));return s.collapsed&&x.getOr(!0)},Td=(n,s)=>(l,m)=>oe(n,(P,Z)=>P&&Z(l,m),!0)?Y.some(s):Y.none(),HA=(n,s)=>OB([Td([og],Cd.none()),Td([YC(!0),LJ],Cd.none()),Td([IJ()],Cd.br()),Td([YC(!0),zA(!1),ZA],Cd.br()),Td([YC(!0),zA(!1)],Cd.block()),Td([YC(!0),zA(!0),ZA],Cd.block()),Td([YC(!0),zA(!0)],Cd.br()),Td([kF(!0),ZA],Cd.br()),Td([kF(!0)],Cd.block()),Td([NJ],Cd.br()),Td([ZA],Cd.br()),Td([BJ],Cd.block()),Td([c_],Cd.block())],[n,!!(s&&s.shiftKey)]).getOr(Cd.none()),UA=(n,s,l)=>{s.selection.isCollapsed()||X6(s),!(B(l)&&K9(s,n.fakeEventName).isDefaultPrevented())&&(n.insert(s,l),B(l)&&UC(s,n.fakeEventName))},AF=(n,s)=>{const l=()=>UA(DJ,n,s),m=()=>UA(SF,n,s),x=HA(n,s);switch(p7(n)){case"linebreak":x.fold(l,l,ie);break;case"block":x.fold(m,m,ie);break;case"invert":x.fold(m,l,ie);break;default:x.fold(l,m,ie);break}},PF=ui(),QJ=PF.os.isiOS()&&PF.browser.isSafari(),MF=(n,s)=>{s.isDefaultPrevented()||(s.preventDefault(),rG(n.undoManager),n.undoManager.transact(()=>{AF(n,s)}))},EF=n=>{if(!n.collapsed)return!1;const s=n.startContainer;if(lr(s)){const l=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,m=s.data.charAt(n.startOffset-1);return l.test(m)}else return!1},FJ=n=>{let s=Y.none();const l=x=>{s=Y.some(x.selection.getBookmark()),x.undoManager.add()},m=(x,P)=>{x.undoManager.undo(),s.fold(ie,Z=>x.selection.moveToBookmark(Z)),MF(x,P),s=Y.none()};n.on("keydown",x=>{x.keyCode===Yr.ENTER&&(QJ&&EF(n.selection.getRng())?l(n):MF(n,x))}),n.on("keyup",x=>{x.keyCode===Yr.ENTER&&s.each(()=>m(n,x))})},_F=(n,s,l)=>{const m=Dr.os.isMacOS()||Dr.os.isiOS();Nx([{keyCode:Yr.END,action:Do(fQ,n,!0)},{keyCode:Yr.HOME,action:Do(fQ,n,!1)},...m?[]:[{keyCode:Yr.HOME,action:Do(wA,n,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Yr.END,action:Do(wA,n,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Yr.END,action:Do(TA,n,!0)},{keyCode:Yr.HOME,action:Do(TA,n,!1)},{keyCode:Yr.END,action:Do(gA,n,!0,s)},{keyCode:Yr.HOME,action:Do(gA,n,!1,s)}],l).each(x=>{l.preventDefault()})},RF=(n,s)=>{n.on("keydown",l=>{l.isDefaultPrevented()||_F(n,s,l)})},VJ=n=>{n.on("input",s=>{s.isComposing||vY(n)})},zJ=ui(),u_=(n,s,l)=>{Nx([{keyCode:Yr.PAGE_UP,action:Do(gA,n,!1,s)},{keyCode:Yr.PAGE_DOWN,action:Do(gA,n,!0,s)}],l)},DF=n=>n.stopImmediatePropagation(),$F=n=>n.keyCode===Yr.PAGE_UP||n.keyCode===Yr.PAGE_DOWN,XC=(n,s,l)=>{l&&!n.get()?s.on("NodeChange",DF,!0):!l&&n.get()&&s.off("NodeChange",DF),n.set(l)},ZJ=(n,s)=>{if(zJ.os.isMacOS())return;const l=si(!1);n.on("keydown",m=>{$F(m)&&XC(l,n,!0)}),n.on("keyup",m=>{m.isDefaultPrevented()||u_(n,s,m),$F(m)&&l.get()&&(XC(l,n,!1),n.nodeChanged())})},f_=n=>{n.on("beforeinput",s=>{(!n.selection.isEditable()||_e(s.getTargetRanges(),l=>!B$(n.dom,l)))&&s.preventDefault()})},WA=(n,s)=>{const l=s.container(),m=s.offset();return lr(l)?(l.insertData(m,n),Y.some(Nn(l,m+n.length))):D2(s).map(x=>{const P=Yt.fromText(n);return s.isAtEnd()?Ku(x,P):Yi(x,P),Nn(P.dom,n.length)})},d_=ee(WA,zs),LF=ee(WA," "),Jce=(n,s,l)=>gL(n,s,l)?d_(s):LF(s),P0=n=>s=>s.fold(l=>gu(n.dom,Nn.before(l)),l=>eu(l),l=>hd(l),l=>Qc(n.dom,Nn.after(l))),HJ=(n,s,l)=>m=>gL(n,m,l)?d_(s):LF(s),IF=n=>s=>{n.selection.setRng(s.toRange()),n.nodeChanged()},UJ=(n,s)=>n.isEditable(n.getParent(s,"summary")),YA=n=>{const s=Nn.fromRangeStart(n.selection.getRng()),l=Yt.fromDom(n.getBody());if(n.selection.isCollapsed()){const m=ee(Bb,n),x=Nn.fromRangeStart(n.selection.getRng());return Kh(m,n.getBody(),x).bind(P0(l)).map(P=>()=>HJ(l,s,n.schema)(P).each(IF(n)))}else return Y.none()},NF=n=>{const s=()=>{const l=Yt.fromDom(n.getBody());n.selection.isCollapsed()||n.getDoc().execCommand("Delete");const m=Nn.fromRangeStart(n.selection.getRng());Jce(l,m,n.schema).each(IF(n))};return Ho(Dr.browser.isFirefox()&&n.selection.isEditable()&&UJ(n.dom,n.selection.getRng().startContainer),s)},BF=(n,s)=>{k9([{keyCode:Yr.SPACEBAR,action:Do(YA,n)},{keyCode:Yr.SPACEBAR,action:Do(NF,n)}],s).each(l=>{s.preventDefault(),K9(n,"insertText",{data:" "}).isDefaultPrevented()||(l(),UC(n,"insertText",{data:" "}))})},WJ=n=>{n.on("keydown",s=>{s.isDefaultPrevented()||BF(n,s)})},QF=n=>H7(n)?[{keyCode:Yr.TAB,action:Do(RQ,n,!0)},{keyCode:Yr.TAB,shiftKey:!0,action:Do(RQ,n,!1)}]:[],YJ=(n,s)=>{Nx([...QF(n)],s).each(l=>{s.preventDefault()})},XJ=n=>{n.on("keydown",s=>{s.isDefaultPrevented()||YJ(n,s)})},GJ=n=>{if(n.addShortcut("Meta+P","","mcePrint"),tJ(n),Rv(n))return si(null);{const s=dq(n);return f_(n),Iq(n),dK(n,s),hJ(n,s),FJ(n),WJ(n),VJ(n),XJ(n),RF(n,s),ZJ(n,s),s}};class FF{constructor(s){this.lastPath=[],this.editor=s;let l;const m=this;"onselectionchange"in s.getDoc()||s.on("NodeChange click mouseup keyup focus",x=>{const P=s.selection.getRng(),Z={startContainer:P.startContainer,startOffset:P.startOffset,endContainer:P.endContainer,endOffset:P.endOffset};(x.type==="nodechange"||!sp(Z,l))&&s.dispatch("SelectionChange"),l=Z}),s.on("contextmenu",()=>{s.dispatch("SelectionChange")}),s.on("SelectionChange",()=>{const x=s.selection.getStart(!0);x&&z2(s)&&!m.isSameElementPath(x)&&s.dom.isChildOf(x,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("mouseup",x=>{!x.isDefaultPrevented()&&z2(s)&&(s.selection.getNode().nodeName==="IMG"?pd.setEditorTimeout(s,()=>{s.nodeChanged()}):s.nodeChanged())})}nodeChanged(s={}){const l=this.editor.selection;let m;if(this.editor.initialized&&l&&!T2(this.editor)&&!this.editor.mode.isReadOnly()){const x=this.editor.getBody();m=l.getStart(!0)||x,(m.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(m,x))&&(m=x);const P=[];this.editor.dom.getParent(m,Z=>Z===x?!0:(P.push(Z),!1)),this.editor.dispatch("NodeChange",{...s,element:m,parents:P})}}isSameElementPath(s){let l;const m=this.editor,x=ct(m.dom.getParents(s,le,m.getBody()));if(x.length===this.lastPath.length){for(l=x.length;l>=0&&x[l]===this.lastPath[l];l--);if(l===-1)return this.lastPath=x,!0}return this.lastPath=x,!1}}const XA=cv("image"),jJ=n=>{const s=n;return Y.from(s[XA])},h_=(n,s)=>{const l=n;l[XA]=s},GA=cv("event"),jA=n=>{const s=n;return Y.from(s[GA])},GC=n=>s=>{const l=s;l[GA]=n},VF=(n,s)=>GC(s)(n),zF=GC(0),qJ=GC(2),qA=GC(1),JJ=(n=>s=>{const l=s;return Y.from(l[GA]).exists(m=>m===n)})(0),eee=()=>Object.freeze({length:0,item:n=>null}),KA=cv("mode"),tee=n=>{const s=n;return Y.from(s[KA])},JA=n=>s=>{const l=s;l[KA]=n},ZF=(n,s)=>JA(s)(n),HF=JA(0),m_=JA(2),UF=JA(1),WF=n=>s=>{const l=s;return Y.from(l[KA]).exists(m=>m===n)},Jb=WF(0),YF=WF(1),nee=(n,s)=>({...s,get length(){return s.length},add:(l,m)=>{if(Jb(n))if(M(l)){if(!U(m))return s.add(l,m)}else return s.add(l);return null},remove:l=>{Jb(n)&&s.remove(l)},clear:()=>{Jb(n)&&s.clear()}}),ree=["none","copy","link","move"],oee=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],g_=()=>{const n=new window.DataTransfer;let s="move",l="all";const m={get dropEffect(){return s},set dropEffect(x){Ve(ree,x)&&(s=x)},get effectAllowed(){return l},set effectAllowed(x){JJ(m)&&Ve(oee,x)&&(l=x)},get items(){return nee(m,n.items)},get files(){return YF(m)?eee():n.files},get types(){return n.types},setDragImage:(x,P,Z)=>{Jb(m)&&(h_(m,{image:x,x:P,y:Z}),n.setDragImage(x,P,Z))},getData:x=>YF(m)?"":n.getData(x),setData:(x,P)=>{Jb(m)&&n.setData(x,P)},clearData:x=>{Jb(m)&&n.clearData(x)}};return HF(m),m},Ux=n=>{const s=g_(),l=tee(n);return m_(n),zF(s),s.dropEffect=n.dropEffect,s.effectAllowed=n.effectAllowed,jJ(n).each(m=>s.setDragImage(m.image,m.x,m.y)),re(n.types,m=>{m!=="Files"&&s.setData(m,n.getData(m))}),re(n.files,m=>s.items.add(m)),jA(n).each(m=>{VF(s,m)}),l.each(m=>{ZF(n,m),ZF(s,m)}),s},see=n=>{const s=n.getData("text/html");return s===""?Y.none():Y.some(s)},XF=(n,s)=>n.setData("text/html",s),p_="x-tinymce/html",eP=ae(p_),v_="<!-- "+p_+" -->",aee=n=>v_+n,GF=n=>n.replace(v_,""),jF=n=>n.indexOf(v_)!==-1,iee=n=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(n),eue=(n,s)=>{let l="<"+n;const m=Xn(s,(x,P)=>P+'="'+Bg.encodeAllRaw(x)+'"');return m.length&&(l+=" "+m.join(" ")),l+">"},tP=(n,s,l)=>{const m=n.split(/\n\n/),x=eue(s,l),P="</"+s+">",Z=Ie(m,ge=>ge.split(/\n/).join("<br />")),J=ge=>x+ge+P;return Z.length===1?Z[0]:Ie(Z,J).join("")},qF="%MCEPASTEBIN%",lee=(n,s)=>{const{dom:l,selection:m}=n,x=n.getBody();s.set(m.getRng());const P=l.add(n.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},qF);Dr.browser.isFirefox()&&l.setStyle(P,"left",l.getStyle(x,"direction",!0)==="rtl"?65535:-65535),l.bind(P,"beforedeactivate focusin focusout",Z=>{Z.stopPropagation()}),P.focus(),m.select(P,!0)},cee=(n,s)=>{const l=n.dom;if(y_(n)){let m;const x=s.get();for(;m=y_(n);)l.remove(m),l.unbind(m);x&&n.selection.setRng(x)}s.set(null)},y_=n=>n.dom.get("mcepastebin"),uee=n=>B(n)&&n.id==="mcepastebin",fee=n=>{const s=n.dom,l=(Z,J)=>{Z.appendChild(J),s.remove(J,!0)},[m,...x]=se(n.getBody().childNodes,uee);re(x,Z=>{l(m,Z)});const P=s.select("div[id=mcepastebin]",m);for(let Z=P.length-1;Z>=0;Z--){const J=s.create("div");m.insertBefore(J,P[Z]),l(J,P[Z])}return m?m.innerHTML:""},KF=n=>n===qF,dee=n=>{const s=si(null);return{create:()=>lee(n,s),remove:()=>cee(n,s),getEl:()=>y_(n),getHtml:()=>fee(n),getLastRng:s.get}},JF=(n,s)=>(fr.each(s,l=>{_(l,RegExp)?n=n.replace(l,""):n=n.replace(l[0],l[1])}),n),hee=n=>{const s=Lm(),l=Gh({},s);let m="";const x=s.getVoidElements(),P=fr.makeMap("script noscript style textarea video audio iframe object"," "),Z=s.getBlockElements(),J=ge=>{const Re=ge.name,Ge=ge;if(Re==="br"){m+=`
`;return}if(Re!=="wbr"){if(x[Re]&&(m+=" "),P[Re]){m+=" ";return}if(ge.type===3&&(m+=ge.value),!(ge.name in s.getVoidElements())){let qe=ge.firstChild;if(qe)do J(qe);while(qe=qe.next)}Z[Re]&&Ge.next&&(m+=`
`,Re==="p"&&(m+=`
`))}};return n=JF(n,[/<!\[[^\]]+\]>/g]),J(l.parse(n)),m},eV=n=>(n=JF(n,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(l,m,x)=>!m&&!x?" ":zs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),n),mee=n=>{let s=0;return()=>n+s++},gee=n=>{const s=n.toLowerCase(),l={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return fr.hasOwn(l,s)?"image/"+l[s]:"image/"+s},Ia=(n,s)=>{const l=Gh({sanitize:F1(n),sandbox_iframes:E2(n)},n.schema);l.addNodeFilter("meta",x=>{fr.each(x,P=>{P.remove()})});const m=l.parse(s,{forced_root_block:!1,isRootContent:!0});return u0({validate:!0},n.schema).serialize(m)},tV=(n,s)=>({content:n,cancelled:s}),nV=(n,s,l)=>{const m=n.dom.create("div",{style:"display:none"},s),x=g6(n,m,l);return tV(x.node.innerHTML,x.isDefaultPrevented())},pee=(n,s,l)=>{const m=m6(n,s,l),x=Ia(n,m.content);return n.hasEventListeners("PastePostProcess")&&!m.isDefaultPrevented()?nV(n,x,l):tV(x,m.isDefaultPrevented())},b_=(n,s,l)=>pee(n,s,l),nP=(n,s)=>(n.insertContent(s,{merge:Yw(n),paste:!0}),!0),O_=n=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(n),vee=(n,s)=>O_(s)&&_e(q5(n),l=>ao(s.toLowerCase(),`.${l.toLowerCase()}`)),rV=(n,s,l)=>(n.undoManager.extra(()=>{l(n,s)},()=>{n.insertContent('<img src="'+s+'">')}),!0),x_=(n,s,l)=>(n.undoManager.extra(()=>{l(n,s)},()=>{n.execCommand("mceInsertLink",!1,s)}),!0),yee=(n,s,l)=>!n.selection.isCollapsed()&&O_(s)?x_(n,s,l):!1,bee=(n,s,l)=>vee(n,s)?rV(n,s,l):!1,Oee=(n,s)=>{fr.each([yee,bee,nP],l=>!l(n,s,nP))},oV=(n,s,l)=>{l||!G5(n)?nP(n,s):Oee(n,s)},xee=mee("mceclip"),See=n=>{const s=g_();return XF(s,n),m_(s),s},eO=(n,s,l,m,x)=>{const P=b_(n,s,l);if(!P.cancelled){const Z=P.content,J=()=>oV(n,Z,m);x?K9(n,"insertFromPaste",{dataTransfer:See(Z)}).isDefaultPrevented()||(J(),UC(n,"insertFromPaste")):J()}},rP=(n,s,l,m)=>{const x=l||jF(s);eO(n,GF(s),x,!1,m)},M0=(n,s,l)=>{const m=n.dom.encode(s).replace(/\r\n/g,`
`),x=tl(m,I7(n)),P=tP(x,Nc(n),Jy(n));eO(n,P,!1,!0,l)},Wx=n=>{const s={};if(n&&n.types)for(let l=0;l<n.types.length;l++){const m=n.types[l];try{s[m]=n.getData(m)}catch{s[m]=""}}return s},E0=(n,s)=>s in n&&n[s].length>0,sV=n=>E0(n,"text/html")||E0(n,"text/plain"),Yx=(n,s)=>{const l=s.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return B(l)?n.dom.encode(l[1]):void 0},wee=(n,s,l,m)=>{const x=xee(),P=eb(n)&&B(l.name),Z=P?Yx(n,l.name):x,J=P?l.name:void 0,ge=s.create(x,l,m,Z,J);return s.add(ge),ge},S_=(n,s)=>{T4(s.uri).each(({data:l,type:m,base64Encoded:x})=>{const P=x?l:btoa(l),Z=s.file,J=n.editorUpload.blobCache,ge=J.getByData(P,m),Re=ge??wee(n,J,Z,P);rP(n,`<img src="${Re.blobUri()}">`,!1,!0)})},w_=n=>n.type==="paste",aV=n=>Promise.all(Ie(n,s=>xX(s).then(l=>({file:s,uri:l})))),C_=n=>{const s=q5(n);return l=>wr(l.type,"image/")&&_e(s,m=>gee(m)===l.type)},iV=(n,s)=>{const l=s.items?Ze(tt(s.items),x=>x.kind==="file"?[x.getAsFile()]:[]):[],m=s.files?tt(s.files):[];return se(l.length>0?l:m,C_(n))},lV=(n,s,l)=>{const m=w_(s)?s.clipboardData:s.dataTransfer;if(A2(n)&&m){const x=iV(n,m);if(x.length>0)return s.preventDefault(),aV(x).then(P=>{l&&n.selection.setRng(l),re(P,Z=>{S_(n,Z)})}),!0}return!1},Cee=n=>{var s,l;return Dr.os.isAndroid()&&((l=(s=n.clipboardData)===null||s===void 0?void 0:s.items)===null||l===void 0?void 0:l.length)===0},cV=n=>Yr.metaKeyPressed(n)&&n.keyCode===86||n.shiftKey&&n.keyCode===45,jC=(n,s,l,m,x)=>{let P=eV(l);const Z=E0(s,eP())||jF(l),J=!Z&&iee(P),ge=O_(P);(KF(P)||!P.length||J&&!ge)&&(m=!0),(m||ge)&&(E0(s,"text/plain")&&J?P=s["text/plain"]:P=hee(P)),!KF(P)&&(m?M0(n,P,x):rP(n,P,Z,x))},T_=(n,s,l)=>{let m;const x=()=>s.getLastRng()||n.selection.getRng();n.on("keydown",P=>{cV(P)&&!P.isDefaultPrevented()&&(m=P.shiftKey&&P.keyCode===86)}),n.on("paste",P=>{if(P.isDefaultPrevented()||Cee(P))return;const Z=l.get()==="text"||m;m=!1;const J=Wx(P.clipboardData);!sV(J)&&lV(n,P,x())||(E0(J,"text/html")?(P.preventDefault(),jC(n,J,J["text/html"],Z,!0)):E0(J,"text/plain")&&E0(J,"text/uri-list")?(P.preventDefault(),jC(n,J,J["text/plain"],Z,!0)):(s.create(),pd.setEditorTimeout(n,()=>{const ge=s.getHtml();s.remove(),jC(n,J,ge,Z,!1)},0)))})},uV=n=>{const s=x=>wr(x,"webkit-fake-url"),l=x=>wr(x,"data:"),m=x=>{var P;return((P=x.data)===null||P===void 0?void 0:P.paste)===!0};n.parser.addNodeFilter("img",(x,P,Z)=>{if(!A2(n)&&m(Z))for(const J of x){const ge=J.attr("src");M(ge)&&!J.attr("data-mce-object")&&ge!==Dr.transparentSrc&&(s(ge)||!P2(n)&&l(ge))&&J.remove()}})},Tee=(n,s,l)=>{T_(n,s,l),uV(n)},kee=(n,s)=>{s.get()==="text"?(s.set("html"),Pk(n,!1)):(s.set("text"),Pk(n,!0)),n.focus()},k_=(n,s)=>{n.addCommand("mceTogglePlainTextPaste",()=>{kee(n,s)}),n.addCommand("mceInsertClipboardContent",(l,m)=>{m.html&&rP(n,m.html,m.internal,!1),m.text&&M0(n,m.text,!1)})},A_=(n,s,l)=>{if(n)try{return n.clearData(),n.setData("text/html",s),n.setData("text/plain",l),n.setData(eP(),s),!0}catch{return!1}else return!1},fV=(n,s,l,m)=>{A_(n.clipboardData,s.html,s.text)?(n.preventDefault(),m()):l(s.html,m)},P_=n=>(s,l)=>{const{dom:m,selection:x}=n,P=m.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Z=m.create("div",{contenteditable:"true"},s);m.setStyles(P,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),P.appendChild(Z),m.add(n.getBody(),P);const J=x.getRng();Z.focus();const ge=m.createRng();ge.selectNodeContents(Z),x.setRng(ge),pd.setEditorTimeout(n,()=>{x.setRng(J),m.remove(P),l()},0)},M_=n=>({html:aee(n.selection.getContent({contextual:!0})),text:n.selection.getContent({format:"text"})}),Aee=n=>!!n.dom.getParent(n.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",n.getBody()),E_=n=>!n.selection.isCollapsed()||Aee(n),Pee=n=>s=>{!s.isDefaultPrevented()&&E_(n)&&n.selection.isEditable()&&fV(s,M_(n),P_(n),()=>{if(Dr.browser.isChromium()||Dr.browser.isFirefox()){const l=n.selection.getRng();pd.setEditorTimeout(n,()=>{n.selection.setRng(l),n.execCommand("Delete")},0)}else n.execCommand("Delete")})},Mee=n=>s=>{!s.isDefaultPrevented()&&E_(n)&&fV(s,M_(n),P_(n),ie)},Eee=n=>{n.on("cut",Pee(n)),n.on("copy",Mee(n))},dV=(n,s)=>{var l,m;return Ot.getCaretRangeFromPoint((l=s.clientX)!==null&&l!==void 0?l:0,(m=s.clientY)!==null&&m!==void 0?m:0,n.getDoc())},_ee=n=>{const s=n["text/plain"];return s?s.indexOf("file://")===0:!1},qC=(n,s)=>{n.focus(),s&&n.selection.setRng(s)},Ree=n=>_e(n.files,s=>/^image\//.test(s.type)),hV=(n,s,l,m)=>{const x=n.getParent(l,Z=>As(s,Z));if(!Q(n.getParent(l,"summary")))return!0;if(x&&lt(m,"text/html")){const Z=new DOMParser().parseFromString(m["text/html"],"text/html").body;return!Q(Z.querySelector(x.nodeName.toLowerCase()))}else return!1},Dee=n=>{n.on("input",s=>{const l=m=>Q(m.querySelector("summary"));if(s.inputType==="deleteByDrag"){const m=se(n.dom.select("details"),l);re(m,x=>{ia(x.firstChild)&&x.firstChild.remove();const P=n.dom.create("summary");P.appendChild(Rc().dom),x.prepend(P)})}})},__=(n,s)=>{$7(n)&&n.on("dragend dragover draggesture dragdrop drop drag",l=>{l.preventDefault(),l.stopPropagation()}),A2(n)||n.on("drop",l=>{const m=l.dataTransfer;m&&Ree(m)&&l.preventDefault()}),n.on("drop",l=>{if(l.isDefaultPrevented())return;const m=dV(n,l);if(F(m))return;const x=Wx(l.dataTransfer),P=E0(x,eP());if((!sV(x)||_ee(x))&&lV(n,l,m))return;const Z=x[eP()],J=Z||x["text/html"]||x["text/plain"],ge=hV(n.dom,n.schema,m.startContainer,x),Re=s.get();Re&&!ge||J&&(l.preventDefault(),pd.setEditorTimeout(n,()=>{n.undoManager.transact(()=>{(Z||Re&&ge)&&n.execCommand("Delete"),qC(n,m);const Ge=eV(J);x["text/html"]?rP(n,Ge,P,!0):M0(n,Ge,!0)})}))}),n.on("dragstart",l=>{s.set(!0)}),n.on("dragover dragend",l=>{A2(n)&&!s.get()&&(l.preventDefault(),qC(n,dV(n,l))),l.type==="dragend"&&s.set(!1)}),Dee(n)},mV=n=>{const s=x=>P=>{x(n,P)},l=L7(n);E(l)&&n.on("PastePreProcess",s(l));const m=X5(n);E(m)&&n.on("PastePostProcess",s(m))},$ee=(n,s)=>{n.on("PastePreProcess",l=>{l.content=s(n,l.content,l.internal)})},Lee=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,gV=n=>fr.trim(n).replace(Lee,v1).toLowerCase(),Iee=(n,s,l)=>{const m=Uw(n);if(l||m==="all"||!Ww(n))return s;const x=m?m.split(/[, ]/):[];if(x&&m!=="none"){const P=n.dom,Z=n.selection.getNode();s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(J,ge,Re,Ge)=>{const qe=P.parseStyle(P.decode(Re)),ot={};for(let Vt=0;Vt<x.length;Vt++){const kt=qe[x[Vt]];let It=kt,cn=P.getStyle(Z,x[Vt],!0);/color/.test(x[Vt])&&(It=gV(It),cn=gV(cn)),cn!==It&&(ot[x[Vt]]=kt)}const Et=P.serializeStyle(ot,"span");return Et?ge+' style="'+Et+'"'+Ge:ge+Ge})}else s=s.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return s=s.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(P,Z,J,ge)=>Z+' style="'+J+'"'+ge),s},Nee=n=>{(Dr.browser.isChromium()||Dr.browser.isSafari())&&$ee(n,Iee)},pV=n=>{const s=si(!1),l=si(Xw(n)?"text":"html"),m=dee(n);Nee(n),k_(n,l),mV(n),n.on("PreInit",()=>{Eee(n),__(n,s),Tee(n,m,l)})},Bee=n=>{n.on("click",s=>{n.dom.getParent(s.target,"details")&&s.preventDefault()})},Qee=n=>{n.parser.addNodeFilter("details",s=>{const l=Bl(n);re(s,m=>{l==="expanded"?m.attr("open","open"):l==="collapsed"&&m.attr("open",null)})}),n.serializer.addNodeFilter("details",s=>{const l=b$(n);re(s,m=>{l==="expanded"?m.attr("open","open"):l==="collapsed"&&m.attr("open",null)})})},Fee=n=>{Bee(n),Qee(n)},Vee=ia,vV=lr,zee=n=>ws(n.dom),Zee=n=>jl(n.dom),oP=n=>s=>Gs(Yt.fromDom(n),s),yV=(n,s,l)=>Au(Yt.fromDom(n),m=>Zee(m)||l.isBlock(Vs(m)),oP(s)).getOr(Yt.fromDom(s)).dom,bV=(n,s)=>Au(Yt.fromDom(n),zee,oP(s)),OV=(n,s,l)=>{const m=new fa(n,s),x=l?m.next.bind(m):m.prev.bind(m);let P=n;for(let Z=l?n:x();Z&&!Vee(Z);Z=x())go(Z)&&(P=Z);return P},Hee=(n,s,l)=>{const x=Nn.fromRangeStart(n).getNode(),P=yV(x,s,l),Z=OV(x,P,!1),J=OV(x,P,!0),ge=document.createRange();return bV(Z,P).fold(()=>{vV(Z)?ge.setStart(Z,0):ge.setStartBefore(Z)},Re=>ge.setStartBefore(Re.dom)),bV(J,P).fold(()=>{vV(J)?ge.setEnd(J,J.data.length):ge.setEndAfter(J)},Re=>ge.setEndAfter(Re.dom)),ge},Uee=n=>{const s=Hee(n.selection.getRng(),n.getBody(),n.schema);n.selection.setRng(dx(s))},Wee=n=>{n.on("mousedown",s=>{s.detail>=3&&(s.preventDefault(),Uee(n))})};var Xx;(function(n){n.Before="before",n.After="after"})(Xx||(Xx={}));const Yee=(n,s)=>Math.abs(n.left-s),sP=(n,s)=>Math.abs(n.right-s),xV=(n,s)=>n>=s.top&&n<=s.bottom,Xee=(n,s)=>n.top<s.bottom&&n.bottom>s.top,SV=(n,s)=>{const l=a7(n,s)/Math.min(n.height,s.height);return Xee(n,s)&&l>.5},wV=(n,s)=>{const l=se(n,m=>xV(s,m));return s7(l).fold(()=>[[],n],m=>{const{pass:x,fail:P}=te(n,Z=>SV(Z,m));return[x,P]})},R_=(n,s)=>({node:n.node,position:Yee(n,s)<sP(n,s)?Xx.Before:Xx.After}),Gee=(n,s,l)=>s>n.left&&s<n.right?0:Math.min(Math.abs(n.left-s),Math.abs(n.right-s)),aP=(n,s,l)=>{const m=Ge=>go(Ge.node)?Y.some(Ge):Xr(Ge.node)?aP(tt(Ge.node.childNodes),s,l):Y.none(),x=(Ge,qe)=>{if(Ge.length>=2){const ot=m(Ge[0]).getOr(Ge[0]),Et=m(Ge[1]).getOr(Ge[1]);if(Math.abs(qe(ot,s,l)-qe(Et,s,l))<2){if(lr(ot.node))return Y.some(ot);if(lr(Et.node))return Y.some(Et)}}return Y.none()},P=(Ge,qe)=>{const ot=je(Ge,(Et,Vt)=>qe(Et,s,l)-qe(Vt,s,l));return x(ot,qe).orThunk(()=>wt(ot,m))},[Z,J]=wV(EB(n),l),{pass:ge,fail:Re}=te(J,Ge=>Ge.top<l);return P(Z,Gee).orThunk(()=>P(Re,pw)).orThunk(()=>P(ge,pw))},jee=(n,s,l,m)=>{const x=(P,Z)=>{const J=Re=>Xr(Re)&&Re.classList.contains("mce-drag-container"),ge=se(P.dom.childNodes,xe(J));return Z.fold(()=>aP(ge,l,m),Re=>{const Ge=se(ge,qe=>qe!==Re.dom);return aP(Ge,l,m)}).orThunk(()=>(Gs(P,n)?Y.none():Pg(P)).bind(Ge=>x(Ge,Y.some(P))))};return x(s,Y.none())},CV=(n,s,l)=>{const m=Yt.fromDom(n),x=nd(m),Z=Yt.fromPoint(x,s,l).filter(J=>ic(m,J)).getOr(m);return jee(m,Z,s,l)},TV=(n,s,l)=>CV(n,s,l).filter(m=>Z1(m.node)).map(m=>R_(m,s)),D_=n=>{var s,l;const m=n.getBoundingClientRect(),x=n.ownerDocument,P=x.documentElement,Z=x.defaultView;return{top:m.top+((s=Z==null?void 0:Z.scrollY)!==null&&s!==void 0?s:0)-P.clientTop,left:m.left+((l=Z==null?void 0:Z.scrollX)!==null&&l!==void 0?l:0)-P.clientLeft}},qee=n=>n.inline?D_(n.getBody()):{left:0,top:0},Kee=n=>{const s=n.getBody();return n.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}},Jee=n=>{const s=n.getBody(),l=n.getDoc().documentElement,m={left:s.scrollLeft,top:s.scrollTop},x={left:s.scrollLeft||l.scrollLeft,top:s.scrollTop||l.scrollTop};return n.inline?m:x},KC=(n,s)=>{if(s.target.ownerDocument!==n.getDoc()){const l=D_(n.getContentAreaContainer()),m=Jee(n);return{left:s.pageX-l.left+m.left,top:s.pageY-l.top+m.top}}return{left:s.pageX,top:s.pageY}},ete=(n,s,l)=>({pageX:l.left-n.left+s.left,pageY:l.top-n.top+s.top}),tte=(n,s)=>ete(qee(n),Kee(n),KC(n,s)),$_=n=>({target:n,srcElement:n}),nte=(n,s,l,m)=>({...s,dataTransfer:m,type:n,...$_(l)}),rte=(n,s,l)=>{const m=we("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:n,composedPath:m,initEvent:m,preventDefault:ie,stopImmediatePropagation:ie,stopPropagation:ie,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:m,initMouseEvent:m,getModifierState:m,dataTransfer:l,...$_(s)}},ote=(n,s)=>{const l=Ux(n);return s==="dragstart"?(zF(l),HF(l)):s==="drop"?(qJ(l),m_(l)):(qA(l),UF(l)),l},ste=(n,s,l,m)=>{const x=ote(l,n);return U(m)?rte(n,s,x):nte(n,m,s,x)},iP=32,lP=100,JC=8,eT=16,kV=ws,ate=i7(kV,jl),ite=(n,s,l)=>kV(l)&&l!==s&&n.isEditable(l.parentElement),tue=(n,s,l)=>F(s)||s===l||n.dom.isChildOf(s,l)?!1:n.dom.isEditable(s),lte=(n,s,l,m)=>{const x=n.dom,P=s.cloneNode(!0);x.setStyles(P,{width:l,height:m}),x.setAttrib(P,"data-mce-selected",null);const Z=x.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return x.setStyles(Z,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:l,height:m}),x.setStyles(P,{margin:0,boxSizing:"border-box"}),Z.appendChild(P),Z},L_=(n,s)=>{n.parentNode!==s&&s.appendChild(n)},Gx=(n,s)=>l=>()=>{const m=n==="left"?l.scrollX:l.scrollY;l.scroll({[n]:m+s,behavior:"smooth"})},tT=Gx("left",-iP),AV=Gx("left",iP),PV=Gx("top",-iP),I_=Gx("top",iP),cte=(n,s,l,m,x,P,Z,J,ge,Re,Ge,qe)=>{let ot=0,Et=0;n.style.left=s.pageX+"px",n.style.top=s.pageY+"px",s.pageX+l>x&&(ot=s.pageX+l-x),s.pageY+m>P&&(Et=s.pageY+m-P),n.style.width=l-ot+"px",n.style.height=m-Et+"px";const Vt=ge.clientHeight,kt=ge.clientWidth,It=Z+ge.getBoundingClientRect().top,cn=J+ge.getBoundingClientRect().left;Ge.on(xn=>{xn.intervalId.clear(),xn.dragging&&qe&&(Z+JC>=Vt?xn.intervalId.set(I_(Re)):Z-JC<=0?xn.intervalId.set(PV(Re)):J+JC>=kt?xn.intervalId.set(AV(Re)):J-JC<=0?xn.intervalId.set(tT(Re)):It+eT>=window.innerHeight?xn.intervalId.set(I_(window)):It-eT<=0?xn.intervalId.set(PV(window)):cn+eT>=window.innerWidth?xn.intervalId.set(AV(window)):cn-eT<=0&&xn.intervalId.set(tT(window)))})},cP=n=>{n&&n.parentNode&&n.parentNode.removeChild(n)},MV=(n,s)=>{const l=n.getParent(s.parentNode,n.isBlock);cP(s),l&&l!==n.getRoot()&&n.isEmpty(l)&&D(Yt.fromDom(l))},ute=n=>n.button===0,fte=(n,s)=>({pageX:s.pageX-n.relX,pageY:s.pageY+5}),EV=(n,s)=>l=>{if(ute(l)){const m=ce(s.dom.getParents(l.target),ate).getOr(null);if(B(m)&&ite(s.dom,s.getBody(),m)){const x=s.dom.getPos(m),P=s.getBody(),Z=s.getDoc().documentElement;n.set({element:m,dataTransfer:g_(),dragging:!1,screenX:l.screenX,screenY:l.screenY,maxX:(s.inline?P.scrollWidth:Z.offsetWidth)-2,maxY:(s.inline?P.scrollHeight:Z.offsetHeight)-2,relX:l.pageX-x.x,relY:l.pageY-x.y,width:m.offsetWidth,height:m.offsetHeight,ghost:lte(s,m,m.offsetWidth,m.offsetHeight),intervalId:r7(lP)})}}},dte=(n,s,l)=>{n._selectionOverrides.hideFakeCaret(),TV(n.getBody(),s,l).fold(()=>n.selection.placeCaretAt(s,l),m=>{const x=n._selectionOverrides.showCaret(1,m.node,m.position===Xx.Before,!1);x?n.selection.setRng(x):n.selection.placeCaretAt(s,l)})},uP=(n,s,l,m,x)=>{s==="dragstart"&&XF(m,n.dom.getOuterHTML(l));const P=ste(s,l,m,x);return n.dispatch(s,P)},hte=(n,s)=>{const l=Hy((x,P)=>dte(s,x,P),0);s.on("remove",l.cancel);const m=n;return x=>n.on(P=>{const Z=Math.max(Math.abs(x.screenX-P.screenX),Math.abs(x.screenY-P.screenY));if(!P.dragging&&Z>10){const J=uP(s,"dragstart",P.element,P.dataTransfer,x);if(B(J.dataTransfer)&&(P.dataTransfer=J.dataTransfer),J.isDefaultPrevented())return;P.dragging=!0,s.focus()}if(P.dragging){const J=x.currentTarget===s.getDoc().documentElement,ge=fte(P,tte(s,x));L_(P.ghost,s.getBody()),cte(P.ghost,ge,P.width,P.height,P.maxX,P.maxY,x.clientY,x.clientX,s.getContentAreaContainer(),s.getWin(),m,J),l.throttle(x.clientX,x.clientY)}})},mte=n=>{const s=n.getSel();if(B(s)){const m=s.getRangeAt(0).startContainer;return lr(m)?m.parentNode:m}else return null},gte=(n,s)=>l=>{n.on(m=>{var x;if(m.intervalId.clear(),m.dragging){if(tue(s,mte(s.selection),m.element)){const P=(x=s.getDoc().elementFromPoint(l.clientX,l.clientY))!==null&&x!==void 0?x:s.getBody();uP(s,"drop",P,m.dataTransfer,l).isDefaultPrevented()||s.undoManager.transact(()=>{MV(s.dom,m.element),see(m.dataTransfer).each(J=>s.insertContent(J)),s._selectionOverrides.hideFakeCaret()})}uP(s,"dragend",s.getBody(),m.dataTransfer,l)}}),B_(n)},N_=(n,s,l)=>{n.on(m=>{m.intervalId.clear(),m.dragging&&l.fold(()=>uP(s,"dragend",m.element,m.dataTransfer),x=>uP(s,"dragend",m.element,m.dataTransfer,x))}),B_(n)},pte=(n,s)=>l=>N_(n,s,Y.some(l)),B_=n=>{n.on(s=>{s.intervalId.clear(),cP(s.ghost)}),n.clear()},vte=n=>{const s=Vg(),l=La.DOM,m=document,x=EV(s,n),P=hte(s,n),Z=gte(s,n),J=pte(s,n);n.on("mousedown",x),n.on("mousemove",P),n.on("mouseup",Z),l.bind(m,"mousemove",P),l.bind(m,"mouseup",J),n.on("remove",()=>{l.unbind(m,"mousemove",P),l.unbind(m,"mouseup",J)}),n.on("keydown",ge=>{ge.keyCode===Yr.ESC&&N_(s,n,Y.none())})},yte=n=>{const s=x=>{if(!x.isDefaultPrevented()){const P=x.dataTransfer;P&&(Ve(P.types,"Files")||P.files.length>0)&&(x.preventDefault(),x.type==="drop"&&U4(n,"Dropped file type is not supported"))}},l=x=>{zk(n,x.target)&&s(x)},m=()=>{const x=La.DOM,P=n.dom,Z=document,J=n.inline?n.getBody():n.getDoc(),ge=["drop","dragover"];re(ge,Re=>{x.bind(Z,Re,l),P.bind(J,Re,s)}),n.on("remove",()=>{re(ge,Re=>{x.unbind(Z,Re,l),P.unbind(J,Re,s)})})};n.on("init",()=>{pd.setEditorTimeout(n,m,0)})},bte=n=>{vte(n),k2(n)&&yte(n)},Ote=n=>{const s=Hy(()=>{if(!n.removed&&n.getBody().contains(document.activeElement)){const l=n.selection.getRng();if(l.collapsed){const m=_x(n,l,!1);n.selection.setRng(m)}}},0);n.on("focus",()=>{s.throttle()}),n.on("blur",()=>{s.cancel()})},xte=n=>{n.on("init",()=>{n.on("focusin",s=>{const l=s.target;if(ri(l)){const m=Vb(n.getBody(),l),x=ws(m)?m:l;n.selection.getNode()!==x&&Ex(n,x).each(P=>n.selection.setRng(P))}})})},jx=ws,Ste=(n,s)=>Vb(n.getBody(),s),wte=n=>{const s=n.selection,l=n.dom,m=n.getBody(),x=t3(n,m,l.isBlock,()=>c0(n)),P="sel-"+l.uniqueId(),Z="data-mce-selected";let J;const ge=Qr=>B(Qr)&&l.hasClass(Qr,"mce-offscreen-selection"),Re=Qr=>Qr!==m&&(jx(Qr)||ri(Qr))&&l.isChildOf(Qr,m)&&l.isEditable(Qr.parentNode),Ge=Qr=>{Qr&&s.setRng(Qr)},qe=(Qr,zn,Bn,tr=!0)=>n.dispatch("ShowCaret",{target:zn,direction:Qr,before:Bn}).isDefaultPrevented()?null:(tr&&s.scrollIntoView(zn,Qr===-1),x.show(Bn,zn)),ot=Qr=>{Qr.hasAttribute("data-mce-caret")&&(Pn(Qr),s.scrollIntoView(Qr))},Et=()=>{n.on("click",zn=>{l.isEditable(zn.target)||(zn.preventDefault(),n.focus())}),n.on("blur NewBlock",$n),n.on("ResizeWindow FullscreenStateChanged",x.reposition),n.on("tap",zn=>{const Bn=zn.target,tr=Ste(n,Bn);jx(tr)?(zn.preventDefault(),Ex(n,tr).each(bn)):Re(Bn)&&Ex(n,Bn).each(bn)},!0),n.on("mousedown",zn=>{const Bn=zn.target;if(Bn!==m&&Bn.nodeName!=="HTML"&&!l.isChildOf(Bn,m)||!JG(n,zn.clientX,zn.clientY))return;$n(),gr();const tr=Ste(n,Bn);jx(tr)?(zn.preventDefault(),Ex(n,tr).each(bn)):TV(m,zn.clientX,zn.clientY).each(eo=>{zn.preventDefault();const po=qe(1,eo.node,eo.position===Xx.Before,!1);Ge(po),Gl(tr)?tr.focus():n.getBody().focus()})}),n.on("keypress",zn=>{Yr.modifierPressed(zn)||jx(s.getNode())&&zn.preventDefault()}),n.on("GetSelectionRange",zn=>{let Bn=zn.range;if(J){if(!J.parentNode){J=null;return}Bn=Bn.cloneRange(),Bn.selectNode(J),zn.range=Bn}}),n.on("SetSelectionRange",zn=>{zn.range=It(zn.range);const Bn=bn(zn.range,zn.forward);Bn&&(zn.range=Bn)});const Qr=zn=>Xr(zn)&&zn.id==="mcepastebin";n.on("AfterSetSelectionRange",zn=>{const Bn=zn.range,tr=Bn.startContainer.parentElement;!kt(Bn)&&!Qr(tr)&&gr(),ge(tr)||$n()}),bte(n),Ote(n),xte(n)},Vt=Qr=>bt(Qr)||nn(Qr)||hn(Qr),kt=Qr=>Vt(Qr.startContainer)||Vt(Qr.endContainer),It=Qr=>{const zn=n.schema.getVoidElements(),Bn=l.createRng(),tr=Qr.startContainer,eo=Qr.startOffset,po=Qr.endContainer,cs=Qr.endOffset;return lt(zn,tr.nodeName.toLowerCase())?eo===0?Bn.setStartBefore(tr):Bn.setStartAfter(tr):Bn.setStart(tr,eo),lt(zn,po.nodeName.toLowerCase())?cs===0?Bn.setEndBefore(po):Bn.setEndAfter(po):Bn.setEnd(po,cs),Bn},cn=(Qr,zn)=>{const Bn=Yt.fromDom(n.getBody()),tr=n.getDoc(),eo=Mc(Bn,"#"+P).getOrThunk(()=>{const Os=Yt.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',tr);return $a(Os,"id",P),Ai(Bn,Os),Os}),po=l.createRng();Ah(eo),Ta(eo,[Yt.fromText(zs,tr),Yt.fromDom(zn),Yt.fromText(zs,tr)]),po.setStart(eo.dom.firstChild,1),po.setEnd(eo.dom.lastChild,0),lc(eo,{top:l.getPos(Qr,n.getBody()).y+"px"}),Lk(eo);const cs=s.getSel();return cs&&(cs.removeAllRanges(),cs.addRange(po)),po},xn=Qr=>{const zn=Qr.cloneNode(!0),Bn=n.dispatch("ObjectSelected",{target:Qr,targetClone:zn});if(Bn.isDefaultPrevented())return null;const tr=cn(Qr,Bn.targetClone),eo=Yt.fromDom(Qr);return re(ll(Yt.fromDom(n.getBody()),`*[${Z}]`),po=>{Gs(eo,po)||di(po,Z)}),l.getAttrib(Qr,Z)||Qr.setAttribute(Z,"1"),J=Qr,gr(),tr},bn=(Qr,zn)=>{if(!Qr)return null;if(Qr.collapsed){if(!kt(Qr)){const po=zn?1:-1,cs=Kg(po,m,Qr),Os=cs.getNode(!zn);if(B(Os)){if(Z1(Os))return qe(po,Os,zn?!cs.isAtEnd():!1,!1);if(vt(Os)&&ws(Os.nextSibling)){const Ls=l.createRng();return Ls.setStart(Os,0),Ls.setEnd(Os,0),Ls}}const pa=cs.getNode(zn);if(B(pa)){if(Z1(pa))return qe(po,pa,zn?!1:!cs.isAtEnd(),!1);if(vt(pa)&&ws(pa.previousSibling)){const Ls=l.createRng();return Ls.setStart(pa,1),Ls.setEnd(pa,1),Ls}}}return null}let Bn=Qr.startContainer,tr=Qr.startOffset;const eo=Qr.endOffset;if(lr(Bn)&&tr===0&&jx(Bn.parentNode)&&(Bn=Bn.parentNode,tr=l.nodeIndex(Bn),Bn=Bn.parentNode),!Xr(Bn))return null;if(eo===tr+1&&Bn===Qr.endContainer){const po=Bn.childNodes[tr];if(Re(po))return xn(po)}return null},$n=()=>{J&&J.removeAttribute(Z),Mc(Yt.fromDom(n.getBody()),"#"+P).each(Ks),J=null},rr=()=>{x.destroy(),J=null},gr=()=>{x.hide()};return Rv(n)||Et(),{showCaret:qe,showBlockCaretContainer:ot,hideFakeCaret:gr,destroy:rr}},_V=(n,s)=>{let l=s;for(let m=n.previousSibling;lr(m);m=m.previousSibling)l+=m.data.length;return l},RV=(n,s,l,m,x)=>{if(lr(l)&&(m<0||m>l.data.length))return[];const P=x&&lr(l)?[_V(l,m)]:[m];let Z=l;for(;Z!==s&&Z.parentNode;)P.push(n.nodeIndex(Z,x)),Z=Z.parentNode;return Z===s?P.reverse():[]},nT=(n,s,l,m,x,P,Z=!1)=>{const J=RV(n,s,l,m,Z),ge=RV(n,s,x,P,Z);return{start:J,end:ge}},DV=(n,s)=>{const l=s.slice(),m=l.pop();return W(m)?oe(l,(P,Z)=>P.bind(J=>Y.from(J.childNodes[Z])),Y.some(n)).bind(P=>lr(P)&&(m<0||m>P.data.length)?Y.none():Y.some({node:P,offset:m})):Y.none()},$V=(n,s)=>DV(n,s.start).bind(({node:l,offset:m})=>DV(n,s.end).map(({node:x,offset:P})=>{const Z=document.createRange();return Z.setStart(l,m),Z.setEnd(x,P),Z})),Cte=(n,s,l,m=!1)=>nT(n,s,l.startContainer,l.startOffset,l.endContainer,l.endOffset,m),tO=(n,s,l)=>{if(s&&n.isEmpty(s)&&!l(s)){const m=s.parentNode;n.remove(s,lr(s.firstChild)&&Qa(s.firstChild.data)),tO(n,m,l)}},nO=(n,s,l,m=!0)=>{const x=s.startContainer.parentNode,P=s.endContainer.parentNode;s.deleteContents(),m&&!l(s.startContainer)&&(lr(s.startContainer)&&s.startContainer.data.length===0&&n.remove(s.startContainer),lr(s.endContainer)&&s.endContainer.data.length===0&&n.remove(s.endContainer),tO(n,x,l),x!==P&&tO(n,P,l))},fP=(n,s)=>Y.from(n.dom.getParent(s.startContainer,n.dom.isBlock)),Q_=(n,s,l)=>{const m=n.dynamicPatternsLookup({text:l,block:s});return{...n,blockPatterns:S2(m).concat(n.blockPatterns),inlinePatterns:_w(m).concat(n.inlinePatterns)}},LV=(n,s,l,m)=>{const x=n.createRng();return x.setStart(s,0),x.setEnd(l,m),x.toString()},Tte=n=>/^\s[^\s]/.test(n),F_=(n,s,l)=>{DQ(s,0,s).each(x=>{const P=x.container;PA(P,l.start.length,s).each(ge=>{const Re=n.createRng();Re.setStart(P,0),Re.setEnd(ge.container,ge.offset),nO(n,Re,Ge=>Ge===s)});const Z=Yt.fromDom(P),J=uu(Z);Tte(J)&&cc(Z,J.slice(1))})},kte=(n,s)=>{const l=n.dom,m=s.pattern,x=$V(l.getRoot(),s.range).getOrDie("Unable to resolve path range"),P=(Z,J)=>{const ge=J.get(Z);return N(ge)&&yt(ge).exists(Re=>lt(Re,"block"))};return fP(n,x).each(Z=>{m.type==="block-format"?P(m.format,n.formatter)&&n.undoManager.transact(()=>{F_(n.dom,Z,m),n.formatter.apply(m.format)}):m.type==="block-command"&&n.undoManager.transact(()=>{F_(n.dom,Z,m),n.execCommand(m.cmd,!1,m.value)})}),!0},Ate=n=>je(n,(s,l)=>l.start.length-s.start.length),Pte=(n,s)=>{const l=Ate(n),m=s.replace(zs," ");return ce(l,x=>s.indexOf(x.start)===0||m.indexOf(x.start)===0)},V_=(n,s,l,m)=>{var x;const P=n.dom,Z=Nc(n);if(!P.is(s,Z))return[];const J=(x=s.textContent)!==null&&x!==void 0?x:"";return Pte(l.blockPatterns,J).map(ge=>fr.trim(J).length===ge.start.length?[]:[{pattern:ge,range:nT(P,P.getRoot(),s,0,s,0,m)}]).getOr([])},Mte=(n,s)=>{if(s.length===0)return;const l=n.selection.getBookmark();re(s,m=>kte(n,m)),n.selection.moveToBookmark(l)},IV=(n,s)=>n.create("span",{"data-mce-type":"bookmark",id:s}),dP=(n,s)=>{const l=n.createRng();return l.setStartAfter(s.start),l.setEndBefore(s.end),l},NV=(n,s,l)=>{const m=$V(n.getRoot(),l).getOrDie("Unable to resolve path range"),x=m.startContainer,P=m.endContainer,Z=m.endOffset===0?P:P.splitText(m.endOffset),J=m.startOffset===0?x:x.splitText(m.startOffset),ge=J.parentNode,Re=Z.parentNode;return{prefix:s,end:Re.insertBefore(IV(n,s+"-end"),Z),start:ge.insertBefore(IV(n,s+"-start"),J)}},BV=(n,s,l)=>{tO(n,n.get(s.prefix+"-end"),l),tO(n,n.get(s.prefix+"-start"),l)},z_=n=>n.start.length===0,QV=n=>(s,l)=>{const x=s.data.substring(0,l),P=x.lastIndexOf(n.charAt(n.length-1)),Z=x.lastIndexOf(n);return Z!==-1?Z+n.length:P!==-1?P+1:-1},Z_=(n,s,l,m)=>{const x=s.start;return NC(n,m.container,m.offset,QV(x),l).bind(Z=>{var J,ge;const Re=(ge=(J=l.textContent)===null||J===void 0?void 0:J.indexOf(x))!==null&&ge!==void 0?ge:-1;if(Re!==-1&&Z.offset>=Re+x.length){const qe=n.createRng();return qe.setStart(Z.container,Z.offset-x.length),qe.setEnd(Z.container,Z.offset),Y.some(qe)}else{const qe=Z.offset-x.length;return IC(Z.container,qe,l).map(ot=>{const Et=n.createRng();return Et.setStart(ot.container,ot.offset),Et.setEnd(Z.container,Z.offset),Et}).filter(ot=>ot.toString()===x).orThunk(()=>Z_(n,s,l,em(Z.container,0)))}})},H_=(n,s,l,m,x,P=!1)=>{if(s.start.length===0&&!P){const Z=n.createRng();return Z.setStart(l,m),Z.setEnd(l,m),Y.some(Z)}return LC(l,m,x).bind(Z=>Z_(n,s,x,Z).bind(ge=>{var Re;if(P){if(ge.endContainer===Z.container&&ge.endOffset===Z.offset)return Y.none();if(Z.offset===0&&((Re=ge.endContainer.textContent)===null||Re===void 0?void 0:Re.length)===ge.endOffset)return Y.none()}return Y.some(ge)}))},U_=(n,s,l,m)=>{const x=n.dom,P=x.getRoot(),Z=l.pattern,J=l.position.container,ge=l.position.offset;return IC(J,ge-l.pattern.end.length,s).bind(Re=>{const Ge=nT(x,P,Re.container,Re.offset,J,ge,m);if(z_(Z))return Y.some({matches:[{pattern:Z,startRng:Ge,endRng:Ge}],position:Re});{const qe=hP(n,l.remainingPatterns,Re.container,Re.offset,s,m),ot=qe.getOr({matches:[],position:Re}),Et=ot.position;return H_(x,Z,Et.container,Et.offset,s,qe.isNone()).map(kt=>{const It=Cte(x,P,kt,m);return{matches:ot.matches.concat([{pattern:Z,startRng:It,endRng:Ge}]),position:em(kt.startContainer,kt.startOffset)}})}})},hP=(n,s,l,m,x,P)=>{const Z=n.dom;return LC(l,m,Z.getRoot()).bind(J=>{const ge=LV(Z,x,l,m);for(let Re=0;Re<s.length;Re++){const Ge=s[Re];if(!ao(ge,Ge.end))continue;const qe=s.slice();qe.splice(Re,1);const ot=U_(n,x,{pattern:Ge,remainingPatterns:qe,position:J},P);if(ot.isNone()&&m>0)return hP(n,s,l,m-1,x,P);if(ot.isSome())return ot}return Y.none()})},mP=(n,s,l)=>{n.selection.setRng(l),s.type==="inline-format"?re(s.format,m=>{n.formatter.apply(m)}):n.execCommand(s.cmd,!1,s.value)},Ete=(n,s,l,m)=>{const x=dP(n.dom,l);nO(n.dom,x,m),mP(n,s,x)},_te=(n,s,l,m,x)=>{const P=n.dom,Z=dP(P,m),J=dP(P,l);nO(P,J,x),nO(P,Z,x);const ge={prefix:l.prefix,start:l.end,end:m.start},Re=dP(P,ge);mP(n,s,Re)},FV=(n,s)=>{const l=cv("mce_textpattern"),m=fe(s,(x,P)=>{const Z=NV(n,l+`_end${x.length}`,P.endRng);return x.concat([{...P,endMarker:Z}])},[]);return fe(m,(x,P)=>{const Z=m.length-x.length-1,J=z_(P.pattern)?P.endMarker:NV(n,l+`_start${Z}`,P.startRng);return x.concat([{...P,startMarker:J}])},[])},Rte=n=>je(n,(s,l)=>l.end.length-s.end.length),Dte=(n,s)=>{const l=Xe(n,m=>_e(s,x=>m.pattern.start===x.pattern.start&&m.pattern.end===x.pattern.end));return n.length===s.length?l?n:s:n.length>s.length?n:s},VV=(n,s,l,m,x,P)=>{const Z=hP(n,x.inlinePatterns,l,m,s,P).fold(()=>[],ge=>ge.matches),J=hP(n,Rte(x.inlinePatterns),l,m,s,P).fold(()=>[],ge=>ge.matches);return Dte(Z,J)},zV=(n,s)=>{if(s.length===0)return;const l=n.dom,m=n.selection.getBookmark(),x=FV(l,s);re(x,P=>{const Z=l.getParent(P.startMarker.start,l.isBlock),J=ge=>ge===Z;z_(P.pattern)?Ete(n,P.pattern,P.endMarker,J):_te(n,P.pattern,P.startMarker,P.endMarker,J),BV(l,P.endMarker,J),BV(l,P.startMarker,J)}),n.selection.moveToBookmark(m)},$te=(n,s)=>{const l=n.selection.getRng();return fP(n,l).map(m=>{var x;const P=Math.max(0,l.startOffset),Z=Q_(s,m,(x=m.textContent)!==null&&x!==void 0?x:""),J=VV(n,m,l.startContainer,P,Z,!0),ge=V_(n,m,Z,!0);return ge.length>0||J.length>0?(n.undoManager.add(),n.undoManager.extra(()=>{n.execCommand("mceInsertNewLine")},()=>{$e(n),zV(n,J),Mte(n,ge);const Re=n.selection.getRng(),Ge=LC(Re.startContainer,Re.startOffset,n.dom.getRoot());n.execCommand("mceInsertNewLine"),Ge.each(qe=>{const ot=qe.container;ot.data.charAt(qe.offset-1)===Lg&&(ot.deleteData(qe.offset-1,1),tO(n.dom,ot.parentNode,Et=>Et===n.dom.getRoot()))})}),!0):!1}).getOr(!1)},Lte=(n,s)=>{const l=n.selection.getRng();fP(n,l).map(m=>{const x=Math.max(0,l.startOffset-1),P=LV(n.dom,m,l.startContainer,x),Z=Q_(s,m,P),J=VV(n,m,l.startContainer,x,Z,!1);J.length>0&&n.undoManager.transact(()=>{zV(n,J)})})},ZV=(n,s,l)=>{for(let m=0;m<n.length;m++)if(l(n[m],s))return!0;return!1},HV=(n,s)=>ZV(n,s,(l,m)=>l===m.keyCode&&!Yr.modifierPressed(m)),Ite=(n,s)=>ZV(n,s,(l,m)=>l.charCodeAt(0)===m.charCode),W_=n=>{const s=[",",".",";",":","!","?"],l=[32],m=()=>hu(M2(n),N7(n)),x=()=>qw(n);n.on("keydown",Z=>{if(Z.keyCode===13&&!Yr.modifierPressed(Z)&&n.selection.isCollapsed()){const J=m();(J.inlinePatterns.length>0||J.blockPatterns.length>0||x())&&$te(n,J)&&Z.preventDefault()}},!0);const P=()=>{if(n.selection.isCollapsed()){const Z=m();(Z.inlinePatterns.length>0||x())&&Lte(n,Z)}};n.on("keyup",Z=>{HV(l,Z)&&P()}),n.on("keypress",Z=>{Ite(s,Z)&&pd.setEditorTimeout(n,P)})},Nte=n=>{W_(n)},Bte=n=>{const s=fr.each,l=Yr.BACKSPACE,m=Yr.DELETE,x=n.dom,P=n.selection,Z=n.parser,J=Dr.browser,ge=J.isFirefox(),Re=J.isChromium()||J.isSafari(),Ge=Dr.deviceType.isiPhone()||Dr.deviceType.isiPad(),qe=Dr.os.isMacOS()||Dr.os.isiOS(),ot=(ro,Io)=>{try{n.getDoc().execCommand(ro,!1,String(Io))}catch{}},Et=ro=>ro.isDefaultPrevented(),Vt=()=>{const ro=yr=>{const Qo=x.create("body"),Is=yr.cloneContents();return Qo.appendChild(Is),P.serializer.serialize(Qo,{format:"html"})},Io=yr=>{const Qo=ro(yr),Is=x.createRng();Is.selectNode(n.getBody());const Pa=ro(Is);return Qo===Pa};n.on("keydown",yr=>{const Qo=yr.keyCode;if(!Et(yr)&&(Qo===m||Qo===l)&&n.selection.isEditable()){const Is=n.selection.isCollapsed(),Pa=n.getBody();if(Is&&!na(Yt.fromDom(Pa))||!Is&&!Io(n.selection.getRng()))return;yr.preventDefault(),n.setContent(""),Pa.firstChild&&x.isBlock(Pa.firstChild)?n.selection.setCursorLocation(Pa.firstChild,0):n.selection.setCursorLocation(Pa,0),n.nodeChanged()}})},kt=()=>{n.shortcuts.add("meta+a",null,"SelectAll")},It=()=>{n.inline||x.bind(n.getDoc(),"mousedown mouseup",ro=>{let Io;if(ro.target===n.getDoc().documentElement)if(Io=P.getRng(),n.getBody().focus(),ro.type==="mousedown"){if(bt(Io.startContainer))return;P.placeCaretAt(ro.clientX,ro.clientY)}else P.setRng(Io)})},cn=()=>{n.on("keydown",ro=>{if(!Et(ro)&&ro.keyCode===l){if(!n.getBody().getElementsByTagName("hr").length)return;if(P.isCollapsed()&&P.getRng().startOffset===0){const Io=P.getNode(),yr=Io.previousSibling;if(Io.nodeName==="HR"){x.remove(Io),ro.preventDefault();return}yr&&yr.nodeName&&yr.nodeName.toLowerCase()==="hr"&&(x.remove(yr),ro.preventDefault())}}})},xn=()=>{Range.prototype.getClientRects||n.on("mousedown",ro=>{if(!Et(ro)&&ro.target.nodeName==="HTML"){const Io=n.getBody();Io.blur(),pd.setEditorTimeout(n,()=>{Io.focus()})}})},bn=()=>{const ro=U5(n);n.on("click",Io=>{const yr=Io.target;/^(IMG|HR)$/.test(yr.nodeName)&&x.isEditable(yr)&&(Io.preventDefault(),n.selection.select(yr),n.nodeChanged()),yr.nodeName==="A"&&x.hasClass(yr,ro)&&yr.childNodes.length===0&&x.isEditable(yr.parentNode)&&(Io.preventDefault(),P.select(yr))})},$n=()=>{const ro=()=>{const yr=x.getAttribs(P.getStart().cloneNode(!1));return()=>{const Qo=P.getStart();Qo!==n.getBody()&&(x.setAttrib(Qo,"style",null),s(yr,Is=>{Qo.setAttributeNode(Is.cloneNode(!0))}))}},Io=()=>!P.isCollapsed()&&x.getParent(P.getStart(),x.isBlock)!==x.getParent(P.getEnd(),x.isBlock);n.on("keypress",yr=>{let Qo;return!Et(yr)&&(yr.keyCode===8||yr.keyCode===46)&&Io()?(Qo=ro(),n.getDoc().execCommand("delete",!1),Qo(),yr.preventDefault(),!1):!0}),x.bind(n.getDoc(),"cut",yr=>{if(!Et(yr)&&Io()){const Qo=ro();pd.setEditorTimeout(n,()=>{Qo()})}})},rr=()=>{n.on("keydown",ro=>{if(!Et(ro)&&ro.keyCode===l&&P.isCollapsed()&&P.getRng().startOffset===0){const Io=P.getNode().previousSibling;if(Io&&Io.nodeName&&Io.nodeName.toLowerCase()==="table")return ro.preventDefault(),!1}return!0})},gr=()=>{n.on("keydown",ro=>{if(Et(ro)||ro.keyCode!==Yr.BACKSPACE)return;let Io=P.getRng();const yr=Io.startContainer,Qo=Io.startOffset,Is=x.getRoot();let Pa=yr;if(!(!Io.collapsed||Qo!==0)){for(;Pa.parentNode&&Pa.parentNode.firstChild===Pa&&Pa.parentNode!==Is;)Pa=Pa.parentNode;Pa.nodeName==="BLOCKQUOTE"&&(n.formatter.toggle("blockquote",void 0,Pa),Io=x.createRng(),Io.setStart(yr,0),Io.setEnd(yr,0),P.setRng(Io))}})},Qr=()=>{const ro=()=>{ot("StyleWithCSS",!1),ot("enableInlineTableEditing",!1),L1(n)||ot("enableObjectResizing",!1)};rb(n)||n.on("BeforeExecCommand mousedown",ro)},zn=()=>{const ro=()=>{s(x.select("a:not([data-mce-block])"),Io=>{var yr;let Qo=Io.parentNode;const Is=x.getRoot();if((Qo==null?void 0:Qo.lastChild)===Io){for(;Qo&&!x.isBlock(Qo);){if(((yr=Qo.parentNode)===null||yr===void 0?void 0:yr.lastChild)!==Qo||Qo===Is)return;Qo=Qo.parentNode}x.add(Qo,"br",{"data-mce-bogus":1})}})};n.on("SetContent ExecCommand",Io=>{(Io.type==="setcontent"||Io.command==="mceInsertLink")&&ro()})},Bn=()=>{n.on("init",()=>{ot("DefaultParagraphSeparator",Nc(n))})},tr=ro=>{const Io=ro.getBody(),yr=ro.selection.getRng();return yr.startContainer===yr.endContainer&&yr.startContainer===Io&&yr.startOffset===0&&yr.endOffset===Io.childNodes.length},eo=()=>{n.on("keyup focusin mouseup",ro=>{!Yr.modifierPressed(ro)&&!tr(n)&&P.normalize()},!0)},po=()=>{n.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},cs=()=>{n.inline||n.on("keydown",()=>{document.activeElement===document.body&&n.getWin().focus()})},Os=()=>{n.inline||(n.contentStyles.push("body {min-height: 150px}"),n.on("click",ro=>{let Io;ro.target.nodeName==="HTML"&&(Io=n.selection.getRng(),n.getBody().focus(),n.selection.setRng(Io),n.selection.normalize(),n.nodeChanged())}))},pa=()=>{qe&&n.on("keydown",ro=>{Yr.metaKeyPressed(ro)&&!ro.shiftKey&&(ro.keyCode===37||ro.keyCode===39)&&(ro.preventDefault(),n.selection.getSel().modify("move",ro.keyCode===37?"backward":"forward","lineboundary"))})},Ls=()=>{n.on("click",ro=>{let Io=ro.target;do if(Io.tagName==="A"){ro.preventDefault();return}while(Io=Io.parentNode)}),n.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},pi=()=>{n.on("init",()=>{n.dom.bind(n.getBody(),"submit",ro=>{ro.preventDefault()})})},pc=()=>{Z.addNodeFilter("br",ro=>{let Io=ro.length;for(;Io--;)ro[Io].attr("class")==="Apple-interchange-newline"&&ro[Io].remove()})},va=ie,Tr=()=>{if(!ge||n.removed)return!1;const ro=n.selection.getSel();return!ro||!ro.rangeCount||ro.rangeCount===0},co=()=>{Re&&(It(),bn(),pi(),kt(),Ge&&(cs(),Os(),Ls())),ge&&(xn(),Qr(),po(),pa())},Hs=()=>{n.on("drop",ro=>{var Io;const yr=(Io=ro.dataTransfer)===null||Io===void 0?void 0:Io.getData("text/html");M(yr)&&/^<img[^>]*>$/.test(yr)&&n.dispatch("dragend",new window.DragEvent("dragend",ro))})},Ts=()=>{gr(),Vt(),Dr.windowsPhone||eo(),Re&&(It(),bn(),Bn(),pi(),rr(),pc(),Ge?(cs(),Os(),Ls()):kt()),ge&&(cn(),xn(),$n(),Qr(),zn(),po(),pa(),rr(),Hs())};return Rv(n)?co():Ts(),{refreshContentEditable:va,isHidden:Tr}},Y_=La.DOM,Qte=(n,s)=>{const l=Yt.fromDom(n.getBody()),m=VO(Rf(l)),x=Yt.fromTag("style");$a(x,"type","text/css"),Ai(x,Yt.fromText(s)),Ai(m,x),n.on("remove",()=>{Ks(x)})},Fte=n=>n.inline?n.getElement().nodeName.toLowerCase():void 0,X_=n=>wn(n,s=>U(s)===!1),rT=n=>{const s=n.options.get,l=n.editorUpload.blobCache;return X_({allow_conditional_comments:s("allow_conditional_comments"),allow_html_data_urls:s("allow_html_data_urls"),allow_svg_data_urls:s("allow_svg_data_urls"),allow_html_in_named_anchor:s("allow_html_in_named_anchor"),allow_script_urls:s("allow_script_urls"),allow_unsafe_link_target:s("allow_unsafe_link_target"),convert_unsafe_embeds:s("convert_unsafe_embeds"),convert_fonts_to_spans:s("convert_fonts_to_spans"),fix_list_elements:s("fix_list_elements"),font_size_legacy_values:s("font_size_legacy_values"),forced_root_block:s("forced_root_block"),forced_root_block_attrs:s("forced_root_block_attrs"),preserve_cdata:s("preserve_cdata"),inline_styles:s("inline_styles"),root_name:Fte(n),sandbox_iframes:s("sandbox_iframes"),sanitize:s("xss_sanitization"),validate:!0,blob_cache:l,document:n.getDoc()})},UV=n=>{const s=n.options.get;return X_({custom_elements:s("custom_elements"),extended_valid_elements:s("extended_valid_elements"),invalid_elements:s("invalid_elements"),invalid_styles:s("invalid_styles"),schema:s("schema"),valid_children:s("valid_children"),valid_classes:s("valid_classes"),valid_elements:s("valid_elements"),valid_styles:s("valid_styles"),verify_html:s("verify_html"),padd_empty_block_inline_children:s("format_empty_lines")})},Vte=n=>{const s=n.options.get;return{...rT(n),...UV(n),...X_({remove_trailing_brs:s("remove_trailing_brs"),pad_empty_with_br:s("pad_empty_with_br"),url_converter:s("url_converter"),url_converter_scope:s("url_converter_scope"),element_format:s("element_format"),entities:s("entities"),entity_encoding:s("entity_encoding"),indent:s("indent"),indent_after:s("indent_after"),indent_before:s("indent_before")})}},zte=n=>{const s=Gh(rT(n),n.schema);return s.addAttributeFilter("src,href,style,tabindex",(l,m)=>{const x=n.dom,P="data-mce-"+m;let Z=l.length;for(;Z--;){const J=l[Z];let ge=J.attr(m);if(ge&&!J.attr(P)){if(ge.indexOf("data:")===0||ge.indexOf("blob:")===0)continue;m==="style"?(ge=x.serializeStyle(x.parseStyle(ge),J.name),ge.length||(ge=null),J.attr(P,ge),J.attr(m,ge)):m==="tabindex"?(J.attr(P,ge),J.attr(m,null)):J.attr(P,n.convertURL(ge,m,J.name))}}}),s.addNodeFilter("script",l=>{let m=l.length;for(;m--;){const x=l[m],P=x.attr("type")||"no/type";P.indexOf("mce-")!==0&&x.attr("type","mce-"+P)}}),jw(n)&&s.addNodeFilter("#cdata",l=>{var m;let x=l.length;for(;x--;){const P=l[x];P.type=8,P.name="#comment",P.value="[CDATA["+n.dom.encode((m=P.value)!==null&&m!==void 0?m:"")+"]]"}}),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",l=>{let m=l.length;const x=n.schema.getNonEmptyElements();for(;m--;){const P=l[m];P.isEmpty(x)&&P.getAll("br").length===0&&P.append(new yu("br",1))}}),s},Zte=n=>{const s=W5(n);s&&pd.setEditorTimeout(n,()=>{let l;s===!0?l=n:l=n.editorManager.get(s),l&&!l.destroyed&&(l.focus(),l.selection.scrollIntoView())},100)},Hte=n=>{const s=n.dom.getRoot();!n.inline&&(!z2(n)||n.selection.getStart(!0)===s)&&eu(s).each(l=>{const m=l.getNode(),x=tf(m)?eu(m).getOr(l):l;n.selection.setRng(x.toRange())})},Ute=n=>{n.bindPendingEventDelegates(),n.initialized=!0,Ab(n),n.focus(!0),Hte(n),n.nodeChanged({initial:!0});const s=_7(n);E(s)&&s.call(n,n),Zte(n)},G_=n=>n.inline?n.ui.styleSheetLoader:n.dom.styleSheetLoader,Wte=(n,s,l)=>{const{pass:m,fail:x}=te(s,J=>tinymce.Resource.has(LE(J))),Z=[...m.map(J=>{const ge=tinymce.Resource.get(LE(J));return M(ge)?Promise.resolve(G_(n).loadRawCss(J,ge)):Promise.resolve()}),G_(n).loadAll(x)];return n.inline?Z:Z.concat([n.ui.styleSheetLoader.loadAll(l)])},WV=n=>{const s=G_(n),l=B5(n),m=n.contentCSS,x=()=>{s.unloadAll(m),n.inline||n.ui.styleSheetLoader.unloadAll(l)},P=()=>{n.removed?x():n.on("remove",x)};if(n.contentStyles.length>0){let ge="";fr.each(n.contentStyles,Re=>{ge+=Re+`\r
`}),n.dom.addStyle(ge)}const Z=Promise.all(Wte(n,m,l)).then(P).catch(P),J=C2(n);return J&&Qte(n,J),Z},YV=n=>{const s=n.getDoc(),l=n.getBody();rp(n),D7(n)||(s.body.spellcheck=!1,Y_.setAttrib(l,"spellcheck","false")),n.quirks=Bte(n),f6(n);const m=S7(n);m!==void 0&&(l.dir=m);const x=Y5(n);x&&n.on("BeforeSetContent",P=>{fr.each(x,Z=>{P.content=P.content.replace(Z,J=>"<!--mce:protected "+escape(J)+"-->")})}),n.on("SetContent",()=>{n.addVisual(n.getBody())}),n.on("compositionstart compositionend",P=>{n.composing=P.type==="compositionstart"})},Yte=n=>{Rv(n)||n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"})},gP=n=>{n.removed!==!0&&(Yte(n),Ute(n))},Xte=n=>{let s=!1;const l=setTimeout(()=>{s||n.setProgressState(!0)},500);return()=>{clearTimeout(l),s=!0,n.setProgressState(!1)}},XV=n=>{const s=n.getElement();let l=n.getDoc();n.inline&&(Y_.addClass(s,"mce-content-body"),n.contentDocument=l=document,n.contentWindow=window,n.bodyElement=s,n.contentAreaContainer=s);const m=n.getBody();m.disabled=!0,n.readonly=rb(n),n._editableRoot=Qf(n),!n.readonly&&n.hasEditableRoot()&&(n.inline&&Y_.getStyle(m,"position",!0)==="static"&&(m.style.position="relative"),m.contentEditable="true"),m.disabled=!1,n.editorUpload=vj(n),n.schema=Lm(UV(n)),n.dom=La(l,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,update_styles:!0,root_element:n.inline?n.getBody():null,collect:n.inline,schema:n.schema,contentCssCors:Fm(n),referrerPolicy:ps(n),onSetAttrib:Z=>{n.dispatch("SetAttrib",Z)},force_hex_color:V1(n)}),n.parser=zte(n),n.serializer=$N(Vte(n),n),n.selection=v0(n.dom,n.getWin(),n.serializer,n),n.annotator=x3(n),n.formatter=Xb(n),n.undoManager=xC(n),n._nodeChangeDispatcher=new FF(n),n._selectionOverrides=wte(n),sQ(n),Fee(n),Lce(n),Rv(n)||(Wee(n),Nte(n));const x=GJ(n);bA(n,x),lQ(n),bj(n),pV(n);const P=hG(n);YV(n),P.fold(()=>{const Z=Xte(n);WV(n).then(()=>{gP(n),Z()})},Z=>{n.setProgressState(!0),WV(n).then(()=>{Z().then(J=>{n.setProgressState(!1),gP(n),ME(n)},J=>{n.notificationManager.open({type:"error",text:String(J)}),gP(n),ME(n)})})})},GV=le,oT=(n,s,l)=>km(n,s,GV,l),j_=La.DOM,jV=(n,s,l,m)=>{const x=Yt.fromTag("iframe");return m.each(P=>$a(x,"tabindex",P)),ku(x,l),ku(x,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:s}),bm(x,"tox-edit-area__iframe"),x},Gte=n=>{let s=$5(n)+"<html><head>";Dw(n)!==n.documentBaseUrl&&(s+='<base href="'+n.documentBaseURI.getURI()+'" />'),s+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const l=$w(n),m=m7(n),x=n.translate(E7(n));return Lw(n)&&(s+='<meta http-equiv="Content-Security-Policy" content="'+Lw(n)+'" />'),s+=`</head><body id="${l}" class="mce-content-body ${m}" data-id="${n.id}" aria-label="${x}"><br></body></html>`,s},jte=(n,s)=>{const l=n.translate("Rich Text Area"),m=kc(Yt.fromDom(n.getElement()),"tabindex").bind(Ft),x=jV(n.id,l,Rw(n),m).dom;x.onload=()=>{x.onload=null,n.dispatch("load")},n.contentAreaContainer=s.iframeContainer,n.iframeElement=x,n.iframeHTML=Gte(n),j_.add(s.iframeContainer,x)},qte=n=>{const s=n.iframeElement,l=()=>{n.contentDocument=s.contentDocument,XV(n)};if(F7(n)||Dr.browser.isFirefox()){const m=n.getDoc();m.open(),m.write(n.iframeHTML),m.close(),l()}else{const m=oT(Yt.fromDom(s),"load",()=>{m.unbind(),l()});s.srcdoc=n.iframeHTML}},Kte=(n,s)=>{jte(n,s),s.editorContainer&&(s.editorContainer.style.display=n.orgDisplay,n.hidden=j_.isHidden(s.editorContainer)),n.getElement().style.display="none",j_.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,qte(n)},q_=La.DOM,Jte=(n,s,l)=>{const m=Wb.get(l),x=Wb.urls[l]||n.documentBaseUrl.replace(/\/$/,"");if(l=fr.trim(l),m&&fr.inArray(s,l)===-1){if(n.plugins[l])return;try{const P=m(n,x)||{};n.plugins[l]=P,E(P.init)&&(P.init(n,x),s.push(l))}catch(P){WN(n,l,P)}}},qV=n=>n.replace(/^\-/,""),ene=n=>{const s=[];re(ob(n),l=>{Jte(n,s,qV(l))})},tne=n=>{const s=fr.trim(Nw(n)),l=n.ui.registry.getAll().icons,m={...vC.get("default").icons,...vC.get(s).icons};Bt(m,(x,P)=>{lt(l,P)||n.ui.registry.addIcon(P,x)})},nne=n=>{const s=I1(n);if(M(s)){const l=Dv.get(s);n.theme=l(n,Dv.urls[s])||{},E(n.theme.init)&&n.theme.init(n,Dv.urls[s]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}},rne=n=>{const s=zw(n),l=ih.get(s);n.model=l(n,ih.urls[s])},one=n=>{const s=n.theme.renderUI;return s?s():JV(n)},sne=n=>{const s=n.getElement(),m=I1(n)(n,s);return m.editorContainer.nodeType&&(m.editorContainer.id=m.editorContainer.id||n.id+"_parent"),m.iframeContainer&&m.iframeContainer.nodeType&&(m.iframeContainer.id=m.iframeContainer.id||n.id+"_iframecontainer"),m.height=m.iframeHeight?m.iframeHeight:s.offsetHeight,m},KV=(n,s)=>({editorContainer:n,iframeContainer:s,api:{}}),ane=n=>{const s=q_.create("div");return q_.insertAfter(s,n),KV(s,s)},JV=n=>{const s=n.getElement();return n.inline?KV(null):ane(s)},ez=n=>{const s=n.getElement();return n.orgDisplay=s.style.display,M(I1(n))?one(n):E(I1(n))?sne(n):JV(n)},K_=(n,s)=>{const l={show:Y.from(s.show).getOr(ie),hide:Y.from(s.hide).getOr(ie),isEnabled:Y.from(s.isEnabled).getOr(le),setEnabled:m=>{n.mode.isReadOnly()||Y.from(s.setEnabled).each(x=>x(m))}};n.ui={...n.ui,...l}},tz=async n=>{n.dispatch("ScriptsLoaded"),tne(n),nne(n),rne(n),ene(n);const s=await ez(n);K_(n,Y.from(s.api).getOr({})),n.editorContainer=s.editorContainer,lj(n),n.inline?XV(n):Kte(n,{editorContainer:s.editorContainer,iframeContainer:s.iframeContainer})},_0=La.DOM,nz=n=>n.charAt(0)==="-",ine=(n,s)=>{const l=Qw(s),m=Bc(s);if(!ud.hasCode(l)&&l!=="en"){const x=St(m)?m:`${s.editorManager.baseURL}/langs/${l}.js`;n.add(x).catch(()=>{bC(s,x,l)})}},lne=(n,s)=>{const l=I1(n);if(M(l)&&!nz(l)&&!lt(Dv.urls,l)){const m=T7(n),x=m?n.documentBaseURI.toAbsolute(m):`themes/${l}/theme${s}.js`;Dv.load(l,x).catch(()=>{oj(n,x,l)})}},rz=(n,s)=>{const l=zw(n);if(l!=="plugin"&&!lt(ih.urls,l)){const m=F5(n),x=M(m)?n.documentBaseURI.toAbsolute(m):`models/${l}/model${s}.js`;ih.load(l,x).catch(()=>{UN(n,x,l)})}},oz=n=>Y.from(mv(n)).filter(St).map(s=>({url:s,name:Y.none()})),sz=(n,s,l)=>Y.from(s).filter(m=>St(m)&&!vC.has(m)).map(m=>({url:`${n.editorManager.baseURL}/icons/${m}/icons${l}.js`,name:Y.some(m)})),cne=(n,s,l)=>{const m=sz(s,"default",l),x=oz(s).orThunk(()=>sz(s,Nw(s),""));re(Za([m,x]),P=>{n.add(P.url).catch(()=>{rj(s,P.url,P.name.getOrUndefined())})})},J_=(n,s)=>{const l=(m,x)=>{Wb.load(m,x).catch(()=>{Mce(n,x,m)})};Bt(Yg(n),(m,x)=>{l(x,m),n.options.set("plugins",ob(n).concat(x))}),re(ob(n),m=>{m=fr.trim(m),m&&!Wb.urls[m]&&!nz(m)&&l(m,`plugins/${m}/plugin${s}.js`)})},pP=n=>{const s=I1(n);return!M(s)||B(Dv.get(s))},vP=n=>{const s=zw(n);return B(ih.get(s))},Iv=(n,s)=>{const l=nl.ScriptLoader,m=()=>{!n.removed&&pP(n)&&vP(n)&&tz(n)};lne(n,s),rz(n,s),ine(l,n),cne(l,n,s),J_(n,s),l.loadQueue().then(m,m)},yP=(n,s)=>nw.forElement(n,{contentCssCors:B1(s),referrerPolicy:ps(s)}),qx=n=>{const s=n.id;ud.setCode(Qw(n));const l=()=>{_0.unbind(window,"ready",l),n.render()};if(!_u.Event.domLoaded){_0.bind(window,"ready",l);return}if(!n.getElement())return;const m=Yt.fromDom(n.getElement()),x=Up(m);n.on("remove",()=>{be(m.dom.attributes,Z=>di(m,Z.name)),ku(m,x)}),n.ui.styleSheetLoader=yP(m,n),Zw(n)?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");const P=n.getElement().form||_0.getParent(s,"form");P&&(n.formElement=P,A7(n)&&!c1(n.getElement())&&(_0.insertAfter(_0.create("input",{type:"hidden",name:s}),s),n.hasHiddenInput=!0),n.formEventDelegate=Z=>{n.dispatch(Z.type,Z)},_0.bind(P,"submit reset",n.formEventDelegate),n.on("reset",()=>{n.resetContent()}),H5(n)&&!P.submit.nodeType&&!P.submit.length&&!P._mceOldSubmit&&(P._mceOldSubmit=P.submit,P.submit=()=>(n.editorManager.triggerSave(),n.setDirty(!1),P._mceOldSubmit(P)))),n.windowManager=HN(n),n.notificationManager=$E(n),Z7(n)&&n.on("GetContent",Z=>{Z.save&&(Z.content=_0.encode(Z.content))}),Bh(n)&&n.on("submit",()=>{n.initialized&&n.save()}),tb(n)&&(n._beforeUnload=()=>{n.initialized&&!n.destroyed&&!n.isHidden()&&n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),Iv(n,n.suffix)},az=(n,s)=>{n._editableRoot!==s&&(n._editableRoot=s,n.readonly||(n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged()),p6(n,s))},une=n=>n._editableRoot,fne=(n,s)=>({sections:ae(n),options:ae(s)}),eR=ui().deviceType,iz=eR.isPhone(),tR=eR.isTablet(),R0=n=>{if(F(n))return[];{const s=N(n)?n:n.split(/[ ,]/),l=Ie(s,Cr);return se(l,St)}},D0=(n,s)=>{const l=an(s,(m,x)=>Ve(n,x));return fne(l.t,l.f)},rO=(n,s,l={})=>{const m=n.sections(),x=Sn(m,s).getOr({});return fr.extend({},l,x)},bP=(n,s)=>lt(n.sections(),s),dne=(n,s)=>bP(n,s)?n.sections()[s]:{},hne=(n,s)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Sn(n,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...s?{menubar:!1}:{}}),mne=(n,s)=>{var l;const m=(l=s.external_plugins)!==null&&l!==void 0?l:{};return n&&n.external_plugins?fr.extend({},n.external_plugins,m):m},gne=(n,s)=>[...R0(n),...R0(s)],pne=(n,s,l,m)=>n&&bP(s,"mobile")?m:l,vne=(n,s,l,m)=>{const x=R0(l.forced_plugins),P=R0(m.plugins),Z=dne(s,"mobile"),J=Z.plugins?R0(Z.plugins):P,ge=pne(n,s,P,J),Re=gne(x,ge);return fr.extend(m,{forced_plugins:x,plugins:Re})},lz=(n,s)=>n&&bP(s,"mobile"),yne=(n,s,l,m,x)=>{var P;const Z=n?{mobile:hne((P=x.mobile)!==null&&P!==void 0?P:{},s)}:{},J=D0(["mobile"],ZC(Z,x)),ge=fr.extend(l,m,J.options(),lz(n,J)?rO(J,"mobile"):{},{external_plugins:mne(m,J.options())});return vne(n,J,m,ge)},bne=(n,s)=>yne(iz||tR,iz,s,n,s),One=(n,s)=>TG(n,s),nue=n=>{const s=(m,x)=>{n.formatter.toggle(m,x),n.nodeChanged()},l=m=>()=>{re("left,center,right,justify".split(","),x=>{m!==x&&n.formatter.remove("align"+x)}),m!=="none"&&s("align"+m)};n.editorCommands.addCommands({JustifyLeft:l("left"),JustifyCenter:l("center"),JustifyRight:l("right"),JustifyFull:l("justify"),JustifyNone:l("none")})},xne=n=>{const s=l=>()=>{const m=n.selection,x=m.isCollapsed()?[n.dom.getParent(m.getNode(),n.dom.isBlock)]:m.getSelectedBlocks();return _e(x,P=>B(n.formatter.matchNode(P,l)))};n.editorCommands.addCommands({JustifyLeft:s("alignleft"),JustifyCenter:s("aligncenter"),JustifyRight:s("alignright"),JustifyFull:s("alignjustify")},"state")},nR=n=>{nue(n),xne(n)},Sne=n=>{n.editorCommands.addCommands({"Cut,Copy,Paste":s=>{const l=n.getDoc();let m;try{l.execCommand(s)}catch{m=!0}if(s==="paste"&&!l.queryCommandEnabled(s)&&(m=!0),m||!l.queryCommandSupported(s)){let x=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Dr.os.isMacOS()||Dr.os.isiOS())&&(x=x.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:x,type:"error"})}}})},wne=(n,s,l,m)=>{const x=Yt.fromDom(n.getRoot());return ax(x,Nn.fromRangeStart(s),m)?l=l.replace(/^ /,"&nbsp;"):l=l.replace(/^&nbsp;/," "),ix(x,Nn.fromRangeEnd(s),m)?l=l.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):l=l.replace(/&nbsp;(<br( \/)?>)?$/," "),l},cz=n=>{if(typeof n!="string"){const s=fr.extend({paste:n.paste,data:{paste:n.paste}},n);return{content:n.content,details:s}}return{content:n,details:{}}},Cne=(n,s)=>{const l=n.selection,m=n.dom;return/^ | $/.test(s)?wne(m,l.getRng(),s,n.schema):s},sT=(n,s)=>{if(n.selection.isEditable()){const{content:l,details:m}=cz(s);iE(n,{...m,content:Cne(n,l),format:"html",set:!1,selection:!0}).each(x=>{const P=wG(n,x.content,m);R4(n,P,x),n.addVisual()})}},Tne=n=>{n.editorCommands.addCommands({mceCleanup:()=>{const s=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(s)},insertImage:(s,l,m)=>{sT(n,n.dom.createHTML("img",{src:m}))},insertHorizontalRule:()=>{n.execCommand("mceInsertContent",!1,"<hr>")},insertText:(s,l,m)=>{sT(n,n.dom.encode(m))},insertHTML:(s,l,m)=>{sT(n,m)},mceInsertContent:(s,l,m)=>{sT(n,m)},mceSetContent:(s,l,m)=>{n.setContent(m)},mceReplaceContent:(s,l,m)=>{n.execCommand("mceInsertContent",!1,m.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceNewDocument:()=>{n.setContent(Q1(n))}})},rR={"font-size":"size","font-family":"face"},kne=Tu("font"),Ane=(n,s,l)=>{const m=P=>Wi(P,n).orThunk(()=>kne(P)?Sn(rR,n).bind(Z=>kc(P,Z)):Y.none()),x=P=>Gs(Yt.fromDom(s),P);return Mv(Yt.fromDom(l),P=>m(P),x)},Pne=n=>n.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Mne=(n,s)=>Y.from(La.DOM.getStyle(s,n,!0)),oR=n=>(s,l)=>Y.from(l).map(Yt.fromDom).filter(Dl).bind(m=>Ane(n,s,m.dom).or(Mne(n,m.dom))).getOr(""),sR=oR("font-size"),uz=L(Pne,oR("font-family")),aR=n=>eu(n.getBody()).bind(s=>{const l=s.container();return Y.from(lr(l)?l.parentNode:l)}),Ene=n=>Y.from(n.selection.getRng()).bind(s=>{const l=n.getBody();return s.startContainer===l&&s.startOffset===0?Y.none():Y.from(n.selection.getStart(!0))}),rue=(n,s)=>Ene(n).orThunk(ee(aR,n)).map(Yt.fromDom).filter(Dl).bind(s),fz=(n,s)=>rue(n,me(Y.some,s)),dz=(n,s)=>{if(/^[0-9.]+$/.test(s)){const l=parseInt(s,10);if(l>=1&&l<=7){const m=V7(n),x=z7(n);return x.length>0?x[l-1]||s:m[l-1]||s}else return s}else return s},hz=n=>{const s=n.split(/\s*,\s*/);return Ie(s,l=>l.indexOf(" ")!==-1&&!(wr(l,'"')||wr(l,"'"))?`'${l}'`:l).join(",")},_ne=(n,s)=>{const l=dz(n,s);n.formatter.toggle("fontname",{value:hz(l)}),n.nodeChanged()},Rne=n=>fz(n,s=>uz(n.getBody(),s.dom)).getOr(""),Dne=(n,s)=>{n.formatter.toggle("fontsize",{value:dz(n,s)}),n.nodeChanged()},oue=n=>fz(n,s=>sR(n.getBody(),s.dom)).getOr(""),sue=n=>fz(n,s=>{const l=Yt.fromDom(n.getBody()),m=Mv(s,P=>Wi(P,"line-height"),ee(Gs,l)),x=()=>{const P=parseFloat(Ti(s,"line-height")),Z=parseFloat(Ti(s,"font-size"));return String(P/Z)};return m.getOrThunk(x)}).getOr(""),mz=(n,s)=>{n.formatter.toggle("lineheight",{value:String(s)}),n.nodeChanged()},gz=n=>{const s=(l,m)=>{n.formatter.toggle(l,m),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":l=>{s(l)},"ForeColor,HiliteColor":(l,m,x)=>{s(l,{value:x})},BackColor:(l,m,x)=>{s("hilitecolor",{value:x})},FontName:(l,m,x)=>{_ne(n,x)},FontSize:(l,m,x)=>{Dne(n,x)},LineHeight:(l,m,x)=>{mz(n,x)},Lang:(l,m,x)=>{var P;s(l,{value:x.code,customValue:(P=x.customCode)!==null&&P!==void 0?P:null})},RemoveFormat:l=>{n.formatter.remove(l)},mceBlockQuote:()=>{s("blockquote")},FormatBlock:(l,m,x)=>{s(M(x)?x:"p")},mceToggleFormat:(l,m,x)=>{s(x)}})},$ne=n=>{const s=l=>n.formatter.match(l);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":l=>s(l),mceBlockQuote:()=>s("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>Rne(n)),n.editorCommands.addQueryValueHandler("FontSize",()=>oue(n)),n.editorCommands.addQueryValueHandler("LineHeight",()=>sue(n))},Lne=n=>{gz(n),$ne(n)},Ine=n=>{n.editorCommands.addCommands({mceAddUndoLevel:()=>{n.undoManager.add()},mceEndUndoLevel:()=>{n.undoManager.add()},Undo:()=>{n.undoManager.undo()},Redo:()=>{n.undoManager.redo()}})},aue=n=>{n.editorCommands.addCommands({Indent:()=>{nQ(n)},Outdent:()=>{rQ(n)}}),n.editorCommands.addCommands({Outdent:()=>KB(n)},"state")},iue=n=>{const s=(l,m,x)=>{const P=M(x)?{href:x}:x,Z=n.dom.getParent(n.selection.getNode(),"a");I(P)&&M(P.href)&&(P.href=P.href.replace(/ /g,"%20"),(!Z||!P.href)&&n.formatter.remove("link"),P.href&&n.formatter.apply("link",P,Z))};n.editorCommands.addCommands({unlink:()=>{if(n.selection.isEditable()){if(n.selection.isCollapsed()){const l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")}},mceInsertLink:s,createLink:s})},lue=n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{n.getDoc().execCommand(s);const l=n.dom.getParent(n.selection.getNode(),"ol,ul");if(l){const m=l.parentNode;if(m&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(m.nodeName)){const x=n.selection.getBookmark();n.dom.split(m,l),n.selection.moveToBookmark(x)}}}})},Nne=n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{const l=n.dom.getParent(n.selection.getNode(),"ul,ol");return l&&(s==="insertunorderedlist"&&l.tagName==="UL"||s==="insertorderedlist"&&l.tagName==="OL")}},"state")},cue=n=>{lue(n),Nne(n)},Bne=(n,s,l,m)=>{const x=n.dom,P=J=>x.isBlock(J)&&J.parentElement===l,Z=P(s)?s:x.getParent(m,P,l);return Y.from(Z).map(Yt.fromDom)},$0=(n,s)=>{const l=n.dom,m=n.selection.getRng(),x=s?n.selection.getStart():n.selection.getEnd(),P=s?m.startContainer:m.endContainer,Z=wd(l,P);if(!Z||!Z.isContentEditable)return;const J=s?Yi:Ku,ge=Nc(n);Bne(n,x,Z,P).each(Re=>{const Ge=e_(n,P,Re.dom,Z,!1,ge);J(Re,Yt.fromDom(Ge)),n.selection.setCursorLocation(Ge,0),n.dispatch("NewBlock",{newBlock:Ge}),UC(n,"insertParagraph")})},iR=n=>$0(n,!0),OP=n=>$0(n,!1),pz=n=>{n.editorCommands.addCommands({InsertNewBlockBefore:()=>{iR(n)},InsertNewBlockAfter:()=>{OP(n)}})},vz=n=>{n.editorCommands.addCommands({insertParagraph:()=>{UA(SF,n)},mceInsertNewLine:(s,l,m)=>{AF(n,m)},InsertLineBreak:(s,l,m)=>{UA(DJ,n)}})},yz=n=>{n.editorCommands.addCommands({mceSelectNodeDepth:(s,l,m)=>{let x=0;n.dom.getParent(n.selection.getNode(),P=>Xr(P)&&x++===m?(n.selection.select(P),!1):!0,n.getBody())},mceSelectNode:(s,l,m)=>{n.selection.select(m)},selectAll:()=>{const s=n.dom.getParent(n.selection.getStart(),jl);if(s){const l=n.dom.createRng();l.selectNodeContents(s),n.selection.setRng(l)}}})},Qne=n=>{n.editorCommands.addCommands({mceRemoveNode:(s,l,m)=>{const x=m??n.selection.getNode();if(x!==n.getBody()){const P=n.selection.getBookmark();n.dom.remove(x,!0),n.selection.moveToBookmark(P)}},mcePrint:()=>{n.getWin().print()},mceFocus:(s,l,m)=>{MW(n,m===!0)},mceToggleVisualAid:()=>{n.hasVisual=!n.hasVisual,n.addVisual()}})},Fne=n=>{nR(n),Sne(n),Ine(n),yz(n),Tne(n),iue(n),aue(n),pz(n),vz(n),cue(n),Lne(n),Qne(n)},Vne=["toggleview"],bz=n=>Ve(Vne,n.toLowerCase());class Nv{constructor(s){this.commands={state:{},exec:{},value:{}},this.editor=s}execCommand(s,l=!1,m,x){const P=this.editor,Z=s.toLowerCase(),J=x==null?void 0:x.skip_focus;if(P.removed||(Z!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(Z)&&!J?P.focus():gW(P)),P.dispatch("BeforeExecCommand",{command:s,ui:l,value:m}).isDefaultPrevented()))return!1;const Re=this.commands.exec[Z];return E(Re)?(Re(Z,l,m),P.dispatch("ExecCommand",{command:s,ui:l,value:m}),!0):!1}queryCommandState(s){if(!bz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const l=s.toLowerCase(),m=this.commands.state[l];return E(m)?m(l):!1}queryCommandValue(s){if(!bz(s)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const l=s.toLowerCase(),m=this.commands.value[l];return E(m)?m(l):""}addCommands(s,l="exec"){const m=this.commands;Bt(s,(x,P)=>{re(P.toLowerCase().split(","),Z=>{m[l][Z]=x})})}addCommand(s,l,m){const x=s.toLowerCase();this.commands.exec[x]=(P,Z,J)=>l.call(m??this.editor,Z,J)}queryCommandSupported(s){const l=s.toLowerCase();return!!this.commands.exec[l]}addQueryStateHandler(s,l,m){this.commands.state[s.toLowerCase()]=()=>l.call(m??this.editor)}addQueryValueHandler(s,l,m){this.commands.value[s.toLowerCase()]=()=>l.call(m??this.editor)}}const oO="data-mce-contenteditable",Oz=(n,s,l)=>{wh(n,s)&&!l?Om(n,s):l&&bm(n,s)},lR=(n,s,l)=>{try{n.getDoc().execCommand(s,!1,String(l))}catch{}},sO=(n,s)=>{n.dom.contentEditable=s?"true":"false"},zne=n=>{re(ll(n,'*[contenteditable="true"]'),s=>{$a(s,oO,"true"),sO(s,!1)})},Zne=n=>{re(ll(n,`*[${oO}="true"]`),s=>{di(s,oO),sO(s,!0)})},Hne=n=>{Y.from(n.selection.getNode()).each(s=>{s.removeAttribute("data-mce-selected")})},xz=n=>{n.selection.setRng(n.selection.getRng())},Une=(n,s)=>{const l=Yt.fromDom(n.getBody());Oz(l,"mce-content-readonly",s),s?(n.selection.controlSelection.hideResizeRect(),n._selectionOverrides.hideFakeCaret(),Hne(n),n.readonly=!0,sO(l,!1),zne(l)):(n.readonly=!1,n.hasEditableRoot()&&sO(l,!0),Zne(l),lR(n,"StyleWithCSS",!1),lR(n,"enableInlineTableEditing",!1),lR(n,"enableObjectResizing",!1),N$(n)&&n.focus(),xz(n),n.nodeChanged())},aO=n=>n.readonly,Sz=n=>{n.parser.addAttributeFilter("contenteditable",s=>{aO(n)&&re(s,l=>{l.attr(oO,l.attr("contenteditable")),l.attr("contenteditable","false")})}),n.serializer.addAttributeFilter(oO,s=>{aO(n)&&re(s,l=>{l.attr("contenteditable",l.attr(oO))})}),n.serializer.addTempAttr(oO)},cR=n=>{n.serializer?Sz(n):n.on("PreInit",()=>{Sz(n)})},Wne=n=>n.type==="click",Yne=["copy"],Pl=n=>Ve(Yne,n.type),Xne=(n,s)=>Df(s,"a",m=>Gs(m,Yt.fromDom(n.getBody()))).bind(m=>kc(m,"href")),Gne=(n,s)=>{if(Wne(s)&&!Yr.metaKeyPressed(s)){const l=Yt.fromDom(s.target);Xne(n,l).each(m=>{if(s.preventDefault(),/^#/.test(m)){const x=n.dom.select(`${m},[name="${Sr(m,"#")}"]`);x.length&&n.selection.scrollIntoView(x[0],!0)}else window.open(m,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Pl(s)&&n.dispatch(s.type,s)},uR=n=>{n.on("ShowCaret",s=>{aO(n)&&s.preventDefault()}),n.on("ObjectSelected",s=>{aO(n)&&s.preventDefault()})},wz=fr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class aT{static isNative(s){return!!wz[s.toLowerCase()]}constructor(s){this.bindings={},this.settings=s||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ne}fire(s,l){return this.dispatch(s,l)}dispatch(s,l){const m=s.toLowerCase(),x=b1(m,l??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(x);const P=this.bindings[m];if(P)for(let Z=0,J=P.length;Z<J;Z++){const ge=P[Z];if(!ge.removed){if(ge.once&&this.off(m,ge.func),x.isImmediatePropagationStopped())return x;if(ge.func.call(this.scope,x)===!1)return x.preventDefault(),x}}return x}on(s,l,m,x){if(l===!1&&(l=ne),l){const P={func:l,removed:!1};x&&fr.extend(P,x);const Z=s.toLowerCase().split(" ");let J=Z.length;for(;J--;){const ge=Z[J];let Re=this.bindings[ge];Re||(Re=[],this.toggleEvent(ge,!0)),m?Re=[P,...Re]:Re=[...Re,P],this.bindings[ge]=Re}}return this}off(s,l){if(s){const m=s.toLowerCase().split(" ");let x=m.length;for(;x--;){const P=m[x];let Z=this.bindings[P];if(!P)return Bt(this.bindings,(J,ge)=>{this.toggleEvent(ge,!1),delete this.bindings[ge]}),this;if(Z){if(!l)Z.length=0;else{const J=te(Z,ge=>ge.func===l);Z=J.fail,this.bindings[P]=Z,re(J.pass,ge=>{ge.removed=!0})}Z.length||(this.toggleEvent(s,!1),delete this.bindings[P])}}}else Bt(this.bindings,(m,x)=>{this.toggleEvent(x,!1)}),this.bindings={};return this}once(s,l,m){return this.on(s,l,m,{once:!0})}has(s){s=s.toLowerCase();const l=this.bindings[s];return!(!l||l.length===0)}}const iT=n=>(n._eventDispatcher||(n._eventDispatcher=new aT({scope:n,toggleEvent:(s,l)=>{aT.isNative(s)&&n.toggleNativeEvent&&n.toggleNativeEvent(s,l)}})),n._eventDispatcher),fR={fire(n,s,l){return this.dispatch(n,s,l)},dispatch(n,s,l){const m=this;if(m.removed&&n!=="remove"&&n!=="detach")return b1(n.toLowerCase(),s??{},m);const x=iT(m).dispatch(n,s);if(l!==!1&&m.parent){let P=m.parent();for(;P&&!x.isPropagationStopped();)P.dispatch(n,x,!1),P=P.parent?P.parent():void 0}return x},on(n,s,l){return iT(this).on(n,s,l)},off(n,s){return iT(this).off(n,s)},once(n,s){return iT(this).once(n,s)},hasEventListeners(n){return iT(this).has(n)}},xP=La.DOM;let iO;const SP=(n,s)=>{if(s==="selectionchange")return n.getDoc();if(!n.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(s))return n.getDoc().documentElement;const l=Wg(n);return l?(n.eventRoot||(n.eventRoot=xP.select(l)[0]),n.eventRoot):n.getBody()},jne=n=>!n.hidden&&!aO(n),Cz=(n,s,l)=>{jne(n)?n.dispatch(s,l):aO(n)&&Gne(n,l)},Tz=(n,s)=>{if(n.delegates||(n.delegates={}),n.delegates[s]||n.removed)return;const l=SP(n,s);if(Wg(n)){if(iO||(iO={},n.editorManager.on("removeEditor",()=>{n.editorManager.activeEditor||iO&&(Bt(iO,(x,P)=>{n.dom.unbind(SP(n,P))}),iO=null)})),iO[s])return;const m=x=>{const P=x.target,Z=n.editorManager.get();let J=Z.length;for(;J--;){const ge=Z[J].getBody();(ge===P||xP.isChildOf(P,ge))&&Cz(Z[J],s,x)}};iO[s]=m,xP.bind(l,s,m)}else{const m=x=>{Cz(n,s,x)};xP.bind(l,s,m),n.delegates[s]=m}},lO={...fR,bindPendingEventDelegates(){const n=this;fr.each(n._pendingNativeEvents,s=>{Tz(n,s)})},toggleNativeEvent(n,s){const l=this;n==="focus"||n==="blur"||l.removed||(s?l.initialized?Tz(l,n):l._pendingNativeEvents?l._pendingNativeEvents.push(n):l._pendingNativeEvents=[n]:l.initialized&&l.delegates&&(l.dom.unbind(SP(l,n),n,l.delegates[n]),delete l.delegates[n]))},unbindAllNativeEvents(){const n=this,s=n.getBody(),l=n.dom;n.delegates&&(Bt(n.delegates,(m,x)=>{n.dom.unbind(SP(n,x),x,m)}),delete n.delegates),!n.inline&&s&&l&&(s.onload=null,l.unbind(n.getWin()),l.unbind(n.getDoc())),l&&(l.unbind(s),l.unbind(n.getContainer()))}},sg=n=>M(n)?{value:n.split(/[ ,]/),valid:!0}:X(n,M)?{value:n,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},qne=n=>{const s=(()=>{switch(n){case"array":return N;case"boolean":return z;case"function":return E;case"number":return W;case"object":return I;case"string":return M;case"string[]":return sg;case"object[]":return l=>X(l,I);case"regexp":return l=>_(l,RegExp);default:return le}})();return l=>dR(l,s,`The value must be a ${n}.`)},Kne=n=>M(n.processor),kz=(n,s)=>{const l=Tt(s.message)?"":`. ${s.message}`;return n+l},Az=n=>n.valid,dR=(n,s,l="")=>{const m=s(n);return z(m)?m?{value:n,valid:!0}:{valid:!1,message:l}:m},Jne=(n,s,l)=>{if(!U(s)){const m=dR(s,l);if(Az(m))return m.value;console.error(kz(`Invalid default value passed for the "${n}" option`,m))}},ere=(n,s)=>{const l={},m={},x=(qe,ot,Et)=>{const Vt=dR(ot,Et);return Az(Vt)?(m[qe]=Vt.value,!0):(console.warn(kz(`Invalid value passed for the ${qe} option`,Vt)),!1)},P=(qe,ot)=>{const Et=Kne(ot)?qne(ot.processor):ot.processor,Vt=Jne(qe,ot.default,Et);l[qe]={...ot,default:Vt,processor:Et},Sn(m,qe).orThunk(()=>Sn(s,qe)).each(It=>x(qe,It,Et))},Z=qe=>lt(l,qe);return{register:P,isRegistered:Z,get:qe=>Sn(m,qe).orThunk(()=>Sn(l,qe).map(ot=>ot.default)).getOrUndefined(),set:(qe,ot)=>{if(Z(qe)){const Et=l[qe];return Et.immutable?(console.error(`"${qe}" is an immutable option and cannot be updated`),!1):x(qe,ot,Et.processor)}else return console.warn(`"${qe}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:qe=>{const ot=Z(qe);return ot&&delete m[qe],ot},isSet:qe=>lt(m,qe)}},tre=["design","readonly"],Pz=(n,s,l,m)=>{const x=l[s.get()],P=l[m];try{P.activate()}catch(Z){console.error(`problem while activating editor mode ${m}:`,Z);return}x.deactivate(),x.editorReadOnly!==P.editorReadOnly&&Une(n,P.editorReadOnly),s.set(m),C3(n,m)},uue=(n,s,l,m)=>{if(m!==l.get()){if(!lt(s,m))throw new Error(`Editor mode '${m}' is invalid`);n.initialized?Pz(n,l,s,m):n.on("init",()=>Pz(n,l,s,m))}},nre=(n,s,l)=>{if(Ve(tre,s))throw new Error(`Cannot override default mode ${s}`);return{...n,[s]:{...l,deactivate:()=>{try{l.deactivate()}catch(m){console.error(`problem while deactivating editor mode ${s}:`,m)}}}}},rre=n=>{const s=si("design"),l=si({design:{activate:ie,deactivate:ie,editorReadOnly:!1},readonly:{activate:ie,deactivate:ie,editorReadOnly:!0}});return cR(n),uR(n),{isReadOnly:()=>aO(n),set:m=>uue(n,l.get(),s,m),get:()=>s.get(),register:(m,x)=>{l.set(nre(l.get(),m,x))}}},hR=fr.each,mR=fr.explode,ore={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Mz=fr.makeMap("alt,ctrl,shift,meta,access"),fue=n=>n in Mz,sre=n=>{const s={},l=Dr.os.isMacOS()||Dr.os.isiOS();hR(mR(n.toLowerCase(),"+"),P=>{fue(P)?s[P]=!0:/^[0-9]{2,}$/.test(P)?s.keyCode=parseInt(P,10):(s.charCode=P.charCodeAt(0),s.keyCode=ore[P]||P.toUpperCase().charCodeAt(0))});const m=[s.keyCode];let x;for(x in Mz)s[x]?m.push(x):s[x]=!1;return s.id=m.join(","),s.access&&(s.alt=!0,l?s.ctrl=!0:s.shift=!0),s.meta&&(l?s.meta=!0:(s.ctrl=!0,s.meta=!1)),s};class Ez{constructor(s){this.shortcuts={},this.pendingPatterns=[],this.editor=s;const l=this;s.on("keyup keypress keydown",m=>{(l.hasModifier(m)||l.isFunctionKey(m))&&!m.isDefaultPrevented()&&(hR(l.shortcuts,x=>{l.matchShortcut(m,x)&&(l.pendingPatterns=x.subpatterns.slice(0),m.type==="keydown"&&l.executeShortcutAction(x))}),l.matchShortcut(m,l.pendingPatterns[0])&&(l.pendingPatterns.length===1&&m.type==="keydown"&&l.executeShortcutAction(l.pendingPatterns[0]),l.pendingPatterns.shift()))})}add(s,l,m,x){const P=this,Z=P.normalizeCommandFunc(m);return hR(mR(fr.trim(s)),J=>{const ge=P.createShortcut(J,l,Z,x);P.shortcuts[ge.id]=ge}),!0}remove(s){const l=this.createShortcut(s);return this.shortcuts[l.id]?(delete this.shortcuts[l.id],!0):!1}normalizeCommandFunc(s){const l=this,m=s;return typeof m=="string"?()=>{l.editor.execCommand(m,!1,null)}:fr.isArray(m)?()=>{l.editor.execCommand(m[0],m[1],m[2])}:m}createShortcut(s,l,m,x){const P=fr.map(mR(s,">"),sre);return P[P.length-1]=fr.extend(P[P.length-1],{func:m,scope:x||this.editor}),fr.extend(P[0],{desc:this.editor.translate(l),subpatterns:P.slice(1)})}hasModifier(s){return s.altKey||s.ctrlKey||s.metaKey}isFunctionKey(s){return s.type==="keydown"&&s.keyCode>=112&&s.keyCode<=123}matchShortcut(s,l){return!l||l.ctrl!==s.ctrlKey||l.meta!==s.metaKey||l.alt!==s.altKey||l.shift!==s.shiftKey?!1:s.keyCode===l.keyCode||s.charCode&&s.charCode===l.charCode?(s.preventDefault(),!0):!1}executeShortcutAction(s){return s.func?s.func.call(s.scope):null}}const are=()=>{const n={},s={},l={},m={},x={},P={},Z={},J={},ge=(Ge,qe)=>(ot,Et)=>{Ge[ot.toLowerCase()]={...Et,type:qe}},Re=(Ge,qe)=>m[Ge.toLowerCase()]=qe;return{addButton:ge(n,"button"),addGroupToolbarButton:ge(n,"grouptoolbarbutton"),addToggleButton:ge(n,"togglebutton"),addMenuButton:ge(n,"menubutton"),addSplitButton:ge(n,"splitbutton"),addMenuItem:ge(s,"menuitem"),addNestedMenuItem:ge(s,"nestedmenuitem"),addToggleMenuItem:ge(s,"togglemenuitem"),addAutocompleter:ge(l,"autocompleter"),addContextMenu:ge(x,"contextmenu"),addContextToolbar:ge(P,"contexttoolbar"),addContextForm:ge(P,"contextform"),addSidebar:ge(Z,"sidebar"),addView:ge(J,"views"),addIcon:Re,getAll:()=>({buttons:n,menuItems:s,icons:m,popups:l,contextMenus:x,contextToolbars:P,sidebars:Z,views:J})}},ire=()=>{const n=are();return{addAutocompleter:n.addAutocompleter,addButton:n.addButton,addContextForm:n.addContextForm,addContextMenu:n.addContextMenu,addContextToolbar:n.addContextToolbar,addIcon:n.addIcon,addMenuButton:n.addMenuButton,addMenuItem:n.addMenuItem,addNestedMenuItem:n.addNestedMenuItem,addSidebar:n.addSidebar,addSplitButton:n.addSplitButton,addToggleButton:n.addToggleButton,addGroupToolbarButton:n.addGroupToolbarButton,addToggleMenuItem:n.addToggleMenuItem,addView:n.addView,getAll:n.getAll}},cO=La.DOM,_z=fr.extend,lre=fr.each;class wP{constructor(s,l,m){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=m,this.documentBaseUrl=m.documentBaseURL,_z(this,lO);const x=this;this.id=s,this.hidden=!1;const P=bne(m.defaultOptions,l);this.options=ere(x,P),D5(x);const Z=this.options.get;Z("deprecation_warnings")&&kce(l,P);const J=Z("suffix");J&&(m.suffix=J),this.suffix=m.suffix;const ge=Z("base_url");ge&&m._setBaseUrl(ge),this.baseUri=m.baseURI;const Re=ps(x);Re&&(nl.ScriptLoader._setReferrerPolicy(Re),La.DOM.styleSheetLoader._setReferrerPolicy(Re));const Ge=B1(x);B(Ge)&&La.DOM.styleSheetLoader._setContentCssCors(Ge),Lc.languageLoad=Z("language_load"),Lc.baseURL=m.baseURL,this.setDirty(!1),this.documentBaseURI=new sh(Dw(x),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Zw(x),this.hasVisual=P7(x),this.shortcuts=new Ez(this),this.editorCommands=new Nv(this),Fne(this);const qe=Z("cache_suffix");qe&&(Dr.cacheSuffix=qe.replace(/^[\?\&]+/,"")),this.ui={registry:ire(),styleSheetLoader:void 0,show:ie,hide:ie,setEnabled:ie,isEnabled:le},this.mode=rre(x),m.dispatch("SetupEditor",{editor:this});const ot=Hw(x);E(ot)&&ot.call(x,x)}render(){qx(this)}focus(s){this.execCommand("mceFocus",!1,s)}hasFocus(){return c0(this)}translate(s){return ud.translate(s)}getParam(s,l,m){const x=this.options;return x.isRegistered(s)||(B(m)?x.register(s,{processor:m,default:l}):x.register(s,{processor:le,default:l})),!x.isSet(s)&&!U(l)?l:x.get(s)}hasPlugin(s,l){return Ve(ob(this),s)?l?Wb.get(s)!==void 0:!0:!1}nodeChanged(s){this._nodeChangeDispatcher.nodeChanged(s)}addCommand(s,l,m){this.editorCommands.addCommand(s,l,m)}addQueryStateHandler(s,l,m){this.editorCommands.addQueryStateHandler(s,l,m)}addQueryValueHandler(s,l,m){this.editorCommands.addQueryValueHandler(s,l,m)}addShortcut(s,l,m,x){this.shortcuts.add(s,l,m,x)}execCommand(s,l,m,x){return this.editorCommands.execCommand(s,l,m,x)}queryCommandState(s){return this.editorCommands.queryCommandState(s)}queryCommandValue(s){return this.editorCommands.queryCommandValue(s)}queryCommandSupported(s){return this.editorCommands.queryCommandSupported(s)}show(){const s=this;s.hidden&&(s.hidden=!1,s.inline?s.getBody().contentEditable="true":(cO.show(s.getContainer()),cO.hide(s.id)),s.load(),s.dispatch("show"))}hide(){const s=this;s.hidden||(s.save(),s.inline?(s.getBody().contentEditable="false",s===s.editorManager.focusedEditor&&(s.editorManager.focusedEditor=null)):(cO.hide(s.getContainer()),cO.setStyle(s.id,"display",s.orgDisplay)),s.hidden=!0,s.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(s,l){this.dispatch("ProgressState",{state:s,time:l})}load(s={}){const l=this,m=l.getElement();if(l.removed)return"";if(m){const x={...s,load:!0},P=c1(m)?m.value:m.innerHTML,Z=l.setContent(P,x);return x.no_events||l.dispatch("LoadContent",{...x,element:m}),Z}else return""}save(s={}){const l=this;let m=l.getElement();if(!m||!l.initialized||l.removed)return"";const x={...s,save:!0,element:m};let P=l.getContent(x);const Z={...x,content:P};if(Z.no_events||l.dispatch("SaveContent",Z),Z.format==="raw"&&l.dispatch("RawSaveContent",Z),P=Z.content,c1(m))m.value=P;else{(s.is_removing||!l.inline)&&(m.innerHTML=P);const J=cO.getParent(l.id,"form");J&&lre(J.elements,ge=>ge.name===l.id?(ge.value=P,!1):!0)}return Z.element=x.element=m=null,Z.set_dirty!==!1&&l.setDirty(!1),P}setContent(s,l){return _E(this,s,l)}getContent(s){return IN(this,s)}insertContent(s,l){l&&(s=_z({content:s},l)),this.execCommand("mceInsertContent",!1,s)}resetContent(s){s===void 0?_E(this,this.startContent,{format:"raw"}):_E(this,s),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(s){const l=!this.isNotDirty;this.isNotDirty=!s,s&&s!==l&&this.dispatch("dirty")}getContainer(){const s=this;return s.container||(s.container=s.editorContainer||cO.get(s.id+"_parent")),s.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=cO.get(this.id)),this.targetElm}getWin(){const s=this;if(!s.contentWindow){const l=s.iframeElement;l&&(s.contentWindow=l.contentWindow)}return s.contentWindow}getDoc(){const s=this;if(!s.contentDocument){const l=s.getWin();l&&(s.contentDocument=l.document)}return s.contentDocument}getBody(){var s,l;const m=this.getDoc();return(l=(s=this.bodyElement)!==null&&s!==void 0?s:m==null?void 0:m.body)!==null&&l!==void 0?l:null}convertURL(s,l,m){const x=this,P=x.options.get,Z=R7(x);if(E(Z))return Z.call(x,s,m,!0,l);if(!P("convert_urls")||m==="link"||I(m)&&m.nodeName==="LINK"||s.indexOf("file:")===0||s.length===0)return s;const J=new sh(s);return J.protocol!=="http"&&J.protocol!=="https"&&J.protocol!==""?s:P("relative_urls")?x.documentBaseURI.toRelative(s):(s=x.documentBaseURI.toAbsolute(s,P("remove_script_host")),s)}addVisual(s){One(this,s)}setEditableRoot(s){az(this,s)}hasEditableRoot(){return une(this)}remove(){qG(this)}destroy(s){KG(this,s)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Kx=La.DOM,CP=fr.each;let Rz=!1,TP,bf=[];const kP=n=>{const s=n.type;CP(L0.get(),l=>{switch(s){case"scroll":l.dispatch("ScrollWindow",n);break;case"resize":l.dispatch("ResizeWindow",n);break}})},Dz=n=>{if(n!==Rz){const s=La.DOM;n?(s.bind(window,"resize",kP),s.bind(window,"scroll",kP)):(s.unbind(window,"resize",kP),s.unbind(window,"scroll",kP)),Rz=n}},$z=n=>{const s=bf;return bf=se(bf,l=>n!==l),L0.activeEditor===n&&(L0.activeEditor=bf.length>0?bf[0]:null),L0.focusedEditor===n&&(L0.focusedEditor=null),s.length!==bf.length},Lz=n=>{n&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&($z(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)},cre=document.compatMode!=="CSS1Compat",L0={...fR,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.0",releaseDate:"2023-11-22",i18n:ud,activeEditor:null,focusedEditor:null,setup(){const n=this;let s="",l="",m=sh.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(m)&&(m=m.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/"));const x=window.tinymce||window.tinyMCEPreInit;if(x)s=x.base||x.baseURL,l=x.suffix;else{const P=document.getElementsByTagName("script");for(let Z=0;Z<P.length;Z++){const J=P[Z].src||"";if(J==="")continue;const ge=J.substring(J.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(J)){ge.indexOf(".min")!==-1&&(l=".min"),s=J.substring(0,J.lastIndexOf("/"));break}}if(!s&&document.currentScript){const Z=document.currentScript.src;Z.indexOf(".min")!==-1&&(l=".min"),s=Z.substring(0,Z.lastIndexOf("/"))}}n.baseURL=new sh(m).toAbsolute(s),n.documentBaseURL=m,n.baseURI=new sh(n.baseURL),n.suffix=l,SW(n)},overrideDefaults(n){const s=n.base_url;s&&this._setBaseUrl(s);const l=n.suffix;l&&(this.suffix=l),this.defaultOptions=n;const m=n.plugin_base_urls;m!==void 0&&Bt(m,(x,P)=>{Lc.PluginManager.urls[P]=x})},init(n){const s=this;let l;const m=fr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),x=(Ge,qe)=>Ge.inline&&qe.tagName.toLowerCase()in m,P=Ge=>{let qe=Ge.id;return qe||(qe=Sn(Ge,"name").filter(ot=>!Kx.get(ot)).getOrThunk(Kx.uniqueId),Ge.setAttribute("id",qe)),qe},Z=Ge=>{const qe=n[Ge];if(qe)return qe.apply(s,[])},J=Ge=>Dr.browser.isIE()||Dr.browser.isEdge()?(OC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):cre?(OC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):M(Ge.selector)?Kx.select(Ge.selector):B(Ge.target)?[Ge.target]:[];let ge=Ge=>{l=Ge};const Re=()=>{let Ge=0;const qe=[];let ot;const Et=(Vt,kt,It)=>{const cn=new wP(Vt,kt,s);qe.push(cn),cn.on("init",()=>{++Ge===ot.length&&ge(qe)}),cn.targetElm=cn.targetElm||It,cn.render()};Kx.unbind(window,"ready",Re),Z("onpageload"),ot=Xt(J(n)),fr.each(ot,Vt=>{Lz(s.get(Vt.id))}),ot=fr.grep(ot,Vt=>!s.get(Vt.id)),ot.length===0?ge([]):CP(ot,Vt=>{x(n,Vt)?OC("Could not initialize inline editor on invalid inline target element",Vt):Et(P(Vt),n,Vt)})};return Kx.bind(window,"ready",Re),new Promise(Ge=>{l?Ge(l):ge=qe=>{Ge(qe)}})},get(n){return arguments.length===0?bf.slice(0):M(n)?ce(bf,s=>s.id===n).getOr(null):W(n)&&bf[n]?bf[n]:null},add(n){const s=this,l=s.get(n.id);return l===n||(l===null&&bf.push(n),Dz(!0),s.activeEditor=n,s.dispatch("AddEditor",{editor:n}),TP||(TP=m=>{const x=s.dispatch("BeforeUnload");if(x.returnValue)return m.preventDefault(),m.returnValue=x.returnValue,x.returnValue},window.addEventListener("beforeunload",TP))),n},createEditor(n,s){return this.add(new wP(n,s,this))},remove(n){const s=this;let l;if(!n){for(let m=bf.length-1;m>=0;m--)s.remove(bf[m]);return}if(M(n)){CP(Kx.select(n),m=>{l=s.get(m.id),l&&s.remove(l)});return}return l=n,Q(s.get(l.id))?null:($z(l)&&s.dispatch("RemoveEditor",{editor:l}),bf.length===0&&window.removeEventListener("beforeunload",TP),l.remove(),Dz(bf.length>0),l)},execCommand(n,s,l){var m;const x=this,P=I(l)?(m=l.id)!==null&&m!==void 0?m:l.index:l;switch(n){case"mceAddEditor":{if(!x.get(P)){const Z=l.options;new wP(P,Z,x).render()}return!0}case"mceRemoveEditor":{const Z=x.get(P);return Z&&Z.remove(),!0}case"mceToggleEditor":{const Z=x.get(P);return Z?(Z.isHidden()?Z.show():Z.hide(),!0):(x.execCommand("mceAddEditor",!1,l),!0)}}return x.activeEditor?x.activeEditor.execCommand(n,s,l):!1},triggerSave:()=>{CP(bf,n=>{n.save()})},addI18n:(n,s)=>{ud.add(n,s)},translate:n=>ud.translate(n),setActive(n){const s=this.activeEditor;this.activeEditor!==n&&(s&&s.dispatch("deactivate",{relatedTarget:n}),n.dispatch("activate",{relatedTarget:s})),this.activeEditor=n},_setBaseUrl(n){this.baseURL=new sh(this.documentBaseURL).toAbsolute(n.replace(/\/+$/,"")),this.baseURI=new sh(this.baseURL)}};L0.setup();const ure=(()=>{const n=Vg(),s=P=>({items:P,types:Gt(P),getType:Z=>Sn(P,Z).getOrUndefined()}),l=P=>{n.set(P)},m=()=>n.get().getOrUndefined(),x=n.clear;return{FakeClipboardItem:s,write:l,read:m,clear:x}})(),Iz=Math.min,Jx=Math.max,AP=Math.round,Nz=(n,s,l)=>{let m=s.x,x=s.y;const P=n.w,Z=n.h,J=s.w,ge=s.h,Re=(l||"").split("");return Re[0]==="b"&&(x+=ge),Re[1]==="r"&&(m+=J),Re[0]==="c"&&(x+=AP(ge/2)),Re[1]==="c"&&(m+=AP(J/2)),Re[3]==="b"&&(x-=Z),Re[4]==="r"&&(m-=P),Re[3]==="c"&&(x-=AP(Z/2)),Re[4]==="c"&&(m-=AP(P/2)),eS(m,x,P,Z)},Bz=(n,s,l,m)=>{for(let x=0;x<m.length;x++){const P=Nz(n,s,m[x]);if(P.x>=l.x&&P.x+P.w<=l.w+l.x&&P.y>=l.y&&P.y+P.h<=l.h+l.y)return m[x]}return null},fre=(n,s,l)=>eS(n.x-s,n.y-l,n.w+s*2,n.h+l*2),dre=(n,s)=>{const l=Jx(n.x,s.x),m=Jx(n.y,s.y),x=Iz(n.x+n.w,s.x+s.w),P=Iz(n.y+n.h,s.y+s.h);return x-l<0||P-m<0?null:eS(l,m,x-l,P-m)},hre=(n,s,l)=>{let m=n.x,x=n.y,P=n.x+n.w,Z=n.y+n.h;const J=s.x+s.w,ge=s.y+s.h,Re=Jx(0,s.x-m),Ge=Jx(0,s.y-x),qe=Jx(0,P-J),ot=Jx(0,Z-ge);return m+=Re,x+=Ge,l&&(P+=Re,Z+=Ge,m-=qe,x-=ot),P-=qe,Z-=ot,eS(m,x,P-m,Z-x)},eS=(n,s,l,m)=>({x:n,y:s,w:l,h:m}),mre={inflate:fre,relativePosition:Nz,findBestRelativePosition:Bz,intersect:dre,clamp:hre,create:eS,fromClientRect:n=>eS(n.left,n.top,n.width,n.height)},gre=(n,s,l=1e3)=>{let m=!1,x=null;const P=Re=>(...Ge)=>{m||(m=!0,x!==null&&(clearTimeout(x),x=null),Re.apply(null,Ge))},Z=P(n),J=P(s);return{start:(...Re)=>{!m&&x===null&&(x=setTimeout(()=>J.apply(null,Re),l))},resolve:Z,reject:J}},Qz=(()=>{const n={},s={},l={};return{load:(ge,Re)=>{const Ge=`Script at URL "${Re}" failed to load`,qe=`Script at URL "${Re}" did not call \`tinymce.Resource.add('${ge}', data)\` within 1 second`;if(n[ge]!==void 0)return n[ge];{const ot=new Promise((Et,Vt)=>{const kt=gre(Et,Vt);s[ge]=kt.resolve,nl.ScriptLoader.loadScript(Re).then(()=>kt.start(qe),()=>kt.reject(Ge))});return n[ge]=ot,ot}},add:(ge,Re)=>{s[ge]!==void 0&&(s[ge](Re),delete s[ge]),n[ge]=Promise.resolve(Re),l[ge]=Re},has:ge=>ge in l,get:ge=>l[ge],unload:ge=>{delete n[ge]}}})(),gue=()=>(()=>{let n={},s=[];const l={getItem:m=>{const x=n[m];return x||null},setItem:(m,x)=>{s.push(m),n[m]=String(x)},key:m=>s[m],removeItem:m=>{s=s.filter(x=>x===m),delete n[m]},clear:()=>{s=[],n={}},length:0};return Object.defineProperty(l,"length",{get:()=>s.length,configurable:!1,enumerable:!1}),l})();let tS;try{const n="__storage_test__";tS=window.localStorage,tS.setItem(n,n),tS.removeItem(n)}catch{tS=gue()}var pre=tS;const Fz={geom:{Rect:mre},util:{Delay:pd,Tools:fr,VK:Yr,URI:sh,EventDispatcher:aT,Observable:fR,I18n:ud,LocalStorage:pre,ImageUploader:IE},dom:{EventUtils:_u,TreeWalker:fa,TextSeeker:zg,DOMUtils:La,ScriptLoader:nl,RangeUtils:Ot,Serializer:$N,StyleSheetLoader:ew,ControlSelection:k$,BookmarkManager:xv,Selection:v0,Event:_u.Event},html:{Styles:t2,Entities:Bg,Node:yu,Schema:Lm,DomParser:Gh,Writer:q$,Serializer:u0},Env:Dr,AddOnManager:Lc,Annotator:x3,Formatter:Xb,UndoManager:xC,EditorCommands:Nv,WindowManager:HN,NotificationManager:$E,EditorObservable:lO,Shortcuts:Ez,Editor:wP,FocusManager:_$,EditorManager:L0,DOM:La.DOM,ScriptLoader:nl.ScriptLoader,PluginManager:Wb,ThemeManager:Dv,ModelManager:ih,IconManager:vC,Resource:Qz,FakeClipboard:ure,trim:fr.trim,isArray:fr.isArray,is:fr.is,toArray:fr.toArray,makeMap:fr.makeMap,each:fr.each,map:fr.map,grep:fr.grep,inArray:fr.inArray,extend:fr.extend,walk:fr.walk,resolve:fr.resolve,explode:fr.explode,_addCacheSuffix:fr._addCacheSuffix},Vz=fr.extend(L0,Fz),vre=n=>{try{t.exports=n}catch{}};(n=>{window.tinymce=n,window.tinyMCE=n})(Vz),vre(Vz)})()})(cIe);(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const e=(A,$,j)=>{var ue;return j(A,$.prototype)?!0:((ue=A.constructor)===null||ue===void 0?void 0:ue.name)===$.name},r=A=>{const $=typeof A;return A===null?"null":$==="object"&&Array.isArray(A)?"array":$==="object"&&e(A,String,(j,ue)=>ue.isPrototypeOf(j))?"string":$},a=A=>$=>r($)===A,i=A=>$=>typeof $===A,f=A=>$=>A===$,d=a("string"),h=a("object"),c=a("array"),g=f(null),v=i("boolean"),y=f(void 0),b=A=>A==null,O=A=>!b(A),T=i("function"),k=i("number"),w=()=>{},C=(A,$)=>(...j)=>A($.apply(null,j)),_=(A,$)=>j=>A($(j)),M=A=>()=>A,I=A=>A,V=(A,$)=>A===$;function N(A,...$){return(...j)=>{const ue=$.concat(j);return A.apply(null,ue)}}const Q=A=>$=>!A($),z=A=>()=>{throw new Error(A)},U=A=>A(),F=M(!1),B=M(!0);class E{constructor($,j){this.tag=$,this.value=j}static some($){return new E(!0,$)}static none(){return E.singletonNone}fold($,j){return this.tag?j(this.value):$()}isSome(){return this.tag}isNone(){return!this.tag}map($){return this.tag?E.some($(this.value)):E.none()}bind($){return this.tag?$(this.value):E.none()}exists($){return this.tag&&$(this.value)}forall($){return!this.tag||$(this.value)}filter($){return!this.tag||$(this.value)?this:E.none()}getOr($){return this.tag?this.value:$}or($){return this.tag?this:$}getOrThunk($){return this.tag?this.value:$()}orThunk($){return this.tag?this:$()}getOrDie($){if(this.tag)return this.value;throw new Error($??"Called getOrDie on None")}static from($){return O($)?E.some($):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($){this.tag&&$(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const W=Array.prototype.slice,X=Array.prototype.indexOf,ie=Array.prototype.push,L=(A,$)=>X.call(A,$),me=(A,$)=>L(A,$)>-1,ae=(A,$)=>{for(let j=0,ue=A.length;j<ue;j++){const Me=A[j];if($(Me,j))return!0}return!1},q=(A,$)=>{const j=[];for(let ue=0;ue<A;ue++)j.push($(ue));return j},de=(A,$)=>{const j=A.length,ue=new Array(j);for(let Me=0;Me<j;Me++){const ze=A[Me];ue[Me]=$(ze,Me)}return ue},ee=(A,$)=>{for(let j=0,ue=A.length;j<ue;j++){const Me=A[j];$(Me,j)}},xe=(A,$)=>{for(let j=A.length-1;j>=0;j--){const ue=A[j];$(ue,j)}},we=(A,$)=>{const j=[],ue=[];for(let Me=0,ze=A.length;Me<ze;Me++){const nt=A[Me];($(nt,Me)?j:ue).push(nt)}return{pass:j,fail:ue}},Be=(A,$)=>{const j=[];for(let ue=0,Me=A.length;ue<Me;ue++){const ze=A[ue];$(ze,ue)&&j.push(ze)}return j},pe=(A,$,j)=>(xe(A,(ue,Me)=>{j=$(j,ue,Me)}),j),ne=(A,$,j)=>(ee(A,(ue,Me)=>{j=$(j,ue,Me)}),j),le=(A,$,j)=>{for(let ue=0,Me=A.length;ue<Me;ue++){const ze=A[ue];if($(ze,ue))return E.some(ze);if(j(ze,ue))break}return E.none()},Y=(A,$)=>le(A,$,F),ve=(A,$)=>{for(let j=0,ue=A.length;j<ue;j++){const Me=A[j];if($(Me,j))return E.some(j)}return E.none()},Oe=A=>{const $=[];for(let j=0,ue=A.length;j<ue;++j){if(!c(A[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+A);ie.apply($,A[j])}return $},Le=(A,$)=>Oe(de(A,$)),Te=(A,$)=>{for(let j=0,ue=A.length;j<ue;++j){const Me=A[j];if($(Me,j)!==!0)return!1}return!0},De=A=>{const $=W.call(A,0);return $.reverse(),$},Ve=(A,$)=>{const j={};for(let ue=0,Me=A.length;ue<Me;ue++){const ze=A[ue];j[String(ze)]=$(ze,ue)}return j},_e=(A,$)=>{const j=W.call(A,0);return j.sort($),j},Ie=(A,$)=>$>=0&&$<A.length?E.some(A[$]):E.none(),re=A=>Ie(A,0),be=A=>Ie(A,A.length-1),te=(A,$)=>{for(let j=0;j<A.length;j++){const ue=$(A[j],j);if(ue.isSome())return ue}return E.none()},se=Object.keys,fe=Object.hasOwnProperty,oe=(A,$)=>{const j=se(A);for(let ue=0,Me=j.length;ue<Me;ue++){const ze=j[ue],nt=A[ze];$(nt,ze)}},Se=(A,$)=>ce(A,(j,ue)=>({k:ue,v:$(j,ue)})),ce=(A,$)=>{const j={};return oe(A,(ue,Me)=>{const ze=$(ue,Me);j[ze.k]=ze.v}),j},ke=A=>($,j)=>{A[j]=$},Qe=(A,$,j,ue)=>{oe(A,(Me,ze)=>{($(Me,ze)?j:ue)(Me,ze)})},Ze=(A,$)=>{const j={};return Qe(A,$,ke(j),w),j},Xe=(A,$)=>{const j=[];return oe(A,(ue,Me)=>{j.push($(ue,Me))}),j},ct=A=>Xe(A,I),pt=(A,$)=>Ye(A,$)?E.from(A[$]):E.none(),Ye=(A,$)=>fe.call(A,$),je=(A,$)=>Ye(A,$)&&A[$]!==void 0&&A[$]!==null,et=A=>{for(const $ in A)if(fe.call(A,$))return!1;return!0},yt=typeof window<"u"?window:Function("return this;")(),ft=(A,$)=>{let j=$??yt;for(let ue=0;ue<A.length&&j!==void 0&&j!==null;++ue)j=j[A[ue]];return j},tt=(A,$)=>{const j=A.split(".");return ft(j,$)},wt=(A,$)=>tt(A,$),Xt=(A,$)=>{const j=wt(A,$);if(j==null)throw new Error(A+" not available on this browser");return j},Gt=Object.getPrototypeOf,Nt=A=>Xt("HTMLElement",A),Bt=A=>{const $=tt("ownerDocument.defaultView",A);return h(A)&&(Nt($).prototype.isPrototypeOf(A)||/^HTML\w*Element$/.test(Gt(A).constructor.name))},vn=8,En=9,ln=11,Yn=1,an=3,wn=A=>A.dom.nodeName.toLowerCase(),Xn=A=>A.dom.nodeType,Un=A=>$=>Xn($)===A,Sn=A=>Xn(A)===vn||wn(A)==="#comment",lt=A=>ut(A)&&Bt(A.dom),ut=Un(Yn),xt=Un(an),gt=Un(En),Dt=Un(ln),He=A=>$=>ut($)&&wn($)===A,it=(A,$,j)=>{if(d(j)||v(j)||k(j))A.setAttribute($,j+"");else throw console.error("Invalid call to Attribute.set. Key ",$,":: Value ",j,":: Element ",A),new Error("Attribute value was not simple")},dt=(A,$,j)=>{it(A.dom,$,j)},mt=(A,$)=>{const j=A.dom;oe($,(ue,Me)=>{it(j,Me,ue)})},Ct=(A,$)=>{oe($,(j,ue)=>{j.fold(()=>{rn(A,ue)},Me=>{it(A.dom,ue,Me)})})},Pt=(A,$)=>{const j=A.dom.getAttribute($);return j===null?void 0:j},dn=(A,$)=>E.from(Pt(A,$)),rn=(A,$)=>{A.dom.removeAttribute($)},Wt=A=>ne(A.dom.attributes,($,j)=>($[j.name]=j.value,$),{}),Rt=(A,$)=>{const ue=($||document).createElement("div");if(ue.innerHTML=A,!ue.hasChildNodes()||ue.childNodes.length>1){const Me="HTML does not have a single root node";throw console.error(Me,A),new Error(Me)}return nr(ue.childNodes[0])},fn=(A,$)=>{const ue=($||document).createElement(A);return nr(ue)},Hn=(A,$)=>{const ue=($||document).createTextNode(A);return nr(ue)},nr=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},zt={fromHtml:Rt,fromTag:fn,fromText:Hn,fromDom:nr,fromPoint:(A,$,j)=>E.from(A.dom.elementFromPoint($,j)).map(nr)},vr=(A,$)=>{const j=A.dom;if(j.nodeType!==Yn)return!1;{const ue=j;if(ue.matches!==void 0)return ue.matches($);if(ue.msMatchesSelector!==void 0)return ue.msMatchesSelector($);if(ue.webkitMatchesSelector!==void 0)return ue.webkitMatchesSelector($);if(ue.mozMatchesSelector!==void 0)return ue.mozMatchesSelector($);throw new Error("Browser lacks native selectors")}},Wn=A=>A.nodeType!==Yn&&A.nodeType!==En&&A.nodeType!==ln||A.childElementCount===0,Br=(A,$)=>{const j=$===void 0?document:$.dom;return Wn(j)?[]:de(j.querySelectorAll(A),zt.fromDom)},kr=(A,$)=>{const j=$===void 0?document:$.dom;return Wn(j)?E.none():E.from(j.querySelector(A)).map(zt.fromDom)},or=(A,$)=>A.dom===$.dom,jr=(A,$)=>{const j=A.dom,ue=$.dom;return j===ue?!1:j.contains(ue)},_r=vr,Rn=A=>zt.fromDom(A.dom.ownerDocument),Sr=A=>gt(A)?A:Rn(A),sr=A=>zt.fromDom(Sr(A).dom.documentElement),wr=A=>zt.fromDom(Sr(A).dom.defaultView),ao=A=>E.from(A.dom.parentNode).map(zt.fromDom),xo=A=>E.from(A.dom.parentElement).map(zt.fromDom),Cr=(A,$)=>{const j=T($)?$:F;let ue=A.dom;const Me=[];for(;ue.parentNode!==null&&ue.parentNode!==void 0;){const ze=ue.parentNode,nt=zt.fromDom(ze);if(Me.push(nt),j(nt)===!0)break;ue=ze}return Me},Fe=A=>E.from(A.dom.previousSibling).map(zt.fromDom),Ee=A=>E.from(A.dom.nextSibling).map(zt.fromDom),St=A=>de(A.dom.childNodes,zt.fromDom),Tt=(A,$)=>{const j=A.dom.childNodes;return E.from(j[$]).map(zt.fromDom)},Lt=A=>Tt(A,0),Ft=(A,$)=>{ao(A).each(ue=>{ue.dom.insertBefore($.dom,A.dom)})},Ht=(A,$)=>{Ee(A).fold(()=>{ao(A).each(Me=>{Mt(Me,$)})},ue=>{Ft(ue,$)})},$t=(A,$)=>{Lt(A).fold(()=>{Mt(A,$)},ue=>{A.dom.insertBefore($.dom,ue.dom)})},Mt=(A,$)=>{A.dom.appendChild($.dom)},tn=(A,$,j)=>{Tt(A,j).fold(()=>{Mt(A,$)},ue=>{Ft(ue,$)})},un=(A,$)=>{Ft(A,$),Mt($,A)},en=(A,$)=>{ee($,(j,ue)=>{const Me=ue===0?A:$[ue-1];Ht(Me,j)})},on=(A,$)=>{ee($,j=>{Mt(A,j)})},Cn=A=>{A.dom.textContent="",ee(St(A),$=>{On($)})},On=A=>{const $=A.dom;$.parentNode!==null&&$.parentNode.removeChild($)},pn=A=>{const $=St(A);$.length>0&&en(A,$),On(A)},Jn=(A,$)=>zt.fromDom(A.dom.cloneNode($)),Fn=A=>Jn(A,!1),Zr=A=>Jn(A,!0),dr=(A,$)=>{const j=zt.fromTag($),ue=Wt(A);return mt(j,ue),j},Ur=(A,$)=>{const j=dr(A,$),ue=St(Zr(A));return on(j,ue),j},ar=(A,$)=>{const j=dr(A,$);Ht(A,j);const ue=St(A);return on(j,ue),On(A),j},ur=["tfoot","thead","tbody","colgroup"],qr=A=>me(ur,A),to=(A,$)=>({rows:A,columns:$}),Ao=(A,$)=>({row:A,column:$}),_s=(A,$,j)=>({element:A,rowspan:$,colspan:j}),wo=(A,$,j,ue)=>({element:A,rowspan:$,colspan:j,isNew:ue}),Ko=(A,$,j,ue,Me,ze)=>({element:A,rowspan:$,colspan:j,row:ue,column:Me,isLocked:ze}),hs=(A,$,j)=>({element:A,cells:$,section:j}),qs=(A,$,j,ue)=>({element:A,cells:$,section:j,isNew:ue}),ns=(A,$,j)=>({element:A,isNew:$,isLocked:j}),Xs=(A,$,j,ue)=>({element:A,cells:$,section:j,isNew:ue}),Xa=(A,$,j,ue)=>({startRow:A,startCol:$,finishRow:j,finishCol:ue}),Cc=(A,$,j)=>({element:A,colspan:$,column:j}),ui=(A,$)=>({element:A,columns:$}),au=A=>Dt(A)&&O(A.dom.host),Ba=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode),ea=M(Ba),ba=Ba?A=>zt.fromDom(A.dom.getRootNode()):Sr,oa=A=>{const $=ba(A);return au($)?E.some($):E.none()},iu=A=>zt.fromDom(A.dom.host),Dr=A=>{if(ea()&&O(A.target)){const $=zt.fromDom(A.target);if(ut($)&&Tc($)&&A.composed&&A.composedPath){const j=A.composedPath();if(j)return re(j)}}return E.from(A.target)},Tc=A=>O(A.dom.shadowRoot),sa=A=>{const $=xt(A)?A.dom.parentNode:A.dom;if($==null||$.ownerDocument===null)return!1;const j=$.ownerDocument;return oa(zt.fromDom($)).fold(()=>j.body.contains($),_(sa,iu))},$i=()=>Id(zt.fromDom(document)),Id=A=>{const $=A.dom.body;if($==null)throw new Error("Body is not available yet");return zt.fromDom($)},aa=(A,$,j)=>Be(Cr(A,j),$),wu=(A,$)=>Be(St(A),$),Nd=(A,$)=>{let j=[];return ee(St(A),ue=>{$(ue)&&(j=j.concat([ue])),j=j.concat(Nd(ue,$))}),j},Cu=(A,$,j)=>aa(A,ue=>vr(ue,$),j),Mo=(A,$)=>wu(A,j=>vr(j,$)),Hi=(A,$)=>Br($,A);var fr=(A,$,j,ue,Me)=>A(j,ue)?E.some(j):T(Me)&&Me(j)?E.none():$(j,ue,Me);const Fa=(A,$,j)=>{let ue=A.dom;const Me=T(j)?j:F;for(;ue.parentNode;){ue=ue.parentNode;const ze=zt.fromDom(ue);if($(ze))return E.some(ze);if(Me(ze))break}return E.none()},wi=(A,$,j)=>fr((Me,ze)=>ze(Me),Fa,A,$,j),Za=(A,$)=>{const j=Me=>$(zt.fromDom(Me));return Y(A.dom.childNodes,j).map(zt.fromDom)},Va=(A,$)=>{const j=ue=>{for(let Me=0;Me<ue.childNodes.length;Me++){const ze=zt.fromDom(ue.childNodes[Me]);if($(ze))return E.some(ze);const nt=j(ue.childNodes[Me]);if(nt.isSome())return nt}return E.none()};return j(A.dom)},Cl=(A,$,j)=>Fa(A,ue=>vr(ue,$),j),Ho=(A,$)=>Za(A,j=>vr(j,$)),fi=(A,$)=>kr($,A),ti=(A,$,j)=>fr((Me,ze)=>vr(Me,ze),Cl,A,$,j),ed=(A,$,j=V)=>A.exists(ue=>j(ue,$)),Ha=A=>{const $=[],j=ue=>{$.push(ue)};for(let ue=0;ue<A.length;ue++)A[ue].each(j);return $},Wu=(A,$)=>A!=null?$(A):E.none(),Yu=(A,$)=>A?E.some($):E.none(),Bd=(A,$,j)=>$===""||A.length>=$.length&&A.substr(j,j+$.length)===$,Ns=(A,$,j=0,ue)=>{const Me=A.indexOf($,j);return Me!==-1?y(ue)?!0:Me+$.length<=ue:!1},Qd=(A,$)=>Bd(A,$,0),Wc=(A,$)=>Bd(A,$,A.length-$.length),Sh=(A=>$=>$.replace(A,""))(/^\s+|\s+$/g),ym=A=>A.length>0,Vs=A=>{const $=parseFloat(A);return isNaN($)?E.none():E.some($)},Ci=A=>A.style!==void 0&&T(A.style.getPropertyValue),Pf=(A,$,j)=>{if(!d(j))throw console.error("Invalid call to CSS.set. Property ",$,":: Value ",j,":: Element ",A),new Error("CSS value must be a string: "+j);Ci(A)&&A.style.setProperty($,j)},WS=(A,$)=>{Ci(A)&&A.style.removeProperty($)},Ga=(A,$,j)=>{const ue=A.dom;Pf(ue,$,j)},Dl=(A,$)=>{const j=A.dom;oe($,(ue,Me)=>{Pf(j,Me,ue)})},Ui=(A,$)=>{const j=A.dom,Me=window.getComputedStyle(j).getPropertyValue($);return Me===""&&!sa(A)?$O(j,$):Me},$O=(A,$)=>Ci(A)?A.style.getPropertyValue($):"",Hp=(A,$)=>{const j=A.dom,ue=$O(j,$);return E.from(ue).filter(Me=>Me.length>0)},Tu=(A,$)=>{const j=A.dom;WS(j,$),ed(dn(A,"style").map(Sh),"")&&rn(A,"style")},Xu=(A,$)=>{const j=A.dom,ue=$.dom;Ci(j)&&Ci(ue)&&(ue.style.cssText=j.style.cssText)},$a=(A,$,j=0)=>dn(A,$).map(ue=>parseInt(ue,10)).getOr(j),ku=(A,$)=>$a(A,$,1),$l=A=>He("col")(A)?$a(A,"span",1)>1:ku(A,"colspan")>1,kc=A=>ku(A,"rowspan")>1,Mf=(A,$)=>parseInt(Ui(A,$),10),di=M(10),Ef=M(10),Up=(A,$)=>Wp(A,$,B),Wp=(A,$,j)=>Le(St(A),ue=>vr(ue,$)?j(ue)?[ue]:[]:Wp(ue,$,j)),my=(A,$,j=F)=>{if(j($))return E.none();if(me(A,wn($)))return E.some($);const ue=Me=>vr(Me,"table")||j(Me);return Cl($,A.join(","),ue)},Jv=(A,$)=>my(["td","th"],A,$),_f=A=>Up(A,"th,td"),Yp=A=>vr(A,"colgroup")?Mo(A,"col"):Le(gy(A),$=>Mo($,"col")),Ac=(A,$)=>ti(A,"table",$),e1=A=>Up(A,"tr"),gy=A=>Ac(A).fold(M([]),$=>Mo($,"colgroup")),bm=(A,$)=>de(A,j=>{if(wn(j)==="colgroup"){const ue=de(Yp(j),Me=>{const ze=$a(Me,"span",1);return _s(Me,1,ze)});return hs(j,ue,"colgroup")}else{const ue=de(_f(j),Me=>{const ze=$a(Me,"rowspan",1),nt=$a(Me,"colspan",1);return _s(Me,ze,nt)});return hs(j,ue,$(j))}}),py=A=>ao(A).map($=>{const j=wn($);return qr(j)?j:"tbody"}).getOr("tbody"),Om=A=>{const $=e1(A),ue=[...gy(A),...$];return bm(ue,py)},LO=(A,$)=>bm(A,()=>$),wh=A=>{let $=!1,j;return(...ue)=>($||($=!0,j=A.apply(null,ue)),j)},IO=(A,$,j,ue)=>{const Me=A.isiOS()&&/ipad/i.test(j)===!0,ze=A.isiOS()&&!Me,nt=A.isiOS()||A.isAndroid(),Ot=nt||ue("(pointer:coarse)"),_t=Me||!ze&&nt&&ue("(min-device-width:768px)"),Kt=ze||nt&&!_t,Tn=$.isSafari()&&A.isiOS()&&/safari/i.test(j)===!1,ir=!Kt&&!_t&&!Tn;return{isiPad:M(Me),isiPhone:M(ze),isTablet:M(_t),isPhone:M(Kt),isTouch:M(Ot),isAndroid:A.isAndroid,isiOS:A.isiOS,isWebView:M(Tn),isDesktop:M(ir)}},NO=(A,$)=>{for(let j=0;j<A.length;j++){const ue=A[j];if(ue.test($))return ue}},BO=(A,$)=>{const j=NO(A,$);if(!j)return{major:0,minor:0};const ue=Me=>Number($.replace(j,"$"+Me));return Yt(ue(1),ue(2))},xm=(A,$)=>{const j=String($).toLowerCase();return A.length===0?vy():BO(A,j)},vy=()=>Yt(0,0),Yt=(A,$)=>({major:A,minor:$}),Sm={nu:Yt,detect:xm,unknown:vy},Gu=(A,$)=>te($.brands,j=>{const ue=j.brand.toLowerCase();return Y(A,Me=>{var ze;return ue===((ze=Me.brand)===null||ze===void 0?void 0:ze.toLowerCase())}).map(Me=>({current:Me.name,version:Sm.nu(parseInt(j.version,10),0)}))}),t1=(A,$)=>{const j=String($).toLowerCase();return Y(A,ue=>ue.search(j))},Xp=(A,$)=>t1(A,$).map(j=>{const ue=Sm.detect(j.versionRegexes,$);return{current:j.name,version:ue}}),YS=(A,$)=>t1(A,$).map(j=>{const ue=Sm.detect(j.versionRegexes,$);return{current:j.name,version:ue}}),Gs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ic=A=>$=>Ns($,A),td=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:A=>Ns(A,"edge/")&&Ns(A,"chrome")&&Ns(A,"safari")&&Ns(A,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Gs],search:A=>Ns(A,"chrome")&&!Ns(A,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:A=>Ns(A,"msie")||Ns(A,"trident")},{name:"Opera",versionRegexes:[Gs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ic("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ic("firefox")},{name:"Safari",versionRegexes:[Gs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:A=>(Ns(A,"safari")||Ns(A,"mobile/"))&&Ns(A,"applewebkit")}],nd=[{name:"Windows",search:ic("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:A=>Ns(A,"iphone")||Ns(A,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ic("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ic("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ic("linux"),versionRegexes:[]},{name:"Solaris",search:ic("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ic("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ic("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],yy={browsers:M(td),oses:M(nd)},Ag="Edge",lu="Chromium",Pg="IE",by="Opera",QO="Firefox",ju="Safari",Gp=()=>Oy({current:void 0,version:Sm.unknown()}),Oy=A=>{const $=A.current,j=A.version,ue=Me=>()=>$===Me;return{current:$,version:j,isEdge:ue(Ag),isChromium:ue(lu),isIE:ue(Pg),isOpera:ue(by),isFirefox:ue(QO),isSafari:ue(ju)}},Yc={unknown:Gp,nu:Oy,edge:M(Ag),chromium:M(lu),ie:M(Pg),opera:M(by),firefox:M(QO),safari:M(ju)},il="Windows",Ch="iOS",Mg="Android",Pc="Linux",Ll="macOS",qu="Solaris",FO="FreeBSD",jp="ChromeOS",xy=()=>n1({current:void 0,version:Sm.unknown()}),n1=A=>{const $=A.current,j=A.version,ue=Me=>()=>$===Me;return{current:$,version:j,isWindows:ue(il),isiOS:ue(Ch),isAndroid:ue(Mg),isMacOS:ue(Ll),isLinux:ue(Pc),isSolaris:ue(qu),isFreeBSD:ue(FO),isChromeOS:ue(jp)}},Rf={unknown:xy,nu:n1,windows:M(il),ios:M(Ch),android:M(Mg),linux:M(Pc),macos:M(Ll),solaris:M(qu),freebsd:M(FO),chromeos:M(jp)},r5={detect:(A,$,j)=>{const ue=yy.browsers(),Me=yy.oses(),ze=$.bind(_t=>Gu(ue,_t)).orThunk(()=>Xp(ue,A)).fold(Yc.unknown,Yc.nu),nt=YS(Me,A).fold(Rf.unknown,Rf.nu),Ot=IO(nt,ze,A,j);return{browser:ze,os:nt,deviceType:Ot}}},o5=A=>window.matchMedia(A).matches;let XS=wh(()=>r5.detect(navigator.userAgent,E.from(navigator.userAgentData),o5));const qp=()=>XS(),r1=(A,$)=>{const j=(Ot,_t)=>{if(!k(_t)&&!_t.match(/^[0-9]+$/))throw new Error(A+".set accepts only positive integer values. Value was "+_t);const Kt=Ot.dom;Ci(Kt)&&(Kt.style[A]=_t+"px")},ue=Ot=>{const _t=$(Ot);if(_t<=0||_t===null){const Kt=Ui(Ot,A);return parseFloat(Kt)||0}return _t},Me=ue,ze=(Ot,_t)=>ne(_t,(Kt,Tn)=>{const ir=Ui(Ot,Tn),$r=ir===void 0?0:parseInt(ir,10);return isNaN($r)?Kt:Kt+$r},0);return{set:j,get:ue,getOuter:Me,aggregate:ze,max:(Ot,_t,Kt)=>{const Tn=ze(Ot,Kt);return _t>Tn?_t-Tn:0}}},Th=(A,$)=>Vs(A).getOr($),ni=(A,$,j)=>Th(Ui(A,$),j),hi=(A,$,j,ue)=>{const Me=ni(A,`padding-${j}`,0),ze=ni(A,`padding-${ue}`,0),nt=ni(A,`border-${j}-width`,0),Ot=ni(A,`border-${ue}-width`,0);return $-Me-ze-nt-Ot},Au=(A,$)=>{const j=A.dom,ue=j.getBoundingClientRect().width||j.offsetWidth;return $==="border-box"?ue:hi(A,ue,"left","right")},Sy=A=>ni(A,"height",A.dom.offsetHeight),zO=A=>ni(A,"width",A.dom.offsetWidth),Xl=A=>Au(A,"content-box"),Eg=r1("width",A=>A.dom.offsetWidth),Mc=A=>Eg.get(A),Df=A=>Eg.getOuter(A),wy=Xl,jo=zO,Xc=(A,$,j)=>{const ue=A.cells,Me=ue.slice(0,$),ze=ue.slice($),nt=Me.concat(j).concat(ze);return Cy(A,nt)},kh=(A,$,j)=>Xc(A,$,[j]),wm=(A,$,j)=>{const ue=A.cells;ue[$]=j},Cy=(A,$)=>Xs(A.element,$,A.section,A.isNew),Ty=(A,$)=>{const j=A.cells,ue=de(j,$);return Xs(A.element,ue,A.section,A.isNew)},lc=(A,$)=>A.cells[$],Ti=(A,$)=>lc(A,$).element,cu=A=>A.cells.length,Wi=A=>{const $=we(A,j=>j.section==="colgroup");return{rows:$.fail,cols:$.pass}},ky=(A,$,j)=>{const ue=de(A.cells,j);return Xs($(A.element),ue,A.section,!0)},o1="data-snooker-locked-cols",ki=A=>dn(A,o1).bind($=>E.from($.match(/\d+/g))).map($=>Ve($,B)),Yi=A=>{const $=ne(Wi(A).rows,(ue,Me)=>(ee(Me.cells,(ze,nt)=>{ze.isLocked&&(ue[nt]=!0)}),ue),{}),j=Xe($,(ue,Me)=>parseInt(Me,10));return _e(j)},Ku=(A,$)=>A+","+$,Cm=(A,$,j)=>E.from(A.access[Ku($,j)]),Ai=(A,$,j)=>{const ue=_g(A,Me=>j($,Me.element));return ue.length>0?E.some(ue[0]):E.none()},_g=(A,$)=>{const j=Le(A.all,ue=>ue.cells);return Be(j,$)},Kp=A=>{const $={};let j=0;return ee(A.cells,ue=>{const Me=ue.colspan;q(Me,ze=>{const nt=j+ze;$[nt]=Cc(ue.element,Me,nt)}),j+=Me}),$},Ta=A=>{const $={},j=[],Me=re(A).map(Rr=>Rr.element).bind(Ac).bind(ki).getOr({});let ze=0,nt=0,Ot=0;const{pass:_t,fail:Kt}=we(A,Rr=>Rr.section==="colgroup");ee(Kt,Rr=>{const Kn=[];ee(Rr.cells,Ir=>{let jn=0;for(;$[Ku(Ot,jn)]!==void 0;)jn++;const io=je(Me,jn.toString()),Lo=Ko(Ir.element,Ir.rowspan,Ir.colspan,Ot,jn,io);for(let os=0;os<Ir.colspan;os++)for(let za=0;za<Ir.rowspan;za++){const vl=Ot+za,xi=jn+os,vu=Ku(vl,xi);$[vu]=Lo,nt=Math.max(nt,xi+1)}Kn.push(Lo)}),ze++,j.push(hs(Rr.element,Kn,Rr.section)),Ot++});const{columns:Tn,colgroups:ir}=be(_t).map(Rr=>{const Kn=Kp(Rr);return{colgroups:[ui(Rr.element,ct(Kn))],columns:Kn}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:to(ze,nt),access:$,all:j,columns:Tn,colgroups:ir}},ms={fromTable:A=>{const $=Om(A);return Ta($)},generate:Ta,getAt:Cm,findItem:Ai,filterItems:_g,justCells:A=>Le(A.all,$=>$.cells),justColumns:A=>ct(A.columns),hasColumns:A=>se(A.columns).length>0,getColumnAt:(A,$)=>E.from(A.columns[$])},Tm=(A,$=B)=>{const j=A.grid,ue=q(j.columns,I),Me=q(j.rows,I);return de(ue,ze=>s1(()=>Le(Me,Kt=>ms.getAt(A,Kt,ze).filter(Tn=>Tn.column===ze).toArray()),Kt=>Kt.colspan===1&&$(Kt.element),()=>ms.getAt(A,0,ze)))},s1=(A,$,j)=>{const ue=A();return Y(ue,$).orThunk(()=>E.from(ue[0]).orThunk(j)).map(nt=>nt.element)},ev=A=>{const $=A.grid,j=q($.rows,I),ue=q($.columns,I);return de(j,Me=>s1(()=>Le(ue,_t=>ms.getAt(A,Me,_t).filter(Kt=>Kt.row===Me).fold(M([]),Kt=>[Kt])),_t=>_t.rowspan===1,()=>ms.getAt(A,Me,0)))},GS=(A,$)=>{if($<0||$>=A.length-1)return E.none();const j=A[$].fold(()=>{const Me=De(A.slice(0,$));return te(Me,(ze,nt)=>ze.map(Ot=>({value:Ot,delta:nt+1})))},Me=>E.some({value:Me,delta:0})),ue=A[$+1].fold(()=>{const Me=A.slice($+1);return te(Me,(ze,nt)=>ze.map(Ot=>({value:Ot,delta:nt+1})))},Me=>E.some({value:Me,delta:1}));return j.bind(Me=>ue.map(ze=>{const nt=ze.delta+Me.delta;return Math.abs(ze.value-Me.value)/nt}))},jS=(A,$)=>j=>Py(j)==="rtl"?$:A,Py=A=>Ui(A,"direction")==="rtl"?"rtl":"ltr",km=r1("height",A=>{const $=A.dom;return sa(A)?$.getBoundingClientRect().height:$.offsetHeight}),a1=A=>km.get(A),Am=A=>km.getOuter(A),Rg=Sy,ZO=(A,$)=>({left:A,top:$,translate:(ue,Me)=>ZO(A+ue,$+Me)}),Ju=ZO,HO=A=>{const $=A.getBoundingClientRect();return Ju($.left,$.top)},Pm=(A,$)=>A!==void 0?A:$!==void 0?$:0,Pu=A=>{const $=A.dom.ownerDocument,j=$.body,ue=$.defaultView,Me=$.documentElement;if(j===A.dom)return Ju(j.offsetLeft,j.offsetTop);const ze=Pm(ue==null?void 0:ue.pageYOffset,Me.scrollTop),nt=Pm(ue==null?void 0:ue.pageXOffset,Me.scrollLeft),Ot=Pm(Me.clientTop,j.clientTop),_t=Pm(Me.clientLeft,j.clientLeft);return i1(A).translate(nt-_t,ze-Ot)},i1=A=>{const $=A.dom,ue=$.ownerDocument.body;return ue===$?Ju(ue.offsetLeft,ue.offsetTop):sa(A)?HO($):Ju(0,0)},My=(A,$)=>({row:A,y:$}),Dg=(A,$)=>({col:A,x:$}),Ey=A=>Pu(A).left+Df(A),_y=A=>Pu(A).left,Ry=(A,$)=>Dg(A,_y($)),l1=(A,$)=>Dg(A,Ey($)),ll=A=>Pu(A).top,tv=(A,$)=>My(A,ll($)),fa=(A,$)=>My(A,ll($)+Am($)),uo=(A,$,j)=>{if(j.length===0)return[];const ue=de(j.slice(1),(ze,nt)=>ze.map(Ot=>A(nt,Ot))),Me=j[j.length-1].map(ze=>$(j.length-1,ze));return ue.concat([Me])},ef=A=>-A,Xr={delta:I,positions:A=>uo(tv,fa,A),edge:ll},Fd=jS({delta:I,edge:_y,positions:A=>uo(Ry,l1,A)},{delta:ef,edge:Ey,positions:A=>uo(l1,Ry,A)}),bi={delta:(A,$)=>Fd($).delta(A,$),positions:(A,$)=>Fd($).positions(A,$),edge:A=>Fd(A).edge(A)},Vd={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},nv=(()=>{const A="[0-9]+",j="[eE]"+("[+-]?"+A),ue="\\.",Me=Ot=>`(?:${Ot})?`,nt=`[+-]?(?:${["Infinity",A+ue+Me(A)+Me(j),ue+A+Me(j),A+Me(j)].join("|")})`;return new RegExp(`^(${nt})(.*)$`)})(),cl=(A,$)=>ae($,j=>ae(Vd[j],ue=>A===ue)),Lf=(A,$)=>E.from(nv.exec(A)).bind(ue=>{const Me=Number(ue[1]),ze=ue[2];return cl(ze,$)?E.some({value:Me,unit:ze}):E.none()}),Mm=/(\d+(\.\d+)?)%/,tf=/(\d+(\.\d+)?)px|em/,Dy=He("col"),c1=(A,$,j)=>{const ue=xo(A).getOrThunk(()=>Id(Rn(A)));return $(A)/j(ue)*100},lr=(A,$)=>{Ga(A,"width",$+"px")},UO=(A,$)=>{Ga(A,"width",$+"%")},Il=(A,$)=>{Ga(A,"height",$+"px")},rd=A=>Rg(A)+"px",$g=(A,$,j,ue)=>{const Me=Ac(A).map(ze=>{const nt=j(ze);return Math.floor($/100*nt)}).getOr($);return ue(A,Me),Me},ma=(A,$,j,ue)=>{const Me=parseFloat(A);return Wc(A,"%")&&wn($)!=="table"?$g($,Me,j,ue):Me},ia=A=>{const $=rd(A);return $?ma($,A,a1,Il):a1(A)},Nl=(A,$,j)=>{const ue=j(A),Me=ku(A,$);return ue/Me},jl=(A,$)=>Hp(A,$).orThunk(()=>dn(A,$).map(j=>j+"px")),ws=A=>jl(A,"width"),rv=A=>jl(A,"height"),ul=A=>c1(A,Mc,wy),ri=A=>Dy(A)?Mc(A):jo(A),ov=A=>Nl(A,"rowspan",ia),er=A=>ws(A).bind(j=>Lf(j,["fixed","relative","empty"])),Gc=(A,$,j)=>{Ga(A,"width",$+j)},Lg=A=>Mc(A)+"px",zs=A=>c1(A,Mc,wy)+"%",If=A=>ws(A).exists($=>Mm.test($)),KS=A=>ws(A).exists($=>tf.test($)),nf=A=>ws(A).isNone(),u1=M(Mm),uu=He("col"),f1=A=>ws(A).getOrThunk(()=>ri(A)+"px"),cc=A=>rv(A).getOrThunk(()=>ov(A)+"px"),Ws=A=>de(ms.justColumns(A),$=>E.from($.element)),fu=A=>{const $=qp().browser,j=$.isChromium()||$.isFirefox();return uu(A)?j:!0},mi=(A,$,j,ue,Me,ze)=>A.filter(ue).fold(()=>ze(GS(j,$)),nt=>Me(nt)),fl=(A,$,j,ue)=>{const Me=Tm(A),ze=ms.hasColumns(A)?Ws(A):Me,nt=[E.some(bi.edge($))].concat(de(bi.positions(Me,$),_t=>_t.map(Kt=>Kt.x))),Ot=Q($l);return de(ze,(_t,Kt)=>mi(_t,Kt,nt,Ot,Tn=>{if(fu(Tn))return j(Tn);{const ir=Wu(Me[Kt],I);return mi(ir,Kt,nt,Ot,$r=>ue(E.some(Mc($r))),ue)}},ue))},zd=A=>A.map($=>$+"px").getOr(""),od=(A,$)=>fl(A,$,f1,zd),Zd=(A,$,j)=>fl(A,$,ul,ue=>ue.fold(()=>j.minCellWidth(),Me=>Me/j.pixelWidth()*100)),Ec=(A,$,j)=>fl(A,$,ri,ue=>ue.getOrThunk(j.minCellWidth)),sd=(A,$,j,ue,Me)=>{const ze=ev(A),nt=[E.some(j.edge($))].concat(de(j.positions(ze,$),Ot=>Ot.map(_t=>_t.y)));return de(ze,(Ot,_t)=>mi(Ot,_t,nt,Q(kc),ue,Me))},Mn=(A,$,j)=>sd(A,$,j,ov,ue=>ue.getOrThunk(Ef)),_c=(A,$,j)=>sd(A,$,j,cc,zd),ad=(A,$)=>()=>sa(A)?$(A):parseFloat(Hp(A,"width").getOr("0")),id=A=>{const $=ad(A,Mc),j=M(0);return{width:$,pixelWidth:$,getWidths:(Me,ze)=>Ec(Me,A,ze),getCellDelta:j,singleColumnWidth:M([0]),minCellWidth:j,setElementWidth:w,adjustTableWidth:w,isRelative:!0,label:"none"}},jc=A=>{const $=ad(A,_t=>parseFloat(zs(_t))),j=ad(A,Mc);return{width:$,pixelWidth:j,getWidths:(_t,Kt)=>Zd(_t,A,Kt),getCellDelta:_t=>_t/j()*100,singleColumnWidth:(_t,Kt)=>[100-_t],minCellWidth:()=>di()/j()*100,setElementWidth:UO,adjustTableWidth:_t=>{const Kt=$(),Tn=_t/100*Kt,ir=Kt+Tn;UO(A,ir)},isRelative:!0,label:"percent"}},Xi=A=>{const $=ad(A,Mc);return{width:$,pixelWidth:$,getWidths:(nt,Ot)=>Ec(nt,A,Ot),getCellDelta:I,singleColumnWidth:(nt,Ot)=>[Math.max(di(),nt+Ot)-nt],minCellWidth:di,setElementWidth:lr,adjustTableWidth:nt=>{const Ot=$()+nt;lr(A,Ot)},isRelative:!1,label:"pixel"}},Li=(A,$)=>u1().exec($)!==null?jc(A):Xi(A),Rc={getTableSize:A=>ws(A).fold(()=>id(A),j=>Li(A,j)),pixelSize:Xi,percentageSize:jc,noneSize:id},D=(A,$,j,ue,Me,ze)=>({minRow:A,minCol:$,maxRow:j,maxCol:ue,allCells:Me,selectedCells:ze}),G=(A,$)=>{const j=A.grid.columns;let Me=A.grid.rows,ze=j,nt=0,Ot=0;const _t=[],Kt=[];return oe(A.access,Tn=>{if(_t.push(Tn),$(Tn)){Kt.push(Tn);const ir=Tn.row,$r=ir+Tn.rowspan-1,Rr=Tn.column,Kn=Rr+Tn.colspan-1;ir<Me?Me=ir:$r>nt&&(nt=$r),Rr<ze?ze=Rr:Kn>Ot&&(Ot=Kn)}}),D(Me,ze,nt,Ot,_t,Kt)},he=(A,$,j)=>{const ue=A[j].element,Me=zt.fromTag("td");Mt(Me,zt.fromTag("br")),($?Mt:$t)(ue,Me)},Ce=(A,$,j,ue)=>{const Me=Be(A,Ot=>Ot.section!=="colgroup"),ze=$.grid.columns,nt=$.grid.rows;for(let Ot=0;Ot<nt;Ot++){let _t=!1;for(let Kt=0;Kt<ze;Kt++)Ot<j.minRow||Ot>j.maxRow||Kt<j.minCol||Kt>j.maxCol||(ms.getAt($,Ot,Kt).filter(ue).isNone()?he(Me,_t,Ot):_t=!0)}},Pe=(A,$,j,ue)=>{oe(j.columns,nt=>{(nt.column<$.minCol||nt.column>$.maxCol)&&On(nt.element)});const Me=Be(Up(A,"tr"),nt=>nt.dom.childElementCount===0);ee(Me,On),($.minCol===$.maxCol||$.minRow===$.maxRow)&&ee(Up(A,"th,td"),nt=>{rn(nt,"rowspan"),rn(nt,"colspan")}),rn(A,o1),rn(A,"data-snooker-col-series"),Rc.getTableSize(A).adjustTableWidth(ue)},$e=(A,$,j,ue)=>{if(ue.minCol===0&&$.grid.columns===ue.maxCol+1)return 0;const Me=Ec($,A,j),ze=ne(Me,(Kt,Tn)=>Kt+Tn,0),_t=ne(Me.slice(ue.minCol,ue.maxCol+1),(Kt,Tn)=>Kt+Tn,0)/ze*j.pixelWidth()-j.pixelWidth();return j.getCellDelta(_t)},Ke=(A,$)=>{const j=$r=>vr($r.element,$),ue=Zr(A),Me=Om(ue),ze=Rc.getTableSize(A),nt=ms.generate(Me),Ot=G(nt,j),_t="th:not("+$+"),td:not("+$+")",Kt=Wp(ue,"th,td",$r=>vr($r,_t));ee(Kt,On),Ce(Me,nt,Ot,j);const Tn=ms.fromTable(A),ir=$e(A,Tn,ze,Ot);return Pe(ue,Ot,nt,ir),ue},We=" ",vt=((A,$)=>{const j=ze=>{if(!A(ze))throw new Error("Can only get "+$+" value of a "+$+" node");return ue(ze).getOr("")},ue=ze=>A(ze)?E.from(ze.dom.nodeValue):E.none();return{get:j,getOption:ue,set:(ze,nt)=>{if(!A(ze))throw new Error("Can only set raw "+$+" value of a "+$+" node");ze.dom.nodeValue=nt}}})(xt,"text"),bt=A=>vt.get(A),Zt=A=>vt.getOption(A),Ut=(A,$)=>vt.set(A,$),gn=A=>wn(A)==="img"?1:Zt(A).fold(()=>St(A).length,$=>$.length),An=A=>Zt(A).filter($=>$.trim().length!==0||$.indexOf(We)>-1).isSome(),jt=A=>lt(A)&&Pt(A,"contenteditable")==="false",nn=["img","br"],hn=A=>An(A)||me(nn,wn(A))||jt(A),_n=A=>Va(A,hn),Pn=A=>yn(A,hn),yn=(A,$)=>{const j=ue=>{const Me=St(ue);for(let ze=Me.length-1;ze>=0;ze--){const nt=Me[ze];if($(nt))return E.some(nt);const Ot=j(nt);if(Ot.isSome())return Ot}return E.none()};return j(A)},cr={scope:["row","col"]},Hr=A=>()=>{const $=zt.fromTag("td",A.dom);return Mt($,zt.fromTag("br",A.dom)),$},Jr=A=>()=>zt.fromTag("col",A.dom),Ar=A=>()=>zt.fromTag("colgroup",A.dom),no=A=>()=>zt.fromTag("tr",A.dom),fo=(A,$,j)=>{const ue=Ur(A,$);return oe(j,(Me,ze)=>{Me===null?rn(ue,ze):dt(ue,ze,Me)}),ue},rs=A=>A,So=(A,$,j)=>_n(A).map(Me=>{const ze=j.join(","),nt=Cu(Me,ze,Ot=>or(Ot,A));return pe(nt,(Ot,_t)=>{const Kt=Fn(_t);return Mt(Ot,Kt),Kt},$)}).getOr($),go=(A,$)=>{oe(cr,(j,ue)=>dn(A,ue).filter(Me=>me(j,Me)).each(Me=>dt($,ue,Me)))},js=(A,$,j)=>{const ue=(nt,Ot)=>{Xu(nt.element,Ot),Tu(Ot,"height"),nt.colspan!==1&&Tu(Ot,"width")},Me=nt=>{const Ot=zt.fromTag(wn(nt.element),$.dom),_t=j.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Kt=_t.length>0?So(nt.element,Ot,_t):Ot;return Mt(Kt,zt.fromTag("br")),ue(nt,Ot),go(nt.element,Ot),A(nt.element,Ot),Ot};return{col:nt=>{const Ot=zt.fromTag(wn(nt.element),$.dom);return ue(nt,Ot),A(nt.element,Ot),Ot},colgroup:Ar($),row:no($),cell:Me,replace:fo,colGap:Jr($),gap:Hr($)}},oi=A=>({col:Jr(A),colgroup:Ar(A),row:no(A),cell:Hr(A),replace:rs,colGap:Jr(A),gap:Hr(A)}),Oa=(A,$)=>{const ue=($||document).createElement("div");return ue.innerHTML=A,St(zt.fromDom(ue))},Lr=A=>de(A,zt.fromDom),$o=A=>$=>$.options.get(A),gs="100%",Rs=A=>{var $;const j=A.dom,ue=($=j.getParent(A.selection.getStart(),j.isBlock))!==null&&$!==void 0?$:A.getBody();return wy(zt.fromDom(ue))+"px"},Qa=(A,$)=>Ni(A)||!Bi(A)?$:Kl(A)?{...$,width:Rs(A)}:{...$,width:gs},gi=(A,$)=>Ni(A)||Bi(A)?$:Kl(A)?{...$,width:Rs(A)}:{...$,width:gs},Gi=A=>{const $=A.options.register;$("table_clone_elements",{processor:"string[]"}),$("table_use_colgroups",{processor:"boolean",default:!0}),$("table_header_type",{processor:j=>{const ue=me(["section","cells","sectionCells","auto"],j);return ue?{value:j,valid:ue}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),$("table_sizing_mode",{processor:"string",default:"auto"}),$("table_default_attributes",{processor:"object",default:{border:"1"}}),$("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),$("table_column_resizing",{processor:j=>{const ue=me(["preservetable","resizetable"],j);return ue?{value:j,valid:ue}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),$("table_resize_bars",{processor:"boolean",default:!0}),$("table_style_by_css",{processor:"boolean",default:!0}),$("table_merge_content_on_paste",{processor:"boolean",default:!0})},Ii=A=>E.from(A.options.get("table_clone_elements")),qc=A=>{const $=A.options.get("object_resizing");return me($.split(","),"table")},tl=$o("table_header_type"),Dc=$o("table_column_resizing"),ql=A=>Dc(A)==="preservetable",ta=A=>Dc(A)==="resizetable",rf=$o("table_sizing_mode"),Nf=A=>rf(A)==="relative",Kl=A=>rf(A)==="fixed",Ni=A=>rf(A)==="responsive",Jl=$o("table_resize_bars"),Bi=$o("table_style_by_css"),na=$o("table_merge_content_on_paste"),$c=A=>{const $=A.options,j=$.get("table_default_attributes");return $.isSet("table_default_attributes")?j:gi(A,j)},Hd=A=>{const $=A.options,j=$.get("table_default_styles");return $.isSet("table_default_styles")?j:Qa(A,j)},of=$o("table_use_colgroups"),Em=A=>ti(A,"[contenteditable]"),Ud=(A,$=!1)=>sa(A)?A.dom.isContentEditable:Em(A).fold(M($),j=>$y(j)==="true"),$y=A=>A.dom.contentEditable,WO=A=>zt.fromDom(A.getBody()),Ph=A=>$=>or($,WO(A)),Wd=A=>{rn(A,"data-mce-style");const $=j=>rn(j,"data-mce-style");ee(_f(A),$),ee(Yp(A),$),ee(e1(A),$)},sf=A=>zt.fromDom(A.selection.getStart()),Ig=A=>A.getBoundingClientRect().width,Ng=A=>A.getBoundingClientRect().height,a5=(A,$)=>{const j=A.dom.getStyle($,"width")||A.dom.getAttrib($,"width");return E.from(j).filter(ym)},YO=A=>/^(\d+(\.\d+)?)%$/.test(A),Ly=A=>/^(\d+(\.\d+)?)px$/.test(A),XO=A=>wi(A,He("table")).exists(Ud),i5=(A,$)=>{const j=$.column,ue=$.column+$.colspan-1,Me=$.row,ze=$.row+$.rowspan-1;return j<=A.finishCol&&ue>=A.startCol&&Me<=A.finishRow&&ze>=A.startRow},GO=(A,$)=>$.column>=A.startCol&&$.column+$.colspan-1<=A.finishCol&&$.row>=A.startRow&&$.row+$.rowspan-1<=A.finishRow,Iy=(A,$)=>{let j=!0;const ue=N(GO,$);for(let Me=$.startRow;Me<=$.finishRow;Me++)for(let ze=$.startCol;ze<=$.finishCol;ze++)j=j&&ms.getAt(A,Me,ze).exists(ue);return j?E.some($):E.none()},Ny=(A,$)=>Xa(Math.min(A.row,$.row),Math.min(A.column,$.column),Math.max(A.row+A.rowspan-1,$.row+$.rowspan-1),Math.max(A.column+A.colspan-1,$.column+$.colspan-1)),As=(A,$,j)=>{const ue=ms.findItem(A,$,or),Me=ms.findItem(A,j,or);return ue.bind(ze=>Me.map(nt=>Ny(ze,nt)))},vo=(A,$,j)=>As(A,$,j).bind(ue=>Iy(A,ue)),_m=(A,$,j,ue)=>ms.findItem(A,$,or).bind(Me=>{const ze=j>0?Me.row+Me.rowspan-1:Me.row,nt=ue>0?Me.column+Me.colspan-1:Me.column;return ms.getAt(A,ze+j,nt+ue).map(_t=>_t.element)}),jO=(A,$,j)=>As(A,$,j).map(ue=>{const Me=ms.filterItems(A,N(i5,ue));return de(Me,ze=>ze.element)}),By=(A,$)=>{const j=(ue,Me)=>jr(Me,ue);return ms.findItem(A,$,j).map(ue=>ue.element)},z8=(A,$,j)=>Ac(A).bind(ue=>{const Me=tw(ue);return _m(Me,A,$,j)}),JS=(A,$,j)=>{const ue=tw(A);return jO(ue,$,j)},_a=(A,$,j,ue,Me)=>{const ze=tw(A),nt=or(A,j)?E.some($):By(ze,$),Ot=or(A,Me)?E.some(ue):By(ze,ue);return nt.bind(_t=>Ot.bind(Kt=>jO(ze,_t,Kt)))},ew=(A,$,j)=>{const ue=tw(A);return vo(ue,$,j)},tw=ms.fromTable;var nw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],qn=()=>{const A=Kt=>zt.fromDom(Kt.dom.cloneNode(!1)),$=Kt=>Sr(Kt).dom,j=Kt=>ut(Kt)?wn(Kt)==="body"?!0:me(nw,wn(Kt)):!1,ue=Kt=>ut(Kt)?me(["br","img","hr","input"],wn(Kt)):!1,Me=Kt=>ut(Kt)&&Pt(Kt,"contenteditable")==="false",ze=(Kt,Tn)=>Kt.dom.compareDocumentPosition(Tn.dom),nt=(Kt,Tn)=>{const ir=Wt(Kt);mt(Tn,ir)},Ot=Kt=>{const Tn=wn(Kt);return me(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Tn)},_t=Kt=>ut(Kt)?dn(Kt,"lang"):E.none();return{up:M({selector:Cl,closest:ti,predicate:Fa,all:Cr}),down:M({selector:Hi,predicate:Nd}),styles:M({get:Ui,getRaw:Hp,set:Ga,remove:Tu}),attrs:M({get:Pt,set:dt,remove:rn,copyTo:nt}),insert:M({before:Ft,after:Ht,afterAll:en,append:Mt,appendAll:on,prepend:$t,wrap:un}),remove:M({unwrap:pn,remove:On}),create:M({nu:zt.fromTag,clone:A,text:zt.fromText}),query:M({comparePosition:ze,prevSibling:Fe,nextSibling:Ee}),property:M({children:St,name:wn,parent:ao,document:$,isText:xt,isComment:Sn,isElement:ut,isSpecial:Ot,getLanguage:_t,getText:bt,setText:Ut,isBoundary:j,isEmptyTag:ue,isNonEditable:Me}),eq:or,is:_r}};const qO=(A,$,j,ue)=>{const Me=j[0],ze=j.slice(1);return ue(A,$,Me,ze)},Z8=(A,$,j)=>j.length>0?qO(A,$,j,Qy):E.none(),Qy=(A,$,j,ue)=>{const Me=$(A,j);return pe(ue,(ze,nt)=>{const Ot=$(A,nt);return H8(A,ze,Ot)},Me)},H8=(A,$,j)=>$.bind(ue=>j.filter(N(A.eq,ue))),d1=(A,$)=>N(A.eq,$),rw=(A,$,j,ue=F)=>{const Me=[$].concat(A.up().all($)),ze=[j].concat(A.up().all(j)),nt=Tn=>ve(Tn,ue).fold(()=>Tn,$r=>Tn.slice(0,$r+1)),Ot=nt(Me),_t=nt(ze),Kt=Y(Ot,Tn=>ae(_t,d1(A,Tn)));return{firstpath:Ot,secondpath:_t,shared:Kt}},Rm=Z8,U8=rw,Mh=qn(),ka=(A,$)=>Rm(Mh,(j,ue)=>A(ue),$),Eh=(A,$,j)=>U8(Mh,A,$,j),ow=A=>Cl(A,"table"),ld=(A,$,j)=>{const ue=Me=>ze=>j!==void 0&&j(ze)||or(ze,Me);return or(A,$)?E.some({boxes:E.some([A]),start:A,finish:$}):ow(A).bind(Me=>ow($).bind(ze=>{if(or(Me,ze))return E.some({boxes:JS(Me,A,$),start:A,finish:$});if(jr(Me,ze)){const nt=Cu($,"td,th",ue(Me)),Ot=nt.length>0?nt[nt.length-1]:$;return E.some({boxes:_a(Me,A,Me,$,ze),start:A,finish:Ot})}else if(jr(ze,Me)){const nt=Cu(A,"td,th",ue(ze)),Ot=nt.length>0?nt[nt.length-1]:A;return E.some({boxes:_a(ze,A,Me,$,ze),start:A,finish:Ot})}else return Eh(A,$).shared.bind(nt=>ti(nt,"table",j).bind(Ot=>{const _t=Cu($,"td,th",ue(Ot)),Kt=_t.length>0?_t[_t.length-1]:$,Tn=Cu(A,"td,th",ue(Ot)),ir=Tn.length>0?Tn[Tn.length-1]:A;return E.some({boxes:_a(Ot,A,Me,$,ze),start:ir,finish:Kt})}))}))},Dm=(A,$)=>{const j=Hi(A,$);return j.length>0?E.some(j):E.none()},sw=(A,$)=>Y(A,j=>vr(j,$)),sv=(A,$,j)=>fi(A,$).bind(ue=>fi(A,j).bind(Me=>ka(ow,[ue,Me]).map(ze=>({first:ue,last:Me,table:ze})))),l5=(A,$)=>Cl(A,"table").bind(j=>fi(j,$).bind(ue=>ld(ue,A).bind(Me=>Me.boxes.map(ze=>({boxes:ze,start:Me.start,finish:Me.finish}))))),KO=(A,$,j,ue,Me)=>sw(A,Me).bind(ze=>z8(ze,$,j).bind(nt=>l5(nt,ue))),aw=(A,$)=>Dm(A,$),W8=(A,$,j)=>sv(A,$,j).bind(ue=>{const Me=_t=>or(A,_t),ze="thead,tfoot,tbody,table",nt=Cl(ue.first,ze,Me),Ot=Cl(ue.last,ze,Me);return nt.bind(_t=>Ot.bind(Kt=>or(_t,Kt)?ew(ue.table,ue.first,ue.last):E.none()))}),iw=I,_h=A=>{const $=(ue,Me)=>dn(ue,Me).exists(ze=>parseInt(ze,10)>1),j=ue=>$(ue,"rowspan")||$(ue,"colspan");return A.length>0&&Te(A,j)?E.some(A):E.none()},d$=(A,$,j)=>$.length<=1?E.none():W8(A,j.firstSelectedSelector,j.lastSelectedSelector).map(ue=>({bounds:ue,cells:$})),lw="data-mce-selected",Bg="td["+lw+"],th["+lw+"]",ec="["+lw+"]",Kr="data-mce-first-selected",Y8="td["+Kr+"],th["+Kr+"]",cw="data-mce-last-selected",X8="td["+cw+"],th["+cw+"]",c5=ec,av={selected:lw,selectedSelector:Bg,firstSelected:Kr,firstSelectedSelector:Y8,lastSelected:cw,lastSelectedSelector:X8},h1=(A,$,j)=>({element:j,mergable:d$($,A,av),unmergable:_h(A),selection:iw(A)}),Fy=(A,$,j)=>({element:A,clipboard:$,generators:j}),m1=(A,$,j,ue)=>({selection:iw(A),clipboard:j,generators:ue}),JO=A=>Ac(A).bind($=>aw($,av.firstSelectedSelector)).fold(M(A),$=>$[0]),$m=A=>($,j)=>{const ue=wn($),Me=ue==="col"||ue==="colgroup"?JO($):$;return ti(Me,A,j)},Yd=$m("th,td,caption"),Vy=$m("th,td"),Bf=A=>Lr(A.model.table.getSelectedCells()),e2=A=>Be(Bf(A),$=>vr($,av.selectedSelector)),u5=A=>Ac(A[0]).map($=>{const j=Ke($,c5);return Wd(j),[j]}),g1=(A,$)=>de($,j=>A.selection.serializer.serialize(j.dom,{})).join(""),Lm=A=>de(A,$=>$.dom.innerText).join(""),G8=(A,$)=>{A.on("BeforeGetContent",j=>{const ue=Me=>{j.preventDefault(),u5(Me).each(ze=>{j.content=j.format==="text"?Lm(ze):g1(A,ze)})};if(j.selection===!0){const Me=e2(A);Me.length>=1&&ue(Me)}}),A.on("BeforeSetContent",j=>{if(j.selection===!0&&j.paste===!0){const ue=Bf(A);re(ue).each(Me=>{Ac(Me).each(ze=>{const nt=Be(Oa(j.content),_t=>wn(_t)!=="meta"),Ot=He("table");if(na(A)&&nt.length===1&&Ot(nt[0])){j.preventDefault();const _t=zt.fromDom(A.getDoc()),Kt=oi(_t),Tn=Fy(Me,nt[0],Kt);$.pasteCells(ze,Tn).each(()=>{A.focus()})}})})}})},p1=(A,$)=>({element:A,offset:$}),iv=(A,$,j)=>A.property().isText($)&&A.property().getText($).trim().length===0||A.property().isComment($)?j($).bind(ue=>iv(A,ue,j).orThunk(()=>E.some(ue))):E.none(),cd=(A,$)=>A.property().isText($)?A.property().getText($).length:A.property().children($).length,Mu=(A,$)=>{const j=iv(A,$,A.query().prevSibling).getOr($);if(A.property().isText(j))return p1(j,cd(A,j));const ue=A.property().children(j);return ue.length>0?Mu(A,ue[ue.length-1]):p1(j,cd(A,j))},j8=Mu,f5=qn(),d5=A=>j8(f5,A),uw=(A,$)=>{$l(A)||er(A).each(ue=>{const Me=ue.value/2;Gc(A,Me,ue.unit),Gc($,Me,ue.unit)})},Eu=A=>de(A,M(0)),v1=(A,$,j,ue,Me)=>Me(A.slice(0,$)).concat(ue).concat(Me(A.slice(j))),t2=A=>($,j,ue,Me)=>{if(A(ue)){const ze=Math.max(Me,$[j]-Math.abs(ue)),nt=Math.abs(ze-$[j]);return ue>=0?nt:-nt}else return ue},n2=t2(A=>A<0),q8=t2(B),h5=()=>{const A=(Ot,_t,Kt,Tn,ir)=>{const $r=n2(Ot,_t,Tn,ir);return v1(Ot,_t,Kt+1,[$r,0],Eu)},$=(Ot,_t,Kt,Tn)=>{const ir=(100+Kt)/100,$r=Math.max(Tn,(Ot[_t]+Kt)/ir);return de(Ot,(Rr,Kn)=>(Kn===_t?$r:Rr/ir)-Rr)},j=(Ot,_t,Kt,Tn,ir,$r)=>$r?$(Ot,_t,Tn,ir):A(Ot,_t,Kt,Tn,ir);return{resizeTable:(Ot,_t)=>Ot(_t),clampTableDelta:n2,calcLeftEdgeDeltas:j,calcMiddleDeltas:(Ot,_t,Kt,Tn,ir,$r,Rr)=>j(Ot,Kt,Tn,ir,$r,Rr),calcRightEdgeDeltas:(Ot,_t,Kt,Tn,ir,$r)=>{if($r)return $(Ot,Kt,Tn,ir);{const Rr=n2(Ot,Kt,Tn,ir);return Eu(Ot.slice(0,Kt)).concat([Rr])}},calcRedestributedWidths:(Ot,_t,Kt,Tn)=>{if(Tn){const $r=(_t+Kt)/_t,Rr=de(Ot,Kn=>Kn/$r);return{delta:$r*100-100,newSizes:Rr}}else return{delta:Kt,newSizes:Ot}}}},fw=()=>{const A=(nt,Ot,_t,Kt,Tn)=>{const ir=Kt>=0?_t:Ot,$r=q8(nt,ir,Kt,Tn);return v1(nt,Ot,_t+1,[$r,-$r],Eu)};return{resizeTable:(nt,Ot,_t)=>{_t&&nt(Ot)},clampTableDelta:(nt,Ot,_t,Kt,Tn)=>{if(Tn){if(_t>=0)return _t;{const ir=ne(nt,($r,Rr)=>$r+Rr-Kt,0);return Math.max(-ir,_t)}}else return n2(nt,Ot,_t,Kt)},calcLeftEdgeDeltas:A,calcMiddleDeltas:(nt,Ot,_t,Kt,Tn,ir)=>A(nt,_t,Kt,Tn,ir),calcRightEdgeDeltas:(nt,Ot,_t,Kt,Tn,ir)=>{if(ir)return Eu(nt);{const $r=Kt/nt.length;return de(nt,M($r))}},calcRedestributedWidths:(nt,Ot,_t,Kt)=>({delta:0,newSizes:nt})}},y1=A=>ms.fromTable(A).grid,b1=He("th"),r2=A=>Te(A,$=>b1($.element)),K8=(A,$)=>A&&$?"sectionCells":A?"section":"cells",o2=A=>{const $=A.section==="thead",j=ed(O1(A.cells),"th");return A.section==="tfoot"?{type:"footer"}:$||j?{type:"header",subType:K8($,j)}:{type:"body"}},O1=A=>{const $=Be(A,j=>b1(j.element));return $.length===0?E.some("td"):$.length===A.length?E.some("th"):E.none()},J8=A=>{const $=de(A,Me=>o2(Me).type),j=me($,"header"),ue=me($,"footer");if(!j&&!ue)return E.some("body");{const Me=me($,"body");return j&&!Me&&!ue?E.some("header"):!j&&!Me&&ue?E.some("footer"):E.none()}},zy=A=>te(A.all,$=>{const j=o2($);return j.type==="header"?E.from(j.subType):E.none()}),dw=(A,$,j)=>ns(j(A.element,$),!0,A.isLocked),_u=(A,$)=>A.section!==$?Xs(A.element,A.cells,$,A.isNew):A,s2=()=>({transformRow:_u,transformCell:(A,$,j)=>{const ue=j(A.element,$),Me=wn(ue)!=="td"?ar(ue,"td"):ue;return ns(Me,A.isNew,A.isLocked)}}),m5=()=>({transformRow:_u,transformCell:dw}),a2=()=>({transformRow:(A,$)=>_u(A,$==="thead"?"tbody":$),transformCell:dw}),Qg={getTableSectionType:(A,$)=>{const j=ms.fromTable(A);switch(zy(j).getOr($)){case"section":return s2();case"sectionCells":return m5();case"cells":return a2()}},section:s2,sectionCells:m5,cells:a2,fallback:()=>({transformRow:I,transformCell:dw})},Rh=(A,$,j,ue)=>{j===ue?rn(A,$):dt(A,$,j)},hw=(A,$,j)=>{be(Mo(A,$)).fold(()=>$t(A,j),ue=>Ht(ue,j))},x1=(A,$)=>{const j=Ho(A,$).getOrThunk(()=>{const ue=zt.fromTag($,Rn(A).dom);return $==="thead"?hw(A,"caption,colgroup",ue):$==="colgroup"?hw(A,"caption",ue):Mt(A,ue),ue});return Cn(j),j},l2=(A,$)=>{const j=[],ue=[],Me=Rr=>de(Rr,Kn=>{Kn.isNew&&j.push(Kn.element);const Ir=Kn.element;return Cn(Ir),ee(Kn.cells,jn=>{jn.isNew&&ue.push(jn.element),Rh(jn.element,"colspan",jn.colspan,1),Rh(jn.element,"rowspan",jn.rowspan,1),Mt(Ir,jn.element)}),Ir}),ze=Rr=>Le(Rr,Kn=>de(Kn.cells,Ir=>(Rh(Ir.element,"span",Ir.colspan,1),Ir.element))),nt=(Rr,Kn)=>{const Ir=x1(A,Kn),io=(Kn==="colgroup"?ze:Me)(Rr);on(Ir,io)},Ot=Rr=>{Ho(A,Rr).each(On)},_t=(Rr,Kn)=>{Rr.length>0?nt(Rr,Kn):Ot(Kn)},Kt=[],Tn=[],ir=[],$r=[];return ee($,Rr=>{switch(Rr.section){case"thead":Kt.push(Rr);break;case"tbody":Tn.push(Rr);break;case"tfoot":ir.push(Rr);break;case"colgroup":$r.push(Rr);break}}),_t($r,"colgroup"),_t(Kt,"thead"),_t(Tn,"tbody"),_t(ir,"tfoot"),{newRows:j,newCells:ue}},g5=A=>de(A,$=>{const j=Fn($.element);return ee($.cells,ue=>{const Me=Zr(ue.element);Rh(Me,"colspan",ue.colspan,1),Rh(Me,"rowspan",ue.rowspan,1),Mt(j,Me)}),j}),La=(A,$)=>de(A,j=>lc(j,$)),e7=(A,$)=>A[$],Pi=(A,$)=>{if(A.length===0)return 0;const j=A[0];return ve(A,Me=>!$(j.element,Me.element)).getOr(A.length)},p5=(A,$,j,ue)=>{const Me=e7(A,$),ze=Me.section==="colgroup",nt=Pi(Me.cells.slice(j),ue),Ot=ze?1:Pi(La(A.slice($),j),ue);return{colspan:nt,rowspan:Ot}},ja=(A,$)=>{const j=de(A,Me=>de(Me.cells,F)),ue=(Me,ze,nt,Ot)=>{for(let _t=Me;_t<Me+nt;_t++)for(let Kt=ze;Kt<ze+Ot;Kt++)j[_t][Kt]=!0};return de(A,(Me,ze)=>{const nt=Le(Me.cells,(Ot,_t)=>{if(j[ze][_t]===!1){const Kt=p5(A,ze,_t,$);return ue(ze,_t,Kt.rowspan,Kt.colspan),[wo(Ot.element,Kt.rowspan,Kt.colspan,Ot.isNew)]}else return[]});return qs(Me.element,nt,Me.section,Me.isNew)})},S1=(A,$,j)=>{const ue=[];ee(A.colgroups,Me=>{const ze=[];for(let nt=0;nt<A.grid.columns;nt++){const Ot=ms.getColumnAt(A,nt).map(_t=>ns(_t.element,j,!1)).getOrThunk(()=>ns($.colGap(),!0,!1));ze.push(Ot)}ue.push(Xs(Me.element,ze,"colgroup",j))});for(let Me=0;Me<A.grid.rows;Me++){const ze=[];for(let _t=0;_t<A.grid.columns;_t++){const Kt=ms.getAt(A,Me,_t).map(Tn=>ns(Tn.element,j,Tn.isLocked)).getOrThunk(()=>ns($.gap(),!0,!1));ze.push(Kt)}const nt=A.all[Me],Ot=Xs(nt.element,ze,nt.section,j);ue.push(Ot)}return ue},nl=(A,$)=>S1(A,$,!1),si=A=>ja(A,or),af=(A,$)=>te(A.all,j=>Y(j.cells,ue=>or($,ue.element))),mw=(A,$,j)=>{const ue=de($.selection,ze=>Jv(ze).bind(nt=>af(A,nt)).filter(j)),Me=Ha(ue);return Yu(Me.length>0,Me)},tc=(A,$,j,ue,Me)=>(ze,nt,Ot,_t)=>{const Kt=ms.fromTable(ze),Tn=E.from(_t==null?void 0:_t.section).getOrThunk(Qg.fallback);return $(Kt,nt).map($r=>{const Rr=nl(Kt,Ot),Kn=A(Rr,$r,or,Me(Ot),Tn),Ir=Yi(Kn.grid),jn=si(Kn.grid);return{info:$r,grid:jn,cursor:Kn.cursor,lockedColumns:Ir}}).bind($r=>{const Rr=l2(ze,$r.grid),Kn=E.from(_t==null?void 0:_t.sizing).getOrThunk(()=>Rc.getTableSize(ze)),Ir=E.from(_t==null?void 0:_t.resize).getOrThunk(fw);return j(ze,$r.grid,$r.info,{sizing:Kn,resize:Ir,section:Tn}),ue(ze),rn(ze,o1),$r.lockedColumns.length>0&&dt(ze,o1,$r.lockedColumns.join(",")),E.some({cursor:$r.cursor,newRows:Rr.newRows,newCells:Rr.newCells})})},Zy=(A,$)=>Jv($.element).bind(j=>af(A,j).map(ue=>({...ue,generators:$.generators,clipboard:$.clipboard}))),w1=(A,$)=>mw(A,$,B).map(j=>({cells:j,generators:$.generators,clipboard:$.clipboard})),Dh=(A,$)=>$.mergable,C1=(A,$)=>$.unmergable,Fg=(A,$)=>mw(A,$,B),Im=(A,$)=>mw(A,$,j=>!j.isLocked),t7=(A,$)=>af(A,$).exists(j=>!j.isLocked),v5=(A,$)=>Te($,j=>t7(A,j)),m$=(A,$)=>Dh(A,$).filter(j=>v5(A,j.cells)),g$=(A,$)=>C1(A,$).filter(j=>v5(A,j)),ud=(A,$,j,ue)=>{const Me=Wi(A).rows;if(Me.length===0)return A;for(let ze=$.startRow;ze<=$.finishRow;ze++)for(let nt=$.startCol;nt<=$.finishCol;nt++){const Ot=Me[ze],_t=lc(Ot,nt).isLocked;wm(Ot,nt,ns(ue(),!1,_t))}return A},Lc=(A,$,j,ue)=>{const Me=Wi(A).rows;let ze=!0;for(let nt=0;nt<Me.length;nt++)for(let Ot=0;Ot<cu(Me[0]);Ot++){const _t=Me[nt],Kt=lc(_t,Ot),Tn=Kt.element,ir=j(Tn,$);ir&&!ze?wm(_t,Ot,ns(ue(),!0,Kt.isLocked)):ir&&(ze=!1)}return A},n7=(A,$)=>ne(A,(j,ue)=>ae(j,Me=>$(Me.element,ue.element))?j:j.concat([ue]),[]),r7=(A,$,j,ue)=>($>0&&$<A[0].cells.length&&ee(A,Me=>{const ze=Me.cells[$-1];let nt=0;const Ot=ue();for(;Me.cells.length>$+nt&&j(ze.element,Me.cells[$+nt].element);)wm(Me,$+nt,ns(Ot,!0,Me.cells[$+nt].isLocked)),nt++}),A),Vg=(A,$,j,ue)=>{const Me=Wi(A).rows;if($>0&&$<Me.length){const ze=Me[$-1].cells,nt=n7(ze,j);ee(nt,Ot=>{let _t=E.none();for(let Kt=$;Kt<Me.length;Kt++)for(let Tn=0;Tn<cu(Me[0]);Tn++){const ir=Me[Kt],$r=lc(ir,Tn);j($r.element,Ot.element)&&(_t.isNone()&&(_t=E.some(ue())),_t.each(Kn=>{wm(ir,Tn,ns(Kn,!0,$r.isLocked))}))}})}return A},Hy=A=>{const $=ze=>ze(A),j=M(A),ue=()=>Me,Me={tag:!0,inner:A,fold:(ze,nt)=>nt(A),isValue:B,isError:F,map:ze=>$h.value(ze(A)),mapError:ue,bind:$,exists:$,forall:$,getOr:j,or:ue,getOrThunk:j,orThunk:ue,getOrDie:j,each:ze=>{ze(A)},toOptional:()=>E.some(A)};return Me},c2=A=>{const $=()=>j,j={tag:!1,inner:A,fold:(ue,Me)=>ue(A),isValue:F,isError:B,map:$,mapError:ue=>$h.error(ue(A)),bind:$,exists:F,forall:B,getOr:I,or:I,getOrThunk:U,orThunk:U,getOrDie:z(String(A)),each:w,toOptional:E.none};return j},$h={value:Hy,error:c2,fromOption:(A,$)=>A.fold(()=>c2($),Hy)},T1=(A,$,j)=>{if(A.row>=$.length||A.column>cu($[0]))return $h.error("invalid start address out of table bounds, row: "+A.row+", column: "+A.column);const ue=$.slice(A.row),Me=ue[0].cells.slice(A.column),ze=cu(j[0]),nt=j.length;return $h.value({rowDelta:ue.length-nt,colDelta:Me.length-ze})},k1=(A,$)=>{const j=cu(A[0]),ue=cu($[0]);return{rowDelta:0,colDelta:j-ue}},A1=(A,$)=>{const j=A.length,ue=$.length;return{rowDelta:j-ue,colDelta:0}},lv=(A,$,j,ue)=>{const Me=$.section==="colgroup"?j.col:j.cell;return q(A,ze=>ns(Me(),!0,ue(ze)))},y5=(A,$,j,ue)=>{const Me=A[A.length-1];return A.concat(q($,()=>{const ze=Me.section==="colgroup"?j.colgroup:j.row,nt=ky(Me,ze,I),Ot=lv(nt.cells.length,nt,j,_t=>Ye(ue,_t.toString()));return Cy(nt,Ot)}))},Oi=(A,$,j,ue)=>de(A,Me=>{const ze=lv($,Me,j,F);return Xc(Me,ue,ze)}),b5=(A,$,j)=>de(A,ue=>ne(j,(Me,ze)=>{const nt=lv(1,ue,$,B)[0];return kh(Me,ze,nt)},ue)),P1=(A,$,j)=>{const ue=$.colDelta<0?Oi:I,Me=$.rowDelta<0?y5:I,ze=Yi(A),nt=cu(A[0]),Ot=ae(ze,Tn=>Tn===nt-1),_t=ue(A,Math.abs($.colDelta),j,Ot?nt-1:nt),Kt=Yi(_t);return Me(_t,Math.abs($.rowDelta),j,Ve(Kt,B))},O5=(A,$,j,ue)=>{const Me=lc(A[$],j),ze=N(ue,Me.element),nt=A[$];return A.length>1&&cu(nt)>1&&(j>0&&ze(Ti(nt,j-1))||j<nt.cells.length-1&&ze(Ti(nt,j+1))||$>0&&ze(Ti(A[$-1],j))||$<A.length-1&&ze(Ti(A[$+1],j)))},f2=(A,$,j,ue,Me,ze)=>{const nt=A.row,Ot=A.column,_t=j.length,Kt=cu(j[0]),Tn=nt+_t,ir=Ot+Kt+ze.length,$r=Ve(ze,B);for(let Rr=nt;Rr<Tn;Rr++){let Kn=0;for(let Ir=Ot;Ir<ir;Ir++){if($r[Ir]){Kn++;continue}O5($,Rr,Ir,Me)&&Lc($,Ti($[Rr],Ir),Me,ue.cell);const jn=Ir-Ot-Kn,io=lc(j[Rr-nt],jn),Lo=io.element,os=ue.replace(Lo);wm($[Rr],Ir,ns(os,!0,io.isLocked))}}return $},uc=(A,$,j)=>{const ue=cu($[0]),Me=Wi($).cols.length+A.row,ze=q(ue-A.column,Ot=>Ot+A.column),nt=Y(ze,Ot=>Te(j,_t=>_t!==Ot)).getOr(ue-1);return{row:Me,column:nt}},lf=(A,$,j)=>Be(j,ue=>ue>=A.column&&ue<=cu($[0])+A.column),x5=(A,$,j,ue,Me)=>{const ze=Yi($),nt=uc(A,$,ze),Ot=Wi(j).rows,_t=lf(nt,Ot,ze);return T1(nt,$,Ot).map(Tn=>{const ir={...Tn,colDelta:Tn.colDelta-_t.length},$r=P1($,ir,ue),Rr=Yi($r),Kn=lf(nt,Ot,Rr);return f2(nt,$r,Ot,ue,Me,Kn)})},d2=(A,$,j,ue,Me)=>{r7($,A,Me,ue.cell);const ze=A1(j,$),nt=P1(j,ze,ue),Ot=A1($,nt),_t=P1($,Ot,ue);return de(_t,(Kt,Tn)=>Xc(Kt,A,nt[Tn].cells))},cv=(A,$,j,ue,Me)=>{Vg($,A,Me,ue.cell);const ze=Yi($),nt=k1($,j),Ot={...nt,colDelta:nt.colDelta-ze.length},_t=P1($,Ot,ue),{cols:Kt,rows:Tn}=Wi(_t),ir=Yi(_t),$r=k1(j,$),Rr={...$r,colDelta:$r.colDelta+ir.length},Kn=b5(j,ue,ir),Ir=P1(Kn,Rr,ue);return[...Kt,...Tn.slice(0,A),...Ir,...Tn.slice(A,Tn.length)]},o7=(A,$,j,ue)=>ky(A,Me=>ue(Me,j),$),S5=(A,$,j,ue,Me)=>{const{rows:ze,cols:nt}=Wi(A),Ot=ze.slice(0,$),_t=ze.slice($),Kt=o7(ze[j],(Tn,ir)=>$>0&&$<ze.length&&ue(Ti(ze[$-1],ir),Ti(ze[$],ir))?lc(ze[$],ir):ns(Me(Tn.element,ue),!0,Tn.isLocked),ue,Me);return[...nt,...Ot,Kt,..._t]},gw=(A,$,j,ue,Me,ze,nt)=>{if(j==="colgroup"||!ue){const Ot=lc(A,Me);return ns(nt(Ot.element,ze),!0,!1)}else return lc(A,$)},Ru=(A,$,j,ue,Me)=>de(A,ze=>{const nt=$>0&&$<cu(ze)&&ue(Ti(ze,$-1),Ti(ze,$)),Ot=gw(ze,$,ze.section,nt,j,ue,Me);return kh(ze,$,Ot)}),h2=(A,$)=>Le(A,j=>{const ue=j.cells,Me=pe($,(ze,nt)=>nt>=0&&nt<ze.length?ze.slice(0,nt).concat(ze.slice(nt+1)):ze,ue);return Me.length>0?[Xs(j.element,Me,j.section,j.isNew)]:[]}),Mi=(A,$,j)=>{const{rows:ue,cols:Me}=Wi(A);return[...Me,...ue.slice(0,$),...ue.slice(j+1)]},Xd=(A,$,j,ue)=>Ti(A[$],j)!==void 0&&$>0&&ue(Ti(A[$-1],j),Ti(A[$],j)),M1=(A,$,j)=>$>0&&j(Ti(A,$-1),Ti(A,$)),zg=(A,$,j,ue)=>Xd(A,$,j,ue)||M1(A[$],j,ue),uv=(A,$)=>Te($,I)&&r2(A.cells)?B:(ue,Me,ze)=>!(wn(ue.element)==="th"&&$[ze]),fv=(A,$)=>Te($,I)&&r2(A)?B:(ue,Me,ze)=>!(wn(ue.element)==="th"&&$[Me]),Nm=(A,$,j,ue)=>{const Me=nt=>nt==="row"?kc($):$l($),ze=nt=>Me(nt)?`${nt}group`:nt;return A?b1($)?ze(j):null:ue&&b1($)?ze(j==="row"?"col":"row"):null},w5=(A,$)=>(j,ue,Me)=>E.some(Nm(A,j.element,"col",$[Me])),dv=(A,$)=>(j,ue)=>E.some(Nm(A,j.element,"row",$[ue])),Zg=(A,$,j)=>ns(j(A.element,$),!0,A.isLocked),hv=(A,$,j,ue,Me,ze,nt)=>{const Ot=_t=>ae($,Kt=>j(_t.element,Kt.element));return de(A,(_t,Kt)=>Ty(_t,(Tn,ir)=>{if(Ot(Tn)){const $r=nt(Tn,Kt,ir)?Me(Tn,j,ue):Tn;return ze($r,Kt,ir).each(Rr=>{Ct($r.element,{scope:E.from(Rr)})}),$r}else return Tn}))},C5=(A,$,j)=>Le(A,(ue,Me)=>zg(A,Me,$,j)?[]:[lc(ue,$)]),s7=(A,$,j)=>{const ue=A[$];return Le(ue.cells,(Me,ze)=>zg(A,$,ze,j)?[]:[Me])},pw=(A,$,j,ue,Me)=>{const ze=Wi(A).rows,nt=Le($,Tn=>C5(ze,Tn,ue)),Ot=de(ze,Tn=>r2(Tn.cells)),_t=fv(nt,Ot),Kt=dv(j,Ot);return hv(A,nt,ue,Me,Zg,Kt,_t)},a7=(A,$,j,ue,Me,ze,nt)=>{const{cols:Ot,rows:_t}=Wi(A),Kt=_t[$[0]],Tn=Le($,jn=>s7(_t,jn,Me)),ir=de(Kt.cells,(jn,io)=>r2(C5(_t,io,Me))),$r=[..._t];ee($,jn=>{$r[jn]=nt.transformRow(_t[jn],j)});const Rr=[...Ot,...$r],Kn=uv(Kt,ir),Ir=w5(ue,ir);return hv(Rr,Tn,Me,ze,nt.transformCell,Ir,Kn)},m2=(A,$,j,ue)=>{const Me=Wi(A).rows,ze=de($,nt=>lc(Me[nt.row],nt.column));return hv(A,ze,j,ue,Zg,E.none,B)},Du={generate:A=>{if(!c(A))throw new Error("cases must be an array");if(A.length===0)throw new Error("there must be at least one case");const $=[],j={};return ee(A,(ue,Me)=>{const ze=se(ue);if(ze.length!==1)throw new Error("one and only one name per case");const nt=ze[0],Ot=ue[nt];if(j[nt]!==void 0)throw new Error("duplicate key detected:"+nt);if(nt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!c(Ot))throw new Error("case arguments must be an array");$.push(nt),j[nt]=(..._t)=>{const Kt=_t.length;if(Kt!==Ot.length)throw new Error("Wrong number of arguments to case "+nt+". Expected "+Ot.length+" ("+Ot+"), got "+Kt);return{fold:(...ir)=>{if(ir.length!==A.length)throw new Error("Wrong number of arguments to fold. Expected "+A.length+", got "+ir.length);return ir[Me].apply(null,_t)},match:ir=>{const $r=se(ir);if($.length!==$r.length)throw new Error("Wrong number of arguments to match. Expected: "+$.join(",")+`
Actual: `+$r.join(","));if(!Te($,Kn=>me($r,Kn)))throw new Error("Not all branches were specified when using match. Specified: "+$r.join(", ")+`
Required: `+$.join(", "));return ir[nt].apply(null,_t)},log:ir=>{console.log(ir,{constructors:$,constructor:nt,params:_t})}}}}),j}},E1={...Du.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},k5=(A,$)=>A.length===0?E1.none():A.length===1?E1.only(0):$===0?E1.left(0,1):$===A.length-1?E1.right($-1,$):$>0&&$<A.length-1?E1.middle($-1,$,$+1):E1.none(),i7=(A,$,j,ue,Me)=>{const ze=A.slice(0),nt=k5(A,$),Ot=M(de(ze,M(0))),_t=$r=>ue.singleColumnWidth(ze[$r],j),Kt=($r,Rr)=>Me.calcLeftEdgeDeltas(ze,$r,Rr,j,ue.minCellWidth(),ue.isRelative),Tn=($r,Rr,Kn)=>Me.calcMiddleDeltas(ze,$r,Rr,Kn,j,ue.minCellWidth(),ue.isRelative),ir=($r,Rr)=>Me.calcRightEdgeDeltas(ze,$r,Rr,j,ue.minCellWidth(),ue.isRelative);return nt.fold(Ot,_t,Kt,Tn,ir)},Uy=(A,$,j)=>{let ue=0;for(let Me=A;Me<$;Me++)ue+=j[Me]!==void 0?j[Me]:0;return ue},Hg=(A,$)=>{const j=ms.justCells(A);return de(j,ue=>{const Me=Uy(ue.column,ue.column+ue.colspan,$);return{element:ue.element,width:Me,colspan:ue.colspan}})},g2=(A,$)=>{const j=ms.justColumns(A);return de(j,(ue,Me)=>({element:ue.element,width:$[Me],colspan:ue.colspan}))},Ds=(A,$)=>{const j=ms.justCells(A);return de(j,ue=>{const Me=Uy(ue.row,ue.row+ue.rowspan,$);return{element:ue.element,height:Me,rowspan:ue.rowspan}})},$u=(A,$)=>de(A.all,(j,ue)=>({element:j.element,height:$[ue]})),Gd=A=>pe(A,($,j)=>$+j,0),yw=(A,$)=>ms.hasColumns(A)?g2(A,$):Hg(A,$),ga=(A,$,j)=>{const ue=yw(A,$);ee(ue,Me=>{j.setElementWidth(Me.element,Me.width)})},Wy=(A,$,j,ue,Me)=>{const ze=ms.fromTable(A),nt=Me.getCellDelta($),Ot=Me.getWidths(ze,Me),_t=j===ze.grid.columns-1,Kt=ue.clampTableDelta(Ot,j,nt,Me.minCellWidth(),_t),Tn=i7(Ot,j,Kt,Me,ue),ir=de(Tn,($r,Rr)=>$r+Ot[Rr]);ga(ze,ir,Me),ue.resizeTable(Me.adjustTableWidth,Kt,_t)},bw=(A,$,j,ue)=>{const Me=ms.fromTable(A),ze=Mn(Me,A,ue),nt=de(ze,(Tn,ir)=>j===ir?Math.max($+Tn,Ef()):Tn),Ot=Ds(Me,nt),_t=$u(Me,nt);ee(_t,Tn=>{Il(Tn.element,Tn.height)}),ee(Ot,Tn=>{Il(Tn.element,Tn.height)});const Kt=Gd(nt);Il(A,Kt)},dl=(A,$,j,ue,Me)=>{const ze=ms.generate($),nt=ue.getWidths(ze,ue),Ot=ue.pixelWidth(),{newSizes:_t,delta:Kt}=Me.calcRedestributedWidths(nt,Ot,j.pixelDelta,ue.isRelative);ga(ze,_t,ue),ue.adjustTableWidth(Kt)},Lh=(A,$,j,ue)=>{const Me=ms.generate($),ze=ue.getWidths(Me,ue);ga(Me,ze,ue)},Ug=A=>ne(A,(j,ue)=>ae(j,ze=>ze.column===ue.column)?j:j.concat([ue]),[]).sort((j,ue)=>j.column-ue.column),Ow=He("col"),p2=He("colgroup"),Yy=A=>wn(A)==="tr"||p2(A),xw=A=>{const $=$a(A,"colspan",1),j=$a(A,"rowspan",1);return{element:A,colspan:$,rowspan:j}},v2=(A,$=xw)=>{const j=Ot=>Ow(Ot.element)?A.col(Ot):A.cell(Ot),ue=Ot=>p2(Ot.element)?A.colgroup(Ot):A.row(Ot),Me=Ot=>{if(Yy(Ot))return ue({element:Ot});{const _t=Ot,Kt=j($(_t));return ze=E.some({item:_t,replacement:Kt}),Kt}};let ze=E.none();return{getOrInit:(Ot,_t)=>ze.fold(()=>Me(Ot),Kt=>_t(Ot,Kt.item)?Kt.replacement:Me(Ot))}},Ih=A=>$=>{const j=[],ue=(nt,Ot)=>Y(j,_t=>Ot(_t.item,nt)),Me=nt=>{const Ot=A==="td"?{scope:null}:{},_t=$.replace(nt,A,Ot);return j.push({item:nt,sub:_t}),_t};return{replaceOrInit:(nt,Ot)=>{if(Yy(nt)||Ow(nt))return nt;{const _t=nt;return ue(_t,Ot).fold(()=>Me(_t),Kt=>Ot(nt,Kt.item)?Kt.sub:Me(_t))}}}},Bm=A=>dn(A,"scope").map($=>$.substr(0,3)),Nn={modification:v2,transform:Ih,merging:A=>({unmerge:ue=>{const Me=Bm(ue);return Me.each(ze=>dt(ue,"scope",ze)),()=>{const ze=A.cell({element:ue,colspan:1,rowspan:1});return Tu(ze,"width"),Tu(ue,"width"),Me.each(nt=>dt(ze,"scope",nt)),ze}},merge:ue=>{const Me=()=>{const ze=Ha(de(ue,Bm));if(ze.length===0)return E.none();{const nt=ze[0],Ot=["row","col"];return ae(ze,Kt=>Kt!==nt&&me(Ot,Kt))?E.none():E.from(nt)}};return Tu(ue[0],"width"),Me().fold(()=>rn(ue[0],"scope"),ze=>dt(ue[0],"scope",ze+"group")),M(ue[0])}})},Xy=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],_1=(A,$)=>{const j=A.property().name($);return me(["ol","ul"],j)},cf=(A,$)=>{const j=A.property().name($);return me(Xy,j)},Sw=(A,$)=>me(["br","img","hr","input"],A.property().name($)),Ua=qn(),y2=A=>cf(Ua,A),Qm=A=>_1(Ua,A),ww=A=>Sw(Ua,A),b2=A=>{const $=He("br"),j=_t=>Te(_t,Kt=>$(Kt)||xt(Kt)&&bt(Kt).trim().length===0),ue=_t=>wn(_t)==="li"||Fa(_t,Qm).isSome(),Me=_t=>Ee(_t).map(Kt=>y2(Kt)?!0:ww(Kt)?wn(Kt)!=="img":!1).getOr(!1),ze=_t=>Pn(_t).bind(Kt=>{const Tn=Me(Kt);return ao(Kt).map(ir=>Tn===!0||ue(ir)||$(Kt)||y2(ir)&&!or(_t,ir)?[]:[zt.fromTag("br")])}).getOr([]),Ot=(()=>{const _t=Le(A,Kt=>{const Tn=St(Kt);return j(Tn)?[]:Tn.concat(ze(Kt))});return _t.length===0?[zt.fromTag("br")]:_t})();Cn(A[0]),on(A[0],Ot)},Cw=A=>Ud(A,!0),Gy=A=>{_f(A).length===0&&On(A)},R1=(A,$)=>({grid:A,cursor:$}),Tw=A=>te(A,$=>te($.cells,j=>{const ue=j.element;return Yu(Cw(ue),ue)})),c7=(A,$,j)=>{var ue,Me;const ze=Wi(A).rows;return E.from((Me=(ue=ze[$])===null||ue===void 0?void 0:ue.cells[j])===null||Me===void 0?void 0:Me.element).filter(Cw).orThunk(()=>Tw(ze))},Kc=(A,$,j)=>{const ue=c7(A,$,j);return R1(A,ue)},hl=A=>ne(A,(j,ue)=>ae(j,ze=>ze.row===ue.row)?j:j.concat([ue]),[]).sort((j,ue)=>j.row-ue.row),nc=(A,$,j,ue)=>{const Me=$[0].row,ze=hl($),nt=pe(ze,(Ot,_t)=>({grid:S5(Ot.grid,Me,_t.row+Ot.delta,j,ue.getOrInit),delta:Ot.delta+1}),{grid:A,delta:0}).grid;return Kc(nt,Me,$[0].column)},Jc=(A,$,j,ue)=>{const Me=hl($),ze=Me[Me.length-1],nt=ze.row+ze.rowspan,Ot=pe(Me,(_t,Kt)=>S5(_t,nt,Kt.row,j,ue.getOrInit),A);return Kc(Ot,nt,$[0].column)},fc=(A,$,j,ue)=>{const Me=$.details,ze=Ug(Me),nt=ze[0].column,Ot=pe(ze,(_t,Kt)=>({grid:Ru(_t.grid,nt,Kt.column+_t.delta,j,ue.getOrInit),delta:_t.delta+1}),{grid:A,delta:0}).grid;return Kc(Ot,Me[0].row,nt)},Ic=(A,$,j,ue)=>{const Me=$.details,ze=Me[Me.length-1],nt=ze.column+ze.colspan,Ot=Ug(Me),_t=pe(Ot,(Kt,Tn)=>Ru(Kt,nt,Tn.column,j,ue.getOrInit),A);return Kc(_t,Me[0].row,nt)},ml=(A,$,j,ue)=>{const Me=Ug($),ze=de(Me,Ot=>Ot.column),nt=pw(A,ze,!0,j,ue.replaceOrInit);return Kc(nt,$[0].row,$[0].column)},kw=(A,$,j,ue)=>{const Me=m2(A,$,j,ue.replaceOrInit);return Kc(Me,$[0].row,$[0].column)},jy=(A,$,j,ue)=>{const Me=Ug($),ze=de(Me,Ot=>Ot.column),nt=pw(A,ze,!1,j,ue.replaceOrInit);return Kc(nt,$[0].row,$[0].column)},Aw=(A,$,j,ue)=>{const Me=m2(A,$,j,ue.replaceOrInit);return Kc(Me,$[0].row,$[0].column)},qy=(A,$)=>(j,ue,Me,ze,nt)=>{const Ot=hl(ue),_t=de(Ot,Tn=>Tn.row),Kt=a7(j,_t,A,$,Me,ze.replaceOrInit,nt);return Kc(Kt,ue[0].row,ue[0].column)},Pw=qy("thead",!0),A5=qy("tbody",!1),O2=qy("tfoot",!1),Mw=(A,$,j,ue)=>{const Me=Ug($.details),ze=h2(A,de(Me,Ot=>Ot.column)),nt=ze.length>0?ze[0].cells.length-1:0;return Kc(ze,Me[0].row,Math.min(Me[0].column,nt))},u7=(A,$,j,ue)=>{const Me=hl($),ze=Mi(A,Me[0].row,Me[Me.length-1].row),nt=ze.length>0?ze.length-1:0;return Kc(ze,Math.min($[0].row,nt),$[0].column)},f7=(A,$,j,ue)=>{const Me=$.cells;b2(Me);const ze=ud(A,$.bounds,j,ue.merge(Me));return R1(ze,E.from(Me[0]))},P5=(A,$,j,ue)=>{const ze=pe($,(nt,Ot)=>Lc(nt,Ot,j,ue.unmerge(Ot)),A);return R1(ze,E.from($[0]))},d7=(A,$,j,ue)=>{const ze=((_t,Kt)=>{const Tn=ms.fromTable(_t);return S1(Tn,Kt,!0)})($.clipboard,$.generators),nt=Ao($.row,$.column);return x5(nt,A,ze,$.generators,j).fold(()=>R1(A,E.some($.element)),_t=>Kc(_t,$.row,$.column))},D1=(A,$,j)=>{const ue=LO(A,j.section),Me=ms.generate(ue);return S1(Me,$,!0)},x2=(A,$,j,ue)=>{const Me=Wi(A).rows,ze=$.cells[0].column,nt=Me[$.cells[0].row],Ot=D1($.clipboard,$.generators,nt),_t=d2(ze,A,Ot,$.generators,j);return Kc(_t,$.cells[0].row,$.cells[0].column)},M5=(A,$,j,ue)=>{const Me=Wi(A).rows,ze=$.cells[$.cells.length-1].column+$.cells[$.cells.length-1].colspan,nt=Me[$.cells[0].row],Ot=D1($.clipboard,$.generators,nt),_t=d2(ze,A,Ot,$.generators,j);return Kc(_t,$.cells[0].row,$.cells[0].column)},p$=(A,$,j,ue)=>{const Me=Wi(A).rows,ze=$.cells[0].row,nt=Me[ze],Ot=D1($.clipboard,$.generators,nt),_t=cv(ze,A,Ot,$.generators,j);return Kc(_t,$.cells[0].row,$.cells[0].column)},du=(A,$,j,ue)=>{const Me=Wi(A).rows,ze=$.cells[$.cells.length-1].row+$.cells[$.cells.length-1].rowspan,nt=Me[$.cells[0].row],Ot=D1($.clipboard,$.generators,nt),_t=cv(ze,A,Ot,$.generators,j);return Kc(_t,$.cells[0].row,$.cells[0].column)},v$=(A,$)=>{const j=ms.fromTable(A);return Fg(j,$).bind(Me=>{const ze=Me[Me.length-1],nt=Me[0].column,Ot=ze.column+ze.colspan,_t=Oe(de(j.all,Kt=>Be(Kt.cells,Tn=>Tn.column>=nt&&Tn.column<Ot)));return O1(_t)}).getOr("")},jd=(A,$)=>{const j=ms.fromTable(A);return Fg(j,$).bind(O1).getOr("")},pr=(A,$)=>{const j=ms.fromTable(A);return Fg(j,$).bind(Me=>{const ze=Me[Me.length-1],nt=Me[0].row,Ot=ze.row+ze.rowspan,_t=j.all.slice(nt,Ot);return J8(_t)}).getOr("")},Ew=(A,$,j,ue)=>Lh(A,$,j,ue.sizing),gl=(A,$,j,ue)=>dl(A,$,j,ue.sizing,ue.resize),E5=(A,$)=>ae($,j=>j.column===0&&j.isLocked),S2=(A,$)=>ae($,j=>j.column+j.colspan>=A.grid.columns&&j.isLocked),_w=(A,$)=>{const j=Tm(A),ue=Ug($);return ne(ue,(Me,ze)=>{const Ot=j[ze.column].map(Df).getOr(0);return Me+Ot},0)},hu=A=>($,j)=>Fg($,j).filter(ue=>!(A?E5:S2)($,ue)).map(ue=>({details:ue,pixelDelta:_w($,ue)})),h7=(A,$)=>Im(A,$).map(j=>({details:j,pixelDelta:-_w(A,j)})),_5=A=>($,j)=>w1($,j).filter(ue=>!(A?E5:S2)($,ue.cells)),mu=Nn.transform("th"),$1=Nn.transform("td"),Ky=tc(nc,Fg,w,w,Nn.modification),Nh=tc(Jc,Fg,w,w,Nn.modification),fd=tc(fc,hu(!0),gl,w,Nn.modification),Wr=tc(Ic,hu(!1),gl,w,Nn.modification),uf=tc(Mw,h7,gl,Gy,Nn.modification),R5=tc(u7,Fg,w,Gy,Nn.modification),D5=tc(ml,Im,w,w,mu),Rw=tc(jy,Im,w,w,$1),$5=tc(Pw,Im,w,w,mu),Dw=tc(A5,Im,w,w,$1),$w=tc(O2,Im,w,w,$1),m7=tc(kw,Im,w,w,mu),Lw=tc(Aw,Im,w,w,$1),g7=tc(f7,m$,Ew,w,Nn.merging),Nc=tc(P5,g$,Ew,w,Nn.merging),Jy=tc(d7,Zy,Ew,w,Nn.modification),p7=tc(x2,_5(!0),w,w,Nn.modification),v7=tc(M5,_5(!1),w,w,Nn.modification),Iw=tc(p$,w1,w,w,Nn.modification),y7=tc(du,w1,w,w,Nn.modification),L5=v$,I5=jd,eb=pr,N5=(A,$)=>A.dispatch("NewRow",{node:$}),Nw=(A,$)=>A.dispatch("NewCell",{node:$}),mv=(A,$,j)=>{A.dispatch("TableModified",{...j,table:$})},b7=(A,$,j,ue,Me)=>{A.dispatch("TableSelectionChange",{cells:$,start:j,finish:ue,otherCells:Me})},O7=A=>{A.dispatch("TableSelectionClear")},Bw=(A,$,j,ue,Me)=>{A.dispatch("ObjectResizeStart",{target:$,width:j,height:ue,origin:Me})},x7=(A,$,j,ue,Me)=>{A.dispatch("ObjectResized",{target:$,width:j,height:ue,origin:Me})},Fm={structure:!1,style:!0},ps={structure:!0,style:!1},Qw={structure:!0,style:!0},Bc=(A,$)=>Nf(A)?Rc.percentageSize($):Kl(A)?Rc.pixelSize($):Rc.getTableSize($),w2=(A,$,j)=>{const ue=tu=>wn(WO(tu))==="table",Me=tu=>!ue(A)||y1(tu).rows>1,ze=tu=>!ue(A)||y1(tu).columns>1,nt=Ii(A),Ot=ta(A)?w:uw,_t=tu=>{switch(tl(A)){case"section":return Qg.section();case"sectionCells":return Qg.sectionCells();case"cells":return Qg.cells();default:return Qg.getTableSectionType(tu,"section")}},Kt=(tu,$3)=>$3.cursor.fold(()=>{const Rb=_f(tu);return re(Rb).filter(sa).map(Zh=>{j.clearSelectedCells(tu.dom);const gc=A.dom.createRng();return gc.selectNode(Zh.dom),A.selection.setRng(gc),dt(Zh,"data-mce-selected","1"),gc})},Rb=>{const Zh=d5(Rb),gc=A.dom.createRng();return gc.setStart(Zh.element.dom,Zh.offset),gc.setEnd(Zh.element.dom,Zh.offset),A.selection.setRng(gc),j.clearSelectedCells(tu.dom),E.some(gc)}),Tn=(tu,$3,Rb,Zh)=>(gc,Db,Lk=!1)=>{Wd(gc);const Ik=zt.fromDom(A.getDoc()),l0=js(Rb,Ik,nt),Nk={sizing:Bc(A,gc),resize:ta(A)?h5():fw(),section:_t(gc)};return $3(gc)?tu(gc,Db,l0,Nk).bind(rx=>{$.refresh(gc.dom),ee(rx.newRows,Tv=>{N5(A,Tv.dom)}),ee(rx.newCells,Tv=>{Nw(A,Tv.dom)});const Bk=Kt(gc,rx);return sa(gc)&&(Wd(gc),Lk||mv(A,gc.dom,Zh)),Bk.map(Tv=>({rng:Tv,effect:Zh}))}):E.none()},ir=Tn(R5,Me,w,ps),$r=Tn(uf,ze,w,ps),Rr=Tn(Ky,B,w,ps),Kn=Tn(Nh,B,w,ps),Ir=Tn(fd,B,Ot,ps),jn=Tn(Wr,B,Ot,ps),io=Tn(g7,B,w,ps),Lo=Tn(Nc,B,w,ps),os=Tn(p7,B,w,ps),za=Tn(v7,B,w,ps),vl=Tn(Iw,B,w,ps),xi=Tn(y7,B,w,ps),vu=Tn(Jy,B,w,Qw),wv=Tn(m7,B,w,ps),Cv=Tn(Lw,B,w,ps),D3=Tn(D5,B,w,ps),nx=Tn(Rw,B,w,ps),xa=Tn($5,B,w,ps),Fc=Tn(Dw,B,w,ps),oc=Tn($w,B,w,ps);return{deleteRow:ir,deleteColumn:$r,insertRowsBefore:Rr,insertRowsAfter:Kn,insertColumnsBefore:Ir,insertColumnsAfter:jn,mergeCells:io,unmergeCells:Lo,pasteColsBefore:os,pasteColsAfter:za,pasteRowsBefore:vl,pasteRowsAfter:xi,pasteCells:vu,makeCellsHeader:wv,unmakeCellsHeader:Cv,makeColumnsHeader:D3,unmakeColumnsHeader:nx,makeRowsHeader:xa,makeRowsBody:Fc,makeRowsFooter:oc,getTableRowType:eb,getTableCellType:I5,getTableColType:L5}},Fw=(A,$,j)=>{const ue=$a(A,$,1);j===1||ue<=1?rn(A,$):dt(A,$,Math.min(j,ue))},Vw=(A,$)=>j=>{const ue=j.column+j.colspan-1,Me=j.column;return ue>=A&&Me<$},C2=(A,$,j)=>{if(ms.hasColumns(A)){const ue=Be(ms.justColumns(A),Vw($,j)),Me=de(ue,nt=>{const Ot=Zr(nt.element);return Fw(Ot,"span",j-$),Ot}),ze=zt.fromTag("colgroup");return on(ze,Me),[ze]}else return[]},B5=(A,$,j)=>de(A.all,ue=>{const Me=Be(ue.cells,Vw($,j)),ze=de(Me,Ot=>{const _t=Zr(Ot.element);return Fw(_t,"colspan",j-$),_t}),nt=zt.fromTag("tr");return on(nt,ze),nt}),S7=(A,$)=>{const j=ms.fromTable(A);return Im(j,$).map(Me=>{const ze=Me[Me.length-1],nt=Me[0].column,Ot=ze.column+ze.colspan,_t=C2(j,nt,Ot),Kt=B5(j,nt,Ot);return[..._t,...Kt]})},w7=(A,$,j)=>{const ue=ms.fromTable(A);return Fg(ue,$).bind(ze=>{const nt=S1(ue,j,!1),_t=Wi(nt).rows.slice(ze[0].row,ze[ze.length-1].row+ze[ze.length-1].rowspan),Kt=Le(_t,ir=>{const $r=Be(ir.cells,Rr=>!Rr.isLocked);return $r.length>0?[{...ir,cells:$r}]:[]}),Tn=si(Kt);return Yu(Tn.length>0,Tn)}).map(ze=>g5(ze))},L1=Du.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Q5=(A,$,j)=>{const ue=j.substring(0,j.length-A.length),Me=parseFloat(ue);return ue===Me.toString()?$(Me):L1.invalid(j)},Wg={...L1,from:A=>Wc(A,"%")?Q5("%",L1.percent,A):Wc(A,"px")?Q5("px",L1.pixels,A):L1.invalid(A)},C7=(A,$)=>de(A,j=>Wg.from(j).fold(()=>j,Me=>Me/$*100+"%",Me=>Me+"%")),I1=(A,$,j)=>{const ue=j/$;return de(A,Me=>Wg.from(Me).fold(()=>Me,nt=>nt*ue+"px",nt=>nt/100*j+"px"))},T7=(A,$)=>{const j=A.fold(()=>M(""),ue=>{const Me=ue/$;return M(Me+"px")},()=>{const ue=100/$;return M(ue+"%")});return q($,j)},zw=(A,$,j)=>A.fold(()=>$,ue=>I1($,j,ue),ue=>C7($,j)),F5=(A,$,j)=>{const ue=Wg.from(j),Me=Te(A,ze=>ze==="0px")?T7(ue,A.length):zw(ue,A,$);return z5(Me)},gv=(A,$)=>A.length===0?$:pe(A,(j,ue)=>Wg.from(ue).fold(M(0),I,I)+j,0),k7=(A,$)=>{const j=Math.floor(A);return{value:j+$,remainder:A-j}},V5=(A,$)=>Wg.from(A).fold(M(A),j=>j+$+"px",j=>j+$+"%"),z5=A=>{if(A.length===0)return A;const $=pe(A,(ue,Me)=>{const ze=Wg.from(Me).fold(()=>({value:Me,remainder:0}),nt=>k7(nt,"px"),nt=>({value:nt+"%",remainder:0}));return{output:[ze.value].concat(ue.output),remainder:ue.remainder+ze.remainder}},{output:[],remainder:0}),j=$.output;return j.slice(0,j.length-1).concat([V5(j[j.length-1],Math.round($.remainder))])},N1=Wg.from,Z5=(A,$,j)=>{ee($,ue=>{const Me=A.slice(ue.column,ue.colspan+ue.column),ze=gv(Me,di());Ga(ue.element,"width",ze+j)})},Zw=(A,$,j)=>{ee($,(ue,Me)=>{const ze=gv([A[Me]],di());Ga(ue.element,"width",ze+j)})},A7=(A,$,j,ue)=>{ee(j,Me=>{const ze=A.slice(Me.row,Me.rowspan+Me.row),nt=gv(ze,Ef());Ga(Me.element,"height",nt+ue)}),ee($,(Me,ze)=>{Ga(Me.element,"height",A[ze])})},H5=A=>N1(A).fold(M("px"),M("px"),M("%")),Bh=(A,$,j)=>{const ue=ms.fromTable(A),Me=ue.all,ze=ms.justCells(ue),nt=ms.justColumns(ue);$.each(Ot=>{const _t=H5(Ot),Kt=Mc(A),Tn=od(ue,A),ir=F5(Tn,Kt,Ot);ms.hasColumns(ue)?Zw(ir,nt,_t):Z5(ir,ze,_t),Ga(A,"width",Ot)}),j.each(Ot=>{const _t=H5(Ot),Kt=a1(A),Tn=_c(ue,A,Xr),ir=F5(Tn,Kt,Ot);A7(ir,Me,ze,_t),Ga(A,"height",Ot)})},tb=If,nb=KS,T2=nf,rb=A=>{rn(A,"width")},Qf=A=>{const $=zs(A);Bh(A,E.some($),E.none()),rb(A)},B1=A=>{const $=Lg(A);Bh(A,E.some($),E.none()),rb(A)},ob=A=>{Tu(A,"width");const $=Yp(A),j=$.length>0?$:_f(A);ee(j,ue=>{Tu(ue,"width"),rb(ue)}),rb(A)},Yg={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},k2=()=>zt.fromTag("th"),P7=()=>zt.fromTag("td"),M7=()=>zt.fromTag("col"),U5=(A,$,j,ue)=>{const Me=zt.fromTag("tr");for(let ze=0;ze<A;ze++){const nt=ue<$||ze<j?k2():P7();ze<j&&dt(nt,"scope","row"),ue<$&&dt(nt,"scope","col"),Mt(nt,zt.fromTag("br")),Mt(Me,nt)}return Me},E7=A=>{const $=zt.fromTag("colgroup");return q(A,()=>Mt($,M7())),$},Hw=(A,$,j,ue)=>q(A,Me=>U5($,j,ue,Me)),_7=(A,$,j,ue,Me,ze=Yg)=>{const nt=zt.fromTag("table"),Ot=Me!=="cells";Dl(nt,ze.styles),mt(nt,ze.attributes),ze.colGroups&&Mt(nt,E7($));const _t=Math.min(A,j);if(Ot&&j>0){const Rr=zt.fromTag("thead");Mt(nt,Rr);const Ir=Hw(j,$,Me==="sectionCells"?_t:0,ue);on(Rr,Ir)}const Kt=zt.fromTag("tbody");Mt(nt,Kt);const Tn=Ot?A-_t:A,$r=Hw(Tn,$,Ot?0:j,ue);return on(Kt,$r),nt},R7=A=>A.dom.innerHTML,W5=A=>{const $=zt.fromTag("div"),j=zt.fromDom(A.dom.cloneNode(!0));return Mt($,j),R7($)},D7=(A,$)=>{A.selection.select($.dom,!0),A.selection.collapse(!0)},Y5=(A,$)=>{fi($,"td,th").each(N(D7,A))},$7=(A,$)=>{ee(Hi($,"tr"),j=>{N5(A,j.dom),ee(Hi(j,"th,td"),ue=>{Nw(A,ue.dom)})})},A2=A=>d(A)&&A.indexOf("%")!==-1,L7=(A,$,j,ue,Me)=>{const ze=Hd(A),nt={styles:ze,attributes:$c(A),colGroups:of(A)};return A.undoManager.ignore(()=>{const Ot=_7(j,$,Me,ue,tl(A),nt);dt(Ot,"data-mce-id","__mce");const _t=W5(Ot);A.insertContent(_t),A.addVisual()}),fi(WO(A),'table[data-mce-id="__mce"]').map(Ot=>(Kl(A)?B1(Ot):Ni(A)?ob(Ot):(Nf(A)||A2(ze.width))&&Qf(Ot),Wd(Ot),rn(Ot,"data-mce-id"),$7(A,Ot),Y5(A,Ot),Ot.dom)).getOrNull()},X5=(A,$,j,ue={})=>{const Me=ze=>k(ze)&&ze>0;if(Me($)&&Me(j)){const ze=ue.headerRows||0,nt=ue.headerColumns||0;return L7(A,j,$,nt,ze)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var Q1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Uw="x-tinymce/dom-table-",Ww=Uw+"rows",Yw=Uw+"columns",G5=A=>{const $=Q1.FakeClipboardItem(A);Q1.write([$])},Xw=A=>{var $;const j=($=Q1.read())!==null&&$!==void 0?$:[];return te(j,ue=>E.from(ue.getType(A)))},I7=A=>{Xw(A).isSome()&&Q1.clear()},P2=A=>{A.fold(N7,$=>G5({[Ww]:$}))},M2=()=>Xw(Ww),N7=()=>I7(Ww),Gw=A=>{A.fold(B7,$=>G5({[Yw]:$}))},j5=()=>Xw(Yw),B7=()=>I7(Yw),jw=A=>Yd(sf(A),Ph(A)).filter(XO),Q7=A=>Vy(sf(A),Ph(A)).filter(XO),F1=(A,$)=>{const j=Ph(A),ue=()=>jw(A).each(jn=>{Ac(jn,j).filter(Q(j)).each(io=>{const Lo=zt.fromText("");if(Ht(io,Lo),On(io),A.dom.isEmpty(A.getBody()))A.setContent(""),A.selection.setCursorLocation();else{const os=A.dom.createRng();os.setStart(Lo.dom,0),os.setEnd(Lo.dom,0),A.selection.setRng(os),A.nodeChanged()}})}),Me=jn=>jw(A).each(io=>{Ni(A)||Kl(A)||Nf(A)||Ac(io,j).each(os=>{jn==="relative"&&!tb(os)?Qf(os):jn==="fixed"&&!nb(os)?B1(os):jn==="responsive"&&!T2(os)&&ob(os),Wd(os),mv(A,os.dom,ps)})}),ze=jn=>Ac(jn,j),nt=jn=>Q7(A).bind(io=>ze(io).map(Lo=>jn(Lo,io))),Ot=(jn,io)=>{nt(Lo=>{A.formatter.toggle("tableclass",{value:io},Lo.dom),mv(A,Lo.dom,Fm)})},_t=(jn,io)=>{nt(Lo=>{const os=Bf(A),vl=Te(os,xi=>A.formatter.match("tablecellclass",{value:io},xi.dom))?A.formatter.remove:A.formatter.apply;ee(os,xi=>vl("tablecellclass",{value:io},xi.dom)),mv(A,Lo.dom,Fm)})},Kt=()=>{jw(A).each(jn=>{Ac(jn,j).each(io=>{Ho(io,"caption").fold(()=>{const Lo=zt.fromTag("caption");Mt(Lo,zt.fromText("Caption")),tn(io,Lo,0),A.selection.setCursorLocation(Lo.dom,0)},Lo=>{He("caption")(jn)&&kr("td",io).each(os=>A.selection.setCursorLocation(os.dom,0)),On(Lo)}),mv(A,io.dom,ps)})})},Tn=jn=>{A.focus()},ir=(jn,io=!1)=>nt((Lo,os)=>{const za=h1(Bf(A),Lo,os);jn(Lo,za,io).each(Tn)}),$r=()=>nt((jn,io)=>{const Lo=h1(Bf(A),jn,io),os=js(w,zt.fromDom(A.getDoc()),E.none());return w7(jn,Lo,os)}),Rr=()=>nt((jn,io)=>{const Lo=h1(Bf(A),jn,io);return S7(jn,Lo)}),Kn=(jn,io)=>io().each(Lo=>{const os=de(Lo,za=>Zr(za));nt((za,vl)=>{const xi=oi(zt.fromDom(A.getDoc())),vu=m1(Bf(A),vl,os,xi);jn(za,vu).each(Tn)})}),Ir=jn=>(io,Lo)=>pt(Lo,"type").each(os=>{ir(jn(os),Lo.no_events)});oe({mceTableSplitCells:()=>ir($.unmergeCells),mceTableMergeCells:()=>ir($.mergeCells),mceTableInsertRowBefore:()=>ir($.insertRowsBefore),mceTableInsertRowAfter:()=>ir($.insertRowsAfter),mceTableInsertColBefore:()=>ir($.insertColumnsBefore),mceTableInsertColAfter:()=>ir($.insertColumnsAfter),mceTableDeleteCol:()=>ir($.deleteColumn),mceTableDeleteRow:()=>ir($.deleteRow),mceTableCutCol:()=>Rr().each(jn=>{Gw(jn),ir($.deleteColumn)}),mceTableCutRow:()=>$r().each(jn=>{P2(jn),ir($.deleteRow)}),mceTableCopyCol:()=>Rr().each(jn=>Gw(jn)),mceTableCopyRow:()=>$r().each(jn=>P2(jn)),mceTablePasteColBefore:()=>Kn($.pasteColsBefore,j5),mceTablePasteColAfter:()=>Kn($.pasteColsAfter,j5),mceTablePasteRowBefore:()=>Kn($.pasteRowsBefore,M2),mceTablePasteRowAfter:()=>Kn($.pasteRowsAfter,M2),mceTableDelete:ue,mceTableCellToggleClass:_t,mceTableToggleClass:Ot,mceTableToggleCaption:Kt,mceTableSizingMode:(jn,io)=>Me(io),mceTableCellType:Ir(jn=>jn==="th"?$.makeCellsHeader:$.unmakeCellsHeader),mceTableColType:Ir(jn=>jn==="th"?$.makeColumnsHeader:$.unmakeColumnsHeader),mceTableRowType:Ir(jn=>{switch(jn){case"header":return $.makeRowsHeader;case"footer":return $.makeRowsFooter;default:return $.makeRowsBody}})},(jn,io)=>A.addCommand(io,jn)),A.addCommand("mceInsertTable",(jn,io)=>{X5(A,io.rows,io.columns,io.options)}),A.addCommand("mceTableApplyCellStyle",(jn,io)=>{const Lo=vl=>"tablecell"+vl.toLowerCase().replace("-","");if(!h(io))return;const os=Be(Bf(A),XO);if(os.length===0)return;const za=Ze(io,(vl,xi)=>A.formatter.has(Lo(xi))&&d(vl));et(za)||(oe(za,(vl,xi)=>{const vu=Lo(xi);ee(os,wv=>{vl===""?A.formatter.remove(vu,{value:null},wv.dom,!0):A.formatter.apply(vu,{value:vl},wv.dom)})}),ze(os[0]).each(vl=>mv(A,vl.dom,Fm)))})},F7=(A,$)=>{const j=Ph(A),ue=Me=>Vy(sf(A)).bind(ze=>Ac(ze,j).map(nt=>{const Ot=h1(Bf(A),nt,ze);return Me(nt,Ot)})).getOr("");oe({mceTableRowType:()=>ue($.getTableRowType),mceTableCellType:()=>ue($.getTableCellType),mceTableColType:()=>ue($.getTableColType)},(Me,ze)=>A.addQueryValueHandler(ze,Me))},qw=Du.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),V7=(A,$,j,ue)=>A.fold($,j,ue),z7=A=>A.fold(I,I,I),Z7=qw.before,q5=qw.on,H7=qw.after,Bl={before:Z7,on:q5,after:H7,cata:V7,getStart:z7},V1={create:(A,$)=>({selection:A,kill:$})},E2=(A,$)=>{const j=A.document.createRange();return j.selectNode($.dom),j},K5=(A,$)=>{const j=A.document.createRange();return Kw(j,$),j},Kw=(A,$)=>A.selectNodeContents($.dom),J5=(A,$)=>{$.fold(j=>{A.setStartBefore(j.dom)},(j,ue)=>{A.setStart(j.dom,ue)},j=>{A.setStartAfter(j.dom)})},ek=(A,$)=>{$.fold(j=>{A.setEndBefore(j.dom)},(j,ue)=>{A.setEnd(j.dom,ue)},j=>{A.setEndAfter(j.dom)})},pv=(A,$,j)=>{const ue=A.document.createRange();return J5(ue,$),ek(ue,j),ue},sb=(A,$,j,ue,Me)=>{const ze=A.document.createRange();return ze.setStart($.dom,j),ze.setEnd(ue.dom,Me),ze},U7=A=>({left:A.left,top:A.top,right:A.right,bottom:A.bottom,width:A.width,height:A.height}),W7=A=>{const $=A.getClientRects(),j=$.length>0?$[0]:A.getBoundingClientRect();return j.width>0||j.height>0?E.some(j).map(U7):E.none()},ab=Du.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Jw=(A,$,j)=>$(zt.fromDom(j.startContainer),j.startOffset,zt.fromDom(j.endContainer),j.endOffset),tk=(A,$)=>$.match({domRange:j=>({ltr:M(j),rtl:E.none}),relative:(j,ue)=>({ltr:wh(()=>pv(A,j,ue)),rtl:wh(()=>E.some(pv(A,ue,j)))}),exact:(j,ue,Me,ze)=>({ltr:wh(()=>sb(A,j,ue,Me,ze)),rtl:wh(()=>E.some(sb(A,Me,ze,j,ue)))})}),pl=(A,$)=>{const j=$.ltr();return j.collapsed?$.rtl().filter(Me=>Me.collapsed===!1).map(Me=>ab.rtl(zt.fromDom(Me.endContainer),Me.endOffset,zt.fromDom(Me.startContainer),Me.startOffset)).getOrThunk(()=>Jw(A,ab.ltr,j)):Jw(A,ab.ltr,j)},nk=(A,$)=>{const j=tk(A,$);return pl(A,j)},e3=(A,$)=>nk(A,$).match({ltr:(ue,Me,ze,nt)=>{const Ot=A.document.createRange();return Ot.setStart(ue.dom,Me),Ot.setEnd(ze.dom,nt),Ot},rtl:(ue,Me,ze,nt)=>{const Ot=A.document.createRange();return Ot.setStart(ze.dom,nt),Ot.setEnd(ue.dom,Me),Ot}});ab.ltr,ab.rtl;const z1={create:(A,$,j,ue)=>({start:A,soffset:$,finish:j,foffset:ue})},rk={create:(A,$,j,ue)=>({start:Bl.on(A,$),finish:Bl.on(j,ue)})},t3=(A,$)=>{const j=e3(A,$);return z1.create(zt.fromDom(j.startContainer),j.startOffset,zt.fromDom(j.endContainer),j.endOffset)},ib=rk.create,_2=(A,$,j,ue,Me,ze,nt)=>or(j,Me)&&ue===ze?E.none():ti(j,"td,th",$).bind(Ot=>ti(Me,"td,th",$).bind(_t=>Z1(A,$,Ot,_t,nt))),Z1=(A,$,j,ue,Me)=>or(j,ue)?E.none():ld(j,ue,$).bind(ze=>{const nt=ze.boxes.getOr([]);return nt.length>1?(Me(A,nt,ze.start,ze.finish),E.some(V1.create(E.some(ib(j,0,j,gn(j))),!0))):E.none()}),X7=(A,$,j,ue,Me)=>{const ze=nt=>(Me.clearBeforeUpdate(j),Me.selectRange(j,nt.boxes,nt.start,nt.finish),nt.boxes);return KO(ue,A,$,Me.firstSelectedSelector,Me.lastSelectedSelector).map(ze)},Xg=(A,$)=>({item:A,mode:$}),ok=(A,$,j,ue=Gg)=>A.property().parent($).map(Me=>Xg(Me,ue)),Gg=(A,$,j,ue=jg)=>j.sibling(A,$).map(Me=>Xg(Me,ue)),jg=(A,$,j,ue=jg)=>{const Me=A.property().children($);return j.first(Me).map(nt=>Xg(nt,ue))},n3=[{current:ok,next:Gg,fallback:E.none()},{current:Gg,next:jg,fallback:E.some(ok)},{current:jg,next:jg,fallback:E.some(Gg)}],sk=(A,$,j,ue,Me=n3)=>Y(Me,nt=>nt.current===j).bind(nt=>nt.current(A,$,ue,nt.next).orThunk(()=>nt.fallback.bind(Ot=>sk(A,$,Ot,ue)))),qg={left:()=>({sibling:(j,ue)=>j.query().prevSibling(ue),first:j=>j.length>0?E.some(j[j.length-1]):E.none()}),right:()=>({sibling:(j,ue)=>j.query().nextSibling(ue),first:j=>j.length>0?E.some(j[0]):E.none()})},Qh=(A,$,j,ue,Me,ze)=>sk(A,$,ue,Me).bind(Ot=>ze(Ot.item)?E.none():j(Ot.item)?E.some(Ot.item):Qh(A,Ot.item,j,Ot.mode,Me,ze)),lb=(A,$,j,ue)=>Qh(A,$,j,Gg,qg.left(),ue),H1=(A,$,j,ue)=>Qh(A,$,j,Gg,qg.right(),ue),o3=A=>$=>A.property().children($).length===0,Vm=(A,$,j)=>cb(A,$,o3(A),j),qd=(A,$,j)=>R2(A,$,o3(A),j),cb=lb,R2=H1,ub=qn(),s3=(A,$)=>Vm(ub,A,$),U1=(A,$)=>qd(ub,A,$),fb=(A,$,j)=>cb(ub,A,$,j),a3=(A,$,j)=>R2(ub,A,$,j),ak=(A,$,j)=>Fa(A,$,j).isSome(),Kg=Du.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),D2=(A,$,j)=>{const ue=A.getRect($),Me=A.getRect(j);return Me.right>ue.left&&Me.left<ue.right},G7=A=>ti(A,"tr"),Ei={...Kg,verify:(A,$,j,ue,Me,ze,nt)=>ti(ue,"td,th",nt).bind(Ot=>ti($,"td,th",nt).map(_t=>or(Ot,_t)?or(ue,Ot)&&gn(Ot)===Me?ze(_t):Kg.none("in same cell"):ka(G7,[Ot,_t]).fold(()=>D2(A,_t,Ot)?Kg.success():ze(_t),Kt=>ze(_t)))).getOr(Kg.none("default")),cata:(A,$,j,ue,Me)=>A.fold($,j,ue,Me)},S$=(A,$,j,ue)=>({parent:A,children:$,element:j,index:ue}),zm=A=>ao(A).bind($=>{const j=St($);return lk(j,A).map(ue=>S$($,j,A,ue))}),lk=(A,$)=>ve(A,N(or,$)),$2=He("br"),Jg=(A,$,j)=>$(A,j).bind(ue=>xt(ue)&&bt(ue).trim().length===0?Jg(ue,$,j):E.some(ue)),dc=(A,$,j)=>j.traverse($).orThunk(()=>Jg($,j.gather,A)).map(j.relative),W1=(A,$)=>Tt(A,$).filter($2).orThunk(()=>Tt(A,$-1).filter($2)),db=(A,$,j,ue)=>W1($,j).bind(Me=>ue.traverse(Me).fold(()=>Jg(Me,ue.gather,A).map(ue.relative),ze=>zm(ze).map(nt=>Bl.on(nt.parent,nt.index)))),Y1=(A,$,j,ue)=>($2($)?dc(A,$,ue):db(A,$,j,ue)).map(ze=>({start:ze,finish:ze})),l3=A=>Ei.cata(A,$=>E.none(),()=>E.none(),$=>E.some(p1($,0)),$=>E.some(p1($,gn($)))),X1=(A,$)=>({left:A.left,top:A.top+$,right:A.right,bottom:A.bottom+$}),vv=(A,$)=>({left:A.left,top:A.top-$,right:A.right,bottom:A.bottom-$}),Kd=(A,$,j)=>({left:A.left+$,top:A.top+j,right:A.right+$,bottom:A.bottom+j}),j7=A=>A.top,q7=A=>A.bottom,ep=(A,$,j)=>j>=0&&j<gn($)?A.getRangedRect($,j,$,j+1):j>0?A.getRangedRect($,j-1,$,j):E.none(),G1=A=>({left:A.left,top:A.top,right:A.right,bottom:A.bottom}),L2=(A,$)=>E.some(A.getRect($)),Fh=(A,$,j)=>ut($)?L2(A,$).map(G1):xt($)?ep(A,$,j).map(G1):E.none(),c3=(A,$)=>ut($)?L2(A,$).map(G1):xt($)?A.getRangedRect($,0,$,gn($)).map(G1):E.none(),Ql=5,Zm=100,dd=Du.generate([{none:[]},{retry:["caret"]}]),j1=(A,$)=>A.left<$.left||Math.abs($.right-A.left)<1||A.left>$.right,Qc=(A,$,j)=>wi($,y2).fold(F,ue=>c3(A,ue).exists(Me=>j1(j,Me))),gu=(A,$,j,ue,Me)=>{const ze=X1(Me,Ql);return Math.abs(j.bottom-ue.bottom)<1||j.top>Me.bottom?dd.retry(ze):j.top===Me.bottom?dd.retry(X1(Me,1)):Qc(A,$,Me)?dd.retry(Kd(ze,Ql,0)):dd.none()},hd={point:j7,adjuster:(A,$,j,ue,Me)=>{const ze=vv(Me,Ql);return Math.abs(j.top-ue.top)<1||j.bottom<Me.top?dd.retry(ze):j.bottom===Me.top?dd.retry(vv(Me,1)):Qc(A,$,Me)?dd.retry(Kd(ze,Ql,0)):dd.none()},move:vv,gather:s3},I2={point:q7,adjuster:gu,move:X1,gather:U1},ff=(A,$,j)=>A.elementFromPoint($,j).filter(ue=>wn(ue)==="table").isSome(),yv=(A,$,j,ue,Me)=>u3(A,$,j,$.move(ue,Ql),Me),u3=(A,$,j,ue,Me)=>Me===0?E.some(ue):ff(A,ue.left,$.point(ue))?yv(A,$,j,ue,Me-1):A.situsFromPoint(ue.left,$.point(ue)).bind(ze=>ze.start.fold(E.none,nt=>c3(A,nt).bind(Ot=>$.adjuster(A,nt,Ot,j,ue).fold(E.none,_t=>u3(A,$,j,_t,Me-1))).orThunk(()=>E.some(ue)),E.none)),K7=(A,$,j)=>A.point($)>j.getInnerHeight()?E.some(A.point($)-j.getInnerHeight()):A.point($)<0?E.some(-A.point($)):E.none(),ck=(A,$,j)=>{const ue=A.move(j,Ql),Me=u3($,A,j,ue,Zm).getOr(ue);return K7(A,Me,$).fold(()=>$.situsFromPoint(Me.left,A.point(Me)),ze=>($.scrollBy(0,ze),$.situsFromPoint(Me.left,A.point(Me)-ze)))},hb={tryUp:N(ck,hd),tryDown:N(ck,I2),getJumpSize:M(Ql)},uk=20,mb=(A,$,j)=>A.getSelection().bind(ue=>Y1($,ue.finish,ue.foffset,j).fold(()=>E.some(p1(ue.finish,ue.foffset)),Me=>{const ze=A.fromSitus(Me),nt=Ei.verify(A,ue.finish,ue.foffset,ze.finish,ze.foffset,j.failure,$);return l3(nt)})),N2=(A,$,j,ue,Me,ze)=>ze===0?E.none():e6(A,$,j,ue,Me).bind(nt=>{const Ot=A.fromSitus(nt),_t=Ei.verify(A,j,ue,Ot.finish,Ot.foffset,Me.failure,$);return Ei.cata(_t,()=>E.none(),()=>E.some(nt),Kt=>or(j,Kt)&&ue===0?J7(A,j,ue,vv,Me):N2(A,$,Kt,0,Me,ze-1),Kt=>or(j,Kt)&&ue===gn(Kt)?J7(A,j,ue,X1,Me):N2(A,$,Kt,gn(Kt),Me,ze-1))}),J7=(A,$,j,ue,Me)=>Fh(A,$,j).bind(ze=>fk(A,Me,ue(ze,hb.getJumpSize()))),fk=(A,$,j)=>{const ue=qp().browser;return ue.isChromium()||ue.isSafari()||ue.isFirefox()?$.retry(A,j):E.none()},e6=(A,$,j,ue,Me)=>Fh(A,j,ue).bind(ze=>fk(A,Me,ze)),w$=(A,$,j)=>mb(A,$,j).bind(ue=>N2(A,$,ue.element,ue.offset,j,uk).map(A.fromSitus)),dk=(A,$)=>ak(A,j=>ao(j).exists(ue=>or(ue,$))),Ps=(A,$,j,ue,Me)=>ti(ue,"td,th",$).bind(ze=>ti(ze,"table",$).bind(nt=>dk(Me,nt)?w$(A,$,j).bind(Ot=>ti(Ot.finish,"td,th",$).map(_t=>({start:ze,finish:_t,range:Ot}))):E.none())),Jd=(A,$,j,ue,Me,ze)=>ze(ue,$).orThunk(()=>Ps(A,$,j,ue,Me).map(nt=>{const Ot=nt.range;return V1.create(E.some(ib(Ot.start,Ot.soffset,Ot.finish,Ot.foffset)),!0)})),bv=(A,$)=>ti(A,"tr",$).bind(j=>ti(j,"table",$).bind(ue=>{const Me=Hi(ue,"tr");return or(j,Me[0])?fb(ue,ze=>Pn(ze).isSome(),$).map(ze=>{const nt=gn(ze);return V1.create(E.some(ib(ze,nt,ze,nt)),!0)}):E.none()})),f3=(A,$)=>ti(A,"tr",$).bind(j=>ti(j,"table",$).bind(ue=>{const Me=Hi(ue,"tr");return or(j,Me[Me.length-1])?a3(ue,ze=>_n(ze).isSome(),$).map(ze=>V1.create(E.some(ib(ze,0,ze,0)),!0)):E.none()})),hk=(A,$,j,ue,Me,ze,nt)=>Ps(A,j,ue,Me,ze).bind(Ot=>Z1($,j,Ot.start,Ot.finish,nt)),gb=A=>{let $=A;return{get:()=>$,set:Me=>{$=Me}}},t6=A=>{const $=gb(E.none()),j=()=>$.get().each(A);return{clear:()=>{j(),$.set(E.none())},isSet:()=>$.get().isSome(),get:()=>$.get(),set:Ot=>{j(),$.set(E.some(Ot))}}},q1=()=>{const A=t6(w);return{...A,on:j=>A.get().each(j)}},B2=(A,$)=>ti(A,"td,th",$),df=A=>xo(A).exists(Ud),cW=(A,$,j,ue)=>{const Me=q1(),ze=Me.clear,nt=Tn=>{Me.on(ir=>{ue.clearBeforeUpdate($),B2(Tn.target,j).each($r=>{ld(ir,$r,j).each(Rr=>{const Kn=Rr.boxes.getOr([]);if(Kn.length===1){const Ir=Kn[0],jn=$y(Ir)==="false",io=ed(Em(Tn.target),Ir,or);jn&&io&&(ue.selectRange($,Kn,Ir,Ir),A.selectContents(Ir))}else Kn.length>1&&(ue.selectRange($,Kn,Rr.start,Rr.finish),A.selectContents($r))})})})};return{clearstate:ze,mousedown:Tn=>{ue.clear($),B2(Tn.target,j).filter(df).each(Me.set)},mouseover:Tn=>{nt(Tn)},mouseup:Tn=>{nt(Tn),ze()}}},Q2={traverse:Ee,gather:U1,relative:Bl.before,retry:hb.tryDown,failure:Ei.failedDown},K1={traverse:Fe,gather:s3,relative:Bl.before,retry:hb.tryUp,failure:Ei.failedUp},tp=A=>$=>$===A,F2=tp(38),V2=tp(40),Ov=A=>A>=37&&A<=40,n6={isBackward:tp(37),isForward:tp(39)},mk={isBackward:tp(39),isForward:tp(37)},r6=A=>{const $=A!==void 0?A.dom:document,j=$.body.scrollLeft||$.documentElement.scrollLeft,ue=$.body.scrollTop||$.documentElement.scrollTop;return Ju(j,ue)},J1=(A,$,j)=>{const Me=(j!==void 0?j.dom:document).defaultView;Me&&Me.scrollBy(A,$)},Hm=Du.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),o6=A=>Hm.exact(A.start,A.soffset,A.finish,A.foffset),s6=A=>A.match({domRange:$=>zt.fromDom($.startContainer),relative:($,j)=>Bl.getStart($),exact:($,j,ue,Me)=>$}),gk=Hm.domRange,d3=Hm.relative,h3=Hm.exact,m3=A=>{const $=s6(A);return wr($)},z2=z1.create,np={domRange:gk,relative:d3,exact:h3,exactFromRange:o6,getWin:m3,range:z2},pk=(A,$,j)=>{var ue,Me;return E.from((Me=(ue=A.dom).caretPositionFromPoint)===null||Me===void 0?void 0:Me.call(ue,$,j)).bind(ze=>{if(ze.offsetNode===null)return E.none();const nt=A.dom.createRange();return nt.setStart(ze.offsetNode,ze.offset),nt.collapse(),E.some(nt)})},pb=(A,$,j)=>{var ue,Me;return E.from((Me=(ue=A.dom).caretRangeFromPoint)===null||Me===void 0?void 0:Me.call(ue,$,j))},g3=(()=>document.caretPositionFromPoint?pk:document.caretRangeFromPoint?pb:E.none)(),a6=(A,$,j)=>{const ue=zt.fromDom(A.document);return g3(ue,$,j).map(Me=>z1.create(zt.fromDom(Me.startContainer),Me.startOffset,zt.fromDom(Me.endContainer),Me.endOffset))},vb=(A,$)=>{const j=wn(A);return j==="input"?Bl.after(A):me(["br","img"],j)?$===0?Bl.before(A):Bl.after(A):Bl.on(A,$)},i6=(A,$)=>{const j=A.fold(Bl.before,vb,Bl.after),ue=$.fold(Bl.before,vb,Bl.after);return np.relative(j,ue)},Fr=(A,$,j,ue)=>{const Me=vb(A,$),ze=vb(j,ue);return np.relative(Me,ze)},rl=(A,$,j,ue)=>{const ze=Rn(A).dom.createRange();return ze.setStart(A.dom,$),ze.setEnd(j.dom,ue),ze},Um=(A,$,j,ue)=>{const Me=rl(A,$,j,ue),ze=or(A,j)&&$===ue;return Me.collapsed&&!ze},Qi=A=>E.from(A.getSelection()),Ff=(A,$)=>{Qi(A).each(j=>{j.removeAllRanges(),j.addRange($)})},Z2=(A,$,j,ue,Me)=>{const ze=sb(A,$,j,ue,Me);Ff(A,ze)},yb=(A,$,j,ue,Me,ze)=>{$.collapse(j.dom,ue),$.extend(Me.dom,ze)},eh=(A,$)=>nk(A,$).match({ltr:(j,ue,Me,ze)=>{Z2(A,j,ue,Me,ze)},rtl:(j,ue,Me,ze)=>{Qi(A).each(nt=>{if(nt.setBaseAndExtent)nt.setBaseAndExtent(j.dom,ue,Me.dom,ze);else if(nt.extend)try{yb(A,nt,j,ue,Me,ze)}catch{Z2(A,Me,ze,j,ue)}else Z2(A,Me,ze,j,ue)})}}),H2=(A,$,j,ue,Me)=>{const ze=Fr($,j,ue,Me);eh(A,ze)},U2=(A,$,j)=>{const ue=i6($,j);eh(A,ue)},e0=A=>{if(A.rangeCount>0){const $=A.getRangeAt(0),j=A.getRangeAt(A.rangeCount-1);return E.some(z1.create(zt.fromDom($.startContainer),$.startOffset,zt.fromDom(j.endContainer),j.endOffset))}else return E.none()},vk=A=>{if(A.anchorNode===null||A.focusNode===null)return e0(A);{const $=zt.fromDom(A.anchorNode),j=zt.fromDom(A.focusNode);return Um($,A.anchorOffset,j,A.focusOffset)?E.some(z1.create($,A.anchorOffset,j,A.focusOffset)):e0(A)}},bb=(A,$,j=!0)=>{const Me=(j?K5:E2)(A,$);Ff(A,Me)},p3=A=>Qi(A).filter($=>$.rangeCount>0).bind(vk),v3=A=>p3(A).map($=>np.exact($.start,$.soffset,$.finish,$.foffset)),l6=(A,$)=>{const j=e3(A,$);return W7(j)},th=(A,$,j)=>a6(A,$,j),W2=A=>{Qi(A).each($=>$.removeAllRanges())},t0=A=>({elementFromPoint:(jn,io)=>zt.fromPoint(zt.fromDom(A.document),jn,io),getRect:jn=>jn.dom.getBoundingClientRect(),getRangedRect:(jn,io,Lo,os)=>{const za=np.exact(jn,io,Lo,os);return l6(A,za)},getSelection:()=>v3(A).map(jn=>t3(A,jn)),fromSitus:jn=>{const io=np.relative(jn.start,jn.finish);return t3(A,io)},situsFromPoint:(jn,io)=>th(A,jn,io).map(Lo=>rk.create(Lo.start,Lo.soffset,Lo.finish,Lo.foffset)),clearSelection:()=>{W2(A)},collapseSelection:(jn=!1)=>{v3(A).each(io=>io.fold(Lo=>Lo.collapse(jn),(Lo,os)=>{const za=jn?Lo:os;U2(A,za,za)},(Lo,os,za,vl)=>{const xi=jn?Lo:za,vu=jn?os:vl;H2(A,xi,vu,xi,vu)}))},setSelection:jn=>{H2(A,jn.start,jn.soffset,jn.finish,jn.foffset)},setRelativeSelection:(jn,io)=>{U2(A,jn,io)},selectNode:jn=>{bb(A,jn,!1)},selectContents:jn=>{bb(A,jn)},getInnerHeight:()=>A.innerHeight,getScrollY:()=>r6(zt.fromDom(A.document)).top,scrollBy:(jn,io)=>{J1(jn,io,zt.fromDom(A.document))}}),rc=(A,$)=>({rows:A,cols:$}),ji=(A,$,j,ue)=>{const Me=t0(A),ze=cW(Me,$,j,ue);return{clearstate:ze.clearstate,mousedown:ze.mousedown,mouseover:ze.mouseover,mouseup:ze.mouseup}},Y2=A=>wi(A,lt).exists(Ud),Ob=(A,$)=>Y2(A)||Y2($),X2=(A,$,j,ue)=>{const Me=t0(A),ze=()=>(ue.clear($),E.none());return{keydown:(_t,Kt,Tn,ir,$r,Rr)=>{const Kn=_t.raw,Ir=Kn.which,jn=Kn.shiftKey===!0;return Dm($,ue.selectedSelector).fold(()=>(Ov(Ir)&&!jn&&ue.clearBeforeUpdate($),Ov(Ir)&&jn&&!Ob(Kt,ir)?E.none:V2(Ir)&&jn?N(hk,Me,$,j,Q2,ir,Kt,ue.selectRange):F2(Ir)&&jn?N(hk,Me,$,j,K1,ir,Kt,ue.selectRange):V2(Ir)?N(Jd,Me,j,Q2,ir,Kt,f3):F2(Ir)?N(Jd,Me,j,K1,ir,Kt,bv):E.none),Lo=>{const os=za=>()=>te(za,xi=>X7(xi.rows,xi.cols,$,Lo,ue)).fold(()=>sv($,ue.firstSelectedSelector,ue.lastSelectedSelector).map(xi=>{const vu=V2(Ir)||Rr.isForward(Ir)?Bl.after:Bl.before;return Me.setRelativeSelection(Bl.on(xi.first,0),vu(xi.table)),ue.clear($),V1.create(E.none(),!0)}),xi=>E.some(V1.create(E.none(),!0)));return Ov(Ir)&&jn&&!Ob(Kt,ir)?E.none:V2(Ir)&&jn?os([rc(1,0)]):F2(Ir)&&jn?os([rc(-1,0)]):Rr.isBackward(Ir)&&jn?os([rc(0,-1),rc(-1,0)]):Rr.isForward(Ir)&&jn?os([rc(0,1),rc(1,0)]):Ov(Ir)&&!jn?ze:E.none})()},keyup:(_t,Kt,Tn,ir,$r)=>Dm($,ue.selectedSelector).fold(()=>{const Rr=_t.raw,Kn=Rr.which;return Rr.shiftKey===!0&&Ov(Kn)&&Ob(Kt,ir)?_2($,j,Kt,Tn,ir,$r,ue.selectRange):E.none()},E.none)}},xb=(A,$,j,ue)=>{const Me=t0(A);return(ze,nt)=>{ue.clearBeforeUpdate($),ld(ze,nt,j).each(Ot=>{const _t=Ot.boxes.getOr([]);ue.selectRange($,_t,Ot.start,Ot.finish),Me.selectContents(nt),Me.collapseSelection()})}},Sb=(A,$)=>{const j=Pt(A,$);return j===void 0||j===""?[]:j.split(" ")},n0=(A,$,j)=>{const Me=Sb(A,$).concat([j]);return dt(A,$,Me.join(" ")),!0},yk=(A,$,j)=>{const ue=Be(Sb(A,$),Me=>Me!==j);return ue.length>0?dt(A,$,ue.join(" ")):rn(A,$),!1},wb=A=>A.dom.classList!==void 0,bk=A=>Sb(A,"class"),Ok=(A,$)=>n0(A,"class",$),xk=(A,$)=>yk(A,"class",$),Vf=(A,$)=>{wb(A)?A.dom.classList.add($):Ok(A,$)},hc=A=>{(wb(A)?A.dom.classList:bk(A)).length===0&&rn(A,"class")},md=(A,$)=>{wb(A)?A.dom.classList.remove($):xk(A,$),hc(A)},pu=(A,$)=>wb(A)&&A.dom.classList.contains($),Cb=(A,$)=>{ee($,j=>{md(A,j)})},G2=A=>$=>{Vf($,A)},Sk=A=>$=>{Cb($,A)},Wm={byClass:A=>{const $=G2(A.selected),j=Sk([A.selected,A.lastSelected,A.firstSelected]),ue=ze=>{const nt=Hi(ze,A.selectedSelector);ee(nt,j)};return{clearBeforeUpdate:ue,clear:ue,selectRange:(ze,nt,Ot,_t)=>{ue(ze),ee(nt,$),Vf(Ot,A.firstSelected),Vf(_t,A.lastSelected)},selectedSelector:A.selectedSelector,firstSelectedSelector:A.firstSelectedSelector,lastSelectedSelector:A.lastSelectedSelector}},byAttr:(A,$,j)=>{const ue=_t=>{rn(_t,A.selected),rn(_t,A.firstSelected),rn(_t,A.lastSelected)},Me=_t=>{dt(_t,A.selected,"1")},ze=_t=>{nt(_t),j()},nt=_t=>{const Kt=Hi(_t,`${A.selectedSelector},${A.firstSelectedSelector},${A.lastSelectedSelector}`);ee(Kt,ue)};return{clearBeforeUpdate:nt,clear:ze,selectRange:(_t,Kt,Tn,ir)=>{ze(_t),ee(Kt,Me),dt(Tn,A.firstSelected,"1"),dt(ir,A.lastSelected,"1"),$(Kt,Tn,ir)},selectedSelector:A.selectedSelector,firstSelectedSelector:A.firstSelectedSelector,lastSelectedSelector:A.lastSelectedSelector}}},kb=(A,$,j,ue)=>{switch(A.tag){case"none":return $();case"single":return ue(A.element);case"multiple":return j(A.elements)}},y3=()=>({tag:"none"}),wk=A=>({tag:"multiple",elements:A}),Ck=A=>({tag:"single",element:A}),b3=(A,$,j)=>({get:()=>aw(A(),j).fold(()=>$().fold(y3,Ck),wk)}),j2=(A,$)=>{const j=A.slice(0,$[$.length-1].row+1),ue=si(j);return Le(ue,Me=>{const ze=Me.cells.slice(0,$[$.length-1].column+1);return de(ze,nt=>nt.element)})},Aa=(A,$)=>{const j=A.slice($[0].row+$[0].rowspan-1,A.length),ue=si(j);return Le(ue,Me=>{const ze=Me.cells.slice($[0].column+$[0].colspan-1,Me.cells.length);return de(ze,nt=>nt.element)})},Ym=(A,$,j)=>{const ue=ms.fromTable(A);return Fg(ue,$).map(ze=>{const nt=S1(ue,j,!1),{rows:Ot}=Wi(nt),_t=j2(Ot,ze),Kt=Aa(Ot,ze);return{upOrLeftCells:_t,downOrRightCells:Kt}})},Tk=(A,$,j,ue,Me,ze,nt)=>({target:A,x:$,y:j,stop:ue,prevent:Me,kill:ze,raw:nt}),O3=A=>{const $=zt.fromDom(Dr(A).getOr(A.target)),j=()=>A.stopPropagation(),ue=()=>A.preventDefault(),Me=C(ue,j);return Tk($,A.clientX,A.clientY,j,ue,Me,A)},x3=(A,$)=>j=>{A(j)&&$(O3(j))},xv=(A,$,j,ue,Me)=>{const ze=x3(j,ue);return A.dom.addEventListener($,ze,Me),{unbind:N(w3,A,$,ze,Me)}},S3=(A,$,j,ue)=>xv(A,$,j,ue,!1),w3=(A,$,j,ue)=>{A.dom.removeEventListener($,j,ue)},u6=B,r0=(A,$,j)=>S3(A,$,u6,j),o0=O3,C3=A=>!pu(zt.fromDom(A.target),"ephox-snooker-resizer-bar"),T3=(A,$)=>{const j=b3(()=>zt.fromDom(A.getBody()),()=>Vy(sf(A),Ph(A)),av.selectedSelector),ue=(_t,Kt,Tn)=>{Ac(Kt).each($r=>{const Rr=Ii(A),Kn=js(w,zt.fromDom(A.getDoc()),Rr),Ir=Bf(A),jn=Ym($r,{selection:Ir},Kn);b7(A,_t,Kt,Tn,jn)})},Me=()=>O7(A),ze=Wm.byAttr(av,ue,Me);return A.on("init",_t=>{const Kt=A.getWin(),Tn=WO(A),ir=Ph(A),$r=()=>{const xa=A.selection,Fc=zt.fromDom(xa.getStart()),oc=zt.fromDom(xa.getEnd());ka(Ac,[Fc,oc]).fold(()=>ze.clear(Tn),w)},Rr=ji(Kt,Tn,ir,ze),Kn=X2(Kt,Tn,ir,ze),Ir=xb(Kt,Tn,ir,ze),jn=xa=>xa.raw.shiftKey===!0;A.on("TableSelectorChange",xa=>Ir(xa.start,xa.finish));const io=(xa,Fc)=>{jn(xa)&&(Fc.kill&&xa.kill(),Fc.selection.each(oc=>{const gf=np.relative(oc.start,oc.finish),Iu=e3(Kt,gf);A.selection.setRng(Iu)}))},Lo=xa=>{const Fc=o0(xa);if(Fc.raw.shiftKey&&Ov(Fc.raw.which)){const oc=A.selection.getRng(),gf=zt.fromDom(oc.startContainer),Iu=zt.fromDom(oc.endContainer);Kn.keyup(Fc,gf,oc.startOffset,Iu,oc.endOffset).each(ap=>{io(Fc,ap)})}},os=xa=>{const Fc=o0(xa);$.hide();const oc=A.selection.getRng(),gf=zt.fromDom(oc.startContainer),Iu=zt.fromDom(oc.endContainer),ap=jS(n6,mk)(zt.fromDom(A.selection.getStart()));Kn.keydown(Fc,gf,oc.startOffset,Iu,oc.endOffset,ap).each(tu=>{io(Fc,tu)}),$.show()},za=xa=>xa.button===0,vl=xa=>xa.buttons===void 0?!0:(xa.buttons&1)!==0,xi=xa=>{Rr.clearstate()},vu=xa=>{za(xa)&&C3(xa)&&Rr.mousedown(o0(xa))},wv=xa=>{vl(xa)&&C3(xa)&&Rr.mouseover(o0(xa))},Cv=xa=>{za(xa)&&C3(xa)&&Rr.mouseup(o0(xa))},nx=(()=>{const xa=gb(zt.fromDom(Tn)),Fc=gb(0);return{touchEnd:gf=>{const Iu=zt.fromDom(gf.target);if(He("td")(Iu)||He("th")(Iu)){const ap=xa.get(),tu=Fc.get();or(ap,Iu)&&gf.timeStamp-tu<300&&(gf.preventDefault(),Ir(Iu,Iu))}xa.set(Iu),Fc.set(gf.timeStamp)}}})();A.on("dragstart",xi),A.on("mousedown",vu),A.on("mouseover",wv),A.on("mouseup",Cv),A.on("touchend",nx.touchEnd),A.on("keyup",Lo),A.on("keydown",os),A.on("NodeChange",$r)}),A.on("PreInit",()=>{A.serializer.addTempAttr(av.firstSelected),A.serializer.addTempAttr(av.lastSelected)}),{getSelectedCells:()=>kb(j.get(),M([]),_t=>de(_t,Kt=>Kt.dom),_t=>[_t.dom]),clearSelectedCells:_t=>ze.clear(zt.fromDom(_t))}},gd=A=>{let $=[];return{bind:ze=>{if(ze===void 0)throw new Error("Event bind error: undefined handler");$.push(ze)},unbind:ze=>{$=Be($,nt=>nt!==ze)},trigger:(...ze)=>{const nt={};ee(A,(Ot,_t)=>{nt[Ot]=ze[_t]}),ee($,Ot=>{Ot(nt)})}}},rp=A=>{const $=Se(A,ue=>({bind:ue.bind,unbind:ue.unbind})),j=Se(A,ue=>ue.trigger);return{registry:$,trigger:j}},f6=(A,$)=>{let j=null;const ue=()=>{g(j)||(clearTimeout(j),j=null)};return{cancel:ue,throttle:(...ze)=>{ue(),j=setTimeout(()=>{j=null,A.apply(null,ze)},$)}}},Ab=A=>A.slice(0).sort(),d6=(A,$)=>{throw new Error("All required keys ("+Ab(A).join(", ")+") were not specified. Specified keys were: "+Ab($).join(", ")+".")},Lu=A=>{throw new Error("Unsupported keys for object: "+Ab(A).join(", "))},mc=(A,$)=>{if(!c($))throw new Error("The "+A+" fields must be an array. Was: "+$+".");ee($,j=>{if(!d(j))throw new Error("The value "+j+" in the "+A+" fields was not a string.")})},Sv=(A,$)=>{throw new Error("All values need to be of type: "+$+". Keys ("+Ab(A).join(", ")+") were not.")},C$=A=>{const $=Ab(A);Y($,(ue,Me)=>Me<$.length-1&&ue===$[Me+1]).each(ue=>{throw new Error("The field: "+ue+" occurs more than once in the combined fields: ["+$.join(", ")+"].")})},kk=(A,$)=>h6(A,$,{validate:T,label:"function"}),h6=(A,$,j)=>{if($.length===0)throw new Error("You must specify at least one required field.");return mc("required",$),C$($),ue=>{const Me=se(ue);Te($,Ot=>me(Me,Ot))||d6($,Me),A($,Me);const nt=Be($,Ot=>!j.validate(ue[Ot],Ot));return nt.length>0&&Sv(nt,j.label),ue}},Cs=(A,$)=>{const j=Be($,ue=>!me(A,ue));j.length>0&&Lu(j)},k3=A=>kk(Cs,A),Ak=k3(["compare","extract","mutate","sink"]),A3=k3(["element","start","stop","destroy"]),m6=k3(["forceDrop","drop","move","delayDrop"]),g6=()=>{let A=E.none();const $=()=>{A=E.none()},j=(ze,nt)=>{const Ot=A.map(_t=>ze.compare(_t,nt));return A=E.some(nt),Ot},ue=(ze,nt)=>{nt.extract(ze).each(_t=>{j(nt,_t).each(Tn=>{Me.trigger.move(Tn)})})},Me=rp({move:gd(["info"])});return{onEvent:ue,reset:$,events:Me.registry}},Pk=()=>{const A=rp({move:gd(["info"])});return{onEvent:w,reset:w,events:A.registry}},p6=()=>{const A=Pk(),$=g6();let j=A;return{on:()=>{j.reset(),j=$},off:()=>{j.reset(),j=A},isOn:()=>j===$,onEvent:(Ot,_t)=>{j.onEvent(Ot,_t)},events:$.events}},Yr=(A,$,j)=>{let ue=!1;const Me=rp({start:gd([]),stop:gd([])}),ze=p6(),nt=()=>{Kn.stop(),ze.isOn()&&(ze.off(),Me.trigger.stop())},Ot=f6(nt,200),_t=jn=>{Kn.start(jn),ze.on(),Me.trigger.start()},Kt=jn=>{Ot.cancel(),ze.onEvent(jn,$)};ze.events.move.bind(jn=>{$.mutate(A,jn.info)});const Tn=()=>{ue=!0},ir=()=>{ue=!1},$r=()=>ue,Rr=jn=>(...io)=>{ue&&jn.apply(null,io)},Kn=$.sink(m6({forceDrop:nt,drop:Rr(nt),move:Rr(Kt),delayDrop:Rr(Ot.throttle)}),j),Ir=()=>{Kn.destroy()};return{element:Kn.element,go:_t,on:Tn,off:ir,isActive:$r,destroy:Ir,events:Me.registry}},op=A=>{const $=A.replace(/\./g,"-");return{resolve:ue=>$+"-"+ue}},Pb=op("ephox-dragster").resolve,Mb=A=>{const $={layerClass:Pb("blocker"),...A},j=zt.fromTag("div");return dt(j,"role","presentation"),Dl(j,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Vf(j,Pb("blocker")),Vf(j,$.layerClass),{element:M(j),destroy:()=>{On(j)}}};var y6=Ak({compare:(A,$)=>Ju($.left-A.left,$.top-A.top),extract:A=>E.some(Ju(A.x,A.y)),sink:(A,$)=>{const j=Mb($),ue=r0(j.element(),"mousedown",A.forceDrop),Me=r0(j.element(),"mouseup",A.drop),ze=r0(j.element(),"mousemove",A.move),nt=r0(j.element(),"mouseout",A.delayDrop),Ot=()=>{j.destroy(),Me.unbind(),ze.unbind(),nt.unbind(),ue.unbind()},_t=Tn=>{Mt(Tn,j.element())},Kt=()=>{On(j.element())};return A3({element:j.element,start:_t,stop:Kt,destroy:Ot})},mutate:(A,$)=>{A.mutate($.left,$.top)}});const Ek=(A,$={})=>{var j;const ue=(j=$.mode)!==null&&j!==void 0?j:y6;return Yr(A,ue,$)},Xm=op("ephox-snooker").resolve,_k=()=>{const A=rp({drag:gd(["xDelta","yDelta"])});return{mutate:(j,ue)=>{A.trigger.drag(j,ue)},events:A.registry}},b6=()=>{const A=rp({drag:gd(["xDelta","yDelta","target"])});let $=E.none();const j=_k();return j.events.drag.bind(ze=>{$.each(nt=>{A.trigger.drag(ze.xDelta,ze.yDelta,nt)})}),{assign:ze=>{$=E.some(ze)},get:()=>$,mutate:j.mutate,events:A.registry}},Eb=(A,$,j,ue,Me)=>{const ze=zt.fromTag("div");return Dl(ze,{position:"absolute",left:$-ue/2+"px",top:j+"px",height:Me+"px",width:ue+"px"}),mt(ze,{"data-column":A,role:"presentation"}),ze},O6=(A,$,j,ue,Me)=>{const ze=zt.fromTag("div");return Dl(ze,{position:"absolute",left:$+"px",top:j-Me/2+"px",height:Me+"px",width:ue+"px"}),mt(ze,{"data-row":A,role:"presentation"}),ze},Rk=Xm("resizer-bar"),P3=Xm("resizer-rows"),Dk=Xm("resizer-cols"),q2=7,x6=(A,$)=>Le(A.all,(j,ue)=>$(j.element)?[ue]:[]),S6=(A,$)=>{const j=[];return q(A.grid.columns,ue=>{ms.getColumnAt(A,ue).map(ze=>ze.element).forall($)&&j.push(ue)}),Be(j,ue=>{const Me=ms.filterItems(A,ze=>ze.column===ue);return Te(Me,ze=>$(ze.element))})},s0=A=>{const $=Hi(A.parent(),"."+Rk);ee($,On)},M3=(A,$,j)=>{const ue=A.origin();ee($,Me=>{Me.each(ze=>{const nt=j(ue,ze);Vf(nt,Rk),Mt(A.parent(),nt)})})},$k=(A,$,j,ue)=>{M3(A,$,(Me,ze)=>{const nt=Eb(ze.col,ze.x-Me.left,j.top-Me.top,q2,ue);return Vf(nt,Dk),nt})},w6=(A,$,j,ue)=>{M3(A,$,(Me,ze)=>{const nt=O6(ze.row,j.left-Me.left,ze.y-Me.top,ue,q2);return Vf(nt,P3),nt})},C6=(A,$,j,ue,Me)=>{const ze=Pu(j),nt=$.isResizable,Ot=ue.length>0?Xr.positions(ue,j):[],_t=Ot.length>0?x6(A,nt):[],Kt=Be(Ot,(Rr,Kn)=>ae(_t,Ir=>Kn===Ir));w6($,Kt,ze,Df(j));const Tn=Me.length>0?bi.positions(Me,j):[],ir=Tn.length>0?S6(A,nt):[],$r=Be(Tn,(Rr,Kn)=>ae(ir,Ir=>Kn===Ir));$k($,$r,ze,Am(j))},K2=(A,$)=>{if(s0(A),A.isResizable($)){const j=ms.fromTable($),ue=ev(j),Me=Tm(j);C6(j,A,$,ue,Me)}},Vh=(A,$)=>{const j=Hi(A.parent(),"."+Rk);ee(j,$)},J2=A=>{Vh(A,$=>{Ga($,"display","none")})},Ys=A=>{Vh(A,$=>{Ga($,"display","block")})},T6=A=>pu(A,P3),Gm=A=>pu(A,Dk),zh=Xm("resizer-bar-dragging"),ex=A=>{const $=b6(),j=Ek($,{});let ue=E.none();const Me=(Kn,Ir)=>E.from(Pt(Kn,Ir));$.events.drag.bind(Kn=>{Me(Kn.target,"data-row").each(Ir=>{const jn=Mf(Kn.target,"top");Ga(Kn.target,"top",jn+Kn.yDelta+"px")}),Me(Kn.target,"data-column").each(Ir=>{const jn=Mf(Kn.target,"left");Ga(Kn.target,"left",jn+Kn.xDelta+"px")})});const ze=(Kn,Ir)=>{const jn=Mf(Kn,Ir),io=$a(Kn,"data-initial-"+Ir,0);return jn-io};j.events.stop.bind(()=>{$.get().each(Kn=>{ue.each(Ir=>{Me(Kn,"data-row").each(jn=>{const io=ze(Kn,"top");rn(Kn,"data-initial-top"),Rr.trigger.adjustHeight(Ir,io,parseInt(jn,10))}),Me(Kn,"data-column").each(jn=>{const io=ze(Kn,"left");rn(Kn,"data-initial-left"),Rr.trigger.adjustWidth(Ir,io,parseInt(jn,10))}),K2(A,Ir)})})});const nt=(Kn,Ir)=>{Rr.trigger.startAdjust(),$.assign(Kn),dt(Kn,"data-initial-"+Ir,Mf(Kn,Ir)),Vf(Kn,zh),Ga(Kn,"opacity","0.2"),j.go(A.parent())},Ot=r0(A.parent(),"mousedown",Kn=>{T6(Kn.target)&&nt(Kn.target,"top"),Gm(Kn.target)&&nt(Kn.target,"left")}),_t=Kn=>or(Kn,A.view()),Kt=Kn=>ti(Kn,"table",_t).filter(Ud),Tn=r0(A.view(),"mouseover",Kn=>{Kt(Kn.target).fold(()=>{sa(Kn.target)&&s0(A)},Ir=>{j.isActive()&&(ue=E.some(Ir),K2(A,Ir))})}),ir=()=>{Ot.unbind(),Tn.unbind(),j.destroy(),s0(A)},$r=Kn=>{K2(A,Kn)},Rr=rp({adjustHeight:gd(["table","delta","row"]),adjustWidth:gd(["table","delta","column"]),startAdjust:gd([])});return{destroy:ir,refresh:$r,on:j.on,off:j.off,hideBars:N(J2,A),showBars:N(Ys,A),events:Rr.registry}},tx={create:(A,$,j)=>{const ue=Xr,Me=bi,ze=ex(A),nt=rp({beforeResize:gd(["table","type"]),afterResize:gd(["table","type"]),startDrag:gd([])});return ze.events.adjustHeight.bind(Ot=>{const _t=Ot.table;nt.trigger.beforeResize(_t,"row");const Kt=ue.delta(Ot.delta,_t);bw(_t,Kt,Ot.row,ue),nt.trigger.afterResize(_t,"row")}),ze.events.startAdjust.bind(Ot=>{nt.trigger.startDrag()}),ze.events.adjustWidth.bind(Ot=>{const _t=Ot.table;nt.trigger.beforeResize(_t,"col");const Kt=Me.delta(Ot.delta,_t),Tn=j(_t);Wy(_t,Kt,Ot.column,$,Tn),nt.trigger.afterResize(_t,"col")}),{on:ze.on,off:ze.off,refreshBars:ze.refresh,hideBars:ze.hideBars,showBars:ze.showBars,destroy:ze.destroy,events:nt.registry}}},E3={only:(A,$)=>{const j=gt(A)?sr(A):A;return{parent:M(j),view:M(A),origin:M(Ju(0,0)),isResizable:$}},detached:(A,$,j)=>{const ue=()=>Pu($);return{parent:M($),view:M(A),origin:ue,isResizable:j}},body:(A,$,j)=>({parent:M($),view:M(A),origin:M(Ju(0,0)),isResizable:j})},k6=()=>{const A=zt.fromTag("div");return Dl(A,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Mt($i(),A),A},_3=(A,$)=>A.inline?E3.body(zt.fromDom(A.getBody()),k6(),$):E3.only(zt.fromDom(A.getDoc()),$),A6=(A,$)=>{A.inline&&On($.parent())},Ms=A=>O(A)&&A.nodeName==="TABLE",mf="bar-",sp=A=>Pt(A,"data-mce-resize")!=="false",P6=A=>{const $=ms.fromTable(A);ms.hasColumns($)||ee(_f(A),j=>{const ue=Ui(j,"width");Ga(j,"width",ue),rn(j,"width")})},i0=A=>{const $=q1(),j=q1(),ue=q1();let Me,ze;const nt=Kn=>Bc(A,Kn),Ot=()=>ql(A)?fw():h5(),_t=Kn=>y1(Kn).columns,Kt=(Kn,Ir,jn)=>{const io=Wc(Ir,"e");if(ze===""&&Qf(Kn),jn!==Me&&ze!==""){Ga(Kn,"width",ze);const Lo=Ot(),os=nt(Kn),za=ql(A)||io?_t(Kn)-1:0;Wy(Kn,jn-Me,za,Lo,os)}else if(YO(ze)){const Lo=parseFloat(ze.replace("%","")),os=jn*Lo/Me;Ga(Kn,"width",os+"%")}Ly(ze)&&P6(Kn)},Tn=()=>{j.on(Kn=>{Kn.destroy()}),ue.on(Kn=>{A6(A,Kn)})};return A.on("init",()=>{const Kn=_3(A,sp);if(ue.set(Kn),qc(A)&&Jl(A)){const Ir=Ot(),jn=tx.create(Kn,Ir,nt);jn.on(),jn.events.startDrag.bind(io=>{$.set(A.selection.getRng())}),jn.events.beforeResize.bind(io=>{const Lo=io.table.dom;Bw(A,Lo,Ig(Lo),Ng(Lo),mf+io.type)}),jn.events.afterResize.bind(io=>{const Lo=io.table,os=Lo.dom;Wd(Lo),$.on(za=>{A.selection.setRng(za),A.focus()}),x7(A,os,Ig(os),Ng(os),mf+io.type),A.undoManager.add()}),j.set(jn)}}),A.on("ObjectResizeStart",Kn=>{const Ir=Kn.target;if(Ms(Ir)){const jn=zt.fromDom(Ir);ee(A.dom.select(".mce-clonedresizable"),io=>{A.dom.addClass(io,"mce-"+Dc(A)+"-columns")}),!nb(jn)&&Kl(A)?B1(jn):!tb(jn)&&Nf(A)&&Qf(jn),T2(jn)&&Qd(Kn.origin,mf)&&Qf(jn),Me=Kn.width,ze=Ni(A)?"":a5(A,Ir).getOr("")}}),A.on("ObjectResized",Kn=>{const Ir=Kn.target;if(Ms(Ir)){const jn=zt.fromDom(Ir),io=Kn.origin;Qd(io,"corner-")&&Kt(jn,io,Kn.width),Wd(jn),mv(A,jn.dom,Fm)}}),A.on("SwitchMode",()=>{j.on(Kn=>{A.mode.isReadOnly()?Kn.hideBars():Kn.showBars()})}),A.on("dragstart dragend",Kn=>{j.on(Ir=>{Kn.type==="dragstart"?(Ir.hideBars(),Ir.off()):(Ir.on(),Ir.showBars())})}),A.on("remove",()=>{Tn()}),{refresh:Kn=>{j.on(Ir=>Ir.refreshBars(zt.fromDom(Kn)))},hide:()=>{j.on(Kn=>Kn.hideBars())},show:()=>{j.on(Kn=>Kn.showBars())}}},Qs=A=>{Gi(A);const $=i0(A),j=T3(A,$),ue=w2(A,$,j);return F1(A,ue),F7(A,ue),G8(A,ue),{getSelectedCells:j.getSelectedCells,clearSelectedCells:j.clearSelectedCells}},M6=A=>({table:Qs(A)});var R3=()=>{t.add("dom",M6)};R3()})();(function(){const t=Object.getPrototypeOf,e=(o,u,p)=>{var S;return p(o,u.prototype)?!0:((S=o.constructor)===null||S===void 0?void 0:S.name)===u.name},r=o=>{const u=typeof o;return o===null?"null":u==="object"&&Array.isArray(o)?"array":u==="object"&&e(o,String,(p,S)=>S.isPrototypeOf(p))?"string":u},a=o=>u=>r(u)===o,i=o=>u=>typeof u===o,f=o=>u=>o===u,d=(o,u)=>c(o)&&e(o,u,(p,S)=>t(p)===S),h=a("string"),c=a("object"),g=o=>d(o,Object),v=a("array"),y=f(null),b=i("boolean"),O=f(void 0),T=o=>o==null,k=o=>!T(o),w=i("function"),C=i("number"),_=(o,u)=>{if(v(o)){for(let p=0,S=o.length;p<S;++p)if(!u(o[p]))return!1;return!0}return!1},M=()=>{},I=o=>()=>o(),V=(o,u)=>(...p)=>o(u.apply(null,p)),N=(o,u)=>p=>o(u(p)),Q=o=>()=>o,z=o=>o,U=(o,u)=>o===u;function F(o,...u){return(...p)=>{const S=u.concat(p);return o.apply(null,S)}}const B=o=>u=>!o(u),E=o=>()=>{throw new Error(o)},W=o=>o(),X=Q(!1),ie=Q(!0);class L{constructor(u,p){this.tag=u,this.value=p}static some(u){return new L(!0,u)}static none(){return L.singletonNone}fold(u,p){return this.tag?p(this.value):u()}isSome(){return this.tag}isNone(){return!this.tag}map(u){return this.tag?L.some(u(this.value)):L.none()}bind(u){return this.tag?u(this.value):L.none()}exists(u){return this.tag&&u(this.value)}forall(u){return!this.tag||u(this.value)}filter(u){return!this.tag||u(this.value)?this:L.none()}getOr(u){return this.tag?this.value:u}or(u){return this.tag?this:u}getOrThunk(u){return this.tag?this.value:u()}orThunk(u){return this.tag?this:u()}getOrDie(u){if(this.tag)return this.value;throw new Error(u??"Called getOrDie on None")}static from(u){return k(u)?L.some(u):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(u){this.tag&&u(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const me=Array.prototype.slice,ae=Array.prototype.indexOf,q=Array.prototype.push,de=(o,u)=>ae.call(o,u),ee=(o,u)=>{const p=de(o,u);return p===-1?L.none():L.some(p)},xe=(o,u)=>de(o,u)>-1,we=(o,u)=>{for(let p=0,S=o.length;p<S;p++){const R=o[p];if(u(R,p))return!0}return!1},Be=(o,u)=>{const p=[];for(let S=0;S<o;S++)p.push(u(S));return p},pe=(o,u)=>{const p=[];for(let S=0;S<o.length;S+=u){const R=me.call(o,S,S+u);p.push(R)}return p},ne=(o,u)=>{const p=o.length,S=new Array(p);for(let R=0;R<p;R++){const H=o[R];S[R]=u(H,R)}return S},le=(o,u)=>{for(let p=0,S=o.length;p<S;p++){const R=o[p];u(R,p)}},Y=(o,u)=>{for(let p=o.length-1;p>=0;p--){const S=o[p];u(S,p)}},ve=(o,u)=>{const p=[],S=[];for(let R=0,H=o.length;R<H;R++){const K=o[R];(u(K,R)?p:S).push(K)}return{pass:p,fail:S}},Oe=(o,u)=>{const p=[];for(let S=0,R=o.length;S<R;S++){const H=o[S];u(H,S)&&p.push(H)}return p},Le=(o,u,p)=>(Y(o,(S,R)=>{p=u(p,S,R)}),p),Te=(o,u,p)=>(le(o,(S,R)=>{p=u(p,S,R)}),p),De=(o,u,p)=>{for(let S=0,R=o.length;S<R;S++){const H=o[S];if(u(H,S))return L.some(H);if(p(H,S))break}return L.none()},Ve=(o,u)=>De(o,u,X),_e=(o,u)=>{for(let p=0,S=o.length;p<S;p++){const R=o[p];if(u(R,p))return L.some(p)}return L.none()},Ie=o=>{const u=[];for(let p=0,S=o.length;p<S;++p){if(!v(o[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+o);q.apply(u,o[p])}return u},re=(o,u)=>Ie(ne(o,u)),be=(o,u)=>{for(let p=0,S=o.length;p<S;++p){const R=o[p];if(u(R,p)!==!0)return!1}return!0},te=o=>{const u=me.call(o,0);return u.reverse(),u},se=(o,u)=>Oe(o,p=>!xe(u,p)),fe=(o,u)=>{const p={};for(let S=0,R=o.length;S<R;S++){const H=o[S];p[String(H)]=u(H,S)}return p},oe=o=>[o],Se=(o,u)=>{const p=me.call(o,0);return p.sort(u),p},ce=(o,u)=>u>=0&&u<o.length?L.some(o[u]):L.none(),ke=o=>ce(o,0),Qe=o=>ce(o,o.length-1),Ze=w(Array.from)?Array.from:o=>me.call(o),Xe=(o,u)=>{for(let p=0;p<o.length;p++){const S=u(o[p],p);if(S.isSome())return S}return L.none()},ct=Object.keys,pt=Object.hasOwnProperty,Ye=(o,u)=>{const p=ct(o);for(let S=0,R=p.length;S<R;S++){const H=p[S],K=o[H];u(K,H)}},je=(o,u)=>et(o,(p,S)=>({k:S,v:u(p,S)})),et=(o,u)=>{const p={};return Ye(o,(S,R)=>{const H=u(S,R);p[H.k]=H.v}),p},yt=o=>(u,p)=>{o[p]=u},ft=(o,u,p,S)=>{Ye(o,(R,H)=>{(u(R,H)?p:S)(R,H)})},tt=(o,u)=>{const p={},S={};return ft(o,u,yt(p),yt(S)),{t:p,f:S}},wt=(o,u)=>{const p={};return ft(o,u,yt(p),M),p},Xt=(o,u)=>{const p=[];return Ye(o,(S,R)=>{p.push(u(S,R))}),p},Gt=(o,u)=>{const p=ct(o);for(let S=0,R=p.length;S<R;S++){const H=p[S],K=o[H];if(u(K,H,o))return L.some(K)}return L.none()},Nt=o=>Xt(o,z),Bt=(o,u)=>vn(o,u)?L.from(o[u]):L.none(),vn=(o,u)=>pt.call(o,u),En=(o,u)=>vn(o,u)&&o[u]!==void 0&&o[u]!==null,ln=(o,u,p=U)=>o.exists(S=>p(S,u)),Yn=(o,u,p=U)=>Xn(o,u,p).getOr(o.isNone()&&u.isNone()),an=o=>{const u=[],p=S=>{u.push(S)};for(let S=0;S<o.length;S++)o[S].each(p);return u},wn=o=>{const u=[];for(let p=0;p<o.length;p++){const S=o[p];if(S.isSome())u.push(S.getOrDie());else return L.none()}return L.some(u)},Xn=(o,u,p)=>o.isSome()&&u.isSome()?L.some(p(o.getOrDie(),u.getOrDie())):L.none(),Un=(o,u,p,S)=>o.isSome()&&u.isSome()&&p.isSome()?L.some(S(o.getOrDie(),u.getOrDie(),p.getOrDie())):L.none(),Sn=(o,u)=>o!=null?L.some(u(o)):L.none(),lt=(o,u)=>o?L.some(u):L.none(),ut=(o,u)=>o+u,xt=(o,u)=>o.substring(u),gt=(o,u,p)=>u===""||o.length>=u.length&&o.substr(p,p+u.length)===u,Dt=(o,u)=>dt(o,u)?xt(o,u.length):o,He=(o,u)=>mt(o,u)?o:ut(o,u),it=(o,u,p=0,S)=>{const R=o.indexOf(u,p);return R!==-1?O(S)?!0:R+u.length<=S:!1},dt=(o,u)=>gt(o,u,0),mt=(o,u)=>gt(o,u,o.length-u.length),Pt=(o=>u=>u.replace(o,""))(/^\s+|\s+$/g),dn=o=>o.length>0,rn=o=>!dn(o),Wt=o=>o.style!==void 0&&w(o.style.getPropertyValue),Rt=(o,u)=>{const S=(u||document).createElement("div");if(S.innerHTML=o,!S.hasChildNodes()||S.childNodes.length>1){const R="HTML does not have a single root node";throw console.error(R,o),new Error(R)}return nr(S.childNodes[0])},fn=(o,u)=>{const S=(u||document).createElement(o);return nr(S)},Hn=(o,u)=>{const S=(u||document).createTextNode(o);return nr(S)},nr=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},zt={fromHtml:Rt,fromTag:fn,fromText:Hn,fromDom:nr,fromPoint:(o,u,p)=>L.from(o.dom.elementFromPoint(u,p)).map(nr)},vr=typeof window<"u"?window:Function("return this;")(),Wn=(o,u)=>{let p=u??vr;for(let S=0;S<o.length&&p!==void 0&&p!==null;++S)p=p[o[S]];return p},Br=(o,u)=>{const p=o.split(".");return Wn(p,u)},kr=(o,u)=>Br(o,u),or=(o,u)=>{const p=kr(o,u);if(p==null)throw new Error(o+" not available on this browser");return p},jr=Object.getPrototypeOf,_r=o=>or("HTMLElement",o),Rn=o=>{const u=Br("ownerDocument.defaultView",o);return c(o)&&(_r(u).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(jr(o).constructor.name))},Sr=9,sr=11,wr=1,ao=3,xo=o=>o.dom.nodeName.toLowerCase(),Cr=o=>o.dom.nodeType,Fe=o=>u=>Cr(u)===o,Ee=o=>St(o)&&Rn(o.dom),St=Fe(wr),Tt=Fe(ao),Lt=Fe(Sr),Ft=Fe(sr),Ht=o=>u=>St(u)&&xo(u)===o,$t=(o,u)=>{const p=o.dom;if(p.nodeType!==wr)return!1;{const S=p;if(S.matches!==void 0)return S.matches(u);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(u);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(u);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(u);throw new Error("Browser lacks native selectors")}},Mt=o=>o.nodeType!==wr&&o.nodeType!==Sr&&o.nodeType!==sr||o.childElementCount===0,tn=(o,u)=>{const p=u===void 0?document:u.dom;return Mt(p)?[]:ne(p.querySelectorAll(o),zt.fromDom)},un=(o,u)=>{const p=u===void 0?document:u.dom;return Mt(p)?L.none():L.from(p.querySelector(o)).map(zt.fromDom)},en=(o,u)=>o.dom===u.dom,on=(o,u)=>{const p=o.dom,S=u.dom;return p===S?!1:p.contains(S)},Cn=o=>zt.fromDom(o.dom.ownerDocument),On=o=>Lt(o)?o:Cn(o),pn=o=>zt.fromDom(On(o).dom.documentElement),Jn=o=>zt.fromDom(On(o).dom.defaultView),Fn=o=>L.from(o.dom.parentNode).map(zt.fromDom),Zr=o=>Fn(o),dr=o=>L.from(o.dom.parentElement).map(zt.fromDom),Ur=(o,u)=>{const p=w(u)?u:X;let S=o.dom;const R=[];for(;S.parentNode!==null&&S.parentNode!==void 0;){const H=S.parentNode,K=zt.fromDom(H);if(R.push(K),p(K)===!0)break;S=H}return R},ar=o=>L.from(o.dom.offsetParent).map(zt.fromDom),ur=o=>L.from(o.dom.nextSibling).map(zt.fromDom),qr=o=>ne(o.dom.childNodes,zt.fromDom),to=(o,u)=>{const p=o.dom.childNodes;return L.from(p[u]).map(zt.fromDom)},Ao=o=>to(o,0),_s=(o,u)=>({element:o,offset:u}),wo=(o,u)=>{const p=qr(o);return p.length>0&&u<p.length?_s(p[u],0):_s(o,u)},Ko=o=>Ft(o)&&k(o.dom.host),hs=w(Element.prototype.attachShadow)&&w(Node.prototype.getRootNode),qs=Q(hs),ns=hs?o=>zt.fromDom(o.dom.getRootNode()):On,Xs=o=>Ko(o)?o:zt.fromDom(On(o).dom.body),Xa=o=>Cc(o).isSome(),Cc=o=>{const u=ns(o);return Ko(u)?L.some(u):L.none()},ui=o=>zt.fromDom(o.dom.host),au=o=>{if(qs()&&k(o.target)){const u=zt.fromDom(o.target);if(St(u)&&Ba(u)&&o.composed&&o.composedPath){const p=o.composedPath();if(p)return ke(p)}}return L.from(o.target)},Ba=o=>k(o.dom.shadowRoot),ea=o=>{const u=Tt(o)?o.dom.parentNode:o.dom;if(u==null||u.ownerDocument===null)return!1;const p=u.ownerDocument;return Cc(zt.fromDom(u)).fold(()=>p.body.contains(u),N(ea,ui))},ba=()=>oa(zt.fromDom(document)),oa=o=>{const u=o.dom.body;if(u==null)throw new Error("Body is not available yet");return zt.fromDom(u)},iu=(o,u,p)=>{if(h(p)||b(p)||C(p))o.setAttribute(u,p+"");else throw console.error("Invalid call to Attribute.set. Key ",u,":: Value ",p,":: Element ",o),new Error("Attribute value was not simple")},Dr=(o,u,p)=>{iu(o.dom,u,p)},Tc=(o,u)=>{const p=o.dom;Ye(u,(S,R)=>{iu(p,R,S)})},sa=(o,u)=>{const p=o.dom.getAttribute(u);return p===null?void 0:p},$i=(o,u)=>L.from(sa(o,u)),Id=(o,u)=>{const p=o.dom;return p&&p.hasAttribute?p.hasAttribute(u):!1},aa=(o,u)=>{o.dom.removeAttribute(u)},wu=o=>Te(o.dom.attributes,(u,p)=>(u[p.name]=p.value,u),{}),Nd=(o,u,p)=>{if(!h(p))throw console.error("Invalid call to CSS.set. Property ",u,":: Value ",p,":: Element ",o),new Error("CSS value must be a string: "+p);Wt(o)&&o.style.setProperty(u,p)},Cu=(o,u)=>{Wt(o)&&o.style.removeProperty(u)},Mo=(o,u,p)=>{const S=o.dom;Nd(S,u,p)},Hi=(o,u)=>{const p=o.dom;Ye(u,(S,R)=>{Nd(p,R,S)})},fr=(o,u)=>{const p=o.dom;Ye(u,(S,R)=>{S.fold(()=>{Cu(p,R)},H=>{Nd(p,R,H)})})},Fa=(o,u)=>{const p=o.dom,R=window.getComputedStyle(p).getPropertyValue(u);return R===""&&!ea(o)?wi(p,u):R},wi=(o,u)=>Wt(o)?o.style.getPropertyValue(u):"",Za=(o,u)=>{const p=o.dom,S=wi(p,u);return L.from(S).filter(R=>R.length>0)},Va=o=>{const u={},p=o.dom;if(Wt(p))for(let S=0;S<p.style.length;S++){const R=p.style.item(S);u[R]=p.style[R]}return u},Cl=(o,u,p)=>{const S=zt.fromTag(o);return Mo(S,u,p),Za(S,u).isSome()},Ho=(o,u)=>{const p=o.dom;Cu(p,u),ln($i(o,"style").map(Pt),"")&&aa(o,"style")},fi=o=>o.dom.offsetWidth,ti=(o,u)=>{const p=(ye,Ae)=>{if(!C(Ae)&&!Ae.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+Ae);const Ne=ye.dom;Wt(Ne)&&(Ne.style[o]=Ae+"px")},S=ye=>{const Ae=u(ye);if(Ae<=0||Ae===null){const Ne=Fa(ye,o);return parseFloat(Ne)||0}return Ae},R=S,H=(ye,Ae)=>Te(Ae,(Ne,Ue)=>{const Je=Fa(ye,Ue),st=Je===void 0?0:parseInt(Je,10);return isNaN(st)?Ne:Ne+st},0);return{set:p,get:S,getOuter:R,aggregate:H,max:(ye,Ae,Ne)=>{const Ue=H(ye,Ne);return Ae>Ue?Ae-Ue:0}}},ed=ti("height",o=>{const u=o.dom;return ea(o)?u.getBoundingClientRect().height:u.offsetHeight}),Ha=o=>ed.get(o),Wu=o=>ed.getOuter(o),Yu=(o,u)=>{const p=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],S=ed.max(o,u,p);Mo(o,"max-height",S+"px")},Bd=(o,u)=>({left:o,top:u,translate:(S,R)=>Bd(o+S,u+R)}),Ns=Bd,Qd=o=>{const u=o.getBoundingClientRect();return Ns(u.left,u.top)},Wc=(o,u)=>o!==void 0?o:u!==void 0?u:0,Rl=o=>{const u=o.dom.ownerDocument,p=u.body,S=u.defaultView,R=u.documentElement;if(p===o.dom)return Ns(p.offsetLeft,p.offsetTop);const H=Wc(S==null?void 0:S.pageYOffset,R.scrollTop),K=Wc(S==null?void 0:S.pageXOffset,R.scrollLeft),ye=Wc(R.clientTop,p.clientTop),Ae=Wc(R.clientLeft,p.clientLeft);return Sh(o).translate(K-Ae,H-ye)},Sh=o=>{const u=o.dom,S=u.ownerDocument.body;return S===u?Ns(S.offsetLeft,S.offsetTop):ea(o)?Qd(u):Ns(0,0)},ym=ti("width",o=>o.dom.offsetWidth),Vs=(o,u)=>ym.set(o,u),Ci=o=>ym.get(o),Pf=o=>ym.getOuter(o),WS=(o,u)=>{const p=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],S=ym.max(o,u,p);Mo(o,"max-width",S+"px")},Ga=o=>{let u=!1,p;return(...S)=>(u||(u=!0,p=o.apply(null,S)),p)},Dl=(o,u,p,S)=>{const R=o.isiOS()&&/ipad/i.test(p)===!0,H=o.isiOS()&&!R,K=o.isiOS()||o.isAndroid(),ye=K||S("(pointer:coarse)"),Ae=R||!H&&K&&S("(min-device-width:768px)"),Ne=H||K&&!Ae,Ue=u.isSafari()&&o.isiOS()&&/safari/i.test(p)===!1,Je=!Ne&&!Ae&&!Ue;return{isiPad:Q(R),isiPhone:Q(H),isTablet:Q(Ae),isPhone:Q(Ne),isTouch:Q(ye),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:Q(Ue),isDesktop:Q(Je)}},Ui=(o,u)=>{for(let p=0;p<o.length;p++){const S=o[p];if(S.test(u))return S}},$O=(o,u)=>{const p=Ui(o,u);if(!p)return{major:0,minor:0};const S=R=>Number(u.replace(p,"$"+R));return Xu(S(1),S(2))},Hp=(o,u)=>{const p=String(u).toLowerCase();return o.length===0?Tu():$O(o,p)},Tu=()=>Xu(0,0),Xu=(o,u)=>({major:o,minor:u}),$a={nu:Xu,detect:Hp,unknown:Tu},ku=(o,u)=>Xe(u.brands,p=>{const S=p.brand.toLowerCase();return Ve(o,R=>{var H;return S===((H=R.brand)===null||H===void 0?void 0:H.toLowerCase())}).map(R=>({current:R.name,version:$a.nu(parseInt(p.version,10),0)}))}),$l=(o,u)=>{const p=String(u).toLowerCase();return Ve(o,S=>S.search(p))},kc=(o,u)=>$l(o,u).map(p=>{const S=$a.detect(p.versionRegexes,u);return{current:p.name,version:S}}),Mf=(o,u)=>$l(o,u).map(p=>{const S=$a.detect(p.versionRegexes,u);return{current:p.name,version:S}}),di=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ef=o=>u=>it(u,o),Up=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>it(o,"edge/")&&it(o,"chrome")&&it(o,"safari")&&it(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,di],search:o=>it(o,"chrome")&&!it(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>it(o,"msie")||it(o,"trident")},{name:"Opera",versionRegexes:[di,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ef("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ef("firefox")},{name:"Safari",versionRegexes:[di,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(it(o,"safari")||it(o,"mobile/"))&&it(o,"applewebkit")}],Wp=[{name:"Windows",search:Ef("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>it(o,"iphone")||it(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ef("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ef("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ef("linux"),versionRegexes:[]},{name:"Solaris",search:Ef("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ef("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ef("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],my={browsers:Q(Up),oses:Q(Wp)},Jv="Edge",_f="Chromium",Yp="IE",Ac="Opera",e1="Firefox",gy="Safari",bm=()=>py({current:void 0,version:$a.unknown()}),py=o=>{const u=o.current,p=o.version,S=R=>()=>u===R;return{current:u,version:p,isEdge:S(Jv),isChromium:S(_f),isIE:S(Yp),isOpera:S(Ac),isFirefox:S(e1),isSafari:S(gy)}},Om={unknown:bm,nu:py,edge:Q(Jv),chromium:Q(_f),ie:Q(Yp),opera:Q(Ac),firefox:Q(e1),safari:Q(gy)},LO="Windows",wh="iOS",IO="Android",NO="Linux",BO="macOS",xm="Solaris",vy="FreeBSD",Yt="ChromeOS",Sm=()=>Gu({current:void 0,version:$a.unknown()}),Gu=o=>{const u=o.current,p=o.version,S=R=>()=>u===R;return{current:u,version:p,isWindows:S(LO),isiOS:S(wh),isAndroid:S(IO),isMacOS:S(BO),isLinux:S(NO),isSolaris:S(xm),isFreeBSD:S(vy),isChromeOS:S(Yt)}},t1={unknown:Sm,nu:Gu,windows:Q(LO),ios:Q(wh),android:Q(IO),linux:Q(NO),macos:Q(BO),solaris:Q(xm),freebsd:Q(vy),chromeos:Q(Yt)},YS={detect:(o,u,p)=>{const S=my.browsers(),R=my.oses(),H=u.bind(Ae=>ku(S,Ae)).orThunk(()=>kc(S,o)).fold(Om.unknown,Om.nu),K=Mf(R,o).fold(t1.unknown,t1.nu),ye=Dl(K,H,o,p);return{browser:H,os:K,deviceType:ye}}},Gs=o=>window.matchMedia(o).matches;let ic=Ga(()=>YS.detect(navigator.userAgent,L.from(navigator.userAgentData),Gs));const td=()=>ic(),nd=(o,u,p,S,R,H,K)=>({target:o,x:u,y:p,stop:S,prevent:R,kill:H,raw:K}),yy=o=>{const u=zt.fromDom(au(o).getOr(o.target)),p=()=>o.stopPropagation(),S=()=>o.preventDefault(),R=V(S,p);return nd(u,o.clientX,o.clientY,p,S,R,o)},Ag=(o,u)=>p=>{o(p)&&u(yy(p))},lu=(o,u,p,S,R)=>{const H=Ag(p,S);return o.dom.addEventListener(u,H,R),{unbind:F(QO,o,u,H,R)}},Pg=(o,u,p,S)=>lu(o,u,p,S,!1),by=(o,u,p,S)=>lu(o,u,p,S,!0),QO=(o,u,p,S)=>{o.dom.removeEventListener(u,p,S)},ju=(o,u)=>{Fn(o).each(S=>{S.dom.insertBefore(u.dom,o.dom)})},Gp=(o,u)=>{ur(o).fold(()=>{Fn(o).each(R=>{Yc(R,u)})},S=>{ju(S,u)})},Oy=(o,u)=>{Ao(o).fold(()=>{Yc(o,u)},S=>{o.dom.insertBefore(u.dom,S.dom)})},Yc=(o,u)=>{o.dom.appendChild(u.dom)},il=(o,u,p)=>{to(o,p).fold(()=>{Yc(o,u)},S=>{ju(S,u)})},Ch=(o,u)=>{le(u,p=>{Yc(o,p)})},Mg=o=>{o.dom.textContent="",le(qr(o),u=>{Pc(u)})},Pc=o=>{const u=o.dom;u.parentNode!==null&&u.parentNode.removeChild(u)},Ll=o=>{const u=o!==void 0?o.dom:document,p=u.body.scrollLeft||u.documentElement.scrollLeft,S=u.body.scrollTop||u.documentElement.scrollTop;return Ns(p,S)},qu=(o,u,p)=>{const R=(p!==void 0?p.dom:document).defaultView;R&&R.scrollTo(o,u)},FO=o=>{const u=o===void 0?window:o;return td().browser.isFirefox()?L.none():L.from(u.visualViewport)},jp=(o,u,p,S)=>({x:o,y:u,width:p,height:S,right:o+p,bottom:u+S}),xy=o=>{const u=o===void 0?window:o,p=u.document,S=Ll(zt.fromDom(p));return FO(u).fold(()=>{const R=u.document.documentElement,H=R.clientWidth,K=R.clientHeight;return jp(S.left,S.top,H,K)},R=>jp(Math.max(R.pageLeft,S.left),Math.max(R.pageTop,S.top),R.width,R.height))},n1=()=>zt.fromDom(document),Rf=(o,u)=>o.view(u).fold(Q([]),S=>{const R=o.owner(S),H=Rf(o,R);return[S].concat(H)}),VO=(o,u)=>{const p=u.owner(o),S=Rf(u,p);return L.some(S)};var XS=Object.freeze({__proto__:null,view:o=>{var u;return(o.dom===document?L.none():L.from((u=o.dom.defaultView)===null||u===void 0?void 0:u.frameElement)).map(zt.fromDom)},owner:o=>Cn(o)});const qp=o=>{const u=n1(),p=Ll(u);return VO(o,XS).fold(F(Rl,o),R=>{const H=Sh(o),K=Le(R,(ye,Ae)=>{const Ne=Sh(Ae);return{left:ye.left+Ne.left,top:ye.top+Ne.top}},{left:0,top:0});return Ns(K.left+H.left+p.left,K.top+H.top+p.top)})},r1=(o,u,p)=>({point:o,width:u,height:p}),Th=(o,u,p,S)=>({x:o,y:u,width:p,height:S}),ni=(o,u,p,S)=>({x:o,y:u,width:p,height:S,right:o+p,bottom:u+S}),hi=o=>{const u=Rl(o),p=Pf(o),S=Wu(o);return ni(u.left,u.top,p,S)},Au=o=>{const u=qp(o),p=Pf(o),S=Wu(o);return ni(u.left,u.top,p,S)},Sy=(o,u)=>{const p=Math.max(o.x,u.x),S=Math.max(o.y,u.y),R=Math.min(o.right,u.right),H=Math.min(o.bottom,u.bottom),K=R-p,ye=H-S;return ni(p,S,K,ye)},zO=(o,u)=>Te(u,(p,S)=>Sy(p,S),o),Xl=()=>xy(window);var Eg=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Mc=o=>{const u=H=>H(o),p=Q(o),S=()=>R,R={tag:!0,inner:o,fold:(H,K)=>K(o),isValue:ie,isError:X,map:H=>jo.value(H(o)),mapError:S,bind:u,exists:u,forall:u,getOr:p,or:S,getOrThunk:p,orThunk:S,getOrDie:p,each:H=>{H(o)},toOptional:()=>L.some(o)};return R},Df=o=>{const u=()=>p,p={tag:!1,inner:o,fold:(S,R)=>S(o),isValue:X,isError:ie,map:u,mapError:S=>jo.error(S(o)),bind:u,exists:X,forall:ie,getOr:z,or:z,getOrThunk:W,orThunk:W,getOrDie:E(String(o)),each:M,toOptional:L.none};return p},jo={value:Mc,error:Df,fromOption:(o,u)=>o.fold(()=>Df(u),Mc)};var Xc;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(Xc||(Xc={}));const kh=(o,u,p)=>o.stype===Xc.Error?u(o.serror):p(o.svalue),wm=o=>{const u=[],p=[];return le(o,S=>{kh(S,R=>p.push(R),R=>u.push(R))}),{values:u,errors:p}},Cy=(o,u)=>o.stype===Xc.Error?{stype:Xc.Error,serror:u(o.serror)}:o,Ty=(o,u)=>o.stype===Xc.Value?{stype:Xc.Value,svalue:u(o.svalue)}:o,lc=(o,u)=>o.stype===Xc.Value?u(o.svalue):o,Ti=(o,u)=>o.stype===Xc.Error?u(o.serror):o,cu=o=>({stype:Xc.Value,svalue:o}),Wi=o=>({stype:Xc.Error,serror:o}),ki={fromResult:o=>o.fold(Wi,cu),toResult:o=>kh(o,jo.error,jo.value),svalue:cu,partition:wm,serror:Wi,bind:lc,bindError:Ti,map:Ty,mapError:Cy,fold:kh},Yi=(o,u,p,S)=>({tag:"field",key:o,newKey:u,presence:p,prop:S}),Ku=(o,u)=>({tag:"custom",newKey:o,instantiator:u}),Cm=(o,u,p)=>{switch(o.tag){case"field":return u(o.key,o.newKey,o.presence,o.prop);case"custom":return p(o.newKey,o.instantiator)}},Ai=(o,u)=>u,_g=(o,u)=>g(o)&&g(u)?Ta(o,u):u,Kp=o=>(...u)=>{if(u.length===0)throw new Error("Can't merge zero objects");const p={};for(let S=0;S<u.length;S++){const R=u[S];for(const H in R)vn(R,H)&&(p[H]=o(p[H],R[H]))}return p},Ta=Kp(_g),Ah=Kp(Ai),Ks=()=>({tag:"required",process:{}}),$f=o=>({tag:"defaultedThunk",process:o}),Ay=o=>$f(Q(o)),Jp=()=>({tag:"option",process:{}}),ms=o=>({tag:"mergeWithThunk",process:o}),Tm=o=>ms(Q(o)),s1=(o,u)=>o.length>0?ki.svalue(Ta(u,Ah.apply(void 0,o))):ki.svalue(u),ev=o=>V(ki.serror,Ie)(o),Py={consolidateObj:(o,u)=>{const p=ki.partition(o);return p.errors.length>0?ev(p.errors):s1(p.values,u)},consolidateArr:o=>{const u=ki.partition(o);return u.errors.length>0?ev(u.errors):ki.svalue(u.values)}},km=o=>c(o)&&ct(o).length>100?" removed due to size":JSON.stringify(o,null,2),a1=o=>{const u=o.length>10?o.slice(0,10).concat([{path:[],getErrorInfo:Q("... (only showing first ten failures)")}]):o;return ne(u,p=>"Failed path: ("+p.path.join(" > ")+`)
`+p.getErrorInfo())},Am=(o,u)=>ki.serror([{path:o,getErrorInfo:u}]),Rg=(o,u,p)=>Am(o,()=>'Could not find valid *required* value for "'+u+'" in '+km(p)),ZO=(o,u)=>Am(o,()=>'Choice schema did not contain choice key: "'+u+'"'),Ju=(o,u,p)=>Am(o,()=>'The chosen schema: "'+p+'" did not exist in branches: '+km(u)),HO=(o,u)=>Am(o,()=>"There are unsupported fields: ["+u.join(", ")+"] specified"),Pm=(o,u)=>Am(o,Q(u)),Pu=o=>{const u=(S,R)=>ki.bindError(o(R),H=>Pm(S,H)),p=Q("val");return{extract:u,toString:p}},i1=Pu(ki.svalue),My=(o,u,p,S)=>Bt(u,p).fold(()=>Rg(o,p,u),S),Dg=(o,u,p,S)=>{const R=Bt(o,u).getOrThunk(()=>p(o));return S(R)},Ey=(o,u,p)=>p(Bt(o,u)),_y=(o,u,p,S)=>{const R=Bt(o,u).map(H=>H===!0?p(o):H);return S(R)},Ry=(o,u,p,S,R)=>{const H=ye=>R.extract(u.concat([S]),ye),K=ye=>ye.fold(()=>ki.svalue(L.none()),Ae=>{const Ne=R.extract(u.concat([S]),Ae);return ki.map(Ne,L.some)});switch(o.tag){case"required":return My(u,p,S,H);case"defaultedThunk":return Dg(p,S,o.process,H);case"option":return Ey(p,S,K);case"defaultedOptionThunk":return _y(p,S,o.process,K);case"mergeWithThunk":return Dg(p,S,Q({}),ye=>{const Ae=Ta(o.process(p),ye);return H(Ae)})}},l1=(o,u,p)=>{const S={},R=[];for(const H of p)Cm(H,(K,ye,Ae,Ne)=>{const Ue=Ry(Ae,o,u,K,Ne);ki.fold(Ue,Je=>{R.push(...Je)},Je=>{S[ye]=Je})},(K,ye)=>{S[K]=ye(u)});return R.length>0?ki.serror(R):ki.svalue(S)},ll=o=>({extract:(S,R)=>o().extract(S,R),toString:()=>o().toString()}),tv=o=>ct(wt(o,k)),fa=o=>{const u=uo(o),p=Le(o,(R,H)=>Cm(H,K=>Ta(R,{[K]:!0}),Q(R)),{});return{extract:(R,H)=>{const K=b(H)?[]:tv(H),ye=Oe(K,Ae=>!En(p,Ae));return ye.length===0?u.extract(R,H):HO(R,ye)},toString:u.toString}},uo=o=>({extract:(S,R)=>l1(S,R,o),toString:()=>`obj{
`+ne(o,R=>Cm(R,(H,K,ye,Ae)=>H+" -> "+Ae.toString(),(H,K)=>"state("+H+")")).join(`
`)+"}"}),ef=o=>({extract:(S,R)=>{const H=ne(R,(K,ye)=>o.extract(S.concat(["["+ye+"]"]),K));return Py.consolidateArr(H)},toString:()=>"array("+o.toString()+")"}),Xr=(o,u)=>{const p=u!==void 0?u:z;return{extract:(H,K)=>{const ye=[];for(const Ae of o){const Ne=Ae.extract(H,K);if(Ne.stype===Xc.Value)return{stype:Xc.Value,svalue:p(Ne.svalue)};ye.push(Ne)}return Py.consolidateArr(ye)},toString:()=>"oneOf("+ne(o,H=>H.toString()).join(", ")+")"}},Gl=(o,u)=>{const p=(H,K)=>ef(Pu(o)).extract(H,K);return{extract:(H,K)=>{const ye=ct(K),Ae=p(H,ye);return ki.bind(Ae,Ne=>{const Ue=ne(Ne,Je=>Yi(Je,Je,Ks(),u));return uo(Ue).extract(H,K)})},toString:()=>"setOf("+u.toString()+")"}},qS=(o,u)=>{const p=Ga(u);return{extract:(H,K)=>p().extract(H,K),toString:()=>p().toString()}},Fd=V(ef,uo),bi=Q(i1),Vd=(o,u)=>Pu(p=>{const S=typeof p;return o(p)?ki.svalue(p):ki.serror(`Expected type: ${u} but got: ${S}`)}),nv=Vd(C,"number"),cl=Vd(h,"string"),Lf=Vd(b,"boolean"),Mm=Vd(w,"function"),tf=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(u=>tf(o[u]));default:return!1}},Dy=Pu(o=>tf(o)?ki.svalue(o):ki.serror("Expected value to be acceptable for sending via postMessage")),c1=(o,u,p,S)=>Bt(p,S).fold(()=>Ju(o,p,S),H=>H.extract(o.concat(["branch: "+S]),u)),lr=(o,u)=>({extract:(R,H)=>Bt(H,o).fold(()=>ZO(R,o),ye=>c1(R,H,u,ye)),toString:()=>"chooseOn("+o+"). Possible values: "+ct(u)}),UO=()=>ef(i1),Il=o=>Pu(u=>o(u).fold(ki.serror,ki.svalue)),rd=(o,u)=>Gl(p=>ki.fromResult(o(p)),u),$g=(o,u,p)=>{const S=u.extract([o],p);return ki.mapError(S,R=>({input:p,errors:R}))},ma=(o,u,p)=>ki.toResult($g(o,u,p)),ia=o=>o.fold(u=>{throw new Error(jl(u))},z),Nl=(o,u,p)=>ia(ma(o,u,p)),jl=o=>`Errors: 
`+a1(o.errors).join(`
`)+`

Input object: `+km(o.input),ws=(o,u)=>lr(o,je(u,uo)),rv=(o,u)=>qS(o,u),ul=Yi,ri=Ku,ov=o=>Il(u=>xe(o,u)?jo.value(u):jo.error(`Unsupported value: "${u}", choose one of "${o.join(", ")}".`)),er=o=>ul(o,o,Ks(),bi()),Gc=(o,u)=>ul(o,o,Ks(),u),Lg=o=>Gc(o,nv),zs=o=>Gc(o,cl),If=(o,u)=>ul(o,o,Ks(),ov(u)),KS=o=>Gc(o,Lf),nf=o=>Gc(o,Mm),u1=(o,u)=>ul(o,o,Jp(),Pu(p=>ki.serror("The field: "+o+" is forbidden. "+u))),uu=(o,u)=>ul(o,o,Ks(),uo(u)),f1=(o,u)=>ul(o,o,Ks(),Fd(u)),cc=(o,u)=>ul(o,o,Ks(),ef(u)),Ws=o=>ul(o,o,Jp(),bi()),fu=(o,u)=>ul(o,o,Jp(),u),mi=o=>fu(o,nv),fl=o=>fu(o,cl),zd=(o,u)=>fu(o,ov(u)),od=o=>fu(o,Mm),Zd=(o,u)=>fu(o,ef(u)),Ec=(o,u)=>fu(o,uo(u)),sd=(o,u)=>fu(o,fa(u)),Mn=(o,u)=>ul(o,o,Ay(u),bi()),_c=(o,u,p)=>ul(o,o,Ay(u),p),ad=(o,u)=>_c(o,u,nv),id=(o,u)=>_c(o,u,cl),jc=(o,u,p)=>_c(o,u,ov(p)),Xi=(o,u)=>_c(o,u,Lf),Li=(o,u)=>_c(o,u,Mm),s5=(o,u)=>_c(o,u,Dy),Rc=(o,u,p)=>_c(o,u,ef(p)),D=(o,u,p)=>_c(o,u,uo(p)),G=o=>{let u=o;return{get:()=>u,set:R=>{u=R}}},Ce={generate:o=>{if(!v(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const u=[],p={};return le(o,(S,R)=>{const H=ct(S);if(H.length!==1)throw new Error("one and only one name per case");const K=H[0],ye=S[K];if(p[K]!==void 0)throw new Error("duplicate key detected:"+K);if(K==="cata")throw new Error("cannot have a case named cata (sorry)");if(!v(ye))throw new Error("case arguments must be an array");u.push(K),p[K]=(...Ae)=>{const Ne=Ae.length;if(Ne!==ye.length)throw new Error("Wrong number of arguments to case "+K+". Expected "+ye.length+" ("+ye+"), got "+Ne);return{fold:(...Je)=>{if(Je.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+Je.length);return Je[R].apply(null,Ae)},match:Je=>{const st=ct(Je);if(u.length!==st.length)throw new Error("Wrong number of arguments to match. Expected: "+u.join(",")+`
Actual: `+st.join(","));if(!be(u,At=>xe(st,At)))throw new Error("Not all branches were specified when using match. Specified: "+st.join(", ")+`
Required: `+u.join(", "));return Je[K].apply(null,Ae)},log:Je=>{console.log(Je,{constructors:u,constructor:K,params:Ae})}}}}),p}};Ce.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Pe=o=>{const u=[],p=[];return le(o,S=>{S.fold(R=>{u.push(R)},R=>{p.push(R)})}),{errors:u,values:p}},$e=(o,u)=>{const p={};return Ye(o,(S,R)=>{xe(u,R)||(p[R]=S)}),p},Ke=(o,u)=>({[o]:u}),We=o=>{const u={};return le(o,p=>{u[p.key]=p.value}),u},rt=(o,u)=>$e(o,u),vt=(o,u)=>Ke(o,u),bt=o=>We(o),Zt=(o,u)=>o.length===0?jo.value(u):jo.value(Ta(u,Ah.apply(void 0,o))),Ut=o=>jo.error(Ie(o)),gn=(o,u)=>{const p=Pe(o);return p.errors.length>0?Ut(p.errors):Zt(p.values,u)},An=o=>w(o)?o:X,jt=(o,u,p)=>{let S=o.dom;const R=An(p);for(;S.parentNode;){S=S.parentNode;const H=zt.fromDom(S),K=u(H);if(K.isSome())return K;if(R(H))break}return L.none()},nn=(o,u,p)=>{const S=u(o),R=An(p);return S.orThunk(()=>R(o)?L.none():jt(o,u,R))},hn=(o,u)=>en(o.element,u.event.target),_n={can:ie,abort:X,run:M},Pn=o=>{if(!En(o,"can")&&!En(o,"abort")&&!En(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{..._n,...o}},yn=(o,u)=>(...p)=>Te(o,(S,R)=>S&&u(R).apply(void 0,p),!0),cr=(o,u)=>(...p)=>Te(o,(S,R)=>S||u(R).apply(void 0,p),!1),Hr=o=>w(o)?{can:ie,abort:X,run:o}:o,Jr=o=>{const u=yn(o,R=>R.can),p=cr(o,R=>R.abort);return{can:u,abort:p,run:(...R)=>{le(o,H=>{H.run.apply(void 0,R)})}}},Ar=Q,no=Ar("touchstart"),fo=Ar("touchmove"),rs=Ar("touchend"),So=Ar("touchcancel"),go=Ar("mousedown"),js=Ar("mousemove"),oi=Ar("mouseout"),Oa=Ar("mouseup"),Lr=Ar("mouseover"),$o=Ar("focusin"),gs=Ar("focusout"),Rs=Ar("keydown"),Qa=Ar("keyup"),gi=Ar("input"),Gi=Ar("change"),Ii=Ar("click"),qc=Ar("transitioncancel"),tl=Ar("transitionend"),Dc=Ar("transitionstart"),ql=Ar("selectstart"),ta=o=>Q("alloy."+o),rf={tap:ta("tap")},Nf=ta("focus"),Kl=ta("blur.post"),Ni=ta("paste.post"),Jl=ta("receive"),Bi=ta("execute"),na=ta("focus.item"),$c=rf.tap,Hd=ta("longpress"),of=ta("sandbox.close"),Em=ta("typeahead.cancel"),Ud=ta("system.init"),$y=ta("system.touchmove"),WO=ta("system.touchend"),Ph=ta("system.scroll"),Wd=ta("system.resize"),sf=ta("system.attached"),Ig=ta("system.detached"),Ng=ta("system.dismissRequested"),a5=ta("system.repositionRequested"),YO=ta("focusmanager.shifted"),Ly=ta("slotcontainer.visibility"),XO=ta("system.external.element.scroll"),i5=ta("change.tab"),GO=ta("dismiss.tab"),Iy=ta("highlight"),Ny=ta("dehighlight"),As=(o,u)=>{By(o,o.element,u,{})},vo=(o,u,p)=>{By(o,o.element,u,p)},_m=o=>{As(o,Bi())},jO=(o,u,p)=>{By(o,u,p,{})},By=(o,u,p,S)=>{const R={target:u,...S};o.getSystem().triggerEvent(p,u,R)},z8=(o,u,p,S)=>{const R={...S,target:u};o.getSystem().triggerEvent(p,u,R)},JS=(o,u,p,S)=>{o.getSystem().triggerEvent(p,u,S.event)},_a=o=>bt(o),ew=(o,u)=>({key:o,value:Pn({abort:u})}),tw=(o,u)=>({key:o,value:Pn({can:u})}),nw=o=>({key:o,value:Pn({run:(u,p)=>{p.event.prevent()}})}),qn=(o,u)=>({key:o,value:Pn({run:u})}),qO=(o,u,p)=>({key:o,value:Pn({run:(S,R)=>{u.apply(void 0,[S,R].concat(p))}})}),Z8=o=>u=>qn(o,u),Qy=o=>u=>({key:o,value:Pn({run:(p,S)=>{hn(p,S)&&u(p,S)}})}),H8=(o,u)=>qn(o,(p,S)=>{p.getSystem().getByUid(u).each(R=>{JS(R,R.element,o,S)})}),d1=(o,u,p)=>{const S=u.partUids[p];return H8(o,S)},rw=(o,u)=>qn(o,(p,S)=>{const R=S.event,H=p.getSystem().getByDom(R.target).getOrThunk(()=>nn(R.target,ye=>p.getSystem().getByDom(ye).toOptional(),X).getOr(p));u(p,H,S)}),Rm=o=>qn(o,(u,p)=>{p.cut()}),U8=o=>qn(o,(u,p)=>{p.stop()}),Mh=(o,u)=>Qy(o)(u),ka=Qy(sf()),Eh=Qy(Ig()),ow=Qy(Ud()),ld=Z8(Bi()),Dm=(o,u)=>{const S=(u||document).createElement("div");return S.innerHTML=o,qr(zt.fromDom(S))},sw=o=>o.dom.innerHTML,sv=(o,u)=>{const S=Cn(o).dom,R=zt.fromDom(S.createDocumentFragment()),H=Dm(u,S);Ch(R,H),Mg(o),Yc(o,R)},l5=o=>{const u=zt.fromTag("div"),p=zt.fromDom(o.dom.cloneNode(!0));return Yc(u,p),sw(u)},KO=(o,u)=>zt.fromDom(o.dom.cloneNode(u)),aw=o=>KO(o,!1),W8=o=>KO(o,!0),iw=o=>{if(Ko(o))return"#shadow-root";{const u=aw(o);return l5(u)}},_h=o=>iw(o),d$=(o,u,p)=>en(u,o.element)&&!en(u,p),lw=_a([tw(Nf(),(o,u)=>{const p=u.event,S=p.originator,R=p.target;return d$(o,S,R)?(console.warn(Nf()+` did not get interpreted by the desired target. 
Originator: `+_h(S)+`
Target: `+_h(R)+`
Check the `+Nf()+" event handlers"),!1):!0})]);var Bg=Object.freeze({__proto__:null,events:lw});let ec=0;const Kr=o=>{const p=new Date().getTime(),S=Math.floor(Math.random()*1e9);return ec++,o+"_"+S+ec+String(p)},Y8=Q("alloy-id-"),cw=Q("data-alloy-id"),X8=Y8(),c5=cw(),av=(o,u)=>{const p=Kr(X8+o);return h1(u,p),p},h1=(o,u)=>{Object.defineProperty(o.dom,c5,{value:u,writable:!0})},Fy=o=>{const u=St(o)?o.dom[c5]:null;return L.from(u)},m1=o=>Kr(o),JO=z,$m=o=>{const u=R=>`The component must be in a context to execute: ${R}`+(o?`
`+_h(o().element)+" is not in context.":""),p=R=>()=>{throw new Error(u(R))},S=R=>()=>{console.warn(u(R))};return{debugInfo:Q("fake"),triggerEvent:S("triggerEvent"),triggerFocus:S("triggerFocus"),triggerEscape:S("triggerEscape"),broadcast:S("broadcast"),broadcastOn:S("broadcastOn"),broadcastEvent:S("broadcastEvent"),build:p("build"),buildOrPatch:p("buildOrPatch"),addToWorld:p("addToWorld"),removeFromWorld:p("removeFromWorld"),addToGui:p("addToGui"),removeFromGui:p("removeFromGui"),getByUid:p("getByUid"),getByDom:p("getByDom"),isConnected:X}},Yd=$m(),Vy=(o,u,p)=>{const S=p.toString(),R=S.indexOf(")")+1,H=S.indexOf("("),K=S.substring(H+1,R-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:u,parameters:Bf(K.slice(0,1).concat(K.slice(3)))}),o},Bf=o=>ne(o,u=>mt(u,"/*")?u.substring(0,u.length-2):u),e2=(o,u)=>{const p=o.toString(),S=p.indexOf(")")+1,R=p.indexOf("("),H=p.substring(R+1,S-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:u,parameters:Bf(H)}),o},u5=(o,u)=>{const p=u.toString(),S=p.indexOf(")")+1,R=p.indexOf("("),H=p.substring(R+1,S-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Bf(H.slice(1))}),o},g1=Kr("alloy-premade"),Lm=o=>(Object.defineProperty(o.element.dom,g1,{value:o.uid,writable:!0}),vt(g1,o)),G8=o=>vn(o.dom,g1),p1=o=>Bt(o,g1),iv=o=>u5((u,...p)=>o(u.getApis(),u,...p),o),cd={init:()=>Mu({readState:Q("No State required")})},Mu=o=>o,j8=(o,u)=>{const p=ne(u,R=>Ec(R.name(),[er("config"),Mn("state",cd)])),S=ma("component.behaviours",uo(p),o.behaviours).fold(R=>{throw new Error(jl(R)+`
Complete spec:
`+JSON.stringify(o,null,2))},z);return{list:u,data:je(S,R=>{const H=R.map(K=>({config:K.config,state:K.state.init(K.config)}));return Q(H)})}},f5=o=>o.list,d5=o=>o.data,uw=(o,u)=>{const p={};return Ye(o,(S,R)=>{Ye(S,(H,K)=>{const ye=Bt(p,K).getOr([]);p[K]=ye.concat([u(R,H)])})}),p},Eu=o=>({classes:O(o.classes)?[]:o.classes,attributes:O(o.attributes)?{}:o.attributes,styles:O(o.styles)?{}:o.styles}),v1=(o,u)=>({...o,attributes:{...o.attributes,...u.attributes},styles:{...o.styles,...u.styles},classes:o.classes.concat(u.classes)}),t2=(o,u,p,S)=>{const R={...u};le(p,Ue=>{R[Ue.name()]=Ue.exhibit(o,S)});const H=uw(R,(Ue,Je)=>({name:Ue,modification:Je})),K=Ue=>Le(Ue,(Je,st)=>({...st.modification,...Je}),{}),ye=Le(H.classes,(Ue,Je)=>Je.modification.concat(Ue),[]),Ae=K(H.attributes),Ne=K(H.styles);return Eu({classes:ye,attributes:Ae,styles:Ne})},n2=(o,u,p,S)=>{try{const R=Se(p,(H,K)=>{const ye=H[u],Ae=K[u],Ne=S.indexOf(ye),Ue=S.indexOf(Ae);if(Ne===-1)throw new Error("The ordering for "+o+" does not have an entry for "+ye+`.
Order specified: `+JSON.stringify(S,null,2));if(Ue===-1)throw new Error("The ordering for "+o+" does not have an entry for "+Ae+`.
Order specified: `+JSON.stringify(S,null,2));return Ne<Ue?-1:Ue<Ne?1:0});return jo.value(R)}catch(R){return jo.error([R])}},q8=(o,u)=>({handler:o,purpose:u}),h5=(o,u)=>({cHandler:o,purpose:u}),fw=(o,u)=>h5(F.apply(void 0,[o.handler].concat(u)),o.purpose),y1=o=>o.cHandler,b1=(o,u)=>({name:o,handler:u}),r2=(o,u)=>{const p={};return le(o,S=>{p[S.name()]=S.handlers(u)}),p},K8=(o,u,p)=>{const S={...p,...r2(u,o)};return uw(S,b1)},o2=(o,u,p,S)=>{const R=K8(o,p,S);return dw(R,u)},O1=o=>{const u=Hr(o);return(p,S,...R)=>{const H=[p,S].concat(R);u.abort.apply(void 0,H)?S.stop():u.can.apply(void 0,H)&&u.run.apply(void 0,H)}},J8=(o,u)=>jo.error(["The event ("+o+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(ne(u,p=>p.name),null,2)]),zy=(o,u,p)=>{const S=u[p];return S?n2("Event: "+p,"name",o,S).map(R=>{const H=ne(R,K=>K.handler);return Jr(H)}):J8(p,o)},dw=(o,u)=>{const p=Xt(o,(S,R)=>(S.length===1?jo.value(S[0].handler):zy(S,u,R)).map(K=>{const ye=O1(K),Ae=S.length>1?Oe(u[R],Ne=>we(S,Ue=>Ue.name===Ne)).join(" > "):S[0].name;return vt(R,q8(ye,Ae))}));return gn(p,{})},_u="alloy.base.behaviour",s2=uo([ul("dom","dom",Ks(),uo([er("tag"),Mn("styles",{}),Mn("classes",[]),Mn("attributes",{}),Ws("value"),Ws("innerHtml")])),er("components"),er("uid"),Mn("events",{}),Mn("apis",{}),ul("eventOrder","eventOrder",Tm({[Bi()]:["disabling",_u,"toggling","typeaheadevents"],[Nf()]:[_u,"focusing","keying"],[Ud()]:[_u,"disabling","toggling","representing"],[gi()]:[_u,"representing","streaming","invalidating"],[Ig()]:[_u,"representing","item-events","tooltipping"],[go()]:["focusing",_u,"item-type-events"],[no()]:["focusing",_u,"item-type-events"],[Lr()]:["item-type-events","tooltipping"],[Jl()]:["receiving","reflecting","tooltipping"]}),bi()),Ws("domModification")]),m5=o=>ma("custom.definition",s2,o),a2=o=>({...o.dom,uid:o.uid,domChildren:ne(o.components,u=>u.element)}),h$=o=>o.domModification.fold(()=>Eu({}),Eu),i2=o=>o.events,Qg=(o,u)=>{const p=sa(o,u);return p===void 0||p===""?[]:p.split(" ")},Rh=(o,u,p)=>{const R=Qg(o,u).concat([p]);return Dr(o,u,R.join(" ")),!0},hw=(o,u,p)=>{const S=Oe(Qg(o,u),R=>R!==p);return S.length>0?Dr(o,u,S.join(" ")):aa(o,u),!1},x1=o=>o.dom.classList!==void 0,l2=o=>Qg(o,"class"),g5=(o,u)=>Rh(o,"class",u),La=(o,u)=>hw(o,"class",u),e7=(o,u)=>xe(l2(o),u)?La(o,u):g5(o,u),Pi=(o,u)=>{x1(o)?o.dom.classList.add(u):g5(o,u)},p5=o=>{(x1(o)?o.dom.classList:l2(o)).length===0&&aa(o,"class")},ja=(o,u)=>{x1(o)?o.dom.classList.remove(u):La(o,u),p5(o)},S1=(o,u)=>{const p=x1(o)?o.dom.classList.toggle(u):e7(o,u);return p5(o),p},nl=(o,u)=>x1(o)&&o.dom.classList.contains(u),si=(o,u)=>{le(u,p=>{Pi(o,p)})},af=(o,u)=>{le(u,p=>{ja(o,p)})},mw=(o,u)=>{le(u,p=>{S1(o,p)})},tc=(o,u)=>be(u,p=>nl(o,p)),Zy=o=>{const u=o.dom.classList,p=new Array(u.length);for(let S=0;S<u.length;S++){const R=u.item(S);R!==null&&(p[S]=R)}return p},w1=o=>x1(o)?Zy(o):l2(o),Dh=o=>o.dom.value,C1=(o,u)=>{if(u===void 0)throw new Error("Value.set was undefined");o.dom.value=u},Fg=(o,u,p)=>to(o,u).map(R=>{if(p.exists(K=>!en(K,R))){const K=p.map(xo).getOr("span"),ye=zt.fromTag(K);return ju(R,ye),ye}else return R}),Im=(o,u,p)=>{p.fold(()=>Yc(o,u),S=>{en(S,u)||(ju(S,u),Pc(S))})},t7=(o,u,p)=>{const S=ne(u,p),R=qr(o);return le(R.slice(S.length),Pc),S},v5=(o,u,p,S)=>{const R=to(o,u),H=S(p,R),K=Fg(o,u,R);return Im(o,H.element,K),H},m$=(o,u,p)=>t7(o,u,(S,R)=>v5(o,R,S,p)),g$=(o,u)=>t7(o,u,(p,S)=>{const R=to(o,S);return Im(o,p,R),p}),ud=(o,u)=>{const p=ct(o),S=ct(u),R=se(S,p),H=tt(o,(K,ye)=>!vn(u,ye)||K!==u[ye]).t;return{toRemove:R,toSet:H}},Lc=(o,u)=>{const{class:p,style:S,...R}=wu(u),{toSet:H,toRemove:K}=ud(o.attributes,R),ye=()=>{le(K,kn=>aa(u,kn)),Tc(u,H)},Ae=Va(u),{toSet:Ne,toRemove:Ue}=ud(o.styles,Ae),Je=()=>{le(Ue,kn=>Ho(u,kn)),Hi(u,Ne)},st=w1(u),ht=se(st,o.classes),At=se(o.classes,st),qt=()=>{si(u,At),af(u,ht)},Dn=kn=>{sv(u,kn)},mn=()=>{const kn=o.domChildren;g$(u,kn)},sn=()=>{const kn=u,Zn=o.value.getOrUndefined();Zn!==Dh(kn)&&C1(kn,Zn??"")};return ye(),qt(),Je(),o.innerHtml.fold(mn,Dn),sn(),u},n7=o=>{const u=zt.fromTag(o.tag);Tc(u,o.attributes),si(u,o.classes),Hi(u,o.styles),o.innerHtml.each(S=>sv(u,S));const p=o.domChildren;return Ch(u,p),o.value.each(S=>{C1(u,S)}),u},r7=(o,u)=>{try{const p=Lc(o,u);return L.some(p)}catch{return L.none()}},Vg=o=>o.innerHtml.isSome()&&o.domChildren.length>0,Hy=(o,u)=>{const p=R=>xo(R)===o.tag&&!Vg(o)&&!G8(R),S=u.filter(p).bind(R=>r7(o,R)).getOrThunk(()=>n7(o));return h1(S,o.uid),S},c2=o=>{const u=Bt(o,"behaviours").getOr({});return re(ct(u),p=>{const S=u[p];return k(S)?[S.me]:[]})},u2=(o,u)=>j8(o,u),$h=o=>{const u=c2(o);return u2(o,u)},T1=(o,u,p)=>{const S=a2(o),R=h$(o),H={"alloy.base.modification":R},K=u.length>0?t2(p,H,u,S):R;return v1(S,K)},k1=(o,u,p)=>{const S={"alloy.base.behaviour":i2(o)};return o2(p,o.eventOrder,u,S).getOrDie()},A1=(o,u)=>{const p=()=>kn,S=G(Yd),R=ia(m5(o)),H=$h(o),K=f5(H),ye=d5(H),Ae=T1(R,K,ye),Ne=Hy(Ae,u),Ue=k1(R,K,ye),Je=G(R.components),st=Zn=>{S.set(Zn)},ht=()=>{S.set($m(p))},At=()=>{const Zn=qr(Ne),mr=re(Zn,Gn=>S.get().getByDom(Gn).fold(()=>[],oe));Je.set(mr)},qt=Zn=>{const mr=ye;return(w(mr[Zn.name()])?mr[Zn.name()]:()=>{throw new Error("Could not find "+Zn.name()+" in "+JSON.stringify(o,null,2))})()},Dn=Zn=>w(ye[Zn.name()]),mn=()=>R.apis,sn=Zn=>ye[Zn]().map(mr=>mr.state.readState()).getOr("not enabled"),kn={uid:o.uid,getSystem:S.get,config:qt,hasConfigured:Dn,spec:o,readState:sn,getApis:mn,connect:st,disconnect:ht,element:Ne,syncComponents:At,components:Je.get,events:Ue};return kn},lv=(o,u)=>{const p=Bt(o,"components").getOr([]);return u.fold(()=>ne(p,uc),S=>ne(p,(R,H)=>f2(R,to(S,H))))},y5=(o,u)=>{const{events:p,...S}=JO(o),R=lv(S,u),H={...S,events:{...Bg,...p},components:R};return jo.value(A1(H,u))},Oi=o=>{const u=zt.fromText(o);return b5({element:u})},b5=o=>{const u=Nl("external.component",fa([er("element"),Ws("uid")]),o),p=G($m()),S=ye=>{p.set(ye)},R=()=>{p.set($m(()=>K))},H=u.uid.getOrThunk(()=>m1("external"));h1(u.element,H);const K={uid:H,getSystem:p.get,config:L.none,hasConfigured:X,connect:S,disconnect:R,getApis:()=>({}),element:u.element,spec:o,readState:Q("No state"),syncComponents:M,components:Q([]),events:{}};return Lm(K)},P1=m1,O5=o=>vn(o,"uid"),f2=(o,u)=>p1(o).getOrThunk(()=>{const p=O5(o)?o:{uid:P1(""),...o};return y5(p,u).getOrDie()}),uc=o=>f2(o,L.none()),lf=Lm;var x5=(o,u,p,S,R)=>o(p,S)?L.some(p):w(R)&&R(p)?L.none():u(p,S,R);const d2=(o,u,p)=>{let S=o.dom;const R=w(p)?p:X;for(;S.parentNode;){S=S.parentNode;const H=zt.fromDom(S);if(u(H))return L.some(H);if(R(H))break}return L.none()},cv=(o,u,p)=>x5((R,H)=>H(R),d2,o,u,p),o7=(o,u)=>{const p=R=>u(zt.fromDom(R));return Ve(o.dom.childNodes,p).map(zt.fromDom)},S5=(o,u)=>{const p=S=>{for(let R=0;R<S.childNodes.length;R++){const H=zt.fromDom(S.childNodes[R]);if(u(H))return L.some(H);const K=p(S.childNodes[R]);if(K.isSome())return K}return L.none()};return p(o.dom)},gw=(o,u,p)=>cv(o,u,p).isSome(),Ru=(o,u,p)=>d2(o,S=>$t(S,u),p),h2=(o,u)=>o7(o,p=>$t(p,u)),Mi=(o,u)=>un(u,o),Xd=(o,u,p)=>x5((R,H)=>$t(R,H),Ru,o,u,p),M1="aria-controls",zg=o=>cv(o,p=>{if(!St(p))return!1;const S=sa(p,"id");return S!==void 0&&S.indexOf(M1)>-1}).bind(p=>{const S=sa(p,"id"),R=ns(p);return Mi(R,`[${M1}="${S}"]`)}),uv=()=>{const o=Kr(M1);return{id:o,link:S=>{Dr(S,M1,o)},unlink:S=>{aa(S,M1)}}},fv=(o,u)=>zg(u).exists(p=>Nm(o,p)),Nm=(o,u)=>gw(u,p=>en(p,o.element),X)||fv(o,u),w5="unknown";var dv;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(dv||(dv={}));const Zg=G({}),hv=(o,u)=>{const p=[],S=new Date().getTime();return{logEventCut:(R,H,K)=>{p.push({outcome:"cut",target:H,purpose:K})},logEventStopped:(R,H,K)=>{p.push({outcome:"stopped",target:H,purpose:K})},logNoParent:(R,H,K)=>{p.push({outcome:"no-parent",target:H,purpose:K})},logEventNoHandlers:(R,H)=>{p.push({outcome:"no-handlers-left",target:H})},logEventResponse:(R,H,K)=>{p.push({outcome:"response",purpose:K,target:H})},write:()=>{const R=new Date().getTime();xe(["mousemove","mouseover","mouseout",Ud()],o)||console.log(o,{event:o,time:R-S,target:u.dom,sequence:ne(p,H=>xe(["cut","stopped","response"],H.outcome)?"{"+H.purpose+"} "+H.outcome+" at ("+_h(H.target)+")":H.outcome)})}}},C5=(o,u,p)=>{switch(Bt(Zg.get(),o).orThunk(()=>{const R=ct(Zg.get());return Xe(R,H=>o.indexOf(H)>-1?L.some(Zg.get()[H]):L.none())}).getOr(dv.NORMAL)){case dv.NORMAL:return p(vw());case dv.LOGGING:{const R=hv(o,u),H=p(R);return R.write(),H}case dv.STOP:return!0}},s7=["alloy/data/Fields","alloy/debugging/Debugging"],pw=()=>{const o=new Error;if(o.stack!==void 0){const u=o.stack.split(`
`);return Ve(u,p=>p.indexOf("alloy")>0&&!we(s7,S=>p.indexOf(S)>-1)).getOr(w5)}else return w5},a7={logEventCut:M,logEventStopped:M,logNoParent:M,logEventNoHandlers:M,logEventResponse:M,write:M},m2=(o,u,p)=>C5(o,u,p),vw=Q(a7),Du=Q([er("menu"),er("selectedMenu")]),T5=Q([er("item"),er("selectedItem")]);Q(uo(T5().concat(Du())));const E1=Q(uo(T5())),k5=uu("initSize",[er("numColumns"),er("numRows")]),i7=()=>Gc("markers",E1()),Uy=()=>uu("markers",[er("backgroundMenu")].concat(Du()).concat(T5())),Hg=o=>uu("markers",ne(o,er)),g2=(o,u,p)=>(pw(),ul(u,u,p,Il(S=>jo.value((...R)=>S.apply(void 0,R))))),Ds=o=>g2("onHandler",o,Ay(M)),$u=o=>g2("onKeyboardHandler",o,Ay(L.none)),Gd=o=>g2("onHandler",o,Ks()),yw=o=>g2("onKeyboardHandler",o,Ks()),ga=(o,u)=>ri(o,Q(u)),Wy=o=>ri(o,z),bw=Q(k5),dl=(o,u,p,S,R,H,K,ye=!1)=>({x:o,y:u,bubble:p,direction:S,placement:R,restriction:H,label:`${K}-${R}`,alwaysFit:ye}),Lh=Ce.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ug=(o,u,p,S,R,H,K,ye,Ae)=>o.fold(u,p,S,R,H,K,ye,Ae),Ow=(o,u,p,S)=>o.fold(u,u,S,S,u,S,p,p),p2=(o,u,p,S)=>o.fold(u,S,u,S,p,p,u,S),Yy=Lh.southeast,xw=Lh.southwest,v2=Lh.northeast,Ih=Lh.northwest,Bm=Lh.south,l7=Lh.north,Nn=Lh.east,Xy=Lh.west,_1=(o,u,p,S)=>{const R=o+u;return R>S?p:R<p?S:R},cf=(o,u,p)=>Math.min(Math.max(o,u),p),Sw=(o,u)=>{switch(u){case 1:return o.x;case 0:return o.x+o.width;case 2:return o.y;case 3:return o.y+o.height}},Ua=(o,u)=>fe(["left","right","top","bottom"],p=>Bt(u,p).map(S=>Sw(o,S))),y2=(o,u,p)=>{const S=(Ae,Ne)=>u[Ae].map(Ue=>{const Je=Ae==="top"||Ae==="bottom",st=Je?p.top:p.left,At=(Ae==="left"||Ae==="top"?Math.max:Math.min)(Ue,Ne)+st;return Je?cf(At,o.y,o.bottom):cf(At,o.x,o.right)}).getOr(Ne),R=S("left",o.x),H=S("top",o.y),K=S("right",o.right),ye=S("bottom",o.bottom);return ni(R,H,K-R,ye-H)},Qm="layout",ww=o=>o.x,b2=(o,u)=>o.x+o.width/2-u.width/2,Cw=(o,u)=>o.x+o.width-u.width,Gy=(o,u)=>o.y-u.height,R1=o=>o.y+o.height,Tw=(o,u)=>o.y+o.height/2-u.height/2,c7=o=>o.x+o.width,Kc=(o,u)=>o.x-u.width,hl=(o,u,p)=>dl(ww(o),R1(o),p.southeast(),Yy(),"southeast",Ua(o,{left:1,top:3}),Qm),nc=(o,u,p)=>dl(Cw(o,u),R1(o),p.southwest(),xw(),"southwest",Ua(o,{right:0,top:3}),Qm),Jc=(o,u,p)=>dl(ww(o),Gy(o,u),p.northeast(),v2(),"northeast",Ua(o,{left:1,bottom:2}),Qm),fc=(o,u,p)=>dl(Cw(o,u),Gy(o,u),p.northwest(),Ih(),"northwest",Ua(o,{right:0,bottom:2}),Qm),Ic=(o,u,p)=>dl(b2(o,u),Gy(o,u),p.north(),l7(),"north",Ua(o,{bottom:2}),Qm),ml=(o,u,p)=>dl(b2(o,u),R1(o),p.south(),Bm(),"south",Ua(o,{top:3}),Qm),kw=(o,u,p)=>dl(c7(o),Tw(o,u),p.east(),Nn(),"east",Ua(o,{left:0}),Qm),jy=(o,u,p)=>dl(Kc(o,u),Tw(o,u),p.west(),Xy(),"west",Ua(o,{right:1}),Qm),Aw=()=>[hl,nc,Jc,fc,ml,Ic,kw,jy],qy=()=>[nc,hl,fc,Jc,ml,Ic,kw,jy],Pw=()=>[Jc,fc,hl,nc,Ic,ml],A5=()=>[fc,Jc,nc,hl,Ic,ml],O2=()=>[hl,nc,Jc,fc,ml,Ic],Mw=()=>[nc,hl,fc,Jc,ml,Ic],u7=(o,u)=>u.universal?o:Oe(o,p=>xe(u.channels,p));var P5=Object.freeze({__proto__:null,events:o=>_a([qn(Jl(),(u,p)=>{const S=o.channels,R=ct(S),H=p,K=u7(R,H);le(K,ye=>{const Ae=S[ye],Ne=Ae.schema,Ue=Nl("channel["+ye+`] data
Receiver: `+_h(u.element),Ne,H.data);Ae.onReceive(u,Ue)})})])}),d7=[Gc("channels",rd(jo.value,fa([Gd("onReceive"),Mn("schema",bi())])))];const D1=(o,u,p)=>ld(S=>{p(S,o,u)}),x2=(o,u,p)=>ow((S,R)=>{p(S,o,u)}),M5=(o,u,p,S,R,H)=>{const K=fa(o),ye=Ec(u,[sd("config",o)]);return jd(K,ye,u,p,S,R,H)},p$=(o,u,p,S,R,H)=>{const K=o,ye=Ec(u,[fu("config",o)]);return jd(K,ye,u,p,S,R,H)},du=(o,u,p)=>Vy((R,...H)=>{const K=[R].concat(H);return R.config({name:Q(o)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+o+". Using API: "+p)},ye=>{const Ae=Array.prototype.slice.call(K,1);return u.apply(void 0,[R,ye.config,ye.state].concat(Ae))})},p,u),v$=o=>({key:o,value:void 0}),jd=(o,u,p,S,R,H,K)=>{const ye=Je=>En(Je,p)?Je[p]():L.none(),Ae=je(R,(Je,st)=>du(p,Je,st)),Ue={...je(H,(Je,st)=>e2(Je,st)),...Ae,revoke:F(v$,p),config:Je=>{const st=Nl(p+"-config",o,Je);return{key:p,value:{config:st,me:Ue,configAsRaw:Ga(()=>Nl(p+"-config",o,Je)),initialConfig:Je,state:K}}},schema:Q(u),exhibit:(Je,st)=>Xn(ye(Je),Bt(S,"exhibit"),(ht,At)=>At(st,ht.config,ht.state)).getOrThunk(()=>Eu({})),name:Q(p),handlers:Je=>ye(Je).map(st=>Bt(S,"events").getOr(()=>({}))(st.config,st.state)).getOr({})};return Ue},pr=o=>bt(o),Ew=fa([er("fields"),er("name"),Mn("active",{}),Mn("apis",{}),Mn("state",cd),Mn("extra",{})]),gl=o=>{const u=Nl("Creating behaviour: "+o.name,Ew,o);return M5(u.fields,u.name,u.active,u.apis,u.extra,u.state)},E5=fa([er("branchKey"),er("branches"),er("name"),Mn("active",{}),Mn("apis",{}),Mn("state",cd),Mn("extra",{})]),S2=o=>{const u=Nl("Creating behaviour: "+o.name,E5,o);return p$(ws(u.branchKey,u.branches),u.name,u.active,u.apis,u.extra,u.state)},_w=Q(void 0),hu=gl({fields:d7,name:"receiving",active:P5});var _5=Object.freeze({__proto__:null,exhibit:(o,u)=>Eu({classes:[],styles:u.useFixed()?{}:{position:"relative"}})});const mu=(o,u=!1)=>o.dom.focus({preventScroll:u}),$1=o=>o.dom.blur(),Ky=o=>{const u=ns(o).dom;return o.dom===u.activeElement},Nh=(o=n1())=>L.from(o.dom.activeElement).map(zt.fromDom),fd=o=>Nh(ns(o)).filter(u=>o.dom.contains(u.dom)),Wr=(o,u)=>{const p=ns(u),S=Nh(p).bind(H=>{const K=ye=>en(H,ye);return K(u)?L.some(u):S5(u,K)}),R=o(u);return S.each(H=>{Nh(p).filter(K=>en(K,H)).fold(()=>{mu(H)},M)}),R},uf=(o,u,p,S,R)=>{const H=K=>K+"px";return{position:o,left:u.map(H),top:p.map(H),right:S.map(H),bottom:R.map(H)}},R5=o=>({...o,position:L.some(o.position)}),D5=(o,u)=>{fr(o,R5(u))},Rw=Ce.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),$5=(o,u,p,S,R,H)=>{const K=u.rect,ye=K.x-p,Ae=K.y-S,Ne=K.width,Ue=K.height,Je=R-(ye+Ne),st=H-(Ae+Ue),ht=L.some(ye),At=L.some(Ae),qt=L.some(Je),Dn=L.some(st),mn=L.none();return Ug(u.direction,()=>uf(o,ht,At,mn,mn),()=>uf(o,mn,At,qt,mn),()=>uf(o,ht,mn,mn,Dn),()=>uf(o,mn,mn,qt,Dn),()=>uf(o,ht,At,mn,mn),()=>uf(o,ht,mn,mn,Dn),()=>uf(o,ht,At,mn,mn),()=>uf(o,mn,At,qt,mn))},Dw=(o,u)=>o.fold(()=>{const p=u.rect;return uf("absolute",L.some(p.x),L.some(p.y),L.none(),L.none())},(p,S,R,H)=>$5("absolute",u,p,S,R,H),(p,S,R,H)=>$5("fixed",u,p,S,R,H)),$w=(o,u)=>{const p=F(qp,u),S=o.fold(p,p,()=>{const K=Ll();return qp(u).translate(-K.left,-K.top)}),R=Pf(u),H=Wu(u);return ni(S.left,S.top,R,H)},m7=(o,u)=>u.fold(()=>o.fold(Xl,Xl,ni),p=>o.fold(Q(p),Q(p),()=>{const S=Lw(o,p.x,p.y);return ni(S.left,S.top,p.width,p.height)})),Lw=(o,u,p)=>{const S=Ns(u,p),R=()=>{const H=Ll();return S.translate(-H.left,-H.top)};return o.fold(Q(S),Q(S),R)},g7=(o,u,p,S)=>o.fold(u,p,S);Rw.none;const Nc=Rw.relative,Jy=Rw.fixed,p7=(o,u)=>({anchorBox:o,origin:u}),v7=(o,u)=>p7(o,u),Iw="data-alloy-placement",y7=(o,u)=>{Dr(o,Iw,u)},L5=o=>$i(o,Iw),I5=o=>aa(o,Iw),eb=Ce.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),N5=(o,u)=>{const{x:p,y:S,right:R,bottom:H}=u,{x:K,y:ye,right:Ae,bottom:Ne,width:Ue,height:Je}=o,st=K>=p&&K<=R,ht=ye>=S&&ye<=H,At=st&&ht,qt=Ae<=R&&Ae>=p,Dn=Ne<=H&&Ne>=S,mn=qt&&Dn,sn=Math.min(Ue,K>=p?R-K:Ae-p),kn=Math.min(Je,ye>=S?H-ye:Ne-S);return{originInBounds:At,sizeInBounds:mn,visibleW:sn,visibleH:kn}},Nw=(o,u)=>{const{x:p,y:S,right:R,bottom:H}=u,{x:K,y:ye,width:Ae,height:Ne}=o,Ue=Math.max(p,R-Ae),Je=Math.max(S,H-Ne),st=cf(K,p,Ue),ht=cf(ye,S,Je),At=Math.min(st+Ae,R)-st,qt=Math.min(ht+Ne,H)-ht;return ni(st,ht,At,qt)},mv=(o,u,p)=>{const S=Q(u.bottom-p.y),R=Q(p.bottom-u.y),H=Ow(o,R,R,S),K=Q(u.right-p.x),ye=Q(p.right-u.x);return{maxWidth:p2(o,ye,ye,K),maxHeight:H}},b7=(o,u,p,S)=>{const R=o.bubble,H=R.offset,K=y2(S,o.restriction,H),ye=o.x+H.left,Ae=o.y+H.top,Ne=ni(ye,Ae,u,p),{originInBounds:Ue,sizeInBounds:Je,visibleW:st,visibleH:ht}=N5(Ne,K),At=Ue&&Je,qt=At?Ne:Nw(Ne,K),Dn=qt.width>0&&qt.height>0,{maxWidth:mn,maxHeight:sn}=mv(o.direction,qt,S),kn={rect:qt,maxHeight:sn,maxWidth:mn,direction:o.direction,placement:o.placement,classes:{on:R.classesOn,off:R.classesOff},layout:o.label,testY:Ae};return At||o.alwaysFit?eb.fit(kn):eb.nofit(kn,st,ht,Dn)},O7=(o,u,p,S,R,H)=>{const K=S.width,ye=S.height,Ae=(Ue,Je,st,ht,At)=>{const qt=Ue(p,S,R,o,H),Dn=b7(qt,K,ye,H);return Dn.fold(Q(Dn),(mn,sn,kn,Zn)=>(At===Zn?kn>ht||sn>st:!At&&Zn)?Dn:eb.nofit(Je,st,ht,At))};return Te(u,(Ue,Je)=>{const st=F(Ae,Je);return Ue.fold(Q(Ue),st)},eb.nofit({rect:p,maxHeight:S.height,maxWidth:S.width,direction:Yy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:p.y},-1,-1,!1)).fold(z,z)},Bw=o=>{const u=G(L.none()),p=()=>u.get().each(o);return{clear:()=>{p(),u.set(L.none())},isSet:()=>u.get().isSome(),get:()=>u.get(),set:ye=>{p(),u.set(L.some(ye))}}},x7=()=>Bw(o=>o.destroy()),Fm=()=>Bw(o=>o.unbind()),ps=()=>{const o=Bw(M);return{...o,on:p=>o.get().each(p)}},Qw=ie,Bc=(o,u,p)=>Pg(o,u,Qw,p),w2=(o,u,p)=>by(o,u,Qw,p),Fw=yy,Vw=["top","bottom","right","left"],C2="data-alloy-transition-timer",B5=(o,u)=>tc(o,u.classes),S7=(o,u,p)=>p.exists(S=>{const R=o.mode;return R==="all"?!0:S[R]!==u[R]}),w7=(o,u)=>{const p=S=>parseFloat(S).toFixed(3);return Gt(u,(S,R)=>{const H=o[R].map(p),K=S.map(p);return!Yn(H,K)}).isSome()},L1=o=>{const u=H=>{const ye=Fa(o,H).split(/\s*,\s*/);return Oe(ye,dn)},p=H=>{if(h(H)&&/^[\d.]+/.test(H)){const K=parseFloat(H);return mt(H,"ms")?K:K*1e3}else return 0},S=u("transition-delay"),R=u("transition-duration");return Te(R,(H,K,ye)=>{const Ae=p(S[ye])+p(K);return Math.max(H,Ae)},0)},Q5=(o,u)=>{const p=Fm(),S=Fm();let R;const H=Ne=>{var Ue;const Je=(Ue=Ne.raw.pseudoElement)!==null&&Ue!==void 0?Ue:"";return en(Ne.target,o)&&rn(Je)&&xe(Vw,Ne.raw.propertyName)},K=Ne=>{if(T(Ne)||H(Ne)){p.clear(),S.clear();const Ue=Ne==null?void 0:Ne.raw.type;(T(Ue)||Ue===tl())&&(clearTimeout(R),aa(o,C2),af(o,u.classes))}},ye=Bc(o,Dc(),Ne=>{H(Ne)&&(ye.unbind(),p.set(Bc(o,tl(),K)),S.set(Bc(o,qc(),K)))}),Ae=L1(o);requestAnimationFrame(()=>{R=setTimeout(K,Ae+17),Dr(o,C2,R)})},y$=(o,u)=>{si(o,u.classes),$i(o,C2).each(p=>{clearTimeout(parseInt(p,10)),aa(o,C2)}),Q5(o,u)},Wg=(o,u,p,S,R,H)=>{const K=S7(S,R,H);if(K||B5(o,S)){Mo(o,"position",p.position);const ye=$w(u,o),Ae=Dw(u,{...R,rect:ye}),Ne=fe(Vw,Ue=>Ae[Ue]);w7(p,Ne)&&(fr(o,Ne),K&&y$(o,S),fi(o))}else af(o,S.classes)},C7=o=>({width:Pf(o),height:Wu(o)}),I1=(o,u,p,S)=>{Ho(u,"max-height"),Ho(u,"max-width");const R=C7(u);return O7(u,S.preference,o,R,p,S.bounds)},T7=(o,u)=>{const p=u.classes;af(o,p.off),si(o,p.on)},zw=(o,u,p)=>{const S=p.maxHeightFunction;S(o,u.maxHeight)},F5=(o,u,p)=>{const S=p.maxWidthFunction;S(o,u.maxWidth)},gv=(o,u,p)=>{const S=Dw(p.origin,u);p.transition.each(R=>{Wg(o,p.origin,S,R,u,p.lastPlacement)}),D5(o,S)},k7=(o,u)=>{y7(o,u.placement)},V5=(o,u)=>{Yu(o,Math.floor(u))},z5=Q((o,u)=>{V5(o,u),Hi(o,{"overflow-x":"hidden","overflow-y":"auto"})}),N1=Q((o,u)=>{V5(o,u)}),Z5=(o,u,p)=>o[u]===void 0?p:o[u],Zw=(o,u,p,S,R,H,K,ye)=>{const Ae=Z5(K,"maxHeightFunction",z5()),Ne=Z5(K,"maxWidthFunction",M),Ue=o.anchorBox,Je=o.origin,st={bounds:m7(Je,H),origin:Je,preference:S,maxHeightFunction:Ae,maxWidthFunction:Ne,lastPlacement:R,transition:ye};return A7(Ue,u,p,st)},A7=(o,u,p,S)=>{const R=I1(o,u,p,S);return gv(u,R,S),k7(u,R),T7(u,R),zw(u,R,S),F5(u,R,S),{layout:R.layout,placement:R.placement}},H5=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Bh=(o,u,p,S=1)=>{const R=o*S,H=u*S,K=Ae=>Bt(p,Ae).getOr([]),ye=(Ae,Ne,Ue)=>{const Je=se(H5,Ue);return{offset:Ns(Ae,Ne),classesOn:re(Ue,K),classesOff:re(Je,K)}};return{southeast:()=>ye(-o,u,["top","alignLeft"]),southwest:()=>ye(o,u,["top","alignRight"]),south:()=>ye(-o/2,u,["top","alignCentre"]),northeast:()=>ye(-o,-u,["bottom","alignLeft"]),northwest:()=>ye(o,-u,["bottom","alignRight"]),north:()=>ye(-o/2,-u,["bottom","alignCentre"]),east:()=>ye(o,-u/2,["valignCentre","left"]),west:()=>ye(-o,-u/2,["valignCentre","right"]),insetNortheast:()=>ye(R,H,["top","alignLeft","inset"]),insetNorthwest:()=>ye(-R,H,["top","alignRight","inset"]),insetNorth:()=>ye(-R/2,H,["top","alignCentre","inset"]),insetSoutheast:()=>ye(R,-H,["bottom","alignLeft","inset"]),insetSouthwest:()=>ye(-R,-H,["bottom","alignRight","inset"]),insetSouth:()=>ye(-R/2,-H,["bottom","alignCentre","inset"]),insetEast:()=>ye(-R,-H/2,["valignCentre","right","inset"]),insetWest:()=>ye(R,-H/2,["valignCentre","left","inset"])}},tb=()=>Bh(0,0,{}),nb=z,T2=(o,u)=>p=>rb(p)==="rtl"?u:o,rb=o=>Fa(o,"direction")==="rtl"?"rtl":"ltr";var Qf;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(Qf||(Qf={}));const B1="data-alloy-vertical-dir",ob=o=>gw(o,u=>St(u)&&sa(u,"data-alloy-vertical-dir")===Qf.BottomToTop),Yg=()=>Ec("layouts",[er("onLtr"),er("onRtl"),Ws("onBottomLtr"),Ws("onBottomRtl")]),k2=(o,u,p,S,R,H,K)=>{const ye=K.map(ob).getOr(!1),Ae=u.layouts.map(ht=>ht.onLtr(o)),Ne=u.layouts.map(ht=>ht.onRtl(o)),Ue=ye?u.layouts.bind(ht=>ht.onBottomLtr.map(At=>At(o))).or(Ae).getOr(R):Ae.getOr(p),Je=ye?u.layouts.bind(ht=>ht.onBottomRtl.map(At=>At(o))).or(Ne).getOr(H):Ne.getOr(S);return T2(Ue,Je)(o)},P7=(o,u,p)=>{const S=u.hotspot,R=$w(p,S.element),H=k2(o.element,u,O2(),Mw(),Pw(),A5(),L.some(u.hotspot.element));return L.some(nb({anchorBox:R,bubble:u.bubble.getOr(tb()),overrides:u.overrides,layouts:H}))};var M7=[er("hotspot"),Ws("bubble"),Mn("overrides",{}),Yg(),ga("placement",P7)];const U5=(o,u,p)=>{const S=Lw(p,u.x,u.y),R=ni(S.left,S.top,u.width,u.height),H=k2(o.element,u,Aw(),qy(),Aw(),qy(),L.none());return L.some(nb({anchorBox:R,bubble:u.bubble,overrides:u.overrides,layouts:H}))};var E7=[er("x"),er("y"),Mn("height",0),Mn("width",0),Mn("bubble",tb()),Mn("overrides",{}),Yg(),ga("placement",U5)];const Hw=Ce.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),_7=o=>o.fold(z,(u,p,S)=>u.translate(-p,-S)),R7=o=>o.fold(z,z),W5=o=>Te(o,(u,p)=>u.translate(p.left,p.top),Ns(0,0)),D7=o=>{const u=ne(o,_7);return W5(u)},Y5=o=>{const u=ne(o,R7);return W5(u)},$7=Hw.screen,A2=Hw.absolute,L7=(o,u,p)=>{const S=Jn(p.root).dom,R=H=>{const K=Cn(H),ye=Cn(o.element);return en(K,ye)};return L.from(S.frameElement).map(zt.fromDom).filter(R).map(Rl)},X5=(o,u,p)=>{const S=Cn(o.element),R=Ll(S),H=L7(o,u,p).getOr(R);return A2(H,R.left,R.top)},Q1=(o,u,p,S)=>{const R=$7(Ns(o,u));return L.some(r1(R,p,S))},Uw=(o,u,p,S,R)=>o.map(H=>{const K=[u,H.point],ye=g7(S,()=>Y5(K),()=>Y5(K),()=>D7(K)),Ae=Th(ye.left,ye.top,H.width,H.height),Ne=p.showAbove?Pw():O2(),Ue=p.showAbove?A5():Mw(),Je=k2(R,p,Ne,Ue,Ne,Ue,L.none());return nb({anchorBox:Ae,bubble:p.bubble.getOr(tb()),overrides:p.overrides,layouts:Je})}),Ww=(o,u,p)=>{const S=X5(o,p,u);return u.node.filter(ea).bind(R=>{const H=R.dom.getBoundingClientRect(),K=Q1(H.left,H.top,H.width,H.height),ye=u.node.getOr(o.element);return Uw(K,S,u,p,ye)})};var Yw=[er("node"),er("root"),Ws("bubble"),Yg(),Mn("overrides",{}),Mn("showAbove",!1),ga("placement",Ww)];const G5="\uFEFF",Xw=" ",P2={create:(o,u,p,S)=>({start:o,soffset:u,finish:p,foffset:S})},M2=Ce.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),N7=(o,u,p,S)=>o.fold(u,p,S),Gw=o=>o.fold(z,z,z),j5=M2.before,B7=M2.on,jw=M2.after,Q7={before:j5,on:B7,after:jw,cata:N7,getStart:Gw},F1=Ce.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),F7=o=>F1.exact(o.start,o.soffset,o.finish,o.foffset),qw=o=>o.match({domRange:u=>zt.fromDom(u.startContainer),relative:(u,p)=>Q7.getStart(u),exact:(u,p,S,R)=>u}),V7=F1.domRange,z7=F1.relative,Z7=F1.exact,q5=o=>{const u=qw(o);return Jn(u)},H7=P2.create,Bl={domRange:V7,relative:z7,exact:Z7,exactFromRange:F7,getWin:q5,range:H7},b$=(o,u)=>{u.fold(p=>{o.setStartBefore(p.dom)},(p,S)=>{o.setStart(p.dom,S)},p=>{o.setStartAfter(p.dom)})},V1=(o,u)=>{u.fold(p=>{o.setEndBefore(p.dom)},(p,S)=>{o.setEnd(p.dom,S)},p=>{o.setEndAfter(p.dom)})},E2=(o,u,p)=>{const S=o.document.createRange();return b$(S,u),V1(S,p),S},K5=(o,u,p,S,R)=>{const H=o.document.createRange();return H.setStart(u.dom,p),H.setEnd(S.dom,R),H},Kw=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),J5=o=>{const u=o.getClientRects(),p=u.length>0?u[0]:o.getBoundingClientRect();return p.width>0||p.height>0?L.some(p).map(Kw):L.none()},ek=o=>{const u=o.getBoundingClientRect();return u.width>0||u.height>0?L.some(u).map(Kw):L.none()},pv=Ce.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),sb=(o,u,p)=>u(zt.fromDom(p.startContainer),p.startOffset,zt.fromDom(p.endContainer),p.endOffset),U7=(o,u)=>u.match({domRange:p=>({ltr:Q(p),rtl:L.none}),relative:(p,S)=>({ltr:Ga(()=>E2(o,p,S)),rtl:Ga(()=>L.some(E2(o,S,p)))}),exact:(p,S,R,H)=>({ltr:Ga(()=>K5(o,p,S,R,H)),rtl:Ga(()=>L.some(K5(o,R,H,p,S)))})}),W7=(o,u)=>{const p=u.ltr();return p.collapsed?u.rtl().filter(R=>R.collapsed===!1).map(R=>pv.rtl(zt.fromDom(R.endContainer),R.endOffset,zt.fromDom(R.startContainer),R.startOffset)).getOrThunk(()=>sb(o,pv.ltr,p)):sb(o,pv.ltr,p)},ab=(o,u)=>{const p=U7(o,u);return W7(o,p)},Jw=(o,u)=>ab(o,u).match({ltr:(S,R,H,K)=>{const ye=o.document.createRange();return ye.setStart(S.dom,R),ye.setEnd(H.dom,K),ye},rtl:(S,R,H,K)=>{const ye=o.document.createRange();return ye.setStart(H.dom,K),ye.setEnd(S.dom,R),ye}});pv.ltr,pv.rtl;const tk=(o,u,p)=>Oe(Ur(o,p),u),pl=(o,u)=>tn(u,o),nk=(o,u,p,S)=>{const H=Cn(o).dom.createRange();return H.setStart(o.dom,u),H.setEnd(p.dom,S),H},e3=(o,u,p,S)=>{const R=nk(o,u,p,S),H=en(o,p)&&u===S;return R.collapsed&&!H},O$=o=>L.from(o.getSelection()),z1=o=>{if(o.rangeCount>0){const u=o.getRangeAt(0),p=o.getRangeAt(o.rangeCount-1);return L.some(P2.create(zt.fromDom(u.startContainer),u.startOffset,zt.fromDom(p.endContainer),p.endOffset))}else return L.none()},Y7=o=>{if(o.anchorNode===null||o.focusNode===null)return z1(o);{const u=zt.fromDom(o.anchorNode),p=zt.fromDom(o.focusNode);return e3(u,o.anchorOffset,p,o.focusOffset)?L.some(P2.create(u,o.anchorOffset,p,o.focusOffset)):z1(o)}},rk=o=>O$(o).filter(u=>u.rangeCount>0).bind(Y7),t3=(o,u)=>{const p=Jw(o,u);return J5(p)},ib=(o,u)=>{const p=Jw(o,u);return ek(p)},Z1=((o,u)=>{const p=H=>{if(!o(H))throw new Error("Can only get "+u+" value of a "+u+" node");return S(H).getOr("")},S=H=>o(H)?L.from(H.dom.nodeValue):L.none();return{get:p,getOption:S,set:(H,K)=>{if(!o(H))throw new Error("Can only set raw "+u+" value of a "+u+" node");H.dom.nodeValue=K}}})(Tt,"text"),X7=o=>Z1.get(o),Xg=(o,u)=>({element:o,offset:u}),ok=(o,u)=>{const p=qr(o);if(p.length===0)return Xg(o,u);if(u<p.length)return Xg(p[u],0);{const S=p[p.length-1],R=Tt(S)?X7(S).length:qr(S).length;return Xg(S,R)}},Gg=(o,u)=>Tt(o)?Xg(o,u):ok(o,u),jg=o=>o.foffset!==void 0,n3=(o,u)=>u.getSelection.getOrThunk(()=>()=>rk(o))().map(S=>{if(jg(S)){const R=Gg(S.start,S.soffset),H=Gg(S.finish,S.foffset);return Bl.range(R.element,R.offset,H.element,H.offset)}else return S}),sk=(o,u,p)=>{const S=Jn(u.root).dom,R=X5(o,p,u),H=n3(S,u).bind(Ae=>{if(jg(Ae))return ib(S,Bl.exactFromRange(Ae)).orThunk(()=>{const Ue=zt.fromText(G5);ju(Ae.start,Ue);const Je=t3(S,Bl.exact(Ue,0,Ue,1));return Pc(Ue),Je}).bind(Ue=>Q1(Ue.left,Ue.top,Ue.width,Ue.height));{const Ne=je(Ae,Je=>Je.dom.getBoundingClientRect()),Ue={left:Math.min(Ne.firstCell.left,Ne.lastCell.left),right:Math.max(Ne.firstCell.right,Ne.lastCell.right),top:Math.min(Ne.firstCell.top,Ne.lastCell.top),bottom:Math.max(Ne.firstCell.bottom,Ne.lastCell.bottom)};return Q1(Ue.left,Ue.top,Ue.right-Ue.left,Ue.bottom-Ue.top)}}),ye=n3(S,u).bind(Ae=>jg(Ae)?St(Ae.start)?L.some(Ae.start):dr(Ae.start):L.some(Ae.firstCell)).getOr(o.element);return Uw(H,R,u,p,ye)};var x$=[Ws("getSelection"),er("root"),Ws("bubble"),Yg(),Mn("overrides",{}),Mn("showAbove",!1),ga("placement",sk)];const r3="link-layout",qg=o=>o.x+o.width,Qh=(o,u)=>o.x-u.width,lb=(o,u)=>o.y-u.height+o.height,H1=o=>o.y,o3=(o,u,p)=>dl(qg(o),H1(o),p.southeast(),Yy(),"southeast",Ua(o,{left:0,top:2}),r3),Vm=(o,u,p)=>dl(Qh(o,u),H1(o),p.southwest(),xw(),"southwest",Ua(o,{right:1,top:2}),r3),qd=(o,u,p)=>dl(qg(o),lb(o,u),p.northeast(),v2(),"northeast",Ua(o,{left:0,bottom:3}),r3),cb=(o,u,p)=>dl(Qh(o,u),lb(o,u),p.northwest(),Ih(),"northwest",Ua(o,{right:1,bottom:3}),r3),R2=()=>[o3,Vm,qd,cb],ub=()=>[Vm,o3,cb,qd],s3=(o,u,p)=>{const S=$w(p,u.item.element),R=k2(o.element,u,R2(),ub(),R2(),ub(),L.none());return L.some(nb({anchorBox:S,bubble:tb(),overrides:u.overrides,layouts:R}))};var U1=[er("item"),Yg(),Mn("overrides",{}),ga("placement",s3)],fb=ws("type",{selection:x$,node:Yw,hotspot:M7,submenu:U1,makeshift:E7});const a3=[cc("classes",cl),jc("mode","all",["all","layout","placement"])],ak=[Mn("useFixed",X),Ws("getBounds")],Kg=[Gc("anchor",fb),Ec("transition",a3)],D2=()=>{const o=document.documentElement;return Jy(0,0,o.clientWidth,o.clientHeight)},G7=o=>{const u=Rl(o.element),p=o.element.dom.getBoundingClientRect();return Nc(u.left,u.top,p.width,p.height)},ik=(o,u,p,S,R,H)=>{const K=v7(u.anchorBox,o);return Zw(K,S.element,u.bubble,u.layouts,R,p,u.overrides,H)},i3=(o,u,p,S,R)=>{const H=L.none();Ei(o,u,p,S,R,H)},Ei=(o,u,p,S,R,H)=>{const K=Nl("placement.info",uo(Kg),R),ye=K.anchor,Ae=S.element,Ne=p.get(S.uid);Wr(()=>{Mo(Ae,"position","fixed");const Ue=Za(Ae,"visibility");Mo(Ae,"visibility","hidden");const Je=u.useFixed()?D2():G7(o);ye.placement(o,ye,Je).each(st=>{const ht=H.orThunk(()=>u.getBounds.map(W)),At=ik(Je,st,ht,S,Ne,K.transition);p.set(S.uid,At)}),Ue.fold(()=>{Ho(Ae,"visibility")},st=>{Mo(Ae,"visibility",st)}),Za(Ae,"left").isNone()&&Za(Ae,"top").isNone()&&Za(Ae,"right").isNone()&&Za(Ae,"bottom").isNone()&&ln(Za(Ae,"position"),"fixed")&&Ho(Ae,"position")},Ae)};var lk=Object.freeze({__proto__:null,position:i3,positionWithinBounds:Ei,getMode:(o,u,p)=>u.useFixed()?"fixed":"absolute",reset:(o,u,p,S)=>{const R=S.element;le(["position","left","right","top","bottom"],H=>Ho(R,H)),I5(R),p.clear(S.uid)}}),Jg=Object.freeze({__proto__:null,init:()=>{let o={};return Mu({readState:()=>o,clear:R=>{k(R)?delete o[R]:o={}},set:(R,H)=>{o[R]=H},get:R=>Bt(o,R)})}});const dc=gl({fields:ak,name:"positioning",active:_5,apis:lk,state:Jg}),W1=o=>o.getSystem().isConnected(),db=o=>{As(o,Ig());const u=o.components();le(u,db)},Y1=o=>{const u=o.components();le(u,Y1),As(o,sf())},l3=(o,u)=>{o.getSystem().addToWorld(u),ea(o.element)&&Y1(u)},X1=o=>{db(o),o.getSystem().removeFromWorld(o)},vv=(o,u)=>{Yc(o.element,u.element)},Kd=o=>{le(o.components(),u=>Pc(u.element)),Mg(o.element),o.syncComponents()},j7=(o,u,p)=>{const S=o.components();Kd(o);const R=p(u),H=se(S,R);le(H,K=>{db(K),o.getSystem().removeFromWorld(K)}),le(R,K=>{W1(K)?vv(o,K):(o.getSystem().addToWorld(K),vv(o,K),ea(o.element)&&Y1(K))}),o.syncComponents()},q7=(o,u,p)=>{const S=o.components(),R=re(u,ye=>p1(ye).toArray());le(S,ye=>{xe(R,ye)||X1(ye)});const H=p(u),K=se(S,H);le(K,ye=>{W1(ye)&&X1(ye)}),le(H,ye=>{W1(ye)||l3(o,ye)}),o.syncComponents()},ep=(o,u)=>{G1(o,u,Yc)},G1=(o,u,p)=>{o.getSystem().addToWorld(u),p(o.element,u.element),ea(o.element)&&Y1(u),o.syncComponents()},L2=o=>{db(o),Pc(o.element),o.getSystem().removeFromWorld(o)},Fh=o=>{const u=Fn(o.element).bind(p=>o.getSystem().getByDom(p).toOptional());L2(o),u.each(p=>{p.syncComponents()})},c3=o=>{const u=o.components();le(u,L2),Mg(o.element),o.syncComponents()},Ql=(o,u)=>{dd(o,u,Yc)},Zm=(o,u)=>{dd(o,u,Gp)},dd=(o,u,p)=>{p(o,u.element);const S=qr(u.element);le(S,R=>{u.getByDom(R).each(Y1)})},j1=o=>{const u=qr(o.element);le(u,p=>{o.getByDom(p).each(db)}),Pc(o.element)},Qc=(o,u,p,S)=>{p.get().each(K=>{c3(o)});const R=u.getAttachPoint(o);ep(R,o);const H=o.getSystem().build(S);return ep(o,H),p.set(H),H},gu=(o,u,p,S)=>{const R=Qc(o,u,p,S);return u.onOpen(o,R),R},eu=(o,u,p,S)=>p.get().map(()=>Qc(o,u,p,S)),hd=(o,u,p,S,R)=>{hb(o,u),gu(o,u,p,S),R(),mb(o,u)},I2=(o,u,p)=>{p.get().each(S=>{c3(o),Fh(o),u.onClose(o,S),p.clear()})},ff=(o,u,p)=>p.isOpen(),yv=(o,u,p,S)=>ff(o,u,p)&&p.get().exists(R=>u.isPartOf(o,R,S)),u3=(o,u,p)=>p.get(),K7=(o,u,p,S)=>{Za(o.element,u).fold(()=>{aa(o.element,p)},R=>{Dr(o.element,p,R)}),Mo(o.element,u,S)},ck=(o,u,p)=>{$i(o.element,p).fold(()=>Ho(o.element,u),S=>Mo(o.element,u,S))},hb=(o,u,p)=>{const S=u.getAttachPoint(o);Mo(o.element,"position",dc.getMode(S)),K7(o,"visibility",u.cloakVisibilityAttr,"hidden")},uk=o=>we(["top","left","right","bottom"],u=>Za(o,u).isSome()),mb=(o,u,p)=>{uk(o.element)||Ho(o.element,"position"),ck(o,"visibility",u.cloakVisibilityAttr)};var N2=Object.freeze({__proto__:null,cloak:hb,decloak:mb,open:gu,openWhileCloaked:hd,close:I2,isOpen:ff,isPartOf:yv,getState:u3,setContent:eu}),fk=Object.freeze({__proto__:null,events:(o,u)=>_a([qn(of(),(p,S)=>{I2(p,o,u)})])}),e6=[Ds("onOpen"),Ds("onClose"),er("isPartOf"),er("getAttachPoint"),Mn("cloakVisibilityAttr","data-precloak-visibility")],dk=Object.freeze({__proto__:null,init:()=>{const o=ps(),u=Q("not-implemented");return Mu({readState:u,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const Ps=gl({fields:e6,name:"sandboxing",active:fk,apis:N2,state:dk}),Jd=Q("dismiss.popups"),bv=Q("reposition.popups"),f3=Q("mouse.released"),hk=fa([Mn("isExtraPart",X),Ec("fireEventInstead",[Mn("event",Ng())])]),gb=o=>{const u=Nl("Dismissal",hk,o);return{[Jd()]:{schema:fa([er("target")]),onReceive:(p,S)=>{Ps.isOpen(p)&&(Ps.isPartOf(p,S.target)||u.isExtraPart(p,S.target)||u.fireEventInstead.fold(()=>Ps.close(p),H=>As(p,H.event)))}}}},t6=fa([Ec("fireEventInstead",[Mn("event",a5())]),nf("doReposition")]),q1=o=>{const u=Nl("Reposition",t6,o);return{[bv()]:{onReceive:p=>{Ps.isOpen(p)&&u.fireEventInstead.fold(()=>u.doReposition(p),S=>As(p,S.event))}}}},B2=(o,u,p)=>{u.store.manager.onLoad(o,u,p)},df=(o,u,p)=>{u.store.manager.onUnload(o,u,p)};var tp=Object.freeze({__proto__:null,onLoad:B2,onUnload:df,setValue:(o,u,p,S)=>{u.store.manager.setValue(o,u,p,S)},getValue:(o,u,p)=>u.store.manager.getValue(o,u,p),getState:(o,u,p)=>p}),V2=Object.freeze({__proto__:null,events:(o,u)=>{const p=o.resetOnDom?[ka((S,R)=>{B2(S,o,u)}),Eh((S,R)=>{df(S,o,u)})]:[x2(o,u,B2)];return _a(p)}});const Ov=()=>{const o=G(null),u=()=>({mode:"memory",value:o.get()}),p=()=>o.get()===null,S=()=>{o.set(null)};return Mu({set:o.set,get:o.get,isNotSet:p,clear:S,readState:u})},n6=()=>Mu({readState:M}),mk=()=>{const o=G({}),u=G({});return Mu({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:u.get()}),lookup:K=>Bt(o.get(),K).orThunk(()=>Bt(u.get(),K)),update:K=>{const ye=o.get(),Ae=u.get(),Ne={},Ue={};le(K,Je=>{Ne[Je.value]=Je,Bt(Je,"meta").each(st=>{Bt(st,"text").each(ht=>{Ue[ht]=Je})})}),o.set({...ye,...Ne}),u.set({...Ae,...Ue})},clear:()=>{o.set({}),u.set({})}})};var J1=Object.freeze({__proto__:null,memory:Ov,dataset:mk,manual:n6,init:o=>o.store.manager.state(o)});const Hm=(o,u,p,S)=>{const R=u.store;p.update([S]),R.setValue(o,S),u.onSetValue(o,S)},o6=(o,u,p)=>{const S=u.store,R=S.getDataKey(o);return p.lookup(R).getOrThunk(()=>S.getFallbackEntry(R))},s6=(o,u,p)=>{u.store.initialValue.each(R=>{Hm(o,u,p,R)})},gk=(o,u,p)=>{p.clear()};var d3=[Ws("initialValue"),er("getFallbackEntry"),er("getDataKey"),er("setValue"),ga("manager",{setValue:Hm,getValue:o6,onLoad:s6,onUnload:gk,state:mk})];const h3=(o,u,p)=>u.store.getValue(o),m3=(o,u,p,S)=>{u.store.setValue(o,S),u.onSetValue(o,S)},z2=(o,u,p)=>{u.store.initialValue.each(S=>{u.store.setValue(o,S)})};var np=[er("getValue"),Mn("setValue",M),Ws("initialValue"),ga("manager",{setValue:m3,getValue:h3,onLoad:z2,onUnload:M,state:cd.init})];const pk=(o,u,p,S)=>{p.set(S),u.onSetValue(o,S)},pb=(o,u,p)=>p.get(),g3=(o,u,p)=>{u.store.initialValue.each(S=>{p.isNotSet()&&p.set(S)})},a6=(o,u,p)=>{p.clear()};var vb=[Ws("initialValue"),ga("manager",{setValue:pk,getValue:pb,onLoad:g3,onUnload:a6,state:Ov})],i6=[_c("store",{mode:"memory"},ws("mode",{memory:vb,manual:np,dataset:d3})),Ds("onSetValue"),Mn("resetOnDom",!1)];const Fr=gl({fields:i6,name:"representing",active:V2,apis:tp,extra:{setValueFrom:(o,u)=>{const p=Fr.getValue(u);Fr.setValue(o,p)}},state:J1}),rl=(o,u)=>D(o,{},ne(u,p=>u1(p.name(),"Cannot configure "+p.name()+" for "+o)).concat([ri("dump",z)])),Um=o=>o.dump,Qi=(o,u)=>({...pr(u),...o.dump}),Ff={field:rl,augment:Qi,get:Um},Z2="placeholder",yb=Ce.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),eh=o=>vn(o,"uiType"),H2=(o,u,p,S)=>o.exists(R=>R!==p.owner)?yb.single(!0,Q(p)):Bt(S,p.name).fold(()=>{throw new Error("Unknown placeholder component: "+p.name+`
Known: [`+ct(S)+`]
Namespace: `+o.getOr("none")+`
Spec: `+JSON.stringify(p,null,2))},R=>R.replace()),U2=(o,u,p,S)=>eh(p)&&p.uiType===Z2?H2(o,u,p,S):yb.single(!1,Q(p)),e0=(o,u,p,S)=>U2(o,u,p,S).fold((H,K)=>{const ye=eh(p)?K(u,p.config,p.validated):K(u),Ae=Bt(ye,"components").getOr([]),Ne=re(Ae,Ue=>e0(o,u,Ue,S));return[{...ye,components:Ne}]},(H,K)=>{if(eh(p)){const ye=K(u,p.config,p.validated);return p.validated.preprocess.getOr(z)(ye)}else return K(u)}),vk=(o,u,p,S)=>re(p,R=>e0(o,u,R,S)),bb=(o,u)=>{let p=!1;const S=()=>p,R=()=>{if(p)throw new Error("Trying to use the same placeholder more than once: "+o);return p=!0,u},H=()=>u.fold((K,ye)=>K,(K,ye)=>K);return{name:Q(o),required:H,used:S,replace:R}},p3=(o,u,p,S)=>{const R=je(S,(K,ye)=>bb(ye,K)),H=vk(o,u,p,R);return Ye(R,K=>{if(K.used()===!1&&K.required())throw new Error("Placeholder: "+K.name()+` was not found in components list
Namespace: `+o.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),H},v3=yb.single,l6=yb.multiple,th=Q(Z2),W2=Ce.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),t0=Mn("factory",{sketch:z}),rc=Mn("schema",[]),ji=er("name"),Y2=ul("pname","pname",$f(o=>"<alloy."+Kr(o.name)+">"),bi()),Ob=ri("schema",()=>[Ws("preprocess")]),X2=Mn("defaults",Q({})),xb=Mn("overrides",Q({})),Sb=uo([t0,rc,ji,Y2,X2,xb]),n0=uo([t0,rc,ji,X2,xb]),yk=uo([t0,rc,ji,Y2,X2,xb]),wb=uo([t0,Ob,ji,er("unit"),Y2,X2,xb]),bk=o=>o.fold(L.some,L.none,L.some,L.some),Ok=o=>{const u=p=>p.name;return o.fold(u,u,u,u)},xk=o=>o.fold(z,z,z,z),Vf=(o,u)=>p=>{const S=Nl("Converting part type",u,p);return o(S)},hc=Vf(W2.required,Sb),md=Vf(W2.external,n0),pu=Vf(W2.optional,yk),Cb=Vf(W2.group,wb),G2=Q("entirety");var Sk=Object.freeze({__proto__:null,required:hc,external:md,optional:pu,group:Cb,asNamedPart:bk,name:Ok,asCommon:xk,original:G2});const Tb=(o,u,p,S)=>Ta(u.defaults(o,p,S),p,{uid:o.partUids[u.name]},u.overrides(o,p,S)),c6=(o,u,p)=>{const S={},R={};return le(p,H=>{H.fold(K=>{S[K.pname]=v3(!0,(ye,Ae,Ne)=>K.factory.sketch(Tb(ye,K,Ae,Ne)))},K=>{const ye=u.parts[K.name];R[K.name]=Q(K.factory.sketch(Tb(u,K,ye[G2()]),ye))},K=>{S[K.pname]=v3(!1,(ye,Ae,Ne)=>K.factory.sketch(Tb(ye,K,Ae,Ne)))},K=>{S[K.pname]=l6(!0,(ye,Ae,Ne)=>{const Ue=ye[K.name];return ne(Ue,Je=>K.factory.sketch(Ta(K.defaults(ye,Je,Ne),Je,K.overrides(ye,Je))))})})}),{internals:Q(S),externals:Q(R)}},Wm=(o,u)=>{const p={};return le(u,S=>{bk(S).each(R=>{const H=kb(o,R.pname);p[R.name]=K=>{const ye=Nl("Part: "+R.name+" in "+o,uo(R.schema),K);return{...H,config:K,validated:ye}}})}),p},kb=(o,u)=>({uiType:th(),owner:o,name:u}),y3=(o,u,p)=>({uiType:th(),owner:o,name:u,config:p,validated:{}}),wk=o=>re(o,u=>u.fold(L.none,L.some,L.none,L.none).map(p=>uu(p.name,p.schema.concat([Wy(G2())]))).toArray()),Ck=o=>ne(o,Ok),b3=(o,u,p)=>c6(o,u,p),j2=(o,u,p)=>p3(L.some(o),u,u.components,p),Aa=(o,u,p)=>{const S=u.partUids[p];return o.getSystem().getByUid(S).toOptional()},Ym=(o,u,p)=>Aa(o,u,p).getOrDie("Could not find part: "+p),Tk=(o,u,p)=>{const S={},R=u.partUids,H=o.getSystem();return le(p,K=>{S[K]=Q(H.getByUid(R[K]))}),S},O3=(o,u)=>{const p=o.getSystem();return je(u.partUids,(S,R)=>Q(p.getByUid(S)))},x3=o=>ct(o.partUids),xv=(o,u,p)=>{const S={},R=u.partUids,H=o.getSystem();return le(p,K=>{S[K]=Q(H.getByUid(R[K]).getOrDie())}),S},S3=(o,u)=>{const p=Ck(u);return bt(ne(p,S=>({key:S,value:o+"-"+S})))},w3=o=>ul("partUids","partUids",ms(u=>S3(u.uid,o)),bi());var u6=Object.freeze({__proto__:null,generate:Wm,generateOne:y3,schemas:wk,names:Ck,substitutes:b3,components:j2,defaultUids:S3,defaultUidsSchema:w3,getAllParts:O3,getAllPartNames:x3,getPart:Aa,getPartOrDie:Ym,getParts:Tk,getPartsOrDie:xv});const r0=(o,u)=>(o.length>0?[uu("parts",o)]:[]).concat([er("uid"),Mn("dom",{}),Mn("components",[]),Wy("originalSpec"),Mn("debug.sketcher",{})]).concat(u),o0=(o,u,p,S,R)=>{const H=r0(S,R);return Nl(o+" [SpecSchema]",fa(H.concat(u)),p)},C3=(o,u,p,S)=>{const R=rp(S),H=o0(o,u,R,[],[]);return p(H,R)},T3=(o,u,p,S,R)=>{const H=rp(R),K=wk(p),ye=w3(p),Ae=o0(o,u,H,K,[ye]),Ne=b3(o,Ae,p),Ue=j2(o,Ae,Ne.internals());return S(Ae,Ue,H,Ne.externals())},gd=o=>vn(o,"uid"),rp=o=>gd(o)?o:{...o,uid:m1("uid")},f6=o=>o.uid!==void 0,Ab=fa([er("name"),er("factory"),er("configFields"),Mn("apis",{}),Mn("extraApis",{})]),d6=fa([er("name"),er("factory"),er("configFields"),er("partFields"),Mn("apis",{}),Mn("extraApis",{})]),Lu=o=>{const u=Nl("Sketcher for "+o.name,Ab,o),p=H=>C3(u.name,u.configFields,u.factory,H),S=je(u.apis,iv),R=je(u.extraApis,(H,K)=>e2(H,K));return{name:u.name,configFields:u.configFields,sketch:p,...S,...R}},mc=o=>{const u=Nl("Sketcher for "+o.name,d6,o),p=K=>T3(u.name,u.configFields,u.partFields,u.factory,K),S=Wm(u.name,u.partFields),R=je(u.apis,iv),H=je(u.extraApis,(K,ye)=>e2(K,ye));return{name:u.name,partFields:u.partFields,configFields:u.configFields,sketch:p,parts:S,...R,...H}},Sv=o=>Ht("input")(o)&&sa(o,"type")!=="radio"||Ht("textarea")(o);var kk=Object.freeze({__proto__:null,getCurrent:(o,u,p)=>u.find(o)});const h6=[er("find")],Cs=gl({fields:h6,name:"composing",apis:kk}),k3=["input","button","textarea","select"],Ak=(o,u,p)=>{(u.disabled()?Mk:Pb)(o,u)},A3=(o,u)=>u.useNative===!0&&xe(k3,xo(o.element)),m6=o=>Id(o.element,"disabled"),g6=o=>{Dr(o.element,"disabled","disabled")},Pk=o=>{aa(o.element,"disabled")},p6=o=>sa(o.element,"aria-disabled")==="true",Yr=o=>{Dr(o.element,"aria-disabled","true")},op=o=>{Dr(o.element,"aria-disabled","false")},Mk=(o,u,p)=>{u.disableClass.each(R=>{Pi(o.element,R)}),(A3(o,u)?g6:Yr)(o),u.onDisabled(o)},Pb=(o,u,p)=>{u.disableClass.each(R=>{ja(o.element,R)}),(A3(o,u)?Pk:op)(o),u.onEnabled(o)},Mb=(o,u)=>A3(o,u)?m6(o):p6(o);var T$=Object.freeze({__proto__:null,enable:Pb,disable:Mk,isDisabled:Mb,onLoad:Ak,set:(o,u,p,S)=>{(S?Mk:Pb)(o,u)}}),y6=Object.freeze({__proto__:null,exhibit:(o,u)=>Eu({classes:u.disabled()?u.disableClass.toArray():[]}),events:(o,u)=>_a([ew(Bi(),(p,S)=>Mb(p,o)),x2(o,u,Ak)])}),Ek=[Li("disabled",X),Mn("useNative",!0),Ws("disableClass"),Ds("onDisabled"),Ds("onEnabled")];const ko=gl({fields:Ek,name:"disabling",active:y6,apis:T$}),Xm=(o,u,p,S)=>{const R=pl(o.element,"."+u.highlightClass);le(R,H=>{we(S,ye=>en(ye.element,H))||(ja(H,u.highlightClass),o.getSystem().getByDom(H).each(ye=>{u.onDehighlight(o,ye),As(ye,Ny())}))})},_k=(o,u,p)=>Xm(o,u,p,[]),b6=(o,u,p,S)=>{q2(o,u,p,S)&&(ja(S.element,u.highlightClass),u.onDehighlight(o,S),As(S,Ny()))},Eb=(o,u,p,S)=>{Xm(o,u,p,[S]),q2(o,u,p,S)||(Pi(S.element,u.highlightClass),u.onHighlight(o,S),As(S,Iy()))},O6=(o,u,p)=>{s0(o,u).each(S=>{Eb(o,u,p,S)})},Rk=(o,u,p)=>{M3(o,u).each(S=>{Eb(o,u,p,S)})},P3=(o,u,p,S)=>{S6(o,u,p,S).fold(R=>{throw R},R=>{Eb(o,u,p,R)})},Dk=(o,u,p,S)=>{const R=K2(o,u);Ve(R,S).each(K=>{Eb(o,u,p,K)})},q2=(o,u,p,S)=>nl(S.element,u.highlightClass),x6=(o,u,p)=>Mi(o.element,"."+u.highlightClass).bind(S=>o.getSystem().getByDom(S).toOptional()),S6=(o,u,p,S)=>{const R=pl(o.element,"."+u.itemClass);return L.from(R[S]).fold(()=>jo.error(new Error("No element found with index "+S)),o.getSystem().getByDom)},s0=(o,u,p)=>Mi(o.element,"."+u.itemClass).bind(S=>o.getSystem().getByDom(S).toOptional()),M3=(o,u,p)=>{const S=pl(o.element,"."+u.itemClass);return(S.length>0?L.some(S[S.length-1]):L.none()).bind(H=>o.getSystem().getByDom(H).toOptional())},$k=(o,u,p,S)=>{const R=pl(o.element,"."+u.itemClass);return _e(R,K=>nl(K,u.highlightClass)).bind(K=>{const ye=_1(K,S,0,R.length-1);return o.getSystem().getByDom(R[ye]).toOptional()})},w6=(o,u,p)=>$k(o,u,p,-1),C6=(o,u,p)=>$k(o,u,p,1),K2=(o,u,p)=>{const S=pl(o.element,"."+u.itemClass);return an(ne(S,R=>o.getSystem().getByDom(R).toOptional()))};var Vh=Object.freeze({__proto__:null,dehighlightAll:_k,dehighlight:b6,highlight:Eb,highlightFirst:O6,highlightLast:Rk,highlightAt:P3,highlightBy:Dk,isHighlighted:q2,getHighlighted:x6,getFirst:s0,getLast:M3,getPrevious:w6,getNext:C6,getCandidates:K2}),J2=[er("highlightClass"),er("itemClass"),Ds("onHighlight"),Ds("onDehighlight")];const Ys=gl({fields:J2,name:"highlighting",apis:Vh}),T6=[8],Gm=[9],zh=[13],ex=[27],hf=[32],tx=[37],jm=[38],a0=[39],_b=[40],E3=(o,u,p)=>{const S=te(o.slice(0,u)),R=te(o.slice(u+1));return Ve(S.concat(R),p)},k6=(o,u,p)=>{const S=te(o.slice(0,u));return Ve(S,p)},_3=(o,u,p)=>{const S=o.slice(0,u),R=o.slice(u+1);return Ve(R.concat(S),p)},A6=(o,u,p)=>{const S=o.slice(u+1);return Ve(S,p)},Ms=o=>u=>{const p=u.raw;return xe(o,p.which)},mf=o=>u=>be(o,p=>p(u)),sp=o=>o.raw.shiftKey===!0,P6=o=>o.raw.ctrlKey===!0,i0=B(sp),Qs=(o,u)=>({matches:o,classification:u}),M6=(o,u)=>Ve(o,S=>S.matches(u)).map(S=>S.classification),R3=(o,u,p)=>{u.exists(R=>p.exists(H=>en(H,R)))||vo(o,YO(),{prevFocus:u,newFocus:p})},A=()=>{const o=p=>fd(p.element);return{get:o,set:(p,S)=>{const R=o(p);p.getSystem().triggerFocus(S,p.element);const H=o(p);R3(p,R,H)}}},$=()=>{const o=p=>Ys.getHighlighted(p).map(S=>S.element);return{get:o,set:(p,S)=>{const R=o(p);p.getSystem().getByDom(S).fold(M,K=>{Ys.highlight(p,K)});const H=o(p);R3(p,R,H)}}};var j;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(j||(j={}));const ue=(o,u,p,S,R)=>{const H=()=>o.concat([Mn("focusManager",A()),_c("focusInside","onFocus",Il(Ne=>xe(["onFocus","onEnterOrSpace","onApi"],Ne)?jo.value(Ne):jo.error("Invalid value for focusInside"))),ga("handler",Ae),ga("state",u),ga("sendFocusIn",R)]),K=(Ne,Ue,Je,st,ht)=>{const At=Je(Ne,Ue,st,ht);return M6(At,Ue.event).bind(qt=>qt(Ne,Ue,st,ht))},Ae={schema:H,processKey:K,toEvents:(Ne,Ue)=>{const Je=Ne.focusInside!==j.OnFocusMode?L.none():R(Ne).map(At=>qn(Nf(),(qt,Dn)=>{At(qt,Ne,Ue),Dn.stop()})),st=(At,qt)=>{const Dn=Ms(hf.concat(zh))(qt.event);Ne.focusInside===j.OnEnterOrSpaceMode&&Dn&&hn(At,qt)&&R(Ne).each(mn=>{mn(At,Ne,Ue),qt.stop()})},ht=[qn(Rs(),(At,qt)=>{K(At,qt,p,Ne,Ue).fold(()=>{st(At,qt)},Dn=>{qt.stop()})}),qn(Qa(),(At,qt)=>{K(At,qt,S,Ne,Ue).each(Dn=>{qt.stop()})})];return _a(Je.toArray().concat(ht))}};return Ae},Me=o=>{const u=[Ws("onEscape"),Ws("onEnter"),Mn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Mn("firstTabstop",0),Mn("useTabstopAt",ie),Ws("visibilitySelector")].concat([o]),p=(mn,sn)=>{const kn=mn.visibilitySelector.bind(Zn=>Xd(sn,Zn)).getOr(sn);return Ha(kn)>0},S=(mn,sn)=>{const kn=pl(mn.element,sn.selector),Zn=Oe(kn,mr=>p(sn,mr));return L.from(Zn[sn.firstTabstop])},R=(mn,sn)=>sn.focusManager.get(mn).bind(kn=>Xd(kn,sn.selector)),H=(mn,sn)=>p(mn,sn)&&mn.useTabstopAt(sn),K=(mn,sn,kn)=>{S(mn,sn).each(Zn=>{sn.focusManager.set(mn,Zn)})},ye=(mn,sn,kn,Zn,mr)=>mr(sn,kn,Gn=>H(Zn,Gn)).fold(()=>Zn.cyclic?L.some(!0):L.none(),Gn=>(Zn.focusManager.set(mn,Gn),L.some(!0))),Ae=(mn,sn,kn,Zn)=>{const mr=pl(mn.element,kn.selector);return R(mn,kn).bind(Gn=>_e(mr,F(en,Gn)).bind(Mr=>ye(mn,mr,Mr,kn,Zn)))},Ne=(mn,sn,kn)=>{const Zn=kn.cyclic?E3:k6;return Ae(mn,sn,kn,Zn)},Ue=(mn,sn,kn)=>{const Zn=kn.cyclic?_3:A6;return Ae(mn,sn,kn,Zn)},Je=mn=>Zr(mn).bind(Ao).exists(sn=>en(sn,mn)),st=(mn,sn,kn)=>R(mn,kn).filter(Zn=>!kn.useTabstopAt(Zn)).bind(Zn=>(Je(Zn)?Ne:Ue)(mn,sn,kn)),ht=(mn,sn,kn)=>kn.onEnter.bind(Zn=>Zn(mn,sn)),At=(mn,sn,kn)=>kn.onEscape.bind(Zn=>Zn(mn,sn)),qt=Q([Qs(mf([sp,Ms(Gm)]),Ne),Qs(Ms(Gm),Ue),Qs(mf([i0,Ms(zh)]),ht)]),Dn=Q([Qs(Ms(ex),At),Qs(Ms(Gm),st)]);return ue(u,cd.init,qt,Dn,()=>L.some(K))};var ze=Me(ri("cyclic",X)),nt=Me(ri("cyclic",ie));const Ot=(o,u,p)=>(jO(o,p,Bi()),L.some(!0)),_t=(o,u,p)=>Sv(p)&&Ms(hf)(u.event)?L.none():Ot(o,u,p),Kt=(o,u)=>L.some(!0),Tn=[Mn("execute",_t),Mn("useSpace",!1),Mn("useEnter",!0),Mn("useControlEnter",!1),Mn("useDown",!1)],ir=(o,u,p)=>p.execute(o,u,o.element),$r=(o,u,p,S)=>{const R=p.useSpace&&!Sv(o.element)?hf:[],H=p.useEnter?zh:[],K=p.useDown?_b:[],ye=R.concat(H).concat(K);return[Qs(Ms(ye),ir)].concat(p.useControlEnter?[Qs(mf([P6,Ms(zh)]),ir)]:[])},Rr=(o,u,p,S)=>p.useSpace&&!Sv(o.element)?[Qs(Ms(hf),Kt)]:[];var Kn=ue(Tn,cd.init,$r,Rr,()=>L.none());const Ir=()=>{const o=ps();return Mu({readState:()=>o.get().map(R=>({numRows:String(R.numRows),numColumns:String(R.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(R,H)=>{o.set({numRows:R,numColumns:H})},getNumRows:()=>o.get().map(R=>R.numRows),getNumColumns:()=>o.get().map(R=>R.numColumns)})};var io=Object.freeze({__proto__:null,flatgrid:Ir,init:o=>o.state(o)});const Lo=o=>(u,p,S,R)=>{const H=o(u.element);return xi(H,u,p,S,R)},os=(o,u)=>{const p=T2(o,u);return Lo(p)},za=(o,u)=>{const p=T2(u,o);return Lo(p)},vl=o=>(u,p,S,R)=>xi(o,u,p,S,R),xi=(o,u,p,S,R)=>S.focusManager.get(u).bind(K=>o(u.element,K,S,R)).map(K=>(S.focusManager.set(u,K),!0)),vu=vl,wv=vl,Cv=vl,D3=o=>o.offsetWidth<=0&&o.offsetHeight<=0,nx=o=>!D3(o.dom),xa=(o,u)=>_e(o,u).map(p=>({index:p,candidates:o})),Fc=(o,u,p)=>{const S=K=>en(K,u),R=pl(o,p),H=Oe(R,nx);return xa(H,S)},oc=(o,u)=>_e(o,p=>en(u,p)),gf=(o,u,p,S)=>{const R=Math.floor(u/p),H=u%p;return S(R,H).bind(K=>{const ye=K.row*p+K.column;return ye>=0&&ye<o.length?L.some(o[ye]):L.none()})},Iu=(o,u,p,S,R)=>gf(o,u,S,(H,K)=>{const Ae=H===p-1?o.length-H*S:S,Ne=_1(K,R,0,Ae-1);return L.some({row:H,column:Ne})}),ap=(o,u,p,S,R)=>gf(o,u,S,(H,K)=>{const ye=_1(H,R,0,p-1),Ne=ye===p-1?o.length-ye*S:S,Ue=cf(K,0,Ne-1);return L.some({row:ye,column:Ue})}),tu=(o,u,p,S)=>Iu(o,u,p,S,1),$3=(o,u,p,S)=>Iu(o,u,p,S,-1),Rb=(o,u,p,S)=>ap(o,u,p,S,-1),Zh=(o,u,p,S)=>ap(o,u,p,S,1),gc=[er("selector"),Mn("execute",_t),$u("onEscape"),Mn("captureTab",!1),bw()],Db=(o,u,p)=>{Mi(o.element,u.selector).each(S=>{u.focusManager.set(o,S)})},Lk=(o,u)=>u.focusManager.get(o).bind(p=>Xd(p,u.selector)),Ik=(o,u,p,S)=>Lk(o,p).bind(R=>p.execute(o,u,R)),l0=o=>(u,p,S,R)=>Fc(u,p,S.selector).bind(H=>o(H.candidates,H.index,R.getNumRows().getOr(S.initSize.numRows),R.getNumColumns().getOr(S.initSize.numColumns))),Nk=(o,u,p)=>p.captureTab?L.some(!0):L.none(),rx=(o,u,p)=>p.onEscape(o,u),Bk=l0($3),Tv=l0(tu),A$=l0(Rb),fW=l0(Zh),dW=Q([Qs(Ms(tx),os(Bk,Tv)),Qs(Ms(a0),za(Bk,Tv)),Qs(Ms(jm),vu(A$)),Qs(Ms(_b),wv(fW)),Qs(mf([sp,Ms(Gm)]),Nk),Qs(mf([i0,Ms(Gm)]),Nk),Qs(Ms(hf.concat(zh)),Ik)]),hW=Q([Qs(Ms(ex),rx),Qs(Ms(hf),Kt)]);var mW=ue(gc,Ir,dW,hW,()=>L.some(Db));const P$=(o,u,p,S,R)=>{const H=ye=>xo(ye)==="button"&&sa(ye,"disabled")==="disabled",K=(ye,Ae,Ne)=>R(ye,Ae,S,0,Ne.length-1,Ne[Ae],Ue=>H(Ne[Ue])?K(ye,Ue,Ne):L.from(Ne[Ue]));return Fc(o,p,u).bind(ye=>{const Ae=ye.index,Ne=ye.candidates;return K(Ae,Ae,Ne)})},M$=(o,u,p,S)=>P$(o,u,p,S,(R,H,K,ye,Ae,Ne,Ue)=>{const Je=cf(H+K,ye,Ae);return Je===R?L.from(Ne):Ue(Je)}),ox=(o,u,p,S)=>P$(o,u,p,S,(R,H,K,ye,Ae,Ne,Ue)=>{const Je=_1(H,K,ye,Ae);return Je===R?L.none():Ue(Je)}),E6=[er("selector"),Mn("getInitial",L.none),Mn("execute",_t),$u("onEscape"),Mn("executeOnMove",!1),Mn("allowVertical",!0),Mn("allowHorizontal",!0),Mn("cycles",!0)],gW=(o,u)=>u.focusManager.get(o).bind(p=>Xd(p,u.selector)),E$=(o,u,p)=>gW(o,p).bind(S=>p.execute(o,u,S)),_$=(o,u,p)=>{u.getInitial(o).orThunk(()=>Mi(o.element,u.selector)).each(S=>{u.focusManager.set(o,S)})},R$=(o,u,p)=>(p.cycles?ox:M$)(o,p.selector,u,-1),D$=(o,u,p)=>(p.cycles?ox:M$)(o,p.selector,u,1),pd=o=>(u,p,S,R)=>o(u,p,S,R).bind(()=>S.executeOnMove?E$(u,p,S):L.some(!0)),pW=(o,u,p)=>p.onEscape(o,u),vW=(o,u,p,S)=>{const R=[...p.allowHorizontal?tx:[]].concat(p.allowVertical?jm:[]),H=[...p.allowHorizontal?a0:[]].concat(p.allowVertical?_b:[]);return[Qs(Ms(R),pd(os(R$,D$))),Qs(Ms(H),pd(za(R$,D$))),Qs(Ms(zh),E$),Qs(Ms(hf),E$)]},yW=Q([Qs(Ms(hf),Kt),Qs(Ms(ex),pW)]);var bW=ue(E6,cd.init,vW,yW,()=>L.some(_$));const Qk=(o,u,p)=>L.from(o[u]).bind(S=>L.from(S[p]).map(R=>({rowIndex:u,columnIndex:p,cell:R}))),$b=(o,u,p,S)=>{const H=o[u].length,K=_1(p,S,0,H-1);return Qk(o,u,K)},Fk=(o,u,p,S)=>{const R=_1(p,S,0,o.length-1),H=o[R].length,K=cf(u,0,H-1);return Qk(o,R,K)},$$=(o,u,p,S)=>{const H=o[u].length,K=cf(p+S,0,H-1);return Qk(o,u,K)},Vk=(o,u,p,S)=>{const R=cf(p+S,0,o.length-1),H=o[R].length,K=cf(u,0,H-1);return Qk(o,R,K)},zk=(o,u,p)=>$b(o,u,p,1),_6=(o,u,p)=>$b(o,u,p,-1),OW=(o,u,p)=>Fk(o,p,u,-1),xW=(o,u,p)=>Fk(o,p,u,1),SW=(o,u,p)=>$$(o,u,p,-1),wW=(o,u,p)=>$$(o,u,p,1),CW=(o,u,p)=>Vk(o,p,u,-1),TW=(o,u,p)=>Vk(o,p,u,1),L$=[uu("selectors",[er("row"),er("cell")]),Mn("cycles",!0),Mn("previousSelector",L.none),Mn("execute",_t)],R6=(o,u,p)=>{u.previousSelector(o).orThunk(()=>{const R=u.selectors;return Mi(o.element,R.cell)}).each(R=>{u.focusManager.set(o,R)})},kW=(o,u,p)=>fd(o.element).bind(S=>p.execute(o,u,S)),AW=(o,u)=>ne(o,p=>pl(p,u.selectors.cell)),Zk=(o,u)=>(p,S,R)=>{const H=R.cycles?o:u;return Xd(S,R.selectors.row).bind(K=>{const ye=pl(K,R.selectors.cell);return oc(ye,S).bind(Ae=>{const Ne=pl(p,R.selectors.row);return oc(Ne,K).bind(Ue=>{const Je=AW(Ne,R);return H(Je,Ue,Ae).map(st=>st.cell)})})})},I$=Zk(_6,SW),c0=Zk(zk,wW),N$=Zk(OW,CW),PW=Zk(xW,TW),D6=Q([Qs(Ms(tx),os(I$,c0)),Qs(Ms(a0),za(I$,c0)),Qs(Ms(jm),vu(N$)),Qs(Ms(_b),wv(PW)),Qs(Ms(hf.concat(zh)),kW)]),MW=Q([Qs(Ms(hf),Kt)]);var B$=ue(L$,cd.init,D6,MW,()=>L.some(R6));const Q$=[er("selector"),Mn("execute",_t),Mn("moveOnTab",!1)],$6=(o,u,p)=>p.focusManager.get(o).bind(S=>p.execute(o,u,S)),F$=(o,u,p)=>{Mi(o.element,u.selector).each(S=>{u.focusManager.set(o,S)})},L6=(o,u,p)=>ox(o,p.selector,u,-1),V$=(o,u,p)=>ox(o,p.selector,u,1),EW=(o,u,p,S)=>p.moveOnTab?Cv(L6)(o,u,p,S):L.none(),_W=(o,u,p,S)=>p.moveOnTab?Cv(V$)(o,u,p,S):L.none(),I6=Q([Qs(Ms(jm),Cv(L6)),Qs(Ms(_b),Cv(V$)),Qs(mf([sp,Ms(Gm)]),EW),Qs(mf([i0,Ms(Gm)]),_W),Qs(Ms(zh),$6),Qs(Ms(hf),$6)]),RW=Q([Qs(Ms(hf),Kt)]);var DW=ue(Q$,cd.init,I6,RW,()=>L.some(F$));const $W=[$u("onSpace"),$u("onEnter"),$u("onShiftEnter"),$u("onLeft"),$u("onRight"),$u("onTab"),$u("onShiftTab"),$u("onUp"),$u("onDown"),$u("onEscape"),Mn("stopSpaceKeyup",!1),Ws("focusIn")],LW=(o,u,p)=>[Qs(Ms(hf),p.onSpace),Qs(mf([i0,Ms(zh)]),p.onEnter),Qs(mf([sp,Ms(zh)]),p.onShiftEnter),Qs(mf([sp,Ms(Gm)]),p.onShiftTab),Qs(mf([i0,Ms(Gm)]),p.onTab),Qs(Ms(jm),p.onUp),Qs(Ms(_b),p.onDown),Qs(Ms(tx),p.onLeft),Qs(Ms(a0),p.onRight),Qs(Ms(hf),p.onSpace)],z$=(o,u,p)=>[...p.stopSpaceKeyup?[Qs(Ms(hf),Kt)]:[],Qs(Ms(ex),p.onEscape)];var IW=ue($W,cd.init,LW,z$,o=>o.focusIn);const NW=ze.schema(),BW=nt.schema(),Z$=bW.schema(),QW=mW.schema(),FW=B$.schema(),H$=Kn.schema(),VW=DW.schema(),zW=IW.schema();var Hk=Object.freeze({__proto__:null,acyclic:NW,cyclic:BW,flow:Z$,flatgrid:QW,matrix:FW,execution:H$,menu:VW,special:zW});const ZW=o=>En(o,"setGridSize"),yo=S2({branchKey:"mode",branches:Hk,name:"keying",active:{events:(o,u)=>o.handler.toEvents(o,u)},apis:{focusIn:(o,u,p)=>{u.sendFocusIn(u).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},S=>{S(o,u,p)})},setGridSize:(o,u,p,S,R)=>{ZW(p)?p.setGridSize(S,R):console.error("Layout does not support setGridSize")}},state:io}),yu=(o,u)=>{Wr(()=>{j7(o,u,()=>ne(u,o.getSystem().build))},o.element)},U$=(o,u)=>{Wr(()=>{q7(o,u,()=>m$(o.element,u,o.getSystem().buildOrPatch))},o.element)},W$=(o,u,p,S)=>{X1(u);const R=v5(o.element,p,S,o.getSystem().buildOrPatch);l3(o,R),o.syncComponents()},Uk=(o,u,p)=>{const S=o.getSystem().build(p);G1(o,S,u)},HW=(o,u,p,S)=>{Fh(u),Uk(o,(R,H)=>il(R,H,p),S)},Y$=(o,u,p,S)=>(u.reuseDom?U$:yu)(o,S),X$=(o,u,p,S)=>{Uk(o,Yc,S)},UW=(o,u,p,S)=>{Uk(o,Oy,S)},WW=(o,u,p,S)=>{const R=Wk(o);Ve(R,K=>en(S.element,K.element)).each(Fh)},Wk=(o,u)=>o.components(),G$=(o,u,p,S,R)=>{const H=Wk(o);return L.from(H[S]).map(K=>(R.fold(()=>Fh(K),ye=>{(u.reuseDom?W$:HW)(o,K,S,ye)}),K))};var XW=Object.freeze({__proto__:null,append:X$,prepend:UW,remove:WW,replaceAt:G$,replaceBy:(o,u,p,S,R)=>{const H=Wk(o);return _e(H,S).bind(K=>G$(o,u,p,K,R))},set:Y$,contents:Wk});const Uo=gl({fields:[Xi("reuseDom",!0)],name:"replacing",apis:XW}),j$=(o,u)=>{const p=_a(u);return gl({fields:[er("enabled")],name:o,active:{events:Q(p)}})},Jo=(o,u)=>{const p=j$(o,u);return{key:o,value:{config:{},me:p,configAsRaw:Q({}),initialConfig:{},state:cd}}},N6=(o,u)=>{u.ignore||(mu(o.element),u.onFocus(o))};var GW=Object.freeze({__proto__:null,focus:N6,blur:(o,u)=>{u.ignore||$1(o.element)},isFocused:o=>Ky(o.element)}),q$=Object.freeze({__proto__:null,exhibit:(o,u)=>{const p=u.ignore?{}:{attributes:{tabindex:"-1"}};return Eu(p)},events:o=>_a([qn(Nf(),(u,p)=>{N6(u,o),p.stop()})].concat(o.stopMousedown?[qn(go(),(u,p)=>{p.event.prevent()})]:[]))}),u0=[Ds("onFocus"),Mn("stopMousedown",!1),Mn("ignore",!1)];const Eo=gl({fields:u0,name:"focusing",active:q$,apis:GW}),K$=o=>({init:()=>{const p=G(o);return{get:()=>p.get(),set:ye=>p.set(ye),clear:()=>p.set(o),readState:()=>p.get()}}}),B6=(o,u,p)=>{const S=u.aria;S.update(o,S,p.get())},qW=(o,u,p)=>{u.toggleClass.each(S=>{p.get()?Pi(o.element,S):ja(o.element,S)})},L3=(o,u,p,S)=>{const R=p.get();p.set(S),qW(o,u,p),B6(o,u,p),R!==S&&u.onToggled(o,S)},J$=(o,u,p)=>{L3(o,u,p,!p.get())},KW=(o,u,p)=>{L3(o,u,p,!0)},eL=(o,u,p)=>{L3(o,u,p,!1)},Q6=(o,u,p)=>p.get(),Yk=(o,u,p)=>{L3(o,u,p,u.selected)};var JW=Object.freeze({__proto__:null,onLoad:Yk,toggle:J$,isOn:Q6,on:KW,off:eL,set:L3}),tL=Object.freeze({__proto__:null,exhibit:()=>Eu({}),events:(o,u)=>{const p=D1(o,u,J$),S=x2(o,u,Yk);return _a(Ie([o.toggleOnExecute?[p]:[],[S]]))}});const tY=(o,u,p)=>{Dr(o.element,"aria-pressed",p),u.syncWithExpanded&&sx(o,u,p)},nY=(o,u,p)=>{Dr(o.element,"aria-selected",p)},I3=(o,u,p)=>{Dr(o.element,"aria-checked",p)},sx=(o,u,p)=>{Dr(o.element,"aria-expanded",p)};var nL=[Mn("selected",!1),Ws("toggleClass"),Mn("toggleOnExecute",!0),Ds("onToggled"),_c("aria",{mode:"none"},ws("mode",{pressed:[Mn("syncWithExpanded",!1),ga("update",tY)],checked:[ga("update",I3)],expanded:[ga("update",sx)],selected:[ga("update",nY)],none:[ga("update",M)]}))];const as=gl({fields:nL,name:"toggling",active:tL,apis:JW,state:K$(!1)}),kv=()=>{const o=(u,p)=>{p.stop(),_m(u)};return[qn(Ii(),o),qn($c(),o),Rm(no()),Rm(go())]},qm=o=>{const u=p=>ld((S,R)=>{p(S),R.stop()});return _a(Ie([o.map(u).toArray(),kv()]))},rL="alloy.item-hover",oL="alloy.item-focus",F6="alloy.item-toggled",ip=o=>{(fd(o.element).isNone()||Eo.isFocused(o))&&(Eo.isFocused(o)||Eo.focus(o),vo(o,rL,{item:o}))},Xk=o=>{vo(o,oL,{item:o})},rY=(o,u)=>{vo(o,F6,{item:o,state:u})},V6=Q(rL),sL=Q(oL),aL=Q(F6),z6=o=>o.toggling.map(u=>u.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),iL=o=>({aria:{mode:"checked"},...wt(o,(u,p)=>p!=="exclusive"),onToggled:(u,p)=>{w(o.onToggled)&&o.onToggled(u,p),rY(u,p)}}),oY=o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:z6(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Ff.augment(o.itemBehaviours,[o.toggling.fold(as.revoke,u=>as.config(iL(u))),Eo.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:u=>{Xk(u)}}),yo.config({mode:"execution"}),Fr.config({store:{mode:"memory",initialValue:o.data}}),Jo("item-type-events",[...kv(),qn(Lr(),ip),qn(na(),Eo.focus)])]),components:o.components,eventOrder:o.eventOrder}),sY=[er("data"),er("components"),er("dom"),Mn("hasSubmenu",!1),Ws("toggling"),Ff.field("itemBehaviours",[as,Eo,yo,Fr]),Mn("ignoreFocus",!1),Mn("domModification",{}),ga("builder",oY),Mn("eventOrder",{})],aY=o=>({dom:o.dom,components:o.components,events:_a([U8(na())])}),Gk=[er("dom"),er("components"),ga("builder",aY)],N3=Q("item-widget"),B3=Q([hc({name:"widget",overrides:o=>({behaviours:pr([Fr.config({store:{mode:"manual",getValue:u=>o.data,setValue:M}})])})})]),iY=o=>{const u=b3(N3(),o,B3()),p=j2(N3(),o,u.internals()),S=H=>Aa(H,o,"widget").map(K=>(yo.focusIn(K),K)),R=(H,K)=>Sv(K.event.target)?L.none():(()=>(o.autofocus&&K.setSource(H.element),L.none()))();return{dom:o.dom,components:p,domModification:o.domModification,events:_a([ld((H,K)=>{S(H).each(ye=>{K.stop()})}),qn(Lr(),ip),qn(na(),(H,K)=>{o.autofocus?S(H):Eo.focus(H)})]),behaviours:Ff.augment(o.widgetBehaviours,[Fr.config({store:{mode:"memory",initialValue:o.data}}),Eo.config({ignore:o.ignoreFocus,onFocus:H=>{Xk(H)}}),yo.config({mode:"special",focusIn:o.autofocus?H=>{S(H)}:_w(),onLeft:R,onRight:R,onEscape:(H,K)=>!Eo.isFocused(H)&&!o.autofocus?(Eo.focus(H),L.some(!0)):(o.autofocus&&K.setSource(H.element),L.none())})])}},lY=[er("uid"),er("data"),er("components"),er("dom"),Mn("autofocus",!1),Mn("ignoreFocus",!1),Ff.field("widgetBehaviours",[Fr,Eo,yo]),Mn("domModification",{}),w3(B3()),ga("builder",iY)],lL=ws("type",{widget:lY,item:sY,separator:Gk}),cL=(o,u)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:u.initSize.numColumns,numRows:u.initSize.numRows},focusManager:o.focusManager}),uL=(o,u)=>({mode:"matrix",selectors:{row:u.rowSelector,cell:"."+o.markers.item},previousSelector:u.previousSelector,focusManager:o.focusManager}),fL=(o,u)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:u.moveOnTab,focusManager:o.focusManager}),cY=Q([Cb({factory:{sketch:o=>{const u=Nl("menu.spec item",lL,o);return u.builder(u)}},name:"items",unit:"item",defaults:(o,u)=>vn(u,"uid")?u:{...u,uid:m1("item")},overrides:(o,u)=>({type:u.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),Z6=Q([er("value"),er("items"),er("dom"),er("components"),Mn("eventOrder",{}),rl("menuBehaviours",[Ys,Fr,Cs,yo]),_c("movement",{mode:"menu",moveOnTab:!0},ws("mode",{grid:[bw(),ga("config",cL)],matrix:[ga("config",uL),er("rowSelector"),Mn("previousSelector",L.none)],menu:[Mn("moveOnTab",!0),ga("config",fL)]})),i7(),Mn("fakeFocus",!1),Mn("focusManager",A()),Ds("onHighlight"),Ds("onDehighlight")]),dL=Q("alloy.menu-focus"),uY=(o,u)=>{const p=pl(o.element,'[role="menuitemradio"][aria-checked="true"]');le(p,S=>{en(S,u.element)||o.getSystem().getByDom(S).each(R=>{as.off(R)})})},fY=(o,u,p,S)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Qi(o.menuBehaviours,[Ys.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),Fr.config({store:{mode:"memory",initialValue:o.value}}),Cs.config({find:L.some}),yo.config(o.movement.config(o,o.movement))]),events:_a([qn(sL(),(R,H)=>{const K=H.event;R.getSystem().getByDom(K.target).each(ye=>{Ys.highlight(R,ye),H.stop(),vo(R,dL(),{menu:R,item:ye})})}),qn(V6(),(R,H)=>{const K=H.event.item;Ys.highlight(R,K)}),qn(aL(),(R,H)=>{const{item:K,state:ye}=H.event;ye&&sa(K.element,"role")==="menuitemradio"&&uY(R,K)})]),components:u,eventOrder:o.eventOrder,domModification:{attributes:{role:"menu"}}}),Ib=mc({name:"Menu",configFields:Z6(),partFields:cY(),factory:fY}),hL=o=>et(o,(u,p)=>({k:u,v:p})),mL=(o,u,p,S)=>Bt(p,S).bind(R=>Bt(o,R).bind(H=>{const K=mL(o,u,p,H);return L.some([H].concat(K))})).getOr([]),dY=(o,u)=>{const p={};Ye(o,(K,ye)=>{le(K,Ae=>{p[Ae]=ye})});const S=u,R=hL(u),H=je(R,(K,ye)=>[ye].concat(mL(p,S,R,ye)));return je(p,K=>Bt(H,K).getOr([K]))},gL=()=>{const o=G({}),u=G({}),p=G({}),S=ps(),R=G({}),H=()=>{o.set({}),u.set({}),p.set({}),S.clear()},K=()=>S.get().isNone(),ye=(mr,Gn)=>{u.set({...u.get(),[mr]:{type:"prepared",menu:Gn}})},Ae=(mr,Gn,Or,Mr)=>{S.set(mr),o.set(Or),u.set(Gn),R.set(Mr);const is=dY(Mr,Or);p.set(is)},Ne=mr=>Gt(o.get(),(Gn,Or)=>Gn===mr),Ue=(mr,Gn,Or)=>qt(mr).bind(Mr=>Ne(mr).bind(is=>Gn(is).map(Gr=>({triggeredMenu:Mr,triggeringItem:Gr,triggeringPath:Or})))),Je=(mr,Gn)=>{const Or=Oe(mn(mr).toArray(),Mr=>qt(Mr).isSome());return Bt(p.get(),mr).bind(Mr=>{const is=te(Or.concat(Mr)),Gr=re(is,(No,Ro)=>Ue(No,Gn,is.slice(0,Ro+1)).fold(()=>ln(S.get(),No)?[]:[L.none()],ra=>[L.some(ra)]));return wn(Gr)})},st=mr=>Bt(o.get(),mr).map(Gn=>{const Or=Bt(p.get(),mr).getOr([]);return[Gn].concat(Or)}),ht=mr=>Bt(p.get(),mr).bind(Gn=>Gn.length>1?L.some(Gn.slice(1)):L.none()),At=mr=>Bt(p.get(),mr),qt=mr=>Dn(mr).bind(ax),Dn=mr=>Bt(u.get(),mr),mn=mr=>Bt(o.get(),mr);return{setMenuBuilt:ye,setContents:Ae,expand:st,refresh:At,collapse:ht,lookupMenu:Dn,lookupItem:mn,otherMenus:mr=>{const Gn=R.get();return se(ct(Gn),mr)},getPrimary:()=>S.get().bind(qt),getMenus:()=>u.get(),clear:H,isClear:K,getTriggeringPath:Je}},ax=o=>o.type==="prepared"?L.some(o.menu):L.none(),pL={init:gL,extractPreparedMenu:ax},ix=Kr("tiered-menu-item-highlight"),jk=Kr("tiered-menu-item-dehighlight");var bu;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(bu||(bu={}));const vL=(o,u)=>{const p=ps(),S=(Pr,oo,Bo)=>je(Bo,(Fo,To)=>{const Yo=()=>Ib.sketch({...Fo,value:To,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Ea,Fs)=>{vo(Ea,ix,{menuComp:Ea,itemComp:Fs})},onDehighlight:(Ea,Fs)=>{vo(Ea,jk,{menuComp:Ea,itemComp:Fs})},focusManager:o.fakeFocus?$():A()});return To===oo?{type:"prepared",menu:Pr.getSystem().build(Yo())}:{type:"notbuilt",nbMenu:Yo}}),R=pL.init(),H=Pr=>{const oo=S(Pr,o.data.primary,o.data.menus),Bo=Ae();return R.setContents(o.data.primary,oo,o.data.expansions,Bo),R.getPrimary()},K=Pr=>Fr.getValue(Pr).value,ye=(Pr,oo,Bo)=>Xe(oo,Fo=>{if(!Fo.getSystem().isConnected())return L.none();const To=Ys.getCandidates(Fo);return Ve(To,Yo=>K(Yo)===Bo)}),Ae=Pr=>je(o.data.menus,(oo,Bo)=>re(oo.items,Fo=>Fo.type==="separator"?[]:[Fo.data.value])),Ne=Ys.highlight,Ue=(Pr,oo)=>{Ne(Pr,oo),Ys.getHighlighted(oo).orThunk(()=>Ys.getFirst(oo)).each(Bo=>{o.fakeFocus?Ys.highlight(oo,Bo):jO(Pr,Bo.element,na())})},Je=(Pr,oo)=>an(ne(oo,Bo=>Pr.lookupMenu(Bo).bind(Fo=>Fo.type==="prepared"?L.some(Fo.menu):L.none()))),st=(Pr,oo,Bo)=>{const Fo=Je(oo,oo.otherMenus(Bo));le(Fo,To=>{af(To.element,[o.markers.backgroundMenu]),o.stayInDom||Uo.remove(Pr,To)})},ht=Pr=>p.get().getOrThunk(()=>{const oo={},Bo=pl(Pr.element,`.${o.markers.item}`),Fo=Oe(Bo,To=>sa(To,"aria-haspopup")==="true");return le(Fo,To=>{Pr.getSystem().getByDom(To).each(Yo=>{const Ea=K(Yo);oo[Ea]=Yo})}),p.set(oo),oo}),At=(Pr,oo)=>{const Bo=ht(Pr);Ye(Bo,(Fo,To)=>{const Yo=xe(oo,To);Dr(Fo.element,"aria-expanded",Yo)})},qt=(Pr,oo,Bo)=>L.from(Bo[0]).bind(Fo=>oo.lookupMenu(Fo).bind(To=>{if(To.type==="notbuilt")return L.none();{const Yo=To.menu,Ea=Je(oo,Bo.slice(1));return le(Ea,Fs=>{Pi(Fs.element,o.markers.backgroundMenu)}),ea(Yo.element)||Uo.append(Pr,lf(Yo)),af(Yo.element,[o.markers.backgroundMenu]),Ue(Pr,Yo),st(Pr,oo,Bo),L.some(Yo)}}));let Dn;(function(Pr){Pr[Pr.HighlightSubmenu=0]="HighlightSubmenu",Pr[Pr.HighlightParent=1]="HighlightParent"})(Dn||(Dn={}));const mn=(Pr,oo,Bo)=>{if(Bo.type==="notbuilt"){const Fo=Pr.getSystem().build(Bo.nbMenu());return R.setMenuBuilt(oo,Fo),Fo}else return Bo.menu},sn=(Pr,oo,Bo=Dn.HighlightSubmenu)=>{if(oo.hasConfigured(ko)&&ko.isDisabled(oo))return L.some(oo);{const Fo=K(oo);return R.expand(Fo).bind(To=>(At(Pr,To),L.from(To[0]).bind(Yo=>R.lookupMenu(Yo).bind(Ea=>{const Fs=mn(Pr,Yo,Ea);return ea(Fs.element)||Uo.append(Pr,lf(Fs)),o.onOpenSubmenu(Pr,oo,Fs,te(To)),Bo===Dn.HighlightSubmenu?(Ys.highlightFirst(Fs),qt(Pr,R,To)):(Ys.dehighlightAll(Fs),L.some(oo))}))))}},kn=(Pr,oo)=>{const Bo=K(oo);return R.collapse(Bo).bind(Fo=>(At(Pr,Fo),qt(Pr,R,Fo).map(To=>(o.onCollapseMenu(Pr,oo,To),To))))},Zn=(Pr,oo)=>{const Bo=K(oo);return R.refresh(Bo).bind(Fo=>(At(Pr,Fo),qt(Pr,R,Fo)))},mr=(Pr,oo)=>Sv(oo.element)?L.none():sn(Pr,oo,Dn.HighlightSubmenu),Gn=(Pr,oo)=>Sv(oo.element)?L.none():kn(Pr,oo),Or=(Pr,oo)=>kn(Pr,oo).orThunk(()=>o.onEscape(Pr,oo).map(()=>Pr)),Mr=Pr=>(oo,Bo)=>Xd(Bo.getSource(),`.${o.markers.item}`).bind(Fo=>oo.getSystem().getByDom(Fo).toOptional().bind(To=>Pr(oo,To).map(ie))),is=_a([qn(dL(),(Pr,oo)=>{const Bo=oo.event.item;R.lookupItem(K(Bo)).each(()=>{const Fo=oo.event.menu;Ys.highlight(Pr,Fo);const To=K(oo.event.item);R.refresh(To).each(Yo=>st(Pr,R,Yo))})}),ld((Pr,oo)=>{const Bo=oo.event.target;Pr.getSystem().getByDom(Bo).each(Fo=>{K(Fo).indexOf("collapse-item")===0&&kn(Pr,Fo),sn(Pr,Fo,Dn.HighlightSubmenu).fold(()=>{o.onExecute(Pr,Fo)},M)})}),ka((Pr,oo)=>{H(Pr).each(Bo=>{Uo.append(Pr,lf(Bo)),o.onOpenMenu(Pr,Bo),o.highlightOnOpen===bu.HighlightMenuAndItem?Ue(Pr,Bo):o.highlightOnOpen===bu.HighlightJustMenu&&Ne(Pr,Bo)})}),qn(ix,(Pr,oo)=>{o.onHighlightItem(Pr,oo.event.menuComp,oo.event.itemComp)}),qn(jk,(Pr,oo)=>{o.onDehighlightItem(Pr,oo.event.menuComp,oo.event.itemComp)}),...o.navigateOnHover?[qn(V6(),(Pr,oo)=>{const Bo=oo.event.item;Zn(Pr,Bo),sn(Pr,Bo,Dn.HighlightParent),o.onHover(Pr,Bo)})]:[]]),Gr=Pr=>Ys.getHighlighted(Pr).bind(Ys.getHighlighted),No=Pr=>{Gr(Pr).each(oo=>{kn(Pr,oo)})},Ro=Pr=>{R.getPrimary().each(oo=>{Ue(Pr,oo)})},ra=Pr=>L.from(Pr.components()[0]).filter(oo=>sa(oo.element,"role")==="menu"),Bs={collapseMenu:No,highlightPrimary:Ro,repositionMenus:Pr=>{R.getPrimary().bind(Bo=>Gr(Pr).bind(Fo=>{const To=K(Fo),Yo=Nt(R.getMenus()),Ea=an(ne(Yo,pL.extractPreparedMenu));return R.getTriggeringPath(To,Fs=>ye(Pr,Ea,Fs))}).map(Fo=>({primary:Bo,triggeringPath:Fo}))).fold(()=>{ra(Pr).each(Bo=>{o.onRepositionMenu(Pr,Bo,[])})},({primary:Bo,triggeringPath:Fo})=>{o.onRepositionMenu(Pr,Bo,Fo)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Qi(o.tmenuBehaviours,[yo.config({mode:"special",onRight:Mr(mr),onLeft:Mr(Gn),onEscape:Mr(Or),focusIn:(Pr,oo)=>{R.getPrimary().each(Bo=>{jO(Pr,Bo.element,na())})}}),Ys.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),Cs.config({find:Pr=>Ys.getHighlighted(Pr)}),Uo.config({})]),eventOrder:o.eventOrder,apis:Bs,events:is}},hY=Q("collapse-item"),mY=(o,u,p)=>({primary:o,menus:u,expansions:p}),yL=(o,u)=>({primary:o,menus:vt(o,u),expansions:{}}),gY=o=>({value:Kr(hY()),meta:{text:o}}),f0=Lu({name:"TieredMenu",configFields:[yw("onExecute"),yw("onEscape"),Gd("onOpenMenu"),Gd("onOpenSubmenu"),Ds("onRepositionMenu"),Ds("onCollapseMenu"),Mn("highlightOnOpen",bu.HighlightMenuAndItem),uu("data",[er("primary"),er("menus"),er("expansions")]),Mn("fakeFocus",!1),Ds("onHighlightItem"),Ds("onDehighlightItem"),Ds("onHover"),Uy(),er("dom"),Mn("navigateOnHover",!0),Mn("stayInDom",!1),rl("tmenuBehaviours",[yo,Ys,Cs,Uo]),Mn("eventOrder",{})],apis:{collapseMenu:(o,u)=>{o.collapseMenu(u)},highlightPrimary:(o,u)=>{o.highlightPrimary(u)},repositionMenus:(o,u)=>{o.repositionMenus(u)}},factory:vL,extraApis:{tieredData:mY,singleData:yL,collapseItem:gY}}),pY=(o,u,p,S,R)=>{const H=()=>o.lazySink(u),K=S.type==="horizontal"?{layouts:{onLtr:()=>O2(),onRtl:()=>Mw()}}:{},ye=Ne=>Ne.length===2,Ae=Ne=>ye(Ne)?K:{};return f0.sketch({dom:{tag:"div"},data:S.data,markers:S.menu.markers,highlightOnOpen:S.menu.highlightOnOpen,fakeFocus:S.menu.fakeFocus,onEscape:()=>(Ps.close(u),o.onEscape.map(Ne=>Ne(u)),L.some(!0)),onExecute:()=>L.some(!0),onOpenMenu:(Ne,Ue)=>{dc.positionWithinBounds(H().getOrDie(),Ue,p,R())},onOpenSubmenu:(Ne,Ue,Je,st)=>{const ht=H().getOrDie();dc.position(ht,Je,{anchor:{type:"submenu",item:Ue,...Ae(st)}})},onRepositionMenu:(Ne,Ue,Je)=>{const st=H().getOrDie();dc.positionWithinBounds(st,Ue,p,R()),le(Je,ht=>{const At=Ae(ht.triggeringPath);dc.position(st,ht.triggeredMenu,{anchor:{type:"submenu",item:ht.triggeringItem,...At}})})}})},vY=(o,u)=>{const p=(st,ht)=>o.getRelated(st).exists(qt=>Nm(qt,ht)),S=(st,ht)=>{Ps.setContent(st,ht)},R=(st,ht,At)=>{const qt=L.none;H(st,ht,At,qt)},H=(st,ht,At,qt)=>{const Dn=o.lazySink(st).getOrDie();Ps.openWhileCloaked(st,ht,()=>dc.positionWithinBounds(Dn,st,At,qt())),Fr.setValue(st,L.some({mode:"position",config:At,getBounds:qt}))},K=(st,ht,At)=>{ye(st,ht,At,L.none)},ye=(st,ht,At,qt)=>{const Dn=pY(o,st,ht,At,qt);Ps.open(st,Dn),Fr.setValue(st,L.some({mode:"menu",menu:Dn}))},Ae=st=>{Ps.isOpen(st)&&(Fr.setValue(st,L.none()),Ps.close(st))},Ne=st=>Ps.getState(st),Ue=st=>{Ps.isOpen(st)&&Fr.getValue(st).each(ht=>{switch(ht.mode){case"menu":Ps.getState(st).each(f0.repositionMenus);break;case"position":const At=o.lazySink(st).getOrDie();dc.positionWithinBounds(At,st,ht.config,ht.getBounds());break}})},Je={setContent:S,showAt:R,showWithinBounds:H,showMenuAt:K,showMenuWithinBounds:ye,hide:Ae,getContent:Ne,reposition:Ue,isOpen:Ps.isOpen};return{uid:o.uid,dom:o.dom,behaviours:Qi(o.inlineBehaviours,[Ps.config({isPartOf:(st,ht,At)=>Nm(ht,At)||p(st,At),getAttachPoint:st=>o.lazySink(st).getOrDie(),onOpen:st=>{o.onShow(st)},onClose:st=>{o.onHide(st)}}),Fr.config({store:{mode:"memory",initialValue:L.none()}}),hu.config({channels:{...gb({isExtraPart:u.isExtraPart,...o.fireDismissalEventInstead.map(st=>({fireEventInstead:{event:st.event}})).getOr({})}),...q1({...o.fireRepositionEventInstead.map(st=>({fireEventInstead:{event:st.event}})).getOr({}),doReposition:Ue})}})]),eventOrder:o.eventOrder,apis:Je}},ai=Lu({name:"InlineView",configFields:[er("lazySink"),Ds("onShow"),Ds("onHide"),od("onEscape"),rl("inlineBehaviours",[Ps,Fr,hu]),Ec("fireDismissalEventInstead",[Mn("event",Ng())]),Ec("fireRepositionEventInstead",[Mn("event",a5())]),Mn("getRelated",L.none),Mn("isExtraPart",X),Mn("eventOrder",L.none)],factory:vY,apis:{showAt:(o,u,p,S)=>{o.showAt(u,p,S)},showWithinBounds:(o,u,p,S,R)=>{o.showWithinBounds(u,p,S,R)},showMenuAt:(o,u,p,S)=>{o.showMenuAt(u,p,S)},showMenuWithinBounds:(o,u,p,S,R)=>{o.showMenuWithinBounds(u,p,S,R)},hide:(o,u)=>{o.hide(u)},isOpen:(o,u)=>o.isOpen(u),getContent:(o,u)=>o.getContent(u),setContent:(o,u,p)=>{o.setContent(u,p)},reposition:(o,u)=>{o.reposition(u)}}});var Nb=tinymce.util.Tools.resolve("tinymce.util.Delay");const Fl=Lu({name:"Button",factory:o=>{const u=qm(o.action),p=o.dom.tag,S=H=>Bt(o.dom,"attributes").bind(K=>Bt(K,H)),R=()=>{if(p==="button"){const H=S("type").getOr("button"),K=S("role").map(ye=>({role:ye})).getOr({});return{type:H,...K}}else return{role:o.role.getOr(S("role").getOr("button"))}};return{uid:o.uid,dom:o.dom,components:o.components,events:u,behaviours:Ff.augment(o.buttonBehaviours,[Eo.config({}),yo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:R()},eventOrder:o.eventOrder}},configFields:[Mn("uid",void 0),er("dom"),Mn("components",[]),Ff.field("buttonBehaviours",[Eo,yo]),Ws("action"),Ws("role"),Mn("eventOrder",{})]}),yY=o=>{const u=o.dom.attributes!==void 0?o.dom.attributes:[];return Te(u,(p,S)=>S.name==="class"?p:{...p,[S.name]:S.value},{})},bY=o=>Array.prototype.slice.call(o.dom.classList,0),Av=o=>{const u=zt.fromHtml(o),p=qr(u),S=yY(u),R=bY(u),H=p.length===0?{}:{innerHtml:sw(u)};return{tag:xo(u),classes:R,attributes:S,...H}},la=o=>{const u=f6(o)&&En(o,"uid")?o.uid:m1("memento");return{get:H=>H.getSystem().getByUid(u).getOrDie(),getOpt:H=>H.getSystem().getByUid(u).toOptional(),asSpec:()=>({...o,uid:u})}},{entries:H6,setPrototypeOf:U6,isFrozen:OY,getPrototypeOf:xY,getOwnPropertyDescriptor:SY}=Object;let{freeze:zf,seal:Km,create:wY}=Object,{apply:qk,construct:W6}=typeof Reflect<"u"&&Reflect;qk||(qk=function(u,p,S){return u.apply(p,S)}),zf||(zf=function(u){return u}),Km||(Km=function(u){return u}),W6||(W6=function(u,p){return new u(...p)});const CY=Uh(Array.prototype.forEach),TY=Uh(Array.prototype.pop),Q3=Uh(Array.prototype.push),Kk=Uh(String.prototype.toLowerCase),Pv=Uh(String.prototype.toString),kY=Uh(String.prototype.match),Jm=Uh(String.prototype.replace),Bb=Uh(String.prototype.indexOf),OL=Uh(String.prototype.trim),nh=Uh(RegExp.prototype.test),Hh=AY(TypeError);function Uh(o){return function(u){for(var p=arguments.length,S=new Array(p>1?p-1:0),R=1;R<p;R++)S[R-1]=arguments[R];return qk(o,u,S)}}function AY(o){return function(){for(var u=arguments.length,p=new Array(u),S=0;S<u;S++)p[S]=arguments[S];return W6(o,p)}}function $s(o,u,p){var S;p=(S=p)!==null&&S!==void 0?S:Kk,U6&&U6(o,null);let R=u.length;for(;R--;){let H=u[R];if(typeof H=="string"){const K=p(H);K!==H&&(OY(u)||(u[R]=K),H=K)}o[H]=!0}return o}function Qb(o){const u=wY(null);for(const[p,S]of H6(o))u[p]=S;return u}function F3(o,u){for(;o!==null;){const S=SY(o,u);if(S){if(S.get)return Uh(S.get);if(typeof S.value=="function")return Uh(S.value)}o=xY(o)}function p(S){return console.warn("fallback value for",S),null}return p}const Y6=zf(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),X6=zf(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V3=zf(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PY=zf(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G6=zf(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),MY=zf(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),z3=zf(["#text"]),Jk=zf(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),e4=zf(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j6=zf(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Z3=zf(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),EY=Km(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_Y=Km(/<%[\w\W]*|[\w\W]*%>/gm),xL=Km(/\${[\w\W]*}/gm),RY=Km(/^data-[\-\w.\u00B7-\uFFFF]/),q6=Km(/^aria-[\-\w]+$/),K6=Km(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),DY=Km(/^(?:\w+script|data):/i),$Y=Km(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),SL=Km(/^html$/i);var t4=Object.freeze({__proto__:null,MUSTACHE_EXPR:EY,ERB_EXPR:_Y,TMPLIT_EXPR:xL,DATA_ATTR:RY,ARIA_ATTR:q6,IS_ALLOWED_URI:K6,IS_SCRIPT_OR_DATA:DY,ATTR_WHITESPACE:$Y,DOCTYPE_NAME:SL});const LY=()=>typeof window>"u"?null:window,H3=function(u,p){if(typeof u!="object"||typeof u.createPolicy!="function")return null;let S=null;const R="data-tt-policy-suffix";p&&p.hasAttribute(R)&&(S=p.getAttribute(R));const H="dompurify"+(S?"#"+S:"");try{return u.createPolicy(H,{createHTML(K){return K},createScriptURL(K){return K}})}catch{return console.warn("TrustedTypes policy "+H+" could not be created."),null}};function U3(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:LY();const u=ks=>U3(ks);if(u.version="3.0.5",u.removed=[],!o||!o.document||o.document.nodeType!==9)return u.isSupported=!1,u;const p=o.document,S=p.currentScript;let{document:R}=o;const{DocumentFragment:H,HTMLTemplateElement:K,Node:ye,Element:Ae,NodeFilter:Ne,NamedNodeMap:Ue=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:Je,DOMParser:st,trustedTypes:ht}=o,At=Ae.prototype,qt=F3(At,"cloneNode"),Dn=F3(At,"nextSibling"),mn=F3(At,"childNodes"),sn=F3(At,"parentNode");if(typeof K=="function"){const ks=R.createElement("template");ks.content&&ks.content.ownerDocument&&(R=ks.content.ownerDocument)}let kn,Zn="";const{implementation:mr,createNodeIterator:Gn,createDocumentFragment:Or,getElementsByTagName:Mr}=R,{importNode:is}=p;let Gr={};u.isSupported=typeof H6=="function"&&typeof sn=="function"&&mr&&mr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:No,ERB_EXPR:Ro,TMPLIT_EXPR:ra,DATA_ATTR:Co,ARIA_ATTR:Bs,IS_SCRIPT_OR_DATA:Pr,ATTR_WHITESPACE:oo}=t4;let{IS_ALLOWED_URI:Bo}=t4,Fo=null;const To=$s({},[...Y6,...X6,...V3,...G6,...z3]);let Yo=null;const Ea=$s({},[...Jk,...e4,...j6,...Z3]);let Fs=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),sc=null,Sf=null,mh=!0,am=!0,N0=!1,hO=!0,lg=!1,Qv=!1,dT=!1,pR=!1,aS=!1,$P=!1,Yz=!1,Oue=!0,xue=!1;const Dxe="user-content-";let Ore=!0,vR=!1,LP={},IP=null;const Sue=$s({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wue=null;const Cue=$s({},["audio","video","img","source","image","track"]);let xre=null;const Tue=$s({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xz="http://www.w3.org/1998/Math/MathML",Gz="http://www.w3.org/2000/svg",mO="http://www.w3.org/1999/xhtml";let NP=mO,Sre=!1,wre=null;const $xe=$s({},[Xz,Gz,mO],Pv);let hT;const Lxe=["application/xhtml+xml","text/html"],Ixe="text/html";let wf,BP=null;const Nxe=R.createElement("form"),kue=function(Vn){return Vn instanceof RegExp||Vn instanceof Function},Cre=function(Vn){if(!(BP&&BP===Vn)){if((!Vn||typeof Vn!="object")&&(Vn={}),Vn=Qb(Vn),hT=Lxe.indexOf(Vn.PARSER_MEDIA_TYPE)===-1?hT=Ixe:hT=Vn.PARSER_MEDIA_TYPE,wf=hT==="application/xhtml+xml"?Pv:Kk,Fo="ALLOWED_TAGS"in Vn?$s({},Vn.ALLOWED_TAGS,wf):To,Yo="ALLOWED_ATTR"in Vn?$s({},Vn.ALLOWED_ATTR,wf):Ea,wre="ALLOWED_NAMESPACES"in Vn?$s({},Vn.ALLOWED_NAMESPACES,Pv):$xe,xre="ADD_URI_SAFE_ATTR"in Vn?$s(Qb(Tue),Vn.ADD_URI_SAFE_ATTR,wf):Tue,wue="ADD_DATA_URI_TAGS"in Vn?$s(Qb(Cue),Vn.ADD_DATA_URI_TAGS,wf):Cue,IP="FORBID_CONTENTS"in Vn?$s({},Vn.FORBID_CONTENTS,wf):Sue,sc="FORBID_TAGS"in Vn?$s({},Vn.FORBID_TAGS,wf):{},Sf="FORBID_ATTR"in Vn?$s({},Vn.FORBID_ATTR,wf):{},LP="USE_PROFILES"in Vn?Vn.USE_PROFILES:!1,mh=Vn.ALLOW_ARIA_ATTR!==!1,am=Vn.ALLOW_DATA_ATTR!==!1,N0=Vn.ALLOW_UNKNOWN_PROTOCOLS||!1,hO=Vn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lg=Vn.SAFE_FOR_TEMPLATES||!1,Qv=Vn.WHOLE_DOCUMENT||!1,aS=Vn.RETURN_DOM||!1,$P=Vn.RETURN_DOM_FRAGMENT||!1,Yz=Vn.RETURN_TRUSTED_TYPE||!1,pR=Vn.FORCE_BODY||!1,Oue=Vn.SANITIZE_DOM!==!1,xue=Vn.SANITIZE_NAMED_PROPS||!1,Ore=Vn.KEEP_CONTENT!==!1,vR=Vn.IN_PLACE||!1,Bo=Vn.ALLOWED_URI_REGEXP||K6,NP=Vn.NAMESPACE||mO,Fs=Vn.CUSTOM_ELEMENT_HANDLING||{},Vn.CUSTOM_ELEMENT_HANDLING&&kue(Vn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Fs.tagNameCheck=Vn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Vn.CUSTOM_ELEMENT_HANDLING&&kue(Vn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Fs.attributeNameCheck=Vn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Vn.CUSTOM_ELEMENT_HANDLING&&typeof Vn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Fs.allowCustomizedBuiltInElements=Vn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lg&&(am=!1),$P&&(aS=!0),LP&&(Fo=$s({},[...z3]),Yo=[],LP.html===!0&&($s(Fo,Y6),$s(Yo,Jk)),LP.svg===!0&&($s(Fo,X6),$s(Yo,e4),$s(Yo,Z3)),LP.svgFilters===!0&&($s(Fo,V3),$s(Yo,e4),$s(Yo,Z3)),LP.mathMl===!0&&($s(Fo,G6),$s(Yo,j6),$s(Yo,Z3))),Vn.ADD_TAGS&&(Fo===To&&(Fo=Qb(Fo)),$s(Fo,Vn.ADD_TAGS,wf)),Vn.ADD_ATTR&&(Yo===Ea&&(Yo=Qb(Yo)),$s(Yo,Vn.ADD_ATTR,wf)),Vn.ADD_URI_SAFE_ATTR&&$s(xre,Vn.ADD_URI_SAFE_ATTR,wf),Vn.FORBID_CONTENTS&&(IP===Sue&&(IP=Qb(IP)),$s(IP,Vn.FORBID_CONTENTS,wf)),Ore&&(Fo["#text"]=!0),Qv&&$s(Fo,["html","head","body"]),Fo.table&&($s(Fo,["tbody"]),delete sc.tbody),Vn.TRUSTED_TYPES_POLICY){if(typeof Vn.TRUSTED_TYPES_POLICY.createHTML!="function")throw Hh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Vn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Hh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');kn=Vn.TRUSTED_TYPES_POLICY,Zn=kn.createHTML("")}else kn===void 0&&(kn=H3(ht,S)),kn!==null&&typeof Zn=="string"&&(Zn=kn.createHTML(""));zf&&zf(Vn),BP=Vn}},Aue=$s({},["mi","mo","mn","ms","mtext"]),Pue=$s({},["foreignobject","desc","title","annotation-xml"]),Bxe=$s({},["title","style","font","a","script"]),jz=$s({},X6);$s(jz,V3),$s(jz,PY);const Tre=$s({},G6);$s(Tre,MY);const Qxe=function(Vn){let ho=sn(Vn);(!ho||!ho.tagName)&&(ho={namespaceURI:NP,tagName:"template"});const Vo=Kk(Vn.tagName),sl=Kk(ho.tagName);return wre[Vn.namespaceURI]?Vn.namespaceURI===Gz?ho.namespaceURI===mO?Vo==="svg":ho.namespaceURI===Xz?Vo==="svg"&&(sl==="annotation-xml"||Aue[sl]):!!jz[Vo]:Vn.namespaceURI===Xz?ho.namespaceURI===mO?Vo==="math":ho.namespaceURI===Gz?Vo==="math"&&Pue[sl]:!!Tre[Vo]:Vn.namespaceURI===mO?ho.namespaceURI===Gz&&!Pue[sl]||ho.namespaceURI===Xz&&!Aue[sl]?!1:!Tre[Vo]&&(Bxe[Vo]||!jz[Vo]):!!(hT==="application/xhtml+xml"&&wre[Vn.namespaceURI]):!1},mT=function(Vn){Q3(u.removed,{element:Vn});try{Vn.parentNode.removeChild(Vn)}catch{Vn.remove()}},yR=function(Vn,ho){try{Q3(u.removed,{attribute:ho.getAttributeNode(Vn),from:ho})}catch{Q3(u.removed,{attribute:null,from:ho})}if(ho.removeAttribute(Vn),Vn==="is"&&!Yo[Vn])if(aS||$P)try{mT(ho)}catch{}else try{ho.setAttribute(Vn,"")}catch{}},Mue=function(Vn){let ho,Vo;if(pR)Vn="<remove></remove>"+Vn;else{const Cp=kY(Vn,/^[\r\n\t ]+/);Vo=Cp&&Cp[0]}hT==="application/xhtml+xml"&&NP===mO&&(Vn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Vn+"</body></html>");const sl=kn?kn.createHTML(Vn):Vn;if(NP===mO)try{ho=new st().parseFromString(sl,hT)}catch{}if(!ho||!ho.documentElement){ho=mr.createDocument(NP,"template",null);try{ho.documentElement.innerHTML=Sre?Zn:sl}catch{}}const Cf=ho.body||ho.documentElement;return Vn&&Vo&&Cf.insertBefore(R.createTextNode(Vo),Cf.childNodes[0]||null),NP===mO?Mr.call(ho,Qv?"html":"body")[0]:Qv?ho.documentElement:Cf},Eue=function(Vn){return Gn.call(Vn.ownerDocument||Vn,Vn,Ne.SHOW_ELEMENT|Ne.SHOW_COMMENT|Ne.SHOW_TEXT,null,!1)},Fxe=function(Vn){return Vn instanceof Je&&(typeof Vn.nodeName!="string"||typeof Vn.textContent!="string"||typeof Vn.removeChild!="function"||!(Vn.attributes instanceof Ue)||typeof Vn.removeAttribute!="function"||typeof Vn.setAttribute!="function"||typeof Vn.namespaceURI!="string"||typeof Vn.insertBefore!="function"||typeof Vn.hasChildNodes!="function")},qz=function(Vn){return typeof ye=="object"?Vn instanceof ye:Vn&&typeof Vn=="object"&&typeof Vn.nodeType=="number"&&typeof Vn.nodeName=="string"},gO=function(Vn,ho,Vo){Gr[Vn]&&CY(Gr[Vn],sl=>{sl.call(u,ho,Vo,BP)})},_ue=function(Vn){let ho;if(gO("beforeSanitizeElements",Vn,null),Fxe(Vn))return mT(Vn),!0;const Vo=wf(Vn.nodeName);if(gO("uponSanitizeElement",Vn,{tagName:Vo,allowedTags:Fo}),Vn.hasChildNodes()&&!qz(Vn.firstElementChild)&&(!qz(Vn.content)||!qz(Vn.content.firstElementChild))&&nh(/<[/\w]/g,Vn.innerHTML)&&nh(/<[/\w]/g,Vn.textContent))return mT(Vn),!0;if(!Fo[Vo]||sc[Vo]){if(!sc[Vo]&&Due(Vo)&&(Fs.tagNameCheck instanceof RegExp&&nh(Fs.tagNameCheck,Vo)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Vo)))return!1;if(Ore&&!IP[Vo]){const sl=sn(Vn)||Vn.parentNode,Cf=mn(Vn)||Vn.childNodes;if(Cf&&sl){const Cp=Cf.length;for(let yc=Cp-1;yc>=0;--yc)sl.insertBefore(qt(Cf[yc],!0),Dn(Vn))}}return mT(Vn),!0}return Vn instanceof Ae&&!Qxe(Vn)||(Vo==="noscript"||Vo==="noembed"||Vo==="noframes")&&nh(/<\/no(script|embed|frames)/i,Vn.innerHTML)?(mT(Vn),!0):(lg&&Vn.nodeType===3&&(ho=Vn.textContent,ho=Jm(ho,No," "),ho=Jm(ho,Ro," "),ho=Jm(ho,ra," "),Vn.textContent!==ho&&(Q3(u.removed,{element:Vn.cloneNode()}),Vn.textContent=ho)),gO("afterSanitizeElements",Vn,null),!1)},Rue=function(Vn,ho,Vo){if(Oue&&(ho==="id"||ho==="name")&&(Vo in R||Vo in Nxe))return!1;if(!(am&&!Sf[ho]&&nh(Co,ho))){if(!(mh&&nh(Bs,ho))){if(!Yo[ho]||Sf[ho]){if(!(Due(Vn)&&(Fs.tagNameCheck instanceof RegExp&&nh(Fs.tagNameCheck,Vn)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Vn))&&(Fs.attributeNameCheck instanceof RegExp&&nh(Fs.attributeNameCheck,ho)||Fs.attributeNameCheck instanceof Function&&Fs.attributeNameCheck(ho))||ho==="is"&&Fs.allowCustomizedBuiltInElements&&(Fs.tagNameCheck instanceof RegExp&&nh(Fs.tagNameCheck,Vo)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Vo))))return!1}else if(!xre[ho]){if(!nh(Bo,Jm(Vo,oo,""))){if(!((ho==="src"||ho==="xlink:href"||ho==="href")&&Vn!=="script"&&Bb(Vo,"data:")===0&&wue[Vn])){if(!(N0&&!nh(Pr,Jm(Vo,oo,"")))){if(Vo)return!1}}}}}}return!0},Due=function(Vn){return Vn.indexOf("-")>0},$ue=function(Vn){let ho,Vo,sl,Cf;gO("beforeSanitizeAttributes",Vn,null);const{attributes:Cp}=Vn;if(!Cp)return;const yc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yo};for(Cf=Cp.length;Cf--;){ho=Cp[Cf];const{name:Tp,namespaceURI:kre}=ho;Vo=Tp==="value"?ho.value:OL(ho.value);const zxe=Vo;if(sl=wf(Tp),yc.attrName=sl,yc.attrValue=Vo,yc.keepAttr=!0,yc.forceKeepAttr=void 0,gO("uponSanitizeAttribute",Vn,yc),Vo=yc.attrValue,yc.forceKeepAttr)continue;if(!yc.keepAttr){yR(Tp,Vn);continue}if(!hO&&nh(/\/>/i,Vo)){yR(Tp,Vn);continue}lg&&(Vo=Jm(Vo,No," "),Vo=Jm(Vo,Ro," "),Vo=Jm(Vo,ra," "));const Lue=wf(Vn.nodeName);if(!Rue(Lue,sl,Vo)){yR(Tp,Vn);continue}if(xue&&(sl==="id"||sl==="name")&&(yR(Tp,Vn),Vo=Dxe+Vo),kn&&typeof ht=="object"&&typeof ht.getAttributeType=="function"&&!kre)switch(ht.getAttributeType(Lue,sl)){case"TrustedHTML":{Vo=kn.createHTML(Vo);break}case"TrustedScriptURL":{Vo=kn.createScriptURL(Vo);break}}if(Vo!==zxe)try{kre?Vn.setAttributeNS(kre,Tp,Vo):Vn.setAttribute(Tp,Vo)}catch{yR(Tp,Vn)}}gO("afterSanitizeAttributes",Vn,null)},Vxe=function ks(Vn){let ho;const Vo=Eue(Vn);for(gO("beforeSanitizeShadowDOM",Vn,null);ho=Vo.nextNode();)gO("uponSanitizeShadowNode",ho,null),!_ue(ho)&&(ho.content instanceof H&&ks(ho.content),$ue(ho));gO("afterSanitizeShadowDOM",Vn,null)};return u.sanitize=function(ks){let Vn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ho,Vo,sl,Cf;if(Sre=!ks,Sre&&(ks="<!-->"),typeof ks!="string"&&!qz(ks))if(typeof ks.toString=="function"){if(ks=ks.toString(),typeof ks!="string")throw Hh("dirty is not a string, aborting")}else throw Hh("toString is not a function");if(!u.isSupported)return ks;if(dT||Cre(Vn),u.removed=[],typeof ks=="string"&&(vR=!1),vR){if(ks.nodeName){const Tp=wf(ks.nodeName);if(!Fo[Tp]||sc[Tp])throw Hh("root node is forbidden and cannot be sanitized in-place")}}else if(ks instanceof ye)ho=Mue("<!---->"),Vo=ho.ownerDocument.importNode(ks,!0),Vo.nodeType===1&&Vo.nodeName==="BODY"||Vo.nodeName==="HTML"?ho=Vo:ho.appendChild(Vo);else{if(!aS&&!lg&&!Qv&&ks.indexOf("<")===-1)return kn&&Yz?kn.createHTML(ks):ks;if(ho=Mue(ks),!ho)return aS?null:Yz?Zn:""}ho&&pR&&mT(ho.firstChild);const Cp=Eue(vR?ks:ho);for(;sl=Cp.nextNode();)_ue(sl)||(sl.content instanceof H&&Vxe(sl.content),$ue(sl));if(vR)return ks;if(aS){if($P)for(Cf=Or.call(ho.ownerDocument);ho.firstChild;)Cf.appendChild(ho.firstChild);else Cf=ho;return(Yo.shadowroot||Yo.shadowrootmode)&&(Cf=is.call(p,Cf,!0)),Cf}let yc=Qv?ho.outerHTML:ho.innerHTML;return Qv&&Fo["!doctype"]&&ho.ownerDocument&&ho.ownerDocument.doctype&&ho.ownerDocument.doctype.name&&nh(SL,ho.ownerDocument.doctype.name)&&(yc="<!DOCTYPE "+ho.ownerDocument.doctype.name+`>
`+yc),lg&&(yc=Jm(yc,No," "),yc=Jm(yc,Ro," "),yc=Jm(yc,ra," ")),kn&&Yz?kn.createHTML(yc):yc},u.setConfig=function(ks){Cre(ks),dT=!0},u.clearConfig=function(){BP=null,dT=!1},u.isValidAttribute=function(ks,Vn,ho){BP||Cre({});const Vo=wf(ks),sl=wf(Vn);return Rue(Vo,sl,ho)},u.addHook=function(ks,Vn){typeof Vn=="function"&&(Gr[ks]=Gr[ks]||[],Q3(Gr[ks],Vn))},u.removeHook=function(ks){if(Gr[ks])return TY(Gr[ks])},u.removeHooks=function(ks){Gr[ks]&&(Gr[ks]=[])},u.removeAllHooks=function(){Gr={}},u}var wL=U3();const J6=o=>wL().sanitize(o);var vd=tinymce.util.Tools.resolve("tinymce.util.I18n");const IY={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},CL="temporary-placeholder",eM=o=>()=>Bt(o,CL).getOr("!not found!"),W3=(o,u)=>{const p=o.toLowerCase();if(vd.isRtl()){const S=He(p,"-rtl");return vn(u,S)?S:p}else return p},tM=(o,u)=>Bt(u,W3(o,u)),nM=(o,u)=>{const p=u();return tM(o,p).getOrThunk(eM(p))},rM=(o,u,p)=>{const S=u();return tM(o,S).or(p).getOrThunk(eM(S))},NY=o=>vd.isRtl()?vn(IY,o):!1,n4=()=>Jo("add-focusable",[ka(o=>{h2(o.element,"svg").each(u=>Dr(u,"focusable","false"))})]),TL=(o,u,p,S)=>{var R,H;const K=NY(u)?["tox-icon--flip"]:[],ye=Bt(p,W3(u,p)).or(S).getOrThunk(eM(p));return{dom:{tag:o.tag,attributes:(R=o.attributes)!==null&&R!==void 0?R:{},classes:o.classes.concat(K),innerHtml:ye},behaviours:pr([...(H=o.behaviours)!==null&&H!==void 0?H:[],n4()])}},Wh=(o,u,p,S=L.none())=>TL(u,o,p(),S),BY=(o,u,p)=>{const S=p(),R=Ve(o,H=>vn(S,W3(H,S)));return TL(u,R.getOr(CL),S,L.none())},kL={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},oM=Lu({name:"Notification",factory:o=>{const u=la({dom:Av(`<p>${J6(o.translationProvider(o.text))}</p>`),behaviours:pr([Uo.config({})])}),p=ht=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ht}%`}}}),S=ht=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ht}%`}}),R=la({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(0)]},S(0)],behaviours:pr([Uo.config({})])}),ye={updateProgress:(ht,At)=>{ht.getSystem().isConnected()&&R.getOpt(ht).each(qt=>{Uo.set(qt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(At)]},S(At)])})},updateText:(ht,At)=>{if(ht.getSystem().isConnected()){const qt=u.get(ht);Uo.set(qt,[Oi(At)])}}},Ae=Ie([o.icon.toArray(),o.level.toArray(),o.level.bind(ht=>L.from(kL[ht])).toArray()]),Ne=la(Fl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Wh("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":o.translationProvider("Close")}},o.iconProvider)],action:ht=>{o.onAction(ht)}})),Ue=BY(Ae,{tag:"div",classes:["tox-notification__icon"]},o.iconProvider),Je={dom:{tag:"div",classes:["tox-notification__body"]},components:[u.asSpec()],behaviours:pr([Uo.config({})])},st=[Ue,Je];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert"},classes:o.level.map(ht=>["tox-notification","tox-notification--in",`tox-notification--${ht}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:pr([Eo.config({}),Jo("notification-events",[qn($o(),ht=>{Ne.getOpt(ht).each(Eo.focus)})])]),components:st.concat(o.progress?[R.asSpec()]:[]).concat(o.closeButton?[Ne.asSpec()]:[]),apis:ye}},configFields:[Ws("level"),er("progress"),Ws("icon"),er("onAction"),er("text"),er("iconProvider"),er("translationProvider"),Xi("closeButton",!0)],apis:{updateProgress:(o,u,p)=>{o.updateProgress(u,p)},updateText:(o,u,p)=>{o.updateText(u,p)}}});var sM=(o,u,p)=>{const S=u.backstage.shared,R=()=>{const Ae=hi(zt.fromDom(o.getContentAreaContainer())),Ne=Xl(),Ue=cf(Ne.x,Ae.x,Ae.right),Je=cf(Ne.y,Ae.y,Ae.bottom),st=Math.max(Ae.right,Ne.right),ht=Math.max(Ae.bottom,Ne.bottom);return L.some(ni(Ue,Je,st-Ue,ht-Je))};return{open:(Ae,Ne)=>{const Ue=()=>{Ne(),ai.hide(st)},Je=uc(oM.sketch({text:Ae.text,level:xe(["success","error","warning","warn","info"],Ae.type)?Ae.type:void 0,progress:Ae.progressBar===!0,icon:Ae.icon,closeButton:Ae.closeButton,onAction:Ue,iconProvider:S.providers.icons,translationProvider:S.providers.translate})),st=uc(ai.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:S.getSink,fireDismissalEventInstead:{},...S.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));p.add(st),C(Ae.timeout)&&Ae.timeout>0&&Nb.setEditorTimeout(o,()=>{Ue()},Ae.timeout);const At={close:Ue,reposition:()=>{const qt=lf(Je),Dn={maxHeightFunction:N1()},mn=o.notificationManager.getNotifications();if(mn[0]===At){const sn={...S.anchors.banner(),overrides:Dn};ai.showWithinBounds(st,qt,{anchor:sn},R)}else ee(mn,At).each(sn=>{const kn=mn[sn-1].getEl(),Zn={type:"node",root:ba(),node:L.some(zt.fromDom(kn)),overrides:Dn,layouts:{onRtl:()=>[ml],onLtr:()=>[ml]}};ai.showWithinBounds(st,qt,{anchor:Zn},R)})},text:qt=>{oM.updateText(Je,qt)},settings:Ae,getEl:()=>Je.element.dom,progressBar:{value:qt=>{oM.updateProgress(Je,qt)}}};return At},close:Ae=>{Ae.close()},getArgs:Ae=>Ae.settings}},Fb=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),AL=tinymce.util.Tools.resolve("tinymce.EditorManager"),lx=tinymce.util.Tools.resolve("tinymce.Env"),Zf;(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(Zf||(Zf={}));var Y3;(function(o){o.auto="auto",o.top="top",o.bottom="bottom"})(Y3||(Y3={}));const Ra=o=>u=>u.options.get(o),X3=o=>u=>L.from(o(u)),PL=o=>{const u=lx.deviceType.isPhone(),p=lx.deviceType.isTablet()||u,S=o.options.register,R=K=>h(K)||K===!1,H=K=>h(K)||C(K);S("skin",{processor:K=>h(K)||K===!1,default:"oxide"}),S("skin_url",{processor:"string"}),S("height",{processor:H,default:Math.max(o.getElement().offsetHeight,400)}),S("width",{processor:H,default:Fb.DOM.getStyle(o.getElement(),"width")}),S("min_height",{processor:"number",default:100}),S("min_width",{processor:"number"}),S("max_height",{processor:"number"}),S("max_width",{processor:"number"}),S("style_formats",{processor:"object[]"}),S("style_formats_merge",{processor:"boolean",default:!1}),S("style_formats_autohide",{processor:"boolean",default:!1}),S("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),S("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),S("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),S("font_size_input_default_unit",{processor:"string",default:"pt"}),S("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),S("content_langs",{processor:"object[]"}),S("removed_menuitems",{processor:"string",default:""}),S("menubar",{processor:K=>h(K)||b(K),default:!u}),S("menu",{processor:"object",default:{}}),S("toolbar",{processor:K=>b(K)||h(K)||v(K)?{value:K,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Be(9,K=>{S("toolbar"+(K+1),{processor:"string"})}),S("toolbar_mode",{processor:"string",default:p?"scrolling":"floating"}),S("toolbar_groups",{processor:"object",default:{}}),S("toolbar_location",{processor:"string",default:Y3.auto}),S("toolbar_persist",{processor:"boolean",default:!1}),S("toolbar_sticky",{processor:"boolean",default:o.inline}),S("toolbar_sticky_offset",{processor:"number",default:0}),S("fixed_toolbar_container",{processor:"string",default:""}),S("fixed_toolbar_container_target",{processor:"object"}),S("ui_mode",{processor:"string",default:"combined"}),S("file_picker_callback",{processor:"function"}),S("file_picker_validator_handler",{processor:"function"}),S("file_picker_types",{processor:"string"}),S("typeahead_urls",{processor:"boolean",default:!0}),S("anchor_top",{processor:R,default:"#top"}),S("anchor_bottom",{processor:R,default:"#bottom"}),S("draggable_modal",{processor:"boolean",default:!1}),S("statusbar",{processor:"boolean",default:!0}),S("elementpath",{processor:"boolean",default:!0}),S("branding",{processor:"boolean",default:!0}),S("promotion",{processor:"boolean",default:!0}),S("resize",{processor:K=>K==="both"||b(K),default:!lx.deviceType.isTouch()}),S("sidebar_show",{processor:"string"}),S("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),S("default_font_stack",{processor:"string[]",default:[]})},ML=Ra("readonly"),r4=Ra("height"),G3=Ra("width"),aM=X3(Ra("min_width")),cx=X3(Ra("min_height")),o4=X3(Ra("max_width")),iM=X3(Ra("max_height")),EL=X3(Ra("style_formats")),_L=Ra("style_formats_merge"),RL=Ra("style_formats_autohide"),DL=Ra("content_langs"),lM=Ra("removed_menuitems"),ux=Ra("toolbar_mode"),$L=Ra("toolbar_groups"),j3=Ra("toolbar_location"),Vb=Ra("fixed_toolbar_container"),QY=Ra("fixed_toolbar_container_target"),LL=Ra("toolbar_persist"),s4=Ra("toolbar_sticky_offset"),cM=Ra("menubar"),a4=Ra("toolbar"),IL=Ra("file_picker_callback"),uM=Ra("file_picker_validator_handler"),NL=Ra("font_size_input_default_unit"),fM=Ra("file_picker_types"),dM=Ra("typeahead_urls"),i4=Ra("anchor_top"),BL=Ra("anchor_bottom"),hM=Ra("draggable_modal"),QL=Ra("statusbar"),fx=Ra("elementpath"),mM=Ra("branding"),FL=Ra("resize"),l4=Ra("paste_as_text"),c4=Ra("sidebar_show"),VL=Ra("promotion"),u4=Ra("help_accessibility"),zL=Ra("default_font_stack"),gM=o=>o.options.get("skin")===!1,dx=o=>o.options.get("menubar")!==!1,f4=o=>{const u=o.options.get("skin_url");if(gM(o))return u;if(u)return o.documentBaseURI.toAbsolute(u);{const p=o.options.get("skin");return AL.baseURL+"/skins/ui/"+p}},pM=o=>L.from(o.options.get("skin_url")),ZL=o=>o.options.get("line_height_formats").split(" "),d4=o=>{const u=a4(o),p=h(u),S=v(u)&&u.length>0;return!q3(o)&&(S||p||u===!0)},vM=o=>{const u=Be(9,S=>o.options.get("toolbar"+(S+1))),p=Oe(u,h);return lt(p.length>0,p)},q3=o=>vM(o).fold(()=>{const u=a4(o);return _(u,h)&&u.length>0},ie),yM=o=>j3(o)===Y3.bottom,HL=o=>{var u;if(!o.inline)return L.none();const p=(u=Vb(o))!==null&&u!==void 0?u:"";if(p.length>0)return Mi(ba(),p);const S=QY(o);return k(S)?L.some(zt.fromDom(S)):L.none()},hx=o=>o.inline&&HL(o).isSome(),bM=o=>HL(o).getOrThunk(()=>Xs(ns(zt.fromDom(o.getElement())))),OM=o=>o.inline&&!dx(o)&&!d4(o)&&!q3(o),K3=o=>(o.options.get("toolbar_sticky")||o.inline)&&!hx(o)&&!OM(o),lp=o=>!hx(o)&&o.options.get("ui_mode")==="split",UL=o=>{const u=o.options.get("menu");return je(u,p=>({...p,items:p.items}))};var FY=Object.freeze({__proto__:null,get ToolbarMode(){return Zf},get ToolbarLocation(){return Y3},register:PL,getSkinUrl:f4,getSkinUrlOption:pM,isReadOnly:ML,isSkinDisabled:gM,getHeightOption:r4,getWidthOption:G3,getMinWidthOption:aM,getMinHeightOption:cx,getMaxWidthOption:o4,getMaxHeightOption:iM,getUserStyleFormats:EL,shouldMergeStyleFormats:_L,shouldAutoHideStyleFormats:RL,getLineHeightFormats:ZL,getContentLanguages:DL,getRemovedMenuItems:lM,isMenubarEnabled:dx,isMultipleToolbars:q3,isToolbarEnabled:d4,isToolbarPersist:LL,getMultipleToolbarsOption:vM,getUiContainer:bM,useFixedContainer:hx,isSplitUiMode:lp,getToolbarMode:ux,isDraggableModal:hM,isDistractionFree:OM,isStickyToolbar:K3,getStickyToolbarOffset:s4,getToolbarLocation:j3,isToolbarLocationBottom:yM,getToolbarGroups:$L,getMenus:UL,getMenubar:cM,getToolbar:a4,getFilePickerCallback:IL,getFilePickerTypes:fM,useTypeaheadUrls:dM,getAnchorTop:i4,getAnchorBottom:BL,getFilePickerValidatorHandler:uM,getFontSizeInputDefaultUnit:NL,useStatusBar:QL,useElementPath:fx,promotionEnabled:VL,useBranding:mM,getResize:FL,getPasteAsText:l4,getSidebarShow:c4,useHelpAccessibility:u4,getDefaultFontStack:zL});const WL="[data-mce-autocompleter]",xM=o=>Xd(o,WL),VY=o=>Mi(o,WL),zY={setup:(o,u)=>{const p=(R,H)=>{vo(R,Rs(),{raw:H})},S=()=>o.getMenu().bind(Ys.getHighlighted);u.on("keydown",R=>{const H=R.which;o.isActive()&&(o.isMenuOpen()?H===13?(S().each(_m),R.preventDefault()):H===40?(S().fold(()=>{o.getMenu().each(Ys.highlightFirst)},K=>{p(K,R)}),R.preventDefault(),R.stopImmediatePropagation()):(H===37||H===38||H===39)&&S().each(K=>{p(K,R),R.preventDefault(),R.stopImmediatePropagation()}):(H===13||H===38||H===40)&&o.cancelIfNecessary())}),u.on("NodeChange",R=>{o.isActive()&&!o.isProcessingAction()&&xM(zt.fromDom(R.element)).isNone()&&o.cancelIfNecessary()})}};var SM;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(SM||(SM={}));var eg=SM;const wM="tox-menu-nav__js",mx="tox-collection__item",CM="tox-swatch",ZY={normal:wM,color:CM},YL="tox-collection__item--enabled",HY="tox-collection__group-heading",XL="tox-collection__item-icon",TM="tox-collection__item-label",UY="tox-collection__item-accessory",GL="tox-collection__item-caret",WY="tox-collection__item-checkmark",J3="tox-collection__item--active",jL="tox-collection__item-container",YY="tox-collection__item-container--column",qL="tox-collection__item-container--row",h4="tox-collection__item-container--align-right",XY="tox-collection__item-container--align-left",kM="tox-collection__item-container--valign-top",GY="tox-collection__item-container--valign-middle",jY="tox-collection__item-container--valign-bottom",KL=o=>Bt(ZY,o).getOr(wM),JL=o=>o==="color"?"tox-swatches":"tox-menu",AM=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:JL(o),tieredMenu:"tox-tiered-menu"}),Mv=o=>{const u=AM(o);return{backgroundMenu:u.backgroundMenu,selectedMenu:u.selectedMenu,menu:u.menu,selectedItem:u.selectedItem,item:KL(o)}},PM=(o,u,p)=>{const S=AM(p);return{tag:"div",classes:Ie([[S.menu,`tox-menu-${u}-column`],o?[S.hasIcons]:[]])}},eI=[Ib.parts.items({})],gx=(o,u,p)=>{const S=AM(p);return{dom:{tag:"div",classes:Ie([[S.tieredMenu]])},markers:Mv(p)}},eC=Q([Ws("data"),Mn("inputAttributes",{}),Mn("inputStyles",{}),Mn("tag","input"),Mn("inputClasses",[]),Ds("onSetValue"),Mn("styles",{}),Mn("eventOrder",{}),rl("inputBehaviours",[Fr,Eo]),Mn("selectOnFocus",!0)]),MM=o=>pr([Eo.config({onFocus:o.selectOnFocus?u=>{const p=u.element,S=Dh(p);p.dom.setSelectionRange(0,S.length)}:M})]),cp=o=>({...MM(o),...Qi(o.inputBehaviours,[Fr.config({store:{mode:"manual",...o.data.map(u=>({initialValue:u})).getOr({}),getValue:u=>Dh(u.element),setValue:(u,p)=>{Dh(u.element)!==p&&C1(u.element,p)}},onSetValue:o.onSetValue})])}),m4=o=>({tag:o.tag,attributes:{type:"text",...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),qY=(o,u)=>({uid:o.uid,dom:m4(o),components:[],behaviours:cp(o),eventOrder:o.eventOrder}),zb=Lu({name:"Input",configFields:eC(),factory:qY}),tI=Kr("refetch-trigger-event"),nI=Kr("redirect-menu-item-interaction"),px="tox-menu__searcher",g4=o=>Mi(o.element,`.${px}`).bind(u=>o.getSystem().getByDom(u).toOptional()),EM=g4,_M=(o,u)=>{Fr.setValue(o,u.fetchPattern),o.element.dom.selectionStart=u.selectionStart,o.element.dom.selectionEnd=u.selectionEnd},rI=o=>{const u=Fr.getValue(o),p=o.element.dom.selectionStart,S=o.element.dom.selectionEnd;return{fetchPattern:u,selectionStart:p,selectionEnd:S}},RM=(o,u)=>{$i(u.element,"id").each(p=>Dr(o.element,"aria-activedescendant",p))},DM=o=>{const u=(R,H)=>(H.cut(),L.none()),p=(R,H)=>{const K={interactionEvent:H.event,eventType:H.event.raw.type};return vo(R,nI,K),L.some(!0)},S="searcher-events";return{dom:{tag:"div",classes:[mx]},components:[zb.sketch({inputClasses:[px,"tox-textfield"],inputAttributes:{...o.placeholder.map(R=>({placeholder:o.i18n(R)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pr([Jo(S,[qn(gi(),R=>{As(R,tI)}),qn(Rs(),(R,H)=>{H.event.raw.key==="Escape"&&H.stop()})]),yo.config({mode:"special",onLeft:u,onRight:u,onSpace:u,onEnter:p,onEscape:p,onUp:p,onDown:p})]),eventOrder:{keydown:[S,yo.name()]}})]}},p4="tox-collection--results__js",$M=o=>{var u;return o.dom?{...o,dom:{...o.dom,attributes:{...(u=o.dom.attributes)!==null&&u!==void 0?u:{},id:Kr("aria-item-search-result-id"),"aria-selected":"false"}}}:o},v4=(o,u)=>p=>{const S=pe(p,u);return ne(S,R=>({dom:o,components:R}))},KY=o=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ib.parts.items({preprocess:o!=="auto"?v4({tag:"div",classes:["tox-swatches__row"]},o):z})]}]}),JY=o=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ib.parts.items({preprocess:v4({tag:"div",classes:["tox-collection__group"]},o)})]}),oI=(o,u)=>{const p=[];let S=[];return le(o,(R,H)=>{u(R,H)?(S.length>0&&p.push(S),S=[],(vn(R.dom,"innerHtml")||R.components&&R.components.length>0)&&S.push(R)):S.push(R)}),S.length>0&&p.push(S),ne(p,R=>({dom:{tag:"div",classes:["tox-collection__group"]},components:R}))},LM=(o,u,p)=>Ib.parts.items({preprocess:S=>{const R=ne(S,p);return o!=="auto"&&o>1?v4({tag:"div",classes:["tox-collection__group"]},o)(R):oI(R,(H,K)=>u[K].type==="separator")}}),sI=(o,u,p=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[LM(o,u,z)]}),eX=(o,u,p=!0)=>{const S=Kr("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",p4].concat(o===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:S}},components:[LM(o,u,$M)]}},aI=(o,u,p)=>{const S=Kr("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[DM({i18n:vd.translate,placeholder:p.placeholder}),{dom:{tag:"div",classes:[...o===1?["tox-collection--list"]:["tox-collection--grid"],p4],attributes:{id:S}},components:[LM(o,u,$M)]}]}},iI=(o,u=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ib.parts.items({preprocess:p=>oI(p,(S,R)=>o[R].type==="separator")})]}),y4=o=>we(o,u=>"icon"in u&&u.icon!==void 0),up=o=>(console.error(jl(o)),console.log(o),L.none()),tC=(o,u,p,S,R)=>{const H=iI(p);return{value:o,dom:H.dom,components:H.components,items:p}},b4=(o,u,p,S,R)=>{const H=()=>R.menuType!=="searchable"?sI(S,p):R.searchMode.searchMode==="search-with-field"?aI(S,p,R.searchMode):eX(S,p);if(R.menuType==="color"){const K=KY(S);return{value:o,dom:K.dom,components:K.components,items:p}}else if(R.menuType==="normal"&&S==="auto"){const K=sI(S,p);return{value:o,dom:K.dom,components:K.components,items:p}}else if(R.menuType==="normal"||R.menuType==="searchable"){const K=H();return{value:o,dom:K.dom,components:K.components,items:p}}else if(R.menuType==="listpreview"&&S!=="auto"){const K=JY(S);return{value:o,dom:K.dom,components:K.components,items:p}}else return{value:o,dom:PM(u,S,R.menuType),components:eI,items:p}},qi=zs("type"),IM=zs("name"),O4=zs("label"),Ev=zs("text"),lI=zs("title"),NM=zs("icon"),vx=zs("value"),cI=nf("fetch"),uI=nf("getSubmenuItems"),yx=nf("onAction"),tX=nf("onItemAction"),d0=Li("onSetup",()=>M),BM=fl("name"),fp=fl("text"),yd=fl("icon"),nC=fl("tooltip"),x4=fl("label"),nX=fl("shortcut"),QM=od("select"),S4=Xi("active",!1),fI=Xi("borderless",!1),rh=Xi("enabled",!0),dp=Xi("primary",!1),dI=o=>Mn("columns",o),rC=Mn("meta",{}),bx=Li("onAction",M),Zb=o=>id("type",o),w4=o=>ul("name","name",$f(()=>Kr(`${o}-name`)),cl),hI=o=>ul("value","value",$f(()=>Kr(`${o}-value`)),bi()),FM=uo([qi,fp]),VM=o=>ma("separatormenuitem",FM,o),mI=uo([Zb("autocompleteitem"),S4,rh,rC,vx,fp,yd]),rX=o=>ma("Autocompleter.Separator",FM,o),gI=o=>ma("Autocompleter.Item",mI,o),Ox=[rh,nC,yd,fp,d0],pI=uo([qi,yx].concat(Ox)),zM=o=>ma("toolbarbutton",pI,o),ZM=[S4].concat(Ox),vI=uo(ZM.concat([qi,yx])),yI=o=>ma("ToggleButton",vI,o),bI=[Li("predicate",X),jc("scope","node",["node","editor"]),jc("position","selection",["node","selection","line"])],oX=Ox.concat([Zb("contextformbutton"),dp,yx,ri("original",z)]),sX=ZM.concat([Zb("contextformbutton"),dp,yx,ri("original",z)]),OI=Ox.concat([Zb("contextformbutton")]),oC=ZM.concat([Zb("contextformtogglebutton")]),xI=ws("type",{contextformbutton:oX,contextformtogglebutton:sX}),aX=uo([Zb("contextform"),Li("initValue",Q("")),x4,cc("commands",xI),fu("launch",ws("type",{contextformbutton:OI,contextformtogglebutton:oC}))].concat(bI)),iX=o=>ma("ContextForm",aX,o),lX=uo([Zb("contexttoolbar"),zs("items")].concat(bI)),cX=o=>ma("ContextToolbar",lX,o),uX=[qi,zs("src"),fl("alt"),Rc("classes",[],cl)],C4=uo(uX),fX=[qi,Ev,BM,Rc("classes",["tox-collection__item-label"],cl)],SI=uo(fX),wI=ll(()=>lr("type",{cardimage:C4,cardtext:SI,cardcontainer:CI})),CI=uo([qi,id("direction","horizontal"),id("align","left"),id("valign","middle"),cc("items",wI)]),Hb=[rh,fp,nX,hI("menuitem"),rC],dX=uo([qi,x4,cc("items",wI),d0,bx].concat(Hb)),TI=o=>ma("cardmenuitem",dX,o),kI=uo([qi,S4,yd].concat(Hb)),AI=o=>ma("choicemenuitem",kI,o),HM=[qi,zs("fancytype"),bx],hX=[Mn("initData",{})].concat(HM),mX=[od("select"),D("initData",{},[Xi("allowCustomColors",!0),id("storageKey","default"),Zd("colors",bi())])].concat(HM),gX=ws("fancytype",{inserttable:hX,colorswatch:mX}),pX=o=>ma("fancymenuitem",gX,o),PI=uo([qi,d0,bx,yd].concat(Hb)),MI=o=>ma("menuitem",PI,o),vX=uo([qi,uI,d0,yd].concat(Hb)),yX=o=>ma("nestedmenuitem",vX,o),bX=uo([qi,yd,S4,d0,yx].concat(Hb)),OX=o=>ma("togglemenuitem",bX,o),UM=(o,u,p)=>{const S=pl(o.element,"."+p);if(S.length>0){const R=_e(S,H=>{const K=H.dom.getBoundingClientRect().top,ye=S[0].dom.getBoundingClientRect().top;return Math.abs(K-ye)>u}).getOr(S.length);return L.some({numColumns:R,numRows:Math.ceil(S.length/R)})}else return L.none()},WM=(o,u)=>pr([Jo(o,u)]),sC={namedEvents:WM,unnamedEvents:o=>WM(Kr("unnamed-events"),o)},T4=Kr("tooltip.exclusive"),xx=Kr("tooltip.show"),aC=Kr("tooltip.hide"),EI=(o,u,p)=>{o.getSystem().broadcastOn([T4],{})};var SX=Object.freeze({__proto__:null,hideAllExclusive:EI,setComponents:(o,u,p,S)=>{p.getTooltip().each(R=>{R.getSystem().isConnected()&&Uo.set(R,S)})}}),_I=Object.freeze({__proto__:null,events:(o,u)=>{const p=R=>{u.getTooltip().each(H=>{Fh(H),o.onHide(R,H),u.clearTooltip()}),u.clearTimer()},S=R=>{if(!u.isShowing()){EI(R);const H=o.lazySink(R).getOrDie(),K=R.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:_a(o.mode==="normal"?[qn(Lr(),ye=>{As(R,xx)}),qn(oi(),ye=>{As(R,aC)})]:[]),behaviours:pr([Uo.config({})])});u.setTooltip(K),ep(H,K),o.onShow(R,K),dc.position(H,K,{anchor:o.anchor(R)})}};return _a(Ie([[qn(xx,R=>{u.resetTimer(()=>{S(R)},o.delay)}),qn(aC,R=>{u.resetTimer(()=>{p(R)},o.delay)}),qn(Jl(),(R,H)=>{const K=H;K.universal||xe(K.channels,T4)&&p(R)}),Eh(R=>{p(R)})],o.mode==="normal"?[qn($o(),R=>{As(R,xx)}),qn(Kl(),R=>{As(R,aC)}),qn(Lr(),R=>{As(R,xx)}),qn(oi(),R=>{As(R,aC)})]:[qn(Iy(),(R,H)=>{As(R,xx)}),qn(Ny(),R=>{As(R,aC)})]]))}}),RI=[er("lazySink"),er("tooltipDom"),Mn("exclusive",!0),Mn("tooltipComponents",[]),Mn("delay",300),jc("mode","normal",["normal","follow-highlight"]),Mn("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:Q([ml,Ic,hl,Jc,nc,fc]),onRtl:Q([ml,Ic,hl,Jc,nc,fc])}})),Ds("onHide"),Ds("onShow")],CX=Object.freeze({__proto__:null,init:()=>{const o=ps(),u=ps(),p=()=>{o.on(clearTimeout)},S=(H,K)=>{p(),o.set(setTimeout(H,K))},R=Q("not-implemented");return Mu({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:p,resetTimer:S,readState:R})}});const DI=gl({fields:RI,name:"tooltipping",active:_I,state:CX,apis:SX}),TX=o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),$I="silver.readonly",YM=uo([KS("readonly")]),k4=(o,u)=>{const S=o.mainUi.outerContainer.element,R=[o.mainUi.mothership,...o.uiMotherships];u&&le(R,H=>{H.broadcastOn([Jd()],{target:S})}),le(R,H=>{H.broadcastOn([$I],{readonly:u})})},LI=(o,u)=>{o.on("init",()=>{o.mode.isReadOnly()&&k4(u,!0)}),o.on("SwitchMode",()=>k4(u,o.mode.isReadOnly())),ML(o)&&o.mode.set("readonly")},yl=()=>hu.config({channels:{[$I]:{schema:YM,onReceive:(o,u)=>{ko.set(o,u.readonly)}}}}),ol={item:o=>ko.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),button:o=>ko.config({disabled:o}),splitButton:o=>ko.config({disabled:o,disableClass:"tox-tbtn--disabled"}),toolbarButton:o=>ko.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1})},bd=(o,u)=>{const p=o.getApi(u);return S=>{S(p)}},h0=(o,u)=>ka(p=>{bd(o,p)(R=>{const H=o.onSetup(R);w(H)&&u.set(H)})}),hp=(o,u)=>Eh(p=>bd(o,p)(u.get())),XM=(o,u)=>ld((p,S)=>{bd(o,p)(o.onAction),!o.triggersSubmenu&&u===eg.CLOSE_ON_EXECUTE&&(p.getSystem().isConnected()&&As(p,of()),S.stop())}),AX={[Bi()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Sx=an,mp=(o,u,p,S)=>{const R=G(M);return{type:"item",dom:u.dom,components:Sx(u.optComponents),data:o.data,eventOrder:AX,hasSubmenu:o.triggersSubmenu,itemBehaviours:pr([Jo("item-events",[XM(o,p),h0(o,R),hp(o,R)]),ol.item(()=>!o.enabled||S.isDisabled()),yl(),Uo.config({})].concat(o.itemBehaviours))}},_v=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),A4=o=>{const u=lx.os.isMacOS()||lx.os.isiOS(),R=u?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},H=o.split("+"),K=ne(H,ye=>{const Ae=ye.toLowerCase().trim();return vn(R,Ae)?R[Ae]:ye});return u?K.join(""):K.join("+")},GM=(o,u,p=[XL])=>Wh(o,{tag:"div",classes:p},u),Yh=o=>({dom:{tag:"div",classes:[TM]},components:[Oi(vd.translate(o))]}),II=(o,u)=>({dom:{tag:"div",classes:u,innerHtml:o}}),PX=(o,u)=>({dom:{tag:"div",classes:[TM]},components:[{dom:{tag:o.tag,styles:o.styles},components:[Oi(vd.translate(u))]}]}),oh=o=>({dom:{tag:"div",classes:[UY]},components:[Oi(A4(o))]}),wx=o=>GM("checkmark",o,[WY]),Xh=o=>GM("chevron-right",o,[GL]),MX=o=>GM("chevron-down",o,[GL]),Sa=(o,u)=>{const p=o.direction==="vertical"?YY:qL,S=o.align==="left"?XY:h4;return{dom:{tag:"div",classes:[jL,p,S,(()=>{switch(o.valign){case"top":return kM;case"middle":return GY;case"bottom":return jY}})()]},components:u}},Cx=(o,u,p)=>({dom:{tag:"img",classes:u,attributes:{src:o,alt:p.getOr("")}}}),P4=(o,u,p)=>{const S="custom",R="remove",H=o.ariaLabel,K=o.value,ye=o.iconContent.map(Ne=>rM(Ne,u.icons,p));return{dom:(()=>{const Ne=CM,Ue=ye.getOr(""),st={tag:"div",attributes:H.map(ht=>({title:u.translate(ht)})).getOr({}),classes:[Ne]};return K===S?{...st,tag:"button",classes:[...st.classes,"tox-swatches__picker-btn"],innerHtml:Ue}:K===R?{...st,classes:[...st.classes,"tox-swatch--remove"],innerHtml:Ue}:k(K)?{...st,attributes:{...st.attributes,"data-mce-color":K},styles:{"background-color":K},innerHtml:Ue}:st})(),optComponents:[]}},jM=o=>{const u=o.map(p=>({attributes:{title:vd.translate(p),id:Kr("menu-item")}})).getOr({});return{tag:"div",classes:[wM,mx],...u}},qM=(o,u,p,S)=>{const R={tag:"div",classes:[XL]},H=st=>Wh(st,R,u.icons,S),K=()=>L.some({dom:R}),ye=p?o.iconContent.map(H).orThunk(K):L.none(),Ae=o.checkMark,Ne=L.from(o.meta).fold(()=>Yh,st=>vn(st,"style")?F(PX,st.style):Yh),Ue=o.htmlContent.fold(()=>o.textContent.map(Ne),st=>L.some(II(st,[TM])));return{dom:jM(o.ariaLabel),optComponents:[ye,Ue,o.shortcutContent.map(oh),Ae,o.caret]}},Ub=(o,u,p,S=L.none())=>o.presets==="color"?P4(o,u,S):qM(o,u,p,S),NI=(o,u)=>Bt(o,"tooltipWorker").map(p=>[DI.config({lazySink:u.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:S=>({type:"submenu",item:S,overrides:{maxHeightFunction:N1}}),mode:"follow-highlight",onShow:(S,R)=>{p(H=>{DI.setComponents(S,[b5({element:zt.fromDom(H)})])})}})]).getOr([]),KM=o=>Fb.DOM.encode(o),BI=(o,u)=>{const p=vd.translate(o),S=KM(p);if(u.length>0){const R=new RegExp(TX(u),"gi");return S.replace(R,H=>`<span class="tox-autocompleter-highlight">${H}</span>`)}else return S},QI=(o,u,p,S,R,H,K,ye=!0)=>{const Ae=Ub({presets:S,textContent:L.none(),htmlContent:p?o.text.map(Ne=>BI(Ne,u)):L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:L.none(),checkMark:L.none(),caret:L.none(),value:o.value},K.providers,ye,o.icon);return mp({data:_v(o),enabled:o.enabled,getApi:Q({}),onAction:Ne=>R(o.value,o.meta),onSetup:Q(M),triggersSubmenu:!1,itemBehaviours:NI(o.meta,K)},Ae,H,K.providers)},JM=(o,u)=>ne(o,p=>{switch(p.type){case"cardcontainer":return Sa(p,JM(p.items,u));case"cardimage":return Cx(p.src,p.classes,p.alt);case"cardtext":const R=p.name.exists(H=>xe(u.cardText.highlightOn,H))?L.from(u.cardText.matchText).getOr(""):"";return II(BI(p.text,R),p.classes)}}),eE=(o,u,p,S)=>{const R=K=>({isEnabled:()=>!ko.isDisabled(K),setEnabled:ye=>{ko.set(K,!ye),le(pl(K.element,"*"),Ae=>{K.getSystem().getByDom(Ae).each(Ne=>{Ne.hasConfigured(ko)&&ko.set(Ne,!ye)})})}}),H={dom:jM(o.label),optComponents:[L.some({dom:{tag:"div",classes:[jL,qL]},components:JM(o.items,S)})]};return mp({data:_v({text:L.none(),...o}),enabled:o.enabled,getApi:R,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:L.from(S.itemBehaviours).getOr([])},H,u,p.providers)},FI=(o,u,p,S,R,H,K,ye=!0)=>{const Ae=Ue=>({setActive:Je=>{as.set(Ue,Je)},isActive:()=>as.isOn(Ue),isEnabled:()=>!ko.isDisabled(Ue),setEnabled:Je=>ko.set(Ue,!Je)}),Ne=Ub({presets:p,textContent:u?o.text:L.none(),htmlContent:L.none(),ariaLabel:o.text,iconContent:o.icon,shortcutContent:u?o.shortcut:L.none(),checkMark:u?L.some(wx(K.icons)):L.none(),caret:L.none(),value:o.value},K,ye);return Ta(mp({data:_v(o),enabled:o.enabled,getApi:Ae,onAction:Ue=>S(o.value),onSetup:Ue=>(Ue.setActive(R),M),triggersSubmenu:!1,itemBehaviours:[]},Ne,H,K),{toggling:{toggleClass:YL,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},iC=Wm(N3(),B3()),VI=o=>({value:UI(o)}),zI=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ZI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,HI=o=>zI.test(o)||ZI.test(o),UI=o=>Dt(o,"#").toUpperCase(),WI=o=>HI(o)?L.some({value:UI(o)}):L.none(),EX=o=>({value:o.value.replace(zI,(p,S,R,H)=>S+S+R+R+H+H)}),_X=o=>{const u=EX(o),p=ZI.exec(u.value);return p===null?["FFFFFF","FF","FF","FF"]:p},M4=o=>{const u=o.toString(16);return(u.length===1?"0"+u:u).toUpperCase()},Tx=o=>{const u=M4(o.red)+M4(o.green)+M4(o.blue);return VI(u)},YI=Math.min,XI=Math.max,lC=Math.round,GI=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,jI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,m0=(o,u,p,S)=>({red:o,green:u,blue:p,alpha:S}),tE=o=>{const u=parseInt(o,10);return u.toString()===o&&u>=0&&u<=255},qI=o=>{let u,p,S;const R=(o.hue||0)%360;let H=o.saturation/100,K=o.value/100;if(H=XI(0,YI(H,1)),K=XI(0,YI(K,1)),H===0)return u=p=S=lC(255*K),m0(u,p,S,1);const ye=R/60,Ae=K*H,Ne=Ae*(1-Math.abs(ye%2-1)),Ue=K-Ae;switch(Math.floor(ye)){case 0:u=Ae,p=Ne,S=0;break;case 1:u=Ne,p=Ae,S=0;break;case 2:u=0,p=Ae,S=Ne;break;case 3:u=0,p=Ne,S=Ae;break;case 4:u=Ne,p=0,S=Ae;break;case 5:u=Ae,p=0,S=Ne;break;default:u=p=S=0}return u=lC(255*(u+Ue)),p=lC(255*(p+Ue)),S=lC(255*(S+Ue)),m0(u,p,S,1)},cC=o=>{const u=_X(o),p=parseInt(u[1],16),S=parseInt(u[2],16),R=parseInt(u[3],16);return m0(p,S,R,1)},KI=(o,u,p,S)=>{const R=parseInt(o,10),H=parseInt(u,10),K=parseInt(p,10),ye=parseFloat(S);return m0(R,H,K,ye)},nE=o=>{if(o==="transparent")return L.some(m0(0,0,0,0));const u=GI.exec(o);if(u!==null)return L.some(KI(u[1],u[2],u[3],"1"));const p=jI.exec(o);return p!==null?L.some(KI(p[1],p[2],p[3],p[4])):L.none()},rE=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,sh=m0(255,0,0,1),RX=o=>{o.dispatch("SkinLoaded")},oE=(o,u)=>{o.dispatch("SkinLoadError",u)},JI=o=>{o.dispatch("ResizeEditor")},E4=(o,u)=>{o.dispatch("ResizeContent",u)},DX=(o,u)=>{o.dispatch("ScrollContent",u)},sE=(o,u)=>{o.dispatch("TextColorChange",u)},eN=(o,u)=>{o.dispatch("AfterProgressState",{state:u})},tN=(o,u)=>o.dispatch("ResolveName",{name:u.nodeName.toLowerCase(),target:u}),$X=(o,u)=>{o.dispatch("ToggleToolbarDrawer",{state:u})},LX=(o,u)=>{o.dispatch("StylesTextUpdate",u)},IX=(o,u)=>{o.dispatch("AlignTextUpdate",u)},NX=(o,u)=>{o.dispatch("FontSizeTextUpdate",u)},BX=(o,u)=>{o.dispatch("FontSizeInputTextUpdate",u)},nN=(o,u)=>{o.dispatch("BlocksTextUpdate",u)},rN=(o,u)=>{o.dispatch("FontFamilyTextUpdate",u)},uC=(o,u)=>()=>{o(),u()},Ou=o=>Gh(o,"NodeChange",u=>{u.setEnabled(o.selection.isEditable())}),QX=(o,u)=>p=>{const S=Fm(),R=()=>{p.setActive(o.formatter.match(u));const H=o.formatter.formatChanged(u,p.setActive);S.set(H)};return o.initialized?R():o.once("init",R),()=>{o.off("init",R),S.clear()}},_4=(o,u)=>p=>{const S=Ou(o)(p),R=QX(o,u)(p);return()=>{S(),R()}},Gh=(o,u,p)=>S=>{const R=()=>p(S),H=()=>{p(S),o.on(u,R)};return o.initialized?H():o.once("init",H),()=>{o.off("init",H),o.off(u,R)}},oN=o=>u=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,u.format)})},pf=(o,u)=>()=>o.execCommand(u);var g0=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const aE={},iE=(o,u=10)=>{const p=g0.getItem(o),S=h(p)?JSON.parse(p):[],H=(Ne=>u-Ne.length<0?Ne.slice(0,u):Ne)(S),K=Ne=>{ee(H,Ne).each(ye),H.unshift(Ne),H.length>u&&H.pop(),g0.setItem(o,JSON.stringify(H))},ye=Ne=>{H.splice(Ne,1)};return{add:K,state:()=>H.slice(0)}},R4=o=>Bt(aE,o).getOrThunk(()=>{const u=`tinymce-custom-colors-${o}`,p=g0.getItem(u);if(T(p)){const R=g0.getItem("tinymce-custom-colors");g0.setItem(u,k(R)?R:"[]")}const S=iE(u,10);return aE[o]=S,S}),lE=o=>ne(R4(o).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})),cE=(o,u)=>{R4(o).add(u)},fC=(o,u,p)=>({hue:o,saturation:u,value:p}),D4=o=>{let u=0,p=0,S=0;const R=o.red/255,H=o.green/255,K=o.blue/255,ye=Math.min(R,Math.min(H,K)),Ae=Math.max(R,Math.max(H,K));if(ye===Ae)return S=ye,fC(0,0,S*100);const Ne=R===ye?H-K:K===ye?R-H:K-R;return u=R===ye?3:K===ye?1:5,u=60*(u-Ne/(Ae-ye)),p=(Ae-ye)/Ae,S=Ae,fC(Math.round(u),Math.round(p*100),Math.round(S*100))},FX=o=>D4(cC(o)),sN=o=>Tx(qI(o)),VX=o=>WI(o).orThunk(()=>nE(o).map(Tx)).getOrThunk(()=>{const u=document.createElement("canvas");u.height=1,u.width=1;const p=u.getContext("2d");p.clearRect(0,0,u.width,u.height),p.fillStyle="#FFFFFF",p.fillStyle=o,p.fillRect(0,0,1,1);const S=p.getImageData(0,0,1,1).data,R=S[0],H=S[1],K=S[2],ye=S[3];return Tx(m0(R,H,K,ye))}),$4="forecolor",L4="hilitecolor",aN=5,zX=o=>{const u=[];for(let p=0;p<o.length;p+=2)u.push({text:o[p+1],value:"#"+VX(o[p]).value,icon:"checkmark",type:"choiceitem"});return u},gp=o=>u=>u.options.get(o),uE="#000000",ZX=o=>{const u=o.options.register,p=R=>_(R,h)?{value:zX(R),valid:!0}:{valid:!1,message:"Must be an array of strings."},S=R=>C(R)&&R>0?{value:R,valid:!0}:{valid:!1,message:"Must be a positive number."};u("color_map",{processor:p,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),u("color_map_background",{processor:p}),u("color_map_foreground",{processor:p}),u("color_cols",{processor:S,default:fE(o)}),u("color_cols_foreground",{processor:S,default:iN(o,$4)}),u("color_cols_background",{processor:S,default:iN(o,L4)}),u("custom_colors",{processor:"boolean",default:!0}),u("color_default_foreground",{processor:"string",default:uE}),u("color_default_background",{processor:"string",default:uE})},I4=(o,u)=>u===$4&&o.options.isSet("color_map_foreground")?gp("color_map_foreground")(o):u===L4&&o.options.isSet("color_map_background")?gp("color_map_background")(o):gp("color_map")(o),fE=(o,u="default")=>Math.max(aN,Math.ceil(Math.sqrt(I4(o,u).length))),iN=(o,u)=>{const p=gp("color_cols")(o),S=fE(o,u);return p===fE(o)?S:p},lN=(o,u="default")=>Math.round((()=>u===$4?gp("color_cols_foreground")(o):u===L4?gp("color_cols_background")(o):gp("color_cols")(o))()),cN=gp("custom_colors"),HX=gp("color_default_foreground"),UX=gp("color_default_background"),uN="rgba(0, 0, 0, 0)",WX=o=>nE(o).exists(u=>u.alpha!==0),YX=o=>nn(o,u=>{if(St(u)){const p=Fa(u,"background-color");return lt(WX(p),p)}else return L.none()}).getOr(uN),fN=(o,u)=>{const p=zt.fromDom(o.selection.getStart()),S=u==="hilitecolor"?YX(p):Fa(p,"color");return nE(S).map(R=>"#"+Tx(R).value)},XX=(o,u,p)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.apply(u,{value:p}),o.nodeChanged()})},GX=(o,u)=>{o.undoManager.transact(()=>{o.focus(),o.formatter.remove(u,{value:null},void 0,!0),o.nodeChanged()})},N4=o=>{o.addCommand("mceApplyTextcolor",(u,p)=>{XX(o,u,p)}),o.addCommand("mceRemoveTextcolor",u=>{GX(o,u)})},dE=o=>{const u="choiceitem",p={type:u,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[p,{type:u,text:"Custom color",icon:"color-picker",value:"custom"}]:[p]},hE=(o,u,p,S)=>{p==="custom"?gN(o)(H=>{H.each(K=>{cE(u,K),o.execCommand("mceApplyTextcolor",u,K),S(K)})},fN(o,u).getOr(uE)):p==="remove"?(S(""),o.execCommand("mceRemoveTextcolor",u)):(S(p),o.execCommand("mceApplyTextcolor",u,p))},mE=(o,u,p)=>o.concat(lE(u).concat(dE(p))),dN=(o,u,p)=>S=>{S(mE(o,u,p))},gE=(o,u,p)=>{const S=u==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(S,p)},hN=(o,u)=>{o.setTooltip(u)},mN=(o,u)=>p=>{const S=fN(o,u);return ln(S,p.toUpperCase())},dC=(o,u,p)=>{if(rn(p))return u==="forecolor"?"Text color":"Background color";const S=u==="forecolor"?"Text color {0}":"Background color {0}",R=mE(I4(o,u),u,!1),H=Ve(R,K=>K.value===p).getOr({text:""}).text;return o.translate([S,o.translate(H)])},pE=(o,u,p,S)=>{o.ui.registry.addSplitButton(u,{tooltip:dC(o,p,S.get()),presets:"color",icon:u==="forecolor"?"text-color":"highlight-bg-color",select:mN(o,p),columns:lN(o,p),fetch:dN(I4(o,p),p,cN(o)),onAction:R=>{hE(o,p,S.get(),M)},onItemAction:(R,H)=>{hE(o,p,H,K=>{S.set(K),sE(o,{name:u,color:K})})},onSetup:R=>{gE(R,u,S.get());const H=K=>{K.name===u&&(gE(R,K.name,K.color),hN(R,dC(o,p,K.color)))};return o.on("TextColorChange",H),uC(Ou(o)(R),()=>{o.off("TextColorChange",H)})}})},vE=(o,u,p,S,R)=>{o.ui.registry.addNestedMenuItem(u,{text:S,icon:u==="forecolor"?"text-color":"highlight-bg-color",onSetup:H=>(hN(H,dC(o,p,R.get())),gE(H,u,R.get()),Ou(o)(H)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:mN(o,p),initData:{storageKey:p},onAction:H=>{hE(o,p,H.value,K=>{R.set(K),sE(o,{name:u,color:K})})}}]})},gN=o=>(u,p)=>{let S=!1;const R=ye=>{const Ne=ye.getData().colorpicker;S?(u(L.from(Ne)),ye.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",Ne]))},H=(ye,Ae)=>{Ae.name==="hex-valid"&&(S=Ae.value)},K={colorpicker:p};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:K,onAction:H,onSubmit:R,onClose:M,onCancel:()=>{u(L.none())}})},yE=o=>{N4(o);const u=HX(o),p=UX(o),S=G(u),R=G(p);pE(o,"forecolor","forecolor",S),pE(o,"backcolor","hilitecolor",R),vE(o,"forecolor","forecolor","Text color",S),vE(o,"backcolor","hilitecolor","Background color",R)},bE=(o,u,p,S,R,H,K,ye)=>{const Ae=y4(u),Ue=jX(u,p,S,R!=="color"?"normal":"color",H,K,ye);return b4(o,Ae,Ue,S,{menuType:R})},jX=(o,u,p,S,R,H,K)=>an(ne(o,ye=>ye.type==="choiceitem"?AI(ye).fold(up,Ae=>L.some(FI(Ae,p===1,S,u,H(Ae.value),R,K,y4(o)))):L.none())),B4=(o,u)=>{const p=Mv(u);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+p.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(u==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:R=>u==="color"?Mi(R.element,"[aria-checked=true]"):L.none()}},qX=(o,u)=>o===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:o==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:u==="color"?".tox-swatches__row":".tox-collection__group",cell:u==="color"?`.${CM}`:`.${mx}`}},KX=(o,u)=>{const p=JX(o,u),S=u.colorinput.getColorCols(o.initData.storageKey),R="color",K={...bE(Kr("menu-value"),p,ye=>{o.onAction({value:ye})},S,R,eg.CLOSE_ON_EXECUTE,o.select.getOr(X),u.shared.providers),markers:Mv(R),movement:B4(S,R)};return{type:"widget",data:{value:Kr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[iC.widget(Ib.sketch(K))]}},JX=(o,u)=>{const p=o.initData.allowCustomColors&&u.colorinput.hasCustomColors();return o.initData.colors.fold(()=>mE(u.colorinput.getColors(o.initData.storageKey),o.initData.storageKey,p),S=>S.concat(dE(p)))},pN=Kr("cell-over"),vN=Kr("cell-execute"),eG=o=>(u,p)=>o.shared.providers.translate(`${p} columns, ${u} rows`),tG=(o,u,p)=>{const S=K=>vo(K,pN,{row:o,col:u}),R=K=>vo(K,vN,{row:o,col:u}),H=(K,ye)=>{ye.stop(),R(K)};return uc({dom:{tag:"div",attributes:{role:"button","aria-label":p}},behaviours:pr([Jo("insert-table-picker-cell",[qn(Lr(),Eo.focus),qn(Bi(),R),qn(Ii(),H),qn($c(),H)]),as.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Eo.config({onFocus:S})])})},Q4=(o,u,p)=>{const S=[];for(let R=0;R<u;R++){const H=[];for(let K=0;K<p;K++){const ye=o(R+1,K+1);H.push(tG(R,K,ye))}S.push(H)}return S},OE=(o,u,p,S,R)=>{for(let H=0;H<S;H++)for(let K=0;K<R;K++)as.set(o[H][K],H<=u&&K<=p)},xE=o=>re(o,u=>ne(u,lf)),SE=(o,u)=>Oi(`${u}x${o}`),nG={inserttable:(o,u)=>{const R=eG(u),H=Q4(R,10,10),K=SE(0,0),ye=la({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[K],behaviours:pr([Uo.config({})])});return{type:"widget",data:{value:Kr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[iC.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:xE(H).concat(ye.asSpec()),behaviours:pr([Jo("insert-table-picker",[ka(Ae=>{Uo.set(ye.get(Ae),[K])}),rw(pN,(Ae,Ne,Ue)=>{const{row:Je,col:st}=Ue.event;OE(H,Je,st,10,10),Uo.set(ye.get(Ae),[SE(Je+1,st+1)])}),rw(vN,(Ae,Ne,Ue)=>{const{row:Je,col:st}=Ue.event;o.onAction({numRows:Je+1,numColumns:st+1}),As(Ae,of())})]),yo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:KX},wE=(o,u)=>Bt(nG,o.fancytype).map(p=>p(o,u)),CE=(o,u,p,S=!0,R=!1)=>{const H=R?MX(p.icons):Xh(p.icons),K=Ae=>({isEnabled:()=>!ko.isDisabled(Ae),setEnabled:Ne=>ko.set(Ae,!Ne),setIconFill:(Ne,Ue)=>{Mi(Ae.element,`svg path[class="${Ne}"], rect[class="${Ne}"]`).each(Je=>{Dr(Je,"fill",Ue)})},setTooltip:Ne=>{const Ue=p.translate(Ne);Tc(Ae.element,{"aria-label":Ue,title:Ue})}}),ye=Ub({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.some(H),checkMark:L.none(),shortcutContent:o.shortcut},p,S);return mp({data:_v(o),getApi:K,enabled:o.enabled,onAction:M,onSetup:o.onSetup,triggersSubmenu:!0,itemBehaviours:[]},ye,u,p)},F4=(o,u,p,S=!0)=>{const R=K=>({isEnabled:()=>!ko.isDisabled(K),setEnabled:ye=>ko.set(K,!ye)}),H=Ub({presets:"normal",iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,caret:L.none(),checkMark:L.none(),shortcutContent:o.shortcut},p,S);return mp({data:_v(o),getApi:R,enabled:o.enabled,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},H,u,p)},yN=o=>({type:"separator",dom:{tag:"div",classes:[mx,HY]},components:o.text.map(Oi).toArray()}),rG=(o,u,p,S=!0)=>{const R=K=>({setActive:ye=>{as.set(K,ye)},isActive:()=>as.isOn(K),isEnabled:()=>!ko.isDisabled(K),setEnabled:ye=>ko.set(K,!ye)}),H=Ub({iconContent:o.icon,textContent:o.text,htmlContent:L.none(),ariaLabel:o.text,checkMark:L.some(wx(p.icons)),caret:L.none(),shortcutContent:o.shortcut,presets:"normal",meta:o.meta},p,S);return Ta(mp({data:_v(o),enabled:o.enabled,getApi:R,onAction:o.onAction,onSetup:o.onSetup,triggersSubmenu:!1,itemBehaviours:[]},H,u,p),{toggling:{toggleClass:YL,toggleOnExecute:!1,selected:o.active}})},oG=QI,bN=yN,sG=F4,aG=CE,iG=rG,lG=wE,cG=eE;var uG=Object.freeze({__proto__:null,getCoupled:(o,u,p,S)=>p.getOrCreate(o,u,S),getExistingCoupled:(o,u,p,S)=>p.getExisting(o,u,S)}),fG=[Gc("others",rd(jo.value,bi()))],ON=Object.freeze({__proto__:null,init:()=>{const o={},u=(H,K)=>{if(ct(H.others).length===0)throw new Error("Cannot find any known coupled components");return Bt(o,K)},p=(H,K,ye)=>u(K,ye).getOrThunk(()=>{const Ne=Bt(K.others,ye).getOrDie("No information found for coupled component: "+ye)(H),Ue=H.getSystem().build(Ne);return o[ye]=Ue,Ue}),S=(H,K,ye)=>u(K,ye).orThunk(()=>(Bt(K.others,ye).getOrDie("No information found for coupled component: "+ye),L.none())),R=Q({});return Mu({readState:R,getExisting:S,getOrCreate:p})}});const _i=gl({fields:fG,name:"coupling",apis:uG,state:ON}),TE=o=>{let u=L.none(),p=[];const S=Ne=>TE(Ue=>{R(Je=>{Ue(Ne(Je))})}),R=Ne=>{K()?Ae(Ne):p.push(Ne)},H=Ne=>{K()||(u=L.some(Ne),ye(p),p=[])},K=()=>u.isSome(),ye=Ne=>{le(Ne,Ae)},Ae=Ne=>{u.each(Ue=>{setTimeout(()=>{Ne(Ue)},0)})};return o(H),{get:R,map:S,isReady:K}},dG={nu:TE,pure:o=>TE(u=>{u(o)})},hG=o=>{setTimeout(()=>{throw o},0)},p0=o=>{const u=Ae=>{o().then(Ae,hG)};return{map:Ae=>p0(()=>o().then(Ae)),bind:Ae=>p0(()=>o().then(Ne=>Ae(Ne).toPromise())),anonBind:Ae=>p0(()=>o().then(()=>Ae.toPromise())),toLazy:()=>dG.nu(u),toCached:()=>{let Ae=null;return p0(()=>(Ae===null&&(Ae=o()),Ae))},toPromise:o,get:u}},Vc={nu:o=>p0(()=>new Promise(o)),pure:o=>p0(()=>Promise.resolve(o))},xN=Q("sink"),SN=Q(pu({name:xN(),overrides:Q({dom:{tag:"div"},behaviours:pr([dc.config({useFixed:ie})]),events:_a([Rm(Rs()),Rm(go()),Rm(Ii())])})})),wN=(o,u)=>{const p=o.getHotspot(u).getOr(u),S="hotspot",R=o.getAnchorOverrides();return o.layouts.fold(()=>({type:S,hotspot:p,overrides:R}),H=>({type:S,hotspot:p,overrides:R,layouts:H}))},mG=(o,u,p)=>{const S=o.fetch;return S(p).map(u)},gG=(o,u,p,S,R,H,K)=>{const ye=mG(o,u,S),Ae=CN(S,o);return ye.map(Ne=>Ne.bind(Ue=>L.from(f0.sketch({...H.menu(),uid:m1(""),data:Ue,highlightOnOpen:K,onOpenMenu:(Je,st)=>{const ht=Ae().getOrDie();dc.position(ht,st,{anchor:p}),Ps.decloak(R)},onOpenSubmenu:(Je,st,ht)=>{const At=Ae().getOrDie();dc.position(At,ht,{anchor:{type:"submenu",item:st}}),Ps.decloak(R)},onRepositionMenu:(Je,st,ht)=>{const At=Ae().getOrDie();dc.position(At,st,{anchor:p}),le(ht,qt=>{dc.position(At,qt.triggeredMenu,{anchor:{type:"submenu",item:qt.triggeringItem}})})},onEscape:()=>(Eo.focus(S),Ps.close(R),L.some(!0))}))))},V4=(o,u,p,S,R,H,K)=>{const ye=wN(o,p);return gG(o,u,ye,p,S,R,K).map(Ne=>(Ne.fold(()=>{Ps.isOpen(S)&&Ps.close(S)},Ue=>{Ps.cloak(S),Ps.open(S,Ue),H(S)}),S))},pG=(o,u,p,S,R,H,K)=>(Ps.close(S),Vc.pure(S)),kE=(o,u,p,S,R,H)=>{const K=_i.getCoupled(p,"sandbox");return(Ps.isOpen(K)?pG:V4)(o,u,p,K,S,R,H)},vG=(o,u,p)=>{const S=Cs.getCurrent(u).getOr(u),R=Ci(o.element);p?Mo(S.element,"min-width",R+"px"):Vs(S.element,R)},CN=(o,u)=>o.getSystem().getByUid(u.uid+"-"+xN()).map(p=>()=>jo.value(p)).getOrThunk(()=>u.lazySink.fold(()=>()=>jo.error(new Error("No internal sink is specified, nor could an external sink be found")),p=>()=>p(o))),TN=o=>{Ps.getState(o).each(u=>{f0.repositionMenus(u)})},AE=(o,u,p)=>{const S=uv(),R=(ye,Ae)=>{const Ne=wN(o,u);S.link(u.element),o.matchWidth&&vG(Ne.hotspot,Ae,o.useMinWidth),o.onOpen(Ne,ye,Ae),p!==void 0&&p.onOpen!==void 0&&p.onOpen(ye,Ae)},H=(ye,Ae)=>{S.unlink(u.element),p!==void 0&&p.onClose!==void 0&&p.onClose(ye,Ae)},K=CN(u,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:S.id,role:"listbox"}},behaviours:Ff.augment(o.sandboxBehaviours,[Fr.config({store:{mode:"memory",initialValue:u}}),Ps.config({onOpen:R,onClose:H,isPartOf:(ye,Ae,Ne)=>Nm(Ae,Ne)||Nm(u,Ne),getAttachPoint:()=>K().getOrDie()}),Cs.config({find:ye=>Ps.getState(ye).bind(Ae=>Cs.getCurrent(Ae))}),hu.config({channels:{...gb({isExtraPart:X}),...q1({doReposition:TN})}})])}},kN=o=>{const u=_i.getCoupled(o,"sandbox");TN(u)},PE=()=>[Mn("sandboxClasses",[]),Ff.field("sandboxBehaviours",[Cs,hu,Ps,Fr])],yG=Q([er("dom"),er("fetch"),Ds("onOpen"),$u("onExecute"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",Q({})),Yg(),rl("dropdownBehaviours",[as,_i,yo,Eo]),er("toggleClass"),Mn("eventOrder",{}),Ws("lazySink"),Mn("matchWidth",!1),Mn("useMinWidth",!1),Ws("role")].concat(PE())),bG=Q([md({schema:[Uy(),Mn("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),SN()]),OG=(o,u,p,S)=>{const R=Ue=>Bt(o.dom,"attributes").bind(Je=>Bt(Je,Ue)),H=Ue=>{Ps.getState(Ue).each(Je=>{f0.highlightPrimary(Je)})},K=(Ue,Je,st)=>kE(o,z,Ue,S,Je,st),ye=Ue=>{K(Ue,H,bu.HighlightMenuAndItem).get(M)},Ae={expand:Ue=>{as.isOn(Ue)||K(Ue,M,bu.HighlightNone).get(M)},open:Ue=>{as.isOn(Ue)||K(Ue,M,bu.HighlightMenuAndItem).get(M)},refetch:Ue=>_i.getExistingCoupled(Ue,"sandbox").fold(()=>K(Ue,M,bu.HighlightMenuAndItem).map(M),st=>V4(o,z,Ue,st,S,M,bu.HighlightMenuAndItem).map(M)),isOpen:as.isOn,close:Ue=>{as.isOn(Ue)&&K(Ue,M,bu.HighlightMenuAndItem).get(M)},repositionMenus:Ue=>{as.isOn(Ue)&&kN(Ue)}},Ne=(Ue,Je)=>(_m(Ue),L.some(!0));return{uid:o.uid,dom:o.dom,components:u,behaviours:Qi(o.dropdownBehaviours,[as.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),_i.config({others:{sandbox:Ue=>AE(o,Ue,{onOpen:()=>as.on(Ue),onClose:()=>as.off(Ue)})}}),yo.config({mode:"special",onSpace:Ne,onEnter:Ne,onDown:(Ue,Je)=>{if(ah.isOpen(Ue)){const st=_i.getCoupled(Ue,"sandbox");H(st)}else ah.open(Ue);return L.some(!0)},onEscape:(Ue,Je)=>ah.isOpen(Ue)?(ah.close(Ue),L.some(!0)):L.none()}),Eo.config({})]),events:qm(L.some(ye)),eventOrder:{...o.eventOrder,[Bi()]:["disabling","toggling","alloy.base.behaviour"]},apis:Ae,domModification:{attributes:{"aria-haspopup":"true",...o.role.fold(()=>({}),Ue=>({role:Ue})),...o.dom.tag==="button"?{type:R("type").getOr("button")}:{}}}}},ah=mc({name:"Dropdown",configFields:yG(),partFields:bG(),factory:OG,apis:{open:(o,u)=>o.open(u),refetch:(o,u)=>o.refetch(u),expand:(o,u)=>o.expand(u),close:(o,u)=>o.close(u),isOpen:(o,u)=>o.isOpen(u),repositionMenus:(o,u)=>o.repositionMenus(u)}}),xG=o=>{switch(o.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:o}}},SG=o=>{const u=Fr.getValue(o),p=g4(o).map(rI);ah.refetch(u).get(()=>{const S=_i.getCoupled(u,"sandbox");p.each(R=>g4(S).each(H=>_M(H,R)))})},wG=(o,u)=>{CG(o).each(p=>{z8(o,p.element,u.event.eventType,u.event.interactionEvent)})},CG=o=>Ps.getState(o).bind(Ys.getHighlighted).bind(Ys.getHighlighted),TG=o=>nl(o.element,p4)?L.some(o.element):Mi(o.element,"."+p4),ME=(o,u,p)=>{EM(o).each(S=>{RM(S,p),TG(u).each(H=>{$i(H,"id").each(K=>Dr(S.element,"aria-controls",K))})}),Dr(p.element,"aria-selected","true")},kG=(o,u,p)=>{Dr(p.element,"aria-selected","false")},AG=o=>{EM(o).each(u=>Eo.focus(u))},PG=o=>_i.getExistingCoupled(o,"sandbox").bind(g4).map(rI).map(p=>p.fetchPattern).getOr("");var hC;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(hC||(hC={}));const MG=(o,u,p,S,R)=>{const H=p.shared.providers,K=ye=>R?{...ye,shortcut:L.none(),icon:ye.text.isSome()?L.none():ye.icon}:ye;switch(o.type){case"menuitem":return MI(o).fold(up,ye=>L.some(sG(K(ye),u,H,S)));case"nestedmenuitem":return yX(o).fold(up,ye=>L.some(aG(K(ye),u,H,S,R)));case"togglemenuitem":return OX(o).fold(up,ye=>L.some(iG(K(ye),u,H,S)));case"separator":return VM(o).fold(up,ye=>L.some(bN(ye)));case"fancymenuitem":return pX(o).fold(up,ye=>lG(ye,p));default:return console.error("Unknown item in general menu",o),L.none()}},EG=(o,u,p,S,R,H,K)=>{const ye=S===1,Ae=!ye||y4(o);return an(ne(o,Ne=>{switch(Ne.type){case"separator":return rX(Ne).fold(up,Ue=>L.some(bN(Ue)));case"cardmenuitem":return TI(Ne).fold(up,Ue=>L.some(cG({...Ue,onAction:Je=>{Ue.onAction(Je),p(Ue.value,Ue.meta)}},R,H,{itemBehaviours:NI(Ue.meta,H),cardText:{matchText:u,highlightOn:K}})));case"autocompleteitem":default:return gI(Ne).fold(up,Ue=>L.some(oG(Ue,u,ye,"normal",p,R,H,Ae)))}}))},AN=(o,u,p,S,R,H)=>{const K=y4(u),ye=an(ne(u,Ue=>{const Je=ht=>R?!vn(ht,"text"):K,st=ht=>MG(ht,p,S,Je(ht),R);return Ue.type==="nestedmenuitem"&&Ue.getSubmenuItems().length<=0?st({...Ue,enabled:!1}):st(Ue)})),Ae=xG(H);return(R?tC:b4)(o,K,ye,1,Ae)},z4=o=>f0.singleData(o.value,o),_G=(o,u,p,S)=>{const R=B4(u,S),H=Mv(S);return{data:z4({...o,movement:R,menuBehaviours:sC.unnamedEvents(u!=="auto"?[]:[ka((K,ye)=>{UM(K,4,H.item).each(({numColumns:Ae,numRows:Ne})=>{yo.setGridSize(K,Ne,Ae)})})])}),menu:{markers:Mv(S),fakeFocus:p===hC.ContentFocus}}},RG=(o,u)=>xM(zt.fromDom(u.startContainer)).map(p=>{const S=o.createRng();return S.selectNode(p.dom),S}),DG={register:(o,u)=>{const p=Kr("autocompleter"),S=G(!1),R=G(!1),H=uc(ai.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:p}},components:[],fireDismissalEventInstead:{},inlineBehaviours:pr([Jo("dismissAutocompleter",[qn(Ng(),()=>Ue()),qn(Iy(),(Dn,mn)=>{$i(mn.event.target,"id").each(sn=>Dr(zt.fromDom(o.getBody()),"aria-activedescendant",sn))})])]),lazySink:u.getSink})),K=()=>ai.isOpen(H),ye=R.get,Ae=()=>{if(K()){ai.hide(H),o.dom.remove(p,!1);const Dn=zt.fromDom(o.getBody());$i(Dn,"aria-owns").filter(mn=>mn===p).each(()=>{aa(Dn,"aria-owns"),aa(Dn,"aria-activedescendant")})}},Ne=()=>ai.getContent(H).bind(Dn=>ce(Dn.components(),0)),Ue=()=>o.execCommand("mceAutocompleterClose"),Je=Dn=>{const mn=Xe(Dn,sn=>L.from(sn.columns)).getOr(1);return re(Dn,sn=>{const kn=sn.items;return EG(kn,sn.matchText,(Zn,mr)=>{const Gn=o.selection.getRng();RG(o.dom,Gn).each(Or=>{const Mr={hide:()=>Ue(),reload:is=>{Ae(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:is})}};S.set(!0),sn.onAction(Mr,Or,Zn,mr),S.set(!1)})},mn,eg.BUBBLE_TO_SANDBOX,u,sn.highlightOn)})},st=(Dn,mn)=>{VY(zt.fromDom(o.getBody())).each(sn=>{const kn=Xe(Dn,Zn=>L.from(Zn.columns)).getOr(1);ai.showMenuAt(H,{anchor:{type:"node",root:zt.fromDom(o.getBody()),node:L.from(sn)}},_G(b4("autocompleter-value",!0,mn,kn,{menuType:"normal"}),kn,hC.ContentFocus,"normal"))}),Ne().each(Ys.highlightFirst)},ht=Dn=>{const mn=Je(Dn);mn.length>0?(st(Dn,mn),Dr(zt.fromDom(o.getBody()),"aria-owns",p),o.inline||At()):Ae()},At=()=>{o.dom.get(p)&&o.dom.remove(p,!1);const Dn=o.getDoc().documentElement,mn=o.selection.getNode(),sn=W8(H.element);Hi(sn,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${mn.offsetTop}px`,left:`${mn.offsetLeft}px`}),o.dom.add(Dn,sn.dom),Mi(sn,'[role="menu"]').each(kn=>{Ho(kn,"position"),Ho(kn,"max-height")})};o.on("AutocompleterStart",({lookupData:Dn})=>{R.set(!0),S.set(!1),ht(Dn)}),o.on("AutocompleterUpdate",({lookupData:Dn})=>ht(Dn)),o.on("AutocompleterEnd",()=>{Ae(),R.set(!1),S.set(!1)});const qt={cancelIfNecessary:Ue,isMenuOpen:K,isActive:ye,isProcessingAction:S.get,getMenu:Ne};zY.setup(qt,o)}},PN=["visible","hidden","clip"],MN=o=>Pt(o).length>0&&!xe(PN,o),EE=o=>{if(Ee(o)){const u=Fa(o,"overflow-x"),p=Fa(o,"overflow-y");return MN(u)||MN(p)}else return!1},$G=o=>{const u=tk(o,EE),p=u.length===0?Cc(o).map(ui).map(S=>tk(S,EE)).getOr([]):u;return ke(p).map(S=>({element:S,others:p.slice(1)}))},v0=(o,u)=>lp(o)?$G(u):L.none(),kx=o=>{const u=[...ne(o.others,hi),Xl()];return zO(hi(o.element),u)},mC=(o,u,p)=>Xd(o,u,p).isSome(),EN=(o,u)=>{let p=null;return{cancel:()=>{p!==null&&(clearTimeout(p),p=null)},schedule:(...H)=>{p=setTimeout(()=>{o.apply(null,H),p=null},u)}}},_N=5,LG=400,RN=o=>{const u=o.raw;return u.touches===void 0||u.touches.length!==1?L.none():L.some(u.touches[0])},IG=(o,u)=>{const p=Math.abs(o.clientX-u.x),S=Math.abs(o.clientY-u.y);return p>_N||S>_N},NG=o=>{const u=ps(),p=G(!1),S=EN(Ne=>{o.triggerEvent(Hd(),Ne),p.set(!0)},LG),R=Ne=>(RN(Ne).each(Ue=>{S.cancel();const Je={x:Ue.clientX,y:Ue.clientY,target:Ne.target};S.schedule(Ne),p.set(!1),u.set(Je)}),L.none()),H=Ne=>(S.cancel(),RN(Ne).each(Ue=>{u.on(Je=>{IG(Ue,Je)&&u.clear()})}),L.none()),K=Ne=>{S.cancel();const Ue=Je=>en(Je.target,Ne.target);return u.get().filter(Ue).map(Je=>p.get()?(Ne.prevent(),!1):o.triggerEvent($c(),Ne))},ye=bt([{key:no(),value:R},{key:fo(),value:H},{key:rs(),value:K}]);return{fireIfReady:(Ne,Ue)=>Bt(ye,Ue).bind(Je=>Je(Ne))}},BG=o=>o.raw.which===T6[0]&&!xe(["input","textarea"],xo(o.target))&&!mC(o.target,'[contenteditable="true"]'),QG=(o,u)=>{const p={stopBackspace:!0,...u},S=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],R=NG(p),H=ne(S.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),ht=>Bc(o,ht,At=>{R.fireIfReady(At,ht).each(Dn=>{Dn&&At.kill()}),p.triggerEvent(ht,At)&&At.kill()})),K=ps(),ye=Bc(o,"paste",ht=>{R.fireIfReady(ht,"paste").each(qt=>{qt&&ht.kill()}),p.triggerEvent("paste",ht)&&ht.kill(),K.set(setTimeout(()=>{p.triggerEvent(Ni(),ht)},0))}),Ae=Bc(o,"keydown",ht=>{p.triggerEvent("keydown",ht)?ht.kill():p.stopBackspace&&BG(ht)&&ht.prevent()}),Ne=Bc(o,"focusin",ht=>{p.triggerEvent("focusin",ht)&&ht.kill()}),Ue=ps(),Je=Bc(o,"focusout",ht=>{p.triggerEvent("focusout",ht)&&ht.kill(),Ue.set(setTimeout(()=>{p.triggerEvent(Kl(),ht)},0))});return{unbind:()=>{le(H,ht=>{ht.unbind()}),Ae.unbind(),Ne.unbind(),Je.unbind(),ye.unbind(),K.on(clearTimeout),Ue.on(clearTimeout)}}},DN=(o,u)=>{const p=Bt(o,"target").getOr(u);return G(p)},FG=(o,u)=>{const p=G(!1),S=G(!1);return{stop:()=>{p.set(!0)},cut:()=>{S.set(!0)},isStopped:p.get,isCut:S.get,event:o,setSource:u.set,getSource:u.get}},$N=o=>{const u=G(!1);return{stop:()=>{u.set(!0)},cut:M,isStopped:u.get,isCut:X,event:o,setSource:E("Cannot set source of a broadcasted event"),getSource:E("Cannot get source of a broadcasted event")}},gC=Ce.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),LN=(o,u,p,S,R,H)=>{const K=o(u,S),ye=FG(p,R);return K.fold(()=>(H.logEventNoHandlers(u,S),gC.complete()),Ae=>{const Ne=Ae.descHandler;return y1(Ne)(ye),ye.isStopped()?(H.logEventStopped(u,Ae.element,Ne.purpose),gC.stopped()):ye.isCut()?(H.logEventCut(u,Ae.element,Ne.purpose),gC.complete()):Fn(Ae.element).fold(()=>(H.logNoParent(u,Ae.element,Ne.purpose),gC.complete()),Je=>(H.logEventResponse(u,Ae.element,Ne.purpose),gC.resume(Je)))})},IN=(o,u,p,S,R,H)=>LN(o,u,p,S,R,H).fold(ie,K=>IN(o,u,p,K,R,H),X),VG=(o,u,p,S,R)=>{const H=DN(p,S);return LN(o,u,p,S,H,R)},zG=(o,u,p)=>{const S=$N(u);return le(o,R=>{const H=R.descHandler;y1(H)(S)}),S.isStopped()},_E=(o,u,p,S)=>NN(o,u,p,p.target,S),NN=(o,u,p,S,R)=>{const H=DN(p,S);return IN(o,u,p,S,H,R)},ZG=(o,u)=>({element:o,descHandler:u}),HG=(o,u)=>({id:o,descHandler:u}),BN=()=>{const o={},u=(K,ye,Ae)=>{Ye(Ae,(Ne,Ue)=>{const Je=o[Ue]!==void 0?o[Ue]:{};Je[ye]=fw(Ne,K),o[Ue]=Je})},p=(K,ye)=>Fy(ye).bind(Ae=>Bt(K,Ae)).map(Ae=>ZG(ye,Ae));return{registerId:u,unregisterId:K=>{Ye(o,(ye,Ae)=>{vn(ye,K)&&delete ye[K]})},filterByType:K=>Bt(o,K).map(ye=>Xt(ye,(Ae,Ne)=>HG(Ne,Ae))).getOr([]),find:(K,ye,Ae)=>Bt(o,ye).bind(Ne=>nn(Ae,Ue=>p(Ne,Ue),K))}},QN=()=>{const o=BN(),u={},p=Ne=>{const Ue=Ne.element;return Fy(Ue).getOrThunk(()=>av("uid-",Ne.element))},S=(Ne,Ue)=>{const Je=u[Ue];if(Je===Ne)H(Ne);else throw new Error('The tagId "'+Ue+'" is already used by: '+_h(Je.element)+`
Cannot use it for: `+_h(Ne.element)+`
The conflicting element is`+(ea(Je.element)?" ":" not ")+"already in the DOM")},R=Ne=>{const Ue=p(Ne);En(u,Ue)&&S(Ne,Ue);const Je=[Ne];o.registerId(Je,Ue,Ne.events),u[Ue]=Ne},H=Ne=>{Fy(Ne.element).each(Ue=>{delete u[Ue],o.unregisterId(Ue)})};return{find:(Ne,Ue,Je)=>o.find(Ne,Ue,Je),filter:Ne=>o.filterByType(Ne),register:R,unregister:H,getById:Ne=>Bt(u,Ne)}},tg=Lu({name:"Container",factory:o=>{const{attributes:u,...p}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...u},...p},components:o.components,behaviours:Um(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Mn("components",[]),rl("containerBehaviours",[]),Mn("events",{}),Mn("domModification",{}),Mn("eventOrder",{})]}),Z4=o=>{const u=mn=>Fn(o.element).fold(ie,sn=>en(mn,sn)),p=QN(),S=(mn,sn)=>p.find(u,mn,sn),R=QG(o.element,{triggerEvent:(mn,sn)=>m2(mn,sn.target,kn=>_E(S,mn,sn,kn))}),H={debugInfo:Q("real"),triggerEvent:(mn,sn,kn)=>{m2(mn,sn,Zn=>NN(S,mn,kn,sn,Zn))},triggerFocus:(mn,sn)=>{Fy(mn).fold(()=>{mu(mn)},kn=>{m2(Nf(),mn,Zn=>(VG(S,Nf(),{originator:sn,kill:M,prevent:M,target:mn},mn,Zn),!1))})},triggerEscape:(mn,sn)=>{H.triggerEvent("keydown",mn.element,sn.event)},getByUid:mn=>qt(mn),getByDom:mn=>Dn(mn),build:uc,buildOrPatch:f2,addToGui:mn=>{Ae(mn)},removeFromGui:mn=>{Ne(mn)},addToWorld:mn=>{K(mn)},removeFromWorld:mn=>{ye(mn)},broadcast:mn=>{st(mn)},broadcastOn:(mn,sn)=>{ht(mn,sn)},broadcastEvent:(mn,sn)=>{At(mn,sn)},isConnected:ie},K=mn=>{mn.connect(H),Tt(mn.element)||(p.register(mn),le(mn.components(),K),H.triggerEvent(Ud(),mn.element,{target:mn.element}))},ye=mn=>{Tt(mn.element)||(le(mn.components(),ye),p.unregister(mn)),mn.disconnect()},Ae=mn=>{ep(o,mn)},Ne=mn=>{Fh(mn)},Ue=()=>{R.unbind(),Pc(o.element)},Je=mn=>{const sn=p.filter(Jl());le(sn,kn=>{const Zn=kn.descHandler;y1(Zn)(mn)})},st=mn=>{Je({universal:!0,data:mn})},ht=(mn,sn)=>{Je({universal:!1,channels:mn,data:sn})},At=(mn,sn)=>{const kn=p.filter(mn);return zG(kn,sn)},qt=mn=>p.getById(mn).fold(()=>jo.error(new Error('Could not find component with uid: "'+mn+'" in system.')),jo.value),Dn=mn=>{const sn=Fy(mn).getOr("not found");return qt(sn)};return K(o),{root:o,element:o.element,destroy:Ue,add:Ae,remove:Ne,getByUid:qt,getByDom:Dn,addToWorld:K,removeFromWorld:ye,broadcast:st,broadcastOn:ht,broadcastEvent:At}},UG=(o,u)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ne(o.items,u.interpreter)}),WG=Q([Mn("prefix","form-field"),rl("fieldBehaviours",[Cs,Fr])]),YG=Q([pu({schema:[er("dom")],name:"label"}),pu({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[er("text")],name:"aria-descriptor"}),hc({factory:{sketch:o=>{const u=rt(o,["factory"]);return o.factory.sketch(u)}},schema:[er("factory")],name:"field"})]),XG=(o,u,p,S)=>{const R=Qi(o.fieldBehaviours,[Cs.config({find:ye=>Aa(ye,o,"field")}),Fr.config({store:{mode:"manual",getValue:ye=>Cs.getCurrent(ye).bind(Fr.getValue),setValue:(ye,Ae)=>{Cs.getCurrent(ye).each(Ne=>{Fr.setValue(Ne,Ae)})}}})]),H=_a([ka((ye,Ae)=>{const Ne=Tk(ye,o,["label","field","aria-descriptor"]);Ne.field().each(Ue=>{const Je=Kr(o.prefix);Ne.label().each(st=>{Dr(st.element,"for",Je),Dr(Ue.element,"id",Je)}),Ne["aria-descriptor"]().each(st=>{const ht=Kr(o.prefix);Dr(st.element,"id",ht),Dr(Ue.element,"aria-describedby",ht)})})})]),K={getField:ye=>Aa(ye,o,"field"),getLabel:ye=>Aa(ye,o,"label")};return{uid:o.uid,dom:o.dom,components:u,behaviours:R,events:H,apis:K}},ca=mc({name:"FormField",configFields:WG(),partFields:YG(),factory:XG,apis:{getField:(o,u)=>o.getField(u),getLabel:(o,u)=>o.getLabel(u)}});var H4=Object.freeze({__proto__:null,exhibit:(o,u)=>Eu({attributes:bt([{key:u.tabAttr,value:"true"}])})}),GG=[Mn("tabAttr","data-alloy-tabstop")];const qa=gl({fields:GG,name:"tabstopping",active:H4});var jG=tinymce.util.Tools.resolve("tinymce.html.Entities");const pC=(o,u,p,S)=>{const R=KG(o,u,p,S);return ca.sketch(R)},qG=(o,u)=>pC(o,u,[],[]),KG=(o,u,p,S)=>({dom:vC(p),components:o.toArray().concat([u]),fieldBehaviours:pr(S)}),Ace=()=>vC([]),vC=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),ih=(o,u)=>ca.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Oi(u.translate(o))]}),vf=Kr("form-component-change"),Ax=Kr("form-close"),y0=Kr("form-cancel"),pp=Kr("form-action"),yC=Kr("form-submit"),RE=Kr("form-block"),DE=Kr("form-unblock"),FN=Kr("form-tabchange"),VN=Kr("form-resize"),JG=(o,u,p)=>{const S=o.label.map(ht=>ih(ht,u)),R=u.icons(),H=ht=>{var At;return(At=R[ht])!==null&&At!==void 0?At:ht},K=ht=>(At,qt)=>{Xd(qt.event.target,"[data-collection-item-value]").each(Dn=>{ht(At,qt,Dn,sa(Dn,"data-collection-item-value"))})},ye=(ht,At)=>{const qt=ne(At,sn=>{const kn=vd.translate(sn.text),Zn=o.columns===1?`<div class="tox-collection__item-label">${kn}</div>`:"",mr=`<div class="tox-collection__item-icon">${H(sn.icon)}</div>`,Gn={_:" "," - ":" ","-":" "},Or=kn.replace(/\_| \- |\-/g,is=>Gn[is]);return`<div class="tox-collection__item${u.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${jG.encodeAllRaw(sn.value)}" title="${Or}" aria-label="${Or}">${mr}${Zn}</div>`}),Dn=o.columns!=="auto"&&o.columns>1?pe(qt,o.columns):[qt],mn=ne(Dn,sn=>`<div class="tox-collection__group">${sn.join("")}</div>`);sv(ht.element,mn.join(""))},Ae=K((ht,At,qt,Dn)=>{At.stop(),u.isDisabled()||vo(ht,pp,{name:o.name,value:Dn})}),Ne=[qn(Lr(),K((ht,At,qt)=>{mu(qt)})),qn(Ii(),Ae),qn($c(),Ae),qn($o(),K((ht,At,qt)=>{Mi(ht.element,"."+J3).each(Dn=>{ja(Dn,J3)}),Pi(qt,J3)})),qn(gs(),K(ht=>{Mi(ht.element,"."+J3).each(At=>{ja(At,J3)})})),ld(K((ht,At,qt,Dn)=>{vo(ht,pp,{name:o.name,value:Dn})}))],Ue=(ht,At)=>ne(pl(ht.element,".tox-collection__item"),At),Je=ca.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:z},behaviours:pr([ko.config({disabled:u.isDisabled,onDisabled:ht=>{Ue(ht,At=>{Pi(At,"tox-collection__item--state-disabled"),Dr(At,"aria-disabled",!0)})},onEnabled:ht=>{Ue(ht,At=>{ja(At,"tox-collection__item--state-disabled"),aa(At,"aria-disabled")})}}),yl(),Uo.config({}),Fr.config({store:{mode:"memory",initialValue:p.getOr([])},onSetValue:(ht,At)=>{ye(ht,At),o.columns==="auto"&&UM(ht,5,"tox-collection__item").each(({numRows:qt,numColumns:Dn})=>{yo.setGridSize(ht,qt,Dn)}),As(ht,VN)}}),qa.config({}),yo.config(qX(o.columns,"normal")),Jo("collection-events",Ne)]),eventOrder:{[Bi()]:["disabling","alloy.base.behaviour","collection-events"]}});return pC(S,Je,["tox-form__group--collection"],[])},ej=["input","textarea"],zN=o=>{const u=xo(o);return xe(ej,u)},ZN=(o,u)=>{const p=u.getRoot(o).getOr(o.element);ja(p,u.invalidClass),u.notify.each(S=>{zN(o.element)&&Dr(o.element,"aria-invalid",!1),S.getContainer(o).each(R=>{sv(R,S.validHtml)}),S.onValid(o)})},$E=(o,u,p,S)=>{const R=u.getRoot(o).getOr(o.element);Pi(R,u.invalidClass),u.notify.each(H=>{zN(o.element)&&Dr(o.element,"aria-invalid",!0),H.getContainer(o).each(K=>{sv(K,S)}),H.onInvalid(o,S)})},Wb=(o,u,p)=>u.validator.fold(()=>Vc.pure(jo.value(!0)),S=>S.validate(o)),Dv=(o,u,p)=>(u.notify.each(S=>{S.onValidate(o)}),Wb(o,u).map(S=>o.getSystem().isConnected()?S.fold(R=>($E(o,u,p,R),jo.error(R)),R=>(ZN(o,u),jo.value(R))):jo.error("No longer in system")));var HN=Object.freeze({__proto__:null,markValid:ZN,markInvalid:$E,query:Wb,run:Dv,isInvalid:(o,u)=>{const p=u.getRoot(o).getOr(o.element);return nl(p,u.invalidClass)}}),U4=Object.freeze({__proto__:null,events:(o,u)=>o.validator.map(p=>_a([qn(p.onEvent,S=>{Dv(S,o,u).get(z)})].concat(p.validateOnLoad?[ka(S=>{Dv(S,o,u).get(M)})]:[]))).getOr({})}),nj=[er("invalidClass"),Mn("getRoot",L.none),Ec("notify",[Mn("aria","alert"),Mn("getContainer",L.none),Mn("validHtml",""),Ds("onValid"),Ds("onInvalid"),Ds("onValidate")]),Ec("validator",[er("validate"),Mn("onEvent","input"),Mn("validateOnLoad",!0)])];const Od=gl({fields:nj,name:"invalidating",active:U4,apis:HN,extra:{validation:o=>u=>{const p=Fr.getValue(u);return Vc.pure(o(p))}}});var rj=Object.freeze({__proto__:null,events:()=>_a([ew(ql(),ie)]),exhibit:()=>Eu({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const bC=gl({fields:[],name:"unselecting",active:rj}),oj=(o,u)=>ah.sketch({dom:o.dom,components:o.components,toggleClass:"mce-active",dropdownBehaviours:pr([ol.button(u.providers.isDisabled),yl(),bC.config({}),qa.config({})]),layouts:o.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:u.getSink,fetch:p=>Vc.nu(S=>o.fetch(S)).map(S=>L.from(z4(Ta(bE(Kr("menu-value"),S,R=>{o.onItemAction(p,R)},o.columns,o.presets,eg.CLOSE_ON_EXECUTE,X,u.providers),{movement:B4(o.columns,o.presets)})))),parts:{menu:gx(!1,1,o.presets)}}),UN=Kr("color-input-change"),WN=Kr("color-swatch-change"),OC=Kr("color-picker-cancel"),sj=(o,u,p,S)=>{const R=ca.parts.field({factory:zb,inputClasses:["tox-textfield"],data:S,onSetValue:Ne=>Od.run(Ne).get(M),inputBehaviours:pr([ko.config({disabled:u.providers.isDisabled}),yl(),qa.config({}),Od.config({invalidClass:"tox-textbox-field-invalid",getRoot:Ne=>dr(Ne.element),notify:{onValid:Ne=>{const Ue=Fr.getValue(Ne);vo(Ne,UN,{color:Ue})}},validator:{validateOnLoad:!1,validate:Ne=>{const Ue=Fr.getValue(Ne);if(Ue.length===0)return Vc.pure(jo.value(!0));{const Je=zt.fromTag("span");Mo(Je,"background-color",Ue);const st=Za(Je,"background-color").fold(()=>jo.error("blah"),ht=>jo.value(Ue));return Vc.pure(st)}}}})]),selectOnFocus:!1}),H=o.label.map(Ne=>ih(Ne,u.providers)),K=(Ne,Ue)=>{vo(Ne,WN,{value:Ue})},ye=(Ne,Ue)=>{Ae.getOpt(Ne).each(Je=>{Ue==="custom"?p.colorPicker(st=>{st.fold(()=>As(Je,OC),ht=>{K(Je,ht),cE(o.storageKey,ht)})},"#ffffff"):Ue==="remove"?K(Je,""):K(Je,Ue)})},Ae=la(oj({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[nc,hl,ml],onLtr:()=>[hl,nc,ml]},components:[],fetch:dN(p.getColors(o.storageKey),o.storageKey,p.hasCustomColors()),columns:p.getColorCols(o.storageKey),presets:"color",onItemAction:ye},u));return ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:H.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[R,Ae.asSpec()]}]),fieldBehaviours:pr([Jo("form-field-events",[qn(UN,(Ne,Ue)=>{Ae.getOpt(Ne).each(Je=>{Mo(Je.element,"background-color",Ue.event.color)}),vo(Ne,vf,{name:o.name})}),qn(WN,(Ne,Ue)=>{ca.getField(Ne).each(Je=>{Fr.setValue(Je,Ue.event.value),Cs.getCurrent(Ne).each(Eo.focus)})}),qn(OC,(Ne,Ue)=>{ca.getField(Ne).each(Je=>{Cs.getCurrent(Ne).each(Eo.focus)})})])])})},LE=pu({schema:[er("dom")],name:"label"}),b0=o=>pu({name:""+o+"-edge",overrides:u=>u.model.manager.edgeActions[o].fold(()=>({}),S=>({events:_a([qO(no(),(R,H,K)=>S(R,K),[u]),qO(go(),(R,H,K)=>S(R,K),[u]),qO(js(),(R,H,K)=>{K.mouseIsDown.get()&&S(R,K)},[u])])}))}),aj=b0("top-left"),ij=b0("top"),YN=b0("top-right"),lj=b0("right"),cj=b0("bottom-right"),uj=b0("bottom"),XN=b0("bottom-left"),fj=b0("left"),dj=hc({name:"thumb",defaults:Q({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:_a([d1(no(),o,"spectrum"),d1(fo(),o,"spectrum"),d1(rs(),o,"spectrum"),d1(go(),o,"spectrum"),d1(js(),o,"spectrum"),d1(Oa(),o,"spectrum")])})}),hj=hc({schema:[ri("mouseIsDown",()=>G(!1))],name:"spectrum",overrides:o=>{const p=o.model.manager,S=(R,H)=>p.getValueFromEvent(H).map(K=>p.setValueFrom(R,o,K));return{behaviours:pr([yo.config({mode:"special",onLeft:R=>p.onLeft(R,o),onRight:R=>p.onRight(R,o),onUp:R=>p.onUp(R,o),onDown:R=>p.onDown(R,o)}),Eo.config({})]),events:_a([qn(no(),S),qn(fo(),S),qn(go(),S),qn(js(),(R,H)=>{o.mouseIsDown.get()&&S(R,H)})])}}});var mj=[LE,fj,lj,ij,uj,aj,YN,XN,cj,dj,hj];const Px=Q("slider.change.value"),GN=o=>o.type.indexOf("touch")!==-1,IE=o=>{const u=o.event.raw;if(GN(u)){const p=u;return p.touches!==void 0&&p.touches.length===1?L.some(p.touches[0]).map(S=>Ns(S.clientX,S.clientY)):L.none()}else{const p=u;return p.clientX!==void 0?L.some(p).map(S=>Ns(S.clientX,S.clientY)):L.none()}},gj="top",pj="right",vj="bottom",yj="left",O0=o=>o.model.minX,jh=o=>o.model.minY,Y4=o=>o.model.minX-1,X4=o=>o.model.minY-1,Yb=o=>o.model.maxX,vp=o=>o.model.maxY,yf=o=>o.model.maxX+1,Mx=o=>o.model.maxY+1,NE=(o,u,p)=>u(o)-p(o),BE=o=>NE(o,Yb,O0),QE=o=>NE(o,vp,jh),jN=o=>BE(o)/2,qN=o=>QE(o)/2,Xb=o=>o.stepSize,FE=o=>o.snapToGrid,KN=o=>o.snapStart,JN=o=>o.rounded,xC=(o,u)=>o[u+"-edge"]!==void 0,eB=o=>xC(o,yj),VE=o=>xC(o,pj),zE=o=>xC(o,gj),ZE=o=>xC(o,vj),$v=o=>o.model.value.get(),x0=(o,u)=>({x:o,y:u}),qh=(o,u)=>{vo(o,Px(),{value:u})},bj=(o,u)=>{qh(o,x0(Y4(u),X4(u)))},Oj=(o,u)=>{qh(o,X4(u))},xj=(o,u)=>{qh(o,x0(jN(u),X4(u)))},HE=(o,u)=>{qh(o,x0(yf(u),X4(u)))},Sj=(o,u)=>{qh(o,yf(u))},tB=(o,u)=>{qh(o,x0(yf(u),qN(u)))},wj=(o,u)=>{qh(o,x0(yf(u),Mx(u)))},Cj=(o,u)=>{qh(o,Mx(u))},Tj=(o,u)=>{qh(o,x0(jN(u),Mx(u)))},kj=(o,u)=>{qh(o,x0(Y4(u),Mx(u)))},Aj=(o,u)=>{qh(o,Y4(u))},Pj=(o,u)=>{qh(o,x0(Y4(u),qN(u)))},UE=(o,u,p,S)=>o<u?o:o>p?p:o===u?u-1:Math.max(u,o-S),G4=(o,u,p,S)=>o>p?o:o<u?u:o===p?p+1:Math.min(p,o+S),WE=(o,u,p)=>Math.max(u,Math.min(p,o)),Mj=(o,u,p,S,R)=>R.fold(()=>{const H=o-u,K=Math.round(H/S)*S;return WE(u+K,u-1,p+1)},H=>{const K=(o-H)%S,ye=Math.round(K/S),Ae=Math.floor((o-H)/S),Ne=Math.floor((p-H)/S),Ue=Math.min(Ne,Ae+ye),Je=H+Ue*S;return Math.max(H,Je)}),Ej=(o,u,p)=>Math.min(p,Math.max(o,u))-u,nB=o=>{const{min:u,max:p,range:S,value:R,step:H,snap:K,snapStart:ye,rounded:Ae,hasMinEdge:Ne,hasMaxEdge:Ue,minBound:Je,maxBound:st,screenRange:ht}=o,At=Ne?u-1:u,qt=Ue?p+1:p;if(R<Je)return At;if(R>st)return qt;{const Dn=Ej(R,Je,st),mn=WE(Dn/ht*S+u,At,qt);return K&&mn>=u&&mn<=p?Mj(mn,u,p,H,ye):Ae?Math.round(mn):mn}},rB=o=>{const{min:u,max:p,range:S,value:R,hasMinEdge:H,hasMaxEdge:K,maxBound:ye,maxOffset:Ae,centerMinEdge:Ne,centerMaxEdge:Ue}=o;return R<u?H?0:Ne:R>p?K?ye:Ue:(R-u)/S*Ae},YE="top",oB="right",XE="bottom",j4="left",sB="width",GE="height",yp=o=>o.element.dom.getBoundingClientRect(),lh=(o,u)=>o[u],q4=o=>{const u=yp(o);return lh(u,j4)},aB=o=>{const u=yp(o);return lh(u,oB)},K4=o=>{const u=yp(o);return lh(u,YE)},iB=o=>{const u=yp(o);return lh(u,XE)},J4=o=>{const u=yp(o);return lh(u,sB)},bp=o=>{const u=yp(o);return lh(u,GE)},lB=(o,u,p)=>(o+u)/2-p,Ex=(o,u)=>{const p=yp(o),S=yp(u),R=lh(p,j4),H=lh(p,oB),K=lh(S,j4);return lB(R,H,K)},cB=(o,u)=>{const p=yp(o),S=yp(u),R=lh(p,YE),H=lh(p,XE),K=lh(S,YE);return lB(R,H,K)},_x=(o,u)=>{vo(o,Px(),{value:u})},jE=(o,u,p)=>{const S={min:O0(u),max:Yb(u),range:BE(u),value:p,step:Xb(u),snap:FE(u),snapStart:KN(u),rounded:JN(u),hasMinEdge:eB(u),hasMaxEdge:VE(u),minBound:q4(o),maxBound:aB(o),screenRange:J4(o)};return nB(S)},_j=(o,u,p)=>{const S=jE(o,u,p);return _x(o,S),S},Rj=(o,u)=>{const p=O0(u);_x(o,p)},uB=(o,u)=>{const p=Yb(u);_x(o,p)},Dj=(o,u,p)=>{const R=(o>0?G4:UE)($v(p),O0(p),Yb(p),Xb(p));return _x(u,R),L.some(R)},eA=o=>(u,p)=>Dj(o,u,p).map(ie),qE=o=>IE(o).map(p=>p.left),KE=(o,u,p,S,R)=>{const K=J4(o),ye=S.bind(Ue=>L.some(Ex(Ue,o))).getOr(0),Ae=R.bind(Ue=>L.some(Ex(Ue,o))).getOr(K),Ne={min:O0(u),max:Yb(u),range:BE(u),value:p,hasMinEdge:eB(u),hasMaxEdge:VE(u),minBound:q4(o),minOffset:0,maxBound:aB(o),maxOffset:K,centerMinEdge:ye,centerMaxEdge:Ae};return rB(Ne)},JE=(o,u,p,S,R,H)=>{const K=KE(u,H,p,S,R);return q4(u)-q4(o)+K},xd=(o,u,p,S)=>{const R=$v(p),H=JE(o,S.getSpectrum(o),R,S.getLeftEdge(o),S.getRightEdge(o),p),K=Ci(u.element)/2;Mo(u.element,"left",H-K+"px")},$j=eA(-1),Lj=eA(1),fB=L.none,dB=L.none,Ij={"top-left":L.none(),top:L.none(),"top-right":L.none(),right:L.some(Sj),"bottom-right":L.none(),bottom:L.none(),"bottom-left":L.none(),left:L.some(Aj)};var Nj=Object.freeze({__proto__:null,setValueFrom:_j,setToMin:Rj,setToMax:uB,findValueOfOffset:jE,getValueFromEvent:qE,findPositionOfValue:JE,setPositionFromValue:xd,onLeft:$j,onRight:Lj,onUp:fB,onDown:dB,edgeActions:Ij});const tA=(o,u)=>{vo(o,Px(),{value:u})},e9=(o,u,p)=>{const S={min:jh(u),max:vp(u),range:QE(u),value:p,step:Xb(u),snap:FE(u),snapStart:KN(u),rounded:JN(u),hasMinEdge:zE(u),hasMaxEdge:ZE(u),minBound:K4(o),maxBound:iB(o),screenRange:bp(o)};return nB(S)},Bj=(o,u,p)=>{const S=e9(o,u,p);return tA(o,S),S},Qj=(o,u)=>{const p=jh(u);tA(o,p)},Fj=(o,u)=>{const p=vp(u);tA(o,p)},hB=(o,u,p)=>{const R=(o>0?G4:UE)($v(p),jh(p),vp(p),Xb(p));return tA(u,R),L.some(R)},mB=o=>(u,p)=>hB(o,u,p).map(ie),Vj=o=>IE(o).map(p=>p.top),zj=(o,u,p,S,R)=>{const K=bp(o),ye=S.bind(Ue=>L.some(cB(Ue,o))).getOr(0),Ae=R.bind(Ue=>L.some(cB(Ue,o))).getOr(K),Ne={min:jh(u),max:vp(u),range:QE(u),value:p,hasMinEdge:zE(u),hasMaxEdge:ZE(u),minBound:K4(o),minOffset:0,maxBound:iB(o),maxOffset:K,centerMinEdge:ye,centerMaxEdge:Ae};return rB(Ne)},nA=(o,u,p,S,R,H)=>{const K=zj(u,H,p,S,R);return K4(u)-K4(o)+K},t9=(o,u,p,S)=>{const R=$v(p),H=nA(o,S.getSpectrum(o),R,S.getTopEdge(o),S.getBottomEdge(o),p),K=Ha(u.element)/2;Mo(u.element,"top",H-K+"px")},Zj=L.none,n9=L.none,Rx=mB(-1),gB=mB(1),pB={"top-left":L.none(),top:L.some(Oj),"top-right":L.none(),right:L.none(),"bottom-right":L.none(),bottom:L.some(Cj),"bottom-left":L.none(),left:L.none()};var vB=Object.freeze({__proto__:null,setValueFrom:Bj,setToMin:Qj,setToMax:Fj,findValueOfOffset:e9,getValueFromEvent:Vj,findPositionOfValue:nA,setPositionFromValue:t9,onLeft:Zj,onRight:n9,onUp:Rx,onDown:gB,edgeActions:pB});const rA=(o,u)=>{vo(o,Px(),{value:u})},oA=(o,u)=>({x:o,y:u}),sA=(o,u,p)=>{const S=jE(o,u,p.left),R=e9(o,u,p.top),H=oA(S,R);return rA(o,H),H},Hj=(o,u,p,S)=>{const R=o>0?G4:UE,H=u?$v(S).x:R($v(S).x,O0(S),Yb(S),Xb(S)),K=u?R($v(S).y,jh(S),vp(S),Xb(S)):$v(S).y;return rA(p,oA(H,K)),L.some(H)},aA=(o,u)=>(p,S)=>Hj(o,u,p,S).map(ie),yB=(o,u)=>{const p=O0(u),S=jh(u);rA(o,oA(p,S))},bB=(o,u)=>{const p=Yb(u),S=vp(u);rA(o,oA(p,S))},r9=o=>IE(o),OB=(o,u,p,S)=>{const R=$v(p),H=JE(o,S.getSpectrum(o),R.x,S.getLeftEdge(o),S.getRightEdge(o),p),K=nA(o,S.getSpectrum(o),R.y,S.getTopEdge(o),S.getBottomEdge(o),p),ye=Ci(u.element)/2,Ae=Ha(u.element)/2;Mo(u.element,"left",H-ye+"px"),Mo(u.element,"top",K-Ae+"px")},Nu=aA(-1,!1),xB=aA(1,!1),Uj=aA(-1,!0),Wj=aA(1,!0),SB={"top-left":L.some(bj),top:L.some(xj),"top-right":L.some(HE),right:L.some(tB),"bottom-right":L.some(wj),bottom:L.some(Tj),"bottom-left":L.some(kj),left:L.some(Pj)};var Yj=Object.freeze({__proto__:null,setValueFrom:sA,setToMin:yB,setToMax:bB,getValueFromEvent:r9,setPositionFromValue:OB,onLeft:Nu,onRight:xB,onUp:Uj,onDown:Wj,edgeActions:SB});const Xj=[Mn("stepSize",1),Mn("onChange",M),Mn("onChoose",M),Mn("onInit",M),Mn("onDragStart",M),Mn("onDragEnd",M),Mn("snapToGrid",!1),Mn("rounded",!0),Ws("snapStart"),Gc("model",ws("mode",{x:[Mn("minX",0),Mn("maxX",100),ri("value",o=>G(o.mode.minX)),er("getInitialValue"),ga("manager",Nj)],y:[Mn("minY",0),Mn("maxY",100),ri("value",o=>G(o.mode.minY)),er("getInitialValue"),ga("manager",vB)],xy:[Mn("minX",0),Mn("maxX",100),Mn("minY",0),Mn("maxY",100),ri("value",o=>G({x:o.mode.minX,y:o.mode.minY})),er("getInitialValue"),ga("manager",Yj)]})),rl("sliderBehaviours",[yo,Fr]),ri("mouseIsDown",()=>G(!1))],ch=mc({name:"Slider",configFields:Xj,partFields:mj,factory:(o,u,p,S)=>{const R=Zn=>Ym(Zn,o,"thumb"),H=Zn=>Ym(Zn,o,"spectrum"),K=Zn=>Aa(Zn,o,"left-edge"),ye=Zn=>Aa(Zn,o,"right-edge"),Ae=Zn=>Aa(Zn,o,"top-edge"),Ne=Zn=>Aa(Zn,o,"bottom-edge"),Ue=o.model,Je=Ue.manager,st=(Zn,mr)=>{Je.setPositionFromValue(Zn,mr,o,{getLeftEdge:K,getRightEdge:ye,getTopEdge:Ae,getBottomEdge:Ne,getSpectrum:H})},ht=(Zn,mr)=>{Ue.value.set(mr);const Gn=R(Zn);st(Zn,Gn)},At=(Zn,mr)=>{ht(Zn,mr);const Gn=R(Zn);return o.onChange(Zn,Gn,mr),L.some(!0)},qt=Zn=>{Je.setToMin(Zn,o)},Dn=Zn=>{Je.setToMax(Zn,o)},mn=Zn=>{const mr=()=>{Aa(Zn,o,"thumb").each(Or=>{const Mr=Ue.value.get();o.onChoose(Zn,Or,Mr)})},Gn=o.mouseIsDown.get();o.mouseIsDown.set(!1),Gn&&mr()},sn=(Zn,mr)=>{mr.stop(),o.mouseIsDown.set(!0),o.onDragStart(Zn,R(Zn))},kn=(Zn,mr)=>{mr.stop(),o.onDragEnd(Zn,R(Zn)),mn(Zn)};return{uid:o.uid,dom:o.dom,components:u,behaviours:Qi(o.sliderBehaviours,[yo.config({mode:"special",focusIn:Zn=>Aa(Zn,o,"spectrum").map(yo.focusIn).map(ie)}),Fr.config({store:{mode:"manual",getValue:Zn=>Ue.value.get(),setValue:ht}}),hu.config({channels:{[f3()]:{onReceive:mn}}})]),events:_a([qn(Px(),(Zn,mr)=>{At(Zn,mr.event.value)}),ka((Zn,mr)=>{const Gn=Ue.getInitialValue();Ue.value.set(Gn);const Or=R(Zn);st(Zn,Or);const Mr=H(Zn);o.onInit(Zn,Or,Mr,Ue.value.get())}),qn(no(),sn),qn(rs(),kn),qn(go(),sn),qn(Oa(),kn)]),apis:{resetToMin:qt,resetToMax:Dn,setValue:ht,refresh:st},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,u,p)=>{o.setValue(u,p)},resetToMin:(o,u)=>{o.resetToMin(u)},resetToMax:(o,u)=>{o.resetToMax(u)},refresh:(o,u)=>{o.refresh(u)}}}),Kh=Kr("rgb-hex-update"),iA=Kr("slider-update"),o9=Kr("palette-update"),lA=(o,u)=>{const p=ch.parts.spectrum({dom:{tag:"div",classes:[u("hue-slider-spectrum")],attributes:{role:"presentation"}}}),S=ch.parts.thumb({dom:{tag:"div",classes:[u("hue-slider-thumb")],attributes:{role:"presentation"}}});return ch.sketch({dom:{tag:"div",classes:[u("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:Q(0)},components:[p,S],sliderBehaviours:pr([Eo.config({})]),onChange:(R,H,K)=>{vo(R,iA,{value:K})}})},cA="form",Gj=[rl("formBehaviours",[Fr])],wB=o=>"<alloy.field."+o+">",jj=o=>{const u=(()=>{const H=[];return{field:(ye,Ae)=>(H.push(ye),y3(cA,wB(ye),Ae)),record:Q(H)}})(),p=o(u),S=u.record(),R=ne(S,H=>hc({name:H,pname:wB(H)}));return T3(cA,Gj,R,Kj,p)},qj=(o,u)=>o.fold(()=>jo.error(u),jo.value),Kj=(o,u)=>({uid:o.uid,dom:o.dom,components:u,behaviours:Qi(o.formBehaviours,[Fr.config({store:{mode:"manual",getValue:p=>{const S=O3(p,o);return je(S,(R,H)=>R().bind(K=>{const ye=Cs.getCurrent(K);return qj(ye,new Error(`Cannot find a current component to extract the value from for form part '${H}': `+_h(K.element)))}).map(Fr.getValue))},setValue:(p,S)=>{Ye(S,(R,H)=>{Aa(p,o,H).each(K=>{Cs.getCurrent(K).each(ye=>{Fr.setValue(ye,R)})})})}}})]),apis:{getField:(p,S)=>Aa(p,o,S).bind(Cs.getCurrent)}}),Dx={getField:iv((o,u,p)=>o.getField(u,p)),sketch:jj},CB=Kr("valid-input"),s9=Kr("invalid-input"),TB=Kr("validating-input"),Jh="colorcustom.rgb.",uA=(o,u,p,S)=>{const R=(st,ht)=>Od.config({invalidClass:u("invalid"),notify:{onValidate:At=>{vo(At,TB,{type:st})},onValid:At=>{vo(At,CB,{type:st,value:Fr.getValue(At)})},onInvalid:At=>{vo(At,s9,{type:st,value:Fr.getValue(At)})}},validator:{validate:At=>{const qt=Fr.getValue(At),Dn=ht(qt)?jo.value(!0):jo.error(o("aria.input.invalid"));return Vc.pure(Dn)},validateOnLoad:!1}}),H=(st,ht,At,qt,Dn)=>{const mn=o(Jh+"range"),sn=ca.parts.label({dom:{tag:"label",attributes:{"aria-label":qt}},components:[Oi(At)]}),kn=ca.parts.field({data:Dn,factory:zb,inputAttributes:{type:"text",...ht==="hex"?{"aria-live":"polite"}:{}},inputClasses:[u("textfield")],inputBehaviours:pr([R(ht,st),qa.config({})]),onSetValue:Or=>{Od.isInvalid(Or)&&Od.run(Or).get(M)}}),Zn=[sn,kn],mr=ht!=="hex"?[ca.parts["aria-descriptor"]({text:mn})]:[],Gn=Zn.concat(mr);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Gn}},K=(st,ht)=>{const At=Tx(ht);return Dx.getField(st,"hex").each(qt=>{Eo.isFocused(qt)||Fr.setValue(st,{hex:At.value})}),At},ye=(st,ht)=>{const At=ht.red,qt=ht.green,Dn=ht.blue;Fr.setValue(st,{red:At,green:qt,blue:Dn})},Ae=la({dom:{tag:"div",classes:[u("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Ne=(st,ht)=>{Ae.getOpt(st).each(At=>{Mo(At.element,"background-color","#"+ht.value)})};return Lu({factory:()=>{const st={red:G(L.some(255)),green:G(L.some(255)),blue:G(L.some(255)),hex:G(L.some("ffffff"))},ht=(Ro,ra)=>{const Co=cC(ra);ye(Ro,Co),mn(Co)},At=Ro=>st[Ro].get(),qt=(Ro,ra)=>{st[Ro].set(ra)},Dn=()=>At("red").bind(Ro=>At("green").bind(ra=>At("blue").map(Co=>m0(Ro,ra,Co,1)))),mn=Ro=>{const ra=Ro.red,Co=Ro.green,Bs=Ro.blue;qt("red",L.some(ra)),qt("green",L.some(Co)),qt("blue",L.some(Bs))},sn=(Ro,ra)=>{const Co=ra.event;Co.type!=="hex"?qt(Co.type,L.none()):S(Ro)},kn=(Ro,ra)=>{p(Ro);const Co=VI(ra);qt("hex",L.some(Co.value));const Bs=cC(Co);ye(Ro,Bs),mn(Bs),vo(Ro,Kh,{hex:Co}),Ne(Ro,Co)},Zn=(Ro,ra,Co)=>{const Bs=parseInt(Co,10);qt(ra,L.some(Bs)),Dn().each(Pr=>{const oo=K(Ro,Pr);vo(Ro,Kh,{hex:oo}),Ne(Ro,oo)})},mr=Ro=>Ro.type==="hex",Gn=(Ro,ra)=>{const Co=ra.event;mr(Co)?kn(Ro,Co.value):Zn(Ro,Co.type,Co.value)},Or=Ro=>({label:o(Jh+Ro+".label"),description:o(Jh+Ro+".description")}),Mr=Or("red"),is=Or("green"),Gr=Or("blue"),No=Or("hex");return Ta(Dx.sketch(Ro=>({dom:{tag:"form",classes:[u("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[Ro.field("red",ca.sketch(H(tE,"red",Mr.label,Mr.description,255))),Ro.field("green",ca.sketch(H(tE,"green",is.label,is.description,255))),Ro.field("blue",ca.sketch(H(tE,"blue",Gr.label,Gr.description,255))),Ro.field("hex",ca.sketch(H(HI,"hex",No.label,No.description,"ffffff"))),Ae.asSpec()],formBehaviours:pr([Od.config({invalidClass:u("form-invalid")}),Jo("rgb-form-events",[qn(CB,Gn),qn(s9,sn),qn(TB,sn)])])})),{apis:{updateHex:(Ro,ra)=>{Fr.setValue(Ro,{hex:ra.value}),ht(Ro,ra),Ne(Ro,ra)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(st,ht,At)=>{st.updateHex(ht,At)}},extraApis:{}})},Jj=(o,u)=>{const p=ch.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[u("sv-palette-spectrum")]}}),S=ch.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[u("sv-palette-thumb")],innerHtml:`<div class=${u("sv-palette-inner-thumb")} role="presentation"></div>`}}),R=(Ne,Ue)=>{const{width:Je,height:st}=Ne,ht=Ne.getContext("2d");if(ht===null)return;ht.fillStyle=Ue,ht.fillRect(0,0,Je,st);const At=ht.createLinearGradient(0,0,Je,0);At.addColorStop(0,"rgba(255,255,255,1)"),At.addColorStop(1,"rgba(255,255,255,0)"),ht.fillStyle=At,ht.fillRect(0,0,Je,st);const qt=ht.createLinearGradient(0,0,0,st);qt.addColorStop(0,"rgba(0,0,0,0)"),qt.addColorStop(1,"rgba(0,0,0,1)"),ht.fillStyle=qt,ht.fillRect(0,0,Je,st)},H=(Ne,Ue)=>{const Je=Ne.components()[0].element.dom,st=fC(Ue,100,100),ht=qI(st);R(Je,rE(ht))},K=(Ne,Ue)=>{const Je=D4(cC(Ue));ch.setValue(Ne,{x:Je.saturation,y:100-Je.value})};return Lu({factory:Ne=>{const Ue=Q({x:0,y:0}),Je=(At,qt,Dn)=>{vo(At,o9,{value:Dn})},st=(At,qt,Dn,mn)=>{R(Dn.element.dom,rE(sh))},ht=pr([Cs.config({find:L.some}),Eo.config({})]);return ch.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[u("sv-palette")]},model:{mode:"xy",getInitialValue:Ue},rounded:!1,components:[p,S],onChange:Je,onInit:st,sliderBehaviours:ht})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ne,Ue,Je)=>{H(Ue,Je)},setThumb:(Ne,Ue,Je)=>{K(Ue,Je)}},extraApis:{}})},eq=(o,u)=>{const p=R=>{const H=uA(o,u,R.onValidHex,R.onInvalidHex),K=Jj(o,u),ye=Gn=>(100-Gn)/100*360,Ae=Gn=>100-Gn/360*100,Ne={paletteRgba:G(sh),paletteHue:G(0)},Ue=la(lA(o,u)),Je=la(K.sketch({})),st=la(H.sketch({})),ht=(Gn,Or,Mr)=>{Je.getOpt(Gn).each(is=>{K.setHue(is,Mr)})},At=(Gn,Or)=>{st.getOpt(Gn).each(Mr=>{H.updateHex(Mr,Or)})},qt=(Gn,Or,Mr)=>{Ue.getOpt(Gn).each(is=>{ch.setValue(is,Ae(Mr))})},Dn=(Gn,Or)=>{Je.getOpt(Gn).each(Mr=>{K.setThumb(Mr,Or)})},mn=(Gn,Or)=>{const Mr=cC(Gn);Ne.paletteRgba.set(Mr),Ne.paletteHue.set(Or)},sn=(Gn,Or,Mr,is)=>{mn(Or,Mr),le(is,Gr=>{Gr(Gn,Or,Mr)})},kn=()=>{const Gn=[At];return(Or,Mr)=>{const is=Mr.event.value,Gr=Ne.paletteHue.get(),No=fC(Gr,is.x,100-is.y),Ro=sN(No);sn(Or,Ro,Gr,Gn)}},Zn=()=>{const Gn=[ht,At];return(Or,Mr)=>{const is=ye(Mr.event.value),Gr=Ne.paletteRgba.get(),No=D4(Gr),Ro=fC(is,No.saturation,No.value),ra=sN(Ro);sn(Or,ra,is,Gn)}},mr=()=>{const Gn=[ht,qt,Dn];return(Or,Mr)=>{const is=Mr.event.hex,Gr=FX(is);sn(Or,is,Gr.hue,Gn)}};return{uid:R.uid,dom:R.dom,components:[Je.asSpec(),Ue.asSpec(),st.asSpec()],behaviours:pr([Jo("colour-picker-events",[qn(Kh,mr()),qn(o9,kn()),qn(iA,Zn())]),Cs.config({find:Gn=>st.getOpt(Gn)}),yo.config({mode:"acyclic"})])}};return Lu({name:"ColourPicker",configFields:[er("dom"),Mn("onValidHex",M),Mn("onInvalidHex",M)],factory:p})},Hf={self:()=>Cs.config({find:L.some}),memento:o=>Cs.config({find:o.getOpt}),childAt:o=>Cs.config({find:u=>to(u.element,o).bind(p=>u.getSystem().getByDom(p).toOptional())})},SC=uo([Mn("preprocess",z),Mn("postprocess",z)]),wC=(o,u)=>{const p=Nl("RepresentingConfigs.memento processors",SC,u);return Fr.config({store:{mode:"manual",getValue:S=>{const R=o.get(S),H=Fr.getValue(R);return p.postprocess(H)},setValue:(S,R)=>{const H=p.preprocess(R),K=o.get(S);Fr.setValue(K,H)}}})},S0=(o,u,p)=>Fr.config({store:{mode:"manual",...o.map(S=>({initialValue:S})).getOr({}),getValue:u,setValue:p}}),a9=(o,u,p)=>S0(o,S=>u(S.element),(S,R)=>p(S.element,R)),AB=o=>a9(o,sw,sv),CC=o=>Fr.config({store:{mode:"memory",initialValue:o}}),rq={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},oq=o=>u=>o.translate(rq[u]),sq=(o,u,p)=>{const S=Ae=>"tox-"+Ae,R=eq(oq(u),S),H=Ae=>{vo(Ae,pp,{name:"hex-valid",value:!0})},K=Ae=>{vo(Ae,pp,{name:"hex-valid",value:!1})},ye=la(R.sketch({dom:{tag:"div",classes:[S("color-picker-container")],attributes:{role:"presentation"}},onValidHex:H,onInvalidHex:K}));return{dom:{tag:"div"},components:[ye.asSpec()],behaviours:pr([S0(p,Ae=>{const Ne=ye.get(Ae);return Cs.getCurrent(Ne).bind(st=>Fr.getValue(st).hex).map(st=>"#"+Dt(st,"#")).getOr("")},(Ae,Ne)=>{const Ue=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Je=L.from(Ue.exec(Ne)).bind(At=>ce(At,1)),st=ye.get(Ae);Cs.getCurrent(st).fold(()=>{console.log("Can not find form")},At=>{Fr.setValue(At,{hex:Je.getOr("")}),Dx.getField(At,"hex").each(qt=>{As(qt,gi())})})}),Hf.self()])}};var aq=tinymce.util.Tools.resolve("tinymce.Resource");const iq=o=>vn(o,"init"),PB=o=>{const u=ps(),p=la({dom:{tag:o.tag}}),S=ps();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pr([Jo("custom-editor-events",[ka(R=>{p.getOpt(R).each(H=>{(iq(o)?o.init(H.element.dom):aq.load(o.scriptId,o.scriptUrl).then(K=>K(H.element.dom,o.settings))).then(K=>{S.on(ye=>{K.setValue(ye)}),S.clear(),u.set(K)})})})]),S0(L.none(),()=>u.get().fold(()=>S.get().getOr(""),R=>R.getValue()),(R,H)=>{u.get().fold(()=>S.set(H),K=>K.setValue(H))}),Hf.self()]),components:[p.asSpec()]}};var Op=tinymce.util.Tools.resolve("tinymce.util.Tools");const lq=(o,u)=>{const p=Op.explode(u.getOption("images_file_types")),S=R=>we(p,H=>mt(R.name.toLowerCase(),`.${H.toLowerCase()}`));return Oe(Ze(o),S)},MB=(o,u,p)=>{const S=(st,ht)=>{ht.stop()},R=st=>(ht,At)=>{le(st,qt=>{qt(ht,At)})},H=(st,ht)=>{var At;if(!ko.isDisabled(st)){const qt=ht.event.raw;ye(st,(At=qt.dataTransfer)===null||At===void 0?void 0:At.files)}},K=(st,ht)=>{const At=ht.event.raw.target;ye(st,At.files)},ye=(st,ht)=>{ht&&(Fr.setValue(st,lq(ht,u)),vo(st,vf,{name:o.name}))},Ae=la({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pr([Jo("input-file-events",[Rm(Ii()),Rm($c())])])}),Ne=st=>({uid:st.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pr([CC(p.getOr([])),Hf.self(),ko.config({}),as.config({toggleClass:"dragenter",toggleOnExecute:!1}),Jo("dropzone-events",[qn("dragenter",R([S,as.toggle])),qn("dragleave",R([S,as.toggle])),qn("dragover",S),qn("drop",R([S,H])),qn(Gi(),K)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Oi(u.translate("Drop an image here"))]},Fl.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Oi(u.translate("Browse for an image")),Ae.asSpec()],action:ht=>{Ae.get(ht).element.dom.click()},buttonBehaviours:pr([qa.config({}),ol.button(u.isDisabled),yl()])})]}]}),Ue=o.label.map(st=>ih(st,u)),Je=ca.parts.field({factory:{sketch:Ne}});return pC(Ue,Je,["tox-form__group--stretched"],[])},cq=(o,u)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${o.columns}col`]},components:ne(o.items,u.interpreter)}),EB=(o,u)=>{let p=null,S=null;return{cancel:()=>{y(p)||(clearTimeout(p),p=null,S=null)},throttle:(...K)=>{S=K,y(p)&&(p=setTimeout(()=>{const ye=S;p=null,S=null,o.apply(null,ye)},u))}}},TC=(o,u)=>{let p=null;return{cancel:()=>{y(p)||(clearTimeout(p),p=null)},throttle:(...H)=>{y(p)&&(p=setTimeout(()=>{p=null,o.apply(null,H)},u))}}},i9=(o,u)=>{let p=null;const S=()=>{y(p)||(clearTimeout(p),p=null)};return{cancel:S,throttle:(...H)=>{S(),p=setTimeout(()=>{p=null,o.apply(null,H)},u)}}},fA=Kr("alloy-fake-before-tabstop"),l9=Kr("alloy-fake-after-tabstop"),_B=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:pr([Eo.config({ignore:!0}),qa.config({})])}),RB=(o,u)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[_B([fA]),u,_B([l9])],behaviours:pr([Hf.childAt(1)])}),DB=(o,u)=>{vo(o,Rs(),{raw:{which:9,shiftKey:u}})},$B=(o,u)=>{const p=u.element;nl(p,fA)?DB(o,!0):nl(p,l9)&&DB(o,!1)},kC=o=>mC(o,["."+fA,"."+l9].join(","),X),AC=Kr("update-dialog"),dA=Kr("update-title"),xp=Kr("update-body"),hA=Kr("update-footer"),c9=Kr("body-send-message"),PC=Kr("dialog-focus-shifted"),MC=td().browser,$x=MC.isSafari(),mA=MC.isFirefox(),u9=$x||mA,LB=MC.isChromium(),uq=({scrollTop:o,scrollHeight:u,clientHeight:p})=>Math.ceil(o)+p>=u,IB=(o,u)=>o.scrollTo(0,u==="bottom"?99999999:u),fq=(o,u)=>{const p=o.body;return L.from(!/^<!DOCTYPE (html|HTML)/.test(u)&&(!LB&&!$x||k(p)&&(p.scrollTop!==0||Math.abs(p.scrollHeight-p.clientHeight)>1))?p:o.documentElement)},NB=(o,u,p)=>{const S=o.dom;L.from(S.contentDocument).fold(p,R=>{let H=0;const K=fq(R,u).map(Ae=>(H=Ae.scrollTop,Ae)).forall(uq),ye=()=>{const Ae=S.contentWindow;k(Ae)&&(K?IB(Ae,"bottom"):!K&&u9&&H!==0&&IB(Ae,H))};$x&&S.addEventListener("load",ye,{once:!0}),R.open(),R.write(u),R.close(),$x||ye()})},BB=lt(u9,$x?500:200).map(o=>EB(NB,o)),QB=(o,u)=>{const p=G(o.getOr(""));return{getValue:S=>p.get(),setValue:(S,R)=>{if(p.get()!==R){const H=S.element,K=()=>Dr(H,"srcdoc",R);u?BB.fold(Q(NB),ye=>ye.throttle)(H,R,K):K()}p.set(R)}}},dq=(o,u,p)=>{const S="tox-dialog__iframe",R=o.transparent?[]:[`${S}--opaque`],H=o.border?["tox-navobj-bordered"]:[],K={...o.label.map(Je=>({title:Je})).getOr({}),...p.map(Je=>({srcdoc:Je})).getOr({}),...o.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},ye=QB(p,o.streamContent),Ae=o.label.map(Je=>ih(Je,u)),Ne=Je=>RB(L.from(H),{uid:Je.uid,dom:{tag:"iframe",attributes:K,classes:[S,...R]},behaviours:pr([qa.config({}),Eo.config({}),S0(p,ye.getValue,ye.setValue),hu.config({channels:{[PC]:{onReceive:(st,ht)=>{ht.newFocus.each(At=>{dr(st.element).each(qt=>{(en(st.element,At)?Pi:ja)(qt,"tox-navobj-bordered-focus")})})}}}})])}),Ue=ca.parts.field({factory:{sketch:Ne}});return pC(Ae,Ue,["tox-form__group--stretched"],[])},hq=o=>new Promise((u,p)=>{const S=()=>{H(),u(o)},R=[Bc(o,"load",S),Bc(o,"error",()=>{H(),p("Unable to load data from image: "+o.dom.src)})],H=()=>le(R,K=>K.unbind());o.dom.complete&&S()}),mq=(o,u,p,S,R)=>{const H=p*R,K=S*R,ye=Math.max(0,o/2-H/2),Ae=Math.max(0,u/2-K/2);return{left:ye.toString()+"px",top:Ae.toString()+"px",width:H.toString()+"px",height:K.toString()+"px"}},gA=(o,u,p)=>{const S=Ci(o),R=Ha(o);return Math.min(S/u,R/p,1)},gq=(o,u)=>{const p=G(u.getOr({url:""})),S=la({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(Ae=>({src:Ae.url})).getOr({})}}),R=la({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[S.asSpec()]}),H=(Ae,Ne)=>{const Ue={url:Ne.url};Ne.zoom.each(st=>Ue.zoom=st),Ne.cachedWidth.each(st=>Ue.cachedWidth=st),Ne.cachedHeight.each(st=>Ue.cachedHeight=st),p.set(Ue);const Je=()=>{const{cachedWidth:st,cachedHeight:ht,zoom:At}=Ue;if(!O(st)&&!O(ht)){if(O(At)){const Dn=gA(Ae.element,st,ht);Ue.zoom=Dn}const qt=mq(Ci(Ae.element),Ha(Ae.element),st,ht,Ue.zoom);R.getOpt(Ae).each(Dn=>{Hi(Dn.element,qt)})}};S.getOpt(Ae).each(st=>{const ht=st.element;Ne.url!==sa(ht,"src")&&(Dr(ht,"src",Ne.url),ja(Ae.element,"tox-imagepreview__loaded")),Je(),hq(ht).then(At=>{Ae.getSystem().isConnected()&&(Pi(Ae.element,"tox-imagepreview__loaded"),Ue.cachedWidth=At.dom.naturalWidth,Ue.cachedHeight=At.dom.naturalHeight,Je())})})},K={};o.height.each(Ae=>K.height=Ae);const ye=u.map(Ae=>({url:Ae.url,zoom:L.from(Ae.zoom),cachedWidth:L.from(Ae.cachedWidth),cachedHeight:L.from(Ae.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:K,attributes:{role:"presentation"}},components:[R.asSpec()],behaviours:pr([Hf.self(),S0(ye,()=>p.get(),H)])}},pq=(o,u)=>{const p="tox-label",S=o.align==="center"?[`${p}--center`]:[],R=o.align==="end"?[`${p}--end`]:[],H={dom:{tag:"label",classes:[p,...S,...R]},components:[Oi(u.providers.translate(o.label))]},K=ne(o.items,u.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[H,...K],behaviours:pr([Hf.self(),Uo.config({}),AB(L.none()),yo.config({mode:"acyclic"})])}},f9=Kr("toolbar.button.execute"),FB=o=>ld((u,p)=>{bd(o,u)(S=>{vo(u,f9,{buttonApi:S}),o.onAction(S)})}),Gb=Kr("common-button-display-events"),VB={[Bi()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[sf()]:["toolbar-button-events",Gb],[go()]:["focusing","alloy.base.behaviour",Gb]},EC=o=>Mo(o.element,"width",Fa(o.element,"width")),zB=(o,u,p)=>Wh(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:p},u),pA=(o,u)=>zB(o,u,[]),w0=(o,u)=>zB(o,u,[Uo.config({})]),ZB=(o,u,p)=>({dom:{tag:"span",classes:[`${u}__select-label`]},components:[Oi(p.translate(o))],behaviours:pr([Uo.config({})])}),uh=Kr("update-menu-text"),C0=Kr("update-menu-icon"),vA=(o,u,p)=>{const S=G(M),R=o.text.map(st=>la(ZB(st,u,p.providers))),H=o.icon.map(st=>la(w0(st,p.providers.icons))),K=(st,ht)=>{const At=Fr.getValue(st);return Eo.focus(At),vo(At,"keydown",{raw:ht.event.raw}),ah.close(At),L.some(!0)},ye=o.role.fold(()=>({}),st=>({role:st})),Ae=o.tooltip.fold(()=>({}),st=>{const ht=p.providers.translate(st);return{title:ht,"aria-label":ht}}),Ne=Wh("chevron-down",{tag:"div",classes:[`${u}__select-chevron`]},p.providers.icons),Ue=Kr("common-button-display-events");return la(ah.sketch({...o.uid?{uid:o.uid}:{},...ye,dom:{tag:"button",classes:[u,`${u}--select`].concat(ne(o.classes,st=>`${u}--${st}`)),attributes:{...Ae}},components:Sx([H.map(st=>st.asSpec()),R.map(st=>st.asSpec()),L.some(Ne)]),matchWidth:!0,useMinWidth:!0,onOpen:(st,ht,At)=>{o.searchable&&AG(At)},dropdownBehaviours:pr([...o.dropdownBehaviours,ol.button(()=>o.disabled||p.providers.isDisabled()),yl(),bC.config({}),Uo.config({}),Jo("dropdown-events",[h0(o,S),hp(o,S)]),Jo(Ue,[ka((st,ht)=>EC(st))]),Jo("menubutton-update-display-text",[qn(uh,(st,ht)=>{R.bind(At=>At.getOpt(st)).each(At=>{Uo.set(At,[Oi(p.providers.translate(ht.event.text))])})}),qn(C0,(st,ht)=>{H.bind(At=>At.getOpt(st)).each(At=>{Uo.set(At,[w0(ht.event.icon,p.providers.icons)])})})])]),eventOrder:Ta(VB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[sf()]:["toolbar-button-events","dropdown-events",Ue]}),sandboxBehaviours:pr([yo.config({mode:"special",onLeft:K,onRight:K}),Jo("dropdown-sandbox-events",[qn(tI,(st,ht)=>{SG(st),ht.stop()}),qn(nI,(st,ht)=>{wG(st,ht),ht.stop()})])]),lazySink:p.getSink,toggleClass:`${u}--active`,parts:{menu:{...gx(!1,o.columns,o.presets),fakeFocus:o.searchable,onHighlightItem:ME,onCollapseMenu:(st,ht,At)=>{Ys.getHighlighted(At).each(qt=>{ME(st,At,qt)})},onDehighlightItem:kG}},getAnchorOverrides:()=>({maxHeightFunction:(st,ht)=>{z5()(st,ht-10)}}),fetch:st=>Vc.nu(F(o.fetch,st))})).asSpec()},vq=o=>h(o),HB=o=>o.type==="separator",yq=o=>vn(o,"getSubmenuItems"),bq={type:"separator"},UB=(o,u)=>{const p=Te(o,(S,R)=>vq(R)?R===""?S:R==="|"?S.length>0&&!HB(S[S.length-1])?S.concat([bq]):S:vn(u,R.toLowerCase())?S.concat([u[R.toLowerCase()]]):S:S.concat([R]),[]);return p.length>0&&HB(p[p.length-1])&&p.pop(),p},Oq=(o,u)=>{const p=o.getSubmenuItems(),S=YB(p,u),R=Ta(S.menus,{[o.value]:S.items}),H=Ta(S.expansions,{[o.value]:o.value});return{item:o,menus:R,expansions:H}},WB=o=>{const u=Bt(o,"value").getOrThunk(()=>Kr("generated-menu-item"));return Ta({value:u},o)},YB=(o,u)=>{const p=UB(h(o)?o.split(" "):o,u);return Le(p,(S,R)=>{if(yq(R)){const H=WB(R),K=Oq(H,u);return{menus:Ta(S.menus,K.menus),items:[K.item,...S.items],expansions:Ta(S.expansions,K.expansions)}}else return{...S,items:[R,...S.items]}},{menus:{},expansions:{},items:[]})},xq=o=>o.search.fold(()=>({searchMode:"no-search"}),u=>({searchMode:"search-with-field",placeholder:u.placeholder})),Sq=o=>o.search.fold(()=>({searchMode:"no-search"}),u=>({searchMode:"search-with-results"})),Lx=(o,u,p,S)=>{const R=Kr("primary-menu"),H=YB(o,p.shared.providers.menuItems());if(H.items.length===0)return L.none();const K=xq(S),ye=AN(R,H.items,u,p,S.isHorizontalMenu,K),Ae=Sq(S),Ne=je(H.menus,(Je,st)=>AN(st,Je,u,p,!1,Ae)),Ue=Ta(Ne,vt(R,ye));return L.from(f0.tieredData(R,Ue,H.expansions))},d9=o=>!vn(o,"items"),XB="data-value",GB=(o,u,p,S)=>ne(p,R=>d9(R)?{type:"togglemenuitem",text:R.text,value:R.value,active:R.value===S,onAction:()=>{Fr.setValue(o,R.value),vo(o,vf,{name:u}),Eo.focus(o)}}:{type:"nestedmenuitem",text:R.text,getSubmenuItems:()=>GB(o,u,R.items,S)}),h9=(o,u)=>Xe(o,p=>d9(p)?lt(p.value===u,p):h9(p.items,u)),wq=(o,u,p)=>{const S=u.shared.providers,R=p.bind(Ae=>h9(o.items,Ae)).orThunk(()=>ke(o.items).filter(d9)),H=o.label.map(Ae=>ih(Ae,S)),K=ca.parts.field({dom:{},factory:{sketch:Ae=>vA({uid:Ae.uid,text:R.map(Ne=>Ne.text),icon:L.none(),tooltip:o.label,role:L.none(),fetch:(Ne,Ue)=>{const Je=GB(Ne,o.name,o.items,Fr.getValue(Ne));Ue(Lx(Je,eg.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:L.none()}))},onSetup:Q(M),getApi:Q({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[qa.config({}),S0(R.map(Ne=>Ne.value),Ne=>sa(Ne.element,XB),(Ne,Ue)=>{h9(o.items,Ue).each(Je=>{Dr(Ne.element,XB,Je.value),vo(Ne,uh,{text:Je.text})})})]},"tox-listbox",u.shared)}}),ye={dom:{tag:"div",classes:["tox-listboxfield"]},components:[K]};return ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ie([H.toArray(),[ye]]),fieldBehaviours:pr([ko.config({disabled:Q(!o.enabled),onDisabled:Ae=>{ca.getField(Ae).each(ko.disable)},onEnabled:Ae=>{ca.getField(Ae).each(ko.enable)}})])})},m9=(o,u)=>({dom:{tag:"div",classes:o.classes},components:ne(o.items,u.shared.interpreter)}),Cq=(o,u)=>{const p=ne(o.options,R=>({dom:{tag:"option",value:R.value,innerHtml:R.text}})),S=o.data.map(R=>vt("initialValue",R)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:p,behaviours:Qi(o.selectBehaviours,[Eo.config({}),Fr.config({store:{mode:"manual",getValue:R=>Dh(R.element),setValue:(R,H)=>{const K=ke(o.options);Ve(o.options,Ae=>Ae.value===H).isSome()?C1(R.element,H):R.element.dom.selectedIndex===-1&&H===""&&K.each(Ae=>C1(R.element,Ae.value))},...S}})])}},Tq=Lu({name:"HtmlSelect",configFields:[er("options"),rl("selectBehaviours",[Eo,Fr]),Mn("selectClasses",[]),Mn("selectAttributes",{}),Ws("data")],factory:Cq}),kq=(o,u,p)=>{const S=ne(o.items,Ae=>({text:u.translate(Ae.text),value:Ae.value})),R=o.label.map(Ae=>ih(Ae,u)),H=ca.parts.field({dom:{},...p.map(Ae=>({data:Ae})).getOr({}),selectAttributes:{size:o.size},options:S,factory:Tq,selectBehaviours:pr([ko.config({disabled:()=>!o.enabled||u.isDisabled()}),qa.config({}),Jo("selectbox-change",[qn(Gi(),(Ae,Ne)=>{vo(Ae,vf,{name:o.name})})])])}),K=o.size>1?L.none():L.some(Wh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),ye={dom:{tag:"div",classes:["tox-selectfield"]},components:Ie([[H],K.toArray()])};return ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ie([R.toArray(),[ye]]),fieldBehaviours:pr([ko.config({disabled:()=>!o.enabled||u.isDisabled(),onDisabled:Ae=>{ca.getField(Ae).each(ko.disable)},onEnabled:Ae=>{ca.getField(Ae).each(ko.enable)}}),yl()])})},_C=Q([Mn("field1Name","field1"),Mn("field2Name","field2"),Gd("onLockedChange"),Hg(["lockClass"]),Mn("locked",!1),Ff.field("coupledFieldBehaviours",[Cs,Fr])]),g9=(o,u,p)=>Aa(o,u,p).bind(Cs.getCurrent),jB=(o,u)=>hc({factory:ca,name:o,overrides:p=>({fieldBehaviours:pr([Jo("coupled-input-behaviour",[qn(gi(),S=>{g9(S,p,u).each(R=>{Aa(S,p,"lock").each(H=>{as.isOn(H)&&p.onLockedChange(S,R,H)})})})])])})}),Aq=Q([jB("field1","field2"),jB("field2","field1"),hc({factory:Fl,schema:[er("dom")],name:"lock",overrides:o=>({buttonBehaviours:pr([as.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),p9=(o,u,p,S)=>({uid:o.uid,dom:o.dom,components:u,behaviours:Ff.augment(o.coupledFieldBehaviours,[Cs.config({find:L.some}),Fr.config({store:{mode:"manual",getValue:R=>{const H=xv(R,o,["field1","field2"]);return{[o.field1Name]:Fr.getValue(H.field1()),[o.field2Name]:Fr.getValue(H.field2())}},setValue:(R,H)=>{const K=xv(R,o,["field1","field2"]);En(H,o.field1Name)&&Fr.setValue(K.field1(),H[o.field1Name]),En(H,o.field2Name)&&Fr.setValue(K.field2(),H[o.field2Name])}}})]),apis:{getField1:R=>Aa(R,o,"field1"),getField2:R=>Aa(R,o,"field2"),getLock:R=>Aa(R,o,"lock")}}),Sd=mc({name:"FormCoupledInputs",configFields:_C(),partFields:Aq(),factory:p9,apis:{getField1:(o,u)=>o.getField1(u),getField2:(o,u)=>o.getField2(u),getLock:(o,u)=>o.getLock(u)}}),v9=o=>{const u={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},p=R=>R in u?u[R]:1;let S=o.value.toFixed(p(o.unit));return S.indexOf(".")!==-1&&(S=S.replace(/\.?0*$/,"")),S+o.unit},yA=o=>{const p=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(p!==null){const S=parseFloat(p[1]),R=p[2];return jo.value({value:S,unit:R})}else return jo.error(o)},qB=(o,u)=>{const p={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},S=R=>vn(p,R);return o.unit===u?L.some(o.value):S(o.unit)&&S(u)?p[o.unit]===p[u]?L.some(o.value):L.some(o.value/p[o.unit]*p[u]):L.none()},y9=o=>L.none(),KB=(o,u)=>p=>qB(p,u).map(S=>({value:S*o,unit:u})),JB=(o,u)=>{const p=yA(o).toOptional(),S=yA(u).toOptional();return Xn(p,S,(R,H)=>qB(R,H.unit).map(K=>H.value/K).map(K=>KB(K,H.unit)).getOr(y9)).getOr(y9)},Pq=(o,u)=>{let p=y9;const S=Kr("ratio-event"),R=Je=>Wh(Je,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Je]},u.icons),H=Sd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:u.translate(o.label.getOr("Constrain proportions"))}},components:[R("lock"),R("unlock")],buttonBehaviours:pr([ko.config({disabled:()=>!o.enabled||u.isDisabled()}),yl(),qa.config({})])}),K=Je=>({dom:{tag:"div",classes:["tox-form__group"]},components:Je}),ye=Je=>ca.parts.field({factory:zb,inputClasses:["tox-textfield"],inputBehaviours:pr([ko.config({disabled:()=>!o.enabled||u.isDisabled()}),yl(),qa.config({}),Jo("size-input-events",[qn($o(),(st,ht)=>{vo(st,S,{isField1:Je})}),qn(Gi(),(st,ht)=>{vo(st,vf,{name:o.name})})])]),selectOnFocus:!1}),Ae=Je=>({dom:{tag:"label",classes:["tox-label"]},components:[Oi(u.translate(Je))]}),Ne=Sd.parts.field1(K([ca.parts.label(Ae("Width")),ye(!0)])),Ue=Sd.parts.field2(K([ca.parts.label(Ae("Height")),ye(!1)]));return Sd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Ne,Ue,K([Ae(Xw),H])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Je,st,ht)=>{yA(Fr.getValue(Je)).each(At=>{p(At).each(qt=>{Fr.setValue(st,v9(qt))})})},coupledFieldBehaviours:pr([ko.config({disabled:()=>!o.enabled||u.isDisabled(),onDisabled:Je=>{Sd.getField1(Je).bind(ca.getField).each(ko.disable),Sd.getField2(Je).bind(ca.getField).each(ko.disable),Sd.getLock(Je).each(ko.disable)},onEnabled:Je=>{Sd.getField1(Je).bind(ca.getField).each(ko.enable),Sd.getField2(Je).bind(ca.getField).each(ko.enable),Sd.getLock(Je).each(ko.enable)}}),yl(),Jo("size-input-events2",[qn(S,(Je,st)=>{const ht=st.event.isField1,At=ht?Sd.getField1(Je):Sd.getField2(Je),qt=ht?Sd.getField2(Je):Sd.getField1(Je),Dn=At.map(Fr.getValue).getOr(""),mn=qt.map(Fr.getValue).getOr("");p=JB(Dn,mn)})])])})},eQ=(o,u,p)=>{const S=ch.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Oi(u.translate(o.label))]}),R=ch.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),H=ch.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ch.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o.min,maxX:o.max,getInitialValue:Q(p.getOrThunk(()=>(Math.abs(o.max)-Math.abs(o.min))/2))},components:[S,R,H],sliderBehaviours:pr([Hf.self(),Eo.config({})]),onChoose:(K,ye,Ae)=>{vo(K,vf,{name:o.name,value:Ae})}})},tQ=(o,u)=>{const p=ye=>({dom:{tag:"th",innerHtml:u.translate(ye)}}),S=ye=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ne(ye,p)}]}),R=ye=>({dom:{tag:"td",innerHtml:u.translate(ye)}}),H=ye=>({dom:{tag:"tr"},components:ne(ye,R)}),K=ye=>({dom:{tag:"tbody"},components:ne(ye,H)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[S(o.header),K(o.cells)],behaviours:pr([qa.config({}),Eo.config({})])}},nQ=(o,u)=>{const p=o.label.map(ht=>ih(ht,u)),S=[ko.config({disabled:()=>o.disabled||u.isDisabled()}),yl(),yo.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:ht=>(As(ht,yC),L.some(!0))}),Jo("textfield-change",[qn(gi(),(ht,At)=>{vo(ht,vf,{name:o.name})}),qn(Ni(),(ht,At)=>{vo(ht,vf,{name:o.name})})]),qa.config({})],R=o.validation.map(ht=>Od.config({getRoot:At=>dr(At.element),invalidClass:"tox-invalid",validator:{validate:At=>{const qt=Fr.getValue(At),Dn=ht.validator(qt);return Vc.pure(Dn===!0?jo.value(qt):jo.error(Dn))},validateOnLoad:ht.validateOnLoad}})).toArray(),H=o.placeholder.fold(Q({}),ht=>({placeholder:u.translate(ht)})),K=o.inputMode.fold(Q({}),ht=>({inputmode:ht})),ye={...H,...K},Ae=ca.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(ht=>({data:ht})).getOr({}),inputAttributes:ye,inputClasses:[o.classname],inputBehaviours:pr(Ie([S,R])),selectOnFocus:!1,factory:zb}),Ne=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[Ae]}:Ae,Je=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),st=[ko.config({disabled:()=>o.disabled||u.isDisabled(),onDisabled:ht=>{ca.getField(ht).each(ko.disable)},onEnabled:ht=>{ca.getField(ht).each(ko.enable)}}),yl()];return pC(p,Ne,Je,st)},rQ=(o,u,p)=>nQ({name:o.name,multiline:!1,label:o.label,inputMode:o.inputMode,placeholder:o.placeholder,flex:!1,disabled:!o.enabled,classname:"tox-textfield",validation:L.none(),maximized:o.maximized,data:p},u),oQ=(o,u,p)=>nQ({name:o.name,multiline:!0,label:o.label,inputMode:L.none(),placeholder:o.placeholder,flex:!0,disabled:!o.enabled,classname:"tox-textarea",validation:L.none(),maximized:o.maximized,data:p},u),Ix=(o,u)=>u.getAnimationRoot.fold(()=>o.element,p=>p(o)),Lv=o=>o.dimension.property,jb=(o,u)=>o.dimension.getDimension(u),bA=(o,u)=>{const p=Ix(o,u);af(p,[u.shrinkingClass,u.growingClass])},OA=(o,u)=>{ja(o.element,u.openClass),Pi(o.element,u.closedClass),Mo(o.element,Lv(u),"0px"),fi(o.element)},b9=(o,u)=>{ja(o.element,u.closedClass),Pi(o.element,u.openClass),Ho(o.element,Lv(u))},O9=(o,u,p,S)=>{p.setCollapsed(),Mo(o.element,Lv(u),jb(u,o.element)),bA(o,u),OA(o,u),u.onStartShrink(o),u.onShrunk(o)},Mq=(o,u,p,S)=>{const R=S.getOrThunk(()=>jb(u,o.element));p.setCollapsed(),Mo(o.element,Lv(u),R),fi(o.element);const H=Ix(o,u);ja(H,u.growingClass),Pi(H,u.shrinkingClass),OA(o,u),u.onStartShrink(o)},sQ=(o,u,p)=>{const S=jb(u,o.element);(S==="0px"?O9:Mq)(o,u,p,L.some(S))},xA=(o,u,p)=>{const S=Ix(o,u),R=nl(S,u.shrinkingClass),H=jb(u,o.element);b9(o,u);const K=jb(u,o.element);(R?()=>{Mo(o.element,Lv(u),H),fi(o.element)}:()=>{OA(o,u)})(),ja(S,u.shrinkingClass),Pi(S,u.growingClass),b9(o,u),Mo(o.element,Lv(u),K),p.setExpanded(),u.onStartGrow(o)},Eq=(o,u,p)=>{if(p.isExpanded()){Ho(o.element,Lv(u));const S=jb(u,o.element);Mo(o.element,Lv(u),S)}},_q=(o,u,p)=>{p.isExpanded()||xA(o,u,p)},Rq=(o,u,p)=>{p.isExpanded()&&sQ(o,u,p)},aQ=(o,u,p)=>{p.isExpanded()&&O9(o,u,p)},Dq=(o,u,p)=>p.isExpanded(),iQ=(o,u,p)=>p.isCollapsed(),lQ=(o,u,p)=>{const S=Ix(o,u);return nl(S,u.growingClass)===!0},x9=(o,u,p)=>{const S=Ix(o,u);return nl(S,u.shrinkingClass)===!0};var $q=Object.freeze({__proto__:null,refresh:Eq,grow:_q,shrink:Rq,immediateShrink:aQ,hasGrown:Dq,hasShrunk:iQ,isGrowing:lQ,isShrinking:x9,isTransitioning:(o,u,p)=>lQ(o,u)||x9(o,u),toggleGrow:(o,u,p)=>{(p.isExpanded()?sQ:xA)(o,u,p)},disableTransitions:bA,immediateGrow:(o,u,p)=>{p.isExpanded()||(b9(o,u),Mo(o.element,Lv(u),jb(u,o.element)),bA(o,u),p.setExpanded(),u.onStartGrow(o),u.onGrown(o))}}),Iq=Object.freeze({__proto__:null,exhibit:(o,u,p)=>{const S=u.expanded;return Eu(S?{classes:[u.openClass],styles:{}}:{classes:[u.closedClass],styles:vt(u.dimension.property,"0px")})},events:(o,u)=>_a([Mh(tl(),(p,S)=>{S.event.raw.propertyName===o.dimension.property&&(bA(p,o),u.isExpanded()&&Ho(p.element,o.dimension.property),(u.isExpanded()?o.onGrown:o.onShrunk)(p))})])}),cQ=[er("closedClass"),er("openClass"),er("shrinkingClass"),er("growingClass"),Ws("getAnimationRoot"),Ds("onShrunk"),Ds("onStartShrink"),Ds("onGrown"),Ds("onStartGrow"),Mn("expanded",!1),Gc("dimension",ws("property",{width:[ga("property","width"),ga("getDimension",o=>Ci(o)+"px")],height:[ga("property","height"),ga("getDimension",o=>Ha(o)+"px")]}))],Nq=Object.freeze({__proto__:null,init:o=>{const u=G(o.expanded),p=()=>"expanded: "+u.get();return Mu({isExpanded:()=>u.get()===!0,isCollapsed:()=>u.get()===!1,setCollapsed:F(u.set,!1),setExpanded:F(u.set,!0),readState:p})}});const Uf=gl({fields:cQ,name:"sliding",active:Iq,apis:$q,state:Nq}),S9=o=>({isEnabled:()=>!ko.isDisabled(o),setEnabled:u=>ko.set(o,!u),setActive:u=>{const p=o.element;u?(Pi(p,"tox-tbtn--enabled"),Dr(p,"aria-pressed",!0)):(ja(p,"tox-tbtn--enabled"),aa(p,"aria-pressed"))},isActive:()=>nl(o.element,"tox-tbtn--enabled"),setText:u=>{vo(o,uh,{text:u})},setIcon:u=>vo(o,C0,{icon:u})}),RC=(o,u,p,S,R=!0)=>vA({text:o.text,icon:o.icon,tooltip:o.tooltip,searchable:o.search.isSome(),role:S,fetch:(H,K)=>{const ye={pattern:o.search.isSome()?PG(H):""};o.fetch(Ae=>{K(Lx(Ae,eg.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:o.search}))},ye,S9(H))},onSetup:o.onSetup,getApi:S9,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...R?[qa.config({})]:[]]},u,p.shared),Bq=(o,u,p)=>{const S=H=>K=>{const ye=!K.isActive();K.setActive(ye),H.storage.set(ye),p.shared.getSink().each(Ae=>{u().getOpt(Ae).each(Ne=>{mu(Ne.element),vo(Ne,pp,{name:H.name,value:H.storage.get()})})})},R=H=>K=>{K.setActive(H.storage.get())};return H=>{H(ne(o,K=>{const ye=K.text.fold(()=>({}),Ae=>({text:Ae}));return{type:K.type,active:!1,...ye,onAction:S(K),onSetup:R(K)}}))}},uQ=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:o,"aria-label":o}},components:[Oi(o)]}),w9=Kr("leaf-label-event-id"),SA=({leaf:o,onLeafAction:u,visible:p,treeId:S,selectedId:R,backstage:H})=>{const K=o.menu.map(Ae=>RC(Ae,"tox-mbtn",H,L.none(),p)),ye=[uQ(o.title)];return K.each(Ae=>ye.push(Ae)),Fl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(p?["tox-tree--leaf__label--visible"]:[])},components:ye,role:"treeitem",action:Ae=>{u(o.id),Ae.getSystem().broadcastOn([`update-active-item-${S}`],{value:o.id})},eventOrder:{[Rs()]:[w9,"keying"]},buttonBehaviours:pr([...p?[qa.config({})]:[],as.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),hu.config({channels:{[`update-active-item-${S}`]:{onReceive:(Ae,Ne)=>{(Ne.value===o.id?as.on:as.off)(Ae)}}}}),Jo(w9,[ka((Ae,Ne)=>{R.each(Ue=>{(Ue===o.id?as.on:as.off)(Ae)})}),qn(Rs(),(Ae,Ne)=>{const Ue=Ne.event.raw.code==="ArrowLeft",Je=Ne.event.raw.code==="ArrowRight";Ue?(Ru(Ae.element,".tox-tree--directory").each(st=>{Ae.getSystem().getByDom(st).each(ht=>{h2(st,".tox-tree--directory__label").each(At=>{ht.getSystem().getByDom(At).each(Eo.focus)})})}),Ne.stop()):Je&&Ne.stop()})])])})},fQ=(o,u,p)=>Wh(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:p},u),wA=(o,u)=>fQ(o,u,[]),dQ=Kr("directory-label-event-id"),Qq=({directory:o,visible:u,noChildren:p,backstage:S})=>{const R=o.menu.map(ye=>RC(ye,"tox-mbtn",S,L.none())),H=[{dom:{tag:"div",classes:["tox-chevron"]},components:[wA("chevron-right",S.shared.providers.icons)]},uQ(o.title)];R.each(ye=>{H.push(ye)});const K=ye=>{Ru(ye.element,".tox-tree--directory").each(Ae=>{ye.getSystem().getByDom(Ae).each(Ne=>{const Ue=!as.isOn(Ne);as.toggle(Ne),vo(ye,"expand-tree-node",{expanded:Ue,node:o.id})})})};return Fl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(u?["tox-tree--directory__label--visible"]:[])},components:H,action:K,eventOrder:{[Rs()]:[dQ,"keying"]},buttonBehaviours:pr([...u?[qa.config({})]:[],Jo(dQ,[qn(Rs(),(ye,Ae)=>{const Ne=Ae.event.raw.code==="ArrowRight",Ue=Ae.event.raw.code==="ArrowLeft";Ne&&p&&Ae.stop(),(Ne||Ue)&&Ru(ye.element,".tox-tree--directory").each(Je=>{ye.getSystem().getByDom(Je).each(st=>{!as.isOn(st)&&Ne||as.isOn(st)&&Ue?(K(ye),Ae.stop()):Ue&&!as.isOn(st)&&(Ru(st.element,".tox-tree--directory").each(ht=>{h2(ht,".tox-tree--directory__label").each(At=>{st.getSystem().getByDom(At).each(Eo.focus)})}),Ae.stop())})})})])])})},Fq=({children:o,onLeafAction:u,visible:p,treeId:S,expandedIds:R,selectedId:H,backstage:K})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(ye=>ye.type==="leaf"?SA({leaf:ye,selectedId:H,onLeafAction:u,visible:p,treeId:S,backstage:K}):CA({directory:ye,expandedIds:R,selectedId:H,onLeafAction:u,labelTabstopping:p,treeId:S,backstage:K})),behaviours:pr([Uf.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:p}),Uo.config({})])}),Vq=Kr("directory-event-id"),CA=({directory:o,onLeafAction:u,labelTabstopping:p,treeId:S,backstage:R,expandedIds:H,selectedId:K})=>{const{children:ye}=o,Ae=G(H),Ne=Je=>ye.map(st=>st.type==="leaf"?SA({leaf:st,selectedId:K,onLeafAction:u,visible:Je,treeId:S,backstage:R}):CA({directory:st,expandedIds:Ae.get(),selectedId:K,onLeafAction:u,labelTabstopping:Je,treeId:S,backstage:R})),Ue=H.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Qq({directory:o,visible:p,noChildren:o.children.length===0,backstage:R}),Fq({children:ye,expandedIds:H,selectedId:K,onLeafAction:u,visible:Ue,treeId:S,backstage:R})],behaviours:pr([Jo(Vq,[ka((Je,st)=>{as.set(Je,Ue)}),qn("expand-tree-node",(Je,st)=>{const{expanded:ht,node:At}=st.event;Ae.set(ht?[...Ae.get(),At]:Ae.get().filter(qt=>qt!==At))})]),as.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(Je,st)=>{const ht=Je.components()[1],At=Ne(st);st?Uf.grow(ht):Uf.shrink(ht),Uo.set(ht,At)}})])}},zq=Kr("tree-event-id"),Zq=(o,u)=>{const p=o.onLeafAction.getOr(M),S=o.onToggleExpand.getOr(M),R=o.defaultExpandedIds,H=G(R),K=G(o.defaultSelectedId),ye=Kr("tree-id"),Ae=(Ne,Ue)=>o.items.map(Je=>Je.type==="leaf"?SA({leaf:Je,selectedId:Ne,onLeafAction:p,visible:!0,treeId:ye,backstage:u}):CA({directory:Je,selectedId:Ne,onLeafAction:p,expandedIds:Ue,labelTabstopping:!0,treeId:ye,backstage:u}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:Ae(K.get(),H.get()),behaviours:pr([yo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Jo(zq,[qn("expand-tree-node",(Ne,Ue)=>{const{expanded:Je,node:st}=Ue.event;H.set(Je?[...H.get(),st]:H.get().filter(ht=>ht!==st)),S(H.get(),{expanded:Je,node:st})})]),hu.config({channels:{[`update-active-item-${ye}`]:{onReceive:(Ne,Ue)=>{K.set(L.some(Ue.value)),Uo.set(Ne,Ae(L.some(Ue.value),H.get()))}}}}),Uo.config({})])}};var hQ=Object.freeze({__proto__:null,events:(o,u)=>{const S=o.stream.streams.setup(o,u);return _a([qn(o.event,S),Eh(()=>u.cancel())].concat(o.cancelEvent.map(R=>[qn(R,()=>u.cancel())]).getOr([])))}});const C9=o=>{const u=G(null);return Mu({readState:()=>({timer:u.get()!==null?"set":"unset"}),setTimer:H=>{u.set(H)},cancel:()=>{const H=u.get();H!==null&&H.cancel()}})};var Hq=Object.freeze({__proto__:null,throttle:C9,init:o=>o.stream.streams.state(o)});const mQ=(o,u)=>{const p=o.stream,S=i9(o.onStream,p.delay);return u.setTimer(S),(R,H)=>{S.throttle(R,H),p.stopEvent&&H.stop()}};var Uq=[Gc("stream",ws("mode",{throttle:[er("delay"),Mn("stopEvent",!0),ga("streams",{setup:mQ,state:C9})]})),Mn("event","input"),Ws("cancelEvent"),Gd("onStream")];const T9=gl({fields:Uq,name:"streaming",active:hQ,state:Hq}),Do=(o,u,p)=>{const S=Fr.getValue(p);Fr.setValue(u,S),k9(u)},Nx=(o,u)=>{const p=o.element,S=Dh(p),R=p.dom;sa(p,"type")!=="number"&&u(R,S)},k9=o=>{Nx(o,(u,p)=>u.setSelectionRange(p.length,p.length))},gQ=(o,u)=>{Nx(o,(p,S)=>p.setSelectionRange(u,S.length))},pQ=(o,u,p)=>{if(o.selectsOver){const S=Fr.getValue(u),R=o.getDisplayText(S),H=Fr.getValue(p);return o.getDisplayText(H).indexOf(R)===0?L.some(()=>{Do(o,u,p),gQ(u,R.length)}):L.none()}else return L.none()},TA=Q("alloy.typeahead.itemexecute"),vQ=(o,u,p,S)=>{const R=(Je,st,ht)=>{o.previewing.set(!1);const At=_i.getCoupled(Je,"sandbox");if(Ps.isOpen(At))Cs.getCurrent(At).each(qt=>{Ys.getHighlighted(qt).fold(()=>{ht(qt)},()=>{JS(At,qt.element,"keydown",st)})});else{const qt=Dn=>{Cs.getCurrent(Dn).each(ht)};V4(o,K(Je),Je,At,S,qt,bu.HighlightMenuAndItem).get(M)}},H=MM(o),K=Je=>st=>st.map(ht=>{const At=Nt(ht.menus),qt=re(At,mn=>Oe(mn.items,sn=>sn.type==="item"));return Fr.getState(Je).update(ne(qt,mn=>mn.data)),ht}),ye=Je=>Cs.getCurrent(Je),Ae="typeaheadevents",Ne=[Eo.config({}),Fr.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:Je=>Dh(Je.element),getFallbackEntry:Je=>({value:Je,meta:{}}),setValue:(Je,st)=>{C1(Je.element,o.model.getDisplayText(st))},...o.initialData.map(Je=>vt("initialValue",Je)).getOr({})}}),T9.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(Je,st)=>{const ht=_i.getCoupled(Je,"sandbox");if(Eo.isFocused(Je)&&Dh(Je.element).length>=o.minChars){const qt=ye(ht).bind(mn=>Ys.getHighlighted(mn).map(Fr.getValue));o.previewing.set(!0);const Dn=mn=>{ye(ht).each(sn=>{qt.fold(()=>{o.model.selectsOver&&Ys.highlightFirst(sn)},kn=>{Ys.highlightBy(sn,Zn=>Fr.getValue(Zn).value===kn.value),Ys.getHighlighted(sn).orThunk(()=>(Ys.highlightFirst(sn),L.none()))})})};V4(o,K(Je),Je,ht,S,Dn,bu.HighlightJustMenu).get(M)}},cancelEvent:Em()}),yo.config({mode:"special",onDown:(Je,st)=>(R(Je,st,Ys.highlightFirst),L.some(!0)),onEscape:Je=>{const st=_i.getCoupled(Je,"sandbox");return Ps.isOpen(st)?(Ps.close(st),L.some(!0)):L.none()},onUp:(Je,st)=>(R(Je,st,Ys.highlightLast),L.some(!0)),onEnter:Je=>{const st=_i.getCoupled(Je,"sandbox"),ht=Ps.isOpen(st);if(ht&&!o.previewing.get())return ye(st).bind(At=>Ys.getHighlighted(At)).map(At=>(vo(Je,TA(),{item:At}),!0));{const At=Fr.getValue(Je);return As(Je,Em()),o.onExecute(st,Je,At),ht&&Ps.close(st),L.some(!0)}}}),as.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),_i.config({others:{sandbox:Je=>AE(o,Je,{onOpen:()=>as.on(Je),onClose:()=>{o.lazyTypeaheadComp.get().each(st=>aa(st.element,"aria-activedescendant")),as.off(Je)}})}}),Jo(Ae,[ka(Je=>{o.lazyTypeaheadComp.set(L.some(Je))}),Eh(Je=>{o.lazyTypeaheadComp.set(L.none())}),ld(Je=>{const st=M;kE(o,K(Je),Je,S,st,bu.HighlightMenuAndItem).get(M)}),qn(TA(),(Je,st)=>{const ht=_i.getCoupled(Je,"sandbox");Do(o.model,Je,st.event.item),As(Je,Em()),o.onItemExecute(Je,ht,st.event.item,Fr.getValue(Je)),Ps.close(ht),k9(Je)})].concat(o.dismissOnBlur?[qn(Kl(),Je=>{const st=_i.getCoupled(Je,"sandbox");fd(st.element).isNone()&&Ps.close(st)})]:[]))],Ue={[Ig()]:[Fr.name(),T9.name(),Ae],...o.eventOrder};return{uid:o.uid,dom:m4(Ta(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...H,...Qi(o.typeaheadBehaviours,Ne)},eventOrder:Ue}},Fce=Q([Ws("lazySink"),er("fetch"),Mn("minChars",5),Mn("responseTime",1e3),Ds("onOpen"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",Q({})),Mn("layouts",L.none()),Mn("eventOrder",{}),D("model",{},[Mn("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Mn("selectsOver",!0),Mn("populateFromBrowse",!0)]),Ds("onSetValue"),$u("onExecute"),Ds("onItemExecute"),Mn("inputClasses",[]),Mn("inputAttributes",{}),Mn("inputStyles",{}),Mn("matchWidth",!0),Mn("useMinWidth",!1),Mn("dismissOnBlur",!0),Hg(["openClass"]),Ws("initialData"),rl("typeaheadBehaviours",[Eo,Fr,T9,yo,as,_i]),ri("lazyTypeaheadComp",()=>G(L.none)),ri("previewing",()=>G(!0))].concat(eC()).concat(PE())),DC=Q([md({schema:[Uy()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(u,p,S)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(R=>{pQ(o.model,R,S).fold(()=>{o.model.selectsOver?(Ys.dehighlight(p,S),o.previewing.set(!0)):o.previewing.set(!1)},H=>{H(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(R=>{o.model.populateFromBrowse&&Do(o.model,R,S),$i(S.element,"id").each(H=>Dr(R.element,"aria-activedescendant",H))})},onExecute:(u,p)=>o.lazyTypeaheadComp.get().map(S=>(vo(S,TA(),{item:p}),!0)),onHover:(u,p)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(S=>{o.model.populateFromBrowse&&Do(o.model,S,p)})}})})]),Wq=mc({name:"Typeahead",configFields:Fce(),partFields:DC(),factory:vQ}),fh=o=>({...o,toCached:()=>fh(o.toCached()),bindFuture:Ae=>fh(o.bind(Ne=>Ne.fold(Ue=>Vc.pure(jo.error(Ue)),Ue=>Ae(Ue)))),bindResult:Ae=>fh(o.map(Ne=>Ne.bind(Ae))),mapResult:Ae=>fh(o.map(Ne=>Ne.map(Ae))),mapError:Ae=>fh(o.map(Ne=>Ne.mapError(Ae))),foldResult:(Ae,Ne)=>o.map(Ue=>Ue.fold(Ae,Ne)),withTimeout:(Ae,Ne)=>fh(Vc.nu(Ue=>{let Je=!1;const st=setTimeout(()=>{Je=!0,Ue(jo.error(Ne()))},Ae);o.get(ht=>{Je||(clearTimeout(st),Ue(ht))})}))}),yQ=o=>fh(Vc.nu(o)),bQ=o=>fh(Vc.pure(jo.value(o))),Gq={nu:yQ,wrap:fh,pure:bQ,value:bQ,error:o=>fh(Vc.pure(jo.error(o))),fromResult:o=>fh(Vc.pure(o)),fromFuture:o=>fh(o.map(jo.value)),fromPromise:o=>yQ(u=>{o.then(p=>{u(jo.value(p))},p=>{u(jo.error(p))})})},kA=(o,u,p=[],S,R,H)=>{const K=u.fold(()=>({}),Ne=>({action:Ne})),ye={buttonBehaviours:pr([ol.button(()=>!o.enabled||H.isDisabled()),yl(),qa.config({}),Jo("button press",[nw("click"),nw("mousedown")])].concat(p)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...K},Ae=Ta(ye,{dom:S});return Ta(Ae,{components:R})},jq=(o,u,p,S=[])=>{const R=o.tooltip.map(Ae=>({"aria-label":p.translate(Ae),title:p.translate(Ae)})).getOr({}),H={tag:"button",classes:["tox-tbtn"],attributes:R},K=o.icon.map(Ae=>pA(Ae,p.icons)),ye=Sx([K]);return kA(o,u,S,H,ye,p)},A9=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},xQ=(o,u,p,S=[],R=[])=>{const H=p.translate(o.text),K=o.icon.map(st=>pA(st,p.icons)),ye=[K.getOrThunk(()=>Oi(H))],Ae=o.buttonType.getOr(!o.primary&&!o.borderless?"secondary":"primary"),Je={tag:"button",classes:[...A9(Ae),...K.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...R],attributes:{title:H}};return kA(o,u,S,Je,ye,p)},P9=(o,u,p,S=[],R=[])=>{const H=xQ(o,L.some(u),p,S,R);return Fl.sketch(H)},SQ=(o,u)=>p=>{u==="custom"?vo(p,pp,{name:o,value:{}}):u==="submit"?As(p,yC):u==="cancel"?As(p,y0):console.error("Unknown button type: ",u)},qq=(o,u)=>u==="menu",Kq=(o,u)=>u==="custom"||u==="cancel"||u==="submit",Jq=(o,u)=>u==="togglebutton",eK=(o,u)=>{var p,S;const R=o.icon.map(sn=>w0(sn,u.icons)).map(la),H=sn=>{vo(sn,pp,{name:o.name,value:{setIcon:kn=>{R.map(Zn=>Zn.getOpt(sn).each(mr=>{Uo.set(mr,[w0(kn,u.icons)])}))}}})},K=o.buttonType.getOr(o.primary?"primary":"secondary"),ye={...o,name:(p=o.name)!==null&&p!==void 0?p:"",primary:K==="primary",tooltip:L.from(o.tooltip),enabled:(S=o.enabled)!==null&&S!==void 0?S:!1,borderless:!1},Ae=ye.tooltip.map(sn=>({"aria-label":u.translate(sn),title:u.translate(sn)})).getOr({}),Ne=A9(K??"secondary"),Ue=o.icon.isSome()&&o.text.isSome(),Je={tag:"button",classes:[...Ne.concat(o.icon.isSome()?["tox-button--icon"]:[]),...o.active?["tox-button--enabled"]:[],...Ue?["tox-button--icon-and-text"]:[]],attributes:Ae},st=[],ht=u.translate(o.text.getOr("")),At=Oi(ht),Dn=[...Sx([R.map(sn=>sn.asSpec())]),...o.text.isSome()?[At]:[]],mn=kA(ye,L.some(H),st,Je,Dn,u);return Fl.sketch(mn)},AA=(o,u,p)=>{if(qq(o,u)){const S=()=>K,R=o,H={...o,type:"menubutton",search:L.none(),onSetup:ye=>(ye.setEnabled(o.enabled),M),fetch:Bq(R.items,S,p)},K=la(RC(H,"tox-tbtn",p,L.none()));return K.asSpec()}else if(Kq(o,u)){const S=SQ(o.name,u),R={...o,borderless:!1};return P9(R,S,p.shared.providers,[])}else{if(Jq(o,u))return eK(o,p.shared.providers);throw console.error("Unknown footer button type: ",u),new Error("Unknown footer button type")}},tK=(o,u)=>{const p=SQ(o.name,"custom");return qG(L.none(),ca.parts.field({factory:Fl,...xQ(o,L.some(p),u,[CC(""),Hf.self()])}))},nK={type:"separator"},rK=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:M}),M9=(o,u)=>({type:"menuitem",value:u,text:o,meta:{attach:void 0},onAction:M}),oK=o=>ne(o,rK),wQ=(o,u)=>Oe(u,p=>p.type===o),CQ=(o,u)=>oK(wQ(o,u)),sK=o=>CQ("header",o.targets),aK=o=>CQ("anchor",o.targets),iK=o=>L.from(o.anchorTop).map(u=>M9("<top>",u)).toArray(),lK=o=>L.from(o.anchorBottom).map(u=>M9("<bottom>",u)).toArray(),cK=o=>ne(o,u=>M9(u,u)),TQ=o=>Te(o,(u,p)=>u.length===0||p.length===0?u.concat(p):u.concat(nK,p),[]),E9=(o,u)=>{const p=o.toLowerCase();return Oe(u,S=>{var R;const H=S.meta!==void 0&&S.meta.text!==void 0?S.meta.text:S.text,K=(R=S.value)!==null&&R!==void 0?R:"";return it(H.toLowerCase(),p)||it(K.toLowerCase(),p)})},kQ=(o,u,p)=>{var S,R;const H=Fr.getValue(u),K=(R=(S=H==null?void 0:H.meta)===null||S===void 0?void 0:S.text)!==null&&R!==void 0?R:H.value;return p.getLinkInformation().fold(()=>[],Ae=>{const Ne=E9(K,cK(p.getHistory(o)));return o==="file"?TQ([Ne,E9(K,sK(Ae)),E9(K,Ie([iK(Ae),aK(Ae),lK(Ae)]))]):Ne})},AQ=Kr("aria-invalid"),PQ=(o,u,p,S)=>{const R=u.shared.providers,H=sn=>{const kn=Fr.getValue(sn);p.addToHistory(kn.value,o.filetype)},K={...S.map(sn=>({initialData:sn})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":AQ,type:"url"},minChars:0,responseTime:0,fetch:sn=>{const kn=kQ(o.filetype,sn,p),Zn=Lx(kn,eg.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:L.none()});return Vc.pure(Zn)},getHotspot:sn=>At.getOpt(sn),onSetValue:(sn,kn)=>{sn.hasConfigured(Od)&&Od.run(sn).get(M)},typeaheadBehaviours:pr([...p.getValidationHandler().map(sn=>Od.config({getRoot:kn=>dr(kn.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(kn,Zn)=>{Ue.getOpt(kn).each(mr=>{Dr(mr.element,"title",R.translate(Zn))})}},validator:{validate:kn=>{const Zn=Fr.getValue(kn);return Gq.nu(mr=>{sn({type:o.filetype,url:Zn.value},Gn=>{if(Gn.status==="invalid"){const Or=jo.error(Gn.message);mr(Or)}else{const Or=jo.value(Gn.message);mr(Or)}})})},validateOnLoad:!1}})).toArray(),ko.config({disabled:()=>!o.enabled||R.isDisabled()}),qa.config({}),Jo("urlinput-events",[qn(gi(),sn=>{const kn=Dh(sn.element),Zn=kn.trim();Zn!==kn&&C1(sn.element,Zn),o.filetype==="file"&&vo(sn,vf,{name:o.name})}),qn(Gi(),sn=>{vo(sn,vf,{name:o.name}),H(sn)}),qn(Ni(),sn=>{vo(sn,vf,{name:o.name}),H(sn)})])]),eventOrder:{[gi()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:sn=>sn.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:gx(!1,1,"normal")},onExecute:(sn,kn,Zn)=>{vo(kn,yC,{})},onItemExecute:(sn,kn,Zn,mr)=>{H(sn),vo(sn,vf,{name:o.name})}},ye=ca.parts.field({...K,factory:Wq}),Ae=o.label.map(sn=>ih(sn,R)),Ue=la(((sn,kn,Zn=sn,mr=sn)=>Wh(Zn,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+sn],attributes:{title:R.translate(mr),"aria-live":"polite",...kn.fold(()=>({}),Gn=>({id:Gn}))}},R.icons))("invalid",L.some(AQ),"warning")),Je=la({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[Ue.asSpec()]}),st=p.getUrlPicker(o.filetype),ht=Kr("browser.url.event"),At=la({dom:{tag:"div",classes:["tox-control-wrap"]},components:[ye,Je.asSpec()],behaviours:pr([ko.config({disabled:()=>!o.enabled||R.isDisabled()})])}),qt=la(P9({name:o.name,icon:L.some("browse"),text:o.picker_text.or(o.label).getOr(""),enabled:o.enabled,primary:!1,buttonType:L.none(),borderless:!0},sn=>As(sn,ht),R,[],["tox-browse-url"])),Dn=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ie([[At.asSpec()],st.map(()=>qt.asSpec()).toArray()])}),mn=sn=>{Cs.getCurrent(sn).each(kn=>{const Zn=Fr.getValue(kn),mr={fieldname:o.name,...Zn};st.each(Gn=>{Gn(mr).get(Or=>{Fr.setValue(kn,Or),vo(sn,vf,{name:o.name})})})})};return ca.sketch({dom:Ace(),components:Ae.toArray().concat([Dn()]),fieldBehaviours:pr([ko.config({disabled:()=>!o.enabled||R.isDisabled(),onDisabled:sn=>{ca.getField(sn).each(ko.disable),qt.getOpt(sn).each(ko.disable)},onEnabled:sn=>{ca.getField(sn).each(ko.enable),qt.getOpt(sn).each(ko.enable)}}),yl(),Jo("url-input-events",[qn(ht,mn)])])})},MQ=(o,u)=>{const p=nM(o.icon,u.icons);return tg.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:o.url?void 0:p},components:o.url?[Fl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:u.translate(o.iconTooltip)}},action:S=>vo(S,pp,{name:"alert-banner",value:o.url}),buttonBehaviours:pr([n4()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:u.translate(o.text)}}]})},_9=(o,u)=>{o.dom.checked=u},uK=o=>o.dom.checked,EQ=(o,u,p)=>{const S=Ae=>(Ae.element.dom.click(),L.some(!0)),R=ca.parts.field({factory:{sketch:z},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pr([Hf.self(),ko.config({disabled:()=>!o.enabled||u.isDisabled(),onDisabled:Ae=>{dr(Ae.element).each(Ne=>Pi(Ne,"tox-checkbox--disabled"))},onEnabled:Ae=>{dr(Ae.element).each(Ne=>ja(Ne,"tox-checkbox--disabled"))}}),qa.config({}),Eo.config({}),a9(p,uK,_9),yo.config({mode:"special",onEnter:S,onSpace:S,stopSpaceKeyup:!0}),Jo("checkbox-events",[qn(Gi(),(Ae,Ne)=>{vo(Ae,vf,{name:o.name})})])])}),H=ca.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Oi(u.translate(o.label))],behaviours:pr([bC.config({})])}),K=Ae=>Wh(Ae==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+Ae]},u.icons),ye=la({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[K("checked"),K("unchecked")]});return ca.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[R,ye.asSpec(),H],fieldBehaviours:pr([ko.config({disabled:()=>!o.enabled||u.isDisabled()}),yl()])})},_Q=o=>o.presets==="presentation"?tg.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html}}):tg.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:o.html,attributes:{role:"document"}},containerBehaviours:pr([qa.config({}),Eo.config({})])}),kl=o=>(u,p,S,R)=>Bt(p,"name").fold(()=>o(p,R,L.none()),H=>u.field(H,o(p,R,Bt(S,H)))),RQ=o=>(u,p,S,R)=>{const H=Ta(p,{source:"dynamic"});return kl(o)(u,H,S,R)},fK={bar:kl((o,u)=>UG(o,u.shared)),collection:kl((o,u,p)=>JG(o,u.shared.providers,p)),alertbanner:kl((o,u)=>MQ(o,u.shared.providers)),input:kl((o,u,p)=>rQ(o,u.shared.providers,p)),textarea:kl((o,u,p)=>oQ(o,u.shared.providers,p)),label:kl((o,u)=>pq(o,u.shared)),iframe:RQ((o,u,p)=>dq(o,u.shared.providers,p)),button:kl((o,u)=>tK(o,u.shared.providers)),checkbox:kl((o,u,p)=>EQ(o,u.shared.providers,p)),colorinput:kl((o,u,p)=>sj(o,u.shared,u.colorinput,p)),colorpicker:kl((o,u,p)=>sq(o,u.shared.providers,p)),dropzone:kl((o,u,p)=>MB(o,u.shared.providers,p)),grid:kl((o,u)=>cq(o,u.shared)),listbox:kl((o,u,p)=>wq(o,u,p)),selectbox:kl((o,u,p)=>kq(o,u.shared.providers,p)),sizeinput:kl((o,u)=>Pq(o,u.shared.providers)),slider:kl((o,u,p)=>eQ(o,u.shared.providers,p)),urlinput:kl((o,u,p)=>PQ(o,u,u.urlinput,p)),customeditor:kl(PB),htmlpanel:kl(_Q),imagepreview:kl((o,u,p)=>gq(o,p)),table:kl((o,u)=>tQ(o,u.shared.providers)),tree:kl((o,u)=>Zq(o,u)),panel:kl((o,u)=>m9(o,u))},dK={field:(o,u)=>u,record:Q([])},em=(o,u,p,S)=>{const R=Ta(S,{shared:{interpreter:H=>Bx(o,H,p,R)}});return Bx(o,u,p,R)},Bx=(o,u,p,S)=>Bt(fK,u.type).fold(()=>(console.error(`Unknown factory type "${u.type}", defaulting to container: `,u),u),R=>R(o,u,p,S)),$C=(o,u,p)=>Bx(dK,o,u,p),T0="layout-inset",LC=o=>o.x,DQ=(o,u)=>o.x+o.width/2-u.width/2,IC=(o,u)=>o.x+o.width-u.width,PA=o=>o.y,NC=(o,u)=>o.y+o.height-u.height,$Q=(o,u)=>o.y+o.height/2-u.height/2,BC=(o,u,p)=>dl(IC(o,u),NC(o,u),p.insetSouthwest(),Ih(),"southwest",Ua(o,{right:0,bottom:3}),T0),QC=(o,u,p)=>dl(LC(o),NC(o,u),p.insetSoutheast(),v2(),"southeast",Ua(o,{left:1,bottom:3}),T0),qb=(o,u,p)=>dl(IC(o,u),PA(o),p.insetNorthwest(),xw(),"northwest",Ua(o,{right:0,top:2}),T0),FC=(o,u,p)=>dl(LC(o),PA(o),p.insetNortheast(),Yy(),"northeast",Ua(o,{left:1,top:2}),T0),tm=(o,u,p)=>dl(DQ(o,u),PA(o),p.insetNorth(),Bm(),"north",Ua(o,{top:2}),T0),Qx=(o,u,p)=>dl(DQ(o,u),NC(o,u),p.insetSouth(),l7(),"south",Ua(o,{bottom:3}),T0),LQ=(o,u,p)=>dl(IC(o,u),$Q(o,u),p.insetEast(),Xy(),"east",Ua(o,{right:0}),T0),IQ=(o,u,p)=>dl(LC(o),$Q(o,u),p.insetWest(),Nn(),"west",Ua(o,{left:1}),T0),NQ=o=>{switch(o){case"north":return tm;case"northeast":return FC;case"northwest":return qb;case"south":return Qx;case"southeast":return QC;case"southwest":return BC;case"east":return LQ;case"west":return IQ}},R9=(o,u,p,S,R)=>L5(S).map(NQ).getOr(tm)(o,u,p,S,R),hK=o=>{switch(o){case"north":return Qx;case"northeast":return QC;case"northwest":return BC;case"south":return tm;case"southeast":return FC;case"southwest":return qb;case"east":return IQ;case"west":return LQ}},mK=(o,u,p,S,R)=>L5(S).map(hK).getOr(tm)(o,u,p,S,R),VC={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},gK=(o,u,p)=>{const R={maxHeightFunction:N1()},H=()=>({type:"node",root:Xs(ns(o())),node:L.from(o()),bubble:Bh(12,12,VC),layouts:{onRtl:()=>[FC],onLtr:()=>[qb]},overrides:R}),K=()=>({type:"hotspot",hotspot:u(),bubble:Bh(-12,12,VC),layouts:{onRtl:()=>[hl,nc,ml],onLtr:()=>[nc,hl,ml]},overrides:R});return()=>p()?H():K()},BQ=(o,u,p,S)=>{const H={maxHeightFunction:N1()},K=()=>({type:"node",root:Xs(ns(u())),node:L.from(u()),bubble:Bh(12,12,VC),layouts:{onRtl:()=>[tm],onLtr:()=>[tm]},overrides:H}),ye=()=>o?{type:"node",root:Xs(ns(u())),node:L.from(u()),bubble:Bh(0,-Wu(u()),VC),layouts:{onRtl:()=>[Ic],onLtr:()=>[Ic]},overrides:H}:{type:"hotspot",hotspot:p(),bubble:Bh(0,0,VC),layouts:{onRtl:()=>[Ic],onLtr:()=>[Ic]},overrides:H};return()=>S()?K():ye()},ng=(o,u,p)=>{const S=()=>({type:"node",root:Xs(ns(o())),node:L.from(o()),layouts:{onRtl:()=>[tm],onLtr:()=>[tm]}}),R=()=>({type:"hotspot",hotspot:u(),layouts:{onRtl:()=>[ml],onLtr:()=>[ml]}});return()=>p()?S():R()},D9=(o,u)=>()=>({type:"selection",root:u(),getSelection:()=>{const p=o.selection.getRng(),S=o.model.table.getSelectedCells();if(S.length>1){const R=S[0],H=S[S.length-1],K={firstCell:zt.fromDom(R),lastCell:zt.fromDom(H)};return L.some(K)}return L.some(Bl.range(zt.fromDom(p.startContainer),p.startOffset,zt.fromDom(p.endContainer),p.endOffset))}}),pK=o=>u=>({type:"node",root:o(),node:u}),vK=(o,u,p,S)=>{const R=hx(o),H=()=>zt.fromDom(o.getBody()),K=()=>zt.fromDom(o.getContentAreaContainer()),ye=()=>R||!S();return{inlineDialog:gK(K,u,ye),inlineBottomDialog:BQ(o.inline,K,p,ye),banner:ng(K,u,ye),cursor:D9(o,H),node:pK(H)}},yK=o=>(u,p)=>{gN(o)(u,p)},bK=o=>()=>cN(o),OK=o=>u=>I4(o,u),QQ=o=>u=>lN(o,u),FQ=o=>({colorPicker:yK(o),hasCustomColors:bK(o),getColors:OK(o),getColorCols:QQ(o)}),zce=o=>()=>hM(o),Zce=o=>({isDraggableModal:zce(o)}),zc=o=>{const u=G(yM(o)?"bottom":"top");return{isPositionedAtTop:()=>u.get()==="top",getDockingMode:u.get,setDockingMode:u.set}},MA=o=>En(o,"items"),VQ=o=>En(o,"format"),zC=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],xK=o=>vn(o,"items"),SK=o=>vn(o,"block"),wK=o=>vn(o,"inline"),CK=o=>vn(o,"selector"),zQ=o=>Te(o,(u,p)=>{if(xK(p)){const S=zQ(p.items);return{customFormats:u.customFormats.concat(S.customFormats),formats:u.formats.concat([{title:p.title,items:S.formats}])}}else if(wK(p)||SK(p)||CK(p)){const R=`custom-${h(p.name)?p.name:p.title.toLowerCase()}`;return{customFormats:u.customFormats.concat([{name:R,format:p}]),formats:u.formats.concat([{title:p.title,format:R,icon:p.icon}])}}else return{...u,formats:u.formats.concat(p)}},{customFormats:[],formats:[]}),TK=(o,u)=>{const p=zQ(u),S=R=>{le(R,H=>{o.formatter.has(H.name)||o.formatter.register(H.name,H.format)})};return o.formatter?S(p.customFormats):o.on("init",()=>{S(p.customFormats)}),p.formats},ZQ=o=>EL(o).map(u=>{const p=TK(o,u);return _L(o)?zC.concat(p):p}).getOr(zC),kK=o=>{const u=ct(o);return u.length===1&&xe(u,"title")},$9=(o,u,p)=>({...o,type:"formatter",isSelected:u(o.format),getStylePreview:p(o.format)}),ZC=(o,u,p,S)=>{const R=Ae=>$9(Ae,p,S),H=Ae=>{const Ne=ye(Ae.items);return{...Ae,type:"submenu",getStyleItems:Q(Ne)}},K=Ae=>{const Ne=h(Ae.name)?Ae.name:Kr(Ae.title),Ue=`custom-${Ne}`,Je={...Ae,type:"formatter",format:Ue,isSelected:p(Ue),getStylePreview:S(Ue)};return o.formatter.register(Ne,Je),Je},ye=Ae=>ne(Ae,Ne=>MA(Ne)?H(Ne):VQ(Ne)?R(Ne):kK(Ne)?{...Ne,type:"separator"}:K(Ne));return ye(u)},AK=o=>{const u=ye=>()=>o.formatter.match(ye),p=ye=>()=>{const Ae=o.formatter.get(ye);return Ae!==void 0?L.some({tag:Ae.length>0&&(Ae[0].inline||Ae[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(ye))}):L.none()},S=G([]),R=G([]),H=G(!1);return o.on("PreInit",ye=>{const Ae=ZQ(o),Ne=ZC(o,Ae,u,p);S.set(Ne)}),o.on("addStyleModifications",ye=>{const Ae=ZC(o,ye.items,u,p);R.set(Ae),H.set(ye.replace)}),{getData:()=>{const ye=H.get()?[]:S.get(),Ae=R.get();return ye.concat(Ae)}}},HQ=o=>k(o)&&o.nodeType===1,PK=Op.trim,L9=o=>u=>!!(HQ(u)&&(u.contentEditable===o||u.getAttribute("data-mce-contenteditable")===o)),MK=L9("true"),EK=L9("false"),I9=(o,u,p,S,R)=>({type:o,title:u,url:p,level:S,attach:R}),Hce=o=>{let u=o;for(;u=u.parentNode;){const p=u.contentEditable;if(p&&p!=="inherit")return MK(u)}return!1},Uce=(o,u)=>ne(pl(zt.fromDom(u),o),p=>p.dom),UQ=o=>o.innerText||o.textContent,_K=o=>o.id?o.id:Kr("h"),RK=o=>o&&o.nodeName==="A"&&(o.id||o.name)!==void 0,WQ=o=>RK(o)&&YQ(o),EA=o=>o&&/^(H[1-6])$/.test(o.nodeName),YQ=o=>Hce(o)&&!EK(o),DK=o=>EA(o)&&YQ(o),XQ=o=>EA(o)?parseInt(o.nodeName.substr(1),10):0,$K=o=>{var u;const p=_K(o),S=()=>{o.id=p};return I9("header",(u=UQ(o))!==null&&u!==void 0?u:"","#"+p,XQ(o),S)},LK=o=>{const u=o.id||o.name,p=UQ(o);return I9("anchor",p||"#"+u,"#"+u,0,M)},IK=o=>ne(Oe(o,DK),$K),NK=o=>ne(Oe(o,WQ),LK),N9=o=>Uce("h1,h2,h3,h4,h5,h6,a:not([href])",o),GQ=o=>PK(o.title).length>0,BK={find:o=>{const u=N9(o);return Oe(IK(u).concat(NK(u)),GQ)}},_A="tinymce-url-history",jQ=5,B9=o=>h(o)&&/^https?/.test(o),QK=o=>v(o)&&o.length<=jQ&&be(o,B9),HC=o=>c(o)&&Gt(o,u=>!QK(u)).isNone(),qQ=()=>{const o=g0.getItem(_A);if(o===null)return{};let u;try{u=JSON.parse(o)}catch(p){if(p instanceof SyntaxError)return console.log("Local storage "+_A+" was not valid JSON",p),{};throw p}return HC(u)?u:(console.log("Local storage "+_A+" was not valid format",u),{})},RA=o=>{if(!HC(o))throw new Error(`Bad format for history:
`+JSON.stringify(o));g0.setItem(_A,JSON.stringify(o))},FK=o=>{const u=qQ();return Bt(u,o).getOr([])},Q9=(o,u)=>{if(!B9(o))return;const p=qQ(),S=Bt(p,u).getOr([]),R=Oe(S,H=>H!==o);p[u]=[o].concat(R).slice(0,jQ),RA(p)},Fx=o=>!!o,KQ=o=>je(Op.makeMap(o,/[, ]/),Fx),F9=o=>L.from(IL(o)),JQ=o=>{const u=L.from(fM(o)).filter(Fx).map(KQ);return F9(o).fold(X,p=>u.fold(ie,S=>ct(S).length>0?S:!1))},eF=(o,u)=>{const p=JQ(o);return b(p)?p?F9(o):L.none():p[u]?F9(o):L.none()},tF=(o,u)=>eF(o,u).map(p=>S=>Vc.nu(R=>{const H=(ye,Ae)=>{if(!h(ye))throw new Error("Expected value to be string");if(Ae!==void 0&&!c(Ae))throw new Error("Expected meta to be a object");R({value:ye,meta:Ae})},K={filetype:u,fieldname:S.fieldname,...L.from(S.meta).getOr({})};p.call(o,H,S.value,K)})),nF=o=>L.from(o).filter(h).getOrUndefined(),V9=o=>dM(o)?L.some({targets:BK.find(o.getBody()),anchorTop:nF(i4(o)),anchorBottom:nF(BL(o))}):L.none(),DA=o=>L.from(uM(o)),VK=o=>({getHistory:FK,addToHistory:Q9,getLinkInformation:()=>V9(o),getValidationHandler:()=>DA(o),getUrlPicker:u=>tF(o,u)}),zK=(o,u,p,S)=>{const R=G(!1),H=zc(u),K={icons:()=>u.ui.registry.getAll().icons,menuItems:()=>u.ui.registry.getAll().menuItems,translate:vd.translate,isDisabled:()=>u.mode.isReadOnly()||!u.ui.isEnabled(),getOption:u.options.get},ye=VK(u),Ae=AK(u),Ne=FQ(u),Ue=Zce(u),Je=()=>R.get(),st=Dn=>R.set(Dn),ht={shared:{providers:K,anchors:vK(u,p,S,H.isPositionedAtTop),header:H},urlinput:ye,styles:Ae,colorinput:Ne,dialog:Ue,isContextMenuOpen:Je,setContextMenuState:st},At={...ht,shared:{...ht.shared,interpreter:Dn=>$C(Dn,{},At),getSink:o.popup}},qt={...ht,shared:{...ht.shared,interpreter:Dn=>$C(Dn,{},qt),getSink:o.dialog}};return{popup:At,dialog:qt}},Vx=(o,u,p)=>{const S=(Gn,Or)=>{le([u,...p],Mr=>{Mr.broadcastEvent(Gn,Or)})},R=(Gn,Or)=>{le([u,...p],Mr=>{Mr.broadcastOn([Gn],Or)})},H=Gn=>R(Jd(),{target:Gn.target}),K=n1(),ye=Bc(K,"touchstart",H),Ae=Bc(K,"touchmove",Gn=>S($y(),Gn)),Ne=Bc(K,"touchend",Gn=>S(WO(),Gn)),Ue=Bc(K,"mousedown",H),Je=Bc(K,"mouseup",Gn=>{Gn.raw.button===0&&R(f3(),{target:Gn.target})}),st=Gn=>R(Jd(),{target:zt.fromDom(Gn.target)}),ht=Gn=>{Gn.button===0&&R(f3(),{target:zt.fromDom(Gn.target)})},At=()=>{le(o.editorManager.get(),Gn=>{o!==Gn&&Gn.dispatch("DismissPopups",{relatedTarget:o})})},qt=Gn=>S(Ph(),Fw(Gn)),Dn=Gn=>{R(bv(),{}),S(Wd(),Fw(Gn))},mn=ns(zt.fromDom(o.getElement())),sn=w2(mn,"scroll",Gn=>{requestAnimationFrame(()=>{const Or=o.getContainer();if(Or!=null){const is=v0(o,u.element).map(Gr=>[Gr.element,...Gr.others]).getOr([]);we(is,Gr=>en(Gr,Gn.target))&&(o.dispatch("ElementScroll",{target:Gn.target.dom}),S(XO(),Gn))}})}),kn=()=>R(bv(),{}),Zn=Gn=>{Gn.state&&R(Jd(),{target:zt.fromDom(o.getContainer())})},mr=Gn=>{R(Jd(),{target:zt.fromDom(Gn.relatedTarget.getContainer())})};o.on("PostRender",()=>{o.on("click",st),o.on("tap",st),o.on("mouseup",ht),o.on("mousedown",At),o.on("ScrollWindow",qt),o.on("ResizeWindow",Dn),o.on("ResizeEditor",kn),o.on("AfterProgressState",Zn),o.on("DismissPopups",mr)}),o.on("remove",()=>{o.off("click",st),o.off("tap",st),o.off("mouseup",ht),o.off("mousedown",At),o.off("ScrollWindow",qt),o.off("ResizeWindow",Dn),o.off("ResizeEditor",kn),o.off("AfterProgressState",Zn),o.off("DismissPopups",mr),Ue.unbind(),ye.unbind(),Ae.unbind(),Ne.unbind(),Je.unbind(),sn.unbind()}),o.on("detach",()=>{le([u,...p],j1),le([u,...p],Gn=>Gn.destroy())})},Al=u6,Sp=Sk,rF=Q([Mn("shell",!1),er("makeItem"),Mn("setupItem",M),Ff.field("listBehaviours",[Uo])]),z9=pu({name:"items",overrides:()=>({behaviours:pr([Uo.config({})])})}),ZK=Q([z9]),HK=Q("CustomList"),UK=(o,u,p,S)=>{const R=(ye,Ae)=>{K(ye).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},Ne=>{const Ue=Uo.contents(Ne),Je=Ae.length,st=Je-Ue.length,ht=st>0?Be(st,()=>o.makeItem()):[],At=Ue.slice(Je);le(At,Dn=>Uo.remove(Ne,Dn)),le(ht,Dn=>Uo.append(Ne,Dn));const qt=Uo.contents(Ne);le(qt,(Dn,mn)=>{o.setupItem(ye,Dn,Ae[mn],mn)})})},H=o.shell?{behaviours:[Uo.config({})],components:[]}:{behaviours:[],components:u},K=ye=>o.shell?L.some(ye):Aa(ye,o,"items");return{uid:o.uid,dom:o.dom,components:H.components,behaviours:Qi(o.listBehaviours,H.behaviours),apis:{setItems:R}}},$A=mc({name:HK(),configFields:rF(),partFields:ZK(),factory:UK,apis:{setItems:(o,u,p)=>{o.setItems(u,p)}}}),zx=Q([er("dom"),Mn("shell",!0),rl("toolbarBehaviours",[Uo])]),WK=Q([pu({name:"groups",overrides:()=>({behaviours:pr([Uo.config({})])})})]),YK=(o,u,p,S)=>{const R=(ye,Ae)=>{H(ye).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},Ne=>{Uo.set(Ne,Ae)})},H=ye=>o.shell?L.some(ye):Aa(ye,o,"groups"),K=o.shell?{behaviours:[Uo.config({})],components:[]}:{behaviours:[],components:u};return{uid:o.uid,dom:o.dom,components:K.components,behaviours:Qi(o.toolbarBehaviours,K.behaviours),apis:{setGroups:R,refresh:M},domModification:{attributes:{role:"group"}}}},rg=mc({name:"Toolbar",configFields:zx(),partFields:WK(),factory:YK,apis:{setGroups:(o,u,p)=>{o.setGroups(u,p)}}}),XK=M,GK=X,Z9=Q([]);var jK=Object.freeze({__proto__:null,setup:XK,isDocked:GK,getBehaviours:Z9});const Kb=o=>(ln(Za(o,"position"),"fixed")?L.none():ar(o)).orThunk(()=>{const S=zt.fromTag("span");return Fn(o).bind(R=>{Yc(R,S);const H=ar(S);return Pc(S),H})}),sF=o=>Kb(o).map(Rl).getOrThunk(()=>Ns(0,0)),qK=(o,u)=>{const p=o.element;Pi(p,u.transitionClass),ja(p,u.fadeOutClass),Pi(p,u.fadeInClass),u.onShow(o)},H9=(o,u)=>{const p=o.element;Pi(p,u.transitionClass),ja(p,u.fadeInClass),Pi(p,u.fadeOutClass),u.onHide(o)},aF=(o,u)=>o.y<u.bottom&&o.bottom>u.y,iF=(o,u)=>o.y>=u.y,lF=(o,u)=>o.bottom<=u.bottom,U9=(o,u,p)=>({location:"top",leftX:u,topY:p.bounds.y-o.y}),W9=(o,u,p)=>({location:"bottom",leftX:u,bottomY:o.bottom-p.bounds.bottom}),Y9=o=>o.box.x-o.win.x,KK=(o,u,p)=>{const S=u.win,R=u.box,H=Y9(u);return Xe(o,K=>{switch(K){case"bottom":return lF(R,p.bounds)?L.none():L.some(W9(S,H,p));case"top":return iF(R,p.bounds)?L.none():L.some(U9(S,H,p));default:return L.none()}}).getOr({location:"no-dock"})},JK=(o,u,p)=>be(o,S=>{switch(S){case"bottom":return lF(u,p.bounds);case"top":return iF(u,p.bounds)}}),eJ=(o,u)=>{const p=u.optScrollEnv.fold(Q(o.bounds.y),S=>S.scrollElmTop+(o.bounds.y-S.currentScrollTop));return Ns(o.bounds.x,p)},tJ=(o,u)=>{const p=u.optScrollEnv.fold(Q(o.y),S=>o.y+S.currentScrollTop-S.scrollElmTop);return Ns(o.x,p)},cF=(o,u,p)=>p.getInitialPos().map(S=>{const R=eJ(S,u);return{box:ni(R.left,R.top,Ci(o),Ha(o)),location:S.location}}),uF=(o,u,p,S,R)=>{const H=tJ(u,p),K=ni(H.left,H.top,u.width,u.height);S.setInitialPos({style:Va(o),position:Fa(o,"position")||"static",bounds:K,location:R.location})},fF=(o,u,p,S,R)=>{S.getInitialPos().fold(()=>uF(o,u,p,S,R),()=>M)},X9=(o,u,p)=>p.getInitialPos().bind(S=>{var R;switch(p.clearInitialPos(),S.position){case"static":return L.some({morph:"static"});case"absolute":const H=Kb(o).getOr(ba()),K=hi(H),ye=(R=H.dom.scrollTop)!==null&&R!==void 0?R:0;return L.some({morph:"absolute",positionCss:uf("absolute",Bt(S.style,"left").map(Ae=>u.x-K.x),Bt(S.style,"top").map(Ae=>u.y-K.y+ye),Bt(S.style,"right").map(Ae=>K.right-u.right),Bt(S.style,"bottom").map(Ae=>K.bottom-u.bottom))});default:return L.none()}}),LA=(o,u,p)=>cF(o,u,p).filter(({box:S})=>JK(p.getModes(),S,u)).bind(({box:S})=>X9(o,S,p)),IA=o=>{switch(o.location){case"top":return L.some({morph:"fixed",positionCss:uf("fixed",L.some(o.leftX),L.some(o.topY),L.none(),L.none())});case"bottom":return L.some({morph:"fixed",positionCss:uf("fixed",L.some(o.leftX),L.none(),L.none(),L.some(o.bottomY))});default:return L.none()}},nJ=(o,u,p)=>{const S=hi(o),R=Xl(),H=KK(p.getModes(),{win:R,box:S},u);return H.location==="top"||H.location==="bottom"?(uF(o,S,u,p,H),IA(H)):L.none()},rJ=(o,u,p)=>LA(o,u,p).orThunk(()=>u.optScrollEnv.bind(S=>cF(o,u,p)).bind(({box:S,location:R})=>{const H=Xl(),K=Y9({win:H,box:S}),ye=R==="top"?U9(H,K,u):W9(H,K,u);return IA(ye)})),oJ=(o,u,p)=>{const S=o.element;return ln(Za(S,"position"),"fixed")?rJ(S,u,p):nJ(S,u,p)},sJ=(o,u,p)=>{const S=o.element;return cF(S,u,p).bind(({box:R})=>X9(S,R,p))},aJ=(o,u,p,S)=>{const R=hi(o),H=Xl(),K=Y9({win:H,box:R}),ye=S(H,K,u);return ye.location==="bottom"||ye.location==="top"?(fF(o,R,u,p,ye),IA(ye)):L.none()},dF=(o,u,p)=>{p.setDocked(!1),le(["left","right","top","bottom","position"],S=>Ho(o.element,S)),u.onUndocked(o)},G9=(o,u,p,S)=>{const R=S.position==="fixed";p.setDocked(R),D5(o.element,S),(R?u.onDocked:u.onUndocked)(o)},j9=(o,u,p,S,R=!1)=>{u.contextual.each(H=>{H.lazyContext(o).each(K=>{const ye=aF(K,S.bounds);ye!==p.isVisible()&&(p.setVisible(ye),R&&!ye?(si(o.element,[H.fadeOutClass]),H.onHide(o)):(ye?qK:H9)(o,H))})})},q9=(o,u,p,S,R)=>{j9(o,u,p,S,!0),G9(o,u,p,R.positionCss)},iJ=(o,u,p,S,R)=>{switch(R.morph){case"static":return dF(o,u,p);case"absolute":return G9(o,u,p,R.positionCss);case"fixed":return q9(o,u,p,S,R)}},hF=(o,u,p)=>{const S=u.lazyViewport(o);j9(o,u,p,S),oJ(o,S,p).each(R=>{iJ(o,u,p,S,R)})},lJ=(o,u,p)=>{const S=o.element;p.setDocked(!1);const R=u.lazyViewport(o);sJ(o,R,p).each(H=>{switch(H.morph){case"static":{dF(o,u,p);break}case"absolute":{G9(o,u,p,H.positionCss);break}}}),p.setVisible(!0),u.contextual.each(H=>{af(S,[H.fadeInClass,H.fadeOutClass,H.transitionClass]),H.onShow(o)}),NA(o,u,p)},NA=(o,u,p)=>{o.getSystem().isConnected()&&hF(o,u,p)},mF=(o,u,p)=>{p.isDocked()&&lJ(o,u,p)},k0=o=>(u,p,S)=>{const R=p.lazyViewport(u);aJ(u.element,R,S,o).each(K=>{q9(u,p,S,R,K)})},gF=k0(U9),UC=k0(W9);var pF=Object.freeze({__proto__:null,refresh:NA,reset:mF,isDocked:(o,u,p)=>p.isDocked(),getModes:(o,u,p)=>p.getModes(),setModes:(o,u,p,S)=>p.setModes(S),forceDockToTop:gF,forceDockToBottom:UC}),fJ=Object.freeze({__proto__:null,events:(o,u)=>_a([Mh(tl(),(p,S)=>{o.contextual.each(R=>{nl(p.element,R.transitionClass)&&(af(p.element,[R.transitionClass,R.fadeInClass]),(u.isVisible()?R.onShown:R.onHidden)(p)),S.stop()})}),qn(Ph(),(p,S)=>{NA(p,o,u)}),qn(XO(),(p,S)=>{NA(p,o,u)}),qn(Wd(),(p,S)=>{mF(p,o,u)})])}),dJ=[Ec("contextual",[zs("fadeInClass"),zs("fadeOutClass"),zs("transitionClass"),nf("lazyContext"),Ds("onShow"),Ds("onShown"),Ds("onHide"),Ds("onHidden")]),Li("lazyViewport",()=>({bounds:Xl(),optScrollEnv:L.none()})),Rc("modes",["top","bottom"],cl),Ds("onDocked"),Ds("onUndocked")],hJ=Object.freeze({__proto__:null,init:o=>{const u=G(!1),p=G(!0),S=ps(),R=G(o.modes),H=()=>`docked:  ${u.get()}, visible: ${p.get()}, modes: ${R.get().join(",")}`;return Mu({isDocked:u.get,setDocked:u.set,getInitialPos:S.get,setInitialPos:S.set,clearInitialPos:S.clear,isVisible:p.get,setVisible:p.set,getModes:R.get,setModes:R.set,readState:H})}});const Fi=gl({fields:dJ,name:"docking",active:fJ,apis:pF,state:hJ}),A0=Q(Kr("toolbar-height-change")),wd={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},BA="tox-tinymce--toolbar-sticky-on",vF="tox-tinymce--toolbar-sticky-off",mJ=(o,u)=>{const p=Cn(u),R=Jn(u).dom.innerHeight,H=Ll(p),K=zt.fromDom(o.elm),ye=Au(K),Ae=Ha(K),Ne=ye.y,Ue=Ne+Ae,Je=Rl(u),st=Ha(u),ht=Je.top,At=ht+st,qt=Math.abs(ht-H.top)<2,Dn=Math.abs(At-(H.top+R))<2;if(qt&&Ne<At)qu(H.left,Ne-st,p);else if(Dn&&Ue>ht){const mn=Ne-R+Ae+st;qu(H.left,mn,p)}},Zx=(o,u)=>xe(Fi.getModes(o),u),J9=o=>{const u=S=>Wu(S)+(parseInt(Fa(S,"margin-top"),10)||0)+(parseInt(Fa(S,"margin-bottom"),10)||0),p=o.element;dr(p).each(S=>{const R="padding-"+Fi.getModes(o)[0];if(Fi.isDocked(o)){const H=Ci(S);Mo(p,"width",H+"px"),Mo(S,R,u(p)+"px")}else Ho(p,"width"),Ho(S,R)})},Hx=(o,u)=>{u?(ja(o,wd.fadeOutClass),si(o,[wd.transitionClass,wd.fadeInClass])):(ja(o,wd.fadeInClass),si(o,[wd.fadeOutClass,wd.transitionClass]))},e_=(o,u)=>{const p=zt.fromDom(o.getContainer());u?(Pi(p,BA),ja(p,vF)):(Pi(p,vF),ja(p,BA))},gJ=(o,u)=>{const p=Cn(u);Nh(p).filter(S=>!en(u,S)).filter(S=>en(S,zt.fromDom(p.dom.body))||on(o,S)).each(()=>mu(u))},pJ=(o,u)=>fd(o).orThunk(()=>u().toOptional().bind(p=>fd(p.element))),vJ=(o,u,p)=>{o.inline||(u.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{p().each(Fi.reset)}),o.on("ResizeWindow ResizeEditor",()=>{p().each(J9)}),o.on("SkinLoaded",()=>{p().each(S=>{Fi.isDocked(S)?Fi.reset(S):Fi.refresh(S)})}),o.on("FullscreenStateChanged",()=>{p().each(Fi.reset)})),o.on("AfterScrollIntoView",S=>{p().each(R=>{Fi.refresh(R);const H=R.element;nx(H)&&mJ(S,H)})}),o.on("PostRender",()=>{e_(o,!1)})},yJ=o=>o().map(Fi.isDocked).getOr(!1),bJ=()=>[hu.config({channels:{[A0()]:{onReceive:J9}}})],yF=(o,u)=>{const p=ps(),S=u.getSink,R=ye=>{S().each(Ae=>ye(Ae.element))},H=ye=>{o.inline||J9(ye),e_(o,Fi.isDocked(ye)),ye.getSystem().broadcastOn([bv()],{}),S().each(Ae=>Ae.getSystem().broadcastOn([bv()],{}))},K=o.inline?[]:bJ();return[Eo.config({}),Fi.config({contextual:{lazyContext:ye=>{const Ae=Wu(ye.element),Ne=o.inline?o.getContentAreaContainer():o.getContainer();return L.from(Ne).map(Ue=>{const Je=hi(zt.fromDom(Ue));return v0(o,ye.element).fold(()=>{const ht=Je.height-Ae,At=Je.y+(Zx(ye,"top")?0:Ae);return ni(Je.x,At,Je.width,ht)},ht=>{const At=Sy(Je,kx(ht)),qt=Zx(ye,"top")?At.y:At.y+Ae;return ni(At.x,qt,At.width,At.height-Ae)})})},onShow:()=>{R(ye=>Hx(ye,!0))},onShown:ye=>{R(Ae=>af(Ae,[wd.transitionClass,wd.fadeInClass])),p.get().each(Ae=>{gJ(ye.element,Ae),p.clear()})},onHide:ye=>{pJ(ye.element,S).fold(p.clear,p.set),R(Ae=>Hx(Ae,!1))},onHidden:()=>{R(ye=>af(ye,[wd.transitionClass]))},...wd},lazyViewport:ye=>v0(o,ye.element).fold(()=>{const Ne=Xl(),Ue=s4(o),Je=Ne.y+(Zx(ye,"top")?Ue:0),st=Ne.height-(Zx(ye,"bottom")?Ue:0);return{bounds:ni(Ne.x,Je,Ne.width,st),optScrollEnv:L.none()}},Ne=>({bounds:kx(Ne),optScrollEnv:L.some({currentScrollTop:Ne.element.dom.scrollTop,scrollElmTop:Rl(Ne.element).top})})),modes:[u.header.getDockingMode()],onDocked:H,onUndocked:H}),...K]};var bF=Object.freeze({__proto__:null,setup:vJ,isDocked:yJ,getBehaviours:yF});const OF=o=>{const u=o.editor,p=o.sticky?yF:Z9;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:pr(p(u,o.sharedBackstage))}},t_=uo([qi,Gc("items",Xr([Fd([IM,cc("items",cl)]),cl]))].concat(Ox)),OJ=o=>ma("GroupToolbarButton",t_,o),QA=[fl("text"),fl("tooltip"),fl("icon"),_c("search",!1,Xr([Lf,uo([fl("placeholder")])],o=>b(o)?o?L.some({placeholder:L.none()}):L.none():L.some(o))),nf("fetch"),Li("onSetup",()=>M)],WC=uo([qi,...QA]),n_=o=>ma("menubutton",WC,o),xJ=uo([qi,nC,yd,fp,QM,cI,d0,jc("presets","normal",["normal","color","listpreview"]),dI(1),yx,tX]),SJ=o=>ma("SplitButton",xJ,o);var r_=Lu({factory:(o,u)=>{const p=(R,H)=>{const K=ne(H,ye=>{const Ae={type:"menubutton",text:ye.text,fetch:Ue=>{Ue(ye.getItems())}},Ne=n_(Ae).mapError(Ue=>jl(Ue)).getOrDie();return RC(Ne,"tox-mbtn",u.backstage,L.some("menuitem"))});Uo.set(R,K)},S={focus:yo.focusIn,setMenus:p};return{uid:o.uid,dom:o.dom,components:[],behaviours:pr([Uo.config({}),Jo("menubar-events",[ka(R=>{o.onSetup(R)}),qn(Lr(),(R,H)=>{Mi(R.element,".tox-mbtn--active").each(K=>{Xd(H.event.target,".tox-mbtn").each(ye=>{en(K,ye)||R.getSystem().getByDom(K).each(Ae=>{R.getSystem().getByDom(ye).each(Ne=>{ah.expand(Ne),ah.close(Ae),Eo.focus(Ne)})})})})}),qn(YO(),(R,H)=>{H.event.prevFocus.bind(K=>R.getSystem().getByDom(K).toOptional()).each(K=>{H.event.newFocus.bind(ye=>R.getSystem().getByDom(ye).toOptional()).each(ye=>{ah.isOpen(K)&&(ah.expand(ye),ah.close(K))})})})]),yo.config({mode:"flow",selector:".tox-mbtn",onEscape:R=>(o.onEscape(R),L.some(!0))}),qa.config({})]),apis:S,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[er("dom"),er("uid"),er("onEscape"),er("backstage"),Mn("onSetup",M)],apis:{focus:(o,u)=>{o.focus(u)},setMenus:(o,u,p)=>{o.setMenus(u,p)}}});const o_="⚡️Upgrade",s_="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",wJ=o=>({uid:o.uid,dom:o.dom,components:[{dom:{tag:"a",attributes:{href:s_,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:o_}}]}),FA="container",CJ=[rl("slotBehaviours",[])],xF=o=>"<alloy.field."+o+">",TJ=o=>{const u=(()=>{const H=[];return{slot:(ye,Ae)=>(H.push(ye),y3(FA,xF(ye),Ae)),record:Q(H)}})(),p=o(u),S=u.record(),R=ne(S,H=>hc({name:H,pname:xF(H)}));return T3(FA,CJ,R,kJ,p)},kJ=(o,u)=>{const p=qt=>x3(o),S=(qt,Dn)=>Aa(qt,o,Dn),R=(qt,Dn)=>(mn,sn)=>Aa(mn,o,sn).map(kn=>qt(kn,sn)).getOr(Dn),H=qt=>(Dn,mn)=>{le(mn,sn=>qt(Dn,sn))},K=(qt,Dn)=>sa(qt.element,"aria-hidden")!=="true",ye=(qt,Dn)=>{if(!K(qt)){const mn=qt.element;Ho(mn,"display"),aa(mn,"aria-hidden"),vo(qt,Ly(),{name:Dn,visible:!0})}},Ae=(qt,Dn)=>{if(K(qt)){const mn=qt.element;Mo(mn,"display","none"),Dr(mn,"aria-hidden","true"),vo(qt,Ly(),{name:Dn,visible:!1})}},Ne=R(K,!1),Ue=R(Ae),Je=H(Ue),st=qt=>Je(qt,p()),ht=R(ye),At={getSlotNames:p,getSlot:S,isShowing:Ne,hideSlot:Ue,hideAllSlots:st,showSlot:ht};return{uid:o.uid,dom:o.dom,components:u,behaviours:Um(o.slotBehaviours),apis:At}},xu={...je({getSlotNames:(o,u)=>o.getSlotNames(u),getSlot:(o,u,p)=>o.getSlot(u,p),isShowing:(o,u,p)=>o.isShowing(u,p),hideSlot:(o,u,p)=>o.hideSlot(u,p),hideAllSlots:(o,u)=>o.hideAllSlots(u),showSlot:(o,u,p)=>o.showSlot(u,p)},o=>iv(o)),sketch:TJ},qce=uo([yd,nC,Li("onShow",M),Li("onHide",M),d0]),SF=o=>ma("sidebar",qce,o),AJ=o=>{const{sidebars:u}=o.ui.registry.getAll();le(ct(u),p=>{const S=u[p],R=()=>ln(L.from(o.queryCommandValue("ToggleSidebar")),p);o.ui.registry.addToggleButton(p,{icon:S.icon,tooltip:S.tooltip,onAction:H=>{o.execCommand("ToggleSidebar",!1,p),H.setActive(R())},onSetup:H=>{H.setActive(R());const K=()=>H.setActive(R());return o.on("ToggleSidebar",K),()=>{o.off("ToggleSidebar",K)}}})})},wF=o=>({element:()=>o.element.dom}),PJ=(o,u)=>{const p=ne(ct(u),S=>{const R=u[S],H=ia(SF(R));return{name:S,getApi:wF,onSetup:H.onSetup,onShow:H.onShow,onHide:H.onHide}});return ne(p,S=>{const R=G(M);return o.slot(S.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:sC.unnamedEvents([h0(S,R),hp(S,R),qn(Ly(),(H,K)=>{const ye=K.event;Ve(p,Ne=>Ne.name===ye.name).each(Ne=>{(ye.visible?Ne.onShow:Ne.onHide)(Ne.getApi(H))})})])})})},MJ=o=>xu.sketch(u=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:PJ(u,o),slotBehaviours:sC.unnamedEvents([ka(p=>xu.hideAllSlots(p))])})),EJ=(o,u,p)=>{Cs.getCurrent(o).each(R=>{Uo.set(R,[MJ(u)]);const H=p==null?void 0:p.toLowerCase();h(H)&&vn(u,H)&&Cs.getCurrent(R).each(K=>{xu.showSlot(K,H),Uf.immediateGrow(R),Ho(R.element,"width"),VA(o.element,"region")})})},VA=(o,u)=>{Dr(o,"role",u)},_J=(o,u)=>{Cs.getCurrent(o).each(S=>{Cs.getCurrent(S).each(H=>{Uf.hasGrown(S)?xu.isShowing(H,u)?(Uf.shrink(S),VA(o.element,"presentation")):(xu.hideAllSlots(H),xu.showSlot(H,u),VA(o.element,"region")):(xu.hideAllSlots(H),xu.showSlot(H,u),Uf.grow(S),VA(o.element,"region"))})})},CF=o=>Cs.getCurrent(o).bind(p=>Uf.isGrowing(p)||Uf.hasGrown(p)?Cs.getCurrent(p).bind(H=>Ve(xu.getSlotNames(H),K=>xu.isShowing(H,K))):L.none()),a_=Kr("FixSizeEvent"),i_=Kr("AutoSizeEvent"),RJ=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pr([qa.config({}),Eo.config({}),Uf.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:u=>{Cs.getCurrent(u).each(xu.hideAllSlots),As(u,i_)},onGrown:u=>{As(u,i_)},onStartGrow:u=>{vo(u,a_,{width:Za(u.element,"width").getOr("")})},onStartShrink:u=>{vo(u,a_,{width:Ci(u.element)+"px"})}}),Uo.config({}),Cs.config({find:u=>{const p=Uo.contents(u);return ke(p)}})])}],behaviours:pr([Hf.childAt(0),Jo("sidebar-sliding-events",[qn(a_,(u,p)=>{Mo(u.element,"width",p.event.width)}),qn(i_,(u,p)=>{Ho(u.element,"width")})])])});var TF=Object.freeze({__proto__:null,block:(o,u,p,S)=>{Dr(o.element,"aria-busy",!0);const R=u.getRoot(o).getOr(o),H=pr([yo.config({mode:"special",onTab:()=>L.some(!0),onShiftTab:()=>L.some(!0)}),Eo.config({})]),K=S(R,H),ye=R.getSystem().build(K);Uo.append(R,lf(ye)),ye.hasConfigured(yo)&&u.focus&&yo.focusIn(ye),p.isBlocked()||u.onBlock(o),p.blockWith(()=>Uo.remove(R,ye))},unblock:(o,u,p)=>{aa(o.element,"aria-busy"),p.isBlocked()&&u.onUnblock(o),p.clear()},isBlocked:(o,u,p)=>p.isBlocked()}),$J=[Li("getRoot",L.none),Xi("focus",!0),Ds("onBlock"),Ds("onUnblock")],Cd=Object.freeze({__proto__:null,init:()=>{const o=x7(),u=p=>{o.set({destroy:p})};return Mu({readState:o.isSet,blockWith:u,clear:o.clear,isBlocked:o.isSet})}});const og=gl({fields:$J,name:"blocking",apis:TF,state:Cd}),kF=o=>(u,p)=>({dom:{tag:"div",attributes:{"aria-label":o.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Av('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),l_=o=>Cs.getCurrent(o).each(u=>mu(u.element,!0)),LJ=(o,u)=>{const p="tabindex",S=`data-mce-${p}`;L.from(o.iframeElement).map(zt.fromDom).each(R=>{u?($i(R,p).each(H=>Dr(R,S,H)),Dr(R,p,-1)):(aa(R,p),$i(R,S).each(H=>{Dr(R,p,H),aa(R,S)}))})},YC=(o,u,p,S)=>{const R=u.element;if(LJ(o,p),p)og.block(u,kF(S)),Ho(R,"display"),aa(R,"aria-hidden"),o.hasFocus()&&l_(u);else{const H=Cs.getCurrent(u).exists(K=>Ky(K.element));og.unblock(u),Mo(R,"display","none"),Dr(R,"aria-hidden","true"),H&&o.focus()}},IJ=o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pr([Uo.config({}),og.config({focus:!1}),Cs.config({find:u=>ke(u.components())})]),components:[]}),zA=o=>o.type==="focusin",NJ=o=>zA(o)?(o.composed?ke(o.composedPath()):L.from(o.target)).map(zt.fromDom).filter(St).exists(p=>nl(p,"mce-pastebin")):!1,ZA=(o,u,p)=>{const S=G(!1),R=ps(),H=ye=>{S.get()&&!NJ(ye)&&(ye.preventDefault(),l_(u()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",H),o.on("BeforeExecCommand",ye=>{ye.command.toLowerCase()==="mcefocus"&&ye.value!==!0&&H(ye)})});const K=ye=>{ye!==S.get()&&(S.set(ye),YC(o,u(),ye,p.providers),eN(o,ye))};o.on("ProgressState",ye=>{if(R.on(clearTimeout),C(ye.time)){const Ae=Nb.setEditorTimeout(o,()=>K(ye.state),ye.time);R.set(Ae)}else K(ye.state),R.clear()})},BJ=(o,u)=>Te(o,(R,H)=>u(H,R.len).fold(Q(R),ye=>({len:ye.finish,list:R.list.concat([ye])})),{len:0,list:[]}).list,c_=(o,u,p)=>({within:o,extra:u,withinWidth:p}),Td=(o,u,p)=>{const S=BJ(o,(ye,Ae)=>{const Ne=p(ye);return L.some({element:ye,start:Ae,finish:Ae+Ne,width:Ne})}),R=Oe(S,ye=>ye.finish<=u),H=Le(R,(ye,Ae)=>ye+Ae.width,0),K=S.slice(R.length);return{within:R,extra:K,withinWidth:H}},HA=o=>ne(o,u=>u.element),UA=(o,u,p)=>{const S=HA(o.concat(u));return c_(S,[],p)},AF=(o,u,p,S)=>{const R=HA(o).concat([p]);return c_(R,HA(u),S)},PF=(o,u,p)=>c_(HA(o),[],p),QJ=(o,u,p)=>{const S=Td(u,o,p);return S.extra.length===0?L.some(S):L.none()},MF=(o,u,p,S)=>{const R=QJ(o,u,p).getOrThunk(()=>Td(u,o-p(S),p)),H=R.within,K=R.extra,ye=R.withinWidth;return K.length===1&&K[0].width<=p(S)?UA(H,K,ye):K.length>=1?AF(H,K,S,ye):PF(H,K,ye)},EF=(o,u)=>{const p=ne(u,S=>lf(S));rg.setGroups(o,p)},FJ=o=>Xe(o,u=>fd(u.element).bind(p=>u.getSystem().getByDom(p).toOptional())),_F=(o,u,p)=>{const S=u.builtGroups.get();if(S.length===0)return;const R=Ym(o,u,"primary"),H=_i.getCoupled(o,"overflowGroup");Mo(R.element,"visibility","hidden");const K=S.concat([H]),ye=FJ(K);p([]),EF(R,K);const Ae=Ci(R.element),Ne=MF(Ae,u.builtGroups.get(),Ue=>Ci(Ue.element),H);Ne.extra.length===0?(Uo.remove(R,H),p([])):(EF(R,Ne.within),p(Ne.extra)),Ho(R.element,"visibility"),fi(R.element),ye.each(Eo.focus)},RF=Q([rl("splitToolbarBehaviours",[_i]),ri("builtGroups",()=>G([]))]),VJ=Q([Hg(["overflowToggledClass"]),od("getOverflowBounds"),er("lazySink"),ri("overflowGroups",()=>G([])),Ds("onOpened"),Ds("onClosed")].concat(RF())),zJ=Q([hc({factory:rg,schema:zx(),name:"primary"}),md({schema:zx(),name:"overflow"}),md({name:"overflow-button"}),md({name:"overflow-group"})]),u_=Q((o,u)=>{WS(o,Math.floor(u))}),DF=Q([Hg(["toggledClass"]),er("lazySink"),nf("fetch"),od("getBounds"),Ec("fireDismissalEventInstead",[Mn("event",Ng())]),Yg(),Ds("onToggled")]),$F=Q([md({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pr([as.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),md({factory:rg,schema:zx(),name:"toolbar",overrides:o=>({toolbarBehaviours:pr([yo.config({mode:"cyclic",onEscape:u=>(Aa(u,o,"button").each(Eo.focus),L.none())})])})})]),XC=ps(),ZJ=(o,u)=>{XC.set(!0),f_(o,u),XC.clear()},f_=(o,u)=>{const p=_i.getCoupled(o,"toolbarSandbox");Ps.isOpen(p)?Ps.close(p):Ps.open(p,u.toolbar())},WA=(o,u,p,S)=>{const R=p.getBounds.map(K=>K()),H=p.lazySink(o).getOrDie();dc.positionWithinBounds(H,u,{anchor:{type:"hotspot",hotspot:o,layouts:S,overrides:{maxWidthFunction:u_()}}},R)},d_=(o,u,p,S,R)=>{rg.setGroups(u,R),WA(o,u,p,S),as.on(o)},LF=(o,u,p)=>{const S=uv(),R=(K,ye)=>{const Ae=XC.get().getOr(!1);p.fetch().get(Ne=>{d_(o,ye,p,u.layouts,Ne),S.link(o.element),Ae||yo.focusIn(ye)})},H=()=>{as.off(o),XC.get().getOr(!1)||Eo.focus(o),S.unlink(o.element)};return{dom:{tag:"div",attributes:{id:S.id}},behaviours:pr([yo.config({mode:"special",onEscape:K=>(Ps.close(K),L.some(!0))}),Ps.config({onOpen:R,onClose:H,isPartOf:(K,ye,Ae)=>Nm(ye,Ae)||Nm(o,Ae),getAttachPoint:()=>p.lazySink(o).getOrDie()}),hu.config({channels:{...gb({isExtraPart:X,...p.fireDismissalEventInstead.map(K=>({fireEventInstead:{event:K.event}})).getOr({})}),...q1({doReposition:()=>{Ps.getState(_i.getCoupled(o,"toolbarSandbox")).each(K=>{WA(o,K,p,u.layouts)})}})}})])}},P0=mc({name:"FloatingToolbarButton",factory:(o,u,p,S)=>({...Fl.sketch({...S.button(),action:R=>{f_(R,S)},buttonBehaviours:Ff.augment({dump:S.button().buttonBehaviours},[_i.config({others:{toolbarSandbox:R=>LF(R,p,o)}})])}),apis:{setGroups:(R,H)=>{Ps.getState(_i.getCoupled(R,"toolbarSandbox")).each(K=>{d_(R,K,o,p.layouts,H)})},reposition:R=>{Ps.getState(_i.getCoupled(R,"toolbarSandbox")).each(H=>{WA(R,H,o,p.layouts)})},toggle:R=>{f_(R,S)},toggleWithoutFocusing:R=>{ZJ(R,S)},getToolbar:R=>Ps.getState(_i.getCoupled(R,"toolbarSandbox")),isOpen:R=>Ps.isOpen(_i.getCoupled(R,"toolbarSandbox"))}}),configFields:DF(),partFields:$F(),apis:{setGroups:(o,u,p)=>{o.setGroups(u,p)},reposition:(o,u)=>{o.reposition(u)},toggle:(o,u)=>{o.toggle(u)},toggleWithoutFocusing:(o,u)=>{o.toggleWithoutFocusing(u)},getToolbar:(o,u)=>o.getToolbar(u),isOpen:(o,u)=>o.isOpen(u)}}),HJ=Q([er("items"),Hg(["itemSelector"]),rl("tgroupBehaviours",[yo])]),IF=Q([Cb({name:"items",unit:"item"})]),UJ=(o,u,p,S)=>({uid:o.uid,dom:o.dom,components:u,behaviours:Qi(o.tgroupBehaviours,[yo.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),YA=mc({name:"ToolbarGroup",configFields:HJ(),partFields:IF(),factory:UJ}),NF=o=>ne(o,u=>lf(u)),BF=(o,u,p)=>{_F(o,p,S=>{p.overflowGroups.set(S),u.getOpt(o).each(R=>{P0.setGroups(R,NF(S))})})},WJ=(o,u,p,S)=>{const R=la(P0.sketch({fetch:()=>Vc.nu(H=>{H(NF(o.overflowGroups.get()))}),layouts:{onLtr:()=>[nc,hl],onRtl:()=>[hl,nc],onBottomLtr:()=>[fc,Jc],onBottomRtl:()=>[Jc,fc]},getBounds:p.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:S["overflow-button"](),toolbar:S.overflow()},onToggled:(H,K)=>o[K?"onOpened":"onClosed"](H)}));return{uid:o.uid,dom:o.dom,components:u,behaviours:Qi(o.splitToolbarBehaviours,[_i.config({others:{overflowGroup:()=>YA.sketch({...S["overflow-group"](),items:[R.asSpec()]})}})]),apis:{setGroups:(H,K)=>{o.builtGroups.set(ne(K,H.getSystem().build)),BF(H,R,o)},refresh:H=>BF(H,R,o),toggle:H=>{R.getOpt(H).each(K=>{P0.toggle(K)})},toggleWithoutFocusing:H=>{R.getOpt(H).each(P0.toggleWithoutFocusing)},isOpen:H=>R.getOpt(H).map(P0.isOpen).getOr(!1),reposition:H=>{R.getOpt(H).each(K=>{P0.reposition(K)})},getOverflow:H=>R.getOpt(H).bind(P0.getToolbar)},domModification:{attributes:{role:"group"}}}},QF=mc({name:"SplitFloatingToolbar",configFields:VJ(),partFields:zJ(),factory:WJ,apis:{setGroups:(o,u,p)=>{o.setGroups(u,p)},refresh:(o,u)=>{o.refresh(u)},reposition:(o,u)=>{o.reposition(u)},toggle:(o,u)=>{o.toggle(u)},toggleWithoutFocusing:(o,u)=>{o.toggle(u)},isOpen:(o,u)=>o.isOpen(u),getOverflow:(o,u)=>o.getOverflow(u)}}),YJ=Q([Hg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ds("onOpened"),Ds("onClosed")].concat(RF())),XJ=Q([hc({factory:rg,schema:zx(),name:"primary"}),hc({factory:rg,schema:zx(),name:"overflow",overrides:o=>({toolbarBehaviours:pr([Uf.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:u=>{Aa(u,o,"overflow-button").each(p=>{as.off(p),Eo.focus(p)}),o.onClosed(u)},onGrown:u=>{yo.focusIn(u),o.onOpened(u)},onStartGrow:u=>{Aa(u,o,"overflow-button").each(as.on)}}),yo.config({mode:"acyclic",onEscape:u=>(Aa(u,o,"overflow-button").each(Eo.focus),L.some(!0))})])})}),md({name:"overflow-button",overrides:o=>({buttonBehaviours:pr([as.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),md({name:"overflow-group"})]),GJ=(o,u)=>Aa(o,u,"overflow").map(Uf.hasGrown).getOr(!1),FF=(o,u)=>{Aa(o,u,"overflow-button").bind(()=>Aa(o,u,"overflow")).each(p=>{XA(o,u),Uf.toggleGrow(p)})},XA=(o,u)=>{Aa(o,u,"overflow").each(p=>{_F(o,u,S=>{const R=ne(S,H=>lf(H));rg.setGroups(p,R)}),Aa(o,u,"overflow-button").each(S=>{Uf.hasGrown(p)&&as.on(S)}),Uf.refresh(p)})},jJ=(o,u,p,S)=>{const R="alloy.toolbar.toggle",H=(K,ye)=>{const Ae=ne(ye,K.getSystem().build);o.builtGroups.set(Ae)};return{uid:o.uid,dom:o.dom,components:u,behaviours:Qi(o.splitToolbarBehaviours,[_i.config({others:{overflowGroup:K=>YA.sketch({...S["overflow-group"](),items:[Fl.sketch({...S["overflow-button"](),action:ye=>{As(K,R)}})]})}}),Jo("toolbar-toggle-events",[qn(R,K=>{FF(K,o)})])]),apis:{setGroups:(K,ye)=>{H(K,ye),XA(K,o)},refresh:K=>XA(K,o),toggle:K=>FF(K,o),isOpen:K=>GJ(K,o)},domModification:{attributes:{role:"group"}}}},h_=mc({name:"SplitSlidingToolbar",configFields:YJ(),partFields:XJ(),factory:jJ,apis:{setGroups:(o,u,p)=>{o.setGroups(u,p)},refresh:(o,u)=>{o.refresh(u)},toggle:(o,u)=>{o.toggle(u)},isOpen:(o,u)=>o.isOpen(u)}}),GA=o=>{const u=o.title.fold(()=>({}),p=>({attributes:{title:p}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...u},components:[YA.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:pr([qa.config({}),Eo.config({})])}},jA=o=>YA.sketch(GA(o)),GC=(o,u)=>{const p=ka(S=>{const R=ne(o.initGroups,jA);rg.setGroups(S,R)});return pr([ol.toolbarButton(o.providers.isDisabled),yl(),yo.config({mode:u,onEscape:o.onEscape,selector:".tox-toolbar__group"}),Jo("toolbar-events",[p])])},VF=o=>{const u=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":GA({title:L.none(),items:[]}),"overflow-button":jq({name:"more",icon:L.some("more-drawer"),enabled:!0,tooltip:L.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:L.none(),borderless:!1},L.none(),o.providers)},splitToolbarBehaviours:GC(o,u)}},zF=o=>{const u=VF(o),p=4,S=QF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return QF.sketch({...u,lazySink:o.getSink,getOverflowBounds:()=>{const R=o.moreDrawerData.lazyHeader().element,H=Au(R),K=pn(R),ye=Au(K),Ae=Math.max(K.dom.scrollHeight,ye.height);return ni(H.x+p,ye.y,H.width-p*2,Ae)},parts:{...u.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[S],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:R=>o.onToggled(R,!0),onClosed:R=>o.onToggled(R,!1)})},qJ=o=>{const u=h_.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),p=h_.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),S=VF(o);return h_.sketch({...S,components:[u,p],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:R=>{R.getSystem().broadcastOn([A0()],{type:"opened"}),o.onToggled(R,!0)},onClosed:R=>{R.getSystem().broadcastOn([A0()],{type:"closed"}),o.onToggled(R,!1)}})},qA=o=>{const u=o.cyclicKeying?"cyclic":"acyclic";return rg.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===Zf.scrolling?["tox-toolbar--scrolling"]:[])},components:[rg.parts.groups({})],toolbarBehaviours:GC(o,u)})},KJ=[fp,yd,fl("tooltip"),jc("buttonType","secondary",["primary","secondary"]),Xi("borderless",!1),nf("onAction")],JJ=[...KJ,Ev,If("type",["button"])],eee=[...KJ,Xi("active",!1),If("type",["togglebutton"])],KA={button:JJ,togglebutton:eee},tee=[If("type",["group"]),Rc("buttons",[],ws("type",KA))],JA=ws("type",{...KA,group:tee}),ZF=uo([Rc("buttons",[],JA),nf("onShow"),nf("onHide")]),HF=o=>ma("view",ZF,o),m_=(o,u)=>{var p,S;const R=o.type==="togglebutton",H=o.icon.map(kn=>w0(kn,u.icons)).map(la),ye=(()=>kn=>{const Zn=Or=>{H.map(Mr=>Mr.getOpt(kn).each(is=>{Uo.set(is,[w0(Or,u.icons)])}))},mr=Or=>{const Mr=kn.element;Or?(Pi(Mr,"tox-button--enabled"),Dr(Mr,"aria-pressed",!0)):(ja(Mr,"tox-button--enabled"),aa(Mr,"aria-pressed"))},Gn=()=>nl(kn.element,"tox-button--enabled");if(R)return o.onAction({setIcon:Zn,setActive:mr,isActive:Gn});if(o.type==="button")return o.onAction({setIcon:Zn})})(),Ae={...o,name:R?o.text.getOr(o.icon.getOr("")):(p=o.text)!==null&&p!==void 0?p:o.icon.getOr(""),primary:o.buttonType==="primary",buttonType:L.from(o.buttonType),tooltip:o.tooltip,icon:o.icon,enabled:!0,borderless:o.borderless},Ne=A9((S=o.buttonType)!==null&&S!==void 0?S:"secondary"),Ue=R?o.text.map(u.translate):L.some(u.translate(o.text)),Je=Ue.map(Oi),st=Ae.tooltip.or(Ue).map(kn=>({"aria-label":u.translate(kn),title:u.translate(kn)})).getOr({}),ht=H.map(kn=>kn.asSpec()),At=Sx([ht,Je]),qt=o.icon.isSome()&&Je.isSome(),Dn={tag:"button",classes:Ne.concat(...o.icon.isSome()&&!qt?["tox-button--icon"]:[]).concat(...qt?["tox-button--icon-and-text"]:[]).concat(...o.borderless?["tox-button--naked"]:[]).concat(...o.type==="togglebutton"&&o.active?["tox-button--enabled"]:[]),attributes:st},mn=[],sn=kA(Ae,L.some(ye),mn,Dn,At,u);return Fl.sketch(sn)},UF=(o,u)=>m_(o,u),WF=(o,u)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:ne(o.buttons,p=>UF(p,u))}),Jb=td().deviceType,YF=Jb.isPhone(),nee=Jb.isTablet(),ree=o=>{let u=!1;const p=ne(o.buttons,S=>S.type==="group"?(u=!0,WF(S,o.providers)):UF(S,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[u?"tox-view__toolbar":"tox-view__header",...YF||nee?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:pr([Eo.config({}),yo.config({mode:"flow",selector:"button, .tox-button",focusInside:j.OnEnterOrSpaceMode})]),components:u?p:[tg.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),tg.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:p})]}},oee=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),g_=(o,u,p,S)=>{const R={getPane:H=>Al.getPart(H,o,"pane"),getOnShow:H=>o.viewConfig.onShow,getOnHide:H=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:u,apis:R}};var Ux=mc({name:"silver.View",configFields:[er("viewConfig")],partFields:[pu({factory:{sketch:ree},schema:[er("buttons"),er("providers")],name:"header"}),pu({factory:{sketch:oee},schema:[],name:"pane"})],factory:g_,apis:{getPane:(o,u)=>o.getPane(u),getOnShow:(o,u)=>o.getOnShow(u),getOnHide:(o,u)=>o.getOnHide(u)}});const see=(o,u,p)=>Xt(u,(S,R)=>{const H=ia(HF(S));return o.slot(R,Ux.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:H,components:[...H.buttons.length>0?[Ux.parts.header({buttons:H.buttons,providers:p})]:[],Ux.parts.pane({})]}))}),XF=(o,u)=>xu.sketch(p=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:see(p,o,u),slotBehaviours:sC.unnamedEvents([ka(S=>xu.hideAllSlots(S))])})),p_=o=>Ve(xu.getSlotNames(o),u=>xu.isShowing(o,u)),eP=o=>{const u=o.element;Mo(u,"display","none"),Dr(u,"aria-hidden","true")},v_=o=>{const u=o.element;Ho(u,"display"),aa(u,"aria-hidden")},aee=o=>({getContainer:Q(o)}),GF=(o,u,p)=>{xu.getSlot(o,u).each(S=>{Ux.getPane(S).each(R=>{p(S)(aee(R.element.dom))})})},jF=(o,u)=>GF(o,u,Ux.getOnShow),iee=(o,u)=>GF(o,u,Ux.getOnHide);var tP=Lu({factory:(o,u)=>{const H={setViews:(K,ye)=>{Uo.set(K,[XF(ye,u.backstage.shared.providers)])},whichView:K=>Cs.getCurrent(K).bind(p_),toggleView:(K,ye,Ae,Ne)=>Cs.getCurrent(K).exists(Ue=>{const Je=p_(Ue),st=Je.exists(At=>Ne===At),ht=xu.getSlot(Ue,Ne).isSome();return ht&&(xu.hideAllSlots(Ue),st?(eP(K),ye()):(Ae(),v_(K),xu.showSlot(Ue,Ne),jF(Ue,Ne)),Je.each(At=>iee(Ue,At))),ht})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pr([Uo.config({}),Cs.config({find:K=>{const ye=Uo.contents(K);return ke(ye)}})]),apis:H}},name:"silver.ViewWrapper",configFields:[er("backstage")],apis:{setViews:(o,u,p)=>o.setViews(u,p),toggleView:(o,u,p,S,R)=>o.toggleView(u,p,S,R),whichView:(o,u)=>o.whichView(u)}});const qF=(o,u,p)=>{let S=!1;const R={getSocket:H=>Al.getPart(H,o,"socket"),setSidebar:(H,K,ye)=>{Al.getPart(H,o,"sidebar").each(Ae=>EJ(Ae,K,ye))},toggleSidebar:(H,K)=>{Al.getPart(H,o,"sidebar").each(ye=>_J(ye,K))},whichSidebar:H=>Al.getPart(H,o,"sidebar").bind(CF).getOrNull(),getHeader:H=>Al.getPart(H,o,"header"),getToolbar:H=>Al.getPart(H,o,"toolbar"),setToolbar:(H,K)=>{Al.getPart(H,o,"toolbar").each(ye=>{const Ae=ne(K,jA);ye.getApis().setGroups(ye,Ae)})},setToolbars:(H,K)=>{Al.getPart(H,o,"multiple-toolbar").each(ye=>{const Ae=ne(K,Ne=>ne(Ne,jA));$A.setItems(ye,Ae)})},refreshToolbar:H=>{Al.getPart(H,o,"toolbar").each(ye=>ye.getApis().refresh(ye))},toggleToolbarDrawer:H=>{Al.getPart(H,o,"toolbar").each(K=>{Sn(K.getApis().toggle,ye=>ye(K))})},toggleToolbarDrawerWithoutFocusing:H=>{Al.getPart(H,o,"toolbar").each(K=>{Sn(K.getApis().toggleWithoutFocusing,ye=>ye(K))})},isToolbarDrawerToggled:H=>Al.getPart(H,o,"toolbar").bind(K=>L.from(K.getApis().isOpen).map(ye=>ye(K))).getOr(!1),getThrobber:H=>Al.getPart(H,o,"throbber"),focusToolbar:H=>{Al.getPart(H,o,"toolbar").orThunk(()=>Al.getPart(H,o,"multiple-toolbar")).each(ye=>{yo.focusIn(ye)})},setMenubar:(H,K)=>{Al.getPart(H,o,"menubar").each(ye=>{r_.setMenus(ye,K)})},focusMenubar:H=>{Al.getPart(H,o,"menubar").each(K=>{r_.focus(K)})},setViews:(H,K)=>{Al.getPart(H,o,"viewWrapper").each(ye=>{tP.setViews(ye,K)})},toggleView:(H,K)=>Al.getPart(H,o,"viewWrapper").exists(ye=>tP.toggleView(ye,()=>R.showMainView(H),()=>R.hideMainView(H),K)),whichView:H=>Al.getPart(H,o,"viewWrapper").bind(tP.whichView).getOrNull(),hideMainView:H=>{S=R.isToolbarDrawerToggled(H),S&&R.toggleToolbarDrawer(H),Al.getPart(H,o,"editorContainer").each(K=>{const ye=K.element;Mo(ye,"display","none"),Dr(ye,"aria-hidden","true")})},showMainView:H=>{S&&R.toggleToolbarDrawer(H),Al.getPart(H,o,"editorContainer").each(K=>{const ye=K.element;Ho(ye,"display"),aa(ye,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:u,apis:R,behaviours:o.behaviours}},lee=Sp.optional({factory:r_,name:"menubar",schema:[er("backstage")]}),cee=o=>o.type===Zf.sliding?qJ:o.type===Zf.floating?zF:qA,y_=Sp.optional({factory:{sketch:o=>$A.sketch({uid:o.uid,dom:o.dom,listBehaviours:pr([yo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>qA({type:o.type,uid:Kr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),L.some(!0))}),setupItem:(u,p,S,R)=>{rg.setGroups(p,S)},shell:!0})},name:"multiple-toolbar",schema:[er("dom"),er("onEscape")]}),uee=Sp.optional({factory:{sketch:o=>{const u=cee(o),p={type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),L.some(!0)),onToggled:(S,R)=>o.onToolbarToggled(R),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes};return u(p)}},name:"toolbar",schema:[er("dom"),er("onEscape"),er("getSink")]}),fee=Sp.optional({factory:{sketch:OF},name:"header",schema:[er("dom")]}),KF=Sp.optional({factory:{sketch:wJ},name:"promotion",schema:[er("dom")]}),dee=Sp.optional({name:"socket",schema:[er("dom")]}),JF=Sp.optional({factory:{sketch:RJ},name:"sidebar",schema:[er("dom")]}),hee=Sp.optional({factory:{sketch:IJ},name:"throbber",schema:[er("dom")]}),eV=Sp.optional({factory:tP,name:"viewWrapper",schema:[er("backstage")]}),mee=o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components}),gee=Sp.optional({factory:{sketch:mee},name:"editorContainer",schema:[]});var Ia=mc({name:"OuterContainer",factory:qF,configFields:[er("dom"),er("behaviours")],partFields:[fee,lee,uee,y_,dee,JF,KF,hee,eV,gee],apis:{getSocket:(o,u)=>o.getSocket(u),setSidebar:(o,u,p,S)=>{o.setSidebar(u,p,S)},toggleSidebar:(o,u,p)=>{o.toggleSidebar(u,p)},whichSidebar:(o,u)=>o.whichSidebar(u),getHeader:(o,u)=>o.getHeader(u),getToolbar:(o,u)=>o.getToolbar(u),setToolbar:(o,u,p)=>{o.setToolbar(u,p)},setToolbars:(o,u,p)=>{o.setToolbars(u,p)},refreshToolbar:(o,u)=>o.refreshToolbar(u),toggleToolbarDrawer:(o,u)=>{o.toggleToolbarDrawer(u)},toggleToolbarDrawerWithoutFocusing:(o,u)=>{o.toggleToolbarDrawerWithoutFocusing(u)},isToolbarDrawerToggled:(o,u)=>o.isToolbarDrawerToggled(u),getThrobber:(o,u)=>o.getThrobber(u),setMenubar:(o,u,p)=>{o.setMenubar(u,p)},focusMenubar:(o,u)=>{o.focusMenubar(u)},focusToolbar:(o,u)=>{o.focusToolbar(u)},setViews:(o,u,p)=>{o.setViews(u,p)},toggleView:(o,u,p)=>o.toggleView(u,p),whichView:(o,u)=>o.whichView(u)}});const tV="file edit view insert format tools table help",nV={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},pee=(o,u,p)=>{const S=lM(p).split(/[ ,]/);return{text:o.title,getItems:()=>re(o.items,R=>{const H=R.toLowerCase();return H.trim().length===0?[]:we(S,K=>K===H)?[]:H==="separator"||H==="|"?[{type:"separator"}]:u.menuItems[H]?[u.menuItems[H]]:[]})}},b_=o=>o.split(" "),nP=(o,u)=>{const p={...nV,...u.menus},S=ct(u.menus).length>0,R=u.menubar===void 0||u.menubar===!0?b_(tV):b_(u.menubar===!1?"":u.menubar),H=Oe(R,ye=>{const Ae=vn(nV,ye);return S?Ae||Bt(u.menus,ye).exists(Ne=>vn(Ne,"items")):Ae}),K=ne(H,ye=>{const Ae=p[ye];return pee({title:Ae.title,items:b_(Ae.items)},u,o)});return Oe(K,ye=>{const Ae=Ne=>h(Ne)||Ne.type!=="separator";return ye.getItems().length>0&&we(ye.getItems(),Ae)})},O_=o=>{const u=()=>{o._skinLoaded=!0,RX(o)};return()=>{o.initialized?u():o.on("init",u)}},vee=(o,u)=>()=>oE(o,{message:u}),rV=(o,u,p)=>(o.on("remove",()=>p.unload(u)),p.load(u)),x_=(o,u,p,S)=>(o.on("remove",()=>S.unloadRawCss(u)),S.loadRawCss(u,p)),yee=async(o,u)=>{const S="ui/"+pM(o).getOr("default")+"/skin.css",R=tinymce.Resource.get(S);if(h(R))return Promise.resolve(x_(o,S,R,o.ui.styleSheetLoader));{const H=u+"/skin.min.css";return rV(o,H,o.ui.styleSheetLoader)}},bee=async(o,u)=>{if(Xa(zt.fromDom(o.getElement()))){const S=u+"/skin.shadowdom.css",R=tinymce.Resource.get(S);if(h(R))return x_(o,S,R,Fb.DOM.styleSheetLoader),Promise.resolve();{const H=u+"/skin.shadowdom.min.css";return rV(o,H,Fb.DOM.styleSheetLoader)}}},Oee=async(o,u)=>{pM(u).fold(()=>{const S=f4(u);S&&u.contentCSS.push(S+(o?"/content.inline":"/content")+".min.css")},S=>{const R="ui/"+S+(o?"/content.inline":"/content")+".css",H=tinymce.Resource.get(R);if(h(H))x_(u,R,H,u.ui.styleSheetLoader);else{const K=f4(u);K&&u.contentCSS.push(K+(o?"/content.inline":"/content")+".min.css")}});const p=f4(u);if(!gM(u)&&h(p))return Promise.all([yee(u,p),bee(u,p)]).then()},oV=(o,u)=>Oee(o,u).then(O_(u),vee(u,"Skin could not be loaded")),xee=F(oV,!1),See=F(oV,!0),eO=(o,u,p)=>o.translate([`${u} {0}`,o.translate(p)]),rP=(o,u,p)=>{const S=(ye,Ae,Ne,Ue)=>{const Je=u.shared.providers.translate(ye.title);if(ye.type==="separator")return L.some({type:"separator",text:Je});if(ye.type==="submenu"){const st=re(ye.getStyleItems(),ht=>R(ht,Ae,Ue));return Ae===0&&st.length<=0?L.none():L.some({type:"nestedmenuitem",text:Je,enabled:st.length>0,getSubmenuItems:()=>re(ye.getStyleItems(),ht=>R(ht,Ae,Ue))})}else return L.some({type:"togglemenuitem",text:Je,icon:ye.icon,active:ye.isSelected(Ue),enabled:!Ne,onAction:p.onAction(ye),...ye.getStylePreview().fold(()=>({}),st=>({meta:{style:st}}))})},R=(ye,Ae,Ne)=>{const Ue=ye.type==="formatter"&&p.isInvalid(ye);return Ae===0?Ue?[]:S(ye,Ae,!1,Ne).toArray():S(ye,Ae,Ue,Ne).toArray()},H=ye=>{const Ae=p.getCurrentValue(),Ne=p.shouldHide?0:1;return re(ye,Ue=>R(Ue,Ne,Ae))};return{validateItems:H,getFetch:(ye,Ae)=>(Ne,Ue)=>{const Je=Ae(),st=H(Je),ht=Lx(st,eg.CLOSE_ON_EXECUTE,ye,{isHorizontalMenu:!1,search:L.none()});Ue(ht)}}},M0=(o,u,p)=>{const S=p.dataset,R=S.type==="basic"?()=>ne(S.data,H=>$9(H,p.isSelectedFor,p.getPreviewFor)):S.getData;return{items:rP(o,u,p),getStyleItems:R}},Wx=(o,u,p,S,R)=>{const{items:H,getStyleItems:K}=M0(o,u,p),ye=Ne=>({getComponent:Q(Ne),setTooltip:Ue=>{const Je=u.shared.providers.translate(Ue);Tc(Ne.element,{"aria-label":Je,title:Je})}}),Ae=Ne=>{const Ue=Je=>Ne.setTooltip(eO(o,S,Je.value));return o.on(R,Ue),uC(Gh(o,"NodeChange",Je=>{const st=Je.getComponent();p.updateText(st),ko.set(Je.getComponent(),!o.selection.isEditable())})(Ne),()=>o.off(R,Ue))};return vA({text:p.icon.isSome()?L.none():p.text,icon:p.icon,tooltip:L.from(p.tooltip),role:L.none(),fetch:H.getFetch(u,K),onSetup:Ae,getApi:ye,columns:1,presets:"normal",classes:p.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",u.shared)},E0=o=>ne(o,u=>{let p=u,S=u;const R=u.split("=");return R.length>1&&(p=R[0],S=R[1]),{title:p,format:S}}),sV=o=>({type:"basic",data:o});var Yx;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(Yx||(Yx={}));const wee=(o,u)=>u===Yx.SemiColon?o.replace(/;$/,"").split(";"):o.split(" "),S_=(o,u,p)=>{const S=o.options.get(u);return{type:"basic",data:E0(wee(S,p))}},w_="Align",aV="left",C_=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],iV=o=>{const u=()=>Ve(C_,ye=>o.formatter.match(ye.format)),p=ye=>()=>o.formatter.match(ye),S=ye=>L.none,R=ye=>{const Ne=u().fold(Q(aV),Ue=>Ue.title.toLowerCase());vo(ye,C0,{icon:`align-${Ne}`}),IX(o,{value:Ne})},H=sV(C_),K=ye=>()=>Ve(C_,Ae=>Ae.format===ye.format).each(Ae=>o.execCommand(Ae.command));return{tooltip:eO(o,w_,aV),text:L.none(),icon:L.some("align-left"),isSelectedFor:p,getCurrentValue:L.none,getPreviewFor:S,onAction:K,updateText:R,dataset:H,shouldHide:!1,isInvalid:ye=>!o.formatter.canApply(ye.format)}},lV=(o,u)=>Wx(o,u,iV(o),w_,"AlignTextUpdate"),Cee=(o,u)=>{const p=M0(o,u,iV(o));o.ui.registry.addNestedMenuItem("align",{text:u.shared.providers.translate(w_),onSetup:Ou(o),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},cV=(o,u)=>{const p=u(),S=ne(p,R=>R.format);return L.from(o.formatter.closest(S)).bind(R=>Ve(p,H=>H.format===R)).orThunk(()=>lt(o.formatter.match("p"),{title:"Paragraph",format:"p"}))},jC="Blocks",T_="Paragraph",uV=o=>{const u=H=>()=>o.formatter.match(H),p=H=>()=>{const K=o.formatter.get(H);return K?L.some({tag:K.length>0&&(K[0].inline||K[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(H))}):L.none()},S=H=>{const ye=cV(o,()=>R.data).fold(Q(T_),Ae=>Ae.title);vo(H,uh,{text:ye}),nN(o,{value:ye})},R=S_(o,"block_formats",Yx.SemiColon);return{tooltip:eO(o,jC,T_),text:L.some(T_),icon:L.none(),isSelectedFor:u,getCurrentValue:L.none,getPreviewFor:p,onAction:oN(o),updateText:S,dataset:R,shouldHide:!1,isInvalid:H=>!o.formatter.canApply(H.format)}},Tee=(o,u)=>Wx(o,u,uV(o),jC,"BlocksTextUpdate"),kee=(o,u)=>{const p=M0(o,u,uV(o));o.ui.registry.addNestedMenuItem("blocks",{text:jC,onSetup:Ou(o),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},k_="Fonts",A_="System Font",fV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],P_=o=>{const u=o.split(/\s*,\s*/);return ne(u,p=>p.replace(/^['"]+|['"]+$/g,""))},M_=(o,u)=>u.length>0&&be(u,p=>o.indexOf(p.toLowerCase())>-1),Aee=(o,u)=>{if(o.indexOf("-apple-system")===0||u.length>0){const p=P_(o.toLowerCase());return M_(p,fV)||M_(p,u)}else return!1},E_=o=>{const u=()=>{const Ae=At=>At?P_(At)[0]:"",Ne=o.queryCommandValue("FontName"),Ue=ye.data,Je=Ne?Ne.toLowerCase():"",st=zL(o);return{matchOpt:Ve(Ue,At=>{const qt=At.format;return qt.toLowerCase()===Je||Ae(qt).toLowerCase()===Ae(Je).toLowerCase()}).orThunk(()=>lt(Aee(Je,st),{title:A_,format:Je})),font:Ne}},p=Ae=>Ne=>Ne.exists(Ue=>Ue.format===Ae),S=()=>{const{matchOpt:Ae}=u();return Ae},R=Ae=>()=>L.some({tag:"div",styles:Ae.indexOf("dings")===-1?{"font-family":Ae}:{}}),H=Ae=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,Ae.format)})},K=Ae=>{const{matchOpt:Ne,font:Ue}=u(),Je=Ne.fold(Q(Ue),st=>st.title);vo(Ae,uh,{text:Je}),rN(o,{value:Je})},ye=S_(o,"font_family_formats",Yx.SemiColon);return{tooltip:eO(o,k_,A_),text:L.some(A_),icon:L.none(),isSelectedFor:p,getCurrentValue:S,getPreviewFor:R,onAction:H,updateText:K,dataset:ye,shouldHide:!1,isInvalid:X}},Pee=(o,u)=>Wx(o,u,E_(o),k_,"FontFamilyTextUpdate"),Mee=(o,u)=>{const p=M0(o,u,E_(o));o.ui.registry.addNestedMenuItem("fontfamily",{text:u.shared.providers.translate(k_),onSetup:Ou(o),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},Eee={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},dV=(()=>{const o="[0-9]+",p="[eE]"+("[+-]?"+o),S="\\.",R=ye=>`(?:${ye})?`,K=`[+-]?(?:${["Infinity",o+S+R(o)+R(p),S+o+R(p),o+R(p)].join("|")})`;return new RegExp(`^(${K})(.*)$`)})(),_ee=(o,u)=>we(u,p=>we(Eee[p],S=>o===S)),qC=(o,u)=>L.from(dV.exec(o)).bind(S=>{const R=Number(S[1]),H=S[2];return _ee(H,u)?L.some({value:R,unit:H}):L.none()}),Ree=(o,u)=>qC(o,u).map(({value:p,unit:S})=>p+S),hV={tab:Q(9),escape:Q(27),enter:Q(13),backspace:Q(8),delete:Q(46),left:Q(37),up:Q(38),right:Q(39),down:Q(40),space:Q(32),home:Q(36),end:Q(35),pageUp:Q(33),pageDown:Q(34)},Dee=(o,u,p)=>{let S=L.none();const R=sn=>sn.map(kn=>Fr.getValue(kn)).getOr(""),H=Gh(o,"NodeChange SwitchMode",sn=>{const kn=sn.getComponent();S=L.some(kn),p.updateInputValue(kn),ko.set(kn,!o.selection.isEditable())}),K=sn=>({getComponent:Q(sn)}),ye=G(M),Ae=Kr("custom-number-input-events"),Ne=(sn,kn,Zn)=>{const mr=R(S),Gn=p.getNewValue(mr,sn),Or=mr.length-`${Gn}`.length,Mr=S.map(Gr=>Gr.element.dom.selectionStart-Or),is=S.map(Gr=>Gr.element.dom.selectionEnd-Or);p.onAction(Gn,Zn),S.each(Gr=>{Fr.setValue(Gr,Gn),kn&&(Mr.each(No=>Gr.element.dom.selectionStart=No),is.each(No=>Gr.element.dom.selectionEnd=No))})},Ue=(sn,kn)=>Ne((Zn,mr)=>Zn-mr,sn,kn),Je=(sn,kn)=>Ne((Zn,mr)=>Zn+mr,sn,kn),st=sn=>dr(sn.element).fold(L.none,kn=>(mu(kn),L.some(!0))),ht=sn=>Ky(sn.element)?(Ao(sn.element).each(kn=>mu(kn)),L.some(!0)):L.none(),At=(sn,kn,Zn,mr)=>{const Gn=G(M),Or=u.shared.providers.translate(Zn),Mr=Kr("altExecuting"),is=Gh(o,"NodeChange SwitchMode",No=>{ko.set(No.getComponent(),!o.selection.isEditable())}),Gr=No=>{ko.isDisabled(No)||sn(!0)};return Fl.sketch({dom:{tag:"button",attributes:{title:Or,"aria-label":Or},classes:mr.concat(kn)},components:[pA(kn,u.shared.providers.icons)],buttonBehaviours:pr([ko.config({}),Jo(Mr,[h0({onSetup:is,getApi:K},Gn),hp({getApi:K},Gn),qn(Rs(),(No,Ro)=>{(Ro.event.raw.keyCode===hV.space()||Ro.event.raw.keyCode===hV.enter())&&(ko.isDisabled(No)||sn(!1))}),qn(Ii(),Gr),qn(rs(),Gr)])]),eventOrder:{[Rs()]:[Mr,"keying"],[Ii()]:[Mr,"alloy.base.behaviour"],[rs()]:[Mr,"alloy.base.behaviour"]}})},qt=la(At(sn=>Ue(!1,sn),"minus","Decrease font size",[])),Dn=la(At(sn=>Je(!1,sn),"plus","Increase font size",[])),mn=la({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[zb.sketch({inputBehaviours:pr([ko.config({}),Jo(Ae,[h0({onSetup:H,getApi:K},ye),hp({getApi:K},ye)]),Jo("input-update-display-text",[qn(uh,(sn,kn)=>{Fr.setValue(sn,kn.event.text)}),qn(gs(),sn=>{p.onAction(Fr.getValue(sn))}),qn(Gi(),sn=>{p.onAction(Fr.getValue(sn))})]),yo.config({mode:"special",onEnter:sn=>(Ne(z,!0,!0),L.some(!0)),onEscape:st,onUp:sn=>(Je(!0,!1),L.some(!0)),onDown:sn=>(Ue(!0,!1),L.some(!0)),onLeft:(sn,kn)=>(kn.cut(),L.none()),onRight:(sn,kn)=>(kn.cut(),L.none())})])})],behaviours:pr([Eo.config({}),yo.config({mode:"special",onEnter:ht,onSpace:ht,onEscape:st}),Jo("input-wrapper-events",[qn(Lr(),sn=>{le([qt,Dn],kn=>{const Zn=zt.fromDom(kn.get(sn).element.dom);Ky(Zn)&&$1(Zn)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[qt.asSpec(),mn.asSpec(),Dn.asSpec()],behaviours:pr([Eo.config({}),yo.config({mode:"flow",focusInside:j.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:sn=>Ky(sn.element)?L.none():(mu(sn.element),L.some(!0))})])}},__="Font sizes",mV="12pt",$ee={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Lee={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},gV=(o,u)=>{const p=Math.pow(10,u);return Math.round(o*p)/p},Iee=(o,u)=>/[0-9.]+px$/.test(o)?gV(parseInt(o,10)*72/96,u||0)+"pt":Bt(Lee,o).getOr(o),Nee=o=>Bt($ee,o).getOr(""),pV=o=>{const u=()=>{let Ae=L.none();const Ne=ye.data,Ue=o.queryCommandValue("FontSize");if(Ue)for(let Je=3;Ae.isNone()&&Je>=0;Je--){const st=Iee(Ue,Je),ht=Nee(st);Ae=Ve(Ne,At=>At.format===Ue||At.format===st||At.format===ht)}return{matchOpt:Ae,size:Ue}},p=Ae=>Ne=>Ne.exists(Ue=>Ue.format===Ae),S=()=>{const{matchOpt:Ae}=u();return Ae},R=Q(L.none),H=Ae=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,Ae.format)})},K=Ae=>{const{matchOpt:Ne,size:Ue}=u(),Je=Ne.fold(Q(Ue),st=>st.title);vo(Ae,uh,{text:Je}),NX(o,{value:Je})},ye=S_(o,"font_size_formats",Yx.Space);return{tooltip:eO(o,__,mV),text:L.some(mV),icon:L.none(),isSelectedFor:p,getPreviewFor:R,getCurrentValue:S,onAction:H,updateText:K,dataset:ye,shouldHide:!1,isInvalid:X}},Bee=(o,u)=>Wx(o,u,pV(o),__,"FontSizeTextUpdate"),Qee=o=>{var u;const p={step:1};return(u={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[o])!==null&&u!==void 0?u:p},Fee=16,Vee=o=>o>=0,vV=o=>{const u=()=>o.queryCommandValue("FontSize");return{updateInputValue:S=>vo(S,uh,{text:u()}),onAction:(S,R)=>o.execCommand("FontSize",!1,S,{skip_focus:!R}),getNewValue:(S,R)=>{qC(S,["unsupportedLength","empty"]);const H=u(),K=qC(S,["unsupportedLength","empty"]).or(qC(H,["unsupportedLength","empty"])),ye=K.map(st=>st.value).getOr(Fee),Ae=NL(o),Ne=K.map(st=>st.unit).filter(st=>st!=="").getOr(Ae),Ue=R(ye,Qee(Ne).step),Je=`${Vee(Ue)?Ue:ye}${Ne}`;return Je!==H&&BX(o,{value:Je}),Je}}},zee=(o,u)=>Dee(o,u,vV(o)),Zee=(o,u)=>{const p=M0(o,u,pV(o));o.ui.registry.addNestedMenuItem("fontsize",{text:__,onSetup:Ou(o),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},oP="Formats",yV=(o,u)=>{const p="Paragraph",S=K=>()=>o.formatter.match(K),R=K=>()=>{const ye=o.formatter.get(K);return ye!==void 0?L.some({tag:ye.length>0&&(ye[0].inline||ye[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(K))}):L.none()},H=K=>{const ye=Je=>MA(Je)?re(Je.items,ye):VQ(Je)?[{title:Je.title,format:Je.format}]:[],Ae=re(ZQ(o),ye),Ue=cV(o,Q(Ae)).fold(Q(p),Je=>Je.title);vo(K,uh,{text:Ue}),LX(o,{value:Ue})};return{tooltip:eO(o,oP,p),text:L.some(p),icon:L.none(),isSelectedFor:S,getCurrentValue:L.none,getPreviewFor:R,onAction:oN(o),updateText:H,shouldHide:RL(o),isInvalid:K=>!o.formatter.canApply(K.format),dataset:u}},bV=(o,u)=>{const p={type:"advanced",...u.styles};return Wx(o,u,yV(o,p),oP,"StylesTextUpdate")},OV=(o,u)=>{const p={type:"advanced",...u.styles},S=M0(o,u,yV(o,p));o.ui.registry.addNestedMenuItem("styles",{text:oP,onSetup:Ou(o),getSubmenuItems:()=>S.items.validateItems(S.getStyleItems())})},Hee=Q([er("toggleClass"),er("fetch"),Gd("onExecute"),Mn("getHotspot",L.some),Mn("getAnchorOverrides",Q({})),Yg(),Gd("onItemExecute"),Ws("lazySink"),er("dom"),Ds("onOpen"),rl("splitDropdownBehaviours",[_i,yo,Eo]),Mn("matchWidth",!1),Mn("useMinWidth",!1),Mn("eventOrder",{}),Ws("role")].concat(PE())),Uee=hc({factory:Fl,schema:[er("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pr([Eo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:u=>{u.getSystem().getByUid(o.uid).each(_m)},buttonBehaviours:pr([as.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),Wee=hc({factory:Fl,schema:[er("dom")],name:"button",defaults:()=>({buttonBehaviours:pr([Eo.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:u=>{u.getSystem().getByUid(o.uid).each(p=>{o.onExecute(p,u)})}})}),Xx=Q([Uee,Wee,pu({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[er("text")],name:"aria-descriptor"}),md({schema:[Uy()],name:"menu",defaults:o=>({onExecute:(u,p)=>{u.getSystem().getByUid(o.uid).each(S=>{o.onItemExecute(S,u,p)})}})}),SN()]),Yee=(o,u,p,S)=>{const R=Ue=>{Cs.getCurrent(Ue).each(Je=>{Ys.highlightFirst(Je),yo.focusIn(Je)})},H=Ue=>{kE(o,z,Ue,S,R,bu.HighlightMenuAndItem).get(M)},K=Ue=>(H(Ue),L.some(!0)),ye=Ue=>{const Je=Ym(Ue,o,"button");return _m(Je),L.some(!0)},Ae={..._a([ka((Ue,Je)=>{Aa(Ue,o,"aria-descriptor").each(ht=>{const At=Kr("aria");Dr(ht.element,"id",At),Dr(Ue.element,"aria-describedby",At)})})]),...qm(L.some(H))},Ne={repositionMenus:Ue=>{as.isOn(Ue)&&kN(Ue)}};return{uid:o.uid,dom:o.dom,components:u,apis:Ne,eventOrder:{...o.eventOrder,[Bi()]:["disabling","toggling","alloy.base.behaviour"]},events:Ae,behaviours:Qi(o.splitDropdownBehaviours,[_i.config({others:{sandbox:Ue=>{const Je=Ym(Ue,o,"arrow");return AE(o,Ue,{onOpen:()=>{as.on(Je),as.on(Ue)},onClose:()=>{as.off(Je),as.off(Ue)}})}}}),yo.config({mode:"special",onSpace:ye,onEnter:ye,onDown:K}),Eo.config({}),as.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},sP=mc({name:"SplitDropdown",configFields:Hee(),partFields:Xx(),factory:Yee,apis:{repositionMenus:(o,u)=>o.repositionMenus(u)}}),xV=o=>({isEnabled:()=>!ko.isDisabled(o),setEnabled:u=>ko.set(o,!u),setText:u=>vo(o,uh,{text:u}),setIcon:u=>vo(o,C0,{icon:u})}),Xee=o=>({setActive:u=>{as.set(o,u)},isActive:()=>as.isOn(o),isEnabled:()=>!ko.isDisabled(o),setEnabled:u=>ko.set(o,!u),setText:u=>vo(o,uh,{text:u}),setIcon:u=>vo(o,C0,{icon:u})}),SV=(o,u)=>o.map(p=>({"aria-label":u.translate(p),title:u.translate(p)})).getOr({}),wV=Kr("focus-button"),R_=(o,u,p,S,R)=>{const H=u.map(ye=>la(ZB(ye,"tox-tbtn",R))),K=o.map(ye=>la(w0(ye,R.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(u.isSome()?["tox-tbtn--select"]:[]),attributes:SV(p,R)},components:Sx([K.map(ye=>ye.asSpec()),H.map(ye=>ye.asSpec())]),eventOrder:{[go()]:["focusing","alloy.base.behaviour",Gb],[sf()]:[Gb,"toolbar-group-button-events"]},buttonBehaviours:pr([ol.toolbarButton(R.isDisabled),yl(),Jo(Gb,[ka((ye,Ae)=>EC(ye)),qn(uh,(ye,Ae)=>{H.bind(Ne=>Ne.getOpt(ye)).each(Ne=>{Uo.set(Ne,[Oi(R.translate(Ae.event.text))])})}),qn(C0,(ye,Ae)=>{K.bind(Ne=>Ne.getOpt(ye)).each(Ne=>{Uo.set(Ne,[w0(Ae.event.icon,R.icons)])})}),qn(go(),(ye,Ae)=>{Ae.event.prevent(),As(ye,wV)})])].concat(S.getOr([])))}},Gee=(o,u,p,S)=>{const R=u.shared,H=G(M),K={toolbarButtonBehaviours:[],getApi:xV,onSetup:o.onSetup},ye=[Jo("toolbar-group-button-events",[h0(K,H),hp(K,H)])];return P0.sketch({lazySink:R.getSink,fetch:()=>Vc.nu(Ae=>{Ae(ne(p(o.items),jA))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:R_(o.icon,o.text,o.tooltip,L.some(ye),R.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:S}}}})},aP=(o,u,p)=>{var S;const R=G(M),H=R_(o.icon,o.text,o.tooltip,L.none(),p);return Fl.sketch({dom:H.dom,components:H.components,eventOrder:VB,buttonBehaviours:{...pr([Jo("toolbar-button-events",[FB({onAction:o.onAction,getApi:u.getApi}),h0(u,R),hp(u,R)]),ol.toolbarButton(()=>!o.enabled||p.isDisabled()),yl()].concat(u.toolbarButtonBehaviours)),[Gb]:(S=H.buttonBehaviours)===null||S===void 0?void 0:S[Gb]}})},jee=(o,u)=>CV(o,u,[]),CV=(o,u,p)=>aP(o,{toolbarButtonBehaviours:p.length>0?[Jo("toolbarButtonWith",p)]:[],getApi:xV,onSetup:o.onSetup},u),TV=(o,u)=>D_(o,u,[]),D_=(o,u,p)=>aP(o,{toolbarButtonBehaviours:[Uo.config({}),as.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(p.length>0?[Jo("toolbarToggleButtonWith",p)]:[]),getApi:Xee,onSetup:o.onSetup},u),qee=(o,u,p)=>S=>Vc.nu(R=>u.fetch(R)).map(R=>L.from(z4(Ta(bE(Kr("menu-value"),R,H=>{u.onItemAction(o(S),H)},u.columns,u.presets,eg.CLOSE_ON_EXECUTE,u.select.getOr(X),p),{movement:B4(u.columns,u.presets),menuBehaviours:sC.unnamedEvents(u.columns!=="auto"?[]:[ka((H,K)=>{UM(H,4,KL(u.presets)).each(({numRows:ye,numColumns:Ae})=>{yo.setGridSize(H,ye,Ae)})})])})))),Kee=(o,u)=>{const p=H=>({isEnabled:()=>!ko.isDisabled(H),setEnabled:K=>ko.set(H,!K),setIconFill:(K,ye)=>{Mi(H.element,`svg path[class="${K}"], rect[class="${K}"]`).each(Ae=>{Dr(Ae,"fill",ye)})},setActive:K=>{Dr(H.element,"aria-pressed",K),Mi(H.element,"span").each(ye=>{H.getSystem().getByDom(ye).each(Ae=>as.set(Ae,K))})},isActive:()=>Mi(H.element,"span").exists(K=>H.getSystem().getByDom(K).exists(as.isOn)),setText:K=>Mi(H.element,"span").each(ye=>H.getSystem().getByDom(ye).each(Ae=>vo(Ae,uh,{text:K}))),setIcon:K=>Mi(H.element,"span").each(ye=>H.getSystem().getByDom(ye).each(Ae=>vo(Ae,C0,{icon:K}))),setTooltip:K=>{const ye=u.providers.translate(K);Tc(H.element,{"aria-label":ye,title:ye})}}),S=G(M),R={getApi:p,onSetup:o.onSetup};return sP.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...SV(o.tooltip,u.providers)}},onExecute:H=>{const K=p(H);K.isEnabled()&&o.onAction(K)},onItemExecute:(H,K,ye)=>{},splitDropdownBehaviours:pr([ol.splitButton(u.providers.isDisabled),yl(),Jo("split-dropdown-events",[ka((H,K)=>EC(H)),qn(wV,Eo.focus),h0(R,S),hp(R,S)]),bC.config({})]),eventOrder:{[sf()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:u.getSink,fetch:qee(p,o,u.providers),parts:{menu:gx(!1,o.columns,o.presets)},components:[sP.parts.button(R_(o.icon,o.text,L.none(),L.some([as.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),u.providers)),sP.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:nM("chevron-down",u.providers.icons)},buttonBehaviours:pr([ol.splitButton(u.providers.isDisabled),yl(),n4()])}),sP.parts["aria-descriptor"]({text:u.providers.translate("To open the popup, press Shift+Enter")})]})},Jee=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],KC=(o,u)=>(p,S,R)=>{const H=o(p).mapError(K=>jl(K)).getOrDie();return u(H,S,R)},ete={button:KC(zM,(o,u)=>jee(o,u.shared.providers)),togglebutton:KC(yI,(o,u)=>TV(o,u.shared.providers)),menubutton:KC(n_,(o,u)=>RC(o,"tox-tbtn",u,L.none(),!1)),splitbutton:KC(SJ,(o,u)=>Kee(o,u.shared)),grouptoolbarbutton:KC(OJ,(o,u,p)=>{const S=p.ui.registry.getAll().buttons,R=K=>lP(p,{buttons:S,toolbar:K,allowToolbarGroups:!1},u,L.none()),H={[B1]:u.shared.header.isPositionedAtTop()?Qf.TopToBottom:Qf.BottomToTop};switch(ux(p)){case Zf.floating:return Gee(o,u,R,H);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},tte=(o,u,p)=>Bt(ete,o.type).fold(()=>(console.error("skipping button defined by",o),L.none()),S=>L.some(S(o,u,p))),$_={styles:bV,fontsize:Bee,fontsizeinput:zee,fontfamily:Pee,blocks:Tee,align:lV},nte=o=>{const u=ne(Jee,p=>{const S=Oe(p.items,R=>vn(o,R)||vn($_,R));return{name:p.name,items:S}});return Oe(u,p=>p.items.length>0)},rte=o=>{const u=o.split("|");return ne(u,p=>({items:p.trim().split(" ")}))},ote=o=>_(o,u=>vn(u,"name")&&vn(u,"items")),ste=o=>{const u=o.toolbar,p=o.buttons;return u===!1?[]:u===void 0||u===!0?nte(p):h(u)?rte(u):ote(u)?u:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},iP=(o,u,p,S,R,H)=>Bt(u,p.toLowerCase()).orThunk(()=>H.bind(K=>Xe(K,ye=>Bt(u,ye+p.toLowerCase())))).fold(()=>Bt($_,p.toLowerCase()).map(K=>K(o,R)),K=>K.type==="grouptoolbarbutton"&&!S?(console.warn(`Ignoring the '${p}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),L.none()):tte(K,R,o)),lP=(o,u,p,S)=>{const R=ste(u),H=ne(R,K=>{const ye=re(K.items,Ae=>Ae.trim().length===0?[]:iP(o,u.buttons,Ae,u.allowToolbarGroups,p,S).toArray());return{title:L.from(o.translate(K.name)),items:ye}});return Oe(H,K=>K.items.length>0)},JC=(o,u,p,S)=>{const R=u.mainUi.outerContainer,H=p.toolbar,K=p.buttons;if(_(H,h)){const ye=H.map(Ae=>{const Ne={toolbar:Ae,buttons:K,allowToolbarGroups:p.allowToolbarGroups};return lP(o,Ne,S,L.none())});Ia.setToolbars(R,ye)}else Ia.setToolbar(R,lP(o,p,S,L.none()))},eT=td(),kV=eT.os.isiOS()&&eT.os.version.major<=12,ate=(o,u)=>{const{uiMotherships:p}=u,S=o.dom;let R=o.getWin();const H=o.getDoc().documentElement,K=G(Ns(R.innerWidth,R.innerHeight)),ye=G(Ns(H.offsetWidth,H.offsetHeight)),Ae=()=>{const st=K.get();(st.left!==R.innerWidth||st.top!==R.innerHeight)&&(K.set(Ns(R.innerWidth,R.innerHeight)),E4(o))},Ne=()=>{const st=o.getDoc().documentElement,ht=ye.get();(ht.left!==st.offsetWidth||ht.top!==st.offsetHeight)&&(ye.set(Ns(st.offsetWidth,st.offsetHeight)),E4(o))},Ue=st=>{DX(o,st)};S.bind(R,"resize",Ae),S.bind(R,"scroll",Ue);const Je=w2(zt.fromDom(o.getBody()),"load",Ne);o.on("hide",()=>{le(p,st=>{Mo(st.element,"display","none")})}),o.on("show",()=>{le(p,st=>{Ho(st.element,"display")})}),o.on("NodeChange",Ne),o.on("remove",()=>{Je.unbind(),S.unbind(R,"resize",Ae),S.unbind(R,"scroll",Ue),R=null})},ite=(o,u,p)=>{lp(o)&&Zm(p.mainUi.mothership.element,p.popupUi.mothership),Ql(u,p.dialogUi.mothership)};var lte=Object.freeze({__proto__:null,render:(o,u,p,S,R)=>{const{mainUi:H,uiMotherships:K}=u,ye=G(0),Ae=H.outerContainer;xee(o);const Ne=zt.fromDom(R.targetNode),Ue=Xs(ns(Ne));Zm(Ne,H.mothership),ite(o,Ue,u),o.on("SkinLoaded",()=>{Ia.setSidebar(Ae,p.sidebar,c4(o)),JC(o,u,p,S),ye.set(o.getWin().innerWidth),Ia.setMenubar(Ae,nP(o,p)),Ia.setViews(Ae,p.views),ate(o,u)});const Je=Ia.getSocket(Ae).getOrDie("Could not find expected socket element");if(kV){Hi(Je.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const qt=TC(()=>{o.dispatch("ScrollContent")},20),Dn=Bc(Je.element,"scroll",qt.throttle);o.on("remove",Dn.unbind)}LI(o,u),o.addCommand("ToggleSidebar",(qt,Dn)=>{Ia.toggleSidebar(Ae,Dn),o.dispatch("ToggleSidebar")}),o.addQueryValueHandler("ToggleSidebar",()=>{var qt;return(qt=Ia.whichSidebar(Ae))!==null&&qt!==void 0?qt:""}),o.addCommand("ToggleView",(qt,Dn)=>{if(Ia.toggleView(Ae,Dn)){const mn=Ae.element;H.mothership.broadcastOn([Jd()],{target:mn}),le(K,sn=>{sn.broadcastOn([Jd()],{target:mn})}),y(Ia.whichView(Ae))&&(o.focus(),o.nodeChanged(),Ia.refreshToolbar(Ae))}}),o.addQueryValueHandler("ToggleView",()=>{var qt;return(qt=Ia.whichView(Ae))!==null&&qt!==void 0?qt:""});const st=ux(o),ht=()=>{Ia.refreshToolbar(u.mainUi.outerContainer)};(st===Zf.sliding||st===Zf.floating)&&o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const qt=o.getWin().innerWidth;qt!==ye.get()&&(ht(),ye.set(qt))});const At={setEnabled:qt=>{k4(u,!qt)},isEnabled:()=>!ko.isDisabled(Ae)};return{iframeContainer:Je.element.dom,editorContainer:Ae.element.dom,api:At}}});const L_=o=>/^[0-9\.]+(|px)$/i.test(""+o)?L.some(parseInt(""+o,10)):L.none(),Gx=o=>C(o)?o+"px":o,tT=(o,u,p)=>{const S=u.filter(H=>o<H),R=p.filter(H=>o>H);return S.or(R).getOr(o)},AV=o=>{const u=r4(o),p=cx(o),S=iM(o);return L_(u).map(R=>tT(R,p,S))},PV=o=>AV(o).getOr(r4(o)),I_=o=>{const u=G3(o),p=aM(o),S=o4(o);return L_(u).map(R=>tT(R,p,S))},cte=o=>I_(o).getOr(G3(o)),{ToolbarLocation:cP,ToolbarMode:MV}=FY,ute=40,fte=(o,u,p,S,R)=>{const{mainUi:H,uiMotherships:K}=p,ye=Fb.DOM,Ae=hx(o),Ne=K3(o),Ue=o4(o).or(I_(o)),Je=S.shared.header,st=Je.isPositionedAtTop,ht=ux(o),At=ht===MV.sliding||ht===MV.floating,qt=G(!1),Dn=()=>qt.get()&&!o.removed,mn=Co=>At?Co.fold(Q(0),Bs=>Bs.components().length>1?Ha(Bs.components()[1].element):0):0,sn=Co=>{switch(j3(o)){case cP.auto:const Bs=Ia.getToolbar(H.outerContainer),Pr=mn(Bs),oo=Ha(Co.element)-Pr,Bo=hi(u);if(Bo.y>oo)return"top";{const To=pn(u),Yo=Math.max(To.dom.scrollHeight,Ha(To));return Bo.bottom<Yo-oo||Xl().bottom<Bo.bottom-oo?"bottom":"top"}case cP.bottom:return"bottom";case cP.top:default:return"top"}},kn=Co=>{R.on(Bs=>{Fi.setModes(Bs,[Co]),Je.setDockingMode(Co);const Pr=st()?Qf.TopToBottom:Qf.BottomToTop;Dr(Bs.element,B1,Pr)})},Zn=()=>{R.on(Co=>{const Bs=Ue.getOrThunk(()=>{const Pr=L_(Fa(ba(),"margin-left")).getOr(0);return Ci(ba())-Rl(u).left+Pr});Mo(Co.element,"max-width",Bs+"px")})},mr=Co=>{R.on(Bs=>{const Pr=Ia.getToolbar(H.outerContainer),oo=mn(Pr),Bo=hi(u),{top:Fo,left:To}=Gn(o,H.outerContainer.element).fold(()=>({top:st()?Math.max(Bo.y-Ha(Bs.element)+oo,0):Bo.bottom,left:Bo.x}),Fs=>{var sc;const Sf=hi(Fs),mh=(sc=Fs.dom.scrollTop)!==null&&sc!==void 0?sc:0,am=en(Fs,ba()),N0=am?Math.max(Bo.y-Ha(Bs.element)+oo,0):Bo.y-Sf.y+mh-Ha(Bs.element)+oo;return{top:st()?N0:Bo.bottom,left:am?Bo.x:Bo.x-Sf.x}}),Yo={position:"absolute",left:Math.round(To)+"px",top:Math.round(Fo)+"px"},Ea=Co.map(Fs=>{const sc=Ll(),Sf=150,mh=window.innerWidth-(To-sc.left);return{width:Math.max(Math.min(Fs,mh),Sf)+"px"}}).getOr({});Hi(H.outerContainer.element,{...Yo,...Ea})})},Gn=(Co,Bs)=>lp(Co)?Kb(Bs):L.none(),Or=()=>{le(K,Co=>{Co.broadcastOn([bv()],{})})},Mr=()=>{if(Ae)return L.none();if(Rl(H.outerContainer.element).left+Pf(H.outerContainer.element)>=window.innerWidth-ute||Za(H.outerContainer.element,"width").isSome()){Mo(H.outerContainer.element,"position","absolute"),Mo(H.outerContainer.element,"left","0px"),Ho(H.outerContainer.element,"width");const Bs=Pf(H.outerContainer.element);return L.some(Bs)}else return L.none()},is=Co=>{if(!Dn())return;Ae||Zn();const Bs=Ae?L.none():Mr();At&&Ia.refreshToolbar(H.outerContainer),Ae||mr(Bs),Ne&&R.on(Co),Or()},Gr=()=>Ae||!Ne||!Dn()?!1:R.get().exists(Co=>{const Bs=Je.getDockingMode(),Pr=sn(Co);return Pr!==Bs?(kn(Pr),!0):!1});return{isVisible:Dn,isPositionedAtTop:st,show:()=>{qt.set(!0),Mo(H.outerContainer.element,"display","flex"),ye.addClass(o.getBody(),"mce-edit-focus"),le(K,Co=>{Ho(Co.element,"display")}),Gr(),lp(o)?is(Co=>Fi.isDocked(Co)?Fi.reset(Co):Fi.refresh(Co)):is(Fi.refresh)},hide:()=>{qt.set(!1),Mo(H.outerContainer.element,"display","none"),ye.removeClass(o.getBody(),"mce-edit-focus"),le(K,Co=>{Mo(Co.element,"display","none")})},update:is,updateMode:()=>{Gr()&&is(Fi.reset)},repositionPopups:Or}},EV=(o,u)=>{const p=hi(o);return{pos:u?p.y:p.bottom,bounds:p}},dte=(o,u,p,S)=>{const R=G(EV(u,p.isPositionedAtTop())),H=Ne=>{const{pos:Ue,bounds:Je}=EV(u,p.isPositionedAtTop()),{pos:st,bounds:ht}=R.get(),At=Je.height!==ht.height||Je.width!==ht.width;R.set({pos:Ue,bounds:Je}),At&&E4(o,Ne),p.isVisible()&&(st!==Ue?p.update(Fi.reset):At&&(p.updateMode(),p.repositionPopups()))};S||(o.on("activate",p.show),o.on("deactivate",p.hide)),o.on("SkinLoaded ResizeWindow",()=>p.update(Fi.reset)),o.on("NodeChange keydown",Ne=>{requestAnimationFrame(()=>H(Ne))});let K=0;const ye=i9(()=>p.update(Fi.refresh),33);o.on("ScrollWindow",()=>{const Ne=Ll().left;Ne!==K&&(K=Ne,ye.throttle()),p.updateMode()}),lp(o)&&o.on("ElementScroll",Ne=>{p.update(Fi.refresh)});const Ae=Fm();Ae.set(w2(zt.fromDom(o.getBody()),"load",Ne=>H(Ne.raw))),o.on("remove",()=>{Ae.clear()})};var hte=Object.freeze({__proto__:null,render:(o,u,p,S,R)=>{const{mainUi:H}=u,K=ps(),ye=zt.fromDom(R.targetNode),Ae=fte(o,ye,u,S,K),Ne=LL(o);See(o);const Ue=()=>{if(K.isSet()){Ae.show();return}K.set(Ia.getHeader(H.outerContainer).getOrDie());const st=bM(o);lp(o)?(Zm(ye,H.mothership),Zm(ye,u.popupUi.mothership)):Ql(st,H.mothership),Ql(st,u.dialogUi.mothership),JC(o,u,p,S),Ia.setMenubar(H.outerContainer,nP(o,p)),Ae.show(),dte(o,ye,Ae,Ne),o.nodeChanged()};o.on("show",Ue),o.on("hide",Ae.hide),Ne||(o.on("focus",Ue),o.on("blur",Ae.hide)),o.on("init",()=>{(o.hasFocus()||Ne)&&Ue()}),LI(o,u);const Je={show:Ue,hide:Ae.hide,setEnabled:st=>{k4(u,!st)},isEnabled:()=>!ko.isDisabled(H.outerContainer)};return{editorContainer:H.outerContainer.element.dom,api:Je}}});const mte=()=>{const o=ps(),u=ps(),p=ps();return{dialogUi:o,popupUi:u,mainUi:p,getUiMotherships:()=>{const H=o.get().map(ye=>ye.mothership),K=u.get().map(ye=>ye.mothership);return H.fold(()=>K.toArray(),ye=>K.fold(()=>[ye],Ae=>en(ye.element,Ae.element)?[ye]:[ye,Ae]))},lazyGetInOuterOrDie:(H,K)=>()=>p.get().bind(ye=>K(ye.outerContainer)).getOrDie(`Could not find ${H} element in OuterContainer`)}},gte="contexttoolbar-show",N_="contexttoolbar-hide",pte=o=>({hide:()=>As(o,of()),getValue:()=>Fr.getValue(o)}),B_=(o,u)=>qn(f9,(p,S)=>{const R=o.get(p),H=pte(R);u.onAction(H,S.event.buttonApi)}),vte=(o,u,p)=>{const{primary:S,...R}=u.original,H=ia(zM({...R,type:"button",onAction:M}));return CV(H,p,[B_(o,u)])},yte=(o,u,p)=>{const{primary:S,...R}=u.original,H=ia(yI({...R,type:"togglebutton",onAction:M}));return D_(H,p,[B_(o,u)])},bte=o=>o.type==="contextformtogglebutton",Ote=(o,u,p)=>bte(u)?yte(o,u,p):vte(o,u,p),xte=(o,u,p)=>{const S=ne(u,K=>la(Ote(o,K,p)));return{asSpecs:()=>ne(S,K=>K.asSpec()),findPrimary:K=>Xe(u,(ye,Ae)=>ye.primary?L.from(S[Ae]).bind(Ne=>Ne.getOpt(K)).filter(B(ko.isDisabled)):L.none())}},jx=(o,u)=>{const p=o.label.fold(()=>({}),H=>({"aria-label":H})),S=la(zb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:o.initValue(),inputAttributes:p,selectOnFocus:!0,inputBehaviours:pr([yo.config({mode:"special",onEnter:H=>R.findPrimary(H).map(K=>(_m(K),!0)),onLeft:(H,K)=>(K.cut(),L.none()),onRight:(H,K)=>(K.cut(),L.none())})])})),R=xte(S,o.commands,u);return[{title:L.none(),items:[S.asSpec()]},{title:L.none(),items:R.asSpecs()}]},wte={renderContextForm:(o,u,p)=>qA({type:o,uid:Kr("context-toolbar"),initGroups:jx(u,p),onEscape:L.none,cyclicKeying:!0,providers:p}),buildInitGroups:jx},_V=(o,u,p)=>u.bottom-o.y>=p&&o.bottom-u.y>=p,RV=o=>{const u=o.getBoundingClientRect();if(u.height<=0&&u.width<=0){const p=wo(zt.fromDom(o.startContainer),o.startOffset).element;return(Tt(p)?Fn(p):L.some(p)).filter(St).map(R=>R.dom.getBoundingClientRect()).getOr(u)}else return u},nT=o=>{const u=o.selection.getRng(),p=RV(u);if(o.inline){const S=Ll();return ni(S.left+p.left,S.top+p.top,p.width,p.height)}else{const S=Au(zt.fromDom(o.getBody()));return ni(S.x+p.left,S.y+p.top,p.width,p.height)}},DV=(o,u)=>u.filter(p=>ea(p)&&Ee(p)).map(Au).getOrThunk(()=>nT(o)),$V=(o,u,p)=>{const S=Math.max(o.x+p,u.x),R=Math.min(o.right-p,u.right);return{x:S,width:R-S}},Cte=(o,u,p,S,R,H)=>{const K=zt.fromDom(o.getContainer()),ye=Mi(K,".tox-editor-header").getOr(K),Ae=hi(ye),Ne=Ae.y>=u.bottom,Ue=S&&!Ne;if(o.inline&&Ue)return{y:Math.max(Ae.bottom+H,p.y),bottom:p.bottom};if(o.inline&&!Ue)return{y:p.y,bottom:Math.min(Ae.y-H,p.bottom)};const Je=R==="line"?hi(K):u;return Ue?{y:Math.max(Ae.bottom+H,p.y),bottom:Math.min(Je.bottom-H,p.bottom)}:{y:Math.max(Je.y+H,p.y),bottom:Math.min(Ae.y-H,p.bottom)}},tO=(o,u,p,S=0)=>{const R=xy(window),H=hi(zt.fromDom(o.getContentAreaContainer())),K=dx(o)||d4(o)||q3(o),{x:ye,width:Ae}=$V(H,R,S);if(o.inline&&!K)return ni(ye,R.y,Ae,R.height);{const Ne=u.header.isPositionedAtTop(),{y:Ue,bottom:Je}=Cte(o,H,R,Ne,p,S);return ni(ye,Ue,Ae,Je-Ue)}},nO=12,fP={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Q_={maxHeightFunction:N1(),maxWidthFunction:u_()},LV=(o,u)=>{const p=o.selection.getRng(),S=wo(zt.fromDom(p.startContainer),p.startOffset);return p.startContainer===p.endContainer&&p.startOffset===p.endOffset-1&&en(S.element,u)},Tte=(o,u,p)=>{const S=Za(o,"position");Mo(o,"position",u);const R=p(o);return S.each(H=>Mo(o,"position",H)),R},F_=o=>o==="node",kte=(o,u,p,S,R)=>{const H=nT(o),K=S.lastElement().exists(ye=>en(p,ye));if(LV(o,p))return K?R9:tm;if(K)return Tte(u,S.getMode(),()=>_V(H,hi(u),-20)&&!S.isReposition()?mK:R9);{const ye=S.getMode()==="fixed"?R.y+Ll().top:R.y,Ae=Ha(u)+nO;return ye+Ae<=H.y?tm:Qx}},Ate=(o,u,p,S)=>{const R=Ae=>(Ne,Ue,Je,st,ht)=>{const At=kte(o,st,Ae,p,ht),qt={...Ne,y:ht.y,height:ht.height};return{...At(qt,Ue,Je,st,ht),alwaysFit:!0}},H=Ae=>F_(S)?[R(Ae)]:[];return u?{onLtr:Ae=>[ml,hl,nc,Jc,fc,Ic].concat(H(Ae)),onRtl:Ae=>[ml,nc,hl,fc,Jc,Ic].concat(H(Ae))}:{onLtr:Ae=>[Ic,ml,Jc,hl,fc,nc].concat(H(Ae)),onRtl:Ae=>[Ic,ml,fc,nc,Jc,hl].concat(H(Ae))}},Pte=(o,u,p,S)=>u==="line"?{bubble:Bh(nO,0,fP),layouts:{onLtr:()=>[kw],onRtl:()=>[jy]},overrides:Q_}:{bubble:Bh(0,nO,fP,1/nO),layouts:Ate(o,p,S,u),overrides:Q_},V_=(o,u)=>{const p=Oe(u,H=>H.predicate(o.dom)),{pass:S,fail:R}=ve(p,H=>H.type==="contexttoolbar");return{contextToolbars:S,contextForms:R}},Mte=o=>{if(o.length<=1)return o;{const u=H=>we(o,K=>K.position===H),p=H=>Oe(o,K=>K.position===H),S=u("selection"),R=u("node");if(S||R)if(R&&S){const H=p("node"),K=ne(p("selection"),ye=>({...ye,position:"node"}));return H.concat(K)}else return p(S?"selection":"node");else return p("line")}},IV=o=>{if(o.length<=1)return o;{const u=S=>Ve(o,R=>R.position===S);return u("selection").orThunk(()=>u("node")).orThunk(()=>u("line")).map(S=>S.position).fold(()=>[],S=>Oe(o,R=>R.position===S))}},dP=(o,u,p)=>{const S=V_(o,u);if(S.contextForms.length>0)return L.some({elem:o,toolbars:[S.contextForms[0]]});{const R=V_(o,p);if(R.contextForms.length>0)return L.some({elem:o,toolbars:[R.contextForms[0]]});if(S.contextToolbars.length>0||R.contextToolbars.length>0){const H=Mte(S.contextToolbars.concat(R.contextToolbars));return L.some({elem:o,toolbars:H})}else return L.none()}},NV=(o,u,p)=>o(u)?L.none():jt(u,S=>{if(St(S)){const{contextToolbars:R,contextForms:H}=V_(S,p.inNodeScope),K=H.length>0?H:IV(R);return K.length>0?L.some({elem:S,toolbars:K}):L.none()}else return L.none()},o),BV=(o,u)=>{const p=zt.fromDom(u.getBody()),S=K=>en(K,p),R=K=>!S(K)&&!on(p,K),H=zt.fromDom(u.selection.getNode());return R(H)?L.none():dP(H,o.inNodeScope,o.inEditorScope).orThunk(()=>NV(S,H,o))},z_=(o,u)=>{const p={},S=[],R=[],H={},K={},ye=(Ue,Je)=>{const st=ia(iX(Je));p[Ue]=st,st.launch.map(ht=>{H["form:"+Ue]={...Je.launch,type:ht.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{u(st)}}}),st.scope==="editor"?R.push(st):S.push(st),K[Ue]=st},Ae=(Ue,Je)=>{cX(Je).each(st=>{Je.scope==="editor"?R.push(st):S.push(st),K[Ue]=st})},Ne=ct(o);return le(Ne,Ue=>{const Je=o[Ue];Je.type==="contextform"?ye(Ue,Je):Je.type==="contexttoolbar"&&Ae(Ue,Je)}),{forms:p,inNodeScope:S,inEditorScope:R,lookupTable:K,formNavigators:H}},QV=Kr("forward-slide"),Z_=Kr("backward-slide"),H_=Kr("change-slide-event"),U_="tox-pop--resizing",hP=o=>{const u=G([]);return ai.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:p=>{u.set([]),ai.getContent(p).each(S=>{Ho(S.element,"visibility")}),ja(p.element,U_),Ho(p.element,"width")},inlineBehaviours:pr([Jo("context-toolbar-events",[Mh(tl(),(p,S)=>{S.event.raw.propertyName==="width"&&(ja(p.element,U_),Ho(p.element,"width"))}),qn(H_,(p,S)=>{const R=p.element;Ho(R,"width");const H=Ci(R);ai.setContent(p,S.event.contents),Pi(R,U_);const K=Ci(R);Mo(R,"width",H+"px"),ai.getContent(p).each(ye=>{S.event.focus.bind(Ae=>(mu(Ae),fd(R))).orThunk(()=>(yo.focusIn(ye),Nh(ns(R))))}),setTimeout(()=>{Mo(p.element,"width",K+"px")},0)}),qn(QV,(p,S)=>{ai.getContent(p).each(R=>{u.set(u.get().concat([{bar:R,focus:Nh(ns(p.element))}]))}),vo(p,H_,{contents:S.event.forwardContents,focus:L.none()})}),qn(Z_,(p,S)=>{Qe(u.get()).each(R=>{u.set(u.get().slice(0,u.get().length-1)),vo(p,H_,{contents:lf(R.bar),focus:R.focus})})})]),yo.config({mode:"special",onEscape:p=>Qe(u.get()).fold(()=>o.onEscape(),S=>(As(p,Z_),L.some(!0)))})]),lazySink:()=>jo.value(o.sink)})},mP="tox-pop--transition",Ete=(o,u,p,S)=>{const R=S.backstage,H=R.shared,K=td().deviceType.isTouch,ye=ps(),Ae=ps(),Ne=ps(),Ue=uc(hP({sink:p,onEscape:()=>(o.focus(),L.some(!0))})),Je=()=>{const Gr=Ne.get().getOr("node"),No=F_(Gr)?1:0;return tO(o,H,Gr,No)},st=()=>!o.removed&&!(K()&&R.isContextMenuOpen()),ht=Gr=>ln(Xn(Gr,ye.get(),en),!0),At=()=>{if(st()){const Gr=Je(),No=ln(Ne.get(),"node")?DV(o,ye.get()):nT(o);return Gr.height<=0||!_V(No,Gr,.01)}else return!0},qt=()=>{ye.clear(),Ae.clear(),Ne.clear(),ai.hide(Ue)},Dn=()=>{if(ai.isOpen(Ue)){const Gr=Ue.element;Ho(Gr,"display"),At()?Mo(Gr,"display","none"):(Ae.set(0),ai.reposition(Ue))}},mn=Gr=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Gr],behaviours:pr([yo.config({mode:"acyclic"}),Jo("pop-dialog-wrap-events",[ka(No=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>yo.focusIn(No))}),Eh(No=>{o.shortcuts.remove("ctrl+F9")})])])}),sn=Ga(()=>z_(u,Gr=>{const No=mr([Gr]);vo(Ue,QV,{forwardContents:mn(No)})})),kn=(Gr,No)=>lP(o,{buttons:Gr,toolbar:No.items,allowToolbarGroups:!1},S.backstage,L.some(["form:"])),Zn=(Gr,No)=>wte.buildInitGroups(Gr,No),mr=Gr=>{const{buttons:No}=o.ui.registry.getAll(),Ro=sn(),ra={...No,...Ro.formNavigators},Co=ux(o)===Zf.scrolling?Zf.scrolling:Zf.default,Bs=Ie(ne(Gr,Pr=>Pr.type==="contexttoolbar"?kn(ra,Pr):Zn(Pr,H.providers)));return qA({type:Co,uid:Kr("context-toolbar"),initGroups:Bs,onEscape:L.none,cyclicKeying:!0,providers:H.providers})},Gn=(Gr,No)=>{const Ro=Gr==="node"?H.anchors.node(No):H.anchors.cursor(),ra=Pte(o,Gr,K(),{lastElement:ye.get,isReposition:()=>ln(Ae.get(),0),getMode:()=>dc.getMode(p)});return Ta(Ro,ra)},Or=(Gr,No)=>{if(is.cancel(),!st())return;const Ro=mr(Gr),ra=Gr[0].position,Co=Gn(ra,No);Ne.set(ra),Ae.set(1);const Bs=Ue.element;Ho(Bs,"display"),ht(No)||(ja(Bs,mP),dc.reset(p,Ue)),ai.showWithinBounds(Ue,mn(Ro),{anchor:Co,transition:{classes:[mP],mode:"placement"}},()=>L.some(Je())),No.fold(ye.clear,ye.set),At()&&Mo(Bs,"display","none")};let Mr=!1;const is=i9(()=>{if(!(!o.hasFocus()||o.removed||Mr))if(nl(Ue.element,mP))is.throttle();else{const Gr=sn();BV(Gr,o).fold(qt,No=>{Or(No.toolbars,L.some(No.elem))})}},17);o.on("init",()=>{o.on("remove",qt),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Dn),o.on("click keyup focus SetContent",is.throttle),o.on(N_,qt),o.on(gte,Gr=>{const No=sn();Bt(No.lookupTable,Gr.toolbarKey).each(Ro=>{Or([Ro],lt(Gr.target!==o,Gr.target)),ai.getContent(Ue).each(yo.focusIn)})}),o.on("focusout",Gr=>{Nb.setEditorTimeout(o,()=>{fd(p.element).isNone()&&fd(Ue.element).isNone()&&qt()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&qt()}),o.on("AfterProgressState",Gr=>{Gr.state?qt():o.hasFocus()&&is.throttle()}),o.on("dragstart",()=>{Mr=!0}),o.on("dragend drop",()=>{Mr=!1}),o.on("NodeChange",Gr=>{fd(Ue.element).fold(is.throttle,M)})})},_te=o=>{le([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],p=>{o.ui.registry.addToggleButton(p.name,{tooltip:p.text,icon:p.icon,onAction:pf(o,p.cmd),onSetup:_4(o,p.name)})}),o.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Ou(o),onAction:pf(o,"JustifyNone")})},FV=(o,u)=>{const p=()=>{const S=u.getOptions(o),R=u.getCurrent(o).map(u.hash),H=ps();return ne(S,K=>({type:"togglemenuitem",text:u.display(K),onSetup:ye=>{const Ae=Ue=>{Ue&&(H.on(Je=>Je.setActive(!1)),H.set(ye)),ye.setActive(Ue)};Ae(ln(R,u.hash(K)));const Ne=u.watcher(o,K,Ae);return()=>{H.clear(),Ne()}},onAction:()=>u.setCurrent(o,K)}))};o.ui.registry.addMenuButton(u.name,{tooltip:u.text,icon:u.icon,fetch:S=>S(p()),onSetup:u.onToolbarSetup}),o.ui.registry.addNestedMenuItem(u.name,{type:"nestedmenuitem",text:u.text,getSubmenuItems:p,onSetup:u.onMenuSetup})},Rte=o=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:ZL,hash:u=>Ree(u,["fixed","relative","empty"]).getOr(u),display:z,watcher:(u,p,S)=>u.formatter.formatChanged("lineheight",S,!1,{value:p}).unbind,getCurrent:u=>L.from(u.queryCommandValue("LineHeight")),setCurrent:(u,p)=>u.execCommand("LineHeight",!1,p),onToolbarSetup:Ou(o),onMenuSetup:Ou(o)}),Dte=o=>L.from(DL(o)).map(p=>({name:"language",text:"Language",icon:"language",getOptions:Q(p),hash:S=>O(S.customCode)?S.code:`${S.code}/${S.customCode}`,display:S=>S.title,watcher:(S,R,H)=>{var K;return S.formatter.formatChanged("lang",H,!1,{value:R.code,customValue:(K=R.customCode)!==null&&K!==void 0?K:null}).unbind},getCurrent:S=>{const R=zt.fromDom(S.selection.getNode());return nn(R,H=>L.some(H).filter(St).bind(K=>$i(K,"lang").map(Ae=>{const Ne=$i(K,"data-mce-lang").getOrUndefined();return{code:Ae,customCode:Ne,title:""}})))},setCurrent:(S,R)=>S.execCommand("Lang",!1,R),onToolbarSetup:S=>{const R=Fm();return S.setActive(o.formatter.match("lang",{},void 0,!0)),R.set(o.formatter.formatChanged("lang",S.setActive,!0)),uC(R.clear,Ou(o)(S))},onMenuSetup:Ou(o)})),VV=o=>{FV(o,Rte(o)),Dte(o).each(u=>FV(o,u))},zV=(o,u)=>{Cee(o,u),Mee(o,u),OV(o,u),kee(o,u),Zee(o,u)},$te=o=>Gh(o,"NodeChange",u=>{u.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),Lte=o=>{o.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:$te(o),onAction:pf(o,"outdent")}),o.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Ou(o),onAction:pf(o,"indent")})},ZV=o=>{Lte(o)},HV=(o,u)=>p=>{p.setActive(u.get());const S=R=>{u.set(R.state),p.setActive(R.state)};return o.on("PastePlainTextToggle",S),uC(()=>o.off("PastePlainTextToggle",S),Ou(o)(p))},Ite=o=>{const u=G(l4(o)),p=()=>o.execCommand("mceTogglePlainTextPaste");o.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:HV(o,u)}),o.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:HV(o,u)})},W_=(o,u)=>()=>{o.execCommand("mceToggleFormat",!1,u)},Nte=o=>{Op.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(u,p)=>{o.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:_4(o,u.name),onAction:W_(o,u.name)})});for(let u=1;u<=6;u++){const p="h"+u;o.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+u,onSetup:_4(o,p),onAction:W_(o,p)})}},Bte=o=>{Op.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],u=>{o.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onAction:pf(o,u.action)})}),Op.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{o.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:Ou(o),onAction:pf(o,u.action)})})},Y_=o=>{Op.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],u=>{o.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onAction:pf(o,u.action),onSetup:_4(o,u.name)})})},Qte=o=>{Nte(o),Bte(o),Y_(o)},Fte=o=>{Op.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{o.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onAction:pf(o,u.action)})}),Op.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{o.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onSetup:Ou(o),onAction:pf(o,u.action)})}),o.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Ou(o),onAction:W_(o,"code")})},X_=o=>{Qte(o),Fte(o)},rT=(o,u)=>Gh(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",p=>{p.setEnabled(!o.mode.isReadOnly()&&o.undoManager[u]())}),UV=o=>{o.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:rT(o,"hasUndo"),onAction:pf(o,"undo")}),o.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:rT(o,"hasRedo"),onAction:pf(o,"redo")})},Vte=o=>{o.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:rT(o,"hasUndo"),onAction:pf(o,"undo")}),o.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:rT(o,"hasRedo"),onAction:pf(o,"redo")})},zte=o=>{UV(o),Vte(o)},Zte=o=>Gh(o,"VisualAid",u=>{u.setActive(o.hasVisual)}),Hte=o=>{o.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Zte(o),onAction:pf(o,"mceToggleVisualAid")})},Ute=o=>{o.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:pf(o,"mceToggleVisualAid")})},G_=o=>{Ute(o),Hte(o)},Wte=(o,u)=>{_te(o),X_(o),zV(o,u),zte(o),yE(o),G_(o),ZV(o),VV(o),Ite(o)},WV=o=>h(o)?o.split(/[ ,]/):o,YV=o=>u=>u.options.get(o),Yte=o=>{const u=o.options.register;u("contextmenu_avoid_overlap",{processor:"string",default:""}),u("contextmenu_never_use_native",{processor:"boolean",default:!1}),u("contextmenu",{processor:p=>p===!1?{value:[],valid:!0}:h(p)||_(p,h)?{value:WV(p),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},gP=YV("contextmenu_never_use_native"),Xte=YV("contextmenu_avoid_overlap"),XV=o=>GV(o).length===0,GV=o=>{const u=o.ui.registry.getAll().contextMenus,p=o.options.get("contextmenu");return o.options.isSet("contextmenu")?p:Oe(p,S=>vn(u,S))},oT=(o,u)=>({type:"makeshift",x:o,y:u}),j_=(o,u,p)=>oT(o.x+u,o.y+p),jV=o=>o.type==="longpress"||o.type.indexOf("touch")===0,Gte=o=>{if(jV(o)){const u=o.touches[0];return oT(u.pageX,u.pageY)}else return oT(o.pageX,o.pageY)},jte=o=>{if(jV(o)){const u=o.touches[0];return oT(u.clientX,u.clientY)}else return oT(o.clientX,o.clientY)},qte=(o,u)=>{const p=Fb.DOM.getPos(o);return j_(u,p.x,p.y)},Kte=(o,u)=>u.type==="contextmenu"||u.type==="longpress"?o.inline?Gte(u):qte(o.getContentAreaContainer(),jte(u)):q_(o),q_=o=>({type:"selection",root:zt.fromDom(o.selection.getNode())}),Jte=o=>({type:"node",node:L.some(zt.fromDom(o.selection.getNode())),root:zt.fromDom(o.getBody())}),qV=(o,u,p)=>{switch(p){case"node":return Jte(o);case"point":return Kte(o,u);case"selection":return q_(o)}},ene=(o,u,p,S,R,H)=>{const K=p(),ye=qV(o,u,H);Lx(K,eg.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!1,search:L.none()}).map(Ae=>{u.preventDefault(),ai.showMenuAt(R,{anchor:ye},{menu:{markers:Mv("normal")},data:Ae})})},tne={onLtr:()=>[ml,hl,nc,Jc,fc,Ic,tm,Qx,FC,QC,qb,BC],onRtl:()=>[ml,nc,hl,fc,Jc,Ic,tm,Qx,qb,BC,FC,QC]},nne=12,rne={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},one=(o,u)=>{const p=o.selection;if(p.isCollapsed()||u.touches.length<1)return!1;{const S=u.touches[0],R=p.getRng();return t3(o.getWin(),Bl.domRange(R)).exists(K=>K.left<=S.clientX&&K.right>=S.clientX&&K.top<=S.clientY&&K.bottom>=S.clientY)}},sne=o=>{const u=o.selection.getRng(),p=()=>{Nb.setEditorTimeout(o,()=>{o.selection.setRng(u)},10),H()};o.once("touchend",p);const S=K=>{K.preventDefault(),K.stopImmediatePropagation()};o.on("mousedown",S,!0);const R=()=>H();o.once("longpresscancel",R);const H=()=>{o.off("touchend",p),o.off("longpresscancel",R),o.off("mousedown",S)}},KV=(o,u,p)=>{const S=qV(o,u,p);return{bubble:Bh(0,p==="point"?nne:0,rne),layouts:tne,overrides:{maxWidthFunction:u_(),maxHeightFunction:N1()},...S}},ane=(o,u,p,S,R,H,K)=>{const ye=KV(o,u,H);Lx(p,eg.CLOSE_ON_EXECUTE,S,{isHorizontalMenu:!0,search:L.none()}).map(Ae=>{u.preventDefault();const Ne=K?bu.HighlightMenuAndItem:bu.HighlightNone;ai.showMenuWithinBounds(R,{anchor:ye},{menu:{markers:Mv("normal"),highlightOnOpen:Ne},data:Ae,type:"horizontal"},()=>L.some(tO(o,S.shared,H==="node"?"node":"selection"))),o.dispatch(N_)})},JV=(o,u,p,S,R,H)=>{const K=td(),ye=K.os.isiOS(),Ae=K.os.isMacOS(),Ne=K.os.isAndroid(),Ue=K.deviceType.isTouch(),Je=()=>!(Ne||ye||Ae&&Ue),st=()=>{const ht=p();ane(o,u,ht,S,R,H,Je())};if((Ae||ye)&&H!=="node"){const ht=()=>{sne(o),st()};one(o,u)?ht():(o.once("selectionchange",ht),o.once("touchend",()=>o.off("selectionchange",ht)))}else st()},ez=o=>h(o)?o==="|":o.type==="separator",K_={type:"separator"},tz=o=>{const u=p=>({text:p.text,icon:p.icon,enabled:p.enabled,shortcut:p.shortcut});if(h(o))return o;switch(o.type){case"separator":return K_;case"submenu":return{type:"nestedmenuitem",...u(o),getSubmenuItems:()=>{const S=o.getSubmenuItems();return h(S)?S:ne(S,tz)}};default:const p=o;return{type:"menuitem",...u(p),onAction:I(p.onAction)}}},_0=(o,u)=>{if(u.length===0)return o;const S=Qe(o).filter(R=>!ez(R)).fold(()=>[],R=>[K_]);return o.concat(S).concat(u).concat([K_])},nz=(o,u,p)=>{const S=Te(u,(R,H)=>Bt(o,H.toLowerCase()).map(K=>{const ye=K.update(p);if(h(ye)&&dn(Pt(ye)))return _0(R,ye.split(" "));if(v(ye)&&ye.length>0){const Ae=ne(ye,tz);return _0(R,Ae)}else return R}).getOrThunk(()=>R.concat([H])),[]);return S.length>0&&ez(S[S.length-1])&&S.pop(),S},ine=(o,u)=>u.ctrlKey&&!gP(o),lne=o=>o.type==="longpress"||vn(o,"touches"),rz=(o,u)=>!lne(u)&&(u.button!==2||u.target===o.getBody()&&u.pointerType===""),oz=(o,u)=>rz(o,u)?o.selection.getStart(!0):u.target,sz=(o,u)=>{const p=Xte(o),S=rz(o,u)?"selection":"point";if(dn(p)){const R=oz(o,u);return mC(zt.fromDom(R),p)?"node":S}else return S},cne=(o,u,p)=>{const R=td().deviceType.isTouch,H=uc(ai.sketch({dom:{tag:"div"},lazySink:u,onEscape:()=>o.focus(),onShow:()=>p.setContextMenuState(!0),onHide:()=>p.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pr([Jo("dismissContextMenu",[qn(Ng(),(Ae,Ne)=>{Ps.close(Ae),o.focus()})])])})),K=()=>ai.hide(H),ye=Ae=>{if(gP(o)&&Ae.preventDefault(),ine(o,Ae)||XV(o))return;const Ne=sz(o,Ae),Ue=()=>{const st=oz(o,Ae),ht=o.ui.registry.getAll(),At=GV(o);return nz(ht.contextMenus,At,st)};(R()?JV:ene)(o,Ae,Ue,p,H,Ne)};o.on("init",()=>{const Ae="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(R()?"":" ResizeWindow");o.on(Ae,K),o.on("longpress contextmenu",ye)})},J_=Ce.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),pP=o=>u=>u.translate(-o.left,-o.top),vP=o=>u=>u.translate(o.left,o.top),Iv=o=>(u,p)=>Te(o,(S,R)=>R(S),Ns(u,p)),yP=(o,u,p)=>o.fold(Iv([vP(p),pP(u)]),Iv([pP(u)]),Iv([])),qx=(o,u,p)=>o.fold(Iv([vP(p)]),Iv([]),Iv([vP(u)])),az=(o,u,p)=>o.fold(Iv([]),Iv([pP(p)]),Iv([vP(u),pP(p)])),une=(o,u,p,S,R,H)=>{const K=qx(o,R,H),ye=qx(u,R,H);return Math.abs(K.left-ye.left)<=p&&Math.abs(K.top-ye.top)<=S},fne=(o,u,p,S,R,H)=>{const K=qx(o,R,H),ye=qx(u,R,H),Ae=Math.abs(K.left-ye.left),Ne=Math.abs(K.top-ye.top);return Ns(Ae,Ne)},eR=(o,u,p)=>{const S=o.fold((R,H)=>({position:L.some("absolute"),left:L.some(R+"px"),top:L.some(H+"px")}),(R,H)=>({position:L.some("absolute"),left:L.some(R-p.left+"px"),top:L.some(H-p.top+"px")}),(R,H)=>({position:L.some("fixed"),left:L.some(R+"px"),top:L.some(H+"px")}));return{right:L.none(),bottom:L.none(),...S}},iz=(o,u,p)=>o.fold((S,R)=>R0(S+u,R+p),(S,R)=>D0(S+u,R+p),(S,R)=>rO(S+u,R+p)),tR=(o,u,p,S)=>{const R=(H,K)=>(ye,Ae)=>{const Ne=H(u,p,S);return K(ye.getOr(Ne.left),Ae.getOr(Ne.top))};return o.fold(R(az,R0),R(qx,D0),R(yP,rO))},R0=J_.offset,D0=J_.absolute,rO=J_.fixed,bP=(o,u)=>{const p=sa(o,u);return O(p)?NaN:parseInt(p,10)},dne=(o,u)=>{const p=o.element,S=bP(p,u.leftAttr),R=bP(p,u.topAttr);return isNaN(S)||isNaN(R)?L.none():L.some(Ns(S,R))},hne=(o,u,p)=>{const S=o.element;Dr(S,u.leftAttr,p.left+"px"),Dr(S,u.topAttr,p.top+"px")},mne=(o,u)=>{const p=o.element;aa(p,u.leftAttr),aa(p,u.topAttr)},gne=(o,u,p,S)=>dne(o,u).fold(()=>p,R=>rO(R.left+S.left,R.top+S.top)),pne=(o,u,p,S,R,H)=>{const K=gne(o,u,p,S),ye=u.mustSnap?yne(o,u,K,R,H):bne(o,u,K,R,H),Ae=yP(K,R,H);return hne(o,u,Ae),ye.fold(()=>({coord:rO(Ae.left,Ae.top),extra:L.none()}),Ne=>({coord:Ne.output,extra:Ne.extra}))},vne=(o,u)=>{mne(o,u)},lz=(o,u,p,S)=>Xe(o,R=>{const H=R.sensor;return une(u,H,R.range.left,R.range.top,p,S)?L.some({output:tR(R.output,u,p,S),extra:R.extra}):L.none()}),yne=(o,u,p,S,R)=>{const H=u.getSnapPoints(o);return lz(H,p,S,R).orThunk(()=>Te(H,(Ae,Ne)=>{const Ue=Ne.sensor,Je=fne(p,Ue,Ne.range.left,Ne.range.top,S,R);return Ae.deltas.fold(()=>({deltas:L.some(Je),snap:L.some(Ne)}),st=>{const ht=(Je.left+Je.top)/2,At=(st.left+st.top)/2;return ht<=At?{deltas:L.some(Je),snap:L.some(Ne)}:Ae})},{deltas:L.none(),snap:L.none()}).snap.map(Ae=>({output:tR(Ae.output,p,S,R),extra:Ae.extra})))},bne=(o,u,p,S,R)=>{const H=u.getSnapPoints(o);return lz(H,p,S,R)},One=(o,u,p)=>({coord:tR(o.output,o.output,u,p),extra:o.extra});var xne=Object.freeze({__proto__:null,snapTo:(o,u,p,S)=>{const R=u.getTarget(o.element);if(u.repositionTarget){const H=Cn(o.element),K=Ll(H),ye=sF(R),Ae=One(S,K,ye),Ne=eR(Ae.coord,K,ye);fr(R,Ne)}}});const nR="data-initial-z-index",Sne=o=>{Fn(o.element).filter(St).each(u=>{$i(u,nR).fold(()=>Ho(u,"z-index"),p=>Mo(u,"z-index",p)),aa(u,nR)})},wne=o=>{Fn(o.element).filter(St).each(u=>{Za(u,"z-index").each(p=>{Dr(u,nR,p)}),Mo(u,"z-index",Fa(o.element,"z-index"))})},cz=(o,u)=>{o.getSystem().addToGui(u),wne(u)},Cne=o=>{Sne(o),o.getSystem().removeFromGui(o)},sT=(o,u,p)=>o.getSystem().build(tg.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[u]},events:p}));var Tne=Ec("snaps",[er("getSnapPoints"),Ds("onSensor"),er("leftAttr"),er("topAttr"),Mn("lazyViewport",Xl),Mn("mustSnap",!1)]);const rR=[Mn("useFixed",X),er("blockerClass"),Mn("getTarget",z),Mn("onDrag",M),Mn("repositionTarget",!0),Mn("onDrop",M),Li("getBounds",Xl),Tne],kne=o=>Un(Za(o,"left"),Za(o,"top"),Za(o,"position"),(u,p,S)=>(S==="fixed"?rO:R0)(parseInt(u,10),parseInt(p,10))).getOrThunk(()=>{const u=Rl(o);return D0(u.left,u.top)}),Ane=(o,u,p,S,R)=>{const H=R.bounds,K=qx(u,p,S),ye=cf(K.left,H.x,H.x+H.width-R.width),Ae=cf(K.top,H.y,H.y+H.height-R.height),Ne=D0(ye,Ae);return u.fold(()=>{const Ue=az(Ne,p,S);return R0(Ue.left,Ue.top)},Q(Ne),()=>{const Ue=yP(Ne,p,S);return rO(Ue.left,Ue.top)})},Pne=(o,u,p,S,R,H,K)=>{const ye=u.fold(()=>{const Ae=iz(p,H.left,H.top),Ne=yP(Ae,S,R);return rO(Ne.left,Ne.top)},Ae=>{const Ne=pne(o,Ae,p,H,S,R);return Ne.extra.each(Ue=>{Ae.onSensor(o,Ue)}),Ne.coord});return Ane(o,ye,S,R,K)},Mne=(o,u,p,S)=>{const R=u.getTarget(o.element);if(u.repositionTarget){const H=Cn(o.element),K=Ll(H),ye=sF(R),Ae=kne(R),Ne=Pne(o,u.snaps,Ae,K,ye,S,p),Ue=eR(Ne,K,ye);fr(R,Ue)}u.onDrag(o,R,S)},oR=(o,u)=>({bounds:o.getBounds(),height:Wu(u.element),width:Pf(u.element)}),sR=(o,u,p,S,R)=>{const H=p.update(S,R),K=p.getStartData().getOrThunk(()=>oR(u,o));H.each(ye=>{Mne(o,u,K,ye)})},uz=(o,u,p,S)=>{u.each(Cne),p.snaps.each(H=>{vne(o,H)});const R=p.getTarget(o.element);S.reset(),p.onDrop(o,R)},aR=o=>(u,p)=>{const S=R=>{p.setStartData(oR(u,R))};return _a([qn(Ph(),R=>{p.getStartData().each(()=>S(R))}),...o(u,p,S)])},Ene=o=>_a([qn(go(),o.forceDrop),qn(Oa(),o.drop),qn(js(),(u,p)=>{o.move(p.event)}),qn(oi(),o.delayDrop)]);var dz=Object.freeze({__proto__:null,getData:o=>L.from(Ns(o.x,o.y)),getDelta:(o,u)=>Ns(u.left-o.left,u.top-o.top)});const hz=(o,u,p)=>[qn(go(),(S,R)=>{if(R.event.raw.button!==0)return;R.stop();const K=()=>uz(S,L.some(Ne),o,u),ye=EN(K,200),Ae={drop:K,delayDrop:ye.schedule,forceDrop:K,move:Je=>{ye.cancel(),sR(S,o,u,dz,Je)}},Ne=sT(S,o.blockerClass,Ene(Ae));(()=>{p(S),cz(S,Ne)})()})],_ne=[...rR,ga("dragger",{handlers:aR(hz)})],Rne=o=>_a([qn(no(),o.forceDrop),qn(rs(),o.drop),qn(So(),o.drop),qn(fo(),(u,p)=>{o.move(p.event)})]),Dne=o=>{const u=o[0];return L.some(Ns(u.clientX,u.clientY))};var mz=Object.freeze({__proto__:null,getData:o=>{const p=o.raw.touches;return p.length===1?Dne(p):L.none()},getDelta:(o,u)=>Ns(u.left-o.left,u.top-o.top)});const gz=(o,u,p)=>{const S=ps(),R=H=>{uz(H,S.get(),o,u),S.clear()};return[qn(no(),(H,K)=>{K.stop();const ye=()=>R(H),Ae={drop:ye,delayDrop:M,forceDrop:ye,move:Je=>{sR(H,o,u,mz,Je)}},Ne=sT(H,o.blockerClass,Rne(Ae));S.set(Ne),(()=>{p(H),cz(H,Ne)})()}),qn(fo(),(H,K)=>{K.stop(),sR(H,o,u,mz,K.event)}),qn(rs(),(H,K)=>{K.stop(),R(H)}),qn(So(),R)]},$ne=[...rR,ga("dragger",{handlers:aR(gz)})],Lne=(o,u,p)=>[...hz(o,u,p),...gz(o,u,p)],Ine=[...rR,ga("dragger",{handlers:aR(Lne)})];var Nne=Object.freeze({__proto__:null,mouse:_ne,touch:$ne,mouseOrTouch:Ine}),Bne=Object.freeze({__proto__:null,init:()=>{let o=L.none(),u=L.none();const p=()=>{o=L.none(),u=L.none()},S=(Ae,Ne)=>{const Ue=o.map(Je=>Ae.getDelta(Je,Ne));return o=L.some(Ne),Ue},R=(Ae,Ne)=>Ae.getData(Ne).bind(Ue=>S(Ae,Ue)),H=Ae=>{u=L.some(Ae)},K=()=>u,ye=Q({});return Mu({readState:ye,reset:p,update:R,getStartData:K,setStartData:H})}});const $0=S2({branchKey:"mode",branches:Nne,name:"dragging",active:{events:(o,u)=>o.dragger.handlers(o,u)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:L.from(o.extra)})},state:Bne,apis:xne}),iR=40,OP=iR/2,pz=(o,u,p,S,R,H)=>o.fold(()=>$0.snap({sensor:D0(p-OP,S-OP),range:Ns(R,H),output:D0(L.some(p),L.some(S)),extra:{td:u}}),K=>{const ye=p-OP,Ae=S-OP,Ne=iR,Ue=iR,Je=K.element.dom.getBoundingClientRect();return $0.snap({sensor:D0(ye,Ae),range:Ns(Ne,Ue),output:D0(L.some(p-Je.width/2),L.some(S-Je.height/2)),extra:{td:u}})}),vz=(o,u,p)=>{const S=(R,H)=>R.exists(K=>en(K,H));return{getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(R,H)=>{const K=H.td;S(u.get(),K)||(u.set(K),p(K))},mustSnap:!0}},yz=o=>la(Fl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pr([$0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),bC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Qne=(o,u)=>{const p=G([]),S=G([]),R=G(!1),H=ps(),K=ps(),ye=Or=>{const Mr=Au(Or);return pz(ht.getOpt(u),Or,Mr.x,Mr.y,Mr.width,Mr.height)},Ae=()=>ne(p.get(),Or=>ye(Or)),Ne=Or=>{const Mr=Au(Or);return pz(At.getOpt(u),Or,Mr.right,Mr.bottom,Mr.width,Mr.height)},Ue=()=>ne(S.get(),Or=>Ne(Or)),Je=vz(Ae,H,Or=>{K.get().each(Mr=>{o.dispatch("TableSelectorChange",{start:Or,finish:Mr})})}),st=vz(Ue,K,Or=>{H.get().each(Mr=>{o.dispatch("TableSelectorChange",{start:Mr,finish:Or})})}),ht=yz(Je),At=yz(st),qt=uc(ht.asSpec()),Dn=uc(At.asSpec()),mn=(Or,Mr,is,Gr)=>{const No=Mr.dom.getBoundingClientRect();Ho(Or.element,"display");const Ro=Jn(zt.fromDom(o.getBody())).dom.innerHeight,ra=is(No),Co=Gr(No,Ro);(ra||Co)&&Mo(Or.element,"display","none")},sn=(Or,Mr,is,Gr)=>{const No=is(Mr);$0.snapTo(Or,No),mn(Or,Mr,Co=>Co[Gr]<0,(Co,Bs)=>Co[Gr]>Bs)},kn=Or=>sn(qt,Or,ye,"top"),Zn=()=>H.get().each(kn),mr=Or=>sn(Dn,Or,Ne,"bottom"),Gn=()=>K.get().each(mr);td().deviceType.isTouch()&&(o.on("TableSelectionChange",Or=>{R.get()||(ep(u,qt),ep(u,Dn),R.set(!0)),H.set(Or.start),K.set(Or.finish),Or.otherCells.each(Mr=>{p.set(Mr.upOrLeftCells),S.set(Mr.downOrRightCells),kn(Or.start),mr(Or.finish)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{Zn(),Gn()}),o.on("TableSelectionClear",()=>{R.get()&&(Fh(qt),Fh(Dn),R.set(!1)),H.clear(),K.clear()}))};var Fne=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const Vne=o=>o.nodeName==="BR"||!!o.getAttribute("data-mce-bogus")||o.getAttribute("data-mce-type")==="bookmark",bz=(o,u,p)=>{var S;const R=(S=u.delimiter)!==null&&S!==void 0?S:"›",H=(Ne,Ue,Je)=>Fl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Je,"aria-level":Je+1}},components:[Oi(Ne)],action:st=>{o.focus(),o.selection.select(Ue),o.nodeChanged()},buttonBehaviours:pr([ol.button(p.isDisabled),yl()])}),K=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Oi(` ${R} `)]}),ye=Ne=>Te(Ne,(Ue,Je,st)=>{const ht=H(Je.name,Je.element,st);return st===0?Ue.concat([ht]):Ue.concat([K(),ht])},[]),Ae=Ne=>{const Ue=[];let Je=Ne.length;for(;Je-- >0;){const st=Ne[Je];if(st.nodeType===1&&!Vne(st)){const ht=tN(o,st);if(ht.isDefaultPrevented()||Ue.push({name:ht.name,element:st}),ht.isPropagationStopped())break}}return Ue};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pr([yo.config({mode:"flow",selector:"div[role=button]"}),ko.config({disabled:p.isDisabled}),yl(),qa.config({}),Uo.config({}),Jo("elementPathEvents",[ka((Ne,Ue)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>yo.focusIn(Ne)),o.on("NodeChange",Je=>{const st=Ae(Je.parents),ht=st.length>0?ye(st):[];Uo.set(Ne,ht)})})])]),components:[]}};var Nv;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Nv||(Nv={}));const oO=(o,u,p,S,R)=>{const H={height:tT(S+u.top,cx(o),iM(o))};return p===Nv.Both&&(H.width=tT(R+u.left,aM(o),o4(o))),H},Oz=(o,u,p)=>{const S=zt.fromDom(o.getContainer()),R=oO(o,u,p,Ha(S),Ci(S));Ye(R,(H,K)=>{C(H)&&Mo(S,K,Gx(H))}),JI(o)},lR=o=>{const u=FL(o);return u===!1?Nv.None:u==="both"?Nv.Both:Nv.Vertical},sO=(o,u,p,S)=>{const H=Ns(p*20,S*20);return Oz(o,H,u),L.some(!0)},zne=(o,u)=>{const p=lR(o);if(p===Nv.None)return L.none();const S=p===Nv.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return L.some(Wh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:u.translate("Resize"),"aria-label":u.translate(S)},behaviours:[$0.config({mode:"mouse",repositionTarget:!1,onDrag:(R,H,K)=>Oz(o,K,p),blockerClass:"tox-blocker"}),yo.config({mode:"special",onLeft:()=>sO(o,p,-1,0),onRight:()=>sO(o,p,1,0),onUp:()=>sO(o,p,0,-1),onDown:()=>sO(o,p,0,1)}),qa.config({}),Eo.config({})]},u.icons))},Zne=(o,u)=>{const p=(S,R,H)=>Uo.set(S,[Oi(u.translate(["{0} "+H,R[H]]))]);return Fl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pr([ol.button(u.isDisabled),yl(),qa.config({}),Uo.config({}),Fr.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Jo("wordcount-events",[ld(S=>{const R=Fr.getValue(S),H=R.mode==="words"?"characters":"words";Fr.setValue(S,{mode:H,count:R.count}),p(S,R.count,H)}),ka(S=>{o.on("wordCountUpdate",R=>{const{mode:H}=Fr.getValue(S);Fr.setValue(S,{mode:H,count:R.wordCount}),p(S,R.wordCount,H)})})])]),eventOrder:{[Bi()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},Hne=(o,u)=>{const p=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":vd.translate(["Powered by {0}","Tiny"])},innerHtml:Fne.trim()},behaviours:pr([Eo.config({})])}]}),S=()=>{const ye=A4("Alt+0"),Ae="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Oi(vd.translate([Ae,ye]))]}},R=()=>{const ye=[];return o.hasPlugin("wordcount")&&ye.push(Zne(o,u)),mM(o)&&ye.push(p()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:ye}},H=()=>{const ye=[],Ae=u4(o),Ne=fx(o),Ue=mM(o)||o.hasPlugin("wordcount"),Je=()=>{const st="tox-statusbar__text-container--flex-start",ht="tox-statusbar__text-container--flex-end",At="tox-statusbar__text-container--space-around";if(Ae){const qt="tox-statusbar__text-container-3-cols";return!Ue&&!Ne?[qt,At]:Ue&&!Ne?[qt,ht]:[qt,st]}return[Ue&&!Ne?ht:st]};return Ne&&ye.push(bz(o,{},u)),Ae&&ye.push(S()),Ue&&ye.push(R()),ye.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...Je()]},components:ye}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const ye=H(),Ae=zne(o,u);return ye.concat(Ae.toArray())})()}},xz=(o,u)=>u.get().getOrDie(`UI for ${o} has not been rendered`),Une=(o,u)=>{const p=o.inline,S=p?hte:lte,R=K3(o)?bF:jK,H=mte(),K=ps(),ye=ps(),Ae=ps(),st=td().deviceType.isTouch()?["tox-platform-touch"]:[],ht=yM(o),At=ux(o),qt=la({dom:{tag:"div",classes:["tox-anchorbar"]}}),Dn=la({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),mn=()=>H.mainUi.get().map(To=>To.outerContainer).bind(Ia.getHeader),sn=()=>jo.fromOption(H.dialogUi.get().map(To=>To.sink),"UI has not been rendered"),kn=()=>jo.fromOption(H.popupUi.get().map(To=>To.sink),"(popup) UI has not been rendered"),Zn=H.lazyGetInOuterOrDie("anchor bar",qt.getOpt),mr=H.lazyGetInOuterOrDie("bottom anchor bar",Dn.getOpt),Gn=H.lazyGetInOuterOrDie("toolbar",Ia.getToolbar),Or=H.lazyGetInOuterOrDie("throbber",Ia.getThrobber),Mr=zK({popup:kn,dialog:sn},o,Zn,mr),is=()=>{const To={attributes:{[B1]:ht?Qf.BottomToTop:Qf.TopToBottom}},Yo=Ia.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Mr.popup,onEscape:()=>{o.focus()}}),Ea=Ia.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Mr.popup.shared.getSink,providers:Mr.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:dT=>{$X(o,dT)},type:At,lazyToolbar:Gn,lazyHeader:()=>mn().getOrDie("Could not find header element"),...To}),Fs=Ia.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Mr.popup.shared.providers,onEscape:()=>{o.focus()},type:At}),sc=q3(o),Sf=d4(o),mh=dx(o),am=VL(o),N0=Gr(),hO=sc||Sf||mh,lg=()=>sc?[Fs]:Sf?[Ea]:[],Qv=am?[N0,Yo]:[Yo];return Ia.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(hO?[]:["tox-editor-header--empty"]),...To},components:Ie([mh?Qv:[],lg(),hx(o)?[]:[qt.asSpec()]]),sticky:K3(o),editor:o,sharedBackstage:Mr.popup.shared})},Gr=()=>Ia.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),No=()=>{const To=Ia.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Yo=Ia.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[To,Yo]}},Ro=()=>{const To=bM(o),Yo=en(ba(),To)&&Fa(To,"display")==="grid",Ea={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(st),attributes:{...vd.isRtl()?{dir:"rtl"}:{}}},behaviours:pr([dc.config({useFixed:()=>R.isDocked(mn)})])},Fs={dom:{styles:{width:document.body.clientWidth+"px"}},events:_a([qn(Wd(),mh=>{Mo(mh.element,"width",document.body.clientWidth+"px")})])},sc=uc(Ta(Ea,Yo?Fs:{})),Sf=Z4(sc);return ye.set(Sf),{sink:sc,mothership:Sf}},ra=()=>{const To={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(st),attributes:{...vd.isRtl()?{dir:"rtl"}:{}}},behaviours:pr([dc.config({useFixed:()=>R.isDocked(mn),getBounds:()=>u.getPopupSinkBounds()})])},Yo=uc(To),Ea=Z4(Yo);return Ae.set(Ea),{sink:Yo,mothership:Ea}},Co=()=>{const To=is(),Yo=No(),Ea=Ia.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Mr.popup}),Fs=Ia.parts.viewWrapper({backstage:Mr.popup}),sc=QL(o)&&!p?L.some(Hne(o,Mr.popup.shared.providers)):L.none(),Sf=Ie([ht?[]:[To],p?[]:[Yo],ht?[To]:[]]),mh=Ia.parts.editorContainer({components:Ie([Sf,p?[]:[Dn.asSpec(),...sc.toArray()]])}),am=OM(o),N0={role:"application",...vd.isRtl()?{dir:"rtl"}:{},...am?{"aria-hidden":"true"}:{}},hO=uc(Ia.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(p?["tox-tinymce-inline"]:[]).concat(ht?["tox-tinymce--toolbar-bottom"]:[]).concat(st),styles:{visibility:"hidden",...am?{opacity:"0",border:"0"}:{}},attributes:N0},components:[mh,...p?[]:[Fs],Ea],behaviours:pr([yl(),ko.config({disableClass:"tox-tinymce--disabled"}),yo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),lg=Z4(hO);return K.set(lg),{mothership:lg,outerContainer:hO}},Bs=To=>{const Yo=Gx(PV(o)),Ea=Gx(cte(o));return o.inline||(Cl("div","width",Ea)&&Mo(To.element,"width",Ea),Cl("div","height",Yo)?Mo(To.element,"height",Yo):Mo(To.element,"height","400px")),Yo},Pr=To=>{o.addShortcut("alt+F9","focus menubar",()=>{Ia.focusMenubar(To)}),o.addShortcut("alt+F10","focus toolbar",()=>{Ia.focusToolbar(To)}),o.addCommand("ToggleToolbarDrawer",(Yo,Ea)=>{Ea!=null&&Ea.skipFocus?Ia.toggleToolbarDrawerWithoutFocusing(To):Ia.toggleToolbarDrawer(To)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Ia.isToolbarDrawerToggled(To))},oo=To=>{const{mainUi:Yo,popupUi:Ea,uiMotherships:Fs}=To;je($L(o),(aS,$P)=>{o.ui.registry.addGroupToolbarButton($P,aS)});const{buttons:sc,menuItems:Sf,contextToolbars:mh,sidebars:am,views:N0}=o.ui.registry.getAll(),hO=vM(o),lg={menuItems:Sf,menus:UL(o),menubar:cM(o),toolbar:hO.getOrThunk(()=>a4(o)),allowToolbarGroups:At===Zf.floating,buttons:sc,sidebar:am,views:N0};Pr(Yo.outerContainer),Vx(o,Yo.mothership,Fs),R.setup(o,Mr.popup.shared,mn),Wte(o,Mr.popup),cne(o,Mr.popup.shared.getSink,Mr.popup),AJ(o),ZA(o,Or,Mr.popup.shared),Ete(o,mh,Ea.sink,{backstage:Mr.popup}),Qne(o,Ea.sink);const Qv=o.getElement(),dT=Bs(Yo.outerContainer),pR={targetNode:Qv,height:dT};return S.render(o,To,lg,Mr.popup,pR)},Bo=To=>(Ae.set(To.mothership),To),Fo=()=>{const To=Co(),Yo=Ro(),Ea=lp(o)?ra():Bo(Yo);H.dialogUi.set(Yo),H.popupUi.set(Ea),H.mainUi.set(To);const Fs={popupUi:Ea,dialogUi:Yo,mainUi:To,uiMotherships:H.getUiMotherships()};return oo(Fs)};return{popups:{backstage:Mr.popup,getMothership:()=>xz("popups",Ae)},dialogs:{backstage:Mr.dialog,getMothership:()=>xz("dialogs",ye)},renderUI:Fo}},aO=(o,u)=>{const p=$i(o,"id").fold(()=>{const S=Kr("dialog-label");return Dr(u,"id",S),S},z);Dr(o,"aria-labelledby",p)},Sz=Q([er("lazySink"),Ws("dragBlockClass"),Li("getBounds",Xl),Mn("useTabstopAt",ie),Mn("firstTabstop",0),Mn("eventOrder",{}),rl("modalBehaviours",[yo]),$u("onExecute"),yw("onEscape")]),cR={sketch:z},Wne=Q([pu({name:"draghandle",overrides:(o,u)=>({behaviours:pr([$0.config({mode:"mouse",getTarget:p=>Ru(p,'[role="dialog"]').getOr(p),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(u,null,2)).message),getBounds:o.getDragBounds})])})}),hc({schema:[er("dom")],name:"title"}),hc({factory:cR,schema:[er("dom")],name:"close"}),hc({factory:cR,schema:[er("dom")],name:"body"}),pu({factory:cR,schema:[er("dom")],name:"footer"}),md({factory:{sketch:(o,u)=>({...o,dom:u.dom,components:u.components})},schema:[Mn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Mn("components",[])],name:"blocker"})]),Yne=(o,u,p,S)=>{const R=ps(),H=ht=>{R.set(ht);const At=o.lazySink(ht).getOrDie(),qt=S.blocker(),Dn=At.getSystem().build({...qt,components:qt.components.concat([lf(ht)]),behaviours:pr([Eo.config({}),Jo("dialog-blocker-events",[Mh($o(),()=>{og.isBlocked(ht)?M():yo.focusIn(ht)})])])});ep(At,Dn),yo.focusIn(ht)},K=ht=>{R.clear(),Fn(ht.element).each(At=>{ht.getSystem().getByDom(At).each(qt=>{Fh(qt)})})},ye=ht=>Ym(ht,o,"body"),Ae=ht=>Aa(ht,o,"footer"),Ne=(ht,At)=>{og.block(ht,At)},Ue=ht=>{og.unblock(ht)},Je=Kr("modal-events"),st={...o.eventOrder,[sf()]:[Je].concat(o.eventOrder["alloy.system.attached"]||[])};return{uid:o.uid,dom:o.dom,components:u,apis:{show:H,hide:K,getBody:ye,getFooter:Ae,setIdle:Ue,setBusy:Ne},eventOrder:st,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Qi(o.modalBehaviours,[Uo.config({}),yo.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),og.config({getRoot:R.get}),Jo(Je,[ka(ht=>{aO(ht.element,Ym(ht,o,"title").element)})])])}},Pl=mc({name:"ModalDialog",configFields:Sz(),partFields:Wne(),factory:Yne,apis:{show:(o,u)=>{o.show(u)},hide:(o,u)=>{o.hide(u)},getBody:(o,u)=>o.getBody(u),getFooter:(o,u)=>o.getFooter(u),setBusy:(o,u,p)=>{o.setBusy(u,p)},setIdle:(o,u)=>{o.setIdle(u)}}}),Xne=uo([qi,IM].concat(Hb)),Gne=Lf,uR=[w4("button"),yd,jc("align","end",["start","end"]),dp,rh,zd("buttonType",["primary","secondary"])],wz=[...uR,Ev],aT=[If("type",["submit","cancel","custom"]),...wz],iT=[If("type",["menu"]),fp,nC,yd,cc("items",Xne),...uR],fR=[...uR,If("type",["togglebutton"]),zs("tooltip"),yd,fp,Xi("active",!1)],xP=ws("type",{submit:aT,cancel:aT,custom:aT,menu:iT,togglebutton:fR}),iO=[qi,Ev,If("level",["info","warn","error","success"]),NM,Mn("url","")],SP=uo(iO),jne=o=>[qi,o],Cz=[qi,Ev,rh,w4("button"),yd,fI,zd("buttonType",["primary","secondary","toolbar"]),dp],Tz=uo(Cz),lO=[qi,IM],sg=lO.concat([x4]),qne=lO.concat([O4,rh]),Kne=uo(qne),kz=Lf,Az=sg.concat([dI("auto")]),dR=uo(Az),Jne=Fd([vx,Ev,NM]),ere=sg.concat([id("storageKey","default")]),tre=uo(ere),Pz=cl,nre=uo(sg),rre=cl,hR=lO.concat([id("tag","textarea"),zs("scriptId"),zs("scriptUrl"),s5("settings",void 0)]),mR=lO.concat([id("tag","textarea"),nf("init")]),ore=Il(o=>ma("customeditor.old",fa(mR),o).orThunk(()=>ma("customeditor.new",fa(hR),o))),Mz=cl,sre=uo(sg),Ez=UO(),are=o=>[qi,Lg("columns"),o],ire=[qi,zs("html"),jc("presets","presentation",["presentation","document"])],cO=uo(ire),_z=sg.concat([Xi("border",!1),Xi("sandboxed",!0),Xi("streamContent",!1),Xi("transparent",!0)]),lre=uo(_z),wP=cl,Kx=uo(lO.concat([fl("height")])),CP=uo([zs("url"),mi("zoom"),mi("cachedWidth"),mi("cachedHeight")]),Rz=sg.concat([fl("inputMode"),fl("placeholder"),Xi("maximized",!1),rh]),TP=uo(Rz),bf=cl,kP=o=>[qi,O4,o,jc("align","start",["start","center","end"])],Dz=[Ev,vx],$z=[Ev,cc("items",rv("items",()=>Lz))],Lz=Xr([uo(Dz),uo($z)]),cre=sg.concat([cc("items",Lz),rh]),L0=uo(cre),due=cl,ure=sg.concat([f1("items",[Ev,vx]),ad("size",1),rh]),Iz=uo(ure),Jx=cl,AP=sg.concat([Xi("constrain",!0),rh]),Nz=uo(AP),Bz=uo([zs("width"),zs("height")]),fre=lO.concat([O4,ad("min",0),ad("max",0)]),dre=uo(fre),hre=nv,eS=[qi,cc("header",cl),cc("cells",ef(cl))],hue=uo(eS),mre=sg.concat([fl("placeholder"),Xi("maximized",!1),rh]),gre=uo(mre),mue=cl,Qz=[If("type",["directory","leaf"]),lI,zs("id"),fu("menu",WC)],tS=uo(Qz),pre=Qz.concat([cc("children",rv("children",()=>lr("type",{directory:Fz,leaf:tS})))]),Fz=uo(pre),Vz=lr("type",{directory:Fz,leaf:tS}),vre=[qi,cc("items",Vz),od("onLeafAction"),od("onToggleExpand"),Rc("defaultExpandedIds",[],cl),fl("defaultSelectedId")],pue=uo(vre),n=sg.concat([jc("filetype","file",["image","media","file"]),rh,fl("picker_text")]),s=uo(n),l=uo([vx,rC]),m=o=>ul("items","items",Ks(),ef(Il(u=>ma(`Checking item of ${o}`,x,u).fold(p=>jo.error(jl(p)),p=>jo.value(p))))),x=ll(()=>lr("type",{alertbanner:SP,bar:uo(jne(m("bar"))),button:Tz,checkbox:Kne,colorinput:tre,colorpicker:nre,dropzone:sre,grid:uo(are(m("grid"))),iframe:lre,input:TP,listbox:L0,selectbox:Iz,sizeinput:Nz,slider:dre,textarea:gre,urlinput:s,customeditor:ore,htmlpanel:cO,imagepreview:Kx,collection:dR,label:uo(kP(m("label"))),table:hue,tree:pue,panel:Z})),P=[qi,Mn("classes",[]),cc("items",x)],Z=uo(P),J=[w4("tab"),lI,cc("items",x)],ge=[qi,f1("tabs",J)],Re=uo(ge),Ge=wz,qe=xP,ot=uo([zs("title"),Gc("body",lr("type",{panel:Z,tabpanel:Re})),id("size","normal"),Rc("buttons",[],qe),Mn("initialData",{}),Li("onAction",M),Li("onChange",M),Li("onSubmit",M),Li("onClose",M),Li("onCancel",M),Li("onTabChange",M)]),Et=o=>ma("dialog",ot,o),Vt=uo([If("type",["cancel","custom"]),...Ge]),kt=uo([zs("title"),zs("url"),mi("height"),mi("width"),Zd("buttons",Vt),Li("onAction",M),Li("onCancel",M),Li("onClose",M),Li("onMessage",M)]),It=o=>ma("dialog",kt,o),cn=o=>c(o)?[o].concat(re(Nt(o),cn)):v(o)?re(o,cn):[],xn=o=>h(o.type)&&h(o.name),bn={checkbox:kz,colorinput:Pz,colorpicker:rre,dropzone:Ez,input:bf,iframe:wP,imagepreview:CP,selectbox:Jx,sizeinput:Bz,slider:hre,listbox:due,size:Bz,textarea:mue,urlinput:l,customeditor:Mz,collection:Jne,togglemenuitem:Gne},$n=o=>L.from(bn[o.type]),rr=o=>Oe(cn(o),xn),gr=o=>{const u=rr(o),p=re(u,S=>$n(S).fold(()=>[],R=>[Gc(S.name,R)]));return uo(p)},Qr=o=>{var u;const p=ia(Et(o)),S=gr(o),R=(u=o.initialData)!==null&&u!==void 0?u:{};return{internalDialog:p,dataValidator:S,initialData:R}},zn={open:(o,u)=>{const p=Qr(u);return o(p.internalDialog,p.initialData,p.dataValidator)},openUrl:(o,u)=>{const p=ia(It(u));return o(p)},redial:o=>Qr(o)};var tr=Object.freeze({__proto__:null,events:(o,u)=>{const p=(S,R)=>{o.updateState.each(H=>{const K=H(S,R);u.set(K)}),o.renderComponents.each(H=>{const K=H(R,u.get());(o.reuseDom?U$:yu)(S,K)})};return _a([qn(Jl(),(S,R)=>{const H=R;if(!H.universal){const K=o.channel;xe(H.channels,K)&&p(S,H.data)}}),ka((S,R)=>{o.initialData.each(H=>{p(S,H)})})])}}),po=Object.freeze({__proto__:null,getState:(o,u,p)=>p}),cs=[er("channel"),Ws("renderComponents"),Ws("updateState"),Ws("initialData"),Xi("reuseDom",!0)],pa=Object.freeze({__proto__:null,init:()=>{const o=G(L.none()),u=()=>o.set(L.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:u}}});const Ls=gl({fields:cs,name:"reflecting",active:tr,apis:po,state:pa}),pi=o=>{const u=[],p={};return Ye(o,(S,R)=>{S.fold(()=>{u.push(R)},H=>{p[R]=H})}),u.length>0?jo.error(u):jo.value(p)},pc=(o,u,p)=>{const S=la(Dx.sketch(R=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:ne(o.items,H=>em(R,H,u,p))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[S.asSpec()]}],behaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(kC)}),Hf.memento(S),wC(S,{postprocess:R=>pi(R).fold(H=>(console.error(H),{}),z)}),Jo("dialog-body-panel",[qn($o(),(R,H)=>{R.getSystem().broadcastOn([PC],{newFocus:L.some(H.event.target)})})])])}},va=(o,u)=>({uid:o.uid,dom:o.dom,components:o.components,events:qm(o.action),behaviours:Qi(o.tabButtonBehaviours,[Eo.config({}),yo.config({mode:"execution",useSpace:!0,useEnter:!0}),Fr.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification}),Tr=Lu({name:"TabButton",configFields:[Mn("uid",void 0),er("value"),ul("dom","dom",ms(()=>({attributes:{role:"tab",id:Kr("aria"),"aria-selected":"false"}})),bi()),Ws("action"),Mn("domModification",{}),rl("tabButtonBehaviours",[Eo,yo,Fr]),er("view")],factory:va}),co=Q([er("tabs"),er("dom"),Mn("clickToDismiss",!1),rl("tabbarBehaviours",[Ys,yo]),Hg(["tabClass","selectedClass"])]),Hs=Cb({factory:Tr,name:"tabs",unit:"tab",overrides:o=>{const u=(S,R)=>{Ys.dehighlight(S,R),vo(S,GO(),{tabbar:S,button:R})},p=(S,R)=>{Ys.highlight(S,R),vo(S,i5(),{tabbar:S,button:R})};return{action:S=>{const R=S.getSystem().getByUid(o.uid).getOrDie(),H=Ys.isHighlighted(R,S);(()=>H&&o.clickToDismiss?u:H?M:p)()(R,S)},domModification:{classes:[o.markers.tabClass]}}}}),Ts=Q([Hs]),ro=(o,u,p,S)=>({uid:o.uid,dom:o.dom,components:u,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Qi(o.tabbarBehaviours,[Ys.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(R,H)=>{Dr(H.element,"aria-selected","true")},onDehighlight:(R,H)=>{Dr(H.element,"aria-selected","false")}}),yo.config({mode:"flow",getInitial:R=>Ys.getHighlighted(R).map(H=>H.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])}),Io=mc({name:"Tabbar",configFields:co(),partFields:Ts(),factory:ro}),yr=(o,u)=>({uid:o.uid,dom:o.dom,behaviours:Qi(o.tabviewBehaviours,[Uo.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Qo=Lu({name:"Tabview",configFields:[rl("tabviewBehaviours",[Uo])],factory:yr}),Is=Q([Mn("selectFirst",!0),Ds("onChangeTab"),Ds("onDismissTab"),Mn("tabs",[]),rl("tabSectionBehaviours",[])]),Pa=hc({factory:Io,schema:[er("dom"),uu("markers",[er("tabClass"),er("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),wa=hc({factory:Qo,name:"tabview"}),Vl=Q([Pa,wa]),nm=(o,u,p,S)=>{const R=K=>{const ye=Fr.getValue(K);Aa(K,o,"tabview").each(Ae=>{Ve(o.tabs,Ue=>Ue.value===ye).each(Ue=>{const Je=Ue.view();$i(K.element,"id").each(st=>{Dr(Ae.element,"aria-labelledby",st)}),Uo.set(Ae,Je),o.onChangeTab(Ae,K,Je)})})},H=(K,ye)=>{Aa(K,o,"tabbar").each(Ae=>{ye(Ae).each(_m)})};return{uid:o.uid,dom:o.dom,components:u,behaviours:Um(o.tabSectionBehaviours),events:_a(Ie([o.selectFirst?[ka((K,ye)=>{H(K,Ys.getFirst)})]:[],[qn(i5(),(K,ye)=>{const Ae=ye.event.button;R(Ae)}),qn(GO(),(K,ye)=>{const Ae=ye.event.button;o.onDismissTab(K,Ae)})]])),apis:{getViewItems:K=>Aa(K,o,"tabview").map(ye=>Uo.contents(ye)).getOr([]),showTab:(K,ye)=>{H(K,Ne=>{const Ue=Ys.getCandidates(Ne);return Ve(Ue,st=>Fr.getValue(st)===ye).filter(st=>!Ys.isHighlighted(Ne,st))})}}}},Wf=mc({name:"TabSection",configFields:Is(),partFields:Vl(),factory:nm,apis:{getViewItems:(o,u)=>o.getViewItems(u),showTab:(o,u,p)=>{o.showTab(u,p)}}}),Bu=(o,u,p)=>ne(o,(S,R)=>{Uo.set(p,o[R].view());const H=u.dom.getBoundingClientRect();return Uo.set(p,[]),H.height}),dh=o=>ke(Se(o,(u,p)=>u>p?-1:u<p?1:0)),Wo=(o,u,p)=>{const S=pn(o).dom,R=Ru(o,".tox-dialog-wrap").getOr(o),H=Fa(R,"position")==="fixed";let K;H?K=Math.max(S.clientHeight,window.innerHeight):K=Math.max(S.offsetHeight,S.scrollHeight);const ye=Ha(u),Ne=u.dom.offsetLeft>=p.dom.offsetLeft+Ci(p)?Math.max(Ha(p),ye):ye,Ue=parseInt(Fa(o,"margin-top"),10)||0,Je=parseInt(Fa(o,"margin-bottom"),10)||0,ht=Ha(o)+Ue+Je-Ne;return K-ht},Us=(o,u)=>{ke(o).each(p=>Wf.showTab(u,p.value))},Ma=(o,u)=>{Mo(o,"height",u+"px"),Mo(o,"flex-basis",u+"px")},ii=(o,u,p)=>{Ru(o,'[role="dialog"]').each(S=>{Mi(S,'[role="tablist"]').each(R=>{p.get().map(H=>(Mo(u,"height","0"),Mo(u,"flex-basis","0"),Math.min(H,Wo(S,u,R)))).each(H=>{Ma(u,H)})})})},Wa=o=>Mi(o,'[role="tabpanel"]'),Of=o=>{const u=ps();return{extraEvents:[ka(R=>{const H=R.element;Wa(H).each(K=>{Mo(K,"visibility","hidden"),R.getSystem().getByDom(K).toOptional().each(ye=>{const Ae=Bu(o,K,ye);dh(Ae).fold(u.clear,u.set)}),ii(H,K,u),Ho(K,"visibility"),Us(o,R),requestAnimationFrame(()=>{ii(H,K,u)})})}),qn(Wd(),R=>{const H=R.element;Wa(H).each(K=>{ii(H,K,u)})}),qn(VN,(R,H)=>{const K=R.element;Wa(K).each(ye=>{const Ae=Nh(ns(ye));Mo(ye,"visibility","hidden");const Ne=Za(ye,"height").map(st=>parseInt(st,10));Ho(ye,"height"),Ho(ye,"flex-basis");const Ue=ye.dom.getBoundingClientRect().height;Ne.forall(st=>Ue>st)?(u.set(Ue),ii(K,ye,u)):Ne.each(st=>{Ma(ye,st)}),Ho(ye,"visibility"),Ae.each(mu)})})],selectFirst:!1}},rm="send-data-to-section",Bv="send-data-to-view",PP=(o,u,p)=>{const S=G({}),R=Ne=>{const Ue=Fr.getValue(Ne),Je=pi(Ue).getOr({}),st=S.get(),ht=Ta(st,Je);S.set(ht)},H=Ne=>{const Ue=S.get();Fr.setValue(Ne,Ue)},K=G(null),ye=ne(o.tabs,Ne=>({value:Ne.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Oi(p.shared.providers.translate(Ne.title))],view:()=>[Dx.sketch(Ue=>({dom:{tag:"div",classes:["tox-form"]},components:ne(Ne.items,Je=>em(Ue,Je,u,p)),formBehaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(kC)}),Jo("TabView.form.events",[ka(H),Eh(R)]),hu.config({channels:bt([{key:rm,value:{onReceive:R}},{key:Bv,value:{onReceive:H}}])})])}))]})),Ae=Of(ye);return Wf.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(Ne,Ue,Je)=>{const st=Fr.getValue(Ue);vo(Ne,FN,{name:st,oldName:K.get()}),K.set(st)},tabs:ye,components:[Wf.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Io.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pr([qa.config({})])}),Wf.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:Ae.selectFirst,tabSectionBehaviours:pr([Jo("tabpanel",Ae.extraEvents),yo.config({mode:"acyclic"}),Cs.config({find:Ne=>ke(Wf.getViewItems(Ne))}),S0(L.none(),Ne=>(Ne.getSystem().broadcastOn([rm],{}),S.get()),(Ne,Ue)=>{S.set(Ue),Ne.getSystem().broadcastOn([Bv],{})})])})},lT=(o,u,p,S,R)=>{const H=Ae=>{const Ne=Ae.body;switch(Ne.type){case"tabpanel":return[PP(Ne,Ae.initialData,S)];default:return[pc(Ne,Ae.initialData,S)]}},K=(Ae,Ne)=>L.some({isTabPanel:()=>Ne.body.type==="tabpanel"}),ye={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...p.map(Ae=>({id:Ae})).getOr({}),...R?ye:{}}},components:[],behaviours:pr([Hf.childAt(0),Ls.config({channel:`${xp}-${u}`,updateState:K,renderComponents:H,initialData:o})])}},MP=(o,u,p,S,R)=>lT(o,u,L.some(p),S,R),nS=(o,u,p)=>{const S=lT(o,u,L.none(),p,!1);return Pl.parts.body(S)},EP=o=>{const u={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[RB(L.none(),{dom:{tag:"iframe",attributes:{src:o.url}},behaviours:pr([qa.config({}),Eo.config({})])})]}],behaviours:pr([yo.config({mode:"acyclic",useTabstopAt:B(kC)})])};return Pl.parts.body(u)},rS=lx.deviceType.isTouch(),I0=(o,u)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,u]}),om=(o,u)=>Pl.parts.close(Fl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":u.translate("Close")}},action:o,buttonBehaviours:pr([qa.config({})])})),ag=()=>Pl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),oS=(o,u)=>Pl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Av(`<p>${J6(u.translate(o))}</p>`)}]}]}),uO=o=>Pl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),cT=(o,u)=>[tg.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),tg.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:u})],ig=o=>{const u="tox-dialog",p=u+"-wrap",S=p+"__backdrop",R=u+"__disable-scroll";return Pl.sketch({lazySink:o.lazySink,onEscape:H=>(o.onEscape(H),L.some(!0)),useTabstopAt:H=>!kC(H),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[u].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:Av(`<div class="${p}"></div>`),components:[{dom:{tag:"div",classes:rS?[S,S+"--opaque"]:[S]}}]}},dragBlockClass:p,modalBehaviours:pr([Eo.config({}),Jo("dialog-events",o.dialogEvents.concat([Mh($o(),(H,K)=>{og.isBlocked(H)?M():yo.focusIn(H)}),qn(YO(),(H,K)=>{H.getSystem().broadcastOn([PC],{newFocus:K.event.newFocus})})])),Jo("scroll-lock",[ka(()=>{Pi(ba(),R)}),Eh(()=>{ja(ba(),R)})]),...o.extraBehaviours]),eventOrder:{[Bi()]:["dialog-events"],[sf()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Ig()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},_P=o=>Fl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),title:o.translate("Close")}},buttonBehaviours:pr([qa.config({})]),components:[Wh("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:u=>{As(u,y0)}}),uT=(o,u,p,S)=>{const R=H=>[Oi(S.translate(H.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...p.map(H=>({id:H})).getOr({})}},components:[],behaviours:pr([Ls.config({channel:`${dA}-${u}`,initialData:o,renderComponents:R})])}},Zc=()=>({dom:Av('<div class="tox-dialog__draghandle"></div>')}),fO=(o,u,p,S)=>tg.sketch({dom:Av('<div class="tox-dialog__header"></div>'),components:[uT(o,u,L.some(p),S),Zc(),_P(S)],containerBehaviours:pr([$0.config({mode:"mouse",blockerClass:"blocker",getTarget:R=>Xd(R,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),zz=(o,u,p)=>{const S=Pl.parts.title(uT(o,u,L.none(),p)),R=Pl.parts.draghandle(Zc()),H=Pl.parts.close(_P(p)),K=[S].concat(o.draggable?[R]:[]).concat([H]);return tg.sketch({dom:Av('<div class="tox-dialog__header"></div>'),components:K})},RP=(o,u,p)=>zz({title:p.shared.providers.translate(o),draggable:p.dialog.isDraggableModal()},u,p.shared.providers),fT=(o,u,p,S)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":p.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${S.getOr(0)}px`,position:"absolute"}},behaviours:u,components:[{dom:Av('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),wp=(o,u,p)=>({onClose:()=>p.closeWindow(),onBlock:S=>{const R=Mi(o().element,".tox-dialog__header").map(H=>Ha(H));Pl.setBusy(o(),(H,K)=>fT(S.message,K,u,R))},onUnblock:()=>{Pl.setIdle(o())}}),sS="tox-dialog--fullscreen",Ln="tox-dialog--width-lg",In="tox-dialog--width-md",br=o=>{switch(o){case"large":return L.some(Ln);case"medium":return L.some(In);default:return L.none()}},hr=(o,u)=>{const p=zt.fromDom(u.element.dom);nl(p,sS)||(af(p,[Ln,In]),br(o).each(S=>Pi(p,S)))},mo=(o,u)=>{const p=zt.fromDom(o.element.dom),S=w1(p),R=Ve(S,H=>H===Ln||H===In).or(br(u));mw(p,[sS,...R.toArray()])},xs=(o,u,p)=>uc(ig({...o,firstTabstop:1,lazySink:p.shared.getSink,extraBehaviours:[CC({}),...o.extraBehaviours],onEscape:S=>{As(S,y0)},dialogEvents:u,eventOrder:{[Jl()]:[Ls.name(),hu.name()],[sf()]:["scroll-lock",Ls.name(),"messages","dialog-events","alloy.base.behaviour"],[Ig()]:["alloy.base.behaviour","dialog-events","messages",Ls.name(),"scroll-lock"]}})),Ka=(o,u={})=>{const p=S=>{const R=ne(S.items,H=>{const K=Bt(u,H.name).getOr(G(!1));return{...H,storage:K}});return{...S,items:R}};return ne(o,S=>S.type==="menu"?p(S):S)},xf=o=>Te(o,(u,p)=>p.type==="menu"?Te(p.items,(R,H)=>(R[H.name]=H.storage,R),u):u,{}),vc=(o,u)=>[rw($o(),$B),o(Ax,(p,S,R,H)=>{Nh(ns(H.element)).fold(M,$1),u.onClose(),S.onClose()}),o(y0,(p,S,R,H)=>{S.onCancel(p),As(H,Ax)}),qn(DE,(p,S)=>u.onUnblock()),qn(RE,(p,S)=>u.onBlock(S.event))],dO=(o,u)=>{const p=(R,H)=>qn(R,(K,ye)=>{S(K,(Ae,Ne)=>{H(o(),Ae,ye.event,K)})}),S=(R,H)=>{Ls.getState(R).get().each(K=>{H(K,R)})};return[...vc(p,u),p(pp,(R,H,K)=>{H.onAction(R,{name:K.name})})]},hh=(o,u,p)=>{const S=(H,K)=>qn(H,(ye,Ae)=>{R(ye,(Ne,Ue)=>{K(o(),Ne,Ae.event,ye)})}),R=(H,K)=>{Ls.getState(H).get().each(ye=>{K(ye.internalDialog,H)})};return[...vc(S,u),S(yC,(H,K)=>K.onSubmit(H)),S(vf,(H,K,ye)=>{K.onChange(H,{name:ye.name})}),S(pp,(H,K,ye,Ae)=>{const Ne=()=>Ae.getSystem().isConnected()?yo.focusIn(Ae):void 0,Ue=ht=>Id(ht,"disabled")||$i(ht,"aria-disabled").exists(At=>At==="true"),Je=ns(Ae.element),st=Nh(Je);K.onAction(H,{name:ye.name,value:ye.value}),Nh(Je).fold(Ne,ht=>{Ue(ht)||st.exists(At=>on(ht,At)&&Ue(At))?Ne():p().toOptional().filter(At=>!on(At.element,ht)).each(Ne)})}),S(FN,(H,K,ye)=>{K.onTabChange(H,{newTabName:ye.name,oldTabName:ye.oldName})}),Eh(H=>{const K=o();Fr.setValue(H,K.getData())})]},Zz=(o,u)=>AA(o,o.type,u),Hz=(o,u,p)=>Ve(u,S=>S.name===p).bind(S=>S.memento.getOpt(o)),Uz=(o,u)=>{const p=u.map(ye=>ye.footerButtons).getOr([]),S=ve(p,ye=>ye.align==="start"),R=(ye,Ae)=>tg.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${ye}`]},components:ne(Ae,Ne=>Ne.memento.asSpec())}),H=R("start",S.pass),K=R("end",S.fail);return[H,K]},gR=(o,u,p)=>{const S=(R,H)=>{const K=ne(H.buttons,Ae=>{const Ne=la(Zz(Ae,p));return{name:Ae.name,align:Ae.align,memento:Ne}}),ye=Ae=>Hz(R,K,Ae);return L.some({lookupByName:ye,footerButtons:K})};return{dom:Av('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pr([Ls.config({channel:`${hA}-${u}`,initialData:o,updateState:S,renderComponents:Uz})])}},yre=(o,u,p)=>gR(o,u,p),vs=(o,u,p)=>Pl.parts.footer(gR(o,u,p)),Qn=(o,u)=>{if(o.getRoot().getSystem().isConnected()){const S=Cs.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return Dx.getField(S,u).orThunk(()=>o.getFooter().bind(K=>Ls.getState(K).get()).bind(K=>K.lookupByName(u)))}else return L.none()},lo=(o,u)=>{const p=o.getRoot();return Ls.getState(p).get().map(S=>ia(ma("data",S.dataValidator,u))).getOr(u)},_o=(o,u,p)=>{const S=At=>{const qt=o.getRoot();qt.getSystem().isConnected()&&At(qt)},ht={getData:()=>{const At=o.getRoot(),qt=At.getSystem().isConnected()?o.getFormWrapper():At,Dn=Fr.getValue(qt),mn=je(p,sn=>sn.get());return{...Dn,...mn}},setData:At=>{S(qt=>{const Dn=ht.getData(),mn=Ta(Dn,At),sn=lo(o,mn),kn=o.getFormWrapper();Fr.setValue(kn,sn),Ye(p,(Zn,mr)=>{vn(mn,mr)&&Zn.set(mn[mr])})})},setEnabled:(At,qt)=>{Qn(o,At).each(qt?ko.enable:ko.disable)},focus:At=>{Qn(o,At).each(Eo.focus)},block:At=>{if(!h(At))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");S(qt=>{vo(qt,RE,{message:At})})},unblock:()=>{S(At=>{As(At,DE)})},showTab:At=>{S(qt=>{const Dn=o.getBody();Ls.getState(Dn).get().exists(sn=>sn.isTabPanel())&&Cs.getCurrent(Dn).each(sn=>{Wf.showTab(sn,At)})})},redial:At=>{S(qt=>{const Dn=o.getId(),mn=u(At),sn=Ka(mn.internalDialog.buttons,p);qt.getSystem().broadcastOn([`${AC}-${Dn}`],mn),qt.getSystem().broadcastOn([`${dA}-${Dn}`],mn.internalDialog),qt.getSystem().broadcastOn([`${xp}-${Dn}`],mn.internalDialog),qt.getSystem().broadcastOn([`${hA}-${Dn}`],{...mn.internalDialog,buttons:sn}),ht.setData(mn.initialData)})},close:()=>{S(At=>{As(At,Ax)})},toggleFullscreen:o.toggleFullscreen};return ht},Vi=(o,u,p)=>{const S=Kr("dialog"),R=o.internalDialog,H=RP(R.title,S,p),K=G(R.size),ye=br(K.get()).toArray(),Ae=(sn,kn)=>(K.set(kn.internalDialog.size),hr(kn.internalDialog.size,sn),L.some(kn)),Ne=nS({body:R.body,initialData:R.initialData},S,p),Ue=Ka(R.buttons),Je=xf(Ue),st=lt(Ue.length!==0,vs({buttons:Ue},S,p)),ht=hh(()=>mn,wp(()=>qt,p.shared.providers,u),p.shared.getSink),At={id:S,header:H,body:Ne,footer:st,extraClasses:ye,extraBehaviours:[Ls.config({channel:`${AC}-${S}`,updateState:Ae,initialData:o})],extraStyles:{}},qt=xs(At,ht,p),Dn=(()=>{const sn=()=>{const Zn=Pl.getBody(qt);return Cs.getCurrent(Zn).getOr(Zn)},kn=()=>{mo(qt,K.get())};return{getId:Q(S),getRoot:Q(qt),getBody:()=>Pl.getBody(qt),getFooter:()=>Pl.getFooter(qt),getFormWrapper:sn,toggleFullscreen:kn}})(),mn=_o(Dn,u.redial,Je);return{dialog:qt,instanceApi:mn}},nu=(o,u,p,S=!1,R)=>{const H=Kr("dialog"),K=Kr("dialog-label"),ye=Kr("dialog-content"),Ae=o.internalDialog,Ne=G(Ae.size),Ue=br(Ne.get()).toArray(),Je=(Gn,Or)=>(Ne.set(Or.internalDialog.size),hr(Or.internalDialog.size,Gn),R(),L.some(Or)),st=la(fO({title:Ae.title,draggable:!0},H,K,p.shared.providers)),ht=la(MP({body:Ae.body,initialData:Ae.initialData},H,ye,p,S)),At=Ka(Ae.buttons),qt=xf(At),Dn=lt(At.length!==0,la(yre({buttons:At},H,p))),mn=hh(()=>mr,{onBlock:Gn=>{og.block(kn,(Or,Mr)=>{const is=st.getOpt(kn).map(Gr=>Ha(Gr.element));return fT(Gn.message,Mr,p.shared.providers,is)})},onUnblock:()=>{og.unblock(kn)},onClose:()=>u.closeWindow()},p.shared.getSink),kn=uc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...Ue],attributes:{role:"dialog","aria-labelledby":K}},eventOrder:{[Jl()]:[Ls.name(),hu.name()],[Bi()]:["execute-on-form"],[sf()]:["reflecting","execute-on-form"]},behaviours:pr([yo.config({mode:"cyclic",onEscape:Gn=>(As(Gn,Ax),L.some(!0)),useTabstopAt:Gn=>!kC(Gn)&&(xo(Gn)!=="button"||sa(Gn,"disabled")!=="disabled"),firstTabstop:1}),Ls.config({channel:`${AC}-${H}`,updateState:Je,initialData:o}),Eo.config({}),Jo("execute-on-form",mn.concat([Mh($o(),(Gn,Or)=>{yo.focusIn(Gn)}),qn(YO(),(Gn,Or)=>{Gn.getSystem().broadcastOn([PC],{newFocus:Or.event.newFocus})})])),og.config({getRoot:()=>L.some(kn)}),Uo.config({}),CC({})]),components:[st.asSpec(),ht.asSpec(),...Dn.map(Gn=>Gn.asSpec()).toArray()]}),Zn=()=>{mo(kn,Ne.get())},mr=_o({getId:Q(H),getRoot:Q(kn),getFooter:()=>Dn.map(Gn=>Gn.get(kn)),getBody:()=>ht.get(kn),getFormWrapper:()=>{const Gn=ht.get(kn);return Cs.getCurrent(Gn).getOr(Gn)},toggleFullscreen:Zn},u.redial,qt);return{dialog:kn,instanceApi:mr}};var kd=tinymce.util.Tools.resolve("tinymce.util.URI");const zl=o=>{const u=K=>{o.getSystem().isConnected()&&K(o)};return{block:K=>{if(!h(K))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(ye=>{vo(ye,RE,{message:K})})},unblock:()=>{u(K=>{As(K,DE)})},close:()=>{u(K=>{As(K,Ax)})},sendMessage:K=>{u(ye=>{ye.getSystem().broadcastOn([c9],K)})}}},sm=["insertContent","setContent","execCommand","close","block","unblock"],DP=o=>c(o)&&sm.indexOf(o.mceAction)!==-1,bre=o=>!DP(o)&&c(o)&&vn(o,"mceAction"),Wz=(o,u,p)=>{switch(p.mceAction){case"insertContent":o.insertContent(p.content);break;case"setContent":o.setContent(p.content);break;case"execCommand":const S=b(p.ui)?p.ui:!1;o.execCommand(p.cmd,S,p.value);break;case"close":u.close();break;case"block":u.block(p.message);break;case"unblock":u.unblock();break}},vue=(o,u,p,S)=>{const R=Kr("dialog"),H=RP(o.title,R,S),K=EP(o),ye=o.buttons.bind(kn=>kn.length===0?L.none():L.some(vs({buttons:kn},R,S))),Ae=dO(()=>sn,wp(()=>mn,S.shared.providers,u)),Ne={...o.height.fold(()=>({}),kn=>({height:kn+"px","max-height":kn+"px"})),...o.width.fold(()=>({}),kn=>({width:kn+"px","max-width":kn+"px"}))},Ue=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],Je=new kd(o.url,{base_uri:new kd(window.location.href)}),st=`${Je.protocol}://${Je.host}${Je.port?":"+Je.port:""}`,ht=Fm(),At=(kn,Zn)=>L.some(Zn),qt=[Ls.config({channel:`${AC}-${R}`,updateState:At,initialData:o}),Jo("messages",[ka(()=>{const kn=Bc(zt.fromDom(window),"message",Zn=>{if(Je.isSameOrigin(new kd(Zn.raw.origin))){const mr=Zn.raw.data;DP(mr)?Wz(p,sn,mr):bre(mr)&&o.onMessage(sn,mr)}});ht.set(kn)}),Eh(ht.clear)]),hu.config({channels:{[c9]:{onReceive:(kn,Zn)=>{Mi(kn.element,"iframe").each(mr=>{const Gn=mr.dom.contentWindow;k(Gn)&&Gn.postMessage(Zn,st)})}}}})],mn=xs({id:R,header:H,body:K,footer:ye,extraClasses:Ue,extraBehaviours:qt,extraStyles:Ne},Ae,S),sn=zl(mn);return{dialog:mn,instanceApi:sn}},Axe=o=>{const u=o.shared;return{open:(S,R)=>{const H=()=>{Pl.hide(Ne),R()},K=la(AA({name:"close-alert",text:"OK",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"cancel",o)),ye=ag(),Ae=om(H,u.providers),Ne=uc(ig({lazySink:()=>u.getSink(),header:I0(ye,Ae),body:oS(S,u.providers),footer:L.some(uO(cT([],[K.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[qn(y0,H)],eventOrder:{}}));Pl.show(Ne);const Ue=K.get(Ne);Eo.focus(Ue)}}},Pxe=o=>{const u=o.shared;return{open:(S,R)=>{const H=st=>{Pl.hide(Ue),R(st)},K=la(AA({name:"yes",text:"Yes",primary:!0,buttonType:L.some("primary"),align:"end",enabled:!0,icon:L.none()},"submit",o)),ye=AA({name:"no",text:"No",primary:!1,buttonType:L.some("secondary"),align:"end",enabled:!0,icon:L.none()},"cancel",o),Ae=ag(),Ne=om(()=>H(!1),u.providers),Ue=uc(ig({lazySink:()=>u.getSink(),header:I0(Ae,Ne),body:oS(S,u.providers),footer:L.some(uO(cT([],[ye,K.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[qn(y0,()=>H(!1)),qn(yC,()=>H(!0))],eventOrder:{}}));Pl.show(Ue);const Je=K.get(Ue);Eo.focus(Je)}}},yue=(o,u)=>ia(ma("data",u,o)),bue=o=>mC(o,".tox-alert-dialog")||mC(o,".tox-confirm-dialog"),Mxe=(o,u,p)=>u&&p?[]:[Fi.config({contextual:{lazyContext:()=>L.some(hi(zt.fromDom(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:S=>v0(o,S.element).map(H=>({bounds:kx(H),optScrollEnv:L.some({currentScrollTop:H.element.dom.scrollTop,scrollElmTop:Rl(H.element).top})})).getOrThunk(()=>({bounds:Xl(),optScrollEnv:L.none()}))})],Exe=o=>{const u=o.editor,p=K3(u),S=Axe(o.backstages.dialog),R=Pxe(o.backstages.dialog),H=(At,qt,Dn)=>{if(!O(qt)){if(qt.inline==="toolbar")return Ne(At,o.backstages.popup.shared.anchors.inlineDialog(),Dn,qt);if(qt.inline==="bottom")return Ue(At,o.backstages.popup.shared.anchors.inlineBottomDialog(),Dn,qt);if(qt.inline==="cursor")return Ne(At,o.backstages.popup.shared.anchors.cursor(),Dn,qt)}return Ae(At,Dn)},K=(At,qt)=>ye(At,qt),ye=(At,qt)=>{const Dn=mn=>{const sn=vue(mn,{closeWindow:()=>{Pl.hide(sn.dialog),qt(sn.instanceApi)}},u,o.backstages.dialog);return Pl.show(sn.dialog),sn.instanceApi};return zn.openUrl(Dn,At)},Ae=(At,qt)=>{const Dn=(mn,sn,kn)=>{const Zn=sn,Gn=Vi({dataValidator:kn,initialData:Zn,internalDialog:mn},{redial:zn.redial,closeWindow:()=>{Pl.hide(Gn.dialog),qt(Gn.instanceApi)}},o.backstages.dialog);return Pl.show(Gn.dialog),Gn.instanceApi.setData(Zn),Gn.instanceApi};return zn.open(Dn,At)},Ne=(At,qt,Dn,mn)=>{const sn=(kn,Zn,mr)=>{const Gn=yue(Zn,mr),Or=ps(),Mr=o.backstages.popup.shared.header.isPositionedAtTop(),is={dataValidator:mr,initialData:Gn,internalDialog:kn},Gr=()=>Or.on(Co=>{ai.reposition(Co),(!p||!Mr)&&Fi.refresh(Co)}),No=nu(is,{redial:zn.redial,closeWindow:()=>{Or.on(ai.hide),u.off("ResizeEditor",Gr),Or.clear(),Dn(No.instanceApi)}},o.backstages.popup,mn.ariaAttrs,Gr),Ro=uc(ai.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:mn.persistent?{event:"doNotDismissYet"}:{},...Mr?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pr([Jo("window-manager-inline-events",[qn(Ng(),(Co,Bs)=>{As(No.dialog,y0)})]),...Mxe(u,p,Mr)]),isExtraPart:(Co,Bs)=>bue(Bs)}));Or.set(Ro);const ra=()=>{const Co=u.inline?ba():zt.fromDom(u.getContainer()),Bs=hi(Co);return L.some(Bs)};return ai.showWithinBounds(Ro,lf(No.dialog),{anchor:qt},ra),(!p||!Mr)&&(Fi.refresh(Ro),u.on("ResizeEditor",Gr)),No.instanceApi.setData(Gn),yo.focusIn(No.dialog),No.instanceApi};return zn.open(sn,At)},Ue=(At,qt,Dn,mn)=>{const sn=(kn,Zn,mr)=>{const Gn=yue(Zn,mr),Or=ps(),Mr=o.backstages.popup.shared.header.isPositionedAtTop(),is={dataValidator:mr,initialData:Gn,internalDialog:kn},Gr=()=>Or.on(Co=>{ai.reposition(Co),Fi.refresh(Co)}),No=nu(is,{redial:zn.redial,closeWindow:()=>{Or.on(ai.hide),u.off("ResizeEditor ScrollWindow ElementScroll",Gr),Or.clear(),Dn(No.instanceApi)}},o.backstages.popup,mn.ariaAttrs,Gr),Ro=uc(ai.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:mn.persistent?{event:"doNotDismissYet"}:{},...Mr?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pr([Jo("window-manager-inline-events",[qn(Ng(),(Co,Bs)=>{As(No.dialog,y0)})]),Fi.config({contextual:{lazyContext:()=>L.some(hi(zt.fromDom(u.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Co=>v0(u,Co.element).map(Pr=>({bounds:kx(Pr),optScrollEnv:L.some({currentScrollTop:Pr.element.dom.scrollTop,scrollElmTop:Rl(Pr.element).top})})).getOrThunk(()=>({bounds:Xl(),optScrollEnv:L.none()}))})]),isExtraPart:(Co,Bs)=>bue(Bs)}));Or.set(Ro);const ra=()=>o.backstages.popup.shared.getSink().toOptional().bind(Co=>{const Bs=v0(u,Co.element),Pr=15,oo=Bs.map(To=>kx(To)).getOr(Xl()),Bo=hi(zt.fromDom(u.getContentAreaContainer())),Fo=Sy(Bo,oo);return L.some(ni(Fo.x,Fo.y,Fo.width,Fo.height-Pr))});return ai.showWithinBounds(Ro,lf(No.dialog),{anchor:qt},ra),Fi.refresh(Ro),u.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Gr),No.instanceApi.setData(Gn),yo.focusIn(No.dialog),No.instanceApi};return zn.open(sn,At)};return{open:H,openUrl:K,alert:(At,qt)=>{S.open(At,qt)},close:At=>{At.close()},confirm:(At,qt)=>{R.open(At,qt)}}},_xe=o=>{PL(o),ZX(o),Yte(o)};var Rxe=()=>{Eg.add("silver",o=>{_xe(o);let u=()=>Xl();const{dialogs:p,popups:S,renderUI:R}=Une(o,{getPopupSinkBounds:()=>u()}),H=()=>{const Ae=R();return v0(o,S.getMothership().element).each(Ue=>{u=()=>kx(Ue)}),Ae};DG.register(o,S.backstage.shared);const K=Exe({editor:o,backstages:{popup:S.backstage,dialog:p.backstage}}),ye=()=>sM(o,{backstage:S.backstage},S.getMothership());return{renderUI:H,getWindowManagerImpl:Q(K),getNotificationManagerImpl:ye}})};Rxe()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=M=>{let I=M;return{get:()=>I,set:Q=>{I=Q}}};var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=M=>()=>M;var a=tinymce.util.Tools.resolve("tinymce.Env");const i=M=>M.dispatch("ResizeEditor"),f=M=>I=>I.options.get(M),d=M=>{const I=M.options.register;I("autoresize_overflow_padding",{processor:"number",default:1}),I("autoresize_bottom_margin",{processor:"number",default:50})},h=f("min_height"),c=f("max_height"),g=f("autoresize_overflow_padding"),v=f("autoresize_bottom_margin"),y=M=>M.plugins.fullscreen&&M.plugins.fullscreen.isFullscreen(),b=(M,I)=>{const V=M.getBody();V&&(V.style.overflowY=I?"":"hidden",I||(V.scrollTop=0))},O=(M,I,V,N)=>{var Q;const z=parseInt((Q=M.getStyle(I,V,N))!==null&&Q!==void 0?Q:"",10);return isNaN(z)?0:z},T=M=>{if((M==null?void 0:M.type.toLowerCase())==="setcontent"){const I=M;return I.selection===!0||I.paste===!0}else return!1},k=(M,I,V,N)=>{var Q;const z=M.dom,U=M.getDoc();if(!U)return;if(y(M)){b(M,!0);return}const F=U.documentElement,B=N?N():g(M),E=(Q=h(M))!==null&&Q!==void 0?Q:M.getElement().offsetHeight;let W=E;const X=O(z,F,"margin-top",!0),ie=O(z,F,"margin-bottom",!0);let L=F.offsetHeight+X+ie+B;L<0&&(L=0);const me=M.getContainer().offsetHeight,ae=M.getContentAreaContainer().offsetHeight,q=me-ae;L+q>E&&(W=L+q);const de=c(M);if(de&&W>de?(W=de,b(M,!0)):b(M,!1),W!==I.get()){const ee=W-I.get();if(z.setStyle(M.getContainer(),"height",W+"px"),I.set(W),i(M),a.browser.isSafari()&&(a.os.isMacOS()||a.os.isiOS())){const xe=M.getWin();xe.scrollTo(xe.pageXOffset,xe.pageYOffset)}M.hasFocus()&&T(V)&&M.selection.scrollIntoView(),(a.browser.isSafari()||a.browser.isChromium())&&ee<0&&k(M,I,V,N)}},w=(M,I)=>{let V=()=>v(M),N,Q;M.on("init",z=>{N=0;const U=g(M),F=M.dom;F.setStyles(M.getDoc().documentElement,{height:"auto"}),a.browser.isEdge()||a.browser.isIE()?F.setStyles(M.getBody(),{paddingLeft:U,paddingRight:U,"min-height":0}):F.setStyles(M.getBody(),{paddingLeft:U,paddingRight:U}),k(M,I,z,V),N+=1}),M.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",z=>{if(N===1)Q=M.getContainer().offsetHeight,k(M,I,z,V),N+=1;else if(N===2){const U=Q<M.getContainer().offsetHeight;if(U){const F=M.dom,B=M.getDoc();F.setStyles(B.documentElement,{"min-height":0}),F.setStyles(M.getBody(),{"min-height":"inherit"})}V=U?r(0):V,N+=1}else k(M,I,z,V)})},C=(M,I)=>{M.addCommand("mceAutoResize",()=>{k(M,I)})};var _=()=>{e.add("autoresize",M=>{if(d(M),M.options.isSet("resize")||M.options.set("resize",!1),!M.inline){const I=t(0);C(M,I),w(M,I)}})};_()})();var uIe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],fIe=function(t){return uIe.map(function(e){return e.toLowerCase()}).indexOf(t.toLowerCase())!==-1},dIe=function(t,e,r){Object.keys(e).filter(fIe).forEach(function(a){var i=e[a];typeof i=="function"&&(a==="onInit"?i(t,r):r.on(a.substring(2),function(f){return i(f,r)}))})},hIe=function(t,e,r,a){var i=t.modelEvents?t.modelEvents:null,f=Array.isArray(i)?i.join(" "):i;zo(a,function(d,h){r&&typeof d=="string"&&d!==h&&d!==r.getContent({format:t.outputFormat})&&r.setContent(d)}),r.on(f||"change input undo redo",function(){e.emit("update:modelValue",r.getContent({format:t.outputFormat}))})},mIe=function(t,e,r,a,i,f){a.setContent(f()),r.attrs["onUpdate:modelValue"]&&hIe(e,r,a,i),dIe(t,r.attrs,a)},Bge=0,uxe=function(t){var e=Date.now(),r=Math.floor(Math.random()*1e9);return Bge++,t+"_"+r+Bge+String(e)},gIe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},Qge=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},pIe=function(t,e){return Qge(t).concat(Qge(e))},vIe=function(t){return t==null},Fge=function(){return{listeners:[],scriptId:uxe("tiny-script"),scriptLoaded:!1}},yIe=function(){var t=Fge(),e=function(i,f,d,h){var c=f.createElement("script");c.referrerPolicy="origin",c.type="application/javascript",c.id=i,c.src=d;var g=function(){c.removeEventListener("load",g),h()};c.addEventListener("load",g),f.head&&f.head.appendChild(c)},r=function(i,f,d){t.scriptLoaded?d():(t.listeners.push(d),i.getElementById(t.scriptId)||e(t.scriptId,i,f,function(){t.listeners.forEach(function(h){return h()}),t.scriptLoaded=!0}))},a=function(){t=Fge()};return{load:r,reinitialize:a}},bIe=yIe(),OIe=function(){return typeof window<"u"?window:global},xT=function(){var t=OIe();return t&&t.tinymce?t.tinymce:null},xIe={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},Z0=globalThis&&globalThis.__assign||function(){return Z0=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Z0.apply(this,arguments)},SIe=function(t,e,r,a){return t(a||"div",{id:e,ref:r})},wIe=function(t,e,r){return t("textarea",{id:e,visibility:"hidden",ref:r})},Noe={selector:void 0,target:void 0},CIe=iy({props:xIe,setup:function(t,e){var r=t.init?Z0(Z0({},t.init),Noe):Z0({},Noe),a=SU(t),i=a.disabled,f=a.modelValue,d=a.tagName,h=bo(null),c=null,g=t.id||uxe("tiny-vue"),v=t.init&&t.init.inline||t.inline,y=!!e.attrs["onUpdate:modelValue"],b=!0,O=t.initialValue?t.initialValue:"",T="",k=function(_){return y?function(){return f!=null&&f.value?f.value:""}:function(){return _?O:T}},w=function(){var _=k(b),M=Z0(Z0({},r),{readonly:t.disabled,target:h.value,plugins:pIe(r.plugins,t.plugins),toolbar:t.toolbar||r.toolbar,inline:v,setup:function(I){c=I,I.on("init",function(V){return mIe(V,t,e,I,f,_)}),typeof r.setup=="function"&&r.setup(I)}});gIe(h.value)&&(h.value.style.visibility=""),xT().init(M),b=!1};zo(i,function(_){var M;c!==null&&(typeof((M=c.mode)===null||M===void 0?void 0:M.set)=="function"?c.mode.set(_?"readonly":"design"):c.setMode(_?"readonly":"design"))}),zo(d,function(_){var M;y||(T=c.getContent()),(M=xT())===null||M===void 0||M.remove(c),wl(function(){return w()})}),Sg(function(){if(xT()!==null)w();else if(h.value&&h.value.ownerDocument){var _=t.cloudChannel?t.cloudChannel:"6",M=t.apiKey?t.apiKey:"no-api-key",I=vIe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(M,"/tinymce/").concat(_,"/tinymce.min.js"):t.tinymceScriptSrc;bIe.load(h.value.ownerDocument,I,w)}}),vm(function(){xT()!==null&&xT().remove(c)}),v||(sie(function(){b||w()}),aie(function(){var _;y||(T=c.getContent()),(_=xT())===null||_===void 0||_.remove(c)}));var C=function(_){var M;T=c.getContent(),(M=xT())===null||M===void 0||M.remove(c),r=Z0(Z0(Z0({},r),_),Noe),wl(function(){return w()})};return e.expose({rerender:C,getEditor:function(){return c}}),function(){return v?SIe(mm,g,h,t.tagName):wIe(mm,g,h)}}});const TIe={components:{cell:iW,"tiny-editor":CIe},props:{cellData:{type:Object,required:!0}},inheritAttrs:!1,emits:["saveCell","deleteCell","createCell"],data(){return{init:{plugins:"autoresize",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl",branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }",autoresize_bottom_margin:10,min_height:100},app_init:{plugins:"autoresize",toolbar:!1,branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }"},items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},computed:{isAppRoute(){return YT().path==="/app"},isMobile(){return this.$vuetify.display.mobile}},mounted(){},methods:{saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)}}};function kIe(t,e,r,a,i,f){const d=Kf("tiny-editor"),h=Kf("cell");return zr(),fs(h,{"cell-type":"text","cell-id":r.cellData.id,"is-dev-mode":t.$devMode&&!f.isAppRoute&&!f.isMobile,onSave:f.saveCell,onDelete:f.deleteCell,onAddCell:e[2]||(e[2]=c=>f.createCell(c))},T3e({code:so(()=>[t.$devMode&&!f.isAppRoute&&!f.isMobile?(zr(),fs(d,{key:0,modelValue:r.cellData.code,"onUpdate:modelValue":e[0]||(e[0]=c=>r.cellData.code=c),init:i.init,onKeyUp:f.saveCell},null,8,["modelValue","init","onKeyUp"])):Ja("",!0)]),_:2},[t.$devMode&&f.isAppRoute||!t.$devMode?{name:"outcome",fn:so(()=>[at(d,{modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=c=>r.cellData.code=c),init:i.app_init,disabled:!0},null,8,["modelValue","init"])]),key:"0"}:void 0]),1032,["cell-id","is-dev-mode","onSave","onDelete"])}const fxe=wg(TIe,[["render",kIe]]),AIe=36,Vge=1,PIe=2,LR=3,Boe=4,MIe=5,EIe=6,_Ie=7,RIe=8,DIe=9,$Ie=10,LIe=11,IIe=12,NIe=13,BIe=14,QIe=15,FIe=16,VIe=17,zge=18,zIe=19,dxe=20,hxe=21,Zge=22,ZIe=23,HIe=24;function Eae(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function UIe(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function wT(t,e,r){for(let a=!1;;){if(t.next<0)return;if(t.next==e&&!a){t.advance();return}a=r&&!a&&t.next==92,t.advance()}}function WIe(t){for(;;){if(t.next<0||t.peek(1)<0)return;if(t.next==36&&t.peek(1)==36){t.advance(2);return}t.advance()}}function YIe(t,e){let r="[{<(".indexOf(String.fromCharCode(e)),a=r<0?e:"]}>)".charCodeAt(r);for(;;){if(t.next<0)return;if(t.next==a&&t.peek(1)==39){t.advance(2);return}t.advance()}}function mxe(t,e){for(;!(t.next!=95&&!Eae(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function XIe(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),wT(t,e,!1)}else mxe(t)}function Hge(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function Uge(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function Wge(t){for(;!(t.next<0||t.next==10);)t.advance()}function ST(t,e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)==t)return!0;return!1}const Qoe=` 	\r
`;function gxe(t,e,r){let a=Object.create(null);a.true=a.false=MIe,a.null=a.unknown=EIe;for(let i of t.split(" "))i&&(a[i]=dxe);for(let i of e.split(" "))i&&(a[i]=hxe);for(let i of(r||"").split(" "))i&&(a[i]=HIe);return a}const GIe="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",jIe="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",_ae={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',words:gxe(jIe,GIe)};function qIe(t,e,r,a){let i={};for(let f in _ae)i[f]=(t.hasOwnProperty(f)?t:_ae)[f];return e&&(i.words=gxe(e,r||"",a)),i}function pxe(t){return new xh(e=>{var r;let{next:a}=e;if(e.advance(),ST(a,Qoe)){for(;ST(e.next,Qoe);)e.advance();e.acceptToken(AIe)}else if(a==36&&e.next==36&&t.doubleDollarQuotedStrings)WIe(e),e.acceptToken(LR);else if(a==39||a==34&&t.doubleQuotedStrings)wT(e,a,t.backslashEscapes),e.acceptToken(LR);else if(a==35&&t.hashComments||a==47&&e.next==47&&t.slashComments)Wge(e),e.acceptToken(Vge);else if(a==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))Wge(e),e.acceptToken(Vge);else if(a==47&&e.next==42){e.advance();for(let i=1;;){let f=e.next;if(e.next<0)break;if(e.advance(),f==42&&e.next==47){if(i--,e.advance(),!i)break}else f==47&&e.next==42&&(i++,e.advance())}e.acceptToken(PIe)}else if((a==101||a==69)&&e.next==39)e.advance(),wT(e,39,!0);else if((a==110||a==78)&&e.next==39&&t.charSetCasts)e.advance(),wT(e,39,t.backslashEscapes),e.acceptToken(LR);else if(a==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),wT(e,39,t.backslashEscapes),e.acceptToken(LR);break}if(!Eae(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(a==113||a==81)&&e.next==39&&e.peek(1)>0&&!ST(e.peek(1),Qoe)){let i=e.peek(1);e.advance(2),YIe(e,i),e.acceptToken(LR)}else if(a==40)e.acceptToken(_Ie);else if(a==41)e.acceptToken(RIe);else if(a==123)e.acceptToken(DIe);else if(a==125)e.acceptToken($Ie);else if(a==91)e.acceptToken(LIe);else if(a==93)e.acceptToken(IIe);else if(a==59)e.acceptToken(NIe);else if(t.unquotedBitLiterals&&a==48&&e.next==98)e.advance(),Hge(e),e.acceptToken(Zge);else if((a==98||a==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(wT(e,i,t.backslashEscapes),e.acceptToken(ZIe)):(Hge(e,i),e.acceptToken(Zge))}else if(a==48&&(e.next==120||e.next==88)||(a==120||a==88)&&e.next==39){let i=e.next==39;for(e.advance();UIe(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Boe)}else if(a==46&&e.next>=48&&e.next<=57)Uge(e,!0),e.acceptToken(Boe);else if(a==46)e.acceptToken(BIe);else if(a>=48&&a<=57)Uge(e,!1),e.acceptToken(Boe);else if(ST(a,t.operatorChars)){for(;ST(e.next,t.operatorChars);)e.advance();e.acceptToken(QIe)}else if(ST(a,t.specialVar))e.next==a&&e.advance(),XIe(e),e.acceptToken(VIe);else if(ST(a,t.identifierQuotes))wT(e,a,!1),e.acceptToken(zIe);else if(a==58||a==44)e.acceptToken(FIe);else if(Eae(a)){let i=mxe(e,String.fromCharCode(a));e.acceptToken(e.next==46?zge:(r=t.words[i.toLowerCase()])!==null&&r!==void 0?r:zge)}})}const vxe=pxe(_ae),KIe=IS.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:"⚠ LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,vxe],topRules:{Script:[0,25]},tokenPrec:0});function Rae(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function zD(t,e){let r=t.sliceString(e.from,e.to),a=/^([`'"])(.*)\1$/.exec(r);return a?a[2]:r}function uU(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function JIe(t,e){if(e.name=="CompositeIdentifier"){let r=[];for(let a=e.firstChild;a;a=a.nextSibling)uU(a)&&r.push(zD(t,a));return r}return[zD(t,e)]}function Yge(t,e){for(let r=[];;){if(!e||e.name!=".")return r;let a=Rae(e);if(!uU(a))return r;r.unshift(zD(t,a)),e=Rae(a)}}function eNe(t,e){let r=al(t).resolveInner(e,-1),a=nNe(t.doc,r);return r.name=="Identifier"||r.name=="QuotedIdentifier"||r.name=="Keyword"?{from:r.from,quoted:r.name=="QuotedIdentifier"?t.doc.sliceString(r.from,r.from+1):null,parents:Yge(t.doc,Rae(r)),aliases:a}:r.name=="."?{from:e,quoted:null,parents:Yge(t.doc,r),aliases:a}:{from:e,quoted:null,parents:[],empty:!0,aliases:a}}const tNe=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function nNe(t,e){let r;for(let i=e;!r;i=i.parent){if(!i)return null;i.name=="Statement"&&(r=i)}let a=null;for(let i=r.firstChild,f=!1,d=null;i;i=i.nextSibling){let h=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,c=null;if(!f)f=h=="from";else if(h=="as"&&d&&uU(i.nextSibling))c=zD(t,i.nextSibling);else{if(h&&tNe.has(h))break;d&&uU(i)&&(c=zD(t,i))}c&&(a||(a=Object.create(null)),a[c]=JIe(t,d)),d=/Identifier$/.test(i.name)?i:null}return a}function rNe(t,e){return t?e.map(r=>Object.assign(Object.assign({},r),{label:t+r.label+t,apply:void 0})):e}const oNe=/^\w*$/,sNe=/^[`'"]?\w*[`'"]?$/;class sce{constructor(){this.list=[],this.children=void 0}child(e,r){let a=this.children||(this.children=Object.create(null)),i=a[e];return i||(e&&this.list.push(yxe(e,"type",r)),a[e]=new sce)}addCompletions(e){for(let r of e){let a=this.list.findIndex(i=>i.label==r.label);a>-1?this.list[a]=r:this.list.push(r)}}}function yxe(t,e,r){return/[^\w\xb5-\uffff]/.test(t)?{label:t,type:e,apply:r+t+r}:{label:t,type:e}}function aNe(t,e,r,a,i,f){var d;let h=new sce,c=((d=f==null?void 0:f.spec.identifierQuotes)===null||d===void 0?void 0:d[0])||'"',g=h.child(i||"",c);for(let v in t){let y=v.replace(/\\?\./g,O=>O=="."?"\0":O).split("\0"),b=y.length==1?g:h;for(let O of y)b=b.child(O.replace(/\\\./g,"."),c);for(let O of t[v])O&&b.list.push(typeof O=="string"?yxe(O,"property",c):O)}return e&&g.addCompletions(e),r&&h.addCompletions(r),h.addCompletions(g.list),a&&h.addCompletions(g.child(a,c).list),v=>{let{parents:y,from:b,quoted:O,empty:T,aliases:k}=eNe(v.state,v.pos);if(T&&!v.explicit)return null;k&&y.length==1&&(y=k[y[0]]||y);let w=h;for(let M of y){for(;!w.children||!w.children[M];)if(w==h)w=g;else if(w==g&&a)w=w.child(a,c);else return null;w=w.child(M,c)}let C=O&&v.state.sliceDoc(v.pos,v.pos+1)==O,_=w.list;return w==h&&k&&(_=_.concat(Object.keys(k).map(M=>({label:M,type:"constant"})))),{from:b,to:C?v.pos+1:void 0,options:rNe(O,_),validFor:O?sNe:oNe}}}function iNe(t,e){let r=Object.keys(t).map(a=>({label:e?a.toUpperCase():a,type:t[a]==hxe?"type":t[a]==dxe?"keyword":"variable",boost:-1}));return Gie(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],VU(r))}let lNe=KIe.configure({props:[GT.add({Statement:eD()}),FS.add({Statement(t){return{from:t.firstChild.to,to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),QS({Keyword:Qt.keyword,Type:Qt.typeName,Builtin:Qt.standard(Qt.name),Bits:Qt.number,Bytes:Qt.string,Bool:Qt.bool,Null:Qt.null,Number:Qt.number,String:Qt.string,Identifier:Qt.name,QuotedIdentifier:Qt.special(Qt.string),SpecialVar:Qt.special(Qt.name),LineComment:Qt.lineComment,BlockComment:Qt.blockComment,Operator:Qt.operator,"Semi Punctuation":Qt.punctuation,"( )":Qt.paren,"{ }":Qt.brace,"[ ]":Qt.squareBracket})]});class ace{constructor(e,r,a){this.dialect=e,this.language=r,this.spec=a}get extension(){return this.language.extension}static define(e){let r=qIe(e,e.keywords,e.types,e.builtin),a=$S.define({name:"sql",parser:lNe.configure({tokenizers:[{from:vxe,to:pxe(r)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new ace(r,a,e)}}function cNe(t,e=!1){return iNe(t.dialect.words,e)}function uNe(t,e=!1){return t.language.data.of({autocomplete:cNe(t,e)})}function fNe(t){return t.schema?aNe(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||ice):()=>null}function dNe(t){return t.schema?(t.dialect||ice).language.data.of({autocomplete:fNe(t)}):[]}function Xge(t={}){let e=t.dialect||ice;return new FT(e.language,[dNe(t),uNe(e,!!t.upperCaseKeywords)])}const ice=ace.define({}),hNe={components:{cell:iW,codemirror:HU,"v-data-table":Yle},computed:{isAppRoute(){return YT().path==="/app"},isMobile(){return this.$vuetify.display.mobile},extensions(){const t=()=>{this.runCode()},e=RO.of([{key:"Ctrl-Enter",run:()=>(this.$devMode&&t(),!0)}]);return this.$devMode?[Og.highest(e),Xge(),O8,zT({override:[]})]:[Na.readOnly.of(!0),Og.highest(e),Xge(),O8,zT({override:[]})]}},inheritAttrs:!1,emits:["runCode","deleteCell","createCell","saveCell"],data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},props:{cellData:{type:Object,required:!0}},setup(){const t=us(null);return{view:t,handleReady:r=>{t.value=r.view}}},mounted(){},methods:{runCode(){this.$emit("runCode",this.cellData.id)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(t){this.$emit("createCell",this.cellData.id,t)},saveCell(){this.$devMode&&this.$emit("saveCell",this.cellData.id,this.cellData.code,"","")}}},mNe={key:3},gNe=Ya("p",{class:"text-caption text-disabled text-right"},"CTRL+Enter to run",-1),pNe=[gNe],vNe={class:"text-p"};function yNe(t,e,r,a,i,f){const d=Kf("codemirror"),h=Kf("cell");return zr(),fs(h,{"cell-type":"sql","cell-id":r.cellData.id,"is-dev-mode":t.$devMode&&!f.isAppRoute&&!f.isMobile,onPlay:f.runCode,onDelete:f.deleteCell,onAddCell:e[4]||(e[4]=c=>f.createCell(c))},{code:so(()=>[t.$devMode&&!f.isAppRoute&&!f.isMobile?(zr(),fs(gm,{key:0,modelValue:r.cellData.variable_name,"onUpdate:modelValue":e[0]||(e[0]=c=>r.cellData.variable_name=c),label:"Enter SQL variable name",density:"compact"},null,8,["modelValue"])):Ja("",!0),t.$devMode&&!f.isAppRoute&&!f.isMobile?(zr(),fs(d,{key:1,modelValue:r.cellData.code,"onUpdate:modelValue":e[1]||(e[1]=c=>r.cellData.code=c),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:f.extensions,onKeyup:f.saveCell},null,8,["modelValue","extensions","onKeyup"])):(zr(),fs(vOe,{key:2},{default:so(()=>[at(bOe,{"bg-color":"#212121"},{default:so(()=>[at(zle,{color:"#1c2e3c"},{default:so(()=>[xl(" View Source Code ")]),_:1}),at(Vle,null,{default:so(()=>[at(gm,{modelValue:r.cellData.variable_name,"onUpdate:modelValue":e[2]||(e[2]=c=>r.cellData.variable_name=c),label:"Enter SQL variable name",density:"compact",readonly:!0},null,8,["modelValue"]),at(d,{modelValue:r.cellData.code,"onUpdate:modelValue":e[3]||(e[3]=c=>r.cellData.code=c),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:f.extensions},null,8,["modelValue","extensions"])]),_:1})]),_:1})]),_:1})),t.$devMode&&!f.isAppRoute&&!f.isMobile?(zr(),Js("div",mNe,pNe)):Ja("",!0)]),outcome:so(()=>[t.$devMode&&!f.isAppRoute&&!f.isMobile?(zr(!0),Js(es,{key:0},lm(r.cellData.components,c=>(zr(),fs(tU,{key:c.id},{default:so(()=>[(zr(),fs(gg(c.component),ts(c,{modelValue:c.value,"onUpdate:modelValue":g=>c.value=g},{[G0(c.triggerEvent)]:f.runCode}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1024))),128)):Ja("",!0),Ya("div",vNe,Pd(r.cellData.output),1)]),_:1},8,["cell-id","is-dev-mode","onPlay","onDelete"])}const bxe=wg(hNe,[["render",yNe]]),bNe={components:{codemirror:HU},data:()=>({updatingDependencies:!1,ztAliases:ph}),props:{dependencies:{type:Object,required:!0}},computed:{extensions(){return[lxe(),O8,zT({override:[]})]}},methods:{async updateDependencies(){const t={dependencies:this.dependencies.value};await Tf.post("api/dependency_update",t),this.updatingDependencies=!1}}},ONe=Ya("span",{class:"text-h5"},"Add Dependencies",-1);function xNe(t,e,r,a,i,f){const d=Kf("codemirror");return zr(),fs(pOe,{modelValue:t.updatingDependencies,"onUpdate:modelValue":e[2]||(e[2]=h=>t.updatingDependencies=h),persistent:"",width:"1024"},{activator:so(({props:h})=>[at(yi,ts(h,{icon:`ztIcon:${t.ztAliases.settings}`}),null,16,["icon"])]),default:so(()=>[at(f$,null,{default:so(()=>[at(Qle,null,{default:so(()=>[ONe]),_:1}),t.$devMode?(zr(),fs(d,{key:0,modelValue:r.dependencies.value,"onUpdate:modelValue":e[0]||(e[0]=h=>r.dependencies.value=h),style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,viewportMargin:1/0,extensions:f.extensions},null,8,["modelValue","extensions"])):Ja("",!0),at(lOe,null,{default:so(()=>[at(z_e),at(yi,{color:"blue-darken-1",variant:"text",onClick:e[1]||(e[1]=h=>t.updatingDependencies=!1)},{default:so(()=>[xl(" Close ")]),_:1}),at(yi,{color:"blue-darken-1",variant:"text",onClick:f.updateDependencies},{default:so(()=>[xl(" Update ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Oxe=wg(bNe,[["render",xNe]]),SNe={props:{notebook:{type:Object,required:!0},completions:{type:Object,required:!0}},inheritAttrs:!1,emits:["runCode","deleteCell","saveCell","createCell","componentValueChange","copilotCompletion"],components:{"add-cell":Xle,CodeComponent:qOe,MarkdownComponent:cxe,EditorComponent:fxe,SQLComponent:bxe,PackageComponent:Oxe},data(){return{menu_items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}],concatenatedCodeCache:{lastCellId:"",code:"",length:0}}},computed:{isAppRoute(){return YT().path==="/app"}},methods:{getComponent(t){switch(t){case"code":return"CodeComponent";case"text":return"EditorComponent";case"markdown":return"MarkdownComponent";case"sql":return"SQLComponent";default:throw new Error(`Unknown component type: ${t}`)}},runCode(t,e,r){this.$emit("runCode",t,e)},deleteCell(t){this.$emit("deleteCell",t)},saveCell(t,e,r,a){this.$emit("saveCell",t,e,r,a)},createCodeCell(t,e){this.$emit("createCell",t,e)},componentValueChange(t,e,r){this.$emit("componentValueChange",t,e,r)},copilotCompletion(t,e,r,a){this.$emit("copilotCompletion",t,e,r,a)}}};function wNe(t,e,r,a,i,f){const d=Kf("add-cell");return zr(),Js(es,null,[at(tU,null,{default:so(()=>[t.$devMode&&!f.isAppRoute?(zr(),fs(d,{key:0,onCreateCodeCell:e[0]||(e[0]=h=>f.createCodeCell("",h))})):Ja("",!0)]),_:1}),(zr(!0),Js(es,null,lm(r.notebook.cells,h=>(zr(),fs(tU,null,{default:so(()=>[h.cellType==="code"?(zr(),fs(gg(f.getComponent(h.cellType)),{key:0,cellData:h,completions:r.completions[h.id],onRunCode:f.runCode,onSaveCell:f.saveCell,onComponentValueChange:f.componentValueChange,onDeleteCell:f.deleteCell,onCreateCell:f.createCodeCell,onCopilotCompletion:f.copilotCompletion},null,40,["cellData","completions","onRunCode","onSaveCell","onComponentValueChange","onDeleteCell","onCreateCell","onCopilotCompletion"])):(zr(),fs(gg(f.getComponent(h.cellType)),{key:1,cellData:h,onRunCode:f.runCode,onSaveCell:f.saveCell,onComponentValueChange:f.componentValueChange,onDeleteCell:f.deleteCell,onCreateCell:f.createCodeCell},null,40,["cellData","onRunCode","onSaveCell","onComponentValueChange","onDeleteCell","onCreateCell"]))]),_:2},1024))),256))],64)}const CNe=wg(SNe,[["render",wNe]]),TNe=iy({name:"SignInDialogComponent",setup(){const t=bo(!1),e=bo(!1),r=bo(!1),a=bo(null),i=async()=>{try{const y=await Tf.post("copilot/start_node_server",{});console.log("Node server started successfully",y)}catch(y){console.error("Error during starting the Node server:",y)}},f=async()=>{try{const y=await Tf.post("copilot/check_status",{});g(y.data)}catch(y){console.error("Error during initial status check:",y)}},d=async()=>{try{const y=await Tf.post("copilot/sign_in_initiate",{});g(y.data)}catch(y){console.error("Error during sign in initiation:",y)}},h=async()=>{try{const y=await Tf.post("copilot/sign_in_confirm",{userCode:a.value.userCode});g(y.data)}catch(y){console.error("Error during sign in confirmation:",y)}},c=async()=>{try{await Tf.post("copilot/sign_out",{}),r.value=!1,a.value=null,bae.copilot_active=!1}catch(y){console.error("Error during sign out:",y)}},g=y=>{a.value=y,y.status==="OK"||y.status==="AlreadySignedIn"?(r.value=!0,bae.copilot_active=!0):y.status==="NotSignedIn"&&(r.value=!1)};return{dialog:t,isSignedIn:r,serverStarted:e,signInData:a,signInInitiate:d,confirmSignIn:h,signOut:c,startServerAndCheckStatus:async()=>{try{await i(),setTimeout(async()=>{await f()},2500),e.value=!0}catch(y){console.error("Error during starting the server or checking status:",y)}}}}}),kNe=Ya("span",{class:"text-h4"},"GitHub Copilot ",-1),ANe={key:1},PNe={key:0},MNe=Ya("p",null,"Please go to the following URL and enter the code to sign in:",-1),ENe=Ya("strong",null,"URL:",-1),_Ne=["href"],RNe=Ya("strong",null,"Code:",-1),DNe={key:1},$Ne={key:2};function LNe(t,e,r,a,i,f){return zr(),fs(pOe,{modelValue:t.dialog,"onUpdate:modelValue":e[1]||(e[1]=d=>t.dialog=d),persistent:"","max-width":"400px"},{activator:so(({props:d})=>[at(yi,ts(d,{icon:""}),{default:so(()=>[at(ci,{icon:"mdi:mdi-account"})]),_:2},1040)]),default:so(()=>[at(f$,null,{default:so(()=>[at(Qle,null,{default:so(()=>[kNe]),_:1}),at(cOe,null,{default:so(()=>[t.serverStarted?t.serverStarted&&!t.isSignedIn?(zr(),Js("div",ANe,[t.signInData&&t.signInData.verificationUri&&t.signInData.userCode?(zr(),Js("div",PNe,[MNe,Ya("p",null,[ENe,Ya("a",{href:t.signInData.verificationUri,target:"_blank"},Pd(t.signInData.verificationUri),9,_Ne)]),Ya("p",null,[RNe,xl(" "+Pd(t.signInData.userCode),1)]),at(yi,{color:"primary",onClick:t.confirmSignIn},{default:so(()=>[xl("I Signed In")]),_:1},8,["onClick"])])):t.signInData&&t.signInData.status?(zr(),Js("div",DNe,[Ya("p",null,"Status: "+Pd(t.signInData.status),1),Ya("p",null,"User: "+Pd(t.signInData.user),1)])):(zr(),Js("div",$Ne,[at(yi,{color:"primary",onClick:t.signInInitiate},{default:so(()=>[xl("Sign In")]),_:1},8,["onClick"])]))])):t.isSignedIn?(zr(),fs(yi,{key:2,color:"primary",onClick:t.signOut},{default:so(()=>[xl("Sign Out")]),_:1},8,["onClick"])):Ja("",!0):(zr(),fs(yi,{key:0,color:"primary",onClick:t.startServerAndCheckStatus},{default:so(()=>[xl("Start Server ")]),_:1},8,["onClick"]))]),_:1}),at(yi,{class:"ma-2",icon:"mdi:mdi-close",variant:"plain",position:"absolute",location:"top right",onClick:e[0]||(e[0]=d=>t.dialog=!1)})]),_:1})]),_:1},8,["modelValue"])}const INe=wg(TNe,[["render",LNe]]),NNe={components:{CodeComponent:qOe,MarkdownComponent:cxe,EditorComponent:fxe,SQLComponent:bxe,PackageComponent:Oxe,CodeCellManager:CNe,CopilotComponent:INe},data(){return{editingProjectName:!1,notebook:{},notebookName:"",notebookEditName:"",dependencies:{},completions:{},ws_url:"",pythonVersion:"",ztVersion:"",notebook_socket:null,save_socket:null,run_socket:null,stop_socket:null,timer:0,timerInterval:null,isCodeRunning:!1,requestQueue:[],componentChangeQueue:[],concatenatedCodeCache:{lastCellId:"",code:"",followingCode:"",length:0},ztAliases:ph}},beforeMount(){window.addEventListener("beforeunload",this.clearState),window.addEventListener("unload",this.clearState)},beforeUnmount(){window.removeEventListener("beforeunload",this.clearState),window.removeEventListener("unload",this.clearState)},async mounted(){await this.get_env_data(),await this.initializeNotebookSocket(),await this.initializeRunSocket(),await this.initializeStopSocket(),this.$devMode&&await this.initializeSaveSocket(),this.isCodeRunning=!0,this.startTimer(),this.notebook_socket.send("")},computed:{isAppRoute(){return YT().path==="/app"},isMobile(){return this.$vuetify.display.mobile},cellLength(){return this.notebook.cells?Object.keys(this.notebook.cells).length:0},runningQueue(){return this.$devMode?this.requestQueue:this.componentChangeQueue},queueLength(){return this.runningQueue.length}},methods:{toggleProjectName(){this.editingProjectName=!this.editingProjectName,this.editingProjectName&&(this.notebookEditName=this.notebookName,wl(()=>{this.$refs.projectNameField.focus()}))},async saveProjectName(){const t={notebookName:this.notebookEditName};await Tf.post("api/notebook_name_update",t),this.notebookName=this.notebookEditName,document.title=this.notebookName,this.editingProjectName=!this.editingProjectName},startTimer(){this.timer=0,this.timerInterval=setInterval(()=>{this.timer++},1)},stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)},async get_env_data(){const e=(await Tf.get("env_data")).data;this.ws_url=e.ws_url||"ws://localhost:2613/",this.pythonVersion=e.python_version,this.ztVersion=e.zt_version},async runCode(t){if(!t)return;const e=[],r={};for(let i in this.notebook.cells){const f={id:i,code:this.notebook.cells[i].code,variable_name:this.notebook.cells[i].variable_name||"",cellType:this.notebook.cells[i].cellType};for(const d of this.notebook.cells[i].components)d.component==="v-data-table"?(console.log("v-data-table"),r[d.id]=""):r[d.id]=d.value;e.push(f)}const a={originId:t,cells:e,components:r};if(this.isCodeRunning){const i=this.requestQueue.findIndex(f=>f.originId===t);i!==-1?this.requestQueue[i]=a:this.requestQueue.push(a);return}this.sendRunCodeRequest(a)},sendRunCodeRequest(t){this.isCodeRunning=!0,this.startTimer(),this.run_socket.send(JSON.stringify(t))},initializeNotebookSocket(){return this.notebook_socket=new WebSocket(this.ws_url+"ws/notebook"),this.notebook_socket.onmessage=t=>{const e=JSON.parse(t.data);if(e.notebook_name)this.notebookName=e.notebook_name,document.title=this.notebookName;else if(e.cell_id)e.clear_output?this.notebook.cells[e.cell_id].output="":this.notebook.cells[e.cell_id].output=this.notebook.cells[e.cell_id].output.concat(e.output);else if(e.complete)this.isCodeRunning=!1,this.stopTimer();else{const r=typeof e=="string"?JSON.parse(e):e;if(r.notebook){this.notebook=r.notebook;for(let a in this.notebook.cells)this.notebook.cells[a].cellType==="code"&&(this.completions[a]=[]);this.dependencies=r.dependencies}else this.notebook.cells&&this.notebook.cells[r.id]&&(this.notebook.cells[r.id].components=r.components,this.notebook.cells[r.id].layout=r.layout)}},new Promise((t,e)=>{this.notebook_socket.onopen=()=>{console.log("Notebook socket connected"),t()},this.notebook_socket.onerror=r=>{console.error("Notebook socket connection error:",r),e(r)}})},initializeRunSocket(){return this.run_socket=this.$devMode?new WebSocket(this.ws_url+"ws/run_code"):new WebSocket(this.ws_url+"ws/component_run"),this.run_socket.onmessage=t=>{const e=JSON.parse(t.data);if(!this.$devMode&&e.refresh)this.notebookRefresh();else if(e.cell_id)e.clear_output?this.notebook.cells[e.cell_id].output="":this.notebook.cells[e.cell_id].output=this.notebook.cells[e.cell_id].output.concat(e.output);else if(e.complete){if(this.isCodeRunning=!1,this.stopTimer(),this.$devMode&&this.requestQueue.length>0){const r=this.requestQueue.shift()||{};this.sendRunCodeRequest(r)}else if(!this.$devMode&&this.componentChangeQueue.length>0){const r=this.componentChangeQueue.shift()||{},a={originId:r.originId,components:r.components,userId:r.userId};this.sendComponentRequest(a)}}else{const r=JSON.parse(e);this.notebook.cells[r.id].components=r.components,this.notebook.cells[r.id].layout=r.layout}},new Promise((t,e)=>{this.run_socket.onopen=()=>{console.log("Run socket connected"),t()},this.run_socket.onerror=r=>{console.error("Run socket connection error:",r),e(r)}})},initializeSaveSocket(){return this.save_socket=new WebSocket(this.ws_url+"ws/save_text"),this.save_socket.onmessage=t=>{try{const e=JSON.parse(t.data);this.completions[e.cell_id]=Array.isArray(e.completions)?e.completions:[]}catch(e){console.error("Error parsing server message:",e)}},new Promise((t,e)=>{this.save_socket.onopen=()=>{console.log("Save socket connected"),t()},this.save_socket.onerror=r=>{console.error("Save socket connection error:",r),e(r)}})},initializeStopSocket(){return this.stop_socket=new WebSocket(this.ws_url+"ws/stop_execution"),new Promise((t,e)=>{this.stop_socket.onopen=()=>{console.log("Stop socket connected"),t()},this.stop_socket.onerror=r=>{console.error("Stop socket connection error:",r),e(r)}})},async componentValueChange(t,e,r){const a={};for(let d in this.notebook.cells)for(const h of this.notebook.cells[d].components)h.component==="v-data-table"?a[h.id]="":a[h.id]=h.value;const i={originId:t,componentId:e,components:a,userId:this.notebook.userId};if(this.isCodeRunning){const d=this.componentChangeQueue.findIndex(h=>h.componentId===e);d!==-1?this.componentChangeQueue[d]=i:this.componentChangeQueue.push(i);return}const f={originId:i.originId,components:i.components,userId:i.userId};this.sendComponentRequest(f)},sendComponentRequest(t){this.isCodeRunning=!0,this.startTimer(),this.run_socket.send(JSON.stringify(t))},async notebookRefresh(){this.isCodeRunning=!0,this.startTimer(),this.notebook_socket.send("start")},navigateToApp(){window.open("https://zero-true.com/")},clearState:function(){const e={userId:this.notebook.userId};Tf.post("api/clear_state",e)},async createCodeCell(t,e){console.log("creating cell");const r={cellType:e.toLowerCase(),position_key:t},i=(await Tf.post("api/create_cell",r)).data;let f={};t||(f[i.id]=i);for(let d in this.notebook.cells)f[d]=this.notebook.cells[d],t===d&&(f[i.id]=i);i.cellType==="code"&&(this.completions[i.id]=[]),this.notebook.cells=f},async deleteCell(t){const e={cellId:t};await Tf.post("api/delete_cell",e),this.notebook.cells[t].cellType==="code"&&delete this.completions[t],delete this.notebook.cells[t]},async saveCell(t,e,r,a){if(this.notebook.cells[t].cellType==="code"&&this.concatenatedCodeCache.lastCellId!==t){let f="",d="",h=0,c=!0;for(let g in this.notebook.cells){if(g===t){c=!1;continue}this.notebook.cells[g].cellType==="code"&&(c?(f+=this.notebook.cells[g].code+`
`,h+=this.notebook.cells[g].code.split(/\r\n|\r|\n/).length):d+=this.notebook.cells[g].code+`
`)}this.concatenatedCodeCache={lastCellId:t,code:f,followingCode:d,length:h}}const i={id:t,text:e,cellType:this.notebook.cells[t].cellType,line:this.concatenatedCodeCache.length+r,column:a,code_w_context:this.concatenatedCodeCache.code+e+this.concatenatedCodeCache.followingCode};this.save_socket.send(JSON.stringify(i))},async copilotCompletion(t,e,r,a){if(this.concatenatedCodeCache.lastCellId!==t){let f="",d="",h=0,c=!0;for(let g in this.notebook.cells){if(g===t){c=!1;continue}this.notebook.cells[g].cellType==="code"&&(c?(f+=this.notebook.cells[g].code+`
`,h+=this.notebook.cells[g].code.split(/\r\n|\r|\n/).length):d+=this.notebook.cells[g].code+`
`)}this.concatenatedCodeCache={lastCellId:t,code:f,followingCode:d,length:h}}const i=await Tf.post("copilot/get_completions",{doc:{version:1,uri:"file:///notebook.ztnb",position:{line:this.concatenatedCodeCache.length+e,character:r}}});a(i)},async stopCodeExecution(){this.$devMode?(this.requestQueue=[],this.stop_socket.send("")):(this.componentChangeQueue=[],this.stop_socket.send(this.notebook.userId)),this.isCodeRunning=!1,this.stopTimer()},getComponent(t){switch(t){case"code":return"CodeComponent";case"text":return"EditorComponent";case"markdown":return"MarkdownComponent";case"sql":return"SQLComponent";default:throw new Error(`Unknown component type: ${t}`)}}}};const lce=t=>(qpe("data-v-0254b43e"),t=t(),Kpe(),t),BNe={class:"click-edit"},QNe={key:0,class:"click-edit__show-text"},FNe={class:"click-edit__name text-h5"},VNe={key:1,class:"click-edit__edit-field-wrapper"},zNe={key:0,class:"toggle-group"},ZNe={class:"footer__left-container"},HNe={class:"footer__right-container"},UNe={key:0,class:"footer__queue-length-wrapper"},WNe=lce(()=>Ya("span",{class:"text-bluegrey"},"Python #2",-1)),YNe={class:"footer__status-wrapper"},XNe={key:0,class:"footer__status"},GNe=lce(()=>Ya("span",null,"Running",-1)),jNe={key:1,class:"footer__status footer__status--error"},qNe=lce(()=>Ya("span",null,"Stopped",-1));function KNe(t,e,r,a,i,f){const d=Kf("CopilotComponent"),h=Kf("PackageComponent"),c=Kf("CodeCellManager");return zr(),fs(fEe,null,{default:so(()=>[at(TEe,{app:"",color:"bluegrey-darken-4","extension-height":"112",id:"appBar"},{append:so(()=>[at(Zle,{class:"d-flex justify-end"},{default:so(()=>[Ya("div",null,[t.$devMode&&!f.isAppRoute?(zr(),fs(d,{key:0})):Ja("",!0),t.$devMode&&!f.isAppRoute?(zr(),fs(h,{key:1,dependencies:i.dependencies},null,8,["dependencies"])):Ja("",!0)])]),_:1})]),default:so(()=>[at(yi,{size:"x-large",variant:"text",onClick:f.navigateToApp,id:"Navbutton"},{default:so(()=>[at(ci,{start:"",size:"x-large",icon:`ztIcon:${i.ztAliases.logo}`},null,8,["icon"])]),_:1},8,["onClick"]),Ya("div",BNe,[i.editingProjectName?Ja("",!0):(zr(),Js("div",QNe,[Ya("h5",FNe,Pd(i.notebookName??"Zero True"),1),t.$devMode&&!f.isAppRoute?(zr(),fs(yi,{key:0,color:"bluegrey-darken-1",icon:`ztIcon:${i.ztAliases.edit}`,onClick:f.toggleProjectName},null,8,["icon","onClick"])):Ja("",!0)])),i.editingProjectName?(zr(),Js("div",VNe,[at(gm,{modelValue:i.notebookEditName,"onUpdate:modelValue":e[0]||(e[0]=g=>i.notebookEditName=g),placeholder:"Zero True",density:"compact",variant:"plain","hide-details":"",ref:"projectNameField",class:"click-edit__edit-field"},null,8,["modelValue"]),at(yi,{color:"bluegrey-darken-1",icon:`ztIcon:${i.ztAliases.save}`,onClick:f.saveProjectName},null,8,["icon","onClick"]),at(yi,{color:"bluegrey-darken-1",icon:"$close",onClick:f.toggleProjectName},null,8,["onClick"])])):Ja("",!0)]),f.isMobile?Ja("",!0):(zr(),Js("div",zNe,[at(_Ee,{multiple:!1,mandatory:""},{default:so(()=>[at(yi,{color:f.isAppRoute?"bluegrey-darken-1":"primary",variant:f.isAppRoute?"text":"flat",class:u8({"text-bluegrey-darken-4":!f.isAppRoute}),"prepend-icon":`ztIcon:${i.ztAliases.notebook}`,to:"/"},{default:so(()=>[xl(" Notebook")]),_:1},8,["color","variant","class","prepend-icon"]),at(yi,{color:f.isAppRoute?"primary":"bluegrey-darken-1",variant:f.isAppRoute?"flat":"text",class:u8({"text-bluegrey-darken-4":f.isAppRoute}),"prepend-icon":`ztIcon:${i.ztAliases.monitor}`,to:"/app"},{default:so(()=>[xl("App")]),_:1},8,["color","variant","class","prepend-icon"])]),_:1})]))]),_:1}),at(H_e,{scrollable:!1},{default:so(()=>[at(c,{notebook:i.notebook,completions:i.completions,onRunCode:f.runCode,onSaveCell:f.saveCell,onComponentValueChange:f.componentValueChange,onDeleteCell:f.deleteCell,onCreateCell:f.createCodeCell,onCopilotCompletion:f.copilotCompletion},null,8,["notebook","completions","onRunCode","onSaveCell","onComponentValueChange","onDeleteCell","onCreateCell","onCopilotCompletion"])]),_:1}),at(__e,{app:"",class:"footer bg-bluegrey-darken-4 text-bluegrey"},{default:so(()=>[Ya("div",ZNe,[Ya("span",null,[at(ci,{class:"footer__code-version-icon",icon:`ztIcon:${i.ztAliases.cubic}`},null,8,["icon"]),Ya("span",null,"Python "+Pd(i.pythonVersion),1)]),at(ci,{class:"dot-divider",icon:`ztIcon:${i.ztAliases.dot}`},null,8,["icon"]),Ya("span",null,"Zero-True "+Pd(i.ztVersion),1),at(ci,{class:"dot-divider",icon:`ztIcon:${i.ztAliases.dot}`},null,8,["icon"]),Ya("span",null,Pd(f.cellLength)+" cells",1)]),Ya("div",HNe,[i.isCodeRunning?(zr(),Js("div",UNe,[at(xle,{indeterminate:"",color:"bluegrey",size:"17",class:"footer__code-running-loader",id:"codeRunProgress"}),at(nW,{density:"comfortable"},{default:so(()=>[xl(Pd(i.timer)+"ms",1)]),_:1}),at(yi,{class:"footer__queue-length-btn",density:"compact","append-icon":"mdi:mdi-chevron-down",rounded:"",disabled:f.queueLength===0,variant:"flat"},{default:so(()=>[xl(" Queue Length: "+Pd(f.queueLength)+" ",1),at(UT,{activator:"parent"},{default:so(()=>[at(HT,{class:"footer__queue-list"},{default:so(()=>[(zr(!0),Js(es,null,lm(f.runningQueue,(g,v)=>(zr(),fs(Md,{key:v,class:"footer__queue-list-item"},{append:so(()=>[at(ci,{icon:"$done",color:"success"})]),default:so(()=>[WNe]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["disabled"])])):Ja("",!0),Ya("div",YNe,[i.isCodeRunning?(zr(),Js("div",XNe,[at(ci,{icon:`ztIcon:${i.ztAliases.status}`},null,8,["icon"]),GNe])):Ja("",!0),i.isCodeRunning?Ja("",!0):(zr(),Js("div",jNe,[at(ci,{icon:`ztIcon:${i.ztAliases.status}`},null,8,["icon"]),qNe])),i.isCodeRunning?(zr(),fs(yi,{key:2,density:"comfortable",icon:`ztIcon:${i.ztAliases.stop}`,color:"bluegrey",variant:"plain",ripple:!1,onClick:e[1]||(e[1]=g=>f.stopCodeExecution()),rounded:""},null,8,["icon"])):Ja("",!0)])])]),_:1})]),_:1})}const JNe=wg(NNe,[["render",KNe],["__scopeId","data-v-0254b43e"]]);const eBe="modulepreload",tBe=function(t,e){return new URL(t,e).href},Gge={},Dae=function(e,r,a){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(f=>{if(f=tBe(f,a),f in Gge)return;Gge[f]=!0;const d=f.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!a)for(let v=i.length-1;v>=0;v--){const y=i[v];if(y.href===f&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${h}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":eBe,d||(g.as="script",g.crossOrigin=""),g.href=f,document.head.appendChild(g),d)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>e()).catch(f=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f})};async function nBe(){(await Dae(()=>import("./webfontloader-5a6ddee4.js").then(e=>e.w),[],import.meta.url)).load({google:{families:["Pathway+Extreme:100,300,400,500,700,900&display=swap"]}})}const $ae={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function rBe(t,e){const r=[];let a=[];const i=xxe(t),f=Sxe(t),d=(i.getDay()-$ae[e.slice(-2).toUpperCase()]+7)%7,h=(f.getDay()-$ae[e.slice(-2).toUpperCase()]+7)%7;for(let c=0;c<d;c++){const g=new Date(i);g.setDate(g.getDate()-(d-c)),a.push(g)}for(let c=1;c<=f.getDate();c++){const g=new Date(t.getFullYear(),t.getMonth(),c);a.push(g),a.length===7&&(r.push(a),a=[])}for(let c=1;c<7-h;c++){const g=new Date(f);g.setDate(g.getDate()+c),a.push(g)}return r.push(a),r}function xxe(t){return new Date(t.getFullYear(),t.getMonth(),1)}function Sxe(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function oBe(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const sBe=/([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))/;function aBe(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(sBe.test(t))return oBe(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const jge=new Date(2e3,0,2);function iBe(t){const e=$ae[t.slice(-2).toUpperCase()];return x8(7).map(r=>{const a=new Date(jge);return a.setDate(jge.getDate()+e+r),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(a)})}function lBe(t,e,r){const a=new Date(t);let i={};switch(e){case"fullDateWithWeekday":i={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":i={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":i={};break;case"monthAndDate":i={month:"long",day:"numeric"};break;case"monthAndYear":i={month:"long",year:"numeric"};break;case"dayOfMonth":i={day:"numeric"};break;case"shortDate":i={year:"numeric"};break;default:i={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(r,i).format(a)}function cBe(t,e){const r=new Date(t);return r.setDate(r.getDate()+e),r}function uBe(t,e){const r=new Date(t);return r.setMonth(r.getMonth()+e),r}function fBe(t){return t.getFullYear()}function dBe(t){return t.getMonth()}function hBe(t){return new Date(t.getFullYear(),0,1)}function mBe(t){return new Date(t.getFullYear(),11,31)}function gBe(t,e){return Lae(t,e[0])&&vBe(t,e[1])}function pBe(t){if(!t||t==null)return!1;const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Lae(t,e){return t.getTime()>e.getTime()}function vBe(t,e){return t.getTime()<e.getTime()}function qge(t,e){return t.getTime()===e.getTime()}function yBe(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function bBe(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function OBe(t,e,r){const a=new Date(t),i=new Date(e);return r==="month"?a.getMonth()-i.getMonth()+(a.getFullYear()-i.getFullYear())*12:Math.floor((a.getTime()-i.getTime())/(1e3*60*60*24))}function xBe(t,e){const r=new Date(t);return r.setFullYear(e),r}function SBe(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function wBe(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class CBe{constructor(e){this.locale=e.locale}date(e){return aBe(e)}toJsDate(e){return e}addDays(e,r){return cBe(e,r)}addMonths(e,r){return uBe(e,r)}getWeekArray(e){return rBe(e,this.locale)}startOfMonth(e){return xxe(e)}endOfMonth(e){return Sxe(e)}format(e,r){return lBe(e,r,this.locale)}isEqual(e,r){return qge(e,r)}isValid(e){return pBe(e)}isWithinRange(e,r){return gBe(e,r)}isAfter(e,r){return Lae(e,r)}isBefore(e,r){return!Lae(e,r)&&!qge(e,r)}isSameDay(e,r){return yBe(e,r)}isSameMonth(e,r){return bBe(e,r)}setYear(e,r){return xBe(e,r)}getDiff(e,r,a){return OBe(e,r,a)}getWeekdays(){return iBe(this.locale)}getYear(e){return fBe(e)}getMonth(e){return dBe(e)}startOfDay(e){return SBe(e)}endOfDay(e){return wBe(e)}startOfYear(e){return hBe(e)}endOfYear(e){return mBe(e)}}const Kge=Symbol.for("vuetify:date-adapter");function TBe(t){return _p({adapter:CBe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t)}function wxe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...r}=t,a=_p(e,r),{aliases:i={},components:f={},directives:d={}}=a,h=ZMe(a.defaults),c=W9e(a.display,a.ssr),g=cEe(a.theme),v=DEe(a.icons),y=aEe(a.locale),b=TBe(a.date);return{install:T=>{for(const k in d)T.directive(k,d[k]);for(const k in f)T.component(k,f[k]);for(const k in i)T.component(k,N8({...i[k],name:k,aliasName:i[k].name}));if(g.install(T),T.provide(C8,h),T.provide(gae,c),T.provide(jH,g),T.provide(lae,v),T.provide(GH,y),T.provide(Kge,b),Yl&&a.ssr)if(T.$nuxt)T.$nuxt.hook("app:suspense:resolve",()=>{c.update()});else{const{mount:k}=T;T.mount=function(){const w=k(...arguments);return wl(()=>c.update()),T.mount=k,w}}Vp.reset(),T.mixin({computed:{$vuetify(){return Ed({defaults:zP.call(this,C8),display:zP.call(this,gae),theme:zP.call(this,jH),icons:zP.call(this,lae),locale:zP.call(this,GH),date:zP.call(this,Kge)})}}})},defaults:h,display:c,theme:g,icons:v,locale:y,date:b}}const kBe="3.3.20";wxe.version=kBe;function zP(t){var a,i;const e=this.$,r=((a=e.parent)==null?void 0:a.provides)??((i=e.vnode.appContext)==null?void 0:i.provides);if(r&&t in r)return r[t]}const ABe=wxe({display:{mobileBreakpoint:"md"},defaults:{global:{elevation:0},VAppBar:{VBtn:{color:"white",ripple:!1}},VBtn:{style:[{"text-transform":"capitalize"}],color:"bluegrey-darken-2"},VBtnToggle:{density:"comfortable",VBtn:{style:[{borderRadius:"inherit"}],class:["text-bluegrey-darken-1"]}},VDivider:{class:"border-opacity-100"},VFooter:{VListItem:{minHeight:15}},VMenu:{contentClass:"zt-menu"},VSwitch:{baseColor:"bluegrey-darken-3",color:"primary",density:"compact",hideDetails:!0}},theme:{defaultTheme:"dark",themes:{dark:{dark:!0,colors:{background:"#0d1316",primary:"#ae9ee8",secondary:"#424242",surface:"#1B2F3C",bluegrey:"#5F7F93","bluegrey-darken-1":"#3A586B","bluegrey-darken-2":"#294455","bluegrey-darken-3":"#1B2F3C","bluegrey-darken-4":"#0E1B23",accent:"#FFDCA7",error:"#FF6F6F",info:"#4CBCFC",success:"#16B48E",warning:"#F49E6E",white:"#E7E8E9"}}}},icons:{defaultSet:"mdi",aliases:Cbe,sets:{mdi:Tbe,ztIcon:BRe}}}),Jge=[{path:"/",name:"/",component:()=>Dae(()=>import("./index-f9706708.js"),[],import.meta.url)},{path:"/app",name:"/app",component:()=>Dae(()=>import("./app-fc3bb840.js"),[],import.meta.url)}];function PBe(t){const{extendRoutes:e}=t;return VTe(Object.assign(t,{routes:typeof e=="function"?e(Jge):Jge}))}async function MBe(t){const r=(await Tf.get("base_path")).data,a=PBe({history:rTe(r)});nBe(),t.use(ABe).use(a)}const Foe=BCe(JNe);MBe(Foe).then(()=>{Foe.config.globalProperties.$devMode=!1,Foe.mount("#app")});export{CNe as C,wg as _,fs as c,ZTe as g,zr as o,Kf as r};
